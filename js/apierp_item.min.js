/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.9
*/

var _0x1cfd5d=_0x1821;(function(_0x4c1987,_0xa562d5){var _0x877c5d=_0x1821,_0x3415e6=_0x4c1987();while(!![]){try{var _0x155b69=-parseInt(_0x877c5d(0xce))/0x1*(-parseInt(_0x877c5d(0x188))/0x2)+-parseInt(_0x877c5d(0xcd))/0x3+-parseInt(_0x877c5d(0xc0))/0x4+-parseInt(_0x877c5d(0xc9))/0x5*(parseInt(_0x877c5d(0x1d6))/0x6)+parseInt(_0x877c5d(0x14b))/0x7+parseInt(_0x877c5d(0x1ce))/0x8*(parseInt(_0x877c5d(0x190))/0x9)+-parseInt(_0x877c5d(0x8c))/0xa*(parseInt(_0x877c5d(0x115))/0xb);if(_0x155b69===_0xa562d5)break;else _0x3415e6['push'](_0x3415e6['shift']());}catch(_0x28b8b7){_0x3415e6['push'](_0x3415e6['shift']());}}}(_0xa3ec,0x235e6));var _0x243654=(function(){var _0x554f79=!![];return function(_0x712e39,_0x28375d){var _0x1268a2=_0x554f79?function(){if(_0x28375d){var _0x627ea7=_0x28375d['apply'](_0x712e39,arguments);return _0x28375d=null,_0x627ea7;}}:function(){};return _0x554f79=![],_0x1268a2;};}()),_0x45efe0=_0x243654(this,function(){var _0x41f2d5=_0x1821;return _0x45efe0['toString']()[_0x41f2d5(0x1c0)](_0x41f2d5(0x1b3))[_0x41f2d5(0xef)]()[_0x41f2d5(0x9d)](_0x45efe0)[_0x41f2d5(0x1c0)]('(((.+)+)+)+$');});_0x45efe0();var _0x5dc9d0=(function(){var _0x21314f=!![];return function(_0x2ba8de,_0x39fd7b){var _0x215a52=_0x21314f?function(){if(_0x39fd7b){var _0x199de0=_0x39fd7b['apply'](_0x2ba8de,arguments);return _0x39fd7b=null,_0x199de0;}}:function(){};return _0x21314f=![],_0x215a52;};}()),_0x10a9d6=_0x5dc9d0(this,function(){var _0x5e8ed1=_0x1821,_0x30aeaa;try{var _0x3b6250=Function(_0x5e8ed1(0x161)+_0x5e8ed1(0xfc)+');');_0x30aeaa=_0x3b6250();}catch(_0x3b499e){_0x30aeaa=window;}var _0x31d264=_0x30aeaa[_0x5e8ed1(0x1aa)]=_0x30aeaa[_0x5e8ed1(0x1aa)]||{},_0x54fa24=[_0x5e8ed1(0x18c),'warn',_0x5e8ed1(0x149),_0x5e8ed1(0xc2),_0x5e8ed1(0x96),_0x5e8ed1(0xb1),'trace'];for(var _0x2bbf41=0x0;_0x2bbf41<_0x54fa24[_0x5e8ed1(0xfd)];_0x2bbf41++){var _0x2f03f6=_0x5dc9d0[_0x5e8ed1(0x9d)]['prototype']['bind'](_0x5dc9d0),_0x54197b=_0x54fa24[_0x2bbf41],_0x2a3f26=_0x31d264[_0x54197b]||_0x2f03f6;_0x2f03f6[_0x5e8ed1(0x15a)]=_0x5dc9d0[_0x5e8ed1(0x144)](_0x5dc9d0),_0x2f03f6[_0x5e8ed1(0xef)]=_0x2a3f26['toString'][_0x5e8ed1(0x144)](_0x2a3f26),_0x31d264[_0x54197b]=_0x2f03f6;}});_0x10a9d6();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x1cfd5d(0x92)),unitCount=0x0,branchesC=document[_0x1cfd5d(0xcf)]('newItem_branches_container'),prodC=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x1a6)),vgCount=0x0,varContainer=document['getElementById']('newItem_variants_forms'),vgC=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x1be));const fileInput=document[_0x1cfd5d(0xcf)]('file-input'),progressBar=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x199)),statusDiv=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x1cc)),uploadBtn=document[_0x1cfd5d(0xcf)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x1cfd5d(0xa5)),dropZone=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x178)),removeBtn=document[_0x1cfd5d(0xcf)]('remove-file');function showModalCreateItem(_0xe9452d){var _0x13500e=_0x1cfd5d;const _0x4d2137=document[_0x13500e(0xcf)]('detalleModalCreateItem'),_0x1b6805=document[_0x13500e(0xcf)](_0x13500e(0x158));_0x4d2137['classList'][_0x13500e(0x13c)]('active'),_0x1b6805[_0x13500e(0xb5)][_0x13500e(0x1b2)]=_0x13500e(0x102);const _0x49273d=document[_0x13500e(0xcf)]('setItemFree');_0x49273d['value']=parseInt(_0xe9452d),baseItem[_0x13500e(0x130)]=parseInt(_0xe9452d);const _0xb2979b=document[_0x13500e(0xcf)]('modalProductNewTitle');_0xe9452d==0x0&&(_0xb2979b[_0x13500e(0xab)]=_0x13500e(0xff));_0xe9452d==0x1&&(_0xb2979b[_0x13500e(0xab)]='Producto\x20Libre');const _0x187b34=document[_0x13500e(0xee)]('productType1');for(let _0x589cdd=0x0;_0x589cdd<_0x187b34[_0x13500e(0xfd)];_0x589cdd++){const _0x197fab=_0x187b34[_0x589cdd];if(_0xe9452d==0x0)_0x197fab[_0x13500e(0x10d)][_0x13500e(0x182)](_0x13500e(0x8a));else _0xe9452d==0x1&&_0x197fab[_0x13500e(0x10d)][_0x13500e(0x13c)](_0x13500e(0x8a));}}function hideModalCreateItem(){var _0x3539b9=_0x1cfd5d;const _0x287636=document['getElementById'](_0x3539b9(0x117)),_0x4eee42=document[_0x3539b9(0xcf)](_0x3539b9(0x158));_0x287636[_0x3539b9(0x10d)][_0x3539b9(0x182)](_0x3539b9(0x170)),_0x4eee42['style'][_0x3539b9(0x1b2)]='none';}document[_0x1cfd5d(0xcf)]('closeModalCreateItem')['addEventListener'](_0x1cfd5d(0x12b),hideModalCreateItem),document['getElementById'](_0x1cfd5d(0x158))[_0x1cfd5d(0xde)](_0x1cfd5d(0x12b),_0x1a30c3=>{var _0x4e5a5b=_0x1cfd5d;_0x1a30c3[_0x4e5a5b(0xac)]==_0x1a30c3[_0x4e5a5b(0xd8)]&&_0x1a30c3['stopPropagation']();});function loadTaxData(){var _0x2e15b0=_0x1cfd5d;const _0x3d5309=document[_0x2e15b0(0xcf)](_0x2e15b0(0xd6));_0x3d5309['innerHTML']='',company[0x0]['setImpuestos'][_0x2e15b0(0xc4)](function(_0xed0a83){var _0x41c833=_0x2e15b0;const _0x49fdc9=document[_0x41c833(0x1c9)]('option');_0x49fdc9['value']=_0xed0a83[_0x41c833(0x1d5)],_0x49fdc9['innerHTML']=_0xed0a83[_0x41c833(0x120)]+'\x20('+_0xed0a83[_0x41c833(0x15b)]+'%)',_0xed0a83[_0x41c833(0x1d5)]==company[0x0]['setTaxIdDefault']&&(_0x49fdc9['selected']=!![]),_0x3d5309[_0x41c833(0x8e)](_0x49fdc9);});}function uniqueValuesArray(_0x263e93,_0x19480c,_0x5f590c){var _0x85b970=_0x1cfd5d;const _0x7a72b3=Array[_0x85b970(0x152)](new Set(_0x5f590c[_0x85b970(0x19e)](_0x102522=>{var _0x52f642=_0x85b970;const _0x142f4b=_0x102522[_0x263e93];return typeof _0x142f4b==='string'?_0x142f4b[_0x52f642(0xe3)]():_0x142f4b;})[_0x85b970(0x1c1)](_0x2e1367=>_0x2e1367!=null&&_0x2e1367!=='')));return _0x7a72b3['map'](_0x388a74=>{var _0x1b6f72=_0x85b970;const _0x124712=_0x5f590c[_0x1b6f72(0x1c3)](_0x1cbae2=>_0x1cbae2[_0x263e93]===_0x388a74),_0x38a48c=_0x124712&&_0x124712[_0x19480c]!=null?String(_0x124712[_0x19480c])['trim']():_0x388a74;return{'setCode':_0x388a74,'setName':_0x38a48c};});}function fillSelect(_0x1faecb,_0x605167,_0x593180,_0x41ba77){var _0x32ccbf=_0x1cfd5d;_0x1faecb[_0x32ccbf(0xab)]='',_0x605167[_0x32ccbf(0xc4)](function(_0x5e9f4f){var _0x4e3e4e=_0x32ccbf,_0x4fa3b9=new Option(_0x5e9f4f[_0x41ba77],_0x5e9f4f[_0x593180]);_0x1faecb[_0x4e3e4e(0x13c)](_0x4fa3b9);});}function initMulti(_0x291e02,_0x55df02){var _0x7d843a=_0x1cfd5d,_0x21ada3=document[_0x7d843a(0xcf)](_0x291e02),_0x18b40d=_0x21ada3[_0x7d843a(0x1ac)](_0x7d843a(0x159)),_0x276f3d=_0x21ada3['querySelector'](_0x7d843a(0xa4)),_0x5a82c3=_0x21ada3[_0x7d843a(0x1ac)](_0x7d843a(0x8d)),_0xeba4ae=_0x55df02[_0x7d843a(0x1ab)](),_0x32171c=[];let _0x2335e8=null,_0x28568a=![];function _0x5053c4(){var _0x2f17fe=_0x7d843a;const _0x5c7358=_0x18b40d[_0x2f17fe(0x135)][_0x2f17fe(0xe3)]();if(!_0x5c7358)return;const _0x1a84f6=_0xeba4ae[_0x2f17fe(0x1c3)](_0x38da31=>_0x38da31[_0x2f17fe(0x13e)]['toLowerCase']()===_0x5c7358[_0x2f17fe(0xf9)]());if(_0x1a84f6)_0x32171c[_0x2f17fe(0xfa)](_0x1a84f6),_0xeba4ae['splice'](_0xeba4ae['findIndex'](_0x3e2780=>_0x3e2780['setCode']===_0x1a84f6[_0x2f17fe(0x9a)]),0x1);else{const _0x22e246=_0x32171c[_0x2f17fe(0xdd)](_0x148699=>_0x148699[_0x2f17fe(0x13e)][_0x2f17fe(0xf9)]()===_0x5c7358[_0x2f17fe(0xf9)]());!_0x22e246&&_0x32171c[_0x2f17fe(0xfa)]({'setCode':_0x5c7358,'setName':_0x5c7358});}_0x499485(),_0x4e15b9(),_0x18b40d['value']='';}function _0x4e15b9(){var _0x483806=_0x7d843a;_0x276f3d[_0x483806(0xab)]='',_0xeba4ae[_0x483806(0x1c1)](_0x2b46c7=>_0x2b46c7['setName']['toLowerCase']()[_0x483806(0x11c)](_0x18b40d['value'][_0x483806(0xf9)]()))[_0x483806(0x1ab)](0x0,0x14)['forEach'](_0x5d049b=>{var _0x3530f0=_0x483806,_0x3edef5=document[_0x3530f0(0x1c9)](_0x3530f0(0x153));_0x3edef5[_0x3530f0(0x8b)]=_0x5d049b[_0x3530f0(0x13e)],_0x3edef5[_0x3530f0(0xc7)][_0x3530f0(0xc8)]=_0x5d049b[_0x3530f0(0x9a)],_0x276f3d[_0x3530f0(0x8e)](_0x3edef5),_0x3edef5['addEventListener'](_0x3530f0(0x1bd),()=>_0x28568a=!![]),_0x3edef5[_0x3530f0(0xde)](_0x3530f0(0x12b),function(){var _0x4df6ba=_0x3530f0;_0x28568a=![],_0x32171c['push'](_0x5d049b),_0xeba4ae[_0x4df6ba(0xad)](_0xeba4ae[_0x4df6ba(0x142)](_0x5c40da=>_0x5c40da[_0x4df6ba(0x9a)]===_0x5d049b['setCode']),0x1),_0x18b40d[_0x4df6ba(0x135)]='',_0x499485(),_0x4e15b9();});});}function _0x499485(){var _0x5b6d14=_0x7d843a;_0x5a82c3[_0x5b6d14(0xab)]='',_0x32171c[_0x5b6d14(0xc4)](_0x397703=>{var _0x3bb375=_0x5b6d14,_0x26fa6f=document[_0x3bb375(0x1c9)]('div');_0x26fa6f[_0x3bb375(0xe0)]=_0x3bb375(0x180),_0x26fa6f[_0x3bb375(0x8b)]=_0x397703[_0x3bb375(0x13e)];var _0x1a28c9=document[_0x3bb375(0x1c9)](_0x3bb375(0xcb));_0x1a28c9[_0x3bb375(0xe0)]=_0x3bb375(0x11f),_0x1a28c9[_0x3bb375(0x8b)]='×',_0x1a28c9[_0x3bb375(0xde)](_0x3bb375(0x12b),function(){var _0x2f94eb=_0x3bb375;_0xeba4ae[_0x2f94eb(0xfa)](_0x397703);const _0x568e84=_0x32171c['findIndex'](_0xf4a329=>_0xf4a329[_0x2f94eb(0x9a)]===_0x397703[_0x2f94eb(0x9a)]);if(_0x568e84>-0x1)_0x32171c[_0x2f94eb(0xad)](_0x568e84,0x1);_0x499485(),_0x4e15b9();}),_0x26fa6f['appendChild'](_0x1a28c9),_0x5a82c3['appendChild'](_0x26fa6f);}),_0x21ada3['dispatchEvent'](new CustomEvent(_0x5b6d14(0x171),{'detail':_0x32171c,'bubbles':!![]}));}return _0x18b40d[_0x7d843a(0xde)]('focus',function(){var _0x5ae5c2=_0x7d843a;_0x2335e8&&(clearTimeout(_0x2335e8),_0x2335e8=null),_0x276f3d[_0x5ae5c2(0x10d)][_0x5ae5c2(0x182)](_0x5ae5c2(0xea));}),_0x18b40d['addEventListener'](_0x7d843a(0xa3),_0x4e15b9),_0x18b40d[_0x7d843a(0xde)](_0x7d843a(0x97),function(_0x14dd2d){var _0x470f7e=_0x7d843a;_0x14dd2d[_0x470f7e(0xec)]===_0x470f7e(0xaa)&&(_0x14dd2d[_0x470f7e(0x106)](),_0x5053c4());}),_0x18b40d[_0x7d843a(0xde)](_0x7d843a(0x19a),function(){if(_0x28568a)return;_0x2335e8=setTimeout(()=>{_0x5053c4(),_0x2335e8=null;},0xc8);}),document['addEventListener'](_0x7d843a(0x12b),function(_0x323ef2){var _0x3a4286=_0x7d843a;!_0x21ada3[_0x3a4286(0x1a3)](_0x323ef2['target'])&&_0x276f3d[_0x3a4286(0x10d)][_0x3a4286(0x13c)](_0x3a4286(0xea));}),_0x4e15b9(),_0x32171c;}function getLastCode(_0x4b7c92){var _0x3817f3=_0x1cfd5d;const _0x55325d=_0x4b7c92[_0x3817f3(0x19e)](_0x3e587d=>String(_0x3e587d[_0x3817f3(0xe4)])[_0x3817f3(0xe3)]())[_0x3817f3(0x1c1)](_0x105cd1=>_0x105cd1!=='');if(_0x55325d[_0x3817f3(0xfd)]===0x0)return'';const _0x3a5411=_0x55325d['every'](_0x3a969b=>/^\d+$/[_0x3817f3(0x15e)](_0x3a969b));if(_0x3a5411){const _0x76f972=_0x55325d[_0x3817f3(0x19e)](Number),_0x1337de=Math[_0x3817f3(0x1d7)](..._0x76f972);return String(_0x1337de);}let _0x4965d9;if(typeof Intl!==_0x3817f3(0x172)&&Intl['Collator']){const _0x3374a1=new Intl[(_0x3817f3(0x103))](undefined,{'numeric':!![],'sensitivity':_0x3817f3(0x1d9)});_0x4965d9=_0x55325d[_0x3817f3(0x1ab)]()['sort'](_0x3374a1[_0x3817f3(0x1c7)]);}else{const _0x689884=_0x55325d[_0x3817f3(0x165)](_0x18c817=>/^\d+$/['test'](_0x18c817));_0x689884?_0x4965d9=_0x55325d[_0x3817f3(0x19e)](Number)['sort']((_0x3f934b,_0x2cedeb)=>_0x3f934b-_0x2cedeb)[_0x3817f3(0x19e)](String):_0x4965d9=_0x55325d[_0x3817f3(0x1ab)]()['sort']();}return _0x4965d9[_0x4965d9[_0x3817f3(0xfd)]-0x1];}function getNextCode(_0x2b9fdb){var _0x53319a=_0x1cfd5d;const _0x55867c=getLastCode(_0x2b9fdb);if(!_0x55867c)return'';if(/^\d+$/[_0x53319a(0x15e)](_0x55867c))return String(Number(_0x55867c)+0x1);const _0x4b97b6=_0x55867c[_0x53319a(0xd7)](/^([A-Za-z]*)(\d+)$/);if(_0x4b97b6){const [,_0x499f70,_0x5d544e]=_0x4b97b6,_0x56ae63=String(Number(_0x5d544e)+0x1)['padStart'](_0x5d544e[_0x53319a(0xfd)],'0');return _0x499f70+_0x56ae63;}return _0x55867c;}document[_0x1cfd5d(0xcf)]('inputItemName')[_0x1cfd5d(0xde)](_0x1cfd5d(0xa3),function(_0x515f3d){var _0x315bde=_0x1cfd5d;baseItem[_0x315bde(0x14a)]=_0x515f3d['target'][_0x315bde(0x135)];}),document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x1c8))[_0x1cfd5d(0xde)](_0x1cfd5d(0xa3),function(_0x5e4000){var _0x2f445e=_0x1cfd5d;baseItem['setItemDescription']=_0x5e4000[_0x2f445e(0xac)]['value'];}),document[_0x1cfd5d(0xcf)]('inputItemDateExpiry')['addEventListener'](_0x1cfd5d(0xa3),function(_0x4f482b){var _0x4a95f6=_0x1cfd5d;baseItem['setItemDateExpiry']=_0x4f482b[_0x4a95f6(0xac)][_0x4a95f6(0x135)];}),document['getElementById'](_0x1cfd5d(0x167))[_0x1cfd5d(0xde)](_0x1cfd5d(0x196),function(_0x5ebd2b){var _0x127154=_0x1cfd5d;baseItem[_0x127154(0x1a9)]=_0x5ebd2b['target'][_0x127154(0x135)];}),document[_0x1cfd5d(0xcf)]('inputItemTax')['addEventListener'](_0x1cfd5d(0x196),function(_0x56cf82){var _0x18d987=_0x1cfd5d;baseItem['setItemTaxId']=_0x56cf82[_0x18d987(0xac)]['value'];const _0x25f9f6=_0x56cf82[_0x18d987(0xac)][_0x18d987(0x135)],_0x39c205=company[0x0]['setImpuestos'][_0x18d987(0x1c3)](_0xfa295f=>_0xfa295f[_0x18d987(0x1d5)]==_0x25f9f6)?.[_0x18d987(0x10c)]||0x0,_0x5e35ce=company[0x0][_0x18d987(0xaf)][_0x18d987(0x1c3)](_0x9feb7c=>_0x9feb7c[_0x18d987(0x1d5)]==_0x25f9f6)?.[_0x18d987(0x15b)]||0x0;baseItem[_0x18d987(0x17f)]=_0x39c205,baseItem[_0x18d987(0x1a2)]=_0x5e35ce;}),document[_0x1cfd5d(0xcf)]('newItem_chk_buy')['addEventListener']('change',function(_0x453d14){var _0x48df04=_0x1cfd5d;baseItem[_0x48df04(0x19c)]=_0x453d14[_0x48df04(0xac)][_0x48df04(0x186)];}),document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x17d))[_0x1cfd5d(0xde)](_0x1cfd5d(0x196),function(_0x1cdb10){var _0x542169=_0x1cfd5d;baseItem[_0x542169(0x1c2)]=_0x1cdb10['target'][_0x542169(0x186)];}),document['getElementById']('inputItemCode')['addEventListener'](_0x1cfd5d(0xa3),function(_0x3f0f1b){var _0x39c835=_0x1cfd5d;baseItem[_0x39c835(0x9f)]=_0x3f0f1b[_0x39c835(0xac)][_0x39c835(0x135)];}),document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x19f))[_0x1cfd5d(0xde)]('input',function(_0x3fd5a6){var _0x3b8314=_0x1cfd5d;baseItem[_0x3b8314(0xa2)]=_0x3fd5a6[_0x3b8314(0xac)][_0x3b8314(0x135)];}),document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x194))[_0x1cfd5d(0xde)](_0x1cfd5d(0x12b),function(){addUnit(),updateUnitsArray();}),document[_0x1cfd5d(0xcf)]('inputItemCode')['addEventListener'](_0x1cfd5d(0x19a),function(){var _0x5d0879=_0x1cfd5d;const _0x4f011b=this['value'][_0x5d0879(0xe3)]();if(_0x4f011b==='')return;const _0x5e44d4=products[_0x5d0879(0xdd)](_0x3ae661=>_0x3ae661['setCodProducto']==_0x4f011b),_0x1fc4e8=getLastCode(products);_0x5e44d4?ntfShow(_0x5d0879(0x13d)+_0x1fc4e8,0x2,0x1):ntfShow(_0x5d0879(0x166),0x1,0x1);});function removeImg(_0x3c618a){var _0x611f21=_0x1cfd5d;currentImages[_0x3c618a]=null;var _0x5ce387=imgC[_0x611f21(0x1ac)](_0x611f21(0x148)+_0x3c618a+'\x22]');_0x5ce387[_0x611f21(0xab)]='';var _0x49055f=document['createElement'](_0x611f21(0xa3));_0x49055f[_0x611f21(0xe7)]=_0x611f21(0x128),_0x49055f[_0x611f21(0xdb)]=_0x611f21(0xf2),_0x49055f['style'][_0x611f21(0x1b2)]=_0x611f21(0x105);var _0x51d96a=document[_0x611f21(0x1c9)](_0x611f21(0xcb));_0x51d96a['textContent']='+',_0x5ce387[_0x611f21(0x8e)](_0x49055f),_0x5ce387[_0x611f21(0x8e)](_0x51d96a),_0x5ce387[_0x611f21(0xde)]('click',function(){var _0x46fc98=_0x611f21;_0x49055f[_0x46fc98(0x12b)]();}),baseItem[_0x611f21(0xf5)]=currentImages[_0x611f21(0x1c1)](function(_0x5d25ac){return _0x5d25ac;});}function addUnit(_0x7d99c3,_0x287c96,_0xd22101,_0x2e3aa4,_0x6de08e,_0x38c571,_0x15f02d){var _0x234a53=_0x1cfd5d,_0x33d5d0=uniqueValuesArray(_0x234a53(0x140),_0x234a53(0xd4),myCompany['setUnits']);_0x7d99c3=_0x7d99c3||'',_0x287c96=_0x287c96||_0x33d5d0[0x3a]&&_0x33d5d0[0x3a][_0x234a53(0x9a)]||'',_0xd22101=_0xd22101!==undefined?_0xd22101:0x1,_0x2e3aa4=!!_0x2e3aa4,_0x6de08e=_0x6de08e||'',_0x38c571=_0x38c571||'';var _0x3e000c=unitCount++,_0x5ee8c0=document['createElement'](_0x234a53(0x153));_0x5ee8c0['dataset']['idx']=_0x3e000c,_0x5ee8c0[_0x234a53(0xc7)][_0x234a53(0x107)]=_0x2e3aa4,_0x5ee8c0[_0x234a53(0xab)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x3e000c+_0x234a53(0x1b0)+_0x7d99c3+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x3e000c+_0x234a53(0x1cf)+_0x3e000c+_0x234a53(0x1b0)+_0xd22101+'\x22\x20'+(_0x2e3aa4?_0x234a53(0x19b):'')+_0x234a53(0x1d0)+_0x3e000c+'\x22\x20value=\x22'+_0x6de08e+_0x234a53(0x129)+_0x3e000c+'\x22\x20value=\x22'+_0x38c571+_0x234a53(0x154)+(_0x2e3aa4?_0x234a53(0x187):'')+_0x234a53(0xf0),fillSelect(_0x5ee8c0['querySelector'](_0x234a53(0xa6)),_0x33d5d0,'setCode',_0x234a53(0x13e)),_0x5ee8c0[_0x234a53(0x1ac)](_0x234a53(0xa6))[_0x234a53(0x135)]=_0x287c96,[_0x234a53(0x89),_0x234a53(0x8f),'eqInput','priceInput',_0x234a53(0x113)]['forEach'](function(_0x1f2e14){var _0x15ef13=_0x234a53;_0x5ee8c0[_0x15ef13(0x1ac)]('.'+_0x1f2e14)[_0x15ef13(0xde)](_0x15ef13(0xa3),function(){var _0x4a5f47=_0x15ef13,_0x3068c3=_0x15f02d?+_0x15f02d['id'][_0x4a5f47(0x114)]('_')[0x1]:null;if(_0x15f02d)updateVariantUnits(_0x3068c3);else updateUnitsArray();});}),_0x5ee8c0[_0x234a53(0x1ac)](_0x234a53(0x1af))[_0x234a53(0xde)](_0x234a53(0x12b),function(){var _0x1b6b3e=_0x234a53;_0x5ee8c0[_0x1b6b3e(0x182)]();var _0x3f5cd7=_0x15f02d?+_0x15f02d['id'][_0x1b6b3e(0x114)]('_')[0x1]:null;if(_0x15f02d)updateVariantUnits(_0x3f5cd7);else updateUnitsArray();});var _0x499fb6=_0x15f02d||document[_0x234a53(0xcf)](_0x234a53(0xca));_0x499fb6['appendChild'](_0x5ee8c0);}function containerIdx(_0x1f1db1){var _0x18b2ef=_0x1cfd5d;return+_0x1f1db1['id'][_0x18b2ef(0x114)]('_')[0x1];}function updateUnitsArray(){var _0x370817=_0x1cfd5d,_0xb594af=[],_0x51bdc1=Array[_0x370817(0x152)](document[_0x370817(0x12a)](_0x370817(0x12d))),_0x4c8810=_0x51bdc1[_0x370817(0x1c3)](_0x3f27d7=>_0x3f27d7[_0x370817(0xc7)][_0x370817(0x107)]===_0x370817(0xb3)),_0xda8ee8=_0x4c8810?+_0x4c8810['querySelector'](_0x370817(0x16e))[_0x370817(0x135)]:0x1;_0x51bdc1[_0x370817(0xc4)](function(_0x3215c2){var _0x2f6f96=_0x370817,_0x1cbaf8=+_0x3215c2[_0x2f6f96(0x1ac)](_0x2f6f96(0x16e))[_0x2f6f96(0x135)]||0x0,_0x5e8ef3=+_0x3215c2[_0x2f6f96(0x1ac)](_0x2f6f96(0xa8))[_0x2f6f96(0x135)]||0x0,_0x19afea=+_0x3215c2[_0x2f6f96(0x1ac)](_0x2f6f96(0x143))[_0x2f6f96(0x135)]||0x0;_0xb594af[_0x2f6f96(0xfa)]({'setAlias':_0x3215c2['querySelector'](_0x2f6f96(0x1cd))[_0x2f6f96(0x135)][_0x2f6f96(0xe3)](),'setUnitCode':_0x3215c2['querySelector'](_0x2f6f96(0xa6))[_0x2f6f96(0x135)],'setEquivalence':_0x1cbaf8,'setFactor':_0x3215c2[_0x2f6f96(0xc7)][_0x2f6f96(0x107)]===_0x2f6f96(0xb3)?0x1:_0x1cbaf8==_0xda8ee8?0x1:_0x1cbaf8<_0xda8ee8?_0xda8ee8/_0x1cbaf8:_0x1cbaf8/_0xda8ee8,'setPrice':_0x5e8ef3,'setCost':_0x19afea,'setDefault':_0x3215c2['dataset'][_0x2f6f96(0x107)]==='true'?0x1:0x0});}),baseItem[_0x370817(0x111)]=_0xb594af;}function updateBranches(){var _0x2ec374=_0x1cfd5d,_0x373f23=[];document[_0x2ec374(0x12a)](_0x2ec374(0x12c))[_0x2ec374(0xc4)](function(_0x1f0744){var _0xcdfc8e=_0x2ec374,_0x14de68=_0x1f0744[_0xcdfc8e(0x1ac)](_0xcdfc8e(0x183));if(_0x14de68['checked']){var _0x340789=+_0x14de68['dataset']['id'],_0x389aa8=+_0x1f0744[_0xcdfc8e(0x1ac)](_0xcdfc8e(0x15c))[_0xcdfc8e(0x135)],_0x38c20e=+_0x1f0744[_0xcdfc8e(0x1ac)](_0xcdfc8e(0x14f))[_0xcdfc8e(0x135)];_0x373f23[_0xcdfc8e(0xfa)]({'setWarehouseCode':_0x340789,'setStockInitial':_0x389aa8,'setStockMinimum':_0x38c20e});}}),baseItem[_0x2ec374(0x1ba)]=_0x373f23;}document[_0x1cfd5d(0xcf)](_0x1cfd5d(0x1ca))[_0x1cfd5d(0xde)]('click',function(){var _0x308de4=_0x1cfd5d,_0x5dc526=Date[_0x308de4(0x189)](),_0x2196f7=document['createElement']('div');_0x2196f7['dataset'][_0x308de4(0x90)]=_0x5dc526,_0x2196f7[_0x308de4(0xab)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x5dc526+_0x308de4(0xe1)+_0x5dc526+_0x308de4(0x168),prodC[_0x308de4(0x8e)](_0x2196f7),initProdSearch(_0x2196f7[_0x308de4(0x1ac)](_0x308de4(0x147))),_0x2196f7[_0x308de4(0x1ac)](_0x308de4(0x13a))[_0x308de4(0xde)](_0x308de4(0x12b),function(){var _0x334567=_0x308de4;_0x2196f7[_0x334567(0x182)](),updateProdItems();}),_0x2196f7[_0x308de4(0x1ac)]('.prodQty')[_0x308de4(0xde)](_0x308de4(0xa3),updateProdItems),document[_0x308de4(0xcf)]('newItem_title_table_cp')['classList'][_0x308de4(0xd5)](_0x308de4(0x198),!![]),document[_0x308de4(0xcf)](_0x308de4(0x1a7))[_0x308de4(0x10d)][_0x308de4(0xd5)](_0x308de4(0xea),![]);});function initProdSearch(_0x28e70f,_0x595e79){var _0x29e83a=_0x1cfd5d,_0x2ef48d=_0x28e70f[_0x29e83a(0x1ac)](_0x29e83a(0x1ae)),_0x4db71a=_0x28e70f[_0x29e83a(0x1ac)](_0x29e83a(0xa4)),_0x5d01ca=_0x595e79||null;if(_0x595e79)_0x2ef48d[_0x29e83a(0x135)]=_0x595e79[_0x29e83a(0x1d8)];_0x2ef48d[_0x29e83a(0xde)]('input',function(){var _0x347812=_0x29e83a,_0x4dab9d=_0x2ef48d[_0x347812(0x135)][_0x347812(0xf9)]()[_0x347812(0xe3)]();_0x4db71a[_0x347812(0xab)]='';if(!_0x4dab9d)return;products[_0x347812(0x1c1)](_0x3b8821=>_0x3b8821[_0x347812(0x164)][_0x347812(0xf9)]()['includes'](_0x4dab9d))['slice'](0x0,0x14)[_0x347812(0xc4)](function(_0x11ec1c){var _0x4fcd3a=_0x347812,_0x53cdd5=document['createElement'](_0x4fcd3a(0x153));_0x53cdd5[_0x4fcd3a(0x8b)]=_0x11ec1c[_0x4fcd3a(0x164)],_0x53cdd5[_0x4fcd3a(0xc7)]['id']=_0x11ec1c['id'],_0x53cdd5['dataset'][_0x4fcd3a(0x1d8)]=_0x11ec1c[_0x4fcd3a(0x164)],_0x4db71a[_0x4fcd3a(0x8e)](_0x53cdd5),_0x53cdd5[_0x4fcd3a(0xde)](_0x4fcd3a(0x12b),function(){var _0x1708e9=_0x4fcd3a;_0x5d01ca={'id':_0x11ec1c['id'],'name':_0x11ec1c[_0x1708e9(0x164)]},_0x2ef48d[_0x1708e9(0x135)]=_0x11ec1c[_0x1708e9(0x164)],_0x4db71a[_0x1708e9(0xab)]='';var _0x30ca3a=_0x28e70f['closest'](_0x1708e9(0x185));if(_0x30ca3a){var _0x2f1a95=+_0x30ca3a['id']['split']('_')[0x1];updateVariantComponents(_0x2f1a95);}else updateProdItems();});});}),_0x2ef48d['addEventListener']('focus',function(){var _0x47150c=_0x29e83a;_0x4db71a['classList'][_0x47150c(0x182)]('newItem_hidden');}),document[_0x29e83a(0xde)](_0x29e83a(0x12b),function(_0x284c30){var _0x334df5=_0x29e83a;if(!_0x28e70f[_0x334df5(0x1a3)](_0x284c30[_0x334df5(0xac)]))_0x4db71a[_0x334df5(0x10d)][_0x334df5(0x13c)](_0x334df5(0xea));}),Object['defineProperty'](_0x28e70f,_0x29e83a(0xb4),{'get':()=>_0x5d01ca});}function updateProdItems(){var _0x49a93c=_0x1cfd5d,_0x400c38=[];Array['from'](prodC[_0x49a93c(0x95)])['forEach'](function(_0x5620a6){var _0x282ff2=_0x49a93c,_0x24a1f1=_0x5620a6[_0x282ff2(0x1ac)](_0x282ff2(0x147));if(!_0x24a1f1)return;var _0x152aa5=_0x5620a6[_0x282ff2(0x1ac)]('.prodQty'),_0x10511f=_0x24a1f1['selectedItem'];_0x10511f&&_0x400c38[_0x282ff2(0xfa)]({'setItemId':_0x10511f['id'],'setDescripcion':_0x10511f[_0x282ff2(0x1d8)],'setCantidad':+_0x152aa5[_0x282ff2(0x135)]});}),baseItem[_0x49a93c(0x116)]=_0x400c38,_0x400c38[_0x49a93c(0xfd)]===0x0&&(document[_0x49a93c(0xcf)](_0x49a93c(0x1a7))[_0x49a93c(0x10d)][_0x49a93c(0xd5)](_0x49a93c(0x198),![]),document[_0x49a93c(0xcf)](_0x49a93c(0x1a7))[_0x49a93c(0x10d)][_0x49a93c(0xd5)](_0x49a93c(0xea),!![]));}document[_0x1cfd5d(0xcf)]('newItem_btn_addVariantGroup')[_0x1cfd5d(0xde)](_0x1cfd5d(0x12b),function(){var _0x1397ff=_0x1cfd5d,_0x1dfe80=vgCount++,_0x13a8b5=document[_0x1397ff(0x1c9)](_0x1397ff(0x153));_0x13a8b5[_0x1397ff(0xc7)][_0x1397ff(0x90)]=_0x1dfe80,_0x13a8b5[_0x1397ff(0xab)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x1dfe80+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x1dfe80+'\x22>'+_0x1397ff(0x160),vgC[_0x1397ff(0x8e)](_0x13a8b5),_0x13a8b5[_0x1397ff(0x1ac)]('.vgName')[_0x1397ff(0xde)](_0x1397ff(0x19a),generateVariants),_0x13a8b5[_0x1397ff(0x1ac)](_0x1397ff(0xdf))['addEventListener'](_0x1397ff(0x19a),generateVariants),_0x13a8b5[_0x1397ff(0x1ac)]('.removeGroup')[_0x1397ff(0xde)](_0x1397ff(0x12b),function(){var _0x586680=_0x1397ff;_0x13a8b5[_0x586680(0x182)](),generateVariants();});});function generateVariants(){var _0x1189ef=_0x1cfd5d,_0x10cf1c=[];vgC[_0x1189ef(0x12a)](_0x1189ef(0x153))[_0x1189ef(0xc4)](function(_0x23bdbd){var _0x5b47f5=_0x1189ef,_0x5016d2=_0x23bdbd['querySelector'](_0x5b47f5(0xeb))[_0x5b47f5(0x135)][_0x5b47f5(0xe3)](),_0x1ebcd4=_0x23bdbd[_0x5b47f5(0x1ac)]('.vgVals')[_0x5b47f5(0x135)][_0x5b47f5(0x114)](',')[_0x5b47f5(0x19e)](_0x567550=>_0x567550[_0x5b47f5(0xe3)]())[_0x5b47f5(0x1c1)](_0x601f50=>_0x601f50);if(_0x5016d2&&_0x1ebcd4['length'])_0x10cf1c['push']({'name':_0x5016d2,'vals':_0x1ebcd4});});var _0x415786=[{}];_0x10cf1c[_0x1189ef(0xc4)](function(_0x4cb89e){var _0x1cb698=_0x1189ef;_0x415786=_0x415786[_0x1cb698(0x99)](function(_0x5166ad){var _0x598539=_0x1cb698;return _0x4cb89e[_0x598539(0x14c)][_0x598539(0x19e)](function(_0xd006e){var _0x507f4d=_0x598539,_0x2dc338=Object['assign']({},_0x5166ad);return _0x2dc338[_0x4cb89e[_0x507f4d(0x1d8)]]=_0xd006e,_0x2dc338;});});}),newItems=[],varContainer[_0x1189ef(0xab)]='',_0x415786[_0x1189ef(0xc4)](function(_0x8cbc05,_0x166b0e){var _0x1e2533=_0x1189ef,_0x5ad25c=JSON[_0x1e2533(0xf1)](JSON[_0x1e2533(0x11b)](baseItem));_0x5ad25c[_0x1e2533(0xc1)]=_0x8cbc05,_0x5ad25c['setItemVariantName']=baseItem[_0x1e2533(0x14a)]+'\x20'+Object[_0x1e2533(0xd9)](_0x8cbc05)[_0x1e2533(0x19e)](_0xde72ff=>_0xde72ff[0x0]+'\x20'+_0xde72ff[0x1])[_0x1e2533(0x12e)]('\x20'),newItems['push'](_0x5ad25c);var _0x4c51b3=document[_0x1e2533(0x1c9)](_0x1e2533(0x153));_0x4c51b3['classList'][_0x1e2533(0x13c)]('variantForm'),_0x4c51b3[_0x1e2533(0xc7)][_0x1e2533(0x90)]=_0x166b0e,_0x4c51b3[_0x1e2533(0xab)]=_0x1e2533(0x146)+_0x5ad25c['setItemVariantName']+_0x1e2533(0x174)+_0x5ad25c['setItemCode']+_0x1e2533(0x16a)+_0x5ad25c['setItemBarCode']+_0x1e2533(0x150)+_0x5ad25c[_0x1e2533(0x1b9)]+_0x1e2533(0x1d1)+_0x166b0e+_0x1e2533(0xb2)+_0x166b0e+_0x1e2533(0xe6)+_0x166b0e+_0x1e2533(0xf4),varContainer[_0x1e2533(0x8e)](_0x4c51b3),_0x4c51b3[_0x1e2533(0x1ac)](_0x1e2533(0x16c))[_0x1e2533(0xde)]('input',_0x64cc74=>newItems[_0x166b0e][_0x1e2533(0x9f)]=_0x64cc74[_0x1e2533(0xac)][_0x1e2533(0x135)]),_0x4c51b3['querySelector'](_0x1e2533(0xd3))[_0x1e2533(0xde)](_0x1e2533(0xa3),_0x4cead=>newItems[_0x166b0e][_0x1e2533(0xa2)]=_0x4cead[_0x1e2533(0xac)][_0x1e2533(0x135)]),_0x4c51b3[_0x1e2533(0x1ac)]('.variantExpiry')[_0x1e2533(0xde)](_0x1e2533(0x196),_0x53af12=>newItems[_0x166b0e][_0x1e2533(0x1b9)]=_0x53af12[_0x1e2533(0xac)][_0x1e2533(0x135)]),initVariantUnits(_0x166b0e),initVariantComponents(_0x166b0e),initVariantBranches(_0x166b0e),_0x4c51b3[_0x1e2533(0x1ac)](_0x1e2533(0x101))[_0x1e2533(0xde)](_0x1e2533(0x12b),function(){var _0x25e57e=_0x1e2533,_0x4776f5=+_0x4c51b3[_0x25e57e(0xc7)][_0x25e57e(0x90)];newItems[_0x25e57e(0xad)](_0x4776f5,0x1),_0x4c51b3['remove'](),document[_0x25e57e(0x12a)](_0x25e57e(0xbe))['forEach'](function(_0x14d79f,_0x3a8034){var _0x458a15=_0x25e57e;_0x14d79f[_0x458a15(0xc7)][_0x458a15(0x90)]=_0x3a8034;});});});if(newItems[_0x1189ef(0xfd)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3d488b){var _0x21a044=_0x1cfd5d,_0x2e8037=document[_0x21a044(0xcf)](_0x21a044(0x17c)+_0x3d488b+_0x21a044(0x157)),_0x5db853=[];Array['from'](_0x2e8037[_0x21a044(0x95)])['forEach'](function(_0x1bec17){var _0x2fe60a=_0x21a044,_0x1b1ca7=+_0x1bec17[_0x2fe60a(0x1ac)](_0x2fe60a(0x16e))[_0x2fe60a(0x135)]||0x0,_0x5494b6=_0x1bec17[_0x2fe60a(0x1ac)](_0x2fe60a(0x1cd))[_0x2fe60a(0x135)][_0x2fe60a(0xe3)](),_0x561f74=_0x1bec17['querySelector'](_0x2fe60a(0xa6))['value'],_0x21eda2=+_0x1bec17[_0x2fe60a(0x1ac)](_0x2fe60a(0xa8))[_0x2fe60a(0x135)]||0x0,_0x103af8=+_0x1bec17[_0x2fe60a(0x1ac)](_0x2fe60a(0x143))[_0x2fe60a(0x135)]||0x0,_0x53b1fb=_0x1bec17[_0x2fe60a(0xc7)][_0x2fe60a(0x107)]===_0x2fe60a(0xb3),_0x31fba8=+_0x2e8037[_0x2fe60a(0x1ac)](_0x2fe60a(0xa7))[_0x2fe60a(0x135)]||0x1,_0x30dbd0=_0x53b1fb?0x1:_0x1b1ca7==_0x31fba8?0x1:_0x1b1ca7<_0x31fba8?_0x31fba8/_0x1b1ca7:_0x1b1ca7/_0x31fba8;_0x5db853[_0x2fe60a(0xfa)]({'setAlias':_0x5494b6,'setUnitCode':_0x561f74,'setEquivalence':_0x1b1ca7,'setFactor':_0x30dbd0,'setPrice':_0x21eda2,'setCost':_0x103af8,'setDefault':_0x53b1fb?0x1:0x0});}),newItems[_0x3d488b][_0x21a044(0x111)]=_0x5db853;}function initVariantUnits(_0x3f79db){var _0x2a3c5a=_0x1cfd5d,_0x4d55ec=document[_0x2a3c5a(0xcf)](_0x2a3c5a(0x17c)+_0x3f79db+_0x2a3c5a(0x157));_0x4d55ec[_0x2a3c5a(0xab)]='',newItems[_0x3f79db][_0x2a3c5a(0x111)][_0x2a3c5a(0xc4)](function(_0x113233){var _0x1d4e5c=_0x2a3c5a;addUnit(_0x113233[_0x1d4e5c(0x1b5)],_0x113233[_0x1d4e5c(0x140)],_0x113233['setEquivalence'],_0x113233['setDefault'],_0x113233['setPrice'],_0x113233[_0x1d4e5c(0x87)],_0x4d55ec);}),_0x4d55ec['parentNode']['querySelector'](_0x2a3c5a(0x108))[_0x2a3c5a(0xde)]('click',function(){addUnit('','',0x1,![],'','',_0x4d55ec),updateVariantUnits(_0x3f79db);});}function updateVariantUnits(_0x342bea){var _0x194dc0=_0x1cfd5d,_0x85203d=document[_0x194dc0(0xcf)](_0x194dc0(0x17c)+_0x342bea+_0x194dc0(0x157)),_0x34443f=_0x85203d[_0x194dc0(0x1ac)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x5ce15f=_0x34443f?+_0x34443f['value']:0x1,_0x64b1b3=Array[_0x194dc0(0x152)](_0x85203d[_0x194dc0(0x95)])['map'](function(_0x1dbde3){var _0x3f64f7=_0x194dc0,_0x439a96=_0x1dbde3[_0x3f64f7(0x1ac)](_0x3f64f7(0x1cd))[_0x3f64f7(0x135)]['trim'](),_0x2977bc=_0x1dbde3[_0x3f64f7(0x1ac)]('.unitSelect')[_0x3f64f7(0x135)],_0x530218=+_0x1dbde3['querySelector'](_0x3f64f7(0x16e))[_0x3f64f7(0x135)]||0x0,_0x410790=+_0x1dbde3['querySelector'](_0x3f64f7(0xa8))[_0x3f64f7(0x135)]||0x0,_0x524b05=+_0x1dbde3[_0x3f64f7(0x1ac)](_0x3f64f7(0x143))[_0x3f64f7(0x135)]||0x0,_0x23e6cf=_0x1dbde3[_0x3f64f7(0xc7)][_0x3f64f7(0x107)]===_0x3f64f7(0xb3);return{'setAlias':_0x439a96,'setUnitCode':_0x2977bc,'setEquivalence':_0x530218,'setFactor':_0x23e6cf?0x1:_0x530218==_0x5ce15f?0x1:_0x530218<_0x5ce15f?_0x5ce15f/_0x530218:_0x530218/_0x5ce15f,'setPrice':_0x410790,'setCost':_0x524b05,'setDefault':_0x23e6cf?0x1:0x0};});newItems[_0x342bea][_0x194dc0(0x111)]=_0x64b1b3;}function _0x1821(_0x250102,_0x390e88){var _0x59c2ce=_0xa3ec();return _0x1821=function(_0x10a9d6,_0x5dc9d0){_0x10a9d6=_0x10a9d6-0x87;var _0x9096c4=_0x59c2ce[_0x10a9d6];return _0x9096c4;},_0x1821(_0x250102,_0x390e88);}function initVariantComponents(_0x4446a2){var _0x219701=_0x1cfd5d,_0x5864ee=document['getElementById'](_0x219701(0x17c)+_0x4446a2+'_comp_container');_0x5864ee[_0x219701(0xab)]='',newItems[_0x4446a2][_0x219701(0x116)][_0x219701(0xc4)](function(_0x25cdf5){var _0x5cdda6=_0x219701,_0x56f3fb=document[_0x5cdda6(0x1c9)](_0x5cdda6(0x153)),_0x1c028c=Date[_0x5cdda6(0x189)]();_0x56f3fb[_0x5cdda6(0xc7)]['idx']=_0x1c028c,_0x56f3fb[_0x5cdda6(0xab)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x1c028c+_0x5cdda6(0x16d)+_0x25cdf5[_0x5cdda6(0x18b)]+_0x5cdda6(0x11e),_0x5864ee[_0x5cdda6(0x8e)](_0x56f3fb),initProdSearch(_0x56f3fb[_0x5cdda6(0x1ac)](_0x5cdda6(0x147)),{'id':_0x25cdf5[_0x5cdda6(0x1b8)],'name':_0x25cdf5['setDescripcion']}),_0x56f3fb[_0x5cdda6(0x1ac)](_0x5cdda6(0xbc))[_0x5cdda6(0xde)](_0x5cdda6(0xa3),function(){updateVariantComponents(_0x4446a2);}),_0x56f3fb[_0x5cdda6(0x1ac)](_0x5cdda6(0x132))['addEventListener']('click',function(){_0x56f3fb['remove'](),updateVariantComponents(_0x4446a2);});}),_0x5864ee[_0x219701(0x139)][_0x219701(0x1ac)](_0x219701(0x100))[_0x219701(0xde)]('click',function(){var _0x5b890d=_0x219701,_0x4a5637=document[_0x5b890d(0x1c9)](_0x5b890d(0x153)),_0x174c3e=Date['now']();_0x4a5637[_0x5b890d(0xc7)][_0x5b890d(0x90)]=_0x174c3e,_0x4a5637[_0x5b890d(0xab)]=_0x5b890d(0x16b)+_0x174c3e+_0x5b890d(0x16f),_0x5864ee[_0x5b890d(0x8e)](_0x4a5637),initProdSearch(_0x4a5637[_0x5b890d(0x1ac)](_0x5b890d(0x147))),_0x4a5637[_0x5b890d(0x1ac)]('.prodQty')[_0x5b890d(0xde)](_0x5b890d(0xa3),function(){updateVariantComponents(_0x4446a2);}),_0x4a5637['querySelector']('.removeCombo')['addEventListener'](_0x5b890d(0x12b),function(){_0x4a5637['remove'](),updateVariantComponents(_0x4446a2);});});}function updateVariantComponents(_0x54669c){var _0x399fe6=_0x1cfd5d,_0x39bced=document['getElementById'](_0x399fe6(0x17c)+_0x54669c+_0x399fe6(0x11a)),_0x527173=Array[_0x399fe6(0x152)](_0x39bced[_0x399fe6(0x95)])[_0x399fe6(0x19e)](function(_0x472f63){var _0x3bf49e=_0x399fe6,_0xaaa87a=_0x472f63['querySelector'](_0x3bf49e(0x147)),_0x5715e9=_0xaaa87a[_0x3bf49e(0xb4)],_0x1560da=+_0x472f63[_0x3bf49e(0x1ac)]('.prodQty')[_0x3bf49e(0x135)]||0x0;return _0x5715e9?{'setItemId':_0x5715e9['id'],'setDescripcion':_0x5715e9[_0x3bf49e(0x1d8)],'setCantidad':_0x1560da}:null;})['filter'](_0x15b56d=>_0x15b56d);newItems[_0x54669c][_0x399fe6(0x116)]=_0x527173;}function initVariantBranches(_0x213c30){var _0x1b64c2=_0x1cfd5d;const _0x468fe0=getAllWarehouses();var _0x935173=document[_0x1b64c2(0xcf)]('variant_'+_0x213c30+_0x1b64c2(0xb0));_0x935173[_0x1b64c2(0xab)]='',newItems[_0x213c30][_0x1b64c2(0x1ba)][_0x1b64c2(0xc4)](function(_0x31a851){var _0x1e6d9c=_0x1b64c2,_0x34358e=_0x468fe0[_0x1e6d9c(0x1c3)](_0xa28f59=>_0xa28f59[_0x1e6d9c(0x14e)]==_0x31a851['setWarehouseCode']),_0x5b4e0a=document['createElement'](_0x1e6d9c(0x153));_0x5b4e0a[_0x1e6d9c(0xab)]=_0x1e6d9c(0x1c5)+_0x31a851['setWarehouseCode']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x34358e['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x31a851[_0x1e6d9c(0xa1)]+_0x1e6d9c(0x1b0)+_0x31a851['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x31a851[_0x1e6d9c(0xa1)]+_0x1e6d9c(0x1b0)+_0x31a851['setStockMinimum']+'\x22>',_0x935173['appendChild'](_0x5b4e0a),_0x5b4e0a['querySelectorAll'](_0x1e6d9c(0xa3))['forEach'](function(_0x8f6a77){var _0x264345=_0x1e6d9c;_0x8f6a77[_0x264345(0xde)](_0x264345(0xa3),function(){updateVariantBranches(_0x213c30);});});}),_0x468fe0['forEach'](function(_0x442f72){var _0x47bd50=_0x1b64c2;if(!newItems[_0x213c30]['setItemWarehouses'][_0x47bd50(0x1c3)](_0x1ffd34=>_0x1ffd34['setWarehouseCode']===_0x442f72[_0x47bd50(0x14e)])){var _0x3c32ee=document[_0x47bd50(0x1c9)](_0x47bd50(0x153));_0x3c32ee[_0x47bd50(0xab)]=_0x47bd50(0x1c5)+_0x442f72[_0x47bd50(0x14e)]+_0x47bd50(0x177)+_0x442f72[_0x47bd50(0x123)]+_0x47bd50(0x18d)+_0x442f72['setWarehouseId']+_0x47bd50(0xfb)+_0x442f72[_0x47bd50(0x14e)]+'\x22>',_0x935173[_0x47bd50(0x8e)](_0x3c32ee),_0x3c32ee[_0x47bd50(0x12a)](_0x47bd50(0xa3))[_0x47bd50(0xc4)](function(_0x4e351e){var _0xf0835f=_0x47bd50;_0x4e351e[_0xf0835f(0xde)](_0xf0835f(0xa3),function(){updateVariantBranches(_0x213c30);});});}});}function updateVariantBranches(_0xa5b541){var _0x2b6871=_0x1cfd5d,_0x2c8849=document[_0x2b6871(0xcf)](_0x2b6871(0x17c)+_0xa5b541+_0x2b6871(0xb0)),_0x472d18=[];_0x2c8849[_0x2b6871(0x12a)](_0x2b6871(0x153))[_0x2b6871(0xc4)](function(_0x321f11){var _0x1005c1=_0x2b6871,_0x20e287=_0x321f11['querySelector'](_0x1005c1(0x183));if(_0x20e287['checked']){var _0x5a395a=+_0x20e287[_0x1005c1(0xc7)]['id'],_0x39bac8=+_0x321f11[_0x1005c1(0x1ac)](_0x1005c1(0x15c))['value']||0x0,_0x1ec03c=+_0x321f11[_0x1005c1(0x1ac)]('.branchMin')['value']||0x0;_0x472d18['push']({'setWarehouseCode':_0x5a395a,'setStockInitial':_0x39bac8,'setStockMinimum':_0x1ec03c});}}),newItems[_0xa5b541][_0x2b6871(0x1ba)]=_0x472d18;}async function storeOfflineProduct(_0x2fa448){var _0x30e950=_0x1cfd5d;try{const _0x20572b=await createCartStore(''),_0x1d8cf4=_0x20572b[_0x30e950(0x88)]('offline_operations',_0x30e950(0x14d)),_0x3b69cc=_0x1d8cf4[_0x30e950(0x145)](_0x30e950(0xb9));_0x3b69cc[_0x30e950(0x13c)](_0x2fa448),_0x1d8cf4[_0x30e950(0x125)]=()=>{var _0x38dcf5=_0x30e950;console[_0x38dcf5(0x18c)](_0x38dcf5(0x10f));},_0x1d8cf4[_0x30e950(0x151)]=_0x561731=>{var _0x564e02=_0x30e950;console['error'](_0x564e02(0xd1),_0x561731[_0x564e02(0xac)][_0x564e02(0xc2)]);};}catch(_0x2ba442){console[_0x30e950(0xc2)](_0x30e950(0x1a8),_0x2ba442);}}document[_0x1cfd5d(0xcf)]('btnItemSave')['addEventListener'](_0x1cfd5d(0x12b),async function(_0x5610f5){var _0x535559=_0x1cfd5d;_0x5610f5['preventDefault']();const _0xde94b3=document[_0x535559(0xcf)]('inputItemCode'),_0x61d513=document[_0x535559(0xcf)]('setItemFree')[_0x535559(0x135)];if(!_0xde94b3['value'][_0x535559(0xe3)]()&&_0x61d513==0x0){ntfShow(_0x535559(0xf8),0x2,0x1);return;}_0x61d513==0x1&&(_0xde94b3[_0x535559(0x135)]='',baseItem[_0x535559(0x9f)]='');const _0x36c59a=document[_0x535559(0xcf)](_0x535559(0xe8));if(!_0x36c59a[_0x535559(0x135)][_0x535559(0xe3)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x269071=document[_0x535559(0xcf)](_0x535559(0xb7));hideModalCreateItem(),showLoadingModal();newItems[_0x535559(0xfd)]===0x0&&(newItems=[baseItem]);const _0xd3e29b=document[_0x535559(0xcf)](_0x535559(0x17e))['value'],_0x15a0a7=window_options[_0xd3e29b][_0x535559(0x133)],_0x894060=[];newItems['forEach'](_0x2275e2=>{var _0x34678e=_0x535559;const _0x2a7807=generateNumericUniqId();_0x2275e2[_0x34678e(0x111)]['forEach'](_0x39a399=>{var _0x2672be=_0x34678e;const _0x50f438=generateNumericUniqId();_0x39a399[_0x2672be(0x175)]=_0x50f438;const _0x3fdaba={'id':_0x50f438,'setIdProducto':_0x2a7807,'setCodProducto':_0x2275e2[_0x2672be(0x9f)],'setDescripcion':_0x2275e2[_0x2672be(0x14a)],'setItemDescription':_0x2275e2[_0x2672be(0x1a5)],'setBatchExpirationDate':_0x2275e2[_0x2672be(0x1b9)],'setBatchName':'','setCategoria':_0x2275e2[_0x2672be(0x173)][0x0]||'','setMarca':_0x2275e2[_0x2672be(0xcc)][0x0]||'','setConversionFactor':parseFloat(_0x39a399[_0x2672be(0x18f)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x2275e2[_0x2672be(0x19c)]?0x1:0x0,'setItemIsSold':_0x2275e2['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x2275e2[_0x2672be(0x1a2)],'setPrinters':[],'setTaxId':_0x2275e2[_0x2672be(0x91)],'setTipAfeIgv':_0x2275e2['setItemTaxCode'],'setUnidad':_0x39a399[_0x2672be(0x140)],'setUnidadCodigo':_0x39a399['setUnitCode'],'setItemUnitAlias':_0x39a399[_0x2672be(0x1b5)],'currency_data':[{'currency':_0x15a0a7,'setMtoPrecioCostoUnitario':_0x39a399[_0x2672be(0x87)],'setMtoPrecioUnitario':_0x39a399[_0x2672be(0x192)],'setPriceLists':[]}],'sucursales':_0x2275e2[_0x2672be(0x1ba)][_0x2672be(0x19e)](_0x2138b9=>({'setIdSucursal':_0x2138b9[_0x2672be(0xa1)],'setSucursalStock':_0x2138b9[_0x2672be(0x195)][_0x2672be(0xef)](),'setWarehouseStockMin':_0x2138b9[_0x2672be(0x197)][_0x2672be(0xef)]()})),'setItemFree':_0x2275e2[_0x2672be(0x130)],'setItemBarCode':_0x2275e2['setItemBarCode'],'setItemBrands':_0x2275e2['setItemBrands'][_0x2672be(0x1ab)](),'setItemCategories':_0x2275e2[_0x2672be(0x173)][_0x2672be(0x1ab)](),'setItemComponents':_0x2275e2['setItemComponents'][_0x2672be(0x19e)](_0x2c96c6=>({..._0x2c96c6})),'setItemImages':_0x2275e2['setItemImages'][_0x2672be(0x1ab)](),'setItemVariantName':_0x2275e2[_0x2672be(0xc3)],'setItemVariantValues':{..._0x2275e2[_0x2672be(0xc1)]}};_0x894060[_0x2672be(0xfa)](_0x3fdaba),(_0x269071[_0x2672be(0x186)]||_0x61d513==0x1)&&addToCart(_0x3fdaba);});}),console[_0x535559(0x18c)](_0x535559(0xbd),newItems),await finalizeImport(_0x894060,newItems,![]);}),[_0x1cfd5d(0x184),'dragover'][_0x1cfd5d(0xc4)](_0x212241=>dropZone[_0x1cfd5d(0xde)](_0x212241,_0x310ecc=>{var _0x3f5a0b=_0x1cfd5d;_0x310ecc[_0x3f5a0b(0x106)](),dropZone[_0x3f5a0b(0x10d)][_0x3f5a0b(0x13c)](_0x3f5a0b(0xe9));})),[_0x1cfd5d(0x134),_0x1cfd5d(0xc5)]['forEach'](_0x3b1f59=>dropZone[_0x1cfd5d(0xde)](_0x3b1f59,_0x3e52fe=>{var _0x52f8c9=_0x1cfd5d;_0x3e52fe[_0x52f8c9(0x106)](),dropZone[_0x52f8c9(0x10d)][_0x52f8c9(0x182)]('dragover');})),dropZone[_0x1cfd5d(0xde)](_0x1cfd5d(0xc5),_0x11bae4=>{var _0x2f71a8=_0x1cfd5d;const _0x296c79=_0x11bae4[_0x2f71a8(0x9b)][_0x2f71a8(0x1ad)][0x0];if(!_0x296c79)return;fileInput[_0x2f71a8(0x1ad)]=_0x11bae4[_0x2f71a8(0x9b)][_0x2f71a8(0x1ad)],dropZone[_0x2f71a8(0x1ac)](_0x2f71a8(0x179))[_0x2f71a8(0x8b)]=_0x296c79['name'],removeBtn['hidden']=![],fileInput[_0x2f71a8(0x131)](new Event('change'));}),removeBtn[_0x1cfd5d(0xde)](_0x1cfd5d(0x12b),()=>{var _0x598094=_0x1cfd5d;fileInput[_0x598094(0x135)]='',dropZone['querySelector'](_0x598094(0x179))[_0x598094(0x8b)]=_0x598094(0x1a1),removeBtn[_0x598094(0x8a)]=!![],progressBar[_0x598094(0xb5)]['display']=_0x598094(0x105),statusDiv['textContent']='',uploadBtn[_0x598094(0x19b)]=!![];});const exportBtn=document[_0x1cfd5d(0xcf)](_0x1cfd5d(0xf6));exportBtn[_0x1cfd5d(0xde)](_0x1cfd5d(0x12b),onClickExportarItems);async function onClickExportarItems(){var _0x7aeb41=_0x1cfd5d;if(!Array[_0x7aeb41(0x119)](products)||!products[_0x7aeb41(0xfd)]){ntfShow(_0x7aeb41(0xd2));return;}try{const _0x4fef6f=await fetch(_0x7aeb41(0xa9));if(!_0x4fef6f['ok'])throw new Error(_0x7aeb41(0x1b1));const _0x103ff2=await _0x4fef6f[_0x7aeb41(0x10e)](),_0x1d134b=document[_0x7aeb41(0xcf)]('setWarehouseId')[_0x7aeb41(0x135)];let _0x5859d6=products;const _0x384ebb=getUserPermissionApiERP(0x2);_0x384ebb==0x1&&(_0x5859d6=products[_0x7aeb41(0x1c1)](_0x2a67d6=>Array[_0x7aeb41(0x119)](_0x2a67d6[_0x7aeb41(0x10b)])&&_0x2a67d6[_0x7aeb41(0x10b)][_0x7aeb41(0xdd)](_0x190ddc=>String(_0x190ddc['setIdSucursal'])==String(_0x1d134b))));const _0x51ced0=_0x5859d6['reduce']((_0x44c81b,_0x1c8eb8)=>{var _0x27ff7c=_0x7aeb41;const _0x2195c3=_0x1c8eb8[_0x27ff7c(0x136)];if(!_0x44c81b[_0x2195c3])_0x44c81b[_0x2195c3]=[];return _0x44c81b[_0x2195c3][_0x27ff7c(0xfa)](_0x1c8eb8),_0x44c81b;},{}),_0x2bfd70=Object['values'](_0x51ced0)[_0x7aeb41(0x19e)](_0x4eaadd=>{var _0x4e34cf=_0x7aeb41;const _0x5ee7a4=_0x4eaadd[0x0],_0x108436=_0x4eaadd[0x1]||{},_0x1fcdc9=_0x4eaadd[0x2]||{};function _0x1ae010(_0x5b5479,_0x31c226,_0x3e7592){var _0x148281=_0x1821;if(!_0x5b5479||!Array['isArray'](_0x5b5479[_0x148281(0xf7)]))return'';const _0x37a86f=_0x5b5479[_0x148281(0xf7)][_0x148281(0x1c3)](_0x274143=>_0x274143['currency']===_0x31c226);return _0x37a86f?_0x37a86f[_0x3e7592]:'';}return{'id':_0x5ee7a4[_0x4e34cf(0x136)],'setItemType':_0x5ee7a4[_0x4e34cf(0x1a9)],'setCodProducto':_0x5ee7a4['setCodProducto'],'setDescripcion':_0x5ee7a4[_0x4e34cf(0x164)],'setItemDescription':_0x5ee7a4[_0x4e34cf(0x1a5)],'setItemIsSold':_0x5ee7a4[_0x4e34cf(0x1c2)],'setItemIsBought':_0x5ee7a4[_0x4e34cf(0x19c)],'setCategoria':_0x5ee7a4['setCategoria'],'setMarca':_0x5ee7a4['setMarca'],'setTaxId':_0x5ee7a4[_0x4e34cf(0x1d5)],'setUnitId':_0x5ee7a4['id'],'setItemBarCode':_0x5ee7a4[_0x4e34cf(0xa2)],'setUnidadCodigo':_0x5ee7a4[_0x4e34cf(0x1c4)],'setItemUnitAlias':_0x5ee7a4[_0x4e34cf(0x118)]??'','PEN_setMtoPrecioUnitario':_0x1ae010(_0x5ee7a4,_0x4e34cf(0xe5),_0x4e34cf(0xda)),'PEN_setMtoPrecioCostoUnitario':_0x1ae010(_0x5ee7a4,_0x4e34cf(0xe5),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x1ae010(_0x5ee7a4,'USD',_0x4e34cf(0xda)),'USD_setMtoPrecioCostoUnitario':_0x1ae010(_0x5ee7a4,_0x4e34cf(0x104),_0x4e34cf(0x1a0)),'setItemCommissionPercentage':_0x5ee7a4[_0x4e34cf(0x162)]?parseFloat(_0x5ee7a4[_0x4e34cf(0x162)]):'','setUnitId2':_0x108436['id']??'','setItemBarCode2':_0x108436['setItemBarCode']??'','setUnidadCodigo2':_0x108436[_0x4e34cf(0x1c4)]??'','setItemUnitAlias2':_0x108436['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x108436[_0x4e34cf(0x17a)]??'','PEN_setMtoPrecioUnitario2':_0x1ae010(_0x108436,_0x4e34cf(0xe5),_0x4e34cf(0xda))??'','PEN_setMtoPrecioCostoUnitario2':_0x1ae010(_0x108436,_0x4e34cf(0xe5),_0x4e34cf(0x1a0))??'','USD_setMtoPrecioUnitario2':_0x1ae010(_0x108436,'USD',_0x4e34cf(0xda))??'','USD_setMtoPrecioCostoUnitario2':_0x1ae010(_0x108436,'USD',_0x4e34cf(0x1a0))??'','setItemCommissionPercentage2':_0x108436[_0x4e34cf(0x162)]?parseFloat(_0x108436[_0x4e34cf(0x162)]):'','setUnitId3':_0x1fcdc9['id']??'','setItemBarCode3':_0x1fcdc9[_0x4e34cf(0xa2)]??'','setUnidadCodigo3':_0x1fcdc9[_0x4e34cf(0x1c4)]??'','setItemUnitAlias3':_0x1fcdc9['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x1fcdc9[_0x4e34cf(0x17a)]??'','PEN_setMtoPrecioUnitario3':_0x1ae010(_0x1fcdc9,_0x4e34cf(0xe5),_0x4e34cf(0xda))??'','PEN_setMtoPrecioCostoUnitario3':_0x1ae010(_0x1fcdc9,_0x4e34cf(0xe5),_0x4e34cf(0x1a0))??'','USD_setMtoPrecioUnitario3':_0x1ae010(_0x1fcdc9,_0x4e34cf(0x104),_0x4e34cf(0xda))??'','USD_setMtoPrecioCostoUnitario3':_0x1ae010(_0x1fcdc9,'USD',_0x4e34cf(0x1a0))??'','setItemCommissionPercentage3':_0x1fcdc9['setItemCommissionPercentage']?parseFloat(_0x1fcdc9[_0x4e34cf(0x162)]):'','setInventariable':_0x5ee7a4[_0x4e34cf(0x12f)],'setSucursalStock':_0x384ebb==0x1?_0x5ee7a4['sucursales']['find'](_0x578b39=>String(_0x578b39['setIdSucursal'])==String(_0x1d134b))['setSucursalStock']:'','setWarehouseStockMin':_0x384ebb==0x1?_0x5ee7a4[_0x4e34cf(0x10b)][_0x4e34cf(0x1c3)](_0xa9107=>String(_0xa9107['setIdSucursal'])==String(_0x1d134b))['setWarehouseStockMin']:'','setBatchName':_0x5ee7a4['setBatchName'],'setBatchExpirationDate':_0x5ee7a4[_0x4e34cf(0x19d)],..._0x5ee7a4[_0x4e34cf(0xc1)]};});try{JSON[_0x7aeb41(0x11b)](_0x2bfd70);}catch(_0x141764){console[_0x7aeb41(0xc2)](_0x7aeb41(0x1b7),_0x141764),ntfShow(_0x7aeb41(0x137));return;}statusDiv[_0x7aeb41(0x8b)]=_0x7aeb41(0x121),progressBar[_0x7aeb41(0xb5)][_0x7aeb41(0x1b2)]=_0x7aeb41(0x102),progressBar[_0x7aeb41(0x135)]=0x0,itemWorker[_0x7aeb41(0xbf)]({'action':_0x7aeb41(0x1c6),'products':_0x2bfd70,'plantillaBuf':_0x103ff2},[_0x103ff2]);}catch(_0x10d3f6){console[_0x7aeb41(0xc2)](_0x10d3f6),ntfShow(_0x7aeb41(0x193)+_0x10d3f6[_0x7aeb41(0x94)]);}}itemWorker[_0x1cfd5d(0x9c)]=({data:_0x4dfece})=>{var _0x177327=_0x1cfd5d;const {type:_0x30806f,payload:_0x5ec599}=_0x4dfece;_0x30806f==='progress'&&(progressBar['style'][_0x177327(0x1b2)]=_0x177327(0x102),progressBar[_0x177327(0x135)]=_0x5ec599[_0x177327(0x93)],statusDiv['textContent']=_0x5ec599[_0x177327(0x94)]);_0x30806f===_0x177327(0x138)&&(newItemsExcel=_0x5ec599[_0x177327(0x1cb)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x177327(0xfd)]+'\x20items\x20procesados.',uploadBtn[_0x177327(0x19b)]=![],progressBar[_0x177327(0x135)]=0x64,console[_0x177327(0x18c)](newItemsExcel));_0x30806f===_0x177327(0xc2)&&(statusDiv[_0x177327(0x8b)]=_0x177327(0xb6)+_0x5ec599,progressBar[_0x177327(0xb5)][_0x177327(0x1b2)]='none');if(_0x30806f===_0x177327(0xc6)){const {wbout:_0x3b0c03,count:_0x5419bf}=_0x5ec599,_0x3b34f6=new Blob([_0x3b0c03],{'type':_0x177327(0x176)}),_0x3da5bf=URL[_0x177327(0x15d)](_0x3b34f6),_0x10da8b=document[_0x177327(0x1c9)]('a'),_0x2f04ad=new Date()[_0x177327(0x15f)]()[_0x177327(0x1ab)](0x0,0xa);_0x10da8b[_0x177327(0x13f)]='Plantilla-Items-Export-'+_0x2f04ad+'.xlsx',_0x10da8b[_0x177327(0xa0)]=_0x3da5bf,_0x10da8b[_0x177327(0x12b)](),URL[_0x177327(0x18e)](_0x3da5bf),statusDiv[_0x177327(0x8b)]=_0x177327(0xfe)+_0x5419bf+'\x20items.',progressBar[_0x177327(0xb5)][_0x177327(0x1b2)]='none';}},fileInput[_0x1cfd5d(0xde)](_0x1cfd5d(0x196),async _0x31992e=>{var _0x249c84=_0x1cfd5d;const _0x576302=_0x31992e[_0x249c84(0xac)][_0x249c84(0x1ad)][0x0];if(!_0x576302)return;uploadBtn[_0x249c84(0x19b)]=!![],newItemsExcel=null,statusDiv[_0x249c84(0x8b)]='',progressBar[_0x249c84(0xb5)][_0x249c84(0x1b2)]=_0x249c84(0x105),dropZone[_0x249c84(0x1ac)]('.drop-zone__prompt')['textContent']=_0x576302[_0x249c84(0x1d8)],removeBtn[_0x249c84(0x8a)]=![];try{const _0x41f183=await _0x576302[_0x249c84(0x10e)]();itemWorker['postMessage']({'action':_0x249c84(0x155),'buf':_0x41f183,'maxRows':0x1388});}catch(_0x15d874){statusDiv[_0x249c84(0x8b)]=_0x249c84(0x127);}finally{fileInput[_0x249c84(0x135)]='';}}),uploadBtn['addEventListener'](_0x1cfd5d(0x12b),async()=>{var _0x15dca7=_0x1cfd5d;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x34d5eb=document[_0x15dca7(0xcf)](_0x15dca7(0x14e))[_0x15dca7(0x135)],_0x4eaf13=[];newItemsExcel[_0x15dca7(0xc4)](_0x1c9678=>{var _0x63373d=_0x15dca7;const _0x138daf=Boolean(_0x1c9678[_0x63373d(0x1b8)]),_0x1eb8b2=_0x138daf?_0x1c9678['setItemId']:generateNumericUniqId();_0x1c9678[_0x63373d(0x1ba)]=[{'setStockInitial':_0x1c9678[_0x63373d(0x195)],'setStockMinimum':_0x1c9678[_0x63373d(0x197)],'setWarehouseCode':_0x34d5eb}],_0x1c9678[_0x63373d(0x111)][_0x63373d(0xc4)](_0x15a171=>{var _0x52752d=_0x63373d;const _0x37cd03=Boolean(_0x15a171[_0x52752d(0x175)]),_0x15f2a6=_0x37cd03?_0x15a171['setItemUnitId']:generateNumericUniqId();_0x15a171['setItemUnitId']=_0x15f2a6;const _0x105f94=[];_0x105f94[_0x52752d(0xfa)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x15a171[_0x52752d(0x87)],'setMtoPrecioUnitario':_0x15a171['setPrice'],'setPriceLists':[]});const _0x3e9286=_0x15a171[_0x52752d(0xae)]!=null&&_0x15a171[_0x52752d(0x122)]!=null&&(!isNaN(_0x15a171[_0x52752d(0xae)])||!isNaN(_0x15a171[_0x52752d(0x122)]));_0x3e9286&&_0x105f94[_0x52752d(0xfa)]({'currency':_0x52752d(0x104),'setMtoPrecioCostoUnitario':_0x15a171['setCostUSD'],'setMtoPrecioUnitario':_0x15a171[_0x52752d(0x122)],'setPriceLists':[]});const _0x32def6={'id':_0x15f2a6,'setIdProducto':_0x1eb8b2,'setItemBarCode':_0x15a171[_0x52752d(0xa2)],'setCodProducto':_0x1c9678['setItemCode'],'setDescripcion':_0x1c9678[_0x52752d(0x14a)],'setItemDescription':_0x1c9678[_0x52752d(0x1a5)],'setBatchExpirationDate':_0x1c9678[_0x52752d(0x1b9)],'setBatchName':_0x1c9678[_0x52752d(0xbb)],'setItemIsSold':_0x1c9678[_0x52752d(0x1c2)],'setItemIsBought':_0x1c9678[_0x52752d(0x19c)],'setCategoria':_0x1c9678[_0x52752d(0x173)][0x0]||'','setMarca':_0x1c9678[_0x52752d(0xcc)][0x0]||'','setConversionFactor':parseFloat(_0x15a171[_0x52752d(0x18f)]),'setImages':[],'setImg':_0x52752d(0x1d4),'setInventariable':_0x1c9678[_0x52752d(0x18a)],'setPorcentajeIgv':_0x1c9678[_0x52752d(0x1a2)],'setPrinters':[],'setTaxId':_0x1c9678[_0x52752d(0x91)],'setTipAfeIgv':_0x1c9678[_0x52752d(0x17f)],'setUnidad':_0x15a171[_0x52752d(0x140)],'setUnidadCodigo':_0x15a171[_0x52752d(0x140)],'setItemUnitAlias':_0x15a171[_0x52752d(0x1b5)],'setItemCommissionPercentage':_0x15a171[_0x52752d(0x162)],'currency_data':_0x105f94,'sucursales':_0x1c9678[_0x52752d(0x1ba)][_0x52752d(0x19e)](_0x2d7c81=>({'setIdSucursal':_0x2d7c81[_0x52752d(0xa1)],'setSucursalStock':_0x2d7c81[_0x52752d(0x195)]['toString'](),'setWarehouseStockMin':_0x2d7c81[_0x52752d(0x197)][_0x52752d(0xef)]()})),'setItemFree':_0x1c9678['setItemFree'],'setItemBrands':_0x1c9678['setItemBrands'][_0x52752d(0x1ab)](),'setItemCategories':_0x1c9678[_0x52752d(0x173)][_0x52752d(0x1ab)](),'setItemComponents':_0x1c9678[_0x52752d(0x116)][_0x52752d(0x19e)](_0x3ea1c1=>({..._0x3ea1c1})),'setItemImages':_0x1c9678[_0x52752d(0xf5)][_0x52752d(0x1ab)](),'setItemVariantName':_0x1c9678[_0x52752d(0xc3)],'setItemVariantValues':{..._0x1c9678[_0x52752d(0xc1)]}},_0xf5ad2=products[_0x52752d(0x142)](_0x45404f=>_0x45404f['id']==_0x15f2a6&&_0x45404f[_0x52752d(0x136)]==_0x1eb8b2);_0xf5ad2>-0x1?Object[_0x52752d(0x1bc)](products[_0xf5ad2],_0x32def6):_0x4eaf13[_0x52752d(0xfa)](_0x32def6);});}),console[_0x15dca7(0x18c)](_0x15dca7(0xbd),newItemsExcel),await finalizeImport(_0x4eaf13,newItemsExcel,!![]);});function initializeFormImages(){var _0x45e8e4=_0x1cfd5d;currentImages=Array(MAX_IMAGES)[_0x45e8e4(0xb8)](null),imgC[_0x45e8e4(0xab)]='',baseItem['setItemImages']=[];for(var _0x1693a4=0x0;_0x1693a4<MAX_IMAGES;_0x1693a4++){(function(_0x1e1b9b){var _0x1d3b5f=_0x45e8e4,_0x299f66=document[_0x1d3b5f(0x1c9)](_0x1d3b5f(0x153));_0x299f66[_0x1d3b5f(0xe0)]=_0x1d3b5f(0x1bb),_0x299f66[_0x1d3b5f(0xc7)][_0x1d3b5f(0x90)]=_0x1e1b9b;var _0x19b645=document[_0x1d3b5f(0x1c9)]('input');_0x19b645[_0x1d3b5f(0xe7)]='file',_0x19b645['accept']=_0x1d3b5f(0xf2),_0x19b645[_0x1d3b5f(0xb5)]['display']='none';var _0x5c5874=document[_0x1d3b5f(0x1c9)]('span');_0x5c5874[_0x1d3b5f(0x8b)]='+',_0x299f66[_0x1d3b5f(0x8e)](_0x19b645),_0x299f66['appendChild'](_0x5c5874),imgC[_0x1d3b5f(0x8e)](_0x299f66),_0x299f66['addEventListener'](_0x1d3b5f(0x12b),function(){var _0x4255ca=_0x1d3b5f;_0x19b645[_0x4255ca(0x12b)]();}),_0x19b645[_0x1d3b5f(0xde)](_0x1d3b5f(0x196),function(_0x5012f8){var _0x4d15a7=_0x1d3b5f,_0x1d1a6a=_0x5012f8[_0x4d15a7(0xac)][_0x4d15a7(0x1ad)][0x0];if(!_0x1d1a6a)return removeImg(_0x1e1b9b);var _0x21d2ec=new FileReader();_0x21d2ec['onload']=function(_0xa82070){var _0x206fb6=_0x4d15a7;_0x299f66['innerHTML']='<img\x20src=\x22'+_0xa82070[_0x206fb6(0xac)]['result']+'\x22>';var _0x18dc9c=document['createElement'](_0x206fb6(0xcb));_0x18dc9c['className']='remove',_0x18dc9c[_0x206fb6(0x8b)]='×',_0x18dc9c[_0x206fb6(0xde)](_0x206fb6(0x12b),function(_0x1f3601){var _0x3bf179=_0x206fb6;_0x1f3601[_0x3bf179(0x1b4)](),removeImg(_0x1e1b9b);}),_0x299f66[_0x206fb6(0x8e)](_0x18dc9c),currentImages[_0x1e1b9b]=_0x1d1a6a,baseItem[_0x206fb6(0xf5)]=currentImages[_0x206fb6(0x1c1)](function(_0x35aeb3){return _0x35aeb3;});},_0x21d2ec[_0x4d15a7(0x141)](_0x1d1a6a);});}(_0x1693a4));}}function initializeFormIsSoldIsBought(_0x6a9149=0x0){var _0x2ca25f=_0x1cfd5d;let _0x58394d,_0x2cecce;if(_0x6a9149!=0x0){const _0x41514b=products[_0x2ca25f(0x1c3)](_0x40cc98=>_0x40cc98['id']==_0x6a9149);_0x58394d=_0x41514b[_0x2ca25f(0x19c)]==0x1||_0x41514b[_0x2ca25f(0x19c)]==!![]?!![]:![],_0x2cecce=_0x41514b[_0x2ca25f(0x1c2)]==0x1||_0x41514b[_0x2ca25f(0x1c2)]==!![]?!![]:![];}else _0x58394d=!![],_0x2cecce=!![];document['getElementById'](_0x2ca25f(0x110))[_0x2ca25f(0x186)]=_0x58394d,document[_0x2ca25f(0xcf)]('newItem_chk_sell')['checked']=_0x2cecce,baseItem[_0x2ca25f(0x19c)]=_0x58394d,baseItem[_0x2ca25f(0x1c2)]=_0x2cecce;}function _0xa3ec(){var _0x598041=['revokeObjectURL','setFactor','1275093AgjmNk','inputItemCode','setPrice','Error\x20al\x20obtener\x20la\x20plantilla:\x20','newItem_btn_addUnit','setStockInitial','change','setStockMinimum','newItem_title_table','progress','blur','disabled','setItemIsBought','setBatchExpirationDate','map','inputItemBarCode','setMtoPrecioCostoUnitario','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setItemTaxValue','contains','setAuthToken','setItemDescription','newItem_proditems_container','newItem_title_table_cp','Error\x20al\x20procesar\x20la\x20operación:','setItemType','console','slice','querySelector','files','.prodInput','.removeUnit','\x22\x20value=\x22','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','display','(((.+)+)+)+$','stopPropagation','setAlias','setItemCategoryName','ERROR:\x20plainProducts\x20no\x20serializable:','setItemId','setItemDateExpiry','setItemWarehouses','image_box','assign','mousedown','newItem_variant_groups','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','search','filter','setItemIsSold','find','setUnidadCodigo','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','exportItems','compare','inputItemDescription','createElement','newItem_btn_addProdItem','items','status','.unitAlias','16OOEUtm','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemBrandName','setMarca','./img/product.png','setTaxId','7506ysAEaU','max','name','base','setCost','transaction','unitAlias','hidden','textContent','4220030adqPLO','.selected_tags','appendChild','unitSelect','idx','setItemTaxId','newItem_images_container','percent','message','children','exception','keydown','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','flatMap','setCode','dataTransfer','onmessage','constructor','#newItem_categories_select\x20.options_list','setItemCode','href','setWarehouseCode','setItemBarCode','input','.options_list','./js/apierp_item_wk.min.js','.unitSelect','div[data-default=\x22true\x22]\x20.eqInput','.priceInput','./excel/Plantilla-Items.xlsx','Enter','innerHTML','target','splice','setCostUSD','setImpuestos','_branch_container','table','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','true','selectedItem','style','❌\x20Error:\x20','newItem_addToCart','fill','offline_operations','#newItem_categories_select\x20.selected_tags','setBatchName','.prodQty','Items\x20finales:','.variantForm','postMessage','384228TTaejY','setItemVariantValues','error','setItemVariantName','forEach','drop','exportDone','dataset','code','10fxyYev','newItem_units_container','span','setItemBrands','203196haWDdn','19toWlRY','getElementById','setCategoria','Error\x20al\x20guardar\x20Producto\x20Offline:','No\x20hay\x20items\x20para\x20exportar.','.variantBarCode','setUnitName','toggle','inputItemTax','match','currentTarget','entries','setMtoPrecioUnitario','accept','newItem_brands_select','some','addEventListener','.vgVals','className','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','</div>','trim','setCodProducto','PEN','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','type','inputItemName','dragover','newItem_hidden','.vgName','key','100','getElementsByClassName','toString','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','parse','image/*','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','setItemImages','btnExportarItems','currency_data','Ingresa\x20el\x20código\x20del\x20item','toLowerCase','push','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','{}.constructor(\x22return\x20this\x22)(\x20)','length','✅\x20Exportación\x20completada:\x20','Nuevo\x20Producto','.addVariantComp','.removeVariant','block','Collator','USD','none','preventDefault','default','.addVariantUnit','.options_list\x20div','newItem_categories_select','sucursales','setImpuestoCode','classList','arrayBuffer','Producto\x20Guardado\x20Offline\x20Correctamente.','newItem_chk_buy','setItemUnits','setTaxIdDefault','costInput','split','11FOklcT','setItemComponents','detalleModalCreateItem','setItemUnitAlias','isArray','_comp_container','stringify','includes','setUnits','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','remove-tag','setImpuestoName','Generando\x20Excel...','setPriceUSD','setWarehouseName','\x22\x20class=\x22branchChk\x22\x20checked>\x20','oncomplete','detail','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','file','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','querySelectorAll','click','#newItem_branches_container\x20>\x20div','#newItem_units_container\x20>\x20div','join','setInventariable','setItemFree','dispatchEvent','.removeCombo','setMoneda','dragleave','value','setIdProducto','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','done','parentNode','.removeProd','<div\x20class=\x22newItem_col\x22>','add','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setName','download','setUnitCode','readAsDataURL','findIndex','.costInput','bind','objectStore','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','.prod_input_container','[data-idx=\x22','info','setItemName','1845004nDUjIK','vals','readwrite','setWarehouseId','.branchMin','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','onerror','from','div','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','import','</label>','_units_container','modalOverlayCreateItem','.ms_input','__proto__','setImpuestoValue','.branchInit','createObjectURL','test','toISOString','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','return\x20(function()\x20','setItemCommissionPercentage','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setDescripcion','every','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','inputItemType','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','#newItem_brands_select\x20.options_list','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.variantCode','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.eqInput','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','active','selectionChange','undefined','setItemCategories','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setItemUnitId','application/octet-stream','\x22\x20class=\x22branchChk\x22>\x20','drop-zone','.drop-zone__prompt','setConversionFactor','#newItem_brands_select\x20.selected_tags','variant_','newItem_chk_sell','windowId','setItemTaxCode','tag','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','remove','.branchChk','dragenter','[id$=\x22_comp_container\x22]','checked','style=\x22display:none\x22','19604BxTPCX','now','setItemInventoriable','setCantidad','log','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'];_0xa3ec=function(){return _0x598041;};return _0xa3ec();}function initializeFormInputsBasic(_0x511b62=0x0){var _0x254eb5=_0x1cfd5d;let _0x59e22e,_0x3f769e,_0xdb8eef,_0x53153f,_0x383a5b,_0x468801;if(_0x511b62!=0x0){const _0x17fafd=products[_0x254eb5(0x1c3)](_0x5a9dd2=>_0x5a9dd2['id']==_0x511b62);_0x59e22e=_0x17fafd[_0x254eb5(0x1a9)]??'1',_0x3f769e=_0x17fafd[_0x254eb5(0xe4)],_0xdb8eef=_0x17fafd[_0x254eb5(0x164)],_0x53153f=_0x17fafd[_0x254eb5(0x1a5)],_0x383a5b=_0x17fafd[_0x254eb5(0x19d)]??'',_0x468801=_0x17fafd[_0x254eb5(0xa2)];}else _0x59e22e='1',_0x3f769e=getNextCode(products),_0xdb8eef='',_0x53153f='',_0x383a5b='',_0x468801='';document['getElementById'](_0x254eb5(0x167))['value']=_0x59e22e,document[_0x254eb5(0xcf)](_0x254eb5(0x191))[_0x254eb5(0x135)]=_0x3f769e,document['getElementById'](_0x254eb5(0xe8))[_0x254eb5(0x135)]=_0xdb8eef,document[_0x254eb5(0xcf)](_0x254eb5(0x1c8))[_0x254eb5(0x135)]=_0x53153f,document[_0x254eb5(0xcf)]('inputItemDateExpiry')[_0x254eb5(0x135)]=_0x383a5b,document[_0x254eb5(0xcf)]('inputItemBarCode')[_0x254eb5(0x135)]=_0x468801,baseItem[_0x254eb5(0x1a9)]=_0x59e22e,baseItem[_0x254eb5(0x9f)]=_0x3f769e,baseItem[_0x254eb5(0x14a)]=_0xdb8eef,baseItem[_0x254eb5(0x1a5)]=_0x53153f,baseItem[_0x254eb5(0x1b9)]=_0x383a5b,baseItem['setItemBarCode']=_0x468801,document['getElementById'](_0x254eb5(0xb7))['checked']=![];}function initializeFormTax(_0x5b257f=0x0){var _0x368aba=_0x1cfd5d;let _0x2768d5;if(_0x5b257f!=0x0){const _0x2e8c72=products[_0x368aba(0x1c3)](_0x4ff8af=>_0x4ff8af['id']==_0x5b257f);_0x2768d5=_0x2e8c72[_0x368aba(0x1d5)];}else _0x2768d5=myCompany[_0x368aba(0x112)];const _0x7a6e92=document[_0x368aba(0xcf)](_0x368aba(0xd6));_0x7a6e92[_0x368aba(0x135)]=_0x2768d5,baseItem['setItemTaxId']=_0x2768d5;const _0x1f30d9=company[0x0][_0x368aba(0xaf)]['find'](_0x190f72=>_0x190f72['setTaxId']==_0x2768d5)?.[_0x368aba(0x10c)]||0x0,_0x2c59ac=company[0x0][_0x368aba(0xaf)][_0x368aba(0x1c3)](_0x1f0215=>_0x1f0215[_0x368aba(0x1d5)]==_0x2768d5)?.[_0x368aba(0x15b)]||0x0;baseItem[_0x368aba(0x17f)]=_0x1f30d9,baseItem[_0x368aba(0x1a2)]=_0x2c59ac;}function initializeFormCategoriesBrands(_0x5ae775=0x0){var _0x25a04d=_0x1cfd5d;baseItem['setItemCategories']=[],baseItem[_0x25a04d(0xcc)]=[],document['querySelector'](_0x25a04d(0xba))[_0x25a04d(0xab)]='',document[_0x25a04d(0x1ac)](_0x25a04d(0x9e))['innerHTML']='',document[_0x25a04d(0x1ac)](_0x25a04d(0x17b))[_0x25a04d(0xab)]='',document['querySelector'](_0x25a04d(0x169))[_0x25a04d(0xab)]='';const _0x4a8cf9=myCompany[_0x25a04d(0x173)][_0x25a04d(0x19e)](_0x30bd15=>({'setCode':_0x30bd15['setItemCategoryName'],'setName':_0x30bd15[_0x25a04d(0x1b6)]})),_0x3eb1a9=myCompany['setItemBrands'][_0x25a04d(0x19e)](_0x280cf0=>({'setCode':_0x280cf0[_0x25a04d(0x1d2)],'setName':_0x280cf0[_0x25a04d(0x1d2)]}));initMulti(_0x25a04d(0x10a),_0x4a8cf9),initMulti(_0x25a04d(0xdc),_0x3eb1a9),document[_0x25a04d(0xcf)](_0x25a04d(0x10a))[_0x25a04d(0xde)](_0x25a04d(0x171),function(_0x3f04f2){var _0x3ded26=_0x25a04d;baseItem[_0x3ded26(0x173)]=_0x3f04f2[_0x3ded26(0x126)][_0x3ded26(0x19e)](_0x3e4bc7=>_0x3e4bc7[_0x3ded26(0x9a)]);}),document[_0x25a04d(0xcf)](_0x25a04d(0xdc))[_0x25a04d(0xde)](_0x25a04d(0x171),function(_0x33162d){var _0x17be44=_0x25a04d;baseItem[_0x17be44(0xcc)]=_0x33162d[_0x17be44(0x126)]['map'](_0x416606=>_0x416606['setCode']);});if(_0x5ae775!=0x0){const _0x5ec604=products['find'](_0x29bad4=>_0x29bad4['id']==_0x5ae775);if(_0x5ec604[_0x25a04d(0xd0)]){const _0x3978b3=document['getElementById'](_0x25a04d(0x10a)),_0x397e5a=Array['from'](_0x3978b3[_0x25a04d(0x12a)](_0x25a04d(0x109)))[_0x25a04d(0x1c3)](_0x1c627e=>_0x1c627e[_0x25a04d(0xc7)]['code']==_0x5ec604[_0x25a04d(0xd0)]);_0x397e5a&&_0x397e5a[_0x25a04d(0x12b)]();}if(_0x5ec604[_0x25a04d(0x1d3)]){const _0x19d5ce=document['getElementById']('newItem_brands_select'),_0x5032e2=Array[_0x25a04d(0x152)](_0x19d5ce[_0x25a04d(0x12a)](_0x25a04d(0x109)))['find'](_0x3ce6e1=>_0x3ce6e1[_0x25a04d(0xc7)][_0x25a04d(0xc8)]==_0x5ec604['setMarca']);_0x5032e2&&_0x5032e2[_0x25a04d(0x12b)]();}}}function initializeFormUnits(){var _0x56a922=_0x1cfd5d;unitCount=0x0,document[_0x56a922(0xcf)](_0x56a922(0xca))['innerHTML']='',baseItem[_0x56a922(0x111)]=[];var _0x19802b=uniqueValuesArray(_0x56a922(0x140),_0x56a922(0xd4),myCompany[_0x56a922(0x11d)]);addUnit('',_0x19802b[0x3a]&&_0x19802b[0x3a][_0x56a922(0x9a)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3e422f=_0x1cfd5d;prodC[_0x3e422f(0xab)]='',baseItem[_0x3e422f(0x116)]=[],updateProdItems();}function initializeFormWarehouses(){var _0xc85c10=_0x1cfd5d;branchesC['innerHTML']='',baseItem[_0xc85c10(0x1ba)]=[];const _0x2c3803=getAllWarehouses();_0x2c3803['forEach'](function(_0x1c8bf6){var _0x1da371=_0xc85c10,_0x4c298a=document[_0x1da371(0x1c9)]('div');_0x4c298a[_0x1da371(0xab)]=_0x1da371(0x98)+_0x1da371(0x13b)+_0x1da371(0xf3)+_0x1c8bf6[_0x1da371(0x14e)]+_0x1da371(0x124)+_0x1c8bf6[_0x1da371(0x123)]+_0x1da371(0x156)+_0x1da371(0xe2)+_0x1da371(0x13b)+_0x1da371(0x163)+_0x1c8bf6[_0x1da371(0x14e)]+'\x22>'+_0x1da371(0xe2)+_0x1da371(0x13b)+_0x1da371(0x1bf)+_0x1c8bf6[_0x1da371(0x14e)]+'\x22>'+'</div>'+_0x1da371(0xe2),branchesC[_0x1da371(0x8e)](_0x4c298a),_0x4c298a[_0x1da371(0x12a)]('input')[_0x1da371(0xc4)](function(_0x3b7de1){var _0x3fd136=_0x1da371;_0x3b7de1[_0x3fd136(0xde)]('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x32713b=_0x1cfd5d;baseItem[_0x32713b(0xc3)]='',baseItem[_0x32713b(0xc1)]={},vgC[_0x32713b(0xab)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x44d817,_0x58b10f,_0x52013d=![]){var _0x502bab=_0x1cfd5d;const _0x4dc35b=0xc8,_0x19f957={'apiPOSsendOffline':'1','setTipoOperacion':_0x502bab(0xed),'setToken':company[0x0][_0x502bab(0x1a4)],'setWebhook':company[0x0]['setWebhook']};for(let _0x286015=0x0;_0x286015<_0x58b10f[_0x502bab(0xfd)];_0x286015+=_0x4dc35b){const _0x30c352=_0x58b10f['slice'](_0x286015,_0x286015+_0x4dc35b);await storeOfflineProduct({..._0x19f957,'newItems':_0x30c352});}products[_0x502bab(0xfa)](..._0x44d817),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x502bab(0x181)),_0x52013d?(fileInput[_0x502bab(0x135)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0x502bab(0xb5)][_0x502bab(0x1b2)]='none',progressBar[_0x502bab(0x135)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}