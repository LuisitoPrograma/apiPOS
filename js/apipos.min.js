/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.8
*/

const _0x37a403=_0x530c;(function(_0x5c6dbb,_0x5d60b9){const _0x322203=_0x530c,_0x3a1b1e=_0x5c6dbb();while(!![]){try{const _0x3e1f72=-parseInt(_0x322203(0x129))/0x1*(parseInt(_0x322203(0x3d1))/0x2)+parseInt(_0x322203(0x404))/0x3+parseInt(_0x322203(0x51c))/0x4*(parseInt(_0x322203(0x4d8))/0x5)+parseInt(_0x322203(0x3cc))/0x6*(-parseInt(_0x322203(0x17b))/0x7)+-parseInt(_0x322203(0x2c6))/0x8+parseInt(_0x322203(0x3ce))/0x9*(-parseInt(_0x322203(0x514))/0xa)+parseInt(_0x322203(0x1f2))/0xb*(parseInt(_0x322203(0x5c7))/0xc);if(_0x3e1f72===_0x5d60b9)break;else _0x3a1b1e['push'](_0x3a1b1e['shift']());}catch(_0x3e16ba){_0x3a1b1e['push'](_0x3a1b1e['shift']());}}}(_0x7f4c,0xe55a3));const _0x1cc12d=(function(){let _0x3cb810=!![];return function(_0x4e52c7,_0xbd10c7){const _0x3620f6=_0x3cb810?function(){if(_0xbd10c7){const _0x5dac54=_0xbd10c7['apply'](_0x4e52c7,arguments);return _0xbd10c7=null,_0x5dac54;}}:function(){};return _0x3cb810=![],_0x3620f6;};}()),_0x452b15=_0x1cc12d(this,function(){const _0x498cd1=_0x530c;return _0x452b15[_0x498cd1(0x2d6)]()['search']('(((.+)+)+)+$')['toString']()[_0x498cd1(0x50a)](_0x452b15)[_0x498cd1(0x19a)]('(((.+)+)+)+$');});_0x452b15();const _0x2b2bb1=(function(){let _0x28e47f=!![];return function(_0x498ebc,_0x8f44bc){const _0x28b09c=_0x28e47f?function(){const _0x72a067=_0x530c;if(_0x8f44bc){const _0x1c882f=_0x8f44bc[_0x72a067(0x4e5)](_0x498ebc,arguments);return _0x8f44bc=null,_0x1c882f;}}:function(){};return _0x28e47f=![],_0x28b09c;};}()),_0x42ece3=_0x2b2bb1(this,function(){const _0x3da73e=_0x530c,_0x55aed8=function(){const _0x4f784c=_0x530c;let _0x171d03;try{_0x171d03=Function(_0x4f784c(0x5ff)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x231502){_0x171d03=window;}return _0x171d03;},_0x237aa0=_0x55aed8(),_0xfc30f6=_0x237aa0[_0x3da73e(0x1d7)]=_0x237aa0['console']||{},_0x1adcbd=[_0x3da73e(0x6ab),'warn',_0x3da73e(0x48e),'error',_0x3da73e(0x6a4),_0x3da73e(0x600),_0x3da73e(0x4d9)];for(let _0x28bdc9=0x0;_0x28bdc9<_0x1adcbd[_0x3da73e(0x59a)];_0x28bdc9++){const _0x5b7c75=_0x2b2bb1['constructor']['prototype'][_0x3da73e(0x515)](_0x2b2bb1),_0x531ea1=_0x1adcbd[_0x28bdc9],_0x3b8a83=_0xfc30f6[_0x531ea1]||_0x5b7c75;_0x5b7c75['__proto__']=_0x2b2bb1[_0x3da73e(0x515)](_0x2b2bb1),_0x5b7c75[_0x3da73e(0x2d6)]=_0x3b8a83[_0x3da73e(0x2d6)][_0x3da73e(0x515)](_0x3b8a83),_0xfc30f6[_0x531ea1]=_0x5b7c75;}});_0x42ece3();const searchInput=document[_0x37a403(0x456)](_0x37a403(0x28b));let debounceTimer=null;searchInput[_0x37a403(0x3ad)](_0x37a403(0x210),()=>{const _0xda5715=_0x37a403,_0x44bd60=searchInput[_0xda5715(0x351)];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x44bd60,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x343232,_0x235cd6)=>{const _0xb748da=_0x530c;createCartStore('')[_0xb748da(0x323)](_0x7e848=>{const _0x289dc7=_0xb748da,_0x2a5253=_0x7e848[_0x289dc7(0x481)]('products',_0x289dc7(0x549)),_0x50c19f=_0x2a5253[_0x289dc7(0x35d)]('products'),_0x315f6e=_0x50c19f['clear']();_0x315f6e[_0x289dc7(0x618)]=_0x3c4a2c=>_0x235cd6(_0x3c4a2c[_0x289dc7(0x114)][_0x289dc7(0x65e)]),_0x315f6e[_0x289dc7(0x1c0)]=()=>{const _0x242b57=_0x289dc7;products['forEach'](_0x41e640=>_0x50c19f[_0x242b57(0x6bc)](_0x41e640));},_0x2a5253[_0x289dc7(0x349)]=()=>_0x343232(),_0x2a5253['onerror']=_0x2b4f4f=>_0x235cd6(_0x2b4f4f['target'][_0x289dc7(0x65e)]);})[_0xb748da(0x258)](_0x2f7941=>_0x235cd6(new Error(_0xb748da(0x571)+_0x2f7941)));});}function getUserPermissionApiERP(_0xcd31eb){const _0x114821=_0x37a403,_0x5acd90=myCompany[_0x114821(0x57a)],_0x22a6bc=myCompany[_0x114821(0x224)],_0x433d81=_0x5acd90[_0x114821(0x6b8)],_0x3f401d=_0x22a6bc[_0x114821(0x4bd)](_0x2006c1=>_0x2006c1[_0x114821(0x6b8)]==_0x433d81);if(!_0x3f401d)return console[_0x114821(0x140)](_0x114821(0x18d)),null;const _0x1fc5b5=_0x3f401d[_0x114821(0x1ed)]['find'](_0x3e6f98=>_0x3e6f98['setPermissionId']==_0xcd31eb);return _0x1fc5b5?_0x1fc5b5[_0x114821(0x304)]:null;}function getLoggedUserSeries(){const _0xb874be=_0x37a403,{setUser_Local:_0x538713,setUsers:_0xcd4d46}=myCompany;if(!_0x538713||!_0xcd4d46)return console[_0xb874be(0x140)](_0xb874be(0x1c4)),null;const _0x372243=_0x538713['setUserId'],_0x1d5c6b=_0xcd4d46[_0xb874be(0x4bd)](_0x5f7ec0=>_0x5f7ec0[_0xb874be(0x6b8)]==_0x372243);if(!_0x1d5c6b)return console[_0xb874be(0x140)](_0xb874be(0x18d)),null;return _0x1d5c6b[_0xb874be(0x2ab)];}async function renderProducts(_0x3bb457='',_0x31ae17=0x0){const _0x467ef2=_0x37a403,_0x592e3d=document['getElementById'](_0x467ef2(0x15b));_0x592e3d['innerHTML']='';if(products[_0x467ef2(0x59a)]==0x0){_0x592e3d[_0x467ef2(0x13f)]=_0x467ef2(0x2b5);return;}const _0x4841e8=getUserPermissionApiERP(0x2),_0x2fa251=document[_0x467ef2(0x456)]('setWarehouseId')[_0x467ef2(0x351)],_0x59c071=_0x3bb457[_0x467ef2(0x69d)]()[_0x467ef2(0x3c1)]('\x20'),_0x13c3f9=document[_0x467ef2(0x456)]('windowId')[_0x467ef2(0x351)];let _0x4348a9;setTipOpeOrders[_0x467ef2(0x30c)](_0x1edac7=>_0x1edac7==window_options[_0x13c3f9][_0x467ef2(0x118)])||setTipOpeSales[_0x467ef2(0x30c)](_0x98050a=>_0x98050a==window_options[_0x13c3f9][_0x467ef2(0x118)])||setTipOpeQuotation[_0x467ef2(0x30c)](_0x2dbe34=>_0x2dbe34==window_options[_0x13c3f9][_0x467ef2(0x118)])?_0x4348a9=0x2:_0x4348a9=0x1;const _0x534a4d=products[_0x467ef2(0x5a3)](_0x2a1620=>{const _0x345f4c=_0x467ef2,_0x3a8b97=[_0x2a1620[_0x345f4c(0x2d2)]||'',_0x2a1620[_0x345f4c(0x1e7)]||'',formatVariantName(_0x2a1620[_0x345f4c(0x2f5)],_0x2a1620[_0x345f4c(0x3e9)],0x1)||'',_0x2a1620[_0x345f4c(0x69b)]||'',_0x2a1620[_0x345f4c(0x6de)]||''][_0x345f4c(0x5a3)](_0x15aa8c=>_0x15aa8c[_0x345f4c(0x49b)]()!=='')['join']('\x20')[_0x345f4c(0x69d)](),_0x13da5e=_0x59c071[_0x345f4c(0x147)](_0xe3d5d1=>_0x3a8b97[_0x345f4c(0x67b)](_0xe3d5d1)),_0x4ddd11=selectedCategories['length']==0x0||selectedCategories[_0x345f4c(0x67b)](_0x2a1620[_0x345f4c(0x666)]),_0x27f92c=selectedMarcas['length']==0x0||selectedMarcas[_0x345f4c(0x67b)](_0x2a1620[_0x345f4c(0x58d)]),_0x1ee352=_0x4841e8==0x1?_0x2a1620[_0x345f4c(0x4cf)]&&_0x2a1620['sucursales'][_0x345f4c(0x30c)](_0x42660a=>String(_0x42660a['setIdSucursal'])==_0x2fa251):!![];let _0x31c9b2=!![];return _0x4348a9==0x1?_0x31c9b2=_0x2a1620[_0x345f4c(0x6c3)]==0x1:_0x31c9b2=_0x2a1620[_0x345f4c(0x587)]==0x1,_0x13da5e&&_0x4ddd11&&_0x27f92c&&_0x1ee352&&_0x31c9b2;}),_0x287bab=Math[_0x467ef2(0x256)](_0x534a4d[_0x467ef2(0x59a)]/ itemsPerPage);_0x287bab==0x0?currentPage=0x0:currentPage=Math[_0x467ef2(0x5a6)](0x1,Math[_0x467ef2(0x33a)](currentPage,_0x287bab));const _0x2fbfbb=(currentPage-0x1)*itemsPerPage,_0x4554a4=Math[_0x467ef2(0x33a)](_0x2fbfbb+itemsPerPage,_0x534a4d['length']),_0x34b3d4=_0x534a4d['slice'](_0x2fbfbb,_0x4554a4);renderProductItems(_0x34b3d4,_0x31ae17),renderPaginationControls(_0x287bab);}function renderProductItems(_0x594cd8,_0x263f88=0x0){const _0x1b2b7f=_0x37a403,_0x5df949=document[_0x1b2b7f(0x456)](_0x1b2b7f(0x15b)),_0x2d4345=document[_0x1b2b7f(0x456)](_0x1b2b7f(0x415))[_0x1b2b7f(0x351)];_0x5df949[_0x1b2b7f(0x197)]='';if(_0x594cd8[_0x1b2b7f(0x59a)]==0x0){_0x5df949[_0x1b2b7f(0x13f)]=_0x1b2b7f(0x2b5);return;}const _0xcd9e53=document[_0x1b2b7f(0x456)]('setWarehouseId')[_0x1b2b7f(0x351)],_0xa54008=window_options[_0x2d4345][_0x1b2b7f(0x38f)],_0xcc694a=getCurrencySymbol(_0x2d4345),_0x554d17=getUserPermissionApiERP(0xb),_0x4f9b03=getUserPermissionApiERP(0x10);let _0xc38f65;setTipOpeOrders['some'](_0x2a8793=>_0x2a8793==window_options[_0x2d4345][_0x1b2b7f(0x118)])||setTipOpeSales[_0x1b2b7f(0x30c)](_0x387bae=>_0x387bae==window_options[_0x2d4345][_0x1b2b7f(0x118)])||setTipOpeQuotation[_0x1b2b7f(0x30c)](_0x205d33=>_0x205d33==window_options[_0x2d4345]['setTipoOperacion'])?_0xc38f65=0x2:_0xc38f65=0x1;const _0x31a526=parseInt(getUserPermissionApiERP(0x15));_0x594cd8[_0x1b2b7f(0x3fd)](_0xeb3631=>{const _0x487519=_0x1b2b7f,_0xcc692f=document[_0x487519(0x6c7)](_0x487519(0x50b));_0xcc692f[_0x487519(0x560)][_0x487519(0x417)](_0x487519(0x158),'col-xs-12','mt-3'),_0xcc692f['style'][_0x487519(0x2cd)]='relative';const _0xf993c0=document[_0x487519(0x6c7)]('div');_0xf993c0[_0x487519(0x560)]['add'](_0x487519(0x572));const _0x1454fb=(_0xeb3631[_0x487519(0x4cf)]||[])[_0x487519(0x4bd)](_0x3b0e48=>_0x3b0e48[_0x487519(0x2b6)]==_0xcd9e53);if(_0x1454fb){const _0x36c358=parseFloat(_0x1454fb['setSucursalStock']),_0x5956e3=parseFloat(_0x1454fb[_0x487519(0x372)]);_0xeb3631[_0x487519(0x2e5)]==0x1&&_0x36c358<=_0x5956e3&&(_0xf993c0['style'][_0x487519(0x278)]=_0x487519(0x28f),_0xf993c0[_0x487519(0x45b)](_0x487519(0x314),_0x487519(0x598)+_0x5956e3[_0x487519(0x312)](0x3)+'\x20'+_0xeb3631[_0x487519(0x631)]));}_0xf993c0[_0x487519(0x45b)](_0x487519(0x45e),'0'),_0xf993c0[_0x487519(0x1fe)]=()=>addToCart(_0xeb3631),_0xf993c0['addEventListener'](_0x487519(0x32c),_0x259e71=>{const _0x201f61=_0x487519;_0x259e71[_0x201f61(0x4a3)]==_0x201f61(0x57b)&&addToCart(_0xeb3631);});const _0x3a6e28=document[_0x487519(0x6c7)]('div');_0x3a6e28[_0x487519(0x560)][_0x487519(0x417)](_0x487519(0x473)),_0x3a6e28['onclick']=_0x58fe13=>{const _0x3a880f=_0x487519;_0x58fe13[_0x3a880f(0x38b)](),openModalDetailsAndNtf(_0xeb3631['id'],0x1);},_0xcc692f[_0x487519(0x361)](_0x3a6e28);const _0xa23bf9=document[_0x487519(0x6c7)](_0x487519(0x50b));_0xa23bf9['classList'][_0x487519(0x417)](_0x487519(0x31d));const _0x505b60=document[_0x487519(0x6c7)](_0x487519(0x50b));_0x505b60['classList'][_0x487519(0x417)](_0x487519(0x1e9));const _0x53190e=document[_0x487519(0x6c7)](_0x487519(0x50b));_0x53190e[_0x487519(0x560)]['add'](_0x487519(0x1e9),_0x487519(0x3d8));let _0x1d2f2=isOnline?_0xeb3631[_0x487519(0x62a)]:_0x487519(0x204);_0xf993c0[_0x487519(0x201)]['backgroundImage']=_0x487519(0x430)+_0x1d2f2+'\x27)',_0xf993c0['onerror']=function(){const _0x3f7935=_0x487519;_0xf993c0[_0x3f7935(0x201)][_0x3f7935(0x2e9)]='url(\x27./img/product.png\x27)';};const _0xa4cc7f=document[_0x487519(0x6c7)]('h7');let _0x5cfe71='';_0xeb3631['setItemDescription']!=''&&(_0x5cfe71+=_0x487519(0x6cc)+_0xeb3631['setItemDescription']);if(_0xeb3631[_0x487519(0x342)]!=''){const _0x402ee8=_0xeb3631[_0x487519(0x342)],_0x263a2b=_0x402ee8['split']('-'),_0x38b8d0=_0x263a2b[0x2]+'/'+_0x263a2b[0x1]+'/'+_0x263a2b[0x0];_0x5cfe71+=_0x487519(0x1e6)+_0x38b8d0;}_0xeb3631[_0x487519(0x6de)]!=''&&(_0x5cfe71+=_0x487519(0x6cc)+_0xeb3631[_0x487519(0x6de)]);let _0x4fd376=_0xeb3631['setCodProducto'];_0xeb3631[_0x487519(0x1e7)]&&_0xeb3631['setItemBarCode']!=''&&(_0x4fd376=_0x4fd376+_0x487519(0x478)+_0xeb3631[_0x487519(0x1e7)]+'</span>');let _0x3b324d=_0xeb3631[_0x487519(0x2f5)];const _0x2a73c7=parseInt(getUserPermissionApiERP(0x16));_0x2a73c7==0x1?_0x3b324d=formatVariantName(_0xeb3631['setDescripcion'],_0xeb3631['setItemVariantValues'],0x1):_0x3b324d=formatVariantName(_0xeb3631[_0x487519(0x2f5)],_0xeb3631[_0x487519(0x3e9)],0x2);_0xa4cc7f[_0x487519(0x197)]=_0x4fd376+_0x487519(0x6cc)+_0x3b324d+'\x20'+_0x5cfe71;const _0x43922f=_0xeb3631[_0x487519(0x52b)][_0x487519(0x4bd)](_0x43b97f=>_0x43b97f[_0x487519(0x2d9)]==_0xa54008)||{};let _0x402c0d,_0x2f7a0a,_0x23f13c;_0xc38f65==0x1?(_0x402c0d=_0x4f9b03==0x1?'X':(parseFloat(_0x43922f[_0x487519(0x216)])||0x0)[_0x487519(0x312)](0x2),_0x2f7a0a=(parseFloat(_0x43922f['setMtoPrecioUnitario'])||0x0)[_0x487519(0x312)](0x2),_0x23f13c=_0x487519(0x24a)):(_0x402c0d=(parseFloat(_0x43922f[_0x487519(0x641)])||0x0)['toFixed'](0x2),_0x2f7a0a=_0x4f9b03==0x1?'X':(parseFloat(_0x43922f[_0x487519(0x216)])||0x0)[_0x487519(0x312)](0x2),_0x23f13c=_0x487519(0x550));const _0x960e54=document[_0x487519(0x6c7)]('p');_0x960e54['innerHTML']=_0xcc694a+'\x20'+_0x402c0d+'\x20('+(_0xeb3631['setItemUnitAlias']&&_0xeb3631[_0x487519(0x460)]!=''?_0xeb3631['setItemUnitAlias']:_0xeb3631[_0x487519(0x631)])+')';const _0x4d4f57=document['createElement']('h6');_0x4d4f57['innerHTML']=_0x23f13c+_0x487519(0x274)+_0x2f7a0a,_0x53190e['appendChild'](_0x4d4f57);if(_0x554d17==0x1){const _0x566cdb=_0xeb3631[_0x487519(0x4cf)]['find'](_0x4b1128=>String(_0x4b1128[_0x487519(0x2b6)])==_0xcd9e53),_0x542df9=_0x566cdb?parseFloat(_0x566cdb[_0x487519(0x5de)]):0x0,_0x26c58e=document[_0x487519(0x6c7)]('h6');_0x26c58e[_0x487519(0x197)]=_0x487519(0x3ae)+_0x542df9[_0x487519(0x312)](0x2),_0x53190e[_0x487519(0x361)](_0x26c58e);}const _0x299563=document[_0x487519(0x6c7)]('h6');_0x299563['innerHTML']=_0x487519(0x381)+_0xeb3631[_0x487519(0x58d)],_0x53190e[_0x487519(0x361)](_0x299563),_0x505b60[_0x487519(0x361)](_0xa4cc7f),_0xa4cc7f[_0x487519(0x2a0)](_0x960e54),_0xa23bf9[_0x487519(0x361)](_0x505b60),_0xa23bf9['appendChild'](_0x53190e),_0xf993c0[_0x487519(0x361)](_0xa23bf9),_0xcc692f[_0x487519(0x361)](_0xf993c0),_0x5df949['appendChild'](_0xcc692f);const _0x5c8861=searchInput[_0x487519(0x351)]['toLowerCase']()['trim']();_0x31a526==0x1&&_0x594cd8[_0x487519(0x59a)]==0x1&&_0x263f88!=0x0&&_0x5c8861==_0xeb3631[_0x487519(0x1e7)][_0x487519(0x69d)]()[_0x487519(0x49b)]()&&(addToCart(_0xeb3631),searchInput[_0x487519(0x351)]='');});}function renderPaginationControls(_0x16e4c5){const _0x2acd18=_0x37a403,_0x31a913=document[_0x2acd18(0x53a)](_0x2acd18(0x5ee)),_0x4fde8c=document[_0x2acd18(0x6c7)]('div');_0x4fde8c['className']='pagination';const _0x1b6d2d=document[_0x2acd18(0x6c7)]('button');_0x1b6d2d[_0x2acd18(0x13f)]=_0x2acd18(0x513),_0x1b6d2d[_0x2acd18(0x6b6)]=currentPage<=0x1,_0x1b6d2d['onclick']=()=>{const _0x335b55=_0x2acd18;currentPage=Math[_0x335b55(0x5a6)](0x1,currentPage-0x1),renderProducts();},_0x4fde8c[_0x2acd18(0x361)](_0x1b6d2d);const _0x2c05aa=document[_0x2acd18(0x6c7)](_0x2acd18(0x2ac));_0x16e4c5==0x0?_0x2c05aa[_0x2acd18(0x13f)]=_0x2acd18(0x121):_0x2c05aa[_0x2acd18(0x13f)]=currentPage+_0x2acd18(0x6ad)+_0x16e4c5;_0x4fde8c[_0x2acd18(0x361)](_0x2c05aa);const _0x469f15=document[_0x2acd18(0x6c7)](_0x2acd18(0x454));_0x469f15[_0x2acd18(0x13f)]='Sig>',_0x469f15[_0x2acd18(0x6b6)]=currentPage>=_0x16e4c5,_0x469f15[_0x2acd18(0x1fe)]=()=>{const _0x138cd8=_0x2acd18;currentPage=Math[_0x138cd8(0x33a)](_0x16e4c5,currentPage+0x1),renderProducts();},_0x4fde8c[_0x2acd18(0x361)](_0x469f15);const _0x3f56cd=document[_0x2acd18(0x53a)](_0x2acd18(0x25d));_0x3f56cd&&_0x3f56cd['remove'](),insertAfter(_0x4fde8c,_0x31a913);}function initializeCategorys(){const _0x4c0c26=_0x37a403,_0x3e75c0=document[_0x4c0c26(0x456)](_0x4c0c26(0x580)),_0x444ac9=_0x3e75c0[_0x4c0c26(0x53a)]('ul');_0x444ac9[_0x4c0c26(0x197)]='';const _0x1fc20d=document[_0x4c0c26(0x456)](_0x4c0c26(0x2d7))[_0x4c0c26(0x351)],_0x741640=getUserPermissionApiERP(0x2),_0xa58045=products['filter'](_0x45fe7a=>_0x741640==0x1?_0x45fe7a[_0x4c0c26(0x4cf)]&&_0x45fe7a[_0x4c0c26(0x4cf)][_0x4c0c26(0x30c)](_0x28e81c=>String(_0x28e81c[_0x4c0c26(0x2b6)])==_0x1fc20d):!![]);products_category=[...new Set(_0xa58045[_0x4c0c26(0x17c)](_0x46c2bf=>_0x46c2bf[_0x4c0c26(0x666)])['filter'](_0x40b32a=>_0x40b32a))],products_category[_0x4c0c26(0x3fd)](_0x359e7e=>{const _0x419a5d=_0x4c0c26,_0x33c3ff=document[_0x419a5d(0x6c7)]('li');_0x33c3ff['innerHTML']=_0x419a5d(0x59c)+_0x359e7e+'\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22'+_0x359e7e+_0x419a5d(0x5b4)+_0x359e7e+_0x419a5d(0x182),_0x444ac9[_0x419a5d(0x361)](_0x33c3ff);}),products_marca=[...new Set(_0xa58045['map'](_0x20ad7d=>_0x20ad7d[_0x4c0c26(0x58d)])[_0x4c0c26(0x5a3)](_0x3fa6a6=>_0x3fa6a6))],products_marca['forEach'](_0x364c3f=>{const _0x424b83=_0x4c0c26,_0x10b04a=document[_0x424b83(0x6c7)]('li');_0x10b04a['innerHTML']=_0x424b83(0x5af)+_0x364c3f+_0x424b83(0x298)+_0x364c3f+_0x424b83(0x5b4)+_0x364c3f+_0x424b83(0x182),_0x444ac9[_0x424b83(0x361)](_0x10b04a);}),_0x3e75c0[_0x4c0c26(0x3ad)](_0x4c0c26(0x42d),_0x511fcf=>{const _0x1a8f57=_0x4c0c26,_0x3e5de6=_0x511fcf[_0x1a8f57(0x114)][_0x1a8f57(0x5df)](_0x1a8f57(0x5c5));if(_0x3e5de6){const _0x51667a=_0x3e5de6[_0x1a8f57(0x53a)](_0x1a8f57(0x606));_0x51667a[_0x1a8f57(0x536)]=!_0x51667a[_0x1a8f57(0x536)];const _0x118543=_0x51667a[_0x1a8f57(0x351)],_0x428fb4=_0x3e5de6[_0x1a8f57(0x53a)](_0x1a8f57(0x2ac));_0x51667a[_0x1a8f57(0x536)]?(_0x428fb4['style'][_0x1a8f57(0x4fd)]=_0x1a8f57(0x359),_0x428fb4[_0x1a8f57(0x201)]['background']=_0x1a8f57(0x635),_0x428fb4['style'][_0x1a8f57(0x24f)]=_0x1a8f57(0x3ca),_0x428fb4[_0x1a8f57(0x201)]['borderRadius']='5px',selectedCategories[_0x1a8f57(0x385)](_0x118543)):(_0x428fb4[_0x1a8f57(0x201)][_0x1a8f57(0x4fd)]='',_0x428fb4[_0x1a8f57(0x201)][_0x1a8f57(0x16d)]='',_0x428fb4[_0x1a8f57(0x201)][_0x1a8f57(0x24f)]='',_0x428fb4[_0x1a8f57(0x201)][_0x1a8f57(0x5da)]='',selectedCategories=selectedCategories[_0x1a8f57(0x5a3)](_0x3f9ea4=>_0x3f9ea4!==_0x118543)),renderProducts(searchInput[_0x1a8f57(0x351)]),showSection(_0x1a8f57(0x3aa)),showLeftSection();}const _0x4d1266=_0x511fcf[_0x1a8f57(0x114)][_0x1a8f57(0x5df)]('.marca-label');if(_0x4d1266){const _0xc2d71e=_0x4d1266[_0x1a8f57(0x53a)](_0x1a8f57(0x606));_0xc2d71e[_0x1a8f57(0x536)]=!_0xc2d71e[_0x1a8f57(0x536)];const _0x369dbd=_0xc2d71e['value'],_0xb0ebe0=_0x4d1266['querySelector'](_0x1a8f57(0x2ac));_0xc2d71e[_0x1a8f57(0x536)]?(_0xb0ebe0['style']['color']='#fff',_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x16d)]='#FF5900',_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x24f)]=_0x1a8f57(0x3ca),_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x5da)]='5px',selectedMarcas[_0x1a8f57(0x385)](_0x369dbd)):(_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x4fd)]='',_0xb0ebe0[_0x1a8f57(0x201)]['background']='',_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x24f)]='',_0xb0ebe0[_0x1a8f57(0x201)][_0x1a8f57(0x5da)]='',selectedMarcas=selectedMarcas['filter'](_0xaffb31=>_0xaffb31!==_0x369dbd)),renderProducts(searchInput['value']),showSection(_0x1a8f57(0x3aa)),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window[_0x37a403(0x21d)];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0x16c9f8,{pdfGlobalPayload:_0xd9860a,pdfGlobalBlob:_0xa7b777,pdfGlobalName:_0x314e47}){const _0xc6b26a=_0x37a403;lastOperationGlobal[_0xc6b26a(0x226)](_0x16c9f8,{'pdfGlobalPayload':_0xd9860a,'pdfGlobalBlob':_0xa7b777,'pdfGlobalName':_0x314e47});}function getLastOperationGlobalData(_0xb61682){return lastOperationGlobal['get'](_0xb61682)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document[_0x37a403(0x456)]('layout-windows');let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document[_0x37a403(0x6c7)]('style');document[_0x37a403(0x354)][_0x37a403(0x361)](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document[_0x37a403(0x456)](_0x37a403(0x566)),countryList=document[_0x37a403(0x456)](_0x37a403(0x50e)),sendEmailButton=document[_0x37a403(0x456)](_0x37a403(0x522)),sendWhatsAppButton=document[_0x37a403(0x456)](_0x37a403(0x41e));function createElement(_0x329fdc,_0x3184e3={},_0x17ed5d=[]){const _0x598c53=_0x37a403,_0x172cda=document[_0x598c53(0x6c7)](_0x329fdc);return Object['keys'](_0x3184e3)[_0x598c53(0x3fd)](_0xe8d720=>{const _0x106d05=_0x598c53;if(_0xe8d720=='class')_0x172cda[_0x106d05(0x489)]=_0x3184e3[_0xe8d720];else{if(_0xe8d720=='events')Object[_0x106d05(0x57f)](_0x3184e3[_0xe8d720])[_0x106d05(0x3fd)](_0x434e58=>{const _0x369e2a=_0x106d05;_0x172cda[_0x369e2a(0x3ad)](_0x434e58,_0x3184e3[_0xe8d720][_0x434e58]);});else _0xe8d720==_0x106d05(0x197)?_0x172cda['innerHTML']=_0x3184e3[_0xe8d720]:_0x172cda[_0x106d05(0x45b)](_0xe8d720,_0x3184e3[_0xe8d720]);}}),_0x17ed5d['forEach'](_0x49f9ab=>{const _0x3e798e=_0x598c53;typeof _0x49f9ab==_0x3e798e(0x117)?_0x172cda['appendChild'](document[_0x3e798e(0x67f)](_0x49f9ab)):_0x172cda['appendChild'](_0x49f9ab);}),_0x172cda;}function styleHackHeader(_0x187556,_0x57e946){const _0x114e9a=_0x37a403;styleSheet['innerText']=_0x114e9a(0x5aa)+_0x187556+_0x114e9a(0x3da)+_0x57e946+_0x114e9a(0x358);}function setElementWidthImportant(_0x377121,_0x56ae35){const _0x67293a=_0x37a403,_0x4b18d1=document['getElementById'](_0x377121);_0x4b18d1?_0x4b18d1['style']['setProperty']('width',_0x56ae35,_0x67293a(0x253)):console['error'](_0x67293a(0x382)+_0x377121);}function resetElementWidth(_0x2dd4dc){const _0x1d98c1=_0x37a403,_0x3e5cae=document[_0x1d98c1(0x456)](_0x2dd4dc);_0x3e5cae?_0x3e5cae[_0x1d98c1(0x201)]['removeProperty']('width'):console[_0x1d98c1(0x65e)](_0x1d98c1(0x382)+_0x2dd4dc);}function isMobile(){const _0x5a8362=_0x37a403;return window[_0x5a8362(0x21d)]<=0x300;}function showLeftSection(){const _0x44e4fa=_0x37a403;if(isMobile()){const _0x58897d=document[_0x44e4fa(0x456)](_0x44e4fa(0x22d)),_0x1b11ea=document['getElementById']('div_section_right');_0x58897d[_0x44e4fa(0x201)][_0x44e4fa(0x617)](_0x44e4fa(0x5bd),_0x44e4fa(0x5bf),_0x44e4fa(0x253)),_0x1b11ea['style'][_0x44e4fa(0x617)]('display',_0x44e4fa(0x5a9),_0x44e4fa(0x253)),styleHackHeader('120px',_0x44e4fa(0x38c));}}function showRightSection(){const _0x4d383f=_0x37a403;if(isMobile()){const _0x2c54ce=document[_0x4d383f(0x456)](_0x4d383f(0x22d)),_0x1ac14b=document[_0x4d383f(0x456)](_0x4d383f(0x5cd));_0x1ac14b['style'][_0x4d383f(0x617)]('display',_0x4d383f(0x5bf),_0x4d383f(0x253)),_0x2c54ce['style'][_0x4d383f(0x617)]('display',_0x4d383f(0x5a9),'important'),styleHackHeader('0','0');}}function adjustHeight(){const _0x30d240=_0x37a403,_0x21183a=document[_0x30d240(0x456)]('div_sections');_0x21183a['style']['height']=window['innerHeight']+'px';}function insertAfter(_0x47cc14,_0x1d6ece){const _0x84b9bf=_0x37a403;_0x1d6ece[_0x84b9bf(0x27a)][_0x84b9bf(0x4f8)](_0x47cc14,_0x1d6ece[_0x84b9bf(0x362)]);}function insertBefore(_0x505764,_0x54994e){const _0x1587af=_0x37a403;_0x54994e[_0x1587af(0x27a)][_0x1587af(0x4f8)](_0x505764,_0x54994e);}function updateInternetIcon(){const _0x1440b6=_0x37a403,_0x3a328e=document[_0x1440b6(0x456)](_0x1440b6(0x19e)),_0x52af94=document[_0x1440b6(0x456)](_0x1440b6(0x685));isOnline()?(_0x3a328e['className']=_0x1440b6(0x3a6),_0x52af94[_0x1440b6(0x489)]=_0x1440b6(0x5e0),apiERPsync()):(_0x3a328e[_0x1440b6(0x489)]=_0x1440b6(0x5e0),_0x52af94['className']=_0x1440b6(0x3a6));}async function apiERPgetWindows(){const _0x1d0b9c=_0x37a403,_0x219849=myCompany[_0x1d0b9c(0x53e)];let _0x74f614=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x1d0b9c(0x5c3)),console['error'](_0x1d0b9c(0x5c3));return;}const _0x315d0c=await fetch(_0x1d0b9c(0x231),{'method':_0x1d0b9c(0x357),'headers':{'Content-Type':_0x1d0b9c(0x5ab)},'body':JSON[_0x1d0b9c(0x195)]({'setAuthToken':myCompany[_0x1d0b9c(0x238)],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0x1ded06=await _0x315d0c[_0x1d0b9c(0x14a)]();if(_0x1ded06[_0x1d0b9c(0x299)]){const _0x5029e3=_0x1ded06[_0x1d0b9c(0x37b)][_0x1d0b9c(0x53e)];_0x74f614=_0x5029e3['filter'](_0x3ff69d=>!_0x219849[_0x1d0b9c(0x30c)](_0x45164d=>_0x45164d[_0x1d0b9c(0x1af)]==_0x3ff69d[_0x1d0b9c(0x1af)])),myCompany[_0x1d0b9c(0x53e)]=_0x5029e3;}else{hideLoadingModal(),ntfShow(_0x1ded06['message']),console[_0x1d0b9c(0x65e)]('Error\x20Update:',_0x1ded06[_0x1d0b9c(0x37b)]);return;}const _0x119817=await createCartStore('');await saveCompanyToIndexedDB(company,_0x119817);for(const _0x4d5287 of _0x74f614){await new Promise(_0x57a88c=>setTimeout(_0x57a88c,0x12c)),await createCartStore(_0x4d5287[_0x1d0b9c(0x1af)]);}}async function apiERPsyncWindows(){const _0x45b330=_0x37a403;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x45b330(0x238)],myCompany['setWindows']);const _0xe6d119=document[_0x45b330(0x456)](_0x45b330(0x306))['value'],_0x38c2a5=myCompany['setPrintServers'],_0x2ca466=_0x38c2a5[_0x45b330(0x4bd)](_0x4355ab=>_0x4355ab['setBranchId']==_0xe6d119&&_0x4355ab['setServerType']==0x2),_0x18dc20=getUserPermissionApiERP(0xd),_0x103513=_0x2ca466?0x1:0x0;if(_0x103513==0x1&&_0x18dc20==0x1){const _0x199041='hiddenFrame_'+generateUUID(),_0x7fe755=document[_0x45b330(0x6c7)]('iframe');_0x7fe755[_0x45b330(0x19d)]=_0x199041,_0x7fe755[_0x45b330(0x201)]['display']=_0x45b330(0x5a9),document[_0x45b330(0x36e)][_0x45b330(0x361)](_0x7fe755);const _0x34331a=document[_0x45b330(0x6c7)]('form');_0x34331a[_0x45b330(0x6b2)]=_0x45b330(0x357),_0x34331a[_0x45b330(0x61b)]=_0x2ca466['setServerRoot'],_0x34331a[_0x45b330(0x1c5)]='multipart/form-data',_0x34331a[_0x45b330(0x114)]=_0x7fe755[_0x45b330(0x19d)];const _0xaf491c={'setWindows':JSON['stringify'](myCompany[_0x45b330(0x53e)])};for(const _0x24d253 in _0xaf491c){const _0x590b37=document['createElement'](_0x45b330(0x210));_0x590b37[_0x45b330(0x276)]='hidden',_0x590b37['name']=_0x24d253,_0x590b37[_0x45b330(0x351)]=_0xaf491c[_0x24d253],_0x34331a['appendChild'](_0x590b37);}document['body']['appendChild'](_0x34331a),_0x34331a[_0x45b330(0x309)](),document['body'][_0x45b330(0x665)](_0x34331a),setTimeout(()=>{document['body']['removeChild'](_0x7fe755);},0x1388);}}}async function apiERPupdateOnline(_0x3aeab7,_0x268b10){const _0x513dc9=_0x37a403;if(!isOnline())return console[_0x513dc9(0x6ab)](_0x513dc9(0x37e)),Promise['reject'](_0x513dc9(0x37e));const _0x1c819e={'setAuthToken':_0x3aeab7,'setWindows':_0x268b10};return fetch('https://apierp.dev/api/windows/update/',{'method':_0x513dc9(0x357),'headers':{'Content-Type':_0x513dc9(0x35f)},'body':JSON[_0x513dc9(0x195)](_0x1c819e)})[_0x513dc9(0x323)](_0x2a530e=>{const _0x3c4db3=_0x513dc9;if(!_0x2a530e['ok'])throw new Error(_0x3c4db3(0x2c1)+_0x2a530e['statusText']);return _0x2a530e[_0x3c4db3(0x14a)]();})[_0x513dc9(0x323)](_0x1ad27f=>{const _0x49f429=_0x513dc9;if(!_0x1ad27f[_0x49f429(0x299)])throw new Error(_0x1ad27f[_0x49f429(0x37b)]||_0x49f429(0x44a));return console[_0x49f429(0x6ab)](_0x49f429(0x2a1)),_0x1ad27f;})[_0x513dc9(0x258)](_0x2323d1=>{const _0x3063e8=_0x513dc9;console[_0x3063e8(0x65e)]('Error\x20al\x20actualizar\x20data\x20online:',_0x2323d1);throw _0x2323d1;});}async function apiERPsyncWindowsCartTmp(){const _0x45b978=_0x37a403;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany[_0x45b978(0x238)],myCompany[_0x45b978(0x53e)]));}function _0x7f4c(){const _0x243772=['setAttachNumber-','chair','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','setReceiptAttachArray','#f0f0f0','btnWindowShiftStart','canvas','removePage','clientWidth','003','Guardar','img-options','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','setTaxId','setProperty','onerror','PRE\x20CUENTA','join','action','setSucursalCodigo','018','\x20|\x20F.V.\x20','(equiv.\x20','setProductos','setDescuento','0.5em','setEmailCredentialsSenderPassword','Shift\x20Save\x20Error:','reject','slice','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','getDate','setImg','</div>','modalOverlayOptions','AUTORIZADO\x20MEDIANTE','setMtoValorCostoUnitario','setAttachEdit-','Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.','setUnidad','Op.\x20Gratuita','container-title-options-','shift-close-smallIcon','#FF5900','./img/layout/icon-printer.svg','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','div-totals-right-Subtotal-','tabs-environments-btn','.emailDestination','SON\x20','setCompanyLogo','setClienteDireccion','center','Ajustes\x20de\x20operación','setWindowShiftId','setMtoPrecioUnitario','setLastCorrelative','shift-close-rightCol','Otros\x20medios\x20de\x20pago','promise','label','mousemove','windowShiftContent','Check\x20In','active\x20tab-section-options-','\x200.00','setObservacion-','now','[addToCart]','getUTCFullYear','setCashInitial','floorId','PAGAR','Op.\x20Gravada','024','shift-close-row5','marginTop','Dirección','Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','\x20para\x20completar\x20el\x20total.','setCustomerPhone','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','splice','setSellerName','error','Habitación','detalleModalWindowShift','dataset','<i\x20class=\x22','checkout','setAccountingAccountCode','removeChild','setCategoria','toUpperCase','setDetraccionTotal','Fecha\x20de\x20Apertura:\x20','Error\x20en\x20la\x20solicitud:','COTIZAR','setPorcentajeDesc','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','./img/icon-gastos.svg','Window\x20Creada\x20Correctamente.','017','TOTAL','Teléfono','emailRecipients','custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','Porcentaje\x20retención','input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','touchmove','No\x20se\x20encontró\x20producto\x20con\x20id\x20','nextElementSibling','setPrinterName','includes','keypress','getUTCSeconds','btnopt_precuenta-','createTextNode','Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.','audio/','Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción','closeModalOptions-','get','tabs-icon-offline','\x20draggable-','0.9em','mousedown','d-none','\x22\x20class=\x22input-Descuento-Global\x22>','shift-close-diffLabel','input-Descuento-Global-','setReceiptClientName','Embarcaciones\x20pesqueras','substring','div-width-10\x20col-bt-padding','033','Nº\x20de\x20cuotas','500','./img/layout/icon-cashier.svg','setEmpresaRuc','Delete','020','Monto\x20Inicial:','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','\x20sec','setItemDescription','replaceWith','toLowerCase','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','font-size:\x2014px;','setPaymentType','onload','setCustomerDocumentNumber','btnSaveOperacion\x20custom-input-btn-background\x20form-control','exception','btnWindowSave','.itemCheckbox-','setSellerId','btnopt_dividir-','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','setVendedorCodigo-','log','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','\x20de\x20','all','setCompanyPhone','width','replace','method','#f7f7f7','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','getUTCMilliseconds','disabled','occupied','setUserId','JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.','clientY','dispatchEvent','put','\x20(Gravado\x20Gratuito)','setPrintServers','setConsumo','container-buttons','Error\x20al\x20guardar\x20Last\x20Correlative:','numero-cuotas-','setItemIsBought','fonts/Roboto/Roboto-Regular.ttf','blur','setReceiptNumber','createElement','TRECE','clientX','.payment-option-','./img/icon-ingresos.svg','<br>','Banco:\x20\x20','setBankAccounts','modalOverlay','\x20para\x20la\x20variante\x20del\x20producto\x20','Exportación','PERCEPCIÓN\x20(','setMtoValorVenta','Order\x20not\x20found.','dataTransfer','005','form','float-left-TotalDescuento-','addWhatsAppRecipient','Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:','touchend','previousElementSibling','Proveedor:','setBatchName','100%','La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText','tabs-editLayout','wa-recipient-template','Op.\x20Gratuitas\x20(','mixto','d-flex\x20mb-3\x20','Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.','bi\x20bi-unlock','NOVECIENTOS','Error\x20al\x20guardar\x20array','setAccountingAccountId','Forma\x20de\x20Pago:\x20Crédito','setCustomerAddress','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setUserDocNumber','target','Error\x20al\x20procesar\x20adjuntos.','setValorVenta','string','setTipoOperacion','OP.\x20EXONERADAS','\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>','shift-close-differentialRow\x20','Error\x20al\x20procesar\x20la\x20operación:','label-cart','img','setDetraccionPorcentaje','setDefaultNotes','No\x20hay\x20resultados.','document','\x20select.select-array-bank','getUTCHours','video','Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.','Leche','float-left-TotalDescuentoItems-','32187dYrqSS','Vuelto:','<br>\x0a','TREINTA','div-width-10\x20div_margen','block','031','Espárragos','float-left-','Algodón\x20en\x20rama\x20sin\x20desmontar','setMedioPago','\x20guardadas.','input-setWindowName','custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','setCodTipo','closeModalPay','setImpuestoName','Contratos\x20de\x20construcción','setMtoDescItems','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>',':\x20stock\x20actualizado\x20de\x20','toLocaleDateString','textContent','warn','CIENTO','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','Ejm:\x201','La\x20fuente\x20es\x20undefined\x20en\x20measureText','#080060','setTipoOperaciones','every','WindowId\x20Error','Fabricación\x20de\x20bienes\x20por\x20encargo','json','element-user','setValorCantidad','CINCUENTA','Egresos','Cuenta\x20Contable','file','RUC\x20debe\x20tener\x2011\x20dígitos.','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','payment-option\x20','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','Error\x20al\x20cargar\x20logo:','windowsState.php','Nº\x20Operación:\x20\x20','col-md-6','\x20(Soles)','tab-content\x20active\x20tab-','products','Error\x20al\x20crear\x20Window:','window','Dirección:','Nº\x20','drawImage','Despachar\x20Después','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','btnVisualizacion','Contado\x20y\x20Crédito','#000000','Liberar','onchange','setSupplierName','Movimiento\x20de\x20carga','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','Hola\x20','background','OCHOCIENTOS','Cod:\x20','closeModalShift','0000-00-00\x2000:00:00','.btn-logout','getMonth','setClienteNumDoc-','Op.\x20Exoneradas\x20(','btnopt_consumo-','Backspace','./img/layout/icon-table.svg','container-section-pay-','Error\x20en\x20envío\x20WhatsApp\x20API:','14LcNvbR','map','setDescuento_setMonto_precio','</a>','float-right-','setMtoPrecioCostoUnitario_input','productMoreOptionsButton-','</span>\x0a</label>','016','cash','Marca:\x20','setLastDateUpdate','setCustomerName','off','Total\x20(','Subtotal\x20(','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','<span\x20class=\x22cart-product-note\x22>','Usuario\x20no\x20encontrado','DOS','./img/icon-detalle-turno.svg','option','float-right-OpGravada-','removeEventListener','setWindowName','iframe','stringify','https://wa.me/','innerHTML','VENDEDOR:','setCompanyWebsite','search','Caña\x20de\x20azúcar','setCustomerPhone-','name','tabs-icon-online','DNI\x20debe\x20tener\x208\x20dígitos.','QUINIENTOS','................................................','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2','setFechaHoraReadonly','setShiftUserEmail','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','CATORCE','position:\x20relative;\x20height:\x20400px;','NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:','Demás\x20servicios\x20gravados\x20con\x20el\x20IGV','IMPORTE\x20TOTAL','./img/icon-shift-user.svg','\x20-\x20','tabs-home','setDescuento_setMontoBase','setWindowId','Consumo','float-left-OpInafecta-','.layout-tab-btn','email-recipient-template','Caja\x20Final:','shift-close-img','setChecked','Producto\x20variante\x20','detalleModalLayout','Azúcar','<img\x20class=\x22icon-element\x22\x20src=\x22','form-control\x20custom-input-cart-options\x20shift-close-input','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','CUATROCIENTOS','widthOfTextAtSize','Guardando\x20Correlativo\x20Offline\x20en\x20DB','onsuccess','**\x20','./img/layout/icon-bathroom-men.svg','Order\x20removed\x20because\x20no\x20products\x20remained.','Error\x20Company\x20Data.','enctype','./img/layout/icon-bathroom-women.svg','./img/layout/icon-user.svg','Total\x20Comisión','setRetencionTotal','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','DESPACHO:','<strong>Cierre\x20de\x20Turno</strong>','./img/icon-credito.svg','tabs-areas','alt','setShiftStatus','setReceiptType','setBranches','Crea\x20tu\x20primera\x20ventana.','setDescuento_setFactor','cart-item-options','console','Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios','\x22)\x27>','#pay-container-','Teléfono:','null','setClienteTipoDoc-','Medio\x20de\x20pago\x20crédito\x20actualizado:','setClienteNumDoc','select','float-right-TotalDescuento-','setTipoOperacionCodigo','tabs-areas-responsive','normal','setPriceListType','<br>Vence:\x20','setItemBarCode','setVisible','product-container','registerFontkit','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','Error\x20al\x20guardar\x20el\x20carrito:','setPermissions','setCredentialsApiWAChatSubdomain','remove','mouseleave','div-total-pay-','7909pIXYms','setReceiptCurrency','./img/icon-reporte-ventas.svg','setSerie-','Ventana','setTipoOperacionInvoice','addPage','.pdf','NOTAS:','%)\x20(','Cajero:','checkout-btn-','onclick','div-width-15','transparent','style','readOnly','drawRectangle','./img/product.png','setPrecioUnit','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2','shift-open-container','hidden','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.','previewList','credito','setFloorName','tabs-orders','content','setMoneda-','input','Percepcion','Cuota\x20','getAll','Error\x20Op.','general-options\x20row','setMtoPrecioCostoUnitario','https://apierp.dev/api/ruc/','\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>','Error\x20Inputs','save','append','CANTIDAD','innerWidth','Ocupar\x20Sillón','input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setTipAfeIgv','Mozo:\x20','setReceiptId','setMtoOperInafectas','setUsers','undefined','set','DESCUENTO\x20POR\x20ITEMS','custom-label-cart-options\x20div-width-25','setSerieTipo','004','setCustomerEmail','Reporte\x20de\x20ventas','div_section_left','input[type=\x22number\x22]','open','No\x20se\x20encontraron\x20resultados','https://apierp.dev/api/apiPOS/get/','retencionPct-','div_section_pay','btnShiftEnd','Error\x20Correlativo\x20Update','Mesa','cuotas-container-','setAuthToken','Bien\x20inmueble\x20gravado\x20con\x20IGV','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.','label-debe-vuelto','map_select_container_','No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>','Zona:','borderTopLeftRadius','element-bathroom-unisex','input_cart_setButton\x20btn-none\x20div-width-5','0.1','btnModalNewOperation','Cliente/Proveedor\x20Requerido.','00/100','Mensaje(s)\x20enviado(s)\x20correctamente.','top','Precio','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','setOrders','setWindowType','!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20','padding','CIEN','porcentaje_comision','Aperturar\x20Mesa','important','Error.\x20La\x20ventana\x20no\x20existe.','No\x20hay\x20un\x20PDF\x20cargado.','ceil','015','catch','custom-input-cart-options\x20form-control\x20custom-input-cart-btnGenerateMaps\x20custom-input-btn-background\x20mb-2','Error\x20desconocido.','setSeriesType','setDefaultNote','.pagination','shift-close-leftCol','getUTCDate','ORDENAR','drawLine','Total\x20Percepción\x20(','SIETE','Vehículo:','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','\x20input.input-array-operacion','setMonedaName','cart-panel\x20d-flex\x20flex-column\x20flex-grow-1','Madera','custom-label-cart-options','setEmailCredentials','toggle','efectivo','setMtoIGV','Pct-','div-totals-right\x20d-none','setShiftNotes','U.\x20MEDIDA','shift-open-img',':<br>','infoLoadingModal','type','revokeObjectURL','border','\x20(master\x20','parentNode','Mixto','desc','float-right-TotalIgvGratuitas-','cart-item-options-','Descuento\x20por\x20Items','setObservacion','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','shift-close-title','No\x20se\x20encontraron\x20resultados.','Contado','setMtoOperGratuitas','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','SEIS','size','setCollaborators','010','searchInput','setAttachType','inline-flex','payment-options-','1px\x20solid\x20#FF5900','setMtoValorGratuito','newElementType','Aperturar\x20Turno','setEmailCredentialsSenderName','setSeriesNumber','rows','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','custom-input-cart-options\x20form-control\x20div-width-25','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','success','setMtoImpVenta','div-width-24\x20btnopt','items','setItemFree','\x22\x20style=\x22margin-right:8px;\x22></i>','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','prepend','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setBankNumber','022','setDocTypeName','Recepcionista','from','div-width-50','files','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','clear','setSeries','span','setBranchAddress','setPayments','Cantidad\x20ajustada\x20al\x20máximo.','waFiles','./img/layout/icon-window.svg','index','drawText','modalOverlayShift','No\x20se\x20encontraron\x20productos.','setIdSucursal','Obtener','addElementControls','precio','closeModalLayout','height','shiftContent','setDescuentoGlobal_Monto','shift-open-btn','setBankId','preview-item','Error\x20al\x20guardar\x20el\x20layout:\x20','035','timing','setDividir','Error\x20al\x20eliminar\x20productos:','10113208pLYjWN','tab-','Desc.\x20por\x20Items\x20(','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','https://apierp.dev/api/windows/create/','currentTarget','position','setEmpresaNombre','custom-checkbox','setBankCurrency','div_section_options','setCodProducto','Error\x20al\x20eliminar\x20producto:','setIdProducto','El\x20monto\x20debe\x20ser\x20exactamente\x20','toString','setWarehouseId','pdfBlob','currency','Product\x20not\x20found.','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','number','setTaxIdDefault','modalOverlayWindowShift','Total\x20detracción','Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal','setMonedaSimbol','suggestions-container','pointer','closeModal','setInventariable','.remove-recipient-btn','Fecha','PEN','backgroundImage','pop','div-width-30\x20col-bt-padding','setUserEmail','general-options-','round-small','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt','datetime-local','setPorcentajeIgv','shiftDetails','OP.\x20INAFECTAS','controls','setDescripcion','032','div-width-25\x20btnopt\x20btnoptfirst','setDespacho','dragover','<i\x20class=\x27bi\x20bi-search\x27></i>','setAttachEdit','borderBottomRightRadius','shiftKey','online','btn-options','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','setPrinterAlias','layout','floor','setPermissionValue','\x20a\x20','setBranchId','Cerrar\x20Turno','Arrendamiento\x20de\x20bienes\x20muebles','submit','023','SETECIENTOS','some','\x20(Inafecto\x20Gratuito)','total_comision',')\x20en\x20el\x20almacén.\x20','Error\x20Save\x20Data:','modalOverlayLayout','toFixed','offsetWidth','title','No\x20se\x20encontró\x20el\x20botón.','setSupplierDocumentNumber','PERCEPCIÓN','setClienteDireccion-','RUC','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','setImpuestoValue','getAttribute','product-content','Total','match','container-div-flex-2-','application/pdf','setMtoValorUnitario','then','.layout-tab-panel','setWindowTypeShape','float-right-totals','general-options','Sólo\x20quedan\x20','banco','ONCE','Nom.\x20/\x20R.S.','keydown','marginLeft','Email','Forma\x20de\x20Pago:\x20Contado','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','setCollaboratorDocNumber','@s.whatsapp.net','shift-close-btn','thead','data-tab','div-width-options\x20col-bt-padding-options','borderBottomLeftRadius','setClienteDenominacion-','No\x20se\x20encontró\x20la\x20ventana','min','detalleModalShift','shift-close-container','div-totals-right-TotalIgv-','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','totals','shift-open-title','percepcionPct-','setBatchExpirationDate','No\x20Despachar','setSuppliers','setFechaHora-','Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>','setShiftCashAmount','shift-open-btnContainer','oncomplete','setRetencion','008','setTipoOperacion-','Serie\x20no\x20encontrada','NUEVE','container-section-options-','GUARDAR','value','setCustomers','setImpuestos','head','ID\x20Shift\x20Empty','allOperations:','POST','\x20!important;\x0a}\x0a','#fff','getPage','div-width-25\x20col-bt-padding','.email-recipient','objectStore','posicionesPorPiso','application/json','touchstart','appendChild','nextSibling','setShifts','setFloorId','setTipoOperacionInvoice-','element-cashier','Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20','active','setPrinters','.input-array-comision','Duplicar','clearRect',')\x20en\x20almacén\x20','body','setDetraccion','setPriceListAdjustmentType','room','setWarehouseStockMin','setLastDateUpdateCartTmp','Algodón','chkRetencion-','&times;','\x20cuota','close\x20closeModal\x20margin-left-auto','div-group-container\x20div-width-100','DNI\x20/\x20RUC','message','DESCUENTO\x20GLOBAL','embedJpg','Error\x20Network.','DOSCIENTOS','No\x20se\x20encontró\x20el\x20select','Marca:<br>','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','1001\x20Operación\x20Sujeta\x20a\x20Detracción','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','push','collect','setMonedaCodigo','\x22\x20no\x20encontrada.','setMtoOperExoneradas','setUserName','stopPropagation','120px','DATOS:','float-right-TotalIgv-','setMoneda','0.00','element-printer','setDescuento_setMonto','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','tbody','Ajustes','001','setBankName','shift-close-infoSpan','TRESCIENTOS','Venta\x20Interna','shift-div-table\x20','cart-item','setAttachSeries-','MIL','[updateCartItem]','assign','zIndex','visualizacion','Desc.\x20(%)','Notas:','tabs-environments-container','icon-arrow-right','clientHeight','setDefaultNoteType','DESCRIPCIÓN','div_section_products','setMtoDescItems_precio','setTotalImpuestos','addEventListener','Stock\x20Actual:<br>','.whatsapp-recipient','input-group\x20input_cart_setCantidad\x20div-width-30','btnModal','img-options-o','setShiftCount','float-left-TotalIgvGratuitas-','Cronograma\x20de\x20Pagos','setTipoOperacionName','startsWith','setServerRoot','CorrectLevel','quantity','detalleModal','Servicio\x20de\x20transporte\x20de\x20personas','setTipoDocCodigo','setReceipt','bi\x20bi-calendar\x20icon-pay-calendar','DETRACCIÓN\x20(','split','opciones','object','Proveedor','status','div-totals-right-TotalIgvGratuitas-','setPercepcionTotal','div-width-25','[updateCartItem]\x20excede\x20stock','5px','.tab-content','2379138DjgjoU','toISOString','63pXsCDZ','Error\x20WindowOp','charCodeAt','106vpNNLA','marginRight','setPaymentAmount','setNotas','.suggestions-container','element-clock','Placa:','justify-content-between','Descripción:\x20','\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20','result','shift-close-label','backgroundColor','setClienteTipoDoc','d-flex\x20mb-3','div-totals-right-TotalDescItems-','PRECIO','toLocaleTimeString','\x20input.input-array-method','setAccountingAccountName','Opciones','float-right-OpGratuita-','Cajero\x20/\x20Vendedor:','?text=','setItemVariantValues','Mozo','apiPOSsendOffline','search_more_products','documento.pdf','setFechaHora','Desanexar\x20comprobante','querySelectorAll','step','Cajero','btnsetAttach-','setMtoIGVGratuitas','float-right-OpExonerada-','setPaymentCode','email','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','PRECIO\x20U.','/100','tabs-shift','random','forEach','square-small','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>','defaultPrinter','setCorrelativo-','RETENCIÓN','5559420fCXNlz','tabs-newTab','shift-table-expenses','editado','Op.\x20Inafecta','\x20|\x20Notas:\x20','itemCheckboxAll-','Guardando\x20Correlativo\x20en\x20Window\x20Options','setCartTmp','float-left-OpExonerada-','hasOwnProperty','divAttachResult-','FORMA\x20DE\x20PAGO:\x20CRÉDITO','settings.html','costo','\x20|\x20','waMessage','windowId','float-right-Subtotal-','add','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.','setDetraccionCodigoName','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','.layout-tabs-environments','cloneNode','setTotal','sendWhatsApp','borderTopRightRadius','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','float-right-OpInafecta-','fontkit','./img/layout/icon-room.svg','Coordenadas\x20seleccionadas:\x20','element-vase','Detalle\x20de\x20Turno','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Consultando\x20...</span>','DNI','./img/layout/icon-clock.svg','\x20MIL','Error\x20al\x20construir\x20el\x20payload.','vuelto','click','location','setCantidad','url(\x27','Moneda','Error\x20al\x20guardar\x20datos:','029','006','suggestions-','monto','DIEZ','026','windowObj','charAt','\x20unitario\x20mayor\x20a\x200.','Banco:','options','013','container-title-options','float-left','setMtoValorUnitario_input','input-','Total-','\x20...</span>','Serie\x20Incorrecta','modalOverlayPay','Barbero','entries','UND','Error\x20desconocido\x20al\x20actualizar\x20Data.','\x20|\x20Marca:\x20','retencionTotal-','setPriceListRangeEnd','Eliminar\x20ventana','setUserCode','btnAddProductFree','dragenter','IGV','debe','button','\x20flex-column\x20flex-grow-1','getElementById','IGV\x20(','element-fridge','https://apierp.dev/api/windows/update-cart-tmp/','cart-item-principal-','setAttribute','span-options','Apertura\x20de\x20Caja','tabindex','Maíz\x20amarillo\x20duro','setItemUnitAlias','VEINTE','setUserCodigo','Otros\x20servicios\x20empresariales','setCurrencySymbol','Hora','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','arrayBuffer','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','render','\x20cuotas','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','CANT','Error\x20subiendo\x20','setPaymentName','cart-item-principal\x20hidden','Monto','data','Error\x20desconocido\x20al\x20guardar\x20el\x20layout.','product-zoom-area','div-width-15\x20div_margen','Oro\x20gravado\x20con\x20el\x20IGV','findIndex','float-right-TotalDescuentoItems-','<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20','waDropArea','RETENCIÓN\x20(','label-options\x20mb-2','Anexar','resize','createObjectURL','setMtoPrecioUnitario_input','offline','transaction','setPreAccountDate','concat','Serie','<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>','Comisión\x20%','padStart','\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>','className','checkout-','\x20del\x20','Porcentaje\x20percepción','setCompanyName','info','Nº\x20Operación','video/','./img/icon-shift-open.svg','preventDefault','setShiftId','nombres','Producto\x20eliminado','statusText','layoutState','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','setDetraccionCodigo','saveWindows.php','trim','btnAddProduct','delete','Medio\x20de\x20pago\x20para\x20ventana\x20','closeModalWindowShift','Detraccion','Error:\x20','div-width-35\x20col-bt-left-padding','key','Sección\x20con\x20ID\x20\x22','Comisión\x20(','setAccountingAccounts','div-width-100\x20col-bt-left-padding','suggestion-item\x20no-result','setDespacho-','left','Alcohol\x20etílico','placeholder','/wa/','\x20payment-option-','extraElements','Cierre\x20de\x20Turno','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion','https://apierp.dev/api/dni/','Editar\x20ventana','timeOrigin','setCompanyEmail','Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','fechaVencimiento','shift-open-rightCol','iframePrint_','btn\x20btn-none\x20','element-waiter','autocomplete','find','setMtoOperGravadas','FORMA\x20DE\x20PAGO:\x20CONTADO','navigationStart','Resultado','setMedioPago-','origin','setShiftDateStart','Editar','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','toDataURL','coords_input_','getFullYear','cart_','\x22\x20alt=\x22','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','030','./img/layout/icon-bar.svg','sucursales','d-flex','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','setMonedas','textarea','Vendedor:','REPRESENTACION\x20IMPRESA\x20DE','replaceChild','545MBQjcd','trace','Comisión\x20mercantil','btnShiftStart','cart-panel-','009','\x20a\x20S3','OCHO','monto_calc','getDocument','unit','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','apply','detalleModalOptions','.select-button-pais-flag','image/','shift-close-info-col','contains','setCashierId','CERO','setReceiptSeries','.context-menu','/login','shift-close-infoLabel','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision','printerDropdown','float-left-TotalIgv-','payment-contado','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:','setEmailCredentialsHostSMTP','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','insertBefore',',\x20a\x20continuación\x20adjuntamos:\x20\x0a','\x22\x20value=\x22','setSubTotal','cartId','color','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','<div\x20style=\x22margin-top:5px;\x22>','float','\x20input.input-array-totalcomision','status-label-','image','div-text-debe-vuelto-','luisitoprograma-pdf','setCajeroCodigo','getSize','indexOf','flex-column\x20tab-content\x20active\x20tab-','constructor','div','Total\x20percepción','draggable\x20draggable-element\x20draggable-','countryList','DATOS\x20DE\x20DISTRIBUCIÓN','Retencion','element-vertical-line','Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.','<Ant','1889210hVchir','bind','nro_operacion','elementos','\x20unidades\x20','Carnes\x20y\x20despojos\x20comestibles','div-totals-right','setSupplierAddress','10588BbHgdO','reduce','embedFont','setApiEndPoint','DETRACCIÓN','UN\x20MILLÓN','sendEmail','Conteo:','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','setConversionFactor','selected','element-bar','Order\x20Products\x20not\x20found.','\x20input.input-array-comision','No\x20se\x20encontró\x20sucursal\x20','currency_data','Diferencial:','detalleModalCreateWindow','SETENTA','#whatsappRecipients\x20.phoneNumber','Total\x20Pendiente','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','single-select','No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20','./img/layout/icon-vase.svg','btnGenerateMaps-','checked','Op.\x20Exonerada','DOCE','1\x20UND','querySelector','setReceiptClientAddress','setShiftDateEnd','btnModalActive','setWindows','contado','setSerie','Cliente:','checkbox','Costo\x20Unitario','Total\x20Detracción\x20(','setMtoPrecioUnitario_final','Opciones\x20de\x20la\x20ventana\x20','pdfCanvas','Total\x20retención','readwrite','setMtoBaseIgv','label-options','./img/icon-shift-calendar.svg','Tab','setCredentialsApiWAChat','isArray','Costo','setSeriesCorrelativeInitial','element-laptop','selectedIndex','data-printer','setEmailCredentialsPortSMTP','Agregado\x20...','Seleccione:','SEISCIENTOS','setMtoValorUnitario_final','container-section-options','float-left-OpGratuita-','setLocationMaps','btnArchivosContables','div-width-100\x20col-bt-padding','.input-array-totalcomision','classList','setImpuestoCode','Registrar\x20Ingreso','selectTab','itemsPerPageSelect','setMtoValorCostoUnitario_input','selectedCountry','tabIndex','shift-close-diffValue','right','Sillón','039','btnConsultar-','Cliente','detraccionCodigo-','Nota:','Serie:','Error\x20Push\x20Product!\x20','product','active\x20tab-','multipart/form-data','setAccountingAccountType','element-bathroom-women','./img/layout/icon-laptop.svg','date','Error\x20convirtiendo\x20adjuntos\x20a\x20base64:','setUser_Local','Enter','shift-close-infoValue','_blank','active\x20tab-section-pay-','keys','navmenu','011','setClienteDenominacion','cuota','firstChild','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','setDescuento_setCodTipo','setItemIsSold','setEmailCredentialsSenderEmail','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','.phoneNumber','CUATRO','abs','setMarca','Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.','Carrito\x20guardado:\x20','setPercepcionPorcentaje','container-section-pay\x20row','form-control\x20custom-input-cart-options\x20shift-open-input','direccion','UNO','Email:','Error\x20saving\x20window\x20options\x20DB','ruc','El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20','.custom-input-cart-setClienteDenominacion','length','No\x20hay\x20conexión\x20a\x20internet.','\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','setPriceListRangeStart','cart-panel','Descuento\x20Global','No\x20se\x20encontraron\x20datos.','setPercepcion','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','filter','setServerType','offline_operations','max','active\x20tab-cp-','scale','none','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','application/json;\x20charset=utf-8','Apertura','setPrinterId','detalleModalPay','\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','Crédito','Intermediación\x20laboral\x20y\x20tercerización','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','Op.\x20Inafectas\x20(','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','10px','setOrderId','embedPng','shift-open-label','setCorrelativoInicial','setRetencionPorcentaje','1.5','mouseup','display','modalOverlayCreateWindow','flex','Error\x20en\x20la\x20solicitud','offsetHeight','setWebhook','Error\x20Internet','form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size','.category-label','0.5em\x200','64812wLROXW','toLocaleString','Nº\x20de\x20Cuotas:','shift-close-infoRow\x20','input_cart_moreOptionsButton\x20div-width-5\x20','</span>\x0a</div>\x0a</div>\x0a','div_section_right','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','037','...','setUserNombres','https://','children','setCredentialsApiWAChatStatus','./img/icon-flecha-inferior.svg','setIgv','setCurrencyDefault','setCorrelativo','Guardando\x20Correlativo\x20en\x20DB','borderRadius','focus','itemCheckbox-','shift-close-btnRow','setSucursalStock','closest','icon-arrow-right\x20hidden','text','setDispatchType','setEnvironmentName','#ffffff','Error\x20Print\x20Offline.','%\x20Desc.\x20de\x20','pay-container-','float-left-totals','free','btnOpciones-','float-left-OpGravada-','036','tabs-environments-separator','#products','audio','Apertura:','href','IGV\x20Gratuitas','Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.','test','change','fecha','</span>','Registrar\x20Gasto','setIdOperation','Bien\x20o\x20Servicio:\x20','Ingresos','./img/apiPOS.png','Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20','divMarginTopAuto','return\x20(function()\x20','table','setWindowStatus','Porcentaje\x20detracción','detraccionTotal-','src','Vence:\x20','.category-checkbox','./img/layout/icon-vertical-line.svg','#f0f4f8'];_0x7f4c=function(){return _0x243772;};return _0x7f4c();}async function apiERPupdateOnlineCartTmp(_0x3131fc,_0x6de52d){const _0x1add72=_0x37a403;if(!isOnline())return console[_0x1add72(0x6ab)](_0x1add72(0x37e)),Promise[_0x1add72(0x625)](_0x1add72(0x37e));const _0x133942={'setAuthToken':_0x3131fc,'setWindows':_0x6de52d};return fetch(_0x1add72(0x459),{'method':'POST','headers':{'Content-Type':_0x1add72(0x35f)},'body':JSON[_0x1add72(0x195)](_0x133942)})[_0x1add72(0x323)](_0x1a329a=>{const _0x2f88fd=_0x1add72;if(!_0x1a329a['ok'])throw new Error(_0x2f88fd(0x2c1)+_0x1a329a[_0x2f88fd(0x496)]);return _0x1a329a[_0x2f88fd(0x14a)]();})[_0x1add72(0x323)](_0x2c1d2d=>{const _0x5858ef=_0x1add72;if(!_0x2c1d2d[_0x5858ef(0x299)])throw new Error(_0x2c1d2d[_0x5858ef(0x37b)]||_0x5858ef(0x44a));return console[_0x5858ef(0x6ab)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x2c1d2d;})[_0x1add72(0x258)](_0x26e333=>{const _0x818b18=_0x1add72;console[_0x818b18(0x65e)]('Error\x20al\x20actualizar\x20data\x20online:',_0x26e333);throw _0x26e333;});}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x22ec97=_0x37a403,_0x5a28d4=new Date(),_0x15a09f=_0x5a28d4[_0x22ec97(0x4c9)](),_0x1a0d2c=String(_0x5a28d4[_0x22ec97(0x173)]()+0x1)[_0x22ec97(0x487)](0x2,'0'),_0x42fb3e=String(_0x5a28d4[_0x22ec97(0x629)]())[_0x22ec97(0x487)](0x2,'0'),_0x39be59=String(_0x5a28d4['getHours']())[_0x22ec97(0x487)](0x2,'0'),_0x5d7617=String(_0x5a28d4['getMinutes']())[_0x22ec97(0x487)](0x2,'0'),_0x203c26=_0x15a09f+'-'+_0x1a0d2c+'-'+_0x42fb3e+'T'+_0x39be59+':'+_0x5d7617;return _0x203c26;}async function createFormElements(_0x2e9698){const _0x26b70c=_0x37a403,_0x2ff6b2=_0x2e9698[_0x26b70c(0x3c1)]('-')[0x1],_0x46d1de=document[_0x26b70c(0x456)](_0x26b70c(0x327)),_0x1a4ed2=document[_0x26b70c(0x456)](_0x26b70c(0x59e)),_0x429477=document['createElement'](_0x26b70c(0x50b));_0x429477['id']='active\x20tab-'+_0x2ff6b2,_0x429477['className']='tab-content\x20active\x20tab-'+_0x2ff6b2,_0x46d1de[_0x26b70c(0x361)](_0x429477);const _0x402718=document[_0x26b70c(0x456)](_0x26b70c(0x573)+_0x2ff6b2),_0x17e810=document['createElement'](_0x26b70c(0x50b));_0x17e810['id']=_0x26b70c(0x2ed)+_0x2ff6b2,_0x17e810[_0x26b70c(0x489)]=_0x26b70c(0x215),_0x402718['appendChild'](_0x17e810);const _0x550b1e=document[_0x26b70c(0x456)](_0x26b70c(0x2ed)+_0x2ff6b2),_0x2a0965=createElement('div',{'class':'div-width-35\x20col-bt-left-padding'}),_0x4929a8=myCompany[_0x26b70c(0x146)][_0x26b70c(0x17c)](_0x4e269e=>{const _0x51a36e=_0x26b70c;return createElement(_0x51a36e(0x190),{'value':_0x4e269e[_0x51a36e(0x1e2)]},[_0x4e269e[_0x51a36e(0x3b6)]]);}),_0x2cdede=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x34c)+_0x2ff6b2,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','events':{'change':_0x1b1b49=>{const _0x5b11c3=_0x26b70c;updateSerieAndRenderCart(_0x1b1b49[_0x5b11c3(0x114)][_0x5b11c3(0x351)],_0x2ff6b2);}}},_0x4929a8);_0x2a0965['appendChild'](_0x2cdede),_0x550b1e[_0x26b70c(0x361)](_0x2a0965);const _0x576cd1=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x2eb)}),_0x1d68da=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x1f5)+_0x2ff6b2,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie'});_0x576cd1[_0x26b70c(0x361)](_0x1d68da),_0x550b1e[_0x26b70c(0x361)](_0x576cd1);const _0x523d11=document['createElement'](_0x26b70c(0x50b));_0x523d11[_0x26b70c(0x489)]=_0x26b70c(0x35b);const _0x585b9b=document[_0x26b70c(0x6c7)](_0x26b70c(0x210));_0x585b9b['id']=_0x26b70c(0x402)+_0x2ff6b2,_0x585b9b[_0x26b70c(0x276)]=_0x26b70c(0x2dc),_0x585b9b[_0x26b70c(0x489)]=_0x26b70c(0x330),_0x585b9b['placeholder']=_0x26b70c(0x143),_0x585b9b[_0x26b70c(0x167)]=_0x3ae05a=>updateWindowOption(_0x2ff6b2,'setCorrelativo',_0x3ae05a[_0x26b70c(0x114)]['value']),_0x523d11[_0x26b70c(0x361)](_0x585b9b),_0x550b1e[_0x26b70c(0x361)](_0x523d11);const _0x583220=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x583220[_0x26b70c(0x489)]=_0x26b70c(0x690);const _0x1d823c=document[_0x26b70c(0x6c7)](_0x26b70c(0x454));_0x1d823c['id']=_0x26b70c(0x5ea)+_0x2ff6b2,_0x1d823c[_0x26b70c(0x276)]='button',_0x1d823c[_0x26b70c(0x197)]=_0x26b70c(0x485),_0x1d823c[_0x26b70c(0x489)]=_0x26b70c(0x152),_0x1d823c[_0x26b70c(0x1fe)]=()=>{const _0x18dff7=_0x26b70c;showSection(_0x18dff7(0x2d1));},_0x583220['appendChild'](_0x1d823c),_0x550b1e[_0x26b70c(0x361)](_0x583220);const _0x443419=myCompany['setMonedas'][_0x26b70c(0x17c)](_0x5e663f=>{const _0x3c30da=_0x26b70c;return createElement(_0x3c30da(0x190),{'value':_0x5e663f[_0x3c30da(0x387)]},[_0x5e663f[_0x3c30da(0x387)]]);}),_0x4a7489=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x20f)+_0x2ff6b2,'class':_0x26b70c(0x1eb),'events':{'change':_0xaedb03=>updateChangeMoneda(_0x2ff6b2,_0x26b70c(0x38f),_0xaedb03[_0x26b70c(0x114)]['value'])}},_0x443419),_0x1706fd=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x4a2)},[_0x4a7489]);_0x550b1e[_0x26b70c(0x361)](_0x1706fd);const _0x5b5216=myCompany['setTipoDocumentosCliente'][_0x26b70c(0x17c)](_0xae2fc9=>{const _0x26536c=_0x26b70c;return createElement(_0x26536c(0x190),{'value':_0xae2fc9[_0x26536c(0x3bd)]},[_0xae2fc9[_0x26536c(0x3bd)]]);}),_0xed238d=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x1dd)+_0x2ff6b2,'class':_0x26b70c(0x300),'events':{'change':_0xc06ec3=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x3de),_0xc06ec3['target'][_0x26b70c(0x351)])}},_0x5b5216),_0x4089f0=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x2eb)},[_0xed238d]);_0x550b1e[_0x26b70c(0x361)](_0x4089f0);const _0x1315ef=document[_0x26b70c(0x6c7)]('div');_0x1315ef[_0x26b70c(0x489)]=_0x26b70c(0x35b);const _0x4a08aa=document[_0x26b70c(0x6c7)](_0x26b70c(0x210));_0x4a08aa['id']=_0x26b70c(0x174)+_0x2ff6b2,_0x4a08aa[_0x26b70c(0x276)]=_0x26b70c(0x5e1),_0x4a08aa['autocomplete']=_0x26b70c(0x188),_0x4a08aa['placeholder']='Nº',_0x4a08aa['className']=_0x26b70c(0x29f),_0x4a08aa[_0x26b70c(0x167)]=_0x378dd7=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x1df),_0x378dd7[_0x26b70c(0x114)][_0x26b70c(0x351)]),_0x4a08aa[_0x26b70c(0x3ad)]('keypress',_0x54b2fb=>{const _0x3eb48e=_0x26b70c;_0x54b2fb[_0x3eb48e(0x4a3)]==_0x3eb48e(0x57b)&&setupConsulta(_0x2ff6b2);}),_0x4a08aa[_0x26b70c(0x3ad)](_0x26b70c(0x210),async _0x5853d3=>{const _0x5eb74=_0x26b70c,_0x5c8cad=window_options[_0x2ff6b2],_0x5e9fe6=_0x4a08aa[_0x5eb74(0x351)];_0x5c8cad['setTipoOperacion']==0x4&&_0x5c8cad[_0x5eb74(0x3de)]==_0x5eb74(0x319)&&_0x5e9fe6[_0x5eb74(0x59a)]==0xb&&(await updateWindowOption(_0x2ff6b2,_0x5eb74(0x1df),_0x5e9fe6),setupConsulta(_0x2ff6b2));}),_0x4a08aa['addEventListener'](_0x26b70c(0x32c),_0x53fbbd=>{const _0x54f8e0=_0x26b70c;if(_0x53fbbd[_0x54f8e0(0x4a3)]==_0x54f8e0(0x177)||_0x53fbbd[_0x54f8e0(0x4a3)]==_0x54f8e0(0x696)){const _0x4e70cc=document[_0x54f8e0(0x456)]('setClienteDenominacion-'+_0x2ff6b2),_0x152651=document[_0x54f8e0(0x456)](_0x54f8e0(0x318)+_0x2ff6b2);_0x4e70cc&&(_0x4e70cc['value']='',window_options[_0x2ff6b2][_0x54f8e0(0x582)]=''),_0x152651&&(_0x152651[_0x54f8e0(0x351)]='',window_options[_0x2ff6b2][_0x54f8e0(0x63d)]='');}}),_0x1315ef[_0x26b70c(0x361)](_0x4a08aa),_0x550b1e[_0x26b70c(0x361)](_0x1315ef);const _0x14d48=document['createElement'](_0x26b70c(0x50b));_0x14d48[_0x26b70c(0x489)]=_0x26b70c(0x690);const _0x591322=document['createElement'](_0x26b70c(0x454));_0x591322['id']=_0x26b70c(0x56c)+_0x2ff6b2,_0x591322[_0x26b70c(0x276)]='button',_0x591322['innerHTML']=_0x26b70c(0x2fa),_0x591322[_0x26b70c(0x489)]=_0x26b70c(0x531),_0x591322[_0x26b70c(0x1fe)]=()=>setupConsulta(_0x2ff6b2),_0x14d48[_0x26b70c(0x361)](_0x591322),_0x550b1e[_0x26b70c(0x361)](_0x14d48);const _0x31d595=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x31d595['className']=_0x26b70c(0x4a7),_0x31d595['style'][_0x26b70c(0x2cd)]='relative';const _0x40bf8d=document[_0x26b70c(0x6c7)](_0x26b70c(0x210));_0x40bf8d['id']=_0x26b70c(0x338)+_0x2ff6b2,_0x40bf8d[_0x26b70c(0x276)]='text',_0x40bf8d['autocomplete']=_0x26b70c(0x188),_0x40bf8d[_0x26b70c(0x489)]=_0x26b70c(0x4b1),_0x40bf8d[_0x26b70c(0x167)]=_0x1767f2=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x582),_0x1767f2[_0x26b70c(0x114)][_0x26b70c(0x351)]);const _0x576aa4=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x576aa4['id']=_0x26b70c(0x435)+_0x2ff6b2,_0x576aa4[_0x26b70c(0x489)]=_0x26b70c(0x2e2),_0x40bf8d[_0x26b70c(0x3ad)](_0x26b70c(0x67c),_0x27d9a3=>{const _0x4f4e47=_0x26b70c;_0x27d9a3[_0x4f4e47(0x4a3)]==_0x4f4e47(0x57b)&&(setupConsulta(_0x2ff6b2),document[_0x4f4e47(0x456)]('suggestions-'+_0x2ff6b2)[_0x4f4e47(0x197)]='');}),_0x40bf8d[_0x26b70c(0x3ad)](_0x26b70c(0x32c),function(_0x242170){const _0x3f40eb=_0x26b70c;_0x242170[_0x3f40eb(0x4a3)]=='Tab'&&_0x576aa4[_0x3f40eb(0x5d3)][_0x3f40eb(0x59a)]>0x0&&(_0x242170[_0x3f40eb(0x492)](),_0x242170[_0x3f40eb(0x38b)](),_0x576aa4[_0x3f40eb(0x5d3)][0x0]['focus']());}),_0x31d595[_0x26b70c(0x361)](_0x40bf8d),_0x31d595[_0x26b70c(0x361)](_0x576aa4),_0x550b1e['appendChild'](_0x31d595),_0x40bf8d[_0x26b70c(0x3ad)](_0x26b70c(0x210),function(){const _0x5b3ed3=_0x26b70c,_0x3eddfe=this[_0x5b3ed3(0x351)]['trim']()[_0x5b3ed3(0x69d)]();_0x576aa4[_0x5b3ed3(0x197)]='';if(_0x3eddfe[_0x5b3ed3(0x59a)]==0x0)return;const _0x556ad2=_0x3eddfe[_0x5b3ed3(0x3c1)](/\s+/)[_0x5b3ed3(0x5a3)](_0x292a26=>_0x292a26);let _0x1b879f,_0x44a120;setTipOpeOrders['some'](_0x2e1272=>_0x2e1272==window_options[_0x2ff6b2][_0x5b3ed3(0x118)])||setTipOpeSales['some'](_0x48feab=>_0x48feab==window_options[_0x2ff6b2]['setTipoOperacion'])||setTipOpeQuotation[_0x5b3ed3(0x30c)](_0x3663bc=>_0x3663bc==window_options[_0x2ff6b2][_0x5b3ed3(0x118)])?(_0x1b879f=myCompany[_0x5b3ed3(0x352)],_0x44a120=_0x1b879f[_0x5b3ed3(0x5a3)](_0xe1f136=>{const _0xce3e40=_0x5b3ed3,_0x400d7c=(_0xe1f136['setCustomerName']||'')[_0xce3e40(0x69d)](),_0x1cd62a=(_0xe1f136[_0xce3e40(0x6a2)]||'')[_0xce3e40(0x69d)](),_0xb92009=_0x400d7c+'\x20'+_0x1cd62a;return _0x556ad2[_0xce3e40(0x147)](_0x5721e9=>_0xb92009[_0xce3e40(0x67b)](_0x5721e9));})):(_0x1b879f=myCompany[_0x5b3ed3(0x344)],_0x44a120=_0x1b879f[_0x5b3ed3(0x5a3)](_0x452ffb=>{const _0x1785e8=_0x5b3ed3,_0x3831a1=(_0x452ffb[_0x1785e8(0x168)]||'')[_0x1785e8(0x69d)](),_0x471e0a=(_0x452ffb[_0x1785e8(0x316)]||'')['toLowerCase'](),_0x13a8e7=_0x3831a1+'\x20'+_0x471e0a;return _0x556ad2[_0x1785e8(0x147)](_0x4b0a7d=>_0x13a8e7[_0x1785e8(0x67b)](_0x4b0a7d));}));if(_0x44a120['length']>0x0)_0x44a120['forEach'](_0x25d65f=>{const _0x2b8602=_0x5b3ed3,_0x26039f=document[_0x2b8602(0x6c7)](_0x2b8602(0x50b));_0x26039f[_0x2b8602(0x489)]='suggestion-item';let _0x398d20,_0x303f11,_0x4479d2;setTipOpeOrders['some'](_0x2bfda1=>_0x2bfda1==window_options[_0x2ff6b2][_0x2b8602(0x118)])||setTipOpeSales[_0x2b8602(0x30c)](_0x990cf5=>_0x990cf5==window_options[_0x2ff6b2][_0x2b8602(0x118)])||setTipOpeQuotation['some'](_0x2d81b5=>_0x2d81b5==window_options[_0x2ff6b2][_0x2b8602(0x118)])?(_0x398d20=_0x25d65f[_0x2b8602(0x6a2)],_0x303f11=_0x25d65f['setCustomerName'],_0x4479d2=_0x25d65f[_0x2b8602(0x111)]):(_0x398d20=_0x25d65f[_0x2b8602(0x316)],_0x303f11=_0x25d65f[_0x2b8602(0x168)],_0x4479d2=_0x25d65f[_0x2b8602(0x51b)]),_0x398d20?_0x26039f[_0x2b8602(0x13f)]=_0x398d20+'\x20-\x20'+_0x303f11:_0x26039f[_0x2b8602(0x13f)]=_0x303f11,_0x26039f[_0x2b8602(0x567)]=0x0,_0x26039f[_0x2b8602(0x3ad)](_0x2b8602(0x42d),()=>{const _0x2a1b7d=_0x2b8602;_0x40bf8d[_0x2a1b7d(0x351)]=_0x303f11;const _0x31531b=document[_0x2a1b7d(0x456)]('setClienteNumDoc-'+_0x2ff6b2),_0x53d544=document[_0x2a1b7d(0x456)]('setClienteDireccion-'+_0x2ff6b2);_0x31531b&&(_0x31531b['value']=_0x398d20||''),_0x53d544&&(_0x53d544['value']=_0x4479d2||''),window_options[_0x2ff6b2][_0x2a1b7d(0x582)]=_0x303f11,window_options[_0x2ff6b2][_0x2a1b7d(0x1df)]=_0x398d20,window_options[_0x2ff6b2][_0x2a1b7d(0x63d)]=_0x4479d2,saveWindowOptionsDB(_0x2ff6b2)[_0x2a1b7d(0x258)](_0x2f9d01=>console[_0x2a1b7d(0x65e)](_0x2a1b7d(0x310),_0x2f9d01)),_0x576aa4[_0x2a1b7d(0x197)]='';}),_0x26039f[_0x2b8602(0x3ad)](_0x2b8602(0x32c),function(_0x50148a){const _0x859922=_0x2b8602;if(_0x50148a[_0x859922(0x4a3)]=='Enter')_0x50148a['stopPropagation'](),this[_0x859922(0x42d)]();else{if(_0x50148a[_0x859922(0x4a3)]==_0x859922(0x54d)){_0x50148a[_0x859922(0x492)](),_0x50148a[_0x859922(0x38b)]();if(_0x50148a[_0x859922(0x2fd)]){if(this==_0x576aa4[_0x859922(0x584)])_0x40bf8d[_0x859922(0x5db)]();else{let _0x4951a1=this[_0x859922(0x6dc)];if(_0x4951a1)_0x4951a1[_0x859922(0x5db)]();}}else this[_0x859922(0x679)]?this[_0x859922(0x679)][_0x859922(0x5db)]():_0x40bf8d['focus']();}}}),_0x576aa4[_0x2b8602(0x361)](_0x26039f);});else{const _0x4ebd8e=document[_0x5b3ed3(0x6c7)](_0x5b3ed3(0x50b));_0x4ebd8e[_0x5b3ed3(0x489)]=_0x5b3ed3(0x4a8),_0x4ebd8e[_0x5b3ed3(0x13f)]=_0x5b3ed3(0x230),_0x576aa4[_0x5b3ed3(0x361)](_0x4ebd8e);}});const _0x274190=document['createElement'](_0x26b70c(0x50b));_0x274190['className']=_0x26b70c(0x4a7);const _0x5e8bf4=document[_0x26b70c(0x6c7)](_0x26b70c(0x210));_0x5e8bf4['id']=_0x26b70c(0x318)+_0x2ff6b2,_0x5e8bf4['type']=_0x26b70c(0x5e1),_0x5e8bf4[_0x26b70c(0x4bc)]='off',_0x5e8bf4[_0x26b70c(0x4ac)]=_0x26b70c(0x15e),_0x5e8bf4[_0x26b70c(0x489)]=_0x26b70c(0x1a2),_0x5e8bf4[_0x26b70c(0x167)]=_0x4fe97e=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x63d),_0x4fe97e[_0x26b70c(0x114)][_0x26b70c(0x351)]),_0x274190['appendChild'](_0x5e8bf4),_0x550b1e[_0x26b70c(0x361)](_0x274190);const _0x1cf872=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x1cf872[_0x26b70c(0x489)]=_0x26b70c(0x2f7);const _0xa524f2=document[_0x26b70c(0x6c7)](_0x26b70c(0x454));_0xa524f2['id']=_0x26b70c(0x67e)+_0x2ff6b2,_0xa524f2[_0x26b70c(0x276)]=_0x26b70c(0x454),_0xa524f2['innerHTML']=_0x26b70c(0x16b),_0xa524f2['className']=_0x26b70c(0x2ef),_0xa524f2['onclick']=_0x255db4=>setPreAccount(_0x2ff6b2),_0xa524f2[_0x26b70c(0x201)][_0x26b70c(0x241)]='5px',_0xa524f2[_0x26b70c(0x201)][_0x26b70c(0x337)]='5px',_0x1cf872['appendChild'](_0xa524f2),_0x550b1e[_0x26b70c(0x361)](_0x1cf872);const _0x58ba2=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x58ba2[_0x26b70c(0x489)]=_0x26b70c(0x29b);const _0x577dc8=document['createElement']('button');_0x577dc8['id']='btnopt_facturar-'+_0x2ff6b2,_0x577dc8[_0x26b70c(0x276)]=_0x26b70c(0x454),_0x577dc8[_0x26b70c(0x197)]=_0x26b70c(0x346),_0x577dc8[_0x26b70c(0x489)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt',_0x577dc8['onclick']=()=>setBill(_0x2ff6b2),_0x58ba2[_0x26b70c(0x361)](_0x577dc8),_0x550b1e['appendChild'](_0x58ba2);const _0x411dee=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x411dee[_0x26b70c(0x489)]=_0x26b70c(0x29b);const _0x3c126e=document[_0x26b70c(0x6c7)]('button');_0x3c126e['id']=_0x26b70c(0x176)+_0x2ff6b2,_0x3c126e['type']=_0x26b70c(0x454),_0x3c126e[_0x26b70c(0x197)]=_0x26b70c(0x23f),_0x3c126e[_0x26b70c(0x489)]=_0x26b70c(0x142);let _0x57ecfc=![];_0x3c126e[_0x26b70c(0x1fe)]=()=>{const _0x4c4d47=_0x26b70c;_0x57ecfc=!_0x57ecfc,_0x57ecfc?_0x3c126e[_0x4c4d47(0x201)][_0x4c4d47(0x3dd)]=_0x4c4d47(0x6b3):_0x3c126e[_0x4c4d47(0x201)][_0x4c4d47(0x3dd)]='',updateWindowOption(_0x2ff6b2,'setConsumo',_0x57ecfc?0x1:0x0);},_0x411dee['appendChild'](_0x3c126e),_0x550b1e[_0x26b70c(0x361)](_0x411dee);const _0x5a32ae=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x5a32ae[_0x26b70c(0x489)]=_0x26b70c(0x29b);const _0x17fd7d=document[_0x26b70c(0x6c7)](_0x26b70c(0x454));_0x17fd7d['id']=_0x26b70c(0x6a8)+_0x2ff6b2,_0x17fd7d[_0x26b70c(0x276)]=_0x26b70c(0x454),_0x17fd7d[_0x26b70c(0x197)]='Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>',_0x17fd7d[_0x26b70c(0x489)]=_0x26b70c(0x393);let _0x1e142c=![];_0x17fd7d[_0x26b70c(0x1fe)]=()=>{const _0x2aabc9=_0x26b70c,_0x22ad6b=document[_0x2aabc9(0x456)](_0x2aabc9(0x45a)+_0x2ff6b2),_0x117d77=document['querySelectorAll'](_0x2aabc9(0x6a6)+_0x2ff6b2);_0x117d77[_0x2aabc9(0x3fd)](_0x5c5a54=>{const _0x15d425=_0x2aabc9;_0x1e142c?_0x5c5a54[_0x15d425(0x560)]['add'](_0x15d425(0x208)):_0x5c5a54[_0x15d425(0x560)][_0x15d425(0x1ef)](_0x15d425(0x208));}),_0x1e142c?(_0x17fd7d[_0x2aabc9(0x201)][_0x2aabc9(0x3dd)]='',_0x22ad6b[_0x2aabc9(0x560)][_0x2aabc9(0x417)](_0x2aabc9(0x208))):(_0x17fd7d[_0x2aabc9(0x201)][_0x2aabc9(0x3dd)]=_0x2aabc9(0x6b3),_0x22ad6b[_0x2aabc9(0x560)]['remove'](_0x2aabc9(0x208))),_0x1e142c=!_0x1e142c,updateWindowOption(_0x2ff6b2,'setDividir',_0x1e142c?0x1:0x0);},_0x17fd7d[_0x26b70c(0x201)][_0x26b70c(0x41f)]=_0x26b70c(0x3ca),_0x17fd7d[_0x26b70c(0x201)][_0x26b70c(0x2fc)]=_0x26b70c(0x3ca),_0x5a32ae[_0x26b70c(0x361)](_0x17fd7d),_0x550b1e[_0x26b70c(0x361)](_0x5a32ae);const _0x511953=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x511953['id']=_0x26b70c(0x45a)+_0x2ff6b2,_0x511953['className']=_0x26b70c(0x46f),_0x511953[_0x26b70c(0x201)][_0x26b70c(0x16d)]=_0x26b70c(0x6b3),_0x511953[_0x26b70c(0x201)][_0x26b70c(0x656)]='0',_0x511953[_0x26b70c(0x201)][_0x26b70c(0x32d)]='10px';const _0xf1b4dc=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x542),'id':_0x26b70c(0x40a)+_0x2ff6b2,'value':0x0,'events':{'click':_0x1c7904=>selectAllChecks(_0x2ff6b2)}});_0xf1b4dc['style'][_0x26b70c(0x656)]='8px',_0x511953['appendChild'](_0xf1b4dc),_0x550b1e[_0x26b70c(0x361)](_0x511953);const _0x3354b3=document[_0x26b70c(0x456)](_0x26b70c(0x2d1)),_0x5cd4bf=document['createElement'](_0x26b70c(0x50b));_0x5cd4bf['id']='active\x20tab-section-options-'+_0x2ff6b2,_0x5cd4bf['className']=_0x26b70c(0x15a)+_0x2ff6b2,_0x3354b3['appendChild'](_0x5cd4bf);const _0x59333f=document[_0x26b70c(0x456)](_0x26b70c(0x64a)+_0x2ff6b2),_0x773213=document[_0x26b70c(0x6c7)]('div');_0x773213['id']='container-div-flex-'+_0x2ff6b2,_0x59333f[_0x26b70c(0x361)](_0x773213);const _0x2e32b8=document[_0x26b70c(0x456)]('container-div-flex-'+_0x2ff6b2),_0x81f6e0=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x81f6e0['id']=_0x26b70c(0x320)+_0x2ff6b2,_0x81f6e0['className']=_0x26b70c(0x4d0),_0x2e32b8[_0x26b70c(0x361)](_0x81f6e0);const _0x53dd99=document[_0x26b70c(0x456)]('container-div-flex-2-'+_0x2ff6b2),_0x5730a1=document[_0x26b70c(0x6c7)]('div');_0x5730a1['id']=_0x26b70c(0x34f)+_0x2ff6b2,_0x5730a1[_0x26b70c(0x489)]=_0x26b70c(0x55a),_0x53dd99['appendChild'](_0x5730a1);const _0x5c918e=document['createElement'](_0x26b70c(0x50b));_0x5c918e['id']=_0x26b70c(0x633)+_0x2ff6b2,_0x5c918e[_0x26b70c(0x489)]=_0x26b70c(0x43f),_0x53dd99[_0x26b70c(0x361)](_0x5c918e);const _0x462639=document[_0x26b70c(0x456)](_0x26b70c(0x34f)+_0x2ff6b2),_0x3b67a5=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},['TIPO\x20OPERACIÓN:']),_0x171b2d=[{'value':'1','text':_0x26b70c(0x39a)},{'value':'3','text':_0x26b70c(0x6d1)}][_0x26b70c(0x17c)](_0x455f82=>createElement(_0x26b70c(0x190),{'value':_0x455f82[_0x26b70c(0x351)]},[_0x455f82[_0x26b70c(0x5e1)]])),_0x3dc6c7=createElement('select',{'id':_0x26b70c(0x365)+_0x2ff6b2,'class':_0x26b70c(0x4fe),'events':{'change':_0xcdf9a7=>updateWindowOption(_0x2ff6b2,'setTipoOperacionInvoice',_0xcdf9a7[_0x26b70c(0x114)][_0x26b70c(0x351)])}},_0x171b2d),_0x204ed7=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x336)},[_0x3b67a5,_0x3dc6c7]),_0x450245=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},['FECHA:']),_0x53fe9a=createElement('input',{'id':'setFechaHora-'+_0x2ff6b2,'type':_0x26b70c(0x2f0),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','events':{'change':_0x32a3f8=>updateWindowOption(_0x2ff6b2,'setFechaHora',_0x32a3f8[_0x26b70c(0x114)][_0x26b70c(0x351)])}}),_0x28fe8a=createElement('div',{'class':'div-width-options\x20col-bt-padding-options'},[_0x450245,_0x53fe9a]),_0x6ee4e4=createElement(_0x26b70c(0x50b),{'class':'div-group-container\x20div-width-100'},[_0x204ed7,_0x28fe8a]);_0x462639['appendChild'](_0x6ee4e4);const _0x492d4d=createElement(_0x26b70c(0x646),{'class':'label-options'},[_0x26b70c(0x1db)]),_0x1f9370=createElement(_0x26b70c(0x210),{'id':_0x26b70c(0x19c)+_0x2ff6b2,'type':_0x26b70c(0x5e1),'class':_0x26b70c(0x69e),'events':{'change':_0x2fa83f=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x65a),_0x2fa83f[_0x26b70c(0x114)]['value'])}}),_0xfdaa2a=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x336)},[_0x492d4d,_0x1f9370]),_0x55df8e=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},[_0x26b70c(0x595)]),_0x108163=createElement(_0x26b70c(0x210),{'id':'setCustomerEmail-'+_0x2ff6b2,'type':_0x26b70c(0x3f7),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','events':{'change':_0x614200=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x22b),_0x614200[_0x26b70c(0x114)][_0x26b70c(0x351)])}}),_0x5941d2=createElement(_0x26b70c(0x50b),{'class':'div-width-options\x20col-bt-padding-options'},[_0x55df8e,_0x108163]),_0x46e501=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x379)},[_0xfdaa2a,_0x5941d2]);_0x462639[_0x26b70c(0x361)](_0x46e501);const _0x2a6fb7=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},[_0x26b70c(0x198)]),_0x34f447=myCompany[_0x26b70c(0x289)][_0x26b70c(0x17c)](_0x133405=>createElement(_0x26b70c(0x190),{'value':_0x133405['setCollaboratorId']},[_0x133405['setCollaboratorFullName']])),_0x323ac8=createElement(_0x26b70c(0x1e0),{'id':'setVendedorCodigo-'+_0x2ff6b2,'class':_0x26b70c(0x2db),'events':{'change':_0xf0f9c0=>updateWindowOption(_0x2ff6b2,'setSellerId',_0xf0f9c0['target']['value'])}},_0x34f447),_0x57da7e=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x336)},[_0x2a6fb7,_0x323ac8]),_0x450d89=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},[_0x26b70c(0x1cc)]),_0x2eeda9=[{'value':'1','text':'Despachar'},{'value':'2','text':_0x26b70c(0x343)},{'value':'3','text':_0x26b70c(0x161)}][_0x26b70c(0x17c)](_0x5b9e4d=>createElement('option',{'value':_0x5b9e4d[_0x26b70c(0x351)]},[_0x5b9e4d[_0x26b70c(0x5e1)]])),_0x4cb7fe=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x4a9)+_0x2ff6b2,'class':_0x26b70c(0x5a2),'events':{'change':_0x2dd951=>updateWindowOption(_0x2ff6b2,'setDespacho',_0x2dd951['target']['value'])}},_0x2eeda9),_0x43df2c=createElement(_0x26b70c(0x50b),{'class':'div-width-options\x20col-bt-padding-options'},[_0x450d89,_0x4cb7fe]),_0x5f5707=createElement('div',{'class':_0x26b70c(0x379)},[_0x57da7e,_0x43df2c]);_0x462639['appendChild'](_0x5f5707);const _0x3a6ba6=createElement(_0x26b70c(0x646),{'class':_0x26b70c(0x54b)},['APLICAR:']),_0x416ec2=createElement(_0x26b70c(0x50b),{'class':'div-width-100\x20col-bt-padding'}),_0x23aec0=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x542),'id':'chkDetraccion-'+_0x2ff6b2,'class':_0x26b70c(0x2cf),'events':{'change':_0x66e966=>toggleTaxFields(_0x66e966,_0x26b70c(0x4a0),_0x2ff6b2)}}),_0x5f1423=createElement(_0x26b70c(0x646),{'for':'chkDetraccion-'+_0x2ff6b2,'class':'label-options\x20mb-2'},[_0x26b70c(0x520)]),_0x390c53=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x56e)+_0x2ff6b2,'class':_0x26b70c(0x4e4),'events':{'change':_0x342873=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x499),_0x342873[_0x26b70c(0x114)][_0x26b70c(0x351)])}},[createElement(_0x26b70c(0x190),{'value':'0'},[_0x26b70c(0x557)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x396)},[_0x26b70c(0x1b9)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x612)},[_0x26b70c(0x4ab)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x22a)},['Recursos\x20hidrobiológicos']),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x6d6)},[_0x26b70c(0x45f)]),createElement('option',{'value':_0x26b70c(0x434)},[_0x26b70c(0x374)]),createElement('option',{'value':'007'},[_0x26b70c(0x19b)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x34b)},[_0x26b70c(0x269)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x4dd)},['Arena\x20y\x20piedra']),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x28a)},[_0x26b70c(0x1d8)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x581)},['Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV']),createElement(_0x26b70c(0x190),{'value':'012'},[_0x26b70c(0x5b1)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x43e)},['Animales\x20vivos']),createElement(_0x26b70c(0x190),{'value':'014'},[_0x26b70c(0x519)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x257)},[_0x26b70c(0x2e0)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x183)},['Aceite\x20de\x20pescado']),createElement('option',{'value':_0x26b70c(0x670)},['Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos']),createElement('option',{'value':_0x26b70c(0x61d)},[_0x26b70c(0x68e)]),createElement(_0x26b70c(0x190),{'value':'019'},[_0x26b70c(0x308)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x697)},['Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles']),createElement(_0x26b70c(0x190),{'value':'021'},[_0x26b70c(0x169)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x2a3)},[_0x26b70c(0x463)]),createElement('option',{'value':_0x26b70c(0x30a)},[_0x26b70c(0x127)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x654)},[_0x26b70c(0x4da)]),createElement(_0x26b70c(0x190),{'value':'025'},[_0x26b70c(0x149)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x438)},[_0x26b70c(0x3bc)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x433)},[_0x26b70c(0x132)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x4cd)},[_0x26b70c(0x13a)]),createElement('option',{'value':_0x26b70c(0x12f)},[_0x26b70c(0x475)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x2f6)},[_0x26b70c(0x4f7)]),createElement('option',{'value':_0x26b70c(0x691)},[_0x26b70c(0x130)]),createElement(_0x26b70c(0x190),{'value':'034'},['Minerales\x20metálicos\x20no\x20auríferos']),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x2c2)},['Bienes\x20exonerados\x20del\x20IGV']),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x5ec)},[_0x26b70c(0x585)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x5cf)},[_0x26b70c(0x1a9)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x56b)},['Minerales\x20no\x20metálicos']),createElement(_0x26b70c(0x190),{'value':''},[_0x26b70c(0x239)])]),_0x20ff0f=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x2dc),'id':'detraccionPct-'+_0x2ff6b2,'class':_0x26b70c(0x4e3),'value':'','placeholder':_0x26b70c(0x602),'events':{'change':_0x26632e=>calculateTax('Detraccion',_0x2ff6b2)}}),_0xbabc6f=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x5e1),'id':_0x26b70c(0x603)+_0x2ff6b2,'class':_0x26b70c(0x4e3),'readonly':!![],'placeholder':_0x26b70c(0x2df)});_0x416ec2[_0x26b70c(0x361)](_0x23aec0),_0x416ec2['appendChild'](_0x5f1423),_0x416ec2[_0x26b70c(0x361)](_0x390c53),_0x416ec2[_0x26b70c(0x361)](_0x20ff0f),_0x416ec2[_0x26b70c(0x361)](_0xbabc6f);const _0x504eba=createElement('div',{'class':_0x26b70c(0x55e)}),_0x1a380c=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x542),'id':_0x26b70c(0x375)+_0x2ff6b2,'class':_0x26b70c(0x2cf),'events':{'change':_0xd77c70=>toggleTaxFields(_0xd77c70,_0x26b70c(0x510),_0x2ff6b2)}}),_0x4a7997=createElement('label',{'for':'chkRetencion-'+_0x2ff6b2,'class':'label-options\x20mb-2'},[_0x26b70c(0x403)]),_0x5c6eef=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x2dc),'id':_0x26b70c(0x232)+_0x2ff6b2,'class':_0x26b70c(0x4e3),'value':'3','placeholder':_0x26b70c(0x675),'events':{'change':_0x76348f=>calculateTax(_0x26b70c(0x510),_0x2ff6b2)}}),_0x14905f=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x5e1),'id':_0x26b70c(0x44c)+_0x2ff6b2,'class':_0x26b70c(0x4e3),'readonly':!![],'placeholder':_0x26b70c(0x548)});_0x504eba['appendChild'](_0x1a380c),_0x504eba[_0x26b70c(0x361)](_0x4a7997),_0x504eba[_0x26b70c(0x361)](_0x5c6eef),_0x504eba['appendChild'](_0x14905f);const _0x3cb507=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x55e)}),_0x4b6e58=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x542),'id':'chkPercepcion-'+_0x2ff6b2,'class':'custom-checkbox','events':{'change':_0x49093b=>toggleTaxFields(_0x49093b,'Percepcion',_0x2ff6b2)}}),_0x27640a=createElement(_0x26b70c(0x646),{'for':'chkPercepcion-'+_0x2ff6b2,'class':_0x26b70c(0x47b)},[_0x26b70c(0x317)]),_0xe9664c=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x2dc),'id':_0x26b70c(0x341)+_0x2ff6b2,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','value':'2','placeholder':_0x26b70c(0x48c),'events':{'change':_0x1ef195=>calculateTax('Percepcion',_0x2ff6b2)}}),_0x4615d4=createElement(_0x26b70c(0x210),{'type':_0x26b70c(0x5e1),'id':'percepcionTotal-'+_0x2ff6b2,'class':_0x26b70c(0x4e3),'readonly':!![],'placeholder':_0x26b70c(0x50c)});_0x3cb507[_0x26b70c(0x361)](_0x4b6e58),_0x3cb507[_0x26b70c(0x361)](_0x27640a),_0x3cb507[_0x26b70c(0x361)](_0xe9664c),_0x3cb507['appendChild'](_0x4615d4);const _0x32ca2b=createElement('label',{'class':_0x26b70c(0x54b)},[_0x26b70c(0x1fa)]),_0x1473d6=createElement('textarea',{'id':'setObservacion-'+_0x2ff6b2,'rows':0x4,'class':'custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','events':{'change':_0x2fcfab=>updateWindowOption(_0x2ff6b2,'setObservacion',_0x2fcfab[_0x26b70c(0x114)][_0x26b70c(0x351)])}}),_0x59afcf=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x336)},[_0x32ca2b,_0x1473d6]),_0x17b9b3=createElement(_0x26b70c(0x50b),{'class':'div-width-options\x20col-bt-padding-options'},[_0x3a6ba6,_0x416ec2,_0x504eba,_0x3cb507]),_0x48109e=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x379)},[_0x17b9b3,_0x59afcf]);_0x462639['appendChild'](_0x48109e);const _0x4e5250=createElement(_0x26b70c(0x190),{'value':'1'},[_0x26b70c(0x36b)]),_0x264e62=createElement(_0x26b70c(0x190),{'value':'2'},[_0x26b70c(0x4c5)]),_0x33b1b7=createElement(_0x26b70c(0x190),{'value':'3'},[_0x26b70c(0x47c)]),_0xf7cc07=createElement('select',{'id':_0x26b70c(0x62f)+_0x2ff6b2,'class':_0x26b70c(0x66d),'events':{'change':_0x2cf358=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x2fb),_0x2cf358[_0x26b70c(0x114)]['value'])}},[_0x4e5250,_0x264e62,_0x33b1b7]),_0x16327f=createElement(_0x26b70c(0x190),{'value':'0','selected':!![]},['Seleccione']),_0x1e8798=myCompany[_0x26b70c(0x146)][_0x26b70c(0x17c)](_0x2433e5=>createElement('option',{'value':_0x2433e5[_0x26b70c(0x1e2)]},[_0x2433e5[_0x26b70c(0x3b6)]])),_0x593677=createElement(_0x26b70c(0x1e0),{'id':'setAttachType-'+_0x2ff6b2,'class':_0x26b70c(0x24b),'events':{'change':_0xcc9d98=>updateSerieOptionsAttach(_0xcc9d98[_0x26b70c(0x114)][_0x26b70c(0x351)],_0x2ff6b2)}},[_0x16327f,..._0x1e8798]),_0xebb1dc=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x39d)+_0x2ff6b2,'class':_0x26b70c(0x1ca)}),_0x8a54df=createElement(_0x26b70c(0x210),{'id':'setAttachNumber-'+_0x2ff6b2,'type':'number','class':_0x26b70c(0x206)}),_0x4d77df=createElement('button',{'id':'btnsetAttach-'+_0x2ff6b2,'type':_0x26b70c(0x454),'class':_0x26b70c(0x6b4),'innerHTML':_0x26b70c(0x2b7),'events':{'click':()=>consultAttach(_0x2ff6b2)}}),_0x3c069d=createElement(_0x26b70c(0x50b),{'id':_0x26b70c(0x40f)+_0x2ff6b2}),_0x395a2d=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x336)},[_0xf7cc07,_0x593677,_0xebb1dc,_0x8a54df,_0x4d77df,_0x3c069d]),_0x587b12=createElement(_0x26b70c(0x454),{'id':_0x26b70c(0x535)+_0x2ff6b2,'type':_0x26b70c(0x454),'class':_0x26b70c(0x259),'innerHTML':'Ingresar\x20Ubicación','events':{'click':()=>initMapForWindow(_0x2ff6b2)}}),_0x5f1498=createElement('div',{'class':_0x26b70c(0x336)},[_0x587b12]),_0x23a0f6=createElement(_0x26b70c(0x50b),{'class':_0x26b70c(0x379)},[_0x395a2d,_0x5f1498]);_0x462639[_0x26b70c(0x361)](_0x23a0f6);const _0x445c0d=document['getElementById']('container-title-options-'+_0x2ff6b2),_0x168a7a=createElement('span',{'innerHTML':_0x26b70c(0x376)}),_0x33a3b1=createElement(_0x26b70c(0x454),{'id':_0x26b70c(0x683)+_0x2ff6b2,'class':_0x26b70c(0x378),'type':'button'},[_0x168a7a]),_0x4627ba=createElement('div',{'class':_0x26b70c(0x6c0)},[_0x33a3b1]);_0x445c0d[_0x26b70c(0x361)](_0x4627ba);const _0x322886=createElement(_0x26b70c(0x11e),{'class':_0x26b70c(0x3b2),'src':_0x26b70c(0x5d5)}),_0x1fc9f2=createElement(_0x26b70c(0x2ac),{'class':_0x26b70c(0x45c),'innerHTML':_0x26b70c(0x3e5)}),_0x5a9fff=createElement(_0x26b70c(0x454),{'class':'btn-options'},[_0x322886,_0x1fc9f2]);_0x445c0d[_0x26b70c(0x361)](_0x5a9fff);const _0x55261a=createElement('img',{'class':_0x26b70c(0x614),'src':'./img/icon-ajustes-operacion.svg'}),_0x54a884=createElement(_0x26b70c(0x454),{'class':_0x26b70c(0x2ff)},[_0x55261a,_0x26b70c(0x63f)]);_0x445c0d['appendChild'](_0x54a884);const _0x1faf93=createElement(_0x26b70c(0x11e),{'class':_0x26b70c(0x614),'src':_0x26b70c(0x18f)}),_0xb7a619=createElement('button',{'class':_0x26b70c(0x2ff)},[_0x1faf93,_0x26b70c(0x426)]);_0x445c0d[_0x26b70c(0x361)](_0xb7a619);const _0x5a88bb=createElement(_0x26b70c(0x11e),{'class':'img-options','src':_0x26b70c(0x6cb)}),_0x53f771=createElement(_0x26b70c(0x454),{'class':_0x26b70c(0x2ff)},[_0x5a88bb,_0x26b70c(0x562)]);_0x445c0d[_0x26b70c(0x361)](_0x53f771);const _0x189437=createElement(_0x26b70c(0x11e),{'class':_0x26b70c(0x614),'src':_0x26b70c(0x66e)}),_0x56640c=createElement(_0x26b70c(0x454),{'class':_0x26b70c(0x2ff)},[_0x189437,_0x26b70c(0x5f8)]);_0x445c0d[_0x26b70c(0x361)](_0x56640c);const _0xbc8be9=createElement(_0x26b70c(0x11e),{'class':_0x26b70c(0x614),'src':_0x26b70c(0x1f4)}),_0x58374a=createElement(_0x26b70c(0x454),{'class':'btn-options','events':{'click':()=>{const _0x4265f7=_0x26b70c;window[_0x4265f7(0x42e)]['href']='income.html';}}},[_0xbc8be9,_0x26b70c(0x22c)]);_0x445c0d['appendChild'](_0x58374a);const _0xac201f=createElement(_0x26b70c(0x11e),{'class':'img-options','src':'./img/icon-settings.svg'}),_0x30e07b=createElement('button',{'class':'btn-options','events':{'click':()=>{const _0x182689=_0x26b70c;window[_0x182689(0x42e)][_0x182689(0x5f1)]=_0x182689(0x411);}}},[_0xac201f,_0x26b70c(0x395)]);_0x445c0d['appendChild'](_0x30e07b);const _0x1301cd=createElement(_0x26b70c(0x50b),{'id':_0x26b70c(0x23c)+_0x2ff6b2,'class':'div-width-100\x20mb-2','style':_0x26b70c(0x1a7)}),_0x2dc047=createElement('input',{'id':_0x26b70c(0x4c8)+_0x2ff6b2,'name':_0x26b70c(0x4c8)+_0x2ff6b2,'type':_0x26b70c(0x208),'events':{'change':_0x591781=>updateWindowOption(_0x2ff6b2,_0x26b70c(0x55c),_0x591781[_0x26b70c(0x114)]['value'])}});_0x2e32b8['appendChild'](_0x1301cd),_0x2e32b8[_0x26b70c(0x361)](_0x2dc047);const _0x1660b5=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x1660b5['id']=_0x26b70c(0x5a7)+_0x2ff6b2,_0x1660b5[_0x26b70c(0x489)]=_0x26b70c(0x15a)+_0x2ff6b2+_0x26b70c(0x455),_0x1a4ed2[_0x26b70c(0x361)](_0x1660b5);const _0x2c086e=document[_0x26b70c(0x456)](_0x26b70c(0x5a7)+_0x2ff6b2),_0x4820ba=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x4820ba['id']=_0x26b70c(0x4dc)+_0x2ff6b2,_0x4820ba[_0x26b70c(0x489)]=_0x26b70c(0x268),_0x2c086e[_0x26b70c(0x361)](_0x4820ba);const _0x5a7d49=document[_0x26b70c(0x456)](_0x26b70c(0x4dc)+_0x2ff6b2),_0x2f24a8=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x2f24a8['id']='cart-'+_0x2ff6b2,_0x2f24a8[_0x26b70c(0x489)]='flex-grow-1\x20cart-items-container',_0x5a7d49['appendChild'](_0x2f24a8);const _0x52f967=document['getElementById'](_0x26b70c(0x5fe)),_0x8384de=document[_0x26b70c(0x6c7)]('div');_0x8384de['id']='tab-totales-'+_0x2ff6b2,_0x8384de[_0x26b70c(0x489)]=_0x26b70c(0x509)+_0x2ff6b2,_0x52f967[_0x26b70c(0x361)](_0x8384de);const _0x313c85=document[_0x26b70c(0x456)]('tab-totales-'+_0x2ff6b2),_0x45dc26=document[_0x26b70c(0x6c7)]('div');_0x45dc26['id']=_0x26b70c(0x48a)+_0x2ff6b2,_0x45dc26['className']=_0x26b70c(0x663),_0x313c85[_0x26b70c(0x361)](_0x45dc26);const _0x4b26d2=document['getElementById'](_0x26b70c(0x48a)+_0x2ff6b2),_0x2892e8=document['createElement']('div');_0x2892e8['className']=_0x26b70c(0x51a);const _0x1949e7=document['createElement'](_0x26b70c(0x2ac));_0x1949e7[_0x26b70c(0x489)]='float-left-totals',_0x1949e7['id']=_0x26b70c(0x6d8)+_0x2ff6b2,_0x1949e7['innerHTML']=_0x26b70c(0x59f);const _0x291f3c=document[_0x26b70c(0x6c7)]('span');_0x291f3c[_0x26b70c(0x489)]=_0x26b70c(0x326),_0x291f3c['id']=_0x26b70c(0x1e1)+_0x2ff6b2,_0x291f3c[_0x26b70c(0x197)]='<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-'+_0x2ff6b2+_0x26b70c(0x218),_0x2892e8[_0x26b70c(0x361)](_0x1949e7),_0x2892e8[_0x26b70c(0x361)](_0x291f3c),_0x4b26d2[_0x26b70c(0x361)](_0x2892e8);const _0x1855e3=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x1855e3['className']=_0x26b70c(0x51a),_0x1855e3['id']=_0x26b70c(0x3e0)+_0x2ff6b2;const _0x22771a=document['createElement'](_0x26b70c(0x2ac));_0x22771a['className']=_0x26b70c(0x5e8),_0x22771a['id']=_0x26b70c(0x128)+_0x2ff6b2,_0x22771a['innerHTML']=_0x26b70c(0x27f);const _0x5c57b6=document['createElement'](_0x26b70c(0x2ac));_0x5c57b6[_0x26b70c(0x489)]=_0x26b70c(0x326),_0x5c57b6['id']=_0x26b70c(0x477)+_0x2ff6b2,_0x5c57b6[_0x26b70c(0x197)]=_0x26b70c(0x390),_0x1855e3['appendChild'](_0x22771a),_0x1855e3[_0x26b70c(0x361)](_0x5c57b6),_0x4b26d2['appendChild'](_0x1855e3);const _0x4d7179=document[_0x26b70c(0x6c7)]('div');_0x4d7179[_0x26b70c(0x489)]='div-totals-right\x20d-none';const _0x253716=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x253716['className']=_0x26b70c(0x5e8),_0x253716['id']=_0x26b70c(0x5eb)+_0x2ff6b2,_0x253716[_0x26b70c(0x197)]=_0x26b70c(0x653);const _0x1534e3=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x1534e3['className']=_0x26b70c(0x326),_0x1534e3['id']=_0x26b70c(0x191)+_0x2ff6b2,_0x1534e3[_0x26b70c(0x197)]=_0x26b70c(0x390),_0x4d7179[_0x26b70c(0x361)](_0x253716),_0x4d7179[_0x26b70c(0x361)](_0x1534e3),_0x4b26d2['appendChild'](_0x4d7179);const _0x43cdbf=document[_0x26b70c(0x6c7)]('div');_0x43cdbf[_0x26b70c(0x489)]=_0x26b70c(0x270);const _0xe834ee=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0xe834ee[_0x26b70c(0x489)]='float-left-totals',_0xe834ee['id']=_0x26b70c(0x40d)+_0x2ff6b2,_0xe834ee[_0x26b70c(0x197)]=_0x26b70c(0x537);const _0x581652=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x581652['className']='float-right-totals',_0x581652['id']=_0x26b70c(0x3f5)+_0x2ff6b2,_0x581652['innerHTML']=_0x26b70c(0x390),_0x43cdbf['appendChild'](_0xe834ee),_0x43cdbf[_0x26b70c(0x361)](_0x581652),_0x4b26d2[_0x26b70c(0x361)](_0x43cdbf);const _0x3776a0=document['createElement'](_0x26b70c(0x50b));_0x3776a0[_0x26b70c(0x489)]='div-totals-right\x20d-none';const _0xd9793a=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0xd9793a['className']=_0x26b70c(0x5e8),_0xd9793a['id']=_0x26b70c(0x1b1)+_0x2ff6b2,_0xd9793a['innerHTML']=_0x26b70c(0x408);const _0x4ef229=document['createElement'](_0x26b70c(0x2ac));_0x4ef229[_0x26b70c(0x489)]=_0x26b70c(0x326),_0x4ef229['id']=_0x26b70c(0x421)+_0x2ff6b2,_0x4ef229[_0x26b70c(0x197)]=_0x26b70c(0x390),_0x3776a0[_0x26b70c(0x361)](_0xd9793a),_0x3776a0[_0x26b70c(0x361)](_0x4ef229),_0x4b26d2[_0x26b70c(0x361)](_0x3776a0);const _0x1c6c68=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x1c6c68[_0x26b70c(0x489)]=_0x26b70c(0x270);const _0x174758=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x174758[_0x26b70c(0x489)]='float-left-totals',_0x174758['id']=_0x26b70c(0x55b)+_0x2ff6b2,_0x174758[_0x26b70c(0x197)]=_0x26b70c(0x632);const _0x567a04=document['createElement'](_0x26b70c(0x2ac));_0x567a04[_0x26b70c(0x489)]=_0x26b70c(0x326),_0x567a04['id']=_0x26b70c(0x3e6)+_0x2ff6b2,_0x567a04[_0x26b70c(0x197)]='0.00',_0x1c6c68[_0x26b70c(0x361)](_0x174758),_0x1c6c68['appendChild'](_0x567a04),_0x4b26d2[_0x26b70c(0x361)](_0x1c6c68);const _0x52be89=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x52be89[_0x26b70c(0x489)]=_0x26b70c(0x51a),_0x52be89['id']=_0x26b70c(0x638)+_0x2ff6b2;const _0x17bd07=document[_0x26b70c(0x6c7)]('span');_0x17bd07[_0x26b70c(0x489)]='float-left-totals',_0x17bd07['id']='float-left-Subtotal-'+_0x2ff6b2,_0x17bd07['innerHTML']='Subtotal';const _0x40208a=document['createElement'](_0x26b70c(0x2ac));_0x40208a[_0x26b70c(0x489)]='float-right-totals',_0x40208a['id']='float-right-Subtotal-'+_0x2ff6b2,_0x40208a['innerHTML']=_0x26b70c(0x390),_0x52be89[_0x26b70c(0x361)](_0x17bd07),_0x52be89[_0x26b70c(0x361)](_0x40208a),_0x4b26d2[_0x26b70c(0x361)](_0x52be89);const _0x4b603c=document[_0x26b70c(0x6c7)]('div');_0x4b603c[_0x26b70c(0x489)]=_0x26b70c(0x51a),_0x4b603c['id']=_0x26b70c(0x33d)+_0x2ff6b2;const _0x324f3f=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x324f3f[_0x26b70c(0x489)]=_0x26b70c(0x5e8),_0x324f3f['id']=_0x26b70c(0x4f3)+_0x2ff6b2,_0x324f3f['innerHTML']='IGV';const _0x2a5171=document['createElement']('span');_0x2a5171[_0x26b70c(0x489)]='float-right-totals',_0x2a5171['id']=_0x26b70c(0x38e)+_0x2ff6b2,_0x2a5171[_0x26b70c(0x197)]=_0x26b70c(0x390),_0x4b603c[_0x26b70c(0x361)](_0x324f3f),_0x4b603c['appendChild'](_0x2a5171),_0x4b26d2['appendChild'](_0x4b603c);const _0x5ecc9a=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x5ecc9a[_0x26b70c(0x489)]='div-totals-right\x20d-none',_0x5ecc9a['id']=_0x26b70c(0x3c6)+_0x2ff6b2;const _0xffdc35=document[_0x26b70c(0x6c7)]('span');_0xffdc35[_0x26b70c(0x489)]='float-left-totals',_0xffdc35['id']=_0x26b70c(0x3b4)+_0x2ff6b2,_0xffdc35[_0x26b70c(0x197)]=_0x26b70c(0x5f2);const _0x279215=document[_0x26b70c(0x6c7)](_0x26b70c(0x2ac));_0x279215[_0x26b70c(0x489)]=_0x26b70c(0x326),_0x279215['id']=_0x26b70c(0x27d)+_0x2ff6b2,_0x279215[_0x26b70c(0x197)]=_0x26b70c(0x390),_0x5ecc9a[_0x26b70c(0x361)](_0xffdc35),_0x5ecc9a[_0x26b70c(0x361)](_0x279215),_0x4b26d2[_0x26b70c(0x361)](_0x5ecc9a);const _0x49f7cc=document['createElement']('button');_0x49f7cc['id']=_0x26b70c(0x1fd)+_0x2ff6b2,_0x49f7cc['className']='btn-cart-pay',_0x49f7cc['onclick']=()=>validateOperation(_0x2ff6b2,_0x26b70c(0x233));const _0x2e8bcb=document[_0x26b70c(0x6c7)]('span');_0x2e8bcb['className']=_0x26b70c(0x440),_0x2e8bcb['id']=_0x26b70c(0x131)+_0x2ff6b2,_0x2e8bcb[_0x26b70c(0x197)]=_0x26b70c(0x652);const _0x4a0cab=document[_0x26b70c(0x6c7)]('span');_0x4a0cab[_0x26b70c(0x489)]='float-right',_0x4a0cab['id']=_0x26b70c(0x17f)+_0x2ff6b2,_0x4a0cab['innerHTML']=_0x26b70c(0x390),_0x49f7cc[_0x26b70c(0x361)](_0x2e8bcb),_0x49f7cc['appendChild'](_0x4a0cab),_0x4b26d2[_0x26b70c(0x361)](_0x49f7cc);const _0x548383=document[_0x26b70c(0x456)](_0x26b70c(0x233)),_0x208f21=document[_0x26b70c(0x6c7)](_0x26b70c(0x50b));_0x208f21['id']=_0x26b70c(0x57e)+_0x2ff6b2,_0x208f21[_0x26b70c(0x489)]='tab-content\x20active\x20tab-'+_0x2ff6b2,_0x548383['appendChild'](_0x208f21);const _0x326737=document[_0x26b70c(0x456)](_0x26b70c(0x57e)+_0x2ff6b2),_0x407409=document[_0x26b70c(0x6c7)]('div');_0x407409['id']=_0x26b70c(0x179)+_0x2ff6b2,_0x407409[_0x26b70c(0x489)]=_0x26b70c(0x591),_0x326737['appendChild'](_0x407409);const _0x56cfa7=document[_0x26b70c(0x456)](_0x26b70c(0x179)+_0x2ff6b2),_0x3f1f43=createElement(_0x26b70c(0x1e0),{'id':_0x26b70c(0x4c2)+_0x2ff6b2,'class':_0x26b70c(0x208),'events':{'change':_0x181864=>handlePaymentMethodChange(_0x181864,_0x2ff6b2)}},[createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x53f)},[_0x26b70c(0x284)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x20b)},[_0x26b70c(0x5b0)]),createElement(_0x26b70c(0x190),{'value':_0x26b70c(0x6e4)},[_0x26b70c(0x164)])]),_0x437244=createElement(_0x26b70c(0x50b),{'class':'divs_payments\x20d-flex\x20flex-grow-1','id':_0x26b70c(0x28e)+_0x2ff6b2}),_0x1212a5=[{'value':'contado','text':'Contado','className':_0x26b70c(0x4f4),'imgSrc':'./img/icon-contado.svg'},{'value':_0x26b70c(0x20b),'text':_0x26b70c(0x5b0),'className':'payment-credito','imgSrc':_0x26b70c(0x1ce)},{'value':_0x26b70c(0x6e4),'text':_0x26b70c(0x164),'className':'payment-mixto','imgSrc':'./img/icon-contado-credito.svg'}];_0x1212a5['forEach'](_0x391a3b=>{const _0x2c067c=_0x26b70c,_0x567691=createElement('a',{'href':'#','class':_0x2c067c(0x153)+_0x391a3b['className']+_0x2c067c(0x4ae)+_0x2ff6b2,'events':{'click':_0xa92ee5=>{const _0x4d603c=_0x2c067c;_0xa92ee5[_0x4d603c(0x492)](),document['getElementById'](_0x4d603c(0x4c2)+_0x2ff6b2)[_0x4d603c(0x351)]=_0x391a3b[_0x4d603c(0x351)],triggerChangeEventById(_0x4d603c(0x4c2)+_0x2ff6b2),updateActivePaymentOption(_0x2ff6b2,_0x391a3b['className']);}}},[createElement(_0x2c067c(0x50b),{},[_0x391a3b[_0x2c067c(0x5e1)]]),createElement(_0x2c067c(0x11e),{'src':_0x391a3b['imgSrc'],'alt':_0x391a3b[_0x2c067c(0x5e1)],'class':'payment-icon'})]);_0x437244[_0x2c067c(0x361)](_0x567691);});const _0x4ed03d=createElement('div',{'id':_0x26b70c(0x1f1)+_0x2ff6b2}),_0xc17f0=createElement(_0x26b70c(0x50b),{'id':'pay-container-'+_0x2ff6b2});_0x56cfa7[_0x26b70c(0x361)](_0x3f1f43),_0x56cfa7['appendChild'](_0x437244),_0x56cfa7[_0x26b70c(0x361)](_0x4ed03d),_0x56cfa7[_0x26b70c(0x361)](_0xc17f0);const _0x5182e1=document[_0x26b70c(0x456)](_0x26b70c(0x683)+_0x2ff6b2);if(!_0x5182e1){console[_0x26b70c(0x65e)](_0x26b70c(0x162));return;}_0x5182e1[_0x26b70c(0x69c)](_0x5182e1['cloneNode'](!![]));const _0x5067e4=document[_0x26b70c(0x456)](_0x26b70c(0x683)+_0x2ff6b2);_0x5067e4[_0x26b70c(0x3ad)](_0x26b70c(0x42d),()=>hideModalOptions());let _0x35a824=_0x2cdede['options'][_0x2cdede[_0x26b70c(0x553)]][_0x26b70c(0x351)],_0x4c13d3=null;for(const _0x3d6adb of setTipOpeSales){const _0x3659f9=Array[_0x26b70c(0x2a6)](_0x2cdede[_0x26b70c(0x43d)])[_0x26b70c(0x30c)](_0x2cfd43=>_0x2cfd43['value']==_0x3d6adb);if(_0x3659f9){_0x4c13d3=_0x3d6adb;break;}}_0x4c13d3!==null&&(_0x35a824=_0x4c13d3);const _0x30dd2a=getUserPermissionApiERP(0x9);parseInt(_0x30dd2a)>0x0&&(_0x35a824=_0x30dd2a);const _0x250440=window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x118)]?window_options[_0x2ff6b2]['setTipoOperacion']:_0x35a824;let _0x329e27=0x0;if(setTipOpeOrders[_0x26b70c(0x30c)](_0x15e1f6=>_0x15e1f6==_0x250440))_0x329e27=0x1;else{if(setTipOpeSales['some'](_0x26e212=>_0x26e212==_0x250440))_0x329e27=0x2;else{if(setTipOpePurchases[_0x26b70c(0x30c)](_0x5a41b1=>_0x5a41b1==_0x250440))_0x329e27=0x3;else setTipOpeQuotation['some'](_0xd6b671=>_0xd6b671==_0x250440)&&(_0x329e27=0x4);}}const _0x8d9bdd=myCompany[_0x26b70c(0x120)][_0x26b70c(0x4bd)](_0x855e35=>_0x855e35[_0x26b70c(0x3a8)]==_0x329e27)?.[_0x26b70c(0x25c)]??'',_0xcf1a1b=myCompany['setCollaborators']&&myCompany[_0x26b70c(0x289)]['find'](_0x25502d=>_0x25502d[_0x26b70c(0x331)]==myCompany[_0x26b70c(0x57a)][_0x26b70c(0x113)]),_0x2ea303=_0xcf1a1b?_0xcf1a1b['setCollaboratorId']:_0x323ac8[_0x26b70c(0x43d)][_0x323ac8[_0x26b70c(0x553)]][_0x26b70c(0x351)],_0x387d48=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x250440,window_options[_0x2ff6b2]&&window_options[_0x2ff6b2]['setSellerId']?window_options[_0x2ff6b2]['setSellerId']:_0x2ea303,window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x2f8)]?window_options[_0x2ff6b2][_0x26b70c(0x2f8)]:_0x4cb7fe['options'][_0x4cb7fe['selectedIndex']]['value'],window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x1f7)]?window_options[_0x2ff6b2][_0x26b70c(0x1f7)]:_0x3dc6c7[_0x26b70c(0x43d)][_0x3dc6c7[_0x26b70c(0x553)]][_0x26b70c(0x351)],window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x3ee)]?window_options[_0x2ff6b2][_0x26b70c(0x3ee)]:_0x387d48,window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x280)]?window_options[_0x2ff6b2][_0x26b70c(0x280)]:_0x8d9bdd,window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x38f)]?window_options[_0x2ff6b2][_0x26b70c(0x38f)]:myCompany[_0x26b70c(0x5d7)],window_options[_0x2ff6b2]&&window_options[_0x2ff6b2][_0x26b70c(0x3de)]?window_options[_0x2ff6b2][_0x26b70c(0x3de)]:_0xed238d[_0x26b70c(0x43d)][_0xed238d[_0x26b70c(0x553)]][_0x26b70c(0x351)],window_options[_0x2ff6b2]&&window_options[_0x2ff6b2]['setAttachEdit']?window_options[_0x2ff6b2][_0x26b70c(0x2fb)]:_0xf7cc07[_0x26b70c(0x43d)][_0xf7cc07[_0x26b70c(0x553)]]['value'],_0x2ff6b2),await switchTab(_0x2e9698);}async function loadAndSaveOptionsWindow(_0x404850,_0x1f10b4,_0x102a30,_0x224464,_0x31e277,_0x3d3979,_0x1f9c86,_0x1f9f72,_0x50eaa9,_0x416afe){const _0x41933c=_0x37a403,_0x5867e4=document[_0x41933c(0x456)](_0x41933c(0x34c)+_0x416afe);_0x5867e4[_0x41933c(0x351)]=_0x404850,window_options[_0x416afe][_0x41933c(0x118)]=_0x404850;const _0x3318dc=document[_0x41933c(0x456)](_0x41933c(0x6aa)+_0x416afe);_0x3318dc[_0x41933c(0x351)]=_0x1f10b4;const _0x53c703=document[_0x41933c(0x456)]('setVendedorCodigo-'+_0x416afe),_0x1a6ee7=_0x53c703['options'][_0x53c703[_0x41933c(0x553)]][_0x41933c(0x5e1)];window_options[_0x416afe][_0x41933c(0x6a7)]=_0x1f10b4,window_options[_0x416afe][_0x41933c(0x65d)]=_0x1a6ee7;const _0x47b5e4=document[_0x41933c(0x456)]('setDespacho-'+_0x416afe);_0x47b5e4[_0x41933c(0x351)]=_0x102a30,window_options[_0x416afe][_0x41933c(0x2f8)]=_0x102a30;const _0x5ddf06=document[_0x41933c(0x456)](_0x41933c(0x365)+_0x416afe);_0x5ddf06[_0x41933c(0x351)]=_0x224464,window_options[_0x416afe]['setTipoOperacionInvoice']=_0x224464;const _0x2760d8=document[_0x41933c(0x456)](_0x41933c(0x345)+_0x416afe);_0x2760d8[_0x41933c(0x351)]=_0x31e277,window_options[_0x416afe][_0x41933c(0x3ee)]=_0x31e277;const _0x2bad53=document[_0x41933c(0x456)](_0x41933c(0x64c)+_0x416afe);_0x2bad53[_0x41933c(0x351)]=_0x3d3979,window_options[_0x416afe][_0x41933c(0x280)]=_0x3d3979;const _0x52357b=document[_0x41933c(0x456)](_0x41933c(0x20f)+_0x416afe);_0x52357b[_0x41933c(0x351)]=_0x1f9c86,window_options[_0x416afe][_0x41933c(0x38f)]=_0x1f9c86;const _0x8f91b6=document['getElementById']('setClienteTipoDoc-'+_0x416afe);_0x8f91b6[_0x41933c(0x351)]=_0x1f9f72,window_options[_0x416afe]['setClienteTipoDoc']=_0x1f9f72;const _0x13265a=document[_0x41933c(0x456)](_0x41933c(0x62f)+_0x416afe);_0x13265a[_0x41933c(0x351)]=_0x50eaa9,window_options[_0x416afe]['setAttachEdit']=_0x50eaa9,await updateSerieOptions(_0x404850,_0x416afe);}async function updateSerieAndRenderCart(_0x2e0bb4,_0x36b52d){const _0x2dcb90=_0x37a403;_0x2e0bb4==0x4&&(window_options[_0x36b52d][_0x2dcb90(0x3de)]='RUC'),await updateSerieOptions(_0x2e0bb4,_0x36b52d),renderCart(_0x36b52d),renderProducts();}async function updateSerieOptions(_0xaef3d1,_0x35bf6c){return new Promise((_0x47bcfd,_0x2a2644)=>{const _0x2c8c25=_0x530c;window_options[_0x35bf6c][_0x2c8c25(0x118)]=_0xaef3d1;let _0x389998=document['getElementById'](_0x2c8c25(0x1f5)+_0x35bf6c);const _0x42331e=document[_0x2c8c25(0x456)]('setCorrelativo-'+_0x35bf6c),_0x228ca7=document[_0x2c8c25(0x456)](_0x2c8c25(0x338)+_0x35bf6c);if(!_0x389998||!_0x42331e||!_0x228ca7)return console['error'](_0x2c8c25(0x219)),_0x2a2644(_0x2c8c25(0x219));_0x42331e[_0x2c8c25(0x351)]='';let _0x5388ee;if(setTipOpeOrders[_0x2c8c25(0x30c)](_0x54b599=>_0x54b599==_0xaef3d1)||setTipOpeSales[_0x2c8c25(0x30c)](_0x2212a4=>_0x2212a4==_0xaef3d1)||setTipOpeQuotation['some'](_0x49e235=>_0x49e235==_0xaef3d1))_0x5388ee=document['createElement']('select'),_0x5388ee['id']=_0x389998['id'],_0x5388ee[_0x2c8c25(0x489)]='custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie',_0x228ca7[_0x2c8c25(0x4ac)]=_0x2c8c25(0x541);else{if(setTipOpePurchases[_0x2c8c25(0x30c)](_0x491bc5=>_0x491bc5==_0xaef3d1))_0x5388ee=document[_0x2c8c25(0x6c7)](_0x2c8c25(0x210)),_0x5388ee[_0x2c8c25(0x276)]='text',_0x5388ee[_0x2c8c25(0x4ac)]=_0x2c8c25(0x570),_0x5388ee['id']=_0x389998['id'],_0x5388ee[_0x2c8c25(0x489)]=_0x2c8c25(0x4cc),_0x228ca7[_0x2c8c25(0x4ac)]=_0x2c8c25(0x6dd);else return console[_0x2c8c25(0x65e)](_0x2c8c25(0x214)),_0x2a2644(_0x2c8c25(0x214));}_0x389998[_0x2c8c25(0x27a)][_0x2c8c25(0x4d7)](_0x5388ee,_0x389998),_0x389998=document[_0x2c8c25(0x456)]('setSerie-'+_0x35bf6c),_0x389998[_0x2c8c25(0x3ad)](_0x2c8c25(0x5f5),function(_0x13a44a){const _0x275a0c=_0x2c8c25;updateCorrelativoOnSerieChange(_0x13a44a[_0x275a0c(0x114)][_0x275a0c(0x351)],_0x35bf6c);});setTipOpeExo[_0x2c8c25(0x30c)](_0x47561f=>_0x47561f==_0xaef3d1)?(document['getElementById']('div-totals-right-Subtotal-'+_0x35bf6c)['classList']['add'](_0x2c8c25(0x689)),document['getElementById'](_0x2c8c25(0x33d)+_0x35bf6c)[_0x2c8c25(0x560)][_0x2c8c25(0x417)](_0x2c8c25(0x689)),document['getElementById']('div-totals-right-TotalIgvGratuitas-'+_0x35bf6c)['classList'][_0x2c8c25(0x417)]('d-none')):(document[_0x2c8c25(0x456)](_0x2c8c25(0x638)+_0x35bf6c)['classList'][_0x2c8c25(0x1ef)]('d-none'),document[_0x2c8c25(0x456)](_0x2c8c25(0x33d)+_0x35bf6c)['classList'][_0x2c8c25(0x1ef)](_0x2c8c25(0x689)),document['getElementById'](_0x2c8c25(0x3c6)+_0x35bf6c)['classList'][_0x2c8c25(0x1ef)]('d-none'));changeLabelBtn(_0x35bf6c,_0xaef3d1);if(setTipOpeOrders[_0x2c8c25(0x30c)](_0x5b5ada=>_0x5b5ada==_0xaef3d1)||setTipOpeSales[_0x2c8c25(0x30c)](_0x4b66b3=>_0x4b66b3==_0xaef3d1)||setTipOpeQuotation[_0x2c8c25(0x30c)](_0x1c536c=>_0x1c536c==_0xaef3d1)){const _0x4f2d94=document[_0x2c8c25(0x456)](_0x2c8c25(0x306))[_0x2c8c25(0x351)],_0x95644b=getUserPermissionApiERP(0x5);let _0x316ac2;if(_0x95644b==0x1){const _0x532564=getLoggedUserSeries();_0x316ac2=_0x532564[_0x2c8c25(0x5a3)](_0x14b56c=>_0x14b56c[_0x2c8c25(0x25b)]==_0xaef3d1&&String(_0x14b56c[_0x2c8c25(0x306)])==_0x4f2d94);}else _0x316ac2=myCompany[_0x2c8c25(0x2ab)]['filter'](_0x56b181=>_0x56b181[_0x2c8c25(0x229)]==_0xaef3d1&&String(_0x56b181[_0x2c8c25(0x2b6)])==_0x4f2d94);_0x316ac2[_0x2c8c25(0x3fd)](_0xa555d8=>{const _0xc46752=_0x2c8c25;_0x95644b==0x1?_0x389998[_0xc46752(0x361)](createElement(_0xc46752(0x190),{'value':_0xa555d8['setSeriesNumber']},[_0xa555d8[_0xc46752(0x294)]])):_0x389998['appendChild'](createElement(_0xc46752(0x190),{'value':_0xa555d8[_0xc46752(0x540)]},[_0xa555d8[_0xc46752(0x540)]]));});let _0x45abe2='';_0x316ac2[_0x2c8c25(0x59a)]&&(_0x95644b==0x1?_0x45abe2=_0x316ac2[0x0][_0x2c8c25(0x294)]:_0x45abe2=_0x316ac2[0x0][_0x2c8c25(0x540)],_0x389998['value']=_0x45abe2),setTimeout(()=>{const _0xe48b66=_0x2c8c25;updateCorrelativoOnSerieChange(_0x45abe2,_0x35bf6c)[_0xe48b66(0x323)](()=>_0x47bcfd())[_0xe48b66(0x258)](_0x3a1886=>_0x2a2644(_0x3a1886));},0x0);}else window_options[_0x35bf6c][_0x2c8c25(0x540)]='',window_options[_0x35bf6c][_0x2c8c25(0x5d8)]='',setTimeout(()=>{const _0x595929=_0x2c8c25;saveWindowOptionsDB(_0x35bf6c)['then'](()=>_0x47bcfd())[_0x595929(0x258)](_0x1fb946=>{const _0x1e46a8=_0x595929;console[_0x1e46a8(0x65e)](_0x1e46a8(0x596),_0x1fb946),_0x2a2644(_0x1fb946);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x5e9c54,_0x36154a){const _0x2c1d23=_0x37a403,_0x221495=document[_0x2c1d23(0x456)]('setCorrelativo-'+_0x36154a);if(!_0x221495)throw new Error(_0x2c1d23(0x615)+_0x36154a);window_options[_0x36154a][_0x2c1d23(0x540)]=_0x5e9c54;const _0x2dd167=window_options[_0x36154a][_0x2c1d23(0x118)];window_options[_0x36154a][_0x2c1d23(0x5d8)]='';if(setTipOpeOrders[_0x2c1d23(0x30c)](_0x20cf90=>_0x20cf90==_0x2dd167)||setTipOpeSales[_0x2c1d23(0x30c)](_0x59c4c0=>_0x59c4c0==_0x2dd167)||setTipOpeQuotation[_0x2c1d23(0x30c)](_0x50450d=>_0x50450d==_0x2dd167)){const _0x47871a=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x15d8ae,_0x1bca86;if(_0x47871a==0x1){const _0x38ce38=getLoggedUserSeries();_0x15d8ae=_0x38ce38[_0x2c1d23(0x4bd)](_0x4fb2b3=>_0x4fb2b3[_0x2c1d23(0x294)]==_0x5e9c54),_0x1bca86=_0x15d8ae?.[_0x2c1d23(0x551)]??0x1;}else _0x15d8ae=myCompany[_0x2c1d23(0x2ab)][_0x2c1d23(0x4bd)](_0x101537=>_0x101537[_0x2c1d23(0x540)]==_0x5e9c54),_0x1bca86=_0x15d8ae?.[_0x2c1d23(0x5b9)]??0x1;_0x221495[_0x2c1d23(0x351)]=_0x1bca86,window_options[_0x36154a]['setCorrelativo']=_0x1bca86;}try{await saveWindowOptionsDB(_0x36154a);}catch(_0xcfad39){console[_0x2c1d23(0x65e)](_0x2c1d23(0x596),_0xcfad39);throw _0xcfad39;}}function updateActivePaymentOption(_0x2d9edf,_0x49add2){const _0x9a758a=_0x37a403;document[_0x9a758a(0x3f0)]('.payment-option-'+_0x2d9edf)[_0x9a758a(0x3fd)](_0x23c321=>_0x23c321[_0x9a758a(0x560)][_0x9a758a(0x1ef)]('active-payment')),document[_0x9a758a(0x53a)]('.'+_0x49add2+_0x9a758a(0x6ca)+_0x2d9edf)?.[_0x9a758a(0x560)][_0x9a758a(0x417)]('active-payment');}function triggerChangeEventById(_0x4b1d8e){const _0x9f5f6=_0x37a403,_0x34b331=document[_0x9f5f6(0x456)](_0x4b1d8e);if(!_0x34b331){console['error'](_0x9f5f6(0x382)+_0x4b1d8e);return;}const _0x1dc577=new Event(_0x9f5f6(0x5f5),{'bubbles':!![],'cancelable':!![]});_0x34b331[_0x9f5f6(0x6bb)](_0x1dc577);}async function updateChangeMoneda(_0x5d9bbf,_0x516e6c,_0x51a80d){await updateWindowOption(_0x5d9bbf,_0x516e6c,_0x51a80d),renderCart(_0x5d9bbf),renderProducts();}function getCurrencySymbol(_0x2595d2){const _0x122e17=_0x37a403,_0x5897ec=document[_0x122e17(0x456)]('setMoneda-'+_0x2595d2)[_0x122e17(0x351)],_0x5de541=myCompany[_0x122e17(0x4d3)][_0x122e17(0x4bd)](_0x4eb1bc=>_0x4eb1bc[_0x122e17(0x387)]==_0x5897ec);return _0x5de541?_0x5de541['setMonedaSimbol']:'';}function changeLabelBtn(_0x3c7481,_0x232272){const _0x19ae53=_0x37a403;let _0x573dbb='';const _0x1e2088=document[_0x19ae53(0x456)](_0x19ae53(0x131)+_0x3c7481);if(setTipOpeOrders[_0x19ae53(0x30c)](_0x38cce8=>_0x38cce8==_0x232272))_0x573dbb=_0x19ae53(0x260);else{if(setTipOpeSales[_0x19ae53(0x30c)](_0x18d817=>_0x18d817==_0x232272))_0x573dbb=_0x19ae53(0x652);else{if(setTipOpePurchases[_0x19ae53(0x30c)](_0x4e5520=>_0x4e5520==_0x232272))_0x573dbb=_0x19ae53(0x350);else setTipOpeQuotation[_0x19ae53(0x30c)](_0x2632f2=>_0x2632f2==_0x232272)&&(_0x573dbb=_0x19ae53(0x66b));}}_0x1e2088[_0x19ae53(0x197)]=_0x573dbb;}function setDivTotalPay(_0x2358c6){const _0x306a96=_0x37a403,_0x39e9f1=document[_0x306a96(0x456)](_0x306a96(0x1f1)+_0x2358c6);_0x39e9f1[_0x306a96(0x197)]='';const _0x4401c8=document[_0x306a96(0x456)](_0x306a96(0x17f)+_0x2358c6)[_0x306a96(0x13f)],_0x21d43d=createElement('label',{'class':_0x306a96(0x26a),'style':'width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','innerHTML':_0x306a96(0x4b6)+_0x4401c8+_0x306a96(0x5f7)}),_0x330e69=createElement(_0x306a96(0x50b),{'class':_0x306a96(0x3df)},[_0x21d43d]);_0x39e9f1[_0x306a96(0x361)](_0x330e69);}function handlePaymentMethodChange(_0x416cbf,_0x20d8fa){const _0x4ec83e=_0x37a403,_0x398ddc=document[_0x4ec83e(0x456)](_0x4ec83e(0x5e7)+_0x20d8fa);_0x398ddc['innerHTML']='';const _0x454e6b=_0x416cbf[_0x4ec83e(0x114)][_0x4ec83e(0x351)];!medio_pago[_0x20d8fa]&&(medio_pago[_0x20d8fa]={});if(_0x454e6b==_0x4ec83e(0x53f))_0x398ddc[_0x4ec83e(0x361)](createContadoForm(_0x20d8fa)),medio_pago[_0x20d8fa]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x454e6b=='credito')_0x398ddc[_0x4ec83e(0x361)](createCreditoForm(_0x20d8fa)),medio_pago[_0x20d8fa]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x454e6b==_0x4ec83e(0x6e4)&&(_0x398ddc['appendChild'](createMixtoForm(_0x20d8fa)),medio_pago[_0x20d8fa]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x17cfc3=createElement(_0x4ec83e(0x50b),{'id':'div-text-debe-vuelto-'+_0x20d8fa},[]);_0x398ddc['appendChild'](_0x17cfc3);const _0x41bb5c=createElement(_0x4ec83e(0x454),{'id':'btnSaveOperacion-'+_0x20d8fa,'class':_0x4ec83e(0x6a3),'type':_0x4ec83e(0x454),'events':{'click':()=>saveOperation(_0x20d8fa)}},['FINALIZAR\x20OPERACIÓN']);_0x398ddc[_0x4ec83e(0x361)](_0x41bb5c);}function createContadoForm(_0x3a3d59){const _0x29eab7=_0x37a403,_0x3bf794=createElement(_0x29eab7(0x50b),{},[]),_0x4c9b0c=getTotalFromFloatRight(_0x3a3d59),_0x28181b=myCompany[_0x29eab7(0x2ae)],_0x3148ac={},_0x3e41aa={};_0x28181b[_0x29eab7(0x3fd)]((_0x17f84e,_0x7ee18c)=>{const _0x376fe7=_0x29eab7,_0x2b26f7=_0x376fe7(0x442)+_0x17f84e[_0x376fe7(0x3f6)]+'-'+_0x3a3d59+'-'+_0x7ee18c,_0x347d7d=createElement(_0x376fe7(0x50b),{'class':'div-width-10\x20div_margen'},[]),_0x4599a2=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x12d)},[]),_0x1f0465=createElement(_0x376fe7(0x646),{'for':_0x2b26f7,'class':_0x376fe7(0x228)},['\x20'+_0x17f84e[_0x376fe7(0x46e)]+':']),_0x17e2b1=createElement(_0x376fe7(0x210),{'type':'number','id':_0x2b26f7,'placeholder':'0.00','class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','value':_0x17f84e[_0x376fe7(0x3f6)]==_0x376fe7(0x26d)||_0x17f84e['setPaymentCode']==_0x376fe7(0x184)?_0x4c9b0c:'','events':{'input':_0x1c6930=>handleContadoInput(_0x1c6930,_0x3a3d59)}});_0x17e2b1[_0x376fe7(0x661)]['method']=_0x17f84e[_0x376fe7(0x3f6)];const _0x3b0d00=createElement('select',{'class':_0x376fe7(0x674),'events':{'change':_0x4dd8ca=>handleContadoInput(_0x4dd8ca,_0x3a3d59)}},[]),_0x156717=myCompany[_0x376fe7(0x6ce)],_0x1788ff=_0x156717[_0x376fe7(0x5a3)](_0xb5b4d8=>_0x17f84e[_0x376fe7(0x3f6)]=='efectivo'||_0x17f84e['setPaymentCode']=='cash'?setBankTypeCashRegister[_0x376fe7(0x30c)](_0x39664c=>_0x39664c==_0xb5b4d8['setBankType']):!setBankTypeCashRegister[_0x376fe7(0x30c)](_0x3a1dd4=>_0x3a1dd4==_0xb5b4d8['setBankType']));_0x1788ff[_0x376fe7(0x3fd)](_0x5d09e1=>{const _0x3c70b0=_0x376fe7,_0x47e1d0=createElement('option',{'value':_0x5d09e1[_0x3c70b0(0x2bf)]},[_0x5d09e1[_0x3c70b0(0x397)]]);_0x3b0d00['appendChild'](_0x47e1d0);}),_0x3b0d00[_0x376fe7(0x661)][_0x376fe7(0x6b2)]=_0x17f84e['setPaymentCode'];let _0x282c28=null;_0x17f84e[_0x376fe7(0x3f6)]=='efectivo'||_0x17f84e[_0x376fe7(0x3f6)]=='cash'?_0x282c28=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x1ff)},[]):_0x282c28=createElement(_0x376fe7(0x210),{'type':'text','placeholder':'N°\x20de\x20operación','class':_0x376fe7(0x31a),'events':{'input':_0x56c5f5=>handleContadoInput(_0x56c5f5,_0x3a3d59)}});_0x282c28[_0x376fe7(0x661)][_0x376fe7(0x6b2)]=_0x17f84e[_0x376fe7(0x3f6)];let _0x3e1bc=null,_0x48cd63=null,_0x4888a1=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x3c8)},[]),_0xf06d36=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x1ff)},[]);_0x17f84e['isCommission']=='1'?(_0x3e1bc=createElement(_0x376fe7(0x210),{'type':'number','placeholder':_0x376fe7(0x486),'class':_0x376fe7(0x4f1)}),_0x3e1bc[_0x376fe7(0x661)]['method']=_0x17f84e['setPaymentCode'],_0x48cd63=createElement(_0x376fe7(0x210),{'type':'number','placeholder':_0x376fe7(0x1c8),'class':_0x376fe7(0x60b),'readonly':!![]}),_0x48cd63['dataset']['method']=_0x17f84e[_0x376fe7(0x3f6)],_0x3e1bc[_0x376fe7(0x3ad)]('input',_0x320cf6=>{const _0x43af8d=_0x376fe7,_0x2a616d=parseFloat(_0x3e1bc[_0x43af8d(0x351)])||0x0,_0xf394af=parseFloat(_0x17e2b1['value'])||0x0;_0x48cd63[_0x43af8d(0x351)]=(_0x2a616d/0x64*_0xf394af)['toFixed'](0x2),handleContadoInput(_0x320cf6,_0x3a3d59);})):(_0x3e1bc=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x3c8)},[]),_0x48cd63=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x1ff)},[]));let _0x35d1e8='';_0x17f84e['setPaymentCode']==_0x376fe7(0x26d)||_0x17f84e[_0x376fe7(0x3f6)]=='cash'?_0x35d1e8='':_0x35d1e8=_0x376fe7(0x689);const _0x287f55=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x6e5)+_0x35d1e8},[_0x347d7d,_0x1f0465,_0x17e2b1,_0x3b0d00,_0x282c28,_0x4599a2]);_0x3bf794['appendChild'](_0x287f55),_0x3148ac[_0x17f84e['setPaymentCode']]=_0x287f55;if(_0x17f84e['isCommission']=='1'){const _0x21b03f=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x12d)},[]),_0x250536=createElement('div',{'class':'div-width-10\x20div_margen'},[]),_0x10075f=createElement(_0x376fe7(0x50b),{'class':_0x376fe7(0x6e5)+_0x35d1e8},[_0x21b03f,_0x4888a1,_0x3e1bc,_0x48cd63,_0xf06d36,_0x250536]);_0x3bf794[_0x376fe7(0x361)](_0x10075f),_0x3e41aa[_0x17f84e[_0x376fe7(0x3f6)]]=_0x10075f;}(_0x17f84e[_0x376fe7(0x3f6)]=='efectivo'||_0x17f84e[_0x376fe7(0x3f6)]==_0x376fe7(0x184))&&setTimeout(()=>{const _0x2c7739=_0x376fe7;_0x17e2b1[_0x2c7739(0x6bb)](new Event(_0x2c7739(0x210),{'bubbles':!![]}));});});const _0x1e807c=createElement(_0x29eab7(0x50b),{'class':'div-width-10\x20div_margen'},[]),_0x56b8cc=createElement(_0x29eab7(0x1e0),{'class':'custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','events':{'change':_0x549071=>{const _0x22e893=_0x29eab7,_0x43824f=_0x549071[_0x22e893(0x114)][_0x22e893(0x351)];if(_0x43824f){const _0x246b5a=getTotalFromFloatRight(_0x3a3d59);Object[_0x22e893(0x448)](_0x3148ac)['forEach'](([_0x2c9bed,_0x51c868])=>{const _0x124f21=_0x22e893,_0x1deeb0=_0x51c868[_0x124f21(0x53a)]('.input-array-method'),_0x2385ab=_0x3e41aa[_0x2c9bed];if(_0x2c9bed===_0x43824f){_0x51c868[_0x124f21(0x560)][_0x124f21(0x1ef)](_0x124f21(0x689));if(_0x2385ab)_0x2385ab[_0x124f21(0x560)]['remove'](_0x124f21(0x689));_0x1deeb0[_0x124f21(0x351)]=_0x246b5a[_0x124f21(0x312)](0x2),_0x1deeb0[_0x124f21(0x6bb)](new Event('input',{'bubbles':!![]})),_0x1deeb0[_0x124f21(0x5db)]();}else{_0x1deeb0&&(_0x1deeb0[_0x124f21(0x351)]='',_0x1deeb0[_0x124f21(0x6bb)](new Event(_0x124f21(0x210),{'bubbles':!![]})));if(_0x2385ab){const _0x42c27c=_0x2385ab['querySelector'](_0x124f21(0x36a)),_0x40e54f=_0x2385ab[_0x124f21(0x53a)](_0x124f21(0x55f));if(_0x42c27c)_0x42c27c['value']='';if(_0x40e54f)_0x40e54f['value']='';}}});}_0x549071[_0x22e893(0x114)]['value']='';}}},[]),_0x72690d=createElement('option',{'value':''},[_0x29eab7(0x644)]);_0x56b8cc[_0x29eab7(0x361)](_0x72690d),_0x28181b[_0x29eab7(0x3fd)](_0x335b8f=>{const _0x340ee0=_0x29eab7;if(!(_0x335b8f['setPaymentCode']==_0x340ee0(0x26d)||_0x335b8f[_0x340ee0(0x3f6)]=='cash')){const _0x34892e=createElement(_0x340ee0(0x190),{'value':_0x335b8f[_0x340ee0(0x3f6)]},[_0x335b8f[_0x340ee0(0x46e)]]);_0x56b8cc[_0x340ee0(0x361)](_0x34892e);}});const _0x148685=createElement(_0x29eab7(0x50b),{'class':'d-flex\x20mb-3'},[_0x1e807c,_0x56b8cc]);return _0x3bf794[_0x29eab7(0x361)](_0x148685),_0x3bf794;}function handleContadoInput(_0x545029,_0x210f68){const _0x102443=_0x37a403,_0xd1b2f0=getTotalFromFloatRight(_0x210f68),_0x65a0d4=Array['from'](document['querySelectorAll']('#pay-container-'+_0x210f68+_0x102443(0x3e3))),_0x157869=_0x65a0d4[_0x102443(0x51d)]((_0x191d27,_0x387e83)=>_0x191d27+parseFloat(_0x387e83['value']||0x0),0x0),_0x35c9da={};_0x65a0d4[_0x102443(0x3fd)](_0x171c27=>{const _0x573f19=_0x102443,_0x181960=_0x171c27[_0x573f19(0x661)][_0x573f19(0x6b2)]['toLowerCase']();_0x35c9da[_0x181960]=parseFloat(_0x171c27['value'])||0x0;});const _0xb4d2aa={..._0x35c9da};if(_0x157869>_0xd1b2f0){const _0x3dfd63=_0x157869-_0xd1b2f0,_0x4b0c73=_0x65a0d4[_0x102443(0x4bd)](_0x3d9e11=>[_0x102443(0x26d),_0x102443(0x184)][_0x102443(0x67b)](_0x3d9e11[_0x102443(0x661)][_0x102443(0x6b2)][_0x102443(0x69d)]()));if(_0x4b0c73){const _0x38dfea=_0x4b0c73[_0x102443(0x661)][_0x102443(0x6b2)][_0x102443(0x69d)]();_0xb4d2aa[_0x38dfea]=Math[_0x102443(0x5a6)](0x0,_0xb4d2aa[_0x38dfea]-_0x3dfd63);}else{const _0x5a398c=Object[_0x102443(0x57f)](_0xb4d2aa)[0x0];_0xb4d2aa[_0x5a398c]=Math[_0x102443(0x5a6)](0x0,_0xb4d2aa[_0x5a398c]-_0x3dfd63);}}if(medio_pago[_0x210f68][_0x102443(0x6e4)][_0x102443(0x3c5)]&&_0x157869>=_0xd1b2f0){_0x545029[_0x102443(0x114)]['value']='',_0x545029[_0x102443(0x114)][_0x102443(0x6bb)](new Event(_0x102443(0x210),{'bubbles':!![]}));return;}const _0x4f422d=_0xd1b2f0-_0x157869,_0x2e52ea=Math['abs'](Math['min'](_0x4f422d,0x0)),_0x2e1b17=Math[_0x102443(0x5a6)](_0x4f422d,0x0),_0xad0e={'total':_0xd1b2f0,'debe':_0x2e1b17,'vuelto':_0x2e52ea};_0x65a0d4[_0x102443(0x3fd)](_0xfc5517=>{const _0x4d4198=_0x102443,_0x2bb06e=_0xfc5517['dataset'][_0x4d4198(0x6b2)][_0x4d4198(0x69d)](),_0x176d42=_0x35c9da[_0x2bb06e],_0x2d369c=_0xb4d2aa[_0x2bb06e];_0xad0e[_0x2bb06e]={'monto_calc':_0x176d42,'monto':_0x2d369c};});const _0x2e17a4=Array[_0x102443(0x2a6)](document[_0x102443(0x3f0)](_0x102443(0x1da)+_0x210f68+_0x102443(0x123)));_0x2e17a4[_0x102443(0x3fd)](_0x4d2400=>{const _0x2ebce7=_0x102443,_0x3efc94=_0x4d2400[_0x2ebce7(0x661)][_0x2ebce7(0x6b2)][_0x2ebce7(0x69d)]();if(!_0xad0e[_0x3efc94])_0xad0e[_0x3efc94]={};_0xad0e[_0x3efc94][_0x2ebce7(0x329)]=_0x4d2400[_0x2ebce7(0x351)];});const _0x3d8635=Array[_0x102443(0x2a6)](document[_0x102443(0x3f0)]('#pay-container-'+_0x210f68+_0x102443(0x266)));_0x3d8635[_0x102443(0x3fd)](_0x35c7a8=>{const _0x3d5ed=_0x102443,_0x3c8098=_0x35c7a8[_0x3d5ed(0x661)][_0x3d5ed(0x6b2)][_0x3d5ed(0x69d)]();if(!_0xad0e[_0x3c8098])_0xad0e[_0x3c8098]={};_0xad0e[_0x3c8098][_0x3d5ed(0x516)]=_0x35c7a8[_0x3d5ed(0x351)];});const _0x761230=Array['from'](document[_0x102443(0x3f0)](_0x102443(0x1da)+_0x210f68+_0x102443(0x529)));_0x761230[_0x102443(0x3fd)](_0x5dacf0=>{const _0x13f0f2=_0x102443,_0x2b9049=_0x5dacf0[_0x13f0f2(0x661)][_0x13f0f2(0x6b2)][_0x13f0f2(0x69d)]();if(!_0xad0e[_0x2b9049])_0xad0e[_0x2b9049]={};_0xad0e[_0x2b9049][_0x13f0f2(0x251)]=parseFloat(_0x5dacf0[_0x13f0f2(0x351)]||0x0);});const _0x24d3aa=Array['from'](document[_0x102443(0x3f0)]('#pay-container-'+_0x210f68+_0x102443(0x501)));_0x24d3aa[_0x102443(0x3fd)](_0x4da71e=>{const _0x5416e6=_0x102443,_0x1b251e=_0x4da71e[_0x5416e6(0x661)]['method']['toLowerCase']();if(!_0xad0e[_0x1b251e])_0xad0e[_0x1b251e]={};_0xad0e[_0x1b251e]['total_comision']=parseFloat(_0x4da71e[_0x5416e6(0x351)]||0x0);}),medio_pago[_0x210f68][_0x102443(0x53f)][_0x102443(0x471)]=_0xad0e;const _0x38c024=getCurrencySymbol(_0x210f68);let _0x5a58dd=document[_0x102443(0x456)](_0x102443(0x502)+_0x210f68);if(!_0x5a58dd){_0x5a58dd=createElement(_0x102443(0x50b),{'id':_0x102443(0x502)+_0x210f68,'class':_0x102443(0x23b)});const _0xe61cc7=document[_0x102443(0x456)](_0x102443(0x504)+_0x210f68);_0xe61cc7['appendChild'](_0x5a58dd);}_0x5a58dd['innerHTML']=_0x4f422d>0x0?_0x102443(0x13c)+_0x38c024+'\x20'+_0x2e1b17[_0x102443(0x312)](0x2)+_0x102443(0x5f7):_0x102443(0x658)+_0x38c024+'\x20'+_0x2e52ea[_0x102443(0x312)](0x2)+'</span>',_0x5a58dd[_0x102443(0x201)]['color']=_0x102443(0x145),console['log'](_0x102443(0x49e)+_0x210f68+'\x20actualizado:',medio_pago[_0x210f68]);}function createCreditoForm(_0x51050f){const _0x359de1=_0x37a403,_0x1cfaa9=createElement('div',{},[]),_0x541e9f=createElement('i',{'class':_0x359de1(0x3bf)}),_0x4dd6b5=createElement(_0x359de1(0x646),{'for':_0x359de1(0x6c2)+_0x51050f,'class':_0x359de1(0x228)},[_0x541e9f,'\x20Seleccione:']),_0x223a2f=createElement(_0x359de1(0x1e0),{'id':'numero-cuotas-'+_0x51050f,'class':_0x359de1(0x136),'events':{'change':_0x16c3f2=>handleCuotasChange(_0x16c3f2,_0x51050f)}},[createElement('option',{'value':'','disabled':!![],'selected':!![]},[_0x359de1(0x5c9)]),...Array['from']({'length':0x18},(_0x1c0be6,_0x5264f8)=>createElement(_0x359de1(0x190),{'value':_0x5264f8+0x1},[_0x5264f8+0x1+_0x359de1(0x377)+(_0x5264f8>0x0?'s':'')]))]),_0x1afdc7=createElement('div',{'class':_0x359de1(0x12d)}),_0x418bf4=createElement('div',{'class':'div-width-15\x20div_margen'}),_0x599c7d=createElement(_0x359de1(0x50b),{'class':'d-flex\x20mb-3'},[_0x1afdc7,_0x4dd6b5,_0x223a2f,_0x418bf4]);_0x1cfaa9['appendChild'](_0x599c7d);const _0x5546d3=createElement(_0x359de1(0x50b),{'id':_0x359de1(0x237)+_0x51050f});return _0x1cfaa9[_0x359de1(0x361)](_0x5546d3),_0x1cfaa9;}function handleCuotasChange(_0x169ed7,_0x17222b){const _0x45c3d9=_0x37a403,_0x468e55=document[_0x45c3d9(0x456)](_0x45c3d9(0x237)+_0x17222b);_0x468e55['innerHTML']='';const _0x56f07a=parseInt(_0x169ed7['target'][_0x45c3d9(0x351)],0xa);medio_pago[_0x17222b][_0x45c3d9(0x20b)][_0x45c3d9(0x471)]=[];const _0xd129b7=parseFloat(getTotalFromFloatRight(_0x17222b));let _0x31d609=_0xd129b7;if(medio_pago[_0x17222b][_0x45c3d9(0x6e4)][_0x45c3d9(0x3c5)]){const _0x554482=Array[_0x45c3d9(0x2a6)](document[_0x45c3d9(0x3f0)](_0x45c3d9(0x1da)+_0x17222b+_0x45c3d9(0x3e3))),_0x3fb6bb=_0x554482['reduce']((_0x3c511e,_0x5b6dbf)=>_0x3c511e+parseFloat(_0x5b6dbf['value']||0x0),0x0);if(_0x3fb6bb>=_0xd129b7){_0x169ed7[_0x45c3d9(0x114)]['value']='',_0x169ed7[_0x45c3d9(0x114)][_0x45c3d9(0x6bb)](new Event(_0x45c3d9(0x210),{'bubbles':!![]}));return;}_0x31d609=Math['max'](_0xd129b7-_0x3fb6bb,0x0);}let _0x43e035=Array(_0x56f07a)['fill']()['map']((_0x5031a7,_0xd43a65)=>({'cuota':_0xd43a65+0x1,'monto':parseFloat((_0x31d609/_0x56f07a)[_0x45c3d9(0x312)](0x2)),'fechaVencimiento':'','editado':![]}));function _0x47bfe6(){const _0x136451=_0x45c3d9;let _0x2fe178=_0x43e035[_0x136451(0x51d)]((_0x31dd2d,_0x1ee082)=>_0x31dd2d+_0x1ee082['monto'],0x0),_0x406c39=_0x31d609-_0x2fe178,_0x249e5a=_0x43e035['filter'](_0x4f7a82=>!_0x4f7a82[_0x136451(0x407)]);if(_0x249e5a[_0x136451(0x59a)]==0x0)return;let _0xc77b28=parseFloat((_0x406c39/_0x249e5a[_0x136451(0x59a)])['toFixed'](0x2)),_0xfaedd5=_0x406c39-_0xc77b28*_0x249e5a[_0x136451(0x59a)];_0x249e5a[_0x136451(0x3fd)]((_0x3fc6cc,_0x5fea02)=>{const _0x4e9254=_0x136451;_0x3fc6cc[_0x4e9254(0x436)]+=_0xc77b28,_0x5fea02==_0x249e5a[_0x4e9254(0x59a)]-0x1&&(_0x3fc6cc[_0x4e9254(0x436)]+=_0xfaedd5);}),_0x267909(),medio_pago[_0x17222b][_0x136451(0x20b)][_0x136451(0x471)]=_0x43e035[_0x136451(0x17c)](({cuota:_0x2b3f08,monto:_0x19d92c,fechaVencimiento:_0x5bd123})=>({'cuota':_0x2b3f08,'monto':_0x19d92c,'fechaVencimiento':_0x5bd123}));}function _0x267909(){const _0x360c7=_0x468e55['querySelectorAll']('input[type=\x22number\x22]');_0x360c7['forEach']((_0x3eaa43,_0x1d3d41)=>{const _0x4f6a86=_0x530c;_0x3eaa43[_0x4f6a86(0x351)]=_0x43e035[_0x1d3d41][_0x4f6a86(0x436)]['toFixed'](0x2);});}function _0x3cd5c7(_0x31e8e4,_0x105e4f,_0x12e7a0){const _0x4eb070=_0x45c3d9;if(_0x12e7a0==_0x4eb070(0x436)){let _0x149a0d=parseFloat(_0x105e4f)||0x0,_0x2b4c0b=_0x43e035[_0x4eb070(0x51d)]((_0x207123,_0x3f5180,_0x257be2)=>{const _0x2e7087=_0x4eb070;if(_0x257be2!==_0x31e8e4-0x1&&_0x3f5180[_0x2e7087(0x407)])return _0x207123+_0x3f5180[_0x2e7087(0x436)];return _0x207123;},0x0);const _0x47c669=parseFloat((_0x31d609-_0x2b4c0b)[_0x4eb070(0x312)](0x2));let _0xd98047=_0x43e035[_0x4eb070(0x5a3)]((_0x1c3c68,_0x2cbaff)=>!_0x1c3c68['editado']&&_0x2cbaff!==_0x31e8e4-0x1)['length'];if(_0xd98047==0x0&&_0x149a0d!==_0x47c669)ntfShow(_0x4eb070(0x2d5)+_0x47c669+_0x4eb070(0x659)),_0x149a0d=_0x47c669;else _0x149a0d>_0x47c669&&(ntfShow(_0x4eb070(0x4d2)+_0x47c669+'.'),_0x149a0d=_0x47c669);_0x43e035[_0x31e8e4-0x1][_0x4eb070(0x436)]=_0x149a0d,_0x43e035[_0x31e8e4-0x1]['editado']=!![];const _0x4637e8=_0x468e55[_0x4eb070(0x3f0)](_0x4eb070(0x22e));_0x4637e8[_0x31e8e4-0x1]&&(_0x4637e8[_0x31e8e4-0x1][_0x4eb070(0x351)]=_0x149a0d['toFixed'](0x2)),_0x47bfe6();}else _0x12e7a0==_0x4eb070(0x5f6)&&(_0x43e035[_0x31e8e4-0x1][_0x4eb070(0x4b7)]=_0x105e4f);medio_pago[_0x17222b][_0x4eb070(0x20b)][_0x4eb070(0x471)]=_0x43e035[_0x4eb070(0x17c)](({cuota:_0x5487b5,monto:_0x33e9f2,fechaVencimiento:_0x164d8f})=>({'cuota':_0x5487b5,'monto':_0x33e9f2,'fechaVencimiento':_0x164d8f}));}for(let _0x1765ac=0x1;_0x1765ac<=_0x56f07a;_0x1765ac++){const _0x16a736=createElement(_0x45c3d9(0x50b),{'class':_0x45c3d9(0x12d)}),_0x33b318=createElement('label',{'class':'custom-label-cart-options\x20div-width-25','style':_0x45c3d9(0x69f)},[_0x45c3d9(0x212)+_0x1765ac+':\x20']),_0x37b827=createElement(_0x45c3d9(0x210),{'type':_0x45c3d9(0x578),'class':_0x45c3d9(0x297),'events':{'change':_0x2016bc=>_0x3cd5c7(_0x1765ac,_0x2016bc[_0x45c3d9(0x114)][_0x45c3d9(0x351)],'fecha')}}),_0x56ac15=createElement('input',{'type':_0x45c3d9(0x2dc),'class':'custom-input-cart-options\x20form-control\x20div-width-25','placeholder':_0x45c3d9(0x470),'value':_0x43e035[_0x1765ac-0x1]['monto'],'events':{'change':_0x1a32eb=>_0x3cd5c7(_0x1765ac,_0x1a32eb[_0x45c3d9(0x114)][_0x45c3d9(0x351)],_0x45c3d9(0x436))}}),_0xb67435=createElement(_0x45c3d9(0x50b),{'class':_0x45c3d9(0x474)}),_0x20b46f=createElement('div',{'class':_0x45c3d9(0x3df)},[_0x16a736,_0x33b318,_0x37b827,_0x56ac15,_0xb67435]);_0x468e55['appendChild'](_0x20b46f);}}function updateMedioPagoCredito(_0x36565a,_0x105835,_0x13a58d,_0x2b59d5,_0x34d7a4){const _0x45a29f=_0x37a403;!medio_pago[_0x2b59d5][_0x45a29f(0x20b)][_0x45a29f(0x471)][_0x105835-0x1]&&(medio_pago[_0x2b59d5][_0x45a29f(0x20b)][_0x45a29f(0x471)][_0x105835-0x1]={'cuota':_0x105835});if(_0x34d7a4=='fecha')medio_pago[_0x2b59d5][_0x45a29f(0x20b)][_0x45a29f(0x471)][_0x105835-0x1]['fechaVencimiento']=_0x13a58d;else _0x34d7a4==_0x45a29f(0x436)&&(medio_pago[_0x2b59d5][_0x45a29f(0x20b)]['data'][_0x105835-0x1][_0x45a29f(0x436)]=_0x13a58d);console[_0x45a29f(0x6ab)](_0x45a29f(0x1de),medio_pago[_0x2b59d5]);}function createMixtoForm(_0xc66d15){const _0x562da0=_0x37a403,_0x6b4655=createElement(_0x562da0(0x50b),{},[]),_0x3153a8=createContadoForm(_0xc66d15);_0x6b4655[_0x562da0(0x361)](_0x3153a8);const _0x520285=createCreditoForm(_0xc66d15);_0x6b4655['appendChild'](_0x520285);let _0x48993a=document[_0x562da0(0x456)](_0x562da0(0x502)+_0xc66d15);return!_0x48993a&&(_0x48993a=createElement(_0x562da0(0x50b),{'id':_0x562da0(0x502)+_0xc66d15,'class':_0x562da0(0x23b)}),_0x6b4655['appendChild'](_0x48993a)),_0x6b4655;}function getTotalFromFloatRight(_0x3abe26){const _0x5a115f=_0x37a403,_0x95e3ec=document[_0x5a115f(0x456)](_0x5a115f(0x17f)+_0x3abe26)['textContent'];return parseFloat(_0x95e3ec[_0x5a115f(0x6b1)](/[S/$]/g,'')[_0x5a115f(0x49b)]());}function toggleTaxFields(_0x20b0cc,_0x3bad8b,_0x4c044f){const _0x10d66d=_0x37a403,_0x122343=_0x20b0cc[_0x10d66d(0x114)][_0x10d66d(0x536)];if(_0x3bad8b=='Detraccion'){const _0x13d6b1=document[_0x10d66d(0x456)](_0x10d66d(0x56e)+_0x4c044f);_0x122343?(_0x13d6b1['classList']['remove']('hidden'),window_options[_0x4c044f]['setDetraccion']='1'):(_0x13d6b1[_0x10d66d(0x560)]['add']('hidden'),_0x13d6b1['value']='0',window_options[_0x4c044f][_0x10d66d(0x36f)]='0',window_options[_0x4c044f][_0x10d66d(0x499)]='',window_options[_0x4c044f][_0x10d66d(0x11f)]='0',window_options[_0x4c044f][_0x10d66d(0x668)]='0');}const _0x4b6bd3=document['getElementById'](_0x3bad8b[_0x10d66d(0x69d)]()+_0x10d66d(0x26f)+_0x4c044f),_0x5e479e=document[_0x10d66d(0x456)](_0x3bad8b[_0x10d66d(0x69d)]()+_0x10d66d(0x443)+_0x4c044f);_0x4b6bd3&&_0x5e479e&&(_0x122343?(_0x3bad8b=='Retencion'&&(window_options[_0x4c044f][_0x10d66d(0x34a)]='1'),_0x3bad8b==_0x10d66d(0x211)&&(window_options[_0x4c044f]['setPercepcion']='1'),_0x4b6bd3[_0x10d66d(0x560)]['remove']('hidden'),_0x5e479e[_0x10d66d(0x560)][_0x10d66d(0x1ef)]('hidden'),calculateTax(_0x3bad8b,_0x4c044f)):(_0x3bad8b=='Retencion'&&(window_options[_0x4c044f]['setRetencion']='0',window_options[_0x4c044f][_0x10d66d(0x5ba)]='0',window_options[_0x4c044f]['setRetencionTotal']='0'),_0x3bad8b=='Percepcion'&&(window_options[_0x4c044f][_0x10d66d(0x5a1)]='0',window_options[_0x4c044f]['setPercepcionPorcentaje']='0',window_options[_0x4c044f][_0x10d66d(0x3c7)]='0'),saveWindowOptionsDB(_0x4c044f),_0x4b6bd3[_0x10d66d(0x560)]['add'](_0x10d66d(0x208)),_0x5e479e[_0x10d66d(0x560)][_0x10d66d(0x417)](_0x10d66d(0x208)),_0x4b6bd3['value']=_0x3bad8b==_0x10d66d(0x510)?'3':_0x3bad8b==_0x10d66d(0x211)?'2':'',_0x5e479e['value']=''));}function calculateTax(_0x4f352e,_0x3eda82){const _0x7cd99a=_0x37a403,_0x51f4a0=parseFloat(getTotalFromFloatRight(_0x3eda82))||0x0,_0x4e164f=document[_0x7cd99a(0x456)](_0x4f352e[_0x7cd99a(0x69d)]()+'Pct-'+_0x3eda82),_0x56d9c4=document[_0x7cd99a(0x456)](_0x4f352e[_0x7cd99a(0x69d)]()+_0x7cd99a(0x443)+_0x3eda82);if(_0x4e164f&&_0x56d9c4){const _0x6e467f=parseFloat(_0x4e164f[_0x7cd99a(0x351)])||0x0,_0x4e13c3=_0x51f4a0*(_0x6e467f/0x64);_0x56d9c4['value']=_0x4e13c3[_0x7cd99a(0x312)](0x2),_0x4f352e==_0x7cd99a(0x4a0)&&(window_options[_0x3eda82][_0x7cd99a(0x11f)]=_0x6e467f,window_options[_0x3eda82][_0x7cd99a(0x668)]=_0x4e13c3['toFixed'](0x2)),_0x4f352e==_0x7cd99a(0x510)&&(window_options[_0x3eda82][_0x7cd99a(0x5ba)]=_0x6e467f,window_options[_0x3eda82][_0x7cd99a(0x1c9)]=_0x4e13c3[_0x7cd99a(0x312)](0x2)),_0x4f352e=='Percepcion'&&(window_options[_0x3eda82][_0x7cd99a(0x590)]=_0x6e467f,window_options[_0x3eda82][_0x7cd99a(0x3c7)]=_0x4e13c3[_0x7cd99a(0x312)](0x2)),saveWindowOptionsDB(_0x3eda82);}}function setupConsulta(_0x4a7e94){const _0x567617=_0x37a403,_0x499b43=document[_0x567617(0x456)]('btnConsultar-'+_0x4a7e94),_0x1f9bab=document[_0x567617(0x456)]('setClienteTipoDoc-'+_0x4a7e94),_0x44a4d4=document[_0x567617(0x456)]('setClienteNumDoc-'+_0x4a7e94),_0x4d138=document[_0x567617(0x456)]('setClienteDenominacion-'+_0x4a7e94),_0x42a8b0=document[_0x567617(0x456)](_0x567617(0x318)+_0x4a7e94);if(!_0x499b43||!_0x1f9bab||!_0x44a4d4||!_0x4d138||!_0x42a8b0){console['error']('Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.');return;}const _0x1847c8=_0x1f9bab['value'],_0xa8cc7a=_0x44a4d4[_0x567617(0x351)]['trim'](),_0x2e0b79=_0x4d138[_0x567617(0x351)][_0x567617(0x49b)]()[_0x567617(0x69d)](),_0x1824b9=(_0x400d50,_0x5858c9)=>{const _0x4bc290=_0x567617;return _0x400d50[_0x4bc290(0x51d)]((_0x2230b2,_0x1762b5)=>{const _0x51101a=_0x4bc290;let _0x33f95c,_0x5cab8c,_0x1633d9,_0x5ea134,_0x22894a,_0x40abce;_0x5858c9==0x1?(_0x33f95c=_0x2230b2[_0x51101a(0x6a2)],_0x5cab8c=_0x1762b5['setCustomerDocumentNumber'],_0x1633d9=_0x2230b2['setCustomerName'],_0x5ea134=_0x1762b5[_0x51101a(0x187)],_0x22894a=_0x2230b2['setCustomerAddress'],_0x40abce=_0x1762b5[_0x51101a(0x111)]):(_0x33f95c=_0x2230b2[_0x51101a(0x316)],_0x5cab8c=_0x1762b5[_0x51101a(0x316)],_0x1633d9=_0x2230b2['setSupplierName'],_0x5ea134=_0x1762b5[_0x51101a(0x168)],_0x22894a=_0x2230b2['setSupplierAddress'],_0x40abce=_0x1762b5[_0x51101a(0x51b)]);const _0x2892a2=[_0x33f95c,_0x1633d9,_0x22894a][_0x51101a(0x5a3)](Boolean)[_0x51101a(0x59a)],_0x1b0b4f=[_0x5cab8c,_0x5ea134,_0x40abce][_0x51101a(0x5a3)](Boolean)[_0x51101a(0x59a)];return _0x1b0b4f>_0x2892a2?_0x1762b5:_0x2230b2;},_0x400d50[0x0]);};let _0x233333,_0x267464;setTipOpeOrders[_0x567617(0x30c)](_0x48e319=>_0x48e319==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeSales[_0x567617(0x30c)](_0x422416=>_0x422416==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeQuotation['some'](_0x494768=>_0x494768==window_options[_0x4a7e94][_0x567617(0x118)])?(_0x267464=0x1,_0x233333=myCompany[_0x567617(0x352)]):(_0x267464=0x2,_0x233333=myCompany[_0x567617(0x344)]);if(_0xa8cc7a){let _0x25fcdd;setTipOpeOrders['some'](_0x128e02=>_0x128e02==window_options[_0x4a7e94]['setTipoOperacion'])||setTipOpeSales['some'](_0x13c86e=>_0x13c86e==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeQuotation[_0x567617(0x30c)](_0x321a84=>_0x321a84==window_options[_0x4a7e94][_0x567617(0x118)])?_0x25fcdd=_0x233333[_0x567617(0x5a3)](_0x3bbfd5=>_0x3bbfd5[_0x567617(0x6a2)]==_0xa8cc7a):_0x25fcdd=_0x233333[_0x567617(0x5a3)](_0x329d6a=>_0x329d6a['setSupplierDocumentNumber']==_0xa8cc7a);if(_0x25fcdd[_0x567617(0x59a)]>0x0){const _0x5c1eb0=_0x1824b9(_0x25fcdd,_0x267464);setTipOpeOrders['some'](_0x1607f3=>_0x1607f3==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeSales[_0x567617(0x30c)](_0x1072fe=>_0x1072fe==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeQuotation['some'](_0x438f00=>_0x438f00==window_options[_0x4a7e94][_0x567617(0x118)])?(_0x4d138[_0x567617(0x351)]=_0x5c1eb0[_0x567617(0x187)]||'',_0x42a8b0[_0x567617(0x351)]=_0x5c1eb0['setCustomerAddress']||''):(_0x4d138[_0x567617(0x351)]=_0x5c1eb0[_0x567617(0x168)]||'',_0x42a8b0['value']=_0x5c1eb0[_0x567617(0x51b)]||'');window_options[_0x4a7e94]['setClienteDenominacion']=_0x4d138[_0x567617(0x351)],window_options[_0x4a7e94]['setClienteDireccion']=_0x42a8b0['value'],saveWindowOptionsDB(_0x4a7e94)['catch'](_0x427dff=>console[_0x567617(0x65e)](_0x567617(0x432),_0x427dff));return;}if(isOnline()){if(_0x1847c8[_0x567617(0x69d)]()=='dni'&&_0xa8cc7a[_0x567617(0x59a)]==0x8||_0x1847c8[_0x567617(0x69d)]()==_0x567617(0x597)&&_0xa8cc7a[_0x567617(0x59a)]==0xb){let _0x5ba611;_0x1847c8['toLowerCase']()=='dni'?_0x5ba611=0x2:_0x5ba611=0x1,consultarAPI(_0x5ba611,_0xa8cc7a,_0x4a7e94);}else ntfShow(_0x567617(0x2ca));}else ntfShow(_0x567617(0x1cb));return;}if(_0x2e0b79){const _0x4f493e=_0x2e0b79,_0x1fa8b0=_0x233333['filter'](_0x1fec8c=>{const _0xc5f23e=_0x567617;let _0x1b156f,_0x3b4c13;setTipOpeOrders[_0xc5f23e(0x30c)](_0x5a3274=>_0x5a3274==window_options[_0x4a7e94][_0xc5f23e(0x118)])||setTipOpeSales['some'](_0x3fb067=>_0x3fb067==window_options[_0x4a7e94]['setTipoOperacion'])||setTipOpeQuotation[_0xc5f23e(0x30c)](_0x5d73f3=>_0x5d73f3==window_options[_0x4a7e94][_0xc5f23e(0x118)])?(_0x1b156f=_0x1fec8c[_0xc5f23e(0x187)][_0xc5f23e(0x69d)](),_0x3b4c13=_0x1fec8c[_0xc5f23e(0x6a2)]):(_0x1b156f=_0x1fec8c['setSupplierName'][_0xc5f23e(0x69d)](),_0x3b4c13=_0x1fec8c[_0xc5f23e(0x316)]);const _0x3089ab=_0x4f493e[_0xc5f23e(0x3c1)](/\s+/),_0x458e0d=_0x3089ab[_0xc5f23e(0x147)](_0x44338d=>_0x1b156f[_0xc5f23e(0x67b)](_0x44338d)),_0x4493e5=_0x3b4c13['includes'](_0x4f493e);return _0x458e0d||_0x4493e5;});if(_0x1fa8b0[_0x567617(0x59a)]>0x0){const _0x438f0d=_0x1824b9(_0x1fa8b0,_0x267464);setTipOpeOrders['some'](_0x3ab373=>_0x3ab373==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeSales[_0x567617(0x30c)](_0x3256db=>_0x3256db==window_options[_0x4a7e94][_0x567617(0x118)])||setTipOpeQuotation[_0x567617(0x30c)](_0x27f0e3=>_0x27f0e3==window_options[_0x4a7e94][_0x567617(0x118)])?(_0x44a4d4[_0x567617(0x351)]=_0x438f0d[_0x567617(0x6a2)]||'',_0x4d138[_0x567617(0x351)]=_0x438f0d[_0x567617(0x187)]||'',_0x42a8b0['value']=_0x438f0d[_0x567617(0x111)]||''):(_0x44a4d4[_0x567617(0x351)]=_0x438f0d[_0x567617(0x316)]||'',_0x4d138[_0x567617(0x351)]=_0x438f0d[_0x567617(0x168)]||'',_0x42a8b0['value']=_0x438f0d[_0x567617(0x51b)]||'');window_options[_0x4a7e94]['setClienteNumDoc']=_0x44a4d4[_0x567617(0x351)],window_options[_0x4a7e94][_0x567617(0x582)]=_0x4d138['value'],window_options[_0x4a7e94][_0x567617(0x63d)]=_0x42a8b0[_0x567617(0x351)],saveWindowOptionsDB(_0x4a7e94)[_0x567617(0x258)](_0x5eca93=>console[_0x567617(0x65e)](_0x567617(0x432),_0x5eca93));return;}ntfShow(_0x567617(0x283));return;}ntfShow(_0x567617(0x630));}async function consultarAPI(_0x371742,_0x20de3e,_0x249519){const _0x5172fc=_0x37a403,_0x55e4cb=document[_0x5172fc(0x456)]('btnConsultar-'+_0x249519),_0xc8fdd2=document[_0x5172fc(0x456)](_0x5172fc(0x338)+_0x249519),_0x24bc59=document['getElementById'](_0x5172fc(0x318)+_0x249519);let _0x2125a5;_0x371742==0x1?_0x2125a5=_0x5172fc(0x217):_0x2125a5=_0x5172fc(0x4b2);_0x55e4cb[_0x5172fc(0x6b6)]=!![],showLoadingModal();const _0x2a716b=document[_0x5172fc(0x456)](_0x5172fc(0x275));_0x2a716b['innerHTML']=_0x5172fc(0x427);const _0x3fda82={'setAuthToken':myCompany[_0x5172fc(0x238)],'numDoc':_0x20de3e};try{const _0x1c862b=await fetch(_0x2125a5,{'method':_0x5172fc(0x357),'headers':{'Content-Type':_0x5172fc(0x5ab)},'body':JSON[_0x5172fc(0x195)](_0x3fda82)}),_0x511897=await _0x1c862b[_0x5172fc(0x14a)]();if(!_0x511897[_0x5172fc(0x299)]){ntfShow(_0x5172fc(0x5a0));throw new Error(_0x511897[_0x5172fc(0x37b)]||_0x5172fc(0x25a));}_0x371742==0x1?(_0xc8fdd2[_0x5172fc(0x351)]=_0x511897[_0x5172fc(0x37b)]['razon_social']||'',_0x24bc59[_0x5172fc(0x351)]=_0x511897[_0x5172fc(0x37b)][_0x5172fc(0x593)]||''):(_0xc8fdd2[_0x5172fc(0x351)]=((_0x511897[_0x5172fc(0x37b)][_0x5172fc(0x494)]||'')+'\x20'+(_0x511897[_0x5172fc(0x37b)]['apellidos']||''))[_0x5172fc(0x49b)](),_0x24bc59[_0x5172fc(0x351)]=_0x511897[_0x5172fc(0x37b)][_0x5172fc(0x593)]||''),window_options[_0x249519][_0x5172fc(0x582)]=_0xc8fdd2[_0x5172fc(0x351)],window_options[_0x249519]['setClienteDireccion']=_0x24bc59[_0x5172fc(0x351)],saveWindowOptionsDB(_0x249519)['catch'](_0x1a278c=>console[_0x5172fc(0x65e)](_0x5172fc(0x432),_0x1a278c));}catch(_0x2bb3c6){ntfShow(_0x5172fc(0x58e));}finally{_0x55e4cb[_0x5172fc(0x6b6)]=![],hideLoadingModal();}}function nowWithMillisecondsForServer(){const _0x19933a=_0x37a403;let _0x3c9524;if(typeof performance!==_0x19933a(0x225)&&typeof performance[_0x19933a(0x64d)]==='function'){let _0x3b1b24;if(typeof performance[_0x19933a(0x4b4)]===_0x19933a(0x2dc))_0x3b1b24=performance[_0x19933a(0x4b4)];else performance[_0x19933a(0x2c3)]&&performance[_0x19933a(0x2c3)][_0x19933a(0x4c0)]?_0x3b1b24=performance['timing']['navigationStart']:_0x3b1b24=Date['now']();_0x3c9524=_0x3b1b24+performance[_0x19933a(0x64d)]();}else _0x3c9524=Date['now']();const _0x5853f2=Math[_0x19933a(0x303)](_0x3c9524),_0x44dce5=_0x3c9524-_0x5853f2,_0xe37535=Math[_0x19933a(0x303)](_0x44dce5*0x3e8),_0x541ea3=new Date(_0x5853f2),_0x3e0fbb=_0x541ea3[_0x19933a(0x64f)](),_0x2485b2=String(_0x541ea3['getUTCMonth']()+0x1)[_0x19933a(0x487)](0x2,'0'),_0x517c23=String(_0x541ea3[_0x19933a(0x25f)]())[_0x19933a(0x487)](0x2,'0'),_0x285206=String(_0x541ea3[_0x19933a(0x124)]())[_0x19933a(0x487)](0x2,'0'),_0xdaaf12=String(_0x541ea3['getUTCMinutes']())['padStart'](0x2,'0'),_0x4a81e9=String(_0x541ea3[_0x19933a(0x67d)]())['padStart'](0x2,'0'),_0x5cf226=String(_0x541ea3[_0x19933a(0x6b5)]())['padStart'](0x3,'0'),_0x3f4a5f=String(_0xe37535)[_0x19933a(0x487)](0x3,'0');return _0x3e0fbb+'-'+_0x2485b2+'-'+_0x517c23+'T'+_0x285206+':'+_0xdaaf12+':'+_0x4a81e9+'.'+_0x5cf226+_0x3f4a5f+'Z';}async function getLastCorrelativeOffline(_0x1bdd10,_0x5ea267){const _0x102bc1=_0x37a403,_0x592222=await createCartStore(''),_0x332a20=_0x592222[_0x102bc1(0x481)]('offline_operations','readonly'),_0x9b9b33=_0x332a20[_0x102bc1(0x35d)](_0x102bc1(0x5a5)),_0x53a054=await new Promise((_0x5eef58,_0x14c8f6)=>{const _0x32edb6=_0x102bc1,_0x49f3c1=_0x9b9b33[_0x32edb6(0x213)]();_0x49f3c1[_0x32edb6(0x1c0)]=()=>_0x5eef58(_0x49f3c1[_0x32edb6(0x3db)]),_0x49f3c1[_0x32edb6(0x618)]=()=>_0x14c8f6(_0x49f3c1[_0x32edb6(0x65e)]);}),_0x19f771=myCompany[_0x102bc1(0x238)]||'',_0x2dfeb6=_0x53a054['filter'](_0x42b257=>_0x42b257[_0x102bc1(0x118)]==_0x1bdd10&&_0x42b257[_0x102bc1(0x540)]==_0x5ea267&&_0x42b257['setToken']==_0x19f771),_0x1dd3af=parseInt(getUserPermissionApiERP(0x5),0xa);let _0xfb1c43;if(_0x1dd3af===0x1){const _0x44cc58=getLoggedUserSeries();_0xfb1c43=_0x44cc58[_0x102bc1(0x4bd)](_0x3b9a0d=>_0x3b9a0d[_0x102bc1(0x25b)]==_0x1bdd10&&_0x3b9a0d[_0x102bc1(0x294)]==_0x5ea267);}else _0xfb1c43=myCompany[_0x102bc1(0x2ab)][_0x102bc1(0x4bd)](_0x59c673=>_0x59c673[_0x102bc1(0x229)]==_0x1bdd10&&_0x59c673[_0x102bc1(0x540)]==_0x5ea267);if(!_0xfb1c43){ntfShow(_0x102bc1(0x445)),console[_0x102bc1(0x65e)](_0x102bc1(0x445));return;}const _0x51e4e6=_0x1dd3af===0x1?parseInt(_0xfb1c43[_0x102bc1(0x551)],0xa):parseInt(_0xfb1c43['setCorrelativoInicial'],0xa);if(_0x2dfeb6[_0x102bc1(0x59a)]===0x0)return _0x51e4e6;const _0x5698eb=_0x2dfeb6[_0x102bc1(0x17c)](_0x3c5f0f=>Number(_0x3c5f0f[_0x102bc1(0x5d8)])||0x0)[_0x102bc1(0x51d)]((_0x3b6c6d,_0x4ca516)=>_0x4ca516>_0x3b6c6d?_0x4ca516:_0x3b6c6d,0x0);return Math[_0x102bc1(0x5a6)](_0x5698eb+0x1,_0x51e4e6);}async function updateLastCorrelativeOnline(_0x11167c,_0x11c053){const _0xc90aa8=_0x37a403;if(isOnline()){const _0x5a0bfd=getUserPermissionApiERP(0x5);let _0x247941;if(_0x5a0bfd==0x1){const _0x42857a=getLoggedUserSeries();_0x247941=_0x42857a['find'](_0x4e2efc=>_0x4e2efc[_0xc90aa8(0x25b)]==_0x11167c&&_0x4e2efc[_0xc90aa8(0x294)]==_0x11c053);}else _0x247941=myCompany[_0xc90aa8(0x2ab)][_0xc90aa8(0x4bd)](_0x4d0996=>_0x4d0996[_0xc90aa8(0x229)]==_0x11167c&&_0x4d0996[_0xc90aa8(0x540)]==_0x11c053);if(!_0x247941){ntfShow(_0xc90aa8(0x445)),console[_0xc90aa8(0x65e)](_0xc90aa8(0x445));return;}const _0x539344=myCompany[_0xc90aa8(0x51f)],_0x132ed8={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0xc90aa8(0x238)],'setReceiptType':_0x11167c,'setReceiptSeries':_0x11c053};try{const _0x2441cc=await fetch(_0x539344,{'method':_0xc90aa8(0x357),'headers':{'Content-Type':_0xc90aa8(0x5ab)},'body':JSON[_0xc90aa8(0x195)](_0x132ed8)}),_0x2dda60=await _0x2441cc[_0xc90aa8(0x14a)]();if(_0x2dda60[_0xc90aa8(0x299)]&&_0x2dda60['message'][_0xc90aa8(0x642)]){let _0x782044=parseInt(_0x2dda60['message'][_0xc90aa8(0x642)],0xa)||0x0,_0x2e178f=parseInt(await getLastCorrelativeOffline(_0x11167c,_0x11c053),0xa)||0x0;_0x2e178f>_0x782044&&(_0x782044=_0x2e178f);_0x5a0bfd==0x1?_0x247941[_0xc90aa8(0x551)]=_0x782044:_0x247941['setCorrelativoInicial']=_0x782044;try{const _0x9fda7e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x9fda7e),console[_0xc90aa8(0x6ab)](_0xc90aa8(0x5d9));const _0x483f65=document['getElementById']('windowId')[_0xc90aa8(0x351)];window_options[_0x483f65][_0xc90aa8(0x118)]==_0x11167c&&(window_options[_0x483f65][_0xc90aa8(0x5d8)]=_0x782044,await saveWindowOptionsDB(_0x483f65),console[_0xc90aa8(0x6ab)](_0xc90aa8(0x40b)));}catch(_0x4b22a4){console[_0xc90aa8(0x65e)](_0xc90aa8(0x6c1),_0x4b22a4);throw _0x4b22a4;}}}catch(_0x4f1a3f){console[_0xc90aa8(0x65e)](_0xc90aa8(0x66a),_0x4f1a3f);}}}async function processCorrelativoInicial(_0x454451,_0x515cea,_0x4deaa7){const _0x239d08=_0x37a403;let _0x3ca1f1;const _0x647ebf=getUserPermissionApiERP(0x5);let _0x1b0b35;if(_0x647ebf==0x1){const _0x119d11=getLoggedUserSeries();_0x1b0b35=_0x119d11[_0x239d08(0x4bd)](_0x14e6a7=>_0x14e6a7[_0x239d08(0x25b)]==_0x454451&&_0x14e6a7[_0x239d08(0x294)]==_0x515cea),_0x3ca1f1=_0x1b0b35?_0x1b0b35['setSeriesCorrelativeInitial']:0x1;}else _0x1b0b35=myCompany['setSeries'][_0x239d08(0x4bd)](_0x8809a=>_0x8809a['setSerieTipo']==_0x454451&&_0x8809a[_0x239d08(0x540)]==_0x515cea),_0x3ca1f1=_0x1b0b35?_0x1b0b35[_0x239d08(0x5b9)]:0x1;if(_0x4deaa7!==undefined){if(_0x1b0b35){_0x647ebf==0x1?_0x1b0b35[_0x239d08(0x551)]=_0x4deaa7:_0x1b0b35[_0x239d08(0x5b9)]=_0x4deaa7;try{const _0x71e7b5=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x71e7b5),_0x4deaa7;}catch(_0x11e388){console[_0x239d08(0x65e)](_0x239d08(0x6c1),_0x11e388);throw _0x11e388;}}else throw new Error(_0x239d08(0x34d));}return _0x3ca1f1;}function getFilteredCart(_0x1f37ea){const _0x588bf2=_0x37a403,_0x348e1f=window_options[_0x1f37ea]['setTipoOperacion'];if(setTipOpeOrders[_0x588bf2(0x30c)](_0x2e665e=>_0x2e665e==_0x348e1f))return carts[_0x1f37ea][_0x588bf2(0x5a3)](_0x42c2b5=>_0x42c2b5[_0x588bf2(0x1b6)]==0x1&&_0x42c2b5[_0x588bf2(0x640)]=='');else return setTipOpeSales[_0x588bf2(0x30c)](_0x5da124=>_0x5da124==_0x348e1f)||setTipOpePurchases[_0x588bf2(0x30c)](_0x1821ba=>_0x1821ba==_0x348e1f)||setTipOpeQuotation['some'](_0x568292=>_0x568292==_0x348e1f)?carts[_0x1f37ea]['filter'](_0x3fb7c2=>_0x3fb7c2[_0x588bf2(0x1b6)]==0x1):[];}async function validateOperation(_0x1461f7,_0x2c18c3=''){const _0x43d17e=_0x37a403,_0xdcb94=document[_0x43d17e(0x456)](_0x43d17e(0x306)),_0x5d66aa=_0xdcb94[_0x43d17e(0x351)],_0x3a3a19=_0xdcb94[_0x43d17e(0x43d)][_0xdcb94[_0x43d17e(0x553)]][_0x43d17e(0x5e1)],_0x18a6a3=document['getElementById']('setTipoOperacion-'+_0x1461f7)['value'],_0x434b54=document[_0x43d17e(0x456)](_0x43d17e(0x365)+_0x1461f7)[_0x43d17e(0x351)],_0x3692ca=document['getElementById'](_0x43d17e(0x1f5)+_0x1461f7)['value'],_0x3599a7=document[_0x43d17e(0x456)]('setCorrelativo-'+_0x1461f7)[_0x43d17e(0x351)],_0x25a0ba=document[_0x43d17e(0x456)]('setMoneda-'+_0x1461f7)[_0x43d17e(0x351)],_0x545a21=document[_0x43d17e(0x456)](_0x43d17e(0x1dd)+_0x1461f7)['value'],_0x2a491d=document[_0x43d17e(0x456)]('setClienteNumDoc-'+_0x1461f7)['value'],_0xd203a8=document['getElementById'](_0x43d17e(0x338)+_0x1461f7)[_0x43d17e(0x351)],_0x480760=document[_0x43d17e(0x456)](_0x43d17e(0x318)+_0x1461f7)['value'],_0x2d2c75=document[_0x43d17e(0x456)](_0x43d17e(0x345)+_0x1461f7)[_0x43d17e(0x351)],_0x560bad=document['getElementById']('setVendedorCodigo-'+_0x1461f7)['value'],_0x365fd9=document[_0x43d17e(0x456)](_0x43d17e(0x4a9)+_0x1461f7)['value'],_0x18aa5d=document[_0x43d17e(0x456)]('setObservacion-'+_0x1461f7)[_0x43d17e(0x351)],_0x4c9eca=getTotalFromFloatRight(_0x1461f7),_0x412928=getFilteredCart(_0x1461f7);if(!_0x18a6a3||!_0x545a21)return ntfShow(_0x43d17e(0x637)),![];if(!setTipOpePurchaseReceipt[_0x43d17e(0x30c)](_0x1cd5ee=>_0x1cd5ee==window_options[_0x1461f7][_0x43d17e(0x118)])){if(!_0x3692ca||!_0x3599a7)return ntfShow('Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.'),![];if(!/^[A-Za-z0-9]{4}$/[_0x43d17e(0x5f4)](_0x3692ca))return ntfShow(_0x43d17e(0x265)),![];if(/ñ/i[_0x43d17e(0x5f4)](_0x3692ca))return ntfShow('La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.'),![];if(window_options[_0x1461f7][_0x43d17e(0x118)]=='3'&&_0x3692ca[_0x43d17e(0x43a)](0x0)!=='B')return ntfShow(_0x43d17e(0x524)),![];if(window_options[_0x1461f7][_0x43d17e(0x118)]=='4'&&_0x3692ca['charAt'](0x0)!=='F')return ntfShow(_0x43d17e(0x23a)),![];}if(setTipOpeSalesInvoice[_0x43d17e(0x30c)](_0x2a914a=>_0x2a914a==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpePurchaseInvoice[_0x43d17e(0x30c)](_0x364b57=>_0x364b57==window_options[_0x1461f7][_0x43d17e(0x118)])){if(!_0x2a491d[_0x43d17e(0x49b)]()||!_0xd203a8['trim']())return ntfShow(_0x43d17e(0x246)),![];if(window_options[_0x1461f7][_0x43d17e(0x118)]=='4'&&_0x545a21!=_0x43d17e(0x319))return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.'),![];}if(setTipOpeSalesTicket[_0x43d17e(0x30c)](_0x378fdf=>_0x378fdf==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpePurchaseTicket[_0x43d17e(0x30c)](_0x2a21b7=>_0x2a21b7==window_options[_0x1461f7][_0x43d17e(0x118)])){if(window_options[_0x1461f7][_0x43d17e(0x118)]=='3'&&_0x4c9eca>=0x2bc){if(_0x545a21!='DNI'&&_0x545a21!=_0x43d17e(0x319)||!_0x2a491d['trim']()||!_0xd203a8[_0x43d17e(0x49b)]())return ntfShow('Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.'),![];}}if(_0x2a491d['trim']()){if(_0x545a21==_0x43d17e(0x428)&&!/^\d{8}$/[_0x43d17e(0x5f4)](_0x2a491d))return ntfShow(_0x43d17e(0x19f)),![];if(_0x545a21==_0x43d17e(0x319)&&!/^\d{11}$/[_0x43d17e(0x5f4)](_0x2a491d))return ntfShow(_0x43d17e(0x151)),![];if(!_0xd203a8['trim']())return ntfShow('Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.'),![];}if(!Array[_0x43d17e(0x54f)](_0x412928)||_0x412928[_0x43d17e(0x59a)]==0x0)return ntfShow(_0x43d17e(0x4c6)),![];let _0x331d8b;setTipOpeOrders[_0x43d17e(0x30c)](_0x19df3b=>_0x19df3b==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeSales['some'](_0x3dd0c5=>_0x3dd0c5==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeQuotation['some'](_0x6c5cb0=>_0x6c5cb0==window_options[_0x1461f7]['setTipoOperacion'])?_0x331d8b=0x2:_0x331d8b=0x1;for(var _0x345ce1=0x0;_0x345ce1<_0x412928[_0x43d17e(0x59a)];_0x345ce1++){let _0x25e034,_0x37b1e8;_0x331d8b==0x1?(_0x25e034=parseFloat(_0x412928[_0x345ce1][_0x43d17e(0x180)])||0x0,_0x37b1e8=_0x43d17e(0x412)):(_0x25e034=parseFloat(_0x412928[_0x345ce1][_0x43d17e(0x47f)])||0x0,_0x37b1e8=_0x43d17e(0x2b9));var _0x808033=_0x25e034;if(_0x808033<=0x0)return ntfShow('El\x20producto\x20\x22'+(_0x412928[_0x345ce1]['setDescripcion']||_0x43d17e(0x1dc))+'\x22\x20debe\x20tener\x20un\x20'+_0x37b1e8+_0x43d17e(0x43b)),![];}if(_0x2c18c3){const _0x3772f9=parseInt(getUserPermissionApiERP(0xe)),_0x4b04cb=parseInt(getUserPermissionApiERP(0x5));if((_0x4b04cb==0x0||_0x4b04cb==0x1&&((setTipOpeSalesTicket[_0x43d17e(0x30c)](_0x5a88da=>_0x5a88da==window_options[_0x1461f7]['setTipoOperacion'])||setTipOpeSalesInvoice[_0x43d17e(0x30c)](_0x50b537=>_0x50b537==window_options[_0x1461f7][_0x43d17e(0x118)]))&&_0x3772f9==0x0))&&window_options[_0x1461f7][_0x43d17e(0x2fb)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x43d17e(0x30c)](_0x31153d=>_0x31153d==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeSales[_0x43d17e(0x30c)](_0x5f546a=>_0x5f546a==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeQuotation['some'](_0x30e497=>_0x30e497==window_options[_0x1461f7][_0x43d17e(0x118)])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x1461f7][_0x43d17e(0x118)],window_options[_0x1461f7][_0x43d17e(0x540)]),hideLoadingModal();else{if(window_options[_0x1461f7][_0x43d17e(0x2fb)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x43d17e(0x30c)](_0x27d686=>_0x27d686==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeSales[_0x43d17e(0x30c)](_0x11e3ee=>_0x11e3ee==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeQuotation['some'](_0x194e48=>_0x194e48==window_options[_0x1461f7][_0x43d17e(0x118)]))){showLoadingModal();let _0x246e40=parseInt(await getLastCorrelativeOffline(window_options[_0x1461f7][_0x43d17e(0x118)],window_options[_0x1461f7]['setSerie']),0xa)||0x0,_0x1a4343;if(_0x4b04cb==0x1){const _0x3c73f3=getLoggedUserSeries();_0x1a4343=_0x3c73f3[_0x43d17e(0x4bd)](_0x2082f8=>_0x2082f8[_0x43d17e(0x25b)]==window_options[_0x1461f7][_0x43d17e(0x118)]&&_0x2082f8['setSeriesNumber']==window_options[_0x1461f7][_0x43d17e(0x540)]);}else _0x1a4343=myCompany[_0x43d17e(0x2ab)][_0x43d17e(0x4bd)](_0x8cf155=>_0x8cf155['setSerieTipo']==window_options[_0x1461f7]['setTipoOperacion']&&_0x8cf155[_0x43d17e(0x540)]==window_options[_0x1461f7][_0x43d17e(0x540)]);if(!_0x1a4343){ntfShow(_0x43d17e(0x445)),console['error'](_0x43d17e(0x445));return;}_0x4b04cb==0x1?_0x1a4343[_0x43d17e(0x551)]=_0x246e40:_0x1a4343[_0x43d17e(0x5b9)]=_0x246e40;try{const _0x4800b9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4800b9),window_options[_0x1461f7][_0x43d17e(0x5d8)]=_0x246e40,await saveWindowOptionsDB(_0x1461f7),console[_0x43d17e(0x6ab)](_0x43d17e(0x1bf));}catch(_0x2c3320){console[_0x43d17e(0x65e)](_0x43d17e(0x6c1),_0x2c3320);throw _0x2c3320;}hideLoadingModal();}}return(setTipOpeOrders[_0x43d17e(0x30c)](_0x519ba2=>_0x519ba2==window_options[_0x1461f7][_0x43d17e(0x118)])||setTipOpeQuotation[_0x43d17e(0x30c)](_0x12709d=>_0x12709d==window_options[_0x1461f7]['setTipoOperacion']))&&saveOperation(_0x1461f7),(setTipOpeSales[_0x43d17e(0x30c)](_0x46d747=>_0x46d747==window_options[_0x1461f7]['setTipoOperacion'])||setTipOpePurchases['some'](_0x5d49f6=>_0x5d49f6==window_options[_0x1461f7][_0x43d17e(0x118)]))&&(showSection(_0x2c18c3,_0x1461f7),document['getElementById'](_0x43d17e(0x4c2)+_0x1461f7)[_0x43d17e(0x351)]='contado',triggerChangeEventById(_0x43d17e(0x4c2)+_0x1461f7),updateActivePaymentOption(_0x1461f7,_0x43d17e(0x4f4))),!![];}else return!![];}function buildPayload(_0x462dd4,_0x584db8=''){const _0x57074e=_0x37a403;window_options[_0x462dd4][_0x57074e(0x3eb)]=0x1;const _0x160474=myCompany['setWindows'][_0x57074e(0x4bd)](_0x5755f7=>_0x5755f7[_0x57074e(0x1af)]==_0x462dd4);window_options[_0x462dd4][_0x57074e(0x415)]=_0x462dd4,window_options[_0x462dd4]['setWindowName']=_0x160474[_0x57074e(0x193)],window_options[_0x462dd4][_0x57074e(0x24d)]=_0x160474['setWindowType'],window_options[_0x462dd4][_0x57074e(0x5e3)]=_0x160474[_0x57074e(0x20c)],window_options[_0x462dd4][_0x57074e(0x5f9)]=generateUniqId(),window_options[_0x462dd4]['setLastFechaHora']=new Date();parseInt(window_options[_0x462dd4][_0x57074e(0x1a3)])!=0x1&&(window_options[_0x462dd4][_0x57074e(0x3ee)]=obtener_fechaHora());const _0x1da8b8=getValidatedWindowAndShift(_0x462dd4)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x2ec614,currentWindowShift:_0x51ed1c}=_0x1da8b8,_0x3125bb=window_options[_0x462dd4],_0x407cdf=medio_pago[_0x462dd4];let _0x10451d=getFilteredCart(_0x462dd4);_0x584db8!=''&&(_0x10451d=_0x10451d[_0x57074e(0x5a3)](_0x430743=>{const _0x436adf=_0x57074e,_0x59527e=products[_0x436adf(0x4bd)](_0x205ba6=>_0x205ba6['id']==_0x430743[_0x436adf(0x2d4)]);return _0x59527e&&_0x59527e['setPrinters']&&_0x59527e[_0x436adf(0x369)][_0x436adf(0x30c)](_0x5a42ee=>_0x5a42ee[_0x436adf(0x5ad)]==_0x584db8);}));const _0xc7c71e=document[_0x57074e(0x456)](_0x57074e(0x506));if(!_0xc7c71e)return console[_0x57074e(0x65e)]('No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.'),null;const _0x4bb48e=_0xc7c71e['value'],_0x4452d6=_0xc7c71e[_0x57074e(0x43d)][_0xc7c71e['selectedIndex']][_0x57074e(0x5e1)],_0xf60ab6=document[_0x57074e(0x456)](_0x57074e(0x306));if(!_0xf60ab6)return console[_0x57074e(0x65e)](_0x57074e(0x6ac)),null;const _0x5d17f7=_0xf60ab6[_0x57074e(0x351)],_0x4c9cca=myCompany['setBranches']['find'](_0x412741=>_0x412741[_0x57074e(0x306)]==_0x5d17f7)?.['setBranchName']||'',_0x469c72=myCompany[_0x57074e(0x1d3)][_0x57074e(0x4bd)](_0x10ff51=>_0x10ff51['setBranchId']==_0x5d17f7)?.[_0x57074e(0x2ad)]||'',_0x4f71c4=document[_0x57074e(0x456)](_0x57074e(0x2d7));if(!_0x4f71c4)return console['error'](_0x57074e(0x6a9)),null;const _0x13fe52=_0x4f71c4['value'],_0x1f8d18=_0x4f71c4[_0x57074e(0x43d)][_0x4f71c4[_0x57074e(0x553)]][_0x57074e(0x5e1)],_0x43d725=_0x3125bb[_0x57074e(0x38f)],_0x51dc78=myCompany['setMonedas'][_0x57074e(0x4bd)](_0x32db32=>_0x32db32[_0x57074e(0x387)]==_0x43d725),_0x5e2b0d=_0x51dc78?_0x51dc78[_0x57074e(0x267)]:null,_0x57f7ba=_0x51dc78?_0x51dc78[_0x57074e(0x2e1)]:null,_0x55f220=_0x3125bb[_0x57074e(0x118)],_0x369203=myCompany[_0x57074e(0x146)]['find'](_0x230333=>_0x230333[_0x57074e(0x1e2)]==_0x55f220),_0x5e4d7c=_0x369203?_0x369203[_0x57074e(0x3b6)]:null;!myCompany[_0x57074e(0x363)]&&(myCompany[_0x57074e(0x363)]=[]);const _0x218149=myCompany[_0x57074e(0x363)],_0x1feec3=_0x218149[_0x57074e(0x4bd)](_0x24047d=>_0x24047d[_0x57074e(0x306)]==_0x5d17f7&&_0x24047d[_0x57074e(0x1d1)]=='1'),_0x1f242e={..._0x3125bb,'setToken':myCompany[_0x57074e(0x238)],'setWebhook':myCompany[_0x57074e(0x5c2)],'setShiftId':_0x1feec3?_0x1feec3[_0x57074e(0x493)]:0x0,'setWindowShiftId':_0x51ed1c?_0x51ed1c[_0x57074e(0x493)]:0x0,'setSucursalCodigo':_0x5d17f7,'setSucursalNombre':_0x4c9cca,'setBranchAddress':_0x469c72,'setWarehouseId':_0x13fe52,'setWarehouseName':_0x1f8d18,'setCashierId':_0x4bb48e,'setCashierName':_0x4452d6,'setProductos':_0x10451d,'setMedioPago':_0x407cdf,'setDocumentType':_0x5e4d7c,'setCurrencyName':_0x5e2b0d,'setCurrencySymbol':_0x57f7ba};return setLastOperationGlobalData(_0x462dd4,{'pdfGlobalPayload':_0x1f242e,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x1f242e;}async function saveOperation(_0x9d029a){const _0x4306a3=_0x37a403;let _0x1cbe03;(setTipOpeOrders['some'](_0x588fb5=>_0x588fb5==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeQuotation[_0x4306a3(0x30c)](_0x5a08b7=>_0x5a08b7==window_options[_0x9d029a]['setTipoOperacion']))&&(_0x1cbe03=document[_0x4306a3(0x456)](_0x4306a3(0x1fd)+_0x9d029a));(setTipOpeSales['some'](_0x328c38=>_0x328c38==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpePurchases[_0x4306a3(0x30c)](_0xacaec1=>_0xacaec1==window_options[_0x9d029a][_0x4306a3(0x118)]))&&(_0x1cbe03=document[_0x4306a3(0x456)]('btnSaveOperacion-'+_0x9d029a));if(!_0x1cbe03){console[_0x4306a3(0x65e)]('No\x20se\x20encontró\x20el\x20botón.');return;}_0x1cbe03[_0x4306a3(0x6b6)]=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x9d029a)){_0x1cbe03[_0x4306a3(0x6b6)]=![],hideLoadingModal(),showModalPay();return;}const _0x1b5490=buildPayload(_0x9d029a);if(!_0x1b5490){console['error'](_0x4306a3(0x42b)),_0x1cbe03[_0x4306a3(0x6b6)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0x1b5490);const _0x11abd3=[],_0x5288be=_0x1b5490[_0x4306a3(0x61c)],_0x3848ac=myCompany[_0x4306a3(0x369)]['filter'](_0x3f917a=>_0x3f917a[_0x4306a3(0x306)]==_0x5288be);setTipOpeOrders[_0x4306a3(0x30c)](_0x35b753=>_0x35b753==window_options[_0x9d029a][_0x4306a3(0x118)])&&_0x1b5490[_0x4306a3(0x620)][_0x4306a3(0x3fd)](_0xb98ecb=>{const _0x468714=_0x4306a3,_0x5e40b1=products['find'](_0x4af04a=>_0x4af04a['id']==_0xb98ecb[_0x468714(0x2d4)]);if(_0x5e40b1?.[_0x468714(0x369)]?.[_0x468714(0x59a)]){const _0x936054=_0x5e40b1[_0x468714(0x369)][_0x468714(0x5a3)](_0x5625c1=>_0x3848ac[_0x468714(0x30c)](_0x11428f=>_0x11428f['setPrinterId']==_0x5625c1[_0x468714(0x5ad)]));_0x936054['forEach'](_0x2925a5=>{const _0x5eacbe=_0x468714;!_0x11abd3[_0x5eacbe(0x30c)](_0x31abf0=>_0x31abf0[_0x5eacbe(0x5ad)]==_0x2925a5[_0x5eacbe(0x5ad)])&&_0x11abd3[_0x5eacbe(0x385)]({..._0x2925a5,'payloadComand':buildPayload(_0x9d029a,_0x2925a5[_0x5eacbe(0x5ad)])});});}});let _0x5e121c;if(setTipOpeOrders['some'](_0x3e8795=>_0x3e8795==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeSales[_0x4306a3(0x30c)](_0x274264=>_0x274264==window_options[_0x9d029a]['setTipoOperacion'])||setTipOpeQuotation[_0x4306a3(0x30c)](_0x224570=>_0x224570==window_options[_0x9d029a][_0x4306a3(0x118)])){let _0xe7bd44=await processCorrelativoInicial(window_options[_0x9d029a][_0x4306a3(0x118)],window_options[_0x9d029a][_0x4306a3(0x540)]);_0xe7bd44=parseInt(_0xe7bd44,0xa)||0x0,_0x5e121c=_0xe7bd44;}const _0x49283e=window_options[_0x9d029a][_0x4306a3(0x2fb)]==0x2;!_0x49283e&&(setTipOpeOrders['some'](_0x479d53=>_0x479d53==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeSales[_0x4306a3(0x30c)](_0x44a591=>_0x44a591==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeQuotation[_0x4306a3(0x30c)](_0x195212=>_0x195212==window_options[_0x9d029a][_0x4306a3(0x118)]))&&(_0x5e121c+=0x1);if(window_options[_0x9d029a]['setDespacho']==0x1&&(setTipOpeSales[_0x4306a3(0x30c)](_0x52f64c=>_0x52f64c==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpePurchases[_0x4306a3(0x30c)](_0x2634b6=>_0x2634b6==window_options[_0x9d029a][_0x4306a3(0x118)]))){const _0x3b4e4e=document[_0x4306a3(0x456)](_0x4306a3(0x2d7))['value'],_0x39763c=carts[_0x9d029a],_0x2c41a2=_0x49283e?window_options[_0x9d029a][_0x4306a3(0x60c)]:[];_0x39763c[_0x4306a3(0x3fd)](_0x52dccd=>{const _0x5dc0ef=_0x4306a3;if(_0x52dccd[_0x5dc0ef(0x2e5)]!=0x1)return;const _0x2e49eb=products[_0x5dc0ef(0x4bd)](_0x18a52c=>_0x18a52c['id']==_0x52dccd[_0x5dc0ef(0x2d4)]);if(!_0x2e49eb){console['warn'](_0x5dc0ef(0x678)+_0x52dccd[_0x5dc0ef(0x2d4)]);return;}const _0x372515=parseFloat(_0x2e49eb[_0x5dc0ef(0x525)]),_0x4c44f4=parseFloat(_0x52dccd['setCantidad']);let _0x3312e5=0x0;if(_0x49283e){const _0x597748=_0x2c41a2[_0x5dc0ef(0x4bd)](_0x19d277=>_0x19d277[_0x5dc0ef(0x2d4)]==_0x52dccd['setIdProducto']),_0x4de0b6=_0x597748?parseFloat(_0x597748[_0x5dc0ef(0x14c)]):0x0;setTipOpeSales[_0x5dc0ef(0x30c)](_0x2aad21=>_0x2aad21==window_options[_0x9d029a]['setTipoOperacion'])&&(_0x3312e5=_0x4de0b6*_0x372515-_0x4c44f4*_0x372515),setTipOpePurchases[_0x5dc0ef(0x30c)](_0xa91b61=>_0xa91b61==window_options[_0x9d029a][_0x5dc0ef(0x118)])&&(_0x3312e5=_0x4de0b6*_0x372515+_0x4c44f4*_0x372515);}else setTipOpeSales[_0x5dc0ef(0x30c)](_0x5800bd=>_0x5800bd==window_options[_0x9d029a][_0x5dc0ef(0x118)])&&(_0x3312e5=-(_0x4c44f4*_0x372515)),setTipOpePurchases[_0x5dc0ef(0x30c)](_0x396337=>_0x396337==window_options[_0x9d029a][_0x5dc0ef(0x118)])&&(_0x3312e5=_0x4c44f4*_0x372515);const _0x3210f3=_0x2e49eb['setIdProducto'],_0x3294ad=products[_0x5dc0ef(0x5a3)](_0x10b189=>_0x10b189[_0x5dc0ef(0x2d4)]==_0x3210f3);_0x3294ad[_0x5dc0ef(0x3fd)](_0x430524=>{const _0x4405cc=_0x5dc0ef,_0x5b18a6=_0x430524['sucursales'][_0x4405cc(0x4bd)](_0x59338d=>_0x59338d[_0x4405cc(0x2b6)]==_0x3b4e4e);if(!_0x5b18a6){console[_0x4405cc(0x140)](_0x4405cc(0x52a)+_0x3b4e4e+_0x4405cc(0x6d0)+_0x430524['id']);return;}const _0x1dc4aa=parseFloat(_0x5b18a6[_0x4405cc(0x5de)]),_0x291720=_0x1dc4aa+_0x3312e5;_0x5b18a6[_0x4405cc(0x5de)]=_0x291720,console[_0x4405cc(0x6ab)](_0x4405cc(0x1b7)+_0x430524['id']+_0x4405cc(0x279)+_0x3210f3+_0x4405cc(0x36d)+_0x3b4e4e+_0x4405cc(0x13d)+_0x1dc4aa+_0x4405cc(0x305)+_0x291720);});});}if(setTipOpeOrders[_0x4306a3(0x30c)](_0x556efb=>_0x556efb==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeSales[_0x4306a3(0x30c)](_0x559f07=>_0x559f07==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeQuotation[_0x4306a3(0x30c)](_0x23c88c=>_0x23c88c==window_options[_0x9d029a][_0x4306a3(0x118)])){let _0x350888;!_0x49283e?_0x350888=await processCorrelativoInicial(window_options[_0x9d029a][_0x4306a3(0x118)],window_options[_0x9d029a][_0x4306a3(0x540)],_0x5e121c):_0x350888=_0x5e121c,window_options[_0x9d029a][_0x4306a3(0x5d8)]=parseInt(_0x350888);}else window_options[_0x9d029a][_0x4306a3(0x5d8)]='';window_options[_0x9d029a][_0x4306a3(0x3ee)]=obtener_fechaHora(),window_options[_0x9d029a]['setFechaHoraReadonly']=0x0,window_options[_0x9d029a][_0x4306a3(0x2f8)]='1',window_options[_0x9d029a]['setTipoOperacionInvoice']='1',window_options[_0x9d029a][_0x4306a3(0x2bd)]=0x0,window_options[_0x9d029a][_0x4306a3(0x2fb)]='1',correlativeReadonly=0x0,window_options[_0x9d029a][_0x4306a3(0x280)]='',window_options[_0x9d029a][_0x4306a3(0x55c)]='',medio_pago=[];const _0x52c904=getValidatedWindowAndShift(_0x9d029a),{windowObj:_0x231cb8,currentWindowShift:_0x268a91}=_0x52c904;(!_0x268a91||!setTipOpeOrders[_0x4306a3(0x30c)](_0x484a38=>_0x484a38==window_options[_0x9d029a][_0x4306a3(0x118)]))&&(window_options[_0x9d029a][_0x4306a3(0x1df)]='',window_options[_0x9d029a][_0x4306a3(0x582)]='',window_options[_0x9d029a]['setClienteDireccion']='',window_options[_0x9d029a][_0x4306a3(0x65a)]='',window_options[_0x9d029a][_0x4306a3(0x22b)]='');if(_0x268a91){_0x231cb8[_0x4306a3(0x186)]=nowWithMillisecondsForServer();if(setTipOpeOrders[_0x4306a3(0x30c)](_0x178e99=>_0x178e99==window_options[_0x9d029a][_0x4306a3(0x118)])||setTipOpeSales[_0x4306a3(0x30c)](_0x4f6212=>_0x4f6212==window_options[_0x9d029a][_0x4306a3(0x118)])){!_0x268a91[_0x4306a3(0x24c)]&&(_0x268a91['setOrders']=[]);let _0x54e520=_0x1b5490;delete _0x54e520[_0x4306a3(0x2d8)],_0x268a91[_0x4306a3(0x24c)][_0x4306a3(0x385)](_0x54e520),_0x231cb8[_0x4306a3(0x601)]=_0x4306a3(0x6b7),_0x268a91[_0x4306a3(0x482)]='';}if(setTipOpeSales['some'](_0x325b25=>_0x325b25==window_options[_0x9d029a][_0x4306a3(0x118)])){const _0x27370f=carts[_0x9d029a]||[],_0x5d7a55=_0x27370f[_0x4306a3(0x30c)](_0x44f4a8=>_0x44f4a8[_0x4306a3(0x1b6)]==0x0);if(!_0x5d7a55){_0x231cb8[_0x4306a3(0x601)]=_0x4306a3(0x5e9);const _0x1e93a7=new Date();_0x268a91[_0x4306a3(0x1d1)]='0',_0x268a91[_0x4306a3(0x53c)]=_0x1e93a7;}}const _0x5a88c4=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5a88c4);}for(let _0x5ee0ab=products[_0x4306a3(0x59a)]-0x1;_0x5ee0ab>=0x0;_0x5ee0ab--){products[_0x5ee0ab][_0x4306a3(0x29d)]==0x1&&products[_0x4306a3(0x65c)](_0x5ee0ab,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x9d029a);}catch(_0x114e81){_0x1cbe03['disabled']=![],hideLoadingModal(),showModalPay(),console[_0x4306a3(0x65e)](_0x4306a3(0x3cf),_0x114e81);return;}await removeAllFromCart(_0x9d029a),_0x1cbe03[_0x4306a3(0x6b6)]=![],hideLoadingModal(),showLeftSection();_0x11abd3[_0x4306a3(0x59a)]>0x0&&processPrints(_0x11abd3);const _0x2c650a=getUserPermissionApiERP(0x3),_0x594277=myCompany[_0x4306a3(0x57a)][_0x4306a3(0x462)],_0x3c9cdf=myCompany[_0x4306a3(0x224)][_0x4306a3(0x4bd)](_0x433b46=>_0x433b46[_0x4306a3(0x44f)]==_0x594277),_0x4648b9=_0x3c9cdf?.[_0x4306a3(0x1d3)][_0x4306a3(0x4bd)](_0xe24fe4=>_0xe24fe4['setBranchId']==_0x5288be)?.[_0x4306a3(0x5ad)]||0x0;if(setTipOpeSales[_0x4306a3(0x30c)](_0x365c01=>_0x365c01==window_options[_0x9d029a][_0x4306a3(0x118)])&&_0x2c650a==0x1&&_0x4648b9!=0x0){const _0x5379a5=_0x3848ac[_0x4306a3(0x4bd)](_0xb197db=>_0xb197db[_0x4306a3(0x5ad)]==_0x4648b9);if(_0x5379a5){const {pdfGlobalPayload:_0x8c1a82,pdfGlobalBlob:_0x8b4b96,pdfGlobalName:_0x4596c2}=getLastOperationGlobalData(_0x9d029a);setPrintOnline(_0x5379a5[_0x4306a3(0x67a)],_0x8b4b96,_0x4596c2,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x4306a3(0x351)]='',renderProducts(''),initializeCategorys();const _0x5d501c=document[_0x4306a3(0x456)](_0x4306a3(0x414)),_0x281b37=_0x1b5490[_0x4306a3(0x3ee)],_0x2002db=new Date(_0x281b37),_0x19d8ef=_0x2002db['getDate'](),_0x21f07c=monthsEspanish[_0x2002db[_0x4306a3(0x173)]()],_0x2e54e8=_0x2002db['getFullYear'](),_0x11ba22=_0x19d8ef+_0x4306a3(0x6ad)+_0x21f07c+_0x4306a3(0x48b)+_0x2e54e8;_0x5d501c[_0x4306a3(0x351)]=_0x4306a3(0x16c)+(_0x1b5490[_0x4306a3(0x582)]??'')+_0x4306a3(0x24e)+myCompany['setCompanyNameTrade']+_0x4306a3(0x4f9)+_0x1b5490['setDocumentType']+':\x20'+_0x1b5490[_0x4306a3(0x540)]+'-'+_0x1b5490[_0x4306a3(0x5d8)]+'\x20emitido\x20el\x20'+_0x11ba22+'.',await setOrders(_0x9d029a),apiERPsync();}catch(_0x447e23){_0x1cbe03[_0x4306a3(0x6b6)]=![],hideLoadingModal(),showModalPay(),console['error'](_0x4306a3(0x235),_0x447e23);return;}}async function storeOfflineOperation(_0x2e5f78,_0x1cd549=0x0){const _0x35a3f8=_0x37a403;try{const _0x1a93c1=await createCartStore('');if(_0x1cd549==0x0){const {pdfBlob:_0x537d7a,pdfName:_0x19a940}=await generatePdf(_0x2e5f78,'tk','pdfCanvas','1.5');_0x2e5f78['pdfBlob']=_0x537d7a;const _0x140f74=document[_0x35a3f8(0x456)](_0x35a3f8(0x415))[_0x35a3f8(0x351)];setLastOperationGlobalData(_0x140f74,{'pdfGlobalPayload':_0x2e5f78,'pdfGlobalBlob':_0x537d7a,'pdfGlobalName':_0x19a940}),!setTipOpeOrders[_0x35a3f8(0x30c)](_0x68e5e6=>_0x68e5e6==_0x2e5f78[_0x35a3f8(0x118)])&&showModal();}const _0x4dfcc0=_0x1a93c1[_0x35a3f8(0x481)]('offline_operations',_0x35a3f8(0x549)),_0x13add1=_0x4dfcc0[_0x35a3f8(0x35d)](_0x35a3f8(0x5a5));_0x13add1[_0x35a3f8(0x417)](_0x2e5f78),_0x4dfcc0[_0x35a3f8(0x349)]=()=>{console['log']('Operación\x20Guardada\x20Correctamente.'),console['log'](_0x2e5f78);},_0x4dfcc0['onerror']=_0x3ec083=>{const _0x37212c=_0x35a3f8;console[_0x37212c(0x65e)]('Error\x20al\x20guardar\x20operación\x20offline:',_0x3ec083[_0x37212c(0x114)][_0x37212c(0x65e)]);};}catch(_0xf5cd48){console[_0x35a3f8(0x65e)](_0x35a3f8(0x11c),_0xf5cd48);}}function getFormattedDate(_0x258bea){const _0x349838=_0x37a403,_0x486acc=new Date(_0x258bea);return _0x486acc[_0x349838(0x13e)]();}function getFormattedTime(_0x15d050){const _0x333004=_0x37a403,_0xc0da8f=new Date(_0x15d050);return _0xc0da8f[_0x333004(0x3e2)]();}function getCurrentDateTime(){const _0x2fb142=_0x37a403;return new Date()[_0x2fb142(0x3cd)]();}function sanitizeData(_0x58e2f6,_0x445974='string'){const _0x5bb722=_0x37a403,_0x447bc0=_0x17bc38=>{const _0x572eda=_0x530c;if(_0x17bc38==null||_0x17bc38=='')return'';return _0x17bc38[_0x572eda(0x6b1)](/[\xC0-\xFF]/g,_0x1620ed=>{const _0x55ceaa={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0x55ceaa[_0x1620ed]||_0x1620ed;});},_0x1632a7=_0x6afbc2=>{return parseFloat(_0x6afbc2)||0x0;},_0x57bc9f=_0x2c648e=>{const _0x130317=_0x530c;return _0x2c648e[_0x130317(0x17c)](_0xa65e99=>{const _0x26ce9d=_0x130317;if(typeof _0xa65e99==_0x26ce9d(0x3c3)&&_0xa65e99!==null)return sanitizeData(_0xa65e99,_0x445974);return sanitizeData(_0xa65e99,_0x445974);});};if(typeof _0x58e2f6==_0x5bb722(0x3c3)&&_0x58e2f6!==null){const _0x3de4f2={};for(const _0x2c4bf7 in _0x58e2f6){_0x58e2f6[_0x5bb722(0x40e)](_0x2c4bf7)&&(_0x3de4f2[_0x2c4bf7]=sanitizeData(_0x58e2f6[_0x2c4bf7],_0x445974));}return _0x3de4f2;}if(Array['isArray'](_0x58e2f6))return _0x57bc9f(_0x58e2f6);if(_0x445974==_0x5bb722(0x2dc)||_0x445974==_0x5bb722(0x500))return _0x1632a7(_0x58e2f6);return _0x447bc0(_0x58e2f6);}function getCurrentDate(){const _0x514f0c=new Date();return _0x514f0c['toISOString']();}function numeroALetras(_0x1d07ff){const _0x5b8114=_0x37a403,_0x4e0593=['',_0x5b8114(0x594),_0x5b8114(0x18e),'TRES',_0x5b8114(0x58b),'CINCO',_0x5b8114(0x287),_0x5b8114(0x263),_0x5b8114(0x4df),_0x5b8114(0x34e)],_0x5d83fc=['',_0x5b8114(0x437),_0x5b8114(0x461),_0x5b8114(0x12c),'CUARENTA',_0x5b8114(0x14d),'SESENTA',_0x5b8114(0x52e),'OCHENTA','NOVENTA'],_0x41e64e=['',_0x5b8114(0x141),_0x5b8114(0x37f),_0x5b8114(0x399),_0x5b8114(0x1bd),_0x5b8114(0x1a0),_0x5b8114(0x558),_0x5b8114(0x30b),_0x5b8114(0x16e),_0x5b8114(0x6e8)];function _0x1e9d43(_0x5baae2){const _0xa4be18=_0x5b8114;if(_0x5baae2==0x0)return _0xa4be18(0x4ec);if(_0x5baae2==0x64)return _0xa4be18(0x250);if(_0x5baae2>=0x1&&_0x5baae2<=0x9)return _0x4e0593[_0x5baae2];if(_0x5baae2>=0xa&&_0x5baae2<=0x13){const _0x1c86ea=[_0xa4be18(0x437),_0xa4be18(0x32a),_0xa4be18(0x538),_0xa4be18(0x6c8),_0xa4be18(0x1a6),'QUINCE','DIECISÉIS','DIECISIETE','DIECIOCHO','DIECINUEVE'];return _0x1c86ea[_0x5baae2-0xa];}if(_0x5baae2>=0x14&&_0x5baae2<=0x1d){const _0x1d1b1d=_0x5baae2%0xa;return'VEINTI'+(_0x1d1b1d>0x0?_0x4e0593[_0x1d1b1d]:'');}if(_0x5baae2>=0x1e&&_0x5baae2<=0x63){const _0x357d29=Math[_0xa4be18(0x303)](_0x5baae2/0xa),_0x51d872=_0x5baae2%0xa;return''+_0x5d83fc[_0x357d29]+(_0x51d872>0x0?'\x20Y\x20'+_0x4e0593[_0x51d872]:'');}if(_0x5baae2>=0x64&&_0x5baae2<=0x3e7){const _0x1ad69a=Math[_0xa4be18(0x303)](_0x5baae2/0x64),_0x4d9121=_0x5baae2%0x64;return''+_0x41e64e[_0x1ad69a]+(_0x4d9121>0x0?'\x20'+_0x1e9d43(_0x4d9121):'');}if(_0x5baae2>=0x3e8&&_0x5baae2<=0xf423f){const _0x4b1d3b=Math['floor'](_0x5baae2/0x3e8),_0x1ce971=_0x5baae2%0x3e8;return''+(_0x4b1d3b>0x1?_0x1e9d43(_0x4b1d3b)+_0xa4be18(0x42a):_0xa4be18(0x39e))+(_0x1ce971>0x0?'\x20'+_0x1e9d43(_0x1ce971):'');}if(_0x5baae2>=0xf4240&&_0x5baae2<=0x3b9ac9ff){const _0x53c5fc=Math[_0xa4be18(0x303)](_0x5baae2/0xf4240),_0x479c76=_0x5baae2%0xf4240;return''+(_0x53c5fc>0x1?_0x1e9d43(_0x53c5fc)+'\x20MILLONES':_0xa4be18(0x521))+(_0x479c76>0x0?'\x20'+_0x1e9d43(_0x479c76):'');}return'';}function _0x3b798(_0xed9f8f){const _0x2850ec=_0x5b8114;return _0xed9f8f>0x0?_0xed9f8f+_0x2850ec(0x3fa):_0x2850ec(0x247);}const [_0xbd92d9,_0x1dbc65]=_0x1d07ff[_0x5b8114(0x312)](0x2)[_0x5b8114(0x3c1)]('.')['map'](Number),_0x432035=_0x1e9d43(_0xbd92d9),_0x23e2d1=_0x3b798(_0x1dbc65);return _0x5b8114(0x63b)+_0x432035+'\x20CON\x20'+_0x23e2d1;}function formatShiftDate(_0xbf524f){const _0x1bf605=_0x37a403,_0x4ebe5f=new Date(_0xbf524f);if(isNaN(_0x4ebe5f))return'';const _0x107cd1=new Date(),_0x5741a5=_0x107cd1-_0x4ebe5f,_0x16b0ed=Math[_0x1bf605(0x303)](_0x5741a5/0x3e8),_0x34f737=Math[_0x1bf605(0x303)](_0x5741a5/0xea60),_0x3f05ee=Math[_0x1bf605(0x303)](_0x5741a5/0x36ee80),_0x47c6ba=Math['floor'](_0x5741a5/0x5265c00);if(_0x16b0ed<0x3c)return _0x16b0ed+_0x1bf605(0x69a);else{if(_0x34f737<0x3c)return _0x34f737+'\x20min';else{if(_0x3f05ee<0x18){const _0x24f22d=Math[_0x1bf605(0x303)](_0x5741a5%0x36ee80/0xea60);return _0x3f05ee+'h\x20'+_0x24f22d+_0x1bf605(0x33a);}else{const _0x285e3e=Math[_0x1bf605(0x303)](_0x5741a5%0x5265c00/0x36ee80);return _0x47c6ba+'d\x20'+_0x285e3e+'h';}}}}function generateUUID(){const _0x1355fb=_0x37a403;return'xxxxxxxxyxxxxxxx'[_0x1355fb(0x6b1)](/[xy]/g,function(_0x8959c3){const _0x62c113=_0x1355fb,_0x2e52df=Math['random']()*0x10|0x0,_0x57088d=_0x8959c3==='x'?_0x2e52df:_0x2e52df&0x3|0x8;return _0x57088d[_0x62c113(0x2d6)](0x10);});}async function generatePdf(_0x35a988,_0x9e6c1b='tk',_0x50730b=_0x37a403(0x547),_0x10c6cc=_0x37a403(0x5bb),_0x51e096=0x0){const _0x57c099=_0x37a403,{PDFDocument:_0x256064,rgb:_0x41b219}=PDFLib;try{const _0x5a2558=await _0x256064['create'](),_0x13fd00=window[_0x57c099(0x422)];_0x5a2558[_0x57c099(0x1ea)](_0x13fd00);const [_0x1789d7,_0x2216dc]=await Promise[_0x57c099(0x6ae)]([cargarFuente('fonts/Roboto/Roboto-Light.ttf',_0x5a2558),cargarFuente(_0x57c099(0x6c4),_0x5a2558)]);let _0x345d16,_0x49c5b7;if(_0x9e6c1b=='tk')_0x345d16=0xc8,_0x49c5b7=0xbb8;else _0x9e6c1b=='a4'&&(_0x345d16=0x24e,_0x49c5b7=0x7d0);const _0x5187f2=await procesarContenido(_0x5a2558,_0x1789d7,_0x2216dc,_0x35a988,_0x345d16,_0x49c5b7,_0x9e6c1b,_0x41b219,_0x51e096);let _0x3ac9fe=_0x49c5b7-_0x5187f2;_0x9e6c1b=='tk'&&(_0x5a2558['removePage'](0x0),await procesarContenido(_0x5a2558,_0x1789d7,_0x2216dc,_0x35a988,_0x345d16,_0x3ac9fe,_0x9e6c1b,_0x41b219,_0x51e096));_0x9e6c1b=='a4'&&(_0x3ac9fe<0x34a&&(_0x3ac9fe=0x34a),_0x5a2558[_0x57c099(0x610)](0x0),await procesarContenido(_0x5a2558,_0x1789d7,_0x2216dc,_0x35a988,_0x345d16,_0x3ac9fe,_0x9e6c1b,_0x41b219,_0x51e096));const _0x5904bd=await _0x5a2558[_0x57c099(0x21a)](),_0x53ef1a=new Blob([_0x5904bd],{'type':_0x57c099(0x321)}),_0x4d36ee=parseInt(_0x35a988[_0x57c099(0x118)]),_0x1339b8=myCompany[_0x57c099(0x695)]+'-'+String(_0x9e6c1b)['toUpperCase']()+'-'+_0x4d36ee+'-'+_0x35a988[_0x57c099(0x540)]+'-'+_0x35a988[_0x57c099(0x5d8)]+_0x57c099(0x1f9),_0x33c2fe=URL['createObjectURL'](_0x53ef1a),_0x55ece4=document[_0x57c099(0x456)](_0x50730b),_0x1b5a1c=_0x55ece4['getContext']('2d'),_0x19315e=await pdfjsLib[_0x57c099(0x4e1)](_0x33c2fe)['promise'],_0x1dd8ce=await _0x19315e[_0x57c099(0x35a)](0x1),_0x2f675e=_0x1dd8ce['getViewport']({'scale':parseFloat(_0x10c6cc)});return _0x55ece4[_0x57c099(0x6b0)]=_0x2f675e['width'],_0x55ece4[_0x57c099(0x2bb)]=_0x2f675e[_0x57c099(0x2bb)],_0x1b5a1c[_0x57c099(0x36c)](0x0,0x0,_0x55ece4[_0x57c099(0x6b0)],_0x55ece4['height']),await _0x1dd8ce[_0x57c099(0x469)]({'canvasContext':_0x1b5a1c,'viewport':_0x2f675e})[_0x57c099(0x645)],URL[_0x57c099(0x277)](_0x33c2fe),{'pdfBlob':_0x53ef1a,'pdfName':_0x1339b8};}catch(_0x4241fe){ntfShow(_0x4241fe,0x2,0x1);throw _0x4241fe;}}async function cargarFuente(_0x53e630,_0x2a9db5){const _0x12718b=_0x37a403,_0x517390=await fetch(_0x53e630)['then'](_0x8833c0=>_0x8833c0[_0x12718b(0x467)]());return _0x2a9db5[_0x12718b(0x51e)](_0x517390);}async function procesarContenido(_0x3dcdb4,_0x4b07c2,_0x13e25e,_0x1e1100,_0x3c67b1,_0x3e970f,_0x5c8602='tk',_0xf08117,_0xb86c8d=0x0){const _0x138492=_0x37a403,_0x1d690c=_0x3dcdb4[_0x138492(0x1f8)]([_0x3c67b1,_0x3e970f]),{width:_0xa6019a,height:_0x185d09}=_0x1d690c[_0x138492(0x507)](),_0x559f0c=0xc,_0x509507=0x4,_0x3137f8=0xa;let _0x2a7b2d=_0x185d09-_0x3137f8,{setLogoUrl:setLogoUrl=myCompany[_0x138492(0x63c)],setEmpresaRuc:setEmpresaRuc=myCompany[_0x138492(0x695)],setEmpresaNombre:setEmpresaNombre=myCompany[_0x138492(0x2ce)],setEmpresaTelefono:setEmpresaTelefono=myCompany[_0x138492(0x6af)],setEmpresaEmail:setEmpresaEmail=myCompany[_0x138492(0x4b5)],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x138492(0x199)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe='apiERP.dev/peru/consultas/cpe/',setDespacho:setDespacho='',setFooter:setFooter='Muchas\x20gracias\x20por\x20su\x20compra',setProductos:setProductos=[],..._0x11a462}=_0x1e1100;_0x1e1100=sanitizeData(_0x1e1100,'number');const _0x315197=_0x11a462[_0x138492(0x2ad)],_0x3a11e8=_0x11a462['setCustomerPhone'],_0x326ce4=_0x11a462[_0x138492(0x22b)],_0x5c0721=_0x11a462[_0x138492(0x193)],_0x2a2d14=_0x11a462[_0x138492(0x24d)];let _0x208c0d,_0x2ce379;if(_0x2a2d14==_0x138492(0x15d))_0x208c0d=_0x138492(0x1f6),_0x2ce379='Vendedor';else{if(_0x2a2d14==_0x138492(0x600))_0x208c0d=_0x138492(0x236),_0x2ce379=_0x138492(0x3ea);else{if(_0x2a2d14==_0x138492(0x371))_0x208c0d=_0x138492(0x65f),_0x2ce379=_0x138492(0x2a5);else _0x2a2d14==_0x138492(0x60a)&&(_0x208c0d=_0x138492(0x56a),_0x2ce379=_0x138492(0x447));}}const _0x2935ee=_0x11a462[_0x138492(0x5e3)],_0x5d23e6=_0x11a462['setDocumentType'],_0x222312=_0x11a462[_0x138492(0x464)],_0xef8c69=_0x11a462['setCurrencyName'],_0x3a08e5=(parseFloat(_0x11a462['setDescuentoGlobal_Monto'])||0x0)[_0x138492(0x312)](0x2),_0x3bd3d8=(parseFloat(_0x11a462[_0x138492(0x3ab)])||0x0)[_0x138492(0x312)](0x2),_0x4d3bc0=(parseFloat(_0x11a462['setMtoOperGravadas'])||0x0)[_0x138492(0x312)](0x2),_0x313a84=(parseFloat(_0x11a462[_0x138492(0x389)])||0x0)[_0x138492(0x312)](0x2),_0x42d6b8=(parseFloat(_0x11a462[_0x138492(0x223)])||0x0)[_0x138492(0x312)](0x2),_0x2106d1=(parseFloat(_0x11a462[_0x138492(0x285)])||0x0)[_0x138492(0x312)](0x2),_0x30425b=(parseFloat(_0x11a462['setValorVenta'])||0x0)[_0x138492(0x312)](0x2),_0x43aaf0=(parseFloat(_0x11a462[_0x138492(0x26e)])||0x0)[_0x138492(0x312)](0x2),_0x52b419=(parseFloat(_0x11a462[_0x138492(0x3f4)])||0x0)['toFixed'](0x2),_0x4ad0e6=(parseFloat(_0x11a462[_0x138492(0x29a)])||0x0)[_0x138492(0x312)](0x2),_0x4eb5f4=parseFloat(_0x11a462[_0x138492(0x36f)])||0x0;let _0x33d570,_0x8f3cd1,_0x19afe8,_0x3e4e89;_0x4eb5f4==0x1&&(_0x33d570=_0x11a462[_0x138492(0x499)]||'',_0x8f3cd1=_0x11a462['setDetraccionCodigoName']||'',_0x19afe8=_0x11a462[_0x138492(0x11f)]||_0x138492(0x390),_0x3e4e89=_0x11a462[_0x138492(0x668)]||_0x138492(0x390));const _0x159456=parseFloat(_0x11a462[_0x138492(0x34a)])||0x0;let _0x527f04,_0x3386d0;_0x159456==0x1&&(_0x527f04=_0x11a462[_0x138492(0x5ba)]||'0.00',_0x3386d0=_0x11a462['setRetencionTotal']||_0x138492(0x390));const _0x203d34=parseFloat(_0x11a462[_0x138492(0x5a1)])||0x0;let _0x3f6f0c,_0x3c8e79;_0x203d34==0x1&&(_0x3f6f0c=_0x11a462['setPercepcionPorcentaje']||'0.00',_0x3c8e79=_0x11a462[_0x138492(0x3c7)]||_0x138492(0x390));const _0x13ce2b=getFormattedDate(setFechaHora),_0x1fd153=getFormattedTime(setFechaHora),_0x846561=myCompany[_0x138492(0x2a4)],_0x42b96d=parseInt(_0x11a462[_0x138492(0x6bf)])||0x0,{contado:_0x1dc2fc,credito:_0x4b7c80,mixto:_0x4d23b6}=_0x11a462[_0x138492(0x133)]||{},_0x3d15af=numeroALetras(parseFloat(_0x4ad0e6))+'\x20'+_0xef8c69[_0x138492(0x667)](),_0x2b30a5=_0x138492(0x1fc),_0x1811aa=_0x11a462[_0x138492(0x4eb)],_0x19c4f3=_0x11a462['setCashierName'],_0x3ebb95=_0x138492(0x4d5),_0x52e34b=_0x11a462[_0x138492(0x6a7)],_0x1f1498=_0x11a462[_0x138492(0x65d)],_0x5f0b5e=_0x138492(0x3e7);let _0x596588,_0x478aeb;if(setTipOpeOrders[_0x138492(0x30c)](_0x3edb1a=>_0x3edb1a==setTipoOperacion)||setTipOpeQuotation[_0x138492(0x30c)](_0x58e42f=>_0x58e42f==setTipoOperacion)||setTipOpeSales[_0x138492(0x30c)](_0x45a179=>_0x45a179==setTipoOperacion))_0x596588=_0x138492(0x56d),_0x478aeb=0x2;else setTipOpePurchases[_0x138492(0x30c)](_0x20b0d6=>_0x20b0d6==setTipoOperacion)&&(_0x596588=_0x138492(0x3c4),_0x478aeb=0x1);const _0x2a9433=_0x138492(0x264),_0x5801b6='',_0x197692=_0x138492(0x3d7),_0x460b56='',_0x19a82d='Conductor:',_0x1c7c31='',_0x5758ca=_0x138492(0x240),_0x18ee0e='';let _0x2d61de='',_0x4cca73=[];_0x5801b6!=''&&(_0x2d61de=_0x138492(0x50f),_0x4cca73=[_0x2a9433+':\x20'+_0x5801b6,_0x197692+':\x20'+_0x460b56,_0x19a82d+':\x20'+_0x1c7c31,_0x5758ca+':\x20'+_0x18ee0e]);const _0x18aa13=getUserPermissionApiERP(0x7),_0x4b382f=getUserPermissionApiERP(0x8),_0x1cee7a=getUserPermissionApiERP(0x13),_0x5dbfb1=getUserPermissionApiERP(0x14),_0x560aec=_0xf08117(0x1,0.35,0x0),_0x468ea5=_0xf08117(0x1,0x1,0x1),_0x258a20=_0xf08117(0x0,0x0,0x0),_0x2adca0=_0xf08117(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0x59eeef=_0xf08117(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x2a7b2d-=_0x559f0c;if(_0x5c8602=='tk'){const _0x4788f1=(_0x193508,_0x13af2b,_0x8d4d9e,_0x2e8710=0.5,_0x226505=[0x1,0x3])=>{const _0x4c9554=_0x138492;let _0x2a95e3=_0x193508,_0x2498cc=_0x226505[0x0],_0x423e5b=_0x226505[0x1];while(_0x2a95e3<_0x13af2b){_0x1d690c[_0x4c9554(0x261)]({'start':{'x':_0x2a95e3,'y':_0x8d4d9e},'end':{'x':_0x2a95e3+_0x2498cc,'y':_0x8d4d9e},'thickness':_0x2e8710}),_0x2a95e3+=_0x2498cc+_0x423e5b;}};function _0xc077f2(_0x4867fe,_0x39ab81,_0x587795,_0x400e59,_0x5b5757='left'){const _0x973d00=_0x138492,_0x101e33=_0xa6019a-_0x3137f8*0x2,_0x3365b7=_0x400e59+0x2,_0x45b58a=[],_0x51da13=_0x1d33e0=>_0x587795['widthOfTextAtSize'](_0x1d33e0,_0x400e59);if(_0x4867fe[_0x973d00(0x508)]('\x20')==-0x1&&_0x51da13(_0x4867fe)>_0x101e33){let _0x2e8b6d=0x0,_0x2dd391='';for(let _0x30a27a=0x0;_0x30a27a<_0x4867fe[_0x973d00(0x59a)];_0x30a27a++){_0x2dd391+=_0x4867fe[_0x30a27a];if(_0x51da13(_0x2dd391)>_0x101e33){const _0x5c3889=_0x2dd391[_0x973d00(0x626)](0x0,-0x1);_0x45b58a[_0x973d00(0x385)](_0x5c3889),_0x2dd391=_0x4867fe[_0x30a27a];}}if(_0x2dd391)_0x45b58a[_0x973d00(0x385)](_0x2dd391);}else{const _0x1eb16c=_0x4867fe['split']('\x20');let _0x3eeae0='';for(let _0xa0848a=0x0;_0xa0848a<_0x1eb16c[_0x973d00(0x59a)];_0xa0848a++){const _0x151f3f=_0x3eeae0+(_0x3eeae0?'\x20':'')+_0x1eb16c[_0xa0848a];_0x51da13(_0x151f3f)>_0x101e33&&_0x3eeae0?(_0x45b58a[_0x973d00(0x385)](_0x3eeae0),_0x3eeae0=_0x1eb16c[_0xa0848a]):_0x3eeae0=_0x151f3f;}if(_0x3eeae0)_0x45b58a[_0x973d00(0x385)](_0x3eeae0);}return _0x45b58a[_0x973d00(0x3fd)](_0x2af110=>{const _0xeae6d8=_0x973d00,_0x357065=_0x51da13(_0x2af110);let _0x2ce06c=_0x3137f8;if(_0x5b5757=='center')_0x2ce06c=_0x3137f8+(_0x101e33-_0x357065)/0x2;else _0x5b5757==_0xeae6d8(0x569)&&(_0x2ce06c=_0x3137f8+(_0x101e33-_0x357065));_0x1d690c[_0xeae6d8(0x2b3)](_0x2af110,{'x':_0x2ce06c,'y':_0x39ab81,'size':_0x400e59,'font':_0x587795}),_0x39ab81-=_0x3365b7;}),_0x39ab81;}const _0x3b5f6a=(_0x543eec,_0x3b499b,_0x3e8213,_0x3613ce,_0x63ed4e,_0x3ab2c5)=>{const _0x1b87bd=_0x138492,_0x26b905=(_0x3c67b1-_0x3137f8*0x2)*0.3,_0x6e3724=(_0x3c67b1-_0x3137f8*0x2)*0.1;_0x1d690c[_0x1b87bd(0x2b3)](String(_0x543eec),{'x':_0x3137f8,'y':_0x3e8213,'size':_0x63ed4e,'font':_0x3613ce}),_0x1d690c[_0x1b87bd(0x2b3)](':',{'x':_0x3137f8+_0x26b905,'y':_0x3e8213,'size':_0x63ed4e,'font':_0x3613ce});let _0x4eb549=_0x4b07c2[_0x1b87bd(0x1be)](_0x3b499b,_0x63ed4e),_0x2a7ee6=0x1;if(_0x4eb549>_0x3ab2c5){let _0x218076=_0x3b499b[_0x1b87bd(0x3c1)]('\x20'),_0x3f7160='',_0x34a424=_0x3e8213;_0x218076['forEach'](_0x13749a=>{const _0x1ee9d7=_0x1b87bd;_0x4b07c2[_0x1ee9d7(0x1be)](_0x3f7160+'\x20'+_0x13749a,_0x63ed4e)>_0x3ab2c5?(_0x1d690c['drawText'](_0x3f7160,{'x':_0x3137f8+_0x26b905+_0x6e3724,'y':_0x34a424,'size':_0x63ed4e,'font':_0x3613ce}),_0x34a424-=_0x559f0c,_0x2a7ee6++,_0x3f7160=_0x13749a):_0x3f7160+=(_0x3f7160?'\x20':'')+_0x13749a;}),_0x1d690c[_0x1b87bd(0x2b3)](_0x3f7160,{'x':_0x3137f8+_0x26b905+_0x6e3724,'y':_0x34a424,'size':_0x63ed4e,'font':_0x3613ce});}else _0x1d690c[_0x1b87bd(0x2b3)](String(_0x3b499b),{'x':_0x3137f8+_0x26b905+_0x6e3724,'y':_0x3e8213,'size':_0x63ed4e,'font':_0x3613ce});return _0x3e8213-_0x559f0c*_0x2a7ee6;},_0x55256f=(_0x566a0a,_0x87d04,_0xe722b7,_0x52a7ae,_0x4d0528,_0x468ba7,_0x4354c9,_0x2f7839,_0x40d2f9=![])=>{const _0x286309=_0x138492;_0x566a0a=_0x566a0a['map'](_0x8876ff=>String(_0x8876ff)),_0x87d04=_0x87d04[_0x286309(0x17c)](_0x507a21=>String(_0x507a21));const _0x29cccb=(_0x468ba7-_0x4354c9*0x2)*0.4,_0x2abddc=(_0x468ba7-_0x4354c9*0x2)*0.2,_0x112382=(_0x468ba7-_0x4354c9*0x2)*0.2,_0x56a099=(_0x468ba7-_0x4354c9*0x2)*0.2,_0x4ce232=(_0x58ee0f,_0x5a694c,_0xd4eb9d,_0x5d21d7,_0x249ac7,_0x4bc64b)=>{const _0x3a900b=_0x286309;let _0x2df175=_0x249ac7[_0x3a900b(0x1be)](_0x58ee0f,_0x4bc64b),_0x42fbb4=0x1;if(_0x2df175>_0x5d21d7){let _0x3f75eb=_0x58ee0f[_0x3a900b(0x3c1)]('\x20'),_0x1cfcb6='',_0x18b940=_0xd4eb9d;_0x3f75eb[_0x3a900b(0x3fd)](_0x37bd7b=>{const _0x201e30=_0x3a900b;_0x249ac7[_0x201e30(0x1be)](_0x1cfcb6+'\x20'+_0x37bd7b,_0x4bc64b)>_0x5d21d7?(_0x1d690c[_0x201e30(0x2b3)](_0x1cfcb6,{'x':_0x5a694c,'y':_0x18b940,'size':_0x4bc64b,'font':_0x249ac7}),_0x18b940-=_0x2f7839,_0x42fbb4++,_0x1cfcb6=_0x37bd7b):_0x1cfcb6+=(_0x1cfcb6?'\x20':'')+_0x37bd7b;}),_0x1d690c[_0x3a900b(0x2b3)](_0x1cfcb6,{'x':_0x5a694c,'y':_0x18b940,'size':_0x4bc64b,'font':_0x249ac7});}else _0x1d690c[_0x3a900b(0x2b3)](_0x58ee0f,{'x':_0x5a694c,'y':_0xd4eb9d,'size':_0x4bc64b,'font':_0x249ac7});return _0xd4eb9d-_0x2f7839*_0x42fbb4;};if(_0x40d2f9){_0x1d690c[_0x286309(0x2b3)](String(_0x566a0a[0x0]),{'x':_0x4354c9,'y':_0xe722b7,'size':_0x4d0528,'font':_0x52a7ae});const _0x42d12b=_0x4354c9+_0x29cccb+(_0x2abddc-_0x52a7ae['widthOfTextAtSize'](String(_0x566a0a[0x1]),_0x4d0528))/0x2,_0x26f3fe=_0x4354c9+_0x29cccb+_0x2abddc+(_0x112382-_0x52a7ae[_0x286309(0x1be)](String(_0x566a0a[0x2]),_0x4d0528))/0x2,_0x15c8a3=_0x4354c9+_0x29cccb+_0x2abddc+_0x112382+(_0x56a099-_0x52a7ae[_0x286309(0x1be)](String(_0x566a0a[0x3]),_0x4d0528));return _0x1d690c[_0x286309(0x2b3)](String(_0x566a0a[0x1]),{'x':_0x42d12b,'y':_0xe722b7,'size':_0x4d0528,'font':_0x52a7ae}),_0x1d690c[_0x286309(0x2b3)](String(_0x566a0a[0x2]),{'x':_0x26f3fe,'y':_0xe722b7,'size':_0x4d0528,'font':_0x52a7ae}),_0x1d690c[_0x286309(0x2b3)](String(_0x566a0a[0x3]),{'x':_0x15c8a3,'y':_0xe722b7,'size':_0x4d0528,'font':_0x52a7ae}),_0xe722b7-_0x2f7839;}else{let _0x2d90bb=_0xe722b7;_0x2d90bb=_0x4ce232(_0x87d04[0x0],_0x4354c9,_0x2d90bb,_0x29cccb,_0x52a7ae,_0x4d0528);const _0x2f4010=_0xe722b7-_0x2d90bb+_0x2f7839,_0x43d4fe=_0x2d90bb+(_0x2f4010-_0x2f7839)/0x2,_0x93b293=_0x2f4010==_0x2f7839,_0x11ff26=_0x93b293?_0x43d4fe:_0x43d4fe+_0x2f7839/0x2,_0x189dbf=_0x4354c9+_0x29cccb+(_0x2abddc-_0x52a7ae[_0x286309(0x1be)](_0x87d04[0x1],_0x4d0528))/0x2,_0x5a7f34=_0x4354c9+_0x29cccb+_0x2abddc+(_0x112382-_0x52a7ae[_0x286309(0x1be)](_0x87d04[0x2],_0x4d0528))/0x2,_0x5ed66b=_0x4354c9+_0x29cccb+_0x2abddc+_0x112382+(_0x56a099-_0x52a7ae[_0x286309(0x1be)](_0x87d04[0x3],_0x4d0528));return _0x1d690c[_0x286309(0x2b3)](String(_0x87d04[0x1]),{'x':_0x189dbf,'y':_0x11ff26,'size':_0x4d0528,'font':_0x52a7ae}),_0x1d690c[_0x286309(0x2b3)](String(_0x87d04[0x2]),{'x':_0x5a7f34,'y':_0x11ff26,'size':_0x4d0528,'font':_0x52a7ae}),_0x1d690c['drawText'](String(_0x87d04[0x3]),{'x':_0x5ed66b,'y':_0x11ff26,'size':_0x4d0528,'font':_0x52a7ae}),_0x2d90bb-_0x2f7839;}},_0x5783da=(_0x1043eb,_0x1900bc,_0x23938e,_0x1f2952,_0x6cfc23)=>{const _0x499914=_0x138492;_0x1d690c[_0x499914(0x2b3)](String(_0x1043eb),{'x':_0x3137f8,'y':_0x23938e,'size':_0x6cfc23,'font':_0x1f2952});const _0x277b25=_0x3c67b1-_0x3137f8-_0x4b07c2[_0x499914(0x1be)](_0x1900bc,_0x6cfc23);return _0x1d690c[_0x499914(0x2b3)](String(_0x1900bc),{'x':_0x277b25,'y':_0x23938e,'size':_0x6cfc23,'font':_0x1f2952}),_0x23938e-_0x559f0c;};function _0xa697ab(_0x5082fe,_0x5c2a59,_0xf0d581,_0x4f5b58,_0x321b2a,_0x3cab2b,_0x5e1f0e,_0x3d801e){const _0x5a40cb=_0x138492,_0x3aaa93=_0x5e1f0e-0x2*_0x3d801e,_0x25ffe0=_0x3aaa93*0.4,_0x28e280=_0x3aaa93*0.6,_0xd6beee=_0x3cab2b*1.2,_0x5e11b0=_0x321b2a===_0x13e25e&&_0x3cab2b===0xb;function _0x4fb760(_0x4c4453,_0x1dfa5d,_0x5b4616,_0x5dea39){const _0x21513b=_0x530c,_0x424439=_0x4c4453[_0x21513b(0x3c1)]('\x20');let _0x11da79=[],_0x2a9dd1='';_0x424439[_0x21513b(0x3fd)](_0x1f2679=>{const _0x28ef3e=_0x21513b,_0x1732ee=_0x2a9dd1?_0x2a9dd1+'\x20'+_0x1f2679:_0x1f2679;if(_0x5b4616[_0x28ef3e(0x1be)](_0x1732ee,_0x5dea39)<=_0x1dfa5d)_0x2a9dd1=_0x1732ee;else{if(_0x2a9dd1)_0x11da79[_0x28ef3e(0x385)](_0x2a9dd1);_0x2a9dd1=_0x1f2679;}});if(_0x2a9dd1)_0x11da79[_0x21513b(0x385)](_0x2a9dd1);return _0x11da79;}let _0x2bc144=[];if(_0x5e11b0){const _0xc5b96b=_0x5c2a59[_0x5a40cb(0x31f)](/^(.*?)\s*(\([^)]*\))$/);_0xc5b96b?_0x2bc144=[{'quantity':_0xc5b96b[0x1][_0x5a40cb(0x49b)](),'unit':_0xc5b96b[0x2][_0x5a40cb(0x49b)]()}]:_0x2bc144=_0x4fb760(_0x5c2a59,_0x25ffe0,_0x321b2a,_0x3cab2b);}else _0x2bc144=_0x4fb760(_0x5c2a59,_0x25ffe0,_0x321b2a,_0x3cab2b);const _0x367be5=_0x4fb760(_0xf0d581,_0x28e280,_0x321b2a,_0x3cab2b),_0x26b39f=Math[_0x5a40cb(0x5a6)](_0x2bc144[_0x5a40cb(0x59a)],_0x367be5[_0x5a40cb(0x59a)]),_0x543bde=_0x2bc144[_0x5a40cb(0x59a)]*_0xd6beee,_0xe86019=_0x367be5['length']*_0xd6beee,_0xf0e11f=(_0x26b39f*_0xd6beee-_0x543bde)/0x2,_0x16ce86=(_0x26b39f*_0xd6beee-_0xe86019)/0x2;return _0x2bc144[_0x5a40cb(0x3fd)]((_0x2c1f56,_0x3241e9)=>{const _0x42d085=_0x5a40cb,_0x31972c=_0x4f5b58-_0xf0e11f-(_0x3241e9+0x1)*_0xd6beee;let _0x89cdbc;if(_0x5e11b0&&typeof _0x2c1f56==='object'&&_0x2c1f56[_0x42d085(0x3ba)]!==undefined){const _0x3a341f=_0x13e25e[_0x42d085(0x1be)](_0x2c1f56[_0x42d085(0x3ba)],0xb),_0x5b2fd7=_0x4b07c2[_0x42d085(0x1be)](_0x2c1f56['unit'],0x9),_0x20db75=0x2,_0x344a26=_0x3a341f+_0x20db75+_0x5b2fd7;_0x89cdbc=_0x3d801e+(_0x25ffe0-_0x344a26)/0x2,_0x5082fe[_0x42d085(0x2b3)](_0x2c1f56['quantity'],{'x':_0x89cdbc,'y':_0x31972c,'size':0xb,'font':_0x13e25e});const _0x23f495=0x2;_0x5082fe['drawText'](_0x2c1f56[_0x42d085(0x4e2)],{'x':_0x89cdbc+_0x3a341f+_0x20db75,'y':_0x31972c+(0xb-0x9)-_0x23f495,'size':0x9,'font':_0x4b07c2});}else{const _0x2c9466=_0x321b2a['widthOfTextAtSize'](_0x2c1f56,_0x3cab2b);_0x89cdbc=_0x3d801e+(_0x25ffe0-_0x2c9466)/0x2,_0x5082fe[_0x42d085(0x2b3)](_0x2c1f56,{'x':_0x89cdbc,'y':_0x31972c,'size':_0x3cab2b,'font':_0x321b2a});}}),_0x367be5[_0x5a40cb(0x3fd)]((_0x3a652a,_0x125e54)=>{const _0x4795e4=_0x5a40cb,_0x40b2e5=_0x4f5b58-_0x16ce86-(_0x125e54+0x1)*_0xd6beee;let _0x244a3b;if(_0x5e11b0)_0x244a3b=_0x3d801e+_0x25ffe0+0x5;else{const _0x13afeb=_0x321b2a[_0x4795e4(0x1be)](_0x3a652a,_0x3cab2b);_0x244a3b=_0x3d801e+_0x25ffe0+(_0x28e280-_0x13afeb)/0x2;}_0x5082fe[_0x4795e4(0x2b3)](_0x3a652a,{'x':_0x244a3b,'y':_0x40b2e5,'size':_0x3cab2b,'font':_0x321b2a});}),_0x4f5b58-_0x26b39f*_0xd6beee;}function _0x4c7142(_0x33c7f0,_0x1980a0,_0x3788d7,_0x276d0a){const _0x3d9f35=_0x138492,_0x38f27e=_0x33c7f0[_0x3d9f35(0x3c1)]('\x20');let _0x4bca7e=[],_0x46a681='';_0x38f27e[_0x3d9f35(0x3fd)](_0x3d7459=>{const _0x1a7966=_0x3d9f35,_0x588129=_0x46a681?_0x46a681+'\x20'+_0x3d7459:_0x3d7459;if(_0x3788d7['widthOfTextAtSize'](_0x588129,_0x276d0a)<=_0x1980a0)_0x46a681=_0x588129;else{if(_0x46a681)_0x4bca7e[_0x1a7966(0x385)](_0x46a681);_0x46a681=_0x3d7459;}});if(_0x46a681)_0x4bca7e[_0x3d9f35(0x385)](_0x46a681);return _0x4bca7e;}if(setTipOpeSales[_0x138492(0x30c)](_0x10b645=>_0x10b645==setTipoOperacion)||setTipOpePurchases[_0x138492(0x30c)](_0x347cc6=>_0x347cc6==setTipoOperacion)||setTipOpeQuotation[_0x138492(0x30c)](_0xccc867=>_0xccc867==setTipoOperacion)||_0xb86c8d==0x1){if(_0xb86c8d==0x1){if(setLogoUrl){const _0x3647bc=setLogoUrl['split'](',')[0x1],_0x3bf38d=Uint8Array[_0x138492(0x2a6)](atob(_0x3647bc),_0x27e87d=>_0x27e87d['charCodeAt'](0x0));let _0xafae3a;try{_0xafae3a=await _0x3dcdb4[_0x138492(0x5b7)](_0x3bf38d);}catch(_0x105ea6){try{_0xafae3a=await _0x3dcdb4[_0x138492(0x37d)](_0x3bf38d);}catch(_0x316c08){throw new Error(_0x138492(0x33e));}}const _0x49d988=_0x3c67b1*0.5,_0xf3aedc=_0xafae3a['width'],_0xfe0956=_0x49d988/_0xf3aedc,_0x1cc197=_0xafae3a[_0x138492(0x5a8)](_0xfe0956),_0x3ee424=(_0x3c67b1-_0x1cc197[_0x138492(0x6b0)])/0x2,_0x4ab74c=_0x2a7b2d-_0x1cc197[_0x138492(0x2bb)];_0x1d690c['drawImage'](_0xafae3a,{'x':_0x3ee424,'y':_0x4ab74c,'width':_0x1cc197['width'],'height':_0x1cc197[_0x138492(0x2bb)]}),_0x2a7b2d=_0x4ab74c;}}if(_0xb86c8d!=0x1){if(setLogoUrl){const _0x172ee2=setLogoUrl[_0x138492(0x3c1)](',')[0x1],_0x3281ca=Uint8Array[_0x138492(0x2a6)](atob(_0x172ee2),_0x52e65f=>_0x52e65f[_0x138492(0x3d0)](0x0));let _0x12e73f;try{_0x12e73f=await _0x3dcdb4['embedPng'](_0x3281ca);}catch(_0x4efe76){try{_0x12e73f=await _0x3dcdb4[_0x138492(0x37d)](_0x3281ca);}catch(_0x3d9747){throw new Error(_0x138492(0x33e));}}const _0x668d05=_0x3c67b1*0.5,_0x37f527=_0x12e73f[_0x138492(0x6b0)],_0x144e38=_0x668d05/_0x37f527,_0x190f40=_0x12e73f['scale'](_0x144e38),_0x19f322=(_0x3c67b1-_0x190f40[_0x138492(0x6b0)])/0x2,_0x435af8=_0x2a7b2d-_0x190f40['height'];_0x1d690c[_0x138492(0x160)](_0x12e73f,{'x':_0x19f322,'y':_0x435af8,'width':_0x190f40['width'],'height':_0x190f40[_0x138492(0x2bb)]}),_0x2a7b2d=_0x435af8-_0x559f0c-0x5;}setEmpresaNombre&&(_0x2a7b2d=_0xc077f2(setEmpresaNombre,_0x2a7b2d,_0x13e25e,0xb,'center')),_0x315197&&(_0x2a7b2d=_0xc077f2(_0x315197,_0x2a7b2d,_0x4b07c2,0x8,'center')),setEmpresaEmail&&(_0x2a7b2d=_0xc077f2(setEmpresaEmail,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e))),setEmpresaTelefono&&(_0x2a7b2d=_0xc077f2(setEmpresaTelefono,_0x2a7b2d,_0x4b07c2,0x8,'center')),setEmpresaSitioWeb&&(_0x2a7b2d=_0xc077f2(setEmpresaSitioWeb,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e)));}_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;if(setEmpresaRuc){const _0x45c990=_0x4b07c2[_0x138492(0x1be)](_0x846561+':\x20'+setEmpresaRuc,0xb),_0x565358=(_0x3c67b1-_0x45c990)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x846561+':\x20'+setEmpresaRuc,{'x':_0x565358,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=0x9;}_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;if(_0xb86c8d==0x1){const _0x23baa2=_0x4b07c2[_0x138492(0x1be)](_0x138492(0x619),0xb),_0x5034de=(_0x3c67b1-_0x23baa2)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x138492(0x619),{'x':_0x5034de,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=0x9;}else{const _0x5c19b9=_0x4b07c2[_0x138492(0x1be)](_0x5d23e6[_0x138492(0x667)](),0xb),_0x5c61c7=(_0x3c67b1-_0x5c19b9)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x5d23e6['toUpperCase'](),{'x':_0x5c61c7,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e});if(setSerie&&setCorrelativo){_0x2a7b2d-=_0x559f0c;const _0x356552=_0x4b07c2[_0x138492(0x1be)](setSerie[_0x138492(0x667)]()+'\x20-\x20'+setCorrelativo,0xb),_0x531d8a=(_0x3c67b1-_0x356552)/0x2;_0x1d690c['drawText'](setSerie[_0x138492(0x667)]()+_0x138492(0x1ac)+setCorrelativo,{'x':_0x531d8a,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e});}_0x2a7b2d-=0x9;}_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;if(_0xb86c8d==0x1){const _0x161d13=_0x4b07c2[_0x138492(0x1be)](_0x2935ee,0xb),_0x564304=(_0x3c67b1-_0x161d13)/0x2;_0x1d690c['drawText'](_0x2935ee,{'x':_0x564304,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=0x9,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;}const _0x202080=(_0x3c67b1-_0x3137f8*0x2)*0.6;_0xb86c8d!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x2a7b2d=_0x3b5f6a(setClienteTipoDoc,setClienteNumDoc,_0x2a7b2d,_0x4b07c2,0x9,_0x202080)),setClienteDenominacion&&(_0x2a7b2d=_0x3b5f6a(_0x596588,setClienteDenominacion,_0x2a7b2d,_0x4b07c2,0x9,_0x202080)),setClienteDireccion&&(_0x2a7b2d=_0x3b5f6a(_0x138492(0x657),setClienteDireccion,_0x2a7b2d,_0x4b07c2,0x9,_0x202080)),_0x3a11e8&&(_0x2a7b2d=_0x3b5f6a(_0x138492(0x672),_0x3a11e8,_0x2a7b2d,_0x4b07c2,0x9,_0x202080)),_0x326ce4&&(_0x2a7b2d=_0x3b5f6a('Email',_0x326ce4,_0x2a7b2d,_0x4b07c2,0x9,_0x202080)));_0x13ce2b&&(_0x2a7b2d=_0x3b5f6a(_0x138492(0x2e7),_0x13ce2b,_0x2a7b2d,_0x4b07c2,0x9,_0x202080));_0x1fd153&&(_0x2a7b2d=_0x3b5f6a(_0x138492(0x465),_0x1fd153,_0x2a7b2d,_0x4b07c2,0x9,_0x202080));_0xb86c8d==0x1&&(_0x2a7b2d=_0x3b5f6a(_0x208c0d,_0x5c0721,_0x2a7b2d,_0x4b07c2,0x9,_0x202080),_0x2a7b2d=_0x3b5f6a(_0x2ce379,_0x1f1498,_0x2a7b2d,_0x4b07c2,0x9,_0x202080));_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=_0x559f0c;const _0x3a291c=['DESCRIPCIÓN','CANT',_0x138492(0x3e1),_0x138492(0x671)];_0x2a7b2d=_0x55256f(_0x3a291c,[],_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0x8,!![]),_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=_0x559f0c;if(_0x42b96d==0x1){const _0x38d361=[_0x138492(0x1b0),_0x138492(0x539),parseFloat(_0x4ad0e6)['toFixed'](0x2),parseFloat(_0x4ad0e6)[_0x138492(0x312)](0x2)];_0x2a7b2d=_0x55256f([],_0x38d361,_0x2a7b2d,_0x4b07c2,0x7,_0x3c67b1,_0x3137f8,0xa,![]),_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d+_0x559f0c);}else setProductos[_0x138492(0x3fd)]((_0x3cfcdc,_0x52b60c)=>{const _0x53fa7e=_0x138492;let {setDescripcion:_0x5859f4,setCantidad:_0x1996f5,setMtoPrecioUnitario:_0x5be390,setTotal:_0x24c349,setDescuento:_0x2cffec,setMtoPrecioUnitario_final:_0x439e3b,setUnidad:_0x274159,setTipAfeIgv:_0x202d15,setNotas:_0x2fc1e0,setItemDescription:_0x5546d7,setMarca:_0x5bf710}=_0x3cfcdc;_0x2cffec[_0x53fa7e(0x66c)]>0x0&&(_0x5859f4+='\x20('+_0x2cffec[_0x53fa7e(0x66c)]+_0x53fa7e(0x5e6)+_0x222312+parseFloat(_0x439e3b)['toFixed'](0x2)+')');(setTipAfeImpGravadosGrat[_0x53fa7e(0x30c)](_0x3bb37c=>_0x3bb37c==_0x202d15)||setTipAfeImpInafectosGrat[_0x53fa7e(0x30c)](_0x4958a0=>_0x4958a0==_0x202d15)||setTipAfeImpExoneradosGrat[_0x53fa7e(0x30c)](_0x5ef092=>_0x5ef092==_0x202d15))&&(_0x5be390=_0x439e3b,setTipAfeImpGravadosGrat[_0x53fa7e(0x30c)](_0x3da3da=>_0x3da3da==_0x202d15)&&(_0x5859f4+=_0x53fa7e(0x6bd)),setTipAfeImpExoneradosGrat[_0x53fa7e(0x30c)](_0x29bf85=>_0x29bf85==_0x202d15)&&(_0x5859f4+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x53fa7e(0x30c)](_0xff836b=>_0xff836b==_0x202d15)&&(_0x5859f4+=_0x53fa7e(0x30d)));let _0x5682c9=products[_0x53fa7e(0x4bd)](_0x2249f2=>_0x2249f2['id']==_0x3cfcdc[_0x53fa7e(0x2d4)]);_0x18aa13==0x1&&_0x5682c9&&_0x5682c9['setBatchName']&&(_0x5859f4+=_0x53fa7e(0x413)+_0x5682c9['setBatchName']);_0x4b382f==0x1&&_0x5682c9&&_0x5682c9[_0x53fa7e(0x342)]&&(_0x5859f4+=_0x53fa7e(0x61e)+_0x5682c9[_0x53fa7e(0x342)]);_0x1996f5+='\x20('+_0x274159+')';const _0x2b0f8a=[_0x5859f4,_0x1996f5,parseFloat(_0x5be390)[_0x53fa7e(0x312)](0x2),_0x24c349[_0x53fa7e(0x312)](0x2)];_0x2a7b2d=_0x55256f([],_0x2b0f8a,_0x2a7b2d,_0x4b07c2,0x7,_0x3c67b1,_0x3137f8,0xa,![]);if(_0x5dbfb1==0x1&&_0x5546d7!=''){const _0xe9b47e=_0x2fc1e0['trim']()?'\x0a':'';_0x2fc1e0+=_0xe9b47e+_0x53fa7e(0x3d9)+_0x5546d7;}if(_0x1cee7a==0x1&&_0x5bf710!=''){const _0x97cd6e=_0x2fc1e0[_0x53fa7e(0x49b)]()?'\x0a':'';_0x2fc1e0+=_0x97cd6e+_0x53fa7e(0x185)+_0x5bf710;}const _0x5351d7=_0x3c67b1-0x2*_0x3137f8,_0x523582=_0x5351d7*0.4;if(_0x2fc1e0){const _0x566425=0x7,_0x495bb6=_0x3137f8,_0x2b2341=_0x523582,_0x3e8cbc=_0x566425*1.2,_0x24fdd9=_0x2fc1e0['split'](/\r?\n/);let _0xd510e6=[];_0x24fdd9[_0x53fa7e(0x3fd)](_0x96626b=>{const _0x346169=_0x53fa7e,_0x346c87=_0x4c7142('*\x20'+_0x96626b,_0x2b2341,_0x4b07c2,_0x566425);_0xd510e6=_0xd510e6[_0x346169(0x483)](_0x346c87);}),_0xd510e6['forEach']((_0x4e6992,_0x236133)=>{const _0x14e66f=_0x53fa7e,_0x1e8c55=_0x2a7b2d+0xf-(_0x236133+0x1)*_0x3e8cbc;_0x1d690c[_0x14e66f(0x2b3)](_0x4e6992,{'x':_0x495bb6,'y':_0x1e8c55,'size':_0x566425,'font':_0x4b07c2});}),_0x2a7b2d-=_0xd510e6['length']*_0x3e8cbc+0x5;}_0x4788f1(_0x3137f8,_0x3c67b1-_0x3137f8,_0x2a7b2d+_0x559f0c);});_0x2a7b2d-=0x5;parseFloat(_0x3a08e5)>0x0&&(_0x2a7b2d=_0x5783da(_0x138492(0x37c),_0x222312+'\x20'+_0x3a08e5,_0x2a7b2d,_0x4b07c2,0x7));parseFloat(_0x3bd3d8)>0x0&&(_0x2a7b2d=_0x5783da(_0x138492(0x227),_0x222312+'\x20'+_0x3bd3d8,_0x2a7b2d,_0x4b07c2,0x7));!setTipOpeExo[_0x138492(0x30c)](_0x50c9cd=>_0x50c9cd==setTipoOperacion)&&_0xb86c8d!=0x1&&(parseFloat(_0x4d3bc0)>0x0&&(_0x2a7b2d=_0x5783da('OP.\x20GRAVADAS',_0x222312+'\x20'+_0x4d3bc0,_0x2a7b2d,_0x4b07c2,0x7)),parseFloat(_0x313a84)>0x0&&(_0x2a7b2d=_0x5783da(_0x138492(0x119),_0x222312+'\x20'+_0x313a84,_0x2a7b2d,_0x4b07c2,0x7)),parseFloat(_0x42d6b8)>0x0&&(_0x2a7b2d=_0x5783da(_0x138492(0x2f3),_0x222312+'\x20'+_0x42d6b8,_0x2a7b2d,_0x4b07c2,0x7)),parseFloat(_0x2106d1)>0x0&&(_0x2a7b2d=_0x5783da('OP.\x20GRATUITAS',_0x222312+'\x20'+_0x2106d1,_0x2a7b2d,_0x4b07c2,0x7)),parseFloat(_0x52b419)>0x0&&(_0x2a7b2d=_0x5783da('IGV\x20GRATUITAS',_0x222312+'\x20'+_0x52b419,_0x2a7b2d,_0x4b07c2,0x7)),_0x2a7b2d=_0x5783da('SUBTOTAL',_0x222312+'\x20'+_0x30425b,_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d=_0x5783da(_0x138492(0x452),_0x222312+'\x20'+_0x43aaf0,_0x2a7b2d,_0x4b07c2,0x7));_0x2a7b2d=_0x5783da(_0x138492(0x1aa),_0x222312+'\x20'+_0x4ad0e6,_0x2a7b2d,_0x13e25e,0x8);if(_0xb86c8d!=0x1){if(_0x4eb5f4==0x1){_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;const _0x26a8d5=_0x138492(0x383),_0xdc3f05=_0x4b07c2['widthOfTextAtSize'](_0x26a8d5,0x8),_0x2a6b27=(_0x3c67b1-_0xdc3f05)/0x2;_0x1d690c['drawText'](_0x26a8d5,{'x':_0x2a6b27,'y':_0x2a7b2d,'size':0x8,'font':_0x13e25e}),_0x2a7b2d-=_0x559f0c+0x5,_0x2a7b2d=_0xc077f2(_0x138492(0x5fa)+_0x33d570+'\x20'+_0x8f3cd1,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e)),_0x2a7b2d-=0x5,_0x2a7b2d=_0x5783da('DETRACCIÓN\x20('+_0x19afe8+'%)',_0x222312+'\x20'+_0x3e4e89,_0x2a7b2d,_0x4b07c2,0x7);}_0x159456==0x1&&(_0x2a7b2d=_0x5783da(_0x138492(0x47a)+_0x527f04+'%)',_0x222312+'\x20'+_0x3386d0,_0x2a7b2d,_0x4b07c2,0x7));_0x203d34==0x1&&(_0x2a7b2d=_0x5783da(_0x138492(0x6d2)+_0x3f6f0c+'%)',_0x222312+'\x20'+_0x3c8e79,_0x2a7b2d,_0x4b07c2,0x7));if(_0x1dc2fc&&_0x1dc2fc['status']==!![]||_0x4d23b6&&_0x4d23b6['status']==!![]){_0x2a7b2d-=_0x559f0c,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d+_0x559f0c),_0x2a7b2d=_0xc077f2(_0x138492(0x32f),_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d-=0x5;for(let _0x2437ab in _0x1dc2fc[_0x138492(0x471)]){const _0x222f2=_0x1dc2fc[_0x138492(0x471)][_0x2437ab];if(_0x222f2&&typeof _0x222f2==_0x138492(0x3c3)&&_0x138492(0x436)in _0x222f2){const _0x5ea2e7=parseFloat(_0x222f2[_0x138492(0x4e0)]);if(_0x5ea2e7>0x0){_0x2a7b2d=_0x5783da(_0x2437ab[_0x138492(0x667)](),_0x222312+'\x20'+_0x5ea2e7['toFixed'](0x2),_0x2a7b2d,_0x4b07c2,0x7);if(_0x138492(0x251)in _0x222f2&&_0x138492(0x30e)in _0x222f2){const _0x4cf1d0=_0x222f2['porcentaje_comision'],_0x46fe4f=parseFloat(_0x222f2[_0x138492(0x30e)]);_0x4cf1d0!==undefined&&_0x46fe4f!==undefined&&(_0x2a7b2d=_0x5783da(_0x138492(0x4a5)+_0x4cf1d0+'%)',_0x222312+'\x20'+_0x46fe4f[_0x138492(0x312)](0x2),_0x2a7b2d,_0x4b07c2,0x7));}if(_0x222f2[_0x138492(0x329)]&&_0x222f2[_0x138492(0x329)]!='0'){const _0x244051=myCompany[_0x138492(0x6ce)][_0x138492(0x4bd)](_0x5c8b87=>_0x5c8b87[_0x138492(0x2bf)]==_0x222f2[_0x138492(0x329)]);_0x244051&&(_0x2a7b2d=_0x5783da(_0x138492(0x6cd)+_0x244051[_0x138492(0x397)],'',_0x2a7b2d,_0x4b07c2,0x7));}_0x222f2[_0x138492(0x516)]&&(_0x2a7b2d=_0x5783da(_0x138492(0x157)+_0x222f2[_0x138492(0x516)],'',_0x2a7b2d,_0x4b07c2,0x7));}}}const _0x147e49=_0x1dc2fc[_0x138492(0x471)][_0x138492(0x42c)];parseFloat(_0x147e49)>0x0&&(_0x2a7b2d=_0x5783da('Vuelto:',_0x222312+'\x20'+_0x147e49,_0x2a7b2d,_0x4b07c2,0x7));}if(_0x4b7c80&&_0x4b7c80['status']==!![]||_0x4d23b6&&_0x4d23b6[_0x138492(0x3c5)]==!![]){if(Array[_0x138492(0x54f)](_0x4b7c80[_0x138492(0x471)])&&_0x4b7c80['data']['length']>0x0){_0x2a7b2d-=_0x559f0c,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d+_0x559f0c),_0x2a7b2d=_0xc077f2(_0x138492(0x110),_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d-=0x5;let _0x18bea1;_0x4b7c80[_0x138492(0x3c5)]==!![]?_0x18bea1=parseFloat(_0x4ad0e6):_0x18bea1=_0x1dc2fc['data'][_0x138492(0x453)],_0x2a7b2d=_0x5783da(_0x138492(0x530),_0x222312+'\x20'+_0x18bea1,_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d=_0x5783da(_0x138492(0x692),_0x4b7c80['data'][_0x138492(0x59a)]+_0x138492(0x46a),_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d=_0xc077f2('Cronograma\x20de\x20Pagos',_0x2a7b2d,_0x4b07c2,0x7),_0x2a7b2d-=0x5,_0x4b7c80['data'][_0x138492(0x3fd)](_0x318568=>{const _0x4c6e41=_0x138492;_0x2a7b2d=_0x5783da('Cuota\x20'+_0x318568[_0x4c6e41(0x583)],_0x318568[_0x4c6e41(0x4b7)]+_0x4c6e41(0x413)+parseFloat(_0x318568['monto'])[_0x4c6e41(0x312)](0x2),_0x2a7b2d,_0x4b07c2,0x7);});}}}_0x2a7b2d-=_0x559f0c,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d+_0x559f0c),_0x2a7b2d-=0x5;_0x3d15af&&(_0x2a7b2d=_0xc077f2(_0x3d15af,_0x2a7b2d,_0x13e25e,0x8,_0x138492(0x63e)));if(_0xb86c8d!=0x1){const _0x55bf55=_0x138492(0x1fa);if(setObservacion){_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;const _0x365f94=_0x4b07c2['widthOfTextAtSize'](_0x55bf55,0x8),_0x2216ae=(_0x3c67b1-_0x365f94)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x55bf55,{'x':_0x2216ae,'y':_0x2a7b2d,'size':0x8,'font':_0x13e25e}),_0x2a7b2d-=_0x559f0c,_0x2a7b2d=_0xc077f2(setObservacion,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e));}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;const _0x2a4720=_0x138492(0x62d),_0x4eecf5=_0x4b07c2[_0x138492(0x1be)](_0x2a4720,0x7),_0x49bdac=(_0x3c67b1-_0x4eecf5)/0x2;_0x1d690c['drawText'](_0x2a4720,{'x':_0x49bdac,'y':_0x2a7b2d,'size':0x7,'font':_0x4b07c2}),_0x2a7b2d-=0x9;const _0xafda89='RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x5e2d2b=_0x4b07c2[_0x138492(0x1be)](_0xafda89,0x7),_0x34fe0a=(_0x3c67b1-_0x5e2d2b)/0x2;_0x1d690c[_0x138492(0x2b3)](_0xafda89,{'x':_0x34fe0a,'y':_0x2a7b2d,'size':0x7,'font':_0x4b07c2}),_0x2a7b2d-=0x9;const _0x2dba65=_0x138492(0x4d6),_0x1062a6=_0x4b07c2[_0x138492(0x1be)](_0x2dba65,0x7),_0x3ab40a=(_0x3c67b1-_0x1062a6)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x2dba65,{'x':_0x3ab40a,'y':_0x2a7b2d,'size':0x7,'font':_0x4b07c2}),_0x2a7b2d-=0x9;const _0x4038b3=_0x138492(0x2c9),_0x584ad9=_0x4b07c2[_0x138492(0x1be)](_0x4038b3,0x7),_0x1a4420=(_0x3c67b1-_0x584ad9)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x4038b3,{'x':_0x1a4420,'y':_0x2a7b2d,'size':0x7,'font':_0x4b07c2}),_0x2a7b2d-=0x9;const _0x22b03e=_0x138492(0x4f5),_0x47e553=_0x4b07c2['widthOfTextAtSize'](_0x22b03e,0x7),_0x3d2328=(_0x3c67b1-_0x47e553)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x22b03e,{'x':_0x3d2328,'y':_0x2a7b2d,'size':0x7,'font':_0x4b07c2}),_0x2a7b2d-=0x9;const _0xd772f9=setUrlConsultasCpe,_0x296582=_0x4b07c2[_0x138492(0x1be)](_0xd772f9,0x7),_0x21eca7=(_0x3c67b1-_0x296582)/0x2;_0x1d690c[_0x138492(0x2b3)](_0xd772f9,{'x':_0x21eca7,'y':_0x2a7b2d,'size':0x7,'font':_0x13e25e}),_0x2a7b2d-=0x9;const _0x206d44=[setEmpresaRuc,setSerie,setCorrelativo,_0x4d3bc0>0x0?_0x4d3bc0:null,_0x313a84>0x0?_0x313a84:null,_0x42d6b8>0x0?_0x42d6b8:null,_0x2106d1>0x0?_0x2106d1:null,_0x43aaf0>0x0?_0x43aaf0:null,_0x4ad0e6>0x0?_0x4ad0e6:null,setClienteNumDoc],_0x3d8894=_0x206d44[_0x138492(0x5a3)](_0x3f8839=>_0x3f8839!==null)[_0x138492(0x61a)]('|'),_0x245c82=document[_0x138492(0x6c7)]('div'),_0x540aeb=new QRCode(_0x245c82,{'text':_0x3d8894,'width':0x80,'height':0x80,'colorDark':'#000000','colorLight':_0x138492(0x5e4),'correctLevel':QRCode[_0x138492(0x3b9)]['H']});await new Promise(_0x485228=>setTimeout(_0x485228,0x1f4));const _0x58f172=_0x245c82[_0x138492(0x53a)](_0x138492(0x60f)),_0x6710bd=_0x58f172[_0x138492(0x4c7)]('image/png'),_0x509c9e=atob(_0x6710bd[_0x138492(0x3c1)](',')[0x1]),_0x599082=Uint8Array[_0x138492(0x2a6)](_0x509c9e,_0x28bc53=>_0x28bc53[_0x138492(0x3d0)](0x0)),_0x4f6b50=await _0x3dcdb4[_0x138492(0x5b7)](_0x599082),_0x41cf3d=_0x4f6b50[_0x138492(0x5a8)](0.6),_0x20def2=(_0x3c67b1-_0x41cf3d[_0x138492(0x6b0)])/0x2,_0x3fde7b=_0x2a7b2d-_0x41cf3d[_0x138492(0x2bb)];_0x1d690c['drawImage'](_0x4f6b50,{'x':_0x20def2,'y':_0x3fde7b,'width':_0x41cf3d['width'],'height':_0x41cf3d['height']}),_0x2a7b2d=_0x3fde7b-_0x559f0c;}}_0xb86c8d==0x1&&(_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c,_0x2a7b2d=_0x3b5f6a(_0x138492(0x37a),_0x138492(0x1a1),_0x2a7b2d,_0x4b07c2,0x9,_0x202080),_0x2a7b2d=_0x3b5f6a(_0x138492(0x32b),_0x138492(0x1a1),_0x2a7b2d,_0x4b07c2,0x9,_0x202080),_0x2a7b2d=_0x3b5f6a(_0x138492(0x657),'................................................',_0x2a7b2d,_0x4b07c2,0x9,_0x202080),_0x2a7b2d-=0x5),_0xb86c8d!=0x1&&(setTipOpeSales[_0x138492(0x30c)](_0x3d11a5=>_0x3d11a5==setTipoOperacion)&&(_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c,_0x1811aa!=_0x52e34b?(_0x2a7b2d=_0xc077f2(_0x3ebb95,_0x2a7b2d,_0x13e25e,0x8,'center'),_0x2a7b2d=_0xc077f2(_0x1f1498,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e)),_0x2a7b2d=_0xc077f2(_0x2b30a5,_0x2a7b2d,_0x13e25e,0x8,_0x138492(0x63e)),_0x2a7b2d=_0xc077f2(_0x19c4f3,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e))):(_0x2a7b2d=_0xc077f2(_0x5f0b5e,_0x2a7b2d,_0x13e25e,0x8,'center'),_0x2a7b2d=_0xc077f2(_0x19c4f3,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e)))),setTipOpeQuotation[_0x138492(0x30c)](_0xb2a1cd=>_0xb2a1cd==setTipoOperacion)&&(_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c,_0x2a7b2d=_0xc077f2(_0x3ebb95,_0x2a7b2d,_0x13e25e,0x8,'center'),_0x2a7b2d=_0xc077f2(_0x1f1498,_0x2a7b2d,_0x4b07c2,0x8,_0x138492(0x63e))),setFooter&&setTipOpeSales[_0x138492(0x30c)](_0x14bedc=>_0x14bedc==setTipoOperacion)&&(_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c,_0x2a7b2d=_0xc077f2(setFooter,_0x2a7b2d,_0x13e25e,0x8,_0x138492(0x63e))));}else{if(setTipOpeOrders['some'](_0x594503=>_0x594503==setTipoOperacion)){if(setLogoUrl){const _0x2aa39e=setLogoUrl[_0x138492(0x3c1)](',')[0x1],_0x26d766=Uint8Array[_0x138492(0x2a6)](atob(_0x2aa39e),_0x3b410d=>_0x3b410d['charCodeAt'](0x0));let _0x249561;try{_0x249561=await _0x3dcdb4['embedPng'](_0x26d766);}catch(_0x59cd8a){try{_0x249561=await _0x3dcdb4[_0x138492(0x37d)](_0x26d766);}catch(_0x51faa5){throw new Error(_0x138492(0x33e));}}const _0x4c3e07=_0x3c67b1*0.5,_0x94199a=_0x249561[_0x138492(0x6b0)],_0x368560=_0x4c3e07/_0x94199a,_0x554d1a=_0x249561[_0x138492(0x5a8)](_0x368560),_0xee466c=(_0x3c67b1-_0x554d1a[_0x138492(0x6b0)])/0x2,_0x161f0a=_0x2a7b2d-_0x554d1a['height'];_0x1d690c['drawImage'](_0x249561,{'x':_0xee466c,'y':_0x161f0a,'width':_0x554d1a[_0x138492(0x6b0)],'height':_0x554d1a[_0x138492(0x2bb)]}),_0x2a7b2d=_0x161f0a;}_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;const _0x41d714=_0x4b07c2['widthOfTextAtSize'](_0x5d23e6[_0x138492(0x667)]()+'\x20-\x20'+setSerie['toUpperCase'](),0xb),_0x5c123f=(_0x3c67b1-_0x41d714)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x5d23e6[_0x138492(0x667)]()+_0x138492(0x1ac)+setSerie['toUpperCase'](),{'x':_0x5c123f,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=_0x559f0c;const _0x2b8fb8=_0x4b07c2[_0x138492(0x1be)](_0x138492(0x15f)+setCorrelativo,0xb),_0x1768c7=(_0x3c67b1-_0x2b8fb8)/0x2;_0x1d690c['drawText'](_0x138492(0x15f)+setCorrelativo,{'x':_0x1768c7,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=0x9,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5+_0x559f0c;const _0x12c0d5=_0x4b07c2[_0x138492(0x1be)](_0x2935ee+'\x20-\x20'+_0x5c0721,0xb),_0x58811e=(_0x3c67b1-_0x12c0d5)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x2935ee+_0x138492(0x1ac)+_0x5c0721,{'x':_0x58811e,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=_0x559f0c;const _0x1c8b40=_0x4b07c2['widthOfTextAtSize']('Mozo:\x20'+_0x1f1498,0xb),_0x3afe2d=(_0x3c67b1-_0x1c8b40)/0x2;_0x1d690c[_0x138492(0x2b3)](_0x138492(0x221)+_0x1f1498,{'x':_0x3afe2d,'y':_0x2a7b2d,'size':0xb,'font':_0x13e25e}),_0x2a7b2d-=0x9,_0x4788f1(_0x3137f8,_0xa6019a-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5,_0x2a7b2d=_0xa697ab(_0x1d690c,_0x138492(0x46c),_0x138492(0x3a9),_0x2a7b2d,_0x4b07c2,0x9,_0x3c67b1,_0x3137f8),_0x2a7b2d-=0x5,_0x4788f1(_0x3137f8,_0x3c67b1-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5,setProductos[_0x138492(0x3fd)]((_0x53c9bb,_0x3411e3)=>{const _0x32261c=_0x138492;let {setDescripcion:_0x30eac5,setCantidad:_0xc7f4e9,setMtoPrecioUnitario:_0x305c3e,setTotal:_0x21808b,setDescuento:_0x398db4,setMtoPrecioUnitario_final:_0x348c07,setUnidad:_0x303ff4,setTipAfeIgv:_0x20d981,setNotas:_0xccf23d}=_0x53c9bb,_0x1e6a98=products[_0x32261c(0x4bd)](_0xda650c=>_0xda650c['id']==_0x53c9bb[_0x32261c(0x2d4)]);_0x18aa13==0x1&&_0x1e6a98&&_0x1e6a98[_0x32261c(0x6de)]&&(_0x30eac5+=_0x32261c(0x413)+_0x1e6a98[_0x32261c(0x6de)]);_0x4b382f==0x1&&_0x1e6a98&&_0x1e6a98[_0x32261c(0x342)]&&(_0x30eac5+=_0x32261c(0x61e)+_0x1e6a98['setBatchExpirationDate']);_0xc7f4e9+='\x20('+_0x303ff4+')';const _0x28e4fe=0x2;_0x2a7b2d-=_0x28e4fe,_0x2a7b2d=_0xa697ab(_0x1d690c,_0xc7f4e9,_0x30eac5,_0x2a7b2d,_0x13e25e,0xb,_0x3c67b1,_0x3137f8);if(_0xccf23d){const _0x1de668=0x9,_0x5247c1=_0x3c67b1-0x2*_0x3137f8,_0x520a4f=_0x5247c1*0.4,_0x7b5a5e=_0x5247c1*0.6,_0x26ca12=_0x3137f8+_0x520a4f+0x5,_0x51a1bc=_0x1de668*1.2,_0xbd0cae=_0xccf23d,_0x51ac67=_0xbd0cae[_0x32261c(0x3c1)](/\r?\n/);let _0xe44248=[];_0x51ac67[_0x32261c(0x3fd)](_0xf9c05e=>{const _0xc82991=_0x32261c,_0xb6b1f4=_0x4c7142(_0xc82991(0x1c1)+_0xf9c05e,_0x7b5a5e-0x5,_0x4b07c2,_0x1de668);_0xe44248=_0xe44248[_0xc82991(0x483)](_0xb6b1f4);}),_0xe44248[_0x32261c(0x3fd)]((_0x48bba0,_0x36b935)=>{const _0x2bbab1=_0x32261c,_0xcfa2b0=_0x2a7b2d-(_0x36b935+0x1)*_0x51a1bc;_0x1d690c[_0x2bbab1(0x2b3)](_0x48bba0,{'x':_0x26ca12,'y':_0xcfa2b0,'size':_0x1de668,'font':_0x4b07c2});}),_0x2a7b2d-=_0xe44248['length']*_0x51a1bc;}_0x2a7b2d-=_0x559f0c,_0x4788f1(_0x3137f8,_0x3c67b1-_0x3137f8,_0x2a7b2d),_0x2a7b2d-=0x5;}),_0x2a7b2d-=_0x559f0c;const _0x24f4c4=(_0x3c67b1-_0x3137f8*0x2)*0.6;_0x13ce2b&&(_0x2a7b2d=_0x3b5f6a('Fecha',_0x13ce2b,_0x2a7b2d,_0x13e25e,0xb,_0x24f4c4)),_0x1fd153&&(_0x2a7b2d=_0x3b5f6a('Hora',_0x1fd153,_0x2a7b2d,_0x13e25e,0xb,_0x24f4c4)),setClienteDenominacion&&(_0x2a7b2d=_0x3b5f6a(_0x596588,setClienteDenominacion[_0x138492(0x69d)]()[_0x138492(0x6b1)](/(^|\s)\S/g,_0x16c728=>_0x16c728['toUpperCase']()),_0x2a7b2d,_0x13e25e,0xb,_0x24f4c4));}}}else{if(_0x5c8602=='a4'){const _0x2fbb6b=(_0x5b034b,_0x27ee86,_0x409566)=>{const _0x206ff0=_0x138492;if(!_0x5b034b)return console['error'](_0x206ff0(0x144)),0x0;return _0x5b034b[_0x206ff0(0x1be)](_0x27ee86,_0x409566);},_0x480577=(_0x52f1cd,_0x221d1b,_0x138e87,_0x5cd457,_0x56c972,_0x104e29,_0x1515e8,_0x1a1ae0,_0x126c88=_0x258a20)=>{const _0x25d61a=_0x138492;if(!_0x104e29)return console[_0x25d61a(0x65e)](_0x25d61a(0x6e0)),_0x138e87;const _0x4b6002=_0x52f1cd[_0x25d61a(0x3c1)]('\x20');let _0x59ebf4='',_0x4b8f2b=_0x138e87;for(let _0x2bd222=0x0;_0x2bd222<_0x4b6002[_0x25d61a(0x59a)];_0x2bd222++){const _0x15d608=_0x59ebf4+(_0x59ebf4?'\x20':'')+_0x4b6002[_0x2bd222],_0x1bd54e=_0x104e29['widthOfTextAtSize'](_0x15d608,_0x1515e8);_0x1bd54e>_0x5cd457?(_0x1d690c[_0x25d61a(0x2b3)](_0x59ebf4,{'x':_0x221d1b,'y':_0x4b8f2b,'size':_0x1515e8,'font':_0x104e29,'color':_0x126c88}),_0x4b8f2b-=_0x1a1ae0,_0x59ebf4=_0x4b6002[_0x2bd222]):_0x59ebf4=_0x15d608;}return _0x59ebf4&&(_0x1d690c[_0x25d61a(0x2b3)](_0x59ebf4,{'x':_0x221d1b,'y':_0x4b8f2b,'size':_0x1515e8,'font':_0x104e29,'color':_0x126c88}),_0x4b8f2b-=_0x1a1ae0),_0x4b8f2b;},_0x4b9348=(_0x449538,_0x212fdb,_0x2e12d3,_0xa1b22d,_0x507092,_0x55032e,_0x536257=0x9,_0x329489=0x3)=>{const _0x101520=_0x138492,_0x3a56d8=_0x55032e/0x2;_0x1d690c[_0x101520(0x203)]({'x':_0x2e12d3,'y':_0xa1b22d+_0x3a56d8,'width':_0x507092-_0x329489,'height':_0x3a56d8,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1});const _0x233383=_0x2fbb6b(_0x4b07c2,_0x449538,_0x536257),_0x133584=_0x2e12d3+(_0x507092-_0x329489-_0x233383)/0x2,_0x4bb726=_0xa1b22d+_0x3a56d8+(_0x3a56d8-_0x536257)/0x2;_0x1d690c[_0x101520(0x2b3)](_0x449538,{'x':_0x133584,'y':_0x4bb726,'size':_0x536257,'font':_0x4b07c2,'color':_0x468ea5}),_0x1d690c[_0x101520(0x203)]({'x':_0x2e12d3,'y':_0xa1b22d,'width':_0x507092-_0x329489,'height':_0x3a56d8,'color':_0x468ea5,'borderColor':_0x560aec,'borderWidth':0x1});const _0x5db6b4=_0x2fbb6b(_0x4b07c2,_0x212fdb,_0x536257),_0x1e9b3a=_0x2e12d3+(_0x507092-_0x329489-_0x5db6b4)/0x2,_0x5d6b99=_0xa1b22d+(_0x3a56d8-_0x536257)/0x2;_0x1d690c[_0x101520(0x2b3)](_0x212fdb,{'x':_0x1e9b3a,'y':_0x5d6b99,'size':_0x536257,'font':_0x4b07c2,'color':_0x258a20});},_0x463b2d=(_0x482c89,_0x49b4ab,_0x236094,_0x17624d,_0x1f27c6,_0x16f317,_0x480d1d=0x9)=>{const _0x319e92=_0x138492,_0x178db4=_0x16f317/0x2;_0x1d690c[_0x319e92(0x203)]({'x':_0x236094,'y':_0x17624d+_0x178db4,'width':_0x1f27c6,'height':_0x178db4,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1});const _0x21d318=_0x2fbb6b(_0x4b07c2,_0x482c89,_0x480d1d),_0x2ea31a=_0x236094+(_0x1f27c6-_0x21d318)/0x2,_0x142406=_0x17624d+_0x178db4+(_0x178db4-_0x480d1d)/0x2;_0x1d690c[_0x319e92(0x2b3)](_0x482c89,{'x':_0x2ea31a,'y':_0x142406,'size':_0x480d1d,'font':_0x4b07c2,'color':_0x468ea5}),_0x1d690c[_0x319e92(0x203)]({'x':_0x236094,'y':_0x17624d,'width':_0x1f27c6,'height':_0x178db4,'color':_0x468ea5,'borderColor':_0x560aec,'borderWidth':0x1});const _0x32039d=_0x2fbb6b(_0x13e25e,_0x49b4ab,_0x480d1d),_0x3826ce=_0x236094+(_0x1f27c6-_0x32039d)/0x2,_0x3fb534=_0x17624d+(_0x178db4-_0x480d1d)/0x2;_0x1d690c[_0x319e92(0x2b3)](_0x49b4ab,{'x':_0x3826ce,'y':_0x3fb534,'size':_0x480d1d,'font':_0x13e25e,'color':_0x258a20});},_0x52da17=(_0x2c20ac,_0x198bd7,_0x514ac1,_0x42af0c,_0xa2ac9d,_0xf541b2,_0x1d9737,_0x173806,_0x205ca7=![],_0x824de3=_0x138492(0x1e4))=>{const _0x551b7c=_0x138492,_0x462e5b=_0xf541b2-_0x1d9737*0x2,_0xed9d85=_0x462e5b*0.1,_0x2a5b5a=_0x462e5b*0.1,_0x1381ad=_0x462e5b*0.15,_0x11544d=_0x462e5b*0.35,_0x24457d=_0x462e5b*0.15,_0x57ad1e=_0x462e5b*0.15,_0x377746=_0x1d9737,_0xc50424=_0x377746+_0xed9d85,_0x209ddb=_0xc50424+_0x2a5b5a,_0x597832=_0x209ddb+_0x1381ad,_0x2dd822=_0x597832+_0x11544d,_0x551b15=_0x2dd822+_0x24457d;if(_0x205ca7){_0x1d690c[_0x551b7c(0x203)]({'x':_0x1d9737,'y':_0x514ac1,'width':_0x462e5b,'height':_0x173806,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1});const _0x4f4e88=(_0x173806-_0xa2ac9d)/0x2,[_0x347793,_0x5ce135,_0x474ce4,_0x57bf0c,_0x4c9f44,_0x10b312]=_0x2c20ac;return _0x1d690c[_0x551b7c(0x2b3)](String(_0x347793),{'x':_0x58e31f(_0x347793,_0x42af0c,_0xa2ac9d,_0x377746,_0xed9d85),'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x5ce135),{'x':_0x58e31f(_0x5ce135,_0x42af0c,_0xa2ac9d,_0xc50424,_0x2a5b5a),'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x474ce4),{'x':_0x58e31f(_0x474ce4,_0x42af0c,_0xa2ac9d,_0x209ddb,_0x1381ad),'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x57bf0c),{'x':_0x597832+0x2,'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x4c9f44),{'x':_0x58e31f(_0x4c9f44,_0x42af0c,_0xa2ac9d,_0x2dd822,_0x24457d),'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x10b312),{'x':_0x5f38f0(_0x10b312,_0x42af0c,_0xa2ac9d,_0x551b15,_0x57ad1e)-0xa,'y':_0x514ac1+_0x4f4e88,'size':_0xa2ac9d,'font':_0x42af0c,'color':_0x468ea5}),_0x514ac1-_0x173806;}else{const [_0x32cf79,_0x2be8de,_0x5619c9,_0x189787,_0x1c6982,_0x5b1167]=_0x198bd7;if(_0x824de3==_0x551b7c(0x33f)&&_0x198bd7[0x4]['trim']()==_0x551b7c(0x189)+_0x222312+')')_0x1d690c[_0x551b7c(0x2b3)](_0x3d15af,{'x':_0x377746+0xa,'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c});else{_0x1d690c[_0x551b7c(0x2b3)](String(_0x32cf79),{'x':_0x58e31f(_0x32cf79,_0x42af0c,_0xa2ac9d,_0x377746,_0xed9d85),'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x2be8de),{'x':_0x58e31f(_0x2be8de,_0x42af0c,_0xa2ac9d,_0xc50424,_0x2a5b5a),'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x5619c9),{'x':_0x58e31f(_0x5619c9,_0x42af0c,_0xa2ac9d,_0x209ddb,_0x1381ad),'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c});var _0x4dcea7=_0x189787?_0x3efef6(_0x189787,_0x597832+0x2,_0x514ac1,_0x11544d-0x4,_0x42af0c,_0xa2ac9d,_0x173806):_0x514ac1;}return _0x824de3==_0x551b7c(0x33f)?_0x1d690c[_0x551b7c(0x2b3)](String(_0x1c6982),{'x':_0x5f38f0(_0x1c6982,_0x42af0c,_0xa2ac9d,_0x2dd822,_0x24457d)-0x8,'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c}):_0x1d690c[_0x551b7c(0x2b3)](String(_0x1c6982),{'x':_0x58e31f(_0x1c6982,_0x42af0c,_0xa2ac9d,_0x2dd822,_0x24457d)-0x2,'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c}),_0x1d690c[_0x551b7c(0x2b3)](String(_0x5b1167),{'x':_0x5f38f0(_0x5b1167,_0x42af0c,_0xa2ac9d,_0x551b15,_0x57ad1e)-0xa,'y':_0x514ac1,'size':_0xa2ac9d,'font':_0x42af0c}),_0x824de3=='totals'&&_0x198bd7[0x4][_0x551b7c(0x49b)]()==_0x551b7c(0x189)+_0x222312+')'?_0x514ac1-_0x173806:Math[_0x551b7c(0x33a)](_0x4dcea7!==undefined?_0x4dcea7:_0x514ac1,_0x514ac1-_0x173806);}};function _0x58e31f(_0x18b603,_0x10974b,_0x48533f,_0x28c126,_0x3d6357){const _0x472c37=_0x138492,_0x476372=_0x10974b[_0x472c37(0x1be)](String(_0x18b603),_0x48533f);return _0x28c126+(_0x3d6357-_0x476372)/0x2;}function _0x5f38f0(_0x19df39,_0x234dde,_0x3b4644,_0x35af78,_0x27e20a){const _0x518924=_0x234dde['widthOfTextAtSize'](String(_0x19df39),_0x3b4644);return _0x35af78+(_0x27e20a-_0x518924);}function _0x3efef6(_0x5aa537,_0x1c5a62,_0x412ca7,_0x1881ad,_0x2cf296,_0x1ff8f8,_0x71d11c){const _0xe86624=_0x138492,_0xc6b84c=_0x5aa537[_0xe86624(0x3c1)]('\x20');let _0x38ddf3='',_0x8abfd4=_0x412ca7;for(let _0xfcfb22=0x0;_0xfcfb22<_0xc6b84c[_0xe86624(0x59a)];_0xfcfb22++){const _0x274526=_0x38ddf3+(_0x38ddf3?'\x20':'')+_0xc6b84c[_0xfcfb22];_0x2cf296[_0xe86624(0x1be)](_0x274526,_0x1ff8f8)>_0x1881ad?(_0x1d690c[_0xe86624(0x2b3)](_0x38ddf3,{'x':_0x1c5a62,'y':_0x8abfd4,'size':_0x1ff8f8,'font':_0x2cf296}),_0x8abfd4-=_0x71d11c,_0x38ddf3=_0xc6b84c[_0xfcfb22]):_0x38ddf3=_0x274526;}return _0x38ddf3&&(_0x1d690c[_0xe86624(0x2b3)](_0x38ddf3,{'x':_0x1c5a62,'y':_0x8abfd4,'size':_0x1ff8f8,'font':_0x2cf296}),_0x8abfd4-=_0x71d11c),_0x8abfd4;}let _0x45ae39=0x3c,_0x2b0002=(_0x3c67b1-_0x3137f8*0x2)*0.25,_0x40e0cb=(_0x3c67b1-_0x3137f8*0x2)*0.5,_0x18814f=(_0x3c67b1-_0x3137f8*0x2)*0.25,_0x1d1767=_0x3137f8,_0x2173f8=_0x3137f8+_0x2b0002,_0x33d9b5=_0x3137f8+_0x2b0002+_0x40e0cb,_0x3191ad=_0x2a7b2d-_0x45ae39;if(setLogoUrl)try{const _0x204286=setLogoUrl[_0x138492(0x3c1)](',')[0x1],_0x1c524a=Uint8Array[_0x138492(0x2a6)](atob(_0x204286),_0x13cd95=>_0x13cd95[_0x138492(0x3d0)](0x0));let _0x448583;try{_0x448583=await _0x3dcdb4[_0x138492(0x5b7)](_0x1c524a);}catch(_0x15434d){try{_0x448583=await _0x3dcdb4[_0x138492(0x37d)](_0x1c524a);}catch(_0x39895f){throw new Error(_0x138492(0x33e));}}const _0xac46eb=_0x2b0002*0.8,_0x4fdf65=_0x448583[_0x138492(0x6b0)],_0x4bc2ed=_0xac46eb/_0x4fdf65,_0x14dc0f=_0x448583[_0x138492(0x5a8)](_0x4bc2ed),_0x2afd51=_0x1d1767+(_0x2b0002-_0x14dc0f[_0x138492(0x6b0)])/0x2,_0x445489=_0x3191ad+(_0x45ae39-_0x14dc0f[_0x138492(0x2bb)])/0x2;_0x1d690c['drawImage'](_0x448583,{'x':_0x2afd51,'y':_0x445489,'width':_0x14dc0f[_0x138492(0x6b0)],'height':_0x14dc0f[_0x138492(0x2bb)]});}catch(_0x454156){console[_0x138492(0x6ab)](_0x138492(0x155),_0x454156);}let _0x120071=_0x2a7b2d-0xa;const _0x537b5c=0xc;setEmpresaNombre&&(_0x120071=_0x480577(setEmpresaNombre,_0x2173f8,_0x120071,_0x40e0cb,_0x45ae39,_0x13e25e,0x9,_0x537b5c));_0x315197&&(_0x120071=_0x480577(_0x315197,_0x2173f8,_0x120071,_0x40e0cb,_0x45ae39,_0x4b07c2,0x8,_0x537b5c));setEmpresaEmail&&(_0x120071=_0x480577(setEmpresaEmail,_0x2173f8,_0x120071,_0x40e0cb,_0x45ae39,_0x4b07c2,0x8,_0x537b5c));setEmpresaTelefono&&(_0x120071=_0x480577(setEmpresaTelefono,_0x2173f8,_0x120071,_0x40e0cb,_0x45ae39,_0x4b07c2,0x8,_0x537b5c));setEmpresaSitioWeb&&(_0x120071=_0x480577(setEmpresaSitioWeb,_0x2173f8,_0x120071,_0x40e0cb,_0x45ae39,_0x4b07c2,0x8,_0x537b5c));const _0x520a6d=0x5;col3TopHeight=_0x45ae39*0.5,col3BottomHeight=_0x45ae39*0.5;const _0x5b785a=_0x3191ad+col3TopHeight+_0x520a6d;_0x463b2d(_0x5d23e6?_0x5d23e6[_0x138492(0x667)]():'',setEmpresaRuc||'',_0x33d9b5,_0x5b785a,_0x18814f,col3BottomHeight,0x9);const _0x4b25d6=_0x18814f*0.5,_0x2d5e22=col3TopHeight;_0x4b9348(_0x138492(0x484),setSerie?setSerie[_0x138492(0x667)]():'',_0x33d9b5,_0x3191ad,_0x4b25d6,_0x2d5e22,0x9,0x5),_0x4b9348('Nº',setCorrelativo?String(setCorrelativo):'',_0x33d9b5+_0x4b25d6,_0x3191ad,_0x4b25d6,_0x2d5e22,0x9,0x0),_0x2a7b2d=_0x3191ad;const _0x933d1b=0x14;_0x2a7b2d-=_0x933d1b;let _0x3e4958=0x64,_0x531c6d=_0x2a7b2d-_0x3e4958,_0x1f875c=(_0x3c67b1-_0x3137f8*0x2)*0.75,_0x14cdd7=(_0x3c67b1-_0x3137f8*0x2)*0.25,_0x43cd82=_0x3137f8,_0x2ac642=_0x3137f8+_0x1f875c;const _0x48e183=0xe,_0x419d5a=_0x1f875c*0.2;_0x1d690c[_0x138492(0x203)]({'x':_0x43cd82,'y':_0x531c6d+(_0x3e4958-_0x48e183),'width':_0x419d5a,'height':_0x48e183,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1});const _0x19de4a='Datos\x20Generales',_0x3a2406=0x9,_0x170470=_0x2fbb6b(_0x4b07c2,_0x19de4a,_0x3a2406),_0x5e2697=_0x43cd82+(_0x419d5a-_0x170470)/0x2,_0x4553bf=_0x531c6d+_0x3e4958-_0x48e183+(_0x48e183-_0x3a2406)/0x2;_0x1d690c['drawText'](_0x19de4a,{'x':_0x5e2697,'y':_0x4553bf,'size':_0x3a2406,'font':_0x4b07c2,'color':_0x468ea5});const _0xa8103f=_0x3e4958-_0x48e183;_0x1d690c[_0x138492(0x203)]({'x':_0x43cd82,'y':_0x531c6d,'width':_0x1f875c-0x5,'height':_0xa8103f,'color':_0x468ea5,'borderColor':_0x560aec,'borderWidth':0x1});let _0x51ba13=_0x531c6d+_0xa8103f-0xa;const _0x2fa78a=0xc,_0x4f0fb1=_0x1f875c-0x5-0xa,_0x10dfa1=_0x4f0fb1*0.17,_0x4b5d25=_0x4f0fb1*0.02,_0x48edb4=_0x4f0fb1*0.81;function _0x525b96(_0x14921c,_0x23377b,_0x1a8f40,_0x5732a3,_0x5f135e,_0x4fd134,_0x3b910c){const _0x2ff8d1=_0x138492,_0x531de8=_0x14921c['split']('\x20');let _0x52d016='',_0x3e6375=_0x1a8f40;for(let _0x51c5d7=0x0;_0x51c5d7<_0x531de8[_0x2ff8d1(0x59a)];_0x51c5d7++){const _0x73c613=_0x52d016+(_0x52d016?'\x20':'')+_0x531de8[_0x51c5d7];_0x5f135e[_0x2ff8d1(0x1be)](_0x73c613,_0x4fd134)>_0x5732a3?(_0x1d690c[_0x2ff8d1(0x2b3)](_0x52d016,{'x':_0x23377b,'y':_0x3e6375,'size':_0x4fd134,'font':_0x5f135e,'color':_0x3b910c}),_0x3e6375-=_0x2fa78a,_0x52d016=_0x531de8[_0x51c5d7]):_0x52d016=_0x73c613;}return _0x52d016&&(_0x1d690c[_0x2ff8d1(0x2b3)](_0x52d016,{'x':_0x23377b,'y':_0x3e6375,'size':_0x4fd134,'font':_0x5f135e,'color':_0x3b910c}),_0x3e6375-=_0x2fa78a),_0x3e6375;}function _0x18972b(_0x2b4acd,_0x457c76){const _0x3438da=_0x138492;_0x1d690c['drawText'](String(_0x2b4acd),{'x':_0x43cd82+0x5,'y':_0x51ba13,'size':0x8,'font':_0x13e25e,'color':_0x258a20}),_0x1d690c[_0x3438da(0x2b3)](':',{'x':_0x43cd82+0x5+_0x10dfa1,'y':_0x51ba13,'size':0x8,'font':_0x4b07c2,'color':_0x258a20}),_0x51ba13=_0x525b96(String(_0x457c76),_0x43cd82+0x5+_0x10dfa1+_0x4b5d25,_0x51ba13,_0x48edb4,_0x4b07c2,0x8,_0x258a20);}setClienteTipoDoc&&setClienteNumDoc&&_0x18972b(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x18972b(_0x596588,setClienteDenominacion);setClienteDireccion&&_0x18972b(_0x138492(0x657),setClienteDireccion);_0x3a11e8&&_0x18972b(_0x138492(0x672),_0x3a11e8);_0x326ce4&&_0x18972b(_0x138492(0x32e),_0x326ce4);_0x1f1498&&_0x18972b('Vendedor',_0x1f1498);let _0x33d436=col3TopHeight;const _0x303030=0x5,_0x156c6e=_0x531c6d+(_0x3e4958-_0x33d436);_0x463b2d(_0x138492(0x2e7),_0x13ce2b||'',_0x2ac642,_0x156c6e,_0x14cdd7,_0x33d436,0x9);const _0x4ff6f4=_0x156c6e-_0x303030-_0x33d436;let _0x51c3d2='';if(_0x1dc2fc[_0x138492(0x3c5)])_0x51c3d2=_0x138492(0x284);if(_0x4b7c80[_0x138492(0x3c5)])_0x51c3d2='Crédito';if(_0x4d23b6['status'])_0x51c3d2=_0x138492(0x27b);_0x463b2d('Forma\x20de\x20Pago',''+_0x51c3d2,_0x2ac642,_0x4ff6f4,_0x14cdd7,_0x33d436,0x9);const _0x2d67dd=_0x4ff6f4-_0x303030-_0x33d436;let _0x45df9c=_0xef8c69||'';_0x463b2d(_0x138492(0x431),''+_0x45df9c,_0x2ac642,_0x2d67dd,_0x14cdd7,_0x33d436,0x9),_0x2a7b2d=_0x531c6d,_0x2a7b2d-=0x14;const _0x46ba99=_0x2a7b2d,_0x3875ad=[_0x138492(0x21c),_0x138492(0x272),'CÓDIGO',_0x138492(0x3a9),_0x138492(0x3f9),_0x138492(0x671)];_0x2a7b2d=_0x52da17(_0x3875ad,[],_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xe,!![]);if(_0x42b96d==0x1){const _0x1b2fb8=['1',_0x138492(0x449),'',_0x138492(0x1b0),parseFloat(_0x4ad0e6)[_0x138492(0x312)](0x2),parseFloat(_0x4ad0e6)['toFixed'](0x2)];_0x2a7b2d=_0x52da17([],_0x1b2fb8,_0x2a7b2d,_0x4b07c2,0x8,_0x3c67b1,_0x3137f8,0xc,![]),_0x2a7b2d-=0x5;}else setProductos['forEach'](_0x4fea4a=>{const _0x33a7c2=_0x138492;let {setCodProducto:setCodProducto='',setDescripcion:_0x5daaa0,setCantidad:_0x1930e9,setMtoPrecioUnitario:_0x2c03bc,setTotal:_0x2ee231,setDescuento:_0x18a295,setMtoPrecioUnitario_final:_0x907450,setUnidad:_0x18a686,setTipAfeIgv:_0x2f6a53,setNotas:_0x4486ec,setItemDescription:_0x40979b,setMarca:_0x20c629}=_0x4fea4a;_0x18a295&&_0x18a295[_0x33a7c2(0x66c)]>0x0&&(_0x5daaa0+='\x20('+_0x18a295[_0x33a7c2(0x66c)]+_0x33a7c2(0x5e6)+_0x222312+parseFloat(_0x907450)['toFixed'](0x2)+')');(setTipAfeImpGravadosGrat[_0x33a7c2(0x30c)](_0x58424d=>_0x58424d==_0x2f6a53)||setTipAfeImpInafectosGrat[_0x33a7c2(0x30c)](_0x38f423=>_0x38f423==_0x2f6a53)||setTipAfeImpExoneradosGrat[_0x33a7c2(0x30c)](_0x6471b5=>_0x6471b5==_0x2f6a53))&&(_0x2c03bc=_0x907450,setTipAfeImpGravadosGrat[_0x33a7c2(0x30c)](_0x3fd7bc=>_0x3fd7bc==_0x2f6a53)&&(_0x5daaa0+=_0x33a7c2(0x6bd)),setTipAfeImpExoneradosGrat['some'](_0x4dda11=>_0x4dda11==_0x2f6a53)&&(_0x5daaa0+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x33a7c2(0x30c)](_0x1b60df=>_0x1b60df==_0x2f6a53)&&(_0x5daaa0+='\x20(Inafecto\x20Gratuito)'));_0x4486ec&&(_0x5daaa0+=_0x33a7c2(0x409)+_0x4486ec);_0x5dbfb1==0x1&&_0x40979b!=''&&(_0x5daaa0+='\x20|\x20Descripción:\x20'+_0x40979b);_0x1cee7a==0x1&&_0x20c629!=''&&(_0x5daaa0+=_0x33a7c2(0x44b)+_0x20c629);let _0x3af3d2=products[_0x33a7c2(0x4bd)](_0x355956=>_0x355956['id']==_0x4fea4a[_0x33a7c2(0x2d4)]);_0x18aa13==0x1&&_0x3af3d2&&_0x3af3d2[_0x33a7c2(0x6de)]&&(_0x5daaa0+=_0x33a7c2(0x413)+_0x3af3d2[_0x33a7c2(0x6de)]);_0x4b382f==0x1&&_0x3af3d2&&_0x3af3d2[_0x33a7c2(0x342)]&&(_0x5daaa0+=_0x33a7c2(0x61e)+_0x3af3d2[_0x33a7c2(0x342)]);const _0x421aaa=[String(_0x1930e9||'1'),String(_0x18a686+'.'||''),String(setCodProducto),_0x5daaa0,parseFloat(_0x2c03bc)[_0x33a7c2(0x312)](0x2),parseFloat(_0x2ee231)['toFixed'](0x2)];_0x2a7b2d=_0x52da17([],_0x421aaa,_0x2a7b2d,_0x4b07c2,0x8,_0x3c67b1,_0x3137f8,0xc,![]),_0x2a7b2d-=0x5;});_0x2a7b2d-=0xa;if(parseFloat(_0x3a08e5)>0x0){const _0xce9a8a=['','','','','Desc.\x20Global\x20('+_0x222312+')',''+_0x3a08e5];_0x2a7b2d=_0x52da17([],_0xce9a8a,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(parseFloat(_0x3bd3d8)>0x0){const _0x15b7c3=['','','','',_0x138492(0x2c8)+_0x222312+')',''+_0x3bd3d8];_0x2a7b2d=_0x52da17([],_0x15b7c3,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x4d3bc0)>0x0){const _0x20370e=['','','','','Op.\x20Gravadas\x20('+_0x222312+')',''+_0x4d3bc0];_0x2a7b2d=_0x52da17([],_0x20370e,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(parseFloat(_0x313a84)>0x0){const _0xe43f6f=['','','','',_0x138492(0x175)+_0x222312+')',''+_0x313a84];_0x2a7b2d=_0x52da17([],_0xe43f6f,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(parseFloat(_0x42d6b8)>0x0){const _0x1f649e=['','','','',_0x138492(0x5b3)+_0x222312+')',''+_0x42d6b8];_0x2a7b2d=_0x52da17([],_0x1f649e,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(parseFloat(_0x2106d1)>0x0){const _0x1d2a4d=['','','','',_0x138492(0x6e3)+_0x222312+')',''+_0x2106d1];_0x2a7b2d=_0x52da17([],_0x1d2a4d,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],'totals'),_0x2a7b2d-=0x2;}if(parseFloat(_0x52b419)>0x0){const _0x7805a3=['','','','','IGV\x20Gratuitas\x20('+_0x222312+')',''+_0x52b419];_0x2a7b2d=_0x52da17([],_0x7805a3,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],'totals'),_0x2a7b2d-=0x2;}{const _0x79bd05=['','','','',_0x138492(0x18a)+_0x222312+')',''+_0x30425b];_0x2a7b2d=_0x52da17([],_0x79bd05,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}{const _0x221583=['','','','',_0x138492(0x457)+_0x222312+')',''+_0x43aaf0];_0x2a7b2d=_0x52da17([],_0x221583,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}}{const _0x4ae716=['','','','',_0x138492(0x189)+_0x222312+')',''+_0x4ad0e6];_0x2a7b2d=_0x52da17([],_0x4ae716,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],'totals'),_0x2a7b2d-=0x2;}if(_0x4eb5f4==0x1){const _0x2687b4=['','','','',_0x138492(0x544)+_0x19afe8+_0x138492(0x1fb)+_0x222312+')',''+_0x3e4e89];_0x2a7b2d=_0x52da17([],_0x2687b4,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}if(_0x159456==0x1){const _0x2d737c=['','','','','Total\x20Retención\x20('+_0x527f04+_0x138492(0x1fb)+_0x222312+')',''+_0x3386d0];_0x2a7b2d=_0x52da17([],_0x2d737c,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],'totals'),_0x2a7b2d-=0x2;}if(_0x203d34==0x1){const _0x1072b8=['','','','',_0x138492(0x262)+_0x3f6f0c+_0x138492(0x1fb)+_0x222312+')',''+_0x3c8e79];_0x2a7b2d=_0x52da17([],_0x1072b8,_0x2a7b2d,_0x13e25e,0x8,_0x3c67b1,_0x3137f8,0xc,![],_0x138492(0x33f)),_0x2a7b2d-=0x2;}const _0x1211b4=_0x2a7b2d,_0x1903d4=_0x3c67b1-_0x3137f8*0x2,_0x42730f=_0x46ba99-_0x1211b4+0x3;_0x1d690c[_0x138492(0x261)]({'start':{'x':_0x3137f8,'y':_0x1211b4-0x3},'end':{'x':_0x3137f8,'y':_0x1211b4-0x3+_0x42730f},'thickness':0x1,'color':_0x59eeef}),_0x1d690c[_0x138492(0x261)]({'start':{'x':_0x3137f8,'y':_0x1211b4-0x3},'end':{'x':_0x3137f8+_0x1903d4,'y':_0x1211b4-0x3},'thickness':0x1,'color':_0x59eeef}),_0x1d690c['drawLine']({'start':{'x':_0x3137f8+_0x1903d4,'y':_0x1211b4-0x3},'end':{'x':_0x3137f8+_0x1903d4,'y':_0x1211b4-0x3+_0x42730f},'thickness':0x1,'color':_0x59eeef}),_0x2a7b2d=_0x1211b4-0x3-0xa;const _0x3df0d1=_0x3137f8+_0x1903d4*0.85;_0x1d690c[_0x138492(0x261)]({'start':{'x':_0x3df0d1,'y':_0x46ba99},'end':{'x':_0x3df0d1,'y':_0x1211b4-0x3},'thickness':0x1,'color':_0x59eeef});const _0x251c7f=_0x3c67b1-_0x3137f8*0x2,_0x3f208d=0x5,_0x40c57f=_0x251c7f-_0x3f208d,_0xeece53=_0x40c57f*0.8,_0x28d50d=_0x40c57f*0.2,_0x425fca=_0x3137f8,_0x5335a9=_0x425fca+_0xeece53+_0x3f208d,_0x43810f=_0x2a7b2d,_0x4eb1ad=0xe,_0x21c4fa=0x5,_0x11ce44=myCompany[_0x138492(0x6ce)],_0x6a237=Math[_0x138492(0x256)](_0x11ce44[_0x138492(0x59a)]/0x2),_0x241598=0xe,_0x25ca14=_0x6a237*_0x241598,_0x283fa2=_0x4eb1ad+_0x25ca14;_0x1d690c[_0x138492(0x203)]({'x':_0x425fca,'y':_0x43810f-_0x4eb1ad,'width':_0xeece53,'height':_0x4eb1ad,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1});const _0x258a75=_0x138492(0x1a8),_0x99340d=(_0x4eb1ad-0x8)/0x2;_0x1d690c['drawText'](_0x258a75,{'x':_0x425fca+_0x21c4fa,'y':_0x43810f-_0x4eb1ad+_0x99340d,'size':0x8,'font':_0x13e25e,'color':_0x468ea5});const _0x195f6c=(_0x88115c,_0x3cb221=0x10)=>{const _0x1f491c=_0x138492;return _0x88115c[_0x1f491c(0x59a)]>_0x3cb221?_0x88115c[_0x1f491c(0x68f)](0x0,_0x3cb221)+_0x1f491c(0x5d0):_0x88115c;},_0x1d58c5=_0xeece53/0x4;for(let _0x4114c7=0x0;_0x4114c7<_0x6a237;_0x4114c7++){const _0x30ae2f=_0x11ce44[0x2*_0x4114c7],_0xc2d845=_0x11ce44[0x2*_0x4114c7+0x1],_0x16a548=_0x43810f-_0x4eb1ad-_0x4114c7*_0x241598,_0x41a92d=(_0x241598-0x8)/0x2;if(_0x30ae2f){const _0x3a7b11=_0x195f6c(_0x30ae2f[_0x138492(0x397)]['toUpperCase']())+(_0x30ae2f[_0x138492(0x2d0)]=='PEN'?'\x20(Soles)':'\x20('+_0x30ae2f[_0x138492(0x2d0)]+')'),_0x5802a5='N\x20'+_0x30ae2f[_0x138492(0x2a2)];_0x3efef6(_0x3a7b11,_0x425fca+_0x21c4fa,_0x16a548-_0x241598+_0x41a92d,_0x1d58c5-_0x21c4fa,_0x4b07c2,0x8,_0x241598),_0x3efef6(_0x5802a5,_0x425fca+_0x1d58c5+0x2,_0x16a548-_0x241598+_0x41a92d,_0x1d58c5-0x2,_0x4b07c2,0x8,_0x241598);}if(_0xc2d845){const _0x35d3bd=_0x195f6c(_0xc2d845['setBankName'][_0x138492(0x667)]())+(_0xc2d845[_0x138492(0x2d0)]==_0x138492(0x2e8)?_0x138492(0x159):'\x20('+_0xc2d845[_0x138492(0x2d0)]+')'),_0x3ac6b7='N\x20'+_0xc2d845[_0x138492(0x2a2)];_0x3efef6(_0x35d3bd,_0x425fca+_0x1d58c5*0x2+0x2,_0x16a548-_0x241598+_0x41a92d,_0x1d58c5-0x2,_0x4b07c2,0x8,_0x241598),_0x3efef6(_0x3ac6b7,_0x425fca+_0x1d58c5*0x3+0x2,_0x16a548-_0x241598+_0x41a92d,_0x1d58c5-0x2,_0x4b07c2,0x7,_0x241598);}}const _0x3a9cdb=[setEmpresaRuc,setSerie,setCorrelativo,_0x4d3bc0>0x0?_0x4d3bc0:null,_0x313a84>0x0?_0x313a84:null,_0x42d6b8>0x0?_0x42d6b8:null,_0x2106d1>0x0?_0x2106d1:null,_0x43aaf0>0x0?_0x43aaf0:null,_0x4ad0e6>0x0?_0x4ad0e6:null,setClienteNumDoc],_0xadd3a5=_0x3a9cdb[_0x138492(0x5a3)](_0x3d8f39=>_0x3d8f39!==null)[_0x138492(0x61a)]('|'),_0x28792f=document[_0x138492(0x6c7)](_0x138492(0x50b));new QRCode(_0x28792f,{'text':_0xadd3a5,'width':0x80,'height':0x80,'colorDark':_0x138492(0x165),'colorLight':_0x138492(0x5e4),'correctLevel':QRCode[_0x138492(0x3b9)]['H']}),await new Promise(_0x14af7f=>setTimeout(_0x14af7f,0x1f4));const _0x583a51=_0x28792f[_0x138492(0x53a)](_0x138492(0x60f)),_0x16f918=_0x583a51['toDataURL']('image/png'),_0x143929=atob(_0x16f918[_0x138492(0x3c1)](',')[0x1]),_0x2861fe=Uint8Array[_0x138492(0x2a6)](_0x143929,_0x537f67=>_0x537f67['charCodeAt'](0x0)),_0x7eed65=await _0x3dcdb4[_0x138492(0x5b7)](_0x2861fe),_0x404e33=_0x7eed65[_0x138492(0x5a8)](0.8),_0x11dfd8=_0x5335a9+_0x28d50d-_0x404e33[_0x138492(0x6b0)],_0x48c02a=_0x43810f-_0x404e33[_0x138492(0x2bb)];_0x1d690c[_0x138492(0x160)](_0x7eed65,{'x':_0x11dfd8,'y':_0x48c02a,'width':_0x404e33[_0x138492(0x6b0)],'height':_0x404e33[_0x138492(0x2bb)]});const _0x1c085b=Math[_0x138492(0x5a6)](_0x283fa2,_0x404e33['height']);_0x1d690c[_0x138492(0x203)]({'x':_0x425fca,'y':_0x43810f-_0x1c085b,'width':_0xeece53,'height':_0x1c085b,'borderColor':_0x560aec,'borderWidth':0x1}),_0x2a7b2d=Math[_0x138492(0x33a)](_0x43810f-_0x1c085b,_0x48c02a)-0x5;const _0x1b7406=_0x3c67b1-_0x3137f8*0x2,_0x198d06=0x5,_0x245179=_0x1b7406-_0x198d06,_0x2c6d00=_0x245179*0.8,_0x3be231=_0x245179*0.2,_0x638572=_0x3137f8,_0x4b4cac=_0x638572+_0x2c6d00+_0x198d06,_0x40208d=_0x2a7b2d,_0x43483f=0x8,_0x404307=0x5,_0x8a711a=0xe,_0x2c207a=_0x2c6d00/0x2;let _0x2676cc='',_0x2c5ece='',_0x37420b=[],_0x153696=[];if(_0x4d23b6[_0x138492(0x3c5)]==!![]){_0x2676cc=_0x138492(0x4bf),_0x2c5ece=_0x138492(0x410);for(let _0x3d2bff in _0x1dc2fc[_0x138492(0x471)]){if(_0x3d2bff==_0x138492(0x42c)||_0x3d2bff=='debe')continue;const _0x357ea5=_0x1dc2fc['data'][_0x3d2bff];if(_0x357ea5&&typeof _0x357ea5==_0x138492(0x3c3)&&_0x138492(0x436)in _0x357ea5){const _0x181587=parseFloat(_0x357ea5['monto_calc']);if(_0x181587>0x0){_0x37420b[_0x138492(0x385)]({'desc':_0x3d2bff[_0x138492(0x667)](),'value':_0x222312+'\x20'+_0x181587[_0x138492(0x312)](0x2)});if('porcentaje_comision'in _0x357ea5&&_0x138492(0x30e)in _0x357ea5){const _0x54c777=_0x357ea5[_0x138492(0x251)],_0x231b4f=parseFloat(_0x357ea5[_0x138492(0x30e)]);_0x54c777!==undefined&&_0x231b4f!==undefined&&_0x37420b[_0x138492(0x385)]({'desc':_0x138492(0x4a5)+_0x54c777+'%)','value':_0x222312+'\x20'+_0x231b4f['toFixed'](0x2)});}if(_0x357ea5['banco']&&_0x357ea5['banco']!='0'){const _0x561afa=myCompany[_0x138492(0x6ce)]['find'](_0x429aad=>_0x429aad['setBankId']==_0x357ea5['banco']);_0x561afa&&_0x37420b[_0x138492(0x385)]({'desc':'Banco:','value':_0x561afa[_0x138492(0x397)]});}_0x357ea5[_0x138492(0x516)]&&_0x37420b[_0x138492(0x385)]({'desc':_0x138492(0x48f),'value':_0x357ea5[_0x138492(0x516)]});}}}parseFloat(_0x1dc2fc[_0x138492(0x471)]['vuelto'])>0x0&&_0x37420b[_0x138492(0x385)]({'desc':'Vuelto:','value':_0x222312+'\x20'+parseFloat(_0x1dc2fc[_0x138492(0x471)][_0x138492(0x42c)])['toFixed'](0x2)});let _0x39573f=_0x4b7c80['status']==!![]?parseFloat(_0x4ad0e6):parseFloat(_0x1dc2fc[_0x138492(0x471)][_0x138492(0x453)]);_0x153696[_0x138492(0x385)]({'desc':_0x138492(0x530),'value':_0x222312+'\x20'+_0x39573f[_0x138492(0x312)](0x2)}),_0x153696[_0x138492(0x385)]({'desc':'Nº\x20de\x20cuotas','value':_0x4b7c80[_0x138492(0x471)][_0x138492(0x59a)]+'\x20cuotas'}),_0x153696[_0x138492(0x385)]({'desc':_0x138492(0x3b5),'value':''}),_0x4b7c80['data'][_0x138492(0x3fd)](_0x27b31b=>{const _0x4455d7=_0x138492;_0x153696[_0x4455d7(0x385)]({'desc':_0x4455d7(0x212)+_0x27b31b['cuota'],'value':_0x27b31b['fechaVencimiento']+'\x20|\x20'+parseFloat(_0x27b31b[_0x4455d7(0x436)])['toFixed'](0x2)});});}else{if(_0x1dc2fc[_0x138492(0x3c5)]==!![]){_0x2676cc='FORMA\x20DE\x20PAGO:\x20CONTADO',_0x2c5ece='';for(let _0x11ed6d in _0x1dc2fc[_0x138492(0x471)]){if(_0x11ed6d=='vuelto'||_0x11ed6d=='debe')continue;const _0xcc2ce5=_0x1dc2fc[_0x138492(0x471)][_0x11ed6d];if(_0xcc2ce5&&typeof _0xcc2ce5==_0x138492(0x3c3)&&_0x138492(0x436)in _0xcc2ce5){const _0xdd55d2=parseFloat(_0xcc2ce5[_0x138492(0x4e0)]);if(_0xdd55d2>0x0){_0x37420b[_0x138492(0x385)]({'desc':_0x11ed6d[_0x138492(0x667)](),'value':_0x222312+'\x20'+_0xdd55d2['toFixed'](0x2)});if(_0x138492(0x251)in _0xcc2ce5&&'total_comision'in _0xcc2ce5){const _0x1ed59e=_0xcc2ce5['porcentaje_comision'],_0x635b48=parseFloat(_0xcc2ce5['total_comision']);_0x1ed59e!==undefined&&_0x635b48!==undefined&&_0x37420b[_0x138492(0x385)]({'desc':'Comisión\x20('+_0x1ed59e+'%)','value':_0x222312+'\x20'+_0x635b48['toFixed'](0x2)});}if(_0xcc2ce5[_0x138492(0x329)]&&_0xcc2ce5[_0x138492(0x329)]!='0'){const _0x3da56f=myCompany['setBankAccounts'][_0x138492(0x4bd)](_0x52a8c7=>_0x52a8c7[_0x138492(0x2bf)]==_0xcc2ce5[_0x138492(0x329)]);_0x3da56f&&_0x37420b['push']({'desc':_0x138492(0x43c),'value':_0x3da56f['setBankName']});}_0xcc2ce5[_0x138492(0x516)]&&_0x37420b[_0x138492(0x385)]({'desc':_0x138492(0x48f),'value':_0xcc2ce5[_0x138492(0x516)]});}}}parseFloat(_0x1dc2fc[_0x138492(0x471)]['vuelto'])>0x0&&_0x37420b['push']({'desc':_0x138492(0x12a),'value':_0x222312+'\x20'+parseFloat(_0x1dc2fc[_0x138492(0x471)][_0x138492(0x42c)])['toFixed'](0x2)});}else{if(_0x4b7c80[_0x138492(0x3c5)]==!![]){_0x2676cc='FORMA\x20DE\x20PAGO:\x20CRÉDITO',_0x2c5ece='';let _0x5a7f5e=_0x4b7c80[_0x138492(0x3c5)]==!![]?parseFloat(_0x4ad0e6):parseFloat(_0x1dc2fc['data']['debe']);_0x37420b[_0x138492(0x385)]({'desc':_0x138492(0x530),'value':_0x222312+'\x20'+_0x5a7f5e[_0x138492(0x312)](0x2)}),_0x37420b['push']({'desc':_0x138492(0x692),'value':_0x4b7c80['data'][_0x138492(0x59a)]+_0x138492(0x46a)}),_0x37420b['push']({'desc':_0x138492(0x3b5),'value':''}),_0x4b7c80['data'][_0x138492(0x3fd)](_0x33daf9=>{const _0x245e4c=_0x138492;_0x37420b[_0x245e4c(0x385)]({'desc':'Cuota\x20'+_0x33daf9[_0x245e4c(0x583)],'value':_0x33daf9[_0x245e4c(0x4b7)]+_0x245e4c(0x413)+parseFloat(_0x33daf9[_0x245e4c(0x436)])['toFixed'](0x2)});});}}}const _0x9f34bf=Math[_0x138492(0x5a6)](_0x37420b['length'],_0x153696['length']),_0x714809=_0x40208d-_0x48e183-0xe;_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x40208d-_0x48e183,'width':_0x2c6d00,'height':_0x48e183,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1}),_0x1d690c[_0x138492(0x2b3)](_0x2676cc,{'x':_0x638572+_0x404307,'y':_0x40208d-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x468ea5});_0x2c5ece&&_0x1d690c['drawText'](_0x2c5ece,{'x':_0x638572+_0x2c207a+_0x404307,'y':_0x40208d-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x468ea5});const _0x20c5b2=_0x2c207a/0x2,_0x26fb22=_0x2c207a/0x2;for(let _0xb2db24=0x0;_0xb2db24<_0x9f34bf;_0xb2db24++){const _0x1f3e79=_0x714809-_0xb2db24*_0x8a711a+(_0x8a711a-_0x43483f)/0x2,_0x55f259=_0x37420b[_0xb2db24]||{'desc':'','value':''};_0x1d690c[_0x138492(0x2b3)](_0x55f259[_0x138492(0x27c)],{'x':_0x638572+_0x404307,'y':_0x1f3e79,'size':_0x43483f,'font':_0x4b07c2}),_0x1d690c[_0x138492(0x2b3)](_0x55f259['value'],{'x':_0x638572+_0x20c5b2+_0x404307,'y':_0x1f3e79,'size':_0x43483f,'font':_0x4b07c2});if(_0x2c5ece){const _0x9d8345=_0x153696[_0xb2db24]||{'desc':'','value':''};_0x1d690c[_0x138492(0x2b3)](_0x9d8345[_0x138492(0x27c)],{'x':_0x638572+_0x2c207a+_0x404307,'y':_0x1f3e79,'size':_0x43483f,'font':_0x4b07c2}),_0x1d690c[_0x138492(0x2b3)](_0x9d8345[_0x138492(0x351)],{'x':_0x638572+_0x2c207a+_0x26fb22+_0x404307,'y':_0x1f3e79,'size':_0x43483f,'font':_0x4b07c2});}}const _0x1e51bb=_0x48e183+_0x9f34bf*_0x8a711a+0x4;if(_0x4eb5f4==0x1){const _0x7b0d16=0xe,_0x5ae734=_0x4b4cac,_0xf55ba6=_0x3be231,_0x1801d8=0xe,_0x13517c=_0x404307;_0x1d690c[_0x138492(0x203)]({'x':_0x5ae734,'y':_0x40208d-_0x1801d8,'width':_0xf55ba6,'height':_0x1801d8,'color':_0x560aec,'borderColor':_0x560aec,'borderWidth':0x1}),_0x1d690c[_0x138492(0x2b3)](_0x138492(0x3c0)+_0x19afe8+'%)',{'x':_0x5ae734+_0x13517c,'y':_0x40208d-_0x1801d8+(_0x1801d8-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x468ea5});const _0x159bbc=_0xf55ba6-_0x13517c*0x2;let _0x4cc680=_0x40208d-_0x1801d8-0xe;const _0x4cf8b1=['Total:\x20'+_0x222312+'\x20'+_0x3e4e89,'Bien\x20o\x20Servicio:\x20'+_0x33d570+'\x20'+_0x8f3cd1,_0x138492(0x682)];let _0x27583a=_0x4cc680;for(let _0x370756=0x0;_0x370756<_0x4cf8b1[_0x138492(0x59a)];_0x370756++){_0x27583a=_0x3efef6(_0x4cf8b1[_0x370756],_0x5ae734+_0x13517c,_0x4cc680,_0x159bbc,_0x4b07c2,_0x43483f,_0x7b0d16),_0x4cc680=_0x27583a-0x2;}const _0x16f7cd=_0x40208d-_0x1801d8-0x4-_0x27583a,_0x3e36d4=_0x1801d8+0x4+_0x16f7cd;_0x1d690c['drawRectangle']({'x':_0x5ae734,'y':_0x40208d-_0x3e36d4,'width':_0xf55ba6,'height':_0x3e36d4,'borderColor':_0x560aec,'borderWidth':0x1});const _0x156059=Math[_0x138492(0x5a6)](_0x1e51bb,_0x3e36d4);_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x40208d-_0x156059,'width':_0x2c6d00,'height':_0x156059,'borderColor':_0x560aec,'borderWidth':0x1}),_0x2a7b2d=_0x40208d-_0x156059-0x5;}else _0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x40208d-_0x1e51bb,'width':_0x2c6d00,'height':_0x1e51bb,'borderColor':_0x560aec,'borderWidth':0x1}),_0x2a7b2d=_0x40208d-_0x1e51bb-0x5;const _0x2a6106=_0x2c6d00+_0x3be231,_0x6836fa=_0x2a6106*0.4,_0x4c8818=_0x2a6106*0.6;if(setObservacion!=''||_0x5801b6!=''){let _0x14956b=_0x2a7b2d;_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x14956b-_0x48e183,'width':_0x2a6106,'height':_0x48e183,'color':_0x2adca0,'borderColor':_0x2adca0,'borderWidth':0x1}),_0x1d690c[_0x138492(0x2b3)](_0x138492(0x1fa),{'x':_0x638572+_0x404307,'y':_0x14956b-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x258a20}),_0x1d690c[_0x138492(0x2b3)](_0x2d61de,{'x':_0x638572+_0x6836fa+_0x404307,'y':_0x14956b-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x258a20});const _0x201a5a=_0x14956b-_0x48e183-_0x509507,_0x4cbc96=_0x201a5a-_0x43483f;let _0x234a86=_0x3efef6(setObservacion,_0x638572+_0x404307,_0x4cbc96,_0x6836fa-_0x404307*0x2,_0x4b07c2,_0x43483f,_0x559f0c),_0x294243=_0x201a5a-_0x234a86,_0x573dc4=_0x201a5a;for(let _0x534f30=0x0;_0x534f30<_0x4cca73[_0x138492(0x59a)];_0x534f30++){_0x1d690c['drawText'](_0x4cca73[_0x534f30],{'x':_0x638572+_0x6836fa+_0x404307,'y':_0x573dc4-(_0x559f0c-_0x43483f),'size':_0x43483f,'font':_0x4b07c2}),_0x573dc4-=_0x559f0c;}let _0x3e585b=_0x201a5a-_0x573dc4,_0xa39a1e=Math[_0x138492(0x5a6)](_0x294243,_0x3e585b),_0x311caa=_0x48e183+_0x509507+_0xa39a1e;_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x14956b-_0x311caa,'width':_0x2a6106,'height':_0x311caa,'borderColor':_0x2adca0,'borderWidth':0x1}),_0x2a7b2d=_0x14956b-_0x311caa-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x4a0ec1=_0x2a7b2d;_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x4a0ec1-_0x48e183,'width':_0x2a6106,'height':_0x48e183,'color':_0x2adca0,'borderColor':_0x2adca0,'borderWidth':0x1}),_0x1d690c[_0x138492(0x2b3)](_0x138492(0x38d),{'x':_0x638572+_0x404307,'y':_0x4a0ec1-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x258a20}),_0x1d690c['drawText'](_0x138492(0x1bc),{'x':_0x638572+_0x6836fa+_0x404307,'y':_0x4a0ec1-_0x48e183+(_0x48e183-_0x43483f)/0x2,'size':_0x43483f,'font':_0x13e25e,'color':_0x258a20});const _0xf42b60=setUrlConsultasCpe,_0x5da8f3='AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x24c59f=_0xf42b60[_0x138492(0x3c1)]('\x0a'),_0x58ef37=_0x5da8f3[_0x138492(0x3c1)]('\x0a'),_0x39b0df=_0x24c59f[_0x138492(0x59a)]*_0x559f0c,_0xcbae04=_0x58ef37[_0x138492(0x59a)]*_0x559f0c,_0x1fa38e=Math[_0x138492(0x5a6)](_0x39b0df,_0xcbae04);let _0x52c8cf=_0x48e183+_0x509507+_0x1fa38e;_0x1d690c[_0x138492(0x203)]({'x':_0x638572,'y':_0x4a0ec1-_0x52c8cf,'width':_0x2a6106,'height':_0x52c8cf,'borderColor':_0x2adca0,'borderWidth':0x1});let _0x4dfad9=_0x4a0ec1-_0x52c8cf,_0x3f30f4=_0x4dfad9+_0x39b0df,_0x3f89e2=_0x4dfad9+_0xcbae04;for(let _0x57c2b4=0x0;_0x57c2b4<_0x24c59f[_0x138492(0x59a)];_0x57c2b4++){_0x1d690c[_0x138492(0x2b3)](_0x24c59f[_0x57c2b4],{'x':_0x638572+_0x404307,'y':_0x3f30f4-_0x57c2b4*_0x559f0c-(_0x559f0c-_0x43483f),'size':_0x43483f,'font':_0x4b07c2});}for(let _0xe529f1=0x0;_0xe529f1<_0x58ef37[_0x138492(0x59a)];_0xe529f1++){_0x1d690c[_0x138492(0x2b3)](_0x58ef37[_0xe529f1],{'x':_0x638572+_0x6836fa+_0x404307,'y':_0x3f89e2-_0xe529f1*_0x559f0c-(_0x559f0c-_0x43483f),'size':_0x43483f,'font':_0x4b07c2});}_0x2a7b2d=_0x4a0ec1-_0x52c8cf-0xa;}else _0x2a7b2d-=0xa;}}return _0x2a7b2d;}function imprimirPdf(){const _0x53e145=_0x37a403,_0x3199d8=document[_0x53e145(0x456)](_0x53e145(0x415))[_0x53e145(0x351)],{pdfGlobalPayload:_0x29e14a,pdfGlobalBlob:_0x51a30b,pdfGlobalName:_0x1edc9a}=getLastOperationGlobalData(_0x3199d8);if(!_0x51a30b){ntfShow('No\x20hay\x20un\x20PDF\x20cargado.');return;}const _0x1de5f0=URL[_0x53e145(0x47e)](_0x51a30b),_0x44c058=window['open'](_0x1de5f0,_0x53e145(0x57d));_0x44c058[_0x53e145(0x6a1)]=()=>{const _0x570e7c=_0x53e145;_0x44c058[_0x570e7c(0x5db)](),_0x44c058['print'](),URL[_0x570e7c(0x277)](_0x1de5f0);};}function descargarPdf(){const _0x9b87f0=_0x37a403,_0x34dd7f=document[_0x9b87f0(0x456)](_0x9b87f0(0x415))['value'],{pdfGlobalPayload:_0x402e9a,pdfGlobalBlob:_0x5516dd,pdfGlobalName:_0x5c35a9}=getLastOperationGlobalData(_0x34dd7f);if(!_0x5516dd){ntfShow(_0x9b87f0(0x255));return;}const _0x331b3e=URL['createObjectURL'](_0x5516dd),_0x487c79=document[_0x9b87f0(0x6c7)]('a');_0x487c79['href']=_0x331b3e,_0x487c79['download']=_0x9b87f0(0x3ed),_0x487c79[_0x9b87f0(0x42d)](),URL[_0x9b87f0(0x277)](_0x331b3e);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0x37ef38,_0x38fc87=0x0){const _0x5a2cf5=_0x37a403;document['querySelectorAll'](_0x5a2cf5(0x3cb))[_0x5a2cf5(0x3fd)](_0xed7154=>_0xed7154['classList'][_0x5a2cf5(0x1ef)](_0x5a2cf5(0x368)));const _0x7290f4=document[_0x5a2cf5(0x3f0)]('.'+_0x37ef38);_0x7290f4[_0x5a2cf5(0x3fd)](_0x1afb60=>_0x1afb60[_0x5a2cf5(0x560)][_0x5a2cf5(0x417)](_0x5a2cf5(0x368)));const _0x1a9869=_0x37ef38[_0x5a2cf5(0x3c1)]('-')[0x1];document[_0x5a2cf5(0x456)](_0x5a2cf5(0x415))[_0x5a2cf5(0x351)]=_0x1a9869;const _0x2c2aae=document[_0x5a2cf5(0x456)](_0x5a2cf5(0x563));_0x2c2aae[_0x5a2cf5(0x351)]=_0x5a2cf5(0x2c7)+_0x1a9869,await new Promise(_0x376e6b=>setTimeout(_0x376e6b,0x12c)),renderProducts();const _0x20b107=getValidatedWindowAndShift(_0x1a9869),{currentWindowShift:_0xe433db}=_0x20b107;if(_0xe433db){const _0x1c3a8c=document[_0x5a2cf5(0x456)]('setTipoOperacion-'+_0x1a9869);if(_0x1c3a8c){const _0x12d21f=_0x1c3a8c['value'];if(!setTipOpeOrders['some'](_0x31f0cf=>_0x31f0cf==_0x12d21f)){let _0x27302e=null;for(const _0x270819 of setTipOpeOrders){const _0x557b62=Array[_0x5a2cf5(0x2a6)](_0x1c3a8c[_0x5a2cf5(0x43d)])[_0x5a2cf5(0x30c)](_0x1685bb=>_0x1685bb['value']==_0x270819);if(_0x557b62){_0x27302e=_0x270819;break;}}_0x27302e!==null&&(_0x1c3a8c[_0x5a2cf5(0x351)]=_0x27302e);}}}parseInt(window_options[_0x1a9869][_0x5a2cf5(0x1a3)])!=0x1&&(window_options[_0x1a9869][_0x5a2cf5(0x3ee)]=obtener_fechaHora());const _0x44e734=document[_0x5a2cf5(0x456)](_0x5a2cf5(0x34c)+_0x1a9869)[_0x5a2cf5(0x351)];await updateSerieOptions(_0x44e734,_0x1a9869),_0x38fc87==0x1&&await setOrders(_0x1a9869);}async function setOrders(_0x26b4d1){const _0x479eee=_0x37a403,_0x43907e=getValidatedWindowAndShift(_0x26b4d1);if(!_0x43907e)return;const {windowObj:_0x3a182e,currentWindowShift:_0x43e42f}=_0x43907e;if(_0x43e42f){const _0x32da59=_0x43e42f[_0x479eee(0x493)],_0x2ea434=_0x43e42f[_0x479eee(0x24c)]||[];console[_0x479eee(0x6ab)](_0x479eee(0x356),_0x2ea434);const _0x2f4257=_0x2ea434[_0x479eee(0x30c)](_0x3fd178=>_0x3fd178[_0x479eee(0x640)]==_0x32da59&&setTipOpeSales['some'](_0x1d7afb=>_0x1d7afb==_0x3fd178['setTipoOperacion']));if(!_0x2f4257){await removeAllFromCart(_0x26b4d1,0x1);const _0x4be10c=_0x2ea434[_0x479eee(0x5a3)](_0x53ef78=>{const _0x18c52e=_0x479eee;return _0x53ef78['setWindowShiftId']==_0x32da59&&setTipOpeOrders[_0x18c52e(0x30c)](_0x1835e5=>_0x1835e5==_0x53ef78[_0x18c52e(0x118)]);});for(const _0x105334 of _0x4be10c){let _0x38e4d3=_0x105334[_0x479eee(0x5f9)];if(Array[_0x479eee(0x54f)](_0x105334[_0x479eee(0x620)]))for(const _0x139692 of _0x105334['setProductos']){if(carts[_0x26b4d1]&&carts[_0x26b4d1][_0x479eee(0x30c)](_0x126ca3=>_0x126ca3[_0x479eee(0x4fc)]==_0x139692['cartId']))continue;const _0x4616fe=products[_0x479eee(0x4bd)](_0x22901c=>_0x22901c['id']==_0x139692['setIdProducto']);_0x4616fe&&(await new Promise(_0x24131c=>setTimeout(_0x24131c,0x64)),addToCart(_0x4616fe,{'setValorCantidad':_0x139692[_0x479eee(0x42f)],'setMtoPrecioUnitario_final':_0x139692[_0x479eee(0x545)],'setTaxId':_0x139692['setTaxId'],'setTipAfeIgv':_0x139692[_0x479eee(0x220)],'setPorcentajeDesc':_0x139692[_0x479eee(0x66c)],'setNotas':_0x139692[_0x479eee(0x3d4)],'cartId':_0x139692[_0x479eee(0x4fc)],'setWindowShiftId':_0x32da59,'setOrderId':_0x38e4d3,'setMtoPrecioUnitario_input':_0x139692[_0x479eee(0x47f)],'setMtoPrecioCostoUnitario_input':_0x139692[_0x479eee(0x180)]},0x1,_0x26b4d1));}}}}else{if(_0x3a182e[_0x479eee(0x601)]=='free'){}}}function showModalWindowShift(){const _0xa5e62c=_0x37a403,_0x1cee2c=document[_0xa5e62c(0x456)](_0xa5e62c(0x660)),_0x5659b0=document['getElementById'](_0xa5e62c(0x2de));_0x1cee2c[_0xa5e62c(0x560)][_0xa5e62c(0x417)]('active'),_0x5659b0[_0xa5e62c(0x201)]['display']=_0xa5e62c(0x12e);}function hideModalWindowShift(){const _0x110cf3=_0x37a403,_0x22be47=document[_0x110cf3(0x456)](_0x110cf3(0x660)),_0x28e697=document[_0x110cf3(0x456)](_0x110cf3(0x2de));_0x22be47['classList']['remove']('active'),_0x28e697[_0x110cf3(0x201)][_0x110cf3(0x5bd)]='none';}document[_0x37a403(0x456)](_0x37a403(0x49f))[_0x37a403(0x3ad)](_0x37a403(0x42d),hideModalWindowShift),document[_0x37a403(0x456)](_0x37a403(0x2de))[_0x37a403(0x3ad)](_0x37a403(0x42d),_0x4ef177=>{const _0x594441=_0x37a403;_0x4ef177['target']==_0x4ef177['currentTarget']&&_0x4ef177[_0x594441(0x38b)]();});function getValidatedWindowAndShift(_0x25233e){const _0xd2b218=_0x37a403,_0x5666b0=myCompany[_0xd2b218(0x53e)]['find'](_0x603885=>_0x603885[_0xd2b218(0x1af)]==_0x25233e);if(!_0x5666b0)return null;!_0x5666b0[_0xd2b218(0x363)]&&(_0x5666b0[_0xd2b218(0x363)]=[]);const _0x2e0d64=_0x5666b0[_0xd2b218(0x363)][_0xd2b218(0x4bd)](_0x45fcfc=>_0x45fcfc[_0xd2b218(0x1d1)]=='1');return{'windowObj':_0x5666b0,'currentWindowShift':_0x2e0d64};}async function updateWindowShiftDisplay(_0x31f6bb){const _0x3f837a=_0x37a403,_0x2c26da=document['getElementById'](_0x3f837a(0x648));_0x2c26da[_0x3f837a(0x197)]='';const _0x1ce590=getValidatedWindowAndShift(_0x31f6bb);if(!_0x1ce590)return;const {windowObj:_0x20f00f,currentWindowShift:_0x2d7004}=_0x1ce590;if(!_0x2d7004){const _0x383009=_0x20f00f;let _0x52291e,_0x1fb878;if(_0x383009[_0x3f837a(0x24d)]=='window')_0x52291e='Aperturar\x20Ventana',_0x1fb878='./img/layout/icon-window.svg';else{if(_0x383009[_0x3f837a(0x24d)]=='table')_0x52291e=_0x3f837a(0x252),_0x1fb878='./img/layout/icon-table.svg';else{if(_0x383009[_0x3f837a(0x24d)]==_0x3f837a(0x371))_0x52291e=_0x3f837a(0x649),_0x1fb878=_0x3f837a(0x423);else _0x383009[_0x3f837a(0x24d)]=='chair'&&(_0x52291e=_0x3f837a(0x21e),_0x1fb878='./img/layout/icon-window.svg');}}const _0x39351f=document[_0x3f837a(0x6c7)]('div');_0x39351f[_0x3f837a(0x489)]=_0x3f837a(0x207);const _0x186815=document['createElement']('div');_0x186815[_0x3f837a(0x489)]='shift-open-leftCol';const _0x496fb7=document['createElement'](_0x3f837a(0x11e));_0x496fb7[_0x3f837a(0x489)]=_0x3f837a(0x273),_0x496fb7['src']=_0x1fb878,_0x496fb7[_0x3f837a(0x1d0)]=_0x52291e,_0x186815[_0x3f837a(0x361)](_0x496fb7);const _0x5c3862=document[_0x3f837a(0x6c7)](_0x3f837a(0x50b));_0x5c3862[_0x3f837a(0x489)]='shift-open-rightCol';const _0x3777da=document['createElement']('h2');_0x3777da[_0x3f837a(0x489)]=_0x3f837a(0x340),_0x3777da[_0x3f837a(0x13f)]=_0x52291e;const _0x7f1c99=document['createElement'](_0x3f837a(0x50b));_0x7f1c99[_0x3f837a(0x489)]=_0x3f837a(0x348);const _0x16dfa2=document[_0x3f837a(0x6c7)]('button');_0x16dfa2[_0x3f837a(0x489)]=_0x3f837a(0x2be),_0x16dfa2['id']=_0x3f837a(0x60e),_0x16dfa2['textContent']=_0x3f837a(0x613),_0x16dfa2[_0x3f837a(0x3ad)](_0x3f837a(0x42d),()=>openWindowShift(_0x31f6bb)),_0x7f1c99['appendChild'](_0x16dfa2),_0x5c3862[_0x3f837a(0x361)](_0x3777da),_0x5c3862['appendChild'](_0x7f1c99),_0x39351f['appendChild'](_0x186815),_0x39351f[_0x3f837a(0x361)](_0x5c3862),_0x2c26da[_0x3f837a(0x361)](_0x39351f),showModalWindowShift();}else{}}async function openWindowShift(_0x22004c){const _0x31f14c=_0x37a403,_0x5dda8f=document[_0x31f14c(0x456)](_0x31f14c(0x60e));if(!_0x5dda8f){console['error'](_0x31f14c(0x315));return;}const _0x59b21f=getValidatedWindowAndShift(_0x22004c);if(!_0x59b21f){ntfShow(_0x31f14c(0x254));return;}const {windowObj:_0xee31d0,currentWindowShift:_0x160045}=_0x59b21f;if(_0x160045){ntfShow(_0x31f14c(0x6e6));return;}_0x5dda8f['disabled']=!![],hideModalWindowShift(),showLoadingModal();const _0x2cccad=new Date(),_0x2a9e0d=_0x31f14c(0x171),_0x29d747=generateUniqId();_0xee31d0[_0x31f14c(0x363)]['push']({'setShiftId':_0x29d747,'setShiftStatus':'1','setShiftDateStart':_0x2cccad,'setShiftDateEnd':_0x2a9e0d,'setShiftUserEmail':myCompany['setUser_Local'][_0x31f14c(0x38a)]}),_0xee31d0[_0x31f14c(0x601)]='occupied',_0xee31d0[_0x31f14c(0x186)]=nowWithMillisecondsForServer();const _0x3c4843=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3c4843),ntfShow(_0x31f14c(0x669)+_0x2cccad[_0x31f14c(0x5c8)]()),await apiERPsyncWindows();const _0x3b47be='tab-'+_0x22004c;await switchTab(_0x3b47be,0x1),_0x5dda8f[_0x31f14c(0x6b6)]=![],hideLoadingModal();}function getMaxWindowId(_0x55326e){const _0x4fe180=_0x37a403,_0x45c1a8=Object[_0x4fe180(0x57f)](_0x55326e);if(_0x45c1a8['length']==0x0)return 0x0;return Math[_0x4fe180(0x5a6)](..._0x45c1a8['map'](_0x33811e=>parseInt(_0x33811e,0xa)));}async function updateTab(_0x639012){return new Promise(async _0x4b199d=>{const _0x38b34d=_0x530c,_0x45233b=myCompany[_0x38b34d(0x53e)][_0x38b34d(0x4bd)](_0x2d0f5d=>_0x2d0f5d[_0x38b34d(0x1af)]==_0x639012);if(!_0x45233b){console[_0x38b34d(0x65e)](_0x38b34d(0x533)+_0x639012),_0x4b199d();return;}const _0x1c809e=_0x38b34d(0x2c7)+_0x639012,_0x140a15=document[_0x38b34d(0x456)](_0x38b34d(0x563)),_0x18dd0c=document[_0x38b34d(0x6c7)]('option');_0x18dd0c['value']=_0x1c809e,_0x18dd0c[_0x38b34d(0x13f)]=_0x45233b['setWindowName'],_0x140a15[_0x38b34d(0x361)](_0x18dd0c),await createFormElements(_0x1c809e),_0x4b199d();});}async function addNewTab(_0x40c1c3){const _0x390dec=_0x37a403;if(parseFloat(_0x40c1c3)===0x0){ntfShow(_0x390dec(0x148));return;}let _0x83c69f=_0x40c1c3;tabCount=parseFloat(_0x40c1c3),carts[_0x83c69f]=[],window_options[_0x83c69f]={};try{await createCartStore(_0x83c69f),await updateTab(_0x83c69f);}catch(_0x32093c){console[_0x390dec(0x65e)](_0x390dec(0x15c),_0x32093c);}}document[_0x37a403(0x456)](_0x37a403(0x564))['onchange']=_0x13eb64=>{const _0x3035fd=_0x37a403;itemsPerPage=parseInt(_0x13eb64[_0x3035fd(0x114)][_0x3035fd(0x351)],0xa),currentPage=0x1,renderProducts(searchInput[_0x3035fd(0x351)]);};function procesarProductos(_0xcd590e){const _0x4f29c5=_0x37a403,_0xf14455=parseFloat(_0xcd590e['setPorcentajeGeneralIgv'])||0x0,_0x29670b=_0xcd590e[_0x4f29c5(0x29c)],_0x5249e7=parseFloat(_0xcd590e['descuentoGlobalMonto'])||0x0,_0x551819=_0xf14455/0x64,_0x3c0d85={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x485f1d=[];for(const _0x5f2001 of _0x29670b){if(!_0x5f2001['valorCantidad']||!_0x5f2001['setTipAfeIgv'])throw new Error(_0x4f29c5(0x6b9));let {valorUnit:_0x3890fb,precioUnit:_0x55fe89,valorCantidad:_0x188d94,valorPorcentajeIgv:_0x2fc182,setTipAfeIgv:_0x2a9301,setDescuento:_0x1c4109}=_0x5f2001;const _0x2cbd20=_0x1c4109?.['setCodTipo']||'',_0x3066ea=_0x1c4109?.['setPorcentajeDesc']||0x0;!_0x3890fb?_0x3890fb=setTipAfeImpGravados[_0x4f29c5(0x30c)](_0x301b71=>_0x301b71==_0x2a9301)?_0x55fe89/(0x1+_0x2fc182/0x64):_0x55fe89:_0x55fe89=setTipAfeImpGravados['some'](_0x5d1592=>_0x5d1592==_0x2a9301)?_0x3890fb+_0x3890fb*(_0x2fc182/0x64):_0x3890fb;let _0x5b8adc=0x0,_0x2b3e97=0x0,_0x11845a=0x0,_0xde9a40=0x0,_0x4c18b3=0x0,_0x48a7e7=0x0,_0x21fa65=0x0,_0x5d086c=0x0,_0x7adc9b=0x0,_0x5a73ce=0x0,_0xb4b9c4=0x0,_0x3b90c0=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x4f29c5(0x30c)](_0x3a072c=>_0x3a072c==_0x2a9301):_0x5b8adc=_0x3890fb,_0x2b3e97=0x0,_0x11845a=_0x5b8adc*_0x188d94;_0x3066ea>0x0&&(_0x5d086c=_0x3066ea/0x64,_0x7adc9b=_0x11845a,_0x5a73ce=_0x7adc9b*_0x5d086c,_0xb4b9c4=(_0x7adc9b+_0x7adc9b*(_0x2fc182/0x64))*_0x5d086c,_0x11845a-=_0x5a73ce,_0x3c0d85[_0x4f29c5(0x13b)]+=_0x5a73ce,_0x3c0d85[_0x4f29c5(0x3ab)]+=_0xb4b9c4);_0xde9a40=_0x11845a,_0x48a7e7=_0xde9a40*(_0x2fc182/0x64),_0x4c18b3=_0x2fc182,_0x21fa65=(_0x11845a+_0x48a7e7)/_0x188d94,_0x3c0d85[_0x4f29c5(0x4be)]+=_0x11845a,_0x3c0d85[_0x4f29c5(0x26e)]+=_0x48a7e7;break;case setTipAfeImpExonerados[_0x4f29c5(0x30c)](_0x3992c8=>_0x3992c8==_0x2a9301)||setTipAfeImpInafectos['some'](_0x5e3835=>_0x5e3835==_0x2a9301):_0x5b8adc=_0x3890fb,_0x2b3e97=0x0,_0x11845a=_0x5b8adc*_0x188d94;_0x3066ea>0x0&&(_0x5d086c=_0x3066ea/0x64,_0x7adc9b=_0x11845a,_0x5a73ce=_0x7adc9b*_0x5d086c,_0xb4b9c4=_0x5a73ce,_0x11845a-=_0x5a73ce,_0x3c0d85[_0x4f29c5(0x13b)]+=_0x5a73ce,_0x3c0d85['setMtoDescItems_precio']+=_0xb4b9c4);_0xde9a40=_0x11845a,_0x48a7e7=0x0,_0x4c18b3=0x0,_0x21fa65=(_0x11845a+_0x48a7e7)/_0x188d94;setTipAfeImpExonerados[_0x4f29c5(0x30c)](_0x255801=>_0x255801==_0x2a9301)?_0x3c0d85[_0x4f29c5(0x389)]+=_0x11845a:_0x3c0d85[_0x4f29c5(0x223)]+=_0x11845a;break;case setTipAfeImpGravadosGrat[_0x4f29c5(0x30c)](_0x9a738e=>_0x9a738e==_0x2a9301):_0x5b8adc=0x0,_0x2b3e97=_0x3890fb,_0x11845a=_0x2b3e97*_0x188d94,_0xde9a40=_0x11845a,_0x48a7e7=_0xde9a40*(_0x2fc182/0x64),_0x4c18b3=_0x2fc182,_0x21fa65=0x0,_0x3c0d85['setMtoOperGratuitas']+=_0x11845a,_0x3c0d85[_0x4f29c5(0x3f4)]+=_0x48a7e7;break;case setTipAfeImpExoneradosGrat['some'](_0x4c3089=>_0x4c3089==_0x2a9301)||setTipAfeImpInafectosGrat[_0x4f29c5(0x30c)](_0x82808d=>_0x82808d==_0x2a9301):_0x5b8adc=0x0,_0x2b3e97=_0x3890fb,_0x11845a=_0x2b3e97*_0x188d94,_0xde9a40=_0x11845a,_0x48a7e7=0x0,_0x4c18b3=0x0,_0x21fa65=0x0,_0x3c0d85[_0x4f29c5(0x285)]+=_0x11845a;break;default:console[_0x4f29c5(0x65e)]('TAX\x20Error:\x20'+_0x2a9301);continue;}_0x3b90c0=_0x21fa65*_0x188d94,_0x485f1d[_0x4f29c5(0x385)]({'setMtoValorUnitario':_0x5b8adc,'setMtoValorGratuito':_0x2b3e97,'setMtoValorVenta':_0x11845a,'setMtoBaseIgv':_0xde9a40,'setPorcentajeIgv':_0x4c18b3,'setIgv':_0x48a7e7,'setTipAfeIgv':_0x2a9301,'setTotalImpuestos':_0x48a7e7,'setMtoPrecioUnitario':_0x21fa65,'setDescuento_setCodTipo':_0x2cbd20,'setDescuento_setMontoBase':_0x7adc9b,'setDescuento_setFactor':_0x5d086c,'setDescuento_setMonto':_0x5a73ce,'setDescuento_setMonto_precio':_0xb4b9c4,'setPorcentajeDesc':_0x3066ea,'setTotal':_0x3b90c0,'setMtoValorUnitario_final':_0x3890fb,'setMtoPrecioUnitario_final':_0x55fe89});}_0x3c0d85[_0x4f29c5(0x3ac)]=_0x3c0d85[_0x4f29c5(0x26e)],_0x3c0d85['setValorVenta']=_0x3c0d85[_0x4f29c5(0x4be)]+_0x3c0d85['setMtoOperExoneradas']+_0x3c0d85[_0x4f29c5(0x223)],_0x3c0d85[_0x4f29c5(0x4fb)]=_0x3c0d85[_0x4f29c5(0x116)]+_0x3c0d85['setTotalImpuestos'],_0x3c0d85[_0x4f29c5(0x29a)]=_0x3c0d85[_0x4f29c5(0x4fb)];if(_0x5249e7>0x0){const _0x4ab454=_0x5249e7/(0x1+_0x551819),_0x52a30e=_0x4ab454*(_0x3c0d85[_0x4f29c5(0x4be)]/_0x3c0d85[_0x4f29c5(0x116)]),_0x5563d1=_0x5249e7*(_0x3c0d85[_0x4f29c5(0x389)]/_0x3c0d85[_0x4f29c5(0x116)]),_0x16b6bf=_0x5249e7*(_0x3c0d85['setMtoOperInafectas']/_0x3c0d85[_0x4f29c5(0x116)]);_0x3c0d85[_0x4f29c5(0x4be)]-=_0x52a30e,_0x3c0d85[_0x4f29c5(0x389)]-=_0x5563d1,_0x3c0d85[_0x4f29c5(0x223)]-=_0x16b6bf,_0x3c0d85[_0x4f29c5(0x26e)]=_0x3c0d85[_0x4f29c5(0x4be)]*_0x551819,_0x3c0d85[_0x4f29c5(0x3ac)]=_0x3c0d85[_0x4f29c5(0x26e)],_0x3c0d85[_0x4f29c5(0x116)]=_0x3c0d85['setMtoOperGravadas']+_0x3c0d85[_0x4f29c5(0x389)]+_0x3c0d85[_0x4f29c5(0x223)],_0x3c0d85['setSubTotal']=_0x3c0d85[_0x4f29c5(0x116)]+_0x3c0d85[_0x4f29c5(0x3ac)],_0x3c0d85[_0x4f29c5(0x29a)]=_0x3c0d85[_0x4f29c5(0x4fb)];}return{'setInvoice':_0x3c0d85,'setInvoiceDetails':_0x485f1d};}function selectAllChecks(_0x2c8bee){const _0x6fa8c=_0x37a403,_0x26cc26=document[_0x6fa8c(0x456)]('itemCheckboxAll-'+_0x2c8bee),_0xab39b7=_0x26cc26[_0x6fa8c(0x536)],_0x5f3746=document['querySelectorAll']('.itemCheckbox-'+_0x2c8bee);_0x5f3746[_0x6fa8c(0x3fd)](_0x146e68=>{_0x146e68['checked']=_0xab39b7,_0x146e68['value']=_0xab39b7?0x1:0x0;}),carts[_0x2c8bee][_0x6fa8c(0x3fd)](_0x575b92=>{const _0x111c46=_0x6fa8c;_0x575b92[_0x111c46(0x1b6)]=_0xab39b7?0x1:0x0;}),renderCart(_0x2c8bee);}async function setPreAccount(_0x137bea){const _0x24b553=_0x37a403;showLoadingModal(),await setBill(_0x137bea);const _0x5c646e=buildPayload(_0x137bea),{pdfBlob:_0x770477,pdfName:_0x4f020e}=await generatePdf(_0x5c646e,'tk',_0x24b553(0x547),'1.5',0x1);hideLoadingModal(),setLastOperationGlobalData(_0x137bea,{'pdfGlobalPayload':_0x5c646e,'pdfGlobalBlob':_0x770477,'pdfGlobalName':_0x4f020e}),showModal();const _0x4bd861=getValidatedWindowAndShift(_0x137bea);if(_0x4bd861){const {windowObj:_0x4c548e,currentWindowShift:_0x4c096c}=_0x4bd861;if(_0x4c096c){_0x4c096c[_0x24b553(0x482)]=new Date(),_0x4c548e[_0x24b553(0x601)]=_0x24b553(0x386),_0x4c548e[_0x24b553(0x186)]=nowWithMillisecondsForServer();const _0x3df663=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3df663),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x182c56){const _0x5b58cf=_0x37a403,_0x35c32d=parseInt(_0x182c56,0xa),_0x32d0aa=elementos[_0x5b58cf(0x4bd)](_0x10d1fa=>_0x10d1fa[_0x5b58cf(0x1af)]===_0x35c32d);if(!_0x32d0aa)return console[_0x5b58cf(0x140)](_0x5b58cf(0x339),_0x35c32d);await clickMesa(_0x32d0aa,0x0),await setPreAccount(_0x182c56);const _0x519f3c=document[_0x5b58cf(0x456)]('setFloorId')['value'];handleTabSelection(_0x519f3c);}async function setBill(_0x50d9c0){const _0x5dd148=_0x37a403,_0x1dcab6=document[_0x5dd148(0x456)]('setTipoOperacion-'+_0x50d9c0);if(_0x1dcab6){let _0x386a4e=null;for(const _0x19b8f1 of setTipOpeSales){const _0x5b1d98=Array[_0x5dd148(0x2a6)](_0x1dcab6['options'])[_0x5dd148(0x30c)](_0x125d5a=>_0x125d5a['value']==_0x19b8f1);if(_0x5b1d98){_0x386a4e=_0x19b8f1;break;}}_0x386a4e!==null?(window_options[_0x50d9c0][_0x5dd148(0x118)]=_0x386a4e,await updateSerieOptions(_0x386a4e,_0x50d9c0),renderCart(_0x50d9c0)):console[_0x5dd148(0x140)](_0x5dd148(0x65b));}else console[_0x5dd148(0x65e)](_0x5dd148(0x380));}function renderCart(_0x2ec611){const _0x25cdcb=_0x37a403,_0x4814a5=document[_0x25cdcb(0x456)]('cart-'+_0x2ec611),_0x7df1f3=document[_0x25cdcb(0x456)](_0x25cdcb(0x1e1)+_0x2ec611),_0x390d35=document[_0x25cdcb(0x456)](_0x25cdcb(0x477)+_0x2ec611),_0x42fe1c=document['getElementById']('float-right-OpGravada-'+_0x2ec611),_0x448337=document[_0x25cdcb(0x456)](_0x25cdcb(0x3f5)+_0x2ec611),_0x235913=document[_0x25cdcb(0x456)](_0x25cdcb(0x421)+_0x2ec611),_0xda9b03=document['getElementById']('float-right-OpGratuita-'+_0x2ec611),_0x3e04ea=document[_0x25cdcb(0x456)](_0x25cdcb(0x416)+_0x2ec611),_0xc425b2=document[_0x25cdcb(0x456)](_0x25cdcb(0x38e)+_0x2ec611),_0x3f8813=document['getElementById']('float-right-TotalIgvGratuitas-'+_0x2ec611),_0xb09479=document[_0x25cdcb(0x456)](_0x25cdcb(0x17f)+_0x2ec611);_0x4814a5[_0x25cdcb(0x197)]='';const _0x1f44e5=carts[_0x2ec611];let _0x5f3783,_0x36ac52;if(setTipOpeOrders[_0x25cdcb(0x30c)](_0x4b68f8=>_0x4b68f8==window_options[_0x2ec611][_0x25cdcb(0x118)]))_0x5f3783=_0x1f44e5[_0x25cdcb(0x5a3)](_0x1b54b3=>_0x1b54b3[_0x25cdcb(0x1b6)]==0x1&&_0x1b54b3[_0x25cdcb(0x640)]==''),_0x36ac52=myCompany[_0x25cdcb(0x4a6)][_0x25cdcb(0x5a3)](_0x230e08=>_0x230e08[_0x25cdcb(0x575)]==0x1);else{if(setTipOpeSales[_0x25cdcb(0x30c)](_0x2e41d0=>_0x2e41d0==window_options[_0x2ec611][_0x25cdcb(0x118)])||setTipOpeQuotation[_0x25cdcb(0x30c)](_0x5a9504=>_0x5a9504==window_options[_0x2ec611][_0x25cdcb(0x118)]))_0x5f3783=_0x1f44e5['filter'](_0x2bb3ba=>_0x2bb3ba[_0x25cdcb(0x1b6)]==0x1),_0x36ac52=myCompany[_0x25cdcb(0x4a6)][_0x25cdcb(0x5a3)](_0x4c1828=>_0x4c1828[_0x25cdcb(0x575)]==0x1);else setTipOpePurchases['some'](_0x2b6ced=>_0x2b6ced==window_options[_0x2ec611]['setTipoOperacion'])&&(_0x5f3783=_0x1f44e5[_0x25cdcb(0x5a3)](_0x571688=>_0x571688[_0x25cdcb(0x1b6)]==0x1),_0x36ac52=myCompany[_0x25cdcb(0x4a6)][_0x25cdcb(0x5a3)](_0x5a5084=>_0x5a5084['setAccountingAccountType']==0x2));}const _0x248887=_0x5f3783[_0x25cdcb(0x17c)](_0x12889f=>({'valorUnit':_0x12889f[_0x25cdcb(0x559)],'precioUnit':_0x12889f['setMtoPrecioUnitario_final'],'valorCantidad':_0x12889f['setCantidad'],'valorPorcentajeIgv':_0x12889f[_0x25cdcb(0x2f1)],'setTipAfeIgv':_0x12889f[_0x25cdcb(0x220)],'setDescuento':{'setCodTipo':_0x12889f[_0x25cdcb(0x621)]?.[_0x25cdcb(0x137)]||'00','setPorcentajeDesc':_0x12889f[_0x25cdcb(0x621)]?.[_0x25cdcb(0x66c)]||0x0}})),_0x1097a8=window_options[_0x2ec611],_0x12d9b3=_0x1097a8[_0x25cdcb(0x2bd)],{setInvoice:_0x322b53}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x25cdcb(0x353)]['find'](_0x280f71=>_0x280f71[_0x25cdcb(0x616)]==myCompany[_0x25cdcb(0x2dd)])?.[_0x25cdcb(0x31b)],'items':_0x248887,'descuentoGlobalMonto':_0x12d9b3}),_0x2cb492={..._0x1097a8,..._0x322b53};window_options[_0x2ec611]=_0x2cb492;const {setMtoOperGravadas:_0x536927,setMtoOperExoneradas:_0x1e96c4,setMtoOperInafectas:_0xa34b83,setValorVenta:_0x2b60ed,setMtoIGV:_0x14f4ce,setMtoImpVenta:_0x4dd436,setMtoOperGratuitas:_0x362230,setMtoIGVGratuitas:_0x9575bd,setMtoDescItems_precio:_0x122777}=_0x322b53,_0x33caf0=document[_0x25cdcb(0x456)](_0x25cdcb(0x3c6)+_0x2ec611),_0x5b1c7d=_0x1097a8[_0x25cdcb(0x118)];parseFloat(_0x9575bd)>0x0&&(_0x5b1c7d=='3'||_0x5b1c7d=='4'||_0x5b1c7d=='7'||_0x5b1c7d=='11'||_0x5b1c7d=='14'||_0x5b1c7d=='17'||_0x5b1c7d=='18'||_0x5b1c7d=='21'||_0x5b1c7d=='24')?_0x33caf0[_0x25cdcb(0x560)][_0x25cdcb(0x1ef)](_0x25cdcb(0x689)):_0x33caf0[_0x25cdcb(0x560)]['add'](_0x25cdcb(0x689));const _0x5dc5a7=document[_0x25cdcb(0x456)](_0x25cdcb(0x3e0)+_0x2ec611);parseFloat(_0x122777)>0x0?_0x5dc5a7['classList'][_0x25cdcb(0x1ef)](_0x25cdcb(0x689)):_0x5dc5a7[_0x25cdcb(0x560)][_0x25cdcb(0x417)](_0x25cdcb(0x689));let _0x4722a3;parseInt(window_options[_0x2ec611][_0x25cdcb(0x2c4)])==0x1?_0x4722a3='':_0x4722a3=_0x25cdcb(0x208);const _0x3474d7=getUserPermissionApiERP(0xc);_0x1f44e5[_0x25cdcb(0x3fd)]((_0x108d8d,_0x1729f2)=>{const _0x12f64b=_0x25cdcb;let _0x508934='';_0x108d8d[_0x12f64b(0x640)]!=''&&(_0x508934=_0x12f64b(0x208));const _0x585bc2=document[_0x12f64b(0x6c7)](_0x12f64b(0x50b));_0x585bc2[_0x12f64b(0x489)]='cart-item-principal';const _0x71571d=document[_0x12f64b(0x6c7)]('div');_0x71571d[_0x12f64b(0x489)]=_0x12f64b(0x39c);const _0x514487=document[_0x12f64b(0x6c7)](_0x12f64b(0x50b));_0x514487['id']=_0x12f64b(0x27e)+_0x2ec611+'-'+_0x108d8d['id'];_0x108d8d[_0x12f64b(0x1e8)]==0x1?_0x514487['className']=_0x12f64b(0x1d6):_0x514487[_0x12f64b(0x489)]='cart-item-options\x20d-none';const _0x12b9a2=createElement(_0x12f64b(0x210),{'type':'checkbox','class':_0x12f64b(0x5dc)+_0x2ec611+'\x20'+_0x4722a3,'value':_0x108d8d[_0x12f64b(0x1b6)],'events':{'click':_0x290340=>updateCartItem(_0x2ec611,_0x1729f2,'setChecked',_0x290340[_0x12f64b(0x114)]['value'])}});_0x108d8d[_0x12f64b(0x1b6)]==0x1&&(_0x12b9a2[_0x12f64b(0x536)]='checked');_0x71571d[_0x12f64b(0x361)](_0x12b9a2);const _0x3aed7e=products[_0x12f64b(0x4bd)](_0x260e97=>_0x260e97['id']==_0x108d8d['setIdProducto']);let _0x3732c3='';if(_0x3aed7e){const _0x45adbf=[];if(_0x3aed7e[_0x12f64b(0x2d2)])_0x45adbf[_0x12f64b(0x385)](_0x12f64b(0x16f)+_0x3aed7e[_0x12f64b(0x2d2)]);if(_0x3aed7e[_0x12f64b(0x69b)])_0x45adbf[_0x12f64b(0x385)](''+_0x3aed7e[_0x12f64b(0x69b)]);if(_0x3aed7e[_0x12f64b(0x6de)])_0x45adbf[_0x12f64b(0x385)](''+_0x3aed7e[_0x12f64b(0x6de)]);if(_0x3aed7e[_0x12f64b(0x342)]){const _0x1122e8=_0x3aed7e[_0x12f64b(0x342)][_0x12f64b(0x3c1)]('-'),_0x3fe333=_0x1122e8[0x2]+'/'+_0x1122e8[0x1]+'/'+_0x1122e8[0x0];_0x45adbf[_0x12f64b(0x385)](_0x12f64b(0x605)+_0x3fe333);}_0x3732c3=_0x45adbf['join'](_0x12f64b(0x413));}const _0xf0663d=document[_0x12f64b(0x6c7)](_0x12f64b(0x50b));_0xf0663d[_0x12f64b(0x197)]=_0x108d8d[_0x12f64b(0x2d2)]+_0x12f64b(0x1ac)+_0x108d8d['setDescripcion']+_0x12f64b(0x18c)+(_0x108d8d[_0x12f64b(0x3d4)]??'')+_0x12f64b(0x5f7),_0xf0663d[_0x12f64b(0x489)]='input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40';if(_0x3732c3)_0xf0663d['setAttribute']('data-tooltip',_0x3732c3);_0x71571d['appendChild'](_0xf0663d);const _0x166211=document[_0x12f64b(0x6c7)]('textarea');_0x166211[_0x12f64b(0x351)]=_0x108d8d[_0x12f64b(0x2f5)]||'',_0x166211[_0x12f64b(0x489)]=_0x12f64b(0x628),_0x166211[_0x12f64b(0x4ac)]='Producto:',_0x166211[_0x12f64b(0x167)]=_0xd7ff56=>updateCartItem(_0x2ec611,_0x1729f2,_0x12f64b(0x2f5),_0xd7ff56['target'][_0x12f64b(0x351)]),_0x71571d['appendChild'](_0x166211),_0xf0663d[_0x12f64b(0x3ad)](_0x12f64b(0x42d),()=>{const _0x5820d8=_0x12f64b;_0xf0663d[_0x5820d8(0x560)]['add'](_0x5820d8(0x208)),_0x166211[_0x5820d8(0x560)][_0x5820d8(0x1ef)](_0x5820d8(0x208)),_0x166211[_0x5820d8(0x5db)]();}),_0x166211[_0x12f64b(0x3ad)](_0x12f64b(0x6c5),()=>{renderCart(_0x2ec611);});const _0x2e9008=document[_0x12f64b(0x6c7)](_0x12f64b(0x454));_0x2e9008[_0x12f64b(0x197)]=_0x12f64b(0x296),_0x2e9008['id']=_0x12f64b(0x181)+_0x2ec611+'-'+_0x108d8d['id'],_0x2e9008[_0x12f64b(0x489)]=_0x12f64b(0x5cb)+_0x508934,_0x2e9008[_0x12f64b(0x3ad)]('click',()=>{const _0x2104ed=_0x12f64b,_0x588f5c=_0x514487[_0x2104ed(0x560)][_0x2104ed(0x4ea)]('d-none');_0x588f5c?(_0x514487[_0x2104ed(0x560)][_0x2104ed(0x1ef)](_0x2104ed(0x689)),_0x2e9008[_0x2104ed(0x197)]=_0x2104ed(0x23e),updateCartItem(_0x2ec611,_0x1729f2,'setVisible',0x1)):(_0x514487[_0x2104ed(0x560)][_0x2104ed(0x417)](_0x2104ed(0x689)),_0x2e9008['innerHTML']=_0x2104ed(0x296),updateCartItem(_0x2ec611,_0x1729f2,'setVisible',0x0));}),_0x71571d[_0x12f64b(0x361)](_0x2e9008);const _0x4ef1ed=document[_0x12f64b(0x6c7)](_0x12f64b(0x50b));_0x4ef1ed[_0x12f64b(0x489)]=_0x12f64b(0x3b0);const _0x5c986d=document[_0x12f64b(0x6c7)](_0x12f64b(0x454));_0x5c986d[_0x12f64b(0x489)]='btn\x20btn-none\x20'+_0x508934,_0x5c986d[_0x12f64b(0x197)]=_0x12f64b(0x400),_0x5c986d[_0x12f64b(0x1fe)]=()=>{const _0x547a26=_0x12f64b;let _0x41e42e=parseFloat(_0x108d8d['setCantidad'])||0x0;_0x41e42e<=0x1?_0x41e42e=Math['max'](0.1,_0x41e42e-0.1):_0x41e42e=Math[_0x547a26(0x5a6)](0x0,_0x41e42e-0x1),_0x108d8d[_0x547a26(0x42f)]=_0x41e42e[_0x547a26(0x312)](0x1),_0x254fcd['value']=_0x108d8d[_0x547a26(0x42f)]||0x0,updateCartItem(_0x2ec611,_0x1729f2,_0x547a26(0x42f),_0x108d8d[_0x547a26(0x42f)]);};const _0x254fcd=document[_0x12f64b(0x6c7)](_0x12f64b(0x210));_0x108d8d[_0x12f64b(0x640)]!=''&&(_0x254fcd[_0x12f64b(0x202)]=!![]);_0x254fcd['type']=_0x12f64b(0x2dc),_0x254fcd[_0x12f64b(0x3f1)]=_0x12f64b(0x244),_0x254fcd[_0x12f64b(0x33a)]=_0x12f64b(0x244),_0x254fcd[_0x12f64b(0x351)]=_0x108d8d[_0x12f64b(0x42f)]||0x0,_0x254fcd[_0x12f64b(0x489)]=_0x12f64b(0x5c4),_0x254fcd['onchange']=_0x28dd01=>{const _0x67709e=_0x12f64b;var _0x39ae63=parseInt(_0x3474d7,0xa)||0x0,_0x32f27f=Math['pow'](0xa,-_0x39ae63);let _0x41224e=parseFloat(_0x28dd01['target'][_0x67709e(0x351)])||0x0;_0x41224e=_0x41224e<0x1?Math[_0x67709e(0x5a6)](_0x32f27f,_0x41224e):Math[_0x67709e(0x5a6)](0x1,_0x41224e),_0x108d8d['setCantidad']=_0x41224e[_0x67709e(0x312)](_0x39ae63),updateCartItem(_0x2ec611,_0x1729f2,'setCantidad',_0x108d8d[_0x67709e(0x42f)]);};const _0x21d0c9=document['createElement'](_0x12f64b(0x454));_0x21d0c9[_0x12f64b(0x489)]=_0x12f64b(0x4ba)+_0x508934,_0x21d0c9['innerHTML']='<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>',_0x21d0c9[_0x12f64b(0x1fe)]=()=>{const _0xcdeea2=_0x12f64b;let _0xd64f98=parseFloat(_0x108d8d[_0xcdeea2(0x42f)])||0x0;_0xd64f98<0x1?_0xd64f98=_0xd64f98+0.1:_0xd64f98=_0xd64f98+0x1,_0x108d8d[_0xcdeea2(0x42f)]=_0xd64f98['toFixed'](0x1),_0x254fcd['value']=_0x108d8d['setCantidad']||0x0,updateCartItem(_0x2ec611,_0x1729f2,'setCantidad',_0x108d8d['setCantidad']);},_0x4ef1ed[_0x12f64b(0x361)](_0x5c986d),_0x4ef1ed[_0x12f64b(0x361)](_0x254fcd),_0x4ef1ed['appendChild'](_0x21d0c9),_0x71571d['appendChild'](_0x4ef1ed);const _0x209703=document['createElement']('div');_0x209703[_0x12f64b(0x13f)]=''+(parseFloat(_0x108d8d['setTotal'])||0x0)[_0x12f64b(0x312)](0x2),_0x209703[_0x12f64b(0x489)]='input_cart_setSubtotal\x20input-cart-size\x20div-width-20',_0x71571d[_0x12f64b(0x361)](_0x209703);const _0x4b23a7=document['createElement'](_0x12f64b(0x454));_0x4b23a7[_0x12f64b(0x197)]=_0x12f64b(0x5ce),_0x4b23a7['className']=_0x12f64b(0x243);_0x108d8d[_0x12f64b(0x5b6)]!=''?_0x4b23a7[_0x12f64b(0x1fe)]=()=>removeFromCart(_0x2ec611,_0x1729f2,_0x108d8d['setOrderId']):_0x4b23a7[_0x12f64b(0x1fe)]=()=>removeFromCart(_0x2ec611,_0x1729f2);_0x71571d[_0x12f64b(0x361)](_0x4b23a7);const _0x2a5fb8=document[_0x12f64b(0x6c7)](_0x12f64b(0x50b));_0x2a5fb8[_0x12f64b(0x489)]=_0x12f64b(0x2a7),_0x2a5fb8[_0x12f64b(0x201)]['marginRight']=_0x12f64b(0x5b5);const _0x57b101=document['createElement']('textarea');_0x57b101[_0x12f64b(0x351)]=_0x108d8d['setNotas']||'',_0x57b101[_0x12f64b(0x489)]='input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control',_0x57b101['placeholder']=_0x12f64b(0x3a4),_0x57b101[_0x12f64b(0x295)]=0x2,_0x57b101[_0x12f64b(0x167)]=_0x44f6ce=>updateCartItem(_0x2ec611,_0x1729f2,_0x12f64b(0x3d4),_0x44f6ce['target']['value']),_0x2a5fb8[_0x12f64b(0x361)](_0x57b101);const _0x2c821c=document['createElement'](_0x12f64b(0x646));_0x2c821c[_0x12f64b(0x489)]=_0x12f64b(0x11d),_0x2c821c['innerHTML']=_0x12f64b(0x14f),_0x2a5fb8['appendChild'](_0x2c821c);const _0x1736ca=_0x36ac52,_0x4b30e2=createElement('select',{'class':'input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','events':{'change':_0x4dcb10=>updateCartItem(_0x2ec611,_0x1729f2,_0x12f64b(0x6ea),_0x4dcb10[_0x12f64b(0x114)][_0x12f64b(0x351)])}},_0x1736ca['map'](_0x43828d=>createElement(_0x12f64b(0x190),{'value':_0x43828d[_0x12f64b(0x6ea)],'innerHTML':_0x43828d['setAccountingAccountCode']+_0x12f64b(0x1ac)+_0x43828d[_0x12f64b(0x3e4)]}))),_0x43ce27=_0x1736ca[_0x12f64b(0x30c)](_0x1a54be=>_0x1a54be['setAccountingAccountId']==_0x108d8d[_0x12f64b(0x6ea)]);!_0x43ce27&&_0x1736ca[_0x12f64b(0x59a)]>0x0&&(_0x108d8d[_0x12f64b(0x6ea)]=_0x1736ca[0x0][_0x12f64b(0x6ea)]);_0x4b30e2[_0x12f64b(0x351)]=_0x108d8d[_0x12f64b(0x6ea)],_0x2a5fb8[_0x12f64b(0x361)](_0x4b30e2),_0x514487[_0x12f64b(0x361)](_0x2a5fb8);const _0x6fd70=document['createElement'](_0x12f64b(0x50b));_0x6fd70['className']='div-width-25',_0x6fd70[_0x12f64b(0x201)][_0x12f64b(0x3d2)]=_0x12f64b(0x5b5);const _0x5f4f52=document[_0x12f64b(0x6c7)]('label');_0x5f4f52['className']=_0x12f64b(0x11d),_0x5f4f52[_0x12f64b(0x197)]='Precio\x20Unitario',_0x6fd70[_0x12f64b(0x361)](_0x5f4f52);const _0x404ea7=document[_0x12f64b(0x6c7)](_0x12f64b(0x210));_0x404ea7[_0x12f64b(0x276)]='number',_0x404ea7[_0x12f64b(0x351)]=parseFloat(_0x108d8d[_0x12f64b(0x47f)])['toFixed'](0x2)||0x0,_0x404ea7[_0x12f64b(0x489)]='input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control',_0x404ea7['onchange']=_0x512ab3=>updateCartItem(_0x2ec611,_0x1729f2,'setMtoPrecioUnitario_input',_0x512ab3[_0x12f64b(0x114)][_0x12f64b(0x351)]),_0x6fd70[_0x12f64b(0x361)](_0x404ea7);const _0x1d2d4c=document[_0x12f64b(0x6c7)](_0x12f64b(0x646));_0x1d2d4c['className']=_0x12f64b(0x11d),_0x1d2d4c['innerHTML']=_0x12f64b(0x3a3),_0x6fd70[_0x12f64b(0x361)](_0x1d2d4c);const _0xcc51a3=document['createElement'](_0x12f64b(0x210));_0xcc51a3[_0x12f64b(0x276)]=_0x12f64b(0x2dc),_0xcc51a3[_0x12f64b(0x351)]=_0x108d8d['setDescuento'][_0x12f64b(0x66c)]||0x0,_0xcc51a3[_0x12f64b(0x489)]=_0x12f64b(0x676),_0xcc51a3['onchange']=_0x40898c=>updateCartItem(_0x2ec611,_0x1729f2,'setPorcentajeDesc',_0x40898c[_0x12f64b(0x114)][_0x12f64b(0x351)]),_0x6fd70['appendChild'](_0xcc51a3),_0x514487[_0x12f64b(0x361)](_0x6fd70);const _0x567d3e=document['createElement'](_0x12f64b(0x50b));_0x567d3e[_0x12f64b(0x489)]=_0x12f64b(0x3c8),_0x567d3e['style'][_0x12f64b(0x3d2)]='5px';const _0x59f2e1=document[_0x12f64b(0x6c7)]('label');_0x59f2e1['className']=_0x12f64b(0x11d),_0x59f2e1[_0x12f64b(0x197)]=_0x12f64b(0x543),_0x567d3e[_0x12f64b(0x361)](_0x59f2e1);const _0x4e16c2=document[_0x12f64b(0x6c7)](_0x12f64b(0x210));_0x4e16c2[_0x12f64b(0x276)]=_0x12f64b(0x2dc),_0x4e16c2['value']=parseFloat(_0x108d8d[_0x12f64b(0x180)])['toFixed'](0x2)||0x0,_0x4e16c2['className']=_0x12f64b(0x112),_0x4e16c2['onchange']=_0x56634b=>updateCartItem(_0x2ec611,_0x1729f2,'setMtoPrecioCostoUnitario_input',_0x56634b[_0x12f64b(0x114)]['value']),_0x567d3e[_0x12f64b(0x361)](_0x4e16c2);const _0x584984=document[_0x12f64b(0x6c7)]('label');_0x584984[_0x12f64b(0x489)]=_0x12f64b(0x11d),_0x584984[_0x12f64b(0x197)]='Impuesto',_0x567d3e['appendChild'](_0x584984);const _0x417179=myCompany[_0x12f64b(0x353)],_0x58c6ae=createElement(_0x12f64b(0x1e0),{'class':_0x12f64b(0x21f),'events':{'change':_0x4ff713=>updateCartItem(_0x2ec611,_0x1729f2,'setTipAfeIgv',_0x4ff713['target'][_0x12f64b(0x351)])}},_0x417179[_0x12f64b(0x17c)](_0x33cd8f=>createElement('option',{'value':_0x33cd8f['setTaxId'],'innerHTML':_0x33cd8f[_0x12f64b(0x139)]+'\x20('+_0x33cd8f[_0x12f64b(0x31b)]+'%)'})));_0x58c6ae[_0x12f64b(0x351)]=_0x108d8d['setTaxId'],_0x567d3e[_0x12f64b(0x361)](_0x58c6ae),_0x514487[_0x12f64b(0x361)](_0x567d3e),_0x585bc2[_0x12f64b(0x361)](_0x71571d),_0x585bc2[_0x12f64b(0x361)](_0x514487),_0x4814a5[_0x12f64b(0x361)](_0x585bc2);});const _0x10ec39=getCurrencySymbol(_0x2ec611);_0x7df1f3[_0x25cdcb(0x197)]='<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-'+_0x2ec611+_0x25cdcb(0x4fa)+(parseFloat(_0x12d9b3)||0x0)[_0x25cdcb(0x312)](0x2)+_0x25cdcb(0x68a),_0x390d35[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x122777)||0x0)['toFixed'](0x2),_0x42fe1c['textContent']=_0x10ec39+'\x20'+(parseFloat(_0x536927)||0x0)[_0x25cdcb(0x312)](0x2),_0x448337[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x1e96c4)||0x0)[_0x25cdcb(0x312)](0x2),_0x235913[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0xa34b83)||0x0)['toFixed'](0x2),_0xda9b03[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x362230)||0x0)[_0x25cdcb(0x312)](0x2),_0x3e04ea[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x2b60ed)||0x0)[_0x25cdcb(0x312)](0x2),_0xc425b2[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x14f4ce)||0x0)[_0x25cdcb(0x312)](0x2),_0x3f8813[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x9575bd)||0x0)[_0x25cdcb(0x312)](0x2),_0xb09479[_0x25cdcb(0x13f)]=_0x10ec39+'\x20'+(parseFloat(_0x4dd436)||0x0)[_0x25cdcb(0x312)](0x2);}function addToCart(_0x37da09,_0x5d9273=null,_0x1dca33=0x0,_0x421d53=0x0){const _0x174c48=_0x37a403;let _0x3d6c83;_0x421d53!=0x0?_0x3d6c83=_0x421d53:_0x3d6c83=document[_0x174c48(0x456)](_0x174c48(0x415))[_0x174c48(0x351)];if(_0x3d6c83<=0x0){ntfShow(_0x174c48(0x1d4));return;}if(!carts[_0x3d6c83])carts[_0x3d6c83]=[];const _0x4e7ba6=carts[_0x3d6c83],_0x4155ec=document[_0x174c48(0x456)]('setBranchId')['value'],_0x4d9562=myCompany[_0x174c48(0x363)],_0x43983c=_0x4d9562[_0x174c48(0x4bd)](_0xa5c337=>_0xa5c337[_0x174c48(0x306)]==_0x4155ec&&_0xa5c337[_0x174c48(0x1d1)]=='1'),_0x5d46b0=getUserPermissionApiERP(0xf);if(!_0x43983c&&_0x5d46b0==0x1){updateShiftDisplay();return;}const _0x457d39=getUserPermissionApiERP(0x1);if(_0x37da09['setInventariable']==0x1&&window_options[_0x3d6c83][_0x174c48(0x2fb)]!=0x2&&_0x1dca33==0x0&&_0x37da09[_0x174c48(0x29d)]!=0x1){const _0xa251cf=_0x37da09[_0x174c48(0x342)];if(_0xa251cf){const _0x410abd=new Date(_0xa251cf),_0x13f4fb=new Date();_0x13f4fb['setHours'](0x0,0x0,0x0,0x0);if(_0x410abd<_0x13f4fb){ntfShow(_0x174c48(0x2a9),0x2,0x2);return;}}if(setTipOpeSales[_0x174c48(0x30c)](_0x3c732b=>_0x3c732b==window_options[_0x3d6c83]['setTipoOperacion'])&&_0x457d39==0x0){const _0x2bc131=document[_0x174c48(0x456)](_0x174c48(0x2d7))[_0x174c48(0x351)],_0x1bc211=_0x37da09[_0x174c48(0x4cf)][_0x174c48(0x4bd)](_0x4c7880=>String(_0x4c7880['setIdSucursal'])==_0x2bc131),_0x1b3099=_0x1bc211?parseFloat(_0x1bc211[_0x174c48(0x5de)]):0x0;if(_0x1b3099<=0x0){ntfShow(_0x174c48(0x286),0x2,0x2);return;}const _0x183608=_0x37da09[_0x174c48(0x2d4)],_0x3025f4=parseFloat(_0x37da09['setConversionFactor'])||0x1,_0x13075b=_0x5d9273?parseFloat(_0x5d9273['setValorCantidad'])||0x1:0x1;let _0x5d40e4=_0x4e7ba6[_0x174c48(0x51d)]((_0x47becd,_0x25c1f7)=>{const _0x4dd0fe=_0x174c48,_0x5eee9c=products['find'](_0x431938=>_0x431938['id']==_0x25c1f7[_0x4dd0fe(0x2d4)]);if(!_0x5eee9c||_0x5eee9c[_0x4dd0fe(0x2d4)]!=_0x183608)return _0x47becd;const _0x88dc9d=parseFloat(_0x5eee9c['setConversionFactor'])||0x1;return _0x47becd+(parseFloat(_0x25c1f7[_0x4dd0fe(0x42f)])||0x0)*_0x88dc9d;},0x0);const _0x38d63f=_0x5d40e4+_0x13075b*_0x3025f4;console[_0x174c48(0x6ab)](_0x174c48(0x64e),{'masterId':_0x183608,'stock':_0x1b3099,'totalExistingBase':_0x5d40e4,'addFactor':_0x3025f4,'qtyToAdd':_0x13075b,'totalInBase':_0x38d63f});if(_0x38d63f>_0x1b3099){ntfShow(_0x174c48(0x498),0x2,0x2);return;}}}let _0x590a89,_0x54a530;setTipOpeOrders[_0x174c48(0x30c)](_0xa768a4=>_0xa768a4==window_options[_0x3d6c83]['setTipoOperacion'])||setTipOpeSales[_0x174c48(0x30c)](_0x41d187=>_0x41d187==window_options[_0x3d6c83]['setTipoOperacion'])||setTipOpeQuotation[_0x174c48(0x30c)](_0xd0ea56=>_0xd0ea56==window_options[_0x3d6c83][_0x174c48(0x118)])?(_0x590a89=myCompany[_0x174c48(0x4a6)][_0x174c48(0x5a3)](_0x3b5146=>_0x3b5146[_0x174c48(0x575)]==0x1),_0x54a530=0x2):(_0x590a89=myCompany[_0x174c48(0x4a6)][_0x174c48(0x5a3)](_0x1f80ed=>_0x1f80ed[_0x174c48(0x575)]==0x2),_0x54a530=0x1);const _0x5e0c30=_0x590a89[0x0]||{},_0x214099=_0x5e0c30['setAccountingAccountId']||'',_0x57ae7c=_0x5e0c30['setAccountingAccountCode']||'',_0x37ef1f=_0x5e0c30[_0x174c48(0x3e4)]||'',_0x3f16ec=_0x5e0c30[_0x174c48(0x575)]||'';let _0x9ba855=0x1,_0xa242e4=0x0,_0x56da79=0x0,_0x2422d6=_0x37da09['setTaxId'],_0x32ff86=myCompany['setImpuestos'][_0x174c48(0x4bd)](_0x24ae0b=>_0x24ae0b[_0x174c48(0x616)]==_0x2422d6)?.[_0x174c48(0x561)],_0x1c6e9f=0x0,_0x4ef256=0x0,_0x432482=0x0,_0x5dc13a=0x0,_0x4ab5e3=0x0,_0x59e7aa=_0x37da09[_0x174c48(0x3d4)]??'';const _0x3c788e=document[_0x174c48(0x456)](_0x174c48(0x20f)+_0x3d6c83)[_0x174c48(0x351)],_0x29bb8d=_0x37da09[_0x174c48(0x52b)][_0x174c48(0x4bd)](_0x2ce5fa=>_0x2ce5fa['currency']==_0x3c788e)||{};_0x54a530==0x1?(_0xa242e4=_0x29bb8d[_0x174c48(0x62e)]||0x0,_0x56da79=_0x29bb8d['setMtoPrecioCostoUnitario']||0x0):(_0xa242e4=_0x29bb8d[_0x174c48(0x322)]||0x0,_0x56da79=_0x29bb8d[_0x174c48(0x641)]||0x0);_0x4ef256=_0x29bb8d[_0x174c48(0x641)]||0x0,_0x432482=_0x29bb8d['setMtoPrecioCostoUnitario']||0x0,_0x5dc13a=_0x29bb8d[_0x174c48(0x322)]||0x0,_0x4ab5e3=_0x29bb8d[_0x174c48(0x62e)]||0x0;let _0x458f6b=generateUniqId(),_0x43652e='',_0x37ecf9='';_0x5d9273&&(_0x9ba855=_0x5d9273['setValorCantidad']??_0x9ba855,_0xa242e4=0x0,_0x56da79=_0x5d9273[_0x174c48(0x545)],_0x2422d6=_0x5d9273['setTaxId'],_0x32ff86=_0x5d9273[_0x174c48(0x220)],_0x1c6e9f=_0x5d9273[_0x174c48(0x66c)],_0x4ef256=_0x5d9273[_0x174c48(0x47f)]??_0x4ef256,_0x432482=_0x5d9273[_0x174c48(0x180)]??_0x432482,_0x5dc13a=0x0,_0x4ab5e3=0x0,_0x59e7aa=_0x5d9273[_0x174c48(0x3d4)],_0x458f6b=_0x5d9273['cartId']??_0x458f6b,_0x43652e=_0x5d9273[_0x174c48(0x640)]??'',_0x37ecf9=_0x5d9273[_0x174c48(0x5b6)]??'');const _0x489e19=getUserPermissionApiERP(0x4),{currentWindowShift:_0x596e1f}=getValidatedWindowAndShift(_0x3d6c83)||{},_0xf4d00a=_0x596e1f||_0x489e19==0x1?![]:_0x4e7ba6[_0x174c48(0x4bd)](_0x11be42=>_0x11be42[_0x174c48(0x2d4)]==_0x37da09['id']),_0x33266e=[{'valorUnit':_0xf4d00a?_0xf4d00a['setMtoValorUnitario_final']:_0xa242e4,'precioUnit':_0xf4d00a?_0xf4d00a[_0x174c48(0x545)]:_0x56da79,'valorCantidad':_0xf4d00a?_0xf4d00a[_0x174c48(0x42f)]+0x1:_0x9ba855,'valorPorcentajeIgv':_0xf4d00a?_0xf4d00a[_0x174c48(0x2f1)]:myCompany[_0x174c48(0x353)][_0x174c48(0x4bd)](_0x528a5e=>_0x528a5e[_0x174c48(0x616)]==_0x2422d6)[_0x174c48(0x31b)],'setTipAfeIgv':_0x32ff86,'setDescuento':{'setCodTipo':_0xf4d00a?.[_0x174c48(0x621)]?.[_0x174c48(0x137)]||'00','setPorcentajeDesc':_0xf4d00a?.[_0x174c48(0x621)]?.[_0x174c48(0x66c)]||_0x1c6e9f}}],{setInvoiceDetails:_0x5a2e3e}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x174c48(0x353)][_0x174c48(0x4bd)](_0x33186f=>_0x33186f[_0x174c48(0x616)]==_0x2422d6)[_0x174c48(0x31b)],'items':_0x33266e,'descuentoGlobalMonto':0x0}),_0x1f4403=_0x5a2e3e[0x0];if(_0xf4d00a)_0xf4d00a[_0x174c48(0x42f)]++,Object['assign'](_0xf4d00a,{'setMtoValorUnitario':_0x1f4403[_0x174c48(0x322)],'setMtoValorGratuito':_0x1f4403[_0x174c48(0x290)],'setMtoValorVenta':_0x1f4403[_0x174c48(0x6d3)],'setMtoBaseIgv':_0x1f4403[_0x174c48(0x54a)],'setPorcentajeIgv':_0x1f4403[_0x174c48(0x2f1)],'setIgv':_0x1f4403['setIgv'],'setTotalImpuestos':_0x1f4403[_0x174c48(0x3ac)],'setMtoPrecioUnitario':_0x1f4403[_0x174c48(0x641)],'setTotal':parseFloat(_0x1f4403[_0x174c48(0x641)])*parseFloat(_0xf4d00a[_0x174c48(0x42f)]),'setMtoPrecioUnitario_final':_0x1f4403[_0x174c48(0x545)],'setMtoValorUnitario_final':_0x1f4403[_0x174c48(0x559)],'setMtoPrecioUnitario_input':_0x54a530==0x1?_0x4ef256:parseFloat(_0x1f4403[_0x174c48(0x545)])[_0x174c48(0x312)](0x2),'setMtoPrecioCostoUnitario_input':_0x54a530==0x1?parseFloat(_0x1f4403[_0x174c48(0x545)])[_0x174c48(0x312)](0x2):_0x432482,'setMtoValorUnitario_input':_0x54a530==0x1?_0x5dc13a:parseFloat(_0x1f4403[_0x174c48(0x559)])['toFixed'](0x2),'setMtoValorCostoUnitario_input':_0x54a530==0x1?parseFloat(_0x1f4403[_0x174c48(0x559)])['toFixed'](0x2):_0x4ab5e3});else{let _0x2fecf4=_0x37da09[_0x174c48(0x2f5)];const _0x63ffa8=parseInt(getUserPermissionApiERP(0x16));_0x63ffa8==0x1?_0x2fecf4=formatVariantName(_0x37da09['setDescripcion'],_0x37da09[_0x174c48(0x3e9)],0x1):_0x2fecf4=formatVariantName(_0x37da09[_0x174c48(0x2f5)],_0x37da09['setItemVariantValues'],0x2),_0x4e7ba6[_0x174c48(0x385)]({'cartId':_0x458f6b,'setIdProducto':_0x37da09['id'],'setCodProducto':_0x37da09['setCodProducto'],'setDescripcion':_0x2fecf4,'setItemDescription':_0x37da09[_0x174c48(0x69b)],'setUnidad':_0x37da09['setUnidad'],'setInventariable':_0x37da09[_0x174c48(0x2e5)],'setMarca':_0x37da09['setMarca'],'setCantidad':_0x9ba855,'setMtoValorUnitario':_0x1f4403[_0x174c48(0x322)],'setMtoValorGratuito':_0x1f4403[_0x174c48(0x290)],'setMtoValorVenta':_0x1f4403[_0x174c48(0x6d3)],'setMtoBaseIgv':_0x1f4403[_0x174c48(0x54a)],'setPorcentajeIgv':_0x1f4403[_0x174c48(0x2f1)],'setIgv':_0x1f4403[_0x174c48(0x5d6)],'setTotalImpuestos':_0x1f4403[_0x174c48(0x3ac)],'setMtoPrecioUnitario':_0x1f4403[_0x174c48(0x641)],'setTotal':parseFloat(_0x1f4403[_0x174c48(0x641)])*parseFloat(_0x9ba855),'setMtoPrecioUnitario_final':_0x1f4403[_0x174c48(0x545)],'setMtoValorUnitario_final':_0x1f4403['setMtoValorUnitario_final'],'setTaxId':_0x2422d6,'setTipAfeIgv':_0x32ff86,'setMtoPrecioUnitario_input':_0x54a530==0x1?_0x4ef256:parseFloat(_0x1f4403[_0x174c48(0x545)])[_0x174c48(0x312)](0x2),'setMtoPrecioCostoUnitario_input':_0x54a530==0x1?parseFloat(_0x1f4403['setMtoPrecioUnitario_final'])[_0x174c48(0x312)](0x2):_0x432482,'setMtoValorUnitario_input':_0x54a530==0x1?_0x5dc13a:parseFloat(_0x1f4403[_0x174c48(0x559)])[_0x174c48(0x312)](0x2),'setMtoValorCostoUnitario_input':_0x54a530==0x1?parseFloat(_0x1f4403[_0x174c48(0x559)])[_0x174c48(0x312)](0x2):_0x4ab5e3,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x1c6e9f},'setVisible':0x0,'setNotas':_0x59e7aa,'setChecked':0x1,'setWindowShiftId':_0x43652e,'setOrderId':_0x37ecf9,'setAccountingAccountId':_0x214099,'setAccountingAccountCode':_0x57ae7c,'setAccountingAccountName':_0x37ef1f,'setAccountingAccountType':_0x3f16ec,'setItemFree':_0x37da09['setItemFree']??0x0});}saveCart(_0x3d6c83)[_0x174c48(0x323)](()=>{const _0x248f52=_0x174c48;renderCart(_0x3d6c83);if(isMobile()){const _0x9364a7=getUserPermissionApiERP(0x11);_0x9364a7==0x1&&showRightSection(),_0x1dca33==0x0&&ntfShow(_0x248f52(0x556),0x1,0x2);}})[_0x174c48(0x258)](_0x5b578a=>{const _0x41e609=_0x174c48;console['error'](_0x41e609(0x1ec),_0x5b578a);});}function calcFinalPrice(_0x26886a,_0x62eaf8,_0x16f525){switch(_0x62eaf8){case 0x1:return _0x26886a*(0x1-_0x16f525/0x64);case 0x2:return _0x26886a*(0x1+_0x16f525/0x64);case 0x3:return _0x26886a-_0x16f525;case 0x4:return _0x26886a+_0x16f525;case 0x5:return _0x16f525;default:return _0x26886a;}}function updateCartItem(_0x441ca4,_0x4697c0,_0x85e594,_0x47d6e0){const _0x3e0442=_0x37a403;let _0x14925b=_0x47d6e0;[_0x3e0442(0x42f),_0x3e0442(0x322),_0x3e0442(0x47f),_0x3e0442(0x180),_0x3e0442(0x66c),_0x3e0442(0x1b6)][_0x3e0442(0x67b)](_0x85e594)&&(_0x14925b=parseFloat(_0x14925b));const _0x1a3d78=carts[_0x441ca4];if(!_0x1a3d78||!_0x1a3d78[_0x4697c0]){console['error'](_0x3e0442(0x384)+_0x441ca4);return;}if(setTipOpeSales['some'](_0x468b50=>_0x468b50==window_options[_0x441ca4]['setTipoOperacion'])){const _0x2105f7=getUserPermissionApiERP(0x1),_0x49b0f8=_0x1a3d78[_0x4697c0];if(_0x2105f7==0x0&&_0x49b0f8[_0x3e0442(0x2e5)]==0x1&&window_options[_0x441ca4][_0x3e0442(0x2fb)]!=0x2&&_0x49b0f8[_0x3e0442(0x29d)]!=0x1){const _0x4a04c8=products[_0x3e0442(0x4bd)](_0x38db07=>_0x38db07['id']==_0x49b0f8[_0x3e0442(0x2d4)]),_0x2e6332=_0x4a04c8[_0x3e0442(0x2d4)],_0x3d00ea=document[_0x3e0442(0x456)]('setWarehouseId')['value'],_0x37f577=_0x4a04c8[_0x3e0442(0x4cf)][_0x3e0442(0x4bd)](_0x17563f=>String(_0x17563f[_0x3e0442(0x2b6)])==_0x3d00ea),_0x44d0ee=_0x37f577?parseFloat(_0x37f577[_0x3e0442(0x5de)]):0x0,_0x3fd958=parseFloat(_0x4a04c8[_0x3e0442(0x525)])||0x1;let _0x3a311b=_0x1a3d78[_0x3e0442(0x51d)]((_0x107ebf,_0x369e48)=>{const _0x5d1334=_0x3e0442,_0x434fbe=products[_0x5d1334(0x4bd)](_0x4e941b=>_0x4e941b['id']==_0x369e48[_0x5d1334(0x2d4)]);if(!_0x434fbe||_0x434fbe[_0x5d1334(0x2d4)]!=_0x2e6332)return _0x107ebf;const _0x3499f3=parseFloat(_0x434fbe['setConversionFactor'])||0x1;return _0x107ebf+(parseFloat(_0x369e48[_0x5d1334(0x42f)])||0x0)*_0x3499f3;},0x0),_0x410ae0=_0x3a311b;if(_0x85e594=='setCantidad'){const _0x4bc082=parseFloat(_0x49b0f8[_0x3e0442(0x42f)])||0x0;_0x410ae0=_0x3a311b-_0x4bc082*_0x3fd958+_0x14925b*_0x3fd958;}console[_0x3e0442(0x6ab)](_0x3e0442(0x39f),{'masterId':_0x2e6332,'stock':_0x44d0ee,'totalExistingBase':_0x3a311b,'oldFactor':_0x3fd958,'oldCantidad':_0x49b0f8['setCantidad'],'new_value':_0x14925b,'totalInBase':_0x410ae0});if(_0x85e594==_0x3e0442(0x42f)&&_0x410ae0>_0x44d0ee){let _0x2095a2=_0x1a3d78['reduce']((_0x493427,_0x105284,_0x32804d)=>{const _0x328d7d=_0x3e0442;if(_0x32804d===_0x4697c0)return _0x493427;const _0x319286=products[_0x328d7d(0x4bd)](_0x2ef1a4=>_0x2ef1a4['id']==_0x105284['setIdProducto']);if(!_0x319286||_0x319286[_0x328d7d(0x2d4)]!=_0x2e6332)return _0x493427;const _0x22f1cd=parseFloat(_0x319286[_0x328d7d(0x525)])||0x1;return _0x493427+(parseFloat(_0x105284['setCantidad'])||0x0)*_0x22f1cd;},0x0);const _0x23f9d0=Math[_0x3e0442(0x5a6)](_0x44d0ee-_0x2095a2,0x0),_0x3e95da=_0x23f9d0/_0x3fd958;console[_0x3e0442(0x6ab)](_0x3e0442(0x3c9),{'availableInBase':_0x23f9d0,'maxQty':_0x3e95da}),ntfShow(_0x3e0442(0x328)+_0x23f9d0['toFixed'](0x0)+_0x3e0442(0x518)+(_0x3e0442(0x61f)+_0x3e95da[_0x3e0442(0x312)](0x2)+_0x3e0442(0x30f))+_0x3e0442(0x2af)),_0x14925b=_0x3e95da;}if(_0x44d0ee<=0x0){ntfShow(_0x3e0442(0x286));return;}}}if(_0x85e594=='setTipAfeIgv'){_0x1a3d78[_0x4697c0][_0x3e0442(0x616)]=_0x14925b;const _0x10b3e6=_0x14925b,_0x10bb8f=myCompany[_0x3e0442(0x353)][_0x3e0442(0x4bd)](_0x36b0aa=>_0x36b0aa['setTaxId']==_0x10b3e6),_0x4aeac0=_0x10bb8f?_0x10bb8f[_0x3e0442(0x561)]:'',_0x2d2017=_0x10bb8f?_0x10bb8f['setImpuestoValue']:'';_0x1a3d78[_0x4697c0][_0x3e0442(0x220)]=_0x4aeac0,_0x1a3d78[_0x4697c0][_0x3e0442(0x2f1)]=_0x2d2017;}else{if(_0x85e594==_0x3e0442(0x1b6))_0x1a3d78[_0x4697c0][_0x3e0442(0x1b6)]=_0x1a3d78[_0x4697c0]['setChecked']?0x0:0x1;else _0x85e594==_0x3e0442(0x66c)?(_0x1a3d78[_0x4697c0][_0x3e0442(0x621)]['setCodTipo']='00',_0x1a3d78[_0x4697c0][_0x3e0442(0x621)][_0x3e0442(0x66c)]=_0x14925b):_0x1a3d78[_0x4697c0][_0x85e594]=_0x14925b;}if(_0x85e594==_0x3e0442(0x6ea)){const _0x1bed58=myCompany[_0x3e0442(0x4a6)][_0x3e0442(0x4bd)](_0x49c8fc=>_0x49c8fc['setAccountingAccountId']==_0x14925b);_0x1a3d78[_0x4697c0]['setAccountingAccountCode']=_0x1bed58?_0x1bed58[_0x3e0442(0x664)]:'',_0x1a3d78[_0x4697c0][_0x3e0442(0x3e4)]=_0x1bed58?_0x1bed58[_0x3e0442(0x3e4)]:'',_0x1a3d78[_0x4697c0][_0x3e0442(0x575)]=_0x1bed58?_0x1bed58[_0x3e0442(0x575)]:'';}_0x85e594==_0x3e0442(0x47f)&&(_0x1a3d78[_0x4697c0][_0x3e0442(0x441)]=0x0);_0x85e594=='setMtoPrecioCostoUnitario_input'&&(_0x1a3d78[_0x4697c0][_0x3e0442(0x565)]=0x0);let _0x1edf5e;if(setTipOpeOrders[_0x3e0442(0x30c)](_0x10394e=>_0x10394e==window_options[_0x441ca4][_0x3e0442(0x118)])||setTipOpeSales[_0x3e0442(0x30c)](_0xffa113=>_0xffa113==window_options[_0x441ca4][_0x3e0442(0x118)])||setTipOpeQuotation[_0x3e0442(0x30c)](_0x3bdbfc=>_0x3bdbfc==window_options[_0x441ca4][_0x3e0442(0x118)])){_0x1edf5e=0x2;if(_0x85e594==_0x3e0442(0x42f)){const _0x2e31cc=document[_0x3e0442(0x456)](_0x3e0442(0x20f)+_0x441ca4)[_0x3e0442(0x351)],_0x4ff1d8=products[_0x3e0442(0x4bd)](_0x44330b=>_0x44330b['id']==_0x1a3d78[_0x4697c0]['setIdProducto']),_0x2bd26a=_0x4ff1d8[_0x3e0442(0x52b)][_0x3e0442(0x4bd)](_0x610546=>_0x610546[_0x3e0442(0x2d9)]==_0x2e31cc)||{},_0x2e8ceb=_0x2bd26a[_0x3e0442(0x641)]||0x0,_0x410d1d=_0x2bd26a['setPriceLists']||[],_0x3a751a=_0x1a3d78[_0x4697c0][_0x3e0442(0x42f)],_0x4c185a=_0x410d1d['filter'](_0x43231b=>_0x43231b[_0x3e0442(0x1e5)]==0x2),_0x513834=_0x4c185a[_0x3e0442(0x4bd)](_0x11cbaf=>_0x3a751a>=_0x11cbaf[_0x3e0442(0x59d)]&&_0x3a751a<=_0x11cbaf[_0x3e0442(0x44d)]);if(_0x4c185a[_0x3e0442(0x59a)]>0x0){let _0x3cb578;_0x513834?_0x3cb578=calcFinalPrice(_0x2e8ceb,_0x513834[_0x3e0442(0x370)],_0x513834['setPriceListAdjustmentAmount']):_0x3cb578=_0x2e8ceb,_0x1a3d78[_0x4697c0][_0x3e0442(0x47f)]=_0x3cb578,_0x1a3d78[_0x4697c0]['setMtoValorUnitario_input']=0x0;}}}else _0x1edf5e=0x1;_0x1edf5e==0x1?_0x1a3d78[_0x4697c0]['setMtoPrecioUnitario_final']=_0x1a3d78[_0x4697c0][_0x3e0442(0x180)]:_0x1a3d78[_0x4697c0][_0x3e0442(0x545)]=_0x1a3d78[_0x4697c0]['setMtoPrecioUnitario_input'];const _0x259050=[{'valorUnit':0x0,'precioUnit':_0x1a3d78[_0x4697c0][_0x3e0442(0x545)],'valorCantidad':_0x1a3d78[_0x4697c0]['setCantidad'],'valorPorcentajeIgv':_0x1a3d78[_0x4697c0][_0x3e0442(0x2f1)],'setTipAfeIgv':_0x1a3d78[_0x4697c0][_0x3e0442(0x220)],'setDescuento':{'setCodTipo':_0x1a3d78[_0x4697c0]['setDescuento']['setCodTipo'],'setPorcentajeDesc':_0x1a3d78[_0x4697c0]['setDescuento'][_0x3e0442(0x66c)]}}],{setInvoiceDetails:_0x255f68}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x3e0442(0x353)][_0x3e0442(0x4bd)](_0x4102fe=>_0x4102fe['setTaxId']==_0x1a3d78[_0x4697c0]['setTaxId'])[_0x3e0442(0x31b)],'items':_0x259050,'descuentoGlobalMonto':0x0}),_0x433416=_0x255f68[0x0];_0x1a3d78[_0x4697c0][_0x3e0442(0x322)]=_0x433416[_0x3e0442(0x322)],_0x1a3d78[_0x4697c0][_0x3e0442(0x290)]=_0x433416['setMtoValorGratuito'],_0x1a3d78[_0x4697c0][_0x3e0442(0x6d3)]=_0x433416[_0x3e0442(0x6d3)],_0x1a3d78[_0x4697c0][_0x3e0442(0x54a)]=_0x433416[_0x3e0442(0x54a)],_0x1a3d78[_0x4697c0][_0x3e0442(0x2f1)]=_0x433416[_0x3e0442(0x2f1)],_0x1a3d78[_0x4697c0][_0x3e0442(0x5d6)]=_0x433416['setIgv'],_0x1a3d78[_0x4697c0][_0x3e0442(0x220)]=_0x433416[_0x3e0442(0x220)],_0x1a3d78[_0x4697c0][_0x3e0442(0x3ac)]=_0x433416[_0x3e0442(0x3ac)],_0x1a3d78[_0x4697c0][_0x3e0442(0x641)]=_0x433416['setMtoPrecioUnitario'],_0x1a3d78[_0x4697c0][_0x3e0442(0x545)]=_0x433416['setMtoPrecioUnitario_final'],_0x1a3d78[_0x4697c0][_0x3e0442(0x559)]=_0x433416[_0x3e0442(0x559)],_0x1a3d78[_0x4697c0]['setMtoPrecioUnitario_input']=_0x1edf5e==0x1?_0x1a3d78[_0x4697c0][_0x3e0442(0x47f)]:_0x433416['setMtoPrecioUnitario_final'],_0x1a3d78[_0x4697c0][_0x3e0442(0x180)]=_0x1edf5e==0x1?_0x433416[_0x3e0442(0x545)]:_0x1a3d78[_0x4697c0][_0x3e0442(0x180)],_0x1a3d78[_0x4697c0][_0x3e0442(0x441)]=_0x1edf5e==0x1?_0x1a3d78[_0x4697c0][_0x3e0442(0x441)]:_0x433416[_0x3e0442(0x559)],_0x1a3d78[_0x4697c0][_0x3e0442(0x565)]=_0x1edf5e==0x1?_0x433416['setMtoValorUnitario_final']:_0x1a3d78[_0x4697c0][_0x3e0442(0x565)],_0x1a3d78[_0x4697c0][_0x3e0442(0x586)]=_0x433416[_0x3e0442(0x586)],_0x1a3d78[_0x4697c0][_0x3e0442(0x1ae)]=_0x433416[_0x3e0442(0x1ae)],_0x1a3d78[_0x4697c0][_0x3e0442(0x1d5)]=_0x433416[_0x3e0442(0x1d5)],_0x1a3d78[_0x4697c0][_0x3e0442(0x392)]=_0x433416[_0x3e0442(0x392)],_0x1a3d78[_0x4697c0]['setDescuento_setMonto_precio']=_0x433416[_0x3e0442(0x17d)],_0x1a3d78[_0x4697c0]['setPorcentajeDesc']=_0x433416[_0x3e0442(0x66c)],_0x1a3d78[_0x4697c0][_0x3e0442(0x41d)]=_0x433416[_0x3e0442(0x41d)],saveCart(_0x441ca4)['then'](()=>{const _0x18be52=_0x3e0442;renderCart(_0x441ca4),console['log'](_0x18be52(0x3ff)+_0x441ca4);})[_0x3e0442(0x258)](_0xa08aca=>{const _0x53bbf7=_0x3e0442;console[_0x53bbf7(0x65e)](_0x53bbf7(0x6e9),_0xa08aca);});}async function saveCart(_0x169aca){return new Promise((_0x4be8e4,_0x3497ab)=>{const _0x2cfb1c=_0x530c;try{const _0xd5e4d1=carts[_0x169aca]||[],_0x22a11a=_0x2cfb1c(0x4ca)+_0x169aca;if(_0xd5e4d1[_0x2cfb1c(0x59a)]===0x0){const _0xdda0d6=db['transaction']([_0x22a11a],'readwrite'),_0x52cd8b=_0xdda0d6[_0x2cfb1c(0x35d)](_0x22a11a),_0x20756b=_0x52cd8b[_0x2cfb1c(0x2aa)]();_0x20756b[_0x2cfb1c(0x1c0)]=async()=>{const _0x1442bc=_0x2cfb1c,_0x3af9a4=myCompany[_0x1442bc(0x53e)][_0x1442bc(0x4bd)](_0x6e17ff=>_0x6e17ff[_0x1442bc(0x1af)]==_0x169aca);_0x3af9a4[_0x1442bc(0x6b8)]=myCompany[_0x1442bc(0x57a)]['setUserId'],_0x3af9a4[_0x1442bc(0x40c)]=[],_0x3af9a4[_0x1442bc(0x373)]=nowWithMillisecondsForServer();try{const _0x4282a6=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4282a6),apiERPsyncWindowsCartTmp(),_0x4be8e4();}catch(_0x172065){console[_0x1442bc(0x65e)]('Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:',_0x172065),_0x3497ab(_0x172065);}},_0x20756b[_0x2cfb1c(0x618)]=_0x592329=>{const _0x553609=_0x2cfb1c;console[_0x553609(0x65e)](_0x553609(0x6da),_0x592329['target'][_0x553609(0x65e)]),_0x3497ab(_0x592329[_0x553609(0x114)][_0x553609(0x65e)]);},_0xdda0d6[_0x2cfb1c(0x618)]=_0x3d121c=>{const _0x530b1b=_0x2cfb1c;console[_0x530b1b(0x65e)]('Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:',_0x3d121c[_0x530b1b(0x114)][_0x530b1b(0x65e)]),_0x3497ab(_0x3d121c[_0x530b1b(0x114)][_0x530b1b(0x65e)]);};return;}const _0x97adda=db[_0x2cfb1c(0x481)]([_0x22a11a],_0x2cfb1c(0x549)),_0x100804=_0x97adda[_0x2cfb1c(0x35d)](_0x22a11a);let _0x504c33=0x0;_0xd5e4d1[_0x2cfb1c(0x3fd)]((_0x11941e,_0x20b573)=>{const _0x222d44=_0x2cfb1c,_0x220b2e=_0x100804[_0x222d44(0x2b2)](_0x222d44(0x4fc)),_0x2ddbda=_0x220b2e[_0x222d44(0x684)](_0x11941e[_0x222d44(0x4fc)]);_0x2ddbda['onsuccess']=async()=>{const _0x52d43a=_0x222d44;if(_0x2ddbda['result']){const _0x5b866c={..._0x2ddbda[_0x52d43a(0x3db)],..._0x11941e},_0x3f6107=_0x100804['put'](_0x5b866c);_0x3f6107[_0x52d43a(0x1c0)]=async()=>{const _0x11b1b5=_0x52d43a;_0xd5e4d1[_0x20b573]['id']=_0x5b866c['id'],_0x504c33++;if(_0x504c33==_0xd5e4d1[_0x11b1b5(0x59a)]){const _0x62d83e=myCompany[_0x11b1b5(0x53e)][_0x11b1b5(0x4bd)](_0x310b96=>_0x310b96[_0x11b1b5(0x1af)]==_0x169aca);_0x62d83e['setUserId']=myCompany[_0x11b1b5(0x57a)]['setUserId'],_0x62d83e[_0x11b1b5(0x40c)]=_0xd5e4d1,_0x62d83e[_0x11b1b5(0x373)]=nowWithMillisecondsForServer();const _0x233b14=await createCartStore('');await saveCompanyToIndexedDB(company,_0x233b14),apiERPsyncWindowsCartTmp(),_0x4be8e4();}};}else{const _0x848a30=_0x100804['add'](_0x11941e);_0x848a30['onsuccess']=async _0x2a6ed6=>{const _0x4b4865=_0x52d43a,_0x13e715=_0x2a6ed6['target']['result'];_0xd5e4d1[_0x20b573]['id']=_0x13e715,_0x504c33++;if(_0x504c33==_0xd5e4d1['length']){const _0x197282=myCompany[_0x4b4865(0x53e)][_0x4b4865(0x4bd)](_0xf4ef90=>_0xf4ef90['setWindowId']==_0x169aca);_0x197282[_0x4b4865(0x6b8)]=myCompany[_0x4b4865(0x57a)]['setUserId'],_0x197282[_0x4b4865(0x40c)]=_0xd5e4d1,_0x197282[_0x4b4865(0x373)]=nowWithMillisecondsForServer();const _0x32abee=await createCartStore('');await saveCompanyToIndexedDB(company,_0x32abee),apiERPsyncWindowsCartTmp(),_0x4be8e4();}};}},_0x2ddbda['onerror']=_0x1b6211=>{const _0xcda392=_0x222d44;console[_0xcda392(0x65e)](_0xcda392(0x367)+_0x11941e[_0xcda392(0x2d4)]+':',_0x1b6211[_0xcda392(0x114)][_0xcda392(0x65e)]),_0x3497ab(_0x1b6211[_0xcda392(0x114)]['error']);};}),_0x97adda[_0x2cfb1c(0x349)]=function(){const _0x62237c=_0x2cfb1c;console[_0x62237c(0x6ab)](_0x62237c(0x58f)+_0x169aca,_0xd5e4d1);},_0x97adda[_0x2cfb1c(0x618)]=function(_0x55d757){const _0x13cac6=_0x2cfb1c;console['error']('Error\x20al\x20guardar\x20el\x20carrito.',_0x55d757['target'][_0x13cac6(0x65e)]),_0x3497ab(_0x55d757['target'][_0x13cac6(0x65e)]);};}catch(_0x4f38e6){_0x3497ab(_0x4f38e6);}});}async function removeFromCart(_0x2b702c,_0x4f5f1c,_0x45e0a1=''){const _0x51ac27=_0x37a403,_0x4dccbe=carts[_0x2b702c],_0x547450=_0x4dccbe[_0x4f5f1c];if(_0x45e0a1!=''){const _0x46e9c9=_0x547450[_0x51ac27(0x640)],_0x2fce4d=myCompany[_0x51ac27(0x53e)]['find'](_0x148245=>_0x148245['setWindowId']==_0x2b702c);if(_0x2fce4d&&_0x2fce4d[_0x51ac27(0x363)]){const _0x5c1566=_0x2fce4d[_0x51ac27(0x363)][_0x51ac27(0x4bd)](_0x18ef51=>_0x18ef51[_0x51ac27(0x493)]==_0x46e9c9);if(_0x5c1566&&_0x5c1566[_0x51ac27(0x24c)]){const _0x43e408=_0x5c1566[_0x51ac27(0x24c)]['findIndex'](_0x2f2b56=>_0x2f2b56['setIdOperation']==_0x45e0a1);if(_0x43e408!==-0x1){const _0x59a014=_0x5c1566[_0x51ac27(0x24c)][_0x43e408];if(_0x59a014['setProductos']&&Array[_0x51ac27(0x54f)](_0x59a014[_0x51ac27(0x620)])){const _0x32959f=_0x59a014[_0x51ac27(0x620)][_0x51ac27(0x59a)];_0x59a014[_0x51ac27(0x620)]=_0x59a014['setProductos'][_0x51ac27(0x5a3)](_0x20ba64=>_0x20ba64[_0x51ac27(0x4fc)]!=_0x547450['cartId']);if(_0x59a014[_0x51ac27(0x620)][_0x51ac27(0x59a)]<_0x32959f){const _0x5d65b4=_0x59a014[_0x51ac27(0x620)]['map'](_0x55b56a=>({'valorUnit':_0x55b56a[_0x51ac27(0x559)],'precioUnit':_0x55b56a[_0x51ac27(0x545)],'valorCantidad':_0x55b56a[_0x51ac27(0x42f)],'valorPorcentajeIgv':_0x55b56a['setPorcentajeIgv'],'setTipAfeIgv':_0x55b56a['setTipAfeIgv'],'setDescuento':{'setCodTipo':_0x55b56a[_0x51ac27(0x621)]?.[_0x51ac27(0x137)]||'00','setPorcentajeDesc':_0x55b56a[_0x51ac27(0x621)]?.[_0x51ac27(0x66c)]||0x0}})),_0x5df262=_0x59a014[_0x51ac27(0x2bd)]||0x0,{setInvoice:_0xfdf684}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x51ac27(0x353)]['find'](_0x3d9393=>_0x3d9393[_0x51ac27(0x616)]==myCompany[_0x51ac27(0x2dd)])?.[_0x51ac27(0x31b)],'items':_0x5d65b4,'descuentoGlobalMonto':_0x5df262});_0x59a014[_0x51ac27(0x2fb)]='2',_0x59a014['setLastFechaHora']=new Date()[_0x51ac27(0x3cd)](),Object['assign'](_0x59a014,_0xfdf684),await storeOfflineOperation(_0x59a014,0x1);_0x59a014[_0x51ac27(0x620)]['length']===0x0&&(_0x5c1566[_0x51ac27(0x24c)][_0x51ac27(0x65c)](_0x43e408,0x1),console['log'](_0x51ac27(0x1c3)));_0x2fce4d[_0x51ac27(0x186)]=nowWithMillisecondsForServer();const _0x4517b8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4517b8),apiERPsync(),console['log']('Product\x20Deleted\x20Order\x20successfully.');}else console['warn'](_0x51ac27(0x2da));}else console[_0x51ac27(0x140)](_0x51ac27(0x528));}else console['warn'](_0x51ac27(0x6d4));}else console[_0x51ac27(0x140)]('Shift\x20not\x20found.');}else console['warn']('Window\x20not\x20found.');}_0x4dccbe['splice'](_0x4f5f1c,0x1);const _0x3a7e50='cart_'+_0x2b702c,_0xd7451a=db[_0x51ac27(0x481)]([_0x3a7e50],'readwrite'),_0x239e9a=_0xd7451a[_0x51ac27(0x35d)](_0x3a7e50);_0x239e9a[_0x51ac27(0x49d)](_0x547450['id']),_0xd7451a[_0x51ac27(0x349)]=function(){const _0x291b4b=_0x51ac27;console[_0x291b4b(0x6ab)](_0x291b4b(0x495)),saveCart(_0x2b702c)[_0x291b4b(0x323)](()=>{const _0x42b6fd=_0x291b4b;renderCart(_0x2b702c),console[_0x42b6fd(0x6ab)](_0x42b6fd(0x3ff)+_0x2b702c);})['catch'](_0x3beee9=>{const _0x462c7a=_0x291b4b;console[_0x462c7a(0x65e)]('Error\x20al\x20guardar\x20array',_0x3beee9);});},_0xd7451a[_0x51ac27(0x618)]=function(_0x4f7959){const _0x2fa199=_0x51ac27;console[_0x2fa199(0x65e)](_0x2fa199(0x2d3),_0x4f7959['target'][_0x2fa199(0x65e)]);};}function removeAllFromCart(_0x484538,_0x4e0b9a=0x0){return new Promise((_0x1ee7e8,_0x505b29)=>{const _0x3d82d9=_0x530c;let _0xf10c64;_0x4e0b9a==0x1?_0xf10c64=carts[_0x484538][_0x3d82d9(0x5a3)](_0x342941=>_0x342941['setChecked']==0x1):_0xf10c64=getFilteredCart(_0x484538);const _0x5e3ff4=_0x3d82d9(0x4ca)+_0x484538,_0x21e01f=db['transaction']([_0x5e3ff4],_0x3d82d9(0x549)),_0x5ca8e4=_0x21e01f['objectStore'](_0x5e3ff4);_0xf10c64[_0x3d82d9(0x3fd)](_0x93812a=>{const _0x42ca75=_0x3d82d9;_0x5ca8e4[_0x42ca75(0x49d)](_0x93812a['id']);}),_0x21e01f['oncomplete']=function(){const _0x58ef5a=_0x3d82d9;carts[_0x484538]=carts[_0x484538][_0x58ef5a(0x5a3)](_0x3a9d2e=>!_0xf10c64[_0x58ef5a(0x30c)](_0x9a4e03=>_0x9a4e03[_0x58ef5a(0x4fc)]==_0x3a9d2e[_0x58ef5a(0x4fc)])),saveCart(_0x484538)[_0x58ef5a(0x323)](()=>{const _0x2e3920=_0x58ef5a;renderCart(_0x484538),console['log'](_0x2e3920(0x3ff)+_0x484538);})['catch'](_0x7ec440=>{const _0x3a0b5b=_0x58ef5a;console[_0x3a0b5b(0x65e)](_0x3a0b5b(0x6e9),_0x7ec440);}),_0x1ee7e8();},_0x21e01f['onerror']=function(_0xd2b4c0){const _0x3697dc=_0x3d82d9;console[_0x3697dc(0x65e)](_0x3697dc(0x2c5),_0xd2b4c0[_0x3697dc(0x114)][_0x3697dc(0x65e)]),_0x505b29(_0xd2b4c0[_0x3697dc(0x114)][_0x3697dc(0x65e)]);};});}function saveWindowOptionsDB(_0x5aff47){const _0x59e3e2=_0x37a403;return createCartStore('')[_0x59e3e2(0x323)](_0x14989e=>{const _0x8b5336=_0x59e3e2,_0x1fdfa4=window_options[_0x5aff47],_0x3fb87d='window_options_'+_0x5aff47,_0x168847=_0x14989e[_0x8b5336(0x481)]([_0x3fb87d],_0x8b5336(0x549)),_0x289e7a=_0x168847['objectStore'](_0x3fb87d);return _0x289e7a['put']({'id':_0x5aff47,..._0x1fdfa4}),new Promise((_0x4664ca,_0x355ab5)=>{const _0x400acc=_0x8b5336;_0x168847[_0x400acc(0x349)]=function(){const _0x44d25c=_0x400acc;console[_0x44d25c(0x6ab)](_0x44d25c(0x546)+_0x5aff47+_0x44d25c(0x134)),_0x4664ca(_0x5aff47);},_0x168847[_0x400acc(0x618)]=function(_0x5352d0){const _0x57bbf6=_0x400acc;console['error'](_0x57bbf6(0x418),_0x5352d0[_0x57bbf6(0x114)][_0x57bbf6(0x65e)]),_0x355ab5(_0x5352d0['target'][_0x57bbf6(0x65e)]);};});})[_0x59e3e2(0x323)](_0x395390=>{return renderWindowOptions(_0x395390),_0x395390;})['catch'](_0x1b3278=>{const _0x2648e9=_0x59e3e2;console[_0x2648e9(0x65e)](_0x2648e9(0x41a),_0x1b3278);throw _0x1b3278;});}function renderWindowOptions(_0x2d7a87){return new Promise(_0x377f1e=>{const _0x1813ff=_0x530c;document['getElementById']('setTipoOperacionInvoice-'+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87]['setTipoOperacionInvoice'],document['getElementById'](_0x1813ff(0x34c)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x118)],document[_0x1813ff(0x456)](_0x1813ff(0x1f5)+_0x2d7a87)['value']=window_options[_0x2d7a87][_0x1813ff(0x540)],document[_0x1813ff(0x456)](_0x1813ff(0x402)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x5d8)],document[_0x1813ff(0x456)](_0x1813ff(0x20f)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x38f)],document[_0x1813ff(0x456)]('setClienteTipoDoc-'+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x3de)],document[_0x1813ff(0x456)](_0x1813ff(0x174)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x1df)]??'',document[_0x1813ff(0x456)](_0x1813ff(0x338)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x582)]??'',document[_0x1813ff(0x456)](_0x1813ff(0x318)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87]['setClienteDireccion']??'',document[_0x1813ff(0x456)](_0x1813ff(0x19c)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x65a)]??'',document[_0x1813ff(0x456)]('setCustomerEmail-'+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87]['setCustomerEmail']??'',document[_0x1813ff(0x456)](_0x1813ff(0x345)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87]['setFechaHora'],document[_0x1813ff(0x456)]('setVendedorCodigo-'+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x6a7)],document[_0x1813ff(0x456)](_0x1813ff(0x4a9)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x2f8)],document['getElementById'](_0x1813ff(0x64c)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x280)]??'',document[_0x1813ff(0x456)](_0x1813ff(0x62f)+_0x2d7a87)[_0x1813ff(0x351)]=window_options[_0x2d7a87][_0x1813ff(0x2fb)],_0x377f1e();});}async function updateWindowOption(_0x392d37,_0x421e9d,_0x17f8f7){const _0x53bebe=_0x37a403;if(_0x421e9d==_0x53bebe(0x499)){const _0x5cb60b=document[_0x53bebe(0x456)]('detraccionCodigo-'+_0x392d37),_0x3e14da=_0x5cb60b[_0x53bebe(0x43d)][_0x5cb60b[_0x53bebe(0x553)]][_0x53bebe(0x5e1)];window_options[_0x392d37][_0x53bebe(0x419)]=_0x3e14da;}if(_0x421e9d=='setSellerId'){const _0x3eddf6=document[_0x53bebe(0x456)]('setVendedorCodigo-'+_0x392d37),_0xc6bed4=_0x3eddf6[_0x53bebe(0x43d)][_0x3eddf6['selectedIndex']][_0x53bebe(0x5e1)];window_options[_0x392d37][_0x53bebe(0x65d)]=_0xc6bed4;}_0x421e9d=='setFechaHora'&&(window_options[_0x392d37][_0x53bebe(0x1a3)]=0x1),_0x421e9d==_0x53bebe(0x5d8)&&(correlativeReadonly=0x1),_0x421e9d==_0x53bebe(0x2fb)&&(_0x17f8f7==0x1&&(correlativeReadonly=0x0)),window_options[_0x392d37][_0x421e9d]=_0x17f8f7,saveWindowOptionsDB(_0x392d37);}function showModal(){const _0x5cbd3a=_0x37a403,_0x464022=document[_0x5cbd3a(0x456)]('detalleModal'),_0x4ad934=document['getElementById'](_0x5cbd3a(0x6cf));_0x464022[_0x5cbd3a(0x560)][_0x5cbd3a(0x417)]('active'),_0x4ad934['style'][_0x5cbd3a(0x5bd)]=_0x5cbd3a(0x12e);const _0x8a89bf=document[_0x5cbd3a(0x456)]('closeModal'),_0x32fff7=document['getElementById']('btnModalNewOperation');if(!_0x8a89bf||!_0x32fff7){console[_0x5cbd3a(0x65e)]('No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.');return;}_0x8a89bf[_0x5cbd3a(0x69c)](_0x8a89bf['cloneNode'](!![])),_0x32fff7[_0x5cbd3a(0x69c)](_0x32fff7['cloneNode'](!![]));const _0x3e3cfe=document[_0x5cbd3a(0x456)](_0x5cbd3a(0x2e4)),_0x491d99=document['getElementById'](_0x5cbd3a(0x245));_0x3e3cfe['addEventListener'](_0x5cbd3a(0x42d),()=>hideModal()),_0x491d99[_0x5cbd3a(0x3ad)](_0x5cbd3a(0x42d),()=>hideModal());}function hideModal(){const _0x16fbc1=_0x37a403,_0x38097b=document[_0x16fbc1(0x456)](_0x16fbc1(0x3bb)),_0x20a82c=document[_0x16fbc1(0x456)](_0x16fbc1(0x6cf));_0x38097b[_0x16fbc1(0x560)][_0x16fbc1(0x1ef)]('active'),_0x20a82c[_0x16fbc1(0x201)][_0x16fbc1(0x5bd)]='none';}document[_0x37a403(0x456)](_0x37a403(0x6cf))[_0x37a403(0x3ad)](_0x37a403(0x42d),_0x358e79=>{const _0x3f0a16=_0x37a403;_0x358e79[_0x3f0a16(0x114)]==_0x358e79[_0x3f0a16(0x2cc)]&&_0x358e79['stopPropagation']();});function showModalPay(){const _0x5d213c=_0x37a403,_0x288504=document[_0x5d213c(0x456)](_0x5d213c(0x5ae)),_0x250664=document['getElementById'](_0x5d213c(0x446));_0x288504[_0x5d213c(0x560)][_0x5d213c(0x417)]('active'),_0x250664[_0x5d213c(0x201)][_0x5d213c(0x5bd)]=_0x5d213c(0x12e);}function hideModalPay(){const _0x599602=_0x37a403,_0x4bd795=document[_0x599602(0x456)]('detalleModalPay'),_0x43486f=document[_0x599602(0x456)](_0x599602(0x446));_0x4bd795['classList'][_0x599602(0x1ef)]('active'),_0x43486f[_0x599602(0x201)][_0x599602(0x5bd)]=_0x599602(0x5a9);}document[_0x37a403(0x456)](_0x37a403(0x138))[_0x37a403(0x3ad)](_0x37a403(0x42d),hideModalPay),document[_0x37a403(0x456)]('modalOverlayPay')[_0x37a403(0x3ad)]('click',_0x1dad4f=>{const _0x4ecdbd=_0x37a403;_0x1dad4f[_0x4ecdbd(0x114)]==_0x1dad4f[_0x4ecdbd(0x2cc)]&&_0x1dad4f[_0x4ecdbd(0x38b)]();});async function showModalLayout(){const _0x598c78=_0x37a403;showLoadingModal();const _0x2c014c=document[_0x598c78(0x456)](_0x598c78(0x306))['value'],_0x13199d=myCompany[_0x598c78(0x6be)],_0x139f86=_0x13199d[_0x598c78(0x4bd)](_0x1e073c=>_0x1e073c[_0x598c78(0x306)]==_0x2c014c&&_0x1e073c[_0x598c78(0x5a4)]==0x2),_0x44f61d=getUserPermissionApiERP(0xd),_0x384154=_0x139f86?0x1:0x0;if(_0x384154==0x1&&_0x44f61d==0x1){const _0x441850=myCompany[_0x598c78(0x53e)];let _0x152a3f=[];const _0x4296ff=_0x139f86['setServerRoot'][_0x598c78(0x6b1)](_0x598c78(0x49a),_0x598c78(0x156));await new Promise((_0x3acbc5,_0x4b95f1)=>{const _0xf227f0=_0x598c78,_0x13a32e=document['createElement'](_0xf227f0(0x194));_0x13a32e[_0xf227f0(0x201)]['display']=_0xf227f0(0x5a9),_0x13a32e['src']=_0x4296ff,document[_0xf227f0(0x36e)][_0xf227f0(0x361)](_0x13a32e);const _0x543b7d=setTimeout(()=>{const _0x359f3d=_0xf227f0;hideLoadingModal(),window['removeEventListener'](_0x359f3d(0x37b),_0x14b677),document[_0x359f3d(0x36e)]['removeChild'](_0x13a32e),_0x4b95f1('Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.');},0xbb8),_0x14b677=function(_0x5a3613){const _0x38b2d3=_0xf227f0,_0x4f54dd=_0x5a3613[_0x38b2d3(0x471)];if(!Array['isArray'](_0x4f54dd)){hideLoadingModal(),console['error']('Array\x20Windows\x20Error.'),clearTimeout(_0x543b7d),window[_0x38b2d3(0x192)]('message',_0x14b677),document[_0x38b2d3(0x36e)][_0x38b2d3(0x665)](_0x13a32e),_0x4b95f1('Data\x20no\x20válida');return;}_0x152a3f=_0x4f54dd[_0x38b2d3(0x5a3)](_0x3a17aa=>!_0x441850[_0x38b2d3(0x30c)](_0x479add=>_0x479add['setWindowId']==_0x3a17aa['setWindowId'])),myCompany[_0x38b2d3(0x53e)]=_0x4f54dd,((async()=>{const _0x11f0ac=_0x38b2d3,_0xefeac2=await createCartStore('');await saveCompanyToIndexedDB(company,_0xefeac2);for(const _0x2fb456 of _0x152a3f){await new Promise(_0x91ff54=>setTimeout(_0x91ff54,0x12c)),await createCartStore(_0x2fb456[_0x11f0ac(0x1af)]);}console[_0x11f0ac(0x6ab)]('Windows\x20Update\x20Local\x20Successfully.'),clearTimeout(_0x543b7d),window[_0x11f0ac(0x192)](_0x11f0ac(0x37b),_0x14b677),document[_0x11f0ac(0x36e)][_0x11f0ac(0x665)](_0x13a32e),_0x3acbc5();})());};window[_0xf227f0(0x3ad)](_0xf227f0(0x37b),_0x14b677,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x19876e=document[_0x598c78(0x456)](_0x598c78(0x1b8)),_0x282f13=document[_0x598c78(0x456)](_0x598c78(0x311));_0x19876e[_0x598c78(0x560)]['add']('active'),_0x282f13[_0x598c78(0x201)]['display']=_0x598c78(0x12e);const _0x2a0e34=document[_0x598c78(0x456)](_0x598c78(0x364))['value'],_0x155296=document[_0x598c78(0x456)](_0x598c78(0x306))[_0x598c78(0x351)];cargarVentanas(_0x155296,_0x2a0e34),createTabsEnvironments();}function hideModalLayout(){const _0x3bfc49=_0x37a403,_0x2bb7e5=document[_0x3bfc49(0x456)](_0x3bfc49(0x1b8)),_0x2dc4e1=document['getElementById']('modalOverlayLayout');_0x2bb7e5['classList'][_0x3bfc49(0x1ef)](_0x3bfc49(0x368)),_0x2dc4e1[_0x3bfc49(0x201)][_0x3bfc49(0x5bd)]=_0x3bfc49(0x5a9);}document[_0x37a403(0x456)](_0x37a403(0x2ba))[_0x37a403(0x3ad)](_0x37a403(0x42d),hideModalLayout),document['getElementById']('modalOverlayLayout')[_0x37a403(0x3ad)](_0x37a403(0x42d),_0x420fdb=>{const _0x207253=_0x37a403;_0x420fdb['target']==_0x420fdb[_0x207253(0x2cc)]&&_0x420fdb[_0x207253(0x38b)]();});function showModalOptions(){const _0x2b0320=_0x37a403,_0x468702=document[_0x2b0320(0x456)]('detalleModalOptions'),_0x5730f2=document[_0x2b0320(0x456)](_0x2b0320(0x62c));_0x468702[_0x2b0320(0x560)][_0x2b0320(0x417)](_0x2b0320(0x368)),_0x5730f2[_0x2b0320(0x201)][_0x2b0320(0x5bd)]=_0x2b0320(0x12e);}function hideModalOptions(){const _0x442309=_0x37a403,_0x24637e=document[_0x442309(0x456)](_0x442309(0x4e6)),_0x55a3c3=document['getElementById']('modalOverlayOptions');_0x24637e[_0x442309(0x560)][_0x442309(0x1ef)](_0x442309(0x368)),_0x55a3c3[_0x442309(0x201)][_0x442309(0x5bd)]=_0x442309(0x5a9);}document[_0x37a403(0x456)](_0x37a403(0x62c))['addEventListener'](_0x37a403(0x42d),_0x5d445d=>{const _0x554ad1=_0x37a403;_0x5d445d[_0x554ad1(0x114)]==_0x5d445d[_0x554ad1(0x2cc)]&&_0x5d445d[_0x554ad1(0x38b)]();});function showSection(_0x36ca73,_0x1e0e9d=''){const _0x239da1=_0x37a403,_0x1ef6e4=[_0x239da1(0x3aa),_0x239da1(0x2d1),'div_section_pay'];if(_0x36ca73=='div_section_pay'){setDivTotalPay(_0x1e0e9d),showModalPay();return;}if(_0x36ca73==_0x239da1(0x2d1)){showModalOptions();return;}_0x1ef6e4[_0x239da1(0x3fd)](_0x527982=>{const _0xb85e7b=_0x239da1,_0x55a178=document[_0xb85e7b(0x456)](_0x527982);_0x55a178?_0x527982!==_0xb85e7b(0x233)&&_0x527982!==_0xb85e7b(0x2d1)&&_0x55a178[_0xb85e7b(0x560)][_0xb85e7b(0x26c)](_0xb85e7b(0x208),_0x527982!==_0x36ca73):console[_0xb85e7b(0x140)](_0xb85e7b(0x4a4)+_0x527982+_0xb85e7b(0x388));});}function optionsPdf(_0x213e04){const _0x49f4cc=_0x37a403,_0x495544=document[_0x49f4cc(0x456)](_0x49f4cc(0x163)),_0x3d54d4=document[_0x49f4cc(0x456)](_0x49f4cc(0x55d)),_0x177633=document['getElementById']('btnOpciones'),_0x273fc4=document['getElementById'](_0x49f4cc(0x3a2)),_0x208f62=document[_0x49f4cc(0x456)]('archivos_contables'),_0x326362=document[_0x49f4cc(0x456)](_0x49f4cc(0x3c2));if(_0x213e04==0x1)_0x495544[_0x49f4cc(0x560)][_0x49f4cc(0x1ef)](_0x49f4cc(0x3b1)),_0x495544['classList'][_0x49f4cc(0x417)]('btnModalActive'),_0x3d54d4['classList'][_0x49f4cc(0x1ef)]('btnModalActive'),_0x3d54d4['classList'][_0x49f4cc(0x417)]('btnModal'),_0x177633['classList']['remove'](_0x49f4cc(0x53d)),_0x177633[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x3b1)),_0x273fc4[_0x49f4cc(0x560)][_0x49f4cc(0x1ef)](_0x49f4cc(0x208)),_0x208f62[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x208)),_0x326362[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x208));else _0x213e04==0x2?(_0x495544['classList'][_0x49f4cc(0x1ef)](_0x49f4cc(0x53d)),_0x495544[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x3b1)),_0x3d54d4['classList'][_0x49f4cc(0x1ef)](_0x49f4cc(0x3b1)),_0x3d54d4['classList'][_0x49f4cc(0x417)]('btnModalActive'),_0x177633['classList'][_0x49f4cc(0x1ef)](_0x49f4cc(0x53d)),_0x177633[_0x49f4cc(0x560)]['add'](_0x49f4cc(0x3b1)),_0x273fc4[_0x49f4cc(0x560)]['add'](_0x49f4cc(0x208)),_0x208f62['classList']['remove'](_0x49f4cc(0x208)),_0x326362[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x208))):(_0x495544[_0x49f4cc(0x560)]['remove'](_0x49f4cc(0x53d)),_0x495544[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x3b1)),_0x3d54d4[_0x49f4cc(0x560)][_0x49f4cc(0x1ef)](_0x49f4cc(0x53d)),_0x3d54d4['classList'][_0x49f4cc(0x417)]('btnModal'),_0x177633[_0x49f4cc(0x560)]['remove']('btnModal'),_0x177633[_0x49f4cc(0x560)]['add']('btnModalActive'),_0x273fc4[_0x49f4cc(0x560)][_0x49f4cc(0x417)](_0x49f4cc(0x208)),_0x208f62[_0x49f4cc(0x560)]['add'](_0x49f4cc(0x208)),_0x326362[_0x49f4cc(0x560)][_0x49f4cc(0x1ef)](_0x49f4cc(0x208)));}function updateSerieOptionsAttach(_0x26c2ab,_0x412b21){const _0x244ac8=_0x37a403,_0x5aae63=document[_0x244ac8(0x456)](_0x244ac8(0x39d)+_0x412b21);_0x5aae63[_0x244ac8(0x197)]='';const _0x3ce9f8=document['getElementById']('setBranchId')['value'],_0x59c9bc=myCompany[_0x244ac8(0x2ab)][_0x244ac8(0x5a3)](_0x3a167a=>_0x3a167a[_0x244ac8(0x229)]==_0x26c2ab&&_0x3a167a[_0x244ac8(0x2b6)]==_0x3ce9f8);_0x59c9bc[_0x244ac8(0x3fd)](_0x240beb=>{const _0x1fe2d6=_0x244ac8;_0x5aae63['appendChild'](createElement(_0x1fe2d6(0x190),{'value':_0x240beb[_0x1fe2d6(0x540)]},[_0x240beb['setSerie']]));}),_0x59c9bc[_0x244ac8(0x59a)]&&(_0x5aae63[_0x244ac8(0x351)]=_0x59c9bc[0x0][_0x244ac8(0x540)]),window_options[_0x412b21][_0x244ac8(0x28c)]=_0x26c2ab;}async function consultAttach(_0x382e41){const _0x398d64=_0x37a403,_0x4ca00d=document['getElementById'](_0x398d64(0x3f3)+_0x382e41);if(!_0x4ca00d){console[_0x398d64(0x65e)]('No\x20se\x20encontró\x20el\x20botón');return;}const _0x33a096=document[_0x398d64(0x456)](_0x398d64(0x62f)+_0x382e41)[_0x398d64(0x351)],_0xeab4b4=document[_0x398d64(0x456)]('setAttachType-'+_0x382e41)[_0x398d64(0x351)],_0x2683fd=document[_0x398d64(0x456)](_0x398d64(0x39d)+_0x382e41)['value'],_0x3f3cb8=document['getElementById'](_0x398d64(0x609)+_0x382e41)[_0x398d64(0x351)];_0x4ca00d['disabled']=!![],hideModalOptions(),showLoadingModal();try{const _0x449804=myCompany[_0x398d64(0x51f)],_0x141717={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x398d64(0x238)],'setAttachEdit':_0x33a096,'setAttachType':_0xeab4b4,'setAttachSeries':_0x2683fd,'setAttachNumber':_0x3f3cb8},_0x393028=await fetch(_0x449804,{'method':_0x398d64(0x357),'headers':{'Content-Type':_0x398d64(0x5ab)},'body':JSON[_0x398d64(0x195)](_0x141717)}),_0x47a1cf=await _0x393028[_0x398d64(0x14a)]();if(_0x47a1cf[_0x398d64(0x299)]&&_0x47a1cf['message'][_0x398d64(0x3be)]){await removeAllFromCart(_0x382e41);const _0x3631ac=_0x47a1cf[_0x398d64(0x37b)][_0x398d64(0x3be)],_0x395697=_0x47a1cf[_0x398d64(0x37b)]['setReceiptProducts'];(_0x33a096==0x1||_0x33a096==0x2)&&(window_options[_0x382e41][_0x398d64(0x118)]=_0x3631ac['setReceiptType'],await updateSerieOptions(_0x3631ac[_0x398d64(0x1d2)],_0x382e41),window_options[_0x382e41]['setSerie']=_0x3631ac[_0x398d64(0x4ed)],window_options[_0x382e41][_0x398d64(0x5d8)]=_0x3631ac[_0x398d64(0x6c6)]);window_options[_0x382e41]['setClienteTipoDoc']=_0x3631ac['setReceiptClientDocType'],window_options[_0x382e41][_0x398d64(0x1df)]=_0x3631ac['setReceiptClientDocNumber'],window_options[_0x382e41]['setClienteDenominacion']=_0x3631ac[_0x398d64(0x68d)],window_options[_0x382e41][_0x398d64(0x63d)]=_0x3631ac[_0x398d64(0x53b)],window_options[_0x382e41]['setMoneda']=_0x3631ac[_0x398d64(0x1f3)],window_options[_0x382e41][_0x398d64(0x280)]=_0x3631ac['setNotes'];_0xeab4b4!=0x29&&(window_options[_0x382e41][_0x398d64(0x2f8)]=_0x3631ac[_0x398d64(0x5e2)],document[_0x398d64(0x456)](_0x398d64(0x2d7))[_0x398d64(0x351)]=_0x3631ac['setWarehouseId'],document[_0x398d64(0x456)](_0x398d64(0x2d7))[_0x398d64(0x6bb)](new Event('change')));window_options[_0x382e41]['setDescuentoGlobal_Monto']=_0x3631ac['setReceiptDescGlobal'],window_options[_0x382e41]['setReceiptAttachId']=_0x3631ac[_0x398d64(0x222)],window_options[_0x382e41][_0x398d64(0x60c)]=_0x395697,await saveWindowOptionsDB(_0x382e41);for(let _0x10cdcf=0x0;_0x10cdcf<_0x395697['length'];_0x10cdcf++){const _0x232df7=_0x395697[_0x10cdcf],_0x2d5d56=products[_0x398d64(0x4bd)](_0x2ec0ab=>_0x2ec0ab['id']==_0x232df7[_0x398d64(0x2d4)]);_0x2d5d56&&(await new Promise(_0x57b8bf=>setTimeout(_0x57b8bf,0x64)),addToCart(_0x2d5d56,{'setValorCantidad':_0x232df7['setValorCantidad'],'setMtoPrecioUnitario_final':_0x232df7[_0x398d64(0x205)],'setTaxId':_0x232df7[_0x398d64(0x616)],'setTipAfeIgv':_0x232df7[_0x398d64(0x220)],'setPorcentajeDesc':_0x232df7['setPorcentajeDesc'],'setNotas':_0x232df7['setNotas'],'setMtoPrecioUnitario_input':_0x232df7['setPrecioUnit'],'setMtoPrecioCostoUnitario_input':_0x232df7[_0x398d64(0x216)]},0x1,_0x382e41));}if([0x2,0x3]['includes'](parseInt(_0x33a096,0xa))){const _0x41d7d9=document[_0x398d64(0x456)](_0x398d64(0x40f)+_0x382e41);_0x41d7d9['innerHTML']='';const _0x32a06e=document[_0x398d64(0x6c7)]('p');_0x32a06e['id']='attached-label-'+_0x382e41,_0x32a06e['textContent']=_0x2683fd+'-'+_0x3f3cb8,Object['assign'](_0x32a06e[_0x398d64(0x201)],{'display':'inline-flex','alignItems':_0x398d64(0x63e),'backgroundColor':_0x398d64(0x608),'color':'#333','padding':'0.25em\x200.5em','borderRadius':'0.25em','fontSize':_0x398d64(0x687),'fontWeight':_0x398d64(0x693),'margin':_0x398d64(0x5c6)});const _0xb58ad4=document['createElement'](_0x398d64(0x454));_0xb58ad4[_0x398d64(0x13f)]='✕',Object[_0x398d64(0x3a0)](_0xb58ad4[_0x398d64(0x201)],{'marginLeft':_0x398d64(0x622),'background':_0x398d64(0x200),'border':_0x398d64(0x5a9),'cursor':_0x398d64(0x2e3),'fontSize':_0x398d64(0x687),'lineHeight':'1','color':'#a00'}),_0xb58ad4[_0x398d64(0x45b)]('aria-label',_0x398d64(0x3ef)),_0xb58ad4[_0x398d64(0x3ad)]('click',()=>{const _0x5a4c30=_0x398d64;window_options[_0x382e41]['setReceiptAttachId']='',window_options[_0x382e41][_0x5a4c30(0x60c)]=[],_0x41d7d9[_0x5a4c30(0x197)]='',saveWindowOptionsDB(_0x382e41);}),_0x32a06e['appendChild'](_0xb58ad4),_0x41d7d9[_0x398d64(0x361)](_0x32a06e);}}else ntfShow('No\x20se\x20encontraron\x20resultados'),console['log'](_0x398d64(0x230));}catch(_0x35b636){ntfShow(_0x398d64(0x5c0)),console['error'](_0x398d64(0x66a),_0x35b636);}finally{_0x4ca00d[_0x398d64(0x6b6)]=![],hideLoadingModal();}}async function setPrintOnline(_0xf5b143,_0x2c1061,_0x3434f6,_0x316569=0x0){const _0x42234a=_0x37a403,_0x575992=document['getElementById'](_0x42234a(0x306))['value'],_0x386e2f=myCompany[_0x42234a(0x6be)],_0x5089c4=_0x386e2f[_0x42234a(0x4bd)](_0x18de50=>_0x18de50[_0x42234a(0x306)]==_0x575992&&_0x18de50[_0x42234a(0x5a4)]==0x1),_0x10d16b=getUserPermissionApiERP(0x6),_0x5c6ef8=_0x5089c4?0x1:0x0;if(!_0x2c1061){ntfShow(_0x42234a(0x255));return;}_0x316569!=0x1&&hideModal();showLoadingModal();const _0x177416=document[_0x42234a(0x456)]('infoLoadingModal');_0x177416[_0x42234a(0x197)]=_0x42234a(0x468)+_0xf5b143+_0x42234a(0x444);if(_0x5c6ef8==0x1&&_0x10d16b==0x1){const _0x3e7515=_0x42234a(0x4b9)+generateUUID(),_0x1a20f9=document[_0x42234a(0x6c7)]('iframe');_0x1a20f9[_0x42234a(0x19d)]=_0x3e7515,_0x1a20f9[_0x42234a(0x201)]['display']='none',document[_0x42234a(0x36e)][_0x42234a(0x361)](_0x1a20f9);const _0x2e0dc7=document[_0x42234a(0x6c7)](_0x42234a(0x6d7));_0x2e0dc7[_0x42234a(0x6b2)]='POST',_0x2e0dc7[_0x42234a(0x61b)]=_0x5089c4[_0x42234a(0x3b8)],_0x2e0dc7[_0x42234a(0x1c5)]=_0x42234a(0x574),_0x2e0dc7['target']=_0x1a20f9['name'];const _0x184890={'printData':JSON[_0x42234a(0x195)]({'setPrinterName':_0xf5b143,'setPdfName':_0x3434f6,'setPrint':0x1})};for(const _0x181ea2 in _0x184890){const _0x40028b=document[_0x42234a(0x6c7)](_0x42234a(0x210));_0x40028b['type']=_0x42234a(0x208),_0x40028b[_0x42234a(0x19d)]=_0x181ea2,_0x40028b[_0x42234a(0x351)]=_0x184890[_0x181ea2],_0x2e0dc7[_0x42234a(0x361)](_0x40028b);}const _0xcb89d4=document[_0x42234a(0x6c7)](_0x42234a(0x210));_0xcb89d4[_0x42234a(0x276)]=_0x42234a(0x150),_0xcb89d4[_0x42234a(0x19d)]='pdfBlob';const _0x191b50=new File([_0x2c1061],_0x42234a(0x3ed),{'type':_0x42234a(0x321)}),_0x2dedad=new DataTransfer();_0x2dedad[_0x42234a(0x29c)]['add'](_0x191b50),_0xcb89d4['files']=_0x2dedad[_0x42234a(0x2a8)],_0x2e0dc7['appendChild'](_0xcb89d4),document[_0x42234a(0x36e)]['appendChild'](_0x2e0dc7),_0x2e0dc7[_0x42234a(0x309)](),document[_0x42234a(0x36e)]['removeChild'](_0x2e0dc7),await new Promise(_0x1d56b6=>setTimeout(_0x1d56b6,0x4b0)),setTimeout(()=>{const _0x4980a2=_0x42234a;document[_0x4980a2(0x36e)][_0x4980a2(0x665)](_0x1a20f9);},0xaf0),hideLoadingModal(),_0x316569!=0x1&&showModal();}else{if(!isOnline())return console[_0x42234a(0x6ab)](_0x42234a(0x5e5)),null;const _0x62f4e={'setAuthToken':myCompany[_0x42234a(0x238)],'setPrinterName':_0xf5b143,'setPdfName':_0x3434f6,'setBucketName':_0x42234a(0x505),'setPrint':0x1},_0xb2cdf=new FormData();_0xb2cdf['append']('invoice',JSON[_0x42234a(0x195)](_0x62f4e));if(_0x2c1061 instanceof Blob&&_0x2c1061[_0x42234a(0x288)]>0x0)_0xb2cdf[_0x42234a(0x21b)](_0x42234a(0x2d8),_0x2c1061,_0x42234a(0x3ed));else{console[_0x42234a(0x65e)]('PDF\x20Error.');return;}try{const _0x417641=await fetch('https://apierp.dev/api/print/send/',{'method':_0x42234a(0x357),'body':_0xb2cdf});if(!_0x417641['ok'])throw new Error('Error:\x20'+_0x417641['statusText']);const _0x572e04=await _0x417641[_0x42234a(0x14a)]();if(!_0x572e04[_0x42234a(0x299)])throw new Error(_0x572e04[_0x42234a(0x37b)]||'Error\x20desconocido.');_0x177416['innerHTML']='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>';}catch(_0x45064a){ntfShow(_0x45064a);}finally{hideLoadingModal(),_0x316569!=0x1&&showModal();}}}async function processPrints(_0x4f6a6c){const _0x290ba1=_0x37a403;for(const _0x4d689c of _0x4f6a6c){const {payloadComand:_0x1f704b}=_0x4d689c,{pdfBlob:_0x324a61,pdfName:_0x16be38}=await generatePdf(_0x1f704b,'tk',_0x290ba1(0x547),_0x290ba1(0x5bb)),_0x4eab35=_0x16be38[_0x290ba1(0x6b1)](_0x290ba1(0x1f9),'-'+_0x4d689c[_0x290ba1(0x5ad)]+_0x290ba1(0x1f9));await setPrintOnline(_0x4d689c[_0x290ba1(0x67a)],_0x324a61,_0x4eab35,0x1);}}function setPrinter(_0x5a0270,_0x1910c1){const _0x113414=_0x37a403;document['getElementById']('defaultPrinter')[_0x113414(0x13f)]=_0x1910c1,document[_0x113414(0x456)]('defaultPrinter')[_0x113414(0x45b)](_0x113414(0x554),_0x5a0270);}async function generatePdfTk(){const _0x9be42a=_0x37a403,_0x568e83=document[_0x9be42a(0x456)](_0x9be42a(0x415))[_0x9be42a(0x351)],{pdfGlobalPayload:_0x2abfda,pdfGlobalBlob:_0x117585,pdfGlobalName:_0x19d503}=getLastOperationGlobalData(_0x568e83),{pdfBlob:_0x2a4e8b,pdfName:_0x8f17c0}=await generatePdf(_0x2abfda,'tk',_0x9be42a(0x547),_0x9be42a(0x5bb));setLastOperationGlobalData(_0x568e83,{'pdfGlobalPayload':_0x2abfda,'pdfGlobalBlob':_0x2a4e8b,'pdfGlobalName':_0x8f17c0});}async function generatePdfA4(){const _0x160b0e=_0x37a403,_0x15a517=document[_0x160b0e(0x456)](_0x160b0e(0x415))[_0x160b0e(0x351)],{pdfGlobalPayload:_0x4e5d78,pdfGlobalBlob:_0x4c321b,pdfGlobalName:_0x2f0458}=getLastOperationGlobalData(_0x15a517),{pdfBlob:_0x1df92e,pdfName:_0x5e4f76}=await generatePdf(_0x4e5d78,'a4',_0x160b0e(0x547),_0x160b0e(0x5bb));setLastOperationGlobalData(_0x15a517,{'pdfGlobalPayload':_0x4e5d78,'pdfGlobalBlob':_0x1df92e,'pdfGlobalName':_0x5e4f76});}function cargarVentanas(_0x5a33e8,_0x3651c9){const _0x241b17=_0x37a403,_0x4c451c=myCompany[_0x241b17(0x53e)][_0x241b17(0x5a3)](_0x4ff66d=>_0x4ff66d[_0x241b17(0x306)]==_0x5a33e8&&_0x4ff66d['setFloorId']==_0x3651c9),_0x1aa679=0x5,_0x436d0d=0x5,_0x1bdcca=0x5,_0x12c765=0x5,_0x2da216=0x78,_0x1aa1e7=0x78;let _0x4e67fb=_0x1aa679,_0x12cbcb=_0x436d0d;!posicionesPorPiso[_0x3651c9]&&(posicionesPorPiso[_0x3651c9]={});const _0x4500e8=_0x4c451c['map'](_0x14744a=>{const _0x350746=_0x241b17;posicionesPorPiso[_0x3651c9][_0x14744a[_0x350746(0x1af)]]?(_0x14744a['x']=posicionesPorPiso[_0x3651c9][_0x14744a[_0x350746(0x1af)]]['x'],_0x14744a['y']=posicionesPorPiso[_0x3651c9][_0x14744a[_0x350746(0x1af)]]['y']):(_0x14744a['x']=_0x4e67fb,_0x14744a['y']=_0x12cbcb,posicionesPorPiso[_0x3651c9][_0x14744a['setWindowId']]={'x':_0x4e67fb,'y':_0x12cbcb},_0x4e67fb+=_0x2da216+_0x1bdcca,_0x4e67fb+_0x2da216>layout_windows[_0x350746(0x611)]&&(_0x4e67fb=_0x1aa679,_0x12cbcb+=_0x1aa1e7+_0x12c765));let _0x196110={'setWindowId':_0x14744a[_0x350746(0x1af)],'setWindowType':_0x14744a['setWindowType'],'setWindowName':_0x14744a[_0x350746(0x193)],'x':_0x14744a['x'],'y':_0x14744a['y'],'zona':_0x14744a[_0x350746(0x20c)],'floorId':_0x14744a['setFloorId']};return[_0x350746(0x15d),_0x350746(0x600),_0x350746(0x371),_0x350746(0x60a)][_0x350746(0x67b)](_0x14744a[_0x350746(0x24d)])&&(_0x196110[_0x350746(0x325)]=_0x14744a[_0x350746(0x325)]||_0x350746(0x3fe),_0x196110[_0x350746(0x601)]=_0x14744a[_0x350746(0x601)]||_0x350746(0x5e9)),_0x196110;}),_0x29b8df=extraElements[_0x241b17(0x5a3)](_0x3a0a93=>_0x3a0a93[_0x241b17(0x651)]==_0x3651c9);elementos=[..._0x4500e8,..._0x29b8df],crearElementos();}function crearElementos(){const _0x324c59=_0x37a403,_0x28466b=myCompany[_0x324c59(0x5d7)],_0x298556=myCompany[_0x324c59(0x4d3)][_0x324c59(0x4bd)](_0x106eb1=>_0x106eb1[_0x324c59(0x387)]==_0x28466b),_0x2f8125=_0x298556?_0x298556[_0x324c59(0x2e1)]:'';layout_windows[_0x324c59(0x197)]='',elementos[_0x324c59(0x3fd)](_0x3c83d6=>{const _0x3df0de=_0x324c59;let _0x10b63f='',_0x4eeeef=0x0,_0x515366=0x0,_0x2cfa13;const _0x586023=getValidatedWindowAndShift(_0x3c83d6[_0x3df0de(0x1af)]);if(_0x586023){const {currentWindowShift:_0x2774a0}=_0x586023;if(_0x2774a0){if(_0x586023['windowObj'][_0x3df0de(0x601)]==_0x3df0de(0x386))_0x10b63f='<i\x20class=\x22bi\x20bi-clock\x22></i>\x20'+formatShiftDate(_0x2774a0[_0x3df0de(0x482)]);else _0x586023[_0x3df0de(0x439)][_0x3df0de(0x601)]==_0x3df0de(0x6b7)&&(_0x10b63f=_0x3df0de(0x627)+formatShiftDate(_0x2774a0[_0x3df0de(0x4c4)]));const _0x22e819=_0x2774a0['setOrders']||[];_0x4eeeef=_0x22e819[_0x3df0de(0x5a3)](_0x1300f4=>setTipOpeOrders[_0x3df0de(0x30c)](_0x2cfb75=>_0x2cfb75==_0x1300f4[_0x3df0de(0x118)]))[_0x3df0de(0x59a)],_0x515366=_0x22e819[_0x3df0de(0x51d)]((_0xb663e,_0x5ee2c2)=>{const _0x3a31b2=_0x3df0de,_0x57746d=parseFloat(_0x5ee2c2[_0x3a31b2(0x29a)])||0x0;if(setTipOpeOrders[_0x3a31b2(0x30c)](_0x37fb4f=>_0x37fb4f==_0x5ee2c2[_0x3a31b2(0x118)]))return _0xb663e+_0x57746d;if(setTipOpeSales[_0x3a31b2(0x30c)](_0x494f7d=>_0x494f7d==_0x5ee2c2[_0x3a31b2(0x118)]))return _0xb663e-_0x57746d;return _0xb663e;},0x0);const _0x465388=_0x2774a0[_0x3df0de(0x1a4)]||'',_0x1ff806=myCompany[_0x3df0de(0x224)][_0x3df0de(0x4bd)](_0x3d2ac2=>_0x3d2ac2[_0x3df0de(0x2ec)]==_0x465388);_0x2cfa13=_0x1ff806?_0x1ff806['setUserFullName']:'';}}const _0x49742d=document[_0x3df0de(0x6c7)](_0x3df0de(0x50b));_0x49742d['id']='element-'+_0x3c83d6[_0x3df0de(0x1af)],_0x49742d['className']=_0x3df0de(0x50d)+_0x3c83d6[_0x3df0de(0x601)]+_0x3df0de(0x686)+_0x3c83d6[_0x3df0de(0x325)],_0x49742d[_0x3df0de(0x201)][_0x3df0de(0x4aa)]=_0x3c83d6['x']+'px',_0x49742d[_0x3df0de(0x201)][_0x3df0de(0x249)]=_0x3c83d6['y']+'px';let _0x171968='';switch(_0x3c83d6['setWindowType']){case'window':_0x171968='./img/layout/icon-window.svg';break;case _0x3df0de(0x600):_0x171968=_0x3df0de(0x178);break;case _0x3df0de(0x371):_0x171968=_0x3df0de(0x423);break;case _0x3df0de(0x60a):_0x171968='./img/layout/icon-window.svg';break;case _0x3df0de(0x527):_0x171968=_0x3df0de(0x4ce);break;case'element-bathroom-men':_0x171968=_0x3df0de(0x1c2);break;case _0x3df0de(0x242):_0x171968='./img/layout/icon-bathroom-unisex.svg';break;case'element-bathroom-women':_0x171968=_0x3df0de(0x1c6);break;case'element-cashier':_0x171968=_0x3df0de(0x694);break;case _0x3df0de(0x3d6):_0x171968=_0x3df0de(0x429);break;case _0x3df0de(0x458):_0x171968='./img/layout/icon-fridge.svg';break;case _0x3df0de(0x552):_0x171968=_0x3df0de(0x577);break;case _0x3df0de(0x391):_0x171968=_0x3df0de(0x636);break;case'element-user':_0x171968=_0x3df0de(0x1c7);break;case'element-vase':_0x171968=_0x3df0de(0x534);break;case'element-vertical-line':_0x171968=_0x3df0de(0x607);break;case _0x3df0de(0x4bb):_0x171968='./img/layout/icon-waiter.svg';break;default:_0x171968=_0x3df0de(0x2b1);}if(_0x3c83d6[_0x3df0de(0x601)]==_0x3df0de(0x5e9)){let _0x53687c=_0x3df0de(0x1ba)+_0x171968+_0x3df0de(0x4cb)+_0x3c83d6[_0x3df0de(0x24d)]+'\x22>';_0x49742d[_0x3df0de(0x197)]='<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27'+_0x3c83d6[_0x3df0de(0x1af)]+'\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a'+_0x3c83d6['setWindowName']+_0x3df0de(0x699)+_0x53687c+_0x3df0de(0x11a);}else _0x49742d[_0x3df0de(0x197)]=_0x3df0de(0x281)+_0x3c83d6['setWindowId']+_0x3df0de(0x3f8)+_0x3c83d6['setWindowName']+'\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22'+_0x3c83d6[_0x3df0de(0x1af)]+_0x3df0de(0x466)+_0x2cfa13+_0x3df0de(0x12b)+_0x2f8125+'\x20'+parseFloat(_0x515366)[_0x3df0de(0x312)](0x2)+_0x3df0de(0x488)+_0x4eeeef+'\x20ped</span>\x0a<span\x20class=\x22time-text\x22>'+_0x10b63f+_0x3df0de(0x5cc);_0x49742d['dataset'][_0x3df0de(0x1af)]=_0x3c83d6[_0x3df0de(0x1af)],layout_windows[_0x3df0de(0x361)](_0x49742d),addDragEvents(_0x49742d);});}function checkCollision(_0x1207b9){const _0x315b8c=_0x37a403,_0x6bfa58=parseInt(_0x1207b9[_0x315b8c(0x201)]['left']),_0x1f5cca=parseInt(_0x1207b9[_0x315b8c(0x201)][_0x315b8c(0x249)]),_0x5bf147=_0x1207b9['offsetWidth'],_0x12b02e=_0x1207b9[_0x315b8c(0x5c1)];let _0x2bc011=![];const _0x8aef0b=layout_windows[_0x315b8c(0x3f0)]('.draggable');return _0x8aef0b[_0x315b8c(0x3fd)](_0x23d60a=>{const _0xb22e0e=_0x315b8c;if(_0x23d60a==_0x1207b9)return;const _0x21b865=parseInt(_0x23d60a['style'][_0xb22e0e(0x4aa)]),_0x576496=parseInt(_0x23d60a[_0xb22e0e(0x201)][_0xb22e0e(0x249)]),_0x296649=_0x23d60a[_0xb22e0e(0x313)],_0xca1cef=_0x23d60a[_0xb22e0e(0x5c1)];_0x6bfa58<_0x21b865+_0x296649&&_0x6bfa58+_0x5bf147>_0x21b865&&_0x1f5cca<_0x576496+_0xca1cef&&_0x1f5cca+_0x12b02e>_0x576496&&(_0x2bc011=!![]);}),_0x2bc011;}function avoidOverlap(_0x21790d){const _0x3709e2=_0x37a403;let _0x498911=parseInt(_0x21790d[_0x3709e2(0x201)][_0x3709e2(0x4aa)]),_0x25cbbe=parseInt(_0x21790d[_0x3709e2(0x201)]['top']);const _0x5d5322=0xa;let _0x415e3e=0x0;while(checkCollision(_0x21790d)&&_0x415e3e<0x64){_0x498911+=_0x5d5322,_0x498911+_0x21790d['offsetWidth']>layout_windows[_0x3709e2(0x611)]&&(_0x498911=0x0,_0x25cbbe+=_0x5d5322,_0x25cbbe+_0x21790d['offsetHeight']>layout_windows['clientHeight']&&(_0x25cbbe=0x0)),_0x21790d[_0x3709e2(0x201)][_0x3709e2(0x4aa)]=_0x498911+'px',_0x21790d[_0x3709e2(0x201)]['top']=_0x25cbbe+'px',_0x415e3e++;}}function constrainToBounds(_0x37ae3e){const _0x4399cc=_0x37a403;let _0x38e6cd=parseInt(_0x37ae3e[_0x4399cc(0x201)][_0x4399cc(0x4aa)]),_0x2edc41=parseInt(_0x37ae3e[_0x4399cc(0x201)]['top']);const _0x18d619=_0x37ae3e[_0x4399cc(0x313)],_0x309788=_0x37ae3e['offsetHeight'];if(_0x38e6cd<0x0)_0x38e6cd=0x0;if(_0x2edc41<0x0)_0x2edc41=0x0;if(_0x38e6cd+_0x18d619>layout_windows[_0x4399cc(0x611)])_0x38e6cd=layout_windows[_0x4399cc(0x611)]-_0x18d619;if(_0x2edc41+_0x309788>layout_windows[_0x4399cc(0x3a7)])_0x2edc41=layout_windows[_0x4399cc(0x3a7)]-_0x309788;_0x37ae3e[_0x4399cc(0x201)][_0x4399cc(0x4aa)]=_0x38e6cd+'px',_0x37ae3e[_0x4399cc(0x201)][_0x4399cc(0x249)]=_0x2edc41+'px';}function updateElementPosition(_0x2a3786){const _0x96a2ae=_0x37a403,_0x30403c=parseInt(_0x2a3786[_0x96a2ae(0x661)]['setWindowId']),_0x53b7c0=elementos['find'](_0x2c9090=>_0x2c9090['setWindowId']==_0x30403c);if(_0x53b7c0){_0x53b7c0['x']=parseInt(_0x2a3786[_0x96a2ae(0x201)][_0x96a2ae(0x4aa)]),_0x53b7c0['y']=parseInt(_0x2a3786[_0x96a2ae(0x201)]['top']);posicionesPorPiso[_0x53b7c0[_0x96a2ae(0x651)]]&&(posicionesPorPiso[_0x53b7c0[_0x96a2ae(0x651)]][_0x53b7c0[_0x96a2ae(0x1af)]]={'x':_0x53b7c0['x'],'y':_0x53b7c0['y']});const _0x5d719c=extraElements[_0x96a2ae(0x476)](_0x1652e9=>_0x1652e9[_0x96a2ae(0x1af)]==_0x30403c);_0x5d719c!==-0x1&&(extraElements[_0x5d719c]['x']=_0x53b7c0['x'],extraElements[_0x5d719c]['y']=_0x53b7c0['y']),console[_0x96a2ae(0x6ab)]('Posición\x20actualizada\x20de',_0x53b7c0[_0x96a2ae(0x193)],'a',_0x53b7c0['x'],_0x53b7c0['y']);}}function addDragEvents(_0x1da2c8){const _0x553ce8=_0x37a403;_0x1da2c8[_0x553ce8(0x3ad)](_0x553ce8(0x42d),function(_0x858429){const _0x1b1b79=_0x553ce8;if(editMode)return;if(_0x858429['target'][_0x1b1b79(0x5df)]('.menu-options')||_0x858429['target'][_0x1b1b79(0x5df)]('.printer'))return;const _0x2e541b=parseInt(_0x1da2c8[_0x1b1b79(0x661)][_0x1b1b79(0x1af)]),_0x269022=elementos[_0x1b1b79(0x4bd)](_0x11915d=>_0x11915d[_0x1b1b79(0x1af)]==_0x2e541b);_0x269022&&(_0x269022[_0x1b1b79(0x24d)]==_0x1b1b79(0x15d)||_0x269022[_0x1b1b79(0x24d)]==_0x1b1b79(0x600)||_0x269022[_0x1b1b79(0x24d)]=='room'||_0x269022[_0x1b1b79(0x24d)]=='chair')&&clickMesa(_0x269022,0x1);}),_0x1da2c8[_0x553ce8(0x3ad)](_0x553ce8(0x688),function(_0x7bfc38){const _0x12347a=_0x553ce8;if(!editMode)return;currentDrag=_0x1da2c8,offsetX=_0x7bfc38[_0x12347a(0x6c9)]-parseInt(_0x1da2c8['style'][_0x12347a(0x4aa)]),offsetY=_0x7bfc38[_0x12347a(0x6ba)]-parseInt(_0x1da2c8['style'][_0x12347a(0x249)]),_0x1da2c8[_0x12347a(0x201)][_0x12347a(0x3a1)]=0x3e8,dragStartX=_0x7bfc38[_0x12347a(0x6c9)],dragStartY=_0x7bfc38['clientY'],isDraggingMoved=![];}),document[_0x553ce8(0x3ad)](_0x553ce8(0x647),function(_0x1dca4b){const _0x368b6e=_0x553ce8;if(currentDrag&&editMode){const _0x344847=_0x1dca4b[_0x368b6e(0x6c9)]-offsetX,_0x15c3fa=_0x1dca4b[_0x368b6e(0x6ba)]-offsetY;currentDrag[_0x368b6e(0x201)][_0x368b6e(0x4aa)]=_0x344847+'px',currentDrag[_0x368b6e(0x201)][_0x368b6e(0x249)]=_0x15c3fa+'px',!isDraggingMoved&&(Math[_0x368b6e(0x58c)](_0x1dca4b[_0x368b6e(0x6c9)]-dragStartX)>0x5||Math[_0x368b6e(0x58c)](_0x1dca4b['clientY']-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document[_0x553ce8(0x3ad)](_0x553ce8(0x5bc),function(_0x1f4265){const _0x5027ae=_0x553ce8;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x5027ae(0x201)][_0x5027ae(0x3a1)]='',currentDrag=null);}),_0x1da2c8[_0x553ce8(0x3ad)](_0x553ce8(0x360),function(_0x4b100b){const _0xf78c6c=_0x553ce8;if(!editMode)return;currentDrag=_0x1da2c8;const _0x3b549a=_0x4b100b['touches'][0x0];offsetX=_0x3b549a['clientX']-parseInt(_0x1da2c8[_0xf78c6c(0x201)][_0xf78c6c(0x4aa)]),offsetY=_0x3b549a[_0xf78c6c(0x6ba)]-parseInt(_0x1da2c8[_0xf78c6c(0x201)][_0xf78c6c(0x249)]),_0x1da2c8[_0xf78c6c(0x201)][_0xf78c6c(0x3a1)]=0x3e8,dragStartX=_0x3b549a[_0xf78c6c(0x6c9)],dragStartY=_0x3b549a['clientY'],isDraggingMoved=![],_0x4b100b[_0xf78c6c(0x492)]();}),document[_0x553ce8(0x3ad)](_0x553ce8(0x677),function(_0x28119f){const _0x5c701a=_0x553ce8;if(currentDrag&&editMode){const _0x39fb1a=_0x28119f['touches'][0x0],_0x460860=_0x39fb1a[_0x5c701a(0x6c9)]-offsetX,_0xa8273e=_0x39fb1a[_0x5c701a(0x6ba)]-offsetY;currentDrag[_0x5c701a(0x201)][_0x5c701a(0x4aa)]=_0x460860+'px',currentDrag['style'][_0x5c701a(0x249)]=_0xa8273e+'px',!isDraggingMoved&&(Math[_0x5c701a(0x58c)](_0x39fb1a[_0x5c701a(0x6c9)]-dragStartX)>0x5||Math[_0x5c701a(0x58c)](_0x39fb1a[_0x5c701a(0x6ba)]-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x28119f[_0x5c701a(0x492)]();}}),document[_0x553ce8(0x3ad)](_0x553ce8(0x6db),function(_0x37bd4f){currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag['style']['zIndex']='',currentDrag=null);});}async function clickMesa(_0x3944d3,_0x32ac7e=0x1){const _0x56d532=_0x37a403,_0x48b811=_0x3944d3['setWindowId'],_0x4088ff=getValidatedWindowAndShift(_0x48b811),{currentWindowShift:_0x507f02}=_0x4088ff;if(!_0x507f02)updateWindowShiftDisplay(_0x48b811);else{const _0x31fc2f=_0x56d532(0x2c7)+_0x48b811;await switchTab(_0x31fc2f,0x1);}_0x32ac7e==0x1&&hideModalLayout();}function toggleEditMode(){const _0x124f2f=_0x37a403;editMode=!editMode;const _0xf6b95f=document[_0x124f2f(0x456)](_0x124f2f(0x6e1));_0xf6b95f[_0x124f2f(0x13f)]=editMode?_0x124f2f(0x613):_0x124f2f(0x4c5);const _0x548baf=document['getElementById'](_0x124f2f(0x2b8));_0x548baf&&(_0x548baf[_0x124f2f(0x201)][_0x124f2f(0x5bd)]=editMode?_0x124f2f(0x12e):_0x124f2f(0x5a9)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x329e75=_0x37a403;if(!editMode)return;const _0x539054=document[_0x329e75(0x456)](_0x329e75(0x291)),_0x53139d=_0x539054['value'];let _0x148928='';switch(_0x53139d){case _0x329e75(0x527):_0x148928='';break;case'element-bathroom-men':_0x148928='';break;case _0x329e75(0x242):_0x148928='';break;case _0x329e75(0x576):_0x148928='';break;case _0x329e75(0x366):_0x148928='';break;case'element-clock':_0x148928='';break;case _0x329e75(0x458):_0x148928='';break;case'element-laptop':_0x148928='';break;case _0x329e75(0x391):_0x148928='';break;case _0x329e75(0x14b):_0x148928='';break;case _0x329e75(0x425):_0x148928='';break;case _0x329e75(0x511):_0x148928='';break;case _0x329e75(0x4bb):_0x148928='';break;default:_0x148928='';}const _0x510c15=document[_0x329e75(0x456)]('setFloorId'),_0x5c5974=_0x510c15[_0x329e75(0x351)],_0x11afcc=generateUniqId(),_0x3326d8=0xa,_0xcf3128=0xa,_0xa756ad={'setWindowId':_0x11afcc,'setWindowType':_0x53139d,'setWindowName':_0x148928,'x':_0x3326d8,'y':_0xcf3128,'zona':_0x510c15[_0x329e75(0x43d)][_0x510c15['selectedIndex']]['text'],'floorId':_0x5c5974};[_0x329e75(0x15d),_0x329e75(0x600),_0x329e75(0x371),_0x329e75(0x60a)][_0x329e75(0x67b)](_0x53139d)&&(_0xa756ad[_0x329e75(0x325)]=_0x329e75(0x2ee),_0xa756ad[_0x329e75(0x601)]=_0x329e75(0x5e9)),extraElements[_0x329e75(0x385)](_0xa756ad),!posicionesPorPiso[_0x5c5974]&&(posicionesPorPiso[_0x5c5974]={}),posicionesPorPiso[_0x5c5974][_0x11afcc]={'x':_0x3326d8,'y':_0xcf3128},cargarVentanas(myCompany[_0x329e75(0x1d3)][0x0][_0x329e75(0x306)],_0x5c5974);}function saveLayoutState(){createCartStore('')['then'](_0x2adb8e=>{const _0x3b6435=_0x530c,_0x4031f6=_0x2adb8e[_0x3b6435(0x481)]([_0x3b6435(0x497)],_0x3b6435(0x549)),_0x267d59=_0x4031f6['objectStore'](_0x3b6435(0x497)),_0x112276={'id':'layout','elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x931376=_0x267d59[_0x3b6435(0x6bc)](_0x112276);_0x931376[_0x3b6435(0x1c0)]=function(){const _0x1fb5c3=_0x3b6435;console[_0x1fb5c3(0x6ab)]('Estado\x20del\x20layout\x20guardado\x20correctamente.');},_0x931376['onerror']=function(_0x5e64d6){const _0x313210=_0x3b6435;console[_0x313210(0x65e)]('Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:',_0x5e64d6[_0x313210(0x114)]['error']);};});}async function loadLayoutState(){const _0x2c48da=_0x37a403;try{const _0x28fdaa=await createCartStore(''),_0x4c1e7e=await new Promise((_0x7c5f9a,_0x1984e9)=>{const _0x4b6174=_0x530c,_0x12da35=_0x28fdaa[_0x4b6174(0x481)]([_0x4b6174(0x497)],'readonly'),_0x34a862=_0x12da35[_0x4b6174(0x35d)](_0x4b6174(0x497)),_0x3a61f2=_0x34a862[_0x4b6174(0x684)]('layout');_0x3a61f2[_0x4b6174(0x1c0)]=()=>_0x7c5f9a(_0x3a61f2[_0x4b6174(0x3db)]),_0x3a61f2[_0x4b6174(0x618)]=_0x369f09=>_0x1984e9(_0x369f09[_0x4b6174(0x114)]['error']);});_0x4c1e7e&&(elementos=_0x4c1e7e[_0x2c48da(0x517)]||[],extraElements=_0x4c1e7e[_0x2c48da(0x4af)]||[],posicionesPorPiso=_0x4c1e7e[_0x2c48da(0x35e)]||{},console[_0x2c48da(0x6ab)]('Estado\x20del\x20layout\x20cargado.'));}catch(_0x2497ee){console['error']('Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:',_0x2497ee);throw _0x2497ee;}}function saveLayoutOnline(){const _0x338a52=_0x37a403;if(!isOnline()){console['log'](_0x338a52(0x4d1));return;}let _0x14e891={'id':_0x338a52(0x302),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x24d875={'layout':_0x14e891,'setToken':myCompany['setAuthToken']};fetch('https://apierp.dev/api/layout/update/',{'method':_0x338a52(0x357),'headers':{'Content-Type':_0x338a52(0x35f)},'body':JSON[_0x338a52(0x195)](_0x24d875)})[_0x338a52(0x323)](_0x27819c=>{const _0x4021d9=_0x338a52;if(!_0x27819c['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x27819c[_0x4021d9(0x496)]);return _0x27819c[_0x4021d9(0x14a)]();})[_0x338a52(0x323)](_0x393d92=>{const _0xff9ef7=_0x338a52;if(!_0x393d92['success'])throw new Error(_0x393d92[_0xff9ef7(0x37b)]||_0xff9ef7(0x472));console[_0xff9ef7(0x6ab)](_0xff9ef7(0x1a5));})[_0x338a52(0x258)](_0x151fe8=>{const _0x4af8e1=_0x338a52;console[_0x4af8e1(0x65e)]('Error\x20al\x20guardar\x20el\x20layout\x20online:',_0x151fe8);});}function setActiveTab(_0x307c0c){const _0x5cc86a=_0x37a403,_0x21f8c7=document[_0x5cc86a(0x3f0)]('.layout-tab-btn'),_0x2db68a=document[_0x5cc86a(0x3f0)](_0x5cc86a(0x324));_0x21f8c7[_0x5cc86a(0x3fd)](_0x505d31=>{const _0x1e824c=_0x5cc86a;_0x505d31[_0x1e824c(0x31c)](_0x1e824c(0x335))===_0x307c0c?_0x505d31[_0x1e824c(0x560)][_0x1e824c(0x417)](_0x1e824c(0x368)):_0x505d31['classList'][_0x1e824c(0x1ef)](_0x1e824c(0x368));}),_0x2db68a[_0x5cc86a(0x3fd)](_0x3cf8ca=>{const _0xfcefa2=_0x5cc86a;_0x3cf8ca['id']===_0xfcefa2(0x2c7)+_0x307c0c?_0x3cf8ca['classList'][_0xfcefa2(0x417)](_0xfcefa2(0x368)):_0x3cf8ca[_0xfcefa2(0x560)]['remove'](_0xfcefa2(0x368));});}document['querySelectorAll'](_0x37a403(0x1b2))[_0x37a403(0x3fd)](_0x127754=>{const _0x502398=_0x37a403;_0x127754[_0x502398(0x3ad)](_0x502398(0x42d),function(){const _0x572665=_0x502398,_0x56b5df=this[_0x572665(0x31c)]('data-tab');setActiveTab(_0x56b5df);});});function createTabsEnvironments(){const _0x40447d=_0x37a403,_0x4dce27=document[_0x40447d(0x53a)](_0x40447d(0x41b));_0x4dce27[_0x40447d(0x197)]='';const _0x347437=document[_0x40447d(0x6c7)](_0x40447d(0x50b));_0x347437['className']=_0x40447d(0x3a5);const _0x50ab80=document['getElementById'](_0x40447d(0x364));if(!_0x50ab80){console[_0x40447d(0x65e)](_0x40447d(0x420));return;}const _0x48afca=Array[_0x40447d(0x2a6)](_0x50ab80[_0x40447d(0x43d)]),_0x4fbde4=_0x48afca[_0x40447d(0x4bd)](_0x96de35=>_0x96de35[_0x40447d(0x526)])||_0x48afca[0x0],_0x18619d=document['createElement'](_0x40447d(0x454));_0x18619d[_0x40447d(0x489)]='tabs-environments-btn\x20selected',_0x18619d[_0x40447d(0x13f)]=_0x4fbde4[_0x40447d(0x5e1)],_0x347437[_0x40447d(0x361)](_0x18619d),_0x48afca['forEach'](_0x37e8f3=>{const _0x191fbb=_0x40447d;if(_0x37e8f3===_0x4fbde4)return;const _0x4df611=document[_0x191fbb(0x6c7)](_0x191fbb(0x2ac));_0x4df611[_0x191fbb(0x489)]=_0x191fbb(0x5ed),_0x4df611[_0x191fbb(0x13f)]='|',_0x347437['appendChild'](_0x4df611);const _0x45f25b=document[_0x191fbb(0x6c7)]('button');_0x45f25b[_0x191fbb(0x489)]=_0x191fbb(0x639),_0x45f25b[_0x191fbb(0x13f)]=_0x37e8f3[_0x191fbb(0x5e1)],_0x45f25b[_0x191fbb(0x3ad)](_0x191fbb(0x42d),function(){const _0x3bce43=_0x191fbb;handleTabSelection(_0x37e8f3[_0x3bce43(0x351)]);}),_0x347437[_0x191fbb(0x361)](_0x45f25b);}),_0x4dce27[_0x40447d(0x361)](_0x347437);}async function handleTabSelection(_0x449762){const _0x2bc216=_0x37a403;hideModalLayout(),document[_0x2bc216(0x456)](_0x2bc216(0x364))[_0x2bc216(0x351)]=_0x449762,await changeEnvironments(_0x449762),showModalLayout();}async function resetWindowPositions(_0xfce9e4,_0x3cc5b3){const _0x48d66b=_0x37a403,_0x4605d7=myCompany[_0x48d66b(0x53e)][_0x48d66b(0x5a3)](_0x540540=>_0x540540[_0x48d66b(0x306)]==_0xfce9e4&&_0x540540[_0x48d66b(0x364)]==_0x3cc5b3);_0x4605d7[_0x48d66b(0x3fd)](_0x4be31d=>{delete _0x4be31d['x'],delete _0x4be31d['y'];}),posicionesPorPiso[_0x3cc5b3]&&(_0x4605d7['forEach'](_0x521442=>{const _0x471767=_0x48d66b;delete posicionesPorPiso[_0x3cc5b3][_0x521442[_0x471767(0x1af)]];}),Object[_0x48d66b(0x57f)](posicionesPorPiso[_0x3cc5b3])['length']===0x0&&delete posicionesPorPiso[_0x3cc5b3]);}function openMenu(_0x1d873b,_0x1e7b99){const _0x47fd50=_0x37a403,_0x374187=document[_0x47fd50(0x53a)](_0x47fd50(0x4ee));if(_0x374187)_0x374187[_0x47fd50(0x1ef)]();const {windowObj:_0x1eca3c}=getValidatedWindowAndShift(_0x1d873b),_0x4c3c38=layout_windows,_0x38f466=document[_0x47fd50(0x6c7)]('ul');_0x38f466[_0x47fd50(0x489)]='context-menu';const _0x5db810=[];_0x1eca3c['setWindowStatus']!==_0x47fd50(0x5e9)&&_0x5db810[_0x47fd50(0x385)]({'icon':_0x47fd50(0x6e7),'label':_0x47fd50(0x166),'handler':releaseWindow});_0x5db810[_0x47fd50(0x3fd)](({icon:_0x5d237e,label:_0x5576a4,handler:_0x43258e})=>{const _0xcabbb3=_0x47fd50,_0x1be8f9=document['createElement']('li');_0x1be8f9[_0xcabbb3(0x197)]=_0xcabbb3(0x662)+_0x5d237e+_0xcabbb3(0x29e)+_0x5576a4,_0x1be8f9['addEventListener'](_0xcabbb3(0x42d),_0x52189d=>{_0x52189d['stopPropagation'](),_0x43258e(_0x1d873b),_0x38f466['remove']();}),_0x1be8f9[_0xcabbb3(0x3ad)]('mouseenter',()=>_0x1be8f9['style'][_0xcabbb3(0x16d)]=_0xcabbb3(0x60d)),_0x1be8f9[_0xcabbb3(0x3ad)](_0xcabbb3(0x1f0),()=>_0x1be8f9['style'][_0xcabbb3(0x16d)]=''),_0x38f466[_0xcabbb3(0x361)](_0x1be8f9);});const _0x5cba8a=_0x4c3c38['getBoundingClientRect'](),_0x5e8528=_0x1e7b99[_0x47fd50(0x6c9)]-_0x5cba8a[_0x47fd50(0x4aa)],_0xee6514=_0x1e7b99[_0x47fd50(0x6ba)]-_0x5cba8a[_0x47fd50(0x249)];_0x38f466[_0x47fd50(0x201)][_0x47fd50(0x4aa)]=_0x5e8528+'px',_0x38f466[_0x47fd50(0x201)]['top']=_0xee6514+'px',_0x4c3c38['appendChild'](_0x38f466);const _0x5ed1bf=_0x3c68b9=>{const _0x1963eb=_0x47fd50;!_0x38f466[_0x1963eb(0x4ea)](_0x3c68b9[_0x1963eb(0x114)])&&(_0x38f466[_0x1963eb(0x1ef)](),document[_0x1963eb(0x192)](_0x1963eb(0x42d),_0x5ed1bf));};document[_0x47fd50(0x3ad)](_0x47fd50(0x42d),_0x5ed1bf);}function editWindow(_0x9ce09a){const _0x333e07=_0x37a403;console[_0x333e07(0x6ab)](_0x333e07(0x4b3),_0x9ce09a);}function deleteWindow(_0x5c235c){const _0x10a85d=_0x37a403;console[_0x10a85d(0x6ab)](_0x10a85d(0x44e),_0x5c235c);}function _0x530c(_0x96aac1,_0x562336){const _0x92b28c=_0x7f4c();return _0x530c=function(_0x42ece3,_0x2b2bb1){_0x42ece3=_0x42ece3-0x110;let _0x3e78ca=_0x92b28c[_0x42ece3];return _0x3e78ca;},_0x530c(_0x96aac1,_0x562336);}async function releaseWindow(_0x2046a3){const _0x501558=_0x37a403,_0x386d9f=getValidatedWindowAndShift(_0x2046a3),{windowObj:_0x55921f,currentWindowShift:_0x128cec}=_0x386d9f;if(_0x128cec){_0x55921f['setLastDateUpdate']=nowWithMillisecondsForServer();const _0x1c453a=carts[_0x2046a3]||[],_0x5af23b=_0x1c453a['some'](_0x303948=>_0x303948[_0x501558(0x5b6)]!='');if(!_0x5af23b){_0x55921f[_0x501558(0x601)]=_0x501558(0x5e9);const _0x85611c=new Date();_0x128cec['setShiftStatus']='0',_0x128cec[_0x501558(0x53c)]=_0x85611c,await apiERPsyncWindows();const _0x5e2ffa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5e2ffa);const _0x35c062=document[_0x501558(0x456)](_0x501558(0x364))[_0x501558(0x351)];await handleTabSelection(_0x35c062);}}}function showModalCreateWindow(){const _0xc1c125=_0x37a403;hideModalLayout();const _0xfbecf6=document[_0xc1c125(0x456)](_0xc1c125(0x52d)),_0x3c061c=document['getElementById'](_0xc1c125(0x5be));_0xfbecf6[_0xc1c125(0x560)][_0xc1c125(0x417)](_0xc1c125(0x368)),_0x3c061c[_0xc1c125(0x201)][_0xc1c125(0x5bd)]=_0xc1c125(0x12e);}function hideModalCreateWindow(){const _0x16585d=_0x37a403,_0xdc2df2=document[_0x16585d(0x456)](_0x16585d(0x52d)),_0x5da8d6=document[_0x16585d(0x456)](_0x16585d(0x5be));_0xdc2df2['classList']['remove'](_0x16585d(0x368)),_0x5da8d6[_0x16585d(0x201)][_0x16585d(0x5bd)]=_0x16585d(0x5a9);}document[_0x37a403(0x456)]('closeModalCreateWindow')['addEventListener']('click',hideModalCreateWindow),document[_0x37a403(0x456)](_0x37a403(0x5be))[_0x37a403(0x3ad)](_0x37a403(0x42d),_0x4765fc=>{const _0x2ee9e2=_0x37a403;_0x4765fc['target']==_0x4765fc[_0x2ee9e2(0x2cc)]&&_0x4765fc[_0x2ee9e2(0x38b)]();});function showModalShift(){const _0x516b0a=_0x37a403,_0x11b7b5=document[_0x516b0a(0x456)](_0x516b0a(0x33b)),_0x39e4d5=document[_0x516b0a(0x456)](_0x516b0a(0x2b4));_0x11b7b5[_0x516b0a(0x560)][_0x516b0a(0x417)](_0x516b0a(0x368)),_0x39e4d5['style']['display']='block';}function hideModalShift(){const _0x1a8118=_0x37a403,_0x5021d7=document[_0x1a8118(0x456)](_0x1a8118(0x33b)),_0x29f5ff=document[_0x1a8118(0x456)]('modalOverlayShift');_0x5021d7[_0x1a8118(0x560)][_0x1a8118(0x1ef)](_0x1a8118(0x368)),_0x29f5ff[_0x1a8118(0x201)][_0x1a8118(0x5bd)]=_0x1a8118(0x5a9);}document['getElementById'](_0x37a403(0x170))['addEventListener'](_0x37a403(0x42d),hideModalShift),document[_0x37a403(0x456)](_0x37a403(0x2b4))[_0x37a403(0x3ad)](_0x37a403(0x42d),_0x294ce0=>{const _0xe36596=_0x37a403;_0x294ce0[_0xe36596(0x114)]==_0x294ce0[_0xe36596(0x2cc)]&&_0x294ce0[_0xe36596(0x38b)]();});async function updateShiftDisplay(){const _0x18aaca=_0x37a403;if(!isOnline()){ntfShow(_0x18aaca(0x5f3));return;}const _0x44933a=document[_0x18aaca(0x456)](_0x18aaca(0x306))[_0x18aaca(0x351)],_0x3f1468=document[_0x18aaca(0x456)](_0x18aaca(0x2bc)),_0x1d5901=myCompany[_0x18aaca(0x5d7)],_0x2e6c19=myCompany['setMonedas'][_0x18aaca(0x4bd)](_0x1b2df1=>_0x1b2df1['setMonedaCodigo']==_0x1d5901),_0xf0e3e2=_0x2e6c19?_0x2e6c19[_0x18aaca(0x2e1)]:'';_0x3f1468['innerHTML']='';!myCompany['setShifts']&&(myCompany[_0x18aaca(0x363)]=[]);const _0x31205f=myCompany['setShifts'],_0x23adf6=_0x31205f[_0x18aaca(0x4bd)](_0x3fab59=>_0x3fab59['setBranchId']==_0x44933a&&_0x3fab59[_0x18aaca(0x1d1)]=='1');if(!_0x23adf6){const _0x1409e1=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x1409e1['className']=_0x18aaca(0x207);const _0x5747da=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x5747da[_0x18aaca(0x489)]='shift-open-leftCol';const _0x238e7a=document[_0x18aaca(0x6c7)](_0x18aaca(0x11e));_0x238e7a[_0x18aaca(0x489)]='shift-open-img',_0x238e7a[_0x18aaca(0x604)]=_0x18aaca(0x491),_0x238e7a[_0x18aaca(0x1d0)]='Apertura\x20de\x20Caja',_0x5747da[_0x18aaca(0x361)](_0x238e7a);const _0x53df82=document['createElement'](_0x18aaca(0x50b));_0x53df82[_0x18aaca(0x489)]=_0x18aaca(0x4b8);const _0x573119=document['createElement']('h2');_0x573119[_0x18aaca(0x489)]=_0x18aaca(0x340),_0x573119[_0x18aaca(0x13f)]=_0x18aaca(0x45d);const _0x2c1608=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x2c1608[_0x18aaca(0x489)]='shift-open-row2';const _0x4111bf=document[_0x18aaca(0x6c7)](_0x18aaca(0x646));_0x4111bf[_0x18aaca(0x489)]=_0x18aaca(0x5b8),_0x4111bf[_0x18aaca(0x13f)]=_0x18aaca(0x698);const _0x14a053=document['createElement'](_0x18aaca(0x210));_0x14a053[_0x18aaca(0x489)]=_0x18aaca(0x592),_0x14a053['type']='number',_0x14a053['id']='setCashInitialInput',_0x14a053[_0x18aaca(0x4ac)]=_0xf0e3e2+_0x18aaca(0x64b),_0x2c1608[_0x18aaca(0x361)](_0x4111bf),_0x2c1608[_0x18aaca(0x361)](_0x14a053);const _0x1bb839=document[_0x18aaca(0x6c7)]('div');_0x1bb839[_0x18aaca(0x489)]='shift-open-btnContainer';const _0xbd55fb=document[_0x18aaca(0x6c7)]('button');_0xbd55fb['className']=_0x18aaca(0x2be),_0xbd55fb['id']=_0x18aaca(0x4db),_0xbd55fb[_0x18aaca(0x13f)]=_0x18aaca(0x292),_0xbd55fb[_0x18aaca(0x1fe)]=openShift,_0x1bb839['appendChild'](_0xbd55fb),_0x53df82[_0x18aaca(0x361)](_0x573119),_0x53df82['appendChild'](_0x2c1608),_0x53df82['appendChild'](_0x1bb839),_0x1409e1[_0x18aaca(0x361)](_0x5747da),_0x1409e1[_0x18aaca(0x361)](_0x53df82),_0x3f1468['appendChild'](_0x1409e1);}else{const _0x2eaa65=getUserPermissionApiERP(0xa);let _0x1700bb='',_0x24133f=[];showLoadingModal();if(_0x2eaa65==0x1)try{const _0x42e4f1=myCompany[_0x18aaca(0x51f)],_0x5c5d80={'apiPOS_getShiftDetails':0x1,'setToken':myCompany['setAuthToken'],'setShiftId':_0x23adf6[_0x18aaca(0x493)]},_0x3ad349=await fetch(_0x42e4f1,{'method':_0x18aaca(0x357),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x18aaca(0x195)](_0x5c5d80)}),_0x467e89=await _0x3ad349[_0x18aaca(0x14a)]();_0x467e89[_0x18aaca(0x299)]&&_0x467e89['message'][_0x18aaca(0x2f2)]&&(_0x24133f=_0x467e89['message'][_0x18aaca(0x2f2)]);}catch(_0x15765b){ntfShow(_0x18aaca(0x5c0)),console[_0x18aaca(0x65e)](_0x18aaca(0x66a),_0x15765b);}else _0x1700bb=_0x18aaca(0x208);hideLoadingModal();const _0x4bf881=document['createElement'](_0x18aaca(0x50b));_0x4bf881[_0x18aaca(0x489)]=_0x18aaca(0x33c);const _0xc7f9f9=document[_0x18aaca(0x6c7)]('div');_0xc7f9f9[_0x18aaca(0x489)]='shift-close-row1';const _0x4682fa=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x4682fa[_0x18aaca(0x489)]=_0x18aaca(0x25e);const _0x5c294b=document['createElement'](_0x18aaca(0x11e));_0x5c294b[_0x18aaca(0x604)]='./img/icon-shift-close.svg',_0x5c294b[_0x18aaca(0x1d0)]=_0x18aaca(0x4b0),_0x5c294b[_0x18aaca(0x489)]=_0x18aaca(0x1b5),_0x4682fa[_0x18aaca(0x361)](_0x5c294b);const _0x52589c=document[_0x18aaca(0x6c7)]('div');_0x52589c['className']=_0x18aaca(0x643);const _0x35348d=document[_0x18aaca(0x6c7)]('h2');_0x35348d[_0x18aaca(0x197)]=_0x18aaca(0x1cd),_0x35348d[_0x18aaca(0x489)]=_0x18aaca(0x282),_0x52589c[_0x18aaca(0x361)](_0x35348d),_0xc7f9f9['appendChild'](_0x4682fa),_0xc7f9f9[_0x18aaca(0x361)](_0x52589c),_0x4bf881[_0x18aaca(0x361)](_0xc7f9f9);const _0x192aeb=document[_0x18aaca(0x6c7)]('div');_0x192aeb[_0x18aaca(0x489)]='shift-close-row2';const _0x5c2730=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x5c2730['className']='shift-close-info-col';const _0x101f32=document[_0x18aaca(0x6c7)](_0x18aaca(0x646));_0x101f32[_0x18aaca(0x13f)]='Cajero:',_0x101f32[_0x18aaca(0x489)]='shift-close-label',_0x5c2730[_0x18aaca(0x361)](_0x101f32);const _0x388ef8=document[_0x18aaca(0x6c7)](_0x18aaca(0x11e));_0x388ef8[_0x18aaca(0x604)]=_0x18aaca(0x1ab),_0x388ef8['alt']=_0x18aaca(0x3f2),_0x388ef8[_0x18aaca(0x489)]='shift-close-smallIcon',_0x5c2730['appendChild'](_0x388ef8);const _0x24add7=document['createElement'](_0x18aaca(0x2ac));_0x24add7[_0x18aaca(0x13f)]=myCompany[_0x18aaca(0x57a)][_0x18aaca(0x5d1)],_0x24add7[_0x18aaca(0x489)]=_0x18aaca(0x398),_0x5c2730[_0x18aaca(0x361)](_0x24add7);const _0x52a6db=document[_0x18aaca(0x6c7)]('div');_0x52a6db[_0x18aaca(0x489)]=_0x18aaca(0x4e9);const _0x36610d=document[_0x18aaca(0x6c7)](_0x18aaca(0x646));_0x36610d[_0x18aaca(0x13f)]=_0x18aaca(0x5f0),_0x36610d[_0x18aaca(0x489)]=_0x18aaca(0x3dc),_0x52a6db[_0x18aaca(0x361)](_0x36610d);const _0x96e913=document['createElement']('img');_0x96e913[_0x18aaca(0x604)]=_0x18aaca(0x54c),_0x96e913[_0x18aaca(0x1d0)]=_0x18aaca(0x5ac),_0x96e913[_0x18aaca(0x489)]=_0x18aaca(0x634),_0x52a6db[_0x18aaca(0x361)](_0x96e913);const _0x478ca1=new Date(_0x23adf6[_0x18aaca(0x4c4)]),_0x24e203=document[_0x18aaca(0x6c7)](_0x18aaca(0x2ac));_0x24e203[_0x18aaca(0x13f)]=_0x478ca1['toLocaleString'](),_0x24e203[_0x18aaca(0x489)]=_0x18aaca(0x398),_0x52a6db[_0x18aaca(0x361)](_0x24e203),_0x192aeb[_0x18aaca(0x361)](_0x5c2730),_0x192aeb[_0x18aaca(0x361)](_0x52a6db),_0x4bf881[_0x18aaca(0x361)](_0x192aeb);const _0x13622a=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x13622a[_0x18aaca(0x489)]=_0x18aaca(0x39b)+_0x1700bb;const _0x53e4c5=document[_0x18aaca(0x6c7)](_0x18aaca(0x600));_0x53e4c5[_0x18aaca(0x489)]='shift-table\x20'+_0x1700bb,_0x53e4c5['style'][_0x18aaca(0x6b0)]=_0x18aaca(0x6df);const _0x26b118=document[_0x18aaca(0x6c7)](_0x18aaca(0x334)),_0x420d3e=document[_0x18aaca(0x6c7)]('tr'),_0x53975d=['\x20',_0x18aaca(0x5fb),_0x18aaca(0x14e),_0x18aaca(0x4c1)];_0x53975d[_0x18aaca(0x3fd)](_0x4dd7d6=>{const _0x402884=_0x18aaca,_0x394235=document[_0x402884(0x6c7)]('th');_0x4dd7d6=='Egresos'&&(_0x394235[_0x402884(0x489)]='shift-table-expenses'),_0x394235[_0x402884(0x13f)]=_0x4dd7d6,_0x420d3e[_0x402884(0x361)](_0x394235);}),_0x26b118[_0x18aaca(0x361)](_0x420d3e),_0x53e4c5['appendChild'](_0x26b118);const _0xd501bc=document[_0x18aaca(0x6c7)](_0x18aaca(0x394));function _0x20bdd7(_0x39a114,_0x5c43d2,_0x4fe55b){const _0x3d3d69=_0x18aaca,_0x51869a=document[_0x3d3d69(0x6c7)]('tr'),_0x2aaddc=document[_0x3d3d69(0x6c7)]('td');_0x2aaddc[_0x3d3d69(0x13f)]=_0x39a114;const _0x5a7f33=document[_0x3d3d69(0x6c7)]('td');_0x5a7f33[_0x3d3d69(0x13f)]=_0x5c43d2;const _0x3b66f0=document[_0x3d3d69(0x6c7)]('td');_0x3b66f0[_0x3d3d69(0x489)]=_0x3d3d69(0x406),_0x3b66f0[_0x3d3d69(0x13f)]=_0x4fe55b;const _0x31c23b=document['createElement']('td');return _0x31c23b[_0x3d3d69(0x13f)]=(parseFloat(_0x5c43d2)-parseFloat(_0x4fe55b))[_0x3d3d69(0x312)](0x2),_0x51869a[_0x3d3d69(0x361)](_0x2aaddc),_0x51869a[_0x3d3d69(0x361)](_0x5a7f33),_0x51869a[_0x3d3d69(0x361)](_0x3b66f0),_0x51869a['appendChild'](_0x31c23b),_0x51869a;}let _0x5b220f=0x0,_0x173121=0x0,_0x3df9ed=0x0,_0x248fb0=0x0;myCompany[_0x18aaca(0x2ae)]['forEach'](_0x5bff2b=>{const _0x36e4f9=_0x18aaca;let _0x3c3fd4=_0x24133f[_0x36e4f9(0x5a3)](_0x22642a=>_0x22642a[_0x36e4f9(0x6a0)]==0x1&&_0x22642a['setPaymentCode']==_0x5bff2b[_0x36e4f9(0x3f6)])[_0x36e4f9(0x51d)]((_0x206bdf,_0x3e94f1)=>_0x206bdf+parseFloat(_0x3e94f1[_0x36e4f9(0x3d3)]),0x0),_0x29ffc2=_0x24133f[_0x36e4f9(0x5a3)](_0x19cd53=>_0x19cd53[_0x36e4f9(0x6a0)]==0x2&&_0x19cd53[_0x36e4f9(0x3f6)]==_0x5bff2b[_0x36e4f9(0x3f6)])[_0x36e4f9(0x51d)]((_0x1652a3,_0x4baa9c)=>_0x1652a3+parseFloat(_0x4baa9c[_0x36e4f9(0x3d3)]),0x0);_0x5b220f+=_0x3c3fd4,_0x173121+=_0x29ffc2,(_0x5bff2b[_0x36e4f9(0x3f6)]==_0x36e4f9(0x26d)||_0x5bff2b[_0x36e4f9(0x3f6)]==_0x36e4f9(0x184))&&(_0x3df9ed=_0x3c3fd4,_0x248fb0=_0x29ffc2),(_0x5bff2b[_0x36e4f9(0x3f6)]==_0x36e4f9(0x26d)||_0x5bff2b[_0x36e4f9(0x3f6)]==_0x36e4f9(0x184)||_0x3c3fd4>0x0||_0x29ffc2>0x0)&&_0xd501bc[_0x36e4f9(0x361)](_0x20bdd7(_0x5bff2b['setPaymentName'],parseFloat(_0x3c3fd4)[_0x36e4f9(0x312)](0x2),parseFloat(_0x29ffc2)[_0x36e4f9(0x312)](0x2)));});const _0x248560=_0x20bdd7(_0x18aaca(0x31e),parseFloat(_0x5b220f)[_0x18aaca(0x312)](0x2),parseFloat(_0x173121)['toFixed'](0x2));_0x248560['lastChild'][_0x18aaca(0x13f)]=(parseFloat(_0x5b220f)-parseFloat(_0x173121))['toFixed'](0x2),_0xd501bc[_0x18aaca(0x361)](_0x248560),_0x53e4c5['appendChild'](_0xd501bc),_0x13622a[_0x18aaca(0x361)](_0x53e4c5),_0x4bf881[_0x18aaca(0x361)](_0x13622a);const _0xaa817b=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0xaa817b[_0x18aaca(0x489)]=_0x18aaca(0x5ca)+_0x1700bb;const _0x51ec8a=document[_0x18aaca(0x6c7)]('div');_0x51ec8a[_0x18aaca(0x489)]='shift-close-info-col';const _0x2519d8=document['createElement']('label');_0x2519d8['textContent']='Caja\x20Inicial:',_0x2519d8['className']=_0x18aaca(0x4f0),_0x51ec8a[_0x18aaca(0x361)](_0x2519d8);const _0x31b9bd=document[_0x18aaca(0x6c7)](_0x18aaca(0x2ac));_0x31b9bd['textContent']=_0xf0e3e2+'\x20'+parseFloat(_0x23adf6[_0x18aaca(0x650)])[_0x18aaca(0x312)](0x2),_0x31b9bd[_0x18aaca(0x489)]=_0x18aaca(0x57c),_0x51ec8a['appendChild'](_0x31b9bd);const _0x369865=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x369865[_0x18aaca(0x489)]=_0x18aaca(0x4e9);const _0x2f3a41=document['createElement'](_0x18aaca(0x646));_0x2f3a41['textContent']='Total\x20Efectivo:',_0x2f3a41[_0x18aaca(0x489)]=_0x18aaca(0x4f0),_0x369865[_0x18aaca(0x361)](_0x2f3a41);const _0x36d994=_0x3df9ed-_0x248fb0,_0x274d97=document['createElement'](_0x18aaca(0x2ac));_0x274d97[_0x18aaca(0x13f)]=_0xf0e3e2+'\x20'+parseFloat(_0x36d994)['toFixed'](0x2),_0x274d97[_0x18aaca(0x489)]=_0x18aaca(0x57c),_0x369865['appendChild'](_0x274d97),_0xaa817b[_0x18aaca(0x361)](_0x51ec8a),_0xaa817b[_0x18aaca(0x361)](_0x369865);const _0x5ef13a=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x5ef13a['className']='shift-close-infoRow\x20'+_0x1700bb;const _0x1df454=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x1df454['className']=_0x18aaca(0x4e9);const _0x1de636=document['createElement']('label');_0x1de636['textContent']=_0x18aaca(0x1b4),_0x1de636['className']=_0x18aaca(0x4f0),_0x1df454[_0x18aaca(0x361)](_0x1de636);const _0x338ebf=(parseFloat(_0x23adf6['setCashInitial'])+parseFloat(_0x36d994))[_0x18aaca(0x312)](0x2),_0x11d068=document[_0x18aaca(0x6c7)](_0x18aaca(0x2ac));_0x11d068[_0x18aaca(0x13f)]=_0xf0e3e2+'\x20'+_0x338ebf,_0x11d068['className']=_0x18aaca(0x57c);const _0x42a56c=document[_0x18aaca(0x6c7)](_0x18aaca(0x210));_0x42a56c[_0x18aaca(0x276)]='hidden',_0x42a56c['id']=_0x18aaca(0x347),_0x42a56c[_0x18aaca(0x351)]=_0x338ebf,_0x1df454[_0x18aaca(0x361)](_0x11d068),_0x1df454[_0x18aaca(0x361)](_0x42a56c);const _0x44ecce=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x44ecce[_0x18aaca(0x489)]='shift-close-info-col';const _0xcfeaaf=document[_0x18aaca(0x6c7)](_0x18aaca(0x646));_0xcfeaaf[_0x18aaca(0x13f)]=_0x18aaca(0x523),_0xcfeaaf['className']=_0x18aaca(0x4f0),_0x44ecce[_0x18aaca(0x361)](_0xcfeaaf);const _0x2dd4a5=document[_0x18aaca(0x6c7)]('input');_0x2dd4a5['type']=_0x18aaca(0x2dc),_0x2dd4a5['id']=_0x18aaca(0x3b3),_0x2dd4a5['className']=_0x18aaca(0x1bb),_0x44ecce[_0x18aaca(0x361)](_0x2dd4a5),_0x5ef13a['appendChild'](_0x1df454),_0x5ef13a[_0x18aaca(0x361)](_0x44ecce),_0x4bf881['appendChild'](_0xaa817b),_0x4bf881[_0x18aaca(0x361)](_0x5ef13a);const _0x1d32ba=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x1d32ba[_0x18aaca(0x489)]=_0x18aaca(0x655);const _0x1999c1=document['createElement']('label');_0x1999c1[_0x18aaca(0x13f)]=_0x18aaca(0x56f),_0x1999c1[_0x18aaca(0x489)]='shift-close-notaLabel',_0x1d32ba['appendChild'](_0x1999c1);const _0x95076c=document[_0x18aaca(0x6c7)](_0x18aaca(0x4d4));_0x95076c[_0x18aaca(0x201)][_0x18aaca(0x6b0)]=_0x18aaca(0x6df),_0x95076c['id']=_0x18aaca(0x271),_0x95076c[_0x18aaca(0x295)]='2',_0x95076c[_0x18aaca(0x489)]='form-control\x20custom-input-cart-options\x20shift-close-textarea',_0x1d32ba[_0x18aaca(0x361)](_0x95076c);const _0x5e0fa3=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x5e0fa3[_0x18aaca(0x489)]=_0x18aaca(0x11b)+_0x1700bb;const _0x33e8e1=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x33e8e1[_0x18aaca(0x489)]='shift-close-diff-col';const _0x246b77=document[_0x18aaca(0x6c7)]('label');_0x246b77[_0x18aaca(0x13f)]=_0x18aaca(0x52c),_0x246b77[_0x18aaca(0x489)]=_0x18aaca(0x68b),_0x33e8e1[_0x18aaca(0x361)](_0x246b77);const _0x2ebce6=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x2ebce6[_0x18aaca(0x489)]='shift-close-diff-col';const _0x2fc59b=document[_0x18aaca(0x6c7)](_0x18aaca(0x2ac));_0x2fc59b[_0x18aaca(0x13f)]=_0xf0e3e2+_0x18aaca(0x64b),_0x2fc59b[_0x18aaca(0x489)]=_0x18aaca(0x568),_0x2ebce6[_0x18aaca(0x361)](_0x2fc59b),_0x5e0fa3[_0x18aaca(0x361)](_0x33e8e1),_0x5e0fa3['appendChild'](_0x2ebce6),_0x2dd4a5['addEventListener'](_0x18aaca(0x210),function(){const _0x52c921=_0x18aaca,_0x54ae6f=parseFloat(_0x2dd4a5['value'])||0x0,_0x89129=_0x54ae6f-_0x338ebf;_0x2fc59b[_0x52c921(0x13f)]=_0xf0e3e2+'\x20'+_0x89129[_0x52c921(0x312)](0x2);});const _0x3523de=document[_0x18aaca(0x6c7)](_0x18aaca(0x50b));_0x3523de[_0x18aaca(0x489)]=_0x18aaca(0x5dd);const _0x1221e2=document[_0x18aaca(0x6c7)](_0x18aaca(0x454));_0x1221e2['id']='btnShiftEnd',_0x1221e2['textContent']=_0x18aaca(0x307),_0x1221e2[_0x18aaca(0x489)]=_0x18aaca(0x333),_0x1221e2[_0x18aaca(0x1fe)]=closeShift,_0x3523de[_0x18aaca(0x361)](_0x1221e2),_0x4bf881[_0x18aaca(0x361)](_0x1d32ba),_0x4bf881['appendChild'](_0x5e0fa3),_0x4bf881[_0x18aaca(0x361)](_0x3523de),_0x3f1468[_0x18aaca(0x361)](_0x4bf881);}showModalShift();}async function openShift(){const _0x55ba39=_0x37a403;if(!isOnline()){ntfShow(_0x55ba39(0x680));return;}const _0x172b46=document['getElementById'](_0x55ba39(0x4db));if(!_0x172b46){console[_0x55ba39(0x65e)]('No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart');return;}_0x172b46['disabled']=!![],hideModalShift(),showLoadingModal();const _0x2b2f0a=document[_0x55ba39(0x456)]('setCashInitialInput'),_0x30a087=_0x2b2f0a[_0x55ba39(0x351)];if(_0x30a087==''||isNaN(_0x30a087)){ntfShow(_0x55ba39(0x512)),_0x172b46[_0x55ba39(0x6b6)]=![],hideLoadingModal();return;}const _0x1f466a=document[_0x55ba39(0x456)](_0x55ba39(0x306))['value'],_0x54ca8c=document['getElementById'](_0x55ba39(0x506))['value'],_0x219ce1=parseFloat(_0x30a087),_0x2ed93a=new Date();try{const _0xb66816=myCompany[_0x55ba39(0x51f)],_0x3cc4f6={'apiPOS_shift':0x1,'setToken':myCompany[_0x55ba39(0x238)],'setBranchId':_0x1f466a,'setCashierId':_0x54ca8c,'setCashInitial':_0x219ce1,'setShiftDateStart':_0x2ed93a},_0x5e8d38=await fetch(_0xb66816,{'method':_0x55ba39(0x357),'headers':{'Content-Type':_0x55ba39(0x5ab)},'body':JSON['stringify'](_0x3cc4f6)}),_0x1a7777=await _0x5e8d38['json']();if(_0x1a7777[_0x55ba39(0x299)]&&_0x1a7777[_0x55ba39(0x37b)]['setShiftId']){const _0x455c45=_0x1a7777[_0x55ba39(0x37b)][_0x55ba39(0x493)];let _0x5cf9c2=myCompany[_0x55ba39(0x363)][_0x55ba39(0x4bd)](_0x5e15ff=>_0x5e15ff['setBranchId']==_0x1f466a);_0x5cf9c2?(_0x5cf9c2[_0x55ba39(0x493)]=_0x455c45,_0x5cf9c2[_0x55ba39(0x650)]=_0x219ce1,_0x5cf9c2[_0x55ba39(0x1d1)]='1',_0x5cf9c2[_0x55ba39(0x4c4)]=_0x2ed93a):myCompany[_0x55ba39(0x363)][_0x55ba39(0x385)]({'setShiftId':_0x455c45,'setCashInitial':_0x219ce1,'setShiftStatus':'1','setShiftDateStart':_0x2ed93a,'setBranchId':_0x1f466a});try{const _0x388a9a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x388a9a),ntfShow(_0x55ba39(0x5fd)+_0x2ed93a[_0x55ba39(0x5c8)]());}catch(_0x5d7c83){console[_0x55ba39(0x65e)]('Shift\x20Save\x20Error:',_0x5d7c83);throw _0x5d7c83;}}else ntfShow(_0x55ba39(0x355)),console[_0x55ba39(0x6ab)](_0x55ba39(0x355));}catch(_0x2cbe7e){ntfShow(_0x55ba39(0x5c0)),console[_0x55ba39(0x65e)](_0x55ba39(0x66a),_0x2cbe7e);}finally{_0x172b46['disabled']=![],hideLoadingModal();}}async function closeShift(){const _0x2ad6c5=_0x37a403;if(!isOnline()){ntfShow(_0x2ad6c5(0x18b));return;}const _0x1ee71d=document[_0x2ad6c5(0x456)](_0x2ad6c5(0x234)),_0x1553cc=document[_0x2ad6c5(0x456)]('setShiftCount'),_0x452182=document[_0x2ad6c5(0x456)](_0x2ad6c5(0x347)),_0x11c44f=document[_0x2ad6c5(0x456)](_0x2ad6c5(0x271));if(!_0x1ee71d){console['error']('No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd');return;}_0x1ee71d['disabled']=!![],hideModalShift(),showLoadingModal();const _0x241f13=document['getElementById'](_0x2ad6c5(0x306))[_0x2ad6c5(0x351)];let _0x3446d6=myCompany[_0x2ad6c5(0x363)][_0x2ad6c5(0x4bd)](_0x4f2284=>_0x4f2284['setBranchId']==_0x241f13&&_0x4f2284[_0x2ad6c5(0x1d1)]=='1');if(!_0x3446d6){ntfShow('No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.'),_0x1ee71d[_0x2ad6c5(0x6b6)]=![],hideLoadingModal();return;}const _0x106850=new Date();try{const _0x11e931=myCompany[_0x2ad6c5(0x51f)],_0x2937c1={'apiPOS_shift':0x1,'setToken':myCompany[_0x2ad6c5(0x238)],'setShiftId':_0x3446d6[_0x2ad6c5(0x493)],'setShiftDateEnd':_0x106850,'setShiftCount':parseFloat(_0x1553cc[_0x2ad6c5(0x351)]),'setShiftCashAmount':parseFloat(_0x452182['value']),'setShiftNotes':_0x11c44f['value']},_0x2540bf=await fetch(_0x11e931,{'method':_0x2ad6c5(0x357),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x2ad6c5(0x195)](_0x2937c1)}),_0x74b0be=await _0x2540bf[_0x2ad6c5(0x14a)]();if(_0x74b0be[_0x2ad6c5(0x299)]&&_0x74b0be[_0x2ad6c5(0x37b)][_0x2ad6c5(0x493)]){_0x3446d6[_0x2ad6c5(0x1d1)]='0',_0x3446d6[_0x2ad6c5(0x650)]='',_0x3446d6[_0x2ad6c5(0x493)]='',_0x3446d6[_0x2ad6c5(0x4c4)]='';try{const _0x3178f1=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3178f1),ntfShow(_0x2ad6c5(0x16a)+_0x106850['toLocaleString']()),hideModalShift();}catch(_0x21940d){console[_0x2ad6c5(0x65e)](_0x2ad6c5(0x624),_0x21940d);throw _0x21940d;}}else ntfShow(_0x2ad6c5(0x355)),console[_0x2ad6c5(0x6ab)](_0x2ad6c5(0x355));}catch(_0x5e71b1){ntfShow(_0x2ad6c5(0x5c0)),console['error'](_0x2ad6c5(0x66a),_0x5e71b1);}finally{_0x1ee71d[_0x2ad6c5(0x6b6)]=![],hideLoadingModal();}}async function changeEnvironments(_0x457c1c){const _0x3949b0=_0x37a403;await loadLayoutState();const _0x243a61=_0x457c1c,_0x2e6cc0=myCompany[_0x3949b0(0x53e)][_0x3949b0(0x5a3)](_0x41d9de=>_0x41d9de[_0x3949b0(0x364)]==_0x243a61),_0x51160d=document[_0x3949b0(0x456)](_0x3949b0(0x563));_0x51160d[_0x3949b0(0x197)]='',_0x2e6cc0[_0x3949b0(0x3fd)](_0x18dd45=>{const _0x3f875d=_0x3949b0,_0x25d9e1=document[_0x3f875d(0x6c7)](_0x3f875d(0x190));_0x25d9e1[_0x3f875d(0x351)]=_0x3f875d(0x2c7)+_0x18dd45[_0x3f875d(0x1af)],_0x25d9e1['textContent']=_0x18dd45[_0x3f875d(0x193)],_0x51160d['appendChild'](_0x25d9e1);});const _0x4fab2a=_0x51160d[_0x3949b0(0x351)],_0x437d55=_0x4fab2a[_0x3949b0(0x3c1)]('-')[0x1];document['getElementById']('windowId')[_0x3949b0(0x351)]=_0x437d55,await switchTab(_0x4fab2a);}function initMapForWindow(_0x5ba19d){const _0xdd099a=_0x37a403;generateMap(_0xdd099a(0x23c)+_0x5ba19d,{'mode':_0xdd099a(0x532),'searchInput':!![],'iconUrl':'https://neg-img-recursos.s3.amazonaws.com/maps_icon.png','coordsInputId':_0xdd099a(0x4c8)+_0x5ba19d,'onSelect':(_0x5a9e4b,_0x2654d2)=>{const _0x3c1dbe=_0xdd099a,_0x2a33fe=document[_0x3c1dbe(0x456)](_0x3c1dbe(0x4c8)+_0x5ba19d);_0x2a33fe?(_0x2a33fe['value']=_0x5a9e4b+','+_0x2654d2,console[_0x3c1dbe(0x6ab)](_0x3c1dbe(0x424)+_0x5a9e4b+','+_0x2654d2),_0x2a33fe[_0x3c1dbe(0x6bb)](new Event(_0x3c1dbe(0x5f5),{'bubbles':!![]}))):console[_0x3c1dbe(0x6ab)]('Input\x20Coordenadas\x20no\x20válido.');}});}document['getElementById'](_0x37a403(0x1ad))[_0x37a403(0x3ad)](_0x37a403(0x42d),function(_0x21dd9c){const _0xf575a0=_0x37a403;_0x21dd9c[_0xf575a0(0x492)]();const _0x24e91c=myCompany[_0xf575a0(0x51f)];try{const _0x39a8aa=new URL(_0x24e91c),_0x4e0646=_0x39a8aa[_0xf575a0(0x4c3)],_0xeb197c=_0x4e0646+_0xf575a0(0x4ef);window[_0xf575a0(0x22f)](_0xeb197c,_0xf575a0(0x57d));}catch(_0xf0d3a9){console['error']('Error\x20al\x20procesar\x20la\x20URL:',_0xf0d3a9);}}),document[_0x37a403(0x456)](_0x37a403(0x3fb))[_0x37a403(0x3ad)]('click',function(_0x3ec010){const _0x268798=_0x37a403;_0x3ec010[_0x268798(0x492)](),updateShiftDisplay();}),document[_0x37a403(0x456)](_0x37a403(0x405))[_0x37a403(0x3ad)]('click',function(_0x3e77ac){const _0x173e27=_0x37a403;_0x3e77ac[_0x173e27(0x492)](),showModalCreateWindow();}),document['getElementById'](_0x37a403(0x20d))[_0x37a403(0x3ad)]('click',function(_0x21f165){const _0x1b66c0=_0x37a403;_0x21f165[_0x1b66c0(0x492)]();}),document[_0x37a403(0x456)](_0x37a403(0x1cf))['addEventListener'](_0x37a403(0x42d),function(_0x3f1313){const _0x587ae6=_0x37a403;_0x3f1313[_0x587ae6(0x492)](),showModalLayout();}),document[_0x37a403(0x456)](_0x37a403(0x1e3))[_0x37a403(0x3ad)](_0x37a403(0x42d),function(_0x8e404f){const _0x1b4b2d=_0x37a403;_0x8e404f[_0x1b4b2d(0x492)](),showModalLayout();}),document[_0x37a403(0x456)]('show_right_section')[_0x37a403(0x3ad)]('click',function(_0x57e7e3){const _0x4832f3=_0x37a403;_0x57e7e3[_0x4832f3(0x492)](),showRightSection();}),document['getElementById'](_0x37a403(0x3ec))['addEventListener'](_0x37a403(0x42d),function(_0x33df0d){const _0x2df1e2=_0x37a403;_0x33df0d[_0x2df1e2(0x492)](),showLeftSection(),showSection(_0x2df1e2(0x3aa));}),document['getElementById'](_0x37a403(0x49c))['addEventListener'](_0x37a403(0x42d),function(_0x5792da){const _0x400223=_0x37a403;_0x5792da[_0x400223(0x492)](),resetNewItemForm(),fileInput[_0x400223(0x351)]='',uploadBtn[_0x400223(0x6b6)]=!![],statusDiv[_0x400223(0x13f)]='',progressBar[_0x400223(0x201)][_0x400223(0x5bd)]='none',progressBar[_0x400223(0x351)]=0x0,showModalCreateItem(0x0);}),document[_0x37a403(0x456)](_0x37a403(0x450))[_0x37a403(0x3ad)](_0x37a403(0x42d),function(_0x2e13d6){const _0x262233=_0x37a403;_0x2e13d6['preventDefault'](),resetNewItemForm(),fileInput[_0x262233(0x351)]='',uploadBtn[_0x262233(0x6b6)]=!![],statusDiv[_0x262233(0x13f)]='',progressBar[_0x262233(0x201)][_0x262233(0x5bd)]=_0x262233(0x5a9),progressBar[_0x262233(0x351)]=0x0,showModalCreateItem(0x1);}),document[_0x37a403(0x456)]('tabs-editLayout')[_0x37a403(0x3ad)](_0x37a403(0x42d),function(_0x519d16){const _0xdee4a=_0x37a403;_0x519d16[_0xdee4a(0x492)](),toggleEditMode();}),document[_0x37a403(0x456)]('input-setWindowType')[_0x37a403(0x3ad)]('change',function(_0x139d79){const _0xa30dc3=_0x37a403;_0x139d79['preventDefault']();const _0x1eb5a8=document['getElementById']('img-create-window'),_0x5040d5=this['value'];let _0x586961='./img/layout/icon-window.svg';if(_0x5040d5=='1')_0x586961='./img/layout/icon-window.svg';else{if(_0x5040d5=='2')_0x586961=_0xa30dc3(0x178);else _0x5040d5=='3'&&(_0x586961=_0xa30dc3(0x423));}_0x1eb5a8[_0xa30dc3(0x604)]=_0x586961;}),document['getElementById'](_0x37a403(0x6a5))[_0x37a403(0x3ad)](_0x37a403(0x42d),async function(_0x2a084a){const _0x564dff=_0x37a403;_0x2a084a['preventDefault']();if(!isOnline()){ntfShow(_0x564dff(0x59b));return;}this[_0x564dff(0x6b6)]=!![],hideModalCreateWindow(),showLoadingModal();const _0x14afb5=document['getElementById']('input-setWindowType'),_0x36de96=document[_0x564dff(0x456)](_0x564dff(0x135)),_0x5cc428=document[_0x564dff(0x456)](_0x564dff(0x306)),_0x1b0eae=document[_0x564dff(0x456)](_0x564dff(0x364)),_0x11497a={'setAuthToken':myCompany[_0x564dff(0x238)],'setWindowType':_0x14afb5[_0x564dff(0x351)],'setWindowName':_0x36de96[_0x564dff(0x351)],'setBranchId':_0x5cc428[_0x564dff(0x351)],'setEnvironmentId':_0x1b0eae[_0x564dff(0x351)]};try{const _0x2126bf=await fetch(_0x564dff(0x2cb),{'method':_0x564dff(0x357),'headers':{'Content-Type':_0x564dff(0x35f)},'body':JSON[_0x564dff(0x195)](_0x11497a)});if(!_0x2126bf['ok']){hideLoadingModal(),this[_0x564dff(0x6b6)]=![],ntfShow(_0x564dff(0x4a1)+_0x2126bf[_0x564dff(0x496)]),showModalCreateWindow();return;}const _0x26e218=await _0x2126bf[_0x564dff(0x14a)]();if(!_0x26e218[_0x564dff(0x299)]){hideLoadingModal(),this['disabled']=![],ntfShow(_0x26e218['message']||_0x564dff(0x25a)),showModalCreateWindow();return;}const _0x196360=_0x26e218[_0x564dff(0x37b)];console['log'](_0x196360),myCompany[_0x564dff(0x53e)]['push'](_0x196360),await resetWindowPositions(_0x5cc428[_0x564dff(0x351)],_0x1b0eae[_0x564dff(0x351)]);const _0x4f0a7e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4f0a7e),addNewTab(_0x196360[_0x564dff(0x1af)]),hideLoadingModal(),this[_0x564dff(0x6b6)]=![],_0x36de96[_0x564dff(0x351)]='',ntfShow(_0x564dff(0x66f)),showModalLayout();}catch(_0x3995de){hideLoadingModal(),this[_0x564dff(0x6b6)]=![],ntfShow(_0x564dff(0x4a1)+_0x3995de[_0x564dff(0x37b)]),showModalCreateWindow();}}),window[_0x37a403(0x3ad)](_0x37a403(0x47d),()=>{const _0x442b5e=_0x37a403,_0x33c78f=window[_0x442b5e(0x21d)];if(_0x33c78f!==lastWindowWidth){lastWindowWidth=_0x33c78f;if(isMobile())showLeftSection();else{const _0x5e74a9=document[_0x442b5e(0x456)](_0x442b5e(0x22d)),_0xd2fee9=document[_0x442b5e(0x456)](_0x442b5e(0x5cd));_0x5e74a9[_0x442b5e(0x201)][_0x442b5e(0x617)](_0x442b5e(0x5bd),_0x442b5e(0x5bf),_0x442b5e(0x253)),_0xd2fee9[_0x442b5e(0x201)][_0x442b5e(0x617)](_0x442b5e(0x5bd),_0x442b5e(0x5bf),_0x442b5e(0x253));}}adjustHeight();}),window[_0x37a403(0x3ad)](_0x37a403(0x2fe),updateInternetIcon),window['addEventListener'](_0x37a403(0x480),updateInternetIcon),window[_0x37a403(0x6a1)]=function(){const _0x1d2037=_0x37a403,_0x57b1b1=0x1;loadLoginContent(_0x1d2037(0x5fc)),setUserNameGet(),setEventBtnAccess(),document[_0x1d2037(0x36e)][_0x1d2037(0x3ad)](_0x1d2037(0x167),_0x624363=>{const _0x20b358=_0x1d2037,_0x249e76=_0x624363[_0x20b358(0x114)];if(_0x249e76['id']&&_0x249e76['id'][_0x20b358(0x3b7)](_0x20b358(0x68c))){const _0x1c6505=_0x249e76['id'][_0x20b358(0x3c1)]('-')[_0x20b358(0x2ea)]();let _0x4fad1a=parseFloat(_0x249e76['value'])||0x0;isNaN(_0x4fad1a)||_0x4fad1a<0x0?_0x249e76[_0x20b358(0x351)]=_0x20b358(0x390):(_0x249e76[_0x20b358(0x351)]=_0x4fad1a['toFixed'](0x2),_0x4fad1a=_0x4fad1a[_0x20b358(0x312)](0x2)),window_options[_0x1c6505][_0x20b358(0x2bd)]=_0x4fad1a,saveWindowOptionsDB(_0x1c6505)[_0x20b358(0x323)](()=>{renderCart(_0x1c6505);})[_0x20b358(0x258)](_0x3fb970=>{const _0x158d4e=_0x20b358;console[_0x158d4e(0x65e)](_0x158d4e(0x154),_0x3fb970);});}}),document[_0x1d2037(0x36e)][_0x1d2037(0x3ad)](_0x1d2037(0x6c5),_0x4cd70f=>{const _0x14f8fd=_0x1d2037,_0x43c321=_0x4cd70f[_0x14f8fd(0x114)];if(_0x43c321['id']&&_0x43c321['id'][_0x14f8fd(0x3b7)](_0x14f8fd(0x68c))){const _0x2b2cdb=_0x43c321['id'][_0x14f8fd(0x3c1)]('-')[_0x14f8fd(0x2ea)]();let _0x44b464=parseFloat(_0x43c321['value'])||0x0;isNaN(_0x44b464)||_0x44b464<0x0?_0x43c321[_0x14f8fd(0x351)]='0.00':(_0x43c321[_0x14f8fd(0x351)]=_0x44b464['toFixed'](0x2),_0x44b464=_0x44b464['toFixed'](0x2)),window_options[_0x2b2cdb][_0x14f8fd(0x2bd)]=_0x44b464,saveWindowOptionsDB(_0x2b2cdb)[_0x14f8fd(0x323)](()=>{renderCart(_0x2b2cdb);})[_0x14f8fd(0x258)](_0x5a296d=>{const _0x130022=_0x14f8fd;console[_0x130022(0x65e)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:',_0x5a296d);});}},!![]);const _0x4a43c0=document[_0x1d2037(0x53a)](_0x1d2037(0x172));_0x4a43c0&&_0x4a43c0['addEventListener'](_0x1d2037(0x42d),function(){logoutReload(0x0,_0x57b1b1);});let _0x277f3b=[];const _0x5f1abc=document[_0x1d2037(0x456)]('waFiles'),_0x48b966=document[_0x1d2037(0x456)](_0x1d2037(0x20a));_0x5f1abc['addEventListener'](_0x1d2037(0x5f5),()=>{const _0x336329=_0x1d2037;Array[_0x336329(0x2a6)](_0x5f1abc['files'])[_0x336329(0x3fd)](_0x52a5ac=>{const _0x318f72=_0x336329,_0x394331=Date[_0x318f72(0x64d)]()+Math['random']();_0x277f3b[_0x318f72(0x385)]({'file':_0x52a5ac,'id':_0x394331});const _0x4bb655=document[_0x318f72(0x6c7)](_0x318f72(0x50b));_0x4bb655[_0x318f72(0x489)]=_0x318f72(0x2c0),_0x4bb655[_0x318f72(0x661)]['id']=_0x394331;if(_0x52a5ac[_0x318f72(0x276)][_0x318f72(0x3b7)](_0x318f72(0x4e8))){const _0x1835ac=document[_0x318f72(0x6c7)](_0x318f72(0x11e));_0x1835ac['src']=URL[_0x318f72(0x47e)](_0x52a5ac),_0x4bb655[_0x318f72(0x361)](_0x1835ac);}else{if(_0x52a5ac[_0x318f72(0x276)][_0x318f72(0x3b7)](_0x318f72(0x490))){const _0x24a50c=document[_0x318f72(0x6c7)](_0x318f72(0x125));_0x24a50c[_0x318f72(0x604)]=URL[_0x318f72(0x47e)](_0x52a5ac),_0x24a50c[_0x318f72(0x2f4)]=!![],_0x4bb655[_0x318f72(0x361)](_0x24a50c);}else _0x4bb655[_0x318f72(0x197)]+=_0x318f72(0x4ff)+_0x52a5ac[_0x318f72(0x19d)]+_0x318f72(0x62b);}const _0x5ccd9f=document[_0x318f72(0x6c7)](_0x318f72(0x454));_0x5ccd9f[_0x318f72(0x13f)]='×',_0x5ccd9f[_0x318f72(0x489)]='remove-btn',_0x5ccd9f[_0x318f72(0x1fe)]=()=>{const _0x314de6=_0x318f72,_0x3e1afa=_0x277f3b[_0x314de6(0x476)](_0x203876=>_0x203876['id']==_0x394331);if(_0x3e1afa>-0x1)_0x277f3b[_0x314de6(0x65c)](_0x3e1afa,0x1);_0x48b966[_0x314de6(0x665)](_0x4bb655);},_0x4bb655[_0x318f72(0x361)](_0x5ccd9f),_0x48b966[_0x318f72(0x361)](_0x4bb655);}),_0x5f1abc['value']='';});const _0x31bec4=document[_0x1d2037(0x456)](_0x1d2037(0x479)),_0x51ee71=document[_0x1d2037(0x456)](_0x1d2037(0x2b0));[_0x1d2037(0x451),_0x1d2037(0x2f9)][_0x1d2037(0x3fd)](_0x16147c=>{const _0xd34e9c=_0x1d2037;_0x31bec4[_0xd34e9c(0x3ad)](_0x16147c,_0x4929ca=>{const _0x5bf7f2=_0xd34e9c;_0x4929ca[_0x5bf7f2(0x492)](),_0x31bec4['classList'][_0x5bf7f2(0x417)]('dragover');});}),['dragleave','drop'][_0x1d2037(0x3fd)](_0x1f0d82=>{const _0x2bc43d=_0x1d2037;_0x31bec4[_0x2bc43d(0x3ad)](_0x1f0d82,_0xf60516=>{const _0x1691af=_0x2bc43d;_0xf60516['preventDefault'](),_0x31bec4[_0x1691af(0x560)][_0x1691af(0x1ef)]('dragover');});}),_0x31bec4[_0x1d2037(0x3ad)]('drop',_0x3219b6=>{const _0x423e63=_0x1d2037,_0x215be3=Array[_0x423e63(0x2a6)](_0x3219b6[_0x423e63(0x6d5)][_0x423e63(0x2a8)]);_0x550fb5(_0x215be3);}),_0x31bec4['addEventListener'](_0x1d2037(0x42d),()=>_0x51ee71['click']()),_0x51ee71['addEventListener']('change',()=>{const _0x27ad8d=_0x1d2037;_0x550fb5(Array[_0x27ad8d(0x2a6)](_0x51ee71[_0x27ad8d(0x2a8)])),_0x51ee71[_0x27ad8d(0x351)]='';});function _0x550fb5(_0x43792b){_0x43792b['forEach'](_0x38ef4c=>{const _0x2aabd5=_0x530c,_0x4b8cc5=Date[_0x2aabd5(0x64d)]()+Math[_0x2aabd5(0x3fc)]();_0x277f3b[_0x2aabd5(0x385)]({'file':_0x38ef4c,'id':_0x4b8cc5});const _0x5a19a9=document[_0x2aabd5(0x6c7)]('div');_0x5a19a9[_0x2aabd5(0x489)]=_0x2aabd5(0x2c0),_0x5a19a9[_0x2aabd5(0x661)]['id']=_0x4b8cc5;if(_0x38ef4c[_0x2aabd5(0x276)][_0x2aabd5(0x3b7)](_0x2aabd5(0x4e8))){const _0x1fffee=document[_0x2aabd5(0x6c7)](_0x2aabd5(0x11e));_0x1fffee[_0x2aabd5(0x604)]=URL[_0x2aabd5(0x47e)](_0x38ef4c),_0x5a19a9['appendChild'](_0x1fffee);}else{if(_0x38ef4c[_0x2aabd5(0x276)][_0x2aabd5(0x3b7)](_0x2aabd5(0x490))){const _0x42808e=document[_0x2aabd5(0x6c7)](_0x2aabd5(0x125));_0x42808e[_0x2aabd5(0x604)]=URL[_0x2aabd5(0x47e)](_0x38ef4c),_0x42808e[_0x2aabd5(0x2f4)]=!![],_0x5a19a9[_0x2aabd5(0x361)](_0x42808e);}else{const _0x52f475=document[_0x2aabd5(0x6c7)]('div');_0x52f475[_0x2aabd5(0x13f)]=_0x38ef4c[_0x2aabd5(0x19d)],_0x5a19a9[_0x2aabd5(0x361)](_0x52f475);}}const _0x3c0dd2=document['createElement']('button');_0x3c0dd2[_0x2aabd5(0x489)]='remove-btn',_0x3c0dd2['textContent']='×',_0x3c0dd2[_0x2aabd5(0x1fe)]=()=>{const _0x24ce4e=_0x2aabd5,_0x301f76=_0x277f3b[_0x24ce4e(0x476)](_0x5dabef=>_0x5dabef['id']===_0x4b8cc5);if(_0x301f76>-0x1)_0x277f3b['splice'](_0x301f76,0x1);_0x48b966[_0x24ce4e(0x665)](_0x5a19a9);},_0x5a19a9[_0x2aabd5(0x361)](_0x3c0dd2),_0x48b966[_0x2aabd5(0x361)](_0x5a19a9);});}const _0x5ac3c7=document['getElementById']('whatsappRecipients'),_0xed4d23=document[_0x1d2037(0x456)](_0x1d2037(0x6e2));if(_0x5ac3c7&&_0xed4d23){const _0x48110c=_0xed4d23[_0x1d2037(0x20e)][_0x1d2037(0x41c)](!![]),_0x144114=_0x48110c[_0x1d2037(0x53a)](_0x1d2037(0x3af));initCountrySelector(_0x144114),_0x5ac3c7['appendChild'](_0x144114);}const _0x2cbade=document[_0x1d2037(0x456)]('emailRecipients'),_0x2fb336=document['getElementById'](_0x1d2037(0x1b3));if(_0x2cbade&&_0x2fb336){const _0x5accaa=_0x2fb336['content'][_0x1d2037(0x41c)](!![]),_0x580538=_0x5accaa[_0x1d2037(0x53a)](_0x1d2037(0x35c));_0x2cbade['appendChild'](_0x580538);}const _0x25c3b4=document[_0x1d2037(0x456)](_0x1d2037(0x6d9));_0x25c3b4&&_0x25c3b4[_0x1d2037(0x3ad)](_0x1d2037(0x42d),function(){const _0x382646=_0x1d2037,_0x43551d=document[_0x382646(0x456)]('whatsappRecipients'),_0x496fe9=document['getElementById'](_0x382646(0x6e2));if(_0x43551d&&_0x496fe9){const _0x475520=_0x496fe9[_0x382646(0x20e)][_0x382646(0x41c)](!![]),_0x2e92da=_0x475520[_0x382646(0x53a)](_0x382646(0x3af)),_0x5df3c6=_0x2e92da[_0x382646(0x53a)](_0x382646(0x2e6));if(_0x5df3c6)_0x5df3c6['style'][_0x382646(0x5bd)]=_0x382646(0x28d);initCountrySelector(_0x2e92da),_0x5df3c6&&_0x5df3c6[_0x382646(0x3ad)](_0x382646(0x42d),function(){const _0x2f3d3c=_0x382646;_0x43551d[_0x2f3d3c(0x665)](_0x2e92da);}),_0x43551d['appendChild'](_0x2e92da);}});const _0x54f5cf=document[_0x1d2037(0x456)]('addEmailRecipient');_0x54f5cf&&_0x54f5cf[_0x1d2037(0x3ad)]('click',function(){const _0x5d3a28=_0x1d2037,_0x116a5d=document[_0x5d3a28(0x456)](_0x5d3a28(0x673)),_0x167553=document['getElementById']('email-recipient-template');if(_0x116a5d&&_0x167553){const _0x4af22d=_0x167553[_0x5d3a28(0x20e)]['cloneNode'](!![]),_0x4a0533=_0x4af22d['querySelector'](_0x5d3a28(0x35c)),_0x3d6f68=_0x4a0533['querySelector'](_0x5d3a28(0x2e6));if(_0x3d6f68)_0x3d6f68[_0x5d3a28(0x201)][_0x5d3a28(0x5bd)]=_0x5d3a28(0x28d);_0x3d6f68&&_0x3d6f68[_0x5d3a28(0x3ad)](_0x5d3a28(0x42d),function(){const _0xff52cd=_0x5d3a28;_0x116a5d[_0xff52cd(0x665)](_0x4a0533);}),_0x116a5d[_0x5d3a28(0x361)](_0x4a0533);}}),sendEmailButton&&sendEmailButton['addEventListener']('click',async function(){const _0x4d5d30=_0x1d2037;sendEmailButton[_0x4d5d30(0x6b6)]=!![];if(!isOnline()){sendEmailButton[_0x4d5d30(0x6b6)]=![],ntfShow('No\x20tienes\x20conexión\x20a\x20internet!',0x2,0x1);return;}const _0x2539e7=document['getElementById'](_0x4d5d30(0x673)),_0x11d5b2=_0x2539e7[_0x4d5d30(0x3f0)](_0x4d5d30(0x63a)),_0x3047d2=[];for(const _0x1a3207 of _0x11d5b2){const _0x9561fe=_0x1a3207['value']['trim']();if(!_0x9561fe){sendEmailButton['disabled']=![],ntfShow(_0x4d5d30(0x126),0x2,0x1);return;}_0x3047d2[_0x4d5d30(0x385)](_0x9561fe);}if(_0x3047d2[_0x4d5d30(0x59a)]===0x0){sendEmailButton['disabled']=![],ntfShow(_0x4d5d30(0x589),0x2,0x1);return;}let _0x4595ff=document[_0x4d5d30(0x456)](_0x4d5d30(0x414))[_0x4d5d30(0x351)][_0x4d5d30(0x49b)]();if(!_0x4595ff){alert('Escribe\x20un\x20mensaje');return;}_0x4595ff=_0x4595ff[_0x4d5d30(0x6b1)](/\r\n|\n/g,_0x4d5d30(0x6cc));const _0x43dec2=parseInt(getUserPermissionApiERP(0x12)),_0x1279e5=myCompany[_0x4d5d30(0x26b)][_0x4d5d30(0x4bd)](_0x360f46=>_0x360f46['setEmailCredentialsId']==_0x43dec2);if(!_0x1279e5){sendEmailButton[_0x4d5d30(0x6b6)]=![],ntfShow(_0x4d5d30(0x23d));return;}const _0x23ba9c=_0x1279e5[_0x4d5d30(0x293)],_0x342df8=_0x1279e5[_0x4d5d30(0x588)],_0x7d9e73=_0x1279e5[_0x4d5d30(0x623)],_0x2a05b3=_0x1279e5[_0x4d5d30(0x4f6)],_0x55abba=_0x1279e5[_0x4d5d30(0x555)],_0x1ee870=document['getElementById']('windowId')['value'],{pdfGlobalPayload:_0x42b727,pdfGlobalBlob:_0x323330,pdfGlobalName:_0x40be09}=getLastOperationGlobalData(_0x1ee870),_0x4fcc3e=_0x42b727['setDocumentType']+':\x20'+_0x42b727[_0x4d5d30(0x540)]+'-'+_0x42b727[_0x4d5d30(0x5d8)]+'\x20('+myCompany[_0x4d5d30(0x48d)]+'\x20)';if(!_0x323330){sendEmailButton['disabled']=![],ntfShow('No\x20hay\x20comprobante\x20generado\x20para\x20enviar.',0x2,0x1);return;}let _0xa4843f=[];try{const _0x30f66e=await blobAStringBase64(_0x323330);_0xa4843f['push']({'fileName':_0x40be09,'fileBase64':_0x30f66e});for(const _0x5bd7b8 of _0x277f3b){const _0x2f0268=await blobAStringBase64(_0x5bd7b8[_0x4d5d30(0x150)]);_0xa4843f[_0x4d5d30(0x385)]({'fileName':_0x5bd7b8[_0x4d5d30(0x150)]['name'],'fileBase64':_0x2f0268});}}catch(_0x55f5c9){console['error'](_0x4d5d30(0x579),_0x55f5c9),sendEmailButton[_0x4d5d30(0x6b6)]=![],ntfShow(_0x4d5d30(0x115),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany[_0x4d5d30(0x238)],_0x23ba9c,_0x342df8,_0x7d9e73,_0x2a05b3,_0x55abba,_0x3047d2,_0x4fcc3e,_0x4595ff,_0xa4843f),hideLoadingModal(),showModal(),sendEmailButton[_0x4d5d30(0x6b6)]=![],document[_0x4d5d30(0x3f0)]('#emailRecipients\x20.emailDestination')[_0x4d5d30(0x3fd)](_0x2b2e97=>_0x2b2e97['value']=''),ntfShow('Email(s)\x20enviado(s)\x20correctamente.',0x1,0x2);}catch(_0x51af28){console[_0x4d5d30(0x65e)](_0x4d5d30(0x66a),_0x51af28),ntfShow('Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.',0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton[_0x4d5d30(0x6b6)]=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x1d2037(0x3ad)](_0x1d2037(0x42d),async function(){const _0x39ae9f=_0x1d2037,_0x32ce54=document[_0x39ae9f(0x456)]('whatsappRecipients'),_0x360e9d=_0x32ce54[_0x39ae9f(0x3f0)](_0x39ae9f(0x3af)),_0x53f160=[];for(const _0x2162ee of _0x360e9d){const _0x3e88b0=_0x2162ee['querySelector'](_0x39ae9f(0x4e7)),_0xa6d4f6=_0x3e88b0[_0x39ae9f(0x661)]['selectedCode']||'',_0x38f40e=_0x2162ee[_0x39ae9f(0x53a)](_0x39ae9f(0x58a)),_0x397413=_0x38f40e['value'][_0x39ae9f(0x49b)]();if(!_0x397413){ntfShow('Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.',0x2,0x1);return;}const _0xd9a908=_0x397413[_0x39ae9f(0x6b1)](/\D/g,'');_0x53f160[_0x39ae9f(0x385)](_0xa6d4f6+_0xd9a908);}if(_0x53f160[_0x39ae9f(0x59a)]===0x0){ntfShow(_0x39ae9f(0x209),0x2,0x1);return;}let _0x2ac3b9=document[_0x39ae9f(0x456)](_0x39ae9f(0x414))[_0x39ae9f(0x351)][_0x39ae9f(0x49b)]();if(!_0x2ac3b9){alert('Escribe\x20un\x20mensaje');return;}const _0x4ad0cf=parseInt(document[_0x39ae9f(0x456)](_0x39ae9f(0x54e))[_0x39ae9f(0x351)],0xa),_0x854ebd=getCredentialsApiWAChat(_0x4ad0cf),_0x412f35=_0x854ebd?.[_0x39ae9f(0x5d4)]??0x0;if(!(_0x412f35==0x1&&_0x854ebd)){for(const _0x24115f of _0x53f160){const _0x501d10=encodeURIComponent(_0x2ac3b9),_0x878a91=_0x39ae9f(0x196)+_0x24115f+_0x39ae9f(0x3e8)+_0x501d10;window[_0x39ae9f(0x22f)](_0x878a91,_0x39ae9f(0x57d));}ntfShow('Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.',0x1,0x2);return;}const _0x1a4931=document[_0x39ae9f(0x456)](_0x39ae9f(0x415))['value'],{pdfGlobalPayload:_0x323b68,pdfGlobalBlob:_0x517c70,pdfGlobalName:_0x175012}=getLastOperationGlobalData(_0x1a4931);if(!_0x517c70){hideLoadingModal(),showModal(),ntfShow(_0x39ae9f(0x46b),0x2,0x1);return;}const _0x3b2eb4=_0x854ebd[_0x39ae9f(0x1ee)],_0x390d20=_0x854ebd['setCredentialsApiWAChatPort'],_0x4eb582=_0x39ae9f(0x5d2)+_0x3b2eb4+_0x39ae9f(0x4ad)+_0x390d20,_0x3f0882=[],_0x46a0de=new File([_0x517c70],_0x175012,{'type':_0x39ae9f(0x321)});_0x3f0882[_0x39ae9f(0x385)](_0x46a0de);for(const _0x1856fc of _0x277f3b){_0x3f0882[_0x39ae9f(0x385)](_0x1856fc[_0x39ae9f(0x150)]);}try{hideModal(),showLoadingModal();if(_0x2ac3b9)for(const _0x4444ea of _0x53f160){const _0x131d86=_0x4444ea+_0x39ae9f(0x332);await sendMessageApiWAChat(_0x4ad0cf,_0x131d86,_0x39ae9f(0x5e1),_0x2ac3b9);}const _0xc4459c=[];for(const _0x261d84 of _0x3f0882){const _0x1a8214=new FormData();_0x1a8214['append'](_0x39ae9f(0x150),_0x261d84);const _0x54bac8=await fetch(_0x4eb582+'/upload',{'method':_0x39ae9f(0x357),'headers':{'x-auth-token':myCompany['setAuthToken']},'body':_0x1a8214});if(!_0x54bac8['ok']){const _0x587880=await _0x54bac8['json']()[_0x39ae9f(0x258)](()=>({}));throw new Error(_0x587880[_0x39ae9f(0x65e)]||_0x39ae9f(0x46d)+_0x261d84['name']+_0x39ae9f(0x4de));}const {url:_0x4cc633}=await _0x54bac8[_0x39ae9f(0x14a)]();let _0x2ebf06;if(_0x261d84[_0x39ae9f(0x276)][_0x39ae9f(0x3b7)](_0x39ae9f(0x4e8)))_0x2ebf06=_0x39ae9f(0x503);else{if(_0x261d84[_0x39ae9f(0x276)][_0x39ae9f(0x3b7)]('video/'))_0x2ebf06=_0x39ae9f(0x125);else _0x261d84[_0x39ae9f(0x276)][_0x39ae9f(0x3b7)](_0x39ae9f(0x681))?_0x2ebf06=_0x39ae9f(0x5ef):_0x2ebf06=_0x39ae9f(0x122);}_0xc4459c['push']({'url':_0x4cc633,'name':_0x261d84['name'],'mediaType':_0x2ebf06,'mimeType':_0x261d84[_0x39ae9f(0x276)]});}for(const _0x2523bc of _0x53f160){const _0x121691=_0x2523bc+'@s.whatsapp.net';for(const _0x306756 of _0xc4459c){await sendMessageApiWAChat(_0x4ad0cf,_0x121691,_0x306756['mediaType'],_0x306756['url'],'',_0x306756[_0x39ae9f(0x19d)],_0x306756['mimeType']);}}ntfShow(_0x39ae9f(0x248),0x1,0x2);}catch(_0x55f7aa){console['error'](_0x39ae9f(0x17a),_0x55f7aa),ntfShow(_0x55f7aa[_0x39ae9f(0x37b)]||'Error\x20enviando\x20mensaje',0x2,0x2);}finally{document[_0x39ae9f(0x3f0)](_0x39ae9f(0x52f))['forEach'](_0x448128=>_0x448128['value']=''),document['getElementById']('waMessage')[_0x39ae9f(0x351)]='',_0x277f3b=[];const _0x49a3a3=document[_0x39ae9f(0x456)](_0x39ae9f(0x20a));_0x49a3a3&&(_0x49a3a3[_0x39ae9f(0x197)]=''),hideLoadingModal(),showModal();}}),document[_0x1d2037(0x3ad)](_0x1d2037(0x42d),function(_0x3808c5){const _0x4b4618=_0x1d2037;!_0x3808c5[_0x4b4618(0x114)]['closest'](_0x4b4618(0x599))&&!_0x3808c5[_0x4b4618(0x114)]['closest'](_0x4b4618(0x3d5))&&document['querySelectorAll']('.suggestions-container')[_0x4b4618(0x3fd)](_0xe433a8=>{const _0x50eee6=_0x4b4618;_0xe433a8[_0x50eee6(0x197)]='';});}),document[_0x1d2037(0x456)](_0x1d2037(0x306))[_0x1d2037(0x3ad)](_0x1d2037(0x5f5),async function(){const _0x38e77a=_0x1d2037,_0x482ad5=parseInt(this[_0x38e77a(0x351)]);myCompany['setBranchDefault']=_0x482ad5,saveCredentialsApiWAChatInCompany();const _0x372baa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x372baa),searchInput[_0x38e77a(0x351)]='',cargarAlmacenes(_0x482ad5),setTimeout(()=>{const _0x108b8c=_0x38e77a;document[_0x108b8c(0x456)]('setWarehouseId')[_0x108b8c(0x6bb)](new Event(_0x108b8c(0x5f5)));},0x64),cargarPisos(_0x482ad5),setTimeout(()=>{const _0x27b1b6=_0x38e77a;document['getElementById'](_0x27b1b6(0x364))[_0x27b1b6(0x6bb)](new Event(_0x27b1b6(0x5f5)));},0x64);const _0x262996=document['getElementById']('windowId')['value'];if(parseFloat(_0x262996)>0x0){const _0x3244ff=document['getElementById'](_0x38e77a(0x34c)+_0x262996)[_0x38e77a(0x351)];await updateSerieOptions(_0x3244ff,_0x262996);}const _0x3b5c0e=myCompany['setPrinters']['filter'](_0x1bc28a=>_0x1bc28a[_0x38e77a(0x306)]==_0x482ad5);if(_0x3b5c0e['length']===0x0)document[_0x38e77a(0x456)](_0x38e77a(0x4f2))[_0x38e77a(0x197)]='',document[_0x38e77a(0x456)](_0x38e77a(0x401))[_0x38e77a(0x13f)]='No\x20hay\x20impresoras';else{const _0x26be2c=document[_0x38e77a(0x456)](_0x38e77a(0x401));_0x26be2c[_0x38e77a(0x13f)]=_0x3b5c0e[0x0][_0x38e77a(0x301)],_0x26be2c[_0x38e77a(0x45b)](_0x38e77a(0x554),_0x3b5c0e[0x0]['setPrinterName']),_0x26be2c[_0x38e77a(0x3ad)](_0x38e77a(0x42d),function(){const _0x3ad918=_0x38e77a,_0x36cb3f=document[_0x3ad918(0x456)](_0x3ad918(0x415))['value'],{pdfGlobalPayload:_0x5c6cc0,pdfGlobalBlob:_0x303bfc,pdfGlobalName:_0x3ce022}=getLastOperationGlobalData(_0x36cb3f);setPrintOnline(this[_0x3ad918(0x31c)]('data-printer'),_0x303bfc,_0x3ce022,0x0);});const _0x44431b=document['getElementById'](_0x38e77a(0x4f2));_0x44431b[_0x38e77a(0x197)]='',_0x3b5c0e[_0x38e77a(0x3fd)](_0x2bf431=>{const _0xde4ac0=_0x38e77a,_0x4ade01=document[_0xde4ac0(0x6c7)]('li');_0x4ade01[_0xde4ac0(0x197)]=_0xde4ac0(0x5b2)+_0x2bf431[_0xde4ac0(0x67a)]+'\x22,\x20\x22'+_0x2bf431[_0xde4ac0(0x301)]+_0xde4ac0(0x1d9)+_0x2bf431['setPrinterAlias']+_0xde4ac0(0x17e),_0x44431b['appendChild'](_0x4ade01);});}ntf_initNotifications(),apiERPsyncWindows();}),document['getElementById'](_0x1d2037(0x2d7))[_0x1d2037(0x3ad)]('change',function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document['getElementById'](_0x1d2037(0x364))[_0x1d2037(0x3ad)]('change',function(_0xfb18fd){const _0x43a2a9=_0x1d2037,_0x55fe37=_0xfb18fd[_0x43a2a9(0x114)][_0x43a2a9(0x351)];changeEnvironments(_0x55fe37);}),loadCartAndSetTabCount(_0x57b1b1);};