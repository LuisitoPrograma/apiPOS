/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.1
*/

const _0x511336=_0x574b;(function(_0x31f9a7,_0x48b1f5){const _0x4fd2f5=_0x574b,_0x4b8d23=_0x31f9a7();while(!![]){try{const _0x570dc5=-parseInt(_0x4fd2f5(0x116))/0x1+-parseInt(_0x4fd2f5(0x108))/0x2+parseInt(_0x4fd2f5(0x10b))/0x3*(parseInt(_0x4fd2f5(0x161))/0x4)+parseInt(_0x4fd2f5(0x137))/0x5+-parseInt(_0x4fd2f5(0x168))/0x6+parseInt(_0x4fd2f5(0x18b))/0x7+-parseInt(_0x4fd2f5(0x180))/0x8;if(_0x570dc5===_0x48b1f5)break;else _0x4b8d23['push'](_0x4b8d23['shift']());}catch(_0x1d108a){_0x4b8d23['push'](_0x4b8d23['shift']());}}}(_0x1056,0xb1009));const _0x4b77b9=(function(){let _0x3100f7=!![];return function(_0x54bdb9,_0x273802){const _0x48f46f=_0x3100f7?function(){const _0x56e232=_0x574b;if(_0x273802){const _0x306410=_0x273802[_0x56e232(0x1b6)](_0x54bdb9,arguments);return _0x273802=null,_0x306410;}}:function(){};return _0x3100f7=![],_0x48f46f;};}()),_0x5cc947=_0x4b77b9(this,function(){const _0x57b01e=_0x574b;return _0x5cc947[_0x57b01e(0x13d)]()[_0x57b01e(0x17b)](_0x57b01e(0x1c2))[_0x57b01e(0x13d)]()['constructor'](_0x5cc947)[_0x57b01e(0x17b)](_0x57b01e(0x1c2));});_0x5cc947();const _0x490cb2=(function(){let _0x2316fc=!![];return function(_0x12ff0,_0x1b8cf5){const _0x993d6c=_0x2316fc?function(){const _0x1b452f=_0x574b;if(_0x1b8cf5){const _0x33acdb=_0x1b8cf5[_0x1b452f(0x1b6)](_0x12ff0,arguments);return _0x1b8cf5=null,_0x33acdb;}}:function(){};return _0x2316fc=![],_0x993d6c;};}()),_0x27b97c=_0x490cb2(this,function(){const _0x2b2f8a=_0x574b;let _0x310b20;try{const _0x6cd1c1=Function(_0x2b2f8a(0xec)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x310b20=_0x6cd1c1();}catch(_0x5d4d34){_0x310b20=window;}const _0xf690c3=_0x310b20[_0x2b2f8a(0x198)]=_0x310b20[_0x2b2f8a(0x198)]||{},_0x5c8ca8=[_0x2b2f8a(0x149),_0x2b2f8a(0x1af),_0x2b2f8a(0x122),'error',_0x2b2f8a(0x187),'table',_0x2b2f8a(0x183)];for(let _0x267b6f=0x0;_0x267b6f<_0x5c8ca8[_0x2b2f8a(0x10e)];_0x267b6f++){const _0x15ca4c=_0x490cb2[_0x2b2f8a(0x1e4)][_0x2b2f8a(0x101)][_0x2b2f8a(0x12e)](_0x490cb2),_0x4d4d43=_0x5c8ca8[_0x267b6f],_0x319231=_0xf690c3[_0x4d4d43]||_0x15ca4c;_0x15ca4c['__proto__']=_0x490cb2[_0x2b2f8a(0x12e)](_0x490cb2),_0x15ca4c[_0x2b2f8a(0x13d)]=_0x319231['toString'][_0x2b2f8a(0x12e)](_0x319231),_0xf690c3[_0x4d4d43]=_0x15ca4c;}});_0x27b97c();let arrayIncomes;const fil_init_dates=document[_0x511336(0xfa)](_0x511336(0x170)),label=document[_0x511336(0xfa)](_0x511336(0x1a7)),options=document[_0x511336(0xfa)](_0x511336(0x11e)),divChartIncome=document['getElementById'](_0x511336(0x16b)),divChartItem=document[_0x511336(0xfa)](_0x511336(0x1ab)),divChartCustomer=document['getElementById'](_0x511336(0x1f9));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x111a40){const _0x463064=_0x511336,{containerId:_0x30e8d2,rawData:_0x12e922,groupField:_0x21d2c2,groupValues:_0x37f204,seriesType:seriesType=_0x463064(0x1bb),chartType:chartType=seriesType,encode:_0x281020,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x463064(0x134),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x24c81d,height:_0x1e106b}=_0x111a40,_0x4a4f8a=document['getElementById'](_0x30e8d2);if(!_0x4a4f8a){console[_0x463064(0x1eb)](_0x463064(0x19f)+_0x30e8d2+'\x22\x20no\x20existe.');return;}if(_0x24c81d)_0x4a4f8a['style']['width']=_0x24c81d;if(_0x1e106b)_0x4a4f8a['style'][_0x463064(0xf3)]=_0x1e106b;const _0x59869e=echarts[_0x463064(0x197)](_0x4a4f8a),_0x496e45=[],_0x1389c9=[];_0x37f204[_0x463064(0x1e1)]((_0x554239,_0x4f26b3)=>{const _0x2fffc1=_0x463064,_0x3b1e61=_0x2fffc1(0x14c)+_0x554239,_0x2fd10a=(_0x111a40[_0x2fffc1(0x1cc)]||[])['concat']([{'dimension':_0x21d2c2,'=':_0x554239}]);_0x496e45[_0x2fffc1(0x1c9)]({'id':_0x3b1e61,'fromDatasetId':_0x2fffc1(0x1fb),'transform':{'type':_0x2fffc1(0x182),'config':{'and':_0x2fd10a}}}),_0x1389c9[_0x2fffc1(0x1c9)]({'type':chartType,'datasetId':_0x3b1e61,'name':_0x554239,...chartType==='bar'&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x4f26b3]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x281020});});const _0x49454d={'animationDuration':animationDuration,'dataset':[{'id':_0x463064(0x1fb),'source':_0x12e922},..._0x496e45],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x463064(0x1dd)]({'type':'category','nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x463064(0x1dd)]({'name':_0x281020['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x1389c9};_0x59869e[_0x463064(0x1d8)](_0x49454d);}function generatePieChart({containerId:_0xac3236,data:_0x5f4d6d,nameField:_0x376c8e,valueField:_0x544864,title:title='',titlePosition:titlePosition=_0x511336(0x1b1),showTitle:showTitle=!![],width:_0xff8439,height:_0x1ee20c}){const _0x52fd65=_0x511336,_0x212021=document[_0x52fd65(0xfa)](_0xac3236);if(!_0x212021)return console[_0x52fd65(0x1eb)](_0x52fd65(0x19b)+_0xac3236+_0x52fd65(0x1ed));if(_0xff8439)_0x212021['style'][_0x52fd65(0x10c)]=_0xff8439;if(_0x1ee20c)_0x212021['style'][_0x52fd65(0xf3)]=_0x1ee20c;const _0x1cfff5=echarts[_0x52fd65(0x197)](_0x212021),_0x43090e=_0x5f4d6d[_0x52fd65(0x1ea)]((_0x4905a3,_0x2c3f40)=>{const _0xd929db=_0x52fd65,_0x1fe49f=_0x2c3f40[_0x376c8e],_0x5d071c=_0x2c3f40[_0x544864];let _0x7cb80=_0x4905a3['find'](_0x1b83f4=>_0x1b83f4[_0xd929db(0x1b8)]===_0x1fe49f);return!_0x7cb80&&(_0x7cb80={'name':_0x1fe49f,'value':0x0},_0x4905a3[_0xd929db(0x1c9)](_0x7cb80)),_0x7cb80['value']+=_0x5d071c,_0x4905a3;},[]);let _0x142208;showTitle?(_0x142208={'text':title,'left':_0x52fd65(0x156)},titlePosition===_0x52fd65(0x103)?_0x142208[_0x52fd65(0x103)]=0x0:_0x142208[_0x52fd65(0x1b1)]=0x0):_0x142208={'show':![]};const _0xf9d66={'title':_0x142208,'tooltip':{'trigger':_0x52fd65(0x1d5)},'series':[{'type':_0x52fd65(0x1ae),'radius':'50%','data':_0x43090e,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x52fd65(0xed)}}]};_0x1cfff5['setOption'](_0xf9d66);}function generateHorizontalBarChart({containerId:_0x59f045,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],colors:colors=[],width:_0x451b6c,height:_0x1343c8,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0xb93d27=_0x511336,_0xd2b765=document[_0xb93d27(0xfa)](_0x59f045);if(!_0xd2b765)return console[_0xb93d27(0x1eb)](_0xb93d27(0x19b)+_0x59f045+_0xb93d27(0x1ed));if(_0x451b6c)_0xd2b765[_0xb93d27(0xf5)][_0xb93d27(0x10c)]=_0x451b6c;if(_0x1343c8)_0xd2b765['style'][_0xb93d27(0xf3)]=_0x1343c8;const _0x555b24=echarts['init'](_0xd2b765),_0x34b5eb=showTitle?{'text':title,'left':_0xb93d27(0x156),...titlePosition==='bottom'?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition==='bottom'?_0x34b5eb['bottom']=0x0:_0x34b5eb[_0xb93d27(0x1b1)]=0x0;const _0x59462f={'title':_0x34b5eb,'tooltip':{'trigger':_0xb93d27(0x163),'axisPointer':{'type':_0xb93d27(0xfc)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0xb93d27(0x1dd)]({'type':_0xb93d27(0x125),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0xb93d27(0x1dd)]({'type':_0xb93d27(0xee),'data':categories},yAxisConfig),'series':series['map']((_0x432f56,_0x169232)=>({'type':_0xb93d27(0x11a),'name':_0x432f56['name'],'data':_0x432f56[_0xb93d27(0x19a)],'itemStyle':{'color':colors[_0x169232]||undefined}}))};_0x555b24[_0xb93d27(0x1d8)](_0x59462f);}function showModalViewDetails(){const _0x3b5d25=_0x511336,_0x548a4c=document[_0x3b5d25(0xfa)]('detalleModal'),_0x4fc477=document[_0x3b5d25(0xfa)](_0x3b5d25(0x144));_0x548a4c[_0x3b5d25(0x192)]['add'](_0x3b5d25(0x12c)),_0x4fc477['style'][_0x3b5d25(0x11f)]=_0x3b5d25(0x1f8);}function hideModalViewDetails(){const _0x46d8b4=_0x511336,_0xa9c4e7=document[_0x46d8b4(0xfa)](_0x46d8b4(0x130)),_0x2f668e=document['getElementById'](_0x46d8b4(0x144));_0xa9c4e7['classList']['remove'](_0x46d8b4(0x12c)),_0x2f668e[_0x46d8b4(0xf5)][_0x46d8b4(0x11f)]='none';const _0x3c6068=document[_0x46d8b4(0xfa)](_0x46d8b4(0x140));_0x3c6068[_0x46d8b4(0x145)]=_0x46d8b4(0x135);}document[_0x511336(0xfa)]('closeModalViewDetails')[_0x511336(0x159)](_0x511336(0x1e7),hideModalViewDetails),document[_0x511336(0xfa)]('modalOverlayViewDetails')[_0x511336(0x159)](_0x511336(0x1e7),hideModalViewDetails);function verDetalle(_0x4aea38,_0x429990){const _0x55295f=_0x511336;fetch(_0x55295f(0x17f)+_0x4aea38+_0x55295f(0x13c)+_0x429990)[_0x55295f(0x17d)](_0x1b1255=>{const _0x407315=_0x55295f;if(!_0x1b1255['ok'])throw new Error(_0x407315(0x1b9)+_0x1b1255[_0x407315(0x14b)]+':\x20'+_0x1b1255[_0x407315(0x177)]);return _0x1b1255[_0x407315(0x110)]();})[_0x55295f(0x17d)](_0x5b0372=>{const _0x26ed0e=_0x55295f;if(_0x5b0372[_0x26ed0e(0xf8)]){const _0x2a2934=document[_0x26ed0e(0xfa)](_0x26ed0e(0x140));if(_0x429990===_0x26ed0e(0x174)){let _0x28fb95='';_0x5b0372['data'][_0x26ed0e(0x1e1)](_0x42f98f=>{const _0xba33d5=_0x26ed0e;_0x28fb95+=_0xba33d5(0x1e0)+_0x42f98f[_0xba33d5(0x1e9)]+_0xba33d5(0x16f)+_0x42f98f['cantidad']+_0xba33d5(0x16f)+_0x42f98f[_0xba33d5(0x1a4)]+_0xba33d5(0x16f)+_0x42f98f['total']+_0xba33d5(0x171);}),document[_0x26ed0e(0xfa)](_0x26ed0e(0x100))['innerHTML']=_0x28fb95;}else{if(_0x429990===_0x26ed0e(0x11d)){const _0xef5053='https://fasyb.com/api/pdf/proxy/?file='+encodeURIComponent(_0x5b0372[_0x26ed0e(0x19e)]),_0x570877=document['querySelector']('.modal-content');_0x2a2934[_0x26ed0e(0x145)]=_0x26ed0e(0x191)+_0xef5053+_0x26ed0e(0x121),document['getElementById'](_0x26ed0e(0x106))[_0x26ed0e(0x159)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x5b0372['error']||_0x26ed0e(0x12d));})[_0x55295f(0x167)](_0xbd5e39=>{const _0xe18052=_0x55295f;console[_0xe18052(0x1eb)](_0xe18052(0xf2),_0xbd5e39),alert(_0xe18052(0x1e3));});}label[_0x511336(0x159)](_0x511336(0x1e7),()=>{const _0x3d00e0=_0x511336;options[_0x3d00e0(0xf5)][_0x3d00e0(0x11f)]=options[_0x3d00e0(0xf5)][_0x3d00e0(0x11f)]==='none'?_0x3d00e0(0x1f8):_0x3d00e0(0x13f);}),options[_0x511336(0x159)]('click',_0x44cf06=>{const _0x1e5d7c=_0x511336;if(_0x44cf06[_0x1e5d7c(0x126)]&&_0x44cf06[_0x1e5d7c(0x126)][_0x1e5d7c(0x179)]==='LI'){const _0x2d4145=_0x44cf06['target'][_0x1e5d7c(0x18a)]('data-value');updateDateRange(_0x2d4145),options[_0x1e5d7c(0xf5)]['display']=_0x1e5d7c(0x13f);}}),document[_0x511336(0x159)](_0x511336(0x1e7),_0x6e08f1=>{const _0x4325e8=_0x511336;!label[_0x4325e8(0x131)](_0x6e08f1[_0x4325e8(0x126)])&&!options[_0x4325e8(0x131)](_0x6e08f1[_0x4325e8(0x126)])&&(options[_0x4325e8(0xf5)][_0x4325e8(0x11f)]='none');});function formatDateToYmdHis(_0x3f60b4){const _0x3ee691=_0x511336,_0x555512=_0x3f60b4[_0x3ee691(0x102)](),_0xd4ff13=String(_0x3f60b4['getMonth']()+0x1)[_0x3ee691(0x10d)](0x2,'0'),_0x4ac626=String(_0x3f60b4[_0x3ee691(0xf6)]())[_0x3ee691(0x10d)](0x2,'0'),_0x2a6916=String(_0x3f60b4[_0x3ee691(0x139)]())['padStart'](0x2,'0'),_0x58da00=String(_0x3f60b4[_0x3ee691(0x10f)]())[_0x3ee691(0x10d)](0x2,'0'),_0x39f2b7=String(_0x3f60b4[_0x3ee691(0x189)]())['padStart'](0x2,'0');return _0x555512+'-'+_0xd4ff13+'-'+_0x4ac626+'\x20'+_0x2a6916+':'+_0x58da00+':'+_0x39f2b7;}function getDateRange(_0x3c48e1){const _0x2a1f9d=_0x511336,_0x2a8930=new Date();let _0xa0da8b,_0x4f8e71;switch(_0x3c48e1){case _0x2a1f9d(0x112):_0xa0da8b=new Date(_0x2a8930['getFullYear'](),_0x2a8930[_0x2a1f9d(0x1cb)](),_0x2a8930[_0x2a1f9d(0xf6)](),0x0,0x0,0x0),_0x4f8e71=new Date(_0x2a8930[_0x2a1f9d(0x102)](),_0x2a8930[_0x2a1f9d(0x1cb)](),_0x2a8930[_0x2a1f9d(0xf6)](),0x17,0x3b,0x3b),label[_0x2a1f9d(0x145)]=_0x2a1f9d(0x1bf);break;case _0x2a1f9d(0x1d3):const _0x33738b=_0x2a8930['getDay'](),_0xb2edd8=new Date(_0x2a8930);_0xb2edd8[_0x2a1f9d(0x15a)](_0x2a8930[_0x2a1f9d(0xf6)]()-_0x33738b+(_0x33738b===0x0?-0x6:0x1));const _0x5ca3ae=new Date(_0xb2edd8);_0x5ca3ae[_0x2a1f9d(0x15a)](_0xb2edd8[_0x2a1f9d(0xf6)]()+0x6),_0xa0da8b=new Date(_0xb2edd8[_0x2a1f9d(0x102)](),_0xb2edd8[_0x2a1f9d(0x1cb)](),_0xb2edd8[_0x2a1f9d(0xf6)](),0x0,0x0,0x0),_0x4f8e71=new Date(_0x5ca3ae[_0x2a1f9d(0x102)](),_0x5ca3ae['getMonth'](),_0x5ca3ae[_0x2a1f9d(0xf6)](),0x17,0x3b,0x3b),label['innerHTML']=_0x2a1f9d(0x162);break;case'month':_0xa0da8b=new Date(_0x2a8930['getFullYear'](),_0x2a8930[_0x2a1f9d(0x1cb)](),0x1,0x0,0x0,0x0),_0x4f8e71=new Date(_0x2a8930[_0x2a1f9d(0x102)](),_0x2a8930[_0x2a1f9d(0x1cb)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x2a1f9d(0x145)]=_0x2a1f9d(0x1fa);break;case _0x2a1f9d(0x138):_0xa0da8b=new Date(_0x2a8930[_0x2a1f9d(0x102)](),0x0,0x1,0x0,0x0,0x0),_0x4f8e71=new Date(_0x2a8930[_0x2a1f9d(0x102)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x2a1f9d(0x145)]=_0x2a1f9d(0x1c4);break;default:label[_0x2a1f9d(0x145)]='';throw new Error(_0x2a1f9d(0xf0));}return{'startDateFormatted':formatDateToYmdHis(_0xa0da8b),'endDateFormatted':formatDateToYmdHis(_0x4f8e71)};}function updateDateRange(_0x245183){const _0x2f82c9=_0x511336;if(_0x245183==_0x2f82c9(0x155)){}else{const {startDateFormatted:_0x3cd4a0,endDateFormatted:_0x9bc06b}=getDateRange(_0x245183);fil_date_start=_0x3cd4a0,fil_date_end=_0x9bc06b,consultIncomeReport();}}const tableWrappers=document['querySelectorAll']('.table-wrapper');tableWrappers['forEach'](_0x2a047f=>{const _0x45699e=_0x511336;let _0x227419=![],_0x18f108,_0x586192;_0x2a047f[_0x45699e(0x159)](_0x45699e(0x146),_0xa96eac=>{const _0x4fb1e8=_0x45699e;_0x227419=!![],_0x18f108=_0xa96eac[_0x4fb1e8(0x1e2)]-_0x2a047f[_0x4fb1e8(0x1db)],_0x586192=_0x2a047f[_0x4fb1e8(0x128)];}),_0x2a047f[_0x45699e(0x159)]('mouseleave',()=>{_0x227419=![];}),_0x2a047f['addEventListener'](_0x45699e(0x19c),()=>{_0x227419=![];}),_0x2a047f[_0x45699e(0x159)]('mousemove',_0x246e5a=>{const _0x1762d8=_0x45699e;if(!_0x227419)return;_0x246e5a[_0x1762d8(0x117)]();const _0x2f3b8a=_0x246e5a[_0x1762d8(0x1e2)]-_0x2a047f[_0x1762d8(0x1db)],_0x3d284a=(_0x2f3b8a-_0x18f108)*0x2;_0x2a047f[_0x1762d8(0x128)]=_0x586192-_0x3d284a;});});function _0x574b(_0x2f48f7,_0x15d010){const _0x5f99cf=_0x1056();return _0x574b=function(_0x27b97c,_0x490cb2){_0x27b97c=_0x27b97c-0xeb;let _0x86c99b=_0x5f99cf[_0x27b97c];return _0x86c99b;},_0x574b(_0x2f48f7,_0x15d010);}async function consultIncomeReport(){const _0x356477=_0x511336;showLoadingModal();const _0x5d547a={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x356477(0x1b0)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x2aa417=await fetch(myCompany[_0x356477(0x193)],{'method':_0x356477(0xf7),'headers':{'Content-Type':_0x356477(0x154)},'body':JSON['stringify'](_0x5d547a)}),{success:_0x4c17d6,message:_0x3fd89f}=await _0x2aa417[_0x356477(0x110)]();if(!_0x4c17d6||!Array['isArray'](_0x3fd89f[_0x356477(0x1b4)])){ntfShow(_0x356477(0x1a2)),console[_0x356477(0x149)](_0x3fd89f);return;}const _0x2c28bb=_0x3fd89f[_0x356477(0x1b4)],_0x4b9d12=myCompany[_0x356477(0x1f5)]['reduce']((_0x23e8c5,_0x34b1aa)=>(_0x23e8c5[_0x34b1aa['setCustomerId']]=_0x34b1aa[_0x356477(0x124)],_0x23e8c5),{}),_0x589b12=myCompany[_0x356477(0xf1)][_0x356477(0x1ea)]((_0x2bf9de,_0x511fa8)=>(_0x2bf9de[_0x511fa8[_0x356477(0x1e8)]]=_0x511fa8[_0x356477(0x1ee)],_0x2bf9de),{}),_0x439fbb=myCompany[_0x356477(0x147)]['reduce']((_0x3fafb3,_0x177e67)=>(_0x3fafb3[_0x177e67[_0x356477(0x115)]]=_0x177e67[_0x356477(0xff)],_0x3fafb3),{});arrayIncomes=_0x2c28bb[_0x356477(0x1b7)](_0x142610=>{const _0x54b80a=_0x356477,_0x5492d8=_0x142610[_0x54b80a(0x1a8)][_0x54b80a(0x1ea)]((_0x54392d,_0x5e67cc)=>_0x54392d+Number(_0x5e67cc[_0x54b80a(0x194)]),0x0),_0x12cb99=_0x589b12[_0x142610[_0x54b80a(0x119)]]||_0x142610['setOperationType'],_0x7994c4=_0x439fbb[_0x142610[_0x54b80a(0x13e)]]||_0x142610['setOperationSeries'],_0x4a6229=_0x4b9d12[_0x142610['setOperationCustomerId']]||_0x142610[_0x54b80a(0x1c8)],_0x1b79dd=_0x142610['setOperationPaymentStatus']==0x1?'#00bb2d':_0x54b80a(0xf4),_0x444a60=_0x142610[_0x54b80a(0x13a)]==0x1?'Pagado':_0x54b80a(0x1be),_0x134d02=_0x142610[_0x54b80a(0x119)]==0x1?_0x54b80a(0x151):_0x142610[_0x54b80a(0x119)]==0x2?_0x54b80a(0x14e):_0x142610[_0x54b80a(0x119)]==0x3?_0x54b80a(0x1f1):_0x142610['setOperationType']==0x4?_0x54b80a(0x15c):_0x54b80a(0x14e);return{'setOperationId':_0x142610[_0x54b80a(0x184)],'setOperationType':_0x12cb99,'setOperationTypeSpan':_0x134d02,'setOperationSeries':_0x7994c4+'-'+_0x142610[_0x54b80a(0x157)],'setOperationCustomerName':_0x4a6229,'setOperationDateTime':_0x142610[_0x54b80a(0x188)],'setOperationPaymentStatusColor':_0x1b79dd,'setOperationPaymentStatusName':_0x444a60,'setOperationCurrency':_0x142610['setOperationCurrency'],'setOperationTotal':_0x5492d8};});const _0x480f8e=_0x2c28bb['flatMap'](_0x5b97c6=>_0x5b97c6['setOperationItems'][_0x356477(0x1b7)](_0x15dd53=>({'item':_0x15dd53,'moneda':_0x5b97c6[_0x356477(0x105)]})))[_0x356477(0x1ea)]((_0x430c85,{item:_0x34659e,moneda:_0x1bb9ae})=>{const _0x45f4b8=_0x356477,_0x335157=products[_0x45f4b8(0x19d)](_0x3c1c74=>_0x3c1c74['id']==_0x34659e[_0x45f4b8(0x165)]),_0x58bcb1=_0x335157?_0x335157[_0x45f4b8(0x1ba)]:_0x45f4b8(0x1da),_0x49cfac=_0x58bcb1+'|'+_0x1bb9ae,_0x40360c=Number(_0x34659e['setOperationDetailTotal']),_0x44bd0a=Number(_0x34659e[_0x45f4b8(0x16d)])*Number(_0x34659e[_0x45f4b8(0x1e6)]);return!_0x430c85[_0x49cfac]&&(_0x430c85[_0x49cfac]={'productName':_0x58bcb1,'currency':_0x1bb9ae,'sales':0x0,'cost':0x0}),_0x430c85[_0x49cfac][_0x45f4b8(0x18c)]+=_0x40360c,_0x430c85[_0x49cfac][_0x45f4b8(0x136)]+=_0x44bd0a,_0x430c85;},{}),_0x2c70e9=Object['values'](_0x480f8e)[_0x356477(0x1b7)](_0x4f9330=>({'productName':_0x4f9330[_0x356477(0x18e)],'currency':_0x4f9330[_0x356477(0x129)],'sales':Math[_0x356477(0x14d)](_0x4f9330[_0x356477(0x18c)]*0x64)/0x64,'cost':Math['round'](_0x4f9330['cost']*0x64)/0x64,'profit':Math['round']((_0x4f9330[_0x356477(0x18c)]-_0x4f9330[_0x356477(0x136)])*0x64)/0x64})),_0x3fe58a=_0x2c28bb[_0x356477(0x1ea)]((_0x212b2e,_0x444629)=>{const _0x3b8c0e=_0x356477,_0x1a7add=_0x4b9d12[_0x444629[_0x3b8c0e(0x1c8)]]||_0x444629[_0x3b8c0e(0x1c8)],_0x41c188=_0x444629['setOperationCurrency'],_0x48d458=_0x1a7add+'|'+_0x41c188,_0x5210f2=_0x444629['setOperationItems'][_0x3b8c0e(0x1ea)]((_0x2487c0,_0x189373)=>_0x2487c0+Number(_0x189373['setOperationDetailTotal']),0x0),_0x4161fe=_0x444629[_0x3b8c0e(0x1a8)]['reduce']((_0x5ab15,_0x3e3d9e)=>_0x5ab15+Number(_0x3e3d9e['setOperationDetailUnitCost'])*Number(_0x3e3d9e[_0x3b8c0e(0x1e6)]),0x0);return!_0x212b2e[_0x48d458]&&(_0x212b2e[_0x48d458]={'customerName':_0x1a7add,'currency':_0x41c188,'sales':0x0,'cost':0x0}),_0x212b2e[_0x48d458]['sales']+=_0x5210f2,_0x212b2e[_0x48d458][_0x3b8c0e(0x136)]+=_0x4161fe,_0x212b2e;},{}),_0x37e12b=Object[_0x356477(0x1c6)](_0x3fe58a)[_0x356477(0x1b7)](_0x3b13a2=>({'customerName':_0x3b13a2['customerName'],'currency':_0x3b13a2[_0x356477(0x129)],'sales':Math['round'](_0x3b13a2[_0x356477(0x18c)]*0x64)/0x64,'cost':Math[_0x356477(0x14d)](_0x3b13a2[_0x356477(0x136)]*0x64)/0x64,'profit':Math[_0x356477(0x14d)]((_0x3b13a2[_0x356477(0x18c)]-_0x3b13a2[_0x356477(0x136)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x356477(0x1b4)),renderTable(_0x2c70e9,currentPageProducts,_0x356477(0x1c3)),renderTable(_0x37e12b,currentPageCustomers,_0x356477(0x1a3));const _0x573ae5=arrayIncomes[_0x356477(0x1b7)](_0x549248=>({'fechaISO':_0x549248[_0x356477(0x188)][_0x356477(0x195)]('\x20')[0x0],'setTipoComprobante':_0x549248['setOperationType'],'setOperationCurrency':_0x549248[_0x356477(0x105)],'Total':Math[_0x356477(0x14d)](_0x549248[_0x356477(0x127)]*0x64)/0x64})),_0xcfcfbf=_0x573ae5['reduce']((_0x383b97,_0x4b09d2)=>{const _0x5278bc=_0x356477,_0x2e7acd=_0x4b09d2[_0x5278bc(0x16c)]+'|'+_0x4b09d2[_0x5278bc(0x172)]+'|'+_0x4b09d2[_0x5278bc(0x105)];if(!_0x383b97[_0x2e7acd])_0x383b97[_0x2e7acd]={..._0x4b09d2,'Total':0x0};return _0x383b97[_0x2e7acd]['Total']+=_0x4b09d2[_0x5278bc(0x12f)],_0x383b97;},{}),_0x42d866=Object[_0x356477(0x1c6)](_0xcfcfbf)['map'](_0x108435=>({'fechaISO':_0x108435['fechaISO'],'setTipoComprobante':_0x108435[_0x356477(0x172)]+'\x20('+_0x108435[_0x356477(0x105)]+')','Total':Math[_0x356477(0x14d)](_0x108435['Total']*0x64)/0x64})),_0x53c27a=[...new Set(_0x42d866[_0x356477(0x1b7)](_0x3d4a7b=>_0x3d4a7b['setTipoComprobante']))],_0x42cf2e=Array[_0x356477(0x1c7)](new Set(_0x42d866[_0x356477(0x1b7)](_0x865431=>_0x865431[_0x356477(0x16c)])))[_0x356477(0x114)]((_0x28030d,_0x592ef1)=>new Date(_0x28030d)-new Date(_0x592ef1));_0x42d866['length']>0x0?generateFilterTransformChart({'containerId':_0x356477(0x16b),'rawData':_0x42d866,'groupField':_0x356477(0x172),'groupValues':_0x53c27a,'seriesType':_0x356477(0x11a),'chartType':_0x356477(0x11a),'colors':[_0x356477(0xf4),_0x356477(0x1b2)],'encode':{'x':'fechaISO','y':_0x356477(0x12f),'label':[_0x356477(0x172),_0x356477(0x12f)],'itemName':_0x356477(0x16c),'tooltip':[_0x356477(0x12f)]},'xAxisConfig':{'type':_0x356477(0xee),'data':_0x42cf2e,'axisLabel':{'formatter':_0x438891=>{const [_0x18a130,_0x5c8098,_0x5f0ad4]=_0x438891['split']('-');return _0x5f0ad4+'/'+_0x5c8098+'/'+_0x18a130;}}},'title':_0x356477(0x176),'width':_0x356477(0x1d6),'height':_0x356477(0x15b)}):divChartIncome[_0x356477(0x145)]='';_0x2c70e9[_0x356477(0x10e)]>0x0?generateHorizontalBarChart({'containerId':_0x356477(0x1ab),'categories':_0x2c70e9[_0x356477(0x1b7)](_0xacb756=>{const _0x13f9a2=_0x356477,_0x265d26='('+_0xacb756[_0x13f9a2(0x129)]+')\x20'+_0xacb756[_0x13f9a2(0x18e)];return _0x265d26['length']>0xf?_0x265d26[_0x13f9a2(0x11c)](0x0,0xf)+_0x13f9a2(0x18f):_0x265d26;}),'series':[{'name':'Ventas','data':_0x2c70e9[_0x356477(0x1b7)](_0x453262=>_0x453262[_0x356477(0x18c)])},{'name':_0x356477(0x123),'data':_0x2c70e9['map'](_0x2fbca6=>_0x2fbca6[_0x356477(0x136)])},{'name':_0x356477(0x1a9),'data':_0x2c70e9['map'](_0x5275f5=>_0x5275f5['profit'])}],'title':_0x356477(0x1b3),'titlePosition':_0x356477(0x103),'showTitle':![],'colors':[_0x356477(0xf4),_0x356477(0x1b2),_0x356477(0x1f6)],'width':'100%','height':_0x356477(0x1bc)}):divChartItem[_0x356477(0x145)]='';if(_0x37e12b[_0x356477(0x10e)]>0x0){const _0x501486=_0x37e12b[_0x356477(0x1b7)](_0x530fc2=>({'label':_0x530fc2[_0x356477(0x113)]+'\x20('+_0x530fc2[_0x356477(0x129)]+')','sales':_0x530fc2[_0x356477(0x18c)]}));generatePieChart({'containerId':_0x356477(0x1f9),'data':_0x501486,'nameField':_0x356477(0x142),'valueField':_0x356477(0x18c),'title':_0x356477(0x1ac),'titlePosition':'top','showTitle':![],'width':'500px','height':'500px'});}else divChartCustomer[_0x356477(0x145)]='';}catch(_0x4e6c5b){ntfShow(_0x356477(0x141)),console[_0x356477(0x1eb)](_0x4e6c5b);}finally{hideLoadingModal();}}function renderTable(_0x114746,_0x170219=0x1,_0x9b8ec7=_0x511336(0x1b4)){const _0xcecff3=_0x511336;currentPage=_0x170219;const _0x5e1683=_0x9b8ec7===_0xcecff3(0x1b4)?_0xcecff3(0x1a0):_0x9b8ec7==='products'?_0xcecff3(0x1fc):'#reporte-income-customers',_0x564caf=_0x9b8ec7===_0xcecff3(0x1b4)?per_page:_0x9b8ec7==='products'?per_page_products:per_page_customers,_0x2e689d=document[_0xcecff3(0x196)](_0x5e1683+'\x20tbody');_0x2e689d[_0xcecff3(0x145)]='';const _0x1cb7db=(_0x170219-0x1)*_0x564caf,_0x98a828=_0x114746['slice'](_0x1cb7db,_0x1cb7db+_0x564caf);if(_0x9b8ec7===_0xcecff3(0x1b4)){_0x98a828[_0xcecff3(0x1e1)](_0x1bba1e=>{const _0x2923dc=_0xcecff3,_0x34f729=document[_0x2923dc(0x160)]('tr');_0x34f729[_0x2923dc(0x145)]=_0x2923dc(0x150)+_0x1bba1e[_0x2923dc(0x11b)]+'\x22>\x0a'+_0x1bba1e['setOperationType']+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+(_0x1bba1e[_0x2923dc(0x13e)]||'')+'</td>\x0a<td>'+(_0x1bba1e['setOperationCustomerName']||'')+_0x2923dc(0x15e)+_0x1bba1e[_0x2923dc(0x188)]+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20'+_0x1bba1e[_0x2923dc(0x178)]+_0x2923dc(0x1a5)+_0x1bba1e[_0x2923dc(0x178)]+';\x22>\x0a'+_0x1bba1e[_0x2923dc(0x185)]+_0x2923dc(0x1a6)+_0x1bba1e[_0x2923dc(0x105)]+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+_0x1bba1e[_0x2923dc(0x127)][_0x2923dc(0x1de)](0x2)+_0x2923dc(0x153)+_0x1bba1e['setOperationId']+',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x1bba1e[_0x2923dc(0x184)]+',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a',_0x2e689d[_0x2923dc(0x16a)](_0x34f729);});const _0x3d067b=_0x114746[_0xcecff3(0x1ea)]((_0x37c1f1,_0x5db55f)=>{const _0x33aecb=_0xcecff3,_0x437c72=_0x5db55f['setOperationCurrency'];return _0x37c1f1[_0x437c72]=(_0x37c1f1[_0x437c72]||0x0)+Number(_0x5db55f[_0x33aecb(0x127)]),_0x37c1f1;},{});Object[_0xcecff3(0x132)](_0x3d067b)[_0xcecff3(0x1e1)](([_0x43bb5a,_0x464e6a])=>{const _0x2407ee=_0xcecff3,_0x156025=document['createElement']('tr');_0x156025['innerHTML']=_0x2407ee(0x1f4)+_0x43bb5a+_0x2407ee(0x107)+(Math['round'](_0x464e6a*0x64)/0x64)[_0x2407ee(0x1de)](0x2)+_0x2407ee(0x12a),_0x2e689d['appendChild'](_0x156025);}),renderPagination(_0x114746,_0x170219,_0x9b8ec7);}if(_0x9b8ec7==='products'){_0x98a828[_0xcecff3(0x1e1)](_0x1c5731=>{const _0x18c7b5=_0xcecff3,_0x54ffe9=document[_0x18c7b5(0x160)]('tr');_0x54ffe9[_0x18c7b5(0x145)]=_0x18c7b5(0xfb)+_0x1c5731[_0x18c7b5(0x18e)]+_0x18c7b5(0x1f7)+_0x1c5731[_0x18c7b5(0x129)]+_0x18c7b5(0x1ad)+_0x1c5731[_0x18c7b5(0x18c)]['toFixed'](0x2)+_0x18c7b5(0x1ad)+_0x1c5731['cost'][_0x18c7b5(0x1de)](0x2)+_0x18c7b5(0x1ad)+_0x1c5731[_0x18c7b5(0xfd)][_0x18c7b5(0x1de)](0x2)+_0x18c7b5(0x18d),_0x2e689d[_0x18c7b5(0x16a)](_0x54ffe9);});const _0x4ea7af=_0x114746[_0xcecff3(0x1ea)]((_0x2b97d9,_0x28648d)=>{const _0x6e328e=_0xcecff3,_0x1f3b08=_0x28648d['currency'];if(!_0x2b97d9[_0x1f3b08])_0x2b97d9[_0x1f3b08]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x2b97d9[_0x1f3b08][_0x6e328e(0x18c)]+=_0x28648d[_0x6e328e(0x18c)],_0x2b97d9[_0x1f3b08][_0x6e328e(0x136)]+=_0x28648d[_0x6e328e(0x136)],_0x2b97d9[_0x1f3b08][_0x6e328e(0xfd)]+=_0x28648d[_0x6e328e(0xfd)],_0x2b97d9;},{});Object[_0xcecff3(0x132)](_0x4ea7af)[_0xcecff3(0x1e1)](([_0x2253ee,_0x1da9bb])=>{const _0x5e8aa9=_0xcecff3,_0x5ae5e9=document['createElement']('tr');_0x5ae5e9[_0x5e8aa9(0x145)]=_0x5e8aa9(0x1d7)+_0x2253ee+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x5e8aa9(0x14d)](_0x1da9bb[_0x5e8aa9(0x18c)]*0x64)/0x64)[_0x5e8aa9(0x1de)](0x2)+_0x5e8aa9(0x120)+(Math[_0x5e8aa9(0x14d)](_0x1da9bb[_0x5e8aa9(0x136)]*0x64)/0x64)['toFixed'](0x2)+_0x5e8aa9(0x120)+(Math[_0x5e8aa9(0x14d)](_0x1da9bb[_0x5e8aa9(0xfd)]*0x64)/0x64)[_0x5e8aa9(0x1de)](0x2)+_0x5e8aa9(0x1aa),_0x2e689d['appendChild'](_0x5ae5e9);}),renderPagination(_0x114746,_0x170219,_0x9b8ec7);}if(_0x9b8ec7==='customers'){_0x98a828[_0xcecff3(0x1e1)](_0x1af943=>{const _0x4f3b56=_0xcecff3,_0x397a6b=document['createElement']('tr');_0x397a6b[_0x4f3b56(0x145)]=_0x4f3b56(0xfb)+_0x1af943[_0x4f3b56(0x113)]+_0x4f3b56(0x1f7)+_0x1af943[_0x4f3b56(0x129)]+_0x4f3b56(0x1ad)+_0x1af943[_0x4f3b56(0x18c)][_0x4f3b56(0x1de)](0x2)+_0x4f3b56(0x1ad)+_0x1af943[_0x4f3b56(0x136)][_0x4f3b56(0x1de)](0x2)+_0x4f3b56(0x1ad)+_0x1af943[_0x4f3b56(0xfd)][_0x4f3b56(0x1de)](0x2)+_0x4f3b56(0x18d),_0x2e689d['appendChild'](_0x397a6b);});const _0x540786=_0x114746['reduce']((_0x54f2a5,_0x13b044)=>{const _0xc2edd8=_0xcecff3,_0x254e8b=_0x13b044[_0xc2edd8(0x129)];return!_0x54f2a5[_0x254e8b]&&(_0x54f2a5[_0x254e8b]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x54f2a5[_0x254e8b][_0xc2edd8(0x18c)]+=_0x13b044['sales'],_0x54f2a5[_0x254e8b][_0xc2edd8(0x136)]+=_0x13b044[_0xc2edd8(0x136)],_0x54f2a5[_0x254e8b][_0xc2edd8(0xfd)]+=_0x13b044['profit'],_0x54f2a5;},{});Object[_0xcecff3(0x132)](_0x540786)[_0xcecff3(0x1e1)](([_0x1a7136,_0x1bf2bf])=>{const _0x4a425f=_0xcecff3,_0x11cfe5=document[_0x4a425f(0x160)]('tr');_0x11cfe5[_0x4a425f(0x145)]='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x1a7136+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x4a425f(0x14d)](_0x1bf2bf[_0x4a425f(0x18c)]*0x64)/0x64)[_0x4a425f(0x1de)](0x2)+_0x4a425f(0x120)+(Math[_0x4a425f(0x14d)](_0x1bf2bf[_0x4a425f(0x136)]*0x64)/0x64)['toFixed'](0x2)+_0x4a425f(0x120)+(Math[_0x4a425f(0x14d)](_0x1bf2bf[_0x4a425f(0xfd)]*0x64)/0x64)[_0x4a425f(0x1de)](0x2)+_0x4a425f(0x1aa),_0x2e689d['appendChild'](_0x11cfe5);}),renderPagination(_0x114746,_0x170219,_0x9b8ec7);}}function renderPagination(_0x483aad,_0x2cd6f3,_0x108943=_0x511336(0x1b4)){const _0x50c582=_0x511336,_0x1c24d4=_0x108943===_0x50c582(0x1b4)?document['querySelector'](_0x50c582(0x1d1)):_0x108943==='products'?document[_0x50c582(0x196)](_0x50c582(0x1f0)):document[_0x50c582(0x196)]('#pagination-customers'),_0x96693f=_0x108943===_0x50c582(0x1b4)?per_page:_0x108943===_0x50c582(0x1c3)?per_page_products:per_page_customers;_0x1c24d4[_0x50c582(0x145)]='';const _0x43a69e=Math['ceil'](_0x483aad['length']/_0x96693f),_0x4a4d23=document[_0x50c582(0x160)]('a');_0x4a4d23[_0x50c582(0x17e)]='#',_0x4a4d23[_0x50c582(0x186)]=_0x50c582(0xf9),_0x4a4d23[_0x50c582(0x145)]=_0x50c582(0x15f),_0x4a4d23['onclick']=_0x9776c3=>{const _0xbf64e6=_0x50c582;_0x9776c3[_0xbf64e6(0x117)]();if(_0x2cd6f3>0x1)renderTable(_0x483aad,_0x2cd6f3-0x1,_0x108943);},_0x1c24d4[_0x50c582(0x16a)](_0x4a4d23);for(let _0x281e2e=0x1;_0x281e2e<=_0x43a69e;_0x281e2e++){const _0x1d4e0c=document[_0x50c582(0x160)]('a');_0x1d4e0c[_0x50c582(0x17e)]='#',_0x1d4e0c[_0x50c582(0x186)]=_0x50c582(0x1ca)+(_0x281e2e===_0x2cd6f3?_0x50c582(0x181):_0x50c582(0x143)),_0x1d4e0c[_0x50c582(0x173)]=_0x281e2e,_0x1d4e0c[_0x50c582(0x1a1)]=_0x27a95c=>{const _0x1166a7=_0x50c582;_0x27a95c[_0x1166a7(0x117)](),renderTable(_0x483aad,_0x281e2e,_0x108943);},_0x1c24d4['appendChild'](_0x1d4e0c);}const _0x3f46a2=document[_0x50c582(0x160)]('a');_0x3f46a2[_0x50c582(0x17e)]='#',_0x3f46a2['className']=_0x50c582(0x1cf),_0x3f46a2[_0x50c582(0x145)]='Siguiente\x20&raquo;',_0x3f46a2['onclick']=_0xee5f48=>{const _0x4dd9c6=_0x50c582;_0xee5f48[_0x4dd9c6(0x117)]();if(_0x2cd6f3<_0x43a69e)renderTable(_0x483aad,_0x2cd6f3+0x1,_0x108943);},_0x1c24d4[_0x50c582(0x16a)](_0x3f46a2);}document['getElementById'](_0x511336(0xeb))['addEventListener'](_0x511336(0x1e7),async()=>{const _0x492b3a=_0x511336,_0x1f3c31=document[_0x492b3a(0xfa)](_0x492b3a(0x109))['value'],_0x39d855=document[_0x492b3a(0xfa)](_0x492b3a(0x13b))['value'];if(!_0x1f3c31||!_0x39d855)return alert('Selecciona\x20ambas\x20fechas');const _0x56d1c1=document['getElementById'](_0x492b3a(0x1c0)),_0x3a0fd5=bootstrap[_0x492b3a(0x10a)]['getInstance'](_0x56d1c1);_0x3a0fd5['hide'](),showLoadingModal();try{const _0xa958a3={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0x1f3c31+_0x492b3a(0x1e5),'dateTo':_0x39d855+_0x492b3a(0x164),'clientIds':[],'operationTypes':[]},_0x4590ce=await fetch(myCompany[_0x492b3a(0x193)],{'method':'POST','headers':{'Content-Type':_0x492b3a(0x17a)},'body':JSON['stringify'](_0xa958a3)}),{success:_0x5354d1,message:_0x4e5692}=await _0x4590ce[_0x492b3a(0x110)]();if(!_0x5354d1)throw new Error(_0x4e5692);_0x4e5692[_0x492b3a(0x1b4)],await consultIncomeReport();}catch(_0x5a7684){ntfShow(_0x492b3a(0x104)),console[_0x492b3a(0x1eb)](_0x5a7684);}finally{hideLoadingModal();}});let currentExportMode=_0x511336(0x166);const WA_CRED_ID='YOUR_WA_CRED_ID',WA_DEST_NUMBER=_0x511336(0x152),EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR=_0x511336(0x14a),EMAIL_SENDER_PASS='PASSWORD123',EMAIL_SMTP_HOST=_0x511336(0x169),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0x511336(0x1c5));reportWorker[_0x511336(0x111)]=({data:_0x3a77e8})=>{const _0x1ef021=_0x511336,{type:_0x192c7b,payload:_0x5ab91b,reportType:_0x36cf94}=_0x3a77e8;if(_0x192c7b===_0x1ef021(0x1b5)){const _0x22b230=new Blob([_0x5ab91b],{'type':_0x1ef021(0x17c)}),_0x48f83e=new Date()[_0x1ef021(0x12b)]()['slice'](0x0,0xa),_0x44f55f=_0x36cf94+'_'+_0x48f83e+_0x1ef021(0x15d),_0x5c7ce6=_0x877bb=>new Promise((_0x29c70d,_0x92971)=>{const _0x1a701f=_0x1ef021,_0x48fa7c=new FileReader();_0x48fa7c[_0x1a701f(0x1d4)]=()=>_0x92971(_0x48fa7c[_0x1a701f(0x1eb)]),_0x48fa7c['onload']=()=>_0x29c70d(_0x48fa7c[_0x1a701f(0x16e)][_0x1a701f(0x195)](',')[0x1]),_0x48fa7c['readAsDataURL'](_0x877bb);});switch(currentExportMode){case'download':{const _0x1a5923=URL[_0x1ef021(0x199)](_0x22b230),_0x687a53=document[_0x1ef021(0x160)]('a');_0x687a53[_0x1ef021(0x17e)]=_0x1a5923,_0x687a53[_0x1ef021(0x166)]=_0x44f55f,_0x687a53[_0x1ef021(0x1e7)](),URL[_0x1ef021(0x158)](_0x1a5923);}break;case'whatsapp':{_0x5c7ce6(_0x22b230)[_0x1ef021(0x17d)](_0x24a377=>{const _0x36d94a=_0x1ef021;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x24a377,_0x36d94a(0x1cd)+_0x36cf94+_0x36d94a(0x148)+_0x48f83e,_0x44f55f,_0x36d94a(0x1ec))[_0x36d94a(0x167)](_0xa7d8e8=>{const _0x503bcf=_0x36d94a;console[_0x503bcf(0x1eb)](_0x503bcf(0xfe),_0xa7d8e8),ntfShow(_0x503bcf(0x1f3));});});}break;case'email':{_0x5c7ce6(_0x22b230)[_0x1ef021(0x17d)](_0x2c1722=>{const _0x569e3a=_0x1ef021;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x569e3a(0x1cd)+_0x36cf94+'\x20-\x20'+_0x48f83e,_0x569e3a(0xef),[{'filename':_0x44f55f,'content':_0x2c1722,'mimetype':_0x569e3a(0x1ec)}]);});}break;case _0x1ef021(0x1d9):{_0x5c7ce6(_0x22b230)['then'](_0x2f11d8=>{const _0xb5afc9=_0x1ef021;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x2f11d8,_0xb5afc9(0x1cd)+_0x36cf94+_0xb5afc9(0x148)+_0x48f83e,_0x44f55f,_0xb5afc9(0x1ec))['catch'](_0x3b42d0=>console[_0xb5afc9(0x1eb)]('Error\x20WA:',_0x3b42d0)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0xb5afc9(0x1cd)+_0x36cf94+'\x20-\x20'+_0x48f83e,_0xb5afc9(0xef),[{'filename':_0x44f55f,'content':_0x2f11d8,'mimetype':_0xb5afc9(0x1ec)}]);});}break;default:console[_0x1ef021(0x1eb)](_0x1ef021(0x1ce),currentExportMode);}}_0x192c7b==='error'&&(console[_0x1ef021(0x1eb)](_0x1ef021(0x1bd),_0x5ab91b),ntfShow(_0x1ef021(0x118)));},document[_0x511336(0xfa)](_0x511336(0x1ef))[_0x511336(0x159)](_0x511336(0x1e7),()=>{const _0x38ef95=_0x511336;onClickExport(_0x38ef95(0x166));});function onClickExport(_0x25f31d=_0x511336(0x166)){const _0x3b9327=_0x511336;if(!Array[_0x3b9327(0x1dc)](arrayIncomes)||!arrayIncomes[_0x3b9327(0x10e)])return ntfShow(_0x3b9327(0x175));currentExportMode=_0x25f31d;const _0x48b398=arrayIncomes[_0x3b9327(0x1b7)](_0x41c6e1=>{const _0x53b498=_0x3b9327,[_0x3a9083]=_0x41c6e1[_0x53b498(0x188)][_0x53b498(0x195)]('\x20'),[_0x1af00f,_0x41b375,_0x31f144]=_0x3a9083[_0x53b498(0x195)]('-');return{'Periodo':''+_0x1af00f+_0x41b375,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x31f144+'/'+_0x41b375+'/'+_0x1af00f,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x41c6e1[_0x53b498(0x105)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x3b9327(0x190)]({'action':'exportReport','reportType':_0x3b9327(0x1d0),'report':_0x48b398});}window[_0x511336(0x1c1)]=function(){const _0x4df9ce=_0x511336,_0x3cd7c4=0x3;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x5f5b84=document[_0x4df9ce(0x196)](_0x4df9ce(0x133));_0x5f5b84&&_0x5f5b84[_0x4df9ce(0x159)](_0x4df9ce(0x1e7),function(){logoutReload(0x0,_0x3cd7c4);}),document['getElementById'](_0x4df9ce(0x1df))[_0x4df9ce(0x159)](_0x4df9ce(0x1d2),async function(){const _0x3d10ad=_0x4df9ce,_0x4b4280=parseInt(this[_0x3d10ad(0x125)]);myCompany[_0x3d10ad(0x1fd)]=_0x4b4280;const _0x4bcacf=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4bcacf),cargarAlmacenes(_0x4b4280),setTimeout(()=>{const _0x114782=_0x3d10ad;document[_0x114782(0xfa)]('setWarehouseId')[_0x114782(0x1f2)](new Event(_0x114782(0x1d2)));},0x64),cargarPisos(_0x4b4280),setTimeout(()=>{const _0x52c050=_0x3d10ad;document[_0x52c050(0xfa)](_0x52c050(0x14f))[_0x52c050(0x1f2)](new Event(_0x52c050(0x1d2)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x3d10ad(0x1c9)](_0x4b4280),consultIncomeReport();}),loadCartAndSetTabCount(_0x3cd7c4);};function _0x1056(){const _0x5d4937=['500px','factura','.xlsx','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','&laquo;\x20Anterior','createElement','12fKcLFY','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','axis','\x2023:59:59','setOperationDetailUnitPresentationId','download','catch','3481728YPiBbi','smtp.miempresa.com','appendChild','divChartIncome','fechaISO','setOperationDetailUnitCost','result','</td>\x0a<td>','date-range-label-icon','</td>\x0a</tr>','setTipoComprobante','textContent','detalle','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','Evolución\x20de\x20Ventas','statusText','setOperationPaymentStatusColor','tagName','application/json','search','application/octet-stream','then','href','https://fasyb.com/api/venta/view/?id=','5228024HEjoyD','btn-outline-primary','filter','trace','setOperationId','setOperationPaymentStatusName','className','exception','setOperationDateTime','getSeconds','getAttribute','5014149LbkEZU','sales','</td>\x0a','productName','...','postMessage','\x0a<iframe\x20src=\x22','classList','setApiEndPoint','setOperationDetailTotal','split','querySelector','init','console','createObjectURL','data','Contenedor\x20','mouseup','find','pdf_url','El\x20contenedor\x20con\x20id\x20\x22','#reporte-income','onclick','No\x20se\x20encontró\x20información\x20de\x20ingresos','customers','valor_unitario',';\x20color:\x20','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','date-range-label','setOperationItems','Ganancia','\x0a</td>\x0a','divChartItem','Ventas\x20por\x20Cliente','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','pie','warn','setAuthToken','top','#080060','Ventas\x20por\x20Producto','incomes','exportDone','apply','map','name','Error\x20','setDescripcion','line','400px','Export\x20WK\x20Error:','Pendiente','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','filterModal','onload','(((.+)+)+)+$','products','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','./js/apierp_export_wk.min.js','values','from','setOperationCustomerId','push','btn\x20btn-sm\x20','getMonth','additionalFilters','Reporte\x20','Modo\x20de\x20exportación\x20desconocido:','btn\x20btn-sm\x20btn-outline\x20ms-2','PLE_Ventas','#pagination-income','change','week','onerror','item','100%','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setOption','both','Sin\x20descripción','offsetLeft','isArray','assign','toFixed','setBranchId','\x0a<tr>\x0a<td>','forEach','pageX','Error\x20al\x20cargar\x20el\x20detalle.','constructor','\x2000:00:00','setOperationDetailQuantity','click','setTipoOperacionCodigo','producto','reduce','error','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','\x20no\x20existe','setTipoOperacionName','btnExport','#pagination-products','boleta','dispatchEvent','Error\x20al\x20enviar\x20por\x20WhatsApp.','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setCustomers','#00AEEF','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','block','divChartCustomer','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','dataset_raw','#reporte-income-products','setBranchDefault','apply-filter','return\x20(function()\x20','{b}:\x20{d}%','category','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','Invalid\x20range\x20type','setTipoOperaciones','Error\x20al\x20cargar\x20el\x20detalle:','height','#FF5900','style','getDate','POST','success','btn\x20btn-sm\x20btn-outline\x20me-2','getElementById','\x0a<td\x20class=\x22td-bg-none\x22>','shadow','profit','Error\x20WA:','setSerie','detalleTablaBody','prototype','getFullYear','bottom','Error\x20al\x20aplicar\x20filtro','setOperationCurrency','closeModalViewDetails','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','1106072ufHMXn','filter-start','Modal','1244562yTRDRo','width','padStart','length','getMinutes','json','onmessage','day','customerName','sort','ID_SERIE','366562DHGbSw','preventDefault','Error\x20al\x20exportar.','setOperationType','bar','setOperationTypeSpan','substring','pdf','date-range-options','display','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','info','Costo','setCustomerName','value','target','setOperationTotal','scrollLeft','currency','\x0a</td>\x0a<td></td>\x0a','toISOString','active','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','bind','Total','detalleModal','contains','entries','.btn-logout','valueDesc','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','cost','4587605gnvZRf','year','getHours','setOperationPaymentStatus','filter-end','&tipo=','toString','setOperationSeries','none','dynamicContent','Error\x20al\x20solicitar\x20reporte','label','btn-outline','modalOverlayViewDetails','innerHTML','mousedown','setSeries','\x20al\x20','log','no-reply@miempresa.com','status','dataset_','round','recibo','setFloorId','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','pedido','51954738620','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','application/json;\x20charset=utf-8','filtrar','center','setOperationNumber','revokeObjectURL','addEventListener','setDate'];_0x1056=function(){return _0x5d4937;};return _0x1056();}