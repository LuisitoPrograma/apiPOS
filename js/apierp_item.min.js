/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.4
*/

var _0x181465=_0xd988;(function(_0x49b890,_0x2e93a4){var _0x533390=_0xd988,_0x5b212e=_0x49b890();while(!![]){try{var _0x3ecabd=-parseInt(_0x533390(0x28b))/0x1*(parseInt(_0x533390(0x1e2))/0x2)+-parseInt(_0x533390(0x1f8))/0x3*(parseInt(_0x533390(0x201))/0x4)+parseInt(_0x533390(0x27e))/0x5+parseInt(_0x533390(0x17f))/0x6+parseInt(_0x533390(0x1e5))/0x7*(-parseInt(_0x533390(0x212))/0x8)+-parseInt(_0x533390(0x177))/0x9+parseInt(_0x533390(0x286))/0xa;if(_0x3ecabd===_0x2e93a4)break;else _0x5b212e['push'](_0x5b212e['shift']());}catch(_0x5c7a90){_0x5b212e['push'](_0x5b212e['shift']());}}}(_0x1749,0x7f4d1));var _0x2d0532=(function(){var _0x5e9501=!![];return function(_0x56d3d3,_0x55bd2a){var _0x3b239d=_0x5e9501?function(){if(_0x55bd2a){var _0x1ad70c=_0x55bd2a['apply'](_0x56d3d3,arguments);return _0x55bd2a=null,_0x1ad70c;}}:function(){};return _0x5e9501=![],_0x3b239d;};}()),_0x166bfd=_0x2d0532(this,function(){var _0x5f4130=_0xd988;return _0x166bfd['toString']()[_0x5f4130(0x221)](_0x5f4130(0x197))[_0x5f4130(0x288)]()[_0x5f4130(0x1b6)](_0x166bfd)['search'](_0x5f4130(0x197));});function _0x1749(){var _0x139008=['closest','newItem_categories_select','newItem_addToCart','[id$=\x22_comp_container\x22]','setItemFree','target','search','setItemImages','idx','setItemWarehouses','Enter','.addVariantUnit','modalOverlayCreateItem','keydown','.priceInput','.branchMin','dispatchEvent','push','.drop-zone__prompt','.options_list','items','match','sort','newItem_hidden','setPrice','info','test','done','hidden','type','newItem_proditems_container','base','setFactor','setItemType','className','length','includes','setWarehouseName','block','parentNode','setItemCategories','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setItemId','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','getElementsByClassName','newItem_btn_addUnit','oncomplete','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','.removeCombo','file','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','fill','setImpuestoCode','add','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','classList','<div\x20class=\x22newItem_col\x22>','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','./img/product.png','.prodInput','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','tag','input','btnItemSave','onmessage','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setName','true','map','key','Items\x20finales:','Error\x20al\x20guardar\x20Producto\x20Offline:','apply','setItemDateExpiry','setStockInitial','focus','stringify','error','setItemTaxCode','.costInput','children','Nuevo\x20Producto','setCodProducto','dragenter','setCantidad','setItemIsBought','newItem_variant_groups','parse','Ingresa\x20el\x20código\x20del\x20item','message','.prodQty','default','setUnitPresentationId','transaction','trim','.unitAlias','.variantCode','1514825uyjJqr','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setUnidad','none','.unitSelect','.removeVariant','toggle','15462800lpOZwB','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','toString','newItem_units_container','setItemBrands','1sCGZHR','setItemComponents','table','find','exception','offline_operations','setItemUnits','_units_container','.branchInit','setImpuestos','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','display','setItemIsSold','toLowerCase','setCategoria','\x22\x20value=\x22','setItemVariantName','8263080ONSuvF','flatMap','percent','setWarehouseId','newItem_brands_select','split','\x22\x20class=\x22branchChk\x22>\x20','querySelectorAll','5220420CGWlbP','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','readAsDataURL','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setStockMinimum','files','div[data-default=\x22true\x22]\x20.eqInput','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','inputItemDateExpiry','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setCode','arrayBuffer','newItem_title_table_cp','Collator','postMessage','setWarehouseCode','innerHTML','.variantBarCode','findIndex','console','stopPropagation','.branchChk','costInput','compare','(((.+)+)+)+$','now','querySelector','❌\x20Error:\x20','newItem_chk_buy','progress','productType1','splice','some','#newItem_brands_select\x20.selected_tags','remove-file','addEventListener','selectedItem','100','setDescripcion','preventDefault','selectionChange','setItemCode','setUnitCode','code','onload','setMarca','priceInput','inputItemDescription','setItemTaxId','from','</div>','Producto\x20Guardado\x20Offline\x20Correctamente.','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','eqInput','inputItemType','constructor','click','active','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','drop','setItemBarCode','.vgName','getElementById','.removeProd','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','value','_comp_container','#newItem_brands_select\x20.options_list','detalleModalCreateItem','setImpuestoValue','setWebhook','newItem_btn_addVariantGroup','.variantForm','filter','disabled','setMoneda','option','remove','padStart','.addVariantComp','__proto__','inputItemCode','newItem_title_table','file-input','<img\x20src=\x22','dragover','variant_','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.variantExpiry','string','.eqInput','trace','checked','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.selected_tags','defineProperty','div','setItemName','style','12766YsjDbD','inputItemBarCode','status','518WcxJTo','#newItem_branches_container\x20>\x20div','setItemInventoriable','dataTransfer','.vgVals','dragleave','setAuthToken','inputItemTax','Producto\x20Libre','newItem_variants_forms','./js/apierp_item_wk.min.js','setItemDescription','upload-btn','contains','every','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','log','span','3JprCVq','newItem_chk_sell','slice','createElement','</label>','setCost','setAlias','{}.constructor(\x22return\x20this\x22)(\x20)','dataset','2725844nuyydg','setTaxIdDefault','accept','#newItem_categories_select\x20.selected_tags','name','setItemTaxValue','.prod_input_container','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','appendChild','unitSelect','result','windowId','.removeUnit','forEach','_branch_container','change','63992wmBJsS','vals','setTaxId','textContent','max','inputItemName','return\x20(function()\x20','bind','blur'];_0x1749=function(){return _0x139008;};return _0x1749();}_0x166bfd();var _0x1e93a4=(function(){var _0x45adde=!![];return function(_0xa49d01,_0x2ecd9e){var _0x2822e9=_0x45adde?function(){var _0x3a0098=_0xd988;if(_0x2ecd9e){var _0x230f57=_0x2ecd9e[_0x3a0098(0x265)](_0xa49d01,arguments);return _0x2ecd9e=null,_0x230f57;}}:function(){};return _0x45adde=![],_0x2822e9;};}()),_0x1c51cc=_0x1e93a4(this,function(){var _0x13d289=_0xd988,_0x2a862b=function(){var _0x4e0b66=_0xd988,_0x3e0f03;try{_0x3e0f03=Function(_0x4e0b66(0x218)+_0x4e0b66(0x1ff)+');')();}catch(_0x7ec80a){_0x3e0f03=window;}return _0x3e0f03;},_0x134188=_0x2a862b(),_0x198174=_0x134188[_0x13d289(0x192)]=_0x134188['console']||{},_0x294034=['log','warn',_0x13d289(0x234),_0x13d289(0x26a),_0x13d289(0x16a),_0x13d289(0x168),_0x13d289(0x1da)];for(var _0x2f6451=0x0;_0x2f6451<_0x294034[_0x13d289(0x23e)];_0x2f6451++){var _0x5db2ed=_0x1e93a4[_0x13d289(0x1b6)]['prototype'][_0x13d289(0x219)](_0x1e93a4),_0x8bc1ba=_0x294034[_0x2f6451],_0x26ef4a=_0x198174[_0x8bc1ba]||_0x5db2ed;_0x5db2ed[_0x13d289(0x1cf)]=_0x1e93a4[_0x13d289(0x219)](_0x1e93a4),_0x5db2ed['toString']=_0x26ef4a[_0x13d289(0x288)][_0x13d289(0x219)](_0x26ef4a),_0x198174[_0x8bc1ba]=_0x5db2ed;}});_0x1c51cc();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x181465(0x1bd)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x181465(0x1bd)]('newItem_branches_container'),prodC=document[_0x181465(0x1bd)](_0x181465(0x239)),vgCount=0x0,varContainer=document[_0x181465(0x1bd)](_0x181465(0x1ee)),vgC=document[_0x181465(0x1bd)](_0x181465(0x273));const fileInput=document[_0x181465(0x1bd)](_0x181465(0x1d2)),progressBar=document[_0x181465(0x1bd)](_0x181465(0x19c)),statusDiv=document[_0x181465(0x1bd)](_0x181465(0x1e4)),uploadBtn=document['getElementById'](_0x181465(0x1f1));let newItemsExcel=null;const itemWorker=new Worker(_0x181465(0x1ef)),dropZone=document[_0x181465(0x1bd)]('drop-zone'),removeBtn=document[_0x181465(0x1bd)](_0x181465(0x1a1));function showModalCreateItem(_0x942f29){var _0xe83d3d=_0x181465;const _0x42bb7f=document[_0xe83d3d(0x1bd)]('detalleModalCreateItem'),_0x100671=document[_0xe83d3d(0x1bd)](_0xe83d3d(0x227));_0x42bb7f[_0xe83d3d(0x254)][_0xe83d3d(0x251)](_0xe83d3d(0x1b8)),_0x100671['style']['display']=_0xe83d3d(0x241);const _0x38fd25=document[_0xe83d3d(0x1bd)](_0xe83d3d(0x21f));_0x38fd25[_0xe83d3d(0x1c0)]=parseInt(_0x942f29),baseItem[_0xe83d3d(0x21f)]=parseInt(_0x942f29);const _0x183c88=document[_0xe83d3d(0x1bd)]('modalProductNewTitle');_0x942f29==0x0&&(_0x183c88[_0xe83d3d(0x18f)]=_0xe83d3d(0x26e));_0x942f29==0x1&&(_0x183c88[_0xe83d3d(0x18f)]=_0xe83d3d(0x1ed));const _0x124bdc=document[_0xe83d3d(0x248)](_0xe83d3d(0x19d));for(let _0x17b915=0x0;_0x17b915<_0x124bdc[_0xe83d3d(0x23e)];_0x17b915++){const _0x374173=_0x124bdc[_0x17b915];if(_0x942f29==0x0)_0x374173[_0xe83d3d(0x254)][_0xe83d3d(0x1cc)](_0xe83d3d(0x237));else _0x942f29==0x1&&_0x374173[_0xe83d3d(0x254)][_0xe83d3d(0x251)](_0xe83d3d(0x237));}}function hideModalCreateItem(){var _0x339a3c=_0x181465;const _0x1b4081=document['getElementById'](_0x339a3c(0x1c3)),_0x5db4c4=document[_0x339a3c(0x1bd)](_0x339a3c(0x227));_0x1b4081[_0x339a3c(0x254)]['remove'](_0x339a3c(0x1b8)),_0x5db4c4[_0x339a3c(0x1e1)][_0x339a3c(0x171)]=_0x339a3c(0x282);}document[_0x181465(0x1bd)]('closeModalCreateItem')[_0x181465(0x1a2)](_0x181465(0x1b7),hideModalCreateItem),document[_0x181465(0x1bd)](_0x181465(0x227))[_0x181465(0x1a2)](_0x181465(0x1b7),_0xffa8ee=>{var _0x54b367=_0x181465;_0xffa8ee[_0x54b367(0x220)]==_0xffa8ee['currentTarget']&&_0xffa8ee[_0x54b367(0x193)]();});function _0xd988(_0x40b45c,_0x457905){var _0x192e8c=_0x1749();return _0xd988=function(_0x1c51cc,_0x1e93a4){_0x1c51cc=_0x1c51cc-0x168;var _0x313a75=_0x192e8c[_0x1c51cc];return _0x313a75;},_0xd988(_0x40b45c,_0x457905);}function loadTaxData(){var _0x1a5213=_0x181465;const _0x199747=document[_0x1a5213(0x1bd)](_0x1a5213(0x1ec));_0x199747['innerHTML']='',company[0x0]['setImpuestos'][_0x1a5213(0x20f)](function(_0x4dd01a){var _0x31f901=_0x1a5213;const _0x4ee618=document[_0x31f901(0x1fb)](_0x31f901(0x1cb));_0x4ee618[_0x31f901(0x1c0)]=_0x4dd01a[_0x31f901(0x214)],_0x4ee618[_0x31f901(0x18f)]=_0x4dd01a['setImpuestoName']+'\x20('+_0x4dd01a[_0x31f901(0x1c4)]+'%)',_0x4dd01a[_0x31f901(0x214)]==company[0x0][_0x31f901(0x202)]&&(_0x4ee618['selected']=!![]),_0x199747[_0x31f901(0x20a)](_0x4ee618);});}function uniqueValuesArray(_0x1be178,_0xa55525,_0x41f2af){var _0x3f9b41=_0x181465;const _0x579c77=Array[_0x3f9b41(0x1b0)](new Set(_0x41f2af[_0x3f9b41(0x261)](_0x4bbeb2=>{var _0x157b49=_0x3f9b41;const _0x525de6=_0x4bbeb2[_0x1be178];return typeof _0x525de6===_0x157b49(0x1d8)?_0x525de6[_0x157b49(0x27b)]():_0x525de6;})[_0x3f9b41(0x1c8)](_0x5cd1c7=>_0x5cd1c7!=null&&_0x5cd1c7!=='')));return _0x579c77[_0x3f9b41(0x261)](_0xe9d176=>{var _0x1ea00e=_0x3f9b41;const _0x41809b=_0x41f2af['find'](_0x160f0d=>_0x160f0d[_0x1be178]===_0xe9d176),_0x3e531d=_0x41809b&&_0x41809b[_0xa55525]!=null?String(_0x41809b[_0xa55525])[_0x1ea00e(0x27b)]():_0xe9d176;return{'setCode':_0xe9d176,'setName':_0x3e531d};});}function fillSelect(_0x50bc36,_0xbe5b37,_0x56e8fd,_0xa7d73c){var _0x507243=_0x181465;_0x50bc36['innerHTML']='',_0xbe5b37[_0x507243(0x20f)](function(_0x5715fe){var _0x2f1397=_0x507243,_0x380aed=new Option(_0x5715fe[_0xa7d73c],_0x5715fe[_0x56e8fd]);_0x50bc36[_0x2f1397(0x251)](_0x380aed);});}function initMulti(_0x305b6f,_0x2579d3){var _0x1f3202=_0x181465,_0x491e7b=document[_0x1f3202(0x1bd)](_0x305b6f),_0x53ac9f=_0x491e7b[_0x1f3202(0x199)]('.ms_input'),_0x1946c8=_0x491e7b[_0x1f3202(0x199)](_0x1f3202(0x22e)),_0x33511a=_0x491e7b['querySelector'](_0x1f3202(0x1dd)),_0x30cfcd=_0x2579d3[_0x1f3202(0x1fa)](),_0x51ca77=[];function _0x4f32cc(){var _0x348cb9=_0x1f3202;_0x1946c8[_0x348cb9(0x18f)]='',_0x30cfcd['filter'](function(_0x1b77c9){var _0x30e463=_0x348cb9;return _0x1b77c9['setName']['toLowerCase']()['indexOf'](_0x53ac9f[_0x30e463(0x1c0)][_0x30e463(0x173)]())!==-0x1;})[_0x348cb9(0x20f)](function(_0x129de5){var _0x2f44f4=_0x348cb9,_0x986f8c=document['createElement'](_0x2f44f4(0x1df));_0x986f8c['textContent']=_0x129de5[_0x2f44f4(0x25f)],_0x986f8c[_0x2f44f4(0x200)][_0x2f44f4(0x1aa)]=_0x129de5[_0x2f44f4(0x189)],_0x1946c8[_0x2f44f4(0x20a)](_0x986f8c),_0x986f8c[_0x2f44f4(0x1a2)](_0x2f44f4(0x1b7),function(){var _0xd14fa1=_0x2f44f4;_0x51ca77['push'](_0x129de5),_0x30cfcd[_0xd14fa1(0x19e)](_0x30cfcd[_0xd14fa1(0x191)](function(_0x5b1a3f){var _0x433d8c=_0xd14fa1;return _0x5b1a3f[_0x433d8c(0x189)]===_0x129de5[_0x433d8c(0x189)];}),0x1),_0x53ac9f['value']='',_0x48d7d5(),_0x4f32cc();});});}function _0x48d7d5(){var _0x277989=_0x1f3202;_0x33511a['innerHTML']='',_0x51ca77[_0x277989(0x20f)](function(_0x14814e){var _0x1957eb=_0x277989,_0x34b25e=document[_0x1957eb(0x1fb)]('div');_0x34b25e['className']=_0x1957eb(0x25a),_0x34b25e[_0x1957eb(0x215)]=_0x14814e[_0x1957eb(0x25f)];var _0x110675=document[_0x1957eb(0x1fb)](_0x1957eb(0x1f7));_0x110675[_0x1957eb(0x23d)]='remove-tag',_0x110675['textContent']='×',_0x110675[_0x1957eb(0x1a2)]('click',function(){var _0x4fd830=_0x1957eb;_0x30cfcd[_0x4fd830(0x22c)](_0x14814e);const _0x5242d8=_0x51ca77[_0x4fd830(0x191)](function(_0x45faab){var _0x2299b9=_0x4fd830;return _0x45faab[_0x2299b9(0x189)]===_0x14814e[_0x2299b9(0x189)];});if(_0x5242d8>-0x1)_0x51ca77[_0x4fd830(0x19e)](_0x5242d8,0x1);_0x48d7d5(),_0x4f32cc();}),_0x34b25e['appendChild'](_0x110675),_0x33511a[_0x1957eb(0x20a)](_0x34b25e);}),_0x491e7b[_0x277989(0x22b)](new CustomEvent(_0x277989(0x1a7),{'bubbles':!![]}));}return _0x53ac9f[_0x1f3202(0x1a2)]('focus',function(){var _0x3adedc=_0x1f3202;_0x1946c8[_0x3adedc(0x254)][_0x3adedc(0x1cc)](_0x3adedc(0x232));}),_0x53ac9f[_0x1f3202(0x1a2)]('input',_0x4f32cc),_0x53ac9f[_0x1f3202(0x1a2)](_0x1f3202(0x228),function(_0x4f42e9){var _0x159a10=_0x1f3202;if(_0x4f42e9[_0x159a10(0x262)]===_0x159a10(0x225)){_0x4f42e9[_0x159a10(0x1a6)]();const _0x5b2766=_0x53ac9f['value'][_0x159a10(0x27b)]();if(!_0x5b2766)return;const _0x659d1c=_0x51ca77[_0x159a10(0x19f)](_0x3bad81=>_0x3bad81[_0x159a10(0x25f)]===_0x5b2766),_0x4a011=_0x30cfcd[_0x159a10(0x19f)](_0xe1fcbd=>_0xe1fcbd[_0x159a10(0x25f)]===_0x5b2766);if(!_0x659d1c&&!_0x4a011){const _0x3fcccc={'setCode':_0x5b2766,'setName':_0x5b2766};_0x51ca77[_0x159a10(0x22c)](_0x3fcccc),_0x48d7d5(),_0x4f32cc();}_0x53ac9f['value']='';}}),document[_0x1f3202(0x1a2)](_0x1f3202(0x1b7),function(_0x2576f6){var _0x450dd1=_0x1f3202;if(!_0x491e7b[_0x450dd1(0x1f2)](_0x2576f6[_0x450dd1(0x220)]))_0x1946c8[_0x450dd1(0x254)][_0x450dd1(0x251)]('newItem_hidden');}),_0x4f32cc(),_0x51ca77;}function getLastCode(_0x1e7a30){var _0x2f800f=_0x181465;const _0x33c24d=_0x1e7a30[_0x2f800f(0x261)](_0x52e30a=>String(_0x52e30a[_0x2f800f(0x26f)])['trim']())['filter'](_0x3fb891=>_0x3fb891!=='');if(_0x33c24d[_0x2f800f(0x23e)]===0x0)return'';const _0x4ab411=_0x33c24d[_0x2f800f(0x1f3)](_0x177c0c=>/^\d+$/[_0x2f800f(0x235)](_0x177c0c));if(_0x4ab411){const _0x3a17cc=_0x33c24d[_0x2f800f(0x261)](Number),_0x253cb1=Math[_0x2f800f(0x216)](..._0x3a17cc);return String(_0x253cb1);}let _0x55ae81;if(typeof Intl!=='undefined'&&Intl[_0x2f800f(0x18c)]){const _0x56b203=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x2f800f(0x23a)});_0x55ae81=_0x33c24d[_0x2f800f(0x1fa)]()[_0x2f800f(0x231)](_0x56b203[_0x2f800f(0x196)]);}else{const _0xb7d167=_0x33c24d[_0x2f800f(0x1f3)](_0x22d3ca=>/^\d+$/[_0x2f800f(0x235)](_0x22d3ca));_0xb7d167?_0x55ae81=_0x33c24d[_0x2f800f(0x261)](Number)[_0x2f800f(0x231)]((_0x3e4876,_0x498804)=>_0x3e4876-_0x498804)[_0x2f800f(0x261)](String):_0x55ae81=_0x33c24d['slice']()[_0x2f800f(0x231)]();}return _0x55ae81[_0x55ae81['length']-0x1];}function getNextCode(_0x38f92e){var _0x433acf=_0x181465;const _0x1f222f=getLastCode(_0x38f92e);if(!_0x1f222f)return'';if(/^\d+$/[_0x433acf(0x235)](_0x1f222f))return String(Number(_0x1f222f)+0x1);const _0x59d2b6=_0x1f222f[_0x433acf(0x230)](/^([A-Za-z]*)(\d+)$/);if(_0x59d2b6){const [,_0x151b53,_0x46e1d3]=_0x59d2b6,_0x1c2163=String(Number(_0x46e1d3)+0x1)[_0x433acf(0x1cd)](_0x46e1d3[_0x433acf(0x23e)],'0');return _0x151b53+_0x1c2163;}return _0x1f222f;}document['getElementById'](_0x181465(0x217))[_0x181465(0x1a2)](_0x181465(0x25b),function(_0x16e0f4){var _0x1d090f=_0x181465;baseItem['setItemName']=_0x16e0f4[_0x1d090f(0x220)][_0x1d090f(0x1c0)];}),document[_0x181465(0x1bd)](_0x181465(0x1ae))[_0x181465(0x1a2)](_0x181465(0x25b),function(_0x15877f){var _0x2d5313=_0x181465;baseItem[_0x2d5313(0x1f0)]=_0x15877f['target'][_0x2d5313(0x1c0)];}),document[_0x181465(0x1bd)](_0x181465(0x187))['addEventListener']('input',function(_0x17d53b){var _0x1b9b1c=_0x181465;baseItem[_0x1b9b1c(0x266)]=_0x17d53b[_0x1b9b1c(0x220)]['value'];}),document[_0x181465(0x1bd)](_0x181465(0x1b5))[_0x181465(0x1a2)](_0x181465(0x211),function(_0x580717){var _0x2b963e=_0x181465;baseItem[_0x2b963e(0x23c)]=_0x580717[_0x2b963e(0x220)][_0x2b963e(0x1c0)];}),document[_0x181465(0x1bd)](_0x181465(0x1ec))[_0x181465(0x1a2)](_0x181465(0x211),function(_0x511dc5){var _0x5306c1=_0x181465;baseItem[_0x5306c1(0x1af)]=_0x511dc5[_0x5306c1(0x220)][_0x5306c1(0x1c0)];const _0x50ae48=_0x511dc5[_0x5306c1(0x220)][_0x5306c1(0x1c0)],_0x430442=company[0x0]['setImpuestos'][_0x5306c1(0x169)](_0x51dfc9=>_0x51dfc9[_0x5306c1(0x214)]==_0x50ae48)?.['setImpuestoCode']||0x0,_0x406539=company[0x0][_0x5306c1(0x16f)][_0x5306c1(0x169)](_0x369e45=>_0x369e45[_0x5306c1(0x214)]==_0x50ae48)?.[_0x5306c1(0x1c4)]||0x0;baseItem['setItemTaxCode']=_0x430442,baseItem[_0x5306c1(0x206)]=_0x406539;}),document[_0x181465(0x1bd)](_0x181465(0x19b))[_0x181465(0x1a2)]('change',function(_0x2b8e8d){var _0x1761cb=_0x181465;baseItem[_0x1761cb(0x272)]=_0x2b8e8d['target']['checked'];}),document[_0x181465(0x1bd)](_0x181465(0x1f9))[_0x181465(0x1a2)](_0x181465(0x211),function(_0x52f6a8){var _0x239393=_0x181465;baseItem[_0x239393(0x172)]=_0x52f6a8[_0x239393(0x220)][_0x239393(0x1db)];}),document[_0x181465(0x1bd)](_0x181465(0x1d0))[_0x181465(0x1a2)](_0x181465(0x25b),function(_0x238baa){var _0xd8968a=_0x181465;baseItem[_0xd8968a(0x1a8)]=_0x238baa['target'][_0xd8968a(0x1c0)];}),document[_0x181465(0x1bd)](_0x181465(0x1e3))[_0x181465(0x1a2)](_0x181465(0x25b),function(_0x2079ff){var _0x3af7f5=_0x181465;baseItem[_0x3af7f5(0x1bb)]=_0x2079ff['target'][_0x3af7f5(0x1c0)];}),document[_0x181465(0x1bd)](_0x181465(0x249))[_0x181465(0x1a2)](_0x181465(0x1b7),function(){addUnit(),updateUnitsArray();}),document[_0x181465(0x1bd)](_0x181465(0x1d0))[_0x181465(0x1a2)](_0x181465(0x21a),function(){var _0x49afb9=_0x181465;const _0x19a65c=this[_0x49afb9(0x1c0)][_0x49afb9(0x27b)]();if(_0x19a65c==='')return;const _0xd0bd81=products[_0x49afb9(0x19f)](_0x15119a=>_0x15119a[_0x49afb9(0x26f)]==_0x19a65c),_0x83e4c6=getLastCode(products);_0xd0bd81?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x83e4c6,0x2,0x1):ntfShow(_0x49afb9(0x1b3),0x1,0x1);});function removeImg(_0x2b1448){var _0x53cfac=_0x181465;currentImages[_0x2b1448]=null;var _0x44541f=imgC[_0x53cfac(0x199)]('[data-idx=\x22'+_0x2b1448+'\x22]');_0x44541f[_0x53cfac(0x18f)]='';var _0x3f052a=document[_0x53cfac(0x1fb)]('input');_0x3f052a[_0x53cfac(0x238)]='file',_0x3f052a[_0x53cfac(0x203)]='image/*',_0x3f052a[_0x53cfac(0x1e1)][_0x53cfac(0x171)]=_0x53cfac(0x282);var _0x194819=document[_0x53cfac(0x1fb)](_0x53cfac(0x1f7));_0x194819[_0x53cfac(0x215)]='+',_0x44541f['appendChild'](_0x3f052a),_0x44541f['appendChild'](_0x194819),_0x44541f[_0x53cfac(0x1a2)]('click',function(){var _0x24a937=_0x53cfac;_0x3f052a[_0x24a937(0x1b7)]();}),baseItem[_0x53cfac(0x222)]=currentImages[_0x53cfac(0x1c8)](function(_0x26402c){return _0x26402c;});}function addUnit(_0x5ad942,_0x4e74a1,_0x175958,_0x1d4a4a,_0x300f7f,_0x49d0e0,_0x22357f){var _0x3969f4=_0x181465,_0x30154a=uniqueValuesArray('setUnidad',_0x3969f4(0x281),products);_0x5ad942=_0x5ad942||'',_0x4e74a1=_0x4e74a1||_0x30154a[0x0]&&_0x30154a[0x0][_0x3969f4(0x189)]||'',_0x175958=_0x175958!==undefined?_0x175958:0x1,_0x1d4a4a=!!_0x1d4a4a,_0x300f7f=_0x300f7f||'',_0x49d0e0=_0x49d0e0||'';var _0x45aa8f=unitCount++,_0x1ec008=document[_0x3969f4(0x1fb)](_0x3969f4(0x1df));_0x1ec008[_0x3969f4(0x200)][_0x3969f4(0x223)]=_0x45aa8f,_0x1ec008[_0x3969f4(0x200)][_0x3969f4(0x278)]=_0x1d4a4a,_0x1ec008[_0x3969f4(0x18f)]=_0x3969f4(0x244)+_0x45aa8f+_0x3969f4(0x175)+_0x5ad942+_0x3969f4(0x280)+_0x45aa8f+_0x3969f4(0x253)+_0x45aa8f+_0x3969f4(0x175)+_0x175958+'\x22\x20'+(_0x1d4a4a?_0x3969f4(0x1c9):'')+_0x3969f4(0x1bf)+_0x45aa8f+'\x22\x20value=\x22'+_0x300f7f+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x45aa8f+_0x3969f4(0x175)+_0x49d0e0+_0x3969f4(0x1f4)+(_0x1d4a4a?'style=\x22display:none\x22':'')+_0x3969f4(0x27f),fillSelect(_0x1ec008[_0x3969f4(0x199)](_0x3969f4(0x283)),_0x30154a,'setCode',_0x3969f4(0x25f)),_0x1ec008['querySelector'](_0x3969f4(0x283))[_0x3969f4(0x1c0)]=_0x4e74a1,['unitAlias',_0x3969f4(0x20b),_0x3969f4(0x1b4),_0x3969f4(0x1ad),_0x3969f4(0x195)][_0x3969f4(0x20f)](function(_0xd2afc4){var _0xc0c850=_0x3969f4;_0x1ec008[_0xc0c850(0x199)]('.'+_0xd2afc4)[_0xc0c850(0x1a2)](_0xc0c850(0x25b),function(){var _0x16a7d7=_0xc0c850,_0x54cb8e=_0x22357f?+_0x22357f['id'][_0x16a7d7(0x17c)]('_')[0x1]:null;if(_0x22357f)updateVariantUnits(_0x54cb8e);else updateUnitsArray();});}),_0x1ec008['querySelector'](_0x3969f4(0x20e))[_0x3969f4(0x1a2)](_0x3969f4(0x1b7),function(){var _0x3cde2a=_0x3969f4;_0x1ec008[_0x3cde2a(0x1cc)]();var _0x40b8e3=_0x22357f?+_0x22357f['id'][_0x3cde2a(0x17c)]('_')[0x1]:null;if(_0x22357f)updateVariantUnits(_0x40b8e3);else updateUnitsArray();});var _0xa16cff=_0x22357f||document['getElementById']('newItem_units_container');_0xa16cff[_0x3969f4(0x20a)](_0x1ec008);}function containerIdx(_0x2fe007){return+_0x2fe007['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x1b76b0=_0x181465,_0x336bfd=[],_0x177f7f=Array[_0x1b76b0(0x1b0)](document[_0x1b76b0(0x17e)]('#newItem_units_container\x20>\x20div')),_0x30eba7=_0x177f7f[_0x1b76b0(0x169)](_0x54a0dd=>_0x54a0dd[_0x1b76b0(0x200)][_0x1b76b0(0x278)]===_0x1b76b0(0x260)),_0x41abd5=_0x30eba7?+_0x30eba7[_0x1b76b0(0x199)](_0x1b76b0(0x1d9))[_0x1b76b0(0x1c0)]:0x1;_0x177f7f[_0x1b76b0(0x20f)](function(_0x375153){var _0x5d948a=_0x1b76b0,_0xb935f=+_0x375153[_0x5d948a(0x199)]('.eqInput')[_0x5d948a(0x1c0)]||0x0,_0x55fefb=+_0x375153['querySelector'](_0x5d948a(0x229))[_0x5d948a(0x1c0)]||0x0,_0x351cb3=+_0x375153[_0x5d948a(0x199)](_0x5d948a(0x26c))[_0x5d948a(0x1c0)]||0x0;_0x336bfd[_0x5d948a(0x22c)]({'setAlias':_0x375153[_0x5d948a(0x199)](_0x5d948a(0x27c))[_0x5d948a(0x1c0)][_0x5d948a(0x27b)](),'setUnitCode':_0x375153['querySelector']('.unitSelect')[_0x5d948a(0x1c0)],'setEquivalence':_0xb935f,'setFactor':_0x375153['dataset'][_0x5d948a(0x278)]===_0x5d948a(0x260)?0x1:_0xb935f==_0x41abd5?0x1:_0xb935f<_0x41abd5?_0x41abd5/_0xb935f:_0xb935f/_0x41abd5,'setPrice':_0x55fefb,'setCost':_0x351cb3,'setDefault':_0x375153[_0x5d948a(0x200)]['default']==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x336bfd;}function updateBranches(){var _0x46c742=_0x181465,_0x56b7f6=[];document[_0x46c742(0x17e)](_0x46c742(0x1e6))[_0x46c742(0x20f)](function(_0x43361d){var _0x570dbe=_0x46c742,_0x538fb1=_0x43361d[_0x570dbe(0x199)](_0x570dbe(0x194));if(_0x538fb1['checked']){var _0x3fa038=+_0x538fb1[_0x570dbe(0x200)]['id'],_0x48a6d5=+_0x43361d['querySelector']('.branchInit')[_0x570dbe(0x1c0)],_0x9b51cb=+_0x43361d[_0x570dbe(0x199)](_0x570dbe(0x22a))[_0x570dbe(0x1c0)];_0x56b7f6[_0x570dbe(0x22c)]({'setWarehouseCode':_0x3fa038,'setStockInitial':_0x48a6d5,'setStockMinimum':_0x9b51cb});}}),baseItem[_0x46c742(0x224)]=_0x56b7f6;}document[_0x181465(0x1bd)]('newItem_btn_addProdItem')[_0x181465(0x1a2)]('click',function(){var _0x21d94d=_0x181465,_0x198037=Date['now'](),_0x5a9a57=document['createElement'](_0x21d94d(0x1df));_0x5a9a57['dataset'][_0x21d94d(0x223)]=_0x198037,_0x5a9a57[_0x21d94d(0x18f)]=_0x21d94d(0x256)+_0x198037+_0x21d94d(0x180)+_0x198037+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x21d94d(0x20a)](_0x5a9a57),initProdSearch(_0x5a9a57[_0x21d94d(0x199)](_0x21d94d(0x207))),_0x5a9a57[_0x21d94d(0x199)](_0x21d94d(0x1be))[_0x21d94d(0x1a2)](_0x21d94d(0x1b7),function(){var _0x194975=_0x21d94d;_0x5a9a57[_0x194975(0x1cc)](),updateProdItems();}),_0x5a9a57[_0x21d94d(0x199)]('.prodQty')[_0x21d94d(0x1a2)](_0x21d94d(0x25b),updateProdItems),document[_0x21d94d(0x1bd)]('newItem_title_table_cp')[_0x21d94d(0x254)][_0x21d94d(0x285)](_0x21d94d(0x1d1),!![]),document[_0x21d94d(0x1bd)]('newItem_title_table_cp')[_0x21d94d(0x254)][_0x21d94d(0x285)](_0x21d94d(0x232),![]);});function initProdSearch(_0x4503b6,_0x159000){var _0x3dabeb=_0x181465,_0x5d02ef=_0x4503b6[_0x3dabeb(0x199)](_0x3dabeb(0x258)),_0x3b00a5=_0x4503b6[_0x3dabeb(0x199)](_0x3dabeb(0x22e)),_0x23cdfd=_0x159000||null;if(_0x159000)_0x5d02ef[_0x3dabeb(0x1c0)]=_0x159000[_0x3dabeb(0x205)];_0x5d02ef[_0x3dabeb(0x1a2)]('input',function(){var _0x184393=_0x3dabeb,_0x5385c0=_0x5d02ef[_0x184393(0x1c0)][_0x184393(0x173)]()[_0x184393(0x27b)]();_0x3b00a5[_0x184393(0x18f)]='';if(!_0x5385c0)return;products['filter'](_0x2287c3=>_0x2287c3[_0x184393(0x1a5)][_0x184393(0x173)]()[_0x184393(0x23f)](_0x5385c0))[_0x184393(0x1fa)](0x0,0x14)[_0x184393(0x20f)](function(_0x2bf2ea){var _0x2ad736=_0x184393,_0x4f2f2b=document[_0x2ad736(0x1fb)]('div');_0x4f2f2b[_0x2ad736(0x215)]=_0x2bf2ea[_0x2ad736(0x1a5)],_0x4f2f2b[_0x2ad736(0x200)]['id']=_0x2bf2ea['id'],_0x4f2f2b[_0x2ad736(0x200)][_0x2ad736(0x205)]=_0x2bf2ea['setDescripcion'],_0x3b00a5[_0x2ad736(0x20a)](_0x4f2f2b),_0x4f2f2b[_0x2ad736(0x1a2)](_0x2ad736(0x1b7),function(){var _0x2785c7=_0x2ad736;_0x23cdfd={'id':_0x2bf2ea['id'],'name':_0x2bf2ea[_0x2785c7(0x1a5)]},_0x5d02ef['value']=_0x2bf2ea[_0x2785c7(0x1a5)],_0x3b00a5[_0x2785c7(0x18f)]='';var _0xe3db6c=_0x4503b6[_0x2785c7(0x21b)](_0x2785c7(0x21e));if(_0xe3db6c){var _0x5b30c2=+_0xe3db6c['id'][_0x2785c7(0x17c)]('_')[0x1];updateVariantComponents(_0x5b30c2);}else updateProdItems();});});}),_0x5d02ef[_0x3dabeb(0x1a2)](_0x3dabeb(0x268),function(){var _0x38639f=_0x3dabeb;_0x3b00a5[_0x38639f(0x254)][_0x38639f(0x1cc)]('newItem_hidden');}),document[_0x3dabeb(0x1a2)](_0x3dabeb(0x1b7),function(_0x5af9be){var _0x2c9aab=_0x3dabeb;if(!_0x4503b6['contains'](_0x5af9be[_0x2c9aab(0x220)]))_0x3b00a5[_0x2c9aab(0x254)][_0x2c9aab(0x251)](_0x2c9aab(0x232));}),Object[_0x3dabeb(0x1de)](_0x4503b6,_0x3dabeb(0x1a3),{'get':()=>_0x23cdfd});}function updateProdItems(){var _0x3aa062=_0x181465,_0x82c132=[];Array[_0x3aa062(0x1b0)](prodC[_0x3aa062(0x26d)])[_0x3aa062(0x20f)](function(_0x188b6b){var _0x25df10=_0x3aa062,_0x2ac288=_0x188b6b[_0x25df10(0x199)](_0x25df10(0x207));if(!_0x2ac288)return;var _0x2d6b5d=_0x188b6b[_0x25df10(0x199)]('.prodQty'),_0x3bed59=_0x2ac288[_0x25df10(0x1a3)];_0x3bed59&&_0x82c132[_0x25df10(0x22c)]({'setItemId':_0x3bed59['id'],'setDescripcion':_0x3bed59[_0x25df10(0x205)],'setCantidad':+_0x2d6b5d[_0x25df10(0x1c0)]});}),baseItem[_0x3aa062(0x28c)]=_0x82c132,_0x82c132['length']===0x0&&(document[_0x3aa062(0x1bd)]('newItem_title_table_cp')[_0x3aa062(0x254)]['toggle']('newItem_title_table',![]),document['getElementById'](_0x3aa062(0x18b))[_0x3aa062(0x254)][_0x3aa062(0x285)](_0x3aa062(0x232),!![]));}document[_0x181465(0x1bd)](_0x181465(0x1c6))[_0x181465(0x1a2)](_0x181465(0x1b7),function(){var _0x20849d=_0x181465,_0x52386b=vgCount++,_0x444ba0=document[_0x20849d(0x1fb)](_0x20849d(0x1df));_0x444ba0[_0x20849d(0x200)][_0x20849d(0x223)]=_0x52386b,_0x444ba0[_0x20849d(0x18f)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x52386b+'\x22>'+_0x20849d(0x245)+_0x52386b+'\x22>'+_0x20849d(0x247),vgC[_0x20849d(0x20a)](_0x444ba0),_0x444ba0[_0x20849d(0x199)](_0x20849d(0x1bc))['addEventListener']('blur',generateVariants),_0x444ba0[_0x20849d(0x199)](_0x20849d(0x1e9))[_0x20849d(0x1a2)](_0x20849d(0x21a),generateVariants),_0x444ba0[_0x20849d(0x199)]('.removeGroup')['addEventListener'](_0x20849d(0x1b7),function(){var _0x4817cd=_0x20849d;_0x444ba0[_0x4817cd(0x1cc)](),generateVariants();});});function generateVariants(){var _0x18b8dd=_0x181465,_0x33cca3=[];vgC[_0x18b8dd(0x17e)](_0x18b8dd(0x1df))[_0x18b8dd(0x20f)](function(_0x4c60df){var _0xf932aa=_0x18b8dd,_0x2704f7=_0x4c60df[_0xf932aa(0x199)](_0xf932aa(0x1bc))[_0xf932aa(0x1c0)][_0xf932aa(0x27b)](),_0x3c7130=_0x4c60df['querySelector'](_0xf932aa(0x1e9))[_0xf932aa(0x1c0)][_0xf932aa(0x17c)](',')[_0xf932aa(0x261)](_0x2a00bf=>_0x2a00bf[_0xf932aa(0x27b)]())[_0xf932aa(0x1c8)](_0xac5499=>_0xac5499);if(_0x2704f7&&_0x3c7130[_0xf932aa(0x23e)])_0x33cca3['push']({'name':_0x2704f7,'vals':_0x3c7130});});var _0x202c17=[{}];_0x33cca3[_0x18b8dd(0x20f)](function(_0x3bb5c3){var _0x4e88d1=_0x18b8dd;_0x202c17=_0x202c17[_0x4e88d1(0x178)](function(_0x595118){var _0x26b1e2=_0x4e88d1;return _0x3bb5c3[_0x26b1e2(0x213)][_0x26b1e2(0x261)](function(_0x44aac4){var _0x269fb2=_0x26b1e2,_0x66f6a2=Object['assign']({},_0x595118);return _0x66f6a2[_0x3bb5c3[_0x269fb2(0x205)]]=_0x44aac4,_0x66f6a2;});});}),newItems=[],varContainer[_0x18b8dd(0x18f)]='',_0x202c17[_0x18b8dd(0x20f)](function(_0x1bdc2b,_0x772f53){var _0x5715c4=_0x18b8dd,_0x350458=JSON[_0x5715c4(0x274)](JSON[_0x5715c4(0x269)](baseItem));_0x350458['setItemVariantValues']=_0x1bdc2b,_0x350458[_0x5715c4(0x176)]=baseItem[_0x5715c4(0x1e0)]+'\x20'+Object['entries'](_0x1bdc2b)['map'](_0x210c72=>_0x210c72[0x0]+'\x20'+_0x210c72[0x1])['join']('\x20'),newItems[_0x5715c4(0x22c)](_0x350458);var _0x51204c=document[_0x5715c4(0x1fb)]('div');_0x51204c[_0x5715c4(0x254)][_0x5715c4(0x251)]('variantForm'),_0x51204c['dataset'][_0x5715c4(0x223)]=_0x772f53,_0x51204c[_0x5715c4(0x18f)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x350458['setItemVariantName']+_0x5715c4(0x1b9)+_0x350458[_0x5715c4(0x1a8)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x350458[_0x5715c4(0x1bb)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x350458[_0x5715c4(0x266)]+_0x5715c4(0x259)+_0x772f53+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x772f53+_0x5715c4(0x208)+_0x772f53+_0x5715c4(0x24b),varContainer[_0x5715c4(0x20a)](_0x51204c),_0x51204c[_0x5715c4(0x199)](_0x5715c4(0x27d))[_0x5715c4(0x1a2)](_0x5715c4(0x25b),_0x53198f=>newItems[_0x772f53]['setItemCode']=_0x53198f[_0x5715c4(0x220)][_0x5715c4(0x1c0)]),_0x51204c['querySelector'](_0x5715c4(0x190))['addEventListener'](_0x5715c4(0x25b),_0xa978e3=>newItems[_0x772f53][_0x5715c4(0x1bb)]=_0xa978e3[_0x5715c4(0x220)][_0x5715c4(0x1c0)]),_0x51204c[_0x5715c4(0x199)](_0x5715c4(0x1d7))[_0x5715c4(0x1a2)](_0x5715c4(0x211),_0x37edb9=>newItems[_0x772f53][_0x5715c4(0x266)]=_0x37edb9[_0x5715c4(0x220)][_0x5715c4(0x1c0)]),initVariantUnits(_0x772f53),initVariantComponents(_0x772f53),initVariantBranches(_0x772f53),_0x51204c[_0x5715c4(0x199)](_0x5715c4(0x284))['addEventListener'](_0x5715c4(0x1b7),function(){var _0x67c2e2=_0x5715c4,_0x4dfa3c=+_0x51204c[_0x67c2e2(0x200)][_0x67c2e2(0x223)];newItems[_0x67c2e2(0x19e)](_0x4dfa3c,0x1),_0x51204c[_0x67c2e2(0x1cc)](),document['querySelectorAll'](_0x67c2e2(0x1c7))[_0x67c2e2(0x20f)](function(_0x21f12f,_0x19ad5c){var _0x5b5d9c=_0x67c2e2;_0x21f12f[_0x5b5d9c(0x200)][_0x5b5d9c(0x223)]=_0x19ad5c;});});});if(newItems[_0x18b8dd(0x23e)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x4685c5){var _0x143365=_0x181465,_0xc3af61=document['getElementById'](_0x143365(0x1d5)+_0x4685c5+'_units_container'),_0xaa1214=[];Array[_0x143365(0x1b0)](_0xc3af61[_0x143365(0x26d)])[_0x143365(0x20f)](function(_0x3918d3){var _0x3becdf=_0x143365,_0x5c3fb7=+_0x3918d3[_0x3becdf(0x199)](_0x3becdf(0x1d9))[_0x3becdf(0x1c0)]||0x0,_0xd2c94c=_0x3918d3[_0x3becdf(0x199)](_0x3becdf(0x27c))['value'][_0x3becdf(0x27b)](),_0x275ee4=_0x3918d3[_0x3becdf(0x199)]('.unitSelect')[_0x3becdf(0x1c0)],_0x44b399=+_0x3918d3[_0x3becdf(0x199)](_0x3becdf(0x229))[_0x3becdf(0x1c0)]||0x0,_0x1ce9a0=+_0x3918d3['querySelector']('.costInput')[_0x3becdf(0x1c0)]||0x0,_0x25ca19=_0x3918d3[_0x3becdf(0x200)]['default']===_0x3becdf(0x260),_0x3f3c4c=+_0xc3af61[_0x3becdf(0x199)](_0x3becdf(0x185))[_0x3becdf(0x1c0)]||0x1,_0x2b2fc7=_0x25ca19?0x1:_0x5c3fb7==_0x3f3c4c?0x1:_0x5c3fb7<_0x3f3c4c?_0x3f3c4c/_0x5c3fb7:_0x5c3fb7/_0x3f3c4c;_0xaa1214[_0x3becdf(0x22c)]({'setAlias':_0xd2c94c,'setUnitCode':_0x275ee4,'setEquivalence':_0x5c3fb7,'setFactor':_0x2b2fc7,'setPrice':_0x44b399,'setCost':_0x1ce9a0,'setDefault':_0x25ca19?0x1:0x0});}),newItems[_0x4685c5][_0x143365(0x16c)]=_0xaa1214;}function initVariantUnits(_0x1f5a1a){var _0x4932c9=_0x181465,_0x24dbcb=document[_0x4932c9(0x1bd)]('variant_'+_0x1f5a1a+_0x4932c9(0x16d));_0x24dbcb[_0x4932c9(0x18f)]='',newItems[_0x1f5a1a]['setItemUnits'][_0x4932c9(0x20f)](function(_0x11562c){var _0x3cd0ca=_0x4932c9;addUnit(_0x11562c[_0x3cd0ca(0x1fe)],_0x11562c[_0x3cd0ca(0x1a9)],_0x11562c['setEquivalence'],_0x11562c['setDefault'],_0x11562c[_0x3cd0ca(0x233)],_0x11562c[_0x3cd0ca(0x1fd)],_0x24dbcb);}),_0x24dbcb[_0x4932c9(0x242)][_0x4932c9(0x199)](_0x4932c9(0x226))[_0x4932c9(0x1a2)](_0x4932c9(0x1b7),function(){addUnit('','',0x1,![],'','',_0x24dbcb),updateVariantUnits(_0x1f5a1a);});}function updateVariantUnits(_0x2794cc){var _0x247792=_0x181465,_0xe71c2a=document[_0x247792(0x1bd)](_0x247792(0x1d5)+_0x2794cc+_0x247792(0x16d)),_0x4da529=_0xe71c2a['querySelector'](_0x247792(0x185)),_0x3ac823=_0x4da529?+_0x4da529['value']:0x1,_0x47797d=Array[_0x247792(0x1b0)](_0xe71c2a['children'])[_0x247792(0x261)](function(_0x47bb37){var _0x2b7c6d=_0x247792,_0x4d3b6d=_0x47bb37[_0x2b7c6d(0x199)](_0x2b7c6d(0x27c))[_0x2b7c6d(0x1c0)][_0x2b7c6d(0x27b)](),_0x362233=_0x47bb37[_0x2b7c6d(0x199)](_0x2b7c6d(0x283))[_0x2b7c6d(0x1c0)],_0x5c0975=+_0x47bb37[_0x2b7c6d(0x199)](_0x2b7c6d(0x1d9))['value']||0x0,_0x578d84=+_0x47bb37[_0x2b7c6d(0x199)](_0x2b7c6d(0x229))[_0x2b7c6d(0x1c0)]||0x0,_0x2d615b=+_0x47bb37[_0x2b7c6d(0x199)](_0x2b7c6d(0x26c))[_0x2b7c6d(0x1c0)]||0x0,_0x5da521=_0x47bb37[_0x2b7c6d(0x200)]['default']==='true';return{'setAlias':_0x4d3b6d,'setUnitCode':_0x362233,'setEquivalence':_0x5c0975,'setFactor':_0x5da521?0x1:_0x5c0975==_0x3ac823?0x1:_0x5c0975<_0x3ac823?_0x3ac823/_0x5c0975:_0x5c0975/_0x3ac823,'setPrice':_0x578d84,'setCost':_0x2d615b,'setDefault':_0x5da521?0x1:0x0};});newItems[_0x2794cc][_0x247792(0x16c)]=_0x47797d;}function initVariantComponents(_0x3302a9){var _0x571fe1=_0x181465,_0x386081=document[_0x571fe1(0x1bd)](_0x571fe1(0x1d5)+_0x3302a9+_0x571fe1(0x1c1));_0x386081[_0x571fe1(0x18f)]='',newItems[_0x3302a9][_0x571fe1(0x28c)][_0x571fe1(0x20f)](function(_0x37176e){var _0x5efbe3=_0x571fe1,_0x18579c=document[_0x5efbe3(0x1fb)]('div'),_0xc28048=Date[_0x5efbe3(0x198)]();_0x18579c['dataset'][_0x5efbe3(0x223)]=_0xc28048,_0x18579c[_0x5efbe3(0x18f)]=_0x5efbe3(0x1dc)+_0xc28048+_0x5efbe3(0x24e)+_0x37176e[_0x5efbe3(0x271)]+_0x5efbe3(0x25e),_0x386081['appendChild'](_0x18579c),initProdSearch(_0x18579c['querySelector']('.prod_input_container'),{'id':_0x37176e[_0x5efbe3(0x246)],'name':_0x37176e[_0x5efbe3(0x1a5)]}),_0x18579c['querySelector'](_0x5efbe3(0x277))[_0x5efbe3(0x1a2)](_0x5efbe3(0x25b),function(){updateVariantComponents(_0x3302a9);}),_0x18579c['querySelector'](_0x5efbe3(0x24c))[_0x5efbe3(0x1a2)](_0x5efbe3(0x1b7),function(){var _0x5eee53=_0x5efbe3;_0x18579c[_0x5eee53(0x1cc)](),updateVariantComponents(_0x3302a9);});}),_0x386081[_0x571fe1(0x242)][_0x571fe1(0x199)](_0x571fe1(0x1ce))[_0x571fe1(0x1a2)](_0x571fe1(0x1b7),function(){var _0x116213=_0x571fe1,_0xe97e39=document[_0x116213(0x1fb)](_0x116213(0x1df)),_0x9c5e6a=Date['now']();_0xe97e39[_0x116213(0x200)][_0x116213(0x223)]=_0x9c5e6a,_0xe97e39[_0x116213(0x18f)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x9c5e6a+_0x116213(0x287),_0x386081[_0x116213(0x20a)](_0xe97e39),initProdSearch(_0xe97e39[_0x116213(0x199)](_0x116213(0x207))),_0xe97e39[_0x116213(0x199)](_0x116213(0x277))[_0x116213(0x1a2)](_0x116213(0x25b),function(){updateVariantComponents(_0x3302a9);}),_0xe97e39['querySelector'](_0x116213(0x24c))['addEventListener'](_0x116213(0x1b7),function(){var _0x5b15f9=_0x116213;_0xe97e39[_0x5b15f9(0x1cc)](),updateVariantComponents(_0x3302a9);});});}function updateVariantComponents(_0x54b10c){var _0x4902e4=_0x181465,_0x3e7982=document[_0x4902e4(0x1bd)](_0x4902e4(0x1d5)+_0x54b10c+_0x4902e4(0x1c1)),_0x59c2e1=Array[_0x4902e4(0x1b0)](_0x3e7982[_0x4902e4(0x26d)])[_0x4902e4(0x261)](function(_0xc61582){var _0x353f74=_0x4902e4,_0x1c753b=_0xc61582['querySelector']('.prod_input_container'),_0x2b89cd=_0x1c753b[_0x353f74(0x1a3)],_0x2a86e0=+_0xc61582['querySelector'](_0x353f74(0x277))[_0x353f74(0x1c0)]||0x0;return _0x2b89cd?{'setItemId':_0x2b89cd['id'],'setDescripcion':_0x2b89cd[_0x353f74(0x205)],'setCantidad':_0x2a86e0}:null;})[_0x4902e4(0x1c8)](_0x5cb670=>_0x5cb670);newItems[_0x54b10c]['setItemComponents']=_0x59c2e1;}function initVariantBranches(_0x3f851c){var _0x50be05=_0x181465;const _0x301c23=getAllWarehouses();var _0x2cbc94=document[_0x50be05(0x1bd)]('variant_'+_0x3f851c+_0x50be05(0x210));_0x2cbc94[_0x50be05(0x18f)]='',newItems[_0x3f851c][_0x50be05(0x224)][_0x50be05(0x20f)](function(_0x241ab6){var _0x3bb741=_0x50be05,_0x1012ac=_0x301c23[_0x3bb741(0x169)](_0x583f94=>_0x583f94['setWarehouseId']==_0x241ab6[_0x3bb741(0x18e)]),_0x28f3b4=document['createElement'](_0x3bb741(0x1df));_0x28f3b4[_0x3bb741(0x18f)]=_0x3bb741(0x209)+_0x241ab6[_0x3bb741(0x18e)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x1012ac[_0x3bb741(0x240)]+_0x3bb741(0x252)+_0x241ab6[_0x3bb741(0x18e)]+_0x3bb741(0x175)+_0x241ab6['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x241ab6[_0x3bb741(0x18e)]+_0x3bb741(0x175)+_0x241ab6[_0x3bb741(0x183)]+'\x22>',_0x2cbc94[_0x3bb741(0x20a)](_0x28f3b4),_0x28f3b4[_0x3bb741(0x17e)]('input')[_0x3bb741(0x20f)](function(_0xcda9a0){var _0x4fb3bf=_0x3bb741;_0xcda9a0[_0x4fb3bf(0x1a2)](_0x4fb3bf(0x25b),function(){updateVariantBranches(_0x3f851c);});});}),_0x301c23[_0x50be05(0x20f)](function(_0xb85d9e){var _0x341e12=_0x50be05;if(!newItems[_0x3f851c][_0x341e12(0x224)]['find'](_0x3998f5=>_0x3998f5['setWarehouseCode']===_0xb85d9e[_0x341e12(0x17a)])){var _0x1d0e4f=document[_0x341e12(0x1fb)]('div');_0x1d0e4f[_0x341e12(0x18f)]=_0x341e12(0x209)+_0xb85d9e['setWarehouseId']+_0x341e12(0x17d)+_0xb85d9e['setWarehouseName']+_0x341e12(0x252)+_0xb85d9e['setWarehouseId']+_0x341e12(0x182)+_0xb85d9e[_0x341e12(0x17a)]+'\x22>',_0x2cbc94[_0x341e12(0x20a)](_0x1d0e4f),_0x1d0e4f['querySelectorAll']('input')[_0x341e12(0x20f)](function(_0x1d71c0){var _0x4f6162=_0x341e12;_0x1d71c0[_0x4f6162(0x1a2)](_0x4f6162(0x25b),function(){updateVariantBranches(_0x3f851c);});});}});}function updateVariantBranches(_0x578f32){var _0x2fc77b=_0x181465,_0x69fba=document['getElementById'](_0x2fc77b(0x1d5)+_0x578f32+'_branch_container'),_0x51b734=[];_0x69fba[_0x2fc77b(0x17e)](_0x2fc77b(0x1df))[_0x2fc77b(0x20f)](function(_0x1dfec6){var _0x3ec3bd=_0x2fc77b,_0xde0e16=_0x1dfec6[_0x3ec3bd(0x199)]('.branchChk');if(_0xde0e16[_0x3ec3bd(0x1db)]){var _0x9e4724=+_0xde0e16[_0x3ec3bd(0x200)]['id'],_0x391940=+_0x1dfec6['querySelector'](_0x3ec3bd(0x16e))[_0x3ec3bd(0x1c0)]||0x0,_0x3c1e0d=+_0x1dfec6[_0x3ec3bd(0x199)]('.branchMin')[_0x3ec3bd(0x1c0)]||0x0;_0x51b734['push']({'setWarehouseCode':_0x9e4724,'setStockInitial':_0x391940,'setStockMinimum':_0x3c1e0d});}}),newItems[_0x578f32][_0x2fc77b(0x224)]=_0x51b734;}async function storeOfflineProduct(_0x398aad){var _0x41c6d6=_0x181465;try{const _0x11fe6a=await createCartStore(''),_0x240b2e=_0x11fe6a[_0x41c6d6(0x27a)]('offline_operations','readwrite'),_0x491f3d=_0x240b2e['objectStore'](_0x41c6d6(0x16b));_0x491f3d['add'](_0x398aad),_0x240b2e[_0x41c6d6(0x24a)]=()=>{var _0x124af6=_0x41c6d6;console['log'](_0x124af6(0x1b2));},_0x240b2e['onerror']=_0x301e71=>{var _0x2edd10=_0x41c6d6;console[_0x2edd10(0x26a)](_0x2edd10(0x264),_0x301e71[_0x2edd10(0x220)][_0x2edd10(0x26a)]);};}catch(_0x2bb633){console[_0x41c6d6(0x26a)]('Error\x20al\x20procesar\x20la\x20operación:',_0x2bb633);}}document[_0x181465(0x1bd)](_0x181465(0x25c))[_0x181465(0x1a2)]('click',async function(_0x267f26){var _0xd2e665=_0x181465;_0x267f26[_0xd2e665(0x1a6)]();const _0x98e030=document[_0xd2e665(0x1bd)](_0xd2e665(0x1d0)),_0x5a08ec=document[_0xd2e665(0x1bd)](_0xd2e665(0x21f))['value'];if(!_0x98e030['value'][_0xd2e665(0x27b)]()&&_0x5a08ec==0x0){ntfShow(_0xd2e665(0x275),0x2,0x1);return;}_0x5a08ec==0x1&&(_0x98e030[_0xd2e665(0x1c0)]='',baseItem[_0xd2e665(0x1a8)]='');const _0x2d05dc=document[_0xd2e665(0x1bd)](_0xd2e665(0x217));if(!_0x2d05dc[_0xd2e665(0x1c0)][_0xd2e665(0x27b)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x216aac=document[_0xd2e665(0x1bd)](_0xd2e665(0x21d));hideModalCreateItem(),showLoadingModal();newItems[_0xd2e665(0x23e)]===0x0&&(newItems=[baseItem]);const _0x3812f5=document[_0xd2e665(0x1bd)]('windowId')[_0xd2e665(0x1c0)],_0x462d38=window_options[_0x3812f5][_0xd2e665(0x1ca)];let _0x2d54eb=generateNumericUniqId()*0x64+0x1f4,_0x483ec8=generateNumericUniqId()*0xa;const _0x44362a=[];newItems[_0xd2e665(0x20f)](_0x2f7693=>{var _0x9a7355=_0xd2e665;const _0x516df7=++_0x483ec8;_0x2f7693[_0x9a7355(0x16c)]['forEach'](_0x2faac3=>{var _0x13a398=_0x9a7355;const _0x3c2374=++_0x2d54eb;_0x2faac3[_0x13a398(0x279)]=_0x3c2374;const _0xd122cd={'id':_0x3c2374,'setIdProducto':_0x516df7,'setCodProducto':_0x2f7693[_0x13a398(0x1a8)],'setDescripcion':_0x2f7693[_0x13a398(0x176)]!=''?_0x2f7693[_0x13a398(0x176)]:_0x2f7693['setItemName'],'setItemDescription':_0x2f7693[_0x13a398(0x1f0)],'setBatchExpirationDate':_0x2f7693['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x2f7693[_0x13a398(0x243)][0x0]||'','setMarca':_0x2f7693[_0x13a398(0x28a)][0x0]||'','setConversionFactor':parseFloat(_0x2faac3[_0x13a398(0x23b)]),'setImages':[],'setImg':_0x13a398(0x257),'setInventariable':0x1,'setItemIsBought':_0x2f7693[_0x13a398(0x272)]?0x1:0x0,'setItemIsSold':_0x2f7693['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x2f7693[_0x13a398(0x206)],'setPrinters':[],'setTaxId':_0x2f7693['setItemTaxId'],'setTipAfeIgv':_0x2f7693[_0x13a398(0x26b)],'setUnidad':_0x2faac3[_0x13a398(0x1a9)],'setUnidadCodigo':_0x2faac3[_0x13a398(0x1a9)],'currency_data':[{'currency':_0x462d38,'setMtoPrecioCostoUnitario':_0x2faac3[_0x13a398(0x1fd)],'setMtoPrecioUnitario':_0x2faac3[_0x13a398(0x233)],'setPriceLists':[]}],'sucursales':_0x2f7693['setItemWarehouses']['map'](_0x4e0e9e=>({'setIdSucursal':_0x4e0e9e[_0x13a398(0x18e)],'setSucursalStock':_0x4e0e9e[_0x13a398(0x267)]['toString'](),'setWarehouseStockMin':_0x4e0e9e[_0x13a398(0x183)]['toString']()})),'setItemFree':_0x2f7693[_0x13a398(0x21f)],'setItemBarCode':_0x2f7693[_0x13a398(0x1bb)],'setItemBrands':_0x2f7693[_0x13a398(0x28a)][_0x13a398(0x1fa)](),'setItemCategories':_0x2f7693['setItemCategories'][_0x13a398(0x1fa)](),'setItemComponents':_0x2f7693[_0x13a398(0x28c)][_0x13a398(0x261)](_0x30957b=>({..._0x30957b})),'setItemImages':_0x2f7693[_0x13a398(0x222)][_0x13a398(0x1fa)](),'setItemVariantName':_0x2f7693[_0x13a398(0x176)],'setItemVariantValues':{..._0x2f7693['setItemVariantValues']}};_0x44362a[_0x13a398(0x22c)](_0xd122cd),(_0x216aac['checked']||_0x5a08ec==0x1)&&addToCart(_0xd122cd);});}),console['log']('Items\x20finales:',newItems),await finalizeImport(_0x44362a,newItems,![]);}),[_0x181465(0x270),_0x181465(0x1d4)][_0x181465(0x20f)](_0x44c2b7=>dropZone[_0x181465(0x1a2)](_0x44c2b7,_0x2683c3=>{var _0x4c9c75=_0x181465;_0x2683c3[_0x4c9c75(0x1a6)](),dropZone['classList'][_0x4c9c75(0x251)](_0x4c9c75(0x1d4));})),[_0x181465(0x1ea),_0x181465(0x1ba)]['forEach'](_0x1bb0c1=>dropZone[_0x181465(0x1a2)](_0x1bb0c1,_0x3ce904=>{var _0x236bb0=_0x181465;_0x3ce904[_0x236bb0(0x1a6)](),dropZone['classList'][_0x236bb0(0x1cc)](_0x236bb0(0x1d4));})),dropZone[_0x181465(0x1a2)]('drop',_0x3fed4f=>{var _0x18a673=_0x181465;const _0x5aa465=_0x3fed4f[_0x18a673(0x1e8)][_0x18a673(0x184)][0x0];if(!_0x5aa465)return;fileInput['files']=_0x3fed4f['dataTransfer'][_0x18a673(0x184)],dropZone[_0x18a673(0x199)](_0x18a673(0x22d))[_0x18a673(0x215)]=_0x5aa465['name'],removeBtn['hidden']=![],fileInput[_0x18a673(0x22b)](new Event('change'));}),removeBtn[_0x181465(0x1a2)]('click',()=>{var _0x36fedf=_0x181465;fileInput[_0x36fedf(0x1c0)]='',dropZone[_0x36fedf(0x199)]('.drop-zone__prompt')['textContent']=_0x36fedf(0x1f5),removeBtn[_0x36fedf(0x237)]=!![],progressBar['style']['display']='none',statusDiv['textContent']='',uploadBtn[_0x36fedf(0x1c9)]=!![];}),itemWorker[_0x181465(0x25d)]=({data:_0x467efc})=>{var _0x175136=_0x181465;const {type:_0x4dfb82,payload:_0x36fd2c}=_0x467efc;_0x4dfb82===_0x175136(0x19c)&&(progressBar[_0x175136(0x1e1)][_0x175136(0x171)]=_0x175136(0x241),progressBar[_0x175136(0x1c0)]=_0x36fd2c[_0x175136(0x179)],statusDiv[_0x175136(0x215)]=_0x36fd2c[_0x175136(0x276)]),_0x4dfb82===_0x175136(0x236)&&(newItemsExcel=_0x36fd2c[_0x175136(0x22f)],statusDiv[_0x175136(0x215)]='✅\x20'+newItemsExcel[_0x175136(0x23e)]+'\x20items\x20procesados.',uploadBtn['disabled']=![],progressBar[_0x175136(0x1c0)]=0x64,console[_0x175136(0x1f6)](newItemsExcel)),_0x4dfb82===_0x175136(0x26a)&&(statusDiv[_0x175136(0x215)]=_0x175136(0x19a)+_0x36fd2c,progressBar[_0x175136(0x1e1)][_0x175136(0x171)]=_0x175136(0x282));},fileInput[_0x181465(0x1a2)](_0x181465(0x211),async _0xabb6ce=>{var _0x331db3=_0x181465;const _0x31db76=_0xabb6ce['target'][_0x331db3(0x184)][0x0];if(!_0x31db76)return;uploadBtn[_0x331db3(0x1c9)]=!![],newItemsExcel=null,statusDiv[_0x331db3(0x215)]='',progressBar['style'][_0x331db3(0x171)]=_0x331db3(0x282),dropZone[_0x331db3(0x199)](_0x331db3(0x22d))[_0x331db3(0x215)]=_0x31db76['name'],removeBtn[_0x331db3(0x237)]=![];try{const _0x364ef=await _0x31db76[_0x331db3(0x18a)]();itemWorker[_0x331db3(0x18d)]({'buf':_0x364ef,'maxRows':0x1388});}catch(_0x4060db){statusDiv[_0x331db3(0x215)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0x331db3(0x1c0)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x525418=_0x181465;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5b1f4b=document[_0x525418(0x1bd)](_0x525418(0x20d))[_0x525418(0x1c0)],_0x19d65e=window_options[_0x5b1f4b][_0x525418(0x1ca)],_0x27cae7=document[_0x525418(0x1bd)](_0x525418(0x17a))[_0x525418(0x1c0)];let _0x21e88e=generateNumericUniqId()*0x64+0x1f4,_0x190f37=generateNumericUniqId()*0xa;const _0x56459f=[];newItemsExcel[_0x525418(0x20f)](_0xa5e47=>{var _0x3c5d30=_0x525418;const _0x19eea1=++_0x190f37;_0xa5e47[_0x3c5d30(0x224)]=[{'setStockInitial':_0xa5e47[_0x3c5d30(0x267)],'setStockMinimum':_0xa5e47[_0x3c5d30(0x183)],'setWarehouseCode':_0x27cae7}],_0xa5e47[_0x3c5d30(0x16c)][_0x3c5d30(0x20f)](_0x5c69aa=>{var _0x5a578b=_0x3c5d30;const _0x5cdb24=++_0x21e88e;_0x5c69aa[_0x5a578b(0x279)]=_0x5cdb24;const _0x3c2dd8={'id':_0x5cdb24,'setIdProducto':_0x19eea1,'setCodProducto':_0xa5e47[_0x5a578b(0x1a8)],'setDescripcion':_0xa5e47[_0x5a578b(0x176)]||_0xa5e47[_0x5a578b(0x1e0)],'setItemDescription':_0xa5e47[_0x5a578b(0x1f0)],'setBatchExpirationDate':_0xa5e47[_0x5a578b(0x266)],'setBatchName':'','setCategoria':_0xa5e47[_0x5a578b(0x243)][0x0]||'','setMarca':_0xa5e47[_0x5a578b(0x28a)][0x0]||'','setConversionFactor':parseFloat(_0x5c69aa[_0x5a578b(0x23b)]),'setImages':[],'setImg':_0x5a578b(0x257),'setInventariable':_0xa5e47[_0x5a578b(0x1e7)]?0x1:0x0,'setItemIsBought':_0xa5e47[_0x5a578b(0x272)]?0x1:0x0,'setItemIsSold':_0xa5e47[_0x5a578b(0x172)]?0x1:0x0,'setPorcentajeIgv':_0xa5e47[_0x5a578b(0x206)],'setPrinters':[],'setTaxId':_0xa5e47[_0x5a578b(0x1af)],'setTipAfeIgv':_0xa5e47[_0x5a578b(0x26b)],'setUnidad':_0x5c69aa[_0x5a578b(0x1a9)],'setUnidadCodigo':_0x5c69aa[_0x5a578b(0x1a9)],'currency_data':[{'currency':_0x19d65e,'setMtoPrecioCostoUnitario':_0x5c69aa[_0x5a578b(0x1fd)],'setMtoPrecioUnitario':_0x5c69aa[_0x5a578b(0x233)],'setPriceLists':[]}],'sucursales':_0xa5e47[_0x5a578b(0x224)][_0x5a578b(0x261)](_0x1495d2=>({'setIdSucursal':_0x1495d2[_0x5a578b(0x18e)],'setSucursalStock':_0x1495d2[_0x5a578b(0x267)]['toString'](),'setWarehouseStockMin':_0x1495d2[_0x5a578b(0x183)][_0x5a578b(0x288)]()})),'setItemFree':_0xa5e47['setItemFree'],'setItemBarCode':_0xa5e47[_0x5a578b(0x1bb)],'setItemBrands':_0xa5e47[_0x5a578b(0x28a)][_0x5a578b(0x1fa)](),'setItemCategories':_0xa5e47['setItemCategories'][_0x5a578b(0x1fa)](),'setItemComponents':_0xa5e47[_0x5a578b(0x28c)][_0x5a578b(0x261)](_0x5a6e78=>({..._0x5a6e78})),'setItemImages':_0xa5e47[_0x5a578b(0x222)][_0x5a578b(0x1fa)](),'setItemVariantName':_0xa5e47[_0x5a578b(0x176)],'setItemVariantValues':{..._0xa5e47['setItemVariantValues']}};_0x56459f[_0x5a578b(0x22c)](_0x3c2dd8);});}),console[_0x525418(0x1f6)](_0x525418(0x263),newItems),await finalizeImport(_0x56459f,newItemsExcel,!![]);});function initializeFormImages(){var _0x1affba=_0x181465;currentImages=Array(MAX_IMAGES)[_0x1affba(0x24f)](null),imgC[_0x1affba(0x18f)]='',baseItem['setItemImages']=[];for(var _0x1f1d4e=0x0;_0x1f1d4e<MAX_IMAGES;_0x1f1d4e++){(function(_0x5629a2){var _0x31c933=_0x1affba,_0x99f4f1=document[_0x31c933(0x1fb)](_0x31c933(0x1df));_0x99f4f1['className']='image_box',_0x99f4f1[_0x31c933(0x200)][_0x31c933(0x223)]=_0x5629a2;var _0x488edb=document['createElement'](_0x31c933(0x25b));_0x488edb[_0x31c933(0x238)]=_0x31c933(0x24d),_0x488edb[_0x31c933(0x203)]='image/*',_0x488edb[_0x31c933(0x1e1)][_0x31c933(0x171)]=_0x31c933(0x282);var _0x15bf11=document['createElement']('span');_0x15bf11[_0x31c933(0x215)]='+',_0x99f4f1[_0x31c933(0x20a)](_0x488edb),_0x99f4f1['appendChild'](_0x15bf11),imgC[_0x31c933(0x20a)](_0x99f4f1),_0x99f4f1[_0x31c933(0x1a2)](_0x31c933(0x1b7),function(){var _0x39c136=_0x31c933;_0x488edb[_0x39c136(0x1b7)]();}),_0x488edb[_0x31c933(0x1a2)](_0x31c933(0x211),function(_0x5a74ff){var _0x1f9c61=_0x31c933,_0x3be4b3=_0x5a74ff[_0x1f9c61(0x220)][_0x1f9c61(0x184)][0x0];if(!_0x3be4b3)return removeImg(_0x5629a2);var _0x2f4e6b=new FileReader();_0x2f4e6b[_0x1f9c61(0x1ab)]=function(_0x422b4e){var _0x4b4c22=_0x1f9c61;_0x99f4f1[_0x4b4c22(0x18f)]=_0x4b4c22(0x1d3)+_0x422b4e[_0x4b4c22(0x220)][_0x4b4c22(0x20c)]+'\x22>';var _0x23906f=document[_0x4b4c22(0x1fb)](_0x4b4c22(0x1f7));_0x23906f[_0x4b4c22(0x23d)]=_0x4b4c22(0x1cc),_0x23906f['textContent']='×',_0x23906f[_0x4b4c22(0x1a2)](_0x4b4c22(0x1b7),function(_0x1f0050){_0x1f0050['stopPropagation'](),removeImg(_0x5629a2);}),_0x99f4f1['appendChild'](_0x23906f),currentImages[_0x5629a2]=_0x3be4b3,baseItem[_0x4b4c22(0x222)]=currentImages['filter'](function(_0x540821){return _0x540821;});},_0x2f4e6b[_0x1f9c61(0x181)](_0x3be4b3);});}(_0x1f1d4e));}}function initializeFormIsSoldIsBought(){var _0x51967a=_0x181465;document[_0x51967a(0x1bd)](_0x51967a(0x19b))[_0x51967a(0x1db)]=!![],document['getElementById'](_0x51967a(0x1f9))[_0x51967a(0x1db)]=!![],baseItem[_0x51967a(0x272)]=!![],baseItem[_0x51967a(0x172)]=!![];}function initializeFormInputsBasic(){var _0x206ae3=_0x181465;document[_0x206ae3(0x1bd)](_0x206ae3(0x1b5))[_0x206ae3(0x1c0)]='1',document[_0x206ae3(0x1bd)](_0x206ae3(0x1d0))[_0x206ae3(0x1c0)]=getNextCode(products),document[_0x206ae3(0x1bd)](_0x206ae3(0x217))[_0x206ae3(0x1c0)]='',document[_0x206ae3(0x1bd)](_0x206ae3(0x1ae))['value']='',document[_0x206ae3(0x1bd)](_0x206ae3(0x187))[_0x206ae3(0x1c0)]='',document[_0x206ae3(0x1bd)](_0x206ae3(0x1e3))['value']='',baseItem[_0x206ae3(0x23c)]='1',baseItem[_0x206ae3(0x1a8)]=getNextCode(products),baseItem[_0x206ae3(0x1e0)]='',baseItem[_0x206ae3(0x1f0)]='',baseItem['setItemDateExpiry']='',baseItem[_0x206ae3(0x1bb)]='',document[_0x206ae3(0x1bd)](_0x206ae3(0x21d))[_0x206ae3(0x1db)]=![];}function initializeFormTax(){var _0x18b5de=_0x181465;const _0x35642a=myCompany[_0x18b5de(0x202)],_0x293acc=document[_0x18b5de(0x1bd)](_0x18b5de(0x1ec));_0x293acc[_0x18b5de(0x1c0)]=_0x35642a,baseItem[_0x18b5de(0x1af)]=_0x35642a;const _0x577b14=company[0x0][_0x18b5de(0x16f)][_0x18b5de(0x169)](_0x5aa6df=>_0x5aa6df[_0x18b5de(0x214)]==_0x35642a)?.[_0x18b5de(0x250)]||0x0,_0x35eea5=company[0x0][_0x18b5de(0x16f)][_0x18b5de(0x169)](_0x5afab5=>_0x5afab5[_0x18b5de(0x214)]==_0x35642a)?.[_0x18b5de(0x1c4)]||0x0;baseItem[_0x18b5de(0x26b)]=_0x577b14,baseItem[_0x18b5de(0x206)]=_0x35eea5;}function initializeFormCategoriesBrands(){var _0x22fdb6=_0x181465;baseItem[_0x22fdb6(0x243)]=[],baseItem[_0x22fdb6(0x28a)]=[],document[_0x22fdb6(0x199)](_0x22fdb6(0x204))[_0x22fdb6(0x18f)]='',document['querySelector']('#newItem_categories_select\x20.options_list')['innerHTML']='',document[_0x22fdb6(0x199)](_0x22fdb6(0x1a0))['innerHTML']='',document[_0x22fdb6(0x199)](_0x22fdb6(0x1c2))[_0x22fdb6(0x18f)]='';const _0x2c3e2e=uniqueValuesArray(_0x22fdb6(0x174),'setCategoria',products),_0x3c230e=uniqueValuesArray(_0x22fdb6(0x1ac),_0x22fdb6(0x1ac),products),_0x398179=initMulti(_0x22fdb6(0x21c),_0x2c3e2e),_0x329f5f=initMulti(_0x22fdb6(0x17b),_0x3c230e);document['getElementById']('newItem_categories_select')[_0x22fdb6(0x1a2)]('selectionChange',function(_0x36a6eb){var _0x13e919=_0x22fdb6;baseItem[_0x13e919(0x243)]=_0x398179[_0x13e919(0x261)](_0x3ae5c5=>_0x3ae5c5[_0x13e919(0x189)]);}),document['getElementById'](_0x22fdb6(0x17b))[_0x22fdb6(0x1a2)]('selectionChange',function(_0x64a705){var _0x492fda=_0x22fdb6;baseItem[_0x492fda(0x28a)]=_0x329f5f[_0x492fda(0x261)](_0x40a3cd=>_0x40a3cd['setCode']);});}function initializeFormUnits(){var _0x5f5d57=_0x181465;unitCount=0x0,document[_0x5f5d57(0x1bd)](_0x5f5d57(0x289))[_0x5f5d57(0x18f)]='',baseItem['setItemUnits']=[];var _0x1967a0=uniqueValuesArray(_0x5f5d57(0x281),_0x5f5d57(0x281),products);addUnit('',_0x1967a0[0x0]&&_0x1967a0[0x0]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x4a2ba5=_0x181465;prodC[_0x4a2ba5(0x18f)]='',baseItem[_0x4a2ba5(0x28c)]=[],updateProdItems();}function initializeFormWarehouses(){var _0xf8bc6=_0x181465;branchesC[_0xf8bc6(0x18f)]='',baseItem[_0xf8bc6(0x224)]=[];const _0x3fa087=getAllWarehouses();_0x3fa087[_0xf8bc6(0x20f)](function(_0x85007e){var _0x277ffd=_0xf8bc6,_0x53f0b4=document['createElement'](_0x277ffd(0x1df));_0x53f0b4[_0x277ffd(0x18f)]=_0x277ffd(0x186)+_0x277ffd(0x255)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x85007e[_0x277ffd(0x17a)]+_0x277ffd(0x1d6)+_0x85007e[_0x277ffd(0x240)]+_0x277ffd(0x1fc)+_0x277ffd(0x1b1)+'<div\x20class=\x22newItem_col\x22>'+_0x277ffd(0x170)+_0x85007e[_0x277ffd(0x17a)]+'\x22>'+_0x277ffd(0x1b1)+_0x277ffd(0x255)+_0x277ffd(0x188)+_0x85007e[_0x277ffd(0x17a)]+'\x22>'+_0x277ffd(0x1b1)+'</div>',branchesC[_0x277ffd(0x20a)](_0x53f0b4),_0x53f0b4[_0x277ffd(0x17e)](_0x277ffd(0x25b))['forEach'](function(_0x1a2522){var _0x40bdf9=_0x277ffd;_0x1a2522[_0x40bdf9(0x1a2)](_0x40bdf9(0x25b),updateBranches);});}),updateBranches();}function initializeFormVariants(){baseItem['setItemVariantName']='',baseItem['setItemVariantValues']={},vgC['innerHTML']='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x29685d,_0x417965,_0x4615fb=![]){var _0x2d62ae=_0x181465;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x2d62ae(0x1a4),'setToken':company[0x0][_0x2d62ae(0x1eb)],'setWebhook':company[0x0][_0x2d62ae(0x1c5)],'newItems':_0x417965}),products[_0x2d62ae(0x22c)](..._0x29685d),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x4615fb?(fileInput[_0x2d62ae(0x1c0)]='',uploadBtn[_0x2d62ae(0x1c9)]=!![],statusDiv[_0x2d62ae(0x215)]='',progressBar['style']['display']=_0x2d62ae(0x282),progressBar[_0x2d62ae(0x1c0)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}