/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.7
*/

var _0x109b32=_0x1a91;(function(_0x13f25e,_0x14fa07){var _0x7ed0a9=_0x1a91,_0x401ee2=_0x13f25e();while(!![]){try{var _0x254cfb=-parseInt(_0x7ed0a9(0xdf))/0x1+parseInt(_0x7ed0a9(0x124))/0x2*(-parseInt(_0x7ed0a9(0x12c))/0x3)+-parseInt(_0x7ed0a9(0xe5))/0x4+parseInt(_0x7ed0a9(0x12d))/0x5+parseInt(_0x7ed0a9(0x109))/0x6+parseInt(_0x7ed0a9(0x135))/0x7+-parseInt(_0x7ed0a9(0xed))/0x8*(parseInt(_0x7ed0a9(0x138))/0x9);if(_0x254cfb===_0x14fa07)break;else _0x401ee2['push'](_0x401ee2['shift']());}catch(_0x50d56e){_0x401ee2['push'](_0x401ee2['shift']());}}}(_0x4fb8,0x66109));var _0x361344=(function(){var _0x10c6e7=!![];return function(_0xbe122f,_0x4c3618){var _0x4502f1=_0x10c6e7?function(){var _0x213567=_0x1a91;if(_0x4c3618){var _0x71438f=_0x4c3618[_0x213567(0xdb)](_0xbe122f,arguments);return _0x4c3618=null,_0x71438f;}}:function(){};return _0x10c6e7=![],_0x4502f1;};}()),_0x376b01=_0x361344(this,function(){var _0x1de97b=_0x1a91;return _0x376b01['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x1de97b(0x132)](_0x376b01)['search'](_0x1de97b(0xde));});_0x376b01();var _0x443e0a=(function(){var _0x4adbff=!![];return function(_0x50fbd1,_0x2c9e6c){var _0x2df078=_0x4adbff?function(){var _0x455508=_0x1a91;if(_0x2c9e6c){var _0xa7f684=_0x2c9e6c[_0x455508(0xdb)](_0x50fbd1,arguments);return _0x2c9e6c=null,_0xa7f684;}}:function(){};return _0x4adbff=![],_0x2df078;};}()),_0x2fcd60=_0x443e0a(this,function(){var _0x4802ed=_0x1a91,_0x1b407a=function(){var _0x23a6d6=_0x1a91,_0x2b80a1;try{_0x2b80a1=Function('return\x20(function()\x20'+_0x23a6d6(0xec)+');')();}catch(_0x2238b0){_0x2b80a1=window;}return _0x2b80a1;},_0x55f3dd=_0x1b407a(),_0x1cc2cb=_0x55f3dd[_0x4802ed(0x125)]=_0x55f3dd[_0x4802ed(0x125)]||{},_0x5f58e2=['log',_0x4802ed(0x107),_0x4802ed(0x147),_0x4802ed(0x12a),_0x4802ed(0x115),_0x4802ed(0xe3),_0x4802ed(0xe9)];for(var _0x211f70=0x0;_0x211f70<_0x5f58e2[_0x4802ed(0x120)];_0x211f70++){var _0x3428c2=_0x443e0a[_0x4802ed(0x132)]['prototype'][_0x4802ed(0xfb)](_0x443e0a),_0x36b2a6=_0x5f58e2[_0x211f70],_0x23b4c3=_0x1cc2cb[_0x36b2a6]||_0x3428c2;_0x3428c2[_0x4802ed(0xdc)]=_0x443e0a[_0x4802ed(0xfb)](_0x443e0a),_0x3428c2[_0x4802ed(0x10f)]=_0x23b4c3[_0x4802ed(0x10f)][_0x4802ed(0xfb)](_0x23b4c3),_0x1cc2cb[_0x36b2a6]=_0x3428c2;}});_0x2fcd60();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x2f8923,_0x516e77){var _0x33c131=_0x1a91;if(!isOnline())return console['log']('Error\x20Network.'),Promise[_0x33c131(0xfa)](_0x33c131(0x12b));const _0x5cf576={'setAuthToken':_0x2f8923,'setUsers':_0x516e77};return fetch(_0x33c131(0xf0),{'method':_0x33c131(0xff),'headers':{'Content-Type':_0x33c131(0x102)},'body':JSON['stringify'](_0x5cf576)})[_0x33c131(0x11d)](_0x560a41=>{var _0x452bd2=_0x33c131;if(!_0x560a41['ok'])throw new Error('Error\x20Sync:\x20'+_0x560a41['statusText']);return _0x560a41[_0x452bd2(0x13b)]();})['then'](_0x21b600=>{var _0x32b464=_0x33c131;if(!_0x21b600[_0x32b464(0x139)])throw new Error(_0x21b600[_0x32b464(0xeb)]||_0x32b464(0x10a));return console[_0x32b464(0x136)](_0x32b464(0x126)),_0x21b600;})[_0x33c131(0xea)](_0x2fbc1e=>{var _0x1733b6=_0x33c131;console[_0x1733b6(0x12a)](_0x1733b6(0xdd),_0x2fbc1e);throw _0x2fbc1e;});}function _0x1a91(_0x385c3b,_0x53cb81){var _0x3a7aa9=_0x4fb8();return _0x1a91=function(_0x2fcd60,_0x443e0a){_0x2fcd60=_0x2fcd60-0xda;var _0x46bda9=_0x3a7aa9[_0x2fcd60];return _0x46bda9;},_0x1a91(_0x385c3b,_0x53cb81);}async function apiERPsyncUsers(){var _0x33d91c=_0x1a91;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x33d91c(0x110)],company[0x0][_0x33d91c(0x10c)]));}function generatePermissionsPanel(_0x951aa3){var _0x15c898=_0x1a91,_0x51ef46=document[_0x15c898(0x10b)](_0x15c898(0xe4));_0x51ef46[_0x15c898(0x129)]='';var _0x43c3f2=_0x951aa3[0x0]&&_0x951aa3[0x0][_0x15c898(0x10c)]||[],_0x44e983=_0x951aa3[0x0]&&_0x951aa3[0x0]['setTipoOperaciones']||[];for(var _0x39d194=0x0;_0x39d194<_0x43c3f2[_0x15c898(0x120)];_0x39d194++){var _0x38d30e=_0x43c3f2[_0x39d194],_0x1caf65=document[_0x15c898(0xfd)](_0x15c898(0xf5));_0x1caf65[_0x15c898(0x13e)]=_0x15c898(0x113),_0x1caf65['id']=_0x15c898(0x137)+_0x39d194;var _0x3c3d7f=document[_0x15c898(0xfd)]('h3');_0x3c3d7f[_0x15c898(0x13e)]=_0x15c898(0xe7),_0x3c3d7f[_0x15c898(0x127)]=_0x38d30e[_0x15c898(0xe2)]||_0x15c898(0x12e)+(_0x39d194+0x1),_0x1caf65[_0x15c898(0x11b)](_0x3c3d7f);var _0x3a2ef0=document[_0x15c898(0xfd)](_0x15c898(0xf5));_0x3a2ef0[_0x15c898(0x13e)]=_0x15c898(0x145);for(var _0x26e515=0x0;_0x26e515<_0x38d30e['setPermissions'][_0x15c898(0x120)];_0x26e515++){var _0x3b2304=_0x38d30e[_0x15c898(0xf3)][_0x26e515],_0x995967=document[_0x15c898(0xfd)](_0x15c898(0xf5));_0x995967['className']='userPerm_item',_0x995967[_0x15c898(0x14b)][_0x15c898(0x111)]=_0x39d194,_0x995967['dataset'][_0x15c898(0x130)]=_0x26e515;var _0x4c095a=Number(_0x3b2304[_0x15c898(0xf6)]),_0x475827=document['createElement']('select');_0x475827['className']=_0x15c898(0x10e),_0x475827[_0x15c898(0x12f)]=!![];if(BOOLEAN_PERMS[_0x15c898(0x121)](_0x3b2304[_0x15c898(0x100)])!==-0x1){var _0x31cc46=document[_0x15c898(0xfd)](_0x15c898(0x146));_0x31cc46[_0x15c898(0x14c)]='0',_0x31cc46['textContent']=_0x3b2304[_0x15c898(0x13f)],_0x475827[_0x15c898(0x11b)](_0x31cc46);var _0x5e2591=document[_0x15c898(0xfd)]('option');_0x5e2591['value']='1',_0x5e2591[_0x15c898(0x127)]=_0x3b2304[_0x15c898(0x13d)],_0x475827[_0x15c898(0x11b)](_0x5e2591),_0x475827['value']=String(_0x4c095a);}else{if(_0x3b2304[_0x15c898(0x100)]===0x9||_0x3b2304[_0x15c898(0x100)]===0xc||_0x3b2304[_0x15c898(0x100)]===0x12){if(_0x3b2304['setPermissionId']===0x9){var _0x2bd72b=document[_0x15c898(0xfd)](_0x15c898(0x146));_0x2bd72b[_0x15c898(0x14c)]='0',_0x2bd72b['textContent']=_0x3b2304[_0x15c898(0x13f)],_0x475827[_0x15c898(0x11b)](_0x2bd72b);for(var _0x42ff8b=0x0;_0x42ff8b<_0x44e983[_0x15c898(0x120)];_0x42ff8b++){var _0x8a798d=_0x44e983[_0x42ff8b],_0x13fb13=document[_0x15c898(0xfd)]('option');_0x13fb13[_0x15c898(0x14c)]=String(_0x8a798d[_0x15c898(0x13a)]),_0x13fb13[_0x15c898(0x127)]=_0x8a798d[_0x15c898(0x144)],_0x475827[_0x15c898(0x11b)](_0x13fb13);}}if(_0x3b2304['setPermissionId']===0xc)for(var _0x42ff8b=0x1;_0x42ff8b<=0x4;_0x42ff8b++){var _0x8a798d=_0x42ff8b,_0x13fb13=document[_0x15c898(0xfd)]('option');_0x13fb13['value']=String(_0x8a798d),_0x13fb13[_0x15c898(0x127)]=_0x15c898(0x101)+_0x8a798d,_0x475827['appendChild'](_0x13fb13);}if(_0x3b2304[_0x15c898(0x100)]===0x12){var _0xff7ba7=myCompany&&myCompany['setEmailCredentials']||[],_0x2bd72b=document['createElement'](_0x15c898(0x146));_0x2bd72b[_0x15c898(0x14c)]='0',_0x2bd72b[_0x15c898(0x127)]=_0x3b2304[_0x15c898(0x13f)],_0x475827[_0x15c898(0x11b)](_0x2bd72b);for(var _0x42ff8b=0x0;_0x42ff8b<_0xff7ba7[_0x15c898(0x120)];_0x42ff8b++){var _0x8a798d=_0xff7ba7[_0x42ff8b],_0x13fb13=document['createElement'](_0x15c898(0x146));_0x13fb13[_0x15c898(0x14c)]=String(_0x8a798d[_0x15c898(0x133)]),_0x13fb13[_0x15c898(0x127)]=_0x8a798d[_0x15c898(0x141)],_0x475827[_0x15c898(0x11b)](_0x13fb13);}}_0x475827[_0x15c898(0x14c)]=String(_0x4c095a);}}_0x995967[_0x15c898(0x11b)](_0x475827),_0x3a2ef0[_0x15c898(0x11b)](_0x995967);}_0x1caf65['appendChild'](_0x3a2ef0);var _0x49dd6a=document['createElement'](_0x15c898(0x11e));_0x49dd6a[_0x15c898(0x13e)]='userPerm_editBtn',_0x49dd6a['textContent']=_0x15c898(0x123),_0x49dd6a['dataset'][_0x15c898(0x111)]=_0x39d194;var _0x2d1d2c=document[_0x15c898(0xfd)](_0x15c898(0x11e));_0x2d1d2c[_0x15c898(0x13e)]='userPerm_saveBtn',_0x2d1d2c['textContent']=_0x15c898(0x13c),_0x2d1d2c[_0x15c898(0x14b)][_0x15c898(0x111)]=_0x39d194,_0x2d1d2c[_0x15c898(0x103)]['display']='none',_0x1caf65[_0x15c898(0x11b)](_0x49dd6a),_0x1caf65['appendChild'](_0x2d1d2c),_0x51ef46[_0x15c898(0x11b)](_0x1caf65),_0x49dd6a[_0x15c898(0xfe)](_0x15c898(0x105),onEditClick),_0x2d1d2c['addEventListener'](_0x15c898(0x105),onSaveClick);}}function onEditClick(_0x7f6860){var _0x472f66=_0x1a91,_0x2920c7=_0x7f6860[_0x472f66(0x104)][_0x472f66(0x14b)][_0x472f66(0x111)],_0x223d6c=document[_0x472f66(0x10b)](_0x472f66(0x137)+_0x2920c7),_0x37315e=_0x223d6c[_0x472f66(0xf2)](_0x472f66(0x10e));for(var _0x4d9edc=0x0;_0x4d9edc<_0x37315e[_0x472f66(0x120)];_0x4d9edc++){_0x37315e[_0x4d9edc][_0x472f66(0x12f)]=![];}_0x223d6c['querySelector'](_0x472f66(0xef))[_0x472f66(0x103)][_0x472f66(0xf7)]=_0x472f66(0x149),_0x223d6c['querySelector'](_0x472f66(0xe8))['style'][_0x472f66(0xf7)]=_0x472f66(0x14a),_0x223d6c['className']=_0x472f66(0x122);}async function onSaveClick(_0x25b5ae){var _0x34f156=_0x1a91,_0x262545=_0x25b5ae['target']['dataset']['userIndex'],_0x4be2ee=document['getElementById']('userPerm_container_'+_0x262545),_0x168979=_0x4be2ee[_0x34f156(0xf2)]('userPerm_item');for(var _0x4e8d8a=0x0;_0x4e8d8a<_0x168979[_0x34f156(0x120)];_0x4e8d8a++){var _0x17b476=_0x168979[_0x4e8d8a],_0xeb948a=parseInt(_0x17b476[_0x34f156(0x14b)][_0x34f156(0x111)],0xa),_0x242279=parseInt(_0x17b476[_0x34f156(0x14b)][_0x34f156(0x130)],0xa),_0x17fd0a=company[0x0][_0x34f156(0x10c)][_0xeb948a][_0x34f156(0xf3)][_0x242279],_0x2d2619=_0x17b476['getElementsByClassName']('userPerm_select')[0x0],_0x241279=_0x2d2619[_0x34f156(0x14c)];_0x17fd0a[_0x34f156(0xf6)]=_0x241279,_0x2d2619[_0x34f156(0x12f)]=!![],company[0x0][_0x34f156(0x10c)][_0xeb948a][_0x34f156(0x112)]=new Date();}const _0x274f87=await createCartStore('');await saveCompanyToIndexedDB(company,_0x274f87),_0x4be2ee[_0x34f156(0x108)](_0x34f156(0xe8))[_0x34f156(0x103)]['display']=_0x34f156(0x149),_0x4be2ee[_0x34f156(0x108)](_0x34f156(0xef))[_0x34f156(0x103)][_0x34f156(0xf7)]=_0x34f156(0x11f),_0x4be2ee['className']=_0x34f156(0x113),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x2912b7=_0x1a91,_0x527d57=document[_0x2912b7(0x10b)](_0x2912b7(0x114));return _0x527d57[_0x2912b7(0x129)]='',createCartStore('')[_0x2912b7(0x11d)](function(_0x2f509c){var _0x49dce5=_0x2912b7,_0x288d79=_0x2f509c[_0x49dce5(0xf1)](_0x49dce5(0x11a),_0x49dce5(0x11c)),_0x411ff6=_0x288d79[_0x49dce5(0x134)](_0x49dce5(0x11a));return new Promise(function(_0x3b511e,_0x5c88be){var _0x20437b=_0x49dce5,_0x38fc57=_0x411ff6[_0x20437b(0xf8)]();_0x38fc57['onsuccess']=function(){_0x3b511e(_0x38fc57['result']);},_0x38fc57['onerror']=function(){var _0x5b98d9=_0x20437b;_0x5c88be(_0x38fc57[_0x5b98d9(0x12a)]);};});})[_0x2912b7(0x11d)](function(_0x4ad62d){var _0x1d8eee=_0x2912b7,_0x24b53c=[];for(var _0xcc89b8=0x0;_0xcc89b8<_0x4ad62d['length'];_0xcc89b8++){_0x4ad62d[_0xcc89b8]['apiPOSsendOffline']==0x1&&_0x24b53c[_0x1d8eee(0x128)](_0x4ad62d[_0xcc89b8]);}if(_0x24b53c[_0x1d8eee(0x120)]===0x0){_0x527d57[_0x1d8eee(0x127)]=_0x1d8eee(0xf4);return;}var _0xdb5815=document[_0x1d8eee(0xfd)](_0x1d8eee(0xe3));_0xdb5815[_0x1d8eee(0x13e)]=_0x1d8eee(0x118);var _0x50d361=document['createElement'](_0x1d8eee(0x142)),_0x3cc537=document['createElement']('tr');[_0x1d8eee(0x10d),_0x1d8eee(0x116),_0x1d8eee(0xda),_0x1d8eee(0x148),_0x1d8eee(0xe6)][_0x1d8eee(0x119)](function(_0x50abd5){var _0x163383=_0x1d8eee,_0x239bd6=document[_0x163383(0xfd)]('th');_0x239bd6['textContent']=_0x50abd5,_0x3cc537[_0x163383(0x11b)](_0x239bd6);}),_0x50d361[_0x1d8eee(0x11b)](_0x3cc537),_0xdb5815[_0x1d8eee(0x11b)](_0x50d361);var _0x248bc4=document[_0x1d8eee(0xfd)]('tbody');_0x24b53c['forEach'](function(_0x239f3b){var _0x2d2189=_0x1d8eee,_0x10cf64=document[_0x2d2189(0xfd)]('tr'),_0x2ca42c=[_0x239f3b['setTipoOperacion'],_0x239f3b[_0x2d2189(0xe1)],_0x239f3b[_0x2d2189(0xfc)],_0x239f3b['setFechaHora'],_0x239f3b['setMessage']||''];_0x2ca42c['forEach'](function(_0x554804){var _0x4d3ec6=_0x2d2189,_0x3b96bc=document[_0x4d3ec6(0xfd)]('td');_0x3b96bc[_0x4d3ec6(0x127)]=_0x554804,_0x10cf64['appendChild'](_0x3b96bc);}),_0x248bc4[_0x2d2189(0x11b)](_0x10cf64);}),_0xdb5815[_0x1d8eee(0x11b)](_0x248bc4),_0x527d57[_0x1d8eee(0x11b)](_0xdb5815);})[_0x2912b7(0xea)](function(_0x563599){var _0x46833d=_0x2912b7;console[_0x46833d(0x12a)]('Error\x20leyendo\x20operaciones:',_0x563599),_0x527d57[_0x46833d(0x127)]=_0x46833d(0x117);});}window[_0x109b32(0xf9)]=function(){var _0x5aae27=_0x109b32;const _0x2b335b=0x2;loadLoginContent(_0x5aae27(0xe0)),setUserNameGet(),setEventBtnAccess();const _0x20cde4=document['querySelector']('.btn-logout');_0x20cde4&&_0x20cde4[_0x5aae27(0xfe)](_0x5aae27(0x105),function(){logoutReload(0x0,_0x2b335b);}),document['getElementById'](_0x5aae27(0xee))[_0x5aae27(0xfe)](_0x5aae27(0x131),async function(){const _0x22a52f=parseInt(this['value']);company[0x0]['setBranchDefault']=_0x22a52f;const _0x53b7ff=await createCartStore('');await saveCompanyToIndexedDB(company,_0x53b7ff),cargarAlmacenes(_0x22a52f),setTimeout(()=>{var _0x8b6908=_0x1a91;document[_0x8b6908(0x10b)](_0x8b6908(0x106))[_0x8b6908(0x140)](new Event(_0x8b6908(0x131)));},0x64),cargarPisos(_0x22a52f),setTimeout(()=>{var _0x296333=_0x1a91;document[_0x296333(0x10b)](_0x296333(0x143))[_0x296333(0x140)](new Event(_0x296333(0x131)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2b335b);};function _0x4fb8(){var _0x5b7b64=['panel_operations','exception','Serie','Error\x20cargando\x20operaciones.','offlineOps_table','forEach','offline_operations','appendChild','readonly','then','button','inline-block','length','indexOf','userPerm_container\x20border_orange','Editar','14602sPdrbM','console','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','textContent','push','innerHTML','error','Error\x20Network.','45jRhGNV','2706475EimHTZ','Usuario\x20','disabled','permIndex','change','constructor','setEmailCredentialsId','objectStore','5087425ZBQxFG','log','userPerm_container_','13833lCjcQt','success','setTipoOperacionCodigo','json','Guardar','setPermissionNameTrue','className','setPermissionNameFalse','dispatchEvent','setEmailCredentialsSenderEmail','thead','setFloorId','setTipoOperacionName','userPerm_list','option','info','Fecha','none','block','dataset','value','Correlativo','apply','__proto__','Error\x20al\x20actualizar\x20data\x20online:','(((.+)+)+)+$','296154giXqmr','./img/apiPOS.png','setSerie','setUserFullName','table','panel_users','2255924xOFule','Motivo','userPerm_header','.userPerm_saveBtn','trace','catch','message','{}.constructor(\x22return\x20this\x22)(\x20)','3496uiDGBW','setBranchId','.userPerm_editBtn','https://apierp.dev/api/users/update/','transaction','getElementsByClassName','setPermissions','No\x20hay\x20operaciones\x20pendientes.','div','setPermissionValue','display','getAll','onload','reject','bind','setCorrelativo','createElement','addEventListener','POST','setPermissionId','Número\x20de\x20Decimales:\x20','application/json','style','target','click','setWarehouseId','warn','querySelector','4747836HGkPAJ','Error\x20desconocido\x20al\x20actualizar\x20Data.','getElementById','setUsers','Tipo','userPerm_select','toString','setAuthToken','userIndex','setLastDateUpdate','userPerm_container\x20border_blue'];_0x4fb8=function(){return _0x5b7b64;};return _0x4fb8();}