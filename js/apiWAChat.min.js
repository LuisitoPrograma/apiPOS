/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.6
*/

const _0x6f91c2=_0x1aa2;function _0x1aa2(_0x570716,_0x37a7f2){const _0xb3178=_0x2758();return _0x1aa2=function(_0x2467c1,_0x5ce3e3){_0x2467c1=_0x2467c1-0xef;let _0x43e68d=_0xb3178[_0x2467c1];return _0x43e68d;},_0x1aa2(_0x570716,_0x37a7f2);}(function(_0x22da85,_0x468525){const _0x2dbdd7=_0x1aa2,_0x9522db=_0x22da85();while(!![]){try{const _0x308fe8=parseInt(_0x2dbdd7(0x106))/0x1*(parseInt(_0x2dbdd7(0x100))/0x2)+-parseInt(_0x2dbdd7(0xf4))/0x3+parseInt(_0x2dbdd7(0xf2))/0x4*(-parseInt(_0x2dbdd7(0x11c))/0x5)+-parseInt(_0x2dbdd7(0x10a))/0x6*(-parseInt(_0x2dbdd7(0xf5))/0x7)+parseInt(_0x2dbdd7(0x10e))/0x8+parseInt(_0x2dbdd7(0x122))/0x9*(parseInt(_0x2dbdd7(0x120))/0xa)+-parseInt(_0x2dbdd7(0x116))/0xb;if(_0x308fe8===_0x468525)break;else _0x9522db['push'](_0x9522db['shift']());}catch(_0x946e51){_0x9522db['push'](_0x9522db['shift']());}}}(_0x2758,0xf19e3));const _0x5945ef=(function(){let _0x1ad5e4=!![];return function(_0x3e4161,_0xa2f302){const _0x2c21bc=_0x1ad5e4?function(){const _0x5d150a=_0x1aa2;if(_0xa2f302){const _0x14ccbb=_0xa2f302[_0x5d150a(0x123)](_0x3e4161,arguments);return _0xa2f302=null,_0x14ccbb;}}:function(){};return _0x1ad5e4=![],_0x2c21bc;};}()),_0x13a308=_0x5945ef(this,function(){const _0x11dadf=_0x1aa2;return _0x13a308[_0x11dadf(0xf9)]()[_0x11dadf(0x110)]('(((.+)+)+)+$')[_0x11dadf(0xf9)]()[_0x11dadf(0x11d)](_0x13a308)[_0x11dadf(0x110)](_0x11dadf(0x10b));});_0x13a308();const _0x5ce3e3=(function(){let _0x4fdc15=!![];return function(_0x1cb36f,_0x5b266b){const _0x59fe31=_0x4fdc15?function(){const _0x3adf56=_0x1aa2;if(_0x5b266b){const _0x3e77c4=_0x5b266b[_0x3adf56(0x123)](_0x1cb36f,arguments);return _0x5b266b=null,_0x3e77c4;}}:function(){};return _0x4fdc15=![],_0x59fe31;};}()),_0x2467c1=_0x5ce3e3(this,function(){const _0x22958f=_0x1aa2,_0x5365fd=function(){const _0x490dd9=_0x1aa2;let _0xbc15e4;try{_0xbc15e4=Function(_0x490dd9(0xef)+_0x490dd9(0x12e)+');')();}catch(_0x17d326){_0xbc15e4=window;}return _0xbc15e4;},_0x7e5b7d=_0x5365fd(),_0x3ab62f=_0x7e5b7d[_0x22958f(0xfd)]=_0x7e5b7d[_0x22958f(0xfd)]||{},_0x56e974=[_0x22958f(0xf6),_0x22958f(0xf0),_0x22958f(0x126),_0x22958f(0x112),_0x22958f(0xf3),_0x22958f(0x113),_0x22958f(0x109)];for(let _0x3111bc=0x0;_0x3111bc<_0x56e974[_0x22958f(0xff)];_0x3111bc++){const _0x37a545=_0x5ce3e3[_0x22958f(0x11d)][_0x22958f(0x11e)][_0x22958f(0x10c)](_0x5ce3e3),_0x1a291a=_0x56e974[_0x3111bc],_0x47e2af=_0x3ab62f[_0x1a291a]||_0x37a545;_0x37a545[_0x22958f(0x12f)]=_0x5ce3e3[_0x22958f(0x10c)](_0x5ce3e3),_0x37a545[_0x22958f(0xf9)]=_0x47e2af[_0x22958f(0xf9)][_0x22958f(0x10c)](_0x47e2af),_0x3ab62f[_0x1a291a]=_0x37a545;}});_0x2467c1();const selectCredentialsApiWAChat=document[_0x6f91c2(0x118)](_0x6f91c2(0x111)),loginPanel=document[_0x6f91c2(0x118)](_0x6f91c2(0xfb)),chatPanel=document[_0x6f91c2(0x118)](_0x6f91c2(0x127)),qrImg=document[_0x6f91c2(0x118)](_0x6f91c2(0xf8)),overlay=document[_0x6f91c2(0x118)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x46e1e1=_0x6f91c2;loginPanel[_0x46e1e1(0xfc)]['display']=_0x46e1e1(0x121),chatPanel[_0x46e1e1(0xfc)][_0x46e1e1(0x107)]='hidden';}function showChat(){const _0x5620ca=_0x6f91c2;loginPanel['style']['display']=_0x5620ca(0x128),chatPanel[_0x5620ca(0xfc)][_0x5620ca(0x107)]=_0x5620ca(0x119);}async function displayQR(_0x332d84){const _0x1a0ac7=_0x6f91c2,_0x352020=selectCredentialsApiWAChat[_0x1a0ac7(0x12c)],_0x188b6c=getCredentialsApiWAChat(_0x352020);if(_0x188b6c){const _0x2befec=_0x188b6c['setCredentialsApiWAChatSubdomain'],_0x45784c=_0x188b6c[_0x1a0ac7(0x105)];clearTimeout(qrTimeout),overlay[_0x1a0ac7(0xfc)]['display']=_0x1a0ac7(0x128),qrImg[_0x1a0ac7(0xfe)]=_0x332d84,qrTimeout=setTimeout(()=>{const _0x369594=_0x1a0ac7;fetch(_0x369594(0x12a)+_0x2befec+_0x369594(0x104)+_0x45784c+_0x369594(0x114),{'headers':{'x-auth-token':myCompany[_0x369594(0x101)]}})[_0x369594(0x124)](async _0x25c81a=>_0x25c81a[_0x369594(0x125)]())[_0x369594(0x124)](async _0x2b12fb=>{const _0x5737ac=_0x369594;_0x2b12fb[_0x5737ac(0x11b)]&&_0x2b12fb[_0x5737ac(0x11b)][_0x5737ac(0x10f)]()[_0x5737ac(0x11f)]('ya\x20conectado')?(showChat(),_0x188b6c[_0x5737ac(0xf1)]=0x1):(overlay['style'][_0x5737ac(0x102)]=_0x5737ac(0x121),_0x188b6c['setCredentialsApiWAChatStatus']=0x0);const _0x3a6f2f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3a6f2f);})[_0x369594(0x117)](_0x140b80=>{const _0x4ac231=_0x369594;console['error'](_0x4ac231(0xf7),_0x140b80),overlay[_0x4ac231(0xfc)][_0x4ac231(0x102)]=_0x4ac231(0x121);});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}async function init(){const _0x27b068=_0x6f91c2,_0x29f6c2=selectCredentialsApiWAChat[_0x27b068(0x12c)],_0x4aaf50=getCredentialsApiWAChat(_0x29f6c2);if(_0x4aaf50){const _0x313dab=_0x4aaf50['setCredentialsApiWAChatSubdomain'],_0x5a995e=_0x4aaf50[_0x27b068(0x105)];fetch('https://'+_0x313dab+_0x27b068(0x104)+_0x5a995e+_0x27b068(0x114),{'headers':{'x-auth-token':myCompany[_0x27b068(0x101)]}})[_0x27b068(0x124)](async _0x481e41=>_0x481e41[_0x27b068(0x125)]())[_0x27b068(0x124)](async _0x5f0156=>{const _0x387f2a=_0x27b068;if(_0x5f0156[_0x387f2a(0x11b)]&&_0x5f0156['status'][_0x387f2a(0x10f)]()['includes'](_0x387f2a(0x11a)))showChat(),_0x4aaf50['setCredentialsApiWAChatStatus']=0x1;else _0x5f0156['qr']&&(showLogin(),displayQR(_0x5f0156['qr']),_0x4aaf50['setCredentialsApiWAChatStatus']=0x0);const _0x5029ba=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5029ba);})[_0x27b068(0x117)](console[_0x27b068(0x112)]);}else ntfShow(_0x27b068(0x115));}overlay[_0x6f91c2(0x103)](_0x6f91c2(0x108),init),window['onload']=function(){const _0x38f860=_0x6f91c2,_0x15760a=0x4;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x3d1e20=document['querySelector']('.btn-logout');_0x3d1e20&&_0x3d1e20['addEventListener'](_0x38f860(0x108),function(){logoutReload(0x0,_0x15760a);}),document[_0x38f860(0x118)]('setBranchId')[_0x38f860(0x103)](_0x38f860(0x12d),async function(){const _0x3c0188=_0x38f860,_0x124469=parseInt(this['value']);myCompany[_0x3c0188(0xfa)]=_0x124469,saveCredentialsApiWAChatInCompany();const _0x4a4aea=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4a4aea),cargarAlmacenes(_0x124469),setTimeout(()=>{const _0x37df05=_0x3c0188;document[_0x37df05(0x118)](_0x37df05(0x12b))[_0x37df05(0x10d)](new Event(_0x37df05(0x12d)));},0x64),cargarPisos(_0x124469),setTimeout(()=>{const _0x56e775=_0x3c0188;document['getElementById'](_0x56e775(0x129))['dispatchEvent'](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x15760a);};function _0x2758(){const _0x5128a7=['setFloorId','https://','setWarehouseId','value','change','{}.constructor(\x22return\x20this\x22)(\x20)','__proto__','return\x20(function()\x20','warn','setCredentialsApiWAChatStatus','2057204YzqyOg','exception','5794407SeyFpc','280aObWLd','log','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','qr-img','toString','setBranchDefault','loginPanel','style','console','src','length','9848nbQvBe','setAuthToken','display','addEventListener','/wa/','setCredentialsApiWAChatPort','361ElzDpy','visibility','click','trace','77286cyVTVC','(((.+)+)+)+$','bind','dispatchEvent','7895008vlBeWb','toLowerCase','search','setCredentialsApiWAChat','error','table','/qr','Credenciales\x20no\x20encontradas','102025xJWvRd','catch','getElementById','visible','ya\x20conectado','status','15EbNDTP','constructor','prototype','includes','1989390BSYQww','flex','54UowomU','apply','then','json','info','chatPanel','none'];_0x2758=function(){return _0x5128a7;};return _0x2758();}