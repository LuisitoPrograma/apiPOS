/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.5
*/

const _0x56e222=_0x5407;(function(_0x1ee6ef,_0xa2e925){const _0x527268=_0x5407,_0x85c29c=_0x1ee6ef();while(!![]){try{const _0x11b256=-parseInt(_0x527268(0x272))/0x1+-parseInt(_0x527268(0x24b))/0x2+-parseInt(_0x527268(0x25f))/0x3*(-parseInt(_0x527268(0x255))/0x4)+-parseInt(_0x527268(0x1d8))/0x5+parseInt(_0x527268(0x26c))/0x6+-parseInt(_0x527268(0x227))/0x7+-parseInt(_0x527268(0x1fe))/0x8*(-parseInt(_0x527268(0x290))/0x9);if(_0x11b256===_0xa2e925)break;else _0x85c29c['push'](_0x85c29c['shift']());}catch(_0x8eba7d){_0x85c29c['push'](_0x85c29c['shift']());}}}(_0x5021,0x4350d));const _0x4e2562=(function(){let _0x124fbe=!![];return function(_0xc6d371,_0x1bcebd){const _0x204788=_0x124fbe?function(){const _0xbaae0f=_0x5407;if(_0x1bcebd){const _0x21afbe=_0x1bcebd[_0xbaae0f(0x13e)](_0xc6d371,arguments);return _0x1bcebd=null,_0x21afbe;}}:function(){};return _0x124fbe=![],_0x204788;};}()),_0x9a14a4=_0x4e2562(this,function(){const _0x4d890e=_0x5407;return _0x9a14a4[_0x4d890e(0x239)]()[_0x4d890e(0x1ce)](_0x4d890e(0x18e))['toString']()[_0x4d890e(0x155)](_0x9a14a4)[_0x4d890e(0x1ce)](_0x4d890e(0x18e));});_0x9a14a4();const _0x916c96=(function(){let _0x3c17d3=!![];return function(_0x5b3318,_0x41638d){const _0x3f5355=_0x3c17d3?function(){if(_0x41638d){const _0x690518=_0x41638d['apply'](_0x5b3318,arguments);return _0x41638d=null,_0x690518;}}:function(){};return _0x3c17d3=![],_0x3f5355;};}()),_0x3bc5e8=_0x916c96(this,function(){const _0x42057a=_0x5407,_0x5c193e=function(){const _0x4111ce=_0x5407;let _0x23e502;try{_0x23e502=Function(_0x4111ce(0x194)+_0x4111ce(0x1ed)+');')();}catch(_0x1d5f16){_0x23e502=window;}return _0x23e502;},_0x20f526=_0x5c193e(),_0x1aa8c1=_0x20f526[_0x42057a(0x19c)]=_0x20f526[_0x42057a(0x19c)]||{},_0x510fbf=['log',_0x42057a(0x1a2),_0x42057a(0x1dc),'error',_0x42057a(0x1c7),_0x42057a(0xfc),'trace'];for(let _0x3c5611=0x0;_0x3c5611<_0x510fbf[_0x42057a(0x1c4)];_0x3c5611++){const _0x2291aa=_0x916c96['constructor'][_0x42057a(0x190)][_0x42057a(0x22a)](_0x916c96),_0x503d3d=_0x510fbf[_0x3c5611],_0x22b122=_0x1aa8c1[_0x503d3d]||_0x2291aa;_0x2291aa[_0x42057a(0x224)]=_0x916c96[_0x42057a(0x22a)](_0x916c96),_0x2291aa[_0x42057a(0x239)]=_0x22b122[_0x42057a(0x239)][_0x42057a(0x22a)](_0x22b122),_0x1aa8c1[_0x503d3d]=_0x2291aa;}});_0x3bc5e8();let myCompany,db=null,dbPromise=null,db_name=_0x56e222(0x24e),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];function _0x5407(_0x1a9c36,_0x17a615){const _0x284431=_0x5021();return _0x5407=function(_0x3bc5e8,_0x916c96){_0x3bc5e8=_0x3bc5e8-0xf6;let _0x43c02f=_0x284431[_0x3bc5e8];return _0x43c02f;},_0x5407(_0x1a9c36,_0x17a615);}const monthsEspanish=['enero','febrero',_0x56e222(0x139),_0x56e222(0x169),_0x56e222(0x1ee),'junio',_0x56e222(0x1f3),_0x56e222(0x25a),_0x56e222(0x141),_0x56e222(0x12f),_0x56e222(0x26f),_0x56e222(0x249)],gdfg5g=_0x56e222(0x11a),x45fgd='x3',xjehd78=_0x56e222(0x258),cxkdj4=_0x56e222(0x299),x87s8d=_0x56e222(0x28c),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x56e222(0x20f),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x56e222(0x176),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x56e222(0x11f),xg123f=_0x56e222(0x162),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x56e222(0x102),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x56e222(0x2af),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x56e222(0x10b),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x56e222(0x2aa),x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33=_0x56e222(0x16d),kkx12='s',ak47r='rgf4x32',d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x56e222(0x275),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x56e222(0x11c),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x56e222(0x267),'S02',_0x56e222(0xfb),_0x56e222(0x14b),'ar21',_0x56e222(0x18f),_0x56e222(0x187),_0x56e222(0x1d4),_0x56e222(0x28e),_0x56e222(0xf9),_0x56e222(0xf8)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x56e222(0x212)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x56e222(0x2a5),_0x56e222(0x29e),_0x56e222(0x177),'CL0',_0x56e222(0x193),_0x56e222(0x19f)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x56e222(0x212)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x56e222(0x212)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders['concat'](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x350b89){const _0x8a680a=_0x56e222,_0x7224db=new URLSearchParams(window[_0x8a680a(0x276)]['search']);return _0x7224db['get'](_0x350b89);}function setUserNameGet(){const _0x233ebe=_0x56e222,_0x1c0351=getQueryParam(_0x233ebe(0x1e4)),_0x1bc51a=document[_0x233ebe(0x137)](_0x233ebe(0x23c));_0x1c0351&&_0x1bc51a&&(_0x1bc51a[_0x233ebe(0x1a6)]=_0x1c0351);}function generateUniqId(){const _0x321799=_0x56e222;return Date[_0x321799(0x22f)]()+'_'+Math[_0x321799(0x158)]()['toString'](0x24)[_0x321799(0x1a7)](0x2,0x9);}function generateNumericUniqId(){const _0x2edbbb=_0x56e222,_0x465966=Date['now']()*0x3e8,_0x478573=Math[_0x2edbbb(0x195)](Math[_0x2edbbb(0x158)]()*0x3e8);return _0x465966+_0x478573;}function blobAStringBase64(_0x15033b){return new Promise((_0x43c2d9,_0x246b86)=>{const _0x5b1375=_0x5407,_0x279df1=new FileReader();_0x279df1[_0x5b1375(0x104)]=()=>{const _0x44bd84=_0x5b1375,_0x145b0b=_0x279df1[_0x44bd84(0x110)],_0x735e84=_0x145b0b[_0x44bd84(0x1f5)](',');if(_0x735e84['length']!==0x2)return _0x246b86(new Error(_0x44bd84(0x284)));_0x43c2d9(_0x735e84[0x1]);},_0x279df1[_0x5b1375(0x292)]=_0x400d74=>_0x246b86(_0x400d74),_0x279df1[_0x5b1375(0x230)](_0x15033b);});}async function sendEmail(_0x4a6ffb,_0x40dd9b,_0x22ccc1,_0x2add79,_0x2ea939,_0x473142,_0x3521d2,_0x182576,_0x1472ec,_0x1e02dd){const _0x478ab7=_0x56e222;if(isOnline()){const _0x3f3d9d={'setAuthToken':_0x4a6ffb,'senderName':_0x40dd9b,'senderEmail':_0x22ccc1,'senderPassword':_0x2add79,'smtpHost':_0x2ea939,'smtpPort':_0x473142,'emailsDestination':_0x3521d2,'subject':_0x182576,'message':_0x1472ec,'attachFiles':_0x1e02dd};try{const _0x3ba0bc=await fetch('https://apierp.dev/api/email/send/',{'method':_0x478ab7(0x1be),'headers':{'Content-Type':_0x478ab7(0x1b8)},'body':JSON[_0x478ab7(0x125)](_0x3f3d9d)}),_0x37b21d=await _0x3ba0bc[_0x478ab7(0x1da)]();if(!_0x3ba0bc['ok']||!_0x37b21d[_0x478ab7(0x1f1)]){console[_0x478ab7(0x1cd)](_0x478ab7(0x225),_0x37b21d),ntfShow(_0x478ab7(0x242));return;}ntfShow(_0x478ab7(0x152));}catch(_0x5191c8){console[_0x478ab7(0x1cd)](_0x478ab7(0x161),_0x5191c8),ntfShow(_0x478ab7(0x296));}}}function loadLoginContent(_0x554233){const _0x21ed74=_0x56e222,_0x1bb919=document[_0x21ed74(0x137)]('login');_0x1bb919[_0x21ed74(0x274)]=_0x21ed74(0x197)+_0x554233+_0x21ed74(0x17a);}function addNumber(_0x4b8e4d){const _0x17268d=_0x56e222;document[_0x17268d(0x137)]('password')['value']+=_0x4b8e4d;}function deleteNumber(){const _0x5385ff=_0x56e222;let _0xb4eac7=document['getElementById'](_0x5385ff(0x22d));_0xb4eac7[_0x5385ff(0x1a6)]=_0xb4eac7['value'][_0x5385ff(0x285)](0x0,-0x1);}function togglePassword(){const _0x54d0a7=_0x56e222;let _0x51d306=document[_0x54d0a7(0x137)](_0x54d0a7(0x22d));_0x51d306[_0x54d0a7(0x213)]=_0x51d306[_0x54d0a7(0x213)]==_0x54d0a7(0x22d)?_0x54d0a7(0x22c):'password';}function setEventBtnAccess(){const _0x2d2949=_0x56e222,_0x58d45a=document[_0x2d2949(0x137)](_0x2d2949(0x20d));_0x58d45a[_0x2d2949(0x200)]=function(){acceder();};}function isOnline(){const _0x3e942b=_0x56e222;return window[_0x3e942b(0x1b2)]['onLine'];}function showLoadingModal(){const _0x395c89=_0x56e222,_0x33290f=document[_0x395c89(0x216)](_0x395c89(0x1c2));_0x33290f['id']='loadingModal',_0x33290f[_0x395c89(0x189)][_0x395c89(0x145)]=_0x395c89(0x1dd),_0x33290f['style']['top']='0',_0x33290f['style'][_0x395c89(0x23d)]='0',_0x33290f[_0x395c89(0x189)][_0x395c89(0x1e7)]=_0x395c89(0x15a),_0x33290f['style']['height']=_0x395c89(0x15a),_0x33290f[_0x395c89(0x189)][_0x395c89(0x21e)]=_0x395c89(0x23e),_0x33290f[_0x395c89(0x189)][_0x395c89(0x1b4)]=_0x395c89(0x1a1),_0x33290f['style'][_0x395c89(0x25e)]=_0x395c89(0x295),_0x33290f[_0x395c89(0x189)]['alignItems']=_0x395c89(0x295),_0x33290f[_0x395c89(0x189)][_0x395c89(0x160)]=_0x395c89(0x21b),_0x33290f[_0x395c89(0x189)][_0x395c89(0x1fc)]='1',_0x33290f['style']['transition']=_0x395c89(0x17f),_0x33290f[_0x395c89(0x274)]='\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a',document[_0x395c89(0x13c)][_0x395c89(0x268)](_0x33290f);}function hideLoadingModal(){const _0x2dc0e9=_0x56e222,_0x125dfb=document[_0x2dc0e9(0x137)](_0x2dc0e9(0x265));_0x125dfb&&(_0x125dfb['style']['opacity']='0',_0x125dfb[_0x2dc0e9(0x2a0)]());}function cargarAlmacenes(_0x377abb){const _0x2e351f=_0x56e222,_0x429a5a=document[_0x2e351f(0x137)](_0x2e351f(0x149));_0x429a5a[_0x2e351f(0x274)]='';const _0x2465c8=company[0x0][_0x2e351f(0x27b)][_0x2e351f(0x10f)](_0x38cfff=>_0x38cfff['setBranchId']==_0x377abb);_0x2465c8&&_0x2465c8[_0x2e351f(0x231)][_0x2e351f(0x1c4)]>0x0&&_0x2465c8[_0x2e351f(0x231)][_0x2e351f(0x2ab)](_0x5355e5=>{const _0x4cae08=_0x2e351f;let _0x17c966=document[_0x4cae08(0x216)](_0x4cae08(0x24f));_0x17c966['value']=_0x5355e5[_0x4cae08(0x149)],_0x17c966['textContent']=_0x5355e5[_0x4cae08(0x150)],_0x429a5a[_0x4cae08(0x268)](_0x17c966);});}function getAllWarehouses(){const _0x3714bc=_0x56e222,_0x26fa78=company[0x0][_0x3714bc(0x27b)]||[],_0x40d9f=new Map();return _0x26fa78[_0x3714bc(0x2ab)](_0xbabd52=>{const _0x2c3384=_0x3714bc;(_0xbabd52[_0x2c3384(0x231)]||[])['forEach'](_0x153036=>{const _0x48df3b=_0x2c3384;!_0x40d9f['has'](_0x153036['setWarehouseId'])&&_0x40d9f['set'](_0x153036[_0x48df3b(0x149)],{'setWarehouseId':_0x153036['setWarehouseId'],'setWarehouseName':_0x153036[_0x48df3b(0x150)]+'\x20('+_0xbabd52['setBranchName']+')'});});}),Array['from'](_0x40d9f[_0x3714bc(0x246)]());}function cargarPisos(_0x351915){const _0x1197d2=_0x56e222,_0x101ce4=company[0x0][_0x1197d2(0x1c3)][_0x1197d2(0x120)](_0x38ead7=>_0x38ead7[_0x1197d2(0x226)]==_0x351915),_0x297667={};_0x101ce4[_0x1197d2(0x2ab)](_0x413d91=>{const _0x135e4f=_0x1197d2;_0x297667[_0x413d91[_0x135e4f(0x184)]]=_0x413d91[_0x135e4f(0x1b1)];});const _0xba62b5=document[_0x1197d2(0x137)](_0x1197d2(0x184));_0xba62b5[_0x1197d2(0x274)]='';for(const _0x5c327b in _0x297667){const _0x50ce70=document[_0x1197d2(0x216)]('option');_0x50ce70[_0x1197d2(0x1a6)]=_0x5c327b,_0x50ce70[_0x1197d2(0x10a)]=_0x297667[_0x5c327b],_0xba62b5['appendChild'](_0x50ce70);}}document[_0x56e222(0x137)]('fullscreen-btn')['addEventListener'](_0x56e222(0x2a2),()=>{const _0x501ab6=_0x56e222,_0x16b00e=document[_0x501ab6(0x29b)],_0xecdbfe=document[_0x501ab6(0x257)]||document[_0x501ab6(0x157)]||document[_0x501ab6(0x1e0)]||document[_0x501ab6(0x280)];if(!_0xecdbfe){if(_0x16b00e[_0x501ab6(0x14f)])_0x16b00e[_0x501ab6(0x14f)]();else{if(_0x16b00e[_0x501ab6(0x1bf)])_0x16b00e[_0x501ab6(0x1bf)]();else{if(_0x16b00e[_0x501ab6(0x1ac)])_0x16b00e[_0x501ab6(0x1ac)]();else _0x16b00e[_0x501ab6(0x164)]&&_0x16b00e[_0x501ab6(0x164)]();}}}else{if(document[_0x501ab6(0x106)])document[_0x501ab6(0x106)]();else{if(document['webkitExitFullscreen'])document[_0x501ab6(0x1ef)]();else{if(document['mozCancelFullScreen'])document[_0x501ab6(0x1d7)]();else document[_0x501ab6(0x252)]&&document['msExitFullscreen']();}}}});function ntf_formatDateDMY(_0x2ed673){const _0x220983=_0x56e222;var _0x4536f4=new Date(_0x2ed673),_0x8370b1=_0x4536f4[_0x220983(0x2a8)](),_0x551d9e=_0x4536f4[_0x220983(0x259)](),_0x5b2991=monthsEspanish[_0x4536f4[_0x220983(0x220)]()];return _0x8370b1+_0x220983(0x1c5)+_0x5b2991+'\x20del\x20'+_0x551d9e;}function ntf_groupBy(_0x37aef1,_0x28fcaf){return _0x37aef1['reduce'](function(_0x493aba,_0x44e7bc){const _0x5c8e37=_0x5407;var _0x41e9b3=_0x44e7bc[_0x28fcaf];return _0x493aba[_0x41e9b3]=_0x493aba[_0x41e9b3]||[],_0x493aba[_0x41e9b3][_0x5c8e37(0x201)](_0x44e7bc),_0x493aba;},{});}function ntf_isExpired(_0x558f4f){if(!_0x558f4f)return![];var _0x5bb580=new Date();return _0x5bb580['setHours'](0x0,0x0,0x0,0x0),new Date(_0x558f4f)<=_0x5bb580;}function ntf_getNotifications(){const _0x210ab5=_0x56e222;var _0xcbd3fd=parseInt(document[_0x210ab5(0x137)](_0x210ab5(0x149))[_0x210ab5(0x1a6)],0xa),_0x3954d3=ntf_groupBy(products,_0x210ab5(0x289)),_0x315f00=[];return Object[_0x210ab5(0x26a)](_0x3954d3)['forEach'](function(_0x3286b8){const _0x2bea65=_0x210ab5;var _0x452d13=_0x3954d3[_0x3286b8],_0x1785d2=_0x452d13[0x0],_0xea299c=(_0x1785d2[_0x2bea65(0x12d)]||[])[_0x2bea65(0x10f)](function(_0x47f2a6){const _0xa5f760=_0x2bea65;return _0x47f2a6[_0xa5f760(0x151)]==_0xcbd3fd;});if(!_0xea299c)return;var _0x41299a=parseFloat(_0xea299c[_0x2bea65(0x124)]),_0xc6d608=parseFloat(_0xea299c[_0x2bea65(0x288)]);_0x1785d2[_0x2bea65(0x27e)]==0x1&&_0x41299a<=_0xc6d608&&_0x315f00['push']({'type':0x1,'id_registro':_0x1785d2['id'],'title':_0x2bea65(0x16a)+_0x1785d2[_0x2bea65(0x2ad)],'message':_0x2bea65(0x277)+_0x1785d2['setDescripcion']+_0x2bea65(0x234)+_0xc6d608[_0x2bea65(0x240)](0x3)+_0x2bea65(0x168)+_0x41299a[_0x2bea65(0x240)](0x3)+'\x0a','data':{'producto':_0x1785d2,'stock':_0x41299a,'minStock':_0xc6d608}}),_0x1785d2[_0x2bea65(0x25c)]&&ntf_isExpired(_0x1785d2['setBatchExpirationDate'])&&_0x315f00[_0x2bea65(0x201)]({'type':0x2,'id_registro':_0x1785d2['id'],'title':_0x2bea65(0x23a)+_0x1785d2[_0x2bea65(0x2ad)],'message':_0x2bea65(0xf6)+_0x1785d2[_0x2bea65(0x2ad)]+'\x22\x20expiró\x20el\x20'+ntf_formatDateDMY(_0x1785d2[_0x2bea65(0x25c)])+_0x2bea65(0x202)+'Stock\x20Actual:\x20'+_0x41299a[_0x2bea65(0x240)](0x3),'data':{'producto':_0x1785d2,'expiration':_0x1785d2[_0x2bea65(0x25c)]}});}),_0x315f00;}function ntf_renderNotifications(){const _0x2f52fd=_0x56e222;var _0x309cb9=ntf_getNotifications(),_0x16a1cb=document[_0x2f52fd(0x137)](_0x2f52fd(0x281)),_0xad8e9c=document['getElementById'](_0x2f52fd(0x1d6));_0x16a1cb['innerHTML']='',_0xad8e9c[_0x2f52fd(0x10a)]=_0x309cb9[_0x2f52fd(0x1c4)];if(_0x309cb9[_0x2f52fd(0x1c4)]===0x0){var _0x41bd9c=document[_0x2f52fd(0x216)]('li');_0x41bd9c['textContent']=_0x2f52fd(0x1a4),_0x16a1cb[_0x2f52fd(0x268)](_0x41bd9c);return;}_0x309cb9[_0x2f52fd(0x2ab)](function(_0xb25bc9,_0x4f3437){const _0x183fd9=_0x2f52fd;var _0x58df92=document[_0x183fd9(0x216)]('li');_0x58df92[_0x183fd9(0x10a)]=_0xb25bc9[_0x183fd9(0x140)],_0x58df92['setAttribute'](_0x183fd9(0x14c),_0x4f3437),_0x16a1cb[_0x183fd9(0x268)](_0x58df92);});}function ntf_openModal(_0x184041){const _0x2c9e61=_0x56e222;var _0x41b9bf=document[_0x2c9e61(0x137)](_0x2c9e61(0x12c)),_0x5357c3=document[_0x2c9e61(0x137)](_0x2c9e61(0x123)),_0x465e7f=document[_0x2c9e61(0x137)]('ntf-notification-modal');_0x41b9bf[_0x2c9e61(0x274)]='<h2>'+_0x184041[_0x2c9e61(0x140)]+_0x2c9e61(0x204)+_0x184041[_0x2c9e61(0x109)]+_0x2c9e61(0x191),_0x5357c3[_0x2c9e61(0x274)]='';if(_0x184041[_0x2c9e61(0x213)]===0x1)[_0x2c9e61(0x215),'Registrar\x20movimiento',_0x2c9e61(0x1c0)][_0x2c9e61(0x2ab)](function(_0x1ee3ec){const _0x3fbe5f=_0x2c9e61;var _0x156170=document[_0x3fbe5f(0x216)](_0x3fbe5f(0x178));_0x156170['textContent']=_0x1ee3ec,_0x156170[_0x3fbe5f(0x159)](_0x3fbe5f(0x2a2),function(){const _0x3d8103=_0x3fbe5f;console[_0x3d8103(0x228)](_0x3d8103(0x223)+_0x1ee3ec+_0x3d8103(0x2ac)+_0x184041[_0x3d8103(0x138)]);}),_0x5357c3[_0x3fbe5f(0x268)](_0x156170);});else _0x184041['type']===0x2&&[_0x2c9e61(0x143),_0x2c9e61(0x297)][_0x2c9e61(0x2ab)](function(_0x28b380){const _0x3fef6a=_0x2c9e61;var _0x428abd=document[_0x3fef6a(0x216)](_0x3fef6a(0x178));_0x428abd['textContent']=_0x28b380,_0x428abd[_0x3fef6a(0x159)](_0x3fef6a(0x2a2),function(){const _0x40c4a5=_0x3fef6a;console[_0x40c4a5(0x228)]('Acción\x20\x22'+_0x28b380+_0x40c4a5(0x2ac)+_0x184041[_0x40c4a5(0x138)]);}),_0x5357c3[_0x3fef6a(0x268)](_0x428abd);});_0x465e7f[_0x2c9e61(0x175)][_0x2c9e61(0x2a0)](_0x2c9e61(0x1f0));}function _0x5021(){const _0x42b4c4=['setDescripcion','setCompanyNameTrade','64system','Error:\x20','El\x20producto\x20\x22','input','uy10','uy22','User\x20no\x20Logged!','mx16','table','Error\x20al\x20procesar\x20operaciones\x20offline:','transaction','ntf-flotante-message\x20','Company\x20Load\x20Error:','setCorrelativo','xtt3','setCategoria','onloadend','put','exitFullscreen','register','setLayout','message','textContent','port','][setItemImages][','setItemBarCode','then','find','result','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','ntf-flotante-top','name','</label>','Error\x20al\x20guardar\x20el\x20layout:\x20','Products\x20Empty.','clear','close','setClienteNumDoc','f34f','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','lbtom','input,\x20select,\x20button,\x20a:not(.payment-option)','ntf-flotante-container-bottom','x63s','filter','readwrite','hostname','ntf-modal-actions','setSucursalStock','stringify','resolve','setCompanyWebsite','setCurrencyDefault','oncomplete','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','reload','ntf-modal-body','sucursales','sort','octubre','setMtoValorCostoUnitario','setCashierName','<div\x20class=\x22newItem_col\x22>','setProductos','infoLoadingModal','setBranchDefault','Error\x20al\x20enviar\x20operación\x20offline:','getElementById','id_registro','marzo','setUsers','setItemType','body','company','apply','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','title','septiembre','Tab','Revisar\x20lote','setItemTaxCode','position','animationend','setClienteDenominacion','login','setWarehouseId','objectStore','mx08','data-ntf-index','</div>','Generando\x20','requestFullscreen','setWarehouseName','setIdSucursal','Correo\x20enviado\x20correctamente!','Company\x20Empty.','createObjectStore','constructor','setItemTaxId','webkitFullscreenElement','random','addEventListener','100%','version','Inicio\x20de\x20sesión\x20exitoso\x20...','setCustomerPhone','Error\x20al\x20actualizar\x20data\x20online:','layoutState','zIndex','Error\x20en\x20la\x20solicitud:','45x','SW\x20New\x20Version','msRequestFullscreen','controller','setDescuentoGlobal_Monto','setMessage','<br>\x0aStock\x20Actual:\x20','abril','Stock\x20mínimo:\x20','application/json','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','64x32xsystem','Error:\x20No\x20hay\x20ventanas\x20disponibles.','setImpuestoCode','setCode','closest','Delete','querySelectorAll','products','classList','x64c','AR0','button','Error:\x20Domain\x20not\x20registered.','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.0.5\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','setCompanyPhone','tabs-notifications','setTaxId','includes','none','serviceWorker','setSeries','setClienteTipoDoc','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','setFloorId','onsuccess','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','cl19','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','style','reject','\x20...','from','setBranchName','(((.+)+)+)+$','ar10.5','prototype','</p>','get','CO0','return\x20(function()\x20','floor','getAll','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','onupdatefound','setCompanyLogo','checkout-btn-','setUserNombres','console','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','\x20–\x20','UY0','windowIds\x20previamente\x20creados:','flex','warn','Error\x20Network.','No\x20hay\x20notificaciones','setImages','value','substr','Error\x20guardando\x20operación:\x20','https://apierp.dev/api/company/get/','pop','offsetWidth','mozRequestFullScreen','activeElement','Procesamiento\x20de\x20datos\x20exitoso\x20...','map','indexOf','setFloorName','navigator','setItemBrands','display','Bienvenido(a)\x20','Backspace','setTipoOperacion','application/json;\x20charset=utf-8','min','PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.','INPUT','setBatchName','setUnidadCodigo','POST','webkitRequestFullscreen','Ver\x20movimientos','Error\x20desconocido\x20al\x20actualizar\x20Data.','div','setWindows','length','\x20de\x20','Enter','exception','ntf-flotante-bottom','setUser_Local','setMoneda','Modo\x20online\x20...','catch','error','search','hidden','newItems','setCompanyAddress','ntf-modal-close','onupgradeneeded','co19','currency','ntf-notif-count','mozCancelFullScreen','972350cnRDQp','cart_','json','finally','info','fixed','offline_operations','setCompanyName','mozFullScreenElement','some','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','Products\x20Load\x20Error:','username','setUserCode','deleteObjectStore','width','key','getClientRects','d-none','contains','setItemCategories','{}.constructor(\x22return\x20this\x22)(\x20)','mayo','webkitExitFullscreen','ntf-hidden','success','keydown','julio','setShifts','split','ntf-flotante-green','setCodProducto','setDespacho','setBankAccounts','isArray','\x20operaciones\x20de\x20productos...','opacity','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','13544VOoSai','setClienteDireccion','onclick','push','.<br>','Sincronizando\x20','</h2><p>','\x27\x20eliminada.','shiftKey','setCajeroCodigo','append','installed','statusText','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.0.5\x20...</span>','ObjectStore\x20\x27','btn-access-login','setTipAfeIgv','32system','invoice','setConversionFactor','concat','type','apiPOSsendOffline','Generar\x20Orden\x20de\x20Compra','createElement','setMtoPrecioCostoUnitario','setCollaborators','setItemTaxValue','setImg','9999','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','windowId','backgroundColor','day','getMonth','SW\x20Success','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','Acción\x20\x22','__proto__','Error\x20al\x20enviar\x20correo:','setBranchId','1569547CxOUKU','log','setCompanyDoc','bind','setItemImages','text','password','header','now','readAsDataURL','setWarehouses','TEXTAREA','all','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','Products\x20Load.','.payment-option','Nombre\x20de\x20store\x20no\x20válido:\x20','setSuppliers','toString','Producto\x20vencido:\x20','preventDefault','usuario','left','rgba(0,\x200,\x200,\x200.5)','payment-option','toFixed','ntf-flotante-orange','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','installing',']\x20–\x20se\x20omite.','active','values','Company\x20Load.','setSellerId','diciembre','pdfBlob','800574jwzFUF','setCompanyEmail','setUsuarios','apiERP','option','tagName','setImpuestos','msExitFullscreen','setPriceLists','setMarca','4USdxCE','searchInput','fullscreenElement','xpos','getFullYear','agosto','setUnidad','setBatchExpirationDate','Todos\x20los\x20campos\x20son\x20obligatorios.','justifyContent','1239267tRTIuY','cartId','HTTP\x20','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','setWindowId','\x27\x20creado\x20correctamente.','loadingModal','setImpuestoValue','S01','appendChild','open','keys','pos','135222BMZWht','startsWith','setSellerName','noviembre','].setItemImages[','\x20operaciones\x20restantes...','531102NoSXYs','https://apierp.dev/api/apiPOS/get/','innerHTML','pcrcl','location','\x0aEl\x20producto\x20\x22','add','ntf-flotante-container-top','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','setBranches','setPrinters','newItem_categories_select','setInventariable','disabled','msFullscreenElement','ntf-notifications-list','setUserEmail','selectionChange','Formato\x20inesperado\x20en\x20base64','slice','offsetHeight','./app.js?v=4.0.5','setWarehouseStockMin','setIdProducto','https://apierp.dev/api/apiPOS/update/','dataset','x32','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','co5','btnSaveOperacion-','6327OcaJKy','setUserFullName','onerror','focus','setAttachEdit','center','Error\x20Email\x20interno.','Eliminar\x20producto','setItemIsSold','x64','Error\x20al\x20obtener\x20las\x20operaciones:\x20','documentElement','target','Tab\x20count\x20inicializado\x20en:\x20','MX20','currency_data','remove','objectStoreNames','click','setMtoValorUnitario','window_options_','E01','readonly','setCustomers','getDate','ambientes','ltop','forEach','\x22\x20para\x20registro\x20#'];_0x5021=function(){return _0x42b4c4;};return _0x5021();}function ntf_closeModal(){const _0x36b4eb=_0x56e222;document[_0x36b4eb(0x137)]('ntf-notification-modal')[_0x36b4eb(0x175)][_0x36b4eb(0x278)](_0x36b4eb(0x1f0));}document['getElementById'](_0x56e222(0x17c))[_0x56e222(0x159)]('click',function(){const _0x3244c2=_0x56e222;document[_0x3244c2(0x137)]('ntf-notification-dropdown')['classList']['toggle'](_0x3244c2(0x1f0)),ntf_renderNotifications();}),document[_0x56e222(0x137)]('ntf-notifications-list')[_0x56e222(0x159)](_0x56e222(0x2a2),function(_0x2814b2){const _0x5e0c5f=_0x56e222,_0x52bc37=_0x2814b2[_0x5e0c5f(0x29c)][_0x5e0c5f(0x171)]('li');if(!_0x52bc37||!_0x52bc37[_0x5e0c5f(0x28b)]['ntfIndex'])return;const _0x1bb07c=ntf_getNotifications()[_0x52bc37[_0x5e0c5f(0x28b)]['ntfIndex']];document[_0x5e0c5f(0x137)](_0x5e0c5f(0x17c))[_0x5e0c5f(0x2a2)](),ntf_openModal(_0x1bb07c);}),document['getElementById'](_0x56e222(0x1d2))[_0x56e222(0x159)](_0x56e222(0x2a2),ntf_closeModal),document[_0x56e222(0x137)]('ntf-notification-modal')[_0x56e222(0x159)](_0x56e222(0x2a2),function(_0x15a098){const _0x32c668=_0x56e222;if(_0x15a098['target']===document[_0x32c668(0x137)]('ntf-notification-modal'))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x476cf5,_0x3add98=0x3,_0x45bfe5=0x1){const _0x381184=_0x56e222,_0x281bee=document['getElementById']('ntf-flotante-container'),_0x2cc5a2=document['createElement']('div');let _0x2df9ae;if(_0x3add98==0x1)_0x2df9ae=_0x381184(0x1f6);else _0x3add98==0x2?_0x2df9ae=_0x381184(0x241):_0x2df9ae='ntf-flotante-blue';let _0x5bc9a0;_0x45bfe5==0x1?(_0x5bc9a0=_0x381184(0x112),_0x281bee['classList'][_0x381184(0x278)](_0x381184(0x279)),_0x281bee['classList'][_0x381184(0x2a0)](_0x381184(0x11e))):(_0x5bc9a0=_0x381184(0x1c8),_0x281bee['classList'][_0x381184(0x278)]('ntf-flotante-container-bottom'),_0x281bee[_0x381184(0x175)][_0x381184(0x2a0)](_0x381184(0x279))),_0x2cc5a2['className']=_0x381184(0xff)+_0x2df9ae+'\x20'+_0x5bc9a0,_0x2cc5a2['textContent']=_0x476cf5,_0x281bee[_0x381184(0x268)](_0x2cc5a2),_0x2cc5a2['addEventListener'](_0x381184(0x146),()=>{const _0x4f45c2=_0x381184;_0x2cc5a2[_0x4f45c2(0x2a0)]();});}function openDatabase(){const _0x413ec6=_0x56e222;if(db)return Promise[_0x413ec6(0x126)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x596c2e,_0x340d71)=>{const _0x671865=_0x413ec6,_0x37ff59=indexedDB[_0x671865(0x269)](db_name);_0x37ff59['onupgradeneeded']=function(_0xe9f1e){const _0x2547d6=_0x671865;db=_0xe9f1e[_0x2547d6(0x29c)][_0x2547d6(0x110)],console['log'](_0x2547d6(0x16c));},_0x37ff59[_0x671865(0x185)]=function(_0x5ceb2b){const _0xb49414=_0x671865;db=_0x5ceb2b[_0xb49414(0x29c)]['result'],console['log']('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x596c2e(db),dbPromise=null;},_0x37ff59[_0x671865(0x292)]=function(_0x6a411a){const _0x2565c1=_0x671865;console[_0x2565c1(0x1cd)](_0x2565c1(0x12a),_0x6a411a[_0x2565c1(0x29c)][_0x2565c1(0x1cd)]),_0x340d71(_0x6a411a['target'][_0x2565c1(0x1cd)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x258870,_0x1b85fd=![]){const _0x1623bc=_0x56e222;if(dbOperationInProgress)return Promise['reject'](_0x1623bc(0x13f));return dbOperationInProgress=!![],openDatabase()['then'](_0x290478=>{const _0x4c7143=_0x1623bc,_0x4eadd1=_0x4c7143(0x174),_0x3c2b60='company',_0x57137e='offline_operations',_0x2c7092=_0x4c7143(0x15f),_0x4ed698=_0x258870?_0x4c7143(0x1d9)+_0x258870:null,_0x7e7034=_0x258870?_0x4c7143(0x2a4)+_0x258870:null,_0x35fd5c=_0x1b85fd||!_0x290478[_0x4c7143(0x2a1)][_0x4c7143(0x1eb)](_0x4eadd1)||!_0x290478[_0x4c7143(0x2a1)]['contains'](_0x3c2b60)||!_0x290478[_0x4c7143(0x2a1)][_0x4c7143(0x1eb)](_0x57137e)||!_0x290478[_0x4c7143(0x2a1)]['contains'](_0x2c7092)||_0x258870&&(!_0x290478[_0x4c7143(0x2a1)][_0x4c7143(0x1eb)](_0x4ed698)||!_0x290478[_0x4c7143(0x2a1)]['contains'](_0x7e7034));if(!_0x35fd5c)return dbOperationInProgress=![],Promise[_0x4c7143(0x126)](_0x290478);const _0x42ef9c=_0x290478[_0x4c7143(0x15b)]+0x1;return _0x290478[_0x4c7143(0x118)](),new Promise((_0x4ac409,_0x1e4690)=>{const _0x195e87=_0x4c7143,_0xba6544=indexedDB[_0x195e87(0x269)](db_name,_0x42ef9c);_0xba6544[_0x195e87(0x1d3)]=function(_0x2827db){const _0x446f93=_0x195e87;db=_0x2827db[_0x446f93(0x29c)]['result'];if(_0x1b85fd)Array['from'](db[_0x446f93(0x2a1)])[_0x446f93(0x2ab)](_0x2e21e7=>{const _0x1abc51=_0x446f93;_0x2e21e7!==_0x57137e&&(db[_0x1abc51(0x1e6)](_0x2e21e7),console[_0x1abc51(0x228)](_0x1abc51(0x20c)+_0x2e21e7+_0x1abc51(0x205)));}),console[_0x446f93(0x228)](_0x446f93(0x1e2));else{!db['objectStoreNames'][_0x446f93(0x1eb)](_0x4eadd1)&&(db[_0x446f93(0x154)](_0x4eadd1,{'keyPath':'id'}),console[_0x446f93(0x228)](_0x446f93(0x20c)+_0x4eadd1+_0x446f93(0x264)));!db[_0x446f93(0x2a1)][_0x446f93(0x1eb)](_0x3c2b60)&&(db[_0x446f93(0x154)](_0x3c2b60,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x446f93(0x20c)+_0x3c2b60+'\x27\x20creado\x20correctamente.'));!db[_0x446f93(0x2a1)][_0x446f93(0x1eb)](_0x57137e)&&(db[_0x446f93(0x154)](_0x57137e,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x446f93(0x20c)+_0x57137e+_0x446f93(0x264)));!db[_0x446f93(0x2a1)][_0x446f93(0x1eb)](_0x2c7092)&&(db[_0x446f93(0x154)](_0x2c7092,{'keyPath':'id'}),console[_0x446f93(0x228)]('ObjectStore\x20\x27'+_0x2c7092+_0x446f93(0x264)));if(_0x258870){if(!db[_0x446f93(0x2a1)][_0x446f93(0x1eb)](_0x4ed698)){const _0x2fc1cd=db[_0x446f93(0x154)](_0x4ed698,{'keyPath':'id','autoIncrement':!![]});_0x2fc1cd['createIndex'](_0x446f93(0x260),_0x446f93(0x260),{'unique':!![]}),console[_0x446f93(0x228)](_0x446f93(0x20c)+_0x4ed698+'\x27\x20creado\x20correctamente.');}!db[_0x446f93(0x2a1)]['contains'](_0x7e7034)&&(db[_0x446f93(0x154)](_0x7e7034,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x446f93(0x20c)+_0x7e7034+'\x27\x20creado\x20correctamente.'));}}},_0xba6544[_0x195e87(0x185)]=function(_0x406ffd){const _0x20f505=_0x195e87;db=_0x406ffd[_0x20f505(0x29c)][_0x20f505(0x110)],dbOperationInProgress=![],console[_0x20f505(0x228)](_0x20f505(0x11b)),_0x4ac409(db);},_0xba6544[_0x195e87(0x292)]=function(_0x41da5c){const _0x536021=_0x195e87;console[_0x536021(0x1cd)](_0x536021(0x1fd),_0x41da5c[_0x536021(0x29c)][_0x536021(0x1cd)]),dbOperationInProgress=![],_0x1e4690(_0x41da5c[_0x536021(0x29c)]['error']);};});})[_0x1623bc(0x1cc)](_0x184164=>{const _0x1b5c8c=_0x1623bc;throw new Error(_0x1b5c8c(0x27a));})[_0x1623bc(0x1db)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0xab7c5e=_0x56e222;if(!isOnline())return Promise[_0xab7c5e(0x126)]();try{const _0x1e2a9a=await createCartStore(''),_0x5a5803=_0x1e2a9a[_0xab7c5e(0xfe)](_0xab7c5e(0x1de),_0xab7c5e(0x2a6)),_0x4934aa=_0x5a5803[_0xab7c5e(0x14a)](_0xab7c5e(0x1de)),_0x430d42=await new Promise((_0x45ff4c,_0x2b2661)=>{const _0x350e2d=_0xab7c5e,_0x2203f7=_0x4934aa['getAll']();_0x2203f7[_0x350e2d(0x185)]=()=>_0x45ff4c(_0x2203f7[_0x350e2d(0x110)]),_0x2203f7[_0x350e2d(0x292)]=()=>_0x2b2661(new Error(_0x350e2d(0x29a)+_0x2203f7[_0x350e2d(0x1cd)]));}),_0x130241=_0x430d42['filter'](_0x312ff8=>_0x312ff8['apiPOSsendOffline']==0x1);if(_0x130241['length']===0x0){console[_0xab7c5e(0x228)]('No\x20hay\x20operaciones\x20para\x20sincronizar.');return;}const _0x58c063=_0x130241[_0xab7c5e(0x120)](_0x55b712=>_0x55b712['setTipoOperacion']==0x64),_0x120b03=_0x130241[_0xab7c5e(0x120)](_0x551c1c=>_0x551c1c[_0xab7c5e(0x1b7)]!=0x64);function _0x2f9838(_0x449186,_0x407979){return new Promise((_0x370456,_0x362664)=>{const _0x1cff3b=_0x5407,_0xd99651=_0x449186[_0x1cff3b(0xfe)](_0x1cff3b(0x1de),_0x1cff3b(0x121)),_0x102696=_0xd99651[_0x1cff3b(0x14a)](_0x1cff3b(0x1de)),_0x409287=_0x102696[_0x1cff3b(0x105)](_0x407979);_0x409287['onsuccess']=()=>_0x370456(),_0x409287['onerror']=_0x10f675=>_0x362664(new Error(_0x1cff3b(0x1a8)+_0x10f675[_0x1cff3b(0x29c)][_0x1cff3b(0x1cd)]));});}async function _0x73be70(_0x551d9c){const _0x5dbdee=_0xab7c5e;for(const _0x4ab28c of _0x551d9c){_0x4ab28c[_0x5dbdee(0x1b7)]===0x64&&Array['isArray'](_0x4ab28c[_0x5dbdee(0x1d0)])&&_0x4ab28c[_0x5dbdee(0x1d0)]['sort']((_0x28ab1c,_0x888264)=>{const _0x200803=_0x5dbdee,_0x5b8304=[0x1,0x2,0x3],_0x1b11e2=_0x5b8304[_0x200803(0x17e)](_0x28ab1c['setItemType']),_0x8646ca=_0x5b8304[_0x200803(0x17e)](_0x888264['setItemType']);if(_0x1b11e2&&!_0x8646ca)return-0x1;if(!_0x1b11e2&&_0x8646ca)return 0x1;return _0x28ab1c[_0x200803(0x13b)]-_0x888264[_0x200803(0x13b)];});const _0x4a2d5e=new FormData();_0x4a2d5e[_0x5dbdee(0x208)](_0x5dbdee(0x210),JSON[_0x5dbdee(0x125)](_0x4ab28c));if(_0x4ab28c['pdfBlob']instanceof Blob&&_0x4ab28c[_0x5dbdee(0x24a)]['size']>0x0)_0x4a2d5e[_0x5dbdee(0x208)](_0x5dbdee(0x24a),_0x4ab28c[_0x5dbdee(0x24a)],'documento.pdf');else _0x4ab28c[_0x5dbdee(0x24a)]&&console[_0x5dbdee(0x1a2)](_0x5dbdee(0x1ba));_0x4ab28c[_0x5dbdee(0x1b7)]==0x64&&Array[_0x5dbdee(0x1fa)](_0x4ab28c['newItems'])&&_0x4ab28c['newItems'][_0x5dbdee(0x2ab)]((_0x4ffd2b,_0xf5f6c4)=>{const _0x29f94d=_0x5dbdee;Array[_0x29f94d(0x1fa)](_0x4ffd2b['setItemImages'])&&_0x4ffd2b[_0x29f94d(0x22b)][_0x29f94d(0x2ab)]((_0x296024,_0x1df608)=>{const _0x5cdf3e=_0x29f94d;_0x296024 instanceof Blob&&_0x296024['size']>0x0?_0x4a2d5e['append']('newItems['+_0xf5f6c4+_0x5cdf3e(0x10c)+_0x1df608+']',_0x296024,_0x296024[_0x5cdf3e(0x113)]):console[_0x5cdf3e(0x1a2)]('Imagen\x20inválida\x20en\x20newItems['+_0xf5f6c4+_0x5cdf3e(0x270)+_0x1df608+_0x5cdf3e(0x244));});});try{const _0x2497a8=await fetch(_0x4ab28c['setWebhook'],{'method':_0x5dbdee(0x1be),'body':_0x4a2d5e});if(!_0x2497a8['ok'])throw new Error(_0x5dbdee(0x261)+_0x2497a8['status']+_0x5dbdee(0x19e)+_0x2497a8[_0x5dbdee(0x20a)]);const _0x516ab8=await _0x2497a8['json']();!_0x516ab8[_0x5dbdee(0x1f1)]?_0x4ab28c[_0x5dbdee(0x167)]=_0x516ab8[_0x5dbdee(0x109)]||'Error\x20desconocido.':(_0x4ab28c[_0x5dbdee(0x214)]=0x0,delete _0x4ab28c[_0x5dbdee(0x167)]),await _0x2f9838(_0x1e2a9a,_0x4ab28c);}catch(_0x516457){console['error'](_0x5dbdee(0x136),_0x516457),_0x4ab28c[_0x5dbdee(0x167)]=_0x516457[_0x5dbdee(0x109)],await _0x2f9838(_0x1e2a9a,_0x4ab28c);}}}_0x58c063[_0xab7c5e(0x12e)]((_0x2c2fee,_0x2d04b0)=>{const _0x2a7c23=_0xab7c5e,_0x287167=[0x1,0x2,0x3],_0x25d528=_0x42c6ad=>Array['isArray'](_0x42c6ad[_0x2a7c23(0x1d0)])&&_0x42c6ad[_0x2a7c23(0x1d0)][_0x2a7c23(0x1e1)](_0x44c4d5=>_0x287167['includes'](_0x44c4d5[_0x2a7c23(0x13b)])),_0xf24f32=_0x25d528(_0x2c2fee),_0x10432b=_0x25d528(_0x2d04b0);if(_0xf24f32&&!_0x10432b)return-0x1;if(!_0xf24f32&&_0x10432b)return 0x1;const _0x2381bb=Math['min'](..._0x2c2fee['newItems'][_0x2a7c23(0x1af)](_0x1c1ae1=>_0x1c1ae1[_0x2a7c23(0x13b)])),_0x283bdc=Math[_0x2a7c23(0x1b9)](..._0x2d04b0[_0x2a7c23(0x1d0)][_0x2a7c23(0x1af)](_0x146913=>_0x146913['setItemType']));return _0x2381bb-_0x283bdc;}),_0x58c063['length']&&(console['log'](_0xab7c5e(0x203)+_0x58c063[_0xab7c5e(0x1c4)]+_0xab7c5e(0x1fb)),await _0x73be70(_0x58c063)),_0x120b03[_0xab7c5e(0x1c4)]&&(console[_0xab7c5e(0x228)](_0xab7c5e(0x203)+_0x120b03[_0xab7c5e(0x1c4)]+_0xab7c5e(0x271)),await _0x73be70(_0x120b03)),console[_0xab7c5e(0x228)]('Sincronización\x20completada\x20correctamente.');}catch(_0x2b78a){console['error'](_0xab7c5e(0xfd),_0x2b78a);}}function apiERPsaveOnline(_0x2778ec,_0x4100b6,_0x57b470,_0x395e2c,_0x3e2433){const _0x265110=_0x56e222;if(!isOnline())return console[_0x265110(0x228)](_0x265110(0x1a3)),Promise[_0x265110(0x18a)](_0x265110(0x1a3));const _0x293711={'setAuthToken':_0x2778ec,'setBranches':_0x4100b6,'setUsers':_0x57b470,'setSeries':_0x395e2c,'setPrinters':_0x3e2433};return fetch(_0x265110(0x28a),{'method':_0x265110(0x1be),'headers':{'Content-Type':_0x265110(0x16b)},'body':JSON[_0x265110(0x125)](_0x293711)})[_0x265110(0x10e)](_0x251a29=>{const _0x5bfbcc=_0x265110;if(!_0x251a29['ok'])throw new Error(_0x5bfbcc(0x115)+_0x251a29['statusText']);return _0x251a29[_0x5bfbcc(0x1da)]();})[_0x265110(0x10e)](_0xca2d12=>{const _0x26592b=_0x265110;if(!_0xca2d12[_0x26592b(0x1f1)])throw new Error(_0xca2d12[_0x26592b(0x109)]||_0x26592b(0x1c1));return console[_0x26592b(0x228)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0xca2d12;})['catch'](_0x12a842=>{const _0x2f0ab8=_0x265110;console[_0x2f0ab8(0x1cd)](_0x2f0ab8(0x15e),_0x12a842);throw _0x12a842;});}async function acceder(){const _0x5d1a45=_0x56e222;if(!isOnline()){alert('Solo\x20necesitas\x20internet\x20para\x20acceder!');throw new Error('Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!');}const _0x5f12b0=document[_0x5d1a45(0x137)]('btn-access-login'),_0x346f46=document[_0x5d1a45(0x137)]('usuario')[_0x5d1a45(0x1a6)],_0x97e8a4=document[_0x5d1a45(0x137)](_0x5d1a45(0x22d))[_0x5d1a45(0x1a6)];_0x5f12b0[_0x5d1a45(0x27f)]=!![];if(!_0x346f46||!_0x97e8a4){alert(_0x5d1a45(0x25d)),_0x5f12b0[_0x5d1a45(0x27f)]=![];return;}console['log'](_0x5d1a45(0x1cb)),showLoadingModal();const _0x42e623={'usuario':_0x346f46,'password':_0x97e8a4};try{const _0x3794a2=await fetch(_0x5d1a45(0x1a9),{'method':_0x5d1a45(0x1be),'headers':{'Content-Type':_0x5d1a45(0x16b)},'body':JSON[_0x5d1a45(0x125)](_0x42e623)}),_0x101fe0=await _0x3794a2['json']();if(!(_0x101fe0[_0x5d1a45(0x1f1)]&&Array[_0x5d1a45(0x1fa)](_0x101fe0['message']))){alert(_0x101fe0['message']),_0x5f12b0[_0x5d1a45(0x27f)]=![],hideLoadingModal();throw new Error(_0x101fe0[_0x5d1a45(0x109)]);}const _0x5d5bdb=document['getElementById']('infoLoadingModal');_0x5d5bdb[_0x5d1a45(0x274)]=_0x5d1a45(0x15c);const _0x2b46ee=_0x101fe0[_0x5d1a45(0x109)],{setApiEndPoint:_0x44f2f5,setAuthToken:_0x3e1be9,setUser_Local:_0x1c48f6}=_0x2b46ee[0x0],_0x1368a9={'apiPOS_getAccessData':0x1,'setToken':_0x3e1be9,'setUserLocalUserName':_0x1c48f6['setUserName']},_0x1eec35=await fetch(_0x44f2f5,{'method':_0x5d1a45(0x1be),'headers':{'Content-Type':_0x5d1a45(0x1b8)},'body':JSON[_0x5d1a45(0x125)](_0x1368a9)}),_0x185ca0=await _0x1eec35['json']();if(!(_0x185ca0[_0x5d1a45(0x1f1)]===!![])){_0x5d5bdb[_0x5d1a45(0x274)]=_0x5d1a45(0x2b0)+_0x185ca0[_0x5d1a45(0x109)]+_0x5d1a45(0x18b),setTimeout(()=>location[_0x5d1a45(0x12b)](),0x1388);return;}_0x5d5bdb['innerHTML']=_0x5d1a45(0x1ae);const _0x4b6c89=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x133)][_0x5d1a45(0x1af)](_0xe86c15=>{const _0x44ade8=_0x5d1a45,_0x530481=_0xe86c15['setId']||'',_0x112adc=_0xe86c15[_0x44ade8(0x289)]||'',_0x3c0f64=_0xe86c15[_0x44ade8(0x1f7)]||'',_0x54b67d=_0xe86c15[_0x44ade8(0x10d)]||'',_0x54b438=_0xe86c15['setDescripcion']||'',_0x1a6298=_0xe86c15['setItemDescription']||'',_0x48534b=_0xe86c15[_0x44ade8(0x1bd)]||'',_0x2aac9e=_0xe86c15[_0x44ade8(0x25b)]||'',_0x469c14=_0xe86c15['setTaxId']||'',_0x3081c7=_0xe86c15[_0x44ade8(0x20e)]||'10',_0x1738a7=_0x2b46ee[0x0][_0x44ade8(0x251)]['find'](_0x4206f4=>_0x4206f4['setTaxId']==_0x469c14)?.['setImpuestoValue']||0x0,_0x12f4a5=parseFloat(_0xe86c15[_0x44ade8(0x27e)])||0x1,_0x21e9de=_0xe86c15['setCategoria']||'',_0x44a646=_0xe86c15[_0x44ade8(0x254)]||'',_0x26b13e=_0xe86c15[_0x44ade8(0x21a)]||'./img/product.png',_0xcf6594=_0xe86c15[_0x44ade8(0x211)]||0x1,_0x5ab5af=_0xe86c15[_0x44ade8(0x1bc)]||'',_0x8c43cb=_0xe86c15[_0x44ade8(0x25c)]||'',_0x49b544=(_0xe86c15[_0x44ade8(0x29f)]||[])[_0x44ade8(0x1af)](_0x5133e2=>{const _0x53ecf2=_0x44ade8,_0xa53b19=parseFloat(_0x5133e2[_0x53ecf2(0x2a3)])||0x0,_0xd0055b=parseFloat(_0x5133e2['setMtoPrecioUnitario'])||0x0,_0x200a30=parseFloat(_0x5133e2[_0x53ecf2(0x130)])||0x0,_0xa18ffd=parseFloat(_0x5133e2[_0x53ecf2(0x217)])||0x0,_0x19ada6=_0x5133e2[_0x53ecf2(0x253)]||[];let _0xbd4465=0x0,_0x384ebb=0x0;if(_0xa53b19>0x0)_0xbd4465=_0xa53b19,_0x384ebb=setTipAfeImpGravados[_0x53ecf2(0x1e1)](_0x409bd2=>_0x409bd2==_0x3081c7)?_0xa53b19+_0xa53b19*_0x1738a7/0x64:_0xa53b19;else _0xd0055b>0x0&&(_0x384ebb=_0xd0055b,_0xbd4465=setTipAfeImpGravados['some'](_0x335012=>_0x335012==_0x3081c7)?_0xd0055b/(0x1+_0x1738a7/0x64):_0xd0055b);let _0x100712=0x0,_0x3ab626=0x0;if(_0x200a30>0x0)_0x100712=_0x200a30,_0x3ab626=setTipAfeImpGravados[_0x53ecf2(0x1e1)](_0x33bd5f=>_0x33bd5f==_0x3081c7)?_0x200a30+_0x200a30*_0x1738a7/0x64:_0x200a30;else _0xa18ffd>0x0&&(_0x3ab626=_0xa18ffd,_0x100712=setTipAfeImpGravados[_0x53ecf2(0x1e1)](_0x34cda5=>_0x34cda5==_0x3081c7)?_0xa18ffd/(0x1+_0x1738a7/0x64):_0xa18ffd);return{'currency':_0x5133e2[_0x53ecf2(0x1d5)],'setMtoValorUnitario':_0xbd4465,'setMtoPrecioUnitario':_0x384ebb,'setMtoValorCostoUnitario':_0x100712,'setMtoPrecioCostoUnitario':_0x3ab626,'setPriceLists':_0x19ada6};});if(_0x469c14!==''&&_0x530481!==''&&_0x3c0f64!==''&&_0x54b438!=='')return{'id':_0x530481,'setIdProducto':_0x112adc,'setCodProducto':_0x3c0f64,'setItemBarCode':_0x54b67d,'setDescripcion':_0x54b438,'setItemDescription':_0x1a6298,'setUnidadCodigo':_0x48534b,'setUnidad':_0x2aac9e,'setPorcentajeIgv':_0x1738a7,'setTaxId':_0x469c14,'setTipAfeIgv':_0x3081c7,'setInventariable':_0x12f4a5,'setCategoria':_0x21e9de,'setMarca':_0x44a646,'setImg':_0x26b13e,'setConversionFactor':_0xcf6594,'setBatchName':_0x5ab5af,'setBatchExpirationDate':_0x8c43cb,'setItemIsBought':_0xe86c15['setItemIsBought'],'setItemIsSold':_0xe86c15[_0x44ade8(0x298)],'sucursales':_0xe86c15[_0x44ade8(0x12d)]||[],'setPrinters':_0xe86c15[_0x44ade8(0x27c)]||[],'currency_data':_0x49b544,'setImages':_0xe86c15[_0x44ade8(0x1a5)]||[]};return null;})[_0x5d1a45(0x120)](Boolean);_0x2b46ee[0x0][_0x5d1a45(0x199)]=_0x185ca0['message'][_0x5d1a45(0x199)],_0x2b46ee[0x0][_0x5d1a45(0x229)]=_0x185ca0['message'][_0x5d1a45(0x229)],_0x2b46ee[0x0][_0x5d1a45(0x1df)]=_0x185ca0['message'][_0x5d1a45(0x1df)],_0x2b46ee[0x0][_0x5d1a45(0x2ae)]=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x2ae)],_0x2b46ee[0x0]['setCompanyAddress']=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x1d1)],_0x2b46ee[0x0][_0x5d1a45(0x17b)]=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x17b)],_0x2b46ee[0x0][_0x5d1a45(0x24c)]=_0x185ca0['message'][_0x5d1a45(0x24c)],_0x2b46ee[0x0][_0x5d1a45(0x127)]=_0x185ca0['message'][_0x5d1a45(0x127)],_0x2b46ee[0x0]['setBranches']=_0x185ca0['message'][_0x5d1a45(0x27b)],_0x2b46ee[0x0][_0x5d1a45(0x24d)]=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x24d)],_0x2b46ee[0x0][_0x5d1a45(0x181)]=_0x185ca0['message']['setSeries'],_0x2b46ee[0x0][_0x5d1a45(0x27c)]=_0x185ca0[_0x5d1a45(0x109)]['setPrinters'],_0x2b46ee[0x0][_0x5d1a45(0x128)]=_0x185ca0[_0x5d1a45(0x109)]['setCurrencyDefault'],_0x2b46ee[0x0][_0x5d1a45(0x1f9)]=_0x185ca0['message'][_0x5d1a45(0x1f9)],_0x2b46ee[0x0][_0x5d1a45(0x2a7)]=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x2a7)],_0x2b46ee[0x0][_0x5d1a45(0x238)]=_0x185ca0['message'][_0x5d1a45(0x238)],_0x2b46ee[0x0][_0x5d1a45(0x1f4)]=_0x185ca0[_0x5d1a45(0x109)]['setShifts'],_0x2b46ee[0x0]['setCollaborators']=_0x185ca0[_0x5d1a45(0x109)][_0x5d1a45(0x218)],_0x5d5bdb['innerHTML']='Sincronizando\x20...';const _0x3763b4=await createCartStore('');await clearAndStore(_0x3763b4,_0x5d1a45(0x174),_0x4b6c89),await clearAndStore(_0x3763b4,'layoutState',[{'id':'layout',..._0x2b46ee[0x0][_0x5d1a45(0x108)]}]),await apiERPsaveOnline(_0x3e1be9,_0x2b46ee[0x0]['setBranches'],_0x2b46ee[0x0]['setUsuarios'],_0x2b46ee[0x0]['setSeries'],_0x2b46ee[0x0][_0x5d1a45(0x27c)]);const _0xfa4b9c=await fetch(_0x5d1a45(0x273),{'method':_0x5d1a45(0x1be),'headers':{'Content-Type':_0x5d1a45(0x1b8)},'body':JSON['stringify']({'setAuthToken':_0x3e1be9})}),_0x2c01c1=await _0xfa4b9c[_0x5d1a45(0x1da)]();if(_0x2c01c1['success'])_0x2b46ee[0x0][_0x5d1a45(0x1c3)]=_0x2c01c1[_0x5d1a45(0x109)][_0x5d1a45(0x1c3)],_0x2b46ee[0x0][_0x5d1a45(0x13a)]=_0x2c01c1[_0x5d1a45(0x109)]['setUsers'],_0x2b46ee[0x0][_0x5d1a45(0x27c)]=_0x2c01c1['message'][_0x5d1a45(0x27c)];else{console['error']('Error\x20Update:',_0x2c01c1[_0x5d1a45(0x109)]);return;}await saveCompanyToIndexedDB(_0x2b46ee,_0x3763b4);if(!_0x2b46ee[0x0][_0x5d1a45(0x1c3)]||_0x2b46ee[0x0]['setWindows']['length']===0x0){console[_0x5d1a45(0x1cd)](_0x5d1a45(0x16e));return;}for(const _0x465c81 of _0x2b46ee[0x0][_0x5d1a45(0x1c3)]){await new Promise(_0x36465f=>setTimeout(_0x36465f,0x12c)),await createCartStore(_0x465c81[_0x5d1a45(0x263)]),_0x5d5bdb[_0x5d1a45(0x274)]=_0x5d1a45(0x14e)+_0x465c81['setWindowName']+_0x5d1a45(0x18b);}_0x5d5bdb['innerHTML']=_0x5d1a45(0x1b5)+_0x1c48f6[_0x5d1a45(0x19b)]+_0x5d1a45(0x18b),setTimeout(()=>location[_0x5d1a45(0x12b)](),0x7d0);}catch(_0x1e7adb){console['error']('Error\x20en\x20la\x20solicitud:',_0x1e7adb),_0x5f12b0[_0x5d1a45(0x27f)]=![],hideLoadingModal(),alert(_0x1e7adb);throw _0x1e7adb;}}function clearAndStore(_0xf30b6,_0x1c5f1b,_0x4768a5){return new Promise((_0x1f3a75,_0x8293f3)=>{const _0x2c6d19=_0x5407,_0x5e4bb5=_0xf30b6[_0x2c6d19(0xfe)](_0x1c5f1b,_0x2c6d19(0x121)),_0x5a7850=_0x5e4bb5[_0x2c6d19(0x14a)](_0x1c5f1b),_0x322b5c=_0x5a7850[_0x2c6d19(0x117)]();_0x322b5c[_0x2c6d19(0x185)]=()=>{const _0x3c44b4=_0x2c6d19;_0x4768a5[_0x3c44b4(0x2ab)](_0x5cb65e=>_0x5a7850[_0x3c44b4(0x105)](_0x5cb65e));},_0x5e4bb5[_0x2c6d19(0x129)]=()=>_0x1f3a75(),_0x5e4bb5['onerror']=()=>_0x8293f3(new Error('Error\x20in\x20saving\x20to\x20store\x20'+_0x1c5f1b+'!'));});}async function logoutReload(_0x16be20=0x0,_0x1b79c9){const _0x5e002f=_0x56e222;if(_0x16be20!=0x1){showLoadingModal();const _0xf349c=document[_0x5e002f(0x137)](_0x5e002f(0x134));_0xf349c[_0x5e002f(0x274)]=_0x5e002f(0x19d);}_0x1b79c9==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x5e002f(0x12b)]();}function registerServiceWorker(_0x1d6e26,_0x39bd5e){const _0x566331=_0x56e222;'serviceWorker'in navigator&&navigator[_0x566331(0x180)][_0x566331(0x107)](_0x1d6e26)[_0x566331(0x10e)](_0x281954=>{const _0x85347d=_0x566331;console[_0x85347d(0x228)](_0x85347d(0x221)),_0x281954[_0x85347d(0x198)]=()=>{const _0x5e75b9=_0x85347d,_0x238f00=_0x281954[_0x5e75b9(0x243)];_0x238f00['onstatechange']=()=>{const _0x3aba05=_0x5e75b9;_0x238f00['state']==_0x3aba05(0x209)&&navigator[_0x3aba05(0x180)][_0x3aba05(0x165)]&&console['log'](_0x3aba05(0x163));};},navigator['serviceWorker'][_0x85347d(0x159)]('controllerchange',()=>{const _0x1f6aa2=_0x85347d;showLoadingModal();const _0x2c273b=document[_0x1f6aa2(0x137)](_0x1f6aa2(0x134));_0x2c273b[_0x1f6aa2(0x274)]=_0x1f6aa2(0x20b),logoutReload(0x1,_0x39bd5e);});})[_0x566331(0x1cc)](_0x4b9849=>console[_0x566331(0x1cd)](_0x566331(0x186),_0x4b9849));}function isLoggedIn(_0x9c0c86){const _0x237a47=_0x56e222;return _0x9c0c86&&_0x9c0c86[0x0]&&_0x9c0c86[0x0][_0x237a47(0x1c9)];}function apiERPShowContent(){const _0x105aa0=_0x56e222;document[_0x105aa0(0x137)](_0x105aa0(0x22e))[_0x105aa0(0x175)][_0x105aa0(0x2a0)](_0x105aa0(0x1cf)),document[_0x105aa0(0x137)](_0x105aa0(0x26b))[_0x105aa0(0x175)][_0x105aa0(0x2a0)](_0x105aa0(0x1cf)),document[_0x105aa0(0x137)](_0x105aa0(0x148))[_0x105aa0(0x175)][_0x105aa0(0x278)]('hidden');const _0x30daa3=document[_0x105aa0(0x137)]('topbar');_0x30daa3&&_0x30daa3[_0x105aa0(0x175)][_0x105aa0(0x2a0)](_0x105aa0(0x1cf));}function x64ctotalcal(){const _0x38ed65=_0x56e222;return window['location'][_0x38ed65(0x122)];}function x64btsparamnumber(_0x132c5c){const _0x36a708=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x132c5c==_0x36a708;}function x32btsfirefoxcalc(_0x22dec7){const _0x48a5ed=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x22dec7==_0x48a5ed;}function x64bitsdescitem(_0x6d1c1){const _0x2584ac=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x6d1c1==_0x2584ac;}function x43bitsdescglobal(_0x4630da){const _0x1779be=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x4630da==_0x1779be;}function x32bitsCompanyTkn(_0x186d36){const _0x15e274=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x186d36==_0x15e274;}function x64bitsparamnumber(_0x2436b6,_0x5e918a){const _0x453c25=_0x5e918a;return _0x2436b6==_0x453c25;}function activarRender(_0xd252aa){const _0x1f8278=_0x56e222,_0x21235a=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0xd252aa)];return _0x21235a[_0x1f8278(0x17e)](!![]);}function saveCompanyToIndexedDB(_0x4ffb6d,_0x24da15){return new Promise((_0xacfb5f,_0x30118a)=>{const _0xc7ea24=_0x5407,_0x19bdb9=_0x24da15[_0xc7ea24(0xfe)](_0xc7ea24(0x13d),_0xc7ea24(0x121)),_0x5137a7=_0x19bdb9['objectStore'](_0xc7ea24(0x13d));_0x5137a7['clear'](),_0x4ffb6d[_0xc7ea24(0x2ab)](_0x3de2c7=>_0x5137a7[_0xc7ea24(0x105)](_0x3de2c7)),_0x19bdb9[_0xc7ea24(0x129)]=()=>_0xacfb5f(),_0x19bdb9[_0xc7ea24(0x292)]=_0x4e34d6=>_0x30118a(_0x4e34d6[_0xc7ea24(0x29c)]['error']);});}function loadCompanyFromIndexedDB(_0x37fa80){return new Promise((_0x8bc25,_0x44f376)=>{const _0x1f5a3b=_0x5407,_0xccf33b=_0x37fa80[_0x1f5a3b(0xfe)](_0x1f5a3b(0x13d),_0x1f5a3b(0x2a6)),_0x5876b3=_0xccf33b[_0x1f5a3b(0x14a)](_0x1f5a3b(0x13d)),_0x2b35af=_0x5876b3['getAll']();_0x2b35af[_0x1f5a3b(0x185)]=()=>_0x8bc25(_0x2b35af[_0x1f5a3b(0x110)]),_0x2b35af[_0x1f5a3b(0x292)]=_0x182f8e=>_0x44f376(_0x182f8e['target']['error']);});}async function initializeCompany(_0x19e82b){const _0xf19a68=_0x56e222;try{const _0x4d380f=await loadCompanyFromIndexedDB(_0x19e82b);company=_0x4d380f,company[_0xf19a68(0x1c4)]>0x0?(console['log'](_0xf19a68(0x247)),myCompany=company[0x0]):console[_0xf19a68(0x228)](_0xf19a68(0x153));}catch(_0x394f5f){console['error'](_0xf19a68(0x100),_0x394f5f);}}function loadProductsFromIndexedDB(_0x1a1428){return new Promise((_0x5ec924,_0x3bb86e)=>{const _0x20708a=_0x5407,_0x244a5a=_0x1a1428['transaction']('products',_0x20708a(0x2a6)),_0x6a8ac6=_0x244a5a[_0x20708a(0x14a)]('products'),_0x4c7d29=_0x6a8ac6['getAll']();_0x4c7d29['onsuccess']=()=>_0x5ec924(_0x4c7d29[_0x20708a(0x110)]),_0x4c7d29[_0x20708a(0x292)]=_0x50b7d0=>_0x3bb86e(_0x50b7d0[_0x20708a(0x29c)][_0x20708a(0x1cd)]);});}async function initializeProducts(_0x2dd6ce){const _0x7a9777=_0x56e222;try{const _0x765c25=await loadProductsFromIndexedDB(_0x2dd6ce);products=_0x765c25,products[_0x7a9777(0x1c4)]>0x0?console[_0x7a9777(0x228)](_0x7a9777(0x235)):console[_0x7a9777(0x228)](_0x7a9777(0x116));}catch(_0x41cea4){console[_0x7a9777(0x1cd)](_0x7a9777(0x1e3),_0x41cea4);}}async function validateAccess(_0x188eaa){const _0x15b46d=_0x56e222;await initializeCompany(_0x188eaa);if(!isLoggedIn(company))throw new Error(_0x15b46d(0xfa));if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert(_0x15b46d(0x179));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}async function loadCart(_0x377c67){const _0x117217=_0x56e222;try{const _0x7884a4=await createCartStore(''),_0x2b2f0f=[];await validateAccess(_0x7884a4);const _0x2f4d46=company[0x0]['setUser_Local'],_0x11ca82=company[0x0][_0x117217(0x13a)][_0x117217(0x10f)](_0x45a338=>_0x45a338[_0x117217(0x282)]==_0x2f4d46['setUserName']),_0x1f7f6f=company[0x0]['setBranches'],_0x2002f1=document['getElementById'](_0x117217(0x226));_0x2002f1[_0x117217(0x274)]='';if(_0x11ca82&&_0x11ca82[_0x117217(0x27b)]){const _0x57b5ef=_0x1f7f6f[_0x117217(0x120)](_0x1a0c04=>_0x11ca82[_0x117217(0x27b)][_0x117217(0x1e1)](_0x301ff8=>_0x301ff8[_0x117217(0x226)]==_0x1a0c04[_0x117217(0x226)]));_0x57b5ef[_0x117217(0x2ab)](_0x53b452=>{const _0x59fe8e=_0x117217,_0x51dc0a=document[_0x59fe8e(0x216)]('option');_0x51dc0a[_0x59fe8e(0x1a6)]=_0x53b452['setBranchId'],_0x51dc0a[_0x59fe8e(0x10a)]=_0x53b452[_0x59fe8e(0x18d)],_0x2002f1[_0x59fe8e(0x268)](_0x51dc0a);});}if(_0x377c67==0x1){const _0x2fa544=document[_0x117217(0x137)](_0x117217(0x207));_0x2fa544[_0x117217(0x274)]='';if(_0x11ca82){const _0x2359b8=document['createElement'](_0x117217(0x24f));_0x2359b8[_0x117217(0x1a6)]=_0x11ca82[_0x117217(0x1e5)],_0x2359b8[_0x117217(0x10a)]=_0x11ca82['setUserFullName'],_0x2fa544[_0x117217(0x268)](_0x2359b8);}const _0x20e348=Array['from'](_0x7884a4[_0x117217(0x2a1)])['filter'](_0x37b4d6=>_0x37b4d6[_0x117217(0x26d)](_0x117217(0x2a4)))[_0x117217(0x1af)](_0x56effd=>{const _0x14ab02=_0x117217,_0x49f61d=_0x56effd[_0x14ab02(0x1f5)]('_');return _0x49f61d[_0x14ab02(0x1c4)]>=0x3?_0x49f61d[0x2]:null;})['filter'](_0x226425=>_0x226425!==null);console[_0x117217(0x228)](_0x117217(0x1a0),_0x20e348);const _0x47cd62=Array[_0x117217(0x18c)](_0x7884a4[_0x117217(0x2a1)])[_0x117217(0x120)](_0x23d4db=>_0x23d4db[_0x117217(0x26d)](_0x117217(0x2a4)))['sort']((_0x42370a,_0x2ce40f)=>{const _0x4b01e2=_0x117217,_0x439c25=parseInt(_0x42370a[_0x4b01e2(0x1f5)]('_')['pop'](),0xa),_0x5a8e20=parseInt(_0x2ce40f[_0x4b01e2(0x1f5)]('_')[_0x4b01e2(0x1aa)](),0xa);return _0x439c25-_0x5a8e20;});for(const _0x5eb68e of _0x47cd62){const _0x590a3f=_0x5eb68e[_0x117217(0x1f5)]('_');if(_0x590a3f[_0x117217(0x1c4)]<0x3){console[_0x117217(0x1cd)](_0x117217(0x237)+_0x5eb68e);continue;}const _0x16d9a1=_0x590a3f[0x2];if(_0x20e348[_0x117217(0x17e)](_0x16d9a1)){const _0x4bf887=new Promise((_0x372325,_0x35317b)=>{const _0x4b7de4=_0x117217,_0x55e73d=_0x7884a4['transaction']([_0x5eb68e],_0x4b7de4(0x2a6)),_0x43765b=_0x55e73d[_0x4b7de4(0x14a)](_0x5eb68e),_0x1eb313=_0x43765b[_0x4b7de4(0x192)](_0x16d9a1);_0x1eb313[_0x4b7de4(0x185)]=function(_0x1bd868){const _0x40b43c=_0x4b7de4,_0x1030dc=_0x1bd868[_0x40b43c(0x29c)][_0x40b43c(0x110)];window_options[_0x16d9a1]={},_0x1030dc&&(window_options[_0x16d9a1]={'setTipoOperacionInvoice':_0x1030dc['setTipoOperacionInvoice'],'setTipoOperacion':_0x1030dc['setTipoOperacion'],'setSerie':_0x1030dc['setSerie'],'setCorrelativo':_0x1030dc[_0x40b43c(0x101)],'setMoneda':_0x1030dc[_0x40b43c(0x1ca)],'setClienteTipoDoc':_0x1030dc[_0x40b43c(0x182)],'setClienteNumDoc':_0x1030dc[_0x40b43c(0x119)],'setClienteDenominacion':_0x1030dc[_0x40b43c(0x147)],'setClienteDireccion':_0x1030dc[_0x40b43c(0x1ff)],'setCustomerPhone':_0x1030dc[_0x40b43c(0x15d)],'setCustomerEmail':_0x1030dc['setCustomerEmail'],'setFechaHora':_0x1030dc['setFechaHora'],'setSellerId':_0x1030dc[_0x40b43c(0x248)],'setSellerName':_0x1030dc[_0x40b43c(0x26e)],'setDespacho':_0x1030dc[_0x40b43c(0x1f8)],'setObservacion':_0x1030dc['setObservacion'],'setDescuentoGlobal_Monto':_0x1030dc[_0x40b43c(0x166)],'setAttachEdit':_0x1030dc[_0x40b43c(0x294)]},console[_0x40b43c(0x228)]('Arrays\x20actualizados\x20para\x20windowId\x20'+_0x16d9a1+':',_0x1030dc)),Promise[_0x40b43c(0x126)](updateTab(_0x16d9a1))[_0x40b43c(0x10e)](_0x372325)[_0x40b43c(0x1cc)](_0x57997a=>{const _0x167182=_0x40b43c;console[_0x167182(0x1cd)](_0x167182(0x183),_0x57997a),_0x35317b(_0x57997a);});},_0x1eb313[_0x4b7de4(0x292)]=function(_0xb96799){const _0x194d1f=_0x4b7de4;console[_0x194d1f(0x1cd)](_0x194d1f(0x188)+_0x16d9a1+'.',_0xb96799['target'][_0x194d1f(0x1cd)]),_0x35317b(_0xb96799[_0x194d1f(0x29c)][_0x194d1f(0x1cd)]);};});_0x2b2f0f[_0x117217(0x201)](_0x4bf887);}}const _0x28d13f=Array['from'](_0x7884a4[_0x117217(0x2a1)])[_0x117217(0x120)](_0x54f9d7=>_0x54f9d7[_0x117217(0x26d)](_0x117217(0x1d9)))[_0x117217(0x12e)]((_0x2ec106,_0x3c5058)=>{const _0x530055=_0x117217,_0x3bca1b=parseInt(_0x2ec106[_0x530055(0x1f5)]('_')[_0x530055(0x1aa)](),0xa),_0x3977da=parseInt(_0x3c5058[_0x530055(0x1f5)]('_')[_0x530055(0x1aa)](),0xa);return _0x3bca1b-_0x3977da;});for(const _0x5e51db of _0x28d13f){const _0x34f852=_0x5e51db[_0x117217(0x1f5)]('_')[0x1];!carts[_0x34f852]&&(carts[_0x34f852]=[]);const _0x1dae7e=new Promise((_0x31a24c,_0x2358f8)=>{const _0x25eb13=_0x117217,_0x5d8f2b=_0x7884a4['transaction']([_0x5e51db],'readonly'),_0x2b9729=_0x5d8f2b[_0x25eb13(0x14a)](_0x5e51db),_0x40b843=_0x2b9729[_0x25eb13(0x196)]();_0x40b843['onsuccess']=function(_0x1a5bf9){const _0x4a9768=_0x25eb13,_0x3849c9=_0x1a5bf9[_0x4a9768(0x29c)][_0x4a9768(0x110)];carts[_0x34f852][_0x4a9768(0x1c4)]=0x0,_0x3849c9[_0x4a9768(0x2ab)](_0x5688df=>carts[_0x34f852][_0x4a9768(0x201)](_0x5688df)),renderCart(_0x34f852),_0x31a24c();},_0x40b843[_0x25eb13(0x292)]=function(_0x173f16){const _0x480157=_0x25eb13;console['error'](_0x480157(0x262)+_0x34f852+'.',_0x173f16[_0x480157(0x29c)][_0x480157(0x1cd)]),_0x2358f8(_0x173f16[_0x480157(0x29c)]['error']);};});_0x2b2f0f[_0x117217(0x201)](_0x1dae7e);}}if(_0x377c67==0x2||_0x377c67==0x3){const _0x3e5ad8=document[_0x117217(0x137)]('setPlanName'),_0x4274a0=document[_0x117217(0x137)](_0x117217(0x131));_0x3e5ad8['innerHTML']='',_0x4274a0['innerHTML']='',_0x11ca82&&(_0x3e5ad8[_0x117217(0x274)]='Plan\x20Impulsa',_0x4274a0['innerHTML']=_0x11ca82[_0x117217(0x291)]);}return _0x377c67==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable()),await Promise[_0x117217(0x233)](_0x2b2f0f),company[0x0]?.[_0x117217(0x135)]&&(document[_0x117217(0x137)](_0x117217(0x226))[_0x117217(0x1a6)]=company[0x0][_0x117217(0x135)]),document['getElementById'](_0x117217(0x226))['dispatchEvent'](new Event('change')),_0x377c67==0x1&&(tabCount=getMaxWindowId(carts),console[_0x117217(0x228)](_0x117217(0x29d)+tabCount)),_0x7884a4;}catch(_0x2900cf){throw _0x2900cf;}}function loadCartAndSetTabCount(_0xaf2032){const _0x266503=_0x56e222;loadCart(_0xaf2032)[_0x266503(0x10e)](async _0x1498bd=>{const _0xf1c891=_0x266503;await initializeProducts(_0x1498bd);if(_0xaf2032==0x1){if(isLoggedIn(company)){const _0x17d146=document[_0xf1c891(0x137)](_0xf1c891(0x21d))['value'];parseFloat(_0x17d146)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0xf1c891(0x2a9)),document['addEventListener'](_0xf1c891(0x1f2),function(_0x28a79b){const _0x21b4bd=_0xf1c891,_0x5351a0=document[_0x21b4bd(0x137)](_0x21b4bd(0x21d))[_0x21b4bd(0x1a6)],_0xae10a0=document[_0x21b4bd(0x137)](_0x21b4bd(0x256)),_0x4c8f42=document[_0x21b4bd(0x173)]('.product[tabindex=\x270\x27]'),_0x1d69ca=document[_0x21b4bd(0x137)](_0x21b4bd(0x19a)+_0x5351a0),_0x2d5e63=document[_0x21b4bd(0x137)](_0x21b4bd(0x28f)+_0x5351a0),_0x17f10a=document[_0x21b4bd(0x137)]('detalleModalPay');function _0x2982b2(_0x692065){const _0x1a0333=_0x21b4bd;return _0x692065&&(_0x692065[_0x1a0333(0x1ab)]>0x0||_0x692065[_0x1a0333(0x286)]>0x0||_0x692065[_0x1a0333(0x1e9)]()[_0x1a0333(0x1c4)]);}let _0x46a697=[];if(_0x17f10a&&_0x17f10a['classList'][_0x21b4bd(0x1eb)]('active')){const _0x27c121=_0x17f10a[_0x21b4bd(0x173)](_0x21b4bd(0x236));_0x27c121[_0x21b4bd(0x2ab)](_0x2ad5b6=>{const _0x449238=_0x21b4bd;_0x2982b2(_0x2ad5b6)&&!_0x2ad5b6[_0x449238(0x175)][_0x449238(0x1eb)](_0x449238(0x1ea))&&_0x46a697['push'](_0x2ad5b6);});const _0x5b9cb6=_0x17f10a['querySelector']('#container-section-pay-'+_0x5351a0);if(_0x5b9cb6){const _0x506386=_0x5b9cb6[_0x21b4bd(0x173)](_0x21b4bd(0x11d));_0x506386[_0x21b4bd(0x2ab)](_0x16f321=>{const _0x23736e=_0x21b4bd;_0x2982b2(_0x16f321)&&!_0x16f321[_0x23736e(0x175)][_0x23736e(0x1eb)](_0x23736e(0x1ea))&&_0x46a697[_0x23736e(0x201)](_0x16f321);});}_0x2d5e63&&_0x2982b2(_0x2d5e63)&&!_0x2d5e63[_0x21b4bd(0x175)][_0x21b4bd(0x1eb)](_0x21b4bd(0x1ea))&&(!_0x46a697[_0x21b4bd(0x17e)](_0x2d5e63)&&_0x46a697[_0x21b4bd(0x201)](_0x2d5e63));}else{_0x46a697=[_0xae10a0,..._0x4c8f42];if(_0x1d69ca)_0x46a697[_0x21b4bd(0x201)](_0x1d69ca);}const _0x5d3a89=document[_0x21b4bd(0x1ad)],_0x3474e0=_0x5d3a89&&(_0x5d3a89[_0x21b4bd(0x250)]==_0x21b4bd(0x1bb)||_0x5d3a89['tagName']==_0x21b4bd(0x232));if(_0x17f10a&&_0x17f10a[_0x21b4bd(0x175)]['contains'](_0x21b4bd(0x245))&&_0x28a79b[_0x21b4bd(0x1e8)]==_0x21b4bd(0x1c6)){if(_0x5d3a89&&_0x5d3a89[_0x21b4bd(0x175)]['contains'](_0x21b4bd(0x23f))){_0x28a79b[_0x21b4bd(0x23b)](),_0x5d3a89['click']();return;}}if(_0x17f10a&&_0x17f10a[_0x21b4bd(0x175)][_0x21b4bd(0x1eb)]('active')&&_0x28a79b[_0x21b4bd(0x1e8)]==_0x21b4bd(0x142)&&!_0x17f10a[_0x21b4bd(0x1eb)](_0x5d3a89)){_0x28a79b[_0x21b4bd(0x23b)]();_0x46a697[_0x21b4bd(0x1c4)]>0x0&&_0x46a697[0x0]['focus']();return;}if(_0x28a79b[_0x21b4bd(0x1e8)]==_0x21b4bd(0x142)){_0x28a79b['preventDefault']();if(_0x46a697[_0x21b4bd(0x1c4)]==0x0)return;let _0x1c0a2c=_0x46a697[_0x21b4bd(0x1b0)](_0x5d3a89);if(_0x1c0a2c==-0x1)_0x1c0a2c=-0x1;let _0x5c1553;_0x28a79b[_0x21b4bd(0x206)]?_0x5c1553=_0x1c0a2c<=0x0?_0x46a697['length']-0x1:_0x1c0a2c-0x1:_0x5c1553=_0x1c0a2c==_0x46a697[_0x21b4bd(0x1c4)]-0x1?0x0:_0x1c0a2c+0x1;_0x46a697[_0x5c1553][_0x21b4bd(0x293)]();return;}(!_0x17f10a||!_0x17f10a[_0x21b4bd(0x175)][_0x21b4bd(0x1eb)](_0x21b4bd(0x245)))&&!_0x3474e0&&(_0x28a79b[_0x21b4bd(0x1e8)][_0x21b4bd(0x1c4)]==0x1||_0x28a79b[_0x21b4bd(0x1e8)]=='Backspace'||_0x28a79b[_0x21b4bd(0x1e8)]==_0x21b4bd(0x172))&&(_0x28a79b[_0x21b4bd(0x23b)](),_0xae10a0[_0x21b4bd(0x293)](),_0x28a79b['key']==_0x21b4bd(0x1b6)||_0x28a79b[_0x21b4bd(0x1e8)]==_0x21b4bd(0x172)?_0xae10a0['value']=_0xae10a0['value'][_0x21b4bd(0x285)](0x0,-0x1):!_0xae10a0[_0x21b4bd(0x1a6)]?_0xae10a0[_0x21b4bd(0x1a6)]=_0x28a79b['key']:_0xae10a0[_0x21b4bd(0x1a6)]+=_0x28a79b[_0x21b4bd(0x1e8)]);}),loadTaxData();var _0x3b7ad6=document['getElementById']('inputItemTax')[_0xf1c891(0x1a6)];baseItem[_0xf1c891(0x156)]=_0x3b7ad6;const _0x41f5d8=company[0x0][_0xf1c891(0x251)][_0xf1c891(0x10f)](_0x17a419=>_0x17a419[_0xf1c891(0x17d)]==_0x3b7ad6)?.[_0xf1c891(0x16f)]||0x0,_0x1c8c32=company[0x0][_0xf1c891(0x251)][_0xf1c891(0x10f)](_0xb52fa3=>_0xb52fa3[_0xf1c891(0x17d)]==_0x3b7ad6)?.[_0xf1c891(0x266)]||0x0;baseItem[_0xf1c891(0x144)]=_0x41f5d8,baseItem[_0xf1c891(0x219)]=_0x1c8c32;var _0x38a84d=uniqueValuesArray(_0xf1c891(0x103),_0xf1c891(0x103),products),_0x373ef2=uniqueValuesArray(_0xf1c891(0x254),_0xf1c891(0x254),products),_0x17800a=initMulti(_0xf1c891(0x27d),_0x38a84d),_0x5b3800=initMulti('newItem_brands_select',_0x373ef2);document[_0xf1c891(0x137)](_0xf1c891(0x27d))[_0xf1c891(0x159)](_0xf1c891(0x283),function(_0x233fa8){const _0x124182=_0xf1c891;baseItem[_0x124182(0x1ec)]=_0x17800a[_0x124182(0x1af)](_0x4da293=>_0x4da293[_0x124182(0x170)]);}),document[_0xf1c891(0x137)]('newItem_brands_select')[_0xf1c891(0x159)](_0xf1c891(0x283),function(_0x42e78d){const _0x737bc1=_0xf1c891;baseItem[_0x737bc1(0x1b3)]=_0x5b3800[_0x737bc1(0x1af)](_0x154dd0=>_0x154dd0[_0x737bc1(0x170)]);});var _0x602f6b=uniqueValuesArray(_0xf1c891(0x25b),_0xf1c891(0x25b),products);addUnit('',_0x602f6b[0x0]&&_0x602f6b[0x0]['setCode'],0x1,!![]),updateUnitsArray();const _0x4a7187=getAllWarehouses();_0x4a7187[_0xf1c891(0x2ab)](function(_0xcd3b2f){const _0xc74f41=_0xf1c891;var _0x1dfb03=document['createElement']('div');_0x1dfb03[_0xc74f41(0x274)]=_0xc74f41(0x28d)+_0xc74f41(0x132)+_0xc74f41(0x21c)+_0xcd3b2f[_0xc74f41(0x149)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0xcd3b2f['setWarehouseName']+_0xc74f41(0x114)+'</div>'+_0xc74f41(0x132)+_0xc74f41(0x111)+_0xcd3b2f[_0xc74f41(0x149)]+'\x22>'+_0xc74f41(0x14d)+'<div\x20class=\x22newItem_col\x22>'+_0xc74f41(0x222)+_0xcd3b2f[_0xc74f41(0x149)]+'\x22>'+_0xc74f41(0x14d)+_0xc74f41(0x14d),branchesC[_0xc74f41(0x268)](_0x1dfb03),_0x1dfb03[_0xc74f41(0x173)](_0xc74f41(0xf7))['forEach'](function(_0x3e0d9e){const _0x354c0d=_0xc74f41;_0x3e0d9e[_0x354c0d(0x159)](_0x354c0d(0xf7),updateBranches);});}),updateUnitsArray(),updateBranches(),updateProdItems();}if(_0xaf2032==0x3){const _0xc3e323=document[_0xf1c891(0x137)](_0xf1c891(0x226))[_0xf1c891(0x1a6)];fil_BranchesId[_0xf1c891(0x201)](_0xc3e323),updateDateRange(_0xf1c891(0x21f));}})[_0x266503(0x1cc)](_0x4da7f0=>{const _0xb7e260=_0x266503;console[_0xb7e260(0x1cd)](_0x4da7f0);})[_0x266503(0x1db)](()=>{const _0x1fb309=_0x266503;_0xaf2032==0x1&&updateInternetIcon();let _0x3bf534;_0xaf2032==0x1&&(_0x3bf534=_0x1fb309(0x287)),(_0xaf2032==0x2||_0xaf2032==0x3)&&(_0x3bf534=_0x1fb309(0x287)),registerServiceWorker(_0x3bf534,_0xaf2032);});}