/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.6
*/

(function(_0x3a8274,_0x14a67f){var _0x1f5b8f=_0x26b3,_0x4eddd2=_0x3a8274();while(!![]){try{var _0x5c1327=-parseInt(_0x1f5b8f(0x1b9))/0x1*(-parseInt(_0x1f5b8f(0x1b4))/0x2)+-parseInt(_0x1f5b8f(0x1f4))/0x3*(parseInt(_0x1f5b8f(0x1df))/0x4)+-parseInt(_0x1f5b8f(0x1e5))/0x5*(parseInt(_0x1f5b8f(0x1d1))/0x6)+-parseInt(_0x1f5b8f(0x21e))/0x7+parseInt(_0x1f5b8f(0x1d2))/0x8*(-parseInt(_0x1f5b8f(0x20c))/0x9)+parseInt(_0x1f5b8f(0x1dc))/0xa+parseInt(_0x1f5b8f(0x21b))/0xb*(parseInt(_0x1f5b8f(0x21c))/0xc);if(_0x5c1327===_0x14a67f)break;else _0x4eddd2['push'](_0x4eddd2['shift']());}catch(_0x260a82){_0x4eddd2['push'](_0x4eddd2['shift']());}}}(_0x58ea,0x2f1ef));var _0x2a0883=(function(){var _0x58c342=!![];return function(_0x3262d8,_0x3a547a){var _0x4ef1f7=_0x58c342?function(){var _0x5e3ae3=_0x26b3;if(_0x3a547a){var _0x10f6a7=_0x3a547a[_0x5e3ae3(0x201)](_0x3262d8,arguments);return _0x3a547a=null,_0x10f6a7;}}:function(){};return _0x58c342=![],_0x4ef1f7;};}()),_0x411efb=_0x2a0883(this,function(){var _0x41da6e=_0x26b3;return _0x411efb['toString']()['search'](_0x41da6e(0x202))[_0x41da6e(0x1ea)]()[_0x41da6e(0x220)](_0x411efb)[_0x41da6e(0x1c0)]('(((.+)+)+)+$');});_0x411efb();var _0x442981=(function(){var _0x20979a=!![];return function(_0x8fb915,_0x38ad78){var _0x1edc7d=_0x20979a?function(){var _0x5b4155=_0x26b3;if(_0x38ad78){var _0x3cdcd7=_0x38ad78[_0x5b4155(0x201)](_0x8fb915,arguments);return _0x38ad78=null,_0x3cdcd7;}}:function(){};return _0x20979a=![],_0x1edc7d;};}()),_0x2bb2c4=_0x442981(this,function(){var _0x33696d=_0x26b3,_0x5a7421=function(){var _0x5186df;try{_0x5186df=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x517563){_0x5186df=window;}return _0x5186df;},_0x1e476b=_0x5a7421(),_0x532ff1=_0x1e476b[_0x33696d(0x1c5)]=_0x1e476b[_0x33696d(0x1c5)]||{},_0x494de0=[_0x33696d(0x217),'warn','info','error','exception',_0x33696d(0x1e1),_0x33696d(0x1da)];for(var _0xbfe806=0x0;_0xbfe806<_0x494de0['length'];_0xbfe806++){var _0xa21510=_0x442981[_0x33696d(0x220)][_0x33696d(0x1c8)][_0x33696d(0x1f3)](_0x442981),_0x2e3c06=_0x494de0[_0xbfe806],_0x227f6f=_0x532ff1[_0x2e3c06]||_0xa21510;_0xa21510[_0x33696d(0x1ca)]=_0x442981['bind'](_0x442981),_0xa21510['toString']=_0x227f6f[_0x33696d(0x1ea)][_0x33696d(0x1f3)](_0x227f6f),_0x532ff1[_0x2e3c06]=_0xa21510;}});function _0x26b3(_0x1fe1f6,_0x53b80f){var _0x110b43=_0x58ea();return _0x26b3=function(_0x2bb2c4,_0x442981){_0x2bb2c4=_0x2bb2c4-0x1b0;var _0x323244=_0x110b43[_0x2bb2c4];return _0x323244;},_0x26b3(_0x1fe1f6,_0x53b80f);}_0x2bb2c4();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11];async function apiERPupdateUsersOnline(_0x58b5a1,_0x496a2f){var _0x55fa10=_0x26b3;if(!isOnline())return console[_0x55fa10(0x217)](_0x55fa10(0x206)),Promise[_0x55fa10(0x1e9)](_0x55fa10(0x206));const _0x272bf2={'setAuthToken':_0x58b5a1,'setUsers':_0x496a2f};return fetch(_0x55fa10(0x215),{'method':_0x55fa10(0x1d5),'headers':{'Content-Type':_0x55fa10(0x1c6)},'body':JSON[_0x55fa10(0x1f1)](_0x272bf2)})[_0x55fa10(0x1c1)](_0x92360f=>{var _0x1119e2=_0x55fa10;if(!_0x92360f['ok'])throw new Error('Error\x20Sync:\x20'+_0x92360f[_0x1119e2(0x214)]);return _0x92360f['json']();})['then'](_0x2f0e06=>{var _0x116348=_0x55fa10;if(!_0x2f0e06[_0x116348(0x20f)])throw new Error(_0x2f0e06[_0x116348(0x1e8)]||_0x116348(0x1cc));return console[_0x116348(0x217)](_0x116348(0x1f2)),_0x2f0e06;})['catch'](_0x268c3f=>{var _0x334c29=_0x55fa10;console[_0x334c29(0x1ec)]('Error\x20al\x20actualizar\x20data\x20online:',_0x268c3f);throw _0x268c3f;});}async function apiERPsyncUsers(){var _0x5ca29c=_0x26b3;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x5ca29c(0x20d)],company[0x0][_0x5ca29c(0x1f8)]));}function generatePermissionsPanel(_0x621f5d){var _0xf396aa=_0x26b3,_0x3a76d3=document['getElementById'](_0xf396aa(0x207));_0x3a76d3[_0xf396aa(0x1c2)]='';var _0x35f66f=_0x621f5d[0x0]&&_0x621f5d[0x0][_0xf396aa(0x1f8)]||[],_0x44e3ba=_0x621f5d[0x0]&&_0x621f5d[0x0][_0xf396aa(0x1ef)]||[];for(var _0x4e690f=0x0;_0x4e690f<_0x35f66f[_0xf396aa(0x1ff)];_0x4e690f++){var _0xa43d24=_0x35f66f[_0x4e690f],_0x1f28f8=document[_0xf396aa(0x210)](_0xf396aa(0x205));_0x1f28f8['className']=_0xf396aa(0x1d4),_0x1f28f8['id']='userPerm_container_'+_0x4e690f;var _0x1869df=document[_0xf396aa(0x210)]('h3');_0x1869df['className']='userPerm_header',_0x1869df['textContent']=_0xa43d24[_0xf396aa(0x1b6)]||_0xf396aa(0x1db)+(_0x4e690f+0x1),_0x1f28f8[_0xf396aa(0x1c7)](_0x1869df);var _0x45b441=document[_0xf396aa(0x210)](_0xf396aa(0x205));_0x45b441[_0xf396aa(0x1b0)]='userPerm_list';for(var _0x4fa647=0x0;_0x4fa647<_0xa43d24[_0xf396aa(0x1d0)][_0xf396aa(0x1ff)];_0x4fa647++){var _0x4d31de=_0xa43d24[_0xf396aa(0x1d0)][_0x4fa647],_0x4cb274=document[_0xf396aa(0x210)](_0xf396aa(0x205));_0x4cb274[_0xf396aa(0x1b0)]=_0xf396aa(0x208),_0x4cb274[_0xf396aa(0x1d3)][_0xf396aa(0x1d9)]=_0x4e690f,_0x4cb274[_0xf396aa(0x1d3)][_0xf396aa(0x1fb)]=_0x4fa647;var _0x3e10b8=Number(_0x4d31de[_0xf396aa(0x1b8)]),_0xda1109=document[_0xf396aa(0x210)]('select');_0xda1109[_0xf396aa(0x1b0)]=_0xf396aa(0x1fc),_0xda1109[_0xf396aa(0x1ba)]=!![];if(BOOLEAN_PERMS[_0xf396aa(0x1bf)](_0x4d31de[_0xf396aa(0x1d6)])!==-0x1){var _0x3ba169=document[_0xf396aa(0x210)](_0xf396aa(0x20a));_0x3ba169[_0xf396aa(0x21f)]='0',_0x3ba169[_0xf396aa(0x1bd)]=_0x4d31de['setPermissionNameFalse'],_0xda1109[_0xf396aa(0x1c7)](_0x3ba169);var _0x112c4c=document[_0xf396aa(0x210)](_0xf396aa(0x20a));_0x112c4c[_0xf396aa(0x21f)]='1',_0x112c4c[_0xf396aa(0x1bd)]=_0x4d31de[_0xf396aa(0x1b1)],_0xda1109[_0xf396aa(0x1c7)](_0x112c4c),_0xda1109[_0xf396aa(0x21f)]=String(_0x3e10b8);}else{if(_0x4d31de['setPermissionId']===0x9||_0x4d31de[_0xf396aa(0x1d6)]===0xc||_0x4d31de['setPermissionId']===0x12){if(_0x4d31de[_0xf396aa(0x1d6)]===0x9){var _0x93efee=document[_0xf396aa(0x210)](_0xf396aa(0x20a));_0x93efee['value']='0',_0x93efee[_0xf396aa(0x1bd)]=_0x4d31de[_0xf396aa(0x1be)],_0xda1109[_0xf396aa(0x1c7)](_0x93efee);for(var _0x345ee1=0x0;_0x345ee1<_0x44e3ba[_0xf396aa(0x1ff)];_0x345ee1++){var _0x16017d=_0x44e3ba[_0x345ee1],_0x23ccda=document['createElement'](_0xf396aa(0x20a));_0x23ccda[_0xf396aa(0x21f)]=String(_0x16017d[_0xf396aa(0x20e)]),_0x23ccda[_0xf396aa(0x1bd)]=_0x16017d[_0xf396aa(0x1b2)],_0xda1109[_0xf396aa(0x1c7)](_0x23ccda);}}if(_0x4d31de[_0xf396aa(0x1d6)]===0xc)for(var _0x345ee1=0x1;_0x345ee1<=0x4;_0x345ee1++){var _0x16017d=_0x345ee1,_0x23ccda=document[_0xf396aa(0x210)](_0xf396aa(0x20a));_0x23ccda[_0xf396aa(0x21f)]=String(_0x16017d),_0x23ccda[_0xf396aa(0x1bd)]='NÃºmero\x20de\x20Decimales:\x20'+_0x16017d,_0xda1109[_0xf396aa(0x1c7)](_0x23ccda);}if(_0x4d31de[_0xf396aa(0x1d6)]===0x12){var _0x1164a5=myCompany&&myCompany[_0xf396aa(0x20b)]||[],_0x93efee=document[_0xf396aa(0x210)]('option');_0x93efee['value']='0',_0x93efee[_0xf396aa(0x1bd)]=_0x4d31de[_0xf396aa(0x1be)],_0xda1109['appendChild'](_0x93efee);for(var _0x345ee1=0x0;_0x345ee1<_0x1164a5[_0xf396aa(0x1ff)];_0x345ee1++){var _0x16017d=_0x1164a5[_0x345ee1],_0x23ccda=document[_0xf396aa(0x210)](_0xf396aa(0x20a));_0x23ccda[_0xf396aa(0x21f)]=String(_0x16017d[_0xf396aa(0x1ed)]),_0x23ccda[_0xf396aa(0x1bd)]=_0x16017d['setEmailCredentialsSenderEmail'],_0xda1109['appendChild'](_0x23ccda);}}_0xda1109['value']=String(_0x3e10b8);}}_0x4cb274[_0xf396aa(0x1c7)](_0xda1109),_0x45b441[_0xf396aa(0x1c7)](_0x4cb274);}_0x1f28f8[_0xf396aa(0x1c7)](_0x45b441);var _0x2d7cb3=document[_0xf396aa(0x210)](_0xf396aa(0x219));_0x2d7cb3[_0xf396aa(0x1b0)]=_0xf396aa(0x1e0),_0x2d7cb3[_0xf396aa(0x1bd)]=_0xf396aa(0x218),_0x2d7cb3['dataset'][_0xf396aa(0x1d9)]=_0x4e690f;var _0x410c3c=document[_0xf396aa(0x210)](_0xf396aa(0x219));_0x410c3c[_0xf396aa(0x1b0)]=_0xf396aa(0x1e4),_0x410c3c[_0xf396aa(0x1bd)]=_0xf396aa(0x212),_0x410c3c[_0xf396aa(0x1d3)]['userIndex']=_0x4e690f,_0x410c3c['style'][_0xf396aa(0x1cd)]=_0xf396aa(0x21d),_0x1f28f8[_0xf396aa(0x1c7)](_0x2d7cb3),_0x1f28f8[_0xf396aa(0x1c7)](_0x410c3c),_0x3a76d3[_0xf396aa(0x1c7)](_0x1f28f8),_0x2d7cb3[_0xf396aa(0x21a)](_0xf396aa(0x1b3),onEditClick),_0x410c3c[_0xf396aa(0x21a)](_0xf396aa(0x1b3),onSaveClick);}}function onEditClick(_0x2688ba){var _0x16c1a1=_0x26b3,_0x550774=_0x2688ba['target'][_0x16c1a1(0x1d3)][_0x16c1a1(0x1d9)],_0x4789cd=document['getElementById']('userPerm_container_'+_0x550774),_0xc5af7e=_0x4789cd[_0x16c1a1(0x1f5)](_0x16c1a1(0x1fc));for(var _0x27f69f=0x0;_0x27f69f<_0xc5af7e[_0x16c1a1(0x1ff)];_0x27f69f++){_0xc5af7e[_0x27f69f][_0x16c1a1(0x1ba)]=![];}_0x4789cd[_0x16c1a1(0x204)](_0x16c1a1(0x1f0))['style']['display']=_0x16c1a1(0x21d),_0x4789cd[_0x16c1a1(0x204)](_0x16c1a1(0x1d7))['style'][_0x16c1a1(0x1cd)]='block',_0x4789cd[_0x16c1a1(0x1b0)]=_0x16c1a1(0x1bc);}async function onSaveClick(_0x97d20b){var _0x1b3819=_0x26b3,_0x2dc4cd=_0x97d20b['target'][_0x1b3819(0x1d3)]['userIndex'],_0x209945=document[_0x1b3819(0x1cf)](_0x1b3819(0x211)+_0x2dc4cd),_0x3390d=_0x209945['getElementsByClassName']('userPerm_item');for(var _0x4beaff=0x0;_0x4beaff<_0x3390d[_0x1b3819(0x1ff)];_0x4beaff++){var _0x39fadd=_0x3390d[_0x4beaff],_0xa633c5=parseInt(_0x39fadd[_0x1b3819(0x1d3)][_0x1b3819(0x1d9)],0xa),_0x3b8e8b=parseInt(_0x39fadd[_0x1b3819(0x1d3)][_0x1b3819(0x1fb)],0xa),_0x3f9273=company[0x0][_0x1b3819(0x1f8)][_0xa633c5][_0x1b3819(0x1d0)][_0x3b8e8b],_0x1bef1b=_0x39fadd[_0x1b3819(0x1f5)](_0x1b3819(0x1fc))[0x0],_0x57b549=_0x1bef1b['value'];_0x3f9273[_0x1b3819(0x1b8)]=_0x57b549,_0x1bef1b[_0x1b3819(0x1ba)]=!![],company[0x0][_0x1b3819(0x1f8)][_0xa633c5]['setLastDateUpdate']=new Date();}const _0x67ec6b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x67ec6b),_0x209945[_0x1b3819(0x204)](_0x1b3819(0x1d7))['style'][_0x1b3819(0x1cd)]=_0x1b3819(0x21d),_0x209945['querySelector'](_0x1b3819(0x1f0))['style']['display']=_0x1b3819(0x1e2),_0x209945[_0x1b3819(0x1b0)]=_0x1b3819(0x1d4),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x3547f8=_0x26b3,_0x12e1b3=document['getElementById'](_0x3547f8(0x203));return _0x12e1b3['innerHTML']='',createCartStore('')[_0x3547f8(0x1c1)](function(_0x325572){var _0x2b729c=_0x3547f8,_0x25f168=_0x325572[_0x2b729c(0x1f6)](_0x2b729c(0x1dd),_0x2b729c(0x1ce)),_0x18eb05=_0x25f168[_0x2b729c(0x1bb)](_0x2b729c(0x1dd));return new Promise(function(_0x259c48,_0x4e0bcc){var _0xe71e47=_0x2b729c,_0x1edb20=_0x18eb05['getAll']();_0x1edb20[_0xe71e47(0x1c4)]=function(){var _0xa1b055=_0xe71e47;_0x259c48(_0x1edb20[_0xa1b055(0x1cb)]);},_0x1edb20['onerror']=function(){var _0x1322c1=_0xe71e47;_0x4e0bcc(_0x1edb20[_0x1322c1(0x1ec)]);};});})[_0x3547f8(0x1c1)](function(_0x2fc50e){var _0x2fd71f=_0x3547f8,_0x20ca0b=[];for(var _0x1a8ad1=0x0;_0x1a8ad1<_0x2fc50e[_0x2fd71f(0x1ff)];_0x1a8ad1++){_0x2fc50e[_0x1a8ad1]['apiPOSsendOffline']==0x1&&_0x20ca0b['push'](_0x2fc50e[_0x1a8ad1]);}if(_0x20ca0b[_0x2fd71f(0x1ff)]===0x0){_0x12e1b3[_0x2fd71f(0x1bd)]=_0x2fd71f(0x1e3);return;}var _0x1075a8=document['createElement']('table');_0x1075a8[_0x2fd71f(0x1b0)]=_0x2fd71f(0x1b5);var _0x13c8a6=document[_0x2fd71f(0x210)](_0x2fd71f(0x1fe)),_0x79f6c4=document[_0x2fd71f(0x210)]('tr');[_0x2fd71f(0x200),'Serie',_0x2fd71f(0x1e7),'Fecha',_0x2fd71f(0x1c3)][_0x2fd71f(0x221)](function(_0x2774db){var _0x8166c4=_0x2fd71f,_0x5b7852=document[_0x8166c4(0x210)]('th');_0x5b7852[_0x8166c4(0x1bd)]=_0x2774db,_0x79f6c4['appendChild'](_0x5b7852);}),_0x13c8a6[_0x2fd71f(0x1c7)](_0x79f6c4),_0x1075a8[_0x2fd71f(0x1c7)](_0x13c8a6);var _0x2d4815=document[_0x2fd71f(0x210)]('tbody');_0x20ca0b[_0x2fd71f(0x221)](function(_0x438505){var _0x42f333=_0x2fd71f,_0x5756d5=document[_0x42f333(0x210)]('tr'),_0xca950e=[_0x438505[_0x42f333(0x1de)],_0x438505[_0x42f333(0x1f7)],_0x438505[_0x42f333(0x209)],_0x438505[_0x42f333(0x1eb)],_0x438505[_0x42f333(0x213)]||''];_0xca950e[_0x42f333(0x221)](function(_0x25be0c){var _0x25bb9d=_0x42f333,_0xe4a2a4=document[_0x25bb9d(0x210)]('td');_0xe4a2a4[_0x25bb9d(0x1bd)]=_0x25be0c,_0x5756d5['appendChild'](_0xe4a2a4);}),_0x2d4815[_0x42f333(0x1c7)](_0x5756d5);}),_0x1075a8[_0x2fd71f(0x1c7)](_0x2d4815),_0x12e1b3[_0x2fd71f(0x1c7)](_0x1075a8);})['catch'](function(_0x1620d7){var _0x3efb1f=_0x3547f8;console[_0x3efb1f(0x1ec)](_0x3efb1f(0x1b7),_0x1620d7),_0x12e1b3[_0x3efb1f(0x1bd)]=_0x3efb1f(0x1ee);});}window['onload']=function(){var _0x332373=_0x26b3;const _0x58f8aa=0x2;loadLoginContent(_0x332373(0x1f9)),setUserNameGet(),setEventBtnAccess();const _0x3f8840=document[_0x332373(0x204)]('.btn-logout');_0x3f8840&&_0x3f8840[_0x332373(0x21a)](_0x332373(0x1b3),function(){logoutReload(0x0,_0x58f8aa);}),document['getElementById'](_0x332373(0x216))[_0x332373(0x21a)](_0x332373(0x1d8),async function(){var _0x5f599b=_0x332373;const _0x47b29a=parseInt(this['value']);company[0x0][_0x5f599b(0x1c9)]=_0x47b29a;const _0x58fecf=await createCartStore('');await saveCompanyToIndexedDB(company,_0x58fecf),cargarAlmacenes(_0x47b29a),setTimeout(()=>{var _0x1dab83=_0x5f599b;document[_0x1dab83(0x1cf)](_0x1dab83(0x1e6))[_0x1dab83(0x1fd)](new Event(_0x1dab83(0x1d8)));},0x64),cargarPisos(_0x47b29a),setTimeout(()=>{var _0xd2d7f4=_0x5f599b;document['getElementById'](_0xd2d7f4(0x1fa))[_0xd2d7f4(0x1fd)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x58f8aa);};function _0x58ea(){var _0x160af2=['userPerm_container_','Guardar','setMessage','statusText','https://apierp.dev/api/users/update/','setBranchId','log','Editar','button','addEventListener','11hlynNU','7040184uOFMyv','none','1609279xOTrmc','value','constructor','forEach','className','setPermissionNameTrue','setTipoOperacionName','click','35102QgGWmI','offlineOps_table','setUserFullName','Error\x20leyendo\x20operaciones:','setPermissionValue','20mtZDol','disabled','objectStore','userPerm_container\x20border_orange','textContent','setPermissionNameFalse','indexOf','search','then','innerHTML','Motivo','onsuccess','console','application/json','appendChild','prototype','setBranchDefault','__proto__','result','Error\x20desconocido\x20al\x20actualizar\x20Data.','display','readonly','getElementById','setPermissions','1847868qGatqi','1073608qBzmaH','dataset','userPerm_container\x20border_blue','POST','setPermissionId','.userPerm_saveBtn','change','userIndex','trace','Usuario\x20','3048610rtYzHh','offline_operations','setTipoOperacion','108124wWZELR','userPerm_editBtn','table','inline-block','No\x20hay\x20operaciones\x20pendientes.','userPerm_saveBtn','5xnvgkg','setWarehouseId','Correlativo','message','reject','toString','setFechaHora','error','setEmailCredentialsId','Error\x20cargando\x20operaciones.','setTipoOperaciones','.userPerm_editBtn','stringify','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','bind','27vPeRIi','getElementsByClassName','transaction','setSerie','setUsers','./img/apiPOS.png','setFloorId','permIndex','userPerm_select','dispatchEvent','thead','length','Tipo','apply','(((.+)+)+)+$','panel_operations','querySelector','div','Error\x20Network.','panel_users','userPerm_item','setCorrelativo','option','setEmailCredentials','18rlFAzm','setAuthToken','setTipoOperacionCodigo','success','createElement'];_0x58ea=function(){return _0x160af2;};return _0x58ea();}