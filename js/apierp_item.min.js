/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.5
*/

function _0x51e0(){var _0x5c9c47=['</div>','value','classList','setCost','upload-btn','setItemComponents','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','preventDefault','btnItemSave','type','setItemCode','.unitAlias','every','join','windowId','match','.vgVals','accept','costInput','inputItemTax','find','Error\x20al\x20procesar\x20la\x20operación:','onload','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','querySelector','selectionChange','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','getElementById','flatMap','100','slice','.removeVariant','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','_units_container','currentTarget','\x22\x20class=\x22branchChk\x22\x20checked>\x20','className','children','setAuthToken','setItemIsBought','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','.branchChk','.variantForm','arrayBuffer','createElement','selectedItem','unitSelect','undefined','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setWarehouseName','newItem_btn_addProdItem','trim','string','newItem_chk_sell','.prodQty','vals','console','dragleave','unitAlias','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','toLowerCase','log','newItem_btn_addUnit','parentNode','__proto__','setItemWarehouses','addEventListener','image_box','926724CSbKXj','<img\x20src=\x22','setCategoria','.prod_input_container','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','[id$=\x22_comp_container\x22]','dataTransfer','setMarca','drop','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','sort','toggle','(((.+)+)+)+$','info','percent','Producto\x20Guardado\x20Offline\x20Correctamente.','change','defineProperty','Ingresa\x20el\x20nombre\x20del\x20item','.options_list','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setItemUnits','setPrice','#newItem_brands_select\x20.selected_tags','newItem_addToCart','setItemDateExpiry','newItem_branches_container','push','setFactor','apply','add','❌\x20Error:\x20','29998888uvZSlK','.prodInput','dispatchEvent','setItemBarCode','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','inputItemDateExpiry','fill','none','.branchMin','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','priceInput','Ingresa\x20el\x20código\x20del\x20item','setCodProducto','prototype','inputItemType','appendChild','setItemVariantValues','newItem_title_table','filter','_comp_container','Enter','setWarehouseId','selected','test','items','setItemBrands','block','.removeProd','assign','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','name','disabled','setUnitPresentationId','setImpuestoName','6570318grBaJn','hidden','newItem_title_table_cp','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setAlias','transaction','search','./js/apierp_item_wk.min.js','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','modalOverlayCreateItem','newItem_variants_forms','setItemId','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Items\x20finales:','indexOf','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','span','textContent','setStockMinimum','8878709EOHNNs','{}.constructor(\x22return\x20this\x22)(\x20)','setUnidad','setTaxIdDefault','entries','.removeGroup','setItemImages','postMessage','files','setItemTaxCode','newItem_units_container','setEquivalence','.drop-zone__prompt','setItemFree','Nuevo\x20Producto','style=\x22display:none\x22','compare','split','#newItem_units_container\x20>\x20div','setDefault','getElementsByClassName','.vgName','splice','_branch_container','remove','inputItemBarCode','key','target','newItem_brands_select','newItem_proditems_container','findIndex','detalleModalCreateItem','.costInput','setName','dragover','length','#newItem_categories_select\x20.options_list','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','drop-zone','true','bind','.unitSelect','file-input','inputItemCode','.ms_input','822942aVpDIU','querySelectorAll','exception','Error\x20al\x20guardar\x20Producto\x20Offline:','setItemTaxId','stopPropagation','from','setImpuestoValue','result','image/*','now','setItemType','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','warn','keydown','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','code','table','remove-tag','padStart','blur','setItemVariantName','5104300jXLkMU','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setImpuestoCode','variant_','9OauUDG','\x20items\x20procesados.','setItemDescription','.priceInput','click','checked','contains','.variantCode','objectStore','setItemInventoriable','#newItem_categories_select\x20.selected_tags','.addVariantComp','setItemCategories','variantForm','.addVariantUnit','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setWarehouseCode','eqInput','onerror','display','includes','setItemTaxValue','setDescripcion','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','.branchInit','newItem_categories_select','default','setImpuestos','newItem_hidden','active','Producto\x20Libre','progress','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','style','inputItemName','map','idx','input','.eqInput','3450183KyDyyy','setCantidad','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setMoneda','base','.removeCombo','setItemName','offline_operations','newItem_chk_buy','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setTaxId','forEach','div','setStockInitial','setWebhook','error','Collator','oncomplete','setCode','./img/product.png','modalProductNewTitle','dataset','.selected_tags','setItemIsSold','setUnitCode','<div\x20class=\x22newItem_col\x22>','4CTesMV','innerHTML','newItem_btn_addVariantGroup','toString','some','newItem_variant_groups','\x22\x20value=\x22'];_0x51e0=function(){return _0x5c9c47;};return _0x51e0();}var _0x49c181=_0x58c0;(function(_0xc2e3bf,_0x4565f9){var _0x5ecb89=_0x58c0,_0x483187=_0xc2e3bf();while(!![]){try{var _0x1325a3=-parseInt(_0x5ecb89(0x10d))/0x1+parseInt(_0x5ecb89(0x18f))/0x2+parseInt(_0x5ecb89(0x1d2))/0x3*(-parseInt(_0x5ecb89(0x1ec))/0x4)+parseInt(_0x5ecb89(0x1a6))/0x5+-parseInt(_0x5ecb89(0x14f))/0x6+-parseInt(_0x5ecb89(0x162))/0x7+parseInt(_0x5ecb89(0x12d))/0x8*(parseInt(_0x5ecb89(0x1aa))/0x9);if(_0x1325a3===_0x4565f9)break;else _0x483187['push'](_0x483187['shift']());}catch(_0x391c16){_0x483187['push'](_0x483187['shift']());}}}(_0x51e0,0xb524f));var _0x387b45=(function(){var _0x2bbfba=!![];return function(_0x52884c,_0xf9063f){var _0xb7f499=_0x2bbfba?function(){var _0x2135ad=_0x58c0;if(_0xf9063f){var _0xe5194d=_0xf9063f[_0x2135ad(0x12a)](_0x52884c,arguments);return _0xf9063f=null,_0xe5194d;}}:function(){};return _0x2bbfba=![],_0xb7f499;};}()),_0x7f4283=_0x387b45(this,function(){var _0x2ab0d5=_0x58c0;return _0x7f4283[_0x2ab0d5(0x1ef)]()[_0x2ab0d5(0x155)](_0x2ab0d5(0x119))[_0x2ab0d5(0x1ef)]()['constructor'](_0x7f4283)[_0x2ab0d5(0x155)](_0x2ab0d5(0x119));});_0x7f4283();var _0x46195e=(function(){var _0x3a6827=!![];return function(_0x46c3f1,_0x3b3c29){var _0x386e88=_0x3a6827?function(){var _0x2f7366=_0x58c0;if(_0x3b3c29){var _0x25be79=_0x3b3c29[_0x2f7366(0x12a)](_0x46c3f1,arguments);return _0x3b3c29=null,_0x25be79;}}:function(){};return _0x3a6827=![],_0x386e88;};}()),_0x3ab2f9=_0x46195e(this,function(){var _0x26910=_0x58c0,_0x66c769=function(){var _0x536f44=_0x58c0,_0xbb6005;try{_0xbb6005=Function('return\x20(function()\x20'+_0x536f44(0x163)+');')();}catch(_0x369170){_0xbb6005=window;}return _0xbb6005;},_0x32005c=_0x66c769(),_0x2c7b77=_0x32005c[_0x26910(0x101)]=_0x32005c['console']||{},_0x3c76a6=['log',_0x26910(0x19c),_0x26910(0x11a),_0x26910(0x1e1),_0x26910(0x191),_0x26910(0x1a1),'trace'];for(var _0x4bc98d=0x0;_0x4bc98d<_0x3c76a6[_0x26910(0x185)];_0x4bc98d++){var _0x3bb11b=_0x46195e['constructor'][_0x26910(0x13a)]['bind'](_0x46195e),_0x33aeaf=_0x3c76a6[_0x4bc98d],_0x3bf7b3=_0x2c7b77[_0x33aeaf]||_0x3bb11b;_0x3bb11b[_0x26910(0x109)]=_0x46195e[_0x26910(0x18a)](_0x46195e),_0x3bb11b[_0x26910(0x1ef)]=_0x3bf7b3[_0x26910(0x1ef)][_0x26910(0x18a)](_0x3bf7b3),_0x2c7b77[_0x33aeaf]=_0x3bb11b;}});_0x3ab2f9();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x49c181(0xe4)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x49c181(0xe4)](_0x49c181(0x127)),prodC=document[_0x49c181(0xe4)](_0x49c181(0x17f)),vgCount=0x0,varContainer=document[_0x49c181(0xe4)](_0x49c181(0x159)),vgC=document[_0x49c181(0xe4)](_0x49c181(0x1f1));const fileInput=document[_0x49c181(0xe4)](_0x49c181(0x18c)),progressBar=document[_0x49c181(0xe4)](_0x49c181(0x1ca)),statusDiv=document['getElementById']('status'),uploadBtn=document[_0x49c181(0xe4)](_0x49c181(0x1f7));let newItemsExcel=null;const itemWorker=new Worker(_0x49c181(0x156)),dropZone=document[_0x49c181(0xe4)](_0x49c181(0x188)),removeBtn=document[_0x49c181(0xe4)]('remove-file');function showModalCreateItem(_0x141417){var _0x8e1f45=_0x49c181;const _0x355310=document[_0x8e1f45(0xe4)](_0x8e1f45(0x181)),_0x25072f=document[_0x8e1f45(0xe4)](_0x8e1f45(0x158));_0x355310[_0x8e1f45(0x1f5)][_0x8e1f45(0x12b)](_0x8e1f45(0x1c8)),_0x25072f[_0x8e1f45(0x1cc)]['display']='block';const _0x41ec02=document['getElementById'](_0x8e1f45(0x16f));_0x41ec02[_0x8e1f45(0x1f4)]=parseInt(_0x141417),baseItem[_0x8e1f45(0x16f)]=parseInt(_0x141417);const _0x1f1883=document[_0x8e1f45(0xe4)](_0x8e1f45(0x1e6));_0x141417==0x0&&(_0x1f1883[_0x8e1f45(0x1ed)]=_0x8e1f45(0x170));_0x141417==0x1&&(_0x1f1883[_0x8e1f45(0x1ed)]=_0x8e1f45(0x1c9));const _0x1b8a26=document[_0x8e1f45(0x176)]('productType1');for(let _0x226f72=0x0;_0x226f72<_0x1b8a26[_0x8e1f45(0x185)];_0x226f72++){const _0x3b982a=_0x1b8a26[_0x226f72];if(_0x141417==0x0)_0x3b982a[_0x8e1f45(0x1f5)][_0x8e1f45(0x17a)](_0x8e1f45(0x150));else _0x141417==0x1&&_0x3b982a['classList'][_0x8e1f45(0x12b)](_0x8e1f45(0x150));}}function hideModalCreateItem(){var _0x651170=_0x49c181;const _0x34c43e=document[_0x651170(0xe4)]('detalleModalCreateItem'),_0x456d51=document[_0x651170(0xe4)](_0x651170(0x158));_0x34c43e[_0x651170(0x1f5)]['remove'](_0x651170(0x1c8)),_0x456d51[_0x651170(0x1cc)][_0x651170(0x1be)]=_0x651170(0x134);}document[_0x49c181(0xe4)]('closeModalCreateItem')[_0x49c181(0x10b)](_0x49c181(0x1ae),hideModalCreateItem),document['getElementById'](_0x49c181(0x158))[_0x49c181(0x10b)]('click',_0x429d36=>{var _0x39e5d5=_0x49c181;_0x429d36[_0x39e5d5(0x17d)]==_0x429d36[_0x39e5d5(0xeb)]&&_0x429d36[_0x39e5d5(0x194)]();});function loadTaxData(){var _0x4c8f92=_0x49c181;const _0x44a5c8=document[_0x4c8f92(0xe4)](_0x4c8f92(0xdc));_0x44a5c8[_0x4c8f92(0x1ed)]='',company[0x0][_0x4c8f92(0x1c6)][_0x4c8f92(0x1dd)](function(_0x4e1cf9){var _0x259153=_0x4c8f92;const _0x1edffb=document[_0x259153(0xf5)]('option');_0x1edffb['value']=_0x4e1cf9[_0x259153(0x1dc)],_0x1edffb[_0x259153(0x1ed)]=_0x4e1cf9[_0x259153(0x14e)]+'\x20('+_0x4e1cf9['setImpuestoValue']+'%)',_0x4e1cf9[_0x259153(0x1dc)]==company[0x0][_0x259153(0x165)]&&(_0x1edffb[_0x259153(0x143)]=!![]),_0x44a5c8[_0x259153(0x13c)](_0x1edffb);});}function uniqueValuesArray(_0x17c55b,_0x559e33,_0x2b106f){var _0x6f9e3=_0x49c181;const _0xf3f9dc=Array['from'](new Set(_0x2b106f['map'](_0x53cb1a=>{var _0x293036=_0x58c0;const _0x30e39c=_0x53cb1a[_0x17c55b];return typeof _0x30e39c===_0x293036(0xfd)?_0x30e39c[_0x293036(0xfc)]():_0x30e39c;})[_0x6f9e3(0x13f)](_0x4de4b4=>_0x4de4b4!=null&&_0x4de4b4!=='')));return _0xf3f9dc[_0x6f9e3(0x1ce)](_0x28f80d=>{var _0x2c1e53=_0x6f9e3;const _0x1dbe10=_0x2b106f[_0x2c1e53(0xdd)](_0x2e364d=>_0x2e364d[_0x17c55b]===_0x28f80d),_0x3eaaf7=_0x1dbe10&&_0x1dbe10[_0x559e33]!=null?String(_0x1dbe10[_0x559e33])[_0x2c1e53(0xfc)]():_0x28f80d;return{'setCode':_0x28f80d,'setName':_0x3eaaf7};});}function fillSelect(_0x3a4139,_0x57d262,_0x4b89e9,_0x53c205){var _0x13282b=_0x49c181;_0x3a4139['innerHTML']='',_0x57d262[_0x13282b(0x1dd)](function(_0x45e637){var _0xfa328=_0x13282b,_0x4b55fe=new Option(_0x45e637[_0x53c205],_0x45e637[_0x4b89e9]);_0x3a4139[_0xfa328(0x12b)](_0x4b55fe);});}function initMulti(_0x445c03,_0x5946bc){var _0xdc64ee=_0x49c181,_0x47a9c3=document[_0xdc64ee(0xe4)](_0x445c03),_0x2b4a20=_0x47a9c3[_0xdc64ee(0xe1)](_0xdc64ee(0x18e)),_0x4daa05=_0x47a9c3[_0xdc64ee(0xe1)]('.options_list'),_0xa65ca7=_0x47a9c3[_0xdc64ee(0xe1)](_0xdc64ee(0x1e8)),_0x48343e=_0x5946bc[_0xdc64ee(0xe7)](),_0x3ee5ff=[];function _0x58e4e9(){var _0x36b2d0=_0xdc64ee;_0x4daa05[_0x36b2d0(0x1ed)]='',_0x48343e[_0x36b2d0(0x13f)](function(_0x4609b8){var _0xe5525=_0x36b2d0;return _0x4609b8[_0xe5525(0x183)][_0xe5525(0x105)]()[_0xe5525(0x15d)](_0x2b4a20[_0xe5525(0x1f4)][_0xe5525(0x105)]())!==-0x1;})['forEach'](function(_0x22fa11){var _0x155ffa=_0x36b2d0,_0x318ec6=document[_0x155ffa(0xf5)](_0x155ffa(0x1de));_0x318ec6[_0x155ffa(0x160)]=_0x22fa11[_0x155ffa(0x183)],_0x318ec6[_0x155ffa(0x1e7)][_0x155ffa(0x1a0)]=_0x22fa11[_0x155ffa(0x1e4)],_0x4daa05['appendChild'](_0x318ec6),_0x318ec6[_0x155ffa(0x10b)]('click',function(){var _0x428831=_0x155ffa;_0x3ee5ff[_0x428831(0x128)](_0x22fa11),_0x48343e[_0x428831(0x178)](_0x48343e[_0x428831(0x180)](function(_0x41fd8d){var _0x337709=_0x428831;return _0x41fd8d[_0x337709(0x1e4)]===_0x22fa11[_0x337709(0x1e4)];}),0x1),_0x2b4a20[_0x428831(0x1f4)]='',_0x16dc1f(),_0x58e4e9();});});}function _0x16dc1f(){var _0x3c99dd=_0xdc64ee;_0xa65ca7['innerHTML']='',_0x3ee5ff['forEach'](function(_0x392e08){var _0x1422de=_0x58c0,_0x4ec839=document[_0x1422de(0xf5)](_0x1422de(0x1de));_0x4ec839[_0x1422de(0xed)]='tag',_0x4ec839['textContent']=_0x392e08[_0x1422de(0x183)];var _0x17b24b=document[_0x1422de(0xf5)](_0x1422de(0x15f));_0x17b24b[_0x1422de(0xed)]=_0x1422de(0x1a2),_0x17b24b[_0x1422de(0x160)]='×',_0x17b24b[_0x1422de(0x10b)](_0x1422de(0x1ae),function(){_0x48343e['push'](_0x392e08);const _0x4aeaf7=_0x3ee5ff['findIndex'](function(_0x218b94){var _0x578e62=_0x58c0;return _0x218b94['setCode']===_0x392e08[_0x578e62(0x1e4)];});if(_0x4aeaf7>-0x1)_0x3ee5ff['splice'](_0x4aeaf7,0x1);_0x16dc1f(),_0x58e4e9();}),_0x4ec839['appendChild'](_0x17b24b),_0xa65ca7[_0x1422de(0x13c)](_0x4ec839);}),_0x47a9c3[_0x3c99dd(0x12f)](new CustomEvent(_0x3c99dd(0xe2),{'bubbles':!![]}));}return _0x2b4a20['addEventListener']('focus',function(){var _0xc423ca=_0xdc64ee;_0x4daa05[_0xc423ca(0x1f5)][_0xc423ca(0x17a)](_0xc423ca(0x1c7));}),_0x2b4a20[_0xdc64ee(0x10b)](_0xdc64ee(0x1d0),_0x58e4e9),_0x2b4a20[_0xdc64ee(0x10b)](_0xdc64ee(0x19d),function(_0x1cf5c4){var _0x3c3320=_0xdc64ee;if(_0x1cf5c4[_0x3c3320(0x17c)]===_0x3c3320(0x141)){_0x1cf5c4[_0x3c3320(0x1fa)]();const _0x4951dc=_0x2b4a20[_0x3c3320(0x1f4)]['trim']();if(!_0x4951dc)return;const _0x4962e1=_0x3ee5ff[_0x3c3320(0x1f0)](_0x3c2a9f=>_0x3c2a9f[_0x3c3320(0x183)]===_0x4951dc),_0x294188=_0x48343e[_0x3c3320(0x1f0)](_0x543d6c=>_0x543d6c['setName']===_0x4951dc);if(!_0x4962e1&&!_0x294188){const _0x392747={'setCode':_0x4951dc,'setName':_0x4951dc};_0x3ee5ff[_0x3c3320(0x128)](_0x392747),_0x16dc1f(),_0x58e4e9();}_0x2b4a20[_0x3c3320(0x1f4)]='';}}),document[_0xdc64ee(0x10b)](_0xdc64ee(0x1ae),function(_0x38b8b6){var _0x3d1c0a=_0xdc64ee;if(!_0x47a9c3[_0x3d1c0a(0x1b0)](_0x38b8b6[_0x3d1c0a(0x17d)]))_0x4daa05[_0x3d1c0a(0x1f5)][_0x3d1c0a(0x12b)](_0x3d1c0a(0x1c7));}),_0x58e4e9(),_0x3ee5ff;}function getLastCode(_0x63203a){var _0x1f538f=_0x49c181;const _0x2a10c3=_0x63203a['map'](_0x36d63d=>String(_0x36d63d['setCodProducto'])['trim']())[_0x1f538f(0x13f)](_0x3d9fe8=>_0x3d9fe8!=='');if(_0x2a10c3[_0x1f538f(0x185)]===0x0)return'';const _0x36cfea=_0x2a10c3[_0x1f538f(0x1ff)](_0x390ebc=>/^\d+$/['test'](_0x390ebc));if(_0x36cfea){const _0x35ff37=_0x2a10c3[_0x1f538f(0x1ce)](Number),_0x3d6b4d=Math['max'](..._0x35ff37);return String(_0x3d6b4d);}let _0x4b69c0;if(typeof Intl!==_0x1f538f(0xf8)&&Intl[_0x1f538f(0x1e2)]){const _0x270e3b=new Intl[(_0x1f538f(0x1e2))](undefined,{'numeric':!![],'sensitivity':_0x1f538f(0x1d6)});_0x4b69c0=_0x2a10c3['slice']()[_0x1f538f(0x117)](_0x270e3b[_0x1f538f(0x172)]);}else{const _0x480641=_0x2a10c3['every'](_0x5e85d8=>/^\d+$/[_0x1f538f(0x144)](_0x5e85d8));_0x480641?_0x4b69c0=_0x2a10c3[_0x1f538f(0x1ce)](Number)[_0x1f538f(0x117)]((_0x5eb04c,_0x49950e)=>_0x5eb04c-_0x49950e)[_0x1f538f(0x1ce)](String):_0x4b69c0=_0x2a10c3[_0x1f538f(0xe7)]()[_0x1f538f(0x117)]();}return _0x4b69c0[_0x4b69c0[_0x1f538f(0x185)]-0x1];}function getNextCode(_0x51c390){var _0x50de3c=_0x49c181;const _0x1fd21c=getLastCode(_0x51c390);if(!_0x1fd21c)return'';if(/^\d+$/[_0x50de3c(0x144)](_0x1fd21c))return String(Number(_0x1fd21c)+0x1);const _0x3bcfb8=_0x1fd21c[_0x50de3c(0x202)](/^([A-Za-z]*)(\d+)$/);if(_0x3bcfb8){const [,_0x3e1fde,_0x24c8c1]=_0x3bcfb8,_0x41167f=String(Number(_0x24c8c1)+0x1)[_0x50de3c(0x1a3)](_0x24c8c1[_0x50de3c(0x185)],'0');return _0x3e1fde+_0x41167f;}return _0x1fd21c;}document[_0x49c181(0xe4)]('inputItemName')[_0x49c181(0x10b)](_0x49c181(0x1d0),function(_0x424e3a){var _0x108b1e=_0x49c181;baseItem['setItemName']=_0x424e3a[_0x108b1e(0x17d)][_0x108b1e(0x1f4)];}),document[_0x49c181(0xe4)]('inputItemDescription')[_0x49c181(0x10b)](_0x49c181(0x1d0),function(_0x498778){var _0x58d9af=_0x49c181;baseItem['setItemDescription']=_0x498778[_0x58d9af(0x17d)][_0x58d9af(0x1f4)];}),document['getElementById'](_0x49c181(0x132))[_0x49c181(0x10b)](_0x49c181(0x1d0),function(_0x4f1335){var _0x3b4594=_0x49c181;baseItem[_0x3b4594(0x126)]=_0x4f1335[_0x3b4594(0x17d)]['value'];}),document[_0x49c181(0xe4)](_0x49c181(0x13b))['addEventListener']('change',function(_0x33222c){var _0x5526d7=_0x49c181;baseItem[_0x5526d7(0x19a)]=_0x33222c['target'][_0x5526d7(0x1f4)];}),document[_0x49c181(0xe4)](_0x49c181(0xdc))[_0x49c181(0x10b)]('change',function(_0xd06c9f){var _0x29d021=_0x49c181;baseItem['setItemTaxId']=_0xd06c9f[_0x29d021(0x17d)][_0x29d021(0x1f4)];const _0x5c1078=_0xd06c9f[_0x29d021(0x17d)][_0x29d021(0x1f4)],_0x5db28e=company[0x0]['setImpuestos'][_0x29d021(0xdd)](_0x5789eb=>_0x5789eb['setTaxId']==_0x5c1078)?.[_0x29d021(0x1a8)]||0x0,_0x3e79b2=company[0x0][_0x29d021(0x1c6)][_0x29d021(0xdd)](_0x18e158=>_0x18e158[_0x29d021(0x1dc)]==_0x5c1078)?.[_0x29d021(0x196)]||0x0;baseItem[_0x29d021(0x16b)]=_0x5db28e,baseItem[_0x29d021(0x1c0)]=_0x3e79b2;}),document[_0x49c181(0xe4)](_0x49c181(0x1da))[_0x49c181(0x10b)](_0x49c181(0x11d),function(_0x4b975a){var _0x1f0eb2=_0x49c181;baseItem[_0x1f0eb2(0xf0)]=_0x4b975a[_0x1f0eb2(0x17d)][_0x1f0eb2(0x1af)];}),document[_0x49c181(0xe4)](_0x49c181(0xfe))[_0x49c181(0x10b)](_0x49c181(0x11d),function(_0x1020e7){var _0x5008bd=_0x49c181;baseItem[_0x5008bd(0x1e9)]=_0x1020e7[_0x5008bd(0x17d)][_0x5008bd(0x1af)];}),document[_0x49c181(0xe4)]('inputItemCode')[_0x49c181(0x10b)](_0x49c181(0x1d0),function(_0xcd99a3){var _0x328d76=_0x49c181;baseItem[_0x328d76(0x1fd)]=_0xcd99a3[_0x328d76(0x17d)][_0x328d76(0x1f4)];}),document[_0x49c181(0xe4)]('inputItemBarCode')[_0x49c181(0x10b)]('input',function(_0x4d7d26){var _0x4e83f0=_0x49c181;baseItem['setItemBarCode']=_0x4d7d26[_0x4e83f0(0x17d)][_0x4e83f0(0x1f4)];}),document['getElementById'](_0x49c181(0x107))[_0x49c181(0x10b)](_0x49c181(0x1ae),function(){addUnit(),updateUnitsArray();}),document[_0x49c181(0xe4)]('inputItemCode')[_0x49c181(0x10b)](_0x49c181(0x1a4),function(){var _0x3497b2=_0x49c181;const _0x493772=this[_0x3497b2(0x1f4)]['trim']();if(_0x493772==='')return;const _0x291794=products[_0x3497b2(0x1f0)](_0x162348=>_0x162348[_0x3497b2(0x139)]==_0x493772),_0x546fe9=getLastCode(products);_0x291794?ntfShow(_0x3497b2(0x1ba)+_0x546fe9,0x2,0x1):ntfShow(_0x3497b2(0x15b),0x1,0x1);});function removeImg(_0x198037){var _0x3e136f=_0x49c181;currentImages[_0x198037]=null;var _0x270c6b=imgC[_0x3e136f(0xe1)]('[data-idx=\x22'+_0x198037+'\x22]');_0x270c6b[_0x3e136f(0x1ed)]='';var _0x62acfd=document[_0x3e136f(0xf5)](_0x3e136f(0x1d0));_0x62acfd[_0x3e136f(0x1fc)]='file',_0x62acfd[_0x3e136f(0xda)]=_0x3e136f(0x198),_0x62acfd[_0x3e136f(0x1cc)][_0x3e136f(0x1be)]='none';var _0x4ad9de=document['createElement'](_0x3e136f(0x15f));_0x4ad9de[_0x3e136f(0x160)]='+',_0x270c6b['appendChild'](_0x62acfd),_0x270c6b[_0x3e136f(0x13c)](_0x4ad9de),_0x270c6b[_0x3e136f(0x10b)]('click',function(){_0x62acfd['click']();}),baseItem['setItemImages']=currentImages[_0x3e136f(0x13f)](function(_0x2895f5){return _0x2895f5;});}function addUnit(_0x17bb31,_0x4610de,_0x6dcb10,_0x58b327,_0x4d2af7,_0x42a249,_0x3dcd60){var _0xfbf6c=_0x49c181,_0x83d10b=uniqueValuesArray(_0xfbf6c(0x164),_0xfbf6c(0x164),products);_0x17bb31=_0x17bb31||'',_0x4610de=_0x4610de||_0x83d10b[0x0]&&_0x83d10b[0x0][_0xfbf6c(0x1e4)]||'',_0x6dcb10=_0x6dcb10!==undefined?_0x6dcb10:0x1,_0x58b327=!!_0x58b327,_0x4d2af7=_0x4d2af7||'',_0x42a249=_0x42a249||'';var _0x5f59d7=unitCount++,_0x4d8ca4=document[_0xfbf6c(0xf5)](_0xfbf6c(0x1de));_0x4d8ca4[_0xfbf6c(0x1e7)][_0xfbf6c(0x1cf)]=_0x5f59d7,_0x4d8ca4[_0xfbf6c(0x1e7)][_0xfbf6c(0x1c5)]=_0x58b327,_0x4d8ca4[_0xfbf6c(0x1ed)]=_0xfbf6c(0x131)+_0x5f59d7+_0xfbf6c(0x1f2)+_0x17bb31+_0xfbf6c(0x152)+_0x5f59d7+_0xfbf6c(0x1d4)+_0x5f59d7+_0xfbf6c(0x1f2)+_0x6dcb10+'\x22\x20'+(_0x58b327?'disabled':'')+_0xfbf6c(0xf9)+_0x5f59d7+_0xfbf6c(0x1f2)+_0x4d2af7+_0xfbf6c(0xe3)+_0x5f59d7+'\x22\x20value=\x22'+_0x42a249+_0xfbf6c(0x116)+(_0x58b327?_0xfbf6c(0x171):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x4d8ca4[_0xfbf6c(0xe1)](_0xfbf6c(0x18b)),_0x83d10b,'setCode',_0xfbf6c(0x183)),_0x4d8ca4['querySelector'](_0xfbf6c(0x18b))[_0xfbf6c(0x1f4)]=_0x4610de,[_0xfbf6c(0x103),_0xfbf6c(0xf7),_0xfbf6c(0x1bc),_0xfbf6c(0x137),_0xfbf6c(0xdb)]['forEach'](function(_0x289913){var _0x282a11=_0xfbf6c;_0x4d8ca4['querySelector']('.'+_0x289913)[_0x282a11(0x10b)]('input',function(){var _0x36377b=_0x282a11,_0xbc5919=_0x3dcd60?+_0x3dcd60['id'][_0x36377b(0x173)]('_')[0x1]:null;if(_0x3dcd60)updateVariantUnits(_0xbc5919);else updateUnitsArray();});}),_0x4d8ca4[_0xfbf6c(0xe1)]('.removeUnit')[_0xfbf6c(0x10b)](_0xfbf6c(0x1ae),function(){var _0x41128c=_0xfbf6c;_0x4d8ca4[_0x41128c(0x17a)]();var _0x490c8b=_0x3dcd60?+_0x3dcd60['id'][_0x41128c(0x173)]('_')[0x1]:null;if(_0x3dcd60)updateVariantUnits(_0x490c8b);else updateUnitsArray();});var _0x2d0b80=_0x3dcd60||document[_0xfbf6c(0xe4)](_0xfbf6c(0x16c));_0x2d0b80[_0xfbf6c(0x13c)](_0x4d8ca4);}function containerIdx(_0x489ca7){var _0x1c2969=_0x49c181;return+_0x489ca7['id'][_0x1c2969(0x173)]('_')[0x1];}function updateUnitsArray(){var _0x253c1d=_0x49c181,_0x253d14=[],_0xf2d438=Array['from'](document[_0x253c1d(0x190)](_0x253c1d(0x174))),_0x1152b3=_0xf2d438[_0x253c1d(0xdd)](_0x19f8f5=>_0x19f8f5[_0x253c1d(0x1e7)]['default']===_0x253c1d(0x189)),_0x460b3a=_0x1152b3?+_0x1152b3['querySelector'](_0x253c1d(0x1d1))[_0x253c1d(0x1f4)]:0x1;_0xf2d438[_0x253c1d(0x1dd)](function(_0x1e4c0c){var _0x55e8ec=_0x253c1d,_0x2c9b84=+_0x1e4c0c[_0x55e8ec(0xe1)](_0x55e8ec(0x1d1))[_0x55e8ec(0x1f4)]||0x0,_0x10cbac=+_0x1e4c0c['querySelector'](_0x55e8ec(0x1ad))[_0x55e8ec(0x1f4)]||0x0,_0x50be01=+_0x1e4c0c[_0x55e8ec(0xe1)](_0x55e8ec(0x182))[_0x55e8ec(0x1f4)]||0x0;_0x253d14[_0x55e8ec(0x128)]({'setAlias':_0x1e4c0c['querySelector']('.unitAlias')[_0x55e8ec(0x1f4)][_0x55e8ec(0xfc)](),'setUnitCode':_0x1e4c0c[_0x55e8ec(0xe1)]('.unitSelect')[_0x55e8ec(0x1f4)],'setEquivalence':_0x2c9b84,'setFactor':_0x1e4c0c[_0x55e8ec(0x1e7)][_0x55e8ec(0x1c5)]===_0x55e8ec(0x189)?0x1:_0x2c9b84==_0x460b3a?0x1:_0x2c9b84<_0x460b3a?_0x460b3a/_0x2c9b84:_0x2c9b84/_0x460b3a,'setPrice':_0x10cbac,'setCost':_0x50be01,'setDefault':_0x1e4c0c[_0x55e8ec(0x1e7)]['default']===_0x55e8ec(0x189)?0x1:0x0});}),baseItem[_0x253c1d(0x122)]=_0x253d14;}function updateBranches(){var _0x185871=_0x49c181,_0x3896e5=[];document['querySelectorAll']('#newItem_branches_container\x20>\x20div')[_0x185871(0x1dd)](function(_0x1211e1){var _0xef946e=_0x185871,_0x3d7a7e=_0x1211e1[_0xef946e(0xe1)](_0xef946e(0xf2));if(_0x3d7a7e[_0xef946e(0x1af)]){var _0x44faee=+_0x3d7a7e[_0xef946e(0x1e7)]['id'],_0x32009c=+_0x1211e1[_0xef946e(0xe1)]('.branchInit')[_0xef946e(0x1f4)],_0x45b9a2=+_0x1211e1[_0xef946e(0xe1)](_0xef946e(0x135))[_0xef946e(0x1f4)];_0x3896e5[_0xef946e(0x128)]({'setWarehouseCode':_0x44faee,'setStockInitial':_0x32009c,'setStockMinimum':_0x45b9a2});}}),baseItem['setItemWarehouses']=_0x3896e5;}document[_0x49c181(0xe4)](_0x49c181(0xfb))[_0x49c181(0x10b)](_0x49c181(0x1ae),function(){var _0x52311e=_0x49c181,_0x3b7118=Date[_0x52311e(0x199)](),_0x37b3d1=document[_0x52311e(0xf5)](_0x52311e(0x1de));_0x37b3d1[_0x52311e(0x1e7)]['idx']=_0x3b7118,_0x37b3d1[_0x52311e(0x1ed)]=_0x52311e(0xe9)+_0x3b7118+_0x52311e(0x111)+_0x3b7118+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x37b3d1),initProdSearch(_0x37b3d1['querySelector'](_0x52311e(0x110))),_0x37b3d1[_0x52311e(0xe1)](_0x52311e(0x148))[_0x52311e(0x10b)]('click',function(){var _0x33a157=_0x52311e;_0x37b3d1[_0x33a157(0x17a)](),updateProdItems();}),_0x37b3d1[_0x52311e(0xe1)](_0x52311e(0xff))[_0x52311e(0x10b)](_0x52311e(0x1d0),updateProdItems),document[_0x52311e(0xe4)](_0x52311e(0x151))[_0x52311e(0x1f5)][_0x52311e(0x118)](_0x52311e(0x13e),!![]),document['getElementById']('newItem_title_table_cp')[_0x52311e(0x1f5)][_0x52311e(0x118)]('newItem_hidden',![]);});function initProdSearch(_0x1bb18b,_0x24b3f1){var _0xcbb7e6=_0x49c181,_0x355b8e=_0x1bb18b['querySelector'](_0xcbb7e6(0x12e)),_0x37c6b8=_0x1bb18b[_0xcbb7e6(0xe1)](_0xcbb7e6(0x120)),_0x2a49bf=_0x24b3f1||null;if(_0x24b3f1)_0x355b8e[_0xcbb7e6(0x1f4)]=_0x24b3f1[_0xcbb7e6(0x14b)];_0x355b8e[_0xcbb7e6(0x10b)](_0xcbb7e6(0x1d0),function(){var _0x45a155=_0xcbb7e6,_0xcec286=_0x355b8e[_0x45a155(0x1f4)][_0x45a155(0x105)]()['trim']();_0x37c6b8['innerHTML']='';if(!_0xcec286)return;products[_0x45a155(0x13f)](_0x1647a2=>_0x1647a2[_0x45a155(0x1c1)][_0x45a155(0x105)]()[_0x45a155(0x1bf)](_0xcec286))['slice'](0x0,0x14)['forEach'](function(_0x16c4d3){var _0x68a0d2=_0x45a155,_0x295096=document[_0x68a0d2(0xf5)](_0x68a0d2(0x1de));_0x295096[_0x68a0d2(0x160)]=_0x16c4d3['setDescripcion'],_0x295096[_0x68a0d2(0x1e7)]['id']=_0x16c4d3['id'],_0x295096[_0x68a0d2(0x1e7)][_0x68a0d2(0x14b)]=_0x16c4d3[_0x68a0d2(0x1c1)],_0x37c6b8[_0x68a0d2(0x13c)](_0x295096),_0x295096[_0x68a0d2(0x10b)](_0x68a0d2(0x1ae),function(){var _0x217682=_0x68a0d2;_0x2a49bf={'id':_0x16c4d3['id'],'name':_0x16c4d3['setDescripcion']},_0x355b8e[_0x217682(0x1f4)]=_0x16c4d3[_0x217682(0x1c1)],_0x37c6b8[_0x217682(0x1ed)]='';var _0x116a42=_0x1bb18b['closest'](_0x217682(0x112));if(_0x116a42){var _0x42652f=+_0x116a42['id']['split']('_')[0x1];updateVariantComponents(_0x42652f);}else updateProdItems();});});}),_0x355b8e[_0xcbb7e6(0x10b)]('focus',function(){var _0x13bb9e=_0xcbb7e6;_0x37c6b8[_0x13bb9e(0x1f5)][_0x13bb9e(0x17a)](_0x13bb9e(0x1c7));}),document['addEventListener'](_0xcbb7e6(0x1ae),function(_0x3d9f85){var _0x349151=_0xcbb7e6;if(!_0x1bb18b[_0x349151(0x1b0)](_0x3d9f85[_0x349151(0x17d)]))_0x37c6b8[_0x349151(0x1f5)][_0x349151(0x12b)](_0x349151(0x1c7));}),Object[_0xcbb7e6(0x11e)](_0x1bb18b,_0xcbb7e6(0xf6),{'get':()=>_0x2a49bf});}function updateProdItems(){var _0x50565e=_0x49c181,_0x5cdca0=[];Array[_0x50565e(0x195)](prodC[_0x50565e(0xee)])[_0x50565e(0x1dd)](function(_0x29570d){var _0x8cd9b6=_0x50565e,_0x20c51e=_0x29570d[_0x8cd9b6(0xe1)](_0x8cd9b6(0x110));if(!_0x20c51e)return;var _0xbeea69=_0x29570d[_0x8cd9b6(0xe1)]('.prodQty'),_0x37bde9=_0x20c51e['selectedItem'];_0x37bde9&&_0x5cdca0['push']({'setItemId':_0x37bde9['id'],'setDescripcion':_0x37bde9['name'],'setCantidad':+_0xbeea69[_0x8cd9b6(0x1f4)]});}),baseItem[_0x50565e(0x1f8)]=_0x5cdca0,_0x5cdca0[_0x50565e(0x185)]===0x0&&(document['getElementById'](_0x50565e(0x151))[_0x50565e(0x1f5)][_0x50565e(0x118)](_0x50565e(0x13e),![]),document[_0x50565e(0xe4)](_0x50565e(0x151))[_0x50565e(0x1f5)]['toggle']('newItem_hidden',!![]));}document[_0x49c181(0xe4)](_0x49c181(0x1ee))['addEventListener'](_0x49c181(0x1ae),function(){var _0x4326aa=_0x49c181,_0x18c5f6=vgCount++,_0x203d81=document[_0x4326aa(0xf5)](_0x4326aa(0x1de));_0x203d81[_0x4326aa(0x1e7)][_0x4326aa(0x1cf)]=_0x18c5f6,_0x203d81[_0x4326aa(0x1ed)]=_0x4326aa(0x1f9)+_0x18c5f6+'\x22>'+_0x4326aa(0x1cb)+_0x18c5f6+'\x22>'+_0x4326aa(0x1db),vgC[_0x4326aa(0x13c)](_0x203d81),_0x203d81[_0x4326aa(0xe1)](_0x4326aa(0x177))['addEventListener'](_0x4326aa(0x1a4),generateVariants),_0x203d81[_0x4326aa(0xe1)]('.vgVals')[_0x4326aa(0x10b)](_0x4326aa(0x1a4),generateVariants),_0x203d81['querySelector'](_0x4326aa(0x167))[_0x4326aa(0x10b)]('click',function(){var _0x174a60=_0x4326aa;_0x203d81[_0x174a60(0x17a)](),generateVariants();});});function generateVariants(){var _0x301dd6=_0x49c181,_0x577f46=[];vgC['querySelectorAll']('div')[_0x301dd6(0x1dd)](function(_0x3c7a46){var _0x18837e=_0x301dd6,_0x485e4f=_0x3c7a46[_0x18837e(0xe1)](_0x18837e(0x177))[_0x18837e(0x1f4)][_0x18837e(0xfc)](),_0xb6676=_0x3c7a46[_0x18837e(0xe1)](_0x18837e(0xd9))[_0x18837e(0x1f4)][_0x18837e(0x173)](',')['map'](_0xb105f8=>_0xb105f8['trim']())[_0x18837e(0x13f)](_0x2c1950=>_0x2c1950);if(_0x485e4f&&_0xb6676[_0x18837e(0x185)])_0x577f46[_0x18837e(0x128)]({'name':_0x485e4f,'vals':_0xb6676});});var _0x965d34=[{}];_0x577f46[_0x301dd6(0x1dd)](function(_0x5aa607){var _0x28658c=_0x301dd6;_0x965d34=_0x965d34[_0x28658c(0xe5)](function(_0xaac323){var _0x1b8850=_0x28658c;return _0x5aa607[_0x1b8850(0x100)][_0x1b8850(0x1ce)](function(_0x833ea5){var _0x4ddb34=_0x1b8850,_0x445740=Object[_0x4ddb34(0x149)]({},_0xaac323);return _0x445740[_0x5aa607['name']]=_0x833ea5,_0x445740;});});}),newItems=[],varContainer[_0x301dd6(0x1ed)]='',_0x965d34[_0x301dd6(0x1dd)](function(_0x9c7c33,_0x3b7ee6){var _0x41cd2b=_0x301dd6,_0x5d99f8=JSON['parse'](JSON['stringify'](baseItem));_0x5d99f8[_0x41cd2b(0x13d)]=_0x9c7c33,_0x5d99f8['setItemVariantName']=baseItem[_0x41cd2b(0x1d8)]+'\x20'+Object[_0x41cd2b(0x166)](_0x9c7c33)[_0x41cd2b(0x1ce)](_0x49c3e3=>_0x49c3e3[0x0]+'\x20'+_0x49c3e3[0x1])[_0x41cd2b(0x200)]('\x20'),newItems[_0x41cd2b(0x128)](_0x5d99f8);var _0x3f40c4=document[_0x41cd2b(0xf5)]('div');_0x3f40c4['classList']['add'](_0x41cd2b(0x1b7)),_0x3f40c4[_0x41cd2b(0x1e7)][_0x41cd2b(0x1cf)]=_0x3b7ee6,_0x3f40c4[_0x41cd2b(0x1ed)]=_0x41cd2b(0x1a7)+_0x5d99f8[_0x41cd2b(0x1a5)]+_0x41cd2b(0x187)+_0x5d99f8[_0x41cd2b(0x1fd)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x5d99f8[_0x41cd2b(0x130)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x5d99f8[_0x41cd2b(0x126)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x3b7ee6+_0x41cd2b(0x1c2)+_0x3b7ee6+_0x41cd2b(0xf1)+_0x3b7ee6+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x41cd2b(0x13c)](_0x3f40c4),_0x3f40c4[_0x41cd2b(0xe1)](_0x41cd2b(0x1b1))[_0x41cd2b(0x10b)](_0x41cd2b(0x1d0),_0x2782a3=>newItems[_0x3b7ee6][_0x41cd2b(0x1fd)]=_0x2782a3[_0x41cd2b(0x17d)][_0x41cd2b(0x1f4)]),_0x3f40c4[_0x41cd2b(0xe1)]('.variantBarCode')['addEventListener']('input',_0x59b780=>newItems[_0x3b7ee6][_0x41cd2b(0x130)]=_0x59b780[_0x41cd2b(0x17d)][_0x41cd2b(0x1f4)]),_0x3f40c4[_0x41cd2b(0xe1)]('.variantExpiry')[_0x41cd2b(0x10b)](_0x41cd2b(0x11d),_0x516c7f=>newItems[_0x3b7ee6][_0x41cd2b(0x126)]=_0x516c7f[_0x41cd2b(0x17d)][_0x41cd2b(0x1f4)]),initVariantUnits(_0x3b7ee6),initVariantComponents(_0x3b7ee6),initVariantBranches(_0x3b7ee6),_0x3f40c4[_0x41cd2b(0xe1)](_0x41cd2b(0xe8))[_0x41cd2b(0x10b)](_0x41cd2b(0x1ae),function(){var _0x277feb=_0x41cd2b,_0x593035=+_0x3f40c4['dataset']['idx'];newItems[_0x277feb(0x178)](_0x593035,0x1),_0x3f40c4[_0x277feb(0x17a)](),document['querySelectorAll'](_0x277feb(0xf3))['forEach'](function(_0x549200,_0xfabb97){var _0x6d163f=_0x277feb;_0x549200[_0x6d163f(0x1e7)][_0x6d163f(0x1cf)]=_0xfabb97;});});});if(newItems[_0x301dd6(0x185)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x4b39dc){var _0x13cd7f=_0x49c181,_0xb20846=document['getElementById'](_0x13cd7f(0x1a9)+_0x4b39dc+_0x13cd7f(0xea)),_0x4af2d=[];Array['from'](_0xb20846[_0x13cd7f(0xee)])[_0x13cd7f(0x1dd)](function(_0x26f1a5){var _0x592dc2=_0x13cd7f,_0x44e793=+_0x26f1a5[_0x592dc2(0xe1)](_0x592dc2(0x1d1))[_0x592dc2(0x1f4)]||0x0,_0x14827a=_0x26f1a5[_0x592dc2(0xe1)]('.unitAlias')['value'][_0x592dc2(0xfc)](),_0x3f4c4d=_0x26f1a5['querySelector'](_0x592dc2(0x18b))[_0x592dc2(0x1f4)],_0x31d01c=+_0x26f1a5['querySelector']('.priceInput')['value']||0x0,_0x4cb00d=+_0x26f1a5[_0x592dc2(0xe1)](_0x592dc2(0x182))[_0x592dc2(0x1f4)]||0x0,_0x2357e0=_0x26f1a5[_0x592dc2(0x1e7)][_0x592dc2(0x1c5)]===_0x592dc2(0x189),_0x597833=+_0xb20846['querySelector']('div[data-default=\x22true\x22]\x20.eqInput')[_0x592dc2(0x1f4)]||0x1,_0x516bbf=_0x2357e0?0x1:_0x44e793==_0x597833?0x1:_0x44e793<_0x597833?_0x597833/_0x44e793:_0x44e793/_0x597833;_0x4af2d[_0x592dc2(0x128)]({'setAlias':_0x14827a,'setUnitCode':_0x3f4c4d,'setEquivalence':_0x44e793,'setFactor':_0x516bbf,'setPrice':_0x31d01c,'setCost':_0x4cb00d,'setDefault':_0x2357e0?0x1:0x0});}),newItems[_0x4b39dc][_0x13cd7f(0x122)]=_0x4af2d;}function initVariantUnits(_0x194142){var _0x5d8933=_0x49c181,_0x44d270=document[_0x5d8933(0xe4)](_0x5d8933(0x1a9)+_0x194142+'_units_container');_0x44d270[_0x5d8933(0x1ed)]='',newItems[_0x194142][_0x5d8933(0x122)][_0x5d8933(0x1dd)](function(_0x5b9313){var _0x373844=_0x5d8933;addUnit(_0x5b9313[_0x373844(0x153)],_0x5b9313[_0x373844(0x1ea)],_0x5b9313[_0x373844(0x16d)],_0x5b9313[_0x373844(0x175)],_0x5b9313[_0x373844(0x123)],_0x5b9313['setCost'],_0x44d270);}),_0x44d270['parentNode']['querySelector'](_0x5d8933(0x1b8))['addEventListener'](_0x5d8933(0x1ae),function(){addUnit('','',0x1,![],'','',_0x44d270),updateVariantUnits(_0x194142);});}function updateVariantUnits(_0x29f451){var _0x485ffb=_0x49c181,_0x2f8b00=document[_0x485ffb(0xe4)]('variant_'+_0x29f451+_0x485ffb(0xea)),_0x19db4f=_0x2f8b00['querySelector']('div[data-default=\x22true\x22]\x20.eqInput'),_0x2711a2=_0x19db4f?+_0x19db4f[_0x485ffb(0x1f4)]:0x1,_0x5c13e3=Array[_0x485ffb(0x195)](_0x2f8b00[_0x485ffb(0xee)])['map'](function(_0x27a057){var _0xf4d74b=_0x485ffb,_0x4fbb40=_0x27a057[_0xf4d74b(0xe1)](_0xf4d74b(0x1fe))[_0xf4d74b(0x1f4)]['trim'](),_0x28a288=_0x27a057[_0xf4d74b(0xe1)]('.unitSelect')['value'],_0x4c72db=+_0x27a057[_0xf4d74b(0xe1)]('.eqInput')[_0xf4d74b(0x1f4)]||0x0,_0x32bfe8=+_0x27a057[_0xf4d74b(0xe1)](_0xf4d74b(0x1ad))['value']||0x0,_0x5b0391=+_0x27a057[_0xf4d74b(0xe1)](_0xf4d74b(0x182))[_0xf4d74b(0x1f4)]||0x0,_0x57cd91=_0x27a057[_0xf4d74b(0x1e7)][_0xf4d74b(0x1c5)]===_0xf4d74b(0x189);return{'setAlias':_0x4fbb40,'setUnitCode':_0x28a288,'setEquivalence':_0x4c72db,'setFactor':_0x57cd91?0x1:_0x4c72db==_0x2711a2?0x1:_0x4c72db<_0x2711a2?_0x2711a2/_0x4c72db:_0x4c72db/_0x2711a2,'setPrice':_0x32bfe8,'setCost':_0x5b0391,'setDefault':_0x57cd91?0x1:0x0};});newItems[_0x29f451][_0x485ffb(0x122)]=_0x5c13e3;}function initVariantComponents(_0x2b729a){var _0x4bc8fe=_0x49c181,_0x5109bd=document['getElementById'](_0x4bc8fe(0x1a9)+_0x2b729a+_0x4bc8fe(0x140));_0x5109bd[_0x4bc8fe(0x1ed)]='',newItems[_0x2b729a]['setItemComponents'][_0x4bc8fe(0x1dd)](function(_0x30f94e){var _0x5ab456=_0x4bc8fe,_0x5d94f1=document[_0x5ab456(0xf5)](_0x5ab456(0x1de)),_0x41c4a8=Date[_0x5ab456(0x199)]();_0x5d94f1[_0x5ab456(0x1e7)][_0x5ab456(0x1cf)]=_0x41c4a8,_0x5d94f1['innerHTML']=_0x5ab456(0x19f)+_0x41c4a8+_0x5ab456(0x15e)+_0x30f94e[_0x5ab456(0x1d3)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x5109bd[_0x5ab456(0x13c)](_0x5d94f1),initProdSearch(_0x5d94f1['querySelector']('.prod_input_container'),{'id':_0x30f94e[_0x5ab456(0x15a)],'name':_0x30f94e[_0x5ab456(0x1c1)]}),_0x5d94f1['querySelector']('.prodQty')['addEventListener'](_0x5ab456(0x1d0),function(){updateVariantComponents(_0x2b729a);}),_0x5d94f1[_0x5ab456(0xe1)](_0x5ab456(0x1d7))[_0x5ab456(0x10b)](_0x5ab456(0x1ae),function(){var _0x187230=_0x5ab456;_0x5d94f1[_0x187230(0x17a)](),updateVariantComponents(_0x2b729a);});}),_0x5109bd[_0x4bc8fe(0x108)]['querySelector'](_0x4bc8fe(0x1b5))[_0x4bc8fe(0x10b)](_0x4bc8fe(0x1ae),function(){var _0x58f878=_0x4bc8fe,_0x5e0f67=document[_0x58f878(0xf5)](_0x58f878(0x1de)),_0x2b9c94=Date['now']();_0x5e0f67[_0x58f878(0x1e7)]['idx']=_0x2b9c94,_0x5e0f67['innerHTML']=_0x58f878(0x19f)+_0x2b9c94+_0x58f878(0x14a),_0x5109bd[_0x58f878(0x13c)](_0x5e0f67),initProdSearch(_0x5e0f67[_0x58f878(0xe1)]('.prod_input_container')),_0x5e0f67[_0x58f878(0xe1)](_0x58f878(0xff))[_0x58f878(0x10b)](_0x58f878(0x1d0),function(){updateVariantComponents(_0x2b729a);}),_0x5e0f67[_0x58f878(0xe1)](_0x58f878(0x1d7))[_0x58f878(0x10b)](_0x58f878(0x1ae),function(){var _0x335a63=_0x58f878;_0x5e0f67[_0x335a63(0x17a)](),updateVariantComponents(_0x2b729a);});});}function updateVariantComponents(_0x288762){var _0x58a66b=_0x49c181,_0x2e1d3e=document[_0x58a66b(0xe4)]('variant_'+_0x288762+'_comp_container'),_0x411abf=Array[_0x58a66b(0x195)](_0x2e1d3e[_0x58a66b(0xee)])[_0x58a66b(0x1ce)](function(_0x1108a7){var _0x3ee561=_0x58a66b,_0x2d4771=_0x1108a7[_0x3ee561(0xe1)]('.prod_input_container'),_0x3f0995=_0x2d4771['selectedItem'],_0x3cc0b0=+_0x1108a7[_0x3ee561(0xe1)](_0x3ee561(0xff))['value']||0x0;return _0x3f0995?{'setItemId':_0x3f0995['id'],'setDescripcion':_0x3f0995[_0x3ee561(0x14b)],'setCantidad':_0x3cc0b0}:null;})[_0x58a66b(0x13f)](_0x21fedd=>_0x21fedd);newItems[_0x288762][_0x58a66b(0x1f8)]=_0x411abf;}function initVariantBranches(_0x2e2079){var _0x2ca680=_0x49c181;const _0x3ba21e=getAllWarehouses();var _0x432b5e=document['getElementById']('variant_'+_0x2e2079+_0x2ca680(0x179));_0x432b5e[_0x2ca680(0x1ed)]='',newItems[_0x2e2079][_0x2ca680(0x10a)][_0x2ca680(0x1dd)](function(_0x595eca){var _0xdfbc92=_0x2ca680,_0x3bdbe8=_0x3ba21e[_0xdfbc92(0xdd)](_0xffe7ef=>_0xffe7ef[_0xdfbc92(0x142)]==_0x595eca[_0xdfbc92(0x1bb)]),_0x51aca6=document[_0xdfbc92(0xf5)](_0xdfbc92(0x1de));_0x51aca6[_0xdfbc92(0x1ed)]=_0xdfbc92(0x19e)+_0x595eca[_0xdfbc92(0x1bb)]+_0xdfbc92(0xec)+_0x3bdbe8[_0xdfbc92(0xfa)]+_0xdfbc92(0x104)+_0x595eca[_0xdfbc92(0x1bb)]+_0xdfbc92(0x1f2)+_0x595eca['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x595eca['setWarehouseCode']+_0xdfbc92(0x1f2)+_0x595eca['setStockMinimum']+'\x22>',_0x432b5e[_0xdfbc92(0x13c)](_0x51aca6),_0x51aca6[_0xdfbc92(0x190)](_0xdfbc92(0x1d0))[_0xdfbc92(0x1dd)](function(_0x47889a){var _0x26abbd=_0xdfbc92;_0x47889a['addEventListener'](_0x26abbd(0x1d0),function(){updateVariantBranches(_0x2e2079);});});}),_0x3ba21e['forEach'](function(_0x197822){var _0x485eb1=_0x2ca680;if(!newItems[_0x2e2079]['setItemWarehouses'][_0x485eb1(0xdd)](_0x2c5ade=>_0x2c5ade[_0x485eb1(0x1bb)]===_0x197822[_0x485eb1(0x142)])){var _0x300c2c=document[_0x485eb1(0xf5)](_0x485eb1(0x1de));_0x300c2c[_0x485eb1(0x1ed)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x197822[_0x485eb1(0x142)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x197822[_0x485eb1(0xfa)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x197822[_0x485eb1(0x142)]+_0x485eb1(0x157)+_0x197822['setWarehouseId']+'\x22>',_0x432b5e[_0x485eb1(0x13c)](_0x300c2c),_0x300c2c[_0x485eb1(0x190)](_0x485eb1(0x1d0))[_0x485eb1(0x1dd)](function(_0x2f986d){var _0x163e14=_0x485eb1;_0x2f986d[_0x163e14(0x10b)](_0x163e14(0x1d0),function(){updateVariantBranches(_0x2e2079);});});}});}function _0x58c0(_0x177b87,_0x17c1ff){var _0x16cc2a=_0x51e0();return _0x58c0=function(_0x3ab2f9,_0x46195e){_0x3ab2f9=_0x3ab2f9-0xd9;var _0x5a5c7c=_0x16cc2a[_0x3ab2f9];return _0x5a5c7c;},_0x58c0(_0x177b87,_0x17c1ff);}function updateVariantBranches(_0x1d2aff){var _0x4b185d=_0x49c181,_0x475f37=document['getElementById'](_0x4b185d(0x1a9)+_0x1d2aff+_0x4b185d(0x179)),_0x256f11=[];_0x475f37[_0x4b185d(0x190)](_0x4b185d(0x1de))[_0x4b185d(0x1dd)](function(_0x5443ef){var _0x1035ce=_0x4b185d,_0x4875d5=_0x5443ef[_0x1035ce(0xe1)](_0x1035ce(0xf2));if(_0x4875d5['checked']){var _0x39e0ef=+_0x4875d5[_0x1035ce(0x1e7)]['id'],_0x469959=+_0x5443ef[_0x1035ce(0xe1)](_0x1035ce(0x1c3))[_0x1035ce(0x1f4)]||0x0,_0x57bf79=+_0x5443ef['querySelector'](_0x1035ce(0x135))[_0x1035ce(0x1f4)]||0x0;_0x256f11[_0x1035ce(0x128)]({'setWarehouseCode':_0x39e0ef,'setStockInitial':_0x469959,'setStockMinimum':_0x57bf79});}}),newItems[_0x1d2aff][_0x4b185d(0x10a)]=_0x256f11;}async function storeOfflineProduct(_0x5f0097){var _0xe50d51=_0x49c181;try{const _0x2d48ac=await createCartStore(''),_0x157162=_0x2d48ac[_0xe50d51(0x154)](_0xe50d51(0x1d9),'readwrite'),_0x47a443=_0x157162[_0xe50d51(0x1b2)](_0xe50d51(0x1d9));_0x47a443['add'](_0x5f0097),_0x157162[_0xe50d51(0x1e3)]=()=>{var _0x5d3865=_0xe50d51;console[_0x5d3865(0x106)](_0x5d3865(0x11c));},_0x157162[_0xe50d51(0x1bd)]=_0x3f39d8=>{var _0x2d11da=_0xe50d51;console[_0x2d11da(0x1e1)](_0x2d11da(0x192),_0x3f39d8[_0x2d11da(0x17d)][_0x2d11da(0x1e1)]);};}catch(_0x43b93a){console[_0xe50d51(0x1e1)](_0xe50d51(0xde),_0x43b93a);}}document[_0x49c181(0xe4)](_0x49c181(0x1fb))['addEventListener'](_0x49c181(0x1ae),async function(_0x47633f){var _0xce31a8=_0x49c181;_0x47633f[_0xce31a8(0x1fa)]();const _0x205f14=document[_0xce31a8(0xe4)](_0xce31a8(0x18d)),_0x2daab6=document[_0xce31a8(0xe4)]('setItemFree')['value'];if(!_0x205f14[_0xce31a8(0x1f4)]['trim']()&&_0x2daab6==0x0){ntfShow(_0xce31a8(0x138),0x2,0x1);return;}_0x2daab6==0x1&&(_0x205f14[_0xce31a8(0x1f4)]='',baseItem[_0xce31a8(0x1fd)]='');const _0x1e1565=document[_0xce31a8(0xe4)](_0xce31a8(0x1cd));if(!_0x1e1565[_0xce31a8(0x1f4)][_0xce31a8(0xfc)]()){ntfShow(_0xce31a8(0x11f),0x2,0x1);return;}const _0x37b8d5=document[_0xce31a8(0xe4)](_0xce31a8(0x125));hideModalCreateItem(),showLoadingModal();newItems[_0xce31a8(0x185)]===0x0&&(newItems=[baseItem]);const _0x2ace5e=document[_0xce31a8(0xe4)]('windowId')[_0xce31a8(0x1f4)],_0x341c67=window_options[_0x2ace5e]['setMoneda'];let _0x9598f2=generateNumericUniqId()*0x64+0x1f4,_0x4e1550=generateNumericUniqId()*0xa;const _0x53fc8e=[];newItems['forEach'](_0x207365=>{var _0x9626fa=_0xce31a8;const _0x4269f7=++_0x4e1550;_0x207365[_0x9626fa(0x122)][_0x9626fa(0x1dd)](_0x13dd45=>{var _0x310b0a=_0x9626fa;const _0x1c130b=++_0x9598f2;_0x13dd45[_0x310b0a(0x14d)]=_0x1c130b;const _0x31a543={'id':_0x1c130b,'setIdProducto':_0x4269f7,'setCodProducto':_0x207365[_0x310b0a(0x1fd)],'setDescripcion':_0x207365['setItemVariantName']!=''?_0x207365['setItemVariantName']:_0x207365[_0x310b0a(0x1d8)],'setItemDescription':_0x207365[_0x310b0a(0x1ac)],'setBatchExpirationDate':_0x207365[_0x310b0a(0x126)],'setBatchName':'','setCategoria':_0x207365[_0x310b0a(0x1b6)][0x0]||'','setMarca':_0x207365['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x13dd45[_0x310b0a(0x129)]),'setImages':[],'setImg':_0x310b0a(0x1e5),'setInventariable':0x1,'setItemIsBought':_0x207365[_0x310b0a(0xf0)]?0x1:0x0,'setItemIsSold':_0x207365['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x207365[_0x310b0a(0x1c0)],'setPrinters':[],'setTaxId':_0x207365['setItemTaxId'],'setTipAfeIgv':_0x207365[_0x310b0a(0x16b)],'setUnidad':_0x13dd45['setUnitCode'],'setUnidadCodigo':_0x13dd45[_0x310b0a(0x1ea)],'currency_data':[{'currency':_0x341c67,'setMtoPrecioCostoUnitario':_0x13dd45[_0x310b0a(0x1f6)],'setMtoPrecioUnitario':_0x13dd45[_0x310b0a(0x123)],'setPriceLists':[]}],'sucursales':_0x207365[_0x310b0a(0x10a)][_0x310b0a(0x1ce)](_0x342586=>({'setIdSucursal':_0x342586[_0x310b0a(0x1bb)],'setSucursalStock':_0x342586[_0x310b0a(0x1df)]['toString'](),'setWarehouseStockMin':_0x342586[_0x310b0a(0x161)][_0x310b0a(0x1ef)]()})),'setItemFree':_0x207365[_0x310b0a(0x16f)],'setItemBarCode':_0x207365['setItemBarCode'],'setItemBrands':_0x207365['setItemBrands'][_0x310b0a(0xe7)](),'setItemCategories':_0x207365['setItemCategories'][_0x310b0a(0xe7)](),'setItemComponents':_0x207365[_0x310b0a(0x1f8)][_0x310b0a(0x1ce)](_0x5b6949=>({..._0x5b6949})),'setItemImages':_0x207365[_0x310b0a(0x168)][_0x310b0a(0xe7)](),'setItemVariantName':_0x207365[_0x310b0a(0x1a5)],'setItemVariantValues':{..._0x207365[_0x310b0a(0x13d)]}};_0x53fc8e['push'](_0x31a543),(_0x37b8d5['checked']||_0x2daab6==0x1)&&addToCart(_0x31a543);});}),console['log'](_0xce31a8(0x15c),newItems),await finalizeImport(_0x53fc8e,newItems,![]);}),['dragenter',_0x49c181(0x184)][_0x49c181(0x1dd)](_0xd8ada7=>dropZone['addEventListener'](_0xd8ada7,_0x4f2d62=>{var _0x1877ed=_0x49c181;_0x4f2d62[_0x1877ed(0x1fa)](),dropZone[_0x1877ed(0x1f5)][_0x1877ed(0x12b)]('dragover');})),[_0x49c181(0x102),'drop'][_0x49c181(0x1dd)](_0x4568fc=>dropZone['addEventListener'](_0x4568fc,_0x42f97b=>{var _0x42b924=_0x49c181;_0x42f97b['preventDefault'](),dropZone[_0x42b924(0x1f5)][_0x42b924(0x17a)]('dragover');})),dropZone[_0x49c181(0x10b)](_0x49c181(0x115),_0x21dfef=>{var _0x23be8b=_0x49c181;const _0x402ce5=_0x21dfef[_0x23be8b(0x113)][_0x23be8b(0x16a)][0x0];if(!_0x402ce5)return;fileInput[_0x23be8b(0x16a)]=_0x21dfef['dataTransfer'][_0x23be8b(0x16a)],dropZone[_0x23be8b(0xe1)](_0x23be8b(0x16e))[_0x23be8b(0x160)]=_0x402ce5[_0x23be8b(0x14b)],removeBtn['hidden']=![],fileInput['dispatchEvent'](new Event(_0x23be8b(0x11d)));}),removeBtn[_0x49c181(0x10b)]('click',()=>{var _0x1ac1f2=_0x49c181;fileInput[_0x1ac1f2(0x1f4)]='',dropZone['querySelector'](_0x1ac1f2(0x16e))[_0x1ac1f2(0x160)]=_0x1ac1f2(0x136),removeBtn[_0x1ac1f2(0x150)]=!![],progressBar['style'][_0x1ac1f2(0x1be)]=_0x1ac1f2(0x134),statusDiv[_0x1ac1f2(0x160)]='',uploadBtn[_0x1ac1f2(0x14c)]=!![];}),itemWorker['onmessage']=({data:_0x4e3304})=>{var _0x3dd6ac=_0x49c181;const {type:_0x1ac713,payload:_0x3bb4eb}=_0x4e3304;_0x1ac713===_0x3dd6ac(0x1ca)&&(progressBar[_0x3dd6ac(0x1cc)][_0x3dd6ac(0x1be)]=_0x3dd6ac(0x147),progressBar[_0x3dd6ac(0x1f4)]=_0x3bb4eb[_0x3dd6ac(0x11b)],statusDiv[_0x3dd6ac(0x160)]=_0x3bb4eb['message']),_0x1ac713==='done'&&(newItemsExcel=_0x3bb4eb[_0x3dd6ac(0x145)],statusDiv[_0x3dd6ac(0x160)]='✅\x20'+newItemsExcel[_0x3dd6ac(0x185)]+_0x3dd6ac(0x1ab),uploadBtn[_0x3dd6ac(0x14c)]=![],progressBar['value']=0x64,console['log'](newItemsExcel)),_0x1ac713==='error'&&(statusDiv[_0x3dd6ac(0x160)]=_0x3dd6ac(0x12c)+_0x3bb4eb,progressBar[_0x3dd6ac(0x1cc)]['display']=_0x3dd6ac(0x134));},fileInput[_0x49c181(0x10b)](_0x49c181(0x11d),async _0x45d932=>{var _0x1927e9=_0x49c181;const _0x1b566=_0x45d932[_0x1927e9(0x17d)]['files'][0x0];if(!_0x1b566)return;uploadBtn[_0x1927e9(0x14c)]=!![],newItemsExcel=null,statusDiv[_0x1927e9(0x160)]='',progressBar[_0x1927e9(0x1cc)][_0x1927e9(0x1be)]='none',dropZone[_0x1927e9(0xe1)]('.drop-zone__prompt')[_0x1927e9(0x160)]=_0x1b566[_0x1927e9(0x14b)],removeBtn[_0x1927e9(0x150)]=![];try{const _0x52aa16=await _0x1b566[_0x1927e9(0xf4)]();itemWorker[_0x1927e9(0x169)]({'buf':_0x52aa16,'maxRows':0x1388});}catch(_0x31d4b6){statusDiv[_0x1927e9(0x160)]=_0x1927e9(0xe0);}finally{fileInput[_0x1927e9(0x1f4)]='';}}),uploadBtn[_0x49c181(0x10b)](_0x49c181(0x1ae),async()=>{var _0x5a4099=_0x49c181;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x48adf0=document[_0x5a4099(0xe4)](_0x5a4099(0x201))[_0x5a4099(0x1f4)],_0x5dcb44=window_options[_0x48adf0][_0x5a4099(0x1d5)],_0x173602=document[_0x5a4099(0xe4)](_0x5a4099(0x142))['value'];let _0x2fac08=generateNumericUniqId()*0x64+0x1f4,_0x297150=generateNumericUniqId()*0xa;const _0x512ebb=[];newItemsExcel[_0x5a4099(0x1dd)](_0x144b98=>{var _0x42bed7=_0x5a4099;const _0x4c8127=++_0x297150;_0x144b98[_0x42bed7(0x10a)]=[{'setStockInitial':_0x144b98[_0x42bed7(0x1df)],'setStockMinimum':_0x144b98[_0x42bed7(0x161)],'setWarehouseCode':_0x173602}],_0x144b98[_0x42bed7(0x122)][_0x42bed7(0x1dd)](_0x41eed8=>{var _0x42dbf7=_0x42bed7;const _0x52a77b=++_0x2fac08;_0x41eed8[_0x42dbf7(0x14d)]=_0x52a77b;const _0x17b943={'id':_0x52a77b,'setIdProducto':_0x4c8127,'setCodProducto':_0x144b98[_0x42dbf7(0x1fd)],'setDescripcion':_0x144b98['setItemVariantName']||_0x144b98[_0x42dbf7(0x1d8)],'setItemDescription':_0x144b98['setItemDescription'],'setBatchExpirationDate':_0x144b98[_0x42dbf7(0x126)],'setBatchName':'','setCategoria':_0x144b98[_0x42dbf7(0x1b6)][0x0]||'','setMarca':_0x144b98[_0x42dbf7(0x146)][0x0]||'','setConversionFactor':parseFloat(_0x41eed8[_0x42dbf7(0x129)]),'setImages':[],'setImg':_0x42dbf7(0x1e5),'setInventariable':_0x144b98[_0x42dbf7(0x1b3)]?0x1:0x0,'setItemIsBought':_0x144b98[_0x42dbf7(0xf0)]?0x1:0x0,'setItemIsSold':_0x144b98[_0x42dbf7(0x1e9)]?0x1:0x0,'setPorcentajeIgv':_0x144b98[_0x42dbf7(0x1c0)],'setPrinters':[],'setTaxId':_0x144b98[_0x42dbf7(0x193)],'setTipAfeIgv':_0x144b98[_0x42dbf7(0x16b)],'setUnidad':_0x41eed8[_0x42dbf7(0x1ea)],'setUnidadCodigo':_0x41eed8['setUnitCode'],'currency_data':[{'currency':_0x5dcb44,'setMtoPrecioCostoUnitario':_0x41eed8[_0x42dbf7(0x1f6)],'setMtoPrecioUnitario':_0x41eed8[_0x42dbf7(0x123)],'setPriceLists':[]}],'sucursales':_0x144b98[_0x42dbf7(0x10a)][_0x42dbf7(0x1ce)](_0x4be76c=>({'setIdSucursal':_0x4be76c['setWarehouseCode'],'setSucursalStock':_0x4be76c['setStockInitial'][_0x42dbf7(0x1ef)](),'setWarehouseStockMin':_0x4be76c[_0x42dbf7(0x161)]['toString']()})),'setItemFree':_0x144b98[_0x42dbf7(0x16f)],'setItemBarCode':_0x144b98['setItemBarCode'],'setItemBrands':_0x144b98['setItemBrands'][_0x42dbf7(0xe7)](),'setItemCategories':_0x144b98[_0x42dbf7(0x1b6)][_0x42dbf7(0xe7)](),'setItemComponents':_0x144b98[_0x42dbf7(0x1f8)]['map'](_0x3502bb=>({..._0x3502bb})),'setItemImages':_0x144b98[_0x42dbf7(0x168)][_0x42dbf7(0xe7)](),'setItemVariantName':_0x144b98['setItemVariantName'],'setItemVariantValues':{..._0x144b98[_0x42dbf7(0x13d)]}};_0x512ebb['push'](_0x17b943);});}),console['log'](_0x5a4099(0x15c),newItems),await finalizeImport(_0x512ebb,newItemsExcel,!![]);});function initializeFormImages(){var _0x122014=_0x49c181;currentImages=Array(MAX_IMAGES)[_0x122014(0x133)](null),imgC[_0x122014(0x1ed)]='',baseItem[_0x122014(0x168)]=[];for(var _0x2e4646=0x0;_0x2e4646<MAX_IMAGES;_0x2e4646++){(function(_0x3e0ccb){var _0x46840f=_0x122014,_0x351ca3=document[_0x46840f(0xf5)](_0x46840f(0x1de));_0x351ca3[_0x46840f(0xed)]=_0x46840f(0x10c),_0x351ca3[_0x46840f(0x1e7)][_0x46840f(0x1cf)]=_0x3e0ccb;var _0x58e518=document[_0x46840f(0xf5)](_0x46840f(0x1d0));_0x58e518[_0x46840f(0x1fc)]='file',_0x58e518['accept']=_0x46840f(0x198),_0x58e518[_0x46840f(0x1cc)][_0x46840f(0x1be)]='none';var _0x4ede63=document[_0x46840f(0xf5)]('span');_0x4ede63['textContent']='+',_0x351ca3[_0x46840f(0x13c)](_0x58e518),_0x351ca3['appendChild'](_0x4ede63),imgC[_0x46840f(0x13c)](_0x351ca3),_0x351ca3[_0x46840f(0x10b)]('click',function(){_0x58e518['click']();}),_0x58e518[_0x46840f(0x10b)](_0x46840f(0x11d),function(_0x66694e){var _0x2a4673=_0x46840f,_0x4b7ac6=_0x66694e[_0x2a4673(0x17d)][_0x2a4673(0x16a)][0x0];if(!_0x4b7ac6)return removeImg(_0x3e0ccb);var _0x17655d=new FileReader();_0x17655d[_0x2a4673(0xdf)]=function(_0x29fa47){var _0x3fde4b=_0x2a4673;_0x351ca3['innerHTML']=_0x3fde4b(0x10e)+_0x29fa47['target'][_0x3fde4b(0x197)]+'\x22>';var _0x39f884=document[_0x3fde4b(0xf5)]('span');_0x39f884['className']='remove',_0x39f884['textContent']='×',_0x39f884[_0x3fde4b(0x10b)]('click',function(_0x527cba){var _0x22a3ef=_0x3fde4b;_0x527cba[_0x22a3ef(0x194)](),removeImg(_0x3e0ccb);}),_0x351ca3[_0x3fde4b(0x13c)](_0x39f884),currentImages[_0x3e0ccb]=_0x4b7ac6,baseItem[_0x3fde4b(0x168)]=currentImages[_0x3fde4b(0x13f)](function(_0x27ba16){return _0x27ba16;});},_0x17655d['readAsDataURL'](_0x4b7ac6);});}(_0x2e4646));}}function initializeFormIsSoldIsBought(){var _0x39e132=_0x49c181;document[_0x39e132(0xe4)](_0x39e132(0x1da))[_0x39e132(0x1af)]=!![],document[_0x39e132(0xe4)](_0x39e132(0xfe))[_0x39e132(0x1af)]=!![],baseItem['setItemIsBought']=!![],baseItem[_0x39e132(0x1e9)]=!![];}function initializeFormInputsBasic(){var _0x5b27c3=_0x49c181;document[_0x5b27c3(0xe4)]('inputItemType')[_0x5b27c3(0x1f4)]='1',document['getElementById'](_0x5b27c3(0x18d))[_0x5b27c3(0x1f4)]=getNextCode(products),document[_0x5b27c3(0xe4)](_0x5b27c3(0x1cd))[_0x5b27c3(0x1f4)]='',document[_0x5b27c3(0xe4)]('inputItemDescription')['value']='',document[_0x5b27c3(0xe4)]('inputItemDateExpiry')[_0x5b27c3(0x1f4)]='',document[_0x5b27c3(0xe4)](_0x5b27c3(0x17b))[_0x5b27c3(0x1f4)]='',baseItem[_0x5b27c3(0x19a)]='1',baseItem[_0x5b27c3(0x1fd)]=getNextCode(products),baseItem[_0x5b27c3(0x1d8)]='',baseItem[_0x5b27c3(0x1ac)]='',baseItem[_0x5b27c3(0x126)]='',baseItem[_0x5b27c3(0x130)]='',document[_0x5b27c3(0xe4)](_0x5b27c3(0x125))['checked']=![];}function initializeFormTax(){var _0xa6fd2a=_0x49c181;const _0xdd26d3=myCompany[_0xa6fd2a(0x165)],_0x35e021=document[_0xa6fd2a(0xe4)]('inputItemTax');_0x35e021[_0xa6fd2a(0x1f4)]=_0xdd26d3,baseItem[_0xa6fd2a(0x193)]=_0xdd26d3;const _0x53288a=company[0x0]['setImpuestos'][_0xa6fd2a(0xdd)](_0x4c1e5d=>_0x4c1e5d['setTaxId']==_0xdd26d3)?.[_0xa6fd2a(0x1a8)]||0x0,_0x33caa9=company[0x0]['setImpuestos'][_0xa6fd2a(0xdd)](_0x9df38e=>_0x9df38e[_0xa6fd2a(0x1dc)]==_0xdd26d3)?.['setImpuestoValue']||0x0;baseItem[_0xa6fd2a(0x16b)]=_0x53288a,baseItem[_0xa6fd2a(0x1c0)]=_0x33caa9;}function initializeFormCategoriesBrands(){var _0x1db535=_0x49c181;baseItem[_0x1db535(0x1b6)]=[],baseItem[_0x1db535(0x146)]=[],document['querySelector'](_0x1db535(0x1b4))[_0x1db535(0x1ed)]='',document[_0x1db535(0xe1)](_0x1db535(0x186))[_0x1db535(0x1ed)]='',document[_0x1db535(0xe1)](_0x1db535(0x124))['innerHTML']='',document[_0x1db535(0xe1)]('#newItem_brands_select\x20.options_list')['innerHTML']='';const _0x562e7b=uniqueValuesArray(_0x1db535(0x10f),_0x1db535(0x10f),products),_0x5112ff=uniqueValuesArray('setMarca',_0x1db535(0x114),products),_0xf07f5a=initMulti(_0x1db535(0x1c4),_0x562e7b),_0x35d5c6=initMulti(_0x1db535(0x17e),_0x5112ff);document[_0x1db535(0xe4)](_0x1db535(0x1c4))[_0x1db535(0x10b)](_0x1db535(0xe2),function(_0x3194a2){var _0x318529=_0x1db535;baseItem['setItemCategories']=_0xf07f5a[_0x318529(0x1ce)](_0x523d49=>_0x523d49[_0x318529(0x1e4)]);}),document[_0x1db535(0xe4)]('newItem_brands_select')['addEventListener']('selectionChange',function(_0x4bcb4f){var _0x1b2330=_0x1db535;baseItem['setItemBrands']=_0x35d5c6[_0x1b2330(0x1ce)](_0x2c04a6=>_0x2c04a6[_0x1b2330(0x1e4)]);});}function initializeFormUnits(){var _0x4af3b9=_0x49c181;unitCount=0x0,document['getElementById'](_0x4af3b9(0x16c))[_0x4af3b9(0x1ed)]='',baseItem['setItemUnits']=[];var _0x5a3514=uniqueValuesArray('setUnidad',_0x4af3b9(0x164),products);addUnit('',_0x5a3514[0x0]&&_0x5a3514[0x0][_0x4af3b9(0x1e4)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x1897bc=_0x49c181;prodC['innerHTML']='',baseItem[_0x1897bc(0x1f8)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x3c71a2=_0x49c181;branchesC[_0x3c71a2(0x1ed)]='',baseItem[_0x3c71a2(0x10a)]=[];const _0x33914d=getAllWarehouses();_0x33914d['forEach'](function(_0x2043e5){var _0x266571=_0x3c71a2,_0x1d5ef9=document[_0x266571(0xf5)](_0x266571(0x1de));_0x1d5ef9[_0x266571(0x1ed)]=_0x266571(0x19b)+_0x266571(0x1eb)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x2043e5[_0x266571(0x142)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x2043e5[_0x266571(0xfa)]+'</label>'+_0x266571(0x1f3)+_0x266571(0x1eb)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x2043e5['setWarehouseId']+'\x22>'+_0x266571(0x1f3)+_0x266571(0x1eb)+_0x266571(0x121)+_0x2043e5[_0x266571(0x142)]+'\x22>'+_0x266571(0x1f3)+_0x266571(0x1f3),branchesC['appendChild'](_0x1d5ef9),_0x1d5ef9[_0x266571(0x190)](_0x266571(0x1d0))[_0x266571(0x1dd)](function(_0x2476a1){var _0x432088=_0x266571;_0x2476a1[_0x432088(0x10b)](_0x432088(0x1d0),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x45b993=_0x49c181;baseItem[_0x45b993(0x1a5)]='',baseItem[_0x45b993(0x13d)]={},vgC[_0x45b993(0x1ed)]='',varContainer[_0x45b993(0x1ed)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x606e94,_0x29c50a,_0x17820c=![]){var _0x35cde7=_0x49c181;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x35cde7(0xe6),'setToken':company[0x0][_0x35cde7(0xef)],'setWebhook':company[0x0][_0x35cde7(0x1e0)],'newItems':_0x29c50a}),products[_0x35cde7(0x128)](..._0x606e94),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x35cde7(0x1b9)),_0x17820c?(fileInput['value']='',uploadBtn[_0x35cde7(0x14c)]=!![],statusDiv[_0x35cde7(0x160)]='',progressBar['style'][_0x35cde7(0x1be)]='none',progressBar[_0x35cde7(0x1f4)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}