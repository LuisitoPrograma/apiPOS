/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.9
*/

var _0x3028fa=_0x2250;(function(_0x1edd49,_0x3ae22c){var _0x43a8ea=_0x2250,_0x576e77=_0x1edd49();while(!![]){try{var _0x10dbe8=parseInt(_0x43a8ea(0x8d))/0x1+-parseInt(_0x43a8ea(0xef))/0x2+parseInt(_0x43a8ea(0x81))/0x3+-parseInt(_0x43a8ea(0xca))/0x4*(parseInt(_0x43a8ea(0x8f))/0x5)+parseInt(_0x43a8ea(0xcf))/0x6+-parseInt(_0x43a8ea(0xc5))/0x7+parseInt(_0x43a8ea(0xaf))/0x8;if(_0x10dbe8===_0x3ae22c)break;else _0x576e77['push'](_0x576e77['shift']());}catch(_0x18411f){_0x576e77['push'](_0x576e77['shift']());}}}(_0x4fad,0xe265d));var _0x4a6d37=(function(){var _0x4df942=!![];return function(_0x1d4093,_0x42eace){var _0x4e9180=_0x4df942?function(){var _0x2fe20e=_0x2250;if(_0x42eace){var _0x173647=_0x42eace[_0x2fe20e(0xb5)](_0x1d4093,arguments);return _0x42eace=null,_0x173647;}}:function(){};return _0x4df942=![],_0x4e9180;};}()),_0x37a95c=_0x4a6d37(this,function(){var _0xf457=_0x2250;return _0x37a95c[_0xf457(0xa3)]()[_0xf457(0x8b)]('(((.+)+)+)+$')[_0xf457(0xa3)]()['constructor'](_0x37a95c)[_0xf457(0x8b)](_0xf457(0xd5));});_0x37a95c();var _0x44648d=(function(){var _0x4cd2a3=!![];return function(_0x36fe7b,_0xea38a6){var _0x1f413b=_0x4cd2a3?function(){if(_0xea38a6){var _0xe8fe61=_0xea38a6['apply'](_0x36fe7b,arguments);return _0xea38a6=null,_0xe8fe61;}}:function(){};return _0x4cd2a3=![],_0x1f413b;};}()),_0x470d29=_0x44648d(this,function(){var _0x682076=_0x2250,_0x2799e2=function(){var _0x1ac2c6=_0x2250,_0x234d52;try{_0x234d52=Function(_0x1ac2c6(0xb6)+_0x1ac2c6(0xad)+');')();}catch(_0x3384bd){_0x234d52=window;}return _0x234d52;},_0x223352=_0x2799e2(),_0x3b9613=_0x223352[_0x682076(0x7e)]=_0x223352['console']||{},_0x484a3b=[_0x682076(0x87),_0x682076(0xcc),_0x682076(0x8a),_0x682076(0xb3),_0x682076(0xe2),_0x682076(0xb1),'trace'];for(var _0x421373=0x0;_0x421373<_0x484a3b['length'];_0x421373++){var _0x5d45bb=_0x44648d['constructor'][_0x682076(0xdf)][_0x682076(0xc4)](_0x44648d),_0x5b3a21=_0x484a3b[_0x421373],_0x100843=_0x3b9613[_0x5b3a21]||_0x5d45bb;_0x5d45bb['__proto__']=_0x44648d[_0x682076(0xc4)](_0x44648d),_0x5d45bb[_0x682076(0xa3)]=_0x100843['toString'][_0x682076(0xc4)](_0x100843),_0x3b9613[_0x5b3a21]=_0x5d45bb;}});function _0x2250(_0x248b9e,_0x4a89ba){var _0x340bcb=_0x4fad();return _0x2250=function(_0x470d29,_0x44648d){_0x470d29=_0x470d29-0x7e;var _0x3cfaac=_0x340bcb[_0x470d29];return _0x3cfaac;},_0x2250(_0x248b9e,_0x4a89ba);}_0x470d29();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x4231fb,_0x1688cf){var _0xb1262d=_0x2250;if(!isOnline())return console[_0xb1262d(0x87)](_0xb1262d(0xe0)),Promise[_0xb1262d(0xab)](_0xb1262d(0xe0));const _0x3a2820={'setAuthToken':_0x4231fb,'setUsers':_0x1688cf};return fetch(_0xb1262d(0xbf),{'method':_0xb1262d(0x84),'headers':{'Content-Type':_0xb1262d(0xe6)},'body':JSON[_0xb1262d(0xd8)](_0x3a2820)})[_0xb1262d(0xf6)](_0xc24c96=>{var _0x36d11c=_0xb1262d;if(!_0xc24c96['ok'])throw new Error(_0x36d11c(0xa2)+_0xc24c96['statusText']);return _0xc24c96[_0x36d11c(0xd0)]();})[_0xb1262d(0xf6)](_0x1a3776=>{var _0x29569c=_0xb1262d;if(!_0x1a3776[_0x29569c(0xc0)])throw new Error(_0x1a3776[_0x29569c(0xeb)]||_0x29569c(0xd3));return console[_0x29569c(0x87)](_0x29569c(0xd2)),_0x1a3776;})[_0xb1262d(0xe4)](_0x21649c=>{var _0x15cb8c=_0xb1262d;console[_0x15cb8c(0xb3)](_0x15cb8c(0xd1),_0x21649c);throw _0x21649c;});}async function apiERPsyncUsers(){var _0x57dbba=_0x2250;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x57dbba(0xda)],company[0x0][_0x57dbba(0x9f)]));}function generatePermissionsPanel(_0x537a47){var _0x3c268e=_0x2250,_0x44d905=document[_0x3c268e(0xd4)](_0x3c268e(0x95));_0x44d905[_0x3c268e(0xbe)]='';var _0x31c9fb=_0x537a47[0x0]&&_0x537a47[0x0][_0x3c268e(0x9f)]||[],_0x23b624=_0x537a47[0x0]&&_0x537a47[0x0]['setTipoOperaciones']||[];for(var _0x2f6e9b=0x0;_0x2f6e9b<_0x31c9fb[_0x3c268e(0xc8)];_0x2f6e9b++){var _0x27657d=_0x31c9fb[_0x2f6e9b],_0x107a58=document[_0x3c268e(0xcd)]('div');_0x107a58['className']=_0x3c268e(0x99),_0x107a58['id']='userPerm_container_'+_0x2f6e9b;var _0x3bbe1e=document[_0x3c268e(0xcd)]('h3');_0x3bbe1e[_0x3c268e(0xc7)]=_0x3c268e(0x9e),_0x3bbe1e[_0x3c268e(0xb7)]=_0x27657d[_0x3c268e(0xa1)]||_0x3c268e(0xdb)+(_0x2f6e9b+0x1),_0x107a58[_0x3c268e(0x91)](_0x3bbe1e);var _0x1adce3=document['createElement'](_0x3c268e(0xde));_0x1adce3[_0x3c268e(0xc7)]='userPerm_list';for(var _0x3847d4=0x0;_0x3847d4<_0x27657d[_0x3c268e(0xc6)][_0x3c268e(0xc8)];_0x3847d4++){var _0x31d2e0=_0x27657d[_0x3c268e(0xc6)][_0x3847d4],_0x29cf23=document[_0x3c268e(0xcd)](_0x3c268e(0xde));_0x29cf23[_0x3c268e(0xc7)]=_0x3c268e(0xf1),_0x29cf23[_0x3c268e(0xe3)][_0x3c268e(0xb4)]=_0x2f6e9b,_0x29cf23['dataset']['permIndex']=_0x3847d4;var _0x447544=Number(_0x31d2e0[_0x3c268e(0xa8)]),_0x4f8a13=document[_0x3c268e(0xcd)](_0x3c268e(0x86));_0x4f8a13['className']=_0x3c268e(0x94),_0x4f8a13['disabled']=!![];if(BOOLEAN_PERMS[_0x3c268e(0x9b)](_0x31d2e0[_0x3c268e(0x85)])!==-0x1){var _0x3c7b0f=document['createElement'](_0x3c268e(0x9d));_0x3c7b0f[_0x3c268e(0xf0)]='0',_0x3c7b0f['textContent']=_0x31d2e0[_0x3c268e(0xce)],_0x4f8a13['appendChild'](_0x3c7b0f);var _0x5b4604=document[_0x3c268e(0xcd)](_0x3c268e(0x9d));_0x5b4604['value']='1',_0x5b4604[_0x3c268e(0xb7)]=_0x31d2e0[_0x3c268e(0x9a)],_0x4f8a13[_0x3c268e(0x91)](_0x5b4604),_0x4f8a13['value']=String(_0x447544);}else{if(_0x31d2e0[_0x3c268e(0x85)]===0x9||_0x31d2e0['setPermissionId']===0xc||_0x31d2e0[_0x3c268e(0x85)]===0x12){if(_0x31d2e0['setPermissionId']===0x9){var _0x3da12c=document[_0x3c268e(0xcd)]('option');_0x3da12c['value']='0',_0x3da12c[_0x3c268e(0xb7)]=_0x31d2e0[_0x3c268e(0xce)],_0x4f8a13[_0x3c268e(0x91)](_0x3da12c);for(var _0x24d9e8=0x0;_0x24d9e8<_0x23b624[_0x3c268e(0xc8)];_0x24d9e8++){var _0x58298e=_0x23b624[_0x24d9e8],_0x4ed396=document[_0x3c268e(0xcd)](_0x3c268e(0x9d));_0x4ed396[_0x3c268e(0xf0)]=String(_0x58298e[_0x3c268e(0x9c)]),_0x4ed396[_0x3c268e(0xb7)]=_0x58298e['setTipoOperacionName'],_0x4f8a13[_0x3c268e(0x91)](_0x4ed396);}}if(_0x31d2e0[_0x3c268e(0x85)]===0xc)for(var _0x24d9e8=0x1;_0x24d9e8<=0x4;_0x24d9e8++){var _0x58298e=_0x24d9e8,_0x4ed396=document[_0x3c268e(0xcd)]('option');_0x4ed396[_0x3c268e(0xf0)]=String(_0x58298e),_0x4ed396[_0x3c268e(0xb7)]=_0x3c268e(0xbd)+_0x58298e,_0x4f8a13[_0x3c268e(0x91)](_0x4ed396);}if(_0x31d2e0[_0x3c268e(0x85)]===0x12){var _0xdc744f=myCompany&&myCompany['setEmailCredentials']||[],_0x3da12c=document['createElement']('option');_0x3da12c['value']='0',_0x3da12c[_0x3c268e(0xb7)]=_0x31d2e0['setPermissionNameFalse'],_0x4f8a13['appendChild'](_0x3da12c);for(var _0x24d9e8=0x0;_0x24d9e8<_0xdc744f[_0x3c268e(0xc8)];_0x24d9e8++){var _0x58298e=_0xdc744f[_0x24d9e8],_0x4ed396=document[_0x3c268e(0xcd)]('option');_0x4ed396[_0x3c268e(0xf0)]=String(_0x58298e[_0x3c268e(0xbc)]),_0x4ed396[_0x3c268e(0xb7)]=_0x58298e[_0x3c268e(0xe9)],_0x4f8a13[_0x3c268e(0x91)](_0x4ed396);}}_0x4f8a13[_0x3c268e(0xf0)]=String(_0x447544);}}_0x29cf23[_0x3c268e(0x91)](_0x4f8a13),_0x1adce3[_0x3c268e(0x91)](_0x29cf23);}_0x107a58[_0x3c268e(0x91)](_0x1adce3);var _0x748133=document[_0x3c268e(0xcd)](_0x3c268e(0xb2));_0x748133['className']=_0x3c268e(0xf4),_0x748133[_0x3c268e(0xb7)]=_0x3c268e(0x97),_0x748133[_0x3c268e(0xe3)]['userIndex']=_0x2f6e9b;var _0x1096ce=document[_0x3c268e(0xcd)]('button');_0x1096ce['className']=_0x3c268e(0xc9),_0x1096ce[_0x3c268e(0xb7)]=_0x3c268e(0xf3),_0x1096ce[_0x3c268e(0xe3)][_0x3c268e(0xb4)]=_0x2f6e9b,_0x1096ce[_0x3c268e(0xa0)][_0x3c268e(0x89)]=_0x3c268e(0x93),_0x107a58[_0x3c268e(0x91)](_0x748133),_0x107a58[_0x3c268e(0x91)](_0x1096ce),_0x44d905[_0x3c268e(0x91)](_0x107a58),_0x748133[_0x3c268e(0x96)](_0x3c268e(0xb8),onEditClick),_0x1096ce[_0x3c268e(0x96)](_0x3c268e(0xb8),onSaveClick);}}function _0x4fad(){var _0x368642=['setFechaHora','none','userPerm_select','panel_users','addEventListener','Editar','Correlativo','userPerm_container\x20border_blue','setPermissionNameTrue','indexOf','setTipoOperacionCodigo','option','userPerm_header','setUsers','style','setUserFullName','Error\x20Sync:\x20','toString','inline-block','setSerie','Serie','setTipoOperacion','setPermissionValue','apiPOSsendOffline','push','reject','forEach','{}.constructor(\x22return\x20this\x22)(\x20)','tbody','5341920JnPdVH','transaction','table','button','error','userIndex','apply','return\x20(function()\x20','textContent','click','permIndex','setBranchDefault','.userPerm_saveBtn','setEmailCredentialsId','NÃºmero\x20de\x20Decimales:\x20','innerHTML','https://apierp.dev/api/users/update/','success','./img/apiPOS.png','change','Fecha','bind','5322079WxGYdH','setPermissions','className','length','userPerm_saveBtn','4WkXxSC','.btn-logout','warn','createElement','setPermissionNameFalse','309666GsHzVH','json','Error\x20al\x20actualizar\x20data\x20online:','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','Error\x20desconocido\x20al\x20actualizar\x20Data.','getElementById','(((.+)+)+)+$','result','querySelector','stringify','userPerm_container_','setAuthToken','Usuario\x20','getAll','userPerm_container\x20border_orange','div','prototype','Error\x20Network.','setLastDateUpdate','exception','dataset','catch','block','application/json','setWarehouseId','Error\x20leyendo\x20operaciones:','setEmailCredentialsSenderEmail','disabled','message','Error\x20cargando\x20operaciones.','readonly','getElementsByClassName','770608PbaWid','value','userPerm_item','onload','Guardar','userPerm_editBtn','offline_operations','then','console','.userPerm_editBtn','thead','3285834jdRWTT','target','offlineOps_table','POST','setPermissionId','select','log','setBranchId','display','info','search','panel_operations','793906gqDMFf','dispatchEvent','2678045WulJPM','Tipo','appendChild'];_0x4fad=function(){return _0x368642;};return _0x4fad();}function onEditClick(_0x3adf31){var _0xdcd8d=_0x2250,_0x2ae228=_0x3adf31[_0xdcd8d(0x82)]['dataset'][_0xdcd8d(0xb4)],_0x928c59=document[_0xdcd8d(0xd4)](_0xdcd8d(0xd9)+_0x2ae228),_0x189de4=_0x928c59[_0xdcd8d(0xee)](_0xdcd8d(0x94));for(var _0x17bc67=0x0;_0x17bc67<_0x189de4[_0xdcd8d(0xc8)];_0x17bc67++){_0x189de4[_0x17bc67][_0xdcd8d(0xea)]=![];}_0x928c59['querySelector'](_0xdcd8d(0x7f))[_0xdcd8d(0xa0)]['display']=_0xdcd8d(0x93),_0x928c59[_0xdcd8d(0xd7)](_0xdcd8d(0xbb))[_0xdcd8d(0xa0)][_0xdcd8d(0x89)]=_0xdcd8d(0xe5),_0x928c59['className']=_0xdcd8d(0xdd);}async function onSaveClick(_0x4a7e2b){var _0x36541f=_0x2250,_0x50610b=_0x4a7e2b[_0x36541f(0x82)][_0x36541f(0xe3)][_0x36541f(0xb4)],_0x44dbe5=document[_0x36541f(0xd4)]('userPerm_container_'+_0x50610b),_0x452021=_0x44dbe5[_0x36541f(0xee)]('userPerm_item');for(var _0x4fb088=0x0;_0x4fb088<_0x452021['length'];_0x4fb088++){var _0x259752=_0x452021[_0x4fb088],_0x84b67a=parseInt(_0x259752[_0x36541f(0xe3)][_0x36541f(0xb4)],0xa),_0x440b5d=parseInt(_0x259752['dataset'][_0x36541f(0xb9)],0xa),_0x3300fc=company[0x0][_0x36541f(0x9f)][_0x84b67a]['setPermissions'][_0x440b5d],_0x5a6c48=_0x259752[_0x36541f(0xee)](_0x36541f(0x94))[0x0],_0x2846d7=_0x5a6c48[_0x36541f(0xf0)];_0x3300fc[_0x36541f(0xa8)]=_0x2846d7,_0x5a6c48[_0x36541f(0xea)]=!![],company[0x0][_0x36541f(0x9f)][_0x84b67a][_0x36541f(0xe1)]=new Date();}const _0x3da1c9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3da1c9),_0x44dbe5[_0x36541f(0xd7)]('.userPerm_saveBtn')[_0x36541f(0xa0)][_0x36541f(0x89)]=_0x36541f(0x93),_0x44dbe5[_0x36541f(0xd7)]('.userPerm_editBtn')[_0x36541f(0xa0)]['display']=_0x36541f(0xa4),_0x44dbe5[_0x36541f(0xc7)]=_0x36541f(0x99),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x4b9b27=_0x2250,_0x230815=document[_0x4b9b27(0xd4)](_0x4b9b27(0x8c));return _0x230815['innerHTML']='',createCartStore('')['then'](function(_0xb6d281){var _0x558c78=_0x4b9b27,_0x5cbb4b=_0xb6d281[_0x558c78(0xb0)]('offline_operations',_0x558c78(0xed)),_0x162205=_0x5cbb4b['objectStore'](_0x558c78(0xf5));return new Promise(function(_0x444cdc,_0xb3dadb){var _0x5f252f=_0x558c78,_0x5e9dbf=_0x162205[_0x5f252f(0xdc)]();_0x5e9dbf['onsuccess']=function(){var _0x5633ef=_0x5f252f;_0x444cdc(_0x5e9dbf[_0x5633ef(0xd6)]);},_0x5e9dbf['onerror']=function(){var _0x3e0ac2=_0x5f252f;_0xb3dadb(_0x5e9dbf[_0x3e0ac2(0xb3)]);};});})['then'](function(_0x36816f){var _0x242a36=_0x4b9b27,_0x492ae5=[];for(var _0xa8d6fe=0x0;_0xa8d6fe<_0x36816f[_0x242a36(0xc8)];_0xa8d6fe++){_0x36816f[_0xa8d6fe][_0x242a36(0xa9)]==0x1&&_0x492ae5[_0x242a36(0xaa)](_0x36816f[_0xa8d6fe]);}if(_0x492ae5[_0x242a36(0xc8)]===0x0){_0x230815['textContent']='No\x20hay\x20operaciones\x20pendientes.';return;}var _0x3eb2e0=document[_0x242a36(0xcd)]('table');_0x3eb2e0['className']=_0x242a36(0x83);var _0x1e5a6e=document[_0x242a36(0xcd)](_0x242a36(0x80)),_0x144131=document['createElement']('tr');[_0x242a36(0x90),_0x242a36(0xa6),_0x242a36(0x98),_0x242a36(0xc3),'Motivo'][_0x242a36(0xac)](function(_0x1503c6){var _0x26ed91=_0x242a36,_0x5ceb45=document[_0x26ed91(0xcd)]('th');_0x5ceb45['textContent']=_0x1503c6,_0x144131[_0x26ed91(0x91)](_0x5ceb45);}),_0x1e5a6e[_0x242a36(0x91)](_0x144131),_0x3eb2e0[_0x242a36(0x91)](_0x1e5a6e);var _0x2387df=document['createElement'](_0x242a36(0xae));_0x492ae5[_0x242a36(0xac)](function(_0x1c6815){var _0x29f90b=_0x242a36,_0x23eb14=document[_0x29f90b(0xcd)]('tr'),_0x3a1d23=[_0x1c6815[_0x29f90b(0xa7)],_0x1c6815[_0x29f90b(0xa5)],_0x1c6815['setCorrelativo'],_0x1c6815[_0x29f90b(0x92)],_0x1c6815['setMessage']||''];_0x3a1d23['forEach'](function(_0x277454){var _0x29323d=_0x29f90b,_0x3d74ad=document['createElement']('td');_0x3d74ad[_0x29323d(0xb7)]=_0x277454,_0x23eb14[_0x29323d(0x91)](_0x3d74ad);}),_0x2387df[_0x29f90b(0x91)](_0x23eb14);}),_0x3eb2e0[_0x242a36(0x91)](_0x2387df),_0x230815[_0x242a36(0x91)](_0x3eb2e0);})['catch'](function(_0x2173d2){var _0x72d17b=_0x4b9b27;console[_0x72d17b(0xb3)](_0x72d17b(0xe8),_0x2173d2),_0x230815[_0x72d17b(0xb7)]=_0x72d17b(0xec);});}window[_0x3028fa(0xf2)]=function(){var _0x12c686=_0x3028fa;const _0x41d762=0x2;loadLoginContent(_0x12c686(0xc1)),setUserNameGet(),setEventBtnAccess();const _0x4330b1=document['querySelector'](_0x12c686(0xcb));_0x4330b1&&_0x4330b1['addEventListener'](_0x12c686(0xb8),function(){logoutReload(0x0,_0x41d762);}),document['getElementById'](_0x12c686(0x88))[_0x12c686(0x96)](_0x12c686(0xc2),async function(){var _0x44c0d7=_0x12c686;const _0x15763a=parseInt(this[_0x44c0d7(0xf0)]);company[0x0][_0x44c0d7(0xba)]=_0x15763a;const _0x38ed0c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x38ed0c),cargarAlmacenes(_0x15763a),setTimeout(()=>{var _0x53a780=_0x44c0d7;document['getElementById'](_0x53a780(0xe7))[_0x53a780(0x8e)](new Event(_0x53a780(0xc2)));},0x64),cargarPisos(_0x15763a),setTimeout(()=>{var _0x33b375=_0x44c0d7;document[_0x33b375(0xd4)]('setFloorId')[_0x33b375(0x8e)](new Event(_0x33b375(0xc2)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x41d762);};