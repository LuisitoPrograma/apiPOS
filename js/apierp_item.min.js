/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.7
*/

var _0x14f41b=_0x2336;(function(_0x357b04,_0x3a9c43){var _0x3e54dc=_0x2336,_0x450852=_0x357b04();while(!![]){try{var _0x62b0aa=-parseInt(_0x3e54dc(0x135))/0x1*(-parseInt(_0x3e54dc(0x1fc))/0x2)+parseInt(_0x3e54dc(0x14f))/0x3+-parseInt(_0x3e54dc(0x243))/0x4+parseInt(_0x3e54dc(0x15a))/0x5+parseInt(_0x3e54dc(0x1a5))/0x6+parseInt(_0x3e54dc(0x202))/0x7*(parseInt(_0x3e54dc(0x157))/0x8)+-parseInt(_0x3e54dc(0x180))/0x9;if(_0x62b0aa===_0x3a9c43)break;else _0x450852['push'](_0x450852['shift']());}catch(_0x3f9a40){_0x450852['push'](_0x450852['shift']());}}}(_0x41d3,0xb1267));var _0x439e3b=(function(){var _0x303e33=!![];return function(_0x52c44f,_0x38e46c){var _0x34f3b6=_0x303e33?function(){if(_0x38e46c){var _0x2d235b=_0x38e46c['apply'](_0x52c44f,arguments);return _0x38e46c=null,_0x2d235b;}}:function(){};return _0x303e33=![],_0x34f3b6;};}()),_0xc588ad=_0x439e3b(this,function(){var _0x3cf69a=_0x2336;return _0xc588ad[_0x3cf69a(0x15d)]()[_0x3cf69a(0x154)](_0x3cf69a(0x103))['toString']()[_0x3cf69a(0x190)](_0xc588ad)[_0x3cf69a(0x154)](_0x3cf69a(0x103));});_0xc588ad();var _0x4b1b92=(function(){var _0x296bb7=!![];return function(_0x3ac915,_0x40bce0){var _0x26588e=_0x296bb7?function(){var _0xad3178=_0x2336;if(_0x40bce0){var _0x4f937e=_0x40bce0[_0xad3178(0x18e)](_0x3ac915,arguments);return _0x40bce0=null,_0x4f937e;}}:function(){};return _0x296bb7=![],_0x26588e;};}()),_0x5efcdf=_0x4b1b92(this,function(){var _0x4e2a09=_0x2336,_0x520850=function(){var _0x2314ed=_0x2336,_0x1b3c3c;try{_0x1b3c3c=Function(_0x2314ed(0x1d8)+_0x2314ed(0x222)+');')();}catch(_0x4579d5){_0x1b3c3c=window;}return _0x1b3c3c;},_0x4773a5=_0x520850(),_0x5da725=_0x4773a5[_0x4e2a09(0x16e)]=_0x4773a5['console']||{},_0x12eb95=['log',_0x4e2a09(0x11a),_0x4e2a09(0x158),_0x4e2a09(0x163),_0x4e2a09(0x1cd),_0x4e2a09(0x235),_0x4e2a09(0x1cb)];for(var _0x4d6968=0x0;_0x4d6968<_0x12eb95[_0x4e2a09(0x1cf)];_0x4d6968++){var _0x2d686e=_0x4b1b92[_0x4e2a09(0x190)][_0x4e2a09(0x1da)][_0x4e2a09(0x17f)](_0x4b1b92),_0x1d4e40=_0x12eb95[_0x4d6968],_0x584bb1=_0x5da725[_0x1d4e40]||_0x2d686e;_0x2d686e[_0x4e2a09(0x105)]=_0x4b1b92[_0x4e2a09(0x17f)](_0x4b1b92),_0x2d686e[_0x4e2a09(0x15d)]=_0x584bb1[_0x4e2a09(0x15d)][_0x4e2a09(0x17f)](_0x584bb1),_0x5da725[_0x1d4e40]=_0x2d686e;}});_0x5efcdf();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x14f41b(0xf3)),unitCount=0x0,branchesC=document['getElementById'](_0x14f41b(0x22f)),prodC=document[_0x14f41b(0x241)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x14f41b(0x241)](_0x14f41b(0x14b)),vgC=document[_0x14f41b(0x241)](_0x14f41b(0x1d6));const fileInput=document[_0x14f41b(0x241)](_0x14f41b(0x16c)),progressBar=document[_0x14f41b(0x241)]('progress'),statusDiv=document['getElementById']('status'),uploadBtn=document[_0x14f41b(0x241)](_0x14f41b(0x209));let newItemsExcel=null;const itemWorker=new Worker(_0x14f41b(0x1ce)),dropZone=document[_0x14f41b(0x241)](_0x14f41b(0x1b1)),removeBtn=document[_0x14f41b(0x241)]('remove-file');function showModalCreateItem(_0x3935fd){var _0x227d8d=_0x14f41b;const _0x1d1be5=document['getElementById'](_0x227d8d(0x1ba)),_0x403c63=document[_0x227d8d(0x241)](_0x227d8d(0x195));_0x1d1be5[_0x227d8d(0x208)][_0x227d8d(0x1a6)]('active'),_0x403c63[_0x227d8d(0x165)]['display']=_0x227d8d(0x1ed);const _0x3e4519=document[_0x227d8d(0x241)](_0x227d8d(0x178));_0x3e4519[_0x227d8d(0x1a7)]=parseInt(_0x3935fd),baseItem[_0x227d8d(0x178)]=parseInt(_0x3935fd);const _0x48eb68=document[_0x227d8d(0x241)]('modalProductNewTitle');_0x3935fd==0x0&&(_0x48eb68[_0x227d8d(0x169)]=_0x227d8d(0x14d));_0x3935fd==0x1&&(_0x48eb68['innerHTML']=_0x227d8d(0x104));const _0x538347=document['getElementsByClassName'](_0x227d8d(0x116));for(let _0x543ce5=0x0;_0x543ce5<_0x538347[_0x227d8d(0x1cf)];_0x543ce5++){const _0x1f8473=_0x538347[_0x543ce5];if(_0x3935fd==0x0)_0x1f8473[_0x227d8d(0x208)][_0x227d8d(0x23f)](_0x227d8d(0xfc));else _0x3935fd==0x1&&_0x1f8473[_0x227d8d(0x208)][_0x227d8d(0x1a6)](_0x227d8d(0xfc));}}function hideModalCreateItem(){var _0x5188e4=_0x14f41b;const _0x181ce8=document['getElementById'](_0x5188e4(0x1ba)),_0x195f36=document[_0x5188e4(0x241)]('modalOverlayCreateItem');_0x181ce8[_0x5188e4(0x208)][_0x5188e4(0x23f)](_0x5188e4(0x149)),_0x195f36['style']['display']=_0x5188e4(0x1fa);}document['getElementById']('closeModalCreateItem')[_0x14f41b(0x213)]('click',hideModalCreateItem),document[_0x14f41b(0x241)](_0x14f41b(0x195))[_0x14f41b(0x213)]('click',_0x168971=>{var _0x14673c=_0x14f41b;_0x168971[_0x14673c(0x18b)]==_0x168971[_0x14673c(0x224)]&&_0x168971[_0x14673c(0x10e)]();});function loadTaxData(){var _0x24a681=_0x14f41b;const _0x31e27a=document[_0x24a681(0x241)](_0x24a681(0x1fd));_0x31e27a['innerHTML']='',company[0x0][_0x24a681(0x1f2)][_0x24a681(0x1a9)](function(_0x1fbb9f){var _0x40c874=_0x24a681;const _0x49c6f9=document[_0x40c874(0x159)](_0x40c874(0x19b));_0x49c6f9[_0x40c874(0x1a7)]=_0x1fbb9f[_0x40c874(0x126)],_0x49c6f9['innerHTML']=_0x1fbb9f['setImpuestoName']+'\x20('+_0x1fbb9f['setImpuestoValue']+'%)',_0x1fbb9f['setTaxId']==company[0x0][_0x40c874(0x1d7)]&&(_0x49c6f9['selected']=!![]),_0x31e27a[_0x40c874(0x16d)](_0x49c6f9);});}function uniqueValuesArray(_0x3c1755,_0x342af8,_0x9d2a06){var _0x3d767e=_0x14f41b;const _0x5704c8=Array['from'](new Set(_0x9d2a06[_0x3d767e(0x22c)](_0x502866=>{var _0x45ff25=_0x3d767e;const _0x171106=_0x502866[_0x3c1755];return typeof _0x171106===_0x45ff25(0x21d)?_0x171106[_0x45ff25(0x1d2)]():_0x171106;})[_0x3d767e(0x10a)](_0x54ee14=>_0x54ee14!=null&&_0x54ee14!=='')));return _0x5704c8[_0x3d767e(0x22c)](_0x1b7283=>{const _0x368362=_0x9d2a06['find'](_0x161c86=>_0x161c86[_0x3c1755]===_0x1b7283),_0x19a722=_0x368362&&_0x368362[_0x342af8]!=null?String(_0x368362[_0x342af8])['trim']():_0x1b7283;return{'setCode':_0x1b7283,'setName':_0x19a722};});}function fillSelect(_0x306407,_0x1cdf8f,_0x26bdb2,_0x1491ca){var _0x9570a4=_0x14f41b;_0x306407[_0x9570a4(0x169)]='',_0x1cdf8f[_0x9570a4(0x1a9)](function(_0x4b09d6){var _0x3b2cea=_0x9570a4,_0x293e24=new Option(_0x4b09d6[_0x1491ca],_0x4b09d6[_0x26bdb2]);_0x306407[_0x3b2cea(0x1a6)](_0x293e24);});}function initMulti(_0x495526,_0x14b31e){var _0x18e0cb=_0x14f41b,_0x1a3600=document['getElementById'](_0x495526),_0x4cf138=_0x1a3600['querySelector'](_0x18e0cb(0x220)),_0x4198b0=_0x1a3600[_0x18e0cb(0x20d)](_0x18e0cb(0x1ff)),_0x20b2a1=_0x1a3600[_0x18e0cb(0x20d)](_0x18e0cb(0x174)),_0x509767=_0x14b31e[_0x18e0cb(0x1ef)](),_0x2b53d4=[];let _0x37bc31=null,_0x1a4085=![];function _0x19c218(){var _0x4f4b00=_0x18e0cb;const _0x432f7a=_0x4cf138[_0x4f4b00(0x1a7)]['trim']();if(!_0x432f7a)return;const _0x3344c2=_0x509767['find'](_0x1286ce=>_0x1286ce[_0x4f4b00(0xf2)][_0x4f4b00(0x242)]()===_0x432f7a[_0x4f4b00(0x242)]());if(_0x3344c2)_0x2b53d4['push'](_0x3344c2),_0x509767['splice'](_0x509767['findIndex'](_0xd7d07a=>_0xd7d07a[_0x4f4b00(0x185)]===_0x3344c2[_0x4f4b00(0x185)]),0x1);else{const _0x57b43b=_0x2b53d4['some'](_0x4dbd12=>_0x4dbd12[_0x4f4b00(0xf2)][_0x4f4b00(0x242)]()===_0x432f7a['toLowerCase']());!_0x57b43b&&_0x2b53d4[_0x4f4b00(0x171)]({'setCode':_0x432f7a,'setName':_0x432f7a});}_0x44725f(),_0x4a5bf2(),_0x4cf138[_0x4f4b00(0x1a7)]='';}function _0x4a5bf2(){var _0x1c95b9=_0x18e0cb;_0x4198b0[_0x1c95b9(0x169)]='',_0x509767[_0x1c95b9(0x10a)](_0x3748f4=>_0x3748f4[_0x1c95b9(0xf2)]['toLowerCase']()[_0x1c95b9(0x136)](_0x4cf138[_0x1c95b9(0x1a7)][_0x1c95b9(0x242)]()))[_0x1c95b9(0x1ef)](0x0,0x14)[_0x1c95b9(0x1a9)](_0x3e2107=>{var _0x3c2581=_0x1c95b9,_0x1e20ad=document[_0x3c2581(0x159)](_0x3c2581(0x146));_0x1e20ad[_0x3c2581(0x130)]=_0x3e2107['setName'],_0x1e20ad[_0x3c2581(0x1de)][_0x3c2581(0x170)]=_0x3e2107['setCode'],_0x4198b0[_0x3c2581(0x16d)](_0x1e20ad),_0x1e20ad[_0x3c2581(0x213)]('mousedown',()=>_0x1a4085=!![]),_0x1e20ad[_0x3c2581(0x213)](_0x3c2581(0x13b),function(){var _0x3038b6=_0x3c2581;_0x1a4085=![],_0x2b53d4['push'](_0x3e2107),_0x509767[_0x3038b6(0xf8)](_0x509767['findIndex'](_0x3b9cf6=>_0x3b9cf6['setCode']===_0x3e2107[_0x3038b6(0x185)]),0x1),_0x4cf138[_0x3038b6(0x1a7)]='',_0x44725f(),_0x4a5bf2();});});}function _0x44725f(){var _0x183ed6=_0x18e0cb;_0x20b2a1[_0x183ed6(0x169)]='',_0x2b53d4['forEach'](_0x19d7eb=>{var _0x524d79=_0x183ed6,_0x50e147=document[_0x524d79(0x159)](_0x524d79(0x146));_0x50e147[_0x524d79(0x1ac)]=_0x524d79(0x12a),_0x50e147['textContent']=_0x19d7eb['setName'];var _0x2dde78=document[_0x524d79(0x159)]('span');_0x2dde78[_0x524d79(0x1ac)]='remove-tag',_0x2dde78[_0x524d79(0x130)]='×',_0x2dde78['addEventListener'](_0x524d79(0x13b),function(){var _0x3a3202=_0x524d79;_0x509767[_0x3a3202(0x171)](_0x19d7eb);const _0x16fa16=_0x2b53d4[_0x3a3202(0x1e1)](_0x4b4db2=>_0x4b4db2[_0x3a3202(0x185)]===_0x19d7eb['setCode']);if(_0x16fa16>-0x1)_0x2b53d4[_0x3a3202(0xf8)](_0x16fa16,0x1);_0x44725f(),_0x4a5bf2();}),_0x50e147[_0x524d79(0x16d)](_0x2dde78),_0x20b2a1[_0x524d79(0x16d)](_0x50e147);}),_0x1a3600[_0x183ed6(0x211)](new CustomEvent(_0x183ed6(0x1c4),{'detail':_0x2b53d4,'bubbles':!![]}));}return _0x4cf138[_0x18e0cb(0x213)]('focus',function(){var _0x313ee9=_0x18e0cb;_0x37bc31&&(clearTimeout(_0x37bc31),_0x37bc31=null),_0x4198b0[_0x313ee9(0x208)][_0x313ee9(0x23f)](_0x313ee9(0x1e6));}),_0x4cf138[_0x18e0cb(0x213)](_0x18e0cb(0x1aa),_0x4a5bf2),_0x4cf138[_0x18e0cb(0x213)](_0x18e0cb(0x10d),function(_0x3dd70d){var _0x3d914d=_0x18e0cb;_0x3dd70d[_0x3d914d(0x20e)]==='Enter'&&(_0x3dd70d[_0x3d914d(0x14c)](),_0x19c218());}),_0x4cf138[_0x18e0cb(0x213)](_0x18e0cb(0x11b),function(){if(_0x1a4085)return;_0x37bc31=setTimeout(()=>{_0x19c218(),_0x37bc31=null;},0xc8);}),document['addEventListener'](_0x18e0cb(0x13b),function(_0x1da5f5){var _0x60ab59=_0x18e0cb;!_0x1a3600[_0x60ab59(0x1b3)](_0x1da5f5[_0x60ab59(0x18b)])&&_0x4198b0[_0x60ab59(0x208)][_0x60ab59(0x1a6)](_0x60ab59(0x1e6));}),_0x4a5bf2(),_0x2b53d4;}function getLastCode(_0x1179f8){var _0x7e28c6=_0x14f41b;const _0x3d56c4=_0x1179f8[_0x7e28c6(0x22c)](_0x10a831=>String(_0x10a831[_0x7e28c6(0x152)])[_0x7e28c6(0x1d2)]())[_0x7e28c6(0x10a)](_0x469729=>_0x469729!=='');if(_0x3d56c4['length']===0x0)return'';const _0xbbf4ad=_0x3d56c4[_0x7e28c6(0x11e)](_0x56202f=>/^\d+$/['test'](_0x56202f));if(_0xbbf4ad){const _0xd53653=_0x3d56c4['map'](Number),_0x108300=Math[_0x7e28c6(0x203)](..._0xd53653);return String(_0x108300);}let _0x13f988;if(typeof Intl!=='undefined'&&Intl[_0x7e28c6(0x1b5)]){const _0x50ec14=new Intl[(_0x7e28c6(0x1b5))](undefined,{'numeric':!![],'sensitivity':_0x7e28c6(0xf1)});_0x13f988=_0x3d56c4['slice']()['sort'](_0x50ec14[_0x7e28c6(0x20a)]);}else{const _0x557cec=_0x3d56c4['every'](_0x1e6bae=>/^\d+$/['test'](_0x1e6bae));_0x557cec?_0x13f988=_0x3d56c4[_0x7e28c6(0x22c)](Number)[_0x7e28c6(0x156)]((_0x5bf447,_0xd9b8e)=>_0x5bf447-_0xd9b8e)[_0x7e28c6(0x22c)](String):_0x13f988=_0x3d56c4[_0x7e28c6(0x1ef)]()[_0x7e28c6(0x156)]();}return _0x13f988[_0x13f988[_0x7e28c6(0x1cf)]-0x1];}function getNextCode(_0x16aed9){var _0x493396=_0x14f41b;const _0xc17bdb=getLastCode(_0x16aed9);if(!_0xc17bdb)return'';if(/^\d+$/['test'](_0xc17bdb))return String(Number(_0xc17bdb)+0x1);const _0x13bab5=_0xc17bdb[_0x493396(0x1ab)](/^([A-Za-z]*)(\d+)$/);if(_0x13bab5){const [,_0x2d57fe,_0x20cf73]=_0x13bab5,_0x378105=String(Number(_0x20cf73)+0x1)[_0x493396(0x1e7)](_0x20cf73[_0x493396(0x1cf)],'0');return _0x2d57fe+_0x378105;}return _0xc17bdb;}document['getElementById'](_0x14f41b(0x17c))[_0x14f41b(0x213)]('input',function(_0x36618d){var _0x17d213=_0x14f41b;baseItem[_0x17d213(0x1d0)]=_0x36618d[_0x17d213(0x18b)][_0x17d213(0x1a7)];}),document[_0x14f41b(0x241)](_0x14f41b(0x113))[_0x14f41b(0x213)](_0x14f41b(0x1aa),function(_0x732285){var _0x415487=_0x14f41b;baseItem[_0x415487(0x197)]=_0x732285[_0x415487(0x18b)][_0x415487(0x1a7)];}),document[_0x14f41b(0x241)](_0x14f41b(0x210))['addEventListener']('input',function(_0xde394a){var _0x4b0924=_0x14f41b;baseItem[_0x4b0924(0x1b4)]=_0xde394a['target'][_0x4b0924(0x1a7)];}),document[_0x14f41b(0x241)](_0x14f41b(0x192))[_0x14f41b(0x213)]('change',function(_0x2d8d1f){var _0x9454c8=_0x14f41b;baseItem['setItemType']=_0x2d8d1f[_0x9454c8(0x18b)][_0x9454c8(0x1a7)];}),document[_0x14f41b(0x241)](_0x14f41b(0x1fd))[_0x14f41b(0x213)](_0x14f41b(0x1ec),function(_0x42508c){var _0x309b9a=_0x14f41b;baseItem[_0x309b9a(0x160)]=_0x42508c[_0x309b9a(0x18b)][_0x309b9a(0x1a7)];const _0x202ded=_0x42508c[_0x309b9a(0x18b)]['value'],_0x19e3d4=company[0x0][_0x309b9a(0x1f2)][_0x309b9a(0x22d)](_0x30eacf=>_0x30eacf[_0x309b9a(0x126)]==_0x202ded)?.[_0x309b9a(0x19a)]||0x0,_0x15a9c0=company[0x0]['setImpuestos'][_0x309b9a(0x22d)](_0x561179=>_0x561179[_0x309b9a(0x126)]==_0x202ded)?.[_0x309b9a(0x175)]||0x0;baseItem[_0x309b9a(0x1c0)]=_0x19e3d4,baseItem[_0x309b9a(0x100)]=_0x15a9c0;}),document[_0x14f41b(0x241)]('newItem_chk_buy')[_0x14f41b(0x213)](_0x14f41b(0x1ec),function(_0x2b6728){var _0x197468=_0x14f41b;baseItem['setItemIsBought']=_0x2b6728[_0x197468(0x18b)][_0x197468(0x11f)];}),document[_0x14f41b(0x241)](_0x14f41b(0x1bf))['addEventListener'](_0x14f41b(0x1ec),function(_0x2bca67){var _0x36b879=_0x14f41b;baseItem[_0x36b879(0x21e)]=_0x2bca67[_0x36b879(0x18b)][_0x36b879(0x11f)];}),document[_0x14f41b(0x241)](_0x14f41b(0x12d))[_0x14f41b(0x213)](_0x14f41b(0x1aa),function(_0x5a540d){var _0x54854f=_0x14f41b;baseItem[_0x54854f(0x1ad)]=_0x5a540d[_0x54854f(0x18b)]['value'];}),document[_0x14f41b(0x241)](_0x14f41b(0x131))[_0x14f41b(0x213)](_0x14f41b(0x1aa),function(_0x9a7e0b){var _0x2b44fb=_0x14f41b;baseItem[_0x2b44fb(0x21b)]=_0x9a7e0b[_0x2b44fb(0x18b)][_0x2b44fb(0x1a7)];}),document[_0x14f41b(0x241)]('newItem_btn_addUnit')['addEventListener'](_0x14f41b(0x13b),function(){addUnit(),updateUnitsArray();}),document[_0x14f41b(0x241)](_0x14f41b(0x12d))['addEventListener']('blur',function(){var _0xe800de=_0x14f41b;const _0x2991cb=this['value'][_0xe800de(0x1d2)]();if(_0x2991cb==='')return;const _0x2d6fb6=products['some'](_0x344d40=>_0x344d40['setCodProducto']==_0x2991cb),_0x478f7b=getLastCode(products);_0x2d6fb6?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x478f7b,0x2,0x1):ntfShow(_0xe800de(0x244),0x1,0x1);});function removeImg(_0x18b1ae){var _0x336f7c=_0x14f41b;currentImages[_0x18b1ae]=null;var _0x5452d5=imgC[_0x336f7c(0x20d)]('[data-idx=\x22'+_0x18b1ae+'\x22]');_0x5452d5[_0x336f7c(0x169)]='';var _0x4fe4a8=document[_0x336f7c(0x159)](_0x336f7c(0x1aa));_0x4fe4a8[_0x336f7c(0x145)]=_0x336f7c(0x148),_0x4fe4a8[_0x336f7c(0x140)]=_0x336f7c(0x189),_0x4fe4a8[_0x336f7c(0x165)][_0x336f7c(0x1c7)]=_0x336f7c(0x1fa);var _0x2a52a5=document[_0x336f7c(0x159)](_0x336f7c(0x1c9));_0x2a52a5[_0x336f7c(0x130)]='+',_0x5452d5[_0x336f7c(0x16d)](_0x4fe4a8),_0x5452d5[_0x336f7c(0x16d)](_0x2a52a5),_0x5452d5['addEventListener']('click',function(){var _0x351914=_0x336f7c;_0x4fe4a8[_0x351914(0x13b)]();}),baseItem[_0x336f7c(0x1d4)]=currentImages[_0x336f7c(0x10a)](function(_0x3ece7f){return _0x3ece7f;});}function addUnit(_0x398c77,_0xaf835,_0x33766c,_0x14e969,_0x1c90fe,_0x106c3d,_0x1bf638){var _0x510b18=_0x14f41b,_0x42424d=uniqueValuesArray('setUnitCode',_0x510b18(0x1df),myCompany[_0x510b18(0x15c)]);_0x398c77=_0x398c77||'',_0xaf835=_0xaf835||_0x42424d[0x3a]&&_0x42424d[0x3a][_0x510b18(0x185)]||'',_0x33766c=_0x33766c!==undefined?_0x33766c:0x1,_0x14e969=!!_0x14e969,_0x1c90fe=_0x1c90fe||'',_0x106c3d=_0x106c3d||'';var _0x2ec45e=unitCount++,_0x3078db=document['createElement']('div');_0x3078db['dataset'][_0x510b18(0x1f4)]=_0x2ec45e,_0x3078db[_0x510b18(0x1de)][_0x510b18(0x10b)]=_0x14e969,_0x3078db[_0x510b18(0x169)]=_0x510b18(0x10f)+_0x2ec45e+'\x22\x20value=\x22'+_0x398c77+_0x510b18(0x181)+_0x2ec45e+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x2ec45e+_0x510b18(0x161)+_0x33766c+'\x22\x20'+(_0x14e969?_0x510b18(0x200):'')+_0x510b18(0x186)+_0x2ec45e+_0x510b18(0x161)+_0x1c90fe+_0x510b18(0x191)+_0x2ec45e+_0x510b18(0x161)+_0x106c3d+_0x510b18(0xf7)+(_0x14e969?_0x510b18(0x20b):'')+_0x510b18(0x18f),fillSelect(_0x3078db[_0x510b18(0x20d)](_0x510b18(0x1dd)),_0x42424d,_0x510b18(0x185),_0x510b18(0xf2)),_0x3078db['querySelector']('.unitSelect')[_0x510b18(0x1a7)]=_0xaf835,[_0x510b18(0x168),_0x510b18(0x1f0),'eqInput',_0x510b18(0x184),_0x510b18(0x114)][_0x510b18(0x1a9)](function(_0xfc282d){var _0xcc80b9=_0x510b18;_0x3078db[_0xcc80b9(0x20d)]('.'+_0xfc282d)[_0xcc80b9(0x213)]('input',function(){var _0x4d9053=_0xcc80b9,_0x5666c4=_0x1bf638?+_0x1bf638['id'][_0x4d9053(0x182)]('_')[0x1]:null;if(_0x1bf638)updateVariantUnits(_0x5666c4);else updateUnitsArray();});}),_0x3078db[_0x510b18(0x20d)](_0x510b18(0x1b8))['addEventListener'](_0x510b18(0x13b),function(){var _0xcd3f27=_0x510b18;_0x3078db[_0xcd3f27(0x23f)]();var _0x5aaed1=_0x1bf638?+_0x1bf638['id']['split']('_')[0x1]:null;if(_0x1bf638)updateVariantUnits(_0x5aaed1);else updateUnitsArray();});var _0x5bc839=_0x1bf638||document[_0x510b18(0x241)]('newItem_units_container');_0x5bc839[_0x510b18(0x16d)](_0x3078db);}function containerIdx(_0x3cf766){var _0x3ab19e=_0x14f41b;return+_0x3cf766['id'][_0x3ab19e(0x182)]('_')[0x1];}function updateUnitsArray(){var _0xed25b4=_0x14f41b,_0x4564f2=[],_0x119b30=Array[_0xed25b4(0x18d)](document[_0xed25b4(0x167)](_0xed25b4(0x125))),_0x239ad1=_0x119b30[_0xed25b4(0x22d)](_0xdd54d=>_0xdd54d[_0xed25b4(0x1de)][_0xed25b4(0x10b)]===_0xed25b4(0x11c)),_0x16a4fe=_0x239ad1?+_0x239ad1[_0xed25b4(0x20d)](_0xed25b4(0x183))['value']:0x1;_0x119b30[_0xed25b4(0x1a9)](function(_0x276127){var _0x1f2983=_0xed25b4,_0x59df96=+_0x276127[_0x1f2983(0x20d)](_0x1f2983(0x183))[_0x1f2983(0x1a7)]||0x0,_0x4e010=+_0x276127[_0x1f2983(0x20d)](_0x1f2983(0x1f5))['value']||0x0,_0x35877f=+_0x276127[_0x1f2983(0x20d)]('.costInput')['value']||0x0;_0x4564f2[_0x1f2983(0x171)]({'setAlias':_0x276127['querySelector']('.unitAlias')[_0x1f2983(0x1a7)]['trim'](),'setUnitCode':_0x276127['querySelector'](_0x1f2983(0x1dd))['value'],'setEquivalence':_0x59df96,'setFactor':_0x276127['dataset']['default']===_0x1f2983(0x11c)?0x1:_0x59df96==_0x16a4fe?0x1:_0x59df96<_0x16a4fe?_0x16a4fe/_0x59df96:_0x59df96/_0x16a4fe,'setPrice':_0x4e010,'setCost':_0x35877f,'setDefault':_0x276127['dataset'][_0x1f2983(0x10b)]===_0x1f2983(0x11c)?0x1:0x0});}),baseItem[_0xed25b4(0x1f7)]=_0x4564f2;}function updateBranches(){var _0x3da26d=_0x14f41b,_0x4aa3c1=[];document[_0x3da26d(0x167)](_0x3da26d(0x1ea))['forEach'](function(_0x413f50){var _0xae7ceb=_0x3da26d,_0x3c2df2=_0x413f50['querySelector']('.branchChk');if(_0x3c2df2[_0xae7ceb(0x11f)]){var _0x4c598d=+_0x3c2df2['dataset']['id'],_0x5a91b7=+_0x413f50[_0xae7ceb(0x20d)]('.branchInit')[_0xae7ceb(0x1a7)],_0x3c4dda=+_0x413f50['querySelector'](_0xae7ceb(0x12b))[_0xae7ceb(0x1a7)];_0x4aa3c1[_0xae7ceb(0x171)]({'setWarehouseCode':_0x4c598d,'setStockInitial':_0x5a91b7,'setStockMinimum':_0x3c4dda});}}),baseItem[_0x3da26d(0x21a)]=_0x4aa3c1;}document['getElementById']('newItem_btn_addProdItem')[_0x14f41b(0x213)](_0x14f41b(0x13b),function(){var _0x32e25e=_0x14f41b,_0x29a7d6=Date[_0x32e25e(0x187)](),_0x57208d=document[_0x32e25e(0x159)](_0x32e25e(0x146));_0x57208d['dataset'][_0x32e25e(0x1f4)]=_0x29a7d6,_0x57208d[_0x32e25e(0x169)]=_0x32e25e(0x19f)+_0x29a7d6+_0x32e25e(0x11d)+_0x29a7d6+_0x32e25e(0x162),prodC[_0x32e25e(0x16d)](_0x57208d),initProdSearch(_0x57208d[_0x32e25e(0x20d)](_0x32e25e(0x1e8))),_0x57208d[_0x32e25e(0x20d)]('.removeProd')[_0x32e25e(0x213)]('click',function(){_0x57208d['remove'](),updateProdItems();}),_0x57208d['querySelector'](_0x32e25e(0x237))[_0x32e25e(0x213)](_0x32e25e(0x1aa),updateProdItems),document[_0x32e25e(0x241)]('newItem_title_table_cp')[_0x32e25e(0x208)][_0x32e25e(0x19c)](_0x32e25e(0x1a1),!![]),document[_0x32e25e(0x241)](_0x32e25e(0x19e))[_0x32e25e(0x208)][_0x32e25e(0x19c)](_0x32e25e(0x1e6),![]);});function initProdSearch(_0x1383fd,_0x5b1eb3){var _0x44c72e=_0x14f41b,_0x2eb50a=_0x1383fd[_0x44c72e(0x20d)](_0x44c72e(0x109)),_0x3c7fb1=_0x1383fd[_0x44c72e(0x20d)](_0x44c72e(0x1ff)),_0x56f41e=_0x5b1eb3||null;if(_0x5b1eb3)_0x2eb50a['value']=_0x5b1eb3[_0x44c72e(0x226)];_0x2eb50a[_0x44c72e(0x213)]('input',function(){var _0x545fe6=_0x44c72e,_0x93d3a2=_0x2eb50a[_0x545fe6(0x1a7)][_0x545fe6(0x242)]()[_0x545fe6(0x1d2)]();_0x3c7fb1[_0x545fe6(0x169)]='';if(!_0x93d3a2)return;products[_0x545fe6(0x10a)](_0x4ac2c0=>_0x4ac2c0['setDescripcion'][_0x545fe6(0x242)]()[_0x545fe6(0x136)](_0x93d3a2))['slice'](0x0,0x14)[_0x545fe6(0x1a9)](function(_0x4da06a){var _0x4e7b63=_0x545fe6,_0x337ff9=document[_0x4e7b63(0x159)](_0x4e7b63(0x146));_0x337ff9[_0x4e7b63(0x130)]=_0x4da06a['setDescripcion'],_0x337ff9[_0x4e7b63(0x1de)]['id']=_0x4da06a['id'],_0x337ff9[_0x4e7b63(0x1de)]['name']=_0x4da06a['setDescripcion'],_0x3c7fb1[_0x4e7b63(0x16d)](_0x337ff9),_0x337ff9['addEventListener'](_0x4e7b63(0x13b),function(){var _0x1cca0e=_0x4e7b63;_0x56f41e={'id':_0x4da06a['id'],'name':_0x4da06a['setDescripcion']},_0x2eb50a[_0x1cca0e(0x1a7)]=_0x4da06a[_0x1cca0e(0x121)],_0x3c7fb1[_0x1cca0e(0x169)]='';var _0x23ee55=_0x1383fd[_0x1cca0e(0x1bb)]('[id$=\x22_comp_container\x22]');if(_0x23ee55){var _0xf9f11a=+_0x23ee55['id'][_0x1cca0e(0x182)]('_')[0x1];updateVariantComponents(_0xf9f11a);}else updateProdItems();});});}),_0x2eb50a[_0x44c72e(0x213)](_0x44c72e(0x196),function(){var _0x333cad=_0x44c72e;_0x3c7fb1[_0x333cad(0x208)][_0x333cad(0x23f)](_0x333cad(0x1e6));}),document['addEventListener']('click',function(_0x10a3a6){var _0x39b276=_0x44c72e;if(!_0x1383fd['contains'](_0x10a3a6[_0x39b276(0x18b)]))_0x3c7fb1[_0x39b276(0x208)][_0x39b276(0x1a6)](_0x39b276(0x1e6));}),Object[_0x44c72e(0x1f3)](_0x1383fd,'selectedItem',{'get':()=>_0x56f41e});}function updateProdItems(){var _0x17842d=_0x14f41b,_0x549733=[];Array[_0x17842d(0x18d)](prodC['children'])[_0x17842d(0x1a9)](function(_0x443634){var _0x9af1d2=_0x17842d,_0x576bb1=_0x443634[_0x9af1d2(0x20d)]('.prod_input_container');if(!_0x576bb1)return;var _0x376590=_0x443634[_0x9af1d2(0x20d)](_0x9af1d2(0x237)),_0xcf85a0=_0x576bb1[_0x9af1d2(0x1c6)];_0xcf85a0&&_0x549733['push']({'setItemId':_0xcf85a0['id'],'setDescripcion':_0xcf85a0[_0x9af1d2(0x226)],'setCantidad':+_0x376590[_0x9af1d2(0x1a7)]});}),baseItem[_0x17842d(0x14a)]=_0x549733,_0x549733[_0x17842d(0x1cf)]===0x0&&(document['getElementById'](_0x17842d(0x19e))['classList'][_0x17842d(0x19c)](_0x17842d(0x1a1),![]),document[_0x17842d(0x241)](_0x17842d(0x19e))[_0x17842d(0x208)][_0x17842d(0x19c)](_0x17842d(0x1e6),!![]));}document[_0x14f41b(0x241)](_0x14f41b(0x223))[_0x14f41b(0x213)](_0x14f41b(0x13b),function(){var _0x117f95=_0x14f41b,_0x2cc2f4=vgCount++,_0x41fc2b=document[_0x117f95(0x159)]('div');_0x41fc2b[_0x117f95(0x1de)]['idx']=_0x2cc2f4,_0x41fc2b['innerHTML']='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x2cc2f4+'\x22>'+_0x117f95(0x1eb)+_0x2cc2f4+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x117f95(0x16d)](_0x41fc2b),_0x41fc2b[_0x117f95(0x20d)](_0x117f95(0x1d5))[_0x117f95(0x213)](_0x117f95(0x11b),generateVariants),_0x41fc2b['querySelector'](_0x117f95(0x1cc))[_0x117f95(0x213)](_0x117f95(0x11b),generateVariants),_0x41fc2b['querySelector']('.removeGroup')['addEventListener'](_0x117f95(0x13b),function(){var _0x394cff=_0x117f95;_0x41fc2b[_0x394cff(0x23f)](),generateVariants();});});function generateVariants(){var _0x594afc=_0x14f41b,_0x1709d9=[];vgC[_0x594afc(0x167)]('div')[_0x594afc(0x1a9)](function(_0x2d506d){var _0x3949f2=_0x594afc,_0x725351=_0x2d506d[_0x3949f2(0x20d)](_0x3949f2(0x1d5))[_0x3949f2(0x1a7)]['trim'](),_0x2f9252=_0x2d506d[_0x3949f2(0x20d)]('.vgVals')['value']['split'](',')[_0x3949f2(0x22c)](_0x7b35ed=>_0x7b35ed[_0x3949f2(0x1d2)]())[_0x3949f2(0x10a)](_0x23e7a5=>_0x23e7a5);if(_0x725351&&_0x2f9252['length'])_0x1709d9['push']({'name':_0x725351,'vals':_0x2f9252});});var _0xb3b0db=[{}];_0x1709d9['forEach'](function(_0x9cd1d){_0xb3b0db=_0xb3b0db['flatMap'](function(_0x349da4){var _0x180053=_0x2336;return _0x9cd1d['vals'][_0x180053(0x22c)](function(_0x43025c){var _0x37aa7c=_0x180053,_0x3393bf=Object[_0x37aa7c(0x239)]({},_0x349da4);return _0x3393bf[_0x9cd1d['name']]=_0x43025c,_0x3393bf;});});}),newItems=[],varContainer['innerHTML']='',_0xb3b0db[_0x594afc(0x1a9)](function(_0x594de2,_0x29e8ae){var _0x6646c0=_0x594afc,_0x25bca6=JSON[_0x6646c0(0x198)](JSON[_0x6646c0(0x23a)](baseItem));_0x25bca6[_0x6646c0(0x127)]=_0x594de2,_0x25bca6['setItemVariantName']=baseItem[_0x6646c0(0x1d0)]+'\x20'+Object['entries'](_0x594de2)[_0x6646c0(0x22c)](_0xccc15a=>_0xccc15a[0x0]+'\x20'+_0xccc15a[0x1])[_0x6646c0(0xf6)]('\x20'),newItems[_0x6646c0(0x171)](_0x25bca6);var _0xd81949=document[_0x6646c0(0x159)](_0x6646c0(0x146));_0xd81949[_0x6646c0(0x208)][_0x6646c0(0x1a6)](_0x6646c0(0x19d)),_0xd81949[_0x6646c0(0x1de)][_0x6646c0(0x1f4)]=_0x29e8ae,_0xd81949[_0x6646c0(0x169)]=_0x6646c0(0x23c)+_0x25bca6[_0x6646c0(0x101)]+_0x6646c0(0x172)+_0x25bca6[_0x6646c0(0x1ad)]+_0x6646c0(0x23e)+_0x25bca6[_0x6646c0(0x21b)]+_0x6646c0(0x1c3)+_0x25bca6[_0x6646c0(0x1b4)]+_0x6646c0(0x194)+_0x29e8ae+_0x6646c0(0x18a)+_0x29e8ae+_0x6646c0(0x173)+_0x29e8ae+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x6646c0(0x16d)](_0xd81949),_0xd81949[_0x6646c0(0x20d)](_0x6646c0(0x1b9))['addEventListener']('input',_0x8f1cda=>newItems[_0x29e8ae][_0x6646c0(0x1ad)]=_0x8f1cda[_0x6646c0(0x18b)][_0x6646c0(0x1a7)]),_0xd81949[_0x6646c0(0x20d)](_0x6646c0(0x214))[_0x6646c0(0x213)](_0x6646c0(0x1aa),_0xd24b5a=>newItems[_0x29e8ae]['setItemBarCode']=_0xd24b5a[_0x6646c0(0x18b)]['value']),_0xd81949[_0x6646c0(0x20d)]('.variantExpiry')[_0x6646c0(0x213)](_0x6646c0(0x1ec),_0x281410=>newItems[_0x29e8ae][_0x6646c0(0x1b4)]=_0x281410[_0x6646c0(0x18b)][_0x6646c0(0x1a7)]),initVariantUnits(_0x29e8ae),initVariantComponents(_0x29e8ae),initVariantBranches(_0x29e8ae),_0xd81949['querySelector'](_0x6646c0(0x18c))[_0x6646c0(0x213)](_0x6646c0(0x13b),function(){var _0x3959ab=_0x6646c0,_0xaedadc=+_0xd81949[_0x3959ab(0x1de)][_0x3959ab(0x1f4)];newItems[_0x3959ab(0xf8)](_0xaedadc,0x1),_0xd81949[_0x3959ab(0x23f)](),document[_0x3959ab(0x167)](_0x3959ab(0x115))['forEach'](function(_0x228eb4,_0x4821b8){var _0x2f70fc=_0x3959ab;_0x228eb4[_0x2f70fc(0x1de)][_0x2f70fc(0x1f4)]=_0x4821b8;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x56789a){var _0x10aa63=_0x14f41b,_0x42f9c4=document['getElementById']('variant_'+_0x56789a+_0x10aa63(0x1a3)),_0x2f8b67=[];Array[_0x10aa63(0x18d)](_0x42f9c4['children'])[_0x10aa63(0x1a9)](function(_0x2796cd){var _0x554910=_0x10aa63,_0x33032c=+_0x2796cd[_0x554910(0x20d)](_0x554910(0x183))['value']||0x0,_0x58e3ac=_0x2796cd[_0x554910(0x20d)](_0x554910(0x139))[_0x554910(0x1a7)]['trim'](),_0x3ace48=_0x2796cd[_0x554910(0x20d)]('.unitSelect')[_0x554910(0x1a7)],_0x540b23=+_0x2796cd[_0x554910(0x20d)](_0x554910(0x1f5))[_0x554910(0x1a7)]||0x0,_0x2a797c=+_0x2796cd[_0x554910(0x20d)](_0x554910(0x147))[_0x554910(0x1a7)]||0x0,_0x496a8a=_0x2796cd[_0x554910(0x1de)][_0x554910(0x10b)]===_0x554910(0x11c),_0x26d24e=+_0x42f9c4[_0x554910(0x20d)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x554910(0x1a7)]||0x1,_0x16fc10=_0x496a8a?0x1:_0x33032c==_0x26d24e?0x1:_0x33032c<_0x26d24e?_0x26d24e/_0x33032c:_0x33032c/_0x26d24e;_0x2f8b67[_0x554910(0x171)]({'setAlias':_0x58e3ac,'setUnitCode':_0x3ace48,'setEquivalence':_0x33032c,'setFactor':_0x16fc10,'setPrice':_0x540b23,'setCost':_0x2a797c,'setDefault':_0x496a8a?0x1:0x0});}),newItems[_0x56789a][_0x10aa63(0x1f7)]=_0x2f8b67;}function initVariantUnits(_0x2e5f10){var _0x4542cf=_0x14f41b,_0x3d30a3=document[_0x4542cf(0x241)](_0x4542cf(0xf4)+_0x2e5f10+_0x4542cf(0x1a3));_0x3d30a3['innerHTML']='',newItems[_0x2e5f10][_0x4542cf(0x1f7)][_0x4542cf(0x1a9)](function(_0x462f0d){var _0xb9b3bd=_0x4542cf;addUnit(_0x462f0d[_0xb9b3bd(0x15b)],_0x462f0d['setUnitCode'],_0x462f0d[_0xb9b3bd(0x144)],_0x462f0d[_0xb9b3bd(0x1f8)],_0x462f0d[_0xb9b3bd(0x201)],_0x462f0d[_0xb9b3bd(0x1f1)],_0x3d30a3);}),_0x3d30a3[_0x4542cf(0x16f)][_0x4542cf(0x20d)](_0x4542cf(0x219))[_0x4542cf(0x213)](_0x4542cf(0x13b),function(){addUnit('','',0x1,![],'','',_0x3d30a3),updateVariantUnits(_0x2e5f10);});}function updateVariantUnits(_0x4be458){var _0x439d89=_0x14f41b,_0x5734a9=document['getElementById'](_0x439d89(0xf4)+_0x4be458+_0x439d89(0x1a3)),_0x386761=_0x5734a9[_0x439d89(0x20d)](_0x439d89(0x227)),_0x57168a=_0x386761?+_0x386761['value']:0x1,_0x27cade=Array[_0x439d89(0x18d)](_0x5734a9[_0x439d89(0x1af)])[_0x439d89(0x22c)](function(_0x185ac2){var _0x1381fc=_0x439d89,_0x51b8b9=_0x185ac2[_0x1381fc(0x20d)](_0x1381fc(0x139))[_0x1381fc(0x1a7)][_0x1381fc(0x1d2)](),_0x54bdbd=_0x185ac2[_0x1381fc(0x20d)](_0x1381fc(0x1dd))[_0x1381fc(0x1a7)],_0x13513e=+_0x185ac2['querySelector'](_0x1381fc(0x183))['value']||0x0,_0x1a885c=+_0x185ac2['querySelector'](_0x1381fc(0x1f5))[_0x1381fc(0x1a7)]||0x0,_0x509551=+_0x185ac2[_0x1381fc(0x20d)](_0x1381fc(0x147))['value']||0x0,_0x49eebd=_0x185ac2['dataset'][_0x1381fc(0x10b)]===_0x1381fc(0x11c);return{'setAlias':_0x51b8b9,'setUnitCode':_0x54bdbd,'setEquivalence':_0x13513e,'setFactor':_0x49eebd?0x1:_0x13513e==_0x57168a?0x1:_0x13513e<_0x57168a?_0x57168a/_0x13513e:_0x13513e/_0x57168a,'setPrice':_0x1a885c,'setCost':_0x509551,'setDefault':_0x49eebd?0x1:0x0};});newItems[_0x4be458][_0x439d89(0x1f7)]=_0x27cade;}function initVariantComponents(_0x5e11f8){var _0xac1a81=_0x14f41b,_0x29f424=document['getElementById']('variant_'+_0x5e11f8+_0xac1a81(0x102));_0x29f424['innerHTML']='',newItems[_0x5e11f8][_0xac1a81(0x14a)][_0xac1a81(0x1a9)](function(_0x4eae24){var _0x30fc2a=_0xac1a81,_0x15094b=document['createElement'](_0x30fc2a(0x146)),_0x307850=Date[_0x30fc2a(0x187)]();_0x15094b[_0x30fc2a(0x1de)]['idx']=_0x307850,_0x15094b[_0x30fc2a(0x169)]=_0x30fc2a(0x13d)+_0x307850+_0x30fc2a(0x13f)+_0x4eae24['setCantidad']+_0x30fc2a(0x12e),_0x29f424[_0x30fc2a(0x16d)](_0x15094b),initProdSearch(_0x15094b[_0x30fc2a(0x20d)](_0x30fc2a(0x1e8)),{'id':_0x4eae24[_0x30fc2a(0x143)],'name':_0x4eae24[_0x30fc2a(0x121)]}),_0x15094b[_0x30fc2a(0x20d)](_0x30fc2a(0x237))[_0x30fc2a(0x213)](_0x30fc2a(0x1aa),function(){updateVariantComponents(_0x5e11f8);}),_0x15094b['querySelector'](_0x30fc2a(0x13a))[_0x30fc2a(0x213)](_0x30fc2a(0x13b),function(){var _0x317405=_0x30fc2a;_0x15094b[_0x317405(0x23f)](),updateVariantComponents(_0x5e11f8);});}),_0x29f424[_0xac1a81(0x16f)][_0xac1a81(0x20d)]('.addVariantComp')[_0xac1a81(0x213)](_0xac1a81(0x13b),function(){var _0xfec1eb=_0xac1a81,_0xaccf9d=document[_0xfec1eb(0x159)](_0xfec1eb(0x146)),_0x11b630=Date[_0xfec1eb(0x187)]();_0xaccf9d[_0xfec1eb(0x1de)][_0xfec1eb(0x1f4)]=_0x11b630,_0xaccf9d['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x11b630+_0xfec1eb(0x1e0),_0x29f424[_0xfec1eb(0x16d)](_0xaccf9d),initProdSearch(_0xaccf9d['querySelector'](_0xfec1eb(0x1e8))),_0xaccf9d[_0xfec1eb(0x20d)]('.prodQty')[_0xfec1eb(0x213)](_0xfec1eb(0x1aa),function(){updateVariantComponents(_0x5e11f8);}),_0xaccf9d[_0xfec1eb(0x20d)]('.removeCombo')[_0xfec1eb(0x213)](_0xfec1eb(0x13b),function(){var _0x3e2ba6=_0xfec1eb;_0xaccf9d[_0x3e2ba6(0x23f)](),updateVariantComponents(_0x5e11f8);});});}function updateVariantComponents(_0x133778){var _0x326b43=_0x14f41b,_0x3219cd=document[_0x326b43(0x241)](_0x326b43(0xf4)+_0x133778+_0x326b43(0x102)),_0x1bad96=Array[_0x326b43(0x18d)](_0x3219cd[_0x326b43(0x1af)])['map'](function(_0x470b31){var _0x2cca37=_0x326b43,_0x24bd50=_0x470b31[_0x2cca37(0x20d)]('.prod_input_container'),_0x1030c0=_0x24bd50['selectedItem'],_0x49b2fc=+_0x470b31[_0x2cca37(0x20d)](_0x2cca37(0x237))['value']||0x0;return _0x1030c0?{'setItemId':_0x1030c0['id'],'setDescripcion':_0x1030c0[_0x2cca37(0x226)],'setCantidad':_0x49b2fc}:null;})['filter'](_0x2592ca=>_0x2592ca);newItems[_0x133778]['setItemComponents']=_0x1bad96;}function initVariantBranches(_0x7ba193){var _0x1c522d=_0x14f41b;const _0x5d34c3=getAllWarehouses();var _0x4f8eb6=document['getElementById'](_0x1c522d(0xf4)+_0x7ba193+'_branch_container');_0x4f8eb6[_0x1c522d(0x169)]='',newItems[_0x7ba193][_0x1c522d(0x21a)]['forEach'](function(_0x2f4bb2){var _0x507e11=_0x1c522d,_0x47b40b=_0x5d34c3['find'](_0x40a1f9=>_0x40a1f9[_0x507e11(0x1bc)]==_0x2f4bb2[_0x507e11(0x123)]),_0x1d80c5=document[_0x507e11(0x159)](_0x507e11(0x146));_0x1d80c5[_0x507e11(0x169)]=_0x507e11(0xfe)+_0x2f4bb2[_0x507e11(0x123)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x47b40b[_0x507e11(0x245)]+_0x507e11(0xf5)+_0x2f4bb2[_0x507e11(0x123)]+_0x507e11(0x161)+_0x2f4bb2['setStockInitial']+_0x507e11(0x137)+_0x2f4bb2[_0x507e11(0x123)]+_0x507e11(0x161)+_0x2f4bb2[_0x507e11(0x207)]+'\x22>',_0x4f8eb6[_0x507e11(0x16d)](_0x1d80c5),_0x1d80c5['querySelectorAll'](_0x507e11(0x1aa))[_0x507e11(0x1a9)](function(_0x47c5f5){var _0x18d55b=_0x507e11;_0x47c5f5['addEventListener'](_0x18d55b(0x1aa),function(){updateVariantBranches(_0x7ba193);});});}),_0x5d34c3[_0x1c522d(0x1a9)](function(_0x23d639){var _0x2a9f69=_0x1c522d;if(!newItems[_0x7ba193]['setItemWarehouses'][_0x2a9f69(0x22d)](_0x59ab72=>_0x59ab72[_0x2a9f69(0x123)]===_0x23d639['setWarehouseId'])){var _0x2d9ba1=document[_0x2a9f69(0x159)](_0x2a9f69(0x146));_0x2d9ba1['innerHTML']=_0x2a9f69(0xfe)+_0x23d639[_0x2a9f69(0x1bc)]+_0x2a9f69(0xfa)+_0x23d639[_0x2a9f69(0x245)]+_0x2a9f69(0xf5)+_0x23d639[_0x2a9f69(0x1bc)]+_0x2a9f69(0x137)+_0x23d639['setWarehouseId']+'\x22>',_0x4f8eb6[_0x2a9f69(0x16d)](_0x2d9ba1),_0x2d9ba1[_0x2a9f69(0x167)](_0x2a9f69(0x1aa))[_0x2a9f69(0x1a9)](function(_0x2606e3){var _0x5ad6fa=_0x2a9f69;_0x2606e3[_0x5ad6fa(0x213)](_0x5ad6fa(0x1aa),function(){updateVariantBranches(_0x7ba193);});});}});}function updateVariantBranches(_0x234893){var _0x133365=_0x14f41b,_0x630727=document[_0x133365(0x241)](_0x133365(0xf4)+_0x234893+_0x133365(0x118)),_0x4bb357=[];_0x630727['querySelectorAll'](_0x133365(0x146))['forEach'](function(_0x4c7c2a){var _0x2e67d7=_0x133365,_0x3b73a9=_0x4c7c2a[_0x2e67d7(0x20d)](_0x2e67d7(0x1f6));if(_0x3b73a9[_0x2e67d7(0x11f)]){var _0x5cad10=+_0x3b73a9[_0x2e67d7(0x1de)]['id'],_0x520957=+_0x4c7c2a[_0x2e67d7(0x20d)]('.branchInit')[_0x2e67d7(0x1a7)]||0x0,_0x4dc5d6=+_0x4c7c2a[_0x2e67d7(0x20d)]('.branchMin')[_0x2e67d7(0x1a7)]||0x0;_0x4bb357[_0x2e67d7(0x171)]({'setWarehouseCode':_0x5cad10,'setStockInitial':_0x520957,'setStockMinimum':_0x4dc5d6});}}),newItems[_0x234893][_0x133365(0x21a)]=_0x4bb357;}async function storeOfflineProduct(_0x72b091){var _0x6fc0ff=_0x14f41b;try{const _0xf753a6=await createCartStore(''),_0x17d5e0=_0xf753a6[_0x6fc0ff(0x188)](_0x6fc0ff(0x1a8),_0x6fc0ff(0x1fe)),_0x507bbe=_0x17d5e0[_0x6fc0ff(0x206)](_0x6fc0ff(0x1a8));_0x507bbe[_0x6fc0ff(0x1a6)](_0x72b091),_0x17d5e0[_0x6fc0ff(0x179)]=()=>{var _0x3441b3=_0x6fc0ff;console['log'](_0x3441b3(0x1c2));},_0x17d5e0[_0x6fc0ff(0x218)]=_0x4c0961=>{var _0x9b200f=_0x6fc0ff;console['error'](_0x9b200f(0x1a4),_0x4c0961[_0x9b200f(0x18b)][_0x9b200f(0x163)]);};}catch(_0x3e290a){console[_0x6fc0ff(0x163)](_0x6fc0ff(0x164),_0x3e290a);}}document[_0x14f41b(0x241)](_0x14f41b(0x142))[_0x14f41b(0x213)](_0x14f41b(0x13b),async function(_0x476b17){var _0x4ddc25=_0x14f41b;_0x476b17[_0x4ddc25(0x14c)]();const _0x192f4c=document[_0x4ddc25(0x241)]('inputItemCode'),_0x5d64e0=document['getElementById'](_0x4ddc25(0x178))[_0x4ddc25(0x1a7)];if(!_0x192f4c[_0x4ddc25(0x1a7)]['trim']()&&_0x5d64e0==0x0){ntfShow(_0x4ddc25(0x17b),0x2,0x1);return;}_0x5d64e0==0x1&&(_0x192f4c[_0x4ddc25(0x1a7)]='',baseItem[_0x4ddc25(0x1ad)]='');const _0x13321b=document['getElementById'](_0x4ddc25(0x17c));if(!_0x13321b[_0x4ddc25(0x1a7)]['trim']()){ntfShow(_0x4ddc25(0x132),0x2,0x1);return;}const _0x1c9662=document[_0x4ddc25(0x241)](_0x4ddc25(0x134));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x40b5a1=document['getElementById']('windowId')[_0x4ddc25(0x1a7)],_0x9f9164=window_options[_0x40b5a1][_0x4ddc25(0x22a)],_0x40de06=[];newItems[_0x4ddc25(0x1a9)](_0x264dba=>{var _0x5d0bac=_0x4ddc25;const _0x10bc30=generateNumericUniqId();_0x264dba['setItemUnits'][_0x5d0bac(0x1a9)](_0x4339c1=>{var _0x551ef5=_0x5d0bac;const _0x5187dd=generateNumericUniqId();_0x4339c1[_0x551ef5(0x141)]=_0x5187dd;const _0x30c40d={'id':_0x5187dd,'setIdProducto':_0x10bc30,'setCodProducto':_0x264dba[_0x551ef5(0x1ad)],'setDescripcion':_0x264dba['setItemName'],'setItemDescription':_0x264dba[_0x551ef5(0x197)],'setBatchExpirationDate':_0x264dba['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x264dba['setItemCategories'][0x0]||'','setMarca':_0x264dba[_0x551ef5(0x1ae)][0x0]||'','setConversionFactor':parseFloat(_0x4339c1[_0x551ef5(0x1be)]),'setImages':[],'setImg':_0x551ef5(0x193),'setInventariable':0x1,'setItemIsBought':_0x264dba[_0x551ef5(0x138)]?0x1:0x0,'setItemIsSold':_0x264dba[_0x551ef5(0x21e)]?0x1:0x0,'setPorcentajeIgv':_0x264dba[_0x551ef5(0x100)],'setPrinters':[],'setTaxId':_0x264dba[_0x551ef5(0x160)],'setTipAfeIgv':_0x264dba[_0x551ef5(0x1c0)],'setUnidad':_0x4339c1['setUnitCode'],'setUnidadCodigo':_0x4339c1[_0x551ef5(0x1e5)],'setItemUnitAlias':_0x4339c1['setAlias'],'currency_data':[{'currency':_0x9f9164,'setMtoPrecioCostoUnitario':_0x4339c1[_0x551ef5(0x1f1)],'setMtoPrecioUnitario':_0x4339c1[_0x551ef5(0x201)],'setPriceLists':[]}],'sucursales':_0x264dba['setItemWarehouses'][_0x551ef5(0x22c)](_0x5ce523=>({'setIdSucursal':_0x5ce523[_0x551ef5(0x123)],'setSucursalStock':_0x5ce523[_0x551ef5(0x122)]['toString'](),'setWarehouseStockMin':_0x5ce523['setStockMinimum'][_0x551ef5(0x15d)]()})),'setItemFree':_0x264dba[_0x551ef5(0x178)],'setItemBarCode':_0x264dba[_0x551ef5(0x21b)],'setItemBrands':_0x264dba[_0x551ef5(0x1ae)][_0x551ef5(0x1ef)](),'setItemCategories':_0x264dba[_0x551ef5(0x12f)][_0x551ef5(0x1ef)](),'setItemComponents':_0x264dba['setItemComponents'][_0x551ef5(0x22c)](_0x53f2bf=>({..._0x53f2bf})),'setItemImages':_0x264dba[_0x551ef5(0x1d4)][_0x551ef5(0x1ef)](),'setItemVariantName':_0x264dba[_0x551ef5(0x101)],'setItemVariantValues':{..._0x264dba[_0x551ef5(0x127)]}};_0x40de06['push'](_0x30c40d),(_0x1c9662['checked']||_0x5d64e0==0x1)&&addToCart(_0x30c40d);});}),console['log'](_0x4ddc25(0x16a),newItems),await finalizeImport(_0x40de06,newItems,![]);}),[_0x14f41b(0x151),'dragover'][_0x14f41b(0x1a9)](_0x5b01e5=>dropZone['addEventListener'](_0x5b01e5,_0x7fec37=>{var _0x4ff9b2=_0x14f41b;_0x7fec37['preventDefault'](),dropZone['classList'][_0x4ff9b2(0x1a6)]('dragover');})),[_0x14f41b(0x1e9),_0x14f41b(0x1c8)][_0x14f41b(0x1a9)](_0x5d0c5e=>dropZone[_0x14f41b(0x213)](_0x5d0c5e,_0x2f00f7=>{var _0x3f29d0=_0x14f41b;_0x2f00f7[_0x3f29d0(0x14c)](),dropZone['classList']['remove'](_0x3f29d0(0x13c));})),dropZone['addEventListener'](_0x14f41b(0x1c8),_0x59c1dd=>{var _0x45356b=_0x14f41b;const _0x6abfee=_0x59c1dd[_0x45356b(0x1f9)][_0x45356b(0x1d3)][0x0];if(!_0x6abfee)return;fileInput['files']=_0x59c1dd[_0x45356b(0x1f9)][_0x45356b(0x1d3)],dropZone['querySelector'](_0x45356b(0x124))[_0x45356b(0x130)]=_0x6abfee[_0x45356b(0x226)],removeBtn[_0x45356b(0xfc)]=![],fileInput['dispatchEvent'](new Event(_0x45356b(0x1ec)));}),removeBtn[_0x14f41b(0x213)]('click',()=>{var _0x3205fd=_0x14f41b;fileInput['value']='',dropZone[_0x3205fd(0x20d)](_0x3205fd(0x124))[_0x3205fd(0x130)]=_0x3205fd(0x231),removeBtn[_0x3205fd(0xfc)]=!![],progressBar[_0x3205fd(0x165)]['display']=_0x3205fd(0x1fa),statusDiv[_0x3205fd(0x130)]='',uploadBtn[_0x3205fd(0x200)]=!![];});const exportBtn=document['getElementById'](_0x14f41b(0x1b0));exportBtn[_0x14f41b(0x213)](_0x14f41b(0x13b),onClickExportarItems);async function onClickExportarItems(){var _0x5ef920=_0x14f41b;if(!Array[_0x5ef920(0x205)](products)||!products[_0x5ef920(0x1cf)]){ntfShow(_0x5ef920(0x21c));return;}try{const _0xf08d46=await fetch(_0x5ef920(0x228));if(!_0xf08d46['ok'])throw new Error(_0x5ef920(0x1e3));const _0x3d9eac=await _0xf08d46['arrayBuffer'](),_0x131877=document['getElementById'](_0x5ef920(0x1bc))['value'];let _0x3f62ff=products;const _0x28c0d7=getUserPermissionApiERP(0x2);_0x28c0d7==0x1&&(_0x3f62ff=products[_0x5ef920(0x10a)](_0x42f1f5=>Array[_0x5ef920(0x205)](_0x42f1f5[_0x5ef920(0x14e)])&&_0x42f1f5[_0x5ef920(0x14e)][_0x5ef920(0x1b2)](_0x4a9578=>String(_0x4a9578[_0x5ef920(0x236)])==String(_0x131877))));const _0x506bf5=_0x3f62ff[_0x5ef920(0x1d9)]((_0x573210,_0xcc70d2)=>{var _0x117c8a=_0x5ef920;const _0xb31f5e=_0xcc70d2[_0x117c8a(0x212)];if(!_0x573210[_0xb31f5e])_0x573210[_0xb31f5e]=[];return _0x573210[_0xb31f5e][_0x117c8a(0x171)](_0xcc70d2),_0x573210;},{}),_0x504ae5=Object[_0x5ef920(0x240)](_0x506bf5)[_0x5ef920(0x22c)](_0x34e228=>{var _0x1973ff=_0x5ef920;const _0x374782=_0x34e228[0x0],_0x5b7fe9=_0x34e228[0x1]||{},_0x26357f=_0x34e228[0x2]||{};function _0x2b9a2f(_0x2fde34,_0x4e855f,_0x1c3d45){var _0x2edb52=_0x2336;if(!_0x2fde34||!Array['isArray'](_0x2fde34[_0x2edb52(0x155)]))return'';const _0x539ca4=_0x2fde34[_0x2edb52(0x155)][_0x2edb52(0x22d)](_0x1ffbbb=>_0x1ffbbb['currency']===_0x4e855f);return _0x539ca4?_0x539ca4[_0x1c3d45]:'';}return{'id':_0x374782[_0x1973ff(0x212)],'setItemType':_0x374782['setItemType'],'setCodProducto':_0x374782['setCodProducto'],'setDescripcion':_0x374782[_0x1973ff(0x121)],'setItemDescription':_0x374782[_0x1973ff(0x197)],'setItemIsSold':_0x374782[_0x1973ff(0x21e)],'setItemIsBought':_0x374782['setItemIsBought'],'setCategoria':_0x374782[_0x1973ff(0x133)],'setMarca':_0x374782[_0x1973ff(0x153)],'setTaxId':_0x374782[_0x1973ff(0x126)],'setUnitId':_0x374782['id'],'setItemBarCode':_0x374782[_0x1973ff(0x21b)],'setUnidadCodigo':_0x374782['setUnidadCodigo'],'setItemUnitAlias':_0x374782['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x2b9a2f(_0x374782,_0x1973ff(0x129),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x2b9a2f(_0x374782,'PEN',_0x1973ff(0x1dc)),'USD_setMtoPrecioUnitario':_0x2b9a2f(_0x374782,_0x1973ff(0x1ee),_0x1973ff(0x204)),'USD_setMtoPrecioCostoUnitario':_0x2b9a2f(_0x374782,_0x1973ff(0x1ee),_0x1973ff(0x1dc)),'setItemCommissionPercentage':parseFloat(_0x374782['setItemCommissionPercentage']),'setUnitId2':_0x5b7fe9['id']??'','setItemBarCode2':_0x5b7fe9['setItemBarCode']??'','setUnidadCodigo2':_0x5b7fe9[_0x1973ff(0x234)]??'','setItemUnitAlias2':_0x5b7fe9[_0x1973ff(0x1c1)]??'','setUnidadEquivalencia2':_0x5b7fe9[_0x1973ff(0x20c)]??'','PEN_setMtoPrecioUnitario2':_0x2b9a2f(_0x5b7fe9,'PEN',_0x1973ff(0x204))??'','PEN_setMtoPrecioCostoUnitario2':_0x2b9a2f(_0x5b7fe9,'PEN',_0x1973ff(0x1dc))??'','USD_setMtoPrecioUnitario2':_0x2b9a2f(_0x5b7fe9,'USD',_0x1973ff(0x204))??'','USD_setMtoPrecioCostoUnitario2':_0x2b9a2f(_0x5b7fe9,_0x1973ff(0x1ee),_0x1973ff(0x1dc))??'','setItemCommissionPercentage2':parseFloat(_0x5b7fe9[_0x1973ff(0x166)]),'setUnitId3':_0x26357f['id']??'','setItemBarCode3':_0x26357f[_0x1973ff(0x21b)]??'','setUnidadCodigo3':_0x26357f[_0x1973ff(0x234)]??'','setItemUnitAlias3':_0x26357f[_0x1973ff(0x1c1)]??'','setUnidadEquivalencia3':_0x26357f[_0x1973ff(0x20c)]??'','PEN_setMtoPrecioUnitario3':_0x2b9a2f(_0x26357f,_0x1973ff(0x129),_0x1973ff(0x204))??'','PEN_setMtoPrecioCostoUnitario3':_0x2b9a2f(_0x26357f,'PEN',_0x1973ff(0x1dc))??'','USD_setMtoPrecioUnitario3':_0x2b9a2f(_0x26357f,_0x1973ff(0x1ee),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x2b9a2f(_0x26357f,'USD',_0x1973ff(0x1dc))??'','setItemCommissionPercentage3':parseFloat(_0x26357f[_0x1973ff(0x166)]),'setInventariable':_0x374782[_0x1973ff(0x120)],'setSucursalStock':_0x28c0d7==0x1?_0x374782['sucursales'][_0x1973ff(0x22d)](_0x2533e6=>String(_0x2533e6[_0x1973ff(0x236)])==String(_0x131877))['setSucursalStock']:'','setWarehouseStockMin':_0x28c0d7==0x1?_0x374782['sucursales'][_0x1973ff(0x22d)](_0x23902d=>String(_0x23902d[_0x1973ff(0x236)])==String(_0x131877))[_0x1973ff(0x128)]:'','setBatchName':_0x374782[_0x1973ff(0x112)],'setBatchExpirationDate':_0x374782[_0x1973ff(0x1ca)],..._0x374782[_0x1973ff(0x127)]};});try{JSON['stringify'](_0x504ae5);}catch(_0x50257e){console[_0x5ef920(0x163)](_0x5ef920(0x225),_0x50257e),ntfShow(_0x5ef920(0x117));return;}statusDiv[_0x5ef920(0x130)]=_0x5ef920(0x230),progressBar[_0x5ef920(0x165)][_0x5ef920(0x1c7)]=_0x5ef920(0x1ed),progressBar[_0x5ef920(0x1a7)]=0x0,itemWorker[_0x5ef920(0x150)]({'action':_0x5ef920(0x1bd),'products':_0x504ae5,'plantillaBuf':_0x3d9eac},[_0x3d9eac]);}catch(_0x1b10fe){console[_0x5ef920(0x163)](_0x1b10fe),ntfShow(_0x5ef920(0x1a2)+_0x1b10fe['message']);}}itemWorker['onmessage']=({data:_0x37c03c})=>{var _0x11a691=_0x14f41b;const {type:_0x508a22,payload:_0x26b86}=_0x37c03c;_0x508a22===_0x11a691(0xf9)&&(progressBar['style']['display']='block',progressBar['value']=_0x26b86['percent'],statusDiv['textContent']=_0x26b86[_0x11a691(0xfd)]);_0x508a22===_0x11a691(0x12c)&&(newItemsExcel=_0x26b86[_0x11a691(0x17a)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x11a691(0x1cf)]+_0x11a691(0x217),uploadBtn[_0x11a691(0x200)]=![],progressBar['value']=0x64,console[_0x11a691(0x111)](newItemsExcel));_0x508a22===_0x11a691(0x163)&&(statusDiv[_0x11a691(0x130)]=_0x11a691(0x232)+_0x26b86,progressBar[_0x11a691(0x165)][_0x11a691(0x1c7)]=_0x11a691(0x1fa));if(_0x508a22==='exportDone'){const {wbout:_0x560f44,count:_0x678580}=_0x26b86,_0x4e6176=new Blob([_0x560f44],{'type':'application/octet-stream'}),_0x5857f5=URL[_0x11a691(0x176)](_0x4e6176),_0x3987c8=document[_0x11a691(0x159)]('a'),_0x3590cd=new Date()[_0x11a691(0xff)]()[_0x11a691(0x1ef)](0x0,0xa);_0x3987c8[_0x11a691(0x22b)]='Plantilla-Items-Export-'+_0x3590cd+'.xlsx',_0x3987c8[_0x11a691(0x106)]=_0x5857f5,_0x3987c8[_0x11a691(0x13b)](),URL[_0x11a691(0x119)](_0x5857f5),statusDiv[_0x11a691(0x130)]=_0x11a691(0x15f)+_0x678580+_0x11a691(0x15e),progressBar['style']['display']=_0x11a691(0x1fa);}},fileInput[_0x14f41b(0x213)](_0x14f41b(0x1ec),async _0x59059d=>{var _0xcd6dd8=_0x14f41b;const _0x2e9de9=_0x59059d[_0xcd6dd8(0x18b)][_0xcd6dd8(0x1d3)][0x0];if(!_0x2e9de9)return;uploadBtn[_0xcd6dd8(0x200)]=!![],newItemsExcel=null,statusDiv[_0xcd6dd8(0x130)]='',progressBar[_0xcd6dd8(0x165)][_0xcd6dd8(0x1c7)]='none',dropZone['querySelector']('.drop-zone__prompt')['textContent']=_0x2e9de9[_0xcd6dd8(0x226)],removeBtn[_0xcd6dd8(0xfc)]=![];try{const _0x1e35ec=await _0x2e9de9[_0xcd6dd8(0x1e4)]();itemWorker[_0xcd6dd8(0x150)]({'action':'import','buf':_0x1e35ec,'maxRows':0x1388});}catch(_0x501530){statusDiv[_0xcd6dd8(0x130)]=_0xcd6dd8(0x23d);}finally{fileInput['value']='';}}),uploadBtn[_0x14f41b(0x213)](_0x14f41b(0x13b),async()=>{var _0x58efd4=_0x14f41b;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3c5196=document[_0x58efd4(0x241)](_0x58efd4(0x1bc))['value'],_0x3639b3=[];newItemsExcel[_0x58efd4(0x1a9)](_0x1da17e=>{var _0x191ef0=_0x58efd4;const _0x36e3f0=Boolean(_0x1da17e['setItemId']),_0x24192f=_0x36e3f0?_0x1da17e[_0x191ef0(0x143)]:generateNumericUniqId();_0x1da17e['setItemWarehouses']=[{'setStockInitial':_0x1da17e[_0x191ef0(0x122)],'setStockMinimum':_0x1da17e[_0x191ef0(0x207)],'setWarehouseCode':_0x3c5196}],_0x1da17e[_0x191ef0(0x1f7)]['forEach'](_0x57443d=>{var _0x354e66=_0x191ef0;const _0x3ff937=Boolean(_0x57443d['setItemUnitId']),_0x1b73e3=_0x3ff937?_0x57443d[_0x354e66(0x141)]:generateNumericUniqId();_0x57443d[_0x354e66(0x141)]=_0x1b73e3;const _0x350968=[];_0x350968[_0x354e66(0x171)]({'currency':_0x354e66(0x129),'setMtoPrecioCostoUnitario':_0x57443d['setCost'],'setMtoPrecioUnitario':_0x57443d[_0x354e66(0x201)],'setPriceLists':[]});const _0x2c11d0=_0x57443d['setCostUSD']!=null&&_0x57443d['setPriceUSD']!=null&&(!isNaN(_0x57443d[_0x354e66(0x23b)])||!isNaN(_0x57443d[_0x354e66(0x177)]));_0x2c11d0&&_0x350968['push']({'currency':_0x354e66(0x1ee),'setMtoPrecioCostoUnitario':_0x57443d[_0x354e66(0x23b)],'setMtoPrecioUnitario':_0x57443d['setPriceUSD'],'setPriceLists':[]});const _0x11616d={'id':_0x1b73e3,'setIdProducto':_0x24192f,'setItemBarCode':_0x57443d[_0x354e66(0x21b)],'setCodProducto':_0x1da17e[_0x354e66(0x1ad)],'setDescripcion':_0x1da17e[_0x354e66(0x1d0)],'setItemDescription':_0x1da17e[_0x354e66(0x197)],'setBatchExpirationDate':_0x1da17e[_0x354e66(0x1b4)],'setBatchName':_0x1da17e[_0x354e66(0x112)],'setItemIsSold':_0x1da17e[_0x354e66(0x21e)],'setItemIsBought':_0x1da17e[_0x354e66(0x138)],'setCategoria':_0x1da17e[_0x354e66(0x12f)][0x0]||'','setMarca':_0x1da17e[_0x354e66(0x1ae)][0x0]||'','setConversionFactor':parseFloat(_0x57443d[_0x354e66(0x1be)]),'setImages':[],'setImg':_0x354e66(0x193),'setInventariable':_0x1da17e[_0x354e66(0x238)],'setPorcentajeIgv':_0x1da17e['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x1da17e[_0x354e66(0x160)],'setTipAfeIgv':_0x1da17e[_0x354e66(0x1c0)],'setUnidad':_0x57443d[_0x354e66(0x1e5)],'setUnidadCodigo':_0x57443d[_0x354e66(0x1e5)],'setItemUnitAlias':_0x57443d[_0x354e66(0x15b)],'setItemCommissionPercentage':_0x57443d['setItemCommissionPercentage'],'currency_data':_0x350968,'sucursales':_0x1da17e[_0x354e66(0x21a)][_0x354e66(0x22c)](_0x612656=>({'setIdSucursal':_0x612656[_0x354e66(0x123)],'setSucursalStock':_0x612656[_0x354e66(0x122)][_0x354e66(0x15d)](),'setWarehouseStockMin':_0x612656[_0x354e66(0x207)][_0x354e66(0x15d)]()})),'setItemFree':_0x1da17e[_0x354e66(0x178)],'setItemBrands':_0x1da17e[_0x354e66(0x1ae)][_0x354e66(0x1ef)](),'setItemCategories':_0x1da17e[_0x354e66(0x12f)][_0x354e66(0x1ef)](),'setItemComponents':_0x1da17e['setItemComponents']['map'](_0x571d6e=>({..._0x571d6e})),'setItemImages':_0x1da17e[_0x354e66(0x1d4)][_0x354e66(0x1ef)](),'setItemVariantName':_0x1da17e['setItemVariantName'],'setItemVariantValues':{..._0x1da17e[_0x354e66(0x127)]}},_0x181532=products[_0x354e66(0x1e1)](_0x568d54=>_0x568d54['id']==_0x1b73e3&&_0x568d54['setIdProducto']==_0x24192f);_0x181532>-0x1?Object[_0x354e66(0x239)](products[_0x181532],_0x11616d):_0x3639b3['push'](_0x11616d);});}),console['log'](_0x58efd4(0x16a),newItemsExcel),await finalizeImport(_0x3639b3,newItemsExcel,!![]);});function _0x41d3(){var _0x3df47e=['_branch_container','revokeObjectURL','warn','blur','true','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','every','checked','setInventariable','setDescripcion','setStockInitial','setWarehouseCode','.drop-zone__prompt','#newItem_units_container\x20>\x20div','setTaxId','setItemVariantValues','setWarehouseStockMin','PEN','tag','.branchMin','done','inputItemCode','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setItemCategories','textContent','inputItemBarCode','Ingresa\x20el\x20nombre\x20del\x20item','setCategoria','newItem_addToCart','1oMXNei','includes','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemIsBought','.unitAlias','.removeCombo','click','dragover','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','detail','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','accept','setItemUnitId','btnItemSave','setItemId','setEquivalence','type','div','.costInput','file','active','setItemComponents','newItem_variants_forms','preventDefault','Nuevo\x20Producto','sucursales','1824360PlgjVn','postMessage','dragenter','setCodProducto','setMarca','search','currency_data','sort','160568PHdmGo','info','createElement','1792480sVeIZe','setAlias','setUnits','toString','\x20items.','✅\x20Exportación\x20completada:\x20','setItemTaxId','\x22\x20value=\x22','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','error','Error\x20al\x20procesar\x20la\x20operación:','style','setItemCommissionPercentage','querySelectorAll','unitAlias','innerHTML','Items\x20finales:','image_box','file-input','appendChild','console','parentNode','code','push','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','.selected_tags','setImpuestoValue','createObjectURL','setPriceUSD','setItemFree','oncomplete','items','Ingresa\x20el\x20código\x20del\x20item','inputItemName','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','bind','10005039NUqAkq','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','split','.eqInput','priceInput','setCode','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','now','transaction','image/*','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','target','.removeVariant','from','apply','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','constructor','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','inputItemType','./img/product.png','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','modalOverlayCreateItem','focus','setItemDescription','parse','newItem_categories_select','setImpuestoCode','option','toggle','variantForm','newItem_title_table_cp','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_units_container','newItem_title_table','Error\x20al\x20obtener\x20la\x20plantilla:\x20','_units_container','Error\x20al\x20guardar\x20Producto\x20Offline:','3005880jKnoUq','add','value','offline_operations','forEach','input','match','className','setItemCode','setItemBrands','children','btnExportarItems','drop-zone','some','contains','setItemDateExpiry','Collator','newItem_chk_buy','.options_list\x20div','.removeUnit','.variantCode','detalleModalCreateItem','closest','setWarehouseId','exportItems','setFactor','newItem_chk_sell','setItemTaxCode','setItemUnitAlias','Producto\x20Guardado\x20Offline\x20Correctamente.','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','selectionChange','setItemCategoryName','selectedItem','display','drop','span','setBatchExpirationDate','trace','.vgVals','exception','./js/apierp_item_wk.min.js','length','setItemName','newItem_brands_select','trim','files','setItemImages','.vgName','newItem_variant_groups','setTaxIdDefault','return\x20(function()\x20','reduce','prototype','</div>','setMtoPrecioCostoUnitario','.unitSelect','dataset','setUnitName','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','findIndex','#newItem_brands_select\x20.options_list','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','arrayBuffer','setUnitCode','newItem_hidden','padStart','.prod_input_container','dragleave','#newItem_branches_container\x20>\x20div','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','change','block','USD','slice','unitSelect','setCost','setImpuestos','defineProperty','idx','.priceInput','.branchChk','setItemUnits','setDefault','dataTransfer','none','setAuthToken','885986pzbXwi','inputItemTax','readwrite','.options_list','disabled','setPrice','385lbjsdJ','max','setMtoPrecioUnitario','isArray','objectStore','setStockMinimum','classList','upload-btn','compare','style=\x22display:none\x22','setConversionFactor','querySelector','key','setItemType','inputItemDateExpiry','dispatchEvent','setIdProducto','addEventListener','.variantBarCode','readAsDataURL','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','\x20items\x20procesados.','onerror','.addVariantUnit','setItemWarehouses','setItemBarCode','No\x20hay\x20items\x20para\x20exportar.','string','setItemIsSold','<img\x20src=\x22','.ms_input','#newItem_categories_select\x20.selected_tags','{}.constructor(\x22return\x20this\x22)(\x20)','newItem_btn_addVariantGroup','currentTarget','ERROR:\x20plainProducts\x20no\x20serializable:','name','div[data-default=\x22true\x22]\x20.eqInput','./excel/Plantilla-Items.xlsx','<div\x20class=\x22newItem_col\x22>','setMoneda','download','map','find','#newItem_categories_select\x20.options_list','newItem_branches_container','Generando\x20Excel...','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','❌\x20Error:\x20','\x22\x20class=\x22branchChk\x22\x20checked>\x20','setUnidadCodigo','table','setIdSucursal','.prodQty','setItemInventoriable','assign','stringify','setCostUSD','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','remove','values','getElementById','toLowerCase','4708864mbJtjl','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setWarehouseName','base','setName','newItem_images_container','variant_','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','join','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','splice','progress','\x22\x20class=\x22branchChk\x22>\x20','setItemBrandName','hidden','message','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','toISOString','setItemTaxValue','setItemVariantName','_comp_container','(((.+)+)+)+$','Producto\x20Libre','__proto__','href','result','#newItem_brands_select\x20.selected_tags','.prodInput','filter','default','setWebhook','keydown','stopPropagation','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','log','setBatchName','inputItemDescription','costInput','.variantForm','productType1','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.'];_0x41d3=function(){return _0x3df47e;};return _0x41d3();}function initializeFormImages(){var _0x4c5c2e=_0x14f41b;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x4c5c2e(0x169)]='',baseItem['setItemImages']=[];for(var _0x355b94=0x0;_0x355b94<MAX_IMAGES;_0x355b94++){(function(_0x5c00a5){var _0x579824=_0x4c5c2e,_0x5eaf9d=document[_0x579824(0x159)](_0x579824(0x146));_0x5eaf9d[_0x579824(0x1ac)]=_0x579824(0x16b),_0x5eaf9d[_0x579824(0x1de)]['idx']=_0x5c00a5;var _0x5a0710=document[_0x579824(0x159)](_0x579824(0x1aa));_0x5a0710[_0x579824(0x145)]='file',_0x5a0710[_0x579824(0x140)]=_0x579824(0x189),_0x5a0710[_0x579824(0x165)][_0x579824(0x1c7)]=_0x579824(0x1fa);var _0x2a025e=document[_0x579824(0x159)](_0x579824(0x1c9));_0x2a025e[_0x579824(0x130)]='+',_0x5eaf9d['appendChild'](_0x5a0710),_0x5eaf9d[_0x579824(0x16d)](_0x2a025e),imgC['appendChild'](_0x5eaf9d),_0x5eaf9d[_0x579824(0x213)](_0x579824(0x13b),function(){var _0x2d3fe0=_0x579824;_0x5a0710[_0x2d3fe0(0x13b)]();}),_0x5a0710[_0x579824(0x213)](_0x579824(0x1ec),function(_0x33a063){var _0xf5dd0f=_0x579824,_0x209e6a=_0x33a063['target']['files'][0x0];if(!_0x209e6a)return removeImg(_0x5c00a5);var _0x4145ee=new FileReader();_0x4145ee['onload']=function(_0xabb45){var _0x2eb7f7=_0x2336;_0x5eaf9d[_0x2eb7f7(0x169)]=_0x2eb7f7(0x21f)+_0xabb45['target'][_0x2eb7f7(0x107)]+'\x22>';var _0x1eeef2=document['createElement']('span');_0x1eeef2['className']=_0x2eb7f7(0x23f),_0x1eeef2[_0x2eb7f7(0x130)]='×',_0x1eeef2[_0x2eb7f7(0x213)](_0x2eb7f7(0x13b),function(_0x3b7c9e){var _0x1b8885=_0x2eb7f7;_0x3b7c9e[_0x1b8885(0x10e)](),removeImg(_0x5c00a5);}),_0x5eaf9d[_0x2eb7f7(0x16d)](_0x1eeef2),currentImages[_0x5c00a5]=_0x209e6a,baseItem['setItemImages']=currentImages['filter'](function(_0x15d19f){return _0x15d19f;});},_0x4145ee[_0xf5dd0f(0x215)](_0x209e6a);});}(_0x355b94));}}function initializeFormIsSoldIsBought(_0x2c90de=0x0){var _0x2d6a03=_0x14f41b;let _0x445ddd,_0x1b156e;if(_0x2c90de!=0x0){const _0x517fa8=products[_0x2d6a03(0x22d)](_0x15ab26=>_0x15ab26['id']==_0x2c90de);_0x445ddd=_0x517fa8['setItemIsBought']==0x1||_0x517fa8[_0x2d6a03(0x138)]==!![]?!![]:![],_0x1b156e=_0x517fa8[_0x2d6a03(0x21e)]==0x1||_0x517fa8[_0x2d6a03(0x21e)]==!![]?!![]:![];}else _0x445ddd=!![],_0x1b156e=!![];document[_0x2d6a03(0x241)](_0x2d6a03(0x1b6))[_0x2d6a03(0x11f)]=_0x445ddd,document[_0x2d6a03(0x241)](_0x2d6a03(0x1bf))[_0x2d6a03(0x11f)]=_0x1b156e,baseItem['setItemIsBought']=_0x445ddd,baseItem[_0x2d6a03(0x21e)]=_0x1b156e;}function initializeFormInputsBasic(_0x5f455f=0x0){var _0x468c9e=_0x14f41b;let _0x526184,_0x347270,_0x1d7ed2,_0x92c807,_0x4e1285,_0x4f5787;if(_0x5f455f!=0x0){const _0x7a5bab=products[_0x468c9e(0x22d)](_0x204f71=>_0x204f71['id']==_0x5f455f);_0x526184=_0x7a5bab[_0x468c9e(0x20f)]??'1',_0x347270=_0x7a5bab[_0x468c9e(0x152)],_0x1d7ed2=_0x7a5bab[_0x468c9e(0x121)],_0x92c807=_0x7a5bab[_0x468c9e(0x197)],_0x4e1285=_0x7a5bab[_0x468c9e(0x1ca)]??'',_0x4f5787=_0x7a5bab[_0x468c9e(0x21b)];}else _0x526184='1',_0x347270=getNextCode(products),_0x1d7ed2='',_0x92c807='',_0x4e1285='',_0x4f5787='';document['getElementById'](_0x468c9e(0x192))[_0x468c9e(0x1a7)]=_0x526184,document[_0x468c9e(0x241)](_0x468c9e(0x12d))[_0x468c9e(0x1a7)]=_0x347270,document[_0x468c9e(0x241)]('inputItemName')[_0x468c9e(0x1a7)]=_0x1d7ed2,document[_0x468c9e(0x241)](_0x468c9e(0x113))['value']=_0x92c807,document['getElementById'](_0x468c9e(0x210))[_0x468c9e(0x1a7)]=_0x4e1285,document[_0x468c9e(0x241)](_0x468c9e(0x131))['value']=_0x4f5787,baseItem[_0x468c9e(0x20f)]=_0x526184,baseItem[_0x468c9e(0x1ad)]=_0x347270,baseItem[_0x468c9e(0x1d0)]=_0x1d7ed2,baseItem[_0x468c9e(0x197)]=_0x92c807,baseItem[_0x468c9e(0x1b4)]=_0x4e1285,baseItem['setItemBarCode']=_0x4f5787,document[_0x468c9e(0x241)](_0x468c9e(0x134))[_0x468c9e(0x11f)]=![];}function initializeFormTax(_0x51910a=0x0){var _0x214a56=_0x14f41b;let _0x5f81a1;if(_0x51910a!=0x0){const _0x17c7b4=products[_0x214a56(0x22d)](_0x2ee16b=>_0x2ee16b['id']==_0x51910a);_0x5f81a1=_0x17c7b4[_0x214a56(0x126)];}else _0x5f81a1=myCompany[_0x214a56(0x1d7)];const _0x5abb0e=document['getElementById'](_0x214a56(0x1fd));_0x5abb0e[_0x214a56(0x1a7)]=_0x5f81a1,baseItem['setItemTaxId']=_0x5f81a1;const _0x49dcf5=company[0x0][_0x214a56(0x1f2)][_0x214a56(0x22d)](_0x569d22=>_0x569d22[_0x214a56(0x126)]==_0x5f81a1)?.[_0x214a56(0x19a)]||0x0,_0x259b6f=company[0x0][_0x214a56(0x1f2)][_0x214a56(0x22d)](_0x411063=>_0x411063['setTaxId']==_0x5f81a1)?.['setImpuestoValue']||0x0;baseItem[_0x214a56(0x1c0)]=_0x49dcf5,baseItem[_0x214a56(0x100)]=_0x259b6f;}function _0x2336(_0x48b8ee,_0xffb373){var _0x490664=_0x41d3();return _0x2336=function(_0x5efcdf,_0x4b1b92){_0x5efcdf=_0x5efcdf-0xf1;var _0x4da5a1=_0x490664[_0x5efcdf];return _0x4da5a1;},_0x2336(_0x48b8ee,_0xffb373);}function initializeFormCategoriesBrands(_0x3eebb3=0x0){var _0x1bd998=_0x14f41b;baseItem[_0x1bd998(0x12f)]=[],baseItem[_0x1bd998(0x1ae)]=[],document[_0x1bd998(0x20d)](_0x1bd998(0x221))[_0x1bd998(0x169)]='',document[_0x1bd998(0x20d)](_0x1bd998(0x22e))['innerHTML']='',document[_0x1bd998(0x20d)](_0x1bd998(0x108))['innerHTML']='',document[_0x1bd998(0x20d)](_0x1bd998(0x1e2))['innerHTML']='';const _0x53782e=myCompany[_0x1bd998(0x12f)][_0x1bd998(0x22c)](_0x536803=>({'setCode':_0x536803[_0x1bd998(0x1c5)],'setName':_0x536803[_0x1bd998(0x1c5)]})),_0x2528d3=myCompany[_0x1bd998(0x1ae)][_0x1bd998(0x22c)](_0x1721f7=>({'setCode':_0x1721f7['setItemBrandName'],'setName':_0x1721f7[_0x1bd998(0xfb)]}));initMulti('newItem_categories_select',_0x53782e),initMulti('newItem_brands_select',_0x2528d3),document[_0x1bd998(0x241)](_0x1bd998(0x199))[_0x1bd998(0x213)](_0x1bd998(0x1c4),function(_0x27788c){var _0x20f065=_0x1bd998;baseItem['setItemCategories']=_0x27788c[_0x20f065(0x13e)]['map'](_0x18d63e=>_0x18d63e[_0x20f065(0x185)]);}),document[_0x1bd998(0x241)](_0x1bd998(0x1d1))[_0x1bd998(0x213)](_0x1bd998(0x1c4),function(_0x2e4d1f){var _0x40406e=_0x1bd998;baseItem['setItemBrands']=_0x2e4d1f[_0x40406e(0x13e)][_0x40406e(0x22c)](_0x157808=>_0x157808[_0x40406e(0x185)]);});if(_0x3eebb3!=0x0){const _0x136adf=products[_0x1bd998(0x22d)](_0x1e74d8=>_0x1e74d8['id']==_0x3eebb3);if(_0x136adf[_0x1bd998(0x133)]){const _0x3fc5e5=document[_0x1bd998(0x241)](_0x1bd998(0x199)),_0xad44f1=Array[_0x1bd998(0x18d)](_0x3fc5e5[_0x1bd998(0x167)](_0x1bd998(0x1b7)))['find'](_0x445b73=>_0x445b73[_0x1bd998(0x1de)][_0x1bd998(0x170)]==_0x136adf[_0x1bd998(0x133)]);_0xad44f1&&_0xad44f1[_0x1bd998(0x13b)]();}if(_0x136adf[_0x1bd998(0x153)]){const _0x4a7fb6=document[_0x1bd998(0x241)](_0x1bd998(0x1d1)),_0x3bc0b6=Array[_0x1bd998(0x18d)](_0x4a7fb6[_0x1bd998(0x167)](_0x1bd998(0x1b7)))[_0x1bd998(0x22d)](_0x5232c0=>_0x5232c0['dataset'][_0x1bd998(0x170)]==_0x136adf[_0x1bd998(0x153)]);_0x3bc0b6&&_0x3bc0b6[_0x1bd998(0x13b)]();}}}function initializeFormUnits(){var _0x336d8b=_0x14f41b;unitCount=0x0,document['getElementById'](_0x336d8b(0x1a0))[_0x336d8b(0x169)]='',baseItem[_0x336d8b(0x1f7)]=[];var _0x477107=uniqueValuesArray(_0x336d8b(0x1e5),_0x336d8b(0x1df),myCompany[_0x336d8b(0x15c)]);addUnit('',_0x477107[0x3a]&&_0x477107[0x3a][_0x336d8b(0x185)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x2372bd=_0x14f41b;prodC[_0x2372bd(0x169)]='',baseItem[_0x2372bd(0x14a)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x53ec43=_0x14f41b;branchesC['innerHTML']='',baseItem[_0x53ec43(0x21a)]=[];const _0x1fd340=getAllWarehouses();_0x1fd340[_0x53ec43(0x1a9)](function(_0x10dcff){var _0x265a5e=_0x53ec43,_0x156e67=document[_0x265a5e(0x159)]('div');_0x156e67[_0x265a5e(0x169)]=_0x265a5e(0x17d)+'<div\x20class=\x22newItem_col\x22>'+_0x265a5e(0x17e)+_0x10dcff[_0x265a5e(0x1bc)]+_0x265a5e(0x233)+_0x10dcff[_0x265a5e(0x245)]+'</label>'+_0x265a5e(0x1db)+_0x265a5e(0x229)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x10dcff[_0x265a5e(0x1bc)]+'\x22>'+_0x265a5e(0x1db)+_0x265a5e(0x229)+_0x265a5e(0x110)+_0x10dcff['setWarehouseId']+'\x22>'+_0x265a5e(0x1db)+_0x265a5e(0x1db),branchesC[_0x265a5e(0x16d)](_0x156e67),_0x156e67[_0x265a5e(0x167)]('input')[_0x265a5e(0x1a9)](function(_0x3c8409){var _0x1949de=_0x265a5e;_0x3c8409['addEventListener'](_0x1949de(0x1aa),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x8c12bd=_0x14f41b;baseItem[_0x8c12bd(0x101)]='',baseItem[_0x8c12bd(0x127)]={},vgC[_0x8c12bd(0x169)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x443c91,_0x5a950d,_0x59b40c=![]){var _0x39c5c9=_0x14f41b;const _0x1df355=0xc8,_0xdf78db={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x39c5c9(0x1fb)],'setWebhook':company[0x0][_0x39c5c9(0x10c)]};for(let _0x58dcb3=0x0;_0x58dcb3<_0x5a950d[_0x39c5c9(0x1cf)];_0x58dcb3+=_0x1df355){const _0x472ca1=_0x5a950d[_0x39c5c9(0x1ef)](_0x58dcb3,_0x58dcb3+_0x1df355);await storeOfflineProduct({..._0xdf78db,'newItems':_0x472ca1});}products['push'](..._0x443c91),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x39c5c9(0x216)),_0x59b40c?(fileInput[_0x39c5c9(0x1a7)]='',uploadBtn[_0x39c5c9(0x200)]=!![],statusDiv[_0x39c5c9(0x130)]='',progressBar[_0x39c5c9(0x165)][_0x39c5c9(0x1c7)]=_0x39c5c9(0x1fa),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}