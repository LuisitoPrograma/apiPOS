/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.4
*/

var _0x4a62de=_0x4018;(function(_0x251fa2,_0x4efcdc){var _0x49608f=_0x4018,_0x465ed2=_0x251fa2();while(!![]){try{var _0x5bac87=parseInt(_0x49608f(0xaa))/0x1*(parseInt(_0x49608f(0xff))/0x2)+parseInt(_0x49608f(0x9d))/0x3*(parseInt(_0x49608f(0x10c))/0x4)+-parseInt(_0x49608f(0x95))/0x5*(parseInt(_0x49608f(0xbd))/0x6)+parseInt(_0x49608f(0x14a))/0x7*(-parseInt(_0x49608f(0x158))/0x8)+parseInt(_0x49608f(0x9f))/0x9+parseInt(_0x49608f(0x138))/0xa+-parseInt(_0x49608f(0x130))/0xb*(parseInt(_0x49608f(0x179))/0xc);if(_0x5bac87===_0x4efcdc)break;else _0x465ed2['push'](_0x465ed2['shift']());}catch(_0x2315d5){_0x465ed2['push'](_0x465ed2['shift']());}}}(_0x33ab,0x9990c));var _0x14ce09=(function(){var _0x53c7eb=!![];return function(_0x2e3d83,_0x2dc61c){var _0x37ed98=_0x53c7eb?function(){if(_0x2dc61c){var _0x4423a5=_0x2dc61c['apply'](_0x2e3d83,arguments);return _0x2dc61c=null,_0x4423a5;}}:function(){};return _0x53c7eb=![],_0x37ed98;};}()),_0x269f13=_0x14ce09(this,function(){var _0x3d1aa5=_0x4018;return _0x269f13[_0x3d1aa5(0xfb)]()[_0x3d1aa5(0x165)]('(((.+)+)+)+$')[_0x3d1aa5(0xfb)]()[_0x3d1aa5(0x76)](_0x269f13)[_0x3d1aa5(0x165)](_0x3d1aa5(0x19e));});_0x269f13();var _0x5c6ecd=(function(){var _0x272dbe=!![];return function(_0x2e61dc,_0x34b172){var _0x339f9f=_0x272dbe?function(){if(_0x34b172){var _0x102da2=_0x34b172['apply'](_0x2e61dc,arguments);return _0x34b172=null,_0x102da2;}}:function(){};return _0x272dbe=![],_0x339f9f;};}()),_0x57992b=_0x5c6ecd(this,function(){var _0xb5b7d5=_0x4018,_0x3bb2a2=function(){var _0x5c77c4;try{_0x5c77c4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x23fe7f){_0x5c77c4=window;}return _0x5c77c4;},_0x3c4d38=_0x3bb2a2(),_0x19585e=_0x3c4d38[_0xb5b7d5(0xe1)]=_0x3c4d38[_0xb5b7d5(0xe1)]||{},_0x80ce3d=[_0xb5b7d5(0xfa),'warn',_0xb5b7d5(0x111),'error',_0xb5b7d5(0x12f),'table','trace'];for(var _0x586337=0x0;_0x586337<_0x80ce3d['length'];_0x586337++){var _0x1ea36c=_0x5c6ecd[_0xb5b7d5(0x76)][_0xb5b7d5(0x1a6)][_0xb5b7d5(0xe0)](_0x5c6ecd),_0x2d460b=_0x80ce3d[_0x586337],_0x5c2704=_0x19585e[_0x2d460b]||_0x1ea36c;_0x1ea36c[_0xb5b7d5(0x13e)]=_0x5c6ecd[_0xb5b7d5(0xe0)](_0x5c6ecd),_0x1ea36c[_0xb5b7d5(0xfb)]=_0x5c2704[_0xb5b7d5(0xfb)][_0xb5b7d5(0xe0)](_0x5c2704),_0x19585e[_0x2d460b]=_0x1ea36c;}});_0x57992b();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4a62de(0xca)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x4a62de(0xca)](_0x4a62de(0x13c)),prodC=document['getElementById']('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x4a62de(0xca)]('newItem_variants_forms'),vgC=document[_0x4a62de(0xca)](_0x4a62de(0x15e));function _0x33ab(){var _0x1333e9=['.drop-zone__prompt','2760460GJDkNp','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','toLowerCase','setItemTaxValue','newItem_branches_container','.variantExpiry','__proto__','inputItemType','postMessage','image_box','readAsDataURL','#newItem_branches_container\x20>\x20div','textContent','parentNode','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x22\x20class=\x22branchChk\x22>\x20','eqInput','ERROR:\x20plainProducts\x20no\x20serializable:','14nVDkRb','string','setUnitName','setImpuestos','max','image/*','_units_container','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemUnits','span','transaction','setItemWarehouses','.vgVals','setItemName','37256RCerzI','productType1','click','fill','slice','progress','newItem_variant_groups','Error\x20al\x20procesar\x20la\x20operación:','findIndex','setItemBarCode','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','mousedown','search','modalOverlayCreateItem','.removeVariant','setItemImages','newItem_hidden','.priceInput','variant_','variantForm','appendChild','true','Generando\x20Excel...','style=\x22display:none\x22','setCode','code','input','currency_data','application/octet-stream','base','setWarehouseStockMin','\x22\x20value=\x22','252XegJTF','setCostUSD','#newItem_units_container\x20>\x20div','Items\x20finales:','.removeCombo','Collator','setItemTaxId','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.options_list\x20div','default','join','.branchInit','.selected_tags','setItemDescription','sort','error','setMtoPrecioCostoUnitario','push','every','<div\x20class=\x22newItem_col\x22>','.options_list','parse','✅\x20Exportación\x20completada:\x20','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setTaxIdDefault','closeModalCreateItem','files','#newItem_brands_select\x20.selected_tags','setAuthToken','unitAlias','setBatchName','innerHTML','setStockInitial','.unitSelect','key','setItemDateExpiry','(((.+)+)+)+$','setItemCommissionPercentage','.eqInput','newItem_btn_addProdItem','value','accept','#newItem_categories_select\x20.selected_tags','div','prototype','selected','setImpuestoCode','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setWarehouseId','setPriceUSD','contains','_comp_container','split','focus','unitSelect','setItemBrands','setCodProducto','inputItemTax','result','display','map','preventDefault','includes','setMoneda','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setItemIsSold','block','❌\x20Error:\x20','flatMap','constructor','none','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.branchMin','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','div[data-default=\x22true\x22]\x20.eqInput','setWarehouseName','setStockMinimum','entries','target','Plantilla-Items-Export-','setItemUnitAlias','forEach','add','.costInput','toISOString','stringify','setTaxId','setName','style','setDefault','type','setMtoPrecioUnitario','.prodQty','setAlias','className','newItem_chk_buy','inputItemDateExpiry','children','setItemBrandName','20hPKbYw','test','.xlsx','splice','#newItem_categories_select\x20.options_list','.vgName','setItemVariantValues','idx','96069WslQly','setCategoria','10483785BebgsZ','detalleModalCreateItem','checked','.removeUnit','PEN','<img\x20src=\x22','newItem_title_table_cp','\x20items.','_branch_container','offline_operations','remove-file','684585BHOJxx','dragover','.unitAlias','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setWarehouseCode','setFactor','.addVariantComp','option','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','drop','now','from','file-input','reduce','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','blur','dataTransfer','currentTarget','arrayBuffer','1173768VMGkyM','revokeObjectURL','href','assign','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','</div>','Error\x20al\x20obtener\x20la\x20plantilla:\x20','selectionChange','padStart','setMarca','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','active','length','getElementById','disabled','newItem_title_table','toggle','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','dragleave','download','setItemCode','message','classList','setCost','stopPropagation','isArray','Producto\x20Libre','match','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','newItem_categories_select','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_btn_addUnit','undefined','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','trim','bind','console','setItemIsBought','filter','.ms_input','setPrice','setIdProducto','setUnidadCodigo','inputItemName','setItemVariantName','upload-btn','setImpuestoName','.prodInput','detail','setItemFree','setCantidad','find','setItemUnitId','exportItems','Ingresa\x20el\x20nombre\x20del\x20item','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','done','hidden','</label>','createElement','USD','log','toString','setBatchExpirationDate','sucursales','tag','2xWhFks','setWebhook','.removeGroup','setDescripcion','Nuevo\x20Producto','some','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemComponents','setIdSucursal','setItemTaxCode','onerror','percent','newItem_brands_select','148IbdDHK','inputItemBarCode','setItemCategories','newItem_units_container','name','info','./excel/Plantilla-Items.xlsx','.branchChk','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setUnitCode','file','Enter','addEventListener','querySelectorAll','inputItemCode','closest','setUnits','setItemType','Ingresa\x20el\x20código\x20del\x20item','setImpuestoValue','#newItem_brands_select\x20.options_list','selectedItem','\x20items\x20procesados.','setItemCategoryName','setConversionFactor','No\x20hay\x20items\x20para\x20exportar.','Producto\x20Guardado\x20Offline\x20Correctamente.','querySelector','status','dataset','./img/product.png','.prod_input_container','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','currency','exception','989747HlPNXl','dispatchEvent','newItem_chk_sell','100','remove','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','change'];_0x33ab=function(){return _0x1333e9;};return _0x33ab();}const fileInput=document[_0x4a62de(0xca)](_0x4a62de(0xb6)),progressBar=document['getElementById'](_0x4a62de(0x15d)),statusDiv=document[_0x4a62de(0xca)](_0x4a62de(0x128)),uploadBtn=document['getElementById'](_0x4a62de(0xea));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x4a62de(0xca)]('drop-zone'),removeBtn=document['getElementById'](_0x4a62de(0xa9));function showModalCreateItem(_0x347723){var _0x17074b=_0x4a62de;const _0x5ffc6b=document[_0x17074b(0xca)](_0x17074b(0xa0)),_0x2b00b9=document[_0x17074b(0xca)](_0x17074b(0x166));_0x5ffc6b[_0x17074b(0xd3)][_0x17074b(0x84)](_0x17074b(0xc8)),_0x2b00b9[_0x17074b(0x8a)][_0x17074b(0x1b6)]=_0x17074b(0x1bd);const _0x4e2641=document['getElementById']('setItemFree');_0x4e2641[_0x17074b(0x1a2)]=parseInt(_0x347723),baseItem[_0x17074b(0xee)]=parseInt(_0x347723);const _0x1d3d36=document[_0x17074b(0xca)]('modalProductNewTitle');_0x347723==0x0&&(_0x1d3d36[_0x17074b(0x199)]=_0x17074b(0x103));_0x347723==0x1&&(_0x1d3d36['innerHTML']=_0x17074b(0xd7));const _0x463478=document['getElementsByClassName'](_0x17074b(0x159));for(let _0x2c784b=0x0;_0x2c784b<_0x463478[_0x17074b(0xc9)];_0x2c784b++){const _0x26d4c5=_0x463478[_0x2c784b];if(_0x347723==0x0)_0x26d4c5[_0x17074b(0xd3)][_0x17074b(0x134)](_0x17074b(0xf6));else _0x347723==0x1&&_0x26d4c5[_0x17074b(0xd3)]['add']('hidden');}}function hideModalCreateItem(){var _0x5a64ff=_0x4a62de;const _0xabd6ed=document[_0x5a64ff(0xca)](_0x5a64ff(0xa0)),_0x5724e8=document[_0x5a64ff(0xca)]('modalOverlayCreateItem');_0xabd6ed[_0x5a64ff(0xd3)][_0x5a64ff(0x134)](_0x5a64ff(0xc8)),_0x5724e8[_0x5a64ff(0x8a)][_0x5a64ff(0x1b6)]=_0x5a64ff(0x77);}document['getElementById'](_0x4a62de(0x193))[_0x4a62de(0x118)](_0x4a62de(0x15a),hideModalCreateItem),document[_0x4a62de(0xca)](_0x4a62de(0x166))[_0x4a62de(0x118)](_0x4a62de(0x15a),_0x4964c3=>{var _0x4aaf41=_0x4a62de;_0x4964c3[_0x4aaf41(0x80)]==_0x4964c3[_0x4aaf41(0xbb)]&&_0x4964c3[_0x4aaf41(0xd5)]();});function loadTaxData(){var _0x4bec21=_0x4a62de;const _0x46d30f=document[_0x4bec21(0xca)](_0x4bec21(0x1b4));_0x46d30f['innerHTML']='',company[0x0][_0x4bec21(0x14d)][_0x4bec21(0x83)](function(_0x2279e9){var _0x5c40aa=_0x4bec21;const _0x1b99f9=document[_0x5c40aa(0xf8)](_0x5c40aa(0xb1));_0x1b99f9[_0x5c40aa(0x1a2)]=_0x2279e9['setTaxId'],_0x1b99f9['innerHTML']=_0x2279e9[_0x5c40aa(0xeb)]+'\x20('+_0x2279e9[_0x5c40aa(0x11f)]+'%)',_0x2279e9[_0x5c40aa(0x88)]==company[0x0][_0x5c40aa(0x192)]&&(_0x1b99f9[_0x5c40aa(0x1a7)]=!![]),_0x46d30f[_0x5c40aa(0x16d)](_0x1b99f9);});}function _0x4018(_0x21a544,_0x116ae3){var _0x130aff=_0x33ab();return _0x4018=function(_0x57992b,_0x5c6ecd){_0x57992b=_0x57992b-0x75;var _0x38dd05=_0x130aff[_0x57992b];return _0x38dd05;},_0x4018(_0x21a544,_0x116ae3);}function uniqueValuesArray(_0x24e881,_0x30aebb,_0x4afe84){var _0x27a292=_0x4a62de;const _0x2e8982=Array['from'](new Set(_0x4afe84[_0x27a292(0x1b7)](_0x11d953=>{var _0x5213cf=_0x27a292;const _0x5c0546=_0x11d953[_0x24e881];return typeof _0x5c0546===_0x5213cf(0x14b)?_0x5c0546[_0x5213cf(0xdf)]():_0x5c0546;})['filter'](_0x12e28d=>_0x12e28d!=null&&_0x12e28d!=='')));return _0x2e8982['map'](_0x86fa9f=>{var _0x429951=_0x27a292;const _0x489a91=_0x4afe84[_0x429951(0xf0)](_0x1f7e84=>_0x1f7e84[_0x24e881]===_0x86fa9f),_0x6a2c0e=_0x489a91&&_0x489a91[_0x30aebb]!=null?String(_0x489a91[_0x30aebb])[_0x429951(0xdf)]():_0x86fa9f;return{'setCode':_0x86fa9f,'setName':_0x6a2c0e};});}function fillSelect(_0x46b08c,_0x450fde,_0xb3d432,_0x429b6f){var _0x4c8236=_0x4a62de;_0x46b08c[_0x4c8236(0x199)]='',_0x450fde['forEach'](function(_0x4ab2c5){var _0x43dbb2=_0x4c8236,_0x1535db=new Option(_0x4ab2c5[_0x429b6f],_0x4ab2c5[_0xb3d432]);_0x46b08c[_0x43dbb2(0x84)](_0x1535db);});}function initMulti(_0x31cbaf,_0x4a9358){var _0x27d4bd=_0x4a62de,_0xd29000=document[_0x27d4bd(0xca)](_0x31cbaf),_0x15ef27=_0xd29000[_0x27d4bd(0x127)](_0x27d4bd(0xe4)),_0x5e3be7=_0xd29000['querySelector'](_0x27d4bd(0x18e)),_0x4f1397=_0xd29000[_0x27d4bd(0x127)](_0x27d4bd(0x186)),_0x437739=_0x4a9358['slice'](),_0x2ebe30=[];let _0x6ae7b4=null,_0x48d5be=![];function _0x59f484(){var _0x30d4c8=_0x27d4bd;const _0x1dea82=_0x15ef27['value']['trim']();if(!_0x1dea82)return;const _0x4a07c6=_0x437739[_0x30d4c8(0xf0)](_0x10587d=>_0x10587d[_0x30d4c8(0x89)]['toLowerCase']()===_0x1dea82['toLowerCase']());if(_0x4a07c6)_0x2ebe30['push'](_0x4a07c6),_0x437739[_0x30d4c8(0x98)](_0x437739['findIndex'](_0x1e66e7=>_0x1e66e7['setCode']===_0x4a07c6[_0x30d4c8(0x171)]),0x1);else{const _0x2bb539=_0x2ebe30[_0x30d4c8(0x104)](_0x9dc97f=>_0x9dc97f[_0x30d4c8(0x89)][_0x30d4c8(0x13a)]()===_0x1dea82[_0x30d4c8(0x13a)]());!_0x2bb539&&_0x2ebe30['push']({'setCode':_0x1dea82,'setName':_0x1dea82});}_0x3b4f5f(),_0x25895a(),_0x15ef27[_0x30d4c8(0x1a2)]='';}function _0x25895a(){var _0x3fae1d=_0x27d4bd;_0x5e3be7['innerHTML']='',_0x437739[_0x3fae1d(0xe3)](_0x1c356a=>_0x1c356a[_0x3fae1d(0x89)]['toLowerCase']()['includes'](_0x15ef27[_0x3fae1d(0x1a2)][_0x3fae1d(0x13a)]()))['slice'](0x0,0x14)[_0x3fae1d(0x83)](_0x43c535=>{var _0xddd1c5=_0x3fae1d,_0x509d65=document['createElement'](_0xddd1c5(0x1a5));_0x509d65[_0xddd1c5(0x144)]=_0x43c535[_0xddd1c5(0x89)],_0x509d65[_0xddd1c5(0x129)][_0xddd1c5(0x172)]=_0x43c535[_0xddd1c5(0x171)],_0x5e3be7['appendChild'](_0x509d65),_0x509d65[_0xddd1c5(0x118)](_0xddd1c5(0x164),()=>_0x48d5be=!![]),_0x509d65['addEventListener'](_0xddd1c5(0x15a),function(){var _0xbef9ee=_0xddd1c5;_0x48d5be=![],_0x2ebe30[_0xbef9ee(0x18b)](_0x43c535),_0x437739[_0xbef9ee(0x98)](_0x437739[_0xbef9ee(0x160)](_0x3908d1=>_0x3908d1[_0xbef9ee(0x171)]===_0x43c535['setCode']),0x1),_0x15ef27['value']='',_0x3b4f5f(),_0x25895a();});});}function _0x3b4f5f(){var _0x2d08d9=_0x27d4bd;_0x4f1397[_0x2d08d9(0x199)]='',_0x2ebe30[_0x2d08d9(0x83)](_0x14651f=>{var _0x22893f=_0x2d08d9,_0x39a24f=document['createElement'](_0x22893f(0x1a5));_0x39a24f[_0x22893f(0x90)]=_0x22893f(0xfe),_0x39a24f[_0x22893f(0x144)]=_0x14651f[_0x22893f(0x89)];var _0x3dd6f5=document[_0x22893f(0xf8)]('span');_0x3dd6f5[_0x22893f(0x90)]='remove-tag',_0x3dd6f5[_0x22893f(0x144)]='×',_0x3dd6f5['addEventListener']('click',function(){var _0x13c7ae=_0x22893f;_0x437739['push'](_0x14651f);const _0x4494b3=_0x2ebe30[_0x13c7ae(0x160)](_0x3d4010=>_0x3d4010[_0x13c7ae(0x171)]===_0x14651f[_0x13c7ae(0x171)]);if(_0x4494b3>-0x1)_0x2ebe30[_0x13c7ae(0x98)](_0x4494b3,0x1);_0x3b4f5f(),_0x25895a();}),_0x39a24f[_0x22893f(0x16d)](_0x3dd6f5),_0x4f1397[_0x22893f(0x16d)](_0x39a24f);}),_0xd29000[_0x2d08d9(0x131)](new CustomEvent(_0x2d08d9(0xc4),{'detail':_0x2ebe30,'bubbles':!![]}));}return _0x15ef27[_0x27d4bd(0x118)](_0x27d4bd(0x1b0),function(){var _0x47b1b0=_0x27d4bd;_0x6ae7b4&&(clearTimeout(_0x6ae7b4),_0x6ae7b4=null),_0x5e3be7['classList']['remove'](_0x47b1b0(0x169));}),_0x15ef27[_0x27d4bd(0x118)](_0x27d4bd(0x173),_0x25895a),_0x15ef27[_0x27d4bd(0x118)]('keydown',function(_0x4acd5e){var _0x69a526=_0x27d4bd;_0x4acd5e[_0x69a526(0x19c)]===_0x69a526(0x117)&&(_0x4acd5e['preventDefault'](),_0x59f484());}),_0x15ef27[_0x27d4bd(0x118)]('blur',function(){if(_0x48d5be)return;_0x6ae7b4=setTimeout(()=>{_0x59f484(),_0x6ae7b4=null;},0xc8);}),document[_0x27d4bd(0x118)](_0x27d4bd(0x15a),function(_0x5311ee){var _0x5d8b0f=_0x27d4bd;!_0xd29000[_0x5d8b0f(0x1ad)](_0x5311ee['target'])&&_0x5e3be7[_0x5d8b0f(0xd3)][_0x5d8b0f(0x84)](_0x5d8b0f(0x169));}),_0x25895a(),_0x2ebe30;}function getLastCode(_0x2e7994){var _0xf0216a=_0x4a62de;const _0x3e1a8a=_0x2e7994[_0xf0216a(0x1b7)](_0x1bf57c=>String(_0x1bf57c[_0xf0216a(0x1b3)])[_0xf0216a(0xdf)]())[_0xf0216a(0xe3)](_0x37cdbf=>_0x37cdbf!=='');if(_0x3e1a8a['length']===0x0)return'';const _0x38e4d4=_0x3e1a8a[_0xf0216a(0x18c)](_0xc75d30=>/^\d+$/['test'](_0xc75d30));if(_0x38e4d4){const _0x515f97=_0x3e1a8a[_0xf0216a(0x1b7)](Number),_0x51473e=Math[_0xf0216a(0x14e)](..._0x515f97);return String(_0x51473e);}let _0x125377;if(typeof Intl!==_0xf0216a(0xdd)&&Intl[_0xf0216a(0x17e)]){const _0x2bc7f1=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0xf0216a(0x176)});_0x125377=_0x3e1a8a[_0xf0216a(0x15c)]()[_0xf0216a(0x188)](_0x2bc7f1['compare']);}else{const _0x2b16b4=_0x3e1a8a[_0xf0216a(0x18c)](_0x4606a9=>/^\d+$/[_0xf0216a(0x96)](_0x4606a9));_0x2b16b4?_0x125377=_0x3e1a8a[_0xf0216a(0x1b7)](Number)[_0xf0216a(0x188)]((_0x293e91,_0x267a0d)=>_0x293e91-_0x267a0d)[_0xf0216a(0x1b7)](String):_0x125377=_0x3e1a8a['slice']()[_0xf0216a(0x188)]();}return _0x125377[_0x125377[_0xf0216a(0xc9)]-0x1];}function getNextCode(_0x56caf5){var _0x162a9f=_0x4a62de;const _0xdf4605=getLastCode(_0x56caf5);if(!_0xdf4605)return'';if(/^\d+$/[_0x162a9f(0x96)](_0xdf4605))return String(Number(_0xdf4605)+0x1);const _0x2bf644=_0xdf4605[_0x162a9f(0xd8)](/^([A-Za-z]*)(\d+)$/);if(_0x2bf644){const [,_0x493d16,_0x5ddbb2]=_0x2bf644,_0x24a4c8=String(Number(_0x5ddbb2)+0x1)[_0x162a9f(0xc5)](_0x5ddbb2[_0x162a9f(0xc9)],'0');return _0x493d16+_0x24a4c8;}return _0xdf4605;}document['getElementById'](_0x4a62de(0xe8))[_0x4a62de(0x118)](_0x4a62de(0x173),function(_0x206597){var _0x2572ce=_0x4a62de;baseItem[_0x2572ce(0x157)]=_0x206597[_0x2572ce(0x80)][_0x2572ce(0x1a2)];}),document['getElementById']('inputItemDescription')[_0x4a62de(0x118)](_0x4a62de(0x173),function(_0x1be80d){var _0x580c07=_0x4a62de;baseItem[_0x580c07(0x187)]=_0x1be80d['target'][_0x580c07(0x1a2)];}),document['getElementById'](_0x4a62de(0x92))[_0x4a62de(0x118)](_0x4a62de(0x173),function(_0x1bf4e2){var _0x43cd95=_0x4a62de;baseItem[_0x43cd95(0x19d)]=_0x1bf4e2[_0x43cd95(0x80)][_0x43cd95(0x1a2)];}),document['getElementById'](_0x4a62de(0x13f))['addEventListener'](_0x4a62de(0x136),function(_0x19ae24){var _0xc2027c=_0x4a62de;baseItem[_0xc2027c(0x11d)]=_0x19ae24[_0xc2027c(0x80)][_0xc2027c(0x1a2)];}),document[_0x4a62de(0xca)](_0x4a62de(0x1b4))[_0x4a62de(0x118)]('change',function(_0x3c6be9){var _0xd98eb2=_0x4a62de;baseItem[_0xd98eb2(0x17f)]=_0x3c6be9['target'][_0xd98eb2(0x1a2)];const _0x5a83c2=_0x3c6be9[_0xd98eb2(0x80)][_0xd98eb2(0x1a2)],_0xc201b1=company[0x0][_0xd98eb2(0x14d)][_0xd98eb2(0xf0)](_0x2fe718=>_0x2fe718[_0xd98eb2(0x88)]==_0x5a83c2)?.[_0xd98eb2(0x1a8)]||0x0,_0x26c760=company[0x0][_0xd98eb2(0x14d)][_0xd98eb2(0xf0)](_0x25c9de=>_0x25c9de['setTaxId']==_0x5a83c2)?.[_0xd98eb2(0x11f)]||0x0;baseItem[_0xd98eb2(0x108)]=_0xc201b1,baseItem[_0xd98eb2(0x13b)]=_0x26c760;}),document['getElementById'](_0x4a62de(0x91))[_0x4a62de(0x118)]('change',function(_0x4ee2bc){var _0x5193ab=_0x4a62de;baseItem[_0x5193ab(0xe2)]=_0x4ee2bc[_0x5193ab(0x80)]['checked'];}),document[_0x4a62de(0xca)](_0x4a62de(0x132))['addEventListener']('change',function(_0xbabcac){var _0x2b6c32=_0x4a62de;baseItem['setItemIsSold']=_0xbabcac[_0x2b6c32(0x80)][_0x2b6c32(0xa1)];}),document[_0x4a62de(0xca)]('inputItemCode')[_0x4a62de(0x118)](_0x4a62de(0x173),function(_0x3513ff){var _0x44e613=_0x4a62de;baseItem[_0x44e613(0xd1)]=_0x3513ff[_0x44e613(0x80)][_0x44e613(0x1a2)];}),document[_0x4a62de(0xca)](_0x4a62de(0x10d))['addEventListener']('input',function(_0xa6fc54){var _0x3ed47e=_0x4a62de;baseItem[_0x3ed47e(0x161)]=_0xa6fc54[_0x3ed47e(0x80)][_0x3ed47e(0x1a2)];}),document[_0x4a62de(0xca)](_0x4a62de(0xdc))[_0x4a62de(0x118)](_0x4a62de(0x15a),function(){addUnit(),updateUnitsArray();}),document[_0x4a62de(0xca)](_0x4a62de(0x11a))['addEventListener'](_0x4a62de(0xb9),function(){var _0x487159=_0x4a62de;const _0x4aa2de=this[_0x487159(0x1a2)][_0x487159(0xdf)]();if(_0x4aa2de==='')return;const _0x13abf0=products[_0x487159(0x104)](_0x372490=>_0x372490[_0x487159(0x1b3)]==_0x4aa2de),_0x167dc4=getLastCode(products);_0x13abf0?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x167dc4,0x2,0x1):ntfShow(_0x487159(0x1bb),0x1,0x1);});function removeImg(_0x3857d0){var _0x3ac285=_0x4a62de;currentImages[_0x3857d0]=null;var _0x569281=imgC[_0x3ac285(0x127)]('[data-idx=\x22'+_0x3857d0+'\x22]');_0x569281[_0x3ac285(0x199)]='';var _0x3b377a=document[_0x3ac285(0xf8)](_0x3ac285(0x173));_0x3b377a[_0x3ac285(0x8c)]=_0x3ac285(0x116),_0x3b377a[_0x3ac285(0x1a3)]=_0x3ac285(0x14f),_0x3b377a[_0x3ac285(0x8a)]['display']=_0x3ac285(0x77);var _0x21eede=document['createElement'](_0x3ac285(0x153));_0x21eede[_0x3ac285(0x144)]='+',_0x569281['appendChild'](_0x3b377a),_0x569281[_0x3ac285(0x16d)](_0x21eede),_0x569281[_0x3ac285(0x118)]('click',function(){var _0x16769d=_0x3ac285;_0x3b377a[_0x16769d(0x15a)]();}),baseItem['setItemImages']=currentImages[_0x3ac285(0xe3)](function(_0x31ba5b){return _0x31ba5b;});}function addUnit(_0x18f7bb,_0x375278,_0x9c42ec,_0x5b11e1,_0x18c0d6,_0x7e02e2,_0x1ee1db){var _0x3bfa13=_0x4a62de,_0x399b9f=uniqueValuesArray(_0x3bfa13(0x115),_0x3bfa13(0x14c),myCompany[_0x3bfa13(0x11c)]);_0x18f7bb=_0x18f7bb||'',_0x375278=_0x375278||_0x399b9f[0x3a]&&_0x399b9f[0x3a][_0x3bfa13(0x171)]||'',_0x9c42ec=_0x9c42ec!==undefined?_0x9c42ec:0x1,_0x5b11e1=!!_0x5b11e1,_0x18c0d6=_0x18c0d6||'',_0x7e02e2=_0x7e02e2||'';var _0x17636d=unitCount++,_0xe49369=document[_0x3bfa13(0xf8)](_0x3bfa13(0x1a5));_0xe49369['dataset'][_0x3bfa13(0x9c)]=_0x17636d,_0xe49369['dataset'][_0x3bfa13(0x183)]=_0x5b11e1,_0xe49369['innerHTML']=_0x3bfa13(0xf4)+_0x17636d+_0x3bfa13(0x178)+_0x18f7bb+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x17636d+_0x3bfa13(0xd9)+_0x17636d+_0x3bfa13(0x178)+_0x9c42ec+'\x22\x20'+(_0x5b11e1?_0x3bfa13(0xcb):'')+_0x3bfa13(0x1aa)+_0x17636d+_0x3bfa13(0x178)+_0x18c0d6+_0x3bfa13(0xad)+_0x17636d+_0x3bfa13(0x178)+_0x7e02e2+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x5b11e1?_0x3bfa13(0x170):'')+_0x3bfa13(0x163),fillSelect(_0xe49369[_0x3bfa13(0x127)](_0x3bfa13(0x19b)),_0x399b9f,_0x3bfa13(0x171),'setName'),_0xe49369['querySelector'](_0x3bfa13(0x19b))[_0x3bfa13(0x1a2)]=_0x375278,[_0x3bfa13(0x197),_0x3bfa13(0x1b1),_0x3bfa13(0x148),'priceInput','costInput']['forEach'](function(_0x9439a1){var _0x4646fb=_0x3bfa13;_0xe49369[_0x4646fb(0x127)]('.'+_0x9439a1)[_0x4646fb(0x118)]('input',function(){var _0x2feb86=_0x4646fb,_0x3985e2=_0x1ee1db?+_0x1ee1db['id'][_0x2feb86(0x1af)]('_')[0x1]:null;if(_0x1ee1db)updateVariantUnits(_0x3985e2);else updateUnitsArray();});}),_0xe49369[_0x3bfa13(0x127)](_0x3bfa13(0xa2))[_0x3bfa13(0x118)](_0x3bfa13(0x15a),function(){var _0x4ec369=_0x3bfa13;_0xe49369['remove']();var _0x49442d=_0x1ee1db?+_0x1ee1db['id'][_0x4ec369(0x1af)]('_')[0x1]:null;if(_0x1ee1db)updateVariantUnits(_0x49442d);else updateUnitsArray();});var _0x1f861b=_0x1ee1db||document[_0x3bfa13(0xca)](_0x3bfa13(0x10f));_0x1f861b['appendChild'](_0xe49369);}function containerIdx(_0x3b73b3){var _0x4d5583=_0x4a62de;return+_0x3b73b3['id'][_0x4d5583(0x1af)]('_')[0x1];}function updateUnitsArray(){var _0x232c52=_0x4a62de,_0x5ac09c=[],_0x76c848=Array[_0x232c52(0xb5)](document[_0x232c52(0x119)](_0x232c52(0x17b))),_0x58190f=_0x76c848[_0x232c52(0xf0)](_0x1e4f0d=>_0x1e4f0d['dataset'][_0x232c52(0x183)]===_0x232c52(0x16e)),_0x4dfcc6=_0x58190f?+_0x58190f[_0x232c52(0x127)](_0x232c52(0x1a0))['value']:0x1;_0x76c848[_0x232c52(0x83)](function(_0x391cee){var _0x28048d=_0x232c52,_0x448db8=+_0x391cee['querySelector'](_0x28048d(0x1a0))[_0x28048d(0x1a2)]||0x0,_0x8975ac=+_0x391cee[_0x28048d(0x127)](_0x28048d(0x16a))[_0x28048d(0x1a2)]||0x0,_0x1286ca=+_0x391cee[_0x28048d(0x127)](_0x28048d(0x85))[_0x28048d(0x1a2)]||0x0;_0x5ac09c[_0x28048d(0x18b)]({'setAlias':_0x391cee[_0x28048d(0x127)]('.unitAlias')[_0x28048d(0x1a2)]['trim'](),'setUnitCode':_0x391cee[_0x28048d(0x127)](_0x28048d(0x19b))[_0x28048d(0x1a2)],'setEquivalence':_0x448db8,'setFactor':_0x391cee[_0x28048d(0x129)]['default']==='true'?0x1:_0x448db8==_0x4dfcc6?0x1:_0x448db8<_0x4dfcc6?_0x4dfcc6/_0x448db8:_0x448db8/_0x4dfcc6,'setPrice':_0x8975ac,'setCost':_0x1286ca,'setDefault':_0x391cee[_0x28048d(0x129)][_0x28048d(0x183)]===_0x28048d(0x16e)?0x1:0x0});}),baseItem[_0x232c52(0x152)]=_0x5ac09c;}function updateBranches(){var _0xbcd749=_0x4a62de,_0xa0bea2=[];document[_0xbcd749(0x119)](_0xbcd749(0x143))[_0xbcd749(0x83)](function(_0x1f260e){var _0xef6efa=_0xbcd749,_0x583177=_0x1f260e['querySelector'](_0xef6efa(0x113));if(_0x583177[_0xef6efa(0xa1)]){var _0x1f6900=+_0x583177[_0xef6efa(0x129)]['id'],_0x238d62=+_0x1f260e[_0xef6efa(0x127)](_0xef6efa(0x185))[_0xef6efa(0x1a2)],_0x2ead01=+_0x1f260e['querySelector'](_0xef6efa(0x7a))[_0xef6efa(0x1a2)];_0xa0bea2['push']({'setWarehouseCode':_0x1f6900,'setStockInitial':_0x238d62,'setStockMinimum':_0x2ead01});}}),baseItem[_0xbcd749(0x155)]=_0xa0bea2;}document['getElementById'](_0x4a62de(0x1a1))[_0x4a62de(0x118)](_0x4a62de(0x15a),function(){var _0x1d78d7=_0x4a62de,_0x26729b=Date[_0x1d78d7(0xb4)](),_0x286f2c=document[_0x1d78d7(0xf8)](_0x1d78d7(0x1a5));_0x286f2c[_0x1d78d7(0x129)]['idx']=_0x26729b,_0x286f2c[_0x1d78d7(0x199)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x26729b+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x26729b+_0x1d78d7(0xb8),prodC[_0x1d78d7(0x16d)](_0x286f2c),initProdSearch(_0x286f2c['querySelector'](_0x1d78d7(0x12b))),_0x286f2c['querySelector']('.removeProd')['addEventListener'](_0x1d78d7(0x15a),function(){_0x286f2c['remove'](),updateProdItems();}),_0x286f2c['querySelector']('.prodQty')[_0x1d78d7(0x118)](_0x1d78d7(0x173),updateProdItems),document['getElementById'](_0x1d78d7(0xa5))[_0x1d78d7(0xd3)][_0x1d78d7(0xcd)](_0x1d78d7(0xcc),!![]),document['getElementById'](_0x1d78d7(0xa5))[_0x1d78d7(0xd3)]['toggle'](_0x1d78d7(0x169),![]);});function initProdSearch(_0x2d1a1a,_0x33e4d2){var _0x1e592f=_0x4a62de,_0x5b56a4=_0x2d1a1a[_0x1e592f(0x127)](_0x1e592f(0xec)),_0x3ea5a7=_0x2d1a1a['querySelector'](_0x1e592f(0x18e)),_0x1184f5=_0x33e4d2||null;if(_0x33e4d2)_0x5b56a4['value']=_0x33e4d2['name'];_0x5b56a4[_0x1e592f(0x118)](_0x1e592f(0x173),function(){var _0x315410=_0x1e592f,_0x258a44=_0x5b56a4[_0x315410(0x1a2)]['toLowerCase']()[_0x315410(0xdf)]();_0x3ea5a7[_0x315410(0x199)]='';if(!_0x258a44)return;products[_0x315410(0xe3)](_0x46dfa0=>_0x46dfa0[_0x315410(0x102)][_0x315410(0x13a)]()[_0x315410(0x1b9)](_0x258a44))[_0x315410(0x15c)](0x0,0x14)[_0x315410(0x83)](function(_0x3a55d0){var _0x1b26d8=_0x315410,_0x344200=document['createElement'](_0x1b26d8(0x1a5));_0x344200[_0x1b26d8(0x144)]=_0x3a55d0['setDescripcion'],_0x344200[_0x1b26d8(0x129)]['id']=_0x3a55d0['id'],_0x344200['dataset'][_0x1b26d8(0x110)]=_0x3a55d0[_0x1b26d8(0x102)],_0x3ea5a7[_0x1b26d8(0x16d)](_0x344200),_0x344200[_0x1b26d8(0x118)](_0x1b26d8(0x15a),function(){var _0x52824c=_0x1b26d8;_0x1184f5={'id':_0x3a55d0['id'],'name':_0x3a55d0['setDescripcion']},_0x5b56a4['value']=_0x3a55d0[_0x52824c(0x102)],_0x3ea5a7['innerHTML']='';var _0x260d70=_0x2d1a1a[_0x52824c(0x11b)]('[id$=\x22_comp_container\x22]');if(_0x260d70){var _0x42367a=+_0x260d70['id']['split']('_')[0x1];updateVariantComponents(_0x42367a);}else updateProdItems();});});}),_0x5b56a4[_0x1e592f(0x118)]('focus',function(){var _0x1275bb=_0x1e592f;_0x3ea5a7[_0x1275bb(0xd3)][_0x1275bb(0x134)](_0x1275bb(0x169));}),document[_0x1e592f(0x118)](_0x1e592f(0x15a),function(_0x5f3a65){var _0x199443=_0x1e592f;if(!_0x2d1a1a[_0x199443(0x1ad)](_0x5f3a65[_0x199443(0x80)]))_0x3ea5a7[_0x199443(0xd3)][_0x199443(0x84)](_0x199443(0x169));}),Object['defineProperty'](_0x2d1a1a,_0x1e592f(0x121),{'get':()=>_0x1184f5});}function updateProdItems(){var _0x5c2a5b=_0x4a62de,_0x1ecae3=[];Array[_0x5c2a5b(0xb5)](prodC[_0x5c2a5b(0x93)])[_0x5c2a5b(0x83)](function(_0x13854a){var _0x429b86=_0x5c2a5b,_0x22b727=_0x13854a['querySelector']('.prod_input_container');if(!_0x22b727)return;var _0x525ca7=_0x13854a[_0x429b86(0x127)](_0x429b86(0x8e)),_0x72aabe=_0x22b727[_0x429b86(0x121)];_0x72aabe&&_0x1ecae3[_0x429b86(0x18b)]({'setItemId':_0x72aabe['id'],'setDescripcion':_0x72aabe[_0x429b86(0x110)],'setCantidad':+_0x525ca7[_0x429b86(0x1a2)]});}),baseItem['setItemComponents']=_0x1ecae3,_0x1ecae3[_0x5c2a5b(0xc9)]===0x0&&(document[_0x5c2a5b(0xca)](_0x5c2a5b(0xa5))[_0x5c2a5b(0xd3)][_0x5c2a5b(0xcd)](_0x5c2a5b(0xcc),![]),document[_0x5c2a5b(0xca)](_0x5c2a5b(0xa5))[_0x5c2a5b(0xd3)]['toggle']('newItem_hidden',!![]));}document[_0x4a62de(0xca)]('newItem_btn_addVariantGroup')['addEventListener'](_0x4a62de(0x15a),function(){var _0x565215=_0x4a62de,_0x508487=vgCount++,_0x1c6740=document[_0x565215(0xf8)](_0x565215(0x1a5));_0x1c6740[_0x565215(0x129)]['idx']=_0x508487,_0x1c6740[_0x565215(0x199)]=_0x565215(0x12c)+_0x508487+'\x22>'+_0x565215(0x191)+_0x508487+'\x22>'+_0x565215(0x162),vgC[_0x565215(0x16d)](_0x1c6740),_0x1c6740[_0x565215(0x127)]('.vgName')[_0x565215(0x118)](_0x565215(0xb9),generateVariants),_0x1c6740[_0x565215(0x127)](_0x565215(0x156))[_0x565215(0x118)](_0x565215(0xb9),generateVariants),_0x1c6740[_0x565215(0x127)](_0x565215(0x101))['addEventListener'](_0x565215(0x15a),function(){var _0x31e896=_0x565215;_0x1c6740[_0x31e896(0x134)](),generateVariants();});});function generateVariants(){var _0x133375=_0x4a62de,_0x16ef78=[];vgC['querySelectorAll'](_0x133375(0x1a5))[_0x133375(0x83)](function(_0x11bf5e){var _0x93ef59=_0x133375,_0x1c2054=_0x11bf5e[_0x93ef59(0x127)](_0x93ef59(0x9a))[_0x93ef59(0x1a2)][_0x93ef59(0xdf)](),_0x97d901=_0x11bf5e['querySelector']('.vgVals')[_0x93ef59(0x1a2)][_0x93ef59(0x1af)](',')['map'](_0x3bde6f=>_0x3bde6f[_0x93ef59(0xdf)]())[_0x93ef59(0xe3)](_0x34b594=>_0x34b594);if(_0x1c2054&&_0x97d901[_0x93ef59(0xc9)])_0x16ef78[_0x93ef59(0x18b)]({'name':_0x1c2054,'vals':_0x97d901});});var _0x4ccc40=[{}];_0x16ef78[_0x133375(0x83)](function(_0x6b6e10){var _0x307551=_0x133375;_0x4ccc40=_0x4ccc40[_0x307551(0x75)](function(_0x18d461){var _0x463639=_0x307551;return _0x6b6e10['vals'][_0x463639(0x1b7)](function(_0xe267b1){var _0x102839=_0x463639,_0x2d3675=Object[_0x102839(0xc0)]({},_0x18d461);return _0x2d3675[_0x6b6e10[_0x102839(0x110)]]=_0xe267b1,_0x2d3675;});});}),newItems=[],varContainer[_0x133375(0x199)]='',_0x4ccc40['forEach'](function(_0x448a26,_0x495239){var _0x2ebf40=_0x133375,_0x7a07e5=JSON[_0x2ebf40(0x18f)](JSON[_0x2ebf40(0x87)](baseItem));_0x7a07e5[_0x2ebf40(0x9b)]=_0x448a26,_0x7a07e5[_0x2ebf40(0xe9)]=baseItem[_0x2ebf40(0x157)]+'\x20'+Object[_0x2ebf40(0x7f)](_0x448a26)[_0x2ebf40(0x1b7)](_0x3fa5e5=>_0x3fa5e5[0x0]+'\x20'+_0x3fa5e5[0x1])[_0x2ebf40(0x184)]('\x20'),newItems[_0x2ebf40(0x18b)](_0x7a07e5);var _0x2c74e8=document['createElement'](_0x2ebf40(0x1a5));_0x2c74e8[_0x2ebf40(0xd3)][_0x2ebf40(0x84)](_0x2ebf40(0x16c)),_0x2c74e8[_0x2ebf40(0x129)][_0x2ebf40(0x9c)]=_0x495239,_0x2c74e8['innerHTML']='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x7a07e5[_0x2ebf40(0xe9)]+_0x2ebf40(0xc1)+_0x7a07e5[_0x2ebf40(0xd1)]+_0x2ebf40(0x114)+_0x7a07e5[_0x2ebf40(0x161)]+_0x2ebf40(0x181)+_0x7a07e5[_0x2ebf40(0x19d)]+_0x2ebf40(0xdb)+_0x495239+_0x2ebf40(0x151)+_0x495239+_0x2ebf40(0x146)+_0x495239+_0x2ebf40(0x135),varContainer[_0x2ebf40(0x16d)](_0x2c74e8),_0x2c74e8[_0x2ebf40(0x127)]('.variantCode')[_0x2ebf40(0x118)](_0x2ebf40(0x173),_0x1ca36c=>newItems[_0x495239][_0x2ebf40(0xd1)]=_0x1ca36c[_0x2ebf40(0x80)][_0x2ebf40(0x1a2)]),_0x2c74e8[_0x2ebf40(0x127)]('.variantBarCode')[_0x2ebf40(0x118)](_0x2ebf40(0x173),_0x218f6f=>newItems[_0x495239][_0x2ebf40(0x161)]=_0x218f6f['target'][_0x2ebf40(0x1a2)]),_0x2c74e8['querySelector'](_0x2ebf40(0x13d))[_0x2ebf40(0x118)](_0x2ebf40(0x136),_0x1f9fad=>newItems[_0x495239]['setItemDateExpiry']=_0x1f9fad[_0x2ebf40(0x80)][_0x2ebf40(0x1a2)]),initVariantUnits(_0x495239),initVariantComponents(_0x495239),initVariantBranches(_0x495239),_0x2c74e8['querySelector'](_0x2ebf40(0x167))[_0x2ebf40(0x118)](_0x2ebf40(0x15a),function(){var _0x595001=_0x2ebf40,_0x218a10=+_0x2c74e8[_0x595001(0x129)][_0x595001(0x9c)];newItems[_0x595001(0x98)](_0x218a10,0x1),_0x2c74e8[_0x595001(0x134)](),document['querySelectorAll']('.variantForm')[_0x595001(0x83)](function(_0x100392,_0x3ac940){var _0x6e8b85=_0x595001;_0x100392[_0x6e8b85(0x129)][_0x6e8b85(0x9c)]=_0x3ac940;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x9fc53c){var _0x472eb3=_0x4a62de,_0xcb8339=document[_0x472eb3(0xca)](_0x472eb3(0x16b)+_0x9fc53c+_0x472eb3(0x150)),_0x44f4da=[];Array[_0x472eb3(0xb5)](_0xcb8339[_0x472eb3(0x93)])[_0x472eb3(0x83)](function(_0x525467){var _0x20fdf1=_0x472eb3,_0x1ed172=+_0x525467['querySelector'](_0x20fdf1(0x1a0))[_0x20fdf1(0x1a2)]||0x0,_0x1bcbbc=_0x525467[_0x20fdf1(0x127)](_0x20fdf1(0xac))['value'][_0x20fdf1(0xdf)](),_0x31f020=_0x525467['querySelector'](_0x20fdf1(0x19b))['value'],_0x5d9fe9=+_0x525467['querySelector'](_0x20fdf1(0x16a))['value']||0x0,_0x14132f=+_0x525467[_0x20fdf1(0x127)](_0x20fdf1(0x85))['value']||0x0,_0x3cc47e=_0x525467[_0x20fdf1(0x129)][_0x20fdf1(0x183)]===_0x20fdf1(0x16e),_0x423189=+_0xcb8339[_0x20fdf1(0x127)](_0x20fdf1(0x7c))[_0x20fdf1(0x1a2)]||0x1,_0x2493ac=_0x3cc47e?0x1:_0x1ed172==_0x423189?0x1:_0x1ed172<_0x423189?_0x423189/_0x1ed172:_0x1ed172/_0x423189;_0x44f4da[_0x20fdf1(0x18b)]({'setAlias':_0x1bcbbc,'setUnitCode':_0x31f020,'setEquivalence':_0x1ed172,'setFactor':_0x2493ac,'setPrice':_0x5d9fe9,'setCost':_0x14132f,'setDefault':_0x3cc47e?0x1:0x0});}),newItems[_0x9fc53c][_0x472eb3(0x152)]=_0x44f4da;}function initVariantUnits(_0x42a7ce){var _0x35dc4a=_0x4a62de,_0x36e3f4=document[_0x35dc4a(0xca)](_0x35dc4a(0x16b)+_0x42a7ce+_0x35dc4a(0x150));_0x36e3f4[_0x35dc4a(0x199)]='',newItems[_0x42a7ce][_0x35dc4a(0x152)][_0x35dc4a(0x83)](function(_0x51cd8a){var _0x5bf261=_0x35dc4a;addUnit(_0x51cd8a[_0x5bf261(0x8f)],_0x51cd8a[_0x5bf261(0x115)],_0x51cd8a['setEquivalence'],_0x51cd8a[_0x5bf261(0x8b)],_0x51cd8a[_0x5bf261(0xe5)],_0x51cd8a[_0x5bf261(0xd4)],_0x36e3f4);}),_0x36e3f4[_0x35dc4a(0x145)]['querySelector']('.addVariantUnit')['addEventListener'](_0x35dc4a(0x15a),function(){addUnit('','',0x1,![],'','',_0x36e3f4),updateVariantUnits(_0x42a7ce);});}function updateVariantUnits(_0x5cc7b0){var _0x2e07d8=_0x4a62de,_0x543577=document[_0x2e07d8(0xca)](_0x2e07d8(0x16b)+_0x5cc7b0+_0x2e07d8(0x150)),_0x332c87=_0x543577[_0x2e07d8(0x127)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x553016=_0x332c87?+_0x332c87['value']:0x1,_0x4d5430=Array['from'](_0x543577[_0x2e07d8(0x93)])['map'](function(_0x3172db){var _0x192b79=_0x2e07d8,_0x2965ca=_0x3172db[_0x192b79(0x127)](_0x192b79(0xac))[_0x192b79(0x1a2)]['trim'](),_0x30b71c=_0x3172db[_0x192b79(0x127)](_0x192b79(0x19b))[_0x192b79(0x1a2)],_0x39b4fc=+_0x3172db['querySelector'](_0x192b79(0x1a0))['value']||0x0,_0x3f70b2=+_0x3172db[_0x192b79(0x127)](_0x192b79(0x16a))[_0x192b79(0x1a2)]||0x0,_0x3e2e5a=+_0x3172db['querySelector'](_0x192b79(0x85))[_0x192b79(0x1a2)]||0x0,_0xc08429=_0x3172db[_0x192b79(0x129)][_0x192b79(0x183)]===_0x192b79(0x16e);return{'setAlias':_0x2965ca,'setUnitCode':_0x30b71c,'setEquivalence':_0x39b4fc,'setFactor':_0xc08429?0x1:_0x39b4fc==_0x553016?0x1:_0x39b4fc<_0x553016?_0x553016/_0x39b4fc:_0x39b4fc/_0x553016,'setPrice':_0x3f70b2,'setCost':_0x3e2e5a,'setDefault':_0xc08429?0x1:0x0};});newItems[_0x5cc7b0]['setItemUnits']=_0x4d5430;}function initVariantComponents(_0x433058){var _0x18577f=_0x4a62de,_0x4fc5c8=document[_0x18577f(0xca)](_0x18577f(0x16b)+_0x433058+_0x18577f(0x1ae));_0x4fc5c8['innerHTML']='',newItems[_0x433058][_0x18577f(0x106)][_0x18577f(0x83)](function(_0x2fb8ad){var _0x366b88=_0x18577f,_0x49fdca=document[_0x366b88(0xf8)](_0x366b88(0x1a5)),_0x568bcc=Date[_0x366b88(0xb4)]();_0x49fdca[_0x366b88(0x129)][_0x366b88(0x9c)]=_0x568bcc,_0x49fdca[_0x366b88(0x199)]=_0x366b88(0xc7)+_0x568bcc+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x2fb8ad[_0x366b88(0xef)]+_0x366b88(0xce),_0x4fc5c8['appendChild'](_0x49fdca),initProdSearch(_0x49fdca['querySelector'](_0x366b88(0x12b)),{'id':_0x2fb8ad['setItemId'],'name':_0x2fb8ad[_0x366b88(0x102)]}),_0x49fdca[_0x366b88(0x127)](_0x366b88(0x8e))[_0x366b88(0x118)]('input',function(){updateVariantComponents(_0x433058);}),_0x49fdca[_0x366b88(0x127)]('.removeCombo')[_0x366b88(0x118)](_0x366b88(0x15a),function(){var _0x9b91b1=_0x366b88;_0x49fdca[_0x9b91b1(0x134)](),updateVariantComponents(_0x433058);});}),_0x4fc5c8[_0x18577f(0x145)][_0x18577f(0x127)](_0x18577f(0xb0))[_0x18577f(0x118)](_0x18577f(0x15a),function(){var _0x4897d7=_0x18577f,_0x25b4b1=document[_0x4897d7(0xf8)]('div'),_0x255335=Date[_0x4897d7(0xb4)]();_0x25b4b1[_0x4897d7(0x129)]['idx']=_0x255335,_0x25b4b1[_0x4897d7(0x199)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x255335+_0x4897d7(0x1a9),_0x4fc5c8[_0x4897d7(0x16d)](_0x25b4b1),initProdSearch(_0x25b4b1[_0x4897d7(0x127)](_0x4897d7(0x12b))),_0x25b4b1[_0x4897d7(0x127)](_0x4897d7(0x8e))['addEventListener'](_0x4897d7(0x173),function(){updateVariantComponents(_0x433058);}),_0x25b4b1['querySelector'](_0x4897d7(0x17d))[_0x4897d7(0x118)](_0x4897d7(0x15a),function(){var _0x320236=_0x4897d7;_0x25b4b1[_0x320236(0x134)](),updateVariantComponents(_0x433058);});});}function updateVariantComponents(_0x3d884d){var _0x41b696=_0x4a62de,_0x400000=document[_0x41b696(0xca)](_0x41b696(0x16b)+_0x3d884d+_0x41b696(0x1ae)),_0x25e6b4=Array['from'](_0x400000[_0x41b696(0x93)])['map'](function(_0x2e34ee){var _0x51ad04=_0x41b696,_0x50d83e=_0x2e34ee[_0x51ad04(0x127)](_0x51ad04(0x12b)),_0x17d688=_0x50d83e['selectedItem'],_0x184fb4=+_0x2e34ee[_0x51ad04(0x127)](_0x51ad04(0x8e))[_0x51ad04(0x1a2)]||0x0;return _0x17d688?{'setItemId':_0x17d688['id'],'setDescripcion':_0x17d688[_0x51ad04(0x110)],'setCantidad':_0x184fb4}:null;})['filter'](_0x49f096=>_0x49f096);newItems[_0x3d884d]['setItemComponents']=_0x25e6b4;}function initVariantBranches(_0x166265){var _0x279bc5=_0x4a62de;const _0x16dea6=getAllWarehouses();var _0x3c88e5=document['getElementById'](_0x279bc5(0x16b)+_0x166265+'_branch_container');_0x3c88e5[_0x279bc5(0x199)]='',newItems[_0x166265][_0x279bc5(0x155)]['forEach'](function(_0x5171f1){var _0x17c4b3=_0x279bc5,_0x37c454=_0x16dea6['find'](_0x2b5987=>_0x2b5987[_0x17c4b3(0x1ab)]==_0x5171f1[_0x17c4b3(0xae)]),_0x2278ee=document[_0x17c4b3(0xf8)](_0x17c4b3(0x1a5));_0x2278ee[_0x17c4b3(0x199)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5171f1['setWarehouseCode']+_0x17c4b3(0x79)+_0x37c454[_0x17c4b3(0x7d)]+_0x17c4b3(0x105)+_0x5171f1[_0x17c4b3(0xae)]+_0x17c4b3(0x178)+_0x5171f1[_0x17c4b3(0x19a)]+_0x17c4b3(0x7b)+_0x5171f1[_0x17c4b3(0xae)]+'\x22\x20value=\x22'+_0x5171f1[_0x17c4b3(0x7e)]+'\x22>',_0x3c88e5[_0x17c4b3(0x16d)](_0x2278ee),_0x2278ee['querySelectorAll'](_0x17c4b3(0x173))[_0x17c4b3(0x83)](function(_0x556849){var _0x44a6c7=_0x17c4b3;_0x556849[_0x44a6c7(0x118)](_0x44a6c7(0x173),function(){updateVariantBranches(_0x166265);});});}),_0x16dea6[_0x279bc5(0x83)](function(_0x3f0c08){var _0x52bacb=_0x279bc5;if(!newItems[_0x166265][_0x52bacb(0x155)][_0x52bacb(0xf0)](_0x220388=>_0x220388[_0x52bacb(0xae)]===_0x3f0c08['setWarehouseId'])){var _0x4661b6=document[_0x52bacb(0xf8)]('div');_0x4661b6[_0x52bacb(0x199)]=_0x52bacb(0x139)+_0x3f0c08[_0x52bacb(0x1ab)]+_0x52bacb(0x147)+_0x3f0c08['setWarehouseName']+_0x52bacb(0x105)+_0x3f0c08[_0x52bacb(0x1ab)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x3f0c08[_0x52bacb(0x1ab)]+'\x22>',_0x3c88e5['appendChild'](_0x4661b6),_0x4661b6[_0x52bacb(0x119)](_0x52bacb(0x173))[_0x52bacb(0x83)](function(_0x24ac4b){var _0x234620=_0x52bacb;_0x24ac4b['addEventListener'](_0x234620(0x173),function(){updateVariantBranches(_0x166265);});});}});}function updateVariantBranches(_0x321137){var _0x37bdfd=_0x4a62de,_0x551331=document[_0x37bdfd(0xca)]('variant_'+_0x321137+_0x37bdfd(0xa7)),_0x542aad=[];_0x551331[_0x37bdfd(0x119)]('div')[_0x37bdfd(0x83)](function(_0x33e469){var _0x399371=_0x37bdfd,_0x579ae5=_0x33e469[_0x399371(0x127)](_0x399371(0x113));if(_0x579ae5[_0x399371(0xa1)]){var _0x245f2c=+_0x579ae5[_0x399371(0x129)]['id'],_0x470d34=+_0x33e469[_0x399371(0x127)]('.branchInit')[_0x399371(0x1a2)]||0x0,_0x472655=+_0x33e469[_0x399371(0x127)](_0x399371(0x7a))[_0x399371(0x1a2)]||0x0;_0x542aad[_0x399371(0x18b)]({'setWarehouseCode':_0x245f2c,'setStockInitial':_0x470d34,'setStockMinimum':_0x472655});}}),newItems[_0x321137]['setItemWarehouses']=_0x542aad;}async function storeOfflineProduct(_0x1cefce){var _0x47bef6=_0x4a62de;try{const _0x28fec1=await createCartStore(''),_0x396670=_0x28fec1[_0x47bef6(0x154)](_0x47bef6(0xa8),'readwrite'),_0x3fcd9c=_0x396670['objectStore'](_0x47bef6(0xa8));_0x3fcd9c['add'](_0x1cefce),_0x396670['oncomplete']=()=>{var _0x555faa=_0x47bef6;console[_0x555faa(0xfa)](_0x555faa(0x126));},_0x396670[_0x47bef6(0x109)]=_0x244f8a=>{var _0x4d105f=_0x47bef6;console[_0x4d105f(0x189)](_0x4d105f(0x180),_0x244f8a[_0x4d105f(0x80)][_0x4d105f(0x189)]);};}catch(_0x136331){console[_0x47bef6(0x189)](_0x47bef6(0x15f),_0x136331);}}document['getElementById']('btnItemSave')['addEventListener'](_0x4a62de(0x15a),async function(_0x4214b1){var _0x669f44=_0x4a62de;_0x4214b1[_0x669f44(0x1b8)]();const _0x50b63b=document[_0x669f44(0xca)](_0x669f44(0x11a)),_0x535516=document[_0x669f44(0xca)](_0x669f44(0xee))[_0x669f44(0x1a2)];if(!_0x50b63b['value']['trim']()&&_0x535516==0x0){ntfShow(_0x669f44(0x11e),0x2,0x1);return;}_0x535516==0x1&&(_0x50b63b[_0x669f44(0x1a2)]='',baseItem[_0x669f44(0xd1)]='');const _0x55dc8f=document['getElementById'](_0x669f44(0xe8));if(!_0x55dc8f[_0x669f44(0x1a2)][_0x669f44(0xdf)]()){ntfShow(_0x669f44(0xf3),0x2,0x1);return;}const _0x216b61=document[_0x669f44(0xca)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x669f44(0xc9)]===0x0&&(newItems=[baseItem]);const _0x391039=document[_0x669f44(0xca)]('windowId')[_0x669f44(0x1a2)],_0x421584=window_options[_0x391039][_0x669f44(0x1ba)],_0x32c903=[];newItems[_0x669f44(0x83)](_0x4c1a43=>{var _0x31556b=_0x669f44;const _0x5c5dc4=generateNumericUniqId();_0x4c1a43[_0x31556b(0x152)][_0x31556b(0x83)](_0x10454d=>{var _0x5a17b6=_0x31556b;const _0x20a872=generateNumericUniqId();_0x10454d[_0x5a17b6(0xf1)]=_0x20a872;const _0x57675c={'id':_0x20a872,'setIdProducto':_0x5c5dc4,'setCodProducto':_0x4c1a43['setItemCode'],'setDescripcion':_0x4c1a43['setItemName'],'setItemDescription':_0x4c1a43[_0x5a17b6(0x187)],'setBatchExpirationDate':_0x4c1a43[_0x5a17b6(0x19d)],'setBatchName':'','setCategoria':_0x4c1a43[_0x5a17b6(0x10e)][0x0]||'','setMarca':_0x4c1a43[_0x5a17b6(0x1b2)][0x0]||'','setConversionFactor':parseFloat(_0x10454d['setFactor']),'setImages':[],'setImg':_0x5a17b6(0x12a),'setInventariable':0x1,'setItemIsBought':_0x4c1a43[_0x5a17b6(0xe2)]?0x1:0x0,'setItemIsSold':_0x4c1a43[_0x5a17b6(0x1bc)]?0x1:0x0,'setPorcentajeIgv':_0x4c1a43[_0x5a17b6(0x13b)],'setPrinters':[],'setTaxId':_0x4c1a43['setItemTaxId'],'setTipAfeIgv':_0x4c1a43[_0x5a17b6(0x108)],'setUnidad':_0x10454d[_0x5a17b6(0x115)],'setUnidadCodigo':_0x10454d[_0x5a17b6(0x115)],'setItemUnitAlias':_0x10454d[_0x5a17b6(0x8f)],'currency_data':[{'currency':_0x421584,'setMtoPrecioCostoUnitario':_0x10454d[_0x5a17b6(0xd4)],'setMtoPrecioUnitario':_0x10454d['setPrice'],'setPriceLists':[]}],'sucursales':_0x4c1a43[_0x5a17b6(0x155)][_0x5a17b6(0x1b7)](_0x1741aa=>({'setIdSucursal':_0x1741aa[_0x5a17b6(0xae)],'setSucursalStock':_0x1741aa[_0x5a17b6(0x19a)][_0x5a17b6(0xfb)](),'setWarehouseStockMin':_0x1741aa[_0x5a17b6(0x7e)][_0x5a17b6(0xfb)]()})),'setItemFree':_0x4c1a43[_0x5a17b6(0xee)],'setItemBarCode':_0x4c1a43[_0x5a17b6(0x161)],'setItemBrands':_0x4c1a43[_0x5a17b6(0x1b2)][_0x5a17b6(0x15c)](),'setItemCategories':_0x4c1a43['setItemCategories'][_0x5a17b6(0x15c)](),'setItemComponents':_0x4c1a43[_0x5a17b6(0x106)][_0x5a17b6(0x1b7)](_0x551703=>({..._0x551703})),'setItemImages':_0x4c1a43[_0x5a17b6(0x168)][_0x5a17b6(0x15c)](),'setItemVariantName':_0x4c1a43[_0x5a17b6(0xe9)],'setItemVariantValues':{..._0x4c1a43[_0x5a17b6(0x9b)]}};_0x32c903[_0x5a17b6(0x18b)](_0x57675c),(_0x216b61['checked']||_0x535516==0x1)&&addToCart(_0x57675c);});}),console[_0x669f44(0xfa)]('Items\x20finales:',newItems),await finalizeImport(_0x32c903,newItems,![]);}),['dragenter','dragover']['forEach'](_0x21f1c4=>dropZone[_0x4a62de(0x118)](_0x21f1c4,_0x280c0a=>{var _0x1534bb=_0x4a62de;_0x280c0a[_0x1534bb(0x1b8)](),dropZone['classList'][_0x1534bb(0x84)](_0x1534bb(0xab));})),[_0x4a62de(0xcf),_0x4a62de(0xb3)][_0x4a62de(0x83)](_0x373de6=>dropZone[_0x4a62de(0x118)](_0x373de6,_0x3347c3=>{var _0x372f87=_0x4a62de;_0x3347c3[_0x372f87(0x1b8)](),dropZone['classList'][_0x372f87(0x134)](_0x372f87(0xab));})),dropZone[_0x4a62de(0x118)](_0x4a62de(0xb3),_0x131877=>{var _0x2682b8=_0x4a62de;const _0x49e7fc=_0x131877[_0x2682b8(0xba)][_0x2682b8(0x194)][0x0];if(!_0x49e7fc)return;fileInput[_0x2682b8(0x194)]=_0x131877['dataTransfer'][_0x2682b8(0x194)],dropZone['querySelector'](_0x2682b8(0x137))[_0x2682b8(0x144)]=_0x49e7fc[_0x2682b8(0x110)],removeBtn[_0x2682b8(0xf6)]=![],fileInput[_0x2682b8(0x131)](new Event(_0x2682b8(0x136)));}),removeBtn[_0x4a62de(0x118)](_0x4a62de(0x15a),()=>{var _0x39f6a6=_0x4a62de;fileInput[_0x39f6a6(0x1a2)]='',dropZone['querySelector'](_0x39f6a6(0x137))[_0x39f6a6(0x144)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x39f6a6(0xf6)]=!![],progressBar[_0x39f6a6(0x8a)][_0x39f6a6(0x1b6)]=_0x39f6a6(0x77),statusDiv[_0x39f6a6(0x144)]='',uploadBtn[_0x39f6a6(0xcb)]=!![];});const exportBtn=document[_0x4a62de(0xca)]('btnExportarItems');exportBtn['addEventListener'](_0x4a62de(0x15a),onClickExportarItems);async function onClickExportarItems(){var _0x30ca96=_0x4a62de;if(!Array[_0x30ca96(0xd6)](products)||!products[_0x30ca96(0xc9)]){ntfShow(_0x30ca96(0x125));return;}try{const _0x528d5c=await fetch(_0x30ca96(0x112));if(!_0x528d5c['ok'])throw new Error(_0x30ca96(0x12d));const _0x1dc5a4=await _0x528d5c['arrayBuffer'](),_0x569245=document[_0x30ca96(0xca)]('setWarehouseId')[_0x30ca96(0x1a2)];let _0x32608e=products;const _0x2c504d=getUserPermissionApiERP(0x2);_0x2c504d==0x1&&(_0x32608e=products['filter'](_0x5bc483=>Array[_0x30ca96(0xd6)](_0x5bc483['sucursales'])&&_0x5bc483[_0x30ca96(0xfd)][_0x30ca96(0x104)](_0x5e361b=>String(_0x5e361b[_0x30ca96(0x107)])==String(_0x569245))));const _0xa48aa4=_0x32608e[_0x30ca96(0xb7)]((_0x6705ee,_0x4e8950)=>{var _0x439069=_0x30ca96;const _0x1e375c=_0x4e8950[_0x439069(0xe6)];if(!_0x6705ee[_0x1e375c])_0x6705ee[_0x1e375c]=[];return _0x6705ee[_0x1e375c][_0x439069(0x18b)](_0x4e8950),_0x6705ee;},{}),_0x2c848d=Object['values'](_0xa48aa4)[_0x30ca96(0x1b7)](_0x3eeba3=>{var _0x9422aa=_0x30ca96;const _0x56a29f=_0x3eeba3[0x0],_0x5822e2=_0x3eeba3[0x1]||{},_0x1c5092=_0x3eeba3[0x2]||{};function _0x956662(_0x29cf6b,_0x872606,_0x1cfc37){var _0x509bf8=_0x4018;if(!_0x29cf6b||!Array[_0x509bf8(0xd6)](_0x29cf6b[_0x509bf8(0x174)]))return'';const _0x219e0e=_0x29cf6b[_0x509bf8(0x174)][_0x509bf8(0xf0)](_0x180353=>_0x180353[_0x509bf8(0x12e)]===_0x872606);return _0x219e0e?_0x219e0e[_0x1cfc37]:'';}return{'id':_0x56a29f[_0x9422aa(0xe6)],'setItemType':_0x56a29f['setItemType'],'setCodProducto':_0x56a29f[_0x9422aa(0x1b3)],'setDescripcion':_0x56a29f[_0x9422aa(0x102)],'setItemDescription':_0x56a29f['setItemDescription'],'setItemIsSold':_0x56a29f[_0x9422aa(0x1bc)],'setItemIsBought':_0x56a29f['setItemIsBought'],'setCategoria':_0x56a29f[_0x9422aa(0x9e)],'setMarca':_0x56a29f[_0x9422aa(0xc6)],'setTaxId':_0x56a29f[_0x9422aa(0x88)],'setUnitId':_0x56a29f['id'],'setItemBarCode':_0x56a29f['setItemBarCode'],'setUnidadCodigo':_0x56a29f[_0x9422aa(0xe7)],'setItemUnitAlias':_0x56a29f[_0x9422aa(0x82)]??'','PEN_setMtoPrecioUnitario':_0x956662(_0x56a29f,_0x9422aa(0xa3),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x956662(_0x56a29f,_0x9422aa(0xa3),_0x9422aa(0x18a)),'USD_setMtoPrecioUnitario':_0x956662(_0x56a29f,_0x9422aa(0xf9),'setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x956662(_0x56a29f,_0x9422aa(0xf9),_0x9422aa(0x18a)),'setItemCommissionPercentage':_0x56a29f[_0x9422aa(0x19f)]?parseFloat(_0x56a29f['setItemCommissionPercentage']):'','setUnitId2':_0x5822e2['id']??'','setItemBarCode2':_0x5822e2[_0x9422aa(0x161)]??'','setUnidadCodigo2':_0x5822e2[_0x9422aa(0xe7)]??'','setItemUnitAlias2':_0x5822e2[_0x9422aa(0x82)]??'','setUnidadEquivalencia2':_0x5822e2[_0x9422aa(0x124)]??'','PEN_setMtoPrecioUnitario2':_0x956662(_0x5822e2,_0x9422aa(0xa3),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x956662(_0x5822e2,'PEN',_0x9422aa(0x18a))??'','USD_setMtoPrecioUnitario2':_0x956662(_0x5822e2,'USD',_0x9422aa(0x8d))??'','USD_setMtoPrecioCostoUnitario2':_0x956662(_0x5822e2,_0x9422aa(0xf9),_0x9422aa(0x18a))??'','setItemCommissionPercentage2':_0x5822e2[_0x9422aa(0x19f)]?parseFloat(_0x5822e2[_0x9422aa(0x19f)]):'','setUnitId3':_0x1c5092['id']??'','setItemBarCode3':_0x1c5092['setItemBarCode']??'','setUnidadCodigo3':_0x1c5092[_0x9422aa(0xe7)]??'','setItemUnitAlias3':_0x1c5092[_0x9422aa(0x82)]??'','setUnidadEquivalencia3':_0x1c5092[_0x9422aa(0x124)]??'','PEN_setMtoPrecioUnitario3':_0x956662(_0x1c5092,_0x9422aa(0xa3),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x956662(_0x1c5092,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x956662(_0x1c5092,_0x9422aa(0xf9),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x956662(_0x1c5092,_0x9422aa(0xf9),_0x9422aa(0x18a))??'','setItemCommissionPercentage3':_0x1c5092[_0x9422aa(0x19f)]?parseFloat(_0x1c5092[_0x9422aa(0x19f)]):'','setInventariable':_0x56a29f['setInventariable'],'setSucursalStock':_0x2c504d==0x1?_0x56a29f[_0x9422aa(0xfd)][_0x9422aa(0xf0)](_0x36c651=>String(_0x36c651[_0x9422aa(0x107)])==String(_0x569245))['setSucursalStock']:'','setWarehouseStockMin':_0x2c504d==0x1?_0x56a29f[_0x9422aa(0xfd)][_0x9422aa(0xf0)](_0x125fc1=>String(_0x125fc1[_0x9422aa(0x107)])==String(_0x569245))[_0x9422aa(0x177)]:'','setBatchName':_0x56a29f[_0x9422aa(0x198)],'setBatchExpirationDate':_0x56a29f[_0x9422aa(0xfc)],..._0x56a29f[_0x9422aa(0x9b)]};});try{JSON[_0x30ca96(0x87)](_0x2c848d);}catch(_0x537df5){console[_0x30ca96(0x189)](_0x30ca96(0x149),_0x537df5),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x30ca96(0x144)]=_0x30ca96(0x16f),progressBar[_0x30ca96(0x8a)][_0x30ca96(0x1b6)]=_0x30ca96(0x1bd),progressBar['value']=0x0,itemWorker[_0x30ca96(0x140)]({'action':_0x30ca96(0xf2),'products':_0x2c848d,'plantillaBuf':_0x1dc5a4},[_0x1dc5a4]);}catch(_0x35505c){console[_0x30ca96(0x189)](_0x35505c),ntfShow(_0x30ca96(0xc3)+_0x35505c['message']);}}itemWorker['onmessage']=({data:_0x4810e8})=>{var _0x777d57=_0x4a62de;const {type:_0x11d322,payload:_0x53b15d}=_0x4810e8;_0x11d322===_0x777d57(0x15d)&&(progressBar[_0x777d57(0x8a)][_0x777d57(0x1b6)]=_0x777d57(0x1bd),progressBar[_0x777d57(0x1a2)]=_0x53b15d[_0x777d57(0x10a)],statusDiv['textContent']=_0x53b15d[_0x777d57(0xd2)]);_0x11d322===_0x777d57(0xf5)&&(newItemsExcel=_0x53b15d['items'],statusDiv[_0x777d57(0x144)]='✅\x20'+newItemsExcel[_0x777d57(0xc9)]+_0x777d57(0x122),uploadBtn[_0x777d57(0xcb)]=![],progressBar['value']=0x64,console[_0x777d57(0xfa)](newItemsExcel));_0x11d322===_0x777d57(0x189)&&(statusDiv[_0x777d57(0x144)]=_0x777d57(0x1be)+_0x53b15d,progressBar[_0x777d57(0x8a)][_0x777d57(0x1b6)]=_0x777d57(0x77));if(_0x11d322==='exportDone'){const {wbout:_0x2e4218,count:_0x5a3936}=_0x53b15d,_0x31b685=new Blob([_0x2e4218],{'type':_0x777d57(0x175)}),_0x2f49a8=URL['createObjectURL'](_0x31b685),_0x368722=document['createElement']('a'),_0x1fe7f9=new Date()[_0x777d57(0x86)]()[_0x777d57(0x15c)](0x0,0xa);_0x368722[_0x777d57(0xd0)]=_0x777d57(0x81)+_0x1fe7f9+_0x777d57(0x97),_0x368722[_0x777d57(0xbf)]=_0x2f49a8,_0x368722[_0x777d57(0x15a)](),URL[_0x777d57(0xbe)](_0x2f49a8),statusDiv[_0x777d57(0x144)]=_0x777d57(0x190)+_0x5a3936+_0x777d57(0xa6),progressBar[_0x777d57(0x8a)][_0x777d57(0x1b6)]=_0x777d57(0x77);}},fileInput[_0x4a62de(0x118)](_0x4a62de(0x136),async _0x4e4950=>{var _0xb4865b=_0x4a62de;const _0x2fc546=_0x4e4950[_0xb4865b(0x80)]['files'][0x0];if(!_0x2fc546)return;uploadBtn[_0xb4865b(0xcb)]=!![],newItemsExcel=null,statusDiv[_0xb4865b(0x144)]='',progressBar[_0xb4865b(0x8a)][_0xb4865b(0x1b6)]=_0xb4865b(0x77),dropZone['querySelector'](_0xb4865b(0x137))['textContent']=_0x2fc546[_0xb4865b(0x110)],removeBtn['hidden']=![];try{const _0x5265f1=await _0x2fc546[_0xb4865b(0xbc)]();itemWorker[_0xb4865b(0x140)]({'action':'import','buf':_0x5265f1,'maxRows':0x1388});}catch(_0x1ee174){statusDiv[_0xb4865b(0x144)]=_0xb4865b(0x78);}finally{fileInput['value']='';}}),uploadBtn[_0x4a62de(0x118)](_0x4a62de(0x15a),async()=>{var _0x30af75=_0x4a62de;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x151d0a=document[_0x30af75(0xca)]('setWarehouseId')[_0x30af75(0x1a2)],_0x4322dc=[];newItemsExcel[_0x30af75(0x83)](_0x258735=>{var _0x5e9b11=_0x30af75;const _0xe225f=Boolean(_0x258735['setItemId']),_0x10cfa9=_0xe225f?_0x258735['setItemId']:generateNumericUniqId();_0x258735[_0x5e9b11(0x155)]=[{'setStockInitial':_0x258735[_0x5e9b11(0x19a)],'setStockMinimum':_0x258735[_0x5e9b11(0x7e)],'setWarehouseCode':_0x151d0a}],_0x258735[_0x5e9b11(0x152)][_0x5e9b11(0x83)](_0x319c58=>{var _0x51ab1c=_0x5e9b11;const _0x57b977=Boolean(_0x319c58[_0x51ab1c(0xf1)]),_0x267532=_0x57b977?_0x319c58[_0x51ab1c(0xf1)]:generateNumericUniqId();_0x319c58[_0x51ab1c(0xf1)]=_0x267532;const _0x389f47=[];_0x389f47[_0x51ab1c(0x18b)]({'currency':_0x51ab1c(0xa3),'setMtoPrecioCostoUnitario':_0x319c58['setCost'],'setMtoPrecioUnitario':_0x319c58[_0x51ab1c(0xe5)],'setPriceLists':[]});const _0x49a5e2=_0x319c58[_0x51ab1c(0x17a)]!=null&&_0x319c58[_0x51ab1c(0x1ac)]!=null&&(!isNaN(_0x319c58[_0x51ab1c(0x17a)])||!isNaN(_0x319c58['setPriceUSD']));_0x49a5e2&&_0x389f47[_0x51ab1c(0x18b)]({'currency':'USD','setMtoPrecioCostoUnitario':_0x319c58['setCostUSD'],'setMtoPrecioUnitario':_0x319c58[_0x51ab1c(0x1ac)],'setPriceLists':[]});const _0x5851e6={'id':_0x267532,'setIdProducto':_0x10cfa9,'setItemBarCode':_0x319c58[_0x51ab1c(0x161)],'setCodProducto':_0x258735[_0x51ab1c(0xd1)],'setDescripcion':_0x258735[_0x51ab1c(0x157)],'setItemDescription':_0x258735['setItemDescription'],'setBatchExpirationDate':_0x258735[_0x51ab1c(0x19d)],'setBatchName':_0x258735['setBatchName'],'setItemIsSold':_0x258735[_0x51ab1c(0x1bc)],'setItemIsBought':_0x258735['setItemIsBought'],'setCategoria':_0x258735['setItemCategories'][0x0]||'','setMarca':_0x258735[_0x51ab1c(0x1b2)][0x0]||'','setConversionFactor':parseFloat(_0x319c58[_0x51ab1c(0xaf)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x258735['setItemInventoriable'],'setPorcentajeIgv':_0x258735[_0x51ab1c(0x13b)],'setPrinters':[],'setTaxId':_0x258735[_0x51ab1c(0x17f)],'setTipAfeIgv':_0x258735[_0x51ab1c(0x108)],'setUnidad':_0x319c58['setUnitCode'],'setUnidadCodigo':_0x319c58['setUnitCode'],'setItemUnitAlias':_0x319c58[_0x51ab1c(0x8f)],'setItemCommissionPercentage':_0x319c58[_0x51ab1c(0x19f)],'currency_data':_0x389f47,'sucursales':_0x258735[_0x51ab1c(0x155)]['map'](_0x1cfc79=>({'setIdSucursal':_0x1cfc79[_0x51ab1c(0xae)],'setSucursalStock':_0x1cfc79[_0x51ab1c(0x19a)][_0x51ab1c(0xfb)](),'setWarehouseStockMin':_0x1cfc79[_0x51ab1c(0x7e)][_0x51ab1c(0xfb)]()})),'setItemFree':_0x258735[_0x51ab1c(0xee)],'setItemBrands':_0x258735[_0x51ab1c(0x1b2)][_0x51ab1c(0x15c)](),'setItemCategories':_0x258735[_0x51ab1c(0x10e)][_0x51ab1c(0x15c)](),'setItemComponents':_0x258735[_0x51ab1c(0x106)][_0x51ab1c(0x1b7)](_0xa017a6=>({..._0xa017a6})),'setItemImages':_0x258735[_0x51ab1c(0x168)][_0x51ab1c(0x15c)](),'setItemVariantName':_0x258735[_0x51ab1c(0xe9)],'setItemVariantValues':{..._0x258735[_0x51ab1c(0x9b)]}},_0x3a347e=products['findIndex'](_0x5699a8=>_0x5699a8['id']==_0x267532&&_0x5699a8[_0x51ab1c(0xe6)]==_0x10cfa9);_0x3a347e>-0x1?Object[_0x51ab1c(0xc0)](products[_0x3a347e],_0x5851e6):_0x4322dc['push'](_0x5851e6);});}),console[_0x30af75(0xfa)](_0x30af75(0x17c),newItemsExcel),await finalizeImport(_0x4322dc,newItemsExcel,!![]);});function initializeFormImages(){var _0x4dc492=_0x4a62de;currentImages=Array(MAX_IMAGES)[_0x4dc492(0x15b)](null),imgC[_0x4dc492(0x199)]='',baseItem['setItemImages']=[];for(var _0x2ac9e5=0x0;_0x2ac9e5<MAX_IMAGES;_0x2ac9e5++){(function(_0x3b3c3f){var _0x4fffe7=_0x4dc492,_0x33a14e=document[_0x4fffe7(0xf8)]('div');_0x33a14e[_0x4fffe7(0x90)]=_0x4fffe7(0x141),_0x33a14e['dataset']['idx']=_0x3b3c3f;var _0x13c7ea=document['createElement'](_0x4fffe7(0x173));_0x13c7ea[_0x4fffe7(0x8c)]=_0x4fffe7(0x116),_0x13c7ea['accept']=_0x4fffe7(0x14f),_0x13c7ea[_0x4fffe7(0x8a)]['display']=_0x4fffe7(0x77);var _0x301a5b=document[_0x4fffe7(0xf8)]('span');_0x301a5b['textContent']='+',_0x33a14e[_0x4fffe7(0x16d)](_0x13c7ea),_0x33a14e[_0x4fffe7(0x16d)](_0x301a5b),imgC[_0x4fffe7(0x16d)](_0x33a14e),_0x33a14e[_0x4fffe7(0x118)](_0x4fffe7(0x15a),function(){var _0x85c618=_0x4fffe7;_0x13c7ea[_0x85c618(0x15a)]();}),_0x13c7ea[_0x4fffe7(0x118)](_0x4fffe7(0x136),function(_0x58b1f3){var _0x323d26=_0x4fffe7,_0x53e552=_0x58b1f3['target'][_0x323d26(0x194)][0x0];if(!_0x53e552)return removeImg(_0x3b3c3f);var _0xea1964=new FileReader();_0xea1964['onload']=function(_0x13abf3){var _0x3bafe9=_0x323d26;_0x33a14e[_0x3bafe9(0x199)]=_0x3bafe9(0xa4)+_0x13abf3['target'][_0x3bafe9(0x1b5)]+'\x22>';var _0x7b08e5=document[_0x3bafe9(0xf8)](_0x3bafe9(0x153));_0x7b08e5['className']=_0x3bafe9(0x134),_0x7b08e5[_0x3bafe9(0x144)]='×',_0x7b08e5['addEventListener']('click',function(_0x3e25a6){var _0x21ffbd=_0x3bafe9;_0x3e25a6[_0x21ffbd(0xd5)](),removeImg(_0x3b3c3f);}),_0x33a14e[_0x3bafe9(0x16d)](_0x7b08e5),currentImages[_0x3b3c3f]=_0x53e552,baseItem['setItemImages']=currentImages[_0x3bafe9(0xe3)](function(_0x512e38){return _0x512e38;});},_0xea1964[_0x323d26(0x142)](_0x53e552);});}(_0x2ac9e5));}}function initializeFormIsSoldIsBought(_0x3689b3=0x0){var _0x368f8c=_0x4a62de;let _0x464674,_0x305537;if(_0x3689b3!=0x0){const _0x572b5d=products[_0x368f8c(0xf0)](_0x470efa=>_0x470efa['id']==_0x3689b3);_0x464674=_0x572b5d[_0x368f8c(0xe2)]==0x1||_0x572b5d['setItemIsBought']==!![]?!![]:![],_0x305537=_0x572b5d['setItemIsSold']==0x1||_0x572b5d['setItemIsSold']==!![]?!![]:![];}else _0x464674=!![],_0x305537=!![];document[_0x368f8c(0xca)]('newItem_chk_buy')[_0x368f8c(0xa1)]=_0x464674,document[_0x368f8c(0xca)](_0x368f8c(0x132))[_0x368f8c(0xa1)]=_0x305537,baseItem[_0x368f8c(0xe2)]=_0x464674,baseItem['setItemIsSold']=_0x305537;}function initializeFormInputsBasic(_0x16cb59=0x0){var _0x3d6f94=_0x4a62de;let _0x414660,_0x2c8983,_0x233f47,_0x210bb3,_0x1cb7da,_0x25a9ae;if(_0x16cb59!=0x0){const _0x493116=products[_0x3d6f94(0xf0)](_0x5376bf=>_0x5376bf['id']==_0x16cb59);_0x414660=_0x493116[_0x3d6f94(0x11d)]??'1',_0x2c8983=_0x493116['setCodProducto'],_0x233f47=_0x493116[_0x3d6f94(0x102)],_0x210bb3=_0x493116[_0x3d6f94(0x187)],_0x1cb7da=_0x493116['setBatchExpirationDate']??'',_0x25a9ae=_0x493116[_0x3d6f94(0x161)];}else _0x414660='1',_0x2c8983=getNextCode(products),_0x233f47='',_0x210bb3='',_0x1cb7da='',_0x25a9ae='';document[_0x3d6f94(0xca)]('inputItemType')[_0x3d6f94(0x1a2)]=_0x414660,document[_0x3d6f94(0xca)](_0x3d6f94(0x11a))[_0x3d6f94(0x1a2)]=_0x2c8983,document[_0x3d6f94(0xca)](_0x3d6f94(0xe8))[_0x3d6f94(0x1a2)]=_0x233f47,document['getElementById']('inputItemDescription')['value']=_0x210bb3,document['getElementById'](_0x3d6f94(0x92))[_0x3d6f94(0x1a2)]=_0x1cb7da,document['getElementById'](_0x3d6f94(0x10d))[_0x3d6f94(0x1a2)]=_0x25a9ae,baseItem[_0x3d6f94(0x11d)]=_0x414660,baseItem[_0x3d6f94(0xd1)]=_0x2c8983,baseItem[_0x3d6f94(0x157)]=_0x233f47,baseItem[_0x3d6f94(0x187)]=_0x210bb3,baseItem[_0x3d6f94(0x19d)]=_0x1cb7da,baseItem[_0x3d6f94(0x161)]=_0x25a9ae,document[_0x3d6f94(0xca)]('newItem_addToCart')[_0x3d6f94(0xa1)]=![];}function initializeFormTax(_0x43aefd=0x0){var _0x1c6cb3=_0x4a62de;let _0x51f893;if(_0x43aefd!=0x0){const _0x340513=products['find'](_0x11e9e1=>_0x11e9e1['id']==_0x43aefd);_0x51f893=_0x340513[_0x1c6cb3(0x88)];}else _0x51f893=myCompany[_0x1c6cb3(0x192)];const _0x4a2fee=document[_0x1c6cb3(0xca)](_0x1c6cb3(0x1b4));_0x4a2fee[_0x1c6cb3(0x1a2)]=_0x51f893,baseItem[_0x1c6cb3(0x17f)]=_0x51f893;const _0x306dc5=company[0x0][_0x1c6cb3(0x14d)][_0x1c6cb3(0xf0)](_0x361ee7=>_0x361ee7[_0x1c6cb3(0x88)]==_0x51f893)?.[_0x1c6cb3(0x1a8)]||0x0,_0x3d9904=company[0x0][_0x1c6cb3(0x14d)]['find'](_0x302f72=>_0x302f72[_0x1c6cb3(0x88)]==_0x51f893)?.[_0x1c6cb3(0x11f)]||0x0;baseItem[_0x1c6cb3(0x108)]=_0x306dc5,baseItem[_0x1c6cb3(0x13b)]=_0x3d9904;}function initializeFormCategoriesBrands(_0x1f17a8=0x0){var _0x3847ca=_0x4a62de;baseItem[_0x3847ca(0x10e)]=[],baseItem[_0x3847ca(0x1b2)]=[],document[_0x3847ca(0x127)](_0x3847ca(0x1a4))['innerHTML']='',document[_0x3847ca(0x127)](_0x3847ca(0x99))[_0x3847ca(0x199)]='',document['querySelector'](_0x3847ca(0x195))[_0x3847ca(0x199)]='',document[_0x3847ca(0x127)](_0x3847ca(0x120))['innerHTML']='';const _0x2215da=myCompany[_0x3847ca(0x10e)][_0x3847ca(0x1b7)](_0x21fc3e=>({'setCode':_0x21fc3e['setItemCategoryName'],'setName':_0x21fc3e[_0x3847ca(0x123)]})),_0x4bce6e=myCompany[_0x3847ca(0x1b2)]['map'](_0x2e09c7=>({'setCode':_0x2e09c7[_0x3847ca(0x94)],'setName':_0x2e09c7[_0x3847ca(0x94)]}));initMulti('newItem_categories_select',_0x2215da),initMulti(_0x3847ca(0x10b),_0x4bce6e),document[_0x3847ca(0xca)]('newItem_categories_select')[_0x3847ca(0x118)](_0x3847ca(0xc4),function(_0x5aa0bd){var _0x1115eb=_0x3847ca;baseItem[_0x1115eb(0x10e)]=_0x5aa0bd['detail'][_0x1115eb(0x1b7)](_0x5a8eb8=>_0x5a8eb8[_0x1115eb(0x171)]);}),document[_0x3847ca(0xca)](_0x3847ca(0x10b))[_0x3847ca(0x118)](_0x3847ca(0xc4),function(_0x52f300){var _0x392e5d=_0x3847ca;baseItem['setItemBrands']=_0x52f300[_0x392e5d(0xed)][_0x392e5d(0x1b7)](_0x238da4=>_0x238da4[_0x392e5d(0x171)]);});if(_0x1f17a8!=0x0){const _0x36162e=products['find'](_0x554e80=>_0x554e80['id']==_0x1f17a8);if(_0x36162e['setCategoria']){const _0x2182a9=document[_0x3847ca(0xca)](_0x3847ca(0xda)),_0x4965f4=Array[_0x3847ca(0xb5)](_0x2182a9[_0x3847ca(0x119)](_0x3847ca(0x182)))[_0x3847ca(0xf0)](_0x44df78=>_0x44df78['dataset'][_0x3847ca(0x172)]==_0x36162e['setCategoria']);_0x4965f4&&_0x4965f4[_0x3847ca(0x15a)]();}if(_0x36162e['setMarca']){const _0xb07fbe=document[_0x3847ca(0xca)](_0x3847ca(0x10b)),_0x51efa7=Array[_0x3847ca(0xb5)](_0xb07fbe[_0x3847ca(0x119)]('.options_list\x20div'))[_0x3847ca(0xf0)](_0x4aeff9=>_0x4aeff9[_0x3847ca(0x129)][_0x3847ca(0x172)]==_0x36162e[_0x3847ca(0xc6)]);_0x51efa7&&_0x51efa7['click']();}}}function initializeFormUnits(){var _0x48c100=_0x4a62de;unitCount=0x0,document[_0x48c100(0xca)](_0x48c100(0x10f))[_0x48c100(0x199)]='',baseItem['setItemUnits']=[];var _0x52a86a=uniqueValuesArray(_0x48c100(0x115),'setUnitName',myCompany[_0x48c100(0x11c)]);addUnit('',_0x52a86a[0x3a]&&_0x52a86a[0x3a][_0x48c100(0x171)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x157b2c=_0x4a62de;prodC[_0x157b2c(0x199)]='',baseItem[_0x157b2c(0x106)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x1abf3b=_0x4a62de;branchesC['innerHTML']='',baseItem['setItemWarehouses']=[];const _0x73eb88=getAllWarehouses();_0x73eb88[_0x1abf3b(0x83)](function(_0x5ed65b){var _0x9438bb=_0x1abf3b,_0x282abe=document['createElement'](_0x9438bb(0x1a5));_0x282abe[_0x9438bb(0x199)]=_0x9438bb(0xb2)+_0x9438bb(0x18d)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5ed65b['setWarehouseId']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x5ed65b['setWarehouseName']+_0x9438bb(0xf7)+_0x9438bb(0xc2)+_0x9438bb(0x18d)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x5ed65b[_0x9438bb(0x1ab)]+'\x22>'+'</div>'+'<div\x20class=\x22newItem_col\x22>'+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x5ed65b[_0x9438bb(0x1ab)]+'\x22>'+'</div>'+_0x9438bb(0xc2),branchesC[_0x9438bb(0x16d)](_0x282abe),_0x282abe[_0x9438bb(0x119)](_0x9438bb(0x173))[_0x9438bb(0x83)](function(_0x7ceb0f){var _0x29821d=_0x9438bb;_0x7ceb0f['addEventListener'](_0x29821d(0x173),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x2563ce=_0x4a62de;baseItem['setItemVariantName']='',baseItem[_0x2563ce(0x9b)]={},vgC[_0x2563ce(0x199)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3c39a8,_0x596c14,_0x2d2510=![]){var _0x2ae3de=_0x4a62de;const _0x25c3c6=0xc8,_0x566632={'apiPOSsendOffline':'1','setTipoOperacion':_0x2ae3de(0x133),'setToken':company[0x0][_0x2ae3de(0x196)],'setWebhook':company[0x0][_0x2ae3de(0x100)]};for(let _0x220b10=0x0;_0x220b10<_0x596c14[_0x2ae3de(0xc9)];_0x220b10+=_0x25c3c6){const _0x67a561=_0x596c14[_0x2ae3de(0x15c)](_0x220b10,_0x220b10+_0x25c3c6);await storeOfflineProduct({..._0x566632,'newItems':_0x67a561});}products[_0x2ae3de(0x18b)](..._0x3c39a8),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x2ae3de(0xde)),_0x2d2510?(fileInput['value']='',uploadBtn['disabled']=!![],statusDiv[_0x2ae3de(0x144)]='',progressBar[_0x2ae3de(0x8a)][_0x2ae3de(0x1b6)]=_0x2ae3de(0x77),progressBar[_0x2ae3de(0x1a2)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}