/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.2
*/

function _0x3930(){const _0x24a97c=['qr-img','55647ioKtna','value','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','823781OklUaP','setWarehouseId','info','constructor','BranchChangeComplete','hidden','(((.+)+)+)+$','init','setFloorId','2658288fmApIc','setBranchDefault','console','change','1806ImrAOl','click','/wa/','949377bbgfaF','src','querySelector','loginPanel','display','json','64lNBHeG','setBranchId','{}.constructor(\x22return\x20this\x22)(\x20)','https://','3458688uEuvFL','addEventListener','visibility','toLowerCase','dispatchEvent','visible','1184MindeM','5739780EINutf','style','ya\x20conectado','Credenciales\x20no\x20encontradas','setAuthToken','/qr','getElementById','EnvironmentChangeComplete','toString','10kwjZEG','onload','return\x20(function()\x20','warn','error','status','log','apply','exception','trace','none','WarehouseChangeComplete','130bEBktd','includes','setCredentialsApiWAChatStatus','bind','flex','length','setCredentialsApiWAChat'];_0x3930=function(){return _0x24a97c;};return _0x3930();}const _0xb2483d=_0x2a49;function _0x2a49(_0x1900bd,_0x497d41){const _0x973acd=_0x3930();return _0x2a49=function(_0x2d33ee,_0x5d7281){_0x2d33ee=_0x2d33ee-0x9e;let _0x43a5c3=_0x973acd[_0x2d33ee];return _0x43a5c3;},_0x2a49(_0x1900bd,_0x497d41);}(function(_0x3f2a6d,_0x4a526e){const _0x2bb8c1=_0x2a49,_0x63349b=_0x3f2a6d();while(!![]){try{const _0x5d22bd=parseInt(_0x2bb8c1(0xbf))/0x1*(-parseInt(_0x2bb8c1(0xac))/0x2)+-parseInt(_0x2bb8c1(0xa8))/0x3+parseInt(_0x2bb8c1(0xc0))/0x4+-parseInt(_0x2bb8c1(0xc9))/0x5*(-parseInt(_0x2bb8c1(0xb9))/0x6)+parseInt(_0x2bb8c1(0x9f))/0x7*(-parseInt(_0x2bb8c1(0xb5))/0x8)+parseInt(_0x2bb8c1(0xdd))/0x9+-parseInt(_0x2bb8c1(0xd5))/0xa*(-parseInt(_0x2bb8c1(0xaf))/0xb);if(_0x5d22bd===_0x4a526e)break;else _0x63349b['push'](_0x63349b['shift']());}catch(_0x313233){_0x63349b['push'](_0x63349b['shift']());}}}(_0x3930,0xc8067));const selectCredentialsApiWAChat=document[_0xb2483d(0xc6)](_0xb2483d(0xdb)),loginPanel=document[_0xb2483d(0xc6)](_0xb2483d(0xb2)),chatPanel=document['getElementById']('chatPanel'),qrImg=document[_0xb2483d(0xc6)](_0xb2483d(0xdc)),overlay=document[_0xb2483d(0xc6)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0xc1ba7e=_0xb2483d;loginPanel['style'][_0xc1ba7e(0xb3)]='flex',chatPanel[_0xc1ba7e(0xc1)][_0xc1ba7e(0xbb)]=_0xc1ba7e(0xa4);}function showChat(){const _0x33c743=_0xb2483d;loginPanel['style']['display']=_0x33c743(0xd3),chatPanel[_0x33c743(0xc1)][_0x33c743(0xbb)]=_0x33c743(0xbe);}async function initQRApiWAChat(_0x1cdfc2,_0x5dfbaa){const _0x5cb6da=_0xb2483d,_0x5cfb45=(function(){let _0x1a8af5=!![];return function(_0x25f35c,_0x247441){const _0x35b74b=_0x1a8af5?function(){const _0x3dc528=_0x2a49;if(_0x247441){const _0x49b70f=_0x247441[_0x3dc528(0xd0)](_0x25f35c,arguments);return _0x247441=null,_0x49b70f;}}:function(){};return _0x1a8af5=![],_0x35b74b;};}()),_0x336337=_0x5cfb45(this,function(){const _0x202ac0=_0x2a49;return _0x336337['toString']()['search'](_0x202ac0(0xa5))[_0x202ac0(0xc8)]()[_0x202ac0(0xa2)](_0x336337)['search']('(((.+)+)+)+$');});_0x336337();const _0x241f8b=(function(){let _0x459ee7=!![];return function(_0x555438,_0x9c2100){const _0x5edd6a=_0x459ee7?function(){const _0x179822=_0x2a49;if(_0x9c2100){const _0xff2add=_0x9c2100[_0x179822(0xd0)](_0x555438,arguments);return _0x9c2100=null,_0xff2add;}}:function(){};return _0x459ee7=![],_0x5edd6a;};}()),_0x50bd0c=_0x241f8b(this,function(){const _0x4d5c70=_0x2a49,_0x2feeea=function(){const _0x4170ec=_0x2a49;let _0x25b576;try{_0x25b576=Function(_0x4170ec(0xcb)+_0x4170ec(0xb7)+');')();}catch(_0x313eb6){_0x25b576=window;}return _0x25b576;},_0x11f67c=_0x2feeea(),_0x3630f2=_0x11f67c[_0x4d5c70(0xaa)]=_0x11f67c[_0x4d5c70(0xaa)]||{},_0x67d54d=[_0x4d5c70(0xcf),_0x4d5c70(0xcc),_0x4d5c70(0xa1),_0x4d5c70(0xcd),_0x4d5c70(0xd1),'table',_0x4d5c70(0xd2)];for(let _0x2d7d44=0x0;_0x2d7d44<_0x67d54d[_0x4d5c70(0xda)];_0x2d7d44++){const _0x5cef0f=_0x241f8b['constructor']['prototype'][_0x4d5c70(0xd8)](_0x241f8b),_0xd621a2=_0x67d54d[_0x2d7d44],_0x1d6c34=_0x3630f2[_0xd621a2]||_0x5cef0f;_0x5cef0f['__proto__']=_0x241f8b[_0x4d5c70(0xd8)](_0x241f8b),_0x5cef0f[_0x4d5c70(0xc8)]=_0x1d6c34[_0x4d5c70(0xc8)][_0x4d5c70(0xd8)](_0x1d6c34),_0x3630f2[_0xd621a2]=_0x5cef0f;}});_0x50bd0c();const _0x101539=selectCredentialsApiWAChat[_0x5cb6da(0xde)],_0xe81177=getCredentialsApiWAChat(_0x101539);if(!_0xe81177){ntfShow(_0x5cb6da(0xc3));return;}const _0x5d718a=_0xe81177['setCredentialsApiWAChatSubdomain'],_0x39a166=_0xe81177['setCredentialsApiWAChatPort'];if(_0x1cdfc2===_0x5cb6da(0xb3))clearTimeout(qrTimeout),overlay[_0x5cb6da(0xc1)][_0x5cb6da(0xb3)]='none',qrImg[_0x5cb6da(0xb0)]=_0x5dfbaa,qrTimeout=setTimeout(async()=>{const _0x1494ab=_0x5cb6da;try{const _0x4c2f59=await fetch(_0x1494ab(0xb8)+_0x5d718a+_0x1494ab(0xae)+_0x39a166+_0x1494ab(0xc5),{'headers':{'x-auth-token':myCompany[_0x1494ab(0xc4)]}}),_0x35b284=await _0x4c2f59['json']();_0x35b284[_0x1494ab(0xce)]&&_0x35b284['status']['toLowerCase']()[_0x1494ab(0xd6)](_0x1494ab(0xc2))?(showChat(),_0xe81177[_0x1494ab(0xd7)]=0x1):(overlay[_0x1494ab(0xc1)][_0x1494ab(0xb3)]=_0x1494ab(0xd9),_0xe81177['setCredentialsApiWAChatStatus']=0x0);const _0x3fa5b5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3fa5b5);}catch(_0x221541){console[_0x1494ab(0xcd)](_0x1494ab(0x9e),_0x221541),overlay[_0x1494ab(0xc1)]['display']=_0x1494ab(0xd9);}},validSeconds*0x3e8);else{if(_0x1cdfc2===_0x5cb6da(0xa6))try{const _0x5c52ee=await fetch(_0x5cb6da(0xb8)+_0x5d718a+_0x5cb6da(0xae)+_0x39a166+'/qr',{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x37c97a=await _0x5c52ee[_0x5cb6da(0xb4)]();if(_0x37c97a[_0x5cb6da(0xce)]&&_0x37c97a[_0x5cb6da(0xce)][_0x5cb6da(0xbc)]()[_0x5cb6da(0xd6)](_0x5cb6da(0xc2)))showChat(),_0xe81177[_0x5cb6da(0xd7)]=0x1;else _0x37c97a['qr']&&(showLogin(),await initQRApiWAChat(_0x5cb6da(0xb3),_0x37c97a['qr']),_0xe81177[_0x5cb6da(0xd7)]=0x0);const _0x69c4a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x69c4a);}catch(_0x12787e){console['error'](_0x12787e);}}}overlay[_0xb2483d(0xba)]('click',()=>initQRApiWAChat('init')),window[_0xb2483d(0xca)]=function(){const _0x20b553=_0xb2483d,_0x1d3b14=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x4ffbf0=document[_0x20b553(0xb1)]('.btn-logout');_0x4ffbf0&&_0x4ffbf0[_0x20b553(0xba)](_0x20b553(0xad),function(){logoutReload(0x0,_0x1d3b14);}),document['getElementById']('setCredentialsApiWAChat')[_0x20b553(0xba)](_0x20b553(0xab),async function(){saveCredentialsApiWAChatInCompany();const _0x981d3b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x981d3b),location['reload']();}),document[_0x20b553(0xc6)](_0x20b553(0xb6))[_0x20b553(0xba)](_0x20b553(0xab),async function(){const _0x410540=_0x20b553,_0x4a55eb=parseInt(this[_0x410540(0xde)]);myCompany[_0x410540(0xa9)]=_0x4a55eb,saveCredentialsApiWAChatInCompany();const _0x223322=await createCartStore('');await saveCompanyToIndexedDB(company,_0x223322),await cargarPisos(_0x4a55eb),await waitForEvent(_0x410540(0xa7),_0x410540(0xc7)),await cargarAlmacenes(_0x4a55eb),await waitForEvent(_0x410540(0xa0),_0x410540(0xd4)),document[_0x410540(0xbd)](new Event(_0x410540(0xa3))),ntf_initNotifications();}),document[_0x20b553(0xc6)](_0x20b553(0xa0))[_0x20b553(0xba)](_0x20b553(0xab),async function(){const _0x3aa44a=_0x20b553;document['dispatchEvent'](new Event(_0x3aa44a(0xd4)));}),document[_0x20b553(0xc6)](_0x20b553(0xa7))[_0x20b553(0xba)]('change',async function(_0x7d23ab){const _0xb35ac0=_0x20b553;document[_0xb35ac0(0xbd)](new Event(_0xb35ac0(0xc7)));}),loadCartAndSetTabCount(_0x1d3b14);};