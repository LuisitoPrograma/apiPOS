/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.3
*/

var _0x5946f8=_0x2fbd;(function(_0x157a9f,_0x1394a0){var _0x2d535e=_0x2fbd,_0x30249b=_0x157a9f();while(!![]){try{var _0x3e533d=-parseInt(_0x2d535e(0x1b7))/0x1*(-parseInt(_0x2d535e(0x11c))/0x2)+parseInt(_0x2d535e(0x1a2))/0x3*(parseInt(_0x2d535e(0x13c))/0x4)+-parseInt(_0x2d535e(0xaf))/0x5+-parseInt(_0x2d535e(0x16e))/0x6*(-parseInt(_0x2d535e(0x134))/0x7)+-parseInt(_0x2d535e(0xb7))/0x8+-parseInt(_0x2d535e(0xc4))/0x9*(parseInt(_0x2d535e(0xbf))/0xa)+parseInt(_0x2d535e(0x147))/0xb*(-parseInt(_0x2d535e(0x1d6))/0xc);if(_0x3e533d===_0x1394a0)break;else _0x30249b['push'](_0x30249b['shift']());}catch(_0xd5d359){_0x30249b['push'](_0x30249b['shift']());}}}(_0x3fe6,0xcef5f));var _0x128c1e=(function(){var _0x5beaee=!![];return function(_0x4e1385,_0x37037f){var _0x95d3cb=_0x5beaee?function(){if(_0x37037f){var _0x239537=_0x37037f['apply'](_0x4e1385,arguments);return _0x37037f=null,_0x239537;}}:function(){};return _0x5beaee=![],_0x95d3cb;};}()),_0x5efa2c=_0x128c1e(this,function(){var _0x1c24de=_0x2fbd;return _0x5efa2c[_0x1c24de(0x105)]()['search'](_0x1c24de(0x127))[_0x1c24de(0x105)]()[_0x1c24de(0xd4)](_0x5efa2c)[_0x1c24de(0xcc)](_0x1c24de(0x127));});_0x5efa2c();var _0x201979=(function(){var _0x2e6523=!![];return function(_0x1f73b2,_0x16b146){var _0x24679e=_0x2e6523?function(){if(_0x16b146){var _0x4997f2=_0x16b146['apply'](_0x1f73b2,arguments);return _0x16b146=null,_0x4997f2;}}:function(){};return _0x2e6523=![],_0x24679e;};}()),_0x1847ac=_0x201979(this,function(){var _0x169a72=_0x2fbd,_0x17bfd1;try{var _0x2e04a7=Function(_0x169a72(0x15c)+_0x169a72(0x164)+');');_0x17bfd1=_0x2e04a7();}catch(_0x3c43db){_0x17bfd1=window;}var _0x491f1b=_0x17bfd1['console']=_0x17bfd1[_0x169a72(0x165)]||{},_0x15d4e1=[_0x169a72(0xec),_0x169a72(0xb1),_0x169a72(0x1c9),_0x169a72(0x106),_0x169a72(0xa5),_0x169a72(0x16f),_0x169a72(0x97)];for(var _0xfbd27b=0x0;_0xfbd27b<_0x15d4e1[_0x169a72(0x137)];_0xfbd27b++){var _0x10acd2=_0x201979[_0x169a72(0xd4)][_0x169a72(0x10d)][_0x169a72(0x1e7)](_0x201979),_0x5aa7b6=_0x15d4e1[_0xfbd27b],_0x516852=_0x491f1b[_0x5aa7b6]||_0x10acd2;_0x10acd2['__proto__']=_0x201979[_0x169a72(0x1e7)](_0x201979),_0x10acd2[_0x169a72(0x105)]=_0x516852[_0x169a72(0x105)]['bind'](_0x516852),_0x491f1b[_0x5aa7b6]=_0x10acd2;}});_0x1847ac();function _0x3fe6(){var _0xba29b9=['disabled','input','onerror','[data-idx=\x22','toLowerCase','\x20items\x20procesados.','_branch_container','contains','values','Error\x20al\x20procesar\x20la\x20operación:','<div\x20class=\x22newItem_col\x22>','setCostUSD','textContent','.xlsx','_units_container','dispatchEvent','.removeVariant','setUnidadCodigo','focus','Producto\x20Guardado\x20Offline\x20Correctamente.','Items\x20finales:','value','map','.addVariantComp','download','includes','USD','exportItems','getElementById','btnItemSave','eqInput','setItemUnitAlias','setTaxIdDefault','3FqTkHz','setItemIsBought','inputItemDateExpiry','\x22\x20value=\x22','splice','#newItem_branches_container\x20>\x20div','currentTarget','setWarehouseId','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','inputItemType','setMtoPrecioUnitario','setStockInitial','setItemTaxValue','setBatchExpirationDate','setStockMinimum','items','./excel/Plantilla-Items.xlsx','type','setItemVariantName','detail','.ms_input','142580OVTHoc','.selected_tags','oncomplete','fill','setUnitName','setCategoria','variant_','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','PEN','setSucursalStock','active','unitAlias','</div>','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setEquivalence','parse','.removeGroup','querySelectorAll','info','.priceInput','.costInput','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','.vgName','remove-file','setItemInventoriable','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','.options_list\x20div','idx','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','flatMap','24KpyhAL','modalProductNewTitle','setItemCommissionPercentage','unitSelect','checked','setConversionFactor','\x22\x20class=\x22branchChk\x22\x20checked>\x20','remove','setCode','setCodProducto','setAlias','vals','true','mousedown','message','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.branchMin','bind','setImpuestoName','filter','.removeCombo','block','setItemVariantValues','progress','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','style','trace','findIndex','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.removeUnit','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','dataset','newItem_variant_groups','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','newItem_btn_addUnit','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','\x20items.','currency_data','setItemBrandName','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','exception','.eqInput','setItemCategories','setItemUnits','some','image/*','<img\x20src=\x22','name','getElementsByClassName','.vgVals','5288815SubVek','setFactor','warn','setItemName','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','dragleave','import','test','235592WttOKF','newItem_branches_container','querySelector','ERROR:\x20plainProducts\x20no\x20serializable:','newItem_hidden','accept','✅\x20Exportación\x20completada:\x20','classList','10WGgOqc','file','.prod_input_container','setDefault','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','5546331TejUJD','newItem_brands_select','slice','inputItemTax','add','parentNode','setIdSucursal','done','search','setInventariable','setItemWarehouses','newItem_title_table','isArray','_comp_container','.addVariantUnit','newItem_chk_sell','constructor','setMtoPrecioCostoUnitario','dataTransfer','setUnitCode','setItemComponents','base','option','setImpuestos','Error\x20al\x20guardar\x20Producto\x20Offline:','hidden','inputItemDescription','setCantidad','setItemTaxId','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','No\x20hay\x20items\x20para\x20exportar.','forEach','inputItemBarCode','sucursales','.drop-zone__prompt','setWarehouseCode','</label>','newItem_addToCart','setItemTaxCode','setWarehouseStockMin','log','result','selectedItem','setItemImages','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','none','.prodQty','setItemCode','100','setMarca','dragenter','drop','postMessage','find','inputItemName','selectionChange','./img/product.png','files','addEventListener','modalOverlayCreateItem','every','detalleModalCreateItem','#newItem_categories_select\x20.options_list','Collator','keydown','toString','error','Generando\x20Excel...','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','❌\x20Error:\x20','stopPropagation','closest','.unitSelect','prototype','transaction','selected','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','split','drop-zone','setItemFree','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','className','div','setItemIsSold','setItemDescription','newItem_units_container','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','#newItem_units_container\x20>\x20div','14ZsmahO','setImpuestoValue','setPrice','setImpuestoCode','priceInput','click','newItem_categories_select','now','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','newItem_variants_forms','span','(((.+)+)+)+$','.removeProd','defineProperty','string','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','target','createElement','stringify','.options_list','setBatchName','setTaxId','setItemDateExpiry','display','8253497xhWvsh','preventDefault','setDescripcion','length','remove-tag','Ingresa\x20el\x20nombre\x20del\x20item','tag','newItem_title_table_cp','5258788iguPZT','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','productType1','Error\x20al\x20obtener\x20la\x20plantilla:\x20','join','max','code','Producto\x20Libre','setItemBarCode','trim','innerHTML','5173553sJVwhT','setWarehouseName','reduce','setIdProducto','div[data-default=\x22true\x22]\x20.eqInput','arrayBuffer','onload','setItemCategoryName','windowId','compare','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','Enter','from','newItem_proditems_container','inputItemCode','setItemType','change','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','file-input','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','image_box','return\x20(function()\x20','setPriceUSD','.unitAlias','setCost','.branchChk','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','costInput','btnExportarItems','{}.constructor(\x22return\x20this\x22)(\x20)','console','closeModalCreateItem','.variantBarCode','toggle','key','setItemBrands','.branchInit','onmessage','blur','6fmAabA','table','setName','Plantilla-Items-Export-','setAuthToken','default','push','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','#newItem_brands_select\x20.options_list','setItemId','newItem_btn_addProdItem','children','setItemUnitId','appendChild','createObjectURL','sort','objectStore','#newItem_categories_select\x20.selected_tags','dragover'];_0x3fe6=function(){return _0xba29b9;};return _0x3fe6();}var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x5946f8(0x19d)]('newItem_images_container'),unitCount=0x0,branchesC=document['getElementById'](_0x5946f8(0xb8)),prodC=document[_0x5946f8(0x19d)](_0x5946f8(0x154)),vgCount=0x0,varContainer=document[_0x5946f8(0x19d)](_0x5946f8(0x125)),vgC=document[_0x5946f8(0x19d)](_0x5946f8(0x9d));const fileInput=document[_0x5946f8(0x19d)](_0x5946f8(0x159)),progressBar=document[_0x5946f8(0x19d)](_0x5946f8(0x94)),statusDiv=document[_0x5946f8(0x19d)]('status'),uploadBtn=document['getElementById']('upload-btn');let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document['getElementById'](_0x5946f8(0x112)),removeBtn=document[_0x5946f8(0x19d)](_0x5946f8(0x1cf));function showModalCreateItem(_0x208ea5){var _0x303d58=_0x5946f8;const _0x194a23=document[_0x303d58(0x19d)](_0x303d58(0x101)),_0x51e0d1=document[_0x303d58(0x19d)](_0x303d58(0xff));_0x194a23['classList'][_0x303d58(0xc8)](_0x303d58(0x1c1)),_0x51e0d1[_0x303d58(0x96)][_0x303d58(0x133)]=_0x303d58(0x92);const _0x2a4547=document[_0x303d58(0x19d)](_0x303d58(0x113));_0x2a4547[_0x303d58(0x196)]=parseInt(_0x208ea5),baseItem[_0x303d58(0x113)]=parseInt(_0x208ea5);const _0x352ad8=document[_0x303d58(0x19d)](_0x303d58(0x1d7));_0x208ea5==0x0&&(_0x352ad8[_0x303d58(0x146)]='Nuevo\x20Producto');_0x208ea5==0x1&&(_0x352ad8[_0x303d58(0x146)]=_0x303d58(0x143));const _0x3f3676=document[_0x303d58(0xad)](_0x303d58(0x13e));for(let _0x31db88=0x0;_0x31db88<_0x3f3676[_0x303d58(0x137)];_0x31db88++){const _0xa84d61=_0x3f3676[_0x31db88];if(_0x208ea5==0x0)_0xa84d61[_0x303d58(0xbe)][_0x303d58(0x1dd)](_0x303d58(0xdd));else _0x208ea5==0x1&&_0xa84d61[_0x303d58(0xbe)][_0x303d58(0xc8)]('hidden');}}function hideModalCreateItem(){var _0x9d006d=_0x5946f8;const _0x4ae5d7=document[_0x9d006d(0x19d)]('detalleModalCreateItem'),_0x31314c=document[_0x9d006d(0x19d)](_0x9d006d(0xff));_0x4ae5d7['classList'][_0x9d006d(0x1dd)](_0x9d006d(0x1c1)),_0x31314c['style'][_0x9d006d(0x133)]=_0x9d006d(0xf1);}document['getElementById'](_0x5946f8(0x166))[_0x5946f8(0xfe)](_0x5946f8(0x121),hideModalCreateItem),document[_0x5946f8(0x19d)]('modalOverlayCreateItem')[_0x5946f8(0xfe)](_0x5946f8(0x121),_0x30ea63=>{var _0xfc511c=_0x5946f8;_0x30ea63[_0xfc511c(0x12c)]==_0x30ea63[_0xfc511c(0x1a8)]&&_0x30ea63[_0xfc511c(0x10a)]();});function loadTaxData(){var _0x4f7a5b=_0x5946f8;const _0xf811d4=document[_0x4f7a5b(0x19d)](_0x4f7a5b(0xc7));_0xf811d4[_0x4f7a5b(0x146)]='',company[0x0][_0x4f7a5b(0xdb)][_0x4f7a5b(0xe3)](function(_0xa3a769){var _0x171314=_0x4f7a5b;const _0x468a13=document[_0x171314(0x12d)](_0x171314(0xda));_0x468a13[_0x171314(0x196)]=_0xa3a769[_0x171314(0x131)],_0x468a13['innerHTML']=_0xa3a769[_0x171314(0x1e8)]+'\x20('+_0xa3a769[_0x171314(0x11d)]+'%)',_0xa3a769[_0x171314(0x131)]==company[0x0]['setTaxIdDefault']&&(_0x468a13[_0x171314(0x10f)]=!![]),_0xf811d4[_0x171314(0x17b)](_0x468a13);});}function uniqueValuesArray(_0x41c72e,_0x126968,_0x31ed56){var _0x50f812=_0x5946f8;const _0x5a3dd4=Array[_0x50f812(0x153)](new Set(_0x31ed56[_0x50f812(0x197)](_0x55ddef=>{var _0x23e99f=_0x50f812;const _0x5d43ea=_0x55ddef[_0x41c72e];return typeof _0x5d43ea===_0x23e99f(0x12a)?_0x5d43ea[_0x23e99f(0x145)]():_0x5d43ea;})[_0x50f812(0x1e9)](_0x3734b5=>_0x3734b5!=null&&_0x3734b5!=='')));return _0x5a3dd4[_0x50f812(0x197)](_0x575994=>{var _0x1ea5ce=_0x50f812;const _0x13b218=_0x31ed56[_0x1ea5ce(0xf9)](_0x3e7dfd=>_0x3e7dfd[_0x41c72e]===_0x575994),_0x1f4ce7=_0x13b218&&_0x13b218[_0x126968]!=null?String(_0x13b218[_0x126968])['trim']():_0x575994;return{'setCode':_0x575994,'setName':_0x1f4ce7};});}function fillSelect(_0x21819e,_0x305d9e,_0xf80d35,_0x715d3f){var _0x5431b1=_0x5946f8;_0x21819e[_0x5431b1(0x146)]='',_0x305d9e[_0x5431b1(0xe3)](function(_0x227670){var _0x8d8e97=_0x5431b1,_0x2e5026=new Option(_0x227670[_0x715d3f],_0x227670[_0xf80d35]);_0x21819e[_0x8d8e97(0xc8)](_0x2e5026);});}function initMulti(_0x2f34e1,_0xf271af){var _0x4f94dd=_0x5946f8,_0x4ec3e1=document['getElementById'](_0x2f34e1),_0x589ad4=_0x4ec3e1[_0x4f94dd(0xb9)](_0x4f94dd(0x1b6)),_0x979e46=_0x4ec3e1[_0x4f94dd(0xb9)](_0x4f94dd(0x12f)),_0x48c6aa=_0x4ec3e1['querySelector'](_0x4f94dd(0x1b8)),_0x45f9e3=_0xf271af[_0x4f94dd(0xc6)](),_0x52a8de=[];let _0x507efd=null,_0x17b30a=![];function _0x45e425(){var _0x502fd3=_0x4f94dd;const _0x4f5cc2=_0x589ad4[_0x502fd3(0x196)][_0x502fd3(0x145)]();if(!_0x4f5cc2)return;const _0x49b354=_0x45f9e3[_0x502fd3(0xf9)](_0x1c2e6f=>_0x1c2e6f[_0x502fd3(0x170)][_0x502fd3(0x185)]()===_0x4f5cc2[_0x502fd3(0x185)]());if(_0x49b354)_0x52a8de[_0x502fd3(0x174)](_0x49b354),_0x45f9e3[_0x502fd3(0x1a6)](_0x45f9e3[_0x502fd3(0x98)](_0x2c5745=>_0x2c5745['setCode']===_0x49b354[_0x502fd3(0x1de)]),0x1);else{const _0x128d96=_0x52a8de[_0x502fd3(0xa9)](_0x22a3bf=>_0x22a3bf['setName'][_0x502fd3(0x185)]()===_0x4f5cc2[_0x502fd3(0x185)]());!_0x128d96&&_0x52a8de['push']({'setCode':_0x4f5cc2,'setName':_0x4f5cc2});}_0x18816d(),_0x1d9dd6(),_0x589ad4[_0x502fd3(0x196)]='';}function _0x1d9dd6(){var _0x5eec93=_0x4f94dd;_0x979e46[_0x5eec93(0x146)]='',_0x45f9e3[_0x5eec93(0x1e9)](_0x47bf3e=>_0x47bf3e[_0x5eec93(0x170)]['toLowerCase']()[_0x5eec93(0x19a)](_0x589ad4['value'][_0x5eec93(0x185)]()))['slice'](0x0,0x14)[_0x5eec93(0xe3)](_0x29b01d=>{var _0x5a08e9=_0x5eec93,_0x391680=document['createElement'](_0x5a08e9(0x116));_0x391680[_0x5a08e9(0x18d)]=_0x29b01d[_0x5a08e9(0x170)],_0x391680[_0x5a08e9(0x9c)][_0x5a08e9(0x142)]=_0x29b01d[_0x5a08e9(0x1de)],_0x979e46[_0x5a08e9(0x17b)](_0x391680),_0x391680[_0x5a08e9(0xfe)](_0x5a08e9(0x1e3),()=>_0x17b30a=!![]),_0x391680[_0x5a08e9(0xfe)](_0x5a08e9(0x121),function(){var _0x1f9196=_0x5a08e9;_0x17b30a=![],_0x52a8de[_0x1f9196(0x174)](_0x29b01d),_0x45f9e3[_0x1f9196(0x1a6)](_0x45f9e3['findIndex'](_0x4ca1a5=>_0x4ca1a5[_0x1f9196(0x1de)]===_0x29b01d[_0x1f9196(0x1de)]),0x1),_0x589ad4[_0x1f9196(0x196)]='',_0x18816d(),_0x1d9dd6();});});}function _0x18816d(){var _0x492f32=_0x4f94dd;_0x48c6aa[_0x492f32(0x146)]='',_0x52a8de[_0x492f32(0xe3)](_0x2dd7f1=>{var _0x2b5caa=_0x492f32,_0x2c98b2=document[_0x2b5caa(0x12d)](_0x2b5caa(0x116));_0x2c98b2['className']=_0x2b5caa(0x13a),_0x2c98b2['textContent']=_0x2dd7f1[_0x2b5caa(0x170)];var _0x84e691=document[_0x2b5caa(0x12d)](_0x2b5caa(0x126));_0x84e691[_0x2b5caa(0x115)]=_0x2b5caa(0x138),_0x84e691[_0x2b5caa(0x18d)]='×',_0x84e691[_0x2b5caa(0xfe)](_0x2b5caa(0x121),function(){var _0x329076=_0x2b5caa;_0x45f9e3['push'](_0x2dd7f1);const _0x4d2ce5=_0x52a8de[_0x329076(0x98)](_0x5e7aed=>_0x5e7aed['setCode']===_0x2dd7f1[_0x329076(0x1de)]);if(_0x4d2ce5>-0x1)_0x52a8de['splice'](_0x4d2ce5,0x1);_0x18816d(),_0x1d9dd6();}),_0x2c98b2['appendChild'](_0x84e691),_0x48c6aa[_0x2b5caa(0x17b)](_0x2c98b2);}),_0x4ec3e1[_0x492f32(0x190)](new CustomEvent('selectionChange',{'detail':_0x52a8de,'bubbles':!![]}));}return _0x589ad4['addEventListener'](_0x4f94dd(0x193),function(){var _0x15badc=_0x4f94dd;_0x507efd&&(clearTimeout(_0x507efd),_0x507efd=null),_0x979e46[_0x15badc(0xbe)][_0x15badc(0x1dd)](_0x15badc(0xbb));}),_0x589ad4['addEventListener'](_0x4f94dd(0x182),_0x1d9dd6),_0x589ad4[_0x4f94dd(0xfe)](_0x4f94dd(0x104),function(_0x5913e1){var _0x2da2db=_0x4f94dd;_0x5913e1[_0x2da2db(0x169)]===_0x2da2db(0x152)&&(_0x5913e1[_0x2da2db(0x135)](),_0x45e425());}),_0x589ad4[_0x4f94dd(0xfe)]('blur',function(){if(_0x17b30a)return;_0x507efd=setTimeout(()=>{_0x45e425(),_0x507efd=null;},0xc8);}),document[_0x4f94dd(0xfe)](_0x4f94dd(0x121),function(_0x3872d4){var _0x1aae57=_0x4f94dd;!_0x4ec3e1['contains'](_0x3872d4['target'])&&_0x979e46['classList'][_0x1aae57(0xc8)]('newItem_hidden');}),_0x1d9dd6(),_0x52a8de;}function getLastCode(_0x8b01ba){var _0x50e095=_0x5946f8;const _0x5c85fd=_0x8b01ba[_0x50e095(0x197)](_0x4aa211=>String(_0x4aa211[_0x50e095(0x1df)])['trim']())[_0x50e095(0x1e9)](_0x3b39a4=>_0x3b39a4!=='');if(_0x5c85fd['length']===0x0)return'';const _0x3ed876=_0x5c85fd[_0x50e095(0x100)](_0x2962d9=>/^\d+$/[_0x50e095(0xb6)](_0x2962d9));if(_0x3ed876){const _0x18001b=_0x5c85fd[_0x50e095(0x197)](Number),_0x2712b8=Math[_0x50e095(0x141)](..._0x18001b);return String(_0x2712b8);}let _0x9bc42f;if(typeof Intl!=='undefined'&&Intl[_0x50e095(0x103)]){const _0xdef59=new Intl[(_0x50e095(0x103))](undefined,{'numeric':!![],'sensitivity':_0x50e095(0xd9)});_0x9bc42f=_0x5c85fd['slice']()[_0x50e095(0x17d)](_0xdef59[_0x50e095(0x150)]);}else{const _0x5e58fc=_0x5c85fd[_0x50e095(0x100)](_0xf01a52=>/^\d+$/[_0x50e095(0xb6)](_0xf01a52));_0x5e58fc?_0x9bc42f=_0x5c85fd[_0x50e095(0x197)](Number)['sort']((_0x2d1957,_0x594bc1)=>_0x2d1957-_0x594bc1)[_0x50e095(0x197)](String):_0x9bc42f=_0x5c85fd[_0x50e095(0xc6)]()['sort']();}return _0x9bc42f[_0x9bc42f[_0x50e095(0x137)]-0x1];}function getNextCode(_0x18a467){var _0x3a4102=_0x5946f8;const _0x2dd5d9=getLastCode(_0x18a467);if(!_0x2dd5d9)return'';if(/^\d+$/[_0x3a4102(0xb6)](_0x2dd5d9))return String(Number(_0x2dd5d9)+0x1);const _0x1a28f2=_0x2dd5d9['match'](/^([A-Za-z]*)(\d+)$/);if(_0x1a28f2){const [,_0x1f023e,_0x183d81]=_0x1a28f2,_0x40ef24=String(Number(_0x183d81)+0x1)['padStart'](_0x183d81[_0x3a4102(0x137)],'0');return _0x1f023e+_0x40ef24;}return _0x2dd5d9;}document[_0x5946f8(0x19d)](_0x5946f8(0xfa))[_0x5946f8(0xfe)](_0x5946f8(0x182),function(_0x3ee6e6){var _0x1991a2=_0x5946f8;baseItem[_0x1991a2(0xb2)]=_0x3ee6e6[_0x1991a2(0x12c)][_0x1991a2(0x196)];}),document[_0x5946f8(0x19d)]('inputItemDescription')[_0x5946f8(0xfe)](_0x5946f8(0x182),function(_0x45f0a9){var _0x2cb741=_0x5946f8;baseItem[_0x2cb741(0x118)]=_0x45f0a9[_0x2cb741(0x12c)][_0x2cb741(0x196)];}),document[_0x5946f8(0x19d)](_0x5946f8(0x1a4))[_0x5946f8(0xfe)](_0x5946f8(0x182),function(_0x49f823){var _0x366d1c=_0x5946f8;baseItem['setItemDateExpiry']=_0x49f823[_0x366d1c(0x12c)][_0x366d1c(0x196)];}),document[_0x5946f8(0x19d)](_0x5946f8(0x1ab))[_0x5946f8(0xfe)](_0x5946f8(0x157),function(_0x1c6dc2){var _0x3da7f0=_0x5946f8;baseItem[_0x3da7f0(0x156)]=_0x1c6dc2['target']['value'];}),document[_0x5946f8(0x19d)]('inputItemTax')[_0x5946f8(0xfe)](_0x5946f8(0x157),function(_0x532fcc){var _0x3e3c64=_0x5946f8;baseItem[_0x3e3c64(0xe0)]=_0x532fcc[_0x3e3c64(0x12c)]['value'];const _0x12def2=_0x532fcc[_0x3e3c64(0x12c)][_0x3e3c64(0x196)],_0x29af4f=company[0x0]['setImpuestos'][_0x3e3c64(0xf9)](_0x3c6b69=>_0x3c6b69[_0x3e3c64(0x131)]==_0x12def2)?.['setImpuestoCode']||0x0,_0x4511e6=company[0x0]['setImpuestos'][_0x3e3c64(0xf9)](_0x135640=>_0x135640[_0x3e3c64(0x131)]==_0x12def2)?.[_0x3e3c64(0x11d)]||0x0;baseItem[_0x3e3c64(0xea)]=_0x29af4f,baseItem[_0x3e3c64(0x1ae)]=_0x4511e6;}),document[_0x5946f8(0x19d)]('newItem_chk_buy')[_0x5946f8(0xfe)](_0x5946f8(0x157),function(_0x285814){var _0x32c6b0=_0x5946f8;baseItem['setItemIsBought']=_0x285814[_0x32c6b0(0x12c)][_0x32c6b0(0x1da)];}),document[_0x5946f8(0x19d)](_0x5946f8(0xd3))[_0x5946f8(0xfe)](_0x5946f8(0x157),function(_0x26a770){var _0x2874e5=_0x5946f8;baseItem[_0x2874e5(0x117)]=_0x26a770[_0x2874e5(0x12c)][_0x2874e5(0x1da)];}),document['getElementById'](_0x5946f8(0x155))['addEventListener']('input',function(_0x35aabc){var _0x4dcef5=_0x5946f8;baseItem[_0x4dcef5(0xf3)]=_0x35aabc['target'][_0x4dcef5(0x196)];}),document[_0x5946f8(0x19d)](_0x5946f8(0xe4))[_0x5946f8(0xfe)](_0x5946f8(0x182),function(_0x509528){var _0x5532d1=_0x5946f8;baseItem[_0x5532d1(0x144)]=_0x509528[_0x5532d1(0x12c)][_0x5532d1(0x196)];}),document[_0x5946f8(0x19d)](_0x5946f8(0x9f))[_0x5946f8(0xfe)](_0x5946f8(0x121),function(){addUnit(),updateUnitsArray();}),document[_0x5946f8(0x19d)](_0x5946f8(0x155))[_0x5946f8(0xfe)]('blur',function(){var _0x3427d1=_0x5946f8;const _0x3142de=this[_0x3427d1(0x196)][_0x3427d1(0x145)]();if(_0x3142de==='')return;const _0x181adc=products['some'](_0x1388f3=>_0x1388f3[_0x3427d1(0x1df)]==_0x3142de),_0x51146d=getLastCode(products);_0x181adc?ntfShow(_0x3427d1(0x158)+_0x51146d,0x2,0x1):ntfShow(_0x3427d1(0xa4),0x1,0x1);});function removeImg(_0x1a2f04){var _0x3bd3db=_0x5946f8;currentImages[_0x1a2f04]=null;var _0x340b29=imgC['querySelector'](_0x3bd3db(0x184)+_0x1a2f04+'\x22]');_0x340b29[_0x3bd3db(0x146)]='';var _0x38d3aa=document[_0x3bd3db(0x12d)]('input');_0x38d3aa[_0x3bd3db(0x1b3)]=_0x3bd3db(0xc0),_0x38d3aa[_0x3bd3db(0xbc)]=_0x3bd3db(0xaa),_0x38d3aa[_0x3bd3db(0x96)][_0x3bd3db(0x133)]=_0x3bd3db(0xf1);var _0x31d404=document[_0x3bd3db(0x12d)]('span');_0x31d404[_0x3bd3db(0x18d)]='+',_0x340b29[_0x3bd3db(0x17b)](_0x38d3aa),_0x340b29[_0x3bd3db(0x17b)](_0x31d404),_0x340b29[_0x3bd3db(0xfe)](_0x3bd3db(0x121),function(){var _0x1bedd3=_0x3bd3db;_0x38d3aa[_0x1bedd3(0x121)]();}),baseItem[_0x3bd3db(0xef)]=currentImages['filter'](function(_0x3b6aa7){return _0x3b6aa7;});}function addUnit(_0x32b6ed,_0x211e32,_0x251d4d,_0x23551e,_0x8dfbff,_0x22904f,_0x3f98a0){var _0x145c52=_0x5946f8,_0x26c8f9=uniqueValuesArray(_0x145c52(0xd7),_0x145c52(0x1bb),myCompany['setUnits']);_0x32b6ed=_0x32b6ed||'',_0x211e32=_0x211e32||_0x26c8f9[0x3a]&&_0x26c8f9[0x3a]['setCode']||'',_0x251d4d=_0x251d4d!==undefined?_0x251d4d:0x1,_0x23551e=!!_0x23551e,_0x8dfbff=_0x8dfbff||'',_0x22904f=_0x22904f||'';var _0x1895f4=unitCount++,_0x495ec5=document[_0x145c52(0x12d)](_0x145c52(0x116));_0x495ec5[_0x145c52(0x9c)][_0x145c52(0x1d3)]=_0x1895f4,_0x495ec5[_0x145c52(0x9c)][_0x145c52(0x173)]=_0x23551e,_0x495ec5[_0x145c52(0x146)]=_0x145c52(0x1cc)+_0x1895f4+_0x145c52(0x1a5)+_0x32b6ed+_0x145c52(0x124)+_0x1895f4+_0x145c52(0x9e)+_0x1895f4+_0x145c52(0x1a5)+_0x251d4d+'\x22\x20'+(_0x23551e?_0x145c52(0x181):'')+_0x145c52(0xa0)+_0x1895f4+'\x22\x20value=\x22'+_0x8dfbff+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x1895f4+_0x145c52(0x1a5)+_0x22904f+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x23551e?'style=\x22display:none\x22':'')+_0x145c52(0x1cd),fillSelect(_0x495ec5['querySelector'](_0x145c52(0x10c)),_0x26c8f9,_0x145c52(0x1de),_0x145c52(0x170)),_0x495ec5[_0x145c52(0xb9)](_0x145c52(0x10c))[_0x145c52(0x196)]=_0x211e32,[_0x145c52(0x1c2),_0x145c52(0x1d9),_0x145c52(0x19f),_0x145c52(0x120),_0x145c52(0x162)]['forEach'](function(_0x3168b4){var _0x2be1a7=_0x145c52;_0x495ec5['querySelector']('.'+_0x3168b4)[_0x2be1a7(0xfe)](_0x2be1a7(0x182),function(){var _0x12a64d=_0x3f98a0?+_0x3f98a0['id']['split']('_')[0x1]:null;if(_0x3f98a0)updateVariantUnits(_0x12a64d);else updateUnitsArray();});}),_0x495ec5['querySelector'](_0x145c52(0x9a))[_0x145c52(0xfe)](_0x145c52(0x121),function(){var _0x4c21c1=_0x145c52;_0x495ec5[_0x4c21c1(0x1dd)]();var _0x546439=_0x3f98a0?+_0x3f98a0['id']['split']('_')[0x1]:null;if(_0x3f98a0)updateVariantUnits(_0x546439);else updateUnitsArray();});var _0x33ea56=_0x3f98a0||document[_0x145c52(0x19d)]('newItem_units_container');_0x33ea56[_0x145c52(0x17b)](_0x495ec5);}function containerIdx(_0x23d724){var _0x116f4c=_0x5946f8;return+_0x23d724['id'][_0x116f4c(0x111)]('_')[0x1];}function updateUnitsArray(){var _0x3e46c7=_0x5946f8,_0x34311e=[],_0x257e86=Array['from'](document[_0x3e46c7(0x1c8)](_0x3e46c7(0x11b))),_0x3e016a=_0x257e86['find'](_0x55998b=>_0x55998b['dataset'][_0x3e46c7(0x173)]===_0x3e46c7(0x1e2)),_0x89736a=_0x3e016a?+_0x3e016a['querySelector'](_0x3e46c7(0xa6))[_0x3e46c7(0x196)]:0x1;_0x257e86[_0x3e46c7(0xe3)](function(_0x1a3a80){var _0x38ba55=_0x3e46c7,_0x1c7e67=+_0x1a3a80[_0x38ba55(0xb9)](_0x38ba55(0xa6))[_0x38ba55(0x196)]||0x0,_0x1308f6=+_0x1a3a80[_0x38ba55(0xb9)]('.priceInput')['value']||0x0,_0x2b2372=+_0x1a3a80[_0x38ba55(0xb9)](_0x38ba55(0x1cb))[_0x38ba55(0x196)]||0x0;_0x34311e[_0x38ba55(0x174)]({'setAlias':_0x1a3a80['querySelector'](_0x38ba55(0x15e))['value']['trim'](),'setUnitCode':_0x1a3a80[_0x38ba55(0xb9)]('.unitSelect')[_0x38ba55(0x196)],'setEquivalence':_0x1c7e67,'setFactor':_0x1a3a80[_0x38ba55(0x9c)][_0x38ba55(0x173)]==='true'?0x1:_0x1c7e67==_0x89736a?0x1:_0x1c7e67<_0x89736a?_0x89736a/_0x1c7e67:_0x1c7e67/_0x89736a,'setPrice':_0x1308f6,'setCost':_0x2b2372,'setDefault':_0x1a3a80['dataset'][_0x38ba55(0x173)]==='true'?0x1:0x0});}),baseItem[_0x3e46c7(0xa8)]=_0x34311e;}function updateBranches(){var _0xd49100=_0x5946f8,_0x417ab4=[];document[_0xd49100(0x1c8)](_0xd49100(0x1a7))[_0xd49100(0xe3)](function(_0x1399ed){var _0x570a46=_0xd49100,_0x198086=_0x1399ed[_0x570a46(0xb9)](_0x570a46(0x160));if(_0x198086[_0x570a46(0x1da)]){var _0x389e7a=+_0x198086[_0x570a46(0x9c)]['id'],_0x314985=+_0x1399ed[_0x570a46(0xb9)](_0x570a46(0x16b))['value'],_0x5e0e63=+_0x1399ed[_0x570a46(0xb9)](_0x570a46(0x1e6))[_0x570a46(0x196)];_0x417ab4[_0x570a46(0x174)]({'setWarehouseCode':_0x389e7a,'setStockInitial':_0x314985,'setStockMinimum':_0x5e0e63});}}),baseItem[_0xd49100(0xce)]=_0x417ab4;}document[_0x5946f8(0x19d)](_0x5946f8(0x178))['addEventListener'](_0x5946f8(0x121),function(){var _0x1c0e6a=_0x5946f8,_0x26077a=Date[_0x1c0e6a(0x123)](),_0x2b0320=document['createElement'](_0x1c0e6a(0x116));_0x2b0320['dataset']['idx']=_0x26077a,_0x2b0320[_0x1c0e6a(0x146)]=_0x1c0e6a(0xc3)+_0x26077a+_0x1c0e6a(0x1be)+_0x26077a+_0x1c0e6a(0x110),prodC[_0x1c0e6a(0x17b)](_0x2b0320),initProdSearch(_0x2b0320[_0x1c0e6a(0xb9)]('.prod_input_container')),_0x2b0320[_0x1c0e6a(0xb9)](_0x1c0e6a(0x128))[_0x1c0e6a(0xfe)]('click',function(){_0x2b0320['remove'](),updateProdItems();}),_0x2b0320[_0x1c0e6a(0xb9)](_0x1c0e6a(0xf2))['addEventListener'](_0x1c0e6a(0x182),updateProdItems),document[_0x1c0e6a(0x19d)](_0x1c0e6a(0x13b))['classList']['toggle'](_0x1c0e6a(0xcf),!![]),document[_0x1c0e6a(0x19d)](_0x1c0e6a(0x13b))[_0x1c0e6a(0xbe)][_0x1c0e6a(0x168)]('newItem_hidden',![]);});function initProdSearch(_0x53dd91,_0x3b4dfd){var _0x5898f7=_0x5946f8,_0x2d3488=_0x53dd91['querySelector']('.prodInput'),_0x34bb8b=_0x53dd91[_0x5898f7(0xb9)](_0x5898f7(0x12f)),_0x4acd45=_0x3b4dfd||null;if(_0x3b4dfd)_0x2d3488['value']=_0x3b4dfd[_0x5898f7(0xac)];_0x2d3488['addEventListener'](_0x5898f7(0x182),function(){var _0x2f24e5=_0x5898f7,_0x3a7d1a=_0x2d3488[_0x2f24e5(0x196)][_0x2f24e5(0x185)]()[_0x2f24e5(0x145)]();_0x34bb8b[_0x2f24e5(0x146)]='';if(!_0x3a7d1a)return;products[_0x2f24e5(0x1e9)](_0x5b8cb9=>_0x5b8cb9['setDescripcion']['toLowerCase']()[_0x2f24e5(0x19a)](_0x3a7d1a))[_0x2f24e5(0xc6)](0x0,0x14)[_0x2f24e5(0xe3)](function(_0x3f38be){var _0x5053c4=_0x2f24e5,_0x860c9c=document['createElement'](_0x5053c4(0x116));_0x860c9c['textContent']=_0x3f38be[_0x5053c4(0x136)],_0x860c9c[_0x5053c4(0x9c)]['id']=_0x3f38be['id'],_0x860c9c[_0x5053c4(0x9c)]['name']=_0x3f38be[_0x5053c4(0x136)],_0x34bb8b[_0x5053c4(0x17b)](_0x860c9c),_0x860c9c[_0x5053c4(0xfe)](_0x5053c4(0x121),function(){var _0x68831d=_0x5053c4;_0x4acd45={'id':_0x3f38be['id'],'name':_0x3f38be[_0x68831d(0x136)]},_0x2d3488[_0x68831d(0x196)]=_0x3f38be[_0x68831d(0x136)],_0x34bb8b[_0x68831d(0x146)]='';var _0x46e4d2=_0x53dd91[_0x68831d(0x10b)]('[id$=\x22_comp_container\x22]');if(_0x46e4d2){var _0x1ef83=+_0x46e4d2['id'][_0x68831d(0x111)]('_')[0x1];updateVariantComponents(_0x1ef83);}else updateProdItems();});});}),_0x2d3488['addEventListener'](_0x5898f7(0x193),function(){var _0x58ffc1=_0x5898f7;_0x34bb8b[_0x58ffc1(0xbe)]['remove']('newItem_hidden');}),document['addEventListener'](_0x5898f7(0x121),function(_0x33ba1c){var _0x5e86ab=_0x5898f7;if(!_0x53dd91[_0x5e86ab(0x188)](_0x33ba1c[_0x5e86ab(0x12c)]))_0x34bb8b[_0x5e86ab(0xbe)][_0x5e86ab(0xc8)]('newItem_hidden');}),Object[_0x5898f7(0x129)](_0x53dd91,_0x5898f7(0xee),{'get':()=>_0x4acd45});}function updateProdItems(){var _0x3c6e7d=_0x5946f8,_0x312597=[];Array[_0x3c6e7d(0x153)](prodC[_0x3c6e7d(0x179)])[_0x3c6e7d(0xe3)](function(_0x5adb00){var _0x235fe4=_0x3c6e7d,_0x50766a=_0x5adb00[_0x235fe4(0xb9)](_0x235fe4(0xc1));if(!_0x50766a)return;var _0x429e70=_0x5adb00['querySelector'](_0x235fe4(0xf2)),_0x4d98f5=_0x50766a[_0x235fe4(0xee)];_0x4d98f5&&_0x312597[_0x235fe4(0x174)]({'setItemId':_0x4d98f5['id'],'setDescripcion':_0x4d98f5[_0x235fe4(0xac)],'setCantidad':+_0x429e70['value']});}),baseItem[_0x3c6e7d(0xd8)]=_0x312597,_0x312597[_0x3c6e7d(0x137)]===0x0&&(document['getElementById'](_0x3c6e7d(0x13b))[_0x3c6e7d(0xbe)]['toggle'](_0x3c6e7d(0xcf),![]),document[_0x3c6e7d(0x19d)](_0x3c6e7d(0x13b))[_0x3c6e7d(0xbe)][_0x3c6e7d(0x168)]('newItem_hidden',!![]));}document[_0x5946f8(0x19d)]('newItem_btn_addVariantGroup')[_0x5946f8(0xfe)](_0x5946f8(0x121),function(){var _0x3a0c12=_0x5946f8,_0x5c641d=vgCount++,_0x4fa4b4=document['createElement']('div');_0x4fa4b4[_0x3a0c12(0x9c)][_0x3a0c12(0x1d3)]=_0x5c641d,_0x4fa4b4[_0x3a0c12(0x146)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x5c641d+'\x22>'+_0x3a0c12(0x1c4)+_0x5c641d+'\x22>'+_0x3a0c12(0x1e5),vgC['appendChild'](_0x4fa4b4),_0x4fa4b4[_0x3a0c12(0xb9)](_0x3a0c12(0x1ce))[_0x3a0c12(0xfe)]('blur',generateVariants),_0x4fa4b4[_0x3a0c12(0xb9)](_0x3a0c12(0xae))[_0x3a0c12(0xfe)](_0x3a0c12(0x16d),generateVariants),_0x4fa4b4[_0x3a0c12(0xb9)](_0x3a0c12(0x1c7))[_0x3a0c12(0xfe)](_0x3a0c12(0x121),function(){var _0x5197d8=_0x3a0c12;_0x4fa4b4[_0x5197d8(0x1dd)](),generateVariants();});});function generateVariants(){var _0x33243b=_0x5946f8,_0x28de62=[];vgC[_0x33243b(0x1c8)](_0x33243b(0x116))[_0x33243b(0xe3)](function(_0xb4a9a7){var _0x262eb0=_0x33243b,_0x480fd2=_0xb4a9a7['querySelector'](_0x262eb0(0x1ce))[_0x262eb0(0x196)][_0x262eb0(0x145)](),_0x403836=_0xb4a9a7['querySelector'](_0x262eb0(0xae))['value']['split'](',')[_0x262eb0(0x197)](_0x173b97=>_0x173b97[_0x262eb0(0x145)]())[_0x262eb0(0x1e9)](_0x4ee0c1=>_0x4ee0c1);if(_0x480fd2&&_0x403836[_0x262eb0(0x137)])_0x28de62['push']({'name':_0x480fd2,'vals':_0x403836});});var _0x30a1a2=[{}];_0x28de62[_0x33243b(0xe3)](function(_0x57b428){var _0x399f3b=_0x33243b;_0x30a1a2=_0x30a1a2[_0x399f3b(0x1d5)](function(_0x363d5b){var _0x1c1692=_0x399f3b;return _0x57b428[_0x1c1692(0x1e1)]['map'](function(_0xb1b41f){var _0x149070=_0x1c1692,_0x2f3a66=Object['assign']({},_0x363d5b);return _0x2f3a66[_0x57b428[_0x149070(0xac)]]=_0xb1b41f,_0x2f3a66;});});}),newItems=[],varContainer[_0x33243b(0x146)]='',_0x30a1a2[_0x33243b(0xe3)](function(_0x5a469e,_0x16426e){var _0x54ed77=_0x33243b,_0x4afc07=JSON[_0x54ed77(0x1c6)](JSON[_0x54ed77(0x12e)](baseItem));_0x4afc07[_0x54ed77(0x93)]=_0x5a469e,_0x4afc07[_0x54ed77(0x1b4)]=baseItem[_0x54ed77(0xb2)]+'\x20'+Object['entries'](_0x5a469e)[_0x54ed77(0x197)](_0x3e628b=>_0x3e628b[0x0]+'\x20'+_0x3e628b[0x1])[_0x54ed77(0x140)]('\x20'),newItems[_0x54ed77(0x174)](_0x4afc07);var _0x5e48c6=document[_0x54ed77(0x12d)](_0x54ed77(0x116));_0x5e48c6[_0x54ed77(0xbe)][_0x54ed77(0xc8)]('variantForm'),_0x5e48c6[_0x54ed77(0x9c)]['idx']=_0x16426e,_0x5e48c6[_0x54ed77(0x146)]=_0x54ed77(0x108)+_0x4afc07['setItemVariantName']+_0x54ed77(0x114)+_0x4afc07[_0x54ed77(0xf3)]+_0x54ed77(0x95)+_0x4afc07[_0x54ed77(0x144)]+_0x54ed77(0x99)+_0x4afc07[_0x54ed77(0x132)]+_0x54ed77(0x11a)+_0x16426e+_0x54ed77(0x1d4)+_0x16426e+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x16426e+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x54ed77(0x17b)](_0x5e48c6),_0x5e48c6[_0x54ed77(0xb9)]('.variantCode')[_0x54ed77(0xfe)]('input',_0x5b21a4=>newItems[_0x16426e][_0x54ed77(0xf3)]=_0x5b21a4['target'][_0x54ed77(0x196)]),_0x5e48c6[_0x54ed77(0xb9)](_0x54ed77(0x167))[_0x54ed77(0xfe)](_0x54ed77(0x182),_0x3b7aa7=>newItems[_0x16426e][_0x54ed77(0x144)]=_0x3b7aa7[_0x54ed77(0x12c)]['value']),_0x5e48c6['querySelector']('.variantExpiry')[_0x54ed77(0xfe)](_0x54ed77(0x157),_0x30383a=>newItems[_0x16426e][_0x54ed77(0x132)]=_0x30383a['target'][_0x54ed77(0x196)]),initVariantUnits(_0x16426e),initVariantComponents(_0x16426e),initVariantBranches(_0x16426e),_0x5e48c6[_0x54ed77(0xb9)](_0x54ed77(0x191))[_0x54ed77(0xfe)]('click',function(){var _0x49cacf=_0x54ed77,_0x217ad3=+_0x5e48c6['dataset']['idx'];newItems[_0x49cacf(0x1a6)](_0x217ad3,0x1),_0x5e48c6[_0x49cacf(0x1dd)](),document[_0x49cacf(0x1c8)]('.variantForm')[_0x49cacf(0xe3)](function(_0x162d5a,_0x2347d1){var _0x408306=_0x49cacf;_0x162d5a[_0x408306(0x9c)][_0x408306(0x1d3)]=_0x2347d1;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x56b873){var _0x2be9f5=_0x5946f8,_0x57d3a9=document['getElementById'](_0x2be9f5(0x1bd)+_0x56b873+_0x2be9f5(0x18f)),_0x4d94b2=[];Array[_0x2be9f5(0x153)](_0x57d3a9[_0x2be9f5(0x179)])['forEach'](function(_0x3b325d){var _0x49ec15=_0x2be9f5,_0x1b2ca7=+_0x3b325d[_0x49ec15(0xb9)](_0x49ec15(0xa6))[_0x49ec15(0x196)]||0x0,_0x980d45=_0x3b325d[_0x49ec15(0xb9)](_0x49ec15(0x15e))[_0x49ec15(0x196)][_0x49ec15(0x145)](),_0xdd382d=_0x3b325d[_0x49ec15(0xb9)]('.unitSelect')[_0x49ec15(0x196)],_0x3607fc=+_0x3b325d['querySelector'](_0x49ec15(0x1ca))[_0x49ec15(0x196)]||0x0,_0x8b4dbd=+_0x3b325d['querySelector']('.costInput')['value']||0x0,_0x57d626=_0x3b325d[_0x49ec15(0x9c)]['default']===_0x49ec15(0x1e2),_0x540314=+_0x57d3a9[_0x49ec15(0xb9)](_0x49ec15(0x14b))[_0x49ec15(0x196)]||0x1,_0x11be0c=_0x57d626?0x1:_0x1b2ca7==_0x540314?0x1:_0x1b2ca7<_0x540314?_0x540314/_0x1b2ca7:_0x1b2ca7/_0x540314;_0x4d94b2[_0x49ec15(0x174)]({'setAlias':_0x980d45,'setUnitCode':_0xdd382d,'setEquivalence':_0x1b2ca7,'setFactor':_0x11be0c,'setPrice':_0x3607fc,'setCost':_0x8b4dbd,'setDefault':_0x57d626?0x1:0x0});}),newItems[_0x56b873][_0x2be9f5(0xa8)]=_0x4d94b2;}function initVariantUnits(_0x21bf53){var _0x4c8d9f=_0x5946f8,_0x3845cf=document[_0x4c8d9f(0x19d)](_0x4c8d9f(0x1bd)+_0x21bf53+'_units_container');_0x3845cf[_0x4c8d9f(0x146)]='',newItems[_0x21bf53][_0x4c8d9f(0xa8)][_0x4c8d9f(0xe3)](function(_0x21d4eb){var _0x5d9465=_0x4c8d9f;addUnit(_0x21d4eb['setAlias'],_0x21d4eb[_0x5d9465(0xd7)],_0x21d4eb[_0x5d9465(0x1c5)],_0x21d4eb[_0x5d9465(0xc2)],_0x21d4eb['setPrice'],_0x21d4eb[_0x5d9465(0x15f)],_0x3845cf);}),_0x3845cf[_0x4c8d9f(0xc9)][_0x4c8d9f(0xb9)](_0x4c8d9f(0xd2))['addEventListener'](_0x4c8d9f(0x121),function(){addUnit('','',0x1,![],'','',_0x3845cf),updateVariantUnits(_0x21bf53);});}function updateVariantUnits(_0x4930ec){var _0x4cb872=_0x5946f8,_0x4dabf2=document[_0x4cb872(0x19d)](_0x4cb872(0x1bd)+_0x4930ec+'_units_container'),_0x16e7ba=_0x4dabf2[_0x4cb872(0xb9)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x1ee0db=_0x16e7ba?+_0x16e7ba[_0x4cb872(0x196)]:0x1,_0xc51a7e=Array[_0x4cb872(0x153)](_0x4dabf2['children'])[_0x4cb872(0x197)](function(_0x4fde0b){var _0x4fed84=_0x4cb872,_0x1468fc=_0x4fde0b[_0x4fed84(0xb9)](_0x4fed84(0x15e))[_0x4fed84(0x196)][_0x4fed84(0x145)](),_0x55e82a=_0x4fde0b[_0x4fed84(0xb9)](_0x4fed84(0x10c))['value'],_0x5ca4c3=+_0x4fde0b[_0x4fed84(0xb9)](_0x4fed84(0xa6))[_0x4fed84(0x196)]||0x0,_0x447008=+_0x4fde0b['querySelector'](_0x4fed84(0x1ca))['value']||0x0,_0x4d8356=+_0x4fde0b[_0x4fed84(0xb9)](_0x4fed84(0x1cb))[_0x4fed84(0x196)]||0x0,_0x826360=_0x4fde0b[_0x4fed84(0x9c)][_0x4fed84(0x173)]===_0x4fed84(0x1e2);return{'setAlias':_0x1468fc,'setUnitCode':_0x55e82a,'setEquivalence':_0x5ca4c3,'setFactor':_0x826360?0x1:_0x5ca4c3==_0x1ee0db?0x1:_0x5ca4c3<_0x1ee0db?_0x1ee0db/_0x5ca4c3:_0x5ca4c3/_0x1ee0db,'setPrice':_0x447008,'setCost':_0x4d8356,'setDefault':_0x826360?0x1:0x0};});newItems[_0x4930ec][_0x4cb872(0xa8)]=_0xc51a7e;}function initVariantComponents(_0x54bd03){var _0x51a1c4=_0x5946f8,_0x4b014c=document[_0x51a1c4(0x19d)](_0x51a1c4(0x1bd)+_0x54bd03+_0x51a1c4(0xd1));_0x4b014c[_0x51a1c4(0x146)]='',newItems[_0x54bd03][_0x51a1c4(0xd8)][_0x51a1c4(0xe3)](function(_0x6c927){var _0x413d3b=_0x51a1c4,_0x1b2750=document[_0x413d3b(0x12d)]('div'),_0x1cef8d=Date[_0x413d3b(0x123)]();_0x1b2750[_0x413d3b(0x9c)]['idx']=_0x1cef8d,_0x1b2750[_0x413d3b(0x146)]=_0x413d3b(0xb3)+_0x1cef8d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x6c927[_0x413d3b(0xdf)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x4b014c[_0x413d3b(0x17b)](_0x1b2750),initProdSearch(_0x1b2750[_0x413d3b(0xb9)](_0x413d3b(0xc1)),{'id':_0x6c927[_0x413d3b(0x177)],'name':_0x6c927['setDescripcion']}),_0x1b2750[_0x413d3b(0xb9)](_0x413d3b(0xf2))[_0x413d3b(0xfe)](_0x413d3b(0x182),function(){updateVariantComponents(_0x54bd03);}),_0x1b2750[_0x413d3b(0xb9)](_0x413d3b(0x1ea))[_0x413d3b(0xfe)]('click',function(){var _0x1e3661=_0x413d3b;_0x1b2750[_0x1e3661(0x1dd)](),updateVariantComponents(_0x54bd03);});}),_0x4b014c['parentNode'][_0x51a1c4(0xb9)](_0x51a1c4(0x198))['addEventListener'](_0x51a1c4(0x121),function(){var _0x58b6bd=_0x51a1c4,_0x114865=document[_0x58b6bd(0x12d)](_0x58b6bd(0x116)),_0x197918=Date[_0x58b6bd(0x123)]();_0x114865[_0x58b6bd(0x9c)][_0x58b6bd(0x1d3)]=_0x197918,_0x114865['innerHTML']=_0x58b6bd(0xb3)+_0x197918+_0x58b6bd(0xe1),_0x4b014c[_0x58b6bd(0x17b)](_0x114865),initProdSearch(_0x114865[_0x58b6bd(0xb9)](_0x58b6bd(0xc1))),_0x114865[_0x58b6bd(0xb9)](_0x58b6bd(0xf2))[_0x58b6bd(0xfe)](_0x58b6bd(0x182),function(){updateVariantComponents(_0x54bd03);}),_0x114865[_0x58b6bd(0xb9)](_0x58b6bd(0x1ea))['addEventListener'](_0x58b6bd(0x121),function(){var _0x4349ee=_0x58b6bd;_0x114865[_0x4349ee(0x1dd)](),updateVariantComponents(_0x54bd03);});});}function updateVariantComponents(_0x146987){var _0x438d10=_0x5946f8,_0x263c22=document[_0x438d10(0x19d)](_0x438d10(0x1bd)+_0x146987+'_comp_container'),_0x4f6060=Array[_0x438d10(0x153)](_0x263c22['children'])['map'](function(_0x314d94){var _0x2fd980=_0x438d10,_0x432be9=_0x314d94[_0x2fd980(0xb9)](_0x2fd980(0xc1)),_0x38d10b=_0x432be9[_0x2fd980(0xee)],_0x5f330b=+_0x314d94['querySelector']('.prodQty')['value']||0x0;return _0x38d10b?{'setItemId':_0x38d10b['id'],'setDescripcion':_0x38d10b[_0x2fd980(0xac)],'setCantidad':_0x5f330b}:null;})[_0x438d10(0x1e9)](_0x5b88bf=>_0x5b88bf);newItems[_0x146987][_0x438d10(0xd8)]=_0x4f6060;}function initVariantBranches(_0x51f668){var _0x4b1891=_0x5946f8;const _0x309e71=getAllWarehouses();var _0x4bf397=document['getElementById'](_0x4b1891(0x1bd)+_0x51f668+_0x4b1891(0x187));_0x4bf397[_0x4b1891(0x146)]='',newItems[_0x51f668]['setItemWarehouses']['forEach'](function(_0x34bff4){var _0x27c73a=_0x4b1891,_0x578708=_0x309e71[_0x27c73a(0xf9)](_0x47729c=>_0x47729c[_0x27c73a(0x1a9)]==_0x34bff4[_0x27c73a(0xe7)]),_0x5caeba=document[_0x27c73a(0x12d)](_0x27c73a(0x116));_0x5caeba[_0x27c73a(0x146)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x34bff4[_0x27c73a(0xe7)]+_0x27c73a(0x1dc)+_0x578708[_0x27c73a(0x148)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x34bff4[_0x27c73a(0xe7)]+'\x22\x20value=\x22'+_0x34bff4['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x34bff4['setWarehouseCode']+'\x22\x20value=\x22'+_0x34bff4[_0x27c73a(0x1b0)]+'\x22>',_0x4bf397['appendChild'](_0x5caeba),_0x5caeba[_0x27c73a(0x1c8)]('input')[_0x27c73a(0xe3)](function(_0x29942b){var _0x2c4df9=_0x27c73a;_0x29942b[_0x2c4df9(0xfe)](_0x2c4df9(0x182),function(){updateVariantBranches(_0x51f668);});});}),_0x309e71[_0x4b1891(0xe3)](function(_0x2e353c){var _0x320535=_0x4b1891;if(!newItems[_0x51f668][_0x320535(0xce)][_0x320535(0xf9)](_0x16dd63=>_0x16dd63[_0x320535(0xe7)]===_0x2e353c[_0x320535(0x1a9)])){var _0x5617a0=document[_0x320535(0x12d)](_0x320535(0x116));_0x5617a0[_0x320535(0x146)]=_0x320535(0x12b)+_0x2e353c[_0x320535(0x1a9)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x2e353c[_0x320535(0x148)]+_0x320535(0x175)+_0x2e353c[_0x320535(0x1a9)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x2e353c[_0x320535(0x1a9)]+'\x22>',_0x4bf397[_0x320535(0x17b)](_0x5617a0),_0x5617a0[_0x320535(0x1c8)]('input')[_0x320535(0xe3)](function(_0x22b0b1){var _0x3324a4=_0x320535;_0x22b0b1[_0x3324a4(0xfe)](_0x3324a4(0x182),function(){updateVariantBranches(_0x51f668);});});}});}function updateVariantBranches(_0x2e2242){var _0x5c6399=_0x5946f8,_0x2cdda5=document[_0x5c6399(0x19d)]('variant_'+_0x2e2242+'_branch_container'),_0x4ae837=[];_0x2cdda5[_0x5c6399(0x1c8)](_0x5c6399(0x116))['forEach'](function(_0x52c971){var _0x33e946=_0x5c6399,_0x421a41=_0x52c971[_0x33e946(0xb9)](_0x33e946(0x160));if(_0x421a41[_0x33e946(0x1da)]){var _0x49de47=+_0x421a41['dataset']['id'],_0x12f6e8=+_0x52c971[_0x33e946(0xb9)](_0x33e946(0x16b))[_0x33e946(0x196)]||0x0,_0x48ddc9=+_0x52c971[_0x33e946(0xb9)](_0x33e946(0x1e6))[_0x33e946(0x196)]||0x0;_0x4ae837[_0x33e946(0x174)]({'setWarehouseCode':_0x49de47,'setStockInitial':_0x12f6e8,'setStockMinimum':_0x48ddc9});}}),newItems[_0x2e2242][_0x5c6399(0xce)]=_0x4ae837;}async function storeOfflineProduct(_0x4d0968){var _0x492278=_0x5946f8;try{const _0x3ab794=await createCartStore(''),_0x381aa9=_0x3ab794[_0x492278(0x10e)]('offline_operations','readwrite'),_0x25df7f=_0x381aa9[_0x492278(0x17e)]('offline_operations');_0x25df7f['add'](_0x4d0968),_0x381aa9[_0x492278(0x1b9)]=()=>{var _0x37ab72=_0x492278;console[_0x37ab72(0xec)](_0x37ab72(0x194));},_0x381aa9[_0x492278(0x183)]=_0x44f241=>{var _0x3390e3=_0x492278;console[_0x3390e3(0x106)](_0x3390e3(0xdc),_0x44f241['target'][_0x3390e3(0x106)]);};}catch(_0x4b33a0){console[_0x492278(0x106)](_0x492278(0x18a),_0x4b33a0);}}document['getElementById'](_0x5946f8(0x19e))[_0x5946f8(0xfe)](_0x5946f8(0x121),async function(_0x568c83){var _0x37aef7=_0x5946f8;_0x568c83[_0x37aef7(0x135)]();const _0x50ea9b=document['getElementById'](_0x37aef7(0x155)),_0x24a188=document['getElementById'](_0x37aef7(0x113))[_0x37aef7(0x196)];if(!_0x50ea9b[_0x37aef7(0x196)][_0x37aef7(0x145)]()&&_0x24a188==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x24a188==0x1&&(_0x50ea9b[_0x37aef7(0x196)]='',baseItem[_0x37aef7(0xf3)]='');const _0xc92d3c=document[_0x37aef7(0x19d)]('inputItemName');if(!_0xc92d3c['value'][_0x37aef7(0x145)]()){ntfShow(_0x37aef7(0x139),0x2,0x1);return;}const _0x4da867=document[_0x37aef7(0x19d)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x37aef7(0x137)]===0x0&&(newItems=[baseItem]);const _0x3becff=document[_0x37aef7(0x19d)](_0x37aef7(0x14f))[_0x37aef7(0x196)],_0x6d76e1=window_options[_0x3becff]['setMoneda'],_0x184c2d=[];newItems['forEach'](_0x20bc0a=>{var _0x5841ed=_0x37aef7;const _0x400729=generateNumericUniqId();_0x20bc0a[_0x5841ed(0xa8)][_0x5841ed(0xe3)](_0x287d53=>{var _0x3a51f1=_0x5841ed;const _0x5d3a65=generateNumericUniqId();_0x287d53['setItemUnitId']=_0x5d3a65;const _0x17c31a={'id':_0x5d3a65,'setIdProducto':_0x400729,'setCodProducto':_0x20bc0a[_0x3a51f1(0xf3)],'setDescripcion':_0x20bc0a['setItemName'],'setItemDescription':_0x20bc0a[_0x3a51f1(0x118)],'setBatchExpirationDate':_0x20bc0a['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x20bc0a[_0x3a51f1(0xa7)][0x0]||'','setMarca':_0x20bc0a[_0x3a51f1(0x16a)][0x0]||'','setConversionFactor':parseFloat(_0x287d53[_0x3a51f1(0xb0)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x20bc0a[_0x3a51f1(0x1a3)]?0x1:0x0,'setItemIsSold':_0x20bc0a['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x20bc0a['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x20bc0a[_0x3a51f1(0xe0)],'setTipAfeIgv':_0x20bc0a[_0x3a51f1(0xea)],'setUnidad':_0x287d53[_0x3a51f1(0xd7)],'setUnidadCodigo':_0x287d53[_0x3a51f1(0xd7)],'setItemUnitAlias':_0x287d53[_0x3a51f1(0x1e0)],'currency_data':[{'currency':_0x6d76e1,'setMtoPrecioCostoUnitario':_0x287d53[_0x3a51f1(0x15f)],'setMtoPrecioUnitario':_0x287d53['setPrice'],'setPriceLists':[]}],'sucursales':_0x20bc0a['setItemWarehouses'][_0x3a51f1(0x197)](_0x2dbc62=>({'setIdSucursal':_0x2dbc62['setWarehouseCode'],'setSucursalStock':_0x2dbc62['setStockInitial'][_0x3a51f1(0x105)](),'setWarehouseStockMin':_0x2dbc62[_0x3a51f1(0x1b0)][_0x3a51f1(0x105)]()})),'setItemFree':_0x20bc0a['setItemFree'],'setItemBarCode':_0x20bc0a[_0x3a51f1(0x144)],'setItemBrands':_0x20bc0a['setItemBrands']['slice'](),'setItemCategories':_0x20bc0a[_0x3a51f1(0xa7)][_0x3a51f1(0xc6)](),'setItemComponents':_0x20bc0a[_0x3a51f1(0xd8)][_0x3a51f1(0x197)](_0x54599f=>({..._0x54599f})),'setItemImages':_0x20bc0a[_0x3a51f1(0xef)][_0x3a51f1(0xc6)](),'setItemVariantName':_0x20bc0a[_0x3a51f1(0x1b4)],'setItemVariantValues':{..._0x20bc0a[_0x3a51f1(0x93)]}};_0x184c2d[_0x3a51f1(0x174)](_0x17c31a),(_0x4da867[_0x3a51f1(0x1da)]||_0x24a188==0x1)&&addToCart(_0x17c31a);});}),console[_0x37aef7(0xec)]('Items\x20finales:',newItems),await finalizeImport(_0x184c2d,newItems,![]);}),[_0x5946f8(0xf6),_0x5946f8(0x180)][_0x5946f8(0xe3)](_0x383e84=>dropZone['addEventListener'](_0x383e84,_0x364024=>{var _0x4eefcc=_0x5946f8;_0x364024[_0x4eefcc(0x135)](),dropZone[_0x4eefcc(0xbe)][_0x4eefcc(0xc8)](_0x4eefcc(0x180));})),[_0x5946f8(0xb4),_0x5946f8(0xf7)][_0x5946f8(0xe3)](_0x478297=>dropZone[_0x5946f8(0xfe)](_0x478297,_0x56d40f=>{var _0x2bb502=_0x5946f8;_0x56d40f[_0x2bb502(0x135)](),dropZone['classList'][_0x2bb502(0x1dd)](_0x2bb502(0x180));})),dropZone['addEventListener'](_0x5946f8(0xf7),_0x211446=>{var _0xb85e6a=_0x5946f8;const _0x271df5=_0x211446[_0xb85e6a(0xd6)][_0xb85e6a(0xfd)][0x0];if(!_0x271df5)return;fileInput[_0xb85e6a(0xfd)]=_0x211446[_0xb85e6a(0xd6)]['files'],dropZone['querySelector']('.drop-zone__prompt')[_0xb85e6a(0x18d)]=_0x271df5[_0xb85e6a(0xac)],removeBtn[_0xb85e6a(0xdd)]=![],fileInput[_0xb85e6a(0x190)](new Event('change'));}),removeBtn[_0x5946f8(0xfe)](_0x5946f8(0x121),()=>{var _0xe70350=_0x5946f8;fileInput[_0xe70350(0x196)]='',dropZone[_0xe70350(0xb9)](_0xe70350(0xe6))[_0xe70350(0x18d)]=_0xe70350(0x13d),removeBtn[_0xe70350(0xdd)]=!![],progressBar['style'][_0xe70350(0x133)]=_0xe70350(0xf1),statusDiv[_0xe70350(0x18d)]='',uploadBtn[_0xe70350(0x181)]=!![];});const exportBtn=document['getElementById'](_0x5946f8(0x163));exportBtn[_0x5946f8(0xfe)](_0x5946f8(0x121),onClickExportarItems);async function onClickExportarItems(){var _0x26d3dd=_0x5946f8;if(!Array[_0x26d3dd(0xd0)](products)||!products['length']){ntfShow(_0x26d3dd(0xe2));return;}try{const _0x307418=await fetch(_0x26d3dd(0x1b2));if(!_0x307418['ok'])throw new Error(_0x26d3dd(0x15a));const _0x5b8048=await _0x307418[_0x26d3dd(0x14c)](),_0x2d4bd8=document[_0x26d3dd(0x19d)]('setWarehouseId')[_0x26d3dd(0x196)];let _0x2f71a4=products;const _0x31a527=getUserPermissionApiERP(0x2);_0x31a527==0x1&&(_0x2f71a4=products[_0x26d3dd(0x1e9)](_0x500706=>Array[_0x26d3dd(0xd0)](_0x500706[_0x26d3dd(0xe5)])&&_0x500706[_0x26d3dd(0xe5)]['some'](_0x287406=>String(_0x287406[_0x26d3dd(0xca)])==String(_0x2d4bd8))));const _0x190e33=_0x2f71a4[_0x26d3dd(0x149)]((_0x44f6da,_0x526d3a)=>{const _0x58c364=_0x526d3a['setIdProducto'];if(!_0x44f6da[_0x58c364])_0x44f6da[_0x58c364]=[];return _0x44f6da[_0x58c364]['push'](_0x526d3a),_0x44f6da;},{}),_0x1b332e=Object[_0x26d3dd(0x189)](_0x190e33)[_0x26d3dd(0x197)](_0x576457=>{var _0x15f3c3=_0x26d3dd;const _0x5b376d=_0x576457[0x0],_0x25210e=_0x576457[0x1]||{},_0x339a18=_0x576457[0x2]||{};function _0x351604(_0x1e6934,_0x2e4388,_0x5d939a){var _0x165272=_0x2fbd;if(!_0x1e6934||!Array['isArray'](_0x1e6934[_0x165272(0xa2)]))return'';const _0x4992a7=_0x1e6934[_0x165272(0xa2)][_0x165272(0xf9)](_0x442fe3=>_0x442fe3['currency']===_0x2e4388);return _0x4992a7?_0x4992a7[_0x5d939a]:'';}return{'id':_0x5b376d[_0x15f3c3(0x14a)],'setItemType':_0x5b376d[_0x15f3c3(0x156)],'setCodProducto':_0x5b376d[_0x15f3c3(0x1df)],'setDescripcion':_0x5b376d['setDescripcion'],'setItemDescription':_0x5b376d[_0x15f3c3(0x118)],'setItemIsSold':_0x5b376d['setItemIsSold'],'setItemIsBought':_0x5b376d[_0x15f3c3(0x1a3)],'setCategoria':_0x5b376d[_0x15f3c3(0x1bc)],'setMarca':_0x5b376d['setMarca'],'setTaxId':_0x5b376d[_0x15f3c3(0x131)],'setUnitId':_0x5b376d['id'],'setItemBarCode':_0x5b376d['setItemBarCode'],'setUnidadCodigo':_0x5b376d['setUnidadCodigo'],'setItemUnitAlias':_0x5b376d[_0x15f3c3(0x1a0)]??'','PEN_setMtoPrecioUnitario':_0x351604(_0x5b376d,_0x15f3c3(0x1bf),_0x15f3c3(0x1ac)),'PEN_setMtoPrecioCostoUnitario':_0x351604(_0x5b376d,_0x15f3c3(0x1bf),_0x15f3c3(0xd5)),'USD_setMtoPrecioUnitario':_0x351604(_0x5b376d,'USD',_0x15f3c3(0x1ac)),'USD_setMtoPrecioCostoUnitario':_0x351604(_0x5b376d,_0x15f3c3(0x19b),'setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x5b376d['setItemCommissionPercentage']?parseFloat(_0x5b376d['setItemCommissionPercentage']):'','setUnitId2':_0x25210e['id']??'','setItemBarCode2':_0x25210e['setItemBarCode']??'','setUnidadCodigo2':_0x25210e[_0x15f3c3(0x192)]??'','setItemUnitAlias2':_0x25210e[_0x15f3c3(0x1a0)]??'','setUnidadEquivalencia2':_0x25210e[_0x15f3c3(0x1db)]??'','PEN_setMtoPrecioUnitario2':_0x351604(_0x25210e,_0x15f3c3(0x1bf),_0x15f3c3(0x1ac))??'','PEN_setMtoPrecioCostoUnitario2':_0x351604(_0x25210e,_0x15f3c3(0x1bf),_0x15f3c3(0xd5))??'','USD_setMtoPrecioUnitario2':_0x351604(_0x25210e,_0x15f3c3(0x19b),_0x15f3c3(0x1ac))??'','USD_setMtoPrecioCostoUnitario2':_0x351604(_0x25210e,_0x15f3c3(0x19b),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x25210e[_0x15f3c3(0x1d8)]?parseFloat(_0x25210e[_0x15f3c3(0x1d8)]):'','setUnitId3':_0x339a18['id']??'','setItemBarCode3':_0x339a18[_0x15f3c3(0x144)]??'','setUnidadCodigo3':_0x339a18['setUnidadCodigo']??'','setItemUnitAlias3':_0x339a18['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x339a18['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x351604(_0x339a18,_0x15f3c3(0x1bf),_0x15f3c3(0x1ac))??'','PEN_setMtoPrecioCostoUnitario3':_0x351604(_0x339a18,_0x15f3c3(0x1bf),_0x15f3c3(0xd5))??'','USD_setMtoPrecioUnitario3':_0x351604(_0x339a18,_0x15f3c3(0x19b),_0x15f3c3(0x1ac))??'','USD_setMtoPrecioCostoUnitario3':_0x351604(_0x339a18,_0x15f3c3(0x19b),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage3':_0x339a18['setItemCommissionPercentage']?parseFloat(_0x339a18['setItemCommissionPercentage']):'','setInventariable':_0x5b376d[_0x15f3c3(0xcd)],'setSucursalStock':_0x31a527==0x1?_0x5b376d[_0x15f3c3(0xe5)]['find'](_0x35bf32=>String(_0x35bf32[_0x15f3c3(0xca)])==String(_0x2d4bd8))[_0x15f3c3(0x1c0)]:'','setWarehouseStockMin':_0x31a527==0x1?_0x5b376d[_0x15f3c3(0xe5)][_0x15f3c3(0xf9)](_0x5b69a3=>String(_0x5b69a3[_0x15f3c3(0xca)])==String(_0x2d4bd8))[_0x15f3c3(0xeb)]:'','setBatchName':_0x5b376d['setBatchName'],'setBatchExpirationDate':_0x5b376d['setBatchExpirationDate'],..._0x5b376d['setItemVariantValues']};});try{JSON[_0x26d3dd(0x12e)](_0x1b332e);}catch(_0x5cae4f){console[_0x26d3dd(0x106)](_0x26d3dd(0xba),_0x5cae4f),ntfShow(_0x26d3dd(0x9b));return;}statusDiv[_0x26d3dd(0x18d)]=_0x26d3dd(0x107),progressBar[_0x26d3dd(0x96)][_0x26d3dd(0x133)]='block',progressBar['value']=0x0,itemWorker[_0x26d3dd(0xf8)]({'action':_0x26d3dd(0x19c),'products':_0x1b332e,'plantillaBuf':_0x5b8048},[_0x5b8048]);}catch(_0x3e7acb){console[_0x26d3dd(0x106)](_0x3e7acb),ntfShow(_0x26d3dd(0x13f)+_0x3e7acb[_0x26d3dd(0x1e4)]);}}itemWorker[_0x5946f8(0x16c)]=({data:_0x4adc9a})=>{var _0x2dfc6f=_0x5946f8;const {type:_0x3a5c17,payload:_0x4f374c}=_0x4adc9a;_0x3a5c17===_0x2dfc6f(0x94)&&(progressBar[_0x2dfc6f(0x96)][_0x2dfc6f(0x133)]=_0x2dfc6f(0x92),progressBar[_0x2dfc6f(0x196)]=_0x4f374c['percent'],statusDiv['textContent']=_0x4f374c[_0x2dfc6f(0x1e4)]);_0x3a5c17===_0x2dfc6f(0xcb)&&(newItemsExcel=_0x4f374c[_0x2dfc6f(0x1b1)],statusDiv[_0x2dfc6f(0x18d)]='✅\x20'+newItemsExcel['length']+_0x2dfc6f(0x186),uploadBtn[_0x2dfc6f(0x181)]=![],progressBar[_0x2dfc6f(0x196)]=0x64,console[_0x2dfc6f(0xec)](newItemsExcel));_0x3a5c17===_0x2dfc6f(0x106)&&(statusDiv[_0x2dfc6f(0x18d)]=_0x2dfc6f(0x109)+_0x4f374c,progressBar[_0x2dfc6f(0x96)][_0x2dfc6f(0x133)]=_0x2dfc6f(0xf1));if(_0x3a5c17==='exportDone'){const {wbout:_0x1ef8bd,count:_0xb78845}=_0x4f374c,_0x31be1d=new Blob([_0x1ef8bd],{'type':'application/octet-stream'}),_0x15ee42=URL[_0x2dfc6f(0x17c)](_0x31be1d),_0x225128=document[_0x2dfc6f(0x12d)]('a'),_0x46b8b1=new Date()['toISOString']()[_0x2dfc6f(0xc6)](0x0,0xa);_0x225128[_0x2dfc6f(0x199)]=_0x2dfc6f(0x171)+_0x46b8b1+_0x2dfc6f(0x18e),_0x225128['href']=_0x15ee42,_0x225128[_0x2dfc6f(0x121)](),URL['revokeObjectURL'](_0x15ee42),statusDiv['textContent']=_0x2dfc6f(0xbd)+_0xb78845+_0x2dfc6f(0xa1),progressBar[_0x2dfc6f(0x96)][_0x2dfc6f(0x133)]=_0x2dfc6f(0xf1);}},fileInput[_0x5946f8(0xfe)](_0x5946f8(0x157),async _0x1d073f=>{var _0x34b06a=_0x5946f8;const _0x5a3a80=_0x1d073f[_0x34b06a(0x12c)]['files'][0x0];if(!_0x5a3a80)return;uploadBtn[_0x34b06a(0x181)]=!![],newItemsExcel=null,statusDiv[_0x34b06a(0x18d)]='',progressBar[_0x34b06a(0x96)]['display']=_0x34b06a(0xf1),dropZone[_0x34b06a(0xb9)](_0x34b06a(0xe6))[_0x34b06a(0x18d)]=_0x5a3a80[_0x34b06a(0xac)],removeBtn['hidden']=![];try{const _0x56c2f8=await _0x5a3a80[_0x34b06a(0x14c)]();itemWorker[_0x34b06a(0xf8)]({'action':_0x34b06a(0xb5),'buf':_0x56c2f8,'maxRows':0x1388});}catch(_0x54fc53){statusDiv[_0x34b06a(0x18d)]=_0x34b06a(0x1d1);}finally{fileInput[_0x34b06a(0x196)]='';}}),uploadBtn[_0x5946f8(0xfe)]('click',async()=>{var _0x51c5d0=_0x5946f8;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x23d045=document['getElementById'](_0x51c5d0(0x1a9))[_0x51c5d0(0x196)],_0x379d9a=[];newItemsExcel['forEach'](_0x134554=>{var _0x1d2cc6=_0x51c5d0;const _0x47a7c4=Boolean(_0x134554[_0x1d2cc6(0x177)]),_0x490410=_0x47a7c4?_0x134554['setItemId']:generateNumericUniqId();_0x134554[_0x1d2cc6(0xce)]=[{'setStockInitial':_0x134554[_0x1d2cc6(0x1ad)],'setStockMinimum':_0x134554['setStockMinimum'],'setWarehouseCode':_0x23d045}],_0x134554['setItemUnits']['forEach'](_0x427460=>{var _0x264f64=_0x1d2cc6;const _0x123633=Boolean(_0x427460[_0x264f64(0x17a)]),_0x415f41=_0x123633?_0x427460[_0x264f64(0x17a)]:generateNumericUniqId();_0x427460[_0x264f64(0x17a)]=_0x415f41;const _0x225e00=[];_0x225e00[_0x264f64(0x174)]({'currency':_0x264f64(0x1bf),'setMtoPrecioCostoUnitario':_0x427460[_0x264f64(0x15f)],'setMtoPrecioUnitario':_0x427460[_0x264f64(0x11e)],'setPriceLists':[]});const _0x334f9a=_0x427460[_0x264f64(0x18c)]!=null&&_0x427460['setPriceUSD']!=null&&(!isNaN(_0x427460[_0x264f64(0x18c)])||!isNaN(_0x427460['setPriceUSD']));_0x334f9a&&_0x225e00[_0x264f64(0x174)]({'currency':_0x264f64(0x19b),'setMtoPrecioCostoUnitario':_0x427460['setCostUSD'],'setMtoPrecioUnitario':_0x427460[_0x264f64(0x15d)],'setPriceLists':[]});const _0x4b2018={'id':_0x415f41,'setIdProducto':_0x490410,'setItemBarCode':_0x427460[_0x264f64(0x144)],'setCodProducto':_0x134554[_0x264f64(0xf3)],'setDescripcion':_0x134554[_0x264f64(0xb2)],'setItemDescription':_0x134554['setItemDescription'],'setBatchExpirationDate':_0x134554['setItemDateExpiry'],'setBatchName':_0x134554[_0x264f64(0x130)],'setItemIsSold':_0x134554[_0x264f64(0x117)],'setItemIsBought':_0x134554[_0x264f64(0x1a3)],'setCategoria':_0x134554[_0x264f64(0xa7)][0x0]||'','setMarca':_0x134554['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x427460['setFactor']),'setImages':[],'setImg':_0x264f64(0xfc),'setInventariable':_0x134554[_0x264f64(0x1d0)],'setPorcentajeIgv':_0x134554[_0x264f64(0x1ae)],'setPrinters':[],'setTaxId':_0x134554['setItemTaxId'],'setTipAfeIgv':_0x134554[_0x264f64(0xea)],'setUnidad':_0x427460['setUnitCode'],'setUnidadCodigo':_0x427460[_0x264f64(0xd7)],'setItemUnitAlias':_0x427460['setAlias'],'setItemCommissionPercentage':_0x427460[_0x264f64(0x1d8)],'currency_data':_0x225e00,'sucursales':_0x134554['setItemWarehouses'][_0x264f64(0x197)](_0x9decc3=>({'setIdSucursal':_0x9decc3[_0x264f64(0xe7)],'setSucursalStock':_0x9decc3[_0x264f64(0x1ad)]['toString'](),'setWarehouseStockMin':_0x9decc3[_0x264f64(0x1b0)][_0x264f64(0x105)]()})),'setItemFree':_0x134554[_0x264f64(0x113)],'setItemBrands':_0x134554[_0x264f64(0x16a)][_0x264f64(0xc6)](),'setItemCategories':_0x134554['setItemCategories']['slice'](),'setItemComponents':_0x134554[_0x264f64(0xd8)]['map'](_0x300580=>({..._0x300580})),'setItemImages':_0x134554['setItemImages'][_0x264f64(0xc6)](),'setItemVariantName':_0x134554[_0x264f64(0x1b4)],'setItemVariantValues':{..._0x134554[_0x264f64(0x93)]}},_0x56fdc4=products['findIndex'](_0x498bea=>_0x498bea['id']==_0x415f41&&_0x498bea[_0x264f64(0x14a)]==_0x490410);_0x56fdc4>-0x1?Object['assign'](products[_0x56fdc4],_0x4b2018):_0x379d9a['push'](_0x4b2018);});}),console[_0x51c5d0(0xec)](_0x51c5d0(0x195),newItemsExcel),await finalizeImport(_0x379d9a,newItemsExcel,!![]);});function initializeFormImages(){var _0x10bfba=_0x5946f8;currentImages=Array(MAX_IMAGES)[_0x10bfba(0x1ba)](null),imgC['innerHTML']='',baseItem[_0x10bfba(0xef)]=[];for(var _0x3d6e76=0x0;_0x3d6e76<MAX_IMAGES;_0x3d6e76++){(function(_0x4e3c33){var _0x464661=_0x10bfba,_0x3a3daa=document[_0x464661(0x12d)](_0x464661(0x116));_0x3a3daa[_0x464661(0x115)]=_0x464661(0x15b),_0x3a3daa[_0x464661(0x9c)][_0x464661(0x1d3)]=_0x4e3c33;var _0xcc40be=document[_0x464661(0x12d)](_0x464661(0x182));_0xcc40be[_0x464661(0x1b3)]=_0x464661(0xc0),_0xcc40be['accept']=_0x464661(0xaa),_0xcc40be[_0x464661(0x96)][_0x464661(0x133)]=_0x464661(0xf1);var _0x4bc09f=document['createElement'](_0x464661(0x126));_0x4bc09f[_0x464661(0x18d)]='+',_0x3a3daa[_0x464661(0x17b)](_0xcc40be),_0x3a3daa[_0x464661(0x17b)](_0x4bc09f),imgC[_0x464661(0x17b)](_0x3a3daa),_0x3a3daa[_0x464661(0xfe)](_0x464661(0x121),function(){var _0x284d9f=_0x464661;_0xcc40be[_0x284d9f(0x121)]();}),_0xcc40be['addEventListener'](_0x464661(0x157),function(_0x4acc12){var _0x587e85=_0x464661,_0x2fbf03=_0x4acc12['target'][_0x587e85(0xfd)][0x0];if(!_0x2fbf03)return removeImg(_0x4e3c33);var _0x1d114a=new FileReader();_0x1d114a[_0x587e85(0x14d)]=function(_0x3111c5){var _0x6e9609=_0x587e85;_0x3a3daa[_0x6e9609(0x146)]=_0x6e9609(0xab)+_0x3111c5[_0x6e9609(0x12c)][_0x6e9609(0xed)]+'\x22>';var _0x287c50=document[_0x6e9609(0x12d)](_0x6e9609(0x126));_0x287c50[_0x6e9609(0x115)]='remove',_0x287c50[_0x6e9609(0x18d)]='×',_0x287c50[_0x6e9609(0xfe)](_0x6e9609(0x121),function(_0x26838b){var _0x2e78a1=_0x6e9609;_0x26838b[_0x2e78a1(0x10a)](),removeImg(_0x4e3c33);}),_0x3a3daa[_0x6e9609(0x17b)](_0x287c50),currentImages[_0x4e3c33]=_0x2fbf03,baseItem['setItemImages']=currentImages[_0x6e9609(0x1e9)](function(_0x37263b){return _0x37263b;});},_0x1d114a['readAsDataURL'](_0x2fbf03);});}(_0x3d6e76));}}function initializeFormIsSoldIsBought(_0x3647ce=0x0){var _0x520331=_0x5946f8;let _0x1e51f0,_0x1e3d3a;if(_0x3647ce!=0x0){const _0x2b5149=products[_0x520331(0xf9)](_0x493786=>_0x493786['id']==_0x3647ce);_0x1e51f0=_0x2b5149[_0x520331(0x1a3)]==0x1||_0x2b5149[_0x520331(0x1a3)]==!![]?!![]:![],_0x1e3d3a=_0x2b5149['setItemIsSold']==0x1||_0x2b5149[_0x520331(0x117)]==!![]?!![]:![];}else _0x1e51f0=!![],_0x1e3d3a=!![];document[_0x520331(0x19d)]('newItem_chk_buy')[_0x520331(0x1da)]=_0x1e51f0,document[_0x520331(0x19d)](_0x520331(0xd3))['checked']=_0x1e3d3a,baseItem[_0x520331(0x1a3)]=_0x1e51f0,baseItem[_0x520331(0x117)]=_0x1e3d3a;}function initializeFormInputsBasic(_0x3ec670=0x0){var _0x1bb423=_0x5946f8;let _0x586738,_0x2483f8,_0x23f18a,_0x12a8c2,_0xe74853,_0x24b138;if(_0x3ec670!=0x0){const _0x35da09=products[_0x1bb423(0xf9)](_0x49c25d=>_0x49c25d['id']==_0x3ec670);_0x586738=_0x35da09['setItemType']??'1',_0x2483f8=_0x35da09[_0x1bb423(0x1df)],_0x23f18a=_0x35da09[_0x1bb423(0x136)],_0x12a8c2=_0x35da09[_0x1bb423(0x118)],_0xe74853=_0x35da09[_0x1bb423(0x1af)]??'',_0x24b138=_0x35da09[_0x1bb423(0x144)];}else _0x586738='1',_0x2483f8=getNextCode(products),_0x23f18a='',_0x12a8c2='',_0xe74853='',_0x24b138='';document['getElementById'](_0x1bb423(0x1ab))[_0x1bb423(0x196)]=_0x586738,document[_0x1bb423(0x19d)](_0x1bb423(0x155))['value']=_0x2483f8,document[_0x1bb423(0x19d)](_0x1bb423(0xfa))[_0x1bb423(0x196)]=_0x23f18a,document[_0x1bb423(0x19d)](_0x1bb423(0xde))[_0x1bb423(0x196)]=_0x12a8c2,document[_0x1bb423(0x19d)](_0x1bb423(0x1a4))[_0x1bb423(0x196)]=_0xe74853,document['getElementById'](_0x1bb423(0xe4))[_0x1bb423(0x196)]=_0x24b138,baseItem[_0x1bb423(0x156)]=_0x586738,baseItem[_0x1bb423(0xf3)]=_0x2483f8,baseItem[_0x1bb423(0xb2)]=_0x23f18a,baseItem[_0x1bb423(0x118)]=_0x12a8c2,baseItem['setItemDateExpiry']=_0xe74853,baseItem[_0x1bb423(0x144)]=_0x24b138,document[_0x1bb423(0x19d)](_0x1bb423(0xe9))[_0x1bb423(0x1da)]=![];}function initializeFormTax(_0x1da05d=0x0){var _0x22644d=_0x5946f8;let _0x585b33;if(_0x1da05d!=0x0){const _0x4cdb13=products[_0x22644d(0xf9)](_0x405730=>_0x405730['id']==_0x1da05d);_0x585b33=_0x4cdb13[_0x22644d(0x131)];}else _0x585b33=myCompany[_0x22644d(0x1a1)];const _0x2cf6b1=document[_0x22644d(0x19d)](_0x22644d(0xc7));_0x2cf6b1[_0x22644d(0x196)]=_0x585b33,baseItem[_0x22644d(0xe0)]=_0x585b33;const _0xfc9d05=company[0x0]['setImpuestos'][_0x22644d(0xf9)](_0x29b826=>_0x29b826['setTaxId']==_0x585b33)?.[_0x22644d(0x11f)]||0x0,_0xc15d8=company[0x0]['setImpuestos']['find'](_0x12f0aa=>_0x12f0aa['setTaxId']==_0x585b33)?.[_0x22644d(0x11d)]||0x0;baseItem[_0x22644d(0xea)]=_0xfc9d05,baseItem[_0x22644d(0x1ae)]=_0xc15d8;}function initializeFormCategoriesBrands(_0x31d9ea=0x0){var _0x282940=_0x5946f8;baseItem['setItemCategories']=[],baseItem[_0x282940(0x16a)]=[],document[_0x282940(0xb9)](_0x282940(0x17f))[_0x282940(0x146)]='',document[_0x282940(0xb9)](_0x282940(0x102))[_0x282940(0x146)]='',document['querySelector']('#newItem_brands_select\x20.selected_tags')[_0x282940(0x146)]='',document[_0x282940(0xb9)](_0x282940(0x176))[_0x282940(0x146)]='';const _0x3f92bc=myCompany[_0x282940(0xa7)][_0x282940(0x197)](_0x557148=>({'setCode':_0x557148[_0x282940(0x14e)],'setName':_0x557148[_0x282940(0x14e)]})),_0x59a252=myCompany[_0x282940(0x16a)][_0x282940(0x197)](_0x3e037d=>({'setCode':_0x3e037d['setItemBrandName'],'setName':_0x3e037d[_0x282940(0xa3)]}));initMulti('newItem_categories_select',_0x3f92bc),initMulti('newItem_brands_select',_0x59a252),document[_0x282940(0x19d)](_0x282940(0x122))[_0x282940(0xfe)](_0x282940(0xfb),function(_0x3c2bd1){var _0x5e5188=_0x282940;baseItem[_0x5e5188(0xa7)]=_0x3c2bd1[_0x5e5188(0x1b5)][_0x5e5188(0x197)](_0xb22f47=>_0xb22f47[_0x5e5188(0x1de)]);}),document[_0x282940(0x19d)](_0x282940(0xc5))['addEventListener'](_0x282940(0xfb),function(_0x4bf77b){var _0x367e40=_0x282940;baseItem[_0x367e40(0x16a)]=_0x4bf77b[_0x367e40(0x1b5)][_0x367e40(0x197)](_0x375038=>_0x375038[_0x367e40(0x1de)]);});if(_0x31d9ea!=0x0){const _0x417e60=products[_0x282940(0xf9)](_0x5d6a50=>_0x5d6a50['id']==_0x31d9ea);if(_0x417e60[_0x282940(0x1bc)]){const _0x322f84=document['getElementById'](_0x282940(0x122)),_0x4c4adc=Array[_0x282940(0x153)](_0x322f84[_0x282940(0x1c8)](_0x282940(0x1d2)))[_0x282940(0xf9)](_0x49f439=>_0x49f439[_0x282940(0x9c)][_0x282940(0x142)]==_0x417e60[_0x282940(0x1bc)]);_0x4c4adc&&_0x4c4adc[_0x282940(0x121)]();}if(_0x417e60[_0x282940(0xf5)]){const _0x37875f=document['getElementById'](_0x282940(0xc5)),_0x2caf6f=Array['from'](_0x37875f[_0x282940(0x1c8)](_0x282940(0x1d2)))[_0x282940(0xf9)](_0x205cfe=>_0x205cfe[_0x282940(0x9c)][_0x282940(0x142)]==_0x417e60[_0x282940(0xf5)]);_0x2caf6f&&_0x2caf6f[_0x282940(0x121)]();}}}function _0x2fbd(_0x2744bf,_0x3e2559){var _0x2e3c15=_0x3fe6();return _0x2fbd=function(_0x1847ac,_0x201979){_0x1847ac=_0x1847ac-0x92;var _0x1b8cc7=_0x2e3c15[_0x1847ac];return _0x1b8cc7;},_0x2fbd(_0x2744bf,_0x3e2559);}function initializeFormUnits(){var _0xe30076=_0x5946f8;unitCount=0x0,document['getElementById'](_0xe30076(0x119))['innerHTML']='',baseItem[_0xe30076(0xa8)]=[];var _0x1c0555=uniqueValuesArray(_0xe30076(0xd7),'setUnitName',myCompany['setUnits']);addUnit('',_0x1c0555[0x3a]&&_0x1c0555[0x3a][_0xe30076(0x1de)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x1fca9a=_0x5946f8;prodC[_0x1fca9a(0x146)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x4856c7=_0x5946f8;branchesC[_0x4856c7(0x146)]='',baseItem[_0x4856c7(0xce)]=[];const _0x21688c=getAllWarehouses();_0x21688c['forEach'](function(_0x42e9f1){var _0x20cdfc=_0x4856c7,_0x5e9565=document[_0x20cdfc(0x12d)](_0x20cdfc(0x116));_0x5e9565[_0x20cdfc(0x146)]=_0x20cdfc(0x161)+_0x20cdfc(0x18b)+_0x20cdfc(0x151)+_0x42e9f1[_0x20cdfc(0x1a9)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x42e9f1['setWarehouseName']+_0x20cdfc(0xe8)+_0x20cdfc(0x1c3)+'<div\x20class=\x22newItem_col\x22>'+_0x20cdfc(0x1aa)+_0x42e9f1[_0x20cdfc(0x1a9)]+'\x22>'+_0x20cdfc(0x1c3)+_0x20cdfc(0x18b)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x42e9f1['setWarehouseId']+'\x22>'+_0x20cdfc(0x1c3)+_0x20cdfc(0x1c3),branchesC[_0x20cdfc(0x17b)](_0x5e9565),_0x5e9565[_0x20cdfc(0x1c8)](_0x20cdfc(0x182))[_0x20cdfc(0xe3)](function(_0xe40cf7){var _0x3a953b=_0x20cdfc;_0xe40cf7[_0x3a953b(0xfe)](_0x3a953b(0x182),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x10304b=_0x5946f8;baseItem[_0x10304b(0x1b4)]='',baseItem['setItemVariantValues']={},vgC[_0x10304b(0x146)]='',varContainer[_0x10304b(0x146)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xfb417a,_0x56122a,_0x4930fc=![]){var _0x5751fb=_0x5946f8;const _0x821d8e=0xc8,_0x17d025={'apiPOSsendOffline':'1','setTipoOperacion':_0x5751fb(0xf4),'setToken':company[0x0][_0x5751fb(0x172)],'setWebhook':company[0x0]['setWebhook']};for(let _0x2e5aea=0x0;_0x2e5aea<_0x56122a[_0x5751fb(0x137)];_0x2e5aea+=_0x821d8e){const _0x16faaa=_0x56122a['slice'](_0x2e5aea,_0x2e5aea+_0x821d8e);await storeOfflineProduct({..._0x17d025,'newItems':_0x16faaa});}products['push'](..._0xfb417a),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x5751fb(0xf0)),_0x4930fc?(fileInput[_0x5751fb(0x196)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar['style']['display']=_0x5751fb(0xf1),progressBar[_0x5751fb(0x196)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}