/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.9
*/

var _0xafa6d=_0xb035;(function(_0x326d93,_0x25d5b0){var _0x244948=_0xb035,_0x2a22d8=_0x326d93();while(!![]){try{var _0x1f4c18=-parseInt(_0x244948(0x101))/0x1*(-parseInt(_0x244948(0x1da))/0x2)+parseInt(_0x244948(0x139))/0x3+parseInt(_0x244948(0x11a))/0x4*(-parseInt(_0x244948(0x1ea))/0x5)+parseInt(_0x244948(0x1ac))/0x6*(-parseInt(_0x244948(0x20a))/0x7)+parseInt(_0x244948(0xee))/0x8+-parseInt(_0x244948(0x21d))/0x9*(-parseInt(_0x244948(0x1ae))/0xa)+-parseInt(_0x244948(0xf5))/0xb;if(_0x1f4c18===_0x25d5b0)break;else _0x2a22d8['push'](_0x2a22d8['shift']());}catch(_0x471e6c){_0x2a22d8['push'](_0x2a22d8['shift']());}}}(_0x13c1,0x2138a));var _0x27bede=(function(){var _0x437a89=!![];return function(_0x3740a6,_0x3e4d4e){var _0x35d4cc=_0x437a89?function(){if(_0x3e4d4e){var _0x53073e=_0x3e4d4e['apply'](_0x3740a6,arguments);return _0x3e4d4e=null,_0x53073e;}}:function(){};return _0x437a89=![],_0x35d4cc;};}()),_0x3cad35=_0x27bede(this,function(){var _0x19a76b=_0xb035;return _0x3cad35[_0x19a76b(0x1b7)]()['search'](_0x19a76b(0x13d))[_0x19a76b(0x1b7)]()['constructor'](_0x3cad35)[_0x19a76b(0x222)](_0x19a76b(0x13d));});_0x3cad35();var _0x2b5c80=(function(){var _0x385720=!![];return function(_0x53af03,_0x578dbd){var _0x3b7fa2=_0x385720?function(){var _0x38ca95=_0xb035;if(_0x578dbd){var _0x1856ea=_0x578dbd[_0x38ca95(0xf7)](_0x53af03,arguments);return _0x578dbd=null,_0x1856ea;}}:function(){};return _0x385720=![],_0x3b7fa2;};}()),_0x48438c=_0x2b5c80(this,function(){var _0x1bc008=_0xb035,_0x26c12d;try{var _0x5ec331=Function(_0x1bc008(0x1ce)+_0x1bc008(0x1a3)+');');_0x26c12d=_0x5ec331();}catch(_0x2d45e0){_0x26c12d=window;}var _0x29c46b=_0x26c12d[_0x1bc008(0x1f3)]=_0x26c12d[_0x1bc008(0x1f3)]||{},_0x5b605c=[_0x1bc008(0x11c),_0x1bc008(0xeb),_0x1bc008(0x166),_0x1bc008(0x1f1),_0x1bc008(0x20f),_0x1bc008(0x112),_0x1bc008(0x179)];for(var _0x37d61b=0x0;_0x37d61b<_0x5b605c[_0x1bc008(0x11e)];_0x37d61b++){var _0x4fba1b=_0x2b5c80[_0x1bc008(0x19a)][_0x1bc008(0x1d7)][_0x1bc008(0x106)](_0x2b5c80),_0x3f2943=_0x5b605c[_0x37d61b],_0x1f513c=_0x29c46b[_0x3f2943]||_0x4fba1b;_0x4fba1b['__proto__']=_0x2b5c80[_0x1bc008(0x106)](_0x2b5c80),_0x4fba1b['toString']=_0x1f513c[_0x1bc008(0x1b7)][_0x1bc008(0x106)](_0x1f513c),_0x29c46b[_0x3f2943]=_0x4fba1b;}});_0x48438c();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0xafa6d(0x138)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0xafa6d(0x138)]('newItem_branches_container'),prodC=document[_0xafa6d(0x138)](_0xafa6d(0x100)),vgCount=0x0,varContainer=document['getElementById'](_0xafa6d(0x15f)),vgC=document[_0xafa6d(0x138)]('newItem_variant_groups');const fileInput=document[_0xafa6d(0x138)](_0xafa6d(0x19c)),progressBar=document[_0xafa6d(0x138)](_0xafa6d(0x219)),statusDiv=document[_0xafa6d(0x138)](_0xafa6d(0x15e)),uploadBtn=document[_0xafa6d(0x138)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0xafa6d(0x138)]('drop-zone'),removeBtn=document['getElementById']('remove-file');function showModalCreateItem(_0x8d9c79){var _0x5b2856=_0xafa6d;const _0x594cb2=document[_0x5b2856(0x138)](_0x5b2856(0x1aa)),_0x5f462a=document[_0x5b2856(0x138)](_0x5b2856(0x1ed));_0x594cb2[_0x5b2856(0x123)][_0x5b2856(0x1c5)](_0x5b2856(0x1af)),_0x5f462a[_0x5b2856(0x1a8)][_0x5b2856(0x20b)]='block';const _0x2a1c89=document['getElementById']('setItemFree');_0x2a1c89[_0x5b2856(0x199)]=parseInt(_0x8d9c79),baseItem['setItemFree']=parseInt(_0x8d9c79);const _0x582686=document[_0x5b2856(0x138)](_0x5b2856(0x12b));_0x8d9c79==0x0&&(_0x582686[_0x5b2856(0x17e)]=_0x5b2856(0x1b5));_0x8d9c79==0x1&&(_0x582686[_0x5b2856(0x17e)]='Producto\x20Libre');const _0x3da490=document[_0x5b2856(0x1ff)](_0x5b2856(0xe2));for(let _0x281258=0x0;_0x281258<_0x3da490[_0x5b2856(0x11e)];_0x281258++){const _0x30bd81=_0x3da490[_0x281258];if(_0x8d9c79==0x0)_0x30bd81[_0x5b2856(0x123)]['remove'](_0x5b2856(0x10a));else _0x8d9c79==0x1&&_0x30bd81[_0x5b2856(0x123)][_0x5b2856(0x1c5)]('hidden');}}function hideModalCreateItem(){var _0x327c2c=_0xafa6d;const _0x4429b1=document[_0x327c2c(0x138)]('detalleModalCreateItem'),_0x1c6b07=document[_0x327c2c(0x138)](_0x327c2c(0x1ed));_0x4429b1[_0x327c2c(0x123)]['remove'](_0x327c2c(0x1af)),_0x1c6b07[_0x327c2c(0x1a8)]['display']=_0x327c2c(0x17a);}document[_0xafa6d(0x138)](_0xafa6d(0x164))[_0xafa6d(0x145)](_0xafa6d(0x128),hideModalCreateItem),document[_0xafa6d(0x138)](_0xafa6d(0x1ed))['addEventListener'](_0xafa6d(0x128),_0x3a628d=>{var _0x4902ff=_0xafa6d;_0x3a628d['target']==_0x3a628d['currentTarget']&&_0x3a628d[_0x4902ff(0x14d)]();});function loadTaxData(){var _0x33e538=_0xafa6d;const _0x366266=document['getElementById'](_0x33e538(0x160));_0x366266[_0x33e538(0x17e)]='',company[0x0]['setImpuestos'][_0x33e538(0x182)](function(_0x96f896){var _0x15a24f=_0x33e538;const _0x4909cb=document[_0x15a24f(0x1e0)]('option');_0x4909cb['value']=_0x96f896[_0x15a24f(0x1d0)],_0x4909cb[_0x15a24f(0x17e)]=_0x96f896[_0x15a24f(0xff)]+'\x20('+_0x96f896[_0x15a24f(0x162)]+'%)',_0x96f896[_0x15a24f(0x1d0)]==company[0x0][_0x15a24f(0x173)]&&(_0x4909cb[_0x15a24f(0x200)]=!![]),_0x366266[_0x15a24f(0xf1)](_0x4909cb);});}function uniqueValuesArray(_0x5c2c24,_0x557d69,_0x216de8){var _0x5a1ae1=_0xafa6d;const _0x13787a=Array[_0x5a1ae1(0xe3)](new Set(_0x216de8['map'](_0x29bcec=>{var _0x384974=_0x5a1ae1;const _0x8901c6=_0x29bcec[_0x5c2c24];return typeof _0x8901c6===_0x384974(0x1a5)?_0x8901c6[_0x384974(0xde)]():_0x8901c6;})[_0x5a1ae1(0x214)](_0x234f5c=>_0x234f5c!=null&&_0x234f5c!=='')));return _0x13787a['map'](_0x1ce4c2=>{var _0x224f46=_0x5a1ae1;const _0x1a076f=_0x216de8[_0x224f46(0x191)](_0x3d888a=>_0x3d888a[_0x5c2c24]===_0x1ce4c2),_0x45af35=_0x1a076f&&_0x1a076f[_0x557d69]!=null?String(_0x1a076f[_0x557d69])[_0x224f46(0xde)]():_0x1ce4c2;return{'setCode':_0x1ce4c2,'setName':_0x45af35};});}function fillSelect(_0x3c0b16,_0x32fd70,_0x59fa12,_0x12ff72){var _0xc48091=_0xafa6d;_0x3c0b16[_0xc48091(0x17e)]='',_0x32fd70[_0xc48091(0x182)](function(_0x38237e){var _0x43ff10=_0xc48091,_0x10bedf=new Option(_0x38237e[_0x12ff72],_0x38237e[_0x59fa12]);_0x3c0b16[_0x43ff10(0x1c5)](_0x10bedf);});}function initMulti(_0x32747b,_0x4c99ac){var _0x2d1345=_0xafa6d,_0x29b124=document['getElementById'](_0x32747b),_0xc2a1d3=_0x29b124[_0x2d1345(0x1db)](_0x2d1345(0x18e)),_0x33090d=_0x29b124[_0x2d1345(0x1db)]('.options_list'),_0x483d88=_0x29b124[_0x2d1345(0x1db)](_0x2d1345(0x22a)),_0x9c80d9=_0x4c99ac['slice'](),_0xe34d7e=[];function _0x3e732a(){var _0x55df36=_0x2d1345;const _0x284558=_0xc2a1d3[_0x55df36(0x199)][_0x55df36(0xde)]();if(!_0x284558)return;const _0x4a7030=_0xe34d7e[_0x55df36(0x186)](_0x37dada=>_0x37dada[_0x55df36(0x141)]===_0x284558),_0x192b41=_0x9c80d9[_0x55df36(0x186)](_0x1cd960=>_0x1cd960[_0x55df36(0x141)]===_0x284558);if(!_0x4a7030&&!_0x192b41){const _0xfb278e={'setCode':_0x284558,'setName':_0x284558};_0xe34d7e[_0x55df36(0x11d)](_0xfb278e),_0x199197(),_0x332bcf();}_0xc2a1d3[_0x55df36(0x199)]='';}function _0x332bcf(){var _0x5abecf=_0x2d1345;_0x33090d[_0x5abecf(0x17e)]='',_0x9c80d9[_0x5abecf(0x214)](function(_0x59246b){var _0x342296=_0x5abecf;return _0x59246b[_0x342296(0x141)][_0x342296(0x205)]()[_0x342296(0x17f)](_0xc2a1d3['value']['toLowerCase']())!==-0x1;})[_0x5abecf(0x182)](function(_0x2e0086){var _0x3dfa09=_0x5abecf,_0x25fec6=document[_0x3dfa09(0x1e0)](_0x3dfa09(0x18d));_0x25fec6[_0x3dfa09(0x1df)]=_0x2e0086[_0x3dfa09(0x141)],_0x25fec6['dataset']['code']=_0x2e0086['setCode'],_0x33090d[_0x3dfa09(0xf1)](_0x25fec6),_0x25fec6[_0x3dfa09(0x145)](_0x3dfa09(0x128),function(){var _0x94a77e=_0x3dfa09;_0xe34d7e[_0x94a77e(0x11d)](_0x2e0086),_0x9c80d9[_0x94a77e(0x194)](_0x9c80d9[_0x94a77e(0x1f9)](function(_0x488e96){var _0x5d0517=_0x94a77e;return _0x488e96[_0x5d0517(0x19f)]===_0x2e0086[_0x5d0517(0x19f)];}),0x1),_0xc2a1d3[_0x94a77e(0x199)]='',_0x199197(),_0x332bcf();});});}function _0x199197(){var _0x18e566=_0x2d1345;_0x483d88['innerHTML']='',_0xe34d7e[_0x18e566(0x182)](function(_0xba3d32){var _0x2faa4b=_0x18e566,_0xc24c9d=document[_0x2faa4b(0x1e0)](_0x2faa4b(0x18d));_0xc24c9d[_0x2faa4b(0x1b8)]='tag',_0xc24c9d['textContent']=_0xba3d32[_0x2faa4b(0x141)];var _0x3b1b9c=document[_0x2faa4b(0x1e0)](_0x2faa4b(0x178));_0x3b1b9c['className']=_0x2faa4b(0x153),_0x3b1b9c['textContent']='×',_0x3b1b9c['addEventListener'](_0x2faa4b(0x128),function(){var _0x3aeb70=_0x2faa4b;_0x9c80d9[_0x3aeb70(0x11d)](_0xba3d32);const _0x1c7477=_0xe34d7e['findIndex'](function(_0x145803){var _0x4427aa=_0x3aeb70;return _0x145803['setCode']===_0xba3d32[_0x4427aa(0x19f)];});if(_0x1c7477>-0x1)_0xe34d7e[_0x3aeb70(0x194)](_0x1c7477,0x1);_0x199197(),_0x332bcf();}),_0xc24c9d['appendChild'](_0x3b1b9c),_0x483d88[_0x2faa4b(0xf1)](_0xc24c9d);}),_0x29b124[_0x18e566(0x192)](new CustomEvent(_0x18e566(0x12e),{'detail':_0xe34d7e,'bubbles':!![]}));}return _0xc2a1d3['addEventListener'](_0x2d1345(0x16f),function(){var _0x160941=_0x2d1345;_0x33090d['classList'][_0x160941(0x16b)](_0x160941(0x185));}),_0xc2a1d3[_0x2d1345(0x145)](_0x2d1345(0x225),_0x332bcf),_0xc2a1d3[_0x2d1345(0x145)](_0x2d1345(0x1fd),function(_0x2d81fe){var _0x18e392=_0x2d1345;_0x2d81fe[_0x18e392(0x125)]===_0x18e392(0x161)&&(_0x2d81fe['preventDefault'](),_0x3e732a());}),_0xc2a1d3[_0x2d1345(0x145)](_0x2d1345(0x204),_0x3e732a),document['addEventListener'](_0x2d1345(0x128),function(_0x549fdc){var _0x328cb7=_0x2d1345;if(!_0x29b124[_0x328cb7(0x1f2)](_0x549fdc[_0x328cb7(0x228)]))_0x33090d[_0x328cb7(0x123)][_0x328cb7(0x1c5)]('newItem_hidden');}),_0x332bcf(),_0xe34d7e;}function getLastCode(_0x2a41e2){var _0x26b340=_0xafa6d;const _0x4e4111=_0x2a41e2[_0x26b340(0x1c3)](_0x2c4bb1=>String(_0x2c4bb1[_0x26b340(0x15d)])[_0x26b340(0xde)]())[_0x26b340(0x214)](_0xae98f=>_0xae98f!=='');if(_0x4e4111[_0x26b340(0x11e)]===0x0)return'';const _0xa9fd8e=_0x4e4111['every'](_0x57c54e=>/^\d+$/['test'](_0x57c54e));if(_0xa9fd8e){const _0x3abc7a=_0x4e4111[_0x26b340(0x1c3)](Number),_0x3ef6f2=Math[_0x26b340(0x119)](..._0x3abc7a);return String(_0x3ef6f2);}let _0x24e171;if(typeof Intl!==_0x26b340(0x216)&&Intl[_0x26b340(0xdf)]){const _0x1fd66f=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x26b340(0x169)});_0x24e171=_0x4e4111[_0x26b340(0x105)]()[_0x26b340(0xe1)](_0x1fd66f[_0x26b340(0x1d6)]);}else{const _0x38f90f=_0x4e4111['every'](_0x400071=>/^\d+$/['test'](_0x400071));_0x38f90f?_0x24e171=_0x4e4111[_0x26b340(0x1c3)](Number)['sort']((_0x28710c,_0x5e05a1)=>_0x28710c-_0x5e05a1)[_0x26b340(0x1c3)](String):_0x24e171=_0x4e4111[_0x26b340(0x105)]()['sort']();}return _0x24e171[_0x24e171[_0x26b340(0x11e)]-0x1];}function getNextCode(_0x477415){var _0x247e33=_0xafa6d;const _0x4f3127=getLastCode(_0x477415);if(!_0x4f3127)return'';if(/^\d+$/[_0x247e33(0x1e9)](_0x4f3127))return String(Number(_0x4f3127)+0x1);const _0x22d755=_0x4f3127[_0x247e33(0x1e4)](/^([A-Za-z]*)(\d+)$/);if(_0x22d755){const [,_0x5e2b97,_0x56acc4]=_0x22d755,_0x290b38=String(Number(_0x56acc4)+0x1)[_0x247e33(0x10c)](_0x56acc4[_0x247e33(0x11e)],'0');return _0x5e2b97+_0x290b38;}return _0x4f3127;}document[_0xafa6d(0x138)](_0xafa6d(0x143))[_0xafa6d(0x145)]('input',function(_0x9c53ee){var _0x653c3f=_0xafa6d;baseItem['setItemName']=_0x9c53ee[_0x653c3f(0x228)]['value'];}),document['getElementById']('inputItemDescription')[_0xafa6d(0x145)](_0xafa6d(0x225),function(_0x4d5234){var _0x2b0183=_0xafa6d;baseItem['setItemDescription']=_0x4d5234[_0x2b0183(0x228)][_0x2b0183(0x199)];}),document[_0xafa6d(0x138)](_0xafa6d(0x19e))[_0xafa6d(0x145)](_0xafa6d(0x225),function(_0x16bc17){var _0x1fc9cc=_0xafa6d;baseItem[_0x1fc9cc(0x188)]=_0x16bc17[_0x1fc9cc(0x228)][_0x1fc9cc(0x199)];}),document[_0xafa6d(0x138)](_0xafa6d(0x198))[_0xafa6d(0x145)]('change',function(_0x239761){var _0x5e2444=_0xafa6d;baseItem[_0x5e2444(0x1d8)]=_0x239761[_0x5e2444(0x228)][_0x5e2444(0x199)];}),document[_0xafa6d(0x138)](_0xafa6d(0x160))[_0xafa6d(0x145)](_0xafa6d(0x201),function(_0x357500){var _0x18875f=_0xafa6d;baseItem[_0x18875f(0x197)]=_0x357500['target'][_0x18875f(0x199)];const _0x1d9cac=_0x357500[_0x18875f(0x228)]['value'],_0x18233c=company[0x0][_0x18875f(0x16c)][_0x18875f(0x191)](_0x276974=>_0x276974[_0x18875f(0x1d0)]==_0x1d9cac)?.[_0x18875f(0x1d2)]||0x0,_0x4ffe67=company[0x0]['setImpuestos'][_0x18875f(0x191)](_0x1ece55=>_0x1ece55['setTaxId']==_0x1d9cac)?.[_0x18875f(0x162)]||0x0;baseItem[_0x18875f(0x12a)]=_0x18233c,baseItem['setItemTaxValue']=_0x4ffe67;}),document[_0xafa6d(0x138)](_0xafa6d(0x148))['addEventListener'](_0xafa6d(0x201),function(_0x5a13f1){var _0x127295=_0xafa6d;baseItem[_0x127295(0x17b)]=_0x5a13f1[_0x127295(0x228)][_0x127295(0x21e)];}),document[_0xafa6d(0x138)](_0xafa6d(0x116))[_0xafa6d(0x145)]('change',function(_0x52ea17){var _0x3c0b55=_0xafa6d;baseItem[_0x3c0b55(0x1b3)]=_0x52ea17[_0x3c0b55(0x228)][_0x3c0b55(0x21e)];}),document[_0xafa6d(0x138)](_0xafa6d(0x14f))['addEventListener']('input',function(_0x50e430){var _0x1974e6=_0xafa6d;baseItem[_0x1974e6(0x215)]=_0x50e430['target'][_0x1974e6(0x199)];}),document[_0xafa6d(0x138)]('inputItemBarCode')[_0xafa6d(0x145)]('input',function(_0x3315b9){var _0x179527=_0xafa6d;baseItem['setItemBarCode']=_0x3315b9[_0x179527(0x228)][_0x179527(0x199)];}),document[_0xafa6d(0x138)](_0xafa6d(0x1e1))[_0xafa6d(0x145)]('click',function(){addUnit(),updateUnitsArray();}),document['getElementById']('inputItemCode')[_0xafa6d(0x145)](_0xafa6d(0x204),function(){var _0x119aa3=_0xafa6d;const _0x181b9c=this['value']['trim']();if(_0x181b9c==='')return;const _0x385bb1=products[_0x119aa3(0x186)](_0xbfdeaf=>_0xbfdeaf[_0x119aa3(0x15d)]==_0x181b9c),_0x39810f=getLastCode(products);_0x385bb1?ntfShow(_0x119aa3(0x126)+_0x39810f,0x2,0x1):ntfShow(_0x119aa3(0x16e),0x1,0x1);});function removeImg(_0x15a025){var _0x4d8624=_0xafa6d;currentImages[_0x15a025]=null;var _0x1d84b0=imgC[_0x4d8624(0x1db)]('[data-idx=\x22'+_0x15a025+'\x22]');_0x1d84b0[_0x4d8624(0x17e)]='';var _0x221f27=document[_0x4d8624(0x1e0)](_0x4d8624(0x225));_0x221f27[_0x4d8624(0xe9)]='file',_0x221f27[_0x4d8624(0x133)]=_0x4d8624(0xfa),_0x221f27['style']['display']=_0x4d8624(0x17a);var _0x2bf959=document[_0x4d8624(0x1e0)]('span');_0x2bf959['textContent']='+',_0x1d84b0[_0x4d8624(0xf1)](_0x221f27),_0x1d84b0[_0x4d8624(0xf1)](_0x2bf959),_0x1d84b0[_0x4d8624(0x145)]('click',function(){_0x221f27['click']();}),baseItem['setItemImages']=currentImages['filter'](function(_0x35ef0e){return _0x35ef0e;});}function addUnit(_0x2e9fa7,_0x549415,_0x39f810,_0x317dc3,_0xe8b21c,_0x4f7ef5,_0xa24009){var _0x11eb94=_0xafa6d,_0xaeaf56=uniqueValuesArray('setUnitCode',_0x11eb94(0x20d),myCompany[_0x11eb94(0x15b)]);_0x2e9fa7=_0x2e9fa7||'',_0x549415=_0x549415||_0xaeaf56[0x3a]&&_0xaeaf56[0x3a][_0x11eb94(0x19f)]||'',_0x39f810=_0x39f810!==undefined?_0x39f810:0x1,_0x317dc3=!!_0x317dc3,_0xe8b21c=_0xe8b21c||'',_0x4f7ef5=_0x4f7ef5||'';var _0x2aa651=unitCount++,_0x3a4300=document[_0x11eb94(0x1e0)](_0x11eb94(0x18d));_0x3a4300['dataset'][_0x11eb94(0x226)]=_0x2aa651,_0x3a4300[_0x11eb94(0xec)][_0x11eb94(0x155)]=_0x317dc3,_0x3a4300[_0x11eb94(0x17e)]=_0x11eb94(0x1b0)+_0x2aa651+_0x11eb94(0x174)+_0x2e9fa7+_0x11eb94(0x1fc)+_0x2aa651+_0x11eb94(0x108)+_0x2aa651+_0x11eb94(0x174)+_0x39f810+'\x22\x20'+(_0x317dc3?_0x11eb94(0x1c7):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x2aa651+_0x11eb94(0x174)+_0xe8b21c+_0x11eb94(0x187)+_0x2aa651+'\x22\x20value=\x22'+_0x4f7ef5+_0x11eb94(0x229)+(_0x317dc3?_0x11eb94(0x220):'')+_0x11eb94(0xfb),fillSelect(_0x3a4300[_0x11eb94(0x1db)](_0x11eb94(0x10b)),_0xaeaf56,_0x11eb94(0x19f),'setName'),_0x3a4300[_0x11eb94(0x1db)]('.unitSelect')[_0x11eb94(0x199)]=_0x549415,[_0x11eb94(0x18f),'unitSelect',_0x11eb94(0x207),_0x11eb94(0x15a),_0x11eb94(0x115)][_0x11eb94(0x182)](function(_0x91b513){var _0x50fc9a=_0x11eb94;_0x3a4300[_0x50fc9a(0x1db)]('.'+_0x91b513)[_0x50fc9a(0x145)](_0x50fc9a(0x225),function(){var _0x57ecd5=_0x50fc9a,_0x41c4a6=_0xa24009?+_0xa24009['id'][_0x57ecd5(0x22b)]('_')[0x1]:null;if(_0xa24009)updateVariantUnits(_0x41c4a6);else updateUnitsArray();});}),_0x3a4300['querySelector'](_0x11eb94(0x208))['addEventListener'](_0x11eb94(0x128),function(){var _0x19f030=_0x11eb94;_0x3a4300[_0x19f030(0x16b)]();var _0x28dfa0=_0xa24009?+_0xa24009['id']['split']('_')[0x1]:null;if(_0xa24009)updateVariantUnits(_0x28dfa0);else updateUnitsArray();});var _0x2e13d0=_0xa24009||document['getElementById'](_0x11eb94(0x1e5));_0x2e13d0[_0x11eb94(0xf1)](_0x3a4300);}function containerIdx(_0x5f3c9d){var _0x35efad=_0xafa6d;return+_0x5f3c9d['id'][_0x35efad(0x22b)]('_')[0x1];}function updateUnitsArray(){var _0x551dd5=_0xafa6d,_0x49edc6=[],_0x33b5ff=Array['from'](document['querySelectorAll'](_0x551dd5(0x1bb))),_0x5c64e2=_0x33b5ff['find'](_0x528e07=>_0x528e07[_0x551dd5(0xec)][_0x551dd5(0x155)]===_0x551dd5(0x1f4)),_0x147d8b=_0x5c64e2?+_0x5c64e2[_0x551dd5(0x1db)](_0x551dd5(0x1ef))['value']:0x1;_0x33b5ff[_0x551dd5(0x182)](function(_0x4149ad){var _0x344fc6=_0x551dd5,_0x5778d1=+_0x4149ad[_0x344fc6(0x1db)](_0x344fc6(0x1ef))[_0x344fc6(0x199)]||0x0,_0x45aa67=+_0x4149ad[_0x344fc6(0x1db)](_0x344fc6(0x209))[_0x344fc6(0x199)]||0x0,_0x14ea50=+_0x4149ad[_0x344fc6(0x1db)](_0x344fc6(0x1b6))[_0x344fc6(0x199)]||0x0;_0x49edc6[_0x344fc6(0x11d)]({'setAlias':_0x4149ad['querySelector']('.unitAlias')[_0x344fc6(0x199)][_0x344fc6(0xde)](),'setUnitCode':_0x4149ad[_0x344fc6(0x1db)](_0x344fc6(0x10b))[_0x344fc6(0x199)],'setEquivalence':_0x5778d1,'setFactor':_0x4149ad[_0x344fc6(0xec)][_0x344fc6(0x155)]===_0x344fc6(0x1f4)?0x1:_0x5778d1==_0x147d8b?0x1:_0x5778d1<_0x147d8b?_0x147d8b/_0x5778d1:_0x5778d1/_0x147d8b,'setPrice':_0x45aa67,'setCost':_0x14ea50,'setDefault':_0x4149ad[_0x344fc6(0xec)][_0x344fc6(0x155)]===_0x344fc6(0x1f4)?0x1:0x0});}),baseItem[_0x551dd5(0x1ad)]=_0x49edc6;}function updateBranches(){var _0x4b338a=_0xafa6d,_0x28f173=[];document[_0x4b338a(0x1dd)](_0x4b338a(0x180))[_0x4b338a(0x182)](function(_0x7e8fc4){var _0x526227=_0x4b338a,_0x22a397=_0x7e8fc4['querySelector']('.branchChk');if(_0x22a397[_0x526227(0x21e)]){var _0x2c20bf=+_0x22a397[_0x526227(0xec)]['id'],_0x33b53b=+_0x7e8fc4[_0x526227(0x1db)](_0x526227(0xef))[_0x526227(0x199)],_0xa3c15d=+_0x7e8fc4['querySelector']('.branchMin')[_0x526227(0x199)];_0x28f173[_0x526227(0x11d)]({'setWarehouseCode':_0x2c20bf,'setStockInitial':_0x33b53b,'setStockMinimum':_0xa3c15d});}}),baseItem[_0x4b338a(0x1fb)]=_0x28f173;}document[_0xafa6d(0x138)](_0xafa6d(0x20e))[_0xafa6d(0x145)](_0xafa6d(0x128),function(){var _0x38e3e7=_0xafa6d,_0x2e227f=Date[_0x38e3e7(0x118)](),_0x540944=document[_0x38e3e7(0x1e0)]('div');_0x540944[_0x38e3e7(0xec)][_0x38e3e7(0x226)]=_0x2e227f,_0x540944[_0x38e3e7(0x17e)]=_0x38e3e7(0x16d)+_0x2e227f+_0x38e3e7(0x1eb)+_0x2e227f+_0x38e3e7(0xfe),prodC[_0x38e3e7(0xf1)](_0x540944),initProdSearch(_0x540944[_0x38e3e7(0x1db)](_0x38e3e7(0x1cf))),_0x540944[_0x38e3e7(0x1db)]('.removeProd')['addEventListener'](_0x38e3e7(0x128),function(){var _0x2fd634=_0x38e3e7;_0x540944[_0x2fd634(0x16b)](),updateProdItems();}),_0x540944[_0x38e3e7(0x1db)](_0x38e3e7(0x1ec))[_0x38e3e7(0x145)](_0x38e3e7(0x225),updateProdItems),document[_0x38e3e7(0x138)]('newItem_title_table_cp')[_0x38e3e7(0x123)]['toggle'](_0x38e3e7(0x1b9),!![]),document[_0x38e3e7(0x138)]('newItem_title_table_cp')[_0x38e3e7(0x123)][_0x38e3e7(0x159)](_0x38e3e7(0x185),![]);});function initProdSearch(_0x1422cd,_0x4303d9){var _0x5238a5=_0xafa6d,_0x56309d=_0x1422cd[_0x5238a5(0x1db)](_0x5238a5(0x1e2)),_0x44422d=_0x1422cd[_0x5238a5(0x1db)](_0x5238a5(0x144)),_0x1f7dfe=_0x4303d9||null;if(_0x4303d9)_0x56309d['value']=_0x4303d9[_0x5238a5(0x224)];_0x56309d['addEventListener'](_0x5238a5(0x225),function(){var _0x5306ed=_0x5238a5,_0x10b82f=_0x56309d[_0x5306ed(0x199)][_0x5306ed(0x205)]()['trim']();_0x44422d[_0x5306ed(0x17e)]='';if(!_0x10b82f)return;products[_0x5306ed(0x214)](_0x49a3cf=>_0x49a3cf[_0x5306ed(0xe4)][_0x5306ed(0x205)]()[_0x5306ed(0x136)](_0x10b82f))[_0x5306ed(0x105)](0x0,0x14)[_0x5306ed(0x182)](function(_0x519441){var _0x5029c9=_0x5306ed,_0x43cc1a=document[_0x5029c9(0x1e0)]('div');_0x43cc1a[_0x5029c9(0x1df)]=_0x519441[_0x5029c9(0xe4)],_0x43cc1a[_0x5029c9(0xec)]['id']=_0x519441['id'],_0x43cc1a[_0x5029c9(0xec)]['name']=_0x519441['setDescripcion'],_0x44422d[_0x5029c9(0xf1)](_0x43cc1a),_0x43cc1a[_0x5029c9(0x145)](_0x5029c9(0x128),function(){var _0x58d0ce=_0x5029c9;_0x1f7dfe={'id':_0x519441['id'],'name':_0x519441[_0x58d0ce(0xe4)]},_0x56309d[_0x58d0ce(0x199)]=_0x519441[_0x58d0ce(0xe4)],_0x44422d[_0x58d0ce(0x17e)]='';var _0x2748fe=_0x1422cd[_0x58d0ce(0x104)](_0x58d0ce(0x181));if(_0x2748fe){var _0x438289=+_0x2748fe['id'][_0x58d0ce(0x22b)]('_')[0x1];updateVariantComponents(_0x438289);}else updateProdItems();});});}),_0x56309d[_0x5238a5(0x145)](_0x5238a5(0x16f),function(){var _0x4be1fd=_0x5238a5;_0x44422d[_0x4be1fd(0x123)][_0x4be1fd(0x16b)]('newItem_hidden');}),document[_0x5238a5(0x145)](_0x5238a5(0x128),function(_0x2b4937){var _0x4082eb=_0x5238a5;if(!_0x1422cd[_0x4082eb(0x1f2)](_0x2b4937[_0x4082eb(0x228)]))_0x44422d['classList'][_0x4082eb(0x1c5)](_0x4082eb(0x185));}),Object['defineProperty'](_0x1422cd,_0x5238a5(0x1f0),{'get':()=>_0x1f7dfe});}function updateProdItems(){var _0x385c78=_0xafa6d,_0x5ccfc9=[];Array[_0x385c78(0xe3)](prodC['children'])[_0x385c78(0x182)](function(_0x4f8319){var _0x56ce27=_0x385c78,_0x50da92=_0x4f8319[_0x56ce27(0x1db)](_0x56ce27(0x1cf));if(!_0x50da92)return;var _0x3ef6a7=_0x4f8319[_0x56ce27(0x1db)](_0x56ce27(0x1ec)),_0x2edc00=_0x50da92[_0x56ce27(0x1f0)];_0x2edc00&&_0x5ccfc9[_0x56ce27(0x11d)]({'setItemId':_0x2edc00['id'],'setDescripcion':_0x2edc00[_0x56ce27(0x224)],'setCantidad':+_0x3ef6a7[_0x56ce27(0x199)]});}),baseItem[_0x385c78(0x18a)]=_0x5ccfc9,_0x5ccfc9[_0x385c78(0x11e)]===0x0&&(document[_0x385c78(0x138)](_0x385c78(0x17d))['classList'][_0x385c78(0x159)](_0x385c78(0x1b9),![]),document[_0x385c78(0x138)]('newItem_title_table_cp')[_0x385c78(0x123)][_0x385c78(0x159)](_0x385c78(0x185),!![]));}document[_0xafa6d(0x138)](_0xafa6d(0x1d1))[_0xafa6d(0x145)](_0xafa6d(0x128),function(){var _0x3c3782=_0xafa6d,_0x49f4dc=vgCount++,_0x778824=document[_0x3c3782(0x1e0)](_0x3c3782(0x18d));_0x778824[_0x3c3782(0xec)][_0x3c3782(0x226)]=_0x49f4dc,_0x778824[_0x3c3782(0x17e)]=_0x3c3782(0x140)+_0x49f4dc+'\x22>'+_0x3c3782(0x120)+_0x49f4dc+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x3c3782(0xf1)](_0x778824),_0x778824[_0x3c3782(0x1db)](_0x3c3782(0x211))[_0x3c3782(0x145)](_0x3c3782(0x204),generateVariants),_0x778824['querySelector'](_0x3c3782(0x213))[_0x3c3782(0x145)](_0x3c3782(0x204),generateVariants),_0x778824[_0x3c3782(0x1db)](_0x3c3782(0x156))[_0x3c3782(0x145)]('click',function(){_0x778824['remove'](),generateVariants();});});function generateVariants(){var _0x1a19fc=_0xafa6d,_0x3fedf8=[];vgC[_0x1a19fc(0x1dd)]('div')[_0x1a19fc(0x182)](function(_0x101681){var _0x460670=_0x1a19fc,_0x3fd516=_0x101681[_0x460670(0x1db)](_0x460670(0x211))[_0x460670(0x199)]['trim'](),_0x5f3a44=_0x101681[_0x460670(0x1db)](_0x460670(0x213))[_0x460670(0x199)]['split'](',')[_0x460670(0x1c3)](_0x9ea1cb=>_0x9ea1cb[_0x460670(0xde)]())['filter'](_0x90901d=>_0x90901d);if(_0x3fd516&&_0x5f3a44['length'])_0x3fedf8[_0x460670(0x11d)]({'name':_0x3fd516,'vals':_0x5f3a44});});var _0x1b4b87=[{}];_0x3fedf8[_0x1a19fc(0x182)](function(_0x783dd1){_0x1b4b87=_0x1b4b87['flatMap'](function(_0x4446c0){var _0x6a7beb=_0xb035;return _0x783dd1[_0x6a7beb(0x129)]['map'](function(_0xe32967){var _0x51bb32=_0x6a7beb,_0xe4b374=Object[_0x51bb32(0x1d4)]({},_0x4446c0);return _0xe4b374[_0x783dd1[_0x51bb32(0x224)]]=_0xe32967,_0xe4b374;});});}),newItems=[],varContainer[_0x1a19fc(0x17e)]='',_0x1b4b87[_0x1a19fc(0x182)](function(_0x4d06d2,_0x4a40f6){var _0xfed7b9=_0x1a19fc,_0x20f199=JSON['parse'](JSON[_0xfed7b9(0x1d5)](baseItem));_0x20f199[_0xfed7b9(0x170)]=_0x4d06d2,_0x20f199[_0xfed7b9(0x1c2)]=baseItem['setItemName']+'\x20'+Object[_0xfed7b9(0xf4)](_0x4d06d2)[_0xfed7b9(0x1c3)](_0x32994d=>_0x32994d[0x0]+'\x20'+_0x32994d[0x1])['join']('\x20'),newItems['push'](_0x20f199);var _0x3de7ac=document[_0xfed7b9(0x1e0)](_0xfed7b9(0x18d));_0x3de7ac[_0xfed7b9(0x123)]['add'](_0xfed7b9(0x13a)),_0x3de7ac[_0xfed7b9(0xec)]['idx']=_0x4a40f6,_0x3de7ac[_0xfed7b9(0x17e)]=_0xfed7b9(0x22d)+_0x20f199[_0xfed7b9(0x1c2)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x20f199[_0xfed7b9(0x215)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x20f199[_0xfed7b9(0x196)]+_0xfed7b9(0x154)+_0x20f199[_0xfed7b9(0x188)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4a40f6+_0xfed7b9(0x132)+_0x4a40f6+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x4a40f6+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x3de7ac),_0x3de7ac['querySelector']('.variantCode')[_0xfed7b9(0x145)](_0xfed7b9(0x225),_0x528142=>newItems[_0x4a40f6][_0xfed7b9(0x215)]=_0x528142[_0xfed7b9(0x228)][_0xfed7b9(0x199)]),_0x3de7ac[_0xfed7b9(0x1db)]('.variantBarCode')[_0xfed7b9(0x145)](_0xfed7b9(0x225),_0x1f9178=>newItems[_0x4a40f6][_0xfed7b9(0x196)]=_0x1f9178['target'][_0xfed7b9(0x199)]),_0x3de7ac['querySelector'](_0xfed7b9(0x1b1))[_0xfed7b9(0x145)]('change',_0x4bb5f0=>newItems[_0x4a40f6][_0xfed7b9(0x188)]=_0x4bb5f0[_0xfed7b9(0x228)]['value']),initVariantUnits(_0x4a40f6),initVariantComponents(_0x4a40f6),initVariantBranches(_0x4a40f6),_0x3de7ac[_0xfed7b9(0x1db)]('.removeVariant')['addEventListener'](_0xfed7b9(0x128),function(){var _0xd1fbe0=_0xfed7b9,_0x323af6=+_0x3de7ac[_0xd1fbe0(0xec)]['idx'];newItems[_0xd1fbe0(0x194)](_0x323af6,0x1),_0x3de7ac[_0xd1fbe0(0x16b)](),document[_0xd1fbe0(0x1dd)](_0xd1fbe0(0x158))[_0xd1fbe0(0x182)](function(_0x289e35,_0x1857a5){var _0x45543c=_0xd1fbe0;_0x289e35['dataset'][_0x45543c(0x226)]=_0x1857a5;});});});if(newItems[_0x1a19fc(0x11e)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x826df8){var _0x1547fc=_0xafa6d,_0x3f0ace=document[_0x1547fc(0x138)](_0x1547fc(0xed)+_0x826df8+_0x1547fc(0x127)),_0x245366=[];Array[_0x1547fc(0xe3)](_0x3f0ace[_0x1547fc(0x113)])['forEach'](function(_0x47ef71){var _0x3df04d=_0x1547fc,_0x4515ed=+_0x47ef71['querySelector'](_0x3df04d(0x1ef))[_0x3df04d(0x199)]||0x0,_0x229da5=_0x47ef71[_0x3df04d(0x1db)](_0x3df04d(0xfd))[_0x3df04d(0x199)][_0x3df04d(0xde)](),_0x12acd7=_0x47ef71['querySelector'](_0x3df04d(0x10b))[_0x3df04d(0x199)],_0xa38397=+_0x47ef71['querySelector']('.priceInput')['value']||0x0,_0x1ac5f9=+_0x47ef71[_0x3df04d(0x1db)]('.costInput')[_0x3df04d(0x199)]||0x0,_0x2e3691=_0x47ef71[_0x3df04d(0xec)][_0x3df04d(0x155)]===_0x3df04d(0x1f4),_0x2cbbea=+_0x3f0ace[_0x3df04d(0x1db)](_0x3df04d(0x1a2))[_0x3df04d(0x199)]||0x1,_0x1155c1=_0x2e3691?0x1:_0x4515ed==_0x2cbbea?0x1:_0x4515ed<_0x2cbbea?_0x2cbbea/_0x4515ed:_0x4515ed/_0x2cbbea;_0x245366[_0x3df04d(0x11d)]({'setAlias':_0x229da5,'setUnitCode':_0x12acd7,'setEquivalence':_0x4515ed,'setFactor':_0x1155c1,'setPrice':_0xa38397,'setCost':_0x1ac5f9,'setDefault':_0x2e3691?0x1:0x0});}),newItems[_0x826df8][_0x1547fc(0x1ad)]=_0x245366;}function initVariantUnits(_0x347a57){var _0x8f9c95=_0xafa6d,_0x1f0f04=document['getElementById']('variant_'+_0x347a57+_0x8f9c95(0x127));_0x1f0f04[_0x8f9c95(0x17e)]='',newItems[_0x347a57]['setItemUnits'][_0x8f9c95(0x182)](function(_0x4e7e84){var _0x5910b8=_0x8f9c95;addUnit(_0x4e7e84['setAlias'],_0x4e7e84[_0x5910b8(0x1cc)],_0x4e7e84['setEquivalence'],_0x4e7e84[_0x5910b8(0x10e)],_0x4e7e84[_0x5910b8(0xf0)],_0x4e7e84[_0x5910b8(0x18b)],_0x1f0f04);}),_0x1f0f04[_0x8f9c95(0x13b)][_0x8f9c95(0x1db)]('.addVariantUnit')['addEventListener'](_0x8f9c95(0x128),function(){addUnit('','',0x1,![],'','',_0x1f0f04),updateVariantUnits(_0x347a57);});}function updateVariantUnits(_0x2e1b37){var _0xcf4fda=_0xafa6d,_0x24efcf=document[_0xcf4fda(0x138)](_0xcf4fda(0xed)+_0x2e1b37+_0xcf4fda(0x127)),_0x23fa87=_0x24efcf[_0xcf4fda(0x1db)](_0xcf4fda(0x1a2)),_0x1ec55a=_0x23fa87?+_0x23fa87[_0xcf4fda(0x199)]:0x1,_0x546798=Array['from'](_0x24efcf[_0xcf4fda(0x113)])[_0xcf4fda(0x1c3)](function(_0x594895){var _0x561f52=_0xcf4fda,_0xa7992e=_0x594895[_0x561f52(0x1db)](_0x561f52(0xfd))[_0x561f52(0x199)]['trim'](),_0x30df99=_0x594895[_0x561f52(0x1db)]('.unitSelect')[_0x561f52(0x199)],_0xccf797=+_0x594895[_0x561f52(0x1db)](_0x561f52(0x1ef))[_0x561f52(0x199)]||0x0,_0x55059f=+_0x594895[_0x561f52(0x1db)](_0x561f52(0x209))[_0x561f52(0x199)]||0x0,_0x5157e3=+_0x594895[_0x561f52(0x1db)]('.costInput')['value']||0x0,_0x1bc4b0=_0x594895[_0x561f52(0xec)][_0x561f52(0x155)]==='true';return{'setAlias':_0xa7992e,'setUnitCode':_0x30df99,'setEquivalence':_0xccf797,'setFactor':_0x1bc4b0?0x1:_0xccf797==_0x1ec55a?0x1:_0xccf797<_0x1ec55a?_0x1ec55a/_0xccf797:_0xccf797/_0x1ec55a,'setPrice':_0x55059f,'setCost':_0x5157e3,'setDefault':_0x1bc4b0?0x1:0x0};});newItems[_0x2e1b37][_0xcf4fda(0x1ad)]=_0x546798;}function initVariantComponents(_0x1bcfed){var _0x35d005=_0xafa6d,_0x37817a=document['getElementById'](_0x35d005(0xed)+_0x1bcfed+_0x35d005(0x11b));_0x37817a[_0x35d005(0x17e)]='',newItems[_0x1bcfed][_0x35d005(0x18a)][_0x35d005(0x182)](function(_0x1a68ad){var _0x175b2f=_0x35d005,_0x2ceae7=document['createElement'](_0x175b2f(0x18d)),_0x5c1f3f=Date[_0x175b2f(0x118)]();_0x2ceae7[_0x175b2f(0xec)][_0x175b2f(0x226)]=_0x5c1f3f,_0x2ceae7['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x5c1f3f+_0x175b2f(0x1c8)+_0x1a68ad[_0x175b2f(0x1c6)]+_0x175b2f(0x22c),_0x37817a['appendChild'](_0x2ceae7),initProdSearch(_0x2ceae7[_0x175b2f(0x1db)]('.prod_input_container'),{'id':_0x1a68ad['setItemId'],'name':_0x1a68ad[_0x175b2f(0xe4)]}),_0x2ceae7['querySelector']('.prodQty')['addEventListener']('input',function(){updateVariantComponents(_0x1bcfed);}),_0x2ceae7['querySelector'](_0x175b2f(0x103))[_0x175b2f(0x145)](_0x175b2f(0x128),function(){_0x2ceae7['remove'](),updateVariantComponents(_0x1bcfed);});}),_0x37817a['parentNode']['querySelector'](_0x35d005(0x12d))[_0x35d005(0x145)]('click',function(){var _0x3729ec=_0x35d005,_0x5322cc=document[_0x3729ec(0x1e0)](_0x3729ec(0x18d)),_0xab34dc=Date[_0x3729ec(0x118)]();_0x5322cc[_0x3729ec(0xec)][_0x3729ec(0x226)]=_0xab34dc,_0x5322cc[_0x3729ec(0x17e)]=_0x3729ec(0xe5)+_0xab34dc+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x37817a['appendChild'](_0x5322cc),initProdSearch(_0x5322cc[_0x3729ec(0x1db)](_0x3729ec(0x1cf))),_0x5322cc[_0x3729ec(0x1db)](_0x3729ec(0x1ec))[_0x3729ec(0x145)](_0x3729ec(0x225),function(){updateVariantComponents(_0x1bcfed);}),_0x5322cc[_0x3729ec(0x1db)](_0x3729ec(0x103))[_0x3729ec(0x145)](_0x3729ec(0x128),function(){var _0x5946ee=_0x3729ec;_0x5322cc[_0x5946ee(0x16b)](),updateVariantComponents(_0x1bcfed);});});}function updateVariantComponents(_0x50f7a2){var _0x856820=_0xafa6d,_0x284f82=document[_0x856820(0x138)](_0x856820(0xed)+_0x50f7a2+_0x856820(0x11b)),_0x578f20=Array[_0x856820(0xe3)](_0x284f82[_0x856820(0x113)])[_0x856820(0x1c3)](function(_0x382346){var _0x40a291=_0x856820,_0x524150=_0x382346[_0x40a291(0x1db)](_0x40a291(0x1cf)),_0x4181d0=_0x524150[_0x40a291(0x1f0)],_0x27da05=+_0x382346[_0x40a291(0x1db)]('.prodQty')[_0x40a291(0x199)]||0x0;return _0x4181d0?{'setItemId':_0x4181d0['id'],'setDescripcion':_0x4181d0[_0x40a291(0x224)],'setCantidad':_0x27da05}:null;})[_0x856820(0x214)](_0x377bc4=>_0x377bc4);newItems[_0x50f7a2]['setItemComponents']=_0x578f20;}function initVariantBranches(_0x355194){var _0x3da605=_0xafa6d;const _0x4f5e3b=getAllWarehouses();var _0x44a77e=document[_0x3da605(0x138)](_0x3da605(0xed)+_0x355194+_0x3da605(0x17c));_0x44a77e[_0x3da605(0x17e)]='',newItems[_0x355194]['setItemWarehouses'][_0x3da605(0x182)](function(_0x2c90fd){var _0x10e905=_0x3da605,_0x48a0e8=_0x4f5e3b['find'](_0x4af1d9=>_0x4af1d9[_0x10e905(0x168)]==_0x2c90fd[_0x10e905(0x15c)]),_0x46bda2=document[_0x10e905(0x1e0)](_0x10e905(0x18d));_0x46bda2[_0x10e905(0x17e)]=_0x10e905(0x212)+_0x2c90fd[_0x10e905(0x15c)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x48a0e8[_0x10e905(0x146)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x2c90fd[_0x10e905(0x15c)]+'\x22\x20value=\x22'+_0x2c90fd[_0x10e905(0x175)]+_0x10e905(0x1f5)+_0x2c90fd[_0x10e905(0x15c)]+_0x10e905(0x174)+_0x2c90fd[_0x10e905(0x131)]+'\x22>',_0x44a77e['appendChild'](_0x46bda2),_0x46bda2[_0x10e905(0x1dd)](_0x10e905(0x225))[_0x10e905(0x182)](function(_0x31a1ae){var _0x9e8efe=_0x10e905;_0x31a1ae[_0x9e8efe(0x145)]('input',function(){updateVariantBranches(_0x355194);});});}),_0x4f5e3b[_0x3da605(0x182)](function(_0x3afedc){var _0x5ac95f=_0x3da605;if(!newItems[_0x355194][_0x5ac95f(0x1fb)]['find'](_0x4be0df=>_0x4be0df[_0x5ac95f(0x15c)]===_0x3afedc[_0x5ac95f(0x168)])){var _0x5dcb51=document[_0x5ac95f(0x1e0)](_0x5ac95f(0x18d));_0x5dcb51[_0x5ac95f(0x17e)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x3afedc[_0x5ac95f(0x168)]+_0x5ac95f(0x202)+_0x3afedc['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x3afedc[_0x5ac95f(0x168)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x3afedc['setWarehouseId']+'\x22>',_0x44a77e[_0x5ac95f(0xf1)](_0x5dcb51),_0x5dcb51[_0x5ac95f(0x1dd)](_0x5ac95f(0x225))[_0x5ac95f(0x182)](function(_0x112a42){var _0x25f410=_0x5ac95f;_0x112a42[_0x25f410(0x145)](_0x25f410(0x225),function(){updateVariantBranches(_0x355194);});});}});}function updateVariantBranches(_0x4764c1){var _0x174cab=_0xafa6d,_0x3a9c62=document[_0x174cab(0x138)](_0x174cab(0xed)+_0x4764c1+_0x174cab(0x17c)),_0x401038=[];_0x3a9c62[_0x174cab(0x1dd)](_0x174cab(0x18d))[_0x174cab(0x182)](function(_0x326998){var _0x3de0c8=_0x174cab,_0x3cc235=_0x326998['querySelector'](_0x3de0c8(0x1b2));if(_0x3cc235[_0x3de0c8(0x21e)]){var _0x3312da=+_0x3cc235['dataset']['id'],_0x41246e=+_0x326998[_0x3de0c8(0x1db)](_0x3de0c8(0xef))[_0x3de0c8(0x199)]||0x0,_0x49984d=+_0x326998[_0x3de0c8(0x1db)](_0x3de0c8(0x1f6))[_0x3de0c8(0x199)]||0x0;_0x401038['push']({'setWarehouseCode':_0x3312da,'setStockInitial':_0x41246e,'setStockMinimum':_0x49984d});}}),newItems[_0x4764c1]['setItemWarehouses']=_0x401038;}async function storeOfflineProduct(_0x15465c){var _0x4b5b1d=_0xafa6d;try{const _0x258934=await createCartStore(''),_0x3fcf9f=_0x258934[_0x4b5b1d(0x107)](_0x4b5b1d(0x1bd),_0x4b5b1d(0x176)),_0x4c8755=_0x3fcf9f['objectStore']('offline_operations');_0x4c8755[_0x4b5b1d(0x1c5)](_0x15465c),_0x3fcf9f['oncomplete']=()=>{var _0x58f8a6=_0x4b5b1d;console[_0x58f8a6(0x11c)](_0x58f8a6(0x1ca));},_0x3fcf9f[_0x4b5b1d(0xdd)]=_0xbdab5d=>{var _0x1a6653=_0x4b5b1d;console[_0x1a6653(0x1f1)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0xbdab5d[_0x1a6653(0x228)]['error']);};}catch(_0x19ad4e){console[_0x4b5b1d(0x1f1)](_0x4b5b1d(0x14a),_0x19ad4e);}}document[_0xafa6d(0x138)](_0xafa6d(0x172))[_0xafa6d(0x145)](_0xafa6d(0x128),async function(_0x1d8f54){var _0x9c0c70=_0xafa6d;_0x1d8f54[_0x9c0c70(0x1ee)]();const _0x13a1ad=document[_0x9c0c70(0x138)](_0x9c0c70(0x14f)),_0x56aa70=document[_0x9c0c70(0x138)](_0x9c0c70(0x16a))['value'];if(!_0x13a1ad[_0x9c0c70(0x199)][_0x9c0c70(0xde)]()&&_0x56aa70==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x56aa70==0x1&&(_0x13a1ad[_0x9c0c70(0x199)]='',baseItem[_0x9c0c70(0x215)]='');const _0x52f1fb=document['getElementById'](_0x9c0c70(0x143));if(!_0x52f1fb[_0x9c0c70(0x199)]['trim']()){ntfShow(_0x9c0c70(0xf2),0x2,0x1);return;}const _0x3ee9df=document['getElementById'](_0x9c0c70(0x1a9));hideModalCreateItem(),showLoadingModal();newItems[_0x9c0c70(0x11e)]===0x0&&(newItems=[baseItem]);const _0x5bcb41=document[_0x9c0c70(0x138)]('windowId')[_0x9c0c70(0x199)],_0x1dd980=window_options[_0x5bcb41][_0x9c0c70(0x102)],_0x483a45=[];newItems[_0x9c0c70(0x182)](_0x2d9367=>{var _0x22def3=_0x9c0c70;const _0x1c082e=generateNumericUniqId();_0x2d9367[_0x22def3(0x1ad)][_0x22def3(0x182)](_0x1f1a16=>{var _0x421d2e=_0x22def3;const _0x1b9383=generateNumericUniqId();_0x1f1a16[_0x421d2e(0x12c)]=_0x1b9383;const _0x3ff00a={'id':_0x1b9383,'setIdProducto':_0x1c082e,'setCodProducto':_0x2d9367['setItemCode'],'setDescripcion':_0x2d9367[_0x421d2e(0x152)],'setItemDescription':_0x2d9367['setItemDescription'],'setBatchExpirationDate':_0x2d9367[_0x421d2e(0x188)],'setBatchName':'','setCategoria':_0x2d9367[_0x421d2e(0x203)][0x0]||'','setMarca':_0x2d9367['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x1f1a16[_0x421d2e(0x1e7)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x2d9367['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x2d9367[_0x421d2e(0x1b3)]?0x1:0x0,'setPorcentajeIgv':_0x2d9367['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x2d9367[_0x421d2e(0x197)],'setTipAfeIgv':_0x2d9367[_0x421d2e(0x12a)],'setUnidad':_0x1f1a16[_0x421d2e(0x1cc)],'setUnidadCodigo':_0x1f1a16[_0x421d2e(0x1cc)],'setItemUnitAlias':_0x1f1a16[_0x421d2e(0x1fe)],'currency_data':[{'currency':_0x1dd980,'setMtoPrecioCostoUnitario':_0x1f1a16[_0x421d2e(0x18b)],'setMtoPrecioUnitario':_0x1f1a16[_0x421d2e(0xf0)],'setPriceLists':[]}],'sucursales':_0x2d9367[_0x421d2e(0x1fb)][_0x421d2e(0x1c3)](_0xa7901d=>({'setIdSucursal':_0xa7901d[_0x421d2e(0x15c)],'setSucursalStock':_0xa7901d[_0x421d2e(0x175)][_0x421d2e(0x1b7)](),'setWarehouseStockMin':_0xa7901d[_0x421d2e(0x131)]['toString']()})),'setItemFree':_0x2d9367['setItemFree'],'setItemBarCode':_0x2d9367[_0x421d2e(0x196)],'setItemBrands':_0x2d9367[_0x421d2e(0x1a4)]['slice'](),'setItemCategories':_0x2d9367['setItemCategories'][_0x421d2e(0x105)](),'setItemComponents':_0x2d9367[_0x421d2e(0x18a)][_0x421d2e(0x1c3)](_0x13b77d=>({..._0x13b77d})),'setItemImages':_0x2d9367[_0x421d2e(0x121)][_0x421d2e(0x105)](),'setItemVariantName':_0x2d9367[_0x421d2e(0x1c2)],'setItemVariantValues':{..._0x2d9367[_0x421d2e(0x170)]}};_0x483a45[_0x421d2e(0x11d)](_0x3ff00a),(_0x3ee9df[_0x421d2e(0x21e)]||_0x56aa70==0x1)&&addToCart(_0x3ff00a);});}),console[_0x9c0c70(0x11c)](_0x9c0c70(0xf3),newItems),await finalizeImport(_0x483a45,newItems,![]);}),[_0xafa6d(0xf9),'dragover']['forEach'](_0x35ea97=>dropZone[_0xafa6d(0x145)](_0x35ea97,_0x1fd1ad=>{var _0x52a9b1=_0xafa6d;_0x1fd1ad[_0x52a9b1(0x1ee)](),dropZone[_0x52a9b1(0x123)][_0x52a9b1(0x1c5)](_0x52a9b1(0x227));})),['dragleave',_0xafa6d(0x184)][_0xafa6d(0x182)](_0x320c09=>dropZone[_0xafa6d(0x145)](_0x320c09,_0x10a00f=>{var _0x4871c4=_0xafa6d;_0x10a00f[_0x4871c4(0x1ee)](),dropZone[_0x4871c4(0x123)][_0x4871c4(0x16b)](_0x4871c4(0x227));})),dropZone['addEventListener'](_0xafa6d(0x184),_0x345f90=>{var _0x2c0076=_0xafa6d;const _0x1ef10b=_0x345f90[_0x2c0076(0x1a1)][_0x2c0076(0x124)][0x0];if(!_0x1ef10b)return;fileInput[_0x2c0076(0x124)]=_0x345f90[_0x2c0076(0x1a1)][_0x2c0076(0x124)],dropZone[_0x2c0076(0x1db)](_0x2c0076(0x1be))[_0x2c0076(0x1df)]=_0x1ef10b['name'],removeBtn[_0x2c0076(0x10a)]=![],fileInput[_0x2c0076(0x192)](new Event(_0x2c0076(0x201)));}),removeBtn[_0xafa6d(0x145)]('click',()=>{var _0xcb9e1=_0xafa6d;fileInput[_0xcb9e1(0x199)]='',dropZone[_0xcb9e1(0x1db)]('.drop-zone__prompt')[_0xcb9e1(0x1df)]=_0xcb9e1(0x21f),removeBtn[_0xcb9e1(0x10a)]=!![],progressBar[_0xcb9e1(0x1a8)]['display']=_0xcb9e1(0x17a),statusDiv[_0xcb9e1(0x1df)]='',uploadBtn[_0xcb9e1(0x1c7)]=!![];});const exportBtn=document[_0xafa6d(0x138)]('btnExportarItems');exportBtn[_0xafa6d(0x145)](_0xafa6d(0x128),onClickExportarItems);async function onClickExportarItems(){var _0x38bb97=_0xafa6d;if(!Array[_0x38bb97(0x13c)](products)||!products[_0x38bb97(0x11e)]){ntfShow(_0x38bb97(0x1c1));return;}try{const _0x14cf8c=await fetch(_0x38bb97(0x1cd));if(!_0x14cf8c['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x4e382f=await _0x14cf8c[_0x38bb97(0xe0)](),_0x8e772=document[_0x38bb97(0x138)](_0x38bb97(0x168))['value'];let _0x22ebd8=products;const _0x5983f2=getUserPermissionApiERP(0x2);_0x5983f2==0x1&&(_0x22ebd8=products[_0x38bb97(0x214)](_0x4bcacc=>Array[_0x38bb97(0x13c)](_0x4bcacc['sucursales'])&&_0x4bcacc['sucursales'][_0x38bb97(0x186)](_0x370409=>String(_0x370409['setIdSucursal'])==String(_0x8e772))));const _0x17156c=_0x22ebd8[_0x38bb97(0x190)]((_0x46a059,_0x3c31eb)=>{var _0x5dc718=_0x38bb97;const _0x15f5a8=_0x3c31eb[_0x5dc718(0x1ba)];if(!_0x46a059[_0x15f5a8])_0x46a059[_0x15f5a8]=[];return _0x46a059[_0x15f5a8]['push'](_0x3c31eb),_0x46a059;},{}),_0x510a9b=Object[_0x38bb97(0x10f)](_0x17156c)[_0x38bb97(0x1c3)](_0x4292af=>{var _0x2c9388=_0x38bb97;const _0x34dfeb=_0x4292af[0x0],_0x1a5649=_0x4292af[0x1]||{};function _0x38af41(_0x1885d9,_0x12969f,_0x5e3f09){var _0x36fb63=_0xb035;if(!_0x1885d9||!Array[_0x36fb63(0x13c)](_0x1885d9[_0x36fb63(0x147)]))return'';const _0x200596=_0x1885d9[_0x36fb63(0x147)][_0x36fb63(0x191)](_0x46be6d=>_0x46be6d[_0x36fb63(0x137)]===_0x12969f);return _0x200596?_0x200596[_0x5e3f09]:'';}return{'id':_0x34dfeb[_0x2c9388(0x1ba)],'setItemType':_0x34dfeb['setItemType'],'setCodProducto':_0x34dfeb['setCodProducto'],'setDescripcion':_0x34dfeb[_0x2c9388(0xe4)],'setItemDescription':_0x34dfeb[_0x2c9388(0x221)],'setCategoria':_0x34dfeb[_0x2c9388(0x193)],'setMarca':_0x34dfeb[_0x2c9388(0xf8)],'setTaxId':_0x34dfeb['setTaxId'],'setUnitId':_0x34dfeb['id'],'setItemBarCode':_0x34dfeb[_0x2c9388(0x196)],'setUnidadCodigo':_0x34dfeb[_0x2c9388(0x157)],'PEN_setMtoPrecioUnitario':_0x38af41(_0x34dfeb,_0x2c9388(0x206),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x38af41(_0x34dfeb,'PEN','setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x38af41(_0x34dfeb,_0x2c9388(0x1c9),_0x2c9388(0xfc)),'USD_setMtoPrecioCostoUnitario':_0x38af41(_0x34dfeb,'USD',_0x2c9388(0x149)),'setUnitId2':_0x1a5649['id']??'','setItemBarCode2':_0x1a5649[_0x2c9388(0x196)]??'','setUnidadCodigo2':_0x1a5649[_0x2c9388(0x157)]??'','setUnidadEquivalencia2':_0x1a5649['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x38af41(_0x1a5649,_0x2c9388(0x206),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x38af41(_0x1a5649,_0x2c9388(0x206),_0x2c9388(0x149))??'','USD_setMtoPrecioUnitario2':_0x38af41(_0x1a5649,_0x2c9388(0x1c9),_0x2c9388(0xfc))??'','USD_setMtoPrecioCostoUnitario2':_0x38af41(_0x1a5649,_0x2c9388(0x1c9),_0x2c9388(0x149))??'','setInventariable':_0x34dfeb[_0x2c9388(0x21c)],'setSucursalStock':_0x5983f2==0x1?_0x34dfeb[_0x2c9388(0xf6)][_0x2c9388(0x191)](_0x830e12=>String(_0x830e12[_0x2c9388(0x14b)])==String(_0x8e772))[_0x2c9388(0x114)]:'','setWarehouseStockMin':_0x5983f2==0x1?_0x34dfeb[_0x2c9388(0xf6)][_0x2c9388(0x191)](_0x2a963e=>String(_0x2a963e['setIdSucursal'])==String(_0x8e772))[_0x2c9388(0x1cb)]:'','setBatchName':_0x34dfeb[_0x2c9388(0x167)],'setBatchExpirationDate':_0x34dfeb[_0x2c9388(0x1c0)],..._0x34dfeb[_0x2c9388(0x170)]};});try{JSON[_0x38bb97(0x1d5)](_0x510a9b);}catch(_0x4a619f){console['error'](_0x38bb97(0x1a0),_0x4a619f),ntfShow(_0x38bb97(0x210));return;}statusDiv[_0x38bb97(0x1df)]=_0x38bb97(0x142),progressBar[_0x38bb97(0x1a8)]['display']='block',progressBar[_0x38bb97(0x199)]=0x0,itemWorker[_0x38bb97(0x218)]({'action':'exportItems','products':_0x510a9b,'plantillaBuf':_0x4e382f},[_0x4e382f]);}catch(_0x28d797){console[_0x38bb97(0x1f1)](_0x28d797),ntfShow(_0x38bb97(0x223)+_0x28d797[_0x38bb97(0x151)]);}}itemWorker[_0xafa6d(0xe6)]=({data:_0xc8dc5c})=>{var _0x10c156=_0xafa6d;const {type:_0x3093e6,payload:_0x45931c}=_0xc8dc5c;_0x3093e6==='progress'&&(progressBar['style']['display']=_0x10c156(0x109),progressBar['value']=_0x45931c['percent'],statusDiv[_0x10c156(0x1df)]=_0x45931c[_0x10c156(0x151)]);_0x3093e6===_0x10c156(0x135)&&(newItemsExcel=_0x45931c[_0x10c156(0x1bc)],statusDiv[_0x10c156(0x1df)]='✅\x20'+newItemsExcel[_0x10c156(0x11e)]+_0x10c156(0x1de),uploadBtn[_0x10c156(0x1c7)]=![],progressBar[_0x10c156(0x199)]=0x64,console[_0x10c156(0x11c)](newItemsExcel));_0x3093e6==='error'&&(statusDiv[_0x10c156(0x1df)]='❌\x20Error:\x20'+_0x45931c,progressBar[_0x10c156(0x1a8)][_0x10c156(0x20b)]=_0x10c156(0x17a));if(_0x3093e6===_0x10c156(0x21a)){const {wbout:_0x39c44,count:_0x3754b8}=_0x45931c,_0xcd1363=new Blob([_0x39c44],{'type':_0x10c156(0xea)}),_0x273c46=URL[_0x10c156(0x111)](_0xcd1363),_0x4655d5=document['createElement']('a'),_0x429deb=new Date()[_0x10c156(0x1fa)]()[_0x10c156(0x105)](0x0,0xa);_0x4655d5[_0x10c156(0x14e)]=_0x10c156(0x150)+_0x429deb+_0x10c156(0x11f),_0x4655d5[_0x10c156(0x163)]=_0x273c46,_0x4655d5[_0x10c156(0x128)](),URL[_0x10c156(0x19d)](_0x273c46),statusDiv[_0x10c156(0x1df)]=_0x10c156(0x1b4)+_0x3754b8+'\x20items.',progressBar['style'][_0x10c156(0x20b)]=_0x10c156(0x17a);}},fileInput[_0xafa6d(0x145)](_0xafa6d(0x201),async _0x146320=>{var _0x123dd4=_0xafa6d;const _0x3c514f=_0x146320[_0x123dd4(0x228)][_0x123dd4(0x124)][0x0];if(!_0x3c514f)return;uploadBtn[_0x123dd4(0x1c7)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x123dd4(0x1a8)]['display']=_0x123dd4(0x17a),dropZone[_0x123dd4(0x1db)]('.drop-zone__prompt')[_0x123dd4(0x1df)]=_0x3c514f[_0x123dd4(0x224)],removeBtn[_0x123dd4(0x10a)]=![];try{const _0x4e9cbd=await _0x3c514f[_0x123dd4(0xe0)]();itemWorker[_0x123dd4(0x218)]({'action':'import','buf':_0x4e9cbd,'maxRows':0x1388});}catch(_0x1a2b67){statusDiv[_0x123dd4(0x1df)]=_0x123dd4(0x13f);}finally{fileInput[_0x123dd4(0x199)]='';}}),uploadBtn[_0xafa6d(0x145)](_0xafa6d(0x128),async()=>{var _0x4e2bca=_0xafa6d;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x7a1720=document['getElementById']('setWarehouseId')[_0x4e2bca(0x199)],_0x3672a8=[];newItemsExcel[_0x4e2bca(0x182)](_0x490136=>{var _0x51712f=_0x4e2bca;const _0x29236c=Boolean(_0x490136[_0x51712f(0x18c)]),_0x2f1865=_0x29236c?_0x490136[_0x51712f(0x18c)]:generateNumericUniqId();_0x490136[_0x51712f(0x1fb)]=[{'setStockInitial':_0x490136[_0x51712f(0x175)],'setStockMinimum':_0x490136[_0x51712f(0x131)],'setWarehouseCode':_0x7a1720}],_0x490136[_0x51712f(0x1ad)]['forEach'](_0x58afd2=>{var _0x579772=_0x51712f;const _0x1e896b=Boolean(_0x58afd2['setItemUnitId']),_0xc02190=_0x1e896b?_0x58afd2[_0x579772(0x12c)]:generateNumericUniqId();_0x58afd2[_0x579772(0x12c)]=_0xc02190;const _0x462f54=[];_0x462f54[_0x579772(0x11d)]({'currency':_0x579772(0x206),'setMtoPrecioCostoUnitario':_0x58afd2[_0x579772(0x18b)],'setMtoPrecioUnitario':_0x58afd2[_0x579772(0xf0)],'setPriceLists':[]});const _0x551ac1=_0x58afd2[_0x579772(0x1f8)]!=null&&_0x58afd2[_0x579772(0x165)]!=null&&(!isNaN(_0x58afd2[_0x579772(0x1f8)])||!isNaN(_0x58afd2[_0x579772(0x165)]));_0x551ac1&&_0x462f54[_0x579772(0x11d)]({'currency':_0x579772(0x1c9),'setMtoPrecioCostoUnitario':_0x58afd2['setCostUSD'],'setMtoPrecioUnitario':_0x58afd2[_0x579772(0x165)],'setPriceLists':[]});const _0x4892a7={'id':_0xc02190,'setIdProducto':_0x2f1865,'setItemBarCode':_0x58afd2['setItemBarCode'],'setCodProducto':_0x490136[_0x579772(0x215)],'setDescripcion':_0x490136[_0x579772(0x152)],'setItemDescription':_0x490136[_0x579772(0x221)],'setBatchExpirationDate':_0x490136[_0x579772(0x188)],'setBatchName':_0x490136[_0x579772(0x167)],'setCategoria':_0x490136[_0x579772(0x203)][0x0]||'','setMarca':_0x490136['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x58afd2[_0x579772(0x1e7)]),'setImages':[],'setImg':_0x579772(0x21b),'setInventariable':_0x490136['setItemInventoriable'],'setItemIsBought':_0x490136[_0x579772(0x17b)],'setItemIsSold':_0x490136['setItemIsSold'],'setPorcentajeIgv':_0x490136[_0x579772(0x1c4)],'setPrinters':[],'setTaxId':_0x490136[_0x579772(0x197)],'setTipAfeIgv':_0x490136[_0x579772(0x12a)],'setUnidad':_0x58afd2[_0x579772(0x1cc)],'setUnidadCodigo':_0x58afd2[_0x579772(0x1cc)],'setItemUnitAlias':_0x58afd2[_0x579772(0x1fe)],'currency_data':_0x462f54,'sucursales':_0x490136[_0x579772(0x1fb)][_0x579772(0x1c3)](_0xd0dac4=>({'setIdSucursal':_0xd0dac4['setWarehouseCode'],'setSucursalStock':_0xd0dac4[_0x579772(0x175)][_0x579772(0x1b7)](),'setWarehouseStockMin':_0xd0dac4[_0x579772(0x131)][_0x579772(0x1b7)]()})),'setItemFree':_0x490136[_0x579772(0x16a)],'setItemBrands':_0x490136[_0x579772(0x1a4)][_0x579772(0x105)](),'setItemCategories':_0x490136['setItemCategories'][_0x579772(0x105)](),'setItemComponents':_0x490136[_0x579772(0x18a)]['map'](_0x1c5ab8=>({..._0x1c5ab8})),'setItemImages':_0x490136[_0x579772(0x121)][_0x579772(0x105)](),'setItemVariantName':_0x490136[_0x579772(0x1c2)],'setItemVariantValues':{..._0x490136[_0x579772(0x170)]}},_0x835a2f=products[_0x579772(0x1f9)](_0x129d53=>_0x129d53['id']==_0xc02190&&_0x129d53[_0x579772(0x1ba)]==_0x2f1865);_0x835a2f>-0x1?Object[_0x579772(0x1d4)](products[_0x835a2f],_0x4892a7):_0x3672a8['push'](_0x4892a7);});}),console[_0x4e2bca(0x11c)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x3672a8,newItemsExcel,!![]);});function initializeFormImages(){var _0x276c1c=_0xafa6d;currentImages=Array(MAX_IMAGES)[_0x276c1c(0x10d)](null),imgC[_0x276c1c(0x17e)]='',baseItem['setItemImages']=[];for(var _0x548bfe=0x0;_0x548bfe<MAX_IMAGES;_0x548bfe++){(function(_0x392a66){var _0x255b1e=_0x276c1c,_0x2f9284=document[_0x255b1e(0x1e0)]('div');_0x2f9284[_0x255b1e(0x1b8)]=_0x255b1e(0x183),_0x2f9284[_0x255b1e(0xec)][_0x255b1e(0x226)]=_0x392a66;var _0x4467bf=document[_0x255b1e(0x1e0)](_0x255b1e(0x225));_0x4467bf['type']=_0x255b1e(0x14c),_0x4467bf['accept']=_0x255b1e(0xfa),_0x4467bf['style'][_0x255b1e(0x20b)]=_0x255b1e(0x17a);var _0x50dcb0=document[_0x255b1e(0x1e0)](_0x255b1e(0x178));_0x50dcb0[_0x255b1e(0x1df)]='+',_0x2f9284[_0x255b1e(0xf1)](_0x4467bf),_0x2f9284[_0x255b1e(0xf1)](_0x50dcb0),imgC[_0x255b1e(0xf1)](_0x2f9284),_0x2f9284['addEventListener'](_0x255b1e(0x128),function(){var _0x3b5db0=_0x255b1e;_0x4467bf[_0x3b5db0(0x128)]();}),_0x4467bf[_0x255b1e(0x145)]('change',function(_0xfbdb4e){var _0x127381=_0x255b1e,_0x57d85f=_0xfbdb4e[_0x127381(0x228)][_0x127381(0x124)][0x0];if(!_0x57d85f)return removeImg(_0x392a66);var _0x922355=new FileReader();_0x922355[_0x127381(0x19b)]=function(_0x3b8278){var _0x435bb3=_0x127381;_0x2f9284[_0x435bb3(0x17e)]=_0x435bb3(0x1e8)+_0x3b8278['target'][_0x435bb3(0x122)]+'\x22>';var _0x4f6bef=document[_0x435bb3(0x1e0)](_0x435bb3(0x178));_0x4f6bef['className']=_0x435bb3(0x16b),_0x4f6bef[_0x435bb3(0x1df)]='×',_0x4f6bef['addEventListener'](_0x435bb3(0x128),function(_0x5cabb3){_0x5cabb3['stopPropagation'](),removeImg(_0x392a66);}),_0x2f9284['appendChild'](_0x4f6bef),currentImages[_0x392a66]=_0x57d85f,baseItem[_0x435bb3(0x121)]=currentImages[_0x435bb3(0x214)](function(_0x3ec9c4){return _0x3ec9c4;});},_0x922355[_0x127381(0x20c)](_0x57d85f);});}(_0x548bfe));}}function initializeFormIsSoldIsBought(_0x5385be=0x0){var _0x3bf8bf=_0xafa6d;let _0x3e5ad5,_0x11e09d;if(_0x5385be!=0x0){const _0x2e9c47=products[_0x3bf8bf(0x191)](_0x5007e5=>_0x5007e5['id']==_0x5385be);_0x3e5ad5=_0x2e9c47[_0x3bf8bf(0x17b)]==0x1||_0x2e9c47[_0x3bf8bf(0x17b)]==!![]?!![]:![],_0x11e09d=_0x2e9c47['setItemIsSold']==0x1||_0x2e9c47[_0x3bf8bf(0x1b3)]==!![]?!![]:![];}else _0x3e5ad5=!![],_0x11e09d=!![];document[_0x3bf8bf(0x138)](_0x3bf8bf(0x148))[_0x3bf8bf(0x21e)]=_0x3e5ad5,document[_0x3bf8bf(0x138)](_0x3bf8bf(0x116))[_0x3bf8bf(0x21e)]=_0x11e09d,baseItem[_0x3bf8bf(0x17b)]=_0x3e5ad5,baseItem[_0x3bf8bf(0x1b3)]=_0x11e09d;}function initializeFormInputsBasic(_0x570e32=0x0){var _0x4b36ad=_0xafa6d;let _0x1b6360,_0x22b966,_0x776600,_0x213025,_0x594fdd,_0x22a89d;if(_0x570e32!=0x0){const _0x40677f=products['find'](_0x342e2d=>_0x342e2d['id']==_0x570e32);_0x1b6360=_0x40677f[_0x4b36ad(0x1d8)]??'1',_0x22b966=_0x40677f[_0x4b36ad(0x15d)],_0x776600=_0x40677f[_0x4b36ad(0xe4)],_0x213025=_0x40677f[_0x4b36ad(0x221)],_0x594fdd=_0x40677f['setBatchExpirationDate']??'',_0x22a89d=_0x40677f[_0x4b36ad(0x196)];}else _0x1b6360='1',_0x22b966=getNextCode(products),_0x776600='',_0x213025='',_0x594fdd='',_0x22a89d='';document[_0x4b36ad(0x138)](_0x4b36ad(0x198))[_0x4b36ad(0x199)]=_0x1b6360,document[_0x4b36ad(0x138)]('inputItemCode')[_0x4b36ad(0x199)]=_0x22b966,document[_0x4b36ad(0x138)](_0x4b36ad(0x143))['value']=_0x776600,document[_0x4b36ad(0x138)](_0x4b36ad(0x1ab))['value']=_0x213025,document['getElementById']('inputItemDateExpiry')[_0x4b36ad(0x199)]=_0x594fdd,document[_0x4b36ad(0x138)](_0x4b36ad(0x1e6))[_0x4b36ad(0x199)]=_0x22a89d,baseItem[_0x4b36ad(0x1d8)]=_0x1b6360,baseItem[_0x4b36ad(0x215)]=_0x22b966,baseItem[_0x4b36ad(0x152)]=_0x776600,baseItem['setItemDescription']=_0x213025,baseItem[_0x4b36ad(0x188)]=_0x594fdd,baseItem[_0x4b36ad(0x196)]=_0x22a89d,document[_0x4b36ad(0x138)]('newItem_addToCart')[_0x4b36ad(0x21e)]=![];}function initializeFormTax(_0x541a12=0x0){var _0x23efa1=_0xafa6d;let _0x20f7d4;if(_0x541a12!=0x0){const _0x6ba1fd=products[_0x23efa1(0x191)](_0x4e3099=>_0x4e3099['id']==_0x541a12);_0x20f7d4=_0x6ba1fd[_0x23efa1(0x1d0)];}else _0x20f7d4=myCompany['setTaxIdDefault'];const _0x52d8ac=document[_0x23efa1(0x138)](_0x23efa1(0x160));_0x52d8ac[_0x23efa1(0x199)]=_0x20f7d4,baseItem['setItemTaxId']=_0x20f7d4;const _0x6c4eac=company[0x0][_0x23efa1(0x16c)][_0x23efa1(0x191)](_0x20468f=>_0x20468f[_0x23efa1(0x1d0)]==_0x20f7d4)?.[_0x23efa1(0x1d2)]||0x0,_0x5eee43=company[0x0][_0x23efa1(0x16c)][_0x23efa1(0x191)](_0x4a58c9=>_0x4a58c9[_0x23efa1(0x1d0)]==_0x20f7d4)?.[_0x23efa1(0x162)]||0x0;baseItem[_0x23efa1(0x12a)]=_0x6c4eac,baseItem[_0x23efa1(0x1c4)]=_0x5eee43;}function initializeFormCategoriesBrands(_0x1542d7=0x0){var _0x109547=_0xafa6d;baseItem['setItemCategories']=[],baseItem[_0x109547(0x1a4)]=[],document[_0x109547(0x1db)](_0x109547(0x12f))[_0x109547(0x17e)]='',document[_0x109547(0x1db)]('#newItem_categories_select\x20.options_list')[_0x109547(0x17e)]='',document[_0x109547(0x1db)](_0x109547(0xe7))['innerHTML']='',document[_0x109547(0x1db)](_0x109547(0x171))[_0x109547(0x17e)]='';const _0x57c5b4=myCompany['setItemCategories'][_0x109547(0x1c3)](_0x1f56b7=>({'setCode':_0x1f56b7[_0x109547(0x1d9)],'setName':_0x1f56b7[_0x109547(0x1d9)]})),_0x10ee55=myCompany[_0x109547(0x1a4)][_0x109547(0x1c3)](_0x3b76df=>({'setCode':_0x3b76df[_0x109547(0x1a6)],'setName':_0x3b76df[_0x109547(0x1a6)]}));initMulti('newItem_categories_select',_0x57c5b4),initMulti('newItem_brands_select',_0x10ee55),document['getElementById'](_0x109547(0x1bf))[_0x109547(0x145)](_0x109547(0x12e),function(_0x3b9b4d){var _0x865caf=_0x109547;baseItem[_0x865caf(0x203)]=_0x3b9b4d[_0x865caf(0x217)][_0x865caf(0x1c3)](_0x3e5f97=>_0x3e5f97[_0x865caf(0x19f)]);}),document['getElementById'](_0x109547(0x1dc))['addEventListener'](_0x109547(0x12e),function(_0x4504cf){var _0xf8eeb4=_0x109547;baseItem[_0xf8eeb4(0x1a4)]=_0x4504cf[_0xf8eeb4(0x217)]['map'](_0x1b6f5c=>_0x1b6f5c[_0xf8eeb4(0x19f)]);});if(_0x1542d7!=0x0){const _0x57c4fa=products[_0x109547(0x191)](_0x168d7a=>_0x168d7a['id']==_0x1542d7);if(_0x57c4fa[_0x109547(0x193)]){const _0x88d937=document[_0x109547(0x138)](_0x109547(0x1bf)),_0x5dc97f=Array[_0x109547(0xe3)](_0x88d937[_0x109547(0x1dd)](_0x109547(0x1e3)))[_0x109547(0x191)](_0x257a61=>_0x257a61[_0x109547(0xec)][_0x109547(0x134)]==_0x57c4fa[_0x109547(0x193)]);_0x5dc97f&&_0x5dc97f[_0x109547(0x128)]();}if(_0x57c4fa[_0x109547(0xf8)]){const _0x166650=document['getElementById'](_0x109547(0x1dc)),_0x16f256=Array['from'](_0x166650['querySelectorAll'](_0x109547(0x1e3)))[_0x109547(0x191)](_0x209ef8=>_0x209ef8[_0x109547(0xec)][_0x109547(0x134)]==_0x57c4fa[_0x109547(0xf8)]);_0x16f256&&_0x16f256[_0x109547(0x128)]();}}}function _0xb035(_0x5c7c07,_0x6046ed){var _0x52b00b=_0x13c1();return _0xb035=function(_0x48438c,_0x2b5c80){_0x48438c=_0x48438c-0xdd;var _0x735b47=_0x52b00b[_0x48438c];return _0x735b47;},_0xb035(_0x5c7c07,_0x6046ed);}function initializeFormUnits(){var _0x3e24b2=_0xafa6d;unitCount=0x0,document[_0x3e24b2(0x138)](_0x3e24b2(0x1e5))['innerHTML']='',baseItem[_0x3e24b2(0x1ad)]=[];var _0x2e410d=uniqueValuesArray(_0x3e24b2(0x1cc),_0x3e24b2(0x20d),myCompany['setUnits']);addUnit('',_0x2e410d[0x3a]&&_0x2e410d[0x3a][_0x3e24b2(0x19f)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){prodC['innerHTML']='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){branchesC['innerHTML']='',baseItem['setItemWarehouses']=[];const _0x599957=getAllWarehouses();_0x599957['forEach'](function(_0x50e99f){var _0x3b208a=_0xb035,_0x4f7871=document['createElement'](_0x3b208a(0x18d));_0x4f7871['innerHTML']=_0x3b208a(0x117)+_0x3b208a(0x177)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x50e99f[_0x3b208a(0x168)]+_0x3b208a(0x1d3)+_0x50e99f[_0x3b208a(0x146)]+_0x3b208a(0x130)+_0x3b208a(0x195)+_0x3b208a(0x177)+_0x3b208a(0xe8)+_0x50e99f[_0x3b208a(0x168)]+'\x22>'+_0x3b208a(0x195)+_0x3b208a(0x177)+_0x3b208a(0x13e)+_0x50e99f['setWarehouseId']+'\x22>'+_0x3b208a(0x195)+_0x3b208a(0x195),branchesC['appendChild'](_0x4f7871),_0x4f7871[_0x3b208a(0x1dd)](_0x3b208a(0x225))['forEach'](function(_0xc5cd79){var _0x42a99a=_0x3b208a;_0xc5cd79[_0x42a99a(0x145)](_0x42a99a(0x225),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5d82e=_0xafa6d;baseItem[_0x5d82e(0x1c2)]='',baseItem['setItemVariantValues']={},vgC[_0x5d82e(0x17e)]='',varContainer[_0x5d82e(0x17e)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}function _0x13c1(){var _0x4e2aae=['setCategoria','splice','</div>','setItemBarCode','setItemTaxId','inputItemType','value','constructor','onload','file-input','revokeObjectURL','inputItemDateExpiry','setCode','ERROR:\x20plainProducts\x20no\x20serializable:','dataTransfer','div[data-default=\x22true\x22]\x20.eqInput','{}.constructor(\x22return\x20this\x22)(\x20)','setItemBrands','string','setItemBrandName','100','style','newItem_addToCart','detalleModalCreateItem','inputItemDescription','543372gEKazu','setItemUnits','974930qfeWdQ','active','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','.variantExpiry','.branchChk','setItemIsSold','✅\x20Exportación\x20completada:\x20','Nuevo\x20Producto','.costInput','toString','className','newItem_title_table','setIdProducto','#newItem_units_container\x20>\x20div','items','offline_operations','.drop-zone__prompt','newItem_categories_select','setBatchExpirationDate','No\x20hay\x20items\x20para\x20exportar.','setItemVariantName','map','setItemTaxValue','add','setCantidad','disabled','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','USD','Producto\x20Guardado\x20Offline\x20Correctamente.','setWarehouseStockMin','setUnitCode','./excel/Plantilla-Items.xlsx','return\x20(function()\x20','.prod_input_container','setTaxId','newItem_btn_addVariantGroup','setImpuestoCode','\x22\x20class=\x22branchChk\x22\x20checked>\x20','assign','stringify','compare','prototype','setItemType','setItemCategoryName','444GPYWDe','querySelector','newItem_brands_select','querySelectorAll','\x20items\x20procesados.','textContent','createElement','newItem_btn_addUnit','.prodInput','.options_list\x20div','match','newItem_units_container','inputItemBarCode','setFactor','<img\x20src=\x22','test','39080EjyFFw','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','.prodQty','modalOverlayCreateItem','preventDefault','.eqInput','selectedItem','error','contains','console','true','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.branchMin','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setCostUSD','findIndex','toISOString','setItemWarehouses','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','keydown','setAlias','getElementsByClassName','selected','change','\x22\x20class=\x22branchChk\x22>\x20','setItemCategories','blur','toLowerCase','PEN','eqInput','.removeUnit','.priceInput','21FdvzNX','display','readAsDataURL','setUnitName','newItem_btn_addProdItem','exception','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','.vgName','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','.vgVals','filter','setItemCode','undefined','detail','postMessage','progress','exportDone','./img/product.png','setInventariable','9bLTBVo','checked','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','style=\x22display:none\x22','setItemDescription','search','Error\x20al\x20obtener\x20la\x20plantilla:\x20','name','input','idx','dragover','target','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','.selected_tags','split','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','onerror','trim','Collator','arrayBuffer','sort','productType1','from','setDescripcion','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','onmessage','#newItem_brands_select\x20.selected_tags','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','type','application/octet-stream','warn','dataset','variant_','1090832QqQsth','.branchInit','setPrice','appendChild','Ingresa\x20el\x20nombre\x20del\x20item','Items\x20finales:','entries','2131316NZtzaf','sucursales','apply','setMarca','dragenter','image/*','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setMtoPrecioUnitario','.unitAlias','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setImpuestoName','newItem_proditems_container','991fUMMEj','setMoneda','.removeCombo','closest','slice','bind','transaction','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','block','hidden','.unitSelect','padStart','fill','setDefault','values','setWebhook','createObjectURL','table','children','setSucursalStock','costInput','newItem_chk_sell','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','now','max','16XzYPBj','_comp_container','log','push','length','.xlsx','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setItemImages','result','classList','files','key','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','_units_container','click','vals','setItemTaxCode','modalProductNewTitle','setItemUnitId','.addVariantComp','selectionChange','#newItem_categories_select\x20.selected_tags','</label>','setStockMinimum','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','accept','code','done','includes','currency','getElementById','536793JthTww','variantForm','parentNode','isArray','(((.+)+)+)+$','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setName','Generando\x20Excel...','inputItemName','.options_list','addEventListener','setWarehouseName','currency_data','newItem_chk_buy','setMtoPrecioCostoUnitario','Error\x20al\x20procesar\x20la\x20operación:','setIdSucursal','file','stopPropagation','download','inputItemCode','Plantilla-Items-Export-','message','setItemName','remove-tag','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','default','.removeGroup','setUnidadCodigo','.variantForm','toggle','priceInput','setUnits','setWarehouseCode','setCodProducto','status','newItem_variants_forms','inputItemTax','Enter','setImpuestoValue','href','closeModalCreateItem','setPriceUSD','info','setBatchName','setWarehouseId','base','setItemFree','remove','setImpuestos','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','focus','setItemVariantValues','#newItem_brands_select\x20.options_list','btnItemSave','setTaxIdDefault','\x22\x20value=\x22','setStockInitial','readwrite','<div\x20class=\x22newItem_col\x22>','span','trace','none','setItemIsBought','_branch_container','newItem_title_table_cp','innerHTML','indexOf','#newItem_branches_container\x20>\x20div','[id$=\x22_comp_container\x22]','forEach','image_box','drop','newItem_hidden','some','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setItemDateExpiry','setAuthToken','setItemComponents','setCost','setItemId','div','.ms_input','unitAlias','reduce','find','dispatchEvent'];_0x13c1=function(){return _0x4e2aae;};return _0x13c1();}async function finalizeImport(_0x2072e9,_0x330a5d,_0x3854e9=![]){var _0x2865b6=_0xafa6d;const _0x1c192e=0xc8,_0x456ea4={'apiPOSsendOffline':'1','setTipoOperacion':_0x2865b6(0x1a7),'setToken':company[0x0][_0x2865b6(0x189)],'setWebhook':company[0x0][_0x2865b6(0x110)]};for(let _0x34200f=0x0;_0x34200f<_0x330a5d[_0x2865b6(0x11e)];_0x34200f+=_0x1c192e){const _0x64de88=_0x330a5d[_0x2865b6(0x105)](_0x34200f,_0x34200f+_0x1c192e);await storeOfflineProduct({..._0x456ea4,'newItems':_0x64de88});}products[_0x2865b6(0x11d)](..._0x2072e9),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x2865b6(0x1f7)),_0x3854e9?(fileInput['value']='',uploadBtn[_0x2865b6(0x1c7)]=!![],statusDiv[_0x2865b6(0x1df)]='',progressBar[_0x2865b6(0x1a8)]['display']='none',progressBar[_0x2865b6(0x199)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}