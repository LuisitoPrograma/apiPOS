/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.7
*/

var _0x3119e4=_0x1956;(function(_0x396298,_0x1226c8){var _0x12fd72=_0x1956,_0x3aca64=_0x396298();while(!![]){try{var _0x36080f=parseInt(_0x12fd72(0xbc))/0x1*(-parseInt(_0x12fd72(0x18e))/0x2)+parseInt(_0x12fd72(0x124))/0x3*(parseInt(_0x12fd72(0x100))/0x4)+parseInt(_0x12fd72(0x158))/0x5*(-parseInt(_0x12fd72(0x169))/0x6)+-parseInt(_0x12fd72(0xdd))/0x7+parseInt(_0x12fd72(0x162))/0x8*(parseInt(_0x12fd72(0x1c8))/0x9)+-parseInt(_0x12fd72(0x1cf))/0xa+parseInt(_0x12fd72(0x12c))/0xb;if(_0x36080f===_0x1226c8)break;else _0x3aca64['push'](_0x3aca64['shift']());}catch(_0x22ae00){_0x3aca64['push'](_0x3aca64['shift']());}}}(_0x3b0b,0xb9121));var _0x158d18=(function(){var _0x4af257=!![];return function(_0x398b2d,_0x3bc26c){var _0x73863f=_0x4af257?function(){var _0x299343=_0x1956;if(_0x3bc26c){var _0x5e0972=_0x3bc26c[_0x299343(0x148)](_0x398b2d,arguments);return _0x3bc26c=null,_0x5e0972;}}:function(){};return _0x4af257=![],_0x73863f;};}()),_0x54e34a=_0x158d18(this,function(){var _0x280d60=_0x1956;return _0x54e34a['toString']()[_0x280d60(0x120)](_0x280d60(0x101))['toString']()[_0x280d60(0x12d)](_0x54e34a)[_0x280d60(0x120)](_0x280d60(0x101));});_0x54e34a();var _0x11c4ad=(function(){var _0x12e2c8=!![];return function(_0x49115b,_0x5f3980){var _0x1d6e6c=_0x12e2c8?function(){var _0x1ff1d5=_0x1956;if(_0x5f3980){var _0x210178=_0x5f3980[_0x1ff1d5(0x148)](_0x49115b,arguments);return _0x5f3980=null,_0x210178;}}:function(){};return _0x12e2c8=![],_0x1d6e6c;};}()),_0x3e459c=_0x11c4ad(this,function(){var _0x144a8c=_0x1956,_0x47dd3b=function(){var _0x11dc8c=_0x1956,_0x358d8b;try{_0x358d8b=Function('return\x20(function()\x20'+_0x11dc8c(0x146)+');')();}catch(_0x256bcc){_0x358d8b=window;}return _0x358d8b;},_0x1a9057=_0x47dd3b(),_0x5c79e2=_0x1a9057[_0x144a8c(0xe6)]=_0x1a9057[_0x144a8c(0xe6)]||{},_0x2b7488=[_0x144a8c(0xd4),_0x144a8c(0xfc),'info',_0x144a8c(0x152),_0x144a8c(0x181),_0x144a8c(0x156),'trace'];for(var _0x4a2b1a=0x0;_0x4a2b1a<_0x2b7488[_0x144a8c(0x125)];_0x4a2b1a++){var _0x323891=_0x11c4ad[_0x144a8c(0x12d)][_0x144a8c(0x1d5)][_0x144a8c(0x16d)](_0x11c4ad),_0x1aa2ae=_0x2b7488[_0x4a2b1a],_0x432895=_0x5c79e2[_0x1aa2ae]||_0x323891;_0x323891[_0x144a8c(0x172)]=_0x11c4ad[_0x144a8c(0x16d)](_0x11c4ad),_0x323891[_0x144a8c(0xf3)]=_0x432895['toString'][_0x144a8c(0x16d)](_0x432895),_0x5c79e2[_0x1aa2ae]=_0x323891;}});_0x3e459c();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document[_0x3119e4(0x128)](_0x3119e4(0x106)),prodC=document[_0x3119e4(0x128)]('newItem_proditems_container'),vgCount=0x0,varContainer=document['getElementById'](_0x3119e4(0x15a)),vgC=document['getElementById']('newItem_variant_groups');const fileInput=document[_0x3119e4(0x128)](_0x3119e4(0xe7)),progressBar=document[_0x3119e4(0x128)](_0x3119e4(0x185)),statusDiv=document[_0x3119e4(0x128)](_0x3119e4(0xfb)),uploadBtn=document['getElementById'](_0x3119e4(0x1d8));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x3119e4(0x128)](_0x3119e4(0xe9)),removeBtn=document['getElementById'](_0x3119e4(0x184));function showModalCreateItem(_0x3b5eb1){var _0x2fc294=_0x3119e4;const _0x5c78fb=document['getElementById']('detalleModalCreateItem'),_0x460d53=document[_0x2fc294(0x128)](_0x2fc294(0x1cb));_0x5c78fb[_0x2fc294(0x1c2)][_0x2fc294(0xf5)](_0x2fc294(0xeb)),_0x460d53[_0x2fc294(0x1cc)]['display']='block';const _0x4c8345=document[_0x2fc294(0x128)](_0x2fc294(0xf9));_0x4c8345[_0x2fc294(0x111)]=parseInt(_0x3b5eb1),baseItem['setItemFree']=parseInt(_0x3b5eb1);const _0x5f0980=document[_0x2fc294(0x128)](_0x2fc294(0x1aa));_0x3b5eb1==0x0&&(_0x5f0980[_0x2fc294(0x112)]=_0x2fc294(0x107));_0x3b5eb1==0x1&&(_0x5f0980[_0x2fc294(0x112)]=_0x2fc294(0xd1));const _0x4a7c87=document[_0x2fc294(0xcb)]('productType1');for(let _0x4c9809=0x0;_0x4c9809<_0x4a7c87[_0x2fc294(0x125)];_0x4c9809++){const _0x3bca57=_0x4a7c87[_0x4c9809];if(_0x3b5eb1==0x0)_0x3bca57[_0x2fc294(0x1c2)][_0x2fc294(0x10b)](_0x2fc294(0x1dc));else _0x3b5eb1==0x1&&_0x3bca57[_0x2fc294(0x1c2)][_0x2fc294(0xf5)](_0x2fc294(0x1dc));}}function hideModalCreateItem(){var _0x10ce48=_0x3119e4;const _0x1f381f=document[_0x10ce48(0x128)](_0x10ce48(0x192)),_0x52afc6=document['getElementById'](_0x10ce48(0x1cb));_0x1f381f[_0x10ce48(0x1c2)][_0x10ce48(0x10b)]('active'),_0x52afc6[_0x10ce48(0x1cc)]['display']='none';}document['getElementById'](_0x3119e4(0x12e))[_0x3119e4(0x17f)](_0x3119e4(0x13a),hideModalCreateItem),document[_0x3119e4(0x128)]('modalOverlayCreateItem')[_0x3119e4(0x17f)](_0x3119e4(0x13a),_0x39f4c8=>{var _0x2d68f2=_0x3119e4;_0x39f4c8[_0x2d68f2(0x12b)]==_0x39f4c8[_0x2d68f2(0x1a9)]&&_0x39f4c8['stopPropagation']();});function loadTaxData(){var _0x4ce915=_0x3119e4;const _0x4ac685=document[_0x4ce915(0x128)](_0x4ce915(0xd3));_0x4ac685[_0x4ce915(0x112)]='',company[0x0][_0x4ce915(0x11c)][_0x4ce915(0x186)](function(_0x5e610a){var _0x291e4d=_0x4ce915;const _0x291767=document[_0x291e4d(0x117)]('option');_0x291767['value']=_0x5e610a[_0x291e4d(0x196)],_0x291767[_0x291e4d(0x112)]=_0x5e610a[_0x291e4d(0x17e)]+'\x20('+_0x5e610a[_0x291e4d(0x167)]+'%)',_0x5e610a[_0x291e4d(0x196)]==company[0x0][_0x291e4d(0x18c)]&&(_0x291767['selected']=!![]),_0x4ac685[_0x291e4d(0xc4)](_0x291767);});}function uniqueValuesArray(_0x1b6d11,_0x5a9d5a,_0x2eb585){var _0x4437ca=_0x3119e4;const _0x435c52=Array['from'](new Set(_0x2eb585[_0x4437ca(0x189)](_0x4597f2=>{var _0x4662bd=_0x4437ca;const _0x30a6bd=_0x4597f2[_0x1b6d11];return typeof _0x30a6bd===_0x4662bd(0x15f)?_0x30a6bd[_0x4662bd(0x1bb)]():_0x30a6bd;})[_0x4437ca(0xf1)](_0x4ff5dd=>_0x4ff5dd!=null&&_0x4ff5dd!=='')));return _0x435c52[_0x4437ca(0x189)](_0x1a14d9=>{var _0x1db307=_0x4437ca;const _0x2e91a2=_0x2eb585[_0x1db307(0xcd)](_0x1353de=>_0x1353de[_0x1b6d11]===_0x1a14d9),_0x1443fa=_0x2e91a2&&_0x2e91a2[_0x5a9d5a]!=null?String(_0x2e91a2[_0x5a9d5a])[_0x1db307(0x1bb)]():_0x1a14d9;return{'setCode':_0x1a14d9,'setName':_0x1443fa};});}function fillSelect(_0x13767b,_0x39e47b,_0x5379f8,_0x1c5bd4){var _0x544f8b=_0x3119e4;_0x13767b[_0x544f8b(0x112)]='',_0x39e47b['forEach'](function(_0x1e4a40){var _0x28e9a9=_0x544f8b,_0x42c3d0=new Option(_0x1e4a40[_0x1c5bd4],_0x1e4a40[_0x5379f8]);_0x13767b[_0x28e9a9(0xf5)](_0x42c3d0);});}function initMulti(_0x115005,_0x9494b3){var _0x506b2e=_0x3119e4,_0x5d183a=document['getElementById'](_0x115005),_0x1bcd36=_0x5d183a[_0x506b2e(0xfd)](_0x506b2e(0x173)),_0x36a9db=_0x5d183a[_0x506b2e(0xfd)](_0x506b2e(0xf7)),_0x374680=_0x5d183a[_0x506b2e(0xfd)](_0x506b2e(0x1ce)),_0x478e11=_0x9494b3[_0x506b2e(0x11b)](),_0x230c11=[];function _0x45b788(){var _0x59e882=_0x506b2e;_0x36a9db[_0x59e882(0x112)]='',_0x478e11['filter'](function(_0x42dc9f){var _0x4039ed=_0x59e882;return _0x42dc9f[_0x4039ed(0xcc)]['toLowerCase']()[_0x4039ed(0x163)](_0x1bcd36[_0x4039ed(0x111)][_0x4039ed(0x12f)]())!==-0x1;})[_0x59e882(0x186)](function(_0x5d99e0){var _0xd355b1=_0x59e882,_0x3e75ed=document['createElement'](_0xd355b1(0x159));_0x3e75ed['textContent']=_0x5d99e0[_0xd355b1(0xcc)],_0x3e75ed['dataset'][_0xd355b1(0x19a)]=_0x5d99e0[_0xd355b1(0xcf)],_0x36a9db[_0xd355b1(0xc4)](_0x3e75ed),_0x3e75ed[_0xd355b1(0x17f)]('click',function(){var _0x77158b=_0xd355b1;_0x230c11['push'](_0x5d99e0),_0x478e11['splice'](_0x478e11['findIndex'](function(_0x50d869){var _0x5752ad=_0x1956;return _0x50d869[_0x5752ad(0xcf)]===_0x5d99e0[_0x5752ad(0xcf)];}),0x1),_0x1bcd36[_0x77158b(0x111)]='',_0x4ab41b(),_0x45b788();});});}function _0x4ab41b(){var _0x1969c3=_0x506b2e;_0x374680[_0x1969c3(0x112)]='',_0x230c11[_0x1969c3(0x186)](function(_0x2db772){var _0x24b68e=_0x1969c3,_0x4e0878=document[_0x24b68e(0x117)]('div');_0x4e0878[_0x24b68e(0x16a)]=_0x24b68e(0x182),_0x4e0878[_0x24b68e(0x171)]=_0x2db772['setName'];var _0x4eb78e=document[_0x24b68e(0x117)](_0x24b68e(0x188));_0x4eb78e[_0x24b68e(0x16a)]=_0x24b68e(0xda),_0x4eb78e['textContent']='×',_0x4eb78e['addEventListener'](_0x24b68e(0x13a),function(){var _0x22a381=_0x24b68e;_0x478e11[_0x22a381(0x134)](_0x2db772);const _0x3d6406=_0x230c11['findIndex'](function(_0x1dd978){var _0x39a84d=_0x22a381;return _0x1dd978[_0x39a84d(0xcf)]===_0x2db772[_0x39a84d(0xcf)];});if(_0x3d6406>-0x1)_0x230c11[_0x22a381(0x154)](_0x3d6406,0x1);_0x4ab41b(),_0x45b788();}),_0x4e0878['appendChild'](_0x4eb78e),_0x374680[_0x24b68e(0xc4)](_0x4e0878);}),_0x5d183a[_0x1969c3(0xbf)](new CustomEvent(_0x1969c3(0x1b6),{'bubbles':!![]}));}return _0x1bcd36[_0x506b2e(0x17f)](_0x506b2e(0x1de),function(){var _0x69b58e=_0x506b2e;_0x36a9db[_0x69b58e(0x1c2)][_0x69b58e(0x10b)](_0x69b58e(0xca));}),_0x1bcd36[_0x506b2e(0x17f)](_0x506b2e(0xff),_0x45b788),_0x1bcd36[_0x506b2e(0x17f)]('keydown',function(_0x59a75a){var _0x5e26ed=_0x506b2e;if(_0x59a75a[_0x5e26ed(0x18a)]===_0x5e26ed(0x161)){_0x59a75a['preventDefault']();const _0x551346=_0x1bcd36[_0x5e26ed(0x111)]['trim']();if(!_0x551346)return;const _0x525aa9=_0x230c11[_0x5e26ed(0x16e)](_0x31e518=>_0x31e518['setName']===_0x551346),_0x22f0ec=_0x478e11[_0x5e26ed(0x16e)](_0x3fe699=>_0x3fe699['setName']===_0x551346);if(!_0x525aa9&&!_0x22f0ec){const _0x1b27b5={'setCode':_0x551346,'setName':_0x551346};_0x230c11[_0x5e26ed(0x134)](_0x1b27b5),_0x4ab41b(),_0x45b788();}_0x1bcd36[_0x5e26ed(0x111)]='';}}),document['addEventListener'](_0x506b2e(0x13a),function(_0x59bc59){var _0x45bbb6=_0x506b2e;if(!_0x5d183a[_0x45bbb6(0x1a2)](_0x59bc59['target']))_0x36a9db[_0x45bbb6(0x1c2)][_0x45bbb6(0xf5)]('newItem_hidden');}),_0x45b788(),_0x230c11;}document[_0x3119e4(0x128)](_0x3119e4(0x1ba))['addEventListener'](_0x3119e4(0xff),function(_0x3be564){var _0x250187=_0x3119e4;baseItem[_0x250187(0x164)]=_0x3be564[_0x250187(0x12b)][_0x250187(0x111)];}),document['getElementById'](_0x3119e4(0xe5))['addEventListener']('input',function(_0x56c996){var _0x2b0959=_0x3119e4;baseItem[_0x2b0959(0x1a0)]=_0x56c996['target'][_0x2b0959(0x111)];}),document[_0x3119e4(0x128)](_0x3119e4(0xc5))['addEventListener'](_0x3119e4(0xff),function(_0x1fab76){var _0x7d0961=_0x3119e4;baseItem[_0x7d0961(0x13e)]=_0x1fab76[_0x7d0961(0x12b)][_0x7d0961(0x111)];}),document[_0x3119e4(0x128)](_0x3119e4(0x141))[_0x3119e4(0x17f)](_0x3119e4(0x10c),function(_0xd425c6){var _0x3585a4=_0x3119e4;baseItem[_0x3585a4(0x127)]=_0xd425c6[_0x3585a4(0x12b)]['value'];}),document[_0x3119e4(0x128)]('inputItemTax')[_0x3119e4(0x17f)](_0x3119e4(0x10c),function(_0x3684e3){var _0x712f32=_0x3119e4;baseItem[_0x712f32(0x197)]=_0x3684e3[_0x712f32(0x12b)]['value'];const _0x2003d2=_0x3684e3[_0x712f32(0x12b)]['value'],_0x39ab11=company[0x0][_0x712f32(0x11c)][_0x712f32(0xcd)](_0x102d05=>_0x102d05[_0x712f32(0x196)]==_0x2003d2)?.[_0x712f32(0xf2)]||0x0,_0x1f16ec=company[0x0][_0x712f32(0x11c)][_0x712f32(0xcd)](_0x4604b1=>_0x4604b1['setTaxId']==_0x2003d2)?.['setImpuestoValue']||0x0;baseItem[_0x712f32(0x147)]=_0x39ab11,baseItem['setItemTaxValue']=_0x1f16ec;}),document['getElementById'](_0x3119e4(0x14e))[_0x3119e4(0x17f)](_0x3119e4(0x10c),function(_0x2c633f){var _0x36ea7b=_0x3119e4;baseItem[_0x36ea7b(0x14a)]=_0x2c633f[_0x36ea7b(0x12b)][_0x36ea7b(0x131)];}),document[_0x3119e4(0x128)](_0x3119e4(0x1d3))[_0x3119e4(0x17f)](_0x3119e4(0x10c),function(_0x285039){var _0x3bd2eb=_0x3119e4;baseItem['setItemIsSold']=_0x285039[_0x3bd2eb(0x12b)][_0x3bd2eb(0x131)];}),document[_0x3119e4(0x128)]('inputItemCode')[_0x3119e4(0x17f)]('input',function(_0x5d3e02){var _0x58bccf=_0x3119e4;baseItem[_0x58bccf(0x1d9)]=_0x5d3e02[_0x58bccf(0x12b)][_0x58bccf(0x111)];}),document[_0x3119e4(0x128)]('inputItemBarCode')[_0x3119e4(0x17f)]('input',function(_0x480e97){var _0xa83e51=_0x3119e4;baseItem[_0xa83e51(0xe4)]=_0x480e97['target']['value'];}),document[_0x3119e4(0x128)](_0x3119e4(0x178))[_0x3119e4(0x17f)](_0x3119e4(0x13a),function(){addUnit(),updateUnitsArray();}),document[_0x3119e4(0x128)](_0x3119e4(0x11e))[_0x3119e4(0x17f)](_0x3119e4(0x135),function(){var _0x5a75fa=_0x3119e4;const _0x59568f=this['value'][_0x5a75fa(0x1bb)]();if(_0x59568f==='')return;const _0x5e4e35=products[_0x5a75fa(0x16e)](_0x256cb2=>_0x256cb2[_0x5a75fa(0x15b)]==_0x59568f),_0x3cba5d=products[_0x5a75fa(0x189)](_0x2c31d4=>String(_0x2c31d4[_0x5a75fa(0x15b)])[_0x5a75fa(0x1bb)]())[_0x5a75fa(0xf1)](_0x430d19=>_0x430d19!==''),_0x27cfd2=_0x3cba5d['every'](_0x1a14ee=>/^\d+$/[_0x5a75fa(0xd7)](_0x1a14ee));let _0x3badaa;if(_0x27cfd2){const _0x1ec777=_0x3cba5d['map'](Number),_0xa2a69f=Math['max'](..._0x1ec777);_0x3badaa=String(_0xa2a69f);}else{let _0x51b61f;if(typeof Intl!==_0x5a75fa(0x1a3)&&Intl['Collator']){const _0x282796=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x5a75fa(0x14d)});_0x51b61f=_0x3cba5d[_0x5a75fa(0x11b)]()[_0x5a75fa(0x1d4)](_0x282796[_0x5a75fa(0x12a)]);}else{const _0x12c1b3=_0x3cba5d[_0x5a75fa(0xf4)](_0x5a4889=>/^\d+$/[_0x5a75fa(0xd7)](_0x5a4889));_0x12c1b3?_0x51b61f=_0x3cba5d[_0x5a75fa(0x189)](Number)[_0x5a75fa(0x1d4)]((_0x25fb99,_0x14937e)=>_0x25fb99-_0x14937e)[_0x5a75fa(0x189)](String):_0x51b61f=_0x3cba5d['slice']()[_0x5a75fa(0x1d4)]();}_0x3badaa=_0x51b61f[_0x51b61f['length']-0x1];}_0x5e4e35?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x3badaa,0x2,0x1):ntfShow(_0x5a75fa(0x1af),0x1,0x1);});function removeImg(_0x5826fa){var _0x1237f7=_0x3119e4;currentImages[_0x5826fa]=null;var _0x3c59cc=imgC[_0x1237f7(0xfd)](_0x1237f7(0x103)+_0x5826fa+'\x22]');_0x3c59cc['innerHTML']='';var _0x595d28=document['createElement'](_0x1237f7(0xff));_0x595d28[_0x1237f7(0x160)]=_0x1237f7(0xc6),_0x595d28[_0x1237f7(0x15d)]=_0x1237f7(0x145),_0x595d28['style'][_0x1237f7(0xdb)]='none';var _0x55b915=document['createElement'](_0x1237f7(0x188));_0x55b915[_0x1237f7(0x171)]='+',_0x3c59cc[_0x1237f7(0xc4)](_0x595d28),_0x3c59cc[_0x1237f7(0xc4)](_0x55b915),_0x3c59cc[_0x1237f7(0x17f)]('click',function(){var _0x541491=_0x1237f7;_0x595d28[_0x541491(0x13a)]();}),baseItem[_0x1237f7(0x11d)]=currentImages[_0x1237f7(0xf1)](function(_0x267bcc){return _0x267bcc;});}function addUnit(_0xe4340a,_0xe286e2,_0x116923,_0x4391d3,_0x423e8a,_0x44ab20,_0x4db143){var _0x11d45f=_0x3119e4,_0x1a929f=uniqueValuesArray(_0x11d45f(0xdc),_0x11d45f(0xdc),products);_0xe4340a=_0xe4340a||'',_0xe286e2=_0xe286e2||_0x1a929f[0x0]&&_0x1a929f[0x0][_0x11d45f(0xcf)]||'',_0x116923=_0x116923!==undefined?_0x116923:0x1,_0x4391d3=!!_0x4391d3,_0x423e8a=_0x423e8a||'',_0x44ab20=_0x44ab20||'';var _0xd7a486=unitCount++,_0x49c319=document[_0x11d45f(0x117)](_0x11d45f(0x159));_0x49c319['dataset'][_0x11d45f(0x1a4)]=_0xd7a486,_0x49c319[_0x11d45f(0x114)][_0x11d45f(0x10e)]=_0x4391d3,_0x49c319[_0x11d45f(0x112)]=_0x11d45f(0x116)+_0xd7a486+_0x11d45f(0xe8)+_0xe4340a+_0x11d45f(0x1c1)+_0xd7a486+_0x11d45f(0x170)+_0xd7a486+'\x22\x20value=\x22'+_0x116923+'\x22\x20'+(_0x4391d3?_0x11d45f(0x108):'')+_0x11d45f(0x122)+_0xd7a486+_0x11d45f(0xe8)+_0x423e8a+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0xd7a486+_0x11d45f(0xe8)+_0x44ab20+_0x11d45f(0x187)+(_0x4391d3?_0x11d45f(0x1bf):'')+_0x11d45f(0x17a),fillSelect(_0x49c319[_0x11d45f(0xfd)](_0x11d45f(0x133)),_0x1a929f,_0x11d45f(0xcf),_0x11d45f(0xcc)),_0x49c319[_0x11d45f(0xfd)](_0x11d45f(0x133))[_0x11d45f(0x111)]=_0xe286e2,[_0x11d45f(0x14b),'unitSelect',_0x11d45f(0x1da),_0x11d45f(0x1ca),_0x11d45f(0xea)][_0x11d45f(0x186)](function(_0x45ba1f){var _0x40ffc5=_0x11d45f;_0x49c319[_0x40ffc5(0xfd)]('.'+_0x45ba1f)['addEventListener'](_0x40ffc5(0xff),function(){var _0x361ecd=_0x40ffc5,_0x35bcdb=_0x4db143?+_0x4db143['id'][_0x361ecd(0x14f)]('_')[0x1]:null;if(_0x4db143)updateVariantUnits(_0x35bcdb);else updateUnitsArray();});}),_0x49c319[_0x11d45f(0xfd)]('.removeUnit')[_0x11d45f(0x17f)]('click',function(){var _0x230808=_0x11d45f;_0x49c319[_0x230808(0x10b)]();var _0x5a8309=_0x4db143?+_0x4db143['id'][_0x230808(0x14f)]('_')[0x1]:null;if(_0x4db143)updateVariantUnits(_0x5a8309);else updateUnitsArray();});var _0x13902e=_0x4db143||document[_0x11d45f(0x128)](_0x11d45f(0x143));_0x13902e[_0x11d45f(0xc4)](_0x49c319);}function containerIdx(_0x36d0fe){return+_0x36d0fe['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x17151e=_0x3119e4,_0xc9bf1f=[],_0x353549=Array[_0x17151e(0x157)](document[_0x17151e(0x191)](_0x17151e(0x165))),_0x483c54=_0x353549[_0x17151e(0xcd)](_0x2c5118=>_0x2c5118[_0x17151e(0x114)]['default']===_0x17151e(0x115)),_0x18ba35=_0x483c54?+_0x483c54[_0x17151e(0xfd)](_0x17151e(0x193))[_0x17151e(0x111)]:0x1;_0x353549[_0x17151e(0x186)](function(_0x4b1681){var _0x564dbe=_0x17151e,_0xb640f=+_0x4b1681[_0x564dbe(0xfd)]('.eqInput')['value']||0x0,_0x578a91=+_0x4b1681[_0x564dbe(0xfd)](_0x564dbe(0x195))['value']||0x0,_0x5df9ef=+_0x4b1681[_0x564dbe(0xfd)](_0x564dbe(0x18f))[_0x564dbe(0x111)]||0x0;_0xc9bf1f['push']({'setAlias':_0x4b1681[_0x564dbe(0xfd)]('.unitAlias')['value'][_0x564dbe(0x1bb)](),'setUnitCode':_0x4b1681[_0x564dbe(0xfd)]('.unitSelect')['value'],'setEquivalence':_0xb640f,'setFactor':_0x4b1681[_0x564dbe(0x114)]['default']===_0x564dbe(0x115)?0x1:_0xb640f==_0x18ba35?0x1:_0xb640f<_0x18ba35?_0x18ba35/_0xb640f:_0xb640f/_0x18ba35,'setPrice':_0x578a91,'setCost':_0x5df9ef,'setDefault':_0x4b1681[_0x564dbe(0x114)][_0x564dbe(0x10e)]===_0x564dbe(0x115)?0x1:0x0});}),baseItem['setItemUnits']=_0xc9bf1f;}function updateBranches(){var _0x4ab468=_0x3119e4,_0x4723d2=[];document['querySelectorAll']('#newItem_branches_container\x20>\x20div')[_0x4ab468(0x186)](function(_0x52f88a){var _0x1b198b=_0x4ab468,_0x110a3c=_0x52f88a[_0x1b198b(0xfd)]('.branchChk');if(_0x110a3c[_0x1b198b(0x131)]){var _0x1313a7=+_0x110a3c[_0x1b198b(0x114)]['id'],_0x145fba=+_0x52f88a[_0x1b198b(0xfd)](_0x1b198b(0x10d))[_0x1b198b(0x111)],_0x137792=+_0x52f88a[_0x1b198b(0xfd)]('.branchMin')[_0x1b198b(0x111)];_0x4723d2[_0x1b198b(0x134)]({'setWarehouseCode':_0x1313a7,'setStockInitial':_0x145fba,'setStockMinimum':_0x137792});}}),baseItem[_0x4ab468(0x15e)]=_0x4723d2;}document[_0x3119e4(0x128)](_0x3119e4(0xdf))[_0x3119e4(0x17f)](_0x3119e4(0x13a),function(){var _0x4bfdb6=_0x3119e4,_0x29a2fe=Date[_0x4bfdb6(0x175)](),_0x48897a=document[_0x4bfdb6(0x117)](_0x4bfdb6(0x159));_0x48897a['dataset'][_0x4bfdb6(0x1a4)]=_0x29a2fe,_0x48897a['innerHTML']='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x29a2fe+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x29a2fe+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x48897a),initProdSearch(_0x48897a[_0x4bfdb6(0xfd)](_0x4bfdb6(0xfe))),_0x48897a[_0x4bfdb6(0xfd)](_0x4bfdb6(0x10f))['addEventListener']('click',function(){_0x48897a['remove'](),updateProdItems();}),_0x48897a['querySelector'](_0x4bfdb6(0x13b))['addEventListener'](_0x4bfdb6(0xff),updateProdItems),document[_0x4bfdb6(0x128)]('newItem_title_table_cp')[_0x4bfdb6(0x1c2)]['toggle']('newItem_title_table',!![]),document[_0x4bfdb6(0x128)](_0x4bfdb6(0x1b5))['classList']['toggle'](_0x4bfdb6(0xca),![]);});function initProdSearch(_0x2db44f,_0x26df45){var _0x2fc432=_0x3119e4,_0x3ea241=_0x2db44f[_0x2fc432(0xfd)](_0x2fc432(0x1b9)),_0x1f4181=_0x2db44f[_0x2fc432(0xfd)](_0x2fc432(0xf7)),_0x1c4e87=_0x26df45||null;if(_0x26df45)_0x3ea241[_0x2fc432(0x111)]=_0x26df45[_0x2fc432(0xc3)];_0x3ea241[_0x2fc432(0x17f)]('input',function(){var _0x294954=_0x2fc432,_0x32c235=_0x3ea241[_0x294954(0x111)][_0x294954(0x12f)]()[_0x294954(0x1bb)]();_0x1f4181['innerHTML']='';if(!_0x32c235)return;products[_0x294954(0xf1)](_0x2dedb2=>_0x2dedb2[_0x294954(0x1a7)]['toLowerCase']()[_0x294954(0x1a1)](_0x32c235))[_0x294954(0x11b)](0x0,0x14)['forEach'](function(_0x59a330){var _0x518d2a=_0x294954,_0x2c5557=document[_0x518d2a(0x117)](_0x518d2a(0x159));_0x2c5557[_0x518d2a(0x171)]=_0x59a330[_0x518d2a(0x1a7)],_0x2c5557['dataset']['id']=_0x59a330['id'],_0x2c5557[_0x518d2a(0x114)][_0x518d2a(0xc3)]=_0x59a330[_0x518d2a(0x1a7)],_0x1f4181['appendChild'](_0x2c5557),_0x2c5557['addEventListener'](_0x518d2a(0x13a),function(){var _0x445706=_0x518d2a;_0x1c4e87={'id':_0x59a330['id'],'name':_0x59a330[_0x445706(0x1a7)]},_0x3ea241['value']=_0x59a330[_0x445706(0x1a7)],_0x1f4181['innerHTML']='';var _0x2b629c=_0x2db44f[_0x445706(0x150)](_0x445706(0x13d));if(_0x2b629c){var _0x360681=+_0x2b629c['id']['split']('_')[0x1];updateVariantComponents(_0x360681);}else updateProdItems();});});}),_0x3ea241[_0x2fc432(0x17f)](_0x2fc432(0x1de),function(){var _0x517ce6=_0x2fc432;_0x1f4181['classList'][_0x517ce6(0x10b)]('newItem_hidden');}),document[_0x2fc432(0x17f)](_0x2fc432(0x13a),function(_0x1476ad){var _0x435f77=_0x2fc432;if(!_0x2db44f[_0x435f77(0x1a2)](_0x1476ad[_0x435f77(0x12b)]))_0x1f4181[_0x435f77(0x1c2)][_0x435f77(0xf5)]('newItem_hidden');}),Object[_0x2fc432(0x19b)](_0x2db44f,_0x2fc432(0x13c),{'get':()=>_0x1c4e87});}function updateProdItems(){var _0xd58dcc=_0x3119e4,_0x32f25e=[];Array[_0xd58dcc(0x157)](prodC[_0xd58dcc(0x1cd)])[_0xd58dcc(0x186)](function(_0x1516fd){var _0x1febe6=_0xd58dcc,_0x2ccfbc=_0x1516fd[_0x1febe6(0xfd)](_0x1febe6(0xfe));if(!_0x2ccfbc)return;var _0x1feb79=_0x1516fd['querySelector']('.prodQty'),_0x5d8a32=_0x2ccfbc[_0x1febe6(0x13c)];_0x5d8a32&&_0x32f25e['push']({'setItemId':_0x5d8a32['id'],'setDescripcion':_0x5d8a32[_0x1febe6(0xc3)],'setCantidad':+_0x1feb79[_0x1febe6(0x111)]});}),baseItem[_0xd58dcc(0xfa)]=_0x32f25e,_0x32f25e[_0xd58dcc(0x125)]===0x0&&(document[_0xd58dcc(0x128)](_0xd58dcc(0x1b5))['classList'][_0xd58dcc(0x174)](_0xd58dcc(0x144),![]),document['getElementById'](_0xd58dcc(0x1b5))['classList'][_0xd58dcc(0x174)](_0xd58dcc(0xca),!![]));}document[_0x3119e4(0x128)]('newItem_btn_addVariantGroup')['addEventListener'](_0x3119e4(0x13a),function(){var _0x16e2dd=_0x3119e4,_0x2b4759=vgCount++,_0x297ebc=document[_0x16e2dd(0x117)]('div');_0x297ebc[_0x16e2dd(0x114)][_0x16e2dd(0x1a4)]=_0x2b4759,_0x297ebc[_0x16e2dd(0x112)]=_0x16e2dd(0x18d)+_0x2b4759+'\x22>'+_0x16e2dd(0xc7)+_0x2b4759+'\x22>'+_0x16e2dd(0x1d6),vgC[_0x16e2dd(0xc4)](_0x297ebc),_0x297ebc['querySelector'](_0x16e2dd(0xc0))[_0x16e2dd(0x17f)]('blur',generateVariants),_0x297ebc[_0x16e2dd(0xfd)](_0x16e2dd(0x1c7))['addEventListener'](_0x16e2dd(0x135),generateVariants),_0x297ebc[_0x16e2dd(0xfd)](_0x16e2dd(0x126))['addEventListener'](_0x16e2dd(0x13a),function(){var _0x3291cc=_0x16e2dd;_0x297ebc[_0x3291cc(0x10b)](),generateVariants();});});function generateVariants(){var _0x14bebe=_0x3119e4,_0x137cd0=[];vgC[_0x14bebe(0x191)](_0x14bebe(0x159))[_0x14bebe(0x186)](function(_0x27d25d){var _0x50417a=_0x14bebe,_0x4dd7c3=_0x27d25d[_0x50417a(0xfd)]('.vgName')[_0x50417a(0x111)]['trim'](),_0x13c1f4=_0x27d25d[_0x50417a(0xfd)](_0x50417a(0x1c7))[_0x50417a(0x111)][_0x50417a(0x14f)](',')[_0x50417a(0x189)](_0x26cd71=>_0x26cd71[_0x50417a(0x1bb)]())[_0x50417a(0xf1)](_0x3373fd=>_0x3373fd);if(_0x4dd7c3&&_0x13c1f4[_0x50417a(0x125)])_0x137cd0[_0x50417a(0x134)]({'name':_0x4dd7c3,'vals':_0x13c1f4});});var _0x49a59a=[{}];_0x137cd0[_0x14bebe(0x186)](function(_0x14153e){var _0x163698=_0x14bebe;_0x49a59a=_0x49a59a[_0x163698(0x113)](function(_0x25719d){var _0x582f74=_0x163698;return _0x14153e['vals'][_0x582f74(0x189)](function(_0x138ed9){var _0x3ed71d=_0x582f74,_0x22aa40=Object[_0x3ed71d(0xde)]({},_0x25719d);return _0x22aa40[_0x14153e[_0x3ed71d(0xc3)]]=_0x138ed9,_0x22aa40;});});}),newItems=[],varContainer[_0x14bebe(0x112)]='',_0x49a59a[_0x14bebe(0x186)](function(_0x5f0623,_0x2d6958){var _0x582cf9=_0x14bebe,_0x3ed930=JSON[_0x582cf9(0x16b)](JSON[_0x582cf9(0x1a8)](baseItem));_0x3ed930[_0x582cf9(0x198)]=_0x5f0623,_0x3ed930['setItemVariantName']=baseItem[_0x582cf9(0x164)]+'\x20'+Object['entries'](_0x5f0623)[_0x582cf9(0x189)](_0x824d38=>_0x824d38[0x0]+'\x20'+_0x824d38[0x1])[_0x582cf9(0x17d)]('\x20'),newItems['push'](_0x3ed930);var _0x4e5ac4=document[_0x582cf9(0x117)](_0x582cf9(0x159));_0x4e5ac4[_0x582cf9(0x1c2)]['add']('variantForm'),_0x4e5ac4['dataset'][_0x582cf9(0x1a4)]=_0x2d6958,_0x4e5ac4[_0x582cf9(0x112)]=_0x582cf9(0x151)+_0x3ed930[_0x582cf9(0x1bd)]+_0x582cf9(0x13f)+_0x3ed930['setItemCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x3ed930[_0x582cf9(0xe4)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x3ed930['setItemDateExpiry']+_0x582cf9(0xc9)+_0x2d6958+_0x582cf9(0x1b8)+_0x2d6958+_0x582cf9(0xbe)+_0x2d6958+_0x582cf9(0x104),varContainer['appendChild'](_0x4e5ac4),_0x4e5ac4['querySelector'](_0x582cf9(0x142))[_0x582cf9(0x17f)](_0x582cf9(0xff),_0x6c8529=>newItems[_0x2d6958][_0x582cf9(0x1d9)]=_0x6c8529[_0x582cf9(0x12b)][_0x582cf9(0x111)]),_0x4e5ac4['querySelector']('.variantBarCode')[_0x582cf9(0x17f)]('input',_0x56c8c8=>newItems[_0x2d6958]['setItemBarCode']=_0x56c8c8[_0x582cf9(0x12b)][_0x582cf9(0x111)]),_0x4e5ac4[_0x582cf9(0xfd)](_0x582cf9(0x166))[_0x582cf9(0x17f)](_0x582cf9(0x10c),_0x203a47=>newItems[_0x2d6958][_0x582cf9(0x13e)]=_0x203a47[_0x582cf9(0x12b)][_0x582cf9(0x111)]),initVariantUnits(_0x2d6958),initVariantComponents(_0x2d6958),initVariantBranches(_0x2d6958),_0x4e5ac4[_0x582cf9(0xfd)]('.removeVariant')[_0x582cf9(0x17f)](_0x582cf9(0x13a),function(){var _0x7f89cc=_0x582cf9,_0x484546=+_0x4e5ac4[_0x7f89cc(0x114)]['idx'];newItems[_0x7f89cc(0x154)](_0x484546,0x1),_0x4e5ac4[_0x7f89cc(0x10b)](),document[_0x7f89cc(0x191)]('.variantForm')[_0x7f89cc(0x186)](function(_0x24bca4,_0x39d33f){var _0x3b3293=_0x7f89cc;_0x24bca4[_0x3b3293(0x114)]['idx']=_0x39d33f;});});});if(newItems[_0x14bebe(0x125)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x44c87c){var _0x3642dc=_0x3119e4,_0x328b21=document[_0x3642dc(0x128)](_0x3642dc(0x118)+_0x44c87c+_0x3642dc(0x1a6)),_0x7b9930=[];Array[_0x3642dc(0x157)](_0x328b21[_0x3642dc(0x1cd)])['forEach'](function(_0x5b320f){var _0x349f53=_0x3642dc,_0x4a03bc=+_0x5b320f[_0x349f53(0xfd)](_0x349f53(0x193))[_0x349f53(0x111)]||0x0,_0xb0edb=_0x5b320f['querySelector'](_0x349f53(0x1be))[_0x349f53(0x111)][_0x349f53(0x1bb)](),_0x9902ea=_0x5b320f[_0x349f53(0xfd)]('.unitSelect')[_0x349f53(0x111)],_0x357c9a=+_0x5b320f[_0x349f53(0xfd)](_0x349f53(0x195))[_0x349f53(0x111)]||0x0,_0x489205=+_0x5b320f[_0x349f53(0xfd)]('.costInput')[_0x349f53(0x111)]||0x0,_0x460a0b=_0x5b320f[_0x349f53(0x114)][_0x349f53(0x10e)]==='true',_0x45a19a=+_0x328b21[_0x349f53(0xfd)](_0x349f53(0x1b1))[_0x349f53(0x111)]||0x1,_0x18ea1d=_0x460a0b?0x1:_0x4a03bc==_0x45a19a?0x1:_0x4a03bc<_0x45a19a?_0x45a19a/_0x4a03bc:_0x4a03bc/_0x45a19a;_0x7b9930[_0x349f53(0x134)]({'setAlias':_0xb0edb,'setUnitCode':_0x9902ea,'setEquivalence':_0x4a03bc,'setFactor':_0x18ea1d,'setPrice':_0x357c9a,'setCost':_0x489205,'setDefault':_0x460a0b?0x1:0x0});}),newItems[_0x44c87c]['setItemUnits']=_0x7b9930;}function initVariantUnits(_0x4ad18b){var _0x87ac01=_0x3119e4,_0x22ecbf=document[_0x87ac01(0x128)]('variant_'+_0x4ad18b+'_units_container');_0x22ecbf[_0x87ac01(0x112)]='',newItems[_0x4ad18b][_0x87ac01(0x11f)][_0x87ac01(0x186)](function(_0x68f24){var _0x8607d2=_0x87ac01;addUnit(_0x68f24['setAlias'],_0x68f24[_0x8607d2(0x1b4)],_0x68f24['setEquivalence'],_0x68f24[_0x8607d2(0xc1)],_0x68f24['setPrice'],_0x68f24[_0x8607d2(0x19e)],_0x22ecbf);}),_0x22ecbf[_0x87ac01(0x194)][_0x87ac01(0xfd)]('.addVariantUnit')[_0x87ac01(0x17f)](_0x87ac01(0x13a),function(){addUnit('','',0x1,![],'','',_0x22ecbf),updateVariantUnits(_0x4ad18b);});}function updateVariantUnits(_0x23fe05){var _0x3513bc=_0x3119e4,_0x3ff1c2=document[_0x3513bc(0x128)]('variant_'+_0x23fe05+'_units_container'),_0x46d392=_0x3ff1c2[_0x3513bc(0xfd)](_0x3513bc(0x1b1)),_0x3f6ed6=_0x46d392?+_0x46d392[_0x3513bc(0x111)]:0x1,_0x4ca6bb=Array[_0x3513bc(0x157)](_0x3ff1c2['children'])[_0x3513bc(0x189)](function(_0x2fe7c5){var _0x296b6c=_0x3513bc,_0x1a6a0e=_0x2fe7c5[_0x296b6c(0xfd)]('.unitAlias')[_0x296b6c(0x111)][_0x296b6c(0x1bb)](),_0x498776=_0x2fe7c5[_0x296b6c(0xfd)]('.unitSelect')[_0x296b6c(0x111)],_0x2a8e95=+_0x2fe7c5[_0x296b6c(0xfd)](_0x296b6c(0x193))[_0x296b6c(0x111)]||0x0,_0x7550b1=+_0x2fe7c5[_0x296b6c(0xfd)](_0x296b6c(0x195))[_0x296b6c(0x111)]||0x0,_0x47ad17=+_0x2fe7c5[_0x296b6c(0xfd)](_0x296b6c(0x18f))[_0x296b6c(0x111)]||0x0,_0x9127f9=_0x2fe7c5[_0x296b6c(0x114)][_0x296b6c(0x10e)]===_0x296b6c(0x115);return{'setAlias':_0x1a6a0e,'setUnitCode':_0x498776,'setEquivalence':_0x2a8e95,'setFactor':_0x9127f9?0x1:_0x2a8e95==_0x3f6ed6?0x1:_0x2a8e95<_0x3f6ed6?_0x3f6ed6/_0x2a8e95:_0x2a8e95/_0x3f6ed6,'setPrice':_0x7550b1,'setCost':_0x47ad17,'setDefault':_0x9127f9?0x1:0x0};});newItems[_0x23fe05]['setItemUnits']=_0x4ca6bb;}function initVariantComponents(_0x46a254){var _0x191f58=_0x3119e4,_0x5cb747=document[_0x191f58(0x128)](_0x191f58(0x118)+_0x46a254+_0x191f58(0x119));_0x5cb747[_0x191f58(0x112)]='',newItems[_0x46a254][_0x191f58(0xfa)][_0x191f58(0x186)](function(_0x1dcfef){var _0x2bf0db=_0x191f58,_0x4b8396=document[_0x2bf0db(0x117)](_0x2bf0db(0x159)),_0x275d0a=Date[_0x2bf0db(0x175)]();_0x4b8396[_0x2bf0db(0x114)][_0x2bf0db(0x1a4)]=_0x275d0a,_0x4b8396[_0x2bf0db(0x112)]=_0x2bf0db(0x190)+_0x275d0a+_0x2bf0db(0xd8)+_0x1dcfef[_0x2bf0db(0x121)]+_0x2bf0db(0x16c),_0x5cb747['appendChild'](_0x4b8396),initProdSearch(_0x4b8396['querySelector']('.prod_input_container'),{'id':_0x1dcfef['setItemId'],'name':_0x1dcfef[_0x2bf0db(0x1a7)]}),_0x4b8396[_0x2bf0db(0xfd)](_0x2bf0db(0x13b))['addEventListener'](_0x2bf0db(0xff),function(){updateVariantComponents(_0x46a254);}),_0x4b8396[_0x2bf0db(0xfd)]('.removeCombo')[_0x2bf0db(0x17f)](_0x2bf0db(0x13a),function(){var _0x3d61a7=_0x2bf0db;_0x4b8396[_0x3d61a7(0x10b)](),updateVariantComponents(_0x46a254);});}),_0x5cb747[_0x191f58(0x194)][_0x191f58(0xfd)](_0x191f58(0xf0))[_0x191f58(0x17f)]('click',function(){var _0x28d634=_0x191f58,_0x2b9e42=document[_0x28d634(0x117)]('div'),_0x3a87b6=Date[_0x28d634(0x175)]();_0x2b9e42[_0x28d634(0x114)][_0x28d634(0x1a4)]=_0x3a87b6,_0x2b9e42[_0x28d634(0x112)]=_0x28d634(0x190)+_0x3a87b6+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x5cb747[_0x28d634(0xc4)](_0x2b9e42),initProdSearch(_0x2b9e42[_0x28d634(0xfd)](_0x28d634(0xfe))),_0x2b9e42[_0x28d634(0xfd)](_0x28d634(0x13b))[_0x28d634(0x17f)](_0x28d634(0xff),function(){updateVariantComponents(_0x46a254);}),_0x2b9e42[_0x28d634(0xfd)](_0x28d634(0xf6))[_0x28d634(0x17f)]('click',function(){_0x2b9e42['remove'](),updateVariantComponents(_0x46a254);});});}function updateVariantComponents(_0x5c0b96){var _0x1b35da=_0x3119e4,_0x3898ab=document[_0x1b35da(0x128)](_0x1b35da(0x118)+_0x5c0b96+_0x1b35da(0x119)),_0x1044c1=Array[_0x1b35da(0x157)](_0x3898ab[_0x1b35da(0x1cd)])[_0x1b35da(0x189)](function(_0x72d7e4){var _0xb9ed44=_0x1b35da,_0x482bf6=_0x72d7e4['querySelector'](_0xb9ed44(0xfe)),_0x5d0e5d=_0x482bf6['selectedItem'],_0x6588b0=+_0x72d7e4[_0xb9ed44(0xfd)]('.prodQty')[_0xb9ed44(0x111)]||0x0;return _0x5d0e5d?{'setItemId':_0x5d0e5d['id'],'setDescripcion':_0x5d0e5d[_0xb9ed44(0xc3)],'setCantidad':_0x6588b0}:null;})[_0x1b35da(0xf1)](_0x4f444c=>_0x4f444c);newItems[_0x5c0b96]['setItemComponents']=_0x1044c1;}function initVariantBranches(_0x10979f){var _0x1337bc=_0x3119e4;const _0x101e3b=getAllWarehouses();var _0x47a0fb=document[_0x1337bc(0x128)](_0x1337bc(0x118)+_0x10979f+_0x1337bc(0x17c));_0x47a0fb[_0x1337bc(0x112)]='',newItems[_0x10979f][_0x1337bc(0x15e)]['forEach'](function(_0x37a23a){var _0x38188c=_0x1337bc,_0x25b135=_0x101e3b['find'](_0x5d6149=>_0x5d6149[_0x38188c(0xc8)]==_0x37a23a[_0x38188c(0x137)]),_0xa3b566=document[_0x38188c(0x117)](_0x38188c(0x159));_0xa3b566[_0x38188c(0x112)]=_0x38188c(0x110)+_0x37a23a[_0x38188c(0x137)]+_0x38188c(0xec)+_0x25b135[_0x38188c(0x1b7)]+_0x38188c(0x109)+_0x37a23a['setWarehouseCode']+_0x38188c(0xe8)+_0x37a23a[_0x38188c(0x1b2)]+_0x38188c(0x129)+_0x37a23a[_0x38188c(0x137)]+_0x38188c(0xe8)+_0x37a23a[_0x38188c(0xd6)]+'\x22>',_0x47a0fb['appendChild'](_0xa3b566),_0xa3b566[_0x38188c(0x191)]('input')[_0x38188c(0x186)](function(_0x366303){var _0x27b88a=_0x38188c;_0x366303['addEventListener'](_0x27b88a(0xff),function(){updateVariantBranches(_0x10979f);});});}),_0x101e3b[_0x1337bc(0x186)](function(_0x39a403){var _0x3406ce=_0x1337bc;if(!newItems[_0x10979f][_0x3406ce(0x15e)]['find'](_0x3c0a23=>_0x3c0a23['setWarehouseCode']===_0x39a403[_0x3406ce(0xc8)])){var _0x300809=document[_0x3406ce(0x117)](_0x3406ce(0x159));_0x300809[_0x3406ce(0x112)]=_0x3406ce(0x110)+_0x39a403[_0x3406ce(0xc8)]+_0x3406ce(0xe3)+_0x39a403['setWarehouseName']+_0x3406ce(0x109)+_0x39a403[_0x3406ce(0xc8)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x39a403[_0x3406ce(0xc8)]+'\x22>',_0x47a0fb['appendChild'](_0x300809),_0x300809[_0x3406ce(0x191)](_0x3406ce(0xff))['forEach'](function(_0x2fc3af){var _0x206eb6=_0x3406ce;_0x2fc3af[_0x206eb6(0x17f)](_0x206eb6(0xff),function(){updateVariantBranches(_0x10979f);});});}});}function _0x3b0b(){var _0x158676=['316650xdUgar','div','newItem_variants_forms','setCodProducto','setFactor','accept','setItemWarehouses','string','type','Enter','152mODeDA','indexOf','setItemName','#newItem_units_container\x20>\x20div','.variantExpiry','setImpuestoValue','items','78HjHwCs','className','parse','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','bind','some','oncomplete','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','textContent','__proto__','.ms_input','toggle','now','message','Error\x20al\x20procesar\x20la\x20operación:','newItem_btn_addUnit','arrayBuffer','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','</div>','_branch_container','join','setImpuestoName','addEventListener','objectStore','exception','tag','onload','remove-file','progress','forEach','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','span','map','key','files','setTaxIdDefault','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','2975638GkqNfR','.costInput','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','querySelectorAll','detalleModalCreateItem','.eqInput','parentNode','.priceInput','setTaxId','setItemTaxId','setItemVariantValues','setItemIsSold','code','defineProperty','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setCategoria','setCost','percent','setItemDescription','includes','contains','undefined','idx','.branchChk','_units_container','setDescripcion','stringify','currentTarget','modalProductNewTitle','readwrite','setUnitPresentationId','setWebhook','./img/product.png','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','#newItem_categories_select\x20.selected_tags','div[data-default=\x22true\x22]\x20.eqInput','setStockInitial','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','setUnitCode','newItem_title_table_cp','selectionChange','setWarehouseName','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','.prodInput','inputItemName','trim','</label>','setItemVariantName','.unitAlias','style=\x22display:none\x22','none','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','classList','result','❌\x20Error:\x20','preventDefault','setMarca','.vgVals','385677yApwMQ','newItem_categories_select','priceInput','modalOverlayCreateItem','style','children','.selected_tags','696010xOOdJx','windowId','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','newItem_chk_sell','sort','prototype','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','Ingresa\x20el\x20código\x20del\x20item','upload-btn','setItemCode','eqInput','postMessage','hidden','transaction','focus','1iPPORF','#newItem_brands_select\x20.selected_tags','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','dispatchEvent','.vgName','setDefault','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','name','appendChild','inputItemDateExpiry','file','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setWarehouseId','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_hidden','getElementsByClassName','setName','find','setItemInventoriable','setCode','dataTransfer','Producto\x20Libre','Producto\x20Guardado\x20Offline\x20Correctamente.','inputItemTax','log','dragleave','setStockMinimum','test','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','100','remove-tag','display','setUnidad','4042612locGzE','assign','newItem_btn_addProdItem','Items\x20finales:','<img\x20src=\x22','setItemBrands','\x22\x20class=\x22branchChk\x22>\x20','setItemBarCode','inputItemDescription','console','file-input','\x22\x20value=\x22','drop-zone','costInput','active','\x22\x20class=\x22branchChk\x22\x20checked>\x20','setMoneda','.drop-zone__prompt','image_box','.addVariantComp','filter','setImpuestoCode','toString','every','add','.removeCombo','.options_list','setItemCategories','setItemFree','setItemComponents','status','warn','querySelector','.prod_input_container','input','187820YqGsdI','(((.+)+)+)+$','onerror','[data-idx=\x22','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','block','newItem_branches_container','Nuevo\x20Producto','disabled','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','stopPropagation','remove','change','.branchInit','default','.removeProd','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','value','innerHTML','flatMap','dataset','true','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','createElement','variant_','_comp_container','offline_operations','slice','setImpuestos','setItemImages','inputItemCode','setItemUnits','search','setCantidad','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','fill','87snyZqC','length','.removeGroup','setItemType','getElementById','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','compare','target','16944103mSqWrh','constructor','closeModalCreateItem','toLowerCase','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','checked','Error\x20al\x20guardar\x20Producto\x20Offline:','.unitSelect','push','blur','setItemTaxValue','setWarehouseCode','drop','dragover','click','.prodQty','selectedItem','[id$=\x22_comp_container\x22]','setItemDateExpiry','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','.branchMin','inputItemType','.variantCode','newItem_units_container','newItem_title_table','image/*','{}.constructor(\x22return\x20this\x22)(\x20)','setItemTaxCode','apply','setPrice','setItemIsBought','unitAlias','<div\x20class=\x22newItem_col\x22>','base','newItem_chk_buy','split','closest','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','error','newItem_brands_select','splice','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','table','from'];_0x3b0b=function(){return _0x158676;};return _0x3b0b();}function updateVariantBranches(_0x2ea942){var _0x295284=_0x3119e4,_0x30b5d7=document[_0x295284(0x128)](_0x295284(0x118)+_0x2ea942+_0x295284(0x17c)),_0x5215c8=[];_0x30b5d7[_0x295284(0x191)](_0x295284(0x159))[_0x295284(0x186)](function(_0x5825a4){var _0x1f2156=_0x295284,_0x452b97=_0x5825a4[_0x1f2156(0xfd)](_0x1f2156(0x1a5));if(_0x452b97[_0x1f2156(0x131)]){var _0xb1431d=+_0x452b97[_0x1f2156(0x114)]['id'],_0x54908a=+_0x5825a4[_0x1f2156(0xfd)](_0x1f2156(0x10d))[_0x1f2156(0x111)]||0x0,_0x5689a6=+_0x5825a4['querySelector'](_0x1f2156(0x140))[_0x1f2156(0x111)]||0x0;_0x5215c8['push']({'setWarehouseCode':_0xb1431d,'setStockInitial':_0x54908a,'setStockMinimum':_0x5689a6});}}),newItems[_0x2ea942][_0x295284(0x15e)]=_0x5215c8;}async function storeOfflineProduct(_0x533f7c){var _0x3a5b9b=_0x3119e4;try{const _0x3be5e1=await createCartStore(''),_0x3f1de5=_0x3be5e1[_0x3a5b9b(0x1dd)](_0x3a5b9b(0x11a),_0x3a5b9b(0x1ab)),_0x9f58e6=_0x3f1de5[_0x3a5b9b(0x180)](_0x3a5b9b(0x11a));_0x9f58e6[_0x3a5b9b(0xf5)](_0x533f7c),_0x3f1de5[_0x3a5b9b(0x16f)]=()=>{var _0x4df0a0=_0x3a5b9b;console[_0x4df0a0(0xd4)](_0x4df0a0(0xd2));},_0x3f1de5[_0x3a5b9b(0x102)]=_0x3e53e9=>{var _0x20c4e4=_0x3a5b9b;console[_0x20c4e4(0x152)](_0x20c4e4(0x132),_0x3e53e9[_0x20c4e4(0x12b)][_0x20c4e4(0x152)]);};}catch(_0x1f01c4){console[_0x3a5b9b(0x152)](_0x3a5b9b(0x177),_0x1f01c4);}}document[_0x3119e4(0x128)]('btnItemSave')[_0x3119e4(0x17f)](_0x3119e4(0x13a),async function(_0x2e244e){var _0x380b44=_0x3119e4;_0x2e244e['preventDefault']();const _0x579bb9=document[_0x380b44(0x128)]('inputItemCode'),_0xb57938=document[_0x380b44(0x128)](_0x380b44(0xf9))['value'];if(!_0x579bb9[_0x380b44(0x111)][_0x380b44(0x1bb)]()&&_0xb57938==0x0){ntfShow(_0x380b44(0x1d7),0x2,0x1);return;}const _0x19bb9e=document[_0x380b44(0x128)](_0x380b44(0x1ba));if(!_0x19bb9e[_0x380b44(0x111)][_0x380b44(0x1bb)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}hideModalCreateItem(),showLoadingModal();newItems[_0x380b44(0x125)]===0x0&&(newItems=[baseItem]);const _0x3fd6b5=document[_0x380b44(0x128)](_0x380b44(0x1d0))[_0x380b44(0x111)],_0x5b1cf6=window_options[_0x3fd6b5]['setMoneda'];let _0x3d1121=generateNumericUniqId()*0x64+0x1f4,_0x5123d9=generateNumericUniqId()*0xa;const _0x2186dd=[];newItems[_0x380b44(0x186)](_0x571851=>{var _0x35b0e5=_0x380b44;const _0x30afdb=++_0x5123d9;_0x571851[_0x35b0e5(0x11f)]['forEach'](_0x3b1ee5=>{var _0x178524=_0x35b0e5;const _0x1e8185=++_0x3d1121;_0x3b1ee5[_0x178524(0x1ac)]=_0x1e8185;const _0x11582b={'id':_0x1e8185,'setIdProducto':_0x30afdb,'setCodProducto':_0x571851[_0x178524(0x1d9)],'setDescripcion':_0x571851[_0x178524(0x1bd)]!=''?_0x571851[_0x178524(0x1bd)]:_0x571851[_0x178524(0x164)],'setItemDescription':_0x571851[_0x178524(0x1a0)],'setBatchExpirationDate':_0x571851[_0x178524(0x13e)],'setBatchName':'','setCategoria':_0x571851[_0x178524(0xf8)][0x0]||'','setMarca':_0x571851[_0x178524(0xe2)][0x0]||'','setConversionFactor':parseFloat(_0x3b1ee5[_0x178524(0x15c)]),'setImages':[],'setImg':_0x178524(0x1ae),'setInventariable':0x1,'setItemIsBought':_0x571851[_0x178524(0x14a)]?0x1:0x0,'setItemIsSold':_0x571851[_0x178524(0x199)]?0x1:0x0,'setPorcentajeIgv':_0x571851['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x571851[_0x178524(0x197)],'setTipAfeIgv':_0x571851['setItemTaxCode'],'setUnidad':_0x3b1ee5[_0x178524(0x1b4)],'setUnidadCodigo':_0x3b1ee5['setUnitCode'],'currency_data':[{'currency':_0x5b1cf6,'setMtoPrecioCostoUnitario':_0x3b1ee5[_0x178524(0x19e)],'setMtoPrecioUnitario':_0x3b1ee5['setPrice'],'setPriceLists':[]}],'sucursales':_0x571851['setItemWarehouses'][_0x178524(0x189)](_0x24ad6e=>({'setIdSucursal':_0x24ad6e[_0x178524(0x137)],'setSucursalStock':_0x24ad6e[_0x178524(0x1b2)][_0x178524(0xf3)](),'setWarehouseStockMin':_0x24ad6e[_0x178524(0xd6)]['toString']()})),'setItemFree':_0x571851[_0x178524(0xf9)],'setItemBarCode':_0x571851[_0x178524(0xe4)],'setItemBrands':_0x571851['setItemBrands'][_0x178524(0x11b)](),'setItemCategories':_0x571851['setItemCategories']['slice'](),'setItemComponents':_0x571851[_0x178524(0xfa)][_0x178524(0x189)](_0x568ef7=>({..._0x568ef7})),'setItemImages':_0x571851[_0x178524(0x11d)][_0x178524(0x11b)](),'setItemVariantName':_0x571851[_0x178524(0x1bd)],'setItemVariantValues':{..._0x571851[_0x178524(0x198)]}};_0x2186dd[_0x178524(0x134)](_0x11582b),addToCart(_0x11582b);});}),console[_0x380b44(0xd4)](_0x380b44(0xe0),newItems),await finalizeImport(_0x2186dd,newItems,![]);}),['dragenter',_0x3119e4(0x139)][_0x3119e4(0x186)](_0x5639c0=>dropZone[_0x3119e4(0x17f)](_0x5639c0,_0x3e5efb=>{var _0x1c78d8=_0x3119e4;_0x3e5efb['preventDefault'](),dropZone[_0x1c78d8(0x1c2)]['add']('dragover');})),[_0x3119e4(0xd5),_0x3119e4(0x138)][_0x3119e4(0x186)](_0x277cfe=>dropZone[_0x3119e4(0x17f)](_0x277cfe,_0x11e2b6=>{var _0x3475f8=_0x3119e4;_0x11e2b6[_0x3475f8(0x1c5)](),dropZone[_0x3475f8(0x1c2)][_0x3475f8(0x10b)](_0x3475f8(0x139));})),dropZone['addEventListener']('drop',_0x3fc83a=>{var _0x276e9d=_0x3119e4;const _0x14a2fe=_0x3fc83a[_0x276e9d(0xd0)]['files'][0x0];if(!_0x14a2fe)return;fileInput[_0x276e9d(0x18b)]=_0x3fc83a[_0x276e9d(0xd0)][_0x276e9d(0x18b)],dropZone['querySelector'](_0x276e9d(0xee))['textContent']=_0x14a2fe[_0x276e9d(0xc3)],removeBtn['hidden']=![],fileInput[_0x276e9d(0xbf)](new Event(_0x276e9d(0x10c)));}),removeBtn[_0x3119e4(0x17f)](_0x3119e4(0x13a),()=>{var _0x2d2274=_0x3119e4;fileInput['value']='',dropZone[_0x2d2274(0xfd)]('.drop-zone__prompt')['textContent']=_0x2d2274(0x130),removeBtn[_0x2d2274(0x1dc)]=!![],progressBar[_0x2d2274(0x1cc)][_0x2d2274(0xdb)]=_0x2d2274(0x1c0),statusDiv[_0x2d2274(0x171)]='',uploadBtn['disabled']=!![];}),itemWorker['onmessage']=({data:_0x20b999})=>{var _0x14a5e6=_0x3119e4;const {type:_0x433764,payload:_0x3ac114}=_0x20b999;_0x433764===_0x14a5e6(0x185)&&(progressBar[_0x14a5e6(0x1cc)][_0x14a5e6(0xdb)]=_0x14a5e6(0x105),progressBar[_0x14a5e6(0x111)]=_0x3ac114[_0x14a5e6(0x19f)],statusDiv[_0x14a5e6(0x171)]=_0x3ac114[_0x14a5e6(0x176)]),_0x433764==='done'&&(newItemsExcel=_0x3ac114[_0x14a5e6(0x168)],statusDiv[_0x14a5e6(0x171)]='✅\x20'+newItemsExcel[_0x14a5e6(0x125)]+'\x20items\x20procesados.',uploadBtn[_0x14a5e6(0x108)]=![],progressBar[_0x14a5e6(0x111)]=0x64,console[_0x14a5e6(0xd4)](newItemsExcel)),_0x433764===_0x14a5e6(0x152)&&(statusDiv[_0x14a5e6(0x171)]=_0x14a5e6(0x1c4)+_0x3ac114,progressBar['style']['display']=_0x14a5e6(0x1c0));},fileInput['addEventListener'](_0x3119e4(0x10c),async _0x15e985=>{var _0x520c22=_0x3119e4;const _0x33f347=_0x15e985[_0x520c22(0x12b)][_0x520c22(0x18b)][0x0];if(!_0x33f347)return;uploadBtn[_0x520c22(0x108)]=!![],newItemsExcel=null,statusDiv[_0x520c22(0x171)]='',progressBar['style'][_0x520c22(0xdb)]='none',dropZone[_0x520c22(0xfd)](_0x520c22(0xee))['textContent']=_0x33f347['name'],removeBtn[_0x520c22(0x1dc)]=![];try{const _0x12348e=await _0x33f347[_0x520c22(0x179)]();itemWorker[_0x520c22(0x1db)]({'buf':_0x12348e,'maxRows':0x1388});}catch(_0x58fd5a){statusDiv[_0x520c22(0x171)]=_0x520c22(0x19c);}finally{fileInput[_0x520c22(0x111)]='';}}),uploadBtn[_0x3119e4(0x17f)]('click',async()=>{var _0x1289da=_0x3119e4;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5e33e5=document['getElementById'](_0x1289da(0x1d0))[_0x1289da(0x111)],_0x5dac6e=window_options[_0x5e33e5][_0x1289da(0xed)],_0x2f6ca7=document['getElementById'](_0x1289da(0xc8))[_0x1289da(0x111)];let _0x3bb16e=generateNumericUniqId()*0x64+0x1f4,_0x247cce=generateNumericUniqId()*0xa;const _0x1c115a=[];newItemsExcel[_0x1289da(0x186)](_0x3bc0cb=>{var _0x19d3d2=_0x1289da;const _0x1b655f=++_0x247cce;_0x3bc0cb[_0x19d3d2(0x15e)]=[{'setStockInitial':_0x3bc0cb[_0x19d3d2(0x1b2)],'setStockMinimum':_0x3bc0cb[_0x19d3d2(0xd6)],'setWarehouseCode':_0x2f6ca7}],_0x3bc0cb[_0x19d3d2(0x11f)][_0x19d3d2(0x186)](_0x33fe50=>{var _0x18e89a=_0x19d3d2;const _0x5c340c=++_0x3bb16e;_0x33fe50['setUnitPresentationId']=_0x5c340c;const _0x311df9={'id':_0x5c340c,'setIdProducto':_0x1b655f,'setCodProducto':_0x3bc0cb[_0x18e89a(0x1d9)],'setDescripcion':_0x3bc0cb[_0x18e89a(0x1bd)]||_0x3bc0cb[_0x18e89a(0x164)],'setItemDescription':_0x3bc0cb[_0x18e89a(0x1a0)],'setBatchExpirationDate':_0x3bc0cb['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x3bc0cb[_0x18e89a(0xf8)][0x0]||'','setMarca':_0x3bc0cb['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x33fe50[_0x18e89a(0x15c)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x3bc0cb[_0x18e89a(0xce)]?0x1:0x0,'setItemIsBought':_0x3bc0cb['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x3bc0cb['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x3bc0cb[_0x18e89a(0x136)],'setPrinters':[],'setTaxId':_0x3bc0cb[_0x18e89a(0x197)],'setTipAfeIgv':_0x3bc0cb[_0x18e89a(0x147)],'setUnidad':_0x33fe50[_0x18e89a(0x1b4)],'setUnidadCodigo':_0x33fe50[_0x18e89a(0x1b4)],'currency_data':[{'currency':_0x5dac6e,'setMtoPrecioCostoUnitario':_0x33fe50[_0x18e89a(0x19e)],'setMtoPrecioUnitario':_0x33fe50[_0x18e89a(0x149)],'setPriceLists':[]}],'sucursales':_0x3bc0cb[_0x18e89a(0x15e)][_0x18e89a(0x189)](_0x10d1a1=>({'setIdSucursal':_0x10d1a1[_0x18e89a(0x137)],'setSucursalStock':_0x10d1a1[_0x18e89a(0x1b2)][_0x18e89a(0xf3)](),'setWarehouseStockMin':_0x10d1a1[_0x18e89a(0xd6)]['toString']()})),'setItemFree':_0x3bc0cb[_0x18e89a(0xf9)],'setItemBarCode':_0x3bc0cb[_0x18e89a(0xe4)],'setItemBrands':_0x3bc0cb[_0x18e89a(0xe2)][_0x18e89a(0x11b)](),'setItemCategories':_0x3bc0cb[_0x18e89a(0xf8)][_0x18e89a(0x11b)](),'setItemComponents':_0x3bc0cb['setItemComponents'][_0x18e89a(0x189)](_0x5917d8=>({..._0x5917d8})),'setItemImages':_0x3bc0cb[_0x18e89a(0x11d)]['slice'](),'setItemVariantName':_0x3bc0cb[_0x18e89a(0x1bd)],'setItemVariantValues':{..._0x3bc0cb[_0x18e89a(0x198)]}};_0x1c115a[_0x18e89a(0x134)](_0x311df9);});}),console[_0x1289da(0xd4)](_0x1289da(0xe0),newItems),await finalizeImport(_0x1c115a,newItemsExcel,!![]);});function initializeFormImages(){var _0x170b6e=_0x3119e4;currentImages=Array(MAX_IMAGES)[_0x170b6e(0x123)](null),imgC[_0x170b6e(0x112)]='',baseItem[_0x170b6e(0x11d)]=[];for(var _0x56276a=0x0;_0x56276a<MAX_IMAGES;_0x56276a++){(function(_0x4b97fd){var _0x8c836c=_0x170b6e,_0x10c850=document[_0x8c836c(0x117)](_0x8c836c(0x159));_0x10c850[_0x8c836c(0x16a)]=_0x8c836c(0xef),_0x10c850[_0x8c836c(0x114)][_0x8c836c(0x1a4)]=_0x4b97fd;var _0x5b72b1=document['createElement'](_0x8c836c(0xff));_0x5b72b1[_0x8c836c(0x160)]=_0x8c836c(0xc6),_0x5b72b1[_0x8c836c(0x15d)]=_0x8c836c(0x145),_0x5b72b1[_0x8c836c(0x1cc)]['display']=_0x8c836c(0x1c0);var _0x183799=document[_0x8c836c(0x117)](_0x8c836c(0x188));_0x183799[_0x8c836c(0x171)]='+',_0x10c850[_0x8c836c(0xc4)](_0x5b72b1),_0x10c850['appendChild'](_0x183799),imgC['appendChild'](_0x10c850),_0x10c850[_0x8c836c(0x17f)](_0x8c836c(0x13a),function(){_0x5b72b1['click']();}),_0x5b72b1[_0x8c836c(0x17f)](_0x8c836c(0x10c),function(_0x1d842a){var _0x4a072a=_0x8c836c,_0x1cb3a9=_0x1d842a['target'][_0x4a072a(0x18b)][0x0];if(!_0x1cb3a9)return removeImg(_0x4b97fd);var _0x23686a=new FileReader();_0x23686a[_0x4a072a(0x183)]=function(_0x2a6bd7){var _0x251b0d=_0x4a072a;_0x10c850[_0x251b0d(0x112)]=_0x251b0d(0xe1)+_0x2a6bd7[_0x251b0d(0x12b)][_0x251b0d(0x1c3)]+'\x22>';var _0x202bfd=document[_0x251b0d(0x117)](_0x251b0d(0x188));_0x202bfd[_0x251b0d(0x16a)]=_0x251b0d(0x10b),_0x202bfd[_0x251b0d(0x171)]='×',_0x202bfd[_0x251b0d(0x17f)](_0x251b0d(0x13a),function(_0x38d377){var _0x114094=_0x251b0d;_0x38d377[_0x114094(0x10a)](),removeImg(_0x4b97fd);}),_0x10c850[_0x251b0d(0xc4)](_0x202bfd),currentImages[_0x4b97fd]=_0x1cb3a9,baseItem[_0x251b0d(0x11d)]=currentImages[_0x251b0d(0xf1)](function(_0xde59ef){return _0xde59ef;});},_0x23686a['readAsDataURL'](_0x1cb3a9);});}(_0x56276a));}}function initializeFormIsSoldIsBought(){var _0x36ae15=_0x3119e4;document[_0x36ae15(0x128)]('newItem_chk_buy')[_0x36ae15(0x131)]=!![],document[_0x36ae15(0x128)](_0x36ae15(0x1d3))['checked']=!![],baseItem[_0x36ae15(0x14a)]=!![],baseItem[_0x36ae15(0x199)]=!![];}function initializeFormInputsBasic(){var _0x5b2068=_0x3119e4;document[_0x5b2068(0x128)]('inputItemType')[_0x5b2068(0x111)]='1',document['getElementById'](_0x5b2068(0x11e))[_0x5b2068(0x111)]='',document[_0x5b2068(0x128)](_0x5b2068(0x1ba))[_0x5b2068(0x111)]='',document['getElementById'](_0x5b2068(0xe5))['value']='',document['getElementById'](_0x5b2068(0xc5))['value']='',document['getElementById']('inputItemBarCode')['value']='',baseItem[_0x5b2068(0x127)]='1',baseItem[_0x5b2068(0x1d9)]='',baseItem[_0x5b2068(0x164)]='',baseItem[_0x5b2068(0x1a0)]='',baseItem[_0x5b2068(0x13e)]='',baseItem[_0x5b2068(0xe4)]='';}function _0x1956(_0x3b4784,_0x39df7d){var _0x2fa0bd=_0x3b0b();return _0x1956=function(_0x3e459c,_0x11c4ad){_0x3e459c=_0x3e459c-0xbc;var _0x5efb60=_0x2fa0bd[_0x3e459c];return _0x5efb60;},_0x1956(_0x3b4784,_0x39df7d);}function initializeFormTax(){var _0x4c4d03=_0x3119e4;const _0x466f1c=myCompany[_0x4c4d03(0x18c)],_0x51a92f=document[_0x4c4d03(0x128)](_0x4c4d03(0xd3));_0x51a92f['value']=_0x466f1c,baseItem['setItemTaxId']=_0x466f1c;const _0x2353e4=company[0x0][_0x4c4d03(0x11c)]['find'](_0x620982=>_0x620982[_0x4c4d03(0x196)]==_0x466f1c)?.[_0x4c4d03(0xf2)]||0x0,_0x435585=company[0x0][_0x4c4d03(0x11c)][_0x4c4d03(0xcd)](_0x7242cf=>_0x7242cf[_0x4c4d03(0x196)]==_0x466f1c)?.[_0x4c4d03(0x167)]||0x0;baseItem['setItemTaxCode']=_0x2353e4,baseItem['setItemTaxValue']=_0x435585;}function initializeFormCategoriesBrands(){var _0x2ff9fd=_0x3119e4;baseItem[_0x2ff9fd(0xf8)]=[],baseItem[_0x2ff9fd(0xe2)]=[],document[_0x2ff9fd(0xfd)](_0x2ff9fd(0x1b0))[_0x2ff9fd(0x112)]='',document['querySelector']('#newItem_categories_select\x20.options_list')['innerHTML']='',document[_0x2ff9fd(0xfd)](_0x2ff9fd(0xbd))['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.options_list')['innerHTML']='';const _0x3b09a4=uniqueValuesArray('setCategoria',_0x2ff9fd(0x19d),products),_0x3b7dd0=uniqueValuesArray('setMarca',_0x2ff9fd(0x1c6),products),_0x5291d1=initMulti(_0x2ff9fd(0x1c9),_0x3b09a4),_0x3282cb=initMulti(_0x2ff9fd(0x153),_0x3b7dd0);document[_0x2ff9fd(0x128)]('newItem_categories_select')[_0x2ff9fd(0x17f)](_0x2ff9fd(0x1b6),function(_0x5d0642){var _0x5abe90=_0x2ff9fd;baseItem[_0x5abe90(0xf8)]=_0x5291d1[_0x5abe90(0x189)](_0x48c47f=>_0x48c47f[_0x5abe90(0xcf)]);}),document[_0x2ff9fd(0x128)]('newItem_brands_select')['addEventListener'](_0x2ff9fd(0x1b6),function(_0x497483){var _0x182bfa=_0x2ff9fd;baseItem[_0x182bfa(0xe2)]=_0x3282cb['map'](_0x56b31d=>_0x56b31d[_0x182bfa(0xcf)]);});}function initializeFormUnits(){var _0x4df9f3=_0x3119e4;unitCount=0x0,document['getElementById'](_0x4df9f3(0x143))[_0x4df9f3(0x112)]='',baseItem[_0x4df9f3(0x11f)]=[];var _0x525d76=uniqueValuesArray(_0x4df9f3(0xdc),'setUnidad',products);addUnit('',_0x525d76[0x0]&&_0x525d76[0x0][_0x4df9f3(0xcf)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0xe91977=_0x3119e4;prodC[_0xe91977(0x112)]='',baseItem[_0xe91977(0xfa)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x316a90=_0x3119e4;branchesC['innerHTML']='',baseItem[_0x316a90(0x15e)]=[];const _0x4f3612=getAllWarehouses();_0x4f3612[_0x316a90(0x186)](function(_0x5ea4bd){var _0x1b5bbb=_0x316a90,_0x378b28=document['createElement'](_0x1b5bbb(0x159));_0x378b28['innerHTML']=_0x1b5bbb(0x1b3)+_0x1b5bbb(0x14c)+_0x1b5bbb(0x1d1)+_0x5ea4bd[_0x1b5bbb(0xc8)]+_0x1b5bbb(0xec)+_0x5ea4bd[_0x1b5bbb(0x1b7)]+_0x1b5bbb(0x1bc)+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x1b5bbb(0xc2)+_0x5ea4bd[_0x1b5bbb(0xc8)]+'\x22>'+_0x1b5bbb(0x17b)+'<div\x20class=\x22newItem_col\x22>'+_0x1b5bbb(0x155)+_0x5ea4bd['setWarehouseId']+'\x22>'+_0x1b5bbb(0x17b)+'</div>',branchesC['appendChild'](_0x378b28),_0x378b28[_0x1b5bbb(0x191)]('input')['forEach'](function(_0x5d7b05){var _0x2e8367=_0x1b5bbb;_0x5d7b05[_0x2e8367(0x17f)]('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x20fa31=_0x3119e4;baseItem['setItemVariantName']='',baseItem[_0x20fa31(0x198)]={},vgC['innerHTML']='',varContainer[_0x20fa31(0x112)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x47bf0e,_0x4dfcb8,_0xe38b43=![]){var _0x58e51c=_0x3119e4;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x58e51c(0xd9),'setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x58e51c(0x1ad)],'newItems':_0x4dfcb8}),products[_0x58e51c(0x134)](..._0x47bf0e),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x58e51c(0x1d2)),_0xe38b43?(fileInput[_0x58e51c(0x111)]='',uploadBtn[_0x58e51c(0x108)]=!![],statusDiv[_0x58e51c(0x171)]='',progressBar[_0x58e51c(0x1cc)][_0x58e51c(0xdb)]=_0x58e51c(0x1c0),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}