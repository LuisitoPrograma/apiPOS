/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.7
*/

const _0x3aef33=_0x47da;function _0x47da(_0x3cda8e,_0x37bf5e){const _0x7cf917=_0x578f();return _0x47da=function(_0x49b973,_0x582da9){_0x49b973=_0x49b973-0x1e6;let _0x1cdf4b=_0x7cf917[_0x49b973];return _0x1cdf4b;},_0x47da(_0x3cda8e,_0x37bf5e);}(function(_0x58da68,_0x9b2c40){const _0x297dd7=_0x47da,_0x227beb=_0x58da68();while(!![]){try{const _0xf948dc=parseInt(_0x297dd7(0x1e8))/0x1+parseInt(_0x297dd7(0x20f))/0x2+-parseInt(_0x297dd7(0x213))/0x3+-parseInt(_0x297dd7(0x1e6))/0x4*(-parseInt(_0x297dd7(0x218))/0x5)+parseInt(_0x297dd7(0x205))/0x6*(parseInt(_0x297dd7(0x20a))/0x7)+-parseInt(_0x297dd7(0x202))/0x8+parseInt(_0x297dd7(0x1ea))/0x9*(-parseInt(_0x297dd7(0x219))/0xa);if(_0xf948dc===_0x9b2c40)break;else _0x227beb['push'](_0x227beb['shift']());}catch(_0x5e8b75){_0x227beb['push'](_0x227beb['shift']());}}}(_0x578f,0x25814));function _0x578f(){const _0x3e06e8=['utils','MARCA','sheet_to_json','Cod.\x20Barras','info','PRODUCTO\x20INVENTARIABLE','CODIGO(*)','length','table','PRECIO\x20VENTA','constructor','push',':\x20falta\x20TIPO,\x20CÓDIGO\x20o\x20NOMBRE.','trace','warn','bind','FECHA\x20VENCIMIENTO','(((.+)+)+)+$','map','1673648lxvIIx','return\x20(function()\x20','STOCK\x20INICIAL','18510WNAHLM','Iniciando\x20parseo…','console','search','round','427tQKgWp','code','TIPO(*)','{}.constructor(\x22return\x20this\x22)(\x20)','done','338634UEvtAj','__proto__','value','https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js','774675COHLcm','slice','TIPO\x20IGV(*)','prototype','UNIDAD\x20DE\x20MEDIDA(*)','1545sJzeUD','240pgUCxM','error','toString','SheetNames','array','3308kpZfIg','apply','87398owlfUF','\x20filas;\x20máximo\x20permitido:\x20','29772GzOFAB','Fila\x20','trim','NOMBRE(*)','exception'];_0x578f=function(){return _0x3e06e8;};return _0x578f();}const _0x3688eb=(function(){let _0x241923=!![];return function(_0xb7a350,_0x29e5bc){const _0x15432c=_0x241923?function(){const _0x2c2550=_0x47da;if(_0x29e5bc){const _0xd33657=_0x29e5bc[_0x2c2550(0x1e7)](_0xb7a350,arguments);return _0x29e5bc=null,_0xd33657;}}:function(){};return _0x241923=![],_0x15432c;};}()),_0x55f4ab=_0x3688eb(this,function(){const _0x4cc6ff=_0x47da;return _0x55f4ab[_0x4cc6ff(0x21b)]()[_0x4cc6ff(0x208)](_0x4cc6ff(0x200))['toString']()[_0x4cc6ff(0x1f9)](_0x55f4ab)[_0x4cc6ff(0x208)](_0x4cc6ff(0x200));});_0x55f4ab();const _0x582da9=(function(){let _0x5dce90=!![];return function(_0x549506,_0x36f05c){const _0x3325bd=_0x5dce90?function(){const _0x17e9cf=_0x47da;if(_0x36f05c){const _0x27c052=_0x36f05c[_0x17e9cf(0x1e7)](_0x549506,arguments);return _0x36f05c=null,_0x27c052;}}:function(){};return _0x5dce90=![],_0x3325bd;};}()),_0x49b973=_0x582da9(this,function(){const _0x3fd355=_0x47da;let _0x3abc21;try{const _0x59ee11=Function(_0x3fd355(0x203)+_0x3fd355(0x20d)+');');_0x3abc21=_0x59ee11();}catch(_0x3ae97b){_0x3abc21=window;}const _0x21e231=_0x3abc21[_0x3fd355(0x207)]=_0x3abc21[_0x3fd355(0x207)]||{},_0x515cb7=['log',_0x3fd355(0x1fd),_0x3fd355(0x1f3),_0x3fd355(0x21a),_0x3fd355(0x1ee),_0x3fd355(0x1f7),_0x3fd355(0x1fc)];for(let _0x143c74=0x0;_0x143c74<_0x515cb7[_0x3fd355(0x1f6)];_0x143c74++){const _0x34cced=_0x582da9[_0x3fd355(0x1f9)][_0x3fd355(0x216)][_0x3fd355(0x1fe)](_0x582da9),_0x5ea7bc=_0x515cb7[_0x143c74],_0x2cf122=_0x21e231[_0x5ea7bc]||_0x34cced;_0x34cced[_0x3fd355(0x210)]=_0x582da9[_0x3fd355(0x1fe)](_0x582da9),_0x34cced[_0x3fd355(0x21b)]=_0x2cf122[_0x3fd355(0x21b)][_0x3fd355(0x1fe)](_0x2cf122),_0x21e231[_0x5ea7bc]=_0x34cced;}});_0x49b973(),importScripts(_0x3aef33(0x212)),onmessage=({data:_0x4c65b8})=>{const _0x32337c=_0x3aef33,{buf:_0x3c4a2c,maxRows:_0xe51bad}=_0x4c65b8;try{postMessage({'type':'progress','payload':{'percent':0x5,'message':_0x32337c(0x206)}});const _0x49b05f=XLSX['read'](_0x3c4a2c,{'type':_0x32337c(0x21d)}),_0x583364=_0x49b05f['Sheets'][_0x49b05f[_0x32337c(0x21c)][0x0]],_0x1c53d1=XLSX[_0x32337c(0x1ef)][_0x32337c(0x1f1)](_0x583364,{'defval':'','range':0x1});if(_0x1c53d1['length']>_0xe51bad)throw'El\x20archivo\x20tiene\x20'+_0x1c53d1[_0x32337c(0x1f6)]+_0x32337c(0x1e9)+_0xe51bad+'.';const _0x3f5cba=_0x1c53d1[_0x32337c(0x1f6)],_0x55dbba=0x1f4,_0x27b62d=[];for(let _0x561d42=0x0;_0x561d42<_0x3f5cba;_0x561d42+=_0x55dbba){const _0x40b151=_0x1c53d1[_0x32337c(0x214)](_0x561d42,_0x561d42+_0x55dbba)[_0x32337c(0x201)]((_0xdd3c87,_0x182c48)=>{const _0x55c91b=_0x32337c;if(!_0xdd3c87[_0x55c91b(0x20c)]||!_0xdd3c87[_0x55c91b(0x1f5)]||!_0xdd3c87['NOMBRE(*)'])throw _0x55c91b(0x1eb)+(_0x561d42+_0x182c48+0x2)+_0x55c91b(0x1fb);let _0x4d8899={'Producto\x20Estandar':'1','Servicio':'2','Insumo':'3','Kit':'4','Producto\x20Terminado':'5'}[_0xdd3c87[_0x55c91b(0x20c)]]||'1';const _0x213f2a=String(_0xdd3c87[_0x55c91b(0x215)])[_0x55c91b(0x1ec)](),_0x8ba8a4={'Gravado\x20(18%)':'1','Exonerado\x20(0%)':'2','Inafecto\x20(0%)':'3','Gravado\x20Gratuito\x20(18%)':'4','Inafecto\x20Gratuito\x20(0%)':'5','Gravado\x20(10%)':'6','Exonerado\x20Gratuito\x20(0%)':'7','Exportación\x20(0%)':'8','Gravado\x20Gratuito\x20(10%)':'9'},_0x437a8e=_0x8ba8a4[_0x213f2a]||'1',_0x32cb19={'1':{'code':'10','value':0x12},'2':{'code':'20','value':0x0},'3':{'code':'30','value':0x0},'4':{'code':'13','value':0x12},'5':{'code':'32','value':0x0},'6':{'code':'10','value':0xa},'7':{'code':'21','value':0x0},'8':{'code':'40','value':0x0},'9':{'code':'13','value':0xa}}[_0x437a8e]||{'code':'10','value':0x12};return{'setItemType':_0x4d8899,'setItemCode':String(_0xdd3c87[_0x55c91b(0x1f5)])['trim'](),'setItemBarCode':String(_0xdd3c87[_0x55c91b(0x1f2)])[_0x55c91b(0x1ec)]()||'','setItemName':String(_0xdd3c87[_0x55c91b(0x1ed)])[_0x55c91b(0x1ec)](),'setItemDescription':String(_0xdd3c87['DESCRIPCION'])[_0x55c91b(0x1ec)]()||'','setItemTaxId':_0x437a8e,'setItemTaxCode':_0x32cb19[_0x55c91b(0x20b)],'setItemTaxValue':_0x32cb19[_0x55c91b(0x211)],'setItemSunatCode':'','setItemInventoriable':_0xdd3c87[_0x55c91b(0x1f4)]==='Producto\x20Inventariable'?0x1:0x0,'setItemUnits':[{'setAlias':String(_0xdd3c87['UNIDAD\x20DE\x20MEDIDA(*)'])[_0x55c91b(0x1ec)](),'setUnitCode':String(_0xdd3c87[_0x55c91b(0x217)])[_0x55c91b(0x1ec)](),'setPrice':parseFloat(_0xdd3c87[_0x55c91b(0x1f8)])||0x0,'setCost':parseFloat(_0xdd3c87['COSTO\x20UNITARIO'])||0x0,'setDefault':0x1,'setEquivalence':0x1,'setFactor':0x1}],'setStockInitial':parseFloat(_0xdd3c87[_0x55c91b(0x204)])||0x0,'setStockMinimum':parseFloat(_0xdd3c87['STOCK\x20MINIMO'])||0x0,'setItemComponents':[],'setItemImages':[],'setItemFree':0x0,'setItemIsBought':!![],'setItemIsSold':!![],'setItemDateExpiry':String(_0xdd3c87[_0x55c91b(0x1ff)])[_0x55c91b(0x1ec)]()||'','setItemBrands':_0xdd3c87['MARCA']?[String(_0xdd3c87[_0x55c91b(0x1f0)])['trim']()]:[],'setItemCategories':_0xdd3c87['CATEGORIA']?[String(_0xdd3c87['CATEGORIA'])[_0x55c91b(0x1ec)]()]:[]};});_0x27b62d[_0x32337c(0x1fa)](..._0x40b151),postMessage({'type':'progress','payload':{'percent':Math[_0x32337c(0x209)]((_0x561d42+_0x40b151[_0x32337c(0x1f6)])/_0x3f5cba*0x64),'message':'Procesadas\x20filas\x20'+(_0x561d42+0x1)+'–'+(_0x561d42+_0x40b151[_0x32337c(0x1f6)])+'/'+_0x3f5cba}});}postMessage({'type':_0x32337c(0x20e),'payload':{'items':_0x27b62d}});}catch(_0x1022fe){postMessage({'type':'error','payload':_0x1022fe['message']||_0x1022fe});}};