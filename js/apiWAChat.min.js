/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.8
*/

const _0x55e22c=_0xd06d;(function(_0x484e31,_0x446b3b){const _0x400a0c=_0xd06d,_0x257bf3=_0x484e31();while(!![]){try{const _0x11f19a=parseInt(_0x400a0c(0x1f6))/0x1+parseInt(_0x400a0c(0x1d7))/0x2+parseInt(_0x400a0c(0x1e1))/0x3+-parseInt(_0x400a0c(0x1e6))/0x4*(-parseInt(_0x400a0c(0x1f4))/0x5)+-parseInt(_0x400a0c(0x205))/0x6+parseInt(_0x400a0c(0x1ee))/0x7+parseInt(_0x400a0c(0x1e8))/0x8*(-parseInt(_0x400a0c(0x20b))/0x9);if(_0x11f19a===_0x446b3b)break;else _0x257bf3['push'](_0x257bf3['shift']());}catch(_0x4720cb){_0x257bf3['push'](_0x257bf3['shift']());}}}(_0x41aa,0xdf116));const selectCredentialsApiWAChat=document[_0x55e22c(0x209)](_0x55e22c(0x1ec)),loginPanel=document[_0x55e22c(0x209)](_0x55e22c(0x1f3)),chatPanel=document['getElementById'](_0x55e22c(0x1ed)),qrImg=document[_0x55e22c(0x209)]('qr-img'),overlay=document[_0x55e22c(0x209)](_0x55e22c(0x1e4));let qrTimeout;function _0xd06d(_0x3fcf1d,_0x53c6b7){const _0x3f0232=_0x41aa();return _0xd06d=function(_0x30193a,_0x1efad0){_0x30193a=_0x30193a-0x1d6;let _0x34d4b0=_0x3f0232[_0x30193a];return _0x34d4b0;},_0xd06d(_0x3fcf1d,_0x53c6b7);}function _0x41aa(){const _0x31db58=['EnvironmentChangeComplete','status','dispatchEvent','init','2782674fkkAdg','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','setAuthToken','apply','getElementById','prototype','9uccgru','toLowerCase','click','return\x20(function()\x20','none','bind','setFloorId','onload','1261822PrbFAI','setBranchDefault','display','flex','visible','Credenciales\x20no\x20encontradas','style','console','constructor','(((.+)+)+)+$','3160308zfVimJ','visibility','value','qr-overlay','/qr','2046844DqGcSr','setCredentialsApiWAChatStatus','33373072JZrpsu','src','hidden','length','setCredentialsApiWAChat','chatPanel','12712651EzXAYB','json','https://','exception','ya\x20conectado','loginPanel','5UIDBCy','addEventListener','1536948bpflIM','error','toString','search','__proto__','WarehouseChangeComplete','info','{}.constructor(\x22return\x20this\x22)(\x20)','change','includes','/wa/'];_0x41aa=function(){return _0x31db58;};return _0x41aa();}const validSeconds=0xa;function showLogin(){const _0x3d251b=_0x55e22c;loginPanel[_0x3d251b(0x1dd)]['display']=_0x3d251b(0x1da),chatPanel[_0x3d251b(0x1dd)][_0x3d251b(0x1e2)]=_0x3d251b(0x1ea);}function showChat(){const _0x23d4ec=_0x55e22c;loginPanel[_0x23d4ec(0x1dd)][_0x23d4ec(0x1d9)]=_0x23d4ec(0x20f),chatPanel[_0x23d4ec(0x1dd)][_0x23d4ec(0x1e2)]=_0x23d4ec(0x1db);}async function initQRApiWAChat(_0x24b305,_0x1f66f5){const _0x3db542=_0x55e22c,_0x16dfb6=(function(){let _0x13a4f4=!![];return function(_0x3f488a,_0x315f6a){const _0x2ebdce=_0x13a4f4?function(){const _0x564982=_0xd06d;if(_0x315f6a){const _0x507b5b=_0x315f6a[_0x564982(0x208)](_0x3f488a,arguments);return _0x315f6a=null,_0x507b5b;}}:function(){};return _0x13a4f4=![],_0x2ebdce;};}()),_0x3197e9=_0x16dfb6(this,function(){const _0x5dbea7=_0xd06d;return _0x3197e9[_0x5dbea7(0x1f8)]()[_0x5dbea7(0x1f9)]('(((.+)+)+)+$')[_0x5dbea7(0x1f8)]()['constructor'](_0x3197e9)['search'](_0x5dbea7(0x1e0));});_0x3197e9();const _0x4b90f9=(function(){let _0x22e8fc=!![];return function(_0x59f87e,_0x216736){const _0x376553=_0x22e8fc?function(){const _0x1c0a79=_0xd06d;if(_0x216736){const _0x5fe632=_0x216736[_0x1c0a79(0x208)](_0x59f87e,arguments);return _0x216736=null,_0x5fe632;}}:function(){};return _0x22e8fc=![],_0x376553;};}()),_0x11f7ff=_0x4b90f9(this,function(){const _0x4d87e3=_0xd06d,_0x3723a8=function(){const _0x1a747f=_0xd06d;let _0x279dc6;try{_0x279dc6=Function(_0x1a747f(0x20e)+_0x1a747f(0x1fd)+');')();}catch(_0x1779c4){_0x279dc6=window;}return _0x279dc6;},_0x1ec28c=_0x3723a8(),_0xbb8f5d=_0x1ec28c[_0x4d87e3(0x1de)]=_0x1ec28c['console']||{},_0x2b4d5e=['log','warn',_0x4d87e3(0x1fc),_0x4d87e3(0x1f7),_0x4d87e3(0x1f1),'table','trace'];for(let _0x4dafa2=0x0;_0x4dafa2<_0x2b4d5e[_0x4d87e3(0x1eb)];_0x4dafa2++){const _0x5c5a89=_0x4b90f9[_0x4d87e3(0x1df)][_0x4d87e3(0x20a)][_0x4d87e3(0x210)](_0x4b90f9),_0x16c5da=_0x2b4d5e[_0x4dafa2],_0x21e10a=_0xbb8f5d[_0x16c5da]||_0x5c5a89;_0x5c5a89[_0x4d87e3(0x1fa)]=_0x4b90f9[_0x4d87e3(0x210)](_0x4b90f9),_0x5c5a89[_0x4d87e3(0x1f8)]=_0x21e10a[_0x4d87e3(0x1f8)][_0x4d87e3(0x210)](_0x21e10a),_0xbb8f5d[_0x16c5da]=_0x5c5a89;}});_0x11f7ff();const _0x3557e=selectCredentialsApiWAChat[_0x3db542(0x1e3)],_0x2210da=getCredentialsApiWAChat(_0x3557e);if(!_0x2210da){ntfShow(_0x3db542(0x1dc));return;}const _0x2b2403=_0x2210da['setCredentialsApiWAChatSubdomain'],_0x56d838=_0x2210da['setCredentialsApiWAChatPort'];if(_0x24b305===_0x3db542(0x1d9))clearTimeout(qrTimeout),overlay[_0x3db542(0x1dd)]['display']=_0x3db542(0x20f),qrImg[_0x3db542(0x1e9)]=_0x1f66f5,qrTimeout=setTimeout(async()=>{const _0x20ca18=_0x3db542;try{const _0x5975b2=await fetch(_0x20ca18(0x1f0)+_0x2b2403+_0x20ca18(0x200)+_0x56d838+_0x20ca18(0x1e5),{'headers':{'x-auth-token':myCompany[_0x20ca18(0x207)]}}),_0x48bf45=await _0x5975b2[_0x20ca18(0x1ef)]();_0x48bf45['status']&&_0x48bf45[_0x20ca18(0x202)][_0x20ca18(0x20c)]()[_0x20ca18(0x1ff)](_0x20ca18(0x1f2))?(showChat(),_0x2210da['setCredentialsApiWAChatStatus']=0x1):(overlay['style']['display']=_0x20ca18(0x1da),_0x2210da[_0x20ca18(0x1e7)]=0x0);const _0x34254c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x34254c);}catch(_0x4429a5){console['error'](_0x20ca18(0x206),_0x4429a5),overlay['style'][_0x20ca18(0x1d9)]='flex';}},validSeconds*0x3e8);else{if(_0x24b305==='init')try{const _0x564c93=await fetch(_0x3db542(0x1f0)+_0x2b2403+_0x3db542(0x200)+_0x56d838+'/qr',{'headers':{'x-auth-token':myCompany[_0x3db542(0x207)]}}),_0x288f84=await _0x564c93['json']();if(_0x288f84[_0x3db542(0x202)]&&_0x288f84[_0x3db542(0x202)]['toLowerCase']()[_0x3db542(0x1ff)](_0x3db542(0x1f2)))showChat(),_0x2210da[_0x3db542(0x1e7)]=0x1;else _0x288f84['qr']&&(showLogin(),await initQRApiWAChat(_0x3db542(0x1d9),_0x288f84['qr']),_0x2210da['setCredentialsApiWAChatStatus']=0x0);const _0x47875e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x47875e);}catch(_0x49d08b){console[_0x3db542(0x1f7)](_0x49d08b);}}}overlay[_0x55e22c(0x1f5)](_0x55e22c(0x20d),()=>initQRApiWAChat(_0x55e22c(0x204))),window[_0x55e22c(0x1d6)]=function(){const _0x190e4a=_0x55e22c,_0xaa23e0=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x1c4026=document['querySelector']('.btn-logout');_0x1c4026&&_0x1c4026[_0x190e4a(0x1f5)](_0x190e4a(0x20d),function(){logoutReload(0x0,_0xaa23e0);}),document[_0x190e4a(0x209)](_0x190e4a(0x1ec))[_0x190e4a(0x1f5)](_0x190e4a(0x1fe),async function(){saveCredentialsApiWAChatInCompany();const _0x1f74c9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1f74c9),location['reload']();}),document[_0x190e4a(0x209)]('setBranchId')[_0x190e4a(0x1f5)]('change',async function(){const _0x352f3f=_0x190e4a,_0x25ce87=parseInt(this['value']);myCompany[_0x352f3f(0x1d8)]=_0x25ce87,saveCredentialsApiWAChatInCompany();const _0x48d916=await createCartStore('');await saveCompanyToIndexedDB(company,_0x48d916),await cargarPisos(_0x25ce87),await waitForEvent('setFloorId',_0x352f3f(0x201)),await cargarAlmacenes(_0x25ce87),await waitForEvent('setWarehouseId','WarehouseChangeComplete'),document[_0x352f3f(0x203)](new Event('BranchChangeComplete')),ntf_initNotifications();}),document[_0x190e4a(0x209)]('setWarehouseId')['addEventListener'](_0x190e4a(0x1fe),async function(){const _0x53e49d=_0x190e4a;document[_0x53e49d(0x203)](new Event(_0x53e49d(0x1fb)));}),document['getElementById'](_0x190e4a(0x211))[_0x190e4a(0x1f5)](_0x190e4a(0x1fe),async function(_0x245261){const _0x565162=_0x190e4a;document[_0x565162(0x203)](new Event(_0x565162(0x201)));}),loadCartAndSetTabCount(_0xaa23e0);};