/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.0
*/

function _0x19ec(){var _0x221115=['setTaxIdDefault','padStart','result','drop-zone','variantForm','.drop-zone__prompt','push','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','inputItemTax','.ms_input','setItemCode','none','setItemUnits','dragenter','toString','target','\x20items\x20procesados.','setWarehouseName','__proto__','span','slice','setItemVariantValues','dataTransfer','.unitSelect','stringify','.variantExpiry','eqInput','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','return\x20(function()\x20','Ingresa\x20el\x20código\x20del\x20item','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','dataset','.prod_input_container','innerHTML','split','image/*','setItemTaxValue','find','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setFactor','newItem_chk_buy','.removeCombo','checked','string','getElementsByClassName','max','remove','717696Jqdjkk','onerror','setItemName','setItemTaxCode','error','setDescripcion','.options_list','setEquivalence','style','.variantForm','Error\x20al\x20guardar\x20Producto\x20Offline:','.removeUnit','.prodQty','./js/apierp_item_wk.min.js','<div\x20class=\x22newItem_col\x22>','setMoneda','unitSelect','.branchInit','newItem_branches_container','entries','arrayBuffer','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','accept','setImpuestoName','classList','warn','selectionChange','#newItem_categories_select\x20.options_list','toggle','findIndex','createElement','className','code','trace','file-input','.removeProd','flatMap','.unitAlias','click','(((.+)+)+)+$','.options_list\x20div','display','setItemIsBought','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','length','17357580VFUBVK','_units_container','block','log','setCost','setItemInventoriable','setPrice','3032amVSMz','blur','.addVariantUnit','#newItem_brands_select\x20.selected_tags','selectedItem','preventDefault','.priceInput','drop','oncomplete','constructor','.vgVals','hidden','2061968GCgixL','newItem_proditems_container','.eqInput','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','dragleave','match','newItem_brands_select','\x22\x20class=\x22branchChk\x22\x20checked>\x20','forEach','idx','65802UyXbah','110550eQsIRx','variant_','setItemBrands','bind','setItemVariantName','setItemIsSold','Producto\x20Libre','.costInput','tag','value','onmessage','input','exception','newItem_units_container','true','stopPropagation','setItemTaxId','#newItem_units_container\x20>\x20div','inputItemCode','[data-idx=\x22','{}.constructor(\x22return\x20this\x22)(\x20)','setImpuestoCode','indexOf','setWarehouseId','.branchChk','splice','children','includes','setName','toLowerCase','setDefault','style=\x22display:none\x22','add','querySelector','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemDescription','name','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','vals','inputItemName','setCategoria','detalleModalCreateItem','progress','active','type','closeModalCreateItem','setAuthToken','[id$=\x22_comp_container\x22]','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','dragover','readwrite','setBatchExpirationDate','1923520lBWuyA','_comp_container','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','default','145SxalJa','trim','setItemDateExpiry','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','newItem_variants_forms','newItem_categories_select','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','offline_operations','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setStockInitial','console','windowId','setCantidad','transaction','map','modalProductNewTitle','newItem_hidden','setItemFree','newItem_addToCart','newItem_title_table_cp','test','setCode','appendChild','contains','undefined','setItemWarehouses','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','unitAlias','apply','base','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','productType1','search','file','from','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','querySelectorAll','setCodProducto','.branchMin','\x22\x20class=\x22branchChk\x22>\x20','div','newItem_title_table','inputItemType','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setWarehouseCode','change','upload-btn','sort','setAlias','setStockMinimum','❌\x20Error:\x20','setImpuestos','setItemCategories','done','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','prototype','defineProperty','assign','modalOverlayCreateItem','newItem_btn_addVariantGroup','setMarca','.selected_tags','.addVariantComp','every','Ingresa\x20el\x20nombre\x20del\x20item','setUnitName','fill','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setTaxId','Items\x20finales:','div[data-default=\x22true\x22]\x20.eqInput','Enter','.variantBarCode','dispatchEvent','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','.vgName','setImpuestoValue','now','disabled','key','some','keydown','.removeVariant','./img/product.png','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','textContent','1029DcQQNX','inputItemDateExpiry','#newItem_brands_select\x20.options_list','closest','newItem_chk_sell','setItemComponents','setItemImages','setUnitPresentationId','</div>','Nuevo\x20Producto','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','Error\x20al\x20procesar\x20la\x20operación:','getElementById','.variantCode','setUnitCode','setItemBarCode','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','parse','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','newItem_variant_groups','parentNode','currentTarget','inputItemBarCode','files','filter','newItem_images_container','setWebhook','\x22\x20value=\x22','addEventListener','newItem_btn_addUnit','message'];_0x19ec=function(){return _0x221115;};return _0x19ec();}var _0x2ec1fc=_0xae35;(function(_0x3f8766,_0x5d7604){var _0x8739b0=_0xae35,_0x393038=_0x3f8766();while(!![]){try{var _0x335d48=parseInt(_0x8739b0(0x156))/0x1+-parseInt(_0x8739b0(0x18a))/0x2+parseInt(_0x8739b0(0x10b))/0x3+-parseInt(_0x8739b0(0x14b))/0x4+-parseInt(_0x8739b0(0x18e))/0x5*(parseInt(_0x8739b0(0x155))/0x6)+-parseInt(_0x8739b0(0x1e4))/0x7*(-parseInt(_0x8739b0(0x13f))/0x8)+parseInt(_0x8739b0(0x138))/0x9;if(_0x335d48===_0x5d7604)break;else _0x393038['push'](_0x393038['shift']());}catch(_0x15969a){_0x393038['push'](_0x393038['shift']());}}}(_0x19ec,0x838c4));var _0x729105=(function(){var _0xd03516=!![];return function(_0x43b28d,_0x5af514){var _0x212c53=_0xd03516?function(){if(_0x5af514){var _0x1472ff=_0x5af514['apply'](_0x43b28d,arguments);return _0x5af514=null,_0x1472ff;}}:function(){};return _0xd03516=![],_0x212c53;};}()),_0x211d21=_0x729105(this,function(){var _0x1d1f36=_0xae35;return _0x211d21['toString']()[_0x1d1f36(0x1ae)](_0x1d1f36(0x132))['toString']()[_0x1d1f36(0x148)](_0x211d21)[_0x1d1f36(0x1ae)](_0x1d1f36(0x132));});_0x211d21();var _0x28840c=(function(){var _0x204724=!![];return function(_0x14119b,_0x514bec){var _0x1b513d=_0x204724?function(){var _0x3e1860=_0xae35;if(_0x514bec){var _0x609eb=_0x514bec[_0x3e1860(0x1aa)](_0x14119b,arguments);return _0x514bec=null,_0x609eb;}}:function(){};return _0x204724=![],_0x1b513d;};}()),_0x2f9f6c=_0x28840c(this,function(){var _0x2bec4f=_0xae35,_0xfcb3b8;try{var _0x461292=Function(_0x2bec4f(0xf8)+_0x2bec4f(0x16a)+');');_0xfcb3b8=_0x461292();}catch(_0x1d187a){_0xfcb3b8=window;}var _0x54bf3a=_0xfcb3b8[_0x2bec4f(0x198)]=_0xfcb3b8[_0x2bec4f(0x198)]||{},_0x5348ff=[_0x2bec4f(0x13b),_0x2bec4f(0x124),'info','error',_0x2bec4f(0x162),'table',_0x2bec4f(0x12c)];for(var _0x1863a6=0x0;_0x1863a6<_0x5348ff[_0x2bec4f(0x137)];_0x1863a6++){var _0x383451=_0x28840c[_0x2bec4f(0x148)][_0x2bec4f(0x1c5)][_0x2bec4f(0x159)](_0x28840c),_0x4018ea=_0x5348ff[_0x1863a6],_0x2126da=_0x54bf3a[_0x4018ea]||_0x383451;_0x383451[_0x2bec4f(0xee)]=_0x28840c[_0x2bec4f(0x159)](_0x28840c),_0x383451[_0x2bec4f(0xea)]=_0x2126da[_0x2bec4f(0xea)][_0x2bec4f(0x159)](_0x2126da),_0x54bf3a[_0x4018ea]=_0x383451;}});_0x2f9f6c();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1fd)),unitCount=0x0,branchesC=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x11d)),prodC=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x14c)),vgCount=0x0,varContainer=document['getElementById'](_0x2ec1fc(0x192)),vgC=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1f7));const fileInput=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x12d)),progressBar=document[_0x2ec1fc(0x1f0)]('progress'),statusDiv=document[_0x2ec1fc(0x1f0)]('status'),uploadBtn=document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1bc));let newItemsExcel=null;const itemWorker=new Worker(_0x2ec1fc(0x118)),dropZone=document['getElementById'](_0x2ec1fc(0x206)),removeBtn=document[_0x2ec1fc(0x1f0)]('remove-file');function showModalCreateItem(_0x1261bf){var _0x5561e8=_0x2ec1fc;const _0x26b634=document['getElementById'](_0x5561e8(0x17f)),_0x2e4789=document[_0x5561e8(0x1f0)](_0x5561e8(0x1c8));_0x26b634['classList'][_0x5561e8(0x176)](_0x5561e8(0x181)),_0x2e4789[_0x5561e8(0x113)][_0x5561e8(0x134)]=_0x5561e8(0x13a);const _0x20b6cd=document[_0x5561e8(0x1f0)](_0x5561e8(0x19f));_0x20b6cd['value']=parseInt(_0x1261bf),baseItem[_0x5561e8(0x19f)]=parseInt(_0x1261bf);const _0x52e8f4=document[_0x5561e8(0x1f0)](_0x5561e8(0x19d));_0x1261bf==0x0&&(_0x52e8f4[_0x5561e8(0xfd)]=_0x5561e8(0x1ed));_0x1261bf==0x1&&(_0x52e8f4[_0x5561e8(0xfd)]=_0x5561e8(0x15c));const _0x5d19ab=document[_0x5561e8(0x108)](_0x5561e8(0x1ad));for(let _0x2f6a94=0x0;_0x2f6a94<_0x5d19ab['length'];_0x2f6a94++){const _0x35d0ef=_0x5d19ab[_0x2f6a94];if(_0x1261bf==0x0)_0x35d0ef['classList'][_0x5561e8(0x10a)]('hidden');else _0x1261bf==0x1&&_0x35d0ef[_0x5561e8(0x123)]['add'](_0x5561e8(0x14a));}}function hideModalCreateItem(){var _0x2a7967=_0x2ec1fc;const _0x346e47=document[_0x2a7967(0x1f0)]('detalleModalCreateItem'),_0x2263af=document[_0x2a7967(0x1f0)](_0x2a7967(0x1c8));_0x346e47[_0x2a7967(0x123)][_0x2a7967(0x10a)](_0x2a7967(0x181)),_0x2263af['style']['display']=_0x2a7967(0xe7);}document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x183))[_0x2ec1fc(0x200)]('click',hideModalCreateItem),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1c8))['addEventListener'](_0x2ec1fc(0x131),_0x3c3323=>{var _0x4922f4=_0x2ec1fc;_0x3c3323[_0x4922f4(0xeb)]==_0x3c3323[_0x4922f4(0x1f9)]&&_0x3c3323[_0x4922f4(0x165)]();});function loadTaxData(){var _0x5a404c=_0x2ec1fc;const _0x403beb=document[_0x5a404c(0x1f0)]('inputItemTax');_0x403beb['innerHTML']='',company[0x0][_0x5a404c(0x1c1)]['forEach'](function(_0x1b8a6e){var _0x316c9f=_0x5a404c;const _0x5528be=document[_0x316c9f(0x129)]('option');_0x5528be[_0x316c9f(0x15f)]=_0x1b8a6e['setTaxId'],_0x5528be[_0x316c9f(0xfd)]=_0x1b8a6e[_0x316c9f(0x122)]+'\x20('+_0x1b8a6e[_0x316c9f(0x1da)]+'%)',_0x1b8a6e[_0x316c9f(0x1d2)]==company[0x0]['setTaxIdDefault']&&(_0x5528be['selected']=!![]),_0x403beb[_0x316c9f(0x1a4)](_0x5528be);});}function uniqueValuesArray(_0x2fdffe,_0x83ad9d,_0x265937){var _0x48421a=_0x2ec1fc;const _0x3f84b2=Array[_0x48421a(0x1b0)](new Set(_0x265937[_0x48421a(0x19c)](_0x421a24=>{var _0x1e1abc=_0x48421a;const _0x18d507=_0x421a24[_0x2fdffe];return typeof _0x18d507===_0x1e1abc(0x107)?_0x18d507[_0x1e1abc(0x18f)]():_0x18d507;})['filter'](_0x336673=>_0x336673!=null&&_0x336673!=='')));return _0x3f84b2[_0x48421a(0x19c)](_0x5d80b4=>{var _0x26f4c2=_0x48421a;const _0x5a4c26=_0x265937[_0x26f4c2(0x101)](_0x1b2eb3=>_0x1b2eb3[_0x2fdffe]===_0x5d80b4),_0x2bcc25=_0x5a4c26&&_0x5a4c26[_0x83ad9d]!=null?String(_0x5a4c26[_0x83ad9d])['trim']():_0x5d80b4;return{'setCode':_0x5d80b4,'setName':_0x2bcc25};});}function fillSelect(_0x5d11aa,_0x25dd15,_0x5a68d3,_0xc6efbb){var _0x138307=_0x2ec1fc;_0x5d11aa[_0x138307(0xfd)]='',_0x25dd15[_0x138307(0x153)](function(_0x4ae1a6){var _0x32e4d3=_0x138307,_0x175e45=new Option(_0x4ae1a6[_0xc6efbb],_0x4ae1a6[_0x5a68d3]);_0x5d11aa[_0x32e4d3(0x176)](_0x175e45);});}function initMulti(_0x403283,_0xd06ce6){var _0x3c0da1=_0x2ec1fc,_0x1a0d9e=document[_0x3c0da1(0x1f0)](_0x403283),_0x3367e4=_0x1a0d9e[_0x3c0da1(0x177)](_0x3c0da1(0xe5)),_0x2113d9=_0x1a0d9e[_0x3c0da1(0x177)]('.options_list'),_0x27dc4d=_0x1a0d9e[_0x3c0da1(0x177)](_0x3c0da1(0x1cb)),_0x2f1b9a=_0xd06ce6[_0x3c0da1(0xf0)](),_0x53dad2=[];function _0x55af4a(){var _0x164583=_0x3c0da1;_0x2113d9[_0x164583(0xfd)]='',_0x2f1b9a[_0x164583(0x1fc)](function(_0x4fd967){var _0x271c25=_0x164583;return _0x4fd967[_0x271c25(0x172)]['toLowerCase']()[_0x271c25(0x16c)](_0x3367e4[_0x271c25(0x15f)][_0x271c25(0x173)]())!==-0x1;})[_0x164583(0x153)](function(_0x26cdd2){var _0x4650ba=_0x164583,_0x48d1e4=document[_0x4650ba(0x129)](_0x4650ba(0x1b6));_0x48d1e4[_0x4650ba(0x1e3)]=_0x26cdd2[_0x4650ba(0x172)],_0x48d1e4['dataset'][_0x4650ba(0x12b)]=_0x26cdd2[_0x4650ba(0x1a3)],_0x2113d9[_0x4650ba(0x1a4)](_0x48d1e4),_0x48d1e4[_0x4650ba(0x200)](_0x4650ba(0x131),function(){var _0x18e6ef=_0x4650ba;_0x53dad2['push'](_0x26cdd2),_0x2f1b9a[_0x18e6ef(0x16f)](_0x2f1b9a[_0x18e6ef(0x128)](function(_0x443bd5){return _0x443bd5['setCode']===_0x26cdd2['setCode'];}),0x1),_0x3367e4[_0x18e6ef(0x15f)]='',_0x4420be(),_0x55af4a();});});}function _0x4420be(){var _0xd0fca8=_0x3c0da1;_0x27dc4d[_0xd0fca8(0xfd)]='',_0x53dad2[_0xd0fca8(0x153)](function(_0x26d9b6){var _0x3dea10=_0xd0fca8,_0x118526=document[_0x3dea10(0x129)](_0x3dea10(0x1b6));_0x118526[_0x3dea10(0x12a)]=_0x3dea10(0x15e),_0x118526[_0x3dea10(0x1e3)]=_0x26d9b6[_0x3dea10(0x172)];var _0x29c602=document[_0x3dea10(0x129)](_0x3dea10(0xef));_0x29c602[_0x3dea10(0x12a)]='remove-tag',_0x29c602[_0x3dea10(0x1e3)]='×',_0x29c602[_0x3dea10(0x200)]('click',function(){var _0x35dabc=_0x3dea10;_0x2f1b9a[_0x35dabc(0xe0)](_0x26d9b6);const _0x11d42a=_0x53dad2[_0x35dabc(0x128)](function(_0x100ab9){var _0xd838a8=_0x35dabc;return _0x100ab9[_0xd838a8(0x1a3)]===_0x26d9b6[_0xd838a8(0x1a3)];});if(_0x11d42a>-0x1)_0x53dad2[_0x35dabc(0x16f)](_0x11d42a,0x1);_0x4420be(),_0x55af4a();}),_0x118526[_0x3dea10(0x1a4)](_0x29c602),_0x27dc4d['appendChild'](_0x118526);}),_0x1a0d9e['dispatchEvent'](new CustomEvent(_0xd0fca8(0x125),{'bubbles':!![]}));}return _0x3367e4[_0x3c0da1(0x200)]('focus',function(){var _0x33b6ea=_0x3c0da1;_0x2113d9[_0x33b6ea(0x123)][_0x33b6ea(0x10a)](_0x33b6ea(0x19e));}),_0x3367e4[_0x3c0da1(0x200)](_0x3c0da1(0x161),_0x55af4a),_0x3367e4[_0x3c0da1(0x200)](_0x3c0da1(0x1df),function(_0x1be049){var _0x92e2ae=_0x3c0da1;if(_0x1be049[_0x92e2ae(0x1dd)]===_0x92e2ae(0x1d5)){_0x1be049[_0x92e2ae(0x144)]();const _0x36de1b=_0x3367e4[_0x92e2ae(0x15f)][_0x92e2ae(0x18f)]();if(!_0x36de1b)return;const _0x255ad2=_0x53dad2[_0x92e2ae(0x1de)](_0x1e9125=>_0x1e9125[_0x92e2ae(0x172)]===_0x36de1b),_0x2b44cd=_0x2f1b9a[_0x92e2ae(0x1de)](_0x210806=>_0x210806['setName']===_0x36de1b);if(!_0x255ad2&&!_0x2b44cd){const _0x353b94={'setCode':_0x36de1b,'setName':_0x36de1b};_0x53dad2[_0x92e2ae(0xe0)](_0x353b94),_0x4420be(),_0x55af4a();}_0x3367e4['value']='';}}),document[_0x3c0da1(0x200)](_0x3c0da1(0x131),function(_0x43ae4b){var _0x5cc2ce=_0x3c0da1;if(!_0x1a0d9e[_0x5cc2ce(0x1a5)](_0x43ae4b[_0x5cc2ce(0xeb)]))_0x2113d9[_0x5cc2ce(0x123)]['add'](_0x5cc2ce(0x19e));}),_0x55af4a(),_0x53dad2;}function getLastCode(_0x38dada){var _0x1a7212=_0x2ec1fc;const _0x5d8ebb=_0x38dada[_0x1a7212(0x19c)](_0x293bc4=>String(_0x293bc4['setCodProducto'])[_0x1a7212(0x18f)]())[_0x1a7212(0x1fc)](_0x3988f5=>_0x3988f5!=='');if(_0x5d8ebb[_0x1a7212(0x137)]===0x0)return'';const _0x2d05f1=_0x5d8ebb['every'](_0x56fa64=>/^\d+$/[_0x1a7212(0x1a2)](_0x56fa64));if(_0x2d05f1){const _0x2f4563=_0x5d8ebb[_0x1a7212(0x19c)](Number),_0x3b0a19=Math[_0x1a7212(0x109)](..._0x2f4563);return String(_0x3b0a19);}let _0x5661c7;if(typeof Intl!==_0x1a7212(0x1a6)&&Intl['Collator']){const _0x29e070=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x1a7212(0x1ab)});_0x5661c7=_0x5d8ebb[_0x1a7212(0xf0)]()[_0x1a7212(0x1bd)](_0x29e070['compare']);}else{const _0x567424=_0x5d8ebb[_0x1a7212(0x1cd)](_0x5a3a77=>/^\d+$/[_0x1a7212(0x1a2)](_0x5a3a77));_0x567424?_0x5661c7=_0x5d8ebb['map'](Number)[_0x1a7212(0x1bd)]((_0x1f0781,_0xe306d9)=>_0x1f0781-_0xe306d9)[_0x1a7212(0x19c)](String):_0x5661c7=_0x5d8ebb['slice']()[_0x1a7212(0x1bd)]();}return _0x5661c7[_0x5661c7['length']-0x1];}function getNextCode(_0x489ced){var _0x27c65d=_0x2ec1fc;const _0xdee0f9=getLastCode(_0x489ced);if(!_0xdee0f9)return'';if(/^\d+$/[_0x27c65d(0x1a2)](_0xdee0f9))return String(Number(_0xdee0f9)+0x1);const _0x5a57cd=_0xdee0f9[_0x27c65d(0x150)](/^([A-Za-z]*)(\d+)$/);if(_0x5a57cd){const [,_0x3e8be4,_0x2da930]=_0x5a57cd,_0xeb5136=String(Number(_0x2da930)+0x1)[_0x27c65d(0x204)](_0x2da930['length'],'0');return _0x3e8be4+_0xeb5136;}return _0xdee0f9;}document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x17d))[_0x2ec1fc(0x200)]('input',function(_0x51a002){var _0x517a86=_0x2ec1fc;baseItem['setItemName']=_0x51a002[_0x517a86(0xeb)]['value'];}),document[_0x2ec1fc(0x1f0)]('inputItemDescription')[_0x2ec1fc(0x200)]('input',function(_0x15df6d){var _0x1eaab7=_0x2ec1fc;baseItem['setItemDescription']=_0x15df6d[_0x1eaab7(0xeb)][_0x1eaab7(0x15f)];}),document[_0x2ec1fc(0x1f0)]('inputItemDateExpiry')[_0x2ec1fc(0x200)](_0x2ec1fc(0x161),function(_0x5d6cb3){var _0x3261d5=_0x2ec1fc;baseItem[_0x3261d5(0x190)]=_0x5d6cb3[_0x3261d5(0xeb)][_0x3261d5(0x15f)];}),document['getElementById'](_0x2ec1fc(0x1b8))[_0x2ec1fc(0x200)](_0x2ec1fc(0x1bb),function(_0x3b31de){var _0x59fd3b=_0x2ec1fc;baseItem['setItemType']=_0x3b31de[_0x59fd3b(0xeb)][_0x59fd3b(0x15f)];}),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0xe4))[_0x2ec1fc(0x200)](_0x2ec1fc(0x1bb),function(_0x294bda){var _0x146c55=_0x2ec1fc;baseItem[_0x146c55(0x166)]=_0x294bda[_0x146c55(0xeb)][_0x146c55(0x15f)];const _0x9de741=_0x294bda['target'][_0x146c55(0x15f)],_0x54037a=company[0x0][_0x146c55(0x1c1)][_0x146c55(0x101)](_0x22f749=>_0x22f749[_0x146c55(0x1d2)]==_0x9de741)?.[_0x146c55(0x16b)]||0x0,_0x3c71fc=company[0x0][_0x146c55(0x1c1)]['find'](_0xad86a3=>_0xad86a3[_0x146c55(0x1d2)]==_0x9de741)?.['setImpuestoValue']||0x0;baseItem[_0x146c55(0x10e)]=_0x54037a,baseItem[_0x146c55(0x100)]=_0x3c71fc;}),document[_0x2ec1fc(0x1f0)]('newItem_chk_buy')[_0x2ec1fc(0x200)]('change',function(_0x459888){var _0x404dea=_0x2ec1fc;baseItem[_0x404dea(0x135)]=_0x459888[_0x404dea(0xeb)][_0x404dea(0x106)];}),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1e8))[_0x2ec1fc(0x200)]('change',function(_0x45d03a){var _0x441f5d=_0x2ec1fc;baseItem[_0x441f5d(0x15b)]=_0x45d03a[_0x441f5d(0xeb)][_0x441f5d(0x106)];}),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x168))['addEventListener'](_0x2ec1fc(0x161),function(_0x4fcb2f){var _0x13cd64=_0x2ec1fc;baseItem[_0x13cd64(0xe6)]=_0x4fcb2f[_0x13cd64(0xeb)][_0x13cd64(0x15f)];}),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1fa))[_0x2ec1fc(0x200)](_0x2ec1fc(0x161),function(_0x43cbc2){var _0x27c263=_0x2ec1fc;baseItem[_0x27c263(0x1f3)]=_0x43cbc2[_0x27c263(0xeb)][_0x27c263(0x15f)];}),document['getElementById'](_0x2ec1fc(0x201))[_0x2ec1fc(0x200)](_0x2ec1fc(0x131),function(){addUnit(),updateUnitsArray();}),document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x168))[_0x2ec1fc(0x200)](_0x2ec1fc(0x140),function(){var _0x50c7ef=_0x2ec1fc;const _0x109994=this[_0x50c7ef(0x15f)]['trim']();if(_0x109994==='')return;const _0x49d19d=products[_0x50c7ef(0x1de)](_0x3f7b30=>_0x3f7b30[_0x50c7ef(0x1b3)]==_0x109994),_0x312b47=getLastCode(products);_0x49d19d?ntfShow(_0x50c7ef(0xe1)+_0x312b47,0x2,0x1):ntfShow(_0x50c7ef(0x1f6),0x1,0x1);});function removeImg(_0x202548){var _0x4c369c=_0x2ec1fc;currentImages[_0x202548]=null;var _0x10d506=imgC[_0x4c369c(0x177)](_0x4c369c(0x169)+_0x202548+'\x22]');_0x10d506[_0x4c369c(0xfd)]='';var _0x5e7c9f=document[_0x4c369c(0x129)](_0x4c369c(0x161));_0x5e7c9f['type']=_0x4c369c(0x1af),_0x5e7c9f[_0x4c369c(0x121)]=_0x4c369c(0xff),_0x5e7c9f[_0x4c369c(0x113)][_0x4c369c(0x134)]=_0x4c369c(0xe7);var _0x278a18=document[_0x4c369c(0x129)](_0x4c369c(0xef));_0x278a18[_0x4c369c(0x1e3)]='+',_0x10d506['appendChild'](_0x5e7c9f),_0x10d506[_0x4c369c(0x1a4)](_0x278a18),_0x10d506['addEventListener'](_0x4c369c(0x131),function(){var _0x28d0ff=_0x4c369c;_0x5e7c9f[_0x28d0ff(0x131)]();}),baseItem[_0x4c369c(0x1ea)]=currentImages[_0x4c369c(0x1fc)](function(_0x30ba8c){return _0x30ba8c;});}function addUnit(_0x33379c,_0x175b5b,_0x1e0c80,_0xcc04c,_0x1921c6,_0xa32094,_0x4a4f4a){var _0x1da99b=_0x2ec1fc,_0x35f333=uniqueValuesArray(_0x1da99b(0x1f2),_0x1da99b(0x1cf),myCompany['setUnits']);_0x33379c=_0x33379c||'',_0x175b5b=_0x175b5b||_0x35f333[0x3a]&&_0x35f333[0x3a][_0x1da99b(0x1a3)]||'',_0x1e0c80=_0x1e0c80!==undefined?_0x1e0c80:0x1,_0xcc04c=!!_0xcc04c,_0x1921c6=_0x1921c6||'',_0xa32094=_0xa32094||'';var _0x2aa5b8=unitCount++,_0xb0a6fa=document[_0x1da99b(0x129)](_0x1da99b(0x1b6));_0xb0a6fa['dataset']['idx']=_0x2aa5b8,_0xb0a6fa['dataset'][_0x1da99b(0x18d)]=_0xcc04c,_0xb0a6fa[_0x1da99b(0xfd)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x2aa5b8+'\x22\x20value=\x22'+_0x33379c+_0x1da99b(0x120)+_0x2aa5b8+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x2aa5b8+_0x1da99b(0x1ff)+_0x1e0c80+'\x22\x20'+(_0xcc04c?_0x1da99b(0x1dc):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x2aa5b8+_0x1da99b(0x1ff)+_0x1921c6+_0x1da99b(0x17b)+_0x2aa5b8+_0x1da99b(0x1ff)+_0xa32094+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0xcc04c?_0x1da99b(0x175):'')+_0x1da99b(0xe2),fillSelect(_0xb0a6fa[_0x1da99b(0x177)](_0x1da99b(0xf3)),_0x35f333,'setCode',_0x1da99b(0x172)),_0xb0a6fa[_0x1da99b(0x177)](_0x1da99b(0xf3))[_0x1da99b(0x15f)]=_0x175b5b,[_0x1da99b(0x1a9),_0x1da99b(0x11b),_0x1da99b(0xf6),'priceInput','costInput']['forEach'](function(_0x14a8d0){var _0x3bc752=_0x1da99b;_0xb0a6fa[_0x3bc752(0x177)]('.'+_0x14a8d0)[_0x3bc752(0x200)]('input',function(){var _0x4b8f48=_0x3bc752,_0x580140=_0x4a4f4a?+_0x4a4f4a['id'][_0x4b8f48(0xfe)]('_')[0x1]:null;if(_0x4a4f4a)updateVariantUnits(_0x580140);else updateUnitsArray();});}),_0xb0a6fa[_0x1da99b(0x177)](_0x1da99b(0x116))['addEventListener'](_0x1da99b(0x131),function(){var _0x22378d=_0x1da99b;_0xb0a6fa[_0x22378d(0x10a)]();var _0x24dcaa=_0x4a4f4a?+_0x4a4f4a['id'][_0x22378d(0xfe)]('_')[0x1]:null;if(_0x4a4f4a)updateVariantUnits(_0x24dcaa);else updateUnitsArray();});var _0x282cf4=_0x4a4f4a||document[_0x1da99b(0x1f0)](_0x1da99b(0x163));_0x282cf4[_0x1da99b(0x1a4)](_0xb0a6fa);}function containerIdx(_0x2c6d70){return+_0x2c6d70['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x50bba1=_0x2ec1fc,_0xafde85=[],_0x49c803=Array[_0x50bba1(0x1b0)](document['querySelectorAll'](_0x50bba1(0x167))),_0x48f2d0=_0x49c803[_0x50bba1(0x101)](_0x1b601d=>_0x1b601d[_0x50bba1(0xfb)][_0x50bba1(0x18d)]==='true'),_0x1edae7=_0x48f2d0?+_0x48f2d0[_0x50bba1(0x177)](_0x50bba1(0x14d))[_0x50bba1(0x15f)]:0x1;_0x49c803[_0x50bba1(0x153)](function(_0x3c0528){var _0x1164ad=_0x50bba1,_0x5d5e3e=+_0x3c0528['querySelector']('.eqInput')[_0x1164ad(0x15f)]||0x0,_0x40ac68=+_0x3c0528[_0x1164ad(0x177)](_0x1164ad(0x145))[_0x1164ad(0x15f)]||0x0,_0x56b7e7=+_0x3c0528[_0x1164ad(0x177)](_0x1164ad(0x15d))['value']||0x0;_0xafde85[_0x1164ad(0xe0)]({'setAlias':_0x3c0528['querySelector'](_0x1164ad(0x130))['value'][_0x1164ad(0x18f)](),'setUnitCode':_0x3c0528[_0x1164ad(0x177)](_0x1164ad(0xf3))['value'],'setEquivalence':_0x5d5e3e,'setFactor':_0x3c0528[_0x1164ad(0xfb)][_0x1164ad(0x18d)]===_0x1164ad(0x164)?0x1:_0x5d5e3e==_0x1edae7?0x1:_0x5d5e3e<_0x1edae7?_0x1edae7/_0x5d5e3e:_0x5d5e3e/_0x1edae7,'setPrice':_0x40ac68,'setCost':_0x56b7e7,'setDefault':_0x3c0528[_0x1164ad(0xfb)]['default']==='true'?0x1:0x0});}),baseItem[_0x50bba1(0xe8)]=_0xafde85;}function updateBranches(){var _0x4bc7c5=_0x2ec1fc,_0x75d023=[];document[_0x4bc7c5(0x1b2)]('#newItem_branches_container\x20>\x20div')[_0x4bc7c5(0x153)](function(_0x4f4c6b){var _0x1615dc=_0x4bc7c5,_0x3d5345=_0x4f4c6b[_0x1615dc(0x177)](_0x1615dc(0x16e));if(_0x3d5345[_0x1615dc(0x106)]){var _0x2a76fe=+_0x3d5345[_0x1615dc(0xfb)]['id'],_0x14222f=+_0x4f4c6b[_0x1615dc(0x177)](_0x1615dc(0x11c))[_0x1615dc(0x15f)],_0x275d5f=+_0x4f4c6b['querySelector']('.branchMin')[_0x1615dc(0x15f)];_0x75d023[_0x1615dc(0xe0)]({'setWarehouseCode':_0x2a76fe,'setStockInitial':_0x14222f,'setStockMinimum':_0x275d5f});}}),baseItem[_0x4bc7c5(0x1a7)]=_0x75d023;}document['getElementById']('newItem_btn_addProdItem')[_0x2ec1fc(0x200)](_0x2ec1fc(0x131),function(){var _0x4b816e=_0x2ec1fc,_0x2f0006=Date[_0x4b816e(0x1db)](),_0x20129d=document[_0x4b816e(0x129)](_0x4b816e(0x1b6));_0x20129d[_0x4b816e(0xfb)][_0x4b816e(0x154)]=_0x2f0006,_0x20129d[_0x4b816e(0xfd)]=_0x4b816e(0x102)+_0x2f0006+_0x4b816e(0x1b1)+_0x2f0006+_0x4b816e(0x1ac),prodC[_0x4b816e(0x1a4)](_0x20129d),initProdSearch(_0x20129d[_0x4b816e(0x177)](_0x4b816e(0xfc))),_0x20129d[_0x4b816e(0x177)](_0x4b816e(0x12e))[_0x4b816e(0x200)](_0x4b816e(0x131),function(){var _0x4f26fa=_0x4b816e;_0x20129d[_0x4f26fa(0x10a)](),updateProdItems();}),_0x20129d[_0x4b816e(0x177)](_0x4b816e(0x117))['addEventListener'](_0x4b816e(0x161),updateProdItems),document[_0x4b816e(0x1f0)](_0x4b816e(0x1a1))['classList']['toggle']('newItem_title_table',!![]),document[_0x4b816e(0x1f0)](_0x4b816e(0x1a1))['classList'][_0x4b816e(0x127)](_0x4b816e(0x19e),![]);});function initProdSearch(_0x36d665,_0x39afcf){var _0x4b477d=_0x2ec1fc,_0xa9f943=_0x36d665[_0x4b477d(0x177)]('.prodInput'),_0x3cbae6=_0x36d665[_0x4b477d(0x177)](_0x4b477d(0x111)),_0x17460a=_0x39afcf||null;if(_0x39afcf)_0xa9f943['value']=_0x39afcf['name'];_0xa9f943['addEventListener']('input',function(){var _0x1c2bd9=_0x4b477d,_0x158417=_0xa9f943[_0x1c2bd9(0x15f)][_0x1c2bd9(0x173)]()['trim']();_0x3cbae6[_0x1c2bd9(0xfd)]='';if(!_0x158417)return;products['filter'](_0x27441b=>_0x27441b[_0x1c2bd9(0x110)][_0x1c2bd9(0x173)]()[_0x1c2bd9(0x171)](_0x158417))[_0x1c2bd9(0xf0)](0x0,0x14)[_0x1c2bd9(0x153)](function(_0x3a2261){var _0x42177d=_0x1c2bd9,_0x2d61ec=document[_0x42177d(0x129)](_0x42177d(0x1b6));_0x2d61ec[_0x42177d(0x1e3)]=_0x3a2261['setDescripcion'],_0x2d61ec[_0x42177d(0xfb)]['id']=_0x3a2261['id'],_0x2d61ec[_0x42177d(0xfb)][_0x42177d(0x17a)]=_0x3a2261[_0x42177d(0x110)],_0x3cbae6[_0x42177d(0x1a4)](_0x2d61ec),_0x2d61ec[_0x42177d(0x200)](_0x42177d(0x131),function(){var _0x13c6aa=_0x42177d;_0x17460a={'id':_0x3a2261['id'],'name':_0x3a2261['setDescripcion']},_0xa9f943['value']=_0x3a2261['setDescripcion'],_0x3cbae6[_0x13c6aa(0xfd)]='';var _0x560f42=_0x36d665[_0x13c6aa(0x1e7)](_0x13c6aa(0x185));if(_0x560f42){var _0x2abd8e=+_0x560f42['id'][_0x13c6aa(0xfe)]('_')[0x1];updateVariantComponents(_0x2abd8e);}else updateProdItems();});});}),_0xa9f943['addEventListener']('focus',function(){var _0x41005d=_0x4b477d;_0x3cbae6[_0x41005d(0x123)][_0x41005d(0x10a)]('newItem_hidden');}),document[_0x4b477d(0x200)](_0x4b477d(0x131),function(_0x20accf){var _0x26ce3f=_0x4b477d;if(!_0x36d665['contains'](_0x20accf['target']))_0x3cbae6[_0x26ce3f(0x123)][_0x26ce3f(0x176)]('newItem_hidden');}),Object[_0x4b477d(0x1c6)](_0x36d665,_0x4b477d(0x143),{'get':()=>_0x17460a});}function updateProdItems(){var _0x4efe1b=_0x2ec1fc,_0x25d759=[];Array[_0x4efe1b(0x1b0)](prodC['children'])['forEach'](function(_0x1271b8){var _0x1e8958=_0x4efe1b,_0x4acbef=_0x1271b8[_0x1e8958(0x177)](_0x1e8958(0xfc));if(!_0x4acbef)return;var _0x5b0c2c=_0x1271b8[_0x1e8958(0x177)](_0x1e8958(0x117)),_0x4e4cf2=_0x4acbef[_0x1e8958(0x143)];_0x4e4cf2&&_0x25d759[_0x1e8958(0xe0)]({'setItemId':_0x4e4cf2['id'],'setDescripcion':_0x4e4cf2[_0x1e8958(0x17a)],'setCantidad':+_0x5b0c2c[_0x1e8958(0x15f)]});}),baseItem[_0x4efe1b(0x1e9)]=_0x25d759,_0x25d759[_0x4efe1b(0x137)]===0x0&&(document[_0x4efe1b(0x1f0)](_0x4efe1b(0x1a1))[_0x4efe1b(0x123)][_0x4efe1b(0x127)](_0x4efe1b(0x1b7),![]),document[_0x4efe1b(0x1f0)](_0x4efe1b(0x1a1))['classList'][_0x4efe1b(0x127)](_0x4efe1b(0x19e),!![]));}document[_0x2ec1fc(0x1f0)](_0x2ec1fc(0x1c9))['addEventListener'](_0x2ec1fc(0x131),function(){var _0x31d1ec=_0x2ec1fc,_0x578da6=vgCount++,_0x4810da=document[_0x31d1ec(0x129)]('div');_0x4810da[_0x31d1ec(0xfb)][_0x31d1ec(0x154)]=_0x578da6,_0x4810da[_0x31d1ec(0xfd)]=_0x31d1ec(0x1ee)+_0x578da6+'\x22>'+_0x31d1ec(0x18c)+_0x578da6+'\x22>'+_0x31d1ec(0x1a8),vgC[_0x31d1ec(0x1a4)](_0x4810da),_0x4810da[_0x31d1ec(0x177)](_0x31d1ec(0x1d9))[_0x31d1ec(0x200)](_0x31d1ec(0x140),generateVariants),_0x4810da[_0x31d1ec(0x177)](_0x31d1ec(0x149))[_0x31d1ec(0x200)]('blur',generateVariants),_0x4810da[_0x31d1ec(0x177)]('.removeGroup')[_0x31d1ec(0x200)]('click',function(){var _0x43f042=_0x31d1ec;_0x4810da[_0x43f042(0x10a)](),generateVariants();});});function generateVariants(){var _0x824fb=_0x2ec1fc,_0x7f905b=[];vgC[_0x824fb(0x1b2)](_0x824fb(0x1b6))[_0x824fb(0x153)](function(_0x420bbc){var _0x2e2eb2=_0x824fb,_0x1adf36=_0x420bbc[_0x2e2eb2(0x177)](_0x2e2eb2(0x1d9))[_0x2e2eb2(0x15f)][_0x2e2eb2(0x18f)](),_0x3f4d50=_0x420bbc[_0x2e2eb2(0x177)](_0x2e2eb2(0x149))[_0x2e2eb2(0x15f)][_0x2e2eb2(0xfe)](',')['map'](_0xc72143=>_0xc72143['trim']())[_0x2e2eb2(0x1fc)](_0x1a92c9=>_0x1a92c9);if(_0x1adf36&&_0x3f4d50['length'])_0x7f905b[_0x2e2eb2(0xe0)]({'name':_0x1adf36,'vals':_0x3f4d50});});var _0x2594d2=[{}];_0x7f905b[_0x824fb(0x153)](function(_0x4ba352){var _0x2243ee=_0x824fb;_0x2594d2=_0x2594d2[_0x2243ee(0x12f)](function(_0x33d678){var _0x158db4=_0x2243ee;return _0x4ba352[_0x158db4(0x17c)][_0x158db4(0x19c)](function(_0x34f8a6){var _0x239e08=_0x158db4,_0x404d29=Object[_0x239e08(0x1c7)]({},_0x33d678);return _0x404d29[_0x4ba352[_0x239e08(0x17a)]]=_0x34f8a6,_0x404d29;});});}),newItems=[],varContainer['innerHTML']='',_0x2594d2[_0x824fb(0x153)](function(_0x4d96ed,_0x125f14){var _0x427f33=_0x824fb,_0x2184aa=JSON[_0x427f33(0x1f5)](JSON[_0x427f33(0xf4)](baseItem));_0x2184aa[_0x427f33(0xf1)]=_0x4d96ed,_0x2184aa[_0x427f33(0x15a)]=baseItem[_0x427f33(0x10d)]+'\x20'+Object[_0x427f33(0x11e)](_0x4d96ed)[_0x427f33(0x19c)](_0x1f9145=>_0x1f9145[0x0]+'\x20'+_0x1f9145[0x1])['join']('\x20'),newItems[_0x427f33(0xe0)](_0x2184aa);var _0x57ab3d=document[_0x427f33(0x129)](_0x427f33(0x1b6));_0x57ab3d['classList']['add'](_0x427f33(0x207)),_0x57ab3d[_0x427f33(0xfb)][_0x427f33(0x154)]=_0x125f14,_0x57ab3d[_0x427f33(0xfd)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x2184aa['setItemVariantName']+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x2184aa[_0x427f33(0xe6)]+_0x427f33(0x1c4)+_0x2184aa[_0x427f33(0x1f3)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x2184aa[_0x427f33(0x190)]+_0x427f33(0x14e)+_0x125f14+_0x427f33(0xe3)+_0x125f14+_0x427f33(0x191)+_0x125f14+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x427f33(0x1a4)](_0x57ab3d),_0x57ab3d[_0x427f33(0x177)](_0x427f33(0x1f1))[_0x427f33(0x200)](_0x427f33(0x161),_0x56cc9d=>newItems[_0x125f14][_0x427f33(0xe6)]=_0x56cc9d[_0x427f33(0xeb)]['value']),_0x57ab3d[_0x427f33(0x177)](_0x427f33(0x1d6))['addEventListener'](_0x427f33(0x161),_0xc6ee0e=>newItems[_0x125f14][_0x427f33(0x1f3)]=_0xc6ee0e[_0x427f33(0xeb)][_0x427f33(0x15f)]),_0x57ab3d[_0x427f33(0x177)](_0x427f33(0xf5))[_0x427f33(0x200)](_0x427f33(0x1bb),_0x43541b=>newItems[_0x125f14][_0x427f33(0x190)]=_0x43541b[_0x427f33(0xeb)][_0x427f33(0x15f)]),initVariantUnits(_0x125f14),initVariantComponents(_0x125f14),initVariantBranches(_0x125f14),_0x57ab3d[_0x427f33(0x177)](_0x427f33(0x1e0))['addEventListener'](_0x427f33(0x131),function(){var _0x736699=_0x427f33,_0x13e86e=+_0x57ab3d['dataset'][_0x736699(0x154)];newItems[_0x736699(0x16f)](_0x13e86e,0x1),_0x57ab3d[_0x736699(0x10a)](),document[_0x736699(0x1b2)](_0x736699(0x114))[_0x736699(0x153)](function(_0x42cee9,_0x57929c){var _0x327098=_0x736699;_0x42cee9[_0x327098(0xfb)][_0x327098(0x154)]=_0x57929c;});});});if(newItems[_0x824fb(0x137)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3193a0){var _0x2bc6e2=_0x2ec1fc,_0xcebb4=document[_0x2bc6e2(0x1f0)](_0x2bc6e2(0x157)+_0x3193a0+_0x2bc6e2(0x139)),_0x505832=[];Array[_0x2bc6e2(0x1b0)](_0xcebb4[_0x2bc6e2(0x170)])[_0x2bc6e2(0x153)](function(_0x35d93e){var _0x4dbcf1=_0x2bc6e2,_0x19140a=+_0x35d93e[_0x4dbcf1(0x177)]('.eqInput')[_0x4dbcf1(0x15f)]||0x0,_0x2344c1=_0x35d93e[_0x4dbcf1(0x177)](_0x4dbcf1(0x130))[_0x4dbcf1(0x15f)][_0x4dbcf1(0x18f)](),_0x568021=_0x35d93e[_0x4dbcf1(0x177)]('.unitSelect')['value'],_0x53adff=+_0x35d93e[_0x4dbcf1(0x177)](_0x4dbcf1(0x145))[_0x4dbcf1(0x15f)]||0x0,_0x2849cb=+_0x35d93e[_0x4dbcf1(0x177)](_0x4dbcf1(0x15d))[_0x4dbcf1(0x15f)]||0x0,_0x499794=_0x35d93e[_0x4dbcf1(0xfb)][_0x4dbcf1(0x18d)]===_0x4dbcf1(0x164),_0x2b291b=+_0xcebb4[_0x4dbcf1(0x177)](_0x4dbcf1(0x1d4))[_0x4dbcf1(0x15f)]||0x1,_0x260e63=_0x499794?0x1:_0x19140a==_0x2b291b?0x1:_0x19140a<_0x2b291b?_0x2b291b/_0x19140a:_0x19140a/_0x2b291b;_0x505832['push']({'setAlias':_0x2344c1,'setUnitCode':_0x568021,'setEquivalence':_0x19140a,'setFactor':_0x260e63,'setPrice':_0x53adff,'setCost':_0x2849cb,'setDefault':_0x499794?0x1:0x0});}),newItems[_0x3193a0]['setItemUnits']=_0x505832;}function initVariantUnits(_0x2496d8){var _0x5b4f29=_0x2ec1fc,_0x49fd73=document[_0x5b4f29(0x1f0)](_0x5b4f29(0x157)+_0x2496d8+'_units_container');_0x49fd73[_0x5b4f29(0xfd)]='',newItems[_0x2496d8][_0x5b4f29(0xe8)][_0x5b4f29(0x153)](function(_0x73d944){var _0x2c6688=_0x5b4f29;addUnit(_0x73d944[_0x2c6688(0x1be)],_0x73d944[_0x2c6688(0x1f2)],_0x73d944[_0x2c6688(0x112)],_0x73d944[_0x2c6688(0x174)],_0x73d944[_0x2c6688(0x13e)],_0x73d944['setCost'],_0x49fd73);}),_0x49fd73[_0x5b4f29(0x1f8)][_0x5b4f29(0x177)](_0x5b4f29(0x141))['addEventListener']('click',function(){addUnit('','',0x1,![],'','',_0x49fd73),updateVariantUnits(_0x2496d8);});}function updateVariantUnits(_0x32209a){var _0x1c132c=_0x2ec1fc,_0x3ba61d=document[_0x1c132c(0x1f0)](_0x1c132c(0x157)+_0x32209a+_0x1c132c(0x139)),_0x1e59e0=_0x3ba61d[_0x1c132c(0x177)](_0x1c132c(0x1d4)),_0x448c2a=_0x1e59e0?+_0x1e59e0[_0x1c132c(0x15f)]:0x1,_0x63e5c6=Array['from'](_0x3ba61d['children'])['map'](function(_0x1920dd){var _0x18f44a=_0x1c132c,_0x539401=_0x1920dd[_0x18f44a(0x177)](_0x18f44a(0x130))[_0x18f44a(0x15f)][_0x18f44a(0x18f)](),_0x32b0d5=_0x1920dd[_0x18f44a(0x177)](_0x18f44a(0xf3))['value'],_0x18b04d=+_0x1920dd[_0x18f44a(0x177)]('.eqInput')[_0x18f44a(0x15f)]||0x0,_0x1dab41=+_0x1920dd[_0x18f44a(0x177)](_0x18f44a(0x145))['value']||0x0,_0x2a23db=+_0x1920dd[_0x18f44a(0x177)](_0x18f44a(0x15d))[_0x18f44a(0x15f)]||0x0,_0x308425=_0x1920dd[_0x18f44a(0xfb)][_0x18f44a(0x18d)]==='true';return{'setAlias':_0x539401,'setUnitCode':_0x32b0d5,'setEquivalence':_0x18b04d,'setFactor':_0x308425?0x1:_0x18b04d==_0x448c2a?0x1:_0x18b04d<_0x448c2a?_0x448c2a/_0x18b04d:_0x18b04d/_0x448c2a,'setPrice':_0x1dab41,'setCost':_0x2a23db,'setDefault':_0x308425?0x1:0x0};});newItems[_0x32209a]['setItemUnits']=_0x63e5c6;}function _0xae35(_0x337ae1,_0x4077ab){var _0x37ec18=_0x19ec();return _0xae35=function(_0x2f9f6c,_0x28840c){_0x2f9f6c=_0x2f9f6c-0xe0;var _0x13c964=_0x37ec18[_0x2f9f6c];return _0x13c964;},_0xae35(_0x337ae1,_0x4077ab);}function initVariantComponents(_0x45424a){var _0x5d206c=_0x2ec1fc,_0x16e07e=document[_0x5d206c(0x1f0)](_0x5d206c(0x157)+_0x45424a+_0x5d206c(0x18b));_0x16e07e[_0x5d206c(0xfd)]='',newItems[_0x45424a][_0x5d206c(0x1e9)][_0x5d206c(0x153)](function(_0x376f3e){var _0x4eabc1=_0x5d206c,_0xd529bf=document['createElement'](_0x4eabc1(0x1b6)),_0x4391af=Date[_0x4eabc1(0x1db)]();_0xd529bf[_0x4eabc1(0xfb)]['idx']=_0x4391af,_0xd529bf[_0x4eabc1(0xfd)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x4391af+_0x4eabc1(0x136)+_0x376f3e[_0x4eabc1(0x19a)]+_0x4eabc1(0x1f4),_0x16e07e[_0x4eabc1(0x1a4)](_0xd529bf),initProdSearch(_0xd529bf[_0x4eabc1(0x177)](_0x4eabc1(0xfc)),{'id':_0x376f3e['setItemId'],'name':_0x376f3e[_0x4eabc1(0x110)]}),_0xd529bf[_0x4eabc1(0x177)](_0x4eabc1(0x117))[_0x4eabc1(0x200)](_0x4eabc1(0x161),function(){updateVariantComponents(_0x45424a);}),_0xd529bf['querySelector'](_0x4eabc1(0x105))[_0x4eabc1(0x200)](_0x4eabc1(0x131),function(){_0xd529bf['remove'](),updateVariantComponents(_0x45424a);});}),_0x16e07e[_0x5d206c(0x1f8)][_0x5d206c(0x177)](_0x5d206c(0x1cc))[_0x5d206c(0x200)]('click',function(){var _0x2354cf=_0x5d206c,_0x3f50da=document['createElement'](_0x2354cf(0x1b6)),_0x2a9676=Date[_0x2354cf(0x1db)]();_0x3f50da['dataset'][_0x2354cf(0x154)]=_0x2a9676,_0x3f50da['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x2a9676+_0x2354cf(0x1d1),_0x16e07e[_0x2354cf(0x1a4)](_0x3f50da),initProdSearch(_0x3f50da[_0x2354cf(0x177)](_0x2354cf(0xfc))),_0x3f50da['querySelector'](_0x2354cf(0x117))['addEventListener'](_0x2354cf(0x161),function(){updateVariantComponents(_0x45424a);}),_0x3f50da[_0x2354cf(0x177)](_0x2354cf(0x105))[_0x2354cf(0x200)](_0x2354cf(0x131),function(){var _0x4b3552=_0x2354cf;_0x3f50da[_0x4b3552(0x10a)](),updateVariantComponents(_0x45424a);});});}function updateVariantComponents(_0x29f19a){var _0x1f7bf4=_0x2ec1fc,_0xe9ad2f=document['getElementById']('variant_'+_0x29f19a+_0x1f7bf4(0x18b)),_0x472481=Array[_0x1f7bf4(0x1b0)](_0xe9ad2f[_0x1f7bf4(0x170)])['map'](function(_0x1884d0){var _0x1dea18=_0x1f7bf4,_0x4a99ae=_0x1884d0[_0x1dea18(0x177)](_0x1dea18(0xfc)),_0x1b8d2d=_0x4a99ae[_0x1dea18(0x143)],_0x426f39=+_0x1884d0[_0x1dea18(0x177)]('.prodQty')[_0x1dea18(0x15f)]||0x0;return _0x1b8d2d?{'setItemId':_0x1b8d2d['id'],'setDescripcion':_0x1b8d2d[_0x1dea18(0x17a)],'setCantidad':_0x426f39}:null;})[_0x1f7bf4(0x1fc)](_0x1e2fef=>_0x1e2fef);newItems[_0x29f19a][_0x1f7bf4(0x1e9)]=_0x472481;}function initVariantBranches(_0xc0c7b5){var _0x244fd1=_0x2ec1fc;const _0xa2f75f=getAllWarehouses();var _0x3677c0=document[_0x244fd1(0x1f0)]('variant_'+_0xc0c7b5+'_branch_container');_0x3677c0[_0x244fd1(0xfd)]='',newItems[_0xc0c7b5][_0x244fd1(0x1a7)]['forEach'](function(_0x1e8b60){var _0x522e16=_0x244fd1,_0x237797=_0xa2f75f[_0x522e16(0x101)](_0x3e6951=>_0x3e6951[_0x522e16(0x16d)]==_0x1e8b60['setWarehouseCode']),_0xacf84c=document[_0x522e16(0x129)](_0x522e16(0x1b6));_0xacf84c[_0x522e16(0xfd)]=_0x522e16(0xfa)+_0x1e8b60['setWarehouseCode']+_0x522e16(0x152)+_0x237797['setWarehouseName']+_0x522e16(0x1b9)+_0x1e8b60[_0x522e16(0x1ba)]+_0x522e16(0x1ff)+_0x1e8b60[_0x522e16(0x197)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1e8b60[_0x522e16(0x1ba)]+'\x22\x20value=\x22'+_0x1e8b60[_0x522e16(0x1bf)]+'\x22>',_0x3677c0[_0x522e16(0x1a4)](_0xacf84c),_0xacf84c[_0x522e16(0x1b2)](_0x522e16(0x161))['forEach'](function(_0x5cdf24){var _0x42c86f=_0x522e16;_0x5cdf24[_0x42c86f(0x200)](_0x42c86f(0x161),function(){updateVariantBranches(_0xc0c7b5);});});}),_0xa2f75f[_0x244fd1(0x153)](function(_0x48f4a3){var _0x488ec7=_0x244fd1;if(!newItems[_0xc0c7b5][_0x488ec7(0x1a7)][_0x488ec7(0x101)](_0x9234e3=>_0x9234e3[_0x488ec7(0x1ba)]===_0x48f4a3[_0x488ec7(0x16d)])){var _0x56b4d8=document[_0x488ec7(0x129)](_0x488ec7(0x1b6));_0x56b4d8[_0x488ec7(0xfd)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x48f4a3[_0x488ec7(0x16d)]+_0x488ec7(0x1b5)+_0x48f4a3[_0x488ec7(0xed)]+_0x488ec7(0x1b9)+_0x48f4a3[_0x488ec7(0x16d)]+_0x488ec7(0xf7)+_0x48f4a3['setWarehouseId']+'\x22>',_0x3677c0[_0x488ec7(0x1a4)](_0x56b4d8),_0x56b4d8['querySelectorAll'](_0x488ec7(0x161))[_0x488ec7(0x153)](function(_0x26f52a){var _0x461343=_0x488ec7;_0x26f52a[_0x461343(0x200)](_0x461343(0x161),function(){updateVariantBranches(_0xc0c7b5);});});}});}function updateVariantBranches(_0x3b5d40){var _0x27ef1e=_0x2ec1fc,_0x398319=document[_0x27ef1e(0x1f0)]('variant_'+_0x3b5d40+'_branch_container'),_0x3658db=[];_0x398319[_0x27ef1e(0x1b2)](_0x27ef1e(0x1b6))['forEach'](function(_0x3095ad){var _0x2dec02=_0x27ef1e,_0x5c3c7d=_0x3095ad[_0x2dec02(0x177)](_0x2dec02(0x16e));if(_0x5c3c7d['checked']){var _0x4803ab=+_0x5c3c7d[_0x2dec02(0xfb)]['id'],_0x237c02=+_0x3095ad[_0x2dec02(0x177)](_0x2dec02(0x11c))[_0x2dec02(0x15f)]||0x0,_0x310028=+_0x3095ad[_0x2dec02(0x177)](_0x2dec02(0x1b4))[_0x2dec02(0x15f)]||0x0;_0x3658db['push']({'setWarehouseCode':_0x4803ab,'setStockInitial':_0x237c02,'setStockMinimum':_0x310028});}}),newItems[_0x3b5d40][_0x27ef1e(0x1a7)]=_0x3658db;}async function storeOfflineProduct(_0x1ac4b8){var _0x51e923=_0x2ec1fc;try{const _0x148849=await createCartStore(''),_0x4c9a0f=_0x148849[_0x51e923(0x19b)]('offline_operations',_0x51e923(0x188)),_0x535cbe=_0x4c9a0f['objectStore'](_0x51e923(0x195));_0x535cbe[_0x51e923(0x176)](_0x1ac4b8),_0x4c9a0f[_0x51e923(0x147)]=()=>{var _0x37ec7b=_0x51e923;console[_0x37ec7b(0x13b)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x4c9a0f[_0x51e923(0x10c)]=_0x38d63f=>{var _0x3143e4=_0x51e923;console['error'](_0x3143e4(0x115),_0x38d63f[_0x3143e4(0xeb)][_0x3143e4(0x10f)]);};}catch(_0x4213d9){console['error'](_0x51e923(0x1ef),_0x4213d9);}}document[_0x2ec1fc(0x1f0)]('btnItemSave')['addEventListener']('click',async function(_0x3f0e8d){var _0x34efc8=_0x2ec1fc;_0x3f0e8d[_0x34efc8(0x144)]();const _0x228772=document[_0x34efc8(0x1f0)](_0x34efc8(0x168)),_0x58073a=document['getElementById']('setItemFree')[_0x34efc8(0x15f)];if(!_0x228772[_0x34efc8(0x15f)][_0x34efc8(0x18f)]()&&_0x58073a==0x0){ntfShow(_0x34efc8(0xf9),0x2,0x1);return;}_0x58073a==0x1&&(_0x228772[_0x34efc8(0x15f)]='',baseItem['setItemCode']='');const _0x2a5c0c=document['getElementById'](_0x34efc8(0x17d));if(!_0x2a5c0c[_0x34efc8(0x15f)][_0x34efc8(0x18f)]()){ntfShow(_0x34efc8(0x1ce),0x2,0x1);return;}const _0x53d021=document[_0x34efc8(0x1f0)](_0x34efc8(0x1a0));hideModalCreateItem(),showLoadingModal();newItems[_0x34efc8(0x137)]===0x0&&(newItems=[baseItem]);const _0x21a550=document[_0x34efc8(0x1f0)]('windowId')[_0x34efc8(0x15f)],_0x22741b=window_options[_0x21a550][_0x34efc8(0x11a)],_0x4ed7f8=[];newItems[_0x34efc8(0x153)](_0x5ceccf=>{var _0x2b228d=_0x34efc8;const _0x497bd6=generateNumericUniqId();_0x5ceccf[_0x2b228d(0xe8)]['forEach'](_0x2b15c9=>{var _0x1eb794=_0x2b228d;const _0x2da748=generateNumericUniqId();_0x2b15c9[_0x1eb794(0x1eb)]=_0x2da748;const _0x5d02a4={'id':_0x2da748,'setIdProducto':_0x497bd6,'setCodProducto':_0x5ceccf[_0x1eb794(0xe6)],'setDescripcion':_0x5ceccf['setItemVariantName']!=''?_0x5ceccf[_0x1eb794(0x15a)]:_0x5ceccf[_0x1eb794(0x10d)],'setItemDescription':_0x5ceccf[_0x1eb794(0x179)],'setBatchExpirationDate':_0x5ceccf[_0x1eb794(0x190)],'setBatchName':'','setCategoria':_0x5ceccf[_0x1eb794(0x1c2)][0x0]||'','setMarca':_0x5ceccf[_0x1eb794(0x158)][0x0]||'','setConversionFactor':parseFloat(_0x2b15c9[_0x1eb794(0x103)]),'setImages':[],'setImg':_0x1eb794(0x1e1),'setInventariable':0x1,'setItemIsBought':_0x5ceccf['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x5ceccf[_0x1eb794(0x15b)]?0x1:0x0,'setPorcentajeIgv':_0x5ceccf['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x5ceccf[_0x1eb794(0x166)],'setTipAfeIgv':_0x5ceccf['setItemTaxCode'],'setUnidad':_0x2b15c9['setUnitCode'],'setUnidadCodigo':_0x2b15c9['setUnitCode'],'setItemUnitAlias':_0x2b15c9[_0x1eb794(0x1be)],'currency_data':[{'currency':_0x22741b,'setMtoPrecioCostoUnitario':_0x2b15c9[_0x1eb794(0x13c)],'setMtoPrecioUnitario':_0x2b15c9[_0x1eb794(0x13e)],'setPriceLists':[]}],'sucursales':_0x5ceccf[_0x1eb794(0x1a7)]['map'](_0x4d5252=>({'setIdSucursal':_0x4d5252[_0x1eb794(0x1ba)],'setSucursalStock':_0x4d5252['setStockInitial'][_0x1eb794(0xea)](),'setWarehouseStockMin':_0x4d5252[_0x1eb794(0x1bf)][_0x1eb794(0xea)]()})),'setItemFree':_0x5ceccf[_0x1eb794(0x19f)],'setItemBarCode':_0x5ceccf[_0x1eb794(0x1f3)],'setItemBrands':_0x5ceccf[_0x1eb794(0x158)]['slice'](),'setItemCategories':_0x5ceccf['setItemCategories'][_0x1eb794(0xf0)](),'setItemComponents':_0x5ceccf[_0x1eb794(0x1e9)]['map'](_0x2862a1=>({..._0x2862a1})),'setItemImages':_0x5ceccf[_0x1eb794(0x1ea)][_0x1eb794(0xf0)](),'setItemVariantName':_0x5ceccf[_0x1eb794(0x15a)],'setItemVariantValues':{..._0x5ceccf[_0x1eb794(0xf1)]}};_0x4ed7f8[_0x1eb794(0xe0)](_0x5d02a4),(_0x53d021[_0x1eb794(0x106)]||_0x58073a==0x1)&&addToCart(_0x5d02a4);});}),console[_0x34efc8(0x13b)](_0x34efc8(0x1d3),newItems),await finalizeImport(_0x4ed7f8,newItems,![]);}),[_0x2ec1fc(0xe9),_0x2ec1fc(0x187)][_0x2ec1fc(0x153)](_0x47b919=>dropZone[_0x2ec1fc(0x200)](_0x47b919,_0x3cdefd=>{var _0x7d4fe3=_0x2ec1fc;_0x3cdefd['preventDefault'](),dropZone[_0x7d4fe3(0x123)][_0x7d4fe3(0x176)](_0x7d4fe3(0x187));})),[_0x2ec1fc(0x14f),_0x2ec1fc(0x146)]['forEach'](_0x1d9178=>dropZone['addEventListener'](_0x1d9178,_0x20568a=>{var _0x28c532=_0x2ec1fc;_0x20568a['preventDefault'](),dropZone[_0x28c532(0x123)][_0x28c532(0x10a)]('dragover');})),dropZone[_0x2ec1fc(0x200)](_0x2ec1fc(0x146),_0x435bb8=>{var _0x4c88ae=_0x2ec1fc;const _0x15803d=_0x435bb8[_0x4c88ae(0xf2)][_0x4c88ae(0x1fb)][0x0];if(!_0x15803d)return;fileInput['files']=_0x435bb8[_0x4c88ae(0xf2)][_0x4c88ae(0x1fb)],dropZone[_0x4c88ae(0x177)](_0x4c88ae(0x208))[_0x4c88ae(0x1e3)]=_0x15803d[_0x4c88ae(0x17a)],removeBtn[_0x4c88ae(0x14a)]=![],fileInput[_0x4c88ae(0x1d7)](new Event('change'));}),removeBtn[_0x2ec1fc(0x200)](_0x2ec1fc(0x131),()=>{var _0x18c71e=_0x2ec1fc;fileInput[_0x18c71e(0x15f)]='',dropZone[_0x18c71e(0x177)](_0x18c71e(0x208))[_0x18c71e(0x1e3)]=_0x18c71e(0x194),removeBtn['hidden']=!![],progressBar[_0x18c71e(0x113)][_0x18c71e(0x134)]='none',statusDiv['textContent']='',uploadBtn['disabled']=!![];}),itemWorker[_0x2ec1fc(0x160)]=({data:_0x1e21d1})=>{var _0x48c8ef=_0x2ec1fc;const {type:_0x339aab,payload:_0x5215c4}=_0x1e21d1;_0x339aab===_0x48c8ef(0x180)&&(progressBar[_0x48c8ef(0x113)]['display']=_0x48c8ef(0x13a),progressBar[_0x48c8ef(0x15f)]=_0x5215c4['percent'],statusDiv['textContent']=_0x5215c4[_0x48c8ef(0x202)]),_0x339aab===_0x48c8ef(0x1c3)&&(newItemsExcel=_0x5215c4['items'],statusDiv[_0x48c8ef(0x1e3)]='✅\x20'+newItemsExcel[_0x48c8ef(0x137)]+_0x48c8ef(0xec),uploadBtn[_0x48c8ef(0x1dc)]=![],progressBar['value']=0x64,console[_0x48c8ef(0x13b)](newItemsExcel)),_0x339aab===_0x48c8ef(0x10f)&&(statusDiv[_0x48c8ef(0x1e3)]=_0x48c8ef(0x1c0)+_0x5215c4,progressBar[_0x48c8ef(0x113)][_0x48c8ef(0x134)]=_0x48c8ef(0xe7));},fileInput[_0x2ec1fc(0x200)](_0x2ec1fc(0x1bb),async _0x504ff9=>{var _0xb44d7e=_0x2ec1fc;const _0x15f6f4=_0x504ff9[_0xb44d7e(0xeb)][_0xb44d7e(0x1fb)][0x0];if(!_0x15f6f4)return;uploadBtn[_0xb44d7e(0x1dc)]=!![],newItemsExcel=null,statusDiv[_0xb44d7e(0x1e3)]='',progressBar['style'][_0xb44d7e(0x134)]=_0xb44d7e(0xe7),dropZone['querySelector']('.drop-zone__prompt')[_0xb44d7e(0x1e3)]=_0x15f6f4['name'],removeBtn[_0xb44d7e(0x14a)]=![];try{const _0x5091ad=await _0x15f6f4[_0xb44d7e(0x11f)]();itemWorker['postMessage']({'buf':_0x5091ad,'maxRows':0x1388});}catch(_0x47fd90){statusDiv['textContent']='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0xb44d7e(0x15f)]='';}}),uploadBtn[_0x2ec1fc(0x200)](_0x2ec1fc(0x131),async()=>{var _0x48d844=_0x2ec1fc;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x53aa49=document[_0x48d844(0x1f0)](_0x48d844(0x199))['value'],_0x583c80=window_options[_0x53aa49][_0x48d844(0x11a)],_0x2da27b=document[_0x48d844(0x1f0)]('setWarehouseId')[_0x48d844(0x15f)],_0x507158=[];newItemsExcel[_0x48d844(0x153)](_0x4a8d5d=>{var _0x484f1f=_0x48d844;const _0x149ec0=generateNumericUniqId();_0x4a8d5d[_0x484f1f(0x1a7)]=[{'setStockInitial':_0x4a8d5d[_0x484f1f(0x197)],'setStockMinimum':_0x4a8d5d[_0x484f1f(0x1bf)],'setWarehouseCode':_0x2da27b}],_0x4a8d5d['setItemUnits'][_0x484f1f(0x153)](_0x377715=>{var _0x49d271=_0x484f1f;const _0x38f766=generateNumericUniqId();_0x377715[_0x49d271(0x1eb)]=_0x38f766;const _0x7b6a6a={'id':_0x38f766,'setIdProducto':_0x149ec0,'setCodProducto':_0x4a8d5d['setItemCode'],'setDescripcion':_0x4a8d5d[_0x49d271(0x15a)]||_0x4a8d5d['setItemName'],'setItemDescription':_0x4a8d5d[_0x49d271(0x179)],'setBatchExpirationDate':_0x4a8d5d[_0x49d271(0x190)],'setBatchName':'','setCategoria':_0x4a8d5d[_0x49d271(0x1c2)][0x0]||'','setMarca':_0x4a8d5d['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x377715[_0x49d271(0x103)]),'setImages':[],'setImg':_0x49d271(0x1e1),'setInventariable':_0x4a8d5d[_0x49d271(0x13d)]?0x1:0x0,'setItemIsBought':_0x4a8d5d[_0x49d271(0x135)]?0x1:0x0,'setItemIsSold':_0x4a8d5d[_0x49d271(0x15b)]?0x1:0x0,'setPorcentajeIgv':_0x4a8d5d['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x4a8d5d[_0x49d271(0x166)],'setTipAfeIgv':_0x4a8d5d[_0x49d271(0x10e)],'setUnidad':_0x377715['setUnitCode'],'setUnidadCodigo':_0x377715[_0x49d271(0x1f2)],'currency_data':[{'currency':_0x583c80,'setMtoPrecioCostoUnitario':_0x377715[_0x49d271(0x13c)],'setMtoPrecioUnitario':_0x377715[_0x49d271(0x13e)],'setPriceLists':[]}],'sucursales':_0x4a8d5d[_0x49d271(0x1a7)][_0x49d271(0x19c)](_0x1ee7da=>({'setIdSucursal':_0x1ee7da['setWarehouseCode'],'setSucursalStock':_0x1ee7da[_0x49d271(0x197)][_0x49d271(0xea)](),'setWarehouseStockMin':_0x1ee7da[_0x49d271(0x1bf)][_0x49d271(0xea)]()})),'setItemFree':_0x4a8d5d[_0x49d271(0x19f)],'setItemBarCode':_0x4a8d5d[_0x49d271(0x1f3)],'setItemBrands':_0x4a8d5d['setItemBrands']['slice'](),'setItemCategories':_0x4a8d5d[_0x49d271(0x1c2)]['slice'](),'setItemComponents':_0x4a8d5d[_0x49d271(0x1e9)][_0x49d271(0x19c)](_0x4ef6e8=>({..._0x4ef6e8})),'setItemImages':_0x4a8d5d[_0x49d271(0x1ea)][_0x49d271(0xf0)](),'setItemVariantName':_0x4a8d5d[_0x49d271(0x15a)],'setItemVariantValues':{..._0x4a8d5d[_0x49d271(0xf1)]}};_0x507158['push'](_0x7b6a6a);});}),console[_0x48d844(0x13b)]('Items\x20finales:',newItems),await finalizeImport(_0x507158,newItemsExcel,!![]);});function initializeFormImages(){var _0x408c5a=_0x2ec1fc;currentImages=Array(MAX_IMAGES)[_0x408c5a(0x1d0)](null),imgC[_0x408c5a(0xfd)]='',baseItem[_0x408c5a(0x1ea)]=[];for(var _0x10d5a5=0x0;_0x10d5a5<MAX_IMAGES;_0x10d5a5++){(function(_0x3016c8){var _0xe4ac25=_0x408c5a,_0x3b31c6=document[_0xe4ac25(0x129)](_0xe4ac25(0x1b6));_0x3b31c6[_0xe4ac25(0x12a)]='image_box',_0x3b31c6[_0xe4ac25(0xfb)][_0xe4ac25(0x154)]=_0x3016c8;var _0x14353a=document[_0xe4ac25(0x129)](_0xe4ac25(0x161));_0x14353a[_0xe4ac25(0x182)]=_0xe4ac25(0x1af),_0x14353a[_0xe4ac25(0x121)]='image/*',_0x14353a[_0xe4ac25(0x113)][_0xe4ac25(0x134)]=_0xe4ac25(0xe7);var _0x4ab2c4=document[_0xe4ac25(0x129)](_0xe4ac25(0xef));_0x4ab2c4[_0xe4ac25(0x1e3)]='+',_0x3b31c6[_0xe4ac25(0x1a4)](_0x14353a),_0x3b31c6[_0xe4ac25(0x1a4)](_0x4ab2c4),imgC[_0xe4ac25(0x1a4)](_0x3b31c6),_0x3b31c6[_0xe4ac25(0x200)](_0xe4ac25(0x131),function(){_0x14353a['click']();}),_0x14353a[_0xe4ac25(0x200)](_0xe4ac25(0x1bb),function(_0x52b3b6){var _0x41d0c4=_0xe4ac25,_0x25bceb=_0x52b3b6[_0x41d0c4(0xeb)][_0x41d0c4(0x1fb)][0x0];if(!_0x25bceb)return removeImg(_0x3016c8);var _0x5ef209=new FileReader();_0x5ef209['onload']=function(_0x39be09){var _0x2506ee=_0x41d0c4;_0x3b31c6[_0x2506ee(0xfd)]='<img\x20src=\x22'+_0x39be09[_0x2506ee(0xeb)][_0x2506ee(0x205)]+'\x22>';var _0x59c109=document[_0x2506ee(0x129)](_0x2506ee(0xef));_0x59c109['className']='remove',_0x59c109['textContent']='×',_0x59c109['addEventListener'](_0x2506ee(0x131),function(_0x5ca056){var _0x23c670=_0x2506ee;_0x5ca056[_0x23c670(0x165)](),removeImg(_0x3016c8);}),_0x3b31c6[_0x2506ee(0x1a4)](_0x59c109),currentImages[_0x3016c8]=_0x25bceb,baseItem[_0x2506ee(0x1ea)]=currentImages['filter'](function(_0x5afe57){return _0x5afe57;});},_0x5ef209['readAsDataURL'](_0x25bceb);});}(_0x10d5a5));}}function initializeFormIsSoldIsBought(_0x102354=0x0){var _0x1dc0eb=_0x2ec1fc;let _0x4aab68,_0x33c5b8;if(_0x102354!=0x0){const _0x2f8d2b=products[_0x1dc0eb(0x101)](_0x172258=>_0x172258['id']==_0x102354);_0x4aab68=_0x2f8d2b[_0x1dc0eb(0x135)]==0x1||_0x2f8d2b[_0x1dc0eb(0x135)]==!![]?!![]:![],_0x33c5b8=_0x2f8d2b[_0x1dc0eb(0x15b)]==0x1||_0x2f8d2b['setItemIsSold']==!![]?!![]:![];}else _0x4aab68=!![],_0x33c5b8=!![];document['getElementById'](_0x1dc0eb(0x104))[_0x1dc0eb(0x106)]=_0x4aab68,document[_0x1dc0eb(0x1f0)](_0x1dc0eb(0x1e8))[_0x1dc0eb(0x106)]=_0x33c5b8,baseItem['setItemIsBought']=_0x4aab68,baseItem[_0x1dc0eb(0x15b)]=_0x33c5b8;}function initializeFormInputsBasic(_0x3193d1=0x0){var _0x26c277=_0x2ec1fc;let _0x556f90,_0x1f5899,_0x3a94c6,_0x391bf2,_0x1654f2,_0x19881c;if(_0x3193d1!=0x0){const _0x13fb0a=products[_0x26c277(0x101)](_0x19872a=>_0x19872a['id']==_0x3193d1);_0x556f90=_0x13fb0a['setItemType']??'1',_0x1f5899=_0x13fb0a[_0x26c277(0x1b3)],_0x3a94c6=_0x13fb0a['setDescripcion'],_0x391bf2=_0x13fb0a['setItemDescription'],_0x1654f2=_0x13fb0a[_0x26c277(0x189)]??'',_0x19881c=_0x13fb0a[_0x26c277(0x1f3)];}else _0x556f90='1',_0x1f5899=getNextCode(products),_0x3a94c6='',_0x391bf2='',_0x1654f2='',_0x19881c='';document['getElementById']('inputItemType')[_0x26c277(0x15f)]=_0x556f90,document[_0x26c277(0x1f0)](_0x26c277(0x168))[_0x26c277(0x15f)]=_0x1f5899,document[_0x26c277(0x1f0)](_0x26c277(0x17d))[_0x26c277(0x15f)]=_0x3a94c6,document[_0x26c277(0x1f0)]('inputItemDescription')[_0x26c277(0x15f)]=_0x391bf2,document[_0x26c277(0x1f0)](_0x26c277(0x1e5))['value']=_0x1654f2,document['getElementById'](_0x26c277(0x1fa))[_0x26c277(0x15f)]=_0x19881c,baseItem['setItemType']=_0x556f90,baseItem['setItemCode']=_0x1f5899,baseItem['setItemName']=_0x3a94c6,baseItem[_0x26c277(0x179)]=_0x391bf2,baseItem[_0x26c277(0x190)]=_0x1654f2,baseItem[_0x26c277(0x1f3)]=_0x19881c,document['getElementById'](_0x26c277(0x1a0))[_0x26c277(0x106)]=![];}function initializeFormTax(_0x47c3fc=0x0){var _0x7dd4d4=_0x2ec1fc;let _0x6da336;if(_0x47c3fc!=0x0){const _0x2847be=products[_0x7dd4d4(0x101)](_0x45cc85=>_0x45cc85['id']==_0x47c3fc);_0x6da336=_0x2847be['setTaxId'];}else _0x6da336=myCompany[_0x7dd4d4(0x203)];const _0xccd579=document[_0x7dd4d4(0x1f0)](_0x7dd4d4(0xe4));_0xccd579['value']=_0x6da336,baseItem[_0x7dd4d4(0x166)]=_0x6da336;const _0x39696f=company[0x0][_0x7dd4d4(0x1c1)][_0x7dd4d4(0x101)](_0x57eaa7=>_0x57eaa7[_0x7dd4d4(0x1d2)]==_0x6da336)?.[_0x7dd4d4(0x16b)]||0x0,_0x3f31e3=company[0x0][_0x7dd4d4(0x1c1)][_0x7dd4d4(0x101)](_0xeb2e57=>_0xeb2e57[_0x7dd4d4(0x1d2)]==_0x6da336)?.['setImpuestoValue']||0x0;baseItem[_0x7dd4d4(0x10e)]=_0x39696f,baseItem[_0x7dd4d4(0x100)]=_0x3f31e3;}function initializeFormCategoriesBrands(_0x35d256=0x0){var _0xb8377b=_0x2ec1fc;baseItem[_0xb8377b(0x1c2)]=[],baseItem[_0xb8377b(0x158)]=[],document[_0xb8377b(0x177)]('#newItem_categories_select\x20.selected_tags')[_0xb8377b(0xfd)]='',document[_0xb8377b(0x177)](_0xb8377b(0x126))[_0xb8377b(0xfd)]='',document['querySelector'](_0xb8377b(0x142))[_0xb8377b(0xfd)]='',document[_0xb8377b(0x177)](_0xb8377b(0x1e6))[_0xb8377b(0xfd)]='';const _0xfefeee=uniqueValuesArray(_0xb8377b(0x17e),_0xb8377b(0x17e),products),_0x4cc7ab=uniqueValuesArray(_0xb8377b(0x1ca),_0xb8377b(0x1ca),products),_0x8c6eca=initMulti(_0xb8377b(0x193),_0xfefeee),_0x356a23=initMulti(_0xb8377b(0x151),_0x4cc7ab);document[_0xb8377b(0x1f0)](_0xb8377b(0x193))['addEventListener'](_0xb8377b(0x125),function(_0x5903d2){var _0x3d8306=_0xb8377b;baseItem[_0x3d8306(0x1c2)]=_0x8c6eca[_0x3d8306(0x19c)](_0x5d29f1=>_0x5d29f1[_0x3d8306(0x1a3)]);}),document[_0xb8377b(0x1f0)](_0xb8377b(0x151))[_0xb8377b(0x200)](_0xb8377b(0x125),function(_0x3bdd93){var _0x4f5871=_0xb8377b;baseItem['setItemBrands']=_0x356a23[_0x4f5871(0x19c)](_0x3269cb=>_0x3269cb['setCode']);});if(_0x35d256!=0x0){const _0x49f964=products['find'](_0x368293=>_0x368293['id']==_0x35d256);if(_0x49f964[_0xb8377b(0x17e)]){const _0x1606b5=document[_0xb8377b(0x1f0)](_0xb8377b(0x193)),_0x513175=Array['from'](_0x1606b5[_0xb8377b(0x1b2)](_0xb8377b(0x133)))[_0xb8377b(0x101)](_0x411a62=>_0x411a62[_0xb8377b(0xfb)][_0xb8377b(0x12b)]==_0x49f964[_0xb8377b(0x17e)]);_0x513175&&_0x513175[_0xb8377b(0x131)]();}if(_0x49f964[_0xb8377b(0x1ca)]){const _0x42f0ac=document[_0xb8377b(0x1f0)](_0xb8377b(0x151)),_0x1df52d=Array['from'](_0x42f0ac[_0xb8377b(0x1b2)](_0xb8377b(0x133)))[_0xb8377b(0x101)](_0x18264c=>_0x18264c[_0xb8377b(0xfb)][_0xb8377b(0x12b)]==_0x49f964['setMarca']);_0x1df52d&&_0x1df52d[_0xb8377b(0x131)]();}}}function initializeFormUnits(){var _0x56b207=_0x2ec1fc;unitCount=0x0,document[_0x56b207(0x1f0)](_0x56b207(0x163))[_0x56b207(0xfd)]='',baseItem[_0x56b207(0xe8)]=[];var _0x5d2f55=uniqueValuesArray(_0x56b207(0x1f2),_0x56b207(0x1cf),myCompany['setUnits']);addUnit('',_0x5d2f55[0x3a]&&_0x5d2f55[0x3a][_0x56b207(0x1a3)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x32c8e6=_0x2ec1fc;prodC['innerHTML']='',baseItem[_0x32c8e6(0x1e9)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x518233=_0x2ec1fc;branchesC[_0x518233(0xfd)]='',baseItem[_0x518233(0x1a7)]=[];const _0x53de4d=getAllWarehouses();_0x53de4d['forEach'](function(_0x250509){var _0x34c10b=_0x518233,_0x6b9f75=document['createElement']('div');_0x6b9f75['innerHTML']=_0x34c10b(0x186)+'<div\x20class=\x22newItem_col\x22>'+_0x34c10b(0x1e2)+_0x250509[_0x34c10b(0x16d)]+_0x34c10b(0x152)+_0x250509[_0x34c10b(0xed)]+'</label>'+_0x34c10b(0x1ec)+'<div\x20class=\x22newItem_col\x22>'+_0x34c10b(0x196)+_0x250509['setWarehouseId']+'\x22>'+_0x34c10b(0x1ec)+_0x34c10b(0x119)+_0x34c10b(0x1d8)+_0x250509[_0x34c10b(0x16d)]+'\x22>'+'</div>'+_0x34c10b(0x1ec),branchesC[_0x34c10b(0x1a4)](_0x6b9f75),_0x6b9f75[_0x34c10b(0x1b2)](_0x34c10b(0x161))['forEach'](function(_0x12cb49){var _0x58e646=_0x34c10b;_0x12cb49['addEventListener'](_0x58e646(0x161),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x29507b=_0x2ec1fc;baseItem['setItemVariantName']='',baseItem[_0x29507b(0xf1)]={},vgC[_0x29507b(0xfd)]='',varContainer[_0x29507b(0xfd)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x2b62fb,_0x18e364,_0x3696a0=![]){var _0x5cf29a=_0x2ec1fc;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x5cf29a(0x184)],'setWebhook':company[0x0][_0x5cf29a(0x1fe)],'newItems':_0x18e364}),products[_0x5cf29a(0xe0)](..._0x2b62fb),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x5cf29a(0x178)),_0x3696a0?(fileInput[_0x5cf29a(0x15f)]='',uploadBtn[_0x5cf29a(0x1dc)]=!![],statusDiv[_0x5cf29a(0x1e3)]='',progressBar[_0x5cf29a(0x113)][_0x5cf29a(0x134)]=_0x5cf29a(0xe7),progressBar[_0x5cf29a(0x15f)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}