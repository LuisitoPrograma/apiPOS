/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.6
*/

var _0x51be98=_0x2453;(function(_0x372bc8,_0x7524a0){var _0x24e466=_0x2453,_0x1fba73=_0x372bc8();while(!![]){try{var _0x4620de=parseInt(_0x24e466(0x242))/0x1*(-parseInt(_0x24e466(0x1bb))/0x2)+-parseInt(_0x24e466(0x185))/0x3*(parseInt(_0x24e466(0x200))/0x4)+parseInt(_0x24e466(0x258))/0x5+-parseInt(_0x24e466(0x128))/0x6*(parseInt(_0x24e466(0x1db))/0x7)+parseInt(_0x24e466(0x1b4))/0x8*(-parseInt(_0x24e466(0x151))/0x9)+-parseInt(_0x24e466(0x249))/0xa+parseInt(_0x24e466(0x219))/0xb;if(_0x4620de===_0x7524a0)break;else _0x1fba73['push'](_0x1fba73['shift']());}catch(_0xcb7e83){_0x1fba73['push'](_0x1fba73['shift']());}}}(_0x412b,0xbaa8c));var _0x3ebf8b=(function(){var _0x28522c=!![];return function(_0x232218,_0x3245b4){var _0x823b8a=_0x28522c?function(){var _0x13ae82=_0x2453;if(_0x3245b4){var _0x581a8d=_0x3245b4[_0x13ae82(0x120)](_0x232218,arguments);return _0x3245b4=null,_0x581a8d;}}:function(){};return _0x28522c=![],_0x823b8a;};}()),_0x288478=_0x3ebf8b(this,function(){var _0x590a78=_0x2453;return _0x288478['toString']()[_0x590a78(0x1f6)](_0x590a78(0x17b))[_0x590a78(0x13b)]()['constructor'](_0x288478)[_0x590a78(0x1f6)]('(((.+)+)+)+$');});_0x288478();var _0x3c45d5=(function(){var _0x5aec68=!![];return function(_0x106959,_0x104ad3){var _0xba2d3b=_0x5aec68?function(){var _0x315b2a=_0x2453;if(_0x104ad3){var _0x1e47a6=_0x104ad3[_0x315b2a(0x120)](_0x106959,arguments);return _0x104ad3=null,_0x1e47a6;}}:function(){};return _0x5aec68=![],_0xba2d3b;};}()),_0x30c97e=_0x3c45d5(this,function(){var _0x4f5d9b=_0x2453,_0x612eb0;try{var _0x116b8c=Function(_0x4f5d9b(0x1a7)+_0x4f5d9b(0x113)+');');_0x612eb0=_0x116b8c();}catch(_0x4fe781){_0x612eb0=window;}var _0xde2742=_0x612eb0[_0x4f5d9b(0x214)]=_0x612eb0[_0x4f5d9b(0x214)]||{},_0x332d58=['log',_0x4f5d9b(0x1fa),_0x4f5d9b(0x224),_0x4f5d9b(0x20a),_0x4f5d9b(0x1cc),'table',_0x4f5d9b(0x11d)];for(var _0x8b8388=0x0;_0x8b8388<_0x332d58[_0x4f5d9b(0x1e7)];_0x8b8388++){var _0x3c078a=_0x3c45d5[_0x4f5d9b(0x180)][_0x4f5d9b(0x155)]['bind'](_0x3c45d5),_0x7e196d=_0x332d58[_0x8b8388],_0x4c60d3=_0xde2742[_0x7e196d]||_0x3c078a;_0x3c078a[_0x4f5d9b(0x1e5)]=_0x3c45d5[_0x4f5d9b(0x203)](_0x3c45d5),_0x3c078a['toString']=_0x4c60d3[_0x4f5d9b(0x13b)][_0x4f5d9b(0x203)](_0x4c60d3),_0xde2742[_0x7e196d]=_0x3c078a;}});_0x30c97e();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document[_0x51be98(0x17d)]('newItem_branches_container'),prodC=document[_0x51be98(0x17d)](_0x51be98(0x1b1)),vgCount=0x0,varContainer=document[_0x51be98(0x17d)](_0x51be98(0x168)),vgC=document['getElementById'](_0x51be98(0x17f));const fileInput=document['getElementById'](_0x51be98(0x1f7)),progressBar=document['getElementById']('progress'),statusDiv=document[_0x51be98(0x17d)](_0x51be98(0x1a0)),uploadBtn=document[_0x51be98(0x17d)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x51be98(0x148)),dropZone=document[_0x51be98(0x17d)]('drop-zone'),removeBtn=document['getElementById']('remove-file');function showModalCreateItem(_0x29cf95){var _0x2d8ba8=_0x51be98;const _0xa38569=document['getElementById'](_0x2d8ba8(0x1dc)),_0x11a3b5=document['getElementById'](_0x2d8ba8(0x173));_0xa38569[_0x2d8ba8(0x126)][_0x2d8ba8(0x194)](_0x2d8ba8(0x1e4)),_0x11a3b5['style']['display']='block';const _0x522e46=document[_0x2d8ba8(0x17d)](_0x2d8ba8(0x125));_0x522e46[_0x2d8ba8(0x19a)]=parseInt(_0x29cf95),baseItem[_0x2d8ba8(0x125)]=parseInt(_0x29cf95);const _0x5d9f3c=document[_0x2d8ba8(0x17d)](_0x2d8ba8(0x1df));_0x29cf95==0x0&&(_0x5d9f3c['innerHTML']=_0x2d8ba8(0x1d1));_0x29cf95==0x1&&(_0x5d9f3c['innerHTML']=_0x2d8ba8(0x1f3));const _0x1a7e08=document['getElementsByClassName'](_0x2d8ba8(0x1e1));for(let _0x59af9b=0x0;_0x59af9b<_0x1a7e08[_0x2d8ba8(0x1e7)];_0x59af9b++){const _0x44a84a=_0x1a7e08[_0x59af9b];if(_0x29cf95==0x0)_0x44a84a['classList']['remove'](_0x2d8ba8(0x1a9));else _0x29cf95==0x1&&_0x44a84a['classList'][_0x2d8ba8(0x194)]('hidden');}}function hideModalCreateItem(){var _0x2e4f23=_0x51be98;const _0x22a7b8=document[_0x2e4f23(0x17d)](_0x2e4f23(0x1dc)),_0x5ed17b=document[_0x2e4f23(0x17d)]('modalOverlayCreateItem');_0x22a7b8[_0x2e4f23(0x126)]['remove'](_0x2e4f23(0x1e4)),_0x5ed17b[_0x2e4f23(0x24b)]['display']=_0x2e4f23(0x253);}document[_0x51be98(0x17d)](_0x51be98(0x221))[_0x51be98(0x1bc)](_0x51be98(0x244),hideModalCreateItem),document[_0x51be98(0x17d)]('modalOverlayCreateItem')[_0x51be98(0x1bc)](_0x51be98(0x244),_0x668ebc=>{var _0x372c2f=_0x51be98;_0x668ebc[_0x372c2f(0x1f5)]==_0x668ebc['currentTarget']&&_0x668ebc[_0x372c2f(0x15c)]();});function loadTaxData(){var _0x1a2e86=_0x51be98;const _0x47785c=document[_0x1a2e86(0x17d)]('inputItemTax');_0x47785c[_0x1a2e86(0x176)]='',company[0x0][_0x1a2e86(0x1fd)]['forEach'](function(_0x1388a3){var _0x2c9340=_0x1a2e86;const _0x3a0409=document[_0x2c9340(0x234)]('option');_0x3a0409[_0x2c9340(0x19a)]=_0x1388a3[_0x2c9340(0x115)],_0x3a0409[_0x2c9340(0x176)]=_0x1388a3['setImpuestoName']+'\x20('+_0x1388a3[_0x2c9340(0x159)]+'%)',_0x1388a3['setTaxId']==company[0x0][_0x2c9340(0x1af)]&&(_0x3a0409[_0x2c9340(0x183)]=!![]),_0x47785c[_0x2c9340(0x1d5)](_0x3a0409);});}function uniqueValuesArray(_0x4d445c,_0x1f0f8d,_0x2572bd){var _0x2e1fd1=_0x51be98;const _0x583838=Array['from'](new Set(_0x2572bd[_0x2e1fd1(0x23f)](_0xf5e391=>{var _0x1db1b4=_0x2e1fd1;const _0x326cfb=_0xf5e391[_0x4d445c];return typeof _0x326cfb==='string'?_0x326cfb[_0x1db1b4(0x1ba)]():_0x326cfb;})['filter'](_0x15d00f=>_0x15d00f!=null&&_0x15d00f!=='')));return _0x583838['map'](_0x4d5bee=>{var _0x55ecda=_0x2e1fd1;const _0x667cd9=_0x2572bd[_0x55ecda(0x1ca)](_0x24ad1a=>_0x24ad1a[_0x4d445c]===_0x4d5bee),_0x19ea07=_0x667cd9&&_0x667cd9[_0x1f0f8d]!=null?String(_0x667cd9[_0x1f0f8d])[_0x55ecda(0x1ba)]():_0x4d5bee;return{'setCode':_0x4d5bee,'setName':_0x19ea07};});}function fillSelect(_0x563846,_0x13841e,_0x4c93f7,_0x2f9103){var _0x39ed69=_0x51be98;_0x563846[_0x39ed69(0x176)]='',_0x13841e[_0x39ed69(0x256)](function(_0x13f678){var _0x447bd7=_0x39ed69,_0xd889df=new Option(_0x13f678[_0x2f9103],_0x13f678[_0x4c93f7]);_0x563846[_0x447bd7(0x194)](_0xd889df);});}function initMulti(_0x5bb9c6,_0x5e1de1){var _0xb73286=_0x51be98,_0x15dbdd=document[_0xb73286(0x17d)](_0x5bb9c6),_0x266a33=_0x15dbdd[_0xb73286(0x13a)](_0xb73286(0x204)),_0x15ca5f=_0x15dbdd[_0xb73286(0x13a)](_0xb73286(0x22a)),_0xae84ff=_0x15dbdd[_0xb73286(0x13a)](_0xb73286(0x1ac)),_0x3f15f3=_0x5e1de1[_0xb73286(0x165)](),_0x17dfa0=[];let _0x4ca0b5=null,_0x1b0998=![];function _0x2bb8dc(){var _0x2b0f00=_0xb73286;const _0x1ceff3=_0x266a33[_0x2b0f00(0x19a)][_0x2b0f00(0x1ba)]();if(!_0x1ceff3)return;const _0x5317b6=_0x3f15f3[_0x2b0f00(0x1ca)](_0x162861=>_0x162861[_0x2b0f00(0x202)][_0x2b0f00(0x1ee)]()===_0x1ceff3[_0x2b0f00(0x1ee)]());if(_0x5317b6)_0x17dfa0[_0x2b0f00(0x11a)](_0x5317b6),_0x3f15f3[_0x2b0f00(0x1e0)](_0x3f15f3[_0x2b0f00(0x206)](_0x1d5f10=>_0x1d5f10[_0x2b0f00(0x1c3)]===_0x5317b6[_0x2b0f00(0x1c3)]),0x1);else{const _0x524213=_0x17dfa0[_0x2b0f00(0x145)](_0x306718=>_0x306718[_0x2b0f00(0x202)][_0x2b0f00(0x1ee)]()===_0x1ceff3[_0x2b0f00(0x1ee)]());!_0x524213&&_0x17dfa0[_0x2b0f00(0x11a)]({'setCode':_0x1ceff3,'setName':_0x1ceff3});}_0x1ebeef(),_0x31255f(),_0x266a33[_0x2b0f00(0x19a)]='';}function _0x31255f(){var _0x555f47=_0xb73286;_0x15ca5f[_0x555f47(0x176)]='',_0x3f15f3[_0x555f47(0x240)](_0x568383=>_0x568383[_0x555f47(0x202)][_0x555f47(0x1ee)]()[_0x555f47(0x22d)](_0x266a33[_0x555f47(0x19a)][_0x555f47(0x1ee)]()))[_0x555f47(0x165)](0x0,0x14)[_0x555f47(0x256)](_0x4fa66f=>{var _0x5a8453=_0x555f47,_0x57230a=document[_0x5a8453(0x234)]('div');_0x57230a[_0x5a8453(0x15a)]=_0x4fa66f['setName'],_0x57230a[_0x5a8453(0x1ff)][_0x5a8453(0x15f)]=_0x4fa66f['setCode'],_0x15ca5f[_0x5a8453(0x1d5)](_0x57230a),_0x57230a[_0x5a8453(0x1bc)](_0x5a8453(0x1d8),()=>_0x1b0998=!![]),_0x57230a['addEventListener'](_0x5a8453(0x244),function(){var _0x43fcfd=_0x5a8453;_0x1b0998=![],_0x17dfa0[_0x43fcfd(0x11a)](_0x4fa66f),_0x3f15f3[_0x43fcfd(0x1e0)](_0x3f15f3[_0x43fcfd(0x206)](_0x22b087=>_0x22b087['setCode']===_0x4fa66f[_0x43fcfd(0x1c3)]),0x1),_0x266a33[_0x43fcfd(0x19a)]='',_0x1ebeef(),_0x31255f();});});}function _0x1ebeef(){var _0x7640ba=_0xb73286;_0xae84ff[_0x7640ba(0x176)]='',_0x17dfa0[_0x7640ba(0x256)](_0x508c27=>{var _0x194663=_0x7640ba,_0x21155c=document[_0x194663(0x234)](_0x194663(0x227));_0x21155c[_0x194663(0x14d)]=_0x194663(0x1bd),_0x21155c[_0x194663(0x15a)]=_0x508c27[_0x194663(0x202)];var _0x2f00ba=document['createElement'](_0x194663(0x217));_0x2f00ba[_0x194663(0x14d)]=_0x194663(0x201),_0x2f00ba[_0x194663(0x15a)]='×',_0x2f00ba['addEventListener'](_0x194663(0x244),function(){var _0x3d2cad=_0x194663;_0x3f15f3[_0x3d2cad(0x11a)](_0x508c27);const _0x27df57=_0x17dfa0[_0x3d2cad(0x206)](_0x1e0909=>_0x1e0909['setCode']===_0x508c27[_0x3d2cad(0x1c3)]);if(_0x27df57>-0x1)_0x17dfa0[_0x3d2cad(0x1e0)](_0x27df57,0x1);_0x1ebeef(),_0x31255f();}),_0x21155c[_0x194663(0x1d5)](_0x2f00ba),_0xae84ff[_0x194663(0x1d5)](_0x21155c);}),_0x15dbdd[_0x7640ba(0x16e)](new CustomEvent(_0x7640ba(0x18a),{'detail':_0x17dfa0,'bubbles':!![]}));}return _0x266a33[_0xb73286(0x1bc)]('focus',function(){var _0xc64f55=_0xb73286;_0x4ca0b5&&(clearTimeout(_0x4ca0b5),_0x4ca0b5=null),_0x15ca5f[_0xc64f55(0x126)][_0xc64f55(0x161)]('newItem_hidden');}),_0x266a33['addEventListener'](_0xb73286(0x127),_0x31255f),_0x266a33['addEventListener'](_0xb73286(0x247),function(_0x159d27){var _0x2e9a73=_0xb73286;_0x159d27[_0x2e9a73(0x254)]===_0x2e9a73(0x1a3)&&(_0x159d27['preventDefault'](),_0x2bb8dc());}),_0x266a33['addEventListener'](_0xb73286(0x163),function(){if(_0x1b0998)return;_0x4ca0b5=setTimeout(()=>{_0x2bb8dc(),_0x4ca0b5=null;},0xc8);}),document[_0xb73286(0x1bc)](_0xb73286(0x244),function(_0x241f53){var _0x2ac30f=_0xb73286;!_0x15dbdd['contains'](_0x241f53['target'])&&_0x15ca5f[_0x2ac30f(0x126)][_0x2ac30f(0x194)]('newItem_hidden');}),_0x31255f(),_0x17dfa0;}function getLastCode(_0x2531b0){var _0x28a4b1=_0x51be98;const _0x489314=_0x2531b0[_0x28a4b1(0x23f)](_0x553dd7=>String(_0x553dd7[_0x28a4b1(0x20b)])[_0x28a4b1(0x1ba)]())[_0x28a4b1(0x240)](_0x6229bb=>_0x6229bb!=='');if(_0x489314['length']===0x0)return'';const _0x3c2c17=_0x489314[_0x28a4b1(0x220)](_0x121b60=>/^\d+$/[_0x28a4b1(0x1a6)](_0x121b60));if(_0x3c2c17){const _0x2225d6=_0x489314[_0x28a4b1(0x23f)](Number),_0x3d0455=Math['max'](..._0x2225d6);return String(_0x3d0455);}let _0x55f768;if(typeof Intl!=='undefined'&&Intl[_0x28a4b1(0x248)]){const _0x278a31=new Intl[(_0x28a4b1(0x248))](undefined,{'numeric':!![],'sensitivity':_0x28a4b1(0x1f9)});_0x55f768=_0x489314[_0x28a4b1(0x165)]()[_0x28a4b1(0x137)](_0x278a31['compare']);}else{const _0x400e2c=_0x489314[_0x28a4b1(0x220)](_0x23373a=>/^\d+$/[_0x28a4b1(0x1a6)](_0x23373a));_0x400e2c?_0x55f768=_0x489314[_0x28a4b1(0x23f)](Number)['sort']((_0x4a1150,_0x2c7115)=>_0x4a1150-_0x2c7115)[_0x28a4b1(0x23f)](String):_0x55f768=_0x489314[_0x28a4b1(0x165)]()[_0x28a4b1(0x137)]();}return _0x55f768[_0x55f768['length']-0x1];}function getNextCode(_0x3332bb){var _0x107817=_0x51be98;const _0x2e5059=getLastCode(_0x3332bb);if(!_0x2e5059)return'';if(/^\d+$/[_0x107817(0x1a6)](_0x2e5059))return String(Number(_0x2e5059)+0x1);const _0x237f75=_0x2e5059[_0x107817(0x23c)](/^([A-Za-z]*)(\d+)$/);if(_0x237f75){const [,_0x4b5819,_0x775a39]=_0x237f75,_0x5c51ac=String(Number(_0x775a39)+0x1)[_0x107817(0x251)](_0x775a39[_0x107817(0x1e7)],'0');return _0x4b5819+_0x5c51ac;}return _0x2e5059;}document[_0x51be98(0x17d)]('inputItemName')[_0x51be98(0x1bc)](_0x51be98(0x127),function(_0x5433f3){var _0x3ddda7=_0x51be98;baseItem[_0x3ddda7(0x1d4)]=_0x5433f3[_0x3ddda7(0x1f5)]['value'];}),document['getElementById'](_0x51be98(0x178))[_0x51be98(0x1bc)](_0x51be98(0x127),function(_0x1713fc){var _0xbc5e81=_0x51be98;baseItem[_0xbc5e81(0x245)]=_0x1713fc['target'][_0xbc5e81(0x19a)];}),document[_0x51be98(0x17d)](_0x51be98(0x190))['addEventListener'](_0x51be98(0x127),function(_0x54326e){var _0x158340=_0x51be98;baseItem[_0x158340(0x186)]=_0x54326e[_0x158340(0x1f5)][_0x158340(0x19a)];}),document[_0x51be98(0x17d)](_0x51be98(0x1fe))['addEventListener'](_0x51be98(0x164),function(_0x4c3066){var _0x58957e=_0x51be98;baseItem[_0x58957e(0x119)]=_0x4c3066[_0x58957e(0x1f5)][_0x58957e(0x19a)];}),document[_0x51be98(0x17d)](_0x51be98(0x15d))['addEventListener'](_0x51be98(0x164),function(_0x229961){var _0x431f88=_0x51be98;baseItem[_0x431f88(0x1a5)]=_0x229961[_0x431f88(0x1f5)][_0x431f88(0x19a)];const _0x3fd5e6=_0x229961[_0x431f88(0x1f5)][_0x431f88(0x19a)],_0x27e331=company[0x0][_0x431f88(0x1fd)][_0x431f88(0x1ca)](_0x8a6625=>_0x8a6625['setTaxId']==_0x3fd5e6)?.[_0x431f88(0x175)]||0x0,_0x73a31c=company[0x0][_0x431f88(0x1fd)]['find'](_0xacb43d=>_0xacb43d['setTaxId']==_0x3fd5e6)?.[_0x431f88(0x159)]||0x0;baseItem[_0x431f88(0x131)]=_0x27e331,baseItem['setItemTaxValue']=_0x73a31c;}),document[_0x51be98(0x17d)]('newItem_chk_buy')[_0x51be98(0x1bc)](_0x51be98(0x164),function(_0x58e3cd){var _0x4432d1=_0x51be98;baseItem['setItemIsBought']=_0x58e3cd[_0x4432d1(0x1f5)][_0x4432d1(0x123)];}),document[_0x51be98(0x17d)]('newItem_chk_sell')[_0x51be98(0x1bc)](_0x51be98(0x164),function(_0x284fb2){var _0xfc1a3c=_0x51be98;baseItem[_0xfc1a3c(0x1cd)]=_0x284fb2[_0xfc1a3c(0x1f5)][_0xfc1a3c(0x123)];}),document[_0x51be98(0x17d)](_0x51be98(0x1fc))[_0x51be98(0x1bc)](_0x51be98(0x127),function(_0x8a1707){var _0x279184=_0x51be98;baseItem[_0x279184(0x1b8)]=_0x8a1707[_0x279184(0x1f5)][_0x279184(0x19a)];}),document['getElementById'](_0x51be98(0x12f))[_0x51be98(0x1bc)](_0x51be98(0x127),function(_0x582bfe){var _0x18bde6=_0x51be98;baseItem['setItemBarCode']=_0x582bfe[_0x18bde6(0x1f5)][_0x18bde6(0x19a)];}),document[_0x51be98(0x17d)]('newItem_btn_addUnit')[_0x51be98(0x1bc)](_0x51be98(0x244),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x51be98(0x1fc))['addEventListener']('blur',function(){var _0x366b4d=_0x51be98;const _0x26d4b3=this[_0x366b4d(0x19a)][_0x366b4d(0x1ba)]();if(_0x26d4b3==='')return;const _0x3f5964=products[_0x366b4d(0x145)](_0x344b54=>_0x344b54['setCodProducto']==_0x26d4b3),_0xda80d7=getLastCode(products);_0x3f5964?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0xda80d7,0x2,0x1):ntfShow(_0x366b4d(0x252),0x1,0x1);});function removeImg(_0x3e13e6){var _0x1c5fb6=_0x51be98;currentImages[_0x3e13e6]=null;var _0x227970=imgC[_0x1c5fb6(0x13a)](_0x1c5fb6(0x1f2)+_0x3e13e6+'\x22]');_0x227970['innerHTML']='';var _0x49d589=document[_0x1c5fb6(0x234)]('input');_0x49d589[_0x1c5fb6(0x20f)]='file',_0x49d589[_0x1c5fb6(0x13d)]='image/*',_0x49d589[_0x1c5fb6(0x24b)][_0x1c5fb6(0x1d7)]=_0x1c5fb6(0x253);var _0x100d74=document[_0x1c5fb6(0x234)](_0x1c5fb6(0x217));_0x100d74['textContent']='+',_0x227970[_0x1c5fb6(0x1d5)](_0x49d589),_0x227970[_0x1c5fb6(0x1d5)](_0x100d74),_0x227970['addEventListener'](_0x1c5fb6(0x244),function(){var _0x1a2ecb=_0x1c5fb6;_0x49d589[_0x1a2ecb(0x244)]();}),baseItem['setItemImages']=currentImages[_0x1c5fb6(0x240)](function(_0x409ba1){return _0x409ba1;});}function addUnit(_0x2c014f,_0xeb7c23,_0x3ba421,_0x3e21b9,_0x956d36,_0x5b32fa,_0x550d45){var _0x4daa06=_0x51be98,_0x11ce64=uniqueValuesArray(_0x4daa06(0x181),_0x4daa06(0x18d),myCompany[_0x4daa06(0x18c)]);_0x2c014f=_0x2c014f||'',_0xeb7c23=_0xeb7c23||_0x11ce64[0x3a]&&_0x11ce64[0x3a][_0x4daa06(0x1c3)]||'',_0x3ba421=_0x3ba421!==undefined?_0x3ba421:0x1,_0x3e21b9=!!_0x3e21b9,_0x956d36=_0x956d36||'',_0x5b32fa=_0x5b32fa||'';var _0x184255=unitCount++,_0x285dfa=document['createElement'](_0x4daa06(0x227));_0x285dfa[_0x4daa06(0x1ff)]['idx']=_0x184255,_0x285dfa[_0x4daa06(0x1ff)][_0x4daa06(0x1bf)]=_0x3e21b9,_0x285dfa[_0x4daa06(0x176)]=_0x4daa06(0x138)+_0x184255+_0x4daa06(0x158)+_0x2c014f+_0x4daa06(0x1b3)+_0x184255+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x184255+_0x4daa06(0x158)+_0x3ba421+'\x22\x20'+(_0x3e21b9?_0x4daa06(0x21e):'')+_0x4daa06(0x1c1)+_0x184255+_0x4daa06(0x158)+_0x956d36+_0x4daa06(0x1f4)+_0x184255+'\x22\x20value=\x22'+_0x5b32fa+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x3e21b9?_0x4daa06(0x16f):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x285dfa[_0x4daa06(0x13a)](_0x4daa06(0x1ad)),_0x11ce64,_0x4daa06(0x1c3),_0x4daa06(0x202)),_0x285dfa['querySelector']('.unitSelect')['value']=_0xeb7c23,['unitAlias',_0x4daa06(0x1c2),_0x4daa06(0x1a2),_0x4daa06(0x22e),_0x4daa06(0x23e)][_0x4daa06(0x256)](function(_0x254c00){var _0x246d5e=_0x4daa06;_0x285dfa[_0x246d5e(0x13a)]('.'+_0x254c00)[_0x246d5e(0x1bc)](_0x246d5e(0x127),function(){var _0x17bb14=_0x550d45?+_0x550d45['id']['split']('_')[0x1]:null;if(_0x550d45)updateVariantUnits(_0x17bb14);else updateUnitsArray();});}),_0x285dfa[_0x4daa06(0x13a)](_0x4daa06(0x21d))[_0x4daa06(0x1bc)](_0x4daa06(0x244),function(){var _0x38e081=_0x4daa06;_0x285dfa['remove']();var _0x18f87d=_0x550d45?+_0x550d45['id'][_0x38e081(0x198)]('_')[0x1]:null;if(_0x550d45)updateVariantUnits(_0x18f87d);else updateUnitsArray();});var _0x4dac9e=_0x550d45||document[_0x4daa06(0x17d)](_0x4daa06(0x117));_0x4dac9e[_0x4daa06(0x1d5)](_0x285dfa);}function _0x412b(){var _0xa6bc40=['download','modalOverlayCreateItem','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setImpuestoCode','innerHTML','setStockMinimum','inputItemDescription','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','(((.+)+)+)+$','setWarehouseName','getElementById','setBatchExpirationDate','newItem_variant_groups','constructor','setUnitCode','postMessage','selected','dragleave','10047adghHs','setItemDateExpiry','setItemBrands','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','drop','selectionChange','onload','setUnits','setUnitName','setWarehouseCode','offline_operations','inputItemDateExpiry','setStockInitial','ERROR:\x20plainProducts\x20no\x20serializable:','#newItem_categories_select\x20.selected_tags','add','setItemUnits','preventDefault','div[data-default=\x22true\x22]\x20.eqInput','split','join','value','toggle','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','.prodInput','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','image/*','status','</label>','eqInput','Enter','setIdSucursal','setItemTaxId','test','return\x20(function()\x20','children','hidden','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setCostUSD','.selected_tags','.unitSelect','.branchChk','setTaxIdDefault','application/octet-stream','newItem_proditems_container','.priceInput','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','8cEZVLb','values','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','Error\x20al\x20guardar\x20Producto\x20Offline:','setItemCode','idx','trim','1026770cmruxZ','addEventListener','tag','name','default','focus','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','unitSelect','setCode','revokeObjectURL','setItemIsBought','.costInput','setCantidad','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','arrayBuffer','find','import','exception','setItemIsSold','Items\x20finales:','✅\x20Exportación\x20completada:\x20','setAuthToken','Nuevo\x20Producto','createObjectURL','contains','setItemName','appendChild','flatMap','display','mousedown','variant_','sucursales','724829ZVouEY','detalleModalCreateItem','newItem_chk_sell','querySelectorAll','modalProductNewTitle','splice','productType1','setItemVariantValues','.unitAlias','active','__proto__','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','length','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x20items.','setFactor','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','percent','newItem_title_table','toLowerCase','#newItem_categories_select\x20.options_list','setAlias','setMtoPrecioUnitario','[data-idx=\x22','Producto\x20Libre','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','target','search','file-input','newItem_chk_buy','base','warn','\x22\x20class=\x22branchChk\x22\x20checked>\x20','inputItemCode','setImpuestos','inputItemType','dataset','268qPOvgx','remove-tag','setName','bind','.ms_input','reduce','findIndex','href','image_box','setItemWarehouses','error','setCodProducto','_comp_container','inputItemName','setItemUnitId','type','setItemCommissionPercentage','from','newItem_hidden','selectedItem','console','PEN','setMtoPrecioCostoUnitario','span','#newItem_brands_select\x20.options_list','11424908JspbjY','./img/product.png','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','USD','.removeUnit','disabled','items','every','closeModalCreateItem','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setItemUnitAlias','info','isArray','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','div','</div>','variantForm','.options_list','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setConversionFactor','includes','priceInput','.eqInput','message','parse','newItem_brands_select','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','createElement','setItemVariantName','newItem_title_table_cp','Error\x20al\x20obtener\x20la\x20plantilla:\x20','<img\x20src=\x22','btnItemSave','.removeCombo','setDescripcion','match','now','costInput','map','filter','progress','1fZnnSK','setDefault','click','setItemDescription','.branchInit','keydown','Collator','5507380UxuZoM','setItemBarCode','style','setItemCategoryName','.prodQty','#newItem_brands_select\x20.selected_tags','No\x20hay\x20items\x20para\x20exportar.','<div\x20class=\x22newItem_col\x22>','padStart','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','none','key','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','forEach','objectStore','6324310fCwwQy','\x20items\x20procesados.','Error\x20al\x20procesar\x20la\x20operación:','[id$=\x22_comp_container\x22]','dragenter','setMarca','.branchMin','\x22\x20class=\x22branchChk\x22>\x20','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setUnidadCodigo','setItemCategories','{}.constructor(\x22return\x20this\x22)(\x20)','setItemId','setTaxId','.prod_input_container','newItem_units_container','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemType','push','detail','newItem_btn_addVariantGroup','trace','file','#newItem_branches_container\x20>\x20div','apply','setItemComponents','currency_data','checked','100','setItemFree','classList','input','6UyzOnv','.variantForm','assign','readAsDataURL','btnExportarItems','log','.options_list\x20div','inputItemBarCode','setInventariable','setItemTaxCode','stringify','setItemImages','.variantExpiry','setBatchName','.xlsx','sort','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setPriceUSD','querySelector','toString','done','accept','newItem_btn_addProdItem','setItemBrandName','setPrice','exportDone','.removeProd','entries','setWarehouseId','some','_branch_container','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','./js/apierp_item_wk.min.js','setItemInventoriable','.drop-zone__prompt','#newItem_units_container\x20>\x20div','parentNode','className','files','block','.vgVals','1321929vrHaGa','result','vals','true','prototype','setEquivalence','./excel/Plantilla-Items.xlsx','\x22\x20value=\x22','setImpuestoValue','textContent','toISOString','stopPropagation','inputItemTax','newItem_addToCart','code','_units_container','remove','setIdProducto','blur','change','slice','.vgName','oncomplete','newItem_variants_forms','setItemTaxValue','Ingresa\x20el\x20nombre\x20del\x20item','dragover','setCategoria','defineProperty','dispatchEvent','style=\x22display:none\x22','newItem_categories_select','closest'];_0x412b=function(){return _0xa6bc40;};return _0x412b();}function containerIdx(_0x3dd6cc){return+_0x3dd6cc['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x54498a=_0x51be98,_0x3f191e=[],_0x4b90a6=Array[_0x54498a(0x211)](document[_0x54498a(0x1de)](_0x54498a(0x14b))),_0x98db03=_0x4b90a6[_0x54498a(0x1ca)](_0x27bd8b=>_0x27bd8b[_0x54498a(0x1ff)][_0x54498a(0x1bf)]==='true'),_0x72b894=_0x98db03?+_0x98db03[_0x54498a(0x13a)](_0x54498a(0x22f))['value']:0x1;_0x4b90a6[_0x54498a(0x256)](function(_0x4a0412){var _0x5177a5=_0x54498a,_0x446ce0=+_0x4a0412[_0x5177a5(0x13a)]('.eqInput')['value']||0x0,_0x1c4cd1=+_0x4a0412[_0x5177a5(0x13a)]('.priceInput')['value']||0x0,_0x52998a=+_0x4a0412['querySelector']('.costInput')['value']||0x0;_0x3f191e[_0x5177a5(0x11a)]({'setAlias':_0x4a0412[_0x5177a5(0x13a)]('.unitAlias')['value'][_0x5177a5(0x1ba)](),'setUnitCode':_0x4a0412[_0x5177a5(0x13a)](_0x5177a5(0x1ad))['value'],'setEquivalence':_0x446ce0,'setFactor':_0x4a0412[_0x5177a5(0x1ff)][_0x5177a5(0x1bf)]===_0x5177a5(0x154)?0x1:_0x446ce0==_0x72b894?0x1:_0x446ce0<_0x72b894?_0x72b894/_0x446ce0:_0x446ce0/_0x72b894,'setPrice':_0x1c4cd1,'setCost':_0x52998a,'setDefault':_0x4a0412[_0x5177a5(0x1ff)][_0x5177a5(0x1bf)]===_0x5177a5(0x154)?0x1:0x0});}),baseItem[_0x54498a(0x195)]=_0x3f191e;}function updateBranches(){var _0xeebd58=_0x51be98,_0x19d930=[];document[_0xeebd58(0x1de)](_0xeebd58(0x11f))['forEach'](function(_0x56abbd){var _0x2a9271=_0xeebd58,_0x406a57=_0x56abbd[_0x2a9271(0x13a)](_0x2a9271(0x1ae));if(_0x406a57[_0x2a9271(0x123)]){var _0x462a0b=+_0x406a57[_0x2a9271(0x1ff)]['id'],_0x572c61=+_0x56abbd[_0x2a9271(0x13a)](_0x2a9271(0x246))[_0x2a9271(0x19a)],_0x304dd2=+_0x56abbd[_0x2a9271(0x13a)](_0x2a9271(0x10e))['value'];_0x19d930[_0x2a9271(0x11a)]({'setWarehouseCode':_0x462a0b,'setStockInitial':_0x572c61,'setStockMinimum':_0x304dd2});}}),baseItem[_0xeebd58(0x209)]=_0x19d930;}document['getElementById'](_0x51be98(0x13e))[_0x51be98(0x1bc)](_0x51be98(0x244),function(){var _0x53af21=_0x51be98,_0x27b394=Date[_0x53af21(0x23d)](),_0x9c575a=document[_0x53af21(0x234)]('div');_0x9c575a[_0x53af21(0x1ff)][_0x53af21(0x1b9)]=_0x27b394,_0x9c575a[_0x53af21(0x176)]=_0x53af21(0x222)+_0x27b394+_0x53af21(0x19c)+_0x27b394+_0x53af21(0x1c8),prodC[_0x53af21(0x1d5)](_0x9c575a),initProdSearch(_0x9c575a[_0x53af21(0x13a)](_0x53af21(0x116))),_0x9c575a[_0x53af21(0x13a)](_0x53af21(0x142))[_0x53af21(0x1bc)](_0x53af21(0x244),function(){var _0x3cc9fc=_0x53af21;_0x9c575a[_0x3cc9fc(0x161)](),updateProdItems();}),_0x9c575a[_0x53af21(0x13a)](_0x53af21(0x24d))[_0x53af21(0x1bc)]('input',updateProdItems),document[_0x53af21(0x17d)](_0x53af21(0x236))[_0x53af21(0x126)][_0x53af21(0x19b)](_0x53af21(0x1ed),!![]),document[_0x53af21(0x17d)](_0x53af21(0x236))[_0x53af21(0x126)][_0x53af21(0x19b)]('newItem_hidden',![]);});function initProdSearch(_0x4acfb5,_0x476efd){var _0x4f2132=_0x51be98,_0x2ec2ff=_0x4acfb5['querySelector'](_0x4f2132(0x19d)),_0xc41cb2=_0x4acfb5[_0x4f2132(0x13a)](_0x4f2132(0x22a)),_0x8739aa=_0x476efd||null;if(_0x476efd)_0x2ec2ff['value']=_0x476efd[_0x4f2132(0x1be)];_0x2ec2ff['addEventListener'](_0x4f2132(0x127),function(){var _0x3bb7ab=_0x4f2132,_0x3b0f4e=_0x2ec2ff[_0x3bb7ab(0x19a)][_0x3bb7ab(0x1ee)]()['trim']();_0xc41cb2[_0x3bb7ab(0x176)]='';if(!_0x3b0f4e)return;products['filter'](_0xec1f2e=>_0xec1f2e['setDescripcion']['toLowerCase']()['includes'](_0x3b0f4e))[_0x3bb7ab(0x165)](0x0,0x14)[_0x3bb7ab(0x256)](function(_0x1d6a59){var _0x350c79=_0x3bb7ab,_0x5ae0df=document[_0x350c79(0x234)]('div');_0x5ae0df['textContent']=_0x1d6a59[_0x350c79(0x23b)],_0x5ae0df[_0x350c79(0x1ff)]['id']=_0x1d6a59['id'],_0x5ae0df[_0x350c79(0x1ff)][_0x350c79(0x1be)]=_0x1d6a59[_0x350c79(0x23b)],_0xc41cb2['appendChild'](_0x5ae0df),_0x5ae0df['addEventListener']('click',function(){var _0x1192b0=_0x350c79;_0x8739aa={'id':_0x1d6a59['id'],'name':_0x1d6a59['setDescripcion']},_0x2ec2ff[_0x1192b0(0x19a)]=_0x1d6a59[_0x1192b0(0x23b)],_0xc41cb2[_0x1192b0(0x176)]='';var _0x2085d3=_0x4acfb5[_0x1192b0(0x171)](_0x1192b0(0x25b));if(_0x2085d3){var _0xc850c2=+_0x2085d3['id'][_0x1192b0(0x198)]('_')[0x1];updateVariantComponents(_0xc850c2);}else updateProdItems();});});}),_0x2ec2ff['addEventListener'](_0x4f2132(0x1c0),function(){var _0x5d6de4=_0x4f2132;_0xc41cb2[_0x5d6de4(0x126)]['remove'](_0x5d6de4(0x212));}),document['addEventListener'](_0x4f2132(0x244),function(_0x18d58b){var _0x462576=_0x4f2132;if(!_0x4acfb5[_0x462576(0x1d3)](_0x18d58b[_0x462576(0x1f5)]))_0xc41cb2['classList'][_0x462576(0x194)](_0x462576(0x212));}),Object[_0x4f2132(0x16d)](_0x4acfb5,_0x4f2132(0x213),{'get':()=>_0x8739aa});}function updateProdItems(){var _0x5321fe=_0x51be98,_0xa813c5=[];Array['from'](prodC['children'])[_0x5321fe(0x256)](function(_0x38d77a){var _0x49b000=_0x5321fe,_0x1b2c96=_0x38d77a['querySelector'](_0x49b000(0x116));if(!_0x1b2c96)return;var _0x123e91=_0x38d77a[_0x49b000(0x13a)](_0x49b000(0x24d)),_0x2ad74a=_0x1b2c96[_0x49b000(0x213)];_0x2ad74a&&_0xa813c5[_0x49b000(0x11a)]({'setItemId':_0x2ad74a['id'],'setDescripcion':_0x2ad74a[_0x49b000(0x1be)],'setCantidad':+_0x123e91[_0x49b000(0x19a)]});}),baseItem[_0x5321fe(0x121)]=_0xa813c5,_0xa813c5[_0x5321fe(0x1e7)]===0x0&&(document['getElementById'](_0x5321fe(0x236))[_0x5321fe(0x126)][_0x5321fe(0x19b)]('newItem_title_table',![]),document[_0x5321fe(0x17d)]('newItem_title_table_cp')[_0x5321fe(0x126)][_0x5321fe(0x19b)](_0x5321fe(0x212),!![]));}document['getElementById'](_0x51be98(0x11c))[_0x51be98(0x1bc)](_0x51be98(0x244),function(){var _0x16a2bc=_0x51be98,_0x396d7b=vgCount++,_0x175f76=document[_0x16a2bc(0x234)](_0x16a2bc(0x227));_0x175f76[_0x16a2bc(0x1ff)]['idx']=_0x396d7b,_0x175f76[_0x16a2bc(0x176)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x396d7b+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x396d7b+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC['appendChild'](_0x175f76),_0x175f76[_0x16a2bc(0x13a)](_0x16a2bc(0x166))[_0x16a2bc(0x1bc)](_0x16a2bc(0x163),generateVariants),_0x175f76['querySelector'](_0x16a2bc(0x150))[_0x16a2bc(0x1bc)](_0x16a2bc(0x163),generateVariants),_0x175f76['querySelector']('.removeGroup')[_0x16a2bc(0x1bc)](_0x16a2bc(0x244),function(){_0x175f76['remove'](),generateVariants();});});function generateVariants(){var _0x33bbfb=_0x51be98,_0x1572f8=[];vgC[_0x33bbfb(0x1de)](_0x33bbfb(0x227))[_0x33bbfb(0x256)](function(_0x31124b){var _0x3044c4=_0x33bbfb,_0x2c9238=_0x31124b[_0x3044c4(0x13a)]('.vgName')[_0x3044c4(0x19a)][_0x3044c4(0x1ba)](),_0x4f1198=_0x31124b['querySelector'](_0x3044c4(0x150))[_0x3044c4(0x19a)][_0x3044c4(0x198)](',')[_0x3044c4(0x23f)](_0x4b21dc=>_0x4b21dc[_0x3044c4(0x1ba)]())[_0x3044c4(0x240)](_0x464b8f=>_0x464b8f);if(_0x2c9238&&_0x4f1198['length'])_0x1572f8['push']({'name':_0x2c9238,'vals':_0x4f1198});});var _0x36e7fe=[{}];_0x1572f8[_0x33bbfb(0x256)](function(_0x9b7a39){var _0x433b10=_0x33bbfb;_0x36e7fe=_0x36e7fe[_0x433b10(0x1d6)](function(_0x228243){var _0x1b90de=_0x433b10;return _0x9b7a39[_0x1b90de(0x153)][_0x1b90de(0x23f)](function(_0x376c21){var _0x1a10fd=_0x1b90de,_0x25a7a8=Object[_0x1a10fd(0x12a)]({},_0x228243);return _0x25a7a8[_0x9b7a39[_0x1a10fd(0x1be)]]=_0x376c21,_0x25a7a8;});});}),newItems=[],varContainer[_0x33bbfb(0x176)]='',_0x36e7fe[_0x33bbfb(0x256)](function(_0x1d8d7c,_0x376f3e){var _0x279f0b=_0x33bbfb,_0x1baf07=JSON[_0x279f0b(0x231)](JSON['stringify'](baseItem));_0x1baf07[_0x279f0b(0x1e2)]=_0x1d8d7c,_0x1baf07[_0x279f0b(0x235)]=baseItem[_0x279f0b(0x1d4)]+'\x20'+Object[_0x279f0b(0x143)](_0x1d8d7c)['map'](_0x126d29=>_0x126d29[0x0]+'\x20'+_0x126d29[0x1])[_0x279f0b(0x199)]('\x20'),newItems[_0x279f0b(0x11a)](_0x1baf07);var _0x3f1bb5=document[_0x279f0b(0x234)](_0x279f0b(0x227));_0x3f1bb5['classList'][_0x279f0b(0x194)](_0x279f0b(0x229)),_0x3f1bb5[_0x279f0b(0x1ff)]['idx']=_0x376f3e,_0x3f1bb5[_0x279f0b(0x176)]=_0x279f0b(0x255)+_0x1baf07[_0x279f0b(0x235)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x1baf07['setItemCode']+_0x279f0b(0x17a)+_0x1baf07[_0x279f0b(0x24a)]+_0x279f0b(0x147)+_0x1baf07[_0x279f0b(0x186)]+_0x279f0b(0x1aa)+_0x376f3e+_0x279f0b(0x188)+_0x376f3e+_0x279f0b(0x1e6)+_0x376f3e+_0x279f0b(0x19e),varContainer['appendChild'](_0x3f1bb5),_0x3f1bb5[_0x279f0b(0x13a)]('.variantCode')['addEventListener'](_0x279f0b(0x127),_0x153b36=>newItems[_0x376f3e][_0x279f0b(0x1b8)]=_0x153b36[_0x279f0b(0x1f5)][_0x279f0b(0x19a)]),_0x3f1bb5[_0x279f0b(0x13a)]('.variantBarCode')['addEventListener']('input',_0x235af4=>newItems[_0x376f3e][_0x279f0b(0x24a)]=_0x235af4['target'][_0x279f0b(0x19a)]),_0x3f1bb5[_0x279f0b(0x13a)](_0x279f0b(0x134))[_0x279f0b(0x1bc)](_0x279f0b(0x164),_0x488cf3=>newItems[_0x376f3e][_0x279f0b(0x186)]=_0x488cf3['target'][_0x279f0b(0x19a)]),initVariantUnits(_0x376f3e),initVariantComponents(_0x376f3e),initVariantBranches(_0x376f3e),_0x3f1bb5[_0x279f0b(0x13a)]('.removeVariant')[_0x279f0b(0x1bc)](_0x279f0b(0x244),function(){var _0x32a06f=_0x279f0b,_0x29d555=+_0x3f1bb5[_0x32a06f(0x1ff)][_0x32a06f(0x1b9)];newItems[_0x32a06f(0x1e0)](_0x29d555,0x1),_0x3f1bb5['remove'](),document['querySelectorAll'](_0x32a06f(0x129))['forEach'](function(_0x17ddba,_0x46b6d7){var _0x2b2642=_0x32a06f;_0x17ddba[_0x2b2642(0x1ff)][_0x2b2642(0x1b9)]=_0x46b6d7;});});});if(newItems[_0x33bbfb(0x1e7)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x40c0c6){var _0x1d1e74=_0x51be98,_0x2fecbd=document[_0x1d1e74(0x17d)](_0x1d1e74(0x1d9)+_0x40c0c6+_0x1d1e74(0x160)),_0x444258=[];Array[_0x1d1e74(0x211)](_0x2fecbd[_0x1d1e74(0x1a8)])[_0x1d1e74(0x256)](function(_0xc87ea7){var _0x24cd45=_0x1d1e74,_0x3b0692=+_0xc87ea7[_0x24cd45(0x13a)](_0x24cd45(0x22f))[_0x24cd45(0x19a)]||0x0,_0x3e412a=_0xc87ea7[_0x24cd45(0x13a)](_0x24cd45(0x1e3))[_0x24cd45(0x19a)][_0x24cd45(0x1ba)](),_0x2e16df=_0xc87ea7[_0x24cd45(0x13a)]('.unitSelect')[_0x24cd45(0x19a)],_0x29317b=+_0xc87ea7[_0x24cd45(0x13a)]('.priceInput')[_0x24cd45(0x19a)]||0x0,_0x13e7f1=+_0xc87ea7[_0x24cd45(0x13a)](_0x24cd45(0x1c6))[_0x24cd45(0x19a)]||0x0,_0x106a38=_0xc87ea7[_0x24cd45(0x1ff)][_0x24cd45(0x1bf)]===_0x24cd45(0x154),_0x35a290=+_0x2fecbd[_0x24cd45(0x13a)](_0x24cd45(0x197))['value']||0x1,_0x246dbc=_0x106a38?0x1:_0x3b0692==_0x35a290?0x1:_0x3b0692<_0x35a290?_0x35a290/_0x3b0692:_0x3b0692/_0x35a290;_0x444258['push']({'setAlias':_0x3e412a,'setUnitCode':_0x2e16df,'setEquivalence':_0x3b0692,'setFactor':_0x246dbc,'setPrice':_0x29317b,'setCost':_0x13e7f1,'setDefault':_0x106a38?0x1:0x0});}),newItems[_0x40c0c6]['setItemUnits']=_0x444258;}function initVariantUnits(_0x906a8){var _0x305291=_0x51be98,_0xc2714f=document['getElementById'](_0x305291(0x1d9)+_0x906a8+'_units_container');_0xc2714f[_0x305291(0x176)]='',newItems[_0x906a8]['setItemUnits'][_0x305291(0x256)](function(_0x5da82e){var _0x45a75e=_0x305291;addUnit(_0x5da82e[_0x45a75e(0x1f0)],_0x5da82e[_0x45a75e(0x181)],_0x5da82e[_0x45a75e(0x156)],_0x5da82e[_0x45a75e(0x243)],_0x5da82e[_0x45a75e(0x140)],_0x5da82e['setCost'],_0xc2714f);}),_0xc2714f[_0x305291(0x14c)][_0x305291(0x13a)]('.addVariantUnit')[_0x305291(0x1bc)](_0x305291(0x244),function(){addUnit('','',0x1,![],'','',_0xc2714f),updateVariantUnits(_0x906a8);});}function updateVariantUnits(_0x119410){var _0x3d37a5=_0x51be98,_0xddb161=document['getElementById'](_0x3d37a5(0x1d9)+_0x119410+_0x3d37a5(0x160)),_0x1c258b=_0xddb161[_0x3d37a5(0x13a)](_0x3d37a5(0x197)),_0x159021=_0x1c258b?+_0x1c258b[_0x3d37a5(0x19a)]:0x1,_0x4bd94c=Array['from'](_0xddb161[_0x3d37a5(0x1a8)])[_0x3d37a5(0x23f)](function(_0x43f7b3){var _0x510f71=_0x3d37a5,_0x331f98=_0x43f7b3[_0x510f71(0x13a)](_0x510f71(0x1e3))['value']['trim'](),_0x35ff7a=_0x43f7b3[_0x510f71(0x13a)](_0x510f71(0x1ad))['value'],_0x1e67b9=+_0x43f7b3['querySelector'](_0x510f71(0x22f))['value']||0x0,_0x2c0590=+_0x43f7b3[_0x510f71(0x13a)](_0x510f71(0x1b2))[_0x510f71(0x19a)]||0x0,_0x86e824=+_0x43f7b3[_0x510f71(0x13a)]('.costInput')[_0x510f71(0x19a)]||0x0,_0x5af0e1=_0x43f7b3[_0x510f71(0x1ff)][_0x510f71(0x1bf)]===_0x510f71(0x154);return{'setAlias':_0x331f98,'setUnitCode':_0x35ff7a,'setEquivalence':_0x1e67b9,'setFactor':_0x5af0e1?0x1:_0x1e67b9==_0x159021?0x1:_0x1e67b9<_0x159021?_0x159021/_0x1e67b9:_0x1e67b9/_0x159021,'setPrice':_0x2c0590,'setCost':_0x86e824,'setDefault':_0x5af0e1?0x1:0x0};});newItems[_0x119410]['setItemUnits']=_0x4bd94c;}function initVariantComponents(_0x369f2b){var _0x3c086c=_0x51be98,_0x513d38=document['getElementById'](_0x3c086c(0x1d9)+_0x369f2b+_0x3c086c(0x20c));_0x513d38[_0x3c086c(0x176)]='',newItems[_0x369f2b][_0x3c086c(0x121)][_0x3c086c(0x256)](function(_0x2fb977){var _0x5af050=_0x3c086c,_0x5ca726=document['createElement']('div'),_0x6e6e0c=Date[_0x5af050(0x23d)]();_0x5ca726['dataset'][_0x5af050(0x1b9)]=_0x6e6e0c,_0x5ca726['innerHTML']=_0x5af050(0x1eb)+_0x6e6e0c+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x2fb977[_0x5af050(0x1c7)]+_0x5af050(0x226),_0x513d38[_0x5af050(0x1d5)](_0x5ca726),initProdSearch(_0x5ca726[_0x5af050(0x13a)](_0x5af050(0x116)),{'id':_0x2fb977['setItemId'],'name':_0x2fb977['setDescripcion']}),_0x5ca726[_0x5af050(0x13a)]('.prodQty')[_0x5af050(0x1bc)]('input',function(){updateVariantComponents(_0x369f2b);}),_0x5ca726[_0x5af050(0x13a)](_0x5af050(0x23a))[_0x5af050(0x1bc)]('click',function(){var _0x3d6317=_0x5af050;_0x5ca726[_0x3d6317(0x161)](),updateVariantComponents(_0x369f2b);});}),_0x513d38['parentNode']['querySelector']('.addVariantComp')['addEventListener'](_0x3c086c(0x244),function(){var _0x5d7461=_0x3c086c,_0x51234c=document['createElement'](_0x5d7461(0x227)),_0x30eb9e=Date[_0x5d7461(0x23d)]();_0x51234c[_0x5d7461(0x1ff)]['idx']=_0x30eb9e,_0x51234c['innerHTML']=_0x5d7461(0x1eb)+_0x30eb9e+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x513d38[_0x5d7461(0x1d5)](_0x51234c),initProdSearch(_0x51234c[_0x5d7461(0x13a)](_0x5d7461(0x116))),_0x51234c[_0x5d7461(0x13a)](_0x5d7461(0x24d))[_0x5d7461(0x1bc)]('input',function(){updateVariantComponents(_0x369f2b);}),_0x51234c['querySelector'](_0x5d7461(0x23a))[_0x5d7461(0x1bc)](_0x5d7461(0x244),function(){var _0x14a964=_0x5d7461;_0x51234c[_0x14a964(0x161)](),updateVariantComponents(_0x369f2b);});});}function updateVariantComponents(_0x23abd7){var _0x13965d=_0x51be98,_0x25b500=document[_0x13965d(0x17d)](_0x13965d(0x1d9)+_0x23abd7+'_comp_container'),_0x1b2b4a=Array['from'](_0x25b500['children'])[_0x13965d(0x23f)](function(_0x2502b8){var _0x2894e5=_0x13965d,_0x1c220f=_0x2502b8[_0x2894e5(0x13a)](_0x2894e5(0x116)),_0x310954=_0x1c220f[_0x2894e5(0x213)],_0x4ac4d5=+_0x2502b8[_0x2894e5(0x13a)](_0x2894e5(0x24d))[_0x2894e5(0x19a)]||0x0;return _0x310954?{'setItemId':_0x310954['id'],'setDescripcion':_0x310954[_0x2894e5(0x1be)],'setCantidad':_0x4ac4d5}:null;})[_0x13965d(0x240)](_0x2d1b17=>_0x2d1b17);newItems[_0x23abd7][_0x13965d(0x121)]=_0x1b2b4a;}function initVariantBranches(_0x383bc6){var _0x2d9604=_0x51be98;const _0x31270a=getAllWarehouses();var _0x4c3794=document[_0x2d9604(0x17d)](_0x2d9604(0x1d9)+_0x383bc6+_0x2d9604(0x146));_0x4c3794[_0x2d9604(0x176)]='',newItems[_0x383bc6]['setItemWarehouses']['forEach'](function(_0x329971){var _0x1a6481=_0x2d9604,_0xf4fe8e=_0x31270a[_0x1a6481(0x1ca)](_0x332c67=>_0x332c67[_0x1a6481(0x144)]==_0x329971[_0x1a6481(0x18e)]),_0x1ab8dd=document[_0x1a6481(0x234)](_0x1a6481(0x227));_0x1ab8dd[_0x1a6481(0x176)]=_0x1a6481(0x174)+_0x329971[_0x1a6481(0x18e)]+_0x1a6481(0x1fb)+_0xf4fe8e['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x329971[_0x1a6481(0x18e)]+_0x1a6481(0x158)+_0x329971[_0x1a6481(0x191)]+_0x1a6481(0x22b)+_0x329971[_0x1a6481(0x18e)]+_0x1a6481(0x158)+_0x329971[_0x1a6481(0x177)]+'\x22>',_0x4c3794[_0x1a6481(0x1d5)](_0x1ab8dd),_0x1ab8dd[_0x1a6481(0x1de)](_0x1a6481(0x127))[_0x1a6481(0x256)](function(_0x196644){var _0x2aef37=_0x1a6481;_0x196644[_0x2aef37(0x1bc)](_0x2aef37(0x127),function(){updateVariantBranches(_0x383bc6);});});}),_0x31270a[_0x2d9604(0x256)](function(_0x6da337){var _0x530bba=_0x2d9604;if(!newItems[_0x383bc6][_0x530bba(0x209)][_0x530bba(0x1ca)](_0x3ab63b=>_0x3ab63b[_0x530bba(0x18e)]===_0x6da337[_0x530bba(0x144)])){var _0x47df95=document[_0x530bba(0x234)](_0x530bba(0x227));_0x47df95['innerHTML']=_0x530bba(0x174)+_0x6da337['setWarehouseId']+_0x530bba(0x10f)+_0x6da337[_0x530bba(0x17c)]+_0x530bba(0x1e8)+_0x6da337[_0x530bba(0x144)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x6da337[_0x530bba(0x144)]+'\x22>',_0x4c3794[_0x530bba(0x1d5)](_0x47df95),_0x47df95[_0x530bba(0x1de)](_0x530bba(0x127))[_0x530bba(0x256)](function(_0x352def){var _0x970c6=_0x530bba;_0x352def[_0x970c6(0x1bc)]('input',function(){updateVariantBranches(_0x383bc6);});});}});}function updateVariantBranches(_0x215379){var _0x5015d3=_0x51be98,_0xd14bb3=document['getElementById'](_0x5015d3(0x1d9)+_0x215379+_0x5015d3(0x146)),_0x569819=[];_0xd14bb3['querySelectorAll']('div')['forEach'](function(_0x1391ff){var _0x1c4e01=_0x5015d3,_0x30b91a=_0x1391ff[_0x1c4e01(0x13a)](_0x1c4e01(0x1ae));if(_0x30b91a['checked']){var _0x48fe6b=+_0x30b91a[_0x1c4e01(0x1ff)]['id'],_0x35928d=+_0x1391ff[_0x1c4e01(0x13a)](_0x1c4e01(0x246))[_0x1c4e01(0x19a)]||0x0,_0x23cc62=+_0x1391ff[_0x1c4e01(0x13a)]('.branchMin')[_0x1c4e01(0x19a)]||0x0;_0x569819[_0x1c4e01(0x11a)]({'setWarehouseCode':_0x48fe6b,'setStockInitial':_0x35928d,'setStockMinimum':_0x23cc62});}}),newItems[_0x215379][_0x5015d3(0x209)]=_0x569819;}async function storeOfflineProduct(_0x2196e9){var _0x1032fe=_0x51be98;try{const _0x28dfe3=await createCartStore(''),_0x5d5161=_0x28dfe3['transaction']('offline_operations','readwrite'),_0x44331a=_0x5d5161[_0x1032fe(0x257)](_0x1032fe(0x18f));_0x44331a['add'](_0x2196e9),_0x5d5161[_0x1032fe(0x167)]=()=>{var _0x401513=_0x1032fe;console[_0x401513(0x12d)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x5d5161['onerror']=_0x1cf4dc=>{var _0x445b9b=_0x1032fe;console['error'](_0x445b9b(0x1b7),_0x1cf4dc['target'][_0x445b9b(0x20a)]);};}catch(_0x28f70c){console[_0x1032fe(0x20a)](_0x1032fe(0x25a),_0x28f70c);}}document[_0x51be98(0x17d)](_0x51be98(0x239))[_0x51be98(0x1bc)]('click',async function(_0x3b177e){var _0x37a9cd=_0x51be98;_0x3b177e[_0x37a9cd(0x196)]();const _0x41df15=document[_0x37a9cd(0x17d)](_0x37a9cd(0x1fc)),_0x404046=document[_0x37a9cd(0x17d)](_0x37a9cd(0x125))[_0x37a9cd(0x19a)];if(!_0x41df15['value'][_0x37a9cd(0x1ba)]()&&_0x404046==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x404046==0x1&&(_0x41df15[_0x37a9cd(0x19a)]='',baseItem[_0x37a9cd(0x1b8)]='');const _0x32525d=document[_0x37a9cd(0x17d)](_0x37a9cd(0x20d));if(!_0x32525d[_0x37a9cd(0x19a)][_0x37a9cd(0x1ba)]()){ntfShow(_0x37a9cd(0x16a),0x2,0x1);return;}const _0x58f574=document[_0x37a9cd(0x17d)](_0x37a9cd(0x15e));hideModalCreateItem(),showLoadingModal();newItems[_0x37a9cd(0x1e7)]===0x0&&(newItems=[baseItem]);const _0x11fe12=document[_0x37a9cd(0x17d)]('windowId')[_0x37a9cd(0x19a)],_0x5ec59c=window_options[_0x11fe12]['setMoneda'],_0x4a7aca=[];newItems[_0x37a9cd(0x256)](_0x15be73=>{var _0x178bd7=_0x37a9cd;const _0x3451fc=generateNumericUniqId();_0x15be73[_0x178bd7(0x195)][_0x178bd7(0x256)](_0x6b3146=>{var _0x82678f=_0x178bd7;const _0x30b3f0=generateNumericUniqId();_0x6b3146[_0x82678f(0x20e)]=_0x30b3f0;const _0x28f087={'id':_0x30b3f0,'setIdProducto':_0x3451fc,'setCodProducto':_0x15be73[_0x82678f(0x1b8)],'setDescripcion':_0x15be73[_0x82678f(0x1d4)],'setItemDescription':_0x15be73[_0x82678f(0x245)],'setBatchExpirationDate':_0x15be73[_0x82678f(0x186)],'setBatchName':'','setCategoria':_0x15be73['setItemCategories'][0x0]||'','setMarca':_0x15be73[_0x82678f(0x187)][0x0]||'','setConversionFactor':parseFloat(_0x6b3146[_0x82678f(0x1ea)]),'setImages':[],'setImg':_0x82678f(0x21a),'setInventariable':0x1,'setItemIsBought':_0x15be73['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x15be73[_0x82678f(0x1cd)]?0x1:0x0,'setPorcentajeIgv':_0x15be73[_0x82678f(0x169)],'setPrinters':[],'setTaxId':_0x15be73[_0x82678f(0x1a5)],'setTipAfeIgv':_0x15be73[_0x82678f(0x131)],'setUnidad':_0x6b3146[_0x82678f(0x181)],'setUnidadCodigo':_0x6b3146[_0x82678f(0x181)],'setItemUnitAlias':_0x6b3146['setAlias'],'currency_data':[{'currency':_0x5ec59c,'setMtoPrecioCostoUnitario':_0x6b3146['setCost'],'setMtoPrecioUnitario':_0x6b3146[_0x82678f(0x140)],'setPriceLists':[]}],'sucursales':_0x15be73[_0x82678f(0x209)][_0x82678f(0x23f)](_0x576b7b=>({'setIdSucursal':_0x576b7b['setWarehouseCode'],'setSucursalStock':_0x576b7b[_0x82678f(0x191)]['toString'](),'setWarehouseStockMin':_0x576b7b[_0x82678f(0x177)][_0x82678f(0x13b)]()})),'setItemFree':_0x15be73['setItemFree'],'setItemBarCode':_0x15be73['setItemBarCode'],'setItemBrands':_0x15be73[_0x82678f(0x187)]['slice'](),'setItemCategories':_0x15be73[_0x82678f(0x112)][_0x82678f(0x165)](),'setItemComponents':_0x15be73[_0x82678f(0x121)][_0x82678f(0x23f)](_0x4f4050=>({..._0x4f4050})),'setItemImages':_0x15be73[_0x82678f(0x133)][_0x82678f(0x165)](),'setItemVariantName':_0x15be73[_0x82678f(0x235)],'setItemVariantValues':{..._0x15be73['setItemVariantValues']}};_0x4a7aca[_0x82678f(0x11a)](_0x28f087),(_0x58f574[_0x82678f(0x123)]||_0x404046==0x1)&&addToCart(_0x28f087);});}),console[_0x37a9cd(0x12d)](_0x37a9cd(0x1ce),newItems),await finalizeImport(_0x4a7aca,newItems,![]);}),[_0x51be98(0x25c),_0x51be98(0x16b)][_0x51be98(0x256)](_0x3a8915=>dropZone[_0x51be98(0x1bc)](_0x3a8915,_0x190c2f=>{var _0x2f6c96=_0x51be98;_0x190c2f['preventDefault'](),dropZone[_0x2f6c96(0x126)][_0x2f6c96(0x194)](_0x2f6c96(0x16b));})),[_0x51be98(0x184),_0x51be98(0x189)][_0x51be98(0x256)](_0x4dfdf4=>dropZone[_0x51be98(0x1bc)](_0x4dfdf4,_0xb86f90=>{var _0x1f813d=_0x51be98;_0xb86f90[_0x1f813d(0x196)](),dropZone[_0x1f813d(0x126)][_0x1f813d(0x161)]('dragover');})),dropZone[_0x51be98(0x1bc)](_0x51be98(0x189),_0x27afd1=>{var _0x5c9222=_0x51be98;const _0x25ea9c=_0x27afd1['dataTransfer'][_0x5c9222(0x14e)][0x0];if(!_0x25ea9c)return;fileInput[_0x5c9222(0x14e)]=_0x27afd1['dataTransfer'][_0x5c9222(0x14e)],dropZone[_0x5c9222(0x13a)](_0x5c9222(0x14a))['textContent']=_0x25ea9c['name'],removeBtn[_0x5c9222(0x1a9)]=![],fileInput['dispatchEvent'](new Event('change'));}),removeBtn[_0x51be98(0x1bc)](_0x51be98(0x244),()=>{var _0x32ac1b=_0x51be98;fileInput[_0x32ac1b(0x19a)]='',dropZone[_0x32ac1b(0x13a)](_0x32ac1b(0x14a))[_0x32ac1b(0x15a)]=_0x32ac1b(0x1b6),removeBtn[_0x32ac1b(0x1a9)]=!![],progressBar[_0x32ac1b(0x24b)][_0x32ac1b(0x1d7)]=_0x32ac1b(0x253),statusDiv[_0x32ac1b(0x15a)]='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x51be98(0x17d)](_0x51be98(0x12c));exportBtn[_0x51be98(0x1bc)](_0x51be98(0x244),onClickExportarItems);async function onClickExportarItems(){var _0x53536c=_0x51be98;if(!Array[_0x53536c(0x225)](products)||!products[_0x53536c(0x1e7)]){ntfShow(_0x53536c(0x24f));return;}try{const _0x16382b=await fetch(_0x53536c(0x157));if(!_0x16382b['ok'])throw new Error(_0x53536c(0x110));const _0x4068=await _0x16382b[_0x53536c(0x1c9)](),_0x3c72a9=document[_0x53536c(0x17d)](_0x53536c(0x144))['value'];let _0x1962ea=products;const _0x109f41=getUserPermissionApiERP(0x2);_0x109f41==0x1&&(_0x1962ea=products[_0x53536c(0x240)](_0x224f86=>Array[_0x53536c(0x225)](_0x224f86[_0x53536c(0x1da)])&&_0x224f86[_0x53536c(0x1da)]['some'](_0x1f772c=>String(_0x1f772c[_0x53536c(0x1a4)])==String(_0x3c72a9))));const _0x1325c0=_0x1962ea[_0x53536c(0x205)]((_0xa8916d,_0x4242ec)=>{const _0x55212e=_0x4242ec['setIdProducto'];if(!_0xa8916d[_0x55212e])_0xa8916d[_0x55212e]=[];return _0xa8916d[_0x55212e]['push'](_0x4242ec),_0xa8916d;},{}),_0x39ea8b=Object[_0x53536c(0x1b5)](_0x1325c0)[_0x53536c(0x23f)](_0x26b938=>{var _0x423745=_0x53536c;const _0x14ac4a=_0x26b938[0x0],_0x14f713=_0x26b938[0x1]||{},_0x4e9bb3=_0x26b938[0x2]||{};function _0x7afb30(_0x538ce8,_0x3476b6,_0x4a8eb3){var _0x36bb10=_0x2453;if(!_0x538ce8||!Array['isArray'](_0x538ce8[_0x36bb10(0x122)]))return'';const _0x1c66b8=_0x538ce8[_0x36bb10(0x122)]['find'](_0x29ea5f=>_0x29ea5f['currency']===_0x3476b6);return _0x1c66b8?_0x1c66b8[_0x4a8eb3]:'';}return{'id':_0x14ac4a[_0x423745(0x162)],'setItemType':_0x14ac4a[_0x423745(0x119)],'setCodProducto':_0x14ac4a[_0x423745(0x20b)],'setDescripcion':_0x14ac4a[_0x423745(0x23b)],'setItemDescription':_0x14ac4a['setItemDescription'],'setItemIsSold':_0x14ac4a[_0x423745(0x1cd)],'setItemIsBought':_0x14ac4a[_0x423745(0x1c5)],'setCategoria':_0x14ac4a[_0x423745(0x16c)],'setMarca':_0x14ac4a['setMarca'],'setTaxId':_0x14ac4a[_0x423745(0x115)],'setUnitId':_0x14ac4a['id'],'setItemBarCode':_0x14ac4a['setItemBarCode'],'setUnidadCodigo':_0x14ac4a[_0x423745(0x111)],'setItemUnitAlias':_0x14ac4a[_0x423745(0x223)]??'','PEN_setMtoPrecioUnitario':_0x7afb30(_0x14ac4a,_0x423745(0x215),_0x423745(0x1f1)),'PEN_setMtoPrecioCostoUnitario':_0x7afb30(_0x14ac4a,_0x423745(0x215),_0x423745(0x216)),'USD_setMtoPrecioUnitario':_0x7afb30(_0x14ac4a,_0x423745(0x21c),_0x423745(0x1f1)),'USD_setMtoPrecioCostoUnitario':_0x7afb30(_0x14ac4a,_0x423745(0x21c),_0x423745(0x216)),'setItemCommissionPercentage':_0x14ac4a[_0x423745(0x210)]?parseFloat(_0x14ac4a[_0x423745(0x210)]):'','setUnitId2':_0x14f713['id']??'','setItemBarCode2':_0x14f713[_0x423745(0x24a)]??'','setUnidadCodigo2':_0x14f713[_0x423745(0x111)]??'','setItemUnitAlias2':_0x14f713[_0x423745(0x223)]??'','setUnidadEquivalencia2':_0x14f713[_0x423745(0x22c)]??'','PEN_setMtoPrecioUnitario2':_0x7afb30(_0x14f713,'PEN',_0x423745(0x1f1))??'','PEN_setMtoPrecioCostoUnitario2':_0x7afb30(_0x14f713,_0x423745(0x215),_0x423745(0x216))??'','USD_setMtoPrecioUnitario2':_0x7afb30(_0x14f713,_0x423745(0x21c),_0x423745(0x1f1))??'','USD_setMtoPrecioCostoUnitario2':_0x7afb30(_0x14f713,_0x423745(0x21c),_0x423745(0x216))??'','setItemCommissionPercentage2':_0x14f713[_0x423745(0x210)]?parseFloat(_0x14f713[_0x423745(0x210)]):'','setUnitId3':_0x4e9bb3['id']??'','setItemBarCode3':_0x4e9bb3[_0x423745(0x24a)]??'','setUnidadCodigo3':_0x4e9bb3[_0x423745(0x111)]??'','setItemUnitAlias3':_0x4e9bb3[_0x423745(0x223)]??'','setUnidadEquivalencia3':_0x4e9bb3[_0x423745(0x22c)]??'','PEN_setMtoPrecioUnitario3':_0x7afb30(_0x4e9bb3,_0x423745(0x215),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x7afb30(_0x4e9bb3,_0x423745(0x215),_0x423745(0x216))??'','USD_setMtoPrecioUnitario3':_0x7afb30(_0x4e9bb3,'USD',_0x423745(0x1f1))??'','USD_setMtoPrecioCostoUnitario3':_0x7afb30(_0x4e9bb3,_0x423745(0x21c),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage3':_0x4e9bb3[_0x423745(0x210)]?parseFloat(_0x4e9bb3[_0x423745(0x210)]):'','setInventariable':_0x14ac4a[_0x423745(0x130)],'setSucursalStock':_0x109f41==0x1?_0x14ac4a[_0x423745(0x1da)][_0x423745(0x1ca)](_0x871afb=>String(_0x871afb[_0x423745(0x1a4)])==String(_0x3c72a9))['setSucursalStock']:'','setWarehouseStockMin':_0x109f41==0x1?_0x14ac4a[_0x423745(0x1da)][_0x423745(0x1ca)](_0x547d4b=>String(_0x547d4b[_0x423745(0x1a4)])==String(_0x3c72a9))['setWarehouseStockMin']:'','setBatchName':_0x14ac4a[_0x423745(0x135)],'setBatchExpirationDate':_0x14ac4a['setBatchExpirationDate'],..._0x14ac4a[_0x423745(0x1e2)]};});try{JSON[_0x53536c(0x132)](_0x39ea8b);}catch(_0x16fb16){console[_0x53536c(0x20a)](_0x53536c(0x192),_0x16fb16),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x53536c(0x15a)]='Generando\x20Excel...',progressBar[_0x53536c(0x24b)][_0x53536c(0x1d7)]=_0x53536c(0x14f),progressBar['value']=0x0,itemWorker[_0x53536c(0x182)]({'action':'exportItems','products':_0x39ea8b,'plantillaBuf':_0x4068},[_0x4068]);}catch(_0x2346ef){console['error'](_0x2346ef),ntfShow(_0x53536c(0x237)+_0x2346ef['message']);}}itemWorker['onmessage']=({data:_0x49d7c8})=>{var _0xa336f1=_0x51be98;const {type:_0x4139ee,payload:_0x246613}=_0x49d7c8;_0x4139ee===_0xa336f1(0x241)&&(progressBar[_0xa336f1(0x24b)][_0xa336f1(0x1d7)]=_0xa336f1(0x14f),progressBar[_0xa336f1(0x19a)]=_0x246613[_0xa336f1(0x1ec)],statusDiv[_0xa336f1(0x15a)]=_0x246613[_0xa336f1(0x230)]);_0x4139ee===_0xa336f1(0x13c)&&(newItemsExcel=_0x246613[_0xa336f1(0x21f)],statusDiv[_0xa336f1(0x15a)]='✅\x20'+newItemsExcel[_0xa336f1(0x1e7)]+_0xa336f1(0x259),uploadBtn[_0xa336f1(0x21e)]=![],progressBar[_0xa336f1(0x19a)]=0x64,console[_0xa336f1(0x12d)](newItemsExcel));_0x4139ee===_0xa336f1(0x20a)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x246613,progressBar['style'][_0xa336f1(0x1d7)]=_0xa336f1(0x253));if(_0x4139ee===_0xa336f1(0x141)){const {wbout:_0x2341c0,count:_0x3d8dcb}=_0x246613,_0x38338f=new Blob([_0x2341c0],{'type':_0xa336f1(0x1b0)}),_0x2361b8=URL[_0xa336f1(0x1d2)](_0x38338f),_0x1014fd=document[_0xa336f1(0x234)]('a'),_0x2686f6=new Date()[_0xa336f1(0x15b)]()[_0xa336f1(0x165)](0x0,0xa);_0x1014fd[_0xa336f1(0x172)]='Plantilla-Items-Export-'+_0x2686f6+_0xa336f1(0x136),_0x1014fd[_0xa336f1(0x207)]=_0x2361b8,_0x1014fd[_0xa336f1(0x244)](),URL[_0xa336f1(0x1c4)](_0x2361b8),statusDiv['textContent']=_0xa336f1(0x1cf)+_0x3d8dcb+_0xa336f1(0x1e9),progressBar['style'][_0xa336f1(0x1d7)]='none';}},fileInput[_0x51be98(0x1bc)](_0x51be98(0x164),async _0x4419cb=>{var _0x55436c=_0x51be98;const _0x2db032=_0x4419cb['target'][_0x55436c(0x14e)][0x0];if(!_0x2db032)return;uploadBtn[_0x55436c(0x21e)]=!![],newItemsExcel=null,statusDiv[_0x55436c(0x15a)]='',progressBar[_0x55436c(0x24b)][_0x55436c(0x1d7)]='none',dropZone[_0x55436c(0x13a)](_0x55436c(0x14a))[_0x55436c(0x15a)]=_0x2db032[_0x55436c(0x1be)],removeBtn['hidden']=![];try{const _0x17a755=await _0x2db032['arrayBuffer']();itemWorker[_0x55436c(0x182)]({'action':_0x55436c(0x1cb),'buf':_0x17a755,'maxRows':0x1388});}catch(_0x326c05){statusDiv[_0x55436c(0x15a)]=_0x55436c(0x233);}finally{fileInput[_0x55436c(0x19a)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x4cb42e=_0x51be98;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0xd35f14=document['getElementById'](_0x4cb42e(0x144))[_0x4cb42e(0x19a)],_0x1d197b=[];newItemsExcel[_0x4cb42e(0x256)](_0x31b69a=>{var _0x19a7c3=_0x4cb42e;const _0x49ef44=Boolean(_0x31b69a['setItemId']),_0x1caa84=_0x49ef44?_0x31b69a[_0x19a7c3(0x114)]:generateNumericUniqId();_0x31b69a[_0x19a7c3(0x209)]=[{'setStockInitial':_0x31b69a[_0x19a7c3(0x191)],'setStockMinimum':_0x31b69a[_0x19a7c3(0x177)],'setWarehouseCode':_0xd35f14}],_0x31b69a['setItemUnits']['forEach'](_0x18dbfe=>{var _0x5ea1a4=_0x19a7c3;const _0x3b8ede=Boolean(_0x18dbfe[_0x5ea1a4(0x20e)]),_0x592f7d=_0x3b8ede?_0x18dbfe[_0x5ea1a4(0x20e)]:generateNumericUniqId();_0x18dbfe['setItemUnitId']=_0x592f7d;const _0x356b08=[];_0x356b08[_0x5ea1a4(0x11a)]({'currency':_0x5ea1a4(0x215),'setMtoPrecioCostoUnitario':_0x18dbfe['setCost'],'setMtoPrecioUnitario':_0x18dbfe[_0x5ea1a4(0x140)],'setPriceLists':[]});const _0x56e6eb=_0x18dbfe[_0x5ea1a4(0x1ab)]!=null&&_0x18dbfe[_0x5ea1a4(0x139)]!=null&&(!isNaN(_0x18dbfe['setCostUSD'])||!isNaN(_0x18dbfe['setPriceUSD']));_0x56e6eb&&_0x356b08[_0x5ea1a4(0x11a)]({'currency':_0x5ea1a4(0x21c),'setMtoPrecioCostoUnitario':_0x18dbfe[_0x5ea1a4(0x1ab)],'setMtoPrecioUnitario':_0x18dbfe[_0x5ea1a4(0x139)],'setPriceLists':[]});const _0x5d4fe7={'id':_0x592f7d,'setIdProducto':_0x1caa84,'setItemBarCode':_0x18dbfe['setItemBarCode'],'setCodProducto':_0x31b69a[_0x5ea1a4(0x1b8)],'setDescripcion':_0x31b69a['setItemName'],'setItemDescription':_0x31b69a[_0x5ea1a4(0x245)],'setBatchExpirationDate':_0x31b69a[_0x5ea1a4(0x186)],'setBatchName':_0x31b69a[_0x5ea1a4(0x135)],'setItemIsSold':_0x31b69a[_0x5ea1a4(0x1cd)],'setItemIsBought':_0x31b69a[_0x5ea1a4(0x1c5)],'setCategoria':_0x31b69a[_0x5ea1a4(0x112)][0x0]||'','setMarca':_0x31b69a[_0x5ea1a4(0x187)][0x0]||'','setConversionFactor':parseFloat(_0x18dbfe[_0x5ea1a4(0x1ea)]),'setImages':[],'setImg':_0x5ea1a4(0x21a),'setInventariable':_0x31b69a[_0x5ea1a4(0x149)],'setPorcentajeIgv':_0x31b69a['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x31b69a[_0x5ea1a4(0x1a5)],'setTipAfeIgv':_0x31b69a[_0x5ea1a4(0x131)],'setUnidad':_0x18dbfe[_0x5ea1a4(0x181)],'setUnidadCodigo':_0x18dbfe['setUnitCode'],'setItemUnitAlias':_0x18dbfe[_0x5ea1a4(0x1f0)],'setItemCommissionPercentage':_0x18dbfe['setItemCommissionPercentage'],'currency_data':_0x356b08,'sucursales':_0x31b69a[_0x5ea1a4(0x209)][_0x5ea1a4(0x23f)](_0x3046a2=>({'setIdSucursal':_0x3046a2['setWarehouseCode'],'setSucursalStock':_0x3046a2[_0x5ea1a4(0x191)][_0x5ea1a4(0x13b)](),'setWarehouseStockMin':_0x3046a2['setStockMinimum']['toString']()})),'setItemFree':_0x31b69a[_0x5ea1a4(0x125)],'setItemBrands':_0x31b69a[_0x5ea1a4(0x187)][_0x5ea1a4(0x165)](),'setItemCategories':_0x31b69a[_0x5ea1a4(0x112)][_0x5ea1a4(0x165)](),'setItemComponents':_0x31b69a[_0x5ea1a4(0x121)][_0x5ea1a4(0x23f)](_0x30cf29=>({..._0x30cf29})),'setItemImages':_0x31b69a[_0x5ea1a4(0x133)][_0x5ea1a4(0x165)](),'setItemVariantName':_0x31b69a[_0x5ea1a4(0x235)],'setItemVariantValues':{..._0x31b69a[_0x5ea1a4(0x1e2)]}},_0xa72103=products[_0x5ea1a4(0x206)](_0x5e817d=>_0x5e817d['id']==_0x592f7d&&_0x5e817d[_0x5ea1a4(0x162)]==_0x1caa84);_0xa72103>-0x1?Object[_0x5ea1a4(0x12a)](products[_0xa72103],_0x5d4fe7):_0x1d197b[_0x5ea1a4(0x11a)](_0x5d4fe7);});}),console[_0x4cb42e(0x12d)](_0x4cb42e(0x1ce),newItemsExcel),await finalizeImport(_0x1d197b,newItemsExcel,!![]);});function initializeFormImages(){var _0x575c51=_0x51be98;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x575c51(0x176)]='',baseItem[_0x575c51(0x133)]=[];for(var _0x221a49=0x0;_0x221a49<MAX_IMAGES;_0x221a49++){(function(_0x405de5){var _0xa26554=_0x575c51,_0x183f7b=document[_0xa26554(0x234)](_0xa26554(0x227));_0x183f7b[_0xa26554(0x14d)]=_0xa26554(0x208),_0x183f7b[_0xa26554(0x1ff)][_0xa26554(0x1b9)]=_0x405de5;var _0x53c085=document[_0xa26554(0x234)]('input');_0x53c085[_0xa26554(0x20f)]=_0xa26554(0x11e),_0x53c085[_0xa26554(0x13d)]=_0xa26554(0x19f),_0x53c085[_0xa26554(0x24b)][_0xa26554(0x1d7)]='none';var _0x17f0a2=document[_0xa26554(0x234)](_0xa26554(0x217));_0x17f0a2[_0xa26554(0x15a)]='+',_0x183f7b[_0xa26554(0x1d5)](_0x53c085),_0x183f7b['appendChild'](_0x17f0a2),imgC[_0xa26554(0x1d5)](_0x183f7b),_0x183f7b[_0xa26554(0x1bc)](_0xa26554(0x244),function(){_0x53c085['click']();}),_0x53c085[_0xa26554(0x1bc)]('change',function(_0x389050){var _0x685d64=_0xa26554,_0x2cc53c=_0x389050[_0x685d64(0x1f5)][_0x685d64(0x14e)][0x0];if(!_0x2cc53c)return removeImg(_0x405de5);var _0x3bf52e=new FileReader();_0x3bf52e[_0x685d64(0x18b)]=function(_0x4438da){var _0x3bdbdb=_0x685d64;_0x183f7b[_0x3bdbdb(0x176)]=_0x3bdbdb(0x238)+_0x4438da[_0x3bdbdb(0x1f5)][_0x3bdbdb(0x152)]+'\x22>';var _0x1f4ac9=document[_0x3bdbdb(0x234)](_0x3bdbdb(0x217));_0x1f4ac9[_0x3bdbdb(0x14d)]=_0x3bdbdb(0x161),_0x1f4ac9[_0x3bdbdb(0x15a)]='×',_0x1f4ac9[_0x3bdbdb(0x1bc)]('click',function(_0x24b1d2){var _0x2540da=_0x3bdbdb;_0x24b1d2[_0x2540da(0x15c)](),removeImg(_0x405de5);}),_0x183f7b[_0x3bdbdb(0x1d5)](_0x1f4ac9),currentImages[_0x405de5]=_0x2cc53c,baseItem['setItemImages']=currentImages[_0x3bdbdb(0x240)](function(_0x52d0a1){return _0x52d0a1;});},_0x3bf52e[_0x685d64(0x12b)](_0x2cc53c);});}(_0x221a49));}}function initializeFormIsSoldIsBought(_0x5d9a6d=0x0){var _0xc7c5b=_0x51be98;let _0x15065d,_0x5d52f4;if(_0x5d9a6d!=0x0){const _0x31dc2b=products[_0xc7c5b(0x1ca)](_0x3a9ddc=>_0x3a9ddc['id']==_0x5d9a6d);_0x15065d=_0x31dc2b[_0xc7c5b(0x1c5)]==0x1||_0x31dc2b[_0xc7c5b(0x1c5)]==!![]?!![]:![],_0x5d52f4=_0x31dc2b['setItemIsSold']==0x1||_0x31dc2b['setItemIsSold']==!![]?!![]:![];}else _0x15065d=!![],_0x5d52f4=!![];document['getElementById'](_0xc7c5b(0x1f8))[_0xc7c5b(0x123)]=_0x15065d,document['getElementById'](_0xc7c5b(0x1dd))[_0xc7c5b(0x123)]=_0x5d52f4,baseItem['setItemIsBought']=_0x15065d,baseItem[_0xc7c5b(0x1cd)]=_0x5d52f4;}function initializeFormInputsBasic(_0x3b3aaf=0x0){var _0x37ebc8=_0x51be98;let _0x2ab832,_0x412543,_0x5409e2,_0x39422c,_0x550ff8,_0x3bfa2a;if(_0x3b3aaf!=0x0){const _0x45fb76=products[_0x37ebc8(0x1ca)](_0x1a0f19=>_0x1a0f19['id']==_0x3b3aaf);_0x2ab832=_0x45fb76[_0x37ebc8(0x119)]??'1',_0x412543=_0x45fb76[_0x37ebc8(0x20b)],_0x5409e2=_0x45fb76['setDescripcion'],_0x39422c=_0x45fb76[_0x37ebc8(0x245)],_0x550ff8=_0x45fb76[_0x37ebc8(0x17e)]??'',_0x3bfa2a=_0x45fb76[_0x37ebc8(0x24a)];}else _0x2ab832='1',_0x412543=getNextCode(products),_0x5409e2='',_0x39422c='',_0x550ff8='',_0x3bfa2a='';document[_0x37ebc8(0x17d)]('inputItemType')[_0x37ebc8(0x19a)]=_0x2ab832,document[_0x37ebc8(0x17d)](_0x37ebc8(0x1fc))['value']=_0x412543,document[_0x37ebc8(0x17d)](_0x37ebc8(0x20d))[_0x37ebc8(0x19a)]=_0x5409e2,document[_0x37ebc8(0x17d)]('inputItemDescription')[_0x37ebc8(0x19a)]=_0x39422c,document['getElementById']('inputItemDateExpiry')[_0x37ebc8(0x19a)]=_0x550ff8,document['getElementById'](_0x37ebc8(0x12f))[_0x37ebc8(0x19a)]=_0x3bfa2a,baseItem[_0x37ebc8(0x119)]=_0x2ab832,baseItem['setItemCode']=_0x412543,baseItem['setItemName']=_0x5409e2,baseItem['setItemDescription']=_0x39422c,baseItem['setItemDateExpiry']=_0x550ff8,baseItem[_0x37ebc8(0x24a)]=_0x3bfa2a,document[_0x37ebc8(0x17d)](_0x37ebc8(0x15e))[_0x37ebc8(0x123)]=![];}function initializeFormTax(_0x5c329d=0x0){var _0x86dc8c=_0x51be98;let _0x49cd72;if(_0x5c329d!=0x0){const _0x513449=products[_0x86dc8c(0x1ca)](_0x4a0d10=>_0x4a0d10['id']==_0x5c329d);_0x49cd72=_0x513449[_0x86dc8c(0x115)];}else _0x49cd72=myCompany[_0x86dc8c(0x1af)];const _0x151530=document[_0x86dc8c(0x17d)](_0x86dc8c(0x15d));_0x151530[_0x86dc8c(0x19a)]=_0x49cd72,baseItem[_0x86dc8c(0x1a5)]=_0x49cd72;const _0x48ec57=company[0x0][_0x86dc8c(0x1fd)][_0x86dc8c(0x1ca)](_0x441109=>_0x441109[_0x86dc8c(0x115)]==_0x49cd72)?.[_0x86dc8c(0x175)]||0x0,_0x5953cd=company[0x0][_0x86dc8c(0x1fd)][_0x86dc8c(0x1ca)](_0x319273=>_0x319273[_0x86dc8c(0x115)]==_0x49cd72)?.[_0x86dc8c(0x159)]||0x0;baseItem[_0x86dc8c(0x131)]=_0x48ec57,baseItem[_0x86dc8c(0x169)]=_0x5953cd;}function initializeFormCategoriesBrands(_0x47a042=0x0){var _0x989daa=_0x51be98;baseItem[_0x989daa(0x112)]=[],baseItem[_0x989daa(0x187)]=[],document[_0x989daa(0x13a)](_0x989daa(0x193))[_0x989daa(0x176)]='',document['querySelector'](_0x989daa(0x1ef))[_0x989daa(0x176)]='',document[_0x989daa(0x13a)](_0x989daa(0x24e))[_0x989daa(0x176)]='',document[_0x989daa(0x13a)](_0x989daa(0x218))[_0x989daa(0x176)]='';const _0x15cec1=myCompany[_0x989daa(0x112)][_0x989daa(0x23f)](_0x25a82a=>({'setCode':_0x25a82a['setItemCategoryName'],'setName':_0x25a82a[_0x989daa(0x24c)]})),_0x5f48dc=myCompany[_0x989daa(0x187)][_0x989daa(0x23f)](_0x4919eb=>({'setCode':_0x4919eb[_0x989daa(0x13f)],'setName':_0x4919eb[_0x989daa(0x13f)]}));initMulti(_0x989daa(0x170),_0x15cec1),initMulti(_0x989daa(0x232),_0x5f48dc),document[_0x989daa(0x17d)](_0x989daa(0x170))[_0x989daa(0x1bc)](_0x989daa(0x18a),function(_0xa20b9a){var _0x21c1e9=_0x989daa;baseItem[_0x21c1e9(0x112)]=_0xa20b9a[_0x21c1e9(0x11b)][_0x21c1e9(0x23f)](_0x3bc72d=>_0x3bc72d[_0x21c1e9(0x1c3)]);}),document[_0x989daa(0x17d)]('newItem_brands_select')[_0x989daa(0x1bc)]('selectionChange',function(_0x20746b){var _0x2c1c42=_0x989daa;baseItem[_0x2c1c42(0x187)]=_0x20746b[_0x2c1c42(0x11b)][_0x2c1c42(0x23f)](_0x4dd1b4=>_0x4dd1b4[_0x2c1c42(0x1c3)]);});if(_0x47a042!=0x0){const _0x1deadb=products['find'](_0x4af76f=>_0x4af76f['id']==_0x47a042);if(_0x1deadb[_0x989daa(0x16c)]){const _0x16e246=document[_0x989daa(0x17d)]('newItem_categories_select'),_0x5a08e4=Array[_0x989daa(0x211)](_0x16e246[_0x989daa(0x1de)]('.options_list\x20div'))[_0x989daa(0x1ca)](_0x2fa639=>_0x2fa639['dataset']['code']==_0x1deadb[_0x989daa(0x16c)]);_0x5a08e4&&_0x5a08e4[_0x989daa(0x244)]();}if(_0x1deadb[_0x989daa(0x10d)]){const _0x51c785=document[_0x989daa(0x17d)]('newItem_brands_select'),_0x1b4387=Array[_0x989daa(0x211)](_0x51c785[_0x989daa(0x1de)](_0x989daa(0x12e)))[_0x989daa(0x1ca)](_0x1f16f8=>_0x1f16f8[_0x989daa(0x1ff)]['code']==_0x1deadb[_0x989daa(0x10d)]);_0x1b4387&&_0x1b4387[_0x989daa(0x244)]();}}}function initializeFormUnits(){var _0x44f0d6=_0x51be98;unitCount=0x0,document[_0x44f0d6(0x17d)](_0x44f0d6(0x117))[_0x44f0d6(0x176)]='',baseItem[_0x44f0d6(0x195)]=[];var _0x2a3d10=uniqueValuesArray(_0x44f0d6(0x181),_0x44f0d6(0x18d),myCompany[_0x44f0d6(0x18c)]);addUnit('',_0x2a3d10[0x3a]&&_0x2a3d10[0x3a][_0x44f0d6(0x1c3)],0x1,!![]),updateUnitsArray();}function _0x2453(_0x1abfc2,_0x59c98f){var _0x2c454d=_0x412b();return _0x2453=function(_0x30c97e,_0x3c45d5){_0x30c97e=_0x30c97e-0x10d;var _0x2e50bb=_0x2c454d[_0x30c97e];return _0x2e50bb;},_0x2453(_0x1abfc2,_0x59c98f);}function initializeFormComponents(){var _0x4826c3=_0x51be98;prodC[_0x4826c3(0x176)]='',baseItem[_0x4826c3(0x121)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x7892ea=_0x51be98;branchesC[_0x7892ea(0x176)]='',baseItem[_0x7892ea(0x209)]=[];const _0x5b922b=getAllWarehouses();_0x5b922b[_0x7892ea(0x256)](function(_0x55969a){var _0x2e171f=_0x7892ea,_0x4f3b7e=document[_0x2e171f(0x234)](_0x2e171f(0x227));_0x4f3b7e[_0x2e171f(0x176)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+_0x2e171f(0x118)+_0x55969a[_0x2e171f(0x144)]+_0x2e171f(0x1fb)+_0x55969a['setWarehouseName']+_0x2e171f(0x1a1)+'</div>'+_0x2e171f(0x250)+_0x2e171f(0x179)+_0x55969a[_0x2e171f(0x144)]+'\x22>'+_0x2e171f(0x228)+_0x2e171f(0x250)+_0x2e171f(0x21b)+_0x55969a[_0x2e171f(0x144)]+'\x22>'+'</div>'+_0x2e171f(0x228),branchesC['appendChild'](_0x4f3b7e),_0x4f3b7e[_0x2e171f(0x1de)](_0x2e171f(0x127))[_0x2e171f(0x256)](function(_0x1d002c){var _0x2e68e6=_0x2e171f;_0x1d002c[_0x2e68e6(0x1bc)](_0x2e68e6(0x127),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0xc52972=_0x51be98;baseItem[_0xc52972(0x235)]='',baseItem[_0xc52972(0x1e2)]={},vgC[_0xc52972(0x176)]='',varContainer[_0xc52972(0x176)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x5a3d33,_0x256173,_0xfc4e33=![]){var _0x5d12fb=_0x51be98;const _0x4cbf89=0xc8,_0x17b82a={'apiPOSsendOffline':'1','setTipoOperacion':_0x5d12fb(0x124),'setToken':company[0x0][_0x5d12fb(0x1d0)],'setWebhook':company[0x0]['setWebhook']};for(let _0x491375=0x0;_0x491375<_0x256173['length'];_0x491375+=_0x4cbf89){const _0x253b2b=_0x256173[_0x5d12fb(0x165)](_0x491375,_0x491375+_0x4cbf89);await storeOfflineProduct({..._0x17b82a,'newItems':_0x253b2b});}products[_0x5d12fb(0x11a)](..._0x5a3d33),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0xfc4e33?(fileInput[_0x5d12fb(0x19a)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0x5d12fb(0x24b)][_0x5d12fb(0x1d7)]=_0x5d12fb(0x253),progressBar[_0x5d12fb(0x19a)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}