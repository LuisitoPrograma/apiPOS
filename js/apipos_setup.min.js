/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.5
*/

const _0x1b3f46=_0x48ba;(function(_0x24d4c8,_0x34aafa){const _0x43a29b=_0x48ba,_0x304372=_0x24d4c8();while(!![]){try{const _0x3ea21b=parseInt(_0x43a29b(0x138))/0x1+parseInt(_0x43a29b(0x193))/0x2*(-parseInt(_0x43a29b(0x14e))/0x3)+-parseInt(_0x43a29b(0xd8))/0x4+parseInt(_0x43a29b(0x103))/0x5+-parseInt(_0x43a29b(0x1cd))/0x6+-parseInt(_0x43a29b(0x253))/0x7*(-parseInt(_0x43a29b(0xd3))/0x8)+-parseInt(_0x43a29b(0x14b))/0x9*(-parseInt(_0x43a29b(0x1f5))/0xa);if(_0x3ea21b===_0x34aafa)break;else _0x304372['push'](_0x304372['shift']());}catch(_0xc03017){_0x304372['push'](_0x304372['shift']());}}}(_0x90b3,0x8a1f8));const _0x1acec4=(function(){let _0x3d0bf1=!![];return function(_0x1ebab1,_0x1795ce){const _0x3a7361=_0x3d0bf1?function(){const _0x25689c=_0x48ba;if(_0x1795ce){const _0x3c061d=_0x1795ce[_0x25689c(0x82)](_0x1ebab1,arguments);return _0x1795ce=null,_0x3c061d;}}:function(){};return _0x3d0bf1=![],_0x3a7361;};}()),_0x1dea23=_0x1acec4(this,function(){const _0xcc5e93=_0x48ba;return _0x1dea23[_0xcc5e93(0x235)]()[_0xcc5e93(0x220)](_0xcc5e93(0x182))[_0xcc5e93(0x235)]()[_0xcc5e93(0xc7)](_0x1dea23)['search'](_0xcc5e93(0x182));});_0x1dea23();const _0x1f77b3=(function(){let _0x41f750=!![];return function(_0x45d73c,_0x10c6fa){const _0x2f7b9f=_0x41f750?function(){const _0xa7d2a6=_0x48ba;if(_0x10c6fa){const _0x1cc8f3=_0x10c6fa[_0xa7d2a6(0x82)](_0x45d73c,arguments);return _0x10c6fa=null,_0x1cc8f3;}}:function(){};return _0x41f750=![],_0x2f7b9f;};}()),_0x38c865=_0x1f77b3(this,function(){const _0x5c2538=_0x48ba;let _0x3f220b;try{const _0x2d8efd=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3f220b=_0x2d8efd();}catch(_0x38af1b){_0x3f220b=window;}const _0x11e73c=_0x3f220b[_0x5c2538(0x206)]=_0x3f220b[_0x5c2538(0x206)]||{},_0x15de00=[_0x5c2538(0xf6),_0x5c2538(0xbe),_0x5c2538(0x160),'error',_0x5c2538(0xd9),_0x5c2538(0x116),'trace'];for(let _0xa80c36=0x0;_0xa80c36<_0x15de00[_0x5c2538(0x217)];_0xa80c36++){const _0x215574=_0x1f77b3[_0x5c2538(0xc7)][_0x5c2538(0x1c6)][_0x5c2538(0x1b1)](_0x1f77b3),_0x78c0a9=_0x15de00[_0xa80c36],_0x18ad02=_0x11e73c[_0x78c0a9]||_0x215574;_0x215574['__proto__']=_0x1f77b3[_0x5c2538(0x1b1)](_0x1f77b3),_0x215574[_0x5c2538(0x235)]=_0x18ad02[_0x5c2538(0x235)][_0x5c2538(0x1b1)](_0x18ad02),_0x11e73c[_0x78c0a9]=_0x215574;}});_0x38c865();let myCompany,db=null,dbPromise=null,db_name=_0x1b3f46(0x263),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero','febrero',_0x1b3f46(0x24f),_0x1b3f46(0x147),_0x1b3f46(0x24c),_0x1b3f46(0x7f),_0x1b3f46(0x17c),'agosto',_0x1b3f46(0x270),_0x1b3f46(0x185),_0x1b3f46(0x197),_0x1b3f46(0x1fb)],gdfg5g=_0x1b3f46(0x202),x45fgd='x3',xjehd78='xpos',cxkdj4=_0x1b3f46(0x6a),x87s8d=_0x1b3f46(0x229),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x1b3f46(0x189),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x1b3f46(0xba),xg123f=_0x1b3f46(0x64),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x1b3f46(0x11a),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x1b3f46(0x25d),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89='port',mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54=_0x1b3f46(0x17e),x64x32x33=_0x1b3f46(0xc5),kkx12='s',ak47r='rgf4x32',d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x1b3f46(0xd4),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x1b3f46(0x227),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10','S01',_0x1b3f46(0x110),_0x1b3f46(0x152),_0x1b3f46(0x1ba),'ar21',_0x1b3f46(0x249),_0x1b3f46(0x20a),'co19','co5',_0x1b3f46(0x1df),'uy10'],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos['concat'](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20','E01',_0x1b3f46(0x272),'AR0',_0x1b3f46(0x216),_0x1b3f46(0x257),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x1b3f46(0x13b)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders['concat'](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x2c7a20){const _0x4e331c=_0x1b3f46;await apiERPgetWindows();const _0x4490cf=document['getElementById'](_0x4e331c(0x15c));if(_0x4490cf[_0x4e331c(0x12b)][_0x4e331c(0x26a)]('active')){const _0x242caf=document['getElementById'](_0x4e331c(0x23d))[_0x4e331c(0xd2)],_0x2be6cd=document['getElementById'](_0x4e331c(0x1c7))[_0x4e331c(0xd2)];cargarVentanas(_0x2be6cd,_0x242caf),createTabsEnvironments();}if(Array[_0x4e331c(0xa5)](_0x2c7a20))for(const _0x42405b of _0x2c7a20){try{await setOrders(_0x42405b);}catch(_0x501f64){console[_0x4e331c(0xa4)](_0x4e331c(0x10a)+_0x42405b+':',_0x501f64);}}else console['warn']('No\x20es\x20un\x20array\x20valido:',_0x2c7a20);}let socket;function conectarWebSocket(){const _0x49f98a=_0x1b3f46;if(socket&&socket[_0x49f98a(0x83)]!==WebSocket[_0x49f98a(0x1e1)]){console['log'](_0x49f98a(0x128));return;}const _0xbb52b5=myCompany['setAuthToken'];if(!_0xbb52b5){console[_0x49f98a(0xa4)](_0x49f98a(0x15b));return;}const _0x7fbf75=location[_0x49f98a(0x23e)]==='https:'?_0x49f98a(0x1e0):'ws',_0x351d80=_0x7fbf75+_0x49f98a(0x9d)+encodeURIComponent(_0xbb52b5);socket=new WebSocket(_0x351d80),socket[_0x49f98a(0xbf)]('open',()=>{const _0x310ecd=_0x49f98a;console[_0x310ecd(0xf6)](_0x310ecd(0xee));}),socket[_0x49f98a(0xbf)](_0x49f98a(0x1dc),async _0x34d10d=>{const _0x1d2402=_0x49f98a;try{const _0x429b82=JSON['parse'](_0x34d10d[_0x1d2402(0x1e6)]);if(_0x429b82[_0x1d2402(0x101)]===_0x1d2402(0x10c))console[_0x1d2402(0xf6)]('Evento\x20windowsUpdate\x20recibido.'),await reloadWindowsAndLayout(_0x429b82[_0x1d2402(0x1e6)]),ntfShow(_0x1d2402(0x190),0x1,0x2);else _0x429b82[_0x1d2402(0x101)]===_0x1d2402(0x1cc)?(console[_0x1d2402(0xf6)](_0x1d2402(0x207)),updateLastCorrelativeOnline(_0x429b82[_0x1d2402(0x1e6)][_0x1d2402(0x23c)],_0x429b82[_0x1d2402(0x1e6)]['setOperationSeries'])):console[_0x1d2402(0xf6)](_0x1d2402(0x75),_0x429b82);}catch(_0xa9650f){console[_0x1d2402(0xa4)](_0x1d2402(0xf5),_0xa9650f);}}),socket[_0x49f98a(0xbf)]('close',_0x4918b4=>{const _0x2147f4=_0x49f98a;console[_0x2147f4(0xbe)]('WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...',_0x4918b4[_0x2147f4(0x25a)]),setTimeout(conectarWebSocket,0x3a98);}),socket['addEventListener'](_0x49f98a(0xa4),_0x83ea6f=>{const _0x3ff19c=_0x49f98a;console['error'](_0x3ff19c(0x177),_0x83ea6f);});}function isWebSocketActive(){const _0x569339=_0x1b3f46;return socket&&socket[_0x569339(0x83)]===WebSocket[_0x569339(0x15d)];}function getQueryParam(_0x3168dd){const _0x425878=_0x1b3f46,_0x61148c=new URLSearchParams(window['location'][_0x425878(0x220)]);return _0x61148c['get'](_0x3168dd);}function _0x90b3(){const _0x3adf10=['table','reduce','then','stopPropagation','xtt3','setSeries','\x27\x20creado\x20correctamente.','ambientes','from','setClienteDireccion','setCompanyPhone','setUsers','slice','Formato\x20inesperado\x20en\x20base64','none','includes','position','embedPng','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','requestFullscreen','dispatchEvent','classList','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','hostname','https://apierp.dev/api/company/get/','setCompanyAddress','setMarca','height','ntf-flotante-container-bottom','fullscreen-btn','save','objectStoreNames','header','#container-section-pay-','885248MqEtSQ','INPUT','\x20–\x20','concat','setUserFullName','has','setImages','onupgradeneeded','drawImage','Revisar\x20lote','data:image/svg+xml;base64,','min','setCompanyLogo','setCodProducto','\x0aEl\x20producto\x20\x22','abril','put','setCompanyDoc','fullscreenElement','666nwJHXI','setLayout','display','600477BsECWz','Tab','setImg','mozFullScreenElement','mx16','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setCajeroCodigo','</h3>\x0a','setMoneda-','btn-access-login','alt','offsetWidth','keydown','No\x20hay\x20setAuthToken\x20para\x20WebSocket','detalleModalLayout','OPEN','\x22\x20expiró\x20el\x20','createElement','info','setBranchName','\x22\x20para\x20registro\x20#','key','setWindowId','div','setItemDescription','version','SW\x20New\x20Version','setCollaborators','setCustomers','Error\x20al\x20procesar\x20operaciones\x20offline:','active','pdfBlob','setDescuentoGlobal_Monto','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','close','set','\x20operaciones\x20restantes...','setWindowName','checkout-btn-','location','.carousel-track','Error\x20en\x20WebSocket','Error\x20','company','setMessage','setDescripcion','julio','setFloorName','33x54xsystem','setItemVariantValues','itemModal','ntf-flotante-green','(((.+)+)+)+$','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','setAttachEdit','octubre','Sincronización\x20completada\x20correctamente.','querySelectorAll','windowId','32system','Tab\x20count\x20inicializado\x20en:\x20','Base\x20de\x20datos\x20abierta\x20correctamente.','img','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','setShifts','Helvetica','✔️\x20¡Sincronizado!','values','Credenciales\x20no\x20encontradas','10uFXFww','\x0a<h3\x20class=\x22infoItem-title\x22>','readonly','setInventariable','noviembre','split','username','Agregar\x20Variantes','setCredentialsApiWAChatIdDefault','scale','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','topbar','Item','currency','newItems','status','.select-button-pais-flag','filename','pos','Generando\x20','msRequestFullscreen','getContext','<br>\x0aStock\x20Actual:\x20','Arrays\x20actualizados\x20para\x20windowId\x20','setCurrencyDefault','loadingModal','readAsDataURL','readwrite','transition','finally','bind','cloneNode','./img/product.png','setUser_Local','flex','mozCancelFullScreen','option','setObservacion','embedJpg','mx08','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','open','Generar\x20Orden\x20de\x20Compra','POST','100%','layoutState','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','onerror','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','disabled','find','prototype','setBranchId','focus','window_options_','No\x20hay\x20operaciones\x20para\x20sincronizar.','querySelector','updateLastCorrelative','1529532LVtxjZ','objectStore','resolve','some','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','Error\x20in\x20saving\x20to\x20store\x20','setCodeBarTypeName','Error\x20al\x20guardar\x20el\x20layout:\x20','ntf-flotante-container-top','ntf-notif-count','tabs-notifications','setPriceLists','\x20-\x20','ntf-flotante-message\x20','/send','message','setImpuestos','setTipAfeIgv','uy22','wss','CLOSED','setSerie','setSucursalStock','setUserName','code','data','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','trim','Procesamiento\x20de\x20datos\x20exitoso\x20...','getMonth','stringify','setItem','keys','d-none','createElementNS','onsuccess','setMtoPrecioCostoUnitario','setMtoPrecioUnitario','catch','resize','46210PaIgnQ','embedFont','ntf-notification-dropdown','filter','animationend','beforeend','diciembre','offline_operations','ntf-flotante-orange','Nombre\x20de\x20store\x20no\x20válido:\x20','No\x20hay\x20notificaciones','setCartTmpInitial','target','f34f','parse','getDate','password','console','Evento\x20updateLastCorrelative\x20recibido.','data-ntf-index','Products\x20Empty.','cl19','\x20de\x20','select','setItemId','installed','push','Error\x20al\x20enviar\x20operación\x20offline:','getItem','setUnidad','detalleModalPay','setHours','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','CL0','length','state','currency_data','setDespacho','opacity','setTipoOperacion','.<br>','apiPOSsendOffline','tagName','search','application/json;\x20charset=utf-8','https://apierp.dev/api/apiPOS/get/','CODE128','startsWith','day','.dropdown-list-pais-flag','lbtom','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','x32','mimetype','appendChild','Todos\x20los\x20campos\x20son\x20obligatorios.','User\x20no\x20Logged!','msExitFullscreen','setSuppliers','shiftKey','documentElement','Products\x20Load.','removeItem','payment-option','toString','fill','TEXTAREA','className','Stock\x20Actual:\x20','left','random','setOperationType','setFloorId','protocol','setCorrelativo','setItemBarCode','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','setTaxId','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','offsetHeight','src','ObjectStore\x20\x27','setSellerName','setPrinters','ar10.5','Error\x20Network.','setEmpresaDomainWork','mayo','getElementById','innerHTML','marzo','reject','Sincronizando\x20','setUserEmail','182kRipQG','createIndex','widthOfTextAtSize','Imagen\x20inválida\x20en\x20newItems[','CO0','sucursales','Error\x20en\x20la\x20solicitud:','reason','setUsuarios','setCredentialsApiWAChatId','64system','center','Error\x20guardando\x20operación:\x20','toDataURL','addPage','setTipoOperacionInvoice','apiERP','map','Backspace','Enter','setAuthToken','counter','exitFullscreen','contains','setBankAccounts','Ver\x20movimientos','clear','Stock\x20mínimo:\x20','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','septiembre','click','MX20','setCartTmp','setImageUrl','setBatchName','45x','toggle','body','\x20no\x20encontrado\x20en\x20products.','setImpuestoValue','setMtoValorCostoUnitario','x64','setItemIsBought','alignItems','setUnidadCodigo','transaction','sectionInfoItem','Error:\x20','setIdProducto','setWarehouseId','Plan\x20Impulsa','textContent','Mensaje\x20WS\x20no\x20reconocido:','id_registro','deleteObjectStore','.modal-close-carousel','https://apierp.dev/api/email/send/','append','success','.dropdown-item-pais-flag','products','navigator','junio','replaceWith','setCodeBarTypeId','apply','readyState','statusText','setWarehouseStockMin','Error:\x20No\x20hay\x20ventanas\x20disponibles.','drawText','setCredentialsApiWAChatPort','invoice','documento.pdf','https://apierp.dev/api/apiPOS/update/','\x27\x20eliminada.','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','lastTs','toFixed','number','ntf-flotante-bottom','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.2.5\x20...</span>','setClienteNumDoc','ntf-flotante-top','login','cartId','rgba(0,\x200,\x200,\x200.5)','Producto\x20con\x20id\x20','__test_ls__','setBranchDefault','closest','setWarehouseName','://wss.apierp.dev/ws?token=','ntfIndex','usuario','forEach','sort','setItemType','setCompanyName','error','isArray','Producto\x20vencido:\x20','setAttribute','onLine','setItemUnitAlias','activeElement',']\x20–\x20se\x20omite.','Acción\x20\x22','No\x20se\x20pudo\x20eliminar\x20operación\x20procesada:\x20','block','width','onloadend','setPlanName','charCodeAt','style','setCredentialsApiWAChat','button','btn-details-ntf-variant','now','onstatechange','Error:\x20Domain\x20not\x20registered.','x63s','Registrar\x20movimiento','setWebhook','title','warn','addEventListener','\x20...','setProductos','Error\x20desconocido.','ntf-flotante-container','Error\x20desconocido\x20al\x20actualizar\x20Data.','64x32xsystem','zIndex','constructor','installing','every','add','get','name','dataset','transform','svg','setBatchExpirationDate','setCustomerEmail','value','49048SiktoG','pcrcl','.carousel-next','setItemImages','mozRequestFullScreen','1021116BeblUd','exception','create','getAll','result','change','producto','setWindows','newItems[','setSellerId','setUserNombres','size','.carousel-prev','canvas','webkitRequestFullscreen','indexOf','infoLoadingModal','Sincronizando\x20...','setConversionFactor','createObjectURL','controllerchange','msFullscreenElement','WebSocket\x20conectado.','oncomplete','setWarehouses','https://','pop','json','createObjectStore','Error\x20procesando\x20mensaje\x20WS','log','setCompanyNameTrade','setId','preventDefault','application/pdf','setBranches','</h3><p>','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','serviceWorker','application/json','onupdatefound','type','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','3450700PJKpQq','setCompanyEmail','ntf-notifications-list','input,\x20select,\x20button,\x20a:not(.payment-option)','Error\x20al\x20obtener\x20las\x20operaciones:\x20','hidden','caption','Error\x20en\x20setOrders\x20para\x20windowId=','delete','windowsUpdate','selectedCode','reload','Imprimir\x20Código\x20de\x20Barras','S02','remove','setItemIsSold','webkitExitFullscreen','setCredentialsApiWAChatAlias','Error\x20al\x20actualizar\x20data\x20online:'];_0x90b3=function(){return _0x3adf10;};return _0x90b3();}function setUserNameGet(){const _0x4da45d=_0x1b3f46,_0x3750a1=getQueryParam(_0x4da45d(0x199)),_0x5d2fb3=document['getElementById'](_0x4da45d(0x9f));_0x3750a1&&_0x5d2fb3&&(_0x5d2fb3[_0x4da45d(0xd2)]=_0x3750a1);}function generateUniqId(){const _0x576ff5=_0x1b3f46;return Date[_0x576ff5(0xb7)]()+'_'+Math[_0x576ff5(0x23b)]()[_0x576ff5(0x235)](0x24)['substr'](0x2,0x9);}var hasLocalStorage=(function(){const _0x4928d1=_0x1b3f46;try{var _0x4f5287=_0x4928d1(0x99);return localStorage[_0x4928d1(0x1ec)](_0x4f5287,_0x4f5287),localStorage[_0x4928d1(0x233)](_0x4f5287),!![];}catch(_0x2ef12b){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x29e6aa=_0x1b3f46;if(!hasLocalStorage){var _0x2f70d6=Date['now']();return _0x2f70d6===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x2f70d6,counter_mem=0x0),_0x2f70d6*0x3e8+counter_mem;}var _0x19ef1b='uniqIdState',_0x4d4de0;try{var _0x4aa667=localStorage[_0x29e6aa(0x211)](_0x19ef1b);_0x4d4de0=_0x4aa667?JSON[_0x29e6aa(0x203)](_0x4aa667):{'lastTs':0x0,'counter':0x0},(typeof _0x4d4de0[_0x29e6aa(0x8e)]!==_0x29e6aa(0x90)||typeof _0x4d4de0[_0x29e6aa(0x268)]!==_0x29e6aa(0x90))&&(_0x4d4de0={'lastTs':0x0,'counter':0x0});}catch(_0x100161){_0x4d4de0={'lastTs':0x0,'counter':0x0};}var _0x20a164=Date[_0x29e6aa(0xb7)]();_0x20a164===_0x4d4de0[_0x29e6aa(0x8e)]?_0x4d4de0[_0x29e6aa(0x268)]=(_0x4d4de0['counter']+0x1)%0x3e8:(_0x4d4de0[_0x29e6aa(0x8e)]=_0x20a164,_0x4d4de0[_0x29e6aa(0x268)]=0x0);var _0x54bf72=_0x20a164*0x3e8+_0x4d4de0[_0x29e6aa(0x268)];try{localStorage[_0x29e6aa(0x1ec)](_0x19ef1b,JSON['stringify'](_0x4d4de0));}catch(_0x54fdd5){}return _0x54bf72;}function blobAStringBase64(_0xb8d722){return new Promise((_0x2ddd44,_0x4c505c)=>{const _0x38e2d9=_0x48ba,_0x517cb0=new FileReader();_0x517cb0[_0x38e2d9(0xb0)]=()=>{const _0x221021=_0x38e2d9,_0x1fc26a=_0x517cb0[_0x221021(0xdc)],_0x5e2125=_0x1fc26a['split'](',');if(_0x5e2125[_0x221021(0x217)]!==0x2)return _0x4c505c(new Error(_0x221021(0x123)));_0x2ddd44(_0x5e2125[0x1]);},_0x517cb0[_0x38e2d9(0x1c2)]=_0x16158e=>_0x4c505c(_0x16158e),_0x517cb0[_0x38e2d9(0x1ad)](_0xb8d722);});}async function generarBarcodeDataURL(_0x1518e3,_0x569211){return new Promise((_0x30e478,_0x26730b)=>{const _0x4fa571=_0x48ba,_0x2ee287=myCompany['setCodeBarTypes']['find'](_0x4252c2=>_0x4252c2[_0x4fa571(0x81)]==_0x1518e3),_0x55a842=_0x2ee287?_0x2ee287[_0x4fa571(0x1d3)]:_0x4fa571(0x223),_0xfc969=document[_0x4fa571(0x1ef)]('http://www.w3.org/2000/svg',_0x4fa571(0xcf));JsBarcode(_0xfc969,_0x569211,{'format':_0x55a842,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x2fe141=new XMLSerializer()['serializeToString'](_0xfc969),_0x2db81b=btoa(_0x2fe141),_0x53adda=_0x4fa571(0x142)+_0x2db81b,_0x361dec=new Image();_0x361dec['onload']=()=>{const _0x2bf339=_0x4fa571,_0x5326f3=document['createElement'](_0x2bf339(0xe5));_0x5326f3[_0x2bf339(0xaf)]=_0x361dec[_0x2bf339(0xaf)],_0x5326f3['height']=_0x361dec[_0x2bf339(0x131)];const _0x41ff1d=_0x5326f3[_0x2bf339(0x1a8)]('2d');_0x41ff1d[_0x2bf339(0x140)](_0x361dec,0x0,0x0);const _0x116b7d=_0x5326f3[_0x2bf339(0x260)]('image/png');_0x30e478(_0x116b7d);},_0x361dec['onerror']=_0x384923=>_0x26730b(_0x384923),_0x361dec[_0x4fa571(0x245)]=_0x53adda;});}async function generarStickersPDF(_0x4233ff,_0x5947de,_0x56c88b){const _0x411aff=_0x1b3f46,{PDFDocument:_0x309f1c,StandardFonts:_0xba31a8,rgb:_0x35a8d3}=PDFLib,_0x310a49=products[_0x411aff(0x1c5)](_0x5c8568=>_0x5c8568['id']==_0x56c88b);if(!_0x310a49){console['error'](_0x411aff(0x98)+_0x56c88b+_0x411aff(0x67));return;}const _0x45c26c=_0x310a49[_0x411aff(0x17b)]['trim'](),_0x137583=document[_0x411aff(0x24d)](_0x411aff(0x188))[_0x411aff(0xd2)],_0x2b2ecc=document[_0x411aff(0x24d)](_0x411aff(0x156)+_0x137583)['value'],_0x34d743=(_0x310a49[_0x411aff(0x219)]||[])['find'](_0x1834cd=>_0x1834cd[_0x411aff(0x1a0)]==_0x2b2ecc)||{},_0x3f82a6=_0x34d743['setMtoPrecioCostoUnitario']||0x0,_0x5def2b=getCurrencySymbol(_0x137583),_0x4c5415=Number(_0x3f82a6)||0x0,_0xb8ce04=_0x5def2b+'\x20'+_0x4c5415[_0x411aff(0x8f)](0x2),_0x24c006=await _0x309f1c[_0x411aff(0xda)](),_0x58978f=_0x1e11a0=>_0x1e11a0*2.83465,_0x343fc7=_0x58978f(0x70*0x2),_0xf7b945=_0x58978f(40.8),_0x533aee=_0x24c006[_0x411aff(0x261)]([_0x343fc7,_0xf7b945]),_0x231430=await _0x24c006[_0x411aff(0x1f6)](_0xba31a8[_0x411aff(0x18f)]),_0x1cfe6f=Array(0x2)[_0x411aff(0x236)](_0x5947de),_0x52940b=0x2,_0x14e787=0x1,_0x12065c=0xc,_0x361e51=_0x343fc7/_0x52940b,_0x6a7dcc=_0xf7b945/_0x14e787;for(let _0x4dd005=0x0;_0x4dd005<0x2;_0x4dd005++){const _0xdf9d62=_0x1cfe6f[_0x4dd005],_0x46423f=await generarBarcodeDataURL(_0x4233ff,_0xdf9d62),_0x43d3d0=_0x46423f['split'](',')[0x1],_0x2794a0=Uint8Array[_0x411aff(0x11e)](atob(_0x43d3d0),_0x14ab3a=>_0x14ab3a[_0x411aff(0xb2)](0x0));let _0x14b2f8;try{_0x14b2f8=await _0x24c006[_0x411aff(0x127)](_0x2794a0);}catch{_0x14b2f8=await _0x24c006[_0x411aff(0x1b9)](_0x2794a0);}const _0x30cd2e=0x5,_0x117bc8=_0x12065c+0x4,_0x42013b=_0x12065c*0x2+0x4,_0x3cb808=_0x45c26c,_0x1544f1=_0xb8ce04,_0x46b6d0=_0x4dd005%_0x52940b,_0x3ae9fd=_0x231430[_0x411aff(0x255)](_0x3cb808,_0x12065c),_0x116198=_0x231430[_0x411aff(0x255)](_0x1544f1,_0x12065c),_0x262e9f=_0x46b6d0*_0x361e51+(_0x361e51-_0x3ae9fd)/0x2,_0x3ac059=_0x46b6d0*_0x361e51+(_0x361e51-_0x116198)/0x2,_0x16d753=_0x6a7dcc-_0x30cd2e-_0x12065c,_0x52ea2a=_0x16d753-_0x12065c-0x2;_0x533aee[_0x411aff(0x87)](_0x3cb808,{'x':_0x262e9f,'y':_0x16d753,'size':_0x12065c,'font':_0x231430,'color':_0x35a8d3(0x0,0x0,0x0)}),_0x533aee[_0x411aff(0x87)](_0x1544f1,{'x':_0x3ac059,'y':_0x52ea2a,'size':_0x12065c,'font':_0x231430,'color':_0x35a8d3(0x0,0x0,0x0)});const _0x2dca8a=_0x361e51-_0x30cd2e*0x2,_0xbd891a=_0x6a7dcc-_0x30cd2e*0x2-_0x42013b-_0x117bc8,_0x577ce4=_0x14b2f8[_0x411aff(0xaf)],_0x402907=_0x14b2f8[_0x411aff(0x131)],_0x47e803=Math[_0x411aff(0x143)](_0x2dca8a/_0x577ce4,_0xbd891a/_0x402907,0x1),_0x24b081=_0x14b2f8[_0x411aff(0x19c)](_0x47e803),_0x4c2ed4=_0x46b6d0*_0x361e51+(_0x361e51-_0x24b081[_0x411aff(0xaf)])/0x2,_0x25062f=_0x52ea2a-_0x24b081['height']-0x4;_0x533aee[_0x411aff(0x140)](_0x14b2f8,{'x':_0x4c2ed4,'y':_0x25062f,'width':_0x24b081[_0x411aff(0xaf)],'height':_0x24b081[_0x411aff(0x131)]});const _0x46a28f=_0x231430[_0x411aff(0x255)](_0xdf9d62,_0x12065c),_0x287318=_0x46b6d0*_0x361e51+(_0x361e51-_0x46a28f)/0x2,_0x70f18f=_0x25062f-_0x12065c-0x2;_0x533aee[_0x411aff(0x87)](_0xdf9d62,{'x':_0x287318,'y':_0x70f18f,'size':_0x12065c,'font':_0x231430,'color':_0x35a8d3(0x0,0x0,0x0)});}const _0x27adda=await _0x24c006[_0x411aff(0x134)](),_0x12a25d=new Blob([_0x27adda],{'type':_0x411aff(0xfa)}),_0x2c5f97=URL[_0x411aff(0xeb)](_0x12a25d);window[_0x411aff(0x1bc)](_0x2c5f97);}async function sendEmail(_0xe97deb,_0x25e80c,_0x1951c0,_0xb843c7,_0x1f10a0,_0x39a4d7,_0x5e9510,_0x2627b7,_0x1a6c7d,_0x3f57c7){const _0xc4176d=_0x1b3f46;if(isOnline()){const _0xd3e0af={'setAuthToken':_0xe97deb,'senderName':_0x25e80c,'senderEmail':_0x1951c0,'senderPassword':_0xb843c7,'smtpHost':_0x1f10a0,'smtpPort':_0x39a4d7,'emailsDestination':_0x5e9510,'subject':_0x2627b7,'message':_0x1a6c7d,'attachFiles':_0x3f57c7};try{const _0x104dee=await fetch(_0xc4176d(0x79),{'method':_0xc4176d(0x1be),'headers':{'Content-Type':_0xc4176d(0x221)},'body':JSON[_0xc4176d(0x1eb)](_0xd3e0af)}),_0x2a5881=await _0x104dee[_0xc4176d(0xf3)]();if(!_0x104dee['ok']||!_0x2a5881[_0xc4176d(0x7b)]){console[_0xc4176d(0xa4)]('Error\x20al\x20enviar\x20correo:',_0x2a5881),ntfShow('Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}}catch(_0x2b9bfa){console[_0xc4176d(0xa4)]('Error\x20en\x20la\x20solicitud:',_0x2b9bfa);}}}function loadLoginContent(_0xbc6d14){const _0x3cbf50=_0x1b3f46,_0x5b4c3c=document['getElementById']('login');_0x5b4c3c[_0x3cbf50(0x24e)]=_0x3cbf50(0x16f)+_0xbc6d14+'\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.2.5\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a';}function addNumber(_0x29310c){const _0x588023=_0x1b3f46;document['getElementById'](_0x588023(0x205))[_0x588023(0xd2)]+=_0x29310c;}function deleteNumber(){const _0x3c2e6a=_0x1b3f46;let _0x5d59e5=document[_0x3c2e6a(0x24d)](_0x3c2e6a(0x205));_0x5d59e5[_0x3c2e6a(0xd2)]=_0x5d59e5[_0x3c2e6a(0xd2)][_0x3c2e6a(0x122)](0x0,-0x1);}function togglePassword(){const _0x30d4a7=_0x1b3f46;let _0x132f48=document[_0x30d4a7(0x24d)](_0x30d4a7(0x205));_0x132f48[_0x30d4a7(0x101)]=_0x132f48[_0x30d4a7(0x101)]=='password'?'text':_0x30d4a7(0x205);}function setEventBtnAccess(){const _0x33fe07=_0x1b3f46,_0x17f54e=document[_0x33fe07(0x24d)](_0x33fe07(0x157));_0x17f54e['onclick']=function(){acceder();};}function isOnline(){const _0x3a6f9b=_0x1b3f46;return window[_0x3a6f9b(0x7e)][_0x3a6f9b(0xa8)];}function showLoadingModal(){const _0x5a837e=_0x1b3f46,_0x5084cb=document[_0x5a837e(0x15f)](_0x5a837e(0x165));_0x5084cb['id']=_0x5a837e(0x1ac),_0x5084cb['style'][_0x5a837e(0x126)]='fixed',_0x5084cb[_0x5a837e(0xb3)]['top']='0',_0x5084cb[_0x5a837e(0xb3)][_0x5a837e(0x23a)]='0',_0x5084cb['style'][_0x5a837e(0xaf)]=_0x5a837e(0x1bf),_0x5084cb[_0x5a837e(0xb3)]['height']=_0x5a837e(0x1bf),_0x5084cb[_0x5a837e(0xb3)]['backgroundColor']=_0x5a837e(0x97),_0x5084cb['style'][_0x5a837e(0x14d)]=_0x5a837e(0x1b5),_0x5084cb[_0x5a837e(0xb3)]['justifyContent']=_0x5a837e(0x25e),_0x5084cb[_0x5a837e(0xb3)][_0x5a837e(0x6c)]=_0x5a837e(0x25e),_0x5084cb[_0x5a837e(0xb3)][_0x5a837e(0xc6)]='9999',_0x5084cb[_0x5a837e(0xb3)]['opacity']='1',_0x5084cb['style'][_0x5a837e(0x1af)]='none',_0x5084cb['innerHTML']=_0x5a837e(0x228),document[_0x5a837e(0x66)]['appendChild'](_0x5084cb);}function hideLoadingModal(){const _0x4cbdfc=_0x1b3f46,_0x2d9eaf=document[_0x4cbdfc(0x24d)](_0x4cbdfc(0x1ac));_0x2d9eaf&&(_0x2d9eaf[_0x4cbdfc(0xb3)][_0x4cbdfc(0x21b)]='0',_0x2d9eaf['remove']());}function _0x48ba(_0x23f203,_0x5e2bf5){const _0x3068a4=_0x90b3();return _0x48ba=function(_0x38c865,_0x1f77b3){_0x38c865=_0x38c865-0x64;let _0x1001cd=_0x3068a4[_0x38c865];return _0x1001cd;},_0x48ba(_0x23f203,_0x5e2bf5);}function cargarAlmacenes(_0x30fd02){const _0x2cda8e=_0x1b3f46,_0x2b5cf6=document[_0x2cda8e(0x24d)](_0x2cda8e(0x72));_0x2b5cf6[_0x2cda8e(0x24e)]='';const _0x2f951d=company[0x0][_0x2cda8e(0xfb)][_0x2cda8e(0x1c5)](_0x1eb186=>_0x1eb186[_0x2cda8e(0x1c7)]==_0x30fd02);_0x2f951d&&_0x2f951d[_0x2cda8e(0xf0)][_0x2cda8e(0x217)]>0x0&&_0x2f951d[_0x2cda8e(0xf0)][_0x2cda8e(0xa0)](_0x552f6e=>{const _0x594093=_0x2cda8e;let _0x34dc0c=document[_0x594093(0x15f)](_0x594093(0x1b7));_0x34dc0c[_0x594093(0xd2)]=_0x552f6e['setWarehouseId'],_0x34dc0c[_0x594093(0x74)]=_0x552f6e[_0x594093(0x9c)],_0x2b5cf6[_0x594093(0x22b)](_0x34dc0c);});}function getAllWarehouses(){const _0x34dbbd=_0x1b3f46,_0x3f4f68=company[0x0]['setBranches']||[],_0xd28639=new Map();return _0x3f4f68[_0x34dbbd(0xa0)](_0xbf141a=>{const _0x2bf571=_0x34dbbd;(_0xbf141a[_0x2bf571(0xf0)]||[])[_0x2bf571(0xa0)](_0x8f5be=>{const _0x4e0a5a=_0x2bf571;!_0xd28639[_0x4e0a5a(0x13d)](_0x8f5be['setWarehouseId'])&&_0xd28639[_0x4e0a5a(0x171)](_0x8f5be[_0x4e0a5a(0x72)],{'setWarehouseId':_0x8f5be[_0x4e0a5a(0x72)],'setWarehouseName':_0x8f5be[_0x4e0a5a(0x9c)]+'\x20('+_0xbf141a[_0x4e0a5a(0x161)]+')'});});}),Array[_0x34dbbd(0x11e)](_0xd28639[_0x34dbbd(0x191)]());}function cargarPisos(_0x515ba1){const _0x1f1608=_0x1b3f46,_0x399b47=company[0x0][_0x1f1608(0xdf)][_0x1f1608(0x1f8)](_0x22bc1b=>_0x22bc1b['setBranchId']==_0x515ba1),_0x23f0d3={};_0x399b47[_0x1f1608(0xa0)](_0x12b9eb=>{const _0x542683=_0x1f1608;_0x23f0d3[_0x12b9eb['setFloorId']]=_0x12b9eb[_0x542683(0x17d)];});const _0x368838=document['getElementById']('setFloorId');_0x368838['innerHTML']='';for(const _0x444f1f in _0x23f0d3){const _0x8e9eb2=document[_0x1f1608(0x15f)](_0x1f1608(0x1b7));_0x8e9eb2[_0x1f1608(0xd2)]=_0x444f1f,_0x8e9eb2[_0x1f1608(0x74)]=_0x23f0d3[_0x444f1f],_0x368838[_0x1f1608(0x22b)](_0x8e9eb2);}}document[_0x1b3f46(0x24d)](_0x1b3f46(0x133))[_0x1b3f46(0xbf)](_0x1b3f46(0x271),()=>{const _0x3d0cb6=_0x1b3f46,_0x4ca50b=document[_0x3d0cb6(0x231)],_0x40629b=document[_0x3d0cb6(0x14a)]||document['webkitFullscreenElement']||document[_0x3d0cb6(0x151)]||document[_0x3d0cb6(0xed)];if(!_0x40629b){if(_0x4ca50b['requestFullscreen'])_0x4ca50b[_0x3d0cb6(0x129)]();else{if(_0x4ca50b[_0x3d0cb6(0xe6)])_0x4ca50b[_0x3d0cb6(0xe6)]();else{if(_0x4ca50b[_0x3d0cb6(0xd7)])_0x4ca50b['mozRequestFullScreen']();else _0x4ca50b[_0x3d0cb6(0x1a7)]&&_0x4ca50b[_0x3d0cb6(0x1a7)]();}}}else{if(document[_0x3d0cb6(0x269)])document[_0x3d0cb6(0x269)]();else{if(document[_0x3d0cb6(0x113)])document['webkitExitFullscreen']();else{if(document[_0x3d0cb6(0x1b6)])document[_0x3d0cb6(0x1b6)]();else document[_0x3d0cb6(0x22e)]&&document[_0x3d0cb6(0x22e)]();}}}});function openModalDetailsAndNtf(_0x3eccfb,_0x183b8b,_0x3ddbe0=null){const _0x3f3b2f=_0x1b3f46,_0x368e7b=products[_0x3f3b2f(0x1c5)](_0x2335cb=>_0x2335cb['id']==_0x3eccfb),_0xdaa9d9=_0x368e7b['id'],_0x4f1b92=_0x368e7b[_0x3f3b2f(0x145)],_0x79a9e7=_0x368e7b[_0x3f3b2f(0x17b)],_0x1503c6=_0x368e7b['setItemBarCode'],_0x3ce724=_0x368e7b[_0x3f3b2f(0x150)]?.[_0x3f3b2f(0x1e8)]()||_0x3f3b2f(0x1b3),_0x177cef=Array[_0x3f3b2f(0xa5)](_0x368e7b[_0x3f3b2f(0x13e)])&&_0x368e7b[_0x3f3b2f(0x13e)][_0x3f3b2f(0x217)]>0x0?_0x368e7b[_0x3f3b2f(0x13e)]:[{'setImageUrl':_0x3ce724}],_0x342a86=_0x177cef[_0x3f3b2f(0x264)](_0x36e256=>_0x36e256[_0x3f3b2f(0x274)]),_0x3fb963=document[_0x3f3b2f(0x24d)](_0x3f3b2f(0x180)),_0x3839b6=_0x3fb963['querySelector'](_0x3f3b2f(0x176)),_0x61e0dc=_0x3fb963['querySelector'](_0x3f3b2f(0x78)),_0x36c091=_0x3fb963[_0x3f3b2f(0x1cb)]('.modal-overlay-carousel'),_0x2198a8=document['getElementById'](_0x3f3b2f(0x6f)),_0x31c279=_0x3fb963[_0x3f3b2f(0x1cb)]('.carousel-prev'),_0xc9bc0e=_0x3fb963[_0x3f3b2f(0x1cb)](_0x3f3b2f(0xd5));_0x3839b6[_0x3f3b2f(0x24e)]='',_0x342a86[_0x3f3b2f(0xa0)](_0x5ee423=>{const _0x40025e=_0x3f3b2f,_0x27ad7e=document[_0x40025e(0x15f)](_0x40025e(0x18c));_0x27ad7e['src']=_0x5ee423,_0x27ad7e[_0x40025e(0x158)]=_0x40025e(0x19f),_0x3839b6[_0x40025e(0x22b)](_0x27ad7e);});let _0x540138=0x0;const _0x566cce=_0x342a86['length'];function _0x581a07(){const _0x53bef8=_0x3f3b2f;_0x3839b6[_0x53bef8(0xb3)][_0x53bef8(0xce)]='translateX(-'+_0x540138*0x64+'%)';}_0x342a86['forEach'](_0x61c3be=>{const _0xd612a8=new Image();_0xd612a8['src']=_0x61c3be;});_0x566cce<=0x1?(_0x31c279['style'][_0x3f3b2f(0x14d)]='none',_0xc9bc0e[_0x3f3b2f(0xb3)][_0x3f3b2f(0x14d)]='none'):(_0x31c279[_0x3f3b2f(0xb3)][_0x3f3b2f(0x14d)]='',_0xc9bc0e[_0x3f3b2f(0xb3)][_0x3f3b2f(0x14d)]='');_0x540138=0x0,_0x581a07();function _0x599386(_0x5408ea){const _0x385408=_0x3f3b2f;_0x5408ea[_0x385408(0x119)](),_0x540138=(_0x540138-0x1+_0x566cce)%_0x566cce,_0x581a07();}function _0x49693e(_0x2adfec){const _0x4ab00f=_0x3f3b2f;_0x2adfec[_0x4ab00f(0x119)](),_0x540138=(_0x540138+0x1)%_0x566cce,_0x581a07();}_0x31c279[_0x3f3b2f(0x80)](_0x31c279[_0x3f3b2f(0x1b2)](!![])),_0xc9bc0e[_0x3f3b2f(0x80)](_0xc9bc0e['cloneNode'](!![]));const _0x7fb039=_0x3fb963[_0x3f3b2f(0x1cb)](_0x3f3b2f(0xe4)),_0x9237c3=_0x3fb963[_0x3f3b2f(0x1cb)](_0x3f3b2f(0xd5));_0x7fb039[_0x3f3b2f(0xbf)](_0x3f3b2f(0x271),_0x599386),_0x9237c3['addEventListener'](_0x3f3b2f(0x271),_0x49693e),_0x61e0dc[_0x3f3b2f(0xbf)]('click',_0x4b7f08=>{const _0x480627=_0x3f3b2f;_0x4b7f08['stopPropagation'](),_0x3fb963[_0x480627(0xb3)]['display']=_0x480627(0x124);}),_0x36c091['addEventListener'](_0x3f3b2f(0x271),()=>{const _0x2768cf=_0x3f3b2f;_0x3fb963[_0x2768cf(0xb3)][_0x2768cf(0x14d)]=_0x2768cf(0x124);}),_0x3fb963['style'][_0x3f3b2f(0x14d)]=_0x3f3b2f(0x1b5),_0x2198a8[_0x3f3b2f(0x24e)]=_0x3f3b2f(0x194)+_0x4f1b92+_0x3f3b2f(0x1d9)+_0x79a9e7+_0x3f3b2f(0x155);const _0xe23ebd=document[_0x3f3b2f(0x15f)](_0x3f3b2f(0x20c));_0xe23ebd[_0x3f3b2f(0x238)]='barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal';const _0x2e19f2=document[_0x3f3b2f(0x15f)](_0x3f3b2f(0x1b7));_0x2e19f2['value']='0',_0x2e19f2['textContent']=_0x3f3b2f(0x10f),_0xe23ebd[_0x3f3b2f(0x22b)](_0x2e19f2),myCompany['setCodeBarTypes'][_0x3f3b2f(0xa0)](_0x36ad19=>{const _0x4e5d27=_0x3f3b2f,_0x1dd867=document[_0x4e5d27(0x15f)]('option');_0x1dd867[_0x4e5d27(0xd2)]=String(_0x36ad19[_0x4e5d27(0x81)]),_0x1dd867['textContent']=_0x36ad19[_0x4e5d27(0x1d3)],_0xe23ebd[_0x4e5d27(0x22b)](_0x1dd867);}),_0xe23ebd[_0x3f3b2f(0xbf)]('change',function(){const _0x7e5ac3=_0x3f3b2f,_0x5ab899=parseInt(this[_0x7e5ac3(0xd2)],0xa);if(_0x5ab899===0x0)return;typeof _0x1503c6==='string'&&_0x1503c6[_0x7e5ac3(0x1e8)]()[_0x7e5ac3(0x217)]>=0x1?generarStickersPDF(_0x5ab899,_0x1503c6[_0x7e5ac3(0x1e8)](),_0x3eccfb):(ntfShow(_0x7e5ac3(0x18d),0x2,0x2),this[_0x7e5ac3(0xd2)]='0');}),_0x2198a8[_0x3f3b2f(0x22b)](_0xe23ebd);var _0x26fff7=document['createElement']('button');_0x26fff7[_0x3f3b2f(0x101)]=_0x3f3b2f(0xb5),_0x26fff7[_0x3f3b2f(0x238)]=_0x3f3b2f(0xb6),_0x26fff7[_0x3f3b2f(0x74)]=_0x3f3b2f(0x19a),_0x26fff7[_0x3f3b2f(0xbf)]('click',function(){const _0x1c5273=_0x3f3b2f,_0x4e27d1=document[_0x1c5273(0x24d)](_0x1c5273(0x180));_0x4e27d1['style'][_0x1c5273(0x14d)]=_0x1c5273(0x124),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0xdaa9d9),initializeFormInputsBasic(_0xdaa9d9),initializeFormTax(_0xdaa9d9),initializeFormCategoriesBrands(_0xdaa9d9);}),_0x2198a8['appendChild'](_0x26fff7);if(_0x3ddbe0!=null){_0x2198a8['insertAdjacentHTML'](_0x3f3b2f(0x1fa),'\x0a<h3>'+_0x3ddbe0[_0x3f3b2f(0xbd)]+_0x3f3b2f(0xfc)+_0x3ddbe0['message']+_0x3f3b2f(0x243));var _0x39bbc0=document[_0x3f3b2f(0x24d)]('ntf-modal-actions');_0x3ddbe0[_0x3f3b2f(0x101)]===0x1&&[_0x3f3b2f(0x1bd),_0x3f3b2f(0xbb),_0x3f3b2f(0x26c)][_0x3f3b2f(0xa0)](function(_0x4609f8){const _0x212781=_0x3f3b2f;var _0x18d2fc=document['createElement']('button');_0x18d2fc[_0x212781(0x74)]=_0x4609f8,_0x18d2fc[_0x212781(0xbf)](_0x212781(0x271),function(){const _0x284bcb=_0x212781;console['log']('Acción\x20\x22'+_0x4609f8+_0x284bcb(0x162)+_0x3ddbe0[_0x284bcb(0x76)]);}),_0x39bbc0[_0x212781(0x22b)](_0x18d2fc);}),_0x3ddbe0[_0x3f3b2f(0x101)]===0x2&&[_0x3f3b2f(0x141),'Eliminar\x20producto'][_0x3f3b2f(0xa0)](function(_0x28a99d){const _0x595650=_0x3f3b2f;var _0x1059a4=document[_0x595650(0x15f)](_0x595650(0xb5));_0x1059a4[_0x595650(0x74)]=_0x28a99d,_0x1059a4[_0x595650(0xbf)](_0x595650(0x271),function(){const _0x368256=_0x595650;console[_0x368256(0xf6)](_0x368256(0xac)+_0x28a99d+_0x368256(0x162)+_0x3ddbe0['id_registro']);}),_0x39bbc0[_0x595650(0x22b)](_0x1059a4);});}}function ntf_formatDateDMY(_0x4ebb52){const _0x163cc0=_0x1b3f46;var _0x38cadd=new Date(_0x4ebb52),_0x4c9533=_0x38cadd[_0x163cc0(0x204)](),_0x56b805=_0x38cadd['getFullYear'](),_0x39ad39=monthsEspanish[_0x38cadd[_0x163cc0(0x1ea)]()];return _0x4c9533+_0x163cc0(0x20b)+_0x39ad39+'\x20del\x20'+_0x56b805;}function ntf_groupBy(_0x14fdaa,_0x201fbb){const _0x3584d9=_0x1b3f46;return _0x14fdaa[_0x3584d9(0x117)](function(_0x1e61e5,_0x263c22){const _0x12d68b=_0x3584d9;var _0x1f09f6=_0x263c22[_0x201fbb];return _0x1e61e5[_0x1f09f6]=_0x1e61e5[_0x1f09f6]||[],_0x1e61e5[_0x1f09f6][_0x12d68b(0x20f)](_0x263c22),_0x1e61e5;},{});}function ntf_isExpired(_0x12b3fb){const _0xd30724=_0x1b3f46;if(!_0x12b3fb)return![];var _0x5f2119=new Date();return _0x5f2119[_0xd30724(0x214)](0x0,0x0,0x0,0x0),new Date(_0x12b3fb)<=_0x5f2119;}function ntf_getNotifications(){const _0x3873b8=_0x1b3f46;var _0x4d294b=parseInt(document[_0x3873b8(0x24d)](_0x3873b8(0x72))['value'],0xa),_0x2333e7=ntf_groupBy(products,_0x3873b8(0x71)),_0x5698a1=[];return Object[_0x3873b8(0x1ed)](_0x2333e7)[_0x3873b8(0xa0)](function(_0x5d06d5){const _0x34ba41=_0x3873b8;var _0x5e3037=_0x2333e7[_0x5d06d5],_0x4dd3dd=_0x5e3037[0x0],_0x24fb4a=(_0x4dd3dd[_0x34ba41(0x258)]||[])[_0x34ba41(0x1c5)](function(_0x7b9a28){return _0x7b9a28['setIdSucursal']==_0x4d294b;});if(!_0x24fb4a)return;var _0x55fcf1=parseFloat(_0x24fb4a[_0x34ba41(0x1e3)]),_0xe499b8=parseFloat(_0x24fb4a[_0x34ba41(0x85)]);_0x4dd3dd[_0x34ba41(0x196)]==0x1&&_0x55fcf1<=_0xe499b8&&_0x5698a1['push']({'type':0x1,'id_registro':_0x4dd3dd['id'],'title':_0x34ba41(0x26e)+_0x4dd3dd['setDescripcion'],'message':_0x34ba41(0x146)+_0x4dd3dd[_0x34ba41(0x17b)]+_0x34ba41(0x1e7)+_0xe499b8['toFixed'](0x3)+_0x34ba41(0x1a9)+_0x55fcf1[_0x34ba41(0x8f)](0x3)+'\x0a','data':{'producto':_0x4dd3dd,'stock':_0x55fcf1,'minStock':_0xe499b8}}),_0x4dd3dd[_0x34ba41(0xd0)]&&ntf_isExpired(_0x4dd3dd['setBatchExpirationDate'])&&_0x5698a1[_0x34ba41(0x20f)]({'type':0x2,'id_registro':_0x4dd3dd['id'],'title':_0x34ba41(0xa6)+_0x4dd3dd[_0x34ba41(0x17b)],'message':'El\x20producto\x20\x22'+_0x4dd3dd[_0x34ba41(0x17b)]+_0x34ba41(0x15e)+ntf_formatDateDMY(_0x4dd3dd[_0x34ba41(0xd0)])+_0x34ba41(0x21d)+_0x34ba41(0x239)+_0x55fcf1[_0x34ba41(0x8f)](0x3),'data':{'producto':_0x4dd3dd,'expiration':_0x4dd3dd['setBatchExpirationDate']}});}),_0x5698a1;}function ntf_renderNotifications(){const _0x2ce8ab=_0x1b3f46;var _0xd00f=ntf_getNotifications(),_0xb04c27=document[_0x2ce8ab(0x24d)](_0x2ce8ab(0x105)),_0x44258c=document['getElementById'](_0x2ce8ab(0x1d6));_0xb04c27[_0x2ce8ab(0x24e)]='',_0x44258c[_0x2ce8ab(0x74)]=_0xd00f['length'];if(_0xd00f[_0x2ce8ab(0x217)]===0x0){var _0x55d19c=document['createElement']('li');_0x55d19c[_0x2ce8ab(0x74)]=_0x2ce8ab(0x1ff),_0xb04c27[_0x2ce8ab(0x22b)](_0x55d19c);return;}_0xd00f['forEach'](function(_0x2ec7d5,_0x23a98a){const _0x3e0b44=_0x2ce8ab;var _0x3f56f6=document[_0x3e0b44(0x15f)]('li');_0x3f56f6[_0x3e0b44(0x74)]=_0x2ec7d5['title'],_0x3f56f6[_0x3e0b44(0xa7)](_0x3e0b44(0x208),_0x23a98a),_0xb04c27[_0x3e0b44(0x22b)](_0x3f56f6);});}document[_0x1b3f46(0x24d)](_0x1b3f46(0x1d7))[_0x1b3f46(0xbf)]('click',function(){const _0x37d1ec=_0x1b3f46;document[_0x37d1ec(0x24d)](_0x37d1ec(0x1f7))['classList'][_0x37d1ec(0x65)]('hidden'),ntf_renderNotifications();}),document[_0x1b3f46(0x24d)](_0x1b3f46(0x105))[_0x1b3f46(0xbf)](_0x1b3f46(0x271),function(_0x3e5692){const _0x55344d=_0x1b3f46,_0x17ef00=_0x3e5692[_0x55344d(0x201)][_0x55344d(0x9b)]('li');if(!_0x17ef00||!_0x17ef00[_0x55344d(0xcd)][_0x55344d(0x9e)])return;const _0xb2eb66=ntf_getNotifications()[_0x17ef00[_0x55344d(0xcd)]['ntfIndex']];document['getElementById']('tabs-notifications')[_0x55344d(0x271)](),openModalDetailsAndNtf(_0xb2eb66[_0x55344d(0x1e6)][_0x55344d(0xde)]['id'],_0xb2eb66['type'],_0xb2eb66);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x5ea820,_0x5448f0=0x3,_0x4159f1=0x1){const _0x4befba=_0x1b3f46,_0x3a9389=document[_0x4befba(0x24d)](_0x4befba(0xc3)),_0xfeb0dc=document[_0x4befba(0x15f)]('div');let _0x3d3f2e;if(_0x5448f0==0x1)_0x3d3f2e=_0x4befba(0x181);else _0x5448f0==0x2?_0x3d3f2e=_0x4befba(0x1fd):_0x3d3f2e='ntf-flotante-blue';let _0x36bc23;_0x4159f1==0x1?(_0x36bc23=_0x4befba(0x94),_0x3a9389[_0x4befba(0x12b)]['add'](_0x4befba(0x1d5)),_0x3a9389[_0x4befba(0x12b)][_0x4befba(0x111)](_0x4befba(0x132))):(_0x36bc23=_0x4befba(0x91),_0x3a9389[_0x4befba(0x12b)][_0x4befba(0xca)](_0x4befba(0x132)),_0x3a9389['classList'][_0x4befba(0x111)](_0x4befba(0x1d5))),_0xfeb0dc[_0x4befba(0x238)]=_0x4befba(0x1da)+_0x3d3f2e+'\x20'+_0x36bc23,_0xfeb0dc['textContent']=_0x5ea820,_0x3a9389[_0x4befba(0x22b)](_0xfeb0dc),_0xfeb0dc['addEventListener'](_0x4befba(0x1f9),()=>{const _0x2ed2e3=_0x4befba;_0xfeb0dc[_0x2ed2e3(0x111)]();});}function openDatabase(){const _0x542e55=_0x1b3f46;if(db)return Promise[_0x542e55(0x1cf)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x561cd7,_0x4e14d2)=>{const _0x2e609b=_0x542e55,_0x446b24=indexedDB['open'](db_name);_0x446b24[_0x2e609b(0x13f)]=function(_0x32e6fe){const _0x46d06c=_0x2e609b;db=_0x32e6fe[_0x46d06c(0x201)][_0x46d06c(0xdc)],console[_0x46d06c(0xf6)](_0x46d06c(0x1d1));},_0x446b24[_0x2e609b(0x1f0)]=function(_0xd5b9c3){const _0x102387=_0x2e609b;db=_0xd5b9c3[_0x102387(0x201)]['result'],console[_0x102387(0xf6)](_0x102387(0x18b)),_0x561cd7(db),dbPromise=null;},_0x446b24[_0x2e609b(0x1c2)]=function(_0x45c0c7){const _0x2a5b30=_0x2e609b;console[_0x2a5b30(0xa4)](_0x2a5b30(0x1c3),_0x45c0c7[_0x2a5b30(0x201)][_0x2a5b30(0xa4)]),_0x4e14d2(_0x45c0c7[_0x2a5b30(0x201)][_0x2a5b30(0xa4)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0xc801fb,_0x231159=![]){const _0x22bc89=_0x1b3f46;if(dbOperationInProgress)return Promise[_0x22bc89(0x250)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x22bc89(0x118)](_0x16ffd6=>{const _0x3deb1b=_0x22bc89,_0x16cbaa='products',_0x323844=_0x3deb1b(0x179),_0x5a2086=_0x3deb1b(0x1fc),_0x3ef48c='layoutState',_0x2e5777=_0xc801fb?'cart_'+_0xc801fb:null,_0x4d7fc0=_0xc801fb?_0x3deb1b(0x1c9)+_0xc801fb:null,_0x83f6fc=_0x231159||!_0x16ffd6[_0x3deb1b(0x135)][_0x3deb1b(0x26a)](_0x16cbaa)||!_0x16ffd6[_0x3deb1b(0x135)][_0x3deb1b(0x26a)](_0x323844)||!_0x16ffd6['objectStoreNames'][_0x3deb1b(0x26a)](_0x5a2086)||!_0x16ffd6[_0x3deb1b(0x135)][_0x3deb1b(0x26a)](_0x3ef48c)||_0xc801fb&&(!_0x16ffd6[_0x3deb1b(0x135)][_0x3deb1b(0x26a)](_0x2e5777)||!_0x16ffd6[_0x3deb1b(0x135)][_0x3deb1b(0x26a)](_0x4d7fc0));if(!_0x83f6fc)return dbOperationInProgress=![],Promise[_0x3deb1b(0x1cf)](_0x16ffd6);const _0x336cdd=_0x16ffd6[_0x3deb1b(0x167)]+0x1;return _0x16ffd6[_0x3deb1b(0x170)](),new Promise((_0x62183b,_0x2381be)=>{const _0x1d9795=_0x3deb1b,_0x257a95=indexedDB[_0x1d9795(0x1bc)](db_name,_0x336cdd);_0x257a95[_0x1d9795(0x13f)]=function(_0x31806d){const _0x257d90=_0x1d9795;db=_0x31806d[_0x257d90(0x201)][_0x257d90(0xdc)];if(_0x231159)Array['from'](db[_0x257d90(0x135)])[_0x257d90(0xa0)](_0x450954=>{const _0x5ab2a0=_0x257d90;_0x450954!==_0x5a2086&&(db[_0x5ab2a0(0x77)](_0x450954),console[_0x5ab2a0(0xf6)]('ObjectStore\x20\x27'+_0x450954+_0x5ab2a0(0x8c)));}),console[_0x257d90(0xf6)](_0x257d90(0x1bb));else{!db[_0x257d90(0x135)]['contains'](_0x16cbaa)&&(db[_0x257d90(0xf4)](_0x16cbaa,{'keyPath':'id'}),console[_0x257d90(0xf6)]('ObjectStore\x20\x27'+_0x16cbaa+'\x27\x20creado\x20correctamente.'));!db['objectStoreNames'][_0x257d90(0x26a)](_0x323844)&&(db[_0x257d90(0xf4)](_0x323844,{'keyPath':'id','autoIncrement':!![]}),console[_0x257d90(0xf6)](_0x257d90(0x246)+_0x323844+'\x27\x20creado\x20correctamente.'));!db[_0x257d90(0x135)][_0x257d90(0x26a)](_0x5a2086)&&(db[_0x257d90(0xf4)](_0x5a2086,{'keyPath':'id','autoIncrement':!![]}),console[_0x257d90(0xf6)](_0x257d90(0x246)+_0x5a2086+_0x257d90(0x11c)));!db[_0x257d90(0x135)][_0x257d90(0x26a)](_0x3ef48c)&&(db['createObjectStore'](_0x3ef48c,{'keyPath':'id'}),console[_0x257d90(0xf6)]('ObjectStore\x20\x27'+_0x3ef48c+_0x257d90(0x11c)));if(_0xc801fb){if(!db['objectStoreNames'][_0x257d90(0x26a)](_0x2e5777)){const _0x2e7448=db[_0x257d90(0xf4)](_0x2e5777,{'keyPath':'id','autoIncrement':!![]});_0x2e7448[_0x257d90(0x254)](_0x257d90(0x96),_0x257d90(0x96),{'unique':!![]}),console[_0x257d90(0xf6)](_0x257d90(0x246)+_0x2e5777+_0x257d90(0x11c));}!db[_0x257d90(0x135)][_0x257d90(0x26a)](_0x4d7fc0)&&(db[_0x257d90(0xf4)](_0x4d7fc0,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x257d90(0x246)+_0x4d7fc0+_0x257d90(0x11c)));}}},_0x257a95[_0x1d9795(0x1f0)]=function(_0x39b8cb){const _0x4b1e4a=_0x1d9795;db=_0x39b8cb['target'][_0x4b1e4a(0xdc)],dbOperationInProgress=![],console[_0x4b1e4a(0xf6)](_0x4b1e4a(0x26f)),_0x62183b(db);},_0x257a95[_0x1d9795(0x1c2)]=function(_0x3b9b4a){const _0x7dcac7=_0x1d9795;console[_0x7dcac7(0xa4)](_0x7dcac7(0x241),_0x3b9b4a[_0x7dcac7(0x201)]['error']),dbOperationInProgress=![],_0x2381be(_0x3b9b4a[_0x7dcac7(0x201)]['error']);};});})[_0x22bc89(0x1f3)](_0x52413a=>{const _0x53f57a=_0x22bc89;throw new Error(_0x53f57a(0x102));})[_0x22bc89(0x1b0)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x17de6e=_0x1b3f46;if(!isOnline())return Promise[_0x17de6e(0x1cf)]();try{const _0x1accd8=await createCartStore(''),_0x2b06e2=_0x1accd8[_0x17de6e(0x6e)]('offline_operations',_0x17de6e(0x195)),_0x11fa19=_0x2b06e2[_0x17de6e(0x1ce)](_0x17de6e(0x1fc)),_0x43488f=await new Promise((_0x425c07,_0x2d4d13)=>{const _0x12b7ee=_0x17de6e,_0x154021=_0x11fa19[_0x12b7ee(0xdb)]();_0x154021['onsuccess']=()=>_0x425c07(_0x154021[_0x12b7ee(0xdc)]),_0x154021[_0x12b7ee(0x1c2)]=()=>_0x2d4d13(new Error(_0x12b7ee(0x107)+_0x154021[_0x12b7ee(0xa4)]));}),_0x3003f3=_0x43488f[_0x17de6e(0x1f8)](_0x1a1719=>_0x1a1719['apiPOSsendOffline']==0x1);if(_0x3003f3['length']===0x0){console[_0x17de6e(0xf6)](_0x17de6e(0x1ca));return;}const _0x1ac026=_0x3003f3['filter'](_0x1ead94=>_0x1ead94['setTipoOperacion']==0x64),_0x554911=_0x3003f3['filter'](_0x1f181f=>_0x1f181f[_0x17de6e(0x21c)]!=0x64),_0x4762d4=_0x23230f=>_0x23230f['sort']((_0x17ebae,_0x1aa745)=>{const _0x32da2e=_0x17de6e,_0x207f2e=[0x1,0x2,0x3],_0x11a15b=_0x57c3a5=>Array['isArray'](_0x57c3a5[_0x32da2e(0x1a1)])&&_0x57c3a5[_0x32da2e(0x1a1)][_0x32da2e(0x1d0)](_0x5199c6=>_0x207f2e[_0x32da2e(0x125)](_0x5199c6[_0x32da2e(0xa2)])),_0x14b715=_0x11a15b(_0x17ebae),_0x1ea19f=_0x11a15b(_0x1aa745);if(_0x14b715&&!_0x1ea19f)return-0x1;if(!_0x14b715&&_0x1ea19f)return 0x1;const _0x4d4b43=Math[_0x32da2e(0x143)](..._0x17ebae[_0x32da2e(0x1a1)][_0x32da2e(0x264)](_0x562362=>_0x562362[_0x32da2e(0xa2)])),_0x1cf379=Math[_0x32da2e(0x143)](..._0x1aa745[_0x32da2e(0x1a1)][_0x32da2e(0x264)](_0x205f48=>_0x205f48[_0x32da2e(0xa2)]));return _0x4d4b43-_0x1cf379;}),_0x32901b=_0x1ac026['filter'](_0x55ac92=>Array[_0x17de6e(0xa5)](_0x55ac92[_0x17de6e(0x1a1)])&&_0x55ac92[_0x17de6e(0x1a1)][_0x17de6e(0xc9)](_0x9eb6c7=>!_0x9eb6c7[_0x17de6e(0x20d)])),_0x2034c5=_0x1ac026['filter'](_0x35570f=>Array[_0x17de6e(0xa5)](_0x35570f[_0x17de6e(0x1a1)])&&_0x35570f[_0x17de6e(0x1a1)][_0x17de6e(0xc9)](_0x588c87=>_0x588c87['setItemId']));_0x4762d4(_0x32901b),_0x4762d4(_0x2034c5);const _0x2185f1=[..._0x32901b,..._0x2034c5];function _0x3e1d14(_0x1ec27a,_0xcf905b){return new Promise((_0x16d664,_0x1bcb00)=>{const _0x1b645f=_0x48ba,_0x2da436=_0x1ec27a[_0x1b645f(0x6e)](_0x1b645f(0x1fc),_0x1b645f(0x1ae)),_0x34c767=_0x2da436[_0x1b645f(0x1ce)](_0x1b645f(0x1fc)),_0x562d7e=_0x34c767[_0x1b645f(0x148)](_0xcf905b);_0x562d7e[_0x1b645f(0x1f0)]=()=>_0x16d664(),_0x562d7e[_0x1b645f(0x1c2)]=_0x49b2c2=>_0x1bcb00(new Error(_0x1b645f(0x25f)+_0x49b2c2['target'][_0x1b645f(0xa4)]));});}async function _0x5256f3(_0x371587){const _0x17bfe7=_0x17de6e;for(const _0x10f1ff of _0x371587){_0x10f1ff[_0x17bfe7(0x21c)]===0x64&&Array[_0x17bfe7(0xa5)](_0x10f1ff['newItems'])&&_0x10f1ff[_0x17bfe7(0x1a1)][_0x17bfe7(0xa1)]((_0x1616b6,_0x250d05)=>{const _0x1e500c=_0x17bfe7,_0x19359f=[0x1,0x2,0x3],_0x2ea33a=_0x19359f['includes'](_0x1616b6[_0x1e500c(0xa2)]),_0x386522=_0x19359f[_0x1e500c(0x125)](_0x250d05[_0x1e500c(0xa2)]);if(_0x2ea33a&&!_0x386522)return-0x1;if(!_0x2ea33a&&_0x386522)return 0x1;return _0x1616b6[_0x1e500c(0xa2)]-_0x250d05[_0x1e500c(0xa2)];});const _0xfebaaa=new FormData();_0xfebaaa[_0x17bfe7(0x7a)](_0x17bfe7(0x89),JSON[_0x17bfe7(0x1eb)](_0x10f1ff));if(_0x10f1ff[_0x17bfe7(0x16d)]instanceof Blob&&_0x10f1ff['pdfBlob'][_0x17bfe7(0xe3)]>0x0)_0xfebaaa[_0x17bfe7(0x7a)](_0x17bfe7(0x16d),_0x10f1ff[_0x17bfe7(0x16d)],_0x17bfe7(0x8a));else _0x10f1ff[_0x17bfe7(0x16d)]&&console[_0x17bfe7(0xbe)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x10f1ff[_0x17bfe7(0x21c)]==0x64&&Array['isArray'](_0x10f1ff[_0x17bfe7(0x1a1)])&&_0x10f1ff[_0x17bfe7(0x1a1)]['forEach']((_0x307a92,_0x1def76)=>{const _0x175ee9=_0x17bfe7;Array[_0x175ee9(0xa5)](_0x307a92[_0x175ee9(0xd6)])&&_0x307a92[_0x175ee9(0xd6)][_0x175ee9(0xa0)]((_0x58c73a,_0x5d766d)=>{const _0x36b052=_0x175ee9;_0x58c73a instanceof Blob&&_0x58c73a[_0x36b052(0xe3)]>0x0?_0xfebaaa[_0x36b052(0x7a)](_0x36b052(0xe0)+_0x1def76+'][setItemImages]['+_0x5d766d+']',_0x58c73a,_0x58c73a[_0x36b052(0xcc)]):console['warn'](_0x36b052(0x256)+_0x1def76+'].setItemImages['+_0x5d766d+_0x36b052(0xab));});});try{const _0x52fdd1=await fetch(_0x10f1ff[_0x17bfe7(0xbc)],{'method':_0x17bfe7(0x1be),'body':_0xfebaaa});if(!_0x52fdd1['ok'])throw new Error('HTTP\x20'+_0x52fdd1[_0x17bfe7(0x1a2)]+_0x17bfe7(0x13a)+_0x52fdd1[_0x17bfe7(0x84)]);const _0x18a39b=await _0x52fdd1[_0x17bfe7(0xf3)]();!_0x18a39b['success']?_0x10f1ff['setMessage']=_0x18a39b[_0x17bfe7(0x1dc)]||_0x17bfe7(0xc2):(_0x10f1ff[_0x17bfe7(0x21e)]=0x0,delete _0x10f1ff['setMessage']);}catch(_0x1ffdf3){console[_0x17bfe7(0xa4)](_0x17bfe7(0x210),_0x1ffdf3),_0x10f1ff[_0x17bfe7(0x17a)]=_0x1ffdf3[_0x17bfe7(0x1dc)];}await _0x3e1d14(_0x1accd8,_0x10f1ff),_0x10f1ff['setTipoOperacion']===0x64&&_0x10f1ff['apiPOSsendOffline']===0x0&&await new Promise((_0x12fbe9,_0x331101)=>{const _0x57ee3e=_0x17bfe7,_0x13dd89=_0x1accd8['transaction']('offline_operations','readwrite'),_0x10591f=_0x13dd89[_0x57ee3e(0x1ce)](_0x57ee3e(0x1fc)),_0x1980d8=_0x10591f[_0x57ee3e(0x10b)](_0x10f1ff['id']);_0x1980d8['onsuccess']=()=>_0x12fbe9(),_0x1980d8['onerror']=_0x181429=>_0x331101(new Error(_0x57ee3e(0xad)+_0x181429[_0x57ee3e(0x201)][_0x57ee3e(0xa4)]));});}}_0x2185f1[_0x17de6e(0x217)]&&(console['log'](_0x17de6e(0x251)+_0x2185f1[_0x17de6e(0x217)]+_0x17de6e(0x183)),await _0x5256f3(_0x2185f1)),_0x554911[_0x17de6e(0x217)]&&(console[_0x17de6e(0xf6)]('Sincronizando\x20'+_0x554911['length']+_0x17de6e(0x172)),await _0x5256f3(_0x554911)),console[_0x17de6e(0xf6)](_0x17de6e(0x186));}catch(_0xd2ac40){console[_0x17de6e(0xa4)](_0x17de6e(0x16b),_0xd2ac40);}}function apiERPsaveOnline(_0x4b3ab6,_0x571013,_0x3cffe4,_0x170962,_0x47b881){const _0x5e6a53=_0x1b3f46;if(!isOnline())return console['log']('Error\x20Network.'),Promise[_0x5e6a53(0x250)](_0x5e6a53(0x24a));const _0x4de74b={'setAuthToken':_0x4b3ab6,'setBranches':_0x571013,'setUsers':_0x3cffe4,'setSeries':_0x170962,'setPrinters':_0x47b881};return fetch(_0x5e6a53(0x8b),{'method':_0x5e6a53(0x1be),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5e6a53(0x1eb)](_0x4de74b)})[_0x5e6a53(0x118)](_0x2bc3c6=>{const _0x4bb7ec=_0x5e6a53;if(!_0x2bc3c6['ok'])throw new Error(_0x4bb7ec(0x1d4)+_0x2bc3c6['statusText']);return _0x2bc3c6[_0x4bb7ec(0xf3)]();})['then'](_0x12e1d5=>{const _0x18567b=_0x5e6a53;if(!_0x12e1d5[_0x18567b(0x7b)])throw new Error(_0x12e1d5[_0x18567b(0x1dc)]||_0x18567b(0xc4));return console[_0x18567b(0xf6)](_0x18567b(0x1c1)),_0x12e1d5;})[_0x5e6a53(0x1f3)](_0x44db21=>{const _0x3993a8=_0x5e6a53;console[_0x3993a8(0xa4)](_0x3993a8(0x115),_0x44db21);throw _0x44db21;});}async function acceder(){const _0x11968b=_0x1b3f46;if(!isOnline()){alert('Solo\x20necesitas\x20internet\x20para\x20acceder!');throw new Error(_0x11968b(0x19d));}const _0x5c026c=document[_0x11968b(0x24d)](_0x11968b(0x157)),_0x52ed30=document[_0x11968b(0x24d)](_0x11968b(0x9f))['value'],_0x409459=document[_0x11968b(0x24d)](_0x11968b(0x205))[_0x11968b(0xd2)];_0x5c026c[_0x11968b(0x1c4)]=!![];if(!_0x52ed30||!_0x409459){alert(_0x11968b(0x22c)),_0x5c026c['disabled']=![];return;}console[_0x11968b(0xf6)]('Modo\x20online\x20...'),showLoadingModal();const _0x29bcaa={'usuario':_0x52ed30,'password':_0x409459};try{const _0x224f87=await fetch(_0x11968b(0x12e),{'method':_0x11968b(0x1be),'headers':{'Content-Type':_0x11968b(0xff)},'body':JSON['stringify'](_0x29bcaa)}),_0x13ab4b=await _0x224f87[_0x11968b(0xf3)]();if(!(_0x13ab4b[_0x11968b(0x7b)]&&Array[_0x11968b(0xa5)](_0x13ab4b[_0x11968b(0x1dc)]))){alert(_0x13ab4b[_0x11968b(0x1dc)]),_0x5c026c[_0x11968b(0x1c4)]=![],hideLoadingModal();throw new Error(_0x13ab4b['message']);}const _0x17d6f6=document[_0x11968b(0x24d)](_0x11968b(0xe8));_0x17d6f6[_0x11968b(0x24e)]='Inicio\x20de\x20sesión\x20exitoso\x20...';const _0x567660=_0x13ab4b[_0x11968b(0x1dc)],{setApiEndPoint:_0x3c2cf8,setAuthToken:_0x27e6d6,setUser_Local:_0x149fa6}=_0x567660[0x0],_0x21132f={'apiPOS_getAccessData':0x1,'setToken':_0x27e6d6,'setUserLocalUserName':_0x149fa6[_0x11968b(0x1e4)]},_0x534fe1=await fetch(_0x3c2cf8,{'method':_0x11968b(0x1be),'headers':{'Content-Type':_0x11968b(0x221)},'body':JSON[_0x11968b(0x1eb)](_0x21132f)}),_0x327f96=await _0x534fe1[_0x11968b(0xf3)]();if(!(_0x327f96['success']===!![])){_0x17d6f6[_0x11968b(0x24e)]=_0x11968b(0x70)+_0x327f96['message']+_0x11968b(0xc0),setTimeout(()=>location[_0x11968b(0x10e)](),0x1388);return;}_0x17d6f6[_0x11968b(0x24e)]=_0x11968b(0x1e9);const _0x58bcbf=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0xc1)][_0x11968b(0x264)](_0x370de6=>{const _0x213918=_0x11968b,_0x2cda94=_0x370de6[_0x213918(0xf8)]||'',_0x35bf32=_0x370de6['setIdProducto']||'',_0x4e4e09=_0x370de6['setItemType']||'1',_0x9d4b8d=_0x370de6[_0x213918(0x145)]||'',_0x366ad7=_0x370de6[_0x213918(0x240)]||'',_0x17edd3=_0x370de6[_0x213918(0x17b)]||'',_0x10a516=_0x370de6[_0x213918(0x166)]||'',_0x1371ba=_0x370de6[_0x213918(0x6d)]||'',_0x592eae=_0x370de6[_0x213918(0x212)]||'',_0x45b532=_0x370de6[_0x213918(0xa9)]||'',_0x5504eb=_0x370de6[_0x213918(0x242)]||'',_0x2e1e46=_0x370de6[_0x213918(0x1de)]||'10',_0x4ae807=_0x567660[0x0][_0x213918(0x1dd)]['find'](_0x2f723d=>_0x2f723d[_0x213918(0x242)]==_0x5504eb)?.[_0x213918(0x68)]||0x0,_0x105289=parseFloat(_0x370de6['setInventariable'])||0x1,_0x582cad=_0x370de6['setCategoria']||'',_0x151ede=_0x370de6[_0x213918(0x130)]||'',_0x1d5afb=_0x370de6[_0x213918(0x150)]||_0x213918(0x1b3),_0x371c00=_0x370de6[_0x213918(0xea)]||0x1,_0x57a804=_0x370de6[_0x213918(0x275)]||'',_0x39f014=_0x370de6['setBatchExpirationDate']||'',_0x571c65=(_0x370de6[_0x213918(0x219)]||[])[_0x213918(0x264)](_0x745309=>{const _0x1eb22a=_0x213918,_0x11bd92=parseFloat(_0x745309['setMtoValorUnitario'])||0x0,_0x252da4=parseFloat(_0x745309[_0x1eb22a(0x1f2)])||0x0,_0x3c1d4d=parseFloat(_0x745309[_0x1eb22a(0x69)])||0x0,_0x45160a=parseFloat(_0x745309[_0x1eb22a(0x1f1)])||0x0,_0x3ea9f5=_0x745309[_0x1eb22a(0x1d8)]||[];let _0x4fcd8f=0x0,_0x12f8d5=0x0;if(_0x11bd92>0x0)_0x4fcd8f=_0x11bd92,_0x12f8d5=setTipAfeImpGravados[_0x1eb22a(0x1d0)](_0xa7bc73=>_0xa7bc73==_0x2e1e46)?_0x11bd92+_0x11bd92*_0x4ae807/0x64:_0x11bd92;else _0x252da4>0x0&&(_0x12f8d5=_0x252da4,_0x4fcd8f=setTipAfeImpGravados[_0x1eb22a(0x1d0)](_0x3e041f=>_0x3e041f==_0x2e1e46)?_0x252da4/(0x1+_0x4ae807/0x64):_0x252da4);let _0x11203e=0x0,_0x4a1a7b=0x0;if(_0x3c1d4d>0x0)_0x11203e=_0x3c1d4d,_0x4a1a7b=setTipAfeImpGravados[_0x1eb22a(0x1d0)](_0x2057ea=>_0x2057ea==_0x2e1e46)?_0x3c1d4d+_0x3c1d4d*_0x4ae807/0x64:_0x3c1d4d;else _0x45160a>0x0&&(_0x4a1a7b=_0x45160a,_0x11203e=setTipAfeImpGravados[_0x1eb22a(0x1d0)](_0x30a390=>_0x30a390==_0x2e1e46)?_0x45160a/(0x1+_0x4ae807/0x64):_0x45160a);return{'currency':_0x745309[_0x1eb22a(0x1a0)],'setMtoValorUnitario':_0x4fcd8f,'setMtoPrecioUnitario':_0x12f8d5,'setMtoValorCostoUnitario':_0x11203e,'setMtoPrecioCostoUnitario':_0x4a1a7b,'setPriceLists':_0x3ea9f5};});if(_0x5504eb!==''&&_0x2cda94!==''&&_0x9d4b8d!==''&&_0x17edd3!=='')return{'id':_0x2cda94,'setItemType':_0x4e4e09,'setIdProducto':_0x35bf32,'setCodProducto':_0x9d4b8d,'setItemBarCode':_0x366ad7,'setDescripcion':_0x17edd3,'setItemDescription':_0x10a516,'setUnidadCodigo':_0x1371ba,'setUnidad':_0x592eae,'setItemUnitAlias':_0x45b532,'setPorcentajeIgv':_0x4ae807,'setTaxId':_0x5504eb,'setTipAfeIgv':_0x2e1e46,'setInventariable':_0x105289,'setCategoria':_0x582cad,'setMarca':_0x151ede,'setImg':_0x1d5afb,'setConversionFactor':_0x371c00,'setBatchName':_0x57a804,'setBatchExpirationDate':_0x39f014,'setItemIsBought':_0x370de6[_0x213918(0x6b)],'setItemIsSold':_0x370de6[_0x213918(0x112)],'sucursales':_0x370de6['sucursales']||[],'setPrinters':_0x370de6['setPrinters']||[],'currency_data':_0x571c65,'setImages':_0x370de6[_0x213918(0x13e)]||[],'setItemVariantValues':_0x370de6[_0x213918(0x17f)]||[]};return null;})[_0x11968b(0x1f8)](Boolean);_0x567660[0x0][_0x11968b(0x144)]=_0x327f96[_0x11968b(0x1dc)]['setCompanyLogo'],_0x567660[0x0][_0x11968b(0x149)]=_0x327f96[_0x11968b(0x1dc)]['setCompanyDoc'],_0x567660[0x0][_0x11968b(0xa3)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0xa3)],_0x567660[0x0][_0x11968b(0xf7)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0xf7)],_0x567660[0x0][_0x11968b(0x12f)]=_0x327f96['message'][_0x11968b(0x12f)],_0x567660[0x0][_0x11968b(0x120)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x120)],_0x567660[0x0][_0x11968b(0x104)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x104)],_0x567660[0x0]['setCompanyWebsite']=_0x327f96[_0x11968b(0x1dc)]['setCompanyWebsite'],_0x567660[0x0][_0x11968b(0xfb)]=_0x327f96[_0x11968b(0x1dc)]['setBranches'],_0x567660[0x0]['setUsuarios']=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x25b)],_0x567660[0x0][_0x11968b(0x11b)]=_0x327f96[_0x11968b(0x1dc)]['setSeries'],_0x567660[0x0]['setPrinters']=_0x327f96[_0x11968b(0x1dc)]['setPrinters'],_0x567660[0x0][_0x11968b(0x1ab)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x1ab)],_0x567660[0x0][_0x11968b(0x26b)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x26b)],_0x567660[0x0][_0x11968b(0x16a)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x16a)],_0x567660[0x0][_0x11968b(0x22f)]=_0x327f96[_0x11968b(0x1dc)]['setSuppliers'],_0x567660[0x0][_0x11968b(0x18e)]=_0x327f96[_0x11968b(0x1dc)][_0x11968b(0x18e)],_0x567660[0x0][_0x11968b(0x169)]=_0x327f96[_0x11968b(0x1dc)]['setCollaborators'],_0x17d6f6[_0x11968b(0x24e)]=_0x11968b(0xe9);const _0x4f1ad1=await createCartStore('');await clearAndStore(_0x4f1ad1,'products',_0x58bcbf),await clearAndStore(_0x4f1ad1,_0x11968b(0x1c0),[{'id':'layout',..._0x567660[0x0][_0x11968b(0x14c)]}]),await apiERPsaveOnline(_0x27e6d6,_0x567660[0x0][_0x11968b(0xfb)],_0x567660[0x0][_0x11968b(0x25b)],_0x567660[0x0][_0x11968b(0x11b)],_0x567660[0x0]['setPrinters']);const _0x462154=await fetch(_0x11968b(0x222),{'method':_0x11968b(0x1be),'headers':{'Content-Type':_0x11968b(0x221)},'body':JSON[_0x11968b(0x1eb)]({'setAuthToken':_0x27e6d6,'setUserId':_0x149fa6['setUserId']})}),_0x4ce483=await _0x462154[_0x11968b(0xf3)]();if(_0x4ce483['success'])_0x567660[0x0][_0x11968b(0xdf)]=_0x4ce483['message'][_0x11968b(0xdf)],_0x567660[0x0][_0x11968b(0x121)]=_0x4ce483['message']['setUsers'],_0x567660[0x0][_0x11968b(0x248)]=_0x4ce483[_0x11968b(0x1dc)][_0x11968b(0x248)];else{console['error']('Error\x20Update:',_0x4ce483['message']);return;}await saveCompanyToIndexedDB(_0x567660,_0x4f1ad1);if(!_0x567660[0x0][_0x11968b(0xdf)]||_0x567660[0x0][_0x11968b(0xdf)]['length']===0x0){console[_0x11968b(0xa4)](_0x11968b(0x86));return;}for(const _0x3d6a9b of _0x567660[0x0][_0x11968b(0xdf)]){await new Promise(_0x538060=>setTimeout(_0x538060,0x12c)),await createCartStore(_0x3d6a9b[_0x11968b(0x164)]),_0x17d6f6[_0x11968b(0x24e)]=_0x11968b(0x1a6)+_0x3d6a9b[_0x11968b(0x173)]+_0x11968b(0xc0);}_0x17d6f6[_0x11968b(0x24e)]='Bienvenido(a)\x20'+_0x149fa6[_0x11968b(0xe2)]+_0x11968b(0xc0),setTimeout(()=>location[_0x11968b(0x10e)](),0x7d0);}catch(_0x42d7e7){console[_0x11968b(0xa4)](_0x11968b(0x259),_0x42d7e7),_0x5c026c[_0x11968b(0x1c4)]=![],hideLoadingModal(),alert(_0x42d7e7);throw _0x42d7e7;}}function clearAndStore(_0x52e038,_0x2a7ec2,_0x25fc8a){return new Promise((_0x6ecec5,_0x4c4afc)=>{const _0xce803c=_0x48ba,_0x8407ce=_0x52e038[_0xce803c(0x6e)](_0x2a7ec2,'readwrite'),_0x269311=_0x8407ce[_0xce803c(0x1ce)](_0x2a7ec2),_0x14ac67=_0x269311['clear']();_0x14ac67['onsuccess']=()=>{const _0x167244=_0xce803c;_0x25fc8a['forEach'](_0x91dd67=>_0x269311[_0x167244(0x148)](_0x91dd67));},_0x8407ce[_0xce803c(0xef)]=()=>_0x6ecec5(),_0x8407ce[_0xce803c(0x1c2)]=()=>_0x4c4afc(new Error(_0xce803c(0x1d2)+_0x2a7ec2+'!'));});}async function logoutReload(_0x2ac4d8=0x0,_0x6ca83c){const _0x716aa9=_0x1b3f46;if(_0x2ac4d8!=0x1){showLoadingModal();const _0x400538=document['getElementById'](_0x716aa9(0xe8));_0x400538['innerHTML']=_0x716aa9(0xfd);}_0x6ca83c==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x716aa9(0x10e)]();}function registerServiceWorker(_0x1fd0de,_0x312096){const _0x3599a3=_0x1b3f46;'serviceWorker'in navigator&&navigator[_0x3599a3(0xfe)]['register'](_0x1fd0de)[_0x3599a3(0x118)](_0x1f2c55=>{const _0x3275b3=_0x3599a3;console[_0x3275b3(0xf6)]('SW\x20Success'),_0x1f2c55[_0x3275b3(0x100)]=()=>{const _0x28a227=_0x3275b3,_0x844ae3=_0x1f2c55[_0x28a227(0xc8)];_0x844ae3[_0x28a227(0xb8)]=()=>{const _0x22f5aa=_0x28a227;_0x844ae3[_0x22f5aa(0x218)]==_0x22f5aa(0x20e)&&navigator[_0x22f5aa(0xfe)]['controller']&&console['log'](_0x22f5aa(0x168));};},navigator[_0x3275b3(0xfe)][_0x3275b3(0xbf)](_0x3275b3(0xec),()=>{const _0x243257=_0x3275b3;showLoadingModal();const _0xac2e36=document[_0x243257(0x24d)](_0x243257(0xe8));_0xac2e36[_0x243257(0x24e)]=_0x243257(0x92),logoutReload(0x1,_0x312096);});})[_0x3599a3(0x1f3)](_0x4eb03a=>console[_0x3599a3(0xa4)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x4eb03a));}function isLoggedIn(_0x349e85){const _0x5604e3=_0x1b3f46;return _0x349e85&&_0x349e85[0x0]&&_0x349e85[0x0][_0x5604e3(0x1b4)];}function apiERPShowContent(){const _0x38d538=_0x1b3f46;document['getElementById'](_0x38d538(0x136))[_0x38d538(0x12b)][_0x38d538(0x111)](_0x38d538(0x108)),document[_0x38d538(0x24d)](_0x38d538(0x1a5))[_0x38d538(0x12b)]['remove']('hidden'),document[_0x38d538(0x24d)](_0x38d538(0x95))[_0x38d538(0x12b)]['add'](_0x38d538(0x108));const _0x21d88a=document[_0x38d538(0x24d)](_0x38d538(0x19e));_0x21d88a&&_0x21d88a[_0x38d538(0x12b)]['remove'](_0x38d538(0x108));}function x64ctotalcal(){const _0x590ba1=_0x1b3f46;return window[_0x590ba1(0x175)][_0x590ba1(0x12d)];}function x64btsparamnumber(_0x514342){const _0x51393b=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x514342==_0x51393b;}function x32btsfirefoxcalc(_0x3df027){const _0x1f88fb=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x3df027==_0x1f88fb;}function x64bitsdescitem(_0x41569f){const _0x4f3a74=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x41569f==_0x4f3a74;}function x43bitsdescglobal(_0x349c78){const _0xd505c2=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x349c78==_0xd505c2;}function x32bitsCompanyTkn(_0x4cd1ee){const _0x57ea0b=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x4cd1ee==_0x57ea0b;}function x64bitsparamnumber(_0xc55a49,_0x13b848){const _0x1dbaa5=_0x13b848;return _0xc55a49==_0x1dbaa5;}function activarRender(_0x3ff835){const _0x2beb5a=_0x1b3f46,_0x3f2610=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x3ff835)];return _0x3f2610[_0x2beb5a(0x125)](!![]);}function saveCompanyToIndexedDB(_0x1f40d5,_0x5a9dd2){return new Promise((_0x3f679a,_0x4286e2)=>{const _0x4ecb2e=_0x48ba,_0x56a676=_0x5a9dd2[_0x4ecb2e(0x6e)](_0x4ecb2e(0x179),_0x4ecb2e(0x1ae)),_0x5366a0=_0x56a676[_0x4ecb2e(0x1ce)](_0x4ecb2e(0x179));_0x5366a0[_0x4ecb2e(0x26d)](),_0x1f40d5['forEach'](_0x6dcfb=>_0x5366a0[_0x4ecb2e(0x148)](_0x6dcfb)),_0x56a676[_0x4ecb2e(0xef)]=()=>_0x3f679a(),_0x56a676[_0x4ecb2e(0x1c2)]=_0x5b3aee=>_0x4286e2(_0x5b3aee[_0x4ecb2e(0x201)][_0x4ecb2e(0xa4)]);});}function loadCompanyFromIndexedDB(_0x506ebf){return new Promise((_0x5470a9,_0x4c6406)=>{const _0x2419ea=_0x48ba,_0xc1e48c=_0x506ebf[_0x2419ea(0x6e)](_0x2419ea(0x179),_0x2419ea(0x195)),_0x3137fd=_0xc1e48c[_0x2419ea(0x1ce)](_0x2419ea(0x179)),_0x13563d=_0x3137fd['getAll']();_0x13563d[_0x2419ea(0x1f0)]=()=>_0x5470a9(_0x13563d[_0x2419ea(0xdc)]),_0x13563d['onerror']=_0x2aa034=>_0x4c6406(_0x2aa034['target'][_0x2419ea(0xa4)]);});}async function initializeCompany(_0x10f9f5){const _0x22cf0a=_0x1b3f46;try{const _0x1d31c7=await loadCompanyFromIndexedDB(_0x10f9f5);company=_0x1d31c7,company['length']>0x0?(console['log']('Company\x20Load.'),myCompany=company[0x0]):console[_0x22cf0a(0xf6)]('Company\x20Empty.');}catch(_0xf0c46f){console['error']('Company\x20Load\x20Error:',_0xf0c46f);}}function loadProductsFromIndexedDB(_0x276fd0){return new Promise((_0x3bf3af,_0x3459ae)=>{const _0x25443f=_0x48ba,_0x7564c4=_0x276fd0['transaction'](_0x25443f(0x7d),_0x25443f(0x195)),_0x35d98c=_0x7564c4['objectStore']('products'),_0x64868e=_0x35d98c['getAll']();_0x64868e[_0x25443f(0x1f0)]=()=>_0x3bf3af(_0x64868e[_0x25443f(0xdc)]),_0x64868e[_0x25443f(0x1c2)]=_0x4abf43=>_0x3459ae(_0x4abf43['target'][_0x25443f(0xa4)]);});}async function initializeProducts(_0x5cacba){const _0x1db9c2=_0x1b3f46;try{const _0x2f6904=await loadProductsFromIndexedDB(_0x5cacba);products=_0x2f6904,products[_0x1db9c2(0x217)]>0x0?console[_0x1db9c2(0xf6)](_0x1db9c2(0x232)):console[_0x1db9c2(0xf6)](_0x1db9c2(0x209));}catch(_0x4f5bc6){console['error']('Products\x20Load\x20Error:',_0x4f5bc6);}}async function validateAccess(_0x2764fd){const _0x35b81e=_0x1b3f46;await initializeCompany(_0x2764fd);if(!isLoggedIn(company))throw new Error(_0x35b81e(0x22d));if(!activarRender(company[0x0][_0x35b81e(0x24b)])){alert(_0x35b81e(0xb9));throw new Error(_0x35b81e(0xb9));}apiERPShowContent();}function initCountrySelector(_0x5ca757){const _0x877e69=_0x1b3f46,_0x5cf95a=_0x5ca757[_0x877e69(0x1cb)](_0x877e69(0x1a3)),_0x16a758=_0x5ca757[_0x877e69(0x1cb)](_0x877e69(0x226));let _0x2519df=_0x5cf95a[_0x877e69(0xcd)][_0x877e69(0x10d)]||'51';function _0x26ac9c(){const _0x3b5cf2=_0x877e69;_0x16a758[_0x3b5cf2(0xb3)][_0x3b5cf2(0xaf)]=_0x5cf95a[_0x3b5cf2(0x159)]+'px';}_0x26ac9c(),window[_0x877e69(0xbf)](_0x877e69(0x1f4),_0x26ac9c),_0x5cf95a['addEventListener'](_0x877e69(0x271),function(_0x56ddbd){const _0x53525d=_0x877e69;_0x56ddbd['stopPropagation'](),_0x26ac9c();const _0x1d9f4e=_0x16a758[_0x53525d(0xb3)][_0x53525d(0x14d)]===_0x53525d(0xae);document[_0x53525d(0x187)](_0x53525d(0x226))[_0x53525d(0xa0)](_0x2c2d72=>{const _0xa75d30=_0x53525d;if(_0x2c2d72!==_0x16a758)_0x2c2d72['style'][_0xa75d30(0x14d)]='none';}),_0x16a758[_0x53525d(0xb3)]['display']=_0x1d9f4e?_0x53525d(0x124):_0x53525d(0xae);}),_0x16a758[_0x877e69(0x187)](_0x877e69(0x7c))[_0x877e69(0xa0)](_0x3e2a3f=>{const _0x1e504a=_0x877e69;_0x3e2a3f[_0x1e504a(0xbf)](_0x1e504a(0x271),function(_0x48e125){const _0x388827=_0x1e504a;_0x48e125[_0x388827(0x119)](),_0x2519df=this[_0x388827(0xcd)][_0x388827(0x1e5)],_0x5cf95a['dataset'][_0x388827(0x10d)]=_0x2519df,_0x5cf95a[_0x388827(0x24e)]=this[_0x388827(0x24e)],_0x16a758['style'][_0x388827(0x14d)]=_0x388827(0x124);});}),document['addEventListener'](_0x877e69(0x271),function(_0x453124){const _0x3509b2=_0x877e69;!_0x5cf95a['contains'](_0x453124[_0x3509b2(0x201)])&&!_0x16a758[_0x3509b2(0x26a)](_0x453124[_0x3509b2(0x201)])&&(_0x16a758['style'][_0x3509b2(0x14d)]=_0x3509b2(0x124));});}function getCredentialsApiWAChat(_0x5ad8cc){const _0x2a0909=_0x1b3f46;return myCompany[_0x2a0909(0xb4)][_0x2a0909(0x1c5)](_0x2c7ef6=>_0x2c7ef6['setCredentialsApiWAChatId']==_0x5ad8cc)||null;}async function sendMessageApiWAChat(_0x3e6117,_0x436b7e,_0x17c788,_0x191f3e,_0x4de309,_0x3be34b,_0x5e7d2f){const _0x2e9f42=_0x1b3f46,_0x8ca728=getCredentialsApiWAChat(_0x3e6117);if(!_0x8ca728)return Promise[_0x2e9f42(0x250)](new Error(_0x2e9f42(0x192)));const _0x15dcb6=_0x8ca728['setCredentialsApiWAChatSubdomain'],_0x398ff1=_0x8ca728[_0x2e9f42(0x88)],_0x1fa274={'type':_0x17c788,'content':_0x191f3e};if(_0x4de309)_0x1fa274[_0x2e9f42(0x109)]=_0x4de309;_0x3be34b&&(_0x1fa274[_0x2e9f42(0x1a4)]=_0x3be34b);_0x5e7d2f&&(_0x1fa274[_0x2e9f42(0x22a)]=_0x5e7d2f);const _0x904ae6=_0x2e9f42(0xf1)+_0x15dcb6+'/wa/'+_0x398ff1+_0x2e9f42(0x1db),_0x1641ac=await fetch(_0x904ae6,{'method':_0x2e9f42(0x1be),'headers':{'Content-Type':_0x2e9f42(0xff),'x-auth-token':myCompany[_0x2e9f42(0x267)]},'body':JSON[_0x2e9f42(0x1eb)]({'to':_0x436b7e,'payload':_0x1fa274})});if(!_0x1641ac['ok']){const _0x3df20f=await _0x1641ac[_0x2e9f42(0xf3)]()[_0x2e9f42(0x1f3)](()=>({}));throw new Error(_0x3df20f['error']||_0x2e9f42(0x178)+_0x1641ac[_0x2e9f42(0x1a2)]);}return _0x1641ac[_0x2e9f42(0xf3)]();}async function saveCredentialsApiWAChatInCompany(){const _0x4209b4=_0x1b3f46,_0x5893b2=document['getElementById'](_0x4209b4(0xb4)),_0x1bc696=_0x5893b2[_0x4209b4(0xd2)],_0x2e1e76=getCredentialsApiWAChat(_0x1bc696);_0x2e1e76&&(myCompany[_0x4209b4(0x19b)]=_0x2e1e76[_0x4209b4(0x25c)]);}function formatVariantName(_0x24ab49,_0x2edd32,_0x5ed4f8){const _0x4caddd=_0x1b3f46;let _0x3ae3cf=String(_0x24ab49||'')[_0x4caddd(0x1e8)]();return Object[_0x4caddd(0x1ed)](_0x2edd32)[_0x4caddd(0xa0)](_0x4c70b6=>{const _0x57f63d=_0x4caddd,_0x153054=String(_0x2edd32[_0x4c70b6]||'')[_0x57f63d(0x1e8)]();if(!_0x153054)return;if(_0x5ed4f8===0x1)_0x3ae3cf+='\x20'+_0x4c70b6+'\x20'+_0x153054;else _0x5ed4f8===0x2&&(_0x3ae3cf+='\x20'+_0x153054);}),_0x3ae3cf;}async function loadCart(_0x57472a){const _0x57361d=_0x1b3f46;try{const _0x6d5d58=await createCartStore(''),_0x35bfc2=[];await validateAccess(_0x6d5d58);const _0x3f0dff=company[0x0][_0x57361d(0x1b4)],_0x3b6b79=company[0x0][_0x57361d(0x121)][_0x57361d(0x1c5)](_0x2de0f5=>_0x2de0f5[_0x57361d(0x252)]==_0x3f0dff[_0x57361d(0x1e4)]),_0x563a74=company[0x0][_0x57361d(0xfb)],_0x162d8d=document[_0x57361d(0x24d)]('setBranchId');_0x162d8d[_0x57361d(0x24e)]='';if(_0x3b6b79&&_0x3b6b79[_0x57361d(0xfb)]){const _0x56d49b=_0x563a74[_0x57361d(0x1f8)](_0x26b6a7=>_0x3b6b79[_0x57361d(0xfb)][_0x57361d(0x1d0)](_0x5b1313=>_0x5b1313[_0x57361d(0x1c7)]==_0x26b6a7[_0x57361d(0x1c7)]));_0x56d49b[_0x57361d(0xa0)](_0x9fcb06=>{const _0x36b801=_0x57361d,_0x1cbf98=document[_0x36b801(0x15f)]('option');_0x1cbf98[_0x36b801(0xd2)]=_0x9fcb06[_0x36b801(0x1c7)],_0x1cbf98[_0x36b801(0x74)]=_0x9fcb06[_0x36b801(0x161)],_0x162d8d[_0x36b801(0x22b)](_0x1cbf98);});}if(_0x57472a==0x1){const _0x21d234=document[_0x57361d(0x24d)](_0x57361d(0x154));_0x21d234['innerHTML']='';if(_0x3b6b79){const _0x4589f6=document[_0x57361d(0x15f)]('option');_0x4589f6[_0x57361d(0xd2)]=_0x3b6b79['setUserCode'],_0x4589f6['textContent']=_0x3b6b79['setUserFullName'],_0x21d234['appendChild'](_0x4589f6);}const _0x5a0217=Array['from'](_0x6d5d58[_0x57361d(0x135)])[_0x57361d(0x1f8)](_0x445eb3=>_0x445eb3[_0x57361d(0x224)](_0x57361d(0x1c9)))[_0x57361d(0x264)](_0x1d2656=>{const _0x4202c3=_0x1d2656['split']('_');return _0x4202c3['length']>=0x3?_0x4202c3[0x2]:null;})['filter'](_0x10d204=>_0x10d204!==null);console[_0x57361d(0xf6)]('windowIds\x20previamente\x20creados:',_0x5a0217);const _0x93bf83=Array[_0x57361d(0x11e)](_0x6d5d58[_0x57361d(0x135)])[_0x57361d(0x1f8)](_0x33b854=>_0x33b854[_0x57361d(0x224)](_0x57361d(0x1c9)))[_0x57361d(0xa1)]((_0x36f6eb,_0x10cb4c)=>{const _0x4f1214=_0x57361d,_0x70cddb=parseInt(_0x36f6eb[_0x4f1214(0x198)]('_')[_0x4f1214(0xf2)](),0xa),_0x1e0368=parseInt(_0x10cb4c['split']('_')[_0x4f1214(0xf2)](),0xa);return _0x70cddb-_0x1e0368;});for(const _0x2a0b63 of _0x93bf83){const _0xac4eed=_0x2a0b63[_0x57361d(0x198)]('_');if(_0xac4eed['length']<0x3){console[_0x57361d(0xa4)](_0x57361d(0x1fe)+_0x2a0b63);continue;}const _0x2204e3=_0xac4eed[0x2];if(_0x5a0217['includes'](_0x2204e3)){const _0x4877d9=new Promise((_0x1f6801,_0x3549a2)=>{const _0x1531b4=_0x57361d,_0x1215b0=_0x6d5d58[_0x1531b4(0x6e)]([_0x2a0b63],_0x1531b4(0x195)),_0x3228f2=_0x1215b0[_0x1531b4(0x1ce)](_0x2a0b63),_0x562417=_0x3228f2[_0x1531b4(0xcb)](_0x2204e3);_0x562417[_0x1531b4(0x1f0)]=function(_0x33399f){const _0x562919=_0x1531b4,_0x30404f=_0x33399f[_0x562919(0x201)][_0x562919(0xdc)];window_options[_0x2204e3]={},_0x30404f&&(window_options[_0x2204e3]={'setTipoOperacionInvoice':_0x30404f[_0x562919(0x262)],'setTipoOperacion':_0x30404f[_0x562919(0x21c)],'setSerie':_0x30404f[_0x562919(0x1e2)],'setCorrelativo':_0x30404f[_0x562919(0x23f)],'setMoneda':_0x30404f['setMoneda'],'setClienteTipoDoc':_0x30404f['setClienteTipoDoc'],'setClienteNumDoc':_0x30404f[_0x562919(0x93)],'setClienteDenominacion':_0x30404f['setClienteDenominacion'],'setClienteDireccion':_0x30404f[_0x562919(0x11f)],'setCustomerPhone':_0x30404f['setCustomerPhone'],'setCustomerEmail':_0x30404f[_0x562919(0xd1)],'setFechaHora':_0x30404f['setFechaHora'],'setSellerId':_0x30404f[_0x562919(0xe1)],'setSellerName':_0x30404f[_0x562919(0x247)],'setDespacho':_0x30404f[_0x562919(0x21a)],'setObservacion':_0x30404f[_0x562919(0x1b8)],'setDescuentoGlobal_Monto':_0x30404f[_0x562919(0x16e)],'setAttachEdit':_0x30404f[_0x562919(0x184)]},console[_0x562919(0xf6)](_0x562919(0x1aa)+_0x2204e3+':',_0x30404f)),Promise['resolve'](updateTab(_0x2204e3))['then'](_0x1f6801)['catch'](_0x314b8b=>{const _0x365dd1=_0x562919;console[_0x365dd1(0xa4)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x314b8b),_0x3549a2(_0x314b8b);});},_0x562417[_0x1531b4(0x1c2)]=function(_0x4ca41e){const _0xdfe8b2=_0x1531b4;console['error'](_0xdfe8b2(0x153)+_0x2204e3+'.',_0x4ca41e[_0xdfe8b2(0x201)][_0xdfe8b2(0xa4)]),_0x3549a2(_0x4ca41e[_0xdfe8b2(0x201)][_0xdfe8b2(0xa4)]);};});_0x35bfc2[_0x57361d(0x20f)](_0x4877d9);}}const _0xc3d11=Array[_0x57361d(0x11e)](_0x6d5d58['objectStoreNames'])[_0x57361d(0x1f8)](_0x2fdd11=>_0x2fdd11[_0x57361d(0x224)]('cart_'))[_0x57361d(0xa1)]((_0x707313,_0x571e2e)=>{const _0x57bc89=_0x57361d,_0x40c32e=parseInt(_0x707313['split']('_')[_0x57bc89(0xf2)](),0xa),_0x5f0c7a=parseInt(_0x571e2e[_0x57bc89(0x198)]('_')[_0x57bc89(0xf2)](),0xa);return _0x40c32e-_0x5f0c7a;});for(const _0x334bf9 of _0xc3d11){const _0x220a5a=_0x334bf9['split']('_')[0x1];!carts[_0x220a5a]&&(carts[_0x220a5a]=[]);const _0x762fd9=new Promise((_0x450ae0,_0x1f5d2c)=>{const _0x172c2c=_0x57361d,_0x14c00f=_0x6d5d58[_0x172c2c(0x6e)]([_0x334bf9],_0x172c2c(0x195)),_0x26e8c4=_0x14c00f[_0x172c2c(0x1ce)](_0x334bf9),_0x3e153d=_0x26e8c4['getAll']();_0x3e153d['onsuccess']=async function(_0x11d2bc){const _0x172c18=_0x172c2c,_0x207619=_0x11d2bc[_0x172c18(0x201)][_0x172c18(0xdc)];carts[_0x220a5a][_0x172c18(0x217)]=0x0,_0x207619[_0x172c18(0xa0)](_0x1c5ecf=>carts[_0x220a5a][_0x172c18(0x20f)](_0x1c5ecf));const _0x1420da=myCompany[_0x172c18(0xdf)][_0x172c18(0x1c5)](_0x50d1b3=>_0x50d1b3[_0x172c18(0x164)]==_0x220a5a),_0x15e106=Array[_0x172c18(0xa5)](_0x1420da[_0x172c18(0x200)])?[..._0x1420da[_0x172c18(0x200)]]:[];if(_0x15e106[_0x172c18(0x217)]>0x0){carts[_0x220a5a]=_0x15e106,_0x1420da[_0x172c18(0x273)]=_0x15e106,_0x1420da[_0x172c18(0x200)]=[];try{const _0x4d9f36=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4d9f36),await saveCart(_0x220a5a),console[_0x172c18(0xf6)](_0x172c18(0x215));}catch(_0x404ca6){console['error'](_0x172c18(0x8d),_0x404ca6);}}renderCart(_0x220a5a),_0x450ae0();},_0x3e153d['onerror']=function(_0xbda6b3){const _0x3d306d=_0x172c2c;console[_0x3d306d(0xa4)](_0x3d306d(0x12c)+_0x220a5a+'.',_0xbda6b3[_0x3d306d(0x201)][_0x3d306d(0xa4)]),_0x1f5d2c(_0xbda6b3[_0x3d306d(0x201)]['error']);};});_0x35bfc2['push'](_0x762fd9);}}if(_0x57472a==0x2||_0x57472a==0x3||_0x57472a==0x4){const _0x1d0479=document[_0x57361d(0x24d)](_0x57361d(0xb1)),_0xde4b7=document[_0x57361d(0x24d)]('setCashierName');_0x1d0479[_0x57361d(0x24e)]='',_0xde4b7[_0x57361d(0x24e)]='',_0x3b6b79&&(_0x1d0479[_0x57361d(0x24e)]=_0x57361d(0x73),_0xde4b7[_0x57361d(0x24e)]=_0x3b6b79[_0x57361d(0x13c)]);}if(_0x57472a==0x1||_0x57472a==0x4){const _0x376cd2=myCompany['setCredentialsApiWAChat'],_0x1d7592=document[_0x57361d(0x24d)](_0x57361d(0xb4));_0x1d7592[_0x57361d(0x24e)]='',_0x376cd2[_0x57361d(0xa0)](_0x16a6e2=>{const _0x45f83f=_0x57361d,_0x4ca650=document[_0x45f83f(0x15f)](_0x45f83f(0x1b7));_0x4ca650[_0x45f83f(0xd2)]=_0x16a6e2['setCredentialsApiWAChatId'],_0x4ca650[_0x45f83f(0x74)]=_0x16a6e2[_0x45f83f(0x114)]??_0x16a6e2[_0x45f83f(0x88)],_0x1d7592['appendChild'](_0x4ca650);}),myCompany?.[_0x57361d(0x19b)]&&(_0x1d7592[_0x57361d(0xd2)]=myCompany[_0x57361d(0x19b)]);}return await Promise['all'](_0x35bfc2),myCompany?.[_0x57361d(0x9a)]&&(document[_0x57361d(0x24d)](_0x57361d(0x1c7))['value']=company[0x0][_0x57361d(0x9a)]),document[_0x57361d(0x24d)](_0x57361d(0x1c7))[_0x57361d(0x12a)](new Event(_0x57361d(0xdd))),_0x57472a==0x1&&(tabCount=getMaxWindowId(carts),console[_0x57361d(0xf6)](_0x57361d(0x18a)+tabCount)),_0x6d5d58;}catch(_0x3912bc){throw _0x3912bc;}}function loadCartAndSetTabCount(_0x13971b){const _0x1b5700=_0x1b3f46;loadCart(_0x13971b)[_0x1b5700(0x118)](async _0x17219f=>{const _0x271c91=_0x1b5700;await initializeProducts(_0x17219f);if(_0x13971b==0x1){if(isLoggedIn(company)){const _0x4c0104=document['getElementById']('windowId')['value'];if(parseFloat(_0x4c0104)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x3f791e=myCompany[_0x271c91(0xdf)][_0x271c91(0x264)](_0x381261=>_0x381261[_0x271c91(0x164)]);await reloadWindowsAndLayout(_0x3f791e);}}}adjustHeight(),showLeftSection(),setActiveTab(_0x271c91(0x11d)),document['addEventListener'](_0x271c91(0x15a),function(_0x2f0708){const _0x19a76d=_0x271c91,_0x53a712=document[_0x19a76d(0x24d)](_0x19a76d(0x188))[_0x19a76d(0xd2)],_0x53a4d5=document[_0x19a76d(0x24d)]('searchInput'),_0x1ffb64=document[_0x19a76d(0x187)]('.product[tabindex=\x270\x27]'),_0x5062e3=document[_0x19a76d(0x24d)](_0x19a76d(0x174)+_0x53a712),_0x5a484f=document['getElementById']('btnSaveOperacion-'+_0x53a712),_0x2c7c13=document['getElementById'](_0x19a76d(0x213));function _0x364a52(_0x91d983){const _0x5e8e58=_0x19a76d;return _0x91d983&&(_0x91d983[_0x5e8e58(0x159)]>0x0||_0x91d983[_0x5e8e58(0x244)]>0x0||_0x91d983['getClientRects']()['length']);}let _0xf298f3=[];if(_0x2c7c13&&_0x2c7c13[_0x19a76d(0x12b)]['contains']('active')){const _0x534b4f=_0x2c7c13['querySelectorAll']('.payment-option');_0x534b4f[_0x19a76d(0xa0)](_0x1bf85b=>{const _0x119f16=_0x19a76d;_0x364a52(_0x1bf85b)&&!_0x1bf85b[_0x119f16(0x12b)][_0x119f16(0x26a)](_0x119f16(0x1ee))&&_0xf298f3[_0x119f16(0x20f)](_0x1bf85b);});const _0x42d717=_0x2c7c13[_0x19a76d(0x1cb)](_0x19a76d(0x137)+_0x53a712);if(_0x42d717){const _0x40f811=_0x42d717[_0x19a76d(0x187)](_0x19a76d(0x106));_0x40f811[_0x19a76d(0xa0)](_0x1b2536=>{const _0x453119=_0x19a76d;_0x364a52(_0x1b2536)&&!_0x1b2536[_0x453119(0x12b)][_0x453119(0x26a)](_0x453119(0x1ee))&&_0xf298f3[_0x453119(0x20f)](_0x1b2536);});}_0x5a484f&&_0x364a52(_0x5a484f)&&!_0x5a484f[_0x19a76d(0x12b)]['contains'](_0x19a76d(0x1ee))&&(!_0xf298f3[_0x19a76d(0x125)](_0x5a484f)&&_0xf298f3[_0x19a76d(0x20f)](_0x5a484f));}else{_0xf298f3=[_0x53a4d5,..._0x1ffb64];if(_0x5062e3)_0xf298f3[_0x19a76d(0x20f)](_0x5062e3);}const _0x11e969=document[_0x19a76d(0xaa)],_0x375967=_0x11e969&&(_0x11e969[_0x19a76d(0x21f)]==_0x19a76d(0x139)||_0x11e969['tagName']==_0x19a76d(0x237));if(_0x2c7c13&&_0x2c7c13[_0x19a76d(0x12b)][_0x19a76d(0x26a)](_0x19a76d(0x16c))&&_0x2f0708[_0x19a76d(0x163)]==_0x19a76d(0x266)){if(_0x11e969&&_0x11e969[_0x19a76d(0x12b)][_0x19a76d(0x26a)](_0x19a76d(0x234))){_0x2f0708['preventDefault'](),_0x11e969[_0x19a76d(0x271)]();return;}}if(_0x2c7c13&&_0x2c7c13['classList'][_0x19a76d(0x26a)](_0x19a76d(0x16c))&&_0x2f0708[_0x19a76d(0x163)]==_0x19a76d(0x14f)&&!_0x2c7c13[_0x19a76d(0x26a)](_0x11e969)){_0x2f0708[_0x19a76d(0xf9)]();_0xf298f3[_0x19a76d(0x217)]>0x0&&_0xf298f3[0x0][_0x19a76d(0x1c8)]();return;}if(_0x2f0708['key']==_0x19a76d(0x14f)){_0x2f0708[_0x19a76d(0xf9)]();if(_0xf298f3[_0x19a76d(0x217)]==0x0)return;let _0x1d7419=_0xf298f3[_0x19a76d(0xe7)](_0x11e969);if(_0x1d7419==-0x1)_0x1d7419=-0x1;let _0x350420;_0x2f0708[_0x19a76d(0x230)]?_0x350420=_0x1d7419<=0x0?_0xf298f3[_0x19a76d(0x217)]-0x1:_0x1d7419-0x1:_0x350420=_0x1d7419==_0xf298f3[_0x19a76d(0x217)]-0x1?0x0:_0x1d7419+0x1;_0xf298f3[_0x350420][_0x19a76d(0x1c8)]();return;}(!_0x2c7c13||!_0x2c7c13[_0x19a76d(0x12b)]['contains'](_0x19a76d(0x16c)))&&!_0x375967&&(_0x2f0708[_0x19a76d(0x163)][_0x19a76d(0x217)]==0x1||_0x2f0708[_0x19a76d(0x163)]=='Backspace'||_0x2f0708['key']=='Delete')&&(_0x2f0708[_0x19a76d(0xf9)](),_0x53a4d5[_0x19a76d(0x1c8)](),_0x2f0708['key']==_0x19a76d(0x265)||_0x2f0708['key']=='Delete'?_0x53a4d5[_0x19a76d(0xd2)]=_0x53a4d5[_0x19a76d(0xd2)][_0x19a76d(0x122)](0x0,-0x1):!_0x53a4d5[_0x19a76d(0xd2)]?_0x53a4d5[_0x19a76d(0xd2)]=_0x2f0708[_0x19a76d(0x163)]:_0x53a4d5[_0x19a76d(0xd2)]+=_0x2f0708[_0x19a76d(0x163)]);}),loadTaxData(),resetNewItemForm();}_0x13971b==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x13971b==0x3){const _0x232c15=document[_0x271c91(0x24d)](_0x271c91(0x1c7))[_0x271c91(0xd2)];fil_BranchesId[_0x271c91(0x20f)](_0x232c15),updateDateRange(_0x271c91(0x225));}_0x13971b==0x4&&init();})[_0x1b5700(0x1f3)](_0x5969ec=>{console['error'](_0x5969ec);})[_0x1b5700(0x1b0)](()=>{_0x13971b==0x1&&updateInternetIcon();let _0x5a7ae7;(_0x13971b==0x1||_0x13971b==0x2||_0x13971b==0x3||_0x13971b==0x4)&&(_0x5a7ae7='./app.js?v=4.2.5'),registerServiceWorker(_0x5a7ae7,_0x13971b);});}