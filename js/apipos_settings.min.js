/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.1
*/

var _0x3fff86=_0x387e;(function(_0x30bb73,_0x682f74){var _0x1d255f=_0x387e,_0x330522=_0x30bb73();while(!![]){try{var _0x5c7902=parseInt(_0x1d255f(0x1af))/0x1+parseInt(_0x1d255f(0x1d4))/0x2*(parseInt(_0x1d255f(0x1eb))/0x3)+-parseInt(_0x1d255f(0x1c8))/0x4*(-parseInt(_0x1d255f(0x21c))/0x5)+parseInt(_0x1d255f(0x1f1))/0x6*(parseInt(_0x1d255f(0x213))/0x7)+-parseInt(_0x1d255f(0x203))/0x8*(parseInt(_0x1d255f(0x1ef))/0x9)+parseInt(_0x1d255f(0x208))/0xa*(-parseInt(_0x1d255f(0x1dd))/0xb)+parseInt(_0x1d255f(0x1f2))/0xc*(-parseInt(_0x1d255f(0x1be))/0xd);if(_0x5c7902===_0x682f74)break;else _0x330522['push'](_0x330522['shift']());}catch(_0x5403e3){_0x330522['push'](_0x330522['shift']());}}}(_0x5081,0x959fe));var _0x36221f=(function(){var _0x515fba=!![];return function(_0x5480b1,_0x275889){var _0x4643c4=_0x515fba?function(){var _0x332a3e=_0x387e;if(_0x275889){var _0x5ec423=_0x275889[_0x332a3e(0x1b9)](_0x5480b1,arguments);return _0x275889=null,_0x5ec423;}}:function(){};return _0x515fba=![],_0x4643c4;};}()),_0x2c6952=_0x36221f(this,function(){var _0x1afc78=_0x387e;return _0x2c6952[_0x1afc78(0x1f0)]()[_0x1afc78(0x1fe)]('(((.+)+)+)+$')[_0x1afc78(0x1f0)]()[_0x1afc78(0x1c7)](_0x2c6952)['search'](_0x1afc78(0x1cf));});_0x2c6952();var _0x3d0c19=(function(){var _0x2aac51=!![];return function(_0x5a72af,_0x145098){var _0x1fea71=_0x2aac51?function(){var _0xf57d7d=_0x387e;if(_0x145098){var _0x31499b=_0x145098[_0xf57d7d(0x1b9)](_0x5a72af,arguments);return _0x145098=null,_0x31499b;}}:function(){};return _0x2aac51=![],_0x1fea71;};}()),_0x275189=_0x3d0c19(this,function(){var _0x4e9fec=_0x387e,_0x296534;try{var _0x228e05=Function(_0x4e9fec(0x201)+_0x4e9fec(0x1cd)+');');_0x296534=_0x228e05();}catch(_0x18fdda){_0x296534=window;}var _0x4b4b4c=_0x296534['console']=_0x296534[_0x4e9fec(0x218)]||{},_0x1b6b37=['log','warn','info','error',_0x4e9fec(0x1c2),'table',_0x4e9fec(0x209)];for(var _0x42b312=0x0;_0x42b312<_0x1b6b37[_0x4e9fec(0x1b4)];_0x42b312++){var _0x1e192b=_0x3d0c19[_0x4e9fec(0x1c7)][_0x4e9fec(0x1ac)][_0x4e9fec(0x212)](_0x3d0c19),_0x57cb3e=_0x1b6b37[_0x42b312],_0x598d62=_0x4b4b4c[_0x57cb3e]||_0x1e192b;_0x1e192b[_0x4e9fec(0x217)]=_0x3d0c19['bind'](_0x3d0c19),_0x1e192b[_0x4e9fec(0x1f0)]=_0x598d62['toString']['bind'](_0x598d62),_0x4b4b4c[_0x57cb3e]=_0x1e192b;}});_0x275189();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x479a1a,_0x523fb7){var _0x12b47c=_0x387e;if(!isOnline())return console[_0x12b47c(0x1d0)](_0x12b47c(0x1aa)),Promise[_0x12b47c(0x1bf)](_0x12b47c(0x1aa));const _0x1aa14c={'setAuthToken':_0x479a1a,'setUsers':_0x523fb7};return fetch(_0x12b47c(0x1e9),{'method':'POST','headers':{'Content-Type':_0x12b47c(0x1db)},'body':JSON[_0x12b47c(0x1e7)](_0x1aa14c)})[_0x12b47c(0x20f)](_0x4d1ea9=>{var _0x54b13c=_0x12b47c;if(!_0x4d1ea9['ok'])throw new Error(_0x54b13c(0x21d)+_0x4d1ea9[_0x54b13c(0x1ae)]);return _0x4d1ea9[_0x54b13c(0x20c)]();})[_0x12b47c(0x20f)](_0x4af729=>{var _0x2ab755=_0x12b47c;if(!_0x4af729[_0x2ab755(0x21f)])throw new Error(_0x4af729[_0x2ab755(0x216)]||_0x2ab755(0x219));return console[_0x2ab755(0x1d0)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x4af729;})[_0x12b47c(0x1ed)](_0x193afd=>{var _0x58530e=_0x12b47c;console[_0x58530e(0x1c9)](_0x58530e(0x1a7),_0x193afd);throw _0x193afd;});}function _0x387e(_0x26cfdb,_0x47af17){var _0x56db83=_0x5081();return _0x387e=function(_0x275189,_0x3d0c19){_0x275189=_0x275189-0x1a6;var _0xcd94b4=_0x56db83[_0x275189];return _0xcd94b4;},_0x387e(_0x26cfdb,_0x47af17);}async function apiERPsyncUsers(){var _0x2c30bf=_0x387e;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0]['setAuthToken'],company[0x0][_0x2c30bf(0x20b)]));}function generatePermissionsPanel(_0x4ae360){var _0x4c626f=_0x387e,_0x13ea37=document[_0x4c626f(0x1f5)]('panel_users');_0x13ea37[_0x4c626f(0x1ec)]='';var _0x54d761=_0x4ae360[0x0]&&_0x4ae360[0x0][_0x4c626f(0x20b)]||[],_0x210ccc=_0x4ae360[0x0]&&_0x4ae360[0x0][_0x4c626f(0x1d1)]||[];for(var _0x55a1eb=0x0;_0x55a1eb<_0x54d761[_0x4c626f(0x1b4)];_0x55a1eb++){var _0x1acb05=_0x54d761[_0x55a1eb],_0x56fa04=document['createElement'](_0x4c626f(0x1ee));_0x56fa04[_0x4c626f(0x214)]='userPerm_container\x20border_blue',_0x56fa04['id']='userPerm_container_'+_0x55a1eb;var _0x219608=document[_0x4c626f(0x1df)]('h3');_0x219608[_0x4c626f(0x214)]=_0x4c626f(0x1c1),_0x219608['textContent']=_0x1acb05[_0x4c626f(0x1f7)]||_0x4c626f(0x1a8)+(_0x55a1eb+0x1),_0x56fa04[_0x4c626f(0x1c0)](_0x219608);var _0x13d4ac=document[_0x4c626f(0x1df)](_0x4c626f(0x1ee));_0x13d4ac[_0x4c626f(0x214)]=_0x4c626f(0x1f4);for(var _0x31f396=0x0;_0x31f396<_0x1acb05[_0x4c626f(0x1d5)][_0x4c626f(0x1b4)];_0x31f396++){var _0x4beb28=_0x1acb05[_0x4c626f(0x1d5)][_0x31f396],_0x3b9b55=document[_0x4c626f(0x1df)]('div');_0x3b9b55['className']='userPerm_item',_0x3b9b55[_0x4c626f(0x1c6)][_0x4c626f(0x1f6)]=_0x55a1eb,_0x3b9b55[_0x4c626f(0x1c6)][_0x4c626f(0x1ff)]=_0x31f396;var _0x23ce67=Number(_0x4beb28[_0x4c626f(0x1e1)]),_0x31af28=document[_0x4c626f(0x1df)](_0x4c626f(0x21b));_0x31af28[_0x4c626f(0x214)]=_0x4c626f(0x1ab),_0x31af28[_0x4c626f(0x1d3)]=!![];if(BOOLEAN_PERMS[_0x4c626f(0x1f3)](_0x4beb28['setPermissionId'])!==-0x1){var _0x321691=document[_0x4c626f(0x1df)](_0x4c626f(0x1f8));_0x321691[_0x4c626f(0x1b5)]='0',_0x321691['textContent']=_0x4beb28[_0x4c626f(0x202)],_0x31af28[_0x4c626f(0x1c0)](_0x321691);var _0x56de3c=document[_0x4c626f(0x1df)](_0x4c626f(0x1f8));_0x56de3c[_0x4c626f(0x1b5)]='1',_0x56de3c['textContent']=_0x4beb28[_0x4c626f(0x1f9)],_0x31af28['appendChild'](_0x56de3c),_0x31af28[_0x4c626f(0x1b5)]=String(_0x23ce67);}else{if(_0x4beb28[_0x4c626f(0x1d7)]===0x9||_0x4beb28[_0x4c626f(0x1d7)]===0xc||_0x4beb28[_0x4c626f(0x1d7)]===0x12){if(_0x4beb28[_0x4c626f(0x1d7)]===0x9){var _0x5ce707=document['createElement']('option');_0x5ce707['value']='0',_0x5ce707[_0x4c626f(0x1a6)]=_0x4beb28[_0x4c626f(0x202)],_0x31af28[_0x4c626f(0x1c0)](_0x5ce707);for(var _0x1f35c1=0x0;_0x1f35c1<_0x210ccc[_0x4c626f(0x1b4)];_0x1f35c1++){var _0x2448ec=_0x210ccc[_0x1f35c1],_0x4436ce=document[_0x4c626f(0x1df)]('option');_0x4436ce[_0x4c626f(0x1b5)]=String(_0x2448ec[_0x4c626f(0x1e2)]),_0x4436ce[_0x4c626f(0x1a6)]=_0x2448ec[_0x4c626f(0x1fd)],_0x31af28['appendChild'](_0x4436ce);}}if(_0x4beb28[_0x4c626f(0x1d7)]===0xc)for(var _0x1f35c1=0x1;_0x1f35c1<=0x4;_0x1f35c1++){var _0x2448ec=_0x1f35c1,_0x4436ce=document[_0x4c626f(0x1df)]('option');_0x4436ce[_0x4c626f(0x1b5)]=String(_0x2448ec),_0x4436ce['textContent']=_0x4c626f(0x207)+_0x2448ec,_0x31af28[_0x4c626f(0x1c0)](_0x4436ce);}if(_0x4beb28[_0x4c626f(0x1d7)]===0x12){var _0x379e4a=myCompany&&myCompany[_0x4c626f(0x1de)]||[],_0x5ce707=document[_0x4c626f(0x1df)](_0x4c626f(0x1f8));_0x5ce707[_0x4c626f(0x1b5)]='0',_0x5ce707[_0x4c626f(0x1a6)]=_0x4beb28[_0x4c626f(0x202)],_0x31af28[_0x4c626f(0x1c0)](_0x5ce707);for(var _0x1f35c1=0x0;_0x1f35c1<_0x379e4a[_0x4c626f(0x1b4)];_0x1f35c1++){var _0x2448ec=_0x379e4a[_0x1f35c1],_0x4436ce=document[_0x4c626f(0x1df)](_0x4c626f(0x1f8));_0x4436ce[_0x4c626f(0x1b5)]=String(_0x2448ec[_0x4c626f(0x1d9)]),_0x4436ce['textContent']=_0x2448ec['setEmailCredentialsSenderEmail'],_0x31af28[_0x4c626f(0x1c0)](_0x4436ce);}}_0x31af28[_0x4c626f(0x1b5)]=String(_0x23ce67);}}_0x3b9b55[_0x4c626f(0x1c0)](_0x31af28),_0x13d4ac['appendChild'](_0x3b9b55);}_0x56fa04[_0x4c626f(0x1c0)](_0x13d4ac);var _0x58ac09=document['createElement'](_0x4c626f(0x1fa));_0x58ac09['className']=_0x4c626f(0x1bc),_0x58ac09[_0x4c626f(0x1a6)]=_0x4c626f(0x1b2),_0x58ac09[_0x4c626f(0x1c6)][_0x4c626f(0x1f6)]=_0x55a1eb;var _0x243ded=document[_0x4c626f(0x1df)](_0x4c626f(0x1fa));_0x243ded['className']=_0x4c626f(0x206),_0x243ded[_0x4c626f(0x1a6)]='Guardar',_0x243ded[_0x4c626f(0x1c6)]['userIndex']=_0x55a1eb,_0x243ded['style']['display']=_0x4c626f(0x200),_0x56fa04['appendChild'](_0x58ac09),_0x56fa04['appendChild'](_0x243ded),_0x13ea37[_0x4c626f(0x1c0)](_0x56fa04),_0x58ac09['addEventListener'](_0x4c626f(0x1b6),onEditClick),_0x243ded['addEventListener'](_0x4c626f(0x1b6),onSaveClick);}}function onEditClick(_0x3875b5){var _0x250ca2=_0x387e,_0x1ef07e=_0x3875b5[_0x250ca2(0x1b1)][_0x250ca2(0x1c6)][_0x250ca2(0x1f6)],_0x417e6f=document[_0x250ca2(0x1f5)]('userPerm_container_'+_0x1ef07e),_0x353cef=_0x417e6f[_0x250ca2(0x1ad)](_0x250ca2(0x1ab));for(var _0x1ffb1e=0x0;_0x1ffb1e<_0x353cef['length'];_0x1ffb1e++){_0x353cef[_0x1ffb1e][_0x250ca2(0x1d3)]=![];}_0x417e6f[_0x250ca2(0x1bd)]('.userPerm_editBtn')[_0x250ca2(0x20d)][_0x250ca2(0x1d6)]=_0x250ca2(0x200),_0x417e6f[_0x250ca2(0x1bd)]('.userPerm_saveBtn')[_0x250ca2(0x20d)][_0x250ca2(0x1d6)]=_0x250ca2(0x1dc),_0x417e6f[_0x250ca2(0x214)]='userPerm_container\x20border_orange';}async function onSaveClick(_0x5c9bf6){var _0x3b7b42=_0x387e,_0x18ddce=_0x5c9bf6[_0x3b7b42(0x1b1)][_0x3b7b42(0x1c6)][_0x3b7b42(0x1f6)],_0x50cb0e=document['getElementById']('userPerm_container_'+_0x18ddce),_0x3b27f7=_0x50cb0e['getElementsByClassName']('userPerm_item');for(var _0x96a157=0x0;_0x96a157<_0x3b27f7[_0x3b7b42(0x1b4)];_0x96a157++){var _0x2fa45c=_0x3b27f7[_0x96a157],_0x48aa8e=parseInt(_0x2fa45c[_0x3b7b42(0x1c6)][_0x3b7b42(0x1f6)],0xa),_0x4825d0=parseInt(_0x2fa45c['dataset']['permIndex'],0xa),_0x3e209a=company[0x0][_0x3b7b42(0x20b)][_0x48aa8e][_0x3b7b42(0x1d5)][_0x4825d0],_0x39de93=_0x2fa45c[_0x3b7b42(0x1ad)](_0x3b7b42(0x1ab))[0x0],_0x2225fe=_0x39de93[_0x3b7b42(0x1b5)];_0x3e209a[_0x3b7b42(0x1e1)]=_0x2225fe,_0x39de93[_0x3b7b42(0x1d3)]=!![],company[0x0][_0x3b7b42(0x20b)][_0x48aa8e][_0x3b7b42(0x1da)]=new Date();}const _0x2ad411=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2ad411),_0x50cb0e[_0x3b7b42(0x1bd)](_0x3b7b42(0x1ca))[_0x3b7b42(0x20d)][_0x3b7b42(0x1d6)]=_0x3b7b42(0x200),_0x50cb0e[_0x3b7b42(0x1bd)](_0x3b7b42(0x1fb))[_0x3b7b42(0x20d)]['display']=_0x3b7b42(0x1e5),_0x50cb0e[_0x3b7b42(0x214)]=_0x3b7b42(0x220),apiERPsyncUsers();}function _0x5081(){var _0x179bac=['.userPerm_saveBtn','forEach','setWarehouseId','{}.constructor(\x22return\x20this\x22)(\x20)','Correlativo','(((.+)+)+)+$','log','setTipoOperaciones','Error\x20cargando\x20operaciones.','disabled','2RujpRg','setPermissions','display','setPermissionId','Fecha','setEmailCredentialsId','setLastDateUpdate','application/json','block','176GLTcNx','setEmailCredentials','createElement','Motivo','setPermissionValue','setTipoOperacionCodigo','dispatchEvent','Tipo','inline-block','setFloorId','stringify','Serie','https://apierp.dev/api/users/update/','setBranchDefault','2527359bNkyWh','innerHTML','catch','div','567VDwfNH','toString','468RtpbJW','3789420QtcdSV','indexOf','userPerm_list','getElementById','userIndex','setUserFullName','option','setPermissionNameTrue','button','.userPerm_editBtn','offline_operations','setTipoOperacionName','search','permIndex','none','return\x20(function()\x20','setPermissionNameFalse','133040rvTZOY','Error\x20leyendo\x20operaciones:','./img/apiPOS.png','userPerm_saveBtn','Número\x20de\x20Decimales:\x20','226240XkprGs','trace','setTipoOperacion','setUsers','json','style','result','then','addEventListener','setCorrelativo','bind','7819iPOZdE','className','onload','message','__proto__','console','Error\x20desconocido\x20al\x20actualizar\x20Data.','setBranchId','select','130145KzYtfC','Error\x20Sync:\x20','table','success','userPerm_container\x20border_blue','textContent','Error\x20al\x20actualizar\x20data\x20online:','Usuario\x20','panel_operations','Error\x20Network.','userPerm_select','prototype','getElementsByClassName','statusText','653901dnImNa','getAll','target','Editar','setFechaHora','length','value','click','offlineOps_table','tbody','apply','change','transaction','userPerm_editBtn','querySelector','13sRxJUL','reject','appendChild','userPerm_header','exception','readonly','setMessage','No\x20hay\x20operaciones\x20pendientes.','dataset','constructor','116xNfyAy','error'];_0x5081=function(){return _0x179bac;};return _0x5081();}function generateOfflineOperationsTable(){var _0x1f00b6=_0x387e,_0x4c5a49=document[_0x1f00b6(0x1f5)](_0x1f00b6(0x1a9));return _0x4c5a49[_0x1f00b6(0x1ec)]='',createCartStore('')[_0x1f00b6(0x20f)](function(_0x5c6854){var _0x379cbe=_0x1f00b6,_0x564c13=_0x5c6854[_0x379cbe(0x1bb)](_0x379cbe(0x1fc),_0x379cbe(0x1c3)),_0x50d502=_0x564c13['objectStore'](_0x379cbe(0x1fc));return new Promise(function(_0x5dd1d4,_0x4762a3){var _0x42eb2d=_0x379cbe,_0x1a2660=_0x50d502[_0x42eb2d(0x1b0)]();_0x1a2660['onsuccess']=function(){var _0x5063bb=_0x42eb2d;_0x5dd1d4(_0x1a2660[_0x5063bb(0x20e)]);},_0x1a2660['onerror']=function(){var _0x52b571=_0x42eb2d;_0x4762a3(_0x1a2660[_0x52b571(0x1c9)]);};});})[_0x1f00b6(0x20f)](function(_0x237a47){var _0x29d43c=_0x1f00b6,_0x191c74=[];for(var _0x48566a=0x0;_0x48566a<_0x237a47[_0x29d43c(0x1b4)];_0x48566a++){_0x237a47[_0x48566a]['apiPOSsendOffline']==0x1&&_0x191c74['push'](_0x237a47[_0x48566a]);}if(_0x191c74[_0x29d43c(0x1b4)]===0x0){_0x4c5a49[_0x29d43c(0x1a6)]=_0x29d43c(0x1c5);return;}var _0x1893f4=document[_0x29d43c(0x1df)](_0x29d43c(0x21e));_0x1893f4[_0x29d43c(0x214)]=_0x29d43c(0x1b7);var _0x85ba26=document[_0x29d43c(0x1df)]('thead'),_0xfb68c=document['createElement']('tr');[_0x29d43c(0x1e4),_0x29d43c(0x1e8),_0x29d43c(0x1ce),_0x29d43c(0x1d8),_0x29d43c(0x1e0)][_0x29d43c(0x1cb)](function(_0x2a1891){var _0xa0cb01=_0x29d43c,_0x57897f=document[_0xa0cb01(0x1df)]('th');_0x57897f['textContent']=_0x2a1891,_0xfb68c[_0xa0cb01(0x1c0)](_0x57897f);}),_0x85ba26[_0x29d43c(0x1c0)](_0xfb68c),_0x1893f4[_0x29d43c(0x1c0)](_0x85ba26);var _0xc9eaf3=document['createElement'](_0x29d43c(0x1b8));_0x191c74['forEach'](function(_0xc18354){var _0x1f8567=_0x29d43c,_0x1daf00=document[_0x1f8567(0x1df)]('tr'),_0x5ef4e5=[_0xc18354[_0x1f8567(0x20a)],_0xc18354['setSerie'],_0xc18354[_0x1f8567(0x211)],_0xc18354[_0x1f8567(0x1b3)],_0xc18354[_0x1f8567(0x1c4)]||''];_0x5ef4e5[_0x1f8567(0x1cb)](function(_0x2e9d94){var _0x3be737=_0x1f8567,_0x56d7ee=document[_0x3be737(0x1df)]('td');_0x56d7ee[_0x3be737(0x1a6)]=_0x2e9d94,_0x1daf00[_0x3be737(0x1c0)](_0x56d7ee);}),_0xc9eaf3['appendChild'](_0x1daf00);}),_0x1893f4[_0x29d43c(0x1c0)](_0xc9eaf3),_0x4c5a49[_0x29d43c(0x1c0)](_0x1893f4);})[_0x1f00b6(0x1ed)](function(_0x1d70a2){var _0x5aa2b5=_0x1f00b6;console['error'](_0x5aa2b5(0x204),_0x1d70a2),_0x4c5a49['textContent']=_0x5aa2b5(0x1d2);});}window[_0x3fff86(0x215)]=function(){var _0x56bebf=_0x3fff86;const _0x1668d2=0x2;loadLoginContent(_0x56bebf(0x205)),setUserNameGet(),setEventBtnAccess();const _0x270252=document[_0x56bebf(0x1bd)]('.btn-logout');_0x270252&&_0x270252['addEventListener'](_0x56bebf(0x1b6),function(){logoutReload(0x0,_0x1668d2);}),document[_0x56bebf(0x1f5)](_0x56bebf(0x21a))[_0x56bebf(0x210)](_0x56bebf(0x1ba),async function(){var _0x3c8859=_0x56bebf;const _0x2fb2ea=parseInt(this[_0x3c8859(0x1b5)]);company[0x0][_0x3c8859(0x1ea)]=_0x2fb2ea;const _0x1646fa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1646fa),cargarAlmacenes(_0x2fb2ea),setTimeout(()=>{var _0x56c56e=_0x3c8859;document['getElementById'](_0x56c56e(0x1cc))[_0x56c56e(0x1e3)](new Event(_0x56c56e(0x1ba)));},0x64),cargarPisos(_0x2fb2ea),setTimeout(()=>{var _0x5aae16=_0x3c8859;document[_0x5aae16(0x1f5)](_0x5aae16(0x1e6))[_0x5aae16(0x1e3)](new Event(_0x5aae16(0x1ba)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x1668d2);};