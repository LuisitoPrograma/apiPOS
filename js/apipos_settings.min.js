/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.9
*/

var _0xab60c4=_0x4424;(function(_0x57b024,_0x1fa3c3){var _0x27c346=_0x4424,_0x18c896=_0x57b024();while(!![]){try{var _0x415a10=parseInt(_0x27c346(0x241))/0x1*(-parseInt(_0x27c346(0x20b))/0x2)+parseInt(_0x27c346(0x216))/0x3*(parseInt(_0x27c346(0x221))/0x4)+parseInt(_0x27c346(0x224))/0x5+-parseInt(_0x27c346(0x209))/0x6*(-parseInt(_0x27c346(0x1db))/0x7)+parseInt(_0x27c346(0x232))/0x8*(-parseInt(_0x27c346(0x234))/0x9)+-parseInt(_0x27c346(0x205))/0xa+-parseInt(_0x27c346(0x201))/0xb*(-parseInt(_0x27c346(0x222))/0xc);if(_0x415a10===_0x1fa3c3)break;else _0x18c896['push'](_0x18c896['shift']());}catch(_0x47960f){_0x18c896['push'](_0x18c896['shift']());}}}(_0x4820,0x99312));var _0x2ba2d1=(function(){var _0x126e91=!![];return function(_0x458b4d,_0x16a269){var _0x58cb41=_0x126e91?function(){if(_0x16a269){var _0x302d82=_0x16a269['apply'](_0x458b4d,arguments);return _0x16a269=null,_0x302d82;}}:function(){};return _0x126e91=![],_0x58cb41;};}()),_0x7c8952=_0x2ba2d1(this,function(){var _0x3d9947=_0x4424;return _0x7c8952[_0x3d9947(0x1e7)]()[_0x3d9947(0x217)](_0x3d9947(0x210))[_0x3d9947(0x1e7)]()['constructor'](_0x7c8952)[_0x3d9947(0x217)](_0x3d9947(0x210));});function _0x4424(_0x554d89,_0x395bae){var _0x132bd0=_0x4820();return _0x4424=function(_0x13e124,_0x20b381){_0x13e124=_0x13e124-0x1d9;var _0x3ec794=_0x132bd0[_0x13e124];return _0x3ec794;},_0x4424(_0x554d89,_0x395bae);}_0x7c8952();var _0x20b381=(function(){var _0x316da6=!![];return function(_0x4f326a,_0x72434a){var _0xbef858=_0x316da6?function(){var _0x2b47d4=_0x4424;if(_0x72434a){var _0x56ea61=_0x72434a[_0x2b47d4(0x1fa)](_0x4f326a,arguments);return _0x72434a=null,_0x56ea61;}}:function(){};return _0x316da6=![],_0xbef858;};}()),_0x13e124=_0x20b381(this,function(){var _0x466e50=_0x4424,_0x1f746b=function(){var _0x4814f6=_0x4424,_0x5b3d54;try{_0x5b3d54=Function(_0x4814f6(0x208)+_0x4814f6(0x227)+');')();}catch(_0x1c3f4a){_0x5b3d54=window;}return _0x5b3d54;},_0x2579cd=_0x1f746b(),_0x45179d=_0x2579cd[_0x466e50(0x226)]=_0x2579cd['console']||{},_0x376a6e=[_0x466e50(0x1eb),_0x466e50(0x21f),_0x466e50(0x248),_0x466e50(0x20c),'exception',_0x466e50(0x1e3),'trace'];for(var _0x203f5c=0x0;_0x203f5c<_0x376a6e[_0x466e50(0x1ed)];_0x203f5c++){var _0x575389=_0x20b381[_0x466e50(0x1f7)][_0x466e50(0x1e1)]['bind'](_0x20b381),_0x453660=_0x376a6e[_0x203f5c],_0x187be8=_0x45179d[_0x453660]||_0x575389;_0x575389['__proto__']=_0x20b381[_0x466e50(0x23c)](_0x20b381),_0x575389[_0x466e50(0x1e7)]=_0x187be8[_0x466e50(0x1e7)][_0x466e50(0x23c)](_0x187be8),_0x45179d[_0x453660]=_0x575389;}});function _0x4820(){var _0x488167=['div','log','permIndex','length','setTipoOperacionName','getElementsByClassName','disabled','inline-block','innerHTML','dataset','offlineOps_table','display','Motivo','constructor','statusText','thead','apply','transaction','Error\x20al\x20actualizar\x20data\x20online:','select','click','userPerm_container\x20border_blue','setFechaHora','10054OerUYn','option','userPerm_select','setTipoOperaciones','1742300GFOPay','forEach','textContent','return\x20(function()\x20','734166jipUAZ','Guardar','14424qfZlUn','error','setPermissions','Error\x20cargando\x20operaciones.','.btn-logout','(((.+)+)+)+$','value','onerror','onsuccess','stringify','change','213QojESl','search','offline_operations','none','.userPerm_saveBtn','reject','result','appendChild','dispatchEvent','warn','setUsers','3916dMHJuj','11940XncoIt','Error\x20desconocido\x20al\x20actualizar\x20Data.','5835775NaBseS','panel_operations','console','{}.constructor(\x22return\x20this\x22)(\x20)','setMessage','setAuthToken','setPermissionNameFalse','userIndex','setCorrelativo','Error\x20Sync:\x20','setEmailCredentials','querySelector','Error\x20Network.','then','32SBFaBL','getAll','1790532fMHRaU','userPerm_container\x20border_orange','createElement','https://apierp.dev/api/users/update/','objectStore','push','No\x20hay\x20operaciones\x20pendientes.','onload','bind','addEventListener','userPerm_header','userPerm_editBtn','Usuario\x20','110QOHLNh','message','setBranchId','POST','setPermissionId','setTipoOperacionCodigo','readonly','info','setFloorId','setUserFullName','userPerm_saveBtn','className','userPerm_container_','Tipo','style','14NPISHR','button','getElementById','setPermissionValue','userPerm_item','Editar','prototype','setPermissionNameTrue','table','indexOf','setTipoOperacion','userPerm_list','toString','catch','tbody'];_0x4820=function(){return _0x488167;};return _0x4820();}_0x13e124();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11];async function apiERPupdateUsersOnline(_0x1e91c1,_0x2e7fb0){var _0x11170e=_0x4424;if(!isOnline())return console[_0x11170e(0x1eb)](_0x11170e(0x230)),Promise[_0x11170e(0x21b)](_0x11170e(0x230));const _0x3def86={'setAuthToken':_0x1e91c1,'setUsers':_0x2e7fb0};return fetch(_0x11170e(0x237),{'method':_0x11170e(0x244),'headers':{'Content-Type':'application/json'},'body':JSON[_0x11170e(0x214)](_0x3def86)})[_0x11170e(0x231)](_0x1ad5dc=>{var _0x29b9e6=_0x11170e;if(!_0x1ad5dc['ok'])throw new Error(_0x29b9e6(0x22d)+_0x1ad5dc[_0x29b9e6(0x1f8)]);return _0x1ad5dc['json']();})[_0x11170e(0x231)](_0x158d4f=>{var _0x4ed2b8=_0x11170e;if(!_0x158d4f['success'])throw new Error(_0x158d4f[_0x4ed2b8(0x242)]||_0x4ed2b8(0x223));return console[_0x4ed2b8(0x1eb)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x158d4f;})['catch'](_0x4da5c7=>{var _0x74a8d9=_0x11170e;console[_0x74a8d9(0x20c)](_0x74a8d9(0x1fc),_0x4da5c7);throw _0x4da5c7;});}async function apiERPsyncUsers(){var _0x3f898b=_0x4424;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x3f898b(0x229)],company[0x0][_0x3f898b(0x220)]));}function generatePermissionsPanel(_0x3f4d1b){var _0x22d40e=_0x4424,_0x397e25=document[_0x22d40e(0x1dd)]('panel_users');_0x397e25['innerHTML']='';var _0xb7a8ef=_0x3f4d1b[0x0]&&_0x3f4d1b[0x0]['setUsers']||[],_0x276dbd=_0x3f4d1b[0x0]&&_0x3f4d1b[0x0][_0x22d40e(0x204)]||[];for(var _0x317009=0x0;_0x317009<_0xb7a8ef[_0x22d40e(0x1ed)];_0x317009++){var _0x14c475=_0xb7a8ef[_0x317009],_0x3478f4=document['createElement']('div');_0x3478f4[_0x22d40e(0x24c)]=_0x22d40e(0x1ff),_0x3478f4['id']=_0x22d40e(0x24d)+_0x317009;var _0x3a8f25=document['createElement']('h3');_0x3a8f25[_0x22d40e(0x24c)]=_0x22d40e(0x23e),_0x3a8f25[_0x22d40e(0x207)]=_0x14c475[_0x22d40e(0x24a)]||_0x22d40e(0x240)+(_0x317009+0x1),_0x3478f4[_0x22d40e(0x21d)](_0x3a8f25);var _0x21665a=document[_0x22d40e(0x236)](_0x22d40e(0x1ea));_0x21665a['className']=_0x22d40e(0x1e6);for(var _0x53e572=0x0;_0x53e572<_0x14c475[_0x22d40e(0x20d)]['length'];_0x53e572++){var _0x26787b=_0x14c475['setPermissions'][_0x53e572],_0x3f48f8=document['createElement'](_0x22d40e(0x1ea));_0x3f48f8[_0x22d40e(0x24c)]=_0x22d40e(0x1df),_0x3f48f8[_0x22d40e(0x1f3)]['userIndex']=_0x317009,_0x3f48f8[_0x22d40e(0x1f3)][_0x22d40e(0x1ec)]=_0x53e572;var _0x13b4ca=Number(_0x26787b[_0x22d40e(0x1de)]),_0x81b797=document[_0x22d40e(0x236)](_0x22d40e(0x1fd));_0x81b797[_0x22d40e(0x24c)]=_0x22d40e(0x203),_0x81b797[_0x22d40e(0x1f0)]=!![];if(BOOLEAN_PERMS[_0x22d40e(0x1e4)](_0x26787b[_0x22d40e(0x245)])!==-0x1){var _0x458c05=document['createElement'](_0x22d40e(0x202));_0x458c05['value']='0',_0x458c05[_0x22d40e(0x207)]=_0x26787b[_0x22d40e(0x22a)],_0x81b797[_0x22d40e(0x21d)](_0x458c05);var _0xab1550=document[_0x22d40e(0x236)](_0x22d40e(0x202));_0xab1550['value']='1',_0xab1550[_0x22d40e(0x207)]=_0x26787b[_0x22d40e(0x1e2)],_0x81b797[_0x22d40e(0x21d)](_0xab1550),_0x81b797['value']=String(_0x13b4ca);}else{if(_0x26787b[_0x22d40e(0x245)]===0x9||_0x26787b[_0x22d40e(0x245)]===0xc||_0x26787b[_0x22d40e(0x245)]===0x12){if(_0x26787b[_0x22d40e(0x245)]===0x9){var _0x2dc5b2=document[_0x22d40e(0x236)](_0x22d40e(0x202));_0x2dc5b2['value']='0',_0x2dc5b2['textContent']=_0x26787b[_0x22d40e(0x22a)],_0x81b797[_0x22d40e(0x21d)](_0x2dc5b2);for(var _0x554df6=0x0;_0x554df6<_0x276dbd[_0x22d40e(0x1ed)];_0x554df6++){var _0x4125fd=_0x276dbd[_0x554df6],_0xc55cf2=document[_0x22d40e(0x236)](_0x22d40e(0x202));_0xc55cf2['value']=String(_0x4125fd[_0x22d40e(0x246)]),_0xc55cf2[_0x22d40e(0x207)]=_0x4125fd[_0x22d40e(0x1ee)],_0x81b797['appendChild'](_0xc55cf2);}}if(_0x26787b[_0x22d40e(0x245)]===0xc)for(var _0x554df6=0x1;_0x554df6<=0x4;_0x554df6++){var _0x4125fd=_0x554df6,_0xc55cf2=document[_0x22d40e(0x236)](_0x22d40e(0x202));_0xc55cf2[_0x22d40e(0x211)]=String(_0x4125fd),_0xc55cf2[_0x22d40e(0x207)]='NÃºmero\x20de\x20Decimales:\x20'+_0x4125fd,_0x81b797[_0x22d40e(0x21d)](_0xc55cf2);}if(_0x26787b[_0x22d40e(0x245)]===0x12){var _0x3d2b69=myCompany&&myCompany[_0x22d40e(0x22e)]||[],_0x2dc5b2=document[_0x22d40e(0x236)](_0x22d40e(0x202));_0x2dc5b2[_0x22d40e(0x211)]='0',_0x2dc5b2[_0x22d40e(0x207)]=_0x26787b[_0x22d40e(0x22a)],_0x81b797[_0x22d40e(0x21d)](_0x2dc5b2);for(var _0x554df6=0x0;_0x554df6<_0x3d2b69['length'];_0x554df6++){var _0x4125fd=_0x3d2b69[_0x554df6],_0xc55cf2=document[_0x22d40e(0x236)]('option');_0xc55cf2[_0x22d40e(0x211)]=String(_0x4125fd['setEmailCredentialsId']),_0xc55cf2[_0x22d40e(0x207)]=_0x4125fd['setEmailCredentialsSenderEmail'],_0x81b797[_0x22d40e(0x21d)](_0xc55cf2);}}_0x81b797['value']=String(_0x13b4ca);}}_0x3f48f8[_0x22d40e(0x21d)](_0x81b797),_0x21665a[_0x22d40e(0x21d)](_0x3f48f8);}_0x3478f4[_0x22d40e(0x21d)](_0x21665a);var _0x5b3cd7=document['createElement'](_0x22d40e(0x1dc));_0x5b3cd7['className']=_0x22d40e(0x23f),_0x5b3cd7[_0x22d40e(0x207)]=_0x22d40e(0x1e0),_0x5b3cd7['dataset']['userIndex']=_0x317009;var _0x479c99=document[_0x22d40e(0x236)](_0x22d40e(0x1dc));_0x479c99[_0x22d40e(0x24c)]=_0x22d40e(0x24b),_0x479c99[_0x22d40e(0x207)]=_0x22d40e(0x20a),_0x479c99['dataset'][_0x22d40e(0x22b)]=_0x317009,_0x479c99[_0x22d40e(0x1da)][_0x22d40e(0x1f5)]=_0x22d40e(0x219),_0x3478f4['appendChild'](_0x5b3cd7),_0x3478f4['appendChild'](_0x479c99),_0x397e25[_0x22d40e(0x21d)](_0x3478f4),_0x5b3cd7['addEventListener'](_0x22d40e(0x1fe),onEditClick),_0x479c99[_0x22d40e(0x23d)](_0x22d40e(0x1fe),onSaveClick);}}function onEditClick(_0x5a726d){var _0xefe7a2=_0x4424,_0x5400a3=_0x5a726d['target'][_0xefe7a2(0x1f3)][_0xefe7a2(0x22b)],_0x514be2=document[_0xefe7a2(0x1dd)](_0xefe7a2(0x24d)+_0x5400a3),_0xce7c54=_0x514be2[_0xefe7a2(0x1ef)]('userPerm_select');for(var _0x3e0f80=0x0;_0x3e0f80<_0xce7c54[_0xefe7a2(0x1ed)];_0x3e0f80++){_0xce7c54[_0x3e0f80][_0xefe7a2(0x1f0)]=![];}_0x514be2[_0xefe7a2(0x22f)]('.userPerm_editBtn')['style'][_0xefe7a2(0x1f5)]=_0xefe7a2(0x219),_0x514be2['querySelector']('.userPerm_saveBtn')[_0xefe7a2(0x1da)]['display']='block',_0x514be2[_0xefe7a2(0x24c)]=_0xefe7a2(0x235);}async function onSaveClick(_0x3b6ec9){var _0x1c2b72=_0x4424,_0x532898=_0x3b6ec9['target']['dataset']['userIndex'],_0x24d065=document[_0x1c2b72(0x1dd)](_0x1c2b72(0x24d)+_0x532898),_0x424d15=_0x24d065['getElementsByClassName']('userPerm_item');for(var _0x50b629=0x0;_0x50b629<_0x424d15[_0x1c2b72(0x1ed)];_0x50b629++){var _0x34ca52=_0x424d15[_0x50b629],_0x3bb861=parseInt(_0x34ca52['dataset'][_0x1c2b72(0x22b)],0xa),_0x1ce448=parseInt(_0x34ca52['dataset'][_0x1c2b72(0x1ec)],0xa),_0x3a25a1=company[0x0][_0x1c2b72(0x220)][_0x3bb861][_0x1c2b72(0x20d)][_0x1ce448],_0x25c24b=_0x34ca52[_0x1c2b72(0x1ef)]('userPerm_select')[0x0],_0x4e21eb=_0x25c24b['value'];_0x3a25a1[_0x1c2b72(0x1de)]=_0x4e21eb,_0x25c24b[_0x1c2b72(0x1f0)]=!![],company[0x0][_0x1c2b72(0x220)][_0x3bb861]['setLastDateUpdate']=new Date();}const _0x54e262=await createCartStore('');await saveCompanyToIndexedDB(company,_0x54e262),_0x24d065[_0x1c2b72(0x22f)](_0x1c2b72(0x21a))['style'][_0x1c2b72(0x1f5)]=_0x1c2b72(0x219),_0x24d065[_0x1c2b72(0x22f)]('.userPerm_editBtn')[_0x1c2b72(0x1da)][_0x1c2b72(0x1f5)]=_0x1c2b72(0x1f1),_0x24d065['className']='userPerm_container\x20border_blue',apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x26c855=_0x4424,_0x4da305=document['getElementById'](_0x26c855(0x225));return _0x4da305[_0x26c855(0x1f2)]='',createCartStore('')[_0x26c855(0x231)](function(_0x21640d){var _0x8c24df=_0x26c855,_0x517de0=_0x21640d[_0x8c24df(0x1fb)](_0x8c24df(0x218),_0x8c24df(0x247)),_0x1556a8=_0x517de0[_0x8c24df(0x238)]('offline_operations');return new Promise(function(_0x4283c6,_0x5636ba){var _0x590c5c=_0x8c24df,_0x3b92ae=_0x1556a8[_0x590c5c(0x233)]();_0x3b92ae[_0x590c5c(0x213)]=function(){var _0x9d2b07=_0x590c5c;_0x4283c6(_0x3b92ae[_0x9d2b07(0x21c)]);},_0x3b92ae[_0x590c5c(0x212)]=function(){_0x5636ba(_0x3b92ae['error']);};});})[_0x26c855(0x231)](function(_0x4acbe8){var _0xb2f9f7=_0x26c855,_0x180ed=[];for(var _0x12199a=0x0;_0x12199a<_0x4acbe8[_0xb2f9f7(0x1ed)];_0x12199a++){_0x4acbe8[_0x12199a]['apiPOSsendOffline']==0x1&&_0x180ed[_0xb2f9f7(0x239)](_0x4acbe8[_0x12199a]);}if(_0x180ed[_0xb2f9f7(0x1ed)]===0x0){_0x4da305[_0xb2f9f7(0x207)]=_0xb2f9f7(0x23a);return;}var _0x4c8e06=document[_0xb2f9f7(0x236)](_0xb2f9f7(0x1e3));_0x4c8e06[_0xb2f9f7(0x24c)]=_0xb2f9f7(0x1f4);var _0xda85cd=document[_0xb2f9f7(0x236)](_0xb2f9f7(0x1f9)),_0x3eeead=document[_0xb2f9f7(0x236)]('tr');[_0xb2f9f7(0x1d9),'Serie','Correlativo','Fecha',_0xb2f9f7(0x1f6)]['forEach'](function(_0x327196){var _0x333671=_0xb2f9f7,_0xf88b16=document[_0x333671(0x236)]('th');_0xf88b16['textContent']=_0x327196,_0x3eeead[_0x333671(0x21d)](_0xf88b16);}),_0xda85cd[_0xb2f9f7(0x21d)](_0x3eeead),_0x4c8e06[_0xb2f9f7(0x21d)](_0xda85cd);var _0x5331eb=document[_0xb2f9f7(0x236)](_0xb2f9f7(0x1e9));_0x180ed[_0xb2f9f7(0x206)](function(_0x47877a){var _0x239f9f=_0xb2f9f7,_0x3b5f80=document[_0x239f9f(0x236)]('tr'),_0x20c048=[_0x47877a[_0x239f9f(0x1e5)],_0x47877a['setSerie'],_0x47877a[_0x239f9f(0x22c)],_0x47877a[_0x239f9f(0x200)],_0x47877a[_0x239f9f(0x228)]||''];_0x20c048[_0x239f9f(0x206)](function(_0x4a5f8b){var _0x390d4d=_0x239f9f,_0x3b471a=document[_0x390d4d(0x236)]('td');_0x3b471a['textContent']=_0x4a5f8b,_0x3b5f80[_0x390d4d(0x21d)](_0x3b471a);}),_0x5331eb[_0x239f9f(0x21d)](_0x3b5f80);}),_0x4c8e06['appendChild'](_0x5331eb),_0x4da305[_0xb2f9f7(0x21d)](_0x4c8e06);})[_0x26c855(0x1e8)](function(_0x433943){var _0xa5c136=_0x26c855;console[_0xa5c136(0x20c)]('Error\x20leyendo\x20operaciones:',_0x433943),_0x4da305[_0xa5c136(0x207)]=_0xa5c136(0x20e);});}window[_0xab60c4(0x23b)]=function(){var _0x4b0b34=_0xab60c4;const _0x42d0e7=0x2;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x5ecf1b=document[_0x4b0b34(0x22f)](_0x4b0b34(0x20f));_0x5ecf1b&&_0x5ecf1b[_0x4b0b34(0x23d)]('click',function(){logoutReload(0x0,_0x42d0e7);}),document['getElementById'](_0x4b0b34(0x243))[_0x4b0b34(0x23d)](_0x4b0b34(0x215),async function(){var _0x2fb373=_0x4b0b34;const _0x5b1c47=parseInt(this[_0x2fb373(0x211)]);company[0x0]['setBranchDefault']=_0x5b1c47;const _0x218acc=await createCartStore('');await saveCompanyToIndexedDB(company,_0x218acc),cargarAlmacenes(_0x5b1c47),setTimeout(()=>{var _0x10a359=_0x2fb373;document[_0x10a359(0x1dd)]('setWarehouseId')[_0x10a359(0x21e)](new Event(_0x10a359(0x215)));},0x64),cargarPisos(_0x5b1c47),setTimeout(()=>{var _0x13d316=_0x2fb373;document[_0x13d316(0x1dd)](_0x13d316(0x249))[_0x13d316(0x21e)](new Event(_0x13d316(0x215)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x42d0e7);};