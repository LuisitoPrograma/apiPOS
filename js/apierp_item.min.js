/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.9
*/

var _0x55cd12=_0x8955;(function(_0x31b8d3,_0x302009){var _0x239026=_0x8955,_0x2d7ae9=_0x31b8d3();while(!![]){try{var _0x30198d=parseInt(_0x239026(0x149))/0x1+parseInt(_0x239026(0x1aa))/0x2*(parseInt(_0x239026(0xd2))/0x3)+-parseInt(_0x239026(0xc9))/0x4+parseInt(_0x239026(0x171))/0x5+-parseInt(_0x239026(0x16d))/0x6*(-parseInt(_0x239026(0xf1))/0x7)+-parseInt(_0x239026(0x1ca))/0x8*(parseInt(_0x239026(0x13d))/0x9)+parseInt(_0x239026(0x17b))/0xa;if(_0x30198d===_0x302009)break;else _0x2d7ae9['push'](_0x2d7ae9['shift']());}catch(_0x552216){_0x2d7ae9['push'](_0x2d7ae9['shift']());}}}(_0x1dfc,0xf1ab9));var _0x1eeb58=(function(){var _0x3b67cc=!![];return function(_0x46861f,_0x5a0b69){var _0x3b14db=_0x3b67cc?function(){if(_0x5a0b69){var _0x3658cf=_0x5a0b69['apply'](_0x46861f,arguments);return _0x5a0b69=null,_0x3658cf;}}:function(){};return _0x3b67cc=![],_0x3b14db;};}()),_0x544586=_0x1eeb58(this,function(){var _0x43ef56=_0x8955;return _0x544586[_0x43ef56(0xb8)]()[_0x43ef56(0xe4)](_0x43ef56(0xe3))[_0x43ef56(0xb8)]()[_0x43ef56(0x12b)](_0x544586)[_0x43ef56(0xe4)](_0x43ef56(0xe3));});_0x544586();var _0x142d2a=(function(){var _0x4458f2=!![];return function(_0x1bcdb4,_0x2d479e){var _0x1096a1=_0x4458f2?function(){var _0x1bb373=_0x8955;if(_0x2d479e){var _0x650bba=_0x2d479e[_0x1bb373(0x19e)](_0x1bcdb4,arguments);return _0x2d479e=null,_0x650bba;}}:function(){};return _0x4458f2=![],_0x1096a1;};}()),_0x5875bb=_0x142d2a(this,function(){var _0x260c24=_0x8955,_0x461726;try{var _0x3de013=Function('return\x20(function()\x20'+_0x260c24(0x13e)+');');_0x461726=_0x3de013();}catch(_0x330728){_0x461726=window;}var _0x56ab2a=_0x461726[_0x260c24(0xfa)]=_0x461726[_0x260c24(0xfa)]||{},_0xbad608=[_0x260c24(0x170),_0x260c24(0x1ad),_0x260c24(0x1c9),_0x260c24(0x169),_0x260c24(0x1cf),_0x260c24(0x179),'trace'];for(var _0x33b5bb=0x0;_0x33b5bb<_0xbad608[_0x260c24(0xc2)];_0x33b5bb++){var _0x4c7f49=_0x142d2a[_0x260c24(0x12b)][_0x260c24(0x1ab)][_0x260c24(0x144)](_0x142d2a),_0x236714=_0xbad608[_0x33b5bb],_0x14d9c6=_0x56ab2a[_0x236714]||_0x4c7f49;_0x4c7f49[_0x260c24(0x1c0)]=_0x142d2a['bind'](_0x142d2a),_0x4c7f49['toString']=_0x14d9c6[_0x260c24(0xb8)][_0x260c24(0x144)](_0x14d9c6),_0x56ab2a[_0x236714]=_0x4c7f49;}});_0x5875bb();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document[_0x55cd12(0x162)](_0x55cd12(0x1bf)),prodC=document[_0x55cd12(0x162)](_0x55cd12(0xc5)),vgCount=0x0,varContainer=document['getElementById'](_0x55cd12(0xd0)),vgC=document[_0x55cd12(0x162)](_0x55cd12(0x147));const fileInput=document['getElementById'](_0x55cd12(0x1b9)),progressBar=document[_0x55cd12(0x162)](_0x55cd12(0x198)),statusDiv=document[_0x55cd12(0x162)](_0x55cd12(0xdf)),uploadBtn=document[_0x55cd12(0x162)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x55cd12(0xc8)),dropZone=document[_0x55cd12(0x162)](_0x55cd12(0x167)),removeBtn=document['getElementById'](_0x55cd12(0x19a));function showModalCreateItem(_0x27acf6){var _0x60e6c1=_0x55cd12;const _0x89e6c1=document[_0x60e6c1(0x162)](_0x60e6c1(0x109)),_0x42ee45=document[_0x60e6c1(0x162)]('modalOverlayCreateItem');_0x89e6c1[_0x60e6c1(0x17a)][_0x60e6c1(0xdd)](_0x60e6c1(0xb6)),_0x42ee45[_0x60e6c1(0xeb)][_0x60e6c1(0x18e)]=_0x60e6c1(0xee);const _0x3da9d5=document[_0x60e6c1(0x162)](_0x60e6c1(0x122));_0x3da9d5['value']=parseInt(_0x27acf6),baseItem[_0x60e6c1(0x122)]=parseInt(_0x27acf6);const _0x4aeaa3=document[_0x60e6c1(0x162)](_0x60e6c1(0x15b));_0x27acf6==0x0&&(_0x4aeaa3['innerHTML']='Nuevo\x20Producto');_0x27acf6==0x1&&(_0x4aeaa3[_0x60e6c1(0x1c8)]='Producto\x20Libre');const _0x2860de=document['getElementsByClassName'](_0x60e6c1(0x16f));for(let _0xd99622=0x0;_0xd99622<_0x2860de['length'];_0xd99622++){const _0x25720f=_0x2860de[_0xd99622];if(_0x27acf6==0x0)_0x25720f[_0x60e6c1(0x17a)]['remove'](_0x60e6c1(0x1ce));else _0x27acf6==0x1&&_0x25720f[_0x60e6c1(0x17a)][_0x60e6c1(0xdd)](_0x60e6c1(0x1ce));}}function hideModalCreateItem(){var _0x542489=_0x55cd12;const _0x3d80d5=document[_0x542489(0x162)]('detalleModalCreateItem'),_0x67a85f=document[_0x542489(0x162)](_0x542489(0x188));_0x3d80d5[_0x542489(0x17a)][_0x542489(0x19b)]('active'),_0x67a85f['style'][_0x542489(0x18e)]=_0x542489(0xd4);}document[_0x55cd12(0x162)](_0x55cd12(0x180))['addEventListener'](_0x55cd12(0x178),hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x55cd12(0xc1)](_0x55cd12(0x178),_0x51a5d4=>{var _0x32dce=_0x55cd12;_0x51a5d4[_0x32dce(0x186)]==_0x51a5d4[_0x32dce(0x134)]&&_0x51a5d4['stopPropagation']();});function loadTaxData(){var _0x287520=_0x55cd12;const _0x32a263=document[_0x287520(0x162)](_0x287520(0x11d));_0x32a263['innerHTML']='',company[0x0][_0x287520(0x10c)]['forEach'](function(_0x3104de){var _0xa30c08=_0x287520;const _0x4ec55b=document[_0xa30c08(0xfc)](_0xa30c08(0x195));_0x4ec55b[_0xa30c08(0x145)]=_0x3104de['setTaxId'],_0x4ec55b[_0xa30c08(0x1c8)]=_0x3104de[_0xa30c08(0x115)]+'\x20('+_0x3104de['setImpuestoValue']+'%)',_0x3104de[_0xa30c08(0x1dc)]==company[0x0][_0xa30c08(0x163)]&&(_0x4ec55b[_0xa30c08(0xea)]=!![]),_0x32a263['appendChild'](_0x4ec55b);});}function uniqueValuesArray(_0x5b41e0,_0x448c10,_0x5a06a5){var _0x2b1328=_0x55cd12;const _0x1f22b7=Array[_0x2b1328(0x10b)](new Set(_0x5a06a5[_0x2b1328(0xfb)](_0x257e51=>{var _0x564dd7=_0x2b1328;const _0x1d893b=_0x257e51[_0x5b41e0];return typeof _0x1d893b===_0x564dd7(0x118)?_0x1d893b[_0x564dd7(0x133)]():_0x1d893b;})[_0x2b1328(0x127)](_0x543393=>_0x543393!=null&&_0x543393!=='')));return _0x1f22b7[_0x2b1328(0xfb)](_0x17d62c=>{var _0x1a9aa3=_0x2b1328;const _0x465e47=_0x5a06a5[_0x1a9aa3(0x197)](_0x4a57fb=>_0x4a57fb[_0x5b41e0]===_0x17d62c),_0x4c5570=_0x465e47&&_0x465e47[_0x448c10]!=null?String(_0x465e47[_0x448c10])[_0x1a9aa3(0x133)]():_0x17d62c;return{'setCode':_0x17d62c,'setName':_0x4c5570};});}function fillSelect(_0x5ac6bd,_0x4036da,_0x706487,_0x4d2f6d){var _0x3f302b=_0x55cd12;_0x5ac6bd['innerHTML']='',_0x4036da[_0x3f302b(0x1af)](function(_0x4dd56e){var _0xc4c020=_0x3f302b,_0x39fb96=new Option(_0x4dd56e[_0x4d2f6d],_0x4dd56e[_0x706487]);_0x5ac6bd[_0xc4c020(0xdd)](_0x39fb96);});}function initMulti(_0x176470,_0xc47d8c){var _0x2bd74e=_0x55cd12,_0xb36623=document['getElementById'](_0x176470),_0x1e0f6f=_0xb36623['querySelector'](_0x2bd74e(0x116)),_0x5f3a50=_0xb36623[_0x2bd74e(0x1d7)](_0x2bd74e(0x153)),_0x53816e=_0xb36623['querySelector'](_0x2bd74e(0x1ae)),_0x5264a7=_0xc47d8c[_0x2bd74e(0x124)](),_0x3d5309=[];function _0x244d11(){var _0x374175=_0x2bd74e;_0x5f3a50[_0x374175(0x1c8)]='',_0x5264a7[_0x374175(0x127)](function(_0x54b687){var _0x4426fb=_0x374175;return _0x54b687['setName']['toLowerCase']()['indexOf'](_0x1e0f6f[_0x4426fb(0x145)]['toLowerCase']())!==-0x1;})[_0x374175(0x1af)](function(_0x26ef5c){var _0x2fc0fd=_0x374175,_0x4da8d9=document[_0x2fc0fd(0xfc)](_0x2fc0fd(0x18d));_0x4da8d9[_0x2fc0fd(0x137)]=_0x26ef5c[_0x2fc0fd(0xff)],_0x4da8d9[_0x2fc0fd(0x17d)][_0x2fc0fd(0x1b6)]=_0x26ef5c[_0x2fc0fd(0x1cc)],_0x5f3a50[_0x2fc0fd(0x176)](_0x4da8d9),_0x4da8d9[_0x2fc0fd(0xc1)](_0x2fc0fd(0x178),function(){var _0x1c0f71=_0x2fc0fd;_0x3d5309[_0x1c0f71(0x17e)](_0x26ef5c),_0x5264a7[_0x1c0f71(0xb5)](_0x5264a7[_0x1c0f71(0x1d1)](function(_0x3248a3){var _0x27558a=_0x1c0f71;return _0x3248a3[_0x27558a(0x1cc)]===_0x26ef5c[_0x27558a(0x1cc)];}),0x1),_0x1e0f6f[_0x1c0f71(0x145)]='',_0x291453(),_0x244d11();});});}function _0x291453(){var _0x21ada6=_0x2bd74e;_0x53816e[_0x21ada6(0x1c8)]='',_0x3d5309[_0x21ada6(0x1af)](function(_0x1cb6ba){var _0x15f94f=_0x21ada6,_0x214087=document['createElement'](_0x15f94f(0x18d));_0x214087[_0x15f94f(0x14b)]=_0x15f94f(0x14d),_0x214087[_0x15f94f(0x137)]=_0x1cb6ba['setName'];var _0x706243=document['createElement'](_0x15f94f(0x160));_0x706243['className']=_0x15f94f(0xb9),_0x706243[_0x15f94f(0x137)]='×',_0x706243['addEventListener'](_0x15f94f(0x178),function(){var _0x28d3ff=_0x15f94f;_0x5264a7['push'](_0x1cb6ba);const _0x2df55a=_0x3d5309[_0x28d3ff(0x1d1)](function(_0x4dfb56){var _0xcf14b5=_0x28d3ff;return _0x4dfb56[_0xcf14b5(0x1cc)]===_0x1cb6ba['setCode'];});if(_0x2df55a>-0x1)_0x3d5309[_0x28d3ff(0xb5)](_0x2df55a,0x1);_0x291453(),_0x244d11();}),_0x214087[_0x15f94f(0x176)](_0x706243),_0x53816e[_0x15f94f(0x176)](_0x214087);}),_0xb36623[_0x21ada6(0x1a7)](new CustomEvent('selectionChange',{'bubbles':!![]}));}return _0x1e0f6f[_0x2bd74e(0xc1)]('focus',function(){var _0x258dbe=_0x2bd74e;_0x5f3a50[_0x258dbe(0x17a)][_0x258dbe(0x19b)](_0x258dbe(0x138));}),_0x1e0f6f[_0x2bd74e(0xc1)]('input',_0x244d11),_0x1e0f6f['addEventListener'](_0x2bd74e(0xda),function(_0x4e2a4c){var _0x37dec9=_0x2bd74e;if(_0x4e2a4c['key']===_0x37dec9(0xbc)){_0x4e2a4c['preventDefault']();const _0x2edf4c=_0x1e0f6f[_0x37dec9(0x145)][_0x37dec9(0x133)]();if(!_0x2edf4c)return;const _0x3ed798=_0x3d5309[_0x37dec9(0x1a6)](_0x1feec4=>_0x1feec4['setName']===_0x2edf4c),_0x13a19d=_0x5264a7['some'](_0x3b5658=>_0x3b5658[_0x37dec9(0xff)]===_0x2edf4c);if(!_0x3ed798&&!_0x13a19d){const _0x447b63={'setCode':_0x2edf4c,'setName':_0x2edf4c};_0x3d5309[_0x37dec9(0x17e)](_0x447b63),_0x291453(),_0x244d11();}_0x1e0f6f[_0x37dec9(0x145)]='';}}),document[_0x2bd74e(0xc1)](_0x2bd74e(0x178),function(_0x3c8a60){var _0x35ef4d=_0x2bd74e;if(!_0xb36623[_0x35ef4d(0x111)](_0x3c8a60['target']))_0x5f3a50[_0x35ef4d(0x17a)][_0x35ef4d(0xdd)](_0x35ef4d(0x138));}),_0x244d11(),_0x3d5309;}function getLastCode(_0x8da0ae){var _0x473697=_0x55cd12;const _0x4894b5=_0x8da0ae['map'](_0x1ff6d6=>String(_0x1ff6d6['setCodProducto'])[_0x473697(0x133)]())['filter'](_0x4cbadb=>_0x4cbadb!=='');if(_0x4894b5[_0x473697(0xc2)]===0x0)return'';const _0x368258=_0x4894b5[_0x473697(0x103)](_0x560e6a=>/^\d+$/[_0x473697(0x156)](_0x560e6a));if(_0x368258){const _0x2569d3=_0x4894b5['map'](Number),_0x5e4339=Math[_0x473697(0xe2)](..._0x2569d3);return String(_0x5e4339);}let _0x22bed5;if(typeof Intl!==_0x473697(0x184)&&Intl[_0x473697(0x18f)]){const _0x36a5a7=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x473697(0xf2)});_0x22bed5=_0x4894b5[_0x473697(0x124)]()['sort'](_0x36a5a7[_0x473697(0xcc)]);}else{const _0x1e026f=_0x4894b5[_0x473697(0x103)](_0x19afb5=>/^\d+$/[_0x473697(0x156)](_0x19afb5));_0x1e026f?_0x22bed5=_0x4894b5[_0x473697(0xfb)](Number)[_0x473697(0xec)]((_0x3c66dc,_0x5abd0f)=>_0x3c66dc-_0x5abd0f)[_0x473697(0xfb)](String):_0x22bed5=_0x4894b5['slice']()[_0x473697(0xec)]();}return _0x22bed5[_0x22bed5[_0x473697(0xc2)]-0x1];}function getNextCode(_0x42ca77){var _0x5b6878=_0x55cd12;const _0x21212d=getLastCode(_0x42ca77);if(!_0x21212d)return'';if(/^\d+$/['test'](_0x21212d))return String(Number(_0x21212d)+0x1);const _0x5e0d9b=_0x21212d[_0x5b6878(0xc7)](/^([A-Za-z]*)(\d+)$/);if(_0x5e0d9b){const [,_0xf2641b,_0x3df7d0]=_0x5e0d9b,_0x328904=String(Number(_0x3df7d0)+0x1)[_0x5b6878(0x1a1)](_0x3df7d0['length'],'0');return _0xf2641b+_0x328904;}return _0x21212d;}document[_0x55cd12(0x162)]('inputItemName')[_0x55cd12(0xc1)](_0x55cd12(0x192),function(_0x4ab9f7){var _0x59980e=_0x55cd12;baseItem[_0x59980e(0x1b0)]=_0x4ab9f7['target'][_0x59980e(0x145)];}),document[_0x55cd12(0x162)](_0x55cd12(0x11f))[_0x55cd12(0xc1)]('input',function(_0x35eeae){var _0x18e09f=_0x55cd12;baseItem[_0x18e09f(0x1a0)]=_0x35eeae[_0x18e09f(0x186)]['value'];}),document['getElementById'](_0x55cd12(0xe5))[_0x55cd12(0xc1)]('input',function(_0x482948){var _0x226df9=_0x55cd12;baseItem[_0x226df9(0x1d3)]=_0x482948[_0x226df9(0x186)]['value'];}),document['getElementById'](_0x55cd12(0x187))[_0x55cd12(0xc1)](_0x55cd12(0x13b),function(_0x3e1fe9){var _0x396d05=_0x55cd12;baseItem[_0x396d05(0x199)]=_0x3e1fe9['target'][_0x396d05(0x145)];}),document[_0x55cd12(0x162)]('inputItemTax')['addEventListener'](_0x55cd12(0x13b),function(_0x3b3fba){var _0x22914d=_0x55cd12;baseItem['setItemTaxId']=_0x3b3fba[_0x22914d(0x186)][_0x22914d(0x145)];const _0x3c5dfe=_0x3b3fba[_0x22914d(0x186)]['value'],_0x5c8e55=company[0x0][_0x22914d(0x10c)][_0x22914d(0x197)](_0x146f35=>_0x146f35[_0x22914d(0x1dc)]==_0x3c5dfe)?.[_0x22914d(0x11e)]||0x0,_0x36ef53=company[0x0][_0x22914d(0x10c)][_0x22914d(0x197)](_0x549159=>_0x549159[_0x22914d(0x1dc)]==_0x3c5dfe)?.[_0x22914d(0x161)]||0x0;baseItem[_0x22914d(0xf6)]=_0x5c8e55,baseItem['setItemTaxValue']=_0x36ef53;}),document[_0x55cd12(0x162)](_0x55cd12(0xc0))[_0x55cd12(0xc1)](_0x55cd12(0x13b),function(_0x42a7a2){var _0x52afdb=_0x55cd12;baseItem[_0x52afdb(0x1b1)]=_0x42a7a2[_0x52afdb(0x186)][_0x52afdb(0x10a)];}),document[_0x55cd12(0x162)](_0x55cd12(0x166))['addEventListener']('change',function(_0x1e68d0){var _0x490eba=_0x55cd12;baseItem[_0x490eba(0xb7)]=_0x1e68d0[_0x490eba(0x186)][_0x490eba(0x10a)];}),document[_0x55cd12(0x162)](_0x55cd12(0x168))[_0x55cd12(0xc1)](_0x55cd12(0x192),function(_0xbae3d0){var _0x1740b4=_0x55cd12;baseItem[_0x1740b4(0x196)]=_0xbae3d0[_0x1740b4(0x186)]['value'];}),document['getElementById'](_0x55cd12(0x106))[_0x55cd12(0xc1)](_0x55cd12(0x192),function(_0x38f332){var _0x218e86=_0x55cd12;baseItem[_0x218e86(0xbd)]=_0x38f332[_0x218e86(0x186)][_0x218e86(0x145)];}),document[_0x55cd12(0x162)]('newItem_btn_addUnit')['addEventListener'](_0x55cd12(0x178),function(){addUnit(),updateUnitsArray();}),document[_0x55cd12(0x162)]('inputItemCode')[_0x55cd12(0xc1)](_0x55cd12(0xc3),function(){var _0x52d682=_0x55cd12;const _0x53f88f=this[_0x52d682(0x145)][_0x52d682(0x133)]();if(_0x53f88f==='')return;const _0x5b5c04=products[_0x52d682(0x1a6)](_0xc3394d=>_0xc3394d['setCodProducto']==_0x53f88f),_0x1ae78=getLastCode(products);_0x5b5c04?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x1ae78,0x2,0x1):ntfShow(_0x52d682(0x18c),0x1,0x1);});function removeImg(_0x4f6f50){var _0x53eacb=_0x55cd12;currentImages[_0x4f6f50]=null;var _0x1db589=imgC['querySelector'](_0x53eacb(0x107)+_0x4f6f50+'\x22]');_0x1db589[_0x53eacb(0x1c8)]='';var _0x45a78c=document[_0x53eacb(0xfc)](_0x53eacb(0x192));_0x45a78c[_0x53eacb(0xed)]=_0x53eacb(0x1c1),_0x45a78c['accept']=_0x53eacb(0x155),_0x45a78c['style'][_0x53eacb(0x18e)]=_0x53eacb(0xd4);var _0x539b76=document['createElement'](_0x53eacb(0x160));_0x539b76[_0x53eacb(0x137)]='+',_0x1db589[_0x53eacb(0x176)](_0x45a78c),_0x1db589['appendChild'](_0x539b76),_0x1db589[_0x53eacb(0xc1)]('click',function(){var _0x45698a=_0x53eacb;_0x45a78c[_0x45698a(0x178)]();}),baseItem[_0x53eacb(0x189)]=currentImages[_0x53eacb(0x127)](function(_0x50dd46){return _0x50dd46;});}function addUnit(_0x25d562,_0x503854,_0x4aea07,_0x1dac4a,_0x228af3,_0x51d610,_0x1bd142){var _0x37bf60=_0x55cd12,_0x514eb3=uniqueValuesArray(_0x37bf60(0x112),'setUnidad',products);_0x25d562=_0x25d562||'',_0x503854=_0x503854||_0x514eb3[0x0]&&_0x514eb3[0x0][_0x37bf60(0x1cc)]||'',_0x4aea07=_0x4aea07!==undefined?_0x4aea07:0x1,_0x1dac4a=!!_0x1dac4a,_0x228af3=_0x228af3||'',_0x51d610=_0x51d610||'';var _0x5aa153=unitCount++,_0x594288=document['createElement']('div');_0x594288[_0x37bf60(0x17d)][_0x37bf60(0xfd)]=_0x5aa153,_0x594288[_0x37bf60(0x17d)]['default']=_0x1dac4a,_0x594288[_0x37bf60(0x1c8)]=_0x37bf60(0xf4)+_0x5aa153+_0x37bf60(0x139)+_0x25d562+_0x37bf60(0x175)+_0x5aa153+_0x37bf60(0x181)+_0x5aa153+_0x37bf60(0x139)+_0x4aea07+'\x22\x20'+(_0x1dac4a?_0x37bf60(0x13c):'')+_0x37bf60(0x1a3)+_0x5aa153+_0x37bf60(0x139)+_0x228af3+_0x37bf60(0xfe)+_0x5aa153+'\x22\x20value=\x22'+_0x51d610+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x1dac4a?_0x37bf60(0xf3):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x594288['querySelector'](_0x37bf60(0xde)),_0x514eb3,'setCode',_0x37bf60(0xff)),_0x594288[_0x37bf60(0x1d7)](_0x37bf60(0xde))[_0x37bf60(0x145)]=_0x503854,[_0x37bf60(0x1ac),_0x37bf60(0x1cd),_0x37bf60(0xd5),_0x37bf60(0x152),_0x37bf60(0x19f)][_0x37bf60(0x1af)](function(_0x466428){var _0x1738bf=_0x37bf60;_0x594288[_0x1738bf(0x1d7)]('.'+_0x466428)[_0x1738bf(0xc1)]('input',function(){var _0x1cde01=_0x1738bf,_0x2f9fca=_0x1bd142?+_0x1bd142['id'][_0x1cde01(0x104)]('_')[0x1]:null;if(_0x1bd142)updateVariantUnits(_0x2f9fca);else updateUnitsArray();});}),_0x594288[_0x37bf60(0x1d7)](_0x37bf60(0x1db))[_0x37bf60(0xc1)](_0x37bf60(0x178),function(){var _0x21d908=_0x37bf60;_0x594288[_0x21d908(0x19b)]();var _0x2b18d0=_0x1bd142?+_0x1bd142['id'][_0x21d908(0x104)]('_')[0x1]:null;if(_0x1bd142)updateVariantUnits(_0x2b18d0);else updateUnitsArray();});var _0x22db9a=_0x1bd142||document[_0x37bf60(0x162)](_0x37bf60(0x1d9));_0x22db9a[_0x37bf60(0x176)](_0x594288);}function _0x8955(_0x5f8530,_0xc5776f){var _0x2c0e3c=_0x1dfc();return _0x8955=function(_0x5875bb,_0x142d2a){_0x5875bb=_0x5875bb-0xb4;var _0x150904=_0x2c0e3c[_0x5875bb];return _0x150904;},_0x8955(_0x5f8530,_0xc5776f);}function containerIdx(_0x488b33){var _0x59d56e=_0x55cd12;return+_0x488b33['id'][_0x59d56e(0x104)]('_')[0x1];}function updateUnitsArray(){var _0x483146=_0x55cd12,_0xd70f80=[],_0x58c987=Array[_0x483146(0x10b)](document['querySelectorAll']('#newItem_units_container\x20>\x20div')),_0x42ea00=_0x58c987[_0x483146(0x197)](_0x3c8c1f=>_0x3c8c1f['dataset']['default']===_0x483146(0x16a)),_0x733634=_0x42ea00?+_0x42ea00[_0x483146(0x1d7)]('.eqInput')[_0x483146(0x145)]:0x1;_0x58c987['forEach'](function(_0x4df4c1){var _0x1f9ed5=_0x483146,_0x21ca2b=+_0x4df4c1[_0x1f9ed5(0x1d7)](_0x1f9ed5(0x1a9))['value']||0x0,_0x1beb3c=+_0x4df4c1['querySelector'](_0x1f9ed5(0x16e))[_0x1f9ed5(0x145)]||0x0,_0x185701=+_0x4df4c1[_0x1f9ed5(0x1d7)](_0x1f9ed5(0x11c))[_0x1f9ed5(0x145)]||0x0;_0xd70f80[_0x1f9ed5(0x17e)]({'setAlias':_0x4df4c1[_0x1f9ed5(0x1d7)](_0x1f9ed5(0x119))[_0x1f9ed5(0x145)][_0x1f9ed5(0x133)](),'setUnitCode':_0x4df4c1[_0x1f9ed5(0x1d7)](_0x1f9ed5(0xde))[_0x1f9ed5(0x145)],'setEquivalence':_0x21ca2b,'setFactor':_0x4df4c1[_0x1f9ed5(0x17d)][_0x1f9ed5(0xe1)]===_0x1f9ed5(0x16a)?0x1:_0x21ca2b==_0x733634?0x1:_0x21ca2b<_0x733634?_0x733634/_0x21ca2b:_0x21ca2b/_0x733634,'setPrice':_0x1beb3c,'setCost':_0x185701,'setDefault':_0x4df4c1[_0x1f9ed5(0x17d)][_0x1f9ed5(0xe1)]===_0x1f9ed5(0x16a)?0x1:0x0});}),baseItem['setItemUnits']=_0xd70f80;}function updateBranches(){var _0x48f742=_0x55cd12,_0x26b9e9=[];document[_0x48f742(0xbe)]('#newItem_branches_container\x20>\x20div')[_0x48f742(0x1af)](function(_0x2230f1){var _0x2cd585=_0x48f742,_0x4672a1=_0x2230f1[_0x2cd585(0x1d7)](_0x2cd585(0xd7));if(_0x4672a1[_0x2cd585(0x10a)]){var _0x390409=+_0x4672a1[_0x2cd585(0x17d)]['id'],_0x44e171=+_0x2230f1[_0x2cd585(0x1d7)]('.branchInit')[_0x2cd585(0x145)],_0x4a0c26=+_0x2230f1[_0x2cd585(0x1d7)](_0x2cd585(0x1ba))[_0x2cd585(0x145)];_0x26b9e9['push']({'setWarehouseCode':_0x390409,'setStockInitial':_0x44e171,'setStockMinimum':_0x4a0c26});}}),baseItem['setItemWarehouses']=_0x26b9e9;}document[_0x55cd12(0x162)](_0x55cd12(0x15a))['addEventListener'](_0x55cd12(0x178),function(){var _0x5aedac=_0x55cd12,_0x1e2b78=Date['now'](),_0x4333e9=document[_0x5aedac(0xfc)](_0x5aedac(0x18d));_0x4333e9['dataset'][_0x5aedac(0xfd)]=_0x1e2b78,_0x4333e9[_0x5aedac(0x1c8)]=_0x5aedac(0xba)+_0x1e2b78+_0x5aedac(0xd6)+_0x1e2b78+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x5aedac(0x176)](_0x4333e9),initProdSearch(_0x4333e9['querySelector'](_0x5aedac(0x100))),_0x4333e9[_0x5aedac(0x1d7)](_0x5aedac(0x1de))[_0x5aedac(0xc1)](_0x5aedac(0x178),function(){_0x4333e9['remove'](),updateProdItems();}),_0x4333e9[_0x5aedac(0x1d7)]('.prodQty')['addEventListener'](_0x5aedac(0x192),updateProdItems),document[_0x5aedac(0x162)](_0x5aedac(0x158))[_0x5aedac(0x17a)][_0x5aedac(0x194)](_0x5aedac(0xf7),!![]),document[_0x5aedac(0x162)](_0x5aedac(0x158))['classList'][_0x5aedac(0x194)](_0x5aedac(0x138),![]);});function initProdSearch(_0x3554ff,_0x485a6f){var _0x203d97=_0x55cd12,_0x529754=_0x3554ff['querySelector'](_0x203d97(0x17c)),_0x278e42=_0x3554ff[_0x203d97(0x1d7)](_0x203d97(0x153)),_0x4263c2=_0x485a6f||null;if(_0x485a6f)_0x529754[_0x203d97(0x145)]=_0x485a6f[_0x203d97(0x18a)];_0x529754[_0x203d97(0xc1)](_0x203d97(0x192),function(){var _0x218483=_0x203d97,_0x5d1bc2=_0x529754[_0x218483(0x145)][_0x218483(0xe8)]()['trim']();_0x278e42[_0x218483(0x1c8)]='';if(!_0x5d1bc2)return;products[_0x218483(0x127)](_0x2478ef=>_0x2478ef['setDescripcion'][_0x218483(0xe8)]()[_0x218483(0x1cb)](_0x5d1bc2))['slice'](0x0,0x14)[_0x218483(0x1af)](function(_0x1ed684){var _0x1fe74f=_0x218483,_0x3bbce5=document[_0x1fe74f(0xfc)](_0x1fe74f(0x18d));_0x3bbce5[_0x1fe74f(0x137)]=_0x1ed684[_0x1fe74f(0x1b2)],_0x3bbce5[_0x1fe74f(0x17d)]['id']=_0x1ed684['id'],_0x3bbce5[_0x1fe74f(0x17d)][_0x1fe74f(0x18a)]=_0x1ed684[_0x1fe74f(0x1b2)],_0x278e42['appendChild'](_0x3bbce5),_0x3bbce5[_0x1fe74f(0xc1)](_0x1fe74f(0x178),function(){var _0x1fd527=_0x1fe74f;_0x4263c2={'id':_0x1ed684['id'],'name':_0x1ed684[_0x1fd527(0x1b2)]},_0x529754['value']=_0x1ed684[_0x1fd527(0x1b2)],_0x278e42[_0x1fd527(0x1c8)]='';var _0x357277=_0x3554ff['closest']('[id$=\x22_comp_container\x22]');if(_0x357277){var _0x4bc6ed=+_0x357277['id'][_0x1fd527(0x104)]('_')[0x1];updateVariantComponents(_0x4bc6ed);}else updateProdItems();});});}),_0x529754[_0x203d97(0xc1)](_0x203d97(0x1d4),function(){var _0x1c02fd=_0x203d97;_0x278e42[_0x1c02fd(0x17a)]['remove'](_0x1c02fd(0x138));}),document[_0x203d97(0xc1)](_0x203d97(0x178),function(_0x577081){var _0x1b1bec=_0x203d97;if(!_0x3554ff[_0x1b1bec(0x111)](_0x577081['target']))_0x278e42['classList'][_0x1b1bec(0xdd)](_0x1b1bec(0x138));}),Object['defineProperty'](_0x3554ff,_0x203d97(0xb4),{'get':()=>_0x4263c2});}function updateProdItems(){var _0x1c9251=_0x55cd12,_0x2e5952=[];Array['from'](prodC[_0x1c9251(0x108)])[_0x1c9251(0x1af)](function(_0x26a7d4){var _0x4a94a3=_0x1c9251,_0x4ba9c7=_0x26a7d4[_0x4a94a3(0x1d7)]('.prod_input_container');if(!_0x4ba9c7)return;var _0x59f603=_0x26a7d4[_0x4a94a3(0x1d7)](_0x4a94a3(0x17f)),_0x261def=_0x4ba9c7[_0x4a94a3(0xb4)];_0x261def&&_0x2e5952[_0x4a94a3(0x17e)]({'setItemId':_0x261def['id'],'setDescripcion':_0x261def[_0x4a94a3(0x18a)],'setCantidad':+_0x59f603[_0x4a94a3(0x145)]});}),baseItem[_0x1c9251(0x1d2)]=_0x2e5952,_0x2e5952[_0x1c9251(0xc2)]===0x0&&(document[_0x1c9251(0x162)]('newItem_title_table_cp')[_0x1c9251(0x17a)][_0x1c9251(0x194)]('newItem_title_table',![]),document[_0x1c9251(0x162)](_0x1c9251(0x158))[_0x1c9251(0x17a)][_0x1c9251(0x194)](_0x1c9251(0x138),!![]));}document[_0x55cd12(0x162)](_0x55cd12(0x1d8))[_0x55cd12(0xc1)]('click',function(){var _0x42d67b=_0x55cd12,_0x9fd91f=vgCount++,_0x3a4d5f=document[_0x42d67b(0xfc)](_0x42d67b(0x18d));_0x3a4d5f[_0x42d67b(0x17d)][_0x42d67b(0xfd)]=_0x9fd91f,_0x3a4d5f['innerHTML']=_0x42d67b(0x1d0)+_0x9fd91f+'\x22>'+_0x42d67b(0x1a4)+_0x9fd91f+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x42d67b(0x176)](_0x3a4d5f),_0x3a4d5f['querySelector'](_0x42d67b(0x12a))[_0x42d67b(0xc1)](_0x42d67b(0xc3),generateVariants),_0x3a4d5f[_0x42d67b(0x1d7)](_0x42d67b(0xd1))[_0x42d67b(0xc1)]('blur',generateVariants),_0x3a4d5f[_0x42d67b(0x1d7)]('.removeGroup')[_0x42d67b(0xc1)](_0x42d67b(0x178),function(){var _0x455678=_0x42d67b;_0x3a4d5f[_0x455678(0x19b)](),generateVariants();});});function generateVariants(){var _0x17e6cd=_0x55cd12,_0x3c4836=[];vgC[_0x17e6cd(0xbe)]('div')[_0x17e6cd(0x1af)](function(_0x299747){var _0x16ad79=_0x17e6cd,_0x368a44=_0x299747[_0x16ad79(0x1d7)](_0x16ad79(0x12a))[_0x16ad79(0x145)]['trim'](),_0x4caef2=_0x299747[_0x16ad79(0x1d7)](_0x16ad79(0xd1))['value'][_0x16ad79(0x104)](',')[_0x16ad79(0xfb)](_0x5e145f=>_0x5e145f[_0x16ad79(0x133)]())[_0x16ad79(0x127)](_0x20d41f=>_0x20d41f);if(_0x368a44&&_0x4caef2[_0x16ad79(0xc2)])_0x3c4836['push']({'name':_0x368a44,'vals':_0x4caef2});});var _0x44375e=[{}];_0x3c4836['forEach'](function(_0xa99e26){var _0x206aeb=_0x17e6cd;_0x44375e=_0x44375e[_0x206aeb(0xd9)](function(_0x13d83d){var _0x5d4922=_0x206aeb;return _0xa99e26[_0x5d4922(0x1a8)][_0x5d4922(0xfb)](function(_0x2c0afc){var _0x4c2c1b=_0x5d4922,_0x2be4d2=Object[_0x4c2c1b(0x14f)]({},_0x13d83d);return _0x2be4d2[_0xa99e26[_0x4c2c1b(0x18a)]]=_0x2c0afc,_0x2be4d2;});});}),newItems=[],varContainer['innerHTML']='',_0x44375e[_0x17e6cd(0x1af)](function(_0x139acd,_0x26736f){var _0x6eaec2=_0x17e6cd,_0x2a4a53=JSON[_0x6eaec2(0xd3)](JSON[_0x6eaec2(0x1c2)](baseItem));_0x2a4a53[_0x6eaec2(0x1d6)]=_0x139acd,_0x2a4a53[_0x6eaec2(0x102)]=baseItem[_0x6eaec2(0x1b0)]+'\x20'+Object['entries'](_0x139acd)[_0x6eaec2(0xfb)](_0x585ba2=>_0x585ba2[0x0]+'\x20'+_0x585ba2[0x1])['join']('\x20'),newItems['push'](_0x2a4a53);var _0x4f15c4=document[_0x6eaec2(0xfc)](_0x6eaec2(0x18d));_0x4f15c4['classList'][_0x6eaec2(0xdd)](_0x6eaec2(0x12c)),_0x4f15c4['dataset']['idx']=_0x26736f,_0x4f15c4[_0x6eaec2(0x1c8)]=_0x6eaec2(0x15e)+_0x2a4a53[_0x6eaec2(0x102)]+_0x6eaec2(0x183)+_0x2a4a53[_0x6eaec2(0x196)]+_0x6eaec2(0x1da)+_0x2a4a53['setItemBarCode']+_0x6eaec2(0x1c4)+_0x2a4a53[_0x6eaec2(0x1d3)]+_0x6eaec2(0x148)+_0x26736f+_0x6eaec2(0xdc)+_0x26736f+_0x6eaec2(0x14c)+_0x26736f+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x4f15c4),_0x4f15c4['querySelector']('.variantCode')[_0x6eaec2(0xc1)](_0x6eaec2(0x192),_0x12b4a9=>newItems[_0x26736f]['setItemCode']=_0x12b4a9[_0x6eaec2(0x186)]['value']),_0x4f15c4[_0x6eaec2(0x1d7)]('.variantBarCode')[_0x6eaec2(0xc1)](_0x6eaec2(0x192),_0x1f1383=>newItems[_0x26736f][_0x6eaec2(0xbd)]=_0x1f1383[_0x6eaec2(0x186)][_0x6eaec2(0x145)]),_0x4f15c4['querySelector'](_0x6eaec2(0x157))[_0x6eaec2(0xc1)](_0x6eaec2(0x13b),_0x42897a=>newItems[_0x26736f][_0x6eaec2(0x1d3)]=_0x42897a['target']['value']),initVariantUnits(_0x26736f),initVariantComponents(_0x26736f),initVariantBranches(_0x26736f),_0x4f15c4[_0x6eaec2(0x1d7)](_0x6eaec2(0x172))[_0x6eaec2(0xc1)](_0x6eaec2(0x178),function(){var _0x8982a5=_0x6eaec2,_0xd552d=+_0x4f15c4[_0x8982a5(0x17d)][_0x8982a5(0xfd)];newItems[_0x8982a5(0xb5)](_0xd552d,0x1),_0x4f15c4['remove'](),document[_0x8982a5(0xbe)](_0x8982a5(0x129))[_0x8982a5(0x1af)](function(_0x52efa5,_0x441e97){var _0x12e113=_0x8982a5;_0x52efa5['dataset'][_0x12e113(0xfd)]=_0x441e97;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x179cc3){var _0x58a3ee=_0x55cd12,_0x50e2ab=document['getElementById'](_0x58a3ee(0x19d)+_0x179cc3+_0x58a3ee(0x18b)),_0x1088ee=[];Array[_0x58a3ee(0x10b)](_0x50e2ab[_0x58a3ee(0x108)])['forEach'](function(_0xe264b1){var _0x4a9fbf=_0x58a3ee,_0x2a8500=+_0xe264b1[_0x4a9fbf(0x1d7)](_0x4a9fbf(0x1a9))['value']||0x0,_0x41432e=_0xe264b1[_0x4a9fbf(0x1d7)]('.unitAlias')[_0x4a9fbf(0x145)][_0x4a9fbf(0x133)](),_0x56893b=_0xe264b1[_0x4a9fbf(0x1d7)](_0x4a9fbf(0xde))[_0x4a9fbf(0x145)],_0x13240e=+_0xe264b1[_0x4a9fbf(0x1d7)](_0x4a9fbf(0x16e))[_0x4a9fbf(0x145)]||0x0,_0x30a694=+_0xe264b1[_0x4a9fbf(0x1d7)](_0x4a9fbf(0x11c))['value']||0x0,_0x15764d=_0xe264b1[_0x4a9fbf(0x17d)][_0x4a9fbf(0xe1)]===_0x4a9fbf(0x16a),_0x30a4aa=+_0x50e2ab[_0x4a9fbf(0x1d7)](_0x4a9fbf(0xf0))[_0x4a9fbf(0x145)]||0x1,_0x4562ee=_0x15764d?0x1:_0x2a8500==_0x30a4aa?0x1:_0x2a8500<_0x30a4aa?_0x30a4aa/_0x2a8500:_0x2a8500/_0x30a4aa;_0x1088ee[_0x4a9fbf(0x17e)]({'setAlias':_0x41432e,'setUnitCode':_0x56893b,'setEquivalence':_0x2a8500,'setFactor':_0x4562ee,'setPrice':_0x13240e,'setCost':_0x30a694,'setDefault':_0x15764d?0x1:0x0});}),newItems[_0x179cc3][_0x58a3ee(0xf8)]=_0x1088ee;}function initVariantUnits(_0x3b96b5){var _0x34dd03=_0x55cd12,_0x45d7bd=document['getElementById'](_0x34dd03(0x19d)+_0x3b96b5+_0x34dd03(0x18b));_0x45d7bd['innerHTML']='',newItems[_0x3b96b5][_0x34dd03(0xf8)][_0x34dd03(0x1af)](function(_0x2defcb){var _0x5a3fd4=_0x34dd03;addUnit(_0x2defcb['setAlias'],_0x2defcb[_0x5a3fd4(0x1b5)],_0x2defcb['setEquivalence'],_0x2defcb[_0x5a3fd4(0x146)],_0x2defcb['setPrice'],_0x2defcb['setCost'],_0x45d7bd);}),_0x45d7bd['parentNode']['querySelector'](_0x34dd03(0xbf))[_0x34dd03(0xc1)](_0x34dd03(0x178),function(){addUnit('','',0x1,![],'','',_0x45d7bd),updateVariantUnits(_0x3b96b5);});}function updateVariantUnits(_0x1b7dec){var _0x28f6f5=_0x55cd12,_0x3fe852=document[_0x28f6f5(0x162)](_0x28f6f5(0x19d)+_0x1b7dec+_0x28f6f5(0x18b)),_0x22532a=_0x3fe852['querySelector'](_0x28f6f5(0xf0)),_0x3c20fd=_0x22532a?+_0x22532a[_0x28f6f5(0x145)]:0x1,_0x3ed992=Array['from'](_0x3fe852['children'])[_0x28f6f5(0xfb)](function(_0x1a5daa){var _0x52a563=_0x28f6f5,_0x5c3615=_0x1a5daa['querySelector']('.unitAlias')[_0x52a563(0x145)][_0x52a563(0x133)](),_0x4966b1=_0x1a5daa[_0x52a563(0x1d7)]('.unitSelect')[_0x52a563(0x145)],_0x15c45c=+_0x1a5daa[_0x52a563(0x1d7)](_0x52a563(0x1a9))['value']||0x0,_0x3541b4=+_0x1a5daa[_0x52a563(0x1d7)](_0x52a563(0x16e))[_0x52a563(0x145)]||0x0,_0x2ded1f=+_0x1a5daa[_0x52a563(0x1d7)]('.costInput')['value']||0x0,_0x530d34=_0x1a5daa[_0x52a563(0x17d)][_0x52a563(0xe1)]===_0x52a563(0x16a);return{'setAlias':_0x5c3615,'setUnitCode':_0x4966b1,'setEquivalence':_0x15c45c,'setFactor':_0x530d34?0x1:_0x15c45c==_0x3c20fd?0x1:_0x15c45c<_0x3c20fd?_0x3c20fd/_0x15c45c:_0x15c45c/_0x3c20fd,'setPrice':_0x3541b4,'setCost':_0x2ded1f,'setDefault':_0x530d34?0x1:0x0};});newItems[_0x1b7dec]['setItemUnits']=_0x3ed992;}function initVariantComponents(_0x1c0c7a){var _0x496a46=_0x55cd12,_0x10a360=document['getElementById'](_0x496a46(0x19d)+_0x1c0c7a+'_comp_container');_0x10a360[_0x496a46(0x1c8)]='',newItems[_0x1c0c7a][_0x496a46(0x1d2)][_0x496a46(0x1af)](function(_0x169b06){var _0x243832=_0x496a46,_0x374a9f=document[_0x243832(0xfc)](_0x243832(0x18d)),_0x3a53ac=Date[_0x243832(0x1a5)]();_0x374a9f[_0x243832(0x17d)][_0x243832(0xfd)]=_0x3a53ac,_0x374a9f[_0x243832(0x1c8)]=_0x243832(0x1bd)+_0x3a53ac+_0x243832(0x113)+_0x169b06['setCantidad']+_0x243832(0x1c7),_0x10a360[_0x243832(0x176)](_0x374a9f),initProdSearch(_0x374a9f[_0x243832(0x1d7)](_0x243832(0x100)),{'id':_0x169b06[_0x243832(0x123)],'name':_0x169b06[_0x243832(0x1b2)]}),_0x374a9f[_0x243832(0x1d7)](_0x243832(0x17f))['addEventListener']('input',function(){updateVariantComponents(_0x1c0c7a);}),_0x374a9f[_0x243832(0x1d7)](_0x243832(0x10d))['addEventListener'](_0x243832(0x178),function(){var _0x30b0e0=_0x243832;_0x374a9f[_0x30b0e0(0x19b)](),updateVariantComponents(_0x1c0c7a);});}),_0x10a360[_0x496a46(0xcf)][_0x496a46(0x1d7)](_0x496a46(0xc4))[_0x496a46(0xc1)](_0x496a46(0x178),function(){var _0x366aaa=_0x496a46,_0x15d435=document[_0x366aaa(0xfc)](_0x366aaa(0x18d)),_0x2b6ec9=Date['now']();_0x15d435['dataset'][_0x366aaa(0xfd)]=_0x2b6ec9,_0x15d435['innerHTML']=_0x366aaa(0x1bd)+_0x2b6ec9+_0x366aaa(0xcb),_0x10a360['appendChild'](_0x15d435),initProdSearch(_0x15d435[_0x366aaa(0x1d7)](_0x366aaa(0x100))),_0x15d435['querySelector'](_0x366aaa(0x17f))[_0x366aaa(0xc1)]('input',function(){updateVariantComponents(_0x1c0c7a);}),_0x15d435['querySelector'](_0x366aaa(0x10d))[_0x366aaa(0xc1)](_0x366aaa(0x178),function(){var _0x2f4ba7=_0x366aaa;_0x15d435[_0x2f4ba7(0x19b)](),updateVariantComponents(_0x1c0c7a);});});}function updateVariantComponents(_0x3f2c66){var _0x1be4be=_0x55cd12,_0x2f8f26=document[_0x1be4be(0x162)](_0x1be4be(0x19d)+_0x3f2c66+_0x1be4be(0xe0)),_0x3253a1=Array[_0x1be4be(0x10b)](_0x2f8f26[_0x1be4be(0x108)])[_0x1be4be(0xfb)](function(_0x24dd95){var _0x1e715a=_0x1be4be,_0xbb9245=_0x24dd95[_0x1e715a(0x1d7)]('.prod_input_container'),_0x16f8ca=_0xbb9245['selectedItem'],_0x5287a4=+_0x24dd95[_0x1e715a(0x1d7)](_0x1e715a(0x17f))[_0x1e715a(0x145)]||0x0;return _0x16f8ca?{'setItemId':_0x16f8ca['id'],'setDescripcion':_0x16f8ca[_0x1e715a(0x18a)],'setCantidad':_0x5287a4}:null;})[_0x1be4be(0x127)](_0xc5f88b=>_0xc5f88b);newItems[_0x3f2c66][_0x1be4be(0x1d2)]=_0x3253a1;}function initVariantBranches(_0x393ab4){var _0x211b9d=_0x55cd12;const _0x5afd5e=getAllWarehouses();var _0x3f26bd=document[_0x211b9d(0x162)](_0x211b9d(0x19d)+_0x393ab4+_0x211b9d(0x1b4));_0x3f26bd[_0x211b9d(0x1c8)]='',newItems[_0x393ab4][_0x211b9d(0x190)]['forEach'](function(_0x527877){var _0x51a0db=_0x211b9d,_0x114eed=_0x5afd5e[_0x51a0db(0x197)](_0xbfe720=>_0xbfe720[_0x51a0db(0x117)]==_0x527877[_0x51a0db(0xe9)]),_0x576252=document['createElement'](_0x51a0db(0x18d));_0x576252[_0x51a0db(0x1c8)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x527877[_0x51a0db(0xe9)]+_0x51a0db(0x165)+_0x114eed[_0x51a0db(0x1be)]+_0x51a0db(0x16b)+_0x527877['setWarehouseCode']+_0x51a0db(0x139)+_0x527877[_0x51a0db(0x13f)]+_0x51a0db(0x142)+_0x527877['setWarehouseCode']+_0x51a0db(0x139)+_0x527877['setStockMinimum']+'\x22>',_0x3f26bd[_0x51a0db(0x176)](_0x576252),_0x576252['querySelectorAll'](_0x51a0db(0x192))['forEach'](function(_0xcf799c){var _0x5b3600=_0x51a0db;_0xcf799c[_0x5b3600(0xc1)]('input',function(){updateVariantBranches(_0x393ab4);});});}),_0x5afd5e['forEach'](function(_0x41c6b3){var _0x1a4223=_0x211b9d;if(!newItems[_0x393ab4]['setItemWarehouses'][_0x1a4223(0x197)](_0x35c602=>_0x35c602[_0x1a4223(0xe9)]===_0x41c6b3[_0x1a4223(0x117)])){var _0x11a261=document[_0x1a4223(0xfc)]('div');_0x11a261['innerHTML']=_0x1a4223(0xe6)+_0x41c6b3[_0x1a4223(0x117)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x41c6b3[_0x1a4223(0x1be)]+_0x1a4223(0x16b)+_0x41c6b3[_0x1a4223(0x117)]+_0x1a4223(0x142)+_0x41c6b3[_0x1a4223(0x117)]+'\x22>',_0x3f26bd[_0x1a4223(0x176)](_0x11a261),_0x11a261[_0x1a4223(0xbe)](_0x1a4223(0x192))[_0x1a4223(0x1af)](function(_0x5da9aa){var _0x34a846=_0x1a4223;_0x5da9aa['addEventListener'](_0x34a846(0x192),function(){updateVariantBranches(_0x393ab4);});});}});}function updateVariantBranches(_0x955c3c){var _0x2f1c48=_0x55cd12,_0x124a8c=document[_0x2f1c48(0x162)]('variant_'+_0x955c3c+'_branch_container'),_0x55dcc3=[];_0x124a8c[_0x2f1c48(0xbe)](_0x2f1c48(0x18d))[_0x2f1c48(0x1af)](function(_0x1633eb){var _0x34c95a=_0x2f1c48,_0x5d4ab7=_0x1633eb[_0x34c95a(0x1d7)]('.branchChk');if(_0x5d4ab7[_0x34c95a(0x10a)]){var _0x3acd9f=+_0x5d4ab7[_0x34c95a(0x17d)]['id'],_0x552804=+_0x1633eb['querySelector']('.branchInit')[_0x34c95a(0x145)]||0x0,_0x2a825d=+_0x1633eb[_0x34c95a(0x1d7)](_0x34c95a(0x1ba))[_0x34c95a(0x145)]||0x0;_0x55dcc3['push']({'setWarehouseCode':_0x3acd9f,'setStockInitial':_0x552804,'setStockMinimum':_0x2a825d});}}),newItems[_0x955c3c][_0x2f1c48(0x190)]=_0x55dcc3;}async function storeOfflineProduct(_0x17078c){var _0x4eb69d=_0x55cd12;try{const _0x173d33=await createCartStore(''),_0x34ddf5=_0x173d33['transaction']('offline_operations',_0x4eb69d(0x140)),_0x504209=_0x34ddf5[_0x4eb69d(0x110)](_0x4eb69d(0x185));_0x504209[_0x4eb69d(0xdd)](_0x17078c),_0x34ddf5[_0x4eb69d(0x12f)]=()=>{var _0x2b25aa=_0x4eb69d;console[_0x2b25aa(0x170)](_0x2b25aa(0x11a));},_0x34ddf5[_0x4eb69d(0x15d)]=_0x3e5e9a=>{var _0x19b300=_0x4eb69d;console[_0x19b300(0x169)](_0x19b300(0x164),_0x3e5e9a[_0x19b300(0x186)]['error']);};}catch(_0x56a08a){console[_0x4eb69d(0x169)]('Error\x20al\x20procesar\x20la\x20operación:',_0x56a08a);}}document[_0x55cd12(0x162)](_0x55cd12(0x15c))['addEventListener']('click',async function(_0x15ce22){var _0x19228c=_0x55cd12;_0x15ce22[_0x19228c(0x14a)]();const _0x542a57=document[_0x19228c(0x162)]('inputItemCode'),_0x19262c=document[_0x19228c(0x162)](_0x19228c(0x122))[_0x19228c(0x145)];if(!_0x542a57['value'][_0x19228c(0x133)]()&&_0x19262c==0x0){ntfShow(_0x19228c(0xbb),0x2,0x1);return;}const _0x1d200d=document[_0x19228c(0x162)](_0x19228c(0x1bc));if(!_0x1d200d[_0x19228c(0x145)][_0x19228c(0x133)]()){ntfShow(_0x19228c(0x143),0x2,0x1);return;}const _0x3268a6=document[_0x19228c(0x162)](_0x19228c(0x1b7));hideModalCreateItem(),showLoadingModal();newItems[_0x19228c(0xc2)]===0x0&&(newItems=[baseItem]);const _0x18ccd3=document[_0x19228c(0x162)](_0x19228c(0x1bb))[_0x19228c(0x145)],_0x4f7370=window_options[_0x18ccd3][_0x19228c(0x132)];let _0x1e1957=generateNumericUniqId()*0x64+0x1f4,_0x516848=generateNumericUniqId()*0xa;const _0x410a8b=[];newItems[_0x19228c(0x1af)](_0xc864a0=>{var _0x953d19=_0x19228c;const _0xb98b71=++_0x516848;_0xc864a0[_0x953d19(0xf8)][_0x953d19(0x1af)](_0x4d48aa=>{var _0x1e6946=_0x953d19;const _0x549b61=++_0x1e1957;_0x4d48aa[_0x1e6946(0x105)]=_0x549b61;const _0x2644dc={'id':_0x549b61,'setIdProducto':_0xb98b71,'setCodProducto':_0xc864a0[_0x1e6946(0x196)],'setDescripcion':_0xc864a0[_0x1e6946(0x102)]!=''?_0xc864a0[_0x1e6946(0x102)]:_0xc864a0[_0x1e6946(0x1b0)],'setItemDescription':_0xc864a0[_0x1e6946(0x1a0)],'setBatchExpirationDate':_0xc864a0['setItemDateExpiry'],'setBatchName':'','setCategoria':_0xc864a0[_0x1e6946(0xcd)][0x0]||'','setMarca':_0xc864a0[_0x1e6946(0x151)][0x0]||'','setConversionFactor':parseFloat(_0x4d48aa[_0x1e6946(0x1c6)]),'setImages':[],'setImg':_0x1e6946(0x10e),'setInventariable':0x1,'setItemIsBought':_0xc864a0[_0x1e6946(0x1b1)]?0x1:0x0,'setItemIsSold':_0xc864a0[_0x1e6946(0xb7)]?0x1:0x0,'setPorcentajeIgv':_0xc864a0[_0x1e6946(0x11b)],'setPrinters':[],'setTaxId':_0xc864a0[_0x1e6946(0x154)],'setTipAfeIgv':_0xc864a0[_0x1e6946(0xf6)],'setUnidad':_0x4d48aa['setUnitCode'],'setUnidadCodigo':_0x4d48aa['setUnitCode'],'currency_data':[{'currency':_0x4f7370,'setMtoPrecioCostoUnitario':_0x4d48aa[_0x1e6946(0x1c3)],'setMtoPrecioUnitario':_0x4d48aa['setPrice'],'setPriceLists':[]}],'sucursales':_0xc864a0['setItemWarehouses'][_0x1e6946(0xfb)](_0x3c5f22=>({'setIdSucursal':_0x3c5f22[_0x1e6946(0xe9)],'setSucursalStock':_0x3c5f22[_0x1e6946(0x13f)][_0x1e6946(0xb8)](),'setWarehouseStockMin':_0x3c5f22[_0x1e6946(0x135)][_0x1e6946(0xb8)]()})),'setItemFree':_0xc864a0[_0x1e6946(0x122)],'setItemBarCode':_0xc864a0['setItemBarCode'],'setItemBrands':_0xc864a0[_0x1e6946(0x151)]['slice'](),'setItemCategories':_0xc864a0[_0x1e6946(0xcd)][_0x1e6946(0x124)](),'setItemComponents':_0xc864a0[_0x1e6946(0x1d2)][_0x1e6946(0xfb)](_0x34717c=>({..._0x34717c})),'setItemImages':_0xc864a0[_0x1e6946(0x189)][_0x1e6946(0x124)](),'setItemVariantName':_0xc864a0[_0x1e6946(0x102)],'setItemVariantValues':{..._0xc864a0['setItemVariantValues']}};_0x410a8b[_0x1e6946(0x17e)](_0x2644dc),(_0x3268a6['checked']||_0x19262c==0x1)&&addToCart(_0x2644dc);});}),console[_0x19228c(0x170)](_0x19228c(0x126),newItems),await finalizeImport(_0x410a8b,newItems,![]);}),[_0x55cd12(0x10f),_0x55cd12(0x150)]['forEach'](_0x5a515f=>dropZone['addEventListener'](_0x5a515f,_0x35d688=>{var _0x2ef585=_0x55cd12;_0x35d688[_0x2ef585(0x14a)](),dropZone['classList'][_0x2ef585(0xdd)]('dragover');})),[_0x55cd12(0x14e),'drop'][_0x55cd12(0x1af)](_0x68ad0a=>dropZone[_0x55cd12(0xc1)](_0x68ad0a,_0x2ac066=>{var _0x598139=_0x55cd12;_0x2ac066[_0x598139(0x14a)](),dropZone[_0x598139(0x17a)]['remove'](_0x598139(0x150));})),dropZone['addEventListener'](_0x55cd12(0x1c5),_0x5d43cb=>{var _0x705626=_0x55cd12;const _0x254acc=_0x5d43cb['dataTransfer'][_0x705626(0x136)][0x0];if(!_0x254acc)return;fileInput['files']=_0x5d43cb[_0x705626(0x125)][_0x705626(0x136)],dropZone[_0x705626(0x1d7)](_0x705626(0x114))['textContent']=_0x254acc[_0x705626(0x18a)],removeBtn[_0x705626(0x1ce)]=![],fileInput[_0x705626(0x1a7)](new Event('change'));}),removeBtn[_0x55cd12(0xc1)]('click',()=>{var _0x3a74e5=_0x55cd12;fileInput[_0x3a74e5(0x145)]='',dropZone[_0x3a74e5(0x1d7)](_0x3a74e5(0x114))[_0x3a74e5(0x137)]=_0x3a74e5(0x101),removeBtn[_0x3a74e5(0x1ce)]=!![],progressBar[_0x3a74e5(0xeb)]['display']=_0x3a74e5(0xd4),statusDiv[_0x3a74e5(0x137)]='',uploadBtn['disabled']=!![];}),itemWorker[_0x55cd12(0x1dd)]=({data:_0x6b75e5})=>{var _0x567b89=_0x55cd12;const {type:_0x10053c,payload:_0x3c8b0a}=_0x6b75e5;_0x10053c===_0x567b89(0x198)&&(progressBar[_0x567b89(0xeb)][_0x567b89(0x18e)]='block',progressBar[_0x567b89(0x145)]=_0x3c8b0a['percent'],statusDiv[_0x567b89(0x137)]=_0x3c8b0a['message']),_0x10053c===_0x567b89(0xef)&&(newItemsExcel=_0x3c8b0a[_0x567b89(0x131)],statusDiv[_0x567b89(0x137)]='✅\x20'+newItemsExcel[_0x567b89(0xc2)]+_0x567b89(0x120),uploadBtn[_0x567b89(0x13c)]=![],progressBar['value']=0x64,console['log'](newItemsExcel)),_0x10053c===_0x567b89(0x169)&&(statusDiv['textContent']=_0x567b89(0x141)+_0x3c8b0a,progressBar[_0x567b89(0xeb)][_0x567b89(0x18e)]=_0x567b89(0xd4));},fileInput[_0x55cd12(0xc1)]('change',async _0x21c666=>{var _0x228ed6=_0x55cd12;const _0x4e9809=_0x21c666[_0x228ed6(0x186)][_0x228ed6(0x136)][0x0];if(!_0x4e9809)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x228ed6(0xeb)]['display']='none',dropZone[_0x228ed6(0x1d7)](_0x228ed6(0x114))[_0x228ed6(0x137)]=_0x4e9809['name'],removeBtn[_0x228ed6(0x1ce)]=![];try{const _0x12426f=await _0x4e9809[_0x228ed6(0xf9)]();itemWorker[_0x228ed6(0xce)]({'buf':_0x12426f,'maxRows':0x1388});}catch(_0xa0d2cf){statusDiv[_0x228ed6(0x137)]=_0x228ed6(0xe7);}finally{fileInput[_0x228ed6(0x145)]='';}}),uploadBtn[_0x55cd12(0xc1)](_0x55cd12(0x178),async()=>{var _0x1c4bec=_0x55cd12;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x34783f=document[_0x1c4bec(0x162)]('windowId')[_0x1c4bec(0x145)],_0x37c181=window_options[_0x34783f][_0x1c4bec(0x132)],_0x32b11a=document[_0x1c4bec(0x162)](_0x1c4bec(0x117))[_0x1c4bec(0x145)];let _0x3424b2=generateNumericUniqId()*0x64+0x1f4,_0x4c19ba=generateNumericUniqId()*0xa;const _0x43a681=[];newItemsExcel[_0x1c4bec(0x1af)](_0x216380=>{var _0x4113e3=_0x1c4bec;const _0x2cb4a5=++_0x4c19ba;_0x216380[_0x4113e3(0x190)]=[{'setStockInitial':_0x216380[_0x4113e3(0x13f)],'setStockMinimum':_0x216380[_0x4113e3(0x135)],'setWarehouseCode':_0x32b11a}],_0x216380[_0x4113e3(0xf8)][_0x4113e3(0x1af)](_0x5f071f=>{var _0xfe3af2=_0x4113e3;const _0x252fc5=++_0x3424b2;_0x5f071f[_0xfe3af2(0x105)]=_0x252fc5;const _0x42c747={'id':_0x252fc5,'setIdProducto':_0x2cb4a5,'setCodProducto':_0x216380[_0xfe3af2(0x196)],'setDescripcion':_0x216380['setItemVariantName']||_0x216380[_0xfe3af2(0x1b0)],'setItemDescription':_0x216380[_0xfe3af2(0x1a0)],'setBatchExpirationDate':_0x216380[_0xfe3af2(0x1d3)],'setBatchName':'','setCategoria':_0x216380[_0xfe3af2(0xcd)][0x0]||'','setMarca':_0x216380[_0xfe3af2(0x151)][0x0]||'','setConversionFactor':parseFloat(_0x5f071f['setFactor']),'setImages':[],'setImg':_0xfe3af2(0x10e),'setInventariable':_0x216380['setItemInventoriable']?0x1:0x0,'setItemIsBought':_0x216380[_0xfe3af2(0x1b1)]?0x1:0x0,'setItemIsSold':_0x216380[_0xfe3af2(0xb7)]?0x1:0x0,'setPorcentajeIgv':_0x216380[_0xfe3af2(0x11b)],'setPrinters':[],'setTaxId':_0x216380['setItemTaxId'],'setTipAfeIgv':_0x216380[_0xfe3af2(0xf6)],'setUnidad':_0x5f071f[_0xfe3af2(0x1b5)],'setUnidadCodigo':_0x5f071f['setUnitCode'],'currency_data':[{'currency':_0x37c181,'setMtoPrecioCostoUnitario':_0x5f071f['setCost'],'setMtoPrecioUnitario':_0x5f071f[_0xfe3af2(0x177)],'setPriceLists':[]}],'sucursales':_0x216380[_0xfe3af2(0x190)]['map'](_0xaa56c=>({'setIdSucursal':_0xaa56c[_0xfe3af2(0xe9)],'setSucursalStock':_0xaa56c[_0xfe3af2(0x13f)][_0xfe3af2(0xb8)](),'setWarehouseStockMin':_0xaa56c['setStockMinimum'][_0xfe3af2(0xb8)]()})),'setItemFree':_0x216380[_0xfe3af2(0x122)],'setItemBarCode':_0x216380['setItemBarCode'],'setItemBrands':_0x216380[_0xfe3af2(0x151)][_0xfe3af2(0x124)](),'setItemCategories':_0x216380[_0xfe3af2(0xcd)][_0xfe3af2(0x124)](),'setItemComponents':_0x216380['setItemComponents']['map'](_0x548bca=>({..._0x548bca})),'setItemImages':_0x216380['setItemImages'][_0xfe3af2(0x124)](),'setItemVariantName':_0x216380[_0xfe3af2(0x102)],'setItemVariantValues':{..._0x216380[_0xfe3af2(0x1d6)]}};_0x43a681[_0xfe3af2(0x17e)](_0x42c747);});}),console['log'](_0x1c4bec(0x126),newItems),await finalizeImport(_0x43a681,newItemsExcel,!![]);});function initializeFormImages(){var _0xd8fe31=_0x55cd12;currentImages=Array(MAX_IMAGES)[_0xd8fe31(0xca)](null),imgC['innerHTML']='',baseItem['setItemImages']=[];for(var _0xa770e=0x0;_0xa770e<MAX_IMAGES;_0xa770e++){(function(_0x2c7b9f){var _0x259d3f=_0xd8fe31,_0x2417c8=document[_0x259d3f(0xfc)](_0x259d3f(0x18d));_0x2417c8['className']=_0x259d3f(0xc6),_0x2417c8['dataset'][_0x259d3f(0xfd)]=_0x2c7b9f;var _0x1b7206=document['createElement'](_0x259d3f(0x192));_0x1b7206[_0x259d3f(0xed)]=_0x259d3f(0x1c1),_0x1b7206['accept']='image/*',_0x1b7206[_0x259d3f(0xeb)][_0x259d3f(0x18e)]=_0x259d3f(0xd4);var _0x57a399=document[_0x259d3f(0xfc)]('span');_0x57a399['textContent']='+',_0x2417c8[_0x259d3f(0x176)](_0x1b7206),_0x2417c8['appendChild'](_0x57a399),imgC[_0x259d3f(0x176)](_0x2417c8),_0x2417c8['addEventListener'](_0x259d3f(0x178),function(){_0x1b7206['click']();}),_0x1b7206[_0x259d3f(0xc1)](_0x259d3f(0x13b),function(_0x4c922d){var _0xd8ee68=_0x259d3f,_0x6d82d8=_0x4c922d['target'][_0xd8ee68(0x136)][0x0];if(!_0x6d82d8)return removeImg(_0x2c7b9f);var _0x269100=new FileReader();_0x269100[_0xd8ee68(0x128)]=function(_0x515337){var _0x5a8ab2=_0xd8ee68;_0x2417c8[_0x5a8ab2(0x1c8)]='<img\x20src=\x22'+_0x515337['target'][_0x5a8ab2(0x159)]+'\x22>';var _0x56e084=document[_0x5a8ab2(0xfc)](_0x5a8ab2(0x160));_0x56e084[_0x5a8ab2(0x14b)]=_0x5a8ab2(0x19b),_0x56e084[_0x5a8ab2(0x137)]='×',_0x56e084[_0x5a8ab2(0xc1)]('click',function(_0x293a79){var _0x38e57b=_0x5a8ab2;_0x293a79[_0x38e57b(0x15f)](),removeImg(_0x2c7b9f);}),_0x2417c8['appendChild'](_0x56e084),currentImages[_0x2c7b9f]=_0x6d82d8,baseItem[_0x5a8ab2(0x189)]=currentImages[_0x5a8ab2(0x127)](function(_0x25f4b3){return _0x25f4b3;});},_0x269100[_0xd8ee68(0x12d)](_0x6d82d8);});}(_0xa770e));}}function initializeFormIsSoldIsBought(){var _0x3e51fb=_0x55cd12;document[_0x3e51fb(0x162)](_0x3e51fb(0xc0))['checked']=!![],document[_0x3e51fb(0x162)](_0x3e51fb(0x166))[_0x3e51fb(0x10a)]=!![],baseItem[_0x3e51fb(0x1b1)]=!![],baseItem[_0x3e51fb(0xb7)]=!![];}function initializeFormInputsBasic(){var _0x2bcfd8=_0x55cd12;document[_0x2bcfd8(0x162)]('inputItemType')[_0x2bcfd8(0x145)]='1',document['getElementById']('inputItemCode')[_0x2bcfd8(0x145)]=getNextCode(products),document[_0x2bcfd8(0x162)](_0x2bcfd8(0x1bc))[_0x2bcfd8(0x145)]='',document[_0x2bcfd8(0x162)](_0x2bcfd8(0x11f))[_0x2bcfd8(0x145)]='',document[_0x2bcfd8(0x162)](_0x2bcfd8(0xe5))[_0x2bcfd8(0x145)]='',document['getElementById'](_0x2bcfd8(0x106))[_0x2bcfd8(0x145)]='',baseItem[_0x2bcfd8(0x199)]='1',baseItem[_0x2bcfd8(0x196)]=getNextCode(products),baseItem[_0x2bcfd8(0x1b0)]='',baseItem[_0x2bcfd8(0x1a0)]='',baseItem[_0x2bcfd8(0x1d3)]='',baseItem[_0x2bcfd8(0xbd)]='',document[_0x2bcfd8(0x162)](_0x2bcfd8(0x1b7))[_0x2bcfd8(0x10a)]=![];}function initializeFormTax(){var _0x79f6e6=_0x55cd12;const _0x3ca7ac=myCompany['setTaxIdDefault'],_0x1e2c40=document[_0x79f6e6(0x162)](_0x79f6e6(0x11d));_0x1e2c40[_0x79f6e6(0x145)]=_0x3ca7ac,baseItem['setItemTaxId']=_0x3ca7ac;const _0x32e9c5=company[0x0]['setImpuestos'][_0x79f6e6(0x197)](_0x571564=>_0x571564[_0x79f6e6(0x1dc)]==_0x3ca7ac)?.[_0x79f6e6(0x11e)]||0x0,_0x416fb8=company[0x0][_0x79f6e6(0x10c)][_0x79f6e6(0x197)](_0x11358a=>_0x11358a[_0x79f6e6(0x1dc)]==_0x3ca7ac)?.[_0x79f6e6(0x161)]||0x0;baseItem['setItemTaxCode']=_0x32e9c5,baseItem['setItemTaxValue']=_0x416fb8;}function initializeFormCategoriesBrands(){var _0x1c5be5=_0x55cd12;baseItem[_0x1c5be5(0xcd)]=[],baseItem[_0x1c5be5(0x151)]=[],document[_0x1c5be5(0x1d7)](_0x1c5be5(0x173))[_0x1c5be5(0x1c8)]='',document[_0x1c5be5(0x1d7)](_0x1c5be5(0x130))['innerHTML']='',document[_0x1c5be5(0x1d7)](_0x1c5be5(0x1b3))['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.options_list')[_0x1c5be5(0x1c8)]='';const _0xd3d216=uniqueValuesArray(_0x1c5be5(0xf5),_0x1c5be5(0xf5),products),_0x20df52=uniqueValuesArray(_0x1c5be5(0xd8),_0x1c5be5(0xd8),products),_0x2f7de7=initMulti(_0x1c5be5(0x13a),_0xd3d216),_0x10e8ff=initMulti('newItem_brands_select',_0x20df52);document['getElementById'](_0x1c5be5(0x13a))[_0x1c5be5(0xc1)](_0x1c5be5(0x182),function(_0x498f7f){var _0x376d57=_0x1c5be5;baseItem['setItemCategories']=_0x2f7de7['map'](_0x35f5b4=>_0x35f5b4[_0x376d57(0x1cc)]);}),document[_0x1c5be5(0x162)](_0x1c5be5(0xdb))[_0x1c5be5(0xc1)]('selectionChange',function(_0x3913aa){var _0x4f46da=_0x1c5be5;baseItem['setItemBrands']=_0x10e8ff[_0x4f46da(0xfb)](_0x5c55d0=>_0x5c55d0[_0x4f46da(0x1cc)]);});}function initializeFormUnits(){var _0x3680cd=_0x55cd12;unitCount=0x0,document[_0x3680cd(0x162)](_0x3680cd(0x1d9))[_0x3680cd(0x1c8)]='',baseItem[_0x3680cd(0xf8)]=[];var _0x27169a=uniqueValuesArray(_0x3680cd(0x112),'setUnidad',products);addUnit('',_0x27169a[0x0]&&_0x27169a[0x0][_0x3680cd(0x1cc)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x52d7c5=_0x55cd12;prodC[_0x52d7c5(0x1c8)]='',baseItem[_0x52d7c5(0x1d2)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x22f1f3=_0x55cd12;branchesC[_0x22f1f3(0x1c8)]='',baseItem[_0x22f1f3(0x190)]=[];const _0x2d58d3=getAllWarehouses();_0x2d58d3[_0x22f1f3(0x1af)](function(_0x458114){var _0x44b352=_0x22f1f3,_0x274040=document['createElement'](_0x44b352(0x18d));_0x274040[_0x44b352(0x1c8)]=_0x44b352(0x174)+_0x44b352(0x121)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x458114[_0x44b352(0x117)]+_0x44b352(0x165)+_0x458114[_0x44b352(0x1be)]+_0x44b352(0x16c)+'</div>'+_0x44b352(0x121)+_0x44b352(0x191)+_0x458114[_0x44b352(0x117)]+'\x22>'+_0x44b352(0x1b8)+_0x44b352(0x121)+_0x44b352(0x19c)+_0x458114['setWarehouseId']+'\x22>'+_0x44b352(0x1b8)+_0x44b352(0x1b8),branchesC['appendChild'](_0x274040),_0x274040[_0x44b352(0xbe)](_0x44b352(0x192))['forEach'](function(_0xff1f54){var _0x4c5e9e=_0x44b352;_0xff1f54[_0x4c5e9e(0xc1)](_0x4c5e9e(0x192),updateBranches);});}),updateBranches();}function _0x1dfc(){var _0x3e044b=['preventDefault','className','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','tag','dragleave','assign','dragover','setItemBrands','priceInput','.options_list','setItemTaxId','image/*','test','.variantExpiry','newItem_title_table_cp','result','newItem_btn_addProdItem','modalProductNewTitle','btnItemSave','onerror','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','stopPropagation','span','setImpuestoValue','getElementById','setTaxIdDefault','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22\x20class=\x22branchChk\x22\x20checked>\x20','newItem_chk_sell','drop-zone','inputItemCode','error','true','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','</label>','7013772IWdHIg','.priceInput','productType1','log','2937605SaTjFo','.removeVariant','#newItem_categories_select\x20.selected_tags','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','appendChild','setPrice','click','table','classList','607670ySCmOq','.prodInput','dataset','push','.prodQty','closeModalCreateItem','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','selectionChange','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','undefined','offline_operations','target','inputItemType','modalOverlayCreateItem','setItemImages','name','_units_container','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','div','display','Collator','setItemWarehouses','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','input','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','toggle','option','setItemCode','find','progress','setItemType','remove-file','remove','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','variant_','apply','costInput','setItemDescription','padStart','setWebhook','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','now','some','dispatchEvent','vals','.eqInput','2fDZizX','prototype','unitAlias','warn','.selected_tags','forEach','setItemName','setItemIsBought','setDescripcion','#newItem_brands_select\x20.selected_tags','_branch_container','setUnitCode','code','newItem_addToCart','</div>','file-input','.branchMin','windowId','inputItemName','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setWarehouseName','newItem_branches_container','__proto__','file','stringify','setCost','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','drop','setFactor','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','innerHTML','info','416KXOXZE','includes','setCode','unitSelect','hidden','exception','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','findIndex','setItemComponents','setItemDateExpiry','focus','100','setItemVariantValues','querySelector','newItem_btn_addVariantGroup','newItem_units_container','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','.removeUnit','setTaxId','onmessage','.removeProd','selectedItem','splice','active','setItemIsSold','toString','remove-tag','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','Ingresa\x20el\x20código\x20del\x20item','Enter','setItemBarCode','querySelectorAll','.addVariantUnit','newItem_chk_buy','addEventListener','length','blur','.addVariantComp','newItem_proditems_container','image_box','match','./js/apierp_item_wk.min.js','3224660miqXSg','fill','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','compare','setItemCategories','postMessage','parentNode','newItem_variants_forms','.vgVals','2408559clDgar','parse','none','eqInput','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','.branchChk','setMarca','flatMap','keydown','newItem_brands_select','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','add','.unitSelect','status','_comp_container','default','max','(((.+)+)+)+$','search','inputItemDateExpiry','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','toLowerCase','setWarehouseCode','selected','style','sort','type','block','done','div[data-default=\x22true\x22]\x20.eqInput','7DzKnGc','base','style=\x22display:none\x22','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setCategoria','setItemTaxCode','newItem_title_table','setItemUnits','arrayBuffer','console','map','createElement','idx','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setName','.prod_input_container','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setItemVariantName','every','split','setUnitPresentationId','inputItemBarCode','[data-idx=\x22','children','detalleModalCreateItem','checked','from','setImpuestos','.removeCombo','./img/product.png','dragenter','objectStore','contains','setUnidad','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.drop-zone__prompt','setImpuestoName','.ms_input','setWarehouseId','string','.unitAlias','Producto\x20Guardado\x20Offline\x20Correctamente.','setItemTaxValue','.costInput','inputItemTax','setImpuestoCode','inputItemDescription','\x20items\x20procesados.','<div\x20class=\x22newItem_col\x22>','setItemFree','setItemId','slice','dataTransfer','Items\x20finales:','filter','onload','.variantForm','.vgName','constructor','variantForm','readAsDataURL','setAuthToken','oncomplete','#newItem_categories_select\x20.options_list','items','setMoneda','trim','currentTarget','setStockMinimum','files','textContent','newItem_hidden','\x22\x20value=\x22','newItem_categories_select','change','disabled','189153AAkOIx','{}.constructor(\x22return\x20this\x22)(\x20)','setStockInitial','readwrite','❌\x20Error:\x20','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','Ingresa\x20el\x20nombre\x20del\x20item','bind','value','setDefault','newItem_variant_groups','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','268827LIBBrL'];_0x1dfc=function(){return _0x3e044b;};return _0x1dfc();}function initializeFormVariants(){var _0x11cecd=_0x55cd12;baseItem[_0x11cecd(0x102)]='',baseItem[_0x11cecd(0x1d6)]={},vgC[_0x11cecd(0x1c8)]='',varContainer[_0x11cecd(0x1c8)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x1912d9,_0x39c85f,_0x17fb10=![]){var _0x25aa9a=_0x55cd12;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x25aa9a(0x1d5),'setToken':company[0x0][_0x25aa9a(0x12e)],'setWebhook':company[0x0][_0x25aa9a(0x1a2)],'newItems':_0x39c85f}),products[_0x25aa9a(0x17e)](..._0x1912d9),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x25aa9a(0x193)),_0x17fb10?(fileInput['value']='',uploadBtn[_0x25aa9a(0x13c)]=!![],statusDiv['textContent']='',progressBar['style'][_0x25aa9a(0x18e)]=_0x25aa9a(0xd4),progressBar[_0x25aa9a(0x145)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}