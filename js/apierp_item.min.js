/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.3
*/

var _0x7126b7=_0x31cc;(function(_0x79f3ef,_0x43dd54){var _0x3a49da=_0x31cc,_0x47539a=_0x79f3ef();while(!![]){try{var _0x3bccc3=-parseInt(_0x3a49da(0x23b))/0x1+-parseInt(_0x3a49da(0x1f0))/0x2+-parseInt(_0x3a49da(0x22f))/0x3+parseInt(_0x3a49da(0x2c6))/0x4*(-parseInt(_0x3a49da(0x222))/0x5)+parseInt(_0x3a49da(0x2dc))/0x6*(-parseInt(_0x3a49da(0x29b))/0x7)+-parseInt(_0x3a49da(0x26f))/0x8+parseInt(_0x3a49da(0x1f8))/0x9;if(_0x3bccc3===_0x43dd54)break;else _0x47539a['push'](_0x47539a['shift']());}catch(_0x214943){_0x47539a['push'](_0x47539a['shift']());}}}(_0x3f3b,0x629f7));var _0x1f9f88=(function(){var _0x3e1f0f=!![];return function(_0x5024ff,_0x84bbcc){var _0x4d525c=_0x3e1f0f?function(){var _0x58f45a=_0x31cc;if(_0x84bbcc){var _0x12defc=_0x84bbcc[_0x58f45a(0x1e8)](_0x5024ff,arguments);return _0x84bbcc=null,_0x12defc;}}:function(){};return _0x3e1f0f=![],_0x4d525c;};}()),_0x35f9a4=_0x1f9f88(this,function(){var _0x445626=_0x31cc;return _0x35f9a4['toString']()[_0x445626(0x26a)](_0x445626(0x2b2))[_0x445626(0x2aa)]()[_0x445626(0x2e3)](_0x35f9a4)[_0x445626(0x26a)](_0x445626(0x2b2));});_0x35f9a4();var _0x25eeae=(function(){var _0x4376e9=!![];return function(_0x17ca3f,_0x29ffa2){var _0x1ae702=_0x4376e9?function(){var _0x2de486=_0x31cc;if(_0x29ffa2){var _0x34c3e4=_0x29ffa2[_0x2de486(0x1e8)](_0x17ca3f,arguments);return _0x29ffa2=null,_0x34c3e4;}}:function(){};return _0x4376e9=![],_0x1ae702;};}()),_0x548f5a=_0x25eeae(this,function(){var _0x87b24d=_0x31cc,_0x3fbce1=function(){var _0x1065ac=_0x31cc,_0x22c392;try{_0x22c392=Function('return\x20(function()\x20'+_0x1065ac(0x273)+');')();}catch(_0xec655){_0x22c392=window;}return _0x22c392;},_0x260acb=_0x3fbce1(),_0x216450=_0x260acb[_0x87b24d(0x2ee)]=_0x260acb[_0x87b24d(0x2ee)]||{},_0x347be9=[_0x87b24d(0x2e5),_0x87b24d(0x27e),'info',_0x87b24d(0x290),'exception',_0x87b24d(0x274),_0x87b24d(0x230)];for(var _0x1f109b=0x0;_0x1f109b<_0x347be9['length'];_0x1f109b++){var _0xae81f1=_0x25eeae['constructor'][_0x87b24d(0x2d5)]['bind'](_0x25eeae),_0x54c6bc=_0x347be9[_0x1f109b],_0x83fc95=_0x216450[_0x54c6bc]||_0xae81f1;_0xae81f1[_0x87b24d(0x2bc)]=_0x25eeae[_0x87b24d(0x2d3)](_0x25eeae),_0xae81f1[_0x87b24d(0x2aa)]=_0x83fc95[_0x87b24d(0x2aa)][_0x87b24d(0x2d3)](_0x83fc95),_0x216450[_0x54c6bc]=_0xae81f1;}});_0x548f5a();var newItems=[],baseItem={'setItemType':'1','setItemCode':'','setItemBarCode':'','setItemName':'','setItemDescription':'','setItemFree':0x0,'setItemTaxId':'','setItemTaxCode':'','setItemTaxValue':'','setItemDateExpiry':'','setItemIsBought':!![],'setItemIsSold':!![],'setItemImages':[],'setItemCategories':[],'setItemBrands':[],'setItemWarehouses':[],'setItemUnits':[],'setItemComponents':[],'setItemVariantName':'','setItemVariantValues':{}},MAX_IMAGES=0x4,currentImages=Array(MAX_IMAGES)[_0x7126b7(0x2c4)](null),imgC=document[_0x7126b7(0x2cf)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x7126b7(0x2cf)]('newItem_branches_container'),prodC=document['getElementById'](_0x7126b7(0x22c)),vgCount=0x0,varContainer=document[_0x7126b7(0x2cf)](_0x7126b7(0x2af)),vgC=document[_0x7126b7(0x2cf)](_0x7126b7(0x21c));const fileInput=document[_0x7126b7(0x2cf)](_0x7126b7(0x27a)),progressBar=document[_0x7126b7(0x2cf)]('progress'),statusDiv=document[_0x7126b7(0x2cf)](_0x7126b7(0x218)),uploadBtn=document['getElementById']('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x7126b7(0x250)),dropZone=document[_0x7126b7(0x2cf)](_0x7126b7(0x23e)),removeBtn=document[_0x7126b7(0x2cf)](_0x7126b7(0x28e));function showModalCreateItem(_0x5c7ad1){var _0x19bfd0=_0x7126b7;const _0xf2b847=document['getElementById'](_0x19bfd0(0x258)),_0x5ccce1=document[_0x19bfd0(0x2cf)](_0x19bfd0(0x2bb));_0xf2b847[_0x19bfd0(0x251)][_0x19bfd0(0x225)](_0x19bfd0(0x2dd)),_0x5ccce1[_0x19bfd0(0x1f2)][_0x19bfd0(0x2ca)]=_0x19bfd0(0x291);const _0x3ccfce=document[_0x19bfd0(0x2cf)](_0x19bfd0(0x267));_0x3ccfce[_0x19bfd0(0x294)]=parseInt(_0x5c7ad1),baseItem['setItemFree']=parseInt(_0x5c7ad1);const _0x3211bc=document[_0x19bfd0(0x2cf)](_0x19bfd0(0x2bf));_0x5c7ad1==0x0&&(_0x3211bc[_0x19bfd0(0x2df)]=_0x19bfd0(0x234));_0x5c7ad1==0x1&&(_0x3211bc[_0x19bfd0(0x2df)]='Producto\x20Libre');const _0x555b21=document[_0x19bfd0(0x238)](_0x19bfd0(0x25e));for(let _0x165cb9=0x0;_0x165cb9<_0x555b21[_0x19bfd0(0x2a4)];_0x165cb9++){const _0x3d6fbb=_0x555b21[_0x165cb9];if(_0x5c7ad1==0x0)_0x3d6fbb[_0x19bfd0(0x251)][_0x19bfd0(0x2d8)](_0x19bfd0(0x295));else _0x5c7ad1==0x1&&_0x3d6fbb[_0x19bfd0(0x251)]['add'](_0x19bfd0(0x295));}}function hideModalCreateItem(){var _0x17908a=_0x7126b7;const _0x50d37e=document[_0x17908a(0x2cf)](_0x17908a(0x258)),_0x59f15e=document['getElementById']('modalOverlayCreateItem');_0x50d37e[_0x17908a(0x251)]['remove'](_0x17908a(0x2dd)),_0x59f15e[_0x17908a(0x1f2)]['display']=_0x17908a(0x2d6);}document[_0x7126b7(0x2cf)](_0x7126b7(0x231))[_0x7126b7(0x28f)](_0x7126b7(0x2b8),hideModalCreateItem),document['getElementById'](_0x7126b7(0x2bb))[_0x7126b7(0x28f)](_0x7126b7(0x2b8),_0x29802c=>{var _0x20cce9=_0x7126b7;_0x29802c[_0x20cce9(0x2a5)]==_0x29802c['currentTarget']&&_0x29802c['stopPropagation']();});function loadTaxData(){var _0x350ab2=_0x7126b7;const _0x45d326=document['getElementById'](_0x350ab2(0x2eb));_0x45d326['innerHTML']='',company[0x0][_0x350ab2(0x1e7)]['forEach'](function(_0x1c9e0b){var _0x162f5f=_0x350ab2;const _0x4d3835=document['createElement'](_0x162f5f(0x2c2));_0x4d3835['value']=_0x1c9e0b[_0x162f5f(0x22b)],_0x4d3835[_0x162f5f(0x2df)]=_0x1c9e0b[_0x162f5f(0x2f7)]+'\x20('+_0x1c9e0b['setImpuestoValue']+'%)',_0x1c9e0b[_0x162f5f(0x22b)]==company[0x0][_0x162f5f(0x237)]&&(_0x4d3835[_0x162f5f(0x254)]=!![]),_0x45d326[_0x162f5f(0x215)](_0x4d3835);});}function uniqueValuesArray(_0x1ac39e,_0x2bd301,_0x3891de){var _0x1fe791=_0x7126b7;const _0x4517a2=Array[_0x1fe791(0x1fe)](new Set(_0x3891de[_0x1fe791(0x2b4)](_0x1c1edd=>{var _0x2785cd=_0x1fe791;const _0x3dc556=_0x1c1edd[_0x1ac39e];return typeof _0x3dc556===_0x2785cd(0x2b6)?_0x3dc556[_0x2785cd(0x2e2)]():_0x3dc556;})[_0x1fe791(0x280)](_0x209b2b=>_0x209b2b!=null&&_0x209b2b!=='')));return _0x4517a2[_0x1fe791(0x2b4)](_0x230d9a=>{var _0x26c842=_0x1fe791;const _0x10c5e3=_0x3891de[_0x26c842(0x26b)](_0x252bc2=>_0x252bc2[_0x1ac39e]===_0x230d9a),_0x1ab105=_0x10c5e3&&_0x10c5e3[_0x2bd301]!=null?String(_0x10c5e3[_0x2bd301])[_0x26c842(0x2e2)]():_0x230d9a;return{'setCode':_0x230d9a,'setName':_0x1ab105};});}function fillSelect(_0x2de2a2,_0x3e99dc,_0x234795,_0x8c2cb4){var _0x402bab=_0x7126b7;_0x2de2a2[_0x402bab(0x2df)]='',_0x3e99dc['forEach'](function(_0x4cab0b){var _0x86283b=_0x402bab,_0x1d4aba=new Option(_0x4cab0b[_0x8c2cb4],_0x4cab0b[_0x234795]);_0x2de2a2[_0x86283b(0x225)](_0x1d4aba);});}function initMulti(_0x24ae19,_0x369785){var _0x3a6005=_0x7126b7,_0x4121b3=document[_0x3a6005(0x2cf)](_0x24ae19),_0x49efd7=_0x4121b3[_0x3a6005(0x282)](_0x3a6005(0x24d)),_0x3d8f46=_0x4121b3[_0x3a6005(0x282)](_0x3a6005(0x2ce)),_0x2d03a2=_0x4121b3[_0x3a6005(0x282)](_0x3a6005(0x226)),_0x240be7=_0x369785[_0x3a6005(0x221)](),_0x2a03ae=[];function _0x5184bf(){var _0x4a229f=_0x3a6005;_0x3d8f46[_0x4a229f(0x2df)]='',_0x240be7[_0x4a229f(0x280)](function(_0x4db4f0){var _0x8c162e=_0x4a229f;return _0x4db4f0[_0x8c162e(0x20c)][_0x8c162e(0x2f2)]()[_0x8c162e(0x2fb)](_0x49efd7[_0x8c162e(0x294)][_0x8c162e(0x2f2)]())!==-0x1;})[_0x4a229f(0x2d7)](function(_0x1274b6){var _0x8232dc=_0x4a229f,_0x5411c1=document[_0x8232dc(0x1ec)](_0x8232dc(0x249));_0x5411c1[_0x8232dc(0x1f4)]=_0x1274b6[_0x8232dc(0x20c)],_0x5411c1['dataset']['code']=_0x1274b6[_0x8232dc(0x20a)],_0x3d8f46[_0x8232dc(0x215)](_0x5411c1),_0x5411c1[_0x8232dc(0x28f)](_0x8232dc(0x2b8),function(){var _0x3c6642=_0x8232dc;_0x2a03ae[_0x3c6642(0x279)](_0x1274b6),_0x240be7[_0x3c6642(0x240)](_0x240be7[_0x3c6642(0x281)](function(_0x37b846){var _0x1bbd90=_0x3c6642;return _0x37b846[_0x1bbd90(0x20a)]===_0x1274b6[_0x1bbd90(0x20a)];}),0x1),_0x49efd7[_0x3c6642(0x294)]='',_0x3a56(),_0x5184bf();});});}function _0x3a56(){var _0x1aa56f=_0x3a6005;_0x2d03a2[_0x1aa56f(0x2df)]='',_0x2a03ae[_0x1aa56f(0x2d7)](function(_0x10d61a){var _0x4ffc6b=_0x1aa56f,_0x46bebd=document[_0x4ffc6b(0x1ec)](_0x4ffc6b(0x249));_0x46bebd[_0x4ffc6b(0x2a2)]=_0x4ffc6b(0x27c),_0x46bebd[_0x4ffc6b(0x1f4)]=_0x10d61a['setName'];var _0x5a2beb=document[_0x4ffc6b(0x1ec)](_0x4ffc6b(0x269));_0x5a2beb[_0x4ffc6b(0x2a2)]=_0x4ffc6b(0x260),_0x5a2beb['textContent']='×',_0x5a2beb[_0x4ffc6b(0x28f)](_0x4ffc6b(0x2b8),function(){var _0x408916=_0x4ffc6b;_0x240be7['push'](_0x10d61a);const _0x551963=_0x2a03ae[_0x408916(0x281)](function(_0x167fe1){var _0x48c611=_0x408916;return _0x167fe1[_0x48c611(0x20a)]===_0x10d61a[_0x48c611(0x20a)];});if(_0x551963>-0x1)_0x2a03ae[_0x408916(0x240)](_0x551963,0x1);_0x3a56(),_0x5184bf();}),_0x46bebd[_0x4ffc6b(0x215)](_0x5a2beb),_0x2d03a2[_0x4ffc6b(0x215)](_0x46bebd);}),_0x4121b3[_0x1aa56f(0x25d)](new CustomEvent(_0x1aa56f(0x266),{'bubbles':!![]}));}return _0x49efd7[_0x3a6005(0x28f)]('focus',function(){var _0x410d5b=_0x3a6005;_0x3d8f46['classList'][_0x410d5b(0x2d8)](_0x410d5b(0x220));}),_0x49efd7['addEventListener'](_0x3a6005(0x24b),_0x5184bf),_0x49efd7['addEventListener']('keydown',function(_0x5b8587){var _0x2478e3=_0x3a6005;if(_0x5b8587[_0x2478e3(0x233)]==='Enter'){_0x5b8587[_0x2478e3(0x22a)]();const _0x4ee6f0=_0x49efd7[_0x2478e3(0x294)][_0x2478e3(0x2e2)]();if(!_0x4ee6f0)return;const _0x3c4cc0=_0x2a03ae[_0x2478e3(0x255)](_0x352532=>_0x352532[_0x2478e3(0x20c)]===_0x4ee6f0),_0x1021f6=_0x240be7[_0x2478e3(0x255)](_0x363d2b=>_0x363d2b[_0x2478e3(0x20c)]===_0x4ee6f0);if(!_0x3c4cc0&&!_0x1021f6){const _0x1c00e1={'setCode':_0x4ee6f0,'setName':_0x4ee6f0};_0x2a03ae[_0x2478e3(0x279)](_0x1c00e1),_0x3a56(),_0x5184bf();}_0x49efd7['value']='';}}),document[_0x3a6005(0x28f)](_0x3a6005(0x2b8),function(_0x2c3fe9){var _0x5add02=_0x3a6005;if(!_0x4121b3[_0x5add02(0x259)](_0x2c3fe9[_0x5add02(0x2a5)]))_0x3d8f46[_0x5add02(0x251)][_0x5add02(0x225)](_0x5add02(0x220));}),_0x5184bf(),_0x2a03ae;}document[_0x7126b7(0x2cf)](_0x7126b7(0x2fe))[_0x7126b7(0x28f)](_0x7126b7(0x24b),function(_0x44fd88){var _0x267a47=_0x7126b7;baseItem[_0x267a47(0x200)]=_0x44fd88[_0x267a47(0x2a5)]['value'];}),document['getElementById'](_0x7126b7(0x1ee))[_0x7126b7(0x28f)](_0x7126b7(0x24b),function(_0x30874e){var _0x38b190=_0x7126b7;baseItem['setItemDescription']=_0x30874e['target'][_0x38b190(0x294)];}),document[_0x7126b7(0x2cf)](_0x7126b7(0x2b7))[_0x7126b7(0x28f)](_0x7126b7(0x24b),function(_0x3c7c80){var _0x1a43c4=_0x7126b7;baseItem['setItemDateExpiry']=_0x3c7c80[_0x1a43c4(0x2a5)][_0x1a43c4(0x294)];}),document[_0x7126b7(0x2cf)]('inputItemType')[_0x7126b7(0x28f)](_0x7126b7(0x2da),function(_0x1a9551){var _0x48cb56=_0x7126b7;baseItem[_0x48cb56(0x293)]=_0x1a9551[_0x48cb56(0x2a5)][_0x48cb56(0x294)];}),document[_0x7126b7(0x2cf)](_0x7126b7(0x2eb))[_0x7126b7(0x28f)]('change',function(_0x5127fd){var _0x26c649=_0x7126b7;baseItem[_0x26c649(0x208)]=_0x5127fd['target'][_0x26c649(0x294)];const _0x4094c6=_0x5127fd['target'][_0x26c649(0x294)],_0x59bdc6=company[0x0]['setImpuestos'][_0x26c649(0x26b)](_0x402aa3=>_0x402aa3['setTaxId']==_0x4094c6)?.[_0x26c649(0x211)]||0x0,_0x31f235=company[0x0][_0x26c649(0x1e7)][_0x26c649(0x26b)](_0x7bff90=>_0x7bff90['setTaxId']==_0x4094c6)?.[_0x26c649(0x1e6)]||0x0;baseItem[_0x26c649(0x1ef)]=_0x59bdc6,baseItem[_0x26c649(0x204)]=_0x31f235;}),document[_0x7126b7(0x2cf)](_0x7126b7(0x26d))[_0x7126b7(0x28f)](_0x7126b7(0x2da),function(_0x5bae85){var _0x4f6b5d=_0x7126b7;baseItem['setItemIsBought']=_0x5bae85[_0x4f6b5d(0x2a5)]['checked'];}),document[_0x7126b7(0x2cf)](_0x7126b7(0x1fc))['addEventListener'](_0x7126b7(0x2da),function(_0x1f4934){var _0x16abb3=_0x7126b7;baseItem[_0x16abb3(0x27f)]=_0x1f4934[_0x16abb3(0x2a5)][_0x16abb3(0x2ea)];}),document[_0x7126b7(0x2cf)](_0x7126b7(0x2cb))[_0x7126b7(0x28f)]('input',function(_0x145da1){var _0x31cfc6=_0x7126b7;baseItem[_0x31cfc6(0x2f5)]=_0x145da1[_0x31cfc6(0x2a5)][_0x31cfc6(0x294)];}),document['getElementById'](_0x7126b7(0x20d))[_0x7126b7(0x28f)](_0x7126b7(0x24b),function(_0xbfecd6){var _0x16a7d0=_0x7126b7;baseItem[_0x16a7d0(0x2c0)]=_0xbfecd6[_0x16a7d0(0x2a5)]['value'];}),document[_0x7126b7(0x2cf)]('newItem_btn_addUnit')[_0x7126b7(0x28f)](_0x7126b7(0x2b8),function(){addUnit(),updateUnitsArray();}),document[_0x7126b7(0x2cf)](_0x7126b7(0x2cb))[_0x7126b7(0x28f)](_0x7126b7(0x201),function(){var _0x50765a=_0x7126b7;const _0x2ccb6d=this[_0x50765a(0x294)][_0x50765a(0x2e2)]();if(_0x2ccb6d==='')return;const _0x5dca41=products[_0x50765a(0x255)](_0x4a9354=>_0x4a9354['setCodProducto']==_0x2ccb6d),_0x1dd7f7=products[_0x50765a(0x2b4)](_0x523580=>String(_0x523580[_0x50765a(0x1ea)])[_0x50765a(0x2e2)]())['filter'](_0x214a67=>_0x214a67!==''),_0x5bec6c=_0x1dd7f7[_0x50765a(0x2fd)](_0x25377b=>/^\d+$/['test'](_0x25377b));let _0x14daa2;if(_0x5bec6c){const _0x4551a8=_0x1dd7f7[_0x50765a(0x2b4)](Number),_0x194435=Math[_0x50765a(0x24f)](..._0x4551a8);_0x14daa2=String(_0x194435);}else{let _0x3550f9;if(typeof Intl!==_0x50765a(0x2cd)&&Intl[_0x50765a(0x2e4)]){const _0x2d8a81=new Intl[(_0x50765a(0x2e4))](undefined,{'numeric':!![],'sensitivity':'base'});_0x3550f9=_0x1dd7f7['slice']()['sort'](_0x2d8a81['compare']);}else{const _0x49748e=_0x1dd7f7[_0x50765a(0x2fd)](_0x2afd2e=>/^\d+$/[_0x50765a(0x2be)](_0x2afd2e));_0x49748e?_0x3550f9=_0x1dd7f7[_0x50765a(0x2b4)](Number)[_0x50765a(0x28d)]((_0x28593d,_0x935b7e)=>_0x28593d-_0x935b7e)[_0x50765a(0x2b4)](String):_0x3550f9=_0x1dd7f7[_0x50765a(0x221)]()[_0x50765a(0x28d)]();}_0x14daa2=_0x3550f9[_0x3550f9[_0x50765a(0x2a4)]-0x1];}_0x5dca41?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x14daa2,0x2,0x1):ntfShow(_0x50765a(0x2e7),0x1,0x1);});function removeImg(_0x40782e){var _0x31d469=_0x7126b7;currentImages[_0x40782e]=null;var _0x45a2a0=imgC['querySelector'](_0x31d469(0x2cc)+_0x40782e+'\x22]');_0x45a2a0[_0x31d469(0x2df)]='';var _0x35067d=document[_0x31d469(0x1ec)](_0x31d469(0x24b));_0x35067d['type']=_0x31d469(0x241),_0x35067d['accept']='image/*',_0x35067d[_0x31d469(0x1f2)][_0x31d469(0x2ca)]=_0x31d469(0x2d6);var _0x40c84e=document[_0x31d469(0x1ec)](_0x31d469(0x269));_0x40c84e['textContent']='+',_0x45a2a0[_0x31d469(0x215)](_0x35067d),_0x45a2a0['appendChild'](_0x40c84e),_0x45a2a0[_0x31d469(0x28f)](_0x31d469(0x2b8),function(){_0x35067d['click']();}),baseItem[_0x31d469(0x223)]=currentImages[_0x31d469(0x280)](function(_0x5a60ba){return _0x5a60ba;});}function _0x3f3b(){var _0x1e2c07=['./js/apierp_item_wk.min.js','classList','setWebhook','drop','selected','some','Producto\x20Guardado\x20Offline\x20Correctamente.','.variantExpiry','detalleModalCreateItem','contains','.unitSelect','setUnidad','.branchMin','dispatchEvent','productType1','newItem_title_table','remove-tag','idx','\x22\x20class=\x22branchChk\x22\x20checked>\x20','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','_units_container','\x20items\x20procesados.','selectionChange','setItemFree','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','span','search','find','.drop-zone__prompt','newItem_chk_buy','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','3358000OgfxVb','dataTransfer','setStockInitial','setItemDateExpiry','{}.constructor(\x22return\x20this\x22)(\x20)','table','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','eqInput','accept','offline_operations','push','file-input','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','tag','progress','warn','setItemIsSold','filter','findIndex','querySelector','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setWarehouseId','result','setItemIsBought','setStockMinimum','items','.variantCode','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.branchChk','Items\x20finales:','sort','remove-file','addEventListener','error','block','dragenter','setItemType','value','hidden','postMessage','flatMap','includes','costInput','.eqInput','84EumofB','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemUnits','_comp_container','setItemBrands','percent','.prodQty','className','setDefault','length','target','setItemInventoriable','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setItemDescription','newItem_btn_addVariantGroup','toString','image_box','.unitAlias','\x22\x20class=\x22branchChk\x22>\x20','.removeProd','newItem_variants_forms','setItemWarehouses','closest','(((.+)+)+)+$','arrayBuffer','map','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','string','inputItemDateExpiry','click','setDescripcion','div[data-default=\x22true\x22]\x20.eqInput','modalOverlayCreateItem','__proto__','setAuthToken','test','modalProductNewTitle','setItemBarCode','image/*','option','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','fill','readwrite','4wrJlKC','setItemCategories','querySelectorAll','assign','display','inputItemCode','[data-idx=\x22','undefined','.options_list','getElementById','style=\x22display:none\x22','variant_','stopPropagation','bind','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','prototype','none','forEach','remove','message','change','setPrice','68922mDMxUk','active','#newItem_branches_container\x20>\x20div','innerHTML','type','setUnitCode','trim','constructor','Collator','log','vals','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setEquivalence','focus','checked','inputItemTax','.variantBarCode','setMoneda','console','dataset','setWarehouseCode','.prod_input_container','toLowerCase','priceInput','default','setItemCode','<img\x20src=\x22','setImpuestoName','parentNode','children','onload','indexOf','toggle','every','inputItemName','setImpuestoValue','setImpuestos','apply','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setCodProducto','defineProperty','createElement','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','inputItemDescription','setItemTaxCode','353842pdBKrv','.vgName','style','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','textContent','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x22\x20value=\x22','onmessage','18220104wsrHax','[id$=\x22_comp_container\x22]','.prodInput','selectedItem','newItem_chk_sell','Ingresa\x20el\x20código\x20del\x20item','from','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemName','blur','100','.removeCombo','setItemTaxValue','dragover','❌\x20Error:\x20','Error\x20al\x20procesar\x20la\x20operación:','setItemTaxId','setCost','setCode','_branch_container','setName','inputItemBarCode','#newItem_units_container\x20>\x20div','onerror','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setImpuestoCode','newItem_btn_addProdItem','dragleave','setItemVariantName','appendChild','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','status','.vgVals','.costInput','.removeUnit','newItem_variant_groups','now','oncomplete','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','newItem_hidden','slice','871050sWjkhX','setItemImages','setFactor','add','.selected_tags','setItemComponents','stringify','newItem_title_table_cp','preventDefault','setTaxId','newItem_proditems_container','entries','variantForm','733494qBBQbx','trace','closeModalCreateItem','.priceInput','key','Nuevo\x20Producto','files','setItemId','setTaxIdDefault','getElementsByClassName','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','467274OcyCrS','setWarehouseName','true','drop-zone','done','splice','file','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','windowId','name','split','setItemVariantValues','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setAlias','div','disabled','input','setUnitPresentationId','.ms_input','.addVariantUnit','max'];_0x3f3b=function(){return _0x1e2c07;};return _0x3f3b();}for(var i=0x0;i<MAX_IMAGES;i++){(function(_0x576a0b){var _0xa3ba44=_0x7126b7,_0x336ff3=document[_0xa3ba44(0x1ec)]('div');_0x336ff3[_0xa3ba44(0x2a2)]=_0xa3ba44(0x2ab),_0x336ff3['dataset'][_0xa3ba44(0x261)]=_0x576a0b;var _0x14ca9b=document[_0xa3ba44(0x1ec)]('input');_0x14ca9b[_0xa3ba44(0x2e0)]=_0xa3ba44(0x241),_0x14ca9b[_0xa3ba44(0x277)]=_0xa3ba44(0x2c1),_0x14ca9b['style']['display']=_0xa3ba44(0x2d6);var _0x5a533c=document[_0xa3ba44(0x1ec)](_0xa3ba44(0x269));_0x5a533c[_0xa3ba44(0x1f4)]='+',_0x336ff3[_0xa3ba44(0x215)](_0x14ca9b),_0x336ff3[_0xa3ba44(0x215)](_0x5a533c),imgC[_0xa3ba44(0x215)](_0x336ff3),_0x336ff3[_0xa3ba44(0x28f)]('click',function(){var _0x11052f=_0xa3ba44;_0x14ca9b[_0x11052f(0x2b8)]();}),_0x14ca9b['addEventListener'](_0xa3ba44(0x2da),function(_0x4c482e){var _0x3af070=_0xa3ba44,_0x5e5da1=_0x4c482e[_0x3af070(0x2a5)][_0x3af070(0x235)][0x0];if(!_0x5e5da1)return removeImg(_0x576a0b);var _0x4cd941=new FileReader();_0x4cd941[_0x3af070(0x2fa)]=function(_0x2db9e4){var _0x4214a3=_0x3af070;_0x336ff3[_0x4214a3(0x2df)]=_0x4214a3(0x2f6)+_0x2db9e4[_0x4214a3(0x2a5)][_0x4214a3(0x285)]+'\x22>';var _0x57debc=document[_0x4214a3(0x1ec)](_0x4214a3(0x269));_0x57debc[_0x4214a3(0x2a2)]=_0x4214a3(0x2d8),_0x57debc[_0x4214a3(0x1f4)]='×',_0x57debc['addEventListener']('click',function(_0x4940e0){var _0x4c6902=_0x4214a3;_0x4940e0[_0x4c6902(0x2d2)](),removeImg(_0x576a0b);}),_0x336ff3['appendChild'](_0x57debc),currentImages[_0x576a0b]=_0x5e5da1,baseItem[_0x4214a3(0x223)]=currentImages[_0x4214a3(0x280)](function(_0x51db4f){return _0x51db4f;});},_0x4cd941['readAsDataURL'](_0x5e5da1);});}(i));}function addUnit(_0x34ac92,_0x352c68,_0x50b520,_0x559451,_0x424c0d,_0x13d212,_0x5e3a11){var _0x2c85e0=_0x7126b7,_0x488165=uniqueValuesArray('setUnidad',_0x2c85e0(0x25b),products);_0x34ac92=_0x34ac92||'',_0x352c68=_0x352c68||_0x488165[0x0]&&_0x488165[0x0]['setCode']||'',_0x50b520=_0x50b520!==undefined?_0x50b520:0x1,_0x559451=!!_0x559451,_0x424c0d=_0x424c0d||'',_0x13d212=_0x13d212||'';var _0x4eb21c=unitCount++,_0x1d5720=document[_0x2c85e0(0x1ec)](_0x2c85e0(0x249));_0x1d5720[_0x2c85e0(0x2ef)]['idx']=_0x4eb21c,_0x1d5720[_0x2c85e0(0x2ef)][_0x2c85e0(0x2f4)]=_0x559451,_0x1d5720['innerHTML']=_0x2c85e0(0x239)+_0x4eb21c+_0x2c85e0(0x1f6)+_0x34ac92+_0x2c85e0(0x2d4)+_0x4eb21c+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x4eb21c+_0x2c85e0(0x1f6)+_0x50b520+'\x22\x20'+(_0x559451?'disabled':'')+_0x2c85e0(0x2b5)+_0x4eb21c+_0x2c85e0(0x1f6)+_0x424c0d+_0x2c85e0(0x275)+_0x4eb21c+_0x2c85e0(0x1f6)+_0x13d212+_0x2c85e0(0x268)+(_0x559451?_0x2c85e0(0x2d0):'')+_0x2c85e0(0x1e9),fillSelect(_0x1d5720[_0x2c85e0(0x282)]('.unitSelect'),_0x488165,'setCode',_0x2c85e0(0x20c)),_0x1d5720[_0x2c85e0(0x282)](_0x2c85e0(0x25a))['value']=_0x352c68,['unitAlias','unitSelect',_0x2c85e0(0x276),_0x2c85e0(0x2f3),_0x2c85e0(0x299)][_0x2c85e0(0x2d7)](function(_0x1ce625){var _0x3aab3e=_0x2c85e0;_0x1d5720[_0x3aab3e(0x282)]('.'+_0x1ce625)[_0x3aab3e(0x28f)](_0x3aab3e(0x24b),function(){var _0xcfa7f3=_0x3aab3e,_0x23f994=_0x5e3a11?+_0x5e3a11['id'][_0xcfa7f3(0x245)]('_')[0x1]:null;if(_0x5e3a11)updateVariantUnits(_0x23f994);else updateUnitsArray();});}),_0x1d5720['querySelector'](_0x2c85e0(0x21b))[_0x2c85e0(0x28f)](_0x2c85e0(0x2b8),function(){var _0x3b2b47=_0x2c85e0;_0x1d5720['remove']();var _0x4a1dbf=_0x5e3a11?+_0x5e3a11['id'][_0x3b2b47(0x245)]('_')[0x1]:null;if(_0x5e3a11)updateVariantUnits(_0x4a1dbf);else updateUnitsArray();});var _0x5e32b4=_0x5e3a11||document[_0x2c85e0(0x2cf)]('newItem_units_container');_0x5e32b4['appendChild'](_0x1d5720);}function containerIdx(_0x41e2ed){return+_0x41e2ed['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x2a27e8=_0x7126b7,_0x438884=[],_0x200805=Array['from'](document[_0x2a27e8(0x2c8)](_0x2a27e8(0x20e))),_0x3ece58=_0x200805[_0x2a27e8(0x26b)](_0xf61f06=>_0xf61f06['dataset']['default']===_0x2a27e8(0x23d)),_0x170a5c=_0x3ece58?+_0x3ece58[_0x2a27e8(0x282)](_0x2a27e8(0x29a))[_0x2a27e8(0x294)]:0x1;_0x200805[_0x2a27e8(0x2d7)](function(_0x12e8ff){var _0x182570=_0x2a27e8,_0x49f64c=+_0x12e8ff[_0x182570(0x282)](_0x182570(0x29a))['value']||0x0,_0x32573d=+_0x12e8ff[_0x182570(0x282)](_0x182570(0x232))[_0x182570(0x294)]||0x0,_0x493dbd=+_0x12e8ff[_0x182570(0x282)](_0x182570(0x21a))[_0x182570(0x294)]||0x0;_0x438884[_0x182570(0x279)]({'setAlias':_0x12e8ff['querySelector'](_0x182570(0x2ac))[_0x182570(0x294)][_0x182570(0x2e2)](),'setUnitCode':_0x12e8ff[_0x182570(0x282)](_0x182570(0x25a))[_0x182570(0x294)],'setEquivalence':_0x49f64c,'setFactor':_0x12e8ff[_0x182570(0x2ef)]['default']===_0x182570(0x23d)?0x1:_0x49f64c==_0x170a5c?0x1:_0x49f64c<_0x170a5c?_0x170a5c/_0x49f64c:_0x49f64c/_0x170a5c,'setPrice':_0x32573d,'setCost':_0x493dbd,'setDefault':_0x12e8ff['dataset']['default']===_0x182570(0x23d)?0x1:0x0});}),baseItem[_0x2a27e8(0x29d)]=_0x438884;}function _0x31cc(_0x3653a1,_0x4c5eed){var _0x255c8f=_0x3f3b();return _0x31cc=function(_0x548f5a,_0x25eeae){_0x548f5a=_0x548f5a-0x1e6;var _0x3dfcd1=_0x255c8f[_0x548f5a];return _0x3dfcd1;},_0x31cc(_0x3653a1,_0x4c5eed);}function updateBranches(){var _0xac9df8=_0x7126b7,_0x6df630=[];document['querySelectorAll'](_0xac9df8(0x2de))[_0xac9df8(0x2d7)](function(_0x3afba6){var _0x20cac2=_0xac9df8,_0x1feeb6=_0x3afba6[_0x20cac2(0x282)](_0x20cac2(0x28b));if(_0x1feeb6['checked']){var _0x5ada39=+_0x1feeb6[_0x20cac2(0x2ef)]['id'],_0x28ca52=+_0x3afba6['querySelector']('.branchInit')[_0x20cac2(0x294)],_0x2194ad=+_0x3afba6['querySelector'](_0x20cac2(0x25c))[_0x20cac2(0x294)];_0x6df630[_0x20cac2(0x279)]({'setWarehouseCode':_0x5ada39,'setStockInitial':_0x28ca52,'setStockMinimum':_0x2194ad});}}),baseItem['setItemWarehouses']=_0x6df630;}document[_0x7126b7(0x2cf)](_0x7126b7(0x212))[_0x7126b7(0x28f)](_0x7126b7(0x2b8),function(){var _0x4e1179=_0x7126b7,_0x56f438=Date[_0x4e1179(0x21d)](),_0x246786=document[_0x4e1179(0x1ec)](_0x4e1179(0x249));_0x246786['dataset']['idx']=_0x56f438,_0x246786[_0x4e1179(0x2df)]=_0x4e1179(0x210)+_0x56f438+_0x4e1179(0x21f)+_0x56f438+_0x4e1179(0x263),prodC[_0x4e1179(0x215)](_0x246786),initProdSearch(_0x246786[_0x4e1179(0x282)](_0x4e1179(0x2f1))),_0x246786[_0x4e1179(0x282)](_0x4e1179(0x2ae))[_0x4e1179(0x28f)]('click',function(){var _0xb1d902=_0x4e1179;_0x246786[_0xb1d902(0x2d8)](),updateProdItems();}),_0x246786[_0x4e1179(0x282)]('.prodQty')['addEventListener'](_0x4e1179(0x24b),updateProdItems),document[_0x4e1179(0x2cf)](_0x4e1179(0x229))[_0x4e1179(0x251)][_0x4e1179(0x2fc)](_0x4e1179(0x25f),!![]),document[_0x4e1179(0x2cf)]('newItem_title_table_cp')[_0x4e1179(0x251)]['toggle'](_0x4e1179(0x220),![]);});function initProdSearch(_0x20ff77,_0x5b7642){var _0xfee4db=_0x7126b7,_0x1ec31a=_0x20ff77['querySelector'](_0xfee4db(0x1fa)),_0x43a133=_0x20ff77[_0xfee4db(0x282)]('.options_list'),_0x12f531=_0x5b7642||null;if(_0x5b7642)_0x1ec31a['value']=_0x5b7642[_0xfee4db(0x244)];_0x1ec31a[_0xfee4db(0x28f)]('input',function(){var _0x1c48dd=_0xfee4db,_0x399dbb=_0x1ec31a['value']['toLowerCase']()['trim']();_0x43a133[_0x1c48dd(0x2df)]='';if(!_0x399dbb)return;products[_0x1c48dd(0x280)](_0x4c0bf2=>_0x4c0bf2[_0x1c48dd(0x2b9)][_0x1c48dd(0x2f2)]()[_0x1c48dd(0x298)](_0x399dbb))[_0x1c48dd(0x221)](0x0,0x14)['forEach'](function(_0x4218b2){var _0x4d9ffa=_0x1c48dd,_0x5b5c0d=document[_0x4d9ffa(0x1ec)]('div');_0x5b5c0d[_0x4d9ffa(0x1f4)]=_0x4218b2[_0x4d9ffa(0x2b9)],_0x5b5c0d[_0x4d9ffa(0x2ef)]['id']=_0x4218b2['id'],_0x5b5c0d[_0x4d9ffa(0x2ef)][_0x4d9ffa(0x244)]=_0x4218b2[_0x4d9ffa(0x2b9)],_0x43a133[_0x4d9ffa(0x215)](_0x5b5c0d),_0x5b5c0d[_0x4d9ffa(0x28f)](_0x4d9ffa(0x2b8),function(){var _0x29abae=_0x4d9ffa;_0x12f531={'id':_0x4218b2['id'],'name':_0x4218b2['setDescripcion']},_0x1ec31a[_0x29abae(0x294)]=_0x4218b2['setDescripcion'],_0x43a133[_0x29abae(0x2df)]='';var _0x564d47=_0x20ff77[_0x29abae(0x2b1)](_0x29abae(0x1f9));if(_0x564d47){var _0x68337f=+_0x564d47['id'][_0x29abae(0x245)]('_')[0x1];updateVariantComponents(_0x68337f);}else updateProdItems();});});}),_0x1ec31a[_0xfee4db(0x28f)](_0xfee4db(0x2e9),function(){var _0x56a339=_0xfee4db;_0x43a133[_0x56a339(0x251)][_0x56a339(0x2d8)]('newItem_hidden');}),document['addEventListener'](_0xfee4db(0x2b8),function(_0xec9c){var _0x43b8d2=_0xfee4db;if(!_0x20ff77[_0x43b8d2(0x259)](_0xec9c[_0x43b8d2(0x2a5)]))_0x43a133[_0x43b8d2(0x251)][_0x43b8d2(0x225)](_0x43b8d2(0x220));}),Object[_0xfee4db(0x1eb)](_0x20ff77,_0xfee4db(0x1fb),{'get':()=>_0x12f531});}function updateProdItems(){var _0x3ac186=_0x7126b7,_0x1f58ad=[];Array['from'](prodC[_0x3ac186(0x2f9)])[_0x3ac186(0x2d7)](function(_0x4f0eb6){var _0x38cfd6=_0x3ac186,_0x5d11a7=_0x4f0eb6[_0x38cfd6(0x282)](_0x38cfd6(0x2f1));if(!_0x5d11a7)return;var _0x3b162e=_0x4f0eb6['querySelector'](_0x38cfd6(0x2a1)),_0x2c5610=_0x5d11a7['selectedItem'];_0x2c5610&&_0x1f58ad[_0x38cfd6(0x279)]({'setItemId':_0x2c5610['id'],'setDescripcion':_0x2c5610['name'],'setCantidad':+_0x3b162e['value']});}),baseItem[_0x3ac186(0x227)]=_0x1f58ad,_0x1f58ad[_0x3ac186(0x2a4)]===0x0&&(document['getElementById'](_0x3ac186(0x229))[_0x3ac186(0x251)][_0x3ac186(0x2fc)](_0x3ac186(0x25f),![]),document['getElementById'](_0x3ac186(0x229))[_0x3ac186(0x251)][_0x3ac186(0x2fc)]('newItem_hidden',!![]));}document[_0x7126b7(0x2cf)](_0x7126b7(0x2a9))[_0x7126b7(0x28f)](_0x7126b7(0x2b8),function(){var _0x580bb6=_0x7126b7,_0x5442cc=vgCount++,_0x1e536f=document[_0x580bb6(0x1ec)]('div');_0x1e536f[_0x580bb6(0x2ef)][_0x580bb6(0x261)]=_0x5442cc,_0x1e536f[_0x580bb6(0x2df)]=_0x580bb6(0x2c3)+_0x5442cc+'\x22>'+_0x580bb6(0x283)+_0x5442cc+'\x22>'+_0x580bb6(0x26e),vgC[_0x580bb6(0x215)](_0x1e536f),_0x1e536f[_0x580bb6(0x282)]('.vgName')['addEventListener'](_0x580bb6(0x201),generateVariants),_0x1e536f['querySelector']('.vgVals')[_0x580bb6(0x28f)](_0x580bb6(0x201),generateVariants),_0x1e536f[_0x580bb6(0x282)]('.removeGroup')['addEventListener']('click',function(){var _0x209b96=_0x580bb6;_0x1e536f[_0x209b96(0x2d8)](),generateVariants();});});function generateVariants(){var _0x3be542=_0x7126b7,_0x5ae091=[];vgC[_0x3be542(0x2c8)](_0x3be542(0x249))[_0x3be542(0x2d7)](function(_0x358dd4){var _0x36d9b2=_0x3be542,_0x1b8be6=_0x358dd4['querySelector'](_0x36d9b2(0x1f1))['value'][_0x36d9b2(0x2e2)](),_0x37fe4b=_0x358dd4[_0x36d9b2(0x282)](_0x36d9b2(0x219))['value'][_0x36d9b2(0x245)](',')[_0x36d9b2(0x2b4)](_0x5242c2=>_0x5242c2[_0x36d9b2(0x2e2)]())[_0x36d9b2(0x280)](_0x2ad668=>_0x2ad668);if(_0x1b8be6&&_0x37fe4b['length'])_0x5ae091[_0x36d9b2(0x279)]({'name':_0x1b8be6,'vals':_0x37fe4b});});var _0x24f20f=[{}];_0x5ae091['forEach'](function(_0x49c30e){var _0xd6e785=_0x3be542;_0x24f20f=_0x24f20f[_0xd6e785(0x297)](function(_0x1ffb2b){var _0x580c3e=_0xd6e785;return _0x49c30e[_0x580c3e(0x2e6)][_0x580c3e(0x2b4)](function(_0x53530){var _0x5db038=_0x580c3e,_0x196c20=Object[_0x5db038(0x2c9)]({},_0x1ffb2b);return _0x196c20[_0x49c30e[_0x5db038(0x244)]]=_0x53530,_0x196c20;});});}),newItems=[],varContainer[_0x3be542(0x2df)]='',_0x24f20f[_0x3be542(0x2d7)](function(_0x23f5bf,_0xa6f198){var _0x275cf3=_0x3be542,_0x2e1602=JSON['parse'](JSON[_0x275cf3(0x228)](baseItem));_0x2e1602[_0x275cf3(0x246)]=_0x23f5bf,_0x2e1602[_0x275cf3(0x214)]=baseItem[_0x275cf3(0x200)]+'\x20'+Object[_0x275cf3(0x22d)](_0x23f5bf)['map'](_0x16649c=>_0x16649c[0x0]+'\x20'+_0x16649c[0x1])['join']('\x20'),newItems['push'](_0x2e1602);var _0x623820=document[_0x275cf3(0x1ec)](_0x275cf3(0x249));_0x623820[_0x275cf3(0x251)][_0x275cf3(0x225)](_0x275cf3(0x22e)),_0x623820['dataset'][_0x275cf3(0x261)]=_0xa6f198,_0x623820[_0x275cf3(0x2df)]=_0x275cf3(0x2a7)+_0x2e1602['setItemVariantName']+_0x275cf3(0x247)+_0x2e1602['setItemCode']+_0x275cf3(0x27b)+_0x2e1602['setItemBarCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x2e1602['setItemDateExpiry']+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0xa6f198+_0x275cf3(0x1ff)+_0xa6f198+_0x275cf3(0x1f5)+_0xa6f198+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x623820),_0x623820[_0x275cf3(0x282)](_0x275cf3(0x289))[_0x275cf3(0x28f)](_0x275cf3(0x24b),_0x14e571=>newItems[_0xa6f198][_0x275cf3(0x2f5)]=_0x14e571[_0x275cf3(0x2a5)][_0x275cf3(0x294)]),_0x623820[_0x275cf3(0x282)](_0x275cf3(0x2ec))[_0x275cf3(0x28f)](_0x275cf3(0x24b),_0x99db03=>newItems[_0xa6f198][_0x275cf3(0x2c0)]=_0x99db03[_0x275cf3(0x2a5)][_0x275cf3(0x294)]),_0x623820[_0x275cf3(0x282)](_0x275cf3(0x257))[_0x275cf3(0x28f)](_0x275cf3(0x2da),_0x11d36f=>newItems[_0xa6f198][_0x275cf3(0x272)]=_0x11d36f[_0x275cf3(0x2a5)][_0x275cf3(0x294)]),initVariantUnits(_0xa6f198),initVariantComponents(_0xa6f198),initVariantBranches(_0xa6f198),_0x623820[_0x275cf3(0x282)]('.removeVariant')[_0x275cf3(0x28f)](_0x275cf3(0x2b8),function(){var _0x298381=_0x275cf3,_0x4efb86=+_0x623820[_0x298381(0x2ef)][_0x298381(0x261)];newItems[_0x298381(0x240)](_0x4efb86,0x1),_0x623820['remove'](),document[_0x298381(0x2c8)]('.variantForm')['forEach'](function(_0x435a33,_0x366e83){var _0x14bd91=_0x298381;_0x435a33[_0x14bd91(0x2ef)][_0x14bd91(0x261)]=_0x366e83;});});});if(newItems[_0x3be542(0x2a4)]===0x0)newItems=[baseItem];}function clearAllVariants(){var _0x162c10=_0x7126b7;vgC['innerHTML']='',varContainer[_0x162c10(0x2df)]='',vgCount=0x0,newItems=[baseItem];}function updateVariantUnits(_0x27db14){var _0x7a1e9d=_0x7126b7,_0x33d3f3=document[_0x7a1e9d(0x2cf)](_0x7a1e9d(0x2d1)+_0x27db14+_0x7a1e9d(0x264)),_0x1ed703=[];Array[_0x7a1e9d(0x1fe)](_0x33d3f3[_0x7a1e9d(0x2f9)])[_0x7a1e9d(0x2d7)](function(_0x1f6aa3){var _0x34c180=_0x7a1e9d,_0x213a26=+_0x1f6aa3['querySelector'](_0x34c180(0x29a))[_0x34c180(0x294)]||0x0,_0x3532e3=_0x1f6aa3[_0x34c180(0x282)](_0x34c180(0x2ac))[_0x34c180(0x294)]['trim'](),_0x258dd8=_0x1f6aa3[_0x34c180(0x282)](_0x34c180(0x25a))[_0x34c180(0x294)],_0x15f4c0=+_0x1f6aa3['querySelector'](_0x34c180(0x232))[_0x34c180(0x294)]||0x0,_0x36514a=+_0x1f6aa3['querySelector'](_0x34c180(0x21a))[_0x34c180(0x294)]||0x0,_0x16d9a7=_0x1f6aa3[_0x34c180(0x2ef)][_0x34c180(0x2f4)]===_0x34c180(0x23d),_0x3bc42a=+_0x33d3f3[_0x34c180(0x282)](_0x34c180(0x2ba))[_0x34c180(0x294)]||0x1,_0x92e943=_0x16d9a7?0x1:_0x213a26==_0x3bc42a?0x1:_0x213a26<_0x3bc42a?_0x3bc42a/_0x213a26:_0x213a26/_0x3bc42a;_0x1ed703[_0x34c180(0x279)]({'setAlias':_0x3532e3,'setUnitCode':_0x258dd8,'setEquivalence':_0x213a26,'setFactor':_0x92e943,'setPrice':_0x15f4c0,'setCost':_0x36514a,'setDefault':_0x16d9a7?0x1:0x0});}),newItems[_0x27db14][_0x7a1e9d(0x29d)]=_0x1ed703;}function initVariantUnits(_0x3505d6){var _0x137368=_0x7126b7,_0x43922b=document['getElementById']('variant_'+_0x3505d6+'_units_container');_0x43922b[_0x137368(0x2df)]='',newItems[_0x3505d6][_0x137368(0x29d)][_0x137368(0x2d7)](function(_0x5ea55b){var _0x2e631c=_0x137368;addUnit(_0x5ea55b[_0x2e631c(0x248)],_0x5ea55b['setUnitCode'],_0x5ea55b[_0x2e631c(0x2e8)],_0x5ea55b[_0x2e631c(0x2a3)],_0x5ea55b[_0x2e631c(0x2db)],_0x5ea55b[_0x2e631c(0x209)],_0x43922b);}),_0x43922b[_0x137368(0x2f8)][_0x137368(0x282)](_0x137368(0x24e))[_0x137368(0x28f)](_0x137368(0x2b8),function(){addUnit('','',0x1,![],'','',_0x43922b),updateVariantUnits(_0x3505d6);});}function updateVariantUnits(_0x37d9fe){var _0x492fea=_0x7126b7,_0x4f4a5c=document[_0x492fea(0x2cf)](_0x492fea(0x2d1)+_0x37d9fe+_0x492fea(0x264)),_0x44b7da=_0x4f4a5c[_0x492fea(0x282)](_0x492fea(0x2ba)),_0x2ddb1d=_0x44b7da?+_0x44b7da[_0x492fea(0x294)]:0x1,_0x290ad2=Array['from'](_0x4f4a5c[_0x492fea(0x2f9)])[_0x492fea(0x2b4)](function(_0x21ec3a){var _0x1e7c0c=_0x492fea,_0x494e98=_0x21ec3a['querySelector'](_0x1e7c0c(0x2ac))[_0x1e7c0c(0x294)]['trim'](),_0x30093d=_0x21ec3a[_0x1e7c0c(0x282)](_0x1e7c0c(0x25a))[_0x1e7c0c(0x294)],_0x120705=+_0x21ec3a[_0x1e7c0c(0x282)](_0x1e7c0c(0x29a))['value']||0x0,_0x277724=+_0x21ec3a[_0x1e7c0c(0x282)](_0x1e7c0c(0x232))[_0x1e7c0c(0x294)]||0x0,_0xbdf7e6=+_0x21ec3a[_0x1e7c0c(0x282)](_0x1e7c0c(0x21a))[_0x1e7c0c(0x294)]||0x0,_0x1f644a=_0x21ec3a[_0x1e7c0c(0x2ef)][_0x1e7c0c(0x2f4)]===_0x1e7c0c(0x23d);return{'setAlias':_0x494e98,'setUnitCode':_0x30093d,'setEquivalence':_0x120705,'setFactor':_0x1f644a?0x1:_0x120705==_0x2ddb1d?0x1:_0x120705<_0x2ddb1d?_0x2ddb1d/_0x120705:_0x120705/_0x2ddb1d,'setPrice':_0x277724,'setCost':_0xbdf7e6,'setDefault':_0x1f644a?0x1:0x0};});newItems[_0x37d9fe][_0x492fea(0x29d)]=_0x290ad2;}function initVariantComponents(_0x1b6b6b){var _0x446d5c=_0x7126b7,_0x318e4b=document[_0x446d5c(0x2cf)](_0x446d5c(0x2d1)+_0x1b6b6b+_0x446d5c(0x29e));_0x318e4b[_0x446d5c(0x2df)]='',newItems[_0x1b6b6b][_0x446d5c(0x227)][_0x446d5c(0x2d7)](function(_0x18b22f){var _0x473e68=_0x446d5c,_0x1802eb=document[_0x473e68(0x1ec)](_0x473e68(0x249)),_0x5a4cf2=Date['now']();_0x1802eb[_0x473e68(0x2ef)][_0x473e68(0x261)]=_0x5a4cf2,_0x1802eb[_0x473e68(0x2df)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x5a4cf2+_0x473e68(0x1f3)+_0x18b22f['setCantidad']+_0x473e68(0x242),_0x318e4b['appendChild'](_0x1802eb),initProdSearch(_0x1802eb[_0x473e68(0x282)](_0x473e68(0x2f1)),{'id':_0x18b22f[_0x473e68(0x236)],'name':_0x18b22f[_0x473e68(0x2b9)]}),_0x1802eb[_0x473e68(0x282)](_0x473e68(0x2a1))[_0x473e68(0x28f)]('input',function(){updateVariantComponents(_0x1b6b6b);}),_0x1802eb[_0x473e68(0x282)](_0x473e68(0x203))['addEventListener'](_0x473e68(0x2b8),function(){_0x1802eb['remove'](),updateVariantComponents(_0x1b6b6b);});}),_0x318e4b['parentNode']['querySelector']('.addVariantComp')[_0x446d5c(0x28f)](_0x446d5c(0x2b8),function(){var _0xb4f615=_0x446d5c,_0x33dc6d=document[_0xb4f615(0x1ec)](_0xb4f615(0x249)),_0x406fa5=Date['now']();_0x33dc6d[_0xb4f615(0x2ef)]['idx']=_0x406fa5,_0x33dc6d[_0xb4f615(0x2df)]=_0xb4f615(0x28a)+_0x406fa5+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x318e4b['appendChild'](_0x33dc6d),initProdSearch(_0x33dc6d['querySelector']('.prod_input_container')),_0x33dc6d[_0xb4f615(0x282)]('.prodQty')['addEventListener'](_0xb4f615(0x24b),function(){updateVariantComponents(_0x1b6b6b);}),_0x33dc6d[_0xb4f615(0x282)](_0xb4f615(0x203))[_0xb4f615(0x28f)](_0xb4f615(0x2b8),function(){var _0x23b302=_0xb4f615;_0x33dc6d[_0x23b302(0x2d8)](),updateVariantComponents(_0x1b6b6b);});});}function updateVariantComponents(_0x46add5){var _0x3c4b96=_0x7126b7,_0x26b83f=document[_0x3c4b96(0x2cf)]('variant_'+_0x46add5+_0x3c4b96(0x29e)),_0x412c79=Array[_0x3c4b96(0x1fe)](_0x26b83f[_0x3c4b96(0x2f9)])[_0x3c4b96(0x2b4)](function(_0x4ed448){var _0x2fd6e7=_0x3c4b96,_0x34ace6=_0x4ed448[_0x2fd6e7(0x282)](_0x2fd6e7(0x2f1)),_0x6c43bc=_0x34ace6[_0x2fd6e7(0x1fb)],_0x4dd75b=+_0x4ed448[_0x2fd6e7(0x282)](_0x2fd6e7(0x2a1))[_0x2fd6e7(0x294)]||0x0;return _0x6c43bc?{'setItemId':_0x6c43bc['id'],'setDescripcion':_0x6c43bc[_0x2fd6e7(0x244)],'setCantidad':_0x4dd75b}:null;})[_0x3c4b96(0x280)](_0x5df38c=>_0x5df38c);newItems[_0x46add5][_0x3c4b96(0x227)]=_0x412c79;}function initVariantBranches(_0x65039a){var _0xab1cad=_0x7126b7;const _0x48fa94=getAllWarehouses();var _0x3c09e7=document[_0xab1cad(0x2cf)](_0xab1cad(0x2d1)+_0x65039a+_0xab1cad(0x20b));_0x3c09e7['innerHTML']='',newItems[_0x65039a][_0xab1cad(0x2b0)][_0xab1cad(0x2d7)](function(_0x336ff9){var _0x71ef06=_0xab1cad,_0x54aa5b=_0x48fa94['find'](_0x224d5b=>_0x224d5b[_0x71ef06(0x284)]==_0x336ff9[_0x71ef06(0x2f0)]),_0x19caeb=document[_0x71ef06(0x1ec)](_0x71ef06(0x249));_0x19caeb[_0x71ef06(0x2df)]=_0x71ef06(0x29c)+_0x336ff9[_0x71ef06(0x2f0)]+_0x71ef06(0x262)+_0x54aa5b[_0x71ef06(0x23c)]+_0x71ef06(0x216)+_0x336ff9['setWarehouseCode']+'\x22\x20value=\x22'+_0x336ff9[_0x71ef06(0x271)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x336ff9[_0x71ef06(0x2f0)]+_0x71ef06(0x1f6)+_0x336ff9[_0x71ef06(0x287)]+'\x22>',_0x3c09e7[_0x71ef06(0x215)](_0x19caeb),_0x19caeb['querySelectorAll'](_0x71ef06(0x24b))[_0x71ef06(0x2d7)](function(_0x1f8fb0){_0x1f8fb0['addEventListener']('input',function(){updateVariantBranches(_0x65039a);});});}),_0x48fa94['forEach'](function(_0x6fc307){var _0x3c9d1b=_0xab1cad;if(!newItems[_0x65039a][_0x3c9d1b(0x2b0)]['find'](_0x333060=>_0x333060['setWarehouseCode']===_0x6fc307[_0x3c9d1b(0x284)])){var _0x405749=document['createElement'](_0x3c9d1b(0x249));_0x405749[_0x3c9d1b(0x2df)]=_0x3c9d1b(0x29c)+_0x6fc307[_0x3c9d1b(0x284)]+_0x3c9d1b(0x2ad)+_0x6fc307['setWarehouseName']+_0x3c9d1b(0x216)+_0x6fc307[_0x3c9d1b(0x284)]+_0x3c9d1b(0x217)+_0x6fc307['setWarehouseId']+'\x22>',_0x3c09e7[_0x3c9d1b(0x215)](_0x405749),_0x405749['querySelectorAll']('input')[_0x3c9d1b(0x2d7)](function(_0x124045){var _0x452e96=_0x3c9d1b;_0x124045[_0x452e96(0x28f)]('input',function(){updateVariantBranches(_0x65039a);});});}});}function updateVariantBranches(_0x3a0744){var _0x12d0b1=_0x7126b7,_0xf9bb0f=document[_0x12d0b1(0x2cf)](_0x12d0b1(0x2d1)+_0x3a0744+'_branch_container'),_0xa75377=[];_0xf9bb0f[_0x12d0b1(0x2c8)]('div')[_0x12d0b1(0x2d7)](function(_0x5197a5){var _0x19f0df=_0x12d0b1,_0x5398eb=_0x5197a5[_0x19f0df(0x282)]('.branchChk');if(_0x5398eb[_0x19f0df(0x2ea)]){var _0x5dae98=+_0x5398eb[_0x19f0df(0x2ef)]['id'],_0x211768=+_0x5197a5[_0x19f0df(0x282)]('.branchInit')['value']||0x0,_0x345bee=+_0x5197a5['querySelector'](_0x19f0df(0x25c))[_0x19f0df(0x294)]||0x0;_0xa75377[_0x19f0df(0x279)]({'setWarehouseCode':_0x5dae98,'setStockInitial':_0x211768,'setStockMinimum':_0x345bee});}}),newItems[_0x3a0744][_0x12d0b1(0x2b0)]=_0xa75377;}async function storeOfflineProduct(_0xc29a95){var _0x484515=_0x7126b7;try{const _0x506f05=await createCartStore(''),_0x5a93ef=_0x506f05['transaction'](_0x484515(0x278),_0x484515(0x2c5)),_0x19abec=_0x5a93ef['objectStore'](_0x484515(0x278));_0x19abec['add'](_0xc29a95),_0x5a93ef[_0x484515(0x21e)]=()=>{var _0x25e4ea=_0x484515;console[_0x25e4ea(0x2e5)](_0x25e4ea(0x256));},_0x5a93ef[_0x484515(0x20f)]=_0x1ef2f8=>{var _0x1d9e98=_0x484515;console[_0x1d9e98(0x290)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x1ef2f8[_0x1d9e98(0x2a5)][_0x1d9e98(0x290)]);};}catch(_0x505fdf){console[_0x484515(0x290)](_0x484515(0x207),_0x505fdf);}}document[_0x7126b7(0x2cf)]('btnItemSave')[_0x7126b7(0x28f)](_0x7126b7(0x2b8),async function(_0x376a4d){var _0x1c7ba0=_0x7126b7;_0x376a4d[_0x1c7ba0(0x22a)]();const _0x8ef31a=document['getElementById']('inputItemCode'),_0x3bbd9f=document[_0x1c7ba0(0x2cf)](_0x1c7ba0(0x267))[_0x1c7ba0(0x294)];if(!_0x8ef31a[_0x1c7ba0(0x294)][_0x1c7ba0(0x2e2)]()&&_0x3bbd9f==0x0){ntfShow(_0x1c7ba0(0x1fd),0x2,0x1);return;}const _0x196cf3=document[_0x1c7ba0(0x2cf)](_0x1c7ba0(0x2fe));if(!_0x196cf3[_0x1c7ba0(0x294)][_0x1c7ba0(0x2e2)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}hideModalCreateItem(),showLoadingModal();newItems[_0x1c7ba0(0x2a4)]===0x0&&(newItems=[baseItem]);const _0x10ae7c=document[_0x1c7ba0(0x2cf)](_0x1c7ba0(0x243))[_0x1c7ba0(0x294)],_0x44c96a=window_options[_0x10ae7c][_0x1c7ba0(0x2ed)];let _0xfacbd0=generateNumericUniqId()*0x64+0x1f4,_0x664277=generateNumericUniqId()*0xa;const _0x22fc99=[];newItems['forEach'](_0x15ca75=>{var _0x396726=_0x1c7ba0;const _0x8401c4=++_0x664277;_0x15ca75[_0x396726(0x29d)]['forEach'](_0x314c9a=>{var _0xd6871c=_0x396726;const _0x35097b=++_0xfacbd0;_0x314c9a[_0xd6871c(0x24c)]=_0x35097b;const _0x211519={'id':_0x35097b,'setIdProducto':_0x8401c4,'setCodProducto':_0x15ca75['setItemCode'],'setDescripcion':_0x15ca75['setItemVariantName']!=''?_0x15ca75[_0xd6871c(0x214)]:_0x15ca75[_0xd6871c(0x200)],'setItemDescription':_0x15ca75[_0xd6871c(0x2a8)],'setBatchExpirationDate':_0x15ca75[_0xd6871c(0x272)],'setBatchName':'','setCategoria':_0x15ca75[_0xd6871c(0x2c7)][0x0]||'','setMarca':_0x15ca75[_0xd6871c(0x29f)][0x0]||'','setConversionFactor':parseFloat(_0x314c9a[_0xd6871c(0x224)]),'setImages':[],'setImg':'','setInventariable':0x1,'setItemIsBought':_0x15ca75[_0xd6871c(0x286)]?0x1:0x0,'setItemIsSold':_0x15ca75[_0xd6871c(0x27f)]?0x1:0x0,'setPorcentajeIgv':_0x15ca75['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x15ca75[_0xd6871c(0x208)],'setTipAfeIgv':_0x15ca75[_0xd6871c(0x1ef)],'setUnidad':_0x314c9a[_0xd6871c(0x2e1)],'setUnidadCodigo':_0x314c9a['setUnitCode'],'currency_data':[{'currency':_0x44c96a,'setMtoPrecioCostoUnitario':_0x314c9a['setCost'],'setMtoPrecioUnitario':_0x314c9a[_0xd6871c(0x2db)],'setPriceLists':[]}],'sucursales':_0x15ca75[_0xd6871c(0x2b0)]['map'](_0x2bef1e=>({'setIdSucursal':_0x2bef1e[_0xd6871c(0x2f0)],'setSucursalStock':_0x2bef1e['setStockInitial'][_0xd6871c(0x2aa)](),'setWarehouseStockMin':_0x2bef1e[_0xd6871c(0x287)]['toString']()})),'setItemFree':_0x15ca75[_0xd6871c(0x267)],'setItemBarCode':_0x15ca75[_0xd6871c(0x2c0)],'setItemBrands':_0x15ca75['setItemBrands']['slice'](),'setItemCategories':_0x15ca75['setItemCategories'][_0xd6871c(0x221)](),'setItemComponents':_0x15ca75[_0xd6871c(0x227)]['map'](_0x33a910=>({..._0x33a910})),'setItemImages':_0x15ca75[_0xd6871c(0x223)][_0xd6871c(0x221)](),'setItemVariantName':_0x15ca75['setItemVariantName'],'setItemVariantValues':{..._0x15ca75[_0xd6871c(0x246)]}};_0x22fc99[_0xd6871c(0x279)](_0x211519),addToCart(_0x211519);});}),console[_0x1c7ba0(0x2e5)](_0x1c7ba0(0x28c),newItems),await finalizeImport(_0x22fc99,newItems,![]);}),[_0x7126b7(0x292),_0x7126b7(0x205)][_0x7126b7(0x2d7)](_0x233601=>dropZone[_0x7126b7(0x28f)](_0x233601,_0x1a0889=>{var _0x3ec7fc=_0x7126b7;_0x1a0889[_0x3ec7fc(0x22a)](),dropZone[_0x3ec7fc(0x251)]['add'](_0x3ec7fc(0x205));})),[_0x7126b7(0x213),_0x7126b7(0x253)][_0x7126b7(0x2d7)](_0x5e2d65=>dropZone[_0x7126b7(0x28f)](_0x5e2d65,_0x4c7e08=>{var _0x3305b7=_0x7126b7;_0x4c7e08['preventDefault'](),dropZone[_0x3305b7(0x251)][_0x3305b7(0x2d8)](_0x3305b7(0x205));})),dropZone['addEventListener'](_0x7126b7(0x253),_0x45a6a6=>{var _0x17a562=_0x7126b7;const _0x47e466=_0x45a6a6[_0x17a562(0x270)][_0x17a562(0x235)][0x0];if(!_0x47e466)return;fileInput[_0x17a562(0x235)]=_0x45a6a6[_0x17a562(0x270)][_0x17a562(0x235)],dropZone[_0x17a562(0x282)]('.drop-zone__prompt')[_0x17a562(0x1f4)]=_0x47e466[_0x17a562(0x244)],removeBtn['hidden']=![],fileInput[_0x17a562(0x25d)](new Event(_0x17a562(0x2da)));}),removeBtn[_0x7126b7(0x28f)]('click',()=>{var _0x429a2b=_0x7126b7;fileInput['value']='',dropZone['querySelector'](_0x429a2b(0x26c))[_0x429a2b(0x1f4)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x429a2b(0x295)]=!![],progressBar[_0x429a2b(0x1f2)]['display']='none',statusDiv[_0x429a2b(0x1f4)]='',uploadBtn[_0x429a2b(0x24a)]=!![];}),itemWorker[_0x7126b7(0x1f7)]=({data:_0x1dd51d})=>{var _0x20020a=_0x7126b7;const {type:_0x5f0167,payload:_0x2ceda7}=_0x1dd51d;_0x5f0167===_0x20020a(0x27d)&&(progressBar[_0x20020a(0x1f2)][_0x20020a(0x2ca)]=_0x20020a(0x291),progressBar['value']=_0x2ceda7[_0x20020a(0x2a0)],statusDiv[_0x20020a(0x1f4)]=_0x2ceda7[_0x20020a(0x2d9)]),_0x5f0167===_0x20020a(0x23f)&&(newItemsExcel=_0x2ceda7[_0x20020a(0x288)],statusDiv[_0x20020a(0x1f4)]='✅\x20'+newItemsExcel[_0x20020a(0x2a4)]+_0x20020a(0x265),uploadBtn[_0x20020a(0x24a)]=![],progressBar[_0x20020a(0x294)]=0x64,console[_0x20020a(0x2e5)](newItemsExcel)),_0x5f0167===_0x20020a(0x290)&&(statusDiv['textContent']=_0x20020a(0x206)+_0x2ceda7,progressBar[_0x20020a(0x1f2)]['display']='none');},fileInput[_0x7126b7(0x28f)](_0x7126b7(0x2da),async _0x312d23=>{var _0x9f783c=_0x7126b7;const _0x56e177=_0x312d23[_0x9f783c(0x2a5)][_0x9f783c(0x235)][0x0];if(!_0x56e177)return;uploadBtn[_0x9f783c(0x24a)]=!![],newItemsExcel=null,statusDiv[_0x9f783c(0x1f4)]='',progressBar[_0x9f783c(0x1f2)]['display']=_0x9f783c(0x2d6),dropZone[_0x9f783c(0x282)](_0x9f783c(0x26c))[_0x9f783c(0x1f4)]=_0x56e177[_0x9f783c(0x244)],removeBtn['hidden']=![];try{const _0x219d50=await _0x56e177[_0x9f783c(0x2b3)]();itemWorker[_0x9f783c(0x296)]({'buf':_0x219d50,'maxRows':0x1388});}catch(_0x50aa45){statusDiv[_0x9f783c(0x1f4)]=_0x9f783c(0x23a);}finally{fileInput[_0x9f783c(0x294)]='';}}),uploadBtn[_0x7126b7(0x28f)](_0x7126b7(0x2b8),async()=>{var _0x41e5d9=_0x7126b7;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x33f125=document[_0x41e5d9(0x2cf)](_0x41e5d9(0x243))[_0x41e5d9(0x294)],_0x3b3d96=window_options[_0x33f125][_0x41e5d9(0x2ed)],_0x48b4d7=document[_0x41e5d9(0x2cf)]('setWarehouseId')[_0x41e5d9(0x294)];let _0x4f112c=generateNumericUniqId()*0x64+0x1f4,_0x1e635c=generateNumericUniqId()*0xa;const _0x4992eb=[];newItemsExcel[_0x41e5d9(0x2d7)](_0x438143=>{var _0x24022e=_0x41e5d9;const _0x3e99ae=++_0x1e635c;_0x438143[_0x24022e(0x2b0)]=[{'setStockInitial':_0x438143['setStockInitial'],'setStockMinimum':_0x438143['setStockMinimum'],'setWarehouseCode':_0x48b4d7}],_0x438143[_0x24022e(0x29d)][_0x24022e(0x2d7)](_0x3097d1=>{var _0x1e6247=_0x24022e;const _0x4b667e=++_0x4f112c;_0x3097d1[_0x1e6247(0x24c)]=_0x4b667e;const _0x278e7a={'id':_0x4b667e,'setIdProducto':_0x3e99ae,'setCodProducto':_0x438143['setItemCode'],'setDescripcion':_0x438143[_0x1e6247(0x214)]||_0x438143[_0x1e6247(0x200)],'setItemDescription':_0x438143[_0x1e6247(0x2a8)],'setBatchExpirationDate':_0x438143['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x438143[_0x1e6247(0x2c7)][0x0]||'','setMarca':_0x438143[_0x1e6247(0x29f)][0x0]||'','setConversionFactor':parseFloat(_0x3097d1[_0x1e6247(0x224)]),'setImages':[],'setImg':'','setInventariable':_0x438143[_0x1e6247(0x2a6)]?0x1:0x0,'setItemIsBought':_0x438143['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x438143[_0x1e6247(0x27f)]?0x1:0x0,'setPorcentajeIgv':_0x438143[_0x1e6247(0x204)],'setPrinters':[],'setTaxId':_0x438143[_0x1e6247(0x208)],'setTipAfeIgv':_0x438143[_0x1e6247(0x1ef)],'setUnidad':_0x3097d1[_0x1e6247(0x2e1)],'setUnidadCodigo':_0x3097d1['setUnitCode'],'currency_data':[{'currency':_0x3b3d96,'setMtoPrecioCostoUnitario':_0x3097d1[_0x1e6247(0x209)],'setMtoPrecioUnitario':_0x3097d1[_0x1e6247(0x2db)],'setPriceLists':[]}],'sucursales':_0x438143[_0x1e6247(0x2b0)][_0x1e6247(0x2b4)](_0x561a40=>({'setIdSucursal':_0x561a40[_0x1e6247(0x2f0)],'setSucursalStock':_0x561a40['setStockInitial'][_0x1e6247(0x2aa)](),'setWarehouseStockMin':_0x561a40[_0x1e6247(0x287)][_0x1e6247(0x2aa)]()})),'setItemFree':_0x438143[_0x1e6247(0x267)],'setItemBarCode':_0x438143[_0x1e6247(0x2c0)],'setItemBrands':_0x438143[_0x1e6247(0x29f)][_0x1e6247(0x221)](),'setItemCategories':_0x438143[_0x1e6247(0x2c7)][_0x1e6247(0x221)](),'setItemComponents':_0x438143['setItemComponents']['map'](_0x3dab63=>({..._0x3dab63})),'setItemImages':_0x438143[_0x1e6247(0x223)][_0x1e6247(0x221)](),'setItemVariantName':_0x438143[_0x1e6247(0x214)],'setItemVariantValues':{..._0x438143[_0x1e6247(0x246)]}};_0x4992eb[_0x1e6247(0x279)](_0x278e7a);});}),console[_0x41e5d9(0x2e5)](_0x41e5d9(0x28c),newItems),await finalizeImport(_0x4992eb,newItemsExcel,!![]);});async function finalizeImport(_0x47edba,_0xd733ff,_0x155f0f=![]){var _0x56f81b=_0x7126b7;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x56f81b(0x202),'setToken':company[0x0][_0x56f81b(0x2bd)],'setWebhook':company[0x0][_0x56f81b(0x252)],'newItems':_0xd733ff}),products[_0x56f81b(0x279)](..._0x47edba),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x56f81b(0x1ed)),_0x155f0f?(fileInput[_0x56f81b(0x294)]='',uploadBtn[_0x56f81b(0x24a)]=!![],statusDiv[_0x56f81b(0x1f4)]='',progressBar['style'][_0x56f81b(0x2ca)]=_0x56f81b(0x2d6),progressBar['value']=0x0):(document[_0x56f81b(0x2cf)]('inputItemCode')[_0x56f81b(0x294)]='',document[_0x56f81b(0x2cf)]('inputItemName')[_0x56f81b(0x294)]='',document['getElementById'](_0x56f81b(0x2b7))[_0x56f81b(0x294)]='',document[_0x56f81b(0x2cf)]('inputItemBarCode')['value']='',clearAllVariants()),renderProducts(),processOfflineOperations();}