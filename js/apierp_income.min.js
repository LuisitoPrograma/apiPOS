/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.0
*/

const _0x161da6=_0x3a00;(function(_0x1ce8e4,_0x4c1aaa){const _0x29ba77=_0x3a00,_0x1832f4=_0x1ce8e4();while(!![]){try{const _0x5d03f4=-parseInt(_0x29ba77(0x18b))/0x1+-parseInt(_0x29ba77(0x15b))/0x2*(-parseInt(_0x29ba77(0x156))/0x3)+parseInt(_0x29ba77(0x1d6))/0x4+parseInt(_0x29ba77(0x16c))/0x5+-parseInt(_0x29ba77(0x1de))/0x6*(-parseInt(_0x29ba77(0x157))/0x7)+-parseInt(_0x29ba77(0x1b0))/0x8+-parseInt(_0x29ba77(0x198))/0x9;if(_0x5d03f4===_0x4c1aaa)break;else _0x1832f4['push'](_0x1832f4['shift']());}catch(_0x1700d3){_0x1832f4['push'](_0x1832f4['shift']());}}}(_0x59e1,0x9bcb0));const _0x59fcd0=(function(){let _0x3b7777=!![];return function(_0x9fe8b9,_0x1d8b0d){const _0x25987c=_0x3b7777?function(){const _0x5c98fb=_0x3a00;if(_0x1d8b0d){const _0x102cbb=_0x1d8b0d[_0x5c98fb(0x1be)](_0x9fe8b9,arguments);return _0x1d8b0d=null,_0x102cbb;}}:function(){};return _0x3b7777=![],_0x25987c;};}()),_0x5c327d=_0x59fcd0(this,function(){const _0x1f585a=_0x3a00;return _0x5c327d[_0x1f585a(0x1bf)]()['search'](_0x1f585a(0x1e1))['toString']()[_0x1f585a(0x19a)](_0x5c327d)[_0x1f585a(0x1e2)](_0x1f585a(0x1e1));});_0x5c327d();const _0x28646d=(function(){let _0x3cf560=!![];return function(_0x4b6e55,_0x23127c){const _0x5528da=_0x3cf560?function(){const _0x11941e=_0x3a00;if(_0x23127c){const _0x50f9a1=_0x23127c[_0x11941e(0x1be)](_0x4b6e55,arguments);return _0x23127c=null,_0x50f9a1;}}:function(){};return _0x3cf560=![],_0x5528da;};}()),_0x10983b=_0x28646d(this,function(){const _0x331d83=_0x3a00,_0x4d434a=function(){const _0x53c6fc=_0x3a00;let _0x3a5b35;try{_0x3a5b35=Function(_0x53c6fc(0x162)+_0x53c6fc(0x1af)+');')();}catch(_0x14bbd9){_0x3a5b35=window;}return _0x3a5b35;},_0x11c812=_0x4d434a(),_0x1be515=_0x11c812[_0x331d83(0x18f)]=_0x11c812[_0x331d83(0x18f)]||{},_0x105a2f=[_0x331d83(0x166),_0x331d83(0x150),_0x331d83(0x13e),_0x331d83(0x1b8),'exception','table',_0x331d83(0x152)];for(let _0x1a4b21=0x0;_0x1a4b21<_0x105a2f['length'];_0x1a4b21++){const _0x5e61e9=_0x28646d['constructor'][_0x331d83(0x1e5)]['bind'](_0x28646d),_0x31666b=_0x105a2f[_0x1a4b21],_0x4b874a=_0x1be515[_0x31666b]||_0x5e61e9;_0x5e61e9[_0x331d83(0x1b3)]=_0x28646d[_0x331d83(0x1dd)](_0x28646d),_0x5e61e9[_0x331d83(0x1bf)]=_0x4b874a['toString'][_0x331d83(0x1dd)](_0x4b874a),_0x1be515[_0x31666b]=_0x5e61e9;}});function _0x59e1(){const _0x3e2515=['createObjectURL','input','splice','trim','939423ltUQjA','download','setCodTipo','block','console','onload','setWindowShiftId','appendChild','setChecked','cartId','whatsapp','modalOverlayOptions','setTotalImpuestos','1627065EuhGmi','.xlsx','constructor','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','100%','smtp.miempresa.com','EnvironmentChangeComplete','setMtoValorUnitario','getMonth','setMtoPrecioUnitario','textContent','OperationsType:','CustomersId:','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','createElement','setAccountingAccountType','target','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','onerror','.fill_ms-suggestions','setItemDescription','filtrar','href','{}.constructor(\x22return\x20this\x22)(\x20)','4322752mxKmJL','setTotal','fill-apply-filter','__proto__','setAccountingAccountId','currentTarget','setMtoPrecioUnitario_final','setMtoValorCostoUnitario_input','error','revokeObjectURL','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','map','getMinutes','\x2000:00:00','apply','toString','setOperationDateTime','change','remove','push','1.5','filter-end','btnExport','WarehouseChangeComplete','padStart','catch','dispatchEvent','setBranchId','blur','setMtoValorGratuito','setPorcentajeIgv','slice','\x20al\x20','\x20-\x20','setInventariable','no-reply@miempresa.com','active','getDate','2725068MCpWwx','toISOString','value','add','setTipAfeIgv','getSeconds','isArray','bind','7842yEzloE','closeModalOptions','querySelector','(((.+)+)+)+$','search','YOUR_WA_CRED_ID','date-range-label-icon','prototype','toTimeString','addEventListener','find','detalleModalOptions','classList','data-value','includes','getElementById','BranchesId:','getFullYear','fill_remove-tag','toLowerCase','info','setDescripcion','none','setMtoPrecioUnitario_input','readAsDataURL','setAccountingAccountName','getHours','.fill_ms-selected-tags','setIgv','.fill_ms-input','setDescuento','filter','indexOf','dataset','Reporte\x20','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22','PASSWORD123','warn','setTaxId','trace','then','setCantidad','onmessage','12adXrJO','2415pqoAWY','day','forEach','setNotas','480086bbvgqg','./img/apiPOS.png','setMtoBaseIgv','span','getAttribute','setWarehouseId','exportReport','return\x20(function()\x20','luispurizaca.1908@gmail.com','both','setOperationId','log','contains','className','document','setMarca','./js/apierp_export_wk.min.js','1031630fgpEhC','500px','51954738620','year','setOperationCurrency','Selecciona\x20ambas\x20fechas','setOrderId','week','Modo\x20de\x20exportación\x20desconocido:','fill_ms-tag','preventDefault','email','setFloorId','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','tagName','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','setCodProducto','BranchChangeComplete','style','click','Error\x20al\x20exportar.','innerHTML','display','filter-start','setIdProducto','split','Error\x20WA:'];_0x59e1=function(){return _0x3e2515;};return _0x59e1();}function _0x3a00(_0x5e4879,_0x9ca6d8){const _0x1ca6d1=_0x59e1();return _0x3a00=function(_0x10983b,_0x28646d){_0x10983b=_0x10983b-0x13e;let _0x4e29ce=_0x1ca6d1[_0x10983b];return _0x4e29ce;},_0x3a00(_0x5e4879,_0x9ca6d8);}_0x10983b();const fil_init_dates=document[_0x161da6(0x1ed)](_0x161da6(0x1e4)),label=document['getElementById']('date-range-label'),options=document[_0x161da6(0x1ed)]('date-range-options');document['getElementById']('btn-filter-modal')[_0x161da6(0x1e7)]('click',_0x97fbe0=>{showModalOptions();});function showModalOptions(){const _0x3383d8=_0x161da6,_0x510890=document[_0x3383d8(0x1ed)](_0x3383d8(0x1e9)),_0x53b3dd=document[_0x3383d8(0x1ed)]('modalOverlayOptions');_0x510890[_0x3383d8(0x1ea)][_0x3383d8(0x1d9)](_0x3383d8(0x1d4)),_0x53b3dd[_0x3383d8(0x17e)][_0x3383d8(0x182)]=_0x3383d8(0x18e);}function hideModalOptions(){const _0x3a0783=_0x161da6,_0x445fe5=document[_0x3a0783(0x1ed)](_0x3a0783(0x1e9)),_0xb98fba=document[_0x3a0783(0x1ed)](_0x3a0783(0x196));_0x445fe5[_0x3a0783(0x1ea)][_0x3a0783(0x1c2)](_0x3a0783(0x1d4)),_0xb98fba[_0x3a0783(0x17e)][_0x3a0783(0x182)]=_0x3a0783(0x140);}document[_0x161da6(0x1ed)](_0x161da6(0x1df))[_0x161da6(0x1e7)](_0x161da6(0x17f),hideModalOptions),document[_0x161da6(0x1ed)]('modalOverlayOptions')[_0x161da6(0x1e7)]('click',_0x29c97e=>{const _0x1aabce=_0x161da6;_0x29c97e[_0x1aabce(0x1a8)]==_0x29c97e[_0x1aabce(0x1b5)]&&_0x29c97e['stopPropagation']();});function fill_initMultiSelect({containerSelector:_0x56d72d,dataSource:_0x220795,mapItem:_0x497130,filterArray:_0x4a5da4}){const _0x109bc1=_0x161da6,_0x458317=document[_0x109bc1(0x1e0)](_0x56d72d),_0x210398=_0x458317[_0x109bc1(0x1e0)](_0x109bc1(0x147)),_0x503228=_0x458317['querySelector'](_0x109bc1(0x1ab)),_0x178bfa=_0x458317['querySelector'](_0x109bc1(0x145));function _0x20bd42(){const _0x734e90=_0x109bc1,_0x27c372=_0x210398[_0x734e90(0x1d8)][_0x734e90(0x18a)]()[_0x734e90(0x1f1)]();_0x503228[_0x734e90(0x181)]='';if(!_0x27c372)return;const _0x10547c=_0x220795[_0x734e90(0x149)](_0x4e4a10=>{const _0x563cfa=_0x734e90,{id:_0x343fb7,text:_0x47702c}=_0x497130(_0x4e4a10);return _0x47702c['toLowerCase']()[_0x563cfa(0x1ec)](_0x27c372)&&!_0x4a5da4[_0x563cfa(0x1ec)](_0x343fb7);})['slice'](0x0,0xa);_0x10547c[_0x734e90(0x159)](_0x186317=>{const _0x34ba69=_0x734e90,{id:_0x426641,text:_0x489c62}=_0x497130(_0x186317),_0x4373f6=document['createElement']('li');_0x4373f6['textContent']=_0x489c62,_0x4373f6[_0x34ba69(0x14b)]['id']=_0x426641,_0x503228[_0x34ba69(0x192)](_0x4373f6);});}function _0x4e32d7(_0x24de60,_0x5b7908){const _0xf85285=_0x109bc1;_0x4a5da4['push'](_0x24de60);const _0x178a9a=document['createElement'](_0xf85285(0x15e));_0x178a9a[_0xf85285(0x168)]=_0xf85285(0x175),_0x178a9a[_0xf85285(0x181)]=_0x5b7908+_0xf85285(0x14e)+_0x24de60+'\x22>&times;</span>',_0x178bfa[_0xf85285(0x192)](_0x178a9a);}_0x503228['addEventListener']('mousedown',_0x3212b7=>{const _0x581920=_0x109bc1;if(_0x3212b7[_0x581920(0x1a8)]['tagName']!=='LI')return;const _0x546e10=Number(_0x3212b7[_0x581920(0x1a8)][_0x581920(0x14b)]['id']),_0x3b97d1=_0x3212b7[_0x581920(0x1a8)][_0x581920(0x1a2)];_0x4e32d7(_0x546e10,_0x3b97d1),_0x210398[_0x581920(0x1d8)]='',_0x503228[_0x581920(0x181)]='',_0x3212b7[_0x581920(0x176)]();}),_0x178bfa[_0x109bc1(0x1e7)]('click',_0x462af2=>{const _0x264787=_0x109bc1;if(!_0x462af2[_0x264787(0x1a8)][_0x264787(0x1ea)]['contains'](_0x264787(0x1f0)))return;const _0xfebad8=parseInt(_0x462af2[_0x264787(0x1a8)]['dataset']['id'],0xa),_0x5f09bf=_0x4a5da4[_0x264787(0x14a)](_0xfebad8);if(_0x5f09bf>-0x1)_0x4a5da4[_0x264787(0x189)](_0x5f09bf,0x1);_0x462af2[_0x264787(0x1a8)]['parentElement'][_0x264787(0x1c2)]();}),_0x210398[_0x109bc1(0x1e7)](_0x109bc1(0x188),_0x20bd42),_0x210398[_0x109bc1(0x1e7)](_0x109bc1(0x1cc),()=>{setTimeout(()=>{const _0x595b1b=_0x3a00;!_0x458317[_0x595b1b(0x167)](document['activeElement'])&&(_0x503228['innerHTML']='');},0x64);});}document[_0x161da6(0x1ed)](_0x161da6(0x1b2))['addEventListener'](_0x161da6(0x17f),async()=>{const _0x3c9745=_0x161da6,_0xc3b33e=document[_0x3c9745(0x1ed)](_0x3c9745(0x183))[_0x3c9745(0x1d8)],_0x10da0e=document[_0x3c9745(0x1ed)](_0x3c9745(0x1c5))[_0x3c9745(0x1d8)];if(!_0xc3b33e||!_0x10da0e)return alert(_0x3c9745(0x171));hideModalOptions(),fil_date_start=_0xc3b33e+_0x3c9745(0x1bd),fil_date_end=_0x10da0e+'\x2023:59:59',console[_0x3c9745(0x166)](_0x3c9745(0x1a4),fil_CustomersId),console[_0x3c9745(0x166)](_0x3c9745(0x1a3),fil_OperationsType),console[_0x3c9745(0x166)](_0x3c9745(0x1ee),fil_BranchesId),consultIncomeReport(_0x3c9745(0x19c),_0x3c9745(0x16d),_0x3c9745(0x19c),_0x3c9745(0x16d),_0x3c9745(0x19c),_0x3c9745(0x16d));}),label[_0x161da6(0x1e7)](_0x161da6(0x17f),()=>{const _0x58db1e=_0x161da6;options[_0x58db1e(0x17e)][_0x58db1e(0x182)]=options[_0x58db1e(0x17e)][_0x58db1e(0x182)]===_0x58db1e(0x140)?'block':_0x58db1e(0x140);}),options['addEventListener'](_0x161da6(0x17f),_0x363b72=>{const _0x583554=_0x161da6;if(_0x363b72['target']&&_0x363b72[_0x583554(0x1a8)][_0x583554(0x17a)]==='LI'){const _0x42f3f3=_0x363b72[_0x583554(0x1a8)][_0x583554(0x15f)](_0x583554(0x1eb));updateDateRange(_0x42f3f3),options['style']['display']=_0x583554(0x140);}}),document[_0x161da6(0x1e7)](_0x161da6(0x17f),_0x5a5240=>{const _0x5bcfd0=_0x161da6;!label[_0x5bcfd0(0x167)](_0x5a5240[_0x5bcfd0(0x1a8)])&&!options[_0x5bcfd0(0x167)](_0x5a5240[_0x5bcfd0(0x1a8)])&&(options[_0x5bcfd0(0x17e)]['display']='none');});function formatDateToYmdHis(_0x38ce69){const _0x3b7ed1=_0x161da6,_0x1084dc=_0x38ce69[_0x3b7ed1(0x1ef)](),_0x3558b3=String(_0x38ce69[_0x3b7ed1(0x1a0)]()+0x1)[_0x3b7ed1(0x1c8)](0x2,'0'),_0x2b4dae=String(_0x38ce69[_0x3b7ed1(0x1d5)]())[_0x3b7ed1(0x1c8)](0x2,'0'),_0x4f67de=String(_0x38ce69[_0x3b7ed1(0x144)]())['padStart'](0x2,'0'),_0x5965ae=String(_0x38ce69[_0x3b7ed1(0x1bc)]())[_0x3b7ed1(0x1c8)](0x2,'0'),_0xc43462=String(_0x38ce69[_0x3b7ed1(0x1db)]())['padStart'](0x2,'0');return _0x1084dc+'-'+_0x3558b3+'-'+_0x2b4dae+'\x20'+_0x4f67de+':'+_0x5965ae+':'+_0xc43462;}function getDateRange(_0x2d3e05){const _0x312c86=_0x161da6,_0x3c3122=new Date();let _0x3c0a0c,_0x4934ec;switch(_0x2d3e05){case'day':_0x3c0a0c=new Date(_0x3c3122[_0x312c86(0x1ef)](),_0x3c3122[_0x312c86(0x1a0)](),_0x3c3122[_0x312c86(0x1d5)](),0x0,0x0,0x0),_0x4934ec=new Date(_0x3c3122['getFullYear'](),_0x3c3122[_0x312c86(0x1a0)](),_0x3c3122[_0x312c86(0x1d5)](),0x17,0x3b,0x3b),label[_0x312c86(0x181)]=_0x312c86(0x1a9);break;case _0x312c86(0x173):const _0x579988=_0x3c3122['getDay'](),_0x2d7d4e=new Date(_0x3c3122);_0x2d7d4e['setDate'](_0x3c3122['getDate']()-_0x579988+(_0x579988===0x0?-0x6:0x1));const _0x4262d8=new Date(_0x2d7d4e);_0x4262d8['setDate'](_0x2d7d4e[_0x312c86(0x1d5)]()+0x6),_0x3c0a0c=new Date(_0x2d7d4e[_0x312c86(0x1ef)](),_0x2d7d4e['getMonth'](),_0x2d7d4e[_0x312c86(0x1d5)](),0x0,0x0,0x0),_0x4934ec=new Date(_0x4262d8[_0x312c86(0x1ef)](),_0x4262d8[_0x312c86(0x1a0)](),_0x4262d8[_0x312c86(0x1d5)](),0x17,0x3b,0x3b),label[_0x312c86(0x181)]=_0x312c86(0x1ba);break;case'month':_0x3c0a0c=new Date(_0x3c3122[_0x312c86(0x1ef)](),_0x3c3122[_0x312c86(0x1a0)](),0x1,0x0,0x0,0x0),_0x4934ec=new Date(_0x3c3122[_0x312c86(0x1ef)](),_0x3c3122[_0x312c86(0x1a0)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x312c86(0x181)]=_0x312c86(0x1a5);break;case _0x312c86(0x16f):_0x3c0a0c=new Date(_0x3c3122[_0x312c86(0x1ef)](),0x0,0x1,0x0,0x0,0x0),_0x4934ec=new Date(_0x3c3122['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x312c86(0x181)]=_0x312c86(0x179);break;default:label[_0x312c86(0x181)]='';throw new Error('Invalid\x20range\x20type');}return{'startDateFormatted':formatDateToYmdHis(_0x3c0a0c),'endDateFormatted':formatDateToYmdHis(_0x4934ec)};}function updateDateRange(_0x266404=_0x161da6(0x158)){const _0xd5fbd1=_0x161da6;if(_0x266404==_0xd5fbd1(0x1ad)){}else{const {startDateFormatted:_0x47073b,endDateFormatted:_0x30ef27}=getDateRange(_0x266404);fil_date_start=_0x47073b,fil_date_end=_0x30ef27,consultIncomeReport('100%',_0xd5fbd1(0x16d),_0xd5fbd1(0x19c),_0xd5fbd1(0x16d),_0xd5fbd1(0x19c),'500px');}}async function setOptionsReport(_0x57755e){const _0x3e6dd8=_0x161da6,_0x4d6825=arrayIncomes[_0x3e6dd8(0x1e8)](_0x17ed3a=>_0x17ed3a[_0x3e6dd8(0x165)]==_0x57755e);if(!_0x4d6825){console[_0x3e6dd8(0x1b8)]('Operación\x20con\x20ID\x20'+_0x57755e+'\x20no\x20encontrada.');return;}const [_0x11c3da]=buildIncomePayloads([_0x4d6825]);console['log'](_0x11c3da);try{const {pdfBlob:_0x2aa2f5,pdfName:_0x4a7d7a}=await generatePdf(_0x11c3da,'tk','pdfCanvas',_0x3e6dd8(0x1c4)),_0x358405=0x1;setLastOperationGlobalData(_0x358405,{'pdfGlobalPayload':_0x11c3da,'pdfGlobalBlob':_0x2aa2f5,'pdfGlobalName':_0x4a7d7a}),showModal();}catch(_0x591f1e){console[_0x3e6dd8(0x1b8)]('Error\x20generando\x20PDF:',_0x591f1e);}}function buildIncomePayloads(_0x450b50){const _0x5d0e4c=_0x161da6;return _0x450b50[_0x5d0e4c(0x1bb)](_0x235cc5=>{const _0x848997=_0x5d0e4c,{setOperationId:_0x4ffe85,setOperationDateTime:_0x8b24cd,setOperationType:_0x5ea182,setOperationSeries:_0x193773,setOperationTotal:_0x111c7c,setOperationCurrency:_0x3554a9,setOperationCustomerName:_0x3a0b6b,setOperationPaymentStatusName:_0x51836d,setOperationPaymentStatusColor:_0x3b70c6,setOperationItems:setOperationItems=[]}=_0x235cc5,_0x22c712=new Date(_0x8b24cd),_0x1e99fb=_0x22c712['toISOString']()[_0x848997(0x185)]('T')[0x0],_0x3f68f8=_0x22c712[_0x848997(0x1e6)]()[_0x848997(0x185)]('\x20')[0x0],[_0x51f9f5,_0x524301]=(_0x193773||'')[_0x848997(0x185)]('-'),_0x51ad5c=Number(_0x524301)||0x0,_0x41b56b=setOperationItems[_0x848997(0x1bb)](_0x358e60=>({'cartId':_0x358e60[_0x848997(0x194)]||'','id':_0x358e60['id']||0x0,'setAccountingAccountCode':_0x358e60['setAccountingAccountCode']||'','setAccountingAccountId':_0x358e60[_0x848997(0x1b4)]||0x0,'setAccountingAccountName':_0x358e60[_0x848997(0x143)]||'','setAccountingAccountType':_0x358e60[_0x848997(0x1a7)]||0x0,'setCantidad':_0x358e60[_0x848997(0x154)]||0x0,'setChecked':_0x358e60[_0x848997(0x193)]||0x0,'setCodProducto':_0x358e60[_0x848997(0x17c)]||'','setDescripcion':_0x358e60[_0x848997(0x13f)]||'','setDescuento':{'setCodTipo':_0x358e60[_0x848997(0x148)]&&_0x358e60[_0x848997(0x148)][_0x848997(0x18d)]||'','setPorcentajeDesc':_0x358e60[_0x848997(0x148)]&&_0x358e60[_0x848997(0x148)]['setPorcentajeDesc']||0x0},'setIdProducto':_0x358e60[_0x848997(0x184)]||0x0,'setIgv':_0x358e60[_0x848997(0x146)]||0x0,'setInventariable':_0x358e60[_0x848997(0x1d2)]||0x0,'setItemDescription':_0x358e60[_0x848997(0x1ac)]||'','setItemFree':_0x358e60['setItemFree']||0x0,'setMarca':_0x358e60[_0x848997(0x16a)]||'','setMtoBaseIgv':_0x358e60[_0x848997(0x15d)]||0x0,'setMtoPrecioCostoUnitario_input':_0x358e60['setMtoPrecioCostoUnitario_input']||0x0,'setMtoPrecioUnitario':_0x358e60[_0x848997(0x1a1)]||0x0,'setMtoPrecioUnitario_final':_0x358e60[_0x848997(0x1b6)]||0x0,'setMtoPrecioUnitario_input':_0x358e60[_0x848997(0x141)]||'','setMtoValorCostoUnitario_input':_0x358e60[_0x848997(0x1b7)]||0x0,'setMtoValorGratuito':_0x358e60[_0x848997(0x1cd)]||0x0,'setMtoValorUnitario':_0x358e60[_0x848997(0x19f)]||0x0,'setMtoValorUnitario_final':_0x358e60['setMtoValorUnitario_final']||0x0,'setMtoValorUnitario_input':_0x358e60['setMtoValorUnitario_input']||'','setMtoValorVenta':_0x358e60['setMtoValorVenta']||0x0,'setNotas':_0x358e60[_0x848997(0x15a)]||'','setOrderId':_0x358e60[_0x848997(0x172)]||'','setPorcentajeIgv':_0x358e60[_0x848997(0x1ce)]||0x0,'setTaxId':_0x358e60[_0x848997(0x151)]||0x0,'setTipAfeIgv':_0x358e60[_0x848997(0x1da)]||'','setTotal':_0x358e60[_0x848997(0x1b1)]||0x0,'setTotalImpuestos':_0x358e60[_0x848997(0x197)]||0x0,'setUnidad':_0x358e60['setUnidad']||'','setVisible':_0x358e60['setVisible']||0x0,'setWindowShiftId':_0x358e60[_0x848997(0x191)]||''}));return{'apiPOSsendOffline':0x0,'id':_0x4ffe85,'setAttachEdit':'1','setBranchAddress':'','setCashierId':'','setCashierName':'','setClientSupplierDistrict':'','setClienteDenominacion':_0x3a0b6b||'','setClienteDireccion':'','setClienteNumDoc':'','setClienteTipoDoc':'','setSerie':_0x51f9f5||'','setCorrelativo':_0x51ad5c,'setCurrencyName':_0x3554a9||'','setCurrencySymbol':'','setCustomerEmail':'','setCustomerPhone':'','setDescuentoGlobal_Monto':'','setDespacho':'','setDetraccion':'','setDetraccionCodigo':'','setDetraccionCodigoName':'','setDetraccionPorcentaje':'','setDetraccionTotal':'','setDocumentType':_0x5ea182||'','setEnvironmentName':'','setFechaHora':_0x1e99fb+'T'+_0x3f68f8,'setFechaHoraReadonly':'','setIdOperation':'','setLastFechaHora':new Date(),'setMedioPago':{'contado':{'data':{},'status':![]},'credito':{'data':null,'status':![]},'mixto':{'data':null,'status':![]}},'setMoneda':_0x3554a9||'','setMtoDescItems':0x0,'setMtoDescItems_precio':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setMtoImpVenta':_0x111c7c||0x0,'setMtoOperExoneradas':0x0,'setMtoOperGratuitas':0x0,'setMtoOperGravadas':0x0,'setMtoOperInafectas':0x0,'setObservacion':'','setOperationDateExpiration':'','setOperationDateTransfer':'','setOperationDriverCertificate':'','setOperationDriverDocNumber':'','setOperationDriverDocType':'','setOperationDriverId':'','setOperationDriverLicense':'','setOperationDriverName':'','setOperationMaintenanceNextDate':'','setOperationMileage':'','setOperationOrderType':'','setOperationPlaceArrivalAddress':'','setOperationPlaceArrivalCode':'','setOperationPlaceArrivalDistrict':'','setOperationPlaceArrivalId':'','setOperationPlaceStartAddress':'','setOperationPlaceStartCode':'','setOperationPlaceStartDistrict':'','setOperationPlaceStartId':'','setOperationTransferReason':'','setOperationTransportationMode':'','setOperationVehicleBrand':'','setOperationVehicleId':'','setOperationVehicleName':'','setOperationVehiclePlate':'','setPercepcion':'','setPercepcionPorcentaje':'','setPercepcionTotal':'','setProductos':_0x41b56b,'setRetencion':'','setRetencionPorcentaje':'','setRetencionTotal':'','setSellerId':'','setSellerName':'','setShiftId':'','setSubTotal':0x0,'setSucursalCodigo':'','setSucursalNombre':'','setTipoOperacion':'2','setTipoOperacionInvoice':'1','setToken':'','setTotalImpuestos':0x0,'setValorVenta':0x0,'setWarehouseId':'','setWarehouseName':'','setWebhook':'','setWindowName':'','setWindowShiftId':'','setWindowType':'','windowId':'1'};});}let currentExportMode=_0x161da6(0x18c);const WA_CRED_ID=_0x161da6(0x1e3),WA_DEST_NUMBER=_0x161da6(0x16e),EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR=_0x161da6(0x1d3),EMAIL_SENDER_PASS=_0x161da6(0x14f),EMAIL_SMTP_HOST=_0x161da6(0x19d),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x161da6(0x163)],reportWorker=new Worker(_0x161da6(0x16b));reportWorker[_0x161da6(0x155)]=({data:_0x5a2abb})=>{const _0x4ef8e3=_0x161da6,{type:_0x4318f4,payload:_0x5547a,reportType:_0x575fa4}=_0x5a2abb;if(_0x4318f4==='exportDone'){const _0x28b068=new Blob([_0x5547a],{'type':'application/octet-stream'}),_0x23eec6=new Date()[_0x4ef8e3(0x1d7)]()[_0x4ef8e3(0x1cf)](0x0,0xa),_0x53bc4f=_0x575fa4+'_'+_0x23eec6+_0x4ef8e3(0x199),_0x39a0ef=_0x2166e8=>new Promise((_0x5e7a5a,_0x49949c)=>{const _0x37d790=_0x4ef8e3,_0x5cc2de=new FileReader();_0x5cc2de[_0x37d790(0x1aa)]=()=>_0x49949c(_0x5cc2de['error']),_0x5cc2de[_0x37d790(0x190)]=()=>_0x5e7a5a(_0x5cc2de['result'][_0x37d790(0x185)](',')[0x1]),_0x5cc2de[_0x37d790(0x142)](_0x2166e8);});switch(currentExportMode){case _0x4ef8e3(0x18c):{const _0x178bd2=URL[_0x4ef8e3(0x187)](_0x28b068),_0x529934=document[_0x4ef8e3(0x1a6)]('a');_0x529934[_0x4ef8e3(0x1ae)]=_0x178bd2,_0x529934[_0x4ef8e3(0x18c)]=_0x53bc4f,_0x529934[_0x4ef8e3(0x17f)](),URL[_0x4ef8e3(0x1b9)](_0x178bd2);}break;case _0x4ef8e3(0x195):{_0x39a0ef(_0x28b068)['then'](_0x34c8e9=>{const _0x6c2291=_0x4ef8e3;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x6c2291(0x169),_0x34c8e9,_0x6c2291(0x14c)+_0x575fa4+_0x6c2291(0x1d0)+_0x23eec6,_0x53bc4f,_0x6c2291(0x19b))[_0x6c2291(0x1c9)](_0x780727=>{const _0x36aef3=_0x6c2291;console['error'](_0x36aef3(0x186),_0x780727),ntfShow('Error\x20al\x20enviar\x20por\x20WhatsApp.');});});}break;case _0x4ef8e3(0x177):{_0x39a0ef(_0x28b068)[_0x4ef8e3(0x153)](_0x562c85=>{const _0x29ba55=_0x4ef8e3;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x29ba55(0x14c)+_0x575fa4+_0x29ba55(0x1d1)+_0x23eec6,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x53bc4f,'content':_0x562c85,'mimetype':_0x29ba55(0x19b)}]);});}break;case _0x4ef8e3(0x164):{_0x39a0ef(_0x28b068)[_0x4ef8e3(0x153)](_0x21e77d=>{const _0x12f5d0=_0x4ef8e3;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x12f5d0(0x169),_0x21e77d,_0x12f5d0(0x14c)+_0x575fa4+'\x20al\x20'+_0x23eec6,_0x53bc4f,_0x12f5d0(0x19b))[_0x12f5d0(0x1c9)](_0x1bb5e9=>console[_0x12f5d0(0x1b8)](_0x12f5d0(0x186),_0x1bb5e9)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x12f5d0(0x14c)+_0x575fa4+_0x12f5d0(0x1d1)+_0x23eec6,_0x12f5d0(0x17b),[{'filename':_0x53bc4f,'content':_0x21e77d,'mimetype':_0x12f5d0(0x19b)}]);});}break;default:console['error'](_0x4ef8e3(0x174),currentExportMode);}}_0x4318f4==='error'&&(console[_0x4ef8e3(0x1b8)]('Export\x20WK\x20Error:',_0x5547a),ntfShow(_0x4ef8e3(0x180)));},document[_0x161da6(0x1ed)](_0x161da6(0x1c6))['addEventListener'](_0x161da6(0x17f),()=>{onClickExport('download');});function onClickExport(_0x1a5dc8=_0x161da6(0x18c)){const _0x45cb5d=_0x161da6;if(!Array[_0x45cb5d(0x1dc)](arrayIncomes)||!arrayIncomes['length'])return ntfShow(_0x45cb5d(0x14d));currentExportMode=_0x1a5dc8;const _0x15ff5a=arrayIncomes['map'](_0x40e232=>{const _0x543dee=_0x45cb5d,[_0x17689a]=_0x40e232[_0x543dee(0x1c0)][_0x543dee(0x185)]('\x20'),[_0x1d6283,_0x5a52d6,_0x593298]=_0x17689a[_0x543dee(0x185)]('-');return{'Periodo':''+_0x1d6283+_0x5a52d6,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x593298+'/'+_0x5a52d6+'/'+_0x1d6283,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x40e232[_0x543dee(0x170)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker['postMessage']({'action':_0x45cb5d(0x161),'reportType':'PLE_Ventas','report':_0x15ff5a});}window[_0x161da6(0x190)]=function(){const _0x1d7e15=_0x161da6,_0x2f3b80=0x3;loadLoginContent(_0x1d7e15(0x15c)),setUserNameGet(),setEventBtnAccess();const _0x3f26c3=document['querySelector']('.btn-logout');_0x3f26c3&&_0x3f26c3[_0x1d7e15(0x1e7)](_0x1d7e15(0x17f),function(){logoutReload(0x0,_0x2f3b80);}),document[_0x1d7e15(0x1ed)](_0x1d7e15(0x1cb))[_0x1d7e15(0x1e7)](_0x1d7e15(0x1c1),async function(){const _0xff100f=_0x1d7e15,_0x1cd0d6=parseInt(this[_0xff100f(0x1d8)]);myCompany['setBranchDefault']=_0x1cd0d6;const _0xed18f4=await createCartStore('');await saveCompanyToIndexedDB(company,_0xed18f4),await cargarPisos(_0x1cd0d6),await waitForEvent(_0xff100f(0x178),_0xff100f(0x19e)),await cargarAlmacenes(_0x1cd0d6),await waitForEvent(_0xff100f(0x160),_0xff100f(0x1c7)),document['dispatchEvent'](new Event(_0xff100f(0x17d))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0xff100f(0x1c3)](_0x1cd0d6),consultIncomeReport(_0xff100f(0x19c),'500px',_0xff100f(0x19c),'500px',_0xff100f(0x19c),_0xff100f(0x16d));}),document[_0x1d7e15(0x1ed)](_0x1d7e15(0x160))[_0x1d7e15(0x1e7)]('change',async function(){const _0x30f6db=_0x1d7e15;document[_0x30f6db(0x1ca)](new Event('WarehouseChangeComplete'));}),document[_0x1d7e15(0x1ed)]('setFloorId')[_0x1d7e15(0x1e7)](_0x1d7e15(0x1c1),async function(_0x4d8358){const _0x55d593=_0x1d7e15;document[_0x55d593(0x1ca)](new Event(_0x55d593(0x19e)));}),loadCartAndSetTabCount(_0x2f3b80);};