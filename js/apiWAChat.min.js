/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.1
*/

const _0x14cdb0=_0x5de7;function _0x5de7(_0x3e4cb6,_0x4b4a6f){const _0x1e7db=_0x4d9d();return _0x5de7=function(_0x48947d,_0x4b6ee1){_0x48947d=_0x48947d-0x150;let _0x450149=_0x1e7db[_0x48947d];return _0x450149;},_0x5de7(_0x3e4cb6,_0x4b4a6f);}(function(_0xaf326d,_0x3e7bd9){const _0x5422e7=_0x5de7,_0x793bce=_0xaf326d();while(!![]){try{const _0x3cd384=-parseInt(_0x5422e7(0x168))/0x1*(-parseInt(_0x5422e7(0x189))/0x2)+-parseInt(_0x5422e7(0x169))/0x3+parseInt(_0x5422e7(0x165))/0x4*(-parseInt(_0x5422e7(0x175))/0x5)+-parseInt(_0x5422e7(0x18b))/0x6*(-parseInt(_0x5422e7(0x177))/0x7)+-parseInt(_0x5422e7(0x151))/0x8*(parseInt(_0x5422e7(0x170))/0x9)+parseInt(_0x5422e7(0x15c))/0xa*(parseInt(_0x5422e7(0x186))/0xb)+parseInt(_0x5422e7(0x16b))/0xc*(parseInt(_0x5422e7(0x17e))/0xd);if(_0x3cd384===_0x3e7bd9)break;else _0x793bce['push'](_0x793bce['shift']());}catch(_0xc81e24){_0x793bce['push'](_0x793bce['shift']());}}}(_0x4d9d,0x4dc9f));const selectCredentialsApiWAChat=document[_0x14cdb0(0x181)](_0x14cdb0(0x166)),loginPanel=document['getElementById'](_0x14cdb0(0x18a)),chatPanel=document[_0x14cdb0(0x181)](_0x14cdb0(0x156)),qrImg=document['getElementById']('qr-img'),overlay=document[_0x14cdb0(0x181)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0xbfb4ad=_0x14cdb0;loginPanel['style'][_0xbfb4ad(0x154)]='flex',chatPanel['style'][_0xbfb4ad(0x18d)]=_0xbfb4ad(0x17d);}function showChat(){const _0x3b1088=_0x14cdb0;loginPanel['style'][_0x3b1088(0x154)]=_0x3b1088(0x17f),chatPanel[_0x3b1088(0x18c)][_0x3b1088(0x18d)]=_0x3b1088(0x17a);}async function initQRApiWAChat(_0x1b245b,_0xf74f47){const _0x42e527=_0x14cdb0,_0x4b6743=(function(){let _0x1634f5=!![];return function(_0xf84160,_0x584760){const _0x5e924f=_0x1634f5?function(){const _0x399e29=_0x5de7;if(_0x584760){const _0x371d95=_0x584760[_0x399e29(0x185)](_0xf84160,arguments);return _0x584760=null,_0x371d95;}}:function(){};return _0x1634f5=![],_0x5e924f;};}()),_0x8d0d73=_0x4b6743(this,function(){const _0x22cb19=_0x5de7;return _0x8d0d73[_0x22cb19(0x187)]()[_0x22cb19(0x160)](_0x22cb19(0x179))[_0x22cb19(0x187)]()[_0x22cb19(0x173)](_0x8d0d73)[_0x22cb19(0x160)](_0x22cb19(0x179));});_0x8d0d73();const _0x231537=(function(){let _0x58a99f=!![];return function(_0x4fe7de,_0x4c47c1){const _0x46af85=_0x58a99f?function(){const _0x3c7fec=_0x5de7;if(_0x4c47c1){const _0x26ac4c=_0x4c47c1[_0x3c7fec(0x185)](_0x4fe7de,arguments);return _0x4c47c1=null,_0x26ac4c;}}:function(){};return _0x58a99f=![],_0x46af85;};}()),_0xbb3c49=_0x231537(this,function(){const _0x185e4e=_0x5de7,_0xd49fdb=function(){const _0x45a6e1=_0x5de7;let _0x1c8914;try{_0x1c8914=Function('return\x20(function()\x20'+_0x45a6e1(0x16e)+');')();}catch(_0x4d54ac){_0x1c8914=window;}return _0x1c8914;},_0x2271a4=_0xd49fdb(),_0x330993=_0x2271a4[_0x185e4e(0x16f)]=_0x2271a4[_0x185e4e(0x16f)]||{},_0x32146e=[_0x185e4e(0x167),'warn',_0x185e4e(0x15a),_0x185e4e(0x16d),_0x185e4e(0x190),_0x185e4e(0x153),'trace'];for(let _0x341ce3=0x0;_0x341ce3<_0x32146e['length'];_0x341ce3++){const _0x3b5c5f=_0x231537[_0x185e4e(0x173)]['prototype'][_0x185e4e(0x150)](_0x231537),_0x188ba8=_0x32146e[_0x341ce3],_0x5072e4=_0x330993[_0x188ba8]||_0x3b5c5f;_0x3b5c5f[_0x185e4e(0x16a)]=_0x231537['bind'](_0x231537),_0x3b5c5f['toString']=_0x5072e4[_0x185e4e(0x187)]['bind'](_0x5072e4),_0x330993[_0x188ba8]=_0x3b5c5f;}});_0xbb3c49();const _0x36ceb3=selectCredentialsApiWAChat[_0x42e527(0x176)],_0x57cc45=getCredentialsApiWAChat(_0x36ceb3);if(!_0x57cc45){ntfShow(_0x42e527(0x15d));return;}const _0xef16be=_0x57cc45['setCredentialsApiWAChatSubdomain'],_0x5d9af6=_0x57cc45['setCredentialsApiWAChatPort'];if(_0x1b245b===_0x42e527(0x154))clearTimeout(qrTimeout),overlay[_0x42e527(0x18c)][_0x42e527(0x154)]=_0x42e527(0x17f),qrImg['src']=_0xf74f47,qrTimeout=setTimeout(async()=>{const _0x422efe=_0x42e527;try{const _0x51e35d=await fetch(_0x422efe(0x164)+_0xef16be+'/wa/'+_0x5d9af6+_0x422efe(0x171),{'headers':{'x-auth-token':myCompany[_0x422efe(0x15f)]}}),_0x22a07e=await _0x51e35d[_0x422efe(0x174)]();_0x22a07e[_0x422efe(0x163)]&&_0x22a07e[_0x422efe(0x163)][_0x422efe(0x183)]()['includes'](_0x422efe(0x158))?(showChat(),_0x57cc45[_0x422efe(0x161)]=0x1):(overlay[_0x422efe(0x18c)][_0x422efe(0x154)]='flex',_0x57cc45['setCredentialsApiWAChatStatus']=0x0);const _0x48c927=await createCartStore('');await saveCompanyToIndexedDB(company,_0x48c927);}catch(_0x1080b3){console['error'](_0x422efe(0x17c),_0x1080b3),overlay[_0x422efe(0x18c)][_0x422efe(0x154)]='flex';}},validSeconds*0x3e8);else{if(_0x1b245b===_0x42e527(0x152))try{const _0x199a65=await fetch(_0x42e527(0x164)+_0xef16be+_0x42e527(0x17b)+_0x5d9af6+_0x42e527(0x171),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x26431e=await _0x199a65[_0x42e527(0x174)]();if(_0x26431e[_0x42e527(0x163)]&&_0x26431e[_0x42e527(0x163)][_0x42e527(0x183)]()[_0x42e527(0x18e)](_0x42e527(0x158)))showChat(),_0x57cc45['setCredentialsApiWAChatStatus']=0x1;else _0x26431e['qr']&&(showLogin(),await initQRApiWAChat(_0x42e527(0x154),_0x26431e['qr']),_0x57cc45[_0x42e527(0x161)]=0x0);const _0x1e894d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1e894d);}catch(_0x51132b){console[_0x42e527(0x16d)](_0x51132b);}}}overlay['addEventListener'](_0x14cdb0(0x172),()=>initQRApiWAChat(_0x14cdb0(0x152))),window[_0x14cdb0(0x159)]=function(){const _0x4c5147=_0x14cdb0,_0x3f9de4=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x5ba6da=document[_0x4c5147(0x15b)](_0x4c5147(0x178));_0x5ba6da&&_0x5ba6da[_0x4c5147(0x180)]('click',function(){logoutReload(0x0,_0x3f9de4);}),document['getElementById'](_0x4c5147(0x166))[_0x4c5147(0x180)]('change',async function(){const _0x486dac=_0x4c5147;saveCredentialsApiWAChatInCompany();const _0x15b3c1=await createCartStore('');await saveCompanyToIndexedDB(company,_0x15b3c1),location[_0x486dac(0x15e)]();}),document[_0x4c5147(0x181)](_0x4c5147(0x182))[_0x4c5147(0x180)](_0x4c5147(0x184),async function(){const _0x528686=_0x4c5147,_0x431ed9=parseInt(this[_0x528686(0x176)]);myCompany[_0x528686(0x155)]=_0x431ed9,saveCredentialsApiWAChatInCompany();const _0x1e7cbd=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1e7cbd),await cargarPisos(_0x431ed9),await waitForEvent(_0x528686(0x157),_0x528686(0x18f)),await cargarAlmacenes(_0x431ed9),await waitForEvent(_0x528686(0x188),'WarehouseChangeComplete'),document[_0x528686(0x16c)](new Event('BranchChangeComplete')),ntf_initNotifications();}),document[_0x4c5147(0x181)](_0x4c5147(0x188))[_0x4c5147(0x180)](_0x4c5147(0x184),async function(){const _0x279d9b=_0x4c5147;document['dispatchEvent'](new Event(_0x279d9b(0x162)));}),document['getElementById']('setFloorId')[_0x4c5147(0x180)]('change',async function(_0x5db22c){const _0x29ddaa=_0x4c5147;document[_0x29ddaa(0x16c)](new Event('EnvironmentChangeComplete'));}),loadCartAndSetTabCount(_0x3f9de4);};function _0x4d9d(){const _0x2a5513=['addEventListener','getElementById','setBranchId','toLowerCase','change','apply','31108OlAOmC','toString','setWarehouseId','456332szSAmR','loginPanel','106188QZDiua','style','visibility','includes','EnvironmentChangeComplete','exception','bind','1499912uWakYV','init','table','display','setBranchDefault','chatPanel','setFloorId','ya\x20conectado','onload','info','querySelector','50wVoNjH','Credenciales\x20no\x20encontradas','reload','setAuthToken','search','setCredentialsApiWAChatStatus','WarehouseChangeComplete','status','https://','524108buCieJ','setCredentialsApiWAChat','log','1TMbeUj','808248BoWeei','__proto__','12cnwTsZ','dispatchEvent','error','{}.constructor(\x22return\x20this\x22)(\x20)','console','27VdqyZl','/qr','click','constructor','json','5UrKdBQ','value','238trMuhH','.btn-logout','(((.+)+)+)+$','visible','/wa/','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','hidden','5687435yVmkji','none'];_0x4d9d=function(){return _0x2a5513;};return _0x4d9d();}