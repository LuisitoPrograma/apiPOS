/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.0
*/

const _0x15ec24=_0x8933;(function(_0x1509cf,_0x559797){const _0x45a1a1=_0x8933,_0x4b6eda=_0x1509cf();while(!![]){try{const _0x3401e7=parseInt(_0x45a1a1(0x106))/0x1*(-parseInt(_0x45a1a1(0x1ad))/0x2)+parseInt(_0x45a1a1(0x1c2))/0x3*(parseInt(_0x45a1a1(0x1b8))/0x4)+parseInt(_0x45a1a1(0x194))/0x5+-parseInt(_0x45a1a1(0x195))/0x6+-parseInt(_0x45a1a1(0x131))/0x7+-parseInt(_0x45a1a1(0x1ab))/0x8*(parseInt(_0x45a1a1(0x198))/0x9)+parseInt(_0x45a1a1(0x18a))/0xa;if(_0x3401e7===_0x559797)break;else _0x4b6eda['push'](_0x4b6eda['shift']());}catch(_0x2e7fbc){_0x4b6eda['push'](_0x4b6eda['shift']());}}}(_0x9a33,0x5230a));const _0x14ab61=(function(){let _0x7c4852=!![];return function(_0xccda7e,_0x9be01f){const _0x3aa1f0=_0x7c4852?function(){if(_0x9be01f){const _0x3bea04=_0x9be01f['apply'](_0xccda7e,arguments);return _0x9be01f=null,_0x3bea04;}}:function(){};return _0x7c4852=![],_0x3aa1f0;};}()),_0x5cd3f4=_0x14ab61(this,function(){const _0xb3458c=_0x8933;return _0x5cd3f4['toString']()[_0xb3458c(0x13d)]('(((.+)+)+)+$')[_0xb3458c(0x14e)]()['constructor'](_0x5cd3f4)[_0xb3458c(0x13d)](_0xb3458c(0x19d));});_0x5cd3f4();const _0xd0ec9d=(function(){let _0x5ffdba=!![];return function(_0x22e528,_0xeb5a71){const _0x9145dc=_0x5ffdba?function(){const _0x50dc4f=_0x8933;if(_0xeb5a71){const _0x118f10=_0xeb5a71[_0x50dc4f(0x1c3)](_0x22e528,arguments);return _0xeb5a71=null,_0x118f10;}}:function(){};return _0x5ffdba=![],_0x9145dc;};}()),_0x3ae502=_0xd0ec9d(this,function(){const _0x4585c7=_0x8933;let _0x178548;try{const _0x43bb73=Function(_0x4585c7(0x16f)+_0x4585c7(0x16d)+');');_0x178548=_0x43bb73();}catch(_0x3bc39e){_0x178548=window;}const _0xa1d077=_0x178548[_0x4585c7(0x141)]=_0x178548['console']||{},_0x362311=[_0x4585c7(0x14c),'warn','info',_0x4585c7(0x122),_0x4585c7(0x1c5),_0x4585c7(0x126),_0x4585c7(0x1b7)];for(let _0x51cea0=0x0;_0x51cea0<_0x362311[_0x4585c7(0x199)];_0x51cea0++){const _0x3d9488=_0xd0ec9d[_0x4585c7(0x149)][_0x4585c7(0x107)][_0x4585c7(0x176)](_0xd0ec9d),_0x1e3a61=_0x362311[_0x51cea0],_0x5cfab8=_0xa1d077[_0x1e3a61]||_0x3d9488;_0x3d9488[_0x4585c7(0x119)]=_0xd0ec9d[_0x4585c7(0x176)](_0xd0ec9d),_0x3d9488[_0x4585c7(0x14e)]=_0x5cfab8[_0x4585c7(0x14e)]['bind'](_0x5cfab8),_0xa1d077[_0x1e3a61]=_0x3d9488;}});_0x3ae502();let arrayIncomes;const PER_PAGE=0x14;let currentPage=0x1;function generateFilterTransformChart(_0x2889fb){const _0x413414=_0x8933,{containerId:_0xf479d0,rawData:_0x7741c4,groupField:_0x51ab81,groupValues:_0x10a319,additionalFilters:additionalFilters=[],seriesType:seriesType='line',encode:_0x1bec23,title:title='',colors:_0x27153f,animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x413414(0x168),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x15bd01,height:_0x1878de}=_0x2889fb,_0x2382a8=document[_0x413414(0x186)](_0xf479d0);if(!_0x2382a8){console['error'](_0x413414(0x1a2)+_0xf479d0+_0x413414(0x1c7));return;}if(_0x15bd01)_0x2382a8[_0x413414(0x14f)][_0x413414(0x19a)]=_0x15bd01;if(_0x1878de)_0x2382a8[_0x413414(0x14f)][_0x413414(0x1aa)]=_0x1878de;const _0x37401d=echarts[_0x413414(0x13f)](_0x2382a8),_0x15945f=[],_0x523f6c=[];_0x10a319['forEach']((_0x2ab06c,_0x372702)=>{const _0x266d60=_0x413414,_0x2368b0=_0x266d60(0x188)+_0x2ab06c,_0x532559=additionalFilters[_0x266d60(0x1b2)]([{'dimension':_0x51ab81,'=':_0x2ab06c}]);_0x15945f['push']({'id':_0x2368b0,'fromDatasetId':_0x266d60(0x1c0),'transform':{'type':_0x266d60(0x160),'config':{'and':_0x532559}}}),_0x523f6c[_0x266d60(0x15e)]({'type':seriesType,'datasetId':_0x2368b0,'showSymbol':![],'name':_0x2ab06c,'endLabel':{'show':!![],'formatter':function(_0x310df4){const _0xd9047d=_0x266d60,_0x4d5f4a=_0x310df4['value']&&_0x310df4[_0xd9047d(0x179)][_0x1bec23['x']];return _0x2ab06c+(_0x4d5f4a!==undefined&&_0x4d5f4a!==null&&_0x4d5f4a!==''?':\x20'+_0x4d5f4a:'');}},'labelLayout':{'moveOverlap':_0x266d60(0x10d)},'emphasis':{'focus':'series'},'encode':_0x1bec23,'lineStyle':{'color':_0x27153f&&_0x27153f[_0x372702]?_0x27153f[_0x372702]:undefined}});});const _0x5cc7bd={'animationDuration':animationDuration,'dataset':[{'id':_0x413414(0x1c0),'source':_0x7741c4},..._0x15945f],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x413414(0x139)},'xAxis':Object[_0x413414(0x1cb)]({'type':_0x413414(0x118),'nameLocation':_0x413414(0x156)},xAxisConfig),'yAxis':Object[_0x413414(0x1cb)]({'name':_0x1bec23['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x523f6c};_0x37401d[_0x413414(0x16c)](_0x5cc7bd);}function generatePieChart({containerId:_0x38f89f,data:_0x2ae60f,nameField:_0x520d28,valueField:_0xfa2ae5,title:title=''}){const _0x35f3fe=_0x8933,_0x30d556=document['getElementById'](_0x38f89f);if(!_0x30d556)return console[_0x35f3fe(0x122)](_0x35f3fe(0x129)+_0x38f89f+_0x35f3fe(0x169));const _0x3b6236=echarts[_0x35f3fe(0x13f)](_0x30d556),_0x323973=_0x2ae60f[_0x35f3fe(0x172)]((_0xb67b42,_0x3070d6)=>{const _0xfcf7a8=_0x35f3fe,_0x500075=_0x3070d6[_0x520d28],_0x1c4879=_0x3070d6[_0xfa2ae5];let _0x3cbed3=_0xb67b42[_0xfcf7a8(0x136)](_0x17bb64=>_0x17bb64[_0xfcf7a8(0x113)]===_0x500075);return!_0x3cbed3&&(_0x3cbed3={'name':_0x500075,'value':0x0},_0xb67b42['push'](_0x3cbed3)),_0x3cbed3[_0xfcf7a8(0x179)]+=_0x1c4879,_0xb67b42;},[]),_0x999fab={'title':{'text':title,'left':_0x35f3fe(0x1a8)},'tooltip':{'trigger':'item'},'series':[{'type':'pie','radius':'50%','data':_0x323973,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x35f3fe(0x12f)}}]};_0x3b6236[_0x35f3fe(0x16c)](_0x999fab);}function showModalViewDetails(){const _0xcfc3b0=_0x8933,_0x3b4038=document[_0xcfc3b0(0x186)](_0xcfc3b0(0x19b)),_0x213aba=document['getElementById'](_0xcfc3b0(0x1c4));_0x3b4038[_0xcfc3b0(0x182)][_0xcfc3b0(0x140)](_0xcfc3b0(0x19e)),_0x213aba['style'][_0xcfc3b0(0x13c)]=_0xcfc3b0(0x19f);}function hideModalViewDetails(){const _0x42a94e=_0x8933,_0x381d4d=document[_0x42a94e(0x186)](_0x42a94e(0x19b)),_0x2f1492=document[_0x42a94e(0x186)]('modalOverlayViewDetails');_0x381d4d[_0x42a94e(0x182)][_0x42a94e(0x15c)](_0x42a94e(0x19e)),_0x2f1492[_0x42a94e(0x14f)]['display']='none';const _0x353f09=document['getElementById'](_0x42a94e(0x1a9));_0x353f09[_0x42a94e(0x15b)]='\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>';}document[_0x15ec24(0x186)](_0x15ec24(0x11d))['addEventListener'](_0x15ec24(0x197),hideModalViewDetails),document[_0x15ec24(0x186)](_0x15ec24(0x1c4))[_0x15ec24(0x108)](_0x15ec24(0x197),hideModalViewDetails);function verDetalle(_0x231466,_0x1f3699){const _0x140252=_0x15ec24;fetch(_0x140252(0x134)+_0x231466+_0x140252(0x135)+_0x1f3699)[_0x140252(0x1af)](_0x103036=>{const _0x5d8c77=_0x140252;if(!_0x103036['ok'])throw new Error(_0x5d8c77(0x17f)+_0x103036[_0x5d8c77(0x166)]+':\x20'+_0x103036[_0x5d8c77(0x115)]);return _0x103036[_0x5d8c77(0x1bc)]();})['then'](_0x32a952=>{const _0x37f464=_0x140252;if(_0x32a952['success']){const _0x3058ea=document[_0x37f464(0x186)](_0x37f464(0x1a9));if(_0x1f3699===_0x37f464(0x192)){let _0x37878c='';_0x32a952[_0x37f464(0x162)][_0x37f464(0x153)](_0x2c15ec=>{const _0x5d75d1=_0x37f464;_0x37878c+='\x0a<tr>\x0a<td>'+_0x2c15ec[_0x5d75d1(0x180)]+_0x5d75d1(0x185)+_0x2c15ec[_0x5d75d1(0x1c8)]+'</td>\x0a<td>'+_0x2c15ec[_0x5d75d1(0x145)]+_0x5d75d1(0x185)+_0x2c15ec['total']+_0x5d75d1(0x184);}),document[_0x37f464(0x186)](_0x37f464(0x18f))[_0x37f464(0x15b)]=_0x37878c;}else{if(_0x1f3699===_0x37f464(0x17e)){const _0x4e8c70=_0x37f464(0x171)+encodeURIComponent(_0x32a952[_0x37f464(0x175)]),_0x34add8=document[_0x37f464(0x10a)]('.modal-content');_0x3058ea[_0x37f464(0x15b)]=_0x37f464(0x144)+_0x4e8c70+_0x37f464(0x147),document[_0x37f464(0x186)](_0x37f464(0x11d))['addEventListener'](_0x37f464(0x197),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x32a952[_0x37f464(0x122)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0x140252(0x10c)](_0x158f83=>{const _0x57ab34=_0x140252;console[_0x57ab34(0x122)](_0x57ab34(0x155),_0x158f83),alert(_0x57ab34(0x1cc));});}function formatDateToYmdHis(_0x47ecc1){const _0x4662dc=_0x15ec24,_0x569184=_0x47ecc1['getFullYear'](),_0x12807c=String(_0x47ecc1['getMonth']()+0x1)[_0x4662dc(0x128)](0x2,'0'),_0x4adea4=String(_0x47ecc1[_0x4662dc(0x150)]())[_0x4662dc(0x128)](0x2,'0'),_0x5c2a37=String(_0x47ecc1[_0x4662dc(0x178)]())[_0x4662dc(0x128)](0x2,'0'),_0x39b007=String(_0x47ecc1[_0x4662dc(0x190)]())[_0x4662dc(0x128)](0x2,'0'),_0x43499d=String(_0x47ecc1[_0x4662dc(0x137)]())[_0x4662dc(0x128)](0x2,'0');return _0x569184+'-'+_0x12807c+'-'+_0x4adea4+'\x20'+_0x5c2a37+':'+_0x39b007+':'+_0x43499d;}function getDateRange(_0x1148a3){const _0x1072e9=_0x15ec24,_0x21e658=new Date();let _0x1d344a,_0x4ee503;switch(_0x1148a3){case _0x1072e9(0x14d):_0x1d344a=new Date(_0x21e658[_0x1072e9(0x159)](),_0x21e658[_0x1072e9(0x124)](),_0x21e658['getDate'](),0x0,0x0,0x0),_0x4ee503=new Date(_0x21e658[_0x1072e9(0x159)](),_0x21e658[_0x1072e9(0x124)](),_0x21e658[_0x1072e9(0x150)](),0x17,0x3b,0x3b);break;case _0x1072e9(0x130):const _0x2e32e1=_0x21e658['getDay'](),_0x46c264=new Date(_0x21e658);_0x46c264['setDate'](_0x21e658[_0x1072e9(0x150)]()-_0x2e32e1+(_0x2e32e1===0x0?-0x6:0x1));const _0xcf87c6=new Date(_0x46c264);_0xcf87c6[_0x1072e9(0x146)](_0x46c264[_0x1072e9(0x150)]()+0x6),_0x1d344a=new Date(_0x46c264['getFullYear'](),_0x46c264[_0x1072e9(0x124)](),_0x46c264[_0x1072e9(0x150)](),0x0,0x0,0x0),_0x4ee503=new Date(_0xcf87c6[_0x1072e9(0x159)](),_0xcf87c6[_0x1072e9(0x124)](),_0xcf87c6[_0x1072e9(0x150)](),0x17,0x3b,0x3b);break;case'month':_0x1d344a=new Date(_0x21e658[_0x1072e9(0x159)](),_0x21e658[_0x1072e9(0x124)](),0x1,0x0,0x0,0x0),_0x4ee503=new Date(_0x21e658[_0x1072e9(0x159)](),_0x21e658[_0x1072e9(0x124)]()+0x1,0x0,0x17,0x3b,0x3b);break;case _0x1072e9(0x17a):_0x1d344a=new Date(_0x21e658['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x4ee503=new Date(_0x21e658[_0x1072e9(0x159)](),0xb,0x1f,0x17,0x3b,0x3b);break;default:throw new Error(_0x1072e9(0x1bb));}return{'startDateFormatted':formatDateToYmdHis(_0x1d344a),'endDateFormatted':formatDateToYmdHis(_0x4ee503)};}function updateDateRange(_0x53491a){const _0x1db2f0=_0x15ec24,_0x35185c=document['getElementById']('date-range-label');if(_0x53491a==_0x1db2f0(0x174)){}else{const {startDateFormatted:_0x3a8e80,endDateFormatted:_0x356171}=getDateRange(_0x53491a);let _0x146d34=window[_0x1db2f0(0x12e)][_0x1db2f0(0x1be)]['split']('?')[0x0];_0x146d34+=_0x1db2f0(0x151)+encodeURIComponent(_0x3a8e80)+_0x1db2f0(0x143)+encodeURIComponent(_0x356171),window['location']['href']=_0x146d34;}}function _0x9a33(){const _0xf5a887=['change','data','onload','mousemove','incomes','status','date-range-options','valueDesc','\x20no\x20existe','#FF5900','Pendiente','setOption','{}.constructor(\x22return\x20this\x22)(\x20)','Evolución\x20de\x20Ventas','return\x20(function()\x20','\x2023:59:59','https://fasyb.com/api/pdf/proxy/?file=','reduce','setReceiptProducts','filtrar','pdf_url','bind','dispatchEvent','getHours','value','year','setTipoComprobante','\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','Total','pdf','Error\x20','producto','endDateFormatted','classList','quantitySold','</td>\x0a</tr>','</td>\x0a<td>','getElementById','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset_','Selecciona\x20ambas\x20fechas','5302360zjOwRT','2025-05-27','btn\x20btn-sm\x20btn-outline\x20ms-2','setBranchId','map','detalleTablaBody','getMinutes','setReceiptCurrency','detalle','Error\x20al\x20solicitar\x20reporte','1462985seRbbU','2268918xyVCBF','onclick','click','545067NhaBmj','length','width','detalleModal','setIdProducto','(((.+)+)+)+$','active','block','500px','setReceiptSeries','El\x20contenedor\x20con\x20id\x20\x22','.btn-logout','ceil','setTipAfeIgv','start','subtotal','center','dynamicContent','height','8oBSHUq','application/json','282nZNLhY','pageX','then','cliente','getInstance','concat','POST','className','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','setReceiptClientName','trace','67532sVYaJj','setReceiptType','setReceiptStatusColor','Invalid\x20range\x20type','json','btn\x20btn-sm\x20btn-outline\x20me-2','href','del\x20a&ntilde;o','dataset_raw','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','111lWbSSh','apply','modalOverlayViewDetails','exception','fecha','\x22\x20no\x20existe.','cantidad','./img/apiPOS.png','createElement','assign','Error\x20al\x20cargar\x20el\x20detalle.','estadoColor','contains','2025-05-25','application/json;\x20charset=utf-8','total',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','4115FuMJrU','prototype','addEventListener','de\x20la\x20semana','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20tu\x20dropdown\x20original\x20-->\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20','catch','shiftY','No\x20se\x20encontró\x20información\x20de\x20ingresos','tagName','moneda','none','setBranchDefault','name','stringify','statusText','2025-05-10','preventDefault','category','__proto__','setReceiptStatus','setReceiptDueDate','hide','closeModalViewDetails','apply-filter','2025-05-01','productName','setValorCantidad','error','.pagination-table','getMonth','appendChild','table','\x2000:00:00','padStart','Contenedor\x20','del\x20mes','btn-outline','impuestos','setMtoPrecioCostoUnitario','location','{b}:\x20{d}%','week','643461uGQnJp','&laquo;\x20Anterior','flatMap','https://fasyb.com/api/venta/view/?id=','&tipo=','find','getSeconds','del\x20d&iacute;a','axis','.table-wrapper','setReceiptDate','display','search','filter-start','init','add','console','setAuthToken','&ff=','\x0a<iframe\x20src=\x22','valor_unitario','setDate','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','Productos\x20más\x20vendidos','constructor','setApiEndPoint','estado','log','day','toString','style','getDate','?page=1&fi=','</td>\x0a\x20\x20\x20\x20\x20\x20<td>','forEach','scrollLeft','Error\x20al\x20cargar\x20el\x20detalle:','middle','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','getFullYear','setPrecioUnit','innerHTML','remove','offsetLeft','push','startDateFormatted','filter'];_0x9a33=function(){return _0xf5a887;};return _0x9a33();}function _0x8933(_0x27a793,_0x20a9b){const _0x44be1c=_0x9a33();return _0x8933=function(_0x3ae502,_0xd0ec9d){_0x3ae502=_0x3ae502-0x101;let _0x8c6059=_0x44be1c[_0x3ae502];return _0x8c6059;},_0x8933(_0x27a793,_0x20a9b);}document[_0x15ec24(0x108)]('DOMContentLoaded',()=>{const _0x9a0440=_0x15ec24,_0x2ac389=document[_0x9a0440(0x186)]('date-range-label'),_0x1ee8e2=document[_0x9a0440(0x186)](_0x9a0440(0x167)),_0x15edbe=getDateRange(_0x9a0440(0x14d)),_0x549501=getDateRange('week'),_0x4098a8=getDateRange('month'),_0x4f72d7=getDateRange('year'),_0x2abbed=[{'start':_0x15edbe[_0x9a0440(0x15f)],'end':_0x15edbe[_0x9a0440(0x181)],'label':_0x9a0440(0x138)},{'start':_0x549501['startDateFormatted'],'end':_0x549501[_0x9a0440(0x181)],'label':_0x9a0440(0x109)},{'start':_0x4098a8[_0x9a0440(0x15f)],'end':_0x4098a8[_0x9a0440(0x181)],'label':_0x9a0440(0x12a)},{'start':_0x4f72d7['startDateFormatted'],'end':_0x4f72d7['endDateFormatted'],'label':_0x9a0440(0x1bf)}];let _0x43cc74='';const _0x12fb78=_0x9a0440(0x116),_0x53025e=_0x9a0440(0x18b);for(const _0x534e58 of _0x2abbed){if(_0x534e58[_0x9a0440(0x1a6)]===_0x12fb78&&_0x534e58['end']===_0x53025e){_0x43cc74=_0x534e58['label']+'\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;}}_0x2ac389[_0x9a0440(0x15b)]=_0x43cc74||'<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>',_0x2ac389['addEventListener']('click',()=>{const _0x363821=_0x9a0440;_0x1ee8e2['style'][_0x363821(0x13c)]=_0x1ee8e2['style'][_0x363821(0x13c)]==='none'?'block':_0x363821(0x111);}),_0x1ee8e2['addEventListener'](_0x9a0440(0x197),_0x3617e6=>{const _0x7d93fd=_0x9a0440;if(_0x3617e6[_0x7d93fd(0x157)]&&_0x3617e6['target'][_0x7d93fd(0x10f)]==='LI'){const _0xa1fc31=_0x3617e6['target']['getAttribute']('data-value');updateDateRange(_0xa1fc31),_0x1ee8e2[_0x7d93fd(0x14f)]['display']='none';}}),document['addEventListener'](_0x9a0440(0x197),_0x47f0d4=>{const _0x2f53fa=_0x9a0440;!_0x2ac389['contains'](_0x47f0d4[_0x2f53fa(0x157)])&&!_0x1ee8e2[_0x2f53fa(0x101)](_0x47f0d4['target'])&&(_0x1ee8e2[_0x2f53fa(0x14f)]['display']=_0x2f53fa(0x111));});});const tableWrapper=document[_0x15ec24(0x10a)](_0x15ec24(0x13a));let isDragging=![],startX,scrollLeft;tableWrapper[_0x15ec24(0x108)]('mousedown',_0x4fbede=>{const _0x563461=_0x15ec24;isDragging=!![],startX=_0x4fbede[_0x563461(0x1ae)]-tableWrapper[_0x563461(0x15d)],scrollLeft=tableWrapper[_0x563461(0x154)];}),tableWrapper['addEventListener']('mouseleave',()=>{isDragging=![];}),tableWrapper[_0x15ec24(0x108)]('mouseup',()=>{isDragging=![];}),tableWrapper[_0x15ec24(0x108)](_0x15ec24(0x164),_0x12beb1=>{const _0xf3c107=_0x15ec24;if(!isDragging)return;_0x12beb1[_0xf3c107(0x117)]();const _0x514dd7=_0x12beb1[_0xf3c107(0x1ae)]-tableWrapper['offsetLeft'],_0x16175e=(_0x514dd7-startX)*0x2;tableWrapper[_0xf3c107(0x154)]=scrollLeft-_0x16175e;});async function consultIncomeReport(){const _0x5cb44c=_0x15ec24;showLoadingModal();const _0x54fd67={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x5cb44c(0x142)],'dateFrom':_0x5cb44c(0x11f),'dateTo':_0x5cb44c(0x102),'clientIds':[0xc,0x22],'operationTypes':[0x2,0x3,0x4]};try{const _0x1e29de=await fetch(company[0x0]['setApiEndPoint'],{'method':_0x5cb44c(0x1b3),'headers':{'Content-Type':_0x5cb44c(0x103)},'body':JSON[_0x5cb44c(0x114)](_0x54fd67)}),{success:_0x3a36ba,message:_0x345c06}=await _0x1e29de['json']();if(!_0x3a36ba||!Array['isArray'](_0x345c06['incomes'])){ntfShow(_0x5cb44c(0x10e)),console[_0x5cb44c(0x14c)](_0x345c06);return;}const _0x7e3dc2=_0x345c06['incomes'],_0x2da766=_0x7e3dc2[_0x5cb44c(0x172)]((_0x29db12,_0x39c1d0)=>{const _0x592cab=_0x5cb44c,_0x340bd2=_0x39c1d0[_0x592cab(0x191)];return!_0x29db12[_0x340bd2]&&(_0x29db12[_0x340bd2]={'subtotal':0x0,'impuestos':0x0,'total':0x0}),_0x39c1d0[_0x592cab(0x173)][_0x592cab(0x153)](_0x11a491=>{const _0x224ca5=_0x592cab,_0x360b67=_0x11a491['setValorCantidad']*_0x11a491[_0x224ca5(0x15a)],_0x524c4e=_0x11a491[_0x224ca5(0x121)]*(_0x11a491[_0x224ca5(0x1a5)]==='10'||_0x11a491[_0x224ca5(0x1a5)]==='18'?_0x11a491['setPrecioUnit']*0.18:0x0),_0x43f619=_0x11a491[_0x224ca5(0x12d)]*0x0;_0x29db12[_0x340bd2][_0x224ca5(0x1a7)]+=_0x360b67,_0x29db12[_0x340bd2]['impuestos']+=_0x524c4e+_0x43f619;}),_0x29db12;},{});Object['keys'](_0x2da766)[_0x5cb44c(0x153)](_0x207359=>{const _0x9f1f1c=_0x5cb44c;_0x2da766[_0x207359][_0x9f1f1c(0x104)]=_0x2da766[_0x207359][_0x9f1f1c(0x1a7)]+_0x2da766[_0x207359][_0x9f1f1c(0x12c)];}),arrayIncomes=_0x7e3dc2[_0x5cb44c(0x18e)](_0x50f908=>{const _0x9a46b1=_0x5cb44c,_0xb38858=_0x50f908[_0x9a46b1(0x173)]['reduce']((_0x469d9a,_0x2faf89)=>{const _0xc354fb=_0x9a46b1;return _0x469d9a+_0x2faf89[_0xc354fb(0x121)]*_0x2faf89['setPrecioUnit'];},0x0);return{'setTipoComprobante':_0x50f908[_0x9a46b1(0x1b9)],'serie':_0x50f908[_0x9a46b1(0x1a1)]+'-'+_0x50f908['setReceiptNumber'],'cliente':_0x50f908[_0x9a46b1(0x1b6)],'fecha':_0x50f908[_0x9a46b1(0x13b)]||_0x50f908[_0x9a46b1(0x1c6)],'vencimiento':_0x50f908[_0x9a46b1(0x11b)]||'','estado':_0x50f908[_0x9a46b1(0x11a)]||_0x9a46b1(0x16b),'estadoColor':_0x50f908[_0x9a46b1(0x1ba)]||_0x9a46b1(0x16a),'moneda':_0x50f908[_0x9a46b1(0x191)],'Total':_0xb38858};});const _0x1086fc=_0x7e3dc2[_0x5cb44c(0x133)](_0x330d20=>_0x330d20[_0x5cb44c(0x173)][_0x5cb44c(0x18e)](_0xe6f7a4=>({'productName':_0xe6f7a4[_0x5cb44c(0x19c)],'quantitySold':_0xe6f7a4['setValorCantidad']})));currentPage=0x1,renderTable(arrayIncomes,currentPage);const _0x358d76=[...new Set(arrayIncomes[_0x5cb44c(0x18e)](_0x2eecff=>_0x2eecff[_0x5cb44c(0x17b)]))];generateFilterTransformChart({'containerId':'salesChartContainer','rawData':arrayIncomes,'groupField':_0x5cb44c(0x17b),'groupValues':_0x358d76,'encode':{'x':_0x5cb44c(0x1c6),'y':_0x5cb44c(0x17d),'label':[_0x5cb44c(0x17b),_0x5cb44c(0x17d)],'itemName':_0x5cb44c(0x1c6),'tooltip':[_0x5cb44c(0x17d)]},'title':_0x5cb44c(0x16e),'width':'900px','height':_0x5cb44c(0x1a0)}),generatePieChart({'containerId':'productPieChart','data':_0x1086fc,'nameField':_0x5cb44c(0x120),'valueField':_0x5cb44c(0x183),'title':_0x5cb44c(0x148)});}catch(_0x1303a0){ntfShow(_0x5cb44c(0x193)),console[_0x5cb44c(0x122)](_0x1303a0);}finally{hideLoadingModal();}}function renderTable(_0x110a99,_0x374106=0x1){const _0x46150f=_0x15ec24,_0x403127=document['querySelector']('.table-report\x20tbody');_0x403127[_0x46150f(0x15b)]='';const _0x1efd3d=(_0x374106-0x1)*PER_PAGE,_0x36d741=_0x110a99['slice'](_0x1efd3d,_0x1efd3d+PER_PAGE);_0x36d741[_0x46150f(0x153)](_0x545f8b=>{const _0x5e9c7b=_0x46150f,_0x5f0269=document['createElement']('tr');_0x5f0269[_0x5e9c7b(0x15b)]=_0x5e9c7b(0x17c)+_0x545f8b[_0x5e9c7b(0x17b)]+_0x5e9c7b(0x187)+_0x545f8b[_0x5e9c7b(0x17b)]+_0x5e9c7b(0x158)+(_0x545f8b['serie']||'')+_0x5e9c7b(0x152)+(_0x545f8b[_0x5e9c7b(0x1b0)]||'')+_0x5e9c7b(0x1c1)+_0x545f8b['fecha']+_0x5e9c7b(0x1c1)+(_0x545f8b['vencimiento']||'')+_0x5e9c7b(0x1b5)+_0x545f8b['estadoColor']+';\x20color:'+_0x545f8b[_0x5e9c7b(0x1cd)]+_0x5e9c7b(0x105)+_0x545f8b[_0x5e9c7b(0x14b)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20right;\x22>'+_0x545f8b[_0x5e9c7b(0x110)]+'\x20'+_0x545f8b[_0x5e9c7b(0x17d)]['toFixed'](0x2)+_0x5e9c7b(0x10b),_0x403127[_0x5e9c7b(0x125)](_0x5f0269);}),renderPagination(_0x110a99[_0x46150f(0x199)],_0x374106);}function renderPagination(_0x349058,_0x4081be){const _0x1f3b57=_0x15ec24,_0x207063=document[_0x1f3b57(0x10a)](_0x1f3b57(0x123));_0x207063[_0x1f3b57(0x15b)]='';const _0x3c07e0=Math[_0x1f3b57(0x1a4)](_0x349058/PER_PAGE),_0x4f6c0e=document['createElement']('a');_0x4f6c0e[_0x1f3b57(0x1be)]='#',_0x4f6c0e[_0x1f3b57(0x1b4)]=_0x1f3b57(0x1bd),_0x4f6c0e[_0x1f3b57(0x15b)]=_0x1f3b57(0x132),_0x4f6c0e[_0x1f3b57(0x196)]=_0x4a9c8f=>{const _0x368110=_0x1f3b57;_0x4a9c8f[_0x368110(0x117)](),_0x4081be>0x1&&(currentPage--,renderTable(arrayIncomes,currentPage));},_0x207063[_0x1f3b57(0x125)](_0x4f6c0e);for(let _0xa41083=0x1;_0xa41083<=_0x3c07e0;_0xa41083++){const _0xaccee1=document[_0x1f3b57(0x1ca)]('a');_0xaccee1[_0x1f3b57(0x1be)]='#',_0xaccee1[_0x1f3b57(0x1b4)]='btn\x20btn-sm\x20'+(_0xa41083===_0x4081be?'btn-outline-primary':_0x1f3b57(0x12b)),_0xaccee1['textContent']=_0xa41083,_0xaccee1[_0x1f3b57(0x196)]=_0x3edbc0=>{const _0x7bcfd6=_0x1f3b57;_0x3edbc0[_0x7bcfd6(0x117)](),currentPage=_0xa41083,renderTable(arrayIncomes,currentPage);},_0x207063[_0x1f3b57(0x125)](_0xaccee1);}const _0x2970f3=document[_0x1f3b57(0x1ca)]('a');_0x2970f3[_0x1f3b57(0x1be)]='#',_0x2970f3[_0x1f3b57(0x1b4)]=_0x1f3b57(0x18c),_0x2970f3[_0x1f3b57(0x15b)]='Siguiente\x20&raquo;',_0x2970f3['onclick']=_0x4237c9=>{const _0xba5832=_0x1f3b57;_0x4237c9[_0xba5832(0x117)](),_0x4081be<_0x3c07e0&&(currentPage++,renderTable(arrayIncomes,currentPage));},_0x207063[_0x1f3b57(0x125)](_0x2970f3);}document['getElementById'](_0x15ec24(0x11e))[_0x15ec24(0x108)](_0x15ec24(0x197),async()=>{const _0x2e392e=_0x15ec24,_0xc24b22=document[_0x2e392e(0x186)](_0x2e392e(0x13e))[_0x2e392e(0x179)],_0x10b7b0=document[_0x2e392e(0x186)]('filter-end')[_0x2e392e(0x179)];if(!_0xc24b22||!_0x10b7b0)return alert(_0x2e392e(0x189));const _0x1b1fbc=document[_0x2e392e(0x186)]('filterModal'),_0x58f356=bootstrap['Modal'][_0x2e392e(0x1b1)](_0x1b1fbc);_0x58f356[_0x2e392e(0x11c)](),showLoadingModal();try{const _0x470401={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x2e392e(0x142)],'dateFrom':_0xc24b22+_0x2e392e(0x127),'dateTo':_0x10b7b0+_0x2e392e(0x170),'clientIds':[],'operationTypes':[]},_0x51eeb2=await fetch(company[0x0][_0x2e392e(0x14a)],{'method':_0x2e392e(0x1b3),'headers':{'Content-Type':_0x2e392e(0x1ac)},'body':JSON[_0x2e392e(0x114)](_0x470401)}),{success:_0x454444,message:_0x28f9eb}=await _0x51eeb2['json']();if(!_0x454444)throw new Error(_0x28f9eb);_0x28f9eb[_0x2e392e(0x165)],await consultIncomeReport();}catch(_0x597f05){ntfShow('Error\x20al\x20aplicar\x20filtro'),console['error'](_0x597f05);}finally{hideLoadingModal();}}),window[_0x15ec24(0x163)]=function(){const _0x4920bc=_0x15ec24,_0x51710f=0x3;loadLoginContent(_0x4920bc(0x1c9)),setUserNameGet(),setEventBtnAccess();const _0x26133c=document['querySelector'](_0x4920bc(0x1a3));_0x26133c&&_0x26133c[_0x4920bc(0x108)](_0x4920bc(0x197),function(){logoutReload(0x0,_0x51710f);}),document[_0x4920bc(0x186)](_0x4920bc(0x18d))[_0x4920bc(0x108)](_0x4920bc(0x161),async function(){const _0x2d5969=_0x4920bc,_0x2fdfa5=parseInt(this[_0x2d5969(0x179)]);company[0x0][_0x2d5969(0x112)]=_0x2fdfa5;const _0x1885ff=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1885ff),cargarAlmacenes(_0x2fdfa5),setTimeout(()=>{const _0x20140f=_0x2d5969;document[_0x20140f(0x186)]('setWarehouseId')[_0x20140f(0x177)](new Event(_0x20140f(0x161)));},0x64),cargarPisos(_0x2fdfa5),setTimeout(()=>{const _0x2cf9d5=_0x2d5969;document['getElementById']('setFloorId')[_0x2cf9d5(0x177)](new Event(_0x2cf9d5(0x161)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x51710f);};