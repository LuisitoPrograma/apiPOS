/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.3
*/

const _0x232445=_0xf7f0;(function(_0x131c3f,_0x2f59b8){const _0x285ab7=_0xf7f0,_0x44b174=_0x131c3f();while(!![]){try{const _0x37c579=-parseInt(_0x285ab7(0x280))/0x1*(-parseInt(_0x285ab7(0x21a))/0x2)+parseInt(_0x285ab7(0x234))/0x3*(parseInt(_0x285ab7(0x22e))/0x4)+-parseInt(_0x285ab7(0x297))/0x5+-parseInt(_0x285ab7(0x22d))/0x6*(-parseInt(_0x285ab7(0x1f4))/0x7)+-parseInt(_0x285ab7(0x243))/0x8+parseInt(_0x285ab7(0x225))/0x9*(-parseInt(_0x285ab7(0x23c))/0xa)+-parseInt(_0x285ab7(0x2a6))/0xb*(-parseInt(_0x285ab7(0x28c))/0xc);if(_0x37c579===_0x2f59b8)break;else _0x44b174['push'](_0x44b174['shift']());}catch(_0x44f17c){_0x44b174['push'](_0x44b174['shift']());}}}(_0x2b69,0x4b49b));const _0x39f998=(function(){let _0x3fd644=!![];return function(_0x1190ae,_0x2da7a1){const _0x4dc6ea=_0x3fd644?function(){const _0x42fd36=_0xf7f0;if(_0x2da7a1){const _0x3b68b5=_0x2da7a1[_0x42fd36(0x2c7)](_0x1190ae,arguments);return _0x2da7a1=null,_0x3b68b5;}}:function(){};return _0x3fd644=![],_0x4dc6ea;};}()),_0x46f00c=_0x39f998(this,function(){const _0x55a23a=_0xf7f0;return _0x46f00c[_0x55a23a(0x253)]()[_0x55a23a(0x219)](_0x55a23a(0x276))[_0x55a23a(0x253)]()[_0x55a23a(0x1ec)](_0x46f00c)[_0x55a23a(0x219)](_0x55a23a(0x276));});_0x46f00c();const _0x52718f=(function(){let _0x35b6d2=!![];return function(_0x57b7a6,_0x272874){const _0x135121=_0x35b6d2?function(){if(_0x272874){const _0xbcb2f1=_0x272874['apply'](_0x57b7a6,arguments);return _0x272874=null,_0xbcb2f1;}}:function(){};return _0x35b6d2=![],_0x135121;};}()),_0x46803c=_0x52718f(this,function(){const _0x808967=_0xf7f0;let _0x313563;try{const _0x8e4d18=Function(_0x808967(0x24a)+_0x808967(0x267)+');');_0x313563=_0x8e4d18();}catch(_0x5d7398){_0x313563=window;}const _0x3a53aa=_0x313563[_0x808967(0x26c)]=_0x313563[_0x808967(0x26c)]||{},_0x595938=[_0x808967(0x255),_0x808967(0x294),_0x808967(0x295),_0x808967(0x1fb),'exception','table',_0x808967(0x24d)];for(let _0x43f3e5=0x0;_0x43f3e5<_0x595938['length'];_0x43f3e5++){const _0x2d056a=_0x52718f[_0x808967(0x1ec)][_0x808967(0x232)][_0x808967(0x2a4)](_0x52718f),_0x8044da=_0x595938[_0x43f3e5],_0x21c442=_0x3a53aa[_0x8044da]||_0x2d056a;_0x2d056a['__proto__']=_0x52718f[_0x808967(0x2a4)](_0x52718f),_0x2d056a['toString']=_0x21c442[_0x808967(0x253)]['bind'](_0x21c442),_0x3a53aa[_0x8044da]=_0x2d056a;}});_0x46803c();function _0x2b69(){const _0x593fe0=['getElementById','del\x20d&iacute;a','error','Error\x20','classList','offsetLeft','btn\x20btn-sm\x20','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','filter-start','setPrecioUnit','setTipAfeIgv','POST','total','Error\x20al\x20cargar\x20el\x20detalle.','week','valueDesc','active','Modal','getMinutes','textContent','find','mouseup','btn\x20btn-sm\x20btn-outline\x20ms-2','split','status',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','assign','filter-end','2025-05-27','concat','btn-outline-primary','&laquo;\x20Anterior','search','446NfjgqH','Pendiente','\x0a<iframe\x20src=\x22','#FF5900','btn\x20btn-sm\x20btn-outline\x20me-2','pdf','2025-05-10','productName','dataset_','getHours','getMonth','360OKdjVg','data-value','name','setApiEndPoint','&ff=','estado','setReceiptStatus','startDateFormatted','563736qCqWZD','610020SpZYRW','El\x20contenedor\x20con\x20id\x20\x22','setReceiptType','setValorCantidad','prototype','shiftY','12DqzPfZ','mousedown','.table-report\x20tbody','\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','dataset_raw','quantitySold','onclick','scrollLeft','90070VBxkxS','contains','setAuthToken','filtrar','Error\x20al\x20solicitar\x20reporte','incomes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20right;\x22>','4499104AXfIYn','end','Selecciona\x20ambas\x20fechas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','map','500px','date-range-options','return\x20(function()\x20','?page=1&fi=','add','trace','style','then','appendChild','setTipoComprobante','init','toString','modalOverlayViewDetails','log','.table-wrapper','productPieChart','createElement','setReceiptCurrency','apply-filter','length','addEventListener','push','Invalid\x20range\x20type','change','getFullYear','setReceiptProducts','producto','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20tu\x20dropdown\x20original\x20-->\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20','catch','\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','serie','{}.constructor(\x22return\x20this\x22)(\x20)','Total','getSeconds','setDate','statusText','console','className','\x20no\x20existe','impuestos','subtotal','getAttribute','keys','querySelector','isArray','click','(((.+)+)+)+$','del\x20mes','valor_unitario','DOMContentLoaded','pdf_url','Contenedor\x20','del\x20a&ntilde;o','./img/apiPOS.png','location','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','687ggZhgX','\x22\x20no\x20existe.','de\x20la\x20semana','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','\x2000:00:00','filter','padStart','fecha','detalle','reduce','start','setReceiptSeries','276EXpsSx','</td>\x0a\x20\x20\x20\x20\x20\x20<td>','https://fasyb.com/api/venta/view/?id=','stringify','toFixed','setIdProducto','Productos\x20m치s\x20vendidos','endDateFormatted','warn','info','getDay','1996145MotwBR','href','year','2025-05-25','day','hide','setReceiptClientName','center','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','display','dispatchEvent','setWarehouseId','cantidad','bind','.btn-logout','369743OloEHx','setReceiptStatusColor','height','&tipo=','getDate','getInstance','Evoluci칩n\x20de\x20Ventas','setBranchDefault','tagName','</td>\x0a<td>',';\x20color:','vencimiento','none','date-range-label','mousemove','{b}:\x20{d}%','innerHTML','line','preventDefault','detalleModal','json','No\x20se\x20encontr칩\x20informaci칩n\x20de\x20ingresos','category','setFloorId','2025-05-01','ceil','dynamicContent','remove','Siguiente\x20&raquo;','data','application/json;\x20charset=utf-8','btn-outline','moneda','apply','month','setOption','constructor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','estadoColor','target','item','cliente','setReceiptDate','block','7KmjOqo','value','.pagination-table','forEach','pageX'];_0x2b69=function(){return _0x593fe0;};return _0x2b69();}let arrayIncomes;const PER_PAGE=0x14;let currentPage=0x1;function generateFilterTransformChart(_0x33c356){const _0x96afbb=_0xf7f0,{containerId:_0x56c412,rawData:_0x2704ae,groupField:_0x3fd09f,groupValues:_0x404396,additionalFilters:additionalFilters=[],seriesType:seriesType=_0x96afbb(0x2b7),encode:_0x43e7b3,title:title='',colors:_0x51d842,animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x96afbb(0x208),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x46aedc,height:_0x2542b4}=_0x33c356,_0x4a1fa7=document[_0x96afbb(0x1f9)](_0x56c412);if(!_0x4a1fa7){console[_0x96afbb(0x1fb)](_0x96afbb(0x22f)+_0x56c412+_0x96afbb(0x281));return;}if(_0x46aedc)_0x4a1fa7[_0x96afbb(0x24e)]['width']=_0x46aedc;if(_0x2542b4)_0x4a1fa7[_0x96afbb(0x24e)][_0x96afbb(0x2a8)]=_0x2542b4;const _0xec4625=echarts['init'](_0x4a1fa7),_0xac3060=[],_0x120c20=[];_0x404396[_0x96afbb(0x1f7)]((_0x24d2fa,_0x580c5d)=>{const _0x376e4a=_0x96afbb,_0xd47da5=_0x376e4a(0x222)+_0x24d2fa,_0x29d85e=additionalFilters[_0x376e4a(0x216)]([{'dimension':_0x3fd09f,'=':_0x24d2fa}]);_0xac3060[_0x376e4a(0x25d)]({'id':_0xd47da5,'fromDatasetId':_0x376e4a(0x238),'transform':{'type':_0x376e4a(0x285),'config':{'and':_0x29d85e}}}),_0x120c20[_0x376e4a(0x25d)]({'type':seriesType,'datasetId':_0xd47da5,'showSymbol':![],'name':_0x24d2fa,'endLabel':{'show':!![],'formatter':function(_0x295775){const _0x316860=_0x376e4a,_0x191e88=_0x295775['value']&&_0x295775[_0x316860(0x1f5)][_0x43e7b3['x']];return _0x24d2fa+(_0x191e88!==undefined&&_0x191e88!==null&&_0x191e88!==''?':\x20'+_0x191e88:'');}},'labelLayout':{'moveOverlap':_0x376e4a(0x233)},'emphasis':{'focus':'series'},'encode':_0x43e7b3,'lineStyle':{'color':_0x51d842&&_0x51d842[_0x580c5d]?_0x51d842[_0x580c5d]:undefined}});});const _0x4bb03a={'animationDuration':animationDuration,'dataset':[{'id':_0x96afbb(0x238),'source':_0x2704ae},..._0xac3060],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x96afbb(0x213)]({'type':_0x96afbb(0x2bc),'nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x96afbb(0x213)]({'name':_0x43e7b3['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x120c20};_0xec4625[_0x96afbb(0x1eb)](_0x4bb03a);}function generatePieChart({containerId:_0x47cd12,data:_0x3ff88d,nameField:_0x5b12cd,valueField:_0x303c34,title:title=''}){const _0x5f3020=_0xf7f0,_0x161247=document['getElementById'](_0x47cd12);if(!_0x161247)return console[_0x5f3020(0x1fb)](_0x5f3020(0x27b)+_0x47cd12+_0x5f3020(0x26e));const _0x25783d=echarts[_0x5f3020(0x252)](_0x161247),_0x43690f=_0x3ff88d[_0x5f3020(0x289)]((_0x172b26,_0x5e4310)=>{const _0x2c2fe0=_0x5f3020,_0x3aeef3=_0x5e4310[_0x5b12cd],_0x8c5162=_0x5e4310[_0x303c34];let _0x4e84be=_0x172b26[_0x2c2fe0(0x20d)](_0x739d2e=>_0x739d2e[_0x2c2fe0(0x227)]===_0x3aeef3);return!_0x4e84be&&(_0x4e84be={'name':_0x3aeef3,'value':0x0},_0x172b26[_0x2c2fe0(0x25d)](_0x4e84be)),_0x4e84be[_0x2c2fe0(0x1f5)]+=_0x8c5162,_0x172b26;},[]),_0x4f1d11={'title':{'text':title,'left':_0x5f3020(0x29e)},'tooltip':{'trigger':_0x5f3020(0x1f0)},'series':[{'type':'pie','radius':'50%','data':_0x43690f,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x5f3020(0x2b5)}}]};_0x25783d[_0x5f3020(0x1eb)](_0x4f1d11);}function showModalViewDetails(){const _0x29fd8a=_0xf7f0,_0x1aa4b2=document[_0x29fd8a(0x1f9)](_0x29fd8a(0x2b9)),_0x684f6a=document['getElementById'](_0x29fd8a(0x254));_0x1aa4b2[_0x29fd8a(0x1fd)][_0x29fd8a(0x24c)](_0x29fd8a(0x209)),_0x684f6a[_0x29fd8a(0x24e)][_0x29fd8a(0x2a0)]=_0x29fd8a(0x1f3);}function hideModalViewDetails(){const _0x5bd5a1=_0xf7f0,_0x80cde6=document[_0x5bd5a1(0x1f9)]('detalleModal'),_0x548d0f=document['getElementById'](_0x5bd5a1(0x254));_0x80cde6[_0x5bd5a1(0x1fd)][_0x5bd5a1(0x2c1)](_0x5bd5a1(0x209)),_0x548d0f[_0x5bd5a1(0x24e)][_0x5bd5a1(0x2a0)]='none';const _0x135417=document['getElementById']('dynamicContent');_0x135417[_0x5bd5a1(0x2b6)]=_0x5bd5a1(0x27f);}document['getElementById']('closeModalViewDetails')[_0x232445(0x25c)](_0x232445(0x275),hideModalViewDetails),document['getElementById'](_0x232445(0x254))['addEventListener'](_0x232445(0x275),hideModalViewDetails);function verDetalle(_0x495624,_0x32673e){const _0x6a8048=_0x232445;fetch(_0x6a8048(0x28e)+_0x495624+_0x6a8048(0x2a9)+_0x32673e)[_0x6a8048(0x24f)](_0x30fdfc=>{const _0x78ccc4=_0x6a8048;if(!_0x30fdfc['ok'])throw new Error(_0x78ccc4(0x1fc)+_0x30fdfc[_0x78ccc4(0x211)]+':\x20'+_0x30fdfc[_0x78ccc4(0x26b)]);return _0x30fdfc[_0x78ccc4(0x2ba)]();})['then'](_0x5efbcf=>{const _0x14fd15=_0x6a8048;if(_0x5efbcf['success']){const _0xc4e428=document[_0x14fd15(0x1f9)](_0x14fd15(0x2c0));if(_0x32673e===_0x14fd15(0x288)){let _0x401d76='';_0x5efbcf[_0x14fd15(0x2c3)][_0x14fd15(0x1f7)](_0x366a09=>{const _0x4acb87=_0x14fd15;_0x401d76+='\x0a<tr>\x0a<td>'+_0x366a09[_0x4acb87(0x262)]+'</td>\x0a<td>'+_0x366a09[_0x4acb87(0x2a3)]+_0x4acb87(0x2af)+_0x366a09[_0x4acb87(0x278)]+_0x4acb87(0x2af)+_0x366a09[_0x4acb87(0x205)]+'</td>\x0a</tr>';}),document[_0x14fd15(0x1f9)]('detalleTablaBody')[_0x14fd15(0x2b6)]=_0x401d76;}else{if(_0x32673e===_0x14fd15(0x21f)){const _0x3f7786='https://fasyb.com/api/pdf/proxy/?file='+encodeURIComponent(_0x5efbcf[_0x14fd15(0x27a)]),_0x19e433=document[_0x14fd15(0x273)]('.modal-content');_0xc4e428['innerHTML']=_0x14fd15(0x21c)+_0x3f7786+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x14fd15(0x1f9)]('closeModalViewDetails')[_0x14fd15(0x25c)](_0x14fd15(0x275),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x5efbcf[_0x14fd15(0x1fb)]||_0x14fd15(0x29f));})[_0x6a8048(0x264)](_0x568932=>{const _0x59a382=_0x6a8048;console['error']('Error\x20al\x20cargar\x20el\x20detalle:',_0x568932),alert(_0x59a382(0x206));});}function formatDateToYmdHis(_0x21c3c5){const _0x3c0fb1=_0x232445,_0x573b24=_0x21c3c5[_0x3c0fb1(0x260)](),_0xdd8c35=String(_0x21c3c5['getMonth']()+0x1)[_0x3c0fb1(0x286)](0x2,'0'),_0x42bb44=String(_0x21c3c5[_0x3c0fb1(0x2aa)]())[_0x3c0fb1(0x286)](0x2,'0'),_0xd7644a=String(_0x21c3c5[_0x3c0fb1(0x223)]())[_0x3c0fb1(0x286)](0x2,'0'),_0xb0e6ce=String(_0x21c3c5[_0x3c0fb1(0x20b)]())[_0x3c0fb1(0x286)](0x2,'0'),_0xeac5ec=String(_0x21c3c5[_0x3c0fb1(0x269)]())[_0x3c0fb1(0x286)](0x2,'0');return _0x573b24+'-'+_0xdd8c35+'-'+_0x42bb44+'\x20'+_0xd7644a+':'+_0xb0e6ce+':'+_0xeac5ec;}function getDateRange(_0x4e1667){const _0x22f4e8=_0x232445,_0x48ad1b=new Date();let _0x49692a,_0x1690c0;switch(_0x4e1667){case _0x22f4e8(0x29b):_0x49692a=new Date(_0x48ad1b['getFullYear'](),_0x48ad1b['getMonth'](),_0x48ad1b['getDate'](),0x0,0x0,0x0),_0x1690c0=new Date(_0x48ad1b['getFullYear'](),_0x48ad1b[_0x22f4e8(0x224)](),_0x48ad1b[_0x22f4e8(0x2aa)](),0x17,0x3b,0x3b);break;case _0x22f4e8(0x207):const _0x195644=_0x48ad1b[_0x22f4e8(0x296)](),_0x57bd46=new Date(_0x48ad1b);_0x57bd46[_0x22f4e8(0x26a)](_0x48ad1b[_0x22f4e8(0x2aa)]()-_0x195644+(_0x195644===0x0?-0x6:0x1));const _0x4b55eb=new Date(_0x57bd46);_0x4b55eb[_0x22f4e8(0x26a)](_0x57bd46[_0x22f4e8(0x2aa)]()+0x6),_0x49692a=new Date(_0x57bd46[_0x22f4e8(0x260)](),_0x57bd46[_0x22f4e8(0x224)](),_0x57bd46[_0x22f4e8(0x2aa)](),0x0,0x0,0x0),_0x1690c0=new Date(_0x4b55eb[_0x22f4e8(0x260)](),_0x4b55eb[_0x22f4e8(0x224)](),_0x4b55eb[_0x22f4e8(0x2aa)](),0x17,0x3b,0x3b);break;case _0x22f4e8(0x1ea):_0x49692a=new Date(_0x48ad1b[_0x22f4e8(0x260)](),_0x48ad1b['getMonth'](),0x1,0x0,0x0,0x0),_0x1690c0=new Date(_0x48ad1b[_0x22f4e8(0x260)](),_0x48ad1b[_0x22f4e8(0x224)]()+0x1,0x0,0x17,0x3b,0x3b);break;case _0x22f4e8(0x299):_0x49692a=new Date(_0x48ad1b[_0x22f4e8(0x260)](),0x0,0x1,0x0,0x0,0x0),_0x1690c0=new Date(_0x48ad1b[_0x22f4e8(0x260)](),0xb,0x1f,0x17,0x3b,0x3b);break;default:throw new Error(_0x22f4e8(0x25e));}return{'startDateFormatted':formatDateToYmdHis(_0x49692a),'endDateFormatted':formatDateToYmdHis(_0x1690c0)};}function updateDateRange(_0x187b0d){const _0xe344fe=_0x232445,_0xe8c551=document[_0xe344fe(0x1f9)](_0xe344fe(0x2b3));if(_0x187b0d==_0xe344fe(0x23f)){}else{const {startDateFormatted:_0x9b8036,endDateFormatted:_0x579f1a}=getDateRange(_0x187b0d);let _0x179b09=window[_0xe344fe(0x27e)][_0xe344fe(0x298)][_0xe344fe(0x210)]('?')[0x0];_0x179b09+=_0xe344fe(0x24b)+encodeURIComponent(_0x9b8036)+_0xe344fe(0x229)+encodeURIComponent(_0x579f1a),window[_0xe344fe(0x27e)][_0xe344fe(0x298)]=_0x179b09;}}document[_0x232445(0x25c)](_0x232445(0x279),()=>{const _0x4f4250=_0x232445,_0x8bcf5b=document[_0x4f4250(0x1f9)](_0x4f4250(0x2b3)),_0x55c79b=document[_0x4f4250(0x1f9)](_0x4f4250(0x249)),_0x16da18=getDateRange(_0x4f4250(0x29b)),_0x2a08b5=getDateRange(_0x4f4250(0x207)),_0x259eb8=getDateRange(_0x4f4250(0x1ea)),_0x10ec9a=getDateRange(_0x4f4250(0x299)),_0x4d6642=[{'start':_0x16da18[_0x4f4250(0x22c)],'end':_0x16da18['endDateFormatted'],'label':_0x4f4250(0x1fa)},{'start':_0x2a08b5[_0x4f4250(0x22c)],'end':_0x2a08b5[_0x4f4250(0x293)],'label':_0x4f4250(0x282)},{'start':_0x259eb8[_0x4f4250(0x22c)],'end':_0x259eb8[_0x4f4250(0x293)],'label':_0x4f4250(0x277)},{'start':_0x10ec9a[_0x4f4250(0x22c)],'end':_0x10ec9a[_0x4f4250(0x293)],'label':_0x4f4250(0x27c)}];let _0x9afbdc='';const _0x462596=_0x4f4250(0x220),_0xf644d5=_0x4f4250(0x215);for(const _0x404105 of _0x4d6642){if(_0x404105[_0x4f4250(0x28a)]===_0x462596&&_0x404105[_0x4f4250(0x244)]===_0xf644d5){_0x9afbdc=_0x404105['label']+_0x4f4250(0x237);break;}}_0x8bcf5b[_0x4f4250(0x2b6)]=_0x9afbdc||'<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>',_0x8bcf5b['addEventListener'](_0x4f4250(0x275),()=>{const _0x5c8367=_0x4f4250;_0x55c79b[_0x5c8367(0x24e)][_0x5c8367(0x2a0)]=_0x55c79b['style'][_0x5c8367(0x2a0)]==='none'?'block':'none';}),_0x55c79b[_0x4f4250(0x25c)](_0x4f4250(0x275),_0xb65b55=>{const _0x1fcaf4=_0x4f4250;if(_0xb65b55[_0x1fcaf4(0x1ef)]&&_0xb65b55[_0x1fcaf4(0x1ef)][_0x1fcaf4(0x2ae)]==='LI'){const _0x5e029d=_0xb65b55[_0x1fcaf4(0x1ef)][_0x1fcaf4(0x271)](_0x1fcaf4(0x226));updateDateRange(_0x5e029d),_0x55c79b['style']['display']=_0x1fcaf4(0x2b2);}}),document[_0x4f4250(0x25c)]('click',_0x6a0f3e=>{const _0x3b6d96=_0x4f4250;!_0x8bcf5b[_0x3b6d96(0x23d)](_0x6a0f3e[_0x3b6d96(0x1ef)])&&!_0x55c79b['contains'](_0x6a0f3e['target'])&&(_0x55c79b[_0x3b6d96(0x24e)]['display']='none');});});function _0xf7f0(_0x47979a,_0x26d4b8){const _0x2d95e6=_0x2b69();return _0xf7f0=function(_0x46803c,_0x52718f){_0x46803c=_0x46803c-0x1ea;let _0x9998e6=_0x2d95e6[_0x46803c];return _0x9998e6;},_0xf7f0(_0x47979a,_0x26d4b8);}const tableWrapper=document[_0x232445(0x273)](_0x232445(0x256));let isDragging=![],startX,scrollLeft;tableWrapper['addEventListener'](_0x232445(0x235),_0x5b02a1=>{const _0x165cbe=_0x232445;isDragging=!![],startX=_0x5b02a1[_0x165cbe(0x1f8)]-tableWrapper[_0x165cbe(0x1fe)],scrollLeft=tableWrapper[_0x165cbe(0x23b)];}),tableWrapper['addEventListener']('mouseleave',()=>{isDragging=![];}),tableWrapper[_0x232445(0x25c)](_0x232445(0x20e),()=>{isDragging=![];}),tableWrapper[_0x232445(0x25c)](_0x232445(0x2b4),_0x266e89=>{const _0x40f4fe=_0x232445;if(!isDragging)return;_0x266e89[_0x40f4fe(0x2b8)]();const _0x584ec9=_0x266e89[_0x40f4fe(0x1f8)]-tableWrapper['offsetLeft'],_0x47c2f3=(_0x584ec9-startX)*0x2;tableWrapper['scrollLeft']=scrollLeft-_0x47c2f3;});async function consultIncomeReport(){const _0x5051be=_0x232445;showLoadingModal();const _0x189b25={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x5051be(0x23e)],'dateFrom':_0x5051be(0x2be),'dateTo':_0x5051be(0x29a),'clientIds':[0xc,0x22],'operationTypes':[0x2,0x3,0x4]};try{const _0x2abf37=await fetch(company[0x0][_0x5051be(0x228)],{'method':_0x5051be(0x204),'headers':{'Content-Type':_0x5051be(0x2c4)},'body':JSON[_0x5051be(0x28f)](_0x189b25)}),{success:_0x38ae12,message:_0x14f597}=await _0x2abf37[_0x5051be(0x2ba)]();if(!_0x38ae12||!Array[_0x5051be(0x274)](_0x14f597[_0x5051be(0x241)])){ntfShow(_0x5051be(0x2bb)),console['log'](_0x14f597);return;}const _0x269e6f=_0x14f597['incomes'],_0x55f64a=_0x269e6f[_0x5051be(0x289)]((_0x29d57f,_0x4505a5)=>{const _0x10fecf=_0x5051be,_0x55f5a8=_0x4505a5[_0x10fecf(0x259)];return!_0x29d57f[_0x55f5a8]&&(_0x29d57f[_0x55f5a8]={'subtotal':0x0,'impuestos':0x0,'total':0x0}),_0x4505a5['setReceiptProducts']['forEach'](_0x5c1cf5=>{const _0x1e6e5c=_0x10fecf,_0x142bd2=_0x5c1cf5[_0x1e6e5c(0x231)]*_0x5c1cf5['setPrecioUnit'],_0x1c620a=_0x5c1cf5[_0x1e6e5c(0x231)]*(_0x5c1cf5[_0x1e6e5c(0x203)]==='10'||_0x5c1cf5[_0x1e6e5c(0x203)]==='18'?_0x5c1cf5['setPrecioUnit']*0.18:0x0),_0x17a1c6=_0x5c1cf5['setMtoPrecioCostoUnitario']*0x0;_0x29d57f[_0x55f5a8][_0x1e6e5c(0x270)]+=_0x142bd2,_0x29d57f[_0x55f5a8][_0x1e6e5c(0x26f)]+=_0x1c620a+_0x17a1c6;}),_0x29d57f;},{});Object[_0x5051be(0x272)](_0x55f64a)['forEach'](_0x4a1324=>{const _0x324afa=_0x5051be;_0x55f64a[_0x4a1324][_0x324afa(0x205)]=_0x55f64a[_0x4a1324][_0x324afa(0x270)]+_0x55f64a[_0x4a1324][_0x324afa(0x26f)];}),arrayIncomes=_0x269e6f[_0x5051be(0x247)](_0x3b7585=>{const _0xe646da=_0x5051be,_0x31115e=_0x3b7585[_0xe646da(0x261)]['reduce']((_0x533381,_0x3e2b28)=>{const _0x2fb14e=_0xe646da;return _0x533381+_0x3e2b28[_0x2fb14e(0x231)]*_0x3e2b28[_0x2fb14e(0x202)];},0x0);return{'setTipoComprobante':_0x3b7585[_0xe646da(0x230)],'serie':_0x3b7585[_0xe646da(0x28b)]+'-'+_0x3b7585['setReceiptNumber'],'cliente':_0x3b7585[_0xe646da(0x29d)],'fecha':_0x3b7585[_0xe646da(0x1f2)]||_0x3b7585[_0xe646da(0x287)],'vencimiento':_0x3b7585['setReceiptDueDate']||'','estado':_0x3b7585[_0xe646da(0x22b)]||_0xe646da(0x21b),'estadoColor':_0x3b7585[_0xe646da(0x2a7)]||_0xe646da(0x21d),'moneda':_0x3b7585[_0xe646da(0x259)],'Total':_0x31115e};});const _0x3b4afa=_0x269e6f['flatMap'](_0x542559=>_0x542559['setReceiptProducts'][_0x5051be(0x247)](_0x5a8d5b=>({'productName':_0x5a8d5b[_0x5051be(0x291)],'quantitySold':_0x5a8d5b[_0x5051be(0x231)]})));currentPage=0x1,renderTable(arrayIncomes,currentPage);const _0x3387c3=[...new Set(arrayIncomes[_0x5051be(0x247)](_0x2f4151=>_0x2f4151[_0x5051be(0x251)]))];generateFilterTransformChart({'containerId':'salesChartContainer','rawData':arrayIncomes,'groupField':_0x5051be(0x251),'groupValues':_0x3387c3,'encode':{'x':_0x5051be(0x287),'y':_0x5051be(0x268),'label':[_0x5051be(0x251),_0x5051be(0x268)],'itemName':'fecha','tooltip':[_0x5051be(0x268)]},'title':_0x5051be(0x2ac),'width':'900px','height':_0x5051be(0x248)}),generatePieChart({'containerId':_0x5051be(0x257),'data':_0x3b4afa,'nameField':_0x5051be(0x221),'valueField':_0x5051be(0x239),'title':_0x5051be(0x292)});}catch(_0x99c6d6){ntfShow(_0x5051be(0x240)),console[_0x5051be(0x1fb)](_0x99c6d6);}finally{hideLoadingModal();}}function renderTable(_0x17bfb2,_0x3ef19a=0x1){const _0x22d0fd=_0x232445,_0x30d9d8=document['querySelector'](_0x22d0fd(0x236));_0x30d9d8['innerHTML']='';const _0x1cd918=(_0x3ef19a-0x1)*PER_PAGE,_0x24a9ca=_0x17bfb2['slice'](_0x1cd918,_0x1cd918+PER_PAGE);_0x24a9ca[_0x22d0fd(0x1f7)](_0xd68fd6=>{const _0x270491=_0x22d0fd,_0x22df1d=document[_0x270491(0x258)]('tr');_0x22df1d['innerHTML']=_0x270491(0x265)+_0xd68fd6[_0x270491(0x251)]+_0x270491(0x1ed)+_0xd68fd6[_0x270491(0x251)]+_0x270491(0x246)+(_0xd68fd6[_0x270491(0x266)]||'')+_0x270491(0x28d)+(_0xd68fd6[_0x270491(0x1f1)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>'+_0xd68fd6['fecha']+_0x270491(0x200)+(_0xd68fd6[_0x270491(0x2b1)]||'')+_0x270491(0x283)+_0xd68fd6[_0x270491(0x1ee)]+_0x270491(0x2b0)+_0xd68fd6[_0x270491(0x1ee)]+_0x270491(0x212)+_0xd68fd6[_0x270491(0x22a)]+_0x270491(0x242)+_0xd68fd6[_0x270491(0x2c6)]+'\x20'+_0xd68fd6[_0x270491(0x268)][_0x270491(0x290)](0x2)+_0x270491(0x263),_0x30d9d8[_0x270491(0x250)](_0x22df1d);}),renderPagination(_0x17bfb2[_0x22d0fd(0x25b)],_0x3ef19a);}function renderPagination(_0x50a7eb,_0x20d4cb){const _0x47308d=_0x232445,_0x13533e=document[_0x47308d(0x273)](_0x47308d(0x1f6));_0x13533e[_0x47308d(0x2b6)]='';const _0x52fbf5=Math[_0x47308d(0x2bf)](_0x50a7eb/PER_PAGE),_0x10ad85=document['createElement']('a');_0x10ad85['href']='#',_0x10ad85[_0x47308d(0x26d)]=_0x47308d(0x21e),_0x10ad85[_0x47308d(0x2b6)]=_0x47308d(0x218),_0x10ad85['onclick']=_0x390f88=>{const _0x338434=_0x47308d;_0x390f88[_0x338434(0x2b8)](),_0x20d4cb>0x1&&(currentPage--,renderTable(arrayIncomes,currentPage));},_0x13533e[_0x47308d(0x250)](_0x10ad85);for(let _0x483897=0x1;_0x483897<=_0x52fbf5;_0x483897++){const _0x97508b=document[_0x47308d(0x258)]('a');_0x97508b[_0x47308d(0x298)]='#',_0x97508b[_0x47308d(0x26d)]=_0x47308d(0x1ff)+(_0x483897===_0x20d4cb?_0x47308d(0x217):_0x47308d(0x2c5)),_0x97508b[_0x47308d(0x20c)]=_0x483897,_0x97508b[_0x47308d(0x23a)]=_0x2acaf3=>{const _0x5a5f6c=_0x47308d;_0x2acaf3[_0x5a5f6c(0x2b8)](),currentPage=_0x483897,renderTable(arrayIncomes,currentPage);},_0x13533e[_0x47308d(0x250)](_0x97508b);}const _0x1543ca=document[_0x47308d(0x258)]('a');_0x1543ca['href']='#',_0x1543ca[_0x47308d(0x26d)]=_0x47308d(0x20f),_0x1543ca[_0x47308d(0x2b6)]=_0x47308d(0x2c2),_0x1543ca[_0x47308d(0x23a)]=_0x112027=>{const _0xca913d=_0x47308d;_0x112027[_0xca913d(0x2b8)](),_0x20d4cb<_0x52fbf5&&(currentPage++,renderTable(arrayIncomes,currentPage));},_0x13533e[_0x47308d(0x250)](_0x1543ca);}document[_0x232445(0x1f9)](_0x232445(0x25a))[_0x232445(0x25c)](_0x232445(0x275),async()=>{const _0x144fa2=_0x232445,_0x48b4f6=document[_0x144fa2(0x1f9)](_0x144fa2(0x201))[_0x144fa2(0x1f5)],_0x15537b=document['getElementById'](_0x144fa2(0x214))[_0x144fa2(0x1f5)];if(!_0x48b4f6||!_0x15537b)return alert(_0x144fa2(0x245));const _0x2180a1=document[_0x144fa2(0x1f9)]('filterModal'),_0x49aaca=bootstrap[_0x144fa2(0x20a)][_0x144fa2(0x2ab)](_0x2180a1);_0x49aaca[_0x144fa2(0x29c)](),showLoadingModal();try{const _0x33fe5c={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x144fa2(0x23e)],'dateFrom':_0x48b4f6+_0x144fa2(0x284),'dateTo':_0x15537b+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0xf2ad02=await fetch(company[0x0][_0x144fa2(0x228)],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x144fa2(0x28f)](_0x33fe5c)}),{success:_0x3c6d04,message:_0x2d14ac}=await _0xf2ad02[_0x144fa2(0x2ba)]();if(!_0x3c6d04)throw new Error(_0x2d14ac);_0x2d14ac[_0x144fa2(0x241)],await consultIncomeReport();}catch(_0x46277f){ntfShow('Error\x20al\x20aplicar\x20filtro'),console[_0x144fa2(0x1fb)](_0x46277f);}finally{hideLoadingModal();}}),window['onload']=function(){const _0x2e7557=_0x232445,_0xda228c=0x3;loadLoginContent(_0x2e7557(0x27d)),setUserNameGet(),setEventBtnAccess();const _0x5e44ea=document[_0x2e7557(0x273)](_0x2e7557(0x2a5));_0x5e44ea&&_0x5e44ea[_0x2e7557(0x25c)]('click',function(){logoutReload(0x0,_0xda228c);}),document['getElementById']('setBranchId')[_0x2e7557(0x25c)](_0x2e7557(0x25f),async function(){const _0x32219e=_0x2e7557,_0x557620=parseInt(this[_0x32219e(0x1f5)]);company[0x0][_0x32219e(0x2ad)]=_0x557620;const _0x554a3e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x554a3e),cargarAlmacenes(_0x557620),setTimeout(()=>{const _0x421e15=_0x32219e;document[_0x421e15(0x1f9)](_0x421e15(0x2a2))[_0x421e15(0x2a1)](new Event(_0x421e15(0x25f)));},0x64),cargarPisos(_0x557620),setTimeout(()=>{const _0x2b4378=_0x32219e;document['getElementById'](_0x2b4378(0x2bd))[_0x2b4378(0x2a1)](new Event(_0x2b4378(0x25f)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0xda228c);};