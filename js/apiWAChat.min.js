/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.6
*/

const _0x5c787b=_0x3dca;function _0x3dca(_0xb59869,_0x3e86c1){const _0x4c1757=_0x3287();return _0x3dca=function(_0x46056b,_0x40459a){_0x46056b=_0x46056b-0x10f;let _0x42577b=_0x4c1757[_0x46056b];return _0x42577b;},_0x3dca(_0xb59869,_0x3e86c1);}(function(_0x327ebb,_0x33e7ae){const _0x3a94ec=_0x3dca,_0x2587ae=_0x327ebb();while(!![]){try{const _0x558e36=parseInt(_0x3a94ec(0x13e))/0x1*(parseInt(_0x3a94ec(0x152))/0x2)+parseInt(_0x3a94ec(0x144))/0x3*(-parseInt(_0x3a94ec(0x113))/0x4)+-parseInt(_0x3a94ec(0x134))/0x5+parseInt(_0x3a94ec(0x122))/0x6*(-parseInt(_0x3a94ec(0x111))/0x7)+-parseInt(_0x3a94ec(0x143))/0x8*(-parseInt(_0x3a94ec(0x149))/0x9)+parseInt(_0x3a94ec(0x141))/0xa*(-parseInt(_0x3a94ec(0x13d))/0xb)+-parseInt(_0x3a94ec(0x128))/0xc*(-parseInt(_0x3a94ec(0x13a))/0xd);if(_0x558e36===_0x33e7ae)break;else _0x2587ae['push'](_0x2587ae['shift']());}catch(_0x5b0cf0){_0x2587ae['push'](_0x2587ae['shift']());}}}(_0x3287,0x27c5d));const selectCredentialsApiWAChat=document['getElementById'](_0x5c787b(0x124)),loginPanel=document[_0x5c787b(0x119)](_0x5c787b(0x10f)),chatPanel=document['getElementById'](_0x5c787b(0x114)),qrImg=document['getElementById']('qr-img'),overlay=document['getElementById'](_0x5c787b(0x136));let qrTimeout;function _0x3287(){const _0xd11a4b=['addEventListener','379632nxmUdR','160635YdPkeR','log','setWarehouseId','Credenciales\x20no\x20encontradas','querySelector','36aIIltw','display','BranchChangeComplete','table','error','search','./img/apiPOS.png','visibility','{}.constructor(\x22return\x20this\x22)(\x20)','525106PhVafh','bind','loginPanel','toLowerCase','736519hEOyxm','return\x20(function()\x20','20wLHQkx','chatPanel','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','setFloorId','constructor','https://','getElementById','includes','apply','EnvironmentChangeComplete','__proto__','/qr','setBranchDefault','json','value','18IIFkTr','toString','setCredentialsApiWAChat','WarehouseChangeComplete','none','setCredentialsApiWAChatPort','324YHjKqe','.btn-logout','init','flex','warn','change','src','click','status','/wa/','setBranchId','dispatchEvent','1338630jyPixM','(((.+)+)+)+$','qr-overlay','setCredentialsApiWAChatStatus','prototype','onload','275457qQHMgn','setAuthToken','info','121SoShTc','1iVHQXp','style','reload','9510yGgMrq'];_0x3287=function(){return _0xd11a4b;};return _0x3287();}const validSeconds=0xa;function showLogin(){const _0x1e5885=_0x5c787b;loginPanel[_0x1e5885(0x13f)]['display']=_0x1e5885(0x12b),chatPanel[_0x1e5885(0x13f)][_0x1e5885(0x150)]='hidden';}function showChat(){const _0x3dd88d=_0x5c787b;loginPanel[_0x3dd88d(0x13f)][_0x3dd88d(0x14a)]=_0x3dd88d(0x126),chatPanel[_0x3dd88d(0x13f)]['visibility']='visible';}async function initQRApiWAChat(_0x4c70ad,_0x627005){const _0x4b24f8=_0x5c787b,_0x3c1b59=(function(){let _0x199870=!![];return function(_0x13057e,_0x57d559){const _0x4a8f78=_0x199870?function(){const _0x4fb016=_0x3dca;if(_0x57d559){const _0x54b640=_0x57d559[_0x4fb016(0x11b)](_0x13057e,arguments);return _0x57d559=null,_0x54b640;}}:function(){};return _0x199870=![],_0x4a8f78;};}()),_0x32f092=_0x3c1b59(this,function(){const _0x140238=_0x3dca;return _0x32f092['toString']()['search'](_0x140238(0x135))[_0x140238(0x123)]()[_0x140238(0x117)](_0x32f092)[_0x140238(0x14e)](_0x140238(0x135));});_0x32f092();const _0x196ea4=(function(){let _0x205d32=!![];return function(_0x2a2f33,_0x97718c){const _0x4eaee4=_0x205d32?function(){const _0x1f7e26=_0x3dca;if(_0x97718c){const _0x84c333=_0x97718c[_0x1f7e26(0x11b)](_0x2a2f33,arguments);return _0x97718c=null,_0x84c333;}}:function(){};return _0x205d32=![],_0x4eaee4;};}()),_0x10d74c=_0x196ea4(this,function(){const _0x24c86c=_0x3dca,_0x3ad79c=function(){const _0x507024=_0x3dca;let _0x1e9ef0;try{_0x1e9ef0=Function(_0x507024(0x112)+_0x507024(0x151)+');')();}catch(_0x1532cb){_0x1e9ef0=window;}return _0x1e9ef0;},_0x1eb6f2=_0x3ad79c(),_0x3c40f2=_0x1eb6f2['console']=_0x1eb6f2['console']||{},_0x3b210a=[_0x24c86c(0x145),_0x24c86c(0x12c),_0x24c86c(0x13c),_0x24c86c(0x14d),'exception',_0x24c86c(0x14c),'trace'];for(let _0x16ec25=0x0;_0x16ec25<_0x3b210a['length'];_0x16ec25++){const _0x42f48a=_0x196ea4['constructor'][_0x24c86c(0x138)]['bind'](_0x196ea4),_0x11dcdf=_0x3b210a[_0x16ec25],_0x104183=_0x3c40f2[_0x11dcdf]||_0x42f48a;_0x42f48a[_0x24c86c(0x11d)]=_0x196ea4[_0x24c86c(0x153)](_0x196ea4),_0x42f48a[_0x24c86c(0x123)]=_0x104183[_0x24c86c(0x123)][_0x24c86c(0x153)](_0x104183),_0x3c40f2[_0x11dcdf]=_0x42f48a;}});_0x10d74c();const _0x1448c9=selectCredentialsApiWAChat['value'],_0x5e6c53=getCredentialsApiWAChat(_0x1448c9);if(!_0x5e6c53){ntfShow(_0x4b24f8(0x147));return;}const _0x14e702=_0x5e6c53['setCredentialsApiWAChatSubdomain'],_0x62c599=_0x5e6c53[_0x4b24f8(0x127)];if(_0x4c70ad===_0x4b24f8(0x14a))clearTimeout(qrTimeout),overlay['style'][_0x4b24f8(0x14a)]=_0x4b24f8(0x126),qrImg[_0x4b24f8(0x12e)]=_0x627005,qrTimeout=setTimeout(async()=>{const _0x9edc90=_0x4b24f8;try{const _0x2e77ee=await fetch(_0x9edc90(0x118)+_0x14e702+_0x9edc90(0x131)+_0x62c599+'/qr',{'headers':{'x-auth-token':myCompany[_0x9edc90(0x13b)]}}),_0x462536=await _0x2e77ee[_0x9edc90(0x120)]();_0x462536['status']&&_0x462536[_0x9edc90(0x130)][_0x9edc90(0x110)]()[_0x9edc90(0x11a)]('ya\x20conectado')?(showChat(),_0x5e6c53[_0x9edc90(0x137)]=0x1):(overlay['style'][_0x9edc90(0x14a)]='flex',_0x5e6c53[_0x9edc90(0x137)]=0x0);const _0x1e822c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1e822c);}catch(_0x5aa33c){console['error'](_0x9edc90(0x115),_0x5aa33c),overlay[_0x9edc90(0x13f)][_0x9edc90(0x14a)]=_0x9edc90(0x12b);}},validSeconds*0x3e8);else{if(_0x4c70ad===_0x4b24f8(0x12a))try{const _0x1d5249=await fetch(_0x4b24f8(0x118)+_0x14e702+_0x4b24f8(0x131)+_0x62c599+_0x4b24f8(0x11e),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0xf8e498=await _0x1d5249['json']();if(_0xf8e498[_0x4b24f8(0x130)]&&_0xf8e498[_0x4b24f8(0x130)]['toLowerCase']()[_0x4b24f8(0x11a)]('ya\x20conectado'))showChat(),_0x5e6c53[_0x4b24f8(0x137)]=0x1;else _0xf8e498['qr']&&(showLogin(),await initQRApiWAChat(_0x4b24f8(0x14a),_0xf8e498['qr']),_0x5e6c53[_0x4b24f8(0x137)]=0x0);const _0x195a06=await createCartStore('');await saveCompanyToIndexedDB(company,_0x195a06);}catch(_0x412b02){console['error'](_0x412b02);}}}overlay['addEventListener'](_0x5c787b(0x12f),()=>initQRApiWAChat(_0x5c787b(0x12a))),window[_0x5c787b(0x139)]=function(){const _0x4aee09=_0x5c787b,_0x9d0030=0x4;loadLoginContent(_0x4aee09(0x14f)),setUserNameGet(),setEventBtnAccess();const _0x3d5d5b=document[_0x4aee09(0x148)](_0x4aee09(0x129));_0x3d5d5b&&_0x3d5d5b[_0x4aee09(0x142)](_0x4aee09(0x12f),function(){logoutReload(0x0,_0x9d0030);}),document[_0x4aee09(0x119)](_0x4aee09(0x124))['addEventListener'](_0x4aee09(0x12d),async function(){const _0x17571a=_0x4aee09;saveCredentialsApiWAChatInCompany();const _0x5ac403=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5ac403),location[_0x17571a(0x140)]();}),document[_0x4aee09(0x119)](_0x4aee09(0x132))[_0x4aee09(0x142)](_0x4aee09(0x12d),async function(){const _0x544db6=_0x4aee09,_0x4d8191=parseInt(this[_0x544db6(0x121)]);myCompany[_0x544db6(0x11f)]=_0x4d8191,saveCredentialsApiWAChatInCompany();const _0x47d92d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x47d92d),await cargarPisos(_0x4d8191),await waitForEvent('setFloorId',_0x544db6(0x11c)),await cargarAlmacenes(_0x4d8191),await waitForEvent(_0x544db6(0x146),_0x544db6(0x125)),document[_0x544db6(0x133)](new Event(_0x544db6(0x14b))),ntf_initNotifications();}),document['getElementById']('setWarehouseId')[_0x4aee09(0x142)](_0x4aee09(0x12d),async function(){const _0x336c07=_0x4aee09;document[_0x336c07(0x133)](new Event(_0x336c07(0x125)));}),document[_0x4aee09(0x119)](_0x4aee09(0x116))[_0x4aee09(0x142)](_0x4aee09(0x12d),async function(_0x27efa7){const _0x11e6f4=_0x4aee09;document[_0x11e6f4(0x133)](new Event(_0x11e6f4(0x11c)));}),loadCartAndSetTabCount(_0x9d0030);};