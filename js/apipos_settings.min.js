/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.0
*/

var _0x42e64b=_0x2fe9;(function(_0x5398c0,_0x346070){var _0x4b0da8=_0x2fe9,_0x3007b6=_0x5398c0();while(!![]){try{var _0x49f917=parseInt(_0x4b0da8(0x20a))/0x1+parseInt(_0x4b0da8(0x23f))/0x2+parseInt(_0x4b0da8(0x1f6))/0x3+parseInt(_0x4b0da8(0x1f7))/0x4*(-parseInt(_0x4b0da8(0x1e3))/0x5)+parseInt(_0x4b0da8(0x214))/0x6+parseInt(_0x4b0da8(0x1f0))/0x7+parseInt(_0x4b0da8(0x1f3))/0x8*(-parseInt(_0x4b0da8(0x1e0))/0x9);if(_0x49f917===_0x346070)break;else _0x3007b6['push'](_0x3007b6['shift']());}catch(_0x5219dd){_0x3007b6['push'](_0x3007b6['shift']());}}}(_0x3869,0xd216c));var _0x1b82f3=(function(){var _0x5a88c8=!![];return function(_0xea2a5c,_0x14e820){var _0x522aca=_0x5a88c8?function(){var _0x5922e8=_0x2fe9;if(_0x14e820){var _0x38e639=_0x14e820[_0x5922e8(0x250)](_0xea2a5c,arguments);return _0x14e820=null,_0x38e639;}}:function(){};return _0x5a88c8=![],_0x522aca;};}()),_0x44e249=_0x1b82f3(this,function(){var _0x5d3600=_0x2fe9;return _0x44e249[_0x5d3600(0x24e)]()[_0x5d3600(0x22b)](_0x5d3600(0x1ed))[_0x5d3600(0x24e)]()[_0x5d3600(0x201)](_0x44e249)['search'](_0x5d3600(0x1ed));});_0x44e249();var _0x249897=(function(){var _0x1758c1=!![];return function(_0x3275c0,_0x3f7160){var _0x254b5a=_0x1758c1?function(){var _0x57f720=_0x2fe9;if(_0x3f7160){var _0x2e9cca=_0x3f7160[_0x57f720(0x250)](_0x3275c0,arguments);return _0x3f7160=null,_0x2e9cca;}}:function(){};return _0x1758c1=![],_0x254b5a;};}()),_0x50b26e=_0x249897(this,function(){var _0x5e9449=_0x2fe9,_0x5c111e=function(){var _0x3f9915=_0x2fe9,_0x1c9e72;try{_0x1c9e72=Function(_0x3f9915(0x231)+_0x3f9915(0x212)+');')();}catch(_0x1b7ed5){_0x1c9e72=window;}return _0x1c9e72;},_0x5c0c3f=_0x5c111e(),_0xb52c14=_0x5c0c3f['console']=_0x5c0c3f[_0x5e9449(0x1f9)]||{},_0x13a749=[_0x5e9449(0x1fa),_0x5e9449(0x21c),_0x5e9449(0x240),_0x5e9449(0x24d),_0x5e9449(0x227),'table','trace'];for(var _0x5571a5=0x0;_0x5571a5<_0x13a749[_0x5e9449(0x245)];_0x5571a5++){var _0x191f10=_0x249897['constructor']['prototype'][_0x5e9449(0x230)](_0x249897),_0x55ab7d=_0x13a749[_0x5571a5],_0x1fcf47=_0xb52c14[_0x55ab7d]||_0x191f10;_0x191f10[_0x5e9449(0x23e)]=_0x249897[_0x5e9449(0x230)](_0x249897),_0x191f10[_0x5e9449(0x24e)]=_0x1fcf47[_0x5e9449(0x24e)][_0x5e9449(0x230)](_0x1fcf47),_0xb52c14[_0x55ab7d]=_0x191f10;}});_0x50b26e();function _0x3869(){var _0xbfe64b=['userPerm_container_','Guardar','length','addEventListener','userPerm_select','Error\x20desconocido\x20al\x20actualizar\x20Data.','setPermissionNameTrue','click','dataset','userPerm_container\x20border_blue','error','toString','userPerm_header','apply','setTipoOperacionName','Tipo','appendChild','then','readonly','https://apierp.dev/api/users/update/','disabled','76986sdospi','Error\x20al\x20actualizar\x20data\x20online:','setEmailCredentialsId','95HQeVMJ','dispatchEvent','Error\x20Network.','innerHTML','option','setPermissionId','Editar','style','getAll','./img/apiPOS.png','(((.+)+)+)+$','button','json','8890770ItbzsE','setTipoOperacionCodigo','push','3152dWxGhG','setUserFullName','Error\x20cargando\x20operaciones.','2186919lSjHyn','199132hioGGy','catch','console','log','getElementsByClassName','onerror','getElementById','Fecha','userIndex','userPerm_list','constructor','none','display','statusText','div','.userPerm_editBtn','table','onload','setPermissionNameFalse','639277vnHdlQ','userPerm_item','Motivo','.userPerm_saveBtn','forEach','setUsers','setTipoOperacion','offlineOps_table','{}.constructor(\x22return\x20this\x22)(\x20)','userPerm_editBtn','5439084eYUkTP','setFloorId','setSerie','Serie','userPerm_saveBtn','.btn-logout','permIndex','setAuthToken','warn','setPermissions','thead','change','NÃºmero\x20de\x20Decimales:\x20','offline_operations','textContent','block','value','panel_operations','application/json','exception','querySelector','panel_users','target','search','tbody','setTipoOperaciones','onsuccess','Error\x20leyendo\x20operaciones:','bind','return\x20(function()\x20','inline-block','Error\x20Sync:\x20','className','setMessage','No\x20hay\x20operaciones\x20pendientes.','indexOf','setPermissionValue','setWarehouseId','setLastDateUpdate','setBranchId','createElement','success','__proto__','3263606klqSqB','info','apiPOSsendOffline','message'];_0x3869=function(){return _0xbfe64b;};return _0x3869();}var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11];async function apiERPupdateUsersOnline(_0x261479,_0x439ab0){var _0x4fe2b2=_0x2fe9;if(!isOnline())return console[_0x4fe2b2(0x1fa)]('Error\x20Network.'),Promise['reject'](_0x4fe2b2(0x1e5));const _0xd274f6={'setAuthToken':_0x261479,'setUsers':_0x439ab0};return fetch(_0x4fe2b2(0x256),{'method':'POST','headers':{'Content-Type':_0x4fe2b2(0x226)},'body':JSON['stringify'](_0xd274f6)})[_0x4fe2b2(0x254)](_0x4741f8=>{var _0xf95e17=_0x4fe2b2;if(!_0x4741f8['ok'])throw new Error(_0xf95e17(0x233)+_0x4741f8[_0xf95e17(0x204)]);return _0x4741f8[_0xf95e17(0x1ef)]();})[_0x4fe2b2(0x254)](_0x44c1e3=>{var _0x13de9e=_0x4fe2b2;if(!_0x44c1e3[_0x13de9e(0x23d)])throw new Error(_0x44c1e3[_0x13de9e(0x242)]||_0x13de9e(0x248));return console['log']('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x44c1e3;})[_0x4fe2b2(0x1f8)](_0x193efd=>{var _0x832659=_0x4fe2b2;console[_0x832659(0x24d)](_0x832659(0x1e1),_0x193efd);throw _0x193efd;});}async function apiERPsyncUsers(){var _0x418f4d=_0x2fe9;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x418f4d(0x21b)],company[0x0][_0x418f4d(0x20f)]));}function _0x2fe9(_0x55188e,_0xc4c043){var _0x1aa2d2=_0x3869();return _0x2fe9=function(_0x50b26e,_0x249897){_0x50b26e=_0x50b26e-0x1df;var _0x4f3452=_0x1aa2d2[_0x50b26e];return _0x4f3452;},_0x2fe9(_0x55188e,_0xc4c043);}function generatePermissionsPanel(_0x18468d){var _0x5290d2=_0x2fe9,_0x476087=document[_0x5290d2(0x1fd)](_0x5290d2(0x229));_0x476087[_0x5290d2(0x1e6)]='';var _0x33c9bf=_0x18468d[0x0]&&_0x18468d[0x0][_0x5290d2(0x20f)]||[],_0x54a703=_0x18468d[0x0]&&_0x18468d[0x0][_0x5290d2(0x22d)]||[];for(var _0x27e5fd=0x0;_0x27e5fd<_0x33c9bf[_0x5290d2(0x245)];_0x27e5fd++){var _0x38dcc3=_0x33c9bf[_0x27e5fd],_0x239a42=document['createElement'](_0x5290d2(0x205));_0x239a42['className']=_0x5290d2(0x24c),_0x239a42['id']=_0x5290d2(0x243)+_0x27e5fd;var _0xb942fa=document[_0x5290d2(0x23c)]('h3');_0xb942fa[_0x5290d2(0x234)]=_0x5290d2(0x24f),_0xb942fa[_0x5290d2(0x222)]=_0x38dcc3[_0x5290d2(0x1f4)]||'Usuario\x20'+(_0x27e5fd+0x1),_0x239a42['appendChild'](_0xb942fa);var _0x35b478=document[_0x5290d2(0x23c)](_0x5290d2(0x205));_0x35b478[_0x5290d2(0x234)]=_0x5290d2(0x200);for(var _0x5fe89c=0x0;_0x5fe89c<_0x38dcc3['setPermissions'][_0x5290d2(0x245)];_0x5fe89c++){var _0x261207=_0x38dcc3[_0x5290d2(0x21d)][_0x5fe89c],_0x4b25bc=document['createElement']('div');_0x4b25bc[_0x5290d2(0x234)]=_0x5290d2(0x20b),_0x4b25bc['dataset'][_0x5290d2(0x1ff)]=_0x27e5fd,_0x4b25bc[_0x5290d2(0x24b)]['permIndex']=_0x5fe89c;var _0x582dec=Number(_0x261207[_0x5290d2(0x238)]),_0x53b6e2=document['createElement']('select');_0x53b6e2[_0x5290d2(0x234)]=_0x5290d2(0x247),_0x53b6e2[_0x5290d2(0x1df)]=!![];if(BOOLEAN_PERMS[_0x5290d2(0x237)](_0x261207['setPermissionId'])!==-0x1){var _0x2d3ef3=document[_0x5290d2(0x23c)](_0x5290d2(0x1e7));_0x2d3ef3[_0x5290d2(0x224)]='0',_0x2d3ef3['textContent']=_0x261207[_0x5290d2(0x209)],_0x53b6e2[_0x5290d2(0x253)](_0x2d3ef3);var _0x249aff=document['createElement'](_0x5290d2(0x1e7));_0x249aff[_0x5290d2(0x224)]='1',_0x249aff[_0x5290d2(0x222)]=_0x261207[_0x5290d2(0x249)],_0x53b6e2[_0x5290d2(0x253)](_0x249aff),_0x53b6e2['value']=String(_0x582dec);}else{if(_0x261207[_0x5290d2(0x1e8)]===0x9||_0x261207[_0x5290d2(0x1e8)]===0xc||_0x261207[_0x5290d2(0x1e8)]===0x12){if(_0x261207[_0x5290d2(0x1e8)]===0x9){var _0x4dbd48=document['createElement'](_0x5290d2(0x1e7));_0x4dbd48['value']='0',_0x4dbd48[_0x5290d2(0x222)]=_0x261207[_0x5290d2(0x209)],_0x53b6e2[_0x5290d2(0x253)](_0x4dbd48);for(var _0x1f7b37=0x0;_0x1f7b37<_0x54a703['length'];_0x1f7b37++){var _0x3ef955=_0x54a703[_0x1f7b37],_0x172e1e=document[_0x5290d2(0x23c)](_0x5290d2(0x1e7));_0x172e1e[_0x5290d2(0x224)]=String(_0x3ef955[_0x5290d2(0x1f1)]),_0x172e1e[_0x5290d2(0x222)]=_0x3ef955[_0x5290d2(0x251)],_0x53b6e2[_0x5290d2(0x253)](_0x172e1e);}}if(_0x261207[_0x5290d2(0x1e8)]===0xc)for(var _0x1f7b37=0x1;_0x1f7b37<=0x4;_0x1f7b37++){var _0x3ef955=_0x1f7b37,_0x172e1e=document[_0x5290d2(0x23c)](_0x5290d2(0x1e7));_0x172e1e[_0x5290d2(0x224)]=String(_0x3ef955),_0x172e1e[_0x5290d2(0x222)]=_0x5290d2(0x220)+_0x3ef955,_0x53b6e2['appendChild'](_0x172e1e);}if(_0x261207[_0x5290d2(0x1e8)]===0x12){var _0x3ac7ec=myCompany&&myCompany['setEmailCredentials']||[],_0x4dbd48=document['createElement'](_0x5290d2(0x1e7));_0x4dbd48[_0x5290d2(0x224)]='0',_0x4dbd48[_0x5290d2(0x222)]=_0x261207[_0x5290d2(0x209)],_0x53b6e2[_0x5290d2(0x253)](_0x4dbd48);for(var _0x1f7b37=0x0;_0x1f7b37<_0x3ac7ec[_0x5290d2(0x245)];_0x1f7b37++){var _0x3ef955=_0x3ac7ec[_0x1f7b37],_0x172e1e=document[_0x5290d2(0x23c)](_0x5290d2(0x1e7));_0x172e1e['value']=String(_0x3ef955[_0x5290d2(0x1e2)]),_0x172e1e[_0x5290d2(0x222)]=_0x3ef955['setEmailCredentialsSenderEmail'],_0x53b6e2[_0x5290d2(0x253)](_0x172e1e);}}_0x53b6e2[_0x5290d2(0x224)]=String(_0x582dec);}}_0x4b25bc['appendChild'](_0x53b6e2),_0x35b478['appendChild'](_0x4b25bc);}_0x239a42[_0x5290d2(0x253)](_0x35b478);var _0xdf1d58=document['createElement']('button');_0xdf1d58[_0x5290d2(0x234)]=_0x5290d2(0x213),_0xdf1d58[_0x5290d2(0x222)]=_0x5290d2(0x1e9),_0xdf1d58[_0x5290d2(0x24b)][_0x5290d2(0x1ff)]=_0x27e5fd;var _0x43268c=document[_0x5290d2(0x23c)](_0x5290d2(0x1ee));_0x43268c[_0x5290d2(0x234)]=_0x5290d2(0x218),_0x43268c[_0x5290d2(0x222)]=_0x5290d2(0x244),_0x43268c[_0x5290d2(0x24b)][_0x5290d2(0x1ff)]=_0x27e5fd,_0x43268c[_0x5290d2(0x1ea)][_0x5290d2(0x203)]='none',_0x239a42[_0x5290d2(0x253)](_0xdf1d58),_0x239a42[_0x5290d2(0x253)](_0x43268c),_0x476087[_0x5290d2(0x253)](_0x239a42),_0xdf1d58['addEventListener'](_0x5290d2(0x24a),onEditClick),_0x43268c[_0x5290d2(0x246)](_0x5290d2(0x24a),onSaveClick);}}function onEditClick(_0x369621){var _0x222d8e=_0x2fe9,_0x33c39b=_0x369621[_0x222d8e(0x22a)]['dataset'][_0x222d8e(0x1ff)],_0x50b75c=document[_0x222d8e(0x1fd)](_0x222d8e(0x243)+_0x33c39b),_0x1d70d9=_0x50b75c[_0x222d8e(0x1fb)](_0x222d8e(0x247));for(var _0x244247=0x0;_0x244247<_0x1d70d9['length'];_0x244247++){_0x1d70d9[_0x244247]['disabled']=![];}_0x50b75c[_0x222d8e(0x228)]('.userPerm_editBtn')[_0x222d8e(0x1ea)][_0x222d8e(0x203)]='none',_0x50b75c['querySelector'](_0x222d8e(0x20d))['style'][_0x222d8e(0x203)]=_0x222d8e(0x223),_0x50b75c[_0x222d8e(0x234)]='userPerm_container\x20border_orange';}async function onSaveClick(_0x4bf111){var _0x374a0b=_0x2fe9,_0x19c233=_0x4bf111['target'][_0x374a0b(0x24b)][_0x374a0b(0x1ff)],_0x3652d7=document['getElementById']('userPerm_container_'+_0x19c233),_0x16eb8a=_0x3652d7[_0x374a0b(0x1fb)]('userPerm_item');for(var _0x485296=0x0;_0x485296<_0x16eb8a[_0x374a0b(0x245)];_0x485296++){var _0x191f35=_0x16eb8a[_0x485296],_0x263fbf=parseInt(_0x191f35[_0x374a0b(0x24b)]['userIndex'],0xa),_0x2eaa8f=parseInt(_0x191f35[_0x374a0b(0x24b)][_0x374a0b(0x21a)],0xa),_0x355b10=company[0x0][_0x374a0b(0x20f)][_0x263fbf][_0x374a0b(0x21d)][_0x2eaa8f],_0x486cf5=_0x191f35['getElementsByClassName'](_0x374a0b(0x247))[0x0],_0x2f3bba=_0x486cf5['value'];_0x355b10[_0x374a0b(0x238)]=_0x2f3bba,_0x486cf5[_0x374a0b(0x1df)]=!![],company[0x0][_0x374a0b(0x20f)][_0x263fbf][_0x374a0b(0x23a)]=new Date();}const _0x1eac7d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1eac7d),_0x3652d7['querySelector']('.userPerm_saveBtn')[_0x374a0b(0x1ea)][_0x374a0b(0x203)]=_0x374a0b(0x202),_0x3652d7[_0x374a0b(0x228)](_0x374a0b(0x206))[_0x374a0b(0x1ea)][_0x374a0b(0x203)]=_0x374a0b(0x232),_0x3652d7[_0x374a0b(0x234)]='userPerm_container\x20border_blue',apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x317429=_0x2fe9,_0x22f96d=document[_0x317429(0x1fd)](_0x317429(0x225));return _0x22f96d[_0x317429(0x1e6)]='',createCartStore('')[_0x317429(0x254)](function(_0x3506ab){var _0x5cbcc0=_0x317429,_0x53ae52=_0x3506ab['transaction']('offline_operations',_0x5cbcc0(0x255)),_0x55f8f2=_0x53ae52['objectStore'](_0x5cbcc0(0x221));return new Promise(function(_0x3793e0,_0x738231){var _0x302e45=_0x5cbcc0,_0x27c1a9=_0x55f8f2[_0x302e45(0x1eb)]();_0x27c1a9[_0x302e45(0x22e)]=function(){_0x3793e0(_0x27c1a9['result']);},_0x27c1a9[_0x302e45(0x1fc)]=function(){_0x738231(_0x27c1a9['error']);};});})[_0x317429(0x254)](function(_0x20fc1a){var _0x2f5e13=_0x317429,_0xd4862f=[];for(var _0x99666d=0x0;_0x99666d<_0x20fc1a[_0x2f5e13(0x245)];_0x99666d++){_0x20fc1a[_0x99666d][_0x2f5e13(0x241)]==0x1&&_0xd4862f[_0x2f5e13(0x1f2)](_0x20fc1a[_0x99666d]);}if(_0xd4862f[_0x2f5e13(0x245)]===0x0){_0x22f96d[_0x2f5e13(0x222)]=_0x2f5e13(0x236);return;}var _0x53f54e=document[_0x2f5e13(0x23c)](_0x2f5e13(0x207));_0x53f54e[_0x2f5e13(0x234)]=_0x2f5e13(0x211);var _0x24639f=document[_0x2f5e13(0x23c)](_0x2f5e13(0x21e)),_0x159e64=document[_0x2f5e13(0x23c)]('tr');[_0x2f5e13(0x252),_0x2f5e13(0x217),'Correlativo',_0x2f5e13(0x1fe),_0x2f5e13(0x20c)][_0x2f5e13(0x20e)](function(_0x4e7690){var _0x34c924=_0x2f5e13,_0x5a0446=document[_0x34c924(0x23c)]('th');_0x5a0446[_0x34c924(0x222)]=_0x4e7690,_0x159e64[_0x34c924(0x253)](_0x5a0446);}),_0x24639f[_0x2f5e13(0x253)](_0x159e64),_0x53f54e[_0x2f5e13(0x253)](_0x24639f);var _0x420f6e=document[_0x2f5e13(0x23c)](_0x2f5e13(0x22c));_0xd4862f[_0x2f5e13(0x20e)](function(_0x3d874f){var _0x4f7e8c=_0x2f5e13,_0x4c445e=document['createElement']('tr'),_0x41be38=[_0x3d874f[_0x4f7e8c(0x210)],_0x3d874f[_0x4f7e8c(0x216)],_0x3d874f['setCorrelativo'],_0x3d874f['setFechaHora'],_0x3d874f[_0x4f7e8c(0x235)]||''];_0x41be38['forEach'](function(_0x25a7d8){var _0x1a6164=_0x4f7e8c,_0x3bdcc7=document['createElement']('td');_0x3bdcc7[_0x1a6164(0x222)]=_0x25a7d8,_0x4c445e[_0x1a6164(0x253)](_0x3bdcc7);}),_0x420f6e[_0x4f7e8c(0x253)](_0x4c445e);}),_0x53f54e[_0x2f5e13(0x253)](_0x420f6e),_0x22f96d[_0x2f5e13(0x253)](_0x53f54e);})['catch'](function(_0x5feb0c){var _0x1c8e74=_0x317429;console[_0x1c8e74(0x24d)](_0x1c8e74(0x22f),_0x5feb0c),_0x22f96d[_0x1c8e74(0x222)]=_0x1c8e74(0x1f5);});}window[_0x42e64b(0x208)]=function(){var _0x4be993=_0x42e64b;const _0x2d3761=0x2;loadLoginContent(_0x4be993(0x1ec)),setUserNameGet(),setEventBtnAccess();const _0x2e471a=document['querySelector'](_0x4be993(0x219));_0x2e471a&&_0x2e471a['addEventListener'](_0x4be993(0x24a),function(){logoutReload(0x0,_0x2d3761);}),document[_0x4be993(0x1fd)](_0x4be993(0x23b))[_0x4be993(0x246)](_0x4be993(0x21f),async function(){var _0x3b62a6=_0x4be993;const _0x10e5ac=parseInt(this[_0x3b62a6(0x224)]);company[0x0]['setBranchDefault']=_0x10e5ac;const _0x480562=await createCartStore('');await saveCompanyToIndexedDB(company,_0x480562),cargarAlmacenes(_0x10e5ac),setTimeout(()=>{var _0x39e832=_0x3b62a6;document[_0x39e832(0x1fd)](_0x39e832(0x239))['dispatchEvent'](new Event(_0x39e832(0x21f)));},0x64),cargarPisos(_0x10e5ac),setTimeout(()=>{var _0x1bdaa6=_0x3b62a6;document[_0x1bdaa6(0x1fd)](_0x1bdaa6(0x215))[_0x1bdaa6(0x1e4)](new Event(_0x1bdaa6(0x21f)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2d3761);};