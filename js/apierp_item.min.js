/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.1
*/

var _0x1f7a83=_0x33b6;(function(_0x5dd79d,_0x1101db){var _0x305986=_0x33b6,_0x2d800d=_0x5dd79d();while(!![]){try{var _0x2ff903=-parseInt(_0x305986(0x16a))/0x1+parseInt(_0x305986(0x1f3))/0x2*(parseInt(_0x305986(0x11e))/0x3)+-parseInt(_0x305986(0x1af))/0x4*(-parseInt(_0x305986(0xf9))/0x5)+-parseInt(_0x305986(0x144))/0x6*(parseInt(_0x305986(0x1f2))/0x7)+-parseInt(_0x305986(0x119))/0x8*(-parseInt(_0x305986(0x1b7))/0x9)+parseInt(_0x305986(0x106))/0xa*(parseInt(_0x305986(0x16b))/0xb)+parseInt(_0x305986(0x196))/0xc*(-parseInt(_0x305986(0x114))/0xd);if(_0x2ff903===_0x1101db)break;else _0x2d800d['push'](_0x2d800d['shift']());}catch(_0x325d16){_0x2d800d['push'](_0x2d800d['shift']());}}}(_0x5732,0x945fc));var _0x1cb4db=(function(){var _0x2f3985=!![];return function(_0x24c785,_0x48571d){var _0x108d62=_0x2f3985?function(){var _0x44b784=_0x33b6;if(_0x48571d){var _0x34d095=_0x48571d[_0x44b784(0x1dc)](_0x24c785,arguments);return _0x48571d=null,_0x34d095;}}:function(){};return _0x2f3985=![],_0x108d62;};}()),_0x511ff5=_0x1cb4db(this,function(){var _0xb2c89e=_0x33b6;return _0x511ff5[_0xb2c89e(0x1d8)]()['search'](_0xb2c89e(0x1cd))[_0xb2c89e(0x1d8)]()[_0xb2c89e(0xdc)](_0x511ff5)['search'](_0xb2c89e(0x1cd));});_0x511ff5();var _0x23a45a=(function(){var _0x510560=!![];return function(_0x34c383,_0x1d2684){var _0x4adb58=_0x510560?function(){var _0x4dd3a7=_0x33b6;if(_0x1d2684){var _0x362cf2=_0x1d2684[_0x4dd3a7(0x1dc)](_0x34c383,arguments);return _0x1d2684=null,_0x362cf2;}}:function(){};return _0x510560=![],_0x4adb58;};}()),_0x229571=_0x23a45a(this,function(){var _0x22ed7f=_0x33b6,_0x11dab1=function(){var _0x13e8bf=_0x33b6,_0x12f9ca;try{_0x12f9ca=Function(_0x13e8bf(0xec)+_0x13e8bf(0x12b)+');')();}catch(_0x4a99fa){_0x12f9ca=window;}return _0x12f9ca;},_0x45a068=_0x11dab1(),_0x16b11d=_0x45a068[_0x22ed7f(0x1c0)]=_0x45a068['console']||{},_0x39c7d2=[_0x22ed7f(0xc2),_0x22ed7f(0x18f),_0x22ed7f(0x132),_0x22ed7f(0x10f),_0x22ed7f(0x190),_0x22ed7f(0x183),'trace'];for(var _0x5272c4=0x0;_0x5272c4<_0x39c7d2[_0x22ed7f(0xef)];_0x5272c4++){var _0x5193f0=_0x23a45a['constructor'][_0x22ed7f(0xae)][_0x22ed7f(0x1f7)](_0x23a45a),_0x3d028f=_0x39c7d2[_0x5272c4],_0x3dbd19=_0x16b11d[_0x3d028f]||_0x5193f0;_0x5193f0['__proto__']=_0x23a45a[_0x22ed7f(0x1f7)](_0x23a45a),_0x5193f0[_0x22ed7f(0x1d8)]=_0x3dbd19['toString'][_0x22ed7f(0x1f7)](_0x3dbd19),_0x16b11d[_0x3d028f]=_0x5193f0;}});_0x229571();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x1f7a83(0x11d)](_0x1f7a83(0x1fb)),unitCount=0x0,branchesC=document[_0x1f7a83(0x11d)](_0x1f7a83(0x1be)),prodC=document[_0x1f7a83(0x11d)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x1f7a83(0x11d)](_0x1f7a83(0x18e)),vgC=document[_0x1f7a83(0x11d)](_0x1f7a83(0x1d2));const fileInput=document[_0x1f7a83(0x11d)]('file-input'),progressBar=document[_0x1f7a83(0x11d)](_0x1f7a83(0x13f)),statusDiv=document[_0x1f7a83(0x11d)](_0x1f7a83(0x179)),uploadBtn=document[_0x1f7a83(0x11d)]('upload-btn');function _0x5732(){var _0x57d780=['.priceInput','./img/product.png','offline_operations','setTaxId','info','base','inputItemDateExpiry','setWarehouseCode','type','remove-tag','none','addEventListener','newItem_units_container','assign','setItemBarCode','setCode','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','progress','Items\x20finales:','.drop-zone__prompt','currentTarget','application/octet-stream','4858686STXbxT','stopPropagation','setStockMinimum','setEquivalence','priceInput','selected','parse','display','setItemTaxCode','toLowerCase','children','default','onerror','hidden','setImpuestos','input','[data-idx=\x22','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','.branchInit','100','setCostUSD','transaction','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','No\x20hay\x20items\x20para\x20exportar.','\x20items.','findIndex','some','setTaxIdDefault','image/*','value','setWarehouseId','Error\x20al\x20guardar\x20Producto\x20Offline:','toISOString','accept','style=\x22display:none\x22','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setItemCategoryName','PEN','415082AkvuLC','218867OzbMSd','<div\x20class=\x22newItem_col\x22>','#newItem_categories_select\x20.selected_tags','test','code','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setBatchExpirationDate','setFactor','#newItem_units_container\x20>\x20div','Generando\x20Excel...','\x22\x20value=\x22','innerHTML','.removeUnit','currency_data','status','setBatchName','vals','.vgName','✅\x20Exportación\x20completada:\x20','name','querySelector','setItemInventoriable','focus','percent','table','span','exportItems','setItemIsBought','setItemType','detail','getElementsByClassName','ERROR:\x20plainProducts\x20no\x20serializable:','map','inputItemBarCode','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','newItem_variants_forms','warn','exception','classList','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','modalOverlayCreateItem','variantForm','trim','200664EoEvuX','join','USD','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','setName','setItemWarehouses','setMtoPrecioCostoUnitario','inputItemType','newItem_title_table_cp','setItemBrandName','.prodQty','variant_','isArray','newItem_chk_buy','slice','download','Ingresa\x20el\x20código\x20del\x20item','every','unitSelect','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setItemIsSold','#newItem_categories_select\x20.options_list','Enter','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setCantidad','273712ZrZzXi','windowId','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_title_table','setItemImages','block','add','drop-zone','6668217FSimBX','dragover','setImpuestoValue','.removeCombo','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','dragleave','flatMap','newItem_branches_container','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','console','reduce','files','result','textContent','newItem_hidden','Collator','setStockInitial','setAlias','filter','setPriceUSD','setItemUnitId','undefined','(((.+)+)+)+$','find','.options_list\x20div','#newItem_branches_container\x20>\x20div','setItemDescription','newItem_variant_groups','objectStore','setItemUnits','newItem_chk_sell','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','toString','Plantilla-Items-Export-','target','remove','apply','.prod_input_container','Ingresa\x20el\x20nombre\x20del\x20item','setDefault','checked','./excel/Plantilla-Items.xlsx','\x22\x20class=\x22branchChk\x22>\x20','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','split','setUnidadCodigo','setUnits','.branchChk','.variantForm','costInput','keydown','</div>','setItemId','file','newItem_addToCart','push','setIdProducto','7Fetvyo','186134XuhJBa','newItem_btn_addVariantGroup','active','.variantCode','bind','setItemVariantName','href','contains','newItem_images_container','detalleModalCreateItem','inputItemTax','readAsDataURL','newItem_categories_select','setItemVariantValues','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','key','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setAuthToken','prototype','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','setItemFree','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','toggle','import','setItemComponents','values','setItemDateExpiry','setWarehouseName','.options_list','setImpuestoName','disabled','setItemCode','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','padStart','selectedItem','setWebhook','.branchMin','now','log','.removeProd','blur','[id$=\x22_comp_container\x22]','.costInput','click','selectionChange','dispatchEvent','setItemBrands','Nuevo\x20Producto','compare','\x20items\x20procesados.','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','inputItemCode','setItemTaxValue','readwrite','_units_container','.removeGroup','setUnitCode','setPrice','.unitSelect','revokeObjectURL','setUnitName','mousedown','div[data-default=\x22true\x22]\x20.eqInput','setConversionFactor','constructor','setItemCategories','style','oncomplete','.prodInput','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','btnItemSave','drop','setInventariable','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','.addVariantUnit','setSucursalStock','appendChild','from','preventDefault','.variantBarCode','return\x20(function()\x20','setCodProducto','forEach','length','message','max','sucursales','modalProductNewTitle','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','parentNode','className','sort','arrayBuffer','15KAdqZI','setIdSucursal','setWarehouseStockMin','./js/apierp_item_wk.min.js','closest','stringify','dataset','setItemName','setCost','includes','inputItemName','change','#newItem_brands_select\x20.selected_tags','550LkvGYf','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','exportDone','setItemTaxId','\x22\x20class=\x22branchChk\x22\x20checked>\x20','div','setMarca','unitAlias','dataTransfer','error','querySelectorAll','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','true','setMoneda','234iFlphl','_comp_container','newItem_brands_select','setMtoPrecioUnitario','Error\x20al\x20procesar\x20la\x20operación:','8gccKkq','setDescripcion','idx','.unitAlias','getElementById','3SuwtNU','.eqInput','inputItemDescription','btnExportarItems','setCategoria','createElement','splice','.ms_input','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','tag','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','</label>','dragenter','{}.constructor(\x22return\x20this\x22)(\x20)','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','_branch_container'];_0x5732=function(){return _0x57d780;};return _0x5732();}let newItemsExcel=null;const itemWorker=new Worker(_0x1f7a83(0xfc)),dropZone=document[_0x1f7a83(0x11d)](_0x1f7a83(0x1b6)),removeBtn=document['getElementById']('remove-file');function showModalCreateItem(_0x186839){var _0x56a8a6=_0x1f7a83;const _0x3a8b14=document[_0x56a8a6(0x11d)](_0x56a8a6(0x1fc)),_0x193aa3=document[_0x56a8a6(0x11d)](_0x56a8a6(0x193));_0x3a8b14[_0x56a8a6(0x191)]['add'](_0x56a8a6(0x1f5)),_0x193aa3['style']['display']=_0x56a8a6(0x1b4);const _0x41bf95=document['getElementById']('setItemFree');_0x41bf95['value']=parseInt(_0x186839),baseItem[_0x56a8a6(0xb0)]=parseInt(_0x186839);const _0x1155b2=document[_0x56a8a6(0x11d)](_0x56a8a6(0xf3));_0x186839==0x0&&(_0x1155b2[_0x56a8a6(0x176)]=_0x56a8a6(0xcb));_0x186839==0x1&&(_0x1155b2[_0x56a8a6(0x176)]='Producto\x20Libre');const _0x2f83ba=document[_0x56a8a6(0x189)]('productType1');for(let _0x4839d4=0x0;_0x4839d4<_0x2f83ba['length'];_0x4839d4++){const _0x182732=_0x2f83ba[_0x4839d4];if(_0x186839==0x0)_0x182732['classList']['remove'](_0x56a8a6(0x151));else _0x186839==0x1&&_0x182732[_0x56a8a6(0x191)]['add'](_0x56a8a6(0x151));}}function hideModalCreateItem(){var _0x51b0b1=_0x1f7a83;const _0x14053e=document[_0x51b0b1(0x11d)]('detalleModalCreateItem'),_0x200f0b=document['getElementById']('modalOverlayCreateItem');_0x14053e[_0x51b0b1(0x191)][_0x51b0b1(0x1db)](_0x51b0b1(0x1f5)),_0x200f0b[_0x51b0b1(0xde)]['display']=_0x51b0b1(0x138);}document[_0x1f7a83(0x11d)]('closeModalCreateItem')[_0x1f7a83(0x139)](_0x1f7a83(0xc7),hideModalCreateItem),document[_0x1f7a83(0x11d)](_0x1f7a83(0x193))[_0x1f7a83(0x139)](_0x1f7a83(0xc7),_0xc86a21=>{var _0x2f3cd5=_0x1f7a83;_0xc86a21[_0x2f3cd5(0x1da)]==_0xc86a21[_0x2f3cd5(0x142)]&&_0xc86a21[_0x2f3cd5(0x145)]();});function _0x33b6(_0x22982b,_0x34b8f7){var _0xf064a3=_0x5732();return _0x33b6=function(_0x229571,_0x23a45a){_0x229571=_0x229571-0xad;var _0x3ecff8=_0xf064a3[_0x229571];return _0x3ecff8;},_0x33b6(_0x22982b,_0x34b8f7);}function loadTaxData(){var _0x580f7=_0x1f7a83;const _0x1bb9a3=document[_0x580f7(0x11d)](_0x580f7(0x1fd));_0x1bb9a3[_0x580f7(0x176)]='',company[0x0][_0x580f7(0x152)]['forEach'](function(_0x5a12d8){var _0x40ab88=_0x580f7;const _0x53fe55=document[_0x40ab88(0x123)]('option');_0x53fe55[_0x40ab88(0x161)]=_0x5a12d8['setTaxId'],_0x53fe55[_0x40ab88(0x176)]=_0x5a12d8[_0x40ab88(0xb9)]+'\x20('+_0x5a12d8[_0x40ab88(0x1b9)]+'%)',_0x5a12d8[_0x40ab88(0x131)]==company[0x0]['setTaxIdDefault']&&(_0x53fe55[_0x40ab88(0x149)]=!![]),_0x1bb9a3['appendChild'](_0x53fe55);});}function uniqueValuesArray(_0x1c6e2b,_0x121068,_0xbda825){var _0x42638e=_0x1f7a83;const _0x3b53ab=Array[_0x42638e(0xe9)](new Set(_0xbda825[_0x42638e(0x18b)](_0x2e6906=>{var _0x271f3c=_0x42638e;const _0x5560c7=_0x2e6906[_0x1c6e2b];return typeof _0x5560c7==='string'?_0x5560c7[_0x271f3c(0x195)]():_0x5560c7;})[_0x42638e(0x1c9)](_0x449342=>_0x449342!=null&&_0x449342!=='')));return _0x3b53ab['map'](_0x34df6c=>{var _0x300000=_0x42638e;const _0x4aad65=_0xbda825[_0x300000(0x1ce)](_0x14f0a=>_0x14f0a[_0x1c6e2b]===_0x34df6c),_0x22cace=_0x4aad65&&_0x4aad65[_0x121068]!=null?String(_0x4aad65[_0x121068])[_0x300000(0x195)]():_0x34df6c;return{'setCode':_0x34df6c,'setName':_0x22cace};});}function fillSelect(_0x32afd6,_0x35b45d,_0x4c4a8b,_0x1bb383){var _0x58ca9b=_0x1f7a83;_0x32afd6[_0x58ca9b(0x176)]='',_0x35b45d[_0x58ca9b(0xee)](function(_0x2c8e79){var _0x480ea6=_0x58ca9b,_0x547f8c=new Option(_0x2c8e79[_0x1bb383],_0x2c8e79[_0x4c4a8b]);_0x32afd6[_0x480ea6(0x1b5)](_0x547f8c);});}function initMulti(_0x54b0e0,_0x3bd613){var _0x49c73d=_0x1f7a83,_0x5d67ca=document[_0x49c73d(0x11d)](_0x54b0e0),_0x10f5c6=_0x5d67ca[_0x49c73d(0x17f)](_0x49c73d(0x125)),_0x3f81cd=_0x5d67ca[_0x49c73d(0x17f)](_0x49c73d(0xb8)),_0x45bce7=_0x5d67ca['querySelector']('.selected_tags'),_0x613d4=_0x3bd613[_0x49c73d(0x1a4)](),_0x2b3f91=[];let _0x3e2673=null,_0x568c49=![];function _0x5ba13c(){var _0xbf7a5b=_0x49c73d;const _0x39cb12=_0x10f5c6[_0xbf7a5b(0x161)][_0xbf7a5b(0x195)]();if(!_0x39cb12)return;const _0x561c88=_0x613d4[_0xbf7a5b(0x1ce)](_0x2d207c=>_0x2d207c[_0xbf7a5b(0x19a)][_0xbf7a5b(0x14d)]()===_0x39cb12[_0xbf7a5b(0x14d)]());if(_0x561c88)_0x2b3f91['push'](_0x561c88),_0x613d4[_0xbf7a5b(0x124)](_0x613d4[_0xbf7a5b(0x15d)](_0x13d93e=>_0x13d93e[_0xbf7a5b(0x13d)]===_0x561c88['setCode']),0x1);else{const _0x1c4903=_0x2b3f91['some'](_0x56b4d2=>_0x56b4d2[_0xbf7a5b(0x19a)][_0xbf7a5b(0x14d)]()===_0x39cb12['toLowerCase']());!_0x1c4903&&_0x2b3f91[_0xbf7a5b(0x1f0)]({'setCode':_0x39cb12,'setName':_0x39cb12});}_0x3afc9f(),_0x5d79ca(),_0x10f5c6[_0xbf7a5b(0x161)]='';}function _0x5d79ca(){var _0x3930f8=_0x49c73d;_0x3f81cd[_0x3930f8(0x176)]='',_0x613d4[_0x3930f8(0x1c9)](_0x59aa46=>_0x59aa46[_0x3930f8(0x19a)][_0x3930f8(0x14d)]()['includes'](_0x10f5c6[_0x3930f8(0x161)]['toLowerCase']()))[_0x3930f8(0x1a4)](0x0,0x14)[_0x3930f8(0xee)](_0x5b3914=>{var _0xe1797d=_0x3930f8,_0x1c7166=document[_0xe1797d(0x123)](_0xe1797d(0x10b));_0x1c7166['textContent']=_0x5b3914[_0xe1797d(0x19a)],_0x1c7166[_0xe1797d(0xff)][_0xe1797d(0x16f)]=_0x5b3914['setCode'],_0x3f81cd[_0xe1797d(0xe8)](_0x1c7166),_0x1c7166[_0xe1797d(0x139)](_0xe1797d(0xd9),()=>_0x568c49=!![]),_0x1c7166[_0xe1797d(0x139)](_0xe1797d(0xc7),function(){var _0x69490f=_0xe1797d;_0x568c49=![],_0x2b3f91[_0x69490f(0x1f0)](_0x5b3914),_0x613d4['splice'](_0x613d4[_0x69490f(0x15d)](_0x5811e3=>_0x5811e3[_0x69490f(0x13d)]===_0x5b3914[_0x69490f(0x13d)]),0x1),_0x10f5c6[_0x69490f(0x161)]='',_0x3afc9f(),_0x5d79ca();});});}function _0x3afc9f(){var _0x491d40=_0x49c73d;_0x45bce7[_0x491d40(0x176)]='',_0x2b3f91[_0x491d40(0xee)](_0x4944db=>{var _0x570af1=_0x491d40,_0xa14406=document[_0x570af1(0x123)](_0x570af1(0x10b));_0xa14406[_0x570af1(0xf6)]=_0x570af1(0x127),_0xa14406[_0x570af1(0x1c4)]=_0x4944db[_0x570af1(0x19a)];var _0x18f85f=document['createElement'](_0x570af1(0x184));_0x18f85f[_0x570af1(0xf6)]=_0x570af1(0x137),_0x18f85f[_0x570af1(0x1c4)]='×',_0x18f85f[_0x570af1(0x139)]('click',function(){var _0x45cdbe=_0x570af1;_0x613d4['push'](_0x4944db);const _0x4fc427=_0x2b3f91[_0x45cdbe(0x15d)](_0x41dd1e=>_0x41dd1e[_0x45cdbe(0x13d)]===_0x4944db[_0x45cdbe(0x13d)]);if(_0x4fc427>-0x1)_0x2b3f91[_0x45cdbe(0x124)](_0x4fc427,0x1);_0x3afc9f(),_0x5d79ca();}),_0xa14406[_0x570af1(0xe8)](_0x18f85f),_0x45bce7[_0x570af1(0xe8)](_0xa14406);}),_0x5d67ca[_0x491d40(0xc9)](new CustomEvent('selectionChange',{'detail':_0x2b3f91,'bubbles':!![]}));}return _0x10f5c6[_0x49c73d(0x139)](_0x49c73d(0x181),function(){var _0x127137=_0x49c73d;_0x3e2673&&(clearTimeout(_0x3e2673),_0x3e2673=null),_0x3f81cd[_0x127137(0x191)][_0x127137(0x1db)]('newItem_hidden');}),_0x10f5c6[_0x49c73d(0x139)](_0x49c73d(0x153),_0x5d79ca),_0x10f5c6[_0x49c73d(0x139)](_0x49c73d(0x1eb),function(_0x1a1328){var _0x25ae4a=_0x49c73d;_0x1a1328[_0x25ae4a(0x202)]===_0x25ae4a(0x1ac)&&(_0x1a1328['preventDefault'](),_0x5ba13c());}),_0x10f5c6[_0x49c73d(0x139)]('blur',function(){if(_0x568c49)return;_0x3e2673=setTimeout(()=>{_0x5ba13c(),_0x3e2673=null;},0xc8);}),document[_0x49c73d(0x139)](_0x49c73d(0xc7),function(_0x26d029){var _0x3f24ca=_0x49c73d;!_0x5d67ca[_0x3f24ca(0x1fa)](_0x26d029[_0x3f24ca(0x1da)])&&_0x3f81cd[_0x3f24ca(0x191)]['add'](_0x3f24ca(0x1c5));}),_0x5d79ca(),_0x2b3f91;}function getLastCode(_0x4c1ab6){var _0xa8d7ff=_0x1f7a83;const _0x3e5f55=_0x4c1ab6[_0xa8d7ff(0x18b)](_0x57f47e=>String(_0x57f47e[_0xa8d7ff(0xed)])[_0xa8d7ff(0x195)]())[_0xa8d7ff(0x1c9)](_0x54140c=>_0x54140c!=='');if(_0x3e5f55[_0xa8d7ff(0xef)]===0x0)return'';const _0x19468d=_0x3e5f55[_0xa8d7ff(0x1a7)](_0x97f44c=>/^\d+$/[_0xa8d7ff(0x16e)](_0x97f44c));if(_0x19468d){const _0xf1414c=_0x3e5f55[_0xa8d7ff(0x18b)](Number),_0x58c45a=Math[_0xa8d7ff(0xf1)](..._0xf1414c);return String(_0x58c45a);}let _0x21ce11;if(typeof Intl!==_0xa8d7ff(0x1cc)&&Intl[_0xa8d7ff(0x1c6)]){const _0x32dd6d=new Intl[(_0xa8d7ff(0x1c6))](undefined,{'numeric':!![],'sensitivity':_0xa8d7ff(0x133)});_0x21ce11=_0x3e5f55[_0xa8d7ff(0x1a4)]()[_0xa8d7ff(0xf7)](_0x32dd6d[_0xa8d7ff(0xcc)]);}else{const _0x4f4540=_0x3e5f55[_0xa8d7ff(0x1a7)](_0x5d254e=>/^\d+$/[_0xa8d7ff(0x16e)](_0x5d254e));_0x4f4540?_0x21ce11=_0x3e5f55[_0xa8d7ff(0x18b)](Number)['sort']((_0x13c937,_0x5c9bfc)=>_0x13c937-_0x5c9bfc)[_0xa8d7ff(0x18b)](String):_0x21ce11=_0x3e5f55[_0xa8d7ff(0x1a4)]()[_0xa8d7ff(0xf7)]();}return _0x21ce11[_0x21ce11[_0xa8d7ff(0xef)]-0x1];}function getNextCode(_0x4ebab9){var _0x3cb257=_0x1f7a83;const _0x3c30a5=getLastCode(_0x4ebab9);if(!_0x3c30a5)return'';if(/^\d+$/['test'](_0x3c30a5))return String(Number(_0x3c30a5)+0x1);const _0x1634e9=_0x3c30a5['match'](/^([A-Za-z]*)(\d+)$/);if(_0x1634e9){const [,_0x5bd9f6,_0x5cb41d]=_0x1634e9,_0x5dae18=String(Number(_0x5cb41d)+0x1)[_0x3cb257(0xbd)](_0x5cb41d[_0x3cb257(0xef)],'0');return _0x5bd9f6+_0x5dae18;}return _0x3c30a5;}document[_0x1f7a83(0x11d)](_0x1f7a83(0x103))[_0x1f7a83(0x139)]('input',function(_0x21bd2c){var _0x68827e=_0x1f7a83;baseItem[_0x68827e(0x100)]=_0x21bd2c[_0x68827e(0x1da)][_0x68827e(0x161)];}),document['getElementById']('inputItemDescription')[_0x1f7a83(0x139)](_0x1f7a83(0x153),function(_0xbe7a2e){var _0x32b05f=_0x1f7a83;baseItem[_0x32b05f(0x1d1)]=_0xbe7a2e[_0x32b05f(0x1da)][_0x32b05f(0x161)];}),document['getElementById']('inputItemDateExpiry')[_0x1f7a83(0x139)](_0x1f7a83(0x153),function(_0x146dea){var _0x10eaef=_0x1f7a83;baseItem[_0x10eaef(0xb6)]=_0x146dea['target'][_0x10eaef(0x161)];}),document[_0x1f7a83(0x11d)](_0x1f7a83(0x19d))[_0x1f7a83(0x139)](_0x1f7a83(0x104),function(_0x36e82f){var _0x320fd5=_0x1f7a83;baseItem[_0x320fd5(0x187)]=_0x36e82f[_0x320fd5(0x1da)][_0x320fd5(0x161)];}),document['getElementById'](_0x1f7a83(0x1fd))['addEventListener'](_0x1f7a83(0x104),function(_0x5e769c){var _0x49dbf7=_0x1f7a83;baseItem[_0x49dbf7(0x109)]=_0x5e769c[_0x49dbf7(0x1da)][_0x49dbf7(0x161)];const _0x4a5045=_0x5e769c['target'][_0x49dbf7(0x161)],_0x22a76a=company[0x0][_0x49dbf7(0x152)][_0x49dbf7(0x1ce)](_0x3039c3=>_0x3039c3[_0x49dbf7(0x131)]==_0x4a5045)?.['setImpuestoCode']||0x0,_0x40075e=company[0x0]['setImpuestos'][_0x49dbf7(0x1ce)](_0x364c67=>_0x364c67[_0x49dbf7(0x131)]==_0x4a5045)?.[_0x49dbf7(0x1b9)]||0x0;baseItem[_0x49dbf7(0x14c)]=_0x22a76a,baseItem[_0x49dbf7(0xd0)]=_0x40075e;}),document[_0x1f7a83(0x11d)](_0x1f7a83(0x1a3))[_0x1f7a83(0x139)](_0x1f7a83(0x104),function(_0x499a6a){var _0x3f805c=_0x1f7a83;baseItem[_0x3f805c(0x186)]=_0x499a6a['target'][_0x3f805c(0x1e0)];}),document['getElementById'](_0x1f7a83(0x1d5))['addEventListener'](_0x1f7a83(0x104),function(_0x2d57d5){var _0x5c750a=_0x1f7a83;baseItem[_0x5c750a(0x1aa)]=_0x2d57d5[_0x5c750a(0x1da)][_0x5c750a(0x1e0)];}),document[_0x1f7a83(0x11d)](_0x1f7a83(0xcf))[_0x1f7a83(0x139)](_0x1f7a83(0x153),function(_0x4bda6b){var _0x3a9514=_0x1f7a83;baseItem['setItemCode']=_0x4bda6b[_0x3a9514(0x1da)][_0x3a9514(0x161)];}),document['getElementById'](_0x1f7a83(0x18c))[_0x1f7a83(0x139)](_0x1f7a83(0x153),function(_0xe9ffd9){var _0x3aa234=_0x1f7a83;baseItem[_0x3aa234(0x13c)]=_0xe9ffd9['target']['value'];}),document['getElementById']('newItem_btn_addUnit')[_0x1f7a83(0x139)](_0x1f7a83(0xc7),function(){addUnit(),updateUnitsArray();}),document[_0x1f7a83(0x11d)]('inputItemCode')[_0x1f7a83(0x139)](_0x1f7a83(0xc4),function(){var _0x1e55b0=_0x1f7a83;const _0x39a5cb=this[_0x1e55b0(0x161)][_0x1e55b0(0x195)]();if(_0x39a5cb==='')return;const _0x1cc68f=products[_0x1e55b0(0x15e)](_0x1e3cd5=>_0x1e3cd5[_0x1e55b0(0xed)]==_0x39a5cb),_0xc3e28a=getLastCode(products);_0x1cc68f?ntfShow(_0x1e55b0(0xce)+_0xc3e28a,0x2,0x1):ntfShow(_0x1e55b0(0x1a9),0x1,0x1);});function removeImg(_0x296b7c){var _0x1580e2=_0x1f7a83;currentImages[_0x296b7c]=null;var _0x2e9ac9=imgC['querySelector'](_0x1580e2(0x154)+_0x296b7c+'\x22]');_0x2e9ac9['innerHTML']='';var _0x960f58=document[_0x1580e2(0x123)](_0x1580e2(0x153));_0x960f58[_0x1580e2(0x136)]=_0x1580e2(0x1ee),_0x960f58[_0x1580e2(0x165)]=_0x1580e2(0x160),_0x960f58[_0x1580e2(0xde)][_0x1580e2(0x14b)]=_0x1580e2(0x138);var _0x414b2d=document[_0x1580e2(0x123)](_0x1580e2(0x184));_0x414b2d['textContent']='+',_0x2e9ac9[_0x1580e2(0xe8)](_0x960f58),_0x2e9ac9['appendChild'](_0x414b2d),_0x2e9ac9[_0x1580e2(0x139)]('click',function(){var _0x25f0ca=_0x1580e2;_0x960f58[_0x25f0ca(0xc7)]();}),baseItem[_0x1580e2(0x1b3)]=currentImages['filter'](function(_0x887a5b){return _0x887a5b;});}function addUnit(_0x37d58a,_0x1c5745,_0x870acf,_0x31ab9f,_0x309706,_0x391a11,_0x71595a){var _0x42d353=_0x1f7a83,_0x1e5b43=uniqueValuesArray(_0x42d353(0xd4),'setUnitName',myCompany[_0x42d353(0x1e7)]);_0x37d58a=_0x37d58a||'',_0x1c5745=_0x1c5745||_0x1e5b43[0x3a]&&_0x1e5b43[0x3a][_0x42d353(0x13d)]||'',_0x870acf=_0x870acf!==undefined?_0x870acf:0x1,_0x31ab9f=!!_0x31ab9f,_0x309706=_0x309706||'',_0x391a11=_0x391a11||'';var _0x1db120=unitCount++,_0x3d5889=document[_0x42d353(0x123)](_0x42d353(0x10b));_0x3d5889[_0x42d353(0xff)][_0x42d353(0x11b)]=_0x1db120,_0x3d5889['dataset'][_0x42d353(0x14f)]=_0x31ab9f,_0x3d5889[_0x42d353(0x176)]=_0x42d353(0xe1)+_0x1db120+'\x22\x20value=\x22'+_0x37d58a+_0x42d353(0x1e3)+_0x1db120+_0x42d353(0x12c)+_0x1db120+'\x22\x20value=\x22'+_0x870acf+'\x22\x20'+(_0x31ab9f?'disabled':'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x1db120+_0x42d353(0x175)+_0x309706+_0x42d353(0xf4)+_0x1db120+'\x22\x20value=\x22'+_0x391a11+_0x42d353(0x155)+(_0x31ab9f?_0x42d353(0x166):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x3d5889[_0x42d353(0x17f)](_0x42d353(0xd6)),_0x1e5b43,_0x42d353(0x13d),_0x42d353(0x19a)),_0x3d5889['querySelector'](_0x42d353(0xd6))[_0x42d353(0x161)]=_0x1c5745,[_0x42d353(0x10d),_0x42d353(0x1a8),'eqInput',_0x42d353(0x148),_0x42d353(0x1ea)]['forEach'](function(_0x4cde22){var _0x5222fa=_0x42d353;_0x3d5889[_0x5222fa(0x17f)]('.'+_0x4cde22)[_0x5222fa(0x139)](_0x5222fa(0x153),function(){var _0xf56754=_0x5222fa,_0x7ade4e=_0x71595a?+_0x71595a['id'][_0xf56754(0x1e5)]('_')[0x1]:null;if(_0x71595a)updateVariantUnits(_0x7ade4e);else updateUnitsArray();});}),_0x3d5889[_0x42d353(0x17f)](_0x42d353(0x177))[_0x42d353(0x139)]('click',function(){var _0x52ee83=_0x42d353;_0x3d5889[_0x52ee83(0x1db)]();var _0xf01f05=_0x71595a?+_0x71595a['id']['split']('_')[0x1]:null;if(_0x71595a)updateVariantUnits(_0xf01f05);else updateUnitsArray();});var _0x2a7193=_0x71595a||document[_0x42d353(0x11d)](_0x42d353(0x13a));_0x2a7193[_0x42d353(0xe8)](_0x3d5889);}function containerIdx(_0x2292f7){var _0xee8ec1=_0x1f7a83;return+_0x2292f7['id'][_0xee8ec1(0x1e5)]('_')[0x1];}function updateUnitsArray(){var _0x25ca68=_0x1f7a83,_0x395ba6=[],_0x2cbb08=Array[_0x25ca68(0xe9)](document[_0x25ca68(0x110)](_0x25ca68(0x173))),_0x26debc=_0x2cbb08[_0x25ca68(0x1ce)](_0x4e0792=>_0x4e0792[_0x25ca68(0xff)]['default']===_0x25ca68(0x112)),_0x357087=_0x26debc?+_0x26debc[_0x25ca68(0x17f)](_0x25ca68(0x11f))[_0x25ca68(0x161)]:0x1;_0x2cbb08['forEach'](function(_0x549179){var _0x2312e5=_0x25ca68,_0x6e62d5=+_0x549179['querySelector'](_0x2312e5(0x11f))[_0x2312e5(0x161)]||0x0,_0x1459c7=+_0x549179[_0x2312e5(0x17f)](_0x2312e5(0x12e))[_0x2312e5(0x161)]||0x0,_0x372598=+_0x549179[_0x2312e5(0x17f)](_0x2312e5(0xc6))['value']||0x0;_0x395ba6[_0x2312e5(0x1f0)]({'setAlias':_0x549179[_0x2312e5(0x17f)](_0x2312e5(0x11c))[_0x2312e5(0x161)]['trim'](),'setUnitCode':_0x549179[_0x2312e5(0x17f)](_0x2312e5(0xd6))[_0x2312e5(0x161)],'setEquivalence':_0x6e62d5,'setFactor':_0x549179['dataset']['default']===_0x2312e5(0x112)?0x1:_0x6e62d5==_0x357087?0x1:_0x6e62d5<_0x357087?_0x357087/_0x6e62d5:_0x6e62d5/_0x357087,'setPrice':_0x1459c7,'setCost':_0x372598,'setDefault':_0x549179[_0x2312e5(0xff)]['default']===_0x2312e5(0x112)?0x1:0x0});}),baseItem[_0x25ca68(0x1d4)]=_0x395ba6;}function updateBranches(){var _0xf4cf45=_0x1f7a83,_0x176988=[];document[_0xf4cf45(0x110)](_0xf4cf45(0x1d0))[_0xf4cf45(0xee)](function(_0x393886){var _0x1cc5e3=_0xf4cf45,_0x51a83d=_0x393886[_0x1cc5e3(0x17f)](_0x1cc5e3(0x1e8));if(_0x51a83d[_0x1cc5e3(0x1e0)]){var _0x1eeaca=+_0x51a83d[_0x1cc5e3(0xff)]['id'],_0xa75366=+_0x393886[_0x1cc5e3(0x17f)](_0x1cc5e3(0x156))[_0x1cc5e3(0x161)],_0x41936f=+_0x393886[_0x1cc5e3(0x17f)](_0x1cc5e3(0xc0))[_0x1cc5e3(0x161)];_0x176988['push']({'setWarehouseCode':_0x1eeaca,'setStockInitial':_0xa75366,'setStockMinimum':_0x41936f});}}),baseItem[_0xf4cf45(0x19b)]=_0x176988;}document[_0x1f7a83(0x11d)]('newItem_btn_addProdItem')[_0x1f7a83(0x139)](_0x1f7a83(0xc7),function(){var _0x5bdd70=_0x1f7a83,_0x2d7013=Date['now'](),_0x3b6c9e=document['createElement'](_0x5bdd70(0x10b));_0x3b6c9e[_0x5bdd70(0xff)][_0x5bdd70(0x11b)]=_0x2d7013,_0x3b6c9e['innerHTML']=_0x5bdd70(0x1b1)+_0x2d7013+_0x5bdd70(0x126)+_0x2d7013+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x5bdd70(0xe8)](_0x3b6c9e),initProdSearch(_0x3b6c9e[_0x5bdd70(0x17f)](_0x5bdd70(0x1dd))),_0x3b6c9e[_0x5bdd70(0x17f)](_0x5bdd70(0xc3))['addEventListener'](_0x5bdd70(0xc7),function(){var _0x5a6e2=_0x5bdd70;_0x3b6c9e[_0x5a6e2(0x1db)](),updateProdItems();}),_0x3b6c9e['querySelector'](_0x5bdd70(0x1a0))[_0x5bdd70(0x139)]('input',updateProdItems),document[_0x5bdd70(0x11d)](_0x5bdd70(0x19e))[_0x5bdd70(0x191)][_0x5bdd70(0xb2)](_0x5bdd70(0x1b2),!![]),document['getElementById']('newItem_title_table_cp')[_0x5bdd70(0x191)][_0x5bdd70(0xb2)](_0x5bdd70(0x1c5),![]);});function initProdSearch(_0x11cf51,_0xac5d25){var _0x271959=_0x1f7a83,_0x438bf2=_0x11cf51[_0x271959(0x17f)](_0x271959(0xe0)),_0x271963=_0x11cf51[_0x271959(0x17f)]('.options_list'),_0x35afb9=_0xac5d25||null;if(_0xac5d25)_0x438bf2[_0x271959(0x161)]=_0xac5d25[_0x271959(0x17e)];_0x438bf2[_0x271959(0x139)](_0x271959(0x153),function(){var _0x8f63c5=_0x271959,_0x5dc2f1=_0x438bf2[_0x8f63c5(0x161)]['toLowerCase']()[_0x8f63c5(0x195)]();_0x271963['innerHTML']='';if(!_0x5dc2f1)return;products[_0x8f63c5(0x1c9)](_0x7cefb2=>_0x7cefb2[_0x8f63c5(0x11a)]['toLowerCase']()[_0x8f63c5(0x102)](_0x5dc2f1))['slice'](0x0,0x14)[_0x8f63c5(0xee)](function(_0x255542){var _0x2ea599=_0x8f63c5,_0x31b701=document[_0x2ea599(0x123)](_0x2ea599(0x10b));_0x31b701[_0x2ea599(0x1c4)]=_0x255542[_0x2ea599(0x11a)],_0x31b701[_0x2ea599(0xff)]['id']=_0x255542['id'],_0x31b701['dataset'][_0x2ea599(0x17e)]=_0x255542[_0x2ea599(0x11a)],_0x271963['appendChild'](_0x31b701),_0x31b701[_0x2ea599(0x139)](_0x2ea599(0xc7),function(){var _0x46dc7c=_0x2ea599;_0x35afb9={'id':_0x255542['id'],'name':_0x255542[_0x46dc7c(0x11a)]},_0x438bf2['value']=_0x255542['setDescripcion'],_0x271963['innerHTML']='';var _0x5add62=_0x11cf51[_0x46dc7c(0xfd)](_0x46dc7c(0xc5));if(_0x5add62){var _0x4b5c8d=+_0x5add62['id'][_0x46dc7c(0x1e5)]('_')[0x1];updateVariantComponents(_0x4b5c8d);}else updateProdItems();});});}),_0x438bf2[_0x271959(0x139)](_0x271959(0x181),function(){var _0x9ff633=_0x271959;_0x271963[_0x9ff633(0x191)]['remove'](_0x9ff633(0x1c5));}),document['addEventListener'](_0x271959(0xc7),function(_0x16643f){var _0x165d6c=_0x271959;if(!_0x11cf51[_0x165d6c(0x1fa)](_0x16643f['target']))_0x271963['classList'][_0x165d6c(0x1b5)](_0x165d6c(0x1c5));}),Object['defineProperty'](_0x11cf51,_0x271959(0xbe),{'get':()=>_0x35afb9});}function updateProdItems(){var _0x17ad90=_0x1f7a83,_0x1493bc=[];Array[_0x17ad90(0xe9)](prodC[_0x17ad90(0x14e)])[_0x17ad90(0xee)](function(_0x1aafa5){var _0x1127e5=_0x17ad90,_0x596c02=_0x1aafa5['querySelector'](_0x1127e5(0x1dd));if(!_0x596c02)return;var _0x52652e=_0x1aafa5[_0x1127e5(0x17f)](_0x1127e5(0x1a0)),_0x320a55=_0x596c02[_0x1127e5(0xbe)];_0x320a55&&_0x1493bc['push']({'setItemId':_0x320a55['id'],'setDescripcion':_0x320a55[_0x1127e5(0x17e)],'setCantidad':+_0x52652e[_0x1127e5(0x161)]});}),baseItem['setItemComponents']=_0x1493bc,_0x1493bc[_0x17ad90(0xef)]===0x0&&(document['getElementById'](_0x17ad90(0x19e))[_0x17ad90(0x191)][_0x17ad90(0xb2)](_0x17ad90(0x1b2),![]),document[_0x17ad90(0x11d)]('newItem_title_table_cp')[_0x17ad90(0x191)][_0x17ad90(0xb2)](_0x17ad90(0x1c5),!![]));}document[_0x1f7a83(0x11d)](_0x1f7a83(0x1f4))['addEventListener'](_0x1f7a83(0xc7),function(){var _0x2beddd=_0x1f7a83,_0x5b3ddf=vgCount++,_0x578cae=document[_0x2beddd(0x123)](_0x2beddd(0x10b));_0x578cae[_0x2beddd(0xff)][_0x2beddd(0x11b)]=_0x5b3ddf,_0x578cae['innerHTML']=_0x2beddd(0x170)+_0x5b3ddf+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x5b3ddf+'\x22>'+_0x2beddd(0x1d7),vgC[_0x2beddd(0xe8)](_0x578cae),_0x578cae[_0x2beddd(0x17f)](_0x2beddd(0x17c))[_0x2beddd(0x139)](_0x2beddd(0xc4),generateVariants),_0x578cae[_0x2beddd(0x17f)]('.vgVals')['addEventListener']('blur',generateVariants),_0x578cae[_0x2beddd(0x17f)](_0x2beddd(0xd3))[_0x2beddd(0x139)](_0x2beddd(0xc7),function(){var _0x134da6=_0x2beddd;_0x578cae[_0x134da6(0x1db)](),generateVariants();});});function generateVariants(){var _0x398b08=_0x1f7a83,_0x7547a0=[];vgC[_0x398b08(0x110)]('div')[_0x398b08(0xee)](function(_0x41d1f5){var _0x495de3=_0x398b08,_0x484c32=_0x41d1f5['querySelector'](_0x495de3(0x17c))['value'][_0x495de3(0x195)](),_0x215d06=_0x41d1f5[_0x495de3(0x17f)]('.vgVals')['value'][_0x495de3(0x1e5)](',')[_0x495de3(0x18b)](_0x4951e5=>_0x4951e5['trim']())['filter'](_0x884da5=>_0x884da5);if(_0x484c32&&_0x215d06[_0x495de3(0xef)])_0x7547a0[_0x495de3(0x1f0)]({'name':_0x484c32,'vals':_0x215d06});});var _0x3a67ab=[{}];_0x7547a0['forEach'](function(_0x1f755d){var _0x739680=_0x398b08;_0x3a67ab=_0x3a67ab[_0x739680(0x1bd)](function(_0x3426d4){var _0x4042f7=_0x739680;return _0x1f755d[_0x4042f7(0x17b)]['map'](function(_0x4e4768){var _0xd1357a=_0x4042f7,_0x3dfe6a=Object['assign']({},_0x3426d4);return _0x3dfe6a[_0x1f755d[_0xd1357a(0x17e)]]=_0x4e4768,_0x3dfe6a;});});}),newItems=[],varContainer[_0x398b08(0x176)]='',_0x3a67ab[_0x398b08(0xee)](function(_0x13204a,_0x557999){var _0x500a60=_0x398b08,_0x9cede=JSON[_0x500a60(0x14a)](JSON[_0x500a60(0xfe)](baseItem));_0x9cede[_0x500a60(0x200)]=_0x13204a,_0x9cede[_0x500a60(0x1f8)]=baseItem[_0x500a60(0x100)]+'\x20'+Object['entries'](_0x13204a)[_0x500a60(0x18b)](_0x1cdf37=>_0x1cdf37[0x0]+'\x20'+_0x1cdf37[0x1])[_0x500a60(0x197)]('\x20'),newItems[_0x500a60(0x1f0)](_0x9cede);var _0x813862=document[_0x500a60(0x123)](_0x500a60(0x10b));_0x813862[_0x500a60(0x191)][_0x500a60(0x1b5)](_0x500a60(0x194)),_0x813862['dataset'][_0x500a60(0x11b)]=_0x557999,_0x813862['innerHTML']='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x9cede[_0x500a60(0x1f8)]+_0x500a60(0x201)+_0x9cede[_0x500a60(0xbb)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x9cede['setItemBarCode']+_0x500a60(0xaf)+_0x9cede[_0x500a60(0xb6)]+_0x500a60(0x128)+_0x557999+_0x500a60(0xb1)+_0x557999+_0x500a60(0x199)+_0x557999+_0x500a60(0x1bb),varContainer['appendChild'](_0x813862),_0x813862['querySelector'](_0x500a60(0x1f6))[_0x500a60(0x139)](_0x500a60(0x153),_0xf10049=>newItems[_0x557999][_0x500a60(0xbb)]=_0xf10049[_0x500a60(0x1da)][_0x500a60(0x161)]),_0x813862[_0x500a60(0x17f)](_0x500a60(0xeb))[_0x500a60(0x139)](_0x500a60(0x153),_0x26b350=>newItems[_0x557999][_0x500a60(0x13c)]=_0x26b350['target'][_0x500a60(0x161)]),_0x813862[_0x500a60(0x17f)]('.variantExpiry')[_0x500a60(0x139)](_0x500a60(0x104),_0x497f3d=>newItems[_0x557999]['setItemDateExpiry']=_0x497f3d[_0x500a60(0x1da)][_0x500a60(0x161)]),initVariantUnits(_0x557999),initVariantComponents(_0x557999),initVariantBranches(_0x557999),_0x813862[_0x500a60(0x17f)]('.removeVariant')[_0x500a60(0x139)]('click',function(){var _0xf74f51=_0x500a60,_0x4eeb33=+_0x813862[_0xf74f51(0xff)][_0xf74f51(0x11b)];newItems[_0xf74f51(0x124)](_0x4eeb33,0x1),_0x813862[_0xf74f51(0x1db)](),document['querySelectorAll'](_0xf74f51(0x1e9))['forEach'](function(_0x507528,_0x52a7a4){var _0x546912=_0xf74f51;_0x507528['dataset'][_0x546912(0x11b)]=_0x52a7a4;});});});if(newItems[_0x398b08(0xef)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x2a4f83){var _0x31b527=_0x1f7a83,_0x486d64=document[_0x31b527(0x11d)](_0x31b527(0x1a1)+_0x2a4f83+_0x31b527(0xd2)),_0x315ad9=[];Array[_0x31b527(0xe9)](_0x486d64['children'])['forEach'](function(_0x13242c){var _0x1f6029=_0x31b527,_0x5810b5=+_0x13242c[_0x1f6029(0x17f)]('.eqInput')[_0x1f6029(0x161)]||0x0,_0x4bf411=_0x13242c[_0x1f6029(0x17f)](_0x1f6029(0x11c))[_0x1f6029(0x161)][_0x1f6029(0x195)](),_0x12e63b=_0x13242c[_0x1f6029(0x17f)](_0x1f6029(0xd6))[_0x1f6029(0x161)],_0x88ad3=+_0x13242c[_0x1f6029(0x17f)]('.priceInput')['value']||0x0,_0x47792c=+_0x13242c[_0x1f6029(0x17f)](_0x1f6029(0xc6))[_0x1f6029(0x161)]||0x0,_0x537bb3=_0x13242c[_0x1f6029(0xff)][_0x1f6029(0x14f)]===_0x1f6029(0x112),_0x387460=+_0x486d64[_0x1f6029(0x17f)](_0x1f6029(0xda))['value']||0x1,_0x285c5d=_0x537bb3?0x1:_0x5810b5==_0x387460?0x1:_0x5810b5<_0x387460?_0x387460/_0x5810b5:_0x5810b5/_0x387460;_0x315ad9[_0x1f6029(0x1f0)]({'setAlias':_0x4bf411,'setUnitCode':_0x12e63b,'setEquivalence':_0x5810b5,'setFactor':_0x285c5d,'setPrice':_0x88ad3,'setCost':_0x47792c,'setDefault':_0x537bb3?0x1:0x0});}),newItems[_0x2a4f83][_0x31b527(0x1d4)]=_0x315ad9;}function initVariantUnits(_0x23b3b7){var _0x5cd308=_0x1f7a83,_0x1cf0e8=document[_0x5cd308(0x11d)](_0x5cd308(0x1a1)+_0x23b3b7+_0x5cd308(0xd2));_0x1cf0e8[_0x5cd308(0x176)]='',newItems[_0x23b3b7]['setItemUnits'][_0x5cd308(0xee)](function(_0x3b1341){var _0x90fec8=_0x5cd308;addUnit(_0x3b1341['setAlias'],_0x3b1341[_0x90fec8(0xd4)],_0x3b1341[_0x90fec8(0x147)],_0x3b1341[_0x90fec8(0x1df)],_0x3b1341['setPrice'],_0x3b1341[_0x90fec8(0x101)],_0x1cf0e8);}),_0x1cf0e8[_0x5cd308(0xf5)][_0x5cd308(0x17f)](_0x5cd308(0xe6))['addEventListener'](_0x5cd308(0xc7),function(){addUnit('','',0x1,![],'','',_0x1cf0e8),updateVariantUnits(_0x23b3b7);});}function updateVariantUnits(_0x418aab){var _0x133dad=_0x1f7a83,_0x3fd251=document[_0x133dad(0x11d)](_0x133dad(0x1a1)+_0x418aab+'_units_container'),_0x7f3794=_0x3fd251[_0x133dad(0x17f)](_0x133dad(0xda)),_0xbe02dd=_0x7f3794?+_0x7f3794[_0x133dad(0x161)]:0x1,_0xb4c6b8=Array[_0x133dad(0xe9)](_0x3fd251[_0x133dad(0x14e)])[_0x133dad(0x18b)](function(_0x13d5b0){var _0x1865c7=_0x133dad,_0x2fcf4c=_0x13d5b0[_0x1865c7(0x17f)](_0x1865c7(0x11c))['value'][_0x1865c7(0x195)](),_0x193cdf=_0x13d5b0[_0x1865c7(0x17f)](_0x1865c7(0xd6))[_0x1865c7(0x161)],_0x3071be=+_0x13d5b0[_0x1865c7(0x17f)](_0x1865c7(0x11f))[_0x1865c7(0x161)]||0x0,_0x5dab91=+_0x13d5b0['querySelector']('.priceInput')[_0x1865c7(0x161)]||0x0,_0x14c5f0=+_0x13d5b0['querySelector'](_0x1865c7(0xc6))[_0x1865c7(0x161)]||0x0,_0x34c5fc=_0x13d5b0[_0x1865c7(0xff)][_0x1865c7(0x14f)]==='true';return{'setAlias':_0x2fcf4c,'setUnitCode':_0x193cdf,'setEquivalence':_0x3071be,'setFactor':_0x34c5fc?0x1:_0x3071be==_0xbe02dd?0x1:_0x3071be<_0xbe02dd?_0xbe02dd/_0x3071be:_0x3071be/_0xbe02dd,'setPrice':_0x5dab91,'setCost':_0x14c5f0,'setDefault':_0x34c5fc?0x1:0x0};});newItems[_0x418aab]['setItemUnits']=_0xb4c6b8;}function initVariantComponents(_0x1c6829){var _0x3de74b=_0x1f7a83,_0x3abc11=document[_0x3de74b(0x11d)](_0x3de74b(0x1a1)+_0x1c6829+_0x3de74b(0x115));_0x3abc11[_0x3de74b(0x176)]='',newItems[_0x1c6829][_0x3de74b(0xb4)][_0x3de74b(0xee)](function(_0x4775e9){var _0x1e063b=_0x3de74b,_0x3c8773=document[_0x1e063b(0x123)](_0x1e063b(0x10b)),_0x522db0=Date[_0x1e063b(0xc1)]();_0x3c8773[_0x1e063b(0xff)][_0x1e063b(0x11b)]=_0x522db0,_0x3c8773['innerHTML']=_0x1e063b(0x13e)+_0x522db0+_0x1e063b(0x111)+_0x4775e9[_0x1e063b(0x1ae)]+_0x1e063b(0x192),_0x3abc11[_0x1e063b(0xe8)](_0x3c8773),initProdSearch(_0x3c8773[_0x1e063b(0x17f)]('.prod_input_container'),{'id':_0x4775e9[_0x1e063b(0x1ed)],'name':_0x4775e9['setDescripcion']}),_0x3c8773[_0x1e063b(0x17f)](_0x1e063b(0x1a0))['addEventListener']('input',function(){updateVariantComponents(_0x1c6829);}),_0x3c8773[_0x1e063b(0x17f)](_0x1e063b(0x1ba))[_0x1e063b(0x139)]('click',function(){var _0x312b96=_0x1e063b;_0x3c8773[_0x312b96(0x1db)](),updateVariantComponents(_0x1c6829);});}),_0x3abc11[_0x3de74b(0xf5)]['querySelector']('.addVariantComp')['addEventListener']('click',function(){var _0x1edd00=_0x3de74b,_0x1c83d9=document[_0x1edd00(0x123)](_0x1edd00(0x10b)),_0x2146c1=Date[_0x1edd00(0xc1)]();_0x1c83d9[_0x1edd00(0xff)][_0x1edd00(0x11b)]=_0x2146c1,_0x1c83d9['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x2146c1+_0x1edd00(0xe5),_0x3abc11['appendChild'](_0x1c83d9),initProdSearch(_0x1c83d9[_0x1edd00(0x17f)]('.prod_input_container')),_0x1c83d9[_0x1edd00(0x17f)](_0x1edd00(0x1a0))[_0x1edd00(0x139)](_0x1edd00(0x153),function(){updateVariantComponents(_0x1c6829);}),_0x1c83d9[_0x1edd00(0x17f)](_0x1edd00(0x1ba))[_0x1edd00(0x139)](_0x1edd00(0xc7),function(){var _0x2930ad=_0x1edd00;_0x1c83d9[_0x2930ad(0x1db)](),updateVariantComponents(_0x1c6829);});});}function updateVariantComponents(_0xdee1ec){var _0x34c952=_0x1f7a83,_0x2809a5=document['getElementById'](_0x34c952(0x1a1)+_0xdee1ec+'_comp_container'),_0x15986f=Array[_0x34c952(0xe9)](_0x2809a5[_0x34c952(0x14e)])[_0x34c952(0x18b)](function(_0x249461){var _0x1b9fcf=_0x34c952,_0x39fd61=_0x249461['querySelector'](_0x1b9fcf(0x1dd)),_0xbbe16f=_0x39fd61[_0x1b9fcf(0xbe)],_0x43117f=+_0x249461[_0x1b9fcf(0x17f)](_0x1b9fcf(0x1a0))[_0x1b9fcf(0x161)]||0x0;return _0xbbe16f?{'setItemId':_0xbbe16f['id'],'setDescripcion':_0xbbe16f[_0x1b9fcf(0x17e)],'setCantidad':_0x43117f}:null;})['filter'](_0x98c0eb=>_0x98c0eb);newItems[_0xdee1ec][_0x34c952(0xb4)]=_0x15986f;}function initVariantBranches(_0x22dd24){var _0x1f2b36=_0x1f7a83;const _0x16f94c=getAllWarehouses();var _0x4ce5a1=document[_0x1f2b36(0x11d)](_0x1f2b36(0x1a1)+_0x22dd24+_0x1f2b36(0x12d));_0x4ce5a1[_0x1f2b36(0x176)]='',newItems[_0x22dd24][_0x1f2b36(0x19b)]['forEach'](function(_0x3d9123){var _0x4bfdc3=_0x1f2b36,_0x32354c=_0x16f94c[_0x4bfdc3(0x1ce)](_0x3430ff=>_0x3430ff[_0x4bfdc3(0x162)]==_0x3d9123[_0x4bfdc3(0x135)]),_0x5e3ea1=document[_0x4bfdc3(0x123)](_0x4bfdc3(0x10b));_0x5e3ea1[_0x4bfdc3(0x176)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x3d9123[_0x4bfdc3(0x135)]+_0x4bfdc3(0x10a)+_0x32354c[_0x4bfdc3(0xb7)]+_0x4bfdc3(0x107)+_0x3d9123[_0x4bfdc3(0x135)]+'\x22\x20value=\x22'+_0x3d9123['setStockInitial']+_0x4bfdc3(0x15a)+_0x3d9123[_0x4bfdc3(0x135)]+_0x4bfdc3(0x175)+_0x3d9123[_0x4bfdc3(0x146)]+'\x22>',_0x4ce5a1[_0x4bfdc3(0xe8)](_0x5e3ea1),_0x5e3ea1[_0x4bfdc3(0x110)]('input')[_0x4bfdc3(0xee)](function(_0x245dc9){var _0x37d7ed=_0x4bfdc3;_0x245dc9['addEventListener'](_0x37d7ed(0x153),function(){updateVariantBranches(_0x22dd24);});});}),_0x16f94c['forEach'](function(_0x826f58){var _0x5365fe=_0x1f2b36;if(!newItems[_0x22dd24][_0x5365fe(0x19b)][_0x5365fe(0x1ce)](_0x4f7c66=>_0x4f7c66['setWarehouseCode']===_0x826f58[_0x5365fe(0x162)])){var _0x3c4ae4=document[_0x5365fe(0x123)]('div');_0x3c4ae4[_0x5365fe(0x176)]=_0x5365fe(0x203)+_0x826f58[_0x5365fe(0x162)]+_0x5365fe(0x1e2)+_0x826f58[_0x5365fe(0xb7)]+_0x5365fe(0x107)+_0x826f58[_0x5365fe(0x162)]+_0x5365fe(0x15a)+_0x826f58[_0x5365fe(0x162)]+'\x22>',_0x4ce5a1[_0x5365fe(0xe8)](_0x3c4ae4),_0x3c4ae4[_0x5365fe(0x110)](_0x5365fe(0x153))[_0x5365fe(0xee)](function(_0x3974df){var _0x145f20=_0x5365fe;_0x3974df[_0x145f20(0x139)](_0x145f20(0x153),function(){updateVariantBranches(_0x22dd24);});});}});}function updateVariantBranches(_0x5a4690){var _0x29089d=_0x1f7a83,_0x50a02=document[_0x29089d(0x11d)](_0x29089d(0x1a1)+_0x5a4690+'_branch_container'),_0x32cafa=[];_0x50a02['querySelectorAll'](_0x29089d(0x10b))['forEach'](function(_0x127e86){var _0x20887b=_0x29089d,_0x22c617=_0x127e86[_0x20887b(0x17f)]('.branchChk');if(_0x22c617[_0x20887b(0x1e0)]){var _0x3a6f69=+_0x22c617[_0x20887b(0xff)]['id'],_0x4050b8=+_0x127e86['querySelector']('.branchInit')[_0x20887b(0x161)]||0x0,_0x1f5a09=+_0x127e86[_0x20887b(0x17f)](_0x20887b(0xc0))[_0x20887b(0x161)]||0x0;_0x32cafa[_0x20887b(0x1f0)]({'setWarehouseCode':_0x3a6f69,'setStockInitial':_0x4050b8,'setStockMinimum':_0x1f5a09});}}),newItems[_0x5a4690]['setItemWarehouses']=_0x32cafa;}async function storeOfflineProduct(_0x5a691d){var _0x3349d7=_0x1f7a83;try{const _0x504bb3=await createCartStore(''),_0x3dfef5=_0x504bb3[_0x3349d7(0x159)](_0x3349d7(0x130),_0x3349d7(0xd1)),_0x2f127b=_0x3dfef5[_0x3349d7(0x1d3)](_0x3349d7(0x130));_0x2f127b['add'](_0x5a691d),_0x3dfef5[_0x3349d7(0xdf)]=()=>{var _0x56afc1=_0x3349d7;console[_0x56afc1(0xc2)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x3dfef5[_0x3349d7(0x150)]=_0x45002e=>{var _0x2cbbe2=_0x3349d7;console[_0x2cbbe2(0x10f)](_0x2cbbe2(0x163),_0x45002e[_0x2cbbe2(0x1da)]['error']);};}catch(_0x28ee29){console[_0x3349d7(0x10f)](_0x3349d7(0x118),_0x28ee29);}}document[_0x1f7a83(0x11d)](_0x1f7a83(0xe2))[_0x1f7a83(0x139)]('click',async function(_0x39e8bc){var _0xfd1efc=_0x1f7a83;_0x39e8bc['preventDefault']();const _0x22a8dd=document[_0xfd1efc(0x11d)](_0xfd1efc(0xcf)),_0x30aff9=document[_0xfd1efc(0x11d)](_0xfd1efc(0xb0))[_0xfd1efc(0x161)];if(!_0x22a8dd[_0xfd1efc(0x161)][_0xfd1efc(0x195)]()&&_0x30aff9==0x0){ntfShow(_0xfd1efc(0x1a6),0x2,0x1);return;}_0x30aff9==0x1&&(_0x22a8dd[_0xfd1efc(0x161)]='',baseItem[_0xfd1efc(0xbb)]='');const _0x293a6e=document[_0xfd1efc(0x11d)](_0xfd1efc(0x103));if(!_0x293a6e[_0xfd1efc(0x161)][_0xfd1efc(0x195)]()){ntfShow(_0xfd1efc(0x1de),0x2,0x1);return;}const _0x554041=document[_0xfd1efc(0x11d)](_0xfd1efc(0x1ef));hideModalCreateItem(),showLoadingModal();newItems[_0xfd1efc(0xef)]===0x0&&(newItems=[baseItem]);const _0x2d5ab8=document[_0xfd1efc(0x11d)](_0xfd1efc(0x1b0))[_0xfd1efc(0x161)],_0x441d5a=window_options[_0x2d5ab8][_0xfd1efc(0x113)],_0x509db5=[];newItems['forEach'](_0xaea529=>{var _0x2756a8=_0xfd1efc;const _0x34b94e=generateNumericUniqId();_0xaea529[_0x2756a8(0x1d4)]['forEach'](_0x83225d=>{var _0x53314d=_0x2756a8;const _0x37afdc=generateNumericUniqId();_0x83225d['setItemUnitId']=_0x37afdc;const _0x8fa2fa={'id':_0x37afdc,'setIdProducto':_0x34b94e,'setCodProducto':_0xaea529[_0x53314d(0xbb)],'setDescripcion':_0xaea529[_0x53314d(0x100)],'setItemDescription':_0xaea529['setItemDescription'],'setBatchExpirationDate':_0xaea529[_0x53314d(0xb6)],'setBatchName':'','setCategoria':_0xaea529['setItemCategories'][0x0]||'','setMarca':_0xaea529['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x83225d[_0x53314d(0x172)]),'setImages':[],'setImg':_0x53314d(0x12f),'setInventariable':0x1,'setItemIsBought':_0xaea529['setItemIsBought']?0x1:0x0,'setItemIsSold':_0xaea529[_0x53314d(0x1aa)]?0x1:0x0,'setPorcentajeIgv':_0xaea529[_0x53314d(0xd0)],'setPrinters':[],'setTaxId':_0xaea529['setItemTaxId'],'setTipAfeIgv':_0xaea529[_0x53314d(0x14c)],'setUnidad':_0x83225d[_0x53314d(0xd4)],'setUnidadCodigo':_0x83225d[_0x53314d(0xd4)],'setItemUnitAlias':_0x83225d['setAlias'],'currency_data':[{'currency':_0x441d5a,'setMtoPrecioCostoUnitario':_0x83225d[_0x53314d(0x101)],'setMtoPrecioUnitario':_0x83225d[_0x53314d(0xd5)],'setPriceLists':[]}],'sucursales':_0xaea529[_0x53314d(0x19b)]['map'](_0x19a356=>({'setIdSucursal':_0x19a356['setWarehouseCode'],'setSucursalStock':_0x19a356[_0x53314d(0x1c7)][_0x53314d(0x1d8)](),'setWarehouseStockMin':_0x19a356['setStockMinimum'][_0x53314d(0x1d8)]()})),'setItemFree':_0xaea529[_0x53314d(0xb0)],'setItemBarCode':_0xaea529['setItemBarCode'],'setItemBrands':_0xaea529[_0x53314d(0xca)][_0x53314d(0x1a4)](),'setItemCategories':_0xaea529[_0x53314d(0xdd)]['slice'](),'setItemComponents':_0xaea529[_0x53314d(0xb4)]['map'](_0x172163=>({..._0x172163})),'setItemImages':_0xaea529[_0x53314d(0x1b3)][_0x53314d(0x1a4)](),'setItemVariantName':_0xaea529[_0x53314d(0x1f8)],'setItemVariantValues':{..._0xaea529[_0x53314d(0x200)]}};_0x509db5['push'](_0x8fa2fa),(_0x554041[_0x53314d(0x1e0)]||_0x30aff9==0x1)&&addToCart(_0x8fa2fa);});}),console[_0xfd1efc(0xc2)]('Items\x20finales:',newItems),await finalizeImport(_0x509db5,newItems,![]);}),[_0x1f7a83(0x12a),_0x1f7a83(0x1b8)][_0x1f7a83(0xee)](_0xebf103=>dropZone[_0x1f7a83(0x139)](_0xebf103,_0x4c55f0=>{var _0x4b49ca=_0x1f7a83;_0x4c55f0[_0x4b49ca(0xea)](),dropZone[_0x4b49ca(0x191)][_0x4b49ca(0x1b5)]('dragover');})),[_0x1f7a83(0x1bc),_0x1f7a83(0xe3)]['forEach'](_0x519ff5=>dropZone[_0x1f7a83(0x139)](_0x519ff5,_0x143175=>{var _0x3bc263=_0x1f7a83;_0x143175[_0x3bc263(0xea)](),dropZone['classList'][_0x3bc263(0x1db)](_0x3bc263(0x1b8));})),dropZone['addEventListener'](_0x1f7a83(0xe3),_0x2a8296=>{var _0x44f7f4=_0x1f7a83;const _0x5abe15=_0x2a8296[_0x44f7f4(0x10e)]['files'][0x0];if(!_0x5abe15)return;fileInput['files']=_0x2a8296['dataTransfer'][_0x44f7f4(0x1c2)],dropZone['querySelector'](_0x44f7f4(0x141))[_0x44f7f4(0x1c4)]=_0x5abe15[_0x44f7f4(0x17e)],removeBtn[_0x44f7f4(0x151)]=![],fileInput[_0x44f7f4(0xc9)](new Event(_0x44f7f4(0x104)));}),removeBtn['addEventListener'](_0x1f7a83(0xc7),()=>{var _0x2c8703=_0x1f7a83;fileInput[_0x2c8703(0x161)]='',dropZone['querySelector'](_0x2c8703(0x141))['textContent']=_0x2c8703(0x1bf),removeBtn[_0x2c8703(0x151)]=!![],progressBar[_0x2c8703(0xde)]['display']=_0x2c8703(0x138),statusDiv['textContent']='',uploadBtn[_0x2c8703(0xba)]=!![];});const exportBtn=document[_0x1f7a83(0x11d)](_0x1f7a83(0x121));exportBtn[_0x1f7a83(0x139)](_0x1f7a83(0xc7),onClickExportarItems);async function onClickExportarItems(){var _0x1b876e=_0x1f7a83;if(!Array[_0x1b876e(0x1a2)](products)||!products[_0x1b876e(0xef)]){ntfShow(_0x1b876e(0x15b));return;}try{const _0xd9e05f=await fetch(_0x1b876e(0x1e1));if(!_0xd9e05f['ok'])throw new Error(_0x1b876e(0xbc));const _0x55369a=await _0xd9e05f[_0x1b876e(0xf8)](),_0x4af9aa=document['getElementById']('setWarehouseId')['value'];let _0x4df682=products;const _0x15b9de=getUserPermissionApiERP(0x2);_0x15b9de==0x1&&(_0x4df682=products['filter'](_0x59460c=>Array['isArray'](_0x59460c[_0x1b876e(0xf2)])&&_0x59460c[_0x1b876e(0xf2)][_0x1b876e(0x15e)](_0x227df3=>String(_0x227df3[_0x1b876e(0xfa)])==String(_0x4af9aa))));const _0x13ac64=_0x4df682[_0x1b876e(0x1c1)]((_0x36badf,_0x6c659d)=>{var _0x1e75f3=_0x1b876e;const _0xee08cb=_0x6c659d[_0x1e75f3(0x1f1)];if(!_0x36badf[_0xee08cb])_0x36badf[_0xee08cb]=[];return _0x36badf[_0xee08cb][_0x1e75f3(0x1f0)](_0x6c659d),_0x36badf;},{}),_0x8eaf2d=Object[_0x1b876e(0xb5)](_0x13ac64)[_0x1b876e(0x18b)](_0x42d1bb=>{var _0x5f4dcc=_0x1b876e;const _0x4a428a=_0x42d1bb[0x0],_0x279d18=_0x42d1bb[0x1]||{},_0x52d1d6=_0x42d1bb[0x2]||{};function _0x420bab(_0x5145af,_0x269693,_0xf19a3f){var _0x28927a=_0x33b6;if(!_0x5145af||!Array[_0x28927a(0x1a2)](_0x5145af[_0x28927a(0x178)]))return'';const _0x14eeca=_0x5145af[_0x28927a(0x178)][_0x28927a(0x1ce)](_0x338cd6=>_0x338cd6['currency']===_0x269693);return _0x14eeca?_0x14eeca[_0xf19a3f]:'';}return{'id':_0x4a428a[_0x5f4dcc(0x1f1)],'setItemType':_0x4a428a[_0x5f4dcc(0x187)],'setCodProducto':_0x4a428a[_0x5f4dcc(0xed)],'setDescripcion':_0x4a428a[_0x5f4dcc(0x11a)],'setItemDescription':_0x4a428a[_0x5f4dcc(0x1d1)],'setCategoria':_0x4a428a[_0x5f4dcc(0x122)],'setMarca':_0x4a428a[_0x5f4dcc(0x10c)],'setTaxId':_0x4a428a[_0x5f4dcc(0x131)],'setUnitId':_0x4a428a['id'],'setItemBarCode':_0x4a428a[_0x5f4dcc(0x13c)],'setUnidadCodigo':_0x4a428a['setUnidadCodigo'],'setItemUnitAlias':_0x4a428a['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x420bab(_0x4a428a,'PEN',_0x5f4dcc(0x117)),'PEN_setMtoPrecioCostoUnitario':_0x420bab(_0x4a428a,_0x5f4dcc(0x169),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x420bab(_0x4a428a,_0x5f4dcc(0x198),_0x5f4dcc(0x117)),'USD_setMtoPrecioCostoUnitario':_0x420bab(_0x4a428a,_0x5f4dcc(0x198),_0x5f4dcc(0x19c)),'setUnitId2':_0x279d18['id']??'','setItemBarCode2':_0x279d18[_0x5f4dcc(0x13c)]??'','setUnidadCodigo2':_0x279d18[_0x5f4dcc(0x1e6)]??'','setItemUnitAlias2':_0x279d18['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x279d18[_0x5f4dcc(0xdb)]??'','PEN_setMtoPrecioUnitario2':_0x420bab(_0x279d18,_0x5f4dcc(0x169),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x420bab(_0x279d18,_0x5f4dcc(0x169),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x420bab(_0x279d18,_0x5f4dcc(0x198),_0x5f4dcc(0x117))??'','USD_setMtoPrecioCostoUnitario2':_0x420bab(_0x279d18,_0x5f4dcc(0x198),'setMtoPrecioCostoUnitario')??'','setUnitId3':_0x52d1d6['id']??'','setItemBarCode3':_0x52d1d6['setItemBarCode']??'','setUnidadCodigo3':_0x52d1d6[_0x5f4dcc(0x1e6)]??'','setItemUnitAlias3':_0x52d1d6['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x52d1d6['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x420bab(_0x52d1d6,_0x5f4dcc(0x169),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x420bab(_0x52d1d6,_0x5f4dcc(0x169),_0x5f4dcc(0x19c))??'','USD_setMtoPrecioUnitario3':_0x420bab(_0x52d1d6,'USD',_0x5f4dcc(0x117))??'','USD_setMtoPrecioCostoUnitario3':_0x420bab(_0x52d1d6,_0x5f4dcc(0x198),_0x5f4dcc(0x19c))??'','setInventariable':_0x4a428a[_0x5f4dcc(0xe4)],'setSucursalStock':_0x15b9de==0x1?_0x4a428a[_0x5f4dcc(0xf2)][_0x5f4dcc(0x1ce)](_0x2d9b63=>String(_0x2d9b63[_0x5f4dcc(0xfa)])==String(_0x4af9aa))[_0x5f4dcc(0xe7)]:'','setWarehouseStockMin':_0x15b9de==0x1?_0x4a428a[_0x5f4dcc(0xf2)][_0x5f4dcc(0x1ce)](_0x1a410b=>String(_0x1a410b[_0x5f4dcc(0xfa)])==String(_0x4af9aa))[_0x5f4dcc(0xfb)]:'','setBatchName':_0x4a428a[_0x5f4dcc(0x17a)],'setBatchExpirationDate':_0x4a428a['setBatchExpirationDate'],..._0x4a428a[_0x5f4dcc(0x200)]};});try{JSON[_0x1b876e(0xfe)](_0x8eaf2d);}catch(_0x593771){console[_0x1b876e(0x10f)](_0x1b876e(0x18a),_0x593771),ntfShow(_0x1b876e(0x167));return;}statusDiv[_0x1b876e(0x1c4)]=_0x1b876e(0x174),progressBar[_0x1b876e(0xde)][_0x1b876e(0x14b)]=_0x1b876e(0x1b4),progressBar[_0x1b876e(0x161)]=0x0,itemWorker['postMessage']({'action':_0x1b876e(0x185),'products':_0x8eaf2d,'plantillaBuf':_0x55369a},[_0x55369a]);}catch(_0x52a29a){console[_0x1b876e(0x10f)](_0x52a29a),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x52a29a[_0x1b876e(0xf0)]);}}itemWorker['onmessage']=({data:_0x219720})=>{var _0x359bcd=_0x1f7a83;const {type:_0x11a58f,payload:_0x34c8cb}=_0x219720;_0x11a58f===_0x359bcd(0x13f)&&(progressBar[_0x359bcd(0xde)][_0x359bcd(0x14b)]=_0x359bcd(0x1b4),progressBar[_0x359bcd(0x161)]=_0x34c8cb[_0x359bcd(0x182)],statusDiv[_0x359bcd(0x1c4)]=_0x34c8cb['message']);_0x11a58f==='done'&&(newItemsExcel=_0x34c8cb['items'],statusDiv[_0x359bcd(0x1c4)]='✅\x20'+newItemsExcel['length']+_0x359bcd(0xcd),uploadBtn[_0x359bcd(0xba)]=![],progressBar[_0x359bcd(0x161)]=0x64,console[_0x359bcd(0xc2)](newItemsExcel));_0x11a58f===_0x359bcd(0x10f)&&(statusDiv[_0x359bcd(0x1c4)]='❌\x20Error:\x20'+_0x34c8cb,progressBar['style'][_0x359bcd(0x14b)]=_0x359bcd(0x138));if(_0x11a58f===_0x359bcd(0x108)){const {wbout:_0x555ce5,count:_0x4c5401}=_0x34c8cb,_0x3c337a=new Blob([_0x555ce5],{'type':_0x359bcd(0x143)}),_0x134b59=URL['createObjectURL'](_0x3c337a),_0x354e2d=document[_0x359bcd(0x123)]('a'),_0x423715=new Date()[_0x359bcd(0x164)]()[_0x359bcd(0x1a4)](0x0,0xa);_0x354e2d[_0x359bcd(0x1a5)]=_0x359bcd(0x1d9)+_0x423715+'.xlsx',_0x354e2d[_0x359bcd(0x1f9)]=_0x134b59,_0x354e2d['click'](),URL[_0x359bcd(0xd7)](_0x134b59),statusDiv[_0x359bcd(0x1c4)]=_0x359bcd(0x17d)+_0x4c5401+_0x359bcd(0x15c),progressBar['style'][_0x359bcd(0x14b)]='none';}},fileInput[_0x1f7a83(0x139)]('change',async _0x1946a6=>{var _0x253b66=_0x1f7a83;const _0x3c551d=_0x1946a6['target'][_0x253b66(0x1c2)][0x0];if(!_0x3c551d)return;uploadBtn[_0x253b66(0xba)]=!![],newItemsExcel=null,statusDiv[_0x253b66(0x1c4)]='',progressBar[_0x253b66(0xde)]['display']=_0x253b66(0x138),dropZone[_0x253b66(0x17f)](_0x253b66(0x141))[_0x253b66(0x1c4)]=_0x3c551d[_0x253b66(0x17e)],removeBtn['hidden']=![];try{const _0x339a7e=await _0x3c551d[_0x253b66(0xf8)]();itemWorker['postMessage']({'action':_0x253b66(0xb3),'buf':_0x339a7e,'maxRows':0x1388});}catch(_0x2e5c1f){statusDiv['textContent']=_0x253b66(0x1ad);}finally{fileInput[_0x253b66(0x161)]='';}}),uploadBtn[_0x1f7a83(0x139)](_0x1f7a83(0xc7),async()=>{var _0x5de466=_0x1f7a83;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x13620e=document[_0x5de466(0x11d)](_0x5de466(0x162))[_0x5de466(0x161)],_0x2da467=[];newItemsExcel[_0x5de466(0xee)](_0x5a5fc0=>{var _0x528d09=_0x5de466;const _0x40b76c=Boolean(_0x5a5fc0[_0x528d09(0x1ed)]),_0x3b3c2c=_0x40b76c?_0x5a5fc0[_0x528d09(0x1ed)]:generateNumericUniqId();_0x5a5fc0[_0x528d09(0x19b)]=[{'setStockInitial':_0x5a5fc0[_0x528d09(0x1c7)],'setStockMinimum':_0x5a5fc0[_0x528d09(0x146)],'setWarehouseCode':_0x13620e}],_0x5a5fc0[_0x528d09(0x1d4)][_0x528d09(0xee)](_0x13fb82=>{var _0x19f281=_0x528d09;const _0x3119c0=Boolean(_0x13fb82[_0x19f281(0x1cb)]),_0x3abb81=_0x3119c0?_0x13fb82['setItemUnitId']:generateNumericUniqId();_0x13fb82[_0x19f281(0x1cb)]=_0x3abb81;const _0x273ca1=[];_0x273ca1[_0x19f281(0x1f0)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x13fb82[_0x19f281(0x101)],'setMtoPrecioUnitario':_0x13fb82['setPrice'],'setPriceLists':[]});const _0x1748e2=_0x13fb82['setCostUSD']!=null&&_0x13fb82['setPriceUSD']!=null&&(!isNaN(_0x13fb82[_0x19f281(0x158)])||!isNaN(_0x13fb82[_0x19f281(0x1ca)]));_0x1748e2&&_0x273ca1['push']({'currency':_0x19f281(0x198),'setMtoPrecioCostoUnitario':_0x13fb82[_0x19f281(0x158)],'setMtoPrecioUnitario':_0x13fb82['setPriceUSD'],'setPriceLists':[]});const _0x1affa0={'id':_0x3abb81,'setIdProducto':_0x3b3c2c,'setItemBarCode':_0x13fb82[_0x19f281(0x13c)],'setCodProducto':_0x5a5fc0['setItemCode'],'setDescripcion':_0x5a5fc0['setItemName'],'setItemDescription':_0x5a5fc0['setItemDescription'],'setBatchExpirationDate':_0x5a5fc0['setItemDateExpiry'],'setBatchName':_0x5a5fc0[_0x19f281(0x17a)],'setCategoria':_0x5a5fc0[_0x19f281(0xdd)][0x0]||'','setMarca':_0x5a5fc0[_0x19f281(0xca)][0x0]||'','setConversionFactor':parseFloat(_0x13fb82[_0x19f281(0x172)]),'setImages':[],'setImg':_0x19f281(0x12f),'setInventariable':_0x5a5fc0[_0x19f281(0x180)],'setItemIsBought':_0x5a5fc0[_0x19f281(0x186)],'setItemIsSold':_0x5a5fc0[_0x19f281(0x1aa)],'setPorcentajeIgv':_0x5a5fc0[_0x19f281(0xd0)],'setPrinters':[],'setTaxId':_0x5a5fc0[_0x19f281(0x109)],'setTipAfeIgv':_0x5a5fc0[_0x19f281(0x14c)],'setUnidad':_0x13fb82[_0x19f281(0xd4)],'setUnidadCodigo':_0x13fb82[_0x19f281(0xd4)],'setItemUnitAlias':_0x13fb82[_0x19f281(0x1c8)],'currency_data':_0x273ca1,'sucursales':_0x5a5fc0[_0x19f281(0x19b)][_0x19f281(0x18b)](_0x4a0577=>({'setIdSucursal':_0x4a0577[_0x19f281(0x135)],'setSucursalStock':_0x4a0577[_0x19f281(0x1c7)]['toString'](),'setWarehouseStockMin':_0x4a0577[_0x19f281(0x146)][_0x19f281(0x1d8)]()})),'setItemFree':_0x5a5fc0[_0x19f281(0xb0)],'setItemBrands':_0x5a5fc0[_0x19f281(0xca)][_0x19f281(0x1a4)](),'setItemCategories':_0x5a5fc0['setItemCategories'][_0x19f281(0x1a4)](),'setItemComponents':_0x5a5fc0[_0x19f281(0xb4)][_0x19f281(0x18b)](_0x39010d=>({..._0x39010d})),'setItemImages':_0x5a5fc0['setItemImages'][_0x19f281(0x1a4)](),'setItemVariantName':_0x5a5fc0[_0x19f281(0x1f8)],'setItemVariantValues':{..._0x5a5fc0['setItemVariantValues']}},_0x425f14=products[_0x19f281(0x15d)](_0x4bda5e=>_0x4bda5e['id']==_0x3abb81&&_0x4bda5e[_0x19f281(0x1f1)]==_0x3b3c2c);_0x425f14>-0x1?Object[_0x19f281(0x13b)](products[_0x425f14],_0x1affa0):_0x2da467[_0x19f281(0x1f0)](_0x1affa0);});}),console['log'](_0x5de466(0x140),newItemsExcel),await finalizeImport(_0x2da467,newItemsExcel,!![]);});function initializeFormImages(){var _0x9b2243=_0x1f7a83;currentImages=Array(MAX_IMAGES)['fill'](null),imgC['innerHTML']='',baseItem[_0x9b2243(0x1b3)]=[];for(var _0x2033c3=0x0;_0x2033c3<MAX_IMAGES;_0x2033c3++){(function(_0x2f187f){var _0x2f8eb9=_0x9b2243,_0x4e8df8=document[_0x2f8eb9(0x123)](_0x2f8eb9(0x10b));_0x4e8df8['className']='image_box',_0x4e8df8[_0x2f8eb9(0xff)][_0x2f8eb9(0x11b)]=_0x2f187f;var _0x4879a1=document['createElement'](_0x2f8eb9(0x153));_0x4879a1[_0x2f8eb9(0x136)]='file',_0x4879a1[_0x2f8eb9(0x165)]=_0x2f8eb9(0x160),_0x4879a1[_0x2f8eb9(0xde)]['display']=_0x2f8eb9(0x138);var _0xf7ad1a=document[_0x2f8eb9(0x123)](_0x2f8eb9(0x184));_0xf7ad1a['textContent']='+',_0x4e8df8[_0x2f8eb9(0xe8)](_0x4879a1),_0x4e8df8[_0x2f8eb9(0xe8)](_0xf7ad1a),imgC['appendChild'](_0x4e8df8),_0x4e8df8[_0x2f8eb9(0x139)]('click',function(){var _0x277348=_0x2f8eb9;_0x4879a1[_0x277348(0xc7)]();}),_0x4879a1[_0x2f8eb9(0x139)](_0x2f8eb9(0x104),function(_0x2d0b6b){var _0x28d645=_0x2f8eb9,_0x3f8184=_0x2d0b6b[_0x28d645(0x1da)][_0x28d645(0x1c2)][0x0];if(!_0x3f8184)return removeImg(_0x2f187f);var _0x1585d4=new FileReader();_0x1585d4['onload']=function(_0x596b26){var _0x5890ce=_0x28d645;_0x4e8df8['innerHTML']='<img\x20src=\x22'+_0x596b26[_0x5890ce(0x1da)][_0x5890ce(0x1c3)]+'\x22>';var _0x4967ac=document['createElement']('span');_0x4967ac[_0x5890ce(0xf6)]=_0x5890ce(0x1db),_0x4967ac['textContent']='×',_0x4967ac[_0x5890ce(0x139)](_0x5890ce(0xc7),function(_0x163d1b){_0x163d1b['stopPropagation'](),removeImg(_0x2f187f);}),_0x4e8df8[_0x5890ce(0xe8)](_0x4967ac),currentImages[_0x2f187f]=_0x3f8184,baseItem['setItemImages']=currentImages[_0x5890ce(0x1c9)](function(_0x3b04e3){return _0x3b04e3;});},_0x1585d4[_0x28d645(0x1fe)](_0x3f8184);});}(_0x2033c3));}}function initializeFormIsSoldIsBought(_0x9c92fb=0x0){var _0x33a285=_0x1f7a83;let _0x49ddd7,_0x490e1d;if(_0x9c92fb!=0x0){const _0x497c65=products[_0x33a285(0x1ce)](_0x3287d4=>_0x3287d4['id']==_0x9c92fb);_0x49ddd7=_0x497c65['setItemIsBought']==0x1||_0x497c65[_0x33a285(0x186)]==!![]?!![]:![],_0x490e1d=_0x497c65[_0x33a285(0x1aa)]==0x1||_0x497c65[_0x33a285(0x1aa)]==!![]?!![]:![];}else _0x49ddd7=!![],_0x490e1d=!![];document[_0x33a285(0x11d)]('newItem_chk_buy')[_0x33a285(0x1e0)]=_0x49ddd7,document[_0x33a285(0x11d)](_0x33a285(0x1d5))[_0x33a285(0x1e0)]=_0x490e1d,baseItem['setItemIsBought']=_0x49ddd7,baseItem[_0x33a285(0x1aa)]=_0x490e1d;}function initializeFormInputsBasic(_0x4e4326=0x0){var _0x38b709=_0x1f7a83;let _0xf5d46,_0x1ea448,_0x311fc0,_0x5803b0,_0xc8849b,_0x964f89;if(_0x4e4326!=0x0){const _0x563aec=products[_0x38b709(0x1ce)](_0x316936=>_0x316936['id']==_0x4e4326);_0xf5d46=_0x563aec['setItemType']??'1',_0x1ea448=_0x563aec[_0x38b709(0xed)],_0x311fc0=_0x563aec[_0x38b709(0x11a)],_0x5803b0=_0x563aec[_0x38b709(0x1d1)],_0xc8849b=_0x563aec[_0x38b709(0x171)]??'',_0x964f89=_0x563aec[_0x38b709(0x13c)];}else _0xf5d46='1',_0x1ea448=getNextCode(products),_0x311fc0='',_0x5803b0='',_0xc8849b='',_0x964f89='';document['getElementById']('inputItemType')['value']=_0xf5d46,document[_0x38b709(0x11d)](_0x38b709(0xcf))[_0x38b709(0x161)]=_0x1ea448,document[_0x38b709(0x11d)]('inputItemName')[_0x38b709(0x161)]=_0x311fc0,document[_0x38b709(0x11d)](_0x38b709(0x120))['value']=_0x5803b0,document[_0x38b709(0x11d)](_0x38b709(0x134))[_0x38b709(0x161)]=_0xc8849b,document[_0x38b709(0x11d)](_0x38b709(0x18c))[_0x38b709(0x161)]=_0x964f89,baseItem[_0x38b709(0x187)]=_0xf5d46,baseItem['setItemCode']=_0x1ea448,baseItem[_0x38b709(0x100)]=_0x311fc0,baseItem[_0x38b709(0x1d1)]=_0x5803b0,baseItem['setItemDateExpiry']=_0xc8849b,baseItem[_0x38b709(0x13c)]=_0x964f89,document['getElementById'](_0x38b709(0x1ef))[_0x38b709(0x1e0)]=![];}function initializeFormTax(_0x1e8b5f=0x0){var _0x28f99a=_0x1f7a83;let _0x292d36;if(_0x1e8b5f!=0x0){const _0x1d37f0=products[_0x28f99a(0x1ce)](_0x5459a0=>_0x5459a0['id']==_0x1e8b5f);_0x292d36=_0x1d37f0[_0x28f99a(0x131)];}else _0x292d36=myCompany[_0x28f99a(0x15f)];const _0x944193=document[_0x28f99a(0x11d)]('inputItemTax');_0x944193['value']=_0x292d36,baseItem[_0x28f99a(0x109)]=_0x292d36;const _0x180d7e=company[0x0][_0x28f99a(0x152)][_0x28f99a(0x1ce)](_0x41b72b=>_0x41b72b[_0x28f99a(0x131)]==_0x292d36)?.['setImpuestoCode']||0x0,_0xdccb2d=company[0x0]['setImpuestos']['find'](_0x4d6748=>_0x4d6748[_0x28f99a(0x131)]==_0x292d36)?.[_0x28f99a(0x1b9)]||0x0;baseItem[_0x28f99a(0x14c)]=_0x180d7e,baseItem[_0x28f99a(0xd0)]=_0xdccb2d;}function initializeFormCategoriesBrands(_0x5c246a=0x0){var _0x2001da=_0x1f7a83;baseItem[_0x2001da(0xdd)]=[],baseItem[_0x2001da(0xca)]=[],document['querySelector'](_0x2001da(0x16d))[_0x2001da(0x176)]='',document[_0x2001da(0x17f)](_0x2001da(0x1ab))[_0x2001da(0x176)]='',document[_0x2001da(0x17f)](_0x2001da(0x105))['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.options_list')[_0x2001da(0x176)]='';const _0x397a39=myCompany[_0x2001da(0xdd)][_0x2001da(0x18b)](_0x100ebb=>({'setCode':_0x100ebb[_0x2001da(0x168)],'setName':_0x100ebb[_0x2001da(0x168)]})),_0x4e3662=myCompany['setItemBrands'][_0x2001da(0x18b)](_0xbbc310=>({'setCode':_0xbbc310[_0x2001da(0x19f)],'setName':_0xbbc310[_0x2001da(0x19f)]}));initMulti(_0x2001da(0x1ff),_0x397a39),initMulti(_0x2001da(0x116),_0x4e3662),document[_0x2001da(0x11d)](_0x2001da(0x1ff))['addEventListener'](_0x2001da(0xc8),function(_0x26512f){var _0x3de3a7=_0x2001da;baseItem[_0x3de3a7(0xdd)]=_0x26512f[_0x3de3a7(0x188)][_0x3de3a7(0x18b)](_0x44cbff=>_0x44cbff['setCode']);}),document[_0x2001da(0x11d)](_0x2001da(0x116))[_0x2001da(0x139)]('selectionChange',function(_0x300d53){var _0xadd94e=_0x2001da;baseItem[_0xadd94e(0xca)]=_0x300d53[_0xadd94e(0x188)][_0xadd94e(0x18b)](_0x49d0c8=>_0x49d0c8[_0xadd94e(0x13d)]);});if(_0x5c246a!=0x0){const _0x281cc4=products['find'](_0x1d9310=>_0x1d9310['id']==_0x5c246a);if(_0x281cc4['setCategoria']){const _0x5c3a78=document['getElementById'](_0x2001da(0x1ff)),_0x3e9ee9=Array[_0x2001da(0xe9)](_0x5c3a78[_0x2001da(0x110)](_0x2001da(0x1cf)))[_0x2001da(0x1ce)](_0x5d219e=>_0x5d219e[_0x2001da(0xff)]['code']==_0x281cc4[_0x2001da(0x122)]);_0x3e9ee9&&_0x3e9ee9[_0x2001da(0xc7)]();}if(_0x281cc4[_0x2001da(0x10c)]){const _0x386954=document[_0x2001da(0x11d)](_0x2001da(0x116)),_0x573161=Array[_0x2001da(0xe9)](_0x386954[_0x2001da(0x110)]('.options_list\x20div'))['find'](_0x2b7632=>_0x2b7632[_0x2001da(0xff)]['code']==_0x281cc4[_0x2001da(0x10c)]);_0x573161&&_0x573161[_0x2001da(0xc7)]();}}}function initializeFormUnits(){var _0x310bbd=_0x1f7a83;unitCount=0x0,document[_0x310bbd(0x11d)]('newItem_units_container')[_0x310bbd(0x176)]='',baseItem[_0x310bbd(0x1d4)]=[];var _0x35cbdf=uniqueValuesArray('setUnitCode',_0x310bbd(0xd8),myCompany['setUnits']);addUnit('',_0x35cbdf[0x3a]&&_0x35cbdf[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x27d760=_0x1f7a83;prodC[_0x27d760(0x176)]='',baseItem[_0x27d760(0xb4)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x541ab0=_0x1f7a83;branchesC[_0x541ab0(0x176)]='',baseItem[_0x541ab0(0x19b)]=[];const _0x2ec423=getAllWarehouses();_0x2ec423[_0x541ab0(0xee)](function(_0x28450f){var _0x5884e8=_0x541ab0,_0x3b7841=document[_0x5884e8(0x123)](_0x5884e8(0x10b));_0x3b7841[_0x5884e8(0x176)]=_0x5884e8(0x18d)+'<div\x20class=\x22newItem_col\x22>'+_0x5884e8(0x1d6)+_0x28450f[_0x5884e8(0x162)]+_0x5884e8(0x10a)+_0x28450f['setWarehouseName']+_0x5884e8(0x129)+'</div>'+_0x5884e8(0x16c)+_0x5884e8(0x1e4)+_0x28450f['setWarehouseId']+'\x22>'+_0x5884e8(0x1ec)+_0x5884e8(0x16c)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x28450f['setWarehouseId']+'\x22>'+_0x5884e8(0x1ec)+_0x5884e8(0x1ec),branchesC[_0x5884e8(0xe8)](_0x3b7841),_0x3b7841[_0x5884e8(0x110)](_0x5884e8(0x153))[_0x5884e8(0xee)](function(_0x2875d8){var _0xd9c934=_0x5884e8;_0x2875d8['addEventListener'](_0xd9c934(0x153),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x35ad82=_0x1f7a83;baseItem[_0x35ad82(0x1f8)]='',baseItem[_0x35ad82(0x200)]={},vgC[_0x35ad82(0x176)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x24fd3a,_0x57c3fa,_0x583bbf=![]){var _0x5453b8=_0x1f7a83;const _0xdbdf7f=0xc8,_0x2f05ec={'apiPOSsendOffline':'1','setTipoOperacion':_0x5453b8(0x157),'setToken':company[0x0][_0x5453b8(0xad)],'setWebhook':company[0x0][_0x5453b8(0xbf)]};for(let _0x24c89d=0x0;_0x24c89d<_0x57c3fa[_0x5453b8(0xef)];_0x24c89d+=_0xdbdf7f){const _0x27ac32=_0x57c3fa[_0x5453b8(0x1a4)](_0x24c89d,_0x24c89d+_0xdbdf7f);await storeOfflineProduct({..._0x2f05ec,'newItems':_0x27ac32});}products['push'](..._0x24fd3a),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x583bbf?(fileInput[_0x5453b8(0x161)]='',uploadBtn[_0x5453b8(0xba)]=!![],statusDiv[_0x5453b8(0x1c4)]='',progressBar[_0x5453b8(0xde)][_0x5453b8(0x14b)]='none',progressBar[_0x5453b8(0x161)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}