/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.2
*/

var _0x11ecd5=_0x2f85;(function(_0x27b7b8,_0x129f9a){var _0x333eff=_0x2f85,_0x4c25d2=_0x27b7b8();while(!![]){try{var _0x5045fa=-parseInt(_0x333eff(0x19b))/0x1+parseInt(_0x333eff(0x26e))/0x2+-parseInt(_0x333eff(0x1ff))/0x3*(-parseInt(_0x333eff(0x1fc))/0x4)+parseInt(_0x333eff(0x21b))/0x5+parseInt(_0x333eff(0x24b))/0x6*(-parseInt(_0x333eff(0x277))/0x7)+-parseInt(_0x333eff(0x175))/0x8+parseInt(_0x333eff(0x297))/0x9;if(_0x5045fa===_0x129f9a)break;else _0x4c25d2['push'](_0x4c25d2['shift']());}catch(_0x2e6f70){_0x4c25d2['push'](_0x4c25d2['shift']());}}}(_0x483b,0xca9cd));var _0x51b0cc=(function(){var _0x10af12=!![];return function(_0x2e88ad,_0x3fc3bd){var _0x3fe994=_0x10af12?function(){var _0x4bfa07=_0x2f85;if(_0x3fc3bd){var _0x2559df=_0x3fc3bd[_0x4bfa07(0x204)](_0x2e88ad,arguments);return _0x3fc3bd=null,_0x2559df;}}:function(){};return _0x10af12=![],_0x3fe994;};}()),_0x2e5be1=_0x51b0cc(this,function(){var _0x2d06ce=_0x2f85;return _0x2e5be1['toString']()[_0x2d06ce(0x1cf)](_0x2d06ce(0x235))[_0x2d06ce(0x1b1)]()[_0x2d06ce(0x19c)](_0x2e5be1)[_0x2d06ce(0x1cf)](_0x2d06ce(0x235));});_0x2e5be1();var _0x38e4b1=(function(){var _0x34227d=!![];return function(_0x19f4df,_0x5000da){var _0x520722=_0x34227d?function(){var _0xc69e54=_0x2f85;if(_0x5000da){var _0xd59b8d=_0x5000da[_0xc69e54(0x204)](_0x19f4df,arguments);return _0x5000da=null,_0xd59b8d;}}:function(){};return _0x34227d=![],_0x520722;};}()),_0xfc7ba3=_0x38e4b1(this,function(){var _0x36c081=_0x2f85,_0x454bae;try{var _0x17dd44=Function(_0x36c081(0x27f)+_0x36c081(0x1f8)+');');_0x454bae=_0x17dd44();}catch(_0x3292de){_0x454bae=window;}var _0x5d8223=_0x454bae[_0x36c081(0x182)]=_0x454bae[_0x36c081(0x182)]||{},_0x541a10=['log',_0x36c081(0x242),_0x36c081(0x293),'error',_0x36c081(0x28b),_0x36c081(0x17a),_0x36c081(0x268)];for(var _0x5659bc=0x0;_0x5659bc<_0x541a10[_0x36c081(0x1a8)];_0x5659bc++){var _0x42a552=_0x38e4b1[_0x36c081(0x19c)][_0x36c081(0x213)][_0x36c081(0x286)](_0x38e4b1),_0x4ee4d1=_0x541a10[_0x5659bc],_0x490b73=_0x5d8223[_0x4ee4d1]||_0x42a552;_0x42a552[_0x36c081(0x287)]=_0x38e4b1[_0x36c081(0x286)](_0x38e4b1),_0x42a552['toString']=_0x490b73[_0x36c081(0x1b1)][_0x36c081(0x286)](_0x490b73),_0x5d8223[_0x4ee4d1]=_0x42a552;}});_0xfc7ba3();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x11ecd5(0x198)](_0x11ecd5(0x1f5)),unitCount=0x0,branchesC=document[_0x11ecd5(0x198)](_0x11ecd5(0x192)),prodC=document['getElementById']('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x11ecd5(0x198)]('newItem_variants_forms'),vgC=document['getElementById'](_0x11ecd5(0x24f));const fileInput=document[_0x11ecd5(0x198)](_0x11ecd5(0x1ca)),progressBar=document['getElementById'](_0x11ecd5(0x1d5)),statusDiv=document[_0x11ecd5(0x198)](_0x11ecd5(0x232)),uploadBtn=document['getElementById'](_0x11ecd5(0x1c5));let newItemsExcel=null;function _0x2f85(_0x202360,_0x5adc06){var _0xa4b0ba=_0x483b();return _0x2f85=function(_0xfc7ba3,_0x38e4b1){_0xfc7ba3=_0xfc7ba3-0x167;var _0x1b92fd=_0xa4b0ba[_0xfc7ba3];return _0x1b92fd;},_0x2f85(_0x202360,_0x5adc06);}const itemWorker=new Worker(_0x11ecd5(0x28f)),dropZone=document[_0x11ecd5(0x198)](_0x11ecd5(0x1f6)),removeBtn=document[_0x11ecd5(0x198)](_0x11ecd5(0x1ad));function showModalCreateItem(_0x234dd2){var _0x1a28ba=_0x11ecd5;const _0x2ff239=document[_0x1a28ba(0x198)](_0x1a28ba(0x279)),_0x4fb4=document[_0x1a28ba(0x198)](_0x1a28ba(0x2a7));_0x2ff239[_0x1a28ba(0x1b2)]['add'](_0x1a28ba(0x215)),_0x4fb4[_0x1a28ba(0x212)][_0x1a28ba(0x19f)]=_0x1a28ba(0x180);const _0x1db372=document[_0x1a28ba(0x198)](_0x1a28ba(0x1b0));_0x1db372[_0x1a28ba(0x214)]=parseInt(_0x234dd2),baseItem[_0x1a28ba(0x1b0)]=parseInt(_0x234dd2);const _0x4f2254=document[_0x1a28ba(0x198)](_0x1a28ba(0x29b));_0x234dd2==0x0&&(_0x4f2254[_0x1a28ba(0x227)]='Nuevo\x20Producto');_0x234dd2==0x1&&(_0x4f2254['innerHTML']='Producto\x20Libre');const _0x2abb71=document[_0x1a28ba(0x23e)](_0x1a28ba(0x18c));for(let _0x5902a6=0x0;_0x5902a6<_0x2abb71[_0x1a28ba(0x1a8)];_0x5902a6++){const _0xf93eb4=_0x2abb71[_0x5902a6];if(_0x234dd2==0x0)_0xf93eb4[_0x1a28ba(0x1b2)]['remove']('hidden');else _0x234dd2==0x1&&_0xf93eb4[_0x1a28ba(0x1b2)][_0x1a28ba(0x260)](_0x1a28ba(0x273));}}function hideModalCreateItem(){var _0x3b2209=_0x11ecd5;const _0x58b5e5=document[_0x3b2209(0x198)](_0x3b2209(0x279)),_0x2e7bc8=document[_0x3b2209(0x198)](_0x3b2209(0x2a7));_0x58b5e5[_0x3b2209(0x1b2)][_0x3b2209(0x16c)](_0x3b2209(0x215)),_0x2e7bc8[_0x3b2209(0x212)][_0x3b2209(0x19f)]=_0x3b2209(0x17d);}document['getElementById'](_0x11ecd5(0x1bf))['addEventListener'](_0x11ecd5(0x209),hideModalCreateItem),document[_0x11ecd5(0x198)]('modalOverlayCreateItem')[_0x11ecd5(0x1bb)](_0x11ecd5(0x209),_0x3aa65c=>{var _0x10701b=_0x11ecd5;_0x3aa65c[_0x10701b(0x1b7)]==_0x3aa65c['currentTarget']&&_0x3aa65c[_0x10701b(0x1d8)]();});function loadTaxData(){var _0x440518=_0x11ecd5;const _0x51008a=document['getElementById'](_0x440518(0x23a));_0x51008a[_0x440518(0x227)]='',company[0x0][_0x440518(0x278)][_0x440518(0x2b3)](function(_0x11b8ac){var _0x3dc013=_0x440518;const _0xad9d10=document[_0x3dc013(0x1da)](_0x3dc013(0x256));_0xad9d10['value']=_0x11b8ac[_0x3dc013(0x20e)],_0xad9d10[_0x3dc013(0x227)]=_0x11b8ac[_0x3dc013(0x26d)]+'\x20('+_0x11b8ac[_0x3dc013(0x1f7)]+'%)',_0x11b8ac['setTaxId']==company[0x0][_0x3dc013(0x1ef)]&&(_0xad9d10['selected']=!![]),_0x51008a[_0x3dc013(0x26c)](_0xad9d10);});}function uniqueValuesArray(_0xffdcf1,_0x53f297,_0x4ef991){var _0x2cb97f=_0x11ecd5;const _0x34276f=Array[_0x2cb97f(0x186)](new Set(_0x4ef991[_0x2cb97f(0x184)](_0x8804e4=>{var _0x1fd719=_0x2cb97f;const _0x5915a2=_0x8804e4[_0xffdcf1];return typeof _0x5915a2===_0x1fd719(0x21c)?_0x5915a2[_0x1fd719(0x18a)]():_0x5915a2;})['filter'](_0x97a04a=>_0x97a04a!=null&&_0x97a04a!=='')));return _0x34276f[_0x2cb97f(0x184)](_0x2588bd=>{var _0x1d253e=_0x2cb97f;const _0x3e702a=_0x4ef991['find'](_0x1ef931=>_0x1ef931[_0xffdcf1]===_0x2588bd),_0x5b3019=_0x3e702a&&_0x3e702a[_0x53f297]!=null?String(_0x3e702a[_0x53f297])[_0x1d253e(0x18a)]():_0x2588bd;return{'setCode':_0x2588bd,'setName':_0x5b3019};});}function fillSelect(_0x47721b,_0x4d9c9c,_0x3d9a9a,_0x184d76){var _0x5ac05a=_0x11ecd5;_0x47721b[_0x5ac05a(0x227)]='',_0x4d9c9c[_0x5ac05a(0x2b3)](function(_0x399114){var _0x1a61d6=_0x5ac05a,_0x1cd225=new Option(_0x399114[_0x184d76],_0x399114[_0x3d9a9a]);_0x47721b[_0x1a61d6(0x260)](_0x1cd225);});}function initMulti(_0x5d07c7,_0xd579eb){var _0x41e696=_0x11ecd5,_0x59986c=document[_0x41e696(0x198)](_0x5d07c7),_0x2e4112=_0x59986c['querySelector'](_0x41e696(0x225)),_0x566c8a=_0x59986c[_0x41e696(0x25f)](_0x41e696(0x1a6)),_0x2b203a=_0x59986c[_0x41e696(0x25f)](_0x41e696(0x17f)),_0x5f24d2=_0xd579eb[_0x41e696(0x288)](),_0x10ad85=[];let _0x494d6d=null,_0x4b99ec=![];function _0xd1b9e3(){var _0x5e8803=_0x41e696;const _0x3b3f42=_0x2e4112[_0x5e8803(0x214)][_0x5e8803(0x18a)]();if(!_0x3b3f42)return;const _0x1a460f=_0x5f24d2[_0x5e8803(0x1ea)](_0x1a4982=>_0x1a4982[_0x5e8803(0x169)][_0x5e8803(0x1d7)]()===_0x3b3f42[_0x5e8803(0x1d7)]());if(_0x1a460f)_0x10ad85['push'](_0x1a460f),_0x5f24d2[_0x5e8803(0x237)](_0x5f24d2[_0x5e8803(0x224)](_0x1217b2=>_0x1217b2[_0x5e8803(0x25a)]===_0x1a460f[_0x5e8803(0x25a)]),0x1);else{const _0x3f5474=_0x10ad85[_0x5e8803(0x1e2)](_0x3d141f=>_0x3d141f[_0x5e8803(0x169)][_0x5e8803(0x1d7)]()===_0x3b3f42[_0x5e8803(0x1d7)]());!_0x3f5474&&_0x10ad85[_0x5e8803(0x1cd)]({'setCode':_0x3b3f42,'setName':_0x3b3f42});}_0x3cc862(),_0x2130ed(),_0x2e4112[_0x5e8803(0x214)]='';}function _0x2130ed(){var _0x501edc=_0x41e696;_0x566c8a[_0x501edc(0x227)]='',_0x5f24d2[_0x501edc(0x1a1)](_0x45e641=>_0x45e641['setName'][_0x501edc(0x1d7)]()['includes'](_0x2e4112[_0x501edc(0x214)]['toLowerCase']()))[_0x501edc(0x288)](0x0,0x14)[_0x501edc(0x2b3)](_0x1ceb7f=>{var _0x1575b9=_0x501edc,_0x1a17e4=document[_0x1575b9(0x1da)]('div');_0x1a17e4[_0x1575b9(0x262)]=_0x1ceb7f[_0x1575b9(0x169)],_0x1a17e4[_0x1575b9(0x1c9)][_0x1575b9(0x252)]=_0x1ceb7f['setCode'],_0x566c8a[_0x1575b9(0x26c)](_0x1a17e4),_0x1a17e4['addEventListener'](_0x1575b9(0x193),()=>_0x4b99ec=!![]),_0x1a17e4[_0x1575b9(0x1bb)]('click',function(){var _0x24bf4f=_0x1575b9;_0x4b99ec=![],_0x10ad85[_0x24bf4f(0x1cd)](_0x1ceb7f),_0x5f24d2[_0x24bf4f(0x237)](_0x5f24d2[_0x24bf4f(0x224)](_0x596bef=>_0x596bef[_0x24bf4f(0x25a)]===_0x1ceb7f[_0x24bf4f(0x25a)]),0x1),_0x2e4112[_0x24bf4f(0x214)]='',_0x3cc862(),_0x2130ed();});});}function _0x3cc862(){var _0x478fc6=_0x41e696;_0x2b203a[_0x478fc6(0x227)]='',_0x10ad85[_0x478fc6(0x2b3)](_0x4df6bc=>{var _0x45c618=_0x478fc6,_0x5ab650=document['createElement']('div');_0x5ab650[_0x45c618(0x271)]=_0x45c618(0x1ac),_0x5ab650[_0x45c618(0x262)]=_0x4df6bc['setName'];var _0x16f92a=document[_0x45c618(0x1da)]('span');_0x16f92a[_0x45c618(0x271)]=_0x45c618(0x206),_0x16f92a['textContent']='×',_0x16f92a[_0x45c618(0x1bb)](_0x45c618(0x209),function(){var _0x2dfaf5=_0x45c618;_0x5f24d2[_0x2dfaf5(0x1cd)](_0x4df6bc);const _0x330d6e=_0x10ad85[_0x2dfaf5(0x224)](_0xb96c8=>_0xb96c8[_0x2dfaf5(0x25a)]===_0x4df6bc[_0x2dfaf5(0x25a)]);if(_0x330d6e>-0x1)_0x10ad85[_0x2dfaf5(0x237)](_0x330d6e,0x1);_0x3cc862(),_0x2130ed();}),_0x5ab650[_0x45c618(0x26c)](_0x16f92a),_0x2b203a[_0x45c618(0x26c)](_0x5ab650);}),_0x59986c['dispatchEvent'](new CustomEvent(_0x478fc6(0x27d),{'detail':_0x10ad85,'bubbles':!![]}));}return _0x2e4112[_0x41e696(0x1bb)]('focus',function(){var _0x48b584=_0x41e696;_0x494d6d&&(clearTimeout(_0x494d6d),_0x494d6d=null),_0x566c8a[_0x48b584(0x1b2)][_0x48b584(0x16c)](_0x48b584(0x197));}),_0x2e4112[_0x41e696(0x1bb)](_0x41e696(0x28e),_0x2130ed),_0x2e4112[_0x41e696(0x1bb)](_0x41e696(0x1d2),function(_0x5d5a56){var _0x442650=_0x41e696;_0x5d5a56[_0x442650(0x211)]===_0x442650(0x167)&&(_0x5d5a56[_0x442650(0x1f4)](),_0xd1b9e3());}),_0x2e4112[_0x41e696(0x1bb)]('blur',function(){if(_0x4b99ec)return;_0x494d6d=setTimeout(()=>{_0xd1b9e3(),_0x494d6d=null;},0xc8);}),document[_0x41e696(0x1bb)](_0x41e696(0x209),function(_0x311f2b){var _0x4c5af9=_0x41e696;!_0x59986c[_0x4c5af9(0x1d6)](_0x311f2b['target'])&&_0x566c8a[_0x4c5af9(0x1b2)][_0x4c5af9(0x260)](_0x4c5af9(0x197));}),_0x2130ed(),_0x10ad85;}function getLastCode(_0x5d804c){var _0x456bb8=_0x11ecd5;const _0x7b280a=_0x5d804c[_0x456bb8(0x184)](_0x26156e=>String(_0x26156e[_0x456bb8(0x296)])[_0x456bb8(0x18a)]())[_0x456bb8(0x1a1)](_0x344926=>_0x344926!=='');if(_0x7b280a[_0x456bb8(0x1a8)]===0x0)return'';const _0x20a2e7=_0x7b280a['every'](_0x568764=>/^\d+$/[_0x456bb8(0x201)](_0x568764));if(_0x20a2e7){const _0x2fff35=_0x7b280a[_0x456bb8(0x184)](Number),_0x31529a=Math['max'](..._0x2fff35);return String(_0x31529a);}let _0x3259c8;if(typeof Intl!==_0x456bb8(0x23b)&&Intl[_0x456bb8(0x1e5)]){const _0x315955=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':'base'});_0x3259c8=_0x7b280a[_0x456bb8(0x288)]()[_0x456bb8(0x233)](_0x315955[_0x456bb8(0x19d)]);}else{const _0x18855a=_0x7b280a[_0x456bb8(0x1bc)](_0xdb82be=>/^\d+$/['test'](_0xdb82be));_0x18855a?_0x3259c8=_0x7b280a[_0x456bb8(0x184)](Number)[_0x456bb8(0x233)]((_0xeda33a,_0xbb6e8b)=>_0xeda33a-_0xbb6e8b)[_0x456bb8(0x184)](String):_0x3259c8=_0x7b280a[_0x456bb8(0x288)]()[_0x456bb8(0x233)]();}return _0x3259c8[_0x3259c8[_0x456bb8(0x1a8)]-0x1];}function getNextCode(_0x3ad733){var _0x2ea35f=_0x11ecd5;const _0x39545e=getLastCode(_0x3ad733);if(!_0x39545e)return'';if(/^\d+$/[_0x2ea35f(0x201)](_0x39545e))return String(Number(_0x39545e)+0x1);const _0x1e6be0=_0x39545e[_0x2ea35f(0x1de)](/^([A-Za-z]*)(\d+)$/);if(_0x1e6be0){const [,_0x10be3e,_0x5c3157]=_0x1e6be0,_0x11420b=String(Number(_0x5c3157)+0x1)[_0x2ea35f(0x1b6)](_0x5c3157[_0x2ea35f(0x1a8)],'0');return _0x10be3e+_0x11420b;}return _0x39545e;}document[_0x11ecd5(0x198)](_0x11ecd5(0x194))[_0x11ecd5(0x1bb)](_0x11ecd5(0x28e),function(_0x5b627a){var _0x4aeb22=_0x11ecd5;baseItem['setItemName']=_0x5b627a[_0x4aeb22(0x1b7)][_0x4aeb22(0x214)];}),document['getElementById']('inputItemDescription')[_0x11ecd5(0x1bb)](_0x11ecd5(0x28e),function(_0x204504){var _0x5a26c2=_0x11ecd5;baseItem[_0x5a26c2(0x238)]=_0x204504['target'][_0x5a26c2(0x214)];}),document[_0x11ecd5(0x198)](_0x11ecd5(0x2a2))[_0x11ecd5(0x1bb)](_0x11ecd5(0x28e),function(_0x4d53c7){var _0x3a72ed=_0x11ecd5;baseItem[_0x3a72ed(0x274)]=_0x4d53c7[_0x3a72ed(0x1b7)][_0x3a72ed(0x214)];}),document[_0x11ecd5(0x198)](_0x11ecd5(0x244))[_0x11ecd5(0x1bb)](_0x11ecd5(0x284),function(_0x43b5be){var _0x21da89=_0x11ecd5;baseItem['setItemType']=_0x43b5be[_0x21da89(0x1b7)][_0x21da89(0x214)];}),document[_0x11ecd5(0x198)]('inputItemTax')[_0x11ecd5(0x1bb)](_0x11ecd5(0x284),function(_0x27fcfd){var _0x2df8ba=_0x11ecd5;baseItem['setItemTaxId']=_0x27fcfd[_0x2df8ba(0x1b7)][_0x2df8ba(0x214)];const _0x3e86ee=_0x27fcfd[_0x2df8ba(0x1b7)][_0x2df8ba(0x214)],_0x4715e8=company[0x0]['setImpuestos'][_0x2df8ba(0x1ea)](_0x314440=>_0x314440[_0x2df8ba(0x20e)]==_0x3e86ee)?.[_0x2df8ba(0x2ac)]||0x0,_0x1de061=company[0x0]['setImpuestos'][_0x2df8ba(0x1ea)](_0x3e5ff6=>_0x3e5ff6[_0x2df8ba(0x20e)]==_0x3e86ee)?.[_0x2df8ba(0x1f7)]||0x0;baseItem[_0x2df8ba(0x28a)]=_0x4715e8,baseItem['setItemTaxValue']=_0x1de061;}),document[_0x11ecd5(0x198)](_0x11ecd5(0x243))[_0x11ecd5(0x1bb)](_0x11ecd5(0x284),function(_0x391cf3){var _0x2eb450=_0x11ecd5;baseItem[_0x2eb450(0x19e)]=_0x391cf3[_0x2eb450(0x1b7)][_0x2eb450(0x1b8)];}),document[_0x11ecd5(0x198)]('newItem_chk_sell')[_0x11ecd5(0x1bb)](_0x11ecd5(0x284),function(_0x9c2c7d){var _0x634cb=_0x11ecd5;baseItem[_0x634cb(0x239)]=_0x9c2c7d[_0x634cb(0x1b7)][_0x634cb(0x1b8)];}),document[_0x11ecd5(0x198)](_0x11ecd5(0x246))['addEventListener'](_0x11ecd5(0x28e),function(_0x1ce0ba){var _0x1ab47d=_0x11ecd5;baseItem[_0x1ab47d(0x1af)]=_0x1ce0ba['target']['value'];}),document[_0x11ecd5(0x198)]('inputItemBarCode')['addEventListener']('input',function(_0x4f51e0){var _0x1c2210=_0x11ecd5;baseItem[_0x1c2210(0x24d)]=_0x4f51e0[_0x1c2210(0x1b7)][_0x1c2210(0x214)];}),document[_0x11ecd5(0x198)](_0x11ecd5(0x1c2))[_0x11ecd5(0x1bb)](_0x11ecd5(0x209),function(){addUnit(),updateUnitsArray();}),document[_0x11ecd5(0x198)](_0x11ecd5(0x246))['addEventListener'](_0x11ecd5(0x1fd),function(){var _0x8e5436=_0x11ecd5;const _0x4f5841=this[_0x8e5436(0x214)][_0x8e5436(0x18a)]();if(_0x4f5841==='')return;const _0x4f2e10=products[_0x8e5436(0x1e2)](_0x267ca1=>_0x267ca1[_0x8e5436(0x296)]==_0x4f5841),_0x19e65f=getLastCode(products);_0x4f2e10?ntfShow(_0x8e5436(0x1ba)+_0x19e65f,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x4b189b){var _0x3dd284=_0x11ecd5;currentImages[_0x4b189b]=null;var _0x3e4618=imgC[_0x3dd284(0x25f)](_0x3dd284(0x1e4)+_0x4b189b+'\x22]');_0x3e4618[_0x3dd284(0x227)]='';var _0x4ac8b7=document[_0x3dd284(0x1da)](_0x3dd284(0x28e));_0x4ac8b7[_0x3dd284(0x29a)]=_0x3dd284(0x18b),_0x4ac8b7[_0x3dd284(0x23c)]=_0x3dd284(0x27b),_0x4ac8b7[_0x3dd284(0x212)][_0x3dd284(0x19f)]=_0x3dd284(0x17d);var _0x848e03=document['createElement']('span');_0x848e03[_0x3dd284(0x262)]='+',_0x3e4618[_0x3dd284(0x26c)](_0x4ac8b7),_0x3e4618['appendChild'](_0x848e03),_0x3e4618['addEventListener'](_0x3dd284(0x209),function(){var _0x55f8cb=_0x3dd284;_0x4ac8b7[_0x55f8cb(0x209)]();}),baseItem[_0x3dd284(0x188)]=currentImages['filter'](function(_0x4eb32c){return _0x4eb32c;});}function addUnit(_0x64900,_0x4c5719,_0x535c09,_0x36b414,_0x5822c6,_0x3ffe9e,_0x303df4){var _0x13f7d9=_0x11ecd5,_0x5c95af=uniqueValuesArray(_0x13f7d9(0x2ad),_0x13f7d9(0x1c3),myCompany[_0x13f7d9(0x208)]);_0x64900=_0x64900||'',_0x4c5719=_0x4c5719||_0x5c95af[0x3a]&&_0x5c95af[0x3a][_0x13f7d9(0x25a)]||'',_0x535c09=_0x535c09!==undefined?_0x535c09:0x1,_0x36b414=!!_0x36b414,_0x5822c6=_0x5822c6||'',_0x3ffe9e=_0x3ffe9e||'';var _0x12d15b=unitCount++,_0x96586d=document[_0x13f7d9(0x1da)]('div');_0x96586d[_0x13f7d9(0x1c9)][_0x13f7d9(0x22a)]=_0x12d15b,_0x96586d[_0x13f7d9(0x1c9)]['default']=_0x36b414,_0x96586d[_0x13f7d9(0x227)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x12d15b+_0x13f7d9(0x28d)+_0x64900+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x12d15b+_0x13f7d9(0x195)+_0x12d15b+'\x22\x20value=\x22'+_0x535c09+'\x22\x20'+(_0x36b414?'disabled':'')+_0x13f7d9(0x16b)+_0x12d15b+_0x13f7d9(0x28d)+_0x5822c6+_0x13f7d9(0x22d)+_0x12d15b+'\x22\x20value=\x22'+_0x3ffe9e+_0x13f7d9(0x2a8)+(_0x36b414?'style=\x22display:none\x22':'')+_0x13f7d9(0x1a7),fillSelect(_0x96586d['querySelector'](_0x13f7d9(0x220)),_0x5c95af,_0x13f7d9(0x25a),'setName'),_0x96586d[_0x13f7d9(0x25f)](_0x13f7d9(0x220))[_0x13f7d9(0x214)]=_0x4c5719,['unitAlias',_0x13f7d9(0x29d),'eqInput',_0x13f7d9(0x222),_0x13f7d9(0x1fa)]['forEach'](function(_0x31a43a){var _0x4cc100=_0x13f7d9;_0x96586d[_0x4cc100(0x25f)]('.'+_0x31a43a)[_0x4cc100(0x1bb)](_0x4cc100(0x28e),function(){var _0x4c6712=_0x303df4?+_0x303df4['id']['split']('_')[0x1]:null;if(_0x303df4)updateVariantUnits(_0x4c6712);else updateUnitsArray();});}),_0x96586d[_0x13f7d9(0x25f)](_0x13f7d9(0x1d3))['addEventListener'](_0x13f7d9(0x209),function(){var _0x24b422=_0x13f7d9;_0x96586d[_0x24b422(0x16c)]();var _0x5b648f=_0x303df4?+_0x303df4['id'][_0x24b422(0x1c6)]('_')[0x1]:null;if(_0x303df4)updateVariantUnits(_0x5b648f);else updateUnitsArray();});var _0x30ca46=_0x303df4||document[_0x13f7d9(0x198)](_0x13f7d9(0x231));_0x30ca46[_0x13f7d9(0x26c)](_0x96586d);}function containerIdx(_0x23b95d){var _0x1eeb7a=_0x11ecd5;return+_0x23b95d['id'][_0x1eeb7a(0x1c6)]('_')[0x1];}function updateUnitsArray(){var _0x300294=_0x11ecd5,_0x4f6617=[],_0x5365db=Array['from'](document[_0x300294(0x172)](_0x300294(0x27e))),_0x50b41c=_0x5365db[_0x300294(0x1ea)](_0x5621ab=>_0x5621ab[_0x300294(0x1c9)]['default']==='true'),_0x2f71fb=_0x50b41c?+_0x50b41c[_0x300294(0x25f)](_0x300294(0x1ab))[_0x300294(0x214)]:0x1;_0x5365db[_0x300294(0x2b3)](function(_0x46cc8d){var _0x52fc8f=_0x300294,_0xadaa14=+_0x46cc8d['querySelector'](_0x52fc8f(0x1ab))['value']||0x0,_0x51ff85=+_0x46cc8d[_0x52fc8f(0x25f)](_0x52fc8f(0x289))[_0x52fc8f(0x214)]||0x0,_0x132272=+_0x46cc8d['querySelector'](_0x52fc8f(0x236))[_0x52fc8f(0x214)]||0x0;_0x4f6617['push']({'setAlias':_0x46cc8d['querySelector'](_0x52fc8f(0x294))['value'][_0x52fc8f(0x18a)](),'setUnitCode':_0x46cc8d[_0x52fc8f(0x25f)](_0x52fc8f(0x220))['value'],'setEquivalence':_0xadaa14,'setFactor':_0x46cc8d['dataset'][_0x52fc8f(0x176)]===_0x52fc8f(0x1dc)?0x1:_0xadaa14==_0x2f71fb?0x1:_0xadaa14<_0x2f71fb?_0x2f71fb/_0xadaa14:_0xadaa14/_0x2f71fb,'setPrice':_0x51ff85,'setCost':_0x132272,'setDefault':_0x46cc8d[_0x52fc8f(0x1c9)][_0x52fc8f(0x176)]===_0x52fc8f(0x1dc)?0x1:0x0});}),baseItem[_0x300294(0x266)]=_0x4f6617;}function updateBranches(){var _0x9d84ae=_0x11ecd5,_0x12d837=[];document[_0x9d84ae(0x172)]('#newItem_branches_container\x20>\x20div')['forEach'](function(_0x583925){var _0x30ab94=_0x9d84ae,_0x4ec5e9=_0x583925['querySelector'](_0x30ab94(0x275));if(_0x4ec5e9[_0x30ab94(0x1b8)]){var _0x4d90f2=+_0x4ec5e9[_0x30ab94(0x1c9)]['id'],_0x552356=+_0x583925[_0x30ab94(0x25f)](_0x30ab94(0x1b5))[_0x30ab94(0x214)],_0x2ec88c=+_0x583925[_0x30ab94(0x25f)]('.branchMin')[_0x30ab94(0x214)];_0x12d837[_0x30ab94(0x1cd)]({'setWarehouseCode':_0x4d90f2,'setStockInitial':_0x552356,'setStockMinimum':_0x2ec88c});}}),baseItem[_0x9d84ae(0x196)]=_0x12d837;}document['getElementById'](_0x11ecd5(0x276))[_0x11ecd5(0x1bb)]('click',function(){var _0x4a4ff9=_0x11ecd5,_0x53f565=Date[_0x4a4ff9(0x187)](),_0x492a71=document[_0x4a4ff9(0x1da)]('div');_0x492a71['dataset']['idx']=_0x53f565,_0x492a71['innerHTML']=_0x4a4ff9(0x190)+_0x53f565+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x53f565+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x492a71),initProdSearch(_0x492a71[_0x4a4ff9(0x25f)](_0x4a4ff9(0x181))),_0x492a71['querySelector'](_0x4a4ff9(0x255))[_0x4a4ff9(0x1bb)](_0x4a4ff9(0x209),function(){var _0x3056be=_0x4a4ff9;_0x492a71[_0x3056be(0x16c)](),updateProdItems();}),_0x492a71['querySelector'](_0x4a4ff9(0x2a1))['addEventListener'](_0x4a4ff9(0x28e),updateProdItems),document['getElementById'](_0x4a4ff9(0x1e0))['classList'][_0x4a4ff9(0x2b5)]('newItem_title_table',!![]),document[_0x4a4ff9(0x198)]('newItem_title_table_cp')[_0x4a4ff9(0x1b2)][_0x4a4ff9(0x2b5)]('newItem_hidden',![]);});function initProdSearch(_0x3f2ae0,_0x1751f9){var _0x2f787d=_0x11ecd5,_0xc9f98f=_0x3f2ae0[_0x2f787d(0x25f)]('.prodInput'),_0x524519=_0x3f2ae0[_0x2f787d(0x25f)](_0x2f787d(0x1a6)),_0x50d0a7=_0x1751f9||null;if(_0x1751f9)_0xc9f98f[_0x2f787d(0x214)]=_0x1751f9[_0x2f787d(0x1cc)];_0xc9f98f[_0x2f787d(0x1bb)](_0x2f787d(0x28e),function(){var _0xa4bb47=_0x2f787d,_0x388f1c=_0xc9f98f[_0xa4bb47(0x214)]['toLowerCase']()['trim']();_0x524519[_0xa4bb47(0x227)]='';if(!_0x388f1c)return;products[_0xa4bb47(0x1a1)](_0x20081a=>_0x20081a[_0xa4bb47(0x18f)][_0xa4bb47(0x1d7)]()[_0xa4bb47(0x207)](_0x388f1c))[_0xa4bb47(0x288)](0x0,0x14)[_0xa4bb47(0x2b3)](function(_0x1d789b){var _0x39fce5=_0xa4bb47,_0x1814ba=document['createElement'](_0x39fce5(0x281));_0x1814ba[_0x39fce5(0x262)]=_0x1d789b[_0x39fce5(0x18f)],_0x1814ba['dataset']['id']=_0x1d789b['id'],_0x1814ba[_0x39fce5(0x1c9)]['name']=_0x1d789b[_0x39fce5(0x18f)],_0x524519['appendChild'](_0x1814ba),_0x1814ba[_0x39fce5(0x1bb)](_0x39fce5(0x209),function(){var _0x393ba3=_0x39fce5;_0x50d0a7={'id':_0x1d789b['id'],'name':_0x1d789b[_0x393ba3(0x18f)]},_0xc9f98f[_0x393ba3(0x214)]=_0x1d789b['setDescripcion'],_0x524519[_0x393ba3(0x227)]='';var _0x31ea82=_0x3f2ae0[_0x393ba3(0x1e1)](_0x393ba3(0x22c));if(_0x31ea82){var _0x5490a9=+_0x31ea82['id'][_0x393ba3(0x1c6)]('_')[0x1];updateVariantComponents(_0x5490a9);}else updateProdItems();});});}),_0xc9f98f[_0x2f787d(0x1bb)](_0x2f787d(0x282),function(){var _0x4b775d=_0x2f787d;_0x524519[_0x4b775d(0x1b2)]['remove'](_0x4b775d(0x197));}),document['addEventListener'](_0x2f787d(0x209),function(_0x2c5a1c){var _0xfd1082=_0x2f787d;if(!_0x3f2ae0[_0xfd1082(0x1d6)](_0x2c5a1c[_0xfd1082(0x1b7)]))_0x524519[_0xfd1082(0x1b2)][_0xfd1082(0x260)]('newItem_hidden');}),Object[_0x2f787d(0x1d9)](_0x3f2ae0,_0x2f787d(0x264),{'get':()=>_0x50d0a7});}function _0x483b(){var _0x21ca1c=['setItemVariantName','USD','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','objectStore','3438pLhxHd','files','setItemBarCode','setWarehouseStockMin','newItem_variant_groups','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','</div>','code','onerror','entries','.removeProd','option','setCategoria','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setItemComponents','setCode','.removeCombo','.xlsx','PEN','_branch_container','querySelector','add','\x20items\x20procesados.','textContent','✅\x20Exportación\x20completada:\x20','selectedItem','Generando\x20Excel...','setItemUnits','error','trace','setConversionFactor','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','message','appendChild','setImpuestoName','1318832dIKaGk','disabled','div[data-default=\x22true\x22]\x20.eqInput','className','\x20items.','hidden','setItemDateExpiry','.branchChk','newItem_btn_addProdItem','8897bVOVlw','setImpuestos','detalleModalCreateItem','setCostUSD','image/*','createObjectURL','selectionChange','#newItem_units_container\x20>\x20div','return\x20(function()\x20','setItemType','div','focus','\x22\x20class=\x22branchChk\x22>\x20','change','join','bind','__proto__','slice','.priceInput','setItemTaxCode','exception','setItemCommissionPercentage','\x22\x20value=\x22','input','./js/apierp_item_wk.min.js','dragover','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','setWarehouseCode','info','.unitAlias','postMessage','setCodProducto','7816905OMmIFS','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setItemVariantValues','type','modalProductNewTitle','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','unitSelect','isArray','setDefault','onload','.prodQty','inputItemDateExpiry','Error\x20al\x20guardar\x20Producto\x20Offline:','newItem_addToCart','Ingresa\x20el\x20código\x20del\x20item','setWarehouseName','modalOverlayCreateItem','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','toISOString','application/octet-stream','setMtoPrecioUnitario','setImpuestoCode','setUnitCode','detail','setPriceUSD','log','variantForm','dispatchEvent','forEach','setIdSucursal','toggle','Enter','inputItemBarCode','setName','setItemTaxId','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','remove','span','\x22\x20class=\x22branchChk\x22\x20checked>\x20','setFactor','setAlias','./excel/Plantilla-Items.xlsx','querySelectorAll','newItem_brands_select','setWarehouseId','9012496wBKWkW','default','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setMtoPrecioCostoUnitario','.branchMin','table','variant_','dataTransfer','none','setItemUnitId','.selected_tags','block','.prod_input_container','console','assign','map','arrayBuffer','from','now','setItemImages','#newItem_brands_select\x20.selected_tags','trim','file','productType1','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','.drop-zone__prompt','setDescripcion','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','_comp_container','newItem_branches_container','mousedown','inputItemName','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setItemWarehouses','newItem_hidden','getElementById','setStockInitial','setItemCategoryName','442489KPLdNU','constructor','compare','setItemIsBought','display','setItemUnitAlias','filter','btnExportarItems','fill','currency_data','sucursales','.options_list','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','length','offline_operations','Error\x20al\x20procesar\x20la\x20operación:','.eqInput','tag','remove-file','.removeGroup','setItemCode','setItemFree','toString','classList','setStockMinimum','setIdProducto','.branchInit','padStart','target','checked','</label>','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','addEventListener','every','.addVariantUnit','setItemBrands','closeModalCreateItem','.variantBarCode','setSucursalStock','newItem_btn_addUnit','setUnitName','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','upload-btn','split','setItemId','newItem_categories_select','dataset','file-input','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','name','push','parentNode','search','parse','revokeObjectURL','keydown','.removeUnit','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','progress','contains','toLowerCase','stopPropagation','defineProperty','createElement','setBatchName','true','image_box','match','reduce','newItem_title_table_cp','closest','some','newItem_btn_addVariantGroup','[data-idx=\x22','Collator','href','<div\x20class=\x22newItem_col\x22>','_units_container','Error\x20al\x20obtener\x20la\x20plantilla:\x20','find','setItemInventoriable','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','values','setInventariable','setTaxIdDefault','Plantilla-Items-Export-','./img/product.png','transaction','setBatchExpirationDate','preventDefault','newItem_images_container','drop-zone','setImpuestoValue','{}.constructor(\x22return\x20this\x22)(\x20)','dragleave','costInput','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','76DKlClc','blur','.options_list\x20div','91323RaEZtk','setItemTaxValue','test','readwrite','.vgVals','apply','done','remove-tag','includes','setUnits','click','dragenter','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','Items\x20finales:','newItem_title_table','setTaxId','setItemName','setItemBrandName','key','style','prototype','value','active','stringify','windowId','result','.removeVariant','import','5104475dHswkc','string','children','percent','.vgName','.unitSelect','currency','priceInput','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','findIndex','.ms_input','setItemCategories','innerHTML','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','idx','setCantidad','[id$=\x22_comp_container\x22]','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','download','setWebhook','newItem_units_container','status','sort','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','(((.+)+)+)+$','.costInput','splice','setItemDescription','setItemIsSold','inputItemTax','undefined','accept','setUnidadCodigo','getElementsByClassName','newItem_chk_sell','setMarca','setEquivalence','warn','newItem_chk_buy','inputItemType','setPrice','inputItemCode'];_0x483b=function(){return _0x21ca1c;};return _0x483b();}function updateProdItems(){var _0x1834bb=_0x11ecd5,_0x470fb1=[];Array[_0x1834bb(0x186)](prodC['children'])[_0x1834bb(0x2b3)](function(_0x1869e3){var _0xa3bfc8=_0x1834bb,_0x25efa6=_0x1869e3[_0xa3bfc8(0x25f)](_0xa3bfc8(0x181));if(!_0x25efa6)return;var _0x28b997=_0x1869e3[_0xa3bfc8(0x25f)](_0xa3bfc8(0x2a1)),_0x157d48=_0x25efa6[_0xa3bfc8(0x264)];_0x157d48&&_0x470fb1[_0xa3bfc8(0x1cd)]({'setItemId':_0x157d48['id'],'setDescripcion':_0x157d48['name'],'setCantidad':+_0x28b997[_0xa3bfc8(0x214)]});}),baseItem[_0x1834bb(0x259)]=_0x470fb1,_0x470fb1[_0x1834bb(0x1a8)]===0x0&&(document[_0x1834bb(0x198)]('newItem_title_table_cp')[_0x1834bb(0x1b2)][_0x1834bb(0x2b5)](_0x1834bb(0x20d),![]),document[_0x1834bb(0x198)]('newItem_title_table_cp')[_0x1834bb(0x1b2)][_0x1834bb(0x2b5)](_0x1834bb(0x197),!![]));}document[_0x11ecd5(0x198)](_0x11ecd5(0x1e3))['addEventListener'](_0x11ecd5(0x209),function(){var _0xb966a=_0x11ecd5,_0x4e4571=vgCount++,_0x33ef2a=document[_0xb966a(0x1da)](_0xb966a(0x281));_0x33ef2a[_0xb966a(0x1c9)][_0xb966a(0x22a)]=_0x4e4571,_0x33ef2a[_0xb966a(0x227)]=_0xb966a(0x229)+_0x4e4571+'\x22>'+_0xb966a(0x298)+_0x4e4571+'\x22>'+_0xb966a(0x234),vgC['appendChild'](_0x33ef2a),_0x33ef2a['querySelector'](_0xb966a(0x21f))[_0xb966a(0x1bb)](_0xb966a(0x1fd),generateVariants),_0x33ef2a['querySelector'](_0xb966a(0x203))[_0xb966a(0x1bb)](_0xb966a(0x1fd),generateVariants),_0x33ef2a[_0xb966a(0x25f)](_0xb966a(0x1ae))[_0xb966a(0x1bb)]('click',function(){var _0x59658b=_0xb966a;_0x33ef2a[_0x59658b(0x16c)](),generateVariants();});});function generateVariants(){var _0x92ac59=_0x11ecd5,_0x45faee=[];vgC[_0x92ac59(0x172)](_0x92ac59(0x281))[_0x92ac59(0x2b3)](function(_0x597ffa){var _0x22560d=_0x92ac59,_0x28c6b8=_0x597ffa[_0x22560d(0x25f)](_0x22560d(0x21f))['value'][_0x22560d(0x18a)](),_0x211eeb=_0x597ffa[_0x22560d(0x25f)](_0x22560d(0x203))['value'][_0x22560d(0x1c6)](',')[_0x22560d(0x184)](_0x5925fb=>_0x5925fb['trim']())[_0x22560d(0x1a1)](_0x348f20=>_0x348f20);if(_0x28c6b8&&_0x211eeb[_0x22560d(0x1a8)])_0x45faee[_0x22560d(0x1cd)]({'name':_0x28c6b8,'vals':_0x211eeb});});var _0x3bdeb5=[{}];_0x45faee[_0x92ac59(0x2b3)](function(_0x1fba0b){_0x3bdeb5=_0x3bdeb5['flatMap'](function(_0x11e49c){return _0x1fba0b['vals']['map'](function(_0x16bc17){var _0x4174df=_0x2f85,_0x189806=Object[_0x4174df(0x183)]({},_0x11e49c);return _0x189806[_0x1fba0b[_0x4174df(0x1cc)]]=_0x16bc17,_0x189806;});});}),newItems=[],varContainer['innerHTML']='',_0x3bdeb5[_0x92ac59(0x2b3)](function(_0x256a78,_0x14dd52){var _0x2c1816=_0x92ac59,_0x420da8=JSON[_0x2c1816(0x1d0)](JSON[_0x2c1816(0x216)](baseItem));_0x420da8[_0x2c1816(0x299)]=_0x256a78,_0x420da8[_0x2c1816(0x247)]=baseItem[_0x2c1816(0x20f)]+'\x20'+Object[_0x2c1816(0x254)](_0x256a78)[_0x2c1816(0x184)](_0x63f328=>_0x63f328[0x0]+'\x20'+_0x63f328[0x1])[_0x2c1816(0x285)]('\x20'),newItems[_0x2c1816(0x1cd)](_0x420da8);var _0x5837c8=document[_0x2c1816(0x1da)]('div');_0x5837c8[_0x2c1816(0x1b2)][_0x2c1816(0x260)](_0x2c1816(0x2b1)),_0x5837c8[_0x2c1816(0x1c9)][_0x2c1816(0x22a)]=_0x14dd52,_0x5837c8[_0x2c1816(0x227)]=_0x2c1816(0x250)+_0x420da8[_0x2c1816(0x247)]+_0x2c1816(0x249)+_0x420da8[_0x2c1816(0x1af)]+_0x2c1816(0x1cb)+_0x420da8[_0x2c1816(0x24d)]+_0x2c1816(0x1d4)+_0x420da8[_0x2c1816(0x274)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x14dd52+_0x2c1816(0x20b)+_0x14dd52+_0x2c1816(0x18d)+_0x14dd52+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x2c1816(0x26c)](_0x5837c8),_0x5837c8[_0x2c1816(0x25f)]('.variantCode')[_0x2c1816(0x1bb)]('input',_0x32baef=>newItems[_0x14dd52][_0x2c1816(0x1af)]=_0x32baef[_0x2c1816(0x1b7)][_0x2c1816(0x214)]),_0x5837c8[_0x2c1816(0x25f)](_0x2c1816(0x1c0))[_0x2c1816(0x1bb)](_0x2c1816(0x28e),_0x1b233f=>newItems[_0x14dd52][_0x2c1816(0x24d)]=_0x1b233f[_0x2c1816(0x1b7)][_0x2c1816(0x214)]),_0x5837c8['querySelector']('.variantExpiry')[_0x2c1816(0x1bb)]('change',_0x225a20=>newItems[_0x14dd52][_0x2c1816(0x274)]=_0x225a20[_0x2c1816(0x1b7)][_0x2c1816(0x214)]),initVariantUnits(_0x14dd52),initVariantComponents(_0x14dd52),initVariantBranches(_0x14dd52),_0x5837c8[_0x2c1816(0x25f)](_0x2c1816(0x219))['addEventListener'](_0x2c1816(0x209),function(){var _0x4f1d70=_0x2c1816,_0x17fafb=+_0x5837c8[_0x4f1d70(0x1c9)][_0x4f1d70(0x22a)];newItems['splice'](_0x17fafb,0x1),_0x5837c8[_0x4f1d70(0x16c)](),document['querySelectorAll']('.variantForm')[_0x4f1d70(0x2b3)](function(_0x474fe9,_0x2067a4){_0x474fe9['dataset']['idx']=_0x2067a4;});});});if(newItems[_0x92ac59(0x1a8)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x1d8bcb){var _0x3eb357=_0x11ecd5,_0x554ac7=document[_0x3eb357(0x198)](_0x3eb357(0x17b)+_0x1d8bcb+_0x3eb357(0x1e8)),_0x366205=[];Array[_0x3eb357(0x186)](_0x554ac7[_0x3eb357(0x21d)])[_0x3eb357(0x2b3)](function(_0x302205){var _0x5d83a8=_0x3eb357,_0x3bf1de=+_0x302205[_0x5d83a8(0x25f)]('.eqInput')['value']||0x0,_0x36af93=_0x302205[_0x5d83a8(0x25f)](_0x5d83a8(0x294))[_0x5d83a8(0x214)][_0x5d83a8(0x18a)](),_0x203162=_0x302205[_0x5d83a8(0x25f)](_0x5d83a8(0x220))[_0x5d83a8(0x214)],_0x130e9f=+_0x302205[_0x5d83a8(0x25f)](_0x5d83a8(0x289))[_0x5d83a8(0x214)]||0x0,_0x3021b0=+_0x302205[_0x5d83a8(0x25f)](_0x5d83a8(0x236))[_0x5d83a8(0x214)]||0x0,_0x54c1c0=_0x302205[_0x5d83a8(0x1c9)][_0x5d83a8(0x176)]===_0x5d83a8(0x1dc),_0xaaec0c=+_0x554ac7[_0x5d83a8(0x25f)](_0x5d83a8(0x270))[_0x5d83a8(0x214)]||0x1,_0x10cc2e=_0x54c1c0?0x1:_0x3bf1de==_0xaaec0c?0x1:_0x3bf1de<_0xaaec0c?_0xaaec0c/_0x3bf1de:_0x3bf1de/_0xaaec0c;_0x366205['push']({'setAlias':_0x36af93,'setUnitCode':_0x203162,'setEquivalence':_0x3bf1de,'setFactor':_0x10cc2e,'setPrice':_0x130e9f,'setCost':_0x3021b0,'setDefault':_0x54c1c0?0x1:0x0});}),newItems[_0x1d8bcb][_0x3eb357(0x266)]=_0x366205;}function initVariantUnits(_0x3149c0){var _0x5349d2=_0x11ecd5,_0x943e96=document[_0x5349d2(0x198)](_0x5349d2(0x17b)+_0x3149c0+_0x5349d2(0x1e8));_0x943e96[_0x5349d2(0x227)]='',newItems[_0x3149c0][_0x5349d2(0x266)][_0x5349d2(0x2b3)](function(_0x41ab50){var _0x2a545f=_0x5349d2;addUnit(_0x41ab50['setAlias'],_0x41ab50[_0x2a545f(0x2ad)],_0x41ab50[_0x2a545f(0x241)],_0x41ab50[_0x2a545f(0x29f)],_0x41ab50[_0x2a545f(0x245)],_0x41ab50['setCost'],_0x943e96);}),_0x943e96[_0x5349d2(0x1ce)][_0x5349d2(0x25f)](_0x5349d2(0x1bd))[_0x5349d2(0x1bb)]('click',function(){addUnit('','',0x1,![],'','',_0x943e96),updateVariantUnits(_0x3149c0);});}function updateVariantUnits(_0x1f587d){var _0x2f961f=_0x11ecd5,_0x22e773=document[_0x2f961f(0x198)](_0x2f961f(0x17b)+_0x1f587d+_0x2f961f(0x1e8)),_0x229da7=_0x22e773[_0x2f961f(0x25f)](_0x2f961f(0x270)),_0x569405=_0x229da7?+_0x229da7[_0x2f961f(0x214)]:0x1,_0x372d7a=Array['from'](_0x22e773['children'])[_0x2f961f(0x184)](function(_0x100bba){var _0x323775=_0x2f961f,_0x468df3=_0x100bba[_0x323775(0x25f)](_0x323775(0x294))[_0x323775(0x214)][_0x323775(0x18a)](),_0x49368e=_0x100bba[_0x323775(0x25f)](_0x323775(0x220))[_0x323775(0x214)],_0x45b46a=+_0x100bba[_0x323775(0x25f)](_0x323775(0x1ab))[_0x323775(0x214)]||0x0,_0x2eed45=+_0x100bba['querySelector']('.priceInput')['value']||0x0,_0x7230a5=+_0x100bba[_0x323775(0x25f)](_0x323775(0x236))[_0x323775(0x214)]||0x0,_0xdec539=_0x100bba[_0x323775(0x1c9)][_0x323775(0x176)]==='true';return{'setAlias':_0x468df3,'setUnitCode':_0x49368e,'setEquivalence':_0x45b46a,'setFactor':_0xdec539?0x1:_0x45b46a==_0x569405?0x1:_0x45b46a<_0x569405?_0x569405/_0x45b46a:_0x45b46a/_0x569405,'setPrice':_0x2eed45,'setCost':_0x7230a5,'setDefault':_0xdec539?0x1:0x0};});newItems[_0x1f587d][_0x2f961f(0x266)]=_0x372d7a;}function initVariantComponents(_0x2a08d9){var _0x4aff7b=_0x11ecd5,_0x2a311d=document['getElementById']('variant_'+_0x2a08d9+_0x4aff7b(0x191));_0x2a311d['innerHTML']='',newItems[_0x2a08d9]['setItemComponents']['forEach'](function(_0xb08324){var _0x6b2653=_0x4aff7b,_0x5b03d7=document['createElement'](_0x6b2653(0x281)),_0x46af29=Date['now']();_0x5b03d7['dataset']['idx']=_0x46af29,_0x5b03d7[_0x6b2653(0x227)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x46af29+_0x6b2653(0x291)+_0xb08324[_0x6b2653(0x22b)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x2a311d[_0x6b2653(0x26c)](_0x5b03d7),initProdSearch(_0x5b03d7['querySelector'](_0x6b2653(0x181)),{'id':_0xb08324[_0x6b2653(0x1c7)],'name':_0xb08324[_0x6b2653(0x18f)]}),_0x5b03d7['querySelector'](_0x6b2653(0x2a1))['addEventListener']('input',function(){updateVariantComponents(_0x2a08d9);}),_0x5b03d7[_0x6b2653(0x25f)](_0x6b2653(0x25b))[_0x6b2653(0x1bb)]('click',function(){var _0x5c3538=_0x6b2653;_0x5b03d7[_0x5c3538(0x16c)](),updateVariantComponents(_0x2a08d9);});}),_0x2a311d[_0x4aff7b(0x1ce)]['querySelector']('.addVariantComp')[_0x4aff7b(0x1bb)]('click',function(){var _0x2aa6bd=_0x4aff7b,_0x161c22=document[_0x2aa6bd(0x1da)](_0x2aa6bd(0x281)),_0x3fa801=Date[_0x2aa6bd(0x187)]();_0x161c22['dataset']['idx']=_0x3fa801,_0x161c22[_0x2aa6bd(0x227)]=_0x2aa6bd(0x177)+_0x3fa801+_0x2aa6bd(0x1fb),_0x2a311d[_0x2aa6bd(0x26c)](_0x161c22),initProdSearch(_0x161c22[_0x2aa6bd(0x25f)]('.prod_input_container')),_0x161c22[_0x2aa6bd(0x25f)](_0x2aa6bd(0x2a1))['addEventListener'](_0x2aa6bd(0x28e),function(){updateVariantComponents(_0x2a08d9);}),_0x161c22['querySelector'](_0x2aa6bd(0x25b))['addEventListener'](_0x2aa6bd(0x209),function(){var _0x29c4cd=_0x2aa6bd;_0x161c22[_0x29c4cd(0x16c)](),updateVariantComponents(_0x2a08d9);});});}function updateVariantComponents(_0x5dd963){var _0x5614ff=_0x11ecd5,_0x3257f3=document['getElementById'](_0x5614ff(0x17b)+_0x5dd963+_0x5614ff(0x191)),_0x545160=Array['from'](_0x3257f3['children'])[_0x5614ff(0x184)](function(_0x46c91e){var _0x563493=_0x5614ff,_0x488cf8=_0x46c91e[_0x563493(0x25f)](_0x563493(0x181)),_0x32f04e=_0x488cf8[_0x563493(0x264)],_0x3c91e3=+_0x46c91e[_0x563493(0x25f)](_0x563493(0x2a1))[_0x563493(0x214)]||0x0;return _0x32f04e?{'setItemId':_0x32f04e['id'],'setDescripcion':_0x32f04e[_0x563493(0x1cc)],'setCantidad':_0x3c91e3}:null;})[_0x5614ff(0x1a1)](_0xfd4303=>_0xfd4303);newItems[_0x5dd963][_0x5614ff(0x259)]=_0x545160;}function initVariantBranches(_0x5ae2f2){var _0x1d1b97=_0x11ecd5;const _0x16f86c=getAllWarehouses();var _0x151b10=document[_0x1d1b97(0x198)](_0x1d1b97(0x17b)+_0x5ae2f2+'_branch_container');_0x151b10['innerHTML']='',newItems[_0x5ae2f2][_0x1d1b97(0x196)]['forEach'](function(_0x5c5582){var _0x5c252a=_0x1d1b97,_0x451a72=_0x16f86c[_0x5c252a(0x1ea)](_0x59de4d=>_0x59de4d['setWarehouseId']==_0x5c5582[_0x5c252a(0x292)]),_0x2752ad=document['createElement'](_0x5c252a(0x281));_0x2752ad['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5c5582[_0x5c252a(0x292)]+_0x5c252a(0x16e)+_0x451a72[_0x5c252a(0x2a6)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5c5582[_0x5c252a(0x292)]+_0x5c252a(0x28d)+_0x5c5582['setStockInitial']+_0x5c252a(0x26a)+_0x5c5582['setWarehouseCode']+_0x5c252a(0x28d)+_0x5c5582[_0x5c252a(0x1b3)]+'\x22>',_0x151b10['appendChild'](_0x2752ad),_0x2752ad[_0x5c252a(0x172)](_0x5c252a(0x28e))[_0x5c252a(0x2b3)](function(_0x6d9b04){var _0x5924dd=_0x5c252a;_0x6d9b04[_0x5924dd(0x1bb)](_0x5924dd(0x28e),function(){updateVariantBranches(_0x5ae2f2);});});}),_0x16f86c[_0x1d1b97(0x2b3)](function(_0x594fc9){var _0x346dad=_0x1d1b97;if(!newItems[_0x5ae2f2][_0x346dad(0x196)]['find'](_0xa04d64=>_0xa04d64[_0x346dad(0x292)]===_0x594fc9[_0x346dad(0x174)])){var _0x597f6c=document[_0x346dad(0x1da)](_0x346dad(0x281));_0x597f6c[_0x346dad(0x227)]=_0x346dad(0x29c)+_0x594fc9[_0x346dad(0x174)]+_0x346dad(0x283)+_0x594fc9[_0x346dad(0x2a6)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x594fc9[_0x346dad(0x174)]+_0x346dad(0x26a)+_0x594fc9['setWarehouseId']+'\x22>',_0x151b10[_0x346dad(0x26c)](_0x597f6c),_0x597f6c['querySelectorAll']('input')[_0x346dad(0x2b3)](function(_0x3daf1d){var _0x53100d=_0x346dad;_0x3daf1d['addEventListener'](_0x53100d(0x28e),function(){updateVariantBranches(_0x5ae2f2);});});}});}function updateVariantBranches(_0x19fe6e){var _0x5816e0=_0x11ecd5,_0x3282f5=document[_0x5816e0(0x198)](_0x5816e0(0x17b)+_0x19fe6e+_0x5816e0(0x25e)),_0x3cd8af=[];_0x3282f5[_0x5816e0(0x172)](_0x5816e0(0x281))[_0x5816e0(0x2b3)](function(_0x43554a){var _0x24be3b=_0x5816e0,_0xb2775=_0x43554a[_0x24be3b(0x25f)](_0x24be3b(0x275));if(_0xb2775[_0x24be3b(0x1b8)]){var _0xb535f=+_0xb2775['dataset']['id'],_0x2cf3c6=+_0x43554a[_0x24be3b(0x25f)](_0x24be3b(0x1b5))[_0x24be3b(0x214)]||0x0,_0x5a0f18=+_0x43554a[_0x24be3b(0x25f)](_0x24be3b(0x179))['value']||0x0;_0x3cd8af[_0x24be3b(0x1cd)]({'setWarehouseCode':_0xb535f,'setStockInitial':_0x2cf3c6,'setStockMinimum':_0x5a0f18});}}),newItems[_0x19fe6e]['setItemWarehouses']=_0x3cd8af;}async function storeOfflineProduct(_0x41c570){var _0x563069=_0x11ecd5;try{const _0x4ea6bd=await createCartStore(''),_0x3608e9=_0x4ea6bd[_0x563069(0x1f2)](_0x563069(0x1a9),_0x563069(0x202)),_0xb995f7=_0x3608e9[_0x563069(0x24a)](_0x563069(0x1a9));_0xb995f7[_0x563069(0x260)](_0x41c570),_0x3608e9['oncomplete']=()=>{var _0x119fe0=_0x563069;console[_0x119fe0(0x2b0)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x3608e9[_0x563069(0x253)]=_0xba2eb4=>{var _0x3d60e4=_0x563069;console[_0x3d60e4(0x267)](_0x3d60e4(0x2a3),_0xba2eb4[_0x3d60e4(0x1b7)][_0x3d60e4(0x267)]);};}catch(_0x25756a){console[_0x563069(0x267)](_0x563069(0x1aa),_0x25756a);}}document['getElementById']('btnItemSave')[_0x11ecd5(0x1bb)](_0x11ecd5(0x209),async function(_0x5382fb){var _0x10a01d=_0x11ecd5;_0x5382fb[_0x10a01d(0x1f4)]();const _0x22e529=document[_0x10a01d(0x198)](_0x10a01d(0x246)),_0x4cce5d=document[_0x10a01d(0x198)](_0x10a01d(0x1b0))[_0x10a01d(0x214)];if(!_0x22e529[_0x10a01d(0x214)][_0x10a01d(0x18a)]()&&_0x4cce5d==0x0){ntfShow(_0x10a01d(0x2a5),0x2,0x1);return;}_0x4cce5d==0x1&&(_0x22e529[_0x10a01d(0x214)]='',baseItem[_0x10a01d(0x1af)]='');const _0x4fd001=document[_0x10a01d(0x198)](_0x10a01d(0x194));if(!_0x4fd001[_0x10a01d(0x214)][_0x10a01d(0x18a)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x1f0659=document[_0x10a01d(0x198)](_0x10a01d(0x2a4));hideModalCreateItem(),showLoadingModal();newItems[_0x10a01d(0x1a8)]===0x0&&(newItems=[baseItem]);const _0x5d7682=document[_0x10a01d(0x198)](_0x10a01d(0x217))['value'],_0x1565b7=window_options[_0x5d7682]['setMoneda'],_0x4d1dce=[];newItems[_0x10a01d(0x2b3)](_0x531f13=>{var _0x24afda=_0x10a01d;const _0x2017b0=generateNumericUniqId();_0x531f13['setItemUnits'][_0x24afda(0x2b3)](_0x3f3779=>{var _0x5aa9b8=_0x24afda;const _0x36e128=generateNumericUniqId();_0x3f3779['setItemUnitId']=_0x36e128;const _0xbfb162={'id':_0x36e128,'setIdProducto':_0x2017b0,'setCodProducto':_0x531f13['setItemCode'],'setDescripcion':_0x531f13[_0x5aa9b8(0x20f)],'setItemDescription':_0x531f13[_0x5aa9b8(0x238)],'setBatchExpirationDate':_0x531f13[_0x5aa9b8(0x274)],'setBatchName':'','setCategoria':_0x531f13[_0x5aa9b8(0x226)][0x0]||'','setMarca':_0x531f13[_0x5aa9b8(0x1be)][0x0]||'','setConversionFactor':parseFloat(_0x3f3779[_0x5aa9b8(0x16f)]),'setImages':[],'setImg':_0x5aa9b8(0x1f1),'setInventariable':0x1,'setItemIsBought':_0x531f13[_0x5aa9b8(0x19e)]?0x1:0x0,'setItemIsSold':_0x531f13[_0x5aa9b8(0x239)]?0x1:0x0,'setPorcentajeIgv':_0x531f13['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x531f13[_0x5aa9b8(0x16a)],'setTipAfeIgv':_0x531f13['setItemTaxCode'],'setUnidad':_0x3f3779['setUnitCode'],'setUnidadCodigo':_0x3f3779[_0x5aa9b8(0x2ad)],'setItemUnitAlias':_0x3f3779[_0x5aa9b8(0x170)],'currency_data':[{'currency':_0x1565b7,'setMtoPrecioCostoUnitario':_0x3f3779['setCost'],'setMtoPrecioUnitario':_0x3f3779[_0x5aa9b8(0x245)],'setPriceLists':[]}],'sucursales':_0x531f13[_0x5aa9b8(0x196)][_0x5aa9b8(0x184)](_0x282a5c=>({'setIdSucursal':_0x282a5c[_0x5aa9b8(0x292)],'setSucursalStock':_0x282a5c[_0x5aa9b8(0x199)][_0x5aa9b8(0x1b1)](),'setWarehouseStockMin':_0x282a5c[_0x5aa9b8(0x1b3)][_0x5aa9b8(0x1b1)]()})),'setItemFree':_0x531f13['setItemFree'],'setItemBarCode':_0x531f13['setItemBarCode'],'setItemBrands':_0x531f13[_0x5aa9b8(0x1be)]['slice'](),'setItemCategories':_0x531f13['setItemCategories'][_0x5aa9b8(0x288)](),'setItemComponents':_0x531f13[_0x5aa9b8(0x259)]['map'](_0x4582a6=>({..._0x4582a6})),'setItemImages':_0x531f13[_0x5aa9b8(0x188)][_0x5aa9b8(0x288)](),'setItemVariantName':_0x531f13['setItemVariantName'],'setItemVariantValues':{..._0x531f13[_0x5aa9b8(0x299)]}};_0x4d1dce[_0x5aa9b8(0x1cd)](_0xbfb162),(_0x1f0659[_0x5aa9b8(0x1b8)]||_0x4cce5d==0x1)&&addToCart(_0xbfb162);});}),console[_0x10a01d(0x2b0)](_0x10a01d(0x20c),newItems),await finalizeImport(_0x4d1dce,newItems,![]);}),[_0x11ecd5(0x20a),_0x11ecd5(0x290)][_0x11ecd5(0x2b3)](_0x52e88b=>dropZone[_0x11ecd5(0x1bb)](_0x52e88b,_0x3d4286=>{var _0x442f95=_0x11ecd5;_0x3d4286[_0x442f95(0x1f4)](),dropZone[_0x442f95(0x1b2)][_0x442f95(0x260)](_0x442f95(0x290));})),[_0x11ecd5(0x1f9),'drop'][_0x11ecd5(0x2b3)](_0x128644=>dropZone['addEventListener'](_0x128644,_0x3f528f=>{var _0x5ece58=_0x11ecd5;_0x3f528f['preventDefault'](),dropZone['classList'][_0x5ece58(0x16c)](_0x5ece58(0x290));})),dropZone[_0x11ecd5(0x1bb)]('drop',_0x4944d8=>{var _0x1a3227=_0x11ecd5;const _0x1d38dc=_0x4944d8[_0x1a3227(0x17c)]['files'][0x0];if(!_0x1d38dc)return;fileInput[_0x1a3227(0x24c)]=_0x4944d8['dataTransfer'][_0x1a3227(0x24c)],dropZone[_0x1a3227(0x25f)](_0x1a3227(0x18e))[_0x1a3227(0x262)]=_0x1d38dc[_0x1a3227(0x1cc)],removeBtn[_0x1a3227(0x273)]=![],fileInput[_0x1a3227(0x2b2)](new Event(_0x1a3227(0x284)));}),removeBtn[_0x11ecd5(0x1bb)]('click',()=>{var _0x5a6939=_0x11ecd5;fileInput[_0x5a6939(0x214)]='',dropZone[_0x5a6939(0x25f)](_0x5a6939(0x18e))[_0x5a6939(0x262)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x5a6939(0x273)]=!![],progressBar[_0x5a6939(0x212)][_0x5a6939(0x19f)]=_0x5a6939(0x17d),statusDiv['textContent']='',uploadBtn[_0x5a6939(0x26f)]=!![];});const exportBtn=document['getElementById'](_0x11ecd5(0x1a2));exportBtn[_0x11ecd5(0x1bb)](_0x11ecd5(0x209),onClickExportarItems);async function onClickExportarItems(){var _0x8b55ab=_0x11ecd5;if(!Array['isArray'](products)||!products[_0x8b55ab(0x1a8)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x50a58c=await fetch(_0x8b55ab(0x171));if(!_0x50a58c['ok'])throw new Error(_0x8b55ab(0x258));const _0x2e3506=await _0x50a58c[_0x8b55ab(0x185)](),_0x280403=document[_0x8b55ab(0x198)](_0x8b55ab(0x174))['value'];let _0x504ec9=products;const _0x808c7f=getUserPermissionApiERP(0x2);_0x808c7f==0x1&&(_0x504ec9=products[_0x8b55ab(0x1a1)](_0x135f0b=>Array[_0x8b55ab(0x29e)](_0x135f0b['sucursales'])&&_0x135f0b[_0x8b55ab(0x1a5)][_0x8b55ab(0x1e2)](_0x442bcc=>String(_0x442bcc[_0x8b55ab(0x2b4)])==String(_0x280403))));const _0x1987d4=_0x504ec9[_0x8b55ab(0x1df)]((_0x270282,_0x1a2194)=>{const _0x5bc0e6=_0x1a2194['setIdProducto'];if(!_0x270282[_0x5bc0e6])_0x270282[_0x5bc0e6]=[];return _0x270282[_0x5bc0e6]['push'](_0x1a2194),_0x270282;},{}),_0x33b327=Object[_0x8b55ab(0x1ed)](_0x1987d4)[_0x8b55ab(0x184)](_0x880522=>{var _0x42c798=_0x8b55ab;const _0x22d96d=_0x880522[0x0],_0x2d457b=_0x880522[0x1]||{},_0x4b1c7f=_0x880522[0x2]||{};function _0x365a45(_0x3005c4,_0x2d1980,_0x884016){var _0x20fd19=_0x2f85;if(!_0x3005c4||!Array[_0x20fd19(0x29e)](_0x3005c4[_0x20fd19(0x1a4)]))return'';const _0x52d06c=_0x3005c4['currency_data'][_0x20fd19(0x1ea)](_0xdc317c=>_0xdc317c[_0x20fd19(0x221)]===_0x2d1980);return _0x52d06c?_0x52d06c[_0x884016]:'';}return{'id':_0x22d96d[_0x42c798(0x1b4)],'setItemType':_0x22d96d['setItemType'],'setCodProducto':_0x22d96d['setCodProducto'],'setDescripcion':_0x22d96d[_0x42c798(0x18f)],'setItemDescription':_0x22d96d[_0x42c798(0x238)],'setItemIsSold':_0x22d96d[_0x42c798(0x239)],'setItemIsBought':_0x22d96d[_0x42c798(0x19e)],'setCategoria':_0x22d96d[_0x42c798(0x257)],'setMarca':_0x22d96d[_0x42c798(0x240)],'setTaxId':_0x22d96d[_0x42c798(0x20e)],'setUnitId':_0x22d96d['id'],'setItemBarCode':_0x22d96d[_0x42c798(0x24d)],'setUnidadCodigo':_0x22d96d[_0x42c798(0x23d)],'setItemUnitAlias':_0x22d96d[_0x42c798(0x1a0)]??'','PEN_setMtoPrecioUnitario':_0x365a45(_0x22d96d,_0x42c798(0x25d),_0x42c798(0x2ab)),'PEN_setMtoPrecioCostoUnitario':_0x365a45(_0x22d96d,_0x42c798(0x25d),_0x42c798(0x178)),'USD_setMtoPrecioUnitario':_0x365a45(_0x22d96d,_0x42c798(0x248),'setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x365a45(_0x22d96d,_0x42c798(0x248),'setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x22d96d[_0x42c798(0x28c)]?parseFloat(_0x22d96d['setItemCommissionPercentage']):'','setUnitId2':_0x2d457b['id']??'','setItemBarCode2':_0x2d457b[_0x42c798(0x24d)]??'','setUnidadCodigo2':_0x2d457b[_0x42c798(0x23d)]??'','setItemUnitAlias2':_0x2d457b[_0x42c798(0x1a0)]??'','setUnidadEquivalencia2':_0x2d457b[_0x42c798(0x269)]??'','PEN_setMtoPrecioUnitario2':_0x365a45(_0x2d457b,_0x42c798(0x25d),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x365a45(_0x2d457b,'PEN',_0x42c798(0x178))??'','USD_setMtoPrecioUnitario2':_0x365a45(_0x2d457b,'USD',_0x42c798(0x2ab))??'','USD_setMtoPrecioCostoUnitario2':_0x365a45(_0x2d457b,_0x42c798(0x248),_0x42c798(0x178))??'','setItemCommissionPercentage2':_0x2d457b[_0x42c798(0x28c)]?parseFloat(_0x2d457b[_0x42c798(0x28c)]):'','setUnitId3':_0x4b1c7f['id']??'','setItemBarCode3':_0x4b1c7f[_0x42c798(0x24d)]??'','setUnidadCodigo3':_0x4b1c7f[_0x42c798(0x23d)]??'','setItemUnitAlias3':_0x4b1c7f['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x4b1c7f['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x365a45(_0x4b1c7f,_0x42c798(0x25d),_0x42c798(0x2ab))??'','PEN_setMtoPrecioCostoUnitario3':_0x365a45(_0x4b1c7f,_0x42c798(0x25d),_0x42c798(0x178))??'','USD_setMtoPrecioUnitario3':_0x365a45(_0x4b1c7f,'USD','setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x365a45(_0x4b1c7f,_0x42c798(0x248),_0x42c798(0x178))??'','setItemCommissionPercentage3':_0x4b1c7f['setItemCommissionPercentage']?parseFloat(_0x4b1c7f[_0x42c798(0x28c)]):'','setInventariable':_0x22d96d[_0x42c798(0x1ee)],'setSucursalStock':_0x808c7f==0x1?_0x22d96d[_0x42c798(0x1a5)][_0x42c798(0x1ea)](_0x2bcbf0=>String(_0x2bcbf0[_0x42c798(0x2b4)])==String(_0x280403))[_0x42c798(0x1c1)]:'','setWarehouseStockMin':_0x808c7f==0x1?_0x22d96d[_0x42c798(0x1a5)][_0x42c798(0x1ea)](_0x2e64df=>String(_0x2e64df[_0x42c798(0x2b4)])==String(_0x280403))[_0x42c798(0x24e)]:'','setBatchName':_0x22d96d[_0x42c798(0x1db)],'setBatchExpirationDate':_0x22d96d['setBatchExpirationDate'],..._0x22d96d[_0x42c798(0x299)]};});try{JSON[_0x8b55ab(0x216)](_0x33b327);}catch(_0x582812){console['error']('ERROR:\x20plainProducts\x20no\x20serializable:',_0x582812),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x8b55ab(0x262)]=_0x8b55ab(0x265),progressBar[_0x8b55ab(0x212)][_0x8b55ab(0x19f)]='block',progressBar[_0x8b55ab(0x214)]=0x0,itemWorker[_0x8b55ab(0x295)]({'action':'exportItems','products':_0x33b327,'plantillaBuf':_0x2e3506},[_0x2e3506]);}catch(_0x29c454){console[_0x8b55ab(0x267)](_0x29c454),ntfShow(_0x8b55ab(0x1e9)+_0x29c454[_0x8b55ab(0x26b)]);}}itemWorker['onmessage']=({data:_0x3c7074})=>{var _0x3e8daf=_0x11ecd5;const {type:_0x68f17f,payload:_0x5c19f9}=_0x3c7074;_0x68f17f===_0x3e8daf(0x1d5)&&(progressBar[_0x3e8daf(0x212)][_0x3e8daf(0x19f)]=_0x3e8daf(0x180),progressBar[_0x3e8daf(0x214)]=_0x5c19f9[_0x3e8daf(0x21e)],statusDiv[_0x3e8daf(0x262)]=_0x5c19f9[_0x3e8daf(0x26b)]);_0x68f17f===_0x3e8daf(0x205)&&(newItemsExcel=_0x5c19f9['items'],statusDiv[_0x3e8daf(0x262)]='✅\x20'+newItemsExcel['length']+_0x3e8daf(0x261),uploadBtn[_0x3e8daf(0x26f)]=![],progressBar[_0x3e8daf(0x214)]=0x64,console[_0x3e8daf(0x2b0)](newItemsExcel));_0x68f17f===_0x3e8daf(0x267)&&(statusDiv[_0x3e8daf(0x262)]='❌\x20Error:\x20'+_0x5c19f9,progressBar[_0x3e8daf(0x212)][_0x3e8daf(0x19f)]=_0x3e8daf(0x17d));if(_0x68f17f==='exportDone'){const {wbout:_0x4f036c,count:_0xfe7738}=_0x5c19f9,_0x38ab9c=new Blob([_0x4f036c],{'type':_0x3e8daf(0x2aa)}),_0x30d4e7=URL[_0x3e8daf(0x27c)](_0x38ab9c),_0x4c363c=document[_0x3e8daf(0x1da)]('a'),_0x1d7aba=new Date()[_0x3e8daf(0x2a9)]()[_0x3e8daf(0x288)](0x0,0xa);_0x4c363c[_0x3e8daf(0x22f)]=_0x3e8daf(0x1f0)+_0x1d7aba+_0x3e8daf(0x25c),_0x4c363c[_0x3e8daf(0x1e6)]=_0x30d4e7,_0x4c363c['click'](),URL[_0x3e8daf(0x1d1)](_0x30d4e7),statusDiv[_0x3e8daf(0x262)]=_0x3e8daf(0x263)+_0xfe7738+_0x3e8daf(0x272),progressBar[_0x3e8daf(0x212)][_0x3e8daf(0x19f)]=_0x3e8daf(0x17d);}},fileInput[_0x11ecd5(0x1bb)](_0x11ecd5(0x284),async _0x4d30e7=>{var _0x2bf33e=_0x11ecd5;const _0x1df5d6=_0x4d30e7[_0x2bf33e(0x1b7)][_0x2bf33e(0x24c)][0x0];if(!_0x1df5d6)return;uploadBtn[_0x2bf33e(0x26f)]=!![],newItemsExcel=null,statusDiv[_0x2bf33e(0x262)]='',progressBar[_0x2bf33e(0x212)][_0x2bf33e(0x19f)]='none',dropZone['querySelector'](_0x2bf33e(0x18e))['textContent']=_0x1df5d6[_0x2bf33e(0x1cc)],removeBtn['hidden']=![];try{const _0x3297c2=await _0x1df5d6[_0x2bf33e(0x185)]();itemWorker[_0x2bf33e(0x295)]({'action':_0x2bf33e(0x21a),'buf':_0x3297c2,'maxRows':0x1388});}catch(_0x12026c){statusDiv[_0x2bf33e(0x262)]=_0x2bf33e(0x1ec);}finally{fileInput[_0x2bf33e(0x214)]='';}}),uploadBtn[_0x11ecd5(0x1bb)](_0x11ecd5(0x209),async()=>{var _0x222b34=_0x11ecd5;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x56d593=document[_0x222b34(0x198)](_0x222b34(0x174))[_0x222b34(0x214)],_0x5cc873=[];newItemsExcel[_0x222b34(0x2b3)](_0x18b187=>{var _0x5acc49=_0x222b34;const _0x1339ca=Boolean(_0x18b187[_0x5acc49(0x1c7)]),_0x529f61=_0x1339ca?_0x18b187['setItemId']:generateNumericUniqId();_0x18b187[_0x5acc49(0x196)]=[{'setStockInitial':_0x18b187[_0x5acc49(0x199)],'setStockMinimum':_0x18b187['setStockMinimum'],'setWarehouseCode':_0x56d593}],_0x18b187[_0x5acc49(0x266)]['forEach'](_0x13ecb8=>{var _0x258510=_0x5acc49;const _0x232850=Boolean(_0x13ecb8['setItemUnitId']),_0x32d0ff=_0x232850?_0x13ecb8[_0x258510(0x17e)]:generateNumericUniqId();_0x13ecb8[_0x258510(0x17e)]=_0x32d0ff;const _0x354a85=[];_0x354a85[_0x258510(0x1cd)]({'currency':_0x258510(0x25d),'setMtoPrecioCostoUnitario':_0x13ecb8['setCost'],'setMtoPrecioUnitario':_0x13ecb8[_0x258510(0x245)],'setPriceLists':[]});const _0x1ef08d=_0x13ecb8[_0x258510(0x27a)]!=null&&_0x13ecb8[_0x258510(0x2af)]!=null&&(!isNaN(_0x13ecb8['setCostUSD'])||!isNaN(_0x13ecb8[_0x258510(0x2af)]));_0x1ef08d&&_0x354a85['push']({'currency':_0x258510(0x248),'setMtoPrecioCostoUnitario':_0x13ecb8[_0x258510(0x27a)],'setMtoPrecioUnitario':_0x13ecb8[_0x258510(0x2af)],'setPriceLists':[]});const _0x115feb={'id':_0x32d0ff,'setIdProducto':_0x529f61,'setItemBarCode':_0x13ecb8[_0x258510(0x24d)],'setCodProducto':_0x18b187[_0x258510(0x1af)],'setDescripcion':_0x18b187[_0x258510(0x20f)],'setItemDescription':_0x18b187[_0x258510(0x238)],'setBatchExpirationDate':_0x18b187[_0x258510(0x274)],'setBatchName':_0x18b187['setBatchName'],'setItemIsSold':_0x18b187['setItemIsSold'],'setItemIsBought':_0x18b187[_0x258510(0x19e)],'setCategoria':_0x18b187[_0x258510(0x226)][0x0]||'','setMarca':_0x18b187[_0x258510(0x1be)][0x0]||'','setConversionFactor':parseFloat(_0x13ecb8[_0x258510(0x16f)]),'setImages':[],'setImg':_0x258510(0x1f1),'setInventariable':_0x18b187[_0x258510(0x1eb)],'setPorcentajeIgv':_0x18b187[_0x258510(0x200)],'setPrinters':[],'setTaxId':_0x18b187['setItemTaxId'],'setTipAfeIgv':_0x18b187[_0x258510(0x28a)],'setUnidad':_0x13ecb8[_0x258510(0x2ad)],'setUnidadCodigo':_0x13ecb8[_0x258510(0x2ad)],'setItemUnitAlias':_0x13ecb8[_0x258510(0x170)],'setItemCommissionPercentage':_0x13ecb8[_0x258510(0x28c)],'currency_data':_0x354a85,'sucursales':_0x18b187[_0x258510(0x196)]['map'](_0x4ea9d0=>({'setIdSucursal':_0x4ea9d0[_0x258510(0x292)],'setSucursalStock':_0x4ea9d0[_0x258510(0x199)][_0x258510(0x1b1)](),'setWarehouseStockMin':_0x4ea9d0[_0x258510(0x1b3)][_0x258510(0x1b1)]()})),'setItemFree':_0x18b187[_0x258510(0x1b0)],'setItemBrands':_0x18b187[_0x258510(0x1be)][_0x258510(0x288)](),'setItemCategories':_0x18b187[_0x258510(0x226)][_0x258510(0x288)](),'setItemComponents':_0x18b187[_0x258510(0x259)][_0x258510(0x184)](_0x576205=>({..._0x576205})),'setItemImages':_0x18b187[_0x258510(0x188)][_0x258510(0x288)](),'setItemVariantName':_0x18b187[_0x258510(0x247)],'setItemVariantValues':{..._0x18b187[_0x258510(0x299)]}},_0x237e09=products['findIndex'](_0x5a729e=>_0x5a729e['id']==_0x32d0ff&&_0x5a729e[_0x258510(0x1b4)]==_0x529f61);_0x237e09>-0x1?Object[_0x258510(0x183)](products[_0x237e09],_0x115feb):_0x5cc873[_0x258510(0x1cd)](_0x115feb);});}),console[_0x222b34(0x2b0)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x5cc873,newItemsExcel,!![]);});function initializeFormImages(){var _0x5f4a13=_0x11ecd5;currentImages=Array(MAX_IMAGES)[_0x5f4a13(0x1a3)](null),imgC[_0x5f4a13(0x227)]='',baseItem[_0x5f4a13(0x188)]=[];for(var _0x2a79d6=0x0;_0x2a79d6<MAX_IMAGES;_0x2a79d6++){(function(_0x4e1dbd){var _0x12dffa=_0x5f4a13,_0x2ca79a=document['createElement']('div');_0x2ca79a['className']=_0x12dffa(0x1dd),_0x2ca79a[_0x12dffa(0x1c9)][_0x12dffa(0x22a)]=_0x4e1dbd;var _0x2ce6c8=document['createElement'](_0x12dffa(0x28e));_0x2ce6c8[_0x12dffa(0x29a)]=_0x12dffa(0x18b),_0x2ce6c8[_0x12dffa(0x23c)]=_0x12dffa(0x27b),_0x2ce6c8['style']['display']=_0x12dffa(0x17d);var _0x1dcb84=document[_0x12dffa(0x1da)](_0x12dffa(0x16d));_0x1dcb84[_0x12dffa(0x262)]='+',_0x2ca79a[_0x12dffa(0x26c)](_0x2ce6c8),_0x2ca79a[_0x12dffa(0x26c)](_0x1dcb84),imgC[_0x12dffa(0x26c)](_0x2ca79a),_0x2ca79a[_0x12dffa(0x1bb)]('click',function(){var _0x254c91=_0x12dffa;_0x2ce6c8[_0x254c91(0x209)]();}),_0x2ce6c8[_0x12dffa(0x1bb)](_0x12dffa(0x284),function(_0x38676a){var _0x3549aa=_0x12dffa,_0x433a39=_0x38676a['target'][_0x3549aa(0x24c)][0x0];if(!_0x433a39)return removeImg(_0x4e1dbd);var _0x56e48f=new FileReader();_0x56e48f[_0x3549aa(0x2a0)]=function(_0x30924a){var _0x1b5709=_0x3549aa;_0x2ca79a[_0x1b5709(0x227)]='<img\x20src=\x22'+_0x30924a[_0x1b5709(0x1b7)][_0x1b5709(0x218)]+'\x22>';var _0x3e9610=document[_0x1b5709(0x1da)](_0x1b5709(0x16d));_0x3e9610[_0x1b5709(0x271)]=_0x1b5709(0x16c),_0x3e9610[_0x1b5709(0x262)]='×',_0x3e9610[_0x1b5709(0x1bb)](_0x1b5709(0x209),function(_0x737bfc){_0x737bfc['stopPropagation'](),removeImg(_0x4e1dbd);}),_0x2ca79a[_0x1b5709(0x26c)](_0x3e9610),currentImages[_0x4e1dbd]=_0x433a39,baseItem[_0x1b5709(0x188)]=currentImages[_0x1b5709(0x1a1)](function(_0x56c90f){return _0x56c90f;});},_0x56e48f['readAsDataURL'](_0x433a39);});}(_0x2a79d6));}}function initializeFormIsSoldIsBought(_0x2ec3f4=0x0){var _0x3fc902=_0x11ecd5;let _0x34da4a,_0x34b170;if(_0x2ec3f4!=0x0){const _0x540c3f=products[_0x3fc902(0x1ea)](_0x177f27=>_0x177f27['id']==_0x2ec3f4);_0x34da4a=_0x540c3f[_0x3fc902(0x19e)]==0x1||_0x540c3f[_0x3fc902(0x19e)]==!![]?!![]:![],_0x34b170=_0x540c3f[_0x3fc902(0x239)]==0x1||_0x540c3f[_0x3fc902(0x239)]==!![]?!![]:![];}else _0x34da4a=!![],_0x34b170=!![];document[_0x3fc902(0x198)](_0x3fc902(0x243))[_0x3fc902(0x1b8)]=_0x34da4a,document[_0x3fc902(0x198)](_0x3fc902(0x23f))[_0x3fc902(0x1b8)]=_0x34b170,baseItem[_0x3fc902(0x19e)]=_0x34da4a,baseItem[_0x3fc902(0x239)]=_0x34b170;}function initializeFormInputsBasic(_0x4e5835=0x0){var _0x3c5b8a=_0x11ecd5;let _0x2483f3,_0x57be02,_0x524252,_0x469635,_0x12fe3c,_0x270414;if(_0x4e5835!=0x0){const _0x2267ef=products['find'](_0x310b11=>_0x310b11['id']==_0x4e5835);_0x2483f3=_0x2267ef[_0x3c5b8a(0x280)]??'1',_0x57be02=_0x2267ef[_0x3c5b8a(0x296)],_0x524252=_0x2267ef['setDescripcion'],_0x469635=_0x2267ef[_0x3c5b8a(0x238)],_0x12fe3c=_0x2267ef[_0x3c5b8a(0x1f3)]??'',_0x270414=_0x2267ef['setItemBarCode'];}else _0x2483f3='1',_0x57be02=getNextCode(products),_0x524252='',_0x469635='',_0x12fe3c='',_0x270414='';document['getElementById']('inputItemType')[_0x3c5b8a(0x214)]=_0x2483f3,document[_0x3c5b8a(0x198)]('inputItemCode')[_0x3c5b8a(0x214)]=_0x57be02,document[_0x3c5b8a(0x198)]('inputItemName')[_0x3c5b8a(0x214)]=_0x524252,document[_0x3c5b8a(0x198)]('inputItemDescription')[_0x3c5b8a(0x214)]=_0x469635,document[_0x3c5b8a(0x198)](_0x3c5b8a(0x2a2))[_0x3c5b8a(0x214)]=_0x12fe3c,document[_0x3c5b8a(0x198)](_0x3c5b8a(0x168))['value']=_0x270414,baseItem['setItemType']=_0x2483f3,baseItem['setItemCode']=_0x57be02,baseItem[_0x3c5b8a(0x20f)]=_0x524252,baseItem['setItemDescription']=_0x469635,baseItem[_0x3c5b8a(0x274)]=_0x12fe3c,baseItem['setItemBarCode']=_0x270414,document[_0x3c5b8a(0x198)](_0x3c5b8a(0x2a4))['checked']=![];}function initializeFormTax(_0x2699fb=0x0){var _0x16b4b7=_0x11ecd5;let _0x4cc23b;if(_0x2699fb!=0x0){const _0x388d6a=products[_0x16b4b7(0x1ea)](_0xb2014d=>_0xb2014d['id']==_0x2699fb);_0x4cc23b=_0x388d6a[_0x16b4b7(0x20e)];}else _0x4cc23b=myCompany[_0x16b4b7(0x1ef)];const _0x416029=document['getElementById'](_0x16b4b7(0x23a));_0x416029[_0x16b4b7(0x214)]=_0x4cc23b,baseItem[_0x16b4b7(0x16a)]=_0x4cc23b;const _0x581969=company[0x0]['setImpuestos'][_0x16b4b7(0x1ea)](_0x489d2e=>_0x489d2e[_0x16b4b7(0x20e)]==_0x4cc23b)?.[_0x16b4b7(0x2ac)]||0x0,_0x5754ab=company[0x0]['setImpuestos'][_0x16b4b7(0x1ea)](_0x32a33c=>_0x32a33c[_0x16b4b7(0x20e)]==_0x4cc23b)?.[_0x16b4b7(0x1f7)]||0x0;baseItem['setItemTaxCode']=_0x581969,baseItem[_0x16b4b7(0x200)]=_0x5754ab;}function initializeFormCategoriesBrands(_0x3d5b3c=0x0){var _0x3dd7cd=_0x11ecd5;baseItem[_0x3dd7cd(0x226)]=[],baseItem[_0x3dd7cd(0x1be)]=[],document[_0x3dd7cd(0x25f)]('#newItem_categories_select\x20.selected_tags')[_0x3dd7cd(0x227)]='',document[_0x3dd7cd(0x25f)]('#newItem_categories_select\x20.options_list')[_0x3dd7cd(0x227)]='',document['querySelector'](_0x3dd7cd(0x189))['innerHTML']='',document[_0x3dd7cd(0x25f)]('#newItem_brands_select\x20.options_list')[_0x3dd7cd(0x227)]='';const _0x4d43ca=myCompany['setItemCategories'][_0x3dd7cd(0x184)](_0x4a6783=>({'setCode':_0x4a6783[_0x3dd7cd(0x19a)],'setName':_0x4a6783[_0x3dd7cd(0x19a)]})),_0x4960a7=myCompany['setItemBrands'][_0x3dd7cd(0x184)](_0x4d348e=>({'setCode':_0x4d348e[_0x3dd7cd(0x210)],'setName':_0x4d348e[_0x3dd7cd(0x210)]}));initMulti('newItem_categories_select',_0x4d43ca),initMulti(_0x3dd7cd(0x173),_0x4960a7),document['getElementById'](_0x3dd7cd(0x1c8))[_0x3dd7cd(0x1bb)](_0x3dd7cd(0x27d),function(_0x133230){var _0x738f97=_0x3dd7cd;baseItem[_0x738f97(0x226)]=_0x133230[_0x738f97(0x2ae)][_0x738f97(0x184)](_0x490075=>_0x490075[_0x738f97(0x25a)]);}),document['getElementById'](_0x3dd7cd(0x173))[_0x3dd7cd(0x1bb)](_0x3dd7cd(0x27d),function(_0x415dd8){var _0x53889d=_0x3dd7cd;baseItem[_0x53889d(0x1be)]=_0x415dd8[_0x53889d(0x2ae)][_0x53889d(0x184)](_0x3a44ed=>_0x3a44ed['setCode']);});if(_0x3d5b3c!=0x0){const _0x5d2964=products[_0x3dd7cd(0x1ea)](_0x26e6a7=>_0x26e6a7['id']==_0x3d5b3c);if(_0x5d2964['setCategoria']){const _0x18363b=document[_0x3dd7cd(0x198)](_0x3dd7cd(0x1c8)),_0x52aac7=Array[_0x3dd7cd(0x186)](_0x18363b[_0x3dd7cd(0x172)](_0x3dd7cd(0x1fe)))[_0x3dd7cd(0x1ea)](_0x485545=>_0x485545[_0x3dd7cd(0x1c9)][_0x3dd7cd(0x252)]==_0x5d2964[_0x3dd7cd(0x257)]);_0x52aac7&&_0x52aac7['click']();}if(_0x5d2964[_0x3dd7cd(0x240)]){const _0xb4075a=document[_0x3dd7cd(0x198)](_0x3dd7cd(0x173)),_0x5b7b2e=Array[_0x3dd7cd(0x186)](_0xb4075a[_0x3dd7cd(0x172)](_0x3dd7cd(0x1fe)))[_0x3dd7cd(0x1ea)](_0x8f768=>_0x8f768[_0x3dd7cd(0x1c9)][_0x3dd7cd(0x252)]==_0x5d2964[_0x3dd7cd(0x240)]);_0x5b7b2e&&_0x5b7b2e[_0x3dd7cd(0x209)]();}}}function initializeFormUnits(){var _0x1cb406=_0x11ecd5;unitCount=0x0,document[_0x1cb406(0x198)](_0x1cb406(0x231))[_0x1cb406(0x227)]='',baseItem[_0x1cb406(0x266)]=[];var _0x1617cf=uniqueValuesArray('setUnitCode',_0x1cb406(0x1c3),myCompany[_0x1cb406(0x208)]);addUnit('',_0x1617cf[0x3a]&&_0x1617cf[0x3a][_0x1cb406(0x25a)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){prodC['innerHTML']='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x24ef06=_0x11ecd5;branchesC[_0x24ef06(0x227)]='',baseItem[_0x24ef06(0x196)]=[];const _0x46541e=getAllWarehouses();_0x46541e['forEach'](function(_0x9c0056){var _0x17d344=_0x24ef06,_0x3822d8=document['createElement'](_0x17d344(0x281));_0x3822d8['innerHTML']=_0x17d344(0x228)+'<div\x20class=\x22newItem_col\x22>'+_0x17d344(0x22e)+_0x9c0056[_0x17d344(0x174)]+_0x17d344(0x16e)+_0x9c0056[_0x17d344(0x2a6)]+_0x17d344(0x1b9)+_0x17d344(0x251)+_0x17d344(0x1e7)+_0x17d344(0x1c4)+_0x9c0056[_0x17d344(0x174)]+'\x22>'+_0x17d344(0x251)+_0x17d344(0x1e7)+_0x17d344(0x223)+_0x9c0056[_0x17d344(0x174)]+'\x22>'+_0x17d344(0x251)+_0x17d344(0x251),branchesC[_0x17d344(0x26c)](_0x3822d8),_0x3822d8[_0x17d344(0x172)](_0x17d344(0x28e))[_0x17d344(0x2b3)](function(_0x3a1086){var _0x40c11d=_0x17d344;_0x3a1086[_0x40c11d(0x1bb)](_0x40c11d(0x28e),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x439bdf=_0x11ecd5;baseItem[_0x439bdf(0x247)]='',baseItem['setItemVariantValues']={},vgC['innerHTML']='',varContainer[_0x439bdf(0x227)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3bea32,_0x9910ae,_0x510251=![]){var _0x1579a1=_0x11ecd5;const _0x8eab61=0xc8,_0x553465={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x1579a1(0x230)]};for(let _0x5c7eb0=0x0;_0x5c7eb0<_0x9910ae[_0x1579a1(0x1a8)];_0x5c7eb0+=_0x8eab61){const _0x1bcd48=_0x9910ae[_0x1579a1(0x288)](_0x5c7eb0,_0x5c7eb0+_0x8eab61);await storeOfflineProduct({..._0x553465,'newItems':_0x1bcd48});}products[_0x1579a1(0x1cd)](..._0x3bea32),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x510251?(fileInput[_0x1579a1(0x214)]='',uploadBtn[_0x1579a1(0x26f)]=!![],statusDiv[_0x1579a1(0x262)]='',progressBar[_0x1579a1(0x212)][_0x1579a1(0x19f)]=_0x1579a1(0x17d),progressBar[_0x1579a1(0x214)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}