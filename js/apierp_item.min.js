/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.3
*/

var _0x1f1628=_0x58d4;(function(_0x411614,_0x835a0b){var _0x4bfc55=_0x58d4,_0x2db51d=_0x411614();while(!![]){try{var _0x49b18c=parseInt(_0x4bfc55(0x239))/0x1*(-parseInt(_0x4bfc55(0x18d))/0x2)+-parseInt(_0x4bfc55(0x250))/0x3*(parseInt(_0x4bfc55(0x1fd))/0x4)+-parseInt(_0x4bfc55(0x22a))/0x5*(-parseInt(_0x4bfc55(0x1e5))/0x6)+parseInt(_0x4bfc55(0x280))/0x7+parseInt(_0x4bfc55(0x18f))/0x8+parseInt(_0x4bfc55(0x190))/0x9*(parseInt(_0x4bfc55(0x19b))/0xa)+-parseInt(_0x4bfc55(0x1b4))/0xb;if(_0x49b18c===_0x835a0b)break;else _0x2db51d['push'](_0x2db51d['shift']());}catch(_0x10a7f0){_0x2db51d['push'](_0x2db51d['shift']());}}}(_0x9465,0x2186a));var _0x13bf38=(function(){var _0x9463b1=!![];return function(_0x55d7d1,_0x32b533){var _0x5250de=_0x9463b1?function(){if(_0x32b533){var _0x54a74e=_0x32b533['apply'](_0x55d7d1,arguments);return _0x32b533=null,_0x54a74e;}}:function(){};return _0x9463b1=![],_0x5250de;};}()),_0x3fee1f=_0x13bf38(this,function(){var _0x300a1d=_0x58d4;return _0x3fee1f[_0x300a1d(0x27a)]()[_0x300a1d(0x197)]('(((.+)+)+)+$')[_0x300a1d(0x27a)]()[_0x300a1d(0x29e)](_0x3fee1f)['search'](_0x300a1d(0x20b));});_0x3fee1f();var _0x3842bd=(function(){var _0x52d99f=!![];return function(_0x42170f,_0x461409){var _0x2eb185=_0x52d99f?function(){var _0x524af8=_0x58d4;if(_0x461409){var _0x21de04=_0x461409[_0x524af8(0x1c2)](_0x42170f,arguments);return _0x461409=null,_0x21de04;}}:function(){};return _0x52d99f=![],_0x2eb185;};}()),_0x29c1f3=_0x3842bd(this,function(){var _0x45bc31=_0x58d4,_0x31062c;try{var _0x1d97e9=Function('return\x20(function()\x20'+_0x45bc31(0x29c)+');');_0x31062c=_0x1d97e9();}catch(_0x37a2c8){_0x31062c=window;}var _0x1277c3=_0x31062c[_0x45bc31(0x292)]=_0x31062c[_0x45bc31(0x292)]||{},_0x23f71f=[_0x45bc31(0x293),'warn',_0x45bc31(0x209),_0x45bc31(0x23e),_0x45bc31(0x1d2),_0x45bc31(0x185),'trace'];for(var _0x41dda3=0x0;_0x41dda3<_0x23f71f[_0x45bc31(0x1f1)];_0x41dda3++){var _0x56d611=_0x3842bd[_0x45bc31(0x29e)][_0x45bc31(0x1ee)][_0x45bc31(0x28b)](_0x3842bd),_0x17d0f6=_0x23f71f[_0x41dda3],_0x5c3beb=_0x1277c3[_0x17d0f6]||_0x56d611;_0x56d611['__proto__']=_0x3842bd[_0x45bc31(0x28b)](_0x3842bd),_0x56d611['toString']=_0x5c3beb[_0x45bc31(0x27a)]['bind'](_0x5c3beb),_0x1277c3[_0x17d0f6]=_0x56d611;}});_0x29c1f3();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x1f1628(0x225)](_0x1f1628(0x1e3)),unitCount=0x0,branchesC=document[_0x1f1628(0x225)](_0x1f1628(0x180)),prodC=document['getElementById'](_0x1f1628(0x1a8)),vgCount=0x0,varContainer=document[_0x1f1628(0x225)](_0x1f1628(0x246)),vgC=document[_0x1f1628(0x225)](_0x1f1628(0x206));const fileInput=document[_0x1f1628(0x225)](_0x1f1628(0x278)),progressBar=document[_0x1f1628(0x225)]('progress'),statusDiv=document[_0x1f1628(0x225)]('status'),uploadBtn=document['getElementById'](_0x1f1628(0x1b6));let newItemsExcel=null;const itemWorker=new Worker(_0x1f1628(0x179)),dropZone=document['getElementById'](_0x1f1628(0x189)),removeBtn=document[_0x1f1628(0x225)](_0x1f1628(0x187));function showModalCreateItem(_0x29388f){var _0x177ea8=_0x1f1628;const _0x365528=document[_0x177ea8(0x225)]('detalleModalCreateItem'),_0x21112b=document[_0x177ea8(0x225)](_0x177ea8(0x229));_0x365528['classList'][_0x177ea8(0x15f)](_0x177ea8(0x214)),_0x21112b[_0x177ea8(0x167)][_0x177ea8(0x22b)]=_0x177ea8(0x23d);const _0x45bf85=document[_0x177ea8(0x225)](_0x177ea8(0x1a6));_0x45bf85['value']=parseInt(_0x29388f),baseItem[_0x177ea8(0x1a6)]=parseInt(_0x29388f);const _0xb30744=document[_0x177ea8(0x225)](_0x177ea8(0x1b5));_0x29388f==0x0&&(_0xb30744[_0x177ea8(0x1c3)]='Nuevo\x20Producto');_0x29388f==0x1&&(_0xb30744[_0x177ea8(0x1c3)]=_0x177ea8(0x240));const _0xdc4300=document['getElementsByClassName'](_0x177ea8(0x1a7));for(let _0x156864=0x0;_0x156864<_0xdc4300[_0x177ea8(0x1f1)];_0x156864++){const _0x2b1cf8=_0xdc4300[_0x156864];if(_0x29388f==0x0)_0x2b1cf8[_0x177ea8(0x24e)][_0x177ea8(0x230)](_0x177ea8(0x23a));else _0x29388f==0x1&&_0x2b1cf8[_0x177ea8(0x24e)]['add'](_0x177ea8(0x23a));}}function hideModalCreateItem(){var _0x1c543e=_0x1f1628;const _0x5a0d8b=document[_0x1c543e(0x225)](_0x1c543e(0x19c)),_0x5a71e8=document[_0x1c543e(0x225)](_0x1c543e(0x229));_0x5a0d8b[_0x1c543e(0x24e)][_0x1c543e(0x230)](_0x1c543e(0x214)),_0x5a71e8[_0x1c543e(0x167)][_0x1c543e(0x22b)]='none';}document[_0x1f1628(0x225)](_0x1f1628(0x1f0))['addEventListener']('click',hideModalCreateItem),document[_0x1f1628(0x225)](_0x1f1628(0x229))[_0x1f1628(0x29b)](_0x1f1628(0x295),_0x538d91=>{var _0x217775=_0x1f1628;_0x538d91[_0x217775(0x21b)]==_0x538d91['currentTarget']&&_0x538d91[_0x217775(0x220)]();});function loadTaxData(){var _0x39fbf2=_0x1f1628;const _0x32d66e=document[_0x39fbf2(0x225)]('inputItemTax');_0x32d66e['innerHTML']='',company[0x0][_0x39fbf2(0x1d3)]['forEach'](function(_0x22e94a){var _0x1539a3=_0x39fbf2;const _0x54f5c5=document[_0x1539a3(0x1e8)]('option');_0x54f5c5[_0x1539a3(0x1d0)]=_0x22e94a['setTaxId'],_0x54f5c5['innerHTML']=_0x22e94a[_0x1539a3(0x163)]+'\x20('+_0x22e94a['setImpuestoValue']+'%)',_0x22e94a[_0x1539a3(0x1a9)]==company[0x0][_0x1539a3(0x1fc)]&&(_0x54f5c5[_0x1539a3(0x1b8)]=!![]),_0x32d66e[_0x1539a3(0x205)](_0x54f5c5);});}function uniqueValuesArray(_0x17e708,_0x1b40fc,_0x275b01){var _0x1be1f3=_0x1f1628;const _0x397c2c=Array[_0x1be1f3(0x1de)](new Set(_0x275b01[_0x1be1f3(0x27d)](_0x4ec0cd=>{var _0x505cc7=_0x1be1f3;const _0xb8e230=_0x4ec0cd[_0x17e708];return typeof _0xb8e230==='string'?_0xb8e230[_0x505cc7(0x253)]():_0xb8e230;})['filter'](_0x464b6f=>_0x464b6f!=null&&_0x464b6f!=='')));return _0x397c2c['map'](_0x5d8131=>{var _0x47e8df=_0x1be1f3;const _0x3293d2=_0x275b01[_0x47e8df(0x228)](_0x195045=>_0x195045[_0x17e708]===_0x5d8131),_0xb2689d=_0x3293d2&&_0x3293d2[_0x1b40fc]!=null?String(_0x3293d2[_0x1b40fc])[_0x47e8df(0x253)]():_0x5d8131;return{'setCode':_0x5d8131,'setName':_0xb2689d};});}function fillSelect(_0x1cfdb2,_0x1f9802,_0x194344,_0x63dc99){var _0x60903c=_0x1f1628;_0x1cfdb2[_0x60903c(0x1c3)]='',_0x1f9802[_0x60903c(0x1cc)](function(_0x12b391){var _0x4cd1ca=_0x60903c,_0x521b5f=new Option(_0x12b391[_0x63dc99],_0x12b391[_0x194344]);_0x1cfdb2[_0x4cd1ca(0x15f)](_0x521b5f);});}function initMulti(_0x2c2713,_0x15932a){var _0x85fef5=_0x1f1628,_0x498781=document[_0x85fef5(0x225)](_0x2c2713),_0x5c0e27=_0x498781['querySelector'](_0x85fef5(0x1cd)),_0x29fc87=_0x498781['querySelector'](_0x85fef5(0x1c8)),_0x4fa4e9=_0x498781['querySelector'](_0x85fef5(0x1a3)),_0x5e7e96=_0x15932a[_0x85fef5(0x25d)](),_0x11ed25=[];function _0x3b3851(){var _0x526afb=_0x85fef5;_0x29fc87['innerHTML']='',_0x5e7e96[_0x526afb(0x160)](function(_0xa78d92){var _0xbfd164=_0x526afb;return _0xa78d92['setName']['toLowerCase']()['indexOf'](_0x5c0e27[_0xbfd164(0x1d0)]['toLowerCase']())!==-0x1;})[_0x526afb(0x1cc)](function(_0x2daa5c){var _0x23f4ea=_0x526afb,_0x59974a=document[_0x23f4ea(0x1e8)]('div');_0x59974a[_0x23f4ea(0x1be)]=_0x2daa5c[_0x23f4ea(0x1a4)],_0x59974a[_0x23f4ea(0x1d1)]['code']=_0x2daa5c['setCode'],_0x29fc87[_0x23f4ea(0x205)](_0x59974a),_0x59974a[_0x23f4ea(0x29b)]('click',function(){var _0x591763=_0x23f4ea;_0x11ed25[_0x591763(0x23f)](_0x2daa5c),_0x5e7e96[_0x591763(0x242)](_0x5e7e96[_0x591763(0x251)](function(_0x55050b){var _0x3bd643=_0x591763;return _0x55050b[_0x3bd643(0x28e)]===_0x2daa5c[_0x3bd643(0x28e)];}),0x1),_0x5c0e27['value']='',_0xcab0e(),_0x3b3851();});});}function _0xcab0e(){var _0x1eaa35=_0x85fef5;_0x4fa4e9[_0x1eaa35(0x1c3)]='',_0x11ed25['forEach'](function(_0x24e9ef){var _0x3c3950=_0x1eaa35,_0x22ed11=document[_0x3c3950(0x1e8)](_0x3c3950(0x173));_0x22ed11[_0x3c3950(0x27e)]=_0x3c3950(0x1ca),_0x22ed11['textContent']=_0x24e9ef[_0x3c3950(0x1a4)];var _0x2e42d6=document[_0x3c3950(0x1e8)](_0x3c3950(0x1ef));_0x2e42d6['className']=_0x3c3950(0x1ec),_0x2e42d6[_0x3c3950(0x1be)]='×',_0x2e42d6[_0x3c3950(0x29b)](_0x3c3950(0x295),function(){var _0x1e6786=_0x3c3950;_0x5e7e96['push'](_0x24e9ef);const _0x20f2ac=_0x11ed25[_0x1e6786(0x251)](function(_0x3df5ca){return _0x3df5ca['setCode']===_0x24e9ef['setCode'];});if(_0x20f2ac>-0x1)_0x11ed25[_0x1e6786(0x242)](_0x20f2ac,0x1);_0xcab0e(),_0x3b3851();}),_0x22ed11[_0x3c3950(0x205)](_0x2e42d6),_0x4fa4e9['appendChild'](_0x22ed11);}),_0x498781[_0x1eaa35(0x274)](new CustomEvent(_0x1eaa35(0x261),{'detail':_0x11ed25,'bubbles':!![]}));}return _0x5c0e27[_0x85fef5(0x29b)](_0x85fef5(0x24d),function(){var _0x365ced=_0x85fef5;_0x29fc87[_0x365ced(0x24e)][_0x365ced(0x230)](_0x365ced(0x2a1));}),_0x5c0e27[_0x85fef5(0x29b)](_0x85fef5(0x1e4),_0x3b3851),_0x5c0e27[_0x85fef5(0x29b)](_0x85fef5(0x22e),function(_0x343501){var _0x5b7900=_0x85fef5;if(_0x343501['key']===_0x5b7900(0x186)){_0x343501[_0x5b7900(0x192)]();const _0x3ec076=_0x5c0e27[_0x5b7900(0x1d0)]['trim']();if(!_0x3ec076)return;const _0xcbe94b=_0x11ed25[_0x5b7900(0x258)](_0x3e3fa2=>_0x3e3fa2[_0x5b7900(0x1a4)]===_0x3ec076),_0x50d01b=_0x5e7e96[_0x5b7900(0x258)](_0x1d6fe2=>_0x1d6fe2[_0x5b7900(0x1a4)]===_0x3ec076);if(!_0xcbe94b&&!_0x50d01b){const _0x332b34={'setCode':_0x3ec076,'setName':_0x3ec076};_0x11ed25[_0x5b7900(0x23f)](_0x332b34),_0xcab0e(),_0x3b3851();}_0x5c0e27['value']='';}}),document[_0x85fef5(0x29b)](_0x85fef5(0x295),function(_0x5bc773){var _0xc8a2eb=_0x85fef5;if(!_0x498781[_0xc8a2eb(0x15e)](_0x5bc773['target']))_0x29fc87[_0xc8a2eb(0x24e)][_0xc8a2eb(0x15f)]('newItem_hidden');}),_0x3b3851(),_0x11ed25;}function getLastCode(_0x1a62e0){var _0x26adc4=_0x1f1628;const _0x279a4b=_0x1a62e0[_0x26adc4(0x27d)](_0x552685=>String(_0x552685[_0x26adc4(0x273)])[_0x26adc4(0x253)]())['filter'](_0x4ba5dd=>_0x4ba5dd!=='');if(_0x279a4b[_0x26adc4(0x1f1)]===0x0)return'';const _0x56e250=_0x279a4b[_0x26adc4(0x27c)](_0x5ed1b7=>/^\d+$/[_0x26adc4(0x260)](_0x5ed1b7));if(_0x56e250){const _0x1c194b=_0x279a4b[_0x26adc4(0x27d)](Number),_0x45acde=Math[_0x26adc4(0x1d6)](..._0x1c194b);return String(_0x45acde);}let _0xd72e61;if(typeof Intl!=='undefined'&&Intl['Collator']){const _0x3782d3=new Intl[(_0x26adc4(0x222))](undefined,{'numeric':!![],'sensitivity':_0x26adc4(0x176)});_0xd72e61=_0x279a4b['slice']()[_0x26adc4(0x1b2)](_0x3782d3[_0x26adc4(0x162)]);}else{const _0x41b270=_0x279a4b[_0x26adc4(0x27c)](_0x5f1ba4=>/^\d+$/[_0x26adc4(0x260)](_0x5f1ba4));_0x41b270?_0xd72e61=_0x279a4b[_0x26adc4(0x27d)](Number)['sort']((_0x1d82c4,_0xb86a8f)=>_0x1d82c4-_0xb86a8f)[_0x26adc4(0x27d)](String):_0xd72e61=_0x279a4b['slice']()['sort']();}return _0xd72e61[_0xd72e61['length']-0x1];}function getNextCode(_0x4148b8){var _0x4e5815=_0x1f1628;const _0x4e7bd6=getLastCode(_0x4148b8);if(!_0x4e7bd6)return'';if(/^\d+$/[_0x4e5815(0x260)](_0x4e7bd6))return String(Number(_0x4e7bd6)+0x1);const _0x2fed6d=_0x4e7bd6[_0x4e5815(0x21a)](/^([A-Za-z]*)(\d+)$/);if(_0x2fed6d){const [,_0x2ce1dc,_0x582e57]=_0x2fed6d,_0x1df719=String(Number(_0x582e57)+0x1)[_0x4e5815(0x298)](_0x582e57[_0x4e5815(0x1f1)],'0');return _0x2ce1dc+_0x1df719;}return _0x4e7bd6;}document[_0x1f1628(0x225)]('inputItemName')[_0x1f1628(0x29b)](_0x1f1628(0x1e4),function(_0x17ac82){var _0x35367e=_0x1f1628;baseItem[_0x35367e(0x236)]=_0x17ac82[_0x35367e(0x21b)][_0x35367e(0x1d0)];}),document[_0x1f1628(0x225)](_0x1f1628(0x26d))[_0x1f1628(0x29b)](_0x1f1628(0x1e4),function(_0x35b5a4){var _0x2f985b=_0x1f1628;baseItem['setItemDescription']=_0x35b5a4['target'][_0x2f985b(0x1d0)];}),document['getElementById'](_0x1f1628(0x216))[_0x1f1628(0x29b)](_0x1f1628(0x1e4),function(_0x9c552d){var _0x5e9996=_0x1f1628;baseItem[_0x5e9996(0x1ae)]=_0x9c552d[_0x5e9996(0x21b)][_0x5e9996(0x1d0)];}),document['getElementById'](_0x1f1628(0x164))[_0x1f1628(0x29b)](_0x1f1628(0x1fb),function(_0x47143b){var _0x1411aa=_0x1f1628;baseItem[_0x1411aa(0x1ce)]=_0x47143b['target'][_0x1411aa(0x1d0)];}),document[_0x1f1628(0x225)]('inputItemTax')[_0x1f1628(0x29b)](_0x1f1628(0x1fb),function(_0x3dfed8){var _0x5a2c82=_0x1f1628;baseItem['setItemTaxId']=_0x3dfed8[_0x5a2c82(0x21b)][_0x5a2c82(0x1d0)];const _0x428710=_0x3dfed8[_0x5a2c82(0x21b)][_0x5a2c82(0x1d0)],_0x364447=company[0x0][_0x5a2c82(0x1d3)][_0x5a2c82(0x228)](_0x2a4772=>_0x2a4772[_0x5a2c82(0x1a9)]==_0x428710)?.[_0x5a2c82(0x20e)]||0x0,_0x2563ff=company[0x0][_0x5a2c82(0x1d3)][_0x5a2c82(0x228)](_0x4b0d55=>_0x4b0d55[_0x5a2c82(0x1a9)]==_0x428710)?.[_0x5a2c82(0x279)]||0x0;baseItem[_0x5a2c82(0x20f)]=_0x364447,baseItem[_0x5a2c82(0x1ea)]=_0x2563ff;}),document[_0x1f1628(0x225)](_0x1f1628(0x1e6))[_0x1f1628(0x29b)](_0x1f1628(0x1fb),function(_0xf2f0f6){var _0x2c2255=_0x1f1628;baseItem[_0x2c2255(0x18e)]=_0xf2f0f6[_0x2c2255(0x21b)][_0x2c2255(0x17a)];}),document['getElementById'](_0x1f1628(0x168))[_0x1f1628(0x29b)](_0x1f1628(0x1fb),function(_0x4931c3){var _0x2dd9df=_0x1f1628;baseItem['setItemIsSold']=_0x4931c3[_0x2dd9df(0x21b)]['checked'];}),document[_0x1f1628(0x225)](_0x1f1628(0x2a2))['addEventListener'](_0x1f1628(0x1e4),function(_0x1fbc0c){var _0x343077=_0x1f1628;baseItem[_0x343077(0x219)]=_0x1fbc0c[_0x343077(0x21b)][_0x343077(0x1d0)];}),document[_0x1f1628(0x225)]('inputItemBarCode')['addEventListener'](_0x1f1628(0x1e4),function(_0x4fec99){var _0x263bf0=_0x1f1628;baseItem[_0x263bf0(0x235)]=_0x4fec99[_0x263bf0(0x21b)][_0x263bf0(0x1d0)];}),document[_0x1f1628(0x225)]('newItem_btn_addUnit')[_0x1f1628(0x29b)](_0x1f1628(0x295),function(){addUnit(),updateUnitsArray();}),document[_0x1f1628(0x225)](_0x1f1628(0x2a2))[_0x1f1628(0x29b)](_0x1f1628(0x284),function(){var _0x46aa1f=_0x1f1628;const _0x1ba870=this[_0x46aa1f(0x1d0)][_0x46aa1f(0x253)]();if(_0x1ba870==='')return;const _0x26e905=products[_0x46aa1f(0x258)](_0x501c0e=>_0x501c0e['setCodProducto']==_0x1ba870),_0x340568=getLastCode(products);_0x26e905?ntfShow(_0x46aa1f(0x21f)+_0x340568,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x23f5fa){var _0x28620a=_0x1f1628;currentImages[_0x23f5fa]=null;var _0x836d08=imgC['querySelector'](_0x28620a(0x1a5)+_0x23f5fa+'\x22]');_0x836d08[_0x28620a(0x1c3)]='';var _0x22976c=document['createElement'](_0x28620a(0x1e4));_0x22976c[_0x28620a(0x177)]=_0x28620a(0x1d4),_0x22976c[_0x28620a(0x270)]='image/*',_0x22976c[_0x28620a(0x167)][_0x28620a(0x22b)]=_0x28620a(0x26b);var _0x1c85bb=document[_0x28620a(0x1e8)](_0x28620a(0x1ef));_0x1c85bb[_0x28620a(0x1be)]='+',_0x836d08[_0x28620a(0x205)](_0x22976c),_0x836d08[_0x28620a(0x205)](_0x1c85bb),_0x836d08[_0x28620a(0x29b)]('click',function(){var _0x30be25=_0x28620a;_0x22976c[_0x30be25(0x295)]();}),baseItem[_0x28620a(0x166)]=currentImages[_0x28620a(0x160)](function(_0x29bd48){return _0x29bd48;});}function _0x9465(){var _0x5619d5=['result','newItem_addToCart','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','100','.options_list','eqInput','tag','querySelector','forEach','.ms_input','setItemType','\x20items\x20procesados.','value','dataset','exception','setImpuestos','file','defineProperty','max','code','includes','[id$=\x22_comp_container\x22]','newItem_brands_select','setStockInitial','.removeProd','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','from','setBatchExpirationDate','revokeObjectURL','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','now','newItem_images_container','input','6rfOLHD','newItem_chk_buy','setConversionFactor','createElement','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','setItemTaxValue','Items\x20finales:','remove-tag','setSucursalStock','prototype','span','closeModalCreateItem','length','setWarehouseId','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','#newItem_brands_select\x20.options_list','application/octet-stream','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','PEN','.branchMin','setCategoria','currency_data','change','setTaxIdDefault','447484dgBaWi','setCostUSD','parse','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','#newItem_units_container\x20>\x20div','href','variantForm','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','appendChild','newItem_variant_groups','toISOString','newItem_units_container','info','setItemWarehouses','(((.+)+)+)+$','setMoneda','toLowerCase','setImpuestoCode','setItemTaxCode','assign','parentNode','entries','setWebhook','active','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','inputItemDateExpiry','values','.costInput','setItemCode','match','target','flatMap','fill','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','stopPropagation','progress','Collator','\x22\x20class=\x22branchChk\x22>\x20','ERROR:\x20plainProducts\x20no\x20serializable:','getElementById','toggle','.prodInput','find','modalOverlayCreateItem','1164005knQdsT','display','./img/product.png','offline_operations','keydown','.branchInit','remove','.options_list\x20div','currency','inputItemName','dataTransfer','setItemBarCode','setItemName','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','name','2PewCKe','hidden','❌\x20Error:\x20','setUnitName','block','error','push','Producto\x20Libre','.priceInput','splice','stringify','div[data-default=\x22true\x22]\x20.eqInput','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','newItem_variants_forms','setItemVariantValues','.addVariantUnit','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','No\x20hay\x20items\x20para\x20exportar.','.variantExpiry','default','focus','classList','.prod_input_container','6aQzyWm','findIndex','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','trim','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','newItem_btn_addProdItem','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setMtoPrecioUnitario','some','onmessage','costInput','image_box','.variantBarCode','slice','USD','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','test','selectionChange','setPriceUSD','files','setAlias','setFactor','<div\x20class=\x22newItem_col\x22>','setMarca','_branch_container','setItemComponents','exportDone','none','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','inputItemDescription','newItem_title_table','windowId','accept','setItemBrands','dragenter','setCodProducto','dispatchEvent','detail','newItem_categories_select','readAsDataURL','file-input','setImpuestoValue','toString','_units_container','every','map','className','.unitAlias','479633ZrmBgA','setUnits','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','setCantidad','blur','.addVariantComp','setUnitCode','.eqInput','setIdProducto','btnItemSave','createObjectURL','bind','setItemVariantName','isArray','setCode','_comp_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','querySelectorAll','console','log','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','click','message','selectedItem','padStart','oncomplete','inputItemBarCode','addEventListener','{}.constructor(\x22return\x20this\x22)(\x20)','.prodQty','constructor','setCost','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','newItem_hidden','inputItemCode','setItemUnits','.xlsx','import','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','setWarehouseStockMin','contains','add','filter','dragleave','compare','setImpuestoName','inputItemType','\x22\x20value=\x22','setItemImages','style','newItem_chk_sell','transaction','idx','setBatchName','.vgName','variant_','setUnidadCodigo','.drop-zone__prompt','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','unitAlias','div','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','newItem_title_table_cp','base','type','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','./js/apierp_item_wk.min.js','checked','setItemTaxId','.vgVals','split','true','closest','newItem_branches_container','reduce','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','\x20items.','\x22\x20class=\x22branchChk\x22\x20checked>\x20','table','Enter','remove-file','setItemCategories','drop-zone','.variantForm','disabled','setIdSucursal','238862AJuFkE','setItemIsBought','1156600xNxRBR','4095RBWEgs','setWarehouseName','preventDefault','setEquivalence','setItemIsSold','Ingresa\x20el\x20nombre\x20del\x20item','setWarehouseCode','search','unitSelect','setItemInventoriable','dragover','5490tWJgbz','detalleModalCreateItem','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setItemUnitId','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','sucursales','children','objectStore','.selected_tags','setName','[data-idx=\x22','setItemFree','productType1','newItem_proditems_container','setTaxId','Error\x20al\x20guardar\x20Producto\x20Offline:','items','setPrice','</div>','setItemDateExpiry','newItem_btn_addVariantGroup','setStockMinimum','setMtoPrecioCostoUnitario','sort','setDescripcion','1053404CLMHMd','modalProductNewTitle','upload-btn','postMessage','selected','drop','setItemDescription','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','inputItemTax','setItemId','textContent','<img\x20src=\x22','.unitSelect','.removeGroup','apply','innerHTML'];_0x9465=function(){return _0x5619d5;};return _0x9465();}function addUnit(_0x39ee67,_0x28d8c9,_0x2e76ea,_0x35fdd8,_0x350974,_0x2282a4,_0x130abe){var _0x41be6e=_0x1f1628,_0x5bd63c=uniqueValuesArray(_0x41be6e(0x286),'setUnitName',myCompany[_0x41be6e(0x281)]);_0x39ee67=_0x39ee67||'',_0x28d8c9=_0x28d8c9||_0x5bd63c[0x3a]&&_0x5bd63c[0x3a][_0x41be6e(0x28e)]||'',_0x2e76ea=_0x2e76ea!==undefined?_0x2e76ea:0x1,_0x35fdd8=!!_0x35fdd8,_0x350974=_0x350974||'',_0x2282a4=_0x2282a4||'';var _0x2a5470=unitCount++,_0x4696fe=document[_0x41be6e(0x1e8)]('div');_0x4696fe['dataset'][_0x41be6e(0x16a)]=_0x2a5470,_0x4696fe['dataset'][_0x41be6e(0x24c)]=_0x35fdd8,_0x4696fe[_0x41be6e(0x1c3)]=_0x41be6e(0x237)+_0x2a5470+_0x41be6e(0x165)+_0x39ee67+_0x41be6e(0x1dd)+_0x2a5470+_0x41be6e(0x2a0)+_0x2a5470+_0x41be6e(0x165)+_0x2e76ea+'\x22\x20'+(_0x35fdd8?'disabled':'')+_0x41be6e(0x174)+_0x2a5470+_0x41be6e(0x165)+_0x350974+_0x41be6e(0x170)+_0x2a5470+_0x41be6e(0x165)+_0x2282a4+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x35fdd8?'style=\x22display:none\x22':'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x4696fe[_0x41be6e(0x1cb)](_0x41be6e(0x1c0)),_0x5bd63c,_0x41be6e(0x28e),_0x41be6e(0x1a4)),_0x4696fe[_0x41be6e(0x1cb)](_0x41be6e(0x1c0))['value']=_0x28d8c9,[_0x41be6e(0x172),_0x41be6e(0x198),_0x41be6e(0x1c9),'priceInput',_0x41be6e(0x25a)][_0x41be6e(0x1cc)](function(_0x13cc8d){var _0x3e0614=_0x41be6e;_0x4696fe['querySelector']('.'+_0x13cc8d)[_0x3e0614(0x29b)](_0x3e0614(0x1e4),function(){var _0x124ed5=_0x3e0614,_0x14ccf9=_0x130abe?+_0x130abe['id'][_0x124ed5(0x17d)]('_')[0x1]:null;if(_0x130abe)updateVariantUnits(_0x14ccf9);else updateUnitsArray();});}),_0x4696fe['querySelector']('.removeUnit')[_0x41be6e(0x29b)](_0x41be6e(0x295),function(){var _0x5f5ac2=_0x41be6e;_0x4696fe[_0x5f5ac2(0x230)]();var _0x37ccdb=_0x130abe?+_0x130abe['id'][_0x5f5ac2(0x17d)]('_')[0x1]:null;if(_0x130abe)updateVariantUnits(_0x37ccdb);else updateUnitsArray();});var _0x9c1ef5=_0x130abe||document['getElementById'](_0x41be6e(0x208));_0x9c1ef5[_0x41be6e(0x205)](_0x4696fe);}function containerIdx(_0xa04f8d){var _0x284a66=_0x1f1628;return+_0xa04f8d['id'][_0x284a66(0x17d)]('_')[0x1];}function updateUnitsArray(){var _0x58d24d=_0x1f1628,_0x58aa1c=[],_0x4fbc7a=Array['from'](document[_0x58d24d(0x291)](_0x58d24d(0x201))),_0x25b3ab=_0x4fbc7a[_0x58d24d(0x228)](_0x2d6246=>_0x2d6246[_0x58d24d(0x1d1)][_0x58d24d(0x24c)]===_0x58d24d(0x17e)),_0xd63220=_0x25b3ab?+_0x25b3ab['querySelector'](_0x58d24d(0x287))[_0x58d24d(0x1d0)]:0x1;_0x4fbc7a[_0x58d24d(0x1cc)](function(_0xc5815b){var _0x23b74f=_0x58d24d,_0x428171=+_0xc5815b['querySelector']('.eqInput')[_0x23b74f(0x1d0)]||0x0,_0x44b4f4=+_0xc5815b[_0x23b74f(0x1cb)](_0x23b74f(0x241))['value']||0x0,_0x570913=+_0xc5815b[_0x23b74f(0x1cb)](_0x23b74f(0x218))[_0x23b74f(0x1d0)]||0x0;_0x58aa1c[_0x23b74f(0x23f)]({'setAlias':_0xc5815b[_0x23b74f(0x1cb)]('.unitAlias')[_0x23b74f(0x1d0)][_0x23b74f(0x253)](),'setUnitCode':_0xc5815b[_0x23b74f(0x1cb)](_0x23b74f(0x1c0))[_0x23b74f(0x1d0)],'setEquivalence':_0x428171,'setFactor':_0xc5815b[_0x23b74f(0x1d1)][_0x23b74f(0x24c)]===_0x23b74f(0x17e)?0x1:_0x428171==_0xd63220?0x1:_0x428171<_0xd63220?_0xd63220/_0x428171:_0x428171/_0xd63220,'setPrice':_0x44b4f4,'setCost':_0x570913,'setDefault':_0xc5815b[_0x23b74f(0x1d1)][_0x23b74f(0x24c)]===_0x23b74f(0x17e)?0x1:0x0});}),baseItem['setItemUnits']=_0x58aa1c;}function updateBranches(){var _0x2a9dc3=_0x1f1628,_0x1a0888=[];document[_0x2a9dc3(0x291)]('#newItem_branches_container\x20>\x20div')[_0x2a9dc3(0x1cc)](function(_0xcd9156){var _0x26ea15=_0x2a9dc3,_0x30af15=_0xcd9156[_0x26ea15(0x1cb)]('.branchChk');if(_0x30af15[_0x26ea15(0x17a)]){var _0x1097b8=+_0x30af15[_0x26ea15(0x1d1)]['id'],_0x21b3c3=+_0xcd9156[_0x26ea15(0x1cb)](_0x26ea15(0x22f))[_0x26ea15(0x1d0)],_0x272d15=+_0xcd9156['querySelector']('.branchMin')[_0x26ea15(0x1d0)];_0x1a0888['push']({'setWarehouseCode':_0x1097b8,'setStockInitial':_0x21b3c3,'setStockMinimum':_0x272d15});}}),baseItem[_0x2a9dc3(0x20a)]=_0x1a0888;}document[_0x1f1628(0x225)](_0x1f1628(0x255))[_0x1f1628(0x29b)](_0x1f1628(0x295),function(){var _0x391820=_0x1f1628,_0x3b154d=Date[_0x391820(0x1e2)](),_0x2126aa=document['createElement']('div');_0x2126aa[_0x391820(0x1d1)]['idx']=_0x3b154d,_0x2126aa[_0x391820(0x1c3)]=_0x391820(0x1bb)+_0x3b154d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x3b154d+_0x391820(0x204),prodC[_0x391820(0x205)](_0x2126aa),initProdSearch(_0x2126aa[_0x391820(0x1cb)](_0x391820(0x24f))),_0x2126aa[_0x391820(0x1cb)](_0x391820(0x1dc))[_0x391820(0x29b)](_0x391820(0x295),function(){var _0x47c20f=_0x391820;_0x2126aa[_0x47c20f(0x230)](),updateProdItems();}),_0x2126aa[_0x391820(0x1cb)](_0x391820(0x29d))['addEventListener'](_0x391820(0x1e4),updateProdItems),document[_0x391820(0x225)]('newItem_title_table_cp')[_0x391820(0x24e)][_0x391820(0x226)]('newItem_title_table',!![]),document[_0x391820(0x225)]('newItem_title_table_cp')['classList']['toggle'](_0x391820(0x2a1),![]);});function initProdSearch(_0x506d32,_0x1dada1){var _0x59ce44=_0x1f1628,_0x1473bc=_0x506d32[_0x59ce44(0x1cb)](_0x59ce44(0x227)),_0x516765=_0x506d32[_0x59ce44(0x1cb)](_0x59ce44(0x1c8)),_0x3731d9=_0x1dada1||null;if(_0x1dada1)_0x1473bc[_0x59ce44(0x1d0)]=_0x1dada1[_0x59ce44(0x238)];_0x1473bc['addEventListener'](_0x59ce44(0x1e4),function(){var _0x442c10=_0x59ce44,_0x43fc1e=_0x1473bc[_0x442c10(0x1d0)][_0x442c10(0x20d)]()[_0x442c10(0x253)]();_0x516765[_0x442c10(0x1c3)]='';if(!_0x43fc1e)return;products[_0x442c10(0x160)](_0x2c4ee1=>_0x2c4ee1[_0x442c10(0x1b3)][_0x442c10(0x20d)]()[_0x442c10(0x1d8)](_0x43fc1e))['slice'](0x0,0x14)[_0x442c10(0x1cc)](function(_0x224367){var _0xc58b03=_0x442c10,_0xd825f4=document['createElement'](_0xc58b03(0x173));_0xd825f4[_0xc58b03(0x1be)]=_0x224367[_0xc58b03(0x1b3)],_0xd825f4[_0xc58b03(0x1d1)]['id']=_0x224367['id'],_0xd825f4[_0xc58b03(0x1d1)][_0xc58b03(0x238)]=_0x224367[_0xc58b03(0x1b3)],_0x516765['appendChild'](_0xd825f4),_0xd825f4[_0xc58b03(0x29b)](_0xc58b03(0x295),function(){var _0x584bc6=_0xc58b03;_0x3731d9={'id':_0x224367['id'],'name':_0x224367['setDescripcion']},_0x1473bc['value']=_0x224367['setDescripcion'],_0x516765[_0x584bc6(0x1c3)]='';var _0x45fe96=_0x506d32[_0x584bc6(0x17f)](_0x584bc6(0x1d9));if(_0x45fe96){var _0x591d82=+_0x45fe96['id'][_0x584bc6(0x17d)]('_')[0x1];updateVariantComponents(_0x591d82);}else updateProdItems();});});}),_0x1473bc[_0x59ce44(0x29b)](_0x59ce44(0x24d),function(){var _0x138fea=_0x59ce44;_0x516765['classList'][_0x138fea(0x230)](_0x138fea(0x2a1));}),document[_0x59ce44(0x29b)]('click',function(_0x22862b){var _0x2e0615=_0x59ce44;if(!_0x506d32[_0x2e0615(0x15e)](_0x22862b[_0x2e0615(0x21b)]))_0x516765['classList'][_0x2e0615(0x15f)](_0x2e0615(0x2a1));}),Object[_0x59ce44(0x1d5)](_0x506d32,'selectedItem',{'get':()=>_0x3731d9});}function updateProdItems(){var _0x101691=_0x1f1628,_0x32c5b6=[];Array[_0x101691(0x1de)](prodC[_0x101691(0x1a1)])[_0x101691(0x1cc)](function(_0x3d5830){var _0x535041=_0x101691,_0x455d33=_0x3d5830[_0x535041(0x1cb)](_0x535041(0x24f));if(!_0x455d33)return;var _0x33e303=_0x3d5830[_0x535041(0x1cb)]('.prodQty'),_0x5ec627=_0x455d33[_0x535041(0x297)];_0x5ec627&&_0x32c5b6[_0x535041(0x23f)]({'setItemId':_0x5ec627['id'],'setDescripcion':_0x5ec627[_0x535041(0x238)],'setCantidad':+_0x33e303[_0x535041(0x1d0)]});}),baseItem[_0x101691(0x269)]=_0x32c5b6,_0x32c5b6[_0x101691(0x1f1)]===0x0&&(document[_0x101691(0x225)](_0x101691(0x175))['classList'][_0x101691(0x226)](_0x101691(0x26e),![]),document[_0x101691(0x225)](_0x101691(0x175))[_0x101691(0x24e)][_0x101691(0x226)](_0x101691(0x2a1),!![]));}document[_0x1f1628(0x225)](_0x1f1628(0x1af))[_0x1f1628(0x29b)]('click',function(){var _0x20834f=_0x1f1628,_0x4fe1e7=vgCount++,_0x47573a=document[_0x20834f(0x1e8)]('div');_0x47573a[_0x20834f(0x1d1)][_0x20834f(0x16a)]=_0x4fe1e7,_0x47573a[_0x20834f(0x1c3)]=_0x20834f(0x254)+_0x4fe1e7+'\x22>'+_0x20834f(0x1e1)+_0x4fe1e7+'\x22>'+_0x20834f(0x1f3),vgC[_0x20834f(0x205)](_0x47573a),_0x47573a['querySelector'](_0x20834f(0x16c))[_0x20834f(0x29b)](_0x20834f(0x284),generateVariants),_0x47573a[_0x20834f(0x1cb)]('.vgVals')['addEventListener'](_0x20834f(0x284),generateVariants),_0x47573a[_0x20834f(0x1cb)](_0x20834f(0x1c1))['addEventListener'](_0x20834f(0x295),function(){var _0xc099f=_0x20834f;_0x47573a[_0xc099f(0x230)](),generateVariants();});});function generateVariants(){var _0x5d2fcb=_0x1f1628,_0x3c048e=[];vgC[_0x5d2fcb(0x291)](_0x5d2fcb(0x173))['forEach'](function(_0x4c7326){var _0x267b27=_0x5d2fcb,_0x2d2e6a=_0x4c7326[_0x267b27(0x1cb)](_0x267b27(0x16c))[_0x267b27(0x1d0)][_0x267b27(0x253)](),_0x2e2802=_0x4c7326[_0x267b27(0x1cb)](_0x267b27(0x17c))[_0x267b27(0x1d0)][_0x267b27(0x17d)](',')[_0x267b27(0x27d)](_0x5ab864=>_0x5ab864['trim']())[_0x267b27(0x160)](_0x50a0e3=>_0x50a0e3);if(_0x2d2e6a&&_0x2e2802[_0x267b27(0x1f1)])_0x3c048e['push']({'name':_0x2d2e6a,'vals':_0x2e2802});});var _0x724980=[{}];_0x3c048e['forEach'](function(_0x4608cf){var _0x431be8=_0x5d2fcb;_0x724980=_0x724980[_0x431be8(0x21c)](function(_0x19d4b3){var _0x9ccfc2=_0x431be8;return _0x4608cf['vals'][_0x9ccfc2(0x27d)](function(_0x305057){var _0x352e08=_0x9ccfc2,_0x7a763e=Object[_0x352e08(0x210)]({},_0x19d4b3);return _0x7a763e[_0x4608cf[_0x352e08(0x238)]]=_0x305057,_0x7a763e;});});}),newItems=[],varContainer[_0x5d2fcb(0x1c3)]='',_0x724980[_0x5d2fcb(0x1cc)](function(_0x118f6e,_0x2260d1){var _0x390624=_0x5d2fcb,_0x15cf53=JSON[_0x390624(0x1ff)](JSON['stringify'](baseItem));_0x15cf53['setItemVariantValues']=_0x118f6e,_0x15cf53[_0x390624(0x28c)]=baseItem[_0x390624(0x236)]+'\x20'+Object[_0x390624(0x212)](_0x118f6e)[_0x390624(0x27d)](_0x48d4a7=>_0x48d4a7[0x0]+'\x20'+_0x48d4a7[0x1])['join']('\x20'),newItems[_0x390624(0x23f)](_0x15cf53);var _0x92222=document[_0x390624(0x1e8)](_0x390624(0x173));_0x92222[_0x390624(0x24e)][_0x390624(0x15f)](_0x390624(0x203)),_0x92222['dataset'][_0x390624(0x16a)]=_0x2260d1,_0x92222['innerHTML']=_0x390624(0x182)+_0x15cf53['setItemVariantName']+_0x390624(0x19f)+_0x15cf53['setItemCode']+_0x390624(0x200)+_0x15cf53[_0x390624(0x235)]+_0x390624(0x1c6)+_0x15cf53[_0x390624(0x1ae)]+_0x390624(0x1f6)+_0x2260d1+_0x390624(0x256)+_0x2260d1+_0x390624(0x1e9)+_0x2260d1+_0x390624(0x15c),varContainer['appendChild'](_0x92222),_0x92222[_0x390624(0x1cb)]('.variantCode')[_0x390624(0x29b)](_0x390624(0x1e4),_0x4d3432=>newItems[_0x2260d1][_0x390624(0x219)]=_0x4d3432['target']['value']),_0x92222[_0x390624(0x1cb)](_0x390624(0x25c))['addEventListener'](_0x390624(0x1e4),_0x3710bd=>newItems[_0x2260d1][_0x390624(0x235)]=_0x3710bd[_0x390624(0x21b)]['value']),_0x92222[_0x390624(0x1cb)](_0x390624(0x24b))[_0x390624(0x29b)](_0x390624(0x1fb),_0x4e99c2=>newItems[_0x2260d1][_0x390624(0x1ae)]=_0x4e99c2['target'][_0x390624(0x1d0)]),initVariantUnits(_0x2260d1),initVariantComponents(_0x2260d1),initVariantBranches(_0x2260d1),_0x92222[_0x390624(0x1cb)]('.removeVariant')[_0x390624(0x29b)](_0x390624(0x295),function(){var _0x2d84c4=_0x390624,_0xba7e21=+_0x92222[_0x2d84c4(0x1d1)]['idx'];newItems[_0x2d84c4(0x242)](_0xba7e21,0x1),_0x92222['remove'](),document['querySelectorAll'](_0x2d84c4(0x18a))[_0x2d84c4(0x1cc)](function(_0x34d6ca,_0x154210){var _0xb399e5=_0x2d84c4;_0x34d6ca[_0xb399e5(0x1d1)][_0xb399e5(0x16a)]=_0x154210;});});});if(newItems[_0x5d2fcb(0x1f1)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x47d4bb){var _0x40afce=_0x1f1628,_0x18200f=document[_0x40afce(0x225)]('variant_'+_0x47d4bb+'_units_container'),_0x41a7aa=[];Array[_0x40afce(0x1de)](_0x18200f[_0x40afce(0x1a1)])[_0x40afce(0x1cc)](function(_0x47a7f1){var _0x5e92e8=_0x40afce,_0x4e6874=+_0x47a7f1[_0x5e92e8(0x1cb)]('.eqInput')[_0x5e92e8(0x1d0)]||0x0,_0x1ce507=_0x47a7f1[_0x5e92e8(0x1cb)](_0x5e92e8(0x27f))[_0x5e92e8(0x1d0)]['trim'](),_0x54ab86=_0x47a7f1[_0x5e92e8(0x1cb)](_0x5e92e8(0x1c0))[_0x5e92e8(0x1d0)],_0x53fe7b=+_0x47a7f1['querySelector'](_0x5e92e8(0x241))[_0x5e92e8(0x1d0)]||0x0,_0x3b73f5=+_0x47a7f1[_0x5e92e8(0x1cb)]('.costInput')['value']||0x0,_0x1b54fd=_0x47a7f1['dataset'][_0x5e92e8(0x24c)]===_0x5e92e8(0x17e),_0x2e97ba=+_0x18200f['querySelector'](_0x5e92e8(0x244))[_0x5e92e8(0x1d0)]||0x1,_0x2faa9b=_0x1b54fd?0x1:_0x4e6874==_0x2e97ba?0x1:_0x4e6874<_0x2e97ba?_0x2e97ba/_0x4e6874:_0x4e6874/_0x2e97ba;_0x41a7aa[_0x5e92e8(0x23f)]({'setAlias':_0x1ce507,'setUnitCode':_0x54ab86,'setEquivalence':_0x4e6874,'setFactor':_0x2faa9b,'setPrice':_0x53fe7b,'setCost':_0x3b73f5,'setDefault':_0x1b54fd?0x1:0x0});}),newItems[_0x47d4bb][_0x40afce(0x159)]=_0x41a7aa;}function initVariantUnits(_0x3a1450){var _0x4776d5=_0x1f1628,_0x4b7339=document['getElementById']('variant_'+_0x3a1450+_0x4776d5(0x27b));_0x4b7339[_0x4776d5(0x1c3)]='',newItems[_0x3a1450][_0x4776d5(0x159)][_0x4776d5(0x1cc)](function(_0x4b5f1b){var _0x4f9ad5=_0x4776d5;addUnit(_0x4b5f1b['setAlias'],_0x4b5f1b[_0x4f9ad5(0x286)],_0x4b5f1b[_0x4f9ad5(0x193)],_0x4b5f1b['setDefault'],_0x4b5f1b['setPrice'],_0x4b5f1b['setCost'],_0x4b7339);}),_0x4b7339[_0x4776d5(0x211)][_0x4776d5(0x1cb)](_0x4776d5(0x248))['addEventListener'](_0x4776d5(0x295),function(){addUnit('','',0x1,![],'','',_0x4b7339),updateVariantUnits(_0x3a1450);});}function updateVariantUnits(_0x340e4a){var _0x47d76c=_0x1f1628,_0x579f68=document['getElementById']('variant_'+_0x340e4a+'_units_container'),_0x51e497=_0x579f68[_0x47d76c(0x1cb)](_0x47d76c(0x244)),_0x46e9b3=_0x51e497?+_0x51e497[_0x47d76c(0x1d0)]:0x1,_0x5a14d5=Array['from'](_0x579f68['children'])['map'](function(_0x3232a6){var _0x16256d=_0x47d76c,_0x498e06=_0x3232a6[_0x16256d(0x1cb)](_0x16256d(0x27f))[_0x16256d(0x1d0)][_0x16256d(0x253)](),_0x38046f=_0x3232a6[_0x16256d(0x1cb)](_0x16256d(0x1c0))[_0x16256d(0x1d0)],_0xe38bd4=+_0x3232a6[_0x16256d(0x1cb)](_0x16256d(0x287))['value']||0x0,_0x31d068=+_0x3232a6[_0x16256d(0x1cb)](_0x16256d(0x241))['value']||0x0,_0x46aefb=+_0x3232a6[_0x16256d(0x1cb)](_0x16256d(0x218))[_0x16256d(0x1d0)]||0x0,_0x484bac=_0x3232a6[_0x16256d(0x1d1)][_0x16256d(0x24c)]===_0x16256d(0x17e);return{'setAlias':_0x498e06,'setUnitCode':_0x38046f,'setEquivalence':_0xe38bd4,'setFactor':_0x484bac?0x1:_0xe38bd4==_0x46e9b3?0x1:_0xe38bd4<_0x46e9b3?_0x46e9b3/_0xe38bd4:_0xe38bd4/_0x46e9b3,'setPrice':_0x31d068,'setCost':_0x46aefb,'setDefault':_0x484bac?0x1:0x0};});newItems[_0x340e4a][_0x47d76c(0x159)]=_0x5a14d5;}function initVariantComponents(_0x5b6213){var _0x2e8e72=_0x1f1628,_0x1bb78e=document['getElementById'](_0x2e8e72(0x16d)+_0x5b6213+_0x2e8e72(0x28f));_0x1bb78e['innerHTML']='',newItems[_0x5b6213][_0x2e8e72(0x269)][_0x2e8e72(0x1cc)](function(_0xa38c27){var _0x3307ba=_0x2e8e72,_0xc6ff23=document[_0x3307ba(0x1e8)](_0x3307ba(0x173)),_0x42b688=Date[_0x3307ba(0x1e2)]();_0xc6ff23['dataset'][_0x3307ba(0x16a)]=_0x42b688,_0xc6ff23[_0x3307ba(0x1c3)]=_0x3307ba(0x26c)+_0x42b688+_0x3307ba(0x178)+_0xa38c27[_0x3307ba(0x283)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x1bb78e[_0x3307ba(0x205)](_0xc6ff23),initProdSearch(_0xc6ff23['querySelector'](_0x3307ba(0x24f)),{'id':_0xa38c27['setItemId'],'name':_0xa38c27[_0x3307ba(0x1b3)]}),_0xc6ff23['querySelector'](_0x3307ba(0x29d))[_0x3307ba(0x29b)](_0x3307ba(0x1e4),function(){updateVariantComponents(_0x5b6213);}),_0xc6ff23[_0x3307ba(0x1cb)]('.removeCombo')[_0x3307ba(0x29b)](_0x3307ba(0x295),function(){var _0x4640f2=_0x3307ba;_0xc6ff23[_0x4640f2(0x230)](),updateVariantComponents(_0x5b6213);});}),_0x1bb78e[_0x2e8e72(0x211)][_0x2e8e72(0x1cb)](_0x2e8e72(0x285))[_0x2e8e72(0x29b)]('click',function(){var _0x34f81=_0x2e8e72,_0x2e36e4=document[_0x34f81(0x1e8)](_0x34f81(0x173)),_0x325874=Date[_0x34f81(0x1e2)]();_0x2e36e4['dataset'][_0x34f81(0x16a)]=_0x325874,_0x2e36e4['innerHTML']=_0x34f81(0x26c)+_0x325874+_0x34f81(0x171),_0x1bb78e[_0x34f81(0x205)](_0x2e36e4),initProdSearch(_0x2e36e4[_0x34f81(0x1cb)](_0x34f81(0x24f))),_0x2e36e4[_0x34f81(0x1cb)](_0x34f81(0x29d))['addEventListener']('input',function(){updateVariantComponents(_0x5b6213);}),_0x2e36e4['querySelector']('.removeCombo')[_0x34f81(0x29b)](_0x34f81(0x295),function(){var _0x5dd5cb=_0x34f81;_0x2e36e4[_0x5dd5cb(0x230)](),updateVariantComponents(_0x5b6213);});});}function updateVariantComponents(_0x159611){var _0x401ffb=_0x1f1628,_0x49a8aa=document[_0x401ffb(0x225)](_0x401ffb(0x16d)+_0x159611+_0x401ffb(0x28f)),_0x422702=Array['from'](_0x49a8aa[_0x401ffb(0x1a1)])['map'](function(_0xab85d6){var _0x170b20=_0x401ffb,_0x4d27ef=_0xab85d6[_0x170b20(0x1cb)]('.prod_input_container'),_0x5e6284=_0x4d27ef[_0x170b20(0x297)],_0x3beada=+_0xab85d6[_0x170b20(0x1cb)](_0x170b20(0x29d))[_0x170b20(0x1d0)]||0x0;return _0x5e6284?{'setItemId':_0x5e6284['id'],'setDescripcion':_0x5e6284[_0x170b20(0x238)],'setCantidad':_0x3beada}:null;})['filter'](_0x339c7f=>_0x339c7f);newItems[_0x159611][_0x401ffb(0x269)]=_0x422702;}function initVariantBranches(_0x5d0187){var _0x27a1e0=_0x1f1628;const _0x107a7b=getAllWarehouses();var _0x370c59=document[_0x27a1e0(0x225)](_0x27a1e0(0x16d)+_0x5d0187+_0x27a1e0(0x268));_0x370c59[_0x27a1e0(0x1c3)]='',newItems[_0x5d0187][_0x27a1e0(0x20a)][_0x27a1e0(0x1cc)](function(_0x442d65){var _0x282d60=_0x27a1e0,_0x57eee4=_0x107a7b['find'](_0x2b1cd5=>_0x2b1cd5[_0x282d60(0x1f2)]==_0x442d65[_0x282d60(0x196)]),_0xd571b8=document[_0x282d60(0x1e8)](_0x282d60(0x173));_0xd571b8['innerHTML']=_0x282d60(0x215)+_0x442d65[_0x282d60(0x196)]+_0x282d60(0x184)+_0x57eee4[_0x282d60(0x191)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x442d65[_0x282d60(0x196)]+_0x282d60(0x165)+_0x442d65[_0x282d60(0x1db)]+_0x282d60(0x245)+_0x442d65['setWarehouseCode']+_0x282d60(0x165)+_0x442d65[_0x282d60(0x1b0)]+'\x22>',_0x370c59[_0x282d60(0x205)](_0xd571b8),_0xd571b8['querySelectorAll'](_0x282d60(0x1e4))['forEach'](function(_0x9db60){var _0x4d69fd=_0x282d60;_0x9db60[_0x4d69fd(0x29b)](_0x4d69fd(0x1e4),function(){updateVariantBranches(_0x5d0187);});});}),_0x107a7b[_0x27a1e0(0x1cc)](function(_0xb16a60){var _0x58e1f8=_0x27a1e0;if(!newItems[_0x5d0187][_0x58e1f8(0x20a)]['find'](_0x5e4fa7=>_0x5e4fa7[_0x58e1f8(0x196)]===_0xb16a60['setWarehouseId'])){var _0x25d9f4=document['createElement'](_0x58e1f8(0x173));_0x25d9f4[_0x58e1f8(0x1c3)]=_0x58e1f8(0x215)+_0xb16a60[_0x58e1f8(0x1f2)]+_0x58e1f8(0x223)+_0xb16a60['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0xb16a60[_0x58e1f8(0x1f2)]+_0x58e1f8(0x245)+_0xb16a60['setWarehouseId']+'\x22>',_0x370c59[_0x58e1f8(0x205)](_0x25d9f4),_0x25d9f4['querySelectorAll'](_0x58e1f8(0x1e4))[_0x58e1f8(0x1cc)](function(_0x4a2a96){var _0x2215f4=_0x58e1f8;_0x4a2a96[_0x2215f4(0x29b)](_0x2215f4(0x1e4),function(){updateVariantBranches(_0x5d0187);});});}});}function updateVariantBranches(_0x147f1d){var _0x5822cc=_0x1f1628,_0x244d83=document[_0x5822cc(0x225)](_0x5822cc(0x16d)+_0x147f1d+_0x5822cc(0x268)),_0xcb5453=[];_0x244d83[_0x5822cc(0x291)]('div')[_0x5822cc(0x1cc)](function(_0x1a4a46){var _0x106b1c=_0x5822cc,_0x18b0af=_0x1a4a46[_0x106b1c(0x1cb)]('.branchChk');if(_0x18b0af['checked']){var _0xb87777=+_0x18b0af[_0x106b1c(0x1d1)]['id'],_0x3bae4c=+_0x1a4a46[_0x106b1c(0x1cb)]('.branchInit')[_0x106b1c(0x1d0)]||0x0,_0x5cfbd5=+_0x1a4a46[_0x106b1c(0x1cb)](_0x106b1c(0x1f8))[_0x106b1c(0x1d0)]||0x0;_0xcb5453[_0x106b1c(0x23f)]({'setWarehouseCode':_0xb87777,'setStockInitial':_0x3bae4c,'setStockMinimum':_0x5cfbd5});}}),newItems[_0x147f1d][_0x5822cc(0x20a)]=_0xcb5453;}async function storeOfflineProduct(_0x2171f4){var _0x1f6674=_0x1f1628;try{const _0x403f6d=await createCartStore(''),_0x25cef5=_0x403f6d[_0x1f6674(0x169)]('offline_operations','readwrite'),_0x37dc81=_0x25cef5[_0x1f6674(0x1a2)](_0x1f6674(0x22d));_0x37dc81[_0x1f6674(0x15f)](_0x2171f4),_0x25cef5[_0x1f6674(0x299)]=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x25cef5['onerror']=_0x70d769=>{var _0x3945cf=_0x1f6674;console['error'](_0x3945cf(0x1aa),_0x70d769['target'][_0x3945cf(0x23e)]);};}catch(_0x76a97e){console['error']('Error\x20al\x20procesar\x20la\x20operación:',_0x76a97e);}}document[_0x1f1628(0x225)](_0x1f1628(0x289))[_0x1f1628(0x29b)]('click',async function(_0x3f4780){var _0x3b291b=_0x1f1628;_0x3f4780[_0x3b291b(0x192)]();const _0x58c418=document[_0x3b291b(0x225)]('inputItemCode'),_0x21a411=document[_0x3b291b(0x225)]('setItemFree')[_0x3b291b(0x1d0)];if(!_0x58c418[_0x3b291b(0x1d0)]['trim']()&&_0x21a411==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x21a411==0x1&&(_0x58c418[_0x3b291b(0x1d0)]='',baseItem[_0x3b291b(0x219)]='');const _0x5a3edd=document[_0x3b291b(0x225)](_0x3b291b(0x233));if(!_0x5a3edd['value']['trim']()){ntfShow(_0x3b291b(0x195),0x2,0x1);return;}const _0xd4087=document[_0x3b291b(0x225)](_0x3b291b(0x1c5));hideModalCreateItem(),showLoadingModal();newItems[_0x3b291b(0x1f1)]===0x0&&(newItems=[baseItem]);const _0x3271f7=document['getElementById'](_0x3b291b(0x26f))['value'],_0x3bf99=window_options[_0x3271f7][_0x3b291b(0x20c)],_0x32be39=[];newItems[_0x3b291b(0x1cc)](_0x11f810=>{var _0x100927=_0x3b291b;const _0x4e9fb6=generateNumericUniqId();_0x11f810[_0x100927(0x159)]['forEach'](_0x46eb76=>{var _0x454b2a=_0x100927;const _0xb6b3a1=generateNumericUniqId();_0x46eb76[_0x454b2a(0x19e)]=_0xb6b3a1;const _0x22fe6d={'id':_0xb6b3a1,'setIdProducto':_0x4e9fb6,'setCodProducto':_0x11f810[_0x454b2a(0x219)],'setDescripcion':_0x11f810[_0x454b2a(0x236)],'setItemDescription':_0x11f810[_0x454b2a(0x1ba)],'setBatchExpirationDate':_0x11f810['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x11f810[_0x454b2a(0x188)][0x0]||'','setMarca':_0x11f810[_0x454b2a(0x271)][0x0]||'','setConversionFactor':parseFloat(_0x46eb76[_0x454b2a(0x265)]),'setImages':[],'setImg':_0x454b2a(0x22c),'setInventariable':0x1,'setItemIsBought':_0x11f810[_0x454b2a(0x18e)]?0x1:0x0,'setItemIsSold':_0x11f810['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x11f810[_0x454b2a(0x1ea)],'setPrinters':[],'setTaxId':_0x11f810[_0x454b2a(0x17b)],'setTipAfeIgv':_0x11f810[_0x454b2a(0x20f)],'setUnidad':_0x46eb76[_0x454b2a(0x286)],'setUnidadCodigo':_0x46eb76[_0x454b2a(0x286)],'setItemUnitAlias':_0x46eb76[_0x454b2a(0x264)],'currency_data':[{'currency':_0x3bf99,'setMtoPrecioCostoUnitario':_0x46eb76[_0x454b2a(0x29f)],'setMtoPrecioUnitario':_0x46eb76[_0x454b2a(0x1ac)],'setPriceLists':[]}],'sucursales':_0x11f810[_0x454b2a(0x20a)]['map'](_0x549570=>({'setIdSucursal':_0x549570['setWarehouseCode'],'setSucursalStock':_0x549570[_0x454b2a(0x1db)][_0x454b2a(0x27a)](),'setWarehouseStockMin':_0x549570[_0x454b2a(0x1b0)]['toString']()})),'setItemFree':_0x11f810[_0x454b2a(0x1a6)],'setItemBarCode':_0x11f810['setItemBarCode'],'setItemBrands':_0x11f810[_0x454b2a(0x271)][_0x454b2a(0x25d)](),'setItemCategories':_0x11f810[_0x454b2a(0x188)][_0x454b2a(0x25d)](),'setItemComponents':_0x11f810[_0x454b2a(0x269)][_0x454b2a(0x27d)](_0x4b9db5=>({..._0x4b9db5})),'setItemImages':_0x11f810[_0x454b2a(0x166)][_0x454b2a(0x25d)](),'setItemVariantName':_0x11f810[_0x454b2a(0x28c)],'setItemVariantValues':{..._0x11f810[_0x454b2a(0x247)]}};_0x32be39[_0x454b2a(0x23f)](_0x22fe6d),(_0xd4087[_0x454b2a(0x17a)]||_0x21a411==0x1)&&addToCart(_0x22fe6d);});}),console[_0x3b291b(0x293)](_0x3b291b(0x1eb),newItems),await finalizeImport(_0x32be39,newItems,![]);}),[_0x1f1628(0x272),'dragover'][_0x1f1628(0x1cc)](_0x25e76f=>dropZone[_0x1f1628(0x29b)](_0x25e76f,_0x258293=>{var _0x28cd7e=_0x1f1628;_0x258293['preventDefault'](),dropZone[_0x28cd7e(0x24e)][_0x28cd7e(0x15f)](_0x28cd7e(0x19a));})),[_0x1f1628(0x161),_0x1f1628(0x1b9)][_0x1f1628(0x1cc)](_0x560c85=>dropZone['addEventListener'](_0x560c85,_0x2a9f4b=>{var _0x2086c3=_0x1f1628;_0x2a9f4b[_0x2086c3(0x192)](),dropZone[_0x2086c3(0x24e)]['remove']('dragover');})),dropZone[_0x1f1628(0x29b)](_0x1f1628(0x1b9),_0x1715b7=>{var _0x13b144=_0x1f1628;const _0x443e64=_0x1715b7[_0x13b144(0x234)][_0x13b144(0x263)][0x0];if(!_0x443e64)return;fileInput[_0x13b144(0x263)]=_0x1715b7[_0x13b144(0x234)]['files'],dropZone['querySelector'](_0x13b144(0x16f))['textContent']=_0x443e64[_0x13b144(0x238)],removeBtn['hidden']=![],fileInput[_0x13b144(0x274)](new Event(_0x13b144(0x1fb)));}),removeBtn[_0x1f1628(0x29b)]('click',()=>{var _0x1b5717=_0x1f1628;fileInput[_0x1b5717(0x1d0)]='',dropZone['querySelector'](_0x1b5717(0x16f))[_0x1b5717(0x1be)]=_0x1b5717(0x25f),removeBtn[_0x1b5717(0x23a)]=!![],progressBar[_0x1b5717(0x167)][_0x1b5717(0x22b)]=_0x1b5717(0x26b),statusDiv[_0x1b5717(0x1be)]='',uploadBtn[_0x1b5717(0x18b)]=!![];});const exportBtn=document['getElementById']('btnExportarItems');exportBtn[_0x1f1628(0x29b)]('click',onClickExportarItems);async function onClickExportarItems(){var _0x2ad313=_0x1f1628;if(!Array['isArray'](products)||!products['length']){ntfShow(_0x2ad313(0x24a));return;}try{const _0x3fc6c6=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x3fc6c6['ok'])throw new Error(_0x2ad313(0x19d));const _0x336702=await _0x3fc6c6['arrayBuffer'](),_0x288a89=document[_0x2ad313(0x225)](_0x2ad313(0x1f2))['value'],_0x40cfe1=products[_0x2ad313(0x160)](_0x1c6eb2=>Array['isArray'](_0x1c6eb2['sucursales'])&&_0x1c6eb2[_0x2ad313(0x1a0)]['some'](_0x298d1f=>String(_0x298d1f['setIdSucursal'])==String(_0x288a89))),_0x4c0680=_0x40cfe1[_0x2ad313(0x181)]((_0x7c23f6,_0x1decd4)=>{var _0x4238c6=_0x2ad313;const _0x3814fc=_0x1decd4[_0x4238c6(0x288)];if(!_0x7c23f6[_0x3814fc])_0x7c23f6[_0x3814fc]=[];return _0x7c23f6[_0x3814fc]['push'](_0x1decd4),_0x7c23f6;},{}),_0x170832=Object[_0x2ad313(0x217)](_0x4c0680)[_0x2ad313(0x27d)](_0x2d5b4f=>{var _0x1f2c2f=_0x2ad313;const _0x2dd8d1=_0x2d5b4f[0x0],_0x3d809b=_0x2d5b4f[0x1]||{};function _0x3d38da(_0xe30b4a,_0x13c0da,_0x3fe17d){var _0x57d90a=_0x58d4;if(!_0xe30b4a||!Array[_0x57d90a(0x28d)](_0xe30b4a['currency_data']))return'';const _0x4c023f=_0xe30b4a[_0x57d90a(0x1fa)]['find'](_0x554a78=>_0x554a78[_0x57d90a(0x232)]===_0x13c0da);return _0x4c023f?_0x4c023f[_0x3fe17d]:'';}return{'id':_0x2dd8d1['setIdProducto'],'setItemType':_0x2dd8d1[_0x1f2c2f(0x1ce)],'setCodProducto':_0x2dd8d1[_0x1f2c2f(0x273)],'setDescripcion':_0x2dd8d1['setDescripcion'],'setItemDescription':_0x2dd8d1[_0x1f2c2f(0x1ba)],'setCategoria':_0x2dd8d1[_0x1f2c2f(0x1f9)],'setMarca':_0x2dd8d1[_0x1f2c2f(0x267)],'setTaxId':_0x2dd8d1[_0x1f2c2f(0x1a9)],'setUnitId':_0x2dd8d1['id'],'setItemBarCode':_0x2dd8d1[_0x1f2c2f(0x235)],'setUnidadCodigo':_0x2dd8d1[_0x1f2c2f(0x16e)],'PEN_setMtoPrecioUnitario':_0x3d38da(_0x2dd8d1,'PEN','setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x3d38da(_0x2dd8d1,_0x1f2c2f(0x1f7),_0x1f2c2f(0x1b1)),'USD_setMtoPrecioUnitario':_0x3d38da(_0x2dd8d1,_0x1f2c2f(0x25e),'setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x3d38da(_0x2dd8d1,_0x1f2c2f(0x25e),_0x1f2c2f(0x1b1)),'setUnitId2':_0x3d809b['id']??'','setItemBarCode2':_0x3d809b[_0x1f2c2f(0x235)]??'','setUnidadCodigo2':_0x3d809b[_0x1f2c2f(0x16e)]??'','setUnidadEquivalencia2':_0x3d809b[_0x1f2c2f(0x1e7)]??'','PEN_setMtoPrecioUnitario2':_0x3d38da(_0x3d809b,'PEN','setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x3d38da(_0x3d809b,_0x1f2c2f(0x1f7),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x3d38da(_0x3d809b,'USD',_0x1f2c2f(0x257))??'','USD_setMtoPrecioCostoUnitario2':_0x3d38da(_0x3d809b,_0x1f2c2f(0x25e),_0x1f2c2f(0x1b1))??'','setInventariable':_0x2dd8d1['setInventariable'],'setSucursalStock':_0x2dd8d1[_0x1f2c2f(0x1a0)][_0x1f2c2f(0x228)](_0x43f789=>String(_0x43f789[_0x1f2c2f(0x18c)])==String(_0x288a89))[_0x1f2c2f(0x1ed)],'setWarehouseStockMin':_0x2dd8d1[_0x1f2c2f(0x1a0)][_0x1f2c2f(0x228)](_0x285a93=>String(_0x285a93['setIdSucursal'])==String(_0x288a89))[_0x1f2c2f(0x15d)],'setBatchName':_0x2dd8d1[_0x1f2c2f(0x16b)],'setBatchExpirationDate':_0x2dd8d1[_0x1f2c2f(0x1df)],..._0x2dd8d1[_0x1f2c2f(0x247)]};});try{JSON[_0x2ad313(0x243)](_0x170832);}catch(_0xfd3cb6){console['error'](_0x2ad313(0x224),_0xfd3cb6),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv['textContent']='Generando\x20Excel...',progressBar[_0x2ad313(0x167)][_0x2ad313(0x22b)]=_0x2ad313(0x23d),progressBar['value']=0x0,itemWorker[_0x2ad313(0x1b7)]({'action':'exportItems','products':_0x170832,'plantillaBuf':_0x336702},[_0x336702]);}catch(_0x8a5054){console[_0x2ad313(0x23e)](_0x8a5054),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x8a5054[_0x2ad313(0x296)]);}}itemWorker[_0x1f1628(0x259)]=({data:_0x2389f1})=>{var _0x5a1eb5=_0x1f1628;const {type:_0x322dd5,payload:_0x5ed572}=_0x2389f1;_0x322dd5===_0x5a1eb5(0x221)&&(progressBar[_0x5a1eb5(0x167)]['display']=_0x5a1eb5(0x23d),progressBar[_0x5a1eb5(0x1d0)]=_0x5ed572['percent'],statusDiv[_0x5a1eb5(0x1be)]=_0x5ed572[_0x5a1eb5(0x296)]);_0x322dd5==='done'&&(newItemsExcel=_0x5ed572[_0x5a1eb5(0x1ab)],statusDiv[_0x5a1eb5(0x1be)]='✅\x20'+newItemsExcel['length']+_0x5a1eb5(0x1cf),uploadBtn[_0x5a1eb5(0x18b)]=![],progressBar['value']=0x64,console[_0x5a1eb5(0x293)](newItemsExcel));_0x322dd5===_0x5a1eb5(0x23e)&&(statusDiv[_0x5a1eb5(0x1be)]=_0x5a1eb5(0x23b)+_0x5ed572,progressBar[_0x5a1eb5(0x167)][_0x5a1eb5(0x22b)]=_0x5a1eb5(0x26b));if(_0x322dd5===_0x5a1eb5(0x26a)){const {wbout:_0x27886f,count:_0x5c6d31}=_0x5ed572,_0x3c94d=new Blob([_0x27886f],{'type':_0x5a1eb5(0x1f5)}),_0x9a29a5=URL[_0x5a1eb5(0x28a)](_0x3c94d),_0x11bdde=document[_0x5a1eb5(0x1e8)]('a'),_0xf74279=new Date()[_0x5a1eb5(0x207)]()[_0x5a1eb5(0x25d)](0x0,0xa);_0x11bdde['download']='Plantilla-Items-Export-'+_0xf74279+_0x5a1eb5(0x15a),_0x11bdde[_0x5a1eb5(0x202)]=_0x9a29a5,_0x11bdde[_0x5a1eb5(0x295)](),URL[_0x5a1eb5(0x1e0)](_0x9a29a5),statusDiv[_0x5a1eb5(0x1be)]='✅\x20Exportación\x20completada:\x20'+_0x5c6d31+_0x5a1eb5(0x183),progressBar[_0x5a1eb5(0x167)][_0x5a1eb5(0x22b)]=_0x5a1eb5(0x26b);}},fileInput['addEventListener']('change',async _0x28e6b6=>{var _0xb0e6d5=_0x1f1628;const _0x49d28c=_0x28e6b6[_0xb0e6d5(0x21b)][_0xb0e6d5(0x263)][0x0];if(!_0x49d28c)return;uploadBtn[_0xb0e6d5(0x18b)]=!![],newItemsExcel=null,statusDiv[_0xb0e6d5(0x1be)]='',progressBar[_0xb0e6d5(0x167)]['display']=_0xb0e6d5(0x26b),dropZone[_0xb0e6d5(0x1cb)](_0xb0e6d5(0x16f))[_0xb0e6d5(0x1be)]=_0x49d28c['name'],removeBtn[_0xb0e6d5(0x23a)]=![];try{const _0x527b14=await _0x49d28c['arrayBuffer']();itemWorker[_0xb0e6d5(0x1b7)]({'action':_0xb0e6d5(0x15b),'buf':_0x527b14,'maxRows':0x1388});}catch(_0x195db4){statusDiv[_0xb0e6d5(0x1be)]=_0xb0e6d5(0x249);}finally{fileInput[_0xb0e6d5(0x1d0)]='';}}),uploadBtn[_0x1f1628(0x29b)](_0x1f1628(0x295),async()=>{var _0x2d1dd7=_0x1f1628;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5404e9=document[_0x2d1dd7(0x225)](_0x2d1dd7(0x1f2))[_0x2d1dd7(0x1d0)],_0xcfd0cd=[];newItemsExcel['forEach'](_0x312b9a=>{var _0x294d17=_0x2d1dd7;const _0x126b52=Boolean(_0x312b9a[_0x294d17(0x1bd)]),_0x2180a5=_0x126b52?_0x312b9a[_0x294d17(0x1bd)]:generateNumericUniqId();_0x312b9a[_0x294d17(0x20a)]=[{'setStockInitial':_0x312b9a['setStockInitial'],'setStockMinimum':_0x312b9a[_0x294d17(0x1b0)],'setWarehouseCode':_0x5404e9}],_0x312b9a[_0x294d17(0x159)][_0x294d17(0x1cc)](_0x117240=>{var _0x5655c6=_0x294d17;const _0x281453=Boolean(_0x117240['setItemUnitId']),_0x4c3917=_0x281453?_0x117240['setItemUnitId']:generateNumericUniqId();_0x117240[_0x5655c6(0x19e)]=_0x4c3917;const _0x34fe47=[];_0x34fe47[_0x5655c6(0x23f)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x117240[_0x5655c6(0x29f)],'setMtoPrecioUnitario':_0x117240[_0x5655c6(0x1ac)],'setPriceLists':[]});const _0x436746=_0x117240[_0x5655c6(0x1fe)]!=null&&_0x117240['setPriceUSD']!=null&&(!isNaN(_0x117240[_0x5655c6(0x1fe)])||!isNaN(_0x117240[_0x5655c6(0x262)]));_0x436746&&_0x34fe47['push']({'currency':_0x5655c6(0x25e),'setMtoPrecioCostoUnitario':_0x117240[_0x5655c6(0x1fe)],'setMtoPrecioUnitario':_0x117240[_0x5655c6(0x262)],'setPriceLists':[]});const _0x2bad3f={'id':_0x4c3917,'setIdProducto':_0x2180a5,'setItemBarCode':_0x117240[_0x5655c6(0x235)],'setCodProducto':_0x312b9a[_0x5655c6(0x219)],'setDescripcion':_0x312b9a[_0x5655c6(0x236)],'setItemDescription':_0x312b9a['setItemDescription'],'setBatchExpirationDate':_0x312b9a[_0x5655c6(0x1ae)],'setBatchName':_0x312b9a['setBatchName'],'setCategoria':_0x312b9a[_0x5655c6(0x188)][0x0]||'','setMarca':_0x312b9a[_0x5655c6(0x271)][0x0]||'','setConversionFactor':parseFloat(_0x117240[_0x5655c6(0x265)]),'setImages':[],'setImg':_0x5655c6(0x22c),'setInventariable':_0x312b9a[_0x5655c6(0x199)],'setItemIsBought':_0x312b9a[_0x5655c6(0x18e)],'setItemIsSold':_0x312b9a[_0x5655c6(0x194)],'setPorcentajeIgv':_0x312b9a[_0x5655c6(0x1ea)],'setPrinters':[],'setTaxId':_0x312b9a[_0x5655c6(0x17b)],'setTipAfeIgv':_0x312b9a[_0x5655c6(0x20f)],'setUnidad':_0x117240['setUnitCode'],'setUnidadCodigo':_0x117240[_0x5655c6(0x286)],'setItemUnitAlias':_0x117240[_0x5655c6(0x264)],'currency_data':_0x34fe47,'sucursales':_0x312b9a[_0x5655c6(0x20a)][_0x5655c6(0x27d)](_0x70dc99=>({'setIdSucursal':_0x70dc99[_0x5655c6(0x196)],'setSucursalStock':_0x70dc99[_0x5655c6(0x1db)][_0x5655c6(0x27a)](),'setWarehouseStockMin':_0x70dc99['setStockMinimum'][_0x5655c6(0x27a)]()})),'setItemFree':_0x312b9a[_0x5655c6(0x1a6)],'setItemBrands':_0x312b9a[_0x5655c6(0x271)][_0x5655c6(0x25d)](),'setItemCategories':_0x312b9a['setItemCategories'][_0x5655c6(0x25d)](),'setItemComponents':_0x312b9a['setItemComponents'][_0x5655c6(0x27d)](_0x142b8f=>({..._0x142b8f})),'setItemImages':_0x312b9a[_0x5655c6(0x166)][_0x5655c6(0x25d)](),'setItemVariantName':_0x312b9a['setItemVariantName'],'setItemVariantValues':{..._0x312b9a[_0x5655c6(0x247)]}},_0x5cf158=products[_0x5655c6(0x251)](_0x2a43e6=>_0x2a43e6['id']==_0x4c3917&&_0x2a43e6[_0x5655c6(0x288)]==_0x2180a5);_0x5cf158>-0x1?Object[_0x5655c6(0x210)](products[_0x5cf158],_0x2bad3f):_0xcfd0cd[_0x5655c6(0x23f)](_0x2bad3f);});}),console[_0x2d1dd7(0x293)](_0x2d1dd7(0x1eb),newItemsExcel),await finalizeImport(_0xcfd0cd,newItemsExcel,!![]);});function initializeFormImages(){var _0x35e623=_0x1f1628;currentImages=Array(MAX_IMAGES)[_0x35e623(0x21d)](null),imgC[_0x35e623(0x1c3)]='',baseItem[_0x35e623(0x166)]=[];for(var _0x32aee2=0x0;_0x32aee2<MAX_IMAGES;_0x32aee2++){(function(_0x12f4bd){var _0x34af5f=_0x35e623,_0x286355=document['createElement'](_0x34af5f(0x173));_0x286355[_0x34af5f(0x27e)]=_0x34af5f(0x25b),_0x286355[_0x34af5f(0x1d1)][_0x34af5f(0x16a)]=_0x12f4bd;var _0x1f2191=document[_0x34af5f(0x1e8)](_0x34af5f(0x1e4));_0x1f2191[_0x34af5f(0x177)]=_0x34af5f(0x1d4),_0x1f2191[_0x34af5f(0x270)]='image/*',_0x1f2191[_0x34af5f(0x167)][_0x34af5f(0x22b)]=_0x34af5f(0x26b);var _0x2313a1=document[_0x34af5f(0x1e8)](_0x34af5f(0x1ef));_0x2313a1[_0x34af5f(0x1be)]='+',_0x286355[_0x34af5f(0x205)](_0x1f2191),_0x286355[_0x34af5f(0x205)](_0x2313a1),imgC[_0x34af5f(0x205)](_0x286355),_0x286355[_0x34af5f(0x29b)]('click',function(){var _0x1f96ef=_0x34af5f;_0x1f2191[_0x1f96ef(0x295)]();}),_0x1f2191[_0x34af5f(0x29b)](_0x34af5f(0x1fb),function(_0x26219e){var _0x1fa79b=_0x34af5f,_0x1ec5ef=_0x26219e['target'][_0x1fa79b(0x263)][0x0];if(!_0x1ec5ef)return removeImg(_0x12f4bd);var _0xa579b4=new FileReader();_0xa579b4['onload']=function(_0x55fcb4){var _0xd60a46=_0x1fa79b;_0x286355[_0xd60a46(0x1c3)]=_0xd60a46(0x1bf)+_0x55fcb4['target'][_0xd60a46(0x1c4)]+'\x22>';var _0x326ced=document['createElement']('span');_0x326ced[_0xd60a46(0x27e)]=_0xd60a46(0x230),_0x326ced[_0xd60a46(0x1be)]='×',_0x326ced[_0xd60a46(0x29b)]('click',function(_0xff9f1f){var _0x44f3a5=_0xd60a46;_0xff9f1f[_0x44f3a5(0x220)](),removeImg(_0x12f4bd);}),_0x286355[_0xd60a46(0x205)](_0x326ced),currentImages[_0x12f4bd]=_0x1ec5ef,baseItem[_0xd60a46(0x166)]=currentImages[_0xd60a46(0x160)](function(_0x34316c){return _0x34316c;});},_0xa579b4[_0x1fa79b(0x277)](_0x1ec5ef);});}(_0x32aee2));}}function initializeFormIsSoldIsBought(_0x158f65=0x0){var _0x3b67a0=_0x1f1628;let _0x33dc85,_0x5a2acf;if(_0x158f65!=0x0){const _0x51109d=products[_0x3b67a0(0x228)](_0x3355b5=>_0x3355b5['id']==_0x158f65);_0x33dc85=_0x51109d[_0x3b67a0(0x18e)]==0x1||_0x51109d[_0x3b67a0(0x18e)]==!![]?!![]:![],_0x5a2acf=_0x51109d['setItemIsSold']==0x1||_0x51109d[_0x3b67a0(0x194)]==!![]?!![]:![];}else _0x33dc85=!![],_0x5a2acf=!![];document['getElementById'](_0x3b67a0(0x1e6))[_0x3b67a0(0x17a)]=_0x33dc85,document[_0x3b67a0(0x225)](_0x3b67a0(0x168))[_0x3b67a0(0x17a)]=_0x5a2acf,baseItem[_0x3b67a0(0x18e)]=_0x33dc85,baseItem[_0x3b67a0(0x194)]=_0x5a2acf;}function initializeFormInputsBasic(_0x3317d1=0x0){var _0x28327e=_0x1f1628;let _0xf3cf92,_0x2380c8,_0xf814ad,_0x5d11d0,_0xddf0b3,_0x5627a5;if(_0x3317d1!=0x0){const _0x330990=products[_0x28327e(0x228)](_0xcbf426=>_0xcbf426['id']==_0x3317d1);_0xf3cf92=_0x330990[_0x28327e(0x1ce)]??'1',_0x2380c8=_0x330990[_0x28327e(0x273)],_0xf814ad=_0x330990[_0x28327e(0x1b3)],_0x5d11d0=_0x330990[_0x28327e(0x1ba)],_0xddf0b3=_0x330990[_0x28327e(0x1df)]??'',_0x5627a5=_0x330990[_0x28327e(0x235)];}else _0xf3cf92='1',_0x2380c8=getNextCode(products),_0xf814ad='',_0x5d11d0='',_0xddf0b3='',_0x5627a5='';document[_0x28327e(0x225)](_0x28327e(0x164))[_0x28327e(0x1d0)]=_0xf3cf92,document[_0x28327e(0x225)](_0x28327e(0x2a2))['value']=_0x2380c8,document[_0x28327e(0x225)](_0x28327e(0x233))[_0x28327e(0x1d0)]=_0xf814ad,document[_0x28327e(0x225)]('inputItemDescription')[_0x28327e(0x1d0)]=_0x5d11d0,document[_0x28327e(0x225)](_0x28327e(0x216))[_0x28327e(0x1d0)]=_0xddf0b3,document[_0x28327e(0x225)](_0x28327e(0x29a))[_0x28327e(0x1d0)]=_0x5627a5,baseItem['setItemType']=_0xf3cf92,baseItem[_0x28327e(0x219)]=_0x2380c8,baseItem[_0x28327e(0x236)]=_0xf814ad,baseItem[_0x28327e(0x1ba)]=_0x5d11d0,baseItem[_0x28327e(0x1ae)]=_0xddf0b3,baseItem['setItemBarCode']=_0x5627a5,document['getElementById'](_0x28327e(0x1c5))[_0x28327e(0x17a)]=![];}function _0x58d4(_0x5ef4db,_0x517f44){var _0x567098=_0x9465();return _0x58d4=function(_0x29c1f3,_0x3842bd){_0x29c1f3=_0x29c1f3-0x159;var _0x1cb85f=_0x567098[_0x29c1f3];return _0x1cb85f;},_0x58d4(_0x5ef4db,_0x517f44);}function initializeFormTax(_0x364383=0x0){var _0x15f30c=_0x1f1628;let _0x1670ac;if(_0x364383!=0x0){const _0x42b4c2=products['find'](_0x3a36d5=>_0x3a36d5['id']==_0x364383);_0x1670ac=_0x42b4c2[_0x15f30c(0x1a9)];}else _0x1670ac=myCompany['setTaxIdDefault'];const _0x46caf5=document[_0x15f30c(0x225)](_0x15f30c(0x1bc));_0x46caf5['value']=_0x1670ac,baseItem[_0x15f30c(0x17b)]=_0x1670ac;const _0x298024=company[0x0][_0x15f30c(0x1d3)]['find'](_0x4de5b6=>_0x4de5b6[_0x15f30c(0x1a9)]==_0x1670ac)?.['setImpuestoCode']||0x0,_0x3155af=company[0x0][_0x15f30c(0x1d3)][_0x15f30c(0x228)](_0x4a15ed=>_0x4a15ed['setTaxId']==_0x1670ac)?.[_0x15f30c(0x279)]||0x0;baseItem[_0x15f30c(0x20f)]=_0x298024,baseItem[_0x15f30c(0x1ea)]=_0x3155af;}function initializeFormCategoriesBrands(_0x3000fc=0x0){var _0x34624c=_0x1f1628;baseItem[_0x34624c(0x188)]=[],baseItem[_0x34624c(0x271)]=[],document[_0x34624c(0x1cb)]('#newItem_categories_select\x20.selected_tags')[_0x34624c(0x1c3)]='',document[_0x34624c(0x1cb)]('#newItem_categories_select\x20.options_list')['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.selected_tags')[_0x34624c(0x1c3)]='',document[_0x34624c(0x1cb)](_0x34624c(0x1f4))[_0x34624c(0x1c3)]='';const _0x556055=uniqueValuesArray(_0x34624c(0x1f9),_0x34624c(0x1f9),products),_0x31a946=uniqueValuesArray('setMarca',_0x34624c(0x267),products);initMulti(_0x34624c(0x276),_0x556055),initMulti(_0x34624c(0x1da),_0x31a946),document[_0x34624c(0x225)](_0x34624c(0x276))[_0x34624c(0x29b)](_0x34624c(0x261),function(_0x475398){var _0x493ea4=_0x34624c;baseItem[_0x493ea4(0x188)]=_0x475398[_0x493ea4(0x275)]['map'](_0x44eaaf=>_0x44eaaf[_0x493ea4(0x28e)]);}),document[_0x34624c(0x225)](_0x34624c(0x1da))['addEventListener'](_0x34624c(0x261),function(_0x42f079){var _0x275df1=_0x34624c;baseItem['setItemBrands']=_0x42f079[_0x275df1(0x275)][_0x275df1(0x27d)](_0x4b40a6=>_0x4b40a6[_0x275df1(0x28e)]);});if(_0x3000fc!=0x0){const _0x3b8964=products['find'](_0x18df36=>_0x18df36['id']==_0x3000fc);if(_0x3b8964['setCategoria']){const _0x42af26=document[_0x34624c(0x225)](_0x34624c(0x276)),_0x41a184=Array[_0x34624c(0x1de)](_0x42af26[_0x34624c(0x291)](_0x34624c(0x231)))[_0x34624c(0x228)](_0x12f47e=>_0x12f47e[_0x34624c(0x1d1)][_0x34624c(0x1d7)]==_0x3b8964['setCategoria']);_0x41a184&&_0x41a184[_0x34624c(0x295)]();}if(_0x3b8964[_0x34624c(0x267)]){const _0x4f16c4=document[_0x34624c(0x225)](_0x34624c(0x1da)),_0x28dc82=Array[_0x34624c(0x1de)](_0x4f16c4[_0x34624c(0x291)]('.options_list\x20div'))['find'](_0x3fe31e=>_0x3fe31e[_0x34624c(0x1d1)][_0x34624c(0x1d7)]==_0x3b8964[_0x34624c(0x267)]);_0x28dc82&&_0x28dc82[_0x34624c(0x295)]();}}}function initializeFormUnits(){var _0x2d35a5=_0x1f1628;unitCount=0x0,document[_0x2d35a5(0x225)](_0x2d35a5(0x208))[_0x2d35a5(0x1c3)]='',baseItem[_0x2d35a5(0x159)]=[];var _0x2f2048=uniqueValuesArray(_0x2d35a5(0x286),_0x2d35a5(0x23c),myCompany['setUnits']);addUnit('',_0x2f2048[0x3a]&&_0x2f2048[0x3a][_0x2d35a5(0x28e)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0xac021d=_0x1f1628;prodC[_0xac021d(0x1c3)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x25a1e9=_0x1f1628;branchesC[_0x25a1e9(0x1c3)]='',baseItem[_0x25a1e9(0x20a)]=[];const _0x56fdee=getAllWarehouses();_0x56fdee[_0x25a1e9(0x1cc)](function(_0x2cfcc7){var _0x50979b=_0x25a1e9,_0x3223ae=document[_0x50979b(0x1e8)](_0x50979b(0x173));_0x3223ae[_0x50979b(0x1c3)]=_0x50979b(0x282)+_0x50979b(0x266)+_0x50979b(0x252)+_0x2cfcc7[_0x50979b(0x1f2)]+_0x50979b(0x184)+_0x2cfcc7[_0x50979b(0x191)]+'</label>'+_0x50979b(0x1ad)+_0x50979b(0x266)+_0x50979b(0x21e)+_0x2cfcc7['setWarehouseId']+'\x22>'+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x50979b(0x290)+_0x2cfcc7['setWarehouseId']+'\x22>'+_0x50979b(0x1ad)+'</div>',branchesC[_0x50979b(0x205)](_0x3223ae),_0x3223ae['querySelectorAll']('input')[_0x50979b(0x1cc)](function(_0x5aaf3c){var _0xfe594c=_0x50979b;_0x5aaf3c['addEventListener'](_0xfe594c(0x1e4),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x296b29=_0x1f1628;baseItem['setItemVariantName']='',baseItem['setItemVariantValues']={},vgC[_0x296b29(0x1c3)]='',varContainer[_0x296b29(0x1c3)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x46b258,_0x585c51,_0x173260=![]){var _0x41e7bc=_0x1f1628;const _0x31009a=0xc8,_0x218dec={'apiPOSsendOffline':'1','setTipoOperacion':_0x41e7bc(0x1c7),'setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x41e7bc(0x213)]};for(let _0xdc40b6=0x0;_0xdc40b6<_0x585c51[_0x41e7bc(0x1f1)];_0xdc40b6+=_0x31009a){const _0x5c728c=_0x585c51[_0x41e7bc(0x25d)](_0xdc40b6,_0xdc40b6+_0x31009a);await storeOfflineProduct({..._0x218dec,'newItems':_0x5c728c});}products['push'](..._0x46b258),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x41e7bc(0x294)),_0x173260?(fileInput[_0x41e7bc(0x1d0)]='',uploadBtn[_0x41e7bc(0x18b)]=!![],statusDiv[_0x41e7bc(0x1be)]='',progressBar[_0x41e7bc(0x167)][_0x41e7bc(0x22b)]=_0x41e7bc(0x26b),progressBar[_0x41e7bc(0x1d0)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}