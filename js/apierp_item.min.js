/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.9
*/

var _0x4c64e1=_0x38ec;(function(_0x5648e6,_0x20813a){var _0x28f480=_0x38ec,_0x4f2c05=_0x5648e6();while(!![]){try{var _0x3a3879=-parseInt(_0x28f480(0x1c6))/0x1*(-parseInt(_0x28f480(0x19e))/0x2)+parseInt(_0x28f480(0x1ce))/0x3+-parseInt(_0x28f480(0x1c1))/0x4+-parseInt(_0x28f480(0x21f))/0x5+parseInt(_0x28f480(0x196))/0x6+parseInt(_0x28f480(0x12f))/0x7+parseInt(_0x28f480(0x17c))/0x8*(-parseInt(_0x28f480(0x1c8))/0x9);if(_0x3a3879===_0x20813a)break;else _0x4f2c05['push'](_0x4f2c05['shift']());}catch(_0x348188){_0x4f2c05['push'](_0x4f2c05['shift']());}}}(_0xdd1f,0xa2725));var _0x2c491c=(function(){var _0x4c614a=!![];return function(_0x1543f8,_0x4b7921){var _0x4de23c=_0x4c614a?function(){if(_0x4b7921){var _0x4eea7d=_0x4b7921['apply'](_0x1543f8,arguments);return _0x4b7921=null,_0x4eea7d;}}:function(){};return _0x4c614a=![],_0x4de23c;};}()),_0x4ce919=_0x2c491c(this,function(){var _0x3130ea=_0x38ec;return _0x4ce919[_0x3130ea(0x22d)]()['search'](_0x3130ea(0x148))[_0x3130ea(0x22d)]()['constructor'](_0x4ce919)[_0x3130ea(0x134)](_0x3130ea(0x148));});_0x4ce919();var _0x1c8483=(function(){var _0x589252=!![];return function(_0x602e73,_0x441fc4){var _0x310b0b=_0x589252?function(){var _0xa1e93f=_0x38ec;if(_0x441fc4){var _0x381e54=_0x441fc4[_0xa1e93f(0x1ea)](_0x602e73,arguments);return _0x441fc4=null,_0x381e54;}}:function(){};return _0x589252=![],_0x310b0b;};}()),_0x3030f5=_0x1c8483(this,function(){var _0xda1574=_0x38ec,_0x1c9e25=function(){var _0xe76fa9=_0x38ec,_0x582949;try{_0x582949=Function(_0xe76fa9(0x22a)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x46236e){_0x582949=window;}return _0x582949;},_0x558dcf=_0x1c9e25(),_0x2763a6=_0x558dcf[_0xda1574(0x213)]=_0x558dcf[_0xda1574(0x213)]||{},_0x2a870e=[_0xda1574(0x262),_0xda1574(0x1ee),_0xda1574(0x236),_0xda1574(0x124),'exception',_0xda1574(0x15a),'trace'];for(var _0x490dd8=0x0;_0x490dd8<_0x2a870e[_0xda1574(0x1fd)];_0x490dd8++){var _0x459ef7=_0x1c8483[_0xda1574(0x22e)][_0xda1574(0x1c4)][_0xda1574(0x14e)](_0x1c8483),_0x5b9121=_0x2a870e[_0x490dd8],_0x46ee3b=_0x2763a6[_0x5b9121]||_0x459ef7;_0x459ef7[_0xda1574(0x224)]=_0x1c8483[_0xda1574(0x14e)](_0x1c8483),_0x459ef7[_0xda1574(0x22d)]=_0x46ee3b[_0xda1574(0x22d)][_0xda1574(0x14e)](_0x46ee3b),_0x2763a6[_0x5b9121]=_0x459ef7;}});_0x3030f5();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x241)),unitCount=0x0,branchesC=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x249)),prodC=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x141)),vgCount=0x0,varContainer=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x1b5)),vgC=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x211));const fileInput=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x13b)),progressBar=document[_0x4c64e1(0x1e4)]('progress'),statusDiv=document['getElementById'](_0x4c64e1(0x174)),uploadBtn=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x187));let newItemsExcel=null;const itemWorker=new Worker(_0x4c64e1(0x1ff)),dropZone=document['getElementById'](_0x4c64e1(0x1f9)),removeBtn=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x154));function showModalCreateItem(_0x1e6a57){var _0x146ba0=_0x4c64e1;const _0x1b24dd=document['getElementById']('detalleModalCreateItem'),_0x2b6728=document[_0x146ba0(0x1e4)](_0x146ba0(0x258));_0x1b24dd[_0x146ba0(0x18c)]['add'](_0x146ba0(0x18f)),_0x2b6728[_0x146ba0(0x239)][_0x146ba0(0x181)]=_0x146ba0(0x140);const _0x44fe99=document['getElementById'](_0x146ba0(0x24e));_0x44fe99[_0x146ba0(0x16f)]=parseInt(_0x1e6a57),baseItem['setItemFree']=parseInt(_0x1e6a57);const _0x519aaa=document[_0x146ba0(0x1e4)](_0x146ba0(0x145));_0x1e6a57==0x0&&(_0x519aaa[_0x146ba0(0x16c)]='Nuevo\x20Producto');_0x1e6a57==0x1&&(_0x519aaa[_0x146ba0(0x16c)]='Producto\x20Libre');const _0x3b8c5a=document[_0x146ba0(0x214)](_0x146ba0(0x160));for(let _0x1da97f=0x0;_0x1da97f<_0x3b8c5a[_0x146ba0(0x1fd)];_0x1da97f++){const _0x106fc0=_0x3b8c5a[_0x1da97f];if(_0x1e6a57==0x0)_0x106fc0[_0x146ba0(0x18c)][_0x146ba0(0x242)](_0x146ba0(0x240));else _0x1e6a57==0x1&&_0x106fc0['classList'][_0x146ba0(0x1d4)](_0x146ba0(0x240));}}function hideModalCreateItem(){var _0x291632=_0x4c64e1;const _0x4b057b=document[_0x291632(0x1e4)](_0x291632(0x162)),_0x303095=document[_0x291632(0x1e4)]('modalOverlayCreateItem');_0x4b057b['classList']['remove'](_0x291632(0x18f)),_0x303095[_0x291632(0x239)][_0x291632(0x181)]='none';}document[_0x4c64e1(0x1e4)](_0x4c64e1(0x235))[_0x4c64e1(0x149)](_0x4c64e1(0x1df),hideModalCreateItem),document[_0x4c64e1(0x1e4)]('modalOverlayCreateItem')[_0x4c64e1(0x149)]('click',_0x336457=>{var _0x5dec33=_0x4c64e1;_0x336457[_0x5dec33(0x23a)]==_0x336457[_0x5dec33(0x215)]&&_0x336457[_0x5dec33(0x230)]();});function loadTaxData(){var _0x5b7cbb=_0x4c64e1;const _0x446d6a=document[_0x5b7cbb(0x1e4)](_0x5b7cbb(0x175));_0x446d6a[_0x5b7cbb(0x16c)]='',company[0x0][_0x5b7cbb(0x191)][_0x5b7cbb(0x185)](function(_0x53d451){var _0x45e622=_0x5b7cbb;const _0x1cffad=document[_0x45e622(0x117)](_0x45e622(0x1b6));_0x1cffad[_0x45e622(0x16f)]=_0x53d451[_0x45e622(0x1fe)],_0x1cffad[_0x45e622(0x16c)]=_0x53d451['setImpuestoName']+'\x20('+_0x53d451[_0x45e622(0x1ba)]+'%)',_0x53d451[_0x45e622(0x1fe)]==company[0x0][_0x45e622(0x1bc)]&&(_0x1cffad['selected']=!![]),_0x446d6a[_0x45e622(0x1d1)](_0x1cffad);});}function uniqueValuesArray(_0x25faa0,_0x5c14c1,_0x353ce8){var _0x10b8d1=_0x4c64e1;const _0x32e19e=Array['from'](new Set(_0x353ce8[_0x10b8d1(0x1eb)](_0x55de27=>{var _0x4ba606=_0x10b8d1;const _0x273ac2=_0x55de27[_0x25faa0];return typeof _0x273ac2==='string'?_0x273ac2[_0x4ba606(0x233)]():_0x273ac2;})[_0x10b8d1(0x193)](_0x3948f2=>_0x3948f2!=null&&_0x3948f2!=='')));return _0x32e19e[_0x10b8d1(0x1eb)](_0xaf660a=>{var _0x1c216d=_0x10b8d1;const _0x721f3e=_0x353ce8[_0x1c216d(0x15d)](_0x57bdaa=>_0x57bdaa[_0x25faa0]===_0xaf660a),_0xc9f9d8=_0x721f3e&&_0x721f3e[_0x5c14c1]!=null?String(_0x721f3e[_0x5c14c1])['trim']():_0xaf660a;return{'setCode':_0xaf660a,'setName':_0xc9f9d8};});}function fillSelect(_0x3f5747,_0x39ce9a,_0x14ea26,_0x3139e9){var _0x296f8d=_0x4c64e1;_0x3f5747[_0x296f8d(0x16c)]='',_0x39ce9a[_0x296f8d(0x185)](function(_0x2e9765){var _0x2a7cfa=new Option(_0x2e9765[_0x3139e9],_0x2e9765[_0x14ea26]);_0x3f5747['add'](_0x2a7cfa);});}function initMulti(_0x156457,_0x544685){var _0x258d3c=_0x4c64e1,_0x146961=document['getElementById'](_0x156457),_0xd48896=_0x146961[_0x258d3c(0x1e9)](_0x258d3c(0x1ef)),_0x4f219e=_0x146961[_0x258d3c(0x1e9)](_0x258d3c(0x137)),_0xacf61e=_0x146961['querySelector'](_0x258d3c(0x126)),_0x13eda3=_0x544685[_0x258d3c(0x1b3)](),_0x1cdce3=[];let _0x2814e8=null,_0x7759d8=![];function _0x3167ff(){var _0xd8952=_0x258d3c;const _0x29fe98=_0xd48896[_0xd8952(0x16f)]['trim']();if(!_0x29fe98)return;const _0x16b3a4=_0x13eda3[_0xd8952(0x15d)](_0x4c8ba2=>_0x4c8ba2[_0xd8952(0x22b)]['toLowerCase']()===_0x29fe98[_0xd8952(0x1f5)]());if(_0x16b3a4)_0x1cdce3[_0xd8952(0x1b7)](_0x16b3a4),_0x13eda3['splice'](_0x13eda3[_0xd8952(0x192)](_0x16e91e=>_0x16e91e[_0xd8952(0x1a4)]===_0x16b3a4['setCode']),0x1);else{const _0x4d5d70=_0x1cdce3[_0xd8952(0x1d9)](_0x2d0864=>_0x2d0864[_0xd8952(0x22b)][_0xd8952(0x1f5)]()===_0x29fe98[_0xd8952(0x1f5)]());!_0x4d5d70&&_0x1cdce3[_0xd8952(0x1b7)]({'setCode':_0x29fe98,'setName':_0x29fe98});}_0x41f035(),_0x192f1f(),_0xd48896[_0xd8952(0x16f)]='';}function _0x192f1f(){var _0x327697=_0x258d3c;_0x4f219e[_0x327697(0x16c)]='',_0x13eda3[_0x327697(0x193)](_0x5b530e=>_0x5b530e[_0x327697(0x22b)][_0x327697(0x1f5)]()[_0x327697(0x1dd)](_0xd48896['value'][_0x327697(0x1f5)]()))['slice'](0x0,0x14)[_0x327697(0x185)](_0x2ec378=>{var _0x319463=_0x327697,_0xe843=document[_0x319463(0x117)]('div');_0xe843[_0x319463(0x20c)]=_0x2ec378['setName'],_0xe843[_0x319463(0x21e)][_0x319463(0x128)]=_0x2ec378[_0x319463(0x1a4)],_0x4f219e[_0x319463(0x1d1)](_0xe843),_0xe843[_0x319463(0x149)](_0x319463(0x23d),()=>_0x7759d8=!![]),_0xe843[_0x319463(0x149)](_0x319463(0x1df),function(){var _0x5145e6=_0x319463;_0x7759d8=![],_0x1cdce3[_0x5145e6(0x1b7)](_0x2ec378),_0x13eda3[_0x5145e6(0x1ec)](_0x13eda3[_0x5145e6(0x192)](_0x8a9cb4=>_0x8a9cb4[_0x5145e6(0x1a4)]===_0x2ec378['setCode']),0x1),_0xd48896[_0x5145e6(0x16f)]='',_0x41f035(),_0x192f1f();});});}function _0x41f035(){var _0x4364a8=_0x258d3c;_0xacf61e['innerHTML']='',_0x1cdce3[_0x4364a8(0x185)](_0xbf7c7=>{var _0x5711fa=_0x4364a8,_0x2124cb=document[_0x5711fa(0x117)]('div');_0x2124cb[_0x5711fa(0x247)]='tag',_0x2124cb[_0x5711fa(0x20c)]=_0xbf7c7[_0x5711fa(0x22b)];var _0x145518=document[_0x5711fa(0x117)](_0x5711fa(0x189));_0x145518[_0x5711fa(0x247)]=_0x5711fa(0x243),_0x145518['textContent']='×',_0x145518[_0x5711fa(0x149)](_0x5711fa(0x1df),function(){var _0x4fdee8=_0x5711fa;_0x13eda3[_0x4fdee8(0x1b7)](_0xbf7c7);const _0x33f55b=_0x1cdce3[_0x4fdee8(0x192)](_0x5ac657=>_0x5ac657[_0x4fdee8(0x1a4)]===_0xbf7c7[_0x4fdee8(0x1a4)]);if(_0x33f55b>-0x1)_0x1cdce3[_0x4fdee8(0x1ec)](_0x33f55b,0x1);_0x41f035(),_0x192f1f();}),_0x2124cb[_0x5711fa(0x1d1)](_0x145518),_0xacf61e[_0x5711fa(0x1d1)](_0x2124cb);}),_0x146961[_0x4364a8(0x132)](new CustomEvent('selectionChange',{'detail':_0x1cdce3,'bubbles':!![]}));}return _0xd48896[_0x258d3c(0x149)](_0x258d3c(0x223),function(){var _0x1713e0=_0x258d3c;_0x2814e8&&(clearTimeout(_0x2814e8),_0x2814e8=null),_0x4f219e[_0x1713e0(0x18c)][_0x1713e0(0x242)](_0x1713e0(0x24f));}),_0xd48896[_0x258d3c(0x149)]('input',_0x192f1f),_0xd48896[_0x258d3c(0x149)](_0x258d3c(0x19d),function(_0x2c1bd4){var _0xc6d945=_0x258d3c;_0x2c1bd4[_0xc6d945(0x1e0)]===_0xc6d945(0x159)&&(_0x2c1bd4[_0xc6d945(0x18b)](),_0x3167ff());}),_0xd48896[_0x258d3c(0x149)]('blur',function(){if(_0x7759d8)return;_0x2814e8=setTimeout(()=>{_0x3167ff(),_0x2814e8=null;},0xc8);}),document[_0x258d3c(0x149)](_0x258d3c(0x1df),function(_0xcee20c){var _0x2923eb=_0x258d3c;!_0x146961[_0x2923eb(0x19b)](_0xcee20c[_0x2923eb(0x23a)])&&_0x4f219e[_0x2923eb(0x18c)][_0x2923eb(0x1d4)](_0x2923eb(0x24f));}),_0x192f1f(),_0x1cdce3;}function getLastCode(_0x2c1f9e){var _0x2468da=_0x4c64e1;const _0x2f8fd3=_0x2c1f9e[_0x2468da(0x1eb)](_0x547f73=>String(_0x547f73['setCodProducto'])[_0x2468da(0x233)]())[_0x2468da(0x193)](_0xc20bf2=>_0xc20bf2!=='');if(_0x2f8fd3[_0x2468da(0x1fd)]===0x0)return'';const _0x11912d=_0x2f8fd3['every'](_0x37bb17=>/^\d+$/[_0x2468da(0x12d)](_0x37bb17));if(_0x11912d){const _0x980b1c=_0x2f8fd3[_0x2468da(0x1eb)](Number),_0x5e8583=Math[_0x2468da(0x1b8)](..._0x980b1c);return String(_0x5e8583);}let _0x3f86ab;if(typeof Intl!==_0x2468da(0x20a)&&Intl[_0x2468da(0x144)]){const _0x4215cf=new Intl[(_0x2468da(0x144))](undefined,{'numeric':!![],'sensitivity':_0x2468da(0x153)});_0x3f86ab=_0x2f8fd3[_0x2468da(0x1b3)]()[_0x2468da(0x119)](_0x4215cf[_0x2468da(0x143)]);}else{const _0x1d7598=_0x2f8fd3[_0x2468da(0x222)](_0x18b27e=>/^\d+$/[_0x2468da(0x12d)](_0x18b27e));_0x1d7598?_0x3f86ab=_0x2f8fd3[_0x2468da(0x1eb)](Number)[_0x2468da(0x119)]((_0x2dc5f7,_0x3b845c)=>_0x2dc5f7-_0x3b845c)[_0x2468da(0x1eb)](String):_0x3f86ab=_0x2f8fd3['slice']()['sort']();}return _0x3f86ab[_0x3f86ab[_0x2468da(0x1fd)]-0x1];}function getNextCode(_0x103ca2){var _0x221ba3=_0x4c64e1;const _0x169d92=getLastCode(_0x103ca2);if(!_0x169d92)return'';if(/^\d+$/['test'](_0x169d92))return String(Number(_0x169d92)+0x1);const _0x529f5e=_0x169d92[_0x221ba3(0x1b0)](/^([A-Za-z]*)(\d+)$/);if(_0x529f5e){const [,_0x43579a,_0x10f932]=_0x529f5e,_0xbb2b3b=String(Number(_0x10f932)+0x1)[_0x221ba3(0x170)](_0x10f932['length'],'0');return _0x43579a+_0xbb2b3b;}return _0x169d92;}document['getElementById'](_0x4c64e1(0x13c))[_0x4c64e1(0x149)]('input',function(_0x54ac8c){var _0x197ba0=_0x4c64e1;baseItem['setItemName']=_0x54ac8c['target'][_0x197ba0(0x16f)];}),document[_0x4c64e1(0x1e4)](_0x4c64e1(0x130))['addEventListener']('input',function(_0x449a9e){var _0x2a75f3=_0x4c64e1;baseItem[_0x2a75f3(0x188)]=_0x449a9e['target']['value'];}),document['getElementById'](_0x4c64e1(0x129))['addEventListener'](_0x4c64e1(0x1f7),function(_0x239fff){var _0x5198c3=_0x4c64e1;baseItem['setItemDateExpiry']=_0x239fff[_0x5198c3(0x23a)][_0x5198c3(0x16f)];}),document[_0x4c64e1(0x1e4)](_0x4c64e1(0x1e1))[_0x4c64e1(0x149)](_0x4c64e1(0x133),function(_0x5ba23c){var _0x3e1477=_0x4c64e1;baseItem['setItemType']=_0x5ba23c[_0x3e1477(0x23a)][_0x3e1477(0x16f)];}),document[_0x4c64e1(0x1e4)](_0x4c64e1(0x175))['addEventListener'](_0x4c64e1(0x133),function(_0xc332de){var _0xeb69ed=_0x4c64e1;baseItem['setItemTaxId']=_0xc332de['target']['value'];const _0x1fc540=_0xc332de[_0xeb69ed(0x23a)][_0xeb69ed(0x16f)],_0x4f9638=company[0x0][_0xeb69ed(0x191)]['find'](_0x1bebce=>_0x1bebce['setTaxId']==_0x1fc540)?.[_0xeb69ed(0x25e)]||0x0,_0x5894df=company[0x0]['setImpuestos'][_0xeb69ed(0x15d)](_0x1194d3=>_0x1194d3[_0xeb69ed(0x1fe)]==_0x1fc540)?.['setImpuestoValue']||0x0;baseItem[_0xeb69ed(0x204)]=_0x4f9638,baseItem['setItemTaxValue']=_0x5894df;}),document[_0x4c64e1(0x1e4)]('newItem_chk_buy')[_0x4c64e1(0x149)]('change',function(_0x1dce48){var _0x3ec45c=_0x4c64e1;baseItem[_0x3ec45c(0x14d)]=_0x1dce48[_0x3ec45c(0x23a)][_0x3ec45c(0x13e)];}),document[_0x4c64e1(0x1e4)](_0x4c64e1(0x1cc))[_0x4c64e1(0x149)](_0x4c64e1(0x133),function(_0x24a340){var _0x23751c=_0x4c64e1;baseItem[_0x23751c(0x206)]=_0x24a340[_0x23751c(0x23a)]['checked'];}),document[_0x4c64e1(0x1e4)](_0x4c64e1(0x207))['addEventListener'](_0x4c64e1(0x1f7),function(_0x8a8f2d){var _0x40ad05=_0x4c64e1;baseItem['setItemCode']=_0x8a8f2d['target'][_0x40ad05(0x16f)];}),document['getElementById']('inputItemBarCode')[_0x4c64e1(0x149)](_0x4c64e1(0x1f7),function(_0x36931e){var _0x2fcc2a=_0x4c64e1;baseItem[_0x2fcc2a(0x22f)]=_0x36931e['target']['value'];}),document['getElementById'](_0x4c64e1(0x1b9))[_0x4c64e1(0x149)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x4c64e1(0x1e4)]('inputItemCode')[_0x4c64e1(0x149)]('blur',function(){var _0x720529=_0x4c64e1;const _0x55b4f9=this[_0x720529(0x16f)][_0x720529(0x233)]();if(_0x55b4f9==='')return;const _0x21a960=products['some'](_0x41cd50=>_0x41cd50[_0x720529(0x238)]==_0x55b4f9),_0x5577fd=getLastCode(products);_0x21a960?ntfShow(_0x720529(0x16d)+_0x5577fd,0x2,0x1):ntfShow(_0x720529(0x183),0x1,0x1);});function removeImg(_0x6ddeb9){var _0x4a9108=_0x4c64e1;currentImages[_0x6ddeb9]=null;var _0xc983c2=imgC[_0x4a9108(0x1e9)](_0x4a9108(0x123)+_0x6ddeb9+'\x22]');_0xc983c2[_0x4a9108(0x16c)]='';var _0x32390b=document[_0x4a9108(0x117)](_0x4a9108(0x1f7));_0x32390b[_0x4a9108(0x1f1)]=_0x4a9108(0x155),_0x32390b[_0x4a9108(0x250)]=_0x4a9108(0x147),_0x32390b[_0x4a9108(0x239)]['display']=_0x4a9108(0x115);var _0x5cdc24=document['createElement']('span');_0x5cdc24[_0x4a9108(0x20c)]='+',_0xc983c2[_0x4a9108(0x1d1)](_0x32390b),_0xc983c2['appendChild'](_0x5cdc24),_0xc983c2[_0x4a9108(0x149)](_0x4a9108(0x1df),function(){var _0x4d5129=_0x4a9108;_0x32390b[_0x4d5129(0x1df)]();}),baseItem['setItemImages']=currentImages['filter'](function(_0x1081bc){return _0x1081bc;});}function addUnit(_0xdd1298,_0x3f3003,_0x412c4a,_0xe967d3,_0x1b0954,_0x301584,_0x116bd7){var _0x438fd5=_0x4c64e1,_0x33cb16=uniqueValuesArray(_0x438fd5(0x198),'setUnitName',myCompany[_0x438fd5(0x177)]);_0xdd1298=_0xdd1298||'',_0x3f3003=_0x3f3003||_0x33cb16[0x3a]&&_0x33cb16[0x3a][_0x438fd5(0x1a4)]||'',_0x412c4a=_0x412c4a!==undefined?_0x412c4a:0x1,_0xe967d3=!!_0xe967d3,_0x1b0954=_0x1b0954||'',_0x301584=_0x301584||'';var _0x1a3c1e=unitCount++,_0x313df2=document['createElement']('div');_0x313df2[_0x438fd5(0x21e)][_0x438fd5(0x24c)]=_0x1a3c1e,_0x313df2[_0x438fd5(0x21e)]['default']=_0xe967d3,_0x313df2['innerHTML']=_0x438fd5(0x234)+_0x1a3c1e+_0x438fd5(0x212)+_0xdd1298+_0x438fd5(0x13f)+_0x1a3c1e+_0x438fd5(0x1bd)+_0x1a3c1e+_0x438fd5(0x212)+_0x412c4a+'\x22\x20'+(_0xe967d3?_0x438fd5(0x20d):'')+_0x438fd5(0x180)+_0x1a3c1e+_0x438fd5(0x212)+_0x1b0954+_0x438fd5(0x136)+_0x1a3c1e+_0x438fd5(0x212)+_0x301584+_0x438fd5(0x1d5)+(_0xe967d3?_0x438fd5(0x20e):'')+_0x438fd5(0x21d),fillSelect(_0x313df2[_0x438fd5(0x1e9)](_0x438fd5(0x1db)),_0x33cb16,_0x438fd5(0x1a4),_0x438fd5(0x22b)),_0x313df2[_0x438fd5(0x1e9)](_0x438fd5(0x1db))[_0x438fd5(0x16f)]=_0x3f3003,[_0x438fd5(0x256),_0x438fd5(0x225),_0x438fd5(0x1f0),_0x438fd5(0x18e),_0x438fd5(0x217)][_0x438fd5(0x185)](function(_0x1dbf8e){var _0x3cc8e0=_0x438fd5;_0x313df2['querySelector']('.'+_0x1dbf8e)['addEventListener'](_0x3cc8e0(0x1f7),function(){var _0x1c0b8c=_0x3cc8e0,_0x126f60=_0x116bd7?+_0x116bd7['id'][_0x1c0b8c(0x1c2)]('_')[0x1]:null;if(_0x116bd7)updateVariantUnits(_0x126f60);else updateUnitsArray();});}),_0x313df2[_0x438fd5(0x1e9)]('.removeUnit')['addEventListener']('click',function(){var _0x1a51d0=_0x438fd5;_0x313df2[_0x1a51d0(0x242)]();var _0x37596a=_0x116bd7?+_0x116bd7['id'][_0x1a51d0(0x1c2)]('_')[0x1]:null;if(_0x116bd7)updateVariantUnits(_0x37596a);else updateUnitsArray();});var _0x575c03=_0x116bd7||document[_0x438fd5(0x1e4)]('newItem_units_container');_0x575c03[_0x438fd5(0x1d1)](_0x313df2);}function containerIdx(_0xef3718){var _0x5c3be8=_0x4c64e1;return+_0xef3718['id'][_0x5c3be8(0x1c2)]('_')[0x1];}function _0x38ec(_0x10b0a5,_0x1ea4f1){var _0x374f62=_0xdd1f();return _0x38ec=function(_0x3030f5,_0x1c8483){_0x3030f5=_0x3030f5-0x112;var _0x4c6b2f=_0x374f62[_0x3030f5];return _0x4c6b2f;},_0x38ec(_0x10b0a5,_0x1ea4f1);}function updateUnitsArray(){var _0x501bfe=_0x4c64e1,_0x3ce9c7=[],_0x2a1dd7=Array[_0x501bfe(0x23c)](document[_0x501bfe(0x21a)]('#newItem_units_container\x20>\x20div')),_0x5bfe8d=_0x2a1dd7['find'](_0x1e97b5=>_0x1e97b5[_0x501bfe(0x21e)][_0x501bfe(0x168)]===_0x501bfe(0x220)),_0x5f3646=_0x5bfe8d?+_0x5bfe8d[_0x501bfe(0x1e9)](_0x501bfe(0x1b1))[_0x501bfe(0x16f)]:0x1;_0x2a1dd7['forEach'](function(_0x2b3110){var _0x117bf8=_0x501bfe,_0x5acd04=+_0x2b3110[_0x117bf8(0x1e9)]('.eqInput')['value']||0x0,_0x40e898=+_0x2b3110[_0x117bf8(0x1e9)](_0x117bf8(0x25d))[_0x117bf8(0x16f)]||0x0,_0x4ece71=+_0x2b3110[_0x117bf8(0x1e9)]('.costInput')[_0x117bf8(0x16f)]||0x0;_0x3ce9c7[_0x117bf8(0x1b7)]({'setAlias':_0x2b3110[_0x117bf8(0x1e9)](_0x117bf8(0x17d))[_0x117bf8(0x16f)]['trim'](),'setUnitCode':_0x2b3110[_0x117bf8(0x1e9)](_0x117bf8(0x1db))[_0x117bf8(0x16f)],'setEquivalence':_0x5acd04,'setFactor':_0x2b3110['dataset'][_0x117bf8(0x168)]===_0x117bf8(0x220)?0x1:_0x5acd04==_0x5f3646?0x1:_0x5acd04<_0x5f3646?_0x5f3646/_0x5acd04:_0x5acd04/_0x5f3646,'setPrice':_0x40e898,'setCost':_0x4ece71,'setDefault':_0x2b3110[_0x117bf8(0x21e)][_0x117bf8(0x168)]===_0x117bf8(0x220)?0x1:0x0});}),baseItem[_0x501bfe(0x1e3)]=_0x3ce9c7;}function updateBranches(){var _0x448de6=_0x4c64e1,_0x2737e3=[];document[_0x448de6(0x21a)]('#newItem_branches_container\x20>\x20div')[_0x448de6(0x185)](function(_0x82cef5){var _0xc6b978=_0x448de6,_0x193cce=_0x82cef5[_0xc6b978(0x1e9)]('.branchChk');if(_0x193cce[_0xc6b978(0x13e)]){var _0x26dc26=+_0x193cce[_0xc6b978(0x21e)]['id'],_0x54b6ae=+_0x82cef5[_0xc6b978(0x1e9)](_0xc6b978(0x120))[_0xc6b978(0x16f)],_0x450eee=+_0x82cef5[_0xc6b978(0x1e9)](_0xc6b978(0x203))[_0xc6b978(0x16f)];_0x2737e3[_0xc6b978(0x1b7)]({'setWarehouseCode':_0x26dc26,'setStockInitial':_0x54b6ae,'setStockMinimum':_0x450eee});}}),baseItem[_0x448de6(0x184)]=_0x2737e3;}document[_0x4c64e1(0x1e4)](_0x4c64e1(0x1da))['addEventListener'](_0x4c64e1(0x1df),function(){var _0x1b31c7=_0x4c64e1,_0x538a88=Date['now'](),_0x42f250=document['createElement']('div');_0x42f250[_0x1b31c7(0x21e)]['idx']=_0x538a88,_0x42f250[_0x1b31c7(0x16c)]=_0x1b31c7(0x1a6)+_0x538a88+_0x1b31c7(0x232)+_0x538a88+_0x1b31c7(0x16a),prodC[_0x1b31c7(0x1d1)](_0x42f250),initProdSearch(_0x42f250['querySelector'](_0x1b31c7(0x11a))),_0x42f250['querySelector']('.removeProd')[_0x1b31c7(0x149)](_0x1b31c7(0x1df),function(){var _0x2e0ea9=_0x1b31c7;_0x42f250[_0x2e0ea9(0x242)](),updateProdItems();}),_0x42f250[_0x1b31c7(0x1e9)](_0x1b31c7(0x1bf))[_0x1b31c7(0x149)](_0x1b31c7(0x1f7),updateProdItems),document[_0x1b31c7(0x1e4)](_0x1b31c7(0x18a))['classList']['toggle']('newItem_title_table',!![]),document[_0x1b31c7(0x1e4)](_0x1b31c7(0x18a))[_0x1b31c7(0x18c)]['toggle'](_0x1b31c7(0x24f),![]);});function initProdSearch(_0x5cad85,_0xb6c0b6){var _0x347f18=_0x4c64e1,_0xf693db=_0x5cad85[_0x347f18(0x1e9)](_0x347f18(0x17b)),_0x1b7a38=_0x5cad85['querySelector'](_0x347f18(0x137)),_0x35f79b=_0xb6c0b6||null;if(_0xb6c0b6)_0xf693db[_0x347f18(0x16f)]=_0xb6c0b6[_0x347f18(0x179)];_0xf693db[_0x347f18(0x149)](_0x347f18(0x1f7),function(){var _0x465068=_0x347f18,_0x19020f=_0xf693db[_0x465068(0x16f)][_0x465068(0x1f5)]()[_0x465068(0x233)]();_0x1b7a38[_0x465068(0x16c)]='';if(!_0x19020f)return;products[_0x465068(0x193)](_0x1cd055=>_0x1cd055[_0x465068(0x1d3)]['toLowerCase']()[_0x465068(0x1dd)](_0x19020f))[_0x465068(0x1b3)](0x0,0x14)[_0x465068(0x185)](function(_0x548251){var _0x5321c5=_0x465068,_0x3636c3=document['createElement']('div');_0x3636c3['textContent']=_0x548251[_0x5321c5(0x1d3)],_0x3636c3['dataset']['id']=_0x548251['id'],_0x3636c3[_0x5321c5(0x21e)][_0x5321c5(0x179)]=_0x548251[_0x5321c5(0x1d3)],_0x1b7a38[_0x5321c5(0x1d1)](_0x3636c3),_0x3636c3[_0x5321c5(0x149)](_0x5321c5(0x1df),function(){var _0x565e1a=_0x5321c5;_0x35f79b={'id':_0x548251['id'],'name':_0x548251[_0x565e1a(0x1d3)]},_0xf693db[_0x565e1a(0x16f)]=_0x548251[_0x565e1a(0x1d3)],_0x1b7a38[_0x565e1a(0x16c)]='';var _0x5e5dfd=_0x5cad85['closest']('[id$=\x22_comp_container\x22]');if(_0x5e5dfd){var _0x2ecd34=+_0x5e5dfd['id'][_0x565e1a(0x1c2)]('_')[0x1];updateVariantComponents(_0x2ecd34);}else updateProdItems();});});}),_0xf693db['addEventListener']('focus',function(){var _0x5e0c32=_0x347f18;_0x1b7a38[_0x5e0c32(0x18c)][_0x5e0c32(0x242)](_0x5e0c32(0x24f));}),document[_0x347f18(0x149)](_0x347f18(0x1df),function(_0xfe7855){var _0x56674b=_0x347f18;if(!_0x5cad85[_0x56674b(0x19b)](_0xfe7855[_0x56674b(0x23a)]))_0x1b7a38[_0x56674b(0x18c)][_0x56674b(0x1d4)](_0x56674b(0x24f));}),Object[_0x347f18(0x22c)](_0x5cad85,'selectedItem',{'get':()=>_0x35f79b});}function updateProdItems(){var _0x3b2e4e=_0x4c64e1,_0x477a9f=[];Array[_0x3b2e4e(0x23c)](prodC['children'])[_0x3b2e4e(0x185)](function(_0x4dde02){var _0x4350b6=_0x3b2e4e,_0x157293=_0x4dde02['querySelector'](_0x4350b6(0x11a));if(!_0x157293)return;var _0x36c9e4=_0x4dde02[_0x4350b6(0x1e9)](_0x4350b6(0x1bf)),_0x4110fd=_0x157293[_0x4350b6(0x1ac)];_0x4110fd&&_0x477a9f[_0x4350b6(0x1b7)]({'setItemId':_0x4110fd['id'],'setDescripcion':_0x4110fd[_0x4350b6(0x179)],'setCantidad':+_0x36c9e4['value']});}),baseItem['setItemComponents']=_0x477a9f,_0x477a9f[_0x3b2e4e(0x1fd)]===0x0&&(document['getElementById']('newItem_title_table_cp')[_0x3b2e4e(0x18c)][_0x3b2e4e(0x142)](_0x3b2e4e(0x1e5),![]),document[_0x3b2e4e(0x1e4)](_0x3b2e4e(0x18a))[_0x3b2e4e(0x18c)]['toggle']('newItem_hidden',!![]));}document[_0x4c64e1(0x1e4)](_0x4c64e1(0x13d))[_0x4c64e1(0x149)](_0x4c64e1(0x1df),function(){var _0x61a687=_0x4c64e1,_0x21eef7=vgCount++,_0x403dcf=document[_0x61a687(0x117)]('div');_0x403dcf['dataset']['idx']=_0x21eef7,_0x403dcf[_0x61a687(0x16c)]=_0x61a687(0x246)+_0x21eef7+'\x22>'+_0x61a687(0x131)+_0x21eef7+'\x22>'+_0x61a687(0x21c),vgC[_0x61a687(0x1d1)](_0x403dcf),_0x403dcf[_0x61a687(0x1e9)](_0x61a687(0x259))['addEventListener'](_0x61a687(0x16b),generateVariants),_0x403dcf['querySelector'](_0x61a687(0x16e))[_0x61a687(0x149)](_0x61a687(0x16b),generateVariants),_0x403dcf['querySelector'](_0x61a687(0x202))[_0x61a687(0x149)](_0x61a687(0x1df),function(){var _0x16127c=_0x61a687;_0x403dcf[_0x16127c(0x242)](),generateVariants();});});function generateVariants(){var _0x148b35=_0x4c64e1,_0x5847b9=[];vgC[_0x148b35(0x21a)](_0x148b35(0x1fb))[_0x148b35(0x185)](function(_0x5b3ce6){var _0x57bbfd=_0x148b35,_0x1257b7=_0x5b3ce6['querySelector'](_0x57bbfd(0x259))[_0x57bbfd(0x16f)][_0x57bbfd(0x233)](),_0x42c95e=_0x5b3ce6['querySelector'](_0x57bbfd(0x16e))[_0x57bbfd(0x16f)]['split'](',')[_0x57bbfd(0x1eb)](_0x188ed7=>_0x188ed7[_0x57bbfd(0x233)]())[_0x57bbfd(0x193)](_0x5411cb=>_0x5411cb);if(_0x1257b7&&_0x42c95e[_0x57bbfd(0x1fd)])_0x5847b9[_0x57bbfd(0x1b7)]({'name':_0x1257b7,'vals':_0x42c95e});});var _0x15ba26=[{}];_0x5847b9['forEach'](function(_0x482734){_0x15ba26=_0x15ba26['flatMap'](function(_0x2fd2db){var _0x32547a=_0x38ec;return _0x482734[_0x32547a(0x20f)][_0x32547a(0x1eb)](function(_0x366b15){var _0x317d0d=_0x32547a,_0x2b8745=Object[_0x317d0d(0x139)]({},_0x2fd2db);return _0x2b8745[_0x482734[_0x317d0d(0x179)]]=_0x366b15,_0x2b8745;});});}),newItems=[],varContainer[_0x148b35(0x16c)]='',_0x15ba26[_0x148b35(0x185)](function(_0x510545,_0x5bfb64){var _0x50e86a=_0x148b35,_0x1ebe37=JSON[_0x50e86a(0x171)](JSON[_0x50e86a(0x1af)](baseItem));_0x1ebe37[_0x50e86a(0x1a7)]=_0x510545,_0x1ebe37['setItemVariantName']=baseItem[_0x50e86a(0x118)]+'\x20'+Object[_0x50e86a(0x165)](_0x510545)[_0x50e86a(0x1eb)](_0x5627ab=>_0x5627ab[0x0]+'\x20'+_0x5627ab[0x1])[_0x50e86a(0x1f2)]('\x20'),newItems[_0x50e86a(0x1b7)](_0x1ebe37);var _0x497a31=document['createElement'](_0x50e86a(0x1fb));_0x497a31[_0x50e86a(0x18c)][_0x50e86a(0x1d4)](_0x50e86a(0x186)),_0x497a31[_0x50e86a(0x21e)]['idx']=_0x5bfb64,_0x497a31[_0x50e86a(0x16c)]=_0x50e86a(0x23e)+_0x1ebe37[_0x50e86a(0x113)]+_0x50e86a(0x1b4)+_0x1ebe37['setItemCode']+_0x50e86a(0x227)+_0x1ebe37[_0x50e86a(0x22f)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x1ebe37[_0x50e86a(0x1fa)]+_0x50e86a(0x210)+_0x5bfb64+_0x50e86a(0x12e)+_0x5bfb64+_0x50e86a(0x178)+_0x5bfb64+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x497a31),_0x497a31[_0x50e86a(0x1e9)](_0x50e86a(0x25c))[_0x50e86a(0x149)](_0x50e86a(0x1f7),_0x197219=>newItems[_0x5bfb64][_0x50e86a(0x1c0)]=_0x197219[_0x50e86a(0x23a)][_0x50e86a(0x16f)]),_0x497a31[_0x50e86a(0x1e9)]('.variantBarCode')['addEventListener'](_0x50e86a(0x1f7),_0x3ae0a0=>newItems[_0x5bfb64]['setItemBarCode']=_0x3ae0a0['target']['value']),_0x497a31[_0x50e86a(0x1e9)]('.variantExpiry')['addEventListener']('change',_0x309d30=>newItems[_0x5bfb64][_0x50e86a(0x1fa)]=_0x309d30[_0x50e86a(0x23a)][_0x50e86a(0x16f)]),initVariantUnits(_0x5bfb64),initVariantComponents(_0x5bfb64),initVariantBranches(_0x5bfb64),_0x497a31[_0x50e86a(0x1e9)]('.removeVariant')[_0x50e86a(0x149)](_0x50e86a(0x1df),function(){var _0x30b406=_0x50e86a,_0x15053f=+_0x497a31['dataset']['idx'];newItems['splice'](_0x15053f,0x1),_0x497a31[_0x30b406(0x242)](),document[_0x30b406(0x21a)](_0x30b406(0x253))[_0x30b406(0x185)](function(_0x2a2206,_0x27c15a){var _0x34c4cf=_0x30b406;_0x2a2206[_0x34c4cf(0x21e)][_0x34c4cf(0x24c)]=_0x27c15a;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x44711c){var _0x3464c0=_0x4c64e1,_0x49a688=document[_0x3464c0(0x1e4)](_0x3464c0(0x19a)+_0x44711c+_0x3464c0(0x14b)),_0x1499cf=[];Array[_0x3464c0(0x23c)](_0x49a688['children'])[_0x3464c0(0x185)](function(_0x481663){var _0x22ae35=_0x3464c0,_0x4f770f=+_0x481663['querySelector']('.eqInput')[_0x22ae35(0x16f)]||0x0,_0x3a3a6a=_0x481663[_0x22ae35(0x1e9)](_0x22ae35(0x17d))[_0x22ae35(0x16f)]['trim'](),_0x3dea70=_0x481663[_0x22ae35(0x1e9)](_0x22ae35(0x1db))[_0x22ae35(0x16f)],_0x3703d0=+_0x481663['querySelector'](_0x22ae35(0x25d))[_0x22ae35(0x16f)]||0x0,_0x268572=+_0x481663['querySelector'](_0x22ae35(0x1a1))[_0x22ae35(0x16f)]||0x0,_0x8b2623=_0x481663[_0x22ae35(0x21e)]['default']==='true',_0x1c329f=+_0x49a688[_0x22ae35(0x1e9)]('div[data-default=\x22true\x22]\x20.eqInput')['value']||0x1,_0x1480d1=_0x8b2623?0x1:_0x4f770f==_0x1c329f?0x1:_0x4f770f<_0x1c329f?_0x1c329f/_0x4f770f:_0x4f770f/_0x1c329f;_0x1499cf[_0x22ae35(0x1b7)]({'setAlias':_0x3a3a6a,'setUnitCode':_0x3dea70,'setEquivalence':_0x4f770f,'setFactor':_0x1480d1,'setPrice':_0x3703d0,'setCost':_0x268572,'setDefault':_0x8b2623?0x1:0x0});}),newItems[_0x44711c][_0x3464c0(0x1e3)]=_0x1499cf;}function initVariantUnits(_0xb96651){var _0x448efd=_0x4c64e1,_0x1abe8b=document[_0x448efd(0x1e4)](_0x448efd(0x19a)+_0xb96651+_0x448efd(0x14b));_0x1abe8b[_0x448efd(0x16c)]='',newItems[_0xb96651][_0x448efd(0x1e3)][_0x448efd(0x185)](function(_0x493853){var _0x23c644=_0x448efd;addUnit(_0x493853['setAlias'],_0x493853[_0x23c644(0x198)],_0x493853[_0x23c644(0x12a)],_0x493853['setDefault'],_0x493853[_0x23c644(0x261)],_0x493853['setCost'],_0x1abe8b);}),_0x1abe8b[_0x448efd(0x1a5)][_0x448efd(0x1e9)](_0x448efd(0x146))['addEventListener']('click',function(){addUnit('','',0x1,![],'','',_0x1abe8b),updateVariantUnits(_0xb96651);});}function updateVariantUnits(_0x29ad8c){var _0x2c5e6b=_0x4c64e1,_0x43e922=document[_0x2c5e6b(0x1e4)]('variant_'+_0x29ad8c+_0x2c5e6b(0x14b)),_0x58b1dc=_0x43e922[_0x2c5e6b(0x1e9)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x312601=_0x58b1dc?+_0x58b1dc[_0x2c5e6b(0x16f)]:0x1,_0x4dfddf=Array['from'](_0x43e922['children'])['map'](function(_0x443b3c){var _0x30ba53=_0x2c5e6b,_0x34fc11=_0x443b3c[_0x30ba53(0x1e9)](_0x30ba53(0x17d))[_0x30ba53(0x16f)]['trim'](),_0x4ebe36=_0x443b3c[_0x30ba53(0x1e9)](_0x30ba53(0x1db))['value'],_0x7efeea=+_0x443b3c['querySelector'](_0x30ba53(0x1b1))['value']||0x0,_0x1b0dce=+_0x443b3c[_0x30ba53(0x1e9)](_0x30ba53(0x25d))[_0x30ba53(0x16f)]||0x0,_0x3657ec=+_0x443b3c[_0x30ba53(0x1e9)](_0x30ba53(0x1a1))['value']||0x0,_0x2a5cb6=_0x443b3c[_0x30ba53(0x21e)]['default']==='true';return{'setAlias':_0x34fc11,'setUnitCode':_0x4ebe36,'setEquivalence':_0x7efeea,'setFactor':_0x2a5cb6?0x1:_0x7efeea==_0x312601?0x1:_0x7efeea<_0x312601?_0x312601/_0x7efeea:_0x7efeea/_0x312601,'setPrice':_0x1b0dce,'setCost':_0x3657ec,'setDefault':_0x2a5cb6?0x1:0x0};});newItems[_0x29ad8c]['setItemUnits']=_0x4dfddf;}function initVariantComponents(_0x37573e){var _0x43d3bb=_0x4c64e1,_0x3b2ba9=document[_0x43d3bb(0x1e4)](_0x43d3bb(0x19a)+_0x37573e+'_comp_container');_0x3b2ba9[_0x43d3bb(0x16c)]='',newItems[_0x37573e][_0x43d3bb(0x1c3)][_0x43d3bb(0x185)](function(_0x51f973){var _0x2a7023=_0x43d3bb,_0x29afdb=document['createElement'](_0x2a7023(0x1fb)),_0x431b77=Date[_0x2a7023(0x21b)]();_0x29afdb[_0x2a7023(0x21e)][_0x2a7023(0x24c)]=_0x431b77,_0x29afdb[_0x2a7023(0x16c)]=_0x2a7023(0x1ae)+_0x431b77+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x51f973[_0x2a7023(0x1b2)]+_0x2a7023(0x1ca),_0x3b2ba9['appendChild'](_0x29afdb),initProdSearch(_0x29afdb['querySelector'](_0x2a7023(0x11a)),{'id':_0x51f973[_0x2a7023(0x127)],'name':_0x51f973['setDescripcion']}),_0x29afdb['querySelector'](_0x2a7023(0x1bf))[_0x2a7023(0x149)](_0x2a7023(0x1f7),function(){updateVariantComponents(_0x37573e);}),_0x29afdb[_0x2a7023(0x1e9)]('.removeCombo')[_0x2a7023(0x149)]('click',function(){var _0x4bc534=_0x2a7023;_0x29afdb[_0x4bc534(0x242)](),updateVariantComponents(_0x37573e);});}),_0x3b2ba9[_0x43d3bb(0x1a5)][_0x43d3bb(0x1e9)]('.addVariantComp')[_0x43d3bb(0x149)](_0x43d3bb(0x1df),function(){var _0x3ea8c3=_0x43d3bb,_0x53b6f0=document[_0x3ea8c3(0x117)](_0x3ea8c3(0x1fb)),_0x6a9f7d=Date[_0x3ea8c3(0x21b)]();_0x53b6f0[_0x3ea8c3(0x21e)][_0x3ea8c3(0x24c)]=_0x6a9f7d,_0x53b6f0[_0x3ea8c3(0x16c)]=_0x3ea8c3(0x1ae)+_0x6a9f7d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3b2ba9['appendChild'](_0x53b6f0),initProdSearch(_0x53b6f0[_0x3ea8c3(0x1e9)]('.prod_input_container')),_0x53b6f0['querySelector'](_0x3ea8c3(0x1bf))[_0x3ea8c3(0x149)]('input',function(){updateVariantComponents(_0x37573e);}),_0x53b6f0[_0x3ea8c3(0x1e9)](_0x3ea8c3(0x1e2))[_0x3ea8c3(0x149)](_0x3ea8c3(0x1df),function(){_0x53b6f0['remove'](),updateVariantComponents(_0x37573e);});});}function updateVariantComponents(_0x452bc0){var _0x354622=_0x4c64e1,_0x12a441=document[_0x354622(0x1e4)]('variant_'+_0x452bc0+'_comp_container'),_0x5e1622=Array[_0x354622(0x23c)](_0x12a441['children'])[_0x354622(0x1eb)](function(_0x38a479){var _0x48df52=_0x354622,_0x1fe490=_0x38a479[_0x48df52(0x1e9)](_0x48df52(0x11a)),_0x5750c7=_0x1fe490[_0x48df52(0x1ac)],_0x48fbfb=+_0x38a479[_0x48df52(0x1e9)](_0x48df52(0x1bf))[_0x48df52(0x16f)]||0x0;return _0x5750c7?{'setItemId':_0x5750c7['id'],'setDescripcion':_0x5750c7[_0x48df52(0x179)],'setCantidad':_0x48fbfb}:null;})[_0x354622(0x193)](_0x55335a=>_0x55335a);newItems[_0x452bc0][_0x354622(0x1c3)]=_0x5e1622;}function initVariantBranches(_0x1ea12b){var _0x34c730=_0x4c64e1;const _0x331a2a=getAllWarehouses();var _0xeeb491=document[_0x34c730(0x1e4)](_0x34c730(0x19a)+_0x1ea12b+_0x34c730(0x18d));_0xeeb491[_0x34c730(0x16c)]='',newItems[_0x1ea12b][_0x34c730(0x184)][_0x34c730(0x185)](function(_0x587fe0){var _0xcfd4eb=_0x34c730,_0x5e8dfd=_0x331a2a[_0xcfd4eb(0x15d)](_0x41749b=>_0x41749b[_0xcfd4eb(0x15b)]==_0x587fe0[_0xcfd4eb(0x228)]),_0x583792=document[_0xcfd4eb(0x117)](_0xcfd4eb(0x1fb));_0x583792['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x587fe0[_0xcfd4eb(0x228)]+_0xcfd4eb(0x15f)+_0x5e8dfd[_0xcfd4eb(0x114)]+_0xcfd4eb(0x1d8)+_0x587fe0[_0xcfd4eb(0x228)]+'\x22\x20value=\x22'+_0x587fe0['setStockInitial']+_0xcfd4eb(0x231)+_0x587fe0[_0xcfd4eb(0x228)]+_0xcfd4eb(0x212)+_0x587fe0[_0xcfd4eb(0x216)]+'\x22>',_0xeeb491[_0xcfd4eb(0x1d1)](_0x583792),_0x583792[_0xcfd4eb(0x21a)]('input')[_0xcfd4eb(0x185)](function(_0x53c126){var _0x3a18a3=_0xcfd4eb;_0x53c126[_0x3a18a3(0x149)](_0x3a18a3(0x1f7),function(){updateVariantBranches(_0x1ea12b);});});}),_0x331a2a[_0x34c730(0x185)](function(_0x36c29d){var _0xd84b46=_0x34c730;if(!newItems[_0x1ea12b][_0xd84b46(0x184)][_0xd84b46(0x15d)](_0x256ddc=>_0x256ddc[_0xd84b46(0x228)]===_0x36c29d[_0xd84b46(0x15b)])){var _0x42fc15=document['createElement'](_0xd84b46(0x1fb));_0x42fc15[_0xd84b46(0x16c)]=_0xd84b46(0x11e)+_0x36c29d[_0xd84b46(0x15b)]+_0xd84b46(0x1d6)+_0x36c29d[_0xd84b46(0x114)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x36c29d['setWarehouseId']+_0xd84b46(0x231)+_0x36c29d[_0xd84b46(0x15b)]+'\x22>',_0xeeb491[_0xd84b46(0x1d1)](_0x42fc15),_0x42fc15[_0xd84b46(0x21a)](_0xd84b46(0x1f7))[_0xd84b46(0x185)](function(_0x5904e8){var _0x472061=_0xd84b46;_0x5904e8[_0x472061(0x149)](_0x472061(0x1f7),function(){updateVariantBranches(_0x1ea12b);});});}});}function updateVariantBranches(_0x3855cd){var _0x3feee1=_0x4c64e1,_0x2a1876=document[_0x3feee1(0x1e4)](_0x3feee1(0x19a)+_0x3855cd+_0x3feee1(0x18d)),_0x4c2143=[];_0x2a1876[_0x3feee1(0x21a)](_0x3feee1(0x1fb))[_0x3feee1(0x185)](function(_0x36829e){var _0x4e75d8=_0x3feee1,_0x208c39=_0x36829e['querySelector'](_0x4e75d8(0x1cf));if(_0x208c39[_0x4e75d8(0x13e)]){var _0x1570d8=+_0x208c39['dataset']['id'],_0xc3b7af=+_0x36829e[_0x4e75d8(0x1e9)](_0x4e75d8(0x120))[_0x4e75d8(0x16f)]||0x0,_0x1f5d6f=+_0x36829e['querySelector'](_0x4e75d8(0x203))[_0x4e75d8(0x16f)]||0x0;_0x4c2143[_0x4e75d8(0x1b7)]({'setWarehouseCode':_0x1570d8,'setStockInitial':_0xc3b7af,'setStockMinimum':_0x1f5d6f});}}),newItems[_0x3855cd][_0x3feee1(0x184)]=_0x4c2143;}async function storeOfflineProduct(_0x5734ae){var _0x509c0b=_0x4c64e1;try{const _0x157dbb=await createCartStore(''),_0x3ad54a=_0x157dbb[_0x509c0b(0x24a)]('offline_operations','readwrite'),_0x24c9b3=_0x3ad54a[_0x509c0b(0x24d)](_0x509c0b(0x229));_0x24c9b3[_0x509c0b(0x1d4)](_0x5734ae),_0x3ad54a[_0x509c0b(0x12b)]=()=>{var _0x560921=_0x509c0b;console[_0x560921(0x262)](_0x560921(0x1ab));},_0x3ad54a[_0x509c0b(0x151)]=_0x2a432d=>{var _0x5e23ea=_0x509c0b;console[_0x5e23ea(0x124)](_0x5e23ea(0x122),_0x2a432d[_0x5e23ea(0x23a)]['error']);};}catch(_0x358f60){console['error']('Error\x20al\x20procesar\x20la\x20operación:',_0x358f60);}}document[_0x4c64e1(0x1e4)](_0x4c64e1(0x1f6))['addEventListener'](_0x4c64e1(0x1df),async function(_0x2c1627){var _0x1aacea=_0x4c64e1;_0x2c1627['preventDefault']();const _0x29c86e=document[_0x1aacea(0x1e4)](_0x1aacea(0x207)),_0xf35904=document['getElementById'](_0x1aacea(0x24e))[_0x1aacea(0x16f)];if(!_0x29c86e[_0x1aacea(0x16f)][_0x1aacea(0x233)]()&&_0xf35904==0x0){ntfShow(_0x1aacea(0x1d2),0x2,0x1);return;}_0xf35904==0x1&&(_0x29c86e[_0x1aacea(0x16f)]='',baseItem['setItemCode']='');const _0x23f3bb=document[_0x1aacea(0x1e4)]('inputItemName');if(!_0x23f3bb[_0x1aacea(0x16f)][_0x1aacea(0x233)]()){ntfShow(_0x1aacea(0x1ad),0x2,0x1);return;}const _0x117dab=document[_0x1aacea(0x1e4)](_0x1aacea(0x1cb));hideModalCreateItem(),showLoadingModal();newItems[_0x1aacea(0x1fd)]===0x0&&(newItems=[baseItem]);const _0x18eebb=document[_0x1aacea(0x1e4)](_0x1aacea(0x19c))[_0x1aacea(0x16f)],_0x452d1b=window_options[_0x18eebb]['setMoneda'],_0x2ef6c6=[];newItems[_0x1aacea(0x185)](_0x2351a1=>{var _0x593d94=_0x1aacea;const _0x2b1746=generateNumericUniqId();_0x2351a1[_0x593d94(0x1e3)][_0x593d94(0x185)](_0x1cbf54=>{var _0x56228e=_0x593d94;const _0x53d878=generateNumericUniqId();_0x1cbf54[_0x56228e(0x1a2)]=_0x53d878;const _0x185fa4={'id':_0x53d878,'setIdProducto':_0x2b1746,'setCodProducto':_0x2351a1[_0x56228e(0x1c0)],'setDescripcion':_0x2351a1['setItemName'],'setItemDescription':_0x2351a1[_0x56228e(0x188)],'setBatchExpirationDate':_0x2351a1[_0x56228e(0x1fa)],'setBatchName':'','setCategoria':_0x2351a1[_0x56228e(0x219)][0x0]||'','setMarca':_0x2351a1[_0x56228e(0x1a8)][0x0]||'','setConversionFactor':parseFloat(_0x1cbf54[_0x56228e(0x257)]),'setImages':[],'setImg':_0x56228e(0x121),'setInventariable':0x1,'setItemIsBought':_0x2351a1[_0x56228e(0x14d)]?0x1:0x0,'setItemIsSold':_0x2351a1[_0x56228e(0x206)]?0x1:0x0,'setPorcentajeIgv':_0x2351a1[_0x56228e(0x254)],'setPrinters':[],'setTaxId':_0x2351a1[_0x56228e(0x182)],'setTipAfeIgv':_0x2351a1['setItemTaxCode'],'setUnidad':_0x1cbf54['setUnitCode'],'setUnidadCodigo':_0x1cbf54[_0x56228e(0x198)],'setItemUnitAlias':_0x1cbf54[_0x56228e(0x195)],'currency_data':[{'currency':_0x452d1b,'setMtoPrecioCostoUnitario':_0x1cbf54[_0x56228e(0x173)],'setMtoPrecioUnitario':_0x1cbf54[_0x56228e(0x261)],'setPriceLists':[]}],'sucursales':_0x2351a1[_0x56228e(0x184)][_0x56228e(0x1eb)](_0x47a5ad=>({'setIdSucursal':_0x47a5ad[_0x56228e(0x228)],'setSucursalStock':_0x47a5ad[_0x56228e(0x19f)][_0x56228e(0x22d)](),'setWarehouseStockMin':_0x47a5ad[_0x56228e(0x216)]['toString']()})),'setItemFree':_0x2351a1[_0x56228e(0x24e)],'setItemBarCode':_0x2351a1[_0x56228e(0x22f)],'setItemBrands':_0x2351a1[_0x56228e(0x1a8)]['slice'](),'setItemCategories':_0x2351a1[_0x56228e(0x219)]['slice'](),'setItemComponents':_0x2351a1[_0x56228e(0x1c3)][_0x56228e(0x1eb)](_0x4784ca=>({..._0x4784ca})),'setItemImages':_0x2351a1[_0x56228e(0x197)][_0x56228e(0x1b3)](),'setItemVariantName':_0x2351a1[_0x56228e(0x113)],'setItemVariantValues':{..._0x2351a1['setItemVariantValues']}};_0x2ef6c6[_0x56228e(0x1b7)](_0x185fa4),(_0x117dab[_0x56228e(0x13e)]||_0xf35904==0x1)&&addToCart(_0x185fa4);});}),console['log'](_0x1aacea(0x1e8),newItems),await finalizeImport(_0x2ef6c6,newItems,![]);}),[_0x4c64e1(0x1de),'dragover'][_0x4c64e1(0x185)](_0x3530b6=>dropZone[_0x4c64e1(0x149)](_0x3530b6,_0x4cce84=>{var _0x3d08b0=_0x4c64e1;_0x4cce84[_0x3d08b0(0x18b)](),dropZone[_0x3d08b0(0x18c)]['add'](_0x3d08b0(0x244));})),['dragleave',_0x4c64e1(0x1d0)][_0x4c64e1(0x185)](_0x147286=>dropZone[_0x4c64e1(0x149)](_0x147286,_0x4dcf22=>{var _0x3e3ca6=_0x4c64e1;_0x4dcf22[_0x3e3ca6(0x18b)](),dropZone[_0x3e3ca6(0x18c)][_0x3e3ca6(0x242)]('dragover');})),dropZone[_0x4c64e1(0x149)](_0x4c64e1(0x1d0),_0x549c5d=>{var _0x1003e2=_0x4c64e1;const _0x589453=_0x549c5d['dataTransfer'][_0x1003e2(0x245)][0x0];if(!_0x589453)return;fileInput[_0x1003e2(0x245)]=_0x549c5d['dataTransfer']['files'],dropZone[_0x1003e2(0x1e9)](_0x1003e2(0x237))[_0x1003e2(0x20c)]=_0x589453[_0x1003e2(0x179)],removeBtn[_0x1003e2(0x240)]=![],fileInput[_0x1003e2(0x132)](new Event(_0x1003e2(0x133)));}),removeBtn[_0x4c64e1(0x149)](_0x4c64e1(0x1df),()=>{var _0x2efaf0=_0x4c64e1;fileInput[_0x2efaf0(0x16f)]='',dropZone[_0x2efaf0(0x1e9)](_0x2efaf0(0x237))['textContent']=_0x2efaf0(0x172),removeBtn[_0x2efaf0(0x240)]=!![],progressBar['style'][_0x2efaf0(0x181)]=_0x2efaf0(0x115),statusDiv['textContent']='',uploadBtn[_0x2efaf0(0x20d)]=!![];});const exportBtn=document[_0x4c64e1(0x1e4)](_0x4c64e1(0x23f));exportBtn[_0x4c64e1(0x149)](_0x4c64e1(0x1df),onClickExportarItems);async function onClickExportarItems(){var _0x3b1916=_0x4c64e1;if(!Array['isArray'](products)||!products['length']){ntfShow(_0x3b1916(0x255));return;}try{const _0x340150=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x340150['ok'])throw new Error(_0x3b1916(0x17f));const _0x4d80a5=await _0x340150[_0x3b1916(0x125)](),_0x1f5f42=document[_0x3b1916(0x1e4)](_0x3b1916(0x15b))[_0x3b1916(0x16f)];let _0x2a4ed2=products;const _0x2e0196=getUserPermissionApiERP(0x2);_0x2e0196==0x1&&(_0x2a4ed2=products[_0x3b1916(0x193)](_0x3ce628=>Array['isArray'](_0x3ce628[_0x3b1916(0x12c)])&&_0x3ce628['sucursales'][_0x3b1916(0x1d9)](_0x52fd39=>String(_0x52fd39[_0x3b1916(0x23b)])==String(_0x1f5f42))));const _0x49ce03=_0x2a4ed2['reduce']((_0x46fec5,_0x34273e)=>{var _0x63a2a=_0x3b1916;const _0x5241fd=_0x34273e['setIdProducto'];if(!_0x46fec5[_0x5241fd])_0x46fec5[_0x5241fd]=[];return _0x46fec5[_0x5241fd][_0x63a2a(0x1b7)](_0x34273e),_0x46fec5;},{}),_0x854b29=Object['values'](_0x49ce03)[_0x3b1916(0x1eb)](_0x44f48b=>{var _0xe21e94=_0x3b1916;const _0x46b52f=_0x44f48b[0x0],_0x4e3a1d=_0x44f48b[0x1]||{},_0x26fecf=_0x44f48b[0x2]||{};function _0x3a2607(_0x53c36a,_0x5c7f9d,_0x2e9fa9){var _0x3ad19e=_0x38ec;if(!_0x53c36a||!Array[_0x3ad19e(0x1c9)](_0x53c36a[_0x3ad19e(0x1cd)]))return'';const _0x50069e=_0x53c36a[_0x3ad19e(0x1cd)][_0x3ad19e(0x15d)](_0x1ccc21=>_0x1ccc21[_0x3ad19e(0x14f)]===_0x5c7f9d);return _0x50069e?_0x50069e[_0x2e9fa9]:'';}return{'id':_0x46b52f['setIdProducto'],'setItemType':_0x46b52f[_0xe21e94(0x14a)],'setCodProducto':_0x46b52f[_0xe21e94(0x238)],'setDescripcion':_0x46b52f[_0xe21e94(0x1d3)],'setItemDescription':_0x46b52f[_0xe21e94(0x188)],'setItemIsSold':_0x46b52f['setItemIsSold'],'setItemIsBought':_0x46b52f[_0xe21e94(0x14d)],'setCategoria':_0x46b52f[_0xe21e94(0x205)],'setMarca':_0x46b52f['setMarca'],'setTaxId':_0x46b52f[_0xe21e94(0x1fe)],'setUnitId':_0x46b52f['id'],'setItemBarCode':_0x46b52f['setItemBarCode'],'setUnidadCodigo':_0x46b52f[_0xe21e94(0x20b)],'setItemUnitAlias':_0x46b52f[_0xe21e94(0x11d)]??'','PEN_setMtoPrecioUnitario':_0x3a2607(_0x46b52f,_0xe21e94(0x15c),_0xe21e94(0x1ed)),'PEN_setMtoPrecioCostoUnitario':_0x3a2607(_0x46b52f,_0xe21e94(0x15c),_0xe21e94(0x209)),'USD_setMtoPrecioUnitario':_0x3a2607(_0x46b52f,_0xe21e94(0x13a),_0xe21e94(0x1ed)),'USD_setMtoPrecioCostoUnitario':_0x3a2607(_0x46b52f,_0xe21e94(0x13a),_0xe21e94(0x209)),'setItemCommissionPercentage':_0x46b52f[_0xe21e94(0x11b)]?parseFloat(_0x46b52f[_0xe21e94(0x11b)]):'','setUnitId2':_0x4e3a1d['id']??'','setItemBarCode2':_0x4e3a1d[_0xe21e94(0x22f)]??'','setUnidadCodigo2':_0x4e3a1d[_0xe21e94(0x20b)]??'','setItemUnitAlias2':_0x4e3a1d['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x4e3a1d[_0xe21e94(0x169)]??'','PEN_setMtoPrecioUnitario2':_0x3a2607(_0x4e3a1d,_0xe21e94(0x15c),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x3a2607(_0x4e3a1d,_0xe21e94(0x15c),_0xe21e94(0x209))??'','USD_setMtoPrecioUnitario2':_0x3a2607(_0x4e3a1d,_0xe21e94(0x13a),_0xe21e94(0x1ed))??'','USD_setMtoPrecioCostoUnitario2':_0x3a2607(_0x4e3a1d,_0xe21e94(0x13a),_0xe21e94(0x209))??'','setItemCommissionPercentage2':_0x4e3a1d[_0xe21e94(0x11b)]?parseFloat(_0x4e3a1d[_0xe21e94(0x11b)]):'','setUnitId3':_0x26fecf['id']??'','setItemBarCode3':_0x26fecf[_0xe21e94(0x22f)]??'','setUnidadCodigo3':_0x26fecf[_0xe21e94(0x20b)]??'','setItemUnitAlias3':_0x26fecf[_0xe21e94(0x11d)]??'','setUnidadEquivalencia3':_0x26fecf[_0xe21e94(0x169)]??'','PEN_setMtoPrecioUnitario3':_0x3a2607(_0x26fecf,_0xe21e94(0x15c),_0xe21e94(0x1ed))??'','PEN_setMtoPrecioCostoUnitario3':_0x3a2607(_0x26fecf,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x3a2607(_0x26fecf,_0xe21e94(0x13a),_0xe21e94(0x1ed))??'','USD_setMtoPrecioCostoUnitario3':_0x3a2607(_0x26fecf,'USD',_0xe21e94(0x209))??'','setItemCommissionPercentage3':_0x26fecf[_0xe21e94(0x11b)]?parseFloat(_0x26fecf[_0xe21e94(0x11b)]):'','setInventariable':_0x46b52f[_0xe21e94(0x199)],'setSucursalStock':_0x2e0196==0x1?_0x46b52f[_0xe21e94(0x12c)][_0xe21e94(0x15d)](_0x303aba=>String(_0x303aba['setIdSucursal'])==String(_0x1f5f42))[_0xe21e94(0x1dc)]:'','setWarehouseStockMin':_0x2e0196==0x1?_0x46b52f[_0xe21e94(0x12c)][_0xe21e94(0x15d)](_0x3fa5ad=>String(_0x3fa5ad[_0xe21e94(0x23b)])==String(_0x1f5f42))[_0xe21e94(0x135)]:'','setBatchName':_0x46b52f[_0xe21e94(0x251)],'setBatchExpirationDate':_0x46b52f[_0xe21e94(0x260)],..._0x46b52f[_0xe21e94(0x1a7)]};});try{JSON[_0x3b1916(0x1af)](_0x854b29);}catch(_0x263050){console[_0x3b1916(0x124)](_0x3b1916(0x194),_0x263050),ntfShow(_0x3b1916(0x221));return;}statusDiv[_0x3b1916(0x20c)]=_0x3b1916(0x164),progressBar[_0x3b1916(0x239)]['display']=_0x3b1916(0x140),progressBar[_0x3b1916(0x16f)]=0x0,itemWorker[_0x3b1916(0x14c)]({'action':_0x3b1916(0x1d7),'products':_0x854b29,'plantillaBuf':_0x4d80a5},[_0x4d80a5]);}catch(_0x139c59){console[_0x3b1916(0x124)](_0x139c59),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x139c59[_0x3b1916(0x1be)]);}}itemWorker[_0x4c64e1(0x1fc)]=({data:_0x471e61})=>{var _0x3a8c1a=_0x4c64e1;const {type:_0x5dc03e,payload:_0xd26c68}=_0x471e61;_0x5dc03e===_0x3a8c1a(0x163)&&(progressBar[_0x3a8c1a(0x239)][_0x3a8c1a(0x181)]=_0x3a8c1a(0x140),progressBar[_0x3a8c1a(0x16f)]=_0xd26c68[_0x3a8c1a(0x1f4)],statusDiv['textContent']=_0xd26c68[_0x3a8c1a(0x1be)]);_0x5dc03e==='done'&&(newItemsExcel=_0xd26c68[_0x3a8c1a(0x248)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x3a8c1a(0x1fd)]+_0x3a8c1a(0x25a),uploadBtn[_0x3a8c1a(0x20d)]=![],progressBar[_0x3a8c1a(0x16f)]=0x64,console[_0x3a8c1a(0x262)](newItemsExcel));_0x5dc03e===_0x3a8c1a(0x124)&&(statusDiv[_0x3a8c1a(0x20c)]=_0x3a8c1a(0x150)+_0xd26c68,progressBar[_0x3a8c1a(0x239)][_0x3a8c1a(0x181)]='none');if(_0x5dc03e==='exportDone'){const {wbout:_0x3eac37,count:_0x340827}=_0xd26c68,_0x1a4290=new Blob([_0x3eac37],{'type':_0x3a8c1a(0x167)}),_0x37a76a=URL['createObjectURL'](_0x1a4290),_0x56fc8a=document[_0x3a8c1a(0x117)]('a'),_0xbf5f75=new Date()[_0x3a8c1a(0x226)]()[_0x3a8c1a(0x1b3)](0x0,0xa);_0x56fc8a[_0x3a8c1a(0x25f)]=_0x3a8c1a(0x156)+_0xbf5f75+_0x3a8c1a(0x1a9),_0x56fc8a['href']=_0x37a76a,_0x56fc8a[_0x3a8c1a(0x1df)](),URL[_0x3a8c1a(0x152)](_0x37a76a),statusDiv[_0x3a8c1a(0x20c)]=_0x3a8c1a(0x17e)+_0x340827+'\x20items.',progressBar[_0x3a8c1a(0x239)][_0x3a8c1a(0x181)]=_0x3a8c1a(0x115);}},fileInput[_0x4c64e1(0x149)](_0x4c64e1(0x133),async _0x342e2c=>{var _0x48544e=_0x4c64e1;const _0x4253a5=_0x342e2c[_0x48544e(0x23a)]['files'][0x0];if(!_0x4253a5)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x48544e(0x20c)]='',progressBar[_0x48544e(0x239)][_0x48544e(0x181)]='none',dropZone[_0x48544e(0x1e9)](_0x48544e(0x237))[_0x48544e(0x20c)]=_0x4253a5[_0x48544e(0x179)],removeBtn[_0x48544e(0x240)]=![];try{const _0x34227b=await _0x4253a5[_0x48544e(0x125)]();itemWorker[_0x48544e(0x14c)]({'action':_0x48544e(0x1a3),'buf':_0x34227b,'maxRows':0x1388});}catch(_0x8ce922){statusDiv['textContent']=_0x48544e(0x1c7);}finally{fileInput['value']='';}}),uploadBtn[_0x4c64e1(0x149)](_0x4c64e1(0x1df),async()=>{var _0x2cf06e=_0x4c64e1;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2638d1=document[_0x2cf06e(0x1e4)]('setWarehouseId')['value'],_0xd43c3=[];newItemsExcel['forEach'](_0x11780a=>{var _0x5be0c2=_0x2cf06e;const _0x202e34=Boolean(_0x11780a[_0x5be0c2(0x127)]),_0x3cdf4d=_0x202e34?_0x11780a[_0x5be0c2(0x127)]:generateNumericUniqId();_0x11780a[_0x5be0c2(0x184)]=[{'setStockInitial':_0x11780a['setStockInitial'],'setStockMinimum':_0x11780a[_0x5be0c2(0x216)],'setWarehouseCode':_0x2638d1}],_0x11780a[_0x5be0c2(0x1e3)][_0x5be0c2(0x185)](_0x2f016e=>{var _0x187d4d=_0x5be0c2;const _0x4f51ca=Boolean(_0x2f016e[_0x187d4d(0x1a2)]),_0x36fbf5=_0x4f51ca?_0x2f016e[_0x187d4d(0x1a2)]:generateNumericUniqId();_0x2f016e['setItemUnitId']=_0x36fbf5;const _0x321190=[];_0x321190[_0x187d4d(0x1b7)]({'currency':_0x187d4d(0x15c),'setMtoPrecioCostoUnitario':_0x2f016e[_0x187d4d(0x173)],'setMtoPrecioUnitario':_0x2f016e['setPrice'],'setPriceLists':[]});const _0x314319=_0x2f016e[_0x187d4d(0x1f3)]!=null&&_0x2f016e[_0x187d4d(0x1e7)]!=null&&(!isNaN(_0x2f016e[_0x187d4d(0x1f3)])||!isNaN(_0x2f016e[_0x187d4d(0x1e7)]));_0x314319&&_0x321190[_0x187d4d(0x1b7)]({'currency':_0x187d4d(0x13a),'setMtoPrecioCostoUnitario':_0x2f016e[_0x187d4d(0x1f3)],'setMtoPrecioUnitario':_0x2f016e[_0x187d4d(0x1e7)],'setPriceLists':[]});const _0x2c98d3={'id':_0x36fbf5,'setIdProducto':_0x3cdf4d,'setItemBarCode':_0x2f016e[_0x187d4d(0x22f)],'setCodProducto':_0x11780a[_0x187d4d(0x1c0)],'setDescripcion':_0x11780a['setItemName'],'setItemDescription':_0x11780a[_0x187d4d(0x188)],'setBatchExpirationDate':_0x11780a[_0x187d4d(0x1fa)],'setBatchName':_0x11780a['setBatchName'],'setItemIsSold':_0x11780a[_0x187d4d(0x206)],'setItemIsBought':_0x11780a[_0x187d4d(0x14d)],'setCategoria':_0x11780a[_0x187d4d(0x219)][0x0]||'','setMarca':_0x11780a[_0x187d4d(0x1a8)][0x0]||'','setConversionFactor':parseFloat(_0x2f016e['setFactor']),'setImages':[],'setImg':_0x187d4d(0x121),'setInventariable':_0x11780a[_0x187d4d(0x200)],'setPorcentajeIgv':_0x11780a[_0x187d4d(0x254)],'setPrinters':[],'setTaxId':_0x11780a['setItemTaxId'],'setTipAfeIgv':_0x11780a[_0x187d4d(0x204)],'setUnidad':_0x2f016e[_0x187d4d(0x198)],'setUnidadCodigo':_0x2f016e[_0x187d4d(0x198)],'setItemUnitAlias':_0x2f016e[_0x187d4d(0x195)],'setItemCommissionPercentage':_0x2f016e[_0x187d4d(0x11b)],'currency_data':_0x321190,'sucursales':_0x11780a[_0x187d4d(0x184)][_0x187d4d(0x1eb)](_0x4007e6=>({'setIdSucursal':_0x4007e6[_0x187d4d(0x228)],'setSucursalStock':_0x4007e6['setStockInitial']['toString'](),'setWarehouseStockMin':_0x4007e6[_0x187d4d(0x216)][_0x187d4d(0x22d)]()})),'setItemFree':_0x11780a[_0x187d4d(0x24e)],'setItemBrands':_0x11780a[_0x187d4d(0x1a8)][_0x187d4d(0x1b3)](),'setItemCategories':_0x11780a[_0x187d4d(0x219)]['slice'](),'setItemComponents':_0x11780a['setItemComponents']['map'](_0x41c324=>({..._0x41c324})),'setItemImages':_0x11780a[_0x187d4d(0x197)][_0x187d4d(0x1b3)](),'setItemVariantName':_0x11780a[_0x187d4d(0x113)],'setItemVariantValues':{..._0x11780a['setItemVariantValues']}},_0x275ef2=products['findIndex'](_0x1cf6e9=>_0x1cf6e9['id']==_0x36fbf5&&_0x1cf6e9['setIdProducto']==_0x3cdf4d);_0x275ef2>-0x1?Object['assign'](products[_0x275ef2],_0x2c98d3):_0xd43c3[_0x187d4d(0x1b7)](_0x2c98d3);});}),console[_0x2cf06e(0x262)](_0x2cf06e(0x1e8),newItemsExcel),await finalizeImport(_0xd43c3,newItemsExcel,!![]);});function initializeFormImages(){var _0x1c20c3=_0x4c64e1;currentImages=Array(MAX_IMAGES)[_0x1c20c3(0x201)](null),imgC[_0x1c20c3(0x16c)]='',baseItem[_0x1c20c3(0x197)]=[];for(var _0x18384e=0x0;_0x18384e<MAX_IMAGES;_0x18384e++){(function(_0x26ebc1){var _0x47ef5e=_0x1c20c3,_0x37f2a9=document['createElement'](_0x47ef5e(0x1fb));_0x37f2a9[_0x47ef5e(0x247)]='image_box',_0x37f2a9['dataset']['idx']=_0x26ebc1;var _0x5cc09f=document[_0x47ef5e(0x117)](_0x47ef5e(0x1f7));_0x5cc09f[_0x47ef5e(0x1f1)]=_0x47ef5e(0x155),_0x5cc09f[_0x47ef5e(0x250)]=_0x47ef5e(0x147),_0x5cc09f[_0x47ef5e(0x239)][_0x47ef5e(0x181)]=_0x47ef5e(0x115);var _0x59f86e=document[_0x47ef5e(0x117)](_0x47ef5e(0x189));_0x59f86e[_0x47ef5e(0x20c)]='+',_0x37f2a9[_0x47ef5e(0x1d1)](_0x5cc09f),_0x37f2a9[_0x47ef5e(0x1d1)](_0x59f86e),imgC[_0x47ef5e(0x1d1)](_0x37f2a9),_0x37f2a9[_0x47ef5e(0x149)](_0x47ef5e(0x1df),function(){var _0xceafb4=_0x47ef5e;_0x5cc09f[_0xceafb4(0x1df)]();}),_0x5cc09f['addEventListener'](_0x47ef5e(0x133),function(_0x3abd5b){var _0x3b0a04=_0x47ef5e,_0x1ab4af=_0x3abd5b[_0x3b0a04(0x23a)][_0x3b0a04(0x245)][0x0];if(!_0x1ab4af)return removeImg(_0x26ebc1);var _0x2052a6=new FileReader();_0x2052a6[_0x3b0a04(0x25b)]=function(_0x94e321){var _0x5599cb=_0x3b0a04;_0x37f2a9[_0x5599cb(0x16c)]=_0x5599cb(0x158)+_0x94e321['target'][_0x5599cb(0x1aa)]+'\x22>';var _0x24d4c6=document[_0x5599cb(0x117)]('span');_0x24d4c6[_0x5599cb(0x247)]=_0x5599cb(0x242),_0x24d4c6[_0x5599cb(0x20c)]='×',_0x24d4c6[_0x5599cb(0x149)](_0x5599cb(0x1df),function(_0x34c298){var _0x45008c=_0x5599cb;_0x34c298[_0x45008c(0x230)](),removeImg(_0x26ebc1);}),_0x37f2a9[_0x5599cb(0x1d1)](_0x24d4c6),currentImages[_0x26ebc1]=_0x1ab4af,baseItem[_0x5599cb(0x197)]=currentImages['filter'](function(_0x1a2627){return _0x1a2627;});},_0x2052a6['readAsDataURL'](_0x1ab4af);});}(_0x18384e));}}function initializeFormIsSoldIsBought(_0x9efb9=0x0){var _0x3b72d8=_0x4c64e1;let _0x211e35,_0x1c2ede;if(_0x9efb9!=0x0){const _0x738155=products[_0x3b72d8(0x15d)](_0x2929b3=>_0x2929b3['id']==_0x9efb9);_0x211e35=_0x738155[_0x3b72d8(0x14d)]==0x1||_0x738155[_0x3b72d8(0x14d)]==!![]?!![]:![],_0x1c2ede=_0x738155[_0x3b72d8(0x206)]==0x1||_0x738155['setItemIsSold']==!![]?!![]:![];}else _0x211e35=!![],_0x1c2ede=!![];document[_0x3b72d8(0x1e4)](_0x3b72d8(0x218))[_0x3b72d8(0x13e)]=_0x211e35,document['getElementById']('newItem_chk_sell')['checked']=_0x1c2ede,baseItem[_0x3b72d8(0x14d)]=_0x211e35,baseItem[_0x3b72d8(0x206)]=_0x1c2ede;}function initializeFormInputsBasic(_0x1468ae=0x0){var _0x389433=_0x4c64e1;let _0x444ffe,_0x95111b,_0x38040c,_0x4083cc,_0x38a599,_0x5a79d8;if(_0x1468ae!=0x0){const _0xaac05b=products[_0x389433(0x15d)](_0x3213c3=>_0x3213c3['id']==_0x1468ae);_0x444ffe=_0xaac05b[_0x389433(0x14a)]??'1',_0x95111b=_0xaac05b[_0x389433(0x238)],_0x38040c=_0xaac05b[_0x389433(0x1d3)],_0x4083cc=_0xaac05b[_0x389433(0x188)],_0x38a599=_0xaac05b[_0x389433(0x260)]??'',_0x5a79d8=_0xaac05b[_0x389433(0x22f)];}else _0x444ffe='1',_0x95111b=getNextCode(products),_0x38040c='',_0x4083cc='',_0x38a599='',_0x5a79d8='';document[_0x389433(0x1e4)](_0x389433(0x1e1))[_0x389433(0x16f)]=_0x444ffe,document['getElementById'](_0x389433(0x207))['value']=_0x95111b,document[_0x389433(0x1e4)](_0x389433(0x13c))['value']=_0x38040c,document[_0x389433(0x1e4)](_0x389433(0x130))['value']=_0x4083cc,document['getElementById'](_0x389433(0x129))['value']=_0x38a599,document[_0x389433(0x1e4)](_0x389433(0x252))[_0x389433(0x16f)]=_0x5a79d8,baseItem[_0x389433(0x14a)]=_0x444ffe,baseItem[_0x389433(0x1c0)]=_0x95111b,baseItem['setItemName']=_0x38040c,baseItem['setItemDescription']=_0x4083cc,baseItem['setItemDateExpiry']=_0x38a599,baseItem[_0x389433(0x22f)]=_0x5a79d8,document[_0x389433(0x1e4)](_0x389433(0x1cb))[_0x389433(0x13e)]=![];}function initializeFormTax(_0x938733=0x0){var _0x3d27b0=_0x4c64e1;let _0x1e8cc5;if(_0x938733!=0x0){const _0x54f44d=products[_0x3d27b0(0x15d)](_0x916ae=>_0x916ae['id']==_0x938733);_0x1e8cc5=_0x54f44d['setTaxId'];}else _0x1e8cc5=myCompany['setTaxIdDefault'];const _0x198ffc=document[_0x3d27b0(0x1e4)]('inputItemTax');_0x198ffc[_0x3d27b0(0x16f)]=_0x1e8cc5,baseItem[_0x3d27b0(0x182)]=_0x1e8cc5;const _0x59e6bb=company[0x0][_0x3d27b0(0x191)][_0x3d27b0(0x15d)](_0x458a1d=>_0x458a1d[_0x3d27b0(0x1fe)]==_0x1e8cc5)?.[_0x3d27b0(0x25e)]||0x0,_0x28726b=company[0x0][_0x3d27b0(0x191)][_0x3d27b0(0x15d)](_0x3a03fb=>_0x3a03fb[_0x3d27b0(0x1fe)]==_0x1e8cc5)?.[_0x3d27b0(0x1ba)]||0x0;baseItem[_0x3d27b0(0x204)]=_0x59e6bb,baseItem['setItemTaxValue']=_0x28726b;}function initializeFormCategoriesBrands(_0x54b454=0x0){var _0x21dfcd=_0x4c64e1;baseItem[_0x21dfcd(0x219)]=[],baseItem[_0x21dfcd(0x1a8)]=[],document[_0x21dfcd(0x1e9)]('#newItem_categories_select\x20.selected_tags')[_0x21dfcd(0x16c)]='',document[_0x21dfcd(0x1e9)](_0x21dfcd(0x11f))[_0x21dfcd(0x16c)]='',document[_0x21dfcd(0x1e9)](_0x21dfcd(0x17a))[_0x21dfcd(0x16c)]='',document[_0x21dfcd(0x1e9)](_0x21dfcd(0x1c5))['innerHTML']='';const _0x365ca7=myCompany[_0x21dfcd(0x219)][_0x21dfcd(0x1eb)](_0x202965=>({'setCode':_0x202965[_0x21dfcd(0x166)],'setName':_0x202965['setItemCategoryName']})),_0x2fa500=myCompany[_0x21dfcd(0x1a8)][_0x21dfcd(0x1eb)](_0x3bf3f0=>({'setCode':_0x3bf3f0['setItemBrandName'],'setName':_0x3bf3f0[_0x21dfcd(0x1a0)]}));initMulti(_0x21dfcd(0x138),_0x365ca7),initMulti(_0x21dfcd(0x1e6),_0x2fa500),document[_0x21dfcd(0x1e4)](_0x21dfcd(0x138))['addEventListener'](_0x21dfcd(0x11c),function(_0x3c4edc){var _0x351ef0=_0x21dfcd;baseItem['setItemCategories']=_0x3c4edc[_0x351ef0(0x1f8)]['map'](_0x6adae0=>_0x6adae0[_0x351ef0(0x1a4)]);}),document[_0x21dfcd(0x1e4)]('newItem_brands_select')['addEventListener'](_0x21dfcd(0x11c),function(_0x52d248){var _0x19eac3=_0x21dfcd;baseItem[_0x19eac3(0x1a8)]=_0x52d248[_0x19eac3(0x1f8)][_0x19eac3(0x1eb)](_0x91a607=>_0x91a607[_0x19eac3(0x1a4)]);});if(_0x54b454!=0x0){const _0x5e4e9b=products[_0x21dfcd(0x15d)](_0x5c5e6b=>_0x5c5e6b['id']==_0x54b454);if(_0x5e4e9b[_0x21dfcd(0x205)]){const _0xe3cae8=document[_0x21dfcd(0x1e4)](_0x21dfcd(0x138)),_0x493c9a=Array[_0x21dfcd(0x23c)](_0xe3cae8[_0x21dfcd(0x21a)]('.options_list\x20div'))[_0x21dfcd(0x15d)](_0x3fcf12=>_0x3fcf12[_0x21dfcd(0x21e)][_0x21dfcd(0x128)]==_0x5e4e9b[_0x21dfcd(0x205)]);_0x493c9a&&_0x493c9a[_0x21dfcd(0x1df)]();}if(_0x5e4e9b[_0x21dfcd(0x112)]){const _0x3c5e51=document[_0x21dfcd(0x1e4)](_0x21dfcd(0x1e6)),_0x51e4c4=Array[_0x21dfcd(0x23c)](_0x3c5e51[_0x21dfcd(0x21a)](_0x21dfcd(0x1bb)))[_0x21dfcd(0x15d)](_0x421cd9=>_0x421cd9[_0x21dfcd(0x21e)][_0x21dfcd(0x128)]==_0x5e4e9b['setMarca']);_0x51e4c4&&_0x51e4c4['click']();}}}function initializeFormUnits(){var _0x503537=_0x4c64e1;unitCount=0x0,document[_0x503537(0x1e4)]('newItem_units_container')['innerHTML']='',baseItem['setItemUnits']=[];var _0x2140e7=uniqueValuesArray(_0x503537(0x198),_0x503537(0x208),myCompany[_0x503537(0x177)]);addUnit('',_0x2140e7[0x3a]&&_0x2140e7[0x3a][_0x503537(0x1a4)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x1673ba=_0x4c64e1;prodC[_0x1673ba(0x16c)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x3b9267=_0x4c64e1;branchesC[_0x3b9267(0x16c)]='',baseItem['setItemWarehouses']=[];const _0x313682=getAllWarehouses();_0x313682[_0x3b9267(0x185)](function(_0x8fc927){var _0x511090=_0x3b9267,_0x45fbf0=document[_0x511090(0x117)](_0x511090(0x1fb));_0x45fbf0[_0x511090(0x16c)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x8fc927[_0x511090(0x15b)]+_0x511090(0x15f)+_0x8fc927[_0x511090(0x114)]+_0x511090(0x157)+_0x511090(0x161)+'<div\x20class=\x22newItem_col\x22>'+_0x511090(0x190)+_0x8fc927[_0x511090(0x15b)]+'\x22>'+_0x511090(0x161)+_0x511090(0x24b)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x8fc927[_0x511090(0x15b)]+'\x22>'+'</div>'+_0x511090(0x161),branchesC[_0x511090(0x1d1)](_0x45fbf0),_0x45fbf0[_0x511090(0x21a)](_0x511090(0x1f7))[_0x511090(0x185)](function(_0x4b745e){var _0x55b25d=_0x511090;_0x4b745e[_0x55b25d(0x149)](_0x55b25d(0x1f7),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x14f775=_0x4c64e1;baseItem[_0x14f775(0x113)]='',baseItem[_0x14f775(0x1a7)]={},vgC['innerHTML']='',varContainer[_0x14f775(0x16c)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}function _0xdd1f(){var _0x377247=['.branchInit','./img/product.png','Error\x20al\x20guardar\x20Producto\x20Offline:','[data-idx=\x22','error','arrayBuffer','.selected_tags','setItemId','code','inputItemDateExpiry','setEquivalence','oncomplete','sucursales','test','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','3258017HxjKDQ','inputItemDescription','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','dispatchEvent','change','search','setWarehouseStockMin','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','.options_list','newItem_categories_select','assign','USD','file-input','inputItemName','newItem_btn_addVariantGroup','checked','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','block','newItem_proditems_container','toggle','compare','Collator','modalProductNewTitle','.addVariantUnit','image/*','(((.+)+)+)+$','addEventListener','setItemType','_units_container','postMessage','setItemIsBought','bind','currency','❌\x20Error:\x20','onerror','revokeObjectURL','base','remove-file','file','Plantilla-Items-Export-','</label>','<img\x20src=\x22','Enter','table','setWarehouseId','PEN','find','100','\x22\x20class=\x22branchChk\x22\x20checked>\x20','productType1','</div>','detalleModalCreateItem','progress','Generando\x20Excel...','entries','setItemCategoryName','application/octet-stream','default','setConversionFactor','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','blur','innerHTML','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','.vgVals','value','padStart','parse','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setCost','status','inputItemTax','setAuthToken','setUnits','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','name','#newItem_brands_select\x20.selected_tags','.prodInput','1068112LbhmDG','.unitAlias','✅\x20Exportación\x20completada:\x20','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','display','setItemTaxId','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setItemWarehouses','forEach','variantForm','upload-btn','setItemDescription','span','newItem_title_table_cp','preventDefault','classList','_branch_container','priceInput','active','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setImpuestos','findIndex','filter','ERROR:\x20plainProducts\x20no\x20serializable:','setAlias','6294162gFiXcj','setItemImages','setUnitCode','setInventariable','variant_','contains','windowId','keydown','18426OSaXzB','setStockInitial','setItemBrandName','.costInput','setItemUnitId','import','setCode','parentNode','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setItemVariantValues','setItemBrands','.xlsx','result','Producto\x20Guardado\x20Offline\x20Correctamente.','selectedItem','Ingresa\x20el\x20nombre\x20del\x20item','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','stringify','match','.eqInput','setCantidad','slice','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','newItem_variants_forms','option','push','max','newItem_btn_addUnit','setImpuestoValue','.options_list\x20div','setTaxIdDefault','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','message','.prodQty','setItemCode','3804936IDOPQk','split','setItemComponents','prototype','#newItem_brands_select\x20.options_list','111AEcMgr','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','18qiHBsc','isArray','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','newItem_addToCart','newItem_chk_sell','currency_data','409851ZMtbxz','.branchChk','drop','appendChild','Ingresa\x20el\x20código\x20del\x20item','setDescripcion','add','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','\x22\x20class=\x22branchChk\x22>\x20','exportItems','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','some','newItem_btn_addProdItem','.unitSelect','setSucursalStock','includes','dragenter','click','key','inputItemType','.removeCombo','setItemUnits','getElementById','newItem_title_table','newItem_brands_select','setPriceUSD','Items\x20finales:','querySelector','apply','map','splice','setMtoPrecioUnitario','warn','.ms_input','eqInput','type','join','setCostUSD','percent','toLowerCase','btnItemSave','input','detail','drop-zone','setItemDateExpiry','div','onmessage','length','setTaxId','./js/apierp_item_wk.min.js','setItemInventoriable','fill','.removeGroup','.branchMin','setItemTaxCode','setCategoria','setItemIsSold','inputItemCode','setUnitName','setMtoPrecioCostoUnitario','undefined','setUnidadCodigo','textContent','disabled','style=\x22display:none\x22','vals','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_variant_groups','\x22\x20value=\x22','console','getElementsByClassName','currentTarget','setStockMinimum','costInput','newItem_chk_buy','setItemCategories','querySelectorAll','now','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','dataset','3950375RmQuan','true','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','every','focus','__proto__','unitSelect','toISOString','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setWarehouseCode','offline_operations','return\x20(function()\x20','setName','defineProperty','toString','constructor','setItemBarCode','stopPropagation','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','trim','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','closeModalCreateItem','info','.drop-zone__prompt','setCodProducto','style','target','setIdSucursal','from','mousedown','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','btnExportarItems','hidden','newItem_images_container','remove','remove-tag','dragover','files','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','className','items','newItem_branches_container','transaction','<div\x20class=\x22newItem_col\x22>','idx','objectStore','setItemFree','newItem_hidden','accept','setBatchName','inputItemBarCode','.variantForm','setItemTaxValue','No\x20hay\x20items\x20para\x20exportar.','unitAlias','setFactor','modalOverlayCreateItem','.vgName','\x20items\x20procesados.','onload','.variantCode','.priceInput','setImpuestoCode','download','setBatchExpirationDate','setPrice','log','setMarca','setItemVariantName','setWarehouseName','none','setWebhook','createElement','setItemName','sort','.prod_input_container','setItemCommissionPercentage','selectionChange','setItemUnitAlias','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','#newItem_categories_select\x20.options_list'];_0xdd1f=function(){return _0x377247;};return _0xdd1f();}async function finalizeImport(_0x160fae,_0x19175c,_0x4ab2b6=![]){var _0x1286b7=_0x4c64e1;const _0x448b66=0xc8,_0x32c6a3={'apiPOSsendOffline':'1','setTipoOperacion':_0x1286b7(0x15e),'setToken':company[0x0][_0x1286b7(0x176)],'setWebhook':company[0x0][_0x1286b7(0x116)]};for(let _0x417ee9=0x0;_0x417ee9<_0x19175c[_0x1286b7(0x1fd)];_0x417ee9+=_0x448b66){const _0x52736a=_0x19175c[_0x1286b7(0x1b3)](_0x417ee9,_0x417ee9+_0x448b66);await storeOfflineProduct({..._0x32c6a3,'newItems':_0x52736a});}products['push'](..._0x160fae),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x4ab2b6?(fileInput[_0x1286b7(0x16f)]='',uploadBtn[_0x1286b7(0x20d)]=!![],statusDiv[_0x1286b7(0x20c)]='',progressBar[_0x1286b7(0x239)][_0x1286b7(0x181)]=_0x1286b7(0x115),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}