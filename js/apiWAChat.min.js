/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.2
*/

const _0x47b68f=_0x17ce;(function(_0x235978,_0x286b2f){const _0xbc278e=_0x17ce,_0x27401e=_0x235978();while(!![]){try{const _0x527d63=-parseInt(_0xbc278e(0x130))/0x1+-parseInt(_0xbc278e(0x11b))/0x2+-parseInt(_0xbc278e(0x11f))/0x3*(parseInt(_0xbc278e(0x110))/0x4)+-parseInt(_0xbc278e(0x12b))/0x5*(-parseInt(_0xbc278e(0x121))/0x6)+parseInt(_0xbc278e(0x106))/0x7+parseInt(_0xbc278e(0x101))/0x8+parseInt(_0xbc278e(0x108))/0x9*(parseInt(_0xbc278e(0x128))/0xa);if(_0x527d63===_0x286b2f)break;else _0x27401e['push'](_0x27401e['shift']());}catch(_0x16679a){_0x27401e['push'](_0x27401e['shift']());}}}(_0x47cc,0x1f963));const _0x5893b3=(function(){let _0x7c1f5f=!![];return function(_0x1d37e4,_0x17a08c){const _0x2e5023=_0x7c1f5f?function(){const _0x53484f=_0x17ce;if(_0x17a08c){const _0x3f5415=_0x17a08c[_0x53484f(0x107)](_0x1d37e4,arguments);return _0x17a08c=null,_0x3f5415;}}:function(){};return _0x7c1f5f=![],_0x2e5023;};}()),_0x259768=_0x5893b3(this,function(){const _0x46271b=_0x17ce;return _0x259768[_0x46271b(0x122)]()['search'](_0x46271b(0xf6))[_0x46271b(0x122)]()[_0x46271b(0x103)](_0x259768)['search'](_0x46271b(0xf6));});_0x259768();const _0x2998d1=(function(){let _0x1dd418=!![];return function(_0x58982a,_0x2f2899){const _0x3b4a92=_0x1dd418?function(){const _0x3fdad2=_0x17ce;if(_0x2f2899){const _0x5041d9=_0x2f2899[_0x3fdad2(0x107)](_0x58982a,arguments);return _0x2f2899=null,_0x5041d9;}}:function(){};return _0x1dd418=![],_0x3b4a92;};}()),_0x52346f=_0x2998d1(this,function(){const _0x11f860=_0x17ce,_0x2704fd=function(){const _0x29dbc6=_0x17ce;let _0x10ac25;try{_0x10ac25=Function(_0x29dbc6(0x12c)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x522287){_0x10ac25=window;}return _0x10ac25;},_0x5624ed=_0x2704fd(),_0x21743e=_0x5624ed[_0x11f860(0x11d)]=_0x5624ed[_0x11f860(0x11d)]||{},_0x1d99bd=[_0x11f860(0x11a),_0x11f860(0x114),_0x11f860(0xfa),'error',_0x11f860(0xfe),_0x11f860(0x123),_0x11f860(0x11e)];for(let _0x3c1f13=0x0;_0x3c1f13<_0x1d99bd['length'];_0x3c1f13++){const _0x414929=_0x2998d1[_0x11f860(0x103)]['prototype'][_0x11f860(0x126)](_0x2998d1),_0x333f1e=_0x1d99bd[_0x3c1f13],_0x399228=_0x21743e[_0x333f1e]||_0x414929;_0x414929[_0x11f860(0x129)]=_0x2998d1[_0x11f860(0x126)](_0x2998d1),_0x414929[_0x11f860(0x122)]=_0x399228[_0x11f860(0x122)][_0x11f860(0x126)](_0x399228),_0x21743e[_0x333f1e]=_0x414929;}});_0x52346f();function _0x17ce(_0x1d2fe2,_0x4a7c32){const _0x59a359=_0x47cc();return _0x17ce=function(_0x52346f,_0x2998d1){_0x52346f=_0x52346f-0xf6;let _0x5e5cae=_0x59a359[_0x52346f];return _0x5e5cae;},_0x17ce(_0x1d2fe2,_0x4a7c32);}const selectCredentialsApiWAChat=document[_0x47b68f(0xff)](_0x47b68f(0x10f)),loginPanel=document[_0x47b68f(0xff)](_0x47b68f(0x12d)),chatPanel=document[_0x47b68f(0xff)](_0x47b68f(0x109)),qrImg=document[_0x47b68f(0xff)](_0x47b68f(0x112)),overlay=document[_0x47b68f(0xff)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x17fba3=_0x47b68f;loginPanel['style'][_0x17fba3(0x131)]=_0x17fba3(0xf8),chatPanel[_0x17fba3(0x125)][_0x17fba3(0x100)]=_0x17fba3(0x119);}function showChat(){const _0x2005b8=_0x47b68f;loginPanel[_0x2005b8(0x125)][_0x2005b8(0x131)]='none',chatPanel[_0x2005b8(0x125)][_0x2005b8(0x100)]=_0x2005b8(0x105);}function _0x47cc(){const _0x28da3f=['includes','constructor','/wa/','visible','1494451WJWEfg','apply','45MQlurf','chatPanel','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','setBranchDefault','onload','setCredentialsApiWAChatSubdomain','.btn-logout','setCredentialsApiWAChat','380nfrneC','Credenciales\x20no\x20encontradas','qr-img','setCredentialsApiWAChatPort','warn','dispatchEvent','setAuthToken','toLowerCase','json','hidden','log','203214zhtoRE','addEventListener','console','trace','7197CEJzRq','setCredentialsApiWAChatStatus','70674CxEIQk','toString','table','then','style','bind','error','392570cUQyZC','__proto__','https://','45LCNwMo','return\x20(function()\x20','loginPanel','click','catch','226778MLxRPC','display','change','(((.+)+)+)+$','src','flex','value','info','./img/apiPOS.png','ya\x20conectado','status','exception','getElementById','visibility','1359040kLvouu'];_0x47cc=function(){return _0x28da3f;};return _0x47cc();}async function displayQR(_0x3d02b2){const _0x10cec3=_0x47b68f,_0x12ee43=selectCredentialsApiWAChat['value'],_0x4f8959=getCredentialsApiWAChat(_0x12ee43);if(_0x4f8959){const _0x54f3f7=_0x4f8959[_0x10cec3(0x10d)],_0x23db39=_0x4f8959[_0x10cec3(0x113)];clearTimeout(qrTimeout),overlay['style'][_0x10cec3(0x131)]='none',qrImg[_0x10cec3(0xf7)]=_0x3d02b2,qrTimeout=setTimeout(()=>{const _0x404a21=_0x10cec3;fetch(_0x404a21(0x12a)+_0x54f3f7+_0x404a21(0x104)+_0x23db39+'/qr',{'headers':{'x-auth-token':myCompany['setAuthToken']}})[_0x404a21(0x124)](async _0x595765=>_0x595765[_0x404a21(0x118)]())[_0x404a21(0x124)](async _0x25f2d3=>{const _0x554597=_0x404a21;_0x25f2d3[_0x554597(0xfd)]&&_0x25f2d3[_0x554597(0xfd)][_0x554597(0x117)]()[_0x554597(0x102)](_0x554597(0xfc))?(showChat(),_0x4f8959[_0x554597(0x120)]=0x1):(overlay[_0x554597(0x125)][_0x554597(0x131)]=_0x554597(0xf8),_0x4f8959[_0x554597(0x120)]=0x0);const _0x331655=await createCartStore('');await saveCompanyToIndexedDB(company,_0x331655);})[_0x404a21(0x12f)](_0x3b58d1=>{const _0x44866e=_0x404a21;console[_0x44866e(0x127)](_0x44866e(0x10a),_0x3b58d1),overlay[_0x44866e(0x125)][_0x44866e(0x131)]=_0x44866e(0xf8);});},validSeconds*0x3e8);}else ntfShow(_0x10cec3(0x111));}async function init(){const _0x519487=_0x47b68f,_0x5f0a52=selectCredentialsApiWAChat[_0x519487(0xf9)],_0x109fcf=getCredentialsApiWAChat(_0x5f0a52);if(_0x109fcf){const _0x3b77d9=_0x109fcf['setCredentialsApiWAChatSubdomain'],_0x32e2ff=_0x109fcf[_0x519487(0x113)];fetch(_0x519487(0x12a)+_0x3b77d9+_0x519487(0x104)+_0x32e2ff+'/qr',{'headers':{'x-auth-token':myCompany[_0x519487(0x116)]}})[_0x519487(0x124)](async _0x4688cd=>_0x4688cd['json']())['then'](async _0x42cc9e=>{const _0x43a292=_0x519487;if(_0x42cc9e['status']&&_0x42cc9e['status'][_0x43a292(0x117)]()[_0x43a292(0x102)]('ya\x20conectado'))showChat(),_0x109fcf[_0x43a292(0x120)]=0x1;else _0x42cc9e['qr']&&(showLogin(),displayQR(_0x42cc9e['qr']),_0x109fcf[_0x43a292(0x120)]=0x0);const _0x5405ca=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5405ca);})[_0x519487(0x12f)](console[_0x519487(0x127)]);}else ntfShow(_0x519487(0x111));}overlay[_0x47b68f(0x11c)](_0x47b68f(0x12e),init),window[_0x47b68f(0x10c)]=function(){const _0x202b71=_0x47b68f,_0x3cef42=0x4;loadLoginContent(_0x202b71(0xfb)),setUserNameGet(),setEventBtnAccess();const _0x173654=document['querySelector'](_0x202b71(0x10e));_0x173654&&_0x173654[_0x202b71(0x11c)]('click',function(){logoutReload(0x0,_0x3cef42);}),document[_0x202b71(0xff)]('setBranchId')[_0x202b71(0x11c)](_0x202b71(0x132),async function(){const _0x2e52bc=_0x202b71,_0x423899=parseInt(this[_0x2e52bc(0xf9)]);myCompany[_0x2e52bc(0x10b)]=_0x423899,saveCredentialsApiWAChatInCompany();const _0x418bc4=await createCartStore('');await saveCompanyToIndexedDB(company,_0x418bc4),cargarAlmacenes(_0x423899),setTimeout(()=>{const _0x3072d0=_0x2e52bc;document[_0x3072d0(0xff)]('setWarehouseId')[_0x3072d0(0x115)](new Event(_0x3072d0(0x132)));},0x64),cargarPisos(_0x423899),setTimeout(()=>{const _0x199ae7=_0x2e52bc;document[_0x199ae7(0xff)]('setFloorId')[_0x199ae7(0x115)](new Event(_0x199ae7(0x132)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x3cef42);};