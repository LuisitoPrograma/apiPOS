/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.9
*/

var _0x4d8d9e=_0x1c78;(function(_0x249366,_0x52810b){var _0x5d6da8=_0x1c78,_0x366d74=_0x249366();while(!![]){try{var _0x4b1cb1=parseInt(_0x5d6da8(0x2c6))/0x1*(-parseInt(_0x5d6da8(0x249))/0x2)+parseInt(_0x5d6da8(0x30e))/0x3*(parseInt(_0x5d6da8(0x2a5))/0x4)+parseInt(_0x5d6da8(0x2fc))/0x5*(parseInt(_0x5d6da8(0x217))/0x6)+parseInt(_0x5d6da8(0x339))/0x7*(-parseInt(_0x5d6da8(0x25c))/0x8)+-parseInt(_0x5d6da8(0x2e9))/0x9+parseInt(_0x5d6da8(0x20a))/0xa*(parseInt(_0x5d6da8(0x33e))/0xb)+parseInt(_0x5d6da8(0x1f6))/0xc;if(_0x4b1cb1===_0x52810b)break;else _0x366d74['push'](_0x366d74['shift']());}catch(_0x3166b3){_0x366d74['push'](_0x366d74['shift']());}}}(_0x5df4,0x1ce56));var _0x57e180=(function(){var _0x1582e4=!![];return function(_0x583ec0,_0x16618b){var _0x3feed4=_0x1582e4?function(){var _0x4b13e6=_0x1c78;if(_0x16618b){var _0x289fda=_0x16618b[_0x4b13e6(0x300)](_0x583ec0,arguments);return _0x16618b=null,_0x289fda;}}:function(){};return _0x1582e4=![],_0x3feed4;};}()),_0x27d5c6=_0x57e180(this,function(){var _0x4f6bf8=_0x1c78;return _0x27d5c6[_0x4f6bf8(0x1fe)]()['search']('(((.+)+)+)+$')['toString']()[_0x4f6bf8(0x2b1)](_0x27d5c6)[_0x4f6bf8(0x2e8)]('(((.+)+)+)+$');});_0x27d5c6();function _0x1c78(_0x2e6f02,_0x51f80d){var _0x5155f8=_0x5df4();return _0x1c78=function(_0x1a71bc,_0xc159b4){_0x1a71bc=_0x1a71bc-0x1ec;var _0x5e33c6=_0x5155f8[_0x1a71bc];return _0x5e33c6;},_0x1c78(_0x2e6f02,_0x51f80d);}var _0xc159b4=(function(){var _0x83330d=!![];return function(_0x1ff39b,_0x113d9f){var _0x5e4cff=_0x83330d?function(){var _0x1d532a=_0x1c78;if(_0x113d9f){var _0x368604=_0x113d9f[_0x1d532a(0x300)](_0x1ff39b,arguments);return _0x113d9f=null,_0x368604;}}:function(){};return _0x83330d=![],_0x5e4cff;};}()),_0x1a71bc=_0xc159b4(this,function(){var _0x1e022f=_0x1c78,_0x521ca1=function(){var _0x53a50d=_0x1c78,_0x48eeee;try{_0x48eeee=Function(_0x53a50d(0x279)+_0x53a50d(0x305)+');')();}catch(_0x5690fe){_0x48eeee=window;}return _0x48eeee;},_0x298b26=_0x521ca1(),_0x28ec1e=_0x298b26[_0x1e022f(0x292)]=_0x298b26[_0x1e022f(0x292)]||{},_0x2cf415=[_0x1e022f(0x240),_0x1e022f(0x212),_0x1e022f(0x227),'error',_0x1e022f(0x210),_0x1e022f(0x29c),'trace'];for(var _0x29eb76=0x0;_0x29eb76<_0x2cf415[_0x1e022f(0x20e)];_0x29eb76++){var _0x415de3=_0xc159b4[_0x1e022f(0x2b1)][_0x1e022f(0x209)]['bind'](_0xc159b4),_0x2e0be3=_0x2cf415[_0x29eb76],_0x267b98=_0x28ec1e[_0x2e0be3]||_0x415de3;_0x415de3[_0x1e022f(0x24e)]=_0xc159b4['bind'](_0xc159b4),_0x415de3['toString']=_0x267b98[_0x1e022f(0x1fe)][_0x1e022f(0x23b)](_0x267b98),_0x28ec1e[_0x2e0be3]=_0x415de3;}});_0x1a71bc();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4d8d9e(0x2ca)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x26e)),prodC=document['getElementById'](_0x4d8d9e(0x268)),vgCount=0x0,varContainer=document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x2a4)),vgC=document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x32d));const fileInput=document[_0x4d8d9e(0x2ca)]('file-input'),progressBar=document['getElementById'](_0x4d8d9e(0x2f4)),statusDiv=document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x211)),uploadBtn=document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x2e7));function _0x5df4(){var _0x4f0e26=['📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','.xlsx','.prodInput','dataset','setFactor','table','application/octet-stream','dataTransfer','newItem_units_container','setWarehouseCode','.prodQty','.branchChk','drop-zone','newItem_variants_forms','143972lHEhWK','currency','\x22\x20class=\x22branchChk\x22\x20checked>\x20','dispatchEvent','result','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setBatchName','.removeCombo','push','active','Items\x20finales:','some','constructor','image_box','_branch_container','keydown','setImpuestoValue','.variantExpiry','_units_container','setInventariable','.vgName','setImpuestoName','❌\x20Error:\x20','blur','inputItemBarCode','postMessage','setAlias','inputItemDateExpiry','priceInput','reduce','change','setBatchExpirationDate','div','36761ENoNBl','.removeProd','.costInput','detalleModalCreateItem','getElementById','inputItemTax','./img/product.png','.branchInit','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','USD','click','setWarehouseName','file','Enter','selectedItem','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','.branchMin','classList','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','block','setMtoPrecioUnitario','setStockMinimum','setDefault','setTaxIdDefault','stringify','setItemIsSold','toISOString','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','default','setCodProducto','undefined','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','unitAlias','upload-btn','search','1896345OFyKyy','import','#newItem_branches_container\x20>\x20div','setImpuestoCode','setItemUnits','.removeUnit','test','Collator','.options_list\x20div','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','drop','progress','.vgVals','detail','Producto\x20Libre','dragenter','option','ERROR:\x20plainProducts\x20no\x20serializable:','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','605AVBuVJ','parse','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','offline_operations','apply','compare','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setCategoria','{}.constructor(\x22return\x20this\x22)(\x20)','<img\x20src=\x22','</label>','string','defineProperty','newItem_btn_addProdItem','style=\x22display:none\x22','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','inputItemDescription','3uVbKOz','.addVariantUnit','.variantCode','inputItemType','setItemBarCode','setWarehouseId','setItemVariantValues','accept','Ingresa\x20el\x20código\x20del\x20item','variant_','div[data-default=\x22true\x22]\x20.eqInput','setItemCategories','image/*','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','download','setItemBrands','setItemComponents','find','textContent','setCode','setItemFree','message','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','eqInput','addEventListener','error','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','.eqInput','querySelectorAll','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','newItem_variant_groups','done','from','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','now','newItem_addToCart','children','setIdSucursal','.selected_tags','./js/apierp_item_wk.min.js','setUnits','setSucursalStock','1043sGGLoC','✅\x20Exportación\x20completada:\x20','\x20items\x20procesados.','className','setUnitName','8833iSgpcC','Producto\x20Guardado\x20Offline\x20Correctamente.','setWarehouseStockMin','idx','setItemVariantName','setConversionFactor','readwrite','selectionChange','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','value','remove','\x22\x20class=\x22branchChk\x22>\x20','flatMap','contains','3277140yLWtKH','map','newItem_chk_buy','.variantForm','findIndex','revokeObjectURL','files','newItem_title_table','toString','modalOverlayCreateItem','setStockInitial','newItem_hidden','[data-idx=\x22','setUnitCode','setPriceUSD','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','.unitSelect','costInput','setMtoPrecioCostoUnitario','prototype','2210FGXimO','createObjectURL','#newItem_brands_select\x20.options_list','split','length','inputItemCode','exception','status','warn','#newItem_brands_select\x20.selected_tags','newItem_brands_select','target','innerHTML','4446BajTLx','setEquivalence','setItemInventoriable','parentNode','appendChild','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','code','<div\x20class=\x22newItem_col\x22>','type','disabled','indexOf','includes','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','productType1','setItemUnitId','dragleave','info','input','oncomplete','createElement','sucursales','querySelector','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','values','newItem_chk_sell','isArray','unitSelect','trim','href','[id$=\x22_comp_container\x22]','variantForm','Error\x20al\x20obtener\x20la\x20plantilla:\x20','setTaxId','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setItemTaxValue','setItemIsBought','bind','setItemImages','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','tag','newItem_title_table_cp','log','setName','currentTarget','#newItem_categories_select\x20.options_list','every','onload','setAuthToken','setItemTaxId','selected','2cGqdXe','none','.options_list','exportDone','base','__proto__','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','btnItemSave','#newItem_units_container\x20>\x20div','setItemId','span','newItem_categories_select','toggle','max','assign','setUnidadCodigo','setDescripcion','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemName','11296dAQRYq','getElementsByClassName','arrayBuffer','display','setItemTaxCode','filter','setItemType','setPrice','exportItems','toLowerCase','setItemCode','setCost','newItem_proditems_container','slice','\x22\x20value=\x22','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','.removeGroup','setItemDescription','newItem_branches_container','forEach','hidden','transaction','name','.priceInput','join','inputItemName','closest','setItemDateExpiry','Nuevo\x20Producto','return\x20(function()\x20','true','setImpuestos','.prod_input_container','sort','_comp_container','remove-tag','setIdProducto','</div>','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','newItem_btn_addVariantGroup','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','Plantilla-Items-Export-','preventDefault','.unitAlias','setCostUSD','entries','setMarca','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','fill','checked','stopPropagation','dragover','add','modalProductNewTitle','console','./excel/Plantilla-Items.xlsx','style','setItemWarehouses','PEN'];_0x5df4=function(){return _0x4f0e26;};return _0x5df4();}let newItemsExcel=null;const itemWorker=new Worker(_0x4d8d9e(0x336)),dropZone=document['getElementById'](_0x4d8d9e(0x2a3)),removeBtn=document['getElementById']('remove-file');function showModalCreateItem(_0x1b72ac){var _0x446336=_0x4d8d9e;const _0x5bdab5=document[_0x446336(0x2ca)](_0x446336(0x2c9)),_0x274e54=document['getElementById'](_0x446336(0x1ff));_0x5bdab5[_0x446336(0x2d7)][_0x446336(0x290)](_0x446336(0x2ae)),_0x274e54[_0x446336(0x294)][_0x446336(0x25f)]=_0x446336(0x2d9);const _0x16e0d2=document['getElementById'](_0x446336(0x322));_0x16e0d2[_0x446336(0x1f1)]=parseInt(_0x1b72ac),baseItem['setItemFree']=parseInt(_0x1b72ac);const _0x31d7fa=document[_0x446336(0x2ca)](_0x446336(0x291));_0x1b72ac==0x0&&(_0x31d7fa['innerHTML']=_0x446336(0x278));_0x1b72ac==0x1&&(_0x31d7fa[_0x446336(0x216)]=_0x446336(0x2f7));const _0x3ddfc0=document[_0x446336(0x25d)](_0x446336(0x224));for(let _0x4ddca7=0x0;_0x4ddca7<_0x3ddfc0[_0x446336(0x20e)];_0x4ddca7++){const _0x434d67=_0x3ddfc0[_0x4ddca7];if(_0x1b72ac==0x0)_0x434d67[_0x446336(0x2d7)][_0x446336(0x1f2)](_0x446336(0x270));else _0x1b72ac==0x1&&_0x434d67[_0x446336(0x2d7)][_0x446336(0x290)]('hidden');}}function hideModalCreateItem(){var _0x2dd699=_0x4d8d9e;const _0x33eb80=document[_0x2dd699(0x2ca)](_0x2dd699(0x2c9)),_0x50300b=document[_0x2dd699(0x2ca)]('modalOverlayCreateItem');_0x33eb80[_0x2dd699(0x2d7)][_0x2dd699(0x1f2)](_0x2dd699(0x2ae)),_0x50300b['style'][_0x2dd699(0x25f)]=_0x2dd699(0x24a);}document[_0x4d8d9e(0x2ca)]('closeModalCreateItem')[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),hideModalCreateItem),document[_0x4d8d9e(0x2ca)]('modalOverlayCreateItem')[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),_0x2af632=>{var _0xc78f35=_0x4d8d9e;_0x2af632['target']==_0x2af632[_0xc78f35(0x242)]&&_0x2af632[_0xc78f35(0x28e)]();});function loadTaxData(){var _0x5ad2f2=_0x4d8d9e;const _0x37a7ce=document['getElementById'](_0x5ad2f2(0x2cb));_0x37a7ce[_0x5ad2f2(0x216)]='',company[0x0][_0x5ad2f2(0x27b)][_0x5ad2f2(0x26f)](function(_0x5b932f){var _0x1818ca=_0x5ad2f2;const _0x11ac76=document[_0x1818ca(0x22a)](_0x1818ca(0x2f9));_0x11ac76[_0x1818ca(0x1f1)]=_0x5b932f[_0x1818ca(0x237)],_0x11ac76['innerHTML']=_0x5b932f[_0x1818ca(0x2ba)]+'\x20('+_0x5b932f[_0x1818ca(0x2b5)]+'%)',_0x5b932f[_0x1818ca(0x237)]==company[0x0][_0x1818ca(0x2dd)]&&(_0x11ac76[_0x1818ca(0x248)]=!![]),_0x37a7ce[_0x1818ca(0x21b)](_0x11ac76);});}function uniqueValuesArray(_0xd775c9,_0x3d5c9e,_0x521c4c){var _0x49276e=_0x4d8d9e;const _0x3d5732=Array[_0x49276e(0x32f)](new Set(_0x521c4c[_0x49276e(0x1f7)](_0x30c57e=>{var _0x21a1d9=_0x49276e;const _0x5bff89=_0x30c57e[_0xd775c9];return typeof _0x5bff89===_0x21a1d9(0x308)?_0x5bff89[_0x21a1d9(0x232)]():_0x5bff89;})[_0x49276e(0x261)](_0x1ce509=>_0x1ce509!=null&&_0x1ce509!=='')));return _0x3d5732[_0x49276e(0x1f7)](_0x137948=>{var _0x194ed8=_0x49276e;const _0x38c0fe=_0x521c4c[_0x194ed8(0x31f)](_0x36d262=>_0x36d262[_0xd775c9]===_0x137948),_0x190bea=_0x38c0fe&&_0x38c0fe[_0x3d5c9e]!=null?String(_0x38c0fe[_0x3d5c9e])[_0x194ed8(0x232)]():_0x137948;return{'setCode':_0x137948,'setName':_0x190bea};});}function fillSelect(_0x248c1a,_0x1a66a9,_0x46813a,_0x585bbe){var _0x1f776d=_0x4d8d9e;_0x248c1a[_0x1f776d(0x216)]='',_0x1a66a9[_0x1f776d(0x26f)](function(_0x530358){var _0x471660=_0x1f776d,_0x4c7b0c=new Option(_0x530358[_0x585bbe],_0x530358[_0x46813a]);_0x248c1a[_0x471660(0x290)](_0x4c7b0c);});}function initMulti(_0x397c7d,_0x254855){var _0x2785fa=_0x4d8d9e,_0x508bb3=document[_0x2785fa(0x2ca)](_0x397c7d),_0x442012=_0x508bb3['querySelector']('.ms_input'),_0x5b3219=_0x508bb3['querySelector'](_0x2785fa(0x24b)),_0x58439b=_0x508bb3['querySelector'](_0x2785fa(0x335)),_0x1ac489=_0x254855[_0x2785fa(0x269)](),_0x5388a6=[];function _0x2b06df(){var _0x1775a8=_0x2785fa;_0x5b3219[_0x1775a8(0x216)]='',_0x1ac489[_0x1775a8(0x261)](function(_0x1a3dcd){var _0x580fce=_0x1775a8;return _0x1a3dcd[_0x580fce(0x241)][_0x580fce(0x265)]()[_0x580fce(0x221)](_0x442012[_0x580fce(0x1f1)][_0x580fce(0x265)]())!==-0x1;})['forEach'](function(_0x348fb7){var _0x2a58f1=_0x1775a8,_0x11c9aa=document[_0x2a58f1(0x22a)]('div');_0x11c9aa[_0x2a58f1(0x320)]=_0x348fb7['setName'],_0x11c9aa[_0x2a58f1(0x29a)][_0x2a58f1(0x21d)]=_0x348fb7['setCode'],_0x5b3219[_0x2a58f1(0x21b)](_0x11c9aa),_0x11c9aa[_0x2a58f1(0x326)](_0x2a58f1(0x2d0),function(){var _0x325952=_0x2a58f1;_0x5388a6['push'](_0x348fb7),_0x1ac489['splice'](_0x1ac489[_0x325952(0x1fa)](function(_0x211cb9){var _0x4b1bbb=_0x325952;return _0x211cb9[_0x4b1bbb(0x321)]===_0x348fb7['setCode'];}),0x1),_0x442012['value']='',_0x4e9242(),_0x2b06df();});});}function _0x4e9242(){var _0x1677b2=_0x2785fa;_0x58439b[_0x1677b2(0x216)]='',_0x5388a6[_0x1677b2(0x26f)](function(_0x1b0eb6){var _0x3dd8e2=_0x1677b2,_0x30ff26=document[_0x3dd8e2(0x22a)](_0x3dd8e2(0x2c5));_0x30ff26[_0x3dd8e2(0x33c)]=_0x3dd8e2(0x23e),_0x30ff26[_0x3dd8e2(0x320)]=_0x1b0eb6['setName'];var _0x11a683=document[_0x3dd8e2(0x22a)]('span');_0x11a683[_0x3dd8e2(0x33c)]=_0x3dd8e2(0x27f),_0x11a683[_0x3dd8e2(0x320)]='×',_0x11a683[_0x3dd8e2(0x326)]('click',function(){var _0x2f882d=_0x3dd8e2;_0x1ac489['push'](_0x1b0eb6);const _0x1e610e=_0x5388a6[_0x2f882d(0x1fa)](function(_0x3bc026){var _0xdfa533=_0x2f882d;return _0x3bc026[_0xdfa533(0x321)]===_0x1b0eb6[_0xdfa533(0x321)];});if(_0x1e610e>-0x1)_0x5388a6['splice'](_0x1e610e,0x1);_0x4e9242(),_0x2b06df();}),_0x30ff26[_0x3dd8e2(0x21b)](_0x11a683),_0x58439b[_0x3dd8e2(0x21b)](_0x30ff26);}),_0x508bb3['dispatchEvent'](new CustomEvent('selectionChange',{'detail':_0x5388a6,'bubbles':!![]}));}return _0x442012[_0x2785fa(0x326)]('focus',function(){var _0x3bc5ca=_0x2785fa;_0x5b3219[_0x3bc5ca(0x2d7)][_0x3bc5ca(0x1f2)](_0x3bc5ca(0x201));}),_0x442012[_0x2785fa(0x326)]('input',_0x2b06df),_0x442012[_0x2785fa(0x326)](_0x2785fa(0x2b4),function(_0x3626f6){var _0x5d52b9=_0x2785fa;if(_0x3626f6['key']===_0x5d52b9(0x2d3)){_0x3626f6[_0x5d52b9(0x286)]();const _0x33950d=_0x442012[_0x5d52b9(0x1f1)][_0x5d52b9(0x232)]();if(!_0x33950d)return;const _0x528ccd=_0x5388a6[_0x5d52b9(0x2b0)](_0x24b6cf=>_0x24b6cf[_0x5d52b9(0x241)]===_0x33950d),_0x1662ef=_0x1ac489[_0x5d52b9(0x2b0)](_0x1637aa=>_0x1637aa[_0x5d52b9(0x241)]===_0x33950d);if(!_0x528ccd&&!_0x1662ef){const _0x2a2176={'setCode':_0x33950d,'setName':_0x33950d};_0x5388a6['push'](_0x2a2176),_0x4e9242(),_0x2b06df();}_0x442012[_0x5d52b9(0x1f1)]='';}}),document['addEventListener'](_0x2785fa(0x2d0),function(_0xd1c920){var _0x378fb4=_0x2785fa;if(!_0x508bb3[_0x378fb4(0x1f5)](_0xd1c920[_0x378fb4(0x215)]))_0x5b3219[_0x378fb4(0x2d7)]['add'](_0x378fb4(0x201));}),_0x2b06df(),_0x5388a6;}function getLastCode(_0x4a6b5c){var _0x2a4b69=_0x4d8d9e;const _0x4c0f45=_0x4a6b5c[_0x2a4b69(0x1f7)](_0x348349=>String(_0x348349[_0x2a4b69(0x2e3)])[_0x2a4b69(0x232)]())[_0x2a4b69(0x261)](_0x435ec2=>_0x435ec2!=='');if(_0x4c0f45[_0x2a4b69(0x20e)]===0x0)return'';const _0x42846f=_0x4c0f45[_0x2a4b69(0x244)](_0x325343=>/^\d+$/[_0x2a4b69(0x2ef)](_0x325343));if(_0x42846f){const _0xb20761=_0x4c0f45[_0x2a4b69(0x1f7)](Number),_0x12083a=Math[_0x2a4b69(0x256)](..._0xb20761);return String(_0x12083a);}let _0x4e9581;if(typeof Intl!==_0x2a4b69(0x2e4)&&Intl[_0x2a4b69(0x2f0)]){const _0x1efa0c=new Intl[(_0x2a4b69(0x2f0))](undefined,{'numeric':!![],'sensitivity':_0x2a4b69(0x24d)});_0x4e9581=_0x4c0f45['slice']()[_0x2a4b69(0x27d)](_0x1efa0c[_0x2a4b69(0x301)]);}else{const _0x473d4c=_0x4c0f45[_0x2a4b69(0x244)](_0x2c8682=>/^\d+$/['test'](_0x2c8682));_0x473d4c?_0x4e9581=_0x4c0f45['map'](Number)[_0x2a4b69(0x27d)]((_0xad4dd9,_0x21022f)=>_0xad4dd9-_0x21022f)[_0x2a4b69(0x1f7)](String):_0x4e9581=_0x4c0f45[_0x2a4b69(0x269)]()[_0x2a4b69(0x27d)]();}return _0x4e9581[_0x4e9581[_0x2a4b69(0x20e)]-0x1];}function getNextCode(_0x360dcf){var _0x4cf591=_0x4d8d9e;const _0x12b12e=getLastCode(_0x360dcf);if(!_0x12b12e)return'';if(/^\d+$/[_0x4cf591(0x2ef)](_0x12b12e))return String(Number(_0x12b12e)+0x1);const _0x261b65=_0x12b12e['match'](/^([A-Za-z]*)(\d+)$/);if(_0x261b65){const [,_0x4db222,_0x28d90e]=_0x261b65,_0x63616c=String(Number(_0x28d90e)+0x1)['padStart'](_0x28d90e[_0x4cf591(0x20e)],'0');return _0x4db222+_0x63616c;}return _0x12b12e;}document['getElementById'](_0x4d8d9e(0x275))['addEventListener'](_0x4d8d9e(0x228),function(_0x44874e){var _0x53bc1c=_0x4d8d9e;baseItem['setItemName']=_0x44874e[_0x53bc1c(0x215)]['value'];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x30d))[_0x4d8d9e(0x326)](_0x4d8d9e(0x228),function(_0x21193a){var _0x1914f6=_0x4d8d9e;baseItem[_0x1914f6(0x26d)]=_0x21193a[_0x1914f6(0x215)]['value'];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x2c0))[_0x4d8d9e(0x326)](_0x4d8d9e(0x228),function(_0x575d6d){var _0x34b12c=_0x4d8d9e;baseItem[_0x34b12c(0x277)]=_0x575d6d[_0x34b12c(0x215)][_0x34b12c(0x1f1)];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x311))[_0x4d8d9e(0x326)](_0x4d8d9e(0x2c3),function(_0x5a9b32){var _0xf45578=_0x4d8d9e;baseItem[_0xf45578(0x262)]=_0x5a9b32['target']['value'];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x2cb))[_0x4d8d9e(0x326)]('change',function(_0x57fb3d){var _0x38c3a8=_0x4d8d9e;baseItem['setItemTaxId']=_0x57fb3d[_0x38c3a8(0x215)][_0x38c3a8(0x1f1)];const _0x426afc=_0x57fb3d[_0x38c3a8(0x215)][_0x38c3a8(0x1f1)],_0x4ee02c=company[0x0]['setImpuestos']['find'](_0x18deaa=>_0x18deaa[_0x38c3a8(0x237)]==_0x426afc)?.[_0x38c3a8(0x2ec)]||0x0,_0x1c04e9=company[0x0]['setImpuestos'][_0x38c3a8(0x31f)](_0x2ed6a9=>_0x2ed6a9[_0x38c3a8(0x237)]==_0x426afc)?.[_0x38c3a8(0x2b5)]||0x0;baseItem[_0x38c3a8(0x260)]=_0x4ee02c,baseItem[_0x38c3a8(0x239)]=_0x1c04e9;}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x1f8))[_0x4d8d9e(0x326)](_0x4d8d9e(0x2c3),function(_0x13ab15){var _0x905a66=_0x4d8d9e;baseItem[_0x905a66(0x23a)]=_0x13ab15[_0x905a66(0x215)]['checked'];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x22f))['addEventListener']('change',function(_0x48ceaa){var _0x47e014=_0x4d8d9e;baseItem[_0x47e014(0x2df)]=_0x48ceaa['target'][_0x47e014(0x28d)];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x20f))['addEventListener'](_0x4d8d9e(0x228),function(_0x5b7631){var _0x5d0cbf=_0x4d8d9e;baseItem[_0x5d0cbf(0x266)]=_0x5b7631['target'][_0x5d0cbf(0x1f1)];}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x2bd))[_0x4d8d9e(0x326)](_0x4d8d9e(0x228),function(_0x215ddb){var _0xd8200d=_0x4d8d9e;baseItem[_0xd8200d(0x312)]=_0x215ddb['target']['value'];}),document[_0x4d8d9e(0x2ca)]('newItem_btn_addUnit')['addEventListener'](_0x4d8d9e(0x2d0),function(){addUnit(),updateUnitsArray();}),document[_0x4d8d9e(0x2ca)](_0x4d8d9e(0x20f))[_0x4d8d9e(0x326)](_0x4d8d9e(0x2bc),function(){var _0x26bef4=_0x4d8d9e;const _0x3aed46=this[_0x26bef4(0x1f1)]['trim']();if(_0x3aed46==='')return;const _0x465c95=products[_0x26bef4(0x2b0)](_0x2ab503=>_0x2ab503[_0x26bef4(0x2e3)]==_0x3aed46),_0x59c096=getLastCode(products);_0x465c95?ntfShow(_0x26bef4(0x2e5)+_0x59c096,0x2,0x1):ntfShow(_0x26bef4(0x2d5),0x1,0x1);});function removeImg(_0x3dd035){var _0x32b7d6=_0x4d8d9e;currentImages[_0x3dd035]=null;var _0x16d508=imgC['querySelector'](_0x32b7d6(0x202)+_0x3dd035+'\x22]');_0x16d508['innerHTML']='';var _0x366316=document[_0x32b7d6(0x22a)]('input');_0x366316[_0x32b7d6(0x21f)]='file',_0x366316['accept']=_0x32b7d6(0x31a),_0x366316['style']['display']=_0x32b7d6(0x24a);var _0x19b330=document[_0x32b7d6(0x22a)](_0x32b7d6(0x253));_0x19b330[_0x32b7d6(0x320)]='+',_0x16d508[_0x32b7d6(0x21b)](_0x366316),_0x16d508[_0x32b7d6(0x21b)](_0x19b330),_0x16d508[_0x32b7d6(0x326)](_0x32b7d6(0x2d0),function(){var _0x38fdaf=_0x32b7d6;_0x366316[_0x38fdaf(0x2d0)]();}),baseItem[_0x32b7d6(0x23c)]=currentImages[_0x32b7d6(0x261)](function(_0x4142e7){return _0x4142e7;});}function addUnit(_0x4cb15e,_0xe39edc,_0xa6f1a7,_0x3cff87,_0xf95e81,_0x3afee9,_0x3f077a){var _0x30178a=_0x4d8d9e,_0x36fd46=uniqueValuesArray('setUnitCode',_0x30178a(0x33d),myCompany[_0x30178a(0x337)]);_0x4cb15e=_0x4cb15e||'',_0xe39edc=_0xe39edc||_0x36fd46[0x3a]&&_0x36fd46[0x3a][_0x30178a(0x321)]||'',_0xa6f1a7=_0xa6f1a7!==undefined?_0xa6f1a7:0x1,_0x3cff87=!!_0x3cff87,_0xf95e81=_0xf95e81||'',_0x3afee9=_0x3afee9||'';var _0xe39f67=unitCount++,_0x90b04a=document[_0x30178a(0x22a)](_0x30178a(0x2c5));_0x90b04a[_0x30178a(0x29a)]['idx']=_0xe39f67,_0x90b04a[_0x30178a(0x29a)]['default']=_0x3cff87,_0x90b04a[_0x30178a(0x216)]=_0x30178a(0x24f)+_0xe39f67+_0x30178a(0x26a)+_0x4cb15e+_0x30178a(0x328)+_0xe39f67+_0x30178a(0x1f0)+_0xe39f67+'\x22\x20value=\x22'+_0xa6f1a7+'\x22\x20'+(_0x3cff87?_0x30178a(0x220):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0xe39f67+'\x22\x20value=\x22'+_0xf95e81+_0x30178a(0x302)+_0xe39f67+_0x30178a(0x26a)+_0x3afee9+_0x30178a(0x2fe)+(_0x3cff87?_0x30178a(0x30b):'')+_0x30178a(0x329),fillSelect(_0x90b04a['querySelector'](_0x30178a(0x206)),_0x36fd46,_0x30178a(0x321),_0x30178a(0x241)),_0x90b04a['querySelector'](_0x30178a(0x206))[_0x30178a(0x1f1)]=_0xe39edc,[_0x30178a(0x2e6),_0x30178a(0x231),_0x30178a(0x325),_0x30178a(0x2c1),_0x30178a(0x207)][_0x30178a(0x26f)](function(_0x44994b){var _0x101632=_0x30178a;_0x90b04a[_0x101632(0x22c)]('.'+_0x44994b)['addEventListener'](_0x101632(0x228),function(){var _0x4c4ce2=_0x101632,_0xdd164=_0x3f077a?+_0x3f077a['id'][_0x4c4ce2(0x20d)]('_')[0x1]:null;if(_0x3f077a)updateVariantUnits(_0xdd164);else updateUnitsArray();});}),_0x90b04a[_0x30178a(0x22c)](_0x30178a(0x2ee))[_0x30178a(0x326)]('click',function(){var _0x51ec48=_0x30178a;_0x90b04a[_0x51ec48(0x1f2)]();var _0x1ffa1f=_0x3f077a?+_0x3f077a['id'][_0x51ec48(0x20d)]('_')[0x1]:null;if(_0x3f077a)updateVariantUnits(_0x1ffa1f);else updateUnitsArray();});var _0x47757c=_0x3f077a||document[_0x30178a(0x2ca)](_0x30178a(0x29f));_0x47757c[_0x30178a(0x21b)](_0x90b04a);}function containerIdx(_0x599b74){var _0x13ce45=_0x4d8d9e;return+_0x599b74['id'][_0x13ce45(0x20d)]('_')[0x1];}function updateUnitsArray(){var _0x160ffe=_0x4d8d9e,_0x465fe1=[],_0x353b47=Array[_0x160ffe(0x32f)](document['querySelectorAll'](_0x160ffe(0x251))),_0xe2cd07=_0x353b47[_0x160ffe(0x31f)](_0x31433c=>_0x31433c[_0x160ffe(0x29a)][_0x160ffe(0x2e2)]==='true'),_0x1183c0=_0xe2cd07?+_0xe2cd07[_0x160ffe(0x22c)](_0x160ffe(0x32a))['value']:0x1;_0x353b47[_0x160ffe(0x26f)](function(_0x31c1a2){var _0x23c329=_0x160ffe,_0x2371d6=+_0x31c1a2['querySelector']('.eqInput')['value']||0x0,_0x3064db=+_0x31c1a2[_0x23c329(0x22c)](_0x23c329(0x273))[_0x23c329(0x1f1)]||0x0,_0x187552=+_0x31c1a2['querySelector']('.costInput')[_0x23c329(0x1f1)]||0x0;_0x465fe1[_0x23c329(0x2ad)]({'setAlias':_0x31c1a2[_0x23c329(0x22c)](_0x23c329(0x287))[_0x23c329(0x1f1)][_0x23c329(0x232)](),'setUnitCode':_0x31c1a2[_0x23c329(0x22c)](_0x23c329(0x206))[_0x23c329(0x1f1)],'setEquivalence':_0x2371d6,'setFactor':_0x31c1a2[_0x23c329(0x29a)][_0x23c329(0x2e2)]==='true'?0x1:_0x2371d6==_0x1183c0?0x1:_0x2371d6<_0x1183c0?_0x1183c0/_0x2371d6:_0x2371d6/_0x1183c0,'setPrice':_0x3064db,'setCost':_0x187552,'setDefault':_0x31c1a2[_0x23c329(0x29a)][_0x23c329(0x2e2)]===_0x23c329(0x27a)?0x1:0x0});}),baseItem[_0x160ffe(0x2ed)]=_0x465fe1;}function updateBranches(){var _0x2a7b85=_0x4d8d9e,_0x4b9395=[];document[_0x2a7b85(0x32b)](_0x2a7b85(0x2eb))[_0x2a7b85(0x26f)](function(_0x4e7f6f){var _0x5d21c2=_0x2a7b85,_0x434d36=_0x4e7f6f[_0x5d21c2(0x22c)](_0x5d21c2(0x2a2));if(_0x434d36['checked']){var _0x2a268f=+_0x434d36['dataset']['id'],_0x40533c=+_0x4e7f6f[_0x5d21c2(0x22c)](_0x5d21c2(0x2cd))[_0x5d21c2(0x1f1)],_0x405dd8=+_0x4e7f6f[_0x5d21c2(0x22c)](_0x5d21c2(0x2d6))[_0x5d21c2(0x1f1)];_0x4b9395['push']({'setWarehouseCode':_0x2a268f,'setStockInitial':_0x40533c,'setStockMinimum':_0x405dd8});}}),baseItem[_0x2a7b85(0x295)]=_0x4b9395;}document['getElementById'](_0x4d8d9e(0x30a))['addEventListener']('click',function(){var _0x5dc750=_0x4d8d9e,_0x3b1585=Date['now'](),_0x28ac5b=document[_0x5dc750(0x22a)](_0x5dc750(0x2c5));_0x28ac5b[_0x5dc750(0x29a)][_0x5dc750(0x341)]=_0x3b1585,_0x28ac5b[_0x5dc750(0x216)]=_0x5dc750(0x2fb)+_0x3b1585+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x3b1585+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x5dc750(0x21b)](_0x28ac5b),initProdSearch(_0x28ac5b['querySelector'](_0x5dc750(0x27c))),_0x28ac5b[_0x5dc750(0x22c)](_0x5dc750(0x2c7))[_0x5dc750(0x326)]('click',function(){var _0x3c6bff=_0x5dc750;_0x28ac5b[_0x3c6bff(0x1f2)](),updateProdItems();}),_0x28ac5b[_0x5dc750(0x22c)](_0x5dc750(0x2a1))[_0x5dc750(0x326)](_0x5dc750(0x228),updateProdItems),document[_0x5dc750(0x2ca)](_0x5dc750(0x23f))[_0x5dc750(0x2d7)][_0x5dc750(0x255)](_0x5dc750(0x1fd),!![]),document[_0x5dc750(0x2ca)]('newItem_title_table_cp')[_0x5dc750(0x2d7)][_0x5dc750(0x255)](_0x5dc750(0x201),![]);});function initProdSearch(_0x9dbf4f,_0x4720dd){var _0x2f6176=_0x4d8d9e,_0x4bf552=_0x9dbf4f[_0x2f6176(0x22c)](_0x2f6176(0x299)),_0x4d282f=_0x9dbf4f[_0x2f6176(0x22c)](_0x2f6176(0x24b)),_0x48e15a=_0x4720dd||null;if(_0x4720dd)_0x4bf552[_0x2f6176(0x1f1)]=_0x4720dd[_0x2f6176(0x272)];_0x4bf552[_0x2f6176(0x326)](_0x2f6176(0x228),function(){var _0x57b867=_0x2f6176,_0x364a1f=_0x4bf552[_0x57b867(0x1f1)][_0x57b867(0x265)]()[_0x57b867(0x232)]();_0x4d282f[_0x57b867(0x216)]='';if(!_0x364a1f)return;products['filter'](_0x455e5f=>_0x455e5f[_0x57b867(0x259)][_0x57b867(0x265)]()[_0x57b867(0x222)](_0x364a1f))['slice'](0x0,0x14)[_0x57b867(0x26f)](function(_0x39cb82){var _0x3e2c1a=_0x57b867,_0x1aad85=document['createElement'](_0x3e2c1a(0x2c5));_0x1aad85[_0x3e2c1a(0x320)]=_0x39cb82[_0x3e2c1a(0x259)],_0x1aad85[_0x3e2c1a(0x29a)]['id']=_0x39cb82['id'],_0x1aad85[_0x3e2c1a(0x29a)][_0x3e2c1a(0x272)]=_0x39cb82[_0x3e2c1a(0x259)],_0x4d282f[_0x3e2c1a(0x21b)](_0x1aad85),_0x1aad85[_0x3e2c1a(0x326)](_0x3e2c1a(0x2d0),function(){var _0x2032a3=_0x3e2c1a;_0x48e15a={'id':_0x39cb82['id'],'name':_0x39cb82['setDescripcion']},_0x4bf552[_0x2032a3(0x1f1)]=_0x39cb82['setDescripcion'],_0x4d282f[_0x2032a3(0x216)]='';var _0x5bae9b=_0x9dbf4f[_0x2032a3(0x276)](_0x2032a3(0x234));if(_0x5bae9b){var _0x26d844=+_0x5bae9b['id'][_0x2032a3(0x20d)]('_')[0x1];updateVariantComponents(_0x26d844);}else updateProdItems();});});}),_0x4bf552[_0x2f6176(0x326)]('focus',function(){var _0x3d0057=_0x2f6176;_0x4d282f['classList'][_0x3d0057(0x1f2)](_0x3d0057(0x201));}),document['addEventListener'](_0x2f6176(0x2d0),function(_0x42d61a){var _0x5afd12=_0x2f6176;if(!_0x9dbf4f['contains'](_0x42d61a[_0x5afd12(0x215)]))_0x4d282f[_0x5afd12(0x2d7)][_0x5afd12(0x290)](_0x5afd12(0x201));}),Object[_0x2f6176(0x309)](_0x9dbf4f,_0x2f6176(0x2d4),{'get':()=>_0x48e15a});}function updateProdItems(){var _0x12d1d1=_0x4d8d9e,_0x357c1d=[];Array['from'](prodC[_0x12d1d1(0x333)])[_0x12d1d1(0x26f)](function(_0x147a23){var _0x35ec22=_0x12d1d1,_0x29428b=_0x147a23[_0x35ec22(0x22c)](_0x35ec22(0x27c));if(!_0x29428b)return;var _0x203972=_0x147a23[_0x35ec22(0x22c)]('.prodQty'),_0x12063e=_0x29428b['selectedItem'];_0x12063e&&_0x357c1d[_0x35ec22(0x2ad)]({'setItemId':_0x12063e['id'],'setDescripcion':_0x12063e[_0x35ec22(0x272)],'setCantidad':+_0x203972[_0x35ec22(0x1f1)]});}),baseItem[_0x12d1d1(0x31e)]=_0x357c1d,_0x357c1d['length']===0x0&&(document[_0x12d1d1(0x2ca)](_0x12d1d1(0x23f))['classList'][_0x12d1d1(0x255)](_0x12d1d1(0x1fd),![]),document[_0x12d1d1(0x2ca)](_0x12d1d1(0x23f))[_0x12d1d1(0x2d7)]['toggle']('newItem_hidden',!![]));}document['getElementById'](_0x4d8d9e(0x283))[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),function(){var _0x9df005=_0x4d8d9e,_0x42a07b=vgCount++,_0x2ae74f=document[_0x9df005(0x22a)](_0x9df005(0x2c5));_0x2ae74f[_0x9df005(0x29a)][_0x9df005(0x341)]=_0x42a07b,_0x2ae74f[_0x9df005(0x216)]=_0x9df005(0x22d)+_0x42a07b+'\x22>'+_0x9df005(0x2d8)+_0x42a07b+'\x22>'+_0x9df005(0x23d),vgC[_0x9df005(0x21b)](_0x2ae74f),_0x2ae74f[_0x9df005(0x22c)](_0x9df005(0x2b9))['addEventListener']('blur',generateVariants),_0x2ae74f['querySelector'](_0x9df005(0x2f5))['addEventListener']('blur',generateVariants),_0x2ae74f[_0x9df005(0x22c)](_0x9df005(0x26c))[_0x9df005(0x326)](_0x9df005(0x2d0),function(){var _0x4886be=_0x9df005;_0x2ae74f[_0x4886be(0x1f2)](),generateVariants();});});function generateVariants(){var _0x5a7abb=_0x4d8d9e,_0x8d6c4f=[];vgC[_0x5a7abb(0x32b)]('div')[_0x5a7abb(0x26f)](function(_0x579679){var _0x3d3637=_0x5a7abb,_0x182382=_0x579679['querySelector'](_0x3d3637(0x2b9))[_0x3d3637(0x1f1)][_0x3d3637(0x232)](),_0x1d290f=_0x579679[_0x3d3637(0x22c)](_0x3d3637(0x2f5))[_0x3d3637(0x1f1)]['split'](',')['map'](_0x22a75c=>_0x22a75c[_0x3d3637(0x232)]())[_0x3d3637(0x261)](_0x513b1d=>_0x513b1d);if(_0x182382&&_0x1d290f[_0x3d3637(0x20e)])_0x8d6c4f[_0x3d3637(0x2ad)]({'name':_0x182382,'vals':_0x1d290f});});var _0x32943f=[{}];_0x8d6c4f[_0x5a7abb(0x26f)](function(_0x394250){var _0x99ea0c=_0x5a7abb;_0x32943f=_0x32943f[_0x99ea0c(0x1f4)](function(_0x1ce6fb){var _0x353588=_0x99ea0c;return _0x394250['vals'][_0x353588(0x1f7)](function(_0x4f5c38){var _0x157888=_0x353588,_0x2531f1=Object['assign']({},_0x1ce6fb);return _0x2531f1[_0x394250[_0x157888(0x272)]]=_0x4f5c38,_0x2531f1;});});}),newItems=[],varContainer['innerHTML']='',_0x32943f[_0x5a7abb(0x26f)](function(_0x239f4d,_0x1059ca){var _0x351f65=_0x5a7abb,_0xf2b1ff=JSON[_0x351f65(0x2fd)](JSON[_0x351f65(0x2de)](baseItem));_0xf2b1ff[_0x351f65(0x314)]=_0x239f4d,_0xf2b1ff['setItemVariantName']=baseItem[_0x351f65(0x25b)]+'\x20'+Object[_0x351f65(0x289)](_0x239f4d)[_0x351f65(0x1f7)](_0x49bd25=>_0x49bd25[0x0]+'\x20'+_0x49bd25[0x1])[_0x351f65(0x274)]('\x20'),newItems[_0x351f65(0x2ad)](_0xf2b1ff);var _0x50572c=document[_0x351f65(0x22a)](_0x351f65(0x2c5));_0x50572c['classList']['add'](_0x351f65(0x235)),_0x50572c[_0x351f65(0x29a)][_0x351f65(0x341)]=_0x1059ca,_0x50572c['innerHTML']='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0xf2b1ff['setItemVariantName']+_0x351f65(0x2e1)+_0xf2b1ff[_0x351f65(0x266)]+_0x351f65(0x303)+_0xf2b1ff[_0x351f65(0x312)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0xf2b1ff['setItemDateExpiry']+_0x351f65(0x25a)+_0x1059ca+_0x351f65(0x28b)+_0x1059ca+_0x351f65(0x324)+_0x1059ca+_0x351f65(0x330),varContainer[_0x351f65(0x21b)](_0x50572c),_0x50572c[_0x351f65(0x22c)](_0x351f65(0x310))['addEventListener'](_0x351f65(0x228),_0x566b0b=>newItems[_0x1059ca][_0x351f65(0x266)]=_0x566b0b[_0x351f65(0x215)][_0x351f65(0x1f1)]),_0x50572c['querySelector']('.variantBarCode')[_0x351f65(0x326)](_0x351f65(0x228),_0x536354=>newItems[_0x1059ca][_0x351f65(0x312)]=_0x536354[_0x351f65(0x215)][_0x351f65(0x1f1)]),_0x50572c[_0x351f65(0x22c)](_0x351f65(0x2b6))['addEventListener']('change',_0x3e0c9f=>newItems[_0x1059ca][_0x351f65(0x277)]=_0x3e0c9f[_0x351f65(0x215)]['value']),initVariantUnits(_0x1059ca),initVariantComponents(_0x1059ca),initVariantBranches(_0x1059ca),_0x50572c[_0x351f65(0x22c)]('.removeVariant')['addEventListener'](_0x351f65(0x2d0),function(){var _0x5831e9=_0x351f65,_0x455716=+_0x50572c[_0x5831e9(0x29a)][_0x5831e9(0x341)];newItems['splice'](_0x455716,0x1),_0x50572c[_0x5831e9(0x1f2)](),document[_0x5831e9(0x32b)](_0x5831e9(0x1f9))[_0x5831e9(0x26f)](function(_0x1632c1,_0x16d002){var _0x2cd454=_0x5831e9;_0x1632c1[_0x2cd454(0x29a)][_0x2cd454(0x341)]=_0x16d002;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x4b353e){var _0x27e9ff=_0x4d8d9e,_0x12cf3f=document['getElementById'](_0x27e9ff(0x317)+_0x4b353e+_0x27e9ff(0x2b7)),_0x451f27=[];Array[_0x27e9ff(0x32f)](_0x12cf3f[_0x27e9ff(0x333)])[_0x27e9ff(0x26f)](function(_0x159525){var _0x59888d=_0x27e9ff,_0x918702=+_0x159525[_0x59888d(0x22c)](_0x59888d(0x32a))[_0x59888d(0x1f1)]||0x0,_0x33b557=_0x159525[_0x59888d(0x22c)](_0x59888d(0x287))[_0x59888d(0x1f1)][_0x59888d(0x232)](),_0x588f94=_0x159525['querySelector'](_0x59888d(0x206))[_0x59888d(0x1f1)],_0x605dc1=+_0x159525[_0x59888d(0x22c)](_0x59888d(0x273))['value']||0x0,_0x43a974=+_0x159525[_0x59888d(0x22c)]('.costInput')[_0x59888d(0x1f1)]||0x0,_0x774a0c=_0x159525[_0x59888d(0x29a)][_0x59888d(0x2e2)]===_0x59888d(0x27a),_0x7cf719=+_0x12cf3f[_0x59888d(0x22c)](_0x59888d(0x318))[_0x59888d(0x1f1)]||0x1,_0x49fb0b=_0x774a0c?0x1:_0x918702==_0x7cf719?0x1:_0x918702<_0x7cf719?_0x7cf719/_0x918702:_0x918702/_0x7cf719;_0x451f27['push']({'setAlias':_0x33b557,'setUnitCode':_0x588f94,'setEquivalence':_0x918702,'setFactor':_0x49fb0b,'setPrice':_0x605dc1,'setCost':_0x43a974,'setDefault':_0x774a0c?0x1:0x0});}),newItems[_0x4b353e][_0x27e9ff(0x2ed)]=_0x451f27;}function initVariantUnits(_0x2d2239){var _0x494cbb=_0x4d8d9e,_0xe931f3=document[_0x494cbb(0x2ca)]('variant_'+_0x2d2239+'_units_container');_0xe931f3[_0x494cbb(0x216)]='',newItems[_0x2d2239]['setItemUnits'][_0x494cbb(0x26f)](function(_0x16d357){var _0x24bfe1=_0x494cbb;addUnit(_0x16d357[_0x24bfe1(0x2bf)],_0x16d357[_0x24bfe1(0x203)],_0x16d357[_0x24bfe1(0x218)],_0x16d357[_0x24bfe1(0x2dc)],_0x16d357[_0x24bfe1(0x263)],_0x16d357['setCost'],_0xe931f3);}),_0xe931f3[_0x494cbb(0x21a)][_0x494cbb(0x22c)](_0x494cbb(0x30f))[_0x494cbb(0x326)]('click',function(){addUnit('','',0x1,![],'','',_0xe931f3),updateVariantUnits(_0x2d2239);});}function updateVariantUnits(_0x10bb60){var _0x4ff6f8=_0x4d8d9e,_0x59662a=document['getElementById'](_0x4ff6f8(0x317)+_0x10bb60+'_units_container'),_0x3bb19d=_0x59662a['querySelector'](_0x4ff6f8(0x318)),_0x2abcf1=_0x3bb19d?+_0x3bb19d[_0x4ff6f8(0x1f1)]:0x1,_0x5dff71=Array['from'](_0x59662a['children'])[_0x4ff6f8(0x1f7)](function(_0x234909){var _0x3b9a30=_0x4ff6f8,_0x5e24aa=_0x234909[_0x3b9a30(0x22c)](_0x3b9a30(0x287))[_0x3b9a30(0x1f1)][_0x3b9a30(0x232)](),_0x4e5195=_0x234909[_0x3b9a30(0x22c)]('.unitSelect')[_0x3b9a30(0x1f1)],_0x3edf91=+_0x234909['querySelector']('.eqInput')[_0x3b9a30(0x1f1)]||0x0,_0x1cf016=+_0x234909[_0x3b9a30(0x22c)](_0x3b9a30(0x273))[_0x3b9a30(0x1f1)]||0x0,_0x5be88e=+_0x234909['querySelector'](_0x3b9a30(0x2c8))[_0x3b9a30(0x1f1)]||0x0,_0x352200=_0x234909[_0x3b9a30(0x29a)][_0x3b9a30(0x2e2)]===_0x3b9a30(0x27a);return{'setAlias':_0x5e24aa,'setUnitCode':_0x4e5195,'setEquivalence':_0x3edf91,'setFactor':_0x352200?0x1:_0x3edf91==_0x2abcf1?0x1:_0x3edf91<_0x2abcf1?_0x2abcf1/_0x3edf91:_0x3edf91/_0x2abcf1,'setPrice':_0x1cf016,'setCost':_0x5be88e,'setDefault':_0x352200?0x1:0x0};});newItems[_0x10bb60]['setItemUnits']=_0x5dff71;}function initVariantComponents(_0x255188){var _0x719a4e=_0x4d8d9e,_0x1c5a1d=document[_0x719a4e(0x2ca)](_0x719a4e(0x317)+_0x255188+_0x719a4e(0x27e));_0x1c5a1d[_0x719a4e(0x216)]='',newItems[_0x255188]['setItemComponents'][_0x719a4e(0x26f)](function(_0x4ec267){var _0x47ac80=_0x719a4e,_0x1134a6=document['createElement'](_0x47ac80(0x2c5)),_0xc9f7c9=Date['now']();_0x1134a6[_0x47ac80(0x29a)]['idx']=_0xc9f7c9,_0x1134a6[_0x47ac80(0x216)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0xc9f7c9+_0x47ac80(0x284)+_0x4ec267['setCantidad']+_0x47ac80(0x26b),_0x1c5a1d[_0x47ac80(0x21b)](_0x1134a6),initProdSearch(_0x1134a6['querySelector'](_0x47ac80(0x27c)),{'id':_0x4ec267[_0x47ac80(0x252)],'name':_0x4ec267['setDescripcion']}),_0x1134a6[_0x47ac80(0x22c)](_0x47ac80(0x2a1))[_0x47ac80(0x326)]('input',function(){updateVariantComponents(_0x255188);}),_0x1134a6[_0x47ac80(0x22c)](_0x47ac80(0x2ac))['addEventListener']('click',function(){var _0x3dcc30=_0x47ac80;_0x1134a6[_0x3dcc30(0x1f2)](),updateVariantComponents(_0x255188);});}),_0x1c5a1d['parentNode'][_0x719a4e(0x22c)]('.addVariantComp')['addEventListener'](_0x719a4e(0x2d0),function(){var _0x4b5ef5=_0x719a4e,_0x479bbb=document[_0x4b5ef5(0x22a)](_0x4b5ef5(0x2c5)),_0x12c140=Date[_0x4b5ef5(0x331)]();_0x479bbb[_0x4b5ef5(0x29a)][_0x4b5ef5(0x341)]=_0x12c140,_0x479bbb[_0x4b5ef5(0x216)]=_0x4b5ef5(0x30c)+_0x12c140+_0x4b5ef5(0x31b),_0x1c5a1d[_0x4b5ef5(0x21b)](_0x479bbb),initProdSearch(_0x479bbb['querySelector'](_0x4b5ef5(0x27c))),_0x479bbb[_0x4b5ef5(0x22c)](_0x4b5ef5(0x2a1))[_0x4b5ef5(0x326)]('input',function(){updateVariantComponents(_0x255188);}),_0x479bbb[_0x4b5ef5(0x22c)]('.removeCombo')['addEventListener'](_0x4b5ef5(0x2d0),function(){var _0x41eabb=_0x4b5ef5;_0x479bbb[_0x41eabb(0x1f2)](),updateVariantComponents(_0x255188);});});}function updateVariantComponents(_0x2172d1){var _0x9e7a7=_0x4d8d9e,_0x2c1070=document[_0x9e7a7(0x2ca)](_0x9e7a7(0x317)+_0x2172d1+_0x9e7a7(0x27e)),_0x291aed=Array[_0x9e7a7(0x32f)](_0x2c1070[_0x9e7a7(0x333)])[_0x9e7a7(0x1f7)](function(_0x15fef9){var _0x5c06d2=_0x9e7a7,_0x21e5c9=_0x15fef9[_0x5c06d2(0x22c)](_0x5c06d2(0x27c)),_0x19472b=_0x21e5c9[_0x5c06d2(0x2d4)],_0x1d170c=+_0x15fef9['querySelector'](_0x5c06d2(0x2a1))[_0x5c06d2(0x1f1)]||0x0;return _0x19472b?{'setItemId':_0x19472b['id'],'setDescripcion':_0x19472b['name'],'setCantidad':_0x1d170c}:null;})[_0x9e7a7(0x261)](_0x5ea99d=>_0x5ea99d);newItems[_0x2172d1][_0x9e7a7(0x31e)]=_0x291aed;}function initVariantBranches(_0x2f22ef){var _0x5efc67=_0x4d8d9e;const _0x252386=getAllWarehouses();var _0x13becc=document['getElementById'](_0x5efc67(0x317)+_0x2f22ef+_0x5efc67(0x2b3));_0x13becc['innerHTML']='',newItems[_0x2f22ef][_0x5efc67(0x295)][_0x5efc67(0x26f)](function(_0xa6eb68){var _0x58a78a=_0x5efc67,_0x5ab3ed=_0x252386[_0x58a78a(0x31f)](_0xaf598e=>_0xaf598e[_0x58a78a(0x313)]==_0xa6eb68[_0x58a78a(0x2a0)]),_0x4bb5d6=document[_0x58a78a(0x22a)](_0x58a78a(0x2c5));_0x4bb5d6[_0x58a78a(0x216)]=_0x58a78a(0x2aa)+_0xa6eb68[_0x58a78a(0x2a0)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x5ab3ed[_0x58a78a(0x2d1)]+_0x58a78a(0x21c)+_0xa6eb68['setWarehouseCode']+_0x58a78a(0x26a)+_0xa6eb68[_0x58a78a(0x200)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0xa6eb68[_0x58a78a(0x2a0)]+'\x22\x20value=\x22'+_0xa6eb68[_0x58a78a(0x2db)]+'\x22>',_0x13becc['appendChild'](_0x4bb5d6),_0x4bb5d6[_0x58a78a(0x32b)]('input')['forEach'](function(_0x521379){var _0x59eee6=_0x58a78a;_0x521379[_0x59eee6(0x326)]('input',function(){updateVariantBranches(_0x2f22ef);});});}),_0x252386[_0x5efc67(0x26f)](function(_0x1b3e9b){var _0x1906d7=_0x5efc67;if(!newItems[_0x2f22ef]['setItemWarehouses'][_0x1906d7(0x31f)](_0x5c2fae=>_0x5c2fae[_0x1906d7(0x2a0)]===_0x1b3e9b[_0x1906d7(0x313)])){var _0x38a77a=document['createElement'](_0x1906d7(0x2c5));_0x38a77a[_0x1906d7(0x216)]=_0x1906d7(0x2aa)+_0x1b3e9b[_0x1906d7(0x313)]+_0x1906d7(0x1f3)+_0x1b3e9b['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1b3e9b[_0x1906d7(0x313)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1b3e9b[_0x1906d7(0x313)]+'\x22>',_0x13becc['appendChild'](_0x38a77a),_0x38a77a['querySelectorAll']('input')['forEach'](function(_0x324b0b){var _0x5a551f=_0x1906d7;_0x324b0b[_0x5a551f(0x326)](_0x5a551f(0x228),function(){updateVariantBranches(_0x2f22ef);});});}});}function updateVariantBranches(_0x192b26){var _0x1d264e=_0x4d8d9e,_0xf49508=document['getElementById'](_0x1d264e(0x317)+_0x192b26+_0x1d264e(0x2b3)),_0x3df474=[];_0xf49508[_0x1d264e(0x32b)]('div')[_0x1d264e(0x26f)](function(_0x48ad8b){var _0x193d21=_0x1d264e,_0x493af1=_0x48ad8b[_0x193d21(0x22c)](_0x193d21(0x2a2));if(_0x493af1[_0x193d21(0x28d)]){var _0x387def=+_0x493af1['dataset']['id'],_0x537edc=+_0x48ad8b[_0x193d21(0x22c)]('.branchInit')['value']||0x0,_0x2440a5=+_0x48ad8b['querySelector'](_0x193d21(0x2d6))[_0x193d21(0x1f1)]||0x0;_0x3df474[_0x193d21(0x2ad)]({'setWarehouseCode':_0x387def,'setStockInitial':_0x537edc,'setStockMinimum':_0x2440a5});}}),newItems[_0x192b26][_0x1d264e(0x295)]=_0x3df474;}async function storeOfflineProduct(_0x359f60){var _0x422a12=_0x4d8d9e;try{const _0xb8dedd=await createCartStore(''),_0x217a95=_0xb8dedd[_0x422a12(0x271)](_0x422a12(0x2ff),_0x422a12(0x1ee)),_0x1b368d=_0x217a95['objectStore'](_0x422a12(0x2ff));_0x1b368d[_0x422a12(0x290)](_0x359f60),_0x217a95[_0x422a12(0x229)]=()=>{var _0x3ee0e6=_0x422a12;console[_0x3ee0e6(0x240)](_0x3ee0e6(0x33f));},_0x217a95['onerror']=_0x50bfbb=>{var _0x48c432=_0x422a12;console['error']('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x50bfbb[_0x48c432(0x215)][_0x48c432(0x327)]);};}catch(_0x1ece30){console[_0x422a12(0x327)]('Error\x20al\x20procesar\x20la\x20operación:',_0x1ece30);}}document['getElementById'](_0x4d8d9e(0x250))[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),async function(_0x47fb58){var _0x2021ef=_0x4d8d9e;_0x47fb58[_0x2021ef(0x286)]();const _0x4d447c=document[_0x2021ef(0x2ca)](_0x2021ef(0x20f)),_0x2d487c=document[_0x2021ef(0x2ca)]('setItemFree')[_0x2021ef(0x1f1)];if(!_0x4d447c['value'][_0x2021ef(0x232)]()&&_0x2d487c==0x0){ntfShow(_0x2021ef(0x316),0x2,0x1);return;}_0x2d487c==0x1&&(_0x4d447c['value']='',baseItem[_0x2021ef(0x266)]='');const _0x169c59=document[_0x2021ef(0x2ca)]('inputItemName');if(!_0x169c59[_0x2021ef(0x1f1)][_0x2021ef(0x232)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x36abd2=document[_0x2021ef(0x2ca)](_0x2021ef(0x332));hideModalCreateItem(),showLoadingModal();newItems[_0x2021ef(0x20e)]===0x0&&(newItems=[baseItem]);const _0x2c4dda=document[_0x2021ef(0x2ca)]('windowId')['value'],_0xaa04bb=window_options[_0x2c4dda]['setMoneda'],_0x139704=[];newItems['forEach'](_0x5310a8=>{var _0x3169ac=_0x2021ef;const _0x4b7320=generateNumericUniqId();_0x5310a8[_0x3169ac(0x2ed)][_0x3169ac(0x26f)](_0x415d4d=>{var _0x1ae1b9=_0x3169ac;const _0x42d84f=generateNumericUniqId();_0x415d4d[_0x1ae1b9(0x225)]=_0x42d84f;const _0xf7941e={'id':_0x42d84f,'setIdProducto':_0x4b7320,'setCodProducto':_0x5310a8['setItemCode'],'setDescripcion':_0x5310a8[_0x1ae1b9(0x25b)],'setItemDescription':_0x5310a8[_0x1ae1b9(0x26d)],'setBatchExpirationDate':_0x5310a8['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x5310a8['setItemCategories'][0x0]||'','setMarca':_0x5310a8[_0x1ae1b9(0x31d)][0x0]||'','setConversionFactor':parseFloat(_0x415d4d[_0x1ae1b9(0x29b)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x5310a8[_0x1ae1b9(0x23a)]?0x1:0x0,'setItemIsSold':_0x5310a8[_0x1ae1b9(0x2df)]?0x1:0x0,'setPorcentajeIgv':_0x5310a8[_0x1ae1b9(0x239)],'setPrinters':[],'setTaxId':_0x5310a8[_0x1ae1b9(0x247)],'setTipAfeIgv':_0x5310a8['setItemTaxCode'],'setUnidad':_0x415d4d['setUnitCode'],'setUnidadCodigo':_0x415d4d['setUnitCode'],'setItemUnitAlias':_0x415d4d['setAlias'],'currency_data':[{'currency':_0xaa04bb,'setMtoPrecioCostoUnitario':_0x415d4d[_0x1ae1b9(0x267)],'setMtoPrecioUnitario':_0x415d4d[_0x1ae1b9(0x263)],'setPriceLists':[]}],'sucursales':_0x5310a8[_0x1ae1b9(0x295)]['map'](_0x37a32a=>({'setIdSucursal':_0x37a32a[_0x1ae1b9(0x2a0)],'setSucursalStock':_0x37a32a['setStockInitial'][_0x1ae1b9(0x1fe)](),'setWarehouseStockMin':_0x37a32a[_0x1ae1b9(0x2db)][_0x1ae1b9(0x1fe)]()})),'setItemFree':_0x5310a8[_0x1ae1b9(0x322)],'setItemBarCode':_0x5310a8[_0x1ae1b9(0x312)],'setItemBrands':_0x5310a8['setItemBrands']['slice'](),'setItemCategories':_0x5310a8['setItemCategories'][_0x1ae1b9(0x269)](),'setItemComponents':_0x5310a8[_0x1ae1b9(0x31e)]['map'](_0x5145b2=>({..._0x5145b2})),'setItemImages':_0x5310a8[_0x1ae1b9(0x23c)]['slice'](),'setItemVariantName':_0x5310a8[_0x1ae1b9(0x1ec)],'setItemVariantValues':{..._0x5310a8[_0x1ae1b9(0x314)]}};_0x139704['push'](_0xf7941e),(_0x36abd2[_0x1ae1b9(0x28d)]||_0x2d487c==0x1)&&addToCart(_0xf7941e);});}),console[_0x2021ef(0x240)](_0x2021ef(0x2af),newItems),await finalizeImport(_0x139704,newItems,![]);}),[_0x4d8d9e(0x2f8),_0x4d8d9e(0x28f)][_0x4d8d9e(0x26f)](_0x24bbd1=>dropZone[_0x4d8d9e(0x326)](_0x24bbd1,_0x3bc170=>{var _0x5e8ac3=_0x4d8d9e;_0x3bc170[_0x5e8ac3(0x286)](),dropZone[_0x5e8ac3(0x2d7)]['add'](_0x5e8ac3(0x28f));})),[_0x4d8d9e(0x226),_0x4d8d9e(0x2f3)][_0x4d8d9e(0x26f)](_0x3ce69a=>dropZone[_0x4d8d9e(0x326)](_0x3ce69a,_0x5dd583=>{var _0x2fc0a2=_0x4d8d9e;_0x5dd583[_0x2fc0a2(0x286)](),dropZone[_0x2fc0a2(0x2d7)][_0x2fc0a2(0x1f2)](_0x2fc0a2(0x28f));})),dropZone['addEventListener'](_0x4d8d9e(0x2f3),_0x432d94=>{var _0x333d5d=_0x4d8d9e;const _0xb04c66=_0x432d94[_0x333d5d(0x29e)][_0x333d5d(0x1fc)][0x0];if(!_0xb04c66)return;fileInput['files']=_0x432d94[_0x333d5d(0x29e)]['files'],dropZone[_0x333d5d(0x22c)]('.drop-zone__prompt')[_0x333d5d(0x320)]=_0xb04c66[_0x333d5d(0x272)],removeBtn[_0x333d5d(0x270)]=![],fileInput[_0x333d5d(0x2a8)](new Event(_0x333d5d(0x2c3)));}),removeBtn[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),()=>{var _0x4a6ea5=_0x4d8d9e;fileInput[_0x4a6ea5(0x1f1)]='',dropZone[_0x4a6ea5(0x22c)]('.drop-zone__prompt')[_0x4a6ea5(0x320)]=_0x4a6ea5(0x2ce),removeBtn[_0x4a6ea5(0x270)]=!![],progressBar[_0x4a6ea5(0x294)][_0x4a6ea5(0x25f)]=_0x4a6ea5(0x24a),statusDiv[_0x4a6ea5(0x320)]='',uploadBtn[_0x4a6ea5(0x220)]=!![];});const exportBtn=document[_0x4d8d9e(0x2ca)]('btnExportarItems');exportBtn[_0x4d8d9e(0x326)](_0x4d8d9e(0x2d0),onClickExportarItems);async function onClickExportarItems(){var _0xc40fc1=_0x4d8d9e;if(!Array[_0xc40fc1(0x230)](products)||!products[_0xc40fc1(0x20e)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x40e9aa=await fetch(_0xc40fc1(0x293));if(!_0x40e9aa['ok'])throw new Error(_0xc40fc1(0x2f2));const _0x56b10a=await _0x40e9aa[_0xc40fc1(0x25e)](),_0x3890fc=document[_0xc40fc1(0x2ca)](_0xc40fc1(0x313))[_0xc40fc1(0x1f1)],_0x6cd44a=products[_0xc40fc1(0x261)](_0x20fa0e=>Array['isArray'](_0x20fa0e[_0xc40fc1(0x22b)])&&_0x20fa0e[_0xc40fc1(0x22b)][_0xc40fc1(0x2b0)](_0x9cd8ba=>String(_0x9cd8ba[_0xc40fc1(0x334)])==String(_0x3890fc))),_0x450806=_0x6cd44a[_0xc40fc1(0x2c2)]((_0x500bc2,_0x8e5b62)=>{var _0x24d51f=_0xc40fc1;const _0x5dcc9e=_0x8e5b62[_0x24d51f(0x280)];if(!_0x500bc2[_0x5dcc9e])_0x500bc2[_0x5dcc9e]=[];return _0x500bc2[_0x5dcc9e][_0x24d51f(0x2ad)](_0x8e5b62),_0x500bc2;},{}),_0x12b893=Object[_0xc40fc1(0x22e)](_0x450806)[_0xc40fc1(0x1f7)](_0x9bc28a=>{var _0x23948b=_0xc40fc1;const _0x586718=_0x9bc28a[0x0],_0x58b09e=_0x9bc28a[0x1]||{};function _0x11b2b4(_0xff126d,_0x15e39b,_0x241713){var _0x2d0222=_0x1c78;if(!_0xff126d||!Array[_0x2d0222(0x230)](_0xff126d['currency_data']))return'';const _0x4cbb1a=_0xff126d['currency_data'][_0x2d0222(0x31f)](_0x483e78=>_0x483e78[_0x2d0222(0x2a6)]===_0x15e39b);return _0x4cbb1a?_0x4cbb1a[_0x241713]:'';}return{'id':_0x586718['setIdProducto'],'setItemType':_0x586718['setItemType'],'setCodProducto':_0x586718[_0x23948b(0x2e3)],'setDescripcion':_0x586718[_0x23948b(0x259)],'setItemDescription':_0x586718[_0x23948b(0x26d)],'setCategoria':_0x586718['setCategoria'],'setMarca':_0x586718['setMarca'],'setTaxId':_0x586718[_0x23948b(0x237)],'setUnitId':_0x586718['id'],'setItemBarCode':_0x586718[_0x23948b(0x312)],'setUnidadCodigo':_0x586718[_0x23948b(0x258)],'PEN_setMtoPrecioUnitario':_0x11b2b4(_0x586718,_0x23948b(0x296),_0x23948b(0x2da)),'PEN_setMtoPrecioCostoUnitario':_0x11b2b4(_0x586718,_0x23948b(0x296),_0x23948b(0x208)),'USD_setMtoPrecioUnitario':_0x11b2b4(_0x586718,'USD',_0x23948b(0x2da)),'USD_setMtoPrecioCostoUnitario':_0x11b2b4(_0x586718,'USD',_0x23948b(0x208)),'setUnitId2':_0x58b09e['id']??'','setItemBarCode2':_0x58b09e[_0x23948b(0x312)]??'','setUnidadCodigo2':_0x58b09e[_0x23948b(0x258)]??'','setUnidadEquivalencia2':_0x58b09e[_0x23948b(0x1ed)]??'','PEN_setMtoPrecioUnitario2':_0x11b2b4(_0x58b09e,_0x23948b(0x296),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x11b2b4(_0x58b09e,_0x23948b(0x296),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x11b2b4(_0x58b09e,'USD',_0x23948b(0x2da))??'','USD_setMtoPrecioCostoUnitario2':_0x11b2b4(_0x58b09e,_0x23948b(0x2cf),'setMtoPrecioCostoUnitario')??'','setInventariable':_0x586718[_0x23948b(0x2b8)],'setSucursalStock':_0x586718[_0x23948b(0x22b)]['find'](_0x4ad67f=>String(_0x4ad67f['setIdSucursal'])==String(_0x3890fc))[_0x23948b(0x338)],'setWarehouseStockMin':_0x586718[_0x23948b(0x22b)][_0x23948b(0x31f)](_0xadfe16=>String(_0xadfe16[_0x23948b(0x334)])==String(_0x3890fc))[_0x23948b(0x340)],'setBatchName':_0x586718[_0x23948b(0x2ab)],'setBatchExpirationDate':_0x586718['setBatchExpirationDate'],..._0x586718['setItemVariantValues']};});try{JSON[_0xc40fc1(0x2de)](_0x12b893);}catch(_0x2959ba){console[_0xc40fc1(0x327)](_0xc40fc1(0x2fa),_0x2959ba),ntfShow(_0xc40fc1(0x223));return;}statusDiv[_0xc40fc1(0x320)]='Generando\x20Excel...',progressBar[_0xc40fc1(0x294)][_0xc40fc1(0x25f)]=_0xc40fc1(0x2d9),progressBar[_0xc40fc1(0x1f1)]=0x0,itemWorker[_0xc40fc1(0x2be)]({'action':_0xc40fc1(0x264),'products':_0x12b893,'plantillaBuf':_0x56b10a},[_0x56b10a]);}catch(_0x511364){console['error'](_0x511364),ntfShow(_0xc40fc1(0x236)+_0x511364[_0xc40fc1(0x323)]);}}itemWorker['onmessage']=({data:_0x4ecf3d})=>{var _0x51acc3=_0x4d8d9e;const {type:_0x1a2267,payload:_0x1e9a0b}=_0x4ecf3d;_0x1a2267===_0x51acc3(0x2f4)&&(progressBar[_0x51acc3(0x294)][_0x51acc3(0x25f)]=_0x51acc3(0x2d9),progressBar['value']=_0x1e9a0b['percent'],statusDiv[_0x51acc3(0x320)]=_0x1e9a0b['message']);_0x1a2267===_0x51acc3(0x32e)&&(newItemsExcel=_0x1e9a0b['items'],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x51acc3(0x20e)]+_0x51acc3(0x33b),uploadBtn[_0x51acc3(0x220)]=![],progressBar['value']=0x64,console[_0x51acc3(0x240)](newItemsExcel));_0x1a2267===_0x51acc3(0x327)&&(statusDiv[_0x51acc3(0x320)]=_0x51acc3(0x2bb)+_0x1e9a0b,progressBar[_0x51acc3(0x294)]['display']=_0x51acc3(0x24a));if(_0x1a2267===_0x51acc3(0x24c)){const {wbout:_0x4e2f94,count:_0x4ff1e2}=_0x1e9a0b,_0x58e102=new Blob([_0x4e2f94],{'type':_0x51acc3(0x29d)}),_0x50d78d=URL[_0x51acc3(0x20b)](_0x58e102),_0x12cde9=document[_0x51acc3(0x22a)]('a'),_0x37cc5c=new Date()[_0x51acc3(0x2e0)]()[_0x51acc3(0x269)](0x0,0xa);_0x12cde9[_0x51acc3(0x31c)]=_0x51acc3(0x285)+_0x37cc5c+_0x51acc3(0x298),_0x12cde9[_0x51acc3(0x233)]=_0x50d78d,_0x12cde9[_0x51acc3(0x2d0)](),URL[_0x51acc3(0x1fb)](_0x50d78d),statusDiv['textContent']=_0x51acc3(0x33a)+_0x4ff1e2+'\x20items.',progressBar[_0x51acc3(0x294)][_0x51acc3(0x25f)]=_0x51acc3(0x24a);}},fileInput[_0x4d8d9e(0x326)](_0x4d8d9e(0x2c3),async _0x1fe38d=>{var _0x182957=_0x4d8d9e;const _0x5c90ea=_0x1fe38d[_0x182957(0x215)][_0x182957(0x1fc)][0x0];if(!_0x5c90ea)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x182957(0x320)]='',progressBar['style'][_0x182957(0x25f)]='none',dropZone[_0x182957(0x22c)]('.drop-zone__prompt')[_0x182957(0x320)]=_0x5c90ea[_0x182957(0x272)],removeBtn[_0x182957(0x270)]=![];try{const _0x506c4d=await _0x5c90ea['arrayBuffer']();itemWorker[_0x182957(0x2be)]({'action':_0x182957(0x2ea),'buf':_0x506c4d,'maxRows':0x1388});}catch(_0x249488){statusDiv[_0x182957(0x320)]=_0x182957(0x282);}finally{fileInput[_0x182957(0x1f1)]='';}}),uploadBtn['addEventListener'](_0x4d8d9e(0x2d0),async()=>{var _0x4979fc=_0x4d8d9e;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0xca426b=document[_0x4979fc(0x2ca)](_0x4979fc(0x313))[_0x4979fc(0x1f1)],_0x39745b=[];newItemsExcel[_0x4979fc(0x26f)](_0x17cb9a=>{var _0x1b5b70=_0x4979fc;const _0x5bec57=Boolean(_0x17cb9a[_0x1b5b70(0x252)]),_0x42d9f6=_0x5bec57?_0x17cb9a['setItemId']:generateNumericUniqId();_0x17cb9a[_0x1b5b70(0x295)]=[{'setStockInitial':_0x17cb9a[_0x1b5b70(0x200)],'setStockMinimum':_0x17cb9a['setStockMinimum'],'setWarehouseCode':_0xca426b}],_0x17cb9a[_0x1b5b70(0x2ed)][_0x1b5b70(0x26f)](_0x5c6cb6=>{var _0x3620fa=_0x1b5b70;const _0x221e6d=Boolean(_0x5c6cb6[_0x3620fa(0x225)]),_0x251745=_0x221e6d?_0x5c6cb6[_0x3620fa(0x225)]:generateNumericUniqId();_0x5c6cb6[_0x3620fa(0x225)]=_0x251745;const _0x465a67=[];_0x465a67[_0x3620fa(0x2ad)]({'currency':_0x3620fa(0x296),'setMtoPrecioCostoUnitario':_0x5c6cb6[_0x3620fa(0x267)],'setMtoPrecioUnitario':_0x5c6cb6[_0x3620fa(0x263)],'setPriceLists':[]});const _0x28ee44=_0x5c6cb6['setCostUSD']!=null&&_0x5c6cb6['setPriceUSD']!=null&&(!isNaN(_0x5c6cb6[_0x3620fa(0x288)])||!isNaN(_0x5c6cb6[_0x3620fa(0x204)]));_0x28ee44&&_0x465a67[_0x3620fa(0x2ad)]({'currency':'USD','setMtoPrecioCostoUnitario':_0x5c6cb6['setCostUSD'],'setMtoPrecioUnitario':_0x5c6cb6['setPriceUSD'],'setPriceLists':[]});const _0x298b82={'id':_0x251745,'setIdProducto':_0x42d9f6,'setItemBarCode':_0x5c6cb6[_0x3620fa(0x312)],'setCodProducto':_0x17cb9a[_0x3620fa(0x266)],'setDescripcion':_0x17cb9a[_0x3620fa(0x25b)],'setItemDescription':_0x17cb9a[_0x3620fa(0x26d)],'setBatchExpirationDate':_0x17cb9a[_0x3620fa(0x277)],'setBatchName':_0x17cb9a[_0x3620fa(0x2ab)],'setCategoria':_0x17cb9a[_0x3620fa(0x319)][0x0]||'','setMarca':_0x17cb9a[_0x3620fa(0x31d)][0x0]||'','setConversionFactor':parseFloat(_0x5c6cb6[_0x3620fa(0x29b)]),'setImages':[],'setImg':_0x3620fa(0x2cc),'setInventariable':_0x17cb9a[_0x3620fa(0x219)],'setItemIsBought':_0x17cb9a['setItemIsBought'],'setItemIsSold':_0x17cb9a[_0x3620fa(0x2df)],'setPorcentajeIgv':_0x17cb9a['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x17cb9a[_0x3620fa(0x247)],'setTipAfeIgv':_0x17cb9a[_0x3620fa(0x260)],'setUnidad':_0x5c6cb6[_0x3620fa(0x203)],'setUnidadCodigo':_0x5c6cb6[_0x3620fa(0x203)],'setItemUnitAlias':_0x5c6cb6[_0x3620fa(0x2bf)],'currency_data':_0x465a67,'sucursales':_0x17cb9a[_0x3620fa(0x295)][_0x3620fa(0x1f7)](_0x34f664=>({'setIdSucursal':_0x34f664[_0x3620fa(0x2a0)],'setSucursalStock':_0x34f664[_0x3620fa(0x200)][_0x3620fa(0x1fe)](),'setWarehouseStockMin':_0x34f664[_0x3620fa(0x2db)][_0x3620fa(0x1fe)]()})),'setItemFree':_0x17cb9a[_0x3620fa(0x322)],'setItemBrands':_0x17cb9a[_0x3620fa(0x31d)][_0x3620fa(0x269)](),'setItemCategories':_0x17cb9a['setItemCategories'][_0x3620fa(0x269)](),'setItemComponents':_0x17cb9a[_0x3620fa(0x31e)]['map'](_0x37576f=>({..._0x37576f})),'setItemImages':_0x17cb9a[_0x3620fa(0x23c)][_0x3620fa(0x269)](),'setItemVariantName':_0x17cb9a[_0x3620fa(0x1ec)],'setItemVariantValues':{..._0x17cb9a[_0x3620fa(0x314)]}},_0x44a4df=products[_0x3620fa(0x1fa)](_0x52ed49=>_0x52ed49['id']==_0x251745&&_0x52ed49[_0x3620fa(0x280)]==_0x42d9f6);_0x44a4df>-0x1?Object[_0x3620fa(0x257)](products[_0x44a4df],_0x298b82):_0x39745b[_0x3620fa(0x2ad)](_0x298b82);});}),console[_0x4979fc(0x240)](_0x4979fc(0x2af),newItemsExcel),await finalizeImport(_0x39745b,newItemsExcel,!![]);});function initializeFormImages(){var _0xbe6bac=_0x4d8d9e;currentImages=Array(MAX_IMAGES)[_0xbe6bac(0x28c)](null),imgC[_0xbe6bac(0x216)]='',baseItem[_0xbe6bac(0x23c)]=[];for(var _0x278f11=0x0;_0x278f11<MAX_IMAGES;_0x278f11++){(function(_0x27e78a){var _0x44bdb9=_0xbe6bac,_0x45fe2a=document[_0x44bdb9(0x22a)](_0x44bdb9(0x2c5));_0x45fe2a[_0x44bdb9(0x33c)]=_0x44bdb9(0x2b2),_0x45fe2a[_0x44bdb9(0x29a)][_0x44bdb9(0x341)]=_0x27e78a;var _0x2f7c33=document['createElement'](_0x44bdb9(0x228));_0x2f7c33[_0x44bdb9(0x21f)]=_0x44bdb9(0x2d2),_0x2f7c33[_0x44bdb9(0x315)]=_0x44bdb9(0x31a),_0x2f7c33[_0x44bdb9(0x294)][_0x44bdb9(0x25f)]='none';var _0x55cac0=document[_0x44bdb9(0x22a)](_0x44bdb9(0x253));_0x55cac0[_0x44bdb9(0x320)]='+',_0x45fe2a[_0x44bdb9(0x21b)](_0x2f7c33),_0x45fe2a[_0x44bdb9(0x21b)](_0x55cac0),imgC['appendChild'](_0x45fe2a),_0x45fe2a[_0x44bdb9(0x326)](_0x44bdb9(0x2d0),function(){var _0x55f888=_0x44bdb9;_0x2f7c33[_0x55f888(0x2d0)]();}),_0x2f7c33[_0x44bdb9(0x326)](_0x44bdb9(0x2c3),function(_0x3005d3){var _0x583795=_0x44bdb9,_0x389f5d=_0x3005d3[_0x583795(0x215)]['files'][0x0];if(!_0x389f5d)return removeImg(_0x27e78a);var _0xc07269=new FileReader();_0xc07269[_0x583795(0x245)]=function(_0x4147dd){var _0x5c1a7e=_0x583795;_0x45fe2a['innerHTML']=_0x5c1a7e(0x306)+_0x4147dd['target'][_0x5c1a7e(0x2a9)]+'\x22>';var _0x5bd03e=document[_0x5c1a7e(0x22a)](_0x5c1a7e(0x253));_0x5bd03e[_0x5c1a7e(0x33c)]='remove',_0x5bd03e['textContent']='×',_0x5bd03e[_0x5c1a7e(0x326)]('click',function(_0x31dbec){var _0x178075=_0x5c1a7e;_0x31dbec[_0x178075(0x28e)](),removeImg(_0x27e78a);}),_0x45fe2a[_0x5c1a7e(0x21b)](_0x5bd03e),currentImages[_0x27e78a]=_0x389f5d,baseItem[_0x5c1a7e(0x23c)]=currentImages[_0x5c1a7e(0x261)](function(_0xbef04c){return _0xbef04c;});},_0xc07269['readAsDataURL'](_0x389f5d);});}(_0x278f11));}}function initializeFormIsSoldIsBought(_0x753358=0x0){var _0x1ed58d=_0x4d8d9e;let _0x9e8ca0,_0x4ae603;if(_0x753358!=0x0){const _0x1e988a=products[_0x1ed58d(0x31f)](_0x36c13e=>_0x36c13e['id']==_0x753358);_0x9e8ca0=_0x1e988a['setItemIsBought']==0x1||_0x1e988a['setItemIsBought']==!![]?!![]:![],_0x4ae603=_0x1e988a[_0x1ed58d(0x2df)]==0x1||_0x1e988a['setItemIsSold']==!![]?!![]:![];}else _0x9e8ca0=!![],_0x4ae603=!![];document[_0x1ed58d(0x2ca)](_0x1ed58d(0x1f8))[_0x1ed58d(0x28d)]=_0x9e8ca0,document[_0x1ed58d(0x2ca)](_0x1ed58d(0x22f))[_0x1ed58d(0x28d)]=_0x4ae603,baseItem['setItemIsBought']=_0x9e8ca0,baseItem[_0x1ed58d(0x2df)]=_0x4ae603;}function initializeFormInputsBasic(_0x21855e=0x0){var _0xdc34fe=_0x4d8d9e;let _0x520657,_0x55979b,_0x181855,_0x2d074c,_0x2660f2,_0xa697e5;if(_0x21855e!=0x0){const _0x11b4f7=products[_0xdc34fe(0x31f)](_0x2648fb=>_0x2648fb['id']==_0x21855e);_0x520657=_0x11b4f7['setItemType']??'1',_0x55979b=_0x11b4f7[_0xdc34fe(0x2e3)],_0x181855=_0x11b4f7[_0xdc34fe(0x259)],_0x2d074c=_0x11b4f7[_0xdc34fe(0x26d)],_0x2660f2=_0x11b4f7[_0xdc34fe(0x2c4)]??'',_0xa697e5=_0x11b4f7[_0xdc34fe(0x312)];}else _0x520657='1',_0x55979b=getNextCode(products),_0x181855='',_0x2d074c='',_0x2660f2='',_0xa697e5='';document['getElementById'](_0xdc34fe(0x311))['value']=_0x520657,document[_0xdc34fe(0x2ca)](_0xdc34fe(0x20f))[_0xdc34fe(0x1f1)]=_0x55979b,document['getElementById'](_0xdc34fe(0x275))['value']=_0x181855,document[_0xdc34fe(0x2ca)](_0xdc34fe(0x30d))[_0xdc34fe(0x1f1)]=_0x2d074c,document[_0xdc34fe(0x2ca)]('inputItemDateExpiry')[_0xdc34fe(0x1f1)]=_0x2660f2,document[_0xdc34fe(0x2ca)](_0xdc34fe(0x2bd))[_0xdc34fe(0x1f1)]=_0xa697e5,baseItem[_0xdc34fe(0x262)]=_0x520657,baseItem[_0xdc34fe(0x266)]=_0x55979b,baseItem['setItemName']=_0x181855,baseItem[_0xdc34fe(0x26d)]=_0x2d074c,baseItem[_0xdc34fe(0x277)]=_0x2660f2,baseItem[_0xdc34fe(0x312)]=_0xa697e5,document[_0xdc34fe(0x2ca)](_0xdc34fe(0x332))[_0xdc34fe(0x28d)]=![];}function initializeFormTax(_0x212c42=0x0){var _0x40fd3d=_0x4d8d9e;let _0x23f1b0;if(_0x212c42!=0x0){const _0x48e612=products[_0x40fd3d(0x31f)](_0x2b95f9=>_0x2b95f9['id']==_0x212c42);_0x23f1b0=_0x48e612['setTaxId'];}else _0x23f1b0=myCompany[_0x40fd3d(0x2dd)];const _0x5d6e7f=document[_0x40fd3d(0x2ca)](_0x40fd3d(0x2cb));_0x5d6e7f[_0x40fd3d(0x1f1)]=_0x23f1b0,baseItem[_0x40fd3d(0x247)]=_0x23f1b0;const _0x4a1c9a=company[0x0][_0x40fd3d(0x27b)]['find'](_0x1b595b=>_0x1b595b[_0x40fd3d(0x237)]==_0x23f1b0)?.['setImpuestoCode']||0x0,_0x435e81=company[0x0][_0x40fd3d(0x27b)][_0x40fd3d(0x31f)](_0x249000=>_0x249000[_0x40fd3d(0x237)]==_0x23f1b0)?.['setImpuestoValue']||0x0;baseItem[_0x40fd3d(0x260)]=_0x4a1c9a,baseItem[_0x40fd3d(0x239)]=_0x435e81;}function initializeFormCategoriesBrands(_0x44e689=0x0){var _0x509b7c=_0x4d8d9e;baseItem[_0x509b7c(0x319)]=[],baseItem[_0x509b7c(0x31d)]=[],document[_0x509b7c(0x22c)]('#newItem_categories_select\x20.selected_tags')[_0x509b7c(0x216)]='',document[_0x509b7c(0x22c)](_0x509b7c(0x243))[_0x509b7c(0x216)]='',document['querySelector'](_0x509b7c(0x213))[_0x509b7c(0x216)]='',document[_0x509b7c(0x22c)](_0x509b7c(0x20c))['innerHTML']='';const _0x3d346c=uniqueValuesArray(_0x509b7c(0x304),_0x509b7c(0x304),products),_0x56ec3c=uniqueValuesArray(_0x509b7c(0x28a),_0x509b7c(0x28a),products);initMulti(_0x509b7c(0x254),_0x3d346c),initMulti(_0x509b7c(0x214),_0x56ec3c),document[_0x509b7c(0x2ca)](_0x509b7c(0x254))['addEventListener'](_0x509b7c(0x1ef),function(_0x4924f3){var _0x1867f9=_0x509b7c;baseItem[_0x1867f9(0x319)]=_0x4924f3[_0x1867f9(0x2f6)][_0x1867f9(0x1f7)](_0x24f2ad=>_0x24f2ad[_0x1867f9(0x321)]);}),document[_0x509b7c(0x2ca)](_0x509b7c(0x214))[_0x509b7c(0x326)](_0x509b7c(0x1ef),function(_0xc42a2e){var _0x524173=_0x509b7c;baseItem[_0x524173(0x31d)]=_0xc42a2e[_0x524173(0x2f6)][_0x524173(0x1f7)](_0x2bc440=>_0x2bc440[_0x524173(0x321)]);});if(_0x44e689!=0x0){const _0x1c8997=products['find'](_0x7bfd0=>_0x7bfd0['id']==_0x44e689);if(_0x1c8997[_0x509b7c(0x304)]){const _0x3d3718=document[_0x509b7c(0x2ca)](_0x509b7c(0x254)),_0x232699=Array[_0x509b7c(0x32f)](_0x3d3718[_0x509b7c(0x32b)](_0x509b7c(0x2f1)))[_0x509b7c(0x31f)](_0x17f52a=>_0x17f52a[_0x509b7c(0x29a)][_0x509b7c(0x21d)]==_0x1c8997['setCategoria']);_0x232699&&_0x232699[_0x509b7c(0x2d0)]();}if(_0x1c8997[_0x509b7c(0x28a)]){const _0x448760=document[_0x509b7c(0x2ca)](_0x509b7c(0x214)),_0xcb24ac=Array[_0x509b7c(0x32f)](_0x448760[_0x509b7c(0x32b)](_0x509b7c(0x2f1)))[_0x509b7c(0x31f)](_0x2f8642=>_0x2f8642['dataset'][_0x509b7c(0x21d)]==_0x1c8997[_0x509b7c(0x28a)]);_0xcb24ac&&_0xcb24ac['click']();}}}function initializeFormUnits(){var _0x567878=_0x4d8d9e;unitCount=0x0,document[_0x567878(0x2ca)](_0x567878(0x29f))[_0x567878(0x216)]='',baseItem['setItemUnits']=[];var _0x15cda3=uniqueValuesArray(_0x567878(0x203),'setUnitName',myCompany['setUnits']);addUnit('',_0x15cda3[0x3a]&&_0x15cda3[0x3a][_0x567878(0x321)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x196361=_0x4d8d9e;prodC[_0x196361(0x216)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x359eb4=_0x4d8d9e;branchesC[_0x359eb4(0x216)]='',baseItem['setItemWarehouses']=[];const _0x147a7a=getAllWarehouses();_0x147a7a['forEach'](function(_0x5d57c5){var _0x2d06c1=_0x359eb4,_0xc3962c=document[_0x2d06c1(0x22a)]('div');_0xc3962c['innerHTML']=_0x2d06c1(0x32c)+_0x2d06c1(0x21e)+_0x2d06c1(0x205)+_0x5d57c5['setWarehouseId']+_0x2d06c1(0x2a7)+_0x5d57c5[_0x2d06c1(0x2d1)]+_0x2d06c1(0x307)+_0x2d06c1(0x281)+_0x2d06c1(0x21e)+_0x2d06c1(0x238)+_0x5d57c5[_0x2d06c1(0x313)]+'\x22>'+_0x2d06c1(0x281)+_0x2d06c1(0x21e)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x5d57c5['setWarehouseId']+'\x22>'+'</div>'+_0x2d06c1(0x281),branchesC[_0x2d06c1(0x21b)](_0xc3962c),_0xc3962c[_0x2d06c1(0x32b)](_0x2d06c1(0x228))[_0x2d06c1(0x26f)](function(_0x29a8e5){var _0x1e811f=_0x2d06c1;_0x29a8e5['addEventListener'](_0x1e811f(0x228),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x78627e=_0x4d8d9e;baseItem['setItemVariantName']='',baseItem[_0x78627e(0x314)]={},vgC[_0x78627e(0x216)]='',varContainer[_0x78627e(0x216)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xb8764e,_0x3aef15,_0x549c6e=![]){var _0x4f8d21=_0x4d8d9e;const _0x50d2eb=0xc8,_0x57b274={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x4f8d21(0x246)],'setWebhook':company[0x0]['setWebhook']};for(let _0x257aab=0x0;_0x257aab<_0x3aef15[_0x4f8d21(0x20e)];_0x257aab+=_0x50d2eb){const _0x34b74f=_0x3aef15[_0x4f8d21(0x269)](_0x257aab,_0x257aab+_0x50d2eb);await storeOfflineProduct({..._0x57b274,'newItems':_0x34b74f});}products[_0x4f8d21(0x2ad)](..._0xb8764e),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x4f8d21(0x297)),_0x549c6e?(fileInput[_0x4f8d21(0x1f1)]='',uploadBtn[_0x4f8d21(0x220)]=!![],statusDiv[_0x4f8d21(0x320)]='',progressBar[_0x4f8d21(0x294)][_0x4f8d21(0x25f)]=_0x4f8d21(0x24a),progressBar[_0x4f8d21(0x1f1)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}