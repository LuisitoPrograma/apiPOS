/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.5
*/

var _0x2e8741=_0x6d43;(function(_0x401986,_0x36ed59){var _0x1dac2e=_0x6d43,_0x586064=_0x401986();while(!![]){try{var _0x4a2e1f=parseInt(_0x1dac2e(0x172))/0x1+parseInt(_0x1dac2e(0x21a))/0x2*(-parseInt(_0x1dac2e(0x23b))/0x3)+parseInt(_0x1dac2e(0x133))/0x4+parseInt(_0x1dac2e(0x234))/0x5+parseInt(_0x1dac2e(0x163))/0x6*(parseInt(_0x1dac2e(0x1f8))/0x7)+-parseInt(_0x1dac2e(0x240))/0x8*(-parseInt(_0x1dac2e(0x1aa))/0x9)+-parseInt(_0x1dac2e(0x154))/0xa;if(_0x4a2e1f===_0x36ed59)break;else _0x586064['push'](_0x586064['shift']());}catch(_0x5a9146){_0x586064['push'](_0x586064['shift']());}}}(_0x4a2c,0x1c25b));var _0x4655cd=(function(){var _0x28892e=!![];return function(_0x2a4599,_0x35fe61){var _0x519fb0=_0x28892e?function(){if(_0x35fe61){var _0xeb85a9=_0x35fe61['apply'](_0x2a4599,arguments);return _0x35fe61=null,_0xeb85a9;}}:function(){};return _0x28892e=![],_0x519fb0;};}()),_0x4bb6aa=_0x4655cd(this,function(){var _0x406095=_0x6d43;return _0x4bb6aa['toString']()['search']('(((.+)+)+)+$')[_0x406095(0x1b6)]()[_0x406095(0x212)](_0x4bb6aa)[_0x406095(0x128)](_0x406095(0x23c));});_0x4bb6aa();var _0x52a86b=(function(){var _0x5443b0=!![];return function(_0x134682,_0x4543ed){var _0x5e7c1b=_0x5443b0?function(){var _0xf240bf=_0x6d43;if(_0x4543ed){var _0x25fcd6=_0x4543ed[_0xf240bf(0x18a)](_0x134682,arguments);return _0x4543ed=null,_0x25fcd6;}}:function(){};return _0x5443b0=![],_0x5e7c1b;};}()),_0x10e22b=_0x52a86b(this,function(){var _0x17c0a7=_0x6d43,_0x308a6a=function(){var _0x56d786=_0x6d43,_0x170579;try{_0x170579=Function(_0x56d786(0x139)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1a94bc){_0x170579=window;}return _0x170579;},_0xce92e1=_0x308a6a(),_0x498cc5=_0xce92e1['console']=_0xce92e1[_0x17c0a7(0x199)]||{},_0x213f28=[_0x17c0a7(0x184),_0x17c0a7(0x182),_0x17c0a7(0x1ad),_0x17c0a7(0x15f),_0x17c0a7(0x23e),_0x17c0a7(0x1c6),'trace'];for(var _0x356304=0x0;_0x356304<_0x213f28[_0x17c0a7(0x1a5)];_0x356304++){var _0xb8ca4b=_0x52a86b['constructor'][_0x17c0a7(0x14a)][_0x17c0a7(0x19c)](_0x52a86b),_0x155679=_0x213f28[_0x356304],_0x504901=_0x498cc5[_0x155679]||_0xb8ca4b;_0xb8ca4b[_0x17c0a7(0x185)]=_0x52a86b[_0x17c0a7(0x19c)](_0x52a86b),_0xb8ca4b[_0x17c0a7(0x1b6)]=_0x504901[_0x17c0a7(0x1b6)][_0x17c0a7(0x19c)](_0x504901),_0x498cc5[_0x155679]=_0xb8ca4b;}});_0x10e22b();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x2e8741(0x1ef)](_0x2e8741(0x107)),unitCount=0x0,branchesC=document[_0x2e8741(0x1ef)](_0x2e8741(0x10e)),prodC=document['getElementById'](_0x2e8741(0xfa)),vgCount=0x0,varContainer=document[_0x2e8741(0x1ef)]('newItem_variants_forms'),vgC=document[_0x2e8741(0x1ef)]('newItem_variant_groups');function _0x4a2c(){var _0x104c5f=['newItem_proditems_container','option','<div\x20class=\x22newItem_col\x22>','forEach','base','undefined','includes','children','.xlsx','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','Producto\x20Guardado\x20Offline\x20Correctamente.','setItemIsBought','_comp_container','newItem_images_container','selectedItem','setSucursalStock','setCategoria','setItemVariantName','.selected_tags','parentNode','newItem_branches_container','\x22\x20class=\x22branchChk\x22\x20checked>\x20','Ingresa\x20el\x20nombre\x20del\x20item','currency','_branch_container','windowId','file','toggle','setIdProducto','setPriceUSD','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','div','classList','setItemImages','modalOverlayCreateItem','Collator','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setUnits','setMoneda','setItemComponents','<img\x20src=\x22','newItem_units_container','done','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setConversionFactor','.prod_input_container','search','closest','isArray','setCost','setItemIsSold','setItemDescription','setItemFree','remove','Nuevo\x20Producto','image/*','.options_list\x20div','743000gEQcVv','createElement','innerHTML','file-input','findIndex','name','return\x20(function()\x20','inputItemType','files','transaction','padStart','textContent','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','setDefault','from','click','setAlias','none','Items\x20finales:','target','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','newItem_chk_buy','focus','prototype','newItem_brands_select','setTaxId','setItemCategories','setItemCode','setTaxIdDefault','split','setItemId','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','productType1','5746390KnMakd','appendChild','value','dataset','remove-tag','btnItemSave','input','setBatchExpirationDate','compare','some','dragover','error','string','setImpuestoName','.vgName','102BCDMoq','href','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','./img/product.png','[data-idx=\x22','setItemVariantValues','.removeGroup','selectionChange','add','now','.unitSelect','setItemBrands','setUnitName','.unitAlias','newItem_btn_addVariantGroup','138498bcivVD','stringify','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','result','./js/apierp_item_wk.min.js','inputItemCode','USD','setWarehouseName','newItem_btn_addProdItem','setItemWarehouses','\x20items.','.removeProd','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','Error\x20al\x20guardar\x20Producto\x20Offline:','style','download','warn','\x20items\x20procesados.','log','__proto__','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','offline_operations','message','vals','apply','setIdSucursal','100','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','application/octet-stream','setItemName','readwrite','slice','newItem_addToCart','setUnitCode','max','splice','.addVariantComp','.removeCombo','.ms_input','console','getElementsByClassName','toLowerCase','bind','dataTransfer','setCodProducto','.eqInput','closeModalCreateItem','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','</label>','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','length','</div>','setStockInitial','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','objectStore','32031QMLEKZ','setImpuestoValue','hidden','info','setUnidadCodigo','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','Error\x20al\x20procesar\x20la\x20operación:','setItemUnitId','modalProductNewTitle','setWarehouseStockMin','upload-btn','inputItemTax','toString','flatMap','image_box','setStockMinimum','trim','setMtoPrecioUnitario','[id$=\x22_comp_container\x22]','setItemBarCode','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','find','disabled','.prodInput','btnExportarItems','setImpuestoCode','.variantForm','drop-zone','table','variant_','checked','setCostUSD','setName','#newItem_branches_container\x20>\x20div','setEquivalence','currency_data','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','onerror','style=\x22display:none\x22','block','.branchMin','#newItem_brands_select\x20.options_list','setItemTaxId','onload','every','setBatchName','✅\x20Exportación\x20completada:\x20','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','addEventListener','display','exportItems','assign','setInventariable','unitSelect','setItemTaxCode','setWarehouseCode','change','default','postMessage','join','unitAlias','dragenter','\x22\x20class=\x22branchChk\x22>\x20','.options_list','drop','filter','fill','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_title_table','getElementById','setImpuestos','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','inputItemName','active','.variantExpiry','test','setItemCommissionPercentage','arrayBuffer','62671PlnXaV','\x22\x20value=\x22','setDescripcion','setWarehouseId','setItemUnitAlias','detail','dispatchEvent','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','#newItem_brands_select\x20.selected_tags','newItem_chk_sell','.prodQty','accept','sucursales','newItem_btn_addUnit','setItemDateExpiry','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','mousedown','.branchInit','setItemInventoriable','newItem_title_table_cp','Error\x20al\x20obtener\x20la\x20plantilla:\x20','priceInput','setMtoPrecioCostoUnitario','newItem_hidden','type','className','constructor','costInput','inputItemBarCode','.costInput','setItemTaxValue','span','setItemUnits','remove-file','64452bheYgB','true','newItem_categories_select','Ingresa\x20el\x20código\x20del\x20item','setMarca','querySelectorAll','PEN','#newItem_units_container\x20>\x20div','key','setWebhook','parse','.priceInput','idx','setCode','Generando\x20Excel...','blur','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','No\x20hay\x20items\x20para\x20exportar.','map','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','items','exportDone','setPrice','keydown','push','contains','1055460nuFCgN','setFactor','inputItemDescription','reduce','variantForm','Enter','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','18TpjrFG','(((.+)+)+)+$','_units_container','exception','.vgVals','440oooDdd','querySelector','setItemType','sort','.drop-zone__prompt','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemBrandName','setCantidad','div[data-default=\x22true\x22]\x20.eqInput','code','.addVariantUnit'];_0x4a2c=function(){return _0x104c5f;};return _0x4a2c();}const fileInput=document[_0x2e8741(0x1ef)](_0x2e8741(0x136)),progressBar=document[_0x2e8741(0x1ef)]('progress'),statusDiv=document[_0x2e8741(0x1ef)]('status'),uploadBtn=document[_0x2e8741(0x1ef)](_0x2e8741(0x1b4));let newItemsExcel=null;const itemWorker=new Worker(_0x2e8741(0x176)),dropZone=document['getElementById'](_0x2e8741(0x1c5)),removeBtn=document['getElementById'](_0x2e8741(0x219));function showModalCreateItem(_0x44b949){var _0x6ff9c=_0x2e8741;const _0x575238=document[_0x6ff9c(0x1ef)]('detalleModalCreateItem'),_0x265539=document['getElementById'](_0x6ff9c(0x11c));_0x575238[_0x6ff9c(0x11a)][_0x6ff9c(0x16b)](_0x6ff9c(0x1f3)),_0x265539[_0x6ff9c(0x180)][_0x6ff9c(0x1db)]=_0x6ff9c(0x1d1);const _0xa83b3c=document[_0x6ff9c(0x1ef)](_0x6ff9c(0x12e));_0xa83b3c[_0x6ff9c(0x156)]=parseInt(_0x44b949),baseItem[_0x6ff9c(0x12e)]=parseInt(_0x44b949);const _0x361e8d=document[_0x6ff9c(0x1ef)](_0x6ff9c(0x1b2));_0x44b949==0x0&&(_0x361e8d[_0x6ff9c(0x135)]=_0x6ff9c(0x130));_0x44b949==0x1&&(_0x361e8d[_0x6ff9c(0x135)]='Producto\x20Libre');const _0x322fa2=document[_0x6ff9c(0x19a)](_0x6ff9c(0x153));for(let _0x1944db=0x0;_0x1944db<_0x322fa2[_0x6ff9c(0x1a5)];_0x1944db++){const _0x3d5ab6=_0x322fa2[_0x1944db];if(_0x44b949==0x0)_0x3d5ab6['classList'][_0x6ff9c(0x12f)](_0x6ff9c(0x1ac));else _0x44b949==0x1&&_0x3d5ab6['classList']['add'](_0x6ff9c(0x1ac));}}function hideModalCreateItem(){var _0xdba0b5=_0x2e8741;const _0x1dc2e8=document[_0xdba0b5(0x1ef)]('detalleModalCreateItem'),_0x191c37=document[_0xdba0b5(0x1ef)](_0xdba0b5(0x11c));_0x1dc2e8[_0xdba0b5(0x11a)][_0xdba0b5(0x12f)]('active'),_0x191c37['style']['display']='none';}document[_0x2e8741(0x1ef)](_0x2e8741(0x1a0))[_0x2e8741(0x1da)](_0x2e8741(0x142),hideModalCreateItem),document[_0x2e8741(0x1ef)](_0x2e8741(0x11c))[_0x2e8741(0x1da)](_0x2e8741(0x142),_0x36f224=>{var _0x1fb6d7=_0x2e8741;_0x36f224[_0x1fb6d7(0x146)]==_0x36f224['currentTarget']&&_0x36f224['stopPropagation']();});function loadTaxData(){var _0x37ea37=_0x2e8741;const _0x45029b=document['getElementById'](_0x37ea37(0x1b5));_0x45029b[_0x37ea37(0x135)]='',company[0x0]['setImpuestos'][_0x37ea37(0xfd)](function(_0x31b02f){var _0x372372=_0x37ea37;const _0x1736fc=document[_0x372372(0x134)](_0x372372(0xfb));_0x1736fc[_0x372372(0x156)]=_0x31b02f[_0x372372(0x14c)],_0x1736fc[_0x372372(0x135)]=_0x31b02f[_0x372372(0x161)]+'\x20('+_0x31b02f[_0x372372(0x1ab)]+'%)',_0x31b02f[_0x372372(0x14c)]==company[0x0][_0x372372(0x14f)]&&(_0x1736fc['selected']=!![]),_0x45029b[_0x372372(0x155)](_0x1736fc);});}function uniqueValuesArray(_0x3a1c0e,_0x2043f8,_0x57fb21){var _0x5a7196=_0x2e8741;const _0x2c7981=Array['from'](new Set(_0x57fb21[_0x5a7196(0x22c)](_0x55872a=>{var _0x5df51b=_0x5a7196;const _0x45750e=_0x55872a[_0x3a1c0e];return typeof _0x45750e===_0x5df51b(0x160)?_0x45750e[_0x5df51b(0x1ba)]():_0x45750e;})[_0x5a7196(0x1eb)](_0x1bd07a=>_0x1bd07a!=null&&_0x1bd07a!=='')));return _0x2c7981[_0x5a7196(0x22c)](_0x1dfcdb=>{var _0x36efaa=_0x5a7196;const _0x1cea78=_0x57fb21[_0x36efaa(0x1bf)](_0x53a198=>_0x53a198[_0x3a1c0e]===_0x1dfcdb),_0x55365d=_0x1cea78&&_0x1cea78[_0x2043f8]!=null?String(_0x1cea78[_0x2043f8])[_0x36efaa(0x1ba)]():_0x1dfcdb;return{'setCode':_0x1dfcdb,'setName':_0x55365d};});}function fillSelect(_0x4ffe8e,_0x5945b7,_0xee9198,_0x5969db){var _0x1e132a=_0x2e8741;_0x4ffe8e[_0x1e132a(0x135)]='',_0x5945b7['forEach'](function(_0x297e37){var _0x3f196d=_0x1e132a,_0x4f32f3=new Option(_0x297e37[_0x5969db],_0x297e37[_0xee9198]);_0x4ffe8e[_0x3f196d(0x16b)](_0x4f32f3);});}function initMulti(_0x5baf0b,_0x3a5b34){var _0x316bb6=_0x2e8741,_0x50868a=document[_0x316bb6(0x1ef)](_0x5baf0b),_0x15a7c1=_0x50868a[_0x316bb6(0x241)](_0x316bb6(0x198)),_0x5b1ba0=_0x50868a['querySelector'](_0x316bb6(0x1e9)),_0x1b0ffa=_0x50868a[_0x316bb6(0x241)](_0x316bb6(0x10c)),_0x88a762=_0x3a5b34[_0x316bb6(0x191)](),_0x35dc64=[];let _0x1e923c=null,_0x4a20ec=![];function _0xcebc6a(){var _0x56baf8=_0x316bb6;const _0x2f7a64=_0x15a7c1[_0x56baf8(0x156)][_0x56baf8(0x1ba)]();if(!_0x2f7a64)return;const _0x3a1849=_0x88a762[_0x56baf8(0x1bf)](_0x26ec59=>_0x26ec59['setName'][_0x56baf8(0x19b)]()===_0x2f7a64[_0x56baf8(0x19b)]());if(_0x3a1849)_0x35dc64[_0x56baf8(0x232)](_0x3a1849),_0x88a762[_0x56baf8(0x195)](_0x88a762['findIndex'](_0x3632be=>_0x3632be['setCode']===_0x3a1849[_0x56baf8(0x227)]),0x1);else{const _0x3a491e=_0x35dc64['some'](_0x407940=>_0x407940[_0x56baf8(0x1ca)]['toLowerCase']()===_0x2f7a64[_0x56baf8(0x19b)]());!_0x3a491e&&_0x35dc64[_0x56baf8(0x232)]({'setCode':_0x2f7a64,'setName':_0x2f7a64});}_0x28e09d(),_0xe34fb8(),_0x15a7c1[_0x56baf8(0x156)]='';}function _0xe34fb8(){var _0x149eea=_0x316bb6;_0x5b1ba0[_0x149eea(0x135)]='',_0x88a762[_0x149eea(0x1eb)](_0x27d83c=>_0x27d83c[_0x149eea(0x1ca)][_0x149eea(0x19b)]()[_0x149eea(0x100)](_0x15a7c1[_0x149eea(0x156)][_0x149eea(0x19b)]()))['slice'](0x0,0x14)['forEach'](_0x43cc5a=>{var _0x3441e0=_0x149eea,_0x387f38=document['createElement'](_0x3441e0(0x119));_0x387f38['textContent']=_0x43cc5a[_0x3441e0(0x1ca)],_0x387f38['dataset'][_0x3441e0(0xf8)]=_0x43cc5a[_0x3441e0(0x227)],_0x5b1ba0['appendChild'](_0x387f38),_0x387f38[_0x3441e0(0x1da)](_0x3441e0(0x208),()=>_0x4a20ec=!![]),_0x387f38['addEventListener'](_0x3441e0(0x142),function(){var _0x3725be=_0x3441e0;_0x4a20ec=![],_0x35dc64[_0x3725be(0x232)](_0x43cc5a),_0x88a762[_0x3725be(0x195)](_0x88a762[_0x3725be(0x137)](_0x2b58c6=>_0x2b58c6[_0x3725be(0x227)]===_0x43cc5a[_0x3725be(0x227)]),0x1),_0x15a7c1[_0x3725be(0x156)]='',_0x28e09d(),_0xe34fb8();});});}function _0x28e09d(){var _0x4ec1e4=_0x316bb6;_0x1b0ffa[_0x4ec1e4(0x135)]='',_0x35dc64[_0x4ec1e4(0xfd)](_0x178b88=>{var _0x55f435=_0x4ec1e4,_0x5bc519=document[_0x55f435(0x134)](_0x55f435(0x119));_0x5bc519['className']='tag',_0x5bc519[_0x55f435(0x13e)]=_0x178b88[_0x55f435(0x1ca)];var _0x4be422=document['createElement']('span');_0x4be422['className']=_0x55f435(0x158),_0x4be422[_0x55f435(0x13e)]='×',_0x4be422[_0x55f435(0x1da)](_0x55f435(0x142),function(){var _0x27745d=_0x55f435;_0x88a762[_0x27745d(0x232)](_0x178b88);const _0x3be724=_0x35dc64[_0x27745d(0x137)](_0xb043b5=>_0xb043b5[_0x27745d(0x227)]===_0x178b88['setCode']);if(_0x3be724>-0x1)_0x35dc64[_0x27745d(0x195)](_0x3be724,0x1);_0x28e09d(),_0xe34fb8();}),_0x5bc519[_0x55f435(0x155)](_0x4be422),_0x1b0ffa[_0x55f435(0x155)](_0x5bc519);}),_0x50868a['dispatchEvent'](new CustomEvent(_0x4ec1e4(0x16a),{'detail':_0x35dc64,'bubbles':!![]}));}return _0x15a7c1['addEventListener'](_0x316bb6(0x149),function(){var _0x2585da=_0x316bb6;_0x1e923c&&(clearTimeout(_0x1e923c),_0x1e923c=null),_0x5b1ba0[_0x2585da(0x11a)][_0x2585da(0x12f)](_0x2585da(0x20f));}),_0x15a7c1[_0x316bb6(0x1da)](_0x316bb6(0x15a),_0xe34fb8),_0x15a7c1[_0x316bb6(0x1da)](_0x316bb6(0x231),function(_0x3da35e){var _0x40fa67=_0x316bb6;_0x3da35e[_0x40fa67(0x222)]===_0x40fa67(0x239)&&(_0x3da35e['preventDefault'](),_0xcebc6a());}),_0x15a7c1[_0x316bb6(0x1da)]('blur',function(){if(_0x4a20ec)return;_0x1e923c=setTimeout(()=>{_0xcebc6a(),_0x1e923c=null;},0xc8);}),document[_0x316bb6(0x1da)]('click',function(_0x1fdf28){var _0x46f8ec=_0x316bb6;!_0x50868a[_0x46f8ec(0x233)](_0x1fdf28[_0x46f8ec(0x146)])&&_0x5b1ba0[_0x46f8ec(0x11a)][_0x46f8ec(0x16b)](_0x46f8ec(0x20f));}),_0xe34fb8(),_0x35dc64;}function getLastCode(_0x2dab62){var _0x37026c=_0x2e8741;const _0x5cdd2d=_0x2dab62[_0x37026c(0x22c)](_0x37916b=>String(_0x37916b[_0x37026c(0x19e)])[_0x37026c(0x1ba)]())['filter'](_0x20a68b=>_0x20a68b!=='');if(_0x5cdd2d[_0x37026c(0x1a5)]===0x0)return'';const _0x1f1d2b=_0x5cdd2d[_0x37026c(0x1d6)](_0x55be01=>/^\d+$/[_0x37026c(0x1f5)](_0x55be01));if(_0x1f1d2b){const _0x4dc511=_0x5cdd2d[_0x37026c(0x22c)](Number),_0x3b85a5=Math[_0x37026c(0x194)](..._0x4dc511);return String(_0x3b85a5);}let _0x432bb6;if(typeof Intl!==_0x37026c(0xff)&&Intl[_0x37026c(0x11d)]){const _0x202664=new Intl[(_0x37026c(0x11d))](undefined,{'numeric':!![],'sensitivity':_0x37026c(0xfe)});_0x432bb6=_0x5cdd2d[_0x37026c(0x191)]()[_0x37026c(0x243)](_0x202664[_0x37026c(0x15c)]);}else{const _0x1bc1f8=_0x5cdd2d[_0x37026c(0x1d6)](_0x5afd41=>/^\d+$/[_0x37026c(0x1f5)](_0x5afd41));_0x1bc1f8?_0x432bb6=_0x5cdd2d['map'](Number)[_0x37026c(0x243)]((_0x4d8661,_0x17170a)=>_0x4d8661-_0x17170a)[_0x37026c(0x22c)](String):_0x432bb6=_0x5cdd2d[_0x37026c(0x191)]()['sort']();}return _0x432bb6[_0x432bb6[_0x37026c(0x1a5)]-0x1];}function getNextCode(_0x207058){var _0xf0386f=_0x2e8741;const _0x320fae=getLastCode(_0x207058);if(!_0x320fae)return'';if(/^\d+$/[_0xf0386f(0x1f5)](_0x320fae))return String(Number(_0x320fae)+0x1);const _0x23422c=_0x320fae['match'](/^([A-Za-z]*)(\d+)$/);if(_0x23422c){const [,_0x5df650,_0x3cdee5]=_0x23422c,_0x3b8eb7=String(Number(_0x3cdee5)+0x1)[_0xf0386f(0x13d)](_0x3cdee5[_0xf0386f(0x1a5)],'0');return _0x5df650+_0x3b8eb7;}return _0x320fae;}document[_0x2e8741(0x1ef)](_0x2e8741(0x1f2))[_0x2e8741(0x1da)](_0x2e8741(0x15a),function(_0x5e5f1f){var _0x13c84d=_0x2e8741;baseItem[_0x13c84d(0x18f)]=_0x5e5f1f[_0x13c84d(0x146)][_0x13c84d(0x156)];}),document[_0x2e8741(0x1ef)](_0x2e8741(0x236))[_0x2e8741(0x1da)]('input',function(_0x364803){var _0x49439c=_0x2e8741;baseItem[_0x49439c(0x12d)]=_0x364803[_0x49439c(0x146)][_0x49439c(0x156)];}),document[_0x2e8741(0x1ef)]('inputItemDateExpiry')[_0x2e8741(0x1da)](_0x2e8741(0x15a),function(_0xcee25a){var _0x2e3675=_0x2e8741;baseItem['setItemDateExpiry']=_0xcee25a[_0x2e3675(0x146)]['value'];}),document['getElementById']('inputItemType')[_0x2e8741(0x1da)](_0x2e8741(0x1e2),function(_0x54e440){var _0x1f6cba=_0x2e8741;baseItem[_0x1f6cba(0x242)]=_0x54e440['target']['value'];}),document[_0x2e8741(0x1ef)]('inputItemTax')['addEventListener'](_0x2e8741(0x1e2),function(_0x629893){var _0x21890c=_0x2e8741;baseItem[_0x21890c(0x1d4)]=_0x629893[_0x21890c(0x146)][_0x21890c(0x156)];const _0x3d0094=_0x629893[_0x21890c(0x146)][_0x21890c(0x156)],_0xe08a12=company[0x0][_0x21890c(0x1f0)]['find'](_0x3b0def=>_0x3b0def[_0x21890c(0x14c)]==_0x3d0094)?.[_0x21890c(0x1c3)]||0x0,_0x5338ec=company[0x0][_0x21890c(0x1f0)][_0x21890c(0x1bf)](_0xd59c97=>_0xd59c97['setTaxId']==_0x3d0094)?.[_0x21890c(0x1ab)]||0x0;baseItem['setItemTaxCode']=_0xe08a12,baseItem[_0x21890c(0x216)]=_0x5338ec;}),document[_0x2e8741(0x1ef)](_0x2e8741(0x148))['addEventListener'](_0x2e8741(0x1e2),function(_0x345790){var _0x2fbae6=_0x2e8741;baseItem[_0x2fbae6(0x105)]=_0x345790[_0x2fbae6(0x146)][_0x2fbae6(0x1c8)];}),document[_0x2e8741(0x1ef)](_0x2e8741(0x201))[_0x2e8741(0x1da)](_0x2e8741(0x1e2),function(_0x568b22){var _0x532f74=_0x2e8741;baseItem['setItemIsSold']=_0x568b22[_0x532f74(0x146)]['checked'];}),document['getElementById'](_0x2e8741(0x177))[_0x2e8741(0x1da)]('input',function(_0x28e507){var _0x7ac64a=_0x2e8741;baseItem['setItemCode']=_0x28e507[_0x7ac64a(0x146)][_0x7ac64a(0x156)];}),document[_0x2e8741(0x1ef)](_0x2e8741(0x214))[_0x2e8741(0x1da)]('input',function(_0x5087d4){var _0x5458ac=_0x2e8741;baseItem['setItemBarCode']=_0x5087d4[_0x5458ac(0x146)][_0x5458ac(0x156)];}),document[_0x2e8741(0x1ef)](_0x2e8741(0x205))[_0x2e8741(0x1da)](_0x2e8741(0x142),function(){addUnit(),updateUnitsArray();}),document[_0x2e8741(0x1ef)](_0x2e8741(0x177))['addEventListener'](_0x2e8741(0x229),function(){var _0x3e4ada=_0x2e8741;const _0x2f4389=this[_0x3e4ada(0x156)][_0x3e4ada(0x1ba)]();if(_0x2f4389==='')return;const _0x10cefc=products[_0x3e4ada(0x15d)](_0xafd86b=>_0xafd86b[_0x3e4ada(0x19e)]==_0x2f4389),_0xa8c458=getLastCode(products);_0x10cefc?ntfShow(_0x3e4ada(0x1ff)+_0xa8c458,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x3b2556){var _0x378a73=_0x2e8741;currentImages[_0x3b2556]=null;var _0x3ed0cc=imgC[_0x378a73(0x241)](_0x378a73(0x167)+_0x3b2556+'\x22]');_0x3ed0cc[_0x378a73(0x135)]='';var _0x27d506=document[_0x378a73(0x134)](_0x378a73(0x15a));_0x27d506[_0x378a73(0x210)]=_0x378a73(0x114),_0x27d506[_0x378a73(0x203)]=_0x378a73(0x131),_0x27d506['style'][_0x378a73(0x1db)]='none';var _0x5a4e52=document['createElement'](_0x378a73(0x217));_0x5a4e52[_0x378a73(0x13e)]='+',_0x3ed0cc[_0x378a73(0x155)](_0x27d506),_0x3ed0cc[_0x378a73(0x155)](_0x5a4e52),_0x3ed0cc[_0x378a73(0x1da)](_0x378a73(0x142),function(){var _0x5cae11=_0x378a73;_0x27d506[_0x5cae11(0x142)]();}),baseItem[_0x378a73(0x11b)]=currentImages['filter'](function(_0x1a5f21){return _0x1a5f21;});}function addUnit(_0x5047bf,_0x122007,_0x2e4a64,_0x2a0dee,_0x23d48e,_0x55b659,_0x3fc5e0){var _0x33f422=_0x2e8741,_0x1197d0=uniqueValuesArray(_0x33f422(0x193),'setUnitName',myCompany[_0x33f422(0x11f)]);_0x5047bf=_0x5047bf||'',_0x122007=_0x122007||_0x1197d0[0x3a]&&_0x1197d0[0x3a]['setCode']||'',_0x2e4a64=_0x2e4a64!==undefined?_0x2e4a64:0x1,_0x2a0dee=!!_0x2a0dee,_0x23d48e=_0x23d48e||'',_0x55b659=_0x55b659||'';var _0x59da66=unitCount++,_0x57163c=document[_0x33f422(0x134)](_0x33f422(0x119));_0x57163c[_0x33f422(0x157)][_0x33f422(0x226)]=_0x59da66,_0x57163c['dataset'][_0x33f422(0x1e3)]=_0x2a0dee,_0x57163c['innerHTML']=_0x33f422(0x152)+_0x59da66+'\x22\x20value=\x22'+_0x5047bf+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x59da66+_0x33f422(0x174)+_0x59da66+_0x33f422(0x1f9)+_0x2e4a64+'\x22\x20'+(_0x2a0dee?'disabled':'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x59da66+_0x33f422(0x1f9)+_0x23d48e+_0x33f422(0x22d)+_0x59da66+_0x33f422(0x1f9)+_0x55b659+_0x33f422(0x118)+(_0x2a0dee?_0x33f422(0x1d0):'')+_0x33f422(0x1a3),fillSelect(_0x57163c[_0x33f422(0x241)](_0x33f422(0x16d)),_0x1197d0,_0x33f422(0x227),_0x33f422(0x1ca)),_0x57163c['querySelector'](_0x33f422(0x16d))[_0x33f422(0x156)]=_0x122007,[_0x33f422(0x1e6),_0x33f422(0x1df),'eqInput',_0x33f422(0x20d),_0x33f422(0x213)][_0x33f422(0xfd)](function(_0x4aa86c){var _0x5433dc=_0x33f422;_0x57163c[_0x5433dc(0x241)]('.'+_0x4aa86c)[_0x5433dc(0x1da)]('input',function(){var _0x3156e5=_0x3fc5e0?+_0x3fc5e0['id']['split']('_')[0x1]:null;if(_0x3fc5e0)updateVariantUnits(_0x3156e5);else updateUnitsArray();});}),_0x57163c[_0x33f422(0x241)]('.removeUnit')[_0x33f422(0x1da)](_0x33f422(0x142),function(){var _0x5581b4=_0x33f422;_0x57163c['remove']();var _0x49b8d7=_0x3fc5e0?+_0x3fc5e0['id'][_0x5581b4(0x150)]('_')[0x1]:null;if(_0x3fc5e0)updateVariantUnits(_0x49b8d7);else updateUnitsArray();});var _0x2c0133=_0x3fc5e0||document['getElementById'](_0x33f422(0x123));_0x2c0133[_0x33f422(0x155)](_0x57163c);}function containerIdx(_0x845cb9){var _0x205723=_0x2e8741;return+_0x845cb9['id'][_0x205723(0x150)]('_')[0x1];}function updateUnitsArray(){var _0x37ca5c=_0x2e8741,_0x10487b=[],_0x1bdf81=Array['from'](document[_0x37ca5c(0x21f)](_0x37ca5c(0x221))),_0x219fd1=_0x1bdf81[_0x37ca5c(0x1bf)](_0x48bf94=>_0x48bf94[_0x37ca5c(0x157)][_0x37ca5c(0x1e3)]===_0x37ca5c(0x21b)),_0x2f7132=_0x219fd1?+_0x219fd1['querySelector'](_0x37ca5c(0x19f))[_0x37ca5c(0x156)]:0x1;_0x1bdf81[_0x37ca5c(0xfd)](function(_0x55bdc6){var _0x4315fd=_0x37ca5c,_0x1686bc=+_0x55bdc6[_0x4315fd(0x241)](_0x4315fd(0x19f))['value']||0x0,_0x49b238=+_0x55bdc6[_0x4315fd(0x241)](_0x4315fd(0x225))[_0x4315fd(0x156)]||0x0,_0x4dfc19=+_0x55bdc6[_0x4315fd(0x241)](_0x4315fd(0x215))['value']||0x0;_0x10487b['push']({'setAlias':_0x55bdc6[_0x4315fd(0x241)](_0x4315fd(0x170))['value']['trim'](),'setUnitCode':_0x55bdc6[_0x4315fd(0x241)](_0x4315fd(0x16d))[_0x4315fd(0x156)],'setEquivalence':_0x1686bc,'setFactor':_0x55bdc6[_0x4315fd(0x157)][_0x4315fd(0x1e3)]===_0x4315fd(0x21b)?0x1:_0x1686bc==_0x2f7132?0x1:_0x1686bc<_0x2f7132?_0x2f7132/_0x1686bc:_0x1686bc/_0x2f7132,'setPrice':_0x49b238,'setCost':_0x4dfc19,'setDefault':_0x55bdc6['dataset'][_0x4315fd(0x1e3)]===_0x4315fd(0x21b)?0x1:0x0});}),baseItem[_0x37ca5c(0x218)]=_0x10487b;}function updateBranches(){var _0x83d13=_0x2e8741,_0x18838f=[];document[_0x83d13(0x21f)](_0x83d13(0x1cb))['forEach'](function(_0x47244d){var _0x17ad82=_0x83d13,_0x41854a=_0x47244d[_0x17ad82(0x241)]('.branchChk');if(_0x41854a['checked']){var _0xdbc237=+_0x41854a[_0x17ad82(0x157)]['id'],_0x32af9b=+_0x47244d[_0x17ad82(0x241)]('.branchInit')['value'],_0x582735=+_0x47244d[_0x17ad82(0x241)](_0x17ad82(0x1d2))[_0x17ad82(0x156)];_0x18838f[_0x17ad82(0x232)]({'setWarehouseCode':_0xdbc237,'setStockInitial':_0x32af9b,'setStockMinimum':_0x582735});}}),baseItem[_0x83d13(0x17b)]=_0x18838f;}document[_0x2e8741(0x1ef)](_0x2e8741(0x17a))['addEventListener'](_0x2e8741(0x142),function(){var _0x3a5613=_0x2e8741,_0x1011c5=Date[_0x3a5613(0x16c)](),_0x1d0e71=document[_0x3a5613(0x134)](_0x3a5613(0x119));_0x1d0e71['dataset'][_0x3a5613(0x226)]=_0x1011c5,_0x1d0e71[_0x3a5613(0x135)]=_0x3a5613(0x1ed)+_0x1011c5+_0x3a5613(0x125)+_0x1011c5+_0x3a5613(0x147),prodC[_0x3a5613(0x155)](_0x1d0e71),initProdSearch(_0x1d0e71[_0x3a5613(0x241)](_0x3a5613(0x127))),_0x1d0e71[_0x3a5613(0x241)](_0x3a5613(0x17d))[_0x3a5613(0x1da)](_0x3a5613(0x142),function(){_0x1d0e71['remove'](),updateProdItems();}),_0x1d0e71['querySelector'](_0x3a5613(0x202))['addEventListener'](_0x3a5613(0x15a),updateProdItems),document[_0x3a5613(0x1ef)](_0x3a5613(0x20b))[_0x3a5613(0x11a)][_0x3a5613(0x115)](_0x3a5613(0x1ee),!![]),document[_0x3a5613(0x1ef)](_0x3a5613(0x20b))[_0x3a5613(0x11a)][_0x3a5613(0x115)](_0x3a5613(0x20f),![]);});function initProdSearch(_0x18f563,_0x4ff8ae){var _0x58116e=_0x2e8741,_0x2fdd7d=_0x18f563[_0x58116e(0x241)](_0x58116e(0x1c1)),_0xc7df23=_0x18f563[_0x58116e(0x241)](_0x58116e(0x1e9)),_0x490725=_0x4ff8ae||null;if(_0x4ff8ae)_0x2fdd7d[_0x58116e(0x156)]=_0x4ff8ae[_0x58116e(0x138)];_0x2fdd7d[_0x58116e(0x1da)](_0x58116e(0x15a),function(){var _0x15db42=_0x58116e,_0x2e4746=_0x2fdd7d[_0x15db42(0x156)][_0x15db42(0x19b)]()['trim']();_0xc7df23[_0x15db42(0x135)]='';if(!_0x2e4746)return;products[_0x15db42(0x1eb)](_0x2b3d7e=>_0x2b3d7e['setDescripcion'][_0x15db42(0x19b)]()['includes'](_0x2e4746))[_0x15db42(0x191)](0x0,0x14)[_0x15db42(0xfd)](function(_0x91efb9){var _0x4b303b=_0x15db42,_0x59ef69=document[_0x4b303b(0x134)]('div');_0x59ef69[_0x4b303b(0x13e)]=_0x91efb9[_0x4b303b(0x1fa)],_0x59ef69[_0x4b303b(0x157)]['id']=_0x91efb9['id'],_0x59ef69[_0x4b303b(0x157)][_0x4b303b(0x138)]=_0x91efb9['setDescripcion'],_0xc7df23[_0x4b303b(0x155)](_0x59ef69),_0x59ef69[_0x4b303b(0x1da)](_0x4b303b(0x142),function(){var _0x3be8ae=_0x4b303b;_0x490725={'id':_0x91efb9['id'],'name':_0x91efb9['setDescripcion']},_0x2fdd7d[_0x3be8ae(0x156)]=_0x91efb9[_0x3be8ae(0x1fa)],_0xc7df23[_0x3be8ae(0x135)]='';var _0x510aa2=_0x18f563[_0x3be8ae(0x129)](_0x3be8ae(0x1bc));if(_0x510aa2){var _0x5832d7=+_0x510aa2['id'][_0x3be8ae(0x150)]('_')[0x1];updateVariantComponents(_0x5832d7);}else updateProdItems();});});}),_0x2fdd7d['addEventListener'](_0x58116e(0x149),function(){var _0x51b47a=_0x58116e;_0xc7df23[_0x51b47a(0x11a)]['remove'](_0x51b47a(0x20f));}),document[_0x58116e(0x1da)](_0x58116e(0x142),function(_0x211021){var _0x545474=_0x58116e;if(!_0x18f563['contains'](_0x211021[_0x545474(0x146)]))_0xc7df23[_0x545474(0x11a)][_0x545474(0x16b)](_0x545474(0x20f));}),Object['defineProperty'](_0x18f563,_0x58116e(0x108),{'get':()=>_0x490725});}function updateProdItems(){var _0x3a372a=_0x2e8741,_0x2f410f=[];Array['from'](prodC[_0x3a372a(0x101)])[_0x3a372a(0xfd)](function(_0x1a6bc4){var _0x31bda6=_0x3a372a,_0x247fe0=_0x1a6bc4[_0x31bda6(0x241)](_0x31bda6(0x127));if(!_0x247fe0)return;var _0x12bc58=_0x1a6bc4[_0x31bda6(0x241)](_0x31bda6(0x202)),_0x547193=_0x247fe0[_0x31bda6(0x108)];_0x547193&&_0x2f410f[_0x31bda6(0x232)]({'setItemId':_0x547193['id'],'setDescripcion':_0x547193['name'],'setCantidad':+_0x12bc58[_0x31bda6(0x156)]});}),baseItem['setItemComponents']=_0x2f410f,_0x2f410f[_0x3a372a(0x1a5)]===0x0&&(document[_0x3a372a(0x1ef)](_0x3a372a(0x20b))['classList'][_0x3a372a(0x115)](_0x3a372a(0x1ee),![]),document[_0x3a372a(0x1ef)](_0x3a372a(0x20b))['classList']['toggle'](_0x3a372a(0x20f),!![]));}document[_0x2e8741(0x1ef)](_0x2e8741(0x171))[_0x2e8741(0x1da)](_0x2e8741(0x142),function(){var _0x118f3d=_0x2e8741,_0xfb808d=vgCount++,_0x481601=document[_0x118f3d(0x134)](_0x118f3d(0x119));_0x481601[_0x118f3d(0x157)]['idx']=_0xfb808d,_0x481601['innerHTML']=_0x118f3d(0x1a8)+_0xfb808d+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0xfb808d+'\x22>'+_0x118f3d(0x1be),vgC[_0x118f3d(0x155)](_0x481601),_0x481601[_0x118f3d(0x241)](_0x118f3d(0x162))['addEventListener'](_0x118f3d(0x229),generateVariants),_0x481601[_0x118f3d(0x241)](_0x118f3d(0x23f))['addEventListener'](_0x118f3d(0x229),generateVariants),_0x481601[_0x118f3d(0x241)](_0x118f3d(0x169))[_0x118f3d(0x1da)](_0x118f3d(0x142),function(){var _0x567ab5=_0x118f3d;_0x481601[_0x567ab5(0x12f)](),generateVariants();});});function generateVariants(){var _0x6e11b3=_0x2e8741,_0x18fabb=[];vgC[_0x6e11b3(0x21f)]('div')['forEach'](function(_0xf4880b){var _0x67da4=_0x6e11b3,_0x498d06=_0xf4880b['querySelector']('.vgName')[_0x67da4(0x156)][_0x67da4(0x1ba)](),_0x7c2c74=_0xf4880b[_0x67da4(0x241)](_0x67da4(0x23f))['value'][_0x67da4(0x150)](',')[_0x67da4(0x22c)](_0x2935cd=>_0x2935cd[_0x67da4(0x1ba)]())[_0x67da4(0x1eb)](_0x340905=>_0x340905);if(_0x498d06&&_0x7c2c74[_0x67da4(0x1a5)])_0x18fabb[_0x67da4(0x232)]({'name':_0x498d06,'vals':_0x7c2c74});});var _0x17efaa=[{}];_0x18fabb[_0x6e11b3(0xfd)](function(_0xe7118e){var _0x2ca52b=_0x6e11b3;_0x17efaa=_0x17efaa[_0x2ca52b(0x1b7)](function(_0xb5ebd8){var _0x3e3a2a=_0x2ca52b;return _0xe7118e[_0x3e3a2a(0x189)][_0x3e3a2a(0x22c)](function(_0x483165){var _0x4daec1=_0x3e3a2a,_0xb681b9=Object[_0x4daec1(0x1dd)]({},_0xb5ebd8);return _0xb681b9[_0xe7118e[_0x4daec1(0x138)]]=_0x483165,_0xb681b9;});});}),newItems=[],varContainer[_0x6e11b3(0x135)]='',_0x17efaa[_0x6e11b3(0xfd)](function(_0x316327,_0x4cd4c8){var _0x5a32d5=_0x6e11b3,_0x59ea80=JSON[_0x5a32d5(0x224)](JSON[_0x5a32d5(0x173)](baseItem));_0x59ea80[_0x5a32d5(0x168)]=_0x316327,_0x59ea80[_0x5a32d5(0x10b)]=baseItem[_0x5a32d5(0x18f)]+'\x20'+Object['entries'](_0x316327)[_0x5a32d5(0x22c)](_0x1b9e9c=>_0x1b9e9c[0x0]+'\x20'+_0x1b9e9c[0x1])[_0x5a32d5(0x1e5)]('\x20'),newItems['push'](_0x59ea80);var _0x3147dc=document[_0x5a32d5(0x134)]('div');_0x3147dc[_0x5a32d5(0x11a)][_0x5a32d5(0x16b)](_0x5a32d5(0x238)),_0x3147dc[_0x5a32d5(0x157)][_0x5a32d5(0x226)]=_0x4cd4c8,_0x3147dc['innerHTML']=_0x5a32d5(0x1a1)+_0x59ea80[_0x5a32d5(0x10b)]+_0x5a32d5(0x186)+_0x59ea80['setItemCode']+_0x5a32d5(0x165)+_0x59ea80[_0x5a32d5(0x1bd)]+_0x5a32d5(0x18d)+_0x59ea80[_0x5a32d5(0x206)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4cd4c8+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x4cd4c8+_0x5a32d5(0x13f)+_0x4cd4c8+_0x5a32d5(0x1d9),varContainer[_0x5a32d5(0x155)](_0x3147dc),_0x3147dc[_0x5a32d5(0x241)]('.variantCode')[_0x5a32d5(0x1da)](_0x5a32d5(0x15a),_0x9e7527=>newItems[_0x4cd4c8][_0x5a32d5(0x14e)]=_0x9e7527[_0x5a32d5(0x146)][_0x5a32d5(0x156)]),_0x3147dc['querySelector']('.variantBarCode')[_0x5a32d5(0x1da)](_0x5a32d5(0x15a),_0x34e9fb=>newItems[_0x4cd4c8][_0x5a32d5(0x1bd)]=_0x34e9fb[_0x5a32d5(0x146)]['value']),_0x3147dc[_0x5a32d5(0x241)](_0x5a32d5(0x1f4))['addEventListener']('change',_0x30d110=>newItems[_0x4cd4c8][_0x5a32d5(0x206)]=_0x30d110[_0x5a32d5(0x146)][_0x5a32d5(0x156)]),initVariantUnits(_0x4cd4c8),initVariantComponents(_0x4cd4c8),initVariantBranches(_0x4cd4c8),_0x3147dc[_0x5a32d5(0x241)]('.removeVariant')[_0x5a32d5(0x1da)](_0x5a32d5(0x142),function(){var _0x347929=_0x5a32d5,_0x56078e=+_0x3147dc[_0x347929(0x157)][_0x347929(0x226)];newItems['splice'](_0x56078e,0x1),_0x3147dc[_0x347929(0x12f)](),document['querySelectorAll'](_0x347929(0x1c4))[_0x347929(0xfd)](function(_0x44278b,_0x2115ac){var _0x5de27f=_0x347929;_0x44278b[_0x5de27f(0x157)][_0x5de27f(0x226)]=_0x2115ac;});});});if(newItems[_0x6e11b3(0x1a5)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x40e687){var _0x1c9476=_0x2e8741,_0x461a39=document[_0x1c9476(0x1ef)](_0x1c9476(0x1c7)+_0x40e687+_0x1c9476(0x23d)),_0x19ef5f=[];Array[_0x1c9476(0x141)](_0x461a39[_0x1c9476(0x101)])[_0x1c9476(0xfd)](function(_0x7fae9f){var _0x44ee86=_0x1c9476,_0x5c13e0=+_0x7fae9f[_0x44ee86(0x241)](_0x44ee86(0x19f))['value']||0x0,_0x1ff791=_0x7fae9f['querySelector']('.unitAlias')['value'][_0x44ee86(0x1ba)](),_0x5068f7=_0x7fae9f[_0x44ee86(0x241)](_0x44ee86(0x16d))[_0x44ee86(0x156)],_0x561e83=+_0x7fae9f['querySelector']('.priceInput')['value']||0x0,_0x4254f9=+_0x7fae9f['querySelector'](_0x44ee86(0x215))[_0x44ee86(0x156)]||0x0,_0x2f242c=_0x7fae9f[_0x44ee86(0x157)][_0x44ee86(0x1e3)]===_0x44ee86(0x21b),_0x2c91ef=+_0x461a39[_0x44ee86(0x241)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x44ee86(0x156)]||0x1,_0x36579b=_0x2f242c?0x1:_0x5c13e0==_0x2c91ef?0x1:_0x5c13e0<_0x2c91ef?_0x2c91ef/_0x5c13e0:_0x5c13e0/_0x2c91ef;_0x19ef5f[_0x44ee86(0x232)]({'setAlias':_0x1ff791,'setUnitCode':_0x5068f7,'setEquivalence':_0x5c13e0,'setFactor':_0x36579b,'setPrice':_0x561e83,'setCost':_0x4254f9,'setDefault':_0x2f242c?0x1:0x0});}),newItems[_0x40e687][_0x1c9476(0x218)]=_0x19ef5f;}function initVariantUnits(_0x265bbd){var _0x44b419=_0x2e8741,_0x57fb7b=document['getElementById']('variant_'+_0x265bbd+_0x44b419(0x23d));_0x57fb7b['innerHTML']='',newItems[_0x265bbd][_0x44b419(0x218)]['forEach'](function(_0x983f50){var _0x2075c9=_0x44b419;addUnit(_0x983f50[_0x2075c9(0x143)],_0x983f50['setUnitCode'],_0x983f50[_0x2075c9(0x1cc)],_0x983f50[_0x2075c9(0x140)],_0x983f50[_0x2075c9(0x230)],_0x983f50[_0x2075c9(0x12b)],_0x57fb7b);}),_0x57fb7b[_0x44b419(0x10d)][_0x44b419(0x241)](_0x44b419(0xf9))[_0x44b419(0x1da)](_0x44b419(0x142),function(){addUnit('','',0x1,![],'','',_0x57fb7b),updateVariantUnits(_0x265bbd);});}function updateVariantUnits(_0x34b6b6){var _0x1fd536=_0x2e8741,_0x5a2cf4=document[_0x1fd536(0x1ef)](_0x1fd536(0x1c7)+_0x34b6b6+_0x1fd536(0x23d)),_0x166323=_0x5a2cf4['querySelector'](_0x1fd536(0xf7)),_0x5f58bd=_0x166323?+_0x166323[_0x1fd536(0x156)]:0x1,_0x4e6cbf=Array[_0x1fd536(0x141)](_0x5a2cf4[_0x1fd536(0x101)])[_0x1fd536(0x22c)](function(_0x325584){var _0x53e2e0=_0x1fd536,_0x5b998e=_0x325584[_0x53e2e0(0x241)](_0x53e2e0(0x170))[_0x53e2e0(0x156)]['trim'](),_0x17b464=_0x325584[_0x53e2e0(0x241)](_0x53e2e0(0x16d))[_0x53e2e0(0x156)],_0x28db64=+_0x325584['querySelector'](_0x53e2e0(0x19f))[_0x53e2e0(0x156)]||0x0,_0x22dffe=+_0x325584[_0x53e2e0(0x241)](_0x53e2e0(0x225))[_0x53e2e0(0x156)]||0x0,_0x131bb9=+_0x325584[_0x53e2e0(0x241)](_0x53e2e0(0x215))[_0x53e2e0(0x156)]||0x0,_0x32c374=_0x325584[_0x53e2e0(0x157)][_0x53e2e0(0x1e3)]==='true';return{'setAlias':_0x5b998e,'setUnitCode':_0x17b464,'setEquivalence':_0x28db64,'setFactor':_0x32c374?0x1:_0x28db64==_0x5f58bd?0x1:_0x28db64<_0x5f58bd?_0x5f58bd/_0x28db64:_0x28db64/_0x5f58bd,'setPrice':_0x22dffe,'setCost':_0x131bb9,'setDefault':_0x32c374?0x1:0x0};});newItems[_0x34b6b6]['setItemUnits']=_0x4e6cbf;}function initVariantComponents(_0x26d355){var _0x41d873=_0x2e8741,_0x2e1a56=document[_0x41d873(0x1ef)](_0x41d873(0x1c7)+_0x26d355+_0x41d873(0x106));_0x2e1a56[_0x41d873(0x135)]='',newItems[_0x26d355][_0x41d873(0x121)][_0x41d873(0xfd)](function(_0x9ebf33){var _0x1ca145=_0x41d873,_0x193e45=document[_0x1ca145(0x134)](_0x1ca145(0x119)),_0x259b99=Date[_0x1ca145(0x16c)]();_0x193e45[_0x1ca145(0x157)][_0x1ca145(0x226)]=_0x259b99,_0x193e45[_0x1ca145(0x135)]=_0x1ca145(0x11e)+_0x259b99+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x9ebf33[_0x1ca145(0xf6)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x2e1a56[_0x1ca145(0x155)](_0x193e45),initProdSearch(_0x193e45[_0x1ca145(0x241)](_0x1ca145(0x127)),{'id':_0x9ebf33[_0x1ca145(0x151)],'name':_0x9ebf33['setDescripcion']}),_0x193e45[_0x1ca145(0x241)](_0x1ca145(0x202))[_0x1ca145(0x1da)](_0x1ca145(0x15a),function(){updateVariantComponents(_0x26d355);}),_0x193e45[_0x1ca145(0x241)](_0x1ca145(0x197))[_0x1ca145(0x1da)](_0x1ca145(0x142),function(){_0x193e45['remove'](),updateVariantComponents(_0x26d355);});}),_0x2e1a56['parentNode'][_0x41d873(0x241)](_0x41d873(0x196))[_0x41d873(0x1da)](_0x41d873(0x142),function(){var _0x2e4044=_0x41d873,_0x48d508=document[_0x2e4044(0x134)]('div'),_0x282177=Date[_0x2e4044(0x16c)]();_0x48d508[_0x2e4044(0x157)]['idx']=_0x282177,_0x48d508[_0x2e4044(0x135)]=_0x2e4044(0x11e)+_0x282177+_0x2e4044(0x23a),_0x2e1a56[_0x2e4044(0x155)](_0x48d508),initProdSearch(_0x48d508[_0x2e4044(0x241)]('.prod_input_container')),_0x48d508['querySelector']('.prodQty')[_0x2e4044(0x1da)]('input',function(){updateVariantComponents(_0x26d355);}),_0x48d508[_0x2e4044(0x241)](_0x2e4044(0x197))['addEventListener'](_0x2e4044(0x142),function(){var _0x1655cc=_0x2e4044;_0x48d508[_0x1655cc(0x12f)](),updateVariantComponents(_0x26d355);});});}function updateVariantComponents(_0x221352){var _0x2f7bee=_0x2e8741,_0x3ff92a=document[_0x2f7bee(0x1ef)](_0x2f7bee(0x1c7)+_0x221352+_0x2f7bee(0x106)),_0x114ae1=Array[_0x2f7bee(0x141)](_0x3ff92a[_0x2f7bee(0x101)])[_0x2f7bee(0x22c)](function(_0x7d8af0){var _0x2bbb23=_0x2f7bee,_0x3caaa3=_0x7d8af0[_0x2bbb23(0x241)](_0x2bbb23(0x127)),_0xb243f3=_0x3caaa3[_0x2bbb23(0x108)],_0x5a51e3=+_0x7d8af0[_0x2bbb23(0x241)](_0x2bbb23(0x202))[_0x2bbb23(0x156)]||0x0;return _0xb243f3?{'setItemId':_0xb243f3['id'],'setDescripcion':_0xb243f3[_0x2bbb23(0x138)],'setCantidad':_0x5a51e3}:null;})['filter'](_0x477dbd=>_0x477dbd);newItems[_0x221352][_0x2f7bee(0x121)]=_0x114ae1;}function initVariantBranches(_0x14c39a){var _0x1f9cf0=_0x2e8741;const _0x5ecc88=getAllWarehouses();var _0x3abcc0=document[_0x1f9cf0(0x1ef)](_0x1f9cf0(0x1c7)+_0x14c39a+'_branch_container');_0x3abcc0[_0x1f9cf0(0x135)]='',newItems[_0x14c39a][_0x1f9cf0(0x17b)][_0x1f9cf0(0xfd)](function(_0x51e375){var _0xc9d5ab=_0x1f9cf0,_0x59059d=_0x5ecc88[_0xc9d5ab(0x1bf)](_0x1083fb=>_0x1083fb[_0xc9d5ab(0x1fb)]==_0x51e375[_0xc9d5ab(0x1e1)]),_0x44b0b3=document[_0xc9d5ab(0x134)](_0xc9d5ab(0x119));_0x44b0b3[_0xc9d5ab(0x135)]=_0xc9d5ab(0x1af)+_0x51e375[_0xc9d5ab(0x1e1)]+_0xc9d5ab(0x10f)+_0x59059d[_0xc9d5ab(0x179)]+_0xc9d5ab(0x1ce)+_0x51e375[_0xc9d5ab(0x1e1)]+_0xc9d5ab(0x1f9)+_0x51e375['setStockInitial']+_0xc9d5ab(0x103)+_0x51e375['setWarehouseCode']+_0xc9d5ab(0x1f9)+_0x51e375[_0xc9d5ab(0x1b9)]+'\x22>',_0x3abcc0[_0xc9d5ab(0x155)](_0x44b0b3),_0x44b0b3['querySelectorAll'](_0xc9d5ab(0x15a))['forEach'](function(_0x4417da){var _0x15a655=_0xc9d5ab;_0x4417da[_0x15a655(0x1da)]('input',function(){updateVariantBranches(_0x14c39a);});});}),_0x5ecc88[_0x1f9cf0(0xfd)](function(_0x5540b0){var _0x3c0eaa=_0x1f9cf0;if(!newItems[_0x14c39a][_0x3c0eaa(0x17b)][_0x3c0eaa(0x1bf)](_0x8216cf=>_0x8216cf['setWarehouseCode']===_0x5540b0[_0x3c0eaa(0x1fb)])){var _0x30faea=document[_0x3c0eaa(0x134)](_0x3c0eaa(0x119));_0x30faea['innerHTML']=_0x3c0eaa(0x1af)+_0x5540b0['setWarehouseId']+_0x3c0eaa(0x1e8)+_0x5540b0[_0x3c0eaa(0x179)]+_0x3c0eaa(0x1ce)+_0x5540b0[_0x3c0eaa(0x1fb)]+_0x3c0eaa(0x103)+_0x5540b0[_0x3c0eaa(0x1fb)]+'\x22>',_0x3abcc0['appendChild'](_0x30faea),_0x30faea['querySelectorAll'](_0x3c0eaa(0x15a))['forEach'](function(_0x493655){var _0x100670=_0x3c0eaa;_0x493655[_0x100670(0x1da)](_0x100670(0x15a),function(){updateVariantBranches(_0x14c39a);});});}});}function updateVariantBranches(_0x3daa1e){var _0x19ad12=_0x2e8741,_0x45cc65=document[_0x19ad12(0x1ef)](_0x19ad12(0x1c7)+_0x3daa1e+_0x19ad12(0x112)),_0x4073e3=[];_0x45cc65['querySelectorAll']('div')['forEach'](function(_0x51a2bc){var _0x57a5fa=_0x19ad12,_0x11ca24=_0x51a2bc[_0x57a5fa(0x241)]('.branchChk');if(_0x11ca24[_0x57a5fa(0x1c8)]){var _0x422c0c=+_0x11ca24['dataset']['id'],_0x431d30=+_0x51a2bc[_0x57a5fa(0x241)](_0x57a5fa(0x209))[_0x57a5fa(0x156)]||0x0,_0x404432=+_0x51a2bc['querySelector'](_0x57a5fa(0x1d2))[_0x57a5fa(0x156)]||0x0;_0x4073e3[_0x57a5fa(0x232)]({'setWarehouseCode':_0x422c0c,'setStockInitial':_0x431d30,'setStockMinimum':_0x404432});}}),newItems[_0x3daa1e]['setItemWarehouses']=_0x4073e3;}async function storeOfflineProduct(_0x420c46){var _0x1efdb7=_0x2e8741;try{const _0x5abf38=await createCartStore(''),_0x268c00=_0x5abf38[_0x1efdb7(0x13c)]('offline_operations',_0x1efdb7(0x190)),_0x21bf37=_0x268c00[_0x1efdb7(0x1a9)](_0x1efdb7(0x187));_0x21bf37[_0x1efdb7(0x16b)](_0x420c46),_0x268c00['oncomplete']=()=>{var _0x5bb601=_0x1efdb7;console['log'](_0x5bb601(0x104));},_0x268c00[_0x1efdb7(0x1cf)]=_0x470e3b=>{var _0x16b717=_0x1efdb7;console[_0x16b717(0x15f)](_0x16b717(0x17f),_0x470e3b[_0x16b717(0x146)][_0x16b717(0x15f)]);};}catch(_0x534662){console[_0x1efdb7(0x15f)](_0x1efdb7(0x1b0),_0x534662);}}document[_0x2e8741(0x1ef)](_0x2e8741(0x159))[_0x2e8741(0x1da)]('click',async function(_0x37ff3f){var _0x3324f5=_0x2e8741;_0x37ff3f['preventDefault']();const _0x2ff83e=document[_0x3324f5(0x1ef)](_0x3324f5(0x177)),_0xe163f0=document[_0x3324f5(0x1ef)]('setItemFree')['value'];if(!_0x2ff83e[_0x3324f5(0x156)]['trim']()&&_0xe163f0==0x0){ntfShow(_0x3324f5(0x21d),0x2,0x1);return;}_0xe163f0==0x1&&(_0x2ff83e[_0x3324f5(0x156)]='',baseItem['setItemCode']='');const _0x272ee0=document[_0x3324f5(0x1ef)](_0x3324f5(0x1f2));if(!_0x272ee0[_0x3324f5(0x156)][_0x3324f5(0x1ba)]()){ntfShow(_0x3324f5(0x110),0x2,0x1);return;}const _0x2a5c31=document[_0x3324f5(0x1ef)](_0x3324f5(0x192));hideModalCreateItem(),showLoadingModal();newItems[_0x3324f5(0x1a5)]===0x0&&(newItems=[baseItem]);const _0x205e10=document[_0x3324f5(0x1ef)](_0x3324f5(0x113))[_0x3324f5(0x156)],_0x5e4871=window_options[_0x205e10][_0x3324f5(0x120)],_0x1988f0=[];newItems[_0x3324f5(0xfd)](_0x861c43=>{var _0x4e0357=_0x3324f5;const _0x906046=generateNumericUniqId();_0x861c43[_0x4e0357(0x218)][_0x4e0357(0xfd)](_0x264d03=>{var _0x490dbd=_0x4e0357;const _0x5cdaae=generateNumericUniqId();_0x264d03['setItemUnitId']=_0x5cdaae;const _0x37b38e={'id':_0x5cdaae,'setIdProducto':_0x906046,'setCodProducto':_0x861c43[_0x490dbd(0x14e)],'setDescripcion':_0x861c43[_0x490dbd(0x18f)],'setItemDescription':_0x861c43[_0x490dbd(0x12d)],'setBatchExpirationDate':_0x861c43[_0x490dbd(0x206)],'setBatchName':'','setCategoria':_0x861c43[_0x490dbd(0x14d)][0x0]||'','setMarca':_0x861c43[_0x490dbd(0x16e)][0x0]||'','setConversionFactor':parseFloat(_0x264d03[_0x490dbd(0x235)]),'setImages':[],'setImg':_0x490dbd(0x166),'setInventariable':0x1,'setItemIsBought':_0x861c43[_0x490dbd(0x105)]?0x1:0x0,'setItemIsSold':_0x861c43[_0x490dbd(0x12c)]?0x1:0x0,'setPorcentajeIgv':_0x861c43[_0x490dbd(0x216)],'setPrinters':[],'setTaxId':_0x861c43[_0x490dbd(0x1d4)],'setTipAfeIgv':_0x861c43[_0x490dbd(0x1e0)],'setUnidad':_0x264d03[_0x490dbd(0x193)],'setUnidadCodigo':_0x264d03[_0x490dbd(0x193)],'setItemUnitAlias':_0x264d03[_0x490dbd(0x143)],'currency_data':[{'currency':_0x5e4871,'setMtoPrecioCostoUnitario':_0x264d03[_0x490dbd(0x12b)],'setMtoPrecioUnitario':_0x264d03[_0x490dbd(0x230)],'setPriceLists':[]}],'sucursales':_0x861c43[_0x490dbd(0x17b)]['map'](_0x55b500=>({'setIdSucursal':_0x55b500[_0x490dbd(0x1e1)],'setSucursalStock':_0x55b500[_0x490dbd(0x1a7)][_0x490dbd(0x1b6)](),'setWarehouseStockMin':_0x55b500['setStockMinimum'][_0x490dbd(0x1b6)]()})),'setItemFree':_0x861c43[_0x490dbd(0x12e)],'setItemBarCode':_0x861c43[_0x490dbd(0x1bd)],'setItemBrands':_0x861c43[_0x490dbd(0x16e)][_0x490dbd(0x191)](),'setItemCategories':_0x861c43['setItemCategories'][_0x490dbd(0x191)](),'setItemComponents':_0x861c43[_0x490dbd(0x121)][_0x490dbd(0x22c)](_0x4e7307=>({..._0x4e7307})),'setItemImages':_0x861c43[_0x490dbd(0x11b)][_0x490dbd(0x191)](),'setItemVariantName':_0x861c43['setItemVariantName'],'setItemVariantValues':{..._0x861c43[_0x490dbd(0x168)]}};_0x1988f0['push'](_0x37b38e),(_0x2a5c31[_0x490dbd(0x1c8)]||_0xe163f0==0x1)&&addToCart(_0x37b38e);});}),console[_0x3324f5(0x184)](_0x3324f5(0x145),newItems),await finalizeImport(_0x1988f0,newItems,![]);}),[_0x2e8741(0x1e7),_0x2e8741(0x15e)]['forEach'](_0x49cc1f=>dropZone['addEventListener'](_0x49cc1f,_0xb79de6=>{var _0x5b94cc=_0x2e8741;_0xb79de6['preventDefault'](),dropZone['classList']['add'](_0x5b94cc(0x15e));})),['dragleave',_0x2e8741(0x1ea)][_0x2e8741(0xfd)](_0xf0ff85=>dropZone['addEventListener'](_0xf0ff85,_0xb9b718=>{var _0x499fee=_0x2e8741;_0xb9b718['preventDefault'](),dropZone['classList']['remove'](_0x499fee(0x15e));})),dropZone[_0x2e8741(0x1da)](_0x2e8741(0x1ea),_0x25c7e7=>{var _0x1c0547=_0x2e8741;const _0xbd8bee=_0x25c7e7[_0x1c0547(0x19d)][_0x1c0547(0x13b)][0x0];if(!_0xbd8bee)return;fileInput[_0x1c0547(0x13b)]=_0x25c7e7['dataTransfer'][_0x1c0547(0x13b)],dropZone[_0x1c0547(0x241)](_0x1c0547(0x244))[_0x1c0547(0x13e)]=_0xbd8bee[_0x1c0547(0x138)],removeBtn[_0x1c0547(0x1ac)]=![],fileInput[_0x1c0547(0x1fe)](new Event(_0x1c0547(0x1e2)));}),removeBtn[_0x2e8741(0x1da)]('click',()=>{var _0x315aad=_0x2e8741;fileInput[_0x315aad(0x156)]='',dropZone[_0x315aad(0x241)](_0x315aad(0x244))[_0x315aad(0x13e)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x315aad(0x1ac)]=!![],progressBar[_0x315aad(0x180)][_0x315aad(0x1db)]=_0x315aad(0x144),statusDiv[_0x315aad(0x13e)]='',uploadBtn[_0x315aad(0x1c0)]=!![];});const exportBtn=document['getElementById'](_0x2e8741(0x1c2));exportBtn[_0x2e8741(0x1da)](_0x2e8741(0x142),onClickExportarItems);async function onClickExportarItems(){var _0x338af0=_0x2e8741;if(!Array[_0x338af0(0x12a)](products)||!products['length']){ntfShow(_0x338af0(0x22b));return;}try{const _0x566c84=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x566c84['ok'])throw new Error(_0x338af0(0x17e));const _0x82e19c=await _0x566c84[_0x338af0(0x1f7)](),_0x511413=document[_0x338af0(0x1ef)](_0x338af0(0x1fb))[_0x338af0(0x156)];let _0x38cbaf=products;const _0x1ed7ed=getUserPermissionApiERP(0x2);_0x1ed7ed==0x1&&(_0x38cbaf=products[_0x338af0(0x1eb)](_0x8acfba=>Array[_0x338af0(0x12a)](_0x8acfba[_0x338af0(0x204)])&&_0x8acfba[_0x338af0(0x204)]['some'](_0x5378c2=>String(_0x5378c2[_0x338af0(0x18b)])==String(_0x511413))));const _0x36b9c0=_0x38cbaf[_0x338af0(0x237)]((_0x5c8de5,_0x40d104)=>{var _0x38ed61=_0x338af0;const _0x16080b=_0x40d104[_0x38ed61(0x116)];if(!_0x5c8de5[_0x16080b])_0x5c8de5[_0x16080b]=[];return _0x5c8de5[_0x16080b][_0x38ed61(0x232)](_0x40d104),_0x5c8de5;},{}),_0x4e3306=Object['values'](_0x36b9c0)[_0x338af0(0x22c)](_0x5d4576=>{var _0x4bd609=_0x338af0;const _0x56e057=_0x5d4576[0x0],_0x58e9c1=_0x5d4576[0x1]||{},_0x1f4c5a=_0x5d4576[0x2]||{};function _0x44ca93(_0x240962,_0x2396af,_0xd2cf73){var _0x982950=_0x6d43;if(!_0x240962||!Array[_0x982950(0x12a)](_0x240962[_0x982950(0x1cd)]))return'';const _0x5e887=_0x240962[_0x982950(0x1cd)]['find'](_0x535dea=>_0x535dea[_0x982950(0x111)]===_0x2396af);return _0x5e887?_0x5e887[_0xd2cf73]:'';}return{'id':_0x56e057[_0x4bd609(0x116)],'setItemType':_0x56e057[_0x4bd609(0x242)],'setCodProducto':_0x56e057[_0x4bd609(0x19e)],'setDescripcion':_0x56e057[_0x4bd609(0x1fa)],'setItemDescription':_0x56e057[_0x4bd609(0x12d)],'setItemIsSold':_0x56e057[_0x4bd609(0x12c)],'setItemIsBought':_0x56e057[_0x4bd609(0x105)],'setCategoria':_0x56e057[_0x4bd609(0x10a)],'setMarca':_0x56e057[_0x4bd609(0x21e)],'setTaxId':_0x56e057['setTaxId'],'setUnitId':_0x56e057['id'],'setItemBarCode':_0x56e057['setItemBarCode'],'setUnidadCodigo':_0x56e057[_0x4bd609(0x1ae)],'setItemUnitAlias':_0x56e057[_0x4bd609(0x1fc)]??'','PEN_setMtoPrecioUnitario':_0x44ca93(_0x56e057,_0x4bd609(0x220),_0x4bd609(0x1bb)),'PEN_setMtoPrecioCostoUnitario':_0x44ca93(_0x56e057,_0x4bd609(0x220),_0x4bd609(0x20e)),'USD_setMtoPrecioUnitario':_0x44ca93(_0x56e057,_0x4bd609(0x178),_0x4bd609(0x1bb)),'USD_setMtoPrecioCostoUnitario':_0x44ca93(_0x56e057,_0x4bd609(0x178),_0x4bd609(0x20e)),'setItemCommissionPercentage':_0x56e057[_0x4bd609(0x1f6)]?parseFloat(_0x56e057[_0x4bd609(0x1f6)]):'','setUnitId2':_0x58e9c1['id']??'','setItemBarCode2':_0x58e9c1['setItemBarCode']??'','setUnidadCodigo2':_0x58e9c1['setUnidadCodigo']??'','setItemUnitAlias2':_0x58e9c1['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x58e9c1[_0x4bd609(0x126)]??'','PEN_setMtoPrecioUnitario2':_0x44ca93(_0x58e9c1,_0x4bd609(0x220),_0x4bd609(0x1bb))??'','PEN_setMtoPrecioCostoUnitario2':_0x44ca93(_0x58e9c1,_0x4bd609(0x220),_0x4bd609(0x20e))??'','USD_setMtoPrecioUnitario2':_0x44ca93(_0x58e9c1,_0x4bd609(0x178),_0x4bd609(0x1bb))??'','USD_setMtoPrecioCostoUnitario2':_0x44ca93(_0x58e9c1,_0x4bd609(0x178),_0x4bd609(0x20e))??'','setItemCommissionPercentage2':_0x58e9c1[_0x4bd609(0x1f6)]?parseFloat(_0x58e9c1[_0x4bd609(0x1f6)]):'','setUnitId3':_0x1f4c5a['id']??'','setItemBarCode3':_0x1f4c5a[_0x4bd609(0x1bd)]??'','setUnidadCodigo3':_0x1f4c5a[_0x4bd609(0x1ae)]??'','setItemUnitAlias3':_0x1f4c5a['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x1f4c5a['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x44ca93(_0x1f4c5a,_0x4bd609(0x220),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x44ca93(_0x1f4c5a,_0x4bd609(0x220),_0x4bd609(0x20e))??'','USD_setMtoPrecioUnitario3':_0x44ca93(_0x1f4c5a,_0x4bd609(0x178),_0x4bd609(0x1bb))??'','USD_setMtoPrecioCostoUnitario3':_0x44ca93(_0x1f4c5a,_0x4bd609(0x178),_0x4bd609(0x20e))??'','setItemCommissionPercentage3':_0x1f4c5a[_0x4bd609(0x1f6)]?parseFloat(_0x1f4c5a[_0x4bd609(0x1f6)]):'','setInventariable':_0x56e057[_0x4bd609(0x1de)],'setSucursalStock':_0x1ed7ed==0x1?_0x56e057['sucursales'][_0x4bd609(0x1bf)](_0x240997=>String(_0x240997[_0x4bd609(0x18b)])==String(_0x511413))[_0x4bd609(0x109)]:'','setWarehouseStockMin':_0x1ed7ed==0x1?_0x56e057[_0x4bd609(0x204)]['find'](_0xfb5881=>String(_0xfb5881['setIdSucursal'])==String(_0x511413))[_0x4bd609(0x1b3)]:'','setBatchName':_0x56e057['setBatchName'],'setBatchExpirationDate':_0x56e057[_0x4bd609(0x15b)],..._0x56e057[_0x4bd609(0x168)]};});try{JSON[_0x338af0(0x173)](_0x4e3306);}catch(_0x344214){console['error']('ERROR:\x20plainProducts\x20no\x20serializable:',_0x344214),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x338af0(0x13e)]=_0x338af0(0x228),progressBar[_0x338af0(0x180)]['display']='block',progressBar[_0x338af0(0x156)]=0x0,itemWorker[_0x338af0(0x1e4)]({'action':_0x338af0(0x1dc),'products':_0x4e3306,'plantillaBuf':_0x82e19c},[_0x82e19c]);}catch(_0x4d2d56){console[_0x338af0(0x15f)](_0x4d2d56),ntfShow(_0x338af0(0x20c)+_0x4d2d56['message']);}}itemWorker['onmessage']=({data:_0x3d39b6})=>{var _0x25b6d8=_0x2e8741;const {type:_0xf81d41,payload:_0x8a9fa3}=_0x3d39b6;_0xf81d41==='progress'&&(progressBar[_0x25b6d8(0x180)][_0x25b6d8(0x1db)]='block',progressBar[_0x25b6d8(0x156)]=_0x8a9fa3['percent'],statusDiv[_0x25b6d8(0x13e)]=_0x8a9fa3[_0x25b6d8(0x188)]);_0xf81d41===_0x25b6d8(0x124)&&(newItemsExcel=_0x8a9fa3[_0x25b6d8(0x22e)],statusDiv[_0x25b6d8(0x13e)]='✅\x20'+newItemsExcel[_0x25b6d8(0x1a5)]+_0x25b6d8(0x183),uploadBtn[_0x25b6d8(0x1c0)]=![],progressBar[_0x25b6d8(0x156)]=0x64,console[_0x25b6d8(0x184)](newItemsExcel));_0xf81d41===_0x25b6d8(0x15f)&&(statusDiv[_0x25b6d8(0x13e)]='❌\x20Error:\x20'+_0x8a9fa3,progressBar['style'][_0x25b6d8(0x1db)]=_0x25b6d8(0x144));if(_0xf81d41===_0x25b6d8(0x22f)){const {wbout:_0x175e10,count:_0x497391}=_0x8a9fa3,_0xe4a01f=new Blob([_0x175e10],{'type':_0x25b6d8(0x18e)}),_0x25d0ab=URL['createObjectURL'](_0xe4a01f),_0x5ce9a6=document[_0x25b6d8(0x134)]('a'),_0x5cc501=new Date()['toISOString']()[_0x25b6d8(0x191)](0x0,0xa);_0x5ce9a6[_0x25b6d8(0x181)]='Plantilla-Items-Export-'+_0x5cc501+_0x25b6d8(0x102),_0x5ce9a6[_0x25b6d8(0x164)]=_0x25d0ab,_0x5ce9a6[_0x25b6d8(0x142)](),URL['revokeObjectURL'](_0x25d0ab),statusDiv[_0x25b6d8(0x13e)]=_0x25b6d8(0x1d8)+_0x497391+_0x25b6d8(0x17c),progressBar[_0x25b6d8(0x180)]['display']='none';}},fileInput[_0x2e8741(0x1da)](_0x2e8741(0x1e2),async _0xec91ad=>{var _0x15e933=_0x2e8741;const _0x3c707d=_0xec91ad[_0x15e933(0x146)][_0x15e933(0x13b)][0x0];if(!_0x3c707d)return;uploadBtn[_0x15e933(0x1c0)]=!![],newItemsExcel=null,statusDiv[_0x15e933(0x13e)]='',progressBar['style']['display']=_0x15e933(0x144),dropZone[_0x15e933(0x241)]('.drop-zone__prompt')[_0x15e933(0x13e)]=_0x3c707d[_0x15e933(0x138)],removeBtn[_0x15e933(0x1ac)]=![];try{const _0x480859=await _0x3c707d['arrayBuffer']();itemWorker[_0x15e933(0x1e4)]({'action':'import','buf':_0x480859,'maxRows':0x1388});}catch(_0x405ff9){statusDiv[_0x15e933(0x13e)]=_0x15e933(0x22a);}finally{fileInput[_0x15e933(0x156)]='';}}),uploadBtn[_0x2e8741(0x1da)](_0x2e8741(0x142),async()=>{var _0x1a7c67=_0x2e8741;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x29078d=document[_0x1a7c67(0x1ef)](_0x1a7c67(0x1fb))[_0x1a7c67(0x156)],_0x3d87ff=[];newItemsExcel['forEach'](_0x25a67c=>{var _0x46cfb4=_0x1a7c67;const _0x17928d=Boolean(_0x25a67c[_0x46cfb4(0x151)]),_0x4430dc=_0x17928d?_0x25a67c[_0x46cfb4(0x151)]:generateNumericUniqId();_0x25a67c[_0x46cfb4(0x17b)]=[{'setStockInitial':_0x25a67c[_0x46cfb4(0x1a7)],'setStockMinimum':_0x25a67c[_0x46cfb4(0x1b9)],'setWarehouseCode':_0x29078d}],_0x25a67c[_0x46cfb4(0x218)][_0x46cfb4(0xfd)](_0x2a3a49=>{var _0x3fb5a4=_0x46cfb4;const _0x1002a2=Boolean(_0x2a3a49[_0x3fb5a4(0x1b1)]),_0x3d774f=_0x1002a2?_0x2a3a49[_0x3fb5a4(0x1b1)]:generateNumericUniqId();_0x2a3a49[_0x3fb5a4(0x1b1)]=_0x3d774f;const _0x12913e=[];_0x12913e[_0x3fb5a4(0x232)]({'currency':_0x3fb5a4(0x220),'setMtoPrecioCostoUnitario':_0x2a3a49['setCost'],'setMtoPrecioUnitario':_0x2a3a49['setPrice'],'setPriceLists':[]});const _0x2e8101=_0x2a3a49['setCostUSD']!=null&&_0x2a3a49[_0x3fb5a4(0x117)]!=null&&(!isNaN(_0x2a3a49[_0x3fb5a4(0x1c9)])||!isNaN(_0x2a3a49[_0x3fb5a4(0x117)]));_0x2e8101&&_0x12913e[_0x3fb5a4(0x232)]({'currency':_0x3fb5a4(0x178),'setMtoPrecioCostoUnitario':_0x2a3a49[_0x3fb5a4(0x1c9)],'setMtoPrecioUnitario':_0x2a3a49[_0x3fb5a4(0x117)],'setPriceLists':[]});const _0x24d9d9={'id':_0x3d774f,'setIdProducto':_0x4430dc,'setItemBarCode':_0x2a3a49['setItemBarCode'],'setCodProducto':_0x25a67c['setItemCode'],'setDescripcion':_0x25a67c[_0x3fb5a4(0x18f)],'setItemDescription':_0x25a67c[_0x3fb5a4(0x12d)],'setBatchExpirationDate':_0x25a67c['setItemDateExpiry'],'setBatchName':_0x25a67c[_0x3fb5a4(0x1d7)],'setItemIsSold':_0x25a67c[_0x3fb5a4(0x12c)],'setItemIsBought':_0x25a67c[_0x3fb5a4(0x105)],'setCategoria':_0x25a67c[_0x3fb5a4(0x14d)][0x0]||'','setMarca':_0x25a67c['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x2a3a49[_0x3fb5a4(0x235)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x25a67c[_0x3fb5a4(0x20a)],'setPorcentajeIgv':_0x25a67c[_0x3fb5a4(0x216)],'setPrinters':[],'setTaxId':_0x25a67c['setItemTaxId'],'setTipAfeIgv':_0x25a67c[_0x3fb5a4(0x1e0)],'setUnidad':_0x2a3a49[_0x3fb5a4(0x193)],'setUnidadCodigo':_0x2a3a49[_0x3fb5a4(0x193)],'setItemUnitAlias':_0x2a3a49[_0x3fb5a4(0x143)],'setItemCommissionPercentage':_0x2a3a49[_0x3fb5a4(0x1f6)],'currency_data':_0x12913e,'sucursales':_0x25a67c[_0x3fb5a4(0x17b)]['map'](_0x3e56a4=>({'setIdSucursal':_0x3e56a4[_0x3fb5a4(0x1e1)],'setSucursalStock':_0x3e56a4[_0x3fb5a4(0x1a7)][_0x3fb5a4(0x1b6)](),'setWarehouseStockMin':_0x3e56a4[_0x3fb5a4(0x1b9)][_0x3fb5a4(0x1b6)]()})),'setItemFree':_0x25a67c[_0x3fb5a4(0x12e)],'setItemBrands':_0x25a67c[_0x3fb5a4(0x16e)][_0x3fb5a4(0x191)](),'setItemCategories':_0x25a67c[_0x3fb5a4(0x14d)][_0x3fb5a4(0x191)](),'setItemComponents':_0x25a67c[_0x3fb5a4(0x121)][_0x3fb5a4(0x22c)](_0xcde45c=>({..._0xcde45c})),'setItemImages':_0x25a67c[_0x3fb5a4(0x11b)][_0x3fb5a4(0x191)](),'setItemVariantName':_0x25a67c[_0x3fb5a4(0x10b)],'setItemVariantValues':{..._0x25a67c[_0x3fb5a4(0x168)]}},_0x4925ef=products[_0x3fb5a4(0x137)](_0x2750c5=>_0x2750c5['id']==_0x3d774f&&_0x2750c5[_0x3fb5a4(0x116)]==_0x4430dc);_0x4925ef>-0x1?Object[_0x3fb5a4(0x1dd)](products[_0x4925ef],_0x24d9d9):_0x3d87ff[_0x3fb5a4(0x232)](_0x24d9d9);});}),console[_0x1a7c67(0x184)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x3d87ff,newItemsExcel,!![]);});function _0x6d43(_0x1f7330,_0x500db0){var _0x22e0db=_0x4a2c();return _0x6d43=function(_0x10e22b,_0x52a86b){_0x10e22b=_0x10e22b-0xf5;var _0x5cac01=_0x22e0db[_0x10e22b];return _0x5cac01;},_0x6d43(_0x1f7330,_0x500db0);}function initializeFormImages(){var _0x459b82=_0x2e8741;currentImages=Array(MAX_IMAGES)[_0x459b82(0x1ec)](null),imgC[_0x459b82(0x135)]='',baseItem[_0x459b82(0x11b)]=[];for(var _0x4c54d3=0x0;_0x4c54d3<MAX_IMAGES;_0x4c54d3++){(function(_0x582506){var _0x3facd0=_0x459b82,_0x4f916b=document[_0x3facd0(0x134)]('div');_0x4f916b['className']=_0x3facd0(0x1b8),_0x4f916b[_0x3facd0(0x157)][_0x3facd0(0x226)]=_0x582506;var _0x1f94c6=document[_0x3facd0(0x134)](_0x3facd0(0x15a));_0x1f94c6[_0x3facd0(0x210)]=_0x3facd0(0x114),_0x1f94c6[_0x3facd0(0x203)]=_0x3facd0(0x131),_0x1f94c6[_0x3facd0(0x180)][_0x3facd0(0x1db)]=_0x3facd0(0x144);var _0x44566d=document[_0x3facd0(0x134)](_0x3facd0(0x217));_0x44566d[_0x3facd0(0x13e)]='+',_0x4f916b[_0x3facd0(0x155)](_0x1f94c6),_0x4f916b[_0x3facd0(0x155)](_0x44566d),imgC[_0x3facd0(0x155)](_0x4f916b),_0x4f916b[_0x3facd0(0x1da)]('click',function(){var _0x1b3e7c=_0x3facd0;_0x1f94c6[_0x1b3e7c(0x142)]();}),_0x1f94c6[_0x3facd0(0x1da)](_0x3facd0(0x1e2),function(_0x59a1d6){var _0xb35ba5=_0x3facd0,_0x24af33=_0x59a1d6[_0xb35ba5(0x146)][_0xb35ba5(0x13b)][0x0];if(!_0x24af33)return removeImg(_0x582506);var _0x6c05cf=new FileReader();_0x6c05cf[_0xb35ba5(0x1d5)]=function(_0x1bd149){var _0x56bad8=_0xb35ba5;_0x4f916b[_0x56bad8(0x135)]=_0x56bad8(0x122)+_0x1bd149[_0x56bad8(0x146)][_0x56bad8(0x175)]+'\x22>';var _0x17222a=document[_0x56bad8(0x134)](_0x56bad8(0x217));_0x17222a[_0x56bad8(0x211)]=_0x56bad8(0x12f),_0x17222a[_0x56bad8(0x13e)]='×',_0x17222a['addEventListener'](_0x56bad8(0x142),function(_0x1ca62a){_0x1ca62a['stopPropagation'](),removeImg(_0x582506);}),_0x4f916b[_0x56bad8(0x155)](_0x17222a),currentImages[_0x582506]=_0x24af33,baseItem[_0x56bad8(0x11b)]=currentImages[_0x56bad8(0x1eb)](function(_0x570620){return _0x570620;});},_0x6c05cf['readAsDataURL'](_0x24af33);});}(_0x4c54d3));}}function initializeFormIsSoldIsBought(_0x20c73d=0x0){var _0x402802=_0x2e8741;let _0x5be49d,_0x8a32e;if(_0x20c73d!=0x0){const _0x53b9e2=products['find'](_0x58e610=>_0x58e610['id']==_0x20c73d);_0x5be49d=_0x53b9e2[_0x402802(0x105)]==0x1||_0x53b9e2[_0x402802(0x105)]==!![]?!![]:![],_0x8a32e=_0x53b9e2[_0x402802(0x12c)]==0x1||_0x53b9e2[_0x402802(0x12c)]==!![]?!![]:![];}else _0x5be49d=!![],_0x8a32e=!![];document[_0x402802(0x1ef)](_0x402802(0x148))[_0x402802(0x1c8)]=_0x5be49d,document[_0x402802(0x1ef)](_0x402802(0x201))[_0x402802(0x1c8)]=_0x8a32e,baseItem[_0x402802(0x105)]=_0x5be49d,baseItem[_0x402802(0x12c)]=_0x8a32e;}function initializeFormInputsBasic(_0x2b5cbd=0x0){var _0x1c3c16=_0x2e8741;let _0x3a4c31,_0x364482,_0xd12943,_0x54950d,_0x90efd1,_0xc9b173;if(_0x2b5cbd!=0x0){const _0x555fef=products[_0x1c3c16(0x1bf)](_0x5422e6=>_0x5422e6['id']==_0x2b5cbd);_0x3a4c31=_0x555fef['setItemType']??'1',_0x364482=_0x555fef[_0x1c3c16(0x19e)],_0xd12943=_0x555fef[_0x1c3c16(0x1fa)],_0x54950d=_0x555fef[_0x1c3c16(0x12d)],_0x90efd1=_0x555fef[_0x1c3c16(0x15b)]??'',_0xc9b173=_0x555fef[_0x1c3c16(0x1bd)];}else _0x3a4c31='1',_0x364482=getNextCode(products),_0xd12943='',_0x54950d='',_0x90efd1='',_0xc9b173='';document['getElementById'](_0x1c3c16(0x13a))['value']=_0x3a4c31,document[_0x1c3c16(0x1ef)](_0x1c3c16(0x177))[_0x1c3c16(0x156)]=_0x364482,document[_0x1c3c16(0x1ef)](_0x1c3c16(0x1f2))['value']=_0xd12943,document[_0x1c3c16(0x1ef)](_0x1c3c16(0x236))['value']=_0x54950d,document[_0x1c3c16(0x1ef)]('inputItemDateExpiry')['value']=_0x90efd1,document['getElementById']('inputItemBarCode')['value']=_0xc9b173,baseItem[_0x1c3c16(0x242)]=_0x3a4c31,baseItem[_0x1c3c16(0x14e)]=_0x364482,baseItem['setItemName']=_0xd12943,baseItem[_0x1c3c16(0x12d)]=_0x54950d,baseItem[_0x1c3c16(0x206)]=_0x90efd1,baseItem['setItemBarCode']=_0xc9b173,document[_0x1c3c16(0x1ef)](_0x1c3c16(0x192))[_0x1c3c16(0x1c8)]=![];}function initializeFormTax(_0x2a9d7f=0x0){var _0x11fc6e=_0x2e8741;let _0xc67d65;if(_0x2a9d7f!=0x0){const _0x434f9d=products[_0x11fc6e(0x1bf)](_0x71267e=>_0x71267e['id']==_0x2a9d7f);_0xc67d65=_0x434f9d[_0x11fc6e(0x14c)];}else _0xc67d65=myCompany[_0x11fc6e(0x14f)];const _0x108663=document[_0x11fc6e(0x1ef)](_0x11fc6e(0x1b5));_0x108663[_0x11fc6e(0x156)]=_0xc67d65,baseItem[_0x11fc6e(0x1d4)]=_0xc67d65;const _0x51789d=company[0x0][_0x11fc6e(0x1f0)][_0x11fc6e(0x1bf)](_0x171c6f=>_0x171c6f[_0x11fc6e(0x14c)]==_0xc67d65)?.[_0x11fc6e(0x1c3)]||0x0,_0x37ed61=company[0x0][_0x11fc6e(0x1f0)][_0x11fc6e(0x1bf)](_0x1303ec=>_0x1303ec['setTaxId']==_0xc67d65)?.[_0x11fc6e(0x1ab)]||0x0;baseItem[_0x11fc6e(0x1e0)]=_0x51789d,baseItem['setItemTaxValue']=_0x37ed61;}function initializeFormCategoriesBrands(_0x44197c=0x0){var _0x5e3c20=_0x2e8741;baseItem[_0x5e3c20(0x14d)]=[],baseItem['setItemBrands']=[],document[_0x5e3c20(0x241)]('#newItem_categories_select\x20.selected_tags')[_0x5e3c20(0x135)]='',document[_0x5e3c20(0x241)]('#newItem_categories_select\x20.options_list')[_0x5e3c20(0x135)]='',document[_0x5e3c20(0x241)](_0x5e3c20(0x200))['innerHTML']='',document[_0x5e3c20(0x241)](_0x5e3c20(0x1d3))[_0x5e3c20(0x135)]='';const _0xbb45a2=myCompany[_0x5e3c20(0x14d)][_0x5e3c20(0x22c)](_0x497832=>({'setCode':_0x497832['setItemCategoryName'],'setName':_0x497832['setItemCategoryName']})),_0x434fad=myCompany['setItemBrands'][_0x5e3c20(0x22c)](_0x18b428=>({'setCode':_0x18b428[_0x5e3c20(0xf5)],'setName':_0x18b428[_0x5e3c20(0xf5)]}));initMulti(_0x5e3c20(0x21c),_0xbb45a2),initMulti(_0x5e3c20(0x14b),_0x434fad),document[_0x5e3c20(0x1ef)]('newItem_categories_select')[_0x5e3c20(0x1da)](_0x5e3c20(0x16a),function(_0x2d3ffd){var _0x9a4c19=_0x5e3c20;baseItem[_0x9a4c19(0x14d)]=_0x2d3ffd[_0x9a4c19(0x1fd)][_0x9a4c19(0x22c)](_0x142c79=>_0x142c79[_0x9a4c19(0x227)]);}),document['getElementById']('newItem_brands_select')[_0x5e3c20(0x1da)](_0x5e3c20(0x16a),function(_0x3a512c){var _0x2755db=_0x5e3c20;baseItem[_0x2755db(0x16e)]=_0x3a512c['detail'][_0x2755db(0x22c)](_0x39c95e=>_0x39c95e['setCode']);});if(_0x44197c!=0x0){const _0x2b16c5=products[_0x5e3c20(0x1bf)](_0x105388=>_0x105388['id']==_0x44197c);if(_0x2b16c5[_0x5e3c20(0x10a)]){const _0x2f828a=document[_0x5e3c20(0x1ef)](_0x5e3c20(0x21c)),_0x2d85cd=Array[_0x5e3c20(0x141)](_0x2f828a[_0x5e3c20(0x21f)](_0x5e3c20(0x132)))['find'](_0x177149=>_0x177149[_0x5e3c20(0x157)][_0x5e3c20(0xf8)]==_0x2b16c5[_0x5e3c20(0x10a)]);_0x2d85cd&&_0x2d85cd[_0x5e3c20(0x142)]();}if(_0x2b16c5[_0x5e3c20(0x21e)]){const _0x15f978=document[_0x5e3c20(0x1ef)](_0x5e3c20(0x14b)),_0x56078f=Array[_0x5e3c20(0x141)](_0x15f978[_0x5e3c20(0x21f)](_0x5e3c20(0x132)))[_0x5e3c20(0x1bf)](_0x55aeaf=>_0x55aeaf['dataset'][_0x5e3c20(0xf8)]==_0x2b16c5[_0x5e3c20(0x21e)]);_0x56078f&&_0x56078f['click']();}}}function initializeFormUnits(){var _0x5e0403=_0x2e8741;unitCount=0x0,document[_0x5e0403(0x1ef)](_0x5e0403(0x123))[_0x5e0403(0x135)]='',baseItem[_0x5e0403(0x218)]=[];var _0xf767e4=uniqueValuesArray(_0x5e0403(0x193),_0x5e0403(0x16f),myCompany[_0x5e0403(0x11f)]);addUnit('',_0xf767e4[0x3a]&&_0xf767e4[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x1ac36=_0x2e8741;prodC['innerHTML']='',baseItem[_0x1ac36(0x121)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x9f7b2a=_0x2e8741;branchesC[_0x9f7b2a(0x135)]='',baseItem[_0x9f7b2a(0x17b)]=[];const _0x53f768=getAllWarehouses();_0x53f768['forEach'](function(_0x4364bd){var _0x3bdfbc=_0x9f7b2a,_0x22a5e5=document[_0x3bdfbc(0x134)]('div');_0x22a5e5[_0x3bdfbc(0x135)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x3bdfbc(0xfc)+_0x3bdfbc(0x245)+_0x4364bd[_0x3bdfbc(0x1fb)]+_0x3bdfbc(0x10f)+_0x4364bd['setWarehouseName']+_0x3bdfbc(0x1a2)+_0x3bdfbc(0x1a6)+_0x3bdfbc(0xfc)+_0x3bdfbc(0x207)+_0x4364bd[_0x3bdfbc(0x1fb)]+'\x22>'+'</div>'+_0x3bdfbc(0xfc)+_0x3bdfbc(0x1f1)+_0x4364bd[_0x3bdfbc(0x1fb)]+'\x22>'+'</div>'+_0x3bdfbc(0x1a6),branchesC[_0x3bdfbc(0x155)](_0x22a5e5),_0x22a5e5[_0x3bdfbc(0x21f)](_0x3bdfbc(0x15a))['forEach'](function(_0x335cd8){var _0x46a815=_0x3bdfbc;_0x335cd8['addEventListener'](_0x46a815(0x15a),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5f1c0a=_0x2e8741;baseItem[_0x5f1c0a(0x10b)]='',baseItem[_0x5f1c0a(0x168)]={},vgC[_0x5f1c0a(0x135)]='',varContainer[_0x5f1c0a(0x135)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x39920e,_0x4757ef,_0x1e424e=![]){var _0x26a17b=_0x2e8741;const _0x3e5c68=0xc8,_0xe8d535={'apiPOSsendOffline':'1','setTipoOperacion':_0x26a17b(0x18c),'setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x26a17b(0x223)]};for(let _0x266576=0x0;_0x266576<_0x4757ef[_0x26a17b(0x1a5)];_0x266576+=_0x3e5c68){const _0x56e00a=_0x4757ef[_0x26a17b(0x191)](_0x266576,_0x266576+_0x3e5c68);await storeOfflineProduct({..._0xe8d535,'newItems':_0x56e00a});}products[_0x26a17b(0x232)](..._0x39920e),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x26a17b(0x1a4)),_0x1e424e?(fileInput[_0x26a17b(0x156)]='',uploadBtn[_0x26a17b(0x1c0)]=!![],statusDiv[_0x26a17b(0x13e)]='',progressBar[_0x26a17b(0x180)]['display']=_0x26a17b(0x144),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}