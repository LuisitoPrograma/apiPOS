/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 3.2.9
*/

const _0x477348=_0x4444;(function(_0x306cd6,_0x17e640){const _0x34f4f7=_0x4444,_0x27778a=_0x306cd6();while(!![]){try{const _0x23879b=parseInt(_0x34f4f7(0xd1))/0x1*(parseInt(_0x34f4f7(0xb9))/0x2)+parseInt(_0x34f4f7(0xce))/0x3+parseInt(_0x34f4f7(0xf9))/0x4*(-parseInt(_0x34f4f7(0x11e))/0x5)+parseInt(_0x34f4f7(0xc9))/0x6*(parseInt(_0x34f4f7(0x119))/0x7)+-parseInt(_0x34f4f7(0xe8))/0x8*(-parseInt(_0x34f4f7(0x111))/0x9)+parseInt(_0x34f4f7(0xe1))/0xa+-parseInt(_0x34f4f7(0x102))/0xb;if(_0x23879b===_0x17e640)break;else _0x27778a['push'](_0x27778a['shift']());}catch(_0x10bc73){_0x27778a['push'](_0x27778a['shift']());}}}(_0x1acd,0x4d0d3));const _0x21dafb=(function(){let _0x34818a=!![];return function(_0x545f58,_0x160eb7){const _0x515ec4=_0x34818a?function(){const _0x2bd520=_0x4444;if(_0x160eb7){const _0x34e0a4=_0x160eb7[_0x2bd520(0x10c)](_0x545f58,arguments);return _0x160eb7=null,_0x34e0a4;}}:function(){};return _0x34818a=![],_0x515ec4;};}()),_0x526c56=_0x21dafb(this,function(){const _0x35dd33=_0x4444;return _0x526c56[_0x35dd33(0xcc)]()['search']('(((.+)+)+)+$')['toString']()[_0x35dd33(0xd7)](_0x526c56)[_0x35dd33(0xed)](_0x35dd33(0xdf));});_0x526c56();const _0x2098b8=(function(){let _0x3cce6b=!![];return function(_0x5af708,_0x6292f9){const _0x26514b=_0x3cce6b?function(){const _0x30ee6f=_0x4444;if(_0x6292f9){const _0x338c5e=_0x6292f9[_0x30ee6f(0x10c)](_0x5af708,arguments);return _0x6292f9=null,_0x338c5e;}}:function(){};return _0x3cce6b=![],_0x26514b;};}()),_0x28c254=_0x2098b8(this,function(){const _0x28503f=_0x4444;let _0x5bc82b;try{const _0x578a51=Function(_0x28503f(0xf0)+_0x28503f(0xcf)+');');_0x5bc82b=_0x578a51();}catch(_0x166011){_0x5bc82b=window;}const _0x3baffa=_0x5bc82b[_0x28503f(0x100)]=_0x5bc82b[_0x28503f(0x100)]||{},_0x59b33b=['log','warn','info',_0x28503f(0xb3),_0x28503f(0xde),_0x28503f(0xc3),_0x28503f(0x11b)];for(let _0x40dfe5=0x0;_0x40dfe5<_0x59b33b[_0x28503f(0xbc)];_0x40dfe5++){const _0x5acfd3=_0x2098b8['constructor'][_0x28503f(0x108)][_0x28503f(0xc4)](_0x2098b8),_0x1267e=_0x59b33b[_0x40dfe5],_0x4791b5=_0x3baffa[_0x1267e]||_0x5acfd3;_0x5acfd3[_0x28503f(0x116)]=_0x2098b8['bind'](_0x2098b8),_0x5acfd3[_0x28503f(0xcc)]=_0x4791b5[_0x28503f(0xcc)][_0x28503f(0xc4)](_0x4791b5),_0x3baffa[_0x1267e]=_0x5acfd3;}});function _0x1acd(){const _0x51f0c0=['addEventListener','week','\x0a<iframe\x20src=\x22','closeModalViewDetails','Invalid\x20range\x20type','startDateFormatted','table','bind','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','valor_unitario','total','style','40170RbWbRB','Error\x20al\x20cargar\x20el\x20detalle.','end','toString','data-value','933195QhBGtG','{}.constructor(\x22return\x20this\x22)(\x20)','\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','1PcWpqh','\x0a<tr>\x0a<td>','month','line','DOMContentLoaded','del\x20mes','constructor','classList','active','series','filtrar','preventDefault','detalleModal','exception','(((.+)+)+)+$','getMonth','1534740gazBGe','padStart','json','https://fasyb.com/api/pdf/proxy/?file=','concat','</td>\x0a<td>','pageX','40760TMAGSQ','pdf_url','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','setFloorId','value','search','getElementById','mousedown','return\x20(function()\x20','de\x20la\x20semana','offsetLeft','querySelector','assign','display','dataset_raw','target','setDate','2003604BpqqyJ','split','middle','none','height','click','getFullYear','console','?page=1&fi=','1260831dyuQFn','getHours','mousemove','Error\x20al\x20cargar\x20el\x20detalle:','change','.table-wrapper','prototype','&ff=','dispatchEvent','contains','apply','data','year','setWarehouseId','dataset_','585smOkRo','push','day','catch','date-range-label','__proto__','setBranchDefault','mouseup','133tZasEa','shiftY','trace','pdf','\x22\x20no\x20existe.','5PUOCAZ','forEach','block','getDate','href','.modal-content','scrollLeft','Error\x20','mouseleave','detalleTablaBody','width','onload','location','statusText','del\x20d&iacute;a','status','2025-05-10','success','cantidad','valueDesc','modalOverlayViewDetails','setBranchId','del\x20a&ntilde;o','innerHTML','error','</td>\x0a</tr>','dynamicContent','date-range-options','getDay','producto','16412kwjvPY','endDateFormatted','then','length'];_0x1acd=function(){return _0x51f0c0;};return _0x1acd();}_0x28c254();function generateFilterTransformChart(_0x4b4d9d){const _0x4debf6=_0x4444,{containerId:_0x4f005c,rawData:_0x84394d,groupField:_0x2fe85e,groupValues:_0x362859,additionalFilters:additionalFilters=[],seriesType:seriesType=_0x4debf6(0xd4),encode:_0x1300a8,title:title='',colors:_0x391cf4,animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x4debf6(0xae),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x39911d,height:_0x1f1fda}=_0x4b4d9d,_0x22bb11=document[_0x4debf6(0xee)](_0x4f005c);if(!_0x22bb11){console[_0x4debf6(0xb3)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x4f005c+_0x4debf6(0x11d));return;}if(_0x39911d)_0x22bb11[_0x4debf6(0xc8)][_0x4debf6(0x128)]=_0x39911d;if(_0x1f1fda)_0x22bb11['style'][_0x4debf6(0xfd)]=_0x1f1fda;const _0x5d741c=echarts['init'](_0x22bb11),_0x1a5474=[],_0x45c85d=[];_0x362859[_0x4debf6(0x11f)]((_0x19d00e,_0x7fb8e4)=>{const _0x4f04a1=_0x4debf6,_0x2e19ba=_0x4f04a1(0x110)+_0x19d00e,_0x4c745a=additionalFilters[_0x4f04a1(0xe5)]([{'dimension':_0x2fe85e,'=':_0x19d00e}]);_0x1a5474[_0x4f04a1(0x112)]({'id':_0x2e19ba,'fromDatasetId':_0x4f04a1(0xf6),'transform':{'type':'filter','config':{'and':_0x4c745a}}}),_0x45c85d[_0x4f04a1(0x112)]({'type':seriesType,'datasetId':_0x2e19ba,'showSymbol':![],'name':_0x19d00e,'endLabel':{'show':!![],'formatter':function(_0x28000e){const _0x461d26=_0x4f04a1,_0x55dcdd=_0x28000e['value']&&_0x28000e[_0x461d26(0xec)][_0x1300a8['x']];return _0x19d00e+(_0x55dcdd!==undefined&&_0x55dcdd!==null&&_0x55dcdd!==''?':\x20'+_0x55dcdd:'');}},'labelLayout':{'moveOverlap':_0x4f04a1(0x11a)},'emphasis':{'focus':_0x4f04a1(0xda)},'encode':_0x1300a8,'lineStyle':{'color':_0x391cf4&&_0x391cf4[_0x7fb8e4]?_0x391cf4[_0x7fb8e4]:undefined}});});const _0x33815d={'animationDuration':animationDuration,'dataset':[{'id':_0x4debf6(0xf6),'source':_0x84394d},..._0x1a5474],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x4debf6(0xf4)]({'type':'category','nameLocation':_0x4debf6(0xfb)},xAxisConfig),'yAxis':Object[_0x4debf6(0xf4)]({'name':_0x1300a8['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x45c85d};_0x5d741c['setOption'](_0x33815d);}function showModalViewDetails(){const _0x357473=_0x4444,_0x58aec5=document[_0x357473(0xee)](_0x357473(0xdd)),_0x5df50d=document[_0x357473(0xee)](_0x357473(0xaf));_0x58aec5[_0x357473(0xd8)]['add'](_0x357473(0xd9)),_0x5df50d[_0x357473(0xc8)]['display']=_0x357473(0x120);}function hideModalViewDetails(){const _0x244846=_0x4444,_0xae2785=document[_0x244846(0xee)](_0x244846(0xdd)),_0x277de8=document[_0x244846(0xee)](_0x244846(0xaf));_0xae2785['classList']['remove'](_0x244846(0xd9)),_0x277de8[_0x244846(0xc8)][_0x244846(0xf5)]=_0x244846(0xfc);const _0x5e9a7a=document[_0x244846(0xee)](_0x244846(0xb5));_0x5e9a7a['innerHTML']=_0x244846(0xea);}document[_0x477348(0xee)](_0x477348(0xc0))[_0x477348(0xbd)](_0x477348(0xfe),hideModalViewDetails),document[_0x477348(0xee)](_0x477348(0xaf))[_0x477348(0xbd)](_0x477348(0xfe),hideModalViewDetails);function verDetalle(_0x5c9fdd,_0x4d0378){const _0x3f2872=_0x477348;fetch('https://fasyb.com/api/venta/view/?id='+_0x5c9fdd+'&tipo='+_0x4d0378)['then'](_0x34c383=>{const _0x4406bf=_0x4444;if(!_0x34c383['ok'])throw new Error(_0x4406bf(0x125)+_0x34c383[_0x4406bf(0x12d)]+':\x20'+_0x34c383[_0x4406bf(0x12b)]);return _0x34c383[_0x4406bf(0xe3)]();})[_0x3f2872(0xbb)](_0x36881b=>{const _0x4d5b4f=_0x3f2872;if(_0x36881b[_0x4d5b4f(0x12f)]){const _0x2cb209=document[_0x4d5b4f(0xee)](_0x4d5b4f(0xb5));if(_0x4d0378==='detalle'){let _0x545839='';_0x36881b[_0x4d5b4f(0x10d)]['forEach'](_0x4e7a7a=>{const _0x2e3cfd=_0x4d5b4f;_0x545839+=_0x2e3cfd(0xd2)+_0x4e7a7a[_0x2e3cfd(0xb8)]+_0x2e3cfd(0xe6)+_0x4e7a7a[_0x2e3cfd(0x130)]+'</td>\x0a<td>'+_0x4e7a7a[_0x2e3cfd(0xc6)]+'</td>\x0a<td>'+_0x4e7a7a[_0x2e3cfd(0xc7)]+_0x2e3cfd(0xb4);}),document[_0x4d5b4f(0xee)](_0x4d5b4f(0x127))['innerHTML']=_0x545839;}else{if(_0x4d0378===_0x4d5b4f(0x11c)){const _0x389e7b=_0x4d5b4f(0xe4)+encodeURIComponent(_0x36881b[_0x4d5b4f(0xe9)]),_0xe99519=document[_0x4d5b4f(0xf3)](_0x4d5b4f(0x123));_0x2cb209[_0x4d5b4f(0xb2)]=_0x4d5b4f(0xbf)+_0x389e7b+_0x4d5b4f(0xc5),document[_0x4d5b4f(0xee)](_0x4d5b4f(0xc0))[_0x4d5b4f(0xbd)](_0x4d5b4f(0xfe),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x36881b['error']||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0x3f2872(0x114)](_0x4496a6=>{const _0x1fdc04=_0x3f2872;console[_0x1fdc04(0xb3)](_0x1fdc04(0x105),_0x4496a6),alert(_0x1fdc04(0xca));});}function _0x4444(_0x554d58,_0x52dbd6){const _0x33ac66=_0x1acd();return _0x4444=function(_0x28c254,_0x2098b8){_0x28c254=_0x28c254-0xae;let _0xcec7c7=_0x33ac66[_0x28c254];return _0xcec7c7;},_0x4444(_0x554d58,_0x52dbd6);}function formatDateToYmdHis(_0x1398e3){const _0x56c1ae=_0x477348,_0x317d4=_0x1398e3['getFullYear'](),_0x29b2b7=String(_0x1398e3[_0x56c1ae(0xe0)]()+0x1)[_0x56c1ae(0xe2)](0x2,'0'),_0x442cec=String(_0x1398e3['getDate']())[_0x56c1ae(0xe2)](0x2,'0'),_0x17f16d=String(_0x1398e3[_0x56c1ae(0x103)]())[_0x56c1ae(0xe2)](0x2,'0'),_0x53d685=String(_0x1398e3['getMinutes']())['padStart'](0x2,'0'),_0x471c86=String(_0x1398e3['getSeconds']())['padStart'](0x2,'0');return _0x317d4+'-'+_0x29b2b7+'-'+_0x442cec+'\x20'+_0x17f16d+':'+_0x53d685+':'+_0x471c86;}function getDateRange(_0x1bdb14){const _0x4414af=_0x477348,_0x3539f7=new Date();let _0x715f7b,_0x423c08;switch(_0x1bdb14){case _0x4414af(0x113):_0x715f7b=new Date(_0x3539f7[_0x4414af(0xff)](),_0x3539f7[_0x4414af(0xe0)](),_0x3539f7['getDate'](),0x0,0x0,0x0),_0x423c08=new Date(_0x3539f7[_0x4414af(0xff)](),_0x3539f7[_0x4414af(0xe0)](),_0x3539f7['getDate'](),0x17,0x3b,0x3b);break;case _0x4414af(0xbe):const _0x314b68=_0x3539f7[_0x4414af(0xb7)](),_0x2613f7=new Date(_0x3539f7);_0x2613f7['setDate'](_0x3539f7[_0x4414af(0x121)]()-_0x314b68+(_0x314b68===0x0?-0x6:0x1));const _0x571512=new Date(_0x2613f7);_0x571512[_0x4414af(0xf8)](_0x2613f7['getDate']()+0x6),_0x715f7b=new Date(_0x2613f7[_0x4414af(0xff)](),_0x2613f7[_0x4414af(0xe0)](),_0x2613f7[_0x4414af(0x121)](),0x0,0x0,0x0),_0x423c08=new Date(_0x571512[_0x4414af(0xff)](),_0x571512[_0x4414af(0xe0)](),_0x571512[_0x4414af(0x121)](),0x17,0x3b,0x3b);break;case _0x4414af(0xd3):_0x715f7b=new Date(_0x3539f7[_0x4414af(0xff)](),_0x3539f7[_0x4414af(0xe0)](),0x1,0x0,0x0,0x0),_0x423c08=new Date(_0x3539f7['getFullYear'](),_0x3539f7[_0x4414af(0xe0)]()+0x1,0x0,0x17,0x3b,0x3b);break;case _0x4414af(0x10e):_0x715f7b=new Date(_0x3539f7[_0x4414af(0xff)](),0x0,0x1,0x0,0x0,0x0),_0x423c08=new Date(_0x3539f7[_0x4414af(0xff)](),0xb,0x1f,0x17,0x3b,0x3b);break;default:throw new Error(_0x4414af(0xc1));}return{'startDateFormatted':formatDateToYmdHis(_0x715f7b),'endDateFormatted':formatDateToYmdHis(_0x423c08)};}function updateDateRange(_0x1ada52){const _0x175621=_0x477348,_0x3a3427=document[_0x175621(0xee)](_0x175621(0x115));if(_0x1ada52==_0x175621(0xdb)){}else{const {startDateFormatted:_0x450884,endDateFormatted:_0x2cf706}=getDateRange(_0x1ada52);let _0x1866e1=window[_0x175621(0x12a)][_0x175621(0x122)][_0x175621(0xfa)]('?')[0x0];_0x1866e1+=_0x175621(0x101)+encodeURIComponent(_0x450884)+_0x175621(0x109)+encodeURIComponent(_0x2cf706),window['location'][_0x175621(0x122)]=_0x1866e1;}}document[_0x477348(0xbd)](_0x477348(0xd5),()=>{const _0x3dc89b=_0x477348,_0x4c889d=document[_0x3dc89b(0xee)](_0x3dc89b(0x115)),_0x5712a2=document['getElementById'](_0x3dc89b(0xb6)),_0xf39dbb=getDateRange(_0x3dc89b(0x113)),_0x3a3209=getDateRange(_0x3dc89b(0xbe)),_0x2ce495=getDateRange(_0x3dc89b(0xd3)),_0x33f12b=getDateRange(_0x3dc89b(0x10e)),_0x49fa16=[{'start':_0xf39dbb[_0x3dc89b(0xc2)],'end':_0xf39dbb[_0x3dc89b(0xba)],'label':_0x3dc89b(0x12c)},{'start':_0x3a3209['startDateFormatted'],'end':_0x3a3209[_0x3dc89b(0xba)],'label':_0x3dc89b(0xf1)},{'start':_0x2ce495[_0x3dc89b(0xc2)],'end':_0x2ce495[_0x3dc89b(0xba)],'label':_0x3dc89b(0xd6)},{'start':_0x33f12b[_0x3dc89b(0xc2)],'end':_0x33f12b[_0x3dc89b(0xba)],'label':_0x3dc89b(0xb1)}];let _0x5cfcdc='';const _0x3c04f1=_0x3dc89b(0x12e),_0x51ff82='2025-05-27';for(const _0x2b7a96 of _0x49fa16){if(_0x2b7a96['start']===_0x3c04f1&&_0x2b7a96[_0x3dc89b(0xcb)]===_0x51ff82){_0x5cfcdc=_0x2b7a96['label']+_0x3dc89b(0xd0);break;}}_0x4c889d[_0x3dc89b(0xb2)]=_0x5cfcdc||'<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>',_0x4c889d['addEventListener'](_0x3dc89b(0xfe),()=>{const _0x3c1a6c=_0x3dc89b;_0x5712a2['style']['display']=_0x5712a2['style'][_0x3c1a6c(0xf5)]==='none'?_0x3c1a6c(0x120):'none';}),_0x5712a2[_0x3dc89b(0xbd)](_0x3dc89b(0xfe),_0x4a2be3=>{const _0x4231f9=_0x3dc89b;if(_0x4a2be3[_0x4231f9(0xf7)]&&_0x4a2be3['target']['tagName']==='LI'){const _0x26d91d=_0x4a2be3['target']['getAttribute'](_0x4231f9(0xcd));updateDateRange(_0x26d91d),_0x5712a2[_0x4231f9(0xc8)]['display']='none';}}),document[_0x3dc89b(0xbd)]('click',_0x41ba0e=>{const _0x99931=_0x3dc89b;!_0x4c889d[_0x99931(0x10b)](_0x41ba0e[_0x99931(0xf7)])&&!_0x5712a2['contains'](_0x41ba0e[_0x99931(0xf7)])&&(_0x5712a2[_0x99931(0xc8)][_0x99931(0xf5)]=_0x99931(0xfc));});});const tableWrapper=document[_0x477348(0xf3)](_0x477348(0x107));let isDragging=![],startX,scrollLeft;tableWrapper[_0x477348(0xbd)](_0x477348(0xef),_0x77fe72=>{const _0x155620=_0x477348;isDragging=!![],startX=_0x77fe72['pageX']-tableWrapper[_0x155620(0xf2)],scrollLeft=tableWrapper[_0x155620(0x124)];}),tableWrapper[_0x477348(0xbd)](_0x477348(0x126),()=>{isDragging=![];}),tableWrapper['addEventListener'](_0x477348(0x118),()=>{isDragging=![];}),tableWrapper[_0x477348(0xbd)](_0x477348(0x104),_0x39f42b=>{const _0xab38b=_0x477348;if(!isDragging)return;_0x39f42b[_0xab38b(0xdc)]();const _0x5bede0=_0x39f42b[_0xab38b(0xe7)]-tableWrapper[_0xab38b(0xf2)],_0x4cb46b=(_0x5bede0-startX)*0x2;tableWrapper['scrollLeft']=scrollLeft-_0x4cb46b;}),window[_0x477348(0x129)]=function(){const _0x21b41a=_0x477348,_0x2403dd=0x3;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x3a4b29=document[_0x21b41a(0xf3)]('.btn-logout');_0x3a4b29&&_0x3a4b29[_0x21b41a(0xbd)](_0x21b41a(0xfe),function(){logoutReload(0x0,_0x2403dd);}),document[_0x21b41a(0xee)](_0x21b41a(0xb0))['addEventListener'](_0x21b41a(0x106),async function(){const _0x4b9f97=_0x21b41a,_0x1d2fa8=parseInt(this[_0x4b9f97(0xec)]);company[0x0][_0x4b9f97(0x117)]=_0x1d2fa8;const _0x67411f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x67411f),cargarAlmacenes(_0x1d2fa8),setTimeout(()=>{const _0x24b71c=_0x4b9f97;document[_0x24b71c(0xee)](_0x24b71c(0x10f))[_0x24b71c(0x10a)](new Event(_0x24b71c(0x106)));},0x64),cargarPisos(_0x1d2fa8),setTimeout(()=>{const _0x2452c1=_0x4b9f97;document[_0x2452c1(0xee)](_0x2452c1(0xeb))[_0x2452c1(0x10a)](new Event(_0x2452c1(0x106)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2403dd);};