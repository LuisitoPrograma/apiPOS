/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.4
*/

const _0xf33804=_0x4cad;(function(_0x221f8c,_0x878bdc){const _0x2d02fd=_0x4cad,_0x1808ca=_0x221f8c();while(!![]){try{const _0x59e492=parseInt(_0x2d02fd(0x20a))/0x1*(-parseInt(_0x2d02fd(0x17b))/0x2)+parseInt(_0x2d02fd(0x18e))/0x3+-parseInt(_0x2d02fd(0x15b))/0x4*(-parseInt(_0x2d02fd(0x16b))/0x5)+parseInt(_0x2d02fd(0x1e7))/0x6+-parseInt(_0x2d02fd(0x183))/0x7*(parseInt(_0x2d02fd(0x180))/0x8)+parseInt(_0x2d02fd(0x168))/0x9+-parseInt(_0x2d02fd(0x173))/0xa;if(_0x59e492===_0x878bdc)break;else _0x1808ca['push'](_0x1808ca['shift']());}catch(_0x3798de){_0x1808ca['push'](_0x1808ca['shift']());}}}(_0x567a,0x22b20));const _0x894b57=(function(){let _0x2bc223=!![];return function(_0x2b378b,_0x55cdfb){const _0x554bca=_0x2bc223?function(){if(_0x55cdfb){const _0x221f2c=_0x55cdfb['apply'](_0x2b378b,arguments);return _0x55cdfb=null,_0x221f2c;}}:function(){};return _0x2bc223=![],_0x554bca;};}()),_0x4c197b=_0x894b57(this,function(){const _0x3c0a60=_0x4cad;return _0x4c197b[_0x3c0a60(0x151)]()[_0x3c0a60(0x14d)](_0x3c0a60(0x1b6))[_0x3c0a60(0x151)]()[_0x3c0a60(0x15d)](_0x4c197b)[_0x3c0a60(0x14d)](_0x3c0a60(0x1b6));});_0x4c197b();const _0x3d8ed2=(function(){let _0x5c235b=!![];return function(_0x1e9749,_0x55538b){const _0x11e66b=_0x5c235b?function(){if(_0x55538b){const _0x5c1b9d=_0x55538b['apply'](_0x1e9749,arguments);return _0x55538b=null,_0x5c1b9d;}}:function(){};return _0x5c235b=![],_0x11e66b;};}()),_0x4caa60=_0x3d8ed2(this,function(){const _0x324c60=_0x4cad,_0x21053e=function(){const _0x2b187e=_0x4cad;let _0x424dc4;try{_0x424dc4=Function(_0x2b187e(0x1a2)+_0x2b187e(0x1ff)+');')();}catch(_0x4e1e38){_0x424dc4=window;}return _0x424dc4;},_0x2acdf4=_0x21053e(),_0x488c2d=_0x2acdf4[_0x324c60(0x1f0)]=_0x2acdf4[_0x324c60(0x1f0)]||{},_0x12273f=['log',_0x324c60(0x21a),_0x324c60(0x18f),_0x324c60(0x1bb),'exception','table','trace'];for(let _0x41b7a4=0x0;_0x41b7a4<_0x12273f[_0x324c60(0x1af)];_0x41b7a4++){const _0x5b1a07=_0x3d8ed2[_0x324c60(0x15d)][_0x324c60(0x220)][_0x324c60(0x1c4)](_0x3d8ed2),_0x5f36ee=_0x12273f[_0x41b7a4],_0x52939e=_0x488c2d[_0x5f36ee]||_0x5b1a07;_0x5b1a07[_0x324c60(0x153)]=_0x3d8ed2['bind'](_0x3d8ed2),_0x5b1a07['toString']=_0x52939e[_0x324c60(0x151)][_0x324c60(0x1c4)](_0x52939e),_0x488c2d[_0x5f36ee]=_0x5b1a07;}});_0x4caa60();let arrayIncomes;const divChartIncome=document[_0xf33804(0x172)](_0xf33804(0x19e));let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x3d2c44){const _0x42065a=_0xf33804,{containerId:_0x10c64d,rawData:_0x563830,groupField:_0x552c17,groupValues:_0x407bda,seriesType:seriesType=_0x42065a(0x1be),chartType:chartType=seriesType,encode:_0x396dcf,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x42065a(0x1a5),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x3a06b9,height:_0x41d252}=_0x3d2c44,_0x487d1=document[_0x42065a(0x172)](_0x10c64d);if(!_0x487d1){console['error'](_0x42065a(0x154)+_0x10c64d+'\x22\x20no\x20existe.');return;}if(_0x3a06b9)_0x487d1[_0x42065a(0x195)]['width']=_0x3a06b9;if(_0x41d252)_0x487d1[_0x42065a(0x195)][_0x42065a(0x17d)]=_0x41d252;const _0x27f72b=echarts[_0x42065a(0x191)](_0x487d1),_0x4a916d=[],_0x155361=[];_0x407bda[_0x42065a(0x1b8)]((_0x2e05b2,_0x34073e)=>{const _0x46d522=_0x42065a,_0x28e264=_0x46d522(0x14b)+_0x2e05b2,_0x17d43b=(_0x3d2c44[_0x46d522(0x193)]||[])['concat']([{'dimension':_0x552c17,'=':_0x2e05b2}]);_0x4a916d['push']({'id':_0x28e264,'fromDatasetId':'dataset_raw','transform':{'type':'filter','config':{'and':_0x17d43b}}}),_0x155361['push']({'type':chartType,'datasetId':_0x28e264,'name':_0x2e05b2,...chartType===_0x46d522(0x17c)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x34073e]||undefined},...chartType===_0x46d522(0x1be)&&{'showSymbol':![]},'encode':_0x396dcf});});const _0x225e3c={'animationDuration':animationDuration,'dataset':[{'id':_0x42065a(0x213),'source':_0x563830},..._0x4a916d],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x42065a(0x1e3)},'xAxis':Object['assign']({'type':_0x42065a(0x184),'nameLocation':_0x42065a(0x14f)},xAxisConfig),'yAxis':Object[_0x42065a(0x1f9)]({'name':_0x396dcf['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x155361};_0x27f72b['setOption'](_0x225e3c);}function generatePieChart({containerId:_0x5685c1,data:_0xec4242,nameField:_0x535f1b,valueField:_0x837cfa,title:title='',titlePosition:titlePosition=_0xf33804(0x192),showTitle:showTitle=!![],width:_0xb04a2e,height:_0x22a3eb}){const _0x5a286d=_0xf33804,_0x185303=document[_0x5a286d(0x172)](_0x5685c1);if(!_0x185303)return console[_0x5a286d(0x1bb)](_0x5a286d(0x1f1)+_0x5685c1+_0x5a286d(0x16c));if(_0xb04a2e)_0x185303[_0x5a286d(0x195)][_0x5a286d(0x157)]=_0xb04a2e;if(_0x22a3eb)_0x185303[_0x5a286d(0x195)]['height']=_0x22a3eb;const _0x346c7e=echarts[_0x5a286d(0x191)](_0x185303),_0x319cd5=_0xec4242['reduce']((_0x4a5037,_0x5efba7)=>{const _0x4ad67b=_0x5a286d,_0x1f80a1=_0x5efba7[_0x535f1b],_0x3d351b=_0x5efba7[_0x837cfa];let _0xe08de2=_0x4a5037[_0x4ad67b(0x16d)](_0x3828e9=>_0x3828e9[_0x4ad67b(0x1c2)]===_0x1f80a1);return!_0xe08de2&&(_0xe08de2={'name':_0x1f80a1,'value':0x0},_0x4a5037[_0x4ad67b(0x14e)](_0xe08de2)),_0xe08de2['value']+=_0x3d351b,_0x4a5037;},[]);let _0x34f144;showTitle?(_0x34f144={'text':title,'left':_0x5a286d(0x1f3)},titlePosition===_0x5a286d(0x1c5)?_0x34f144[_0x5a286d(0x1c5)]=0x0:_0x34f144[_0x5a286d(0x192)]=0x0):_0x34f144={'show':![]};const _0x10f53f={'title':_0x34f144,'tooltip':{'trigger':_0x5a286d(0x1d7)},'series':[{'type':_0x5a286d(0x211),'radius':_0x5a286d(0x1a1),'data':_0x319cd5,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':'{b}:\x20{d}%'}}]};_0x346c7e['setOption'](_0x10f53f);}function generateHorizontalBarChart({containerId:_0x164fcc,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0xf33804(0x192),showTitle:showTitle=!![],colors:colors=[],width:_0x4fb1ee,height:_0x353a55,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x14402d=_0xf33804,_0x18485b=document['getElementById'](_0x164fcc);if(!_0x18485b)return console['error']('Contenedor\x20'+_0x164fcc+_0x14402d(0x16c));if(_0x4fb1ee)_0x18485b[_0x14402d(0x195)][_0x14402d(0x157)]=_0x4fb1ee;if(_0x353a55)_0x18485b['style']['height']=_0x353a55;const _0x563a50=echarts[_0x14402d(0x191)](_0x18485b),_0x281b40=showTitle?{'text':title,'left':_0x14402d(0x1f3),...titlePosition===_0x14402d(0x1c5)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x14402d(0x1c5)?_0x281b40[_0x14402d(0x1c5)]=0x0:_0x281b40[_0x14402d(0x192)]=0x0;const _0x98ffb4={'title':_0x281b40,'tooltip':{'trigger':_0x14402d(0x1e3),'axisPointer':{'type':_0x14402d(0x21d)}},'legend':{},'grid':Object[_0x14402d(0x1f9)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x14402d(0x1f9)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x14402d(0x184),'data':categories},yAxisConfig),'series':series['map']((_0x1c0475,_0x4b3207)=>({'type':_0x14402d(0x17c),'name':_0x1c0475[_0x14402d(0x1c2)],'data':_0x1c0475['data'],'itemStyle':{'color':colors[_0x4b3207]||undefined}}))};_0x563a50[_0x14402d(0x197)](_0x98ffb4);}function showModalViewDetails(){const _0x18d5a3=_0xf33804,_0x4a9bf9=document[_0x18d5a3(0x172)](_0x18d5a3(0x167)),_0x14a918=document[_0x18d5a3(0x172)](_0x18d5a3(0x1d5));_0x4a9bf9[_0x18d5a3(0x1b2)]['add'](_0x18d5a3(0x15e)),_0x14a918[_0x18d5a3(0x195)][_0x18d5a3(0x18b)]='block';}function hideModalViewDetails(){const _0x1a172c=_0xf33804,_0x525d3a=document[_0x1a172c(0x172)](_0x1a172c(0x167)),_0x2ac56c=document['getElementById'](_0x1a172c(0x1d5));_0x525d3a['classList'][_0x1a172c(0x155)](_0x1a172c(0x15e)),_0x2ac56c[_0x1a172c(0x195)]['display']=_0x1a172c(0x1ec);const _0x4e7da3=document['getElementById'](_0x1a172c(0x18a));_0x4e7da3[_0x1a172c(0x171)]=_0x1a172c(0x1c3);}document[_0xf33804(0x172)](_0xf33804(0x203))['addEventListener'](_0xf33804(0x208),hideModalViewDetails),document[_0xf33804(0x172)]('modalOverlayViewDetails')[_0xf33804(0x186)](_0xf33804(0x208),hideModalViewDetails);function verDetalle(_0x200bda,_0x2249d4){const _0x4299ee=_0xf33804;fetch(_0x4299ee(0x20b)+_0x200bda+_0x4299ee(0x164)+_0x2249d4)[_0x4299ee(0x205)](_0xc3ba60=>{const _0x1f4ad2=_0x4299ee;if(!_0xc3ba60['ok'])throw new Error('Error\x20'+_0xc3ba60[_0x1f4ad2(0x1cc)]+':\x20'+_0xc3ba60[_0x1f4ad2(0x1e8)]);return _0xc3ba60[_0x1f4ad2(0x20e)]();})['then'](_0x1541e2=>{const _0x325d13=_0x4299ee;if(_0x1541e2['success']){const _0x4c3fa3=document[_0x325d13(0x172)]('dynamicContent');if(_0x2249d4===_0x325d13(0x165)){let _0x11fbf6='';_0x1541e2[_0x325d13(0x1e2)][_0x325d13(0x1b8)](_0x171b40=>{const _0x2e1dd1=_0x325d13;_0x11fbf6+=_0x2e1dd1(0x217)+_0x171b40[_0x2e1dd1(0x152)]+_0x2e1dd1(0x182)+_0x171b40[_0x2e1dd1(0x204)]+'</td>\x0a<td>'+_0x171b40[_0x2e1dd1(0x1bd)]+_0x2e1dd1(0x182)+_0x171b40[_0x2e1dd1(0x189)]+_0x2e1dd1(0x181);}),document['getElementById']('detalleTablaBody')[_0x325d13(0x171)]=_0x11fbf6;}else{if(_0x2249d4===_0x325d13(0x19f)){const _0x176594=_0x325d13(0x1c6)+encodeURIComponent(_0x1541e2[_0x325d13(0x15f)]),_0x28005d=document[_0x325d13(0x1c7)](_0x325d13(0x1eb));_0x4c3fa3[_0x325d13(0x171)]=_0x325d13(0x1c1)+_0x176594+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x325d13(0x172)](_0x325d13(0x203))[_0x325d13(0x186)](_0x325d13(0x208),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x1541e2[_0x325d13(0x1bb)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})['catch'](_0x5408f4=>{const _0x26130a=_0x4299ee;console['error'](_0x26130a(0x1cf),_0x5408f4),alert(_0x26130a(0x1ca));});}const tableWrappers=document[_0xf33804(0x1fa)](_0xf33804(0x150));tableWrappers[_0xf33804(0x1b8)](_0x4b653a=>{const _0xfd7738=_0xf33804;let _0x2b2cad=![],_0x203775,_0x4177d5;_0x4b653a[_0xfd7738(0x186)](_0xfd7738(0x1b3),_0x225c63=>{const _0x4d96e3=_0xfd7738;_0x2b2cad=!![],_0x203775=_0x225c63[_0x4d96e3(0x215)]-_0x4b653a[_0x4d96e3(0x1f7)],_0x4177d5=_0x4b653a[_0x4d96e3(0x21f)];}),_0x4b653a[_0xfd7738(0x186)](_0xfd7738(0x212),()=>{_0x2b2cad=![];}),_0x4b653a[_0xfd7738(0x186)]('mouseup',()=>{_0x2b2cad=![];}),_0x4b653a['addEventListener'](_0xfd7738(0x166),_0xb1725c=>{const _0x176afc=_0xfd7738;if(!_0x2b2cad)return;_0xb1725c['preventDefault']();const _0x7f269a=_0xb1725c[_0x176afc(0x215)]-_0x4b653a[_0x176afc(0x1f7)],_0x25f40d=(_0x7f269a-_0x203775)*0x2;_0x4b653a[_0x176afc(0x21f)]=_0x4177d5-_0x25f40d;});});function _0x567a(){const _0x43b8e3=['split','data','axis','./js/apierp_export_wk.min.js','substring','setCustomerName','1664838RgzXGc','statusText','onload','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','.modal-content','none','customerName','setOperationDetailTotal',';\x22>\x0a','console','Contenedor\x20','isArray','center','ID_SERIE','./img/apiPOS.png','value','offsetLeft','#reporte-income','assign','querySelectorAll','setOperationNumber','application/json;\x20charset=utf-8','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','currency','{}.constructor(\x22return\x20this\x22)(\x20)','setCustomers','setOperationPaymentStatus','reduce','closeModalViewDetails','cantidad','then','textContent','Error\x20al\x20exportar.','click','#080060','2KpoJsd','https://fasyb.com/api/venta/view/?id=','toFixed','className','json','preventDefault','application/octet-stream','pie','mouseleave','dataset_raw','fechaISO','pageX','setOperationId','\x0a<tr>\x0a<td>','setTipoOperacionCodigo','divChartCustomer','warn','Ventas\x20por\x20Producto','#pagination-products','shadow','boleta','scrollLeft','prototype',';\x20color:\x20','postMessage','Pagado','createElement','Sin\x20descripción','...','sales','setOperationDetailQuantity','#reporte-income-customers','exportDone','incomes','#FF5900','stringify','dataset_','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','search','push','middle','.table-wrapper','toString','producto','__proto__','El\x20contenedor\x20con\x20id\x20\x22','remove','Evolución\x20de\x20Ventas','width','products','application/json','setOperationDetailUnitPresentationId','12qmVhtr','apply-filter','constructor','active','pdf_url','filter-start','filter-end','No\x20se\x20encontró\x20información\x20de\x20ingresos','dispatchEvent','&tipo=','detalle','mousemove','detalleModal','1966176jRjaYR','Ventas\x20por\x20Cliente','RVIE','197055XMfuLY','\x20no\x20existe','find','Costo','#pagination-customers','sort','innerHTML','getElementById','4502300FNgWEn','btnExport','createObjectURL','divChartItem','onmessage','btn-outline','exportReport','values','33576qDpgGJ','bar','height','pedido','setSerie','1456qrtlOQ','</td>\x0a</tr>','</td>\x0a<td>','4249YnEsHF','category','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','addEventListener','setWarehouseId','filterModal','total','dynamicContent','display','&laquo;\x20Anterior','payload','366666GHPTtE','info','setOperationPaymentStatusColor','init','top','additionalFilters','getInstance','style','Siguiente\x20&raquo;','setOption','setCustomerId','setFloorId','\x2000:00:00','toISOString','setOperationTotal','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','divChartIncome','pdf','setOperationItems','50%','return\x20(function()\x20','href','btn-outline-primary','valueDesc','onclick','Pendiente','setOperationType','Selecciona\x20ambas\x20fechas','setOperationDateTime','setOperationSeries','setAuthToken','map','Modal','length','label','cost','classList','mousedown','.btn-logout','setOperationDetailUnitCost','(((.+)+)+)+$','slice','forEach','\x2023:59:59','change','error','setOperationTypeSpan','valor_unitario','line','log','#reporte-income-products','\x0a<iframe\x20src=\x22','name','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','bind','bottom','https://fasyb.com/api/pdf/proxy/?file=','querySelector','#pagination-income','setTipoOperaciones','Error\x20al\x20cargar\x20el\x20detalle.',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','status','setTipoOperacionName',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','Error\x20al\x20cargar\x20el\x20detalle:','round','POST','\x22>\x0a','flatMap','setSeries','modalOverlayViewDetails','setOperationCustomerId','item','Total','btn\x20btn-sm\x20','setTipoComprobante','appendChild','100%','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','setOperationCurrency','Ventas','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'];_0x567a=function(){return _0x43b8e3;};return _0x567a();}async function consultIncomeReport(){const _0x569687=_0xf33804;showLoadingModal();const _0x5cd9d2={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x569687(0x1ac)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x249faa=await fetch(myCompany['setApiEndPoint'],{'method':_0x569687(0x1d1),'headers':{'Content-Type':_0x569687(0x1fc)},'body':JSON['stringify'](_0x5cd9d2)}),{success:_0x27ca73,message:_0x439c3e}=await _0x249faa[_0x569687(0x20e)]();if(!_0x27ca73||!Array[_0x569687(0x1f2)](_0x439c3e[_0x569687(0x22b)])){ntfShow(_0x569687(0x162)),console[_0x569687(0x1bf)](_0x439c3e);return;}const _0x5f551c=_0x439c3e[_0x569687(0x22b)],_0x47db7=myCompany[_0x569687(0x200)]['reduce']((_0x2fb5b1,_0x1ab142)=>(_0x2fb5b1[_0x1ab142[_0x569687(0x198)]]=_0x1ab142[_0x569687(0x1e6)],_0x2fb5b1),{}),_0x2bb473=myCompany[_0x569687(0x1c9)]['reduce']((_0x21d699,_0x5b7f5b)=>(_0x21d699[_0x5b7f5b[_0x569687(0x218)]]=_0x5b7f5b[_0x569687(0x1cd)],_0x21d699),{}),_0x4dbae7=myCompany[_0x569687(0x1d4)]['reduce']((_0xcb7104,_0x4824cd)=>(_0xcb7104[_0x4824cd[_0x569687(0x1f4)]]=_0x4824cd[_0x569687(0x17f)],_0xcb7104),{});arrayIncomes=_0x5f551c[_0x569687(0x1ad)](_0x4ff6d2=>{const _0x278070=_0x569687,_0x4173c3=_0x4ff6d2[_0x278070(0x1a0)]['reduce']((_0xb93058,_0x4db1bd)=>_0xb93058+Number(_0x4db1bd[_0x278070(0x1ee)]),0x0),_0x58ff6f=_0x2bb473[_0x4ff6d2[_0x278070(0x1a8)]]||_0x4ff6d2['setOperationType'],_0x1f1add=_0x4dbae7[_0x4ff6d2[_0x278070(0x1ab)]]||_0x4ff6d2[_0x278070(0x1ab)],_0x1a7608=_0x47db7[_0x4ff6d2[_0x278070(0x1d6)]]||_0x4ff6d2[_0x278070(0x1d6)],_0x260563=_0x4ff6d2[_0x278070(0x201)]==0x1?'#00bb2d':_0x278070(0x149),_0x17ea5c=_0x4ff6d2[_0x278070(0x201)]==0x1?_0x278070(0x223):_0x278070(0x1a7),_0x23209d=_0x4ff6d2[_0x278070(0x1a8)]==0x1?_0x278070(0x17e):_0x4ff6d2[_0x278070(0x1a8)]==0x2?'recibo':_0x4ff6d2[_0x278070(0x1a8)]==0x3?_0x278070(0x21e):_0x4ff6d2[_0x278070(0x1a8)]==0x4?'factura':'recibo';return{'setOperationId':_0x4ff6d2['setOperationId'],'setOperationType':_0x58ff6f,'setOperationTypeSpan':_0x23209d,'setOperationSeries':_0x1f1add+'-'+_0x4ff6d2[_0x278070(0x1fb)],'setOperationCustomerName':_0x1a7608,'setOperationDateTime':_0x4ff6d2[_0x278070(0x1aa)],'setOperationPaymentStatusColor':_0x260563,'setOperationPaymentStatusName':_0x17ea5c,'setOperationCurrency':_0x4ff6d2[_0x278070(0x1de)],'setOperationTotal':_0x4173c3};});const _0x260711=_0x5f551c[_0x569687(0x1d3)](_0x26b7ae=>_0x26b7ae[_0x569687(0x1a0)][_0x569687(0x1ad)](_0x199937=>({'item':_0x199937,'moneda':_0x26b7ae[_0x569687(0x1de)]})))['reduce']((_0x45ccbb,{item:_0x12359b,moneda:_0xf0119e})=>{const _0x37cb34=_0x569687,_0x56e482=products[_0x37cb34(0x16d)](_0x2f6ff0=>_0x2f6ff0['id']==_0x12359b[_0x37cb34(0x15a)]),_0x7204c5=_0x56e482?_0x56e482['setDescripcion']:_0x37cb34(0x225),_0x2b12d0=_0x7204c5+'|'+_0xf0119e,_0x5be36a=Number(_0x12359b[_0x37cb34(0x1ee)]),_0x955572=Number(_0x12359b[_0x37cb34(0x1b5)])*Number(_0x12359b[_0x37cb34(0x228)]);return!_0x45ccbb[_0x2b12d0]&&(_0x45ccbb[_0x2b12d0]={'productName':_0x7204c5,'currency':_0xf0119e,'sales':0x0,'cost':0x0}),_0x45ccbb[_0x2b12d0][_0x37cb34(0x227)]+=_0x5be36a,_0x45ccbb[_0x2b12d0][_0x37cb34(0x1b1)]+=_0x955572,_0x45ccbb;},{}),_0x69052f=Object[_0x569687(0x17a)](_0x260711)['map'](_0x121b05=>({'productName':_0x121b05['productName'],'currency':_0x121b05['currency'],'sales':Math[_0x569687(0x1d0)](_0x121b05['sales']*0x64)/0x64,'cost':Math[_0x569687(0x1d0)](_0x121b05[_0x569687(0x1b1)]*0x64)/0x64,'profit':Math['round']((_0x121b05['sales']-_0x121b05[_0x569687(0x1b1)])*0x64)/0x64})),_0x40e4dd=_0x5f551c[_0x569687(0x202)]((_0x555a72,_0x8c808c)=>{const _0x53b328=_0x569687,_0x31fafa=_0x47db7[_0x8c808c[_0x53b328(0x1d6)]]||_0x8c808c[_0x53b328(0x1d6)],_0x3d197a=_0x8c808c[_0x53b328(0x1de)],_0x5d3201=_0x31fafa+'|'+_0x3d197a,_0x24e43e=_0x8c808c[_0x53b328(0x1a0)][_0x53b328(0x202)]((_0x52a4da,_0x55af8c)=>_0x52a4da+Number(_0x55af8c[_0x53b328(0x1ee)]),0x0),_0x4e179a=_0x8c808c[_0x53b328(0x1a0)][_0x53b328(0x202)]((_0x184979,_0x2b0d1d)=>_0x184979+Number(_0x2b0d1d[_0x53b328(0x1b5)])*Number(_0x2b0d1d[_0x53b328(0x228)]),0x0);return!_0x555a72[_0x5d3201]&&(_0x555a72[_0x5d3201]={'customerName':_0x31fafa,'currency':_0x3d197a,'sales':0x0,'cost':0x0}),_0x555a72[_0x5d3201][_0x53b328(0x227)]+=_0x24e43e,_0x555a72[_0x5d3201][_0x53b328(0x1b1)]+=_0x4e179a,_0x555a72;},{}),_0x509f66=Object['values'](_0x40e4dd)[_0x569687(0x1ad)](_0x62f531=>({'customerName':_0x62f531[_0x569687(0x1ed)],'currency':_0x62f531[_0x569687(0x1fe)],'sales':Math[_0x569687(0x1d0)](_0x62f531['sales']*0x64)/0x64,'cost':Math[_0x569687(0x1d0)](_0x62f531[_0x569687(0x1b1)]*0x64)/0x64,'profit':Math['round']((_0x62f531[_0x569687(0x227)]-_0x62f531[_0x569687(0x1b1)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x569687(0x22b)),renderTable(_0x69052f,currentPageProducts,_0x569687(0x158)),renderTable(_0x509f66,currentPageCustomers,'customers');const _0x4dc5cc=arrayIncomes[_0x569687(0x1ad)](_0x56e4e0=>({'fechaISO':_0x56e4e0[_0x569687(0x1aa)][_0x569687(0x1e1)]('\x20')[0x0],'setTipoComprobante':_0x56e4e0[_0x569687(0x1a8)],'setOperationCurrency':_0x56e4e0[_0x569687(0x1de)],'Total':Math[_0x569687(0x1d0)](_0x56e4e0[_0x569687(0x19c)]*0x64)/0x64})),_0xd7c15b=_0x4dc5cc['reduce']((_0x4cd597,_0x59cb9e)=>{const _0x3bc20b=_0x569687,_0x4bf329=_0x59cb9e[_0x3bc20b(0x214)]+'|'+_0x59cb9e[_0x3bc20b(0x1da)]+'|'+_0x59cb9e[_0x3bc20b(0x1de)];if(!_0x4cd597[_0x4bf329])_0x4cd597[_0x4bf329]={..._0x59cb9e,'Total':0x0};return _0x4cd597[_0x4bf329][_0x3bc20b(0x1d8)]+=_0x59cb9e['Total'],_0x4cd597;},{}),_0x1375e8=Object[_0x569687(0x17a)](_0xd7c15b)[_0x569687(0x1ad)](_0x537c8d=>({'fechaISO':_0x537c8d['fechaISO'],'setTipoComprobante':_0x537c8d['setTipoComprobante']+'\x20('+_0x537c8d['setOperationCurrency']+')','Total':Math[_0x569687(0x1d0)](_0x537c8d[_0x569687(0x1d8)]*0x64)/0x64})),_0x362eae=[...new Set(_0x1375e8[_0x569687(0x1ad)](_0xbf4512=>_0xbf4512['setTipoComprobante']))],_0x48db99=Array['from'](new Set(_0x1375e8[_0x569687(0x1ad)](_0x185b2d=>_0x185b2d[_0x569687(0x214)])))[_0x569687(0x170)]((_0x3f4715,_0x441363)=>new Date(_0x3f4715)-new Date(_0x441363));_0x1375e8[_0x569687(0x1af)]>0x0?generateFilterTransformChart({'containerId':_0x569687(0x19e),'rawData':_0x1375e8,'groupField':_0x569687(0x1da),'groupValues':_0x362eae,'seriesType':_0x569687(0x17c),'chartType':_0x569687(0x17c),'colors':[_0x569687(0x149),_0x569687(0x209)],'encode':{'x':_0x569687(0x214),'y':_0x569687(0x1d8),'label':['setTipoComprobante','Total'],'itemName':_0x569687(0x214),'tooltip':[_0x569687(0x1d8)]},'xAxisConfig':{'type':_0x569687(0x184),'data':_0x48db99,'axisLabel':{'formatter':_0x56649c=>{const _0x5eab4e=_0x569687,[_0x58a22d,_0x21dd81,_0x5d94d1]=_0x56649c[_0x5eab4e(0x1e1)]('-');return _0x5d94d1+'/'+_0x21dd81+'/'+_0x58a22d;}}},'title':_0x569687(0x156),'width':_0x569687(0x1dc),'height':'500px'}):divChartIncome['innerHTML']='';_0x69052f[_0x569687(0x1af)]>0x0?generateHorizontalBarChart({'containerId':_0x569687(0x176),'categories':_0x69052f['map'](_0x445be1=>{const _0x40a0d1=_0x569687,_0x1e7750='('+_0x445be1[_0x40a0d1(0x1fe)]+')\x20'+_0x445be1['productName'];return _0x1e7750[_0x40a0d1(0x1af)]>0xf?_0x1e7750[_0x40a0d1(0x1e5)](0x0,0xf)+_0x40a0d1(0x226):_0x1e7750;}),'series':[{'name':_0x569687(0x1df),'data':_0x69052f[_0x569687(0x1ad)](_0x18a8e9=>_0x18a8e9[_0x569687(0x227)])},{'name':_0x569687(0x16e),'data':_0x69052f[_0x569687(0x1ad)](_0x31f701=>_0x31f701[_0x569687(0x1b1)])},{'name':'Ganancia','data':_0x69052f[_0x569687(0x1ad)](_0x5c0023=>_0x5c0023['profit'])}],'title':_0x569687(0x21b),'titlePosition':_0x569687(0x1c5),'showTitle':![],'colors':[_0x569687(0x149),_0x569687(0x209),'#00AEEF'],'width':'100%','height':'400px'}):divChartItem[_0x569687(0x171)]='';if(_0x509f66['length']>0x0){const _0x26f66a=_0x509f66['map'](_0x39a0e5=>({'label':_0x39a0e5[_0x569687(0x1ed)]+'\x20('+_0x39a0e5[_0x569687(0x1fe)]+')','sales':_0x39a0e5[_0x569687(0x227)]}));generatePieChart({'containerId':_0x569687(0x219),'data':_0x26f66a,'nameField':_0x569687(0x1b0),'valueField':'sales','title':_0x569687(0x169),'titlePosition':'top','showTitle':![],'width':'500px','height':'500px'});}else divChartCustomer[_0x569687(0x171)]='';}catch(_0xe9040b){ntfShow('Error\x20al\x20solicitar\x20reporte'),console[_0x569687(0x1bb)](_0xe9040b);}finally{hideLoadingModal();}}function renderTable(_0x29d14f,_0x3d2e5e=0x1,_0x56b8ff='incomes'){const _0xb46d99=_0xf33804;currentPage=_0x3d2e5e;const _0x56b603=_0x56b8ff==='incomes'?_0xb46d99(0x1f8):_0x56b8ff==='products'?_0xb46d99(0x1c0):_0xb46d99(0x229),_0x2af88a=_0x56b8ff===_0xb46d99(0x22b)?per_page:_0x56b8ff===_0xb46d99(0x158)?per_page_products:per_page_customers,_0x127149=document['querySelector'](_0x56b603+'\x20tbody');_0x127149[_0xb46d99(0x171)]='';const _0xd65d9a=(_0x3d2e5e-0x1)*_0x2af88a,_0x3d281d=_0x29d14f[_0xb46d99(0x1b7)](_0xd65d9a,_0xd65d9a+_0x2af88a);if(_0x56b8ff===_0xb46d99(0x22b)){_0x3d281d[_0xb46d99(0x1b8)](_0x5339e0=>{const _0x2d6f8b=_0xb46d99,_0x402bbe=document[_0x2d6f8b(0x224)]('tr');_0x402bbe[_0x2d6f8b(0x171)]=_0x2d6f8b(0x14c)+_0x5339e0[_0x2d6f8b(0x1bc)]+_0x2d6f8b(0x1d2)+_0x5339e0[_0x2d6f8b(0x1a8)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+(_0x5339e0['setOperationSeries']||'')+_0x2d6f8b(0x182)+(_0x5339e0['setOperationCustomerName']||'')+_0x2d6f8b(0x1dd)+_0x5339e0[_0x2d6f8b(0x1aa)]+_0x2d6f8b(0x19d)+_0x5339e0['setOperationPaymentStatusColor']+_0x2d6f8b(0x221)+_0x5339e0[_0x2d6f8b(0x190)]+_0x2d6f8b(0x1ef)+_0x5339e0['setOperationPaymentStatusName']+_0x2d6f8b(0x185)+_0x5339e0[_0x2d6f8b(0x1de)]+_0x2d6f8b(0x1ea)+_0x5339e0['setOperationTotal']['toFixed'](0x2)+_0x2d6f8b(0x1fd)+_0x5339e0[_0x2d6f8b(0x216)]+_0x2d6f8b(0x1cb)+_0x5339e0['setOperationId']+_0x2d6f8b(0x1ce),_0x127149['appendChild'](_0x402bbe);});const _0x446fea=_0x29d14f['reduce']((_0x12cf4e,_0x4a71e2)=>{const _0x22c98a=_0xb46d99,_0x152ae0=_0x4a71e2['setOperationCurrency'];return _0x12cf4e[_0x152ae0]=(_0x12cf4e[_0x152ae0]||0x0)+Number(_0x4a71e2[_0x22c98a(0x19c)]),_0x12cf4e;},{});Object['entries'](_0x446fea)['forEach'](([_0x33250d,_0x2a700c])=>{const _0x1d606d=_0xb46d99,_0x148ec9=document['createElement']('tr');_0x148ec9[_0x1d606d(0x171)]='\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x33250d+_0x1d606d(0x1e0)+(Math[_0x1d606d(0x1d0)](_0x2a700c*0x64)/0x64)[_0x1d606d(0x20c)](0x2)+'\x0a</td>\x0a<td></td>\x0a',_0x127149['appendChild'](_0x148ec9);}),renderPagination(_0x29d14f,_0x3d2e5e,_0x56b8ff);}}function renderPagination(_0x168c72,_0x4e55b5,_0x1ecb00=_0xf33804(0x22b)){const _0x6da029=_0xf33804,_0x3a5fc7=_0x1ecb00===_0x6da029(0x22b)?document[_0x6da029(0x1c7)](_0x6da029(0x1c8)):_0x1ecb00===_0x6da029(0x158)?document['querySelector'](_0x6da029(0x21c)):document['querySelector'](_0x6da029(0x16f)),_0x4bfc25=_0x1ecb00===_0x6da029(0x22b)?per_page:_0x1ecb00===_0x6da029(0x158)?per_page_products:per_page_customers;_0x3a5fc7['innerHTML']='';const _0x539de5=Math['ceil'](_0x168c72[_0x6da029(0x1af)]/_0x4bfc25),_0x105872=document[_0x6da029(0x224)]('a');_0x105872['href']='#',_0x105872[_0x6da029(0x20d)]='btn\x20btn-sm\x20btn-outline\x20me-2',_0x105872[_0x6da029(0x171)]=_0x6da029(0x18c),_0x105872[_0x6da029(0x1a6)]=_0x342794=>{const _0x4bc433=_0x6da029;_0x342794[_0x4bc433(0x20f)]();if(_0x4e55b5>0x1)renderTable(_0x168c72,_0x4e55b5-0x1,_0x1ecb00);},_0x3a5fc7[_0x6da029(0x1db)](_0x105872);for(let _0x2f4d10=0x1;_0x2f4d10<=_0x539de5;_0x2f4d10++){const _0x5ea910=document[_0x6da029(0x224)]('a');_0x5ea910[_0x6da029(0x1a3)]='#',_0x5ea910['className']=_0x6da029(0x1d9)+(_0x2f4d10===_0x4e55b5?_0x6da029(0x1a4):_0x6da029(0x178)),_0x5ea910[_0x6da029(0x206)]=_0x2f4d10,_0x5ea910[_0x6da029(0x1a6)]=_0x3a6d95=>{_0x3a6d95['preventDefault'](),renderTable(_0x168c72,_0x2f4d10,_0x1ecb00);},_0x3a5fc7[_0x6da029(0x1db)](_0x5ea910);}const _0x2de549=document[_0x6da029(0x224)]('a');_0x2de549[_0x6da029(0x1a3)]='#',_0x2de549[_0x6da029(0x20d)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x2de549[_0x6da029(0x171)]=_0x6da029(0x196),_0x2de549[_0x6da029(0x1a6)]=_0x442d12=>{const _0x5c2351=_0x6da029;_0x442d12[_0x5c2351(0x20f)]();if(_0x4e55b5<_0x539de5)renderTable(_0x168c72,_0x4e55b5+0x1,_0x1ecb00);},_0x3a5fc7[_0x6da029(0x1db)](_0x2de549);}document['getElementById'](_0xf33804(0x15c))['addEventListener'](_0xf33804(0x208),async()=>{const _0x41e549=_0xf33804,_0x596364=document[_0x41e549(0x172)](_0x41e549(0x160))[_0x41e549(0x1f6)],_0xd99e0c=document[_0x41e549(0x172)](_0x41e549(0x161))[_0x41e549(0x1f6)];if(!_0x596364||!_0xd99e0c)return alert(_0x41e549(0x1a9));const _0x52fc61=document['getElementById'](_0x41e549(0x188)),_0x21f8a5=bootstrap[_0x41e549(0x1ae)][_0x41e549(0x194)](_0x52fc61);_0x21f8a5['hide'](),showLoadingModal();try{const _0x47e0be={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x41e549(0x1ac)],'dateFrom':_0x596364+_0x41e549(0x19a),'dateTo':_0xd99e0c+_0x41e549(0x1b9),'clientIds':[],'operationTypes':[]},_0x42cc0f=await fetch(myCompany['setApiEndPoint'],{'method':_0x41e549(0x1d1),'headers':{'Content-Type':_0x41e549(0x159)},'body':JSON[_0x41e549(0x14a)](_0x47e0be)}),{success:_0xb3fcd0,message:_0x40f044}=await _0x42cc0f[_0x41e549(0x20e)]();if(!_0xb3fcd0)throw new Error(_0x40f044);_0x40f044[_0x41e549(0x22b)],await consultIncomeReport();}catch(_0x291a28){ntfShow('Error\x20al\x20aplicar\x20filtro'),console[_0x41e549(0x1bb)](_0x291a28);}finally{hideLoadingModal();}});const reportWorker=new Worker(_0xf33804(0x1e4));function _0x4cad(_0x501e7b,_0x9167ba){const _0x380755=_0x567a();return _0x4cad=function(_0x4caa60,_0x3d8ed2){_0x4caa60=_0x4caa60-0x149;let _0x41dd71=_0x380755[_0x4caa60];return _0x41dd71;},_0x4cad(_0x501e7b,_0x9167ba);}reportWorker[_0xf33804(0x177)]=({data:_0x1b8f0d})=>{const _0x4c6a8a=_0xf33804,{type:_0x2de03a,payload:_0x29d846,reportType:_0x1d3c99}=_0x1b8f0d;if(_0x2de03a===_0x4c6a8a(0x22a)){const _0x241a0d=new Blob([_0x1b8f0d[_0x4c6a8a(0x18d)]],{'type':_0x4c6a8a(0x210)}),_0x2a253b=URL[_0x4c6a8a(0x175)](_0x241a0d),_0x1e85b2=document[_0x4c6a8a(0x224)]('a'),_0x562e71=new Date()[_0x4c6a8a(0x19b)]()[_0x4c6a8a(0x1b7)](0x0,0xa);_0x1e85b2[_0x4c6a8a(0x1a3)]=_0x2a253b,_0x1e85b2['download']=_0x1d3c99+'_'+_0x562e71+'.xlsx',_0x1e85b2[_0x4c6a8a(0x208)](),URL['revokeObjectURL'](_0x2a253b);}_0x2de03a===_0x4c6a8a(0x1bb)&&(console[_0x4c6a8a(0x1bb)]('Export\x20WK\x20Error:',_0x29d846),ntfShow(_0x4c6a8a(0x207)));},document['getElementById'](_0xf33804(0x174))[_0xf33804(0x186)]('click',onClickExport);function onClickExport(){const _0x300782=_0xf33804;if(!Array['isArray'](arrayIncomes)||!arrayIncomes[_0x300782(0x1af)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');const _0x2086fe=arrayIncomes[_0x300782(0x1ad)](_0x185ba3=>{const _0x1baf56=_0x300782,[_0x541aa4]=_0x185ba3[_0x1baf56(0x1aa)][_0x1baf56(0x1e1)]('\x20'),[_0x58ac4d,_0x2036e3,_0x1682a5]=_0x541aa4[_0x1baf56(0x1e1)]('-');return{'Periodo':''+_0x58ac4d+_0x2036e3,'CorrelativoCUO':'','FechaEmision':_0x1682a5+'/'+_0x2036e3+'/'+_0x58ac4d,'FechaVencimiento':'','TipoComprobante':_0x185ba3[_0x1baf56(0x1bc)],'SerieNumero':_0x185ba3['setOperationSeries'],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x185ba3['setOperationCustomerName'],'BaseImponible':'','IGV':'','TotalVenta':_0x185ba3['setOperationTotal'],'Moneda':_0x185ba3[_0x1baf56(0x1de)],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x300782(0x222)]({'action':_0x300782(0x179),'reportType':_0x300782(0x16a),'report':_0x2086fe});}window[_0xf33804(0x1e9)]=function(){const _0x43f9db=_0xf33804,_0xe42ba6=0x5;loadLoginContent(_0x43f9db(0x1f5)),setUserNameGet(),setEventBtnAccess();const _0x5a8abd=document['querySelector'](_0x43f9db(0x1b4));_0x5a8abd&&_0x5a8abd[_0x43f9db(0x186)](_0x43f9db(0x208),function(){logoutReload(0x0,_0xe42ba6);}),document[_0x43f9db(0x172)]('setBranchId')[_0x43f9db(0x186)](_0x43f9db(0x1ba),async function(){const _0x3cfb14=_0x43f9db,_0x281771=parseInt(this[_0x3cfb14(0x1f6)]);myCompany['setBranchDefault']=_0x281771;const _0x2ffed5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2ffed5),cargarAlmacenes(_0x281771),setTimeout(()=>{const _0x554514=_0x3cfb14;document[_0x554514(0x172)](_0x554514(0x187))[_0x554514(0x163)](new Event(_0x554514(0x1ba)));},0x64),cargarPisos(_0x281771),setTimeout(()=>{const _0x28761f=_0x3cfb14;document[_0x28761f(0x172)](_0x28761f(0x199))[_0x28761f(0x163)](new Event(_0x28761f(0x1ba)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x3cfb14(0x14e)](_0x281771),consultIncomeReport();}),loadCartAndSetTabCount(_0xe42ba6);};