/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.5
*/

var _0x18ed2e=_0x4d59;(function(_0x395771,_0x239633){var _0x34e3e1=_0x4d59,_0x35942d=_0x395771();while(!![]){try{var _0xbfd64d=parseInt(_0x34e3e1(0x233))/0x1*(parseInt(_0x34e3e1(0x1aa))/0x2)+parseInt(_0x34e3e1(0x235))/0x3*(parseInt(_0x34e3e1(0x175))/0x4)+-parseInt(_0x34e3e1(0x212))/0x5+parseInt(_0x34e3e1(0x18d))/0x6*(-parseInt(_0x34e3e1(0x27b))/0x7)+-parseInt(_0x34e3e1(0x200))/0x8+parseInt(_0x34e3e1(0x1ba))/0x9+-parseInt(_0x34e3e1(0x1dc))/0xa;if(_0xbfd64d===_0x239633)break;else _0x35942d['push'](_0x35942d['shift']());}catch(_0x2ca3cf){_0x35942d['push'](_0x35942d['shift']());}}}(_0x5994,0x68e67));var _0x9af1dd=(function(){var _0x56b9c4=!![];return function(_0x35dcb0,_0x12b780){var _0x4be0cb=_0x56b9c4?function(){var _0x1351e6=_0x4d59;if(_0x12b780){var _0x21fd8b=_0x12b780[_0x1351e6(0x1ac)](_0x35dcb0,arguments);return _0x12b780=null,_0x21fd8b;}}:function(){};return _0x56b9c4=![],_0x4be0cb;};}()),_0x1fee5c=_0x9af1dd(this,function(){var _0x5afd5c=_0x4d59;return _0x1fee5c[_0x5afd5c(0x1d9)]()[_0x5afd5c(0x290)](_0x5afd5c(0x21d))[_0x5afd5c(0x1d9)]()[_0x5afd5c(0x20a)](_0x1fee5c)[_0x5afd5c(0x290)](_0x5afd5c(0x21d));});_0x1fee5c();var _0x3e7319=(function(){var _0x30db5a=!![];return function(_0x135e27,_0x407e33){var _0x53e2ca=_0x30db5a?function(){var _0x401622=_0x4d59;if(_0x407e33){var _0x4c8cdd=_0x407e33[_0x401622(0x1ac)](_0x135e27,arguments);return _0x407e33=null,_0x4c8cdd;}}:function(){};return _0x30db5a=![],_0x53e2ca;};}()),_0x4edbc1=_0x3e7319(this,function(){var _0x16b6d6=_0x4d59,_0x1cd603;try{var _0x15360b=Function(_0x16b6d6(0x25b)+_0x16b6d6(0x27f)+');');_0x1cd603=_0x15360b();}catch(_0x39879a){_0x1cd603=window;}var _0x26f6bc=_0x1cd603['console']=_0x1cd603['console']||{},_0x47ee01=[_0x16b6d6(0x1da),_0x16b6d6(0x20f),_0x16b6d6(0x204),_0x16b6d6(0x259),_0x16b6d6(0x1f3),'table',_0x16b6d6(0x184)];for(var _0xf57ddb=0x0;_0xf57ddb<_0x47ee01['length'];_0xf57ddb++){var _0x2052b4=_0x3e7319[_0x16b6d6(0x20a)][_0x16b6d6(0x251)]['bind'](_0x3e7319),_0x5a3bdb=_0x47ee01[_0xf57ddb],_0x1c4325=_0x26f6bc[_0x5a3bdb]||_0x2052b4;_0x2052b4[_0x16b6d6(0x198)]=_0x3e7319['bind'](_0x3e7319),_0x2052b4['toString']=_0x1c4325[_0x16b6d6(0x1d9)][_0x16b6d6(0x269)](_0x1c4325),_0x26f6bc[_0x5a3bdb]=_0x2052b4;}});_0x4edbc1();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x18ed2e(0x275)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x18ed2e(0x275)](_0x18ed2e(0x23e)),prodC=document['getElementById']('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x18ed2e(0x275)]('newItem_variants_forms'),vgC=document[_0x18ed2e(0x275)](_0x18ed2e(0x252));const fileInput=document[_0x18ed2e(0x275)](_0x18ed2e(0x220)),progressBar=document[_0x18ed2e(0x275)](_0x18ed2e(0x28a)),statusDiv=document[_0x18ed2e(0x275)](_0x18ed2e(0x29b)),uploadBtn=document['getElementById'](_0x18ed2e(0x29c));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x18ed2e(0x275)]('drop-zone'),removeBtn=document[_0x18ed2e(0x275)](_0x18ed2e(0x16e));function showModalCreateItem(_0x42b20e){var _0xdfca4=_0x18ed2e;const _0x125010=document[_0xdfca4(0x275)](_0xdfca4(0x161)),_0xc785ee=document['getElementById'](_0xdfca4(0x226));_0x125010[_0xdfca4(0x1bf)][_0xdfca4(0x174)]('active'),_0xc785ee[_0xdfca4(0x26d)][_0xdfca4(0x2ad)]=_0xdfca4(0x26f);const _0xe7a5dc=document[_0xdfca4(0x275)](_0xdfca4(0x20b));_0xe7a5dc[_0xdfca4(0x1c2)]=parseInt(_0x42b20e),baseItem['setItemFree']=parseInt(_0x42b20e);const _0x549032=document[_0xdfca4(0x275)](_0xdfca4(0x219));_0x42b20e==0x0&&(_0x549032['innerHTML']=_0xdfca4(0x18e));_0x42b20e==0x1&&(_0x549032[_0xdfca4(0x26c)]=_0xdfca4(0x29d));const _0x12ea16=document[_0xdfca4(0x162)](_0xdfca4(0x286));for(let _0x8bf8cc=0x0;_0x8bf8cc<_0x12ea16[_0xdfca4(0x179)];_0x8bf8cc++){const _0x26e893=_0x12ea16[_0x8bf8cc];if(_0x42b20e==0x0)_0x26e893['classList']['remove'](_0xdfca4(0x205));else _0x42b20e==0x1&&_0x26e893[_0xdfca4(0x1bf)][_0xdfca4(0x174)](_0xdfca4(0x205));}}function hideModalCreateItem(){var _0x3f7286=_0x18ed2e;const _0x27a78f=document[_0x3f7286(0x275)](_0x3f7286(0x161)),_0x47a32d=document[_0x3f7286(0x275)]('modalOverlayCreateItem');_0x27a78f['classList'][_0x3f7286(0x17f)]('active'),_0x47a32d[_0x3f7286(0x26d)][_0x3f7286(0x2ad)]=_0x3f7286(0x279);}document[_0x18ed2e(0x275)](_0x18ed2e(0x261))[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),hideModalCreateItem),document[_0x18ed2e(0x275)](_0x18ed2e(0x226))['addEventListener']('click',_0x1d8767=>{var _0x1c2911=_0x18ed2e;_0x1d8767[_0x1c2911(0x22b)]==_0x1d8767['currentTarget']&&_0x1d8767[_0x1c2911(0x241)]();});function loadTaxData(){var _0x533e3e=_0x18ed2e;const _0x535601=document[_0x533e3e(0x275)](_0x533e3e(0x21e));_0x535601[_0x533e3e(0x26c)]='',company[0x0][_0x533e3e(0x22e)]['forEach'](function(_0x482332){var _0x3032cb=_0x533e3e;const _0x332593=document['createElement'](_0x3032cb(0x231));_0x332593[_0x3032cb(0x1c2)]=_0x482332[_0x3032cb(0x25a)],_0x332593[_0x3032cb(0x26c)]=_0x482332[_0x3032cb(0x1cc)]+'\x20('+_0x482332[_0x3032cb(0x291)]+'%)',_0x482332[_0x3032cb(0x25a)]==company[0x0]['setTaxIdDefault']&&(_0x332593[_0x3032cb(0x249)]=!![]),_0x535601[_0x3032cb(0x21b)](_0x332593);});}function uniqueValuesArray(_0x839dd4,_0xccb458,_0x439356){var _0x52511a=_0x18ed2e;const _0x2b5062=Array[_0x52511a(0x1ea)](new Set(_0x439356[_0x52511a(0x1fb)](_0x4b3bfc=>{var _0x5b543e=_0x52511a;const _0x12f092=_0x4b3bfc[_0x839dd4];return typeof _0x12f092===_0x5b543e(0x236)?_0x12f092[_0x5b543e(0x1fc)]():_0x12f092;})[_0x52511a(0x211)](_0x3b256b=>_0x3b256b!=null&&_0x3b256b!=='')));return _0x2b5062['map'](_0x136ea3=>{var _0x145677=_0x52511a;const _0x10ed00=_0x439356[_0x145677(0x1e1)](_0x46e44b=>_0x46e44b[_0x839dd4]===_0x136ea3),_0x1cf476=_0x10ed00&&_0x10ed00[_0xccb458]!=null?String(_0x10ed00[_0xccb458])[_0x145677(0x1fc)]():_0x136ea3;return{'setCode':_0x136ea3,'setName':_0x1cf476};});}function fillSelect(_0x2d9eb3,_0x4f7fb4,_0x35264e,_0x24845d){var _0x2a1a62=_0x18ed2e;_0x2d9eb3[_0x2a1a62(0x26c)]='',_0x4f7fb4[_0x2a1a62(0x23f)](function(_0x471cbe){var _0x17051a=_0x2a1a62,_0x48074f=new Option(_0x471cbe[_0x24845d],_0x471cbe[_0x35264e]);_0x2d9eb3[_0x17051a(0x174)](_0x48074f);});}function initMulti(_0x448983,_0x32bc9b){var _0xea687d=_0x18ed2e,_0x492580=document[_0xea687d(0x275)](_0x448983),_0x3dbb84=_0x492580['querySelector'](_0xea687d(0x16b)),_0x4f3dfb=_0x492580['querySelector'](_0xea687d(0x18f)),_0x20b0f9=_0x492580['querySelector'](_0xea687d(0x25e)),_0x85a114=_0x32bc9b['slice'](),_0x61145c=[];let _0x51b6d9=null,_0x455d97=![];function _0x4b5bd2(){var _0x202bfd=_0xea687d;const _0x113ea3=_0x3dbb84[_0x202bfd(0x1c2)]['trim']();if(!_0x113ea3)return;const _0x277a30=_0x85a114[_0x202bfd(0x1e1)](_0x1e5647=>_0x1e5647[_0x202bfd(0x1f0)][_0x202bfd(0x262)]()===_0x113ea3[_0x202bfd(0x262)]());if(_0x277a30)_0x61145c[_0x202bfd(0x1a9)](_0x277a30),_0x85a114[_0x202bfd(0x15d)](_0x85a114['findIndex'](_0x20d5be=>_0x20d5be['setCode']===_0x277a30['setCode']),0x1);else{const _0x12daf2=_0x61145c['some'](_0x26670a=>_0x26670a[_0x202bfd(0x1f0)][_0x202bfd(0x262)]()===_0x113ea3[_0x202bfd(0x262)]());!_0x12daf2&&_0x61145c[_0x202bfd(0x1a9)]({'setCode':_0x113ea3,'setName':_0x113ea3});}_0x2838d0(),_0x46fdf1(),_0x3dbb84[_0x202bfd(0x1c2)]='';}function _0x46fdf1(){var _0x125579=_0xea687d;_0x4f3dfb[_0x125579(0x26c)]='',_0x85a114[_0x125579(0x211)](_0x34b307=>_0x34b307[_0x125579(0x1f0)][_0x125579(0x262)]()[_0x125579(0x22c)](_0x3dbb84[_0x125579(0x1c2)][_0x125579(0x262)]()))['slice'](0x0,0x14)[_0x125579(0x23f)](_0x7362de=>{var _0x527cd1=_0x125579,_0x47a609=document['createElement']('div');_0x47a609[_0x527cd1(0x260)]=_0x7362de['setName'],_0x47a609['dataset']['code']=_0x7362de[_0x527cd1(0x254)],_0x4f3dfb[_0x527cd1(0x21b)](_0x47a609),_0x47a609[_0x527cd1(0x1c3)](_0x527cd1(0x243),()=>_0x455d97=!![]),_0x47a609[_0x527cd1(0x1c3)](_0x527cd1(0x253),function(){var _0x4a1a95=_0x527cd1;_0x455d97=![],_0x61145c[_0x4a1a95(0x1a9)](_0x7362de),_0x85a114[_0x4a1a95(0x15d)](_0x85a114['findIndex'](_0x5e84a5=>_0x5e84a5['setCode']===_0x7362de[_0x4a1a95(0x254)]),0x1),_0x3dbb84['value']='',_0x2838d0(),_0x46fdf1();});});}function _0x2838d0(){var _0x3af444=_0xea687d;_0x20b0f9['innerHTML']='',_0x61145c[_0x3af444(0x23f)](_0x1e97e2=>{var _0x4781d8=_0x3af444,_0x2873b2=document['createElement'](_0x4781d8(0x24f));_0x2873b2[_0x4781d8(0x1c9)]=_0x4781d8(0x16c),_0x2873b2[_0x4781d8(0x260)]=_0x1e97e2[_0x4781d8(0x1f0)];var _0x44bc56=document[_0x4781d8(0x181)](_0x4781d8(0x255));_0x44bc56[_0x4781d8(0x1c9)]=_0x4781d8(0x2a8),_0x44bc56[_0x4781d8(0x260)]='×',_0x44bc56[_0x4781d8(0x1c3)](_0x4781d8(0x253),function(){var _0x30c001=_0x4781d8;_0x85a114[_0x30c001(0x1a9)](_0x1e97e2);const _0x5b86c5=_0x61145c[_0x30c001(0x264)](_0x466c13=>_0x466c13['setCode']===_0x1e97e2[_0x30c001(0x254)]);if(_0x5b86c5>-0x1)_0x61145c[_0x30c001(0x15d)](_0x5b86c5,0x1);_0x2838d0(),_0x46fdf1();}),_0x2873b2['appendChild'](_0x44bc56),_0x20b0f9[_0x4781d8(0x21b)](_0x2873b2);}),_0x492580[_0x3af444(0x292)](new CustomEvent(_0x3af444(0x1ef),{'detail':_0x61145c,'bubbles':!![]}));}return _0x3dbb84[_0xea687d(0x1c3)](_0xea687d(0x180),function(){var _0x25ded7=_0xea687d;_0x51b6d9&&(clearTimeout(_0x51b6d9),_0x51b6d9=null),_0x4f3dfb['classList']['remove'](_0x25ded7(0x294));}),_0x3dbb84['addEventListener'](_0xea687d(0x17b),_0x46fdf1),_0x3dbb84[_0xea687d(0x1c3)]('keydown',function(_0x22b71c){var _0x993d72=_0xea687d;_0x22b71c[_0x993d72(0x228)]===_0x993d72(0x295)&&(_0x22b71c[_0x993d72(0x195)](),_0x4b5bd2());}),_0x3dbb84['addEventListener'](_0xea687d(0x18c),function(){if(_0x455d97)return;_0x51b6d9=setTimeout(()=>{_0x4b5bd2(),_0x51b6d9=null;},0xc8);}),document[_0xea687d(0x1c3)](_0xea687d(0x253),function(_0x165a27){var _0xcd7b8c=_0xea687d;!_0x492580['contains'](_0x165a27[_0xcd7b8c(0x22b)])&&_0x4f3dfb[_0xcd7b8c(0x1bf)][_0xcd7b8c(0x174)](_0xcd7b8c(0x294));}),_0x46fdf1(),_0x61145c;}function getLastCode(_0x3134d0){var _0x40ed1a=_0x18ed2e;const _0x4d3e97=_0x3134d0[_0x40ed1a(0x1fb)](_0x2dd09c=>String(_0x2dd09c['setCodProducto'])[_0x40ed1a(0x1fc)]())[_0x40ed1a(0x211)](_0x154b51=>_0x154b51!=='');if(_0x4d3e97[_0x40ed1a(0x179)]===0x0)return'';const _0x278fe2=_0x4d3e97[_0x40ed1a(0x265)](_0x174b1c=>/^\d+$/[_0x40ed1a(0x19f)](_0x174b1c));if(_0x278fe2){const _0x482689=_0x4d3e97[_0x40ed1a(0x1fb)](Number),_0x1caed6=Math[_0x40ed1a(0x224)](..._0x482689);return String(_0x1caed6);}let _0x356085;if(typeof Intl!=='undefined'&&Intl[_0x40ed1a(0x19a)]){const _0x313667=new Intl[(_0x40ed1a(0x19a))](undefined,{'numeric':!![],'sensitivity':_0x40ed1a(0x268)});_0x356085=_0x4d3e97[_0x40ed1a(0x216)]()[_0x40ed1a(0x1a6)](_0x313667[_0x40ed1a(0x246)]);}else{const _0x58f478=_0x4d3e97[_0x40ed1a(0x265)](_0x111c14=>/^\d+$/[_0x40ed1a(0x19f)](_0x111c14));_0x58f478?_0x356085=_0x4d3e97[_0x40ed1a(0x1fb)](Number)[_0x40ed1a(0x1a6)]((_0x3ccec2,_0x53c165)=>_0x3ccec2-_0x53c165)['map'](String):_0x356085=_0x4d3e97['slice']()[_0x40ed1a(0x1a6)]();}return _0x356085[_0x356085['length']-0x1];}function getNextCode(_0xfecd8f){var _0x2b89f6=_0x18ed2e;const _0x528f34=getLastCode(_0xfecd8f);if(!_0x528f34)return'';if(/^\d+$/['test'](_0x528f34))return String(Number(_0x528f34)+0x1);const _0x167925=_0x528f34['match'](/^([A-Za-z]*)(\d+)$/);if(_0x167925){const [,_0x4752ec,_0x47a898]=_0x167925,_0xf73725=String(Number(_0x47a898)+0x1)[_0x2b89f6(0x272)](_0x47a898[_0x2b89f6(0x179)],'0');return _0x4752ec+_0xf73725;}return _0x528f34;}document[_0x18ed2e(0x275)](_0x18ed2e(0x293))[_0x18ed2e(0x1c3)]('input',function(_0x1ec04a){var _0x68a5fe=_0x18ed2e;baseItem['setItemName']=_0x1ec04a[_0x68a5fe(0x22b)][_0x68a5fe(0x1c2)];}),document['getElementById'](_0x18ed2e(0x1ad))[_0x18ed2e(0x1c3)](_0x18ed2e(0x17b),function(_0x5e24e9){var _0x311e58=_0x18ed2e;baseItem['setItemDescription']=_0x5e24e9[_0x311e58(0x22b)][_0x311e58(0x1c2)];}),document[_0x18ed2e(0x275)]('inputItemDateExpiry')[_0x18ed2e(0x1c3)]('input',function(_0x42d8fe){var _0xe796d3=_0x18ed2e;baseItem[_0xe796d3(0x1e4)]=_0x42d8fe[_0xe796d3(0x22b)][_0xe796d3(0x1c2)];}),document[_0x18ed2e(0x275)](_0x18ed2e(0x230))[_0x18ed2e(0x1c3)](_0x18ed2e(0x169),function(_0x1e4c73){var _0x3b581d=_0x18ed2e;baseItem[_0x3b581d(0x2a7)]=_0x1e4c73[_0x3b581d(0x22b)]['value'];}),document[_0x18ed2e(0x275)](_0x18ed2e(0x21e))['addEventListener'](_0x18ed2e(0x169),function(_0x1d837a){var _0xb18efe=_0x18ed2e;baseItem[_0xb18efe(0x1b6)]=_0x1d837a['target'][_0xb18efe(0x1c2)];const _0x43f8fb=_0x1d837a[_0xb18efe(0x22b)]['value'],_0x3e5182=company[0x0][_0xb18efe(0x22e)][_0xb18efe(0x1e1)](_0x1eba4f=>_0x1eba4f[_0xb18efe(0x25a)]==_0x43f8fb)?.[_0xb18efe(0x192)]||0x0,_0x941812=company[0x0][_0xb18efe(0x22e)]['find'](_0x275af8=>_0x275af8[_0xb18efe(0x25a)]==_0x43f8fb)?.[_0xb18efe(0x291)]||0x0;baseItem[_0xb18efe(0x22a)]=_0x3e5182,baseItem[_0xb18efe(0x1cf)]=_0x941812;}),document['getElementById'](_0x18ed2e(0x21f))['addEventListener'](_0x18ed2e(0x169),function(_0x228118){var _0x4e9faa=_0x18ed2e;baseItem['setItemIsBought']=_0x228118[_0x4e9faa(0x22b)][_0x4e9faa(0x244)];}),document['getElementById']('newItem_chk_sell')['addEventListener'](_0x18ed2e(0x169),function(_0x74653a){var _0x4e8d80=_0x18ed2e;baseItem[_0x4e8d80(0x27c)]=_0x74653a['target'][_0x4e8d80(0x244)];}),document[_0x18ed2e(0x275)](_0x18ed2e(0x1d8))[_0x18ed2e(0x1c3)](_0x18ed2e(0x17b),function(_0x20e46e){var _0x12bc37=_0x18ed2e;baseItem[_0x12bc37(0x26a)]=_0x20e46e[_0x12bc37(0x22b)][_0x12bc37(0x1c2)];}),document[_0x18ed2e(0x275)](_0x18ed2e(0x2ac))[_0x18ed2e(0x1c3)](_0x18ed2e(0x17b),function(_0x3c9011){var _0x1d37af=_0x18ed2e;baseItem[_0x1d37af(0x1b2)]=_0x3c9011[_0x1d37af(0x22b)][_0x1d37af(0x1c2)];}),document[_0x18ed2e(0x275)](_0x18ed2e(0x177))[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),function(){addUnit(),updateUnitsArray();}),document[_0x18ed2e(0x275)](_0x18ed2e(0x1d8))[_0x18ed2e(0x1c3)]('blur',function(){var _0x32bf5e=_0x18ed2e;const _0x53194d=this['value'][_0x32bf5e(0x1fc)]();if(_0x53194d==='')return;const _0x1fad4b=products[_0x32bf5e(0x26e)](_0x34c02e=>_0x34c02e[_0x32bf5e(0x25c)]==_0x53194d),_0x5a1751=getLastCode(products);_0x1fad4b?ntfShow(_0x32bf5e(0x1a5)+_0x5a1751,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x32f236){var _0x572323=_0x18ed2e;currentImages[_0x32f236]=null;var _0x5d9135=imgC[_0x572323(0x1e8)](_0x572323(0x1e7)+_0x32f236+'\x22]');_0x5d9135[_0x572323(0x26c)]='';var _0x34c757=document['createElement'](_0x572323(0x17b));_0x34c757[_0x572323(0x232)]=_0x572323(0x1a8),_0x34c757[_0x572323(0x199)]=_0x572323(0x176),_0x34c757[_0x572323(0x26d)][_0x572323(0x2ad)]=_0x572323(0x279);var _0x46e2c7=document[_0x572323(0x181)]('span');_0x46e2c7[_0x572323(0x260)]='+',_0x5d9135[_0x572323(0x21b)](_0x34c757),_0x5d9135[_0x572323(0x21b)](_0x46e2c7),_0x5d9135[_0x572323(0x1c3)](_0x572323(0x253),function(){var _0x1611d5=_0x572323;_0x34c757[_0x1611d5(0x253)]();}),baseItem['setItemImages']=currentImages[_0x572323(0x211)](function(_0x361fd6){return _0x361fd6;});}function addUnit(_0x56ead2,_0x49f856,_0x575396,_0x4538f1,_0x50b47e,_0x502a85,_0x13ea11){var _0x313099=_0x18ed2e,_0x417218=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x313099(0x247)]);_0x56ead2=_0x56ead2||'',_0x49f856=_0x49f856||_0x417218[0x3a]&&_0x417218[0x3a][_0x313099(0x254)]||'',_0x575396=_0x575396!==undefined?_0x575396:0x1,_0x4538f1=!!_0x4538f1,_0x50b47e=_0x50b47e||'',_0x502a85=_0x502a85||'';var _0x1870f9=unitCount++,_0x4c0f05=document[_0x313099(0x181)](_0x313099(0x24f));_0x4c0f05[_0x313099(0x26b)][_0x313099(0x283)]=_0x1870f9,_0x4c0f05[_0x313099(0x26b)][_0x313099(0x1a2)]=_0x4538f1,_0x4c0f05[_0x313099(0x26c)]=_0x313099(0x1de)+_0x1870f9+'\x22\x20value=\x22'+_0x56ead2+_0x313099(0x19b)+_0x1870f9+_0x313099(0x17d)+_0x1870f9+_0x313099(0x190)+_0x575396+'\x22\x20'+(_0x4538f1?_0x313099(0x163):'')+_0x313099(0x1d6)+_0x1870f9+_0x313099(0x190)+_0x50b47e+_0x313099(0x276)+_0x1870f9+_0x313099(0x190)+_0x502a85+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x4538f1?_0x313099(0x2a3):'')+_0x313099(0x1fa),fillSelect(_0x4c0f05[_0x313099(0x1e8)](_0x313099(0x1ed)),_0x417218,'setCode',_0x313099(0x1f0)),_0x4c0f05[_0x313099(0x1e8)](_0x313099(0x1ed))[_0x313099(0x1c2)]=_0x49f856,['unitAlias',_0x313099(0x1e5),_0x313099(0x1b9),'priceInput','costInput'][_0x313099(0x23f)](function(_0x36fe5f){var _0x2498af=_0x313099;_0x4c0f05[_0x2498af(0x1e8)]('.'+_0x36fe5f)[_0x2498af(0x1c3)](_0x2498af(0x17b),function(){var _0x3d1f9c=_0x2498af,_0x4765a4=_0x13ea11?+_0x13ea11['id'][_0x3d1f9c(0x197)]('_')[0x1]:null;if(_0x13ea11)updateVariantUnits(_0x4765a4);else updateUnitsArray();});}),_0x4c0f05[_0x313099(0x1e8)](_0x313099(0x1a3))[_0x313099(0x1c3)](_0x313099(0x253),function(){var _0xef5984=_0x313099;_0x4c0f05[_0xef5984(0x17f)]();var _0x24dfee=_0x13ea11?+_0x13ea11['id'][_0xef5984(0x197)]('_')[0x1]:null;if(_0x13ea11)updateVariantUnits(_0x24dfee);else updateUnitsArray();});var _0x82c103=_0x13ea11||document[_0x313099(0x275)](_0x313099(0x182));_0x82c103[_0x313099(0x21b)](_0x4c0f05);}function containerIdx(_0x4e6d67){var _0x173f63=_0x18ed2e;return+_0x4e6d67['id'][_0x173f63(0x197)]('_')[0x1];}function updateUnitsArray(){var _0x59ae94=_0x18ed2e,_0x14a852=[],_0x5e3759=Array['from'](document[_0x59ae94(0x193)](_0x59ae94(0x24c))),_0x130228=_0x5e3759[_0x59ae94(0x1e1)](_0x3cdb6b=>_0x3cdb6b[_0x59ae94(0x26b)][_0x59ae94(0x1a2)]==='true'),_0xab3d8e=_0x130228?+_0x130228[_0x59ae94(0x1e8)]('.eqInput')[_0x59ae94(0x1c2)]:0x1;_0x5e3759[_0x59ae94(0x23f)](function(_0x387fcd){var _0x604b3=_0x59ae94,_0x4c1a8b=+_0x387fcd[_0x604b3(0x1e8)]('.eqInput')['value']||0x0,_0x5a1bc2=+_0x387fcd[_0x604b3(0x1e8)]('.priceInput')[_0x604b3(0x1c2)]||0x0,_0x10fd49=+_0x387fcd[_0x604b3(0x1e8)](_0x604b3(0x1ee))[_0x604b3(0x1c2)]||0x0;_0x14a852[_0x604b3(0x1a9)]({'setAlias':_0x387fcd[_0x604b3(0x1e8)](_0x604b3(0x24a))[_0x604b3(0x1c2)]['trim'](),'setUnitCode':_0x387fcd['querySelector']('.unitSelect')[_0x604b3(0x1c2)],'setEquivalence':_0x4c1a8b,'setFactor':_0x387fcd[_0x604b3(0x26b)][_0x604b3(0x1a2)]===_0x604b3(0x27e)?0x1:_0x4c1a8b==_0xab3d8e?0x1:_0x4c1a8b<_0xab3d8e?_0xab3d8e/_0x4c1a8b:_0x4c1a8b/_0xab3d8e,'setPrice':_0x5a1bc2,'setCost':_0x10fd49,'setDefault':_0x387fcd[_0x604b3(0x26b)][_0x604b3(0x1a2)]==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x14a852;}function updateBranches(){var _0x80bd93=_0x18ed2e,_0xd22dc5=[];document[_0x80bd93(0x193)](_0x80bd93(0x218))['forEach'](function(_0x29e08b){var _0x57d80b=_0x80bd93,_0x418605=_0x29e08b[_0x57d80b(0x1e8)]('.branchChk');if(_0x418605[_0x57d80b(0x244)]){var _0x5f3347=+_0x418605[_0x57d80b(0x26b)]['id'],_0x2640b3=+_0x29e08b['querySelector'](_0x57d80b(0x213))['value'],_0x550cc6=+_0x29e08b[_0x57d80b(0x1e8)](_0x57d80b(0x1b4))[_0x57d80b(0x1c2)];_0xd22dc5[_0x57d80b(0x1a9)]({'setWarehouseCode':_0x5f3347,'setStockInitial':_0x2640b3,'setStockMinimum':_0x550cc6});}}),baseItem[_0x80bd93(0x274)]=_0xd22dc5;}document[_0x18ed2e(0x275)](_0x18ed2e(0x215))['addEventListener'](_0x18ed2e(0x253),function(){var _0x490d45=_0x18ed2e,_0x3b442a=Date[_0x490d45(0x27d)](),_0x2760a9=document[_0x490d45(0x181)](_0x490d45(0x24f));_0x2760a9['dataset'][_0x490d45(0x283)]=_0x3b442a,_0x2760a9[_0x490d45(0x26c)]=_0x490d45(0x187)+_0x3b442a+_0x490d45(0x239)+_0x3b442a+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x490d45(0x21b)](_0x2760a9),initProdSearch(_0x2760a9['querySelector']('.prod_input_container')),_0x2760a9[_0x490d45(0x1e8)](_0x490d45(0x1e9))[_0x490d45(0x1c3)]('click',function(){var _0x1b90e0=_0x490d45;_0x2760a9[_0x1b90e0(0x17f)](),updateProdItems();}),_0x2760a9[_0x490d45(0x1e8)](_0x490d45(0x229))[_0x490d45(0x1c3)](_0x490d45(0x17b),updateProdItems),document[_0x490d45(0x275)](_0x490d45(0x1c6))[_0x490d45(0x1bf)]['toggle'](_0x490d45(0x28e),!![]),document['getElementById'](_0x490d45(0x1c6))[_0x490d45(0x1bf)][_0x490d45(0x201)](_0x490d45(0x294),![]);});function initProdSearch(_0xa1298,_0x347ca4){var _0x2d5285=_0x18ed2e,_0x34cc7d=_0xa1298[_0x2d5285(0x1e8)](_0x2d5285(0x1f9)),_0x45dc1f=_0xa1298[_0x2d5285(0x1e8)](_0x2d5285(0x18f)),_0x2d6ee3=_0x347ca4||null;if(_0x347ca4)_0x34cc7d[_0x2d5285(0x1c2)]=_0x347ca4[_0x2d5285(0x280)];_0x34cc7d[_0x2d5285(0x1c3)](_0x2d5285(0x17b),function(){var _0x421248=_0x2d5285,_0x4deb54=_0x34cc7d[_0x421248(0x1c2)]['toLowerCase']()[_0x421248(0x1fc)]();_0x45dc1f[_0x421248(0x26c)]='';if(!_0x4deb54)return;products['filter'](_0x25b119=>_0x25b119[_0x421248(0x1d1)][_0x421248(0x262)]()[_0x421248(0x22c)](_0x4deb54))[_0x421248(0x216)](0x0,0x14)[_0x421248(0x23f)](function(_0x3ac8c4){var _0x31d9fe=_0x421248,_0x2a9d1d=document['createElement']('div');_0x2a9d1d[_0x31d9fe(0x260)]=_0x3ac8c4[_0x31d9fe(0x1d1)],_0x2a9d1d[_0x31d9fe(0x26b)]['id']=_0x3ac8c4['id'],_0x2a9d1d[_0x31d9fe(0x26b)][_0x31d9fe(0x280)]=_0x3ac8c4[_0x31d9fe(0x1d1)],_0x45dc1f['appendChild'](_0x2a9d1d),_0x2a9d1d[_0x31d9fe(0x1c3)]('click',function(){var _0x28c925=_0x31d9fe;_0x2d6ee3={'id':_0x3ac8c4['id'],'name':_0x3ac8c4['setDescripcion']},_0x34cc7d[_0x28c925(0x1c2)]=_0x3ac8c4[_0x28c925(0x1d1)],_0x45dc1f[_0x28c925(0x26c)]='';var _0x1ef989=_0xa1298[_0x28c925(0x28d)](_0x28c925(0x258));if(_0x1ef989){var _0x1d9854=+_0x1ef989['id'][_0x28c925(0x197)]('_')[0x1];updateVariantComponents(_0x1d9854);}else updateProdItems();});});}),_0x34cc7d[_0x2d5285(0x1c3)](_0x2d5285(0x180),function(){var _0x10418d=_0x2d5285;_0x45dc1f[_0x10418d(0x1bf)]['remove'](_0x10418d(0x294));}),document[_0x2d5285(0x1c3)](_0x2d5285(0x253),function(_0x2927b4){var _0x476620=_0x2d5285;if(!_0xa1298['contains'](_0x2927b4[_0x476620(0x22b)]))_0x45dc1f[_0x476620(0x1bf)]['add'](_0x476620(0x294));}),Object[_0x2d5285(0x1ae)](_0xa1298,_0x2d5285(0x263),{'get':()=>_0x2d6ee3});}function updateProdItems(){var _0x25f24d=_0x18ed2e,_0x334454=[];Array['from'](prodC[_0x25f24d(0x17c)])[_0x25f24d(0x23f)](function(_0x1f1428){var _0x21d139=_0x25f24d,_0x3ccdd=_0x1f1428[_0x21d139(0x1e8)](_0x21d139(0x167));if(!_0x3ccdd)return;var _0x4b8464=_0x1f1428[_0x21d139(0x1e8)]('.prodQty'),_0x6530f8=_0x3ccdd[_0x21d139(0x263)];_0x6530f8&&_0x334454[_0x21d139(0x1a9)]({'setItemId':_0x6530f8['id'],'setDescripcion':_0x6530f8[_0x21d139(0x280)],'setCantidad':+_0x4b8464['value']});}),baseItem[_0x25f24d(0x289)]=_0x334454,_0x334454[_0x25f24d(0x179)]===0x0&&(document[_0x25f24d(0x275)](_0x25f24d(0x1c6))[_0x25f24d(0x1bf)][_0x25f24d(0x201)](_0x25f24d(0x28e),![]),document[_0x25f24d(0x275)]('newItem_title_table_cp')[_0x25f24d(0x1bf)]['toggle'](_0x25f24d(0x294),!![]));}document['getElementById'](_0x18ed2e(0x1f8))[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),function(){var _0x216ef6=_0x18ed2e,_0x289368=vgCount++,_0x96d83f=document['createElement'](_0x216ef6(0x24f));_0x96d83f[_0x216ef6(0x26b)][_0x216ef6(0x283)]=_0x289368,_0x96d83f[_0x216ef6(0x26c)]=_0x216ef6(0x20e)+_0x289368+'\x22>'+_0x216ef6(0x282)+_0x289368+'\x22>'+_0x216ef6(0x16a),vgC['appendChild'](_0x96d83f),_0x96d83f[_0x216ef6(0x1e8)](_0x216ef6(0x1bb))[_0x216ef6(0x1c3)](_0x216ef6(0x18c),generateVariants),_0x96d83f[_0x216ef6(0x1e8)]('.vgVals')['addEventListener']('blur',generateVariants),_0x96d83f[_0x216ef6(0x1e8)](_0x216ef6(0x266))[_0x216ef6(0x1c3)](_0x216ef6(0x253),function(){_0x96d83f['remove'](),generateVariants();});});function generateVariants(){var _0x1afe2c=_0x18ed2e,_0x4d364e=[];vgC[_0x1afe2c(0x193)]('div')[_0x1afe2c(0x23f)](function(_0x152a8a){var _0x35d47=_0x1afe2c,_0x564095=_0x152a8a[_0x35d47(0x1e8)](_0x35d47(0x1bb))[_0x35d47(0x1c2)][_0x35d47(0x1fc)](),_0x834118=_0x152a8a[_0x35d47(0x1e8)](_0x35d47(0x173))[_0x35d47(0x1c2)][_0x35d47(0x197)](',')['map'](_0x5019ef=>_0x5019ef[_0x35d47(0x1fc)]())[_0x35d47(0x211)](_0x11bda3=>_0x11bda3);if(_0x564095&&_0x834118[_0x35d47(0x179)])_0x4d364e[_0x35d47(0x1a9)]({'name':_0x564095,'vals':_0x834118});});var _0x427d7f=[{}];_0x4d364e[_0x1afe2c(0x23f)](function(_0x498988){var _0x56aa15=_0x1afe2c;_0x427d7f=_0x427d7f[_0x56aa15(0x2a5)](function(_0x1e5661){var _0x37310d=_0x56aa15;return _0x498988[_0x37310d(0x20c)]['map'](function(_0x2b0350){var _0x2f221d=_0x37310d,_0x1c8781=Object[_0x2f221d(0x1a4)]({},_0x1e5661);return _0x1c8781[_0x498988[_0x2f221d(0x280)]]=_0x2b0350,_0x1c8781;});});}),newItems=[],varContainer[_0x1afe2c(0x26c)]='',_0x427d7f['forEach'](function(_0x12f98a,_0x4b614e){var _0x57d5ef=_0x1afe2c,_0x1b0421=JSON[_0x57d5ef(0x28f)](JSON[_0x57d5ef(0x1f1)](baseItem));_0x1b0421[_0x57d5ef(0x1cb)]=_0x12f98a,_0x1b0421['setItemVariantName']=baseItem[_0x57d5ef(0x237)]+'\x20'+Object[_0x57d5ef(0x1c5)](_0x12f98a)['map'](_0x4c7b9a=>_0x4c7b9a[0x0]+'\x20'+_0x4c7b9a[0x1])[_0x57d5ef(0x1db)]('\x20'),newItems[_0x57d5ef(0x1a9)](_0x1b0421);var _0x1ac8cb=document[_0x57d5ef(0x181)](_0x57d5ef(0x24f));_0x1ac8cb[_0x57d5ef(0x1bf)][_0x57d5ef(0x174)](_0x57d5ef(0x271)),_0x1ac8cb[_0x57d5ef(0x26b)]['idx']=_0x4b614e,_0x1ac8cb[_0x57d5ef(0x26c)]=_0x57d5ef(0x1f2)+_0x1b0421[_0x57d5ef(0x267)]+_0x57d5ef(0x248)+_0x1b0421[_0x57d5ef(0x26a)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x1b0421['setItemBarCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x1b0421[_0x57d5ef(0x1e4)]+_0x57d5ef(0x2a6)+_0x4b614e+_0x57d5ef(0x250)+_0x4b614e+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x4b614e+_0x57d5ef(0x25d),varContainer[_0x57d5ef(0x21b)](_0x1ac8cb),_0x1ac8cb[_0x57d5ef(0x1e8)](_0x57d5ef(0x24d))[_0x57d5ef(0x1c3)]('input',_0x1c890a=>newItems[_0x4b614e][_0x57d5ef(0x26a)]=_0x1c890a[_0x57d5ef(0x22b)]['value']),_0x1ac8cb[_0x57d5ef(0x1e8)]('.variantBarCode')['addEventListener'](_0x57d5ef(0x17b),_0xe3e998=>newItems[_0x4b614e][_0x57d5ef(0x1b2)]=_0xe3e998[_0x57d5ef(0x22b)]['value']),_0x1ac8cb[_0x57d5ef(0x1e8)](_0x57d5ef(0x196))[_0x57d5ef(0x1c3)]('change',_0x19d0ce=>newItems[_0x4b614e]['setItemDateExpiry']=_0x19d0ce[_0x57d5ef(0x22b)][_0x57d5ef(0x1c2)]),initVariantUnits(_0x4b614e),initVariantComponents(_0x4b614e),initVariantBranches(_0x4b614e),_0x1ac8cb['querySelector'](_0x57d5ef(0x23b))[_0x57d5ef(0x1c3)](_0x57d5ef(0x253),function(){var _0x200d95=_0x57d5ef,_0x2b9b59=+_0x1ac8cb[_0x200d95(0x26b)][_0x200d95(0x283)];newItems[_0x200d95(0x15d)](_0x2b9b59,0x1),_0x1ac8cb[_0x200d95(0x17f)](),document['querySelectorAll'](_0x200d95(0x1c8))[_0x200d95(0x23f)](function(_0x27a8af,_0x32015e){var _0x375903=_0x200d95;_0x27a8af[_0x375903(0x26b)][_0x375903(0x283)]=_0x32015e;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x2a1290){var _0x13b64c=_0x18ed2e,_0x58101b=document[_0x13b64c(0x275)](_0x13b64c(0x1d0)+_0x2a1290+_0x13b64c(0x18b)),_0x2917df=[];Array[_0x13b64c(0x1ea)](_0x58101b['children'])[_0x13b64c(0x23f)](function(_0x31ef45){var _0x2c1688=_0x13b64c,_0x3637ec=+_0x31ef45['querySelector'](_0x2c1688(0x1e3))[_0x2c1688(0x1c2)]||0x0,_0x2c3b61=_0x31ef45['querySelector']('.unitAlias')[_0x2c1688(0x1c2)][_0x2c1688(0x1fc)](),_0x574ef6=_0x31ef45[_0x2c1688(0x1e8)](_0x2c1688(0x1ed))['value'],_0x2451c7=+_0x31ef45[_0x2c1688(0x1e8)](_0x2c1688(0x1ca))['value']||0x0,_0x244618=+_0x31ef45[_0x2c1688(0x1e8)](_0x2c1688(0x1ee))['value']||0x0,_0x318dae=_0x31ef45[_0x2c1688(0x26b)][_0x2c1688(0x1a2)]==='true',_0x563507=+_0x58101b[_0x2c1688(0x1e8)](_0x2c1688(0x1be))[_0x2c1688(0x1c2)]||0x1,_0x2b9d5a=_0x318dae?0x1:_0x3637ec==_0x563507?0x1:_0x3637ec<_0x563507?_0x563507/_0x3637ec:_0x3637ec/_0x563507;_0x2917df[_0x2c1688(0x1a9)]({'setAlias':_0x2c3b61,'setUnitCode':_0x574ef6,'setEquivalence':_0x3637ec,'setFactor':_0x2b9d5a,'setPrice':_0x2451c7,'setCost':_0x244618,'setDefault':_0x318dae?0x1:0x0});}),newItems[_0x2a1290][_0x13b64c(0x1df)]=_0x2917df;}function initVariantUnits(_0x2933b1){var _0x267ea3=_0x18ed2e,_0x4d82f6=document['getElementById'](_0x267ea3(0x1d0)+_0x2933b1+'_units_container');_0x4d82f6[_0x267ea3(0x26c)]='',newItems[_0x2933b1][_0x267ea3(0x1df)][_0x267ea3(0x23f)](function(_0xee54b4){var _0x11ae7d=_0x267ea3;addUnit(_0xee54b4[_0x11ae7d(0x1d3)],_0xee54b4['setUnitCode'],_0xee54b4['setEquivalence'],_0xee54b4[_0x11ae7d(0x1e0)],_0xee54b4[_0x11ae7d(0x297)],_0xee54b4[_0x11ae7d(0x208)],_0x4d82f6);}),_0x4d82f6[_0x267ea3(0x2aa)]['querySelector'](_0x267ea3(0x186))['addEventListener'](_0x267ea3(0x253),function(){addUnit('','',0x1,![],'','',_0x4d82f6),updateVariantUnits(_0x2933b1);});}function updateVariantUnits(_0x5c4991){var _0xa62c00=_0x18ed2e,_0x5e5818=document[_0xa62c00(0x275)]('variant_'+_0x5c4991+_0xa62c00(0x18b)),_0xc1a42b=_0x5e5818[_0xa62c00(0x1e8)](_0xa62c00(0x1be)),_0x4ed238=_0xc1a42b?+_0xc1a42b[_0xa62c00(0x1c2)]:0x1,_0x2ac248=Array[_0xa62c00(0x1ea)](_0x5e5818[_0xa62c00(0x17c)])[_0xa62c00(0x1fb)](function(_0x4717f5){var _0x52b034=_0xa62c00,_0x296e87=_0x4717f5['querySelector'](_0x52b034(0x24a))[_0x52b034(0x1c2)][_0x52b034(0x1fc)](),_0x13d075=_0x4717f5[_0x52b034(0x1e8)]('.unitSelect')['value'],_0x226614=+_0x4717f5['querySelector'](_0x52b034(0x1e3))[_0x52b034(0x1c2)]||0x0,_0x38cb68=+_0x4717f5[_0x52b034(0x1e8)](_0x52b034(0x1ca))[_0x52b034(0x1c2)]||0x0,_0xc5fd5c=+_0x4717f5[_0x52b034(0x1e8)](_0x52b034(0x1ee))[_0x52b034(0x1c2)]||0x0,_0x35b2a1=_0x4717f5[_0x52b034(0x26b)][_0x52b034(0x1a2)]===_0x52b034(0x27e);return{'setAlias':_0x296e87,'setUnitCode':_0x13d075,'setEquivalence':_0x226614,'setFactor':_0x35b2a1?0x1:_0x226614==_0x4ed238?0x1:_0x226614<_0x4ed238?_0x4ed238/_0x226614:_0x226614/_0x4ed238,'setPrice':_0x38cb68,'setCost':_0xc5fd5c,'setDefault':_0x35b2a1?0x1:0x0};});newItems[_0x5c4991][_0xa62c00(0x1df)]=_0x2ac248;}function initVariantComponents(_0x1f70fc){var _0x554a76=_0x18ed2e,_0xc38e68=document[_0x554a76(0x275)](_0x554a76(0x1d0)+_0x1f70fc+_0x554a76(0x170));_0xc38e68['innerHTML']='',newItems[_0x1f70fc][_0x554a76(0x289)][_0x554a76(0x23f)](function(_0x490645){var _0x3f7718=_0x554a76,_0x2ef234=document[_0x3f7718(0x181)](_0x3f7718(0x24f)),_0x293582=Date[_0x3f7718(0x27d)]();_0x2ef234[_0x3f7718(0x26b)][_0x3f7718(0x283)]=_0x293582,_0x2ef234[_0x3f7718(0x26c)]=_0x3f7718(0x257)+_0x293582+_0x3f7718(0x1ec)+_0x490645[_0x3f7718(0x281)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0xc38e68[_0x3f7718(0x21b)](_0x2ef234),initProdSearch(_0x2ef234[_0x3f7718(0x1e8)](_0x3f7718(0x167)),{'id':_0x490645[_0x3f7718(0x28c)],'name':_0x490645[_0x3f7718(0x1d1)]}),_0x2ef234[_0x3f7718(0x1e8)](_0x3f7718(0x229))[_0x3f7718(0x1c3)](_0x3f7718(0x17b),function(){updateVariantComponents(_0x1f70fc);}),_0x2ef234[_0x3f7718(0x1e8)]('.removeCombo')[_0x3f7718(0x1c3)]('click',function(){var _0x4295e8=_0x3f7718;_0x2ef234[_0x4295e8(0x17f)](),updateVariantComponents(_0x1f70fc);});}),_0xc38e68[_0x554a76(0x2aa)][_0x554a76(0x1e8)](_0x554a76(0x2ae))['addEventListener'](_0x554a76(0x253),function(){var _0x54b820=_0x554a76,_0x28d9d4=document['createElement']('div'),_0x4313b2=Date[_0x54b820(0x27d)]();_0x28d9d4[_0x54b820(0x26b)]['idx']=_0x4313b2,_0x28d9d4[_0x54b820(0x26c)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x4313b2+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0xc38e68[_0x54b820(0x21b)](_0x28d9d4),initProdSearch(_0x28d9d4[_0x54b820(0x1e8)](_0x54b820(0x167))),_0x28d9d4[_0x54b820(0x1e8)](_0x54b820(0x229))[_0x54b820(0x1c3)](_0x54b820(0x17b),function(){updateVariantComponents(_0x1f70fc);}),_0x28d9d4[_0x54b820(0x1e8)]('.removeCombo')[_0x54b820(0x1c3)](_0x54b820(0x253),function(){var _0x5527ca=_0x54b820;_0x28d9d4[_0x5527ca(0x17f)](),updateVariantComponents(_0x1f70fc);});});}function updateVariantComponents(_0x3c3b75){var _0x2343b3=_0x18ed2e,_0x333cc6=document[_0x2343b3(0x275)](_0x2343b3(0x1d0)+_0x3c3b75+_0x2343b3(0x170)),_0x559887=Array[_0x2343b3(0x1ea)](_0x333cc6[_0x2343b3(0x17c)])[_0x2343b3(0x1fb)](function(_0x30d65e){var _0xe89e28=_0x2343b3,_0x3f0b17=_0x30d65e[_0xe89e28(0x1e8)]('.prod_input_container'),_0x534a03=_0x3f0b17['selectedItem'],_0x1c8afb=+_0x30d65e[_0xe89e28(0x1e8)](_0xe89e28(0x229))[_0xe89e28(0x1c2)]||0x0;return _0x534a03?{'setItemId':_0x534a03['id'],'setDescripcion':_0x534a03[_0xe89e28(0x280)],'setCantidad':_0x1c8afb}:null;})[_0x2343b3(0x211)](_0x25ed8f=>_0x25ed8f);newItems[_0x3c3b75][_0x2343b3(0x289)]=_0x559887;}function initVariantBranches(_0x3d482f){var _0x300778=_0x18ed2e;const _0x5171fd=getAllWarehouses();var _0x574570=document[_0x300778(0x275)](_0x300778(0x1d0)+_0x3d482f+_0x300778(0x25f));_0x574570[_0x300778(0x26c)]='',newItems[_0x3d482f][_0x300778(0x274)][_0x300778(0x23f)](function(_0x46bbfd){var _0x3ba35a=_0x300778,_0x39e183=_0x5171fd[_0x3ba35a(0x1e1)](_0x98b463=>_0x98b463[_0x3ba35a(0x17e)]==_0x46bbfd[_0x3ba35a(0x1b0)]),_0x422ad1=document[_0x3ba35a(0x181)]('div');_0x422ad1[_0x3ba35a(0x26c)]=_0x3ba35a(0x16f)+_0x46bbfd['setWarehouseCode']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x39e183[_0x3ba35a(0x2a2)]+_0x3ba35a(0x18a)+_0x46bbfd['setWarehouseCode']+_0x3ba35a(0x190)+_0x46bbfd[_0x3ba35a(0x15f)]+_0x3ba35a(0x2a1)+_0x46bbfd[_0x3ba35a(0x1b0)]+_0x3ba35a(0x190)+_0x46bbfd[_0x3ba35a(0x278)]+'\x22>',_0x574570[_0x3ba35a(0x21b)](_0x422ad1),_0x422ad1[_0x3ba35a(0x193)]('input')['forEach'](function(_0x65989f){var _0x1f7024=_0x3ba35a;_0x65989f[_0x1f7024(0x1c3)](_0x1f7024(0x17b),function(){updateVariantBranches(_0x3d482f);});});}),_0x5171fd[_0x300778(0x23f)](function(_0x4f06c8){var _0x4e6509=_0x300778;if(!newItems[_0x3d482f][_0x4e6509(0x274)][_0x4e6509(0x1e1)](_0x1146c4=>_0x1146c4['setWarehouseCode']===_0x4f06c8[_0x4e6509(0x17e)])){var _0x54a0ec=document[_0x4e6509(0x181)](_0x4e6509(0x24f));_0x54a0ec[_0x4e6509(0x26c)]=_0x4e6509(0x16f)+_0x4f06c8[_0x4e6509(0x17e)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x4f06c8[_0x4e6509(0x2a2)]+_0x4e6509(0x18a)+_0x4f06c8['setWarehouseId']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x4f06c8[_0x4e6509(0x17e)]+'\x22>',_0x574570[_0x4e6509(0x21b)](_0x54a0ec),_0x54a0ec[_0x4e6509(0x193)](_0x4e6509(0x17b))[_0x4e6509(0x23f)](function(_0x486989){var _0x5552ba=_0x4e6509;_0x486989[_0x5552ba(0x1c3)](_0x5552ba(0x17b),function(){updateVariantBranches(_0x3d482f);});});}});}function updateVariantBranches(_0x5cfc82){var _0x5b01b1=_0x18ed2e,_0x34f46f=document['getElementById']('variant_'+_0x5cfc82+_0x5b01b1(0x25f)),_0xab7aec=[];_0x34f46f[_0x5b01b1(0x193)]('div')[_0x5b01b1(0x23f)](function(_0x51cab4){var _0x537745=_0x5b01b1,_0x31aa69=_0x51cab4[_0x537745(0x1e8)](_0x537745(0x1bd));if(_0x31aa69[_0x537745(0x244)]){var _0x1939f5=+_0x31aa69[_0x537745(0x26b)]['id'],_0x1f6ff4=+_0x51cab4[_0x537745(0x1e8)]('.branchInit')[_0x537745(0x1c2)]||0x0,_0x57612e=+_0x51cab4[_0x537745(0x1e8)](_0x537745(0x1b4))[_0x537745(0x1c2)]||0x0;_0xab7aec[_0x537745(0x1a9)]({'setWarehouseCode':_0x1939f5,'setStockInitial':_0x1f6ff4,'setStockMinimum':_0x57612e});}}),newItems[_0x5cfc82][_0x5b01b1(0x274)]=_0xab7aec;}function _0x5994(){var _0x2b4776=['setItemBrandName','exportItems','status','upload-btn','Producto\x20Libre','setMtoPrecioCostoUnitario','setCategoria','objectStore','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setWarehouseName','style=\x22display:none\x22','btnItemSave','flatMap','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemType','remove-tag','setItemDescription','parentNode','setIdSucursal','inputItemBarCode','display','.addVariantComp','setItemInventoriable','splice','#newItem_brands_select\x20.selected_tags','setStockInitial','setWebhook','detalleModalCreateItem','getElementsByClassName','disabled','✅\x20Exportación\x20completada:\x20','100','dataTransfer','.prod_input_container','dragenter','change','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.ms_input','tag','setUnitCode','remove-file','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','_comp_container','.options_list\x20div','postMessage','.vgVals','add','1408424NwrwBu','image/*','newItem_btn_addUnit','setPriceUSD','length','toISOString','input','children','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setWarehouseId','remove','focus','createElement','newItem_units_container','#newItem_categories_select\x20.selected_tags','trace','newItem_chk_sell','.addVariantUnit','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','dragleave','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','_units_container','blur','5646EYOPVa','Nuevo\x20Producto','.options_list','\x22\x20value=\x22','<img\x20src=\x22','setImpuestoCode','querySelectorAll','Ingresa\x20el\x20código\x20del\x20item','preventDefault','.variantExpiry','split','__proto__','accept','Collator','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','exportDone','currency_data','setItemUnitId','test','setTaxIdDefault','setItemBrands','default','.removeUnit','assign','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','sort','btnExportarItems','file','push','34466BUrhdC','#newItem_categories_select\x20.options_list','apply','inputItemDescription','defineProperty','currency','setWarehouseCode','result','setItemBarCode','sucursales','.branchMin','setWarehouseStockMin','setItemTaxId','No\x20hay\x20items\x20para\x20exportar.','setItemIsBought','eqInput','6785883oeUTig','.vgName','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','.branchChk','div[data-default=\x22true\x22]\x20.eqInput','classList','❌\x20Error:\x20','setUnidadCodigo','value','addEventListener','files','entries','newItem_title_table_cp','inputItemDateExpiry','.variantForm','className','.priceInput','setItemVariantValues','setImpuestoName','newItem_brands_select','onmessage','setItemTaxValue','variant_','setDescripcion','</div>','setAlias','<div\x20class=\x22newItem_col\x22>','image_box','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','#newItem_brands_select\x20.options_list','inputItemCode','toString','log','join','3848230WXEeAD','./excel/Plantilla-Items.xlsx','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setItemUnits','setDefault','find','setUnitName','.eqInput','setItemDateExpiry','unitSelect','ERROR:\x20plainProducts\x20no\x20serializable:','[data-idx=\x22','querySelector','.removeProd','from','detail','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.unitSelect','.costInput','selectionChange','setName','stringify','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','exception','setMtoPrecioUnitario','href','dragover','setCostUSD','newItem_btn_addVariantGroup','.prodInput','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','map','trim','done','.drop-zone__prompt','message','2863256DpIVRW','toggle','onload','Items\x20finales:','info','hidden','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','Error\x20al\x20guardar\x20Producto\x20Offline:','setCost','USD','constructor','setItemFree','vals','setMarca','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','warn','./img/product.png','filter','1907630KtzSUl','.branchInit','readwrite','newItem_btn_addProdItem','slice','Error\x20al\x20procesar\x20la\x20operación:','#newItem_branches_container\x20>\x20div','modalProductNewTitle','offline_operations','appendChild','setBatchName','(((.+)+)+)+$','inputItemTax','newItem_chk_buy','file-input','code','PEN','arrayBuffer','max','setIdProducto','modalOverlayCreateItem','setItemImages','key','.prodQty','setItemTaxCode','target','includes','setMoneda','setImpuestos','newItem_addToCart','inputItemType','option','type','38bCQmtT','transaction','3diVruB','string','setItemName','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setBatchExpirationDate','.removeVariant','application/octet-stream','drop','newItem_branches_container','forEach','setConversionFactor','stopPropagation','</label>','mousedown','checked','\x20items.','compare','setUnits','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','selected','.unitAlias','newItem_categories_select','#newItem_units_container\x20>\x20div','.variantCode','revokeObjectURL','div','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','prototype','newItem_variant_groups','click','setCode','span','setAuthToken','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','[id$=\x22_comp_container\x22]','error','setTaxId','return\x20(function()\x20','setCodProducto','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','.selected_tags','_branch_container','textContent','closeModalCreateItem','toLowerCase','selectedItem','findIndex','every','.removeGroup','setItemVariantName','base','bind','setItemCode','dataset','innerHTML','style','some','block','setItemCommissionPercentage','variantForm','padStart','readAsDataURL','setItemWarehouses','getElementById','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setFactor','setStockMinimum','none','Generando\x20Excel...','1540AEUTzV','setItemIsSold','now','true','{}.constructor(\x22return\x20this\x22)(\x20)','name','setCantidad','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','idx','setItemUnitAlias','fill','productType1','setItemCategories','isArray','setItemComponents','progress','\x20items\x20procesados.','setItemId','closest','newItem_title_table','parse','search','setImpuestoValue','dispatchEvent','inputItemName','newItem_hidden','Enter','setItemCategoryName','setPrice','onerror'];_0x5994=function(){return _0x2b4776;};return _0x5994();}async function storeOfflineProduct(_0x3d66f1){var _0xabc4f3=_0x18ed2e;try{const _0x1e7ab4=await createCartStore(''),_0x4f1a95=_0x1e7ab4[_0xabc4f3(0x234)](_0xabc4f3(0x21a),_0xabc4f3(0x214)),_0x762064=_0x4f1a95[_0xabc4f3(0x2a0)]('offline_operations');_0x762064[_0xabc4f3(0x174)](_0x3d66f1),_0x4f1a95['oncomplete']=()=>{var _0x3fb529=_0xabc4f3;console[_0x3fb529(0x1da)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x4f1a95[_0xabc4f3(0x298)]=_0x32bb9f=>{var _0x3cc632=_0xabc4f3;console[_0x3cc632(0x259)](_0x3cc632(0x207),_0x32bb9f[_0x3cc632(0x22b)][_0x3cc632(0x259)]);};}catch(_0x55bbbd){console[_0xabc4f3(0x259)](_0xabc4f3(0x217),_0x55bbbd);}}document[_0x18ed2e(0x275)](_0x18ed2e(0x2a4))[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),async function(_0x1ca5e2){var _0x563ced=_0x18ed2e;_0x1ca5e2[_0x563ced(0x195)]();const _0x5813d6=document['getElementById'](_0x563ced(0x1d8)),_0x339c51=document[_0x563ced(0x275)]('setItemFree')[_0x563ced(0x1c2)];if(!_0x5813d6[_0x563ced(0x1c2)]['trim']()&&_0x339c51==0x0){ntfShow(_0x563ced(0x194),0x2,0x1);return;}_0x339c51==0x1&&(_0x5813d6[_0x563ced(0x1c2)]='',baseItem[_0x563ced(0x26a)]='');const _0x28c494=document[_0x563ced(0x275)](_0x563ced(0x293));if(!_0x28c494[_0x563ced(0x1c2)][_0x563ced(0x1fc)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0xbbdd54=document[_0x563ced(0x275)](_0x563ced(0x22f));hideModalCreateItem(),showLoadingModal();newItems[_0x563ced(0x179)]===0x0&&(newItems=[baseItem]);const _0x503897=document[_0x563ced(0x275)]('windowId')[_0x563ced(0x1c2)],_0x241df4=window_options[_0x503897][_0x563ced(0x22d)],_0x1eb6be=[];newItems[_0x563ced(0x23f)](_0x315f7b=>{var _0x4b0920=_0x563ced;const _0x363076=generateNumericUniqId();_0x315f7b['setItemUnits'][_0x4b0920(0x23f)](_0x4beef6=>{var _0x3aab12=_0x4b0920;const _0xda9852=generateNumericUniqId();_0x4beef6['setItemUnitId']=_0xda9852;const _0x4ec6dd={'id':_0xda9852,'setIdProducto':_0x363076,'setCodProducto':_0x315f7b['setItemCode'],'setDescripcion':_0x315f7b['setItemName'],'setItemDescription':_0x315f7b[_0x3aab12(0x2a9)],'setBatchExpirationDate':_0x315f7b[_0x3aab12(0x1e4)],'setBatchName':'','setCategoria':_0x315f7b[_0x3aab12(0x287)][0x0]||'','setMarca':_0x315f7b[_0x3aab12(0x1a1)][0x0]||'','setConversionFactor':parseFloat(_0x4beef6[_0x3aab12(0x277)]),'setImages':[],'setImg':_0x3aab12(0x210),'setInventariable':0x1,'setItemIsBought':_0x315f7b['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x315f7b['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x315f7b[_0x3aab12(0x1cf)],'setPrinters':[],'setTaxId':_0x315f7b['setItemTaxId'],'setTipAfeIgv':_0x315f7b[_0x3aab12(0x22a)],'setUnidad':_0x4beef6[_0x3aab12(0x16d)],'setUnidadCodigo':_0x4beef6['setUnitCode'],'setItemUnitAlias':_0x4beef6[_0x3aab12(0x1d3)],'currency_data':[{'currency':_0x241df4,'setMtoPrecioCostoUnitario':_0x4beef6[_0x3aab12(0x208)],'setMtoPrecioUnitario':_0x4beef6[_0x3aab12(0x297)],'setPriceLists':[]}],'sucursales':_0x315f7b['setItemWarehouses'][_0x3aab12(0x1fb)](_0x3d343c=>({'setIdSucursal':_0x3d343c[_0x3aab12(0x1b0)],'setSucursalStock':_0x3d343c[_0x3aab12(0x15f)][_0x3aab12(0x1d9)](),'setWarehouseStockMin':_0x3d343c['setStockMinimum'][_0x3aab12(0x1d9)]()})),'setItemFree':_0x315f7b[_0x3aab12(0x20b)],'setItemBarCode':_0x315f7b[_0x3aab12(0x1b2)],'setItemBrands':_0x315f7b['setItemBrands'][_0x3aab12(0x216)](),'setItemCategories':_0x315f7b[_0x3aab12(0x287)][_0x3aab12(0x216)](),'setItemComponents':_0x315f7b['setItemComponents'][_0x3aab12(0x1fb)](_0x207a2d=>({..._0x207a2d})),'setItemImages':_0x315f7b['setItemImages'][_0x3aab12(0x216)](),'setItemVariantName':_0x315f7b[_0x3aab12(0x267)],'setItemVariantValues':{..._0x315f7b['setItemVariantValues']}};_0x1eb6be[_0x3aab12(0x1a9)](_0x4ec6dd),(_0xbbdd54[_0x3aab12(0x244)]||_0x339c51==0x1)&&addToCart(_0x4ec6dd);});}),console[_0x563ced(0x1da)](_0x563ced(0x203),newItems),await finalizeImport(_0x1eb6be,newItems,![]);}),[_0x18ed2e(0x168),_0x18ed2e(0x1f6)]['forEach'](_0x34df99=>dropZone[_0x18ed2e(0x1c3)](_0x34df99,_0x42ef09=>{var _0x3197bc=_0x18ed2e;_0x42ef09['preventDefault'](),dropZone[_0x3197bc(0x1bf)][_0x3197bc(0x174)]('dragover');})),[_0x18ed2e(0x188),_0x18ed2e(0x23d)][_0x18ed2e(0x23f)](_0xf4a653=>dropZone[_0x18ed2e(0x1c3)](_0xf4a653,_0x6413f1=>{var _0x226343=_0x18ed2e;_0x6413f1[_0x226343(0x195)](),dropZone[_0x226343(0x1bf)][_0x226343(0x17f)](_0x226343(0x1f6));})),dropZone['addEventListener'](_0x18ed2e(0x23d),_0x547afa=>{var _0x11a32d=_0x18ed2e;const _0x453736=_0x547afa[_0x11a32d(0x166)][_0x11a32d(0x1c4)][0x0];if(!_0x453736)return;fileInput['files']=_0x547afa[_0x11a32d(0x166)]['files'],dropZone[_0x11a32d(0x1e8)](_0x11a32d(0x1fe))[_0x11a32d(0x260)]=_0x453736[_0x11a32d(0x280)],removeBtn[_0x11a32d(0x205)]=![],fileInput[_0x11a32d(0x292)](new Event(_0x11a32d(0x169)));}),removeBtn[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),()=>{var _0x36885f=_0x18ed2e;fileInput['value']='',dropZone[_0x36885f(0x1e8)](_0x36885f(0x1fe))[_0x36885f(0x260)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x36885f(0x205)]=!![],progressBar[_0x36885f(0x26d)]['display']=_0x36885f(0x279),statusDiv[_0x36885f(0x260)]='',uploadBtn[_0x36885f(0x163)]=!![];});const exportBtn=document[_0x18ed2e(0x275)](_0x18ed2e(0x1a7));exportBtn[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),onClickExportarItems);async function onClickExportarItems(){var _0x34bdd0=_0x18ed2e;if(!Array[_0x34bdd0(0x288)](products)||!products[_0x34bdd0(0x179)]){ntfShow(_0x34bdd0(0x1b7));return;}try{const _0x221297=await fetch(_0x34bdd0(0x1dd));if(!_0x221297['ok'])throw new Error(_0x34bdd0(0x206));const _0x4464e9=await _0x221297[_0x34bdd0(0x223)](),_0x4142ed=document[_0x34bdd0(0x275)]('setWarehouseId')[_0x34bdd0(0x1c2)];let _0x447033=products;const _0x2431c1=getUserPermissionApiERP(0x2);_0x2431c1==0x1&&(_0x447033=products[_0x34bdd0(0x211)](_0xac5b86=>Array['isArray'](_0xac5b86[_0x34bdd0(0x1b3)])&&_0xac5b86['sucursales'][_0x34bdd0(0x26e)](_0x24f487=>String(_0x24f487[_0x34bdd0(0x2ab)])==String(_0x4142ed))));const _0x452fa7=_0x447033['reduce']((_0x239086,_0x24ad4d)=>{var _0xc9225f=_0x34bdd0;const _0x4a8ea2=_0x24ad4d[_0xc9225f(0x225)];if(!_0x239086[_0x4a8ea2])_0x239086[_0x4a8ea2]=[];return _0x239086[_0x4a8ea2][_0xc9225f(0x1a9)](_0x24ad4d),_0x239086;},{}),_0x5a8116=Object['values'](_0x452fa7)[_0x34bdd0(0x1fb)](_0x109379=>{var _0x5c5b48=_0x34bdd0;const _0x46a739=_0x109379[0x0],_0x1bb56f=_0x109379[0x1]||{},_0x3393ad=_0x109379[0x2]||{};function _0x4143e9(_0x240afd,_0x3aa1b8,_0x4652df){var _0x5ef34e=_0x4d59;if(!_0x240afd||!Array[_0x5ef34e(0x288)](_0x240afd[_0x5ef34e(0x19d)]))return'';const _0x4d5b3b=_0x240afd['currency_data'][_0x5ef34e(0x1e1)](_0x2e6e9f=>_0x2e6e9f[_0x5ef34e(0x1af)]===_0x3aa1b8);return _0x4d5b3b?_0x4d5b3b[_0x4652df]:'';}return{'id':_0x46a739['setIdProducto'],'setItemType':_0x46a739[_0x5c5b48(0x2a7)],'setCodProducto':_0x46a739['setCodProducto'],'setDescripcion':_0x46a739[_0x5c5b48(0x1d1)],'setItemDescription':_0x46a739[_0x5c5b48(0x2a9)],'setItemIsSold':_0x46a739['setItemIsSold'],'setItemIsBought':_0x46a739['setItemIsBought'],'setCategoria':_0x46a739['setCategoria'],'setMarca':_0x46a739['setMarca'],'setTaxId':_0x46a739[_0x5c5b48(0x25a)],'setUnitId':_0x46a739['id'],'setItemBarCode':_0x46a739[_0x5c5b48(0x1b2)],'setUnidadCodigo':_0x46a739['setUnidadCodigo'],'setItemUnitAlias':_0x46a739['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x4143e9(_0x46a739,_0x5c5b48(0x222),_0x5c5b48(0x1f4)),'PEN_setMtoPrecioCostoUnitario':_0x4143e9(_0x46a739,_0x5c5b48(0x222),_0x5c5b48(0x29e)),'USD_setMtoPrecioUnitario':_0x4143e9(_0x46a739,_0x5c5b48(0x209),_0x5c5b48(0x1f4)),'USD_setMtoPrecioCostoUnitario':_0x4143e9(_0x46a739,_0x5c5b48(0x209),_0x5c5b48(0x29e)),'setItemCommissionPercentage':_0x46a739[_0x5c5b48(0x270)]?parseFloat(_0x46a739[_0x5c5b48(0x270)]):'','setUnitId2':_0x1bb56f['id']??'','setItemBarCode2':_0x1bb56f[_0x5c5b48(0x1b2)]??'','setUnidadCodigo2':_0x1bb56f[_0x5c5b48(0x1c1)]??'','setItemUnitAlias2':_0x1bb56f['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x1bb56f['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x4143e9(_0x1bb56f,_0x5c5b48(0x222),_0x5c5b48(0x1f4))??'','PEN_setMtoPrecioCostoUnitario2':_0x4143e9(_0x1bb56f,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x4143e9(_0x1bb56f,'USD','setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario2':_0x4143e9(_0x1bb56f,_0x5c5b48(0x209),_0x5c5b48(0x29e))??'','setItemCommissionPercentage2':_0x1bb56f['setItemCommissionPercentage']?parseFloat(_0x1bb56f['setItemCommissionPercentage']):'','setUnitId3':_0x3393ad['id']??'','setItemBarCode3':_0x3393ad['setItemBarCode']??'','setUnidadCodigo3':_0x3393ad[_0x5c5b48(0x1c1)]??'','setItemUnitAlias3':_0x3393ad[_0x5c5b48(0x284)]??'','setUnidadEquivalencia3':_0x3393ad[_0x5c5b48(0x240)]??'','PEN_setMtoPrecioUnitario3':_0x4143e9(_0x3393ad,'PEN',_0x5c5b48(0x1f4))??'','PEN_setMtoPrecioCostoUnitario3':_0x4143e9(_0x3393ad,_0x5c5b48(0x222),_0x5c5b48(0x29e))??'','USD_setMtoPrecioUnitario3':_0x4143e9(_0x3393ad,_0x5c5b48(0x209),_0x5c5b48(0x1f4))??'','USD_setMtoPrecioCostoUnitario3':_0x4143e9(_0x3393ad,_0x5c5b48(0x209),_0x5c5b48(0x29e))??'','setItemCommissionPercentage3':_0x3393ad['setItemCommissionPercentage']?parseFloat(_0x3393ad[_0x5c5b48(0x270)]):'','setInventariable':_0x46a739['setInventariable'],'setSucursalStock':_0x2431c1==0x1?_0x46a739[_0x5c5b48(0x1b3)]['find'](_0x586837=>String(_0x586837['setIdSucursal'])==String(_0x4142ed))['setSucursalStock']:'','setWarehouseStockMin':_0x2431c1==0x1?_0x46a739['sucursales']['find'](_0x2838eb=>String(_0x2838eb[_0x5c5b48(0x2ab)])==String(_0x4142ed))[_0x5c5b48(0x1b5)]:'','setBatchName':_0x46a739[_0x5c5b48(0x21c)],'setBatchExpirationDate':_0x46a739[_0x5c5b48(0x23a)],..._0x46a739[_0x5c5b48(0x1cb)]};});try{JSON[_0x34bdd0(0x1f1)](_0x5a8116);}catch(_0x21d4d3){console[_0x34bdd0(0x259)](_0x34bdd0(0x1e6),_0x21d4d3),ntfShow(_0x34bdd0(0x1bc));return;}statusDiv[_0x34bdd0(0x260)]=_0x34bdd0(0x27a),progressBar[_0x34bdd0(0x26d)][_0x34bdd0(0x2ad)]=_0x34bdd0(0x26f),progressBar[_0x34bdd0(0x1c2)]=0x0,itemWorker[_0x34bdd0(0x172)]({'action':_0x34bdd0(0x29a),'products':_0x5a8116,'plantillaBuf':_0x4464e9},[_0x4464e9]);}catch(_0x134423){console['error'](_0x134423),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x134423[_0x34bdd0(0x1ff)]);}}itemWorker[_0x18ed2e(0x1ce)]=({data:_0x1d500a})=>{var _0x4be15=_0x18ed2e;const {type:_0x25adc2,payload:_0xad943}=_0x1d500a;_0x25adc2===_0x4be15(0x28a)&&(progressBar['style'][_0x4be15(0x2ad)]=_0x4be15(0x26f),progressBar[_0x4be15(0x1c2)]=_0xad943['percent'],statusDiv[_0x4be15(0x260)]=_0xad943['message']);_0x25adc2===_0x4be15(0x1fd)&&(newItemsExcel=_0xad943['items'],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x4be15(0x179)]+_0x4be15(0x28b),uploadBtn[_0x4be15(0x163)]=![],progressBar[_0x4be15(0x1c2)]=0x64,console[_0x4be15(0x1da)](newItemsExcel));_0x25adc2===_0x4be15(0x259)&&(statusDiv[_0x4be15(0x260)]=_0x4be15(0x1c0)+_0xad943,progressBar[_0x4be15(0x26d)]['display']=_0x4be15(0x279));if(_0x25adc2===_0x4be15(0x19c)){const {wbout:_0x3b19b5,count:_0x5f4f4e}=_0xad943,_0x3e06d3=new Blob([_0x3b19b5],{'type':_0x4be15(0x23c)}),_0x226d11=URL['createObjectURL'](_0x3e06d3),_0x3fcc54=document[_0x4be15(0x181)]('a'),_0x31f8e7=new Date()[_0x4be15(0x17a)]()[_0x4be15(0x216)](0x0,0xa);_0x3fcc54['download']='Plantilla-Items-Export-'+_0x31f8e7+'.xlsx',_0x3fcc54[_0x4be15(0x1f5)]=_0x226d11,_0x3fcc54[_0x4be15(0x253)](),URL[_0x4be15(0x24e)](_0x226d11),statusDiv[_0x4be15(0x260)]=_0x4be15(0x164)+_0x5f4f4e+_0x4be15(0x245),progressBar[_0x4be15(0x26d)][_0x4be15(0x2ad)]=_0x4be15(0x279);}},fileInput[_0x18ed2e(0x1c3)](_0x18ed2e(0x169),async _0x2877ec=>{var _0xdcf9c8=_0x18ed2e;const _0x338971=_0x2877ec['target'][_0xdcf9c8(0x1c4)][0x0];if(!_0x338971)return;uploadBtn[_0xdcf9c8(0x163)]=!![],newItemsExcel=null,statusDiv[_0xdcf9c8(0x260)]='',progressBar[_0xdcf9c8(0x26d)][_0xdcf9c8(0x2ad)]=_0xdcf9c8(0x279),dropZone[_0xdcf9c8(0x1e8)](_0xdcf9c8(0x1fe))[_0xdcf9c8(0x260)]=_0x338971[_0xdcf9c8(0x280)],removeBtn['hidden']=![];try{const _0x52bbfc=await _0x338971[_0xdcf9c8(0x223)]();itemWorker[_0xdcf9c8(0x172)]({'action':'import','buf':_0x52bbfc,'maxRows':0x1388});}catch(_0x49d6bf){statusDiv[_0xdcf9c8(0x260)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput['value']='';}}),uploadBtn[_0x18ed2e(0x1c3)](_0x18ed2e(0x253),async()=>{var _0x30e708=_0x18ed2e;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x557c59=document[_0x30e708(0x275)](_0x30e708(0x17e))[_0x30e708(0x1c2)],_0x49cbe2=[];newItemsExcel[_0x30e708(0x23f)](_0x9e0ed5=>{var _0x4f4a6a=_0x30e708;const _0x143339=Boolean(_0x9e0ed5['setItemId']),_0x371347=_0x143339?_0x9e0ed5[_0x4f4a6a(0x28c)]:generateNumericUniqId();_0x9e0ed5[_0x4f4a6a(0x274)]=[{'setStockInitial':_0x9e0ed5[_0x4f4a6a(0x15f)],'setStockMinimum':_0x9e0ed5[_0x4f4a6a(0x278)],'setWarehouseCode':_0x557c59}],_0x9e0ed5['setItemUnits'][_0x4f4a6a(0x23f)](_0x4c0c61=>{var _0x5d776a=_0x4f4a6a;const _0x29a236=Boolean(_0x4c0c61[_0x5d776a(0x19e)]),_0x55e6b7=_0x29a236?_0x4c0c61[_0x5d776a(0x19e)]:generateNumericUniqId();_0x4c0c61[_0x5d776a(0x19e)]=_0x55e6b7;const _0x40ce19=[];_0x40ce19['push']({'currency':_0x5d776a(0x222),'setMtoPrecioCostoUnitario':_0x4c0c61[_0x5d776a(0x208)],'setMtoPrecioUnitario':_0x4c0c61[_0x5d776a(0x297)],'setPriceLists':[]});const _0xbb8585=_0x4c0c61['setCostUSD']!=null&&_0x4c0c61[_0x5d776a(0x178)]!=null&&(!isNaN(_0x4c0c61[_0x5d776a(0x1f7)])||!isNaN(_0x4c0c61[_0x5d776a(0x178)]));_0xbb8585&&_0x40ce19[_0x5d776a(0x1a9)]({'currency':_0x5d776a(0x209),'setMtoPrecioCostoUnitario':_0x4c0c61[_0x5d776a(0x1f7)],'setMtoPrecioUnitario':_0x4c0c61[_0x5d776a(0x178)],'setPriceLists':[]});const _0xbc2dec={'id':_0x55e6b7,'setIdProducto':_0x371347,'setItemBarCode':_0x4c0c61[_0x5d776a(0x1b2)],'setCodProducto':_0x9e0ed5[_0x5d776a(0x26a)],'setDescripcion':_0x9e0ed5[_0x5d776a(0x237)],'setItemDescription':_0x9e0ed5[_0x5d776a(0x2a9)],'setBatchExpirationDate':_0x9e0ed5[_0x5d776a(0x1e4)],'setBatchName':_0x9e0ed5[_0x5d776a(0x21c)],'setItemIsSold':_0x9e0ed5[_0x5d776a(0x27c)],'setItemIsBought':_0x9e0ed5[_0x5d776a(0x1b8)],'setCategoria':_0x9e0ed5[_0x5d776a(0x287)][0x0]||'','setMarca':_0x9e0ed5[_0x5d776a(0x1a1)][0x0]||'','setConversionFactor':parseFloat(_0x4c0c61[_0x5d776a(0x277)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x9e0ed5[_0x5d776a(0x2af)],'setPorcentajeIgv':_0x9e0ed5[_0x5d776a(0x1cf)],'setPrinters':[],'setTaxId':_0x9e0ed5[_0x5d776a(0x1b6)],'setTipAfeIgv':_0x9e0ed5['setItemTaxCode'],'setUnidad':_0x4c0c61[_0x5d776a(0x16d)],'setUnidadCodigo':_0x4c0c61['setUnitCode'],'setItemUnitAlias':_0x4c0c61[_0x5d776a(0x1d3)],'setItemCommissionPercentage':_0x4c0c61['setItemCommissionPercentage'],'currency_data':_0x40ce19,'sucursales':_0x9e0ed5[_0x5d776a(0x274)][_0x5d776a(0x1fb)](_0x1615f7=>({'setIdSucursal':_0x1615f7[_0x5d776a(0x1b0)],'setSucursalStock':_0x1615f7[_0x5d776a(0x15f)][_0x5d776a(0x1d9)](),'setWarehouseStockMin':_0x1615f7['setStockMinimum'][_0x5d776a(0x1d9)]()})),'setItemFree':_0x9e0ed5[_0x5d776a(0x20b)],'setItemBrands':_0x9e0ed5[_0x5d776a(0x1a1)][_0x5d776a(0x216)](),'setItemCategories':_0x9e0ed5['setItemCategories'][_0x5d776a(0x216)](),'setItemComponents':_0x9e0ed5[_0x5d776a(0x289)][_0x5d776a(0x1fb)](_0x34436d=>({..._0x34436d})),'setItemImages':_0x9e0ed5['setItemImages'][_0x5d776a(0x216)](),'setItemVariantName':_0x9e0ed5['setItemVariantName'],'setItemVariantValues':{..._0x9e0ed5[_0x5d776a(0x1cb)]}},_0x3c21d1=products[_0x5d776a(0x264)](_0x1c3e68=>_0x1c3e68['id']==_0x55e6b7&&_0x1c3e68[_0x5d776a(0x225)]==_0x371347);_0x3c21d1>-0x1?Object['assign'](products[_0x3c21d1],_0xbc2dec):_0x49cbe2[_0x5d776a(0x1a9)](_0xbc2dec);});}),console['log'](_0x30e708(0x203),newItemsExcel),await finalizeImport(_0x49cbe2,newItemsExcel,!![]);});function initializeFormImages(){var _0x51c434=_0x18ed2e;currentImages=Array(MAX_IMAGES)[_0x51c434(0x285)](null),imgC[_0x51c434(0x26c)]='',baseItem[_0x51c434(0x227)]=[];for(var _0x29437f=0x0;_0x29437f<MAX_IMAGES;_0x29437f++){(function(_0x588fa7){var _0x848c53=_0x51c434,_0x3f5da8=document[_0x848c53(0x181)](_0x848c53(0x24f));_0x3f5da8['className']=_0x848c53(0x1d5),_0x3f5da8['dataset']['idx']=_0x588fa7;var _0x327a38=document[_0x848c53(0x181)](_0x848c53(0x17b));_0x327a38[_0x848c53(0x232)]=_0x848c53(0x1a8),_0x327a38['accept']=_0x848c53(0x176),_0x327a38[_0x848c53(0x26d)]['display']='none';var _0x501433=document['createElement'](_0x848c53(0x255));_0x501433[_0x848c53(0x260)]='+',_0x3f5da8['appendChild'](_0x327a38),_0x3f5da8['appendChild'](_0x501433),imgC['appendChild'](_0x3f5da8),_0x3f5da8[_0x848c53(0x1c3)](_0x848c53(0x253),function(){var _0xaca7af=_0x848c53;_0x327a38[_0xaca7af(0x253)]();}),_0x327a38[_0x848c53(0x1c3)](_0x848c53(0x169),function(_0x2287a5){var _0x2eee40=_0x848c53,_0x49518b=_0x2287a5['target'][_0x2eee40(0x1c4)][0x0];if(!_0x49518b)return removeImg(_0x588fa7);var _0x3eff1a=new FileReader();_0x3eff1a[_0x2eee40(0x202)]=function(_0x422f23){var _0x50cfad=_0x2eee40;_0x3f5da8[_0x50cfad(0x26c)]=_0x50cfad(0x191)+_0x422f23['target'][_0x50cfad(0x1b1)]+'\x22>';var _0x279f57=document[_0x50cfad(0x181)](_0x50cfad(0x255));_0x279f57[_0x50cfad(0x1c9)]=_0x50cfad(0x17f),_0x279f57[_0x50cfad(0x260)]='×',_0x279f57[_0x50cfad(0x1c3)](_0x50cfad(0x253),function(_0x4ad00b){var _0x3fed9d=_0x50cfad;_0x4ad00b[_0x3fed9d(0x241)](),removeImg(_0x588fa7);}),_0x3f5da8[_0x50cfad(0x21b)](_0x279f57),currentImages[_0x588fa7]=_0x49518b,baseItem[_0x50cfad(0x227)]=currentImages[_0x50cfad(0x211)](function(_0x70d976){return _0x70d976;});},_0x3eff1a[_0x2eee40(0x273)](_0x49518b);});}(_0x29437f));}}function _0x4d59(_0x3c9607,_0x3be3ad){var _0x133e38=_0x5994();return _0x4d59=function(_0x4edbc1,_0x3e7319){_0x4edbc1=_0x4edbc1-0x15d;var _0xaf0dbe=_0x133e38[_0x4edbc1];return _0xaf0dbe;},_0x4d59(_0x3c9607,_0x3be3ad);}function initializeFormIsSoldIsBought(_0x10e507=0x0){var _0x56e9ae=_0x18ed2e;let _0x453bd3,_0x4d8ce3;if(_0x10e507!=0x0){const _0x67e590=products[_0x56e9ae(0x1e1)](_0x1af4d9=>_0x1af4d9['id']==_0x10e507);_0x453bd3=_0x67e590[_0x56e9ae(0x1b8)]==0x1||_0x67e590[_0x56e9ae(0x1b8)]==!![]?!![]:![],_0x4d8ce3=_0x67e590[_0x56e9ae(0x27c)]==0x1||_0x67e590[_0x56e9ae(0x27c)]==!![]?!![]:![];}else _0x453bd3=!![],_0x4d8ce3=!![];document[_0x56e9ae(0x275)]('newItem_chk_buy')['checked']=_0x453bd3,document['getElementById'](_0x56e9ae(0x185))[_0x56e9ae(0x244)]=_0x4d8ce3,baseItem[_0x56e9ae(0x1b8)]=_0x453bd3,baseItem['setItemIsSold']=_0x4d8ce3;}function initializeFormInputsBasic(_0x4e3ad3=0x0){var _0x2d0f11=_0x18ed2e;let _0x2b9931,_0x888ee9,_0x3849d9,_0xba5d92,_0x36edb4,_0x4cbb7c;if(_0x4e3ad3!=0x0){const _0x44a2ae=products['find'](_0x45a256=>_0x45a256['id']==_0x4e3ad3);_0x2b9931=_0x44a2ae['setItemType']??'1',_0x888ee9=_0x44a2ae[_0x2d0f11(0x25c)],_0x3849d9=_0x44a2ae[_0x2d0f11(0x1d1)],_0xba5d92=_0x44a2ae[_0x2d0f11(0x2a9)],_0x36edb4=_0x44a2ae[_0x2d0f11(0x23a)]??'',_0x4cbb7c=_0x44a2ae[_0x2d0f11(0x1b2)];}else _0x2b9931='1',_0x888ee9=getNextCode(products),_0x3849d9='',_0xba5d92='',_0x36edb4='',_0x4cbb7c='';document[_0x2d0f11(0x275)](_0x2d0f11(0x230))['value']=_0x2b9931,document[_0x2d0f11(0x275)](_0x2d0f11(0x1d8))[_0x2d0f11(0x1c2)]=_0x888ee9,document['getElementById'](_0x2d0f11(0x293))[_0x2d0f11(0x1c2)]=_0x3849d9,document[_0x2d0f11(0x275)]('inputItemDescription')[_0x2d0f11(0x1c2)]=_0xba5d92,document['getElementById'](_0x2d0f11(0x1c7))['value']=_0x36edb4,document[_0x2d0f11(0x275)](_0x2d0f11(0x2ac))['value']=_0x4cbb7c,baseItem[_0x2d0f11(0x2a7)]=_0x2b9931,baseItem[_0x2d0f11(0x26a)]=_0x888ee9,baseItem[_0x2d0f11(0x237)]=_0x3849d9,baseItem[_0x2d0f11(0x2a9)]=_0xba5d92,baseItem[_0x2d0f11(0x1e4)]=_0x36edb4,baseItem[_0x2d0f11(0x1b2)]=_0x4cbb7c,document['getElementById'](_0x2d0f11(0x22f))[_0x2d0f11(0x244)]=![];}function initializeFormTax(_0x1005f9=0x0){var _0x3ab0c8=_0x18ed2e;let _0x522b10;if(_0x1005f9!=0x0){const _0x38f615=products[_0x3ab0c8(0x1e1)](_0x2195c8=>_0x2195c8['id']==_0x1005f9);_0x522b10=_0x38f615[_0x3ab0c8(0x25a)];}else _0x522b10=myCompany[_0x3ab0c8(0x1a0)];const _0x301db1=document['getElementById'](_0x3ab0c8(0x21e));_0x301db1[_0x3ab0c8(0x1c2)]=_0x522b10,baseItem[_0x3ab0c8(0x1b6)]=_0x522b10;const _0x47bdbd=company[0x0][_0x3ab0c8(0x22e)]['find'](_0x56fbeb=>_0x56fbeb[_0x3ab0c8(0x25a)]==_0x522b10)?.[_0x3ab0c8(0x192)]||0x0,_0x4c94b0=company[0x0][_0x3ab0c8(0x22e)][_0x3ab0c8(0x1e1)](_0x155828=>_0x155828[_0x3ab0c8(0x25a)]==_0x522b10)?.[_0x3ab0c8(0x291)]||0x0;baseItem[_0x3ab0c8(0x22a)]=_0x47bdbd,baseItem[_0x3ab0c8(0x1cf)]=_0x4c94b0;}function initializeFormCategoriesBrands(_0x59ec3b=0x0){var _0x1b337a=_0x18ed2e;baseItem[_0x1b337a(0x287)]=[],baseItem[_0x1b337a(0x1a1)]=[],document[_0x1b337a(0x1e8)](_0x1b337a(0x183))[_0x1b337a(0x26c)]='',document[_0x1b337a(0x1e8)](_0x1b337a(0x1ab))[_0x1b337a(0x26c)]='',document['querySelector'](_0x1b337a(0x15e))['innerHTML']='',document[_0x1b337a(0x1e8)](_0x1b337a(0x1d7))[_0x1b337a(0x26c)]='';const _0x5be255=myCompany['setItemCategories'][_0x1b337a(0x1fb)](_0x5c65ff=>({'setCode':_0x5c65ff[_0x1b337a(0x296)],'setName':_0x5c65ff[_0x1b337a(0x296)]})),_0x3c019b=myCompany[_0x1b337a(0x1a1)][_0x1b337a(0x1fb)](_0x5f5160=>({'setCode':_0x5f5160[_0x1b337a(0x299)],'setName':_0x5f5160[_0x1b337a(0x299)]}));initMulti('newItem_categories_select',_0x5be255),initMulti(_0x1b337a(0x1cd),_0x3c019b),document['getElementById'](_0x1b337a(0x24b))['addEventListener'](_0x1b337a(0x1ef),function(_0x2ad2c8){var _0x140517=_0x1b337a;baseItem['setItemCategories']=_0x2ad2c8[_0x140517(0x1eb)][_0x140517(0x1fb)](_0x1d35df=>_0x1d35df[_0x140517(0x254)]);}),document['getElementById'](_0x1b337a(0x1cd))[_0x1b337a(0x1c3)](_0x1b337a(0x1ef),function(_0x4d9038){var _0x7197a9=_0x1b337a;baseItem['setItemBrands']=_0x4d9038['detail'][_0x7197a9(0x1fb)](_0x3c3eee=>_0x3c3eee[_0x7197a9(0x254)]);});if(_0x59ec3b!=0x0){const _0x55f293=products[_0x1b337a(0x1e1)](_0x520ba9=>_0x520ba9['id']==_0x59ec3b);if(_0x55f293[_0x1b337a(0x29f)]){const _0x445f78=document['getElementById'](_0x1b337a(0x24b)),_0x2984da=Array[_0x1b337a(0x1ea)](_0x445f78[_0x1b337a(0x193)](_0x1b337a(0x171)))[_0x1b337a(0x1e1)](_0x1ce6e0=>_0x1ce6e0['dataset']['code']==_0x55f293[_0x1b337a(0x29f)]);_0x2984da&&_0x2984da[_0x1b337a(0x253)]();}if(_0x55f293[_0x1b337a(0x20d)]){const _0x216a43=document[_0x1b337a(0x275)](_0x1b337a(0x1cd)),_0xb8ddb3=Array['from'](_0x216a43[_0x1b337a(0x193)](_0x1b337a(0x171)))[_0x1b337a(0x1e1)](_0x2f1096=>_0x2f1096[_0x1b337a(0x26b)][_0x1b337a(0x221)]==_0x55f293['setMarca']);_0xb8ddb3&&_0xb8ddb3[_0x1b337a(0x253)]();}}}function initializeFormUnits(){var _0x40328c=_0x18ed2e;unitCount=0x0,document['getElementById'](_0x40328c(0x182))[_0x40328c(0x26c)]='',baseItem[_0x40328c(0x1df)]=[];var _0x266d9b=uniqueValuesArray(_0x40328c(0x16d),_0x40328c(0x1e2),myCompany[_0x40328c(0x247)]);addUnit('',_0x266d9b[0x3a]&&_0x266d9b[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x5c9a07=_0x18ed2e;prodC[_0x5c9a07(0x26c)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x19dc45=_0x18ed2e;branchesC[_0x19dc45(0x26c)]='',baseItem[_0x19dc45(0x274)]=[];const _0x365ae9=getAllWarehouses();_0x365ae9[_0x19dc45(0x23f)](function(_0x3d9aa2){var _0x1a4b11=_0x19dc45,_0xc7e93f=document['createElement']('div');_0xc7e93f[_0x1a4b11(0x26c)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x1a4b11(0x1d4)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x3d9aa2['setWarehouseId']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x3d9aa2[_0x1a4b11(0x2a2)]+_0x1a4b11(0x242)+_0x1a4b11(0x1d2)+'<div\x20class=\x22newItem_col\x22>'+_0x1a4b11(0x238)+_0x3d9aa2[_0x1a4b11(0x17e)]+'\x22>'+_0x1a4b11(0x1d2)+_0x1a4b11(0x1d4)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x3d9aa2[_0x1a4b11(0x17e)]+'\x22>'+'</div>'+_0x1a4b11(0x1d2),branchesC[_0x1a4b11(0x21b)](_0xc7e93f),_0xc7e93f[_0x1a4b11(0x193)](_0x1a4b11(0x17b))[_0x1a4b11(0x23f)](function(_0xd68536){var _0x2e13f6=_0x1a4b11;_0xd68536[_0x2e13f6(0x1c3)](_0x2e13f6(0x17b),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x48ecfe=_0x18ed2e;baseItem[_0x48ecfe(0x267)]='',baseItem[_0x48ecfe(0x1cb)]={},vgC['innerHTML']='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x4e94a8,_0x305a78,_0x532f3f=![]){var _0x411626=_0x18ed2e;const _0x4f28da=0xc8,_0x74ec08={'apiPOSsendOffline':'1','setTipoOperacion':_0x411626(0x165),'setToken':company[0x0][_0x411626(0x256)],'setWebhook':company[0x0][_0x411626(0x160)]};for(let _0x1dd8e0=0x0;_0x1dd8e0<_0x305a78[_0x411626(0x179)];_0x1dd8e0+=_0x4f28da){const _0x5e4bfe=_0x305a78[_0x411626(0x216)](_0x1dd8e0,_0x1dd8e0+_0x4f28da);await storeOfflineProduct({..._0x74ec08,'newItems':_0x5e4bfe});}products[_0x411626(0x1a9)](..._0x4e94a8),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x411626(0x189)),_0x532f3f?(fileInput[_0x411626(0x1c2)]='',uploadBtn[_0x411626(0x163)]=!![],statusDiv[_0x411626(0x260)]='',progressBar[_0x411626(0x26d)][_0x411626(0x2ad)]=_0x411626(0x279),progressBar[_0x411626(0x1c2)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}