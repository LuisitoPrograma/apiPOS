/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.0
*/

var _0x9950f4=_0x39b4;(function(_0x5a9a4d,_0x3c0df1){var _0x38aff2=_0x39b4,_0x1c7e85=_0x5a9a4d();while(!![]){try{var _0x385d9e=parseInt(_0x38aff2(0x10e))/0x1+parseInt(_0x38aff2(0xf2))/0x2+parseInt(_0x38aff2(0x183))/0x3*(parseInt(_0x38aff2(0x1e4))/0x4)+parseInt(_0x38aff2(0xf6))/0x5*(parseInt(_0x38aff2(0x1f7))/0x6)+-parseInt(_0x38aff2(0x1b2))/0x7*(parseInt(_0x38aff2(0x1b8))/0x8)+parseInt(_0x38aff2(0x204))/0x9*(parseInt(_0x38aff2(0xf8))/0xa)+parseInt(_0x38aff2(0x1a1))/0xb*(-parseInt(_0x38aff2(0x1a8))/0xc);if(_0x385d9e===_0x3c0df1)break;else _0x1c7e85['push'](_0x1c7e85['shift']());}catch(_0x236cc9){_0x1c7e85['push'](_0x1c7e85['shift']());}}}(_0x5351,0x3b461));var _0x2dffad=(function(){var _0x448520=!![];return function(_0x4b925f,_0x485f1){var _0x439fe3=_0x448520?function(){var _0x534061=_0x39b4;if(_0x485f1){var _0x56eceb=_0x485f1[_0x534061(0x188)](_0x4b925f,arguments);return _0x485f1=null,_0x56eceb;}}:function(){};return _0x448520=![],_0x439fe3;};}()),_0x168b38=_0x2dffad(this,function(){var _0x112d91=_0x39b4;return _0x168b38[_0x112d91(0xc7)]()['search']('(((.+)+)+)+$')[_0x112d91(0xc7)]()[_0x112d91(0x131)](_0x168b38)['search'](_0x112d91(0x108));});_0x168b38();var _0x447599=(function(){var _0x510ba7=!![];return function(_0x53236d,_0x365d88){var _0x3895a8=_0x510ba7?function(){var _0x477638=_0x39b4;if(_0x365d88){var _0x374a95=_0x365d88[_0x477638(0x188)](_0x53236d,arguments);return _0x365d88=null,_0x374a95;}}:function(){};return _0x510ba7=![],_0x3895a8;};}()),_0x4b4805=_0x447599(this,function(){var _0x394b54=_0x39b4,_0x2381a0;try{var _0x57f853=Function(_0x394b54(0x14f)+_0x394b54(0x1f6)+');');_0x2381a0=_0x57f853();}catch(_0x57f808){_0x2381a0=window;}var _0x3e6889=_0x2381a0[_0x394b54(0x156)]=_0x2381a0[_0x394b54(0x156)]||{},_0x1d5e37=[_0x394b54(0x1aa),_0x394b54(0x208),_0x394b54(0x1ec),_0x394b54(0x171),_0x394b54(0x13a),_0x394b54(0x185),'trace'];for(var _0x4206cc=0x0;_0x4206cc<_0x1d5e37[_0x394b54(0x155)];_0x4206cc++){var _0x1ff49e=_0x447599[_0x394b54(0x131)]['prototype'][_0x394b54(0x1dd)](_0x447599),_0x402648=_0x1d5e37[_0x4206cc],_0x2a2fb0=_0x3e6889[_0x402648]||_0x1ff49e;_0x1ff49e[_0x394b54(0x1cf)]=_0x447599[_0x394b54(0x1dd)](_0x447599),_0x1ff49e[_0x394b54(0xc7)]=_0x2a2fb0[_0x394b54(0xc7)][_0x394b54(0x1dd)](_0x2a2fb0),_0x3e6889[_0x402648]=_0x1ff49e;}});_0x4b4805();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x9950f4(0x100)](_0x9950f4(0x1f9)),unitCount=0x0,branchesC=document[_0x9950f4(0x100)]('newItem_branches_container'),prodC=document['getElementById'](_0x9950f4(0x11c)),vgCount=0x0,varContainer=document[_0x9950f4(0x100)](_0x9950f4(0x110)),vgC=document['getElementById'](_0x9950f4(0xd8));const fileInput=document[_0x9950f4(0x100)]('file-input'),progressBar=document['getElementById'](_0x9950f4(0xdb)),statusDiv=document[_0x9950f4(0x100)](_0x9950f4(0x1db)),uploadBtn=document['getElementById'](_0x9950f4(0x106));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x9950f4(0x100)]('drop-zone'),removeBtn=document[_0x9950f4(0x100)](_0x9950f4(0xc8));function showModalCreateItem(_0x45d879){var _0x2aa986=_0x9950f4;const _0x2bb2d3=document['getElementById']('detalleModalCreateItem'),_0x4daa8f=document[_0x2aa986(0x100)](_0x2aa986(0x1c8));_0x2bb2d3[_0x2aa986(0x15e)]['add']('active'),_0x4daa8f[_0x2aa986(0x1da)][_0x2aa986(0x1c1)]='block';const _0x1eccc0=document[_0x2aa986(0x100)]('setItemFree');_0x1eccc0[_0x2aa986(0x1e1)]=parseInt(_0x45d879),baseItem[_0x2aa986(0x127)]=parseInt(_0x45d879);const _0x4fa8e3=document['getElementById'](_0x2aa986(0x17f));_0x45d879==0x0&&(_0x4fa8e3[_0x2aa986(0xdc)]='Nuevo\x20Producto');_0x45d879==0x1&&(_0x4fa8e3[_0x2aa986(0xdc)]=_0x2aa986(0x19b));const _0x58792a=document[_0x2aa986(0x1ad)]('productType1');for(let _0xa16b6e=0x0;_0xa16b6e<_0x58792a[_0x2aa986(0x155)];_0xa16b6e++){const _0x57b0b5=_0x58792a[_0xa16b6e];if(_0x45d879==0x0)_0x57b0b5[_0x2aa986(0x15e)]['remove'](_0x2aa986(0xd6));else _0x45d879==0x1&&_0x57b0b5[_0x2aa986(0x15e)][_0x2aa986(0x10a)](_0x2aa986(0xd6));}}function hideModalCreateItem(){var _0x29db58=_0x9950f4;const _0x51223b=document['getElementById'](_0x29db58(0x159)),_0x203f4f=document[_0x29db58(0x100)]('modalOverlayCreateItem');_0x51223b['classList'][_0x29db58(0x191)](_0x29db58(0x124)),_0x203f4f[_0x29db58(0x1da)][_0x29db58(0x1c1)]=_0x29db58(0xd9);}document['getElementById'](_0x9950f4(0x10b))[_0x9950f4(0x181)](_0x9950f4(0xcc),hideModalCreateItem),document['getElementById'](_0x9950f4(0x1c8))[_0x9950f4(0x181)]('click',_0x4ab5a3=>{var _0x5ea9e5=_0x9950f4;_0x4ab5a3[_0x5ea9e5(0xe6)]==_0x4ab5a3['currentTarget']&&_0x4ab5a3[_0x5ea9e5(0x145)]();});function loadTaxData(){var _0x34bbf1=_0x9950f4;const _0x119ffb=document[_0x34bbf1(0x100)]('inputItemTax');_0x119ffb[_0x34bbf1(0xdc)]='',company[0x0]['setImpuestos']['forEach'](function(_0xd720c1){var _0x693100=_0x34bbf1;const _0x562e1c=document[_0x693100(0x122)](_0x693100(0x1ee));_0x562e1c[_0x693100(0x1e1)]=_0xd720c1[_0x693100(0x114)],_0x562e1c[_0x693100(0xdc)]=_0xd720c1[_0x693100(0x103)]+'\x20('+_0xd720c1[_0x693100(0x104)]+'%)',_0xd720c1[_0x693100(0x114)]==company[0x0][_0x693100(0x197)]&&(_0x562e1c[_0x693100(0x1ac)]=!![]),_0x119ffb[_0x693100(0x1b6)](_0x562e1c);});}function uniqueValuesArray(_0x2458bf,_0x47f95b,_0x2fb589){var _0x445515=_0x9950f4;const _0x3848d9=Array[_0x445515(0x10d)](new Set(_0x2fb589[_0x445515(0x1c7)](_0x3e2c27=>{var _0x54eded=_0x445515;const _0x5f098d=_0x3e2c27[_0x2458bf];return typeof _0x5f098d==='string'?_0x5f098d[_0x54eded(0x17d)]():_0x5f098d;})[_0x445515(0xd2)](_0x36b836=>_0x36b836!=null&&_0x36b836!=='')));return _0x3848d9[_0x445515(0x1c7)](_0x1e1833=>{var _0x336f83=_0x445515;const _0x2bb102=_0x2fb589[_0x336f83(0x19e)](_0x5256b1=>_0x5256b1[_0x2458bf]===_0x1e1833),_0x1e1457=_0x2bb102&&_0x2bb102[_0x47f95b]!=null?String(_0x2bb102[_0x47f95b])[_0x336f83(0x17d)]():_0x1e1833;return{'setCode':_0x1e1833,'setName':_0x1e1457};});}function fillSelect(_0x17753d,_0x2d3ac2,_0x19cceb,_0x30da33){var _0x4b3feb=_0x9950f4;_0x17753d[_0x4b3feb(0xdc)]='',_0x2d3ac2[_0x4b3feb(0xee)](function(_0x1ce3a5){var _0x3214d5=_0x4b3feb,_0x18937d=new Option(_0x1ce3a5[_0x30da33],_0x1ce3a5[_0x19cceb]);_0x17753d[_0x3214d5(0x10a)](_0x18937d);});}function initMulti(_0x2ca099,_0x17f430){var _0x285134=_0x9950f4,_0x44657d=document[_0x285134(0x100)](_0x2ca099),_0x3d6129=_0x44657d[_0x285134(0x160)](_0x285134(0x1b3)),_0x581c92=_0x44657d[_0x285134(0x160)]('.options_list'),_0x20f12c=_0x44657d['querySelector'](_0x285134(0x209)),_0x3ea07c=_0x17f430[_0x285134(0xbd)](),_0x4b5f02=[];let _0x81c39c=null,_0x4ef49d=![];function _0x59d936(){var _0x36eb26=_0x285134;const _0x3afc55=_0x3d6129[_0x36eb26(0x1e1)]['trim']();if(!_0x3afc55)return;const _0x54046b=_0x3ea07c['find'](_0x177a9e=>_0x177a9e['setName'][_0x36eb26(0x158)]()===_0x3afc55[_0x36eb26(0x158)]());if(_0x54046b)_0x4b5f02[_0x36eb26(0x13e)](_0x54046b),_0x3ea07c['splice'](_0x3ea07c[_0x36eb26(0x15d)](_0x4358ff=>_0x4358ff['setCode']===_0x54046b['setCode']),0x1);else{const _0x3fc4d7=_0x4b5f02['some'](_0x56dc10=>_0x56dc10[_0x36eb26(0x170)]['toLowerCase']()===_0x3afc55[_0x36eb26(0x158)]());!_0x3fc4d7&&_0x4b5f02['push']({'setCode':_0x3afc55,'setName':_0x3afc55});}_0x1d5fcc(),_0x56917f(),_0x3d6129[_0x36eb26(0x1e1)]='';}function _0x56917f(){var _0x49f7a1=_0x285134;_0x581c92[_0x49f7a1(0xdc)]='',_0x3ea07c['filter'](_0x455e94=>_0x455e94['setName'][_0x49f7a1(0x158)]()['includes'](_0x3d6129[_0x49f7a1(0x1e1)][_0x49f7a1(0x158)]()))['slice'](0x0,0x14)['forEach'](_0x302b4a=>{var _0x8eaf85=_0x49f7a1,_0x575ef6=document['createElement'](_0x8eaf85(0x161));_0x575ef6[_0x8eaf85(0xe7)]=_0x302b4a[_0x8eaf85(0x170)],_0x575ef6['dataset'][_0x8eaf85(0x18f)]=_0x302b4a[_0x8eaf85(0x1e7)],_0x581c92[_0x8eaf85(0x1b6)](_0x575ef6),_0x575ef6['addEventListener'](_0x8eaf85(0x1d2),()=>_0x4ef49d=!![]),_0x575ef6['addEventListener'](_0x8eaf85(0xcc),function(){var _0x4f8e6b=_0x8eaf85;_0x4ef49d=![],_0x4b5f02[_0x4f8e6b(0x13e)](_0x302b4a),_0x3ea07c[_0x4f8e6b(0x1de)](_0x3ea07c[_0x4f8e6b(0x15d)](_0x3914fa=>_0x3914fa[_0x4f8e6b(0x1e7)]===_0x302b4a[_0x4f8e6b(0x1e7)]),0x1),_0x3d6129[_0x4f8e6b(0x1e1)]='',_0x1d5fcc(),_0x56917f();});});}function _0x1d5fcc(){var _0x4e374b=_0x285134;_0x20f12c[_0x4e374b(0xdc)]='',_0x4b5f02[_0x4e374b(0xee)](_0x1bd7dc=>{var _0x1144de=_0x4e374b,_0x1e1260=document[_0x1144de(0x122)](_0x1144de(0x161));_0x1e1260[_0x1144de(0x10f)]='tag',_0x1e1260[_0x1144de(0xe7)]=_0x1bd7dc[_0x1144de(0x170)];var _0x1e2d13=document[_0x1144de(0x122)]('span');_0x1e2d13[_0x1144de(0x10f)]=_0x1144de(0x186),_0x1e2d13['textContent']='×',_0x1e2d13['addEventListener']('click',function(){var _0x36ec96=_0x1144de;_0x3ea07c[_0x36ec96(0x13e)](_0x1bd7dc);const _0x12f853=_0x4b5f02[_0x36ec96(0x15d)](_0x1b9f6a=>_0x1b9f6a[_0x36ec96(0x1e7)]===_0x1bd7dc['setCode']);if(_0x12f853>-0x1)_0x4b5f02['splice'](_0x12f853,0x1);_0x1d5fcc(),_0x56917f();}),_0x1e1260['appendChild'](_0x1e2d13),_0x20f12c[_0x1144de(0x1b6)](_0x1e1260);}),_0x44657d[_0x4e374b(0x113)](new CustomEvent('selectionChange',{'detail':_0x4b5f02,'bubbles':!![]}));}return _0x3d6129[_0x285134(0x181)](_0x285134(0x17a),function(){var _0x3cf1d0=_0x285134;_0x81c39c&&(clearTimeout(_0x81c39c),_0x81c39c=null),_0x581c92[_0x3cf1d0(0x15e)][_0x3cf1d0(0x191)](_0x3cf1d0(0xfb));}),_0x3d6129[_0x285134(0x181)](_0x285134(0xc6),_0x56917f),_0x3d6129[_0x285134(0x181)]('keydown',function(_0x4c791f){var _0x12d2a8=_0x285134;_0x4c791f['key']===_0x12d2a8(0x174)&&(_0x4c791f[_0x12d2a8(0x14c)](),_0x59d936());}),_0x3d6129['addEventListener']('blur',function(){if(_0x4ef49d)return;_0x81c39c=setTimeout(()=>{_0x59d936(),_0x81c39c=null;},0xc8);}),document[_0x285134(0x181)](_0x285134(0xcc),function(_0x2cfa18){var _0x44c073=_0x285134;!_0x44657d[_0x44c073(0xc1)](_0x2cfa18[_0x44c073(0xe6)])&&_0x581c92[_0x44c073(0x15e)]['add'](_0x44c073(0xfb));}),_0x56917f(),_0x4b5f02;}function getLastCode(_0x2802d8){var _0x2b28fe=_0x9950f4;const _0x47dccc=_0x2802d8[_0x2b28fe(0x1c7)](_0x19c18a=>String(_0x19c18a[_0x2b28fe(0x1bf)])[_0x2b28fe(0x17d)]())[_0x2b28fe(0xd2)](_0x31d4a2=>_0x31d4a2!=='');if(_0x47dccc[_0x2b28fe(0x155)]===0x0)return'';const _0x976166=_0x47dccc[_0x2b28fe(0x10c)](_0x3c40a3=>/^\d+$/['test'](_0x3c40a3));if(_0x976166){const _0x3bd829=_0x47dccc['map'](Number),_0x28e5c5=Math[_0x2b28fe(0x1f5)](..._0x3bd829);return String(_0x28e5c5);}let _0x116f86;if(typeof Intl!==_0x2b28fe(0xe2)&&Intl[_0x2b28fe(0xd7)]){const _0x29aa14=new Intl[(_0x2b28fe(0xd7))](undefined,{'numeric':!![],'sensitivity':_0x2b28fe(0x18b)});_0x116f86=_0x47dccc[_0x2b28fe(0xbd)]()[_0x2b28fe(0x14b)](_0x29aa14[_0x2b28fe(0x151)]);}else{const _0x546d56=_0x47dccc[_0x2b28fe(0x10c)](_0x35aeb7=>/^\d+$/[_0x2b28fe(0x139)](_0x35aeb7));_0x546d56?_0x116f86=_0x47dccc[_0x2b28fe(0x1c7)](Number)[_0x2b28fe(0x14b)]((_0x42e4fc,_0x1b7013)=>_0x42e4fc-_0x1b7013)[_0x2b28fe(0x1c7)](String):_0x116f86=_0x47dccc[_0x2b28fe(0xbd)]()[_0x2b28fe(0x14b)]();}return _0x116f86[_0x116f86[_0x2b28fe(0x155)]-0x1];}function _0x39b4(_0x553484,_0x4788c8){var _0x36de1a=_0x5351();return _0x39b4=function(_0x4b4805,_0x447599){_0x4b4805=_0x4b4805-0xbc;var _0x11189c=_0x36de1a[_0x4b4805];return _0x11189c;},_0x39b4(_0x553484,_0x4788c8);}function getNextCode(_0x29e53f){var _0x422117=_0x9950f4;const _0x320fec=getLastCode(_0x29e53f);if(!_0x320fec)return'';if(/^\d+$/[_0x422117(0x139)](_0x320fec))return String(Number(_0x320fec)+0x1);const _0x47d377=_0x320fec[_0x422117(0x12f)](/^([A-Za-z]*)(\d+)$/);if(_0x47d377){const [,_0x5c9c20,_0x2a1488]=_0x47d377,_0x277167=String(Number(_0x2a1488)+0x1)[_0x422117(0x180)](_0x2a1488[_0x422117(0x155)],'0');return _0x5c9c20+_0x277167;}return _0x320fec;}document['getElementById'](_0x9950f4(0x129))[_0x9950f4(0x181)]('input',function(_0x311162){var _0x510efb=_0x9950f4;baseItem['setItemName']=_0x311162[_0x510efb(0xe6)][_0x510efb(0x1e1)];}),document[_0x9950f4(0x100)](_0x9950f4(0x20f))[_0x9950f4(0x181)](_0x9950f4(0xc6),function(_0x210428){var _0x433dde=_0x9950f4;baseItem[_0x433dde(0x15f)]=_0x210428['target']['value'];}),document['getElementById']('inputItemDateExpiry')[_0x9950f4(0x181)](_0x9950f4(0xc6),function(_0x1ed78e){var _0x30a153=_0x9950f4;baseItem[_0x30a153(0xf5)]=_0x1ed78e[_0x30a153(0xe6)][_0x30a153(0x1e1)];}),document[_0x9950f4(0x100)]('inputItemType')[_0x9950f4(0x181)](_0x9950f4(0x18c),function(_0x1c9d58){var _0x39cfe0=_0x9950f4;baseItem[_0x39cfe0(0x195)]=_0x1c9d58[_0x39cfe0(0xe6)]['value'];}),document[_0x9950f4(0x100)](_0x9950f4(0xda))[_0x9950f4(0x181)](_0x9950f4(0x18c),function(_0x4cecfd){var _0x4f5049=_0x9950f4;baseItem[_0x4f5049(0x1d9)]=_0x4cecfd[_0x4f5049(0xe6)][_0x4f5049(0x1e1)];const _0xc7c919=_0x4cecfd['target'][_0x4f5049(0x1e1)],_0x206147=company[0x0][_0x4f5049(0xfc)]['find'](_0x22a5e8=>_0x22a5e8[_0x4f5049(0x114)]==_0xc7c919)?.['setImpuestoCode']||0x0,_0xbd29e0=company[0x0]['setImpuestos']['find'](_0x517191=>_0x517191[_0x4f5049(0x114)]==_0xc7c919)?.['setImpuestoValue']||0x0;baseItem[_0x4f5049(0x1df)]=_0x206147,baseItem[_0x4f5049(0xdf)]=_0xbd29e0;}),document['getElementById'](_0x9950f4(0x19a))[_0x9950f4(0x181)]('change',function(_0x551a08){var _0x126718=_0x9950f4;baseItem[_0x126718(0xeb)]=_0x551a08[_0x126718(0xe6)][_0x126718(0x1b1)];}),document[_0x9950f4(0x100)](_0x9950f4(0x1bb))['addEventListener'](_0x9950f4(0x18c),function(_0x1b2a09){var _0x5edbc0=_0x9950f4;baseItem[_0x5edbc0(0x13f)]=_0x1b2a09[_0x5edbc0(0xe6)][_0x5edbc0(0x1b1)];}),document[_0x9950f4(0x100)](_0x9950f4(0x1cd))[_0x9950f4(0x181)](_0x9950f4(0xc6),function(_0x5825f9){var _0x4747df=_0x9950f4;baseItem[_0x4747df(0x1d0)]=_0x5825f9[_0x4747df(0xe6)][_0x4747df(0x1e1)];}),document[_0x9950f4(0x100)](_0x9950f4(0x149))[_0x9950f4(0x181)]('input',function(_0x3a5140){var _0x5e73cb=_0x9950f4;baseItem['setItemBarCode']=_0x3a5140[_0x5e73cb(0xe6)][_0x5e73cb(0x1e1)];}),document[_0x9950f4(0x100)](_0x9950f4(0xfa))['addEventListener'](_0x9950f4(0xcc),function(){addUnit(),updateUnitsArray();}),document[_0x9950f4(0x100)](_0x9950f4(0x1cd))[_0x9950f4(0x181)]('blur',function(){var _0xd6cc32=_0x9950f4;const _0x5d8a62=this['value'][_0xd6cc32(0x17d)]();if(_0x5d8a62==='')return;const _0xa49c41=products[_0xd6cc32(0x17c)](_0x2e5098=>_0x2e5098['setCodProducto']==_0x5d8a62),_0x3e9a86=getLastCode(products);_0xa49c41?ntfShow(_0xd6cc32(0x1c4)+_0x3e9a86,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x104ae1){var _0x58abfc=_0x9950f4;currentImages[_0x104ae1]=null;var _0x45fb35=imgC[_0x58abfc(0x160)]('[data-idx=\x22'+_0x104ae1+'\x22]');_0x45fb35[_0x58abfc(0xdc)]='';var _0x9e7bca=document[_0x58abfc(0x122)](_0x58abfc(0xc6));_0x9e7bca[_0x58abfc(0x199)]=_0x58abfc(0x20a),_0x9e7bca['accept']=_0x58abfc(0x150),_0x9e7bca[_0x58abfc(0x1da)][_0x58abfc(0x1c1)]=_0x58abfc(0xd9);var _0x4d0af6=document[_0x58abfc(0x122)](_0x58abfc(0x134));_0x4d0af6['textContent']='+',_0x45fb35[_0x58abfc(0x1b6)](_0x9e7bca),_0x45fb35[_0x58abfc(0x1b6)](_0x4d0af6),_0x45fb35[_0x58abfc(0x181)](_0x58abfc(0xcc),function(){var _0x64441e=_0x58abfc;_0x9e7bca[_0x64441e(0xcc)]();}),baseItem[_0x58abfc(0x1a3)]=currentImages['filter'](function(_0x16a40a){return _0x16a40a;});}function addUnit(_0x5da03a,_0x43b7b8,_0x2bc704,_0x5e1ebd,_0x4f27e3,_0x6b0618,_0xe82963){var _0x5eabfe=_0x9950f4,_0x4fdbb3=uniqueValuesArray('setUnitCode',_0x5eabfe(0x141),myCompany[_0x5eabfe(0xf9)]);_0x5da03a=_0x5da03a||'',_0x43b7b8=_0x43b7b8||_0x4fdbb3[0x3a]&&_0x4fdbb3[0x3a][_0x5eabfe(0x1e7)]||'',_0x2bc704=_0x2bc704!==undefined?_0x2bc704:0x1,_0x5e1ebd=!!_0x5e1ebd,_0x4f27e3=_0x4f27e3||'',_0x6b0618=_0x6b0618||'';var _0x256548=unitCount++,_0x81476b=document['createElement'](_0x5eabfe(0x161));_0x81476b[_0x5eabfe(0x192)][_0x5eabfe(0xc3)]=_0x256548,_0x81476b[_0x5eabfe(0x192)]['default']=_0x5e1ebd,_0x81476b['innerHTML']=_0x5eabfe(0x154)+_0x256548+'\x22\x20value=\x22'+_0x5da03a+_0x5eabfe(0x1fb)+_0x256548+_0x5eabfe(0x12a)+_0x256548+_0x5eabfe(0x146)+_0x2bc704+'\x22\x20'+(_0x5e1ebd?_0x5eabfe(0x1a0):'')+_0x5eabfe(0x1e3)+_0x256548+_0x5eabfe(0x146)+_0x4f27e3+_0x5eabfe(0x143)+_0x256548+_0x5eabfe(0x146)+_0x6b0618+_0x5eabfe(0x196)+(_0x5e1ebd?_0x5eabfe(0x184):'')+_0x5eabfe(0x1eb),fillSelect(_0x81476b[_0x5eabfe(0x160)](_0x5eabfe(0xdd)),_0x4fdbb3,_0x5eabfe(0x1e7),_0x5eabfe(0x170)),_0x81476b['querySelector'](_0x5eabfe(0xdd))[_0x5eabfe(0x1e1)]=_0x43b7b8,['unitAlias',_0x5eabfe(0x144),_0x5eabfe(0x17b),'priceInput',_0x5eabfe(0x1a2)][_0x5eabfe(0xee)](function(_0x4e6612){var _0x547bc=_0x5eabfe;_0x81476b[_0x547bc(0x160)]('.'+_0x4e6612)[_0x547bc(0x181)](_0x547bc(0xc6),function(){var _0x11fea3=_0x547bc,_0x532f61=_0xe82963?+_0xe82963['id'][_0x11fea3(0xc0)]('_')[0x1]:null;if(_0xe82963)updateVariantUnits(_0x532f61);else updateUnitsArray();});}),_0x81476b[_0x5eabfe(0x160)](_0x5eabfe(0x16a))[_0x5eabfe(0x181)]('click',function(){var _0x195649=_0x5eabfe;_0x81476b[_0x195649(0x191)]();var _0x3ca132=_0xe82963?+_0xe82963['id'][_0x195649(0xc0)]('_')[0x1]:null;if(_0xe82963)updateVariantUnits(_0x3ca132);else updateUnitsArray();});var _0x1e2862=_0xe82963||document['getElementById'](_0x5eabfe(0x1e0));_0x1e2862[_0x5eabfe(0x1b6)](_0x81476b);}function containerIdx(_0x17620e){var _0x3a78c8=_0x9950f4;return+_0x17620e['id'][_0x3a78c8(0xc0)]('_')[0x1];}function updateUnitsArray(){var _0x3ea997=_0x9950f4,_0x5f5423=[],_0x406919=Array[_0x3ea997(0x10d)](document[_0x3ea997(0x179)]('#newItem_units_container\x20>\x20div')),_0x8dd7fe=_0x406919[_0x3ea997(0x19e)](_0x51cc26=>_0x51cc26['dataset']['default']===_0x3ea997(0x18e)),_0x46dea2=_0x8dd7fe?+_0x8dd7fe[_0x3ea997(0x160)](_0x3ea997(0x137))['value']:0x1;_0x406919[_0x3ea997(0xee)](function(_0xf7f99d){var _0x4ef926=_0x3ea997,_0x24410b=+_0xf7f99d[_0x4ef926(0x160)](_0x4ef926(0x137))['value']||0x0,_0x3a6e47=+_0xf7f99d[_0x4ef926(0x160)](_0x4ef926(0x1cc))[_0x4ef926(0x1e1)]||0x0,_0x113d0c=+_0xf7f99d['querySelector'](_0x4ef926(0x164))[_0x4ef926(0x1e1)]||0x0;_0x5f5423[_0x4ef926(0x13e)]({'setAlias':_0xf7f99d[_0x4ef926(0x160)]('.unitAlias')[_0x4ef926(0x1e1)][_0x4ef926(0x17d)](),'setUnitCode':_0xf7f99d[_0x4ef926(0x160)]('.unitSelect')[_0x4ef926(0x1e1)],'setEquivalence':_0x24410b,'setFactor':_0xf7f99d['dataset'][_0x4ef926(0x15b)]==='true'?0x1:_0x24410b==_0x46dea2?0x1:_0x24410b<_0x46dea2?_0x46dea2/_0x24410b:_0x24410b/_0x46dea2,'setPrice':_0x3a6e47,'setCost':_0x113d0c,'setDefault':_0xf7f99d[_0x4ef926(0x192)][_0x4ef926(0x15b)]==='true'?0x1:0x0});}),baseItem[_0x3ea997(0x147)]=_0x5f5423;}function updateBranches(){var _0x3be417=_0x9950f4,_0x1c7a0e=[];document['querySelectorAll'](_0x3be417(0x1fc))[_0x3be417(0xee)](function(_0x3a3cf9){var _0x471c9b=_0x3be417,_0xdbeada=_0x3a3cf9[_0x471c9b(0x160)](_0x471c9b(0x182));if(_0xdbeada[_0x471c9b(0x1b1)]){var _0x2fa13=+_0xdbeada[_0x471c9b(0x192)]['id'],_0x50e654=+_0x3a3cf9[_0x471c9b(0x160)](_0x471c9b(0x1ab))[_0x471c9b(0x1e1)],_0x572b86=+_0x3a3cf9[_0x471c9b(0x160)](_0x471c9b(0xbc))[_0x471c9b(0x1e1)];_0x1c7a0e['push']({'setWarehouseCode':_0x2fa13,'setStockInitial':_0x50e654,'setStockMinimum':_0x572b86});}}),baseItem['setItemWarehouses']=_0x1c7a0e;}document[_0x9950f4(0x100)](_0x9950f4(0x157))[_0x9950f4(0x181)]('click',function(){var _0x2e5eef=_0x9950f4,_0x21eaaf=Date[_0x2e5eef(0xd3)](),_0x4d06b0=document[_0x2e5eef(0x122)](_0x2e5eef(0x161));_0x4d06b0[_0x2e5eef(0x192)][_0x2e5eef(0xc3)]=_0x21eaaf,_0x4d06b0[_0x2e5eef(0xdc)]=_0x2e5eef(0x1e2)+_0x21eaaf+_0x2e5eef(0x12b)+_0x21eaaf+_0x2e5eef(0x1b5),prodC[_0x2e5eef(0x1b6)](_0x4d06b0),initProdSearch(_0x4d06b0[_0x2e5eef(0x160)](_0x2e5eef(0x121))),_0x4d06b0[_0x2e5eef(0x160)]('.removeProd')[_0x2e5eef(0x181)](_0x2e5eef(0xcc),function(){var _0x66ee29=_0x2e5eef;_0x4d06b0[_0x66ee29(0x191)](),updateProdItems();}),_0x4d06b0['querySelector'](_0x2e5eef(0x20e))[_0x2e5eef(0x181)](_0x2e5eef(0xc6),updateProdItems),document[_0x2e5eef(0x100)](_0x2e5eef(0x1ae))[_0x2e5eef(0x15e)][_0x2e5eef(0x13c)](_0x2e5eef(0x198),!![]),document[_0x2e5eef(0x100)](_0x2e5eef(0x1ae))['classList'][_0x2e5eef(0x13c)](_0x2e5eef(0xfb),![]);});function initProdSearch(_0x392220,_0x3595b9){var _0x304772=_0x9950f4,_0x1a8cc5=_0x392220[_0x304772(0x160)]('.prodInput'),_0x407b7d=_0x392220[_0x304772(0x160)](_0x304772(0xd0)),_0x3c9c34=_0x3595b9||null;if(_0x3595b9)_0x1a8cc5['value']=_0x3595b9[_0x304772(0x1f1)];_0x1a8cc5[_0x304772(0x181)]('input',function(){var _0x558b5b=_0x304772,_0xd17361=_0x1a8cc5[_0x558b5b(0x1e1)][_0x558b5b(0x158)]()[_0x558b5b(0x17d)]();_0x407b7d[_0x558b5b(0xdc)]='';if(!_0xd17361)return;products[_0x558b5b(0xd2)](_0x956934=>_0x956934[_0x558b5b(0xea)][_0x558b5b(0x158)]()['includes'](_0xd17361))[_0x558b5b(0xbd)](0x0,0x14)[_0x558b5b(0xee)](function(_0x4dbf9d){var _0x221cde=_0x558b5b,_0x1a5171=document[_0x221cde(0x122)](_0x221cde(0x161));_0x1a5171[_0x221cde(0xe7)]=_0x4dbf9d[_0x221cde(0xea)],_0x1a5171[_0x221cde(0x192)]['id']=_0x4dbf9d['id'],_0x1a5171[_0x221cde(0x192)][_0x221cde(0x1f1)]=_0x4dbf9d['setDescripcion'],_0x407b7d[_0x221cde(0x1b6)](_0x1a5171),_0x1a5171[_0x221cde(0x181)]('click',function(){var _0x33c387=_0x221cde;_0x3c9c34={'id':_0x4dbf9d['id'],'name':_0x4dbf9d[_0x33c387(0xea)]},_0x1a8cc5[_0x33c387(0x1e1)]=_0x4dbf9d[_0x33c387(0xea)],_0x407b7d[_0x33c387(0xdc)]='';var _0x15e71e=_0x392220['closest']('[id$=\x22_comp_container\x22]');if(_0x15e71e){var _0x4ae206=+_0x15e71e['id'][_0x33c387(0xc0)]('_')[0x1];updateVariantComponents(_0x4ae206);}else updateProdItems();});});}),_0x1a8cc5['addEventListener'](_0x304772(0x17a),function(){var _0x237924=_0x304772;_0x407b7d['classList']['remove'](_0x237924(0xfb));}),document[_0x304772(0x181)](_0x304772(0xcc),function(_0x5805f6){var _0x330960=_0x304772;if(!_0x392220[_0x330960(0xc1)](_0x5805f6[_0x330960(0xe6)]))_0x407b7d['classList'][_0x330960(0x10a)](_0x330960(0xfb));}),Object[_0x304772(0xfd)](_0x392220,_0x304772(0x187),{'get':()=>_0x3c9c34});}function updateProdItems(){var _0x490dcc=_0x9950f4,_0x153c38=[];Array[_0x490dcc(0x10d)](prodC[_0x490dcc(0x15a)])[_0x490dcc(0xee)](function(_0x1a5497){var _0x13af5e=_0x490dcc,_0xf0d59e=_0x1a5497[_0x13af5e(0x160)](_0x13af5e(0x121));if(!_0xf0d59e)return;var _0x187d05=_0x1a5497[_0x13af5e(0x160)](_0x13af5e(0x20e)),_0xb9be67=_0xf0d59e['selectedItem'];_0xb9be67&&_0x153c38[_0x13af5e(0x13e)]({'setItemId':_0xb9be67['id'],'setDescripcion':_0xb9be67['name'],'setCantidad':+_0x187d05['value']});}),baseItem[_0x490dcc(0x105)]=_0x153c38,_0x153c38[_0x490dcc(0x155)]===0x0&&(document[_0x490dcc(0x100)](_0x490dcc(0x1ae))[_0x490dcc(0x15e)][_0x490dcc(0x13c)](_0x490dcc(0x198),![]),document[_0x490dcc(0x100)](_0x490dcc(0x1ae))[_0x490dcc(0x15e)]['toggle'](_0x490dcc(0xfb),!![]));}document[_0x9950f4(0x100)](_0x9950f4(0x11f))[_0x9950f4(0x181)]('click',function(){var _0x381124=_0x9950f4,_0x14e4fd=vgCount++,_0x4f1852=document[_0x381124(0x122)]('div');_0x4f1852[_0x381124(0x192)]['idx']=_0x14e4fd,_0x4f1852['innerHTML']=_0x381124(0xc4)+_0x14e4fd+'\x22>'+_0x381124(0x1a7)+_0x14e4fd+'\x22>'+_0x381124(0x1ff),vgC['appendChild'](_0x4f1852),_0x4f1852[_0x381124(0x160)](_0x381124(0x1b0))[_0x381124(0x181)](_0x381124(0xce),generateVariants),_0x4f1852[_0x381124(0x160)](_0x381124(0x14a))[_0x381124(0x181)](_0x381124(0xce),generateVariants),_0x4f1852[_0x381124(0x160)](_0x381124(0x11e))[_0x381124(0x181)](_0x381124(0xcc),function(){var _0x4e9a5f=_0x381124;_0x4f1852[_0x4e9a5f(0x191)](),generateVariants();});});function generateVariants(){var _0x4de0af=_0x9950f4,_0x212add=[];vgC['querySelectorAll'](_0x4de0af(0x161))[_0x4de0af(0xee)](function(_0x228762){var _0x360169=_0x4de0af,_0x140a44=_0x228762['querySelector']('.vgName')[_0x360169(0x1e1)][_0x360169(0x17d)](),_0x53bf93=_0x228762['querySelector']('.vgVals')[_0x360169(0x1e1)][_0x360169(0xc0)](',')[_0x360169(0x1c7)](_0x2ab294=>_0x2ab294[_0x360169(0x17d)]())[_0x360169(0xd2)](_0x21c796=>_0x21c796);if(_0x140a44&&_0x53bf93[_0x360169(0x155)])_0x212add[_0x360169(0x13e)]({'name':_0x140a44,'vals':_0x53bf93});});var _0x5bbb37=[{}];_0x212add[_0x4de0af(0xee)](function(_0x42b022){var _0x24e3ac=_0x4de0af;_0x5bbb37=_0x5bbb37[_0x24e3ac(0x178)](function(_0x2f8a46){var _0x326473=_0x24e3ac;return _0x42b022['vals'][_0x326473(0x1c7)](function(_0x2f0e2c){var _0x541734=_0x326473,_0x19a0f8=Object[_0x541734(0xc5)]({},_0x2f8a46);return _0x19a0f8[_0x42b022['name']]=_0x2f0e2c,_0x19a0f8;});});}),newItems=[],varContainer[_0x4de0af(0xdc)]='',_0x5bbb37[_0x4de0af(0xee)](function(_0x58a596,_0x4d2d80){var _0x1776f6=_0x4de0af,_0x13c275=JSON[_0x1776f6(0x138)](JSON[_0x1776f6(0x1e6)](baseItem));_0x13c275['setItemVariantValues']=_0x58a596,_0x13c275[_0x1776f6(0x13b)]=baseItem[_0x1776f6(0x13d)]+'\x20'+Object[_0x1776f6(0xf0)](_0x58a596)[_0x1776f6(0x1c7)](_0x2ab43b=>_0x2ab43b[0x0]+'\x20'+_0x2ab43b[0x1])[_0x1776f6(0x1d6)]('\x20'),newItems[_0x1776f6(0x13e)](_0x13c275);var _0x4da719=document[_0x1776f6(0x122)](_0x1776f6(0x161));_0x4da719['classList']['add'](_0x1776f6(0xf1)),_0x4da719[_0x1776f6(0x192)][_0x1776f6(0xc3)]=_0x4d2d80,_0x4da719[_0x1776f6(0xdc)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x13c275['setItemVariantName']+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x13c275['setItemCode']+_0x1776f6(0xd1)+_0x13c275[_0x1776f6(0xcb)]+_0x1776f6(0x18d)+_0x13c275['setItemDateExpiry']+_0x1776f6(0x203)+_0x4d2d80+_0x1776f6(0x1d5)+_0x4d2d80+_0x1776f6(0x1b4)+_0x4d2d80+_0x1776f6(0x102),varContainer[_0x1776f6(0x1b6)](_0x4da719),_0x4da719['querySelector'](_0x1776f6(0x116))[_0x1776f6(0x181)](_0x1776f6(0xc6),_0x410bbe=>newItems[_0x4d2d80][_0x1776f6(0x1d0)]=_0x410bbe['target'][_0x1776f6(0x1e1)]),_0x4da719[_0x1776f6(0x160)](_0x1776f6(0x115))[_0x1776f6(0x181)](_0x1776f6(0xc6),_0x4aa34e=>newItems[_0x4d2d80][_0x1776f6(0xcb)]=_0x4aa34e['target'][_0x1776f6(0x1e1)]),_0x4da719[_0x1776f6(0x160)](_0x1776f6(0xcf))['addEventListener'](_0x1776f6(0x18c),_0x35984b=>newItems[_0x4d2d80]['setItemDateExpiry']=_0x35984b[_0x1776f6(0xe6)][_0x1776f6(0x1e1)]),initVariantUnits(_0x4d2d80),initVariantComponents(_0x4d2d80),initVariantBranches(_0x4d2d80),_0x4da719[_0x1776f6(0x160)]('.removeVariant')['addEventListener'](_0x1776f6(0xcc),function(){var _0x50d35e=_0x1776f6,_0x5ea8cf=+_0x4da719[_0x50d35e(0x192)]['idx'];newItems[_0x50d35e(0x1de)](_0x5ea8cf,0x1),_0x4da719[_0x50d35e(0x191)](),document['querySelectorAll'](_0x50d35e(0x1ed))[_0x50d35e(0xee)](function(_0x30775f,_0x582dc0){var _0x2fe523=_0x50d35e;_0x30775f['dataset'][_0x2fe523(0xc3)]=_0x582dc0;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x5edb7e){var _0x5d2341=_0x9950f4,_0x1e78e6=document[_0x5d2341(0x100)](_0x5d2341(0x16b)+_0x5edb7e+_0x5d2341(0x169)),_0x15b7a9=[];Array[_0x5d2341(0x10d)](_0x1e78e6['children'])['forEach'](function(_0x323e09){var _0x3b1ea6=_0x5d2341,_0x575977=+_0x323e09['querySelector'](_0x3b1ea6(0x137))[_0x3b1ea6(0x1e1)]||0x0,_0x4f2277=_0x323e09[_0x3b1ea6(0x160)]('.unitAlias')[_0x3b1ea6(0x1e1)][_0x3b1ea6(0x17d)](),_0x1cc7da=_0x323e09['querySelector'](_0x3b1ea6(0xdd))[_0x3b1ea6(0x1e1)],_0x19c07a=+_0x323e09['querySelector']('.priceInput')['value']||0x0,_0x1b668d=+_0x323e09[_0x3b1ea6(0x160)](_0x3b1ea6(0x164))[_0x3b1ea6(0x1e1)]||0x0,_0x54e45a=_0x323e09[_0x3b1ea6(0x192)][_0x3b1ea6(0x15b)]===_0x3b1ea6(0x18e),_0x52230c=+_0x1e78e6[_0x3b1ea6(0x160)](_0x3b1ea6(0x18a))[_0x3b1ea6(0x1e1)]||0x1,_0x73cb20=_0x54e45a?0x1:_0x575977==_0x52230c?0x1:_0x575977<_0x52230c?_0x52230c/_0x575977:_0x575977/_0x52230c;_0x15b7a9[_0x3b1ea6(0x13e)]({'setAlias':_0x4f2277,'setUnitCode':_0x1cc7da,'setEquivalence':_0x575977,'setFactor':_0x73cb20,'setPrice':_0x19c07a,'setCost':_0x1b668d,'setDefault':_0x54e45a?0x1:0x0});}),newItems[_0x5edb7e][_0x5d2341(0x147)]=_0x15b7a9;}function initVariantUnits(_0x3c6ab8){var _0x4e9a43=_0x9950f4,_0x51f174=document[_0x4e9a43(0x100)](_0x4e9a43(0x16b)+_0x3c6ab8+_0x4e9a43(0x169));_0x51f174[_0x4e9a43(0xdc)]='',newItems[_0x3c6ab8][_0x4e9a43(0x147)]['forEach'](function(_0x5b26a2){var _0x542297=_0x4e9a43;addUnit(_0x5b26a2['setAlias'],_0x5b26a2[_0x542297(0x140)],_0x5b26a2[_0x542297(0x201)],_0x5b26a2[_0x542297(0x1be)],_0x5b26a2[_0x542297(0x1d7)],_0x5b26a2[_0x542297(0x111)],_0x51f174);}),_0x51f174[_0x4e9a43(0xef)][_0x4e9a43(0x160)](_0x4e9a43(0xde))[_0x4e9a43(0x181)]('click',function(){addUnit('','',0x1,![],'','',_0x51f174),updateVariantUnits(_0x3c6ab8);});}function updateVariantUnits(_0x19f77c){var _0x188f9b=_0x9950f4,_0x41be29=document[_0x188f9b(0x100)](_0x188f9b(0x16b)+_0x19f77c+_0x188f9b(0x169)),_0x22fc93=_0x41be29[_0x188f9b(0x160)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x4a44dd=_0x22fc93?+_0x22fc93[_0x188f9b(0x1e1)]:0x1,_0x31e7cb=Array[_0x188f9b(0x10d)](_0x41be29[_0x188f9b(0x15a)])[_0x188f9b(0x1c7)](function(_0x339a17){var _0x364fda=_0x188f9b,_0x25f04d=_0x339a17[_0x364fda(0x160)](_0x364fda(0x1f8))[_0x364fda(0x1e1)][_0x364fda(0x17d)](),_0x45c063=_0x339a17[_0x364fda(0x160)](_0x364fda(0xdd))[_0x364fda(0x1e1)],_0x5e29cd=+_0x339a17[_0x364fda(0x160)](_0x364fda(0x137))['value']||0x0,_0x227369=+_0x339a17[_0x364fda(0x160)]('.priceInput')[_0x364fda(0x1e1)]||0x0,_0x55ecac=+_0x339a17[_0x364fda(0x160)](_0x364fda(0x164))[_0x364fda(0x1e1)]||0x0,_0x14cef6=_0x339a17[_0x364fda(0x192)][_0x364fda(0x15b)]===_0x364fda(0x18e);return{'setAlias':_0x25f04d,'setUnitCode':_0x45c063,'setEquivalence':_0x5e29cd,'setFactor':_0x14cef6?0x1:_0x5e29cd==_0x4a44dd?0x1:_0x5e29cd<_0x4a44dd?_0x4a44dd/_0x5e29cd:_0x5e29cd/_0x4a44dd,'setPrice':_0x227369,'setCost':_0x55ecac,'setDefault':_0x14cef6?0x1:0x0};});newItems[_0x19f77c][_0x188f9b(0x147)]=_0x31e7cb;}function initVariantComponents(_0x708322){var _0x456f75=_0x9950f4,_0x3c6a2e=document['getElementById'](_0x456f75(0x16b)+_0x708322+_0x456f75(0x1bc));_0x3c6a2e[_0x456f75(0xdc)]='',newItems[_0x708322][_0x456f75(0x105)][_0x456f75(0xee)](function(_0x1f398a){var _0x1a686a=_0x456f75,_0x548b59=document['createElement'](_0x1a686a(0x161)),_0x400a5f=Date['now']();_0x548b59[_0x1a686a(0x192)][_0x1a686a(0xc3)]=_0x400a5f,_0x548b59['innerHTML']=_0x1a686a(0x205)+_0x400a5f+_0x1a686a(0x1d4)+_0x1f398a[_0x1a686a(0x135)]+_0x1a686a(0xe9),_0x3c6a2e[_0x1a686a(0x1b6)](_0x548b59),initProdSearch(_0x548b59[_0x1a686a(0x160)](_0x1a686a(0x121)),{'id':_0x1f398a[_0x1a686a(0x11d)],'name':_0x1f398a[_0x1a686a(0xea)]}),_0x548b59[_0x1a686a(0x160)]('.prodQty')[_0x1a686a(0x181)]('input',function(){updateVariantComponents(_0x708322);}),_0x548b59[_0x1a686a(0x160)](_0x1a686a(0x1f4))[_0x1a686a(0x181)](_0x1a686a(0xcc),function(){var _0x119c99=_0x1a686a;_0x548b59[_0x119c99(0x191)](),updateVariantComponents(_0x708322);});}),_0x3c6a2e[_0x456f75(0xef)][_0x456f75(0x160)](_0x456f75(0x1ba))[_0x456f75(0x181)]('click',function(){var _0x301f52=_0x456f75,_0x4f3b1c=document[_0x301f52(0x122)](_0x301f52(0x161)),_0x1e06b2=Date['now']();_0x4f3b1c['dataset'][_0x301f52(0xc3)]=_0x1e06b2,_0x4f3b1c[_0x301f52(0xdc)]=_0x301f52(0x205)+_0x1e06b2+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3c6a2e[_0x301f52(0x1b6)](_0x4f3b1c),initProdSearch(_0x4f3b1c['querySelector'](_0x301f52(0x121))),_0x4f3b1c[_0x301f52(0x160)](_0x301f52(0x20e))[_0x301f52(0x181)](_0x301f52(0xc6),function(){updateVariantComponents(_0x708322);}),_0x4f3b1c[_0x301f52(0x160)](_0x301f52(0x1f4))[_0x301f52(0x181)](_0x301f52(0xcc),function(){var _0x516ae6=_0x301f52;_0x4f3b1c[_0x516ae6(0x191)](),updateVariantComponents(_0x708322);});});}function updateVariantComponents(_0x35dbea){var _0x559f2=_0x9950f4,_0x44dc16=document['getElementById']('variant_'+_0x35dbea+_0x559f2(0x1bc)),_0x235247=Array[_0x559f2(0x10d)](_0x44dc16[_0x559f2(0x15a)])['map'](function(_0x541939){var _0x2675b1=_0x559f2,_0x23a86c=_0x541939[_0x2675b1(0x160)](_0x2675b1(0x121)),_0x61a494=_0x23a86c['selectedItem'],_0x231827=+_0x541939[_0x2675b1(0x160)](_0x2675b1(0x20e))[_0x2675b1(0x1e1)]||0x0;return _0x61a494?{'setItemId':_0x61a494['id'],'setDescripcion':_0x61a494[_0x2675b1(0x1f1)],'setCantidad':_0x231827}:null;})[_0x559f2(0xd2)](_0x47bad7=>_0x47bad7);newItems[_0x35dbea][_0x559f2(0x105)]=_0x235247;}function initVariantBranches(_0x4d1a8e){var _0x5dff5d=_0x9950f4;const _0x56b314=getAllWarehouses();var _0x1c74a8=document[_0x5dff5d(0x100)](_0x5dff5d(0x16b)+_0x4d1a8e+'_branch_container');_0x1c74a8['innerHTML']='',newItems[_0x4d1a8e][_0x5dff5d(0x1f2)][_0x5dff5d(0xee)](function(_0x1da198){var _0x431831=_0x5dff5d,_0x48da94=_0x56b314['find'](_0x57c311=>_0x57c311['setWarehouseId']==_0x1da198[_0x431831(0x109)]),_0xbe71=document[_0x431831(0x122)](_0x431831(0x161));_0xbe71[_0x431831(0xdc)]=_0x431831(0x206)+_0x1da198[_0x431831(0x109)]+_0x431831(0x1af)+_0x48da94[_0x431831(0x133)]+_0x431831(0x1c9)+_0x1da198['setWarehouseCode']+'\x22\x20value=\x22'+_0x1da198[_0x431831(0x1b7)]+_0x431831(0xf4)+_0x1da198[_0x431831(0x109)]+_0x431831(0x146)+_0x1da198[_0x431831(0x1f3)]+'\x22>',_0x1c74a8[_0x431831(0x1b6)](_0xbe71),_0xbe71[_0x431831(0x179)](_0x431831(0xc6))[_0x431831(0xee)](function(_0x561394){var _0x5edc66=_0x431831;_0x561394['addEventListener'](_0x5edc66(0xc6),function(){updateVariantBranches(_0x4d1a8e);});});}),_0x56b314[_0x5dff5d(0xee)](function(_0x5c4c74){var _0x38612e=_0x5dff5d;if(!newItems[_0x4d1a8e][_0x38612e(0x1f2)][_0x38612e(0x19e)](_0x5e7e33=>_0x5e7e33['setWarehouseCode']===_0x5c4c74[_0x38612e(0x11b)])){var _0x32219b=document[_0x38612e(0x122)](_0x38612e(0x161));_0x32219b[_0x38612e(0xdc)]=_0x38612e(0x206)+_0x5c4c74[_0x38612e(0x11b)]+_0x38612e(0x175)+_0x5c4c74[_0x38612e(0x133)]+_0x38612e(0x1c9)+_0x5c4c74[_0x38612e(0x11b)]+_0x38612e(0xf4)+_0x5c4c74[_0x38612e(0x11b)]+'\x22>',_0x1c74a8[_0x38612e(0x1b6)](_0x32219b),_0x32219b['querySelectorAll'](_0x38612e(0xc6))[_0x38612e(0xee)](function(_0x1fb8a0){var _0x4eb146=_0x38612e;_0x1fb8a0[_0x4eb146(0x181)](_0x4eb146(0xc6),function(){updateVariantBranches(_0x4d1a8e);});});}});}function updateVariantBranches(_0x3b53a4){var _0x144294=_0x9950f4,_0x107478=document[_0x144294(0x100)](_0x144294(0x16b)+_0x3b53a4+_0x144294(0xff)),_0x58d60f=[];_0x107478[_0x144294(0x179)](_0x144294(0x161))[_0x144294(0xee)](function(_0x43a346){var _0x806ce6=_0x144294,_0x21f3c5=_0x43a346['querySelector'](_0x806ce6(0x182));if(_0x21f3c5[_0x806ce6(0x1b1)]){var _0x4ace91=+_0x21f3c5[_0x806ce6(0x192)]['id'],_0x14da96=+_0x43a346[_0x806ce6(0x160)]('.branchInit')[_0x806ce6(0x1e1)]||0x0,_0xfb5b1d=+_0x43a346[_0x806ce6(0x160)](_0x806ce6(0xbc))['value']||0x0;_0x58d60f['push']({'setWarehouseCode':_0x4ace91,'setStockInitial':_0x14da96,'setStockMinimum':_0xfb5b1d});}}),newItems[_0x3b53a4][_0x144294(0x1f2)]=_0x58d60f;}async function storeOfflineProduct(_0x3bfed8){var _0x319d02=_0x9950f4;try{const _0x24a19c=await createCartStore(''),_0x467d9c=_0x24a19c[_0x319d02(0xc2)](_0x319d02(0x16e),_0x319d02(0x107)),_0x5c7731=_0x467d9c[_0x319d02(0x1e8)](_0x319d02(0x16e));_0x5c7731[_0x319d02(0x10a)](_0x3bfed8),_0x467d9c[_0x319d02(0x1a5)]=()=>{var _0x2e5d27=_0x319d02;console[_0x2e5d27(0x1aa)](_0x2e5d27(0x189));},_0x467d9c['onerror']=_0xbddd5=>{var _0x240aa3=_0x319d02;console[_0x240aa3(0x171)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0xbddd5[_0x240aa3(0xe6)][_0x240aa3(0x171)]);};}catch(_0x34bf1c){console['error'](_0x319d02(0x166),_0x34bf1c);}}document['getElementById'](_0x9950f4(0x14e))[_0x9950f4(0x181)](_0x9950f4(0xcc),async function(_0xf434ea){var _0x583c28=_0x9950f4;_0xf434ea[_0x583c28(0x14c)]();const _0x26e1cd=document['getElementById'](_0x583c28(0x1cd)),_0x3db0a0=document[_0x583c28(0x100)]('setItemFree')['value'];if(!_0x26e1cd[_0x583c28(0x1e1)][_0x583c28(0x17d)]()&&_0x3db0a0==0x0){ntfShow(_0x583c28(0x1fa),0x2,0x1);return;}_0x3db0a0==0x1&&(_0x26e1cd[_0x583c28(0x1e1)]='',baseItem[_0x583c28(0x1d0)]='');const _0xa35952=document[_0x583c28(0x100)](_0x583c28(0x129));if(!_0xa35952[_0x583c28(0x1e1)][_0x583c28(0x17d)]()){ntfShow(_0x583c28(0x12d),0x2,0x1);return;}const _0x1259d7=document['getElementById']('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x53fe77=document[_0x583c28(0x100)]('windowId')[_0x583c28(0x1e1)],_0x26fca7=window_options[_0x53fe77][_0x583c28(0x1c2)],_0x39d889=[];newItems[_0x583c28(0xee)](_0xd280f2=>{var _0x5747af=_0x583c28;const _0x1eb400=generateNumericUniqId();_0xd280f2[_0x5747af(0x147)]['forEach'](_0x5a5a0b=>{var _0x2d158d=_0x5747af;const _0x661ca8=generateNumericUniqId();_0x5a5a0b[_0x2d158d(0xe3)]=_0x661ca8;const _0x15d42d={'id':_0x661ca8,'setIdProducto':_0x1eb400,'setCodProducto':_0xd280f2['setItemCode'],'setDescripcion':_0xd280f2['setItemName'],'setItemDescription':_0xd280f2['setItemDescription'],'setBatchExpirationDate':_0xd280f2[_0x2d158d(0xf5)],'setBatchName':'','setCategoria':_0xd280f2[_0x2d158d(0x200)][0x0]||'','setMarca':_0xd280f2[_0x2d158d(0x117)][0x0]||'','setConversionFactor':parseFloat(_0x5a5a0b[_0x2d158d(0x1bd)]),'setImages':[],'setImg':_0x2d158d(0x12e),'setInventariable':0x1,'setItemIsBought':_0xd280f2[_0x2d158d(0xeb)]?0x1:0x0,'setItemIsSold':_0xd280f2[_0x2d158d(0x13f)]?0x1:0x0,'setPorcentajeIgv':_0xd280f2[_0x2d158d(0xdf)],'setPrinters':[],'setTaxId':_0xd280f2['setItemTaxId'],'setTipAfeIgv':_0xd280f2['setItemTaxCode'],'setUnidad':_0x5a5a0b[_0x2d158d(0x140)],'setUnidadCodigo':_0x5a5a0b[_0x2d158d(0x140)],'setItemUnitAlias':_0x5a5a0b[_0x2d158d(0x1f0)],'currency_data':[{'currency':_0x26fca7,'setMtoPrecioCostoUnitario':_0x5a5a0b[_0x2d158d(0x111)],'setMtoPrecioUnitario':_0x5a5a0b[_0x2d158d(0x1d7)],'setPriceLists':[]}],'sucursales':_0xd280f2[_0x2d158d(0x1f2)]['map'](_0x34df6e=>({'setIdSucursal':_0x34df6e[_0x2d158d(0x109)],'setSucursalStock':_0x34df6e['setStockInitial'][_0x2d158d(0xc7)](),'setWarehouseStockMin':_0x34df6e[_0x2d158d(0x1f3)][_0x2d158d(0xc7)]()})),'setItemFree':_0xd280f2[_0x2d158d(0x127)],'setItemBarCode':_0xd280f2[_0x2d158d(0xcb)],'setItemBrands':_0xd280f2[_0x2d158d(0x117)][_0x2d158d(0xbd)](),'setItemCategories':_0xd280f2[_0x2d158d(0x200)][_0x2d158d(0xbd)](),'setItemComponents':_0xd280f2[_0x2d158d(0x105)][_0x2d158d(0x1c7)](_0x3b2202=>({..._0x3b2202})),'setItemImages':_0xd280f2['setItemImages']['slice'](),'setItemVariantName':_0xd280f2[_0x2d158d(0x13b)],'setItemVariantValues':{..._0xd280f2['setItemVariantValues']}};_0x39d889[_0x2d158d(0x13e)](_0x15d42d),(_0x1259d7[_0x2d158d(0x1b1)]||_0x3db0a0==0x1)&&addToCart(_0x15d42d);});}),console[_0x583c28(0x1aa)](_0x583c28(0x1d3),newItems),await finalizeImport(_0x39d889,newItems,![]);}),[_0x9950f4(0xbf),_0x9950f4(0xed)][_0x9950f4(0xee)](_0x57014d=>dropZone[_0x9950f4(0x181)](_0x57014d,_0x28b5a9=>{var _0x31c6e6=_0x9950f4;_0x28b5a9[_0x31c6e6(0x14c)](),dropZone['classList']['add'](_0x31c6e6(0xed));})),[_0x9950f4(0x190),_0x9950f4(0x172)][_0x9950f4(0xee)](_0x539239=>dropZone[_0x9950f4(0x181)](_0x539239,_0x3e657b=>{var _0x28648b=_0x9950f4;_0x3e657b[_0x28648b(0x14c)](),dropZone['classList'][_0x28648b(0x191)]('dragover');})),dropZone[_0x9950f4(0x181)](_0x9950f4(0x172),_0x1dbaa0=>{var _0x5abbbf=_0x9950f4;const _0x1325d5=_0x1dbaa0[_0x5abbbf(0x167)]['files'][0x0];if(!_0x1325d5)return;fileInput['files']=_0x1dbaa0['dataTransfer'][_0x5abbbf(0x1d1)],dropZone['querySelector'](_0x5abbbf(0x1ef))[_0x5abbbf(0xe7)]=_0x1325d5[_0x5abbbf(0x1f1)],removeBtn[_0x5abbbf(0xd6)]=![],fileInput['dispatchEvent'](new Event(_0x5abbbf(0x18c)));}),removeBtn['addEventListener'](_0x9950f4(0xcc),()=>{var _0x4f1a7d=_0x9950f4;fileInput['value']='',dropZone['querySelector'](_0x4f1a7d(0x1ef))[_0x4f1a7d(0xe7)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x4f1a7d(0xd6)]=!![],progressBar[_0x4f1a7d(0x1da)]['display']='none',statusDiv[_0x4f1a7d(0xe7)]='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x9950f4(0x100)](_0x9950f4(0xc9));exportBtn[_0x9950f4(0x181)](_0x9950f4(0xcc),onClickExportarItems);async function onClickExportarItems(){var _0x4d179a=_0x9950f4;if(!Array[_0x4d179a(0x119)](products)||!products['length']){ntfShow(_0x4d179a(0x194));return;}try{const _0xace3ee=await fetch(_0x4d179a(0x16f));if(!_0xace3ee['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x14c1f5=await _0xace3ee[_0x4d179a(0x162)](),_0x16eec7=document[_0x4d179a(0x100)](_0x4d179a(0x11b))[_0x4d179a(0x1e1)];let _0x4362aa=products;const _0x3a53e2=getUserPermissionApiERP(0x2);_0x3a53e2==0x1&&(_0x4362aa=products[_0x4d179a(0xd2)](_0x496aa9=>Array[_0x4d179a(0x119)](_0x496aa9[_0x4d179a(0x1d8)])&&_0x496aa9[_0x4d179a(0x1d8)][_0x4d179a(0x17c)](_0x209598=>String(_0x209598[_0x4d179a(0xd4)])==String(_0x16eec7))));const _0x4dbe00=_0x4362aa[_0x4d179a(0x20d)]((_0x21c4ff,_0x19e5e6)=>{var _0x587b0f=_0x4d179a;const _0x144040=_0x19e5e6[_0x587b0f(0x1c3)];if(!_0x21c4ff[_0x144040])_0x21c4ff[_0x144040]=[];return _0x21c4ff[_0x144040]['push'](_0x19e5e6),_0x21c4ff;},{}),_0x3abd07=Object[_0x4d179a(0x15c)](_0x4dbe00)['map'](_0x3b1316=>{var _0x3618c6=_0x4d179a;const _0xdaf134=_0x3b1316[0x0],_0x37dd10=_0x3b1316[0x1]||{},_0x130671=_0x3b1316[0x2]||{};function _0x3f62ce(_0x30402f,_0x322abe,_0x19a2bb){var _0x257d57=_0x39b4;if(!_0x30402f||!Array[_0x257d57(0x119)](_0x30402f[_0x257d57(0x207)]))return'';const _0x18b3a4=_0x30402f['currency_data'][_0x257d57(0x19e)](_0x3b4148=>_0x3b4148[_0x257d57(0x118)]===_0x322abe);return _0x18b3a4?_0x18b3a4[_0x19a2bb]:'';}return{'id':_0xdaf134[_0x3618c6(0x1c3)],'setItemType':_0xdaf134[_0x3618c6(0x195)],'setCodProducto':_0xdaf134[_0x3618c6(0x1bf)],'setDescripcion':_0xdaf134[_0x3618c6(0xea)],'setItemDescription':_0xdaf134[_0x3618c6(0x15f)],'setItemIsSold':_0xdaf134[_0x3618c6(0x13f)],'setItemIsBought':_0xdaf134[_0x3618c6(0xeb)],'setCategoria':_0xdaf134[_0x3618c6(0x128)],'setMarca':_0xdaf134[_0x3618c6(0x20b)],'setTaxId':_0xdaf134['setTaxId'],'setUnitId':_0xdaf134['id'],'setItemBarCode':_0xdaf134[_0x3618c6(0xcb)],'setUnidadCodigo':_0xdaf134[_0x3618c6(0x176)],'setItemUnitAlias':_0xdaf134[_0x3618c6(0x1c6)]??'','PEN_setMtoPrecioUnitario':_0x3f62ce(_0xdaf134,_0x3618c6(0x1e9),_0x3618c6(0x16d)),'PEN_setMtoPrecioCostoUnitario':_0x3f62ce(_0xdaf134,_0x3618c6(0x1e9),_0x3618c6(0x1ea)),'USD_setMtoPrecioUnitario':_0x3f62ce(_0xdaf134,'USD',_0x3618c6(0x16d)),'USD_setMtoPrecioCostoUnitario':_0x3f62ce(_0xdaf134,_0x3618c6(0x125),_0x3618c6(0x1ea)),'setItemCommissionPercentage':_0xdaf134[_0x3618c6(0x1a9)]?parseFloat(_0xdaf134[_0x3618c6(0x1a9)]):'','setUnitId2':_0x37dd10['id']??'','setItemBarCode2':_0x37dd10[_0x3618c6(0xcb)]??'','setUnidadCodigo2':_0x37dd10['setUnidadCodigo']??'','setItemUnitAlias2':_0x37dd10[_0x3618c6(0x1c6)]??'','setUnidadEquivalencia2':_0x37dd10[_0x3618c6(0x177)]??'','PEN_setMtoPrecioUnitario2':_0x3f62ce(_0x37dd10,_0x3618c6(0x1e9),_0x3618c6(0x16d))??'','PEN_setMtoPrecioCostoUnitario2':_0x3f62ce(_0x37dd10,_0x3618c6(0x1e9),_0x3618c6(0x1ea))??'','USD_setMtoPrecioUnitario2':_0x3f62ce(_0x37dd10,_0x3618c6(0x125),_0x3618c6(0x16d))??'','USD_setMtoPrecioCostoUnitario2':_0x3f62ce(_0x37dd10,_0x3618c6(0x125),_0x3618c6(0x1ea))??'','setItemCommissionPercentage2':_0x37dd10[_0x3618c6(0x1a9)]?parseFloat(_0x37dd10[_0x3618c6(0x1a9)]):'','setUnitId3':_0x130671['id']??'','setItemBarCode3':_0x130671[_0x3618c6(0xcb)]??'','setUnidadCodigo3':_0x130671[_0x3618c6(0x176)]??'','setItemUnitAlias3':_0x130671[_0x3618c6(0x1c6)]??'','setUnidadEquivalencia3':_0x130671['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x3f62ce(_0x130671,_0x3618c6(0x1e9),_0x3618c6(0x16d))??'','PEN_setMtoPrecioCostoUnitario3':_0x3f62ce(_0x130671,_0x3618c6(0x1e9),_0x3618c6(0x1ea))??'','USD_setMtoPrecioUnitario3':_0x3f62ce(_0x130671,'USD',_0x3618c6(0x16d))??'','USD_setMtoPrecioCostoUnitario3':_0x3f62ce(_0x130671,'USD',_0x3618c6(0x1ea))??'','setItemCommissionPercentage3':_0x130671[_0x3618c6(0x1a9)]?parseFloat(_0x130671[_0x3618c6(0x1a9)]):'','setInventariable':_0xdaf134[_0x3618c6(0x1fe)],'setSucursalStock':_0x3a53e2==0x1?_0xdaf134[_0x3618c6(0x1d8)][_0x3618c6(0x19e)](_0xfbab40=>String(_0xfbab40[_0x3618c6(0xd4)])==String(_0x16eec7))[_0x3618c6(0xe5)]:'','setWarehouseStockMin':_0x3a53e2==0x1?_0xdaf134[_0x3618c6(0x1d8)][_0x3618c6(0x19e)](_0x1c4066=>String(_0x1c4066[_0x3618c6(0xd4)])==String(_0x16eec7))[_0x3618c6(0x1c5)]:'','setBatchName':_0xdaf134[_0x3618c6(0x12c)],'setBatchExpirationDate':_0xdaf134[_0x3618c6(0x1ce)],..._0xdaf134['setItemVariantValues']};});try{JSON[_0x4d179a(0x1e6)](_0x3abd07);}catch(_0x5f4e43){console[_0x4d179a(0x171)](_0x4d179a(0xec),_0x5f4e43),ntfShow(_0x4d179a(0x136));return;}statusDiv[_0x4d179a(0xe7)]='Generando\x20Excel...',progressBar['style'][_0x4d179a(0x1c1)]=_0x4d179a(0x152),progressBar['value']=0x0,itemWorker[_0x4d179a(0xbe)]({'action':_0x4d179a(0x1cb),'products':_0x3abd07,'plantillaBuf':_0x14c1f5},[_0x14c1f5]);}catch(_0x2bda27){console[_0x4d179a(0x171)](_0x2bda27),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x2bda27[_0x4d179a(0x1e5)]);}}itemWorker['onmessage']=({data:_0x32fbf9})=>{var _0x1ae50f=_0x9950f4;const {type:_0x5cf6ba,payload:_0x3725ba}=_0x32fbf9;_0x5cf6ba===_0x1ae50f(0xdb)&&(progressBar['style'][_0x1ae50f(0x1c1)]='block',progressBar[_0x1ae50f(0x1e1)]=_0x3725ba[_0x1ae50f(0x123)],statusDiv['textContent']=_0x3725ba[_0x1ae50f(0x1e5)]);_0x5cf6ba==='done'&&(newItemsExcel=_0x3725ba[_0x1ae50f(0x1c0)],statusDiv[_0x1ae50f(0xe7)]='✅\x20'+newItemsExcel[_0x1ae50f(0x155)]+_0x1ae50f(0xe1),uploadBtn[_0x1ae50f(0x1a0)]=![],progressBar[_0x1ae50f(0x1e1)]=0x64,console[_0x1ae50f(0x1aa)](newItemsExcel));_0x5cf6ba===_0x1ae50f(0x171)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x3725ba,progressBar['style']['display']='none');if(_0x5cf6ba===_0x1ae50f(0x126)){const {wbout:_0x5406de,count:_0x186171}=_0x3725ba,_0xd97b92=new Blob([_0x5406de],{'type':_0x1ae50f(0x142)}),_0x4d7a83=URL[_0x1ae50f(0xf7)](_0xd97b92),_0x256a74=document[_0x1ae50f(0x122)]('a'),_0x443208=new Date()[_0x1ae50f(0x112)]()[_0x1ae50f(0xbd)](0x0,0xa);_0x256a74[_0x1ae50f(0x1a4)]='Plantilla-Items-Export-'+_0x443208+_0x1ae50f(0x19f),_0x256a74[_0x1ae50f(0x193)]=_0x4d7a83,_0x256a74[_0x1ae50f(0xcc)](),URL[_0x1ae50f(0x1a6)](_0x4d7a83),statusDiv[_0x1ae50f(0xe7)]='✅\x20Exportación\x20completada:\x20'+_0x186171+'\x20items.',progressBar[_0x1ae50f(0x1da)][_0x1ae50f(0x1c1)]='none';}},fileInput[_0x9950f4(0x181)](_0x9950f4(0x18c),async _0xfddb69=>{var _0x359bdf=_0x9950f4;const _0x165bf3=_0xfddb69[_0x359bdf(0xe6)][_0x359bdf(0x1d1)][0x0];if(!_0x165bf3)return;uploadBtn[_0x359bdf(0x1a0)]=!![],newItemsExcel=null,statusDiv[_0x359bdf(0xe7)]='',progressBar[_0x359bdf(0x1da)]['display']=_0x359bdf(0xd9),dropZone['querySelector'](_0x359bdf(0x1ef))[_0x359bdf(0xe7)]=_0x165bf3[_0x359bdf(0x1f1)],removeBtn[_0x359bdf(0xd6)]=![];try{const _0x45e9cf=await _0x165bf3[_0x359bdf(0x162)]();itemWorker[_0x359bdf(0xbe)]({'action':'import','buf':_0x45e9cf,'maxRows':0x1388});}catch(_0x4ec08b){statusDiv[_0x359bdf(0xe7)]=_0x359bdf(0xe4);}finally{fileInput[_0x359bdf(0x1e1)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x49561d=_0x9950f4;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x55da4f=document['getElementById'](_0x49561d(0x11b))[_0x49561d(0x1e1)],_0x3ad6af=[];newItemsExcel[_0x49561d(0xee)](_0x115188=>{var _0x3fdfc6=_0x49561d;const _0x3c078f=Boolean(_0x115188[_0x3fdfc6(0x11d)]),_0x593020=_0x3c078f?_0x115188['setItemId']:generateNumericUniqId();_0x115188[_0x3fdfc6(0x1f2)]=[{'setStockInitial':_0x115188['setStockInitial'],'setStockMinimum':_0x115188[_0x3fdfc6(0x1f3)],'setWarehouseCode':_0x55da4f}],_0x115188[_0x3fdfc6(0x147)][_0x3fdfc6(0xee)](_0x557b52=>{var _0x50752c=_0x3fdfc6;const _0x24e064=Boolean(_0x557b52[_0x50752c(0xe3)]),_0xb09d85=_0x24e064?_0x557b52[_0x50752c(0xe3)]:generateNumericUniqId();_0x557b52[_0x50752c(0xe3)]=_0xb09d85;const _0x5dd41c=[];_0x5dd41c[_0x50752c(0x13e)]({'currency':_0x50752c(0x1e9),'setMtoPrecioCostoUnitario':_0x557b52[_0x50752c(0x111)],'setMtoPrecioUnitario':_0x557b52['setPrice'],'setPriceLists':[]});const _0x201f03=_0x557b52[_0x50752c(0x1fd)]!=null&&_0x557b52[_0x50752c(0x168)]!=null&&(!isNaN(_0x557b52[_0x50752c(0x1fd)])||!isNaN(_0x557b52['setPriceUSD']));_0x201f03&&_0x5dd41c[_0x50752c(0x13e)]({'currency':_0x50752c(0x125),'setMtoPrecioCostoUnitario':_0x557b52[_0x50752c(0x1fd)],'setMtoPrecioUnitario':_0x557b52[_0x50752c(0x168)],'setPriceLists':[]});const _0x260525={'id':_0xb09d85,'setIdProducto':_0x593020,'setItemBarCode':_0x557b52[_0x50752c(0xcb)],'setCodProducto':_0x115188[_0x50752c(0x1d0)],'setDescripcion':_0x115188[_0x50752c(0x13d)],'setItemDescription':_0x115188[_0x50752c(0x15f)],'setBatchExpirationDate':_0x115188[_0x50752c(0xf5)],'setBatchName':_0x115188['setBatchName'],'setItemIsSold':_0x115188[_0x50752c(0x13f)],'setItemIsBought':_0x115188[_0x50752c(0xeb)],'setCategoria':_0x115188[_0x50752c(0x200)][0x0]||'','setMarca':_0x115188[_0x50752c(0x117)][0x0]||'','setConversionFactor':parseFloat(_0x557b52[_0x50752c(0x1bd)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x115188[_0x50752c(0x165)],'setPorcentajeIgv':_0x115188[_0x50752c(0xdf)],'setPrinters':[],'setTaxId':_0x115188[_0x50752c(0x1d9)],'setTipAfeIgv':_0x115188[_0x50752c(0x1df)],'setUnidad':_0x557b52['setUnitCode'],'setUnidadCodigo':_0x557b52[_0x50752c(0x140)],'setItemUnitAlias':_0x557b52[_0x50752c(0x1f0)],'setItemCommissionPercentage':_0x557b52[_0x50752c(0x1a9)],'currency_data':_0x5dd41c,'sucursales':_0x115188[_0x50752c(0x1f2)][_0x50752c(0x1c7)](_0x51473d=>({'setIdSucursal':_0x51473d[_0x50752c(0x109)],'setSucursalStock':_0x51473d[_0x50752c(0x1b7)][_0x50752c(0xc7)](),'setWarehouseStockMin':_0x51473d[_0x50752c(0x1f3)][_0x50752c(0xc7)]()})),'setItemFree':_0x115188[_0x50752c(0x127)],'setItemBrands':_0x115188[_0x50752c(0x117)][_0x50752c(0xbd)](),'setItemCategories':_0x115188[_0x50752c(0x200)][_0x50752c(0xbd)](),'setItemComponents':_0x115188[_0x50752c(0x105)][_0x50752c(0x1c7)](_0x5d234d=>({..._0x5d234d})),'setItemImages':_0x115188[_0x50752c(0x1a3)][_0x50752c(0xbd)](),'setItemVariantName':_0x115188[_0x50752c(0x13b)],'setItemVariantValues':{..._0x115188['setItemVariantValues']}},_0x20ae94=products['findIndex'](_0x56a941=>_0x56a941['id']==_0xb09d85&&_0x56a941['setIdProducto']==_0x593020);_0x20ae94>-0x1?Object[_0x50752c(0xc5)](products[_0x20ae94],_0x260525):_0x3ad6af[_0x50752c(0x13e)](_0x260525);});}),console['log']('Items\x20finales:',newItemsExcel),await finalizeImport(_0x3ad6af,newItemsExcel,!![]);});function initializeFormImages(){var _0x459d84=_0x9950f4;currentImages=Array(MAX_IMAGES)[_0x459d84(0x1b9)](null),imgC[_0x459d84(0xdc)]='',baseItem[_0x459d84(0x1a3)]=[];for(var _0x3f69c0=0x0;_0x3f69c0<MAX_IMAGES;_0x3f69c0++){(function(_0xecad3e){var _0x4f7b34=_0x459d84,_0x283f8f=document[_0x4f7b34(0x122)]('div');_0x283f8f[_0x4f7b34(0x10f)]='image_box',_0x283f8f[_0x4f7b34(0x192)][_0x4f7b34(0xc3)]=_0xecad3e;var _0x423cfb=document[_0x4f7b34(0x122)](_0x4f7b34(0xc6));_0x423cfb[_0x4f7b34(0x199)]=_0x4f7b34(0x20a),_0x423cfb['accept']='image/*',_0x423cfb['style'][_0x4f7b34(0x1c1)]=_0x4f7b34(0xd9);var _0x4546db=document[_0x4f7b34(0x122)](_0x4f7b34(0x134));_0x4546db['textContent']='+',_0x283f8f['appendChild'](_0x423cfb),_0x283f8f[_0x4f7b34(0x1b6)](_0x4546db),imgC[_0x4f7b34(0x1b6)](_0x283f8f),_0x283f8f['addEventListener'](_0x4f7b34(0xcc),function(){var _0x49d7bf=_0x4f7b34;_0x423cfb[_0x49d7bf(0xcc)]();}),_0x423cfb[_0x4f7b34(0x181)]('change',function(_0x29e4ae){var _0x421649=_0x4f7b34,_0x1efd50=_0x29e4ae[_0x421649(0xe6)][_0x421649(0x1d1)][0x0];if(!_0x1efd50)return removeImg(_0xecad3e);var _0x4e11c3=new FileReader();_0x4e11c3[_0x421649(0x132)]=function(_0x4edfac){var _0x5561e7=_0x421649;_0x283f8f[_0x5561e7(0xdc)]=_0x5561e7(0x1dc)+_0x4edfac[_0x5561e7(0xe6)][_0x5561e7(0xca)]+'\x22>';var _0x222105=document[_0x5561e7(0x122)]('span');_0x222105[_0x5561e7(0x10f)]=_0x5561e7(0x191),_0x222105['textContent']='×',_0x222105[_0x5561e7(0x181)](_0x5561e7(0xcc),function(_0x47dc24){var _0x570683=_0x5561e7;_0x47dc24[_0x570683(0x145)](),removeImg(_0xecad3e);}),_0x283f8f[_0x5561e7(0x1b6)](_0x222105),currentImages[_0xecad3e]=_0x1efd50,baseItem[_0x5561e7(0x1a3)]=currentImages['filter'](function(_0x281c01){return _0x281c01;});},_0x4e11c3[_0x421649(0x14d)](_0x1efd50);});}(_0x3f69c0));}}function initializeFormIsSoldIsBought(_0x5f05cb=0x0){var _0x207406=_0x9950f4;let _0x552e6,_0x31dc0d;if(_0x5f05cb!=0x0){const _0x331507=products['find'](_0x54a65f=>_0x54a65f['id']==_0x5f05cb);_0x552e6=_0x331507[_0x207406(0xeb)]==0x1||_0x331507[_0x207406(0xeb)]==!![]?!![]:![],_0x31dc0d=_0x331507[_0x207406(0x13f)]==0x1||_0x331507[_0x207406(0x13f)]==!![]?!![]:![];}else _0x552e6=!![],_0x31dc0d=!![];document[_0x207406(0x100)](_0x207406(0x19a))['checked']=_0x552e6,document[_0x207406(0x100)](_0x207406(0x1bb))[_0x207406(0x1b1)]=_0x31dc0d,baseItem[_0x207406(0xeb)]=_0x552e6,baseItem['setItemIsSold']=_0x31dc0d;}function initializeFormInputsBasic(_0x2bec4a=0x0){var _0x186d75=_0x9950f4;let _0x3986e7,_0x5a768b,_0x4defed,_0xba9602,_0x50d083,_0x4acc64;if(_0x2bec4a!=0x0){const _0x14210e=products[_0x186d75(0x19e)](_0x19cd2d=>_0x19cd2d['id']==_0x2bec4a);_0x3986e7=_0x14210e['setItemType']??'1',_0x5a768b=_0x14210e['setCodProducto'],_0x4defed=_0x14210e[_0x186d75(0xea)],_0xba9602=_0x14210e[_0x186d75(0x15f)],_0x50d083=_0x14210e[_0x186d75(0x1ce)]??'',_0x4acc64=_0x14210e[_0x186d75(0xcb)];}else _0x3986e7='1',_0x5a768b=getNextCode(products),_0x4defed='',_0xba9602='',_0x50d083='',_0x4acc64='';document[_0x186d75(0x100)](_0x186d75(0xcd))['value']=_0x3986e7,document[_0x186d75(0x100)](_0x186d75(0x1cd))['value']=_0x5a768b,document[_0x186d75(0x100)](_0x186d75(0x129))[_0x186d75(0x1e1)]=_0x4defed,document[_0x186d75(0x100)](_0x186d75(0x20f))[_0x186d75(0x1e1)]=_0xba9602,document[_0x186d75(0x100)]('inputItemDateExpiry')[_0x186d75(0x1e1)]=_0x50d083,document[_0x186d75(0x100)](_0x186d75(0x149))[_0x186d75(0x1e1)]=_0x4acc64,baseItem[_0x186d75(0x195)]=_0x3986e7,baseItem[_0x186d75(0x1d0)]=_0x5a768b,baseItem[_0x186d75(0x13d)]=_0x4defed,baseItem['setItemDescription']=_0xba9602,baseItem[_0x186d75(0xf5)]=_0x50d083,baseItem[_0x186d75(0xcb)]=_0x4acc64,document[_0x186d75(0x100)]('newItem_addToCart')[_0x186d75(0x1b1)]=![];}function initializeFormTax(_0x135489=0x0){var _0x4e6eb6=_0x9950f4;let _0x590adb;if(_0x135489!=0x0){const _0x38ae82=products[_0x4e6eb6(0x19e)](_0x57cad9=>_0x57cad9['id']==_0x135489);_0x590adb=_0x38ae82['setTaxId'];}else _0x590adb=myCompany[_0x4e6eb6(0x197)];const _0x131070=document[_0x4e6eb6(0x100)]('inputItemTax');_0x131070[_0x4e6eb6(0x1e1)]=_0x590adb,baseItem[_0x4e6eb6(0x1d9)]=_0x590adb;const _0x1ad5ef=company[0x0][_0x4e6eb6(0xfc)][_0x4e6eb6(0x19e)](_0x413a48=>_0x413a48['setTaxId']==_0x590adb)?.[_0x4e6eb6(0xd5)]||0x0,_0x7b305c=company[0x0][_0x4e6eb6(0xfc)][_0x4e6eb6(0x19e)](_0x298774=>_0x298774[_0x4e6eb6(0x114)]==_0x590adb)?.[_0x4e6eb6(0x104)]||0x0;baseItem['setItemTaxCode']=_0x1ad5ef,baseItem[_0x4e6eb6(0xdf)]=_0x7b305c;}function initializeFormCategoriesBrands(_0x3a8eb0=0x0){var _0x1d58a6=_0x9950f4;baseItem[_0x1d58a6(0x200)]=[],baseItem[_0x1d58a6(0x117)]=[],document[_0x1d58a6(0x160)](_0x1d58a6(0x11a))[_0x1d58a6(0xdc)]='',document[_0x1d58a6(0x160)](_0x1d58a6(0x130))['innerHTML']='',document[_0x1d58a6(0x160)](_0x1d58a6(0x153))[_0x1d58a6(0xdc)]='',document[_0x1d58a6(0x160)]('#newItem_brands_select\x20.options_list')[_0x1d58a6(0xdc)]='';const _0x46948b=myCompany[_0x1d58a6(0x200)][_0x1d58a6(0x1c7)](_0x22c159=>({'setCode':_0x22c159['setItemCategoryName'],'setName':_0x22c159[_0x1d58a6(0x1ca)]})),_0x3b0808=myCompany[_0x1d58a6(0x117)][_0x1d58a6(0x1c7)](_0x59420b=>({'setCode':_0x59420b['setItemBrandName'],'setName':_0x59420b[_0x1d58a6(0xfe)]}));initMulti(_0x1d58a6(0x148),_0x46948b),initMulti('newItem_brands_select',_0x3b0808),document[_0x1d58a6(0x100)](_0x1d58a6(0x148))[_0x1d58a6(0x181)]('selectionChange',function(_0x2cb3c5){var _0x252eae=_0x1d58a6;baseItem['setItemCategories']=_0x2cb3c5[_0x252eae(0x19c)]['map'](_0x4c7d7a=>_0x4c7d7a[_0x252eae(0x1e7)]);}),document[_0x1d58a6(0x100)](_0x1d58a6(0x101))[_0x1d58a6(0x181)](_0x1d58a6(0x120),function(_0x282eb2){var _0x41b672=_0x1d58a6;baseItem['setItemBrands']=_0x282eb2[_0x41b672(0x19c)][_0x41b672(0x1c7)](_0x32e95e=>_0x32e95e['setCode']);});if(_0x3a8eb0!=0x0){const _0x44106d=products[_0x1d58a6(0x19e)](_0xdbbbbf=>_0xdbbbbf['id']==_0x3a8eb0);if(_0x44106d[_0x1d58a6(0x128)]){const _0x5d589e=document['getElementById']('newItem_categories_select'),_0x338142=Array[_0x1d58a6(0x10d)](_0x5d589e['querySelectorAll'](_0x1d58a6(0x19d)))[_0x1d58a6(0x19e)](_0x15b818=>_0x15b818[_0x1d58a6(0x192)][_0x1d58a6(0x18f)]==_0x44106d[_0x1d58a6(0x128)]);_0x338142&&_0x338142[_0x1d58a6(0xcc)]();}if(_0x44106d['setMarca']){const _0x103ec4=document[_0x1d58a6(0x100)](_0x1d58a6(0x101)),_0x3b460c=Array[_0x1d58a6(0x10d)](_0x103ec4['querySelectorAll'](_0x1d58a6(0x19d)))[_0x1d58a6(0x19e)](_0x689d7=>_0x689d7['dataset']['code']==_0x44106d['setMarca']);_0x3b460c&&_0x3b460c[_0x1d58a6(0xcc)]();}}}function initializeFormUnits(){var _0x26afaf=_0x9950f4;unitCount=0x0,document[_0x26afaf(0x100)](_0x26afaf(0x1e0))[_0x26afaf(0xdc)]='',baseItem[_0x26afaf(0x147)]=[];var _0xeebfe9=uniqueValuesArray(_0x26afaf(0x140),_0x26afaf(0x141),myCompany['setUnits']);addUnit('',_0xeebfe9[0x3a]&&_0xeebfe9[0x3a][_0x26afaf(0x1e7)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3963e3=_0x9950f4;prodC[_0x3963e3(0xdc)]='',baseItem[_0x3963e3(0x105)]=[],updateProdItems();}function _0x5351(){var _0x2b9906=['log','.branchInit','selected','getElementsByClassName','newItem_title_table_cp','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.vgName','checked','1008Jbtvrm','.ms_input','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','appendChild','setStockInitial','22904kKtnpK','fill','.addVariantComp','newItem_chk_sell','_comp_container','setFactor','setDefault','setCodProducto','items','display','setMoneda','setIdProducto','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setWarehouseStockMin','setItemUnitAlias','map','modalOverlayCreateItem','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemCategoryName','exportItems','.priceInput','inputItemCode','setBatchExpirationDate','__proto__','setItemCode','files','mousedown','Items\x20finales:','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','join','setPrice','sucursales','setItemTaxId','style','status','<img\x20src=\x22','bind','splice','setItemTaxCode','newItem_units_container','value','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','2428iJgwLa','message','stringify','setCode','objectStore','PEN','setMtoPrecioCostoUnitario','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','info','.variantForm','option','.drop-zone__prompt','setAlias','name','setItemWarehouses','setStockMinimum','.removeCombo','max','{}.constructor(\x22return\x20this\x22)(\x20)','24nhoTAv','.unitAlias','newItem_images_container','Ingresa\x20el\x20código\x20del\x20item','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','#newItem_branches_container\x20>\x20div','setCostUSD','setInventariable','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setItemCategories','setEquivalence','100','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','17469sfohZb','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','currency_data','warn','.selected_tags','file','setMarca','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','reduce','.prodQty','inputItemDescription','.branchMin','slice','postMessage','dragenter','split','contains','transaction','idx','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','assign','input','toString','remove-file','btnExportarItems','result','setItemBarCode','click','inputItemType','blur','.variantExpiry','.options_list','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','filter','now','setIdSucursal','setImpuestoCode','hidden','Collator','newItem_variant_groups','none','inputItemTax','progress','innerHTML','.unitSelect','.addVariantUnit','setItemTaxValue','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','\x20items\x20procesados.','undefined','setItemUnitId','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setSucursalStock','target','textContent','setAuthToken','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setDescripcion','setItemIsBought','ERROR:\x20plainProducts\x20no\x20serializable:','dragover','forEach','parentNode','entries','variantForm','715718teAfnj','setItemVariantValues','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemDateExpiry','580490AMMZFI','createObjectURL','830uAvTxs','setUnits','newItem_btn_addUnit','newItem_hidden','setImpuestos','defineProperty','setItemBrandName','_branch_container','getElementById','newItem_brands_select','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','setImpuestoName','setImpuestoValue','setItemComponents','upload-btn','readwrite','(((.+)+)+)+$','setWarehouseCode','add','closeModalCreateItem','every','from','335754VwqhKw','className','newItem_variants_forms','setCost','toISOString','dispatchEvent','setTaxId','.variantBarCode','.variantCode','setItemBrands','currency','isArray','#newItem_categories_select\x20.selected_tags','setWarehouseId','newItem_proditems_container','setItemId','.removeGroup','newItem_btn_addVariantGroup','selectionChange','.prod_input_container','createElement','percent','active','USD','exportDone','setItemFree','setCategoria','inputItemName','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setBatchName','Ingresa\x20el\x20nombre\x20del\x20item','./img/product.png','match','#newItem_categories_select\x20.options_list','constructor','onload','setWarehouseName','span','setCantidad','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','.eqInput','parse','test','exception','setItemVariantName','toggle','setItemName','push','setItemIsSold','setUnitCode','setUnitName','application/octet-stream','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','unitSelect','stopPropagation','\x22\x20value=\x22','setItemUnits','newItem_categories_select','inputItemBarCode','.vgVals','sort','preventDefault','readAsDataURL','btnItemSave','return\x20(function()\x20','image/*','compare','block','#newItem_brands_select\x20.selected_tags','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','length','console','newItem_btn_addProdItem','toLowerCase','detalleModalCreateItem','children','default','values','findIndex','classList','setItemDescription','querySelector','div','arrayBuffer','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','.costInput','setItemInventoriable','Error\x20al\x20procesar\x20la\x20operación:','dataTransfer','setPriceUSD','_units_container','.removeUnit','variant_','<div\x20class=\x22newItem_col\x22>','setMtoPrecioUnitario','offline_operations','./excel/Plantilla-Items.xlsx','setName','error','drop','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','Enter','\x22\x20class=\x22branchChk\x22>\x20','setUnidadCodigo','setConversionFactor','flatMap','querySelectorAll','focus','eqInput','some','trim','</div>','modalProductNewTitle','padStart','addEventListener','.branchChk','1917CJVItN','style=\x22display:none\x22','table','remove-tag','selectedItem','apply','Producto\x20Guardado\x20Offline\x20Correctamente.','div[data-default=\x22true\x22]\x20.eqInput','base','change','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','true','code','dragleave','remove','dataset','href','No\x20hay\x20items\x20para\x20exportar.','setItemType','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setTaxIdDefault','newItem_title_table','type','newItem_chk_buy','Producto\x20Libre','detail','.options_list\x20div','find','.xlsx','disabled','11MHEkEZ','costInput','setItemImages','download','oncomplete','revokeObjectURL','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','12623088oetcBs','setItemCommissionPercentage'];_0x5351=function(){return _0x2b9906;};return _0x5351();}function initializeFormWarehouses(){var _0x5659d2=_0x9950f4;branchesC[_0x5659d2(0xdc)]='',baseItem[_0x5659d2(0x1f2)]=[];const _0x78cac4=getAllWarehouses();_0x78cac4[_0x5659d2(0xee)](function(_0x48683b){var _0x123ead=_0x5659d2,_0x445495=document[_0x123ead(0x122)](_0x123ead(0x161));_0x445495[_0x123ead(0xdc)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x123ead(0x16c)+_0x123ead(0xe0)+_0x48683b[_0x123ead(0x11b)]+_0x123ead(0x1af)+_0x48683b['setWarehouseName']+'</label>'+_0x123ead(0x17e)+_0x123ead(0x16c)+_0x123ead(0x163)+_0x48683b['setWarehouseId']+'\x22>'+_0x123ead(0x17e)+_0x123ead(0x16c)+_0x123ead(0x20c)+_0x48683b['setWarehouseId']+'\x22>'+'</div>'+_0x123ead(0x17e),branchesC[_0x123ead(0x1b6)](_0x445495),_0x445495['querySelectorAll'](_0x123ead(0xc6))['forEach'](function(_0x4f860c){var _0x1dd955=_0x123ead;_0x4f860c[_0x1dd955(0x181)](_0x1dd955(0xc6),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x338807=_0x9950f4;baseItem['setItemVariantName']='',baseItem[_0x338807(0xf3)]={},vgC[_0x338807(0xdc)]='',varContainer[_0x338807(0xdc)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xc5910a,_0x56dba6,_0x2feb57=![]){var _0x4b3858=_0x9950f4;const _0x3f63da=0xc8,_0x46a737={'apiPOSsendOffline':'1','setTipoOperacion':_0x4b3858(0x202),'setToken':company[0x0][_0x4b3858(0xe8)],'setWebhook':company[0x0]['setWebhook']};for(let _0x459b69=0x0;_0x459b69<_0x56dba6[_0x4b3858(0x155)];_0x459b69+=_0x3f63da){const _0x4796d0=_0x56dba6[_0x4b3858(0xbd)](_0x459b69,_0x459b69+_0x3f63da);await storeOfflineProduct({..._0x46a737,'newItems':_0x4796d0});}products[_0x4b3858(0x13e)](..._0xc5910a),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x4b3858(0x173)),_0x2feb57?(fileInput[_0x4b3858(0x1e1)]='',uploadBtn['disabled']=!![],statusDiv[_0x4b3858(0xe7)]='',progressBar[_0x4b3858(0x1da)][_0x4b3858(0x1c1)]=_0x4b3858(0xd9),progressBar[_0x4b3858(0x1e1)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}