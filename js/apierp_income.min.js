/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.2
*/

function _0x3ac3(_0x42e070,_0x4fa399){const _0x29fac4=_0x2f10();return _0x3ac3=function(_0x503bee,_0x15aebc){_0x503bee=_0x503bee-0xb6;let _0x565228=_0x29fac4[_0x503bee];return _0x565228;},_0x3ac3(_0x42e070,_0x4fa399);}const _0x47fae0=_0x3ac3;(function(_0x5e9f77,_0x1249b1){const _0x3b093a=_0x3ac3,_0x2aef08=_0x5e9f77();while(!![]){try{const _0x3c8d70=-parseInt(_0x3b093a(0xc6))/0x1+parseInt(_0x3b093a(0x134))/0x2+-parseInt(_0x3b093a(0xdd))/0x3+-parseInt(_0x3b093a(0xb7))/0x4*(parseInt(_0x3b093a(0xce))/0x5)+parseInt(_0x3b093a(0x174))/0x6+parseInt(_0x3b093a(0xbc))/0x7*(parseInt(_0x3b093a(0xba))/0x8)+parseInt(_0x3b093a(0x182))/0x9;if(_0x3c8d70===_0x1249b1)break;else _0x2aef08['push'](_0x2aef08['shift']());}catch(_0x1a4206){_0x2aef08['push'](_0x2aef08['shift']());}}}(_0x2f10,0x44971));function _0x2f10(){const _0x35b874=['Error\x20al\x20cargar\x20el\x20detalle:','getDay','none','dataset_','mouseup','</td>\x0a</tr>','click','</td>\x0a\x20\x20\x20\x20\x20\x20<td>','trace','concat','date-range-options','salesChartContainer','getSeconds','detalle','del\x20d&iacute;a','2025-05-10','end','DOMContentLoaded','preventDefault','onclick','cliente','application/json','pdf','btn\x20btn-sm\x20btn-outline\x20me-2','2025-05-01','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20tu\x20dropdown\x20original\x20-->\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20','setReceiptProducts','add','target','Total','de\x20la\x20semana','No\x20se\x20encontr칩\x20informaci칩n\x20de\x20ingresos','name','start',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','filter-start','info','fecha','line','appendChild','exception','setTipAfeIgv','&laquo;\x20Anterior','shiftY','getElementById','remove','search','859548PPMERD','year','.btn-logout','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','forEach','modalOverlayViewDetails','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','textContent','assign','\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','middle','active','\x2000:00:00','quantitySold','2764224VcBFSC','Siguiente\x20&raquo;','{}.constructor(\x22return\x20this\x22)(\x20)','querySelector','offsetLeft','setReceiptStatus','dynamicContent','setBranchId','endDateFormatted','month','4vFLwUm','innerHTML','setReceiptCurrency','4038376CSbcSY','padStart','7RMiMdZ','success','&ff=','setPrecioUnit','valor_unitario','incomes','getFullYear','toString','apply-filter','El\x20contenedor\x20con\x20id\x20\x22','274827YJZygW','day','hide','data-value','onload','cantidad','POST','dataset_raw','2106375QcDOWW','.table-report\x20tbody','setApiEndPoint','dispatchEvent','setFloorId','https://fasyb.com/api/venta/view/?id=','tagName','series','moneda','Contenedor\x20','Evoluci칩n\x20de\x20Ventas','getAttribute','500px','startDateFormatted','then','1056555xkfktm','valueDesc','setAuthToken','Error\x20al\x20aplicar\x20filtro','subtotal','\x22\x20no\x20existe.','warn','display','apply','scrollLeft','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','width','isArray','Pendiente','.modal-content','btn-outline-primary','statusText','table','detalleTablaBody','setReceiptSeries','href','900px','productName','axis','serie','btn\x20btn-sm\x20btn-outline\x20ms-2','__proto__','setValorCantidad','{b}:\x20{d}%','className','createElement','Selecciona\x20ambas\x20fechas','map','producto','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20right;\x22>','total','bind','category','filterModal','change','data','closeModalViewDetails','50%','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','estadoColor','date-range-label','Productos\x20m치s\x20vendidos','filter','pdf_url','https://fasyb.com/api/pdf/proxy/?file=','addEventListener','getDate','detalleModal','.table-wrapper','split','slice','length','log','json','reduce','error','getMinutes','pageX','</td>\x0a<td>','2025-05-27','Invalid\x20range\x20type','location','setReceiptDate','setIdProducto','impuestos','getMonth','constructor','<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','classList','filter-end','stringify','mousedown','value','contains','setReceiptNumber','week','\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','init','console','estado','.pagination-table','748082wtPsBK','status','setDate','return\x20(function()\x20','productPieChart','setOption','style','\x0a<tr>\x0a<td>','block','pie','setTipoComprobante','prototype','push','flatMap','Modal','mouseleave'];_0x2f10=function(){return _0x35b874;};return _0x2f10();}const _0x698dce=(function(){let _0x56279a=!![];return function(_0x5a8225,_0x2ed506){const _0x36e810=_0x56279a?function(){const _0x591809=_0x3ac3;if(_0x2ed506){const _0x42b472=_0x2ed506[_0x591809(0xe5)](_0x5a8225,arguments);return _0x2ed506=null,_0x42b472;}}:function(){};return _0x56279a=![],_0x36e810;};}()),_0x43dfeb=_0x698dce(this,function(){const _0x4e6b2a=_0x3ac3;return _0x43dfeb[_0x4e6b2a(0xc3)]()[_0x4e6b2a(0x173)](_0x4e6b2a(0x167))[_0x4e6b2a(0xc3)]()[_0x4e6b2a(0x125)](_0x43dfeb)['search'](_0x4e6b2a(0x167));});_0x43dfeb();const _0x15aebc=(function(){let _0x76ff71=!![];return function(_0x2bd04b,_0x108c78){const _0xeda578=_0x76ff71?function(){const _0x33863d=_0x3ac3;if(_0x108c78){const _0x46ea65=_0x108c78[_0x33863d(0xe5)](_0x2bd04b,arguments);return _0x108c78=null,_0x46ea65;}}:function(){};return _0x76ff71=![],_0xeda578;};}()),_0x503bee=_0x15aebc(this,function(){const _0x480b58=_0x3ac3,_0x1ef42e=function(){const _0x55520a=_0x3ac3;let _0x13bda8;try{_0x13bda8=Function(_0x55520a(0x137)+_0x55520a(0x184)+');')();}catch(_0x4e949b){_0x13bda8=window;}return _0x13bda8;},_0x5ecdee=_0x1ef42e(),_0x1ee167=_0x5ecdee['console']=_0x5ecdee[_0x480b58(0x131)]||{},_0x509dd5=[_0x480b58(0x117),_0x480b58(0xe3),_0x480b58(0x169),_0x480b58(0x11a),_0x480b58(0x16d),_0x480b58(0xee),_0x480b58(0x14c)];for(let _0x5858ed=0x0;_0x5858ed<_0x509dd5[_0x480b58(0x116)];_0x5858ed++){const _0x4fdc91=_0x15aebc[_0x480b58(0x125)][_0x480b58(0x13f)]['bind'](_0x15aebc),_0x385dd0=_0x509dd5[_0x5858ed],_0x2abbf4=_0x1ee167[_0x385dd0]||_0x4fdc91;_0x4fdc91[_0x480b58(0xf7)]=_0x15aebc[_0x480b58(0x102)](_0x15aebc),_0x4fdc91[_0x480b58(0xc3)]=_0x2abbf4['toString']['bind'](_0x2abbf4),_0x1ee167[_0x385dd0]=_0x4fdc91;}});_0x503bee();let arrayIncomes;const PER_PAGE=0x14;let currentPage=0x1;function generateFilterTransformChart(_0x1d2326){const _0x55187c=_0x3ac3,{containerId:_0x5d51e1,rawData:_0x42ebee,groupField:_0x219b68,groupValues:_0x5cd39d,additionalFilters:additionalFilters=[],seriesType:seriesType=_0x55187c(0x16b),encode:_0x315d15,title:title='',colors:_0x1b7550,animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x55187c(0xde),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x1daaaf,height:_0x258380}=_0x1d2326,_0x1c1098=document['getElementById'](_0x5d51e1);if(!_0x1c1098){console['error'](_0x55187c(0xc5)+_0x5d51e1+_0x55187c(0xe2));return;}if(_0x1daaaf)_0x1c1098[_0x55187c(0x13a)][_0x55187c(0xe8)]=_0x1daaaf;if(_0x258380)_0x1c1098['style']['height']=_0x258380;const _0x48152b=echarts[_0x55187c(0x130)](_0x1c1098),_0x2fba4a=[],_0x133ee9=[];_0x5cd39d[_0x55187c(0x178)]((_0x4e3253,_0x54ef3b)=>{const _0x29c84c=_0x55187c,_0x371901=_0x29c84c(0x147)+_0x4e3253,_0x270c87=additionalFilters[_0x29c84c(0x14d)]([{'dimension':_0x219b68,'=':_0x4e3253}]);_0x2fba4a[_0x29c84c(0x140)]({'id':_0x371901,'fromDatasetId':_0x29c84c(0xcd),'transform':{'type':_0x29c84c(0x10d),'config':{'and':_0x270c87}}}),_0x133ee9[_0x29c84c(0x140)]({'type':seriesType,'datasetId':_0x371901,'showSymbol':![],'name':_0x4e3253,'endLabel':{'show':!![],'formatter':function(_0x19a046){const _0x3e2b4b=_0x29c84c,_0x5c2f49=_0x19a046[_0x3e2b4b(0x12b)]&&_0x19a046[_0x3e2b4b(0x12b)][_0x315d15['x']];return _0x4e3253+(_0x5c2f49!==undefined&&_0x5c2f49!==null&&_0x5c2f49!==''?':\x20'+_0x5c2f49:'');}},'labelLayout':{'moveOverlap':_0x29c84c(0x170)},'emphasis':{'focus':_0x29c84c(0xd5)},'encode':_0x315d15,'lineStyle':{'color':_0x1b7550&&_0x1b7550[_0x54ef3b]?_0x1b7550[_0x54ef3b]:undefined}});});const _0x401dbb={'animationDuration':animationDuration,'dataset':[{'id':_0x55187c(0xcd),'source':_0x42ebee},..._0x2fba4a],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x55187c(0xf4)},'xAxis':Object[_0x55187c(0x17c)]({'type':_0x55187c(0x103),'nameLocation':_0x55187c(0x17e)},xAxisConfig),'yAxis':Object[_0x55187c(0x17c)]({'name':_0x315d15['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x133ee9};_0x48152b[_0x55187c(0x139)](_0x401dbb);}function generatePieChart({containerId:_0x13da05,data:_0x33fd53,nameField:_0x5decf4,valueField:_0x140ba7,title:title=''}){const _0x37a3f7=_0x3ac3,_0x161a3b=document[_0x37a3f7(0x171)](_0x13da05);if(!_0x161a3b)return console[_0x37a3f7(0x11a)](_0x37a3f7(0xd7)+_0x13da05+'\x20no\x20existe');const _0xad1a48=echarts[_0x37a3f7(0x130)](_0x161a3b),_0x5ccbff=_0x33fd53[_0x37a3f7(0x119)]((_0x210336,_0x4ce637)=>{const _0x285c81=_0x37a3f7,_0x5af1d1=_0x4ce637[_0x5decf4],_0x3a01fd=_0x4ce637[_0x140ba7];let _0x1270da=_0x210336['find'](_0x43ecda=>_0x43ecda[_0x285c81(0x164)]===_0x5af1d1);return!_0x1270da&&(_0x1270da={'name':_0x5af1d1,'value':0x0},_0x210336[_0x285c81(0x140)](_0x1270da)),_0x1270da['value']+=_0x3a01fd,_0x210336;},[]),_0x4e7d4b={'title':{'text':title,'left':'center'},'tooltip':{'trigger':'item'},'series':[{'type':_0x37a3f7(0x13d),'radius':_0x37a3f7(0x108),'data':_0x5ccbff,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x37a3f7(0xf9)}}]};_0xad1a48[_0x37a3f7(0x139)](_0x4e7d4b);}function showModalViewDetails(){const _0x5a7c7f=_0x3ac3,_0x3f11f3=document[_0x5a7c7f(0x171)](_0x5a7c7f(0x112)),_0x26778c=document[_0x5a7c7f(0x171)]('modalOverlayViewDetails');_0x3f11f3[_0x5a7c7f(0x127)][_0x5a7c7f(0x15f)](_0x5a7c7f(0x17f)),_0x26778c[_0x5a7c7f(0x13a)]['display']=_0x5a7c7f(0x13c);}function hideModalViewDetails(){const _0x19dd21=_0x3ac3,_0x4beeac=document['getElementById']('detalleModal'),_0x576662=document[_0x19dd21(0x171)](_0x19dd21(0x179));_0x4beeac[_0x19dd21(0x127)][_0x19dd21(0x172)](_0x19dd21(0x17f)),_0x576662[_0x19dd21(0x13a)][_0x19dd21(0xe4)]=_0x19dd21(0x146);const _0x4a8c37=document[_0x19dd21(0x171)](_0x19dd21(0x188));_0x4a8c37[_0x19dd21(0xb8)]='\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>';}document[_0x47fae0(0x171)](_0x47fae0(0x107))[_0x47fae0(0x110)](_0x47fae0(0x14a),hideModalViewDetails),document[_0x47fae0(0x171)]('modalOverlayViewDetails')[_0x47fae0(0x110)](_0x47fae0(0x14a),hideModalViewDetails);function verDetalle(_0x1a88ee,_0x2cba58){const _0x21df8a=_0x47fae0;fetch(_0x21df8a(0xd3)+_0x1a88ee+'&tipo='+_0x2cba58)['then'](_0xa9a539=>{const _0x4b0c77=_0x21df8a;if(!_0xa9a539['ok'])throw new Error('Error\x20'+_0xa9a539[_0x4b0c77(0x135)]+':\x20'+_0xa9a539[_0x4b0c77(0xed)]);return _0xa9a539['json']();})[_0x21df8a(0xdc)](_0x357eb2=>{const _0x4db183=_0x21df8a;if(_0x357eb2[_0x4db183(0xbd)]){const _0x588b8e=document[_0x4db183(0x171)](_0x4db183(0x188));if(_0x2cba58===_0x4db183(0x151)){let _0x434d18='';_0x357eb2[_0x4db183(0x106)]['forEach'](_0x5324a1=>{const _0x2aed04=_0x4db183;_0x434d18+=_0x2aed04(0x13b)+_0x5324a1[_0x2aed04(0xfe)]+_0x2aed04(0x11d)+_0x5324a1[_0x2aed04(0xcb)]+'</td>\x0a<td>'+_0x5324a1[_0x2aed04(0xc0)]+_0x2aed04(0x11d)+_0x5324a1[_0x2aed04(0x101)]+_0x2aed04(0x149);}),document[_0x4db183(0x171)](_0x4db183(0xef))[_0x4db183(0xb8)]=_0x434d18;}else{if(_0x2cba58===_0x4db183(0x15a)){const _0x203fcd=_0x4db183(0x10f)+encodeURIComponent(_0x357eb2[_0x4db183(0x10e)]),_0x2c6aa0=document[_0x4db183(0x185)](_0x4db183(0xeb));_0x588b8e['innerHTML']='\x0a<iframe\x20src=\x22'+_0x203fcd+_0x4db183(0xe7),document['getElementById'](_0x4db183(0x107))[_0x4db183(0x110)](_0x4db183(0x14a),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x357eb2[_0x4db183(0x11a)]||_0x4db183(0x17a));})['catch'](_0x1daf3e=>{const _0x4077c8=_0x21df8a;console[_0x4077c8(0x11a)](_0x4077c8(0x144),_0x1daf3e),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}function formatDateToYmdHis(_0x5cdbeb){const _0x5f1ac2=_0x47fae0,_0x3fc67b=_0x5cdbeb[_0x5f1ac2(0xc2)](),_0x582865=String(_0x5cdbeb[_0x5f1ac2(0x124)]()+0x1)[_0x5f1ac2(0xbb)](0x2,'0'),_0x4e909c=String(_0x5cdbeb[_0x5f1ac2(0x111)]())[_0x5f1ac2(0xbb)](0x2,'0'),_0x2b6497=String(_0x5cdbeb['getHours']())[_0x5f1ac2(0xbb)](0x2,'0'),_0x4fffce=String(_0x5cdbeb[_0x5f1ac2(0x11b)]())['padStart'](0x2,'0'),_0x2e4e61=String(_0x5cdbeb[_0x5f1ac2(0x150)]())[_0x5f1ac2(0xbb)](0x2,'0');return _0x3fc67b+'-'+_0x582865+'-'+_0x4e909c+'\x20'+_0x2b6497+':'+_0x4fffce+':'+_0x2e4e61;}function getDateRange(_0x2c74da){const _0x498469=_0x47fae0,_0x4710d2=new Date();let _0x1b073a,_0x59073e;switch(_0x2c74da){case _0x498469(0xc7):_0x1b073a=new Date(_0x4710d2[_0x498469(0xc2)](),_0x4710d2[_0x498469(0x124)](),_0x4710d2[_0x498469(0x111)](),0x0,0x0,0x0),_0x59073e=new Date(_0x4710d2[_0x498469(0xc2)](),_0x4710d2[_0x498469(0x124)](),_0x4710d2['getDate'](),0x17,0x3b,0x3b);break;case _0x498469(0x12e):const _0x38c744=_0x4710d2[_0x498469(0x145)](),_0x97b73d=new Date(_0x4710d2);_0x97b73d[_0x498469(0x136)](_0x4710d2[_0x498469(0x111)]()-_0x38c744+(_0x38c744===0x0?-0x6:0x1));const _0x210168=new Date(_0x97b73d);_0x210168[_0x498469(0x136)](_0x97b73d[_0x498469(0x111)]()+0x6),_0x1b073a=new Date(_0x97b73d[_0x498469(0xc2)](),_0x97b73d['getMonth'](),_0x97b73d['getDate'](),0x0,0x0,0x0),_0x59073e=new Date(_0x210168[_0x498469(0xc2)](),_0x210168[_0x498469(0x124)](),_0x210168['getDate'](),0x17,0x3b,0x3b);break;case _0x498469(0xb6):_0x1b073a=new Date(_0x4710d2[_0x498469(0xc2)](),_0x4710d2[_0x498469(0x124)](),0x1,0x0,0x0,0x0),_0x59073e=new Date(_0x4710d2[_0x498469(0xc2)](),_0x4710d2['getMonth']()+0x1,0x0,0x17,0x3b,0x3b);break;case _0x498469(0x175):_0x1b073a=new Date(_0x4710d2['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x59073e=new Date(_0x4710d2[_0x498469(0xc2)](),0xb,0x1f,0x17,0x3b,0x3b);break;default:throw new Error(_0x498469(0x11f));}return{'startDateFormatted':formatDateToYmdHis(_0x1b073a),'endDateFormatted':formatDateToYmdHis(_0x59073e)};}function updateDateRange(_0x3c6f3a){const _0x52ede9=_0x47fae0,_0x21be3b=document[_0x52ede9(0x171)](_0x52ede9(0x10b));if(_0x3c6f3a=='filtrar'){}else{const {startDateFormatted:_0x4487bc,endDateFormatted:_0xa5088b}=getDateRange(_0x3c6f3a);let _0x54cfbd=window['location'][_0x52ede9(0xf1)][_0x52ede9(0x114)]('?')[0x0];_0x54cfbd+='?page=1&fi='+encodeURIComponent(_0x4487bc)+_0x52ede9(0xbe)+encodeURIComponent(_0xa5088b),window[_0x52ede9(0x120)][_0x52ede9(0xf1)]=_0x54cfbd;}}document[_0x47fae0(0x110)](_0x47fae0(0x155),()=>{const _0x215b59=_0x47fae0,_0x3f047c=document['getElementById'](_0x215b59(0x10b)),_0x1d56d3=document[_0x215b59(0x171)](_0x215b59(0x14e)),_0xfe527=getDateRange(_0x215b59(0xc7)),_0x47c5f8=getDateRange(_0x215b59(0x12e)),_0x237188=getDateRange(_0x215b59(0xb6)),_0x1e8e61=getDateRange(_0x215b59(0x175)),_0x4a48b2=[{'start':_0xfe527['startDateFormatted'],'end':_0xfe527[_0x215b59(0x18a)],'label':_0x215b59(0x152)},{'start':_0x47c5f8['startDateFormatted'],'end':_0x47c5f8[_0x215b59(0x18a)],'label':_0x215b59(0x162)},{'start':_0x237188['startDateFormatted'],'end':_0x237188[_0x215b59(0x18a)],'label':'del\x20mes'},{'start':_0x1e8e61[_0x215b59(0xdb)],'end':_0x1e8e61['endDateFormatted'],'label':'del\x20a&ntilde;o'}];let _0x1e8f4b='';const _0x5df444=_0x215b59(0x153),_0x7b1f7e=_0x215b59(0x11e);for(const _0x3ff406 of _0x4a48b2){if(_0x3ff406[_0x215b59(0x165)]===_0x5df444&&_0x3ff406[_0x215b59(0x154)]===_0x7b1f7e){_0x1e8f4b=_0x3ff406['label']+_0x215b59(0x17d);break;}}_0x3f047c[_0x215b59(0xb8)]=_0x1e8f4b||_0x215b59(0x126),_0x3f047c[_0x215b59(0x110)]('click',()=>{const _0x2a3852=_0x215b59;_0x1d56d3[_0x2a3852(0x13a)][_0x2a3852(0xe4)]=_0x1d56d3[_0x2a3852(0x13a)][_0x2a3852(0xe4)]===_0x2a3852(0x146)?'block':'none';}),_0x1d56d3[_0x215b59(0x110)](_0x215b59(0x14a),_0x2e10ee=>{const _0x145d0a=_0x215b59;if(_0x2e10ee[_0x145d0a(0x160)]&&_0x2e10ee['target'][_0x145d0a(0xd4)]==='LI'){const _0x12801b=_0x2e10ee['target'][_0x145d0a(0xd9)](_0x145d0a(0xc9));updateDateRange(_0x12801b),_0x1d56d3['style'][_0x145d0a(0xe4)]=_0x145d0a(0x146);}}),document[_0x215b59(0x110)](_0x215b59(0x14a),_0xb47c15=>{const _0x598221=_0x215b59;!_0x3f047c['contains'](_0xb47c15[_0x598221(0x160)])&&!_0x1d56d3[_0x598221(0x12c)](_0xb47c15[_0x598221(0x160)])&&(_0x1d56d3['style'][_0x598221(0xe4)]='none');});});const tableWrapper=document[_0x47fae0(0x185)](_0x47fae0(0x113));let isDragging=![],startX,scrollLeft;tableWrapper[_0x47fae0(0x110)](_0x47fae0(0x12a),_0x3e68a9=>{const _0x5db200=_0x47fae0;isDragging=!![],startX=_0x3e68a9[_0x5db200(0x11c)]-tableWrapper[_0x5db200(0x186)],scrollLeft=tableWrapper[_0x5db200(0xe6)];}),tableWrapper[_0x47fae0(0x110)](_0x47fae0(0x143),()=>{isDragging=![];}),tableWrapper[_0x47fae0(0x110)](_0x47fae0(0x148),()=>{isDragging=![];}),tableWrapper[_0x47fae0(0x110)]('mousemove',_0x3c1e9b=>{const _0x5daa6a=_0x47fae0;if(!isDragging)return;_0x3c1e9b[_0x5daa6a(0x156)]();const _0x11540f=_0x3c1e9b['pageX']-tableWrapper[_0x5daa6a(0x186)],_0x5f2374=(_0x11540f-startX)*0x2;tableWrapper[_0x5daa6a(0xe6)]=scrollLeft-_0x5f2374;});async function consultIncomeReport(){const _0x39f726=_0x47fae0;showLoadingModal();const _0x5c342d={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x39f726(0xdf)],'dateFrom':_0x39f726(0x15c),'dateTo':'2025-05-25','clientIds':[0xc,0x22],'operationTypes':[0x2,0x3,0x4]};try{const _0x4dc0a1=await fetch(company[0x0][_0x39f726(0xd0)],{'method':_0x39f726(0xcc),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x39f726(0x129)](_0x5c342d)}),{success:_0x5c944e,message:_0x9fc25e}=await _0x4dc0a1['json']();if(!_0x5c944e||!Array[_0x39f726(0xe9)](_0x9fc25e['incomes'])){ntfShow(_0x39f726(0x163)),console['log'](_0x9fc25e);return;}const _0x268b0a=_0x9fc25e[_0x39f726(0xc1)],_0x2eec70=_0x268b0a[_0x39f726(0x119)]((_0x3128ba,_0x268187)=>{const _0x4fb2c8=_0x39f726,_0x2ae22f=_0x268187[_0x4fb2c8(0xb9)];return!_0x3128ba[_0x2ae22f]&&(_0x3128ba[_0x2ae22f]={'subtotal':0x0,'impuestos':0x0,'total':0x0}),_0x268187[_0x4fb2c8(0x15e)]['forEach'](_0x148525=>{const _0x3e4ec=_0x4fb2c8,_0x84f378=_0x148525[_0x3e4ec(0xf8)]*_0x148525[_0x3e4ec(0xbf)],_0x248eb1=_0x148525['setValorCantidad']*(_0x148525[_0x3e4ec(0x16e)]==='10'||_0x148525[_0x3e4ec(0x16e)]==='18'?_0x148525[_0x3e4ec(0xbf)]*0.18:0x0),_0xf76cba=_0x148525['setMtoPrecioCostoUnitario']*0x0;_0x3128ba[_0x2ae22f][_0x3e4ec(0xe1)]+=_0x84f378,_0x3128ba[_0x2ae22f]['impuestos']+=_0x248eb1+_0xf76cba;}),_0x3128ba;},{});Object['keys'](_0x2eec70)[_0x39f726(0x178)](_0x5c95aa=>{const _0x3d902a=_0x39f726;_0x2eec70[_0x5c95aa]['total']=_0x2eec70[_0x5c95aa][_0x3d902a(0xe1)]+_0x2eec70[_0x5c95aa][_0x3d902a(0x123)];}),arrayIncomes=_0x268b0a[_0x39f726(0xfd)](_0x18c108=>{const _0x10c375=_0x39f726,_0x11b6ea=_0x18c108[_0x10c375(0x15e)][_0x10c375(0x119)]((_0x145823,_0x53f7ce)=>{const _0x59cecc=_0x10c375;return _0x145823+_0x53f7ce[_0x59cecc(0xf8)]*_0x53f7ce['setPrecioUnit'];},0x0);return{'setTipoComprobante':_0x18c108['setReceiptType'],'serie':_0x18c108[_0x10c375(0xf0)]+'-'+_0x18c108[_0x10c375(0x12d)],'cliente':_0x18c108['setReceiptClientName'],'fecha':_0x18c108[_0x10c375(0x121)]||_0x18c108['fecha'],'vencimiento':_0x18c108['setReceiptDueDate']||'','estado':_0x18c108[_0x10c375(0x187)]||_0x10c375(0xea),'estadoColor':_0x18c108['setReceiptStatusColor']||'#FF5900','moneda':_0x18c108[_0x10c375(0xb9)],'Total':_0x11b6ea};});const _0xbb0803=_0x268b0a[_0x39f726(0x141)](_0x3df2bb=>_0x3df2bb[_0x39f726(0x15e)][_0x39f726(0xfd)](_0x123e5c=>({'productName':_0x123e5c[_0x39f726(0x122)],'quantitySold':_0x123e5c[_0x39f726(0xf8)]})));currentPage=0x1,renderTable(arrayIncomes,currentPage);const _0xb9f19f=[...new Set(arrayIncomes['map'](_0x476654=>_0x476654['setTipoComprobante']))];generateFilterTransformChart({'containerId':_0x39f726(0x14f),'rawData':arrayIncomes,'groupField':_0x39f726(0x13e),'groupValues':_0xb9f19f,'encode':{'x':_0x39f726(0x16a),'y':_0x39f726(0x161),'label':[_0x39f726(0x13e),'Total'],'itemName':'fecha','tooltip':[_0x39f726(0x161)]},'title':_0x39f726(0xd8),'width':_0x39f726(0xf2),'height':_0x39f726(0xda)}),generatePieChart({'containerId':_0x39f726(0x138),'data':_0xbb0803,'nameField':_0x39f726(0xf3),'valueField':_0x39f726(0x181),'title':_0x39f726(0x10c)});}catch(_0x207a49){ntfShow('Error\x20al\x20solicitar\x20reporte'),console[_0x39f726(0x11a)](_0x207a49);}finally{hideLoadingModal();}}function renderTable(_0x336da1,_0x2b87e9=0x1){const _0x46204e=_0x47fae0,_0x5ec4f=document['querySelector'](_0x46204e(0xcf));_0x5ec4f['innerHTML']='';const _0x2f13a5=(_0x2b87e9-0x1)*PER_PAGE,_0x3ce39e=_0x336da1[_0x46204e(0x115)](_0x2f13a5,_0x2f13a5+PER_PAGE);_0x3ce39e[_0x46204e(0x178)](_0x2d6fc6=>{const _0x154a6f=_0x46204e,_0x21ac26=document['createElement']('tr');_0x21ac26['innerHTML']=_0x154a6f(0x12f)+_0x2d6fc6[_0x154a6f(0x13e)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d6fc6[_0x154a6f(0x13e)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>'+(_0x2d6fc6[_0x154a6f(0xf5)]||'')+_0x154a6f(0x14b)+(_0x2d6fc6[_0x154a6f(0x158)]||'')+_0x154a6f(0x109)+_0x2d6fc6[_0x154a6f(0x16a)]+_0x154a6f(0x109)+(_0x2d6fc6['vencimiento']||'')+_0x154a6f(0x177)+_0x2d6fc6[_0x154a6f(0x10a)]+';\x20color:'+_0x2d6fc6[_0x154a6f(0x10a)]+_0x154a6f(0x166)+_0x2d6fc6[_0x154a6f(0x132)]+_0x154a6f(0x100)+_0x2d6fc6[_0x154a6f(0xd6)]+'\x20'+_0x2d6fc6[_0x154a6f(0x161)][_0x154a6f(0xff)](0x2)+_0x154a6f(0x15d),_0x5ec4f[_0x154a6f(0x16c)](_0x21ac26);}),renderPagination(_0x336da1[_0x46204e(0x116)],_0x2b87e9);}function renderPagination(_0x3f495e,_0x23213b){const _0x12bbb5=_0x47fae0,_0x33a17e=document['querySelector'](_0x12bbb5(0x133));_0x33a17e[_0x12bbb5(0xb8)]='';const _0x4ff488=Math['ceil'](_0x3f495e/PER_PAGE),_0x20e2ac=document[_0x12bbb5(0xfb)]('a');_0x20e2ac[_0x12bbb5(0xf1)]='#',_0x20e2ac['className']=_0x12bbb5(0x15b),_0x20e2ac[_0x12bbb5(0xb8)]=_0x12bbb5(0x16f),_0x20e2ac[_0x12bbb5(0x157)]=_0x2db802=>{_0x2db802['preventDefault'](),_0x23213b>0x1&&(currentPage--,renderTable(arrayIncomes,currentPage));},_0x33a17e['appendChild'](_0x20e2ac);for(let _0x5decc5=0x1;_0x5decc5<=_0x4ff488;_0x5decc5++){const _0x217e60=document[_0x12bbb5(0xfb)]('a');_0x217e60['href']='#',_0x217e60['className']='btn\x20btn-sm\x20'+(_0x5decc5===_0x23213b?_0x12bbb5(0xec):'btn-outline'),_0x217e60[_0x12bbb5(0x17b)]=_0x5decc5,_0x217e60['onclick']=_0x3667b4=>{_0x3667b4['preventDefault'](),currentPage=_0x5decc5,renderTable(arrayIncomes,currentPage);},_0x33a17e[_0x12bbb5(0x16c)](_0x217e60);}const _0xa4867c=document['createElement']('a');_0xa4867c[_0x12bbb5(0xf1)]='#',_0xa4867c[_0x12bbb5(0xfa)]=_0x12bbb5(0xf6),_0xa4867c['innerHTML']=_0x12bbb5(0x183),_0xa4867c[_0x12bbb5(0x157)]=_0x5553d5=>{_0x5553d5['preventDefault'](),_0x23213b<_0x4ff488&&(currentPage++,renderTable(arrayIncomes,currentPage));},_0x33a17e[_0x12bbb5(0x16c)](_0xa4867c);}document['getElementById'](_0x47fae0(0xc4))[_0x47fae0(0x110)](_0x47fae0(0x14a),async()=>{const _0x423aef=_0x47fae0,_0x2f488b=document['getElementById'](_0x423aef(0x168))[_0x423aef(0x12b)],_0x4aa05e=document[_0x423aef(0x171)](_0x423aef(0x128))['value'];if(!_0x2f488b||!_0x4aa05e)return alert(_0x423aef(0xfc));const _0x481322=document['getElementById'](_0x423aef(0x104)),_0x234518=bootstrap[_0x423aef(0x142)]['getInstance'](_0x481322);_0x234518[_0x423aef(0xc8)](),showLoadingModal();try{const _0x4b3a80={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x423aef(0xdf)],'dateFrom':_0x2f488b+_0x423aef(0x180),'dateTo':_0x4aa05e+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0x56b7c7=await fetch(company[0x0][_0x423aef(0xd0)],{'method':_0x423aef(0xcc),'headers':{'Content-Type':_0x423aef(0x159)},'body':JSON[_0x423aef(0x129)](_0x4b3a80)}),{success:_0x31f1b9,message:_0x5d8da6}=await _0x56b7c7[_0x423aef(0x118)]();if(!_0x31f1b9)throw new Error(_0x5d8da6);_0x5d8da6[_0x423aef(0xc1)],await consultIncomeReport();}catch(_0x3e88cc){ntfShow(_0x423aef(0xe0)),console[_0x423aef(0x11a)](_0x3e88cc);}finally{hideLoadingModal();}}),window[_0x47fae0(0xca)]=function(){const _0x3678c4=_0x47fae0,_0x2882fb=0x3;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x1e4117=document[_0x3678c4(0x185)](_0x3678c4(0x176));_0x1e4117&&_0x1e4117[_0x3678c4(0x110)]('click',function(){logoutReload(0x0,_0x2882fb);}),document[_0x3678c4(0x171)](_0x3678c4(0x189))[_0x3678c4(0x110)](_0x3678c4(0x105),async function(){const _0xac1ff7=_0x3678c4,_0x186192=parseInt(this[_0xac1ff7(0x12b)]);company[0x0]['setBranchDefault']=_0x186192;const _0x196f44=await createCartStore('');await saveCompanyToIndexedDB(company,_0x196f44),cargarAlmacenes(_0x186192),setTimeout(()=>{const _0x5447b8=_0xac1ff7;document[_0x5447b8(0x171)]('setWarehouseId')[_0x5447b8(0xd1)](new Event('change'));},0x64),cargarPisos(_0x186192),setTimeout(()=>{const _0x15169b=_0xac1ff7;document[_0x15169b(0x171)](_0x15169b(0xd2))['dispatchEvent'](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2882fb);};