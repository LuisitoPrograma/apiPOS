/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.5
*/

const _0x3bdd24=_0x3232;function _0x3232(_0x5825d7,_0x3dfea1){const _0x1abcf8=_0x3972();return _0x3232=function(_0xcccc95,_0x13fe99){_0xcccc95=_0xcccc95-0x1aa;let _0x3e056a=_0x1abcf8[_0xcccc95];return _0x3e056a;},_0x3232(_0x5825d7,_0x3dfea1);}(function(_0x5cec2d,_0x30caec){const _0x4fece3=_0x3232,_0x30928f=_0x5cec2d();while(!![]){try{const _0x31f553=parseInt(_0x4fece3(0x1fa))/0x1+parseInt(_0x4fece3(0x1f6))/0x2*(parseInt(_0x4fece3(0x283))/0x3)+parseInt(_0x4fece3(0x1d5))/0x4+parseInt(_0x4fece3(0x270))/0x5+-parseInt(_0x4fece3(0x205))/0x6*(parseInt(_0x4fece3(0x23f))/0x7)+-parseInt(_0x4fece3(0x219))/0x8*(parseInt(_0x4fece3(0x1d8))/0x9)+-parseInt(_0x4fece3(0x2bc))/0xa*(parseInt(_0x4fece3(0x2a5))/0xb);if(_0x31f553===_0x30caec)break;else _0x30928f['push'](_0x30928f['shift']());}catch(_0x19e1c9){_0x30928f['push'](_0x30928f['shift']());}}}(_0x3972,0x59988));const _0x295531=(function(){let _0x313ef7=!![];return function(_0x11811d,_0x46f3a2){const _0x9b3362=_0x313ef7?function(){const _0x2081cd=_0x3232;if(_0x46f3a2){const _0xf5035c=_0x46f3a2[_0x2081cd(0x209)](_0x11811d,arguments);return _0x46f3a2=null,_0xf5035c;}}:function(){};return _0x313ef7=![],_0x9b3362;};}()),_0x1cc893=_0x295531(this,function(){const _0x311158=_0x3232;return _0x1cc893['toString']()['search'](_0x311158(0x1dc))['toString']()[_0x311158(0x227)](_0x1cc893)[_0x311158(0x2bf)]('(((.+)+)+)+$');});_0x1cc893();const _0x13fe99=(function(){let _0x35e6fb=!![];return function(_0x4d2c2c,_0x1481f7){const _0x245d00=_0x35e6fb?function(){if(_0x1481f7){const _0x2a6fe2=_0x1481f7['apply'](_0x4d2c2c,arguments);return _0x1481f7=null,_0x2a6fe2;}}:function(){};return _0x35e6fb=![],_0x245d00;};}()),_0xcccc95=_0x13fe99(this,function(){const _0x22cdc0=_0x3232,_0xecd5d2=function(){const _0x1cb611=_0x3232;let _0x43774b;try{_0x43774b=Function(_0x1cb611(0x247)+_0x1cb611(0x225)+');')();}catch(_0x64d707){_0x43774b=window;}return _0x43774b;},_0x4ed21f=_0xecd5d2(),_0x5e3695=_0x4ed21f[_0x22cdc0(0x1af)]=_0x4ed21f[_0x22cdc0(0x1af)]||{},_0x14c412=[_0x22cdc0(0x260),_0x22cdc0(0x241),_0x22cdc0(0x1eb),_0x22cdc0(0x25b),_0x22cdc0(0x2a9),_0x22cdc0(0x1ec),_0x22cdc0(0x24d)];for(let _0x132c24=0x0;_0x132c24<_0x14c412['length'];_0x132c24++){const _0xfdc3c=_0x13fe99['constructor'][_0x22cdc0(0x25d)][_0x22cdc0(0x1c4)](_0x13fe99),_0x38e407=_0x14c412[_0x132c24],_0x2677cf=_0x5e3695[_0x38e407]||_0xfdc3c;_0xfdc3c[_0x22cdc0(0x24f)]=_0x13fe99[_0x22cdc0(0x1c4)](_0x13fe99),_0xfdc3c[_0x22cdc0(0x267)]=_0x2677cf[_0x22cdc0(0x267)][_0x22cdc0(0x1c4)](_0x2677cf),_0x5e3695[_0x38e407]=_0xfdc3c;}});_0xcccc95();let arrayIncomes;const fil_init_dates=document[_0x3bdd24(0x202)]('date-range-label-icon'),label=document[_0x3bdd24(0x202)](_0x3bdd24(0x250)),options=document[_0x3bdd24(0x202)](_0x3bdd24(0x2ae)),divChartIncome=document[_0x3bdd24(0x202)]('divChartIncome'),divChartItem=document['getElementById'](_0x3bdd24(0x298)),divChartCustomer=document[_0x3bdd24(0x202)](_0x3bdd24(0x22d));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x2a4542){const _0x27e68e=_0x3bdd24,{containerId:_0x13dc94,rawData:_0x314979,groupField:_0x3a32ca,groupValues:_0x3862c5,seriesType:seriesType=_0x27e68e(0x1c5),chartType:chartType=seriesType,encode:_0xd39e0d,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x27e68e(0x258),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x197393,height:_0x372289}=_0x2a4542,_0x11cc15=document[_0x27e68e(0x202)](_0x13dc94);if(!_0x11cc15){console[_0x27e68e(0x25b)](_0x27e68e(0x25a)+_0x13dc94+_0x27e68e(0x226));return;}if(_0x197393)_0x11cc15[_0x27e68e(0x23c)][_0x27e68e(0x2b8)]=_0x197393;if(_0x372289)_0x11cc15['style'][_0x27e68e(0x22e)]=_0x372289;const _0x54b912=echarts[_0x27e68e(0x25f)](_0x11cc15),_0x4c8ba1=[],_0x53e74a=[];_0x3862c5[_0x27e68e(0x2a0)]((_0x2f5c5c,_0x36b0fa)=>{const _0xeb9996=_0x27e68e,_0x1b4c94=_0xeb9996(0x1b1)+_0x2f5c5c,_0x10b6d1=(_0x2a4542['additionalFilters']||[])[_0xeb9996(0x28b)]([{'dimension':_0x3a32ca,'=':_0x2f5c5c}]);_0x4c8ba1[_0xeb9996(0x231)]({'id':_0x1b4c94,'fromDatasetId':'dataset_raw','transform':{'type':_0xeb9996(0x291),'config':{'and':_0x10b6d1}}}),_0x53e74a['push']({'type':chartType,'datasetId':_0x1b4c94,'name':_0x2f5c5c,...chartType===_0xeb9996(0x236)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x36b0fa]||undefined},...chartType===_0xeb9996(0x1c5)&&{'showSymbol':![]},'encode':_0xd39e0d});});const _0x26d5ec={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x314979},..._0x4c8ba1],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object['assign']({'type':'category','nameLocation':_0x27e68e(0x22a)},xAxisConfig),'yAxis':Object[_0x27e68e(0x217)]({'name':_0xd39e0d['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x53e74a};_0x54b912[_0x27e68e(0x2b6)](_0x26d5ec);}function generatePieChart({containerId:_0x110d58,data:_0x26fb85,nameField:_0x44c9ee,valueField:_0x1cb9f6,title:title='',titlePosition:titlePosition=_0x3bdd24(0x1bc),showTitle:showTitle=!![],width:_0x58a760,height:_0x14e936}){const _0x45a01b=_0x3bdd24,_0x1327e4=document[_0x45a01b(0x202)](_0x110d58);if(!_0x1327e4)return console['error'](_0x45a01b(0x230)+_0x110d58+_0x45a01b(0x26f));if(_0x58a760)_0x1327e4[_0x45a01b(0x23c)]['width']=_0x58a760;if(_0x14e936)_0x1327e4[_0x45a01b(0x23c)][_0x45a01b(0x22e)]=_0x14e936;const _0x47534a=echarts[_0x45a01b(0x25f)](_0x1327e4),_0xf25d4d=_0x26fb85[_0x45a01b(0x299)]((_0x1ffc47,_0x3dd1b4)=>{const _0x2d2a31=_0x45a01b,_0x345fae=_0x3dd1b4[_0x44c9ee],_0x40dd53=_0x3dd1b4[_0x1cb9f6];let _0x49b045=_0x1ffc47[_0x2d2a31(0x234)](_0xd393c3=>_0xd393c3[_0x2d2a31(0x27b)]===_0x345fae);return!_0x49b045&&(_0x49b045={'name':_0x345fae,'value':0x0},_0x1ffc47['push'](_0x49b045)),_0x49b045[_0x2d2a31(0x1d6)]+=_0x40dd53,_0x1ffc47;},[]);let _0x20fcca;showTitle?(_0x20fcca={'text':title,'left':_0x45a01b(0x1f0)},titlePosition===_0x45a01b(0x253)?_0x20fcca[_0x45a01b(0x253)]=0x0:_0x20fcca[_0x45a01b(0x1bc)]=0x0):_0x20fcca={'show':![]};const _0x57ed88={'title':_0x20fcca,'tooltip':{'trigger':'item'},'series':[{'type':_0x45a01b(0x1bb),'radius':_0x45a01b(0x1d4),'data':_0xf25d4d,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x45a01b(0x220)}}]};_0x47534a[_0x45a01b(0x2b6)](_0x57ed88);}function _0x3972(){const _0x180d26=['application/octet-stream','target','setOption','catch','width','offsetLeft','customerName','smtp.miempresa.com','6980iEpsyd','querySelectorAll','both','search','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','getMinutes','Reporte\x20','ceil','setOperationDetailUnitPresentationId','console','add','dataset_','padStart','getAttribute','setWarehouseId','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','filter-end','\x0a<td\x20class=\x22td-bg-none\x22>','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','Error\x20al\x20cargar\x20el\x20detalle:','fechaISO','pie','top','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','tagName','sort','100%','getSeconds','...','exportReport','bind','line','innerHTML','valor_unitario','year','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','#FF5900','#pagination-income','factura','PLE_Ventas','scrollLeft','querySelector','\x20al\x20','getHours','sales','setOperationTypeSpan','50%','444020KNCjiN','value','setDate','18765ndRJqh','onclick',';\x22>\x0a','createElement','(((.+)+)+)+$','#reporte-income','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','\x0a<tr>\x0a<td>','status','total','appendChild','setOperationItems','setOperationTotal','btn\x20btn-sm\x20','round','\x0a<iframe\x20src=\x22','active','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','#pagination-customers','info','table','setBranchDefault','Evolución\x20de\x20Ventas','setOperationDetailUnitCost','center','from','setDescripcion','preventDefault','Total','customers','2mycQMq','then','.table-wrapper','btn\x20btn-sm\x20btn-outline\x20ms-2','681646TvxQiu','download','./img/apiPOS.png','incomes','data','className','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','success','getElementById','setOperationDateTime','category','6ZWlKVH','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','Ventas\x20por\x20Cliente','block','apply','\x20-\x20','profit','getInstance','week','classList','\x0a</td>\x0a','51954738620','setTipoOperacionCodigo','currency','.modal-content','setCustomers','isArray','href','assign','https://fasyb.com/api/pdf/proxy/?file=','632PjRlPp','500px','getMonth','\x2023:59:59','json','producto','Error\x20WA:','{b}:\x20{d}%','none','shadow','products','No\x20se\x20encontró\x20información\x20de\x20ingresos','{}.constructor(\x22return\x20this\x22)(\x20)','\x22\x20no\x20existe.','constructor','setSeries','</td>\x0a','middle','values','#pagination-products','divChartCustomer','height','remove','Contenedor\x20','push','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','setOperationPaymentStatusName','find','setAuthToken','bar','&laquo;\x20Anterior','result','#00AEEF','revokeObjectURL','https://fasyb.com/api/venta/view/?id=','style','setOperationPaymentStatus','entries','4535951rjhzOY','setTipoOperacionName','warn','axis','setOperationSeries','Pendiente','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>',';\x20color:\x20','return\x20(function()\x20','setBranchId','btn-outline-primary','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','Siguiente\x20&raquo;','trace','onmessage','__proto__','date-range-label','day','\x20tbody','bottom','createObjectURL','setOperationDetailQuantity','detalleTablaBody','Selecciona\x20ambas\x20fechas','valueDesc','&tipo=','El\x20contenedor\x20con\x20id\x20\x22','error','\x2000:00:00','prototype','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','init','log','toFixed','setOperationId','#00bb2d','setApiEndPoint','dispatchEvent','divChartIncome','toString','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','Error\x20al\x20aplicar\x20filtro',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setOperationPaymentStatusColor','setOperationDetailTotal','400px','#reporte-income-products','\x20no\x20existe','1663220xWonmI','boleta','setCustomerName','\x0a</td>\x0a<td></td>\x0a','setOperationCustomerId','dynamicContent','cantidad','Ventas','luispurizaca.1908@gmail.com','application/json;\x20charset=utf-8','display','name','setFloorId','hide','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','closeModalViewDetails','textContent','getDate','toISOString','1421685AyCTMb','cost','stringify','filter-start','modalOverlayViewDetails','POST','change','.btn-logout','concat','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','pageX','setOperationNumber','flatMap','#reporte-income-customers','filter','setTipoComprobante','addEventListener','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','click','onload','mouseup','divChartItem','reduce','#080060','</td>\x0a<td>','setOperationType','Ventas\x20por\x20Producto','productName','contains','forEach','Modo\x20de\x20exportación\x20desconocido:','detalleModal','map','mousedown','6611VZuNnL','PASSWORD123','statusText','split','exception','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','Error\x20al\x20cargar\x20el\x20detalle.','length','document','date-range-options','mousemove','mouseleave','getFullYear','setOperationCurrency','Export\x20WK\x20Error:'];_0x3972=function(){return _0x180d26;};return _0x3972();}function generateHorizontalBarChart({containerId:_0x2320a8,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x3bdd24(0x1bc),showTitle:showTitle=!![],colors:colors=[],width:_0x21e482,height:_0x219ce8,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x5dbcee=_0x3bdd24,_0x165a1f=document[_0x5dbcee(0x202)](_0x2320a8);if(!_0x165a1f)return console['error']('Contenedor\x20'+_0x2320a8+_0x5dbcee(0x26f));if(_0x21e482)_0x165a1f[_0x5dbcee(0x23c)]['width']=_0x21e482;if(_0x219ce8)_0x165a1f[_0x5dbcee(0x23c)]['height']=_0x219ce8;const _0x381b8e=echarts[_0x5dbcee(0x25f)](_0x165a1f),_0x5c0163=showTitle?{'text':title,'left':_0x5dbcee(0x1f0),...titlePosition===_0x5dbcee(0x253)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x5dbcee(0x253)?_0x5c0163[_0x5dbcee(0x253)]=0x0:_0x5c0163[_0x5dbcee(0x1bc)]=0x0;const _0x575ab1={'title':_0x5c0163,'tooltip':{'trigger':_0x5dbcee(0x242),'axisPointer':{'type':_0x5dbcee(0x222)}},'legend':{},'grid':Object[_0x5dbcee(0x217)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x5dbcee(0x217)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x5dbcee(0x217)]({'type':_0x5dbcee(0x204),'data':categories},yAxisConfig),'series':series[_0x5dbcee(0x2a3)]((_0x3dddac,_0x4248e7)=>({'type':_0x5dbcee(0x236),'name':_0x3dddac[_0x5dbcee(0x27b)],'data':_0x3dddac[_0x5dbcee(0x1fe)],'itemStyle':{'color':colors[_0x4248e7]||undefined}}))};_0x381b8e[_0x5dbcee(0x2b6)](_0x575ab1);}function showModalViewDetails(){const _0x458a24=_0x3bdd24,_0x37d099=document['getElementById'](_0x458a24(0x2a2)),_0x1c3b24=document[_0x458a24(0x202)](_0x458a24(0x287));_0x37d099[_0x458a24(0x20e)][_0x458a24(0x1b0)](_0x458a24(0x1e8)),_0x1c3b24[_0x458a24(0x23c)]['display']=_0x458a24(0x208);}function hideModalViewDetails(){const _0x1b9fe5=_0x3bdd24,_0x4a5bcb=document[_0x1b9fe5(0x202)](_0x1b9fe5(0x2a2)),_0x21003f=document[_0x1b9fe5(0x202)]('modalOverlayViewDetails');_0x4a5bcb['classList'][_0x1b9fe5(0x22f)](_0x1b9fe5(0x1e8)),_0x21003f[_0x1b9fe5(0x23c)]['display']=_0x1b9fe5(0x221);const _0x5a11c0=document['getElementById'](_0x1b9fe5(0x275));_0x5a11c0[_0x1b9fe5(0x1c6)]=_0x1b9fe5(0x206);}document[_0x3bdd24(0x202)]('closeModalViewDetails')[_0x3bdd24(0x293)]('click',hideModalViewDetails),document[_0x3bdd24(0x202)](_0x3bdd24(0x287))[_0x3bdd24(0x293)](_0x3bdd24(0x295),hideModalViewDetails);function verDetalle(_0x161a23,_0x17fa74){const _0x17c12e=_0x3bdd24;fetch(_0x17c12e(0x23b)+_0x161a23+_0x17c12e(0x259)+_0x17fa74)[_0x17c12e(0x1f7)](_0x14ffaa=>{const _0x369bd7=_0x17c12e;if(!_0x14ffaa['ok'])throw new Error('Error\x20'+_0x14ffaa[_0x369bd7(0x1e0)]+':\x20'+_0x14ffaa[_0x369bd7(0x2a7)]);return _0x14ffaa[_0x369bd7(0x21d)]();})[_0x17c12e(0x1f7)](_0x137ba7=>{const _0xe9737b=_0x17c12e;if(_0x137ba7[_0xe9737b(0x201)]){const _0x36970c=document[_0xe9737b(0x202)]('dynamicContent');if(_0x17fa74==='detalle'){let _0x33356c='';_0x137ba7[_0xe9737b(0x1fe)]['forEach'](_0x46199f=>{const _0x1dde0e=_0xe9737b;_0x33356c+=_0x1dde0e(0x1df)+_0x46199f[_0x1dde0e(0x21e)]+_0x1dde0e(0x29b)+_0x46199f[_0x1dde0e(0x276)]+_0x1dde0e(0x29b)+_0x46199f[_0x1dde0e(0x1c7)]+'</td>\x0a<td>'+_0x46199f[_0x1dde0e(0x1e1)]+'</td>\x0a</tr>';}),document[_0xe9737b(0x202)](_0xe9737b(0x256))['innerHTML']=_0x33356c;}else{if(_0x17fa74==='pdf'){const _0xb59fe7=_0xe9737b(0x218)+encodeURIComponent(_0x137ba7['pdf_url']),_0x1ad921=document[_0xe9737b(0x1cf)](_0xe9737b(0x213));_0x36970c[_0xe9737b(0x1c6)]=_0xe9737b(0x1e7)+_0xb59fe7+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0xe9737b(0x202)](_0xe9737b(0x27f))[_0xe9737b(0x293)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x137ba7[_0xe9737b(0x25b)]||_0xe9737b(0x27e));})[_0x17c12e(0x2b7)](_0x15b4e9=>{const _0x6a36df=_0x17c12e;console[_0x6a36df(0x25b)](_0x6a36df(0x1b9),_0x15b4e9),alert(_0x6a36df(0x2ab));});}label[_0x3bdd24(0x293)](_0x3bdd24(0x295),()=>{const _0x2d3938=_0x3bdd24;options['style'][_0x2d3938(0x27a)]=options[_0x2d3938(0x23c)][_0x2d3938(0x27a)]===_0x2d3938(0x221)?'block':'none';}),options['addEventListener'](_0x3bdd24(0x295),_0x5275cf=>{const _0x5226a1=_0x3bdd24;if(_0x5275cf['target']&&_0x5275cf['target'][_0x5226a1(0x1be)]==='LI'){const _0x2032bf=_0x5275cf[_0x5226a1(0x2b5)][_0x5226a1(0x1b3)]('data-value');updateDateRange(_0x2032bf),options[_0x5226a1(0x23c)]['display']=_0x5226a1(0x221);}}),document['addEventListener']('click',_0x354c24=>{const _0x44ba85=_0x3bdd24;!label[_0x44ba85(0x29f)](_0x354c24[_0x44ba85(0x2b5)])&&!options[_0x44ba85(0x29f)](_0x354c24[_0x44ba85(0x2b5)])&&(options[_0x44ba85(0x23c)]['display']=_0x44ba85(0x221));});function formatDateToYmdHis(_0x5ca2fa){const _0x38206b=_0x3bdd24,_0xa399a9=_0x5ca2fa[_0x38206b(0x2b1)](),_0x10a1ee=String(_0x5ca2fa['getMonth']()+0x1)['padStart'](0x2,'0'),_0x49cf80=String(_0x5ca2fa[_0x38206b(0x281)]())[_0x38206b(0x1b2)](0x2,'0'),_0x2651f1=String(_0x5ca2fa[_0x38206b(0x1d1)]())[_0x38206b(0x1b2)](0x2,'0'),_0x4dd8d6=String(_0x5ca2fa[_0x38206b(0x1ab)]())[_0x38206b(0x1b2)](0x2,'0'),_0x21a689=String(_0x5ca2fa[_0x38206b(0x1c1)]())['padStart'](0x2,'0');return _0xa399a9+'-'+_0x10a1ee+'-'+_0x49cf80+'\x20'+_0x2651f1+':'+_0x4dd8d6+':'+_0x21a689;}function getDateRange(_0x50e68d){const _0x4c57b2=_0x3bdd24,_0x3663a7=new Date();let _0x19c151,_0x1511f0;switch(_0x50e68d){case _0x4c57b2(0x251):_0x19c151=new Date(_0x3663a7[_0x4c57b2(0x2b1)](),_0x3663a7[_0x4c57b2(0x21b)](),_0x3663a7[_0x4c57b2(0x281)](),0x0,0x0,0x0),_0x1511f0=new Date(_0x3663a7[_0x4c57b2(0x2b1)](),_0x3663a7['getMonth'](),_0x3663a7[_0x4c57b2(0x281)](),0x17,0x3b,0x3b),label['innerHTML']=_0x4c57b2(0x1de);break;case _0x4c57b2(0x20d):const _0x236f76=_0x3663a7['getDay'](),_0x137a58=new Date(_0x3663a7);_0x137a58[_0x4c57b2(0x1d7)](_0x3663a7[_0x4c57b2(0x281)]()-_0x236f76+(_0x236f76===0x0?-0x6:0x1));const _0x19ba8a=new Date(_0x137a58);_0x19ba8a['setDate'](_0x137a58[_0x4c57b2(0x281)]()+0x6),_0x19c151=new Date(_0x137a58[_0x4c57b2(0x2b1)](),_0x137a58[_0x4c57b2(0x21b)](),_0x137a58[_0x4c57b2(0x281)](),0x0,0x0,0x0),_0x1511f0=new Date(_0x19ba8a[_0x4c57b2(0x2b1)](),_0x19ba8a[_0x4c57b2(0x21b)](),_0x19ba8a[_0x4c57b2(0x281)](),0x17,0x3b,0x3b),label[_0x4c57b2(0x1c6)]=_0x4c57b2(0x268);break;case'month':_0x19c151=new Date(_0x3663a7['getFullYear'](),_0x3663a7[_0x4c57b2(0x21b)](),0x1,0x0,0x0,0x0),_0x1511f0=new Date(_0x3663a7[_0x4c57b2(0x2b1)](),_0x3663a7[_0x4c57b2(0x21b)]()+0x1,0x0,0x17,0x3b,0x3b),label['innerHTML']=_0x4c57b2(0x245);break;case _0x4c57b2(0x1c8):_0x19c151=new Date(_0x3663a7['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x1511f0=new Date(_0x3663a7[_0x4c57b2(0x2b1)](),0xb,0x1f,0x17,0x3b,0x3b),label['innerHTML']='del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;default:label[_0x4c57b2(0x1c6)]='';throw new Error('Invalid\x20range\x20type');}return{'startDateFormatted':formatDateToYmdHis(_0x19c151),'endDateFormatted':formatDateToYmdHis(_0x1511f0)};}function updateDateRange(_0x152499){if(_0x152499=='filtrar'){}else{const {startDateFormatted:_0x2462d7,endDateFormatted:_0x2e20ef}=getDateRange(_0x152499);fil_date_start=_0x2462d7,fil_date_end=_0x2e20ef,consultIncomeReport();}}const tableWrappers=document[_0x3bdd24(0x2bd)](_0x3bdd24(0x1f8));tableWrappers[_0x3bdd24(0x2a0)](_0x308ec4=>{const _0x4e9311=_0x3bdd24;let _0x55fdf9=![],_0x4c30a7,_0x340386;_0x308ec4[_0x4e9311(0x293)](_0x4e9311(0x2a4),_0x1f06ea=>{const _0x23d7d7=_0x4e9311;_0x55fdf9=!![],_0x4c30a7=_0x1f06ea[_0x23d7d7(0x28d)]-_0x308ec4[_0x23d7d7(0x2b9)],_0x340386=_0x308ec4[_0x23d7d7(0x1ce)];}),_0x308ec4[_0x4e9311(0x293)](_0x4e9311(0x2b0),()=>{_0x55fdf9=![];}),_0x308ec4['addEventListener'](_0x4e9311(0x297),()=>{_0x55fdf9=![];}),_0x308ec4[_0x4e9311(0x293)](_0x4e9311(0x2af),_0x298b24=>{const _0x5af64f=_0x4e9311;if(!_0x55fdf9)return;_0x298b24[_0x5af64f(0x1f3)]();const _0x3af82c=_0x298b24[_0x5af64f(0x28d)]-_0x308ec4[_0x5af64f(0x2b9)],_0x35095c=(_0x3af82c-_0x4c30a7)*0x2;_0x308ec4['scrollLeft']=_0x340386-_0x35095c;});});async function consultIncomeReport(){const _0xe04b81=_0x3bdd24;showLoadingModal();const _0xb2eb61={'apiPOS_getIncome':0x1,'setToken':myCompany[_0xe04b81(0x235)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x3bf057=await fetch(myCompany[_0xe04b81(0x264)],{'method':_0xe04b81(0x288),'headers':{'Content-Type':_0xe04b81(0x279)},'body':JSON[_0xe04b81(0x285)](_0xb2eb61)}),{success:_0x257b2b,message:_0x10ebe}=await _0x3bf057[_0xe04b81(0x21d)]();if(!_0x257b2b||!Array[_0xe04b81(0x215)](_0x10ebe[_0xe04b81(0x1fd)])){ntfShow(_0xe04b81(0x224)),console[_0xe04b81(0x260)](_0x10ebe);return;}const _0x36b539=_0x10ebe['incomes'],_0x1dfb7e=myCompany[_0xe04b81(0x214)][_0xe04b81(0x299)]((_0x208f0b,_0x2b495c)=>(_0x208f0b[_0x2b495c['setCustomerId']]=_0x2b495c[_0xe04b81(0x272)],_0x208f0b),{}),_0x2b8fe2=myCompany['setTipoOperaciones'][_0xe04b81(0x299)]((_0x45f34f,_0x496873)=>(_0x45f34f[_0x496873[_0xe04b81(0x211)]]=_0x496873[_0xe04b81(0x240)],_0x45f34f),{}),_0x111e27=myCompany[_0xe04b81(0x228)][_0xe04b81(0x299)]((_0x4242de,_0x51d1fa)=>(_0x4242de[_0x51d1fa['ID_SERIE']]=_0x51d1fa['setSerie'],_0x4242de),{});arrayIncomes=_0x36b539[_0xe04b81(0x2a3)](_0x330e30=>{const _0x1d6c2a=_0xe04b81,_0x3a3613=_0x330e30[_0x1d6c2a(0x1e3)][_0x1d6c2a(0x299)]((_0x2dfafa,_0x1b9a54)=>_0x2dfafa+Number(_0x1b9a54['setOperationDetailTotal']),0x0),_0x348f6d=_0x2b8fe2[_0x330e30['setOperationType']]||_0x330e30['setOperationType'],_0x4814f1=_0x111e27[_0x330e30[_0x1d6c2a(0x243)]]||_0x330e30[_0x1d6c2a(0x243)],_0x27d172=_0x1dfb7e[_0x330e30[_0x1d6c2a(0x274)]]||_0x330e30['setOperationCustomerId'],_0x33fe16=_0x330e30['setOperationPaymentStatus']==0x1?_0x1d6c2a(0x263):_0x1d6c2a(0x1ca),_0x1a8030=_0x330e30[_0x1d6c2a(0x23d)]==0x1?'Pagado':_0x1d6c2a(0x244),_0x4f758c=_0x330e30[_0x1d6c2a(0x29c)]==0x1?'pedido':_0x330e30[_0x1d6c2a(0x29c)]==0x2?'recibo':_0x330e30['setOperationType']==0x3?_0x1d6c2a(0x271):_0x330e30[_0x1d6c2a(0x29c)]==0x4?_0x1d6c2a(0x1cc):'recibo';return{'setOperationId':_0x330e30[_0x1d6c2a(0x262)],'setOperationType':_0x348f6d,'setOperationTypeSpan':_0x4f758c,'setOperationSeries':_0x4814f1+'-'+_0x330e30[_0x1d6c2a(0x28e)],'setOperationCustomerName':_0x27d172,'setOperationDateTime':_0x330e30[_0x1d6c2a(0x203)],'setOperationPaymentStatusColor':_0x33fe16,'setOperationPaymentStatusName':_0x1a8030,'setOperationCurrency':_0x330e30[_0x1d6c2a(0x2b2)],'setOperationTotal':_0x3a3613};});const _0x3da5c3=_0x36b539[_0xe04b81(0x28f)](_0x38eed9=>_0x38eed9[_0xe04b81(0x1e3)][_0xe04b81(0x2a3)](_0x5280d6=>({'item':_0x5280d6,'moneda':_0x38eed9[_0xe04b81(0x2b2)]})))['reduce']((_0x3da830,{item:_0x1d5d1e,moneda:_0x2a785f})=>{const _0x469905=_0xe04b81,_0x41107f=products[_0x469905(0x234)](_0x2be5d2=>_0x2be5d2['id']==_0x1d5d1e[_0x469905(0x1ae)]),_0x2f598f=_0x41107f?_0x41107f[_0x469905(0x1f2)]:'Sin\x20descripción',_0x4a820a=_0x2f598f+'|'+_0x2a785f,_0x3f155f=Number(_0x1d5d1e[_0x469905(0x26c)]),_0x289e9c=Number(_0x1d5d1e[_0x469905(0x1ef)])*Number(_0x1d5d1e[_0x469905(0x255)]);return!_0x3da830[_0x4a820a]&&(_0x3da830[_0x4a820a]={'productName':_0x2f598f,'currency':_0x2a785f,'sales':0x0,'cost':0x0}),_0x3da830[_0x4a820a][_0x469905(0x1d2)]+=_0x3f155f,_0x3da830[_0x4a820a]['cost']+=_0x289e9c,_0x3da830;},{}),_0x2a26f5=Object[_0xe04b81(0x22b)](_0x3da5c3)['map'](_0x48c0d8=>({'productName':_0x48c0d8[_0xe04b81(0x29e)],'currency':_0x48c0d8[_0xe04b81(0x212)],'sales':Math[_0xe04b81(0x1e6)](_0x48c0d8[_0xe04b81(0x1d2)]*0x64)/0x64,'cost':Math[_0xe04b81(0x1e6)](_0x48c0d8[_0xe04b81(0x284)]*0x64)/0x64,'profit':Math[_0xe04b81(0x1e6)]((_0x48c0d8['sales']-_0x48c0d8[_0xe04b81(0x284)])*0x64)/0x64})),_0x517fed=_0x36b539[_0xe04b81(0x299)]((_0x2bfdf3,_0x56ca4a)=>{const _0x251f86=_0xe04b81,_0x3c8fa8=_0x1dfb7e[_0x56ca4a[_0x251f86(0x274)]]||_0x56ca4a[_0x251f86(0x274)],_0x117c75=_0x56ca4a[_0x251f86(0x2b2)],_0x28f446=_0x3c8fa8+'|'+_0x117c75,_0x49a494=_0x56ca4a['setOperationItems']['reduce']((_0x1af09a,_0x761b74)=>_0x1af09a+Number(_0x761b74[_0x251f86(0x26c)]),0x0),_0x748f4b=_0x56ca4a[_0x251f86(0x1e3)]['reduce']((_0x2bb6c6,_0x4dc92b)=>_0x2bb6c6+Number(_0x4dc92b[_0x251f86(0x1ef)])*Number(_0x4dc92b[_0x251f86(0x255)]),0x0);return!_0x2bfdf3[_0x28f446]&&(_0x2bfdf3[_0x28f446]={'customerName':_0x3c8fa8,'currency':_0x117c75,'sales':0x0,'cost':0x0}),_0x2bfdf3[_0x28f446][_0x251f86(0x1d2)]+=_0x49a494,_0x2bfdf3[_0x28f446][_0x251f86(0x284)]+=_0x748f4b,_0x2bfdf3;},{}),_0x5e83f8=Object['values'](_0x517fed)[_0xe04b81(0x2a3)](_0x542f28=>({'customerName':_0x542f28[_0xe04b81(0x2ba)],'currency':_0x542f28['currency'],'sales':Math[_0xe04b81(0x1e6)](_0x542f28[_0xe04b81(0x1d2)]*0x64)/0x64,'cost':Math['round'](_0x542f28[_0xe04b81(0x284)]*0x64)/0x64,'profit':Math[_0xe04b81(0x1e6)]((_0x542f28[_0xe04b81(0x1d2)]-_0x542f28['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0xe04b81(0x1fd)),renderTable(_0x2a26f5,currentPageProducts,_0xe04b81(0x223)),renderTable(_0x5e83f8,currentPageCustomers,_0xe04b81(0x1f5));const _0x405d77=arrayIncomes[_0xe04b81(0x2a3)](_0x145ddd=>({'fechaISO':_0x145ddd[_0xe04b81(0x203)][_0xe04b81(0x2a8)]('\x20')[0x0],'setTipoComprobante':_0x145ddd[_0xe04b81(0x29c)],'setOperationCurrency':_0x145ddd[_0xe04b81(0x2b2)],'Total':Math['round'](_0x145ddd[_0xe04b81(0x1e4)]*0x64)/0x64})),_0x55944f=_0x405d77[_0xe04b81(0x299)]((_0x2a063a,_0x13b06e)=>{const _0x31f7c3=_0xe04b81,_0x5154f5=_0x13b06e[_0x31f7c3(0x1ba)]+'|'+_0x13b06e[_0x31f7c3(0x292)]+'|'+_0x13b06e['setOperationCurrency'];if(!_0x2a063a[_0x5154f5])_0x2a063a[_0x5154f5]={..._0x13b06e,'Total':0x0};return _0x2a063a[_0x5154f5][_0x31f7c3(0x1f4)]+=_0x13b06e[_0x31f7c3(0x1f4)],_0x2a063a;},{}),_0x433a72=Object['values'](_0x55944f)['map'](_0x355f78=>({'fechaISO':_0x355f78[_0xe04b81(0x1ba)],'setTipoComprobante':_0x355f78[_0xe04b81(0x292)]+'\x20('+_0x355f78['setOperationCurrency']+')','Total':Math[_0xe04b81(0x1e6)](_0x355f78[_0xe04b81(0x1f4)]*0x64)/0x64})),_0x3a470f=[...new Set(_0x433a72[_0xe04b81(0x2a3)](_0x49103c=>_0x49103c['setTipoComprobante']))],_0x58efcb=Array[_0xe04b81(0x1f1)](new Set(_0x433a72[_0xe04b81(0x2a3)](_0x55018c=>_0x55018c[_0xe04b81(0x1ba)])))[_0xe04b81(0x1bf)]((_0x29074d,_0x3a32ff)=>new Date(_0x29074d)-new Date(_0x3a32ff));_0x433a72[_0xe04b81(0x2ac)]>0x0?generateFilterTransformChart({'containerId':_0xe04b81(0x266),'rawData':_0x433a72,'groupField':'setTipoComprobante','groupValues':_0x3a470f,'seriesType':'bar','chartType':_0xe04b81(0x236),'colors':[_0xe04b81(0x1ca),'#080060'],'encode':{'x':_0xe04b81(0x1ba),'y':_0xe04b81(0x1f4),'label':[_0xe04b81(0x292),_0xe04b81(0x1f4)],'itemName':_0xe04b81(0x1ba),'tooltip':[_0xe04b81(0x1f4)]},'xAxisConfig':{'type':'category','data':_0x58efcb,'axisLabel':{'formatter':_0x538eb1=>{const [_0x36d217,_0x208585,_0x1848e5]=_0x538eb1['split']('-');return _0x1848e5+'/'+_0x208585+'/'+_0x36d217;}}},'title':_0xe04b81(0x1ee),'width':_0xe04b81(0x1c0),'height':'500px'}):divChartIncome[_0xe04b81(0x1c6)]='';_0x2a26f5[_0xe04b81(0x2ac)]>0x0?generateHorizontalBarChart({'containerId':_0xe04b81(0x298),'categories':_0x2a26f5[_0xe04b81(0x2a3)](_0x2550a7=>{const _0x19f309=_0xe04b81,_0x2bcf5f='('+_0x2550a7['currency']+')\x20'+_0x2550a7[_0x19f309(0x29e)];return _0x2bcf5f[_0x19f309(0x2ac)]>0xf?_0x2bcf5f['substring'](0x0,0xf)+_0x19f309(0x1c2):_0x2bcf5f;}),'series':[{'name':_0xe04b81(0x277),'data':_0x2a26f5['map'](_0x5803fe=>_0x5803fe['sales'])},{'name':'Costo','data':_0x2a26f5[_0xe04b81(0x2a3)](_0x59cfa5=>_0x59cfa5[_0xe04b81(0x284)])},{'name':'Ganancia','data':_0x2a26f5[_0xe04b81(0x2a3)](_0x599a97=>_0x599a97[_0xe04b81(0x20b)])}],'title':_0xe04b81(0x29d),'titlePosition':'bottom','showTitle':![],'colors':['#FF5900',_0xe04b81(0x29a),_0xe04b81(0x239)],'width':_0xe04b81(0x1c0),'height':_0xe04b81(0x26d)}):divChartItem[_0xe04b81(0x1c6)]='';if(_0x5e83f8[_0xe04b81(0x2ac)]>0x0){const _0x4fdcfb=_0x5e83f8[_0xe04b81(0x2a3)](_0x43e445=>({'label':_0x43e445[_0xe04b81(0x2ba)]+'\x20('+_0x43e445[_0xe04b81(0x212)]+')','sales':_0x43e445[_0xe04b81(0x1d2)]}));generatePieChart({'containerId':_0xe04b81(0x22d),'data':_0x4fdcfb,'nameField':'label','valueField':_0xe04b81(0x1d2),'title':_0xe04b81(0x207),'titlePosition':'top','showTitle':![],'width':'500px','height':_0xe04b81(0x21a)});}else divChartCustomer[_0xe04b81(0x1c6)]='';}catch(_0x40ff99){ntfShow('Error\x20al\x20solicitar\x20reporte'),console['error'](_0x40ff99);}finally{hideLoadingModal();}}function renderTable(_0x2a67f0,_0x25aaf5=0x1,_0x287eca='incomes'){const _0x1f0cd7=_0x3bdd24;currentPage=_0x25aaf5;const _0x847da3=_0x287eca===_0x1f0cd7(0x1fd)?_0x1f0cd7(0x1dd):_0x287eca==='products'?_0x1f0cd7(0x26e):_0x1f0cd7(0x290),_0x12e02d=_0x287eca==='incomes'?per_page:_0x287eca==='products'?per_page_products:per_page_customers,_0x10de41=document[_0x1f0cd7(0x1cf)](_0x847da3+_0x1f0cd7(0x252));_0x10de41[_0x1f0cd7(0x1c6)]='';const _0x1aa51a=(_0x25aaf5-0x1)*_0x12e02d,_0x139823=_0x2a67f0['slice'](_0x1aa51a,_0x1aa51a+_0x12e02d);if(_0x287eca===_0x1f0cd7(0x1fd)){_0x139823[_0x1f0cd7(0x2a0)](_0x4abe91=>{const _0x37f1e9=_0x1f0cd7,_0x44719e=document[_0x37f1e9(0x1db)]('tr');_0x44719e['innerHTML']=_0x37f1e9(0x232)+_0x4abe91[_0x37f1e9(0x1d3)]+'\x22>\x0a'+_0x4abe91['setOperationType']+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+(_0x4abe91[_0x37f1e9(0x243)]||'')+'</td>\x0a<td>'+(_0x4abe91['setOperationCustomerName']||'')+_0x37f1e9(0x2aa)+_0x4abe91[_0x37f1e9(0x203)]+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20'+_0x4abe91[_0x37f1e9(0x26b)]+_0x37f1e9(0x246)+_0x4abe91['setOperationPaymentStatusColor']+_0x37f1e9(0x1da)+_0x4abe91[_0x37f1e9(0x233)]+_0x37f1e9(0x1b8)+_0x4abe91[_0x37f1e9(0x2b2)]+_0x37f1e9(0x1b5)+_0x4abe91[_0x37f1e9(0x1e4)][_0x37f1e9(0x261)](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x4abe91['setOperationId']+_0x37f1e9(0x26a)+_0x4abe91[_0x37f1e9(0x262)]+_0x37f1e9(0x24b),_0x10de41[_0x37f1e9(0x1e2)](_0x44719e);});const _0x2ddc47=_0x2a67f0['reduce']((_0x31315d,_0x59394e)=>{const _0x592677=_0x1f0cd7,_0x2ddeca=_0x59394e['setOperationCurrency'];return _0x31315d[_0x2ddeca]=(_0x31315d[_0x2ddeca]||0x0)+Number(_0x59394e[_0x592677(0x1e4)]),_0x31315d;},{});Object[_0x1f0cd7(0x23e)](_0x2ddc47)['forEach'](([_0x2e7d2d,_0x17315f])=>{const _0x1b543b=_0x1f0cd7,_0x245d56=document['createElement']('tr');_0x245d56[_0x1b543b(0x1c6)]='\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x2e7d2d+_0x1b543b(0x294)+(Math[_0x1b543b(0x1e6)](_0x17315f*0x64)/0x64)['toFixed'](0x2)+_0x1b543b(0x273),_0x10de41[_0x1b543b(0x1e2)](_0x245d56);}),renderPagination(_0x2a67f0,_0x25aaf5,_0x287eca);}if(_0x287eca===_0x1f0cd7(0x223)){_0x139823[_0x1f0cd7(0x2a0)](_0x103a59=>{const _0x353522=_0x1f0cd7,_0x4de207=document[_0x353522(0x1db)]('tr');_0x4de207['innerHTML']=_0x353522(0x1b7)+_0x103a59[_0x353522(0x29e)]+_0x353522(0x25e)+_0x103a59[_0x353522(0x212)]+_0x353522(0x200)+_0x103a59[_0x353522(0x1d2)][_0x353522(0x261)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x103a59[_0x353522(0x284)][_0x353522(0x261)](0x2)+_0x353522(0x200)+_0x103a59['profit'][_0x353522(0x261)](0x2)+_0x353522(0x229),_0x10de41[_0x353522(0x1e2)](_0x4de207);});const _0x2bcf52=_0x2a67f0['reduce']((_0x3fe00d,_0x376678)=>{const _0x17cdfe=_0x1f0cd7,_0x2e58dc=_0x376678['currency'];if(!_0x3fe00d[_0x2e58dc])_0x3fe00d[_0x2e58dc]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x3fe00d[_0x2e58dc]['sales']+=_0x376678[_0x17cdfe(0x1d2)],_0x3fe00d[_0x2e58dc]['cost']+=_0x376678[_0x17cdfe(0x284)],_0x3fe00d[_0x2e58dc]['profit']+=_0x376678[_0x17cdfe(0x20b)],_0x3fe00d;},{});Object[_0x1f0cd7(0x23e)](_0x2bcf52)['forEach'](([_0x30c5be,_0x325040])=>{const _0x3893dd=_0x1f0cd7,_0x525f17=document[_0x3893dd(0x1db)]('tr');_0x525f17[_0x3893dd(0x1c6)]=_0x3893dd(0x1c9)+_0x30c5be+_0x3893dd(0x1bd)+(Math[_0x3893dd(0x1e6)](_0x325040[_0x3893dd(0x1d2)]*0x64)/0x64)[_0x3893dd(0x261)](0x2)+_0x3893dd(0x1aa)+(Math[_0x3893dd(0x1e6)](_0x325040['cost']*0x64)/0x64)['toFixed'](0x2)+_0x3893dd(0x1aa)+(Math['round'](_0x325040[_0x3893dd(0x20b)]*0x64)/0x64)[_0x3893dd(0x261)](0x2)+_0x3893dd(0x20f),_0x10de41[_0x3893dd(0x1e2)](_0x525f17);}),renderPagination(_0x2a67f0,_0x25aaf5,_0x287eca);}if(_0x287eca==='customers'){_0x139823[_0x1f0cd7(0x2a0)](_0x403aa4=>{const _0x4a70e1=_0x1f0cd7,_0x3edd92=document[_0x4a70e1(0x1db)]('tr');_0x3edd92[_0x4a70e1(0x1c6)]=_0x4a70e1(0x1b7)+_0x403aa4[_0x4a70e1(0x2ba)]+_0x4a70e1(0x25e)+_0x403aa4['currency']+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x403aa4[_0x4a70e1(0x1d2)][_0x4a70e1(0x261)](0x2)+_0x4a70e1(0x200)+_0x403aa4[_0x4a70e1(0x284)][_0x4a70e1(0x261)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x403aa4[_0x4a70e1(0x20b)]['toFixed'](0x2)+_0x4a70e1(0x229),_0x10de41[_0x4a70e1(0x1e2)](_0x3edd92);});const _0x3aea55=_0x2a67f0[_0x1f0cd7(0x299)]((_0x4568ce,_0x24cd00)=>{const _0x425636=_0x1f0cd7,_0x23ff13=_0x24cd00['currency'];return!_0x4568ce[_0x23ff13]&&(_0x4568ce[_0x23ff13]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x4568ce[_0x23ff13][_0x425636(0x1d2)]+=_0x24cd00[_0x425636(0x1d2)],_0x4568ce[_0x23ff13][_0x425636(0x284)]+=_0x24cd00['cost'],_0x4568ce[_0x23ff13][_0x425636(0x20b)]+=_0x24cd00[_0x425636(0x20b)],_0x4568ce;},{});Object[_0x1f0cd7(0x23e)](_0x3aea55)['forEach'](([_0x50114e,_0x30b9b9])=>{const _0x2185df=_0x1f0cd7,_0x8d0180=document[_0x2185df(0x1db)]('tr');_0x8d0180['innerHTML']='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x50114e+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math['round'](_0x30b9b9[_0x2185df(0x1d2)]*0x64)/0x64)['toFixed'](0x2)+_0x2185df(0x1aa)+(Math[_0x2185df(0x1e6)](_0x30b9b9[_0x2185df(0x284)]*0x64)/0x64)[_0x2185df(0x261)](0x2)+_0x2185df(0x1aa)+(Math['round'](_0x30b9b9[_0x2185df(0x20b)]*0x64)/0x64)['toFixed'](0x2)+_0x2185df(0x20f),_0x10de41[_0x2185df(0x1e2)](_0x8d0180);}),renderPagination(_0x2a67f0,_0x25aaf5,_0x287eca);}}function renderPagination(_0x440e3e,_0x39d771,_0x5eaa6a='incomes'){const _0x4b013a=_0x3bdd24,_0x1b0d9a=_0x5eaa6a===_0x4b013a(0x1fd)?document[_0x4b013a(0x1cf)](_0x4b013a(0x1cb)):_0x5eaa6a==='products'?document['querySelector'](_0x4b013a(0x22c)):document['querySelector'](_0x4b013a(0x1ea)),_0x2e2cf8=_0x5eaa6a==='incomes'?per_page:_0x5eaa6a==='products'?per_page_products:per_page_customers;_0x1b0d9a[_0x4b013a(0x1c6)]='';const _0x50c2f0=Math[_0x4b013a(0x1ad)](_0x440e3e[_0x4b013a(0x2ac)]/_0x2e2cf8),_0x249040=document['createElement']('a');_0x249040['href']='#',_0x249040['className']='btn\x20btn-sm\x20btn-outline\x20me-2',_0x249040['innerHTML']=_0x4b013a(0x237),_0x249040[_0x4b013a(0x1d9)]=_0x179fe0=>{const _0x1476d3=_0x4b013a;_0x179fe0[_0x1476d3(0x1f3)]();if(_0x39d771>0x1)renderTable(_0x440e3e,_0x39d771-0x1,_0x5eaa6a);},_0x1b0d9a['appendChild'](_0x249040);for(let _0x43ba64=0x1;_0x43ba64<=_0x50c2f0;_0x43ba64++){const _0x4c05aa=document[_0x4b013a(0x1db)]('a');_0x4c05aa['href']='#',_0x4c05aa[_0x4b013a(0x1ff)]=_0x4b013a(0x1e5)+(_0x43ba64===_0x39d771?_0x4b013a(0x249):'btn-outline'),_0x4c05aa[_0x4b013a(0x280)]=_0x43ba64,_0x4c05aa[_0x4b013a(0x1d9)]=_0x3718b0=>{const _0x3e95e7=_0x4b013a;_0x3718b0[_0x3e95e7(0x1f3)](),renderTable(_0x440e3e,_0x43ba64,_0x5eaa6a);},_0x1b0d9a['appendChild'](_0x4c05aa);}const _0x2fe608=document['createElement']('a');_0x2fe608['href']='#',_0x2fe608[_0x4b013a(0x1ff)]=_0x4b013a(0x1f9),_0x2fe608[_0x4b013a(0x1c6)]=_0x4b013a(0x24c),_0x2fe608['onclick']=_0x5ba53f=>{const _0x283189=_0x4b013a;_0x5ba53f[_0x283189(0x1f3)]();if(_0x39d771<_0x50c2f0)renderTable(_0x440e3e,_0x39d771+0x1,_0x5eaa6a);},_0x1b0d9a['appendChild'](_0x2fe608);}document[_0x3bdd24(0x202)]('apply-filter')['addEventListener'](_0x3bdd24(0x295),async()=>{const _0x4cf027=_0x3bdd24,_0x519030=document[_0x4cf027(0x202)](_0x4cf027(0x286))[_0x4cf027(0x1d6)],_0x46f556=document[_0x4cf027(0x202)](_0x4cf027(0x1b6))['value'];if(!_0x519030||!_0x46f556)return alert(_0x4cf027(0x257));const _0x540330=document[_0x4cf027(0x202)]('filterModal'),_0x55f309=bootstrap['Modal'][_0x4cf027(0x20c)](_0x540330);_0x55f309[_0x4cf027(0x27d)](),showLoadingModal();try{const _0x2915f8={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x4cf027(0x235)],'dateFrom':_0x519030+_0x4cf027(0x25c),'dateTo':_0x46f556+_0x4cf027(0x21c),'clientIds':[],'operationTypes':[]},_0x441a4e=await fetch(myCompany['setApiEndPoint'],{'method':_0x4cf027(0x288),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x2915f8)}),{success:_0x4b0422,message:_0x4a5732}=await _0x441a4e[_0x4cf027(0x21d)]();if(!_0x4b0422)throw new Error(_0x4a5732);_0x4a5732[_0x4cf027(0x1fd)],await consultIncomeReport();}catch(_0x30f960){ntfShow(_0x4cf027(0x269)),console[_0x4cf027(0x25b)](_0x30f960);}finally{hideLoadingModal();}});let currentExportMode=_0x3bdd24(0x1fb);const WA_CRED_ID='YOUR_WA_CRED_ID',WA_DEST_NUMBER=_0x3bdd24(0x210),EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR='no-reply@miempresa.com',EMAIL_SENDER_PASS=_0x3bdd24(0x2a6),EMAIL_SMTP_HOST=_0x3bdd24(0x2bb),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x3bdd24(0x278)],reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker[_0x3bdd24(0x24e)]=({data:_0x366d68})=>{const _0xefc65=_0x3bdd24,{type:_0x4f91fa,payload:_0x1d6a88,reportType:_0xc64381}=_0x366d68;if(_0x4f91fa==='exportDone'){const _0x40b75a=new Blob([_0x1d6a88],{'type':_0xefc65(0x2b4)}),_0x2a78af=new Date()[_0xefc65(0x282)]()['slice'](0x0,0xa),_0x1673e1=_0xc64381+'_'+_0x2a78af+'.xlsx',_0x5b9b6c=_0x584e3c=>new Promise((_0x5fe6b0,_0x560a0f)=>{const _0x5d7e99=_0xefc65,_0x1be7bf=new FileReader();_0x1be7bf['onerror']=()=>_0x560a0f(_0x1be7bf[_0x5d7e99(0x25b)]),_0x1be7bf['onload']=()=>_0x5fe6b0(_0x1be7bf[_0x5d7e99(0x238)][_0x5d7e99(0x2a8)](',')[0x1]),_0x1be7bf['readAsDataURL'](_0x584e3c);});switch(currentExportMode){case _0xefc65(0x1fb):{const _0x4bf98c=URL[_0xefc65(0x254)](_0x40b75a),_0x27ac21=document[_0xefc65(0x1db)]('a');_0x27ac21[_0xefc65(0x216)]=_0x4bf98c,_0x27ac21[_0xefc65(0x1fb)]=_0x1673e1,_0x27ac21[_0xefc65(0x295)](),URL[_0xefc65(0x23a)](_0x4bf98c);}break;case'whatsapp':{_0x5b9b6c(_0x40b75a)[_0xefc65(0x1f7)](_0x2ed63b=>{const _0x360661=_0xefc65;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x2ed63b,'Reporte\x20'+_0xc64381+_0x360661(0x1d0)+_0x2a78af,_0x1673e1,_0x360661(0x24a))[_0x360661(0x2b7)](_0x3a48a0=>{console['error']('Error\x20WA:',_0x3a48a0),ntfShow('Error\x20al\x20enviar\x20por\x20WhatsApp.');});});}break;case'email':{_0x5b9b6c(_0x40b75a)['then'](_0x252390=>{const _0x3e3263=_0xefc65;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x3e3263(0x1ac)+_0xc64381+_0x3e3263(0x20a)+_0x2a78af,_0x3e3263(0x1e9),[{'filename':_0x1673e1,'content':_0x252390,'mimetype':_0x3e3263(0x24a)}]);});}break;case _0xefc65(0x2be):{_0x5b9b6c(_0x40b75a)['then'](_0xe11d3a=>{const _0x54c9ea=_0xefc65;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x54c9ea(0x2ad),_0xe11d3a,'Reporte\x20'+_0xc64381+_0x54c9ea(0x1d0)+_0x2a78af,_0x1673e1,_0x54c9ea(0x24a))[_0x54c9ea(0x2b7)](_0x126c80=>console[_0x54c9ea(0x25b)](_0x54c9ea(0x21f),_0x126c80)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x54c9ea(0x1ac)+_0xc64381+_0x54c9ea(0x20a)+_0x2a78af,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x1673e1,'content':_0xe11d3a,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console['error'](_0xefc65(0x2a1),currentExportMode);}}_0x4f91fa===_0xefc65(0x25b)&&(console[_0xefc65(0x25b)](_0xefc65(0x2b3),_0x1d6a88),ntfShow('Error\x20al\x20exportar.'));},document[_0x3bdd24(0x202)]('btnExport')[_0x3bdd24(0x293)]('click',()=>{const _0x43a5a2=_0x3bdd24;onClickExport(_0x43a5a2(0x1fb));});function onClickExport(_0x44b441=_0x3bdd24(0x1fb)){const _0x4abde5=_0x3bdd24;if(!Array[_0x4abde5(0x215)](arrayIncomes)||!arrayIncomes[_0x4abde5(0x2ac)])return ntfShow(_0x4abde5(0x28c));currentExportMode=_0x44b441;const _0x48f760=arrayIncomes[_0x4abde5(0x2a3)](_0x1866a8=>{const _0x5df64a=_0x4abde5,[_0x2c4962]=_0x1866a8[_0x5df64a(0x203)][_0x5df64a(0x2a8)]('\x20'),[_0xd422ee,_0xe04d4a,_0x12f176]=_0x2c4962[_0x5df64a(0x2a8)]('-');return{'Periodo':''+_0xd422ee+_0xe04d4a,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x12f176+'/'+_0xe04d4a+'/'+_0xd422ee,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x1866a8[_0x5df64a(0x2b2)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker['postMessage']({'action':_0x4abde5(0x1c3),'reportType':_0x4abde5(0x1cd),'report':_0x48f760});}window[_0x3bdd24(0x296)]=function(){const _0x382d71=_0x3bdd24,_0x3473bd=0x3;loadLoginContent(_0x382d71(0x1fc)),setUserNameGet(),setEventBtnAccess();const _0x361715=document[_0x382d71(0x1cf)](_0x382d71(0x28a));_0x361715&&_0x361715['addEventListener'](_0x382d71(0x295),function(){logoutReload(0x0,_0x3473bd);}),document['getElementById'](_0x382d71(0x248))[_0x382d71(0x293)](_0x382d71(0x289),async function(){const _0x27d9cc=_0x382d71,_0x3eb859=parseInt(this[_0x27d9cc(0x1d6)]);myCompany[_0x27d9cc(0x1ed)]=_0x3eb859;const _0x398729=await createCartStore('');await saveCompanyToIndexedDB(company,_0x398729),cargarAlmacenes(_0x3eb859),setTimeout(()=>{const _0x2c0266=_0x27d9cc;document[_0x2c0266(0x202)](_0x2c0266(0x1b4))['dispatchEvent'](new Event(_0x2c0266(0x289)));},0x64),cargarPisos(_0x3eb859),setTimeout(()=>{const _0x52ffd8=_0x27d9cc;document[_0x52ffd8(0x202)](_0x52ffd8(0x27c))[_0x52ffd8(0x265)](new Event(_0x52ffd8(0x289)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId['push'](_0x3eb859),consultIncomeReport();}),loadCartAndSetTabCount(_0x3473bd);};