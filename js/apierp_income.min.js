/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.4
*/

const _0x428cc2=_0x50ed;(function(_0x257696,_0x2f0d58){const _0x1f7979=_0x50ed,_0x35420d=_0x257696();while(!![]){try{const _0x5c6ab0=parseInt(_0x1f7979(0x229))/0x1*(parseInt(_0x1f7979(0x1de))/0x2)+parseInt(_0x1f7979(0x1d4))/0x3*(parseInt(_0x1f7979(0x1cb))/0x4)+parseInt(_0x1f7979(0x1a0))/0x5*(-parseInt(_0x1f7979(0x1c1))/0x6)+-parseInt(_0x1f7979(0x24f))/0x7*(-parseInt(_0x1f7979(0x23a))/0x8)+parseInt(_0x1f7979(0x207))/0x9+-parseInt(_0x1f7979(0x142))/0xa+-parseInt(_0x1f7979(0x190))/0xb*(-parseInt(_0x1f7979(0x1d3))/0xc);if(_0x5c6ab0===_0x2f0d58)break;else _0x35420d['push'](_0x35420d['shift']());}catch(_0x36b58b){_0x35420d['push'](_0x35420d['shift']());}}}(_0x4176,0xa3320));const _0x417e82=(function(){let _0x3fecdf=!![];return function(_0x328f47,_0x7c451c){const _0x3f5e42=_0x3fecdf?function(){const _0x14a4a5=_0x50ed;if(_0x7c451c){const _0x1581e0=_0x7c451c[_0x14a4a5(0x1f0)](_0x328f47,arguments);return _0x7c451c=null,_0x1581e0;}}:function(){};return _0x3fecdf=![],_0x3f5e42;};}()),_0x7b2823=_0x417e82(this,function(){const _0x48142a=_0x50ed;return _0x7b2823['toString']()[_0x48142a(0x1c3)]('(((.+)+)+)+$')[_0x48142a(0x218)]()[_0x48142a(0x17a)](_0x7b2823)[_0x48142a(0x1c3)](_0x48142a(0x1ea));});_0x7b2823();const _0x37a694=(function(){let _0x2df27b=!![];return function(_0x562776,_0x547467){const _0x59f906=_0x2df27b?function(){const _0x1bb167=_0x50ed;if(_0x547467){const _0x4a0ff1=_0x547467[_0x1bb167(0x1f0)](_0x562776,arguments);return _0x547467=null,_0x4a0ff1;}}:function(){};return _0x2df27b=![],_0x59f906;};}()),_0x3a617d=_0x37a694(this,function(){const _0xb65d10=_0x50ed;let _0x138197;try{const _0x41e005=Function(_0xb65d10(0x21b)+_0xb65d10(0x17c)+');');_0x138197=_0x41e005();}catch(_0x2a5c11){_0x138197=window;}const _0x5cc6f7=_0x138197[_0xb65d10(0x1e6)]=_0x138197[_0xb65d10(0x1e6)]||{},_0x96d220=['log',_0xb65d10(0x1b3),_0xb65d10(0x20c),_0xb65d10(0x1fd),'exception',_0xb65d10(0x1ee),_0xb65d10(0x221)];for(let _0x42a922=0x0;_0x42a922<_0x96d220[_0xb65d10(0x206)];_0x42a922++){const _0x2bd7b9=_0x37a694[_0xb65d10(0x17a)][_0xb65d10(0x1a7)][_0xb65d10(0x245)](_0x37a694),_0x4beb57=_0x96d220[_0x42a922],_0x1420ff=_0x5cc6f7[_0x4beb57]||_0x2bd7b9;_0x2bd7b9[_0xb65d10(0x1ff)]=_0x37a694[_0xb65d10(0x245)](_0x37a694),_0x2bd7b9['toString']=_0x1420ff['toString'][_0xb65d10(0x245)](_0x1420ff),_0x5cc6f7[_0x4beb57]=_0x2bd7b9;}});function _0x50ed(_0x4341b2,_0x49a0c8){const _0x44626c=_0x4176();return _0x50ed=function(_0x3a617d,_0x37a694){_0x3a617d=_0x3a617d-0x140;let _0x189941=_0x44626c[_0x3a617d];return _0x189941;},_0x50ed(_0x4341b2,_0x49a0c8);}_0x3a617d();let arrayIncomes;const fil_init_dates=document['getElementById'](_0x428cc2(0x193)),label=document[_0x428cc2(0x23f)](_0x428cc2(0x224)),options=document['getElementById'](_0x428cc2(0x1f6)),divChartIncome=document[_0x428cc2(0x23f)](_0x428cc2(0x16e)),divChartItem=document[_0x428cc2(0x23f)]('divChartItem'),divChartCustomer=document[_0x428cc2(0x23f)](_0x428cc2(0x182));let currentPage=0x1;const per_page=0x14;function _0x4176(){const _0x918e27=['3762qfrbsa','exportDone','Costo','date-range-label-icon','Ventas\x20por\x20Producto','filtrar','#reporte-income-products','Error\x20al\x20aplicar\x20filtro','Ventas','click',';\x22>\x0a','map','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','item','sales','No\x20se\x20encontró\x20información\x20de\x20ingresos','5XDDEZW','Ventas\x20por\x20Cliente','onmessage','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','scrollLeft','assign','block','prototype','YOUR_WA_CRED_ID','ceil','\x20tbody','Pendiente','value','currency','Error\x20WA:','createElement','remove','#pagination-products','Reporte\x20','warn','#FF5900','cost','https://fasyb.com/api/pdf/proxy/?file=','both','\x0a<iframe\x20src=\x22','document','then','entries','Modal','productName','exportReport','toISOString','setOperationItems','7664514Bzpmov','dispatchEvent','search','#080060','./js/apierp_export_wk.min.js','PASSWORD123','top','addEventListener','getDate','dataset_raw','26876kOlsuw','setCustomerId','Contenedor\x20','setOperationCurrency','setOperationDetailTotal','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','https://fasyb.com/api/venta/view/?id=','POST','936hFWiwl','249qmGdvn','split','pdf','change','values','fechaISO','month','filterModal','detalle','reduce','2jIemHk','padStart','#00AEEF','onerror','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','\x0a<td\x20class=\x22td-bg-none\x22>','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','console','setTipoOperacionCodigo','middle','setOperationSeries','(((.+)+)+)+$','setDate','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','incomes','table','setBranchId','apply','setOperationPaymentStatus',';\x20color:\x20','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','total','mouseleave','date-range-options','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','setApiEndPoint','readAsDataURL','</td>\x0a<td>','#00bb2d','Export\x20WK\x20Error:','error','mousedown','__proto__','detalleModal','getMinutes','apply-filter','Total','btn-outline','setOperationTotal','length','11345823QcgsSl','display','json','textContent','customerName','info','#reporte-income-customers','no-reply@miempresa.com','setOperationDateTime','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','valueDesc','status','setTipoOperacionName','\x0a</td>\x0a','#pagination-income','init','dataset_','toString','name','setOperationPaymentStatusColor','return\x20(function()\x20','Sin\x20descripción','substring','\x20no\x20existe','forEach','add','trace','setOperationDetailUnitCost','setTipoOperaciones','date-range-label','</td>\x0a</tr>','email','getHours','products','100731nNbsqH','YOUR_EMAIL_AUTH_TOKEN','width','\x20al\x20','bottom','valor_unitario','\x22\x20no\x20existe.','pageX','data-value','center','stringify',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','none','application/octet-stream','download','El\x20contenedor\x20con\x20id\x20\x22','find','3832REsMYf','concat','className','innerHTML','Error\x20al\x20solicitar\x20reporte','getElementById','createObjectURL','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','./img/apiPOS.png','setAuthToken','setOperationType','bind','style','setBranchDefault','setCustomers','onclick','divChartItem','round','slice','application/json;\x20charset=utf-8','data','15379MIRbCJ','btn\x20btn-sm\x20btn-outline\x20ms-2','target','postMessage','setSeries','#pagination-customers','500px','getFullYear','pie','isArray','axis','shadow','\x2000:00:00','Invalid\x20range\x20type','10522270RxZMhR','appendChild','querySelector','classList','&laquo;\x20Anterior','setFloorId','setOperationPaymentStatusName','additionalFilters','hide','tagName','cantidad','href','offsetLeft','factura','producto','pedido','setWarehouseId','Error\x20al\x20enviar\x20por\x20WhatsApp.','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','Pagado','.modal-content','51954738620','</td>\x0a','category','setOperationDetailUnitPresentationId','filter-end','profit','onload','push','toFixed','btn-outline-primary','.xlsx','customers','dynamicContent','filter-start','flatMap','setOption','line','getMonth','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','btnExport','catch','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','divChartIncome','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','setOperationNumber','height','setTipoComprobante','bar','contains','.table-wrapper','from','setOperationCustomerId','querySelectorAll','preventDefault','constructor','modalOverlayViewDetails','{}.constructor(\x22return\x20this\x22)(\x20)','detalleTablaBody','active','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','setOperationId','Modo\x20de\x20exportación\x20desconocido:','divChartCustomer','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','Error\x20','filter','&tipo=','boleta','getAttribute','setDescripcion','setOperationDetailQuantity','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','setOperationCustomerName','btn\x20btn-sm\x20btn-outline\x20me-2'];_0x4176=function(){return _0x918e27;};return _0x4176();}let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x5df3e3){const _0x5d66a9=_0x428cc2,{containerId:_0x13d6db,rawData:_0x3f005e,groupField:_0x14d0da,groupValues:_0x263a66,seriesType:seriesType=_0x5d66a9(0x167),chartType:chartType=seriesType,encode:_0x2870bd,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x5d66a9(0x211),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0xa289f7,height:_0x3157fc}=_0x5df3e3,_0x56d056=document[_0x5d66a9(0x23f)](_0x13d6db);if(!_0x56d056){console['error'](_0x5d66a9(0x238)+_0x13d6db+_0x5d66a9(0x22f));return;}if(_0xa289f7)_0x56d056[_0x5d66a9(0x246)][_0x5d66a9(0x22b)]=_0xa289f7;if(_0x3157fc)_0x56d056[_0x5d66a9(0x246)][_0x5d66a9(0x171)]=_0x3157fc;const _0x26fed0=echarts['init'](_0x56d056),_0x507210=[],_0xe124d9=[];_0x263a66[_0x5d66a9(0x21f)]((_0x2e7d11,_0x37609b)=>{const _0x337b9e=_0x5d66a9,_0x45f842=_0x337b9e(0x217)+_0x2e7d11,_0x24bb76=(_0x5df3e3[_0x337b9e(0x149)]||[])[_0x337b9e(0x23b)]([{'dimension':_0x14d0da,'=':_0x2e7d11}]);_0x507210[_0x337b9e(0x15e)]({'id':_0x45f842,'fromDatasetId':_0x337b9e(0x1ca),'transform':{'type':_0x337b9e(0x186),'config':{'and':_0x24bb76}}}),_0xe124d9[_0x337b9e(0x15e)]({'type':chartType,'datasetId':_0x45f842,'name':_0x2e7d11,...chartType===_0x337b9e(0x173)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x37609b]||undefined},...chartType===_0x337b9e(0x167)&&{'showSymbol':![]},'encode':_0x2870bd});});const _0x210512={'animationDuration':animationDuration,'dataset':[{'id':_0x5d66a9(0x1ca),'source':_0x3f005e},..._0x507210],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x5d66a9(0x259)},'xAxis':Object[_0x5d66a9(0x1a5)]({'type':_0x5d66a9(0x159),'nameLocation':_0x5d66a9(0x1e8)},xAxisConfig),'yAxis':Object['assign']({'name':_0x2870bd['y']||''},yAxisConfig),'grid':gridConfig,'series':_0xe124d9};_0x26fed0[_0x5d66a9(0x166)](_0x210512);}function generatePieChart({containerId:_0x4752ee,data:_0x2c8b8d,nameField:_0x2eadfa,valueField:_0x5698f1,title:title='',titlePosition:titlePosition=_0x428cc2(0x1c7),showTitle:showTitle=!![],width:_0x3bebf1,height:_0x3f550d}){const _0x4340df=_0x428cc2,_0x4a31f8=document['getElementById'](_0x4752ee);if(!_0x4a31f8)return console[_0x4340df(0x1fd)](_0x4340df(0x1cd)+_0x4752ee+_0x4340df(0x21e));if(_0x3bebf1)_0x4a31f8['style'][_0x4340df(0x22b)]=_0x3bebf1;if(_0x3f550d)_0x4a31f8[_0x4340df(0x246)][_0x4340df(0x171)]=_0x3f550d;const _0xbe908a=echarts[_0x4340df(0x216)](_0x4a31f8),_0x518611=_0x2c8b8d[_0x4340df(0x1dd)]((_0x161f81,_0x3d5d0c)=>{const _0x3200fb=_0x4340df,_0x7f532f=_0x3d5d0c[_0x2eadfa],_0x898672=_0x3d5d0c[_0x5698f1];let _0x1a1f19=_0x161f81[_0x3200fb(0x239)](_0x53b6e1=>_0x53b6e1[_0x3200fb(0x219)]===_0x7f532f);return!_0x1a1f19&&(_0x1a1f19={'name':_0x7f532f,'value':0x0},_0x161f81[_0x3200fb(0x15e)](_0x1a1f19)),_0x1a1f19[_0x3200fb(0x1ac)]+=_0x898672,_0x161f81;},[]);let _0x1eb980;showTitle?(_0x1eb980={'text':title,'left':_0x4340df(0x232)},titlePosition===_0x4340df(0x22d)?_0x1eb980['bottom']=0x0:_0x1eb980['top']=0x0):_0x1eb980={'show':![]};const _0x4fd154={'title':_0x1eb980,'tooltip':{'trigger':_0x4340df(0x19d)},'series':[{'type':_0x4340df(0x257),'radius':'50%','data':_0x518611,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':'{b}:\x20{d}%'}}]};_0xbe908a[_0x4340df(0x166)](_0x4fd154);}function generateHorizontalBarChart({containerId:_0x5d6dbe,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],colors:colors=[],width:_0x109b5d,height:_0x33fe8c,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x499b95=_0x428cc2,_0x167806=document[_0x499b95(0x23f)](_0x5d6dbe);if(!_0x167806)return console[_0x499b95(0x1fd)]('Contenedor\x20'+_0x5d6dbe+'\x20no\x20existe');if(_0x109b5d)_0x167806[_0x499b95(0x246)][_0x499b95(0x22b)]=_0x109b5d;if(_0x33fe8c)_0x167806['style'][_0x499b95(0x171)]=_0x33fe8c;const _0x9019d7=echarts[_0x499b95(0x216)](_0x167806),_0x4e6a0a=showTitle?{'text':title,'left':'center',...titlePosition===_0x499b95(0x22d)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x499b95(0x22d)?_0x4e6a0a['bottom']=0x0:_0x4e6a0a[_0x499b95(0x1c7)]=0x0;const _0x53c1c8={'title':_0x4e6a0a,'tooltip':{'trigger':'axis','axisPointer':{'type':_0x499b95(0x25a)}},'legend':{},'grid':Object[_0x499b95(0x1a5)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x499b95(0x1a5)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':'category','data':categories},yAxisConfig),'series':series[_0x499b95(0x19b)]((_0x26df8e,_0x5ed090)=>({'type':'bar','name':_0x26df8e[_0x499b95(0x219)],'data':_0x26df8e[_0x499b95(0x24e)],'itemStyle':{'color':colors[_0x5ed090]||undefined}}))};_0x9019d7[_0x499b95(0x166)](_0x53c1c8);}function showModalViewDetails(){const _0x2e3094=_0x428cc2,_0x2912f8=document['getElementById'](_0x2e3094(0x200)),_0x5e7e3a=document[_0x2e3094(0x23f)]('modalOverlayViewDetails');_0x2912f8['classList'][_0x2e3094(0x220)](_0x2e3094(0x17e)),_0x5e7e3a[_0x2e3094(0x246)][_0x2e3094(0x208)]=_0x2e3094(0x1a6);}function hideModalViewDetails(){const _0x491114=_0x428cc2,_0x35e194=document[_0x491114(0x23f)](_0x491114(0x200)),_0x48f9b5=document[_0x491114(0x23f)](_0x491114(0x17b));_0x35e194[_0x491114(0x145)][_0x491114(0x1b0)]('active'),_0x48f9b5[_0x491114(0x246)][_0x491114(0x208)]=_0x491114(0x235);const _0x235279=document['getElementById']('dynamicContent');_0x235279[_0x491114(0x23d)]=_0x491114(0x1f3);}document[_0x428cc2(0x23f)]('closeModalViewDetails')[_0x428cc2(0x1c8)](_0x428cc2(0x199),hideModalViewDetails),document[_0x428cc2(0x23f)]('modalOverlayViewDetails')[_0x428cc2(0x1c8)](_0x428cc2(0x199),hideModalViewDetails);function verDetalle(_0x31b2c3,_0x115690){const _0x7637fd=_0x428cc2;fetch(_0x7637fd(0x1d1)+_0x31b2c3+_0x7637fd(0x187)+_0x115690)[_0x7637fd(0x1ba)](_0xb79cad=>{const _0x3c9f4b=_0x7637fd;if(!_0xb79cad['ok'])throw new Error(_0x3c9f4b(0x185)+_0xb79cad[_0x3c9f4b(0x212)]+':\x20'+_0xb79cad['statusText']);return _0xb79cad['json']();})[_0x7637fd(0x1ba)](_0x2eebb9=>{const _0x2422da=_0x7637fd;if(_0x2eebb9['success']){const _0x3eeebe=document['getElementById'](_0x2422da(0x163));if(_0x115690===_0x2422da(0x1dc)){let _0x2766cd='';_0x2eebb9[_0x2422da(0x24e)][_0x2422da(0x21f)](_0x20d9af=>{const _0x2f677c=_0x2422da;_0x2766cd+='\x0a<tr>\x0a<td>'+_0x20d9af[_0x2f677c(0x150)]+_0x2f677c(0x1fa)+_0x20d9af[_0x2f677c(0x14c)]+_0x2f677c(0x1fa)+_0x20d9af[_0x2f677c(0x22e)]+_0x2f677c(0x1fa)+_0x20d9af[_0x2f677c(0x1f4)]+_0x2f677c(0x225);}),document[_0x2422da(0x23f)](_0x2422da(0x17d))[_0x2422da(0x23d)]=_0x2766cd;}else{if(_0x115690===_0x2422da(0x1d6)){const _0x1c751=_0x2422da(0x1b6)+encodeURIComponent(_0x2eebb9['pdf_url']),_0x4e70f5=document[_0x2422da(0x144)](_0x2422da(0x156));_0x3eeebe[_0x2422da(0x23d)]=_0x2422da(0x1b8)+_0x1c751+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x2422da(0x23f)]('closeModalViewDetails')[_0x2422da(0x1c8)](_0x2422da(0x199),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x2eebb9['error']||_0x2422da(0x154));})[_0x7637fd(0x16b)](_0x4e378b=>{const _0x1c6d1f=_0x7637fd;console[_0x1c6d1f(0x1fd)]('Error\x20al\x20cargar\x20el\x20detalle:',_0x4e378b),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}label['addEventListener']('click',()=>{const _0x2d1532=_0x428cc2;options['style']['display']=options[_0x2d1532(0x246)][_0x2d1532(0x208)]===_0x2d1532(0x235)?_0x2d1532(0x1a6):_0x2d1532(0x235);}),options[_0x428cc2(0x1c8)]('click',_0x39e258=>{const _0x38b320=_0x428cc2;if(_0x39e258[_0x38b320(0x251)]&&_0x39e258[_0x38b320(0x251)][_0x38b320(0x14b)]==='LI'){const _0x5aef0f=_0x39e258[_0x38b320(0x251)][_0x38b320(0x189)](_0x38b320(0x231));updateDateRange(_0x5aef0f),options[_0x38b320(0x246)][_0x38b320(0x208)]=_0x38b320(0x235);}}),document['addEventListener'](_0x428cc2(0x199),_0x4b371d=>{const _0x5ed86f=_0x428cc2;!label[_0x5ed86f(0x174)](_0x4b371d['target'])&&!options[_0x5ed86f(0x174)](_0x4b371d['target'])&&(options['style'][_0x5ed86f(0x208)]=_0x5ed86f(0x235));});function formatDateToYmdHis(_0x24a0ec){const _0x59da21=_0x428cc2,_0x5bc5db=_0x24a0ec[_0x59da21(0x256)](),_0x4118f1=String(_0x24a0ec[_0x59da21(0x168)]()+0x1)[_0x59da21(0x1df)](0x2,'0'),_0x3d91e2=String(_0x24a0ec[_0x59da21(0x1c9)]())['padStart'](0x2,'0'),_0x5ee01e=String(_0x24a0ec[_0x59da21(0x227)]())[_0x59da21(0x1df)](0x2,'0'),_0x526084=String(_0x24a0ec[_0x59da21(0x201)]())[_0x59da21(0x1df)](0x2,'0'),_0x5bfb75=String(_0x24a0ec['getSeconds']())[_0x59da21(0x1df)](0x2,'0');return _0x5bc5db+'-'+_0x4118f1+'-'+_0x3d91e2+'\x20'+_0x5ee01e+':'+_0x526084+':'+_0x5bfb75;}function getDateRange(_0x178770){const _0x414f09=_0x428cc2,_0xbf1671=new Date();let _0x21c961,_0x4e3833;switch(_0x178770){case'day':_0x21c961=new Date(_0xbf1671['getFullYear'](),_0xbf1671[_0x414f09(0x168)](),_0xbf1671['getDate'](),0x0,0x0,0x0),_0x4e3833=new Date(_0xbf1671[_0x414f09(0x256)](),_0xbf1671[_0x414f09(0x168)](),_0xbf1671[_0x414f09(0x1c9)](),0x17,0x3b,0x3b),label[_0x414f09(0x23d)]=_0x414f09(0x1d0);break;case'week':const _0x20d585=_0xbf1671['getDay'](),_0x2417b6=new Date(_0xbf1671);_0x2417b6[_0x414f09(0x1eb)](_0xbf1671[_0x414f09(0x1c9)]()-_0x20d585+(_0x20d585===0x0?-0x6:0x1));const _0xcbb94d=new Date(_0x2417b6);_0xcbb94d[_0x414f09(0x1eb)](_0x2417b6[_0x414f09(0x1c9)]()+0x6),_0x21c961=new Date(_0x2417b6[_0x414f09(0x256)](),_0x2417b6[_0x414f09(0x168)](),_0x2417b6[_0x414f09(0x1c9)](),0x0,0x0,0x0),_0x4e3833=new Date(_0xcbb94d['getFullYear'](),_0xcbb94d[_0x414f09(0x168)](),_0xcbb94d[_0x414f09(0x1c9)](),0x17,0x3b,0x3b),label['innerHTML']=_0x414f09(0x1ec);break;case _0x414f09(0x1da):_0x21c961=new Date(_0xbf1671[_0x414f09(0x256)](),_0xbf1671[_0x414f09(0x168)](),0x1,0x0,0x0,0x0),_0x4e3833=new Date(_0xbf1671['getFullYear'](),_0xbf1671[_0x414f09(0x168)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x414f09(0x23d)]=_0x414f09(0x1e2);break;case'year':_0x21c961=new Date(_0xbf1671['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x4e3833=new Date(_0xbf1671['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b),label['innerHTML']=_0x414f09(0x19c);break;default:label[_0x414f09(0x23d)]='';throw new Error(_0x414f09(0x141));}return{'startDateFormatted':formatDateToYmdHis(_0x21c961),'endDateFormatted':formatDateToYmdHis(_0x4e3833)};}function updateDateRange(_0x586afe){const _0x13444a=_0x428cc2;if(_0x586afe==_0x13444a(0x195)){}else{const {startDateFormatted:_0x107caf,endDateFormatted:_0x2c4612}=getDateRange(_0x586afe);fil_date_start=_0x107caf,fil_date_end=_0x2c4612,consultIncomeReport();}}const tableWrappers=document[_0x428cc2(0x178)](_0x428cc2(0x175));tableWrappers[_0x428cc2(0x21f)](_0x2a6b10=>{const _0x5c46b6=_0x428cc2;let _0x1eb9fa=![],_0x24bdc7,_0x12f23c;_0x2a6b10['addEventListener'](_0x5c46b6(0x1fe),_0x513283=>{_0x1eb9fa=!![],_0x24bdc7=_0x513283['pageX']-_0x2a6b10['offsetLeft'],_0x12f23c=_0x2a6b10['scrollLeft'];}),_0x2a6b10['addEventListener'](_0x5c46b6(0x1f5),()=>{_0x1eb9fa=![];}),_0x2a6b10[_0x5c46b6(0x1c8)]('mouseup',()=>{_0x1eb9fa=![];}),_0x2a6b10[_0x5c46b6(0x1c8)]('mousemove',_0x510f59=>{const _0x19182c=_0x5c46b6;if(!_0x1eb9fa)return;_0x510f59[_0x19182c(0x179)]();const _0x5a2ee4=_0x510f59[_0x19182c(0x230)]-_0x2a6b10[_0x19182c(0x14e)],_0x2ef32f=(_0x5a2ee4-_0x24bdc7)*0x2;_0x2a6b10[_0x19182c(0x1a4)]=_0x12f23c-_0x2ef32f;});});async function consultIncomeReport(){const _0x3719ef=_0x428cc2;showLoadingModal();const _0x16bcd4={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x3719ef(0x243)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x19cb67=await fetch(myCompany[_0x3719ef(0x1f8)],{'method':_0x3719ef(0x1d2),'headers':{'Content-Type':_0x3719ef(0x24d)},'body':JSON[_0x3719ef(0x233)](_0x16bcd4)}),{success:_0x24b829,message:_0x581997}=await _0x19cb67[_0x3719ef(0x209)]();if(!_0x24b829||!Array[_0x3719ef(0x258)](_0x581997[_0x3719ef(0x1ed)])){ntfShow(_0x3719ef(0x19f)),console['log'](_0x581997);return;}const _0x3239dd=_0x581997['incomes'],_0x3932ce=myCompany[_0x3719ef(0x248)]['reduce']((_0x272260,_0x1bfa49)=>(_0x272260[_0x1bfa49[_0x3719ef(0x1cc)]]=_0x1bfa49['setCustomerName'],_0x272260),{}),_0x27492a=myCompany[_0x3719ef(0x223)]['reduce']((_0x37917a,_0x5d849b)=>(_0x37917a[_0x5d849b[_0x3719ef(0x1e7)]]=_0x5d849b[_0x3719ef(0x213)],_0x37917a),{}),_0x57da37=myCompany[_0x3719ef(0x253)][_0x3719ef(0x1dd)]((_0x9457ce,_0x4f0f5d)=>(_0x9457ce[_0x4f0f5d['ID_SERIE']]=_0x4f0f5d['setSerie'],_0x9457ce),{});arrayIncomes=_0x3239dd['map'](_0x450f03=>{const _0x1fff0d=_0x3719ef,_0x46c136=_0x450f03[_0x1fff0d(0x1c0)]['reduce']((_0x42f7a3,_0x2bf7cb)=>_0x42f7a3+Number(_0x2bf7cb[_0x1fff0d(0x1cf)]),0x0),_0xfaf683=_0x27492a[_0x450f03[_0x1fff0d(0x244)]]||_0x450f03[_0x1fff0d(0x244)],_0x455816=_0x57da37[_0x450f03[_0x1fff0d(0x1e9)]]||_0x450f03['setOperationSeries'],_0x4858ef=_0x3932ce[_0x450f03[_0x1fff0d(0x177)]]||_0x450f03[_0x1fff0d(0x177)],_0x20ea00=_0x450f03[_0x1fff0d(0x1f1)]==0x1?_0x1fff0d(0x1fb):_0x1fff0d(0x1b4),_0x28c3e4=_0x450f03[_0x1fff0d(0x1f1)]==0x1?_0x1fff0d(0x155):_0x1fff0d(0x1ab),_0x397022=_0x450f03[_0x1fff0d(0x244)]==0x1?_0x1fff0d(0x151):_0x450f03[_0x1fff0d(0x244)]==0x2?'recibo':_0x450f03[_0x1fff0d(0x244)]==0x3?_0x1fff0d(0x188):_0x450f03[_0x1fff0d(0x244)]==0x4?_0x1fff0d(0x14f):'recibo';return{'setOperationId':_0x450f03['setOperationId'],'setOperationType':_0xfaf683,'setOperationTypeSpan':_0x397022,'setOperationSeries':_0x455816+'-'+_0x450f03[_0x1fff0d(0x170)],'setOperationCustomerName':_0x4858ef,'setOperationDateTime':_0x450f03[_0x1fff0d(0x20f)],'setOperationPaymentStatusColor':_0x20ea00,'setOperationPaymentStatusName':_0x28c3e4,'setOperationCurrency':_0x450f03['setOperationCurrency'],'setOperationTotal':_0x46c136};});const _0x9969d2=_0x3239dd[_0x3719ef(0x165)](_0x4571fd=>_0x4571fd[_0x3719ef(0x1c0)][_0x3719ef(0x19b)](_0x5378a1=>({'item':_0x5378a1,'moneda':_0x4571fd[_0x3719ef(0x1ce)]})))[_0x3719ef(0x1dd)]((_0x1309ab,{item:_0x2bc042,moneda:_0x3429f6})=>{const _0x4ae290=_0x3719ef,_0x39882b=products['find'](_0x30477e=>_0x30477e['id']==_0x2bc042[_0x4ae290(0x15a)]),_0x24591b=_0x39882b?_0x39882b[_0x4ae290(0x18a)]:_0x4ae290(0x21c),_0xdb3da1=_0x24591b+'|'+_0x3429f6,_0x52d9fe=Number(_0x2bc042['setOperationDetailTotal']),_0xa702a4=Number(_0x2bc042[_0x4ae290(0x222)])*Number(_0x2bc042[_0x4ae290(0x18b)]);return!_0x1309ab[_0xdb3da1]&&(_0x1309ab[_0xdb3da1]={'productName':_0x24591b,'currency':_0x3429f6,'sales':0x0,'cost':0x0}),_0x1309ab[_0xdb3da1]['sales']+=_0x52d9fe,_0x1309ab[_0xdb3da1][_0x4ae290(0x1b5)]+=_0xa702a4,_0x1309ab;},{}),_0x131b36=Object[_0x3719ef(0x1d8)](_0x9969d2)['map'](_0x2c8796=>({'productName':_0x2c8796['productName'],'currency':_0x2c8796[_0x3719ef(0x1ad)],'sales':Math[_0x3719ef(0x24b)](_0x2c8796[_0x3719ef(0x19e)]*0x64)/0x64,'cost':Math['round'](_0x2c8796[_0x3719ef(0x1b5)]*0x64)/0x64,'profit':Math[_0x3719ef(0x24b)]((_0x2c8796[_0x3719ef(0x19e)]-_0x2c8796[_0x3719ef(0x1b5)])*0x64)/0x64})),_0x2b3266=_0x3239dd[_0x3719ef(0x1dd)]((_0x33b631,_0x35278c)=>{const _0x15c409=_0x3719ef,_0x5f287e=_0x3932ce[_0x35278c['setOperationCustomerId']]||_0x35278c['setOperationCustomerId'],_0x2200ab=_0x35278c[_0x15c409(0x1ce)],_0x2464ca=_0x5f287e+'|'+_0x2200ab,_0x20f57b=_0x35278c[_0x15c409(0x1c0)][_0x15c409(0x1dd)]((_0x58c6de,_0x14e9d4)=>_0x58c6de+Number(_0x14e9d4[_0x15c409(0x1cf)]),0x0),_0x39fa4f=_0x35278c[_0x15c409(0x1c0)][_0x15c409(0x1dd)]((_0x2327b7,_0x44c910)=>_0x2327b7+Number(_0x44c910[_0x15c409(0x222)])*Number(_0x44c910[_0x15c409(0x18b)]),0x0);return!_0x33b631[_0x2464ca]&&(_0x33b631[_0x2464ca]={'customerName':_0x5f287e,'currency':_0x2200ab,'sales':0x0,'cost':0x0}),_0x33b631[_0x2464ca][_0x15c409(0x19e)]+=_0x20f57b,_0x33b631[_0x2464ca][_0x15c409(0x1b5)]+=_0x39fa4f,_0x33b631;},{}),_0x24afc1=Object[_0x3719ef(0x1d8)](_0x2b3266)['map'](_0x3dedc7=>({'customerName':_0x3dedc7['customerName'],'currency':_0x3dedc7[_0x3719ef(0x1ad)],'sales':Math[_0x3719ef(0x24b)](_0x3dedc7[_0x3719ef(0x19e)]*0x64)/0x64,'cost':Math[_0x3719ef(0x24b)](_0x3dedc7[_0x3719ef(0x1b5)]*0x64)/0x64,'profit':Math[_0x3719ef(0x24b)]((_0x3dedc7[_0x3719ef(0x19e)]-_0x3dedc7['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x3719ef(0x1ed)),renderTable(_0x131b36,currentPageProducts,_0x3719ef(0x228)),renderTable(_0x24afc1,currentPageCustomers,'customers');const _0x5393b9=arrayIncomes[_0x3719ef(0x19b)](_0x3291c6=>({'fechaISO':_0x3291c6[_0x3719ef(0x20f)][_0x3719ef(0x1d5)]('\x20')[0x0],'setTipoComprobante':_0x3291c6[_0x3719ef(0x244)],'setOperationCurrency':_0x3291c6[_0x3719ef(0x1ce)],'Total':Math[_0x3719ef(0x24b)](_0x3291c6['setOperationTotal']*0x64)/0x64})),_0x370bf3=_0x5393b9[_0x3719ef(0x1dd)]((_0x4ac649,_0x4f38f4)=>{const _0x1f7987=_0x3719ef,_0x72dd66=_0x4f38f4['fechaISO']+'|'+_0x4f38f4['setTipoComprobante']+'|'+_0x4f38f4[_0x1f7987(0x1ce)];if(!_0x4ac649[_0x72dd66])_0x4ac649[_0x72dd66]={..._0x4f38f4,'Total':0x0};return _0x4ac649[_0x72dd66][_0x1f7987(0x203)]+=_0x4f38f4['Total'],_0x4ac649;},{}),_0x563af5=Object[_0x3719ef(0x1d8)](_0x370bf3)['map'](_0xf4b3c=>({'fechaISO':_0xf4b3c['fechaISO'],'setTipoComprobante':_0xf4b3c[_0x3719ef(0x172)]+'\x20('+_0xf4b3c[_0x3719ef(0x1ce)]+')','Total':Math['round'](_0xf4b3c[_0x3719ef(0x203)]*0x64)/0x64})),_0x4721d5=[...new Set(_0x563af5[_0x3719ef(0x19b)](_0x44c357=>_0x44c357[_0x3719ef(0x172)]))],_0x5b77cb=Array[_0x3719ef(0x176)](new Set(_0x563af5[_0x3719ef(0x19b)](_0x454184=>_0x454184['fechaISO'])))['sort']((_0x4d850e,_0x46543c)=>new Date(_0x4d850e)-new Date(_0x46543c));_0x563af5[_0x3719ef(0x206)]>0x0?generateFilterTransformChart({'containerId':_0x3719ef(0x16e),'rawData':_0x563af5,'groupField':_0x3719ef(0x172),'groupValues':_0x4721d5,'seriesType':'bar','chartType':_0x3719ef(0x173),'colors':['#FF5900',_0x3719ef(0x1c4)],'encode':{'x':_0x3719ef(0x1d9),'y':_0x3719ef(0x203),'label':[_0x3719ef(0x172),_0x3719ef(0x203)],'itemName':_0x3719ef(0x1d9),'tooltip':[_0x3719ef(0x203)]},'xAxisConfig':{'type':_0x3719ef(0x159),'data':_0x5b77cb,'axisLabel':{'formatter':_0x55f125=>{const _0x4dec0c=_0x3719ef,[_0x664580,_0x1a1e15,_0x5d9e5]=_0x55f125[_0x4dec0c(0x1d5)]('-');return _0x5d9e5+'/'+_0x1a1e15+'/'+_0x664580;}}},'title':'Evolución\x20de\x20Ventas','width':'100%','height':_0x3719ef(0x255)}):divChartIncome[_0x3719ef(0x23d)]='';_0x131b36[_0x3719ef(0x206)]>0x0?generateHorizontalBarChart({'containerId':_0x3719ef(0x24a),'categories':_0x131b36[_0x3719ef(0x19b)](_0xea15f3=>{const _0x469669=_0x3719ef,_0x1ec7f2='('+_0xea15f3[_0x469669(0x1ad)]+')\x20'+_0xea15f3[_0x469669(0x1bd)];return _0x1ec7f2[_0x469669(0x206)]>0xf?_0x1ec7f2[_0x469669(0x21d)](0x0,0xf)+'...':_0x1ec7f2;}),'series':[{'name':_0x3719ef(0x198),'data':_0x131b36[_0x3719ef(0x19b)](_0x2c9580=>_0x2c9580[_0x3719ef(0x19e)])},{'name':_0x3719ef(0x192),'data':_0x131b36[_0x3719ef(0x19b)](_0x509eb0=>_0x509eb0[_0x3719ef(0x1b5)])},{'name':'Ganancia','data':_0x131b36[_0x3719ef(0x19b)](_0x46cb06=>_0x46cb06[_0x3719ef(0x15c)])}],'title':_0x3719ef(0x194),'titlePosition':'bottom','showTitle':![],'colors':['#FF5900',_0x3719ef(0x1c4),_0x3719ef(0x1e0)],'width':'100%','height':'400px'}):divChartItem['innerHTML']='';if(_0x24afc1[_0x3719ef(0x206)]>0x0){const _0x57889d=_0x24afc1[_0x3719ef(0x19b)](_0x4f4f82=>({'label':_0x4f4f82[_0x3719ef(0x20b)]+'\x20('+_0x4f4f82[_0x3719ef(0x1ad)]+')','sales':_0x4f4f82[_0x3719ef(0x19e)]}));generatePieChart({'containerId':_0x3719ef(0x182),'data':_0x57889d,'nameField':'label','valueField':_0x3719ef(0x19e),'title':_0x3719ef(0x1a1),'titlePosition':_0x3719ef(0x1c7),'showTitle':![],'width':'500px','height':_0x3719ef(0x255)});}else divChartCustomer[_0x3719ef(0x23d)]='';}catch(_0x219692){ntfShow(_0x3719ef(0x23e)),console[_0x3719ef(0x1fd)](_0x219692);}finally{hideLoadingModal();}}function renderTable(_0x53b889,_0x4ccbd6=0x1,_0xacb860=_0x428cc2(0x1ed)){const _0x1737fb=_0x428cc2;currentPage=_0x4ccbd6;const _0x2918d5=_0xacb860===_0x1737fb(0x1ed)?'#reporte-income':_0xacb860===_0x1737fb(0x228)?_0x1737fb(0x196):_0x1737fb(0x20d),_0x420e9f=_0xacb860===_0x1737fb(0x1ed)?per_page:_0xacb860===_0x1737fb(0x228)?per_page_products:per_page_customers,_0x313307=document['querySelector'](_0x2918d5+_0x1737fb(0x1aa));_0x313307['innerHTML']='';const _0x3c56d1=(_0x4ccbd6-0x1)*_0x420e9f,_0x3ae216=_0x53b889[_0x1737fb(0x24c)](_0x3c56d1,_0x3c56d1+_0x420e9f);if(_0xacb860===_0x1737fb(0x1ed)){_0x3ae216[_0x1737fb(0x21f)](_0x152253=>{const _0x32f871=_0x1737fb,_0x83693=document[_0x32f871(0x1af)]('tr');_0x83693[_0x32f871(0x23d)]=_0x32f871(0x18c)+_0x152253['setOperationTypeSpan']+'\x22>\x0a'+_0x152253[_0x32f871(0x244)]+_0x32f871(0x1a3)+(_0x152253['setOperationSeries']||'')+_0x32f871(0x1fa)+(_0x152253[_0x32f871(0x18e)]||'')+_0x32f871(0x18d)+_0x152253[_0x32f871(0x20f)]+_0x32f871(0x16d)+_0x152253[_0x32f871(0x21a)]+_0x32f871(0x1f2)+_0x152253[_0x32f871(0x21a)]+_0x32f871(0x19a)+_0x152253[_0x32f871(0x148)]+_0x32f871(0x241)+_0x152253[_0x32f871(0x1ce)]+_0x32f871(0x169)+_0x152253[_0x32f871(0x205)][_0x32f871(0x15f)](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x152253[_0x32f871(0x180)]+',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x152253['setOperationId']+_0x32f871(0x234),_0x313307[_0x32f871(0x143)](_0x83693);});const _0x471d38=_0x53b889[_0x1737fb(0x1dd)]((_0x51ed72,_0x205325)=>{const _0x18c004=_0x1737fb,_0x3151a1=_0x205325['setOperationCurrency'];return _0x51ed72[_0x3151a1]=(_0x51ed72[_0x3151a1]||0x0)+Number(_0x205325[_0x18c004(0x205)]),_0x51ed72;},{});Object[_0x1737fb(0x1bb)](_0x471d38)[_0x1737fb(0x21f)](([_0x402de0,_0x1d1319])=>{const _0x4c1c57=_0x1737fb,_0x2b3b89=document[_0x4c1c57(0x1af)]('tr');_0x2b3b89['innerHTML']=_0x4c1c57(0x210)+_0x402de0+'):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math['round'](_0x1d1319*0x64)/0x64)[_0x4c1c57(0x15f)](0x2)+'\x0a</td>\x0a<td></td>\x0a',_0x313307[_0x4c1c57(0x143)](_0x2b3b89);}),renderPagination(_0x53b889,_0x4ccbd6,_0xacb860);}if(_0xacb860==='products'){_0x3ae216[_0x1737fb(0x21f)](_0xfb53e2=>{const _0x13dfa8=_0x1737fb,_0x4c4cd6=document[_0x13dfa8(0x1af)]('tr');_0x4c4cd6[_0x13dfa8(0x23d)]=_0x13dfa8(0x1e3)+_0xfb53e2[_0x13dfa8(0x1bd)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0xfb53e2[_0x13dfa8(0x1ad)]+_0x13dfa8(0x1e5)+_0xfb53e2[_0x13dfa8(0x19e)][_0x13dfa8(0x15f)](0x2)+_0x13dfa8(0x1e5)+_0xfb53e2['cost']['toFixed'](0x2)+_0x13dfa8(0x1e5)+_0xfb53e2[_0x13dfa8(0x15c)][_0x13dfa8(0x15f)](0x2)+'</td>\x0a',_0x313307['appendChild'](_0x4c4cd6);});const _0x2f2862=_0x53b889[_0x1737fb(0x1dd)]((_0x462a77,_0x4090ba)=>{const _0xcc8a57=_0x1737fb,_0x5b0fbe=_0x4090ba[_0xcc8a57(0x1ad)];if(!_0x462a77[_0x5b0fbe])_0x462a77[_0x5b0fbe]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x462a77[_0x5b0fbe]['sales']+=_0x4090ba[_0xcc8a57(0x19e)],_0x462a77[_0x5b0fbe]['cost']+=_0x4090ba['cost'],_0x462a77[_0x5b0fbe][_0xcc8a57(0x15c)]+=_0x4090ba[_0xcc8a57(0x15c)],_0x462a77;},{});Object[_0x1737fb(0x1bb)](_0x2f2862)[_0x1737fb(0x21f)](([_0x447ed0,_0x126768])=>{const _0x55ba1e=_0x1737fb,_0x380186=document[_0x55ba1e(0x1af)]('tr');_0x380186[_0x55ba1e(0x23d)]='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x447ed0+_0x55ba1e(0x1e4)+(Math[_0x55ba1e(0x24b)](_0x126768['sales']*0x64)/0x64)['toFixed'](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x55ba1e(0x24b)](_0x126768[_0x55ba1e(0x1b5)]*0x64)/0x64)[_0x55ba1e(0x15f)](0x2)+_0x55ba1e(0x17f)+(Math[_0x55ba1e(0x24b)](_0x126768[_0x55ba1e(0x15c)]*0x64)/0x64)[_0x55ba1e(0x15f)](0x2)+'\x0a</td>\x0a',_0x313307['appendChild'](_0x380186);}),renderPagination(_0x53b889,_0x4ccbd6,_0xacb860);}if(_0xacb860===_0x1737fb(0x162)){_0x3ae216[_0x1737fb(0x21f)](_0x1fe54f=>{const _0x20a2eb=_0x1737fb,_0x41fb23=document[_0x20a2eb(0x1af)]('tr');_0x41fb23['innerHTML']=_0x20a2eb(0x1e3)+_0x1fe54f[_0x20a2eb(0x20b)]+_0x20a2eb(0x184)+_0x1fe54f[_0x20a2eb(0x1ad)]+_0x20a2eb(0x1e5)+_0x1fe54f[_0x20a2eb(0x19e)][_0x20a2eb(0x15f)](0x2)+_0x20a2eb(0x1e5)+_0x1fe54f[_0x20a2eb(0x1b5)]['toFixed'](0x2)+_0x20a2eb(0x1e5)+_0x1fe54f[_0x20a2eb(0x15c)]['toFixed'](0x2)+_0x20a2eb(0x158),_0x313307[_0x20a2eb(0x143)](_0x41fb23);});const _0xd6f4e1=_0x53b889[_0x1737fb(0x1dd)]((_0x570e69,_0x4ff056)=>{const _0x1fb658=_0x1737fb,_0x5502f0=_0x4ff056[_0x1fb658(0x1ad)];return!_0x570e69[_0x5502f0]&&(_0x570e69[_0x5502f0]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x570e69[_0x5502f0][_0x1fb658(0x19e)]+=_0x4ff056[_0x1fb658(0x19e)],_0x570e69[_0x5502f0]['cost']+=_0x4ff056[_0x1fb658(0x1b5)],_0x570e69[_0x5502f0][_0x1fb658(0x15c)]+=_0x4ff056[_0x1fb658(0x15c)],_0x570e69;},{});Object[_0x1737fb(0x1bb)](_0xd6f4e1)['forEach'](([_0x461057,_0x4156e5])=>{const _0x443b47=_0x1737fb,_0x10db5c=document['createElement']('tr');_0x10db5c['innerHTML']=_0x443b47(0x183)+_0x461057+_0x443b47(0x1e4)+(Math[_0x443b47(0x24b)](_0x4156e5[_0x443b47(0x19e)]*0x64)/0x64)[_0x443b47(0x15f)](0x2)+_0x443b47(0x17f)+(Math[_0x443b47(0x24b)](_0x4156e5[_0x443b47(0x1b5)]*0x64)/0x64)[_0x443b47(0x15f)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x443b47(0x24b)](_0x4156e5[_0x443b47(0x15c)]*0x64)/0x64)[_0x443b47(0x15f)](0x2)+_0x443b47(0x214),_0x313307[_0x443b47(0x143)](_0x10db5c);}),renderPagination(_0x53b889,_0x4ccbd6,_0xacb860);}}function renderPagination(_0xae7a77,_0x122264,_0x47061e=_0x428cc2(0x1ed)){const _0x5c968f=_0x428cc2,_0xf6cf6c=_0x47061e==='incomes'?document['querySelector'](_0x5c968f(0x215)):_0x47061e==='products'?document[_0x5c968f(0x144)](_0x5c968f(0x1b1)):document[_0x5c968f(0x144)](_0x5c968f(0x254)),_0x317bf6=_0x47061e===_0x5c968f(0x1ed)?per_page:_0x47061e==='products'?per_page_products:per_page_customers;_0xf6cf6c[_0x5c968f(0x23d)]='';const _0xffe7a2=Math[_0x5c968f(0x1a9)](_0xae7a77[_0x5c968f(0x206)]/_0x317bf6),_0x12e7f2=document['createElement']('a');_0x12e7f2[_0x5c968f(0x14d)]='#',_0x12e7f2[_0x5c968f(0x23c)]=_0x5c968f(0x18f),_0x12e7f2['innerHTML']=_0x5c968f(0x146),_0x12e7f2[_0x5c968f(0x249)]=_0x36565c=>{const _0x252725=_0x5c968f;_0x36565c[_0x252725(0x179)]();if(_0x122264>0x1)renderTable(_0xae7a77,_0x122264-0x1,_0x47061e);},_0xf6cf6c['appendChild'](_0x12e7f2);for(let _0xcb7aa=0x1;_0xcb7aa<=_0xffe7a2;_0xcb7aa++){const _0x3caab4=document[_0x5c968f(0x1af)]('a');_0x3caab4['href']='#',_0x3caab4['className']='btn\x20btn-sm\x20'+(_0xcb7aa===_0x122264?_0x5c968f(0x160):_0x5c968f(0x204)),_0x3caab4[_0x5c968f(0x20a)]=_0xcb7aa,_0x3caab4[_0x5c968f(0x249)]=_0x54d64f=>{const _0x19fd88=_0x5c968f;_0x54d64f[_0x19fd88(0x179)](),renderTable(_0xae7a77,_0xcb7aa,_0x47061e);},_0xf6cf6c[_0x5c968f(0x143)](_0x3caab4);}const _0x71df84=document[_0x5c968f(0x1af)]('a');_0x71df84['href']='#',_0x71df84['className']=_0x5c968f(0x250),_0x71df84[_0x5c968f(0x23d)]='Siguiente\x20&raquo;',_0x71df84[_0x5c968f(0x249)]=_0x4c28ae=>{const _0x158eff=_0x5c968f;_0x4c28ae[_0x158eff(0x179)]();if(_0x122264<_0xffe7a2)renderTable(_0xae7a77,_0x122264+0x1,_0x47061e);},_0xf6cf6c['appendChild'](_0x71df84);}document['getElementById'](_0x428cc2(0x202))[_0x428cc2(0x1c8)]('click',async()=>{const _0x3196c2=_0x428cc2,_0x4be127=document[_0x3196c2(0x23f)](_0x3196c2(0x164))[_0x3196c2(0x1ac)],_0x2b88ca=document['getElementById'](_0x3196c2(0x15b))[_0x3196c2(0x1ac)];if(!_0x4be127||!_0x2b88ca)return alert('Selecciona\x20ambas\x20fechas');const _0x5537ce=document['getElementById'](_0x3196c2(0x1db)),_0x2466a3=bootstrap[_0x3196c2(0x1bc)]['getInstance'](_0x5537ce);_0x2466a3[_0x3196c2(0x14a)](),showLoadingModal();try{const _0x229be6={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x3196c2(0x243)],'dateFrom':_0x4be127+_0x3196c2(0x140),'dateTo':_0x2b88ca+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0x226b18=await fetch(myCompany[_0x3196c2(0x1f8)],{'method':_0x3196c2(0x1d2),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3196c2(0x233)](_0x229be6)}),{success:_0x5b0c68,message:_0x19adba}=await _0x226b18[_0x3196c2(0x209)]();if(!_0x5b0c68)throw new Error(_0x19adba);_0x19adba[_0x3196c2(0x1ed)],await consultIncomeReport();}catch(_0x5e9498){ntfShow(_0x3196c2(0x197)),console['error'](_0x5e9498);}finally{hideLoadingModal();}});let currentExportMode=_0x428cc2(0x237);const WA_CRED_ID=_0x428cc2(0x1a8),WA_DEST_NUMBER=_0x428cc2(0x157),EMAIL_AUTH_TOKEN=_0x428cc2(0x22a),EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR=_0x428cc2(0x20e),EMAIL_SENDER_PASS=_0x428cc2(0x1c6),EMAIL_SMTP_HOST='smtp.miempresa.com',EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0x428cc2(0x1c5));reportWorker[_0x428cc2(0x1a2)]=({data:_0x3fb7eb})=>{const _0x444c86=_0x428cc2,{type:_0x2924b4,payload:_0xee98cf,reportType:_0x51f824}=_0x3fb7eb;if(_0x2924b4===_0x444c86(0x191)){const _0x484202=new Blob([_0xee98cf],{'type':_0x444c86(0x236)}),_0x14f3b4=new Date()[_0x444c86(0x1bf)]()[_0x444c86(0x24c)](0x0,0xa),_0x52fe6e=_0x51f824+'_'+_0x14f3b4+_0x444c86(0x161),_0x43789c=_0xb091a5=>new Promise((_0x2f2c47,_0x1396ed)=>{const _0x5b85eb=_0x444c86,_0x3d4680=new FileReader();_0x3d4680[_0x5b85eb(0x1e1)]=()=>_0x1396ed(_0x3d4680[_0x5b85eb(0x1fd)]),_0x3d4680['onload']=()=>_0x2f2c47(_0x3d4680['result'][_0x5b85eb(0x1d5)](',')[0x1]),_0x3d4680[_0x5b85eb(0x1f9)](_0xb091a5);});switch(currentExportMode){case'download':{const _0x4b344a=URL[_0x444c86(0x240)](_0x484202),_0x3cfc62=document[_0x444c86(0x1af)]('a');_0x3cfc62['href']=_0x4b344a,_0x3cfc62['download']=_0x52fe6e,_0x3cfc62[_0x444c86(0x199)](),URL['revokeObjectURL'](_0x4b344a);}break;case'whatsapp':{_0x43789c(_0x484202)['then'](_0x357966=>{const _0x457d9a=_0x444c86;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x457d9a(0x1b9),_0x357966,_0x457d9a(0x1b2)+_0x51f824+_0x457d9a(0x22c)+_0x14f3b4,_0x52fe6e,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')['catch'](_0x14c276=>{const _0x229943=_0x457d9a;console['error'](_0x229943(0x1ae),_0x14c276),ntfShow(_0x229943(0x153));});});}break;case _0x444c86(0x226):{_0x43789c(_0x484202)[_0x444c86(0x1ba)](_0x4250b9=>{const _0x1161ae=_0x444c86;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x1161ae(0x1b2)+_0x51f824+'\x20-\x20'+_0x14f3b4,_0x1161ae(0x16f),[{'filename':_0x52fe6e,'content':_0x4250b9,'mimetype':_0x1161ae(0x16c)}]);});}break;case _0x444c86(0x1b7):{_0x43789c(_0x484202)[_0x444c86(0x1ba)](_0x34b1f2=>{const _0x1ecb62=_0x444c86;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x1ecb62(0x1b9),_0x34b1f2,_0x1ecb62(0x1b2)+_0x51f824+_0x1ecb62(0x22c)+_0x14f3b4,_0x52fe6e,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')['catch'](_0x1d5e52=>console[_0x1ecb62(0x1fd)](_0x1ecb62(0x1ae),_0x1d5e52)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x1ecb62(0x1b2)+_0x51f824+'\x20-\x20'+_0x14f3b4,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x52fe6e,'content':_0x34b1f2,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console['error'](_0x444c86(0x181),currentExportMode);}}_0x2924b4===_0x444c86(0x1fd)&&(console[_0x444c86(0x1fd)](_0x444c86(0x1fc),_0xee98cf),ntfShow('Error\x20al\x20exportar.'));},document['getElementById'](_0x428cc2(0x16a))['addEventListener'](_0x428cc2(0x199),()=>{const _0x1e302b=_0x428cc2;onClickExport(_0x1e302b(0x237));});function onClickExport(_0x3ff638=_0x428cc2(0x237)){const _0x131449=_0x428cc2;if(!Array[_0x131449(0x258)](arrayIncomes)||!arrayIncomes[_0x131449(0x206)])return ntfShow(_0x131449(0x1f7));currentExportMode=_0x3ff638;const _0x4d6f2d=arrayIncomes[_0x131449(0x19b)](_0x2b88e3=>{const _0x1e5db2=_0x131449,[_0x2bfaea]=_0x2b88e3[_0x1e5db2(0x20f)][_0x1e5db2(0x1d5)]('\x20'),[_0x541b90,_0x34bc1a,_0x56e41d]=_0x2bfaea[_0x1e5db2(0x1d5)]('-');return{'Periodo':''+_0x541b90+_0x34bc1a,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x56e41d+'/'+_0x34bc1a+'/'+_0x541b90,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x2b88e3[_0x1e5db2(0x1ce)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x131449(0x252)]({'action':_0x131449(0x1be),'reportType':'PLE_Ventas','report':_0x4d6f2d});}window[_0x428cc2(0x15d)]=function(){const _0x23fba6=_0x428cc2,_0x3e0b76=0x3;loadLoginContent(_0x23fba6(0x242)),setUserNameGet(),setEventBtnAccess();const _0x2f1afa=document['querySelector']('.btn-logout');_0x2f1afa&&_0x2f1afa[_0x23fba6(0x1c8)](_0x23fba6(0x199),function(){logoutReload(0x0,_0x3e0b76);}),document[_0x23fba6(0x23f)](_0x23fba6(0x1ef))['addEventListener'](_0x23fba6(0x1d7),async function(){const _0x110d32=_0x23fba6,_0xe0ba16=parseInt(this[_0x110d32(0x1ac)]);myCompany[_0x110d32(0x247)]=_0xe0ba16;const _0x1c821b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1c821b),cargarAlmacenes(_0xe0ba16),setTimeout(()=>{const _0xff10c5=_0x110d32;document[_0xff10c5(0x23f)](_0xff10c5(0x152))[_0xff10c5(0x1c2)](new Event(_0xff10c5(0x1d7)));},0x64),cargarPisos(_0xe0ba16),setTimeout(()=>{const _0x5d82f2=_0x110d32;document[_0x5d82f2(0x23f)](_0x5d82f2(0x147))['dispatchEvent'](new Event('change'));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId['push'](_0xe0ba16),consultIncomeReport();}),loadCartAndSetTabCount(_0x3e0b76);};