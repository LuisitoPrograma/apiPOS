/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.1
*/

var _0x2d947b=_0x1c97;(function(_0x24aab3,_0x318015){var _0x221483=_0x1c97,_0x44f9b9=_0x24aab3();while(!![]){try{var _0x4096cd=-parseInt(_0x221483(0x154))/0x1*(-parseInt(_0x221483(0x19d))/0x2)+parseInt(_0x221483(0x15e))/0x3+parseInt(_0x221483(0x1f3))/0x4*(parseInt(_0x221483(0x270))/0x5)+parseInt(_0x221483(0x188))/0x6*(-parseInt(_0x221483(0x197))/0x7)+parseInt(_0x221483(0x20b))/0x8+-parseInt(_0x221483(0x212))/0x9*(parseInt(_0x221483(0x221))/0xa)+parseInt(_0x221483(0x1d1))/0xb;if(_0x4096cd===_0x318015)break;else _0x44f9b9['push'](_0x44f9b9['shift']());}catch(_0xbb53b0){_0x44f9b9['push'](_0x44f9b9['shift']());}}}(_0x2be8,0xdf665));var _0x14db24=(function(){var _0x4eca73=!![];return function(_0x4cea19,_0x1bee99){var _0x5b7388=_0x4eca73?function(){if(_0x1bee99){var _0x5b4935=_0x1bee99['apply'](_0x4cea19,arguments);return _0x1bee99=null,_0x5b4935;}}:function(){};return _0x4eca73=![],_0x5b7388;};}()),_0xc381e5=_0x14db24(this,function(){var _0x445be6=_0x1c97;return _0xc381e5['toString']()[_0x445be6(0x17f)](_0x445be6(0x259))[_0x445be6(0x1c3)]()[_0x445be6(0x1cc)](_0xc381e5)[_0x445be6(0x17f)](_0x445be6(0x259));});_0xc381e5();var _0x40530b=(function(){var _0x56b9b0=!![];return function(_0x34f9ef,_0x1cbf78){var _0x516100=_0x56b9b0?function(){var _0x52f6d0=_0x1c97;if(_0x1cbf78){var _0x4650f8=_0x1cbf78[_0x52f6d0(0x1e7)](_0x34f9ef,arguments);return _0x1cbf78=null,_0x4650f8;}}:function(){};return _0x56b9b0=![],_0x516100;};}()),_0x57f67f=_0x40530b(this,function(){var _0x3af950=_0x1c97,_0x9c591d=function(){var _0x7d4afb;try{_0x7d4afb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5800f9){_0x7d4afb=window;}return _0x7d4afb;},_0x5094f7=_0x9c591d(),_0x25fc1e=_0x5094f7['console']=_0x5094f7[_0x3af950(0x1f2)]||{},_0x38f158=['log',_0x3af950(0x25d),_0x3af950(0x192),_0x3af950(0x1b0),_0x3af950(0x1e8),'table',_0x3af950(0x1ac)];for(var _0x5d2295=0x0;_0x5d2295<_0x38f158[_0x3af950(0x190)];_0x5d2295++){var _0x2c61d1=_0x40530b[_0x3af950(0x1cc)][_0x3af950(0x165)][_0x3af950(0x218)](_0x40530b),_0x7f2c39=_0x38f158[_0x5d2295],_0x1c7106=_0x25fc1e[_0x7f2c39]||_0x2c61d1;_0x2c61d1[_0x3af950(0x22a)]=_0x40530b[_0x3af950(0x218)](_0x40530b),_0x2c61d1['toString']=_0x1c7106[_0x3af950(0x1c3)][_0x3af950(0x218)](_0x1c7106),_0x25fc1e[_0x7f2c39]=_0x2c61d1;}});_0x57f67f();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x2d947b(0x1b2)](_0x2d947b(0x25c)),unitCount=0x0,branchesC=document['getElementById'](_0x2d947b(0x152)),prodC=document['getElementById']('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x2d947b(0x1b2)]('newItem_variants_forms'),vgC=document[_0x2d947b(0x1b2)](_0x2d947b(0x24d));const fileInput=document[_0x2d947b(0x1b2)]('file-input'),progressBar=document[_0x2d947b(0x1b2)](_0x2d947b(0x22e)),statusDiv=document['getElementById']('status'),uploadBtn=document['getElementById']('upload-btn');function _0x2be8(){var _0x3aa405=['option','default','value','keydown','13249291PzdioJ','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.priceInput','modalOverlayCreateItem','name','[data-idx=\x22','setEquivalence','true','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','children','inputItemCode','map','<img\x20src=\x22','newItem_brands_select','padStart','setItemDateExpiry','#newItem_brands_select\x20.selected_tags','.drop-zone__prompt','message','setItemTaxCode','tag','setItemInventoriable','apply','exception','remove','includes','.vgName','.prod_input_container','setWarehouseId','none','setMoneda','onmessage','inputItemDescription','console','4434428tkCgVK','newItem_btn_addProdItem','split','.unitSelect','join','setImpuestoCode','newItem_hidden','Error\x20al\x20guardar\x20Producto\x20Offline:','#newItem_brands_select\x20.options_list','items','\x22\x20class=\x22branchChk\x22>\x20','#newItem_categories_select\x20.options_list','compare','push','_comp_container','file','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setPrice','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','filter','drop','Collator','setStockInitial','setTaxId','823368AGmbUb','objectStore','inputItemBarCode','.branchInit','setItemType','btnItemSave','active','1709523omjlGf','done','test','div','dragover','sort','bind','setWarehouseName','setItemComponents','setItemCode','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','.variantCode','currentTarget','setCodProducto','detalleModalCreateItem','90PndpXm','</div>','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','classList','priceInput','slice','.options_list','parse','toLowerCase','__proto__','unitAlias','querySelectorAll','toggle','progress','variant_','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setItemDescription','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','span','setItemTaxId','getElementsByClassName','change','accept','transaction','\x22\x20value=\x22','.prodInput','result','selectionChange','stopPropagation','dispatchEvent','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','.removeProd','.variantBarCode','idx','image/*','contains','some','blur','setItemBarCode','_units_container','newItem_categories_select','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','newItem_variant_groups','</label>','.branchMin','inputItemName','onerror','match','hidden','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setItemBrands','setTaxIdDefault','dataTransfer','.vgVals','(((.+)+)+)+$','target','setUnidad','newItem_images_container','warn','closeModalCreateItem','setItemImages','setItemIsBought','Ingresa\x20el\x20código\x20del\x20item','Enter','.prodQty','setItemUnits','setItemVariantName','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','eqInput','click','newItem_chk_sell','querySelector','setAlias','\x20items\x20procesados.','add','div[data-default=\x22true\x22]\x20.eqInput','Items\x20finales:','5HaFOQE','stringify','dataset','variantForm','selected','postMessage','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','onload','find','newItem_branches_container','setCode','239433XKCRJd','addEventListener','\x22\x20class=\x22branchChk\x22\x20checked>\x20','setImpuestoValue','offline_operations','vals','.costInput','setWebhook','dragleave','.removeGroup','4321467pYwAGx','setItemId','remove-tag','indexOf','setItemVariantValues','className','textContent','prototype','setCantidad','inputItemDateExpiry','forEach','setImpuestoName','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','splice','style','base','max','inputItemTax','dragenter','.addVariantUnit','.eqInput','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setItemName','.ms_input','.unitAlias','setItemCategories','from','input','innerHTML','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','appendChild','./img/product.png','block','search','#newItem_units_container\x20>\x20div','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setCategoria','setCost','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','_branch_container','type','findIndex','6DFAzCJ','.branchChk','setFactor','disabled','windowId','./js/apierp_item_wk.min.js','arrayBuffer','checked','length','fill','info','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','string','setAuthToken','.removeUnit','11975572Igdjlg','setName','remove-file','setItemTaxValue','trim','setItemFree','4WMBNZU','setMarca','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','percent','costInput','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','parentNode','newItem_title_table_cp','setDescripcion','focus','<div\x20class=\x22newItem_col\x22>','newItem_btn_addUnit','setImpuestos','log','#newItem_categories_select\x20.selected_tags','trace','❌\x20Error:\x20','createElement','every','error','.removeCombo','getElementById','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','productType1','setWarehouseCode','.variantExpiry','newItem_btn_addVariantGroup','inputItemType','selectedItem','display','newItem_units_container','setItemWarehouses','newItem_addToCart','.variantForm','newItem_title_table','preventDefault','files','setUnitCode','toString','setStockMinimum','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','now','[id$=\x22_comp_container\x22]','setItemIsSold','#newItem_branches_container\x20>\x20div','Nuevo\x20Producto','Ingresa\x20el\x20nombre\x20del\x20item','constructor'];_0x2be8=function(){return _0x3aa405;};return _0x2be8();}let newItemsExcel=null;const itemWorker=new Worker(_0x2d947b(0x18d)),dropZone=document[_0x2d947b(0x1b2)]('drop-zone'),removeBtn=document[_0x2d947b(0x1b2)](_0x2d947b(0x199));function showModalCreateItem(_0x40ad00){var _0x3c21ed=_0x2d947b;const _0x4035f5=document['getElementById'](_0x3c21ed(0x220)),_0x29a0ef=document[_0x3c21ed(0x1b2)]('modalOverlayCreateItem');_0x4035f5['classList'][_0x3c21ed(0x26d)](_0x3c21ed(0x211)),_0x29a0ef[_0x3c21ed(0x16c)][_0x3c21ed(0x1ba)]=_0x3c21ed(0x17e);const _0x289ffc=document['getElementById']('setItemFree');_0x289ffc['value']=parseInt(_0x40ad00),baseItem[_0x3c21ed(0x19c)]=parseInt(_0x40ad00);const _0x1d5bf6=document[_0x3c21ed(0x1b2)]('modalProductNewTitle');_0x40ad00==0x0&&(_0x1d5bf6['innerHTML']=_0x3c21ed(0x1ca));_0x40ad00==0x1&&(_0x1d5bf6[_0x3c21ed(0x17a)]='Producto\x20Libre');const _0x11cbfc=document[_0x3c21ed(0x235)](_0x3c21ed(0x1b4));for(let _0x122760=0x0;_0x122760<_0x11cbfc[_0x3c21ed(0x190)];_0x122760++){const _0x184370=_0x11cbfc[_0x122760];if(_0x40ad00==0x0)_0x184370[_0x3c21ed(0x224)]['remove'](_0x3c21ed(0x253));else _0x40ad00==0x1&&_0x184370[_0x3c21ed(0x224)][_0x3c21ed(0x26d)](_0x3c21ed(0x253));}}function hideModalCreateItem(){var _0x4c9d75=_0x2d947b;const _0x5d6604=document['getElementById'](_0x4c9d75(0x220)),_0x13d65b=document[_0x4c9d75(0x1b2)](_0x4c9d75(0x1d4));_0x5d6604[_0x4c9d75(0x224)][_0x4c9d75(0x1e9)]('active'),_0x13d65b['style'][_0x4c9d75(0x1ba)]=_0x4c9d75(0x1ee);}document[_0x2d947b(0x1b2)](_0x2d947b(0x25e))[_0x2d947b(0x155)](_0x2d947b(0x268),hideModalCreateItem),document[_0x2d947b(0x1b2)](_0x2d947b(0x1d4))['addEventListener']('click',_0x23140f=>{var _0x3d1a99=_0x2d947b;_0x23140f[_0x3d1a99(0x25a)]==_0x23140f[_0x3d1a99(0x21e)]&&_0x23140f[_0x3d1a99(0x23d)]();});function loadTaxData(){var _0x17fdae=_0x2d947b;const _0x4d3c6e=document[_0x17fdae(0x1b2)]('inputItemTax');_0x4d3c6e[_0x17fdae(0x17a)]='',company[0x0][_0x17fdae(0x1a9)][_0x17fdae(0x168)](function(_0x335f21){var _0x58aec7=_0x17fdae;const _0x574d22=document[_0x58aec7(0x1ae)](_0x58aec7(0x1cd));_0x574d22['value']=_0x335f21[_0x58aec7(0x20a)],_0x574d22['innerHTML']=_0x335f21[_0x58aec7(0x169)]+'\x20('+_0x335f21[_0x58aec7(0x157)]+'%)',_0x335f21[_0x58aec7(0x20a)]==company[0x0][_0x58aec7(0x256)]&&(_0x574d22[_0x58aec7(0x274)]=!![]),_0x4d3c6e[_0x58aec7(0x17c)](_0x574d22);});}function uniqueValuesArray(_0x221ad0,_0x1d00e5,_0x563aeb){var _0x5594c2=_0x2d947b;const _0x9d35a2=Array[_0x5594c2(0x178)](new Set(_0x563aeb[_0x5594c2(0x1dc)](_0x7e21de=>{var _0x64363c=_0x5594c2;const _0x437ee3=_0x7e21de[_0x221ad0];return typeof _0x437ee3===_0x64363c(0x194)?_0x437ee3[_0x64363c(0x19b)]():_0x437ee3;})['filter'](_0x806654=>_0x806654!=null&&_0x806654!=='')));return _0x9d35a2['map'](_0x1fb0a5=>{var _0x2588a6=_0x5594c2;const _0x1176de=_0x563aeb[_0x2588a6(0x151)](_0x18315e=>_0x18315e[_0x221ad0]===_0x1fb0a5),_0x4639c9=_0x1176de&&_0x1176de[_0x1d00e5]!=null?String(_0x1176de[_0x1d00e5])[_0x2588a6(0x19b)]():_0x1fb0a5;return{'setCode':_0x1fb0a5,'setName':_0x4639c9};});}function fillSelect(_0x280fb4,_0xdc5cf6,_0x1f4601,_0x13b73d){var _0x274978=_0x2d947b;_0x280fb4[_0x274978(0x17a)]='',_0xdc5cf6[_0x274978(0x168)](function(_0x36a641){var _0x3acd8c=_0x274978,_0x5760b1=new Option(_0x36a641[_0x13b73d],_0x36a641[_0x1f4601]);_0x280fb4[_0x3acd8c(0x26d)](_0x5760b1);});}function initMulti(_0x567d95,_0x4e847e){var _0x2d9c0f=_0x2d947b,_0x27faac=document[_0x2d9c0f(0x1b2)](_0x567d95),_0x4d94da=_0x27faac[_0x2d9c0f(0x26a)](_0x2d9c0f(0x175)),_0xb220f0=_0x27faac[_0x2d9c0f(0x26a)]('.options_list'),_0xbec861=_0x27faac['querySelector']('.selected_tags'),_0x497f85=_0x4e847e['slice'](),_0x1c4522=[];function _0x1a5f91(){var _0xe92f67=_0x2d9c0f;_0xb220f0[_0xe92f67(0x17a)]='',_0x497f85[_0xe92f67(0x206)](function(_0x1a57f){var _0x5b7ee6=_0xe92f67;return _0x1a57f['setName'][_0x5b7ee6(0x229)]()[_0x5b7ee6(0x161)](_0x4d94da[_0x5b7ee6(0x1cf)][_0x5b7ee6(0x229)]())!==-0x1;})[_0xe92f67(0x168)](function(_0xba4fe0){var _0x1e5d33=_0xe92f67,_0x5ec257=document[_0x1e5d33(0x1ae)](_0x1e5d33(0x215));_0x5ec257['textContent']=_0xba4fe0[_0x1e5d33(0x198)],_0x5ec257['dataset']['code']=_0xba4fe0['setCode'],_0xb220f0['appendChild'](_0x5ec257),_0x5ec257[_0x1e5d33(0x155)](_0x1e5d33(0x268),function(){var _0x85b020=_0x1e5d33;_0x1c4522['push'](_0xba4fe0),_0x497f85[_0x85b020(0x16b)](_0x497f85[_0x85b020(0x187)](function(_0x37ed3c){var _0x38242a=_0x85b020;return _0x37ed3c[_0x38242a(0x153)]===_0xba4fe0[_0x38242a(0x153)];}),0x1),_0x4d94da['value']='',_0x3e2343(),_0x1a5f91();});});}function _0x3e2343(){var _0x229d98=_0x2d9c0f;_0xbec861[_0x229d98(0x17a)]='',_0x1c4522['forEach'](function(_0x508e15){var _0x1dfd4f=_0x229d98,_0x51403e=document[_0x1dfd4f(0x1ae)](_0x1dfd4f(0x215));_0x51403e[_0x1dfd4f(0x163)]=_0x1dfd4f(0x1e5),_0x51403e[_0x1dfd4f(0x164)]=_0x508e15[_0x1dfd4f(0x198)];var _0xec35a7=document[_0x1dfd4f(0x1ae)]('span');_0xec35a7[_0x1dfd4f(0x163)]=_0x1dfd4f(0x160),_0xec35a7[_0x1dfd4f(0x164)]='×',_0xec35a7[_0x1dfd4f(0x155)](_0x1dfd4f(0x268),function(){var _0xc64d0a=_0x1dfd4f;_0x497f85[_0xc64d0a(0x200)](_0x508e15);const _0x4cab80=_0x1c4522[_0xc64d0a(0x187)](function(_0x5492ed){return _0x5492ed['setCode']===_0x508e15['setCode'];});if(_0x4cab80>-0x1)_0x1c4522[_0xc64d0a(0x16b)](_0x4cab80,0x1);_0x3e2343(),_0x1a5f91();}),_0x51403e['appendChild'](_0xec35a7),_0xbec861[_0x1dfd4f(0x17c)](_0x51403e);}),_0x27faac['dispatchEvent'](new CustomEvent('selectionChange',{'bubbles':!![]}));}return _0x4d94da['addEventListener'](_0x2d9c0f(0x1a6),function(){var _0x4fadf3=_0x2d9c0f;_0xb220f0['classList'][_0x4fadf3(0x1e9)]('newItem_hidden');}),_0x4d94da[_0x2d9c0f(0x155)]('input',_0x1a5f91),_0x4d94da[_0x2d9c0f(0x155)](_0x2d9c0f(0x1d0),function(_0x473459){var _0x285c09=_0x2d9c0f;if(_0x473459['key']===_0x285c09(0x262)){_0x473459['preventDefault']();const _0x1428f2=_0x4d94da[_0x285c09(0x1cf)]['trim']();if(!_0x1428f2)return;const _0x1d107b=_0x1c4522[_0x285c09(0x246)](_0xf993aa=>_0xf993aa[_0x285c09(0x198)]===_0x1428f2),_0x40c322=_0x497f85[_0x285c09(0x246)](_0x4e02a2=>_0x4e02a2['setName']===_0x1428f2);if(!_0x1d107b&&!_0x40c322){const _0x5b9abc={'setCode':_0x1428f2,'setName':_0x1428f2};_0x1c4522[_0x285c09(0x200)](_0x5b9abc),_0x3e2343(),_0x1a5f91();}_0x4d94da['value']='';}}),document[_0x2d9c0f(0x155)]('click',function(_0x44f3fc){var _0x2bc8ac=_0x2d9c0f;if(!_0x27faac[_0x2bc8ac(0x245)](_0x44f3fc[_0x2bc8ac(0x25a)]))_0xb220f0[_0x2bc8ac(0x224)]['add'](_0x2bc8ac(0x1f9));}),_0x1a5f91(),_0x1c4522;}function getLastCode(_0x5d144a){var _0x219580=_0x2d947b;const _0x42b3fd=_0x5d144a[_0x219580(0x1dc)](_0x16b696=>String(_0x16b696[_0x219580(0x21f)])['trim']())[_0x219580(0x206)](_0x22881d=>_0x22881d!=='');if(_0x42b3fd['length']===0x0)return'';const _0x32238b=_0x42b3fd[_0x219580(0x1af)](_0x392aa8=>/^\d+$/['test'](_0x392aa8));if(_0x32238b){const _0x143b38=_0x42b3fd[_0x219580(0x1dc)](Number),_0x535a3a=Math[_0x219580(0x16e)](..._0x143b38);return String(_0x535a3a);}let _0x1ae47;if(typeof Intl!=='undefined'&&Intl[_0x219580(0x208)]){const _0x2c1368=new Intl[(_0x219580(0x208))](undefined,{'numeric':!![],'sensitivity':_0x219580(0x16d)});_0x1ae47=_0x42b3fd[_0x219580(0x226)]()[_0x219580(0x217)](_0x2c1368[_0x219580(0x1ff)]);}else{const _0x1c3ee5=_0x42b3fd['every'](_0xd22082=>/^\d+$/[_0x219580(0x214)](_0xd22082));_0x1c3ee5?_0x1ae47=_0x42b3fd[_0x219580(0x1dc)](Number)[_0x219580(0x217)]((_0x1340c1,_0xddf988)=>_0x1340c1-_0xddf988)[_0x219580(0x1dc)](String):_0x1ae47=_0x42b3fd[_0x219580(0x226)]()['sort']();}return _0x1ae47[_0x1ae47[_0x219580(0x190)]-0x1];}function getNextCode(_0x597b7c){var _0x438195=_0x2d947b;const _0x61deac=getLastCode(_0x597b7c);if(!_0x61deac)return'';if(/^\d+$/[_0x438195(0x214)](_0x61deac))return String(Number(_0x61deac)+0x1);const _0x5b6ce0=_0x61deac[_0x438195(0x252)](/^([A-Za-z]*)(\d+)$/);if(_0x5b6ce0){const [,_0x20f72f,_0x5d97ca]=_0x5b6ce0,_0x3265b1=String(Number(_0x5d97ca)+0x1)[_0x438195(0x1df)](_0x5d97ca[_0x438195(0x190)],'0');return _0x20f72f+_0x3265b1;}return _0x61deac;}document[_0x2d947b(0x1b2)](_0x2d947b(0x250))[_0x2d947b(0x155)](_0x2d947b(0x179),function(_0x5578c8){var _0x49003a=_0x2d947b;baseItem[_0x49003a(0x174)]=_0x5578c8['target']['value'];}),document['getElementById'](_0x2d947b(0x1f1))['addEventListener'](_0x2d947b(0x179),function(_0xf40d6a){var _0x174209=_0x2d947b;baseItem[_0x174209(0x231)]=_0xf40d6a[_0x174209(0x25a)][_0x174209(0x1cf)];}),document[_0x2d947b(0x1b2)](_0x2d947b(0x167))[_0x2d947b(0x155)](_0x2d947b(0x179),function(_0x4f287f){var _0x14995f=_0x2d947b;baseItem[_0x14995f(0x1e0)]=_0x4f287f[_0x14995f(0x25a)][_0x14995f(0x1cf)];}),document['getElementById'](_0x2d947b(0x1b8))[_0x2d947b(0x155)](_0x2d947b(0x236),function(_0x6b7f04){var _0xa7a34a=_0x2d947b;baseItem[_0xa7a34a(0x20f)]=_0x6b7f04['target']['value'];}),document[_0x2d947b(0x1b2)]('inputItemTax')['addEventListener'](_0x2d947b(0x236),function(_0x45518e){var _0xe12131=_0x2d947b;baseItem[_0xe12131(0x234)]=_0x45518e[_0xe12131(0x25a)][_0xe12131(0x1cf)];const _0xbeef61=_0x45518e[_0xe12131(0x25a)][_0xe12131(0x1cf)],_0x3fe345=company[0x0]['setImpuestos']['find'](_0x180886=>_0x180886['setTaxId']==_0xbeef61)?.['setImpuestoCode']||0x0,_0x583ce6=company[0x0][_0xe12131(0x1a9)][_0xe12131(0x151)](_0x23a360=>_0x23a360['setTaxId']==_0xbeef61)?.[_0xe12131(0x157)]||0x0;baseItem[_0xe12131(0x1e4)]=_0x3fe345,baseItem[_0xe12131(0x19a)]=_0x583ce6;}),document['getElementById']('newItem_chk_buy')[_0x2d947b(0x155)](_0x2d947b(0x236),function(_0x5963ea){var _0x28b99e=_0x2d947b;baseItem['setItemIsBought']=_0x5963ea[_0x28b99e(0x25a)][_0x28b99e(0x18f)];}),document['getElementById'](_0x2d947b(0x269))['addEventListener'](_0x2d947b(0x236),function(_0x4cddde){var _0x248663=_0x2d947b;baseItem['setItemIsSold']=_0x4cddde[_0x248663(0x25a)][_0x248663(0x18f)];}),document[_0x2d947b(0x1b2)](_0x2d947b(0x1db))['addEventListener']('input',function(_0x578184){var _0x5cf79b=_0x2d947b;baseItem[_0x5cf79b(0x21b)]=_0x578184[_0x5cf79b(0x25a)][_0x5cf79b(0x1cf)];}),document['getElementById'](_0x2d947b(0x20d))[_0x2d947b(0x155)](_0x2d947b(0x179),function(_0x577532){var _0x1f1417=_0x2d947b;baseItem[_0x1f1417(0x248)]=_0x577532['target'][_0x1f1417(0x1cf)];}),document[_0x2d947b(0x1b2)](_0x2d947b(0x1a8))['addEventListener']('click',function(){addUnit(),updateUnitsArray();}),document[_0x2d947b(0x1b2)](_0x2d947b(0x1db))[_0x2d947b(0x155)]('blur',function(){var _0x59badb=_0x2d947b;const _0x3ef3d0=this[_0x59badb(0x1cf)][_0x59badb(0x19b)]();if(_0x3ef3d0==='')return;const _0x41fdb1=products[_0x59badb(0x246)](_0xe5a8b=>_0xe5a8b['setCodProducto']==_0x3ef3d0),_0xa48b32=getLastCode(products);_0x41fdb1?ntfShow(_0x59badb(0x193)+_0xa48b32,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x271da8){var _0x43fad4=_0x2d947b;currentImages[_0x271da8]=null;var _0x33e1b3=imgC[_0x43fad4(0x26a)](_0x43fad4(0x1d6)+_0x271da8+'\x22]');_0x33e1b3['innerHTML']='';var _0x5ed784=document[_0x43fad4(0x1ae)](_0x43fad4(0x179));_0x5ed784['type']=_0x43fad4(0x202),_0x5ed784[_0x43fad4(0x237)]=_0x43fad4(0x244),_0x5ed784['style']['display']=_0x43fad4(0x1ee);var _0x358f75=document['createElement'](_0x43fad4(0x233));_0x358f75[_0x43fad4(0x164)]='+',_0x33e1b3[_0x43fad4(0x17c)](_0x5ed784),_0x33e1b3[_0x43fad4(0x17c)](_0x358f75),_0x33e1b3[_0x43fad4(0x155)](_0x43fad4(0x268),function(){var _0x27f0ff=_0x43fad4;_0x5ed784[_0x27f0ff(0x268)]();}),baseItem[_0x43fad4(0x25f)]=currentImages['filter'](function(_0x1d0980){return _0x1d0980;});}function addUnit(_0x246138,_0x342e4a,_0x310e6b,_0x1098e9,_0x18a8fc,_0x2b90c0,_0x491d66){var _0x8885d4=_0x2d947b,_0x1490b3=uniqueValuesArray(_0x8885d4(0x25b),_0x8885d4(0x25b),products);_0x246138=_0x246138||'',_0x342e4a=_0x342e4a||_0x1490b3[0x0]&&_0x1490b3[0x0][_0x8885d4(0x153)]||'',_0x310e6b=_0x310e6b!==undefined?_0x310e6b:0x1,_0x1098e9=!!_0x1098e9,_0x18a8fc=_0x18a8fc||'',_0x2b90c0=_0x2b90c0||'';var _0x43b6ac=unitCount++,_0xf886a2=document[_0x8885d4(0x1ae)]('div');_0xf886a2[_0x8885d4(0x272)][_0x8885d4(0x243)]=_0x43b6ac,_0xf886a2[_0x8885d4(0x272)][_0x8885d4(0x1ce)]=_0x1098e9,_0xf886a2[_0x8885d4(0x17a)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x43b6ac+_0x8885d4(0x239)+_0x246138+_0x8885d4(0x1d9)+_0x43b6ac+_0x8885d4(0x173)+_0x43b6ac+_0x8885d4(0x239)+_0x310e6b+'\x22\x20'+(_0x1098e9?'disabled':'')+_0x8885d4(0x23f)+_0x43b6ac+'\x22\x20value=\x22'+_0x18a8fc+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x43b6ac+'\x22\x20value=\x22'+_0x2b90c0+_0x8885d4(0x223)+(_0x1098e9?'style=\x22display:none\x22':'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0xf886a2[_0x8885d4(0x26a)](_0x8885d4(0x1f6)),_0x1490b3,'setCode',_0x8885d4(0x198)),_0xf886a2[_0x8885d4(0x26a)](_0x8885d4(0x1f6))['value']=_0x342e4a,[_0x8885d4(0x22b),'unitSelect',_0x8885d4(0x267),_0x8885d4(0x225),_0x8885d4(0x1a1)]['forEach'](function(_0x503abc){_0xf886a2['querySelector']('.'+_0x503abc)['addEventListener']('input',function(){var _0x31294e=_0x491d66?+_0x491d66['id']['split']('_')[0x1]:null;if(_0x491d66)updateVariantUnits(_0x31294e);else updateUnitsArray();});}),_0xf886a2[_0x8885d4(0x26a)](_0x8885d4(0x196))['addEventListener'](_0x8885d4(0x268),function(){var _0x211958=_0x8885d4;_0xf886a2[_0x211958(0x1e9)]();var _0x8b7ac8=_0x491d66?+_0x491d66['id'][_0x211958(0x1f5)]('_')[0x1]:null;if(_0x491d66)updateVariantUnits(_0x8b7ac8);else updateUnitsArray();});var _0x1bd1b8=_0x491d66||document[_0x8885d4(0x1b2)](_0x8885d4(0x1bb));_0x1bd1b8[_0x8885d4(0x17c)](_0xf886a2);}function _0x1c97(_0x3c3e6d,_0x37e62){var _0x62537d=_0x2be8();return _0x1c97=function(_0x57f67f,_0x40530b){_0x57f67f=_0x57f67f-0x14f;var _0x589251=_0x62537d[_0x57f67f];return _0x589251;},_0x1c97(_0x3c3e6d,_0x37e62);}function containerIdx(_0x5a3f4c){return+_0x5a3f4c['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x58a6ec=_0x2d947b,_0x560364=[],_0x24fc03=Array[_0x58a6ec(0x178)](document[_0x58a6ec(0x22c)](_0x58a6ec(0x180))),_0x5d61f1=_0x24fc03[_0x58a6ec(0x151)](_0x504d64=>_0x504d64[_0x58a6ec(0x272)][_0x58a6ec(0x1ce)]===_0x58a6ec(0x1d8)),_0x1a7490=_0x5d61f1?+_0x5d61f1[_0x58a6ec(0x26a)](_0x58a6ec(0x172))[_0x58a6ec(0x1cf)]:0x1;_0x24fc03[_0x58a6ec(0x168)](function(_0x1b1ad0){var _0x59dbdd=_0x58a6ec,_0x88b4e5=+_0x1b1ad0[_0x59dbdd(0x26a)]('.eqInput')[_0x59dbdd(0x1cf)]||0x0,_0x1a87cb=+_0x1b1ad0[_0x59dbdd(0x26a)]('.priceInput')['value']||0x0,_0x2ca7c1=+_0x1b1ad0[_0x59dbdd(0x26a)]('.costInput')[_0x59dbdd(0x1cf)]||0x0;_0x560364[_0x59dbdd(0x200)]({'setAlias':_0x1b1ad0[_0x59dbdd(0x26a)](_0x59dbdd(0x176))[_0x59dbdd(0x1cf)][_0x59dbdd(0x19b)](),'setUnitCode':_0x1b1ad0[_0x59dbdd(0x26a)](_0x59dbdd(0x1f6))[_0x59dbdd(0x1cf)],'setEquivalence':_0x88b4e5,'setFactor':_0x1b1ad0[_0x59dbdd(0x272)][_0x59dbdd(0x1ce)]===_0x59dbdd(0x1d8)?0x1:_0x88b4e5==_0x1a7490?0x1:_0x88b4e5<_0x1a7490?_0x1a7490/_0x88b4e5:_0x88b4e5/_0x1a7490,'setPrice':_0x1a87cb,'setCost':_0x2ca7c1,'setDefault':_0x1b1ad0['dataset']['default']===_0x59dbdd(0x1d8)?0x1:0x0});}),baseItem[_0x58a6ec(0x264)]=_0x560364;}function updateBranches(){var _0x2c41fe=_0x2d947b,_0x6ecb8b=[];document[_0x2c41fe(0x22c)](_0x2c41fe(0x1c9))[_0x2c41fe(0x168)](function(_0x5eb4bd){var _0x16aee0=_0x2c41fe,_0x1b0b39=_0x5eb4bd[_0x16aee0(0x26a)]('.branchChk');if(_0x1b0b39['checked']){var _0x12fb76=+_0x1b0b39[_0x16aee0(0x272)]['id'],_0x134ae1=+_0x5eb4bd['querySelector']('.branchInit')['value'],_0x211c4d=+_0x5eb4bd[_0x16aee0(0x26a)](_0x16aee0(0x24f))[_0x16aee0(0x1cf)];_0x6ecb8b[_0x16aee0(0x200)]({'setWarehouseCode':_0x12fb76,'setStockInitial':_0x134ae1,'setStockMinimum':_0x211c4d});}}),baseItem['setItemWarehouses']=_0x6ecb8b;}document[_0x2d947b(0x1b2)](_0x2d947b(0x1f4))[_0x2d947b(0x155)](_0x2d947b(0x268),function(){var _0x81310f=_0x2d947b,_0x357285=Date['now'](),_0x1f0272=document['createElement'](_0x81310f(0x215));_0x1f0272['dataset'][_0x81310f(0x243)]=_0x357285,_0x1f0272[_0x81310f(0x17a)]=_0x81310f(0x181)+_0x357285+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x357285+_0x81310f(0x240),prodC['appendChild'](_0x1f0272),initProdSearch(_0x1f0272[_0x81310f(0x26a)](_0x81310f(0x1ec))),_0x1f0272[_0x81310f(0x26a)](_0x81310f(0x241))[_0x81310f(0x155)]('click',function(){var _0x3c1021=_0x81310f;_0x1f0272[_0x3c1021(0x1e9)](),updateProdItems();}),_0x1f0272[_0x81310f(0x26a)](_0x81310f(0x263))['addEventListener'](_0x81310f(0x179),updateProdItems),document['getElementById'](_0x81310f(0x1a4))[_0x81310f(0x224)]['toggle'](_0x81310f(0x1bf),!![]),document[_0x81310f(0x1b2)]('newItem_title_table_cp')[_0x81310f(0x224)][_0x81310f(0x22d)](_0x81310f(0x1f9),![]);});function initProdSearch(_0x11191c,_0x55c6f7){var _0x80ee18=_0x2d947b,_0x352715=_0x11191c[_0x80ee18(0x26a)](_0x80ee18(0x23a)),_0x336ed0=_0x11191c[_0x80ee18(0x26a)](_0x80ee18(0x227)),_0x4f882c=_0x55c6f7||null;if(_0x55c6f7)_0x352715[_0x80ee18(0x1cf)]=_0x55c6f7[_0x80ee18(0x1d5)];_0x352715[_0x80ee18(0x155)](_0x80ee18(0x179),function(){var _0x356ac6=_0x80ee18,_0x564528=_0x352715['value'][_0x356ac6(0x229)]()[_0x356ac6(0x19b)]();_0x336ed0['innerHTML']='';if(!_0x564528)return;products[_0x356ac6(0x206)](_0x2369b2=>_0x2369b2[_0x356ac6(0x1a5)][_0x356ac6(0x229)]()[_0x356ac6(0x1ea)](_0x564528))['slice'](0x0,0x14)[_0x356ac6(0x168)](function(_0x1db761){var _0x165f9b=_0x356ac6,_0x24de4d=document['createElement']('div');_0x24de4d[_0x165f9b(0x164)]=_0x1db761['setDescripcion'],_0x24de4d['dataset']['id']=_0x1db761['id'],_0x24de4d[_0x165f9b(0x272)][_0x165f9b(0x1d5)]=_0x1db761['setDescripcion'],_0x336ed0[_0x165f9b(0x17c)](_0x24de4d),_0x24de4d[_0x165f9b(0x155)](_0x165f9b(0x268),function(){var _0x38d3e3=_0x165f9b;_0x4f882c={'id':_0x1db761['id'],'name':_0x1db761[_0x38d3e3(0x1a5)]},_0x352715[_0x38d3e3(0x1cf)]=_0x1db761[_0x38d3e3(0x1a5)],_0x336ed0[_0x38d3e3(0x17a)]='';var _0x28edbe=_0x11191c['closest'](_0x38d3e3(0x1c7));if(_0x28edbe){var _0x25f1f6=+_0x28edbe['id'][_0x38d3e3(0x1f5)]('_')[0x1];updateVariantComponents(_0x25f1f6);}else updateProdItems();});});}),_0x352715[_0x80ee18(0x155)](_0x80ee18(0x1a6),function(){var _0x472b10=_0x80ee18;_0x336ed0[_0x472b10(0x224)][_0x472b10(0x1e9)](_0x472b10(0x1f9));}),document['addEventListener']('click',function(_0x2aaf31){var _0x3d459b=_0x80ee18;if(!_0x11191c[_0x3d459b(0x245)](_0x2aaf31[_0x3d459b(0x25a)]))_0x336ed0[_0x3d459b(0x224)][_0x3d459b(0x26d)](_0x3d459b(0x1f9));}),Object['defineProperty'](_0x11191c,_0x80ee18(0x1b9),{'get':()=>_0x4f882c});}function updateProdItems(){var _0x2e69b7=_0x2d947b,_0x12fff2=[];Array[_0x2e69b7(0x178)](prodC[_0x2e69b7(0x1da)])[_0x2e69b7(0x168)](function(_0x3fe288){var _0x25753c=_0x2e69b7,_0x54eab4=_0x3fe288[_0x25753c(0x26a)](_0x25753c(0x1ec));if(!_0x54eab4)return;var _0x116187=_0x3fe288[_0x25753c(0x26a)](_0x25753c(0x263)),_0x3444c2=_0x54eab4[_0x25753c(0x1b9)];_0x3444c2&&_0x12fff2[_0x25753c(0x200)]({'setItemId':_0x3444c2['id'],'setDescripcion':_0x3444c2[_0x25753c(0x1d5)],'setCantidad':+_0x116187['value']});}),baseItem['setItemComponents']=_0x12fff2,_0x12fff2['length']===0x0&&(document['getElementById'](_0x2e69b7(0x1a4))[_0x2e69b7(0x224)][_0x2e69b7(0x22d)](_0x2e69b7(0x1bf),![]),document[_0x2e69b7(0x1b2)](_0x2e69b7(0x1a4))[_0x2e69b7(0x224)][_0x2e69b7(0x22d)]('newItem_hidden',!![]));}document['getElementById'](_0x2d947b(0x1b7))[_0x2d947b(0x155)](_0x2d947b(0x268),function(){var _0x52d8b8=_0x2d947b,_0x149695=vgCount++,_0x5c2897=document['createElement']('div');_0x5c2897[_0x52d8b8(0x272)][_0x52d8b8(0x243)]=_0x149695,_0x5c2897[_0x52d8b8(0x17a)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x149695+'\x22>'+_0x52d8b8(0x24c)+_0x149695+'\x22>'+_0x52d8b8(0x1c5),vgC[_0x52d8b8(0x17c)](_0x5c2897),_0x5c2897[_0x52d8b8(0x26a)](_0x52d8b8(0x1eb))[_0x52d8b8(0x155)](_0x52d8b8(0x247),generateVariants),_0x5c2897[_0x52d8b8(0x26a)]('.vgVals')['addEventListener'](_0x52d8b8(0x247),generateVariants),_0x5c2897['querySelector'](_0x52d8b8(0x15d))['addEventListener']('click',function(){var _0x49b3d1=_0x52d8b8;_0x5c2897[_0x49b3d1(0x1e9)](),generateVariants();});});function generateVariants(){var _0x2a63ce=_0x2d947b,_0x534bb4=[];vgC[_0x2a63ce(0x22c)](_0x2a63ce(0x215))['forEach'](function(_0x5cf27c){var _0x16af5a=_0x2a63ce,_0x3f5232=_0x5cf27c[_0x16af5a(0x26a)](_0x16af5a(0x1eb))[_0x16af5a(0x1cf)]['trim'](),_0x23a86f=_0x5cf27c['querySelector'](_0x16af5a(0x258))[_0x16af5a(0x1cf)][_0x16af5a(0x1f5)](',')[_0x16af5a(0x1dc)](_0x5de33d=>_0x5de33d[_0x16af5a(0x19b)]())[_0x16af5a(0x206)](_0x39bb54=>_0x39bb54);if(_0x3f5232&&_0x23a86f[_0x16af5a(0x190)])_0x534bb4[_0x16af5a(0x200)]({'name':_0x3f5232,'vals':_0x23a86f});});var _0x1eba95=[{}];_0x534bb4[_0x2a63ce(0x168)](function(_0x4c579d){_0x1eba95=_0x1eba95['flatMap'](function(_0x1e824b){var _0x45a6b7=_0x1c97;return _0x4c579d[_0x45a6b7(0x159)][_0x45a6b7(0x1dc)](function(_0x43e879){var _0x327854=_0x45a6b7,_0x142fef=Object['assign']({},_0x1e824b);return _0x142fef[_0x4c579d[_0x327854(0x1d5)]]=_0x43e879,_0x142fef;});});}),newItems=[],varContainer[_0x2a63ce(0x17a)]='',_0x1eba95['forEach'](function(_0x474f9c,_0x496f3f){var _0x3666c7=_0x2a63ce,_0x44d736=JSON[_0x3666c7(0x228)](JSON[_0x3666c7(0x271)](baseItem));_0x44d736[_0x3666c7(0x162)]=_0x474f9c,_0x44d736['setItemVariantName']=baseItem['setItemName']+'\x20'+Object['entries'](_0x474f9c)[_0x3666c7(0x1dc)](_0x40a207=>_0x40a207[0x0]+'\x20'+_0x40a207[0x1])[_0x3666c7(0x1f7)]('\x20'),newItems[_0x3666c7(0x200)](_0x44d736);var _0x40f44b=document[_0x3666c7(0x1ae)](_0x3666c7(0x215));_0x40f44b[_0x3666c7(0x224)][_0x3666c7(0x26d)](_0x3666c7(0x273)),_0x40f44b[_0x3666c7(0x272)][_0x3666c7(0x243)]=_0x496f3f,_0x40f44b[_0x3666c7(0x17a)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x44d736[_0x3666c7(0x265)]+_0x3666c7(0x19f)+_0x44d736[_0x3666c7(0x21b)]+_0x3666c7(0x14f)+_0x44d736['setItemBarCode']+_0x3666c7(0x1d2)+_0x44d736[_0x3666c7(0x1e0)]+_0x3666c7(0x184)+_0x496f3f+_0x3666c7(0x16a)+_0x496f3f+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x496f3f+_0x3666c7(0x24b),varContainer[_0x3666c7(0x17c)](_0x40f44b),_0x40f44b['querySelector'](_0x3666c7(0x21d))[_0x3666c7(0x155)](_0x3666c7(0x179),_0x548a10=>newItems[_0x496f3f][_0x3666c7(0x21b)]=_0x548a10['target']['value']),_0x40f44b[_0x3666c7(0x26a)](_0x3666c7(0x242))[_0x3666c7(0x155)](_0x3666c7(0x179),_0x23ef64=>newItems[_0x496f3f][_0x3666c7(0x248)]=_0x23ef64[_0x3666c7(0x25a)][_0x3666c7(0x1cf)]),_0x40f44b['querySelector'](_0x3666c7(0x1b6))[_0x3666c7(0x155)](_0x3666c7(0x236),_0x34d079=>newItems[_0x496f3f][_0x3666c7(0x1e0)]=_0x34d079[_0x3666c7(0x25a)][_0x3666c7(0x1cf)]),initVariantUnits(_0x496f3f),initVariantComponents(_0x496f3f),initVariantBranches(_0x496f3f),_0x40f44b[_0x3666c7(0x26a)]('.removeVariant')[_0x3666c7(0x155)](_0x3666c7(0x268),function(){var _0x2b478e=_0x3666c7,_0x147758=+_0x40f44b['dataset'][_0x2b478e(0x243)];newItems['splice'](_0x147758,0x1),_0x40f44b[_0x2b478e(0x1e9)](),document['querySelectorAll'](_0x2b478e(0x1be))[_0x2b478e(0x168)](function(_0x418527,_0xbfdd68){var _0x2fbe28=_0x2b478e;_0x418527[_0x2fbe28(0x272)][_0x2fbe28(0x243)]=_0xbfdd68;});});});if(newItems[_0x2a63ce(0x190)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3c9229){var _0x3bb05b=_0x2d947b,_0x57508d=document[_0x3bb05b(0x1b2)](_0x3bb05b(0x22f)+_0x3c9229+'_units_container'),_0x53f9e5=[];Array[_0x3bb05b(0x178)](_0x57508d[_0x3bb05b(0x1da)])[_0x3bb05b(0x168)](function(_0x588b44){var _0x43883a=_0x3bb05b,_0x3f0950=+_0x588b44[_0x43883a(0x26a)](_0x43883a(0x172))[_0x43883a(0x1cf)]||0x0,_0xbb8647=_0x588b44[_0x43883a(0x26a)](_0x43883a(0x176))[_0x43883a(0x1cf)]['trim'](),_0x766319=_0x588b44[_0x43883a(0x26a)]('.unitSelect')[_0x43883a(0x1cf)],_0x1f8d38=+_0x588b44[_0x43883a(0x26a)](_0x43883a(0x1d3))[_0x43883a(0x1cf)]||0x0,_0x4f5b26=+_0x588b44['querySelector'](_0x43883a(0x15a))[_0x43883a(0x1cf)]||0x0,_0x34ec4b=_0x588b44['dataset'][_0x43883a(0x1ce)]===_0x43883a(0x1d8),_0x263cef=+_0x57508d['querySelector']('div[data-default=\x22true\x22]\x20.eqInput')[_0x43883a(0x1cf)]||0x1,_0x57897a=_0x34ec4b?0x1:_0x3f0950==_0x263cef?0x1:_0x3f0950<_0x263cef?_0x263cef/_0x3f0950:_0x3f0950/_0x263cef;_0x53f9e5['push']({'setAlias':_0xbb8647,'setUnitCode':_0x766319,'setEquivalence':_0x3f0950,'setFactor':_0x57897a,'setPrice':_0x1f8d38,'setCost':_0x4f5b26,'setDefault':_0x34ec4b?0x1:0x0});}),newItems[_0x3c9229][_0x3bb05b(0x264)]=_0x53f9e5;}function initVariantUnits(_0x2191c3){var _0x3e5c2b=_0x2d947b,_0x2442a6=document[_0x3e5c2b(0x1b2)]('variant_'+_0x2191c3+_0x3e5c2b(0x249));_0x2442a6[_0x3e5c2b(0x17a)]='',newItems[_0x2191c3]['setItemUnits']['forEach'](function(_0xb445ea){var _0x592b32=_0x3e5c2b;addUnit(_0xb445ea[_0x592b32(0x26b)],_0xb445ea[_0x592b32(0x1c2)],_0xb445ea[_0x592b32(0x1d7)],_0xb445ea['setDefault'],_0xb445ea['setPrice'],_0xb445ea[_0x592b32(0x183)],_0x2442a6);}),_0x2442a6['parentNode'][_0x3e5c2b(0x26a)](_0x3e5c2b(0x171))['addEventListener'](_0x3e5c2b(0x268),function(){addUnit('','',0x1,![],'','',_0x2442a6),updateVariantUnits(_0x2191c3);});}function updateVariantUnits(_0x129a3f){var _0x23f2ef=_0x2d947b,_0x249127=document['getElementById'](_0x23f2ef(0x22f)+_0x129a3f+'_units_container'),_0xe01dbf=_0x249127['querySelector'](_0x23f2ef(0x26e)),_0x10087e=_0xe01dbf?+_0xe01dbf['value']:0x1,_0x459341=Array[_0x23f2ef(0x178)](_0x249127[_0x23f2ef(0x1da)])[_0x23f2ef(0x1dc)](function(_0x1041fc){var _0x11dcb1=_0x23f2ef,_0x493685=_0x1041fc['querySelector']('.unitAlias')[_0x11dcb1(0x1cf)]['trim'](),_0xc9f150=_0x1041fc['querySelector']('.unitSelect')[_0x11dcb1(0x1cf)],_0x108df1=+_0x1041fc[_0x11dcb1(0x26a)](_0x11dcb1(0x172))[_0x11dcb1(0x1cf)]||0x0,_0x1e932e=+_0x1041fc[_0x11dcb1(0x26a)](_0x11dcb1(0x1d3))['value']||0x0,_0x5200a5=+_0x1041fc[_0x11dcb1(0x26a)]('.costInput')[_0x11dcb1(0x1cf)]||0x0,_0x5ea4e1=_0x1041fc['dataset']['default']===_0x11dcb1(0x1d8);return{'setAlias':_0x493685,'setUnitCode':_0xc9f150,'setEquivalence':_0x108df1,'setFactor':_0x5ea4e1?0x1:_0x108df1==_0x10087e?0x1:_0x108df1<_0x10087e?_0x10087e/_0x108df1:_0x108df1/_0x10087e,'setPrice':_0x1e932e,'setCost':_0x5200a5,'setDefault':_0x5ea4e1?0x1:0x0};});newItems[_0x129a3f][_0x23f2ef(0x264)]=_0x459341;}function initVariantComponents(_0x2f35c2){var _0x4555c9=_0x2d947b,_0x290f86=document['getElementById']('variant_'+_0x2f35c2+_0x4555c9(0x201));_0x290f86[_0x4555c9(0x17a)]='',newItems[_0x2f35c2][_0x4555c9(0x21a)][_0x4555c9(0x168)](function(_0xe390cb){var _0xec4f52=_0x4555c9,_0x4269d3=document[_0xec4f52(0x1ae)](_0xec4f52(0x215)),_0x98ba3a=Date[_0xec4f52(0x1c6)]();_0x4269d3[_0xec4f52(0x272)][_0xec4f52(0x243)]=_0x98ba3a,_0x4269d3[_0xec4f52(0x17a)]=_0xec4f52(0x232)+_0x98ba3a+_0xec4f52(0x205)+_0xe390cb[_0xec4f52(0x166)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x290f86[_0xec4f52(0x17c)](_0x4269d3),initProdSearch(_0x4269d3[_0xec4f52(0x26a)](_0xec4f52(0x1ec)),{'id':_0xe390cb[_0xec4f52(0x15f)],'name':_0xe390cb[_0xec4f52(0x1a5)]}),_0x4269d3[_0xec4f52(0x26a)](_0xec4f52(0x263))[_0xec4f52(0x155)](_0xec4f52(0x179),function(){updateVariantComponents(_0x2f35c2);}),_0x4269d3[_0xec4f52(0x26a)](_0xec4f52(0x1b1))[_0xec4f52(0x155)]('click',function(){var _0x568dea=_0xec4f52;_0x4269d3[_0x568dea(0x1e9)](),updateVariantComponents(_0x2f35c2);});}),_0x290f86[_0x4555c9(0x1a3)][_0x4555c9(0x26a)]('.addVariantComp')[_0x4555c9(0x155)]('click',function(){var _0x169ee2=_0x4555c9,_0x36d5a6=document[_0x169ee2(0x1ae)](_0x169ee2(0x215)),_0x369afc=Date[_0x169ee2(0x1c6)]();_0x36d5a6[_0x169ee2(0x272)][_0x169ee2(0x243)]=_0x369afc,_0x36d5a6[_0x169ee2(0x17a)]=_0x169ee2(0x232)+_0x369afc+_0x169ee2(0x1a2),_0x290f86[_0x169ee2(0x17c)](_0x36d5a6),initProdSearch(_0x36d5a6[_0x169ee2(0x26a)](_0x169ee2(0x1ec))),_0x36d5a6[_0x169ee2(0x26a)]('.prodQty')[_0x169ee2(0x155)]('input',function(){updateVariantComponents(_0x2f35c2);}),_0x36d5a6[_0x169ee2(0x26a)](_0x169ee2(0x1b1))[_0x169ee2(0x155)](_0x169ee2(0x268),function(){var _0x552364=_0x169ee2;_0x36d5a6[_0x552364(0x1e9)](),updateVariantComponents(_0x2f35c2);});});}function updateVariantComponents(_0x11d04f){var _0x48f2c2=_0x2d947b,_0x3998c5=document['getElementById'](_0x48f2c2(0x22f)+_0x11d04f+_0x48f2c2(0x201)),_0x30898f=Array['from'](_0x3998c5[_0x48f2c2(0x1da)])['map'](function(_0x32705b){var _0x16ff3a=_0x48f2c2,_0x15d48c=_0x32705b[_0x16ff3a(0x26a)](_0x16ff3a(0x1ec)),_0x5bfef5=_0x15d48c[_0x16ff3a(0x1b9)],_0x1cf4a7=+_0x32705b[_0x16ff3a(0x26a)](_0x16ff3a(0x263))[_0x16ff3a(0x1cf)]||0x0;return _0x5bfef5?{'setItemId':_0x5bfef5['id'],'setDescripcion':_0x5bfef5[_0x16ff3a(0x1d5)],'setCantidad':_0x1cf4a7}:null;})['filter'](_0x420c3c=>_0x420c3c);newItems[_0x11d04f][_0x48f2c2(0x21a)]=_0x30898f;}function initVariantBranches(_0x57403e){var _0x4b7571=_0x2d947b;const _0xf82cd0=getAllWarehouses();var _0x4bc147=document[_0x4b7571(0x1b2)](_0x4b7571(0x22f)+_0x57403e+'_branch_container');_0x4bc147['innerHTML']='',newItems[_0x57403e]['setItemWarehouses']['forEach'](function(_0x27ea91){var _0x5a3950=_0x4b7571,_0x7db1cf=_0xf82cd0['find'](_0x52105f=>_0x52105f['setWarehouseId']==_0x27ea91['setWarehouseCode']),_0x1bcbcb=document[_0x5a3950(0x1ae)](_0x5a3950(0x215));_0x1bcbcb[_0x5a3950(0x17a)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x27ea91[_0x5a3950(0x1b5)]+_0x5a3950(0x156)+_0x7db1cf[_0x5a3950(0x219)]+_0x5a3950(0x1b3)+_0x27ea91[_0x5a3950(0x1b5)]+_0x5a3950(0x239)+_0x27ea91[_0x5a3950(0x209)]+_0x5a3950(0x203)+_0x27ea91['setWarehouseCode']+_0x5a3950(0x239)+_0x27ea91[_0x5a3950(0x1c4)]+'\x22>',_0x4bc147[_0x5a3950(0x17c)](_0x1bcbcb),_0x1bcbcb[_0x5a3950(0x22c)]('input')[_0x5a3950(0x168)](function(_0x3d2bbd){var _0x232b2c=_0x5a3950;_0x3d2bbd[_0x232b2c(0x155)](_0x232b2c(0x179),function(){updateVariantBranches(_0x57403e);});});}),_0xf82cd0[_0x4b7571(0x168)](function(_0x30aaf3){var _0x31bc79=_0x4b7571;if(!newItems[_0x57403e]['setItemWarehouses'][_0x31bc79(0x151)](_0x5c6a36=>_0x5c6a36[_0x31bc79(0x1b5)]===_0x30aaf3[_0x31bc79(0x1ed)])){var _0x4ddafa=document[_0x31bc79(0x1ae)](_0x31bc79(0x215));_0x4ddafa['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x30aaf3['setWarehouseId']+_0x31bc79(0x1fd)+_0x30aaf3[_0x31bc79(0x219)]+_0x31bc79(0x1b3)+_0x30aaf3['setWarehouseId']+_0x31bc79(0x203)+_0x30aaf3[_0x31bc79(0x1ed)]+'\x22>',_0x4bc147['appendChild'](_0x4ddafa),_0x4ddafa[_0x31bc79(0x22c)](_0x31bc79(0x179))[_0x31bc79(0x168)](function(_0x10e1cd){var _0x8fed1b=_0x31bc79;_0x10e1cd['addEventListener'](_0x8fed1b(0x179),function(){updateVariantBranches(_0x57403e);});});}});}function updateVariantBranches(_0x5ae8b1){var _0x2c22b7=_0x2d947b,_0x5650ad=document[_0x2c22b7(0x1b2)](_0x2c22b7(0x22f)+_0x5ae8b1+_0x2c22b7(0x185)),_0x4286a0=[];_0x5650ad[_0x2c22b7(0x22c)]('div')[_0x2c22b7(0x168)](function(_0x284da9){var _0xd335c4=_0x2c22b7,_0x2ec5a7=_0x284da9[_0xd335c4(0x26a)](_0xd335c4(0x189));if(_0x2ec5a7[_0xd335c4(0x18f)]){var _0x2714e6=+_0x2ec5a7[_0xd335c4(0x272)]['id'],_0x1eb257=+_0x284da9[_0xd335c4(0x26a)](_0xd335c4(0x20e))[_0xd335c4(0x1cf)]||0x0,_0x46edc7=+_0x284da9[_0xd335c4(0x26a)]('.branchMin')[_0xd335c4(0x1cf)]||0x0;_0x4286a0[_0xd335c4(0x200)]({'setWarehouseCode':_0x2714e6,'setStockInitial':_0x1eb257,'setStockMinimum':_0x46edc7});}}),newItems[_0x5ae8b1][_0x2c22b7(0x1bc)]=_0x4286a0;}async function storeOfflineProduct(_0x5d3270){var _0x5dac37=_0x2d947b;try{const _0x2c8d6b=await createCartStore(''),_0x166acd=_0x2c8d6b[_0x5dac37(0x238)](_0x5dac37(0x158),'readwrite'),_0x477e38=_0x166acd[_0x5dac37(0x20c)](_0x5dac37(0x158));_0x477e38[_0x5dac37(0x26d)](_0x5d3270),_0x166acd['oncomplete']=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x166acd[_0x5dac37(0x251)]=_0x2b9103=>{var _0x23245d=_0x5dac37;console[_0x23245d(0x1b0)](_0x23245d(0x1fa),_0x2b9103[_0x23245d(0x25a)][_0x23245d(0x1b0)]);};}catch(_0x497979){console[_0x5dac37(0x1b0)]('Error\x20al\x20procesar\x20la\x20operación:',_0x497979);}}document[_0x2d947b(0x1b2)](_0x2d947b(0x210))[_0x2d947b(0x155)](_0x2d947b(0x268),async function(_0x14cd82){var _0x27b7fd=_0x2d947b;_0x14cd82['preventDefault']();const _0x48a33a=document[_0x27b7fd(0x1b2)](_0x27b7fd(0x1db)),_0x4dbfa6=document[_0x27b7fd(0x1b2)](_0x27b7fd(0x19c))['value'];if(!_0x48a33a['value'][_0x27b7fd(0x19b)]()&&_0x4dbfa6==0x0){ntfShow(_0x27b7fd(0x261),0x2,0x1);return;}const _0x3f3ba3=document[_0x27b7fd(0x1b2)](_0x27b7fd(0x250));if(!_0x3f3ba3['value'][_0x27b7fd(0x19b)]()){ntfShow(_0x27b7fd(0x1cb),0x2,0x1);return;}const _0x4f0ed3=document[_0x27b7fd(0x1b2)](_0x27b7fd(0x1bd));hideModalCreateItem(),showLoadingModal();newItems[_0x27b7fd(0x190)]===0x0&&(newItems=[baseItem]);const _0x14e567=document['getElementById'](_0x27b7fd(0x18c))[_0x27b7fd(0x1cf)],_0x33bcee=window_options[_0x14e567][_0x27b7fd(0x1ef)];let _0x2f2fc4=generateNumericUniqId()*0x64+0x1f4,_0x3d6e56=generateNumericUniqId()*0xa;const _0x3a4685=[];newItems[_0x27b7fd(0x168)](_0x14a246=>{var _0x3a555e=_0x27b7fd;const _0x49a718=++_0x3d6e56;_0x14a246['setItemUnits'][_0x3a555e(0x168)](_0x34fe40=>{var _0x1ca531=_0x3a555e;const _0x479371=++_0x2f2fc4;_0x34fe40['setUnitPresentationId']=_0x479371;const _0x5611f8={'id':_0x479371,'setIdProducto':_0x49a718,'setCodProducto':_0x14a246[_0x1ca531(0x21b)],'setDescripcion':_0x14a246[_0x1ca531(0x265)]!=''?_0x14a246['setItemVariantName']:_0x14a246[_0x1ca531(0x174)],'setItemDescription':_0x14a246[_0x1ca531(0x231)],'setBatchExpirationDate':_0x14a246[_0x1ca531(0x1e0)],'setBatchName':'','setCategoria':_0x14a246[_0x1ca531(0x177)][0x0]||'','setMarca':_0x14a246[_0x1ca531(0x255)][0x0]||'','setConversionFactor':parseFloat(_0x34fe40[_0x1ca531(0x18a)]),'setImages':[],'setImg':_0x1ca531(0x17d),'setInventariable':0x1,'setItemIsBought':_0x14a246[_0x1ca531(0x260)]?0x1:0x0,'setItemIsSold':_0x14a246[_0x1ca531(0x1c8)]?0x1:0x0,'setPorcentajeIgv':_0x14a246[_0x1ca531(0x19a)],'setPrinters':[],'setTaxId':_0x14a246['setItemTaxId'],'setTipAfeIgv':_0x14a246[_0x1ca531(0x1e4)],'setUnidad':_0x34fe40[_0x1ca531(0x1c2)],'setUnidadCodigo':_0x34fe40[_0x1ca531(0x1c2)],'currency_data':[{'currency':_0x33bcee,'setMtoPrecioCostoUnitario':_0x34fe40[_0x1ca531(0x183)],'setMtoPrecioUnitario':_0x34fe40[_0x1ca531(0x204)],'setPriceLists':[]}],'sucursales':_0x14a246[_0x1ca531(0x1bc)][_0x1ca531(0x1dc)](_0x4057b0=>({'setIdSucursal':_0x4057b0['setWarehouseCode'],'setSucursalStock':_0x4057b0[_0x1ca531(0x209)][_0x1ca531(0x1c3)](),'setWarehouseStockMin':_0x4057b0[_0x1ca531(0x1c4)][_0x1ca531(0x1c3)]()})),'setItemFree':_0x14a246[_0x1ca531(0x19c)],'setItemBarCode':_0x14a246[_0x1ca531(0x248)],'setItemBrands':_0x14a246['setItemBrands'][_0x1ca531(0x226)](),'setItemCategories':_0x14a246[_0x1ca531(0x177)][_0x1ca531(0x226)](),'setItemComponents':_0x14a246[_0x1ca531(0x21a)][_0x1ca531(0x1dc)](_0x483b4b=>({..._0x483b4b})),'setItemImages':_0x14a246['setItemImages'][_0x1ca531(0x226)](),'setItemVariantName':_0x14a246['setItemVariantName'],'setItemVariantValues':{..._0x14a246[_0x1ca531(0x162)]}};_0x3a4685[_0x1ca531(0x200)](_0x5611f8),(_0x4f0ed3['checked']||_0x4dbfa6==0x1)&&addToCart(_0x5611f8);});}),console['log']('Items\x20finales:',newItems),await finalizeImport(_0x3a4685,newItems,![]);}),[_0x2d947b(0x170),_0x2d947b(0x216)][_0x2d947b(0x168)](_0x9085d=>dropZone[_0x2d947b(0x155)](_0x9085d,_0x3e1536=>{var _0x2d43b3=_0x2d947b;_0x3e1536[_0x2d43b3(0x1c0)](),dropZone[_0x2d43b3(0x224)][_0x2d43b3(0x26d)](_0x2d43b3(0x216));})),[_0x2d947b(0x15c),'drop'][_0x2d947b(0x168)](_0x36953a=>dropZone[_0x2d947b(0x155)](_0x36953a,_0x3e9f4a=>{var _0x508a3c=_0x2d947b;_0x3e9f4a[_0x508a3c(0x1c0)](),dropZone['classList'][_0x508a3c(0x1e9)]('dragover');})),dropZone[_0x2d947b(0x155)](_0x2d947b(0x207),_0x2c7673=>{var _0x2a660a=_0x2d947b;const _0x36b87d=_0x2c7673[_0x2a660a(0x257)][_0x2a660a(0x1c1)][0x0];if(!_0x36b87d)return;fileInput[_0x2a660a(0x1c1)]=_0x2c7673[_0x2a660a(0x257)][_0x2a660a(0x1c1)],dropZone[_0x2a660a(0x26a)](_0x2a660a(0x1e2))[_0x2a660a(0x164)]=_0x36b87d[_0x2a660a(0x1d5)],removeBtn[_0x2a660a(0x253)]=![],fileInput[_0x2a660a(0x23e)](new Event(_0x2a660a(0x236)));}),removeBtn['addEventListener']('click',()=>{var _0x4b15ab=_0x2d947b;fileInput['value']='',dropZone['querySelector']('.drop-zone__prompt')[_0x4b15ab(0x164)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x4b15ab(0x253)]=!![],progressBar[_0x4b15ab(0x16c)][_0x4b15ab(0x1ba)]=_0x4b15ab(0x1ee),statusDiv[_0x4b15ab(0x164)]='',uploadBtn[_0x4b15ab(0x18b)]=!![];}),itemWorker[_0x2d947b(0x1f0)]=({data:_0xb909a4})=>{var _0x34136a=_0x2d947b;const {type:_0x588be4,payload:_0x519c37}=_0xb909a4;_0x588be4==='progress'&&(progressBar[_0x34136a(0x16c)][_0x34136a(0x1ba)]=_0x34136a(0x17e),progressBar[_0x34136a(0x1cf)]=_0x519c37[_0x34136a(0x1a0)],statusDiv[_0x34136a(0x164)]=_0x519c37[_0x34136a(0x1e3)]),_0x588be4===_0x34136a(0x213)&&(newItemsExcel=_0x519c37[_0x34136a(0x1fc)],statusDiv['textContent']='✅\x20'+newItemsExcel['length']+_0x34136a(0x26c),uploadBtn[_0x34136a(0x18b)]=![],progressBar['value']=0x64,console[_0x34136a(0x1aa)](newItemsExcel)),_0x588be4==='error'&&(statusDiv[_0x34136a(0x164)]=_0x34136a(0x1ad)+_0x519c37,progressBar[_0x34136a(0x16c)][_0x34136a(0x1ba)]='none');},fileInput['addEventListener']('change',async _0x4ad68f=>{var _0x15bac3=_0x2d947b;const _0xbd78d8=_0x4ad68f[_0x15bac3(0x25a)]['files'][0x0];if(!_0xbd78d8)return;uploadBtn[_0x15bac3(0x18b)]=!![],newItemsExcel=null,statusDiv[_0x15bac3(0x164)]='',progressBar[_0x15bac3(0x16c)][_0x15bac3(0x1ba)]=_0x15bac3(0x1ee),dropZone[_0x15bac3(0x26a)](_0x15bac3(0x1e2))[_0x15bac3(0x164)]=_0xbd78d8[_0x15bac3(0x1d5)],removeBtn[_0x15bac3(0x253)]=![];try{const _0x53240f=await _0xbd78d8[_0x15bac3(0x18e)]();itemWorker[_0x15bac3(0x275)]({'buf':_0x53240f,'maxRows':0x1388});}catch(_0xe16147){statusDiv['textContent']=_0x15bac3(0x254);}finally{fileInput['value']='';}}),uploadBtn[_0x2d947b(0x155)](_0x2d947b(0x268),async()=>{var _0x379ce8=_0x2d947b;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2097f6=document[_0x379ce8(0x1b2)](_0x379ce8(0x18c))['value'],_0x162ec1=window_options[_0x2097f6][_0x379ce8(0x1ef)],_0x479d23=document['getElementById'](_0x379ce8(0x1ed))[_0x379ce8(0x1cf)];let _0xd5e56b=generateNumericUniqId()*0x64+0x1f4,_0x1f4947=generateNumericUniqId()*0xa;const _0x204306=[];newItemsExcel[_0x379ce8(0x168)](_0x1bdaa5=>{var _0x44859c=_0x379ce8;const _0x5b55f7=++_0x1f4947;_0x1bdaa5[_0x44859c(0x1bc)]=[{'setStockInitial':_0x1bdaa5[_0x44859c(0x209)],'setStockMinimum':_0x1bdaa5[_0x44859c(0x1c4)],'setWarehouseCode':_0x479d23}],_0x1bdaa5[_0x44859c(0x264)][_0x44859c(0x168)](_0x39f22c=>{var _0x9fad5a=_0x44859c;const _0x50e02a=++_0xd5e56b;_0x39f22c['setUnitPresentationId']=_0x50e02a;const _0x37612a={'id':_0x50e02a,'setIdProducto':_0x5b55f7,'setCodProducto':_0x1bdaa5[_0x9fad5a(0x21b)],'setDescripcion':_0x1bdaa5['setItemVariantName']||_0x1bdaa5[_0x9fad5a(0x174)],'setItemDescription':_0x1bdaa5['setItemDescription'],'setBatchExpirationDate':_0x1bdaa5['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x1bdaa5['setItemCategories'][0x0]||'','setMarca':_0x1bdaa5['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x39f22c[_0x9fad5a(0x18a)]),'setImages':[],'setImg':_0x9fad5a(0x17d),'setInventariable':_0x1bdaa5[_0x9fad5a(0x1e6)]?0x1:0x0,'setItemIsBought':_0x1bdaa5[_0x9fad5a(0x260)]?0x1:0x0,'setItemIsSold':_0x1bdaa5[_0x9fad5a(0x1c8)]?0x1:0x0,'setPorcentajeIgv':_0x1bdaa5[_0x9fad5a(0x19a)],'setPrinters':[],'setTaxId':_0x1bdaa5[_0x9fad5a(0x234)],'setTipAfeIgv':_0x1bdaa5['setItemTaxCode'],'setUnidad':_0x39f22c[_0x9fad5a(0x1c2)],'setUnidadCodigo':_0x39f22c[_0x9fad5a(0x1c2)],'currency_data':[{'currency':_0x162ec1,'setMtoPrecioCostoUnitario':_0x39f22c['setCost'],'setMtoPrecioUnitario':_0x39f22c[_0x9fad5a(0x204)],'setPriceLists':[]}],'sucursales':_0x1bdaa5[_0x9fad5a(0x1bc)][_0x9fad5a(0x1dc)](_0x2cfbdf=>({'setIdSucursal':_0x2cfbdf[_0x9fad5a(0x1b5)],'setSucursalStock':_0x2cfbdf[_0x9fad5a(0x209)]['toString'](),'setWarehouseStockMin':_0x2cfbdf[_0x9fad5a(0x1c4)][_0x9fad5a(0x1c3)]()})),'setItemFree':_0x1bdaa5[_0x9fad5a(0x19c)],'setItemBarCode':_0x1bdaa5[_0x9fad5a(0x248)],'setItemBrands':_0x1bdaa5[_0x9fad5a(0x255)][_0x9fad5a(0x226)](),'setItemCategories':_0x1bdaa5['setItemCategories'][_0x9fad5a(0x226)](),'setItemComponents':_0x1bdaa5['setItemComponents'][_0x9fad5a(0x1dc)](_0x4c078f=>({..._0x4c078f})),'setItemImages':_0x1bdaa5[_0x9fad5a(0x25f)]['slice'](),'setItemVariantName':_0x1bdaa5[_0x9fad5a(0x265)],'setItemVariantValues':{..._0x1bdaa5[_0x9fad5a(0x162)]}};_0x204306[_0x9fad5a(0x200)](_0x37612a);});}),console[_0x379ce8(0x1aa)](_0x379ce8(0x26f),newItems),await finalizeImport(_0x204306,newItemsExcel,!![]);});function initializeFormImages(){var _0x181475=_0x2d947b;currentImages=Array(MAX_IMAGES)[_0x181475(0x191)](null),imgC[_0x181475(0x17a)]='',baseItem[_0x181475(0x25f)]=[];for(var _0x49e8d3=0x0;_0x49e8d3<MAX_IMAGES;_0x49e8d3++){(function(_0x5018b3){var _0x4cd043=_0x181475,_0x58dd57=document[_0x4cd043(0x1ae)](_0x4cd043(0x215));_0x58dd57[_0x4cd043(0x163)]='image_box',_0x58dd57[_0x4cd043(0x272)][_0x4cd043(0x243)]=_0x5018b3;var _0x9dab87=document[_0x4cd043(0x1ae)](_0x4cd043(0x179));_0x9dab87[_0x4cd043(0x186)]=_0x4cd043(0x202),_0x9dab87[_0x4cd043(0x237)]='image/*',_0x9dab87[_0x4cd043(0x16c)][_0x4cd043(0x1ba)]=_0x4cd043(0x1ee);var _0x51e09a=document[_0x4cd043(0x1ae)](_0x4cd043(0x233));_0x51e09a[_0x4cd043(0x164)]='+',_0x58dd57['appendChild'](_0x9dab87),_0x58dd57[_0x4cd043(0x17c)](_0x51e09a),imgC[_0x4cd043(0x17c)](_0x58dd57),_0x58dd57[_0x4cd043(0x155)](_0x4cd043(0x268),function(){_0x9dab87['click']();}),_0x9dab87[_0x4cd043(0x155)](_0x4cd043(0x236),function(_0x15019a){var _0x4d0db0=_0x4cd043,_0x18a164=_0x15019a['target']['files'][0x0];if(!_0x18a164)return removeImg(_0x5018b3);var _0x4db089=new FileReader();_0x4db089[_0x4d0db0(0x150)]=function(_0x1fba61){var _0x543ad5=_0x4d0db0;_0x58dd57[_0x543ad5(0x17a)]=_0x543ad5(0x1dd)+_0x1fba61[_0x543ad5(0x25a)][_0x543ad5(0x23b)]+'\x22>';var _0x245635=document[_0x543ad5(0x1ae)](_0x543ad5(0x233));_0x245635['className']='remove',_0x245635['textContent']='×',_0x245635['addEventListener'](_0x543ad5(0x268),function(_0x430dcc){var _0xb87faa=_0x543ad5;_0x430dcc[_0xb87faa(0x23d)](),removeImg(_0x5018b3);}),_0x58dd57['appendChild'](_0x245635),currentImages[_0x5018b3]=_0x18a164,baseItem[_0x543ad5(0x25f)]=currentImages[_0x543ad5(0x206)](function(_0x215399){return _0x215399;});},_0x4db089['readAsDataURL'](_0x18a164);});}(_0x49e8d3));}}function initializeFormIsSoldIsBought(){var _0xd3e95e=_0x2d947b;document[_0xd3e95e(0x1b2)]('newItem_chk_buy')[_0xd3e95e(0x18f)]=!![],document[_0xd3e95e(0x1b2)](_0xd3e95e(0x269))[_0xd3e95e(0x18f)]=!![],baseItem[_0xd3e95e(0x260)]=!![],baseItem[_0xd3e95e(0x1c8)]=!![];}function initializeFormInputsBasic(){var _0x21c760=_0x2d947b;document['getElementById'](_0x21c760(0x1b8))[_0x21c760(0x1cf)]='1',document[_0x21c760(0x1b2)](_0x21c760(0x1db))[_0x21c760(0x1cf)]=getNextCode(products),document[_0x21c760(0x1b2)]('inputItemName')[_0x21c760(0x1cf)]='',document[_0x21c760(0x1b2)](_0x21c760(0x1f1))['value']='',document[_0x21c760(0x1b2)]('inputItemDateExpiry')[_0x21c760(0x1cf)]='',document[_0x21c760(0x1b2)](_0x21c760(0x20d))[_0x21c760(0x1cf)]='',baseItem['setItemType']='1',baseItem[_0x21c760(0x21b)]=getNextCode(products),baseItem[_0x21c760(0x174)]='',baseItem['setItemDescription']='',baseItem[_0x21c760(0x1e0)]='',baseItem[_0x21c760(0x248)]='',document[_0x21c760(0x1b2)]('newItem_addToCart')['checked']=![];}function initializeFormTax(){var _0x5d4e5e=_0x2d947b;const _0x52b1de=myCompany[_0x5d4e5e(0x256)],_0x345fce=document[_0x5d4e5e(0x1b2)](_0x5d4e5e(0x16f));_0x345fce[_0x5d4e5e(0x1cf)]=_0x52b1de,baseItem[_0x5d4e5e(0x234)]=_0x52b1de;const _0x5b5739=company[0x0][_0x5d4e5e(0x1a9)][_0x5d4e5e(0x151)](_0x39bd91=>_0x39bd91[_0x5d4e5e(0x20a)]==_0x52b1de)?.[_0x5d4e5e(0x1f8)]||0x0,_0x1094e4=company[0x0][_0x5d4e5e(0x1a9)][_0x5d4e5e(0x151)](_0x4f8d0a=>_0x4f8d0a['setTaxId']==_0x52b1de)?.[_0x5d4e5e(0x157)]||0x0;baseItem[_0x5d4e5e(0x1e4)]=_0x5b5739,baseItem[_0x5d4e5e(0x19a)]=_0x1094e4;}function initializeFormCategoriesBrands(){var _0x2f675e=_0x2d947b;baseItem[_0x2f675e(0x177)]=[],baseItem[_0x2f675e(0x255)]=[],document['querySelector'](_0x2f675e(0x1ab))[_0x2f675e(0x17a)]='',document['querySelector'](_0x2f675e(0x1fe))['innerHTML']='',document[_0x2f675e(0x26a)](_0x2f675e(0x1e1))[_0x2f675e(0x17a)]='',document['querySelector'](_0x2f675e(0x1fb))[_0x2f675e(0x17a)]='';const _0x332aec=uniqueValuesArray(_0x2f675e(0x182),_0x2f675e(0x182),products),_0x492379=uniqueValuesArray(_0x2f675e(0x19e),_0x2f675e(0x19e),products),_0x3c6338=initMulti('newItem_categories_select',_0x332aec),_0x2cdeb3=initMulti(_0x2f675e(0x1de),_0x492379);document[_0x2f675e(0x1b2)](_0x2f675e(0x24a))[_0x2f675e(0x155)](_0x2f675e(0x23c),function(_0x1b3546){var _0x36126e=_0x2f675e;baseItem[_0x36126e(0x177)]=_0x3c6338[_0x36126e(0x1dc)](_0x2820a8=>_0x2820a8[_0x36126e(0x153)]);}),document['getElementById'](_0x2f675e(0x1de))[_0x2f675e(0x155)]('selectionChange',function(_0x66aa8e){var _0x797af6=_0x2f675e;baseItem[_0x797af6(0x255)]=_0x2cdeb3[_0x797af6(0x1dc)](_0x17d8b0=>_0x17d8b0[_0x797af6(0x153)]);});}function initializeFormUnits(){var _0x24effb=_0x2d947b;unitCount=0x0,document[_0x24effb(0x1b2)](_0x24effb(0x1bb))[_0x24effb(0x17a)]='',baseItem[_0x24effb(0x264)]=[];var _0x167585=uniqueValuesArray(_0x24effb(0x25b),'setUnidad',products);addUnit('',_0x167585[0x0]&&_0x167585[0x0][_0x24effb(0x153)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x5474ed=_0x2d947b;prodC[_0x5474ed(0x17a)]='',baseItem[_0x5474ed(0x21a)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2941d7=_0x2d947b;branchesC[_0x2941d7(0x17a)]='',baseItem['setItemWarehouses']=[];const _0x447018=getAllWarehouses();_0x447018['forEach'](function(_0x197309){var _0x5dd79a=_0x2941d7,_0x400850=document[_0x5dd79a(0x1ae)]('div');_0x400850[_0x5dd79a(0x17a)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x5dd79a(0x1a7)+_0x5dd79a(0x21c)+_0x197309['setWarehouseId']+_0x5dd79a(0x156)+_0x197309['setWarehouseName']+_0x5dd79a(0x24e)+_0x5dd79a(0x222)+_0x5dd79a(0x1a7)+_0x5dd79a(0x17b)+_0x197309[_0x5dd79a(0x1ed)]+'\x22>'+_0x5dd79a(0x222)+_0x5dd79a(0x1a7)+_0x5dd79a(0x230)+_0x197309['setWarehouseId']+'\x22>'+_0x5dd79a(0x222)+_0x5dd79a(0x222),branchesC[_0x5dd79a(0x17c)](_0x400850),_0x400850['querySelectorAll'](_0x5dd79a(0x179))['forEach'](function(_0x58f69b){var _0x470df2=_0x5dd79a;_0x58f69b[_0x470df2(0x155)](_0x470df2(0x179),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x1ae967=_0x2d947b;baseItem[_0x1ae967(0x265)]='',baseItem[_0x1ae967(0x162)]={},vgC[_0x1ae967(0x17a)]='',varContainer[_0x1ae967(0x17a)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x1b7f89,_0x56a0ba,_0x2c95a1=![]){var _0x483ba9=_0x2d947b;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x483ba9(0x195)],'setWebhook':company[0x0][_0x483ba9(0x15b)],'newItems':_0x56a0ba}),products[_0x483ba9(0x200)](..._0x1b7f89),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x483ba9(0x266)),_0x2c95a1?(fileInput[_0x483ba9(0x1cf)]='',uploadBtn[_0x483ba9(0x18b)]=!![],statusDiv[_0x483ba9(0x164)]='',progressBar[_0x483ba9(0x16c)][_0x483ba9(0x1ba)]=_0x483ba9(0x1ee),progressBar[_0x483ba9(0x1cf)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}