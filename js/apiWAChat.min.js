/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.2
*/

const _0x4d578b=_0x5945;(function(_0x50c16b,_0x17514b){const _0x43b686=_0x5945,_0xd09b8f=_0x50c16b();while(!![]){try{const _0x462bbb=parseInt(_0x43b686(0x1ef))/0x1+parseInt(_0x43b686(0x1d0))/0x2*(-parseInt(_0x43b686(0x1b0))/0x3)+parseInt(_0x43b686(0x1c9))/0x4*(-parseInt(_0x43b686(0x1e5))/0x5)+parseInt(_0x43b686(0x1c0))/0x6+-parseInt(_0x43b686(0x1d9))/0x7+-parseInt(_0x43b686(0x1bf))/0x8+parseInt(_0x43b686(0x1eb))/0x9;if(_0x462bbb===_0x17514b)break;else _0xd09b8f['push'](_0xd09b8f['shift']());}catch(_0x44b4ea){_0xd09b8f['push'](_0xd09b8f['shift']());}}}(_0x2fa9,0x7ae86));const _0x427122=(function(){let _0x4d43d4=!![];return function(_0x6399dd,_0x8e39fe){const _0x4352f8=_0x4d43d4?function(){const _0x518b63=_0x5945;if(_0x8e39fe){const _0x5a3598=_0x8e39fe[_0x518b63(0x1b4)](_0x6399dd,arguments);return _0x8e39fe=null,_0x5a3598;}}:function(){};return _0x4d43d4=![],_0x4352f8;};}()),_0x11f1d9=_0x427122(this,function(){const _0x52309f=_0x5945;return _0x11f1d9[_0x52309f(0x1ea)]()[_0x52309f(0x1c4)](_0x52309f(0x1de))['toString']()[_0x52309f(0x1e7)](_0x11f1d9)['search']('(((.+)+)+)+$');});_0x11f1d9();const _0x39d6ee=(function(){let _0x166cac=!![];return function(_0x1ad5d0,_0x78b178){const _0x4f6a32=_0x166cac?function(){const _0x6d6222=_0x5945;if(_0x78b178){const _0x4257e3=_0x78b178[_0x6d6222(0x1b4)](_0x1ad5d0,arguments);return _0x78b178=null,_0x4257e3;}}:function(){};return _0x166cac=![],_0x4f6a32;};}()),_0x269e66=_0x39d6ee(this,function(){const _0x5ec3ad=_0x5945;let _0x56d658;try{const _0x390345=Function(_0x5ec3ad(0x1c8)+_0x5ec3ad(0x1b8)+');');_0x56d658=_0x390345();}catch(_0x3f8475){_0x56d658=window;}const _0x35899e=_0x56d658[_0x5ec3ad(0x1ed)]=_0x56d658[_0x5ec3ad(0x1ed)]||{},_0x289d59=[_0x5ec3ad(0x1c7),_0x5ec3ad(0x1f1),'info',_0x5ec3ad(0x1dc),_0x5ec3ad(0x1ec),_0x5ec3ad(0x1b7),_0x5ec3ad(0x1be)];for(let _0xfe281=0x0;_0xfe281<_0x289d59[_0x5ec3ad(0x1df)];_0xfe281++){const _0x119870=_0x39d6ee['constructor'][_0x5ec3ad(0x1ce)]['bind'](_0x39d6ee),_0x2ca41a=_0x289d59[_0xfe281],_0x4f2de4=_0x35899e[_0x2ca41a]||_0x119870;_0x119870[_0x5ec3ad(0x1cc)]=_0x39d6ee[_0x5ec3ad(0x1ae)](_0x39d6ee),_0x119870['toString']=_0x4f2de4[_0x5ec3ad(0x1ea)][_0x5ec3ad(0x1ae)](_0x4f2de4),_0x35899e[_0x2ca41a]=_0x119870;}});_0x269e66();const selectCredentialsApiWAChat=document['getElementById'](_0x4d578b(0x1cd)),loginPanel=document['getElementById'](_0x4d578b(0x1b2)),chatPanel=document[_0x4d578b(0x1e0)](_0x4d578b(0x1d3)),qrImg=document['getElementById']('qr-img'),overlay=document['getElementById'](_0x4d578b(0x1af));function _0x5945(_0x2d88eb,_0x3bb936){const _0x445b94=_0x2fa9();return _0x5945=function(_0x269e66,_0x39d6ee){_0x269e66=_0x269e66-0x1ae;let _0xdd7786=_0x445b94[_0x269e66];return _0xdd7786;},_0x5945(_0x2d88eb,_0x3bb936);}let qrTimeout;function _0x2fa9(){const _0x31d102=['179865vjeAXM','.btn-logout','constructor','value','./img/apiPOS.png','toString','10863261cXeNkF','exception','console','change','119434TiBBBv','setWarehouseId','warn','bind','qr-overlay','208317VgaATy','display','loginPanel','json','apply','setCredentialsApiWAChatPort','addEventListener','table','{}.constructor(\x22return\x20this\x22)(\x20)','setCredentialsApiWAChatSubdomain','/wa/','status','setCredentialsApiWAChatStatus','setBranchId','trace','4103240KoIlPH','3955068eibfnw','setAuthToken','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','style','search','catch','/qr','log','return\x20(function()\x20','4CDvVOr','toLowerCase','visibility','__proto__','setCredentialsApiWAChat','prototype','ya\x20conectado','10XJZqIt','flex','https://','chatPanel','setBranchDefault','click','none','then','Credenciales\x20no\x20encontradas','4102966ndyCwf','src','hidden','error','dispatchEvent','(((.+)+)+)+$','length','getElementById','querySelector','visible','includes','setFloorId'];_0x2fa9=function(){return _0x31d102;};return _0x2fa9();}const validSeconds=0xa;function showLogin(){const _0x22b1b1=_0x4d578b;loginPanel[_0x22b1b1(0x1c3)][_0x22b1b1(0x1b1)]=_0x22b1b1(0x1d1),chatPanel['style']['visibility']=_0x22b1b1(0x1db);}function showChat(){const _0x498170=_0x4d578b;loginPanel[_0x498170(0x1c3)][_0x498170(0x1b1)]=_0x498170(0x1d6),chatPanel[_0x498170(0x1c3)][_0x498170(0x1cb)]=_0x498170(0x1e2);}async function displayQR(_0xd35fce){const _0x496e77=_0x4d578b,_0x58b4c8=selectCredentialsApiWAChat[_0x496e77(0x1e8)],_0x3240a3=getCredentialsApiWAChat(_0x58b4c8);if(_0x3240a3){const _0x281f9c=_0x3240a3[_0x496e77(0x1b9)],_0x50158b=_0x3240a3[_0x496e77(0x1b5)];clearTimeout(qrTimeout),overlay['style'][_0x496e77(0x1b1)]='none',qrImg[_0x496e77(0x1da)]=_0xd35fce,qrTimeout=setTimeout(()=>{const _0x2b0548=_0x496e77;fetch(_0x2b0548(0x1d2)+_0x281f9c+_0x2b0548(0x1ba)+_0x50158b+_0x2b0548(0x1c6),{'headers':{'x-auth-token':myCompany[_0x2b0548(0x1c1)]}})[_0x2b0548(0x1d7)](async _0x665b34=>_0x665b34[_0x2b0548(0x1b3)]())[_0x2b0548(0x1d7)](async _0x5a7ae3=>{const _0x123433=_0x2b0548;_0x5a7ae3[_0x123433(0x1bb)]&&_0x5a7ae3[_0x123433(0x1bb)][_0x123433(0x1ca)]()[_0x123433(0x1e3)](_0x123433(0x1cf))?(showChat(),_0x3240a3['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x123433(0x1c3)][_0x123433(0x1b1)]=_0x123433(0x1d1),_0x3240a3[_0x123433(0x1bc)]=0x0);const _0x382eba=await createCartStore('');await saveCompanyToIndexedDB(company,_0x382eba);})[_0x2b0548(0x1c5)](_0x388402=>{const _0x526282=_0x2b0548;console[_0x526282(0x1dc)](_0x526282(0x1c2),_0x388402),overlay[_0x526282(0x1c3)][_0x526282(0x1b1)]=_0x526282(0x1d1);});},validSeconds*0x3e8);}else ntfShow(_0x496e77(0x1d8));}async function init(){const _0xd5fee=_0x4d578b,_0x243b0e=selectCredentialsApiWAChat[_0xd5fee(0x1e8)],_0x1c5d20=getCredentialsApiWAChat(_0x243b0e);if(_0x1c5d20){const _0x50aa40=_0x1c5d20[_0xd5fee(0x1b9)],_0x4453e2=_0x1c5d20['setCredentialsApiWAChatPort'];fetch('https://'+_0x50aa40+_0xd5fee(0x1ba)+_0x4453e2+_0xd5fee(0x1c6),{'headers':{'x-auth-token':myCompany[_0xd5fee(0x1c1)]}})[_0xd5fee(0x1d7)](async _0x54d93e=>_0x54d93e[_0xd5fee(0x1b3)]())[_0xd5fee(0x1d7)](async _0x32c153=>{const _0x337d59=_0xd5fee;if(_0x32c153[_0x337d59(0x1bb)]&&_0x32c153[_0x337d59(0x1bb)][_0x337d59(0x1ca)]()[_0x337d59(0x1e3)]('ya\x20conectado'))showChat(),_0x1c5d20[_0x337d59(0x1bc)]=0x1;else _0x32c153['qr']&&(showLogin(),displayQR(_0x32c153['qr']),_0x1c5d20[_0x337d59(0x1bc)]=0x0);const _0x5118e0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5118e0);})[_0xd5fee(0x1c5)](console[_0xd5fee(0x1dc)]);}else ntfShow(_0xd5fee(0x1d8));}overlay['addEventListener'](_0x4d578b(0x1d5),init),window['onload']=function(){const _0x1bf99d=_0x4d578b,_0x28c252=0x4;loadLoginContent(_0x1bf99d(0x1e9)),setUserNameGet(),setEventBtnAccess();const _0x1e3a0f=document[_0x1bf99d(0x1e1)](_0x1bf99d(0x1e6));_0x1e3a0f&&_0x1e3a0f[_0x1bf99d(0x1b6)](_0x1bf99d(0x1d5),function(){logoutReload(0x0,_0x28c252);}),document[_0x1bf99d(0x1e0)](_0x1bf99d(0x1bd))[_0x1bf99d(0x1b6)](_0x1bf99d(0x1ee),async function(){const _0x330a6b=_0x1bf99d,_0x83c2b1=parseInt(this[_0x330a6b(0x1e8)]);myCompany[_0x330a6b(0x1d4)]=_0x83c2b1,saveCredentialsApiWAChatInCompany();const _0x215fc1=await createCartStore('');await saveCompanyToIndexedDB(company,_0x215fc1),cargarAlmacenes(_0x83c2b1),setTimeout(()=>{const _0x119725=_0x330a6b;document['getElementById'](_0x119725(0x1f0))[_0x119725(0x1dd)](new Event(_0x119725(0x1ee)));},0x64),cargarPisos(_0x83c2b1),setTimeout(()=>{const _0x11c540=_0x330a6b;document[_0x11c540(0x1e0)](_0x11c540(0x1e4))[_0x11c540(0x1dd)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x28c252);};