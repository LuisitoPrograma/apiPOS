/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.1
*/

const _0x28f8fc=_0x1b41;(function(_0x5749d0,_0x401782){const _0x4cd6a7=_0x1b41,_0x3ce335=_0x5749d0();while(!![]){try{const _0x5abb81=parseInt(_0x4cd6a7(0x18a))/0x1*(-parseInt(_0x4cd6a7(0x163))/0x2)+-parseInt(_0x4cd6a7(0x175))/0x3*(-parseInt(_0x4cd6a7(0x181))/0x4)+parseInt(_0x4cd6a7(0x192))/0x5*(-parseInt(_0x4cd6a7(0x168))/0x6)+-parseInt(_0x4cd6a7(0x190))/0x7+parseInt(_0x4cd6a7(0x187))/0x8+parseInt(_0x4cd6a7(0x193))/0x9+parseInt(_0x4cd6a7(0x177))/0xa;if(_0x5abb81===_0x401782)break;else _0x3ce335['push'](_0x3ce335['shift']());}catch(_0x272438){_0x3ce335['push'](_0x3ce335['shift']());}}}(_0x2c65,0xc743e));const _0x15eb7f=(function(){let _0x4b3997=!![];return function(_0xb974d7,_0x232463){const _0x32140a=_0x4b3997?function(){const _0x5db07c=_0x1b41;if(_0x232463){const _0x50cdb7=_0x232463[_0x5db07c(0x167)](_0xb974d7,arguments);return _0x232463=null,_0x50cdb7;}}:function(){};return _0x4b3997=![],_0x32140a;};}()),_0x1504f6=_0x15eb7f(this,function(){const _0x4fdc7c=_0x1b41;return _0x1504f6[_0x4fdc7c(0x164)]()[_0x4fdc7c(0x17f)](_0x4fdc7c(0x1a5))['toString']()[_0x4fdc7c(0x1a4)](_0x1504f6)[_0x4fdc7c(0x17f)]('(((.+)+)+)+$');});_0x1504f6();const _0x5d9f17=(function(){let _0x5a8bc6=!![];return function(_0x3b8425,_0x2687b9){const _0x1d8b2a=_0x5a8bc6?function(){const _0x3bb031=_0x1b41;if(_0x2687b9){const _0x123af0=_0x2687b9[_0x3bb031(0x167)](_0x3b8425,arguments);return _0x2687b9=null,_0x123af0;}}:function(){};return _0x5a8bc6=![],_0x1d8b2a;};}()),_0x6ad9b5=_0x5d9f17(this,function(){const _0x4b9136=_0x1b41;let _0x204def;try{const _0x29f0db=Function(_0x4b9136(0x16a)+_0x4b9136(0x179)+');');_0x204def=_0x29f0db();}catch(_0x4a2a31){_0x204def=window;}const _0x333263=_0x204def[_0x4b9136(0x18e)]=_0x204def[_0x4b9136(0x18e)]||{},_0x4d81b6=[_0x4b9136(0x17a),_0x4b9136(0x180),_0x4b9136(0x19d),_0x4b9136(0x184),_0x4b9136(0x17b),_0x4b9136(0x18c),_0x4b9136(0x178)];for(let _0x1d9166=0x0;_0x1d9166<_0x4d81b6[_0x4b9136(0x1a1)];_0x1d9166++){const _0x455f41=_0x5d9f17[_0x4b9136(0x1a4)][_0x4b9136(0x17e)][_0x4b9136(0x1a7)](_0x5d9f17),_0x5c2d67=_0x4d81b6[_0x1d9166],_0x193a52=_0x333263[_0x5c2d67]||_0x455f41;_0x455f41[_0x4b9136(0x16e)]=_0x5d9f17[_0x4b9136(0x1a7)](_0x5d9f17),_0x455f41['toString']=_0x193a52[_0x4b9136(0x164)]['bind'](_0x193a52),_0x333263[_0x5c2d67]=_0x455f41;}});_0x6ad9b5();const selectCredentialsApiWAChat=document[_0x28f8fc(0x185)](_0x28f8fc(0x197)),loginPanel=document[_0x28f8fc(0x185)](_0x28f8fc(0x194)),chatPanel=document['getElementById'](_0x28f8fc(0x174)),qrImg=document['getElementById'](_0x28f8fc(0x1a8)),overlay=document['getElementById']('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x36aa00=_0x28f8fc;loginPanel[_0x36aa00(0x195)][_0x36aa00(0x19e)]=_0x36aa00(0x173),chatPanel[_0x36aa00(0x195)][_0x36aa00(0x1a2)]=_0x36aa00(0x170);}function _0x1b41(_0x1756aa,_0x467d69){const _0x3e2b2b=_0x2c65();return _0x1b41=function(_0x6ad9b5,_0x5d9f17){_0x6ad9b5=_0x6ad9b5-0x163;let _0x1ea4d8=_0x3e2b2b[_0x6ad9b5];return _0x1ea4d8;},_0x1b41(_0x1756aa,_0x467d69);}function showChat(){const _0x2a00d0=_0x28f8fc;loginPanel[_0x2a00d0(0x195)][_0x2a00d0(0x19e)]=_0x2a00d0(0x172),chatPanel[_0x2a00d0(0x195)][_0x2a00d0(0x1a2)]=_0x2a00d0(0x165);}async function displayQR(_0x4916f2){const _0x389020=_0x28f8fc,_0x2eecf0=selectCredentialsApiWAChat[_0x389020(0x171)],_0x56499b=getCredentialsApiWAChat(_0x2eecf0);if(_0x56499b){const _0x57432b=_0x56499b[_0x389020(0x19a)],_0x2a8aa6=_0x56499b[_0x389020(0x176)];clearTimeout(qrTimeout),overlay[_0x389020(0x195)]['display']=_0x389020(0x172),qrImg[_0x389020(0x16b)]=_0x4916f2,qrTimeout=setTimeout(()=>{const _0x57f443=_0x389020;fetch(_0x57f443(0x198)+_0x57432b+_0x57f443(0x188)+_0x2a8aa6+_0x57f443(0x1a6),{'headers':{'x-auth-token':myCompany[_0x57f443(0x196)]}})[_0x57f443(0x16f)](async _0x409992=>_0x409992['json']())['then'](async _0x1e5bbc=>{const _0x1fe713=_0x57f443;_0x1e5bbc[_0x1fe713(0x189)]&&_0x1e5bbc['status'][_0x1fe713(0x191)]()[_0x1fe713(0x1a0)](_0x1fe713(0x16c))?(showChat(),_0x56499b[_0x1fe713(0x16d)]=0x1):(overlay[_0x1fe713(0x195)][_0x1fe713(0x19e)]=_0x1fe713(0x173),_0x56499b[_0x1fe713(0x16d)]=0x0);const _0x186e12=await createCartStore('');await saveCompanyToIndexedDB(company,_0x186e12);})[_0x57f443(0x18d)](_0x390ca9=>{const _0x470a12=_0x57f443;console[_0x470a12(0x184)](_0x470a12(0x19c),_0x390ca9),overlay['style'][_0x470a12(0x19e)]=_0x470a12(0x173);});},validSeconds*0x3e8);}else ntfShow(_0x389020(0x18f));}async function init(){const _0x4a3fbc=_0x28f8fc,_0x5c9a81=selectCredentialsApiWAChat[_0x4a3fbc(0x171)],_0x7e3026=getCredentialsApiWAChat(_0x5c9a81);if(_0x7e3026){const _0x582906=_0x7e3026[_0x4a3fbc(0x19a)],_0x53075e=_0x7e3026[_0x4a3fbc(0x176)];fetch(_0x4a3fbc(0x198)+_0x582906+_0x4a3fbc(0x188)+_0x53075e+_0x4a3fbc(0x1a6),{'headers':{'x-auth-token':myCompany['setAuthToken']}})['then'](async _0x2e2eb9=>_0x2e2eb9[_0x4a3fbc(0x19b)]())[_0x4a3fbc(0x16f)](async _0x27d2=>{const _0x18f1d4=_0x4a3fbc;if(_0x27d2[_0x18f1d4(0x189)]&&_0x27d2[_0x18f1d4(0x189)][_0x18f1d4(0x191)]()[_0x18f1d4(0x1a0)](_0x18f1d4(0x16c)))showChat(),_0x7e3026['setCredentialsApiWAChatStatus']=0x1;else _0x27d2['qr']&&(showLogin(),displayQR(_0x27d2['qr']),_0x7e3026['setCredentialsApiWAChatStatus']=0x0);const _0x442b5f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x442b5f);})['catch'](console['error']);}else ntfShow(_0x4a3fbc(0x18f));}overlay[_0x28f8fc(0x186)]('click',init),window['onload']=function(){const _0x5293f5=_0x28f8fc,_0x3f0a07=0x4;loadLoginContent(_0x5293f5(0x17c)),setUserNameGet(),setEventBtnAccess();const _0x80909=document[_0x5293f5(0x1a3)](_0x5293f5(0x19f));_0x80909&&_0x80909[_0x5293f5(0x186)](_0x5293f5(0x18b),function(){logoutReload(0x0,_0x3f0a07);}),document['getElementById'](_0x5293f5(0x169))[_0x5293f5(0x186)](_0x5293f5(0x199),async function(){const _0x353210=_0x5293f5,_0x3589fd=parseInt(this['value']);myCompany[_0x353210(0x166)]=_0x3589fd,saveCredentialsApiWAChatInCompany();const _0x33d2ce=await createCartStore('');await saveCompanyToIndexedDB(company,_0x33d2ce),cargarAlmacenes(_0x3589fd),setTimeout(()=>{const _0x2c04dc=_0x353210;document[_0x2c04dc(0x185)](_0x2c04dc(0x183))[_0x2c04dc(0x182)](new Event(_0x2c04dc(0x199)));},0x64),cargarPisos(_0x3589fd),setTimeout(()=>{const _0x5d29c5=_0x353210;document[_0x5d29c5(0x185)](_0x5d29c5(0x17d))[_0x5d29c5(0x182)](new Event(_0x5d29c5(0x199)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x3f0a07);};function _0x2c65(){const _0x5bf9b5=['length','visibility','querySelector','constructor','(((.+)+)+)+$','/qr','bind','qr-img','2968514LTNXGj','toString','visible','setBranchDefault','apply','162NxUuNv','setBranchId','return\x20(function()\x20','src','ya\x20conectado','setCredentialsApiWAChatStatus','__proto__','then','hidden','value','none','flex','chatPanel','285RsSCYY','setCredentialsApiWAChatPort','19393110NeEucq','trace','{}.constructor(\x22return\x20this\x22)(\x20)','log','exception','./img/apiPOS.png','setFloorId','prototype','search','warn','27940ProJKI','dispatchEvent','setWarehouseId','error','getElementById','addEventListener','546488snbYsp','/wa/','status','1upmnsu','click','table','catch','console','Credenciales\x20no\x20encontradas','2470468FxxgVf','toLowerCase','167695GgosFw','7989543zxeKfq','loginPanel','style','setAuthToken','setCredentialsApiWAChat','https://','change','setCredentialsApiWAChatSubdomain','json','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','info','display','.btn-logout','includes'];_0x2c65=function(){return _0x5bf9b5;};return _0x2c65();}