/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.6
*/

const _0x390876=_0x3ae2;(function(_0xb01919,_0x53eb81){const _0x27804e=_0x3ae2,_0x3c0aa0=_0xb01919();while(!![]){try{const _0x8972b4=-parseInt(_0x27804e(0x1b1))/0x1*(parseInt(_0x27804e(0x1c7))/0x2)+parseInt(_0x27804e(0x1c4))/0x3*(parseInt(_0x27804e(0x1d8))/0x4)+-parseInt(_0x27804e(0x1e4))/0x5+-parseInt(_0x27804e(0x1e0))/0x6*(-parseInt(_0x27804e(0x1bc))/0x7)+-parseInt(_0x27804e(0x1da))/0x8*(-parseInt(_0x27804e(0x1d0))/0x9)+-parseInt(_0x27804e(0x1df))/0xa+-parseInt(_0x27804e(0x1ac))/0xb*(-parseInt(_0x27804e(0x1cb))/0xc);if(_0x8972b4===_0x53eb81)break;else _0x3c0aa0['push'](_0x3c0aa0['shift']());}catch(_0x1ea523){_0x3c0aa0['push'](_0x3c0aa0['shift']());}}}(_0x31bf,0x85269));const selectCredentialsApiWAChat=document[_0x390876(0x1cf)](_0x390876(0x1e2)),loginPanel=document['getElementById']('loginPanel'),chatPanel=document['getElementById'](_0x390876(0x1e5)),qrImg=document['getElementById'](_0x390876(0x1c2)),overlay=document[_0x390876(0x1cf)](_0x390876(0x1cc));function _0x3ae2(_0x3835c9,_0x559734){const _0x34ef7e=_0x31bf();return _0x3ae2=function(_0x32861a,_0x34c4ef){_0x32861a=_0x32861a-0x1a9;let _0x30bd26=_0x34ef7e[_0x32861a];return _0x30bd26;},_0x3ae2(_0x3835c9,_0x559734);}let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x12a18a=_0x390876;loginPanel['style'][_0x12a18a(0x1d1)]='flex',chatPanel[_0x12a18a(0x1c5)][_0x12a18a(0x1de)]=_0x12a18a(0x1b9);}function showChat(){const _0x2b90e4=_0x390876;loginPanel[_0x2b90e4(0x1c5)]['display']=_0x2b90e4(0x1ab),chatPanel[_0x2b90e4(0x1c5)]['visibility']=_0x2b90e4(0x1d2);}async function initQRApiWAChat(_0x4153c6,_0x49c63b){const _0x13d291=_0x390876,_0x578259=(function(){let _0x3b6b6f=!![];return function(_0x184376,_0x4bb5fb){const _0x1fd56d=_0x3b6b6f?function(){const _0x4d0abd=_0x3ae2;if(_0x4bb5fb){const _0x17b3a7=_0x4bb5fb[_0x4d0abd(0x1ed)](_0x184376,arguments);return _0x4bb5fb=null,_0x17b3a7;}}:function(){};return _0x3b6b6f=![],_0x1fd56d;};}()),_0x4c3e0b=_0x578259(this,function(){const _0x28a945=_0x3ae2;return _0x4c3e0b['toString']()['search'](_0x28a945(0x1db))[_0x28a945(0x1ef)]()[_0x28a945(0x1f0)](_0x4c3e0b)[_0x28a945(0x1aa)](_0x28a945(0x1db));});_0x4c3e0b();const _0x57e700=(function(){let _0x367add=!![];return function(_0x12f8d5,_0x8982a3){const _0x5f5474=_0x367add?function(){const _0x663c28=_0x3ae2;if(_0x8982a3){const _0x1eeaa3=_0x8982a3[_0x663c28(0x1ed)](_0x12f8d5,arguments);return _0x8982a3=null,_0x1eeaa3;}}:function(){};return _0x367add=![],_0x5f5474;};}()),_0x1aa255=_0x57e700(this,function(){const _0x1277a5=_0x3ae2,_0x4bfd4c=function(){const _0x2556f5=_0x3ae2;let _0x47623a;try{_0x47623a=Function(_0x2556f5(0x1ad)+_0x2556f5(0x1b3)+');')();}catch(_0x193e1c){_0x47623a=window;}return _0x47623a;},_0x1bac0d=_0x4bfd4c(),_0x219f4b=_0x1bac0d[_0x1277a5(0x1eb)]=_0x1bac0d[_0x1277a5(0x1eb)]||{},_0xb7e552=[_0x1277a5(0x1b0),_0x1277a5(0x1e1),_0x1277a5(0x1bd),_0x1277a5(0x1bf),_0x1277a5(0x1b8),_0x1277a5(0x1a9),_0x1277a5(0x1c6)];for(let _0x5c68f6=0x0;_0x5c68f6<_0xb7e552['length'];_0x5c68f6++){const _0x51d6cf=_0x57e700[_0x1277a5(0x1f0)][_0x1277a5(0x1c1)]['bind'](_0x57e700),_0xa9abf2=_0xb7e552[_0x5c68f6],_0x5f4a5a=_0x219f4b[_0xa9abf2]||_0x51d6cf;_0x51d6cf[_0x1277a5(0x1c9)]=_0x57e700[_0x1277a5(0x1ca)](_0x57e700),_0x51d6cf[_0x1277a5(0x1ef)]=_0x5f4a5a[_0x1277a5(0x1ef)]['bind'](_0x5f4a5a),_0x219f4b[_0xa9abf2]=_0x51d6cf;}});_0x1aa255();const _0x386d27=selectCredentialsApiWAChat['value'],_0x25bced=getCredentialsApiWAChat(_0x386d27);if(!_0x25bced){ntfShow(_0x13d291(0x1ce));return;}const _0x1a4b47=_0x25bced[_0x13d291(0x1e7)],_0x1038dd=_0x25bced[_0x13d291(0x1d9)];if(_0x4153c6===_0x13d291(0x1d1))clearTimeout(qrTimeout),overlay[_0x13d291(0x1c5)][_0x13d291(0x1d1)]=_0x13d291(0x1ab),qrImg[_0x13d291(0x1d7)]=_0x49c63b,qrTimeout=setTimeout(async()=>{const _0x21bf8a=_0x13d291;try{const _0x5f269d=await fetch(_0x21bf8a(0x1d4)+_0x1a4b47+_0x21bf8a(0x1c8)+_0x1038dd+_0x21bf8a(0x1c3),{'headers':{'x-auth-token':myCompany[_0x21bf8a(0x1dd)]}}),_0x2ce8f3=await _0x5f269d[_0x21bf8a(0x1c0)]();_0x2ce8f3[_0x21bf8a(0x1ba)]&&_0x2ce8f3['status'][_0x21bf8a(0x1dc)]()[_0x21bf8a(0x1be)](_0x21bf8a(0x1b6))?(showChat(),_0x25bced[_0x21bf8a(0x1ee)]=0x1):(overlay[_0x21bf8a(0x1c5)][_0x21bf8a(0x1d1)]=_0x21bf8a(0x1e6),_0x25bced['setCredentialsApiWAChatStatus']=0x0);const _0x5bde33=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5bde33);}catch(_0x5071fe){console[_0x21bf8a(0x1bf)](_0x21bf8a(0x1e9),_0x5071fe),overlay['style']['display']=_0x21bf8a(0x1e6);}},validSeconds*0x3e8);else{if(_0x4153c6===_0x13d291(0x1ae))try{const _0x25ea52=await fetch(_0x13d291(0x1d4)+_0x1a4b47+_0x13d291(0x1c8)+_0x1038dd+_0x13d291(0x1c3),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x129444=await _0x25ea52[_0x13d291(0x1c0)]();if(_0x129444[_0x13d291(0x1ba)]&&_0x129444['status'][_0x13d291(0x1dc)]()[_0x13d291(0x1be)](_0x13d291(0x1b6)))showChat(),_0x25bced[_0x13d291(0x1ee)]=0x1;else _0x129444['qr']&&(showLogin(),await initQRApiWAChat(_0x13d291(0x1d1),_0x129444['qr']),_0x25bced['setCredentialsApiWAChatStatus']=0x0);const _0x4047ab=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4047ab);}catch(_0x2b3901){console[_0x13d291(0x1bf)](_0x2b3901);}}}overlay[_0x390876(0x1b2)](_0x390876(0x1d5),()=>initQRApiWAChat('init')),window[_0x390876(0x1ea)]=function(){const _0x42d7b1=_0x390876,_0x50f4a8=0x4;loadLoginContent(_0x42d7b1(0x1b5)),setUserNameGet(),setEventBtnAccess();const _0xdc8dbc=document[_0x42d7b1(0x1e3)]('.btn-logout');_0xdc8dbc&&_0xdc8dbc[_0x42d7b1(0x1b2)](_0x42d7b1(0x1d5),function(){logoutReload(0x0,_0x50f4a8);}),document[_0x42d7b1(0x1cf)](_0x42d7b1(0x1e2))[_0x42d7b1(0x1b2)]('change',async function(){const _0x5191a0=_0x42d7b1;saveCredentialsApiWAChatInCompany();const _0x3cd008=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3cd008),location[_0x5191a0(0x1bb)]();}),document[_0x42d7b1(0x1cf)]('setBranchId')['addEventListener'](_0x42d7b1(0x1f1),async function(){const _0x2e5d87=_0x42d7b1,_0x122973=parseInt(this[_0x2e5d87(0x1cd)]);myCompany[_0x2e5d87(0x1e8)]=_0x122973,saveCredentialsApiWAChatInCompany();const _0xfd7aeb=await createCartStore('');await saveCompanyToIndexedDB(company,_0xfd7aeb),await cargarPisos(_0x122973),await waitForEvent('setFloorId',_0x2e5d87(0x1ec)),await cargarAlmacenes(_0x122973),await waitForEvent(_0x2e5d87(0x1d3),_0x2e5d87(0x1d6)),document[_0x2e5d87(0x1b4)](new Event(_0x2e5d87(0x1b7))),ntf_initNotifications();}),document['getElementById'](_0x42d7b1(0x1d3))[_0x42d7b1(0x1b2)]('change',async function(){const _0x2db486=_0x42d7b1;document[_0x2db486(0x1b4)](new Event(_0x2db486(0x1d6)));}),document[_0x42d7b1(0x1cf)](_0x42d7b1(0x1af))[_0x42d7b1(0x1b2)]('change',async function(_0x39db4d){const _0x5ac13e=_0x42d7b1;document[_0x5ac13e(0x1b4)](new Event(_0x5ac13e(0x1ec)));}),loadCartAndSetTabCount(_0x50f4a8);};function _0x31bf(){const _0x5b45b2=['/qr','1554747XhgWHg','style','trace','74gLnQXI','/wa/','__proto__','bind','12zdlhSn','qr-overlay','value','Credenciales\x20no\x20encontradas','getElementById','288hTkFDq','display','visible','setWarehouseId','https://','click','WarehouseChangeComplete','src','4mxTliE','setCredentialsApiWAChatPort','209288ImlSRl','(((.+)+)+)+$','toLowerCase','setAuthToken','visibility','9882430ohvUEY','143082CMkNrE','warn','setCredentialsApiWAChat','querySelector','4868080DOKMQH','chatPanel','flex','setCredentialsApiWAChatSubdomain','setBranchDefault','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','onload','console','EnvironmentChangeComplete','apply','setCredentialsApiWAChatStatus','toString','constructor','change','table','search','none','1269147FqCbtF','return\x20(function()\x20','init','setFloorId','log','346UHcchk','addEventListener','{}.constructor(\x22return\x20this\x22)(\x20)','dispatchEvent','./img/apiPOS.png','ya\x20conectado','BranchChangeComplete','exception','hidden','status','reload','308ljUnzx','info','includes','error','json','prototype','qr-img'];_0x31bf=function(){return _0x5b45b2;};return _0x31bf();}