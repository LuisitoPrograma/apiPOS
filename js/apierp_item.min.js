/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.9
*/

var _0x7616fb=_0x3b43;(function(_0x30144e,_0xf7c4e3){var _0x19b489=_0x3b43,_0x960e6b=_0x30144e();while(!![]){try{var _0x134ba1=-parseInt(_0x19b489(0x26c))/0x1*(-parseInt(_0x19b489(0x21f))/0x2)+-parseInt(_0x19b489(0x25b))/0x3+-parseInt(_0x19b489(0x21b))/0x4+-parseInt(_0x19b489(0x2d4))/0x5*(parseInt(_0x19b489(0x257))/0x6)+-parseInt(_0x19b489(0x332))/0x7+parseInt(_0x19b489(0x2e9))/0x8+parseInt(_0x19b489(0x2f6))/0x9*(parseInt(_0x19b489(0x329))/0xa);if(_0x134ba1===_0xf7c4e3)break;else _0x960e6b['push'](_0x960e6b['shift']());}catch(_0x160af4){_0x960e6b['push'](_0x960e6b['shift']());}}}(_0xebd7,0x57791));var _0x5ccadf=(function(){var _0x339cb7=!![];return function(_0x26e126,_0x2869d7){var _0x347039=_0x339cb7?function(){var _0x192323=_0x3b43;if(_0x2869d7){var _0x2211e8=_0x2869d7[_0x192323(0x325)](_0x26e126,arguments);return _0x2869d7=null,_0x2211e8;}}:function(){};return _0x339cb7=![],_0x347039;};}()),_0x5ad0d4=_0x5ccadf(this,function(){var _0x5673a9=_0x3b43;return _0x5ad0d4[_0x5673a9(0x337)]()['search'](_0x5673a9(0x2fd))[_0x5673a9(0x337)]()[_0x5673a9(0x2a6)](_0x5ad0d4)[_0x5673a9(0x221)](_0x5673a9(0x2fd));});_0x5ad0d4();var _0x2b046f=(function(){var _0x343270=!![];return function(_0x39f927,_0x4b29b6){var _0x3a99cc=_0x343270?function(){var _0x29d7c6=_0x3b43;if(_0x4b29b6){var _0x357b37=_0x4b29b6[_0x29d7c6(0x325)](_0x39f927,arguments);return _0x4b29b6=null,_0x357b37;}}:function(){};return _0x343270=![],_0x3a99cc;};}()),_0x3a5ba9=_0x2b046f(this,function(){var _0x259e0=_0x3b43,_0x2de510;try{var _0x3d7928=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2de510=_0x3d7928();}catch(_0x4d616c){_0x2de510=window;}var _0x108a2b=_0x2de510[_0x259e0(0x25e)]=_0x2de510['console']||{},_0x34fc34=[_0x259e0(0x2dc),_0x259e0(0x2e5),_0x259e0(0x228),_0x259e0(0x234),_0x259e0(0x26b),_0x259e0(0x294),_0x259e0(0x24e)];for(var _0x32cd51=0x0;_0x32cd51<_0x34fc34[_0x259e0(0x2e7)];_0x32cd51++){var _0x23bd55=_0x2b046f[_0x259e0(0x2a6)]['prototype']['bind'](_0x2b046f),_0x5caeca=_0x34fc34[_0x32cd51],_0x55a700=_0x108a2b[_0x5caeca]||_0x23bd55;_0x23bd55[_0x259e0(0x2fc)]=_0x2b046f['bind'](_0x2b046f),_0x23bd55[_0x259e0(0x337)]=_0x55a700[_0x259e0(0x337)][_0x259e0(0x242)](_0x55a700),_0x108a2b[_0x5caeca]=_0x23bd55;}});_0x3a5ba9();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x7616fb(0x238)),unitCount=0x0,branchesC=document['getElementById'](_0x7616fb(0x281)),prodC=document[_0x7616fb(0x2d1)](_0x7616fb(0x25d)),vgCount=0x0,varContainer=document['getElementById'](_0x7616fb(0x307)),vgC=document[_0x7616fb(0x2d1)](_0x7616fb(0x30d));const fileInput=document[_0x7616fb(0x2d1)](_0x7616fb(0x31b)),progressBar=document[_0x7616fb(0x2d1)]('progress'),statusDiv=document['getElementById'](_0x7616fb(0x2b4)),uploadBtn=document[_0x7616fb(0x2d1)](_0x7616fb(0x335));let newItemsExcel=null;const itemWorker=new Worker(_0x7616fb(0x20d)),dropZone=document['getElementById'](_0x7616fb(0x209)),removeBtn=document[_0x7616fb(0x2d1)](_0x7616fb(0x327));function _0xebd7(){var _0x14737f=['input','\x20items.','children','info','.unitAlias','inputItemDescription','Collator','setCostUSD','message','toLowerCase','setStockInitial','setItemTaxValue','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setMoneda','sucursales','error','setBatchExpirationDate','style=\x22display:none\x22','setMtoPrecioCostoUnitario','newItem_images_container','div[data-default=\x22true\x22]\x20.eqInput','100','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','addEventListener','setCodProducto','setItemType','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','_units_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','bind','exportDone','closeModalCreateItem','setItemVariantName','tag','setWarehouseId','revokeObjectURL','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setItemName','focus','setStockMinimum','compare','trace','_comp_container','USD','setConversionFactor','setName','setItemCategoryName','.costInput','.prodInput','./excel/Plantilla-Items.xlsx','12IUGEhs','Error\x20al\x20obtener\x20la\x20plantilla:\x20','setEquivalence','.branchInit','378330SSMjEi','test','newItem_proditems_container','console','onmessage','newItem_categories_select','isArray','dataset','Items\x20finales:','setImpuestos','span','\x22\x20value=\x22','postMessage','./img/product.png','newItem_title_table_cp','.removeCombo','exception','7692tIuBbP','textContent','values','setItemComponents','setItemFree','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setItemUnitId','setItemId','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','selectedItem','setWarehouseStockMin','selectionChange','key','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','.eqInput','setUnits','unitAlias','setAlias','setAuthToken','forEach','newItem_branches_container','innerHTML','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','map','string','<img\x20src=\x22','download','Nuevo\x20Producto','setDefault','display','.xlsx','findIndex','block','appendChild','selected','slice','btnExportarItems','setItemUnits','setMtoPrecioUnitario','table','.selected_tags','setUnitCode','type','.options_list','<div\x20class=\x22newItem_col\x22>','arrayBuffer','setItemUnitAlias','dataTransfer','costInput','result','setItemIsSold','\x22\x20class=\x22branchChk\x22>\x20','.options_list\x20div','newItem_hidden','modalOverlayCreateItem','none','click','constructor','setWarehouseName','createElement','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','dragover','modalProductNewTitle','className','items','\x22\x20class=\x22branchChk\x22\x20checked>\x20','PEN','parse','setIdProducto','setPrice','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','status','checked','filter','image_box','setUnidadCodigo','name','currency_data','Generando\x20Excel...','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','#newItem_brands_select\x20.options_list','unitSelect','application/octet-stream','setCode','percent','Error\x20al\x20procesar\x20la\x20operación:','setItemVariantValues','newItem_btn_addVariantGroup','setImpuestoValue','setFactor','dispatchEvent','.unitSelect','querySelector','setItemBarCode','stopPropagation','stringify','active','accept','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','parentNode','getElementById','blur','setCantidad','720465iZxSBh','preventDefault','[id$=\x22_comp_container\x22]','.prodQty','assign','undefined','setInventariable','base','log','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','value','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','_branch_container','detalleModalCreateItem','.addVariantComp','setItemImages','btnItemSave','warn','splice','length','entries','966600SKCnwU','true','drop','progress','option','.drop-zone__prompt','setItemDescription','toggle','transaction','querySelectorAll','code','remove','setWarehouseCode','9ZZnylG','Enter','Ingresa\x20el\x20código\x20del\x20item','every','vals','newItem_title_table','__proto__','(((.+)+)+)+$','.vgVals','setItemCommissionPercentage','some','getElementsByClassName','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','variantForm','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','Plantilla-Items-Export-','newItem_variants_forms','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setTaxIdDefault','setUnitName','target','inputItemCode','newItem_variant_groups','</label>','image/*','change','contains','disabled','setItemWarehouses','Error\x20al\x20guardar\x20Producto\x20Offline:','#newItem_brands_select\x20.selected_tags','style','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','div','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setItemIsBought','file-input','</div>','setItemTaxId','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','trim','setItemInventoriable','setDescripcion','classList','files','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','apply','setMarca','remove-file','add','13013630puoZFq','currency','inputItemDateExpiry','match','inputItemName','eqInput','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','objectStore','newItem_units_container','4864559KWwqgP','setItemCode','setImpuestoCode','upload-btn','now','toString','inputItemTax','variant_','sort','padStart','split','.variantForm','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','dragenter','newItem_addToCart','inputItemType','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setSucursalStock','setItemDateExpiry','\x20items\x20procesados.','.variantBarCode','setIdSucursal','.variantCode','inputItemBarCode','default','defineProperty','push','keydown','file','done','from','newItem_chk_sell','setCost','setItemTaxCode','setBatchName','drop-zone','find','.variantExpiry','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','./js/apierp_item_wk.min.js','setCategoria','.branchChk','Producto\x20Guardado\x20Offline\x20Correctamente.','.removeVariant','setTaxId','hidden','fill','includes','setItemBrandName','setWebhook','newItem_brands_select','offline_operations','setItemBrands','2495480DqZvVM','setItemCategories','remove-tag','setPriceUSD','174NJraoW','.prod_input_container','search','idx','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','exportItems'];_0xebd7=function(){return _0x14737f;};return _0xebd7();}function showModalCreateItem(_0x100258){var _0x17c50e=_0x7616fb;const _0x5998f4=document[_0x17c50e(0x2d1)](_0x17c50e(0x2e1)),_0xf7661f=document[_0x17c50e(0x2d1)]('modalOverlayCreateItem');_0x5998f4[_0x17c50e(0x322)][_0x17c50e(0x328)](_0x17c50e(0x2cd)),_0xf7661f[_0x17c50e(0x316)][_0x17c50e(0x28a)]=_0x17c50e(0x28d);const _0x249559=document['getElementById'](_0x17c50e(0x270));_0x249559[_0x17c50e(0x2de)]=parseInt(_0x100258),baseItem[_0x17c50e(0x270)]=parseInt(_0x100258);const _0x1c4644=document[_0x17c50e(0x2d1)](_0x17c50e(0x2ab));_0x100258==0x0&&(_0x1c4644[_0x17c50e(0x282)]=_0x17c50e(0x288));_0x100258==0x1&&(_0x1c4644[_0x17c50e(0x282)]='Producto\x20Libre');const _0x4819ef=document[_0x17c50e(0x301)]('productType1');for(let _0x28ebf2=0x0;_0x28ebf2<_0x4819ef[_0x17c50e(0x2e7)];_0x28ebf2++){const _0x52bbe8=_0x4819ef[_0x28ebf2];if(_0x100258==0x0)_0x52bbe8['classList'][_0x17c50e(0x2f4)](_0x17c50e(0x213));else _0x100258==0x1&&_0x52bbe8['classList'][_0x17c50e(0x328)](_0x17c50e(0x213));}}function hideModalCreateItem(){var _0x4368cc=_0x7616fb;const _0x4dc65c=document['getElementById'](_0x4368cc(0x2e1)),_0x5012c8=document[_0x4368cc(0x2d1)](_0x4368cc(0x2a3));_0x4dc65c['classList'][_0x4368cc(0x2f4)](_0x4368cc(0x2cd)),_0x5012c8['style'][_0x4368cc(0x28a)]=_0x4368cc(0x2a4);}document['getElementById'](_0x7616fb(0x244))['addEventListener'](_0x7616fb(0x2a5),hideModalCreateItem),document['getElementById'](_0x7616fb(0x2a3))[_0x7616fb(0x23c)](_0x7616fb(0x2a5),_0x57868c=>{_0x57868c['target']==_0x57868c['currentTarget']&&_0x57868c['stopPropagation']();});function loadTaxData(){var _0x32ba60=_0x7616fb;const _0x27b52e=document['getElementById'](_0x32ba60(0x338));_0x27b52e[_0x32ba60(0x282)]='',company[0x0]['setImpuestos'][_0x32ba60(0x280)](function(_0x8844ba){var _0x4200dd=_0x32ba60;const _0x2c5ad4=document[_0x4200dd(0x2a8)](_0x4200dd(0x2ed));_0x2c5ad4['value']=_0x8844ba[_0x4200dd(0x212)],_0x2c5ad4[_0x4200dd(0x282)]=_0x8844ba['setImpuestoName']+'\x20('+_0x8844ba['setImpuestoValue']+'%)',_0x8844ba[_0x4200dd(0x212)]==company[0x0][_0x4200dd(0x309)]&&(_0x2c5ad4[_0x4200dd(0x28f)]=!![]),_0x27b52e[_0x4200dd(0x28e)](_0x2c5ad4);});}function uniqueValuesArray(_0x2552d4,_0x272da9,_0x20879d){var _0x43d00e=_0x7616fb;const _0x55bdfc=Array[_0x43d00e(0x204)](new Set(_0x20879d['map'](_0x57bbf6=>{var _0x1bb7af=_0x43d00e;const _0x363b95=_0x57bbf6[_0x2552d4];return typeof _0x363b95===_0x1bb7af(0x285)?_0x363b95[_0x1bb7af(0x31f)]():_0x363b95;})[_0x43d00e(0x2b6)](_0x34a0d2=>_0x34a0d2!=null&&_0x34a0d2!=='')));return _0x55bdfc[_0x43d00e(0x284)](_0x4c6cf0=>{var _0x55ad65=_0x43d00e;const _0x32c1a4=_0x20879d[_0x55ad65(0x20a)](_0x56612e=>_0x56612e[_0x2552d4]===_0x4c6cf0),_0x247ce7=_0x32c1a4&&_0x32c1a4[_0x272da9]!=null?String(_0x32c1a4[_0x272da9])['trim']():_0x4c6cf0;return{'setCode':_0x4c6cf0,'setName':_0x247ce7};});}function fillSelect(_0x4d7b1e,_0x2c82a6,_0x5ba0ed,_0x2a562e){var _0x212da1=_0x7616fb;_0x4d7b1e[_0x212da1(0x282)]='',_0x2c82a6[_0x212da1(0x280)](function(_0x1d68f3){var _0x9f0b10=_0x212da1,_0x205ce2=new Option(_0x1d68f3[_0x2a562e],_0x1d68f3[_0x5ba0ed]);_0x4d7b1e[_0x9f0b10(0x328)](_0x205ce2);});}function initMulti(_0x424bac,_0x6a7d92){var _0x5906bc=_0x7616fb,_0x52093e=document['getElementById'](_0x424bac),_0x169b75=_0x52093e['querySelector']('.ms_input'),_0x5b7916=_0x52093e[_0x5906bc(0x2c9)]('.options_list'),_0x3b8378=_0x52093e[_0x5906bc(0x2c9)](_0x5906bc(0x295)),_0x28d3e4=_0x6a7d92[_0x5906bc(0x290)](),_0x7c2c91=[];let _0x1b6fa1=null,_0x2a5ba3=![];function _0x2b3898(){var _0x107b71=_0x5906bc;const _0x5810b2=_0x169b75[_0x107b71(0x2de)]['trim']();if(!_0x5810b2)return;const _0x1e7e71=_0x28d3e4[_0x107b71(0x20a)](_0x379077=>_0x379077['setName'][_0x107b71(0x22e)]()===_0x5810b2[_0x107b71(0x22e)]());if(_0x1e7e71)_0x7c2c91[_0x107b71(0x200)](_0x1e7e71),_0x28d3e4[_0x107b71(0x2e6)](_0x28d3e4['findIndex'](_0xb81fd0=>_0xb81fd0[_0x107b71(0x2c0)]===_0x1e7e71[_0x107b71(0x2c0)]),0x1);else{const _0x25192c=_0x7c2c91[_0x107b71(0x300)](_0x210346=>_0x210346[_0x107b71(0x252)][_0x107b71(0x22e)]()===_0x5810b2['toLowerCase']());!_0x25192c&&_0x7c2c91['push']({'setCode':_0x5810b2,'setName':_0x5810b2});}_0x3b50ed(),_0x3572ab(),_0x169b75[_0x107b71(0x2de)]='';}function _0x3572ab(){var _0x538983=_0x5906bc;_0x5b7916['innerHTML']='',_0x28d3e4[_0x538983(0x2b6)](_0x58219f=>_0x58219f[_0x538983(0x252)]['toLowerCase']()[_0x538983(0x215)](_0x169b75[_0x538983(0x2de)][_0x538983(0x22e)]()))['slice'](0x0,0x14)[_0x538983(0x280)](_0x445f34=>{var _0x353b2=_0x538983,_0x5c2998=document['createElement'](_0x353b2(0x318));_0x5c2998[_0x353b2(0x26d)]=_0x445f34[_0x353b2(0x252)],_0x5c2998['dataset'][_0x353b2(0x2f3)]=_0x445f34['setCode'],_0x5b7916[_0x353b2(0x28e)](_0x5c2998),_0x5c2998['addEventListener']('mousedown',()=>_0x2a5ba3=!![]),_0x5c2998[_0x353b2(0x23c)](_0x353b2(0x2a5),function(){var _0x22c11d=_0x353b2;_0x2a5ba3=![],_0x7c2c91[_0x22c11d(0x200)](_0x445f34),_0x28d3e4[_0x22c11d(0x2e6)](_0x28d3e4[_0x22c11d(0x28c)](_0x3c5959=>_0x3c5959[_0x22c11d(0x2c0)]===_0x445f34[_0x22c11d(0x2c0)]),0x1),_0x169b75['value']='',_0x3b50ed(),_0x3572ab();});});}function _0x3b50ed(){var _0x4dd570=_0x5906bc;_0x3b8378['innerHTML']='',_0x7c2c91[_0x4dd570(0x280)](_0x22b9ce=>{var _0x4cf37b=_0x4dd570,_0x282663=document[_0x4cf37b(0x2a8)](_0x4cf37b(0x318));_0x282663['className']=_0x4cf37b(0x246),_0x282663['textContent']=_0x22b9ce[_0x4cf37b(0x252)];var _0x4a1b3a=document[_0x4cf37b(0x2a8)]('span');_0x4a1b3a[_0x4cf37b(0x2ac)]=_0x4cf37b(0x21d),_0x4a1b3a['textContent']='×',_0x4a1b3a['addEventListener'](_0x4cf37b(0x2a5),function(){var _0x2c9b80=_0x4cf37b;_0x28d3e4['push'](_0x22b9ce);const _0x1c1bba=_0x7c2c91[_0x2c9b80(0x28c)](_0x510cb=>_0x510cb['setCode']===_0x22b9ce[_0x2c9b80(0x2c0)]);if(_0x1c1bba>-0x1)_0x7c2c91['splice'](_0x1c1bba,0x1);_0x3b50ed(),_0x3572ab();}),_0x282663[_0x4cf37b(0x28e)](_0x4a1b3a),_0x3b8378[_0x4cf37b(0x28e)](_0x282663);}),_0x52093e[_0x4dd570(0x2c7)](new CustomEvent(_0x4dd570(0x278),{'detail':_0x7c2c91,'bubbles':!![]}));}return _0x169b75[_0x5906bc(0x23c)](_0x5906bc(0x24b),function(){var _0x4b38b3=_0x5906bc;_0x1b6fa1&&(clearTimeout(_0x1b6fa1),_0x1b6fa1=null),_0x5b7916[_0x4b38b3(0x322)][_0x4b38b3(0x2f4)](_0x4b38b3(0x2a2));}),_0x169b75[_0x5906bc(0x23c)](_0x5906bc(0x225),_0x3572ab),_0x169b75[_0x5906bc(0x23c)](_0x5906bc(0x201),function(_0x311e80){var _0x4bdd7c=_0x5906bc;_0x311e80[_0x4bdd7c(0x279)]===_0x4bdd7c(0x2f7)&&(_0x311e80[_0x4bdd7c(0x2d5)](),_0x2b3898());}),_0x169b75['addEventListener'](_0x5906bc(0x2d2),function(){if(_0x2a5ba3)return;_0x1b6fa1=setTimeout(()=>{_0x2b3898(),_0x1b6fa1=null;},0xc8);}),document[_0x5906bc(0x23c)](_0x5906bc(0x2a5),function(_0x59c75c){var _0x1426c2=_0x5906bc;!_0x52093e[_0x1426c2(0x311)](_0x59c75c[_0x1426c2(0x30b)])&&_0x5b7916[_0x1426c2(0x322)][_0x1426c2(0x328)](_0x1426c2(0x2a2));}),_0x3572ab(),_0x7c2c91;}function getLastCode(_0x28370e){var _0x374284=_0x7616fb;const _0x38ae63=_0x28370e['map'](_0x380c03=>String(_0x380c03['setCodProducto'])['trim']())['filter'](_0x2ed089=>_0x2ed089!=='');if(_0x38ae63[_0x374284(0x2e7)]===0x0)return'';const _0x58f73b=_0x38ae63[_0x374284(0x2f9)](_0x12640c=>/^\d+$/[_0x374284(0x25c)](_0x12640c));if(_0x58f73b){const _0x4a21d6=_0x38ae63['map'](Number),_0x1b9540=Math['max'](..._0x4a21d6);return String(_0x1b9540);}let _0x325e9a;if(typeof Intl!==_0x374284(0x2d9)&&Intl['Collator']){const _0x11ec8e=new Intl[(_0x374284(0x22b))](undefined,{'numeric':!![],'sensitivity':_0x374284(0x2db)});_0x325e9a=_0x38ae63['slice']()['sort'](_0x11ec8e[_0x374284(0x24d)]);}else{const _0x5879f6=_0x38ae63[_0x374284(0x2f9)](_0xb75542=>/^\d+$/['test'](_0xb75542));_0x5879f6?_0x325e9a=_0x38ae63[_0x374284(0x284)](Number)[_0x374284(0x33a)]((_0x4bcf67,_0x24fe9a)=>_0x4bcf67-_0x24fe9a)[_0x374284(0x284)](String):_0x325e9a=_0x38ae63[_0x374284(0x290)]()[_0x374284(0x33a)]();}return _0x325e9a[_0x325e9a[_0x374284(0x2e7)]-0x1];}function getNextCode(_0x141dbe){var _0x6b77a5=_0x7616fb;const _0x273bcf=getLastCode(_0x141dbe);if(!_0x273bcf)return'';if(/^\d+$/['test'](_0x273bcf))return String(Number(_0x273bcf)+0x1);const _0x1760be=_0x273bcf[_0x6b77a5(0x32c)](/^([A-Za-z]*)(\d+)$/);if(_0x1760be){const [,_0x2549a7,_0x5b822d]=_0x1760be,_0x397226=String(Number(_0x5b822d)+0x1)[_0x6b77a5(0x33b)](_0x5b822d[_0x6b77a5(0x2e7)],'0');return _0x2549a7+_0x397226;}return _0x273bcf;}function _0x3b43(_0x31a427,_0x190a7c){var _0x31ae5c=_0xebd7();return _0x3b43=function(_0x3a5ba9,_0x2b046f){_0x3a5ba9=_0x3a5ba9-0x1f0;var _0x1628b1=_0x31ae5c[_0x3a5ba9];return _0x1628b1;},_0x3b43(_0x31a427,_0x190a7c);}document[_0x7616fb(0x2d1)](_0x7616fb(0x32d))['addEventListener'](_0x7616fb(0x225),function(_0x54f16b){var _0x20d439=_0x7616fb;baseItem[_0x20d439(0x24a)]=_0x54f16b[_0x20d439(0x30b)][_0x20d439(0x2de)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x22a))['addEventListener']('input',function(_0x31996f){var _0x153862=_0x7616fb;baseItem[_0x153862(0x2ef)]=_0x31996f['target'][_0x153862(0x2de)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x32b))[_0x7616fb(0x23c)](_0x7616fb(0x225),function(_0x309a97){var _0x4aadff=_0x7616fb;baseItem[_0x4aadff(0x1f8)]=_0x309a97[_0x4aadff(0x30b)][_0x4aadff(0x2de)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x1f5))[_0x7616fb(0x23c)]('change',function(_0x4d0d9a){var _0xf83e98=_0x7616fb;baseItem['setItemType']=_0x4d0d9a[_0xf83e98(0x30b)]['value'];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x338))[_0x7616fb(0x23c)]('change',function(_0x483c81){var _0xd40cbd=_0x7616fb;baseItem['setItemTaxId']=_0x483c81[_0xd40cbd(0x30b)][_0xd40cbd(0x2de)];const _0xcacd3a=_0x483c81['target'][_0xd40cbd(0x2de)],_0x5bc598=company[0x0][_0xd40cbd(0x264)]['find'](_0x2f959e=>_0x2f959e[_0xd40cbd(0x212)]==_0xcacd3a)?.[_0xd40cbd(0x334)]||0x0,_0x4f881b=company[0x0][_0xd40cbd(0x264)]['find'](_0x215536=>_0x215536[_0xd40cbd(0x212)]==_0xcacd3a)?.[_0xd40cbd(0x2c5)]||0x0;baseItem[_0xd40cbd(0x207)]=_0x5bc598,baseItem[_0xd40cbd(0x230)]=_0x4f881b;}),document[_0x7616fb(0x2d1)]('newItem_chk_buy')[_0x7616fb(0x23c)](_0x7616fb(0x310),function(_0xaac53c){var _0x52e53f=_0x7616fb;baseItem[_0x52e53f(0x31a)]=_0xaac53c[_0x52e53f(0x30b)][_0x52e53f(0x2b5)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x205))[_0x7616fb(0x23c)]('change',function(_0x5027ad){var _0x5c8d07=_0x7616fb;baseItem[_0x5c8d07(0x29f)]=_0x5027ad[_0x5c8d07(0x30b)][_0x5c8d07(0x2b5)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x30c))['addEventListener'](_0x7616fb(0x225),function(_0x2091da){var _0x4da923=_0x7616fb;baseItem[_0x4da923(0x333)]=_0x2091da[_0x4da923(0x30b)][_0x4da923(0x2de)];}),document[_0x7616fb(0x2d1)](_0x7616fb(0x1fd))[_0x7616fb(0x23c)](_0x7616fb(0x225),function(_0x3fabf4){var _0x53e81b=_0x7616fb;baseItem[_0x53e81b(0x2ca)]=_0x3fabf4['target'][_0x53e81b(0x2de)];}),document['getElementById']('newItem_btn_addUnit')[_0x7616fb(0x23c)](_0x7616fb(0x2a5),function(){addUnit(),updateUnitsArray();}),document[_0x7616fb(0x2d1)](_0x7616fb(0x30c))[_0x7616fb(0x23c)]('blur',function(){var _0x13f7d6=_0x7616fb;const _0x369fea=this['value'][_0x13f7d6(0x31f)]();if(_0x369fea==='')return;const _0x26217f=products['some'](_0x38213b=>_0x38213b[_0x13f7d6(0x23d)]==_0x369fea),_0xda243e=getLastCode(products);_0x26217f?ntfShow(_0x13f7d6(0x1f6)+_0xda243e,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0xee710f){var _0x6a7a2c=_0x7616fb;currentImages[_0xee710f]=null;var _0x37c4d8=imgC[_0x6a7a2c(0x2c9)]('[data-idx=\x22'+_0xee710f+'\x22]');_0x37c4d8[_0x6a7a2c(0x282)]='';var _0x44536f=document[_0x6a7a2c(0x2a8)]('input');_0x44536f[_0x6a7a2c(0x297)]=_0x6a7a2c(0x202),_0x44536f['accept']=_0x6a7a2c(0x30f),_0x44536f[_0x6a7a2c(0x316)][_0x6a7a2c(0x28a)]=_0x6a7a2c(0x2a4);var _0x56cea3=document['createElement'](_0x6a7a2c(0x265));_0x56cea3[_0x6a7a2c(0x26d)]='+',_0x37c4d8[_0x6a7a2c(0x28e)](_0x44536f),_0x37c4d8['appendChild'](_0x56cea3),_0x37c4d8['addEventListener'](_0x6a7a2c(0x2a5),function(){var _0x2e123e=_0x6a7a2c;_0x44536f[_0x2e123e(0x2a5)]();}),baseItem['setItemImages']=currentImages[_0x6a7a2c(0x2b6)](function(_0x1f115c){return _0x1f115c;});}function addUnit(_0x507ac2,_0x358d75,_0x1d812d,_0x5e3b50,_0x6b7e5e,_0x225e3c,_0x279660){var _0x567e83=_0x7616fb,_0x482263=uniqueValuesArray(_0x567e83(0x296),_0x567e83(0x30a),myCompany[_0x567e83(0x27c)]);_0x507ac2=_0x507ac2||'',_0x358d75=_0x358d75||_0x482263[0x3a]&&_0x482263[0x3a][_0x567e83(0x2c0)]||'',_0x1d812d=_0x1d812d!==undefined?_0x1d812d:0x1,_0x5e3b50=!!_0x5e3b50,_0x6b7e5e=_0x6b7e5e||'',_0x225e3c=_0x225e3c||'';var _0x1c2170=unitCount++,_0x4922bf=document[_0x567e83(0x2a8)](_0x567e83(0x318));_0x4922bf[_0x567e83(0x262)][_0x567e83(0x222)]=_0x1c2170,_0x4922bf['dataset'][_0x567e83(0x1fe)]=_0x5e3b50,_0x4922bf[_0x567e83(0x282)]=_0x567e83(0x317)+_0x1c2170+'\x22\x20value=\x22'+_0x507ac2+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x1c2170+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x1c2170+_0x567e83(0x266)+_0x1d812d+'\x22\x20'+(_0x5e3b50?_0x567e83(0x312):'')+_0x567e83(0x302)+_0x1c2170+'\x22\x20value=\x22'+_0x6b7e5e+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x1c2170+_0x567e83(0x266)+_0x225e3c+_0x567e83(0x2df)+(_0x5e3b50?_0x567e83(0x236):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x4922bf['querySelector'](_0x567e83(0x2c8)),_0x482263,'setCode',_0x567e83(0x252)),_0x4922bf[_0x567e83(0x2c9)](_0x567e83(0x2c8))[_0x567e83(0x2de)]=_0x358d75,[_0x567e83(0x27d),_0x567e83(0x2be),_0x567e83(0x32e),'priceInput',_0x567e83(0x29d)]['forEach'](function(_0x2cbde8){var _0x2084af=_0x567e83;_0x4922bf[_0x2084af(0x2c9)]('.'+_0x2cbde8)['addEventListener'](_0x2084af(0x225),function(){var _0x42ca3a=_0x2084af,_0x45940d=_0x279660?+_0x279660['id'][_0x42ca3a(0x1f0)]('_')[0x1]:null;if(_0x279660)updateVariantUnits(_0x45940d);else updateUnitsArray();});}),_0x4922bf[_0x567e83(0x2c9)]('.removeUnit')[_0x567e83(0x23c)]('click',function(){var _0x55bb8b=_0x567e83;_0x4922bf['remove']();var _0x4e2402=_0x279660?+_0x279660['id'][_0x55bb8b(0x1f0)]('_')[0x1]:null;if(_0x279660)updateVariantUnits(_0x4e2402);else updateUnitsArray();});var _0x3e1d06=_0x279660||document['getElementById'](_0x567e83(0x331));_0x3e1d06[_0x567e83(0x28e)](_0x4922bf);}function containerIdx(_0xab442c){var _0x3eeef3=_0x7616fb;return+_0xab442c['id'][_0x3eeef3(0x1f0)]('_')[0x1];}function updateUnitsArray(){var _0x526f4b=_0x7616fb,_0x499f3f=[],_0x2d3d8f=Array[_0x526f4b(0x204)](document[_0x526f4b(0x2f2)]('#newItem_units_container\x20>\x20div')),_0xc82530=_0x2d3d8f['find'](_0x4c27db=>_0x4c27db['dataset']['default']===_0x526f4b(0x2ea)),_0x50f142=_0xc82530?+_0xc82530[_0x526f4b(0x2c9)](_0x526f4b(0x27b))[_0x526f4b(0x2de)]:0x1;_0x2d3d8f[_0x526f4b(0x280)](function(_0x564966){var _0x2eae4a=_0x526f4b,_0x324ac8=+_0x564966[_0x2eae4a(0x2c9)](_0x2eae4a(0x27b))[_0x2eae4a(0x2de)]||0x0,_0x317a11=+_0x564966[_0x2eae4a(0x2c9)]('.priceInput')[_0x2eae4a(0x2de)]||0x0,_0x171742=+_0x564966['querySelector'](_0x2eae4a(0x254))[_0x2eae4a(0x2de)]||0x0;_0x499f3f[_0x2eae4a(0x200)]({'setAlias':_0x564966[_0x2eae4a(0x2c9)](_0x2eae4a(0x229))[_0x2eae4a(0x2de)][_0x2eae4a(0x31f)](),'setUnitCode':_0x564966[_0x2eae4a(0x2c9)](_0x2eae4a(0x2c8))[_0x2eae4a(0x2de)],'setEquivalence':_0x324ac8,'setFactor':_0x564966['dataset']['default']==='true'?0x1:_0x324ac8==_0x50f142?0x1:_0x324ac8<_0x50f142?_0x50f142/_0x324ac8:_0x324ac8/_0x50f142,'setPrice':_0x317a11,'setCost':_0x171742,'setDefault':_0x564966[_0x2eae4a(0x262)]['default']==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x499f3f;}function updateBranches(){var _0x6e6095=_0x7616fb,_0x2c0028=[];document[_0x6e6095(0x2f2)]('#newItem_branches_container\x20>\x20div')[_0x6e6095(0x280)](function(_0x509ec7){var _0x103508=_0x6e6095,_0x13a53d=_0x509ec7[_0x103508(0x2c9)]('.branchChk');if(_0x13a53d[_0x103508(0x2b5)]){var _0x249885=+_0x13a53d[_0x103508(0x262)]['id'],_0x325c3f=+_0x509ec7[_0x103508(0x2c9)]('.branchInit')[_0x103508(0x2de)],_0x15f32f=+_0x509ec7[_0x103508(0x2c9)]('.branchMin')[_0x103508(0x2de)];_0x2c0028[_0x103508(0x200)]({'setWarehouseCode':_0x249885,'setStockInitial':_0x325c3f,'setStockMinimum':_0x15f32f});}}),baseItem[_0x6e6095(0x313)]=_0x2c0028;}document[_0x7616fb(0x2d1)]('newItem_btn_addProdItem')['addEventListener'](_0x7616fb(0x2a5),function(){var _0x39f7d2=_0x7616fb,_0x1782df=Date[_0x39f7d2(0x336)](),_0x4dfdca=document[_0x39f7d2(0x2a8)](_0x39f7d2(0x318));_0x4dfdca['dataset'][_0x39f7d2(0x222)]=_0x1782df,_0x4dfdca[_0x39f7d2(0x282)]=_0x39f7d2(0x231)+_0x1782df+_0x39f7d2(0x2cf)+_0x1782df+_0x39f7d2(0x2dd),prodC[_0x39f7d2(0x28e)](_0x4dfdca),initProdSearch(_0x4dfdca[_0x39f7d2(0x2c9)](_0x39f7d2(0x220))),_0x4dfdca[_0x39f7d2(0x2c9)]('.removeProd')[_0x39f7d2(0x23c)]('click',function(){var _0x29728f=_0x39f7d2;_0x4dfdca[_0x29728f(0x2f4)](),updateProdItems();}),_0x4dfdca[_0x39f7d2(0x2c9)](_0x39f7d2(0x2d7))[_0x39f7d2(0x23c)](_0x39f7d2(0x225),updateProdItems),document['getElementById'](_0x39f7d2(0x269))[_0x39f7d2(0x322)][_0x39f7d2(0x2f0)](_0x39f7d2(0x2fb),!![]),document['getElementById'](_0x39f7d2(0x269))[_0x39f7d2(0x322)]['toggle'](_0x39f7d2(0x2a2),![]);});function initProdSearch(_0x2eceac,_0x13956a){var _0x24da6d=_0x7616fb,_0x339b96=_0x2eceac['querySelector'](_0x24da6d(0x255)),_0xf2a5a5=_0x2eceac[_0x24da6d(0x2c9)](_0x24da6d(0x298)),_0x4f0b72=_0x13956a||null;if(_0x13956a)_0x339b96[_0x24da6d(0x2de)]=_0x13956a[_0x24da6d(0x2b9)];_0x339b96['addEventListener'](_0x24da6d(0x225),function(){var _0x2434c4=_0x24da6d,_0x3f771a=_0x339b96[_0x2434c4(0x2de)]['toLowerCase']()['trim']();_0xf2a5a5[_0x2434c4(0x282)]='';if(!_0x3f771a)return;products[_0x2434c4(0x2b6)](_0x6365a9=>_0x6365a9[_0x2434c4(0x321)][_0x2434c4(0x22e)]()[_0x2434c4(0x215)](_0x3f771a))[_0x2434c4(0x290)](0x0,0x14)['forEach'](function(_0x2f47c3){var _0x56facb=_0x2434c4,_0x5c174a=document[_0x56facb(0x2a8)]('div');_0x5c174a['textContent']=_0x2f47c3[_0x56facb(0x321)],_0x5c174a[_0x56facb(0x262)]['id']=_0x2f47c3['id'],_0x5c174a['dataset'][_0x56facb(0x2b9)]=_0x2f47c3[_0x56facb(0x321)],_0xf2a5a5[_0x56facb(0x28e)](_0x5c174a),_0x5c174a['addEventListener'](_0x56facb(0x2a5),function(){var _0x246311=_0x56facb;_0x4f0b72={'id':_0x2f47c3['id'],'name':_0x2f47c3[_0x246311(0x321)]},_0x339b96[_0x246311(0x2de)]=_0x2f47c3['setDescripcion'],_0xf2a5a5[_0x246311(0x282)]='';var _0xb29b9f=_0x2eceac['closest'](_0x246311(0x2d6));if(_0xb29b9f){var _0x1ed93a=+_0xb29b9f['id'][_0x246311(0x1f0)]('_')[0x1];updateVariantComponents(_0x1ed93a);}else updateProdItems();});});}),_0x339b96[_0x24da6d(0x23c)]('focus',function(){var _0x236057=_0x24da6d;_0xf2a5a5['classList']['remove'](_0x236057(0x2a2));}),document[_0x24da6d(0x23c)](_0x24da6d(0x2a5),function(_0x4de18b){var _0x2744cd=_0x24da6d;if(!_0x2eceac[_0x2744cd(0x311)](_0x4de18b[_0x2744cd(0x30b)]))_0xf2a5a5[_0x2744cd(0x322)][_0x2744cd(0x328)](_0x2744cd(0x2a2));}),Object[_0x24da6d(0x1ff)](_0x2eceac,_0x24da6d(0x276),{'get':()=>_0x4f0b72});}function updateProdItems(){var _0xecaeeb=_0x7616fb,_0x419b02=[];Array[_0xecaeeb(0x204)](prodC['children'])[_0xecaeeb(0x280)](function(_0x20a1dd){var _0x53cc19=_0xecaeeb,_0x3ea259=_0x20a1dd[_0x53cc19(0x2c9)](_0x53cc19(0x220));if(!_0x3ea259)return;var _0x23dff4=_0x20a1dd[_0x53cc19(0x2c9)](_0x53cc19(0x2d7)),_0x42872d=_0x3ea259[_0x53cc19(0x276)];_0x42872d&&_0x419b02['push']({'setItemId':_0x42872d['id'],'setDescripcion':_0x42872d[_0x53cc19(0x2b9)],'setCantidad':+_0x23dff4[_0x53cc19(0x2de)]});}),baseItem[_0xecaeeb(0x26f)]=_0x419b02,_0x419b02[_0xecaeeb(0x2e7)]===0x0&&(document['getElementById']('newItem_title_table_cp')[_0xecaeeb(0x322)][_0xecaeeb(0x2f0)](_0xecaeeb(0x2fb),![]),document[_0xecaeeb(0x2d1)](_0xecaeeb(0x269))['classList'][_0xecaeeb(0x2f0)](_0xecaeeb(0x2a2),!![]));}document[_0x7616fb(0x2d1)](_0x7616fb(0x2c4))[_0x7616fb(0x23c)](_0x7616fb(0x2a5),function(){var _0x1eb685=_0x7616fb,_0x5c0c8a=vgCount++,_0x269ddf=document['createElement'](_0x1eb685(0x318));_0x269ddf[_0x1eb685(0x262)]['idx']=_0x5c0c8a,_0x269ddf[_0x1eb685(0x282)]=_0x1eb685(0x2b3)+_0x5c0c8a+'\x22>'+_0x1eb685(0x305)+_0x5c0c8a+'\x22>'+_0x1eb685(0x249),vgC[_0x1eb685(0x28e)](_0x269ddf),_0x269ddf['querySelector']('.vgName')['addEventListener'](_0x1eb685(0x2d2),generateVariants),_0x269ddf[_0x1eb685(0x2c9)](_0x1eb685(0x2fe))[_0x1eb685(0x23c)](_0x1eb685(0x2d2),generateVariants),_0x269ddf[_0x1eb685(0x2c9)]('.removeGroup')[_0x1eb685(0x23c)](_0x1eb685(0x2a5),function(){var _0x137c15=_0x1eb685;_0x269ddf[_0x137c15(0x2f4)](),generateVariants();});});function generateVariants(){var _0x369e13=_0x7616fb,_0x152ed3=[];vgC[_0x369e13(0x2f2)](_0x369e13(0x318))[_0x369e13(0x280)](function(_0x52d9a6){var _0x514c19=_0x369e13,_0x30a0b3=_0x52d9a6[_0x514c19(0x2c9)]('.vgName')['value'][_0x514c19(0x31f)](),_0xcb63e5=_0x52d9a6[_0x514c19(0x2c9)](_0x514c19(0x2fe))[_0x514c19(0x2de)][_0x514c19(0x1f0)](',')[_0x514c19(0x284)](_0x680129=>_0x680129['trim']())[_0x514c19(0x2b6)](_0xdad888=>_0xdad888);if(_0x30a0b3&&_0xcb63e5[_0x514c19(0x2e7)])_0x152ed3[_0x514c19(0x200)]({'name':_0x30a0b3,'vals':_0xcb63e5});});var _0x3afc27=[{}];_0x152ed3[_0x369e13(0x280)](function(_0x1165ec){_0x3afc27=_0x3afc27['flatMap'](function(_0x13b134){var _0x44eb7c=_0x3b43;return _0x1165ec[_0x44eb7c(0x2fa)][_0x44eb7c(0x284)](function(_0x4e7da7){var _0x4f0d52=_0x44eb7c,_0x49ec27=Object[_0x4f0d52(0x2d8)]({},_0x13b134);return _0x49ec27[_0x1165ec[_0x4f0d52(0x2b9)]]=_0x4e7da7,_0x49ec27;});});}),newItems=[],varContainer[_0x369e13(0x282)]='',_0x3afc27[_0x369e13(0x280)](function(_0x2ea930,_0x2f898b){var _0x10731c=_0x369e13,_0x16b660=JSON[_0x10731c(0x2b0)](JSON[_0x10731c(0x2cc)](baseItem));_0x16b660['setItemVariantValues']=_0x2ea930,_0x16b660['setItemVariantName']=baseItem[_0x10731c(0x24a)]+'\x20'+Object[_0x10731c(0x2e8)](_0x2ea930)['map'](_0x692d28=>_0x692d28[0x0]+'\x20'+_0x692d28[0x1])['join']('\x20'),newItems[_0x10731c(0x200)](_0x16b660);var _0x28a8d7=document[_0x10731c(0x2a8)](_0x10731c(0x318));_0x28a8d7[_0x10731c(0x322)][_0x10731c(0x328)](_0x10731c(0x303)),_0x28a8d7[_0x10731c(0x262)]['idx']=_0x2f898b,_0x28a8d7[_0x10731c(0x282)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x16b660[_0x10731c(0x245)]+_0x10731c(0x32f)+_0x16b660['setItemCode']+_0x10731c(0x2bc)+_0x16b660[_0x10731c(0x2ca)]+_0x10731c(0x1f2)+_0x16b660[_0x10731c(0x1f8)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x2f898b+_0x10731c(0x304)+_0x2f898b+_0x10731c(0x23f)+_0x2f898b+_0x10731c(0x27a),varContainer['appendChild'](_0x28a8d7),_0x28a8d7['querySelector'](_0x10731c(0x1fc))[_0x10731c(0x23c)](_0x10731c(0x225),_0x1c0c58=>newItems[_0x2f898b][_0x10731c(0x333)]=_0x1c0c58[_0x10731c(0x30b)]['value']),_0x28a8d7['querySelector'](_0x10731c(0x1fa))['addEventListener'](_0x10731c(0x225),_0x46a0a2=>newItems[_0x2f898b][_0x10731c(0x2ca)]=_0x46a0a2[_0x10731c(0x30b)][_0x10731c(0x2de)]),_0x28a8d7[_0x10731c(0x2c9)](_0x10731c(0x20b))[_0x10731c(0x23c)]('change',_0x261d88=>newItems[_0x2f898b][_0x10731c(0x1f8)]=_0x261d88[_0x10731c(0x30b)]['value']),initVariantUnits(_0x2f898b),initVariantComponents(_0x2f898b),initVariantBranches(_0x2f898b),_0x28a8d7['querySelector'](_0x10731c(0x211))[_0x10731c(0x23c)](_0x10731c(0x2a5),function(){var _0x543939=_0x10731c,_0x177a58=+_0x28a8d7[_0x543939(0x262)][_0x543939(0x222)];newItems[_0x543939(0x2e6)](_0x177a58,0x1),_0x28a8d7[_0x543939(0x2f4)](),document[_0x543939(0x2f2)](_0x543939(0x1f1))[_0x543939(0x280)](function(_0x3708a2,_0x43137e){var _0x6de117=_0x543939;_0x3708a2['dataset'][_0x6de117(0x222)]=_0x43137e;});});});if(newItems[_0x369e13(0x2e7)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x8e9aec){var _0x301ab9=_0x7616fb,_0x466f4d=document[_0x301ab9(0x2d1)](_0x301ab9(0x339)+_0x8e9aec+_0x301ab9(0x240)),_0x4c6756=[];Array[_0x301ab9(0x204)](_0x466f4d[_0x301ab9(0x227)])[_0x301ab9(0x280)](function(_0x442a4a){var _0x8c3116=_0x301ab9,_0x341713=+_0x442a4a[_0x8c3116(0x2c9)](_0x8c3116(0x27b))['value']||0x0,_0x1afe05=_0x442a4a[_0x8c3116(0x2c9)](_0x8c3116(0x229))[_0x8c3116(0x2de)][_0x8c3116(0x31f)](),_0x5aa5bf=_0x442a4a[_0x8c3116(0x2c9)](_0x8c3116(0x2c8))[_0x8c3116(0x2de)],_0xe916a=+_0x442a4a[_0x8c3116(0x2c9)]('.priceInput')[_0x8c3116(0x2de)]||0x0,_0x420a25=+_0x442a4a[_0x8c3116(0x2c9)](_0x8c3116(0x254))[_0x8c3116(0x2de)]||0x0,_0x27473b=_0x442a4a[_0x8c3116(0x262)]['default']===_0x8c3116(0x2ea),_0x48e2e9=+_0x466f4d['querySelector'](_0x8c3116(0x239))[_0x8c3116(0x2de)]||0x1,_0x58f3b4=_0x27473b?0x1:_0x341713==_0x48e2e9?0x1:_0x341713<_0x48e2e9?_0x48e2e9/_0x341713:_0x341713/_0x48e2e9;_0x4c6756['push']({'setAlias':_0x1afe05,'setUnitCode':_0x5aa5bf,'setEquivalence':_0x341713,'setFactor':_0x58f3b4,'setPrice':_0xe916a,'setCost':_0x420a25,'setDefault':_0x27473b?0x1:0x0});}),newItems[_0x8e9aec][_0x301ab9(0x292)]=_0x4c6756;}function initVariantUnits(_0x4ea2c4){var _0x5349a1=_0x7616fb,_0x53fe37=document['getElementById'](_0x5349a1(0x339)+_0x4ea2c4+_0x5349a1(0x240));_0x53fe37[_0x5349a1(0x282)]='',newItems[_0x4ea2c4][_0x5349a1(0x292)][_0x5349a1(0x280)](function(_0x2ac928){var _0x125fe1=_0x5349a1;addUnit(_0x2ac928[_0x125fe1(0x27e)],_0x2ac928[_0x125fe1(0x296)],_0x2ac928[_0x125fe1(0x259)],_0x2ac928[_0x125fe1(0x289)],_0x2ac928['setPrice'],_0x2ac928[_0x125fe1(0x206)],_0x53fe37);}),_0x53fe37[_0x5349a1(0x2d0)][_0x5349a1(0x2c9)]('.addVariantUnit')[_0x5349a1(0x23c)](_0x5349a1(0x2a5),function(){addUnit('','',0x1,![],'','',_0x53fe37),updateVariantUnits(_0x4ea2c4);});}function updateVariantUnits(_0x2b48d8){var _0x17eefd=_0x7616fb,_0x420df0=document['getElementById']('variant_'+_0x2b48d8+'_units_container'),_0x1afb0e=_0x420df0[_0x17eefd(0x2c9)](_0x17eefd(0x239)),_0x1de72f=_0x1afb0e?+_0x1afb0e['value']:0x1,_0x4e2988=Array[_0x17eefd(0x204)](_0x420df0[_0x17eefd(0x227)])['map'](function(_0x5437f8){var _0x461584=_0x17eefd,_0x42e67e=_0x5437f8[_0x461584(0x2c9)]('.unitAlias')[_0x461584(0x2de)][_0x461584(0x31f)](),_0x48394a=_0x5437f8[_0x461584(0x2c9)](_0x461584(0x2c8))[_0x461584(0x2de)],_0x42b624=+_0x5437f8[_0x461584(0x2c9)](_0x461584(0x27b))[_0x461584(0x2de)]||0x0,_0x3dba42=+_0x5437f8[_0x461584(0x2c9)]('.priceInput')[_0x461584(0x2de)]||0x0,_0x2b054d=+_0x5437f8[_0x461584(0x2c9)](_0x461584(0x254))[_0x461584(0x2de)]||0x0,_0x537ec4=_0x5437f8[_0x461584(0x262)][_0x461584(0x1fe)]===_0x461584(0x2ea);return{'setAlias':_0x42e67e,'setUnitCode':_0x48394a,'setEquivalence':_0x42b624,'setFactor':_0x537ec4?0x1:_0x42b624==_0x1de72f?0x1:_0x42b624<_0x1de72f?_0x1de72f/_0x42b624:_0x42b624/_0x1de72f,'setPrice':_0x3dba42,'setCost':_0x2b054d,'setDefault':_0x537ec4?0x1:0x0};});newItems[_0x2b48d8]['setItemUnits']=_0x4e2988;}function initVariantComponents(_0x56a2c8){var _0x357e78=_0x7616fb,_0x55fa18=document['getElementById']('variant_'+_0x56a2c8+_0x357e78(0x24f));_0x55fa18[_0x357e78(0x282)]='',newItems[_0x56a2c8][_0x357e78(0x26f)]['forEach'](function(_0x4cbdeb){var _0x4870f1=_0x357e78,_0x5bf16e=document[_0x4870f1(0x2a8)](_0x4870f1(0x318)),_0x4a16cf=Date[_0x4870f1(0x336)]();_0x5bf16e[_0x4870f1(0x262)][_0x4870f1(0x222)]=_0x4a16cf,_0x5bf16e[_0x4870f1(0x282)]=_0x4870f1(0x319)+_0x4a16cf+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x4cbdeb[_0x4870f1(0x2d3)]+_0x4870f1(0x274),_0x55fa18[_0x4870f1(0x28e)](_0x5bf16e),initProdSearch(_0x5bf16e[_0x4870f1(0x2c9)](_0x4870f1(0x220)),{'id':_0x4cbdeb[_0x4870f1(0x273)],'name':_0x4cbdeb['setDescripcion']}),_0x5bf16e['querySelector'](_0x4870f1(0x2d7))['addEventListener']('input',function(){updateVariantComponents(_0x56a2c8);}),_0x5bf16e[_0x4870f1(0x2c9)](_0x4870f1(0x26a))[_0x4870f1(0x23c)](_0x4870f1(0x2a5),function(){var _0x33444c=_0x4870f1;_0x5bf16e[_0x33444c(0x2f4)](),updateVariantComponents(_0x56a2c8);});}),_0x55fa18[_0x357e78(0x2d0)][_0x357e78(0x2c9)](_0x357e78(0x2e2))[_0x357e78(0x23c)](_0x357e78(0x2a5),function(){var _0x2f272a=_0x357e78,_0x170c7c=document[_0x2f272a(0x2a8)](_0x2f272a(0x318)),_0x2a4a1c=Date[_0x2f272a(0x336)]();_0x170c7c['dataset'][_0x2f272a(0x222)]=_0x2a4a1c,_0x170c7c['innerHTML']=_0x2f272a(0x319)+_0x2a4a1c+_0x2f272a(0x283),_0x55fa18['appendChild'](_0x170c7c),initProdSearch(_0x170c7c['querySelector'](_0x2f272a(0x220))),_0x170c7c[_0x2f272a(0x2c9)](_0x2f272a(0x2d7))[_0x2f272a(0x23c)](_0x2f272a(0x225),function(){updateVariantComponents(_0x56a2c8);}),_0x170c7c[_0x2f272a(0x2c9)](_0x2f272a(0x26a))[_0x2f272a(0x23c)]('click',function(){var _0x3cc1c7=_0x2f272a;_0x170c7c[_0x3cc1c7(0x2f4)](),updateVariantComponents(_0x56a2c8);});});}function updateVariantComponents(_0x4a53ba){var _0x3c5253=_0x7616fb,_0xd96dfd=document[_0x3c5253(0x2d1)](_0x3c5253(0x339)+_0x4a53ba+_0x3c5253(0x24f)),_0x46b6f2=Array[_0x3c5253(0x204)](_0xd96dfd['children'])[_0x3c5253(0x284)](function(_0x3e2d4a){var _0x13e097=_0x3c5253,_0x58dbd2=_0x3e2d4a[_0x13e097(0x2c9)](_0x13e097(0x220)),_0x3b0c4b=_0x58dbd2[_0x13e097(0x276)],_0x149de2=+_0x3e2d4a[_0x13e097(0x2c9)](_0x13e097(0x2d7))[_0x13e097(0x2de)]||0x0;return _0x3b0c4b?{'setItemId':_0x3b0c4b['id'],'setDescripcion':_0x3b0c4b[_0x13e097(0x2b9)],'setCantidad':_0x149de2}:null;})[_0x3c5253(0x2b6)](_0x1d915b=>_0x1d915b);newItems[_0x4a53ba][_0x3c5253(0x26f)]=_0x46b6f2;}function initVariantBranches(_0x3d3fa6){var _0x453e0f=_0x7616fb;const _0x33f9a0=getAllWarehouses();var _0x24ac21=document['getElementById'](_0x453e0f(0x339)+_0x3d3fa6+_0x453e0f(0x2e0));_0x24ac21[_0x453e0f(0x282)]='',newItems[_0x3d3fa6][_0x453e0f(0x313)][_0x453e0f(0x280)](function(_0x281e20){var _0x15ee7e=_0x453e0f,_0x46ecb6=_0x33f9a0['find'](_0x23de39=>_0x23de39[_0x15ee7e(0x247)]==_0x281e20[_0x15ee7e(0x2f5)]),_0x153e7e=document[_0x15ee7e(0x2a8)](_0x15ee7e(0x318));_0x153e7e['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x281e20[_0x15ee7e(0x2f5)]+_0x15ee7e(0x2ae)+_0x46ecb6['setWarehouseName']+_0x15ee7e(0x308)+_0x281e20[_0x15ee7e(0x2f5)]+_0x15ee7e(0x266)+_0x281e20['setStockInitial']+_0x15ee7e(0x31e)+_0x281e20[_0x15ee7e(0x2f5)]+_0x15ee7e(0x266)+_0x281e20[_0x15ee7e(0x24c)]+'\x22>',_0x24ac21['appendChild'](_0x153e7e),_0x153e7e['querySelectorAll'](_0x15ee7e(0x225))[_0x15ee7e(0x280)](function(_0x2733fb){_0x2733fb['addEventListener']('input',function(){updateVariantBranches(_0x3d3fa6);});});}),_0x33f9a0['forEach'](function(_0x20f205){var _0x3d438d=_0x453e0f;if(!newItems[_0x3d3fa6][_0x3d438d(0x313)][_0x3d438d(0x20a)](_0x542aa4=>_0x542aa4[_0x3d438d(0x2f5)]===_0x20f205[_0x3d438d(0x247)])){var _0x422359=document[_0x3d438d(0x2a8)](_0x3d438d(0x318));_0x422359[_0x3d438d(0x282)]=_0x3d438d(0x23b)+_0x20f205['setWarehouseId']+_0x3d438d(0x2a0)+_0x20f205[_0x3d438d(0x2a7)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x20f205['setWarehouseId']+_0x3d438d(0x31e)+_0x20f205[_0x3d438d(0x247)]+'\x22>',_0x24ac21[_0x3d438d(0x28e)](_0x422359),_0x422359['querySelectorAll'](_0x3d438d(0x225))[_0x3d438d(0x280)](function(_0x26f56a){var _0x2a8209=_0x3d438d;_0x26f56a[_0x2a8209(0x23c)](_0x2a8209(0x225),function(){updateVariantBranches(_0x3d3fa6);});});}});}function updateVariantBranches(_0x3cce04){var _0x376dec=_0x7616fb,_0x2fc5c5=document[_0x376dec(0x2d1)](_0x376dec(0x339)+_0x3cce04+_0x376dec(0x2e0)),_0x1d5834=[];_0x2fc5c5[_0x376dec(0x2f2)](_0x376dec(0x318))[_0x376dec(0x280)](function(_0x1c77b8){var _0x15248c=_0x376dec,_0x1bbcdb=_0x1c77b8[_0x15248c(0x2c9)](_0x15248c(0x20f));if(_0x1bbcdb['checked']){var _0x17a3ec=+_0x1bbcdb[_0x15248c(0x262)]['id'],_0x3edeeb=+_0x1c77b8[_0x15248c(0x2c9)](_0x15248c(0x25a))[_0x15248c(0x2de)]||0x0,_0x558d2f=+_0x1c77b8[_0x15248c(0x2c9)]('.branchMin')[_0x15248c(0x2de)]||0x0;_0x1d5834[_0x15248c(0x200)]({'setWarehouseCode':_0x17a3ec,'setStockInitial':_0x3edeeb,'setStockMinimum':_0x558d2f});}}),newItems[_0x3cce04][_0x376dec(0x313)]=_0x1d5834;}async function storeOfflineProduct(_0x226089){var _0x314744=_0x7616fb;try{const _0x4cb84a=await createCartStore(''),_0x24a80d=_0x4cb84a[_0x314744(0x2f1)](_0x314744(0x219),'readwrite'),_0x2fac2d=_0x24a80d[_0x314744(0x330)](_0x314744(0x219));_0x2fac2d['add'](_0x226089),_0x24a80d['oncomplete']=()=>{var _0x346332=_0x314744;console[_0x346332(0x2dc)](_0x346332(0x210));},_0x24a80d['onerror']=_0x5e824c=>{var _0x15c7b7=_0x314744;console[_0x15c7b7(0x234)](_0x15c7b7(0x314),_0x5e824c[_0x15c7b7(0x30b)]['error']);};}catch(_0x4a13aa){console['error'](_0x314744(0x2c2),_0x4a13aa);}}document[_0x7616fb(0x2d1)](_0x7616fb(0x2e4))[_0x7616fb(0x23c)](_0x7616fb(0x2a5),async function(_0x3c5883){var _0x8b1e21=_0x7616fb;_0x3c5883[_0x8b1e21(0x2d5)]();const _0x44fe7c=document['getElementById'](_0x8b1e21(0x30c)),_0x52f22e=document[_0x8b1e21(0x2d1)](_0x8b1e21(0x270))['value'];if(!_0x44fe7c[_0x8b1e21(0x2de)][_0x8b1e21(0x31f)]()&&_0x52f22e==0x0){ntfShow(_0x8b1e21(0x2f8),0x2,0x1);return;}_0x52f22e==0x1&&(_0x44fe7c[_0x8b1e21(0x2de)]='',baseItem[_0x8b1e21(0x333)]='');const _0x2f8217=document['getElementById'](_0x8b1e21(0x32d));if(!_0x2f8217['value'][_0x8b1e21(0x31f)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0xc6d758=document[_0x8b1e21(0x2d1)](_0x8b1e21(0x1f4));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x12509d=document[_0x8b1e21(0x2d1)]('windowId')['value'],_0x1ad8b4=window_options[_0x12509d][_0x8b1e21(0x232)],_0x33db6d=[];newItems[_0x8b1e21(0x280)](_0x1c26ef=>{var _0x1cad14=_0x8b1e21;const _0x93119c=generateNumericUniqId();_0x1c26ef[_0x1cad14(0x292)][_0x1cad14(0x280)](_0x3ea18e=>{var _0x141599=_0x1cad14;const _0x2a045f=generateNumericUniqId();_0x3ea18e[_0x141599(0x272)]=_0x2a045f;const _0x5c6ffc={'id':_0x2a045f,'setIdProducto':_0x93119c,'setCodProducto':_0x1c26ef[_0x141599(0x333)],'setDescripcion':_0x1c26ef['setItemName'],'setItemDescription':_0x1c26ef[_0x141599(0x2ef)],'setBatchExpirationDate':_0x1c26ef[_0x141599(0x1f8)],'setBatchName':'','setCategoria':_0x1c26ef[_0x141599(0x21c)][0x0]||'','setMarca':_0x1c26ef[_0x141599(0x21a)][0x0]||'','setConversionFactor':parseFloat(_0x3ea18e['setFactor']),'setImages':[],'setImg':_0x141599(0x268),'setInventariable':0x1,'setItemIsBought':_0x1c26ef[_0x141599(0x31a)]?0x1:0x0,'setItemIsSold':_0x1c26ef[_0x141599(0x29f)]?0x1:0x0,'setPorcentajeIgv':_0x1c26ef[_0x141599(0x230)],'setPrinters':[],'setTaxId':_0x1c26ef[_0x141599(0x31d)],'setTipAfeIgv':_0x1c26ef[_0x141599(0x207)],'setUnidad':_0x3ea18e[_0x141599(0x296)],'setUnidadCodigo':_0x3ea18e[_0x141599(0x296)],'setItemUnitAlias':_0x3ea18e[_0x141599(0x27e)],'currency_data':[{'currency':_0x1ad8b4,'setMtoPrecioCostoUnitario':_0x3ea18e[_0x141599(0x206)],'setMtoPrecioUnitario':_0x3ea18e['setPrice'],'setPriceLists':[]}],'sucursales':_0x1c26ef[_0x141599(0x313)][_0x141599(0x284)](_0x545369=>({'setIdSucursal':_0x545369[_0x141599(0x2f5)],'setSucursalStock':_0x545369[_0x141599(0x22f)]['toString'](),'setWarehouseStockMin':_0x545369[_0x141599(0x24c)]['toString']()})),'setItemFree':_0x1c26ef[_0x141599(0x270)],'setItemBarCode':_0x1c26ef['setItemBarCode'],'setItemBrands':_0x1c26ef[_0x141599(0x21a)][_0x141599(0x290)](),'setItemCategories':_0x1c26ef[_0x141599(0x21c)][_0x141599(0x290)](),'setItemComponents':_0x1c26ef[_0x141599(0x26f)][_0x141599(0x284)](_0x31f7ce=>({..._0x31f7ce})),'setItemImages':_0x1c26ef['setItemImages'][_0x141599(0x290)](),'setItemVariantName':_0x1c26ef[_0x141599(0x245)],'setItemVariantValues':{..._0x1c26ef['setItemVariantValues']}};_0x33db6d[_0x141599(0x200)](_0x5c6ffc),(_0xc6d758[_0x141599(0x2b5)]||_0x52f22e==0x1)&&addToCart(_0x5c6ffc);});}),console['log'](_0x8b1e21(0x263),newItems),await finalizeImport(_0x33db6d,newItems,![]);}),[_0x7616fb(0x1f3),_0x7616fb(0x2aa)][_0x7616fb(0x280)](_0x285324=>dropZone[_0x7616fb(0x23c)](_0x285324,_0x250c4d=>{var _0x1a5b90=_0x7616fb;_0x250c4d[_0x1a5b90(0x2d5)](),dropZone[_0x1a5b90(0x322)][_0x1a5b90(0x328)]('dragover');})),['dragleave','drop']['forEach'](_0x8e1e5c=>dropZone[_0x7616fb(0x23c)](_0x8e1e5c,_0x4b620c=>{var _0x55d15f=_0x7616fb;_0x4b620c[_0x55d15f(0x2d5)](),dropZone[_0x55d15f(0x322)][_0x55d15f(0x2f4)]('dragover');})),dropZone[_0x7616fb(0x23c)](_0x7616fb(0x2eb),_0x3dfcf5=>{var _0x5664b2=_0x7616fb;const _0x2b9deb=_0x3dfcf5[_0x5664b2(0x29c)][_0x5664b2(0x323)][0x0];if(!_0x2b9deb)return;fileInput[_0x5664b2(0x323)]=_0x3dfcf5[_0x5664b2(0x29c)]['files'],dropZone['querySelector']('.drop-zone__prompt')[_0x5664b2(0x26d)]=_0x2b9deb[_0x5664b2(0x2b9)],removeBtn[_0x5664b2(0x213)]=![],fileInput[_0x5664b2(0x2c7)](new Event(_0x5664b2(0x310)));}),removeBtn[_0x7616fb(0x23c)](_0x7616fb(0x2a5),()=>{var _0x420dd7=_0x7616fb;fileInput['value']='',dropZone[_0x420dd7(0x2c9)](_0x420dd7(0x2ee))[_0x420dd7(0x26d)]=_0x420dd7(0x271),removeBtn['hidden']=!![],progressBar[_0x420dd7(0x316)][_0x420dd7(0x28a)]=_0x420dd7(0x2a4),statusDiv[_0x420dd7(0x26d)]='',uploadBtn[_0x420dd7(0x312)]=!![];});const exportBtn=document[_0x7616fb(0x2d1)](_0x7616fb(0x291));exportBtn[_0x7616fb(0x23c)](_0x7616fb(0x2a5),onClickExportarItems);async function onClickExportarItems(){var _0x35ec6f=_0x7616fb;if(!Array[_0x35ec6f(0x261)](products)||!products[_0x35ec6f(0x2e7)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x126782=await fetch(_0x35ec6f(0x256));if(!_0x126782['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x3abb96=await _0x126782['arrayBuffer'](),_0x2c6fc3=document[_0x35ec6f(0x2d1)](_0x35ec6f(0x247))[_0x35ec6f(0x2de)];let _0x4f2db7=products;const _0x197d42=getUserPermissionApiERP(0x2);_0x197d42==0x1&&(_0x4f2db7=products['filter'](_0x51876d=>Array[_0x35ec6f(0x261)](_0x51876d[_0x35ec6f(0x233)])&&_0x51876d['sucursales'][_0x35ec6f(0x300)](_0x23e5fc=>String(_0x23e5fc['setIdSucursal'])==String(_0x2c6fc3))));const _0x4dc108=_0x4f2db7['reduce']((_0x479856,_0x12e6e7)=>{var _0x453a39=_0x35ec6f;const _0x5ac5b9=_0x12e6e7[_0x453a39(0x2b1)];if(!_0x479856[_0x5ac5b9])_0x479856[_0x5ac5b9]=[];return _0x479856[_0x5ac5b9][_0x453a39(0x200)](_0x12e6e7),_0x479856;},{}),_0x6c6de8=Object[_0x35ec6f(0x26e)](_0x4dc108)[_0x35ec6f(0x284)](_0x586154=>{var _0x5c3b9b=_0x35ec6f;const _0x1f3701=_0x586154[0x0],_0x361dfc=_0x586154[0x1]||{},_0x52ff4f=_0x586154[0x2]||{};function _0xf5b7a6(_0x1a2056,_0x59fdec,_0x2acb3a){var _0x333889=_0x3b43;if(!_0x1a2056||!Array['isArray'](_0x1a2056[_0x333889(0x2ba)]))return'';const _0x309c80=_0x1a2056['currency_data'][_0x333889(0x20a)](_0x46ea6a=>_0x46ea6a[_0x333889(0x32a)]===_0x59fdec);return _0x309c80?_0x309c80[_0x2acb3a]:'';}return{'id':_0x1f3701[_0x5c3b9b(0x2b1)],'setItemType':_0x1f3701['setItemType'],'setCodProducto':_0x1f3701[_0x5c3b9b(0x23d)],'setDescripcion':_0x1f3701['setDescripcion'],'setItemDescription':_0x1f3701[_0x5c3b9b(0x2ef)],'setItemIsSold':_0x1f3701[_0x5c3b9b(0x29f)],'setItemIsBought':_0x1f3701[_0x5c3b9b(0x31a)],'setCategoria':_0x1f3701[_0x5c3b9b(0x20e)],'setMarca':_0x1f3701[_0x5c3b9b(0x326)],'setTaxId':_0x1f3701['setTaxId'],'setUnitId':_0x1f3701['id'],'setItemBarCode':_0x1f3701['setItemBarCode'],'setUnidadCodigo':_0x1f3701[_0x5c3b9b(0x2b8)],'setItemUnitAlias':_0x1f3701['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0xf5b7a6(_0x1f3701,_0x5c3b9b(0x2af),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0xf5b7a6(_0x1f3701,'PEN','setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0xf5b7a6(_0x1f3701,_0x5c3b9b(0x250),_0x5c3b9b(0x293)),'USD_setMtoPrecioCostoUnitario':_0xf5b7a6(_0x1f3701,_0x5c3b9b(0x250),_0x5c3b9b(0x237)),'setItemCommissionPercentage':_0x1f3701[_0x5c3b9b(0x2ff)]?parseFloat(_0x1f3701[_0x5c3b9b(0x2ff)]):'','setUnitId2':_0x361dfc['id']??'','setItemBarCode2':_0x361dfc['setItemBarCode']??'','setUnidadCodigo2':_0x361dfc[_0x5c3b9b(0x2b8)]??'','setItemUnitAlias2':_0x361dfc[_0x5c3b9b(0x29b)]??'','setUnidadEquivalencia2':_0x361dfc['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0xf5b7a6(_0x361dfc,_0x5c3b9b(0x2af),_0x5c3b9b(0x293))??'','PEN_setMtoPrecioCostoUnitario2':_0xf5b7a6(_0x361dfc,_0x5c3b9b(0x2af),_0x5c3b9b(0x237))??'','USD_setMtoPrecioUnitario2':_0xf5b7a6(_0x361dfc,'USD',_0x5c3b9b(0x293))??'','USD_setMtoPrecioCostoUnitario2':_0xf5b7a6(_0x361dfc,'USD','setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x361dfc[_0x5c3b9b(0x2ff)]?parseFloat(_0x361dfc['setItemCommissionPercentage']):'','setUnitId3':_0x52ff4f['id']??'','setItemBarCode3':_0x52ff4f[_0x5c3b9b(0x2ca)]??'','setUnidadCodigo3':_0x52ff4f[_0x5c3b9b(0x2b8)]??'','setItemUnitAlias3':_0x52ff4f[_0x5c3b9b(0x29b)]??'','setUnidadEquivalencia3':_0x52ff4f[_0x5c3b9b(0x251)]??'','PEN_setMtoPrecioUnitario3':_0xf5b7a6(_0x52ff4f,'PEN',_0x5c3b9b(0x293))??'','PEN_setMtoPrecioCostoUnitario3':_0xf5b7a6(_0x52ff4f,_0x5c3b9b(0x2af),_0x5c3b9b(0x237))??'','USD_setMtoPrecioUnitario3':_0xf5b7a6(_0x52ff4f,_0x5c3b9b(0x250),_0x5c3b9b(0x293))??'','USD_setMtoPrecioCostoUnitario3':_0xf5b7a6(_0x52ff4f,_0x5c3b9b(0x250),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage3':_0x52ff4f[_0x5c3b9b(0x2ff)]?parseFloat(_0x52ff4f['setItemCommissionPercentage']):'','setInventariable':_0x1f3701[_0x5c3b9b(0x2da)],'setSucursalStock':_0x197d42==0x1?_0x1f3701[_0x5c3b9b(0x233)]['find'](_0x502398=>String(_0x502398[_0x5c3b9b(0x1fb)])==String(_0x2c6fc3))[_0x5c3b9b(0x1f7)]:'','setWarehouseStockMin':_0x197d42==0x1?_0x1f3701[_0x5c3b9b(0x233)][_0x5c3b9b(0x20a)](_0x2d869c=>String(_0x2d869c['setIdSucursal'])==String(_0x2c6fc3))[_0x5c3b9b(0x277)]:'','setBatchName':_0x1f3701[_0x5c3b9b(0x208)],'setBatchExpirationDate':_0x1f3701['setBatchExpirationDate'],..._0x1f3701['setItemVariantValues']};});try{JSON[_0x35ec6f(0x2cc)](_0x6c6de8);}catch(_0x346834){console[_0x35ec6f(0x234)]('ERROR:\x20plainProducts\x20no\x20serializable:',_0x346834),ntfShow(_0x35ec6f(0x2a9));return;}statusDiv[_0x35ec6f(0x26d)]=_0x35ec6f(0x2bb),progressBar[_0x35ec6f(0x316)]['display']=_0x35ec6f(0x28d),progressBar[_0x35ec6f(0x2de)]=0x0,itemWorker[_0x35ec6f(0x267)]({'action':_0x35ec6f(0x224),'products':_0x6c6de8,'plantillaBuf':_0x3abb96},[_0x3abb96]);}catch(_0x1014fa){console[_0x35ec6f(0x234)](_0x1014fa),ntfShow(_0x35ec6f(0x258)+_0x1014fa[_0x35ec6f(0x22d)]);}}itemWorker[_0x7616fb(0x25f)]=({data:_0x4f7ffd})=>{var _0x5a2546=_0x7616fb;const {type:_0x5a1323,payload:_0x113913}=_0x4f7ffd;_0x5a1323===_0x5a2546(0x2ec)&&(progressBar[_0x5a2546(0x316)][_0x5a2546(0x28a)]=_0x5a2546(0x28d),progressBar[_0x5a2546(0x2de)]=_0x113913[_0x5a2546(0x2c1)],statusDiv['textContent']=_0x113913[_0x5a2546(0x22d)]);_0x5a1323===_0x5a2546(0x203)&&(newItemsExcel=_0x113913[_0x5a2546(0x2ad)],statusDiv[_0x5a2546(0x26d)]='✅\x20'+newItemsExcel['length']+_0x5a2546(0x1f9),uploadBtn['disabled']=![],progressBar[_0x5a2546(0x2de)]=0x64,console['log'](newItemsExcel));_0x5a1323==='error'&&(statusDiv[_0x5a2546(0x26d)]='❌\x20Error:\x20'+_0x113913,progressBar[_0x5a2546(0x316)]['display']=_0x5a2546(0x2a4));if(_0x5a1323===_0x5a2546(0x243)){const {wbout:_0x40ebcb,count:_0x100aef}=_0x113913,_0x2fce7c=new Blob([_0x40ebcb],{'type':_0x5a2546(0x2bf)}),_0x4f6a2a=URL['createObjectURL'](_0x2fce7c),_0x15ab6e=document[_0x5a2546(0x2a8)]('a'),_0x58a77c=new Date()['toISOString']()['slice'](0x0,0xa);_0x15ab6e[_0x5a2546(0x287)]=_0x5a2546(0x306)+_0x58a77c+_0x5a2546(0x28b),_0x15ab6e['href']=_0x4f6a2a,_0x15ab6e[_0x5a2546(0x2a5)](),URL[_0x5a2546(0x248)](_0x4f6a2a),statusDiv[_0x5a2546(0x26d)]='✅\x20Exportación\x20completada:\x20'+_0x100aef+_0x5a2546(0x226),progressBar[_0x5a2546(0x316)][_0x5a2546(0x28a)]=_0x5a2546(0x2a4);}},fileInput['addEventListener']('change',async _0xb01621=>{var _0x3ed569=_0x7616fb;const _0x1e7f22=_0xb01621[_0x3ed569(0x30b)][_0x3ed569(0x323)][0x0];if(!_0x1e7f22)return;uploadBtn[_0x3ed569(0x312)]=!![],newItemsExcel=null,statusDiv[_0x3ed569(0x26d)]='',progressBar[_0x3ed569(0x316)][_0x3ed569(0x28a)]=_0x3ed569(0x2a4),dropZone[_0x3ed569(0x2c9)](_0x3ed569(0x2ee))[_0x3ed569(0x26d)]=_0x1e7f22['name'],removeBtn[_0x3ed569(0x213)]=![];try{const _0x443929=await _0x1e7f22[_0x3ed569(0x29a)]();itemWorker[_0x3ed569(0x267)]({'action':'import','buf':_0x443929,'maxRows':0x1388});}catch(_0x1e996c){statusDiv[_0x3ed569(0x26d)]=_0x3ed569(0x20c);}finally{fileInput[_0x3ed569(0x2de)]='';}}),uploadBtn['addEventListener'](_0x7616fb(0x2a5),async()=>{var _0x179c36=_0x7616fb;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5622e0=document[_0x179c36(0x2d1)](_0x179c36(0x247))['value'],_0x5d7016=[];newItemsExcel[_0x179c36(0x280)](_0x48b006=>{var _0x4ff994=_0x179c36;const _0x4607c0=Boolean(_0x48b006[_0x4ff994(0x273)]),_0x3edb28=_0x4607c0?_0x48b006[_0x4ff994(0x273)]:generateNumericUniqId();_0x48b006[_0x4ff994(0x313)]=[{'setStockInitial':_0x48b006['setStockInitial'],'setStockMinimum':_0x48b006[_0x4ff994(0x24c)],'setWarehouseCode':_0x5622e0}],_0x48b006['setItemUnits']['forEach'](_0x33d907=>{var _0x5c1f1b=_0x4ff994;const _0x5d2e5e=Boolean(_0x33d907[_0x5c1f1b(0x272)]),_0x1a705e=_0x5d2e5e?_0x33d907[_0x5c1f1b(0x272)]:generateNumericUniqId();_0x33d907[_0x5c1f1b(0x272)]=_0x1a705e;const _0x3789d8=[];_0x3789d8[_0x5c1f1b(0x200)]({'currency':_0x5c1f1b(0x2af),'setMtoPrecioCostoUnitario':_0x33d907['setCost'],'setMtoPrecioUnitario':_0x33d907[_0x5c1f1b(0x2b2)],'setPriceLists':[]});const _0x1d9cc7=_0x33d907[_0x5c1f1b(0x22c)]!=null&&_0x33d907[_0x5c1f1b(0x21e)]!=null&&(!isNaN(_0x33d907[_0x5c1f1b(0x22c)])||!isNaN(_0x33d907[_0x5c1f1b(0x21e)]));_0x1d9cc7&&_0x3789d8[_0x5c1f1b(0x200)]({'currency':_0x5c1f1b(0x250),'setMtoPrecioCostoUnitario':_0x33d907['setCostUSD'],'setMtoPrecioUnitario':_0x33d907[_0x5c1f1b(0x21e)],'setPriceLists':[]});const _0x4fed78={'id':_0x1a705e,'setIdProducto':_0x3edb28,'setItemBarCode':_0x33d907[_0x5c1f1b(0x2ca)],'setCodProducto':_0x48b006[_0x5c1f1b(0x333)],'setDescripcion':_0x48b006[_0x5c1f1b(0x24a)],'setItemDescription':_0x48b006['setItemDescription'],'setBatchExpirationDate':_0x48b006['setItemDateExpiry'],'setBatchName':_0x48b006[_0x5c1f1b(0x208)],'setItemIsSold':_0x48b006['setItemIsSold'],'setItemIsBought':_0x48b006[_0x5c1f1b(0x31a)],'setCategoria':_0x48b006[_0x5c1f1b(0x21c)][0x0]||'','setMarca':_0x48b006['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x33d907[_0x5c1f1b(0x2c6)]),'setImages':[],'setImg':_0x5c1f1b(0x268),'setInventariable':_0x48b006[_0x5c1f1b(0x320)],'setPorcentajeIgv':_0x48b006[_0x5c1f1b(0x230)],'setPrinters':[],'setTaxId':_0x48b006[_0x5c1f1b(0x31d)],'setTipAfeIgv':_0x48b006[_0x5c1f1b(0x207)],'setUnidad':_0x33d907[_0x5c1f1b(0x296)],'setUnidadCodigo':_0x33d907[_0x5c1f1b(0x296)],'setItemUnitAlias':_0x33d907[_0x5c1f1b(0x27e)],'setItemCommissionPercentage':_0x33d907['setItemCommissionPercentage'],'currency_data':_0x3789d8,'sucursales':_0x48b006[_0x5c1f1b(0x313)][_0x5c1f1b(0x284)](_0x674a71=>({'setIdSucursal':_0x674a71[_0x5c1f1b(0x2f5)],'setSucursalStock':_0x674a71[_0x5c1f1b(0x22f)][_0x5c1f1b(0x337)](),'setWarehouseStockMin':_0x674a71[_0x5c1f1b(0x24c)][_0x5c1f1b(0x337)]()})),'setItemFree':_0x48b006[_0x5c1f1b(0x270)],'setItemBrands':_0x48b006['setItemBrands'][_0x5c1f1b(0x290)](),'setItemCategories':_0x48b006['setItemCategories'][_0x5c1f1b(0x290)](),'setItemComponents':_0x48b006[_0x5c1f1b(0x26f)][_0x5c1f1b(0x284)](_0x5126f2=>({..._0x5126f2})),'setItemImages':_0x48b006[_0x5c1f1b(0x2e3)][_0x5c1f1b(0x290)](),'setItemVariantName':_0x48b006['setItemVariantName'],'setItemVariantValues':{..._0x48b006[_0x5c1f1b(0x2c3)]}},_0x450a85=products['findIndex'](_0x537718=>_0x537718['id']==_0x1a705e&&_0x537718['setIdProducto']==_0x3edb28);_0x450a85>-0x1?Object[_0x5c1f1b(0x2d8)](products[_0x450a85],_0x4fed78):_0x5d7016[_0x5c1f1b(0x200)](_0x4fed78);});}),console[_0x179c36(0x2dc)](_0x179c36(0x263),newItemsExcel),await finalizeImport(_0x5d7016,newItemsExcel,!![]);});function initializeFormImages(){var _0x3ff491=_0x7616fb;currentImages=Array(MAX_IMAGES)[_0x3ff491(0x214)](null),imgC[_0x3ff491(0x282)]='',baseItem['setItemImages']=[];for(var _0x1b8919=0x0;_0x1b8919<MAX_IMAGES;_0x1b8919++){(function(_0x29767f){var _0x21e0fa=_0x3ff491,_0x1bd54f=document[_0x21e0fa(0x2a8)](_0x21e0fa(0x318));_0x1bd54f[_0x21e0fa(0x2ac)]=_0x21e0fa(0x2b7),_0x1bd54f[_0x21e0fa(0x262)][_0x21e0fa(0x222)]=_0x29767f;var _0xaa9881=document[_0x21e0fa(0x2a8)](_0x21e0fa(0x225));_0xaa9881['type']=_0x21e0fa(0x202),_0xaa9881[_0x21e0fa(0x2ce)]='image/*',_0xaa9881[_0x21e0fa(0x316)][_0x21e0fa(0x28a)]=_0x21e0fa(0x2a4);var _0x13c808=document[_0x21e0fa(0x2a8)](_0x21e0fa(0x265));_0x13c808[_0x21e0fa(0x26d)]='+',_0x1bd54f[_0x21e0fa(0x28e)](_0xaa9881),_0x1bd54f['appendChild'](_0x13c808),imgC[_0x21e0fa(0x28e)](_0x1bd54f),_0x1bd54f['addEventListener'](_0x21e0fa(0x2a5),function(){_0xaa9881['click']();}),_0xaa9881[_0x21e0fa(0x23c)](_0x21e0fa(0x310),function(_0xf02f0b){var _0x52e9b8=_0x21e0fa,_0x382a93=_0xf02f0b['target'][_0x52e9b8(0x323)][0x0];if(!_0x382a93)return removeImg(_0x29767f);var _0x25404c=new FileReader();_0x25404c['onload']=function(_0x574939){var _0x503699=_0x52e9b8;_0x1bd54f[_0x503699(0x282)]=_0x503699(0x286)+_0x574939[_0x503699(0x30b)][_0x503699(0x29e)]+'\x22>';var _0x12a7c4=document[_0x503699(0x2a8)](_0x503699(0x265));_0x12a7c4[_0x503699(0x2ac)]='remove',_0x12a7c4['textContent']='×',_0x12a7c4[_0x503699(0x23c)](_0x503699(0x2a5),function(_0x3e81b1){var _0x323027=_0x503699;_0x3e81b1[_0x323027(0x2cb)](),removeImg(_0x29767f);}),_0x1bd54f[_0x503699(0x28e)](_0x12a7c4),currentImages[_0x29767f]=_0x382a93,baseItem[_0x503699(0x2e3)]=currentImages[_0x503699(0x2b6)](function(_0xa98c97){return _0xa98c97;});},_0x25404c['readAsDataURL'](_0x382a93);});}(_0x1b8919));}}function initializeFormIsSoldIsBought(_0x4d8cb2=0x0){var _0x3c9c20=_0x7616fb;let _0x1037d8,_0xa76906;if(_0x4d8cb2!=0x0){const _0x4370b2=products[_0x3c9c20(0x20a)](_0x49fef4=>_0x49fef4['id']==_0x4d8cb2);_0x1037d8=_0x4370b2[_0x3c9c20(0x31a)]==0x1||_0x4370b2['setItemIsBought']==!![]?!![]:![],_0xa76906=_0x4370b2['setItemIsSold']==0x1||_0x4370b2[_0x3c9c20(0x29f)]==!![]?!![]:![];}else _0x1037d8=!![],_0xa76906=!![];document[_0x3c9c20(0x2d1)]('newItem_chk_buy')[_0x3c9c20(0x2b5)]=_0x1037d8,document['getElementById']('newItem_chk_sell')[_0x3c9c20(0x2b5)]=_0xa76906,baseItem[_0x3c9c20(0x31a)]=_0x1037d8,baseItem[_0x3c9c20(0x29f)]=_0xa76906;}function initializeFormInputsBasic(_0x5addc6=0x0){var _0xaf3975=_0x7616fb;let _0x4019f0,_0x3f8fcf,_0x215535,_0x2f154d,_0x3846e6,_0x5cf003;if(_0x5addc6!=0x0){const _0x3ec2b8=products[_0xaf3975(0x20a)](_0x38a5d7=>_0x38a5d7['id']==_0x5addc6);_0x4019f0=_0x3ec2b8[_0xaf3975(0x23e)]??'1',_0x3f8fcf=_0x3ec2b8[_0xaf3975(0x23d)],_0x215535=_0x3ec2b8['setDescripcion'],_0x2f154d=_0x3ec2b8['setItemDescription'],_0x3846e6=_0x3ec2b8[_0xaf3975(0x235)]??'',_0x5cf003=_0x3ec2b8[_0xaf3975(0x2ca)];}else _0x4019f0='1',_0x3f8fcf=getNextCode(products),_0x215535='',_0x2f154d='',_0x3846e6='',_0x5cf003='';document['getElementById'](_0xaf3975(0x1f5))['value']=_0x4019f0,document[_0xaf3975(0x2d1)](_0xaf3975(0x30c))[_0xaf3975(0x2de)]=_0x3f8fcf,document[_0xaf3975(0x2d1)](_0xaf3975(0x32d))['value']=_0x215535,document[_0xaf3975(0x2d1)](_0xaf3975(0x22a))[_0xaf3975(0x2de)]=_0x2f154d,document['getElementById']('inputItemDateExpiry')['value']=_0x3846e6,document[_0xaf3975(0x2d1)](_0xaf3975(0x1fd))[_0xaf3975(0x2de)]=_0x5cf003,baseItem['setItemType']=_0x4019f0,baseItem[_0xaf3975(0x333)]=_0x3f8fcf,baseItem[_0xaf3975(0x24a)]=_0x215535,baseItem['setItemDescription']=_0x2f154d,baseItem[_0xaf3975(0x1f8)]=_0x3846e6,baseItem[_0xaf3975(0x2ca)]=_0x5cf003,document[_0xaf3975(0x2d1)](_0xaf3975(0x1f4))[_0xaf3975(0x2b5)]=![];}function initializeFormTax(_0xe9fc05=0x0){var _0x3a0a2c=_0x7616fb;let _0x35fc5f;if(_0xe9fc05!=0x0){const _0x4c31f6=products['find'](_0x31a16e=>_0x31a16e['id']==_0xe9fc05);_0x35fc5f=_0x4c31f6['setTaxId'];}else _0x35fc5f=myCompany[_0x3a0a2c(0x309)];const _0x52a858=document[_0x3a0a2c(0x2d1)](_0x3a0a2c(0x338));_0x52a858['value']=_0x35fc5f,baseItem[_0x3a0a2c(0x31d)]=_0x35fc5f;const _0x4679be=company[0x0][_0x3a0a2c(0x264)][_0x3a0a2c(0x20a)](_0x90fe26=>_0x90fe26[_0x3a0a2c(0x212)]==_0x35fc5f)?.[_0x3a0a2c(0x334)]||0x0,_0x58b630=company[0x0][_0x3a0a2c(0x264)]['find'](_0x1e881b=>_0x1e881b[_0x3a0a2c(0x212)]==_0x35fc5f)?.[_0x3a0a2c(0x2c5)]||0x0;baseItem['setItemTaxCode']=_0x4679be,baseItem['setItemTaxValue']=_0x58b630;}function initializeFormCategoriesBrands(_0x33e4ad=0x0){var _0x31ce1f=_0x7616fb;baseItem['setItemCategories']=[],baseItem[_0x31ce1f(0x21a)]=[],document[_0x31ce1f(0x2c9)]('#newItem_categories_select\x20.selected_tags')['innerHTML']='',document[_0x31ce1f(0x2c9)]('#newItem_categories_select\x20.options_list')[_0x31ce1f(0x282)]='',document['querySelector'](_0x31ce1f(0x315))[_0x31ce1f(0x282)]='',document[_0x31ce1f(0x2c9)](_0x31ce1f(0x2bd))['innerHTML']='';const _0x2a91c1=myCompany[_0x31ce1f(0x21c)][_0x31ce1f(0x284)](_0x17c876=>({'setCode':_0x17c876[_0x31ce1f(0x253)],'setName':_0x17c876['setItemCategoryName']})),_0x14e59b=myCompany[_0x31ce1f(0x21a)][_0x31ce1f(0x284)](_0x5894f1=>({'setCode':_0x5894f1[_0x31ce1f(0x216)],'setName':_0x5894f1[_0x31ce1f(0x216)]}));initMulti('newItem_categories_select',_0x2a91c1),initMulti('newItem_brands_select',_0x14e59b),document['getElementById']('newItem_categories_select')['addEventListener'](_0x31ce1f(0x278),function(_0x122e04){var _0x4c4e34=_0x31ce1f;baseItem[_0x4c4e34(0x21c)]=_0x122e04['detail']['map'](_0x4aa336=>_0x4aa336[_0x4c4e34(0x2c0)]);}),document[_0x31ce1f(0x2d1)](_0x31ce1f(0x218))[_0x31ce1f(0x23c)](_0x31ce1f(0x278),function(_0xeca434){var _0x3b0f0a=_0x31ce1f;baseItem[_0x3b0f0a(0x21a)]=_0xeca434['detail']['map'](_0x4c3739=>_0x4c3739[_0x3b0f0a(0x2c0)]);});if(_0x33e4ad!=0x0){const _0x273a09=products['find'](_0x4771e6=>_0x4771e6['id']==_0x33e4ad);if(_0x273a09[_0x31ce1f(0x20e)]){const _0x59e07=document[_0x31ce1f(0x2d1)](_0x31ce1f(0x260)),_0x4772de=Array[_0x31ce1f(0x204)](_0x59e07['querySelectorAll'](_0x31ce1f(0x2a1)))[_0x31ce1f(0x20a)](_0x5c4505=>_0x5c4505['dataset']['code']==_0x273a09[_0x31ce1f(0x20e)]);_0x4772de&&_0x4772de['click']();}if(_0x273a09[_0x31ce1f(0x326)]){const _0x5b0aa5=document[_0x31ce1f(0x2d1)](_0x31ce1f(0x218)),_0x387926=Array[_0x31ce1f(0x204)](_0x5b0aa5[_0x31ce1f(0x2f2)](_0x31ce1f(0x2a1)))['find'](_0x2f543b=>_0x2f543b['dataset'][_0x31ce1f(0x2f3)]==_0x273a09['setMarca']);_0x387926&&_0x387926['click']();}}}function initializeFormUnits(){var _0x16fe52=_0x7616fb;unitCount=0x0,document[_0x16fe52(0x2d1)](_0x16fe52(0x331))['innerHTML']='',baseItem[_0x16fe52(0x292)]=[];var _0x305002=uniqueValuesArray(_0x16fe52(0x296),'setUnitName',myCompany[_0x16fe52(0x27c)]);addUnit('',_0x305002[0x3a]&&_0x305002[0x3a][_0x16fe52(0x2c0)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x8a8351=_0x7616fb;prodC['innerHTML']='',baseItem[_0x8a8351(0x26f)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x22597c=_0x7616fb;branchesC[_0x22597c(0x282)]='',baseItem[_0x22597c(0x313)]=[];const _0x3647c0=getAllWarehouses();_0x3647c0['forEach'](function(_0xac83b1){var _0x1b5541=_0x22597c,_0x57c81f=document[_0x1b5541(0x2a8)](_0x1b5541(0x318));_0x57c81f[_0x1b5541(0x282)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x1b5541(0x299)+_0x1b5541(0x324)+_0xac83b1[_0x1b5541(0x247)]+_0x1b5541(0x2ae)+_0xac83b1[_0x1b5541(0x2a7)]+_0x1b5541(0x30e)+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x1b5541(0x223)+_0xac83b1[_0x1b5541(0x247)]+'\x22>'+_0x1b5541(0x31c)+_0x1b5541(0x299)+_0x1b5541(0x241)+_0xac83b1[_0x1b5541(0x247)]+'\x22>'+_0x1b5541(0x31c)+'</div>',branchesC[_0x1b5541(0x28e)](_0x57c81f),_0x57c81f[_0x1b5541(0x2f2)](_0x1b5541(0x225))['forEach'](function(_0x5e4cc7){var _0x2ce4e0=_0x1b5541;_0x5e4cc7[_0x2ce4e0(0x23c)](_0x2ce4e0(0x225),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x528eda=_0x7616fb;baseItem['setItemVariantName']='',baseItem['setItemVariantValues']={},vgC[_0x528eda(0x282)]='',varContainer[_0x528eda(0x282)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x1b107a,_0x5de214,_0x181cc2=![]){var _0x3d4887=_0x7616fb;const _0x5c585e=0xc8,_0x1a9df7={'apiPOSsendOffline':'1','setTipoOperacion':_0x3d4887(0x23a),'setToken':company[0x0][_0x3d4887(0x27f)],'setWebhook':company[0x0][_0x3d4887(0x217)]};for(let _0x3490c7=0x0;_0x3490c7<_0x5de214[_0x3d4887(0x2e7)];_0x3490c7+=_0x5c585e){const _0x5c09b2=_0x5de214['slice'](_0x3490c7,_0x3490c7+_0x5c585e);await storeOfflineProduct({..._0x1a9df7,'newItems':_0x5c09b2});}products[_0x3d4887(0x200)](..._0x1b107a),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x3d4887(0x275)),_0x181cc2?(fileInput[_0x3d4887(0x2de)]='',uploadBtn['disabled']=!![],statusDiv[_0x3d4887(0x26d)]='',progressBar[_0x3d4887(0x316)][_0x3d4887(0x28a)]=_0x3d4887(0x2a4),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}