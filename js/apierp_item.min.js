/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.8
*/

var _0x1cb413=_0x4423;(function(_0x231add,_0x3a9158){var _0x39389b=_0x4423,_0xcacb85=_0x231add();while(!![]){try{var _0x3bfd6a=-parseInt(_0x39389b(0x20a))/0x1*(parseInt(_0x39389b(0x2d1))/0x2)+-parseInt(_0x39389b(0x1bb))/0x3*(parseInt(_0x39389b(0x2e5))/0x4)+parseInt(_0x39389b(0x249))/0x5*(-parseInt(_0x39389b(0x1db))/0x6)+-parseInt(_0x39389b(0x28c))/0x7+parseInt(_0x39389b(0x2b6))/0x8+parseInt(_0x39389b(0x2be))/0x9*(-parseInt(_0x39389b(0x21d))/0xa)+parseInt(_0x39389b(0x2de))/0xb;if(_0x3bfd6a===_0x3a9158)break;else _0xcacb85['push'](_0xcacb85['shift']());}catch(_0x148456){_0xcacb85['push'](_0xcacb85['shift']());}}}(_0x36e6,0x570c2));var _0x1ad498=(function(){var _0x437872=!![];return function(_0x17aee6,_0x57b532){var _0x3329a2=_0x437872?function(){var _0x91a989=_0x4423;if(_0x57b532){var _0x56ff69=_0x57b532[_0x91a989(0x2d2)](_0x17aee6,arguments);return _0x57b532=null,_0x56ff69;}}:function(){};return _0x437872=![],_0x3329a2;};}()),_0x3a238a=_0x1ad498(this,function(){var _0x1b40fa=_0x4423;return _0x3a238a['toString']()[_0x1b40fa(0x2d9)](_0x1b40fa(0x1c9))[_0x1b40fa(0x245)]()[_0x1b40fa(0x1e0)](_0x3a238a)[_0x1b40fa(0x2d9)](_0x1b40fa(0x1c9));});_0x3a238a();var _0x21a20a=(function(){var _0x4e9821=!![];return function(_0x38454e,_0x4d9904){var _0x55f520=_0x4e9821?function(){var _0xb49e7a=_0x4423;if(_0x4d9904){var _0xd7a86f=_0x4d9904[_0xb49e7a(0x2d2)](_0x38454e,arguments);return _0x4d9904=null,_0xd7a86f;}}:function(){};return _0x4e9821=![],_0x55f520;};}()),_0x252fa8=_0x21a20a(this,function(){var _0x32c647=_0x4423,_0x154b14=function(){var _0x18960a=_0x4423,_0x529683;try{_0x529683=Function(_0x18960a(0x2a8)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x536c24){_0x529683=window;}return _0x529683;},_0x4345fd=_0x154b14(),_0x3020fa=_0x4345fd[_0x32c647(0x284)]=_0x4345fd['console']||{},_0x4f2352=[_0x32c647(0x1af),'warn',_0x32c647(0x213),_0x32c647(0x2f7),'exception',_0x32c647(0x1b2),_0x32c647(0x29b)];for(var _0x4a4919=0x0;_0x4a4919<_0x4f2352[_0x32c647(0x260)];_0x4a4919++){var _0x3be40b=_0x21a20a[_0x32c647(0x1e0)][_0x32c647(0x250)][_0x32c647(0x1b9)](_0x21a20a),_0x447651=_0x4f2352[_0x4a4919],_0x4377f9=_0x3020fa[_0x447651]||_0x3be40b;_0x3be40b[_0x32c647(0x25d)]=_0x21a20a[_0x32c647(0x1b9)](_0x21a20a),_0x3be40b['toString']=_0x4377f9[_0x32c647(0x245)][_0x32c647(0x1b9)](_0x4377f9),_0x3020fa[_0x447651]=_0x3be40b;}});_0x252fa8();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x1cb413(0x294)](_0x1cb413(0x2e6)),unitCount=0x0,branchesC=document[_0x1cb413(0x294)](_0x1cb413(0x203)),prodC=document[_0x1cb413(0x294)](_0x1cb413(0x1e5)),vgCount=0x0,varContainer=document[_0x1cb413(0x294)](_0x1cb413(0x283)),vgC=document[_0x1cb413(0x294)]('newItem_variant_groups');const fileInput=document['getElementById'](_0x1cb413(0x21b)),progressBar=document['getElementById'](_0x1cb413(0x1b1)),statusDiv=document['getElementById'](_0x1cb413(0x2e2)),uploadBtn=document[_0x1cb413(0x294)](_0x1cb413(0x1ee));let newItemsExcel=null;const itemWorker=new Worker(_0x1cb413(0x1e7)),dropZone=document['getElementById']('drop-zone'),removeBtn=document['getElementById'](_0x1cb413(0x1f9));function showModalCreateItem(_0x5ec678){var _0xa4e019=_0x1cb413;const _0x3f92b7=document[_0xa4e019(0x294)](_0xa4e019(0x2ce)),_0xc6db6e=document[_0xa4e019(0x294)]('modalOverlayCreateItem');_0x3f92b7[_0xa4e019(0x1e1)][_0xa4e019(0x1dc)](_0xa4e019(0x2d7)),_0xc6db6e['style'][_0xa4e019(0x1aa)]=_0xa4e019(0x251);const _0x1cef5e=document[_0xa4e019(0x294)](_0xa4e019(0x227));_0x1cef5e[_0xa4e019(0x2c0)]=parseInt(_0x5ec678),baseItem[_0xa4e019(0x227)]=parseInt(_0x5ec678);const _0x43674e=document['getElementById'](_0xa4e019(0x229));_0x5ec678==0x0&&(_0x43674e[_0xa4e019(0x2a5)]=_0xa4e019(0x2a1));_0x5ec678==0x1&&(_0x43674e[_0xa4e019(0x2a5)]=_0xa4e019(0x20f));const _0x1d2463=document[_0xa4e019(0x1e6)](_0xa4e019(0x23a));for(let _0x348ead=0x0;_0x348ead<_0x1d2463[_0xa4e019(0x260)];_0x348ead++){const _0x718df5=_0x1d2463[_0x348ead];if(_0x5ec678==0x0)_0x718df5[_0xa4e019(0x1e1)][_0xa4e019(0x2af)](_0xa4e019(0x1fc));else _0x5ec678==0x1&&_0x718df5[_0xa4e019(0x1e1)][_0xa4e019(0x1dc)](_0xa4e019(0x1fc));}}function hideModalCreateItem(){var _0x3c9720=_0x1cb413;const _0x258a6b=document[_0x3c9720(0x294)](_0x3c9720(0x2ce)),_0x1737a3=document[_0x3c9720(0x294)](_0x3c9720(0x205));_0x258a6b['classList'][_0x3c9720(0x2af)]('active'),_0x1737a3[_0x3c9720(0x2e0)][_0x3c9720(0x1aa)]='none';}document['getElementById']('closeModalCreateItem')[_0x1cb413(0x242)](_0x1cb413(0x2c6),hideModalCreateItem),document[_0x1cb413(0x294)](_0x1cb413(0x205))[_0x1cb413(0x242)](_0x1cb413(0x2c6),_0x45c6df=>{var _0x17d2c2=_0x1cb413;_0x45c6df[_0x17d2c2(0x29a)]==_0x45c6df[_0x17d2c2(0x247)]&&_0x45c6df[_0x17d2c2(0x2ec)]();});function loadTaxData(){var _0x293a7=_0x1cb413;const _0x57e1cc=document[_0x293a7(0x294)](_0x293a7(0x220));_0x57e1cc[_0x293a7(0x2a5)]='',company[0x0]['setImpuestos'][_0x293a7(0x1bd)](function(_0x500d76){var _0x453d46=_0x293a7;const _0x3a7091=document['createElement'](_0x453d46(0x1df));_0x3a7091['value']=_0x500d76[_0x453d46(0x265)],_0x3a7091['innerHTML']=_0x500d76[_0x453d46(0x2b1)]+'\x20('+_0x500d76[_0x453d46(0x1ef)]+'%)',_0x500d76[_0x453d46(0x265)]==company[0x0][_0x453d46(0x2da)]&&(_0x3a7091[_0x453d46(0x218)]=!![]),_0x57e1cc[_0x453d46(0x2b8)](_0x3a7091);});}function uniqueValuesArray(_0x420ed5,_0x32a3a0,_0x4aba46){var _0x133642=_0x1cb413;const _0x26bb6d=Array[_0x133642(0x280)](new Set(_0x4aba46[_0x133642(0x286)](_0x4f9774=>{var _0x55f074=_0x133642;const _0x581da6=_0x4f9774[_0x420ed5];return typeof _0x581da6==='string'?_0x581da6[_0x55f074(0x1ed)]():_0x581da6;})['filter'](_0x150329=>_0x150329!=null&&_0x150329!=='')));return _0x26bb6d[_0x133642(0x286)](_0x1c09b1=>{var _0x500f53=_0x133642;const _0x25a844=_0x4aba46[_0x500f53(0x1bf)](_0x4dc4b9=>_0x4dc4b9[_0x420ed5]===_0x1c09b1),_0x45503e=_0x25a844&&_0x25a844[_0x32a3a0]!=null?String(_0x25a844[_0x32a3a0])[_0x500f53(0x1ed)]():_0x1c09b1;return{'setCode':_0x1c09b1,'setName':_0x45503e};});}function fillSelect(_0x1c8f2e,_0x57179b,_0x2b02a5,_0x182430){var _0x3567ef=_0x1cb413;_0x1c8f2e[_0x3567ef(0x2a5)]='',_0x57179b[_0x3567ef(0x1bd)](function(_0x203d61){var _0x2fe5e1=_0x3567ef,_0x3230c9=new Option(_0x203d61[_0x182430],_0x203d61[_0x2b02a5]);_0x1c8f2e[_0x2fe5e1(0x1dc)](_0x3230c9);});}function initMulti(_0xcd83bf,_0x380ff9){var _0x5be8c8=_0x1cb413,_0xe81d93=document[_0x5be8c8(0x294)](_0xcd83bf),_0x140648=_0xe81d93[_0x5be8c8(0x2e7)](_0x5be8c8(0x222)),_0x1d5230=_0xe81d93[_0x5be8c8(0x2e7)](_0x5be8c8(0x22b)),_0xb08543=_0xe81d93[_0x5be8c8(0x2e7)]('.selected_tags'),_0xb0a2b2=_0x380ff9[_0x5be8c8(0x252)](),_0x9c5ff5=[];function _0x535591(){var _0x53849d=_0x5be8c8;_0x1d5230[_0x53849d(0x2a5)]='',_0xb0a2b2[_0x53849d(0x2ea)](function(_0x7737f0){var _0x26e63a=_0x53849d;return _0x7737f0[_0x26e63a(0x1e8)][_0x26e63a(0x24d)]()[_0x26e63a(0x26b)](_0x140648[_0x26e63a(0x2c0)][_0x26e63a(0x24d)]())!==-0x1;})[_0x53849d(0x1bd)](function(_0x5f2d03){var _0x4ce2db=_0x53849d,_0x263c42=document[_0x4ce2db(0x2c3)](_0x4ce2db(0x1e9));_0x263c42[_0x4ce2db(0x201)]=_0x5f2d03[_0x4ce2db(0x1e8)],_0x263c42['dataset'][_0x4ce2db(0x1f1)]=_0x5f2d03[_0x4ce2db(0x27d)],_0x1d5230[_0x4ce2db(0x2b8)](_0x263c42),_0x263c42[_0x4ce2db(0x242)]('click',function(){var _0x1b14d2=_0x4ce2db;_0x9c5ff5[_0x1b14d2(0x298)](_0x5f2d03),_0xb0a2b2[_0x1b14d2(0x2bc)](_0xb0a2b2['findIndex'](function(_0x1597a0){var _0x3f7406=_0x1b14d2;return _0x1597a0[_0x3f7406(0x27d)]===_0x5f2d03[_0x3f7406(0x27d)];}),0x1),_0x140648[_0x1b14d2(0x2c0)]='',_0x18bcea(),_0x535591();});});}function _0x18bcea(){var _0x23cc62=_0x5be8c8;_0xb08543[_0x23cc62(0x2a5)]='',_0x9c5ff5[_0x23cc62(0x1bd)](function(_0x2ae6fc){var _0x203aba=_0x23cc62,_0x85871b=document['createElement'](_0x203aba(0x1e9));_0x85871b[_0x203aba(0x21c)]=_0x203aba(0x253),_0x85871b['textContent']=_0x2ae6fc[_0x203aba(0x1e8)];var _0x2fc5a9=document[_0x203aba(0x2c3)](_0x203aba(0x2ad));_0x2fc5a9['className']=_0x203aba(0x2a7),_0x2fc5a9[_0x203aba(0x201)]='×',_0x2fc5a9['addEventListener'](_0x203aba(0x2c6),function(){var _0x711b67=_0x203aba;_0xb0a2b2['push'](_0x2ae6fc);const _0x5b92bd=_0x9c5ff5[_0x711b67(0x2d6)](function(_0x50de8b){return _0x50de8b['setCode']===_0x2ae6fc['setCode'];});if(_0x5b92bd>-0x1)_0x9c5ff5[_0x711b67(0x2bc)](_0x5b92bd,0x1);_0x18bcea(),_0x535591();}),_0x85871b[_0x203aba(0x2b8)](_0x2fc5a9),_0xb08543['appendChild'](_0x85871b);}),_0xe81d93[_0x23cc62(0x282)](new CustomEvent('selectionChange',{'detail':_0x9c5ff5,'bubbles':!![]}));}return _0x140648['addEventListener'](_0x5be8c8(0x216),function(){var _0x2e3c93=_0x5be8c8;_0x1d5230['classList'][_0x2e3c93(0x2af)](_0x2e3c93(0x2c7));}),_0x140648[_0x5be8c8(0x242)]('input',_0x535591),_0x140648[_0x5be8c8(0x242)](_0x5be8c8(0x1a7),function(_0x49ba77){var _0x460198=_0x5be8c8;if(_0x49ba77[_0x460198(0x23f)]===_0x460198(0x274)){_0x49ba77['preventDefault']();const _0x3be332=_0x140648[_0x460198(0x2c0)]['trim']();if(!_0x3be332)return;const _0x381a54=_0x9c5ff5[_0x460198(0x1fa)](_0x249932=>_0x249932[_0x460198(0x1e8)]===_0x3be332),_0x317eb3=_0xb0a2b2[_0x460198(0x1fa)](_0x1aa742=>_0x1aa742[_0x460198(0x1e8)]===_0x3be332);if(!_0x381a54&&!_0x317eb3){const _0x9aaf3c={'setCode':_0x3be332,'setName':_0x3be332};_0x9c5ff5['push'](_0x9aaf3c),_0x18bcea(),_0x535591();}_0x140648[_0x460198(0x2c0)]='';}}),document['addEventListener']('click',function(_0xe37492){var _0x2a529c=_0x5be8c8;if(!_0xe81d93[_0x2a529c(0x1c0)](_0xe37492['target']))_0x1d5230['classList'][_0x2a529c(0x1dc)]('newItem_hidden');}),_0x535591(),_0x9c5ff5;}function _0x4423(_0x3c3461,_0x56227c){var _0x3060a3=_0x36e6();return _0x4423=function(_0x252fa8,_0x21a20a){_0x252fa8=_0x252fa8-0x1a2;var _0x4e9c69=_0x3060a3[_0x252fa8];return _0x4e9c69;},_0x4423(_0x3c3461,_0x56227c);}function getLastCode(_0x1c9dea){var _0x51ea4b=_0x1cb413;const _0x504bc1=_0x1c9dea[_0x51ea4b(0x286)](_0x448b07=>String(_0x448b07[_0x51ea4b(0x2d8)])[_0x51ea4b(0x1ed)]())[_0x51ea4b(0x2ea)](_0x3afc4f=>_0x3afc4f!=='');if(_0x504bc1[_0x51ea4b(0x260)]===0x0)return'';const _0xb673d1=_0x504bc1['every'](_0x22fe1b=>/^\d+$/[_0x51ea4b(0x1cd)](_0x22fe1b));if(_0xb673d1){const _0x39bc6a=_0x504bc1[_0x51ea4b(0x286)](Number),_0x2cd2c3=Math['max'](..._0x39bc6a);return String(_0x2cd2c3);}let _0x22d534;if(typeof Intl!==_0x51ea4b(0x2b4)&&Intl['Collator']){const _0x2c809f=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x51ea4b(0x2a6)});_0x22d534=_0x504bc1[_0x51ea4b(0x252)]()['sort'](_0x2c809f['compare']);}else{const _0x49c95e=_0x504bc1[_0x51ea4b(0x290)](_0x1e7b0b=>/^\d+$/[_0x51ea4b(0x1cd)](_0x1e7b0b));_0x49c95e?_0x22d534=_0x504bc1[_0x51ea4b(0x286)](Number)[_0x51ea4b(0x1de)]((_0x2c1aad,_0x5aed0b)=>_0x2c1aad-_0x5aed0b)[_0x51ea4b(0x286)](String):_0x22d534=_0x504bc1['slice']()['sort']();}return _0x22d534[_0x22d534['length']-0x1];}function getNextCode(_0x733d77){var _0x287ae4=_0x1cb413;const _0x4b0494=getLastCode(_0x733d77);if(!_0x4b0494)return'';if(/^\d+$/[_0x287ae4(0x1cd)](_0x4b0494))return String(Number(_0x4b0494)+0x1);const _0x196f64=_0x4b0494[_0x287ae4(0x226)](/^([A-Za-z]*)(\d+)$/);if(_0x196f64){const [,_0x3bede9,_0x31554c]=_0x196f64,_0x20a8fd=String(Number(_0x31554c)+0x1)['padStart'](_0x31554c[_0x287ae4(0x260)],'0');return _0x3bede9+_0x20a8fd;}return _0x4b0494;}document[_0x1cb413(0x294)]('inputItemName')['addEventListener']('input',function(_0x7f9ff){var _0x49439b=_0x1cb413;baseItem[_0x49439b(0x2e1)]=_0x7f9ff[_0x49439b(0x29a)][_0x49439b(0x2c0)];}),document['getElementById'](_0x1cb413(0x243))[_0x1cb413(0x242)](_0x1cb413(0x296),function(_0x351d17){var _0x125bdf=_0x1cb413;baseItem[_0x125bdf(0x2aa)]=_0x351d17[_0x125bdf(0x29a)][_0x125bdf(0x2c0)];}),document[_0x1cb413(0x294)]('inputItemDateExpiry')[_0x1cb413(0x242)](_0x1cb413(0x296),function(_0x18b204){var _0x3e9b61=_0x1cb413;baseItem['setItemDateExpiry']=_0x18b204['target'][_0x3e9b61(0x2c0)];}),document[_0x1cb413(0x294)]('inputItemType')['addEventListener']('change',function(_0x569032){var _0x199afb=_0x1cb413;baseItem[_0x199afb(0x275)]=_0x569032['target']['value'];}),document['getElementById']('inputItemTax')[_0x1cb413(0x242)]('change',function(_0x53ac5d){var _0xf38ffa=_0x1cb413;baseItem[_0xf38ffa(0x1a4)]=_0x53ac5d[_0xf38ffa(0x29a)]['value'];const _0x32237a=_0x53ac5d[_0xf38ffa(0x29a)][_0xf38ffa(0x2c0)],_0x551cb8=company[0x0]['setImpuestos']['find'](_0xc7809a=>_0xc7809a[_0xf38ffa(0x265)]==_0x32237a)?.['setImpuestoCode']||0x0,_0x3dd06d=company[0x0][_0xf38ffa(0x1ac)][_0xf38ffa(0x1bf)](_0x301d21=>_0x301d21[_0xf38ffa(0x265)]==_0x32237a)?.[_0xf38ffa(0x1ef)]||0x0;baseItem[_0xf38ffa(0x239)]=_0x551cb8,baseItem[_0xf38ffa(0x1d9)]=_0x3dd06d;}),document[_0x1cb413(0x294)](_0x1cb413(0x29e))[_0x1cb413(0x242)](_0x1cb413(0x2e3),function(_0x31bc6f){var _0x5bd510=_0x1cb413;baseItem[_0x5bd510(0x2c5)]=_0x31bc6f[_0x5bd510(0x29a)][_0x5bd510(0x2d5)];}),document[_0x1cb413(0x294)](_0x1cb413(0x291))['addEventListener'](_0x1cb413(0x2e3),function(_0x31c406){var _0x2a2cad=_0x1cb413;baseItem[_0x2a2cad(0x2d3)]=_0x31c406[_0x2a2cad(0x29a)][_0x2a2cad(0x2d5)];}),document[_0x1cb413(0x294)]('inputItemCode')[_0x1cb413(0x242)](_0x1cb413(0x296),function(_0xdd86e6){var _0x451dac=_0x1cb413;baseItem[_0x451dac(0x261)]=_0xdd86e6[_0x451dac(0x29a)]['value'];}),document['getElementById'](_0x1cb413(0x2ee))[_0x1cb413(0x242)](_0x1cb413(0x296),function(_0x1ec375){var _0x8d6d45=_0x1cb413;baseItem['setItemBarCode']=_0x1ec375[_0x8d6d45(0x29a)][_0x8d6d45(0x2c0)];}),document[_0x1cb413(0x294)]('newItem_btn_addUnit')[_0x1cb413(0x242)](_0x1cb413(0x2c6),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x1cb413(0x2a3))[_0x1cb413(0x242)](_0x1cb413(0x233),function(){var _0x19e97b=_0x1cb413;const _0x3fec7c=this[_0x19e97b(0x2c0)][_0x19e97b(0x1ed)]();if(_0x3fec7c==='')return;const _0xf15a18=products[_0x19e97b(0x1fa)](_0x4e40b9=>_0x4e40b9['setCodProducto']==_0x3fec7c),_0x523191=getLastCode(products);_0xf15a18?ntfShow(_0x19e97b(0x2f8)+_0x523191,0x2,0x1):ntfShow(_0x19e97b(0x1fe),0x1,0x1);});function removeImg(_0x19256d){var _0x5f0edc=_0x1cb413;currentImages[_0x19256d]=null;var _0x433fd4=imgC[_0x5f0edc(0x2e7)](_0x5f0edc(0x2db)+_0x19256d+'\x22]');_0x433fd4[_0x5f0edc(0x2a5)]='';var _0x15c01d=document[_0x5f0edc(0x2c3)]('input');_0x15c01d[_0x5f0edc(0x1d5)]=_0x5f0edc(0x210),_0x15c01d[_0x5f0edc(0x1eb)]=_0x5f0edc(0x1b0),_0x15c01d[_0x5f0edc(0x2e0)][_0x5f0edc(0x1aa)]=_0x5f0edc(0x1ec);var _0x238681=document[_0x5f0edc(0x2c3)](_0x5f0edc(0x2ad));_0x238681['textContent']='+',_0x433fd4['appendChild'](_0x15c01d),_0x433fd4['appendChild'](_0x238681),_0x433fd4[_0x5f0edc(0x242)]('click',function(){var _0x5424e8=_0x5f0edc;_0x15c01d[_0x5424e8(0x2c6)]();}),baseItem[_0x5f0edc(0x248)]=currentImages['filter'](function(_0x11ed40){return _0x11ed40;});}function addUnit(_0x360775,_0x488944,_0x1f7411,_0x5cba39,_0x1246b9,_0x1c0e34,_0x5bdca8){var _0x475c0a=_0x1cb413,_0x27c510=uniqueValuesArray('setUnitCode',_0x475c0a(0x1e2),myCompany['setUnits']);_0x360775=_0x360775||'',_0x488944=_0x488944||_0x27c510[0x3a]&&_0x27c510[0x3a][_0x475c0a(0x27d)]||'',_0x1f7411=_0x1f7411!==undefined?_0x1f7411:0x1,_0x5cba39=!!_0x5cba39,_0x1246b9=_0x1246b9||'',_0x1c0e34=_0x1c0e34||'';var _0x286969=unitCount++,_0x60db3c=document[_0x475c0a(0x2c3)](_0x475c0a(0x1e9));_0x60db3c['dataset'][_0x475c0a(0x1c7)]=_0x286969,_0x60db3c[_0x475c0a(0x231)]['default']=_0x5cba39,_0x60db3c['innerHTML']=_0x475c0a(0x2f9)+_0x286969+'\x22\x20value=\x22'+_0x360775+_0x475c0a(0x1f5)+_0x286969+_0x475c0a(0x272)+_0x286969+_0x475c0a(0x232)+_0x1f7411+'\x22\x20'+(_0x5cba39?'disabled':'')+_0x475c0a(0x1ca)+_0x286969+'\x22\x20value=\x22'+_0x1246b9+_0x475c0a(0x206)+_0x286969+_0x475c0a(0x232)+_0x1c0e34+_0x475c0a(0x23b)+(_0x5cba39?_0x475c0a(0x1a9):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x60db3c[_0x475c0a(0x2e7)]('.unitSelect'),_0x27c510,_0x475c0a(0x27d),_0x475c0a(0x1e8)),_0x60db3c[_0x475c0a(0x2e7)](_0x475c0a(0x292))[_0x475c0a(0x2c0)]=_0x488944,['unitAlias',_0x475c0a(0x2ae),'eqInput',_0x475c0a(0x20e),_0x475c0a(0x1fb)][_0x475c0a(0x1bd)](function(_0x54c415){var _0xe112e4=_0x475c0a;_0x60db3c[_0xe112e4(0x2e7)]('.'+_0x54c415)['addEventListener'](_0xe112e4(0x296),function(){var _0x52ecf3=_0xe112e4,_0x45d203=_0x5bdca8?+_0x5bdca8['id'][_0x52ecf3(0x2fd)]('_')[0x1]:null;if(_0x5bdca8)updateVariantUnits(_0x45d203);else updateUnitsArray();});}),_0x60db3c['querySelector'](_0x475c0a(0x297))['addEventListener'](_0x475c0a(0x2c6),function(){var _0x2f7aa8=_0x475c0a;_0x60db3c['remove']();var _0x220484=_0x5bdca8?+_0x5bdca8['id'][_0x2f7aa8(0x2fd)]('_')[0x1]:null;if(_0x5bdca8)updateVariantUnits(_0x220484);else updateUnitsArray();});var _0x94e6c9=_0x5bdca8||document['getElementById'](_0x475c0a(0x2b2));_0x94e6c9['appendChild'](_0x60db3c);}function containerIdx(_0x30a5ae){var _0x1c6721=_0x1cb413;return+_0x30a5ae['id'][_0x1c6721(0x2fd)]('_')[0x1];}function updateUnitsArray(){var _0xff8a7b=_0x1cb413,_0x2768d2=[],_0x3f9857=Array[_0xff8a7b(0x280)](document[_0xff8a7b(0x2b9)](_0xff8a7b(0x2ab))),_0x6e8778=_0x3f9857[_0xff8a7b(0x1bf)](_0x5c7042=>_0x5c7042[_0xff8a7b(0x231)][_0xff8a7b(0x29f)]==='true'),_0x4738ef=_0x6e8778?+_0x6e8778[_0xff8a7b(0x2e7)]('.eqInput')[_0xff8a7b(0x2c0)]:0x1;_0x3f9857['forEach'](function(_0x254347){var _0x34f1a5=_0xff8a7b,_0x70b6a=+_0x254347['querySelector'](_0x34f1a5(0x2f0))[_0x34f1a5(0x2c0)]||0x0,_0x4ec6fe=+_0x254347[_0x34f1a5(0x2e7)](_0x34f1a5(0x2e8))[_0x34f1a5(0x2c0)]||0x0,_0x459a75=+_0x254347[_0x34f1a5(0x2e7)](_0x34f1a5(0x2dc))['value']||0x0;_0x2768d2[_0x34f1a5(0x298)]({'setAlias':_0x254347[_0x34f1a5(0x2e7)](_0x34f1a5(0x1a6))[_0x34f1a5(0x2c0)][_0x34f1a5(0x1ed)](),'setUnitCode':_0x254347['querySelector']('.unitSelect')[_0x34f1a5(0x2c0)],'setEquivalence':_0x70b6a,'setFactor':_0x254347[_0x34f1a5(0x231)][_0x34f1a5(0x29f)]===_0x34f1a5(0x2ca)?0x1:_0x70b6a==_0x4738ef?0x1:_0x70b6a<_0x4738ef?_0x4738ef/_0x70b6a:_0x70b6a/_0x4738ef,'setPrice':_0x4ec6fe,'setCost':_0x459a75,'setDefault':_0x254347[_0x34f1a5(0x231)][_0x34f1a5(0x29f)]===_0x34f1a5(0x2ca)?0x1:0x0});}),baseItem[_0xff8a7b(0x244)]=_0x2768d2;}function updateBranches(){var _0x14b920=_0x1cb413,_0x3c5e05=[];document['querySelectorAll'](_0x14b920(0x202))[_0x14b920(0x1bd)](function(_0x21b666){var _0x2697d8=_0x14b920,_0x120525=_0x21b666[_0x2697d8(0x2e7)](_0x2697d8(0x29c));if(_0x120525[_0x2697d8(0x2d5)]){var _0xecaf33=+_0x120525[_0x2697d8(0x231)]['id'],_0x165713=+_0x21b666[_0x2697d8(0x2e7)](_0x2697d8(0x257))['value'],_0xc41512=+_0x21b666['querySelector'](_0x2697d8(0x259))['value'];_0x3c5e05[_0x2697d8(0x298)]({'setWarehouseCode':_0xecaf33,'setStockInitial':_0x165713,'setStockMinimum':_0xc41512});}}),baseItem[_0x14b920(0x278)]=_0x3c5e05;}document[_0x1cb413(0x294)](_0x1cb413(0x1c4))[_0x1cb413(0x242)]('click',function(){var _0x447953=_0x1cb413,_0x45e151=Date['now'](),_0xe70859=document[_0x447953(0x2c3)](_0x447953(0x1e9));_0xe70859[_0x447953(0x231)][_0x447953(0x1c7)]=_0x45e151,_0xe70859[_0x447953(0x2a5)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x45e151+_0x447953(0x2d0)+_0x45e151+_0x447953(0x2cc),prodC[_0x447953(0x2b8)](_0xe70859),initProdSearch(_0xe70859[_0x447953(0x2e7)]('.prod_input_container')),_0xe70859['querySelector'](_0x447953(0x24a))[_0x447953(0x242)]('click',function(){var _0xce5d3=_0x447953;_0xe70859[_0xce5d3(0x2af)](),updateProdItems();}),_0xe70859[_0x447953(0x2e7)](_0x447953(0x1ea))[_0x447953(0x242)](_0x447953(0x296),updateProdItems),document[_0x447953(0x294)]('newItem_title_table_cp')[_0x447953(0x1e1)]['toggle'](_0x447953(0x2ba),!![]),document[_0x447953(0x294)](_0x447953(0x26d))['classList'][_0x447953(0x266)]('newItem_hidden',![]);});function initProdSearch(_0x532037,_0x5a74c8){var _0x5c3da7=_0x1cb413,_0x4ccb40=_0x532037[_0x5c3da7(0x2e7)](_0x5c3da7(0x1be)),_0x13d778=_0x532037[_0x5c3da7(0x2e7)](_0x5c3da7(0x22b)),_0x169f26=_0x5a74c8||null;if(_0x5a74c8)_0x4ccb40[_0x5c3da7(0x2c0)]=_0x5a74c8[_0x5c3da7(0x1f7)];_0x4ccb40[_0x5c3da7(0x242)](_0x5c3da7(0x296),function(){var _0x447cd7=_0x5c3da7,_0x576c00=_0x4ccb40[_0x447cd7(0x2c0)][_0x447cd7(0x24d)]()[_0x447cd7(0x1ed)]();_0x13d778[_0x447cd7(0x2a5)]='';if(!_0x576c00)return;products[_0x447cd7(0x2ea)](_0x191bee=>_0x191bee[_0x447cd7(0x2c8)][_0x447cd7(0x24d)]()[_0x447cd7(0x2ac)](_0x576c00))['slice'](0x0,0x14)[_0x447cd7(0x1bd)](function(_0x26e1c9){var _0x17bf0f=_0x447cd7,_0x205980=document[_0x17bf0f(0x2c3)](_0x17bf0f(0x1e9));_0x205980[_0x17bf0f(0x201)]=_0x26e1c9[_0x17bf0f(0x2c8)],_0x205980[_0x17bf0f(0x231)]['id']=_0x26e1c9['id'],_0x205980['dataset'][_0x17bf0f(0x1f7)]=_0x26e1c9['setDescripcion'],_0x13d778[_0x17bf0f(0x2b8)](_0x205980),_0x205980[_0x17bf0f(0x242)](_0x17bf0f(0x2c6),function(){var _0x488f78=_0x17bf0f;_0x169f26={'id':_0x26e1c9['id'],'name':_0x26e1c9['setDescripcion']},_0x4ccb40['value']=_0x26e1c9[_0x488f78(0x2c8)],_0x13d778[_0x488f78(0x2a5)]='';var _0x377fc4=_0x532037['closest']('[id$=\x22_comp_container\x22]');if(_0x377fc4){var _0x1e4f4b=+_0x377fc4['id'][_0x488f78(0x2fd)]('_')[0x1];updateVariantComponents(_0x1e4f4b);}else updateProdItems();});});}),_0x4ccb40['addEventListener']('focus',function(){var _0x37aa23=_0x5c3da7;_0x13d778[_0x37aa23(0x1e1)][_0x37aa23(0x2af)](_0x37aa23(0x2c7));}),document['addEventListener'](_0x5c3da7(0x2c6),function(_0x4bc4a1){var _0x5b52bd=_0x5c3da7;if(!_0x532037['contains'](_0x4bc4a1[_0x5b52bd(0x29a)]))_0x13d778['classList'][_0x5b52bd(0x1dc)](_0x5b52bd(0x2c7));}),Object[_0x5c3da7(0x1b5)](_0x532037,'selectedItem',{'get':()=>_0x169f26});}function updateProdItems(){var _0x2311c6=_0x1cb413,_0x47eaab=[];Array['from'](prodC[_0x2311c6(0x1cf)])[_0x2311c6(0x1bd)](function(_0x17254b){var _0x1fe380=_0x2311c6,_0x4595d2=_0x17254b['querySelector'](_0x1fe380(0x263));if(!_0x4595d2)return;var _0x24db62=_0x17254b[_0x1fe380(0x2e7)](_0x1fe380(0x1ea)),_0x481da3=_0x4595d2['selectedItem'];_0x481da3&&_0x47eaab[_0x1fe380(0x298)]({'setItemId':_0x481da3['id'],'setDescripcion':_0x481da3[_0x1fe380(0x1f7)],'setCantidad':+_0x24db62[_0x1fe380(0x2c0)]});}),baseItem['setItemComponents']=_0x47eaab,_0x47eaab[_0x2311c6(0x260)]===0x0&&(document[_0x2311c6(0x294)](_0x2311c6(0x26d))[_0x2311c6(0x1e1)][_0x2311c6(0x266)](_0x2311c6(0x2ba),![]),document[_0x2311c6(0x294)](_0x2311c6(0x26d))[_0x2311c6(0x1e1)][_0x2311c6(0x266)](_0x2311c6(0x2c7),!![]));}document[_0x1cb413(0x294)](_0x1cb413(0x1f2))[_0x1cb413(0x242)]('click',function(){var _0x4d85c2=_0x1cb413,_0x86326e=vgCount++,_0x2abade=document[_0x4d85c2(0x2c3)]('div');_0x2abade[_0x4d85c2(0x231)][_0x4d85c2(0x1c7)]=_0x86326e,_0x2abade[_0x4d85c2(0x2a5)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x86326e+'\x22>'+_0x4d85c2(0x2b0)+_0x86326e+'\x22>'+_0x4d85c2(0x217),vgC[_0x4d85c2(0x2b8)](_0x2abade),_0x2abade[_0x4d85c2(0x2e7)](_0x4d85c2(0x26f))[_0x4d85c2(0x242)](_0x4d85c2(0x233),generateVariants),_0x2abade[_0x4d85c2(0x2e7)](_0x4d85c2(0x240))[_0x4d85c2(0x242)](_0x4d85c2(0x233),generateVariants),_0x2abade[_0x4d85c2(0x2e7)](_0x4d85c2(0x1d3))['addEventListener']('click',function(){var _0x3a3f29=_0x4d85c2;_0x2abade[_0x3a3f29(0x2af)](),generateVariants();});});function generateVariants(){var _0x53935b=_0x1cb413,_0x4b3d06=[];vgC['querySelectorAll'](_0x53935b(0x1e9))[_0x53935b(0x1bd)](function(_0xcd7125){var _0x263674=_0x53935b,_0x4ecbb4=_0xcd7125['querySelector'](_0x263674(0x26f))[_0x263674(0x2c0)][_0x263674(0x1ed)](),_0x3b3602=_0xcd7125[_0x263674(0x2e7)](_0x263674(0x240))['value']['split'](',')[_0x263674(0x286)](_0xfa3377=>_0xfa3377['trim']())[_0x263674(0x2ea)](_0x51575e=>_0x51575e);if(_0x4ecbb4&&_0x3b3602['length'])_0x4b3d06[_0x263674(0x298)]({'name':_0x4ecbb4,'vals':_0x3b3602});});var _0x111fb2=[{}];_0x4b3d06[_0x53935b(0x1bd)](function(_0x32406f){var _0x5955af=_0x53935b;_0x111fb2=_0x111fb2[_0x5955af(0x1b7)](function(_0x3531c7){var _0x3c0574=_0x5955af;return _0x32406f[_0x3c0574(0x288)][_0x3c0574(0x286)](function(_0x404d10){var _0x5cfc43=_0x3c0574,_0x232529=Object[_0x5cfc43(0x273)]({},_0x3531c7);return _0x232529[_0x32406f['name']]=_0x404d10,_0x232529;});});}),newItems=[],varContainer['innerHTML']='',_0x111fb2['forEach'](function(_0x2e2a0a,_0xd4b408){var _0x3367b6=_0x53935b,_0x178252=JSON[_0x3367b6(0x1c1)](JSON[_0x3367b6(0x267)](baseItem));_0x178252[_0x3367b6(0x289)]=_0x2e2a0a,_0x178252[_0x3367b6(0x2a2)]=baseItem[_0x3367b6(0x2e1)]+'\x20'+Object[_0x3367b6(0x1d2)](_0x2e2a0a)['map'](_0x425df9=>_0x425df9[0x0]+'\x20'+_0x425df9[0x1])['join']('\x20'),newItems[_0x3367b6(0x298)](_0x178252);var _0x339dae=document[_0x3367b6(0x2c3)]('div');_0x339dae[_0x3367b6(0x1e1)][_0x3367b6(0x1dc)](_0x3367b6(0x26a)),_0x339dae[_0x3367b6(0x231)][_0x3367b6(0x1c7)]=_0xd4b408,_0x339dae[_0x3367b6(0x2a5)]=_0x3367b6(0x236)+_0x178252[_0x3367b6(0x2a2)]+_0x3367b6(0x1ce)+_0x178252[_0x3367b6(0x261)]+_0x3367b6(0x207)+_0x178252[_0x3367b6(0x241)]+_0x3367b6(0x28a)+_0x178252['setItemDateExpiry']+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0xd4b408+_0x3367b6(0x271)+_0xd4b408+_0x3367b6(0x262)+_0xd4b408+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x3367b6(0x2b8)](_0x339dae),_0x339dae[_0x3367b6(0x2e7)](_0x3367b6(0x2c9))[_0x3367b6(0x242)](_0x3367b6(0x296),_0x7ea5c3=>newItems[_0xd4b408][_0x3367b6(0x261)]=_0x7ea5c3[_0x3367b6(0x29a)][_0x3367b6(0x2c0)]),_0x339dae[_0x3367b6(0x2e7)](_0x3367b6(0x200))[_0x3367b6(0x242)]('input',_0x3e6529=>newItems[_0xd4b408][_0x3367b6(0x241)]=_0x3e6529[_0x3367b6(0x29a)][_0x3367b6(0x2c0)]),_0x339dae[_0x3367b6(0x2e7)](_0x3367b6(0x28f))[_0x3367b6(0x242)](_0x3367b6(0x2e3),_0x2d0c67=>newItems[_0xd4b408][_0x3367b6(0x285)]=_0x2d0c67[_0x3367b6(0x29a)][_0x3367b6(0x2c0)]),initVariantUnits(_0xd4b408),initVariantComponents(_0xd4b408),initVariantBranches(_0xd4b408),_0x339dae[_0x3367b6(0x2e7)](_0x3367b6(0x23e))[_0x3367b6(0x242)](_0x3367b6(0x2c6),function(){var _0x290ba5=_0x3367b6,_0x229827=+_0x339dae[_0x290ba5(0x231)][_0x290ba5(0x1c7)];newItems[_0x290ba5(0x2bc)](_0x229827,0x1),_0x339dae['remove'](),document[_0x290ba5(0x2b9)](_0x290ba5(0x2b5))['forEach'](function(_0x33eb09,_0x413f3d){var _0x1d6d57=_0x290ba5;_0x33eb09['dataset'][_0x1d6d57(0x1c7)]=_0x413f3d;});});});if(newItems[_0x53935b(0x260)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0xc2b9aa){var _0x124f63=_0x1cb413,_0x14e4ba=document[_0x124f63(0x294)](_0x124f63(0x2c2)+_0xc2b9aa+_0x124f63(0x2cb)),_0x1125f8=[];Array[_0x124f63(0x280)](_0x14e4ba[_0x124f63(0x1cf)])[_0x124f63(0x1bd)](function(_0x183fb8){var _0xd971a1=_0x124f63,_0x45d34a=+_0x183fb8[_0xd971a1(0x2e7)](_0xd971a1(0x2f0))[_0xd971a1(0x2c0)]||0x0,_0x44b5cd=_0x183fb8[_0xd971a1(0x2e7)](_0xd971a1(0x1a6))[_0xd971a1(0x2c0)][_0xd971a1(0x1ed)](),_0x218ef0=_0x183fb8[_0xd971a1(0x2e7)]('.unitSelect')[_0xd971a1(0x2c0)],_0x43eabb=+_0x183fb8[_0xd971a1(0x2e7)](_0xd971a1(0x2e8))['value']||0x0,_0x315a36=+_0x183fb8[_0xd971a1(0x2e7)](_0xd971a1(0x2dc))[_0xd971a1(0x2c0)]||0x0,_0x3aeb87=_0x183fb8[_0xd971a1(0x231)]['default']===_0xd971a1(0x2ca),_0x1cfcb5=+_0x14e4ba['querySelector'](_0xd971a1(0x1c5))['value']||0x1,_0x2f0c6a=_0x3aeb87?0x1:_0x45d34a==_0x1cfcb5?0x1:_0x45d34a<_0x1cfcb5?_0x1cfcb5/_0x45d34a:_0x45d34a/_0x1cfcb5;_0x1125f8[_0xd971a1(0x298)]({'setAlias':_0x44b5cd,'setUnitCode':_0x218ef0,'setEquivalence':_0x45d34a,'setFactor':_0x2f0c6a,'setPrice':_0x43eabb,'setCost':_0x315a36,'setDefault':_0x3aeb87?0x1:0x0});}),newItems[_0xc2b9aa][_0x124f63(0x244)]=_0x1125f8;}function initVariantUnits(_0x3fb78d){var _0x5c3ab3=_0x1cb413,_0xcad6a1=document[_0x5c3ab3(0x294)]('variant_'+_0x3fb78d+_0x5c3ab3(0x2cb));_0xcad6a1[_0x5c3ab3(0x2a5)]='',newItems[_0x3fb78d][_0x5c3ab3(0x244)]['forEach'](function(_0x25a2c2){var _0x53593c=_0x5c3ab3;addUnit(_0x25a2c2[_0x53593c(0x1b8)],_0x25a2c2[_0x53593c(0x246)],_0x25a2c2[_0x53593c(0x1c8)],_0x25a2c2[_0x53593c(0x228)],_0x25a2c2[_0x53593c(0x208)],_0x25a2c2[_0x53593c(0x2cd)],_0xcad6a1);}),_0xcad6a1[_0x5c3ab3(0x2c1)]['querySelector'](_0x5c3ab3(0x2ef))[_0x5c3ab3(0x242)]('click',function(){addUnit('','',0x1,![],'','',_0xcad6a1),updateVariantUnits(_0x3fb78d);});}function updateVariantUnits(_0x24c52d){var _0x658c6e=_0x1cb413,_0x12699a=document[_0x658c6e(0x294)]('variant_'+_0x24c52d+'_units_container'),_0x162ca6=_0x12699a[_0x658c6e(0x2e7)](_0x658c6e(0x1c5)),_0x118bd9=_0x162ca6?+_0x162ca6[_0x658c6e(0x2c0)]:0x1,_0x53d0e9=Array[_0x658c6e(0x280)](_0x12699a[_0x658c6e(0x1cf)])['map'](function(_0x50c097){var _0x18485f=_0x658c6e,_0x17c9cd=_0x50c097[_0x18485f(0x2e7)](_0x18485f(0x1a6))[_0x18485f(0x2c0)][_0x18485f(0x1ed)](),_0x4af7d2=_0x50c097[_0x18485f(0x2e7)](_0x18485f(0x292))[_0x18485f(0x2c0)],_0x1f3559=+_0x50c097['querySelector'](_0x18485f(0x2f0))['value']||0x0,_0x270380=+_0x50c097[_0x18485f(0x2e7)](_0x18485f(0x2e8))[_0x18485f(0x2c0)]||0x0,_0x2c83db=+_0x50c097[_0x18485f(0x2e7)](_0x18485f(0x2dc))[_0x18485f(0x2c0)]||0x0,_0x2d574e=_0x50c097[_0x18485f(0x231)][_0x18485f(0x29f)]===_0x18485f(0x2ca);return{'setAlias':_0x17c9cd,'setUnitCode':_0x4af7d2,'setEquivalence':_0x1f3559,'setFactor':_0x2d574e?0x1:_0x1f3559==_0x118bd9?0x1:_0x1f3559<_0x118bd9?_0x118bd9/_0x1f3559:_0x1f3559/_0x118bd9,'setPrice':_0x270380,'setCost':_0x2c83db,'setDefault':_0x2d574e?0x1:0x0};});newItems[_0x24c52d][_0x658c6e(0x244)]=_0x53d0e9;}function initVariantComponents(_0x349fbf){var _0x1ceb1d=_0x1cb413,_0x279407=document[_0x1ceb1d(0x294)](_0x1ceb1d(0x2c2)+_0x349fbf+_0x1ceb1d(0x1ad));_0x279407[_0x1ceb1d(0x2a5)]='',newItems[_0x349fbf][_0x1ceb1d(0x2f5)][_0x1ceb1d(0x1bd)](function(_0x5cbcc5){var _0x362855=_0x1ceb1d,_0x305728=document[_0x362855(0x2c3)](_0x362855(0x1e9)),_0x4b9eeb=Date[_0x362855(0x204)]();_0x305728[_0x362855(0x231)][_0x362855(0x1c7)]=_0x4b9eeb,_0x305728[_0x362855(0x2a5)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x4b9eeb+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x5cbcc5['setCantidad']+_0x362855(0x2fb),_0x279407['appendChild'](_0x305728),initProdSearch(_0x305728[_0x362855(0x2e7)](_0x362855(0x263)),{'id':_0x5cbcc5[_0x362855(0x1f8)],'name':_0x5cbcc5['setDescripcion']}),_0x305728['querySelector'](_0x362855(0x1ea))['addEventListener'](_0x362855(0x296),function(){updateVariantComponents(_0x349fbf);}),_0x305728[_0x362855(0x2e7)]('.removeCombo')['addEventListener'](_0x362855(0x2c6),function(){var _0x48ed8c=_0x362855;_0x305728[_0x48ed8c(0x2af)](),updateVariantComponents(_0x349fbf);});}),_0x279407[_0x1ceb1d(0x2c1)]['querySelector']('.addVariantComp')[_0x1ceb1d(0x242)](_0x1ceb1d(0x2c6),function(){var _0x25ccf9=_0x1ceb1d,_0x36a904=document[_0x25ccf9(0x2c3)](_0x25ccf9(0x1e9)),_0x12e38e=Date['now']();_0x36a904[_0x25ccf9(0x231)]['idx']=_0x12e38e,_0x36a904[_0x25ccf9(0x2a5)]=_0x25ccf9(0x1d4)+_0x12e38e+_0x25ccf9(0x1ab),_0x279407[_0x25ccf9(0x2b8)](_0x36a904),initProdSearch(_0x36a904[_0x25ccf9(0x2e7)](_0x25ccf9(0x263))),_0x36a904[_0x25ccf9(0x2e7)]('.prodQty')[_0x25ccf9(0x242)](_0x25ccf9(0x296),function(){updateVariantComponents(_0x349fbf);}),_0x36a904[_0x25ccf9(0x2e7)](_0x25ccf9(0x25a))['addEventListener'](_0x25ccf9(0x2c6),function(){var _0x3874c9=_0x25ccf9;_0x36a904[_0x3874c9(0x2af)](),updateVariantComponents(_0x349fbf);});});}function updateVariantComponents(_0x1ca4bc){var _0x4b51c9=_0x1cb413,_0x5717d4=document[_0x4b51c9(0x294)](_0x4b51c9(0x2c2)+_0x1ca4bc+'_comp_container'),_0x519b54=Array[_0x4b51c9(0x280)](_0x5717d4[_0x4b51c9(0x1cf)])[_0x4b51c9(0x286)](function(_0x1534eb){var _0x18ecdd=_0x4b51c9,_0x4e5eb6=_0x1534eb[_0x18ecdd(0x2e7)]('.prod_input_container'),_0xd3f142=_0x4e5eb6[_0x18ecdd(0x24f)],_0x2764f2=+_0x1534eb[_0x18ecdd(0x2e7)](_0x18ecdd(0x1ea))[_0x18ecdd(0x2c0)]||0x0;return _0xd3f142?{'setItemId':_0xd3f142['id'],'setDescripcion':_0xd3f142[_0x18ecdd(0x1f7)],'setCantidad':_0x2764f2}:null;})['filter'](_0x3c1922=>_0x3c1922);newItems[_0x1ca4bc][_0x4b51c9(0x2f5)]=_0x519b54;}function initVariantBranches(_0x1a7fc1){var _0xf073f5=_0x1cb413;const _0x470020=getAllWarehouses();var _0x4deefa=document[_0xf073f5(0x294)](_0xf073f5(0x2c2)+_0x1a7fc1+_0xf073f5(0x225));_0x4deefa[_0xf073f5(0x2a5)]='',newItems[_0x1a7fc1][_0xf073f5(0x278)][_0xf073f5(0x1bd)](function(_0x213d62){var _0x3061bc=_0xf073f5,_0x3bed4d=_0x470020[_0x3061bc(0x1bf)](_0x44255d=>_0x44255d['setWarehouseId']==_0x213d62[_0x3061bc(0x256)]),_0xa1e9ea=document[_0x3061bc(0x2c3)]('div');_0xa1e9ea[_0x3061bc(0x2a5)]=_0x3061bc(0x2ed)+_0x213d62[_0x3061bc(0x256)]+_0x3061bc(0x25b)+_0x3bed4d[_0x3061bc(0x27b)]+_0x3061bc(0x21f)+_0x213d62[_0x3061bc(0x256)]+_0x3061bc(0x232)+_0x213d62[_0x3061bc(0x2b3)]+_0x3061bc(0x230)+_0x213d62[_0x3061bc(0x256)]+_0x3061bc(0x232)+_0x213d62[_0x3061bc(0x2f4)]+'\x22>',_0x4deefa['appendChild'](_0xa1e9ea),_0xa1e9ea['querySelectorAll']('input')[_0x3061bc(0x1bd)](function(_0x14ee29){var _0x52fd50=_0x3061bc;_0x14ee29[_0x52fd50(0x242)]('input',function(){updateVariantBranches(_0x1a7fc1);});});}),_0x470020[_0xf073f5(0x1bd)](function(_0x2f0cc9){var _0x5533c9=_0xf073f5;if(!newItems[_0x1a7fc1][_0x5533c9(0x278)]['find'](_0x3748e2=>_0x3748e2[_0x5533c9(0x256)]===_0x2f0cc9[_0x5533c9(0x1f6)])){var _0x113025=document[_0x5533c9(0x2c3)](_0x5533c9(0x1e9));_0x113025[_0x5533c9(0x2a5)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x2f0cc9[_0x5533c9(0x1f6)]+_0x5533c9(0x26c)+_0x2f0cc9[_0x5533c9(0x27b)]+_0x5533c9(0x21f)+_0x2f0cc9['setWarehouseId']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x2f0cc9['setWarehouseId']+'\x22>',_0x4deefa['appendChild'](_0x113025),_0x113025[_0x5533c9(0x2b9)](_0x5533c9(0x296))[_0x5533c9(0x1bd)](function(_0x96d0e7){var _0x387738=_0x5533c9;_0x96d0e7['addEventListener'](_0x387738(0x296),function(){updateVariantBranches(_0x1a7fc1);});});}});}function updateVariantBranches(_0x16d57c){var _0x4128e9=_0x1cb413,_0x1d7ef1=document['getElementById'](_0x4128e9(0x2c2)+_0x16d57c+_0x4128e9(0x225)),_0x17ec7c=[];_0x1d7ef1['querySelectorAll'](_0x4128e9(0x1e9))[_0x4128e9(0x1bd)](function(_0x299140){var _0x263165=_0x4128e9,_0x9a8c37=_0x299140[_0x263165(0x2e7)]('.branchChk');if(_0x9a8c37['checked']){var _0x531493=+_0x9a8c37[_0x263165(0x231)]['id'],_0x4cb038=+_0x299140[_0x263165(0x2e7)](_0x263165(0x257))['value']||0x0,_0x3a5e21=+_0x299140[_0x263165(0x2e7)](_0x263165(0x259))['value']||0x0;_0x17ec7c[_0x263165(0x298)]({'setWarehouseCode':_0x531493,'setStockInitial':_0x4cb038,'setStockMinimum':_0x3a5e21});}}),newItems[_0x16d57c][_0x4128e9(0x278)]=_0x17ec7c;}function _0x36e6(){var _0x27a627=['\x22\x20class=\x22branchChk\x22\x20checked>\x20','setMarca','__proto__','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','onmessage','length','setItemCode','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','.prod_input_container','./excel/Plantilla-Items.xlsx','setTaxId','toggle','stringify','USD','setUnits','variantForm','indexOf','\x22\x20class=\x22branchChk\x22>\x20','newItem_title_table_cp','\x20items\x20procesados.','.vgName','setMoneda','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','assign','Enter','setItemType','newItem_categories_select','./img/product.png','setItemWarehouses','selectionChange','dataTransfer','setWarehouseName','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setCode','onerror','windowId','from','\x20items.','dispatchEvent','newItem_variants_forms','console','setItemDateExpiry','map','✅\x20Exportación\x20completada:\x20','vals','setItemVariantValues','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.xlsx','3053624ehvOHH','values','postMessage','.variantExpiry','every','newItem_chk_sell','.unitSelect','</label>','getElementById','setConversionFactor','input','.removeUnit','push','onload','target','trace','.branchChk','Error\x20al\x20guardar\x20Producto\x20Offline:','newItem_chk_buy','default','setIdProducto','Nuevo\x20Producto','setItemVariantName','inputItemCode','newItem_brands_select','innerHTML','base','remove-tag','return\x20(function()\x20','createObjectURL','setItemDescription','#newItem_units_container\x20>\x20div','includes','span','unitSelect','remove','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setImpuestoName','newItem_units_container','setStockInitial','undefined','.variantForm','3534232pkHuYP','Plantilla-Items-Export-','appendChild','querySelectorAll','newItem_title_table','setIdSucursal','splice','Error\x20al\x20procesar\x20la\x20operación:','9dvHCDH','revokeObjectURL','value','parentNode','variant_','createElement','setItemInventoriable','setItemIsBought','click','newItem_hidden','setDescripcion','.variantCode','true','_units_container','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setCost','detalleModalCreateItem','setWarehouseStockMin','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','31838oQSseu','apply','setItemIsSold','Generando\x20Excel...','checked','findIndex','active','setCodProducto','search','setTaxIdDefault','[data-idx=\x22','.costInput','sucursales','16117420BwyQTu','inputItemType','style','setItemName','status','change','setUnidadCodigo','1152796pnkIWe','newItem_images_container','querySelector','.priceInput','import','filter','newItem_addToCart','stopPropagation','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','inputItemBarCode','.addVariantUnit','.eqInput','image_box','readAsDataURL','</div>','setStockMinimum','setItemComponents','percent','error','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','dragover','split','<img\x20src=\x22','isArray','setItemTaxId','message','.unitAlias','keydown','currency','style=\x22display:none\x22','display','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setImpuestos','_comp_container','setInventariable','log','image/*','progress','table','setCostUSD','.options_list\x20div','defineProperty','setCategoria','flatMap','setAlias','bind','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','3GlmRmM','setPriceUSD','forEach','.prodInput','find','contains','parse','#newItem_categories_select\x20.options_list','No\x20hay\x20items\x20para\x20exportar.','newItem_btn_addProdItem','div[data-default=\x22true\x22]\x20.eqInput','100','idx','setEquivalence','(((.+)+)+)+$','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','#newItem_brands_select\x20.selected_tags','<div\x20class=\x22newItem_col\x22>','test','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','children','reduce','setItemCategories','entries','.removeGroup','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','type','PEN','objectStore','#newItem_brands_select\x20.options_list','setItemTaxValue','application/octet-stream','12FuNhqH','add','items','sort','option','constructor','classList','setUnitName','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','detail','newItem_proditems_container','getElementsByClassName','./js/apierp_item_wk.min.js','setName','div','.prodQty','accept','none','trim','upload-btn','setImpuestoValue','setAuthToken','code','newItem_btn_addVariantGroup','setMtoPrecioCostoUnitario','fill','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setWarehouseId','name','setItemId','remove-file','some','costInput','hidden','files','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','result','.variantBarCode','textContent','#newItem_branches_container\x20>\x20div','newItem_branches_container','now','modalOverlayCreateItem','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setPrice','inputItemName','22kRJOdM','Items\x20finales:','dragleave','.drop-zone__prompt','priceInput','Producto\x20Libre','file','setItemUnitId','disabled','info','setWebhook','setBatchExpirationDate','focus','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','selected','Ingresa\x20el\x20nombre\x20del\x20item','setMtoPrecioUnitario','file-input','className','2238540AxauZP','setSucursalStock','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','inputItemTax','drop','.ms_input','preventDefault','readwrite','_branch_container','match','setItemFree','setDefault','modalProductNewTitle','setImpuestoCode','.options_list','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','dragenter','offline_operations','❌\x20Error:\x20','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','dataset','\x22\x20value=\x22','blur','href','transaction','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','btnExportarItems','toISOString','setItemTaxCode','productType1','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','arrayBuffer','.removeVariant','key','.vgVals','setItemBarCode','addEventListener','inputItemDescription','setItemUnits','toString','setUnitCode','currentTarget','setItemImages','629875HaykzA','.removeProd','exportItems','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','toLowerCase','done','selectedItem','prototype','block','slice','tag','setItemBrands','inputItemDateExpiry','setWarehouseCode','.branchInit','exportDone','.branchMin','.removeCombo'];_0x36e6=function(){return _0x27a627;};return _0x36e6();}async function storeOfflineProduct(_0x1fec5a){var _0x20dcae=_0x1cb413;try{const _0x230d84=await createCartStore(''),_0x478a6f=_0x230d84[_0x20dcae(0x235)](_0x20dcae(0x22e),_0x20dcae(0x224)),_0x15a8b8=_0x478a6f[_0x20dcae(0x1d7)](_0x20dcae(0x22e));_0x15a8b8[_0x20dcae(0x1dc)](_0x1fec5a),_0x478a6f['oncomplete']=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x478a6f[_0x20dcae(0x27e)]=_0x4431af=>{var _0xf3d4e0=_0x20dcae;console[_0xf3d4e0(0x2f7)](_0xf3d4e0(0x29d),_0x4431af['target']['error']);};}catch(_0x4e73a2){console[_0x20dcae(0x2f7)](_0x20dcae(0x2bd),_0x4e73a2);}}document[_0x1cb413(0x294)]('btnItemSave')[_0x1cb413(0x242)](_0x1cb413(0x2c6),async function(_0x40abec){var _0x535c2a=_0x1cb413;_0x40abec[_0x535c2a(0x223)]();const _0x5e225f=document[_0x535c2a(0x294)](_0x535c2a(0x2a3)),_0x1a1ac8=document[_0x535c2a(0x294)]('setItemFree')[_0x535c2a(0x2c0)];if(!_0x5e225f[_0x535c2a(0x2c0)]['trim']()&&_0x1a1ac8==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x1a1ac8==0x1&&(_0x5e225f[_0x535c2a(0x2c0)]='',baseItem['setItemCode']='');const _0x2b1bf0=document['getElementById'](_0x535c2a(0x209));if(!_0x2b1bf0['value'][_0x535c2a(0x1ed)]()){ntfShow(_0x535c2a(0x219),0x2,0x1);return;}const _0x3edfb7=document[_0x535c2a(0x294)](_0x535c2a(0x2eb));hideModalCreateItem(),showLoadingModal();newItems[_0x535c2a(0x260)]===0x0&&(newItems=[baseItem]);const _0x96089=document[_0x535c2a(0x294)](_0x535c2a(0x27f))[_0x535c2a(0x2c0)],_0x1914a9=window_options[_0x96089][_0x535c2a(0x270)],_0x345309=[];newItems[_0x535c2a(0x1bd)](_0xfb99dc=>{var _0x26d72e=_0x535c2a;const _0x3a963e=generateNumericUniqId();_0xfb99dc[_0x26d72e(0x244)]['forEach'](_0x1ba96f=>{var _0x5d37d3=_0x26d72e;const _0x119bd0=generateNumericUniqId();_0x1ba96f[_0x5d37d3(0x211)]=_0x119bd0;const _0x595819={'id':_0x119bd0,'setIdProducto':_0x3a963e,'setCodProducto':_0xfb99dc['setItemCode'],'setDescripcion':_0xfb99dc['setItemName'],'setItemDescription':_0xfb99dc[_0x5d37d3(0x2aa)],'setBatchExpirationDate':_0xfb99dc[_0x5d37d3(0x285)],'setBatchName':'','setCategoria':_0xfb99dc[_0x5d37d3(0x1d1)][0x0]||'','setMarca':_0xfb99dc[_0x5d37d3(0x254)][0x0]||'','setConversionFactor':parseFloat(_0x1ba96f['setFactor']),'setImages':[],'setImg':_0x5d37d3(0x277),'setInventariable':0x1,'setItemIsBought':_0xfb99dc[_0x5d37d3(0x2c5)]?0x1:0x0,'setItemIsSold':_0xfb99dc['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0xfb99dc[_0x5d37d3(0x1d9)],'setPrinters':[],'setTaxId':_0xfb99dc['setItemTaxId'],'setTipAfeIgv':_0xfb99dc[_0x5d37d3(0x239)],'setUnidad':_0x1ba96f[_0x5d37d3(0x246)],'setUnidadCodigo':_0x1ba96f[_0x5d37d3(0x246)],'setItemUnitAlias':_0x1ba96f[_0x5d37d3(0x1b8)],'currency_data':[{'currency':_0x1914a9,'setMtoPrecioCostoUnitario':_0x1ba96f[_0x5d37d3(0x2cd)],'setMtoPrecioUnitario':_0x1ba96f[_0x5d37d3(0x208)],'setPriceLists':[]}],'sucursales':_0xfb99dc['setItemWarehouses'][_0x5d37d3(0x286)](_0x319c2c=>({'setIdSucursal':_0x319c2c[_0x5d37d3(0x256)],'setSucursalStock':_0x319c2c[_0x5d37d3(0x2b3)][_0x5d37d3(0x245)](),'setWarehouseStockMin':_0x319c2c[_0x5d37d3(0x2f4)]['toString']()})),'setItemFree':_0xfb99dc[_0x5d37d3(0x227)],'setItemBarCode':_0xfb99dc[_0x5d37d3(0x241)],'setItemBrands':_0xfb99dc[_0x5d37d3(0x254)][_0x5d37d3(0x252)](),'setItemCategories':_0xfb99dc[_0x5d37d3(0x1d1)][_0x5d37d3(0x252)](),'setItemComponents':_0xfb99dc[_0x5d37d3(0x2f5)]['map'](_0x38eb27=>({..._0x38eb27})),'setItemImages':_0xfb99dc[_0x5d37d3(0x248)][_0x5d37d3(0x252)](),'setItemVariantName':_0xfb99dc[_0x5d37d3(0x2a2)],'setItemVariantValues':{..._0xfb99dc['setItemVariantValues']}};_0x345309[_0x5d37d3(0x298)](_0x595819),(_0x3edfb7['checked']||_0x1a1ac8==0x1)&&addToCart(_0x595819);});}),console[_0x535c2a(0x1af)](_0x535c2a(0x20b),newItems),await finalizeImport(_0x345309,newItems,![]);}),[_0x1cb413(0x22d),_0x1cb413(0x2fc)]['forEach'](_0x5865b6=>dropZone[_0x1cb413(0x242)](_0x5865b6,_0x92a94=>{var _0x143ab5=_0x1cb413;_0x92a94[_0x143ab5(0x223)](),dropZone[_0x143ab5(0x1e1)][_0x143ab5(0x1dc)]('dragover');})),[_0x1cb413(0x20c),_0x1cb413(0x221)]['forEach'](_0xb4ab69=>dropZone['addEventListener'](_0xb4ab69,_0x74e0d9=>{var _0x51b374=_0x1cb413;_0x74e0d9['preventDefault'](),dropZone['classList'][_0x51b374(0x2af)]('dragover');})),dropZone[_0x1cb413(0x242)](_0x1cb413(0x221),_0x5d64f7=>{var _0x446a2d=_0x1cb413;const _0x4be3ee=_0x5d64f7[_0x446a2d(0x27a)][_0x446a2d(0x1fd)][0x0];if(!_0x4be3ee)return;fileInput['files']=_0x5d64f7[_0x446a2d(0x27a)][_0x446a2d(0x1fd)],dropZone['querySelector'](_0x446a2d(0x20d))['textContent']=_0x4be3ee['name'],removeBtn[_0x446a2d(0x1fc)]=![],fileInput[_0x446a2d(0x282)](new Event('change'));}),removeBtn[_0x1cb413(0x242)]('click',()=>{var _0xd872a4=_0x1cb413;fileInput[_0xd872a4(0x2c0)]='',dropZone[_0xd872a4(0x2e7)](_0xd872a4(0x20d))[_0xd872a4(0x201)]=_0xd872a4(0x25e),removeBtn['hidden']=!![],progressBar[_0xd872a4(0x2e0)][_0xd872a4(0x1aa)]=_0xd872a4(0x1ec),statusDiv[_0xd872a4(0x201)]='',uploadBtn[_0xd872a4(0x212)]=!![];});const exportBtn=document[_0x1cb413(0x294)](_0x1cb413(0x237));exportBtn[_0x1cb413(0x242)](_0x1cb413(0x2c6),onClickExportarItems);async function onClickExportarItems(){var _0x428c9d=_0x1cb413;if(!Array[_0x428c9d(0x1a3)](products)||!products[_0x428c9d(0x260)]){ntfShow(_0x428c9d(0x1c3));return;}try{const _0x58eb7e=await fetch(_0x428c9d(0x264));if(!_0x58eb7e['ok'])throw new Error(_0x428c9d(0x27c));const _0x5d5e9d=await _0x58eb7e[_0x428c9d(0x23d)](),_0x2414f8=document[_0x428c9d(0x294)]('setWarehouseId')[_0x428c9d(0x2c0)],_0x37eaa6=products['filter'](_0x2ccf1e=>Array[_0x428c9d(0x1a3)](_0x2ccf1e['sucursales'])&&_0x2ccf1e[_0x428c9d(0x2dd)]['some'](_0x5d583f=>String(_0x5d583f[_0x428c9d(0x2bb)])==String(_0x2414f8))),_0x4a5754=_0x37eaa6[_0x428c9d(0x1d0)]((_0x470352,_0x4a37a2)=>{var _0x2cb549=_0x428c9d;const _0x1bf719=_0x4a37a2[_0x2cb549(0x2a0)];if(!_0x470352[_0x1bf719])_0x470352[_0x1bf719]=[];return _0x470352[_0x1bf719][_0x2cb549(0x298)](_0x4a37a2),_0x470352;},{}),_0x2dd89c=Object[_0x428c9d(0x28d)](_0x4a5754)[_0x428c9d(0x286)](_0xc30df3=>{var _0x28c1ed=_0x428c9d;const _0x2bc4ce=_0xc30df3[0x0],_0x3dd178=_0xc30df3[0x1]||{};function _0xc79926(_0x538e59,_0x14cdc5,_0x12a8a4){var _0xb610c0=_0x4423;if(!_0x538e59||!Array[_0xb610c0(0x1a3)](_0x538e59['currency_data']))return'';const _0x1afbb6=_0x538e59['currency_data']['find'](_0xdfc75d=>_0xdfc75d[_0xb610c0(0x1a8)]===_0x14cdc5);return _0x1afbb6?_0x1afbb6[_0x12a8a4]:'';}return{'id':_0x2bc4ce[_0x28c1ed(0x2a0)],'setItemType':_0x2bc4ce[_0x28c1ed(0x275)],'setCodProducto':_0x2bc4ce[_0x28c1ed(0x2d8)],'setDescripcion':_0x2bc4ce[_0x28c1ed(0x2c8)],'setItemDescription':_0x2bc4ce[_0x28c1ed(0x2aa)],'setCategoria':_0x2bc4ce[_0x28c1ed(0x1b6)],'setMarca':_0x2bc4ce[_0x28c1ed(0x25c)],'setTaxId':_0x2bc4ce[_0x28c1ed(0x265)],'setUnitId':_0x2bc4ce['id'],'setItemBarCode':_0x2bc4ce[_0x28c1ed(0x241)],'setUnidadCodigo':_0x2bc4ce['setUnidadCodigo'],'PEN_setMtoPrecioUnitario':_0xc79926(_0x2bc4ce,_0x28c1ed(0x1d6),_0x28c1ed(0x21a)),'PEN_setMtoPrecioCostoUnitario':_0xc79926(_0x2bc4ce,'PEN',_0x28c1ed(0x1f3)),'USD_setMtoPrecioUnitario':_0xc79926(_0x2bc4ce,_0x28c1ed(0x268),_0x28c1ed(0x21a)),'USD_setMtoPrecioCostoUnitario':_0xc79926(_0x2bc4ce,_0x28c1ed(0x268),_0x28c1ed(0x1f3)),'setUnitId2':_0x3dd178['id']??'','setItemBarCode2':_0x3dd178[_0x28c1ed(0x241)]??'','setUnidadCodigo2':_0x3dd178[_0x28c1ed(0x2e4)]??'','setUnidadEquivalencia2':_0x3dd178[_0x28c1ed(0x295)]??'','PEN_setMtoPrecioUnitario2':_0xc79926(_0x3dd178,_0x28c1ed(0x1d6),_0x28c1ed(0x21a))??'','PEN_setMtoPrecioCostoUnitario2':_0xc79926(_0x3dd178,_0x28c1ed(0x1d6),_0x28c1ed(0x1f3))??'','USD_setMtoPrecioUnitario2':_0xc79926(_0x3dd178,_0x28c1ed(0x268),_0x28c1ed(0x21a))??'','USD_setMtoPrecioCostoUnitario2':_0xc79926(_0x3dd178,'USD','setMtoPrecioCostoUnitario')??'','setInventariable':_0x2bc4ce[_0x28c1ed(0x1ae)],'setSucursalStock':_0x2bc4ce[_0x28c1ed(0x2dd)][_0x28c1ed(0x1bf)](_0x67d66f=>String(_0x67d66f[_0x28c1ed(0x2bb)])==String(_0x2414f8))[_0x28c1ed(0x21e)],'setWarehouseStockMin':_0x2bc4ce['sucursales'][_0x28c1ed(0x1bf)](_0x369531=>String(_0x369531[_0x28c1ed(0x2bb)])==String(_0x2414f8))[_0x28c1ed(0x2cf)],'setBatchName':_0x2bc4ce['setBatchName'],'setBatchExpirationDate':_0x2bc4ce[_0x28c1ed(0x215)],..._0x2bc4ce[_0x28c1ed(0x289)]};});try{JSON[_0x428c9d(0x267)](_0x2dd89c);}catch(_0x46306e){console[_0x428c9d(0x2f7)]('ERROR:\x20plainProducts\x20no\x20serializable:',_0x46306e),ntfShow(_0x428c9d(0x1e3));return;}statusDiv[_0x428c9d(0x201)]=_0x428c9d(0x2d4),progressBar[_0x428c9d(0x2e0)][_0x428c9d(0x1aa)]=_0x428c9d(0x251),progressBar[_0x428c9d(0x2c0)]=0x0,itemWorker['postMessage']({'action':_0x428c9d(0x24b),'products':_0x2dd89c,'plantillaBuf':_0x5d5e9d},[_0x5d5e9d]);}catch(_0x27c7db){console[_0x428c9d(0x2f7)](_0x27c7db),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x27c7db[_0x428c9d(0x1a5)]);}}itemWorker[_0x1cb413(0x25f)]=({data:_0x2eff72})=>{var _0x2f9d6b=_0x1cb413;const {type:_0x11d01d,payload:_0x28a355}=_0x2eff72;_0x11d01d===_0x2f9d6b(0x1b1)&&(progressBar[_0x2f9d6b(0x2e0)][_0x2f9d6b(0x1aa)]='block',progressBar['value']=_0x28a355[_0x2f9d6b(0x2f6)],statusDiv['textContent']=_0x28a355[_0x2f9d6b(0x1a5)]);_0x11d01d===_0x2f9d6b(0x24e)&&(newItemsExcel=_0x28a355[_0x2f9d6b(0x1dd)],statusDiv[_0x2f9d6b(0x201)]='✅\x20'+newItemsExcel[_0x2f9d6b(0x260)]+_0x2f9d6b(0x26e),uploadBtn[_0x2f9d6b(0x212)]=![],progressBar[_0x2f9d6b(0x2c0)]=0x64,console['log'](newItemsExcel));_0x11d01d==='error'&&(statusDiv[_0x2f9d6b(0x201)]=_0x2f9d6b(0x22f)+_0x28a355,progressBar[_0x2f9d6b(0x2e0)][_0x2f9d6b(0x1aa)]=_0x2f9d6b(0x1ec));if(_0x11d01d===_0x2f9d6b(0x258)){const {wbout:_0x557173,count:_0x4dda27}=_0x28a355,_0x4200a2=new Blob([_0x557173],{'type':_0x2f9d6b(0x1da)}),_0x5ed1bc=URL[_0x2f9d6b(0x2a9)](_0x4200a2),_0x2ae0ac=document[_0x2f9d6b(0x2c3)]('a'),_0x582679=new Date()[_0x2f9d6b(0x238)]()[_0x2f9d6b(0x252)](0x0,0xa);_0x2ae0ac['download']=_0x2f9d6b(0x2b7)+_0x582679+_0x2f9d6b(0x28b),_0x2ae0ac[_0x2f9d6b(0x234)]=_0x5ed1bc,_0x2ae0ac[_0x2f9d6b(0x2c6)](),URL[_0x2f9d6b(0x2bf)](_0x5ed1bc),statusDiv[_0x2f9d6b(0x201)]=_0x2f9d6b(0x287)+_0x4dda27+_0x2f9d6b(0x281),progressBar[_0x2f9d6b(0x2e0)][_0x2f9d6b(0x1aa)]=_0x2f9d6b(0x1ec);}},fileInput[_0x1cb413(0x242)]('change',async _0x4a88ae=>{var _0x4825ac=_0x1cb413;const _0x328528=_0x4a88ae[_0x4825ac(0x29a)][_0x4825ac(0x1fd)][0x0];if(!_0x328528)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x4825ac(0x201)]='',progressBar[_0x4825ac(0x2e0)]['display']='none',dropZone[_0x4825ac(0x2e7)](_0x4825ac(0x20d))[_0x4825ac(0x201)]=_0x328528['name'],removeBtn['hidden']=![];try{const _0xd4a6ea=await _0x328528[_0x4825ac(0x23d)]();itemWorker[_0x4825ac(0x28e)]({'action':_0x4825ac(0x2e9),'buf':_0xd4a6ea,'maxRows':0x1388});}catch(_0x53f905){statusDiv[_0x4825ac(0x201)]=_0x4825ac(0x1ba);}finally{fileInput[_0x4825ac(0x2c0)]='';}}),uploadBtn[_0x1cb413(0x242)]('click',async()=>{var _0x40d3ce=_0x1cb413;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2a7f7c=document[_0x40d3ce(0x294)](_0x40d3ce(0x1f6))['value'],_0x4335d2=[];newItemsExcel['forEach'](_0x16b209=>{var _0x5f5197=_0x40d3ce;const _0x580bc6=Boolean(_0x16b209[_0x5f5197(0x1f8)]),_0x42b990=_0x580bc6?_0x16b209[_0x5f5197(0x1f8)]:generateNumericUniqId();_0x16b209['setItemWarehouses']=[{'setStockInitial':_0x16b209[_0x5f5197(0x2b3)],'setStockMinimum':_0x16b209[_0x5f5197(0x2f4)],'setWarehouseCode':_0x2a7f7c}],_0x16b209[_0x5f5197(0x244)][_0x5f5197(0x1bd)](_0x61240f=>{var _0x1fc5db=_0x5f5197;const _0x2b37a8=Boolean(_0x61240f['setItemUnitId']),_0x237de0=_0x2b37a8?_0x61240f[_0x1fc5db(0x211)]:generateNumericUniqId();_0x61240f['setItemUnitId']=_0x237de0;const _0x1ac212=[];_0x1ac212[_0x1fc5db(0x298)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x61240f[_0x1fc5db(0x2cd)],'setMtoPrecioUnitario':_0x61240f[_0x1fc5db(0x208)],'setPriceLists':[]});const _0x40ea97=_0x61240f[_0x1fc5db(0x1b3)]!=null&&_0x61240f[_0x1fc5db(0x1bc)]!=null&&(!isNaN(_0x61240f[_0x1fc5db(0x1b3)])||!isNaN(_0x61240f[_0x1fc5db(0x1bc)]));_0x40ea97&&_0x1ac212['push']({'currency':'USD','setMtoPrecioCostoUnitario':_0x61240f[_0x1fc5db(0x1b3)],'setMtoPrecioUnitario':_0x61240f[_0x1fc5db(0x1bc)],'setPriceLists':[]});const _0x505638={'id':_0x237de0,'setIdProducto':_0x42b990,'setItemBarCode':_0x61240f[_0x1fc5db(0x241)],'setCodProducto':_0x16b209['setItemCode'],'setDescripcion':_0x16b209[_0x1fc5db(0x2e1)],'setItemDescription':_0x16b209[_0x1fc5db(0x2aa)],'setBatchExpirationDate':_0x16b209['setItemDateExpiry'],'setBatchName':_0x16b209['setBatchName'],'setCategoria':_0x16b209[_0x1fc5db(0x1d1)][0x0]||'','setMarca':_0x16b209[_0x1fc5db(0x254)][0x0]||'','setConversionFactor':parseFloat(_0x61240f['setFactor']),'setImages':[],'setImg':_0x1fc5db(0x277),'setInventariable':_0x16b209[_0x1fc5db(0x2c4)],'setItemIsBought':_0x16b209['setItemIsBought'],'setItemIsSold':_0x16b209[_0x1fc5db(0x2d3)],'setPorcentajeIgv':_0x16b209['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x16b209['setItemTaxId'],'setTipAfeIgv':_0x16b209[_0x1fc5db(0x239)],'setUnidad':_0x61240f[_0x1fc5db(0x246)],'setUnidadCodigo':_0x61240f[_0x1fc5db(0x246)],'setItemUnitAlias':_0x61240f[_0x1fc5db(0x1b8)],'currency_data':_0x1ac212,'sucursales':_0x16b209[_0x1fc5db(0x278)]['map'](_0x5b0cb2=>({'setIdSucursal':_0x5b0cb2[_0x1fc5db(0x256)],'setSucursalStock':_0x5b0cb2[_0x1fc5db(0x2b3)]['toString'](),'setWarehouseStockMin':_0x5b0cb2['setStockMinimum'][_0x1fc5db(0x245)]()})),'setItemFree':_0x16b209['setItemFree'],'setItemBrands':_0x16b209[_0x1fc5db(0x254)]['slice'](),'setItemCategories':_0x16b209[_0x1fc5db(0x1d1)][_0x1fc5db(0x252)](),'setItemComponents':_0x16b209[_0x1fc5db(0x2f5)][_0x1fc5db(0x286)](_0x5120fc=>({..._0x5120fc})),'setItemImages':_0x16b209['setItemImages'][_0x1fc5db(0x252)](),'setItemVariantName':_0x16b209[_0x1fc5db(0x2a2)],'setItemVariantValues':{..._0x16b209['setItemVariantValues']}},_0x3ea41a=products['findIndex'](_0x1682c3=>_0x1682c3['id']==_0x237de0&&_0x1682c3[_0x1fc5db(0x2a0)]==_0x42b990);_0x3ea41a>-0x1?Object['assign'](products[_0x3ea41a],_0x505638):_0x4335d2['push'](_0x505638);});}),console[_0x40d3ce(0x1af)](_0x40d3ce(0x20b),newItemsExcel),await finalizeImport(_0x4335d2,newItemsExcel,!![]);});function initializeFormImages(){var _0x42420f=_0x1cb413;currentImages=Array(MAX_IMAGES)[_0x42420f(0x1f4)](null),imgC['innerHTML']='',baseItem[_0x42420f(0x248)]=[];for(var _0x1e9714=0x0;_0x1e9714<MAX_IMAGES;_0x1e9714++){(function(_0xf3cb49){var _0x536c98=_0x42420f,_0x454bb3=document[_0x536c98(0x2c3)]('div');_0x454bb3[_0x536c98(0x21c)]=_0x536c98(0x2f1),_0x454bb3[_0x536c98(0x231)]['idx']=_0xf3cb49;var _0x1d4c64=document[_0x536c98(0x2c3)](_0x536c98(0x296));_0x1d4c64[_0x536c98(0x1d5)]=_0x536c98(0x210),_0x1d4c64[_0x536c98(0x1eb)]=_0x536c98(0x1b0),_0x1d4c64[_0x536c98(0x2e0)]['display']=_0x536c98(0x1ec);var _0x5b4bfd=document[_0x536c98(0x2c3)]('span');_0x5b4bfd['textContent']='+',_0x454bb3[_0x536c98(0x2b8)](_0x1d4c64),_0x454bb3[_0x536c98(0x2b8)](_0x5b4bfd),imgC[_0x536c98(0x2b8)](_0x454bb3),_0x454bb3[_0x536c98(0x242)]('click',function(){var _0x474d91=_0x536c98;_0x1d4c64[_0x474d91(0x2c6)]();}),_0x1d4c64[_0x536c98(0x242)](_0x536c98(0x2e3),function(_0x65bdf8){var _0x77c199=_0x536c98,_0x1eab9b=_0x65bdf8[_0x77c199(0x29a)][_0x77c199(0x1fd)][0x0];if(!_0x1eab9b)return removeImg(_0xf3cb49);var _0x339681=new FileReader();_0x339681[_0x77c199(0x299)]=function(_0x1682fb){var _0x2a190b=_0x77c199;_0x454bb3[_0x2a190b(0x2a5)]=_0x2a190b(0x1a2)+_0x1682fb[_0x2a190b(0x29a)][_0x2a190b(0x1ff)]+'\x22>';var _0x456b13=document['createElement'](_0x2a190b(0x2ad));_0x456b13[_0x2a190b(0x21c)]='remove',_0x456b13[_0x2a190b(0x201)]='×',_0x456b13[_0x2a190b(0x242)]('click',function(_0x2e16f7){var _0x36e945=_0x2a190b;_0x2e16f7[_0x36e945(0x2ec)](),removeImg(_0xf3cb49);}),_0x454bb3[_0x2a190b(0x2b8)](_0x456b13),currentImages[_0xf3cb49]=_0x1eab9b,baseItem[_0x2a190b(0x248)]=currentImages['filter'](function(_0xaaaec5){return _0xaaaec5;});},_0x339681[_0x77c199(0x2f2)](_0x1eab9b);});}(_0x1e9714));}}function initializeFormIsSoldIsBought(_0xa2cad1=0x0){var _0x2a98b0=_0x1cb413;let _0xc93fdb,_0xa9eb04;if(_0xa2cad1!=0x0){const _0x41321c=products[_0x2a98b0(0x1bf)](_0x48daef=>_0x48daef['id']==_0xa2cad1);_0xc93fdb=_0x41321c[_0x2a98b0(0x2c5)]==0x1||_0x41321c[_0x2a98b0(0x2c5)]==!![]?!![]:![],_0xa9eb04=_0x41321c[_0x2a98b0(0x2d3)]==0x1||_0x41321c['setItemIsSold']==!![]?!![]:![];}else _0xc93fdb=!![],_0xa9eb04=!![];document[_0x2a98b0(0x294)](_0x2a98b0(0x29e))[_0x2a98b0(0x2d5)]=_0xc93fdb,document[_0x2a98b0(0x294)]('newItem_chk_sell')[_0x2a98b0(0x2d5)]=_0xa9eb04,baseItem[_0x2a98b0(0x2c5)]=_0xc93fdb,baseItem[_0x2a98b0(0x2d3)]=_0xa9eb04;}function initializeFormInputsBasic(_0x2e2213=0x0){var _0x2aaa66=_0x1cb413;let _0x4495aa,_0x142e28,_0x48ec32,_0x3def2e,_0x50c51a,_0x5b7c6c;if(_0x2e2213!=0x0){const _0x2c3872=products['find'](_0x4a14aa=>_0x4a14aa['id']==_0x2e2213);_0x4495aa=_0x2c3872[_0x2aaa66(0x275)]??'1',_0x142e28=_0x2c3872[_0x2aaa66(0x2d8)],_0x48ec32=_0x2c3872[_0x2aaa66(0x2c8)],_0x3def2e=_0x2c3872[_0x2aaa66(0x2aa)],_0x50c51a=_0x2c3872[_0x2aaa66(0x215)]??'',_0x5b7c6c=_0x2c3872['setItemBarCode'];}else _0x4495aa='1',_0x142e28=getNextCode(products),_0x48ec32='',_0x3def2e='',_0x50c51a='',_0x5b7c6c='';document[_0x2aaa66(0x294)](_0x2aaa66(0x2df))[_0x2aaa66(0x2c0)]=_0x4495aa,document[_0x2aaa66(0x294)](_0x2aaa66(0x2a3))[_0x2aaa66(0x2c0)]=_0x142e28,document[_0x2aaa66(0x294)]('inputItemName')[_0x2aaa66(0x2c0)]=_0x48ec32,document[_0x2aaa66(0x294)]('inputItemDescription')['value']=_0x3def2e,document[_0x2aaa66(0x294)](_0x2aaa66(0x255))[_0x2aaa66(0x2c0)]=_0x50c51a,document['getElementById']('inputItemBarCode')[_0x2aaa66(0x2c0)]=_0x5b7c6c,baseItem[_0x2aaa66(0x275)]=_0x4495aa,baseItem[_0x2aaa66(0x261)]=_0x142e28,baseItem['setItemName']=_0x48ec32,baseItem[_0x2aaa66(0x2aa)]=_0x3def2e,baseItem[_0x2aaa66(0x285)]=_0x50c51a,baseItem[_0x2aaa66(0x241)]=_0x5b7c6c,document[_0x2aaa66(0x294)](_0x2aaa66(0x2eb))[_0x2aaa66(0x2d5)]=![];}function initializeFormTax(_0x572a5d=0x0){var _0x3fcc0f=_0x1cb413;let _0x13e6d8;if(_0x572a5d!=0x0){const _0x1ccf90=products['find'](_0x469332=>_0x469332['id']==_0x572a5d);_0x13e6d8=_0x1ccf90[_0x3fcc0f(0x265)];}else _0x13e6d8=myCompany[_0x3fcc0f(0x2da)];const _0x7e807f=document[_0x3fcc0f(0x294)](_0x3fcc0f(0x220));_0x7e807f[_0x3fcc0f(0x2c0)]=_0x13e6d8,baseItem[_0x3fcc0f(0x1a4)]=_0x13e6d8;const _0x3597eb=company[0x0]['setImpuestos'][_0x3fcc0f(0x1bf)](_0x37e94c=>_0x37e94c[_0x3fcc0f(0x265)]==_0x13e6d8)?.[_0x3fcc0f(0x22a)]||0x0,_0x119661=company[0x0][_0x3fcc0f(0x1ac)]['find'](_0x5e2121=>_0x5e2121[_0x3fcc0f(0x265)]==_0x13e6d8)?.['setImpuestoValue']||0x0;baseItem[_0x3fcc0f(0x239)]=_0x3597eb,baseItem[_0x3fcc0f(0x1d9)]=_0x119661;}function initializeFormCategoriesBrands(_0x431c06=0x0){var _0x3932a3=_0x1cb413;baseItem[_0x3932a3(0x1d1)]=[],baseItem[_0x3932a3(0x254)]=[],document[_0x3932a3(0x2e7)]('#newItem_categories_select\x20.selected_tags')['innerHTML']='',document['querySelector'](_0x3932a3(0x1c2))[_0x3932a3(0x2a5)]='',document[_0x3932a3(0x2e7)](_0x3932a3(0x1cb))[_0x3932a3(0x2a5)]='',document[_0x3932a3(0x2e7)](_0x3932a3(0x1d8))[_0x3932a3(0x2a5)]='';const _0x2e217b=uniqueValuesArray(_0x3932a3(0x1b6),_0x3932a3(0x1b6),products),_0x84c864=uniqueValuesArray('setMarca',_0x3932a3(0x25c),products);initMulti('newItem_categories_select',_0x2e217b),initMulti(_0x3932a3(0x2a4),_0x84c864),document[_0x3932a3(0x294)](_0x3932a3(0x276))[_0x3932a3(0x242)](_0x3932a3(0x279),function(_0x34b26a){var _0x335283=_0x3932a3;baseItem[_0x335283(0x1d1)]=_0x34b26a['detail'][_0x335283(0x286)](_0x56e089=>_0x56e089[_0x335283(0x27d)]);}),document[_0x3932a3(0x294)](_0x3932a3(0x2a4))['addEventListener'](_0x3932a3(0x279),function(_0x2fa854){var _0x202a9d=_0x3932a3;baseItem[_0x202a9d(0x254)]=_0x2fa854[_0x202a9d(0x1e4)][_0x202a9d(0x286)](_0x25c61b=>_0x25c61b[_0x202a9d(0x27d)]);});if(_0x431c06!=0x0){const _0x3ae6e7=products[_0x3932a3(0x1bf)](_0x5dd829=>_0x5dd829['id']==_0x431c06);if(_0x3ae6e7[_0x3932a3(0x1b6)]){const _0x1ece59=document[_0x3932a3(0x294)]('newItem_categories_select'),_0x4e53a2=Array[_0x3932a3(0x280)](_0x1ece59[_0x3932a3(0x2b9)](_0x3932a3(0x1b4)))[_0x3932a3(0x1bf)](_0x54660f=>_0x54660f['dataset'][_0x3932a3(0x1f1)]==_0x3ae6e7[_0x3932a3(0x1b6)]);_0x4e53a2&&_0x4e53a2['click']();}if(_0x3ae6e7[_0x3932a3(0x25c)]){const _0x105cf5=document[_0x3932a3(0x294)]('newItem_brands_select'),_0x150ba9=Array['from'](_0x105cf5[_0x3932a3(0x2b9)](_0x3932a3(0x1b4)))['find'](_0x2e2576=>_0x2e2576[_0x3932a3(0x231)][_0x3932a3(0x1f1)]==_0x3ae6e7[_0x3932a3(0x25c)]);_0x150ba9&&_0x150ba9[_0x3932a3(0x2c6)]();}}}function initializeFormUnits(){var _0x480c02=_0x1cb413;unitCount=0x0,document['getElementById'](_0x480c02(0x2b2))[_0x480c02(0x2a5)]='',baseItem['setItemUnits']=[];var _0xd0884b=uniqueValuesArray(_0x480c02(0x246),_0x480c02(0x1e2),myCompany[_0x480c02(0x269)]);addUnit('',_0xd0884b[0x3a]&&_0xd0884b[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x7b8aeb=_0x1cb413;prodC[_0x7b8aeb(0x2a5)]='',baseItem[_0x7b8aeb(0x2f5)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x228bbc=_0x1cb413;branchesC[_0x228bbc(0x2a5)]='',baseItem['setItemWarehouses']=[];const _0x4b8d58=getAllWarehouses();_0x4b8d58[_0x228bbc(0x1bd)](function(_0x3e75f7){var _0x5c44ed=_0x228bbc,_0x4ce12e=document[_0x5c44ed(0x2c3)]('div');_0x4ce12e[_0x5c44ed(0x2a5)]=_0x5c44ed(0x22c)+'<div\x20class=\x22newItem_col\x22>'+_0x5c44ed(0x24c)+_0x3e75f7['setWarehouseId']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x3e75f7[_0x5c44ed(0x27b)]+_0x5c44ed(0x293)+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x5c44ed(0x23c)+_0x3e75f7['setWarehouseId']+'\x22>'+_0x5c44ed(0x2f3)+_0x5c44ed(0x1cc)+_0x5c44ed(0x2fa)+_0x3e75f7[_0x5c44ed(0x1f6)]+'\x22>'+'</div>'+'</div>',branchesC[_0x5c44ed(0x2b8)](_0x4ce12e),_0x4ce12e[_0x5c44ed(0x2b9)](_0x5c44ed(0x296))['forEach'](function(_0x487be1){var _0x1a8a04=_0x5c44ed;_0x487be1[_0x1a8a04(0x242)](_0x1a8a04(0x296),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x378459=_0x1cb413;baseItem[_0x378459(0x2a2)]='',baseItem[_0x378459(0x289)]={},vgC[_0x378459(0x2a5)]='',varContainer[_0x378459(0x2a5)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x297f3b,_0x1b1de7,_0x21dcfa=![]){var _0x40c673=_0x1cb413;const _0x38972=0xc8,_0x4cab2c={'apiPOSsendOffline':'1','setTipoOperacion':_0x40c673(0x1c6),'setToken':company[0x0][_0x40c673(0x1f0)],'setWebhook':company[0x0][_0x40c673(0x214)]};for(let _0x37e1de=0x0;_0x37e1de<_0x1b1de7[_0x40c673(0x260)];_0x37e1de+=_0x38972){const _0x378fbd=_0x1b1de7['slice'](_0x37e1de,_0x37e1de+_0x38972);await storeOfflineProduct({..._0x4cab2c,'newItems':_0x378fbd});}products[_0x40c673(0x298)](..._0x297f3b),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x21dcfa?(fileInput[_0x40c673(0x2c0)]='',uploadBtn[_0x40c673(0x212)]=!![],statusDiv['textContent']='',progressBar[_0x40c673(0x2e0)][_0x40c673(0x1aa)]=_0x40c673(0x1ec),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}