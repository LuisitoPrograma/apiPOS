/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.0
*/

const _0x4bd122=_0x3a72;(function(_0x3d233f,_0x7460e7){const _0x1f2c86=_0x3a72,_0x5aae32=_0x3d233f();while(!![]){try{const _0x58019b=parseInt(_0x1f2c86(0x166))/0x1+parseInt(_0x1f2c86(0x149))/0x2*(-parseInt(_0x1f2c86(0x134))/0x3)+-parseInt(_0x1f2c86(0x135))/0x4*(-parseInt(_0x1f2c86(0x159))/0x5)+-parseInt(_0x1f2c86(0x161))/0x6*(parseInt(_0x1f2c86(0x133))/0x7)+parseInt(_0x1f2c86(0x160))/0x8*(parseInt(_0x1f2c86(0x12b))/0x9)+parseInt(_0x1f2c86(0x14b))/0xa+-parseInt(_0x1f2c86(0x15c))/0xb;if(_0x58019b===_0x7460e7)break;else _0x5aae32['push'](_0x5aae32['shift']());}catch(_0x202e1b){_0x5aae32['push'](_0x5aae32['shift']());}}}(_0x420b,0x934cc));const selectCredentialsApiWAChat=document[_0x4bd122(0x142)](_0x4bd122(0x144)),loginPanel=document[_0x4bd122(0x142)](_0x4bd122(0x147)),chatPanel=document[_0x4bd122(0x142)](_0x4bd122(0x140)),qrImg=document[_0x4bd122(0x142)](_0x4bd122(0x137)),overlay=document[_0x4bd122(0x142)](_0x4bd122(0x15e));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x28b49b=_0x4bd122;loginPanel[_0x28b49b(0x15a)]['display']='flex',chatPanel[_0x28b49b(0x15a)][_0x28b49b(0x12d)]=_0x28b49b(0x13a);}function _0x3a72(_0x2bd54c,_0x125a83){const _0x5ee9cd=_0x420b();return _0x3a72=function(_0x4a31f5,_0x2359a2){_0x4a31f5=_0x4a31f5-0x126;let _0x2390f1=_0x5ee9cd[_0x4a31f5];return _0x2390f1;},_0x3a72(_0x2bd54c,_0x125a83);}function showChat(){const _0x49c80b=_0x4bd122;loginPanel['style'][_0x49c80b(0x158)]=_0x49c80b(0x13e),chatPanel[_0x49c80b(0x15a)][_0x49c80b(0x12d)]='visible';}async function initQRApiWAChat(_0x36261e,_0x4ebc82){const _0x3edb93=_0x4bd122,_0x12f672=(function(){let _0x132fde=!![];return function(_0x327a23,_0x4069b8){const _0x401fe7=_0x132fde?function(){const _0x7845aa=_0x3a72;if(_0x4069b8){const _0x16abd0=_0x4069b8[_0x7845aa(0x155)](_0x327a23,arguments);return _0x4069b8=null,_0x16abd0;}}:function(){};return _0x132fde=![],_0x401fe7;};}()),_0x110121=_0x12f672(this,function(){const _0x5eff73=_0x3a72;return _0x110121[_0x5eff73(0x143)]()[_0x5eff73(0x12a)](_0x5eff73(0x13f))['toString']()[_0x5eff73(0x139)](_0x110121)['search'](_0x5eff73(0x13f));});_0x110121();const _0x202ea0=(function(){let _0x55a83a=!![];return function(_0x43b22e,_0x5b7dcb){const _0x528fc2=_0x55a83a?function(){const _0x2b7d21=_0x3a72;if(_0x5b7dcb){const _0x26680d=_0x5b7dcb[_0x2b7d21(0x155)](_0x43b22e,arguments);return _0x5b7dcb=null,_0x26680d;}}:function(){};return _0x55a83a=![],_0x528fc2;};}()),_0x4c02b4=_0x202ea0(this,function(){const _0x1b9284=_0x3a72;let _0x3bab07;try{const _0x2e54d6=Function('return\x20(function()\x20'+_0x1b9284(0x13d)+');');_0x3bab07=_0x2e54d6();}catch(_0x5449d5){_0x3bab07=window;}const _0x572084=_0x3bab07[_0x1b9284(0x12f)]=_0x3bab07[_0x1b9284(0x12f)]||{},_0x5c210d=[_0x1b9284(0x146),_0x1b9284(0x145),_0x1b9284(0x14c),'error','exception','table','trace'];for(let _0x8f7808=0x0;_0x8f7808<_0x5c210d[_0x1b9284(0x15f)];_0x8f7808++){const _0x1cda33=_0x202ea0[_0x1b9284(0x139)][_0x1b9284(0x13c)]['bind'](_0x202ea0),_0x3b7f3c=_0x5c210d[_0x8f7808],_0x5368b0=_0x572084[_0x3b7f3c]||_0x1cda33;_0x1cda33['__proto__']=_0x202ea0[_0x1b9284(0x13b)](_0x202ea0),_0x1cda33[_0x1b9284(0x143)]=_0x5368b0['toString'][_0x1b9284(0x13b)](_0x5368b0),_0x572084[_0x3b7f3c]=_0x1cda33;}});_0x4c02b4();const _0x20ef91=selectCredentialsApiWAChat[_0x3edb93(0x163)],_0x3bb083=getCredentialsApiWAChat(_0x20ef91);if(!_0x3bb083){ntfShow(_0x3edb93(0x165));return;}const _0x3dc030=_0x3bb083['setCredentialsApiWAChatSubdomain'],_0x2cbc35=_0x3bb083['setCredentialsApiWAChatPort'];if(_0x36261e===_0x3edb93(0x158))clearTimeout(qrTimeout),overlay[_0x3edb93(0x15a)][_0x3edb93(0x158)]=_0x3edb93(0x13e),qrImg[_0x3edb93(0x148)]=_0x4ebc82,qrTimeout=setTimeout(async()=>{const _0x5f2f71=_0x3edb93;try{const _0xf82de9=await fetch(_0x5f2f71(0x128)+_0x3dc030+_0x5f2f71(0x14a)+_0x2cbc35+_0x5f2f71(0x141),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x1173a0=await _0xf82de9[_0x5f2f71(0x151)]();_0x1173a0['status']&&_0x1173a0['status'][_0x5f2f71(0x162)]()[_0x5f2f71(0x12e)](_0x5f2f71(0x131))?(showChat(),_0x3bb083['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x5f2f71(0x15a)][_0x5f2f71(0x158)]=_0x5f2f71(0x14d),_0x3bb083['setCredentialsApiWAChatStatus']=0x0);const _0xf8357f=await createCartStore('');await saveCompanyToIndexedDB(company,_0xf8357f);}catch(_0x53953f){console['error'](_0x5f2f71(0x167),_0x53953f),overlay['style'][_0x5f2f71(0x158)]=_0x5f2f71(0x14d);}},validSeconds*0x3e8);else{if(_0x36261e===_0x3edb93(0x129))try{const _0x124db2=await fetch(_0x3edb93(0x128)+_0x3dc030+_0x3edb93(0x14a)+_0x2cbc35+_0x3edb93(0x141),{'headers':{'x-auth-token':myCompany[_0x3edb93(0x156)]}}),_0x5e8c9c=await _0x124db2[_0x3edb93(0x151)]();if(_0x5e8c9c[_0x3edb93(0x12c)]&&_0x5e8c9c['status'][_0x3edb93(0x162)]()[_0x3edb93(0x12e)](_0x3edb93(0x131)))showChat(),_0x3bb083[_0x3edb93(0x136)]=0x1;else _0x5e8c9c['qr']&&(showLogin(),await initQRApiWAChat(_0x3edb93(0x158),_0x5e8c9c['qr']),_0x3bb083[_0x3edb93(0x136)]=0x0);const _0x15297d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x15297d);}catch(_0x351695){console[_0x3edb93(0x14f)](_0x351695);}}}overlay[_0x4bd122(0x127)]('click',()=>initQRApiWAChat(_0x4bd122(0x129))),window[_0x4bd122(0x164)]=function(){const _0x303c2d=_0x4bd122,_0x4b59e5=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x3163c7=document[_0x303c2d(0x130)](_0x303c2d(0x132));_0x3163c7&&_0x3163c7[_0x303c2d(0x127)](_0x303c2d(0x126),function(){logoutReload(0x0,_0x4b59e5);}),document[_0x303c2d(0x142)](_0x303c2d(0x144))['addEventListener']('change',async function(){const _0x4af454=_0x303c2d;saveCredentialsApiWAChatInCompany();const _0x4090c7=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4090c7),location[_0x4af454(0x153)]();}),document[_0x303c2d(0x142)](_0x303c2d(0x138))[_0x303c2d(0x127)](_0x303c2d(0x157),async function(){const _0x282ef3=_0x303c2d,_0x2f0164=parseInt(this['value']);myCompany['setBranchDefault']=_0x2f0164,saveCredentialsApiWAChatInCompany();const _0x2bde36=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2bde36),await cargarPisos(_0x2f0164),await waitForEvent(_0x282ef3(0x15d),'EnvironmentChangeComplete'),await cargarAlmacenes(_0x2f0164),await waitForEvent(_0x282ef3(0x154),'WarehouseChangeComplete'),document[_0x282ef3(0x15b)](new Event(_0x282ef3(0x150))),ntf_initNotifications();}),document[_0x303c2d(0x142)](_0x303c2d(0x154))[_0x303c2d(0x127)](_0x303c2d(0x157),async function(){const _0x255e61=_0x303c2d;document['dispatchEvent'](new Event(_0x255e61(0x152)));}),document['getElementById'](_0x303c2d(0x15d))[_0x303c2d(0x127)](_0x303c2d(0x157),async function(_0x1a2d72){const _0x163114=_0x303c2d;document['dispatchEvent'](new Event(_0x163114(0x14e)));}),loadCartAndSetTabCount(_0x4b59e5);};function _0x420b(){const _0x10f1f3=['search','27DUHHpj','status','visibility','includes','console','querySelector','ya\x20conectado','.btn-logout','467131CifJdf','18ymgXLr','4OlSigl','setCredentialsApiWAChatStatus','qr-img','setBranchId','constructor','hidden','bind','prototype','{}.constructor(\x22return\x20this\x22)(\x20)','none','(((.+)+)+)+$','chatPanel','/qr','getElementById','toString','setCredentialsApiWAChat','warn','log','loginPanel','src','52036WtMrYu','/wa/','3280660aolLOS','info','flex','EnvironmentChangeComplete','error','BranchChangeComplete','json','WarehouseChangeComplete','reload','setWarehouseId','apply','setAuthToken','change','display','4436350UmkECZ','style','dispatchEvent','6667826lqYcwL','setFloorId','qr-overlay','length','224528IqSNQr','66UWwHVW','toLowerCase','value','onload','Credenciales\x20no\x20encontradas','800143WigawQ','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','click','addEventListener','https://','init'];_0x420b=function(){return _0x10f1f3;};return _0x420b();}