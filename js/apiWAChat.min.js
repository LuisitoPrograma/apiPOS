/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.5
*/

const _0x32c76e=_0x5c3d;(function(_0x3cbe6e,_0x57dcde){const _0x322a2e=_0x5c3d,_0x5ac8a9=_0x3cbe6e();while(!![]){try{const _0x3f00de=-parseInt(_0x322a2e(0x19d))/0x1*(-parseInt(_0x322a2e(0x19c))/0x2)+parseInt(_0x322a2e(0x1a6))/0x3*(-parseInt(_0x322a2e(0x18f))/0x4)+parseInt(_0x322a2e(0x1ab))/0x5+parseInt(_0x322a2e(0x1b1))/0x6*(-parseInt(_0x322a2e(0x1b2))/0x7)+-parseInt(_0x322a2e(0x191))/0x8+-parseInt(_0x322a2e(0x1c0))/0x9+parseInt(_0x322a2e(0x188))/0xa*(parseInt(_0x322a2e(0x1bc))/0xb);if(_0x3f00de===_0x57dcde)break;else _0x5ac8a9['push'](_0x5ac8a9['shift']());}catch(_0x2c2796){_0x5ac8a9['push'](_0x5ac8a9['shift']());}}}(_0x53de,0x358fd));const _0x25fde7=(function(){let _0x2b44d7=!![];return function(_0x18759a,_0x12e6b7){const _0x478e50=_0x2b44d7?function(){if(_0x12e6b7){const _0x987d16=_0x12e6b7['apply'](_0x18759a,arguments);return _0x12e6b7=null,_0x987d16;}}:function(){};return _0x2b44d7=![],_0x478e50;};}()),_0x585d5e=_0x25fde7(this,function(){const _0x120b6b=_0x5c3d;return _0x585d5e[_0x120b6b(0x192)]()[_0x120b6b(0x19a)](_0x120b6b(0x18b))['toString']()[_0x120b6b(0x1b6)](_0x585d5e)[_0x120b6b(0x19a)](_0x120b6b(0x18b));});_0x585d5e();const _0x473158=(function(){let _0x4fc9df=!![];return function(_0x300773,_0x33e0ff){const _0x156570=_0x4fc9df?function(){if(_0x33e0ff){const _0x49ad4d=_0x33e0ff['apply'](_0x300773,arguments);return _0x33e0ff=null,_0x49ad4d;}}:function(){};return _0x4fc9df=![],_0x156570;};}()),_0x455f6f=_0x473158(this,function(){const _0xb2ac13=_0x5c3d,_0x3e44c1=function(){const _0x5cd662=_0x5c3d;let _0x5ef486;try{_0x5ef486=Function(_0x5cd662(0x1aa)+_0x5cd662(0x1b5)+');')();}catch(_0x53fe28){_0x5ef486=window;}return _0x5ef486;},_0x3e66dd=_0x3e44c1(),_0x5ef931=_0x3e66dd[_0xb2ac13(0x1ac)]=_0x3e66dd[_0xb2ac13(0x1ac)]||{},_0x3622c0=['log',_0xb2ac13(0x194),_0xb2ac13(0x1ae),_0xb2ac13(0x18a),_0xb2ac13(0x1a4),_0xb2ac13(0x1c1),'trace'];for(let _0x78bc0b=0x0;_0x78bc0b<_0x3622c0['length'];_0x78bc0b++){const _0x1d41a1=_0x473158['constructor'][_0xb2ac13(0x185)][_0xb2ac13(0x197)](_0x473158),_0x303ad7=_0x3622c0[_0x78bc0b],_0x318958=_0x5ef931[_0x303ad7]||_0x1d41a1;_0x1d41a1['__proto__']=_0x473158[_0xb2ac13(0x197)](_0x473158),_0x1d41a1[_0xb2ac13(0x192)]=_0x318958[_0xb2ac13(0x192)]['bind'](_0x318958),_0x5ef931[_0x303ad7]=_0x1d41a1;}});_0x455f6f();const selectCredentialsApiWAChat=document['getElementById']('setCredentialsApiWAChat'),loginPanel=document[_0x32c76e(0x1ba)]('loginPanel'),chatPanel=document[_0x32c76e(0x1ba)]('chatPanel'),qrImg=document['getElementById']('qr-img'),overlay=document[_0x32c76e(0x1ba)](_0x32c76e(0x1b4));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x56bce7=_0x32c76e;loginPanel[_0x56bce7(0x1b3)]['display']=_0x56bce7(0x1a7),chatPanel['style'][_0x56bce7(0x1b7)]='hidden';}function _0x53de(){const _0x393460=['querySelector','setBranchId','getElementById','setBranchDefault','2588003XOeSZr','value','/wa/','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','2558898KMIyuX','table','then','prototype','setFloorId','.btn-logout','50lCyujc','catch','error','(((.+)+)+)+$','setCredentialsApiWAChatSubdomain','json','addEventListener','28jRCZOg','https://','916152wmNtwj','toString','Credenciales\x20no\x20encontradas','warn','/qr','ya\x20conectado','bind','./img/apiPOS.png','change','search','toLowerCase','4232eGgubd','1ULBbdD','setCredentialsApiWAChatStatus','display','includes','visible','src','setAuthToken','exception','dispatchEvent','99771awYXOl','flex','setCredentialsApiWAChatPort','none','return\x20(function()\x20','446070VnYCCg','console','setWarehouseId','info','status','click','6KyHWvX','2916662EjzZBc','style','qr-overlay','{}.constructor(\x22return\x20this\x22)(\x20)','constructor','visibility'];_0x53de=function(){return _0x393460;};return _0x53de();}function _0x5c3d(_0x5d92d3,_0x1e52a0){const _0x16126a=_0x53de();return _0x5c3d=function(_0x455f6f,_0x473158){_0x455f6f=_0x455f6f-0x184;let _0x5c7f89=_0x16126a[_0x455f6f];return _0x5c7f89;},_0x5c3d(_0x5d92d3,_0x1e52a0);}function showChat(){const _0x27dcd2=_0x32c76e;loginPanel['style'][_0x27dcd2(0x19f)]='none',chatPanel[_0x27dcd2(0x1b3)][_0x27dcd2(0x1b7)]=_0x27dcd2(0x1a1);}async function displayQR(_0x1e8734){const _0x13bf69=_0x32c76e,_0x2994ca=selectCredentialsApiWAChat[_0x13bf69(0x1bd)],_0x948248=getCredentialsApiWAChat(_0x2994ca);if(_0x948248){const _0x346b3d=_0x948248[_0x13bf69(0x18c)],_0x28c343=_0x948248[_0x13bf69(0x1a8)];clearTimeout(qrTimeout),overlay[_0x13bf69(0x1b3)][_0x13bf69(0x19f)]=_0x13bf69(0x1a9),qrImg[_0x13bf69(0x1a2)]=_0x1e8734,qrTimeout=setTimeout(()=>{const _0x7ca6f2=_0x13bf69;fetch(_0x7ca6f2(0x190)+_0x346b3d+_0x7ca6f2(0x1be)+_0x28c343+_0x7ca6f2(0x195),{'headers':{'x-auth-token':myCompany['setAuthToken']}})[_0x7ca6f2(0x184)](async _0x47ff3e=>_0x47ff3e[_0x7ca6f2(0x18d)]())[_0x7ca6f2(0x184)](async _0x5d658f=>{const _0x17d3cd=_0x7ca6f2;_0x5d658f[_0x17d3cd(0x1af)]&&_0x5d658f[_0x17d3cd(0x1af)][_0x17d3cd(0x19b)]()[_0x17d3cd(0x1a0)](_0x17d3cd(0x196))?(showChat(),_0x948248[_0x17d3cd(0x19e)]=0x1):(overlay[_0x17d3cd(0x1b3)][_0x17d3cd(0x19f)]=_0x17d3cd(0x1a7),_0x948248[_0x17d3cd(0x19e)]=0x0);const _0x3c8352=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3c8352);})[_0x7ca6f2(0x189)](_0x3ce21a=>{const _0x4773e7=_0x7ca6f2;console[_0x4773e7(0x18a)](_0x4773e7(0x1bf),_0x3ce21a),overlay[_0x4773e7(0x1b3)][_0x4773e7(0x19f)]='flex';});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}async function init(){const _0x2e72b9=_0x32c76e,_0xa868ca=selectCredentialsApiWAChat['value'],_0x417142=getCredentialsApiWAChat(_0xa868ca);if(_0x417142){const _0x468ae1=_0x417142['setCredentialsApiWAChatSubdomain'],_0x4b43fc=_0x417142[_0x2e72b9(0x1a8)];fetch(_0x2e72b9(0x190)+_0x468ae1+'/wa/'+_0x4b43fc+_0x2e72b9(0x195),{'headers':{'x-auth-token':myCompany[_0x2e72b9(0x1a3)]}})[_0x2e72b9(0x184)](async _0x4afb8b=>_0x4afb8b[_0x2e72b9(0x18d)]())['then'](async _0x2a181f=>{const _0x599bbc=_0x2e72b9;if(_0x2a181f['status']&&_0x2a181f[_0x599bbc(0x1af)]['toLowerCase']()['includes'](_0x599bbc(0x196)))showChat(),_0x417142['setCredentialsApiWAChatStatus']=0x1;else _0x2a181f['qr']&&(showLogin(),displayQR(_0x2a181f['qr']),_0x417142[_0x599bbc(0x19e)]=0x0);const _0x4fbd9a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4fbd9a);})[_0x2e72b9(0x189)](console[_0x2e72b9(0x18a)]);}else ntfShow(_0x2e72b9(0x193));}overlay[_0x32c76e(0x18e)]('click',init),window['onload']=function(){const _0x5e8ac4=_0x32c76e,_0x460418=0x4;loadLoginContent(_0x5e8ac4(0x198)),setUserNameGet(),setEventBtnAccess();const _0x48b61e=document[_0x5e8ac4(0x1b8)](_0x5e8ac4(0x187));_0x48b61e&&_0x48b61e[_0x5e8ac4(0x18e)](_0x5e8ac4(0x1b0),function(){logoutReload(0x0,_0x460418);}),document[_0x5e8ac4(0x1ba)](_0x5e8ac4(0x1b9))['addEventListener'](_0x5e8ac4(0x199),async function(){const _0x3e6d35=_0x5e8ac4,_0xa842e8=parseInt(this[_0x3e6d35(0x1bd)]);myCompany[_0x3e6d35(0x1bb)]=_0xa842e8,saveCredentialsApiWAChatInCompany();const _0x3fb526=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3fb526),cargarAlmacenes(_0xa842e8),setTimeout(()=>{const _0x4ccbfb=_0x3e6d35;document['getElementById'](_0x4ccbfb(0x1ad))[_0x4ccbfb(0x1a5)](new Event(_0x4ccbfb(0x199)));},0x64),cargarPisos(_0xa842e8),setTimeout(()=>{const _0x3276f9=_0x3e6d35;document[_0x3276f9(0x1ba)](_0x3276f9(0x186))[_0x3276f9(0x1a5)](new Event(_0x3276f9(0x199)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x460418);};