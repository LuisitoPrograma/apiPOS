/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.4
*/

var _0x4dff66=_0x54ba;(function(_0x4fa41f,_0x432e89){var _0x31767c=_0x54ba,_0x5b9c26=_0x4fa41f();while(!![]){try{var _0x2eff8e=parseInt(_0x31767c(0x297))/0x1*(-parseInt(_0x31767c(0x280))/0x2)+parseInt(_0x31767c(0x14d))/0x3+parseInt(_0x31767c(0x211))/0x4*(parseInt(_0x31767c(0x166))/0x5)+parseInt(_0x31767c(0x18a))/0x6*(-parseInt(_0x31767c(0x1d4))/0x7)+-parseInt(_0x31767c(0x285))/0x8+parseInt(_0x31767c(0x281))/0x9*(parseInt(_0x31767c(0x21f))/0xa)+parseInt(_0x31767c(0x26e))/0xb;if(_0x2eff8e===_0x432e89)break;else _0x5b9c26['push'](_0x5b9c26['shift']());}catch(_0xd09999){_0x5b9c26['push'](_0x5b9c26['shift']());}}}(_0x4501,0x8d1b0));var _0x45684b=(function(){var _0x22df8e=!![];return function(_0x145121,_0x595a37){var _0x5ce956=_0x22df8e?function(){var _0x97189c=_0x54ba;if(_0x595a37){var _0x47569d=_0x595a37[_0x97189c(0x226)](_0x145121,arguments);return _0x595a37=null,_0x47569d;}}:function(){};return _0x22df8e=![],_0x5ce956;};}()),_0xfaa6f8=_0x45684b(this,function(){var _0x5d31a2=_0x54ba;return _0xfaa6f8[_0x5d31a2(0x259)]()[_0x5d31a2(0x15d)](_0x5d31a2(0x1d1))['toString']()['constructor'](_0xfaa6f8)[_0x5d31a2(0x15d)](_0x5d31a2(0x1d1));});_0xfaa6f8();var _0x38667d=(function(){var _0x24ef4e=!![];return function(_0x33d045,_0x2917ba){var _0x2ea2a9=_0x24ef4e?function(){var _0x3df3ee=_0x54ba;if(_0x2917ba){var _0x15e4e6=_0x2917ba[_0x3df3ee(0x226)](_0x33d045,arguments);return _0x2917ba=null,_0x15e4e6;}}:function(){};return _0x24ef4e=![],_0x2ea2a9;};}()),_0x572cf8=_0x38667d(this,function(){var _0x2e401b=_0x54ba,_0x1d507d;try{var _0x4748b0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1d507d=_0x4748b0();}catch(_0x4aaaba){_0x1d507d=window;}var _0x584684=_0x1d507d[_0x2e401b(0x16c)]=_0x1d507d[_0x2e401b(0x16c)]||{},_0x33eede=[_0x2e401b(0x210),_0x2e401b(0x25f),'info',_0x2e401b(0x239),_0x2e401b(0x17a),'table',_0x2e401b(0x14a)];for(var _0x2eb69d=0x0;_0x2eb69d<_0x33eede[_0x2e401b(0x1be)];_0x2eb69d++){var _0xb34280=_0x38667d['constructor'][_0x2e401b(0x1a4)][_0x2e401b(0x278)](_0x38667d),_0x1948e6=_0x33eede[_0x2eb69d],_0x41b4de=_0x584684[_0x1948e6]||_0xb34280;_0xb34280[_0x2e401b(0x1a3)]=_0x38667d[_0x2e401b(0x278)](_0x38667d),_0xb34280[_0x2e401b(0x259)]=_0x41b4de['toString'][_0x2e401b(0x278)](_0x41b4de),_0x584684[_0x1948e6]=_0xb34280;}});_0x572cf8();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4dff66(0x272)](_0x4dff66(0x28f)),unitCount=0x0,branchesC=document[_0x4dff66(0x272)](_0x4dff66(0x20f)),prodC=document[_0x4dff66(0x272)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x4dff66(0x272)](_0x4dff66(0x245)),vgC=document[_0x4dff66(0x272)](_0x4dff66(0x279));const fileInput=document[_0x4dff66(0x272)](_0x4dff66(0x271)),progressBar=document[_0x4dff66(0x272)]('progress'),statusDiv=document[_0x4dff66(0x272)](_0x4dff66(0x249)),uploadBtn=document[_0x4dff66(0x272)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x4dff66(0x21b)),dropZone=document['getElementById']('drop-zone'),removeBtn=document[_0x4dff66(0x272)]('remove-file');function showModalCreateItem(_0x46520c){var _0x1aac0a=_0x4dff66;const _0x2e797e=document[_0x1aac0a(0x272)]('detalleModalCreateItem'),_0x286137=document[_0x1aac0a(0x272)](_0x1aac0a(0x1c3));_0x2e797e[_0x1aac0a(0x167)][_0x1aac0a(0x242)](_0x1aac0a(0x1ac)),_0x286137['style'][_0x1aac0a(0x215)]=_0x1aac0a(0x25b);const _0x290eb0=document['getElementById'](_0x1aac0a(0x225));_0x290eb0[_0x1aac0a(0x1dc)]=parseInt(_0x46520c),baseItem[_0x1aac0a(0x225)]=parseInt(_0x46520c);const _0x5e72e1=document[_0x1aac0a(0x272)]('modalProductNewTitle');_0x46520c==0x0&&(_0x5e72e1[_0x1aac0a(0x24e)]=_0x1aac0a(0x206));_0x46520c==0x1&&(_0x5e72e1[_0x1aac0a(0x24e)]=_0x1aac0a(0x28a));const _0x4555f3=document[_0x1aac0a(0x229)](_0x1aac0a(0x16e));for(let _0x5308f9=0x0;_0x5308f9<_0x4555f3['length'];_0x5308f9++){const _0x5b3964=_0x4555f3[_0x5308f9];if(_0x46520c==0x0)_0x5b3964['classList']['remove'](_0x1aac0a(0x1cf));else _0x46520c==0x1&&_0x5b3964['classList']['add'](_0x1aac0a(0x1cf));}}function hideModalCreateItem(){var _0x5f1331=_0x4dff66;const _0x4315cc=document[_0x5f1331(0x272)](_0x5f1331(0x270)),_0x2d5817=document[_0x5f1331(0x272)](_0x5f1331(0x1c3));_0x4315cc['classList'][_0x5f1331(0x1b0)]('active'),_0x2d5817[_0x5f1331(0x237)][_0x5f1331(0x215)]=_0x5f1331(0x19e);}document[_0x4dff66(0x272)](_0x4dff66(0x1ad))[_0x4dff66(0x1d9)](_0x4dff66(0x27f),hideModalCreateItem),document[_0x4dff66(0x272)](_0x4dff66(0x1c3))[_0x4dff66(0x1d9)](_0x4dff66(0x27f),_0x4bae02=>{var _0x183cd0=_0x4dff66;_0x4bae02[_0x183cd0(0x1fb)]==_0x4bae02[_0x183cd0(0x1e2)]&&_0x4bae02[_0x183cd0(0x18e)]();});function _0x4501(){var _0x38962d=['code','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','Enter','btnExportarItems','setImpuestoName','#newItem_categories_select\x20.options_list','.vgVals','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setItemType','disabled','toString','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','block','href','<img\x20src=\x22','change','warn','setUnitName','setPriceUSD','setMtoPrecioUnitario','inputItemDateExpiry','Ingresa\x20el\x20nombre\x20del\x20item','setIdSucursal','setIdProducto','offline_operations','ERROR:\x20plainProducts\x20no\x20serializable:','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','\x22\x20value=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemTaxId','toLowerCase','3521837VPJBSz','<div\x20class=\x22newItem_col\x22>','detalleModalCreateItem','file-input','getElementById','files','result','Items\x20finales:','setMoneda','./img/product.png','bind','newItem_variant_groups','div[data-default=\x22true\x22]\x20.eqInput','Error\x20al\x20obtener\x20la\x20plantilla:\x20','newItem_title_table_cp','setItemDateExpiry','toggle','click','26568IOVuJH','9IIXiss','.options_list\x20div','slice','_branch_container','9243992BIAcSl','defineProperty','setCostUSD','tag','setCode','Producto\x20Libre','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','splice','setTaxId','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','newItem_images_container','.vgName','blur','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','querySelectorAll','message','setImpuestoCode','</div>','37qTGNFQ','inputItemDescription','setItemVariantValues','.removeUnit','.variantBarCode','trace','setCodProducto','map','2048793prTkss','#newItem_branches_container\x20>\x20div','setBatchName','newItem_btn_addVariantGroup','exportDone','inputItemTax','match','currency','.branchInit','some','.unitAlias','setItemBarCode','.drop-zone__prompt','❌\x20Error:\x20','test','focus','search','preventDefault','drop','selectionChange','dispatchEvent','Producto\x20Guardado\x20Offline\x20Correctamente.','unitSelect','image/*','_units_container','232195gINiEB','classList','setUnitCode','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setTaxIdDefault','newItem_units_container','console','findIndex','productType1','\x20items.','max','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','[id$=\x22_comp_container\x22]','idx','every','.removeProd','key','div','Ingresa\x20el\x20código\x20del\x20item','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','exception','true','accept','.removeCombo','No\x20hay\x20items\x20para\x20exportar.','setImpuestos','.selected_tags','import','readwrite','setItemCategories','.eqInput','setWarehouseStockMin','name','.options_list','USD','arrayBuffer','39702FdqcCd','entries','selected','\x22\x20class=\x22branchChk\x22\x20checked>\x20','stopPropagation','setItemBrands','indexOf','setItemInventoriable','windowId','inputItemCode','children','Collator','setAlias','setCost','setCantidad','setItemIsBought','newItem_categories_select','setItemCode','compare','eqInput','none','setItemImages','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','isArray','span','__proto__','prototype','setDescripcion','createObjectURL','.unitSelect','PEN','.xlsx','dragover','setItemDescription','active','closeModalCreateItem','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','.branchChk','remove','textContent','setItemId','setStockInitial','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','postMessage','stringify','setCategoria','setConversionFactor','closest','.removeGroup','setItemTaxValue','setSucursalStock','style=\x22display:none\x22','length','newItem_chk_buy','querySelector','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_brands_select','modalOverlayCreateItem','Generando\x20Excel...','setWarehouseId','.variantCode','dragenter','.costInput','.prod_input_container','variantForm','setItemIsSold','.prodQty','.addVariantUnit','type','hidden','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','(((.+)+)+)+$','split','priceInput','301FXDVNI','sucursales','setName','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','trim','addEventListener','\x22\x20class=\x22branchChk\x22>\x20','newItem_chk_sell','value','costInput','progress','string','selectedItem','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','currentTarget','push','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setItemWarehouses','undefined','newItem_hidden','detail','download','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','.variantExpiry','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setMtoPrecioCostoUnitario','.priceInput','newItem_title_table','setPrice','now','./excel/Plantilla-Items.xlsx','setImpuestoValue','file','default','input','[data-idx=\x22','exportItems','target','dataTransfer','.addVariantComp','sort','newItem_addToCart','parentNode','.prodInput','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setItemVariantName','setStockMinimum','.removeVariant','Nuevo\x20Producto','className','onload','setItemComponents','.variantForm','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','revokeObjectURL','setItemName','setItemTaxCode','newItem_branches_container','log','76hECBhG','#newItem_brands_select\x20.selected_tags','setItemUnits','Error\x20al\x20guardar\x20Producto\x20Offline:','display','inputItemType','#newItem_brands_select\x20.options_list','setWarehouseCode','oncomplete','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','./js/apierp_item_wk.min.js','_comp_container','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','forEach','6240670NRAZSQ','readAsDataURL','find','setBatchExpirationDate','createElement','setFactor','setItemFree','apply','currency_data','newItem_btn_addProdItem','getElementsByClassName','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','100','appendChild','vals','assign','variant_','setItemUnitId','unitAlias','checked','setWarehouseName','flatMap','inputItemBarCode','setUnits','style','from','error','.ms_input','toISOString','inputItemName','percent','contains','setAuthToken','filter','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','add','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','remove-tag','newItem_variants_forms','.branchMin','dataset','setMarca','status','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setEquivalence','\x20items\x20procesados.','newItem_btn_addUnit','innerHTML'];_0x4501=function(){return _0x38962d;};return _0x4501();}function loadTaxData(){var _0x841c7e=_0x4dff66;const _0x586cdd=document[_0x841c7e(0x272)](_0x841c7e(0x152));_0x586cdd[_0x841c7e(0x24e)]='',company[0x0][_0x841c7e(0x17f)][_0x841c7e(0x21e)](function(_0x10fc25){var _0x20d447=_0x841c7e;const _0x264940=document['createElement']('option');_0x264940[_0x20d447(0x1dc)]=_0x10fc25[_0x20d447(0x28d)],_0x264940[_0x20d447(0x24e)]=_0x10fc25[_0x20d447(0x253)]+'\x20('+_0x10fc25['setImpuestoValue']+'%)',_0x10fc25[_0x20d447(0x28d)]==company[0x0]['setTaxIdDefault']&&(_0x264940[_0x20d447(0x18c)]=!![]),_0x586cdd[_0x20d447(0x22c)](_0x264940);});}function uniqueValuesArray(_0x51752b,_0x1e1de9,_0x31481f){var _0x48afa5=_0x4dff66;const _0xefbdd6=Array[_0x48afa5(0x238)](new Set(_0x31481f['map'](_0x413d31=>{var _0xf4345=_0x48afa5;const _0x183f11=_0x413d31[_0x51752b];return typeof _0x183f11===_0xf4345(0x1df)?_0x183f11[_0xf4345(0x1d8)]():_0x183f11;})[_0x48afa5(0x240)](_0x59ffc4=>_0x59ffc4!=null&&_0x59ffc4!=='')));return _0xefbdd6[_0x48afa5(0x14c)](_0x1595a6=>{var _0x3a211d=_0x48afa5;const _0x127482=_0x31481f[_0x3a211d(0x221)](_0x18122a=>_0x18122a[_0x51752b]===_0x1595a6),_0xd26af1=_0x127482&&_0x127482[_0x1e1de9]!=null?String(_0x127482[_0x1e1de9])[_0x3a211d(0x1d8)]():_0x1595a6;return{'setCode':_0x1595a6,'setName':_0xd26af1};});}function fillSelect(_0x4cbf6f,_0x26f2c6,_0x185ee9,_0x283674){var _0x45a5a4=_0x4dff66;_0x4cbf6f[_0x45a5a4(0x24e)]='',_0x26f2c6[_0x45a5a4(0x21e)](function(_0x28d0fb){var _0x39460e=_0x45a5a4,_0xb4d472=new Option(_0x28d0fb[_0x283674],_0x28d0fb[_0x185ee9]);_0x4cbf6f[_0x39460e(0x242)](_0xb4d472);});}function initMulti(_0x652440,_0x1e4578){var _0x39f567=_0x4dff66,_0x24adcd=document[_0x39f567(0x272)](_0x652440),_0x30e5b6=_0x24adcd['querySelector'](_0x39f567(0x23a)),_0x556caa=_0x24adcd[_0x39f567(0x1c0)]('.options_list'),_0x2582f1=_0x24adcd['querySelector'](_0x39f567(0x180)),_0x235c3c=_0x1e4578[_0x39f567(0x283)](),_0x15dc2f=[];function _0x14af7d(){var _0x301688=_0x39f567;_0x556caa['innerHTML']='',_0x235c3c[_0x301688(0x240)](function(_0x4cee6a){var _0x1399f0=_0x301688;return _0x4cee6a[_0x1399f0(0x1d6)][_0x1399f0(0x26d)]()[_0x1399f0(0x190)](_0x30e5b6['value'][_0x1399f0(0x26d)]())!==-0x1;})[_0x301688(0x21e)](function(_0x1985a8){var _0x35171c=_0x301688,_0x256b8c=document[_0x35171c(0x223)]('div');_0x256b8c[_0x35171c(0x1b1)]=_0x1985a8[_0x35171c(0x1d6)],_0x256b8c['dataset'][_0x35171c(0x24f)]=_0x1985a8[_0x35171c(0x289)],_0x556caa[_0x35171c(0x22c)](_0x256b8c),_0x256b8c[_0x35171c(0x1d9)](_0x35171c(0x27f),function(){var _0x370883=_0x35171c;_0x15dc2f['push'](_0x1985a8),_0x235c3c['splice'](_0x235c3c[_0x370883(0x16d)](function(_0x50ab37){return _0x50ab37['setCode']===_0x1985a8['setCode'];}),0x1),_0x30e5b6['value']='',_0x5b86f4(),_0x14af7d();});});}function _0x5b86f4(){var _0x63b1ea=_0x39f567;_0x2582f1[_0x63b1ea(0x24e)]='',_0x15dc2f[_0x63b1ea(0x21e)](function(_0x1f24b8){var _0x260162=_0x63b1ea,_0x324081=document['createElement'](_0x260162(0x177));_0x324081[_0x260162(0x207)]=_0x260162(0x288),_0x324081[_0x260162(0x1b1)]=_0x1f24b8['setName'];var _0x485569=document['createElement'](_0x260162(0x1a2));_0x485569['className']=_0x260162(0x244),_0x485569[_0x260162(0x1b1)]='×',_0x485569[_0x260162(0x1d9)]('click',function(){var _0x491345=_0x260162;_0x235c3c[_0x491345(0x1e3)](_0x1f24b8);const _0x23181d=_0x15dc2f[_0x491345(0x16d)](function(_0x1adcb9){var _0x12abc4=_0x491345;return _0x1adcb9[_0x12abc4(0x289)]===_0x1f24b8[_0x12abc4(0x289)];});if(_0x23181d>-0x1)_0x15dc2f[_0x491345(0x28c)](_0x23181d,0x1);_0x5b86f4(),_0x14af7d();}),_0x324081[_0x260162(0x22c)](_0x485569),_0x2582f1[_0x260162(0x22c)](_0x324081);}),_0x24adcd[_0x63b1ea(0x161)](new CustomEvent(_0x63b1ea(0x160),{'detail':_0x15dc2f,'bubbles':!![]}));}return _0x30e5b6[_0x39f567(0x1d9)](_0x39f567(0x15c),function(){var _0xf2b51d=_0x39f567;_0x556caa[_0xf2b51d(0x167)]['remove'](_0xf2b51d(0x1e9));}),_0x30e5b6[_0x39f567(0x1d9)](_0x39f567(0x1f8),_0x14af7d),_0x30e5b6[_0x39f567(0x1d9)]('keydown',function(_0x150877){var _0x57657e=_0x39f567;if(_0x150877[_0x57657e(0x176)]===_0x57657e(0x251)){_0x150877[_0x57657e(0x15e)]();const _0x1a08f2=_0x30e5b6[_0x57657e(0x1dc)][_0x57657e(0x1d8)]();if(!_0x1a08f2)return;const _0x41d86e=_0x15dc2f[_0x57657e(0x156)](_0x180be1=>_0x180be1[_0x57657e(0x1d6)]===_0x1a08f2),_0x5b8cc6=_0x235c3c[_0x57657e(0x156)](_0x5ce037=>_0x5ce037[_0x57657e(0x1d6)]===_0x1a08f2);if(!_0x41d86e&&!_0x5b8cc6){const _0x6aafea={'setCode':_0x1a08f2,'setName':_0x1a08f2};_0x15dc2f[_0x57657e(0x1e3)](_0x6aafea),_0x5b86f4(),_0x14af7d();}_0x30e5b6[_0x57657e(0x1dc)]='';}}),document[_0x39f567(0x1d9)]('click',function(_0x59d50b){var _0x6b48f9=_0x39f567;if(!_0x24adcd[_0x6b48f9(0x23e)](_0x59d50b[_0x6b48f9(0x1fb)]))_0x556caa[_0x6b48f9(0x167)]['add'](_0x6b48f9(0x1e9));}),_0x14af7d(),_0x15dc2f;}function getLastCode(_0x75b854){var _0x434a99=_0x4dff66;const _0x5e256b=_0x75b854['map'](_0x1849d0=>String(_0x1849d0[_0x434a99(0x14b)])['trim']())[_0x434a99(0x240)](_0x5575e0=>_0x5575e0!=='');if(_0x5e256b[_0x434a99(0x1be)]===0x0)return'';const _0x1fc81b=_0x5e256b[_0x434a99(0x174)](_0x15112d=>/^\d+$/[_0x434a99(0x15b)](_0x15112d));if(_0x1fc81b){const _0x4fc366=_0x5e256b[_0x434a99(0x14c)](Number),_0x25721a=Math[_0x434a99(0x170)](..._0x4fc366);return String(_0x25721a);}let _0x3ab8da;if(typeof Intl!==_0x434a99(0x1e8)&&Intl[_0x434a99(0x195)]){const _0x5a09d0=new Intl[(_0x434a99(0x195))](undefined,{'numeric':!![],'sensitivity':'base'});_0x3ab8da=_0x5e256b[_0x434a99(0x283)]()['sort'](_0x5a09d0[_0x434a99(0x19c)]);}else{const _0x4256c5=_0x5e256b[_0x434a99(0x174)](_0x88068f=>/^\d+$/[_0x434a99(0x15b)](_0x88068f));_0x4256c5?_0x3ab8da=_0x5e256b[_0x434a99(0x14c)](Number)['sort']((_0x3e1a8c,_0x56ed40)=>_0x3e1a8c-_0x56ed40)[_0x434a99(0x14c)](String):_0x3ab8da=_0x5e256b[_0x434a99(0x283)]()[_0x434a99(0x1fe)]();}return _0x3ab8da[_0x3ab8da[_0x434a99(0x1be)]-0x1];}function getNextCode(_0x3bca68){var _0x71d82b=_0x4dff66;const _0x2820bf=getLastCode(_0x3bca68);if(!_0x2820bf)return'';if(/^\d+$/[_0x71d82b(0x15b)](_0x2820bf))return String(Number(_0x2820bf)+0x1);const _0x423c1a=_0x2820bf[_0x71d82b(0x153)](/^([A-Za-z]*)(\d+)$/);if(_0x423c1a){const [,_0x339575,_0x162d3b]=_0x423c1a,_0x4e7b3e=String(Number(_0x162d3b)+0x1)['padStart'](_0x162d3b[_0x71d82b(0x1be)],'0');return _0x339575+_0x4e7b3e;}return _0x2820bf;}document[_0x4dff66(0x272)](_0x4dff66(0x23c))[_0x4dff66(0x1d9)](_0x4dff66(0x1f8),function(_0x11c1c3){var _0x23b618=_0x4dff66;baseItem[_0x23b618(0x20d)]=_0x11c1c3[_0x23b618(0x1fb)][_0x23b618(0x1dc)];}),document[_0x4dff66(0x272)]('inputItemDescription')['addEventListener'](_0x4dff66(0x1f8),function(_0x2110dc){var _0x4aa152=_0x4dff66;baseItem[_0x4aa152(0x1ab)]=_0x2110dc[_0x4aa152(0x1fb)][_0x4aa152(0x1dc)];}),document[_0x4dff66(0x272)](_0x4dff66(0x263))[_0x4dff66(0x1d9)](_0x4dff66(0x1f8),function(_0x4a5a7a){var _0x1f914a=_0x4dff66;baseItem[_0x1f914a(0x27d)]=_0x4a5a7a[_0x1f914a(0x1fb)]['value'];}),document[_0x4dff66(0x272)](_0x4dff66(0x216))['addEventListener']('change',function(_0x56743e){var _0x2f9a94=_0x4dff66;baseItem['setItemType']=_0x56743e[_0x2f9a94(0x1fb)]['value'];}),document['getElementById'](_0x4dff66(0x152))['addEventListener'](_0x4dff66(0x25e),function(_0x2910ff){var _0x3db804=_0x4dff66;baseItem['setItemTaxId']=_0x2910ff[_0x3db804(0x1fb)][_0x3db804(0x1dc)];const _0x3420ad=_0x2910ff[_0x3db804(0x1fb)][_0x3db804(0x1dc)],_0x7fb76b=company[0x0][_0x3db804(0x17f)][_0x3db804(0x221)](_0x528708=>_0x528708['setTaxId']==_0x3420ad)?.[_0x3db804(0x295)]||0x0,_0xa554f5=company[0x0][_0x3db804(0x17f)][_0x3db804(0x221)](_0x4c8c70=>_0x4c8c70[_0x3db804(0x28d)]==_0x3420ad)?.['setImpuestoValue']||0x0;baseItem[_0x3db804(0x20e)]=_0x7fb76b,baseItem[_0x3db804(0x1bb)]=_0xa554f5;}),document[_0x4dff66(0x272)]('newItem_chk_buy')[_0x4dff66(0x1d9)]('change',function(_0x274f90){var _0x2d6b4a=_0x4dff66;baseItem[_0x2d6b4a(0x199)]=_0x274f90[_0x2d6b4a(0x1fb)]['checked'];}),document[_0x4dff66(0x272)](_0x4dff66(0x1db))[_0x4dff66(0x1d9)](_0x4dff66(0x25e),function(_0x478618){var _0x3c8758=_0x4dff66;baseItem[_0x3c8758(0x1cb)]=_0x478618[_0x3c8758(0x1fb)][_0x3c8758(0x232)];}),document[_0x4dff66(0x272)](_0x4dff66(0x193))[_0x4dff66(0x1d9)](_0x4dff66(0x1f8),function(_0x10f6b9){var _0x300fb0=_0x4dff66;baseItem[_0x300fb0(0x19b)]=_0x10f6b9[_0x300fb0(0x1fb)][_0x300fb0(0x1dc)];}),document[_0x4dff66(0x272)](_0x4dff66(0x235))[_0x4dff66(0x1d9)](_0x4dff66(0x1f8),function(_0x10a695){var _0x1f4454=_0x4dff66;baseItem[_0x1f4454(0x158)]=_0x10a695[_0x1f4454(0x1fb)]['value'];}),document['getElementById'](_0x4dff66(0x24d))[_0x4dff66(0x1d9)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x4dff66(0x272)](_0x4dff66(0x193))[_0x4dff66(0x1d9)]('blur',function(){var _0x5c4544=_0x4dff66;const _0x362421=this['value'][_0x5c4544(0x1d8)]();if(_0x362421==='')return;const _0x14a930=products[_0x5c4544(0x156)](_0x2fd840=>_0x2fd840[_0x5c4544(0x14b)]==_0x362421),_0x2ffe8f=getLastCode(products);_0x14a930?ntfShow(_0x5c4544(0x1ee)+_0x2ffe8f,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x1984ca){var _0x34d142=_0x4dff66;currentImages[_0x1984ca]=null;var _0x7c7366=imgC[_0x34d142(0x1c0)](_0x34d142(0x1f9)+_0x1984ca+'\x22]');_0x7c7366[_0x34d142(0x24e)]='';var _0x1d31fe=document[_0x34d142(0x223)](_0x34d142(0x1f8));_0x1d31fe[_0x34d142(0x1ce)]=_0x34d142(0x1f6),_0x1d31fe[_0x34d142(0x17c)]=_0x34d142(0x164),_0x1d31fe[_0x34d142(0x237)][_0x34d142(0x215)]=_0x34d142(0x19e);var _0x244795=document[_0x34d142(0x223)]('span');_0x244795[_0x34d142(0x1b1)]='+',_0x7c7366[_0x34d142(0x22c)](_0x1d31fe),_0x7c7366[_0x34d142(0x22c)](_0x244795),_0x7c7366[_0x34d142(0x1d9)](_0x34d142(0x27f),function(){_0x1d31fe['click']();}),baseItem[_0x34d142(0x19f)]=currentImages[_0x34d142(0x240)](function(_0x41e109){return _0x41e109;});}function addUnit(_0x539fab,_0x53b636,_0xadc46e,_0x20dc26,_0x13ac14,_0x3a199d,_0x56db95){var _0x3d2590=_0x4dff66,_0x3bc88a=uniqueValuesArray(_0x3d2590(0x168),_0x3d2590(0x260),myCompany[_0x3d2590(0x236)]);_0x539fab=_0x539fab||'',_0x53b636=_0x53b636||_0x3bc88a[0x3a]&&_0x3bc88a[0x3a][_0x3d2590(0x289)]||'',_0xadc46e=_0xadc46e!==undefined?_0xadc46e:0x1,_0x20dc26=!!_0x20dc26,_0x13ac14=_0x13ac14||'',_0x3a199d=_0x3a199d||'';var _0x4fe934=unitCount++,_0x1e9c8b=document[_0x3d2590(0x223)](_0x3d2590(0x177));_0x1e9c8b[_0x3d2590(0x247)][_0x3d2590(0x173)]=_0x4fe934,_0x1e9c8b[_0x3d2590(0x247)][_0x3d2590(0x1f7)]=_0x20dc26,_0x1e9c8b[_0x3d2590(0x24e)]=_0x3d2590(0x1ec)+_0x4fe934+_0x3d2590(0x26a)+_0x539fab+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x4fe934+_0x3d2590(0x24a)+_0x4fe934+'\x22\x20value=\x22'+_0xadc46e+'\x22\x20'+(_0x20dc26?_0x3d2590(0x258):'')+'>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22'+_0x4fe934+_0x3d2590(0x26a)+_0x13ac14+_0x3d2590(0x1e1)+_0x4fe934+_0x3d2590(0x26a)+_0x3a199d+_0x3d2590(0x256)+(_0x20dc26?_0x3d2590(0x1bd):'')+_0x3d2590(0x28b),fillSelect(_0x1e9c8b[_0x3d2590(0x1c0)](_0x3d2590(0x1a7)),_0x3bc88a,'setCode',_0x3d2590(0x1d6)),_0x1e9c8b[_0x3d2590(0x1c0)](_0x3d2590(0x1a7))[_0x3d2590(0x1dc)]=_0x53b636,[_0x3d2590(0x231),_0x3d2590(0x163),_0x3d2590(0x19d),_0x3d2590(0x1d3),_0x3d2590(0x1dd)][_0x3d2590(0x21e)](function(_0x22cae9){var _0x34fabd=_0x3d2590;_0x1e9c8b[_0x34fabd(0x1c0)]('.'+_0x22cae9)[_0x34fabd(0x1d9)]('input',function(){var _0xe86ce6=_0x56db95?+_0x56db95['id']['split']('_')[0x1]:null;if(_0x56db95)updateVariantUnits(_0xe86ce6);else updateUnitsArray();});}),_0x1e9c8b[_0x3d2590(0x1c0)](_0x3d2590(0x29a))[_0x3d2590(0x1d9)]('click',function(){var _0x24a15e=_0x3d2590;_0x1e9c8b[_0x24a15e(0x1b0)]();var _0x329c0f=_0x56db95?+_0x56db95['id'][_0x24a15e(0x1d2)]('_')[0x1]:null;if(_0x56db95)updateVariantUnits(_0x329c0f);else updateUnitsArray();});var _0x5703c0=_0x56db95||document[_0x3d2590(0x272)]('newItem_units_container');_0x5703c0['appendChild'](_0x1e9c8b);}function containerIdx(_0x1736d1){var _0x40e9eb=_0x4dff66;return+_0x1736d1['id'][_0x40e9eb(0x1d2)]('_')[0x1];}function updateUnitsArray(){var _0x58bb51=_0x4dff66,_0x1445a6=[],_0x5cfac2=Array[_0x58bb51(0x238)](document['querySelectorAll']('#newItem_units_container\x20>\x20div')),_0x4324ef=_0x5cfac2[_0x58bb51(0x221)](_0x467a7c=>_0x467a7c[_0x58bb51(0x247)][_0x58bb51(0x1f7)]==='true'),_0x11b09d=_0x4324ef?+_0x4324ef[_0x58bb51(0x1c0)](_0x58bb51(0x184))['value']:0x1;_0x5cfac2[_0x58bb51(0x21e)](function(_0x555169){var _0xe608ac=_0x58bb51,_0x355228=+_0x555169[_0xe608ac(0x1c0)](_0xe608ac(0x184))[_0xe608ac(0x1dc)]||0x0,_0x37fbb9=+_0x555169[_0xe608ac(0x1c0)]('.priceInput')['value']||0x0,_0xa63728=+_0x555169[_0xe608ac(0x1c0)](_0xe608ac(0x1c8))[_0xe608ac(0x1dc)]||0x0;_0x1445a6[_0xe608ac(0x1e3)]({'setAlias':_0x555169[_0xe608ac(0x1c0)](_0xe608ac(0x157))['value'][_0xe608ac(0x1d8)](),'setUnitCode':_0x555169[_0xe608ac(0x1c0)](_0xe608ac(0x1a7))['value'],'setEquivalence':_0x355228,'setFactor':_0x555169[_0xe608ac(0x247)]['default']===_0xe608ac(0x17b)?0x1:_0x355228==_0x11b09d?0x1:_0x355228<_0x11b09d?_0x11b09d/_0x355228:_0x355228/_0x11b09d,'setPrice':_0x37fbb9,'setCost':_0xa63728,'setDefault':_0x555169[_0xe608ac(0x247)][_0xe608ac(0x1f7)]===_0xe608ac(0x17b)?0x1:0x0});}),baseItem[_0x58bb51(0x213)]=_0x1445a6;}function updateBranches(){var _0x59417c=_0x4dff66,_0x1f66cb=[];document[_0x59417c(0x293)](_0x59417c(0x14e))[_0x59417c(0x21e)](function(_0x2319be){var _0x42c5dd=_0x59417c,_0x3acf37=_0x2319be[_0x42c5dd(0x1c0)]('.branchChk');if(_0x3acf37[_0x42c5dd(0x232)]){var _0x19bfbd=+_0x3acf37[_0x42c5dd(0x247)]['id'],_0x4b9c57=+_0x2319be[_0x42c5dd(0x1c0)](_0x42c5dd(0x155))['value'],_0x5ddff6=+_0x2319be[_0x42c5dd(0x1c0)](_0x42c5dd(0x246))[_0x42c5dd(0x1dc)];_0x1f66cb[_0x42c5dd(0x1e3)]({'setWarehouseCode':_0x19bfbd,'setStockInitial':_0x4b9c57,'setStockMinimum':_0x5ddff6});}}),baseItem[_0x59417c(0x1e7)]=_0x1f66cb;}document[_0x4dff66(0x272)](_0x4dff66(0x228))[_0x4dff66(0x1d9)](_0x4dff66(0x27f),function(){var _0x3836eb=_0x4dff66,_0x28562e=Date['now'](),_0x2608fb=document[_0x3836eb(0x223)](_0x3836eb(0x177));_0x2608fb[_0x3836eb(0x247)][_0x3836eb(0x173)]=_0x28562e,_0x2608fb[_0x3836eb(0x24e)]=_0x3836eb(0x1a0)+_0x28562e+_0x3836eb(0x1e5)+_0x28562e+_0x3836eb(0x292),prodC[_0x3836eb(0x22c)](_0x2608fb),initProdSearch(_0x2608fb['querySelector']('.prod_input_container')),_0x2608fb['querySelector'](_0x3836eb(0x175))[_0x3836eb(0x1d9)](_0x3836eb(0x27f),function(){_0x2608fb['remove'](),updateProdItems();}),_0x2608fb[_0x3836eb(0x1c0)](_0x3836eb(0x1cc))[_0x3836eb(0x1d9)](_0x3836eb(0x1f8),updateProdItems),document[_0x3836eb(0x272)](_0x3836eb(0x27c))['classList'][_0x3836eb(0x27e)]('newItem_title_table',!![]),document['getElementById']('newItem_title_table_cp')['classList'][_0x3836eb(0x27e)](_0x3836eb(0x1e9),![]);});function initProdSearch(_0x60b65,_0x1c9f18){var _0x50c84c=_0x4dff66,_0x10b9cc=_0x60b65[_0x50c84c(0x1c0)](_0x50c84c(0x201)),_0x55a344=_0x60b65[_0x50c84c(0x1c0)](_0x50c84c(0x187)),_0xc793c7=_0x1c9f18||null;if(_0x1c9f18)_0x10b9cc[_0x50c84c(0x1dc)]=_0x1c9f18[_0x50c84c(0x186)];_0x10b9cc['addEventListener'](_0x50c84c(0x1f8),function(){var _0x26bfd5=_0x50c84c,_0x18c6c1=_0x10b9cc[_0x26bfd5(0x1dc)]['toLowerCase']()[_0x26bfd5(0x1d8)]();_0x55a344['innerHTML']='';if(!_0x18c6c1)return;products[_0x26bfd5(0x240)](_0x60a163=>_0x60a163[_0x26bfd5(0x1a5)][_0x26bfd5(0x26d)]()['includes'](_0x18c6c1))[_0x26bfd5(0x283)](0x0,0x14)[_0x26bfd5(0x21e)](function(_0x39803a){var _0x573124=_0x26bfd5,_0x528950=document['createElement'](_0x573124(0x177));_0x528950[_0x573124(0x1b1)]=_0x39803a['setDescripcion'],_0x528950[_0x573124(0x247)]['id']=_0x39803a['id'],_0x528950[_0x573124(0x247)]['name']=_0x39803a[_0x573124(0x1a5)],_0x55a344[_0x573124(0x22c)](_0x528950),_0x528950['addEventListener']('click',function(){var _0x21be8f=_0x573124;_0xc793c7={'id':_0x39803a['id'],'name':_0x39803a[_0x21be8f(0x1a5)]},_0x10b9cc[_0x21be8f(0x1dc)]=_0x39803a[_0x21be8f(0x1a5)],_0x55a344['innerHTML']='';var _0x2de449=_0x60b65[_0x21be8f(0x1b9)](_0x21be8f(0x172));if(_0x2de449){var _0x1ae9d3=+_0x2de449['id'][_0x21be8f(0x1d2)]('_')[0x1];updateVariantComponents(_0x1ae9d3);}else updateProdItems();});});}),_0x10b9cc['addEventListener'](_0x50c84c(0x15c),function(){var _0x3707eb=_0x50c84c;_0x55a344[_0x3707eb(0x167)]['remove'](_0x3707eb(0x1e9));}),document['addEventListener'](_0x50c84c(0x27f),function(_0x109bee){var _0xf582b7=_0x50c84c;if(!_0x60b65[_0xf582b7(0x23e)](_0x109bee['target']))_0x55a344['classList'][_0xf582b7(0x242)]('newItem_hidden');}),Object[_0x50c84c(0x286)](_0x60b65,_0x50c84c(0x1e0),{'get':()=>_0xc793c7});}function updateProdItems(){var _0x44d74f=_0x4dff66,_0x3a068e=[];Array[_0x44d74f(0x238)](prodC[_0x44d74f(0x194)])[_0x44d74f(0x21e)](function(_0x209182){var _0x4d3d49=_0x44d74f,_0x6470c9=_0x209182[_0x4d3d49(0x1c0)](_0x4d3d49(0x1c9));if(!_0x6470c9)return;var _0x42e2db=_0x209182[_0x4d3d49(0x1c0)](_0x4d3d49(0x1cc)),_0x162648=_0x6470c9[_0x4d3d49(0x1e0)];_0x162648&&_0x3a068e[_0x4d3d49(0x1e3)]({'setItemId':_0x162648['id'],'setDescripcion':_0x162648[_0x4d3d49(0x186)],'setCantidad':+_0x42e2db[_0x4d3d49(0x1dc)]});}),baseItem['setItemComponents']=_0x3a068e,_0x3a068e['length']===0x0&&(document['getElementById']('newItem_title_table_cp')[_0x44d74f(0x167)][_0x44d74f(0x27e)](_0x44d74f(0x1f1),![]),document[_0x44d74f(0x272)](_0x44d74f(0x27c))[_0x44d74f(0x167)]['toggle'](_0x44d74f(0x1e9),!![]));}document[_0x4dff66(0x272)](_0x4dff66(0x150))[_0x4dff66(0x1d9)]('click',function(){var _0x2c70c6=_0x4dff66,_0x576d01=vgCount++,_0x251a04=document[_0x2c70c6(0x223)](_0x2c70c6(0x177));_0x251a04[_0x2c70c6(0x247)][_0x2c70c6(0x173)]=_0x576d01,_0x251a04[_0x2c70c6(0x24e)]=_0x2c70c6(0x21d)+_0x576d01+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x576d01+'\x22>'+_0x2c70c6(0x1d7),vgC[_0x2c70c6(0x22c)](_0x251a04),_0x251a04[_0x2c70c6(0x1c0)](_0x2c70c6(0x290))[_0x2c70c6(0x1d9)](_0x2c70c6(0x291),generateVariants),_0x251a04[_0x2c70c6(0x1c0)](_0x2c70c6(0x255))['addEventListener'](_0x2c70c6(0x291),generateVariants),_0x251a04[_0x2c70c6(0x1c0)](_0x2c70c6(0x1ba))[_0x2c70c6(0x1d9)]('click',function(){_0x251a04['remove'](),generateVariants();});});function generateVariants(){var _0x1e1762=_0x4dff66,_0xafe7f0=[];vgC['querySelectorAll'](_0x1e1762(0x177))['forEach'](function(_0xb6e453){var _0x151f6f=_0x1e1762,_0x32f69d=_0xb6e453[_0x151f6f(0x1c0)]('.vgName')[_0x151f6f(0x1dc)]['trim'](),_0x2fbd04=_0xb6e453[_0x151f6f(0x1c0)](_0x151f6f(0x255))[_0x151f6f(0x1dc)][_0x151f6f(0x1d2)](',')[_0x151f6f(0x14c)](_0x1f04f5=>_0x1f04f5[_0x151f6f(0x1d8)]())[_0x151f6f(0x240)](_0x48b6fb=>_0x48b6fb);if(_0x32f69d&&_0x2fbd04['length'])_0xafe7f0[_0x151f6f(0x1e3)]({'name':_0x32f69d,'vals':_0x2fbd04});});var _0x15530a=[{}];_0xafe7f0[_0x1e1762(0x21e)](function(_0x1a2d09){var _0x2f07c5=_0x1e1762;_0x15530a=_0x15530a[_0x2f07c5(0x234)](function(_0xed9ca0){var _0x174d6b=_0x2f07c5;return _0x1a2d09[_0x174d6b(0x22d)][_0x174d6b(0x14c)](function(_0x6394b7){var _0x3f7df1=_0x174d6b,_0x16ba63=Object[_0x3f7df1(0x22e)]({},_0xed9ca0);return _0x16ba63[_0x1a2d09[_0x3f7df1(0x186)]]=_0x6394b7,_0x16ba63;});});}),newItems=[],varContainer[_0x1e1762(0x24e)]='',_0x15530a[_0x1e1762(0x21e)](function(_0xa2a3f2,_0x534a7c){var _0x3cab1d=_0x1e1762,_0x297097=JSON['parse'](JSON['stringify'](baseItem));_0x297097[_0x3cab1d(0x299)]=_0xa2a3f2,_0x297097[_0x3cab1d(0x203)]=baseItem[_0x3cab1d(0x20d)]+'\x20'+Object[_0x3cab1d(0x18b)](_0xa2a3f2)[_0x3cab1d(0x14c)](_0x285b42=>_0x285b42[0x0]+'\x20'+_0x285b42[0x1])['join']('\x20'),newItems[_0x3cab1d(0x1e3)](_0x297097);var _0x154d83=document[_0x3cab1d(0x223)]('div');_0x154d83[_0x3cab1d(0x167)]['add'](_0x3cab1d(0x1ca)),_0x154d83[_0x3cab1d(0x247)]['idx']=_0x534a7c,_0x154d83[_0x3cab1d(0x24e)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x297097[_0x3cab1d(0x203)]+_0x3cab1d(0x269)+_0x297097[_0x3cab1d(0x19b)]+_0x3cab1d(0x1e6)+_0x297097[_0x3cab1d(0x158)]+_0x3cab1d(0x1ae)+_0x297097['setItemDateExpiry']+_0x3cab1d(0x1c1)+_0x534a7c+_0x3cab1d(0x241)+_0x534a7c+_0x3cab1d(0x21a)+_0x534a7c+_0x3cab1d(0x22a),varContainer['appendChild'](_0x154d83),_0x154d83[_0x3cab1d(0x1c0)](_0x3cab1d(0x1c6))[_0x3cab1d(0x1d9)](_0x3cab1d(0x1f8),_0x37faae=>newItems[_0x534a7c]['setItemCode']=_0x37faae[_0x3cab1d(0x1fb)][_0x3cab1d(0x1dc)]),_0x154d83[_0x3cab1d(0x1c0)](_0x3cab1d(0x149))['addEventListener'](_0x3cab1d(0x1f8),_0x4be12e=>newItems[_0x534a7c]['setItemBarCode']=_0x4be12e['target'][_0x3cab1d(0x1dc)]),_0x154d83[_0x3cab1d(0x1c0)](_0x3cab1d(0x1ed))[_0x3cab1d(0x1d9)](_0x3cab1d(0x25e),_0x106868=>newItems[_0x534a7c]['setItemDateExpiry']=_0x106868[_0x3cab1d(0x1fb)][_0x3cab1d(0x1dc)]),initVariantUnits(_0x534a7c),initVariantComponents(_0x534a7c),initVariantBranches(_0x534a7c),_0x154d83['querySelector'](_0x3cab1d(0x205))[_0x3cab1d(0x1d9)](_0x3cab1d(0x27f),function(){var _0x51e96e=_0x3cab1d,_0x3b4ff6=+_0x154d83[_0x51e96e(0x247)][_0x51e96e(0x173)];newItems[_0x51e96e(0x28c)](_0x3b4ff6,0x1),_0x154d83['remove'](),document[_0x51e96e(0x293)](_0x51e96e(0x20a))[_0x51e96e(0x21e)](function(_0x3a51da,_0x5f0957){var _0x27305e=_0x51e96e;_0x3a51da[_0x27305e(0x247)][_0x27305e(0x173)]=_0x5f0957;});});});if(newItems[_0x1e1762(0x1be)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x2be409){var _0x14f260=_0x4dff66,_0x2293a4=document[_0x14f260(0x272)](_0x14f260(0x22f)+_0x2be409+_0x14f260(0x165)),_0x14aa08=[];Array['from'](_0x2293a4[_0x14f260(0x194)])[_0x14f260(0x21e)](function(_0x28317d){var _0x29c002=_0x14f260,_0x3fbf9a=+_0x28317d[_0x29c002(0x1c0)](_0x29c002(0x184))[_0x29c002(0x1dc)]||0x0,_0xf37cd5=_0x28317d[_0x29c002(0x1c0)](_0x29c002(0x157))[_0x29c002(0x1dc)][_0x29c002(0x1d8)](),_0xdf329c=_0x28317d[_0x29c002(0x1c0)](_0x29c002(0x1a7))[_0x29c002(0x1dc)],_0x513a39=+_0x28317d[_0x29c002(0x1c0)](_0x29c002(0x1f0))[_0x29c002(0x1dc)]||0x0,_0x4812ee=+_0x28317d[_0x29c002(0x1c0)]('.costInput')[_0x29c002(0x1dc)]||0x0,_0x733210=_0x28317d[_0x29c002(0x247)][_0x29c002(0x1f7)]===_0x29c002(0x17b),_0x455e82=+_0x2293a4[_0x29c002(0x1c0)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x29c002(0x1dc)]||0x1,_0x45a29c=_0x733210?0x1:_0x3fbf9a==_0x455e82?0x1:_0x3fbf9a<_0x455e82?_0x455e82/_0x3fbf9a:_0x3fbf9a/_0x455e82;_0x14aa08['push']({'setAlias':_0xf37cd5,'setUnitCode':_0xdf329c,'setEquivalence':_0x3fbf9a,'setFactor':_0x45a29c,'setPrice':_0x513a39,'setCost':_0x4812ee,'setDefault':_0x733210?0x1:0x0});}),newItems[_0x2be409][_0x14f260(0x213)]=_0x14aa08;}function initVariantUnits(_0xdf5216){var _0x4c71a9=_0x4dff66,_0x5458ba=document[_0x4c71a9(0x272)](_0x4c71a9(0x22f)+_0xdf5216+_0x4c71a9(0x165));_0x5458ba[_0x4c71a9(0x24e)]='',newItems[_0xdf5216][_0x4c71a9(0x213)][_0x4c71a9(0x21e)](function(_0x51f5e6){var _0x350533=_0x4c71a9;addUnit(_0x51f5e6[_0x350533(0x196)],_0x51f5e6['setUnitCode'],_0x51f5e6[_0x350533(0x24b)],_0x51f5e6['setDefault'],_0x51f5e6[_0x350533(0x1f2)],_0x51f5e6[_0x350533(0x197)],_0x5458ba);}),_0x5458ba[_0x4c71a9(0x200)]['querySelector'](_0x4c71a9(0x1cd))[_0x4c71a9(0x1d9)](_0x4c71a9(0x27f),function(){addUnit('','',0x1,![],'','',_0x5458ba),updateVariantUnits(_0xdf5216);});}function updateVariantUnits(_0x4939cd){var _0x17ad95=_0x4dff66,_0x5f016c=document[_0x17ad95(0x272)](_0x17ad95(0x22f)+_0x4939cd+_0x17ad95(0x165)),_0x283aa1=_0x5f016c['querySelector'](_0x17ad95(0x27a)),_0x34beb3=_0x283aa1?+_0x283aa1[_0x17ad95(0x1dc)]:0x1,_0x4ab2b5=Array['from'](_0x5f016c['children'])[_0x17ad95(0x14c)](function(_0x32f78d){var _0x4ee0b0=_0x17ad95,_0xf5b07c=_0x32f78d[_0x4ee0b0(0x1c0)](_0x4ee0b0(0x157))[_0x4ee0b0(0x1dc)][_0x4ee0b0(0x1d8)](),_0x581374=_0x32f78d['querySelector'](_0x4ee0b0(0x1a7))[_0x4ee0b0(0x1dc)],_0x26949f=+_0x32f78d[_0x4ee0b0(0x1c0)](_0x4ee0b0(0x184))['value']||0x0,_0x426db7=+_0x32f78d[_0x4ee0b0(0x1c0)](_0x4ee0b0(0x1f0))[_0x4ee0b0(0x1dc)]||0x0,_0x5564a4=+_0x32f78d[_0x4ee0b0(0x1c0)]('.costInput')['value']||0x0,_0x477b67=_0x32f78d[_0x4ee0b0(0x247)][_0x4ee0b0(0x1f7)]==='true';return{'setAlias':_0xf5b07c,'setUnitCode':_0x581374,'setEquivalence':_0x26949f,'setFactor':_0x477b67?0x1:_0x26949f==_0x34beb3?0x1:_0x26949f<_0x34beb3?_0x34beb3/_0x26949f:_0x26949f/_0x34beb3,'setPrice':_0x426db7,'setCost':_0x5564a4,'setDefault':_0x477b67?0x1:0x0};});newItems[_0x4939cd]['setItemUnits']=_0x4ab2b5;}function initVariantComponents(_0xa860f8){var _0x4660c3=_0x4dff66,_0x5cb80a=document['getElementById']('variant_'+_0xa860f8+_0x4660c3(0x21c));_0x5cb80a[_0x4660c3(0x24e)]='',newItems[_0xa860f8][_0x4660c3(0x209)][_0x4660c3(0x21e)](function(_0x2ab6c2){var _0x4329c2=_0x4660c3,_0x5adab7=document['createElement']('div'),_0xaffdac=Date[_0x4329c2(0x1f3)]();_0x5adab7[_0x4329c2(0x247)][_0x4329c2(0x173)]=_0xaffdac,_0x5adab7['innerHTML']=_0x4329c2(0x1d0)+_0xaffdac+_0x4329c2(0x28e)+_0x2ab6c2[_0x4329c2(0x198)]+_0x4329c2(0x169),_0x5cb80a['appendChild'](_0x5adab7),initProdSearch(_0x5adab7[_0x4329c2(0x1c0)](_0x4329c2(0x1c9)),{'id':_0x2ab6c2[_0x4329c2(0x1b2)],'name':_0x2ab6c2['setDescripcion']}),_0x5adab7[_0x4329c2(0x1c0)](_0x4329c2(0x1cc))[_0x4329c2(0x1d9)](_0x4329c2(0x1f8),function(){updateVariantComponents(_0xa860f8);}),_0x5adab7[_0x4329c2(0x1c0)](_0x4329c2(0x17d))[_0x4329c2(0x1d9)]('click',function(){var _0x431621=_0x4329c2;_0x5adab7[_0x431621(0x1b0)](),updateVariantComponents(_0xa860f8);});}),_0x5cb80a[_0x4660c3(0x200)][_0x4660c3(0x1c0)](_0x4660c3(0x1fd))[_0x4660c3(0x1d9)](_0x4660c3(0x27f),function(){var _0x2a8925=_0x4660c3,_0x1e014e=document[_0x2a8925(0x223)](_0x2a8925(0x177)),_0x2d6cb2=Date['now']();_0x1e014e['dataset'][_0x2a8925(0x173)]=_0x2d6cb2,_0x1e014e['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x2d6cb2+_0x2a8925(0x1b4),_0x5cb80a['appendChild'](_0x1e014e),initProdSearch(_0x1e014e[_0x2a8925(0x1c0)](_0x2a8925(0x1c9))),_0x1e014e['querySelector'](_0x2a8925(0x1cc))[_0x2a8925(0x1d9)](_0x2a8925(0x1f8),function(){updateVariantComponents(_0xa860f8);}),_0x1e014e[_0x2a8925(0x1c0)](_0x2a8925(0x17d))[_0x2a8925(0x1d9)](_0x2a8925(0x27f),function(){var _0xffa5fc=_0x2a8925;_0x1e014e[_0xffa5fc(0x1b0)](),updateVariantComponents(_0xa860f8);});});}function updateVariantComponents(_0x1deccb){var _0x3bff6a=_0x4dff66,_0x28d29c=document[_0x3bff6a(0x272)](_0x3bff6a(0x22f)+_0x1deccb+'_comp_container'),_0x38a281=Array[_0x3bff6a(0x238)](_0x28d29c['children'])[_0x3bff6a(0x14c)](function(_0x3c3f32){var _0x16b106=_0x3bff6a,_0x2c9393=_0x3c3f32['querySelector'](_0x16b106(0x1c9)),_0x170d62=_0x2c9393['selectedItem'],_0x1bb1ac=+_0x3c3f32[_0x16b106(0x1c0)](_0x16b106(0x1cc))[_0x16b106(0x1dc)]||0x0;return _0x170d62?{'setItemId':_0x170d62['id'],'setDescripcion':_0x170d62['name'],'setCantidad':_0x1bb1ac}:null;})[_0x3bff6a(0x240)](_0xa083c3=>_0xa083c3);newItems[_0x1deccb]['setItemComponents']=_0x38a281;}function initVariantBranches(_0x2c0bef){var _0x5ceebf=_0x4dff66;const _0xa22f6d=getAllWarehouses();var _0x559ba9=document[_0x5ceebf(0x272)](_0x5ceebf(0x22f)+_0x2c0bef+_0x5ceebf(0x284));_0x559ba9['innerHTML']='',newItems[_0x2c0bef][_0x5ceebf(0x1e7)][_0x5ceebf(0x21e)](function(_0x5729b3){var _0x63d6f3=_0x5ceebf,_0x39bd62=_0xa22f6d[_0x63d6f3(0x221)](_0x3c1086=>_0x3c1086[_0x63d6f3(0x1c5)]==_0x5729b3[_0x63d6f3(0x218)]),_0xb80404=document[_0x63d6f3(0x223)]('div');_0xb80404['innerHTML']=_0x63d6f3(0x25a)+_0x5729b3['setWarehouseCode']+_0x63d6f3(0x18d)+_0x39bd62[_0x63d6f3(0x233)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5729b3[_0x63d6f3(0x218)]+_0x63d6f3(0x26a)+_0x5729b3[_0x63d6f3(0x1b3)]+_0x63d6f3(0x26b)+_0x5729b3[_0x63d6f3(0x218)]+_0x63d6f3(0x26a)+_0x5729b3[_0x63d6f3(0x204)]+'\x22>',_0x559ba9[_0x63d6f3(0x22c)](_0xb80404),_0xb80404[_0x63d6f3(0x293)](_0x63d6f3(0x1f8))['forEach'](function(_0x120e83){var _0x4009dc=_0x63d6f3;_0x120e83[_0x4009dc(0x1d9)](_0x4009dc(0x1f8),function(){updateVariantBranches(_0x2c0bef);});});}),_0xa22f6d['forEach'](function(_0x2428e8){var _0xd060ed=_0x5ceebf;if(!newItems[_0x2c0bef][_0xd060ed(0x1e7)][_0xd060ed(0x221)](_0x4a8aec=>_0x4a8aec[_0xd060ed(0x218)]===_0x2428e8[_0xd060ed(0x1c5)])){var _0x41bc03=document[_0xd060ed(0x223)]('div');_0x41bc03['innerHTML']=_0xd060ed(0x25a)+_0x2428e8[_0xd060ed(0x1c5)]+_0xd060ed(0x1da)+_0x2428e8[_0xd060ed(0x233)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x2428e8[_0xd060ed(0x1c5)]+_0xd060ed(0x26b)+_0x2428e8['setWarehouseId']+'\x22>',_0x559ba9[_0xd060ed(0x22c)](_0x41bc03),_0x41bc03[_0xd060ed(0x293)](_0xd060ed(0x1f8))[_0xd060ed(0x21e)](function(_0x18cb88){var _0x2e5aae=_0xd060ed;_0x18cb88[_0x2e5aae(0x1d9)](_0x2e5aae(0x1f8),function(){updateVariantBranches(_0x2c0bef);});});}});}function updateVariantBranches(_0x3145bc){var _0x344612=_0x4dff66,_0x712d7b=document[_0x344612(0x272)](_0x344612(0x22f)+_0x3145bc+_0x344612(0x284)),_0x5745c9=[];_0x712d7b[_0x344612(0x293)](_0x344612(0x177))[_0x344612(0x21e)](function(_0x18639f){var _0x3f19a5=_0x344612,_0x58196d=_0x18639f[_0x3f19a5(0x1c0)](_0x3f19a5(0x1af));if(_0x58196d[_0x3f19a5(0x232)]){var _0x21a409=+_0x58196d[_0x3f19a5(0x247)]['id'],_0x3feee6=+_0x18639f[_0x3f19a5(0x1c0)]('.branchInit')['value']||0x0,_0x1f9388=+_0x18639f[_0x3f19a5(0x1c0)]('.branchMin')['value']||0x0;_0x5745c9['push']({'setWarehouseCode':_0x21a409,'setStockInitial':_0x3feee6,'setStockMinimum':_0x1f9388});}}),newItems[_0x3145bc][_0x344612(0x1e7)]=_0x5745c9;}async function storeOfflineProduct(_0x3faf0d){var _0x4d2cf1=_0x4dff66;try{const _0x1f0c3e=await createCartStore(''),_0x372a69=_0x1f0c3e['transaction'](_0x4d2cf1(0x267),_0x4d2cf1(0x182)),_0xfd2f7d=_0x372a69['objectStore'](_0x4d2cf1(0x267));_0xfd2f7d[_0x4d2cf1(0x242)](_0x3faf0d),_0x372a69[_0x4d2cf1(0x219)]=()=>{var _0x32f8e6=_0x4d2cf1;console[_0x32f8e6(0x210)](_0x32f8e6(0x162));},_0x372a69['onerror']=_0x2bfd47=>{var _0x465f3a=_0x4d2cf1;console[_0x465f3a(0x239)](_0x465f3a(0x214),_0x2bfd47[_0x465f3a(0x1fb)][_0x465f3a(0x239)]);};}catch(_0x1cd559){console[_0x4d2cf1(0x239)]('Error\x20al\x20procesar\x20la\x20operación:',_0x1cd559);}}document['getElementById']('btnItemSave')[_0x4dff66(0x1d9)](_0x4dff66(0x27f),async function(_0x26f96d){var _0x594e04=_0x4dff66;_0x26f96d[_0x594e04(0x15e)]();const _0x1e646c=document[_0x594e04(0x272)](_0x594e04(0x193)),_0x4e47b1=document[_0x594e04(0x272)]('setItemFree')[_0x594e04(0x1dc)];if(!_0x1e646c[_0x594e04(0x1dc)][_0x594e04(0x1d8)]()&&_0x4e47b1==0x0){ntfShow(_0x594e04(0x178),0x2,0x1);return;}_0x4e47b1==0x1&&(_0x1e646c[_0x594e04(0x1dc)]='',baseItem[_0x594e04(0x19b)]='');const _0x2c628f=document[_0x594e04(0x272)](_0x594e04(0x23c));if(!_0x2c628f[_0x594e04(0x1dc)][_0x594e04(0x1d8)]()){ntfShow(_0x594e04(0x264),0x2,0x1);return;}const _0xd59f13=document[_0x594e04(0x272)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x594e04(0x1be)]===0x0&&(newItems=[baseItem]);const _0x3fb06e=document['getElementById'](_0x594e04(0x192))[_0x594e04(0x1dc)],_0x396e79=window_options[_0x3fb06e][_0x594e04(0x276)],_0x1dff2c=[];newItems['forEach'](_0x5a1d4b=>{var _0x71201e=_0x594e04;const _0x432ade=generateNumericUniqId();_0x5a1d4b[_0x71201e(0x213)][_0x71201e(0x21e)](_0x1c7614=>{var _0x42af30=_0x71201e;const _0x38658f=generateNumericUniqId();_0x1c7614['setItemUnitId']=_0x38658f;const _0x20ea7f={'id':_0x38658f,'setIdProducto':_0x432ade,'setCodProducto':_0x5a1d4b['setItemCode'],'setDescripcion':_0x5a1d4b[_0x42af30(0x20d)],'setItemDescription':_0x5a1d4b[_0x42af30(0x1ab)],'setBatchExpirationDate':_0x5a1d4b[_0x42af30(0x27d)],'setBatchName':'','setCategoria':_0x5a1d4b[_0x42af30(0x183)][0x0]||'','setMarca':_0x5a1d4b[_0x42af30(0x18f)][0x0]||'','setConversionFactor':parseFloat(_0x1c7614[_0x42af30(0x224)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x5a1d4b[_0x42af30(0x199)]?0x1:0x0,'setItemIsSold':_0x5a1d4b['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x5a1d4b['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x5a1d4b[_0x42af30(0x26c)],'setTipAfeIgv':_0x5a1d4b['setItemTaxCode'],'setUnidad':_0x1c7614['setUnitCode'],'setUnidadCodigo':_0x1c7614[_0x42af30(0x168)],'setItemUnitAlias':_0x1c7614[_0x42af30(0x196)],'currency_data':[{'currency':_0x396e79,'setMtoPrecioCostoUnitario':_0x1c7614['setCost'],'setMtoPrecioUnitario':_0x1c7614['setPrice'],'setPriceLists':[]}],'sucursales':_0x5a1d4b[_0x42af30(0x1e7)][_0x42af30(0x14c)](_0x4438e5=>({'setIdSucursal':_0x4438e5[_0x42af30(0x218)],'setSucursalStock':_0x4438e5[_0x42af30(0x1b3)][_0x42af30(0x259)](),'setWarehouseStockMin':_0x4438e5[_0x42af30(0x204)][_0x42af30(0x259)]()})),'setItemFree':_0x5a1d4b[_0x42af30(0x225)],'setItemBarCode':_0x5a1d4b[_0x42af30(0x158)],'setItemBrands':_0x5a1d4b[_0x42af30(0x18f)][_0x42af30(0x283)](),'setItemCategories':_0x5a1d4b[_0x42af30(0x183)]['slice'](),'setItemComponents':_0x5a1d4b['setItemComponents']['map'](_0x4aac44=>({..._0x4aac44})),'setItemImages':_0x5a1d4b['setItemImages']['slice'](),'setItemVariantName':_0x5a1d4b[_0x42af30(0x203)],'setItemVariantValues':{..._0x5a1d4b[_0x42af30(0x299)]}};_0x1dff2c['push'](_0x20ea7f),(_0xd59f13[_0x42af30(0x232)]||_0x4e47b1==0x1)&&addToCart(_0x20ea7f);});}),console[_0x594e04(0x210)](_0x594e04(0x275),newItems),await finalizeImport(_0x1dff2c,newItems,![]);}),[_0x4dff66(0x1c7),_0x4dff66(0x1aa)][_0x4dff66(0x21e)](_0x71acbe=>dropZone[_0x4dff66(0x1d9)](_0x71acbe,_0x25ed4b=>{var _0x36763a=_0x4dff66;_0x25ed4b['preventDefault'](),dropZone[_0x36763a(0x167)][_0x36763a(0x242)](_0x36763a(0x1aa));})),['dragleave',_0x4dff66(0x15f)][_0x4dff66(0x21e)](_0x2303a7=>dropZone[_0x4dff66(0x1d9)](_0x2303a7,_0x17b0ea=>{var _0x2c44f7=_0x4dff66;_0x17b0ea[_0x2c44f7(0x15e)](),dropZone[_0x2c44f7(0x167)]['remove']('dragover');})),dropZone[_0x4dff66(0x1d9)](_0x4dff66(0x15f),_0x1478f7=>{var _0x3541b7=_0x4dff66;const _0x48304c=_0x1478f7[_0x3541b7(0x1fc)][_0x3541b7(0x273)][0x0];if(!_0x48304c)return;fileInput[_0x3541b7(0x273)]=_0x1478f7[_0x3541b7(0x1fc)][_0x3541b7(0x273)],dropZone[_0x3541b7(0x1c0)](_0x3541b7(0x159))[_0x3541b7(0x1b1)]=_0x48304c[_0x3541b7(0x186)],removeBtn['hidden']=![],fileInput[_0x3541b7(0x161)](new Event(_0x3541b7(0x25e)));}),removeBtn[_0x4dff66(0x1d9)](_0x4dff66(0x27f),()=>{var _0xbd93be=_0x4dff66;fileInput[_0xbd93be(0x1dc)]='',dropZone[_0xbd93be(0x1c0)]('.drop-zone__prompt')[_0xbd93be(0x1b1)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0xbd93be(0x1cf)]=!![],progressBar[_0xbd93be(0x237)]['display']=_0xbd93be(0x19e),statusDiv['textContent']='',uploadBtn[_0xbd93be(0x258)]=!![];});const exportBtn=document[_0x4dff66(0x272)](_0x4dff66(0x252));exportBtn[_0x4dff66(0x1d9)]('click',onClickExportarItems);async function onClickExportarItems(){var _0x178431=_0x4dff66;if(!Array['isArray'](products)||!products[_0x178431(0x1be)]){ntfShow(_0x178431(0x17e));return;}try{const _0x3e456c=await fetch(_0x178431(0x1f4));if(!_0x3e456c['ok'])throw new Error(_0x178431(0x202));const _0x5f0bba=await _0x3e456c[_0x178431(0x189)](),_0x2b8370=document[_0x178431(0x272)](_0x178431(0x1c5))[_0x178431(0x1dc)];let _0x58bb92=products;const _0x868e7d=getUserPermissionApiERP(0x2);_0x868e7d==0x1&&(_0x58bb92=products['filter'](_0xee740b=>Array[_0x178431(0x1a1)](_0xee740b[_0x178431(0x1d5)])&&_0xee740b[_0x178431(0x1d5)][_0x178431(0x156)](_0x47162d=>String(_0x47162d['setIdSucursal'])==String(_0x2b8370))));const _0x55a5a8=_0x58bb92['reduce']((_0x107e66,_0x1e76f2)=>{var _0x4f8dae=_0x178431;const _0xd43da1=_0x1e76f2[_0x4f8dae(0x266)];if(!_0x107e66[_0xd43da1])_0x107e66[_0xd43da1]=[];return _0x107e66[_0xd43da1][_0x4f8dae(0x1e3)](_0x1e76f2),_0x107e66;},{}),_0x483832=Object['values'](_0x55a5a8)['map'](_0x285af3=>{var _0x2679eb=_0x178431;const _0x33ceda=_0x285af3[0x0],_0xb01e01=_0x285af3[0x1]||{};function _0x161989(_0x6b020a,_0x42297d,_0x470d8c){var _0x25f7b1=_0x54ba;if(!_0x6b020a||!Array[_0x25f7b1(0x1a1)](_0x6b020a[_0x25f7b1(0x227)]))return'';const _0x42282b=_0x6b020a['currency_data'][_0x25f7b1(0x221)](_0x170a4e=>_0x170a4e[_0x25f7b1(0x154)]===_0x42297d);return _0x42282b?_0x42282b[_0x470d8c]:'';}return{'id':_0x33ceda[_0x2679eb(0x266)],'setItemType':_0x33ceda[_0x2679eb(0x257)],'setCodProducto':_0x33ceda[_0x2679eb(0x14b)],'setDescripcion':_0x33ceda[_0x2679eb(0x1a5)],'setItemDescription':_0x33ceda['setItemDescription'],'setCategoria':_0x33ceda['setCategoria'],'setMarca':_0x33ceda[_0x2679eb(0x248)],'setTaxId':_0x33ceda[_0x2679eb(0x28d)],'setUnitId':_0x33ceda['id'],'setItemBarCode':_0x33ceda[_0x2679eb(0x158)],'setUnidadCodigo':_0x33ceda['setUnidadCodigo'],'PEN_setMtoPrecioUnitario':_0x161989(_0x33ceda,'PEN','setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x161989(_0x33ceda,_0x2679eb(0x1a8),_0x2679eb(0x1ef)),'USD_setMtoPrecioUnitario':_0x161989(_0x33ceda,_0x2679eb(0x188),_0x2679eb(0x262)),'USD_setMtoPrecioCostoUnitario':_0x161989(_0x33ceda,_0x2679eb(0x188),'setMtoPrecioCostoUnitario'),'setUnitId2':_0xb01e01['id']??'','setItemBarCode2':_0xb01e01[_0x2679eb(0x158)]??'','setUnidadCodigo2':_0xb01e01['setUnidadCodigo']??'','setUnidadEquivalencia2':_0xb01e01[_0x2679eb(0x1b8)]??'','PEN_setMtoPrecioUnitario2':_0x161989(_0xb01e01,_0x2679eb(0x1a8),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x161989(_0xb01e01,_0x2679eb(0x1a8),_0x2679eb(0x1ef))??'','USD_setMtoPrecioUnitario2':_0x161989(_0xb01e01,_0x2679eb(0x188),_0x2679eb(0x262))??'','USD_setMtoPrecioCostoUnitario2':_0x161989(_0xb01e01,'USD',_0x2679eb(0x1ef))??'','setInventariable':_0x33ceda['setInventariable'],'setSucursalStock':_0x868e7d==0x1?_0x33ceda[_0x2679eb(0x1d5)][_0x2679eb(0x221)](_0x3661f1=>String(_0x3661f1[_0x2679eb(0x265)])==String(_0x2b8370))[_0x2679eb(0x1bc)]:'','setWarehouseStockMin':_0x868e7d==0x1?_0x33ceda[_0x2679eb(0x1d5)][_0x2679eb(0x221)](_0x1b3a2f=>String(_0x1b3a2f[_0x2679eb(0x265)])==String(_0x2b8370))[_0x2679eb(0x185)]:'','setBatchName':_0x33ceda['setBatchName'],'setBatchExpirationDate':_0x33ceda[_0x2679eb(0x222)],..._0x33ceda[_0x2679eb(0x299)]};});try{JSON[_0x178431(0x1b6)](_0x483832);}catch(_0x1f8005){console[_0x178431(0x239)](_0x178431(0x268),_0x1f8005),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x178431(0x1b1)]=_0x178431(0x1c4),progressBar[_0x178431(0x237)][_0x178431(0x215)]=_0x178431(0x25b),progressBar['value']=0x0,itemWorker[_0x178431(0x1b5)]({'action':_0x178431(0x1fa),'products':_0x483832,'plantillaBuf':_0x5f0bba},[_0x5f0bba]);}catch(_0x3d9a6d){console['error'](_0x3d9a6d),ntfShow(_0x178431(0x27b)+_0x3d9a6d[_0x178431(0x294)]);}}itemWorker['onmessage']=({data:_0xc8d8a8})=>{var _0x454547=_0x4dff66;const {type:_0x33c96b,payload:_0x13590a}=_0xc8d8a8;_0x33c96b===_0x454547(0x1de)&&(progressBar[_0x454547(0x237)][_0x454547(0x215)]='block',progressBar[_0x454547(0x1dc)]=_0x13590a[_0x454547(0x23d)],statusDiv[_0x454547(0x1b1)]=_0x13590a[_0x454547(0x294)]);_0x33c96b==='done'&&(newItemsExcel=_0x13590a['items'],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x454547(0x1be)]+_0x454547(0x24c),uploadBtn[_0x454547(0x258)]=![],progressBar[_0x454547(0x1dc)]=0x64,console['log'](newItemsExcel));_0x33c96b==='error'&&(statusDiv[_0x454547(0x1b1)]=_0x454547(0x15a)+_0x13590a,progressBar['style']['display']=_0x454547(0x19e));if(_0x33c96b===_0x454547(0x151)){const {wbout:_0x939b0e,count:_0x3e4c14}=_0x13590a,_0x3f59d1=new Blob([_0x939b0e],{'type':'application/octet-stream'}),_0x32fbc0=URL[_0x454547(0x1a6)](_0x3f59d1),_0x1f449e=document[_0x454547(0x223)]('a'),_0x1e0b82=new Date()[_0x454547(0x23b)]()[_0x454547(0x283)](0x0,0xa);_0x1f449e[_0x454547(0x1eb)]='Plantilla-Items-Export-'+_0x1e0b82+_0x454547(0x1a9),_0x1f449e[_0x454547(0x25c)]=_0x32fbc0,_0x1f449e[_0x454547(0x27f)](),URL[_0x454547(0x20c)](_0x32fbc0),statusDiv['textContent']='✅\x20Exportación\x20completada:\x20'+_0x3e4c14+_0x454547(0x16f),progressBar[_0x454547(0x237)][_0x454547(0x215)]=_0x454547(0x19e);}},fileInput[_0x4dff66(0x1d9)](_0x4dff66(0x25e),async _0x14b246=>{var _0x391def=_0x4dff66;const _0x398b9a=_0x14b246[_0x391def(0x1fb)][_0x391def(0x273)][0x0];if(!_0x398b9a)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x391def(0x1b1)]='',progressBar[_0x391def(0x237)][_0x391def(0x215)]=_0x391def(0x19e),dropZone[_0x391def(0x1c0)]('.drop-zone__prompt')[_0x391def(0x1b1)]=_0x398b9a[_0x391def(0x186)],removeBtn[_0x391def(0x1cf)]=![];try{const _0x13b979=await _0x398b9a['arrayBuffer']();itemWorker['postMessage']({'action':_0x391def(0x181),'buf':_0x13b979,'maxRows':0x1388});}catch(_0x5639a6){statusDiv[_0x391def(0x1b1)]=_0x391def(0x250);}finally{fileInput[_0x391def(0x1dc)]='';}}),uploadBtn['addEventListener'](_0x4dff66(0x27f),async()=>{var _0x2fafd7=_0x4dff66;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x1da348=document[_0x2fafd7(0x272)]('setWarehouseId')[_0x2fafd7(0x1dc)],_0x5df847=[];newItemsExcel[_0x2fafd7(0x21e)](_0xe58a01=>{var _0x7a9960=_0x2fafd7;const _0x27a7fa=Boolean(_0xe58a01[_0x7a9960(0x1b2)]),_0x800b5d=_0x27a7fa?_0xe58a01['setItemId']:generateNumericUniqId();_0xe58a01[_0x7a9960(0x1e7)]=[{'setStockInitial':_0xe58a01['setStockInitial'],'setStockMinimum':_0xe58a01['setStockMinimum'],'setWarehouseCode':_0x1da348}],_0xe58a01[_0x7a9960(0x213)][_0x7a9960(0x21e)](_0x39b836=>{var _0x27a2f2=_0x7a9960;const _0x11e95a=Boolean(_0x39b836[_0x27a2f2(0x230)]),_0x2cc22b=_0x11e95a?_0x39b836['setItemUnitId']:generateNumericUniqId();_0x39b836[_0x27a2f2(0x230)]=_0x2cc22b;const _0x374f8a=[];_0x374f8a[_0x27a2f2(0x1e3)]({'currency':_0x27a2f2(0x1a8),'setMtoPrecioCostoUnitario':_0x39b836[_0x27a2f2(0x197)],'setMtoPrecioUnitario':_0x39b836[_0x27a2f2(0x1f2)],'setPriceLists':[]});const _0x41a007=_0x39b836[_0x27a2f2(0x287)]!=null&&_0x39b836[_0x27a2f2(0x261)]!=null&&(!isNaN(_0x39b836['setCostUSD'])||!isNaN(_0x39b836[_0x27a2f2(0x261)]));_0x41a007&&_0x374f8a[_0x27a2f2(0x1e3)]({'currency':_0x27a2f2(0x188),'setMtoPrecioCostoUnitario':_0x39b836[_0x27a2f2(0x287)],'setMtoPrecioUnitario':_0x39b836[_0x27a2f2(0x261)],'setPriceLists':[]});const _0x144762={'id':_0x2cc22b,'setIdProducto':_0x800b5d,'setItemBarCode':_0x39b836[_0x27a2f2(0x158)],'setCodProducto':_0xe58a01[_0x27a2f2(0x19b)],'setDescripcion':_0xe58a01[_0x27a2f2(0x20d)],'setItemDescription':_0xe58a01[_0x27a2f2(0x1ab)],'setBatchExpirationDate':_0xe58a01[_0x27a2f2(0x27d)],'setBatchName':_0xe58a01[_0x27a2f2(0x14f)],'setCategoria':_0xe58a01['setItemCategories'][0x0]||'','setMarca':_0xe58a01[_0x27a2f2(0x18f)][0x0]||'','setConversionFactor':parseFloat(_0x39b836[_0x27a2f2(0x224)]),'setImages':[],'setImg':_0x27a2f2(0x277),'setInventariable':_0xe58a01[_0x27a2f2(0x191)],'setItemIsBought':_0xe58a01[_0x27a2f2(0x199)],'setItemIsSold':_0xe58a01[_0x27a2f2(0x1cb)],'setPorcentajeIgv':_0xe58a01[_0x27a2f2(0x1bb)],'setPrinters':[],'setTaxId':_0xe58a01[_0x27a2f2(0x26c)],'setTipAfeIgv':_0xe58a01['setItemTaxCode'],'setUnidad':_0x39b836['setUnitCode'],'setUnidadCodigo':_0x39b836[_0x27a2f2(0x168)],'setItemUnitAlias':_0x39b836[_0x27a2f2(0x196)],'currency_data':_0x374f8a,'sucursales':_0xe58a01['setItemWarehouses'][_0x27a2f2(0x14c)](_0x58f2f0=>({'setIdSucursal':_0x58f2f0[_0x27a2f2(0x218)],'setSucursalStock':_0x58f2f0['setStockInitial'][_0x27a2f2(0x259)](),'setWarehouseStockMin':_0x58f2f0['setStockMinimum'][_0x27a2f2(0x259)]()})),'setItemFree':_0xe58a01[_0x27a2f2(0x225)],'setItemBrands':_0xe58a01['setItemBrands'][_0x27a2f2(0x283)](),'setItemCategories':_0xe58a01[_0x27a2f2(0x183)]['slice'](),'setItemComponents':_0xe58a01[_0x27a2f2(0x209)]['map'](_0x229551=>({..._0x229551})),'setItemImages':_0xe58a01[_0x27a2f2(0x19f)][_0x27a2f2(0x283)](),'setItemVariantName':_0xe58a01[_0x27a2f2(0x203)],'setItemVariantValues':{..._0xe58a01[_0x27a2f2(0x299)]}},_0x49abf3=products[_0x27a2f2(0x16d)](_0x138116=>_0x138116['id']==_0x2cc22b&&_0x138116['setIdProducto']==_0x800b5d);_0x49abf3>-0x1?Object['assign'](products[_0x49abf3],_0x144762):_0x5df847[_0x27a2f2(0x1e3)](_0x144762);});}),console[_0x2fafd7(0x210)](_0x2fafd7(0x275),newItemsExcel),await finalizeImport(_0x5df847,newItemsExcel,!![]);});function _0x54ba(_0x2890f3,_0x2b8e01){var _0x5803cc=_0x4501();return _0x54ba=function(_0x572cf8,_0x38667d){_0x572cf8=_0x572cf8-0x149;var _0x137880=_0x5803cc[_0x572cf8];return _0x137880;},_0x54ba(_0x2890f3,_0x2b8e01);}function initializeFormImages(){var _0x3285d3=_0x4dff66;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x3285d3(0x24e)]='',baseItem[_0x3285d3(0x19f)]=[];for(var _0x4605ba=0x0;_0x4605ba<MAX_IMAGES;_0x4605ba++){(function(_0x415e48){var _0x48da78=_0x3285d3,_0x5e218a=document[_0x48da78(0x223)](_0x48da78(0x177));_0x5e218a['className']='image_box',_0x5e218a[_0x48da78(0x247)]['idx']=_0x415e48;var _0x1c3f6d=document['createElement']('input');_0x1c3f6d[_0x48da78(0x1ce)]=_0x48da78(0x1f6),_0x1c3f6d[_0x48da78(0x17c)]=_0x48da78(0x164),_0x1c3f6d['style']['display']=_0x48da78(0x19e);var _0x466358=document[_0x48da78(0x223)](_0x48da78(0x1a2));_0x466358['textContent']='+',_0x5e218a['appendChild'](_0x1c3f6d),_0x5e218a['appendChild'](_0x466358),imgC[_0x48da78(0x22c)](_0x5e218a),_0x5e218a[_0x48da78(0x1d9)](_0x48da78(0x27f),function(){_0x1c3f6d['click']();}),_0x1c3f6d['addEventListener'](_0x48da78(0x25e),function(_0x28fa2b){var _0x396fbb=_0x48da78,_0x2917a4=_0x28fa2b[_0x396fbb(0x1fb)][_0x396fbb(0x273)][0x0];if(!_0x2917a4)return removeImg(_0x415e48);var _0x25d90a=new FileReader();_0x25d90a[_0x396fbb(0x208)]=function(_0x18872d){var _0x4eed8e=_0x396fbb;_0x5e218a[_0x4eed8e(0x24e)]=_0x4eed8e(0x25d)+_0x18872d[_0x4eed8e(0x1fb)][_0x4eed8e(0x274)]+'\x22>';var _0xe4affa=document[_0x4eed8e(0x223)](_0x4eed8e(0x1a2));_0xe4affa[_0x4eed8e(0x207)]='remove',_0xe4affa['textContent']='×',_0xe4affa[_0x4eed8e(0x1d9)](_0x4eed8e(0x27f),function(_0x318490){var _0x136382=_0x4eed8e;_0x318490[_0x136382(0x18e)](),removeImg(_0x415e48);}),_0x5e218a['appendChild'](_0xe4affa),currentImages[_0x415e48]=_0x2917a4,baseItem['setItemImages']=currentImages[_0x4eed8e(0x240)](function(_0x4dce20){return _0x4dce20;});},_0x25d90a[_0x396fbb(0x220)](_0x2917a4);});}(_0x4605ba));}}function initializeFormIsSoldIsBought(_0x1ae323=0x0){var _0x1a2b10=_0x4dff66;let _0x4deb55,_0x1a7083;if(_0x1ae323!=0x0){const _0x40d61e=products['find'](_0x2e054f=>_0x2e054f['id']==_0x1ae323);_0x4deb55=_0x40d61e['setItemIsBought']==0x1||_0x40d61e['setItemIsBought']==!![]?!![]:![],_0x1a7083=_0x40d61e[_0x1a2b10(0x1cb)]==0x1||_0x40d61e[_0x1a2b10(0x1cb)]==!![]?!![]:![];}else _0x4deb55=!![],_0x1a7083=!![];document[_0x1a2b10(0x272)](_0x1a2b10(0x1bf))[_0x1a2b10(0x232)]=_0x4deb55,document[_0x1a2b10(0x272)](_0x1a2b10(0x1db))[_0x1a2b10(0x232)]=_0x1a7083,baseItem[_0x1a2b10(0x199)]=_0x4deb55,baseItem[_0x1a2b10(0x1cb)]=_0x1a7083;}function initializeFormInputsBasic(_0x415deb=0x0){var _0x491d08=_0x4dff66;let _0x4c28e7,_0x30261a,_0xee937,_0x3504c1,_0x558f9b,_0x2e086b;if(_0x415deb!=0x0){const _0x1a632a=products['find'](_0x42a5d0=>_0x42a5d0['id']==_0x415deb);_0x4c28e7=_0x1a632a[_0x491d08(0x257)]??'1',_0x30261a=_0x1a632a[_0x491d08(0x14b)],_0xee937=_0x1a632a[_0x491d08(0x1a5)],_0x3504c1=_0x1a632a[_0x491d08(0x1ab)],_0x558f9b=_0x1a632a[_0x491d08(0x222)]??'',_0x2e086b=_0x1a632a['setItemBarCode'];}else _0x4c28e7='1',_0x30261a=getNextCode(products),_0xee937='',_0x3504c1='',_0x558f9b='',_0x2e086b='';document[_0x491d08(0x272)](_0x491d08(0x216))[_0x491d08(0x1dc)]=_0x4c28e7,document[_0x491d08(0x272)](_0x491d08(0x193))[_0x491d08(0x1dc)]=_0x30261a,document[_0x491d08(0x272)](_0x491d08(0x23c))[_0x491d08(0x1dc)]=_0xee937,document[_0x491d08(0x272)](_0x491d08(0x298))['value']=_0x3504c1,document[_0x491d08(0x272)](_0x491d08(0x263))[_0x491d08(0x1dc)]=_0x558f9b,document[_0x491d08(0x272)](_0x491d08(0x235))[_0x491d08(0x1dc)]=_0x2e086b,baseItem[_0x491d08(0x257)]=_0x4c28e7,baseItem['setItemCode']=_0x30261a,baseItem[_0x491d08(0x20d)]=_0xee937,baseItem['setItemDescription']=_0x3504c1,baseItem[_0x491d08(0x27d)]=_0x558f9b,baseItem['setItemBarCode']=_0x2e086b,document['getElementById'](_0x491d08(0x1ff))['checked']=![];}function initializeFormTax(_0x57fc92=0x0){var _0xe80b46=_0x4dff66;let _0x4db3c9;if(_0x57fc92!=0x0){const _0x588ed3=products[_0xe80b46(0x221)](_0x57aa5b=>_0x57aa5b['id']==_0x57fc92);_0x4db3c9=_0x588ed3[_0xe80b46(0x28d)];}else _0x4db3c9=myCompany[_0xe80b46(0x16a)];const _0x21e351=document['getElementById'](_0xe80b46(0x152));_0x21e351[_0xe80b46(0x1dc)]=_0x4db3c9,baseItem[_0xe80b46(0x26c)]=_0x4db3c9;const _0x1691b7=company[0x0][_0xe80b46(0x17f)]['find'](_0x186d86=>_0x186d86['setTaxId']==_0x4db3c9)?.[_0xe80b46(0x295)]||0x0,_0x510a97=company[0x0]['setImpuestos'][_0xe80b46(0x221)](_0x5e359e=>_0x5e359e[_0xe80b46(0x28d)]==_0x4db3c9)?.[_0xe80b46(0x1f5)]||0x0;baseItem[_0xe80b46(0x20e)]=_0x1691b7,baseItem[_0xe80b46(0x1bb)]=_0x510a97;}function initializeFormCategoriesBrands(_0x34d1e9=0x0){var _0x5a7b=_0x4dff66;baseItem[_0x5a7b(0x183)]=[],baseItem['setItemBrands']=[],document[_0x5a7b(0x1c0)]('#newItem_categories_select\x20.selected_tags')[_0x5a7b(0x24e)]='',document[_0x5a7b(0x1c0)](_0x5a7b(0x254))[_0x5a7b(0x24e)]='',document[_0x5a7b(0x1c0)](_0x5a7b(0x212))[_0x5a7b(0x24e)]='',document[_0x5a7b(0x1c0)](_0x5a7b(0x217))['innerHTML']='';const _0x43b83a=uniqueValuesArray(_0x5a7b(0x1b7),_0x5a7b(0x1b7),products),_0x1f400c=uniqueValuesArray('setMarca',_0x5a7b(0x248),products);initMulti(_0x5a7b(0x19a),_0x43b83a),initMulti(_0x5a7b(0x1c2),_0x1f400c),document['getElementById'](_0x5a7b(0x19a))[_0x5a7b(0x1d9)](_0x5a7b(0x160),function(_0x27c67e){var _0xdc5511=_0x5a7b;baseItem[_0xdc5511(0x183)]=_0x27c67e[_0xdc5511(0x1ea)][_0xdc5511(0x14c)](_0x34d576=>_0x34d576[_0xdc5511(0x289)]);}),document[_0x5a7b(0x272)](_0x5a7b(0x1c2))[_0x5a7b(0x1d9)](_0x5a7b(0x160),function(_0x4dda01){var _0x278748=_0x5a7b;baseItem[_0x278748(0x18f)]=_0x4dda01[_0x278748(0x1ea)]['map'](_0x5cf61e=>_0x5cf61e[_0x278748(0x289)]);});if(_0x34d1e9!=0x0){const _0x421835=products[_0x5a7b(0x221)](_0x4cda72=>_0x4cda72['id']==_0x34d1e9);if(_0x421835[_0x5a7b(0x1b7)]){const _0x108661=document[_0x5a7b(0x272)]('newItem_categories_select'),_0xa0b881=Array[_0x5a7b(0x238)](_0x108661[_0x5a7b(0x293)]('.options_list\x20div'))['find'](_0x409a58=>_0x409a58[_0x5a7b(0x247)]['code']==_0x421835['setCategoria']);_0xa0b881&&_0xa0b881[_0x5a7b(0x27f)]();}if(_0x421835['setMarca']){const _0x1219e8=document[_0x5a7b(0x272)]('newItem_brands_select'),_0x4cd8aa=Array[_0x5a7b(0x238)](_0x1219e8[_0x5a7b(0x293)](_0x5a7b(0x282)))[_0x5a7b(0x221)](_0x3b9630=>_0x3b9630[_0x5a7b(0x247)][_0x5a7b(0x24f)]==_0x421835[_0x5a7b(0x248)]);_0x4cd8aa&&_0x4cd8aa['click']();}}}function initializeFormUnits(){var _0x1f53cf=_0x4dff66;unitCount=0x0,document[_0x1f53cf(0x272)](_0x1f53cf(0x16b))[_0x1f53cf(0x24e)]='',baseItem[_0x1f53cf(0x213)]=[];var _0x4da419=uniqueValuesArray(_0x1f53cf(0x168),'setUnitName',myCompany[_0x1f53cf(0x236)]);addUnit('',_0x4da419[0x3a]&&_0x4da419[0x3a][_0x1f53cf(0x289)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x35c465=_0x4dff66;prodC[_0x35c465(0x24e)]='',baseItem[_0x35c465(0x209)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2ad309=_0x4dff66;branchesC[_0x2ad309(0x24e)]='',baseItem[_0x2ad309(0x1e7)]=[];const _0x4cfa46=getAllWarehouses();_0x4cfa46[_0x2ad309(0x21e)](function(_0x32768c){var _0x246226=_0x2ad309,_0x5192be=document[_0x246226(0x223)](_0x246226(0x177));_0x5192be['innerHTML']=_0x246226(0x171)+'<div\x20class=\x22newItem_col\x22>'+_0x246226(0x179)+_0x32768c[_0x246226(0x1c5)]+_0x246226(0x18d)+_0x32768c['setWarehouseName']+'</label>'+'</div>'+_0x246226(0x26f)+_0x246226(0x243)+_0x32768c[_0x246226(0x1c5)]+'\x22>'+_0x246226(0x296)+_0x246226(0x26f)+_0x246226(0x20b)+_0x32768c[_0x246226(0x1c5)]+'\x22>'+_0x246226(0x296)+'</div>',branchesC[_0x246226(0x22c)](_0x5192be),_0x5192be[_0x246226(0x293)]('input')['forEach'](function(_0x2315aa){var _0x1bfd4b=_0x246226;_0x2315aa[_0x1bfd4b(0x1d9)](_0x1bfd4b(0x1f8),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0xcf5df7=_0x4dff66;baseItem['setItemVariantName']='',baseItem['setItemVariantValues']={},vgC['innerHTML']='',varContainer[_0xcf5df7(0x24e)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x2c0956,_0x30dd3f,_0x19ada0=![]){var _0xaa2cdf=_0x4dff66;const _0x241d16=0xc8,_0x1af38c={'apiPOSsendOffline':'1','setTipoOperacion':_0xaa2cdf(0x22b),'setToken':company[0x0][_0xaa2cdf(0x23f)],'setWebhook':company[0x0]['setWebhook']};for(let _0x99f6d4=0x0;_0x99f6d4<_0x30dd3f['length'];_0x99f6d4+=_0x241d16){const _0x5516e6=_0x30dd3f[_0xaa2cdf(0x283)](_0x99f6d4,_0x99f6d4+_0x241d16);await storeOfflineProduct({..._0x1af38c,'newItems':_0x5516e6});}products[_0xaa2cdf(0x1e3)](..._0x2c0956),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0xaa2cdf(0x1e4)),_0x19ada0?(fileInput[_0xaa2cdf(0x1dc)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0xaa2cdf(0x237)][_0xaa2cdf(0x215)]=_0xaa2cdf(0x19e),progressBar[_0xaa2cdf(0x1dc)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}