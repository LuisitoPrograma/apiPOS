/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 3.2.9
*/

const _0xb4a71b=_0x33d9;(function(_0x3f9abd,_0xeab28f){const _0x18db60=_0x33d9,_0x3fc427=_0x3f9abd();while(!![]){try{const _0x450d61=-parseInt(_0x18db60(0x263))/0x1+parseInt(_0x18db60(0x28e))/0x2*(-parseInt(_0x18db60(0x2ba))/0x3)+parseInt(_0x18db60(0x162))/0x4+parseInt(_0x18db60(0x292))/0x5*(parseInt(_0x18db60(0x1e3))/0x6)+-parseInt(_0x18db60(0x28f))/0x7+parseInt(_0x18db60(0x1a1))/0x8*(-parseInt(_0x18db60(0x15c))/0x9)+parseInt(_0x18db60(0x163))/0xa;if(_0x450d61===_0xeab28f)break;else _0x3fc427['push'](_0x3fc427['shift']());}catch(_0x269aea){_0x3fc427['push'](_0x3fc427['shift']());}}}(_0x367d,0xf328d));const _0x5580b6=(function(){let _0x56fd82=!![];return function(_0x272ae7,_0x5e9f5b){const _0x4b9abf=_0x56fd82?function(){if(_0x5e9f5b){const _0x5d9869=_0x5e9f5b['apply'](_0x272ae7,arguments);return _0x5e9f5b=null,_0x5d9869;}}:function(){};return _0x56fd82=![],_0x4b9abf;};}()),_0x50a24b=_0x5580b6(this,function(){const _0x5d1142=_0x33d9;return _0x50a24b[_0x5d1142(0x173)]()[_0x5d1142(0x165)]('(((.+)+)+)+$')[_0x5d1142(0x173)]()[_0x5d1142(0x134)](_0x50a24b)[_0x5d1142(0x165)]('(((.+)+)+)+$');});_0x50a24b();const _0x27a3fd=(function(){let _0x63afa0=!![];return function(_0x1dab9d,_0x950bd4){const _0x1464df=_0x63afa0?function(){const _0x42210e=_0x33d9;if(_0x950bd4){const _0x46332a=_0x950bd4[_0x42210e(0x224)](_0x1dab9d,arguments);return _0x950bd4=null,_0x46332a;}}:function(){};return _0x63afa0=![],_0x1464df;};}()),_0xf081d4=_0x27a3fd(this,function(){const _0x3d8a97=_0x33d9;let _0x16baec;try{const _0x33d13e=Function('return\x20(function()\x20'+_0x3d8a97(0x19f)+');');_0x16baec=_0x33d13e();}catch(_0xec8055){_0x16baec=window;}const _0x319822=_0x16baec['console']=_0x16baec[_0x3d8a97(0x2d8)]||{},_0x5ab78a=['log',_0x3d8a97(0x24c),_0x3d8a97(0x1bc),_0x3d8a97(0x231),_0x3d8a97(0x268),_0x3d8a97(0x1e1),_0x3d8a97(0x1b4)];for(let _0x4bd50a=0x0;_0x4bd50a<_0x5ab78a[_0x3d8a97(0x175)];_0x4bd50a++){const _0x728dc2=_0x27a3fd[_0x3d8a97(0x134)][_0x3d8a97(0x19c)]['bind'](_0x27a3fd),_0x36e72b=_0x5ab78a[_0x4bd50a],_0x517024=_0x319822[_0x36e72b]||_0x728dc2;_0x728dc2[_0x3d8a97(0x1eb)]=_0x27a3fd[_0x3d8a97(0x13a)](_0x27a3fd),_0x728dc2['toString']=_0x517024[_0x3d8a97(0x173)]['bind'](_0x517024),_0x319822[_0x36e72b]=_0x728dc2;}});_0xf081d4();let db=null,dbPromise=null,db_name=_0xb4a71b(0x28b),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const gdfg5g=_0xb4a71b(0x266),x45fgd='x3',xjehd78=_0xb4a71b(0x16b),cxkdj4=_0xb4a71b(0x1fa),x87s8d='x32',mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s='32system',kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0xb4a71b(0x216),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0xb4a71b(0x2bd),xg123f=_0xb4a71b(0x1f3),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0xb4a71b(0x233),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0xb4a71b(0x1aa),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0xb4a71b(0x24a),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0xb4a71b(0x250),x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33=_0xb4a71b(0x170),kkx12='s',ak47r=_0xb4a71b(0x1a7),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0xb4a71b(0x1dc),p34d9='d',kx32h='v',yx34l='p',pltbr=_0xb4a71b(0x2d6),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0xb4a71b(0x144),'S02',_0xb4a71b(0x288),_0xb4a71b(0x19b),_0xb4a71b(0x1b9),'ar10.5',_0xb4a71b(0x2a6),_0xb4a71b(0x1f0),_0xb4a71b(0x1f6),'uy22','uy10'],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0xb4a71b(0x20c)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0xb4a71b(0x19d),'MX20','AR0','CL0',_0xb4a71b(0x172),_0xb4a71b(0x2d3)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0xb4a71b(0x20c)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt['concat'](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0xb4a71b(0x20c)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0xcd6a9){const _0x4d61d3=_0xb4a71b,_0x181c54=new URLSearchParams(window['location'][_0x4d61d3(0x165)]);return _0x181c54[_0x4d61d3(0x174)](_0xcd6a9);}function setUserNameGet(){const _0x1e7ef5=_0xb4a71b,_0x4a8698=getQueryParam(_0x1e7ef5(0x1b1)),_0xd555f4=document[_0x1e7ef5(0x191)](_0x1e7ef5(0x2b2));_0x4a8698&&_0xd555f4&&(_0xd555f4[_0x1e7ef5(0x25b)]=_0x4a8698);}function loadLoginContent(_0x58a6d0){const _0x3eadeb=_0xb4a71b,_0xcfbc21=document['getElementById'](_0x3eadeb(0x22c));_0xcfbc21[_0x3eadeb(0x243)]='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x58a6d0+_0x3eadeb(0x27b);}function addNumber(_0x2228b1){const _0x26a610=_0xb4a71b;document['getElementById'](_0x26a610(0x137))[_0x26a610(0x25b)]+=_0x2228b1;}function _0x33d9(_0x5c87c3,_0x3d07e4){const _0x1cbc45=_0x367d();return _0x33d9=function(_0xf081d4,_0x27a3fd){_0xf081d4=_0xf081d4-0x133;let _0x21b5cb=_0x1cbc45[_0xf081d4];return _0x21b5cb;},_0x33d9(_0x5c87c3,_0x3d07e4);}function deleteNumber(){const _0x139a02=_0xb4a71b;let _0x4b2ca3=document[_0x139a02(0x191)](_0x139a02(0x137));_0x4b2ca3['value']=_0x4b2ca3[_0x139a02(0x25b)]['slice'](0x0,-0x1);}function togglePassword(){const _0x1319bc=_0xb4a71b;let _0xb8ed83=document[_0x1319bc(0x191)](_0x1319bc(0x137));_0xb8ed83[_0x1319bc(0x269)]=_0xb8ed83[_0x1319bc(0x269)]=='password'?_0x1319bc(0x13e):_0x1319bc(0x137);}function setEventBtnAccess(){const _0x3a02bd=_0xb4a71b,_0x1b62e5=document[_0x3a02bd(0x191)]('btn-access-login');_0x1b62e5[_0x3a02bd(0x29c)]=function(){acceder();};}function _0x367d(){const _0x270ec8=['title','text','Company\x20Load\x20Error:','state','currency','setDescripcion','add','S01','ntf-modal-actions','infoLoadingModal','setBranchId','mozFullScreenElement','setUnidad','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','setCodProducto','https://apierp.dev/api/apiPOS/get/','ntf-hidden','setCustomerEmail','d-none','ntf-notification-dropdown','El\x20archivo\x20PDF\x20no\x20es\x20válido\x20o\x20está\x20vacío.','position','ObjectStore\x20\x27','disabled','target','setMtoPrecioCostoUnitario','setTipoOperacionInvoice','Error:\x20','option','13/05/2025','offline_operations','90NeRpep','onupdatefound','height','button','find','#888','2519140hWCiXN','53585900BSVHiK','contains','search','Tab','fixed','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','setProductos','setClienteDenominacion','xpos','#FF5900','Company\x20Empty.','setBatchName','Error\x20in\x20saving\x20to\x20store\x20','64x32xsystem','Backspace','CO0','toString','get','length','junio','objectStoreNames','Error\x20al\x20guardar\x20el\x20layout:\x20','createElement','setMoneda','activeElement','ntfIndex','mozRequestFullScreen','webkitExitFullscreen','setWarehouseId','Factura\x20(COP)','log','payment-option','animationend','Error\x20al\x20procesar\x20operaciones\x20offline:','Todos\x20los\x20campos\x20son\x20obligatorios.','Error:\x20Domain\x20not\x20registered.','setCollaborators','searchInput','setCompanyName','Stock\x20mínimo:\x20','keys','Ver\x20movimientos','window_options_','Acción\x20\x22','ntf-flotante-container','Bienvenido(a)\x20','getElementById','className','hidden','#container-section-pay-','noviembre','Error\x20Network.','setCompanyLogo','Factura\x20(PEN)','Recibo\x20(MXN)','Recibo\x20(UYU)','mx08','prototype','E01','Recibo\x20(COP)','{}.constructor(\x22return\x20this\x22)(\x20)','click','1576776TnpkYi','setUserName','onupgradeneeded','some','toggle','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','rgf4x32','100%','setTipoComprobante','64system','documento.pdf','setUsuarios','setPrinters','cartId','opacity','abril','username','result','application/json','trace','getFullYear','apiPOSsendOffline','createObjectStore','dispatchEvent','ar21','POST','Sincronización\x20completada\x20correctamente.','info','setImpuestoValue','Nombre\x20de\x20store\x20no\x20válido:\x20','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','</p>','setDescuentoGlobal_Monto','line','pop','setCashierName','resolve','Products\x20Empty.','textContent','id_registro','setItemIsSold','split','Generando\x20','from','enero','preventDefault','offsetHeight','19/05/2025','Error\x20al\x20actualizar\x20operación\x20sincronizada:\x20','remove','setSucursalStock','reload','Recibo\x20(PEN)','readonly','includes','location','setCustomers','getAll','success','pcrcl','msRequestFullscreen','<br>\x0aStock\x20Actual:\x20','Registrar\x20movimiento','cursor','table','onLine','155004mrXYtA','startsWith','setBankAccounts','zIndex','octubre','setMarca','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','21/05/2025','__proto__','filter','getMonth','<h2>','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','co19','reject','map','45x','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','company','co5','INPUT','setMessage','setMtoPrecioUnitario','x64','20/05/2025','diciembre','setImpuestos','serviceWorker','El\x20producto\x20\x22','setCompanyEmail','setSeries','dataset','setMtoValorUnitario','requestFullscreen','reduce','isArray','clear','detalleModalPay','https://apierp.dev/api/company/get/','pdfBlob','Factura\x20(CLP)','concat','setFechaHora','top','Factura\x20(ARS)','julio','Boleta\x20(PEN)','windowIds\x20previamente\x20creados:','Plan\x20Impulsa','windowId','setCajeroCodigo','x64c','setCompanyWebsite','tabs-notifications','Enter','createIndex','setTipAfeIgv','loadingModal','close','setUser_Local','.product[tabindex=\x270\x27]','Procesamiento\x20de\x20datos\x20exitoso\x20...','flex','setWarehouseName','setCompanyDoc','apply','webkitRequestFullscreen','ntf-flotante-message','Delete','Boleta\x20(COP)','Error:\x20No\x20hay\x20ventanas\x20disponibles.','setItemIsBought','header','login','register','Boleta\x20(ARS)','active','setClienteTipoDoc','error','Recibo\x20(ARS)','xtt3','onsuccess','\x0aEl\x20producto\x20\x22','setCustomerPhone','Error\x20desconocido.','input,\x20select,\x20button,\x20a:not(.payment-option)','appendChild','toFixed','transaction','Error\x20guardando\x20mensaje\x20de\x20fallo:\x20','checkout-btn-','setWindowName','TEXTAREA','setCompanyPhone','open','User\x20no\x20Logged!','innerHTML','setMtoValorCostoUnitario','key','setWarehouseStockMin','500px','setBranchDefault','\x22\x20para\x20registro\x20#','port','transition','warn','#080060','Boleta\x20(CLP)','Tab\x20count\x20inicializado\x20en:\x20','ltop','fecha','Error\x20al\x20actualizar\x20data\x20online:','Total','Error\x20al\x20obtener\x20las\x20operaciones:\x20','16/05/2025','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','setImages','setWindowId','</h2><p>','setSuppliers','value','\x20del\x20','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v3.2.9\x20...</span>','\x27\x20creado\x20correctamente.','fullscreen-btn','setUsers','ntf-notifications-list','setCompanyNameTrade','1866985yctJzJ','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','setProductDescription','f34f','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','exception','type','setDespacho','Producto\x20vencido:\x20','Error\x20al\x20sincronizar\x20operación:\x20','\x27\x20eliminada.','onerror','Boleta\x20(MXN)','setInventariable','Boleta\x20(USD)','\x20de\x20','exitFullscreen','Solo\x20necesitas\x20internet\x20para\x20acceder!','Arrays\x20actualizados\x20para\x20windowId\x20','oncomplete','deleteObjectStore','addEventListener','slice','version','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v3.2.9\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','ntf-modal-body','none','msExitFullscreen','setTaxId','layoutState','ntf-notif-count','setFloorName','setSerie','getDate','\x20...','ntf-modal-close','setUnidadCodigo','mx16','setClienteDireccion','setSellerId','apiERP','mozCancelFullScreen','ntf-notification-modal','2ObrNYV','9760142LhkHUL','change','setBranches','335adnjwN','append','.payment-option','then','setWindows','Factura\x20(UYU)','./app.js?v=3.2.9','setConversionFactor','setLayout','center','onclick','setCurrencyDefault','setUserEmail','finally','marzo','msFullscreenElement','setUserNombres','indexOf','forEach','put','cl19','Boleta\x20(UYU)','ambientes','setIdSucursal','Recibo\x20(USD)','style','17/05/2025','\x22\x20expiró\x20el\x20','message','setCategoria','Eliminar\x20producto','pointer','usuario','setBatchExpirationDate','setPriceLists','setWarehouses','Inicio\x20de\x20sesión\x20exitoso\x20...','900px','setShifts','setWebhook','4473033hHYgfp','sort','alignItems','x63s','Revisar\x20lote','Error\x20desconocido\x20al\x20actualizar\x20Data.','stringify','setBranchName','Error\x20Update:','focus','septiembre','backgroundColor','statusText','products','push','15/05/2025','Products\x20Load\x20Error:','controllerchange','SW\x20Success','./img/product.png','justifyContent','catch','installed','div','size','UY0','SW\x20New\x20Version','json','lbtom','sucursales','console','Error\x20al\x20enviar\x20operación\x20offline:','layout','onstatechange','febrero','querySelectorAll','Sincronizando\x20...','readwrite','constructor','setAttachEdit','application/json;\x20charset=utf-8','password','classList','rgba(0,\x200,\x200,\x200.5)','bind','objectStore','Factura\x20(USD)'];_0x367d=function(){return _0x270ec8;};return _0x367d();}function isOnline(){const _0x4e73e5=_0xb4a71b;return window['navigator'][_0x4e73e5(0x1e2)];}function showLoadingModal(){const _0x54ce89=_0xb4a71b,_0x1c38b7=document['createElement'](_0x54ce89(0x2d1));_0x1c38b7['id']=_0x54ce89(0x21c),_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x152)]=_0x54ce89(0x167),_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x20e)]='0',_0x1c38b7[_0x54ce89(0x2ab)]['left']='0',_0x1c38b7[_0x54ce89(0x2ab)]['width']=_0x54ce89(0x1a8),_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x15e)]=_0x54ce89(0x1a8),_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x2c5)]=_0x54ce89(0x139),_0x1c38b7[_0x54ce89(0x2ab)]['display']=_0x54ce89(0x221),_0x1c38b7['style'][_0x54ce89(0x2ce)]=_0x54ce89(0x29b),_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x2bc)]='center',_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x1e6)]='9999',_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x1af)]='1',_0x1c38b7[_0x54ce89(0x2ab)][_0x54ce89(0x24b)]=_0x54ce89(0x27d),_0x1c38b7['innerHTML']='\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a',document['body'][_0x54ce89(0x239)](_0x1c38b7);}function hideLoadingModal(){const _0x29ed93=_0xb4a71b,_0x180d80=document[_0x29ed93(0x191)]('loadingModal');_0x180d80&&(_0x180d80[_0x29ed93(0x2ab)][_0x29ed93(0x1af)]='0',_0x180d80[_0x29ed93(0x1d2)]());}function cargarAlmacenes(_0x27072d){const _0x72aa18=_0xb4a71b,_0x11cd87=document[_0x72aa18(0x191)](_0x72aa18(0x17f));_0x11cd87['innerHTML']='';const _0x148f31=company[0x0][_0x72aa18(0x291)][_0x72aa18(0x160)](_0x27d8d9=>_0x27d8d9[_0x72aa18(0x147)]==_0x27072d);_0x148f31&&_0x148f31[_0x72aa18(0x2b5)][_0x72aa18(0x175)]>0x0&&_0x148f31[_0x72aa18(0x2b5)]['forEach'](_0x5d5dce=>{const _0x20b798=_0x72aa18;let _0x18c011=document[_0x20b798(0x179)](_0x20b798(0x159));_0x18c011[_0x20b798(0x25b)]=_0x5d5dce[_0x20b798(0x17f)],_0x18c011[_0x20b798(0x1c7)]=_0x5d5dce[_0x20b798(0x222)],_0x11cd87[_0x20b798(0x239)](_0x18c011);});}function cargarPisos(_0x5da1d2){const _0x196df7=_0xb4a71b,_0xeafc76=company[0x0][_0x196df7(0x296)][_0x196df7(0x1ec)](_0x5ae6fa=>_0x5ae6fa['setBranchId']==_0x5da1d2),_0x2075ae={};_0xeafc76[_0x196df7(0x2a4)](_0x52386b=>{const _0x2ef9ff=_0x196df7;_0x2075ae[_0x52386b['setFloorId']]=_0x52386b[_0x2ef9ff(0x282)];});const _0x5eb7df=document[_0x196df7(0x191)]('setFloorId');_0x5eb7df[_0x196df7(0x243)]='';for(const _0x5362d4 in _0x2075ae){const _0x5188f0=document['createElement'](_0x196df7(0x159));_0x5188f0[_0x196df7(0x25b)]=_0x5362d4,_0x5188f0[_0x196df7(0x1c7)]=_0x2075ae[_0x5362d4],_0x5eb7df['appendChild'](_0x5188f0);}}document['getElementById'](_0xb4a71b(0x25f))[_0xb4a71b(0x278)](_0xb4a71b(0x1a0),()=>{const _0x7d39e6=_0xb4a71b,_0x196859=document['documentElement'],_0x37569c=document['fullscreenElement']||document['webkitFullscreenElement']||document[_0x7d39e6(0x148)]||document[_0x7d39e6(0x2a1)];if(!_0x37569c){if(_0x196859[_0x7d39e6(0x204)])_0x196859[_0x7d39e6(0x204)]();else{if(_0x196859['webkitRequestFullscreen'])_0x196859[_0x7d39e6(0x225)]();else{if(_0x196859['mozRequestFullScreen'])_0x196859[_0x7d39e6(0x17d)]();else _0x196859[_0x7d39e6(0x1dd)]&&_0x196859[_0x7d39e6(0x1dd)]();}}}else{if(document['exitFullscreen'])document[_0x7d39e6(0x273)]();else{if(document[_0x7d39e6(0x17e)])document[_0x7d39e6(0x17e)]();else{if(document['mozCancelFullScreen'])document[_0x7d39e6(0x28c)]();else document['msExitFullscreen']&&document[_0x7d39e6(0x27e)]();}}}});function ntf_formatDateDMY(_0x5603d7){const _0x47cdef=_0xb4a71b;var _0x46bf21=new Date(_0x5603d7),_0x2365d5=_0x46bf21[_0x47cdef(0x284)](),_0x501762=_0x46bf21[_0x47cdef(0x1b5)](),_0x54d0cd=[_0x47cdef(0x1cd),_0x47cdef(0x2dc),_0x47cdef(0x2a0),_0x47cdef(0x1b0),'mayo',_0x47cdef(0x176),_0x47cdef(0x210),'agosto',_0x47cdef(0x2c4),_0x47cdef(0x1e7),_0x47cdef(0x195),_0x47cdef(0x1fc)],_0x45a3d1=_0x54d0cd[_0x46bf21[_0x47cdef(0x1ed)]()];return _0x2365d5+_0x47cdef(0x272)+_0x45a3d1+_0x47cdef(0x25c)+_0x501762;}function ntf_groupBy(_0xfe0ba7,_0x3b9df8){const _0x1c86ef=_0xb4a71b;return _0xfe0ba7[_0x1c86ef(0x205)](function(_0x2d73e6,_0xd76994){const _0x2490be=_0x1c86ef;var _0x29071c=_0xd76994[_0x3b9df8];return _0x2d73e6[_0x29071c]=_0x2d73e6[_0x29071c]||[],_0x2d73e6[_0x29071c][_0x2490be(0x2c8)](_0xd76994),_0x2d73e6;},{});}function ntf_isExpired(_0x18897b){if(!_0x18897b)return![];var _0x2d5a5f=new Date();return _0x2d5a5f['setHours'](0x0,0x0,0x0,0x0),new Date(_0x18897b)<=_0x2d5a5f;}function ntf_getNotifications(){const _0x232881=_0xb4a71b;var _0x326d9e=parseInt(document[_0x232881(0x191)](_0x232881(0x17f))[_0x232881(0x25b)],0xa),_0x225e09=ntf_groupBy(products,'setIdProducto'),_0x1d79fc=[];return Object[_0x232881(0x18b)](_0x225e09)[_0x232881(0x2a4)](function(_0xd49b7b){const _0x186106=_0x232881;var _0x57af30=_0x225e09[_0xd49b7b],_0x2abbd6=_0x57af30[0x0],_0x16ee9f=(_0x2abbd6[_0x186106(0x2d7)]||[])['find'](function(_0x136384){const _0xd0394f=_0x186106;return _0x136384[_0xd0394f(0x2a9)]==_0x326d9e;});if(!_0x16ee9f)return;var _0x478ba1=parseFloat(_0x16ee9f[_0x186106(0x1d3)]),_0x3eeb66=parseFloat(_0x16ee9f[_0x186106(0x246)]);_0x2abbd6['setInventariable']==0x1&&_0x478ba1<=_0x3eeb66&&_0x1d79fc[_0x186106(0x2c8)]({'type':0x1,'id_registro':_0x2abbd6['id'],'title':_0x186106(0x18a)+_0x2abbd6[_0x186106(0x142)],'message':_0x186106(0x235)+_0x2abbd6['setDescripcion']+'\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20'+_0x3eeb66[_0x186106(0x23a)](0x3)+_0x186106(0x1de)+_0x478ba1[_0x186106(0x23a)](0x3)+'\x0a','data':{'producto':_0x2abbd6,'stock':_0x478ba1,'minStock':_0x3eeb66}}),_0x2abbd6[_0x186106(0x2b3)]&&ntf_isExpired(_0x2abbd6[_0x186106(0x2b3)])&&_0x1d79fc[_0x186106(0x2c8)]({'type':0x2,'id_registro':_0x2abbd6['id'],'title':_0x186106(0x26b)+_0x2abbd6[_0x186106(0x142)],'message':_0x186106(0x1ff)+_0x2abbd6[_0x186106(0x142)]+_0x186106(0x2ad)+ntf_formatDateDMY(_0x2abbd6[_0x186106(0x2b3)])+'.<br>'+'Stock\x20Actual:\x20'+_0x478ba1['toFixed'](0x3),'data':{'producto':_0x2abbd6,'expiration':_0x2abbd6[_0x186106(0x2b3)]}});}),_0x1d79fc;}function ntf_renderNotifications(){const _0x599e2b=_0xb4a71b;var _0x1f35d5=ntf_getNotifications(),_0x5cdb2b=document[_0x599e2b(0x191)](_0x599e2b(0x261)),_0x447b08=document['getElementById'](_0x599e2b(0x281));_0x5cdb2b[_0x599e2b(0x243)]='',_0x447b08['textContent']=_0x1f35d5['length'];if(_0x1f35d5[_0x599e2b(0x175)]===0x0){var _0x1d3e2b=document['createElement']('li');_0x1d3e2b[_0x599e2b(0x1c7)]='No\x20hay\x20notificaciones',_0x5cdb2b[_0x599e2b(0x239)](_0x1d3e2b);return;}_0x1f35d5['forEach'](function(_0x3aea6c,_0xe14743){const _0x5018be=_0x599e2b;var _0x4df795=document[_0x5018be(0x179)]('li');_0x4df795['textContent']=_0x3aea6c[_0x5018be(0x13d)],_0x4df795['setAttribute']('data-ntf-index',_0xe14743),_0x5cdb2b[_0x5018be(0x239)](_0x4df795);});}function ntf_openModal(_0x59e20a){const _0x321de7=_0xb4a71b;var _0x4b3ada=document['getElementById'](_0x321de7(0x27c)),_0x4cf41d=document['getElementById'](_0x321de7(0x145)),_0x4a9f40=document[_0x321de7(0x191)]('ntf-notification-modal');_0x4b3ada['innerHTML']=_0x321de7(0x1ee)+_0x59e20a[_0x321de7(0x13d)]+_0x321de7(0x259)+_0x59e20a['message']+_0x321de7(0x1c0),_0x4cf41d['innerHTML']='';if(_0x59e20a['type']===0x1)['Generar\x20Orden\x20de\x20Compra',_0x321de7(0x1df),_0x321de7(0x18c)]['forEach'](function(_0x2a551a){const _0x7cb252=_0x321de7;var _0x538707=document[_0x7cb252(0x179)](_0x7cb252(0x15f));_0x538707['textContent']=_0x2a551a,_0x538707['addEventListener'](_0x7cb252(0x1a0),function(){const _0x47648b=_0x7cb252;console[_0x47648b(0x181)](_0x47648b(0x18e)+_0x2a551a+'\x22\x20para\x20registro\x20#'+_0x59e20a[_0x47648b(0x1c8)]);}),_0x4cf41d['appendChild'](_0x538707);});else _0x59e20a[_0x321de7(0x269)]===0x2&&[_0x321de7(0x2be),_0x321de7(0x2b0)]['forEach'](function(_0x582989){const _0x5c4ced=_0x321de7;var _0x3fb92d=document[_0x5c4ced(0x179)]('button');_0x3fb92d['textContent']=_0x582989,_0x3fb92d[_0x5c4ced(0x278)](_0x5c4ced(0x1a0),function(){const _0x1fe2b3=_0x5c4ced;console[_0x1fe2b3(0x181)]('Acción\x20\x22'+_0x582989+_0x1fe2b3(0x249)+_0x59e20a[_0x1fe2b3(0x1c8)]);}),_0x4cf41d[_0x5c4ced(0x239)](_0x3fb92d);});_0x4a9f40['classList'][_0x321de7(0x1d2)](_0x321de7(0x14d));}function ntf_closeModal(){const _0x1fced2=_0xb4a71b;document['getElementById']('ntf-notification-modal')[_0x1fced2(0x138)][_0x1fced2(0x143)](_0x1fced2(0x14d));}document['getElementById'](_0xb4a71b(0x218))[_0xb4a71b(0x278)](_0xb4a71b(0x1a0),function(){const _0x433654=_0xb4a71b;document[_0x433654(0x191)](_0x433654(0x150))[_0x433654(0x138)][_0x433654(0x1a5)](_0x433654(0x14d)),ntf_renderNotifications();}),document[_0xb4a71b(0x191)](_0xb4a71b(0x261))[_0xb4a71b(0x278)]('click',function(_0x3ed56b){const _0x4e1423=_0xb4a71b,_0x35510e=_0x3ed56b[_0x4e1423(0x155)]['closest']('li');if(!_0x35510e||!_0x35510e['dataset'][_0x4e1423(0x17c)])return;const _0x31df5e=ntf_getNotifications()[_0x35510e[_0x4e1423(0x202)][_0x4e1423(0x17c)]];document['getElementById'](_0x4e1423(0x218))[_0x4e1423(0x1a0)](),ntf_openModal(_0x31df5e);}),document[_0xb4a71b(0x191)](_0xb4a71b(0x286))['addEventListener'](_0xb4a71b(0x1a0),ntf_closeModal),document[_0xb4a71b(0x191)]('ntf-notification-modal')[_0xb4a71b(0x278)](_0xb4a71b(0x1a0),function(_0x184896){const _0x1d314a=_0xb4a71b;if(_0x184896[_0x1d314a(0x155)]===document['getElementById'](_0x1d314a(0x28d)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x39c83f){const _0x22334c=_0xb4a71b,_0x3592ca=document[_0x22334c(0x191)](_0x22334c(0x18f)),_0x2f3714=document['createElement']('div');_0x2f3714[_0x22334c(0x192)]=_0x22334c(0x226),_0x2f3714[_0x22334c(0x1c7)]=_0x39c83f,_0x3592ca[_0x22334c(0x239)](_0x2f3714),_0x2f3714[_0x22334c(0x278)](_0x22334c(0x183),()=>{_0x2f3714['remove']();});}function openDatabase(){const _0x577432=_0xb4a71b;if(db)return Promise[_0x577432(0x1c5)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x1a08dd,_0x2ef4a3)=>{const _0x33cd24=_0x577432,_0x59f03c=indexedDB[_0x33cd24(0x241)](db_name);_0x59f03c[_0x33cd24(0x1a3)]=function(_0x3b745c){const _0xc14b81=_0x33cd24;db=_0x3b745c[_0xc14b81(0x155)][_0xc14b81(0x1b2)],console[_0xc14b81(0x181)]('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x59f03c[_0x33cd24(0x234)]=function(_0x2f97e9){const _0x1726e5=_0x33cd24;db=_0x2f97e9[_0x1726e5(0x155)][_0x1726e5(0x1b2)],console[_0x1726e5(0x181)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x1a08dd(db),dbPromise=null;},_0x59f03c[_0x33cd24(0x26e)]=function(_0x3399f7){const _0x22cad6=_0x33cd24;console[_0x22cad6(0x231)](_0x22cad6(0x168),_0x3399f7[_0x22cad6(0x155)]['error']),_0x2ef4a3(_0x3399f7['target'][_0x22cad6(0x231)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x3eb6c9,_0x270487=![]){const _0x10ecdf=_0xb4a71b;if(dbOperationInProgress)return Promise[_0x10ecdf(0x1f1)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x10ecdf(0x295)](_0x80b4a1=>{const _0x5725a5=_0x10ecdf,_0x4f4f72=_0x5725a5(0x2c7),_0x24cab5=_0x5725a5(0x1f5),_0x1786f3='offline_operations',_0x25d683=_0x5725a5(0x280),_0x35f7eb=_0x3eb6c9?'cart_'+_0x3eb6c9:null,_0x3610ad=_0x3eb6c9?'window_options_'+_0x3eb6c9:null,_0x2b2075=_0x270487||!_0x80b4a1[_0x5725a5(0x177)][_0x5725a5(0x164)](_0x4f4f72)||!_0x80b4a1[_0x5725a5(0x177)]['contains'](_0x24cab5)||!_0x80b4a1['objectStoreNames'][_0x5725a5(0x164)](_0x1786f3)||!_0x80b4a1[_0x5725a5(0x177)]['contains'](_0x25d683)||_0x3eb6c9&&(!_0x80b4a1['objectStoreNames']['contains'](_0x35f7eb)||!_0x80b4a1[_0x5725a5(0x177)]['contains'](_0x3610ad));if(!_0x2b2075)return dbOperationInProgress=![],Promise[_0x5725a5(0x1c5)](_0x80b4a1);const _0x222748=_0x80b4a1[_0x5725a5(0x27a)]+0x1;return _0x80b4a1[_0x5725a5(0x21d)](),new Promise((_0x16bcf1,_0x1d8270)=>{const _0x1204b5=_0x5725a5,_0x48b57b=indexedDB[_0x1204b5(0x241)](db_name,_0x222748);_0x48b57b[_0x1204b5(0x1a3)]=function(_0x21f526){const _0x365931=_0x1204b5;db=_0x21f526[_0x365931(0x155)]['result'];if(_0x270487)Array[_0x365931(0x1cc)](db[_0x365931(0x177)])[_0x365931(0x2a4)](_0x1729b0=>{const _0x1f294e=_0x365931;_0x1729b0!==_0x1786f3&&(db[_0x1f294e(0x277)](_0x1729b0),console['log'](_0x1f294e(0x153)+_0x1729b0+_0x1f294e(0x26d)));}),console[_0x365931(0x181)](_0x365931(0x14a));else{!db[_0x365931(0x177)][_0x365931(0x164)](_0x4f4f72)&&(db[_0x365931(0x1b7)](_0x4f4f72,{'keyPath':'id'}),console[_0x365931(0x181)](_0x365931(0x153)+_0x4f4f72+_0x365931(0x25e)));!db[_0x365931(0x177)][_0x365931(0x164)](_0x24cab5)&&(db[_0x365931(0x1b7)](_0x24cab5,{'keyPath':'id','autoIncrement':!![]}),console[_0x365931(0x181)]('ObjectStore\x20\x27'+_0x24cab5+'\x27\x20creado\x20correctamente.'));!db[_0x365931(0x177)][_0x365931(0x164)](_0x1786f3)&&(db[_0x365931(0x1b7)](_0x1786f3,{'keyPath':'id','autoIncrement':!![]}),console[_0x365931(0x181)]('ObjectStore\x20\x27'+_0x1786f3+'\x27\x20creado\x20correctamente.'));!db[_0x365931(0x177)][_0x365931(0x164)](_0x25d683)&&(db['createObjectStore'](_0x25d683,{'keyPath':'id'}),console[_0x365931(0x181)](_0x365931(0x153)+_0x25d683+'\x27\x20creado\x20correctamente.'));if(_0x3eb6c9){if(!db[_0x365931(0x177)][_0x365931(0x164)](_0x35f7eb)){const _0x10d4ea=db[_0x365931(0x1b7)](_0x35f7eb,{'keyPath':'id','autoIncrement':!![]});_0x10d4ea[_0x365931(0x21a)](_0x365931(0x1ae),_0x365931(0x1ae),{'unique':!![]}),console[_0x365931(0x181)]('ObjectStore\x20\x27'+_0x35f7eb+_0x365931(0x25e));}!db[_0x365931(0x177)][_0x365931(0x164)](_0x3610ad)&&(db['createObjectStore'](_0x3610ad,{'keyPath':'id','autoIncrement':!![]}),console[_0x365931(0x181)](_0x365931(0x153)+_0x3610ad+_0x365931(0x25e)));}}},_0x48b57b[_0x1204b5(0x234)]=function(_0x43b20a){const _0x22615b=_0x1204b5;db=_0x43b20a[_0x22615b(0x155)][_0x22615b(0x1b2)],dbOperationInProgress=![],console[_0x22615b(0x181)](_0x22615b(0x267)),_0x16bcf1(db);},_0x48b57b[_0x1204b5(0x26e)]=function(_0x5366f8){const _0x400249=_0x1204b5;console[_0x400249(0x231)](_0x400249(0x1bf),_0x5366f8[_0x400249(0x155)][_0x400249(0x231)]),dbOperationInProgress=![],_0x1d8270(_0x5366f8[_0x400249(0x155)][_0x400249(0x231)]);};});})['catch'](_0x1b0323=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0x10ecdf(0x29f)](()=>{dbOperationInProgress=![];});}function processOfflineOperations(){const _0x355106=_0xb4a71b;return isOnline()?createCartStore('')[_0x355106(0x295)](_0x32ab8a=>{const _0x5e1152=_0x355106,_0x1ac948=_0x32ab8a[_0x5e1152(0x23b)](_0x5e1152(0x15b),'readonly'),_0x32a35a=_0x1ac948[_0x5e1152(0x13b)]('offline_operations');return new Promise((_0x3e2181,_0x1a159b)=>{const _0x2e6ee5=_0x5e1152,_0x4f929b=_0x32a35a[_0x2e6ee5(0x1da)]();_0x4f929b[_0x2e6ee5(0x234)]=()=>_0x3e2181({'existingDb':_0x32ab8a,'operations':_0x4f929b[_0x2e6ee5(0x1b2)]}),_0x4f929b[_0x2e6ee5(0x26e)]=()=>_0x1a159b(new Error(_0x2e6ee5(0x254)+_0x4f929b[_0x2e6ee5(0x231)]));});})[_0x355106(0x295)](({existingDb:_0x25bcf2,operations:_0x26e50e})=>{const _0x5bfe2e=_0x355106,_0x189bef=_0x26e50e[_0x5bfe2e(0x1ec)](_0x4520e3=>_0x4520e3[_0x5bfe2e(0x1b6)]==0x1);if(!_0x189bef[_0x5bfe2e(0x175)]){console[_0x5bfe2e(0x181)]('No\x20hay\x20operaciones\x20para\x20sincronizar.');return;}const _0x93da49=_0x189bef['map'](_0x5e345a=>{const _0x1f9325=_0x5bfe2e,_0x5c5cb7=new FormData();_0x5c5cb7[_0x1f9325(0x293)]('invoice',JSON[_0x1f9325(0x2c0)](_0x5e345a));if(_0x5e345a[_0x1f9325(0x20a)]){if(_0x5e345a[_0x1f9325(0x20a)]instanceof Blob&&_0x5e345a['pdfBlob'][_0x1f9325(0x2d2)]>0x0)_0x5c5cb7[_0x1f9325(0x293)](_0x1f9325(0x20a),_0x5e345a[_0x1f9325(0x20a)],_0x1f9325(0x1ab));else return console[_0x1f9325(0x231)](_0x1f9325(0x151)),Promise[_0x1f9325(0x1f1)](new Error('Archivo\x20PDF\x20no\x20válido\x20o\x20vacío'));}const _0x26e046=_0x5e345a[_0x1f9325(0x2b9)];return fetch(_0x26e046,{'method':_0x1f9325(0x1ba),'body':_0x5c5cb7})[_0x1f9325(0x295)](_0x55cd4b=>{const _0x3b0319=_0x1f9325;if(!_0x55cd4b['ok'])throw new Error(_0x3b0319(0x26c)+_0x55cd4b['statusText']);return _0x55cd4b['json']();})[_0x1f9325(0x295)](_0x3ad914=>{const _0x55ba25=_0x1f9325;if(!_0x3ad914['success']){_0x5e345a[_0x55ba25(0x1f8)]=_0x3ad914[_0x55ba25(0x2ae)]||_0x55ba25(0x237);const _0x1a85a9=_0x25bcf2['transaction'](_0x55ba25(0x15b),_0x55ba25(0x133)),_0x5890e5=_0x1a85a9[_0x55ba25(0x13b)](_0x55ba25(0x15b));return new Promise((_0x3029cd,_0x104419)=>{const _0x862739=_0x55ba25,_0x304b13=_0x5890e5[_0x862739(0x2a5)](_0x5e345a);_0x304b13[_0x862739(0x234)]=()=>_0x3029cd(),_0x304b13[_0x862739(0x26e)]=_0x3a61fb=>_0x104419(new Error(_0x862739(0x23c)+_0x3a61fb));});}_0x5e345a[_0x55ba25(0x1b6)]=0x0,delete _0x5e345a[_0x55ba25(0x1f8)];const _0x46b895=_0x25bcf2[_0x55ba25(0x23b)](_0x55ba25(0x15b),_0x55ba25(0x133)),_0x55cc0f=_0x46b895['objectStore'](_0x55ba25(0x15b));return new Promise((_0x3b81a6,_0x21a17a)=>{const _0x1caa1c=_0x55ba25,_0x925677=_0x55cc0f[_0x1caa1c(0x2a5)](_0x5e345a);_0x925677[_0x1caa1c(0x234)]=()=>_0x3b81a6(),_0x925677[_0x1caa1c(0x26e)]=_0x203357=>_0x21a17a(new Error(_0x1caa1c(0x1d1)+_0x203357));});})[_0x1f9325(0x2cf)](_0x38cccb=>{const _0x2f2585=_0x1f9325;console[_0x2f2585(0x231)](_0x2f2585(0x2d9),_0x38cccb),_0x5e345a['setMessage']=_0x38cccb['message'];const _0x460605=_0x25bcf2['transaction']('offline_operations','readwrite'),_0x130440=_0x460605[_0x2f2585(0x13b)](_0x2f2585(0x15b));_0x130440['put'](_0x5e345a);});});return Promise['all'](_0x93da49)[_0x5bfe2e(0x2cf)](_0x45ee4b=>{const _0xcc7d9e=_0x5bfe2e;console[_0xcc7d9e(0x231)]('Error\x20al\x20procesar\x20operaciones:',_0x45ee4b);});})[_0x355106(0x295)](()=>{const _0x1551cd=_0x355106;console[_0x1551cd(0x181)](_0x1551cd(0x1bb));})[_0x355106(0x2cf)](_0x244e21=>{const _0x402b41=_0x355106;console[_0x402b41(0x231)](_0x402b41(0x184),_0x244e21);}):Promise[_0x355106(0x1c5)]();}function apiERPsaveOnline(_0x4ffd8b,_0x118cc3,_0x4ea150,_0x347bcc,_0x41a63c){const _0x398590=_0xb4a71b;if(!isOnline())return console[_0x398590(0x181)]('Error\x20Network.'),Promise[_0x398590(0x1f1)](_0x398590(0x196));const _0x42ade8={'setAuthToken':_0x4ffd8b,'setBranches':_0x118cc3,'setUsers':_0x4ea150,'setSeries':_0x347bcc,'setPrinters':_0x41a63c};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':_0x398590(0x1ba),'headers':{'Content-Type':_0x398590(0x1b3)},'body':JSON['stringify'](_0x42ade8)})[_0x398590(0x295)](_0x3ec563=>{const _0x5977a4=_0x398590;if(!_0x3ec563['ok'])throw new Error(_0x5977a4(0x178)+_0x3ec563[_0x5977a4(0x2c6)]);return _0x3ec563[_0x5977a4(0x2d5)]();})[_0x398590(0x295)](_0x443e73=>{const _0x487034=_0x398590;if(!_0x443e73['success'])throw new Error(_0x443e73[_0x487034(0x2ae)]||_0x487034(0x2bf));return console['log'](_0x487034(0x1a6)),_0x443e73;})[_0x398590(0x2cf)](_0x5d8c1e=>{const _0x186540=_0x398590;console['error'](_0x186540(0x252),_0x5d8c1e);throw _0x5d8c1e;});}async function acceder(){const _0x486299=_0xb4a71b;if(!isOnline()){alert(_0x486299(0x274));throw new Error(_0x486299(0x1e9));}const _0x32c613=document[_0x486299(0x191)]('btn-access-login'),_0x2540ba=document[_0x486299(0x191)](_0x486299(0x2b2))[_0x486299(0x25b)],_0x3c5aff=document['getElementById'](_0x486299(0x137))['value'];_0x32c613[_0x486299(0x154)]=!![];if(!_0x2540ba||!_0x3c5aff){alert(_0x486299(0x185)),_0x32c613[_0x486299(0x154)]=![];return;}console['log']('Modo\x20online\x20...'),showLoadingModal();const _0x37d74c={'usuario':_0x2540ba,'password':_0x3c5aff};try{const _0x441b0d=await fetch(_0x486299(0x209),{'method':_0x486299(0x1ba),'headers':{'Content-Type':_0x486299(0x1b3)},'body':JSON[_0x486299(0x2c0)](_0x37d74c)}),_0x5b81f6=await _0x441b0d[_0x486299(0x2d5)]();if(!(_0x5b81f6['success']&&Array[_0x486299(0x206)](_0x5b81f6[_0x486299(0x2ae)]))){alert(_0x5b81f6['message']),_0x32c613[_0x486299(0x154)]=![],hideLoadingModal();throw new Error(_0x5b81f6[_0x486299(0x2ae)]);}const _0x1c915b=document['getElementById'](_0x486299(0x146));_0x1c915b[_0x486299(0x243)]=_0x486299(0x2b6);const _0x2ec506=_0x5b81f6[_0x486299(0x2ae)],{setApiEndPoint:_0x35cd29,setAuthToken:_0x491265,setUser_Local:_0x175f64}=_0x2ec506[0x0],_0x15c5e0={'apiPOS_getAccessData':0x1,'setToken':_0x491265,'setUserLocalUserName':_0x175f64[_0x486299(0x1a2)]},_0x342bcf=await fetch(_0x35cd29,{'method':_0x486299(0x1ba),'headers':{'Content-Type':_0x486299(0x136)},'body':JSON[_0x486299(0x2c0)](_0x15c5e0)}),_0x5956bb=await _0x342bcf['json']();if(!(_0x5956bb[_0x486299(0x1db)]===!![])){_0x1c915b['innerHTML']=_0x486299(0x158)+_0x5956bb[_0x486299(0x2ae)]+_0x486299(0x285),setTimeout(()=>location['reload'](),0x1388);return;}_0x1c915b[_0x486299(0x243)]=_0x486299(0x220);const _0x3cf7b2=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x169)][_0x486299(0x1f2)](_0xff0e1d=>{const _0x504878=_0x486299,_0x165941=_0xff0e1d['setId']||'',_0x1ab5f2=_0xff0e1d['setIdProducto']||'',_0x131be5=_0xff0e1d[_0x504878(0x14b)]||'',_0x2bee14=_0xff0e1d['setDescripcion']||'',_0x34618c=_0xff0e1d[_0x504878(0x265)]||'',_0xac4b56=_0xff0e1d[_0x504878(0x287)]||'',_0x382431=_0xff0e1d[_0x504878(0x149)]||'',_0x1fbba4=_0xff0e1d[_0x504878(0x27f)]||'',_0x207f8e=_0xff0e1d[_0x504878(0x21b)]||'10',_0x3c8fe8=_0x2ec506[0x0][_0x504878(0x1fd)][_0x504878(0x160)](_0x49bc27=>_0x49bc27[_0x504878(0x27f)]==_0x1fbba4)?.[_0x504878(0x1bd)]||0x0,_0x210fe0=parseFloat(_0xff0e1d[_0x504878(0x270)])||0x1,_0x4bba3c=_0xff0e1d[_0x504878(0x2af)]||'',_0x2c0434=_0xff0e1d[_0x504878(0x1e8)]||'',_0x22676a=_0xff0e1d['setImg']||_0x504878(0x2cd),_0x24fe4c=_0xff0e1d[_0x504878(0x299)]||0x1,_0x68474a=_0xff0e1d[_0x504878(0x16e)]||'',_0x88da93=_0xff0e1d['setBatchExpirationDate']||'',_0x17b6d8=(_0xff0e1d['currency_data']||[])['map'](_0x1c1ccc=>{const _0x28daac=_0x504878,_0x53f136=parseFloat(_0x1c1ccc[_0x28daac(0x203)])||0x0,_0x12d2f9=parseFloat(_0x1c1ccc[_0x28daac(0x1f9)])||0x0,_0x324406=parseFloat(_0x1c1ccc[_0x28daac(0x244)])||0x0,_0x2571a5=parseFloat(_0x1c1ccc[_0x28daac(0x156)])||0x0,_0x4a2dee=_0x1c1ccc[_0x28daac(0x2b4)]||[];let _0x6e8c3a=0x0,_0x749428=0x0;if(_0x53f136>0x0)_0x6e8c3a=_0x53f136,_0x749428=setTipAfeImpGravados[_0x28daac(0x1a4)](_0x2f1f6a=>_0x2f1f6a==_0x207f8e)?_0x53f136+_0x53f136*_0x3c8fe8/0x64:_0x53f136;else _0x12d2f9>0x0&&(_0x749428=_0x12d2f9,_0x6e8c3a=setTipAfeImpGravados[_0x28daac(0x1a4)](_0x229b26=>_0x229b26==_0x207f8e)?_0x12d2f9/(0x1+_0x3c8fe8/0x64):_0x12d2f9);let _0x40b68a=0x0,_0x5b8120=0x0;if(_0x324406>0x0)_0x40b68a=_0x324406,_0x5b8120=setTipAfeImpGravados[_0x28daac(0x1a4)](_0x5d9087=>_0x5d9087==_0x207f8e)?_0x324406+_0x324406*_0x3c8fe8/0x64:_0x324406;else _0x2571a5>0x0&&(_0x5b8120=_0x2571a5,_0x40b68a=setTipAfeImpGravados[_0x28daac(0x1a4)](_0x517de7=>_0x517de7==_0x207f8e)?_0x2571a5/(0x1+_0x3c8fe8/0x64):_0x2571a5);return{'currency':_0x1c1ccc[_0x28daac(0x141)],'setMtoValorUnitario':_0x6e8c3a,'setMtoPrecioUnitario':_0x749428,'setMtoValorCostoUnitario':_0x40b68a,'setMtoPrecioCostoUnitario':_0x5b8120,'setPriceLists':_0x4a2dee};});if(_0x1fbba4!==''&&_0x165941!==''&&_0x131be5!==''&&_0x2bee14!=='')return{'id':_0x165941,'setIdProducto':_0x1ab5f2,'setCodProducto':_0x131be5,'setDescripcion':_0x2bee14,'setProductDescription':_0x34618c,'setUnidadCodigo':_0xac4b56,'setUnidad':_0x382431,'setPorcentajeIgv':_0x3c8fe8,'setTaxId':_0x1fbba4,'setTipAfeIgv':_0x207f8e,'setInventariable':_0x210fe0,'setCategoria':_0x4bba3c,'setMarca':_0x2c0434,'setImg':_0x22676a,'setConversionFactor':_0x24fe4c,'setBatchName':_0x68474a,'setBatchExpirationDate':_0x88da93,'setItemIsBought':_0xff0e1d[_0x504878(0x22a)],'setItemIsSold':_0xff0e1d[_0x504878(0x1c9)],'sucursales':_0xff0e1d[_0x504878(0x2d7)]||[],'setPrinters':_0xff0e1d[_0x504878(0x1ad)]||[],'currency_data':_0x17b6d8,'setImages':_0xff0e1d[_0x504878(0x257)]||[]};return null;})[_0x486299(0x1ec)](Boolean);_0x2ec506[0x0][_0x486299(0x197)]=_0x5956bb['message'][_0x486299(0x197)],_0x2ec506[0x0]['setCompanyDoc']=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x223)],_0x2ec506[0x0][_0x486299(0x189)]=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x189)],_0x2ec506[0x0][_0x486299(0x262)]=_0x5956bb['message']['setCompanyNameTrade'],_0x2ec506[0x0]['setCompanyAddress']=_0x5956bb[_0x486299(0x2ae)]['setCompanyAddress'],_0x2ec506[0x0][_0x486299(0x240)]=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x240)],_0x2ec506[0x0][_0x486299(0x200)]=_0x5956bb['message'][_0x486299(0x200)],_0x2ec506[0x0][_0x486299(0x217)]=_0x5956bb['message'][_0x486299(0x217)],_0x2ec506[0x0][_0x486299(0x291)]=_0x5956bb[_0x486299(0x2ae)]['setBranches'],_0x2ec506[0x0][_0x486299(0x1ac)]=_0x5956bb[_0x486299(0x2ae)]['setUsuarios'],_0x2ec506[0x0][_0x486299(0x201)]=_0x5956bb[_0x486299(0x2ae)]['setSeries'],_0x2ec506[0x0][_0x486299(0x1ad)]=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x1ad)],_0x2ec506[0x0][_0x486299(0x29d)]=_0x5956bb['message'][_0x486299(0x29d)],_0x2ec506[0x0][_0x486299(0x1e5)]=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x1e5)],_0x2ec506[0x0][_0x486299(0x1d9)]=_0x5956bb['message'][_0x486299(0x1d9)],_0x2ec506[0x0][_0x486299(0x25a)]=_0x5956bb['message']['setSuppliers'],_0x2ec506[0x0]['setShifts']=_0x5956bb[_0x486299(0x2ae)][_0x486299(0x2b8)],_0x2ec506[0x0][_0x486299(0x187)]=_0x5956bb[_0x486299(0x2ae)]['setCollaborators'],_0x1c915b[_0x486299(0x243)]=_0x486299(0x2de);const _0x541fe3=await createCartStore('');await clearAndStore(_0x541fe3,_0x486299(0x2c7),_0x3cf7b2),await clearAndStore(_0x541fe3,_0x486299(0x280),[{'id':_0x486299(0x2da),..._0x2ec506[0x0][_0x486299(0x29a)]}]),await apiERPsaveOnline(_0x491265,_0x2ec506[0x0][_0x486299(0x291)],_0x2ec506[0x0][_0x486299(0x1ac)],_0x2ec506[0x0]['setSeries'],_0x2ec506[0x0]['setPrinters']);const _0x1806c1=await fetch(_0x486299(0x14c),{'method':_0x486299(0x1ba),'headers':{'Content-Type':_0x486299(0x136)},'body':JSON[_0x486299(0x2c0)]({'setAuthToken':_0x491265})}),_0x16bfde=await _0x1806c1[_0x486299(0x2d5)]();if(_0x16bfde['success'])_0x2ec506[0x0][_0x486299(0x296)]=_0x16bfde['message']['setWindows'],_0x2ec506[0x0][_0x486299(0x260)]=_0x16bfde[_0x486299(0x2ae)][_0x486299(0x260)],_0x2ec506[0x0][_0x486299(0x1ad)]=_0x16bfde[_0x486299(0x2ae)]['setPrinters'];else{console[_0x486299(0x231)](_0x486299(0x2c2),_0x16bfde['message']);return;}await saveCompanyToIndexedDB(_0x2ec506,_0x541fe3);if(!_0x2ec506[0x0][_0x486299(0x296)]||_0x2ec506[0x0][_0x486299(0x296)][_0x486299(0x175)]===0x0){console['error'](_0x486299(0x229));return;}for(const _0x41f138 of _0x2ec506[0x0]['setWindows']){await new Promise(_0x522a92=>setTimeout(_0x522a92,0x12c)),await createCartStore(_0x41f138[_0x486299(0x258)]),_0x1c915b[_0x486299(0x243)]=_0x486299(0x1cb)+_0x41f138[_0x486299(0x23e)]+_0x486299(0x285);}_0x1c915b['innerHTML']=_0x486299(0x190)+_0x175f64[_0x486299(0x2a2)]+'\x20...',setTimeout(()=>location['reload'](),0x7d0);}catch(_0x5438df){console[_0x486299(0x231)]('Error\x20en\x20la\x20solicitud:',_0x5438df),_0x32c613[_0x486299(0x154)]=![],hideLoadingModal(),alert(_0x5438df);throw _0x5438df;}}function clearAndStore(_0x4e1e6e,_0x41e069,_0x504ac6){return new Promise((_0x5d8e47,_0x9fed77)=>{const _0x4239d0=_0x33d9,_0x4b4f34=_0x4e1e6e[_0x4239d0(0x23b)](_0x41e069,_0x4239d0(0x133)),_0x5ee843=_0x4b4f34[_0x4239d0(0x13b)](_0x41e069),_0x2bc435=_0x5ee843[_0x4239d0(0x207)]();_0x2bc435['onsuccess']=()=>{_0x504ac6['forEach'](_0x394759=>_0x5ee843['put'](_0x394759));},_0x4b4f34[_0x4239d0(0x276)]=()=>_0x5d8e47(),_0x4b4f34['onerror']=()=>_0x9fed77(new Error(_0x4239d0(0x16f)+_0x41e069+'!'));});}async function logoutReload(_0x352926=0x0,_0xdf3392){const _0x55f2a0=_0xb4a71b;if(_0x352926!=0x1){showLoadingModal();const _0x254f4b=document[_0x55f2a0(0x191)]('infoLoadingModal');_0x254f4b[_0x55f2a0(0x243)]=_0x55f2a0(0x1f4);}_0xdf3392==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x55f2a0(0x1d4)]();}function registerServiceWorker(_0x5d8c71,_0x209387){const _0x25b560=_0xb4a71b;'serviceWorker'in navigator&&navigator[_0x25b560(0x1fe)][_0x25b560(0x22d)](_0x5d8c71)[_0x25b560(0x295)](_0x24b55f=>{const _0x2a5baf=_0x25b560;console[_0x2a5baf(0x181)](_0x2a5baf(0x2cc)),_0x24b55f[_0x2a5baf(0x15d)]=()=>{const _0x4037eb=_0x2a5baf,_0x58c027=_0x24b55f['installing'];_0x58c027[_0x4037eb(0x2db)]=()=>{const _0x3dcb8a=_0x4037eb;_0x58c027[_0x3dcb8a(0x140)]==_0x3dcb8a(0x2d0)&&navigator[_0x3dcb8a(0x1fe)]['controller']&&console[_0x3dcb8a(0x181)](_0x3dcb8a(0x2d4));};},navigator[_0x2a5baf(0x1fe)][_0x2a5baf(0x278)](_0x2a5baf(0x2cb),()=>{const _0x1a2e30=_0x2a5baf;showLoadingModal();const _0x20085d=document[_0x1a2e30(0x191)](_0x1a2e30(0x146));_0x20085d[_0x1a2e30(0x243)]=_0x1a2e30(0x25d),logoutReload(0x1,_0x209387);});})[_0x25b560(0x2cf)](_0x4f26ef=>console['error'](_0x25b560(0x256),_0x4f26ef));}function isLoggedIn(_0x180349){return _0x180349&&_0x180349[0x0]&&_0x180349[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x4e1fed=_0xb4a71b;document[_0x4e1fed(0x191)](_0x4e1fed(0x22b))['classList'][_0x4e1fed(0x1d2)]('hidden'),document[_0x4e1fed(0x191)]('pos')[_0x4e1fed(0x138)][_0x4e1fed(0x1d2)](_0x4e1fed(0x193)),document[_0x4e1fed(0x191)](_0x4e1fed(0x22c))[_0x4e1fed(0x138)]['add']('hidden');const _0x2c4564=document[_0x4e1fed(0x191)]('topbar');_0x2c4564&&_0x2c4564[_0x4e1fed(0x138)][_0x4e1fed(0x1d2)]('hidden');}function x64ctotalcal(){const _0x2e4706=_0xb4a71b;return window[_0x2e4706(0x1d8)]['hostname'];}function x64btsparamnumber(_0x1d6f3d){const _0x62e330=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x1d6f3d==_0x62e330;}function x32btsfirefoxcalc(_0xba800a){const _0x33b2f7=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0xba800a==_0x33b2f7;}function x64bitsdescitem(_0x43e4d1){const _0x48a4cf=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x43e4d1==_0x48a4cf;}function x43bitsdescglobal(_0x2665fe){const _0x34880d=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x2665fe==_0x34880d;}function x32bitsCompanyTkn(_0x374ab3){const _0x534968=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x374ab3==_0x534968;}function x64bitsparamnumber(_0x6af07a,_0x3942b8){const _0x25fe51=_0x3942b8;return _0x6af07a==_0x25fe51;}function activarRender(_0x2c6c87){const _0x321d35=_0xb4a71b,_0x1423c6=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x2c6c87)];return _0x1423c6[_0x321d35(0x1d7)](!![]);}function saveCompanyToIndexedDB(_0x3a762f,_0x44c03f){return new Promise((_0xe950f9,_0x50f9fe)=>{const _0xb51829=_0x33d9,_0x3da763=_0x44c03f[_0xb51829(0x23b)](_0xb51829(0x1f5),_0xb51829(0x133)),_0x5b3939=_0x3da763[_0xb51829(0x13b)](_0xb51829(0x1f5));_0x5b3939[_0xb51829(0x207)](),_0x3a762f['forEach'](_0x4b6962=>_0x5b3939[_0xb51829(0x2a5)](_0x4b6962)),_0x3da763[_0xb51829(0x276)]=()=>_0xe950f9(),_0x3da763['onerror']=_0x540645=>_0x50f9fe(_0x540645['target']['error']);});}function loadCompanyFromIndexedDB(_0x170437){return new Promise((_0x219da1,_0x39c59b)=>{const _0x2a8a6d=_0x33d9,_0x594e90=_0x170437[_0x2a8a6d(0x23b)](_0x2a8a6d(0x1f5),_0x2a8a6d(0x1d6)),_0x168b2d=_0x594e90[_0x2a8a6d(0x13b)](_0x2a8a6d(0x1f5)),_0x4ad7b4=_0x168b2d[_0x2a8a6d(0x1da)]();_0x4ad7b4['onsuccess']=()=>_0x219da1(_0x4ad7b4[_0x2a8a6d(0x1b2)]),_0x4ad7b4['onerror']=_0x1fbd72=>_0x39c59b(_0x1fbd72[_0x2a8a6d(0x155)][_0x2a8a6d(0x231)]);});}async function initializeCompany(_0x5dd551){const _0x4cd830=_0xb4a71b;try{const _0x3915d9=await loadCompanyFromIndexedDB(_0x5dd551);company=_0x3915d9,company[_0x4cd830(0x175)]>0x0?console[_0x4cd830(0x181)]('Company\x20Load.'):console[_0x4cd830(0x181)](_0x4cd830(0x16d));}catch(_0x11f51b){console[_0x4cd830(0x231)](_0x4cd830(0x13f),_0x11f51b);}}function loadProductsFromIndexedDB(_0x4a1bb9){return new Promise((_0x1056ca,_0x1dbb8a)=>{const _0x512f45=_0x33d9,_0x1d0a5f=_0x4a1bb9[_0x512f45(0x23b)](_0x512f45(0x2c7),_0x512f45(0x1d6)),_0x5b7d3c=_0x1d0a5f[_0x512f45(0x13b)]('products'),_0x309955=_0x5b7d3c['getAll']();_0x309955[_0x512f45(0x234)]=()=>_0x1056ca(_0x309955[_0x512f45(0x1b2)]),_0x309955[_0x512f45(0x26e)]=_0x481bbf=>_0x1dbb8a(_0x481bbf[_0x512f45(0x155)][_0x512f45(0x231)]);});}async function initializeProducts(_0x174a5b){const _0x37e115=_0xb4a71b;try{const _0x258fc3=await loadProductsFromIndexedDB(_0x174a5b);products=_0x258fc3,products['length']>0x0?console[_0x37e115(0x181)]('Products\x20Load.'):console[_0x37e115(0x181)](_0x37e115(0x1c6));}catch(_0x5ae68e){console[_0x37e115(0x231)](_0x37e115(0x2ca),_0x5ae68e);}}async function validateAccess(_0x8c1353){const _0x53640d=_0xb4a71b;await initializeCompany(_0x8c1353);if(!isLoggedIn(company))throw new Error(_0x53640d(0x242));if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert(_0x53640d(0x186));throw new Error(_0x53640d(0x186));}apiERPShowContent();}async function loadCart(_0x284e10){const _0x521089=_0xb4a71b;try{const _0x173532=await createCartStore(''),_0xfe982e=[];await validateAccess(_0x173532);const _0x1d21a5=company[0x0][_0x521089(0x21e)],_0xebb7ec=company[0x0]['setUsers'][_0x521089(0x160)](_0x14f8d7=>_0x14f8d7[_0x521089(0x29e)]==_0x1d21a5['setUserName']),_0x1518b1=company[0x0]['setBranches'],_0x44bc3f=document[_0x521089(0x191)](_0x521089(0x147));_0x44bc3f['innerHTML']='';if(_0xebb7ec&&_0xebb7ec[_0x521089(0x291)]){const _0x4d90d6=_0x1518b1[_0x521089(0x1ec)](_0x192ed8=>_0xebb7ec[_0x521089(0x291)][_0x521089(0x1a4)](_0x220183=>_0x220183[_0x521089(0x147)]==_0x192ed8[_0x521089(0x147)]));_0x4d90d6[_0x521089(0x2a4)](_0xc7d909=>{const _0x2841c6=_0x521089,_0x3c9e1f=document[_0x2841c6(0x179)](_0x2841c6(0x159));_0x3c9e1f['value']=_0xc7d909['setBranchId'],_0x3c9e1f['textContent']=_0xc7d909[_0x2841c6(0x2c1)],_0x44bc3f['appendChild'](_0x3c9e1f);});}if(_0x284e10==0x1){const _0xcb9640=document[_0x521089(0x191)](_0x521089(0x215));_0xcb9640[_0x521089(0x243)]='';if(_0xebb7ec){const _0x96e33d=document['createElement']('option');_0x96e33d[_0x521089(0x25b)]=_0xebb7ec['setUserCode'],_0x96e33d[_0x521089(0x1c7)]=_0xebb7ec['setUserFullName'],_0xcb9640[_0x521089(0x239)](_0x96e33d);}const _0x424a6f=Array[_0x521089(0x1cc)](_0x173532[_0x521089(0x177)])[_0x521089(0x1ec)](_0x46d09e=>_0x46d09e['startsWith'](_0x521089(0x18d)))[_0x521089(0x1f2)](_0x35af3=>{const _0xf4eadd=_0x521089,_0xe28972=_0x35af3[_0xf4eadd(0x1ca)]('_');return _0xe28972[_0xf4eadd(0x175)]>=0x3?_0xe28972[0x2]:null;})[_0x521089(0x1ec)](_0x38ce30=>_0x38ce30!==null);console['log'](_0x521089(0x212),_0x424a6f);const _0x3a6f94=Array[_0x521089(0x1cc)](_0x173532[_0x521089(0x177)])['filter'](_0x3d4ca6=>_0x3d4ca6[_0x521089(0x1e4)](_0x521089(0x18d)))[_0x521089(0x2bb)]((_0x5231bf,_0x49c5a6)=>{const _0x1ffe04=_0x521089,_0x9a4e5=parseInt(_0x5231bf[_0x1ffe04(0x1ca)]('_')[_0x1ffe04(0x1c3)](),0xa),_0x22b0ff=parseInt(_0x49c5a6[_0x1ffe04(0x1ca)]('_')[_0x1ffe04(0x1c3)](),0xa);return _0x9a4e5-_0x22b0ff;});for(const _0x3b38c5 of _0x3a6f94){const _0x58f82b=_0x3b38c5[_0x521089(0x1ca)]('_');if(_0x58f82b[_0x521089(0x175)]<0x3){console[_0x521089(0x231)](_0x521089(0x1be)+_0x3b38c5);continue;}const _0x4a967b=_0x58f82b[0x2];if(_0x424a6f[_0x521089(0x1d7)](_0x4a967b)){const _0x3310a1=new Promise((_0x262fd0,_0x212163)=>{const _0x252bd2=_0x521089,_0x1e3971=_0x173532[_0x252bd2(0x23b)]([_0x3b38c5],'readonly'),_0x1c1d73=_0x1e3971[_0x252bd2(0x13b)](_0x3b38c5),_0x2c30f0=_0x1c1d73[_0x252bd2(0x174)](_0x4a967b);_0x2c30f0[_0x252bd2(0x234)]=function(_0x47645a){const _0x597ee2=_0x252bd2,_0x59b288=_0x47645a[_0x597ee2(0x155)][_0x597ee2(0x1b2)];window_options[_0x4a967b]={},_0x59b288&&(window_options[_0x4a967b]={'setTipoOperacionInvoice':_0x59b288[_0x597ee2(0x157)],'setTipoOperacion':_0x59b288['setTipoOperacion'],'setSerie':_0x59b288[_0x597ee2(0x283)],'setCorrelativo':_0x59b288['setCorrelativo'],'setMoneda':_0x59b288[_0x597ee2(0x17a)],'setClienteTipoDoc':_0x59b288[_0x597ee2(0x230)],'setClienteNumDoc':_0x59b288['setClienteNumDoc'],'setClienteDenominacion':_0x59b288[_0x597ee2(0x16a)],'setClienteDireccion':_0x59b288[_0x597ee2(0x289)],'setCustomerPhone':_0x59b288[_0x597ee2(0x236)],'setCustomerEmail':_0x59b288[_0x597ee2(0x14e)],'setFechaHora':_0x59b288[_0x597ee2(0x20d)],'setSellerId':_0x59b288[_0x597ee2(0x28a)],'setSellerName':_0x59b288['setSellerName'],'setDespacho':_0x59b288[_0x597ee2(0x26a)],'setObservacion':_0x59b288['setObservacion'],'setDescuentoGlobal_Monto':_0x59b288[_0x597ee2(0x1c1)],'setAttachEdit':_0x59b288[_0x597ee2(0x135)]},console[_0x597ee2(0x181)](_0x597ee2(0x275)+_0x4a967b+':',_0x59b288)),Promise[_0x597ee2(0x1c5)](updateTab(_0x4a967b))[_0x597ee2(0x295)](_0x262fd0)[_0x597ee2(0x2cf)](_0xbfc4bd=>{const _0x1f009a=_0x597ee2;console['error'](_0x1f009a(0x264),_0xbfc4bd),_0x212163(_0xbfc4bd);});},_0x2c30f0['onerror']=function(_0x5dd853){const _0x2d9f95=_0x252bd2;console[_0x2d9f95(0x231)](_0x2d9f95(0x1ef)+_0x4a967b+'.',_0x5dd853[_0x2d9f95(0x155)][_0x2d9f95(0x231)]),_0x212163(_0x5dd853[_0x2d9f95(0x155)][_0x2d9f95(0x231)]);};});_0xfe982e['push'](_0x3310a1);}}const _0x414fb3=Array[_0x521089(0x1cc)](_0x173532['objectStoreNames'])[_0x521089(0x1ec)](_0x4ca5d6=>_0x4ca5d6[_0x521089(0x1e4)]('cart_'))[_0x521089(0x2bb)]((_0x24ed17,_0x4084b9)=>{const _0x4d5102=_0x521089,_0x2d629a=parseInt(_0x24ed17[_0x4d5102(0x1ca)]('_')['pop'](),0xa),_0x5dccca=parseInt(_0x4084b9[_0x4d5102(0x1ca)]('_')[_0x4d5102(0x1c3)](),0xa);return _0x2d629a-_0x5dccca;});for(const _0x531eea of _0x414fb3){const _0x4b8e02=_0x531eea['split']('_')[0x1];!carts[_0x4b8e02]&&(carts[_0x4b8e02]=[]);const _0x11b850=new Promise((_0x439129,_0x3094ff)=>{const _0x2c14c0=_0x521089,_0x1fd65e=_0x173532['transaction']([_0x531eea],_0x2c14c0(0x1d6)),_0x2be6d7=_0x1fd65e[_0x2c14c0(0x13b)](_0x531eea),_0x15dcde=_0x2be6d7[_0x2c14c0(0x1da)]();_0x15dcde[_0x2c14c0(0x234)]=function(_0x5da671){const _0xed9ebc=_0x2c14c0,_0x1ad31a=_0x5da671[_0xed9ebc(0x155)][_0xed9ebc(0x1b2)];carts[_0x4b8e02][_0xed9ebc(0x175)]=0x0,_0x1ad31a[_0xed9ebc(0x2a4)](_0x1aee81=>carts[_0x4b8e02][_0xed9ebc(0x2c8)](_0x1aee81)),renderCart(_0x4b8e02),_0x439129();},_0x15dcde[_0x2c14c0(0x26e)]=function(_0x4118e7){const _0x5bdb4e=_0x2c14c0;console['error']('Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20'+_0x4b8e02+'.',_0x4118e7[_0x5bdb4e(0x155)][_0x5bdb4e(0x231)]),_0x3094ff(_0x4118e7[_0x5bdb4e(0x155)]['error']);};});_0xfe982e[_0x521089(0x2c8)](_0x11b850);}}if(_0x284e10==0x2||_0x284e10==0x3){const _0x18e094=document[_0x521089(0x191)]('setPlanName'),_0x507b16=document[_0x521089(0x191)](_0x521089(0x1c4));_0x18e094[_0x521089(0x243)]='',_0x507b16['innerHTML']='',_0xebb7ec&&(_0x18e094[_0x521089(0x243)]=_0x521089(0x213),_0x507b16[_0x521089(0x243)]=_0xebb7ec['setUserFullName']);}return _0x284e10==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable()),await Promise['all'](_0xfe982e),company[0x0]?.['setBranchDefault']&&(document[_0x521089(0x191)]('setBranchId')[_0x521089(0x25b)]=company[0x0][_0x521089(0x248)]),document[_0x521089(0x191)](_0x521089(0x147))[_0x521089(0x1b8)](new Event(_0x521089(0x290))),_0x284e10==0x1&&(tabCount=getMaxWindowId(carts),console['log'](_0x521089(0x24f)+tabCount)),_0x173532;}catch(_0xebddd0){throw _0xebddd0;}}function loadCartAndSetTabCount(_0x31348c){const _0x191de6=_0xb4a71b;loadCart(_0x31348c)[_0x191de6(0x295)](async _0x22c88f=>{const _0x547480=_0x191de6;if(_0x31348c==0x1){const _0x1f95a2=document['getElementById']('tabs-newTab');_0x1f95a2[_0x547480(0x154)]=![],_0x1f95a2[_0x547480(0x2ab)][_0x547480(0x1e0)]=_0x547480(0x2b1);}await initializeProducts(_0x22c88f);if(_0x31348c==0x1){if(isLoggedIn(company)){const _0x3f76d9=document['getElementById'](_0x547480(0x214))[_0x547480(0x25b)];parseFloat(_0x3f76d9)>0x0&&(renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x547480(0x2a8)),document[_0x547480(0x278)]('keydown',function(_0x4b235b){const _0x4b6ed9=_0x547480,_0x255e67=document[_0x4b6ed9(0x191)](_0x4b6ed9(0x214))[_0x4b6ed9(0x25b)],_0x286b47=document[_0x4b6ed9(0x191)](_0x4b6ed9(0x188)),_0x414f0b=document[_0x4b6ed9(0x2dd)](_0x4b6ed9(0x21f)),_0xb600d9=document['getElementById'](_0x4b6ed9(0x23d)+_0x255e67),_0x254560=document['getElementById']('btnSaveOperacion-'+_0x255e67),_0x3df433=document['getElementById'](_0x4b6ed9(0x208));function _0x471c56(_0x47d7a6){const _0x91aa8e=_0x4b6ed9;return _0x47d7a6&&(_0x47d7a6['offsetWidth']>0x0||_0x47d7a6[_0x91aa8e(0x1cf)]>0x0||_0x47d7a6['getClientRects']()[_0x91aa8e(0x175)]);}let _0x673c35=[];if(_0x3df433&&_0x3df433[_0x4b6ed9(0x138)][_0x4b6ed9(0x164)](_0x4b6ed9(0x22f))){const _0x45e484=_0x3df433[_0x4b6ed9(0x2dd)](_0x4b6ed9(0x294));_0x45e484['forEach'](_0x243c32=>{const _0x1f81ee=_0x4b6ed9;_0x471c56(_0x243c32)&&!_0x243c32['classList']['contains'](_0x1f81ee(0x14f))&&_0x673c35['push'](_0x243c32);});const _0x542fb9=_0x3df433['querySelector'](_0x4b6ed9(0x194)+_0x255e67);if(_0x542fb9){const _0x1ecd3a=_0x542fb9[_0x4b6ed9(0x2dd)](_0x4b6ed9(0x238));_0x1ecd3a[_0x4b6ed9(0x2a4)](_0x187758=>{const _0x774ce9=_0x4b6ed9;_0x471c56(_0x187758)&&!_0x187758[_0x774ce9(0x138)][_0x774ce9(0x164)](_0x774ce9(0x14f))&&_0x673c35['push'](_0x187758);});}_0x254560&&_0x471c56(_0x254560)&&!_0x254560[_0x4b6ed9(0x138)]['contains'](_0x4b6ed9(0x14f))&&(!_0x673c35[_0x4b6ed9(0x1d7)](_0x254560)&&_0x673c35[_0x4b6ed9(0x2c8)](_0x254560));}else{_0x673c35=[_0x286b47,..._0x414f0b];if(_0xb600d9)_0x673c35[_0x4b6ed9(0x2c8)](_0xb600d9);}const _0x16302c=document[_0x4b6ed9(0x17b)],_0x1363e9=_0x16302c&&(_0x16302c['tagName']==_0x4b6ed9(0x1f7)||_0x16302c['tagName']==_0x4b6ed9(0x23f));if(_0x3df433&&_0x3df433['classList'][_0x4b6ed9(0x164)]('active')&&_0x4b235b[_0x4b6ed9(0x245)]==_0x4b6ed9(0x219)){if(_0x16302c&&_0x16302c[_0x4b6ed9(0x138)]['contains'](_0x4b6ed9(0x182))){_0x4b235b['preventDefault'](),_0x16302c[_0x4b6ed9(0x1a0)]();return;}}if(_0x3df433&&_0x3df433[_0x4b6ed9(0x138)][_0x4b6ed9(0x164)]('active')&&_0x4b235b[_0x4b6ed9(0x245)]==_0x4b6ed9(0x166)&&!_0x3df433[_0x4b6ed9(0x164)](_0x16302c)){_0x4b235b[_0x4b6ed9(0x1ce)]();_0x673c35[_0x4b6ed9(0x175)]>0x0&&_0x673c35[0x0][_0x4b6ed9(0x2c3)]();return;}if(_0x4b235b['key']==_0x4b6ed9(0x166)){_0x4b235b[_0x4b6ed9(0x1ce)]();if(_0x673c35[_0x4b6ed9(0x175)]==0x0)return;let _0x2f653e=_0x673c35[_0x4b6ed9(0x2a3)](_0x16302c);if(_0x2f653e==-0x1)_0x2f653e=-0x1;let _0x4bdacb;_0x4b235b['shiftKey']?_0x4bdacb=_0x2f653e<=0x0?_0x673c35[_0x4b6ed9(0x175)]-0x1:_0x2f653e-0x1:_0x4bdacb=_0x2f653e==_0x673c35[_0x4b6ed9(0x175)]-0x1?0x0:_0x2f653e+0x1;_0x673c35[_0x4bdacb][_0x4b6ed9(0x2c3)]();return;}(!_0x3df433||!_0x3df433[_0x4b6ed9(0x138)][_0x4b6ed9(0x164)](_0x4b6ed9(0x22f)))&&!_0x1363e9&&(_0x4b235b[_0x4b6ed9(0x245)][_0x4b6ed9(0x175)]==0x1||_0x4b235b[_0x4b6ed9(0x245)]==_0x4b6ed9(0x171)||_0x4b235b[_0x4b6ed9(0x245)]==_0x4b6ed9(0x227))&&(_0x4b235b['preventDefault'](),_0x286b47[_0x4b6ed9(0x2c3)](),_0x4b235b[_0x4b6ed9(0x245)]=='Backspace'||_0x4b235b[_0x4b6ed9(0x245)]==_0x4b6ed9(0x227)?_0x286b47[_0x4b6ed9(0x25b)]=_0x286b47[_0x4b6ed9(0x25b)][_0x4b6ed9(0x279)](0x0,-0x1):!_0x286b47[_0x4b6ed9(0x25b)]?_0x286b47[_0x4b6ed9(0x25b)]=_0x4b235b['key']:_0x286b47[_0x4b6ed9(0x25b)]+=_0x4b235b[_0x4b6ed9(0x245)]);});}if(_0x31348c==0x3){const _0x2e959d=[{'fecha':'12/05/2025','setTipoComprobante':'Recibo\x20(PEN)','Total':0xa},{'fecha':_0x547480(0x15a),'setTipoComprobante':_0x547480(0x1d5),'Total':0xf},{'fecha':'14/05/2025','setTipoComprobante':_0x547480(0x1d5),'Total':0xc},{'fecha':_0x547480(0x2c9),'setTipoComprobante':_0x547480(0x1d5),'Total':0x12},{'fecha':_0x547480(0x255),'setTipoComprobante':_0x547480(0x1d5),'Total':0x16},{'fecha':_0x547480(0x2ac),'setTipoComprobante':_0x547480(0x1d5),'Total':0x14},{'fecha':'18/05/2025','setTipoComprobante':'Recibo\x20(PEN)','Total':0x19},{'fecha':_0x547480(0x1d0),'setTipoComprobante':_0x547480(0x1d5),'Total':0x1c},{'fecha':_0x547480(0x1fb),'setTipoComprobante':'Recibo\x20(PEN)','Total':0x1a},{'fecha':_0x547480(0x1ea),'setTipoComprobante':_0x547480(0x1d5),'Total':0x1e}];generateFilterTransformChart({'containerId':'salesChartContainer','rawData':_0x2e959d,'groupField':_0x547480(0x1a9),'groupValues':[_0x547480(0x198),_0x547480(0x13c),'Factura\x20(MXN)',_0x547480(0x20f),_0x547480(0x20b),_0x547480(0x180),_0x547480(0x297),_0x547480(0x211),_0x547480(0x271),_0x547480(0x26f),_0x547480(0x22e),_0x547480(0x24e),_0x547480(0x228),_0x547480(0x2a7),_0x547480(0x1d5),_0x547480(0x2aa),_0x547480(0x199),_0x547480(0x232),'Recibo\x20(CLP)',_0x547480(0x19e),_0x547480(0x19a)],'additionalFilters':[],'seriesType':_0x547480(0x1c2),'encode':{'x':_0x547480(0x251),'y':_0x547480(0x253),'label':['setTipoComprobante','Total'],'itemName':_0x547480(0x251),'tooltip':['Total']},'title':'Evolución\x20de\x20Ventas','colors':['#FF5900',_0x547480(0x16c),_0x547480(0x16c),_0x547480(0x16c),_0x547480(0x16c),_0x547480(0x16c),_0x547480(0x16c),_0x547480(0x24d),_0x547480(0x24d),_0x547480(0x24d),_0x547480(0x24d),_0x547480(0x24d),'#080060',_0x547480(0x24d),_0x547480(0x161),_0x547480(0x161),_0x547480(0x161),'#888',_0x547480(0x161),_0x547480(0x161),'#888'],'width':_0x547480(0x2b7),'height':_0x547480(0x247)});}})[_0x191de6(0x2cf)](_0x57f8f2=>{const _0x7b51b0=_0x191de6;console[_0x7b51b0(0x231)](_0x57f8f2);})[_0x191de6(0x29f)](()=>{const _0x59d53e=_0x191de6;_0x31348c==0x1&&updateInternetIcon();let _0xb1b48e;_0x31348c==0x1&&(_0xb1b48e=_0x59d53e(0x298)),(_0x31348c==0x2||_0x31348c==0x3)&&(_0xb1b48e='./app.js?v=3.2.9'),registerServiceWorker(_0xb1b48e,_0x31348c);});}