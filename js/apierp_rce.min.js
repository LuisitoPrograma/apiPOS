/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.7
*/

const _0x575120=_0x4ec2;function _0x4ec2(_0x25528d,_0x50d302){const _0x2ae55d=_0x5164();return _0x4ec2=function(_0x59a8ad,_0x2f4cd9){_0x59a8ad=_0x59a8ad-0x6c;let _0x2f6266=_0x2ae55d[_0x59a8ad];return _0x2f6266;},_0x4ec2(_0x25528d,_0x50d302);}(function(_0x3be51a,_0x11e0c5){const _0x5e4932=_0x4ec2,_0x29317e=_0x3be51a();while(!![]){try{const _0x329081=parseInt(_0x5e4932(0x156))/0x1*(-parseInt(_0x5e4932(0x8d))/0x2)+-parseInt(_0x5e4932(0x82))/0x3+-parseInt(_0x5e4932(0x10f))/0x4*(parseInt(_0x5e4932(0xd9))/0x5)+-parseInt(_0x5e4932(0x142))/0x6*(parseInt(_0x5e4932(0xd0))/0x7)+-parseInt(_0x5e4932(0xf1))/0x8*(-parseInt(_0x5e4932(0xf3))/0x9)+parseInt(_0x5e4932(0xf6))/0xa+parseInt(_0x5e4932(0xd5))/0xb;if(_0x329081===_0x11e0c5)break;else _0x29317e['push'](_0x29317e['shift']());}catch(_0x1ece3d){_0x29317e['push'](_0x29317e['shift']());}}}(_0x5164,0x777d1));const _0x2c5330=(function(){let _0x883641=!![];return function(_0x3b36ef,_0x382d77){const _0x4ae0d5=_0x883641?function(){const _0x2115e6=_0x4ec2;if(_0x382d77){const _0x346b3d=_0x382d77[_0x2115e6(0x13b)](_0x3b36ef,arguments);return _0x382d77=null,_0x346b3d;}}:function(){};return _0x883641=![],_0x4ae0d5;};}()),_0x267b51=_0x2c5330(this,function(){const _0x22d5f9=_0x4ec2;return _0x267b51[_0x22d5f9(0xe4)]()['search'](_0x22d5f9(0x118))['toString']()[_0x22d5f9(0x136)](_0x267b51)[_0x22d5f9(0x114)](_0x22d5f9(0x118));});_0x267b51();const _0x2f4cd9=(function(){let _0x45c11f=!![];return function(_0x4edd53,_0x19dd86){const _0x53db50=_0x45c11f?function(){const _0x561f35=_0x4ec2;if(_0x19dd86){const _0x1f428e=_0x19dd86[_0x561f35(0x13b)](_0x4edd53,arguments);return _0x19dd86=null,_0x1f428e;}}:function(){};return _0x45c11f=![],_0x53db50;};}()),_0x59a8ad=_0x2f4cd9(this,function(){const _0x2944ee=_0x4ec2;let _0x15686c;try{const _0x15a65e=Function(_0x2944ee(0xe9)+_0x2944ee(0x14a)+');');_0x15686c=_0x15a65e();}catch(_0x14a505){_0x15686c=window;}const _0x2bd509=_0x15686c[_0x2944ee(0x11f)]=_0x15686c[_0x2944ee(0x11f)]||{},_0x5acfb9=[_0x2944ee(0x87),'warn',_0x2944ee(0xf0),_0x2944ee(0x105),_0x2944ee(0x99),'table',_0x2944ee(0x9d)];for(let _0x20a43f=0x0;_0x20a43f<_0x5acfb9[_0x2944ee(0x6c)];_0x20a43f++){const _0x389de5=_0x2f4cd9[_0x2944ee(0x136)][_0x2944ee(0x72)][_0x2944ee(0x93)](_0x2f4cd9),_0x542c16=_0x5acfb9[_0x20a43f],_0xf94d52=_0x2bd509[_0x542c16]||_0x389de5;_0x389de5[_0x2944ee(0xba)]=_0x2f4cd9[_0x2944ee(0x93)](_0x2f4cd9),_0x389de5[_0x2944ee(0xe4)]=_0xf94d52['toString']['bind'](_0xf94d52),_0x2bd509[_0x542c16]=_0x389de5;}});_0x59a8ad();let arrayIncomes;const divChartIncome=document[_0x575120(0x133)]('divChartIncome');let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x44c887){const _0x57c927=_0x575120,{containerId:_0x48c777,rawData:_0x1b0653,groupField:_0x73f059,groupValues:_0x25e8c1,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x26ed82,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x57c927(0x12d),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x406a06,height:_0x3a4e84}=_0x44c887,_0x248d50=document['getElementById'](_0x48c777);if(!_0x248d50){console[_0x57c927(0x105)](_0x57c927(0x84)+_0x48c777+_0x57c927(0xc6));return;}if(_0x406a06)_0x248d50[_0x57c927(0xf8)][_0x57c927(0xa2)]=_0x406a06;if(_0x3a4e84)_0x248d50[_0x57c927(0xf8)][_0x57c927(0x120)]=_0x3a4e84;const _0x1f29ca=echarts['init'](_0x248d50),_0x102a28=[],_0xbb1a87=[];_0x25e8c1[_0x57c927(0x137)]((_0x499f0e,_0x18b500)=>{const _0x2755b0=_0x57c927,_0x553cf1=_0x2755b0(0xc4)+_0x499f0e,_0x17ee97=(_0x44c887[_0x2755b0(0x12a)]||[])[_0x2755b0(0xa4)]([{'dimension':_0x73f059,'=':_0x499f0e}]);_0x102a28[_0x2755b0(0xfc)]({'id':_0x553cf1,'fromDatasetId':_0x2755b0(0xa9),'transform':{'type':_0x2755b0(0xd8),'config':{'and':_0x17ee97}}}),_0xbb1a87[_0x2755b0(0xfc)]({'type':chartType,'datasetId':_0x553cf1,'name':_0x499f0e,...chartType===_0x2755b0(0x100)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x18b500]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x26ed82});});const _0x1a47ba={'animationDuration':animationDuration,'dataset':[{'id':_0x57c927(0xa9),'source':_0x1b0653},..._0x102a28],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x57c927(0xfa)},'xAxis':Object[_0x57c927(0x146)]({'type':'category','nameLocation':_0x57c927(0xee)},xAxisConfig),'yAxis':Object[_0x57c927(0x146)]({'name':_0x26ed82['y']||''},yAxisConfig),'grid':gridConfig,'series':_0xbb1a87};_0x1f29ca['setOption'](_0x1a47ba);}function generatePieChart({containerId:_0x30c77c,data:_0x544445,nameField:_0x87511f,valueField:_0x14f750,title:title='',titlePosition:titlePosition=_0x575120(0xd2),showTitle:showTitle=!![],width:_0x58ecc0,height:_0x3ea5c2}){const _0x492101=_0x575120,_0x49d06e=document[_0x492101(0x133)](_0x30c77c);if(!_0x49d06e)return console[_0x492101(0x105)](_0x492101(0x7e)+_0x30c77c+_0x492101(0xf2));if(_0x58ecc0)_0x49d06e[_0x492101(0xf8)][_0x492101(0xa2)]=_0x58ecc0;if(_0x3ea5c2)_0x49d06e[_0x492101(0xf8)][_0x492101(0x120)]=_0x3ea5c2;const _0x28457a=echarts[_0x492101(0x104)](_0x49d06e),_0x5eaa8b=_0x544445[_0x492101(0x10b)]((_0x4f7326,_0x6b0283)=>{const _0x481c49=_0x492101,_0x28c2db=_0x6b0283[_0x87511f],_0x513d83=_0x6b0283[_0x14f750];let _0x5b9416=_0x4f7326[_0x481c49(0x12e)](_0x3b2842=>_0x3b2842[_0x481c49(0xd6)]===_0x28c2db);return!_0x5b9416&&(_0x5b9416={'name':_0x28c2db,'value':0x0},_0x4f7326['push'](_0x5b9416)),_0x5b9416[_0x481c49(0xed)]+=_0x513d83,_0x4f7326;},[]);let _0x4d9bcb;showTitle?(_0x4d9bcb={'text':title,'left':'center'},titlePosition==='bottom'?_0x4d9bcb[_0x492101(0xff)]=0x0:_0x4d9bcb[_0x492101(0xd2)]=0x0):_0x4d9bcb={'show':![]};const _0x2c04d0={'title':_0x4d9bcb,'tooltip':{'trigger':_0x492101(0xaf)},'series':[{'type':'pie','radius':_0x492101(0x12b),'data':_0x5eaa8b,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':'{b}:\x20{d}%'}}]};_0x28457a['setOption'](_0x2c04d0);}function generateHorizontalBarChart({containerId:_0x546110,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],colors:colors=[],width:_0x3e4e2e,height:_0x563aed,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0xb5f6a7=_0x575120,_0x1fe4c6=document['getElementById'](_0x546110);if(!_0x1fe4c6)return console[_0xb5f6a7(0x105)]('Contenedor\x20'+_0x546110+_0xb5f6a7(0xf2));if(_0x3e4e2e)_0x1fe4c6[_0xb5f6a7(0xf8)][_0xb5f6a7(0xa2)]=_0x3e4e2e;if(_0x563aed)_0x1fe4c6[_0xb5f6a7(0xf8)][_0xb5f6a7(0x120)]=_0x563aed;const _0x3dca56=echarts['init'](_0x1fe4c6),_0x3a0902=showTitle?{'text':title,'left':'center',...titlePosition===_0xb5f6a7(0xff)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition==='bottom'?_0x3a0902[_0xb5f6a7(0xff)]=0x0:_0x3a0902['top']=0x0;const _0x1c2f93={'title':_0x3a0902,'tooltip':{'trigger':_0xb5f6a7(0xfa),'axisPointer':{'type':_0xb5f6a7(0x90)}},'legend':{},'grid':Object[_0xb5f6a7(0x146)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0xb5f6a7(0x146)]({'type':_0xb5f6a7(0xed),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0xb5f6a7(0x146)]({'type':_0xb5f6a7(0xdf),'data':categories},yAxisConfig),'series':series[_0xb5f6a7(0x12f)]((_0x1ab0f3,_0x50fc23)=>({'type':_0xb5f6a7(0x100),'name':_0x1ab0f3[_0xb5f6a7(0xd6)],'data':_0x1ab0f3[_0xb5f6a7(0x130)],'itemStyle':{'color':colors[_0x50fc23]||undefined}}))};_0x3dca56[_0xb5f6a7(0x152)](_0x1c2f93);}function showModalViewDetails(){const _0x53ef45=_0x575120,_0x1334e6=document['getElementById']('detalleModal'),_0x4c11a9=document['getElementById'](_0x53ef45(0x70));_0x1334e6[_0x53ef45(0x115)][_0x53ef45(0x9b)](_0x53ef45(0x88)),_0x4c11a9[_0x53ef45(0xf8)]['display']=_0x53ef45(0xbb);}function hideModalViewDetails(){const _0x17024b=_0x575120,_0x215324=document[_0x17024b(0x133)](_0x17024b(0xd7)),_0x2a9f90=document['getElementById'](_0x17024b(0x70));_0x215324[_0x17024b(0x115)]['remove'](_0x17024b(0x88)),_0x2a9f90[_0x17024b(0xf8)][_0x17024b(0xab)]=_0x17024b(0x14f);const _0x16ef44=document[_0x17024b(0x133)](_0x17024b(0xcf));_0x16ef44[_0x17024b(0x80)]=_0x17024b(0x109);}document[_0x575120(0x133)](_0x575120(0xcb))[_0x575120(0x113)](_0x575120(0x85),hideModalViewDetails),document[_0x575120(0x133)](_0x575120(0x70))[_0x575120(0x113)](_0x575120(0x85),hideModalViewDetails);function verDetalle(_0x149a52,_0x3ad886){const _0x4e9bf8=_0x575120;fetch('https://fasyb.com/api/venta/view/?id='+_0x149a52+_0x4e9bf8(0x83)+_0x3ad886)[_0x4e9bf8(0x78)](_0x45510c=>{const _0x4558cb=_0x4e9bf8;if(!_0x45510c['ok'])throw new Error(_0x4558cb(0x89)+_0x45510c['status']+':\x20'+_0x45510c[_0x4558cb(0x86)]);return _0x45510c[_0x4558cb(0x11e)]();})[_0x4e9bf8(0x78)](_0x3a0f46=>{const _0x1dc59d=_0x4e9bf8;if(_0x3a0f46[_0x1dc59d(0xdb)]){const _0xd9e7a7=document[_0x1dc59d(0x133)]('dynamicContent');if(_0x3ad886==='detalle'){let _0x1d0d2c='';_0x3a0f46[_0x1dc59d(0x130)]['forEach'](_0x1c32c1=>{const _0x26715d=_0x1dc59d;_0x1d0d2c+=_0x26715d(0x102)+_0x1c32c1['producto']+'</td>\x0a<td>'+_0x1c32c1[_0x26715d(0x77)]+_0x26715d(0x128)+_0x1c32c1[_0x26715d(0x141)]+'</td>\x0a<td>'+_0x1c32c1[_0x26715d(0x97)]+'</td>\x0a</tr>';}),document[_0x1dc59d(0x133)](_0x1dc59d(0x9a))[_0x1dc59d(0x80)]=_0x1d0d2c;}else{if(_0x3ad886===_0x1dc59d(0xf5)){const _0xc7ba71=_0x1dc59d(0xbf)+encodeURIComponent(_0x3a0f46[_0x1dc59d(0x13a)]),_0x2fbc3b=document[_0x1dc59d(0xb7)](_0x1dc59d(0x135));_0xd9e7a7[_0x1dc59d(0x80)]=_0x1dc59d(0xe8)+_0xc7ba71+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document['getElementById'](_0x1dc59d(0xcb))[_0x1dc59d(0x113)](_0x1dc59d(0x85),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x3a0f46[_0x1dc59d(0x105)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0x4e9bf8(0x14e)](_0x3c8c55=>{const _0x4bc62f=_0x4e9bf8;console['error'](_0x4bc62f(0xb0),_0x3c8c55),alert(_0x4bc62f(0x12c));});}const tableWrappers=document[_0x575120(0x140)]('.table-wrapper');tableWrappers[_0x575120(0x137)](_0x127566=>{const _0xd7fb57=_0x575120;let _0x9a6733=![],_0x55faee,_0x56f2f5;_0x127566[_0xd7fb57(0x113)]('mousedown',_0x1c6440=>{const _0x255039=_0xd7fb57;_0x9a6733=!![],_0x55faee=_0x1c6440[_0x255039(0xdd)]-_0x127566[_0x255039(0x6e)],_0x56f2f5=_0x127566[_0x255039(0x94)];}),_0x127566[_0xd7fb57(0x113)](_0xd7fb57(0xf7),()=>{_0x9a6733=![];}),_0x127566[_0xd7fb57(0x113)](_0xd7fb57(0x151),()=>{_0x9a6733=![];}),_0x127566[_0xd7fb57(0x113)](_0xd7fb57(0x123),_0x7a9a95=>{const _0x4cb3d2=_0xd7fb57;if(!_0x9a6733)return;_0x7a9a95[_0x4cb3d2(0x8c)]();const _0x2f1ad1=_0x7a9a95['pageX']-_0x127566[_0x4cb3d2(0x6e)],_0x4838a8=(_0x2f1ad1-_0x55faee)*0x2;_0x127566['scrollLeft']=_0x56f2f5-_0x4838a8;});});async function consultIncomeReport(){const _0x45b935=_0x575120;showLoadingModal();const _0x1d775e={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x45b935(0x7a)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x54e36f=await fetch(myCompany[_0x45b935(0x13e)],{'method':'POST','headers':{'Content-Type':_0x45b935(0xb5)},'body':JSON[_0x45b935(0x138)](_0x1d775e)}),{success:_0x31772e,message:_0xc53a6}=await _0x54e36f[_0x45b935(0x11e)]();if(!_0x31772e||!Array[_0x45b935(0x10a)](_0xc53a6['incomes'])){ntfShow(_0x45b935(0x148)),console[_0x45b935(0x87)](_0xc53a6);return;}const _0x5d9892=_0xc53a6[_0x45b935(0x9e)],_0x54b30a=myCompany['setCustomers'][_0x45b935(0x10b)]((_0x59dc92,_0x18a677)=>(_0x59dc92[_0x18a677['setCustomerId']]=_0x18a677[_0x45b935(0xf9)],_0x59dc92),{}),_0x319be2=myCompany[_0x45b935(0x155)][_0x45b935(0x10b)]((_0x531075,_0xe2943d)=>(_0x531075[_0xe2943d[_0x45b935(0xe5)]]=_0xe2943d[_0x45b935(0xd1)],_0x531075),{}),_0x1c990a=myCompany[_0x45b935(0x11a)][_0x45b935(0x10b)]((_0x2d9284,_0x4f9d6c)=>(_0x2d9284[_0x4f9d6c[_0x45b935(0x81)]]=_0x4f9d6c[_0x45b935(0x10c)],_0x2d9284),{});arrayIncomes=_0x5d9892[_0x45b935(0x12f)](_0x23136e=>{const _0xec9acc=_0x45b935,_0x20467e=_0x23136e[_0xec9acc(0x8a)]['reduce']((_0x2970c0,_0x38bef5)=>_0x2970c0+Number(_0x38bef5['setOperationDetailTotal']),0x0),_0x2d120f=_0x319be2[_0x23136e[_0xec9acc(0xe3)]]||_0x23136e[_0xec9acc(0xe3)],_0x12abd2=_0x1c990a[_0x23136e[_0xec9acc(0x127)]]||_0x23136e['setOperationSeries'],_0x582122=_0x54b30a[_0x23136e[_0xec9acc(0xfd)]]||_0x23136e[_0xec9acc(0xfd)],_0x6e6229=_0x23136e[_0xec9acc(0xc7)]==0x1?_0xec9acc(0xe6):_0xec9acc(0x107),_0x518ac6=_0x23136e['setOperationPaymentStatus']==0x1?_0xec9acc(0xcc):_0xec9acc(0xda),_0x1141d9=_0x23136e[_0xec9acc(0xe3)]==0x1?'pedido':_0x23136e[_0xec9acc(0xe3)]==0x2?_0xec9acc(0x111):_0x23136e[_0xec9acc(0xe3)]==0x3?_0xec9acc(0xc1):_0x23136e[_0xec9acc(0xe3)]==0x4?_0xec9acc(0x75):_0xec9acc(0x111);return{'setOperationId':_0x23136e[_0xec9acc(0xb9)],'setOperationType':_0x2d120f,'setOperationTypeSpan':_0x1141d9,'setOperationSeries':_0x12abd2+'-'+_0x23136e[_0xec9acc(0xb2)],'setOperationCustomerName':_0x582122,'setOperationDateTime':_0x23136e[_0xec9acc(0xa3)],'setOperationPaymentStatusColor':_0x6e6229,'setOperationPaymentStatusName':_0x518ac6,'setOperationCurrency':_0x23136e[_0xec9acc(0x14c)],'setOperationTotal':_0x20467e};});const _0x209d36=_0x5d9892[_0x45b935(0xfb)](_0x14b6a4=>_0x14b6a4['setOperationItems']['map'](_0x170384=>({'item':_0x170384,'moneda':_0x14b6a4[_0x45b935(0x14c)]})))[_0x45b935(0x10b)]((_0x1be632,{item:_0x485b41,moneda:_0x3317a6})=>{const _0x582310=_0x45b935,_0x361d65=products[_0x582310(0x12e)](_0x5ec07d=>_0x5ec07d['id']==_0x485b41[_0x582310(0x73)]),_0x31d068=_0x361d65?_0x361d65['setDescripcion']:'Sin\x20descripción',_0x34d05b=_0x31d068+'|'+_0x3317a6,_0xe847cf=Number(_0x485b41[_0x582310(0xc0)]),_0x37aadb=Number(_0x485b41[_0x582310(0x11c)])*Number(_0x485b41[_0x582310(0x10e)]);return!_0x1be632[_0x34d05b]&&(_0x1be632[_0x34d05b]={'productName':_0x31d068,'currency':_0x3317a6,'sales':0x0,'cost':0x0}),_0x1be632[_0x34d05b][_0x582310(0xe2)]+=_0xe847cf,_0x1be632[_0x34d05b]['cost']+=_0x37aadb,_0x1be632;},{}),_0x43c44d=Object[_0x45b935(0xeb)](_0x209d36)[_0x45b935(0x12f)](_0xd2802=>({'productName':_0xd2802[_0x45b935(0xc2)],'currency':_0xd2802[_0x45b935(0xbd)],'sales':Math[_0x45b935(0xa0)](_0xd2802[_0x45b935(0xe2)]*0x64)/0x64,'cost':Math[_0x45b935(0xa0)](_0xd2802[_0x45b935(0x79)]*0x64)/0x64,'profit':Math['round']((_0xd2802[_0x45b935(0xe2)]-_0xd2802[_0x45b935(0x79)])*0x64)/0x64})),_0x17df8a=_0x5d9892[_0x45b935(0x10b)]((_0x2ef2df,_0x568f16)=>{const _0x4af77f=_0x45b935,_0x335a82=_0x54b30a[_0x568f16['setOperationCustomerId']]||_0x568f16[_0x4af77f(0xfd)],_0x24b703=_0x568f16['setOperationCurrency'],_0x5de819=_0x335a82+'|'+_0x24b703,_0x1db88d=_0x568f16[_0x4af77f(0x8a)][_0x4af77f(0x10b)]((_0x53528b,_0x19bd9e)=>_0x53528b+Number(_0x19bd9e['setOperationDetailTotal']),0x0),_0x3d0c9a=_0x568f16[_0x4af77f(0x8a)][_0x4af77f(0x10b)]((_0x16c530,_0x36dc31)=>_0x16c530+Number(_0x36dc31['setOperationDetailUnitCost'])*Number(_0x36dc31[_0x4af77f(0x10e)]),0x0);return!_0x2ef2df[_0x5de819]&&(_0x2ef2df[_0x5de819]={'customerName':_0x335a82,'currency':_0x24b703,'sales':0x0,'cost':0x0}),_0x2ef2df[_0x5de819]['sales']+=_0x1db88d,_0x2ef2df[_0x5de819][_0x4af77f(0x79)]+=_0x3d0c9a,_0x2ef2df;},{}),_0x22875b=Object[_0x45b935(0xeb)](_0x17df8a)[_0x45b935(0x12f)](_0x5b7a03=>({'customerName':_0x5b7a03['customerName'],'currency':_0x5b7a03['currency'],'sales':Math['round'](_0x5b7a03[_0x45b935(0xe2)]*0x64)/0x64,'cost':Math[_0x45b935(0xa0)](_0x5b7a03[_0x45b935(0x79)]*0x64)/0x64,'profit':Math[_0x45b935(0xa0)]((_0x5b7a03[_0x45b935(0xe2)]-_0x5b7a03[_0x45b935(0x79)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x45b935(0x9e)),renderTable(_0x43c44d,currentPageProducts,_0x45b935(0x129)),renderTable(_0x22875b,currentPageCustomers,_0x45b935(0x7d));const _0x3e46a8=arrayIncomes[_0x45b935(0x12f)](_0x3fb68c=>({'fechaISO':_0x3fb68c[_0x45b935(0xa3)][_0x45b935(0x71)]('\x20')[0x0],'setTipoComprobante':_0x3fb68c[_0x45b935(0xe3)],'setOperationCurrency':_0x3fb68c[_0x45b935(0x14c)],'Total':Math[_0x45b935(0xa0)](_0x3fb68c[_0x45b935(0x134)]*0x64)/0x64})),_0x5a8434=_0x3e46a8[_0x45b935(0x10b)]((_0x18a9e2,_0x494997)=>{const _0x66876c=_0x45b935,_0x185aa0=_0x494997['fechaISO']+'|'+_0x494997['setTipoComprobante']+'|'+_0x494997[_0x66876c(0x14c)];if(!_0x18a9e2[_0x185aa0])_0x18a9e2[_0x185aa0]={..._0x494997,'Total':0x0};return _0x18a9e2[_0x185aa0][_0x66876c(0xb1)]+=_0x494997[_0x66876c(0xb1)],_0x18a9e2;},{}),_0x1dde73=Object[_0x45b935(0xeb)](_0x5a8434)[_0x45b935(0x12f)](_0xffdc03=>({'fechaISO':_0xffdc03['fechaISO'],'setTipoComprobante':_0xffdc03[_0x45b935(0x139)]+'\x20('+_0xffdc03[_0x45b935(0x14c)]+')','Total':Math['round'](_0xffdc03[_0x45b935(0xb1)]*0x64)/0x64})),_0x2713fc=[...new Set(_0x1dde73[_0x45b935(0x12f)](_0x37c87a=>_0x37c87a[_0x45b935(0x139)]))],_0x458541=Array[_0x45b935(0xe1)](new Set(_0x1dde73[_0x45b935(0x12f)](_0x18ff9c=>_0x18ff9c[_0x45b935(0xc3)])))[_0x45b935(0xf4)]((_0x4873b4,_0x27846d)=>new Date(_0x4873b4)-new Date(_0x27846d));_0x1dde73[_0x45b935(0x6c)]>0x0?generateFilterTransformChart({'containerId':_0x45b935(0xd4),'rawData':_0x1dde73,'groupField':'setTipoComprobante','groupValues':_0x2713fc,'seriesType':'bar','chartType':_0x45b935(0x100),'colors':[_0x45b935(0x107),'#080060'],'encode':{'x':_0x45b935(0xc3),'y':_0x45b935(0xb1),'label':['setTipoComprobante','Total'],'itemName':_0x45b935(0xc3),'tooltip':['Total']},'xAxisConfig':{'type':_0x45b935(0xdf),'data':_0x458541,'axisLabel':{'formatter':_0x302add=>{const [_0x6d783b,_0x15a1a3,_0x174f5e]=_0x302add['split']('-');return _0x174f5e+'/'+_0x15a1a3+'/'+_0x6d783b;}}},'title':_0x45b935(0x11d),'width':_0x45b935(0x143),'height':_0x45b935(0x95)}):divChartIncome['innerHTML']='';_0x43c44d[_0x45b935(0x6c)]>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x43c44d['map'](_0x22e0da=>{const _0x3f256c=_0x45b935,_0xc39c7='('+_0x22e0da[_0x3f256c(0xbd)]+')\x20'+_0x22e0da['productName'];return _0xc39c7[_0x3f256c(0x6c)]>0xf?_0xc39c7[_0x3f256c(0x7c)](0x0,0xf)+_0x3f256c(0x96):_0xc39c7;}),'series':[{'name':_0x45b935(0x10d),'data':_0x43c44d[_0x45b935(0x12f)](_0x3b3f3a=>_0x3b3f3a[_0x45b935(0xe2)])},{'name':'Costo','data':_0x43c44d[_0x45b935(0x12f)](_0x50000a=>_0x50000a[_0x45b935(0x79)])},{'name':_0x45b935(0x153),'data':_0x43c44d['map'](_0x5be7e5=>_0x5be7e5[_0x45b935(0xb8)])}],'title':_0x45b935(0x106),'titlePosition':_0x45b935(0xff),'showTitle':![],'colors':['#FF5900',_0x45b935(0x131),_0x45b935(0x125)],'width':'100%','height':_0x45b935(0xea)}):divChartItem[_0x45b935(0x80)]='';if(_0x22875b[_0x45b935(0x6c)]>0x0){const _0x52f2cc=_0x22875b[_0x45b935(0x12f)](_0xe59a1=>({'label':_0xe59a1[_0x45b935(0xd3)]+'\x20('+_0xe59a1[_0x45b935(0xbd)]+')','sales':_0xe59a1[_0x45b935(0xe2)]}));generatePieChart({'containerId':_0x45b935(0x7f),'data':_0x52f2cc,'nameField':'label','valueField':'sales','title':'Ventas\x20por\x20Cliente','titlePosition':_0x45b935(0xd2),'showTitle':![],'width':_0x45b935(0x95),'height':'500px'});}else divChartCustomer[_0x45b935(0x80)]='';}catch(_0x243485){ntfShow(_0x45b935(0x76)),console[_0x45b935(0x105)](_0x243485);}finally{hideLoadingModal();}}function renderTable(_0x5e0e29,_0x4e8741=0x1,_0x2e5a42=_0x575120(0x9e)){const _0x274616=_0x575120;currentPage=_0x4e8741;const _0x547517=_0x2e5a42===_0x274616(0x9e)?_0x274616(0x103):_0x2e5a42===_0x274616(0x129)?_0x274616(0xb3):_0x274616(0x124),_0x1e6267=_0x2e5a42==='incomes'?per_page:_0x2e5a42===_0x274616(0x129)?per_page_products:per_page_customers,_0x5e738b=document['querySelector'](_0x547517+_0x274616(0xcd));_0x5e738b[_0x274616(0x80)]='';const _0x44c7af=(_0x4e8741-0x1)*_0x1e6267,_0xa1a1de=_0x5e0e29[_0x274616(0xbc)](_0x44c7af,_0x44c7af+_0x1e6267);if(_0x2e5a42===_0x274616(0x9e)){_0xa1a1de['forEach'](_0x44275d=>{const _0x5a3708=_0x274616,_0x5adc91=document['createElement']('tr');_0x5adc91['innerHTML']=_0x5a3708(0x116)+_0x44275d[_0x5a3708(0x9c)]+_0x5a3708(0x119)+_0x44275d[_0x5a3708(0xe3)]+_0x5a3708(0xc8)+(_0x44275d[_0x5a3708(0x127)]||'')+_0x5a3708(0x128)+(_0x44275d['setOperationCustomerName']||'')+_0x5a3708(0x7b)+_0x44275d[_0x5a3708(0xa3)]+_0x5a3708(0x14b)+_0x44275d['setOperationPaymentStatusColor']+_0x5a3708(0xb6)+_0x44275d[_0x5a3708(0x14d)]+_0x5a3708(0x13c)+_0x44275d['setOperationPaymentStatusName']+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x44275d[_0x5a3708(0x14c)]+_0x5a3708(0x147)+_0x44275d[_0x5a3708(0x134)]['toFixed'](0x2)+_0x5a3708(0x149)+_0x44275d[_0x5a3708(0xb9)]+_0x5a3708(0xac)+_0x44275d['setOperationId']+_0x5a3708(0xa6),_0x5e738b[_0x5a3708(0x11b)](_0x5adc91);});const _0x36bcc1=_0x5e0e29['reduce']((_0x34c48d,_0x1698e8)=>{const _0x444671=_0x274616,_0x24d2b3=_0x1698e8[_0x444671(0x14c)];return _0x34c48d[_0x24d2b3]=(_0x34c48d[_0x24d2b3]||0x0)+Number(_0x1698e8[_0x444671(0x134)]),_0x34c48d;},{});Object[_0x274616(0x150)](_0x36bcc1)['forEach'](([_0x416573,_0x58d976])=>{const _0x3cffb5=_0x274616,_0x29c471=document[_0x3cffb5(0x92)]('tr');_0x29c471['innerHTML']=_0x3cffb5(0x154)+_0x416573+_0x3cffb5(0xc5)+(Math['round'](_0x58d976*0x64)/0x64)[_0x3cffb5(0x132)](0x2)+_0x3cffb5(0x8b),_0x5e738b['appendChild'](_0x29c471);}),renderPagination(_0x5e0e29,_0x4e8741,_0x2e5a42);}}function renderPagination(_0x448560,_0x87ce65,_0x9fc3ad=_0x575120(0x9e)){const _0x58e594=_0x575120,_0x5e8f7c=_0x9fc3ad===_0x58e594(0x9e)?document[_0x58e594(0xb7)](_0x58e594(0x91)):_0x9fc3ad==='products'?document[_0x58e594(0xb7)](_0x58e594(0x13f)):document['querySelector']('#pagination-customers'),_0x1e98fe=_0x9fc3ad===_0x58e594(0x9e)?per_page:_0x9fc3ad==='products'?per_page_products:per_page_customers;_0x5e8f7c[_0x58e594(0x80)]='';const _0x272341=Math[_0x58e594(0xa5)](_0x448560['length']/_0x1e98fe),_0x54ede1=document[_0x58e594(0x92)]('a');_0x54ede1['href']='#',_0x54ede1['className']='btn\x20btn-sm\x20btn-outline\x20me-2',_0x54ede1[_0x58e594(0x80)]=_0x58e594(0x74),_0x54ede1[_0x58e594(0xa7)]=_0x48d411=>{_0x48d411['preventDefault']();if(_0x87ce65>0x1)renderTable(_0x448560,_0x87ce65-0x1,_0x9fc3ad);},_0x5e8f7c['appendChild'](_0x54ede1);for(let _0x46de22=0x1;_0x46de22<=_0x272341;_0x46de22++){const _0x51d620=document['createElement']('a');_0x51d620['href']='#',_0x51d620[_0x58e594(0x121)]=_0x58e594(0xef)+(_0x46de22===_0x87ce65?_0x58e594(0x8f):_0x58e594(0xa8)),_0x51d620[_0x58e594(0x9f)]=_0x46de22,_0x51d620[_0x58e594(0xa7)]=_0x312b81=>{const _0x5b132a=_0x58e594;_0x312b81[_0x5b132a(0x8c)](),renderTable(_0x448560,_0x46de22,_0x9fc3ad);},_0x5e8f7c[_0x58e594(0x11b)](_0x51d620);}const _0x2c8c5e=document[_0x58e594(0x92)]('a');_0x2c8c5e[_0x58e594(0xe7)]='#',_0x2c8c5e[_0x58e594(0x121)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x2c8c5e[_0x58e594(0x80)]=_0x58e594(0x145),_0x2c8c5e['onclick']=_0x181fb7=>{const _0x3f2e71=_0x58e594;_0x181fb7[_0x3f2e71(0x8c)]();if(_0x87ce65<_0x272341)renderTable(_0x448560,_0x87ce65+0x1,_0x9fc3ad);},_0x5e8f7c[_0x58e594(0x11b)](_0x2c8c5e);}function _0x5164(){const _0x3ad875=['https://fasyb.com/api/pdf/proxy/?file=','setOperationDetailTotal','boleta','productName','fechaISO','dataset_','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','\x22\x20no\x20existe.','setOperationPaymentStatus','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','\x2023:59:59','filter-end','closeModalViewDetails','Pagado','\x20tbody','toISOString','dynamicContent','143115AHfROX','setTipoOperacionName','top','customerName','divChartIncome','16837359QmapIE','name','detalleModal','filter','671960nxFwFI','Pendiente','success','onload','pageX','change','category','Error\x20al\x20exportar.','from','sales','setOperationType','toString','setTipoOperacionCodigo','#00bb2d','href','\x0a<iframe\x20src=\x22','return\x20(function()\x20','400px','values','setWarehouseId','value','middle','btn\x20btn-sm\x20','info','27096ClKZfS','\x20no\x20existe','882aIRrqi','sort','pdf','3342400IuYEEK','mouseleave','style','setCustomerName','axis','flatMap','push','setOperationCustomerId','application/json','bottom','bar','.btn-logout','\x0a<tr>\x0a<td>','#reporte-income','init','error','Ventas\x20por\x20Producto','#FF5900','Error\x20al\x20aplicar\x20filtro','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','isArray','reduce','setSerie','Ventas','setOperationDetailQuantity','8USUVod','onmessage','recibo','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','addEventListener','search','classList','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','getInstance','(((.+)+)+)+$','\x22>\x0a','setSeries','appendChild','setOperationDetailUnitCost','Evolución\x20de\x20Ventas','json','console','height','className','.xlsx','mousemove','#reporte-income-customers','#00AEEF','revokeObjectURL','setOperationSeries','</td>\x0a<td>','products','additionalFilters','50%','Error\x20al\x20cargar\x20el\x20detalle.','valueDesc','find','map','data','#080060','toFixed','getElementById','setOperationTotal','.modal-content','constructor','forEach','stringify','setTipoComprobante','pdf_url','apply',';\x22>\x0a','payload','setApiEndPoint','#pagination-products','querySelectorAll','valor_unitario','246arZkPF','100%','setBranchDefault','Siguiente\x20&raquo;','assign','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','No\x20se\x20encontró\x20información\x20de\x20ingresos','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','{}.constructor(\x22return\x20this\x22)(\x20)','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','setOperationCurrency','setOperationPaymentStatusColor','catch','none','entries','mouseup','setOption','Ganancia','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setTipoOperaciones','1ljuLcS','length','./img/apiPOS.png','offsetLeft','setFloorId','modalOverlayViewDetails','split','prototype','setOperationDetailUnitPresentationId','&laquo;\x20Anterior','factura','Error\x20al\x20solicitar\x20reporte','cantidad','then','cost','setAuthToken','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','substring','customers','Contenedor\x20','divChartCustomer','innerHTML','ID_SERIE','1576671soOwef','&tipo=','El\x20contenedor\x20con\x20id\x20\x22','click','statusText','log','active','Error\x20','setOperationItems','\x0a</td>\x0a<td></td>\x0a','preventDefault','149648jiKrcv','\x2000:00:00','btn-outline-primary','shadow','#pagination-income','createElement','bind','scrollLeft','500px','...','total','dispatchEvent','exception','detalleTablaBody','add','setOperationTypeSpan','trace','incomes','textContent','round','filter-start','width','setOperationDateTime','concat','ceil',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','onclick','btn-outline','dataset_raw','setBranchId','display',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','filterModal','postMessage','item','Error\x20al\x20cargar\x20el\x20detalle:','Total','setOperationNumber','#reporte-income-products','./js/apierp_export_wk.min.js','application/json;\x20charset=utf-8',';\x20color:\x20','querySelector','profit','setOperationId','__proto__','block','slice','currency','application/octet-stream'];_0x5164=function(){return _0x3ad875;};return _0x5164();}document[_0x575120(0x133)]('apply-filter')[_0x575120(0x113)]('click',async()=>{const _0x16e40e=_0x575120,_0x4b37c9=document[_0x16e40e(0x133)](_0x16e40e(0xa1))[_0x16e40e(0xed)],_0x2ed2eb=document[_0x16e40e(0x133)](_0x16e40e(0xca))[_0x16e40e(0xed)];if(!_0x4b37c9||!_0x2ed2eb)return alert('Selecciona\x20ambas\x20fechas');const _0x4d4a50=document['getElementById'](_0x16e40e(0xad)),_0x300e17=bootstrap['Modal'][_0x16e40e(0x117)](_0x4d4a50);_0x300e17['hide'](),showLoadingModal();try{const _0x17b526={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x16e40e(0x7a)],'dateFrom':_0x4b37c9+_0x16e40e(0x8e),'dateTo':_0x2ed2eb+_0x16e40e(0xc9),'clientIds':[],'operationTypes':[]},_0x4c9f34=await fetch(myCompany[_0x16e40e(0x13e)],{'method':'POST','headers':{'Content-Type':_0x16e40e(0xfe)},'body':JSON[_0x16e40e(0x138)](_0x17b526)}),{success:_0x4c6ea9,message:_0x47423a}=await _0x4c9f34['json']();if(!_0x4c6ea9)throw new Error(_0x47423a);_0x47423a[_0x16e40e(0x9e)],await consultIncomeReport();}catch(_0x2d6851){ntfShow(_0x16e40e(0x108)),console['error'](_0x2d6851);}finally{hideLoadingModal();}});const reportWorker=new Worker(_0x575120(0xb4));reportWorker[_0x575120(0x110)]=({data:_0x3b48ff})=>{const _0xa2038=_0x575120,{type:_0x34ef18,payload:_0x1d3339,reportType:_0x30f3f9}=_0x3b48ff;if(_0x34ef18==='exportDone'){const _0x40922f=new Blob([_0x3b48ff[_0xa2038(0x13d)]],{'type':_0xa2038(0xbe)}),_0x43321d=URL['createObjectURL'](_0x40922f),_0x465648=document[_0xa2038(0x92)]('a'),_0x370844=new Date()[_0xa2038(0xce)]()[_0xa2038(0xbc)](0x0,0xa);_0x465648['href']=_0x43321d,_0x465648['download']=_0x30f3f9+'_'+_0x370844+_0xa2038(0x122),_0x465648[_0xa2038(0x85)](),URL[_0xa2038(0x126)](_0x43321d);}_0x34ef18===_0xa2038(0x105)&&(console[_0xa2038(0x105)]('Export\x20WK\x20Error:',_0x1d3339),ntfShow(_0xa2038(0xe0)));},document[_0x575120(0x133)]('btnExport')[_0x575120(0x113)]('click',onClickExport);function onClickExport(){const _0x4d043e=_0x575120;if(!Array['isArray'](arrayIncomes)||!arrayIncomes[_0x4d043e(0x6c)])return ntfShow(_0x4d043e(0x112));const _0x3fe794=arrayIncomes[_0x4d043e(0x12f)](_0x30365b=>{const _0x136077=_0x4d043e,[_0x1cb375]=_0x30365b['setOperationDateTime'][_0x136077(0x71)]('\x20'),[_0x28cc8a,_0x3b6931,_0x5004bd]=_0x1cb375[_0x136077(0x71)]('-');return{'Periodo':''+_0x28cc8a+_0x3b6931,'CorrelativoCUO':'','FechaEmision':_0x5004bd+'/'+_0x3b6931+'/'+_0x28cc8a,'FechaVencimiento':'','TipoComprobante':_0x30365b[_0x136077(0x9c)],'SerieNumero':_0x30365b['setOperationSeries'],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x30365b['setOperationCustomerName'],'BaseImponible':'','IGV':'','TotalVenta':_0x30365b[_0x136077(0x134)],'Moneda':_0x30365b['setOperationCurrency'],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x4d043e(0xae)]({'action':'exportReport','reportType':'RCE','report':_0x3fe794});}window[_0x575120(0xdc)]=function(){const _0x11f359=_0x575120,_0x32ea57=0x6;loadLoginContent(_0x11f359(0x6d)),setUserNameGet(),setEventBtnAccess();const _0x37d06a=document['querySelector'](_0x11f359(0x101));_0x37d06a&&_0x37d06a[_0x11f359(0x113)](_0x11f359(0x85),function(){logoutReload(0x0,_0x32ea57);}),document[_0x11f359(0x133)](_0x11f359(0xaa))[_0x11f359(0x113)](_0x11f359(0xde),async function(){const _0x2b746b=_0x11f359,_0x46ac4d=parseInt(this[_0x2b746b(0xed)]);myCompany[_0x2b746b(0x144)]=_0x46ac4d;const _0xce3b36=await createCartStore('');await saveCompanyToIndexedDB(company,_0xce3b36),cargarAlmacenes(_0x46ac4d),setTimeout(()=>{const _0x1ddb95=_0x2b746b;document[_0x1ddb95(0x133)](_0x1ddb95(0xec))[_0x1ddb95(0x98)](new Event(_0x1ddb95(0xde)));},0x64),cargarPisos(_0x46ac4d),setTimeout(()=>{const _0x17260d=_0x2b746b;document[_0x17260d(0x133)](_0x17260d(0x6f))[_0x17260d(0x98)](new Event('change'));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x2b746b(0xfc)](_0x46ac4d),consultIncomeReport();}),loadCartAndSetTabCount(_0x32ea57);};