/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.1
*/

const _0x1ed4c6=_0x38f8;(function(_0x4983df,_0xc2f84a){const _0x464ddc=_0x38f8,_0xd3a3c2=_0x4983df();while(!![]){try{const _0x41698c=-parseInt(_0x464ddc(0xd6))/0x1*(parseInt(_0x464ddc(0xba))/0x2)+parseInt(_0x464ddc(0xd5))/0x3*(parseInt(_0x464ddc(0xe0))/0x4)+parseInt(_0x464ddc(0xe1))/0x5*(-parseInt(_0x464ddc(0xc6))/0x6)+parseInt(_0x464ddc(0xc4))/0x7+-parseInt(_0x464ddc(0xbc))/0x8+-parseInt(_0x464ddc(0xb2))/0x9+parseInt(_0x464ddc(0xb3))/0xa;if(_0x41698c===_0xc2f84a)break;else _0xd3a3c2['push'](_0xd3a3c2['shift']());}catch(_0x150fd5){_0xd3a3c2['push'](_0xd3a3c2['shift']());}}}(_0x1d59,0x947c4));const _0x11c74c=(function(){let _0x1fbf3d=!![];return function(_0x41554d,_0x5e3b55){const _0x196a58=_0x1fbf3d?function(){const _0x185ae8=_0x38f8;if(_0x5e3b55){const _0x3a2043=_0x5e3b55[_0x185ae8(0xef)](_0x41554d,arguments);return _0x5e3b55=null,_0x3a2043;}}:function(){};return _0x1fbf3d=![],_0x196a58;};}()),_0x575e51=_0x11c74c(this,function(){const _0x6efda1=_0x38f8;return _0x575e51['toString']()['search'](_0x6efda1(0xd9))[_0x6efda1(0xd8)]()['constructor'](_0x575e51)[_0x6efda1(0xb7)](_0x6efda1(0xd9));});function _0x38f8(_0x533bdd,_0x761342){const _0x2e2fa0=_0x1d59();return _0x38f8=function(_0x31a6c5,_0xc9538){_0x31a6c5=_0x31a6c5-0xb2;let _0x584bec=_0x2e2fa0[_0x31a6c5];return _0x584bec;},_0x38f8(_0x533bdd,_0x761342);}_0x575e51();const _0xc9538=(function(){let _0x25d580=!![];return function(_0x51fdb8,_0x40a321){const _0x61ce5=_0x25d580?function(){const _0x126304=_0x38f8;if(_0x40a321){const _0x5ecf9a=_0x40a321[_0x126304(0xef)](_0x51fdb8,arguments);return _0x40a321=null,_0x5ecf9a;}}:function(){};return _0x25d580=![],_0x61ce5;};}()),_0x31a6c5=_0xc9538(this,function(){const _0x22e0fd=_0x38f8,_0x24f80a=function(){const _0x206df4=_0x38f8;let _0x407d5d;try{_0x407d5d=Function(_0x206df4(0xdd)+_0x206df4(0xe6)+');')();}catch(_0x3e24b9){_0x407d5d=window;}return _0x407d5d;},_0x4fa286=_0x24f80a(),_0x3a491e=_0x4fa286['console']=_0x4fa286[_0x22e0fd(0xc7)]||{},_0x2e2d6d=['log',_0x22e0fd(0xc1),'info',_0x22e0fd(0xde),_0x22e0fd(0xc5),_0x22e0fd(0xd0),'trace'];for(let _0x12020a=0x0;_0x12020a<_0x2e2d6d[_0x22e0fd(0xdf)];_0x12020a++){const _0x28a8cb=_0xc9538[_0x22e0fd(0xdb)][_0x22e0fd(0xc8)]['bind'](_0xc9538),_0x32f2a4=_0x2e2d6d[_0x12020a],_0x273329=_0x3a491e[_0x32f2a4]||_0x28a8cb;_0x28a8cb[_0x22e0fd(0xb8)]=_0xc9538[_0x22e0fd(0xbf)](_0xc9538),_0x28a8cb['toString']=_0x273329[_0x22e0fd(0xd8)][_0x22e0fd(0xbf)](_0x273329),_0x3a491e[_0x32f2a4]=_0x28a8cb;}});_0x31a6c5();const selectCredentialsApiWAChat=document['getElementById'](_0x1ed4c6(0xc2)),loginPanel=document[_0x1ed4c6(0xe2)](_0x1ed4c6(0xca)),chatPanel=document[_0x1ed4c6(0xe2)](_0x1ed4c6(0xec)),qrImg=document['getElementById'](_0x1ed4c6(0xf0)),overlay=document['getElementById'](_0x1ed4c6(0xed));let qrTimeout;const validSeconds=0x14;function showLogin(){const _0x744e5b=_0x1ed4c6;loginPanel[_0x744e5b(0xea)]['display']=_0x744e5b(0xb6),chatPanel['style']['visibility']=_0x744e5b(0xb5);}function showChat(){const _0x853137=_0x1ed4c6;loginPanel[_0x853137(0xea)]['display']=_0x853137(0xbd),chatPanel[_0x853137(0xea)][_0x853137(0xbb)]='visible';}function displayQR(_0xfecd08){const _0x8da5f9=_0x1ed4c6,_0x1148d8=selectCredentialsApiWAChat['value'],_0x1887aa=getCredentialsApiWAChat(_0x1148d8);if(_0x1887aa){const _0x5c2ab2=_0x1887aa[_0x8da5f9(0xd4)],_0x3c9386=_0x1887aa['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay[_0x8da5f9(0xea)][_0x8da5f9(0xb9)]=_0x8da5f9(0xbd),qrImg[_0x8da5f9(0xce)]=_0xfecd08,qrTimeout=setTimeout(()=>{const _0x1f6d8c=_0x8da5f9;fetch(_0x1f6d8c(0xe3)+_0x5c2ab2+_0x1f6d8c(0xcc)+_0x3c9386+_0x1f6d8c(0xc3),{'headers':{'x-auth-token':myCompany['setAuthToken']}})['then'](_0x5b7a9a=>_0x5b7a9a[_0x1f6d8c(0xe4)]())[_0x1f6d8c(0xbe)](_0x50d6de=>{const _0x5e9538=_0x1f6d8c;_0x50d6de[_0x5e9538(0xe8)]&&_0x50d6de[_0x5e9538(0xe8)][_0x5e9538(0xd2)]()['includes'](_0x5e9538(0xda))?showChat():overlay[_0x5e9538(0xea)][_0x5e9538(0xb9)]=_0x5e9538(0xb6);})[_0x1f6d8c(0xe9)](_0x327882=>{const _0x12565f=_0x1f6d8c;console[_0x12565f(0xde)](_0x12565f(0xc9),_0x327882),overlay['style'][_0x12565f(0xb9)]=_0x12565f(0xb6);});},validSeconds*0x3e8);}else ntfShow(_0x8da5f9(0xdc));}function _0x1d59(){const _0x2d487b=['then','bind','change','warn','setCredentialsApiWAChat','/qr','389207XTkjTA','exception','91938RuQAVm','console','prototype','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','loginPanel','onload','/wa/','value','src','addEventListener','table','./img/apiPOS.png','toLowerCase','dispatchEvent','setCredentialsApiWAChatSubdomain','549258ODPGWS','769ifZdye','click','toString','(((.+)+)+)+$','ya\x20conectado','constructor','Credenciales\x20no\x20encontradas','return\x20(function()\x20','error','length','20gCLwfx','320EZWzUR','getElementById','https://','json','setBranchDefault','{}.constructor(\x22return\x20this\x22)(\x20)','setAuthToken','status','catch','style','setFloorId','chatPanel','qr-overlay','includes','apply','qr-img','9602109JJuAGK','23668440xryshR','.btn-logout','hidden','flex','search','__proto__','display','58ioaOAu','visibility','5278440RUDLep','none'];_0x1d59=function(){return _0x2d487b;};return _0x1d59();}function init(){const _0x3043a8=_0x1ed4c6,_0x34a790=selectCredentialsApiWAChat[_0x3043a8(0xcd)],_0x1f4b64=getCredentialsApiWAChat(_0x34a790);if(_0x1f4b64){const _0x3ff00c=_0x1f4b64[_0x3043a8(0xd4)],_0x41ec98=_0x1f4b64['setCredentialsApiWAChatPort'];fetch(_0x3043a8(0xe3)+_0x3ff00c+_0x3043a8(0xcc)+_0x41ec98+_0x3043a8(0xc3),{'headers':{'x-auth-token':myCompany[_0x3043a8(0xe7)]}})[_0x3043a8(0xbe)](_0x1b4b23=>_0x1b4b23[_0x3043a8(0xe4)]())['then'](_0x485925=>{const _0x2cf51f=_0x3043a8;if(_0x485925[_0x2cf51f(0xe8)]&&_0x485925[_0x2cf51f(0xe8)][_0x2cf51f(0xd2)]()[_0x2cf51f(0xee)](_0x2cf51f(0xda)))showChat();else _0x485925['qr']&&(showLogin(),displayQR(_0x485925['qr']));})['catch'](console[_0x3043a8(0xde)]);}else ntfShow(_0x3043a8(0xdc));}overlay[_0x1ed4c6(0xcf)](_0x1ed4c6(0xd7),init),window[_0x1ed4c6(0xcb)]=function(){const _0x2a2748=_0x1ed4c6,_0x2dcdb3=0x4;loadLoginContent(_0x2a2748(0xd1)),setUserNameGet(),setEventBtnAccess();const _0x43b8d3=document['querySelector'](_0x2a2748(0xb4));_0x43b8d3&&_0x43b8d3[_0x2a2748(0xcf)]('click',function(){logoutReload(0x0,_0x2dcdb3);}),document[_0x2a2748(0xe2)]('setBranchId')[_0x2a2748(0xcf)]('change',async function(){const _0x395803=_0x2a2748,_0x26e983=parseInt(this[_0x395803(0xcd)]);myCompany[_0x395803(0xe5)]=_0x26e983,saveCredentialsApiWAChatInCompany();const _0x27052e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x27052e),cargarAlmacenes(_0x26e983),setTimeout(()=>{const _0x37cd7f=_0x395803;document['getElementById']('setWarehouseId')[_0x37cd7f(0xd3)](new Event('change'));},0x64),cargarPisos(_0x26e983),setTimeout(()=>{const _0x5878f1=_0x395803;document[_0x5878f1(0xe2)](_0x5878f1(0xeb))[_0x5878f1(0xd3)](new Event(_0x5878f1(0xc0)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2dcdb3);};