/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.2
*/

function _0x4fd9(_0x2ac5aa,_0x38baf1){const _0x166b3a=_0x3e49();return _0x4fd9=function(_0x5a34be,_0x4a1370){_0x5a34be=_0x5a34be-0x11e;let _0x3c8bbe=_0x166b3a[_0x5a34be];return _0x3c8bbe;},_0x4fd9(_0x2ac5aa,_0x38baf1);}const _0x5f27ea=_0x4fd9;(function(_0x7316a5,_0x48b986){const _0x40fb4c=_0x4fd9,_0x409cf5=_0x7316a5();while(!![]){try{const _0x1e3f77=-parseInt(_0x40fb4c(0x15c))/0x1+parseInt(_0x40fb4c(0x11f))/0x2+parseInt(_0x40fb4c(0x12b))/0x3+parseInt(_0x40fb4c(0x149))/0x4+-parseInt(_0x40fb4c(0x14e))/0x5+parseInt(_0x40fb4c(0x11e))/0x6+-parseInt(_0x40fb4c(0x135))/0x7;if(_0x1e3f77===_0x48b986)break;else _0x409cf5['push'](_0x409cf5['shift']());}catch(_0x281f6d){_0x409cf5['push'](_0x409cf5['shift']());}}}(_0x3e49,0x9525a));const selectCredentialsApiWAChat=document[_0x5f27ea(0x152)]('setCredentialsApiWAChat'),loginPanel=document['getElementById']('loginPanel'),chatPanel=document[_0x5f27ea(0x152)](_0x5f27ea(0x132)),qrImg=document[_0x5f27ea(0x152)](_0x5f27ea(0x121)),overlay=document[_0x5f27ea(0x152)](_0x5f27ea(0x13c));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x49f00e=_0x5f27ea;loginPanel[_0x49f00e(0x153)][_0x49f00e(0x12c)]=_0x49f00e(0x13a),chatPanel[_0x49f00e(0x153)]['visibility']=_0x49f00e(0x148);}function _0x3e49(){const _0x3006f5=['setBranchId','setCredentialsApiWAChatPort','setCredentialsApiWAChatStatus','none','1759563QHOCaA','display','visible','setBranchDefault','WarehouseChangeComplete','toLowerCase','setAuthToken','chatPanel','error','click','7499359opoNNT','https://','bind','visibility','setFloorId','flex','/qr','qr-overlay','includes','init','__proto__','value','./img/apiPOS.png','(((.+)+)+)+$','onload','querySelector','setCredentialsApiWAChatSubdomain','info','warn','hidden','4712144EHsttm','Credenciales\x20no\x20encontradas','EnvironmentChangeComplete','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','setWarehouseId','3697555sgiIwX','ya\x20conectado','addEventListener','status','getElementById','style','{}.constructor(\x22return\x20this\x22)(\x20)','constructor','log','src','apply','.btn-logout','dispatchEvent','toString','771533vnVOyO','1767408GJhNNG','2268324UXbCgP','return\x20(function()\x20','qr-img','exception','length','trace','change','console'];_0x3e49=function(){return _0x3006f5;};return _0x3e49();}function showChat(){const _0x5bd78d=_0x5f27ea;loginPanel[_0x5bd78d(0x153)][_0x5bd78d(0x12c)]=_0x5bd78d(0x12a),chatPanel['style'][_0x5bd78d(0x138)]=_0x5bd78d(0x12d);}async function initQRApiWAChat(_0x2c1fd7,_0x390a63){const _0x307dde=_0x5f27ea,_0x32fa68=(function(){let _0x27689d=!![];return function(_0x26fbbb,_0x347171){const _0x9c1a9f=_0x27689d?function(){const _0x5c60e1=_0x4fd9;if(_0x347171){const _0x5a6f19=_0x347171[_0x5c60e1(0x158)](_0x26fbbb,arguments);return _0x347171=null,_0x5a6f19;}}:function(){};return _0x27689d=![],_0x9c1a9f;};}()),_0x24a7d2=_0x32fa68(this,function(){const _0x2ac789=_0x4fd9;return _0x24a7d2['toString']()['search'](_0x2ac789(0x142))[_0x2ac789(0x15b)]()['constructor'](_0x24a7d2)['search']('(((.+)+)+)+$');});_0x24a7d2();const _0x158298=(function(){let _0x25b7c2=!![];return function(_0x3fb177,_0x5ecdc9){const _0x5dfad8=_0x25b7c2?function(){if(_0x5ecdc9){const _0x54dc3c=_0x5ecdc9['apply'](_0x3fb177,arguments);return _0x5ecdc9=null,_0x54dc3c;}}:function(){};return _0x25b7c2=![],_0x5dfad8;};}()),_0x3b31ce=_0x158298(this,function(){const _0x4e7ca4=_0x4fd9,_0x2b0a42=function(){const _0x4850c1=_0x4fd9;let _0x506873;try{_0x506873=Function(_0x4850c1(0x120)+_0x4850c1(0x154)+');')();}catch(_0x587432){_0x506873=window;}return _0x506873;},_0x19d524=_0x2b0a42(),_0x43bd18=_0x19d524[_0x4e7ca4(0x126)]=_0x19d524['console']||{},_0xf0a4b5=[_0x4e7ca4(0x156),_0x4e7ca4(0x147),_0x4e7ca4(0x146),_0x4e7ca4(0x133),_0x4e7ca4(0x122),'table',_0x4e7ca4(0x124)];for(let _0x3aa0b0=0x0;_0x3aa0b0<_0xf0a4b5[_0x4e7ca4(0x123)];_0x3aa0b0++){const _0x15fcd1=_0x158298[_0x4e7ca4(0x155)]['prototype']['bind'](_0x158298),_0x4b57e9=_0xf0a4b5[_0x3aa0b0],_0x258d69=_0x43bd18[_0x4b57e9]||_0x15fcd1;_0x15fcd1[_0x4e7ca4(0x13f)]=_0x158298[_0x4e7ca4(0x137)](_0x158298),_0x15fcd1['toString']=_0x258d69['toString'][_0x4e7ca4(0x137)](_0x258d69),_0x43bd18[_0x4b57e9]=_0x15fcd1;}});_0x3b31ce();const _0x473f35=selectCredentialsApiWAChat[_0x307dde(0x140)],_0x46f3fb=getCredentialsApiWAChat(_0x473f35);if(!_0x46f3fb){ntfShow(_0x307dde(0x14a));return;}const _0x160291=_0x46f3fb[_0x307dde(0x145)],_0x532515=_0x46f3fb[_0x307dde(0x128)];if(_0x2c1fd7===_0x307dde(0x12c))clearTimeout(qrTimeout),overlay[_0x307dde(0x153)][_0x307dde(0x12c)]=_0x307dde(0x12a),qrImg[_0x307dde(0x157)]=_0x390a63,qrTimeout=setTimeout(async()=>{const _0x1c517b=_0x307dde;try{const _0x48fbcf=await fetch('https://'+_0x160291+'/wa/'+_0x532515+'/qr',{'headers':{'x-auth-token':myCompany[_0x1c517b(0x131)]}}),_0x2fe234=await _0x48fbcf['json']();_0x2fe234[_0x1c517b(0x151)]&&_0x2fe234['status'][_0x1c517b(0x130)]()[_0x1c517b(0x13d)](_0x1c517b(0x14f))?(showChat(),_0x46f3fb['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x1c517b(0x153)][_0x1c517b(0x12c)]=_0x1c517b(0x13a),_0x46f3fb['setCredentialsApiWAChatStatus']=0x0);const _0x17a53f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x17a53f);}catch(_0x662413){console[_0x1c517b(0x133)](_0x1c517b(0x14c),_0x662413),overlay[_0x1c517b(0x153)][_0x1c517b(0x12c)]=_0x1c517b(0x13a);}},validSeconds*0x3e8);else{if(_0x2c1fd7==='init')try{const _0x238de5=await fetch(_0x307dde(0x136)+_0x160291+'/wa/'+_0x532515+_0x307dde(0x13b),{'headers':{'x-auth-token':myCompany[_0x307dde(0x131)]}}),_0x4ccfb8=await _0x238de5['json']();if(_0x4ccfb8[_0x307dde(0x151)]&&_0x4ccfb8[_0x307dde(0x151)]['toLowerCase']()['includes']('ya\x20conectado'))showChat(),_0x46f3fb[_0x307dde(0x129)]=0x1;else _0x4ccfb8['qr']&&(showLogin(),await initQRApiWAChat('display',_0x4ccfb8['qr']),_0x46f3fb[_0x307dde(0x129)]=0x0);const _0x377fa7=await createCartStore('');await saveCompanyToIndexedDB(company,_0x377fa7);}catch(_0x683a55){console[_0x307dde(0x133)](_0x683a55);}}}overlay[_0x5f27ea(0x150)](_0x5f27ea(0x134),()=>initQRApiWAChat(_0x5f27ea(0x13e))),window[_0x5f27ea(0x143)]=function(){const _0x34bc3c=_0x5f27ea,_0x10dce8=0x4;loadLoginContent(_0x34bc3c(0x141)),setUserNameGet(),setEventBtnAccess();const _0x448f36=document[_0x34bc3c(0x144)](_0x34bc3c(0x159));_0x448f36&&_0x448f36[_0x34bc3c(0x150)]('click',function(){logoutReload(0x0,_0x10dce8);}),document[_0x34bc3c(0x152)](_0x34bc3c(0x127))[_0x34bc3c(0x150)](_0x34bc3c(0x125),async function(){const _0x134696=_0x34bc3c,_0x4ac595=parseInt(this[_0x134696(0x140)]);myCompany[_0x134696(0x12e)]=_0x4ac595,saveCredentialsApiWAChatInCompany();const _0x11878e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x11878e),await cargarPisos(_0x4ac595),await waitForEvent(_0x134696(0x139),_0x134696(0x14b)),await cargarAlmacenes(_0x4ac595),await waitForEvent('setWarehouseId',_0x134696(0x12f)),document['dispatchEvent'](new Event('BranchChangeComplete')),ntf_initNotifications();}),document['getElementById'](_0x34bc3c(0x14d))['addEventListener'](_0x34bc3c(0x125),async function(){const _0x42cc35=_0x34bc3c;document[_0x42cc35(0x15a)](new Event(_0x42cc35(0x12f)));}),document[_0x34bc3c(0x152)]('setFloorId')[_0x34bc3c(0x150)]('change',async function(_0x5bc864){const _0x4a66bc=_0x34bc3c;document[_0x4a66bc(0x15a)](new Event(_0x4a66bc(0x14b)));}),loadCartAndSetTabCount(_0x10dce8);};