/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.6
*/

const _0x5b1655=_0x1276;(function(_0x451e7b,_0x52256a){const _0x2a7dd5=_0x1276,_0x20a95a=_0x451e7b();while(!![]){try{const _0x4c5f06=parseInt(_0x2a7dd5(0x188))/0x1*(-parseInt(_0x2a7dd5(0x16a))/0x2)+parseInt(_0x2a7dd5(0xe5))/0x3+parseInt(_0x2a7dd5(0x17f))/0x4+-parseInt(_0x2a7dd5(0x1d6))/0x5+-parseInt(_0x2a7dd5(0x16b))/0x6+-parseInt(_0x2a7dd5(0x117))/0x7+-parseInt(_0x2a7dd5(0x138))/0x8*(-parseInt(_0x2a7dd5(0x144))/0x9);if(_0x4c5f06===_0x52256a)break;else _0x20a95a['push'](_0x20a95a['shift']());}catch(_0x2ef907){_0x20a95a['push'](_0x20a95a['shift']());}}}(_0x2636,0x55777));const _0x89c2ae=(function(){let _0x2e0af7=!![];return function(_0x41a56a,_0x896adb){const _0x473221=_0x2e0af7?function(){if(_0x896adb){const _0x4d25ea=_0x896adb['apply'](_0x41a56a,arguments);return _0x896adb=null,_0x4d25ea;}}:function(){};return _0x2e0af7=![],_0x473221;};}()),_0x268138=_0x89c2ae(this,function(){const _0x2ab6b4=_0x1276;return _0x268138['toString']()['search'](_0x2ab6b4(0xa7))[_0x2ab6b4(0x1ce)]()[_0x2ab6b4(0x222)](_0x268138)['search'](_0x2ab6b4(0xa7));});_0x268138();const _0xc688f6=(function(){let _0x1bb5ac=!![];return function(_0xc7ee78,_0x59a403){const _0x14a0be=_0x1bb5ac?function(){if(_0x59a403){const _0x57867a=_0x59a403['apply'](_0xc7ee78,arguments);return _0x59a403=null,_0x57867a;}}:function(){};return _0x1bb5ac=![],_0x14a0be;};}()),_0x396adb=_0xc688f6(this,function(){const _0x50e07d=_0x1276,_0x4b02cc=function(){const _0x1ce2f5=_0x1276;let _0x32cd36;try{_0x32cd36=Function(_0x1ce2f5(0x1bc)+_0x1ce2f5(0x101)+');')();}catch(_0x337fd8){_0x32cd36=window;}return _0x32cd36;},_0x13c9d9=_0x4b02cc(),_0x4f26c0=_0x13c9d9[_0x50e07d(0x1b8)]=_0x13c9d9[_0x50e07d(0x1b8)]||{},_0x2ec302=[_0x50e07d(0x18d),_0x50e07d(0x205),'info',_0x50e07d(0x154),_0x50e07d(0x178),_0x50e07d(0x82),_0x50e07d(0x149)];for(let _0x3b383e=0x0;_0x3b383e<_0x2ec302['length'];_0x3b383e++){const _0x4c7d9a=_0xc688f6[_0x50e07d(0x222)][_0x50e07d(0x1c8)][_0x50e07d(0x86)](_0xc688f6),_0x2c2545=_0x2ec302[_0x3b383e],_0x1924d8=_0x4f26c0[_0x2c2545]||_0x4c7d9a;_0x4c7d9a[_0x50e07d(0xec)]=_0xc688f6[_0x50e07d(0x86)](_0xc688f6),_0x4c7d9a[_0x50e07d(0x1ce)]=_0x1924d8[_0x50e07d(0x1ce)][_0x50e07d(0x86)](_0x1924d8),_0x4f26c0[_0x2c2545]=_0x4c7d9a;}});_0x396adb();let myCompany,db=null,dbPromise=null,db_name=_0x5b1655(0x1a4),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero',_0x5b1655(0x225),'marzo',_0x5b1655(0x14f),_0x5b1655(0x1a3),_0x5b1655(0x123),'julio',_0x5b1655(0x1c5),_0x5b1655(0x143),_0x5b1655(0x108),'noviembre',_0x5b1655(0x1e2)],gdfg5g=_0x5b1655(0x11e),x45fgd='x3',xjehd78=_0x5b1655(0x94),cxkdj4=_0x5b1655(0x208),x87s8d=_0x5b1655(0x1af),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x5b1655(0xfd),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x5b1655(0xb3),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x5b1655(0xe3),xg123f=_0x5b1655(0x169),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x5b1655(0x1a6),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x5b1655(0x20e),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x5b1655(0xae),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x5b1655(0x8a),x78xh='r',px32b='o',x64x44x54=_0x5b1655(0x141),x64x32x33='64x32xsystem',kkx12='s',ak47r='rgf4x32',d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x5b1655(0x1ca),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x5b1655(0xe7),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10','S01',_0x5b1655(0x15d),_0x5b1655(0x9f),_0x5b1655(0x1a1),'ar21',_0x5b1655(0x17a),_0x5b1655(0xa2),_0x5b1655(0x13f),_0x5b1655(0x15c),_0x5b1655(0x91),_0x5b1655(0x1ac)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos['concat'](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x5b1655(0x1fe),'MX20',_0x5b1655(0xe9),_0x5b1655(0x131),'CO0',_0x5b1655(0x195)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x5b1655(0x1ba)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x5b1655(0x1ba)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x38d025){const _0x58b40e=_0x5b1655,_0x22e044=new URLSearchParams(window[_0x58b40e(0x1c3)]['search']);return _0x22e044[_0x58b40e(0x1e6)](_0x38d025);}function setUserNameGet(){const _0x3fa868=_0x5b1655,_0x154af2=getQueryParam('username'),_0x2d2cd8=document[_0x3fa868(0xf1)](_0x3fa868(0x227));_0x154af2&&_0x2d2cd8&&(_0x2d2cd8[_0x3fa868(0xa6)]=_0x154af2);}function generateUniqId(){const _0x1619b0=_0x5b1655;return Date[_0x1619b0(0x1fd)]()+'_'+Math[_0x1619b0(0x121)]()[_0x1619b0(0x1ce)](0x24)[_0x1619b0(0x95)](0x2,0x9);}function generateNumericUniqId(){const _0x53812e=_0x5b1655,_0x28dbe1=Date[_0x53812e(0x1fd)]()*0x3e8,_0x586fa1=Math[_0x53812e(0xd7)](Math[_0x53812e(0x121)]()*0x3e8);return _0x28dbe1+_0x586fa1;}function blobAStringBase64(_0x595cbb){return new Promise((_0x47355f,_0x2db144)=>{const _0xbb04ba=_0x1276,_0xa67835=new FileReader();_0xa67835[_0xbb04ba(0x173)]=()=>{const _0x30da14=_0xbb04ba,_0x3dad2a=_0xa67835[_0x30da14(0x1c2)],_0x5b9fbb=_0x3dad2a[_0x30da14(0xef)](',');if(_0x5b9fbb[_0x30da14(0x1bf)]!==0x2)return _0x2db144(new Error(_0x30da14(0x168)));_0x47355f(_0x5b9fbb[0x1]);},_0xa67835[_0xbb04ba(0xc4)]=_0x5641d4=>_0x2db144(_0x5641d4),_0xa67835[_0xbb04ba(0x212)](_0x595cbb);});}async function sendEmail(_0x5d6029,_0x466a07,_0x3ec781,_0x474ad4,_0x593f0e,_0x293926,_0x6f9589,_0x3e3455,_0x5c4123,_0x2450c4){const _0x3d14b9=_0x5b1655;if(isOnline()){const _0x5ae2e2={'setAuthToken':_0x5d6029,'senderName':_0x466a07,'senderEmail':_0x3ec781,'senderPassword':_0x474ad4,'smtpHost':_0x593f0e,'smtpPort':_0x293926,'emailsDestination':_0x6f9589,'subject':_0x3e3455,'message':_0x5c4123,'attachFiles':_0x2450c4};try{const _0x30a544=await fetch(_0x3d14b9(0x114),{'method':_0x3d14b9(0x126),'headers':{'Content-Type':_0x3d14b9(0x1ea)},'body':JSON['stringify'](_0x5ae2e2)}),_0x1bf585=await _0x30a544[_0x3d14b9(0x14d)]();if(!_0x30a544['ok']||!_0x1bf585['success']){console['error'](_0x3d14b9(0xee),_0x1bf585),ntfShow(_0x3d14b9(0x1a8));return;}ntfShow(_0x3d14b9(0xa1));}catch(_0x4bad58){console[_0x3d14b9(0x154)](_0x3d14b9(0x218),_0x4bad58),ntfShow(_0x3d14b9(0x167));}}}function loadLoginContent(_0x3620ff){const _0x2c4383=_0x5b1655,_0x12737b=document[_0x2c4383(0xf1)](_0x2c4383(0x20a));_0x12737b[_0x2c4383(0x9a)]='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x3620ff+_0x2c4383(0x1bd);}function addNumber(_0x24cb3c){const _0x271e9e=_0x5b1655;document[_0x271e9e(0xf1)](_0x271e9e(0x1b2))[_0x271e9e(0xa6)]+=_0x24cb3c;}function deleteNumber(){const _0x1529eb=_0x5b1655;let _0x21a58a=document[_0x1529eb(0xf1)](_0x1529eb(0x1b2));_0x21a58a[_0x1529eb(0xa6)]=_0x21a58a[_0x1529eb(0xa6)][_0x1529eb(0xc0)](0x0,-0x1);}function togglePassword(){const _0x3831af=_0x5b1655;let _0x531c7b=document[_0x3831af(0xf1)](_0x3831af(0x1b2));_0x531c7b[_0x3831af(0x106)]=_0x531c7b[_0x3831af(0x106)]=='password'?_0x3831af(0x164):'password';}function setEventBtnAccess(){const _0x321b52=_0x5b1655,_0x7c7940=document[_0x321b52(0xf1)](_0x321b52(0x182));_0x7c7940['onclick']=function(){acceder();};}function _0x1276(_0x1f1b7f,_0x30b48f){const _0x1f19a6=_0x2636();return _0x1276=function(_0x396adb,_0xc688f6){_0x396adb=_0x396adb-0x82;let _0x3579ef=_0x1f19a6[_0x396adb];return _0x3579ef;},_0x1276(_0x1f1b7f,_0x30b48f);}function isOnline(){const _0x278e3f=_0x5b1655;return window['navigator'][_0x278e3f(0x12e)];}function showLoadingModal(){const _0x222174=_0x5b1655,_0x50316c=document[_0x222174(0x1da)]('div');_0x50316c['id']=_0x222174(0x1de),_0x50316c[_0x222174(0xf5)]['position']=_0x222174(0x14b),_0x50316c[_0x222174(0xf5)][_0x222174(0x226)]='0',_0x50316c[_0x222174(0xf5)][_0x222174(0x9e)]='0',_0x50316c['style']['width']='100%',_0x50316c['style'][_0x222174(0x1be)]=_0x222174(0x192),_0x50316c['style']['backgroundColor']='rgba(0,\x200,\x200,\x200.5)',_0x50316c[_0x222174(0xf5)][_0x222174(0x19c)]=_0x222174(0x13a),_0x50316c[_0x222174(0xf5)][_0x222174(0x119)]=_0x222174(0x15f),_0x50316c[_0x222174(0xf5)][_0x222174(0x129)]='center',_0x50316c[_0x222174(0xf5)]['zIndex']=_0x222174(0x153),_0x50316c[_0x222174(0xf5)][_0x222174(0x14c)]='1',_0x50316c[_0x222174(0xf5)][_0x222174(0x13b)]=_0x222174(0x84),_0x50316c[_0x222174(0x9a)]=_0x222174(0x85),document[_0x222174(0x90)][_0x222174(0xd8)](_0x50316c);}function hideLoadingModal(){const _0x534cab=_0x5b1655,_0x5425ba=document[_0x534cab(0xf1)](_0x534cab(0x1de));_0x5425ba&&(_0x5425ba[_0x534cab(0xf5)]['opacity']='0',_0x5425ba[_0x534cab(0x1f7)]());}function cargarAlmacenes(_0x1f5fba){const _0x3f49a2=_0x5b1655,_0x21fdc2=document[_0x3f49a2(0xf1)](_0x3f49a2(0x1d9));_0x21fdc2[_0x3f49a2(0x9a)]='';const _0x37eb56=company[0x0][_0x3f49a2(0x155)]['find'](_0x3a0bfa=>_0x3a0bfa[_0x3f49a2(0x128)]==_0x1f5fba);_0x37eb56&&_0x37eb56[_0x3f49a2(0xc5)][_0x3f49a2(0x1bf)]>0x0&&_0x37eb56['setWarehouses'][_0x3f49a2(0x157)](_0x2ddb63=>{const _0x43ab9c=_0x3f49a2;let _0xd51b22=document[_0x43ab9c(0x1da)](_0x43ab9c(0x132));_0xd51b22[_0x43ab9c(0xa6)]=_0x2ddb63['setWarehouseId'],_0xd51b22[_0x43ab9c(0x97)]=_0x2ddb63[_0x43ab9c(0x92)],_0x21fdc2[_0x43ab9c(0xd8)](_0xd51b22);});}function getAllWarehouses(){const _0x36828f=_0x5b1655,_0x5b661a=company[0x0][_0x36828f(0x155)]||[],_0x2dd9f4=new Map();return _0x5b661a[_0x36828f(0x157)](_0x20d11c=>{const _0x3c24ae=_0x36828f;(_0x20d11c[_0x3c24ae(0xc5)]||[])['forEach'](_0x18c1f2=>{const _0x5158ab=_0x3c24ae;!_0x2dd9f4[_0x5158ab(0x20b)](_0x18c1f2[_0x5158ab(0x1d9)])&&_0x2dd9f4[_0x5158ab(0x1d7)](_0x18c1f2[_0x5158ab(0x1d9)],{'setWarehouseId':_0x18c1f2[_0x5158ab(0x1d9)],'setWarehouseName':_0x18c1f2['setWarehouseName']+'\x20('+_0x20d11c['setBranchName']+')'});});}),Array[_0x36828f(0x100)](_0x2dd9f4['values']());}function cargarPisos(_0x3b712f){const _0x1efb70=_0x5b1655,_0x372de9=company[0x0][_0x1efb70(0x203)][_0x1efb70(0x15a)](_0x40195b=>_0x40195b[_0x1efb70(0x128)]==_0x3b712f),_0x50e976={};_0x372de9['forEach'](_0x1d53eb=>{const _0x2e80f9=_0x1efb70;_0x50e976[_0x1d53eb[_0x2e80f9(0x12c)]]=_0x1d53eb[_0x2e80f9(0x215)];});const _0x43e39e=document[_0x1efb70(0xf1)]('setFloorId');_0x43e39e[_0x1efb70(0x9a)]='';for(const _0x58f9e4 in _0x50e976){const _0x1ad764=document[_0x1efb70(0x1da)]('option');_0x1ad764['value']=_0x58f9e4,_0x1ad764[_0x1efb70(0x97)]=_0x50e976[_0x58f9e4],_0x43e39e[_0x1efb70(0xd8)](_0x1ad764);}}document[_0x5b1655(0xf1)](_0x5b1655(0x165))[_0x5b1655(0x1b3)](_0x5b1655(0x142),()=>{const _0x5375bd=_0x5b1655,_0x3b314c=document[_0x5375bd(0x201)],_0x2bdef9=document[_0x5375bd(0xf3)]||document[_0x5375bd(0x181)]||document[_0x5375bd(0x1d1)]||document[_0x5375bd(0x1ef)];if(!_0x2bdef9){if(_0x3b314c['requestFullscreen'])_0x3b314c[_0x5375bd(0x1fb)]();else{if(_0x3b314c[_0x5375bd(0x1e5)])_0x3b314c[_0x5375bd(0x1e5)]();else{if(_0x3b314c[_0x5375bd(0x133)])_0x3b314c['mozRequestFullScreen']();else _0x3b314c['msRequestFullscreen']&&_0x3b314c[_0x5375bd(0x112)]();}}}else{if(document[_0x5375bd(0x9b)])document[_0x5375bd(0x9b)]();else{if(document[_0x5375bd(0x20f)])document[_0x5375bd(0x20f)]();else{if(document[_0x5375bd(0x88)])document[_0x5375bd(0x88)]();else document[_0x5375bd(0x1f5)]&&document[_0x5375bd(0x1f5)]();}}}});function ntf_formatDateDMY(_0x2e9861){const _0x5ce687=_0x5b1655;var _0x5b3162=new Date(_0x2e9861),_0x39aff5=_0x5b3162[_0x5ce687(0x1f1)](),_0x96d5ec=_0x5b3162['getFullYear'](),_0x597714=monthsEspanish[_0x5b3162['getMonth']()];return _0x39aff5+'\x20de\x20'+_0x597714+_0x5ce687(0x17d)+_0x96d5ec;}function ntf_groupBy(_0x30159a,_0x19bfa9){const _0x2927fa=_0x5b1655;return _0x30159a[_0x2927fa(0x1f8)](function(_0x3e287a,_0xa83bc6){var _0xd1d248=_0xa83bc6[_0x19bfa9];return _0x3e287a[_0xd1d248]=_0x3e287a[_0xd1d248]||[],_0x3e287a[_0xd1d248]['push'](_0xa83bc6),_0x3e287a;},{});}function ntf_isExpired(_0xdc1595){if(!_0xdc1595)return![];var _0xa041a1=new Date();return _0xa041a1['setHours'](0x0,0x0,0x0,0x0),new Date(_0xdc1595)<=_0xa041a1;}function ntf_getNotifications(){const _0x3148a7=_0x5b1655;var _0x4e7a20=parseInt(document['getElementById'](_0x3148a7(0x1d9))[_0x3148a7(0xa6)],0xa),_0x4954ba=ntf_groupBy(products,_0x3148a7(0x1cc)),_0x2afa36=[];return Object['keys'](_0x4954ba)[_0x3148a7(0x157)](function(_0x2318a9){const _0x5b278d=_0x3148a7;var _0x5e1742=_0x4954ba[_0x2318a9],_0x134ec5=_0x5e1742[0x0],_0x1911c5=(_0x134ec5[_0x5b278d(0x1dc)]||[])[_0x5b278d(0xe1)](function(_0x598755){const _0x12459e=_0x5b278d;return _0x598755[_0x12459e(0x14a)]==_0x4e7a20;});if(!_0x1911c5)return;var _0x36764f=parseFloat(_0x1911c5['setSucursalStock']),_0x2ce100=parseFloat(_0x1911c5[_0x5b278d(0xeb)]);_0x134ec5[_0x5b278d(0xf9)]==0x1&&_0x36764f<=_0x2ce100&&_0x2afa36[_0x5b278d(0x110)]({'type':0x1,'id_registro':_0x134ec5['id'],'title':_0x5b278d(0x1ee)+_0x134ec5['setDescripcion'],'message':_0x5b278d(0x214)+_0x134ec5[_0x5b278d(0x1d8)]+_0x5b278d(0x12f)+_0x2ce100['toFixed'](0x3)+'<br>\x0aStock\x20Actual:\x20'+_0x36764f[_0x5b278d(0x8d)](0x3)+'\x0a','data':{'producto':_0x134ec5,'stock':_0x36764f,'minStock':_0x2ce100}}),_0x134ec5[_0x5b278d(0xd9)]&&ntf_isExpired(_0x134ec5['setBatchExpirationDate'])&&_0x2afa36[_0x5b278d(0x110)]({'type':0x2,'id_registro':_0x134ec5['id'],'title':_0x5b278d(0x197)+_0x134ec5[_0x5b278d(0x1d8)],'message':'El\x20producto\x20\x22'+_0x134ec5[_0x5b278d(0x1d8)]+_0x5b278d(0x228)+ntf_formatDateDMY(_0x134ec5['setBatchExpirationDate'])+'.<br>'+_0x5b278d(0x130)+_0x36764f['toFixed'](0x3),'data':{'producto':_0x134ec5,'expiration':_0x134ec5[_0x5b278d(0xd9)]}});}),_0x2afa36;}function ntf_renderNotifications(){const _0x1ecc97=_0x5b1655;var _0x1bb39a=ntf_getNotifications(),_0x3dbd76=document[_0x1ecc97(0xf1)](_0x1ecc97(0xf6)),_0x4e8d13=document[_0x1ecc97(0xf1)](_0x1ecc97(0xe8));_0x3dbd76[_0x1ecc97(0x9a)]='',_0x4e8d13[_0x1ecc97(0x97)]=_0x1bb39a[_0x1ecc97(0x1bf)];if(_0x1bb39a['length']===0x0){var _0x351989=document[_0x1ecc97(0x1da)]('li');_0x351989['textContent']='No\x20hay\x20notificaciones',_0x3dbd76[_0x1ecc97(0xd8)](_0x351989);return;}_0x1bb39a[_0x1ecc97(0x157)](function(_0x19a4ac,_0x5718c1){const _0x571738=_0x1ecc97;var _0x3c054c=document[_0x571738(0x1da)]('li');_0x3c054c[_0x571738(0x97)]=_0x19a4ac[_0x571738(0x1d5)],_0x3c054c[_0x571738(0x171)](_0x571738(0x1ec),_0x5718c1),_0x3dbd76['appendChild'](_0x3c054c);});}function ntf_openModal(_0x551efb){const _0x13af2a=_0x5b1655;var _0x4d5249=document['getElementById'](_0x13af2a(0x216)),_0x13ec15=document[_0x13af2a(0xf1)](_0x13af2a(0x187)),_0x1937fb=document[_0x13af2a(0xf1)](_0x13af2a(0x1e9));_0x4d5249['innerHTML']=_0x13af2a(0x210)+_0x551efb['title']+_0x13af2a(0xa8)+_0x551efb[_0x13af2a(0x109)]+_0x13af2a(0x166),_0x13ec15[_0x13af2a(0x9a)]='';if(_0x551efb[_0x13af2a(0x106)]===0x1)[_0x13af2a(0xb4),'Registrar\x20movimiento',_0x13af2a(0xe6)][_0x13af2a(0x157)](function(_0x38a1e3){const _0x591079=_0x13af2a;var _0x3746ee=document[_0x591079(0x1da)](_0x591079(0x21c));_0x3746ee[_0x591079(0x97)]=_0x38a1e3,_0x3746ee['addEventListener'](_0x591079(0x142),function(){const _0x1faac3=_0x591079;console[_0x1faac3(0x18d)]('Acción\x20\x22'+_0x38a1e3+_0x1faac3(0x1a0)+_0x551efb[_0x1faac3(0xd5)]);}),_0x13ec15['appendChild'](_0x3746ee);});else _0x551efb[_0x13af2a(0x106)]===0x2&&[_0x13af2a(0x1f6),_0x13af2a(0x1c7)][_0x13af2a(0x157)](function(_0x1c7c2d){const _0x436be8=_0x13af2a;var _0x1772eb=document['createElement'](_0x436be8(0x21c));_0x1772eb['textContent']=_0x1c7c2d,_0x1772eb[_0x436be8(0x1b3)](_0x436be8(0x142),function(){const _0x503304=_0x436be8;console[_0x503304(0x18d)](_0x503304(0x12a)+_0x1c7c2d+_0x503304(0x1a0)+_0x551efb[_0x503304(0xd5)]);}),_0x13ec15[_0x436be8(0xd8)](_0x1772eb);});_0x1937fb['classList']['remove'](_0x13af2a(0x1e3));}function ntf_closeModal(){const _0x5f1819=_0x5b1655;document[_0x5f1819(0xf1)](_0x5f1819(0x1e9))[_0x5f1819(0x180)]['add'](_0x5f1819(0x1e3));}document[_0x5b1655(0xf1)](_0x5b1655(0x11f))['addEventListener'](_0x5b1655(0x142),function(){const _0x437d2f=_0x5b1655;document[_0x437d2f(0xf1)](_0x437d2f(0xd2))['classList'][_0x437d2f(0x17c)](_0x437d2f(0x1e3)),ntf_renderNotifications();}),document[_0x5b1655(0xf1)](_0x5b1655(0xf6))[_0x5b1655(0x1b3)](_0x5b1655(0x142),function(_0x347f5){const _0x466bfc=_0x5b1655,_0x51865a=_0x347f5[_0x466bfc(0x170)]['closest']('li');if(!_0x51865a||!_0x51865a[_0x466bfc(0xfc)]['ntfIndex'])return;const _0x4219ea=ntf_getNotifications()[_0x51865a[_0x466bfc(0xfc)][_0x466bfc(0x18f)]];document[_0x466bfc(0xf1)](_0x466bfc(0x11f))[_0x466bfc(0x142)](),ntf_openModal(_0x4219ea);}),document['getElementById'](_0x5b1655(0xb6))[_0x5b1655(0x1b3)]('click',ntf_closeModal),document['getElementById'](_0x5b1655(0x1e9))[_0x5b1655(0x1b3)](_0x5b1655(0x142),function(_0xe4e254){const _0x45c0d7=_0x5b1655;if(_0xe4e254['target']===document[_0x45c0d7(0xf1)]('ntf-notification-modal'))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0xe56d9b,_0x330365=0x3,_0x525371=0x1){const _0xe2a624=_0x5b1655,_0x3387fe=document['getElementById']('ntf-flotante-container'),_0x18bdee=document['createElement'](_0xe2a624(0x1f2));let _0x71aea8;if(_0x330365==0x1)_0x71aea8='ntf-flotante-green';else _0x330365==0x2?_0x71aea8=_0xe2a624(0xf2):_0x71aea8=_0xe2a624(0x17b);let _0x354031;_0x525371==0x1?(_0x354031=_0xe2a624(0x11b),_0x3387fe[_0xe2a624(0x180)]['add'](_0xe2a624(0x1e7)),_0x3387fe[_0xe2a624(0x180)]['remove']('ntf-flotante-container-bottom')):(_0x354031=_0xe2a624(0xc9),_0x3387fe[_0xe2a624(0x180)][_0xe2a624(0x13d)](_0xe2a624(0x152)),_0x3387fe[_0xe2a624(0x180)][_0xe2a624(0x1f7)]('ntf-flotante-container-top')),_0x18bdee[_0xe2a624(0x19f)]=_0xe2a624(0x1f0)+_0x71aea8+'\x20'+_0x354031,_0x18bdee[_0xe2a624(0x97)]=_0xe56d9b,_0x3387fe['appendChild'](_0x18bdee),_0x18bdee[_0xe2a624(0x1b3)](_0xe2a624(0x127),()=>{const _0x5af6b5=_0xe2a624;_0x18bdee[_0x5af6b5(0x1f7)]();});}function openDatabase(){const _0x4f5544=_0x5b1655;if(db)return Promise[_0x4f5544(0x1b1)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x31d3c3,_0x436ca2)=>{const _0x5260dc=_0x4f5544,_0x4e0c10=indexedDB['open'](db_name);_0x4e0c10['onupgradeneeded']=function(_0x5d2a1f){const _0x46c548=_0x1276;db=_0x5d2a1f[_0x46c548(0x170)]['result'],console['log'](_0x46c548(0x12b));},_0x4e0c10['onsuccess']=function(_0x44e6f1){const _0x27f4d9=_0x1276;db=_0x44e6f1['target'][_0x27f4d9(0x1c2)],console[_0x27f4d9(0x18d)](_0x27f4d9(0xdc)),_0x31d3c3(db),dbPromise=null;},_0x4e0c10[_0x5260dc(0xc4)]=function(_0x1b5a72){const _0x5523ab=_0x5260dc;console[_0x5523ab(0x154)](_0x5523ab(0x87),_0x1b5a72['target'][_0x5523ab(0x154)]),_0x436ca2(_0x1b5a72[_0x5523ab(0x170)]['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x3f7118,_0x12cfac=![]){const _0x2aa7c1=_0x5b1655;if(dbOperationInProgress)return Promise['reject'](_0x2aa7c1(0x140));return dbOperationInProgress=!![],openDatabase()['then'](_0x354a7a=>{const _0x1c47d3=_0x2aa7c1,_0x2c32fd=_0x1c47d3(0x1b0),_0x386a4d=_0x1c47d3(0x206),_0x3f28ba='offline_operations',_0xe73a3e=_0x1c47d3(0xaf),_0x571282=_0x3f7118?_0x1c47d3(0xbd)+_0x3f7118:null,_0x23e3aa=_0x3f7118?'window_options_'+_0x3f7118:null,_0x47b17e=_0x12cfac||!_0x354a7a[_0x1c47d3(0xaa)][_0x1c47d3(0x1b6)](_0x2c32fd)||!_0x354a7a[_0x1c47d3(0xaa)][_0x1c47d3(0x1b6)](_0x386a4d)||!_0x354a7a[_0x1c47d3(0xaa)][_0x1c47d3(0x1b6)](_0x3f28ba)||!_0x354a7a[_0x1c47d3(0xaa)][_0x1c47d3(0x1b6)](_0xe73a3e)||_0x3f7118&&(!_0x354a7a[_0x1c47d3(0xaa)][_0x1c47d3(0x1b6)](_0x571282)||!_0x354a7a[_0x1c47d3(0xaa)]['contains'](_0x23e3aa));if(!_0x47b17e)return dbOperationInProgress=![],Promise['resolve'](_0x354a7a);const _0x1e4b1d=_0x354a7a['version']+0x1;return _0x354a7a['close'](),new Promise((_0x7bb9cb,_0x4655e2)=>{const _0x1e241f=_0x1c47d3,_0x2ba81f=indexedDB[_0x1e241f(0xcb)](db_name,_0x1e4b1d);_0x2ba81f[_0x1e241f(0x1d3)]=function(_0x4465ee){const _0x31daba=_0x1e241f;db=_0x4465ee['target']['result'];if(_0x12cfac)Array['from'](db[_0x31daba(0xaa)])[_0x31daba(0x157)](_0x1976a5=>{const _0x3a8cd2=_0x31daba;_0x1976a5!==_0x3f28ba&&(db[_0x3a8cd2(0x16c)](_0x1976a5),console[_0x3a8cd2(0x18d)](_0x3a8cd2(0xb7)+_0x1976a5+_0x3a8cd2(0x146)));}),console[_0x31daba(0x18d)](_0x31daba(0x1a7));else{!db[_0x31daba(0xaa)]['contains'](_0x2c32fd)&&(db[_0x31daba(0x10f)](_0x2c32fd,{'keyPath':'id'}),console['log'](_0x31daba(0xb7)+_0x2c32fd+_0x31daba(0x10a)));!db[_0x31daba(0xaa)][_0x31daba(0x1b6)](_0x386a4d)&&(db[_0x31daba(0x10f)](_0x386a4d,{'keyPath':'id','autoIncrement':!![]}),console[_0x31daba(0x18d)](_0x31daba(0xb7)+_0x386a4d+_0x31daba(0x10a)));!db[_0x31daba(0xaa)][_0x31daba(0x1b6)](_0x3f28ba)&&(db[_0x31daba(0x10f)](_0x3f28ba,{'keyPath':'id','autoIncrement':!![]}),console[_0x31daba(0x18d)]('ObjectStore\x20\x27'+_0x3f28ba+'\x27\x20creado\x20correctamente.'));!db[_0x31daba(0xaa)][_0x31daba(0x1b6)](_0xe73a3e)&&(db['createObjectStore'](_0xe73a3e,{'keyPath':'id'}),console['log'](_0x31daba(0xb7)+_0xe73a3e+'\x27\x20creado\x20correctamente.'));if(_0x3f7118){if(!db[_0x31daba(0xaa)][_0x31daba(0x1b6)](_0x571282)){const _0x1452e2=db[_0x31daba(0x10f)](_0x571282,{'keyPath':'id','autoIncrement':!![]});_0x1452e2[_0x31daba(0x113)](_0x31daba(0x209),_0x31daba(0x209),{'unique':!![]}),console[_0x31daba(0x18d)](_0x31daba(0xb7)+_0x571282+'\x27\x20creado\x20correctamente.');}!db[_0x31daba(0xaa)][_0x31daba(0x1b6)](_0x23e3aa)&&(db[_0x31daba(0x10f)](_0x23e3aa,{'keyPath':'id','autoIncrement':!![]}),console[_0x31daba(0x18d)]('ObjectStore\x20\x27'+_0x23e3aa+'\x27\x20creado\x20correctamente.'));}}},_0x2ba81f[_0x1e241f(0xb1)]=function(_0x2592d0){const _0x41fca8=_0x1e241f;db=_0x2592d0[_0x41fca8(0x170)][_0x41fca8(0x1c2)],dbOperationInProgress=![],console['log'](_0x41fca8(0x224)),_0x7bb9cb(db);},_0x2ba81f[_0x1e241f(0xc4)]=function(_0x133877){const _0x55d849=_0x1e241f;console[_0x55d849(0x154)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x133877[_0x55d849(0x170)][_0x55d849(0x154)]),dbOperationInProgress=![],_0x4655e2(_0x133877[_0x55d849(0x170)][_0x55d849(0x154)]);};});})[_0x2aa7c1(0xc7)](_0x39dd9c=>{const _0x106f07=_0x2aa7c1;throw new Error(_0x106f07(0x1c9));})['finally'](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x3d8044=_0x5b1655;if(!isOnline())return Promise[_0x3d8044(0x1b1)]();try{const _0x1ae71c=await createCartStore(''),_0x51c20c=_0x1ae71c[_0x3d8044(0x200)](_0x3d8044(0x1d4),'readonly'),_0x3a9abf=_0x51c20c['objectStore'](_0x3d8044(0x1d4)),_0x1a95ac=await new Promise((_0x589ea0,_0x4542fe)=>{const _0x330ee8=_0x3d8044,_0x19b5bd=_0x3a9abf[_0x330ee8(0x14e)]();_0x19b5bd[_0x330ee8(0xb1)]=()=>_0x589ea0(_0x19b5bd['result']),_0x19b5bd[_0x330ee8(0xc4)]=()=>_0x4542fe(new Error(_0x330ee8(0x1b9)+_0x19b5bd[_0x330ee8(0x154)]));}),_0x55d164=_0x1a95ac[_0x3d8044(0x15a)](_0x285648=>_0x285648['apiPOSsendOffline']==0x1);if(_0x55d164[_0x3d8044(0x1bf)]===0x0){console[_0x3d8044(0x18d)](_0x3d8044(0x158));return;}const _0x493407=_0x55d164[_0x3d8044(0x15a)](_0x4e9abc=>_0x4e9abc['setTipoOperacion']==0x64),_0x24b914=_0x55d164[_0x3d8044(0x15a)](_0x5872bf=>_0x5872bf[_0x3d8044(0x198)]!=0x64);function _0x1b815c(_0x2b5be5,_0x415394){return new Promise((_0x3b83b6,_0x48e4a6)=>{const _0x4816a2=_0x1276,_0x431a1f=_0x2b5be5['transaction'](_0x4816a2(0x1d4),_0x4816a2(0x151)),_0x13af18=_0x431a1f[_0x4816a2(0x1fc)](_0x4816a2(0x1d4)),_0x4a9c6c=_0x13af18[_0x4816a2(0xa9)](_0x415394);_0x4a9c6c[_0x4816a2(0xb1)]=()=>_0x3b83b6(),_0x4a9c6c[_0x4816a2(0xc4)]=_0x4e4072=>_0x48e4a6(new Error('Error\x20guardando\x20operación:\x20'+_0x4e4072['target']['error']));});}async function _0x4d20ea(_0x237f60){const _0x5c42e0=_0x3d8044;for(const _0x40528b of _0x237f60){_0x40528b['setTipoOperacion']===0x64&&Array[_0x5c42e0(0x1ab)](_0x40528b['newItems'])&&_0x40528b['newItems'][_0x5c42e0(0x1e1)]((_0x531bf2,_0x8e8328)=>{const _0x2a4fea=_0x5c42e0,_0x363771=[0x1,0x2,0x3],_0x24478b=_0x363771[_0x2a4fea(0x10d)](_0x531bf2[_0x2a4fea(0x19d)]),_0x376888=_0x363771['includes'](_0x8e8328[_0x2a4fea(0x19d)]);if(_0x24478b&&!_0x376888)return-0x1;if(!_0x24478b&&_0x376888)return 0x1;return _0x531bf2['setItemType']-_0x8e8328['setItemType'];});const _0x11a8da=new FormData();_0x11a8da['append']('invoice',JSON[_0x5c42e0(0xcf)](_0x40528b));if(_0x40528b[_0x5c42e0(0x1df)]instanceof Blob&&_0x40528b[_0x5c42e0(0x1df)][_0x5c42e0(0xad)]>0x0)_0x11a8da[_0x5c42e0(0x1c0)](_0x5c42e0(0x1df),_0x40528b['pdfBlob'],_0x5c42e0(0x1b5));else _0x40528b[_0x5c42e0(0x1df)]&&console['warn'](_0x5c42e0(0xf8));_0x40528b['setTipoOperacion']==0x64&&Array[_0x5c42e0(0x1ab)](_0x40528b[_0x5c42e0(0xff)])&&_0x40528b['newItems'][_0x5c42e0(0x157)]((_0xe83c1d,_0x49fb17)=>{const _0x437954=_0x5c42e0;Array[_0x437954(0x1ab)](_0xe83c1d[_0x437954(0xa4)])&&_0xe83c1d['setItemImages'][_0x437954(0x157)]((_0x4dcc02,_0x39e430)=>{const _0x2c4f70=_0x437954;_0x4dcc02 instanceof Blob&&_0x4dcc02[_0x2c4f70(0xad)]>0x0?_0x11a8da[_0x2c4f70(0x1c0)](_0x2c4f70(0x1ed)+_0x49fb17+_0x2c4f70(0x1d0)+_0x39e430+']',_0x4dcc02,_0x4dcc02[_0x2c4f70(0x1a2)]):console[_0x2c4f70(0x205)]('Imagen\x20inválida\x20en\x20newItems['+_0x49fb17+_0x2c4f70(0xa0)+_0x39e430+']\x20–\x20se\x20omite.');});});try{const _0x4d379b=await fetch(_0x40528b[_0x5c42e0(0x1f9)],{'method':_0x5c42e0(0x126),'body':_0x11a8da});if(!_0x4d379b['ok'])throw new Error(_0x5c42e0(0x190)+_0x4d379b[_0x5c42e0(0x1c1)]+_0x5c42e0(0x111)+_0x4d379b[_0x5c42e0(0xbb)]);const _0x387859=await _0x4d379b['json']();!_0x387859[_0x5c42e0(0x98)]?_0x40528b['setMessage']=_0x387859[_0x5c42e0(0x109)]||_0x5c42e0(0x202):(_0x40528b[_0x5c42e0(0x139)]=0x0,delete _0x40528b['setMessage']),await _0x1b815c(_0x1ae71c,_0x40528b);}catch(_0x4623e5){console[_0x5c42e0(0x154)]('Error\x20al\x20enviar\x20operación\x20offline:',_0x4623e5),_0x40528b[_0x5c42e0(0x162)]=_0x4623e5[_0x5c42e0(0x109)],await _0x1b815c(_0x1ae71c,_0x40528b);}}}_0x493407[_0x3d8044(0x1e1)]((_0x19e339,_0x3129e3)=>{const _0x1f59f9=_0x3d8044,_0x30b9c4=[0x1,0x2,0x3],_0xb4be88=_0x563d04=>Array[_0x1f59f9(0x1ab)](_0x563d04[_0x1f59f9(0xff)])&&_0x563d04['newItems'][_0x1f59f9(0x1f3)](_0x11680e=>_0x30b9c4[_0x1f59f9(0x10d)](_0x11680e[_0x1f59f9(0x19d)])),_0x4ecbbf=_0xb4be88(_0x19e339),_0x3a687b=_0xb4be88(_0x3129e3);if(_0x4ecbbf&&!_0x3a687b)return-0x1;if(!_0x4ecbbf&&_0x3a687b)return 0x1;const _0x430438=Math['min'](..._0x19e339['newItems'][_0x1f59f9(0x13e)](_0x5a16de=>_0x5a16de[_0x1f59f9(0x19d)])),_0xcaa4dc=Math[_0x1f59f9(0xba)](..._0x3129e3[_0x1f59f9(0xff)][_0x1f59f9(0x13e)](_0x41221b=>_0x41221b['setItemType']));return _0x430438-_0xcaa4dc;}),_0x493407[_0x3d8044(0x1bf)]&&(console[_0x3d8044(0x18d)](_0x3d8044(0x11d)+_0x493407[_0x3d8044(0x1bf)]+'\x20operaciones\x20de\x20productos...'),await _0x4d20ea(_0x493407)),_0x24b914[_0x3d8044(0x1bf)]&&(console['log'](_0x3d8044(0x11d)+_0x24b914['length']+'\x20operaciones\x20restantes...'),await _0x4d20ea(_0x24b914)),console[_0x3d8044(0x18d)](_0x3d8044(0x1cd));}catch(_0x25fc0f){console[_0x3d8044(0x154)](_0x3d8044(0x107),_0x25fc0f);}}function apiERPsaveOnline(_0x37ddda,_0x5ca138,_0x5bdb27,_0x15fb9c,_0xfda9c1){const _0x42e15a=_0x5b1655;if(!isOnline())return console[_0x42e15a(0x18d)](_0x42e15a(0x1e8)),Promise[_0x42e15a(0x21a)]('Error\x20Network.');const _0x43f1ce={'setAuthToken':_0x37ddda,'setBranches':_0x5ca138,'setUsers':_0x5bdb27,'setSeries':_0x15fb9c,'setPrinters':_0xfda9c1};return fetch(_0x42e15a(0x18e),{'method':_0x42e15a(0x126),'headers':{'Content-Type':'application/json'},'body':JSON[_0x42e15a(0xcf)](_0x43f1ce)})[_0x42e15a(0x189)](_0x2a9e06=>{const _0x479d6f=_0x42e15a;if(!_0x2a9e06['ok'])throw new Error(_0x479d6f(0x124)+_0x2a9e06[_0x479d6f(0xbb)]);return _0x2a9e06[_0x479d6f(0x14d)]();})[_0x42e15a(0x189)](_0x5a143a=>{const _0xb556ee=_0x42e15a;if(!_0x5a143a[_0xb556ee(0x98)])throw new Error(_0x5a143a[_0xb556ee(0x109)]||_0xb556ee(0x116));return console[_0xb556ee(0x18d)](_0xb556ee(0xb0)),_0x5a143a;})['catch'](_0x92c220=>{const _0x3ba665=_0x42e15a;console[_0x3ba665(0x154)](_0x3ba665(0x11c),_0x92c220);throw _0x92c220;});}async function acceder(){const _0x4023f7=_0x5b1655;if(!isOnline()){alert(_0x4023f7(0xd6));throw new Error(_0x4023f7(0x174));}const _0x3ffbde=document[_0x4023f7(0xf1)](_0x4023f7(0x182)),_0x407702=document[_0x4023f7(0xf1)](_0x4023f7(0x227))['value'],_0x483c21=document[_0x4023f7(0xf1)]('password')[_0x4023f7(0xa6)];_0x3ffbde[_0x4023f7(0x137)]=!![];if(!_0x407702||!_0x483c21){alert(_0x4023f7(0x185)),_0x3ffbde[_0x4023f7(0x137)]=![];return;}console[_0x4023f7(0x18d)](_0x4023f7(0xd3)),showLoadingModal();const _0x10d534={'usuario':_0x407702,'password':_0x483c21};try{const _0x1d51e6=await fetch(_0x4023f7(0x1a5),{'method':_0x4023f7(0x126),'headers':{'Content-Type':_0x4023f7(0xc8)},'body':JSON[_0x4023f7(0xcf)](_0x10d534)}),_0xfc898e=await _0x1d51e6[_0x4023f7(0x14d)]();if(!(_0xfc898e[_0x4023f7(0x98)]&&Array['isArray'](_0xfc898e[_0x4023f7(0x109)]))){alert(_0xfc898e['message']),_0x3ffbde[_0x4023f7(0x137)]=![],hideLoadingModal();throw new Error(_0xfc898e[_0x4023f7(0x109)]);}const _0x57bd84=document[_0x4023f7(0xf1)](_0x4023f7(0x1cb));_0x57bd84['innerHTML']=_0x4023f7(0x1fa);const _0x1ddee2=_0xfc898e[_0x4023f7(0x109)],{setApiEndPoint:_0x421dd9,setAuthToken:_0x53c26d,setUser_Local:_0x2bb81f}=_0x1ddee2[0x0],_0x772152={'apiPOS_getAccessData':0x1,'setToken':_0x53c26d,'setUserLocalUserName':_0x2bb81f[_0x4023f7(0x99)]},_0x1bf166=await fetch(_0x421dd9,{'method':_0x4023f7(0x126),'headers':{'Content-Type':_0x4023f7(0x1ea)},'body':JSON[_0x4023f7(0xcf)](_0x772152)}),_0x2f3dcb=await _0x1bf166[_0x4023f7(0x14d)]();if(!(_0x2f3dcb['success']===!![])){_0x57bd84[_0x4023f7(0x9a)]='Error:\x20'+_0x2f3dcb[_0x4023f7(0x109)]+_0x4023f7(0x21d),setTimeout(()=>location[_0x4023f7(0x135)](),0x1388);return;}_0x57bd84[_0x4023f7(0x9a)]='Procesamiento\x20de\x20datos\x20exitoso\x20...';const _0x4433c4=_0x2f3dcb['message']['setProductos']['map'](_0x1c4f82=>{const _0x14e39b=_0x4023f7,_0x1cb032=_0x1c4f82[_0x14e39b(0x15e)]||'',_0xcb87c8=_0x1c4f82['setIdProducto']||'',_0x48554b=_0x1c4f82[_0x14e39b(0x134)]||'',_0x5cfc4b=_0x1c4f82[_0x14e39b(0x21b)]||'',_0x1061ba=_0x1c4f82['setDescripcion']||'',_0x480efe=_0x1c4f82[_0x14e39b(0xfa)]||'',_0x1c3205=_0x1c4f82[_0x14e39b(0x207)]||'',_0x2ccd1c=_0x1c4f82['setUnidad']||'',_0x26f248=_0x1c4f82[_0x14e39b(0xb8)]||'',_0x5da074=_0x1c4f82[_0x14e39b(0x221)]||'10',_0x567cb0=_0x1ddee2[0x0]['setImpuestos'][_0x14e39b(0xe1)](_0xf6780=>_0xf6780[_0x14e39b(0xb8)]==_0x26f248)?.[_0x14e39b(0xfe)]||0x0,_0x4fad0d=parseFloat(_0x1c4f82[_0x14e39b(0xf9)])||0x1,_0x1935c6=_0x1c4f82[_0x14e39b(0x12d)]||'',_0x4761e4=_0x1c4f82[_0x14e39b(0x118)]||'',_0x271f27=_0x1c4f82[_0x14e39b(0xc3)]||_0x14e39b(0x175),_0x3afc4f=_0x1c4f82[_0x14e39b(0xac)]||0x1,_0x11a27c=_0x1c4f82[_0x14e39b(0x19e)]||'',_0x445ee1=_0x1c4f82['setBatchExpirationDate']||'',_0x31278b=(_0x1c4f82['currency_data']||[])[_0x14e39b(0x13e)](_0x143507=>{const _0x54eb7a=_0x14e39b,_0x587b02=parseFloat(_0x143507[_0x54eb7a(0x1db)])||0x0,_0x29e874=parseFloat(_0x143507[_0x54eb7a(0xb5)])||0x0,_0x2c540e=parseFloat(_0x143507[_0x54eb7a(0x19b)])||0x0,_0x358d89=parseFloat(_0x143507[_0x54eb7a(0x1bb)])||0x0,_0x313dcb=_0x143507[_0x54eb7a(0x179)]||[];let _0x125fee=0x0,_0x405919=0x0;if(_0x587b02>0x0)_0x125fee=_0x587b02,_0x405919=setTipAfeImpGravados['some'](_0x1b748b=>_0x1b748b==_0x5da074)?_0x587b02+_0x587b02*_0x567cb0/0x64:_0x587b02;else _0x29e874>0x0&&(_0x405919=_0x29e874,_0x125fee=setTipAfeImpGravados[_0x54eb7a(0x1f3)](_0x524790=>_0x524790==_0x5da074)?_0x29e874/(0x1+_0x567cb0/0x64):_0x29e874);let _0x24626f=0x0,_0x2dc7d1=0x0;if(_0x2c540e>0x0)_0x24626f=_0x2c540e,_0x2dc7d1=setTipAfeImpGravados['some'](_0x16af76=>_0x16af76==_0x5da074)?_0x2c540e+_0x2c540e*_0x567cb0/0x64:_0x2c540e;else _0x358d89>0x0&&(_0x2dc7d1=_0x358d89,_0x24626f=setTipAfeImpGravados['some'](_0x437d1e=>_0x437d1e==_0x5da074)?_0x358d89/(0x1+_0x567cb0/0x64):_0x358d89);return{'currency':_0x143507[_0x54eb7a(0x136)],'setMtoValorUnitario':_0x125fee,'setMtoPrecioUnitario':_0x405919,'setMtoValorCostoUnitario':_0x24626f,'setMtoPrecioCostoUnitario':_0x2dc7d1,'setPriceLists':_0x313dcb};});if(_0x26f248!==''&&_0x1cb032!==''&&_0x48554b!==''&&_0x1061ba!=='')return{'id':_0x1cb032,'setIdProducto':_0xcb87c8,'setCodProducto':_0x48554b,'setItemBarCode':_0x5cfc4b,'setDescripcion':_0x1061ba,'setItemDescription':_0x480efe,'setUnidadCodigo':_0x1c3205,'setUnidad':_0x2ccd1c,'setPorcentajeIgv':_0x567cb0,'setTaxId':_0x26f248,'setTipAfeIgv':_0x5da074,'setInventariable':_0x4fad0d,'setCategoria':_0x1935c6,'setMarca':_0x4761e4,'setImg':_0x271f27,'setConversionFactor':_0x3afc4f,'setBatchName':_0x11a27c,'setBatchExpirationDate':_0x445ee1,'setItemIsBought':_0x1c4f82['setItemIsBought'],'setItemIsSold':_0x1c4f82[_0x14e39b(0x8b)],'sucursales':_0x1c4f82[_0x14e39b(0x1dc)]||[],'setPrinters':_0x1c4f82['setPrinters']||[],'currency_data':_0x31278b,'setImages':_0x1c4f82[_0x14e39b(0x1eb)]||[]};return null;})[_0x4023f7(0x15a)](Boolean);_0x1ddee2[0x0]['setCompanyLogo']=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0xf4)],_0x1ddee2[0x0][_0x4023f7(0xf0)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0xf0)],_0x1ddee2[0x0][_0x4023f7(0xb9)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0xb9)],_0x1ddee2[0x0]['setCompanyNameTrade']=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x1b4)],_0x1ddee2[0x0][_0x4023f7(0xdb)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0xdb)],_0x1ddee2[0x0]['setCompanyPhone']=_0x2f3dcb['message'][_0x4023f7(0x177)],_0x1ddee2[0x0][_0x4023f7(0x8f)]=_0x2f3dcb['message'][_0x4023f7(0x8f)],_0x1ddee2[0x0]['setCompanyWebsite']=_0x2f3dcb['message'][_0x4023f7(0x186)],_0x1ddee2[0x0][_0x4023f7(0x155)]=_0x2f3dcb[_0x4023f7(0x109)]['setBranches'],_0x1ddee2[0x0][_0x4023f7(0x13c)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x13c)],_0x1ddee2[0x0][_0x4023f7(0x220)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x220)],_0x1ddee2[0x0][_0x4023f7(0x1ad)]=_0x2f3dcb[_0x4023f7(0x109)]['setPrinters'],_0x1ddee2[0x0][_0x4023f7(0x10c)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x10c)],_0x1ddee2[0x0][_0x4023f7(0x96)]=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x96)],_0x1ddee2[0x0]['setCustomers']=_0x2f3dcb[_0x4023f7(0x109)]['setCustomers'],_0x1ddee2[0x0]['setSuppliers']=_0x2f3dcb[_0x4023f7(0x109)][_0x4023f7(0x16f)],_0x1ddee2[0x0]['setShifts']=_0x2f3dcb[_0x4023f7(0x109)]['setShifts'],_0x1ddee2[0x0]['setCollaborators']=_0x2f3dcb[_0x4023f7(0x109)]['setCollaborators'],_0x57bd84[_0x4023f7(0x9a)]=_0x4023f7(0x204);const _0xdcfd3c=await createCartStore('');await clearAndStore(_0xdcfd3c,_0x4023f7(0x1b0),_0x4433c4),await clearAndStore(_0xdcfd3c,_0x4023f7(0xaf),[{'id':_0x4023f7(0xd1),..._0x1ddee2[0x0]['setLayout']}]),await apiERPsaveOnline(_0x53c26d,_0x1ddee2[0x0]['setBranches'],_0x1ddee2[0x0][_0x4023f7(0x13c)],_0x1ddee2[0x0][_0x4023f7(0x220)],_0x1ddee2[0x0]['setPrinters']);const _0x1d497e=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':_0x4023f7(0x126),'headers':{'Content-Type':_0x4023f7(0x1ea)},'body':JSON[_0x4023f7(0xcf)]({'setAuthToken':_0x53c26d})}),_0x3e5b36=await _0x1d497e[_0x4023f7(0x14d)]();if(_0x3e5b36[_0x4023f7(0x98)])_0x1ddee2[0x0][_0x4023f7(0x203)]=_0x3e5b36[_0x4023f7(0x109)][_0x4023f7(0x203)],_0x1ddee2[0x0][_0x4023f7(0xbe)]=_0x3e5b36[_0x4023f7(0x109)][_0x4023f7(0xbe)],_0x1ddee2[0x0]['setPrinters']=_0x3e5b36[_0x4023f7(0x109)]['setPrinters'];else{console[_0x4023f7(0x154)](_0x4023f7(0xab),_0x3e5b36[_0x4023f7(0x109)]);return;}await saveCompanyToIndexedDB(_0x1ddee2,_0xdcfd3c);if(!_0x1ddee2[0x0][_0x4023f7(0x203)]||_0x1ddee2[0x0][_0x4023f7(0x203)]['length']===0x0){console[_0x4023f7(0x154)](_0x4023f7(0x1aa));return;}for(const _0x5c78b5 of _0x1ddee2[0x0][_0x4023f7(0x203)]){await new Promise(_0x412abe=>setTimeout(_0x412abe,0x12c)),await createCartStore(_0x5c78b5[_0x4023f7(0x150)]),_0x57bd84[_0x4023f7(0x9a)]=_0x4023f7(0xc1)+_0x5c78b5[_0x4023f7(0xed)]+_0x4023f7(0x21d);}_0x57bd84[_0x4023f7(0x9a)]=_0x4023f7(0x199)+_0x2bb81f[_0x4023f7(0xc2)]+_0x4023f7(0x21d),setTimeout(()=>location[_0x4023f7(0x135)](),0x7d0);}catch(_0x3afb7b){console[_0x4023f7(0x154)](_0x4023f7(0x218),_0x3afb7b),_0x3ffbde['disabled']=![],hideLoadingModal(),alert(_0x3afb7b);throw _0x3afb7b;}}function clearAndStore(_0x20f579,_0x3dff26,_0x29aec1){return new Promise((_0x1f8bb5,_0x127a41)=>{const _0x188191=_0x1276,_0x3fe02d=_0x20f579['transaction'](_0x3dff26,_0x188191(0x151)),_0x5b01d9=_0x3fe02d[_0x188191(0x1fc)](_0x3dff26),_0x336dc5=_0x5b01d9[_0x188191(0x20c)]();_0x336dc5['onsuccess']=()=>{const _0x3ddb24=_0x188191;_0x29aec1['forEach'](_0x5af7e0=>_0x5b01d9[_0x3ddb24(0xa9)](_0x5af7e0));},_0x3fe02d[_0x188191(0xd4)]=()=>_0x1f8bb5(),_0x3fe02d[_0x188191(0xc4)]=()=>_0x127a41(new Error(_0x188191(0x1c6)+_0x3dff26+'!'));});}async function logoutReload(_0x4bf939=0x0,_0x4c20c3){const _0x391f84=_0x5b1655;if(_0x4bf939!=0x1){showLoadingModal();const _0x3fb19e=document[_0x391f84(0xf1)]('infoLoadingModal');_0x3fb19e[_0x391f84(0x9a)]=_0x391f84(0xdd);}_0x4c20c3==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x391f84(0x135)]();}function registerServiceWorker(_0x286715,_0x4ad87b){const _0xd5815d=_0x5b1655;_0xd5815d(0x147)in navigator&&navigator[_0xd5815d(0x147)]['register'](_0x286715)[_0xd5815d(0x189)](_0x4fc670=>{const _0x1f9f37=_0xd5815d;console[_0x1f9f37(0x18d)]('SW\x20Success'),_0x4fc670[_0x1f9f37(0x156)]=()=>{const _0x373f4b=_0x1f9f37,_0x199f3a=_0x4fc670[_0x373f4b(0x18a)];_0x199f3a[_0x373f4b(0x145)]=()=>{const _0x19e93c=_0x373f4b;_0x199f3a[_0x19e93c(0x191)]=='installed'&&navigator[_0x19e93c(0x147)][_0x19e93c(0x183)]&&console[_0x19e93c(0x18d)](_0x19e93c(0x1b7));};},navigator['serviceWorker'][_0x1f9f37(0x1b3)](_0x1f9f37(0xa3),()=>{const _0xcbb865=_0x1f9f37;showLoadingModal();const _0x1dbb2f=document[_0xcbb865(0xf1)](_0xcbb865(0x1cb));_0x1dbb2f[_0xcbb865(0x9a)]=_0xcbb865(0x21f),logoutReload(0x1,_0x4ad87b);});})['catch'](_0x2f96be=>console['error']('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x2f96be));}function isLoggedIn(_0x4739d6){return _0x4739d6&&_0x4739d6[0x0]&&_0x4739d6[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x24fd7d=_0x5b1655;document[_0x24fd7d(0xf1)](_0x24fd7d(0x21e))['classList'][_0x24fd7d(0x1f7)]('hidden'),document[_0x24fd7d(0xf1)]('pos')['classList'][_0x24fd7d(0x1f7)](_0x24fd7d(0xf7)),document[_0x24fd7d(0xf1)](_0x24fd7d(0x20a))[_0x24fd7d(0x180)][_0x24fd7d(0x13d)](_0x24fd7d(0xf7));const _0x391f59=document['getElementById']('topbar');_0x391f59&&_0x391f59[_0x24fd7d(0x180)][_0x24fd7d(0x1f7)](_0x24fd7d(0xf7));}function x64ctotalcal(){const _0xe0e50b=_0x5b1655;return window[_0xe0e50b(0x1c3)]['hostname'];}function x64btsparamnumber(_0x4e122d){const _0x1d982b=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x4e122d==_0x1d982b;}function x32btsfirefoxcalc(_0xaa9d69){const _0x51a132=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0xaa9d69==_0x51a132;}function x64bitsdescitem(_0x2f0e1b){const _0x26b687=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x2f0e1b==_0x26b687;}function x43bitsdescglobal(_0x421256){const _0x577284=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x421256==_0x577284;}function x32bitsCompanyTkn(_0x22e53d){const _0x5e93d4=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x22e53d==_0x5e93d4;}function _0x2636(){const _0x2cd396=['setMarca','justifyContent','startsWith','ntf-flotante-top','Error\x20al\x20actualizar\x20data\x20online:','Sincronizando\x20','f34f','tabs-notifications','Arrays\x20actualizados\x20para\x20windowId\x20','random','Products\x20Load\x20Error:','junio','Error\x20al\x20guardar\x20el\x20layout:\x20','querySelector','POST','animationend','setBranchId','alignItems','Acción\x20\x22','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','setFloorId','setCategoria','onLine','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','Stock\x20Actual:\x20','CL0','option','mozRequestFullScreen','setCodProducto','reload','currency','disabled','24IGWnBu','apiPOSsendOffline','flex','transition','setUsuarios','add','map','co19','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','33x54xsystem','click','septiembre','1767105zbdlYg','onstatechange','\x27\x20eliminada.','serviceWorker','setAttachEdit','trace','setIdSucursal','fixed','opacity','json','getAll','abril','setWindowId','readwrite','ntf-flotante-container-bottom','9999','error','setBranches','onupdatefound','forEach','No\x20hay\x20operaciones\x20para\x20sincronizar.','Company\x20Empty.','filter','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','co5','S02','setId','center','setEmpresaDomainWork','setBranchDefault','setMessage','offsetWidth','text','fullscreen-btn','</p>','Error\x20Email\x20interno.','Formato\x20inesperado\x20en\x20base64','45x','470194Iprwci','2214120UfVMKk','deleteObjectStore','#container-section-pay-','tagName','setSuppliers','target','setAttribute','setPlanName','onloadend','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','./img/product.png','Backspace','setCompanyPhone','exception','setPriceLists','ar10.5','ntf-flotante-blue','toggle','\x20del\x20','setDescuentoGlobal_Monto','1900684GEAJfz','classList','webkitFullscreenElement','btn-access-login','controller','setMoneda','Todos\x20los\x20campos\x20son\x20obligatorios.','setCompanyWebsite','ntf-modal-actions','1jNDlJj','then','installing','User\x20no\x20Logged!','payment-option','log','https://apierp.dev/api/apiPOS/update/','ntfIndex','HTTP\x20','state','100%','detalleModalPay','d-none','UY0','setCustomerPhone','Producto\x20vencido:\x20','setTipoOperacion','Bienvenido(a)\x20','setCajeroCodigo','setMtoValorCostoUnitario','display','setItemType','setBatchName','className','\x22\x20para\x20registro\x20#','mx08','name','mayo','apiERP','https://apierp.dev/api/company/get/','xtt3','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','Delete','Error:\x20No\x20hay\x20ventanas\x20disponibles.','isArray','uy10','setPrinters','window_options_','x32','products','resolve','password','addEventListener','setCompanyNameTrade','documento.pdf','contains','SW\x20New\x20Version','console','Error\x20al\x20obtener\x20las\x20operaciones:\x20','concat','setMtoPrecioCostoUnitario','return\x20(function()\x20','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.0.6\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','height','length','append','status','result','location','shiftKey','agosto','Error\x20in\x20saving\x20to\x20store\x20','Eliminar\x20producto','prototype','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','pcrcl','infoLoadingModal','setIdProducto','Sincronización\x20completada\x20correctamente.','toString','.payment-option','][setItemImages][','mozFullScreenElement','setClienteDenominacion','onupgradeneeded','offline_operations','title','649685rMiPls','set','setDescripcion','setWarehouseId','createElement','setMtoValorUnitario','sucursales','setCustomerEmail','loadingModal','pdfBlob','offsetHeight','sort','diciembre','ntf-hidden','readonly','webkitRequestFullscreen','get','ntf-flotante-container-top','Error\x20Network.','ntf-notification-modal','application/json;\x20charset=utf-8','setImages','data-ntf-index','newItems[','Stock\x20mínimo:\x20','msFullscreenElement','ntf-flotante-message\x20','getDate','div','some','Tab\x20count\x20inicializado\x20en:\x20','msExitFullscreen','Revisar\x20lote','remove','reduce','setWebhook','Inicio\x20de\x20sesión\x20exitoso\x20...','requestFullscreen','objectStore','now','E01','setUserFullName','transaction','documentElement','Error\x20desconocido.','setWindows','Sincronizando\x20...','warn','company','setUnidadCodigo','x64','cartId','login','has','clear','finally','64system','webkitExitFullscreen','<h2>','INPUT','readAsDataURL','active','\x0aEl\x20producto\x20\x22','setFloorName','ntf-modal-body','Error:\x20Domain\x20not\x20registered.','Error\x20en\x20la\x20solicitud:','pop','reject','setItemBarCode','button','\x20...','header','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.0.6\x20...</span>','setSeries','setTipAfeIgv','constructor','preventDefault','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','febrero','top','usuario','\x22\x20expiró\x20el\x20','table','ambientes','none','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','bind','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','mozCancelFullScreen','Enter','ltop','setItemIsSold','btnSaveOperacion-','toFixed','Company\x20Load.','setCompanyEmail','body','uy22','setWarehouseName','.product[tabindex=\x270\x27]','xpos','substr','setBankAccounts','textContent','success','setUserName','innerHTML','exitFullscreen','Products\x20Load.','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','left','mx16','].setItemImages[','Correo\x20enviado\x20correctamente!','cl19','controllerchange','setItemImages','keydown','value','(((.+)+)+)+$','</h2><p>','put','objectStoreNames','Error\x20Update:','setConversionFactor','size','port','layoutState','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','onsuccess','windowIds\x20previamente\x20creados:','x64c','Generar\x20Orden\x20de\x20Compra','setMtoPrecioUnitario','ntf-modal-close','ObjectStore\x20\x27','setTaxId','setCompanyName','min','statusText','Company\x20Load\x20Error:','cart_','setUsers','Plan\x20Impulsa','slice','Generando\x20','setUserNombres','setImg','onerror','setWarehouses','focus','catch','application/json','ntf-flotante-bottom','key','open','change','Nombre\x20de\x20store\x20no\x20válido:\x20','getClientRects','stringify','all','layout','ntf-notification-dropdown','Modo\x20online\x20...','oncomplete','id_registro','Solo\x20necesitas\x20internet\x20para\x20acceder!','floor','appendChild','setBatchExpirationDate','setUser_Local','setCompanyAddress','Base\x20de\x20datos\x20abierta\x20correctamente.','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','day','searchInput','setTipoOperacionInvoice','find','./app.js?v=4.0.6','x63s','setClienteNumDoc','1690617anMyTn','Ver\x20movimientos','lbtom','ntf-notif-count','AR0','windowId','setWarehouseStockMin','__proto__','setWindowName','Error\x20al\x20enviar\x20correo:','split','setCompanyDoc','getElementById','ntf-flotante-orange','fullscreenElement','setCompanyLogo','style','ntf-notifications-list','hidden','PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.','setInventariable','setItemDescription','setCashierName','dataset','32system','setImpuestoValue','newItems','from','{}.constructor(\x22return\x20this\x22)(\x20)','setClienteTipoDoc','setCorrelativo','Tab','checkout-btn-','type','Error\x20al\x20procesar\x20operaciones\x20offline:','octubre','message','\x27\x20creado\x20correctamente.','querySelectorAll','setCurrencyDefault','includes','input,\x20select,\x20button,\x20a:not(.payment-option)','createObjectStore','push','\x20–\x20','msRequestFullscreen','createIndex','https://apierp.dev/api/email/send/','setUserEmail','Error\x20desconocido\x20al\x20actualizar\x20Data.','3805340ZmEWYn'];_0x2636=function(){return _0x2cd396;};return _0x2636();}function x64bitsparamnumber(_0xee5b2e,_0x499f5a){const _0x13793c=_0x499f5a;return _0xee5b2e==_0x13793c;}function activarRender(_0x16d77f){const _0x2e8859=_0x5b1655,_0x237f1f=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x16d77f)];return _0x237f1f[_0x2e8859(0x10d)](!![]);}function saveCompanyToIndexedDB(_0x379a04,_0x287000){return new Promise((_0x1cb553,_0x3425ca)=>{const _0x375285=_0x1276,_0x2c88e=_0x287000['transaction'](_0x375285(0x206),_0x375285(0x151)),_0x275ff1=_0x2c88e[_0x375285(0x1fc)](_0x375285(0x206));_0x275ff1[_0x375285(0x20c)](),_0x379a04[_0x375285(0x157)](_0x391cc2=>_0x275ff1['put'](_0x391cc2)),_0x2c88e[_0x375285(0xd4)]=()=>_0x1cb553(),_0x2c88e[_0x375285(0xc4)]=_0x15f9a5=>_0x3425ca(_0x15f9a5['target'][_0x375285(0x154)]);});}function loadCompanyFromIndexedDB(_0x4202f7){return new Promise((_0x182085,_0x5e9371)=>{const _0x1aed45=_0x1276,_0x389af2=_0x4202f7[_0x1aed45(0x200)](_0x1aed45(0x206),_0x1aed45(0x1e4)),_0x3a8148=_0x389af2[_0x1aed45(0x1fc)]('company'),_0x556bf2=_0x3a8148['getAll']();_0x556bf2['onsuccess']=()=>_0x182085(_0x556bf2['result']),_0x556bf2[_0x1aed45(0xc4)]=_0xf2b674=>_0x5e9371(_0xf2b674[_0x1aed45(0x170)]['error']);});}async function initializeCompany(_0x8e5d64){const _0x280ca9=_0x5b1655;try{const _0x1d5440=await loadCompanyFromIndexedDB(_0x8e5d64);company=_0x1d5440,company['length']>0x0?(console[_0x280ca9(0x18d)](_0x280ca9(0x8e)),myCompany=company[0x0]):console['log'](_0x280ca9(0x159));}catch(_0xb45058){console[_0x280ca9(0x154)](_0x280ca9(0xbc),_0xb45058);}}function loadProductsFromIndexedDB(_0x3e0cdf){return new Promise((_0x3d4315,_0x17a574)=>{const _0x335120=_0x1276,_0x1a7f50=_0x3e0cdf[_0x335120(0x200)]('products',_0x335120(0x1e4)),_0x1daa38=_0x1a7f50[_0x335120(0x1fc)]('products'),_0x53ecb7=_0x1daa38[_0x335120(0x14e)]();_0x53ecb7[_0x335120(0xb1)]=()=>_0x3d4315(_0x53ecb7[_0x335120(0x1c2)]),_0x53ecb7['onerror']=_0x4e2ba2=>_0x17a574(_0x4e2ba2[_0x335120(0x170)]['error']);});}async function initializeProducts(_0x2f9269){const _0x4e2e08=_0x5b1655;try{const _0x26b79f=await loadProductsFromIndexedDB(_0x2f9269);products=_0x26b79f,products[_0x4e2e08(0x1bf)]>0x0?console['log'](_0x4e2e08(0x9c)):console[_0x4e2e08(0x18d)]('Products\x20Empty.');}catch(_0x13fa88){console[_0x4e2e08(0x154)](_0x4e2e08(0x122),_0x13fa88);}}async function validateAccess(_0xef5629){const _0x361743=_0x5b1655;await initializeCompany(_0xef5629);if(!isLoggedIn(company))throw new Error(_0x361743(0x18b));if(!activarRender(company[0x0][_0x361743(0x160)])){alert(_0x361743(0x217));throw new Error(_0x361743(0x217));}apiERPShowContent();}async function loadCart(_0x16a7ba){const _0x59fcf7=_0x5b1655;try{const _0x1a9f4e=await createCartStore(''),_0x3c0ce9=[];await validateAccess(_0x1a9f4e);const _0x42e9fd=company[0x0][_0x59fcf7(0xda)],_0x2a1d5b=company[0x0]['setUsers'][_0x59fcf7(0xe1)](_0x36997d=>_0x36997d[_0x59fcf7(0x115)]==_0x42e9fd['setUserName']),_0x556b39=company[0x0][_0x59fcf7(0x155)],_0x5e77cc=document['getElementById'](_0x59fcf7(0x128));_0x5e77cc[_0x59fcf7(0x9a)]='';if(_0x2a1d5b&&_0x2a1d5b[_0x59fcf7(0x155)]){const _0x58cd6c=_0x556b39[_0x59fcf7(0x15a)](_0x5b8a52=>_0x2a1d5b['setBranches'][_0x59fcf7(0x1f3)](_0xd817a2=>_0xd817a2[_0x59fcf7(0x128)]==_0x5b8a52['setBranchId']));_0x58cd6c[_0x59fcf7(0x157)](_0x16b15e=>{const _0x3630f4=_0x59fcf7,_0x224014=document[_0x3630f4(0x1da)](_0x3630f4(0x132));_0x224014[_0x3630f4(0xa6)]=_0x16b15e[_0x3630f4(0x128)],_0x224014[_0x3630f4(0x97)]=_0x16b15e['setBranchName'],_0x5e77cc['appendChild'](_0x224014);});}if(_0x16a7ba==0x1){const _0x3b9fac=document['getElementById'](_0x59fcf7(0x19a));_0x3b9fac[_0x59fcf7(0x9a)]='';if(_0x2a1d5b){const _0x1b40c9=document[_0x59fcf7(0x1da)](_0x59fcf7(0x132));_0x1b40c9[_0x59fcf7(0xa6)]=_0x2a1d5b['setUserCode'],_0x1b40c9['textContent']=_0x2a1d5b[_0x59fcf7(0x1ff)],_0x3b9fac[_0x59fcf7(0xd8)](_0x1b40c9);}const _0x2bfe90=Array[_0x59fcf7(0x100)](_0x1a9f4e[_0x59fcf7(0xaa)])['filter'](_0x3b023e=>_0x3b023e['startsWith'](_0x59fcf7(0x1ae)))[_0x59fcf7(0x13e)](_0x3d38b7=>{const _0x44b303=_0x59fcf7,_0x7ec85b=_0x3d38b7[_0x44b303(0xef)]('_');return _0x7ec85b[_0x44b303(0x1bf)]>=0x3?_0x7ec85b[0x2]:null;})[_0x59fcf7(0x15a)](_0x5a2b31=>_0x5a2b31!==null);console[_0x59fcf7(0x18d)](_0x59fcf7(0xb2),_0x2bfe90);const _0x50cdec=Array['from'](_0x1a9f4e['objectStoreNames'])[_0x59fcf7(0x15a)](_0x26e4e1=>_0x26e4e1[_0x59fcf7(0x11a)]('window_options_'))[_0x59fcf7(0x1e1)]((_0x2d4a06,_0x3ddb21)=>{const _0x425b9c=_0x59fcf7,_0x57260a=parseInt(_0x2d4a06[_0x425b9c(0xef)]('_')[_0x425b9c(0x219)](),0xa),_0xfbff0e=parseInt(_0x3ddb21[_0x425b9c(0xef)]('_')[_0x425b9c(0x219)](),0xa);return _0x57260a-_0xfbff0e;});for(const _0x48fb3b of _0x50cdec){const _0xcf47a5=_0x48fb3b['split']('_');if(_0xcf47a5[_0x59fcf7(0x1bf)]<0x3){console[_0x59fcf7(0x154)](_0x59fcf7(0xcd)+_0x48fb3b);continue;}const _0x83be1c=_0xcf47a5[0x2];if(_0x2bfe90['includes'](_0x83be1c)){const _0x853bd2=new Promise((_0x249d01,_0x95ed1d)=>{const _0x5bac64=_0x59fcf7,_0x4efed0=_0x1a9f4e[_0x5bac64(0x200)]([_0x48fb3b],_0x5bac64(0x1e4)),_0x496f9c=_0x4efed0[_0x5bac64(0x1fc)](_0x48fb3b),_0x2ff148=_0x496f9c['get'](_0x83be1c);_0x2ff148[_0x5bac64(0xb1)]=function(_0x535fab){const _0x43b571=_0x5bac64,_0x11170c=_0x535fab[_0x43b571(0x170)]['result'];window_options[_0x83be1c]={},_0x11170c&&(window_options[_0x83be1c]={'setTipoOperacionInvoice':_0x11170c[_0x43b571(0xe0)],'setTipoOperacion':_0x11170c[_0x43b571(0x198)],'setSerie':_0x11170c['setSerie'],'setCorrelativo':_0x11170c[_0x43b571(0x103)],'setMoneda':_0x11170c[_0x43b571(0x184)],'setClienteTipoDoc':_0x11170c[_0x43b571(0x102)],'setClienteNumDoc':_0x11170c[_0x43b571(0xe4)],'setClienteDenominacion':_0x11170c[_0x43b571(0x1d2)],'setClienteDireccion':_0x11170c['setClienteDireccion'],'setCustomerPhone':_0x11170c[_0x43b571(0x196)],'setCustomerEmail':_0x11170c[_0x43b571(0x1dd)],'setFechaHora':_0x11170c['setFechaHora'],'setSellerId':_0x11170c['setSellerId'],'setSellerName':_0x11170c['setSellerName'],'setDespacho':_0x11170c['setDespacho'],'setObservacion':_0x11170c['setObservacion'],'setDescuentoGlobal_Monto':_0x11170c[_0x43b571(0x17e)],'setAttachEdit':_0x11170c[_0x43b571(0x148)]},console['log'](_0x43b571(0x120)+_0x83be1c+':',_0x11170c)),Promise[_0x43b571(0x1b1)](updateTab(_0x83be1c))[_0x43b571(0x189)](_0x249d01)[_0x43b571(0xc7)](_0x104ab0=>{const _0x4bfde4=_0x43b571;console[_0x4bfde4(0x154)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x104ab0),_0x95ed1d(_0x104ab0);});},_0x2ff148['onerror']=function(_0x44c733){const _0x22a515=_0x5bac64;console[_0x22a515(0x154)](_0x22a515(0x15b)+_0x83be1c+'.',_0x44c733[_0x22a515(0x170)][_0x22a515(0x154)]),_0x95ed1d(_0x44c733[_0x22a515(0x170)][_0x22a515(0x154)]);};});_0x3c0ce9[_0x59fcf7(0x110)](_0x853bd2);}}const _0x4fbfe4=Array[_0x59fcf7(0x100)](_0x1a9f4e[_0x59fcf7(0xaa)])[_0x59fcf7(0x15a)](_0x227765=>_0x227765['startsWith'](_0x59fcf7(0xbd)))[_0x59fcf7(0x1e1)]((_0x5870e8,_0x3261b0)=>{const _0x3b7e27=_0x59fcf7,_0xa7a1a7=parseInt(_0x5870e8['split']('_')['pop'](),0xa),_0x25b124=parseInt(_0x3261b0[_0x3b7e27(0xef)]('_')[_0x3b7e27(0x219)](),0xa);return _0xa7a1a7-_0x25b124;});for(const _0x50a46c of _0x4fbfe4){const _0xf3a56e=_0x50a46c['split']('_')[0x1];!carts[_0xf3a56e]&&(carts[_0xf3a56e]=[]);const _0x26eb7b=new Promise((_0x4f9b5b,_0xc6e512)=>{const _0x4c297c=_0x59fcf7,_0x2375d2=_0x1a9f4e['transaction']([_0x50a46c],_0x4c297c(0x1e4)),_0x53b87a=_0x2375d2[_0x4c297c(0x1fc)](_0x50a46c),_0x36bcf8=_0x53b87a[_0x4c297c(0x14e)]();_0x36bcf8[_0x4c297c(0xb1)]=function(_0x4dbb33){const _0x243b78=_0x4c297c,_0x22e16a=_0x4dbb33[_0x243b78(0x170)][_0x243b78(0x1c2)];carts[_0xf3a56e]['length']=0x0,_0x22e16a['forEach'](_0x28e10b=>carts[_0xf3a56e][_0x243b78(0x110)](_0x28e10b)),renderCart(_0xf3a56e),_0x4f9b5b();},_0x36bcf8[_0x4c297c(0xc4)]=function(_0x4533ef){const _0x504b60=_0x4c297c;console[_0x504b60(0x154)](_0x504b60(0x9d)+_0xf3a56e+'.',_0x4533ef[_0x504b60(0x170)][_0x504b60(0x154)]),_0xc6e512(_0x4533ef[_0x504b60(0x170)][_0x504b60(0x154)]);};});_0x3c0ce9[_0x59fcf7(0x110)](_0x26eb7b);}}if(_0x16a7ba==0x2||_0x16a7ba==0x3){const _0x4c5c5c=document['getElementById'](_0x59fcf7(0x172)),_0x1d91a8=document[_0x59fcf7(0xf1)](_0x59fcf7(0xfb));_0x4c5c5c[_0x59fcf7(0x9a)]='',_0x1d91a8[_0x59fcf7(0x9a)]='',_0x2a1d5b&&(_0x4c5c5c['innerHTML']=_0x59fcf7(0xbf),_0x1d91a8[_0x59fcf7(0x9a)]=_0x2a1d5b[_0x59fcf7(0x1ff)]);}return _0x16a7ba==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable()),await Promise[_0x59fcf7(0xd0)](_0x3c0ce9),company[0x0]?.[_0x59fcf7(0x161)]&&(document[_0x59fcf7(0xf1)](_0x59fcf7(0x128))[_0x59fcf7(0xa6)]=company[0x0][_0x59fcf7(0x161)]),document['getElementById'](_0x59fcf7(0x128))['dispatchEvent'](new Event(_0x59fcf7(0xcc))),_0x16a7ba==0x1&&(tabCount=getMaxWindowId(carts),console[_0x59fcf7(0x18d)](_0x59fcf7(0x1f4)+tabCount)),_0x1a9f4e;}catch(_0x3e67a2){throw _0x3e67a2;}}function loadCartAndSetTabCount(_0x3a6bed){const _0x512df9=_0x5b1655;loadCart(_0x3a6bed)[_0x512df9(0x189)](async _0x55a342=>{const _0x40aa7a=_0x512df9;await initializeProducts(_0x55a342);if(_0x3a6bed==0x1){if(isLoggedIn(company)){const _0x5098d4=document[_0x40aa7a(0xf1)](_0x40aa7a(0xea))[_0x40aa7a(0xa6)];parseFloat(_0x5098d4)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x40aa7a(0x83)),document[_0x40aa7a(0x1b3)](_0x40aa7a(0xa5),function(_0x37785a){const _0x425104=_0x40aa7a,_0x398cbe=document[_0x425104(0xf1)](_0x425104(0xea))['value'],_0x14c6ca=document[_0x425104(0xf1)](_0x425104(0xdf)),_0x57a5ea=document['querySelectorAll'](_0x425104(0x93)),_0x2f8bca=document[_0x425104(0xf1)](_0x425104(0x105)+_0x398cbe),_0x2b8aee=document['getElementById'](_0x425104(0x8c)+_0x398cbe),_0x49c027=document[_0x425104(0xf1)](_0x425104(0x193));function _0x140629(_0x36f291){const _0x1b4bff=_0x425104;return _0x36f291&&(_0x36f291[_0x1b4bff(0x163)]>0x0||_0x36f291[_0x1b4bff(0x1e0)]>0x0||_0x36f291[_0x1b4bff(0xce)]()['length']);}let _0x42305a=[];if(_0x49c027&&_0x49c027['classList'][_0x425104(0x1b6)](_0x425104(0x213))){const _0xf57c8a=_0x49c027[_0x425104(0x10b)](_0x425104(0x1cf));_0xf57c8a[_0x425104(0x157)](_0x2720db=>{const _0xd18405=_0x425104;_0x140629(_0x2720db)&&!_0x2720db[_0xd18405(0x180)][_0xd18405(0x1b6)]('d-none')&&_0x42305a[_0xd18405(0x110)](_0x2720db);});const _0x3f626b=_0x49c027[_0x425104(0x125)](_0x425104(0x16d)+_0x398cbe);if(_0x3f626b){const _0x50da16=_0x3f626b['querySelectorAll'](_0x425104(0x10e));_0x50da16[_0x425104(0x157)](_0x2094cb=>{const _0x20a3e7=_0x425104;_0x140629(_0x2094cb)&&!_0x2094cb[_0x20a3e7(0x180)]['contains'](_0x20a3e7(0x194))&&_0x42305a[_0x20a3e7(0x110)](_0x2094cb);});}_0x2b8aee&&_0x140629(_0x2b8aee)&&!_0x2b8aee[_0x425104(0x180)][_0x425104(0x1b6)](_0x425104(0x194))&&(!_0x42305a[_0x425104(0x10d)](_0x2b8aee)&&_0x42305a[_0x425104(0x110)](_0x2b8aee));}else{_0x42305a=[_0x14c6ca,..._0x57a5ea];if(_0x2f8bca)_0x42305a[_0x425104(0x110)](_0x2f8bca);}const _0x271ba5=document['activeElement'],_0x14452b=_0x271ba5&&(_0x271ba5[_0x425104(0x16e)]==_0x425104(0x211)||_0x271ba5[_0x425104(0x16e)]=='TEXTAREA');if(_0x49c027&&_0x49c027[_0x425104(0x180)][_0x425104(0x1b6)](_0x425104(0x213))&&_0x37785a[_0x425104(0xca)]==_0x425104(0x89)){if(_0x271ba5&&_0x271ba5[_0x425104(0x180)][_0x425104(0x1b6)](_0x425104(0x18c))){_0x37785a[_0x425104(0x223)](),_0x271ba5['click']();return;}}if(_0x49c027&&_0x49c027[_0x425104(0x180)][_0x425104(0x1b6)]('active')&&_0x37785a[_0x425104(0xca)]=='Tab'&&!_0x49c027[_0x425104(0x1b6)](_0x271ba5)){_0x37785a['preventDefault']();_0x42305a['length']>0x0&&_0x42305a[0x0][_0x425104(0xc6)]();return;}if(_0x37785a[_0x425104(0xca)]==_0x425104(0x104)){_0x37785a['preventDefault']();if(_0x42305a[_0x425104(0x1bf)]==0x0)return;let _0x8fe941=_0x42305a['indexOf'](_0x271ba5);if(_0x8fe941==-0x1)_0x8fe941=-0x1;let _0x2fbd43;_0x37785a[_0x425104(0x1c4)]?_0x2fbd43=_0x8fe941<=0x0?_0x42305a[_0x425104(0x1bf)]-0x1:_0x8fe941-0x1:_0x2fbd43=_0x8fe941==_0x42305a['length']-0x1?0x0:_0x8fe941+0x1;_0x42305a[_0x2fbd43][_0x425104(0xc6)]();return;}(!_0x49c027||!_0x49c027['classList']['contains'](_0x425104(0x213)))&&!_0x14452b&&(_0x37785a[_0x425104(0xca)]['length']==0x1||_0x37785a[_0x425104(0xca)]==_0x425104(0x176)||_0x37785a[_0x425104(0xca)]==_0x425104(0x1a9))&&(_0x37785a[_0x425104(0x223)](),_0x14c6ca[_0x425104(0xc6)](),_0x37785a[_0x425104(0xca)]==_0x425104(0x176)||_0x37785a[_0x425104(0xca)]==_0x425104(0x1a9)?_0x14c6ca[_0x425104(0xa6)]=_0x14c6ca[_0x425104(0xa6)]['slice'](0x0,-0x1):!_0x14c6ca['value']?_0x14c6ca['value']=_0x37785a[_0x425104(0xca)]:_0x14c6ca[_0x425104(0xa6)]+=_0x37785a[_0x425104(0xca)]);}),loadTaxData(),resetNewItemForm();}if(_0x3a6bed==0x3){const _0x3b232d=document[_0x40aa7a(0xf1)]('setBranchId')[_0x40aa7a(0xa6)];fil_BranchesId[_0x40aa7a(0x110)](_0x3b232d),updateDateRange(_0x40aa7a(0xde));}})[_0x512df9(0xc7)](_0x146235=>{const _0x2ddd55=_0x512df9;console[_0x2ddd55(0x154)](_0x146235);})[_0x512df9(0x20d)](()=>{const _0x5b94df=_0x512df9;_0x3a6bed==0x1&&updateInternetIcon();let _0x37c38f;_0x3a6bed==0x1&&(_0x37c38f=_0x5b94df(0xe2)),(_0x3a6bed==0x2||_0x3a6bed==0x3)&&(_0x37c38f='./app.js?v=4.0.6'),registerServiceWorker(_0x37c38f,_0x3a6bed);});}