/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.0
*/

const _0x1ca8fe=_0x3d75;(function(_0x4e03cd,_0x59d141){const _0x30bc03=_0x3d75,_0xece28c=_0x4e03cd();while(!![]){try{const _0x5ee1b8=-parseInt(_0x30bc03(0xb6))/0x1+parseInt(_0x30bc03(0xaa))/0x2*(-parseInt(_0x30bc03(0xba))/0x3)+-parseInt(_0x30bc03(0x83))/0x4+parseInt(_0x30bc03(0xa5))/0x5*(-parseInt(_0x30bc03(0x85))/0x6)+parseInt(_0x30bc03(0x80))/0x7*(parseInt(_0x30bc03(0xac))/0x8)+-parseInt(_0x30bc03(0x94))/0x9+-parseInt(_0x30bc03(0xb8))/0xa*(-parseInt(_0x30bc03(0x82))/0xb);if(_0x5ee1b8===_0x59d141)break;else _0xece28c['push'](_0xece28c['shift']());}catch(_0xa6fe18){_0xece28c['push'](_0xece28c['shift']());}}}(_0x4e24,0x80a78));const _0x8051a4=(function(){let _0xd09db0=!![];return function(_0x219384,_0x49185e){const _0x2bd0e9=_0xd09db0?function(){const _0x344602=_0x3d75;if(_0x49185e){const _0x1469e1=_0x49185e[_0x344602(0xa4)](_0x219384,arguments);return _0x49185e=null,_0x1469e1;}}:function(){};return _0xd09db0=![],_0x2bd0e9;};}()),_0x1cbdef=_0x8051a4(this,function(){const _0x3726dc=_0x3d75;return _0x1cbdef['toString']()['search'](_0x3726dc(0xa2))[_0x3726dc(0x92)]()[_0x3726dc(0x90)](_0x1cbdef)[_0x3726dc(0xb1)](_0x3726dc(0xa2));});_0x1cbdef();const _0x16cd7a=(function(){let _0xbe2129=!![];return function(_0x8370bc,_0x1f4789){const _0x56e8a5=_0xbe2129?function(){if(_0x1f4789){const _0x5a0f01=_0x1f4789['apply'](_0x8370bc,arguments);return _0x1f4789=null,_0x5a0f01;}}:function(){};return _0xbe2129=![],_0x56e8a5;};}()),_0x3dd2e7=_0x16cd7a(this,function(){const _0x4791b2=_0x3d75,_0x2961f3=function(){const _0x5d4c0a=_0x3d75;let _0x52b5c1;try{_0x52b5c1=Function(_0x5d4c0a(0xb3)+_0x5d4c0a(0x88)+');')();}catch(_0x240b6b){_0x52b5c1=window;}return _0x52b5c1;},_0x2a9123=_0x2961f3(),_0xf2dd6f=_0x2a9123['console']=_0x2a9123[_0x4791b2(0xa8)]||{},_0x1de609=['log',_0x4791b2(0x81),_0x4791b2(0xa3),_0x4791b2(0x8e),_0x4791b2(0x93),_0x4791b2(0x99),_0x4791b2(0x9a)];for(let _0x3d752a=0x0;_0x3d752a<_0x1de609[_0x4791b2(0xb0)];_0x3d752a++){const _0x9c6076=_0x16cd7a[_0x4791b2(0x90)][_0x4791b2(0x9b)][_0x4791b2(0x91)](_0x16cd7a),_0x5997b3=_0x1de609[_0x3d752a],_0xc8e2a1=_0xf2dd6f[_0x5997b3]||_0x9c6076;_0x9c6076['__proto__']=_0x16cd7a[_0x4791b2(0x91)](_0x16cd7a),_0x9c6076[_0x4791b2(0x92)]=_0xc8e2a1['toString'][_0x4791b2(0x91)](_0xc8e2a1),_0xf2dd6f[_0x5997b3]=_0x9c6076;}});_0x3dd2e7();const selectCredentialsApiWAChat=document[_0x1ca8fe(0xa7)](_0x1ca8fe(0x87)),loginPanel=document['getElementById']('loginPanel'),chatPanel=document[_0x1ca8fe(0xa7)]('chatPanel'),qrImg=document['getElementById'](_0x1ca8fe(0x7f)),overlay=document[_0x1ca8fe(0xa7)](_0x1ca8fe(0x96));function _0x3d75(_0x9d108d,_0x552456){const _0x3a7852=_0x4e24();return _0x3d75=function(_0x3dd2e7,_0x16cd7a){_0x3dd2e7=_0x3dd2e7-0x7d;let _0x3d0d18=_0x3a7852[_0x3dd2e7];return _0x3d0d18;},_0x3d75(_0x9d108d,_0x552456);}let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x5fde69=_0x1ca8fe;loginPanel[_0x5fde69(0x9e)]['display']=_0x5fde69(0xb5),chatPanel[_0x5fde69(0x9e)][_0x5fde69(0xb7)]=_0x5fde69(0x7d);}function _0x4e24(){const _0xf0ea1a=['https://','then','style','setCredentialsApiWAChatSubdomain','none','dispatchEvent','(((.+)+)+)+$','info','apply','7165zQylBA','setCredentialsApiWAChatPort','getElementById','console','change','535822XhVdnP','click','16JCCvbl','json','setFloorId','display','length','search','status','return\x20(function()\x20','/wa/','flex','567238avnrHP','visibility','130BXYzzG','.btn-logout','9mkFrQl','hidden','/qr','qr-img','1254785hSRMbJ','warn','2905991SQyhwV','3672740qcgpuP','./img/apiPOS.png','3552UEWLsV','includes','setCredentialsApiWAChat','{}.constructor(\x22return\x20this\x22)(\x20)','setBranchId','ya\x20conectado','toLowerCase','addEventListener','Credenciales\x20no\x20encontradas','error','value','constructor','bind','toString','exception','1155627JFFppr','querySelector','qr-overlay','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','setCredentialsApiWAChatStatus','table','trace','prototype'];_0x4e24=function(){return _0xf0ea1a;};return _0x4e24();}function showChat(){const _0x524446=_0x1ca8fe;loginPanel['style']['display']='none',chatPanel[_0x524446(0x9e)][_0x524446(0xb7)]='visible';}async function displayQR(_0x50feb1){const _0x1cbfe7=_0x1ca8fe,_0x43fb86=selectCredentialsApiWAChat[_0x1cbfe7(0x8f)],_0x56ab18=getCredentialsApiWAChat(_0x43fb86);if(_0x56ab18){const _0x582e6b=_0x56ab18['setCredentialsApiWAChatSubdomain'],_0x25b2bc=_0x56ab18[_0x1cbfe7(0xa6)];clearTimeout(qrTimeout),overlay[_0x1cbfe7(0x9e)][_0x1cbfe7(0xaf)]=_0x1cbfe7(0xa0),qrImg['src']=_0x50feb1,qrTimeout=setTimeout(()=>{const _0x3e516b=_0x1cbfe7;fetch(_0x3e516b(0x9c)+_0x582e6b+'/wa/'+_0x25b2bc+_0x3e516b(0x7e),{'headers':{'x-auth-token':myCompany['setAuthToken']}})[_0x3e516b(0x9d)](async _0x5d29e6=>_0x5d29e6[_0x3e516b(0xad)]())[_0x3e516b(0x9d)](async _0x24b052=>{const _0x1319c9=_0x3e516b;_0x24b052[_0x1319c9(0xb2)]&&_0x24b052['status'][_0x1319c9(0x8b)]()[_0x1319c9(0x86)](_0x1319c9(0x8a))?(showChat(),_0x56ab18[_0x1319c9(0x98)]=0x1):(overlay['style'][_0x1319c9(0xaf)]='flex',_0x56ab18[_0x1319c9(0x98)]=0x0);const _0x1e0a2c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1e0a2c);})['catch'](_0x18ce47=>{const _0x3cd523=_0x3e516b;console[_0x3cd523(0x8e)](_0x3cd523(0x97),_0x18ce47),overlay[_0x3cd523(0x9e)][_0x3cd523(0xaf)]='flex';});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}async function init(){const _0xc6eb12=_0x1ca8fe,_0x3a809a=selectCredentialsApiWAChat['value'],_0x3512e4=getCredentialsApiWAChat(_0x3a809a);if(_0x3512e4){const _0x3359a2=_0x3512e4[_0xc6eb12(0x9f)],_0x310268=_0x3512e4[_0xc6eb12(0xa6)];fetch(_0xc6eb12(0x9c)+_0x3359a2+_0xc6eb12(0xb4)+_0x310268+_0xc6eb12(0x7e),{'headers':{'x-auth-token':myCompany['setAuthToken']}})[_0xc6eb12(0x9d)](async _0x2aaa7b=>_0x2aaa7b[_0xc6eb12(0xad)]())['then'](async _0x2577ff=>{const _0x53c79f=_0xc6eb12;if(_0x2577ff['status']&&_0x2577ff[_0x53c79f(0xb2)]['toLowerCase']()['includes'](_0x53c79f(0x8a)))showChat(),_0x3512e4[_0x53c79f(0x98)]=0x1;else _0x2577ff['qr']&&(showLogin(),displayQR(_0x2577ff['qr']),_0x3512e4[_0x53c79f(0x98)]=0x0);const _0x1b859a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1b859a);})['catch'](console[_0xc6eb12(0x8e)]);}else ntfShow(_0xc6eb12(0x8d));}overlay[_0x1ca8fe(0x8c)](_0x1ca8fe(0xab),init),window['onload']=function(){const _0x2c5471=_0x1ca8fe,_0x443922=0x4;loadLoginContent(_0x2c5471(0x84)),setUserNameGet(),setEventBtnAccess();const _0x4b6986=document[_0x2c5471(0x95)](_0x2c5471(0xb9));_0x4b6986&&_0x4b6986['addEventListener'](_0x2c5471(0xab),function(){logoutReload(0x0,_0x443922);}),document['getElementById'](_0x2c5471(0x89))[_0x2c5471(0x8c)](_0x2c5471(0xa9),async function(){const _0x35692f=_0x2c5471,_0x494756=parseInt(this[_0x35692f(0x8f)]);myCompany['setBranchDefault']=_0x494756,saveCredentialsApiWAChatInCompany();const _0x1ced1f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1ced1f),cargarAlmacenes(_0x494756),setTimeout(()=>{const _0x7d2d8b=_0x35692f;document[_0x7d2d8b(0xa7)]('setWarehouseId')[_0x7d2d8b(0xa1)](new Event(_0x7d2d8b(0xa9)));},0x64),cargarPisos(_0x494756),setTimeout(()=>{const _0x864c75=_0x35692f;document[_0x864c75(0xa7)](_0x864c75(0xae))[_0x864c75(0xa1)](new Event(_0x864c75(0xa9)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x443922);};