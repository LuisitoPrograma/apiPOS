/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.6
*/

const _0x4c8fd2=_0x2556;(function(_0x58d191,_0x4d3005){const _0xf9bb03=_0x2556,_0xf65dfc=_0x58d191();while(!![]){try{const _0x21f848=parseInt(_0xf9bb03(0xe9))/0x1+-parseInt(_0xf9bb03(0x14e))/0x2+-parseInt(_0xf9bb03(0x91))/0x3*(parseInt(_0xf9bb03(0x9f))/0x4)+parseInt(_0xf9bb03(0xd2))/0x5*(parseInt(_0xf9bb03(0xc0))/0x6)+parseInt(_0xf9bb03(0xd0))/0x7+-parseInt(_0xf9bb03(0x113))/0x8*(parseInt(_0xf9bb03(0xb2))/0x9)+parseInt(_0xf9bb03(0xb8))/0xa;if(_0x21f848===_0x4d3005)break;else _0xf65dfc['push'](_0xf65dfc['shift']());}catch(_0x2ad83a){_0xf65dfc['push'](_0xf65dfc['shift']());}}}(_0x1dbf,0x6bf79));const _0x4d2c5d=(function(){let _0x469cd3=!![];return function(_0x5481bb,_0x4fe309){const _0x573511=_0x469cd3?function(){const _0xa1f398=_0x2556;if(_0x4fe309){const _0x12b400=_0x4fe309[_0xa1f398(0xa2)](_0x5481bb,arguments);return _0x4fe309=null,_0x12b400;}}:function(){};return _0x469cd3=![],_0x573511;};}()),_0x3bc498=_0x4d2c5d(this,function(){const _0x152bce=_0x2556;return _0x3bc498[_0x152bce(0xfe)]()['search'](_0x152bce(0xf3))['toString']()[_0x152bce(0x7c)](_0x3bc498)['search'](_0x152bce(0xf3));});_0x3bc498();const _0xcd7787=(function(){let _0x5d155d=!![];return function(_0x2d772f,_0xb0046d){const _0x2cbb75=_0x5d155d?function(){if(_0xb0046d){const _0x1f4928=_0xb0046d['apply'](_0x2d772f,arguments);return _0xb0046d=null,_0x1f4928;}}:function(){};return _0x5d155d=![],_0x2cbb75;};}()),_0xe71ebd=_0xcd7787(this,function(){const _0x5f3614=_0x2556,_0x411951=function(){const _0x74134=_0x2556;let _0x447684;try{_0x447684=Function('return\x20(function()\x20'+_0x74134(0x94)+');')();}catch(_0x2d96b3){_0x447684=window;}return _0x447684;},_0x25f552=_0x411951(),_0x42b5c2=_0x25f552[_0x5f3614(0xf2)]=_0x25f552[_0x5f3614(0xf2)]||{},_0x5ae60f=[_0x5f3614(0xa9),'warn',_0x5f3614(0xba),_0x5f3614(0x13e),_0x5f3614(0xc6),'table',_0x5f3614(0x74)];for(let _0x1486ed=0x0;_0x1486ed<_0x5ae60f[_0x5f3614(0xcc)];_0x1486ed++){const _0x33957d=_0xcd7787[_0x5f3614(0x7c)]['prototype'][_0x5f3614(0x134)](_0xcd7787),_0xff8f6c=_0x5ae60f[_0x1486ed],_0x5c5a42=_0x42b5c2[_0xff8f6c]||_0x33957d;_0x33957d[_0x5f3614(0xac)]=_0xcd7787[_0x5f3614(0x134)](_0xcd7787),_0x33957d[_0x5f3614(0xfe)]=_0x5c5a42[_0x5f3614(0xfe)][_0x5f3614(0x134)](_0x5c5a42),_0x42b5c2[_0xff8f6c]=_0x33957d;}});_0xe71ebd();let arrayIncomes;const divChartIncome=document[_0x4c8fd2(0x72)](_0x4c8fd2(0xdb));let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x4a82dc){const _0x20b060=_0x4c8fd2,{containerId:_0x3b2e0c,rawData:_0x41f4b8,groupField:_0x357644,groupValues:_0x338577,seriesType:seriesType=_0x20b060(0x106),chartType:chartType=seriesType,encode:_0x21c5b4,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder='valueDesc',xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x15da97,height:_0x4f0205}=_0x4a82dc,_0x528f64=document[_0x20b060(0x72)](_0x3b2e0c);if(!_0x528f64){console['error']('El\x20contenedor\x20con\x20id\x20\x22'+_0x3b2e0c+_0x20b060(0x13b));return;}if(_0x15da97)_0x528f64[_0x20b060(0xe3)][_0x20b060(0xfa)]=_0x15da97;if(_0x4f0205)_0x528f64[_0x20b060(0xe3)][_0x20b060(0x143)]=_0x4f0205;const _0x3f7003=echarts[_0x20b060(0x89)](_0x528f64),_0x5b41be=[],_0x22b297=[];_0x338577[_0x20b060(0xe1)]((_0x1dc73e,_0x4970d4)=>{const _0x14312b=_0x20b060,_0x580520='dataset_'+_0x1dc73e,_0x359906=(_0x4a82dc[_0x14312b(0x103)]||[])['concat']([{'dimension':_0x357644,'=':_0x1dc73e}]);_0x5b41be[_0x14312b(0xa7)]({'id':_0x580520,'fromDatasetId':_0x14312b(0x75),'transform':{'type':_0x14312b(0x125),'config':{'and':_0x359906}}}),_0x22b297[_0x14312b(0xa7)]({'type':chartType,'datasetId':_0x580520,'name':_0x1dc73e,...chartType===_0x14312b(0x12e)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x4970d4]||undefined},...chartType===_0x14312b(0x106)&&{'showSymbol':![]},'encode':_0x21c5b4});});const _0x14e2dc={'animationDuration':animationDuration,'dataset':[{'id':_0x20b060(0x75),'source':_0x41f4b8},..._0x5b41be],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x20b060(0x99)},'xAxis':Object[_0x20b060(0x90)]({'type':_0x20b060(0x121),'nameLocation':_0x20b060(0x7a)},xAxisConfig),'yAxis':Object[_0x20b060(0x90)]({'name':_0x21c5b4['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x22b297};_0x3f7003[_0x20b060(0xad)](_0x14e2dc);}function generatePieChart({containerId:_0x340347,data:_0x331d0b,nameField:_0x5ddba2,valueField:_0xc42b2a,title:title='',titlePosition:titlePosition=_0x4c8fd2(0x12b),showTitle:showTitle=!![],width:_0x5d928e,height:_0x38c443}){const _0x423ca6=_0x4c8fd2,_0x4d1af0=document[_0x423ca6(0x72)](_0x340347);if(!_0x4d1af0)return console['error']('Contenedor\x20'+_0x340347+'\x20no\x20existe');if(_0x5d928e)_0x4d1af0[_0x423ca6(0xe3)][_0x423ca6(0xfa)]=_0x5d928e;if(_0x38c443)_0x4d1af0['style'][_0x423ca6(0x143)]=_0x38c443;const _0x1c64e9=echarts[_0x423ca6(0x89)](_0x4d1af0),_0x424bab=_0x331d0b[_0x423ca6(0xdf)]((_0x5a19e4,_0x4e453c)=>{const _0x23eb5f=_0x423ca6,_0x38e503=_0x4e453c[_0x5ddba2],_0x5d958d=_0x4e453c[_0xc42b2a];let _0x5770d3=_0x5a19e4[_0x23eb5f(0xde)](_0xbfea22=>_0xbfea22[_0x23eb5f(0xf1)]===_0x38e503);return!_0x5770d3&&(_0x5770d3={'name':_0x38e503,'value':0x0},_0x5a19e4[_0x23eb5f(0xa7)](_0x5770d3)),_0x5770d3[_0x23eb5f(0x11f)]+=_0x5d958d,_0x5a19e4;},[]);let _0x36511a;showTitle?(_0x36511a={'text':title,'left':'center'},titlePosition===_0x423ca6(0x80)?_0x36511a['bottom']=0x0:_0x36511a[_0x423ca6(0x12b)]=0x0):_0x36511a={'show':![]};const _0x63c45a={'title':_0x36511a,'tooltip':{'trigger':_0x423ca6(0xa5)},'series':[{'type':_0x423ca6(0xdc),'radius':_0x423ca6(0xb9),'data':_0x424bab,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x423ca6(0x8f)}}]};_0x1c64e9['setOption'](_0x63c45a);}function generateHorizontalBarChart({containerId:_0x337fa6,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],colors:colors=[],width:_0x20d632,height:_0x1eeab4,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x46feb7=_0x4c8fd2,_0x25d62f=document['getElementById'](_0x337fa6);if(!_0x25d62f)return console[_0x46feb7(0x13e)](_0x46feb7(0xe0)+_0x337fa6+_0x46feb7(0x118));if(_0x20d632)_0x25d62f[_0x46feb7(0xe3)]['width']=_0x20d632;if(_0x1eeab4)_0x25d62f[_0x46feb7(0xe3)][_0x46feb7(0x143)]=_0x1eeab4;const _0x627f80=echarts[_0x46feb7(0x89)](_0x25d62f),_0x277cdf=showTitle?{'text':title,'left':_0x46feb7(0x10e),...titlePosition==='bottom'?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x46feb7(0x80)?_0x277cdf[_0x46feb7(0x80)]=0x0:_0x277cdf[_0x46feb7(0x12b)]=0x0;const _0x2e5124={'title':_0x277cdf,'tooltip':{'trigger':_0x46feb7(0x99),'axisPointer':{'type':_0x46feb7(0x122)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x46feb7(0x90)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x46feb7(0x121),'data':categories},yAxisConfig),'series':series[_0x46feb7(0x107)]((_0x4e2821,_0x57e09f)=>({'type':_0x46feb7(0x12e),'name':_0x4e2821['name'],'data':_0x4e2821[_0x46feb7(0x10f)],'itemStyle':{'color':colors[_0x57e09f]||undefined}}))};_0x627f80[_0x46feb7(0xad)](_0x2e5124);}function showModalViewDetails(){const _0x5e57af=_0x4c8fd2,_0x426845=document[_0x5e57af(0x72)]('detalleModal'),_0x3ed435=document[_0x5e57af(0x72)](_0x5e57af(0x141));_0x426845['classList']['add']('active'),_0x3ed435[_0x5e57af(0xe3)][_0x5e57af(0xf5)]=_0x5e57af(0x83);}function hideModalViewDetails(){const _0x1c22d6=_0x4c8fd2,_0x707cb2=document['getElementById'](_0x1c22d6(0x10b)),_0x4b997f=document['getElementById'](_0x1c22d6(0x141));_0x707cb2[_0x1c22d6(0x96)][_0x1c22d6(0x105)](_0x1c22d6(0x11b)),_0x4b997f[_0x1c22d6(0xe3)]['display']=_0x1c22d6(0x129);const _0x896665=document[_0x1c22d6(0x72)](_0x1c22d6(0xdd));_0x896665['innerHTML']=_0x1c22d6(0x12a);}document[_0x4c8fd2(0x72)]('closeModalViewDetails')[_0x4c8fd2(0xfc)](_0x4c8fd2(0xfb),hideModalViewDetails),document['getElementById'](_0x4c8fd2(0x141))['addEventListener']('click',hideModalViewDetails);function verDetalle(_0x36ea32,_0x361be0){const _0x2ab5f0=_0x4c8fd2;fetch(_0x2ab5f0(0xff)+_0x36ea32+'&tipo='+_0x361be0)['then'](_0x28cc73=>{const _0x9acbb8=_0x2ab5f0;if(!_0x28cc73['ok'])throw new Error(_0x9acbb8(0xa6)+_0x28cc73[_0x9acbb8(0x86)]+':\x20'+_0x28cc73[_0x9acbb8(0x14c)]);return _0x28cc73[_0x9acbb8(0xc9)]();})[_0x2ab5f0(0x123)](_0xd43165=>{const _0x498855=_0x2ab5f0;if(_0xd43165['success']){const _0x4360b9=document[_0x498855(0x72)]('dynamicContent');if(_0x361be0===_0x498855(0xf0)){let _0x1c914b='';_0xd43165['data']['forEach'](_0x2e9a3b=>{const _0x210407=_0x498855;_0x1c914b+=_0x210407(0x144)+_0x2e9a3b[_0x210407(0x9d)]+_0x210407(0xbf)+_0x2e9a3b[_0x210407(0x10a)]+_0x210407(0xbf)+_0x2e9a3b[_0x210407(0x97)]+'</td>\x0a<td>'+_0x2e9a3b[_0x210407(0xbd)]+_0x210407(0x95);}),document['getElementById']('detalleTablaBody')[_0x498855(0xe2)]=_0x1c914b;}else{if(_0x361be0===_0x498855(0x10d)){const _0x258ba4=_0x498855(0x7e)+encodeURIComponent(_0xd43165[_0x498855(0x10c)]),_0x1c79b1=document[_0x498855(0xc8)](_0x498855(0x13d));_0x4360b9['innerHTML']=_0x498855(0x85)+_0x258ba4+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x498855(0x72)]('closeModalViewDetails')[_0x498855(0xfc)](_0x498855(0xfb),hideModalViewDetails);}}showModalViewDetails();}else alert(_0xd43165[_0x498855(0x13e)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0x2ab5f0(0x78)](_0x41eb36=>{console['error']('Error\x20al\x20cargar\x20el\x20detalle:',_0x41eb36),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}const tableWrappers=document[_0x4c8fd2(0x138)]('.table-wrapper');tableWrappers[_0x4c8fd2(0xe1)](_0x4dcf32=>{const _0x3e345b=_0x4c8fd2;let _0xb54dd8=![],_0x524d6d,_0xe9bff1;_0x4dcf32[_0x3e345b(0xfc)]('mousedown',_0x32941f=>{const _0x34bd63=_0x3e345b;_0xb54dd8=!![],_0x524d6d=_0x32941f[_0x34bd63(0xd9)]-_0x4dcf32[_0x34bd63(0xef)],_0xe9bff1=_0x4dcf32[_0x34bd63(0x11e)];}),_0x4dcf32[_0x3e345b(0xfc)](_0x3e345b(0x131),()=>{_0xb54dd8=![];}),_0x4dcf32[_0x3e345b(0xfc)](_0x3e345b(0xc2),()=>{_0xb54dd8=![];}),_0x4dcf32[_0x3e345b(0xfc)](_0x3e345b(0xda),_0x48160b=>{const _0x555b=_0x3e345b;if(!_0xb54dd8)return;_0x48160b['preventDefault']();const _0x1a5c87=_0x48160b[_0x555b(0xd9)]-_0x4dcf32[_0x555b(0xef)],_0x2a7a6c=(_0x1a5c87-_0x524d6d)*0x2;_0x4dcf32[_0x555b(0x11e)]=_0xe9bff1-_0x2a7a6c;});});function _0x1dbf(){const _0x2275f1=['2092447qfwACg','setOperationDetailUnitCost','10UODzAf','customerName','#pagination-income','recibo','btn-outline','setOperationTypeSpan','productName','pageX','mousemove','divChartIncome','pie','dynamicContent','find','reduce','Contenedor\x20','forEach','innerHTML','style','setCustomerId','flatMap','setCustomerName','setBranchId','\x2000:00:00','285160FdoHhw','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','stringify','onclick',';\x20color:\x20','./img/apiPOS.png','offsetLeft','detalle','name','console','(((.+)+)+)+$','currency','display','slice','sort','className','#reporte-income-products','width','click','addEventListener','preventDefault','toString','https://fasyb.com/api/venta/view/?id=','Evolución\x20de\x20Ventas','application/json;\x20charset=utf-8','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','additionalFilters','fechaISO','remove','line','map','Export\x20WK\x20Error:','100%','cantidad','detalleModal','pdf_url','pdf','center','data','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','appendChild','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','8JUkhsG','Pendiente','POST','createElement','createObjectURL','\x20no\x20existe','setOperationPaymentStatus','&laquo;\x20Anterior','active','round','entries','scrollLeft','value','cost','category','shadow','then','setSeries','filter','btnExport','Error\x20al\x20exportar.','\x2023:59:59','none','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','top','filter-end','values','bar','setOperationItems','products','mouseleave','ID_SERIE','#pagination-customers','bind','filterModal','profit','setOperationCustomerId','querySelectorAll','setOperationDateTime','application/octet-stream','\x22\x20no\x20existe.','Siguiente\x20&raquo;','.modal-content','error','Error\x20al\x20aplicar\x20filtro','setTipoOperacionName','modalOverlayViewDetails','hide','height','\x0a<tr>\x0a<td>','setOperationCustomerName','setOperationId','textContent','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','Selecciona\x20ambas\x20fechas','Ventas\x20por\x20Producto','statusText','exportReport','1578542OTMYUw','getElementById','setApiEndPoint','trace','dataset_raw','revokeObjectURL','setAuthToken','catch','setOperationDetailQuantity','middle','factura','constructor','\x0a</td>\x0a<td></td>\x0a','https://fasyb.com/api/pdf/proxy/?file=','#080060','bottom','Costo','setOperationNumber','block','setDescripcion','\x0a<iframe\x20src=\x22','status','split','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','init','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','...','setTipoOperaciones','Ventas\x20por\x20Cliente','#reporte-income-customers','{b}:\x20{d}%','assign','26436vWukcg','400px','Error\x20al\x20solicitar\x20reporte','{}.constructor(\x22return\x20this\x22)(\x20)','</td>\x0a</tr>','classList','valor_unitario','#reporte-income','axis','incomes','setTipoOperacionCodigo','setOperationTotal','producto','getInstance','260YuUJAa','#FF5900','postMessage','apply','setOperationDetailUnitPresentationId','exportDone','item','Error\x20','push','toISOString','log','toFixed',';\x22>\x0a','__proto__','setOption','setOperationSeries','filter-start','from','sales','1080117LAGIvj','setCustomers','setOperationPaymentStatusColor','setOperationPaymentStatusName','setOperationDetailTotal','Total','7233040SeApVl','50%','info','divChartCustomer','Ventas','total','setOperationCurrency','</td>\x0a<td>','1850736MVYrne','Pagado','mouseup','label','href','No\x20se\x20encontró\x20información\x20de\x20ingresos','exception','setTipoComprobante','querySelector','json','setBranchDefault','boleta','length','500px','setOperationType','isArray'];_0x1dbf=function(){return _0x2275f1;};return _0x1dbf();}async function consultIncomeReport(){const _0x343b8b=_0x4c8fd2;showLoadingModal();const _0x2a1443={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x343b8b(0x77)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x2d752c=await fetch(myCompany[_0x343b8b(0x73)],{'method':_0x343b8b(0x115),'headers':{'Content-Type':_0x343b8b(0x101)},'body':JSON[_0x343b8b(0xeb)](_0x2a1443)}),{success:_0x140c08,message:_0x287743}=await _0x2d752c[_0x343b8b(0xc9)]();if(!_0x140c08||!Array['isArray'](_0x287743['incomes'])){ntfShow(_0x343b8b(0xc5)),console[_0x343b8b(0xa9)](_0x287743);return;}const _0x2e3ab7=_0x287743[_0x343b8b(0x9a)],_0x335224=myCompany[_0x343b8b(0xb3)][_0x343b8b(0xdf)]((_0xbe59e3,_0x33efd8)=>(_0xbe59e3[_0x33efd8[_0x343b8b(0xe4)]]=_0x33efd8[_0x343b8b(0xe6)],_0xbe59e3),{}),_0x1416cc=myCompany[_0x343b8b(0x8c)][_0x343b8b(0xdf)]((_0x3c442e,_0x5a78f1)=>(_0x3c442e[_0x5a78f1[_0x343b8b(0x9b)]]=_0x5a78f1[_0x343b8b(0x140)],_0x3c442e),{}),_0x3ea333=myCompany[_0x343b8b(0x124)][_0x343b8b(0xdf)]((_0x3d604d,_0x551c81)=>(_0x3d604d[_0x551c81[_0x343b8b(0x132)]]=_0x551c81['setSerie'],_0x3d604d),{});arrayIncomes=_0x2e3ab7[_0x343b8b(0x107)](_0xe7bb7d=>{const _0x463c6a=_0x343b8b,_0x2d0bdb=_0xe7bb7d['setOperationItems'][_0x463c6a(0xdf)]((_0x4302fe,_0x4788a5)=>_0x4302fe+Number(_0x4788a5[_0x463c6a(0xb6)]),0x0),_0x3b40ae=_0x1416cc[_0xe7bb7d['setOperationType']]||_0xe7bb7d[_0x463c6a(0xce)],_0x47860a=_0x3ea333[_0xe7bb7d[_0x463c6a(0xae)]]||_0xe7bb7d['setOperationSeries'],_0x430e41=_0x335224[_0xe7bb7d[_0x463c6a(0x137)]]||_0xe7bb7d[_0x463c6a(0x137)],_0x3c2e89=_0xe7bb7d[_0x463c6a(0x119)]==0x1?'#00bb2d':_0x463c6a(0xa0),_0x16b0c3=_0xe7bb7d[_0x463c6a(0x119)]==0x1?_0x463c6a(0xc1):_0x463c6a(0x114),_0x9027a0=_0xe7bb7d[_0x463c6a(0xce)]==0x1?'pedido':_0xe7bb7d[_0x463c6a(0xce)]==0x2?_0x463c6a(0xd5):_0xe7bb7d[_0x463c6a(0xce)]==0x3?_0x463c6a(0xcb):_0xe7bb7d[_0x463c6a(0xce)]==0x4?_0x463c6a(0x7b):_0x463c6a(0xd5);return{'setOperationId':_0xe7bb7d[_0x463c6a(0x146)],'setOperationType':_0x3b40ae,'setOperationTypeSpan':_0x9027a0,'setOperationSeries':_0x47860a+'-'+_0xe7bb7d[_0x463c6a(0x82)],'setOperationCustomerName':_0x430e41,'setOperationDateTime':_0xe7bb7d[_0x463c6a(0x139)],'setOperationPaymentStatusColor':_0x3c2e89,'setOperationPaymentStatusName':_0x16b0c3,'setOperationCurrency':_0xe7bb7d[_0x463c6a(0xbe)],'setOperationTotal':_0x2d0bdb};});const _0x5a7cac=_0x2e3ab7[_0x343b8b(0xe5)](_0x54d7c5=>_0x54d7c5[_0x343b8b(0x12f)]['map'](_0x247310=>({'item':_0x247310,'moneda':_0x54d7c5['setOperationCurrency']})))[_0x343b8b(0xdf)]((_0xbf74ab,{item:_0x80bbdd,moneda:_0x27a797})=>{const _0x527922=_0x343b8b,_0x3af753=products[_0x527922(0xde)](_0x463e51=>_0x463e51['id']==_0x80bbdd[_0x527922(0xa3)]),_0x2a5e39=_0x3af753?_0x3af753[_0x527922(0x84)]:'Sin\x20descripción',_0x67ea32=_0x2a5e39+'|'+_0x27a797,_0x1e81f7=Number(_0x80bbdd[_0x527922(0xb6)]),_0x1717a1=Number(_0x80bbdd[_0x527922(0xd1)])*Number(_0x80bbdd[_0x527922(0x79)]);return!_0xbf74ab[_0x67ea32]&&(_0xbf74ab[_0x67ea32]={'productName':_0x2a5e39,'currency':_0x27a797,'sales':0x0,'cost':0x0}),_0xbf74ab[_0x67ea32][_0x527922(0xb1)]+=_0x1e81f7,_0xbf74ab[_0x67ea32][_0x527922(0x120)]+=_0x1717a1,_0xbf74ab;},{}),_0x56cb46=Object[_0x343b8b(0x12d)](_0x5a7cac)[_0x343b8b(0x107)](_0x5a625b=>({'productName':_0x5a625b[_0x343b8b(0xd8)],'currency':_0x5a625b['currency'],'sales':Math[_0x343b8b(0x11c)](_0x5a625b[_0x343b8b(0xb1)]*0x64)/0x64,'cost':Math['round'](_0x5a625b[_0x343b8b(0x120)]*0x64)/0x64,'profit':Math[_0x343b8b(0x11c)]((_0x5a625b[_0x343b8b(0xb1)]-_0x5a625b[_0x343b8b(0x120)])*0x64)/0x64})),_0x418f70=_0x2e3ab7[_0x343b8b(0xdf)]((_0x1ffe68,_0x348020)=>{const _0x567f16=_0x343b8b,_0x11d956=_0x335224[_0x348020[_0x567f16(0x137)]]||_0x348020[_0x567f16(0x137)],_0x1e5553=_0x348020['setOperationCurrency'],_0x5c9ed6=_0x11d956+'|'+_0x1e5553,_0x29bf2e=_0x348020['setOperationItems']['reduce']((_0x53400d,_0x5e548a)=>_0x53400d+Number(_0x5e548a['setOperationDetailTotal']),0x0),_0x357f14=_0x348020[_0x567f16(0x12f)][_0x567f16(0xdf)]((_0x120280,_0x4889c9)=>_0x120280+Number(_0x4889c9[_0x567f16(0xd1)])*Number(_0x4889c9['setOperationDetailQuantity']),0x0);return!_0x1ffe68[_0x5c9ed6]&&(_0x1ffe68[_0x5c9ed6]={'customerName':_0x11d956,'currency':_0x1e5553,'sales':0x0,'cost':0x0}),_0x1ffe68[_0x5c9ed6][_0x567f16(0xb1)]+=_0x29bf2e,_0x1ffe68[_0x5c9ed6]['cost']+=_0x357f14,_0x1ffe68;},{}),_0x3f6970=Object['values'](_0x418f70)[_0x343b8b(0x107)](_0x37f83e=>({'customerName':_0x37f83e[_0x343b8b(0xd3)],'currency':_0x37f83e['currency'],'sales':Math['round'](_0x37f83e[_0x343b8b(0xb1)]*0x64)/0x64,'cost':Math[_0x343b8b(0x11c)](_0x37f83e[_0x343b8b(0x120)]*0x64)/0x64,'profit':Math['round']((_0x37f83e[_0x343b8b(0xb1)]-_0x37f83e[_0x343b8b(0x120)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,'incomes'),renderTable(_0x56cb46,currentPageProducts,_0x343b8b(0x130)),renderTable(_0x3f6970,currentPageCustomers,'customers');const _0x3e7ef0=arrayIncomes[_0x343b8b(0x107)](_0x5acd71=>({'fechaISO':_0x5acd71[_0x343b8b(0x139)][_0x343b8b(0x87)]('\x20')[0x0],'setTipoComprobante':_0x5acd71[_0x343b8b(0xce)],'setOperationCurrency':_0x5acd71[_0x343b8b(0xbe)],'Total':Math[_0x343b8b(0x11c)](_0x5acd71[_0x343b8b(0x9c)]*0x64)/0x64})),_0x19a9cb=_0x3e7ef0[_0x343b8b(0xdf)]((_0x2b7513,_0x1cc879)=>{const _0x4759b2=_0x343b8b,_0x1618a3=_0x1cc879[_0x4759b2(0x104)]+'|'+_0x1cc879[_0x4759b2(0xc7)]+'|'+_0x1cc879['setOperationCurrency'];if(!_0x2b7513[_0x1618a3])_0x2b7513[_0x1618a3]={..._0x1cc879,'Total':0x0};return _0x2b7513[_0x1618a3][_0x4759b2(0xb7)]+=_0x1cc879[_0x4759b2(0xb7)],_0x2b7513;},{}),_0x3cf2c5=Object['values'](_0x19a9cb)['map'](_0x47a795=>({'fechaISO':_0x47a795[_0x343b8b(0x104)],'setTipoComprobante':_0x47a795[_0x343b8b(0xc7)]+'\x20('+_0x47a795[_0x343b8b(0xbe)]+')','Total':Math['round'](_0x47a795['Total']*0x64)/0x64})),_0x35d502=[...new Set(_0x3cf2c5[_0x343b8b(0x107)](_0x3ed13a=>_0x3ed13a['setTipoComprobante']))],_0x229397=Array[_0x343b8b(0xb0)](new Set(_0x3cf2c5['map'](_0x407e2a=>_0x407e2a['fechaISO'])))[_0x343b8b(0xf7)]((_0x39eabf,_0x5402ce)=>new Date(_0x39eabf)-new Date(_0x5402ce));_0x3cf2c5[_0x343b8b(0xcc)]>0x0?generateFilterTransformChart({'containerId':_0x343b8b(0xdb),'rawData':_0x3cf2c5,'groupField':'setTipoComprobante','groupValues':_0x35d502,'seriesType':_0x343b8b(0x12e),'chartType':_0x343b8b(0x12e),'colors':[_0x343b8b(0xa0),_0x343b8b(0x7f)],'encode':{'x':_0x343b8b(0x104),'y':'Total','label':[_0x343b8b(0xc7),_0x343b8b(0xb7)],'itemName':_0x343b8b(0x104),'tooltip':['Total']},'xAxisConfig':{'type':'category','data':_0x229397,'axisLabel':{'formatter':_0x18ba5b=>{const _0x1acafc=_0x343b8b,[_0x2b63a1,_0x2749f2,_0x3b8a32]=_0x18ba5b[_0x1acafc(0x87)]('-');return _0x3b8a32+'/'+_0x2749f2+'/'+_0x2b63a1;}}},'title':_0x343b8b(0x100),'width':_0x343b8b(0x109),'height':_0x343b8b(0xcd)}):divChartIncome['innerHTML']='';_0x56cb46['length']>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x56cb46[_0x343b8b(0x107)](_0x16c2b5=>{const _0x537c9a=_0x343b8b,_0x54cccf='('+_0x16c2b5[_0x537c9a(0xf4)]+')\x20'+_0x16c2b5[_0x537c9a(0xd8)];return _0x54cccf[_0x537c9a(0xcc)]>0xf?_0x54cccf['substring'](0x0,0xf)+_0x537c9a(0x8b):_0x54cccf;}),'series':[{'name':_0x343b8b(0xbc),'data':_0x56cb46[_0x343b8b(0x107)](_0x466801=>_0x466801['sales'])},{'name':_0x343b8b(0x81),'data':_0x56cb46[_0x343b8b(0x107)](_0x49b801=>_0x49b801[_0x343b8b(0x120)])},{'name':'Ganancia','data':_0x56cb46[_0x343b8b(0x107)](_0x209c0f=>_0x209c0f[_0x343b8b(0x136)])}],'title':_0x343b8b(0x14b),'titlePosition':_0x343b8b(0x80),'showTitle':![],'colors':[_0x343b8b(0xa0),_0x343b8b(0x7f),'#00AEEF'],'width':'100%','height':_0x343b8b(0x92)}):divChartItem[_0x343b8b(0xe2)]='';if(_0x3f6970[_0x343b8b(0xcc)]>0x0){const _0x165cd4=_0x3f6970[_0x343b8b(0x107)](_0x216093=>({'label':_0x216093['customerName']+'\x20('+_0x216093['currency']+')','sales':_0x216093[_0x343b8b(0xb1)]}));generatePieChart({'containerId':_0x343b8b(0xbb),'data':_0x165cd4,'nameField':_0x343b8b(0xc3),'valueField':_0x343b8b(0xb1),'title':_0x343b8b(0x8d),'titlePosition':_0x343b8b(0x12b),'showTitle':![],'width':_0x343b8b(0xcd),'height':'500px'});}else divChartCustomer[_0x343b8b(0xe2)]='';}catch(_0x78dd2){ntfShow(_0x343b8b(0x93)),console[_0x343b8b(0x13e)](_0x78dd2);}finally{hideLoadingModal();}}function renderTable(_0x19e6ad,_0x51c695=0x1,_0x2a6961='incomes'){const _0x15b5f4=_0x4c8fd2;currentPage=_0x51c695;const _0x20c60e=_0x2a6961==='incomes'?_0x15b5f4(0x98):_0x2a6961===_0x15b5f4(0x130)?_0x15b5f4(0xf9):_0x15b5f4(0x8e),_0x278369=_0x2a6961===_0x15b5f4(0x9a)?per_page:_0x2a6961==='products'?per_page_products:per_page_customers,_0x5e52e2=document[_0x15b5f4(0xc8)](_0x20c60e+'\x20tbody');_0x5e52e2['innerHTML']='';const _0x479def=(_0x51c695-0x1)*_0x278369,_0x51667d=_0x19e6ad[_0x15b5f4(0xf6)](_0x479def,_0x479def+_0x278369);if(_0x2a6961===_0x15b5f4(0x9a)){_0x51667d['forEach'](_0x1404dc=>{const _0x45f1e2=_0x15b5f4,_0x496632=document[_0x45f1e2(0x116)]('tr');_0x496632['innerHTML']=_0x45f1e2(0x8a)+_0x1404dc[_0x45f1e2(0xd7)]+'\x22>\x0a'+_0x1404dc['setOperationType']+_0x45f1e2(0x88)+(_0x1404dc['setOperationSeries']||'')+'</td>\x0a<td>'+(_0x1404dc[_0x45f1e2(0x145)]||'')+_0x45f1e2(0x112)+_0x1404dc['setOperationDateTime']+_0x45f1e2(0xea)+_0x1404dc[_0x45f1e2(0xb4)]+_0x45f1e2(0xed)+_0x1404dc['setOperationPaymentStatusColor']+_0x45f1e2(0xab)+_0x1404dc[_0x45f1e2(0xb5)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x1404dc[_0x45f1e2(0xbe)]+_0x45f1e2(0x148)+_0x1404dc[_0x45f1e2(0x9c)][_0x45f1e2(0xaa)](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x1404dc[_0x45f1e2(0x146)]+',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x1404dc[_0x45f1e2(0x146)]+_0x45f1e2(0x149),_0x5e52e2['appendChild'](_0x496632);});const _0x22bcac=_0x19e6ad[_0x15b5f4(0xdf)]((_0xb52cd,_0xccb4d0)=>{const _0x473fff=_0x15b5f4,_0x926512=_0xccb4d0['setOperationCurrency'];return _0xb52cd[_0x926512]=(_0xb52cd[_0x926512]||0x0)+Number(_0xccb4d0[_0x473fff(0x9c)]),_0xb52cd;},{});Object[_0x15b5f4(0x11d)](_0x22bcac)[_0x15b5f4(0xe1)](([_0x490963,_0x56e207])=>{const _0x4e9b32=_0x15b5f4,_0x1bc691=document['createElement']('tr');_0x1bc691[_0x4e9b32(0xe2)]=_0x4e9b32(0x110)+_0x490963+'):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x4e9b32(0x11c)](_0x56e207*0x64)/0x64)[_0x4e9b32(0xaa)](0x2)+_0x4e9b32(0x7d),_0x5e52e2['appendChild'](_0x1bc691);}),renderPagination(_0x19e6ad,_0x51c695,_0x2a6961);}}function renderPagination(_0x4a7395,_0x520890,_0x29274f=_0x4c8fd2(0x9a)){const _0x1483cf=_0x4c8fd2,_0x29ae4d=_0x29274f===_0x1483cf(0x9a)?document[_0x1483cf(0xc8)](_0x1483cf(0xd4)):_0x29274f===_0x1483cf(0x130)?document[_0x1483cf(0xc8)]('#pagination-products'):document[_0x1483cf(0xc8)](_0x1483cf(0x133)),_0x6524ce=_0x29274f===_0x1483cf(0x9a)?per_page:_0x29274f==='products'?per_page_products:per_page_customers;_0x29ae4d[_0x1483cf(0xe2)]='';const _0x26982c=Math['ceil'](_0x4a7395[_0x1483cf(0xcc)]/_0x6524ce),_0x2d5df6=document[_0x1483cf(0x116)]('a');_0x2d5df6['href']='#',_0x2d5df6['className']='btn\x20btn-sm\x20btn-outline\x20me-2',_0x2d5df6[_0x1483cf(0xe2)]=_0x1483cf(0x11a),_0x2d5df6['onclick']=_0xfe7691=>{const _0xa353a4=_0x1483cf;_0xfe7691[_0xa353a4(0xfd)]();if(_0x520890>0x1)renderTable(_0x4a7395,_0x520890-0x1,_0x29274f);},_0x29ae4d[_0x1483cf(0x111)](_0x2d5df6);for(let _0x48d8f7=0x1;_0x48d8f7<=_0x26982c;_0x48d8f7++){const _0x2ac8bb=document[_0x1483cf(0x116)]('a');_0x2ac8bb[_0x1483cf(0xc4)]='#',_0x2ac8bb['className']='btn\x20btn-sm\x20'+(_0x48d8f7===_0x520890?'btn-outline-primary':_0x1483cf(0xd6)),_0x2ac8bb[_0x1483cf(0x147)]=_0x48d8f7,_0x2ac8bb[_0x1483cf(0xec)]=_0x89eed3=>{const _0x1fc2e8=_0x1483cf;_0x89eed3[_0x1fc2e8(0xfd)](),renderTable(_0x4a7395,_0x48d8f7,_0x29274f);},_0x29ae4d['appendChild'](_0x2ac8bb);}const _0x4beed8=document[_0x1483cf(0x116)]('a');_0x4beed8[_0x1483cf(0xc4)]='#',_0x4beed8[_0x1483cf(0xf8)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x4beed8['innerHTML']=_0x1483cf(0x13c),_0x4beed8[_0x1483cf(0xec)]=_0x2e15a1=>{const _0x58b7a0=_0x1483cf;_0x2e15a1[_0x58b7a0(0xfd)]();if(_0x520890<_0x26982c)renderTable(_0x4a7395,_0x520890+0x1,_0x29274f);},_0x29ae4d[_0x1483cf(0x111)](_0x4beed8);}document[_0x4c8fd2(0x72)]('apply-filter')[_0x4c8fd2(0xfc)](_0x4c8fd2(0xfb),async()=>{const _0x398550=_0x4c8fd2,_0x227eac=document[_0x398550(0x72)](_0x398550(0xaf))['value'],_0x43ddfe=document[_0x398550(0x72)](_0x398550(0x12c))['value'];if(!_0x227eac||!_0x43ddfe)return alert(_0x398550(0x14a));const _0x2ae8f3=document[_0x398550(0x72)](_0x398550(0x135)),_0x3b106d=bootstrap['Modal'][_0x398550(0x9e)](_0x2ae8f3);_0x3b106d[_0x398550(0x142)](),showLoadingModal();try{const _0x146003={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x398550(0x77)],'dateFrom':_0x227eac+_0x398550(0xe8),'dateTo':_0x43ddfe+_0x398550(0x128),'clientIds':[],'operationTypes':[]},_0x27304d=await fetch(myCompany[_0x398550(0x73)],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x146003)}),{success:_0x41b77d,message:_0x29cd45}=await _0x27304d[_0x398550(0xc9)]();if(!_0x41b77d)throw new Error(_0x29cd45);_0x29cd45[_0x398550(0x9a)],await consultIncomeReport();}catch(_0xc6aeeb){ntfShow(_0x398550(0x13f)),console[_0x398550(0x13e)](_0xc6aeeb);}finally{hideLoadingModal();}});const reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker['onmessage']=({data:_0x2f2a61})=>{const _0x578592=_0x4c8fd2,{type:_0x59d57c,payload:_0xf8c732,reportType:_0xf1d856}=_0x2f2a61;if(_0x59d57c===_0x578592(0xa4)){const _0x6dd424=new Blob([_0x2f2a61['payload']],{'type':_0x578592(0x13a)}),_0x385917=URL[_0x578592(0x117)](_0x6dd424),_0x2cf54e=document[_0x578592(0x116)]('a'),_0x48fcb0=new Date()[_0x578592(0xa8)]()[_0x578592(0xf6)](0x0,0xa);_0x2cf54e['href']=_0x385917,_0x2cf54e['download']=_0xf1d856+'_'+_0x48fcb0+'.xlsx',_0x2cf54e[_0x578592(0xfb)](),URL[_0x578592(0x76)](_0x385917);}_0x59d57c===_0x578592(0x13e)&&(console[_0x578592(0x13e)](_0x578592(0x108),_0xf8c732),ntfShow(_0x578592(0x127)));},document[_0x4c8fd2(0x72)](_0x4c8fd2(0x126))[_0x4c8fd2(0xfc)](_0x4c8fd2(0xfb),onClickExport);function onClickExport(){const _0x230a7f=_0x4c8fd2;if(!Array[_0x230a7f(0xcf)](arrayIncomes)||!arrayIncomes['length'])return ntfShow(_0x230a7f(0x102));const _0x30e67d=arrayIncomes[_0x230a7f(0x107)](_0x80dda7=>{const _0x2c6b20=_0x230a7f,[_0xfd71b4]=_0x80dda7['setOperationDateTime']['split']('\x20'),[_0x43af6a,_0x5f6223,_0x4453cf]=_0xfd71b4[_0x2c6b20(0x87)]('-');return{'Periodo':''+_0x43af6a+_0x5f6223,'CorrelativoCUO':'','FechaEmision':_0x4453cf+'/'+_0x5f6223+'/'+_0x43af6a,'FechaVencimiento':'','TipoComprobante':_0x80dda7['setOperationTypeSpan'],'SerieNumero':_0x80dda7[_0x2c6b20(0xae)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x80dda7['setOperationCustomerName'],'BaseImponible':'','IGV':'','TotalVenta':_0x80dda7[_0x2c6b20(0x9c)],'Moneda':_0x80dda7[_0x2c6b20(0xbe)],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x230a7f(0xa1)]({'action':_0x230a7f(0x14d),'reportType':'RCE','report':_0x30e67d});}function _0x2556(_0x5aa5b6,_0x417b9c){const _0x3d72da=_0x1dbf();return _0x2556=function(_0xe71ebd,_0xcd7787){_0xe71ebd=_0xe71ebd-0x72;let _0x5d5ee1=_0x3d72da[_0xe71ebd];return _0x5d5ee1;},_0x2556(_0x5aa5b6,_0x417b9c);}window['onload']=function(){const _0x1f5c56=_0x4c8fd2,_0x517abb=0x6;loadLoginContent(_0x1f5c56(0xee)),setUserNameGet(),setEventBtnAccess();const _0x50cf99=document[_0x1f5c56(0xc8)]('.btn-logout');_0x50cf99&&_0x50cf99[_0x1f5c56(0xfc)](_0x1f5c56(0xfb),function(){logoutReload(0x0,_0x517abb);}),document[_0x1f5c56(0x72)](_0x1f5c56(0xe7))['addEventListener']('change',async function(){const _0x3046d7=_0x1f5c56,_0x44d3d7=parseInt(this[_0x3046d7(0x11f)]);myCompany[_0x3046d7(0xca)]=_0x44d3d7;const _0x1eea1f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1eea1f),cargarAlmacenes(_0x44d3d7),setTimeout(()=>{const _0x50f5cc=_0x3046d7;document[_0x50f5cc(0x72)]('setWarehouseId')['dispatchEvent'](new Event('change'));},0x64),cargarPisos(_0x44d3d7),setTimeout(()=>{const _0x5413bd=_0x3046d7;document[_0x5413bd(0x72)]('setFloorId')['dispatchEvent'](new Event('change'));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId['push'](_0x44d3d7),consultIncomeReport();}),loadCartAndSetTabCount(_0x517abb);};