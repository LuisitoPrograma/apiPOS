/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.8
*/

function _0x533f(){const _0x54d854=['day','appendChild','getAttribute','</td>\x0a<td>','forEach','apply','filterModal','setOperationTotal','axis','remove','addEventListener','setOperationDetailUnitCost','whatsapp','setApiEndPoint','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','Costo','value','setOperationNumber','height','Contenedor\x20','Invalid\x20range\x20type','96548wmlCBJ','getElementById','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','Error\x20al\x20aplicar\x20filtro','mouseleave','</td>\x0a','setOperationId','total','#FF5900','btn\x20btn-sm\x20btn-outline\x20me-2','target','statusText','querySelectorAll','exportDone','Export\x20WK\x20Error:','push','display','\x0a<iframe\x20src=\x22','filtrar','8425560TwuXJT','catch','productName','setOperationDetailTotal','shadow',';\x20color:\x20','EnvironmentChangeComplete','currency','detalleModal','Total','postMessage','setOperationItems','\x0a</td>\x0a','setCustomers','PLE_Ventas','line','name','month','ID_SERIE','pageX','onclick','active','contains','error','getHours','ceil','both','getFullYear','Ventas\x20por\x20Producto','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','then','dataset_raw','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','sort','#pagination-income','return\x20(function()\x20','customers','bind','setOperationCustomerName','search','round','setOperationPaymentStatusColor','reduce','Ventas\x20por\x20Cliente','Error\x20al\x20cargar\x20el\x20detalle.','El\x20contenedor\x20con\x20id\x20\x22','Reporte\x20','\x20tbody','split','setTipoOperacionCodigo','createElement','divChartItem','createObjectURL','className','12CJRoFj','entries','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','bottom','Error\x20al\x20cargar\x20el\x20detalle:','href','map','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','block','setOperationCurrency','innerHTML','setTipoComprobante','profit','detalle','preventDefault','\x0a<td\x20class=\x22td-bg-none\x22>','(((.+)+)+)+$','btnExport','btn-outline-primary','concat','WarehouseChangeComplete','POST','click','\x20al\x20','prototype','setOperationCustomerId','setOperationTypeSpan','trace','Selecciona\x20ambas\x20fechas','BranchChangeComplete','data','setCustomerName','top','data-value','\x20-\x20','Error\x20al\x20solicitar\x20reporte','#080060','setSerie','btn-outline','category','boleta','toFixed','valueDesc','detalleTablaBody','assign','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','find','Ventas','cost','padStart','#reporte-income-customers','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','Mi\x20Empresa','Error\x20al\x20enviar\x20por\x20WhatsApp.','item','setWarehouseId','&tipo=','change','week','width','year','.xlsx','setDate','Modal','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','apply-filter','1080CeJuEN','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','50%','\x20no\x20existe','application/json','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','toString','YOUR_WA_CRED_ID','document','divChartCustomer','{}.constructor(\x22return\x20this\x22)(\x20)','Error\x20WA:','setSeries','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','init','closeModalViewDetails','\x0a<tr>\x0a<td>','getDate','mouseup','incomes','2nrYmQF','values','1005849PRJHhS','67185PfyLJL','no-reply@miempresa.com','5inUDqB','\x2000:00:00','style','tagName','https://fasyb.com/api/venta/view/?id=','dynamicContent','setOperationDateTime','100%','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','</td>\x0a</tr>','from','textContent','setOperationSeries','customerName','filter-end','exception','constructor','setOperationDetailQuantity','400px','label','6673206MjcGzf','setAuthToken','\x2023:59:59','json','log','querySelector','additionalFilters','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','fechaISO','setCustomerId','sales','Modo\x20de\x20exportación\x20desconocido:','download','No\x20se\x20encontró\x20información\x20de\x20ingresos','setOperationType','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','dataset_','setFloorId','pdf','Error\x20','modalOverlayViewDetails','email','setBranchDefault','dispatchEvent','toISOString','products',';\x22>\x0a','9951990jEisbs','\x0a</td>\x0a<td></td>\x0a','none','getMonth','valor_unitario','setTipoOperacionName','onload','./js/apierp_export_wk.min.js','Error\x20al\x20exportar.','33ftqgHP','smtp.miempresa.com','length','readAsDataURL','console','Siguiente\x20&raquo;','setDescripcion','divChartIncome','getInstance','classList','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','recibo','exportReport','flatMap','filter-start','{b}:\x20{d}%','setOption','onmessage','revokeObjectURL','8883567aWUQyW','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','...','center','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','Evolución\x20de\x20Ventas','500px'];_0x533f=function(){return _0x54d854;};return _0x533f();}const _0xca1606=_0x1743;(function(_0x2893f7,_0x53e89f){const _0x403197=_0x1743,_0x4bd7d9=_0x2893f7();while(!![]){try{const _0x2738c=parseInt(_0x403197(0x170))/0x1*(-parseInt(_0x403197(0x16e))/0x2)+-parseInt(_0x403197(0x224))/0x3*(parseInt(_0x403197(0x1db))/0x4)+-parseInt(_0x403197(0x173))/0x5*(-parseInt(_0x403197(0x187))/0x6)+-parseInt(_0x403197(0x1be))/0x7+parseInt(_0x403197(0x15a))/0x8*(-parseInt(_0x403197(0x171))/0x9)+parseInt(_0x403197(0x1a2))/0xa+-parseInt(_0x403197(0x1ab))/0xb*(-parseInt(_0x403197(0x1ee))/0xc);if(_0x2738c===_0x53e89f)break;else _0x4bd7d9['push'](_0x4bd7d9['shift']());}catch(_0x1fbf35){_0x4bd7d9['push'](_0x4bd7d9['shift']());}}}(_0x533f,0xcbbe9));const _0x29cf75=(function(){let _0x23dfa4=!![];return function(_0x4af736,_0x34c027){const _0x207b4e=_0x23dfa4?function(){const _0x49bdae=_0x1743;if(_0x34c027){const _0x3a1711=_0x34c027[_0x49bdae(0x1cb)](_0x4af736,arguments);return _0x34c027=null,_0x3a1711;}}:function(){};return _0x23dfa4=![],_0x207b4e;};}()),_0x39a16e=_0x29cf75(this,function(){const _0x3ae36e=_0x1743;return _0x39a16e[_0x3ae36e(0x160)]()[_0x3ae36e(0x215)](_0x3ae36e(0x234))['toString']()[_0x3ae36e(0x183)](_0x39a16e)['search'](_0x3ae36e(0x234));});_0x39a16e();const _0x46059e=(function(){let _0x5661c0=!![];return function(_0x18e0ae,_0x37e040){const _0x23393e=_0x5661c0?function(){const _0x11af73=_0x1743;if(_0x37e040){const _0x3abd69=_0x37e040[_0x11af73(0x1cb)](_0x18e0ae,arguments);return _0x37e040=null,_0x3abd69;}}:function(){};return _0x5661c0=![],_0x23393e;};}()),_0x48369=_0x46059e(this,function(){const _0x23ac45=_0x1743;let _0x302874;try{const _0x2c02f7=Function(_0x23ac45(0x211)+_0x23ac45(0x164)+');');_0x302874=_0x2c02f7();}catch(_0x75cc04){_0x302874=window;}const _0x4e354a=_0x302874[_0x23ac45(0x1af)]=_0x302874[_0x23ac45(0x1af)]||{},_0x5ad13f=['log','warn','info',_0x23ac45(0x205),_0x23ac45(0x182),'table',_0x23ac45(0x23f)];for(let _0x5dfe73=0x0;_0x5dfe73<_0x5ad13f[_0x23ac45(0x1ad)];_0x5dfe73++){const _0x29310c=_0x46059e['constructor'][_0x23ac45(0x23c)][_0x23ac45(0x213)](_0x46059e),_0x543df5=_0x5ad13f[_0x5dfe73],_0x4570fa=_0x4e354a[_0x543df5]||_0x29310c;_0x29310c['__proto__']=_0x46059e[_0x23ac45(0x213)](_0x46059e),_0x29310c[_0x23ac45(0x160)]=_0x4570fa[_0x23ac45(0x160)][_0x23ac45(0x213)](_0x4570fa),_0x4e354a[_0x543df5]=_0x29310c;}});_0x48369();function _0x1743(_0x33b1b4,_0x2eb6e6){const _0x57ed23=_0x533f();return _0x1743=function(_0x48369,_0x46059e){_0x48369=_0x48369-0x154;let _0x222e09=_0x57ed23[_0x48369];return _0x222e09;},_0x1743(_0x33b1b4,_0x2eb6e6);}let arrayIncomes;const fil_init_dates=document[_0xca1606(0x1dc)]('date-range-label-icon'),label=document['getElementById']('date-range-label'),options=document[_0xca1606(0x1dc)]('date-range-options'),divChartIncome=document['getElementById'](_0xca1606(0x1b2)),divChartItem=document[_0xca1606(0x1dc)](_0xca1606(0x221)),divChartCustomer=document['getElementById'](_0xca1606(0x163));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0xfe296){const _0x37e24e=_0xca1606,{containerId:_0x2dcc85,rawData:_0x3360aa,groupField:_0x465d0d,groupValues:_0x958105,seriesType:seriesType=_0x37e24e(0x1fd),chartType:chartType=seriesType,encode:_0x15c5f6,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x37e24e(0x24e),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x3fa5af,height:_0x48d871}=_0xfe296,_0x4ca44e=document['getElementById'](_0x2dcc85);if(!_0x4ca44e){console[_0x37e24e(0x205)](_0x37e24e(0x21b)+_0x2dcc85+'\x22\x20no\x20existe.');return;}if(_0x3fa5af)_0x4ca44e[_0x37e24e(0x175)][_0x37e24e(0x25f)]=_0x3fa5af;if(_0x48d871)_0x4ca44e[_0x37e24e(0x175)][_0x37e24e(0x1d8)]=_0x48d871;const _0x480761=echarts[_0x37e24e(0x168)](_0x4ca44e),_0x1b9cc5=[],_0x1e7205=[];_0x958105[_0x37e24e(0x1ca)]((_0x1ca762,_0x278944)=>{const _0x5c370a=_0x37e24e,_0x43a7c3=_0x5c370a(0x197)+_0x1ca762,_0x25e8a7=(_0xfe296[_0x5c370a(0x18d)]||[])[_0x5c370a(0x237)]([{'dimension':_0x465d0d,'=':_0x1ca762}]);_0x1b9cc5['push']({'id':_0x43a7c3,'fromDatasetId':_0x5c370a(0x20d),'transform':{'type':'filter','config':{'and':_0x25e8a7}}}),_0x1e7205[_0x5c370a(0x1ea)]({'type':chartType,'datasetId':_0x43a7c3,'name':_0x1ca762,...chartType==='bar'&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x278944]||undefined},...chartType===_0x5c370a(0x1fd)&&{'showSymbol':![]},'encode':_0x15c5f6});});const _0x39570d={'animationDuration':animationDuration,'dataset':[{'id':_0x37e24e(0x20d),'source':_0x3360aa},..._0x1b9cc5],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x37e24e(0x250)]({'type':'category','nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x37e24e(0x250)]({'name':_0x15c5f6['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x1e7205};_0x480761[_0x37e24e(0x1bb)](_0x39570d);}function generatePieChart({containerId:_0x70587f,data:_0x5cc28f,nameField:_0x21a65c,valueField:_0x38b414,title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],width:_0x416a3e,height:_0x32a691}){const _0x1b0742=_0xca1606,_0x33a7bc=document[_0x1b0742(0x1dc)](_0x70587f);if(!_0x33a7bc)return console[_0x1b0742(0x205)]('Contenedor\x20'+_0x70587f+_0x1b0742(0x15d));if(_0x416a3e)_0x33a7bc[_0x1b0742(0x175)][_0x1b0742(0x25f)]=_0x416a3e;if(_0x32a691)_0x33a7bc['style'][_0x1b0742(0x1d8)]=_0x32a691;const _0xf20c0a=echarts[_0x1b0742(0x168)](_0x33a7bc),_0x230a3c=_0x5cc28f[_0x1b0742(0x218)]((_0x54dca1,_0x4c0a6c)=>{const _0x382f07=_0x1b0742,_0x25c419=_0x4c0a6c[_0x21a65c],_0x4ffaec=_0x4c0a6c[_0x38b414];let _0x310e30=_0x54dca1[_0x382f07(0x252)](_0x42213f=>_0x42213f[_0x382f07(0x1fe)]===_0x25c419);return!_0x310e30&&(_0x310e30={'name':_0x25c419,'value':0x0},_0x54dca1[_0x382f07(0x1ea)](_0x310e30)),_0x310e30[_0x382f07(0x1d6)]+=_0x4ffaec,_0x54dca1;},[]);let _0x36e54d;showTitle?(_0x36e54d={'text':title,'left':_0x1b0742(0x1c2)},titlePosition===_0x1b0742(0x227)?_0x36e54d['bottom']=0x0:_0x36e54d['top']=0x0):_0x36e54d={'show':![]};const _0x4a7b5b={'title':_0x36e54d,'tooltip':{'trigger':_0x1b0742(0x25a)},'series':[{'type':'pie','radius':_0x1b0742(0x15c),'data':_0x230a3c,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x1b0742(0x1ba)}}]};_0xf20c0a[_0x1b0742(0x1bb)](_0x4a7b5b);}function generateHorizontalBarChart({containerId:_0x3a8fc1,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0xca1606(0x244),showTitle:showTitle=!![],colors:colors=[],width:_0x539681,height:_0x235454,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x11c1d4=_0xca1606,_0x177a23=document[_0x11c1d4(0x1dc)](_0x3a8fc1);if(!_0x177a23)return console[_0x11c1d4(0x205)](_0x11c1d4(0x1d9)+_0x3a8fc1+_0x11c1d4(0x15d));if(_0x539681)_0x177a23[_0x11c1d4(0x175)][_0x11c1d4(0x25f)]=_0x539681;if(_0x235454)_0x177a23[_0x11c1d4(0x175)][_0x11c1d4(0x1d8)]=_0x235454;const _0xcf30ab=echarts['init'](_0x177a23),_0x9a511b=showTitle?{'text':title,'left':_0x11c1d4(0x1c2),...titlePosition==='bottom'?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x11c1d4(0x227)?_0x9a511b[_0x11c1d4(0x227)]=0x0:_0x9a511b[_0x11c1d4(0x244)]=0x0;const _0x20eca7={'title':_0x9a511b,'tooltip':{'trigger':_0x11c1d4(0x1ce),'axisPointer':{'type':_0x11c1d4(0x1f2)}},'legend':{},'grid':Object[_0x11c1d4(0x250)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x11c1d4(0x250)]({'type':_0x11c1d4(0x1d6),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x11c1d4(0x24b),'data':categories},yAxisConfig),'series':series[_0x11c1d4(0x22a)]((_0x401913,_0x3938d8)=>({'type':'bar','name':_0x401913[_0x11c1d4(0x1fe)],'data':_0x401913[_0x11c1d4(0x242)],'itemStyle':{'color':colors[_0x3938d8]||undefined}}))};_0xcf30ab[_0x11c1d4(0x1bb)](_0x20eca7);}function showModalViewDetails(){const _0x55b0b2=_0xca1606,_0x2b4302=document['getElementById'](_0x55b0b2(0x1f6)),_0x4b250c=document[_0x55b0b2(0x1dc)](_0x55b0b2(0x19b));_0x2b4302[_0x55b0b2(0x1b4)]['add'](_0x55b0b2(0x203)),_0x4b250c[_0x55b0b2(0x175)][_0x55b0b2(0x1eb)]='block';}function hideModalViewDetails(){const _0x3a0acf=_0xca1606,_0x458037=document[_0x3a0acf(0x1dc)](_0x3a0acf(0x1f6)),_0x1431cc=document[_0x3a0acf(0x1dc)](_0x3a0acf(0x19b));_0x458037[_0x3a0acf(0x1b4)][_0x3a0acf(0x1cf)](_0x3a0acf(0x203)),_0x1431cc[_0x3a0acf(0x175)][_0x3a0acf(0x1eb)]='none';const _0x341ef5=document[_0x3a0acf(0x1dc)]('dynamicContent');_0x341ef5['innerHTML']=_0x3a0acf(0x20e);}document[_0xca1606(0x1dc)](_0xca1606(0x169))[_0xca1606(0x1d0)](_0xca1606(0x23a),hideModalViewDetails),document[_0xca1606(0x1dc)](_0xca1606(0x19b))[_0xca1606(0x1d0)](_0xca1606(0x23a),hideModalViewDetails);function verDetalle(_0x2fede9,_0x54e3c1){const _0x99b443=_0xca1606;fetch(_0x99b443(0x177)+_0x2fede9+_0x99b443(0x25c)+_0x54e3c1)[_0x99b443(0x20c)](_0x21459c=>{const _0x433b61=_0x99b443;if(!_0x21459c['ok'])throw new Error(_0x433b61(0x19a)+_0x21459c['status']+':\x20'+_0x21459c[_0x433b61(0x1e6)]);return _0x21459c[_0x433b61(0x18a)]();})[_0x99b443(0x20c)](_0x5e6b79=>{const _0x2a20f4=_0x99b443;if(_0x5e6b79['success']){const _0x40f983=document[_0x2a20f4(0x1dc)](_0x2a20f4(0x178));if(_0x54e3c1===_0x2a20f4(0x231)){let _0x13533e='';_0x5e6b79[_0x2a20f4(0x242)][_0x2a20f4(0x1ca)](_0x574b48=>{const _0x324840=_0x2a20f4;_0x13533e+=_0x324840(0x16a)+_0x574b48['producto']+_0x324840(0x1c9)+_0x574b48['cantidad']+_0x324840(0x1c9)+_0x574b48[_0x324840(0x1a6)]+'</td>\x0a<td>'+_0x574b48[_0x324840(0x1e2)]+_0x324840(0x17c);}),document[_0x2a20f4(0x1dc)](_0x2a20f4(0x24f))[_0x2a20f4(0x22e)]=_0x13533e;}else{if(_0x54e3c1===_0x2a20f4(0x199)){const _0x526fe8='https://fasyb.com/api/pdf/proxy/?file='+encodeURIComponent(_0x5e6b79['pdf_url']),_0x1c9615=document[_0x2a20f4(0x18c)]('.modal-content');_0x40f983['innerHTML']=_0x2a20f4(0x1ec)+_0x526fe8+_0x2a20f4(0x167),document[_0x2a20f4(0x1dc)]('closeModalViewDetails')[_0x2a20f4(0x1d0)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x5e6b79[_0x2a20f4(0x205)]||_0x2a20f4(0x226));})[_0x99b443(0x1ef)](_0x53eca1=>{const _0x578050=_0x99b443;console[_0x578050(0x205)](_0x578050(0x228),_0x53eca1),alert(_0x578050(0x21a));});}label[_0xca1606(0x1d0)](_0xca1606(0x23a),()=>{const _0x1c90f6=_0xca1606;options[_0x1c90f6(0x175)][_0x1c90f6(0x1eb)]=options['style'][_0x1c90f6(0x1eb)]===_0x1c90f6(0x1a4)?_0x1c90f6(0x22c):_0x1c90f6(0x1a4);}),options[_0xca1606(0x1d0)](_0xca1606(0x23a),_0x52e528=>{const _0x455d2d=_0xca1606;if(_0x52e528[_0x455d2d(0x1e5)]&&_0x52e528[_0x455d2d(0x1e5)][_0x455d2d(0x176)]==='LI'){const _0x108231=_0x52e528[_0x455d2d(0x1e5)][_0x455d2d(0x1c8)](_0x455d2d(0x245));updateDateRange(_0x108231),options[_0x455d2d(0x175)][_0x455d2d(0x1eb)]=_0x455d2d(0x1a4);}}),document['addEventListener'](_0xca1606(0x23a),_0x5597b5=>{const _0x4a797a=_0xca1606;!label['contains'](_0x5597b5['target'])&&!options[_0x4a797a(0x204)](_0x5597b5[_0x4a797a(0x1e5)])&&(options[_0x4a797a(0x175)]['display']=_0x4a797a(0x1a4));});function formatDateToYmdHis(_0x3baf89){const _0x124722=_0xca1606,_0x143601=_0x3baf89['getFullYear'](),_0x2c2be7=String(_0x3baf89[_0x124722(0x1a5)]()+0x1)[_0x124722(0x255)](0x2,'0'),_0x141ed5=String(_0x3baf89[_0x124722(0x16b)]())[_0x124722(0x255)](0x2,'0'),_0x157b6e=String(_0x3baf89[_0x124722(0x206)]())[_0x124722(0x255)](0x2,'0'),_0xa067ea=String(_0x3baf89['getMinutes']())[_0x124722(0x255)](0x2,'0'),_0x549720=String(_0x3baf89['getSeconds']())['padStart'](0x2,'0');return _0x143601+'-'+_0x2c2be7+'-'+_0x141ed5+'\x20'+_0x157b6e+':'+_0xa067ea+':'+_0x549720;}function getDateRange(_0x388b65){const _0x3cd878=_0xca1606,_0x4ad68a=new Date();let _0x1b910f,_0x18e856;switch(_0x388b65){case _0x3cd878(0x1c6):_0x1b910f=new Date(_0x4ad68a[_0x3cd878(0x209)](),_0x4ad68a[_0x3cd878(0x1a5)](),_0x4ad68a[_0x3cd878(0x16b)](),0x0,0x0,0x0),_0x18e856=new Date(_0x4ad68a[_0x3cd878(0x209)](),_0x4ad68a[_0x3cd878(0x1a5)](),_0x4ad68a[_0x3cd878(0x16b)](),0x17,0x3b,0x3b),label[_0x3cd878(0x22e)]=_0x3cd878(0x17b);break;case _0x3cd878(0x25e):const _0x1e36bb=_0x4ad68a['getDay'](),_0x265e2b=new Date(_0x4ad68a);_0x265e2b[_0x3cd878(0x156)](_0x4ad68a[_0x3cd878(0x16b)]()-_0x1e36bb+(_0x1e36bb===0x0?-0x6:0x1));const _0x4cc6f6=new Date(_0x265e2b);_0x4cc6f6[_0x3cd878(0x156)](_0x265e2b['getDate']()+0x6),_0x1b910f=new Date(_0x265e2b[_0x3cd878(0x209)](),_0x265e2b['getMonth'](),_0x265e2b[_0x3cd878(0x16b)](),0x0,0x0,0x0),_0x18e856=new Date(_0x4cc6f6[_0x3cd878(0x209)](),_0x4cc6f6[_0x3cd878(0x1a5)](),_0x4cc6f6[_0x3cd878(0x16b)](),0x17,0x3b,0x3b),label[_0x3cd878(0x22e)]=_0x3cd878(0x257);break;case _0x3cd878(0x1ff):_0x1b910f=new Date(_0x4ad68a[_0x3cd878(0x209)](),_0x4ad68a[_0x3cd878(0x1a5)](),0x1,0x0,0x0,0x0),_0x18e856=new Date(_0x4ad68a[_0x3cd878(0x209)](),_0x4ad68a[_0x3cd878(0x1a5)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x3cd878(0x22e)]=_0x3cd878(0x1b5);break;case _0x3cd878(0x154):_0x1b910f=new Date(_0x4ad68a[_0x3cd878(0x209)](),0x0,0x1,0x0,0x0,0x0),_0x18e856=new Date(_0x4ad68a['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b),label['innerHTML']=_0x3cd878(0x22b);break;default:label['innerHTML']='';throw new Error(_0x3cd878(0x1da));}return{'startDateFormatted':formatDateToYmdHis(_0x1b910f),'endDateFormatted':formatDateToYmdHis(_0x18e856)};}function updateDateRange(_0x564508=_0xca1606(0x1c6)){const _0x1c4f60=_0xca1606;if(_0x564508==_0x1c4f60(0x1ed)){}else{const {startDateFormatted:_0x2b5815,endDateFormatted:_0x74050c}=getDateRange(_0x564508);fil_date_start=_0x2b5815,fil_date_end=_0x74050c,consultIncomeReport();}}const tableWrappers=document[_0xca1606(0x1e7)]('.table-wrapper');tableWrappers[_0xca1606(0x1ca)](_0x112681=>{const _0x244a21=_0xca1606;let _0x2e29cf=![],_0x25b464,_0x518bd5;_0x112681[_0x244a21(0x1d0)]('mousedown',_0x553c52=>{_0x2e29cf=!![],_0x25b464=_0x553c52['pageX']-_0x112681['offsetLeft'],_0x518bd5=_0x112681['scrollLeft'];}),_0x112681[_0x244a21(0x1d0)](_0x244a21(0x1df),()=>{_0x2e29cf=![];}),_0x112681[_0x244a21(0x1d0)](_0x244a21(0x16c),()=>{_0x2e29cf=![];}),_0x112681[_0x244a21(0x1d0)]('mousemove',_0x48229c=>{const _0x4808af=_0x244a21;if(!_0x2e29cf)return;_0x48229c['preventDefault']();const _0x5c3fe6=_0x48229c[_0x4808af(0x201)]-_0x112681['offsetLeft'],_0xfe1c8e=(_0x5c3fe6-_0x25b464)*0x2;_0x112681['scrollLeft']=_0x518bd5-_0xfe1c8e;});});async function consultIncomeReport(){const _0x3fded4=_0xca1606;showLoadingModal();const _0x1d1bf1={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x3fded4(0x188)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x1d9dc3=await fetch(myCompany[_0x3fded4(0x1d3)],{'method':_0x3fded4(0x239),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x1d1bf1)}),{success:_0x11ea76,message:_0x4d8f4d}=await _0x1d9dc3[_0x3fded4(0x18a)]();if(!_0x11ea76||!Array['isArray'](_0x4d8f4d[_0x3fded4(0x16d)])){ntfShow(_0x3fded4(0x194)),console[_0x3fded4(0x18b)](_0x4d8f4d);return;}const _0x35c0cd=_0x4d8f4d[_0x3fded4(0x16d)],_0x30b845=myCompany[_0x3fded4(0x1fb)][_0x3fded4(0x218)]((_0x3b93a4,_0x334ba0)=>(_0x3b93a4[_0x334ba0[_0x3fded4(0x190)]]=_0x334ba0[_0x3fded4(0x243)],_0x3b93a4),{}),_0x562672=myCompany['setTipoOperaciones'][_0x3fded4(0x218)]((_0x8b9cee,_0x4038c1)=>(_0x8b9cee[_0x4038c1[_0x3fded4(0x21f)]]=_0x4038c1[_0x3fded4(0x1a7)],_0x8b9cee),{}),_0x42412a=myCompany[_0x3fded4(0x166)][_0x3fded4(0x218)]((_0x2607ce,_0x1a68a4)=>(_0x2607ce[_0x1a68a4[_0x3fded4(0x200)]]=_0x1a68a4[_0x3fded4(0x249)],_0x2607ce),{});arrayIncomes=_0x35c0cd[_0x3fded4(0x22a)](_0x353f1c=>{const _0x3ae80f=_0x3fded4,_0x3d122d=_0x353f1c['setOperationItems'][_0x3ae80f(0x218)]((_0x53c195,_0xfbb30c)=>_0x53c195+Number(_0xfbb30c[_0x3ae80f(0x1f1)]),0x0),_0x35f861=_0x562672[_0x353f1c['setOperationType']]||_0x353f1c[_0x3ae80f(0x195)],_0x59375e=_0x42412a[_0x353f1c[_0x3ae80f(0x17f)]]||_0x353f1c[_0x3ae80f(0x17f)],_0x15541d=_0x30b845[_0x353f1c['setOperationCustomerId']]||_0x353f1c[_0x3ae80f(0x23d)],_0x3a1d24=_0x353f1c['setOperationPaymentStatus']==0x1?'#00bb2d':'#FF5900',_0xf906e8=_0x353f1c['setOperationPaymentStatus']==0x1?'Pagado':'Pendiente',_0x5dd7ef=_0x353f1c['setOperationType']==0x1?'pedido':_0x353f1c[_0x3ae80f(0x195)]==0x2?'recibo':_0x353f1c['setOperationType']==0x3?_0x3ae80f(0x24c):_0x353f1c['setOperationType']==0x4?'factura':_0x3ae80f(0x1b6);return{'setOperationId':_0x353f1c['setOperationId'],'setOperationType':_0x35f861,'setOperationTypeSpan':_0x5dd7ef,'setOperationSeries':_0x59375e+'-'+_0x353f1c[_0x3ae80f(0x1d7)],'setOperationCustomerName':_0x15541d,'setOperationDateTime':_0x353f1c[_0x3ae80f(0x179)],'setOperationPaymentStatusColor':_0x3a1d24,'setOperationPaymentStatusName':_0xf906e8,'setOperationCurrency':_0x353f1c['setOperationCurrency'],'setOperationTotal':_0x3d122d};});const _0x49b970=_0x35c0cd[_0x3fded4(0x1b8)](_0x483710=>_0x483710[_0x3fded4(0x1f9)][_0x3fded4(0x22a)](_0x300163=>({'item':_0x300163,'moneda':_0x483710[_0x3fded4(0x22d)]})))[_0x3fded4(0x218)]((_0x3495c2,{item:_0x3a7409,moneda:_0x15a784})=>{const _0x15bf90=_0x3fded4,_0x42d4a0=products['find'](_0x402d2d=>_0x402d2d['id']==_0x3a7409['setOperationDetailUnitPresentationId']),_0x5cb79e=_0x42d4a0?_0x42d4a0[_0x15bf90(0x1b1)]:'Sin\x20descripción',_0x1b3b6c=_0x5cb79e+'|'+_0x15a784,_0x2ab155=Number(_0x3a7409[_0x15bf90(0x1f1)]),_0x3934fd=Number(_0x3a7409[_0x15bf90(0x1d1)])*Number(_0x3a7409[_0x15bf90(0x184)]);return!_0x3495c2[_0x1b3b6c]&&(_0x3495c2[_0x1b3b6c]={'productName':_0x5cb79e,'currency':_0x15a784,'sales':0x0,'cost':0x0}),_0x3495c2[_0x1b3b6c]['sales']+=_0x2ab155,_0x3495c2[_0x1b3b6c]['cost']+=_0x3934fd,_0x3495c2;},{}),_0x2b02ca=Object[_0x3fded4(0x16f)](_0x49b970)[_0x3fded4(0x22a)](_0x13c432=>({'productName':_0x13c432[_0x3fded4(0x1f0)],'currency':_0x13c432[_0x3fded4(0x1f5)],'sales':Math[_0x3fded4(0x216)](_0x13c432[_0x3fded4(0x191)]*0x64)/0x64,'cost':Math[_0x3fded4(0x216)](_0x13c432[_0x3fded4(0x254)]*0x64)/0x64,'profit':Math[_0x3fded4(0x216)]((_0x13c432[_0x3fded4(0x191)]-_0x13c432['cost'])*0x64)/0x64})),_0x4873f9=_0x35c0cd['reduce']((_0x225d3c,_0x407d10)=>{const _0x4bf916=_0x3fded4,_0x2c394f=_0x30b845[_0x407d10[_0x4bf916(0x23d)]]||_0x407d10[_0x4bf916(0x23d)],_0x3afbd0=_0x407d10[_0x4bf916(0x22d)],_0x17a5ee=_0x2c394f+'|'+_0x3afbd0,_0x49e2b6=_0x407d10[_0x4bf916(0x1f9)][_0x4bf916(0x218)]((_0x2f741f,_0x4dd560)=>_0x2f741f+Number(_0x4dd560[_0x4bf916(0x1f1)]),0x0),_0x2c1ecf=_0x407d10[_0x4bf916(0x1f9)][_0x4bf916(0x218)]((_0x48ed12,_0x3c12fb)=>_0x48ed12+Number(_0x3c12fb['setOperationDetailUnitCost'])*Number(_0x3c12fb['setOperationDetailQuantity']),0x0);return!_0x225d3c[_0x17a5ee]&&(_0x225d3c[_0x17a5ee]={'customerName':_0x2c394f,'currency':_0x3afbd0,'sales':0x0,'cost':0x0}),_0x225d3c[_0x17a5ee]['sales']+=_0x49e2b6,_0x225d3c[_0x17a5ee][_0x4bf916(0x254)]+=_0x2c1ecf,_0x225d3c;},{}),_0x2d7efa=Object['values'](_0x4873f9)[_0x3fded4(0x22a)](_0x444f71=>({'customerName':_0x444f71[_0x3fded4(0x180)],'currency':_0x444f71[_0x3fded4(0x1f5)],'sales':Math[_0x3fded4(0x216)](_0x444f71[_0x3fded4(0x191)]*0x64)/0x64,'cost':Math[_0x3fded4(0x216)](_0x444f71[_0x3fded4(0x254)]*0x64)/0x64,'profit':Math[_0x3fded4(0x216)]((_0x444f71[_0x3fded4(0x191)]-_0x444f71[_0x3fded4(0x254)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,'incomes'),renderTable(_0x2b02ca,currentPageProducts,'products'),renderTable(_0x2d7efa,currentPageCustomers,_0x3fded4(0x212));const _0x255c11=arrayIncomes['map'](_0x2d4afc=>({'fechaISO':_0x2d4afc['setOperationDateTime'][_0x3fded4(0x21e)]('\x20')[0x0],'setTipoComprobante':_0x2d4afc[_0x3fded4(0x195)],'setOperationCurrency':_0x2d4afc[_0x3fded4(0x22d)],'Total':Math['round'](_0x2d4afc[_0x3fded4(0x1cd)]*0x64)/0x64})),_0x2500e1=_0x255c11[_0x3fded4(0x218)]((_0x4a6285,_0x5f5dd3)=>{const _0x153f13=_0x3fded4,_0x448ac0=_0x5f5dd3[_0x153f13(0x18f)]+'|'+_0x5f5dd3[_0x153f13(0x22f)]+'|'+_0x5f5dd3[_0x153f13(0x22d)];if(!_0x4a6285[_0x448ac0])_0x4a6285[_0x448ac0]={..._0x5f5dd3,'Total':0x0};return _0x4a6285[_0x448ac0][_0x153f13(0x1f7)]+=_0x5f5dd3[_0x153f13(0x1f7)],_0x4a6285;},{}),_0x2b4ee2=Object[_0x3fded4(0x16f)](_0x2500e1)[_0x3fded4(0x22a)](_0x5ce423=>({'fechaISO':_0x5ce423[_0x3fded4(0x18f)],'setTipoComprobante':_0x5ce423[_0x3fded4(0x22f)]+'\x20('+_0x5ce423[_0x3fded4(0x22d)]+')','Total':Math[_0x3fded4(0x216)](_0x5ce423[_0x3fded4(0x1f7)]*0x64)/0x64})),_0x26b799=[...new Set(_0x2b4ee2['map'](_0x4852b0=>_0x4852b0[_0x3fded4(0x22f)]))],_0x1cf065=Array[_0x3fded4(0x17d)](new Set(_0x2b4ee2['map'](_0x1c3241=>_0x1c3241[_0x3fded4(0x18f)])))[_0x3fded4(0x20f)]((_0x213fbe,_0x200e02)=>new Date(_0x213fbe)-new Date(_0x200e02));_0x2b4ee2[_0x3fded4(0x1ad)]>0x0?generateFilterTransformChart({'containerId':'divChartIncome','rawData':_0x2b4ee2,'groupField':_0x3fded4(0x22f),'groupValues':_0x26b799,'seriesType':'bar','chartType':'bar','colors':[_0x3fded4(0x1e3),_0x3fded4(0x248)],'encode':{'x':_0x3fded4(0x18f),'y':_0x3fded4(0x1f7),'label':[_0x3fded4(0x22f),_0x3fded4(0x1f7)],'itemName':_0x3fded4(0x18f),'tooltip':[_0x3fded4(0x1f7)]},'xAxisConfig':{'type':_0x3fded4(0x24b),'data':_0x1cf065,'axisLabel':{'formatter':_0x490fea=>{const _0xdfac5e=_0x3fded4,[_0x57b10e,_0x3ef32d,_0x3d6d4e]=_0x490fea[_0xdfac5e(0x21e)]('-');return _0x3d6d4e+'/'+_0x3ef32d+'/'+_0x57b10e;}}},'title':_0x3fded4(0x1c4),'width':_0x3fded4(0x17a),'height':'500px'}):divChartIncome['innerHTML']='';_0x2b02ca[_0x3fded4(0x1ad)]>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x2b02ca[_0x3fded4(0x22a)](_0x4b2af1=>{const _0x14fc56=_0x3fded4,_0x415f94='('+_0x4b2af1[_0x14fc56(0x1f5)]+')\x20'+_0x4b2af1[_0x14fc56(0x1f0)];return _0x415f94[_0x14fc56(0x1ad)]>0xf?_0x415f94['substring'](0x0,0xf)+_0x14fc56(0x1c1):_0x415f94;}),'series':[{'name':_0x3fded4(0x253),'data':_0x2b02ca['map'](_0xd6cbab=>_0xd6cbab[_0x3fded4(0x191)])},{'name':_0x3fded4(0x1d5),'data':_0x2b02ca[_0x3fded4(0x22a)](_0xe522cc=>_0xe522cc[_0x3fded4(0x254)])},{'name':'Ganancia','data':_0x2b02ca[_0x3fded4(0x22a)](_0x5601b9=>_0x5601b9['profit'])}],'title':_0x3fded4(0x20a),'titlePosition':_0x3fded4(0x227),'showTitle':![],'colors':[_0x3fded4(0x1e3),_0x3fded4(0x248),'#00AEEF'],'width':_0x3fded4(0x17a),'height':_0x3fded4(0x185)}):divChartItem['innerHTML']='';if(_0x2d7efa[_0x3fded4(0x1ad)]>0x0){const _0x57c1fc=_0x2d7efa[_0x3fded4(0x22a)](_0x4a04dc=>({'label':_0x4a04dc[_0x3fded4(0x180)]+'\x20('+_0x4a04dc[_0x3fded4(0x1f5)]+')','sales':_0x4a04dc['sales']}));generatePieChart({'containerId':_0x3fded4(0x163),'data':_0x57c1fc,'nameField':_0x3fded4(0x186),'valueField':_0x3fded4(0x191),'title':_0x3fded4(0x219),'titlePosition':_0x3fded4(0x244),'showTitle':![],'width':_0x3fded4(0x1c5),'height':'500px'});}else divChartCustomer[_0x3fded4(0x22e)]='';}catch(_0x14c960){ntfShow(_0x3fded4(0x247)),console['error'](_0x14c960);}finally{hideLoadingModal();}}function renderTable(_0x52c9fa,_0x41aa90=0x1,_0x23b685=_0xca1606(0x16d)){const _0x1056fc=_0xca1606;currentPage=_0x41aa90;const _0x4d1dcc=_0x23b685===_0x1056fc(0x16d)?'#reporte-income':_0x23b685===_0x1056fc(0x1a0)?'#reporte-income-products':_0x1056fc(0x256),_0x166024=_0x23b685===_0x1056fc(0x16d)?per_page:_0x23b685===_0x1056fc(0x1a0)?per_page_products:per_page_customers,_0xaff1a9=document[_0x1056fc(0x18c)](_0x4d1dcc+_0x1056fc(0x21d));_0xaff1a9[_0x1056fc(0x22e)]='';const _0x291520=(_0x41aa90-0x1)*_0x166024,_0x45267b=_0x52c9fa['slice'](_0x291520,_0x291520+_0x166024);if(_0x23b685===_0x1056fc(0x16d)){_0x45267b[_0x1056fc(0x1ca)](_0x5c256d=>{const _0xd35ba9=_0x1056fc,_0x17669f=document['createElement']('tr');_0x17669f[_0xd35ba9(0x22e)]='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x5c256d[_0xd35ba9(0x23e)]+'\x22>\x0a'+_0x5c256d[_0xd35ba9(0x195)]+_0xd35ba9(0x1c0)+(_0x5c256d[_0xd35ba9(0x17f)]||'')+_0xd35ba9(0x1c9)+(_0x5c256d[_0xd35ba9(0x214)]||'')+_0xd35ba9(0x20b)+_0x5c256d[_0xd35ba9(0x179)]+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20'+_0x5c256d[_0xd35ba9(0x217)]+_0xd35ba9(0x1f3)+_0x5c256d[_0xd35ba9(0x217)]+_0xd35ba9(0x1a1)+_0x5c256d['setOperationPaymentStatusName']+_0xd35ba9(0x15f)+_0x5c256d[_0xd35ba9(0x22d)]+_0xd35ba9(0x251)+_0x5c256d[_0xd35ba9(0x1cd)][_0xd35ba9(0x24d)](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x5c256d[_0xd35ba9(0x1e1)]+',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x5c256d[_0xd35ba9(0x1e1)]+',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a',_0xaff1a9['appendChild'](_0x17669f);});const _0x2886f2=_0x52c9fa[_0x1056fc(0x218)]((_0x1e7512,_0x3b32ce)=>{const _0x66dde5=_0x1056fc,_0x243977=_0x3b32ce[_0x66dde5(0x22d)];return _0x1e7512[_0x243977]=(_0x1e7512[_0x243977]||0x0)+Number(_0x3b32ce[_0x66dde5(0x1cd)]),_0x1e7512;},{});Object[_0x1056fc(0x225)](_0x2886f2)[_0x1056fc(0x1ca)](([_0x3147a5,_0x13854c])=>{const _0x3392c4=_0x1056fc,_0x3f70a4=document[_0x3392c4(0x220)]('tr');_0x3f70a4[_0x3392c4(0x22e)]=_0x3392c4(0x1d4)+_0x3147a5+_0x3392c4(0x1c3)+(Math[_0x3392c4(0x216)](_0x13854c*0x64)/0x64)[_0x3392c4(0x24d)](0x2)+_0x3392c4(0x1a3),_0xaff1a9[_0x3392c4(0x1c7)](_0x3f70a4);}),renderPagination(_0x52c9fa,_0x41aa90,_0x23b685);}if(_0x23b685===_0x1056fc(0x1a0)){_0x45267b[_0x1056fc(0x1ca)](_0xcfdad9=>{const _0x10dc9d=_0x1056fc,_0xd1dc3b=document['createElement']('tr');_0xd1dc3b['innerHTML']=_0x10dc9d(0x233)+_0xcfdad9[_0x10dc9d(0x1f0)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0xcfdad9[_0x10dc9d(0x1f5)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0xcfdad9[_0x10dc9d(0x191)][_0x10dc9d(0x24d)](0x2)+_0x10dc9d(0x1bf)+_0xcfdad9[_0x10dc9d(0x254)][_0x10dc9d(0x24d)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0xcfdad9[_0x10dc9d(0x230)][_0x10dc9d(0x24d)](0x2)+_0x10dc9d(0x1e0),_0xaff1a9[_0x10dc9d(0x1c7)](_0xd1dc3b);});const _0x58c581=_0x52c9fa['reduce']((_0x176102,_0x1ee787)=>{const _0x3bd7d6=_0x1056fc,_0x57fe10=_0x1ee787[_0x3bd7d6(0x1f5)];if(!_0x176102[_0x57fe10])_0x176102[_0x57fe10]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x176102[_0x57fe10][_0x3bd7d6(0x191)]+=_0x1ee787[_0x3bd7d6(0x191)],_0x176102[_0x57fe10][_0x3bd7d6(0x254)]+=_0x1ee787[_0x3bd7d6(0x254)],_0x176102[_0x57fe10][_0x3bd7d6(0x230)]+=_0x1ee787[_0x3bd7d6(0x230)],_0x176102;},{});Object['entries'](_0x58c581)[_0x1056fc(0x1ca)](([_0x2e31ed,_0x208766])=>{const _0x3e1503=_0x1056fc,_0x286191=document['createElement']('tr');_0x286191['innerHTML']=_0x3e1503(0x1dd)+_0x2e31ed+_0x3e1503(0x158)+(Math[_0x3e1503(0x216)](_0x208766[_0x3e1503(0x191)]*0x64)/0x64)[_0x3e1503(0x24d)](0x2)+_0x3e1503(0x15b)+(Math[_0x3e1503(0x216)](_0x208766[_0x3e1503(0x254)]*0x64)/0x64)['toFixed'](0x2)+_0x3e1503(0x15b)+(Math[_0x3e1503(0x216)](_0x208766[_0x3e1503(0x230)]*0x64)/0x64)[_0x3e1503(0x24d)](0x2)+_0x3e1503(0x1fa),_0xaff1a9['appendChild'](_0x286191);}),renderPagination(_0x52c9fa,_0x41aa90,_0x23b685);}if(_0x23b685===_0x1056fc(0x212)){_0x45267b[_0x1056fc(0x1ca)](_0x219604=>{const _0x170390=_0x1056fc,_0x4eb32f=document['createElement']('tr');_0x4eb32f[_0x170390(0x22e)]=_0x170390(0x233)+_0x219604[_0x170390(0x180)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0x219604[_0x170390(0x1f5)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x219604['sales'][_0x170390(0x24d)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x219604[_0x170390(0x254)][_0x170390(0x24d)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x219604[_0x170390(0x230)]['toFixed'](0x2)+_0x170390(0x1e0),_0xaff1a9[_0x170390(0x1c7)](_0x4eb32f);});const _0x292678=_0x52c9fa[_0x1056fc(0x218)]((_0x157035,_0x1bd4cf)=>{const _0x4d0723=_0x1056fc,_0x2cf695=_0x1bd4cf[_0x4d0723(0x1f5)];return!_0x157035[_0x2cf695]&&(_0x157035[_0x2cf695]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x157035[_0x2cf695][_0x4d0723(0x191)]+=_0x1bd4cf[_0x4d0723(0x191)],_0x157035[_0x2cf695]['cost']+=_0x1bd4cf[_0x4d0723(0x254)],_0x157035[_0x2cf695][_0x4d0723(0x230)]+=_0x1bd4cf[_0x4d0723(0x230)],_0x157035;},{});Object[_0x1056fc(0x225)](_0x292678)[_0x1056fc(0x1ca)](([_0x4ae55a,_0x38acae])=>{const _0x37d1bd=_0x1056fc,_0x1b3b05=document[_0x37d1bd(0x220)]('tr');_0x1b3b05[_0x37d1bd(0x22e)]=_0x37d1bd(0x1dd)+_0x4ae55a+_0x37d1bd(0x158)+(Math['round'](_0x38acae[_0x37d1bd(0x191)]*0x64)/0x64)[_0x37d1bd(0x24d)](0x2)+_0x37d1bd(0x15b)+(Math[_0x37d1bd(0x216)](_0x38acae['cost']*0x64)/0x64)[_0x37d1bd(0x24d)](0x2)+_0x37d1bd(0x15b)+(Math[_0x37d1bd(0x216)](_0x38acae[_0x37d1bd(0x230)]*0x64)/0x64)[_0x37d1bd(0x24d)](0x2)+_0x37d1bd(0x1fa),_0xaff1a9[_0x37d1bd(0x1c7)](_0x1b3b05);}),renderPagination(_0x52c9fa,_0x41aa90,_0x23b685);}}function renderPagination(_0x115677,_0x21e5e1,_0x19a706=_0xca1606(0x16d)){const _0x32d1cb=_0xca1606,_0x4a8a14=_0x19a706===_0x32d1cb(0x16d)?document[_0x32d1cb(0x18c)](_0x32d1cb(0x210)):_0x19a706===_0x32d1cb(0x1a0)?document[_0x32d1cb(0x18c)]('#pagination-products'):document[_0x32d1cb(0x18c)]('#pagination-customers'),_0x4c887d=_0x19a706===_0x32d1cb(0x16d)?per_page:_0x19a706==='products'?per_page_products:per_page_customers;_0x4a8a14[_0x32d1cb(0x22e)]='';const _0xe37023=Math[_0x32d1cb(0x207)](_0x115677['length']/_0x4c887d),_0x3448bf=document[_0x32d1cb(0x220)]('a');_0x3448bf[_0x32d1cb(0x229)]='#',_0x3448bf[_0x32d1cb(0x223)]=_0x32d1cb(0x1e4),_0x3448bf['innerHTML']='&laquo;\x20Anterior',_0x3448bf[_0x32d1cb(0x202)]=_0x4c86a8=>{const _0x4b641c=_0x32d1cb;_0x4c86a8[_0x4b641c(0x232)]();if(_0x21e5e1>0x1)renderTable(_0x115677,_0x21e5e1-0x1,_0x19a706);},_0x4a8a14[_0x32d1cb(0x1c7)](_0x3448bf);for(let _0x30792f=0x1;_0x30792f<=_0xe37023;_0x30792f++){const _0x5859af=document['createElement']('a');_0x5859af[_0x32d1cb(0x229)]='#',_0x5859af[_0x32d1cb(0x223)]='btn\x20btn-sm\x20'+(_0x30792f===_0x21e5e1?_0x32d1cb(0x236):_0x32d1cb(0x24a)),_0x5859af[_0x32d1cb(0x17e)]=_0x30792f,_0x5859af[_0x32d1cb(0x202)]=_0x4ce7c0=>{_0x4ce7c0['preventDefault'](),renderTable(_0x115677,_0x30792f,_0x19a706);},_0x4a8a14[_0x32d1cb(0x1c7)](_0x5859af);}const _0x498f26=document[_0x32d1cb(0x220)]('a');_0x498f26[_0x32d1cb(0x229)]='#',_0x498f26[_0x32d1cb(0x223)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x498f26[_0x32d1cb(0x22e)]=_0x32d1cb(0x1b0),_0x498f26[_0x32d1cb(0x202)]=_0x214a4d=>{const _0x1b6d4f=_0x32d1cb;_0x214a4d[_0x1b6d4f(0x232)]();if(_0x21e5e1<_0xe37023)renderTable(_0x115677,_0x21e5e1+0x1,_0x19a706);},_0x4a8a14[_0x32d1cb(0x1c7)](_0x498f26);}document['getElementById'](_0xca1606(0x159))[_0xca1606(0x1d0)](_0xca1606(0x23a),async()=>{const _0x377731=_0xca1606,_0xe0e593=document['getElementById'](_0x377731(0x1b9))[_0x377731(0x1d6)],_0x3824c5=document[_0x377731(0x1dc)](_0x377731(0x181))[_0x377731(0x1d6)];if(!_0xe0e593||!_0x3824c5)return alert(_0x377731(0x240));const _0x7d3683=document[_0x377731(0x1dc)](_0x377731(0x1cc)),_0xf18eb3=bootstrap[_0x377731(0x157)][_0x377731(0x1b3)](_0x7d3683);_0xf18eb3['hide'](),showLoadingModal();try{const _0x1d8fc0={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0xe0e593+_0x377731(0x174),'dateTo':_0x3824c5+_0x377731(0x189),'clientIds':[],'operationTypes':[]},_0x296507=await fetch(myCompany[_0x377731(0x1d3)],{'method':_0x377731(0x239),'headers':{'Content-Type':_0x377731(0x15e)},'body':JSON['stringify'](_0x1d8fc0)}),{success:_0x269f45,message:_0x83e0c3}=await _0x296507[_0x377731(0x18a)]();if(!_0x269f45)throw new Error(_0x83e0c3);_0x83e0c3[_0x377731(0x16d)],await consultIncomeReport();}catch(_0x5d0986){ntfShow(_0x377731(0x1de)),console[_0x377731(0x205)](_0x5d0986);}finally{hideLoadingModal();}});let currentExportMode='download';const WA_CRED_ID=_0xca1606(0x161),WA_DEST_NUMBER='51954738620',EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME=_0xca1606(0x258),EMAIL_SENDER_ADDR=_0xca1606(0x172),EMAIL_SENDER_PASS='PASSWORD123',EMAIL_SMTP_HOST=_0xca1606(0x1ac),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0xca1606(0x1a9));reportWorker[_0xca1606(0x1bc)]=({data:_0x1e6aae})=>{const _0x2b4766=_0xca1606,{type:_0x5786e1,payload:_0x20d7bc,reportType:_0x33ad5f}=_0x1e6aae;if(_0x5786e1===_0x2b4766(0x1e8)){const _0x488632=new Blob([_0x20d7bc],{'type':'application/octet-stream'}),_0x2a0073=new Date()[_0x2b4766(0x19f)]()['slice'](0x0,0xa),_0x577da7=_0x33ad5f+'_'+_0x2a0073+_0x2b4766(0x155),_0x47d01a=_0x483891=>new Promise((_0x3cd71d,_0xa6300)=>{const _0x5c4186=_0x2b4766,_0x324f0a=new FileReader();_0x324f0a['onerror']=()=>_0xa6300(_0x324f0a['error']),_0x324f0a['onload']=()=>_0x3cd71d(_0x324f0a['result']['split'](',')[0x1]),_0x324f0a[_0x5c4186(0x1ae)](_0x483891);});switch(currentExportMode){case _0x2b4766(0x193):{const _0x3e5cfa=URL[_0x2b4766(0x222)](_0x488632),_0x2877e4=document[_0x2b4766(0x220)]('a');_0x2877e4[_0x2b4766(0x229)]=_0x3e5cfa,_0x2877e4['download']=_0x577da7,_0x2877e4[_0x2b4766(0x23a)](),URL[_0x2b4766(0x1bd)](_0x3e5cfa);}break;case _0x2b4766(0x1d2):{_0x47d01a(_0x488632)[_0x2b4766(0x20c)](_0x343e0b=>{const _0x2e7052=_0x2b4766;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x2e7052(0x162),_0x343e0b,_0x2e7052(0x21c)+_0x33ad5f+'\x20al\x20'+_0x2a0073,_0x577da7,_0x2e7052(0x18e))[_0x2e7052(0x1ef)](_0x58e02f=>{const _0x23b1a3=_0x2e7052;console[_0x23b1a3(0x205)](_0x23b1a3(0x165),_0x58e02f),ntfShow(_0x23b1a3(0x259));});});}break;case _0x2b4766(0x19c):{_0x47d01a(_0x488632)['then'](_0x3be08f=>{const _0x43407e=_0x2b4766;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x33ad5f+_0x43407e(0x246)+_0x2a0073,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x577da7,'content':_0x3be08f,'mimetype':_0x43407e(0x18e)}]);});}break;case _0x2b4766(0x208):{_0x47d01a(_0x488632)[_0x2b4766(0x20c)](_0x3e1a15=>{const _0x5c27bf=_0x2b4766;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x5c27bf(0x162),_0x3e1a15,_0x5c27bf(0x21c)+_0x33ad5f+_0x5c27bf(0x23b)+_0x2a0073,_0x577da7,_0x5c27bf(0x18e))[_0x5c27bf(0x1ef)](_0x1b0fc0=>console[_0x5c27bf(0x205)](_0x5c27bf(0x165),_0x1b0fc0)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x5c27bf(0x21c)+_0x33ad5f+'\x20-\x20'+_0x2a0073,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x577da7,'content':_0x3e1a15,'mimetype':_0x5c27bf(0x18e)}]);});}break;default:console[_0x2b4766(0x205)](_0x2b4766(0x192),currentExportMode);}}_0x5786e1===_0x2b4766(0x205)&&(console['error'](_0x2b4766(0x1e9),_0x20d7bc),ntfShow(_0x2b4766(0x1aa)));},document['getElementById'](_0xca1606(0x235))[_0xca1606(0x1d0)](_0xca1606(0x23a),()=>{onClickExport('download');});function onClickExport(_0x4b422b=_0xca1606(0x193)){const _0x5d5e5f=_0xca1606;if(!Array['isArray'](arrayIncomes)||!arrayIncomes[_0x5d5e5f(0x1ad)])return ntfShow(_0x5d5e5f(0x196));currentExportMode=_0x4b422b;const _0x262715=arrayIncomes[_0x5d5e5f(0x22a)](_0xc0ed0f=>{const _0x225f06=_0x5d5e5f,[_0x26cd38]=_0xc0ed0f[_0x225f06(0x179)][_0x225f06(0x21e)]('\x20'),[_0x2e2dcc,_0x130948,_0x129981]=_0x26cd38['split']('-');return{'Periodo':''+_0x2e2dcc+_0x130948,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x129981+'/'+_0x130948+'/'+_0x2e2dcc,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0xc0ed0f[_0x225f06(0x22d)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x5d5e5f(0x1f8)]({'action':_0x5d5e5f(0x1b7),'reportType':_0x5d5e5f(0x1fc),'report':_0x262715});}window[_0xca1606(0x1a8)]=function(){const _0x4c24e5=_0xca1606,_0x16318d=0x3;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x2d49c8=document[_0x4c24e5(0x18c)]('.btn-logout');_0x2d49c8&&_0x2d49c8[_0x4c24e5(0x1d0)](_0x4c24e5(0x23a),function(){logoutReload(0x0,_0x16318d);}),document['getElementById']('setBranchId')[_0x4c24e5(0x1d0)]('change',async function(){const _0x259283=_0x4c24e5,_0x39fcce=parseInt(this[_0x259283(0x1d6)]);myCompany[_0x259283(0x19d)]=_0x39fcce;const _0x1aa67e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1aa67e),await cargarPisos(_0x39fcce),await waitForEvent(_0x259283(0x198),_0x259283(0x1f4)),await cargarAlmacenes(_0x39fcce),await waitForEvent('setWarehouseId',_0x259283(0x238)),document[_0x259283(0x19e)](new Event(_0x259283(0x241))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x259283(0x1ea)](_0x39fcce),consultIncomeReport();}),document[_0x4c24e5(0x1dc)](_0x4c24e5(0x25b))['addEventListener'](_0x4c24e5(0x25d),async function(){const _0x1c70b6=_0x4c24e5;document[_0x1c70b6(0x19e)](new Event('WarehouseChangeComplete'));}),document[_0x4c24e5(0x1dc)](_0x4c24e5(0x198))[_0x4c24e5(0x1d0)]('change',async function(_0x48fd01){const _0x23f6bd=_0x4c24e5;document[_0x23f6bd(0x19e)](new Event(_0x23f6bd(0x1f4)));}),loadCartAndSetTabCount(_0x16318d);};