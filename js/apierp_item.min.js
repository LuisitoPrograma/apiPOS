/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.9
*/

var _0x3fb127=_0x14e4;(function(_0x121f45,_0x2c94e9){var _0x451c60=_0x14e4,_0x2bb68a=_0x121f45();while(!![]){try{var _0x20c84a=-parseInt(_0x451c60(0x22c))/0x1*(parseInt(_0x451c60(0x2b6))/0x2)+parseInt(_0x451c60(0x23d))/0x3*(parseInt(_0x451c60(0x2c2))/0x4)+-parseInt(_0x451c60(0x1f5))/0x5*(-parseInt(_0x451c60(0x24d))/0x6)+-parseInt(_0x451c60(0x2e8))/0x7*(parseInt(_0x451c60(0x20a))/0x8)+parseInt(_0x451c60(0x2a7))/0x9*(parseInt(_0x451c60(0x26f))/0xa)+-parseInt(_0x451c60(0x2b3))/0xb*(parseInt(_0x451c60(0x2c7))/0xc)+parseInt(_0x451c60(0x26d))/0xd;if(_0x20c84a===_0x2c94e9)break;else _0x2bb68a['push'](_0x2bb68a['shift']());}catch(_0xacf237){_0x2bb68a['push'](_0x2bb68a['shift']());}}}(_0x3b0d,0x8c2eb));var _0x293341=(function(){var _0xd0d091=!![];return function(_0x5f15e7,_0x5bb942){var _0x255151=_0xd0d091?function(){if(_0x5bb942){var _0xa90a00=_0x5bb942['apply'](_0x5f15e7,arguments);return _0x5bb942=null,_0xa90a00;}}:function(){};return _0xd0d091=![],_0x255151;};}()),_0x1168a2=_0x293341(this,function(){var _0x2a7b0b=_0x14e4;return _0x1168a2[_0x2a7b0b(0x273)]()['search'](_0x2a7b0b(0x2aa))['toString']()['constructor'](_0x1168a2)[_0x2a7b0b(0x2ea)](_0x2a7b0b(0x2aa));});_0x1168a2();function _0x14e4(_0x1b2881,_0xcef10f){var _0x1df305=_0x3b0d();return _0x14e4=function(_0x5b38cb,_0x6823f8){_0x5b38cb=_0x5b38cb-0x1c5;var _0x1ff964=_0x1df305[_0x5b38cb];return _0x1ff964;},_0x14e4(_0x1b2881,_0xcef10f);}var _0x6823f8=(function(){var _0x59a558=!![];return function(_0x51c0a1,_0x16b005){var _0xa19445=_0x59a558?function(){if(_0x16b005){var _0x397c4f=_0x16b005['apply'](_0x51c0a1,arguments);return _0x16b005=null,_0x397c4f;}}:function(){};return _0x59a558=![],_0xa19445;};}()),_0x5b38cb=_0x6823f8(this,function(){var _0x1216f2=_0x14e4,_0x1552f5;try{var _0x5ce957=Function(_0x1216f2(0x229)+_0x1216f2(0x278)+');');_0x1552f5=_0x5ce957();}catch(_0x428b46){_0x1552f5=window;}var _0x43209c=_0x1552f5[_0x1216f2(0x2dd)]=_0x1552f5['console']||{},_0x4be227=[_0x1216f2(0x28a),_0x1216f2(0x1e6),_0x1216f2(0x2dc),_0x1216f2(0x2f4),'exception',_0x1216f2(0x2cd),_0x1216f2(0x238)];for(var _0x55c9b1=0x0;_0x55c9b1<_0x4be227['length'];_0x55c9b1++){var _0x1a785b=_0x6823f8[_0x1216f2(0x221)][_0x1216f2(0x2ac)]['bind'](_0x6823f8),_0xfa9686=_0x4be227[_0x55c9b1],_0x5588fc=_0x43209c[_0xfa9686]||_0x1a785b;_0x1a785b['__proto__']=_0x6823f8['bind'](_0x6823f8),_0x1a785b['toString']=_0x5588fc['toString']['bind'](_0x5588fc),_0x43209c[_0xfa9686]=_0x1a785b;}});_0x5b38cb();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x3fb127(0x2a2)),unitCount=0x0,branchesC=document[_0x3fb127(0x288)](_0x3fb127(0x2ef)),prodC=document[_0x3fb127(0x288)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x3fb127(0x288)](_0x3fb127(0x204)),vgC=document[_0x3fb127(0x288)](_0x3fb127(0x1fb));const fileInput=document[_0x3fb127(0x288)](_0x3fb127(0x287)),progressBar=document[_0x3fb127(0x288)](_0x3fb127(0x2ae)),statusDiv=document['getElementById'](_0x3fb127(0x2a0)),uploadBtn=document['getElementById'](_0x3fb127(0x2e2));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x3fb127(0x288)](_0x3fb127(0x20c)),removeBtn=document[_0x3fb127(0x288)](_0x3fb127(0x269));function showModalCreateItem(_0x1a83d9){var _0x2a8a1f=_0x3fb127;const _0x3318a7=document[_0x2a8a1f(0x288)](_0x2a8a1f(0x1c9)),_0x516e83=document[_0x2a8a1f(0x288)]('modalOverlayCreateItem');_0x3318a7[_0x2a8a1f(0x1dc)][_0x2a8a1f(0x1d8)](_0x2a8a1f(0x249)),_0x516e83[_0x2a8a1f(0x2ce)][_0x2a8a1f(0x226)]=_0x2a8a1f(0x253);const _0x176dcb=document[_0x2a8a1f(0x288)]('setItemFree');_0x176dcb['value']=parseInt(_0x1a83d9),baseItem[_0x2a8a1f(0x2a8)]=parseInt(_0x1a83d9);const _0x2c4ad5=document[_0x2a8a1f(0x288)](_0x2a8a1f(0x1fc));_0x1a83d9==0x0&&(_0x2c4ad5[_0x2a8a1f(0x2a1)]=_0x2a8a1f(0x258));_0x1a83d9==0x1&&(_0x2c4ad5['innerHTML']=_0x2a8a1f(0x292));const _0x32d594=document[_0x2a8a1f(0x27d)](_0x2a8a1f(0x2ca));for(let _0xbbbde0=0x0;_0xbbbde0<_0x32d594[_0x2a8a1f(0x1e9)];_0xbbbde0++){const _0x2ce2aa=_0x32d594[_0xbbbde0];if(_0x1a83d9==0x0)_0x2ce2aa['classList'][_0x2a8a1f(0x256)](_0x2a8a1f(0x2b0));else _0x1a83d9==0x1&&_0x2ce2aa[_0x2a8a1f(0x1dc)][_0x2a8a1f(0x1d8)](_0x2a8a1f(0x2b0));}}function hideModalCreateItem(){var _0x195290=_0x3fb127;const _0x53989b=document['getElementById'](_0x195290(0x1c9)),_0x33adef=document['getElementById'](_0x195290(0x270));_0x53989b[_0x195290(0x1dc)][_0x195290(0x256)](_0x195290(0x249)),_0x33adef[_0x195290(0x2ce)]['display']=_0x195290(0x2bd);}document[_0x3fb127(0x288)](_0x3fb127(0x291))[_0x3fb127(0x1e5)](_0x3fb127(0x2e1),hideModalCreateItem),document[_0x3fb127(0x288)](_0x3fb127(0x270))[_0x3fb127(0x1e5)](_0x3fb127(0x2e1),_0x3d8566=>{var _0x5a291e=_0x3fb127;_0x3d8566[_0x5a291e(0x212)]==_0x3d8566[_0x5a291e(0x2e7)]&&_0x3d8566[_0x5a291e(0x1d4)]();});function loadTaxData(){var _0x3525ab=_0x3fb127;const _0x4c3e84=document['getElementById'](_0x3525ab(0x214));_0x4c3e84[_0x3525ab(0x2a1)]='',company[0x0][_0x3525ab(0x22f)][_0x3525ab(0x21f)](function(_0x3f908d){var _0xf8484d=_0x3525ab;const _0x222c82=document[_0xf8484d(0x1ec)](_0xf8484d(0x268));_0x222c82[_0xf8484d(0x23f)]=_0x3f908d[_0xf8484d(0x21b)],_0x222c82['innerHTML']=_0x3f908d['setImpuestoName']+'\x20('+_0x3f908d[_0xf8484d(0x1fa)]+'%)',_0x3f908d[_0xf8484d(0x21b)]==company[0x0][_0xf8484d(0x22d)]&&(_0x222c82[_0xf8484d(0x2c8)]=!![]),_0x4c3e84[_0xf8484d(0x1e4)](_0x222c82);});}function uniqueValuesArray(_0x199452,_0xf3f75b,_0x4ce583){var _0x2df0ab=_0x3fb127;const _0xdcd792=Array[_0x2df0ab(0x21e)](new Set(_0x4ce583['map'](_0x2807da=>{var _0x51a2b9=_0x2df0ab;const _0xe2b1b=_0x2807da[_0x199452];return typeof _0xe2b1b===_0x51a2b9(0x26e)?_0xe2b1b[_0x51a2b9(0x227)]():_0xe2b1b;})['filter'](_0x5be74b=>_0x5be74b!=null&&_0x5be74b!=='')));return _0xdcd792[_0x2df0ab(0x265)](_0x42bb04=>{var _0x1b48e0=_0x2df0ab;const _0x512c89=_0x4ce583[_0x1b48e0(0x271)](_0x5963d2=>_0x5963d2[_0x199452]===_0x42bb04),_0x50c55f=_0x512c89&&_0x512c89[_0xf3f75b]!=null?String(_0x512c89[_0xf3f75b])[_0x1b48e0(0x227)]():_0x42bb04;return{'setCode':_0x42bb04,'setName':_0x50c55f};});}function fillSelect(_0x4b220c,_0x15d0d0,_0x27c41e,_0x1a5e61){var _0x53fc05=_0x3fb127;_0x4b220c[_0x53fc05(0x2a1)]='',_0x15d0d0[_0x53fc05(0x21f)](function(_0x186fbc){var _0x4d6855=new Option(_0x186fbc[_0x1a5e61],_0x186fbc[_0x27c41e]);_0x4b220c['add'](_0x4d6855);});}function initMulti(_0x100a12,_0x2b7ceb){var _0x78473c=_0x3fb127,_0x31a8c6=document['getElementById'](_0x100a12),_0x58ec57=_0x31a8c6[_0x78473c(0x2a6)](_0x78473c(0x247)),_0x528fb6=_0x31a8c6['querySelector'](_0x78473c(0x274)),_0xdf798b=_0x31a8c6[_0x78473c(0x2a6)](_0x78473c(0x24a)),_0x174e80=_0x2b7ceb[_0x78473c(0x2f3)](),_0x14aea5=[];function _0x4b9d71(){var _0x481423=_0x78473c;_0x528fb6[_0x481423(0x2a1)]='',_0x174e80[_0x481423(0x29e)](function(_0x4e66ff){var _0x3448c2=_0x481423;return _0x4e66ff[_0x3448c2(0x208)][_0x3448c2(0x1d1)]()[_0x3448c2(0x1ee)](_0x58ec57[_0x3448c2(0x23f)][_0x3448c2(0x1d1)]())!==-0x1;})[_0x481423(0x21f)](function(_0x4f43fc){var _0x45c0a0=_0x481423,_0xfefd66=document[_0x45c0a0(0x1ec)](_0x45c0a0(0x2eb));_0xfefd66[_0x45c0a0(0x1f3)]=_0x4f43fc[_0x45c0a0(0x208)],_0xfefd66[_0x45c0a0(0x2c1)]['code']=_0x4f43fc[_0x45c0a0(0x276)],_0x528fb6[_0x45c0a0(0x1e4)](_0xfefd66),_0xfefd66[_0x45c0a0(0x1e5)]('click',function(){var _0x4c9800=_0x45c0a0;_0x14aea5[_0x4c9800(0x1d2)](_0x4f43fc),_0x174e80[_0x4c9800(0x2e5)](_0x174e80[_0x4c9800(0x202)](function(_0x481747){var _0xcc56f4=_0x4c9800;return _0x481747[_0xcc56f4(0x276)]===_0x4f43fc[_0xcc56f4(0x276)];}),0x1),_0x58ec57[_0x4c9800(0x23f)]='',_0x20596f(),_0x4b9d71();});});}function _0x20596f(){var _0x4806c0=_0x78473c;_0xdf798b['innerHTML']='',_0x14aea5[_0x4806c0(0x21f)](function(_0x35b40b){var _0x4c373b=_0x4806c0,_0x38d718=document[_0x4c373b(0x1ec)]('div');_0x38d718[_0x4c373b(0x29a)]='tag',_0x38d718[_0x4c373b(0x1f3)]=_0x35b40b[_0x4c373b(0x208)];var _0x5a9c33=document[_0x4c373b(0x1ec)](_0x4c373b(0x27f));_0x5a9c33[_0x4c373b(0x29a)]=_0x4c373b(0x252),_0x5a9c33[_0x4c373b(0x1f3)]='×',_0x5a9c33[_0x4c373b(0x1e5)](_0x4c373b(0x2e1),function(){var _0x36c683=_0x4c373b;_0x174e80['push'](_0x35b40b);const _0x2634a8=_0x14aea5[_0x36c683(0x202)](function(_0x3814a3){var _0x2027a5=_0x36c683;return _0x3814a3['setCode']===_0x35b40b[_0x2027a5(0x276)];});if(_0x2634a8>-0x1)_0x14aea5[_0x36c683(0x2e5)](_0x2634a8,0x1);_0x20596f(),_0x4b9d71();}),_0x38d718['appendChild'](_0x5a9c33),_0xdf798b[_0x4c373b(0x1e4)](_0x38d718);}),_0x31a8c6[_0x4806c0(0x296)](new CustomEvent('selectionChange',{'bubbles':!![]}));}return _0x58ec57['addEventListener'](_0x78473c(0x2e4),function(){var _0x4fe8f9=_0x78473c;_0x528fb6[_0x4fe8f9(0x1dc)][_0x4fe8f9(0x256)](_0x4fe8f9(0x2f8));}),_0x58ec57[_0x78473c(0x1e5)](_0x78473c(0x1d3),_0x4b9d71),_0x58ec57[_0x78473c(0x1e5)](_0x78473c(0x2c5),function(_0x17aab2){var _0x48341d=_0x78473c;if(_0x17aab2[_0x48341d(0x236)]===_0x48341d(0x25e)){_0x17aab2[_0x48341d(0x25a)]();const _0x10ae19=_0x58ec57[_0x48341d(0x23f)][_0x48341d(0x227)]();if(!_0x10ae19)return;const _0x59adf9=_0x14aea5[_0x48341d(0x1e2)](_0x5d4446=>_0x5d4446[_0x48341d(0x208)]===_0x10ae19),_0x19393d=_0x174e80[_0x48341d(0x1e2)](_0x91ce3c=>_0x91ce3c['setName']===_0x10ae19);if(!_0x59adf9&&!_0x19393d){const _0x37f7cc={'setCode':_0x10ae19,'setName':_0x10ae19};_0x14aea5[_0x48341d(0x1d2)](_0x37f7cc),_0x20596f(),_0x4b9d71();}_0x58ec57[_0x48341d(0x23f)]='';}}),document[_0x78473c(0x1e5)](_0x78473c(0x2e1),function(_0x37e023){var _0x43e258=_0x78473c;if(!_0x31a8c6[_0x43e258(0x1cb)](_0x37e023[_0x43e258(0x212)]))_0x528fb6[_0x43e258(0x1dc)]['add']('newItem_hidden');}),_0x4b9d71(),_0x14aea5;}function getLastCode(_0x5f4b8a){var _0x4745f1=_0x3fb127;const _0x43a1ac=_0x5f4b8a[_0x4745f1(0x265)](_0x217d46=>String(_0x217d46[_0x4745f1(0x23b)])[_0x4745f1(0x227)]())[_0x4745f1(0x29e)](_0x4acb6c=>_0x4acb6c!=='');if(_0x43a1ac[_0x4745f1(0x1e9)]===0x0)return'';const _0x159b0f=_0x43a1ac[_0x4745f1(0x1e3)](_0x52ea0e=>/^\d+$/[_0x4745f1(0x2d0)](_0x52ea0e));if(_0x159b0f){const _0x2cb508=_0x43a1ac[_0x4745f1(0x265)](Number),_0x2b0330=Math[_0x4745f1(0x218)](..._0x2cb508);return String(_0x2b0330);}let _0x3d9164;if(typeof Intl!=='undefined'&&Intl['Collator']){const _0x5e7d1e=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x4745f1(0x20f)});_0x3d9164=_0x43a1ac['slice']()[_0x4745f1(0x205)](_0x5e7d1e[_0x4745f1(0x1da)]);}else{const _0x2212fa=_0x43a1ac[_0x4745f1(0x1e3)](_0x219868=>/^\d+$/['test'](_0x219868));_0x2212fa?_0x3d9164=_0x43a1ac['map'](Number)[_0x4745f1(0x205)]((_0x2e7483,_0x2d729f)=>_0x2e7483-_0x2d729f)[_0x4745f1(0x265)](String):_0x3d9164=_0x43a1ac[_0x4745f1(0x2f3)]()[_0x4745f1(0x205)]();}return _0x3d9164[_0x3d9164[_0x4745f1(0x1e9)]-0x1];}function getNextCode(_0x32aa84){var _0x21277f=_0x3fb127;const _0x5d23b4=getLastCode(_0x32aa84);if(!_0x5d23b4)return'';if(/^\d+$/['test'](_0x5d23b4))return String(Number(_0x5d23b4)+0x1);const _0x522ffc=_0x5d23b4[_0x21277f(0x25c)](/^([A-Za-z]*)(\d+)$/);if(_0x522ffc){const [,_0x5ae4e5,_0x24ddd8]=_0x522ffc,_0x36ee7b=String(Number(_0x24ddd8)+0x1)[_0x21277f(0x24f)](_0x24ddd8[_0x21277f(0x1e9)],'0');return _0x5ae4e5+_0x36ee7b;}return _0x5d23b4;}document[_0x3fb127(0x288)](_0x3fb127(0x242))[_0x3fb127(0x1e5)]('input',function(_0x43d1bc){var _0xeba543=_0x3fb127;baseItem[_0xeba543(0x1f0)]=_0x43d1bc[_0xeba543(0x212)][_0xeba543(0x23f)];}),document[_0x3fb127(0x288)](_0x3fb127(0x2af))[_0x3fb127(0x1e5)](_0x3fb127(0x1d3),function(_0xbc186c){var _0x15c77a=_0x3fb127;baseItem[_0x15c77a(0x2b8)]=_0xbc186c['target'][_0x15c77a(0x23f)];}),document['getElementById'](_0x3fb127(0x239))['addEventListener'](_0x3fb127(0x1d3),function(_0x326a7e){var _0x4cbd9b=_0x3fb127;baseItem[_0x4cbd9b(0x28b)]=_0x326a7e[_0x4cbd9b(0x212)][_0x4cbd9b(0x23f)];}),document[_0x3fb127(0x288)]('inputItemType')[_0x3fb127(0x1e5)](_0x3fb127(0x27b),function(_0x199c89){var _0x274a80=_0x3fb127;baseItem['setItemType']=_0x199c89['target'][_0x274a80(0x23f)];}),document['getElementById'](_0x3fb127(0x214))['addEventListener'](_0x3fb127(0x27b),function(_0x3feca5){var _0x319db5=_0x3fb127;baseItem['setItemTaxId']=_0x3feca5['target']['value'];const _0x173b65=_0x3feca5[_0x319db5(0x212)][_0x319db5(0x23f)],_0x45614c=company[0x0][_0x319db5(0x22f)][_0x319db5(0x271)](_0x7bfcd9=>_0x7bfcd9[_0x319db5(0x21b)]==_0x173b65)?.[_0x319db5(0x289)]||0x0,_0x4fe310=company[0x0][_0x319db5(0x22f)][_0x319db5(0x271)](_0x464cb6=>_0x464cb6[_0x319db5(0x21b)]==_0x173b65)?.[_0x319db5(0x1fa)]||0x0;baseItem[_0x319db5(0x2d1)]=_0x45614c,baseItem[_0x319db5(0x207)]=_0x4fe310;}),document[_0x3fb127(0x288)](_0x3fb127(0x2e9))[_0x3fb127(0x1e5)](_0x3fb127(0x27b),function(_0x9362cb){var _0x1c5a1f=_0x3fb127;baseItem['setItemIsBought']=_0x9362cb[_0x1c5a1f(0x212)][_0x1c5a1f(0x203)];}),document[_0x3fb127(0x288)](_0x3fb127(0x2ec))[_0x3fb127(0x1e5)]('change',function(_0xb7848c){var _0x274f50=_0x3fb127;baseItem[_0x274f50(0x250)]=_0xb7848c[_0x274f50(0x212)][_0x274f50(0x203)];}),document[_0x3fb127(0x288)](_0x3fb127(0x25b))[_0x3fb127(0x1e5)](_0x3fb127(0x1d3),function(_0x166072){var _0x6575d8=_0x3fb127;baseItem[_0x6575d8(0x241)]=_0x166072[_0x6575d8(0x212)][_0x6575d8(0x23f)];}),document[_0x3fb127(0x288)](_0x3fb127(0x2d5))[_0x3fb127(0x1e5)](_0x3fb127(0x1d3),function(_0x27acce){var _0x499e60=_0x3fb127;baseItem['setItemBarCode']=_0x27acce[_0x499e60(0x212)]['value'];}),document[_0x3fb127(0x288)]('newItem_btn_addUnit')[_0x3fb127(0x1e5)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x3fb127(0x288)](_0x3fb127(0x25b))[_0x3fb127(0x1e5)](_0x3fb127(0x2cf),function(){var _0x1c5333=_0x3fb127;const _0x3dd549=this['value'][_0x1c5333(0x227)]();if(_0x3dd549==='')return;const _0xdb957d=products[_0x1c5333(0x1e2)](_0x2258c7=>_0x2258c7['setCodProducto']==_0x3dd549),_0x3221c6=getLastCode(products);_0xdb957d?ntfShow(_0x1c5333(0x1c6)+_0x3221c6,0x2,0x1):ntfShow(_0x1c5333(0x294),0x1,0x1);});function removeImg(_0xfedb1c){var _0xfaf6e0=_0x3fb127;currentImages[_0xfedb1c]=null;var _0x3e39e8=imgC[_0xfaf6e0(0x2a6)](_0xfaf6e0(0x1eb)+_0xfedb1c+'\x22]');_0x3e39e8[_0xfaf6e0(0x2a1)]='';var _0xc34511=document['createElement'](_0xfaf6e0(0x1d3));_0xc34511['type']='file',_0xc34511[_0xfaf6e0(0x299)]=_0xfaf6e0(0x2f9),_0xc34511[_0xfaf6e0(0x2ce)][_0xfaf6e0(0x226)]=_0xfaf6e0(0x2bd);var _0x54b795=document[_0xfaf6e0(0x1ec)](_0xfaf6e0(0x27f));_0x54b795[_0xfaf6e0(0x1f3)]='+',_0x3e39e8[_0xfaf6e0(0x1e4)](_0xc34511),_0x3e39e8['appendChild'](_0x54b795),_0x3e39e8[_0xfaf6e0(0x1e5)](_0xfaf6e0(0x2e1),function(){var _0x4b21a5=_0xfaf6e0;_0xc34511[_0x4b21a5(0x2e1)]();}),baseItem[_0xfaf6e0(0x234)]=currentImages[_0xfaf6e0(0x29e)](function(_0x3f11a5){return _0x3f11a5;});}function addUnit(_0x54219b,_0x336549,_0x521a11,_0x22503d,_0x13c451,_0x4d9e45,_0x17dbe8){var _0x30f23c=_0x3fb127,_0xaa49d5=uniqueValuesArray(_0x30f23c(0x1fe),_0x30f23c(0x1fe),products);_0x54219b=_0x54219b||'',_0x336549=_0x336549||_0xaa49d5[0x0]&&_0xaa49d5[0x0]['setCode']||'',_0x521a11=_0x521a11!==undefined?_0x521a11:0x1,_0x22503d=!!_0x22503d,_0x13c451=_0x13c451||'',_0x4d9e45=_0x4d9e45||'';var _0x3e7a2=unitCount++,_0x31b7ba=document[_0x30f23c(0x1ec)](_0x30f23c(0x2eb));_0x31b7ba['dataset'][_0x30f23c(0x2f5)]=_0x3e7a2,_0x31b7ba[_0x30f23c(0x2c1)][_0x30f23c(0x277)]=_0x22503d,_0x31b7ba[_0x30f23c(0x2a1)]=_0x30f23c(0x1c7)+_0x3e7a2+'\x22\x20value=\x22'+_0x54219b+_0x30f23c(0x1e0)+_0x3e7a2+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x3e7a2+'\x22\x20value=\x22'+_0x521a11+'\x22\x20'+(_0x22503d?_0x30f23c(0x20b):'')+_0x30f23c(0x2db)+_0x3e7a2+_0x30f23c(0x29b)+_0x13c451+_0x30f23c(0x2f2)+_0x3e7a2+_0x30f23c(0x29b)+_0x4d9e45+_0x30f23c(0x220)+(_0x22503d?_0x30f23c(0x281):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x31b7ba['querySelector'](_0x30f23c(0x24b)),_0xaa49d5,'setCode',_0x30f23c(0x208)),_0x31b7ba['querySelector'](_0x30f23c(0x24b))[_0x30f23c(0x23f)]=_0x336549,[_0x30f23c(0x2d2),_0x30f23c(0x28d),_0x30f23c(0x2d7),_0x30f23c(0x298),'costInput'][_0x30f23c(0x21f)](function(_0x5b9218){var _0x5a0880=_0x30f23c;_0x31b7ba['querySelector']('.'+_0x5b9218)['addEventListener'](_0x5a0880(0x1d3),function(){var _0x550dc1=_0x17dbe8?+_0x17dbe8['id']['split']('_')[0x1]:null;if(_0x17dbe8)updateVariantUnits(_0x550dc1);else updateUnitsArray();});}),_0x31b7ba['querySelector'](_0x30f23c(0x215))[_0x30f23c(0x1e5)](_0x30f23c(0x2e1),function(){var _0x403a4c=_0x30f23c;_0x31b7ba['remove']();var _0x4b631a=_0x17dbe8?+_0x17dbe8['id'][_0x403a4c(0x24c)]('_')[0x1]:null;if(_0x17dbe8)updateVariantUnits(_0x4b631a);else updateUnitsArray();});var _0x5138f4=_0x17dbe8||document[_0x30f23c(0x288)](_0x30f23c(0x2cc));_0x5138f4[_0x30f23c(0x1e4)](_0x31b7ba);}function containerIdx(_0x311149){var _0x351a57=_0x3fb127;return+_0x311149['id'][_0x351a57(0x24c)]('_')[0x1];}function updateUnitsArray(){var _0xa04be3=_0x3fb127,_0x3202b5=[],_0x461978=Array['from'](document['querySelectorAll']('#newItem_units_container\x20>\x20div')),_0xfd0169=_0x461978[_0xa04be3(0x271)](_0x5c979c=>_0x5c979c[_0xa04be3(0x2c1)][_0xa04be3(0x277)]===_0xa04be3(0x29d)),_0x206d6c=_0xfd0169?+_0xfd0169[_0xa04be3(0x2a6)](_0xa04be3(0x279))[_0xa04be3(0x23f)]:0x1;_0x461978[_0xa04be3(0x21f)](function(_0x14f1a3){var _0x5557ce=_0xa04be3,_0x1cc70c=+_0x14f1a3['querySelector'](_0x5557ce(0x279))[_0x5557ce(0x23f)]||0x0,_0x59fd66=+_0x14f1a3['querySelector'](_0x5557ce(0x29f))[_0x5557ce(0x23f)]||0x0,_0x59a4e8=+_0x14f1a3['querySelector'](_0x5557ce(0x1f2))[_0x5557ce(0x23f)]||0x0;_0x3202b5[_0x5557ce(0x1d2)]({'setAlias':_0x14f1a3[_0x5557ce(0x2a6)](_0x5557ce(0x2b4))['value'][_0x5557ce(0x227)](),'setUnitCode':_0x14f1a3['querySelector']('.unitSelect')['value'],'setEquivalence':_0x1cc70c,'setFactor':_0x14f1a3[_0x5557ce(0x2c1)][_0x5557ce(0x277)]===_0x5557ce(0x29d)?0x1:_0x1cc70c==_0x206d6c?0x1:_0x1cc70c<_0x206d6c?_0x206d6c/_0x1cc70c:_0x1cc70c/_0x206d6c,'setPrice':_0x59fd66,'setCost':_0x59a4e8,'setDefault':_0x14f1a3[_0x5557ce(0x2c1)][_0x5557ce(0x277)]===_0x5557ce(0x29d)?0x1:0x0});}),baseItem[_0xa04be3(0x2da)]=_0x3202b5;}function updateBranches(){var _0x317248=_0x3fb127,_0x1156bf=[];document['querySelectorAll'](_0x317248(0x257))['forEach'](function(_0x39a233){var _0x38127f=_0x317248,_0x47d42b=_0x39a233[_0x38127f(0x2a6)]('.branchChk');if(_0x47d42b[_0x38127f(0x203)]){var _0x1cf452=+_0x47d42b[_0x38127f(0x2c1)]['id'],_0x4acb8d=+_0x39a233[_0x38127f(0x2a6)](_0x38127f(0x286))[_0x38127f(0x23f)],_0x3a7420=+_0x39a233[_0x38127f(0x2a6)](_0x38127f(0x1e1))[_0x38127f(0x23f)];_0x1156bf[_0x38127f(0x1d2)]({'setWarehouseCode':_0x1cf452,'setStockInitial':_0x4acb8d,'setStockMinimum':_0x3a7420});}}),baseItem['setItemWarehouses']=_0x1156bf;}document[_0x3fb127(0x288)](_0x3fb127(0x1e7))[_0x3fb127(0x1e5)](_0x3fb127(0x2e1),function(){var _0x1f8b29=_0x3fb127,_0x2ddbc3=Date[_0x1f8b29(0x223)](),_0x3b53f0=document['createElement']('div');_0x3b53f0[_0x1f8b29(0x2c1)]['idx']=_0x2ddbc3,_0x3b53f0['innerHTML']=_0x1f8b29(0x2d8)+_0x2ddbc3+_0x1f8b29(0x282)+_0x2ddbc3+_0x1f8b29(0x232),prodC[_0x1f8b29(0x1e4)](_0x3b53f0),initProdSearch(_0x3b53f0[_0x1f8b29(0x2a6)](_0x1f8b29(0x2cb))),_0x3b53f0['querySelector'](_0x1f8b29(0x23c))[_0x1f8b29(0x1e5)](_0x1f8b29(0x2e1),function(){var _0x47b693=_0x1f8b29;_0x3b53f0[_0x47b693(0x256)](),updateProdItems();}),_0x3b53f0['querySelector']('.prodQty')[_0x1f8b29(0x1e5)](_0x1f8b29(0x1d3),updateProdItems),document[_0x1f8b29(0x288)](_0x1f8b29(0x27e))['classList']['toggle'](_0x1f8b29(0x2bc),!![]),document[_0x1f8b29(0x288)](_0x1f8b29(0x27e))['classList'][_0x1f8b29(0x246)](_0x1f8b29(0x2f8),![]);});function initProdSearch(_0x5615df,_0x48b57e){var _0x3b433e=_0x3fb127,_0x501379=_0x5615df[_0x3b433e(0x2a6)](_0x3b433e(0x293)),_0xa550b2=_0x5615df[_0x3b433e(0x2a6)](_0x3b433e(0x274)),_0x535532=_0x48b57e||null;if(_0x48b57e)_0x501379[_0x3b433e(0x23f)]=_0x48b57e[_0x3b433e(0x1f1)];_0x501379[_0x3b433e(0x1e5)](_0x3b433e(0x1d3),function(){var _0xdba956=_0x3b433e,_0x2189bd=_0x501379[_0xdba956(0x23f)][_0xdba956(0x1d1)]()[_0xdba956(0x227)]();_0xa550b2['innerHTML']='';if(!_0x2189bd)return;products[_0xdba956(0x29e)](_0x50bc60=>_0x50bc60['setDescripcion']['toLowerCase']()[_0xdba956(0x2f7)](_0x2189bd))[_0xdba956(0x2f3)](0x0,0x14)[_0xdba956(0x21f)](function(_0x211b97){var _0x3f1191=_0xdba956,_0x33f3c3=document[_0x3f1191(0x1ec)]('div');_0x33f3c3[_0x3f1191(0x1f3)]=_0x211b97[_0x3f1191(0x1d5)],_0x33f3c3[_0x3f1191(0x2c1)]['id']=_0x211b97['id'],_0x33f3c3[_0x3f1191(0x2c1)][_0x3f1191(0x1f1)]=_0x211b97[_0x3f1191(0x1d5)],_0xa550b2[_0x3f1191(0x1e4)](_0x33f3c3),_0x33f3c3['addEventListener'](_0x3f1191(0x2e1),function(){var _0x5ac9b8=_0x3f1191;_0x535532={'id':_0x211b97['id'],'name':_0x211b97[_0x5ac9b8(0x1d5)]},_0x501379[_0x5ac9b8(0x23f)]=_0x211b97[_0x5ac9b8(0x1d5)],_0xa550b2[_0x5ac9b8(0x2a1)]='';var _0x26aebd=_0x5615df[_0x5ac9b8(0x1f7)](_0x5ac9b8(0x201));if(_0x26aebd){var _0x759590=+_0x26aebd['id']['split']('_')[0x1];updateVariantComponents(_0x759590);}else updateProdItems();});});}),_0x501379[_0x3b433e(0x1e5)]('focus',function(){var _0x2dead3=_0x3b433e;_0xa550b2['classList'][_0x2dead3(0x256)](_0x2dead3(0x2f8));}),document['addEventListener'](_0x3b433e(0x2e1),function(_0x303958){var _0x50aa32=_0x3b433e;if(!_0x5615df[_0x50aa32(0x1cb)](_0x303958[_0x50aa32(0x212)]))_0xa550b2[_0x50aa32(0x1dc)][_0x50aa32(0x1d8)](_0x50aa32(0x2f8));}),Object['defineProperty'](_0x5615df,_0x3b433e(0x2b5),{'get':()=>_0x535532});}function updateProdItems(){var _0x1050c6=_0x3fb127,_0x22e37a=[];Array['from'](prodC['children'])[_0x1050c6(0x21f)](function(_0x51914e){var _0x2bbaf7=_0x1050c6,_0x116612=_0x51914e['querySelector'](_0x2bbaf7(0x2cb));if(!_0x116612)return;var _0x59e122=_0x51914e[_0x2bbaf7(0x2a6)](_0x2bbaf7(0x210)),_0x1fcf7d=_0x116612[_0x2bbaf7(0x2b5)];_0x1fcf7d&&_0x22e37a[_0x2bbaf7(0x1d2)]({'setItemId':_0x1fcf7d['id'],'setDescripcion':_0x1fcf7d[_0x2bbaf7(0x1f1)],'setCantidad':+_0x59e122[_0x2bbaf7(0x23f)]});}),baseItem['setItemComponents']=_0x22e37a,_0x22e37a['length']===0x0&&(document['getElementById'](_0x1050c6(0x27e))[_0x1050c6(0x1dc)][_0x1050c6(0x246)](_0x1050c6(0x2bc),![]),document['getElementById'](_0x1050c6(0x27e))[_0x1050c6(0x1dc)][_0x1050c6(0x246)](_0x1050c6(0x2f8),!![]));}document[_0x3fb127(0x288)](_0x3fb127(0x267))[_0x3fb127(0x1e5)](_0x3fb127(0x2e1),function(){var _0x1f6928=_0x3fb127,_0x118eb8=vgCount++,_0x1a432c=document[_0x1f6928(0x1ec)](_0x1f6928(0x2eb));_0x1a432c[_0x1f6928(0x2c1)][_0x1f6928(0x2f5)]=_0x118eb8,_0x1a432c[_0x1f6928(0x2a1)]=_0x1f6928(0x1c8)+_0x118eb8+'\x22>'+_0x1f6928(0x217)+_0x118eb8+'\x22>'+_0x1f6928(0x259),vgC[_0x1f6928(0x1e4)](_0x1a432c),_0x1a432c[_0x1f6928(0x2a6)](_0x1f6928(0x237))[_0x1f6928(0x1e5)](_0x1f6928(0x2cf),generateVariants),_0x1a432c['querySelector'](_0x1f6928(0x297))['addEventListener'](_0x1f6928(0x2cf),generateVariants),_0x1a432c[_0x1f6928(0x2a6)](_0x1f6928(0x2df))[_0x1f6928(0x1e5)](_0x1f6928(0x2e1),function(){var _0x4619e2=_0x1f6928;_0x1a432c[_0x4619e2(0x256)](),generateVariants();});});function generateVariants(){var _0x618e50=_0x3fb127,_0x3e2a96=[];vgC[_0x618e50(0x26b)](_0x618e50(0x2eb))[_0x618e50(0x21f)](function(_0x1fd35a){var _0x2f4caa=_0x618e50,_0x544e29=_0x1fd35a[_0x2f4caa(0x2a6)](_0x2f4caa(0x237))[_0x2f4caa(0x23f)][_0x2f4caa(0x227)](),_0x11e021=_0x1fd35a[_0x2f4caa(0x2a6)](_0x2f4caa(0x297))[_0x2f4caa(0x23f)][_0x2f4caa(0x24c)](',')[_0x2f4caa(0x265)](_0x2f1652=>_0x2f1652['trim']())[_0x2f4caa(0x29e)](_0x708b66=>_0x708b66);if(_0x544e29&&_0x11e021['length'])_0x3e2a96[_0x2f4caa(0x1d2)]({'name':_0x544e29,'vals':_0x11e021});});var _0x29531d=[{}];_0x3e2a96[_0x618e50(0x21f)](function(_0x526d4d){_0x29531d=_0x29531d['flatMap'](function(_0x4ba843){var _0x1cea98=_0x14e4;return _0x526d4d[_0x1cea98(0x21c)][_0x1cea98(0x265)](function(_0x1c8edf){var _0x47ba51=_0x1cea98,_0x29588f=Object[_0x47ba51(0x22a)]({},_0x4ba843);return _0x29588f[_0x526d4d['name']]=_0x1c8edf,_0x29588f;});});}),newItems=[],varContainer[_0x618e50(0x2a1)]='',_0x29531d[_0x618e50(0x21f)](function(_0x3c430f,_0x4b57fa){var _0x11867a=_0x618e50,_0x4c7931=JSON[_0x11867a(0x2a5)](JSON[_0x11867a(0x1cd)](baseItem));_0x4c7931['setItemVariantValues']=_0x3c430f,_0x4c7931['setItemVariantName']=baseItem[_0x11867a(0x1f0)]+'\x20'+Object['entries'](_0x3c430f)[_0x11867a(0x265)](_0x3cdf66=>_0x3cdf66[0x0]+'\x20'+_0x3cdf66[0x1])[_0x11867a(0x2a3)]('\x20'),newItems[_0x11867a(0x1d2)](_0x4c7931);var _0xd2ce28=document[_0x11867a(0x1ec)]('div');_0xd2ce28[_0x11867a(0x1dc)][_0x11867a(0x1d8)](_0x11867a(0x266)),_0xd2ce28[_0x11867a(0x2c1)]['idx']=_0x4b57fa,_0xd2ce28[_0x11867a(0x2a1)]=_0x11867a(0x243)+_0x4c7931[_0x11867a(0x1de)]+_0x11867a(0x1ca)+_0x4c7931['setItemCode']+_0x11867a(0x21d)+_0x4c7931[_0x11867a(0x1f8)]+_0x11867a(0x2ab)+_0x4c7931[_0x11867a(0x28b)]+_0x11867a(0x245)+_0x4b57fa+_0x11867a(0x244)+_0x4b57fa+_0x11867a(0x1df)+_0x4b57fa+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x11867a(0x1e4)](_0xd2ce28),_0xd2ce28['querySelector'](_0x11867a(0x23a))[_0x11867a(0x1e5)]('input',_0x3201f1=>newItems[_0x4b57fa]['setItemCode']=_0x3201f1['target'][_0x11867a(0x23f)]),_0xd2ce28[_0x11867a(0x2a6)](_0x11867a(0x28e))[_0x11867a(0x1e5)](_0x11867a(0x1d3),_0x4d9a5a=>newItems[_0x4b57fa][_0x11867a(0x1f8)]=_0x4d9a5a[_0x11867a(0x212)][_0x11867a(0x23f)]),_0xd2ce28[_0x11867a(0x2a6)]('.variantExpiry')['addEventListener']('change',_0x27dda0=>newItems[_0x4b57fa][_0x11867a(0x28b)]=_0x27dda0[_0x11867a(0x212)]['value']),initVariantUnits(_0x4b57fa),initVariantComponents(_0x4b57fa),initVariantBranches(_0x4b57fa),_0xd2ce28[_0x11867a(0x2a6)](_0x11867a(0x2f1))[_0x11867a(0x1e5)](_0x11867a(0x2e1),function(){var _0x1db9b6=_0x11867a,_0x3982aa=+_0xd2ce28[_0x1db9b6(0x2c1)][_0x1db9b6(0x2f5)];newItems[_0x1db9b6(0x2e5)](_0x3982aa,0x1),_0xd2ce28[_0x1db9b6(0x256)](),document[_0x1db9b6(0x26b)](_0x1db9b6(0x1f4))[_0x1db9b6(0x21f)](function(_0x5858ed,_0x53deee){var _0x5f0327=_0x1db9b6;_0x5858ed[_0x5f0327(0x2c1)][_0x5f0327(0x2f5)]=_0x53deee;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x405224){var _0x4cd9d2=_0x3fb127,_0x28d572=document[_0x4cd9d2(0x288)]('variant_'+_0x405224+_0x4cd9d2(0x2bf)),_0x40b40a=[];Array['from'](_0x28d572['children'])[_0x4cd9d2(0x21f)](function(_0x46c176){var _0x1e0d95=_0x4cd9d2,_0x5110f5=+_0x46c176[_0x1e0d95(0x2a6)](_0x1e0d95(0x279))['value']||0x0,_0x2b0fd0=_0x46c176[_0x1e0d95(0x2a6)](_0x1e0d95(0x2b4))[_0x1e0d95(0x23f)][_0x1e0d95(0x227)](),_0x353d0e=_0x46c176[_0x1e0d95(0x2a6)](_0x1e0d95(0x24b))['value'],_0x495b88=+_0x46c176[_0x1e0d95(0x2a6)](_0x1e0d95(0x29f))[_0x1e0d95(0x23f)]||0x0,_0x3af956=+_0x46c176[_0x1e0d95(0x2a6)](_0x1e0d95(0x1f2))['value']||0x0,_0x436cae=_0x46c176['dataset'][_0x1e0d95(0x277)]==='true',_0x120ad0=+_0x28d572[_0x1e0d95(0x2a6)](_0x1e0d95(0x2e6))['value']||0x1,_0xddb94c=_0x436cae?0x1:_0x5110f5==_0x120ad0?0x1:_0x5110f5<_0x120ad0?_0x120ad0/_0x5110f5:_0x5110f5/_0x120ad0;_0x40b40a['push']({'setAlias':_0x2b0fd0,'setUnitCode':_0x353d0e,'setEquivalence':_0x5110f5,'setFactor':_0xddb94c,'setPrice':_0x495b88,'setCost':_0x3af956,'setDefault':_0x436cae?0x1:0x0});}),newItems[_0x405224][_0x4cd9d2(0x2da)]=_0x40b40a;}function initVariantUnits(_0x4f2662){var _0x40e05a=_0x3fb127,_0x4a4e63=document['getElementById'](_0x40e05a(0x206)+_0x4f2662+'_units_container');_0x4a4e63['innerHTML']='',newItems[_0x4f2662][_0x40e05a(0x2da)][_0x40e05a(0x21f)](function(_0x10cfa4){var _0x423015=_0x40e05a;addUnit(_0x10cfa4[_0x423015(0x216)],_0x10cfa4[_0x423015(0x2bb)],_0x10cfa4[_0x423015(0x284)],_0x10cfa4[_0x423015(0x2be)],_0x10cfa4[_0x423015(0x260)],_0x10cfa4[_0x423015(0x261)],_0x4a4e63);}),_0x4a4e63['parentNode'][_0x40e05a(0x2a6)](_0x40e05a(0x2d9))[_0x40e05a(0x1e5)](_0x40e05a(0x2e1),function(){addUnit('','',0x1,![],'','',_0x4a4e63),updateVariantUnits(_0x4f2662);});}function updateVariantUnits(_0x4bcc9e){var _0x1f6461=_0x3fb127,_0x15798c=document['getElementById'](_0x1f6461(0x206)+_0x4bcc9e+_0x1f6461(0x2bf)),_0x223ebf=_0x15798c['querySelector']('div[data-default=\x22true\x22]\x20.eqInput'),_0x55456a=_0x223ebf?+_0x223ebf['value']:0x1,_0xe9ceff=Array[_0x1f6461(0x21e)](_0x15798c[_0x1f6461(0x1cf)])[_0x1f6461(0x265)](function(_0x1abe4a){var _0x24298b=_0x1f6461,_0x4e5e26=_0x1abe4a[_0x24298b(0x2a6)](_0x24298b(0x2b4))[_0x24298b(0x23f)][_0x24298b(0x227)](),_0x5361e7=_0x1abe4a['querySelector'](_0x24298b(0x24b))[_0x24298b(0x23f)],_0x1e64f8=+_0x1abe4a[_0x24298b(0x2a6)](_0x24298b(0x279))['value']||0x0,_0x880a5f=+_0x1abe4a[_0x24298b(0x2a6)](_0x24298b(0x29f))['value']||0x0,_0x251733=+_0x1abe4a['querySelector'](_0x24298b(0x1f2))['value']||0x0,_0x13df99=_0x1abe4a[_0x24298b(0x2c1)]['default']==='true';return{'setAlias':_0x4e5e26,'setUnitCode':_0x5361e7,'setEquivalence':_0x1e64f8,'setFactor':_0x13df99?0x1:_0x1e64f8==_0x55456a?0x1:_0x1e64f8<_0x55456a?_0x55456a/_0x1e64f8:_0x1e64f8/_0x55456a,'setPrice':_0x880a5f,'setCost':_0x251733,'setDefault':_0x13df99?0x1:0x0};});newItems[_0x4bcc9e]['setItemUnits']=_0xe9ceff;}function initVariantComponents(_0x19ca3d){var _0x586bde=_0x3fb127,_0x47aa13=document[_0x586bde(0x288)](_0x586bde(0x206)+_0x19ca3d+_0x586bde(0x255));_0x47aa13[_0x586bde(0x2a1)]='',newItems[_0x19ca3d][_0x586bde(0x1ce)][_0x586bde(0x21f)](function(_0x3dc8bf){var _0x58dddf=_0x586bde,_0x4b6d2d=document[_0x58dddf(0x1ec)](_0x58dddf(0x2eb)),_0x335888=Date['now']();_0x4b6d2d[_0x58dddf(0x2c1)][_0x58dddf(0x2f5)]=_0x335888,_0x4b6d2d['innerHTML']=_0x58dddf(0x1ed)+_0x335888+_0x58dddf(0x2b1)+_0x3dc8bf[_0x58dddf(0x224)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x47aa13[_0x58dddf(0x1e4)](_0x4b6d2d),initProdSearch(_0x4b6d2d['querySelector'](_0x58dddf(0x2cb)),{'id':_0x3dc8bf[_0x58dddf(0x2a4)],'name':_0x3dc8bf['setDescripcion']}),_0x4b6d2d['querySelector']('.prodQty')[_0x58dddf(0x1e5)](_0x58dddf(0x1d3),function(){updateVariantComponents(_0x19ca3d);}),_0x4b6d2d['querySelector'](_0x58dddf(0x2c6))[_0x58dddf(0x1e5)]('click',function(){_0x4b6d2d['remove'](),updateVariantComponents(_0x19ca3d);});}),_0x47aa13[_0x586bde(0x272)][_0x586bde(0x2a6)]('.addVariantComp')[_0x586bde(0x1e5)](_0x586bde(0x2e1),function(){var _0xacbf9d=_0x586bde,_0x2241bd=document[_0xacbf9d(0x1ec)](_0xacbf9d(0x2eb)),_0x1c5bcf=Date[_0xacbf9d(0x223)]();_0x2241bd[_0xacbf9d(0x2c1)][_0xacbf9d(0x2f5)]=_0x1c5bcf,_0x2241bd[_0xacbf9d(0x2a1)]=_0xacbf9d(0x1ed)+_0x1c5bcf+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x47aa13[_0xacbf9d(0x1e4)](_0x2241bd),initProdSearch(_0x2241bd[_0xacbf9d(0x2a6)]('.prod_input_container')),_0x2241bd[_0xacbf9d(0x2a6)](_0xacbf9d(0x210))['addEventListener'](_0xacbf9d(0x1d3),function(){updateVariantComponents(_0x19ca3d);}),_0x2241bd[_0xacbf9d(0x2a6)](_0xacbf9d(0x2c6))[_0xacbf9d(0x1e5)](_0xacbf9d(0x2e1),function(){_0x2241bd['remove'](),updateVariantComponents(_0x19ca3d);});});}function updateVariantComponents(_0x4b484c){var _0x109116=_0x3fb127,_0x4f6546=document[_0x109116(0x288)](_0x109116(0x206)+_0x4b484c+_0x109116(0x255)),_0x82a4b4=Array[_0x109116(0x21e)](_0x4f6546[_0x109116(0x1cf)])[_0x109116(0x265)](function(_0x12e3ba){var _0x5e234e=_0x109116,_0x169fb9=_0x12e3ba[_0x5e234e(0x2a6)]('.prod_input_container'),_0x495c42=_0x169fb9[_0x5e234e(0x2b5)],_0x7e3b6b=+_0x12e3ba['querySelector']('.prodQty')[_0x5e234e(0x23f)]||0x0;return _0x495c42?{'setItemId':_0x495c42['id'],'setDescripcion':_0x495c42[_0x5e234e(0x1f1)],'setCantidad':_0x7e3b6b}:null;})[_0x109116(0x29e)](_0x36b6d1=>_0x36b6d1);newItems[_0x4b484c][_0x109116(0x1ce)]=_0x82a4b4;}function initVariantBranches(_0x3eb958){var _0x2ee146=_0x3fb127;const _0x5d4bc9=getAllWarehouses();var _0x3a10eb=document[_0x2ee146(0x288)](_0x2ee146(0x206)+_0x3eb958+_0x2ee146(0x2e3));_0x3a10eb[_0x2ee146(0x2a1)]='',newItems[_0x3eb958]['setItemWarehouses'][_0x2ee146(0x21f)](function(_0x57ee90){var _0x28e7e6=_0x2ee146,_0x37828e=_0x5d4bc9['find'](_0x28baa1=>_0x28baa1[_0x28e7e6(0x251)]==_0x57ee90[_0x28e7e6(0x280)]),_0x47c363=document['createElement']('div');_0x47c363[_0x28e7e6(0x2a1)]=_0x28e7e6(0x26a)+_0x57ee90[_0x28e7e6(0x280)]+_0x28e7e6(0x1ff)+_0x37828e['setWarehouseName']+_0x28e7e6(0x26c)+_0x57ee90[_0x28e7e6(0x280)]+_0x28e7e6(0x29b)+_0x57ee90[_0x28e7e6(0x264)]+_0x28e7e6(0x263)+_0x57ee90[_0x28e7e6(0x280)]+'\x22\x20value=\x22'+_0x57ee90[_0x28e7e6(0x2ed)]+'\x22>',_0x3a10eb[_0x28e7e6(0x1e4)](_0x47c363),_0x47c363[_0x28e7e6(0x26b)](_0x28e7e6(0x1d3))['forEach'](function(_0x2ae209){var _0x33c44e=_0x28e7e6;_0x2ae209['addEventListener'](_0x33c44e(0x1d3),function(){updateVariantBranches(_0x3eb958);});});}),_0x5d4bc9[_0x2ee146(0x21f)](function(_0x5dcce4){var _0x153857=_0x2ee146;if(!newItems[_0x3eb958][_0x153857(0x2ba)][_0x153857(0x271)](_0x346afd=>_0x346afd['setWarehouseCode']===_0x5dcce4['setWarehouseId'])){var _0x95a504=document[_0x153857(0x1ec)](_0x153857(0x2eb));_0x95a504[_0x153857(0x2a1)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5dcce4[_0x153857(0x251)]+_0x153857(0x1db)+_0x5dcce4['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5dcce4['setWarehouseId']+_0x153857(0x263)+_0x5dcce4[_0x153857(0x251)]+'\x22>',_0x3a10eb['appendChild'](_0x95a504),_0x95a504[_0x153857(0x26b)](_0x153857(0x1d3))[_0x153857(0x21f)](function(_0x3abee8){var _0x42cb1c=_0x153857;_0x3abee8[_0x42cb1c(0x1e5)](_0x42cb1c(0x1d3),function(){updateVariantBranches(_0x3eb958);});});}});}function updateVariantBranches(_0x14a7fe){var _0x1c52e7=_0x3fb127,_0x358b40=document[_0x1c52e7(0x288)](_0x1c52e7(0x206)+_0x14a7fe+_0x1c52e7(0x2e3)),_0x2c5d5a=[];_0x358b40['querySelectorAll'](_0x1c52e7(0x2eb))['forEach'](function(_0x484694){var _0xff5065=_0x1c52e7,_0x1c68be=_0x484694['querySelector'](_0xff5065(0x200));if(_0x1c68be[_0xff5065(0x203)]){var _0x55e222=+_0x1c68be[_0xff5065(0x2c1)]['id'],_0x502b73=+_0x484694['querySelector'](_0xff5065(0x286))['value']||0x0,_0x3ea4ed=+_0x484694[_0xff5065(0x2a6)](_0xff5065(0x1e1))[_0xff5065(0x23f)]||0x0;_0x2c5d5a[_0xff5065(0x1d2)]({'setWarehouseCode':_0x55e222,'setStockInitial':_0x502b73,'setStockMinimum':_0x3ea4ed});}}),newItems[_0x14a7fe][_0x1c52e7(0x2ba)]=_0x2c5d5a;}async function storeOfflineProduct(_0x137bba){var _0x36dbca=_0x3fb127;try{const _0x384bb9=await createCartStore(''),_0x4295b7=_0x384bb9[_0x36dbca(0x25f)](_0x36dbca(0x2f6),_0x36dbca(0x240)),_0xdff0a1=_0x4295b7[_0x36dbca(0x233)](_0x36dbca(0x2f6));_0xdff0a1['add'](_0x137bba),_0x4295b7[_0x36dbca(0x231)]=()=>{var _0x551f8d=_0x36dbca;console[_0x551f8d(0x28a)](_0x551f8d(0x27c));},_0x4295b7[_0x36dbca(0x254)]=_0x4a4088=>{var _0x150e58=_0x36dbca;console[_0x150e58(0x2f4)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x4a4088['target'][_0x150e58(0x2f4)]);};}catch(_0x2b01bc){console['error'](_0x36dbca(0x295),_0x2b01bc);}}document['getElementById']('btnItemSave')[_0x3fb127(0x1e5)]('click',async function(_0x3c5e8f){var _0x22ff2e=_0x3fb127;_0x3c5e8f['preventDefault']();const _0x104272=document[_0x22ff2e(0x288)]('inputItemCode'),_0x3eb157=document[_0x22ff2e(0x288)]('setItemFree')[_0x22ff2e(0x23f)];if(!_0x104272[_0x22ff2e(0x23f)][_0x22ff2e(0x227)]()&&_0x3eb157==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x3eb157==0x1&&(_0x104272[_0x22ff2e(0x23f)]='',baseItem['setItemCode']='');const _0x27523c=document[_0x22ff2e(0x288)]('inputItemName');if(!_0x27523c[_0x22ff2e(0x23f)][_0x22ff2e(0x227)]()){ntfShow(_0x22ff2e(0x285),0x2,0x1);return;}const _0x3a5619=document[_0x22ff2e(0x288)](_0x22ff2e(0x209));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x42c14c=document[_0x22ff2e(0x288)](_0x22ff2e(0x20d))[_0x22ff2e(0x23f)],_0x62dca9=window_options[_0x42c14c]['setMoneda'];let _0x402165=generateNumericUniqId()*0x64+0x1f4,_0x149d6b=generateNumericUniqId()*0xa;const _0x333a3a=[];newItems[_0x22ff2e(0x21f)](_0x3bf0a6=>{const _0x45fb7a=++_0x149d6b;_0x3bf0a6['setItemUnits']['forEach'](_0x12e3c7=>{var _0xced120=_0x14e4;const _0x1cca04=++_0x402165;_0x12e3c7[_0xced120(0x2e0)]=_0x1cca04;const _0x5ea21d={'id':_0x1cca04,'setIdProducto':_0x45fb7a,'setCodProducto':_0x3bf0a6[_0xced120(0x241)],'setDescripcion':_0x3bf0a6[_0xced120(0x1de)]!=''?_0x3bf0a6['setItemVariantName']:_0x3bf0a6['setItemName'],'setItemDescription':_0x3bf0a6['setItemDescription'],'setBatchExpirationDate':_0x3bf0a6[_0xced120(0x28b)],'setBatchName':'','setCategoria':_0x3bf0a6[_0xced120(0x235)][0x0]||'','setMarca':_0x3bf0a6[_0xced120(0x28f)][0x0]||'','setConversionFactor':parseFloat(_0x12e3c7[_0xced120(0x24e)]),'setImages':[],'setImg':_0xced120(0x2de),'setInventariable':0x1,'setItemIsBought':_0x3bf0a6[_0xced120(0x1c5)]?0x1:0x0,'setItemIsSold':_0x3bf0a6['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x3bf0a6['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x3bf0a6[_0xced120(0x2b7)],'setTipAfeIgv':_0x3bf0a6[_0xced120(0x2d1)],'setUnidad':_0x12e3c7[_0xced120(0x2bb)],'setUnidadCodigo':_0x12e3c7[_0xced120(0x2bb)],'setItemUnitAlias':_0x12e3c7['setAlias'],'currency_data':[{'currency':_0x62dca9,'setMtoPrecioCostoUnitario':_0x12e3c7['setCost'],'setMtoPrecioUnitario':_0x12e3c7[_0xced120(0x260)],'setPriceLists':[]}],'sucursales':_0x3bf0a6[_0xced120(0x2ba)][_0xced120(0x265)](_0x177816=>({'setIdSucursal':_0x177816[_0xced120(0x280)],'setSucursalStock':_0x177816['setStockInitial'][_0xced120(0x273)](),'setWarehouseStockMin':_0x177816[_0xced120(0x2ed)]['toString']()})),'setItemFree':_0x3bf0a6[_0xced120(0x2a8)],'setItemBarCode':_0x3bf0a6[_0xced120(0x1f8)],'setItemBrands':_0x3bf0a6[_0xced120(0x28f)]['slice'](),'setItemCategories':_0x3bf0a6[_0xced120(0x235)][_0xced120(0x2f3)](),'setItemComponents':_0x3bf0a6[_0xced120(0x1ce)][_0xced120(0x265)](_0x23537d=>({..._0x23537d})),'setItemImages':_0x3bf0a6[_0xced120(0x234)][_0xced120(0x2f3)](),'setItemVariantName':_0x3bf0a6[_0xced120(0x1de)],'setItemVariantValues':{..._0x3bf0a6[_0xced120(0x211)]}};_0x333a3a['push'](_0x5ea21d),(_0x3a5619[_0xced120(0x203)]||_0x3eb157==0x1)&&addToCart(_0x5ea21d);});}),console[_0x22ff2e(0x28a)]('Items\x20finales:',newItems),await finalizeImport(_0x333a3a,newItems,![]);}),[_0x3fb127(0x20e),'dragover']['forEach'](_0x2a2f2b=>dropZone[_0x3fb127(0x1e5)](_0x2a2f2b,_0x37bba1=>{var _0x349034=_0x3fb127;_0x37bba1[_0x349034(0x25a)](),dropZone['classList'][_0x349034(0x1d8)](_0x349034(0x2c9));})),[_0x3fb127(0x1dd),_0x3fb127(0x2b9)][_0x3fb127(0x21f)](_0x22d46f=>dropZone[_0x3fb127(0x1e5)](_0x22d46f,_0x2255b1=>{var _0x51c688=_0x3fb127;_0x2255b1[_0x51c688(0x25a)](),dropZone[_0x51c688(0x1dc)][_0x51c688(0x256)]('dragover');})),dropZone[_0x3fb127(0x1e5)](_0x3fb127(0x2b9),_0x14b62a=>{var _0x115497=_0x3fb127;const _0x5f03eb=_0x14b62a['dataTransfer'][_0x115497(0x29c)][0x0];if(!_0x5f03eb)return;fileInput[_0x115497(0x29c)]=_0x14b62a[_0x115497(0x23e)][_0x115497(0x29c)],dropZone['querySelector'](_0x115497(0x1f6))[_0x115497(0x1f3)]=_0x5f03eb[_0x115497(0x1f1)],removeBtn[_0x115497(0x2b0)]=![],fileInput[_0x115497(0x296)](new Event(_0x115497(0x27b)));}),removeBtn['addEventListener'](_0x3fb127(0x2e1),()=>{var _0x22da4a=_0x3fb127;fileInput[_0x22da4a(0x23f)]='',dropZone[_0x22da4a(0x2a6)]('.drop-zone__prompt')[_0x22da4a(0x1f3)]=_0x22da4a(0x225),removeBtn[_0x22da4a(0x2b0)]=!![],progressBar[_0x22da4a(0x2ce)][_0x22da4a(0x226)]=_0x22da4a(0x2bd),statusDiv['textContent']='',uploadBtn[_0x22da4a(0x20b)]=!![];}),itemWorker[_0x3fb127(0x1d7)]=({data:_0x455e7a})=>{var _0x3a9b3d=_0x3fb127;const {type:_0x1226fe,payload:_0x3b1d24}=_0x455e7a;_0x1226fe===_0x3a9b3d(0x2ae)&&(progressBar[_0x3a9b3d(0x2ce)][_0x3a9b3d(0x226)]=_0x3a9b3d(0x253),progressBar[_0x3a9b3d(0x23f)]=_0x3b1d24[_0x3a9b3d(0x248)],statusDiv[_0x3a9b3d(0x1f3)]=_0x3b1d24['message']),_0x1226fe===_0x3a9b3d(0x2d3)&&(newItemsExcel=_0x3b1d24[_0x3a9b3d(0x2ad)],statusDiv[_0x3a9b3d(0x1f3)]='✅\x20'+newItemsExcel[_0x3a9b3d(0x1e9)]+_0x3a9b3d(0x222),uploadBtn[_0x3a9b3d(0x20b)]=![],progressBar[_0x3a9b3d(0x23f)]=0x64,console['log'](newItemsExcel)),_0x1226fe==='error'&&(statusDiv[_0x3a9b3d(0x1f3)]='❌\x20Error:\x20'+_0x3b1d24,progressBar[_0x3a9b3d(0x2ce)][_0x3a9b3d(0x226)]=_0x3a9b3d(0x2bd));},fileInput[_0x3fb127(0x1e5)](_0x3fb127(0x27b),async _0x42d9d8=>{var _0x3ed71a=_0x3fb127;const _0x38147a=_0x42d9d8[_0x3ed71a(0x212)]['files'][0x0];if(!_0x38147a)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x3ed71a(0x1f3)]='',progressBar[_0x3ed71a(0x2ce)][_0x3ed71a(0x226)]='none',dropZone[_0x3ed71a(0x2a6)](_0x3ed71a(0x1f6))[_0x3ed71a(0x1f3)]=_0x38147a[_0x3ed71a(0x1f1)],removeBtn['hidden']=![];try{const _0x214195=await _0x38147a[_0x3ed71a(0x1ef)]();itemWorker['postMessage']({'buf':_0x214195,'maxRows':0x1388});}catch(_0x1e833e){statusDiv[_0x3ed71a(0x1f3)]=_0x3ed71a(0x230);}finally{fileInput['value']='';}}),uploadBtn[_0x3fb127(0x1e5)](_0x3fb127(0x2e1),async()=>{var _0x388b8c=_0x3fb127;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2ec9ce=document['getElementById']('windowId')['value'],_0x9ffb38=window_options[_0x2ec9ce][_0x388b8c(0x1d0)],_0x58738c=document[_0x388b8c(0x288)](_0x388b8c(0x251))[_0x388b8c(0x23f)];let _0x45f384=generateNumericUniqId()*0x64+0x1f4,_0x37e44a=generateNumericUniqId()*0xa;const _0x265b77=[];newItemsExcel[_0x388b8c(0x21f)](_0x3d4023=>{var _0x2168d8=_0x388b8c;const _0x57228f=++_0x37e44a;_0x3d4023[_0x2168d8(0x2ba)]=[{'setStockInitial':_0x3d4023[_0x2168d8(0x264)],'setStockMinimum':_0x3d4023['setStockMinimum'],'setWarehouseCode':_0x58738c}],_0x3d4023[_0x2168d8(0x2da)][_0x2168d8(0x21f)](_0x18bcd7=>{var _0x40259b=_0x2168d8;const _0x18f0a2=++_0x45f384;_0x18bcd7[_0x40259b(0x2e0)]=_0x18f0a2;const _0x1ea77d={'id':_0x18f0a2,'setIdProducto':_0x57228f,'setCodProducto':_0x3d4023[_0x40259b(0x241)],'setDescripcion':_0x3d4023['setItemVariantName']||_0x3d4023[_0x40259b(0x1f0)],'setItemDescription':_0x3d4023[_0x40259b(0x2b8)],'setBatchExpirationDate':_0x3d4023[_0x40259b(0x28b)],'setBatchName':'','setCategoria':_0x3d4023[_0x40259b(0x235)][0x0]||'','setMarca':_0x3d4023[_0x40259b(0x28f)][0x0]||'','setConversionFactor':parseFloat(_0x18bcd7['setFactor']),'setImages':[],'setImg':_0x40259b(0x2de),'setInventariable':_0x3d4023[_0x40259b(0x2d6)]?0x1:0x0,'setItemIsBought':_0x3d4023[_0x40259b(0x1c5)]?0x1:0x0,'setItemIsSold':_0x3d4023[_0x40259b(0x250)]?0x1:0x0,'setPorcentajeIgv':_0x3d4023['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x3d4023[_0x40259b(0x2b7)],'setTipAfeIgv':_0x3d4023[_0x40259b(0x2d1)],'setUnidad':_0x18bcd7['setUnitCode'],'setUnidadCodigo':_0x18bcd7[_0x40259b(0x2bb)],'currency_data':[{'currency':_0x9ffb38,'setMtoPrecioCostoUnitario':_0x18bcd7[_0x40259b(0x261)],'setMtoPrecioUnitario':_0x18bcd7['setPrice'],'setPriceLists':[]}],'sucursales':_0x3d4023[_0x40259b(0x2ba)]['map'](_0x84be2d=>({'setIdSucursal':_0x84be2d[_0x40259b(0x280)],'setSucursalStock':_0x84be2d[_0x40259b(0x264)]['toString'](),'setWarehouseStockMin':_0x84be2d[_0x40259b(0x2ed)][_0x40259b(0x273)]()})),'setItemFree':_0x3d4023['setItemFree'],'setItemBarCode':_0x3d4023[_0x40259b(0x1f8)],'setItemBrands':_0x3d4023[_0x40259b(0x28f)][_0x40259b(0x2f3)](),'setItemCategories':_0x3d4023[_0x40259b(0x235)][_0x40259b(0x2f3)](),'setItemComponents':_0x3d4023[_0x40259b(0x1ce)][_0x40259b(0x265)](_0x5a500c=>({..._0x5a500c})),'setItemImages':_0x3d4023[_0x40259b(0x234)][_0x40259b(0x2f3)](),'setItemVariantName':_0x3d4023[_0x40259b(0x1de)],'setItemVariantValues':{..._0x3d4023['setItemVariantValues']}};_0x265b77[_0x40259b(0x1d2)](_0x1ea77d);});}),console[_0x388b8c(0x28a)](_0x388b8c(0x228),newItems),await finalizeImport(_0x265b77,newItemsExcel,!![]);});function initializeFormImages(){var _0xf70b19=_0x3fb127;currentImages=Array(MAX_IMAGES)[_0xf70b19(0x22b)](null),imgC[_0xf70b19(0x2a1)]='',baseItem[_0xf70b19(0x234)]=[];for(var _0x380782=0x0;_0x380782<MAX_IMAGES;_0x380782++){(function(_0x218f59){var _0x1e9e08=_0xf70b19,_0x4ee7e4=document[_0x1e9e08(0x1ec)]('div');_0x4ee7e4[_0x1e9e08(0x29a)]=_0x1e9e08(0x28c),_0x4ee7e4['dataset'][_0x1e9e08(0x2f5)]=_0x218f59;var _0x57a5e2=document[_0x1e9e08(0x1ec)](_0x1e9e08(0x1d3));_0x57a5e2['type']=_0x1e9e08(0x262),_0x57a5e2['accept']=_0x1e9e08(0x2f9),_0x57a5e2[_0x1e9e08(0x2ce)][_0x1e9e08(0x226)]='none';var _0x191b05=document[_0x1e9e08(0x1ec)]('span');_0x191b05[_0x1e9e08(0x1f3)]='+',_0x4ee7e4[_0x1e9e08(0x1e4)](_0x57a5e2),_0x4ee7e4['appendChild'](_0x191b05),imgC['appendChild'](_0x4ee7e4),_0x4ee7e4['addEventListener']('click',function(){var _0x135697=_0x1e9e08;_0x57a5e2[_0x135697(0x2e1)]();}),_0x57a5e2['addEventListener'](_0x1e9e08(0x27b),function(_0x16e3bd){var _0x9299d=_0x1e9e08,_0x1bb6a7=_0x16e3bd[_0x9299d(0x212)]['files'][0x0];if(!_0x1bb6a7)return removeImg(_0x218f59);var _0x1204d7=new FileReader();_0x1204d7[_0x9299d(0x275)]=function(_0x240cba){var _0x2dd961=_0x9299d;_0x4ee7e4[_0x2dd961(0x2a1)]=_0x2dd961(0x22e)+_0x240cba['target'][_0x2dd961(0x213)]+'\x22>';var _0x519918=document[_0x2dd961(0x1ec)](_0x2dd961(0x27f));_0x519918[_0x2dd961(0x29a)]=_0x2dd961(0x256),_0x519918[_0x2dd961(0x1f3)]='×',_0x519918[_0x2dd961(0x1e5)](_0x2dd961(0x2e1),function(_0x193dd4){var _0xdbdbc0=_0x2dd961;_0x193dd4[_0xdbdbc0(0x1d4)](),removeImg(_0x218f59);}),_0x4ee7e4['appendChild'](_0x519918),currentImages[_0x218f59]=_0x1bb6a7,baseItem[_0x2dd961(0x234)]=currentImages[_0x2dd961(0x29e)](function(_0x511d62){return _0x511d62;});},_0x1204d7['readAsDataURL'](_0x1bb6a7);});}(_0x380782));}}function initializeFormIsSoldIsBought(_0x38ffd4=0x0){var _0x475734=_0x3fb127;let _0x371b1e,_0x2ef7f7;if(_0x38ffd4!=0x0){const _0x383bbf=products['find'](_0x11ee91=>_0x11ee91['id']==_0x38ffd4);_0x371b1e=_0x383bbf[_0x475734(0x1c5)]==0x1||_0x383bbf[_0x475734(0x1c5)]==!![]?!![]:![],_0x2ef7f7=_0x383bbf[_0x475734(0x250)]==0x1||_0x383bbf['setItemIsSold']==!![]?!![]:![];}else _0x371b1e=!![],_0x2ef7f7=!![];document[_0x475734(0x288)](_0x475734(0x2e9))['checked']=_0x371b1e,document[_0x475734(0x288)](_0x475734(0x2ec))[_0x475734(0x203)]=_0x2ef7f7,baseItem[_0x475734(0x1c5)]=_0x371b1e,baseItem[_0x475734(0x250)]=_0x2ef7f7;}function initializeFormInputsBasic(_0x47638a=0x0){var _0x582334=_0x3fb127;let _0x28653a,_0x3a92a0,_0x1fefb0,_0x57f51b,_0xb61440,_0x37c9f0;if(_0x47638a!=0x0){const _0x5357b9=products[_0x582334(0x271)](_0x4bb708=>_0x4bb708['id']==_0x47638a);_0x28653a=_0x5357b9[_0x582334(0x2b2)]??'1',_0x3a92a0=_0x5357b9[_0x582334(0x23b)],_0x1fefb0=_0x5357b9[_0x582334(0x1d5)],_0x57f51b=_0x5357b9[_0x582334(0x2b8)],_0xb61440=_0x5357b9[_0x582334(0x219)]??'',_0x37c9f0=_0x5357b9[_0x582334(0x1f8)];}else _0x28653a='1',_0x3a92a0=getNextCode(products),_0x1fefb0='',_0x57f51b='',_0xb61440='',_0x37c9f0='';document[_0x582334(0x288)]('inputItemType')[_0x582334(0x23f)]=_0x28653a,document[_0x582334(0x288)](_0x582334(0x25b))[_0x582334(0x23f)]=_0x3a92a0,document['getElementById'](_0x582334(0x242))[_0x582334(0x23f)]=_0x1fefb0,document[_0x582334(0x288)](_0x582334(0x2af))['value']=_0x57f51b,document[_0x582334(0x288)](_0x582334(0x239))[_0x582334(0x23f)]=_0xb61440,document[_0x582334(0x288)]('inputItemBarCode')['value']=_0x37c9f0,baseItem[_0x582334(0x2b2)]=_0x28653a,baseItem[_0x582334(0x241)]=_0x3a92a0,baseItem[_0x582334(0x1f0)]=_0x1fefb0,baseItem[_0x582334(0x2b8)]=_0x57f51b,baseItem[_0x582334(0x28b)]=_0xb61440,baseItem[_0x582334(0x1f8)]=_0x37c9f0,document[_0x582334(0x288)](_0x582334(0x209))[_0x582334(0x203)]=![];}function initializeFormTax(_0xffb07c=0x0){var _0x1161c4=_0x3fb127;let _0x490ec6;if(_0xffb07c!=0x0){const _0x474927=products[_0x1161c4(0x271)](_0x11f046=>_0x11f046['id']==_0xffb07c);_0x490ec6=_0x474927[_0x1161c4(0x21b)];}else _0x490ec6=myCompany[_0x1161c4(0x22d)];const _0x50c776=document['getElementById'](_0x1161c4(0x214));_0x50c776[_0x1161c4(0x23f)]=_0x490ec6,baseItem[_0x1161c4(0x2b7)]=_0x490ec6;const _0x53e9dc=company[0x0][_0x1161c4(0x22f)][_0x1161c4(0x271)](_0x6c761d=>_0x6c761d['setTaxId']==_0x490ec6)?.[_0x1161c4(0x289)]||0x0,_0x457eca=company[0x0][_0x1161c4(0x22f)]['find'](_0x3b2899=>_0x3b2899[_0x1161c4(0x21b)]==_0x490ec6)?.[_0x1161c4(0x1fa)]||0x0;baseItem[_0x1161c4(0x2d1)]=_0x53e9dc,baseItem['setItemTaxValue']=_0x457eca;}function initializeFormCategoriesBrands(_0x490c56=0x0){var _0x434212=_0x3fb127;baseItem[_0x434212(0x235)]=[],baseItem[_0x434212(0x28f)]=[],document[_0x434212(0x2a6)](_0x434212(0x2f0))['innerHTML']='',document['querySelector'](_0x434212(0x25d))[_0x434212(0x2a1)]='',document[_0x434212(0x2a6)](_0x434212(0x2ee))['innerHTML']='',document['querySelector'](_0x434212(0x290))['innerHTML']='';const _0x4e55cf=uniqueValuesArray(_0x434212(0x2c3),'setCategoria',products),_0x5017c6=uniqueValuesArray(_0x434212(0x283),_0x434212(0x283),products),_0x25e75a=initMulti(_0x434212(0x1d6),_0x4e55cf),_0x2de5c6=initMulti(_0x434212(0x2a9),_0x5017c6);document[_0x434212(0x288)](_0x434212(0x1d6))[_0x434212(0x1e5)](_0x434212(0x1f9),function(_0x12eae4){var _0x5d01a2=_0x434212;baseItem[_0x5d01a2(0x235)]=_0x25e75a['map'](_0x51f88e=>_0x51f88e[_0x5d01a2(0x276)]);}),document[_0x434212(0x288)](_0x434212(0x2a9))['addEventListener'](_0x434212(0x1f9),function(_0x3b9abe){var _0x4e9c65=_0x434212;baseItem[_0x4e9c65(0x28f)]=_0x2de5c6[_0x4e9c65(0x265)](_0x43f7de=>_0x43f7de[_0x4e9c65(0x276)]);});if(_0x490c56!=0x0){const _0x4ed938=products['find'](_0xee54e4=>_0xee54e4['id']==_0x490c56);if(_0x4ed938[_0x434212(0x2c3)]){const _0x3bb438=document[_0x434212(0x288)]('newItem_categories_select'),_0x4e2ecf=Array[_0x434212(0x21e)](_0x3bb438['querySelectorAll'](_0x434212(0x1fd)))[_0x434212(0x271)](_0x50a039=>_0x50a039['dataset'][_0x434212(0x2c4)]==_0x4ed938['setCategoria']);_0x4e2ecf&&_0x4e2ecf[_0x434212(0x2e1)]();}if(_0x4ed938[_0x434212(0x283)]){const _0x1aae26=document['getElementById'](_0x434212(0x2a9)),_0x3adc0b=Array[_0x434212(0x21e)](_0x1aae26[_0x434212(0x26b)](_0x434212(0x1fd)))[_0x434212(0x271)](_0x4fa52a=>_0x4fa52a[_0x434212(0x2c1)][_0x434212(0x2c4)]==_0x4ed938[_0x434212(0x283)]);_0x3adc0b&&_0x3adc0b[_0x434212(0x2e1)]();}}}function _0x3b0d(){var _0x3ad473=['compare','\x22\x20class=\x22branchChk\x22>\x20','classList','dragleave','setItemVariantName','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','.branchMin','some','every','appendChild','addEventListener','warn','newItem_btn_addProdItem','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','length','setWebhook','[data-idx=\x22','createElement','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','indexOf','arrayBuffer','setItemName','name','.costInput','textContent','.variantForm','1685nELlhO','.drop-zone__prompt','closest','setItemBarCode','selectionChange','setImpuestoValue','newItem_variant_groups','modalProductNewTitle','.options_list\x20div','setUnidad','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.branchChk','[id$=\x22_comp_container\x22]','findIndex','checked','newItem_variants_forms','sort','variant_','setItemTaxValue','setName','newItem_addToCart','976ORjmaL','disabled','drop-zone','windowId','dragenter','base','.prodQty','setItemVariantValues','target','result','inputItemTax','.removeUnit','setAlias','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','max','setBatchExpirationDate','100','setTaxId','vals','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','from','forEach','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','constructor','\x20items\x20procesados.','now','setCantidad','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','display','trim','Items\x20finales:','return\x20(function()\x20','assign','fill','2lfbZqP','setTaxIdDefault','<img\x20src=\x22','setImpuestos','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','oncomplete','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','objectStore','setItemImages','setItemCategories','key','.vgName','trace','inputItemDateExpiry','.variantCode','setCodProducto','.removeProd','33672ODoXFL','dataTransfer','value','readwrite','setItemCode','inputItemName','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','toggle','.ms_input','percent','active','.selected_tags','.unitSelect','split','3582UClYpH','setFactor','padStart','setItemIsSold','setWarehouseId','remove-tag','block','onerror','_comp_container','remove','#newItem_branches_container\x20>\x20div','Nuevo\x20Producto','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','preventDefault','inputItemCode','match','#newItem_categories_select\x20.options_list','Enter','transaction','setPrice','setCost','file','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setStockInitial','map','variantForm','newItem_btn_addVariantGroup','option','remove-file','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','querySelectorAll','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','24156600VUYaAS','string','1529130NcSocE','modalOverlayCreateItem','find','parentNode','toString','.options_list','onload','setCode','default','{}.constructor(\x22return\x20this\x22)(\x20)','.eqInput','setAuthToken','change','Producto\x20Guardado\x20Offline\x20Correctamente.','getElementsByClassName','newItem_title_table_cp','span','setWarehouseCode','style=\x22display:none\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setMarca','setEquivalence','Ingresa\x20el\x20nombre\x20del\x20item','.branchInit','file-input','getElementById','setImpuestoCode','log','setItemDateExpiry','image_box','unitSelect','.variantBarCode','setItemBrands','#newItem_brands_select\x20.options_list','closeModalCreateItem','Producto\x20Libre','.prodInput','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Error\x20al\x20procesar\x20la\x20operación:','dispatchEvent','.vgVals','priceInput','accept','className','\x22\x20value=\x22','files','true','filter','.priceInput','status','innerHTML','newItem_images_container','join','setItemId','parse','querySelector','36WXXkcl','setItemFree','newItem_brands_select','(((.+)+)+)+$','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','prototype','items','progress','inputItemDescription','hidden','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','setItemType','6857444CgIpDd','.unitAlias','selectedItem','658734SwXXGS','setItemTaxId','setItemDescription','drop','setItemWarehouses','setUnitCode','newItem_title_table','none','setDefault','_units_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','dataset','16wsmFub','setCategoria','code','keydown','.removeCombo','12eywDDy','selected','dragover','productType1','.prod_input_container','newItem_units_container','table','style','blur','test','setItemTaxCode','unitAlias','done','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','inputItemBarCode','setItemInventoriable','eqInput','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','.addVariantUnit','setItemUnits','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','info','console','./img/product.png','.removeGroup','setUnitPresentationId','click','upload-btn','_branch_container','focus','splice','div[data-default=\x22true\x22]\x20.eqInput','currentTarget','49322gwKWLU','newItem_chk_buy','search','div','newItem_chk_sell','setStockMinimum','#newItem_brands_select\x20.selected_tags','newItem_branches_container','#newItem_categories_select\x20.selected_tags','.removeVariant','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','slice','error','idx','offline_operations','includes','newItem_hidden','image/*','setItemIsBought','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','detalleModalCreateItem','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','contains','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','stringify','setItemComponents','children','setMoneda','toLowerCase','push','input','stopPropagation','setDescripcion','newItem_categories_select','onmessage','add','<div\x20class=\x22newItem_col\x22>'];_0x3b0d=function(){return _0x3ad473;};return _0x3b0d();}function initializeFormUnits(){var _0x416c76=_0x3fb127;unitCount=0x0,document['getElementById'](_0x416c76(0x2cc))[_0x416c76(0x2a1)]='',baseItem[_0x416c76(0x2da)]=[];var _0x232198=uniqueValuesArray('setUnidad','setUnidad',products);addUnit('',_0x232198[0x0]&&_0x232198[0x0][_0x416c76(0x276)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0xb13982=_0x3fb127;prodC[_0xb13982(0x2a1)]='',baseItem[_0xb13982(0x1ce)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x24ff86=_0x3fb127;branchesC[_0x24ff86(0x2a1)]='',baseItem[_0x24ff86(0x2ba)]=[];const _0x359a0a=getAllWarehouses();_0x359a0a[_0x24ff86(0x21f)](function(_0x48b476){var _0x282c87=_0x24ff86,_0x574025=document[_0x282c87(0x1ec)](_0x282c87(0x2eb));_0x574025['innerHTML']=_0x282c87(0x1e8)+'<div\x20class=\x22newItem_col\x22>'+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x48b476[_0x282c87(0x251)]+_0x282c87(0x1ff)+_0x48b476['setWarehouseName']+'</label>'+'</div>'+_0x282c87(0x1d9)+_0x282c87(0x1cc)+_0x48b476[_0x282c87(0x251)]+'\x22>'+'</div>'+_0x282c87(0x1d9)+_0x282c87(0x2c0)+_0x48b476[_0x282c87(0x251)]+'\x22>'+'</div>'+'</div>',branchesC[_0x282c87(0x1e4)](_0x574025),_0x574025['querySelectorAll'](_0x282c87(0x1d3))['forEach'](function(_0x344415){_0x344415['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x2f9d3d=_0x3fb127;baseItem[_0x2f9d3d(0x1de)]='',baseItem[_0x2f9d3d(0x211)]={},vgC[_0x2f9d3d(0x2a1)]='',varContainer[_0x2f9d3d(0x2a1)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x197259,_0x451a97,_0x35a46b=![]){var _0x2cfa39=_0x3fb127;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x2cfa39(0x21a),'setToken':company[0x0][_0x2cfa39(0x27a)],'setWebhook':company[0x0][_0x2cfa39(0x1ea)],'newItems':_0x451a97}),products['push'](..._0x197259),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x2cfa39(0x2d4)),_0x35a46b?(fileInput['value']='',uploadBtn[_0x2cfa39(0x20b)]=!![],statusDiv[_0x2cfa39(0x1f3)]='',progressBar[_0x2cfa39(0x2ce)]['display']=_0x2cfa39(0x2bd),progressBar[_0x2cfa39(0x23f)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}