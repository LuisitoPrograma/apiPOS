/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.7
*/

const _0x3a0c33=_0x1f8d;(function(_0x27f0fc,_0x4cdeee){const _0x3ffae0=_0x1f8d,_0x4c48ef=_0x27f0fc();while(!![]){try{const _0x213eaf=-parseInt(_0x3ffae0(0x1bc))/0x1+parseInt(_0x3ffae0(0x358))/0x2+-parseInt(_0x3ffae0(0x199))/0x3*(-parseInt(_0x3ffae0(0x211))/0x4)+-parseInt(_0x3ffae0(0x216))/0x5+parseInt(_0x3ffae0(0x210))/0x6+-parseInt(_0x3ffae0(0x2e7))/0x7*(parseInt(_0x3ffae0(0x36f))/0x8)+parseInt(_0x3ffae0(0x2b5))/0x9;if(_0x213eaf===_0x4cdeee)break;else _0x4c48ef['push'](_0x4c48ef['shift']());}catch(_0xeb8e69){_0x4c48ef['push'](_0x4c48ef['shift']());}}}(_0x566c,0xd2894));const _0x1c64ae=(function(){let _0x5004a2=!![];return function(_0x1443e8,_0x1c6af3){const _0x1a5243=_0x5004a2?function(){const _0x238335=_0x1f8d;if(_0x1c6af3){const _0x395267=_0x1c6af3[_0x238335(0x1d9)](_0x1443e8,arguments);return _0x1c6af3=null,_0x395267;}}:function(){};return _0x5004a2=![],_0x1a5243;};}()),_0x47f458=_0x1c64ae(this,function(){const _0x311a61=_0x1f8d;return _0x47f458[_0x311a61(0x33a)]()[_0x311a61(0x329)]('(((.+)+)+)+$')[_0x311a61(0x33a)]()[_0x311a61(0x25d)](_0x47f458)['search'](_0x311a61(0x27b));});_0x47f458();const _0x4ae50f=(function(){let _0x3ef2b0=!![];return function(_0x415c15,_0x1e7ac9){const _0x26f120=_0x3ef2b0?function(){const _0x55efc4=_0x1f8d;if(_0x1e7ac9){const _0x127591=_0x1e7ac9[_0x55efc4(0x1d9)](_0x415c15,arguments);return _0x1e7ac9=null,_0x127591;}}:function(){};return _0x3ef2b0=![],_0x26f120;};}()),_0x1ddb2a=_0x4ae50f(this,function(){const _0xf09c73=_0x1f8d,_0x2323e2=function(){const _0x447b2e=_0x1f8d;let _0x350aab;try{_0x350aab=Function(_0x447b2e(0x305)+_0x447b2e(0x296)+');')();}catch(_0x1b0894){_0x350aab=window;}return _0x350aab;},_0x87ac12=_0x2323e2(),_0x1ca816=_0x87ac12[_0xf09c73(0x33b)]=_0x87ac12[_0xf09c73(0x33b)]||{},_0x507ee1=[_0xf09c73(0x398),_0xf09c73(0x31c),_0xf09c73(0x2e2),_0xf09c73(0x343),_0xf09c73(0x368),_0xf09c73(0x303),_0xf09c73(0x27a)];for(let _0x158885=0x0;_0x158885<_0x507ee1['length'];_0x158885++){const _0x5e47bb=_0x4ae50f[_0xf09c73(0x25d)]['prototype'][_0xf09c73(0x2df)](_0x4ae50f),_0x213e35=_0x507ee1[_0x158885],_0x3f89b0=_0x1ca816[_0x213e35]||_0x5e47bb;_0x5e47bb['__proto__']=_0x4ae50f[_0xf09c73(0x2df)](_0x4ae50f),_0x5e47bb[_0xf09c73(0x33a)]=_0x3f89b0[_0xf09c73(0x33a)][_0xf09c73(0x2df)](_0x3f89b0),_0x1ca816[_0x213e35]=_0x5e47bb;}});_0x1ddb2a();let myCompany,db=null,dbPromise=null,db_name=_0x3a0c33(0x340),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero',_0x3a0c33(0x31a),_0x3a0c33(0x25f),'abril',_0x3a0c33(0x26e),_0x3a0c33(0x38c),_0x3a0c33(0x380),'agosto',_0x3a0c33(0x38a),'octubre','noviembre','diciembre'],gdfg5g='f34f',x45fgd='x3',xjehd78=_0x3a0c33(0x310),cxkdj4=_0x3a0c33(0x2cf),x87s8d=_0x3a0c33(0x236),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x3a0c33(0x36a),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x3a0c33(0x1e5),xg123f=_0x3a0c33(0x353),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x3a0c33(0x2de),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x3a0c33(0x330),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x3a0c33(0x2db),mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54=_0x3a0c33(0x188),x64x32x33=_0x3a0c33(0x2b6),kkx12='s',ak47r=_0x3a0c33(0x245),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x3a0c33(0x1c3),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x3a0c33(0x24f),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x3a0c33(0x235),_0x3a0c33(0x1b3),'mx16',_0x3a0c33(0x1a9),_0x3a0c33(0x297),_0x3a0c33(0x2b2),'cl19',_0x3a0c33(0x302),_0x3a0c33(0x367),_0x3a0c33(0x2fc),_0x3a0c33(0x1d6)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x3a0c33(0x204)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x3a0c33(0x370),_0x3a0c33(0x36d),_0x3a0c33(0x180),_0x3a0c33(0x240),'CO0',_0x3a0c33(0x31f)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x3a0c33(0x204)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x3a0c33(0x204)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x3a0c33(0x204)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x2ba289){const _0x2cc267=_0x3a0c33;await apiERPgetWindows();const _0x50c47c=document[_0x2cc267(0x382)](_0x2cc267(0x331));if(_0x50c47c[_0x2cc267(0x351)][_0x2cc267(0x1d8)](_0x2cc267(0x218))){const _0x249f4d=document['getElementById'](_0x2cc267(0x18a))[_0x2cc267(0x238)],_0x1603d7=document[_0x2cc267(0x382)](_0x2cc267(0x1ed))[_0x2cc267(0x238)];cargarVentanas(_0x1603d7,_0x249f4d),createTabsEnvironments();}if(Array[_0x2cc267(0x232)](_0x2ba289))for(const _0x18f578 of _0x2ba289){try{await setOrders(_0x18f578);}catch(_0x382b5b){console[_0x2cc267(0x343)]('Error\x20en\x20setOrders\x20para\x20windowId='+_0x18f578+':',_0x382b5b);}}else console[_0x2cc267(0x31c)](_0x2cc267(0x35d),_0x2ba289);}let socket;function conectarWebSocket(){const _0x30345d=_0x3a0c33;if(socket&&socket['readyState']!==WebSocket[_0x30345d(0x1a1)]){console['log'](_0x30345d(0x2c6));return;}const _0x5f3287=myCompany[_0x30345d(0x335)];if(!_0x5f3287){console[_0x30345d(0x343)]('No\x20hay\x20setAuthToken\x20para\x20WebSocket');return;}const _0x5e2586=location[_0x30345d(0x33f)]===_0x30345d(0x1b7)?_0x30345d(0x217):'ws',_0x4fdd70=_0x5e2586+_0x30345d(0x34e)+encodeURIComponent(_0x5f3287);socket=new WebSocket(_0x4fdd70),socket[_0x30345d(0x274)](_0x30345d(0x2cc),()=>{const _0x5b6355=_0x30345d;console['log'](_0x5b6355(0x21c));}),socket['addEventListener'](_0x30345d(0x28e),async _0x3d6347=>{const _0xde6753=_0x30345d;try{const _0x509bbb=JSON[_0xde6753(0x30b)](_0x3d6347[_0xde6753(0x195)]);if(_0x509bbb[_0xde6753(0x292)]===_0xde6753(0x32a))console[_0xde6753(0x398)]('Evento\x20windowsUpdate\x20recibido.'),await reloadWindowsAndLayout(_0x509bbb[_0xde6753(0x195)]),ntfShow('✔️\x20¡Sincronizado!',0x1,0x2);else _0x509bbb['type']===_0xde6753(0x260)?(console[_0xde6753(0x398)](_0xde6753(0x191)),updateLastCorrelativeOnline(_0x509bbb[_0xde6753(0x195)][_0xde6753(0x23c)],_0x509bbb[_0xde6753(0x195)][_0xde6753(0x205)])):console[_0xde6753(0x398)](_0xde6753(0x2b8),_0x509bbb);}catch(_0x1304d0){console[_0xde6753(0x343)](_0xde6753(0x18e),_0x1304d0);}}),socket[_0x30345d(0x274)](_0x30345d(0x2b0),_0x28a581=>{const _0x5b14b6=_0x30345d;console[_0x5b14b6(0x31c)](_0x5b14b6(0x298),_0x28a581[_0x5b14b6(0x186)]),setTimeout(conectarWebSocket,0x3a98);}),socket['addEventListener'](_0x30345d(0x343),_0x1299e7=>{const _0x4a8bed=_0x30345d;console[_0x4a8bed(0x343)](_0x4a8bed(0x2dc),_0x1299e7);});}function isWebSocketActive(){const _0x2c2376=_0x3a0c33;return socket&&socket[_0x2c2376(0x161)]===WebSocket[_0x2c2376(0x1d3)];}function getQueryParam(_0x4716d9){const _0x396a85=_0x3a0c33,_0x423c74=new URLSearchParams(window[_0x396a85(0x366)][_0x396a85(0x329)]);return _0x423c74['get'](_0x4716d9);}function setUserNameGet(){const _0x141e68=_0x3a0c33,_0x1a3dd7=getQueryParam(_0x141e68(0x314)),_0xc9ae0=document['getElementById']('usuario');_0x1a3dd7&&_0xc9ae0&&(_0xc9ae0[_0x141e68(0x238)]=_0x1a3dd7);}function generateUniqId(){const _0x38f47a=_0x3a0c33;return Date[_0x38f47a(0x262)]()+'_'+Math[_0x38f47a(0x1e8)]()[_0x38f47a(0x33a)](0x24)['substr'](0x2,0x9);}var hasLocalStorage=(function(){const _0x4adcf6=_0x3a0c33;try{var _0x222c4c=_0x4adcf6(0x279);return localStorage[_0x4adcf6(0x184)](_0x222c4c,_0x222c4c),localStorage[_0x4adcf6(0x1da)](_0x222c4c),!![];}catch(_0xc3f092){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x15ff3d=_0x3a0c33;if(!hasLocalStorage){var _0x183260=Date['now']();return _0x183260===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x183260,counter_mem=0x0),_0x183260*0x3e8+counter_mem;}var _0x468644='uniqIdState',_0x3f8bc0;try{var _0x56cf2e=localStorage['getItem'](_0x468644);_0x3f8bc0=_0x56cf2e?JSON[_0x15ff3d(0x30b)](_0x56cf2e):{'lastTs':0x0,'counter':0x0},(typeof _0x3f8bc0[_0x15ff3d(0x17f)]!==_0x15ff3d(0x16d)||typeof _0x3f8bc0['counter']!==_0x15ff3d(0x16d))&&(_0x3f8bc0={'lastTs':0x0,'counter':0x0});}catch(_0x4a2ebe){_0x3f8bc0={'lastTs':0x0,'counter':0x0};}var _0x445d1d=Date[_0x15ff3d(0x262)]();_0x445d1d===_0x3f8bc0['lastTs']?_0x3f8bc0['counter']=(_0x3f8bc0['counter']+0x1)%0x3e8:(_0x3f8bc0[_0x15ff3d(0x17f)]=_0x445d1d,_0x3f8bc0[_0x15ff3d(0x2f7)]=0x0);var _0x112594=_0x445d1d*0x3e8+_0x3f8bc0[_0x15ff3d(0x2f7)];try{localStorage[_0x15ff3d(0x184)](_0x468644,JSON[_0x15ff3d(0x35c)](_0x3f8bc0));}catch(_0x8493bd){}return _0x112594;}function blobAStringBase64(_0x442979){return new Promise((_0x3e96a0,_0x222cf4)=>{const _0x40987c=_0x1f8d,_0xaf887=new FileReader();_0xaf887[_0x40987c(0x324)]=()=>{const _0x45516e=_0x40987c,_0x2f37af=_0xaf887[_0x45516e(0x227)],_0xf58985=_0x2f37af['split'](',');if(_0xf58985[_0x45516e(0x1c2)]!==0x2)return _0x222cf4(new Error(_0x45516e(0x37a)));_0x3e96a0(_0xf58985[0x1]);},_0xaf887[_0x40987c(0x172)]=_0x7c24e2=>_0x222cf4(_0x7c24e2),_0xaf887[_0x40987c(0x19c)](_0x442979);});}async function generarBarcodeDataURL(_0x5799da,_0x132b35){return new Promise((_0x425f08,_0x2fde0f)=>{const _0x4d57e3=_0x1f8d,_0x3134ea=myCompany['setCodeBarTypes']['find'](_0x8592f7=>_0x8592f7[_0x4d57e3(0x312)]==_0x5799da),_0x136930=_0x3134ea?_0x3134ea[_0x4d57e3(0x287)]:'CODE128',_0x319c19=document[_0x4d57e3(0x2fb)](_0x4d57e3(0x24d),_0x4d57e3(0x16c));JsBarcode(_0x319c19,_0x132b35,{'format':_0x136930,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0xa9a106=new XMLSerializer()['serializeToString'](_0x319c19),_0x141008=btoa(_0xa9a106),_0x5766ef='data:image/svg+xml;base64,'+_0x141008,_0xa7585=new Image();_0xa7585[_0x4d57e3(0x333)]=()=>{const _0x45e573=_0x4d57e3,_0x4ab6d8=document[_0x45e573(0x1c0)](_0x45e573(0x1ad));_0x4ab6d8[_0x45e573(0x22a)]=_0xa7585['width'],_0x4ab6d8[_0x45e573(0x293)]=_0xa7585[_0x45e573(0x293)];const _0x5aa37b=_0x4ab6d8[_0x45e573(0x2a6)]('2d');_0x5aa37b[_0x45e573(0x344)](_0xa7585,0x0,0x0);const _0x1e8cb3=_0x4ab6d8[_0x45e573(0x259)]('image/png');_0x425f08(_0x1e8cb3);},_0xa7585[_0x4d57e3(0x172)]=_0x5c1875=>_0x2fde0f(_0x5c1875),_0xa7585[_0x4d57e3(0x22c)]=_0x5766ef;});}async function generarStickersPDF(_0x3590a5,_0x3c0d48,_0x24f08d){const _0x5a03da=_0x3a0c33,{PDFDocument:_0x23ea9c,StandardFonts:_0x284c17,rgb:_0x240d5b}=PDFLib,_0x541dbf=products[_0x5a03da(0x2cb)](_0x5d8535=>_0x5d8535['id']==_0x24f08d);if(!_0x541dbf){console[_0x5a03da(0x343)](_0x5a03da(0x28c)+_0x24f08d+_0x5a03da(0x2ae));return;}const _0x8507a=_0x541dbf[_0x5a03da(0x1cd)][_0x5a03da(0x1fa)](),_0x44d98c=document[_0x5a03da(0x382)](_0x5a03da(0x2ef))[_0x5a03da(0x238)],_0x274f93=document[_0x5a03da(0x382)]('setMoneda-'+_0x44d98c)[_0x5a03da(0x238)],_0x1c49dd=(_0x541dbf['currency_data']||[])[_0x5a03da(0x2cb)](_0x49924b=>_0x49924b[_0x5a03da(0x275)]==_0x274f93)||{},_0x444fe7=_0x1c49dd[_0x5a03da(0x35f)]||0x0,_0x45ff64=getCurrencySymbol(_0x44d98c),_0x4a8782=Number(_0x444fe7)||0x0,_0xc026cc=_0x45ff64+'\x20'+_0x4a8782[_0x5a03da(0x346)](0x2),_0x1fe044=await _0x23ea9c[_0x5a03da(0x248)](),_0x2d3d96=_0xb53c6a=>_0xb53c6a*2.83465,_0x4e5a11=_0x2d3d96(0x70*0x2),_0x306e1d=_0x2d3d96(40.8),_0x621ccd=_0x1fe044[_0x5a03da(0x1fe)]([_0x4e5a11,_0x306e1d]),_0x3bc518=await _0x1fe044[_0x5a03da(0x369)](_0x284c17[_0x5a03da(0x1fc)]),_0x1e4cd2=Array(0x2)[_0x5a03da(0x1cb)](_0x3c0d48),_0x3d1c3b=0x2,_0x426d04=0x1,_0x1fc8ea=0xc,_0xf70133=_0x4e5a11/_0x3d1c3b,_0x5c72ce=_0x306e1d/_0x426d04;for(let _0x1443b8=0x0;_0x1443b8<0x2;_0x1443b8++){const _0xbef64d=_0x1e4cd2[_0x1443b8],_0x4671aa=await generarBarcodeDataURL(_0x3590a5,_0xbef64d),_0x382670=_0x4671aa['split'](',')[0x1],_0x4f43d1=Uint8Array['from'](atob(_0x382670),_0x1faca2=>_0x1faca2[_0x5a03da(0x212)](0x0));let _0x1e2ccb;try{_0x1e2ccb=await _0x1fe044['embedPng'](_0x4f43d1);}catch{_0x1e2ccb=await _0x1fe044['embedJpg'](_0x4f43d1);}const _0x12bb36=0x5,_0x650af4=_0x1fc8ea+0x4,_0x90467c=_0x1fc8ea*0x2+0x4,_0x4261ba=_0x8507a,_0x5f74a6=_0xc026cc,_0x3cae75=_0x1443b8%_0x3d1c3b,_0x3a1694=_0x3bc518['widthOfTextAtSize'](_0x4261ba,_0x1fc8ea),_0x14d727=_0x3bc518[_0x5a03da(0x1f1)](_0x5f74a6,_0x1fc8ea),_0x519d1f=_0x3cae75*_0xf70133+(_0xf70133-_0x3a1694)/0x2,_0x229cbe=_0x3cae75*_0xf70133+(_0xf70133-_0x14d727)/0x2,_0x194031=_0x5c72ce-_0x12bb36-_0x1fc8ea,_0xa437a0=_0x194031-_0x1fc8ea-0x2;_0x621ccd[_0x5a03da(0x219)](_0x4261ba,{'x':_0x519d1f,'y':_0x194031,'size':_0x1fc8ea,'font':_0x3bc518,'color':_0x240d5b(0x0,0x0,0x0)}),_0x621ccd[_0x5a03da(0x219)](_0x5f74a6,{'x':_0x229cbe,'y':_0xa437a0,'size':_0x1fc8ea,'font':_0x3bc518,'color':_0x240d5b(0x0,0x0,0x0)});const _0x3c745d=_0xf70133-_0x12bb36*0x2,_0x12c3a7=_0x5c72ce-_0x12bb36*0x2-_0x90467c-_0x650af4,_0x52f343=_0x1e2ccb['width'],_0xaa92f9=_0x1e2ccb[_0x5a03da(0x293)],_0x1c38d7=Math[_0x5a03da(0x173)](_0x3c745d/_0x52f343,_0x12c3a7/_0xaa92f9,0x1),_0x20559e=_0x1e2ccb[_0x5a03da(0x234)](_0x1c38d7),_0x3dcf3e=_0x3cae75*_0xf70133+(_0xf70133-_0x20559e['width'])/0x2,_0x29013f=_0xa437a0-_0x20559e[_0x5a03da(0x293)]-0x4;_0x621ccd[_0x5a03da(0x344)](_0x1e2ccb,{'x':_0x3dcf3e,'y':_0x29013f,'width':_0x20559e[_0x5a03da(0x22a)],'height':_0x20559e[_0x5a03da(0x293)]});const _0x78fb76=_0x3bc518[_0x5a03da(0x1f1)](_0xbef64d,_0x1fc8ea),_0x364b75=_0x3cae75*_0xf70133+(_0xf70133-_0x78fb76)/0x2,_0x2ee9b0=_0x29013f-_0x1fc8ea-0x2;_0x621ccd[_0x5a03da(0x219)](_0xbef64d,{'x':_0x364b75,'y':_0x2ee9b0,'size':_0x1fc8ea,'font':_0x3bc518,'color':_0x240d5b(0x0,0x0,0x0)});}const _0x2844dd=await _0x1fe044[_0x5a03da(0x307)](),_0x2499f0=new Blob([_0x2844dd],{'type':_0x5a03da(0x1af)}),_0x456c20=URL[_0x5a03da(0x2f1)](_0x2499f0);window['open'](_0x456c20);}async function sendEmail(_0x35a2ad,_0x5324ba,_0x49e0e5,_0x52cc6a,_0x3e92d1,_0x237b2e,_0x419d2a,_0x46a120,_0x2af8ed,_0x2b5236){const _0x51c7f4=_0x3a0c33;if(isOnline()){const _0x1cbc31={'setAuthToken':_0x35a2ad,'senderName':_0x5324ba,'senderEmail':_0x49e0e5,'senderPassword':_0x52cc6a,'smtpHost':_0x3e92d1,'smtpPort':_0x237b2e,'emailsDestination':_0x419d2a,'subject':_0x46a120,'message':_0x2af8ed,'attachFiles':_0x2b5236};try{const _0x3ef10a=await fetch(_0x51c7f4(0x300),{'method':_0x51c7f4(0x334),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x51c7f4(0x35c)](_0x1cbc31)}),_0x3987e0=await _0x3ef10a[_0x51c7f4(0x361)]();if(!_0x3ef10a['ok']||!_0x3987e0[_0x51c7f4(0x26d)]){console[_0x51c7f4(0x343)](_0x51c7f4(0x26f),_0x3987e0),ntfShow(_0x51c7f4(0x1a8));return;}}catch(_0x51e437){console[_0x51c7f4(0x343)](_0x51c7f4(0x32e),_0x51e437);}}}function loadLoginContent(_0x417d2b){const _0x5b3a18=_0x3a0c33,_0x1b82a1=document[_0x5b3a18(0x382)](_0x5b3a18(0x2ff));_0x1b82a1[_0x5b3a18(0x352)]=_0x5b3a18(0x19e)+_0x417d2b+_0x5b3a18(0x349);}function addNumber(_0x3a419c){const _0x2bb3a2=_0x3a0c33;document[_0x2bb3a2(0x382)]('password')[_0x2bb3a2(0x238)]+=_0x3a419c;}function deleteNumber(){const _0x52399d=_0x3a0c33;let _0x21b3c3=document[_0x52399d(0x382)](_0x52399d(0x347));_0x21b3c3[_0x52399d(0x238)]=_0x21b3c3['value']['slice'](0x0,-0x1);}function togglePassword(){const _0x3a536f=_0x3a0c33;let _0xef357e=document['getElementById'](_0x3a536f(0x347));_0xef357e[_0x3a536f(0x292)]=_0xef357e[_0x3a536f(0x292)]==_0x3a536f(0x347)?_0x3a536f(0x396):_0x3a536f(0x347);}function setEventBtnAccess(){const _0x107a7a=_0x3a0c33,_0x23bc2f=document[_0x107a7a(0x382)](_0x107a7a(0x201));_0x23bc2f[_0x107a7a(0x2e8)]=function(){acceder();};}function _0x566c(){const _0x203c55=['onload','POST','setAuthToken','\x22\x20para\x20registro\x20#','pricePerKm','justifyContent','lat','toString','console','newItems','setBranches','animationend','protocol','apiERP','google','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','error','drawImage','setCategoria','toFixed','password','setWindowId','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.2.7\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','gmp-select','setBranchDefault','objectStore','100%','://wss.apierp.dev/ws?token=','multi-markers','navigator','classList','innerHTML','45x','TOP_LEFT','setUser_Local','setMessage','setCodeBarTypes','573880UhGDBN','Backspace',']\x20–\x20se\x20omite.','script','stringify','No\x20es\x20un\x20array\x20valido:','ntf-flotante-container-bottom','setMtoPrecioCostoUnitario','setCustomerPhone','json','setClienteNumDoc','setWarehouseStockMin','deleteObjectStore','add','location','co5','exception','embedFont','32system','setTipAfeIgv','hidden','MX20','setCredentialsApiWAChat','22112nzJWaZ','E01','Error\x20al\x20actualizar\x20data\x20online:','webkitExitFullscreen','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','setTaxId','https://','readonly','HTTP\x20','Error\x20desconocido\x20al\x20actualizar\x20Data.','Formato\x20inesperado\x20en\x20base64','onLine','ntf-flotante-container-top','display','setUserId','img','julio','origin','getElementById','register','option','Modo\x20online\x20...','setCustomerEmail','fullscreenElement','.autocomplete-wrapper\x20input','Error\x20Network.','septiembre','ntf-notif-count','junio','El\x20producto\x20\x22','setCompanyAddress','9999','\x0a<h3\x20class=\x22infoItem-title\x22>','infoLoadingModal','ambientes','setItemVariantValues','setId','pop','text','🔥\x20gmp-select\x20fired!','log','mode','Ver\x20movimientos','textContent','setMtoValorCostoUnitario','Registrar\x20movimiento','addListener','Company\x20Empty.','button','alt','transition','setCurrencyDefault','setInventariable','Error\x20cargando\x20Google\x20Maps\x20SDK','Bienvenido(a)\x20','catch','className','zIndex','readyState','ntf-notifications-list','coords','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','absolute','Plan\x20Impulsa','body','No\x20se\x20pudo\x20eliminar\x20operación\x20procesada:\x20','title','setUserFullName','layoutState','svg','number','importLibrary','setClienteDenominacion','.product[tabindex=\x270\x27]','Error\x20desconocido.','onerror','min','Agregar\x20Variantes','application/json','ObjectStore\x20\x27','coordsInputId','&libraries=places&v=weekly','setItemType','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','btnSaveOperacion-','string','block','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','lastTs','AR0','split','PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.','offline_operations','setItem','style','reason','cartId','33x54xsystem','Map\x20container\x20not\x20found','setFloorId','setUserNombres','.carousel-next','delete','Error\x20procesando\x20mensaje\x20WS','setCartTmpInitial','transaction','Evento\x20updateLastCorrelative\x20recibido.','append','setImageUrl','status','data','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','all','setSeries','291LwqNfQ','setWarehouseName','legs','readAsDataURL','setUsuarios','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','./app.js?v=4.2.7','exitFullscreen','CLOSED','header','setBranchName','setPriceLists','.autocomplete-wrapper','setBatchExpirationDate','Nombre\x20de\x20store\x20no\x20válido:\x20','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','mx08','260px','Imagen\x20inválida\x20en\x20newItems[','setUserName','canvas','barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal','application/pdf','marker','requestFullscreen','\x20–\x20','S02','https://apierp.dev/api/apiPOS/update/','size','setCompanyEmail','https:','setPrinters','target','replaceWith','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','162732PuDuDb','detalleModalPay','itemModal','setClienteTipoDoc','createElement','setShifts','length','pcrcl','data-ntf-index','some','apiPOSsendOffline','TEXTAREA','producto','setWarehouses','setDespacho','fill','setIdProducto','setDescripcion','setCollaborators','Error\x20in\x20saving\x20to\x20store\x20','pdfBlob','d-none','cloneNode','OPEN','controller','Google\x20Maps\x20cargó,\x20pero\x20no\x20se\x20encontró\x20window.google.maps','uy10','btn-details-ntf-variant','contains','apply','removeItem','Company\x20Load\x20Error:','Enter','setCompanyName','#detalleModalPay','Sincronizando\x20','installing','.carousel-prev','setSellerName','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','currency_data','x63s','setWindows','setMarca','random','msRequestFullscreen','Products\x20Load.','webkitRequestFullscreen','/send','setBranchId','setBankAccounts','getAll','checkout-btn-','widthOfTextAtSize','https://ipapi.co/json/','window_options_','tabs-notifications','from','routes','setSucursalStock','\x0aEl\x20producto\x20\x22','\x20operaciones\x20restantes...','trim','.dropdown-list-pais-flag','Helvetica','keydown','addPage','Products\x20Load\x20Error:','setImpuestoValue','btn-access-login','setConversionFactor','setCredentialsApiWAChatAlias','concat','setOperationSeries','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','Acción\x20\x22','onSelect','setCodProducto','function','resolve','none','setMtoValorUnitario','.modal-close-carousel','setCompanyLogo','9365292vfhCwc','17756DIUsVK','charCodeAt','setItemIsSold','.modal-overlay-carousel','mozCancelFullScreen','7984960guarOU','wss','active','drawText','ntf-flotante-top','route-cost','WebSocket\x20conectado.','readwrite','stopPropagation','searchInput','<br>\x0aStock\x20Actual:\x20','oncomplete','forEach','assign','setFloorName','preventDefault','setAttribute','result','click','⚠️\x20placePrediction\x20no\x20está\x20en\x20evt','width','id_registro','src','setImg','sectionInfoItem','ntf-modal-actions','pos','unshift','isArray','8px','scale','S01','x32','single-select','value','getMonth','code','objectStoreNames','setOperationType','sort','Map','route','CL0','disabled','version','Arrays\x20actualizados\x20para\x20windowId\x20','Error:\x20Domain\x20not\x20registered.','rgf4x32','Company\x20Load.','clear','create','Stock\x20Actual:\x20','\x20km','fixed','\x27\x20creado\x20correctamente.','http://www.w3.org/2000/svg','Price:\x20','lbtom','Item','onstatechange','setAttachEdit','center','\x27\x20eliminada.','Error\x20al\x20obtener\x20las\x20operaciones:\x20','setEmpresaDomainWork','Google\x20Maps\x20SDK\x20listo','setObservacion','toDataURL','day','INPUT','tagName','constructor','setItemImages','marzo','updateLastCorrelative','Sincronización\x20completada\x20correctamente.','now','keys','./img/product.png','setCompanyWebsite','filename','#container-section-pay-','opacity','ntfIndex','Producto\x20vencido:\x20','topbar','indexOf','success','mayo','Error\x20al\x20enviar\x20correo:','products','toggle','fetchFields','closest','addEventListener','currency','map','No\x20hay\x20operaciones\x20para\x20sincronizar.','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','__test_ls__','trace','(((.+)+)+)+$','setCorrelativo','destination','reject','cart_','serviceWorker','async','reload','Stock\x20mínimo:\x20','usuario','div','ntf-flotante-orange','setCodeBarTypeName','webkitFullscreenElement','statusText','.payment-option','setCustomers','Producto\x20con\x20id\x20','state','message','setLayout','setFechaHora','dataset','type','height','setItemUnitAlias','msExitFullscreen','{}.constructor(\x22return\x20this\x22)(\x20)','ar21','WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...','fullscreen-btn','setCompanyDoc','key','setTipoOperacionInvoice','Tab\x20count\x20inicializado\x20en:\x20','getClientRects','][setItemImages][','⚠️\x20place.location\x20indefinido','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.2.7\x20...</span>','remove','then','setIdSucursal','setCartTmp','getContext','setImpuestos','setUsers','ntf-flotante-green','\x22\x20expiró\x20el\x20','Imprimir\x20Código\x20de\x20Barras','startsWith','setUnidad','\x20no\x20encontrado\x20en\x20products.','https://maps.googleapis.com/maps/api/js?key=','close','transform','ar10.5','defer','Distance:\x20','9635463CDWMlo','64x32xsystem','ntf-flotante-message\x20','Mensaje\x20WS\x20no\x20reconocido:','querySelectorAll','setDirections','createObjectStore','windowIds\x20previamente\x20creados:','No\x20hay\x20notificaciones','Error\x20guardando\x20operación:\x20','setImages','setSellerId','sucursales','rgba(0,\x200,\x200,\x200.5)','change','finally','has','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','application/json;\x20charset=utf-8','every','insertAdjacentHTML','object','find','open','🌐\x20No\x20se\x20pudo\x20obtener\x20ubicación\x20por\x20IP','setItemId','x64','reduce','setTipoOperacion','\x20-\x20','maps','setCredentialsApiWAChatPort','offsetWidth','Delete','Error:\x20','lng','autocomplete-wrapper','setItemIsBought','port','Error\x20en\x20WebSocket','892c0ae1aa021c31396d82f1','xtt3','bind','setWindowName','ntf-flotante-container','info','dispatchEvent','push','locations','setCompanyNameTrade','1841WzPeFR','onclick','\x20...','querySelector','/wa/','Eliminar\x20producto','Inicio\x20de\x20sesión\x20exitoso\x20...','top','windowId','put','createObjectURL','setProductos','setSuppliers','latitude','Revisar\x20lote','slice','counter','ControlPosition','setCompanyPhone','appendChild','createElementNS','uy22','payment-option','flex','login','https://apierp.dev/api/email/send/','placePrediction','co19','table','Error:\x20No\x20hay\x20ventanas\x20disponibles.','return\x20(function()\x20','.dropdown-item-pais-flag','save','DirectionsService','</h3><p>','Todos\x20los\x20campos\x20son\x20obligatorios.','parse','setCashierName','includes','select','Error\x20al\x20guardar\x20el\x20layout:\x20','xpos','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','setCodeBarTypeId','selectedCode','username','documento.pdf','Error\x20al\x20procesar\x20operaciones\x20offline:','setWarehouseId','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','installed','febrero','setCredentialsApiWAChatIdDefault','warn','resize','].setItemImages[','UY0','onupgradeneeded','onsuccess','company','geolocation','onloadend','.<br>','setMoneda','filter','32px','search','windowsUpdate','Error\x20al\x20enviar\x20operación\x20offline:','getFullYear','.carousel-track','Error\x20en\x20la\x20solicitud:','setUnidadCodigo','64system','detalleModalLayout','longitude'];_0x566c=function(){return _0x203c55;};return _0x566c();}function isOnline(){const _0x4579e9=_0x3a0c33;return window[_0x4579e9(0x350)][_0x4579e9(0x37b)];}function showLoadingModal(){const _0x4c810c=_0x3a0c33,_0x1ed453=document[_0x4c810c(0x1c0)](_0x4c810c(0x285));_0x1ed453['id']='loadingModal',_0x1ed453[_0x4c810c(0x185)]['position']=_0x4c810c(0x24b),_0x1ed453[_0x4c810c(0x185)][_0x4c810c(0x2ee)]='0',_0x1ed453[_0x4c810c(0x185)]['left']='0',_0x1ed453[_0x4c810c(0x185)][_0x4c810c(0x22a)]=_0x4c810c(0x34d),_0x1ed453[_0x4c810c(0x185)]['height']=_0x4c810c(0x34d),_0x1ed453[_0x4c810c(0x185)]['backgroundColor']=_0x4c810c(0x2c2),_0x1ed453['style'][_0x4c810c(0x37d)]='flex',_0x1ed453[_0x4c810c(0x185)][_0x4c810c(0x338)]=_0x4c810c(0x253),_0x1ed453[_0x4c810c(0x185)]['alignItems']=_0x4c810c(0x253),_0x1ed453[_0x4c810c(0x185)][_0x4c810c(0x160)]=_0x4c810c(0x38f),_0x1ed453['style'][_0x4c810c(0x268)]='1',_0x1ed453[_0x4c810c(0x185)][_0x4c810c(0x3a2)]=_0x4c810c(0x20c),_0x1ed453[_0x4c810c(0x352)]=_0x4c810c(0x206),document[_0x4c810c(0x167)][_0x4c810c(0x2fa)](_0x1ed453);}function hideLoadingModal(){const _0x14d149=_0x3a0c33,_0x501053=document[_0x14d149(0x382)]('loadingModal');_0x501053&&(_0x501053[_0x14d149(0x185)]['opacity']='0',_0x501053[_0x14d149(0x2a2)]());}function cargarAlmacenes(_0x3819dc){const _0x4f444d=_0x3a0c33,_0x53badc=document['getElementById'](_0x4f444d(0x317));_0x53badc[_0x4f444d(0x352)]='';const _0xece89b=company[0x0][_0x4f444d(0x33d)][_0x4f444d(0x2cb)](_0xa47996=>_0xa47996['setBranchId']==_0x3819dc);_0xece89b&&_0xece89b[_0x4f444d(0x1c9)][_0x4f444d(0x1c2)]>0x0&&_0xece89b[_0x4f444d(0x1c9)][_0x4f444d(0x222)](_0x33c901=>{const _0x233a0c=_0x4f444d;let _0x49866d=document[_0x233a0c(0x1c0)]('option');_0x49866d[_0x233a0c(0x238)]=_0x33c901['setWarehouseId'],_0x49866d['textContent']=_0x33c901[_0x233a0c(0x19a)],_0x53badc['appendChild'](_0x49866d);});}function getAllWarehouses(){const _0x2c141f=_0x3a0c33,_0x5b2285=company[0x0][_0x2c141f(0x33d)]||[],_0x2043d3=new Map();return _0x5b2285[_0x2c141f(0x222)](_0x48027f=>{const _0x11c2c7=_0x2c141f;(_0x48027f['setWarehouses']||[])[_0x11c2c7(0x222)](_0x32bd18=>{const _0x1e937f=_0x11c2c7;!_0x2043d3[_0x1e937f(0x2c5)](_0x32bd18[_0x1e937f(0x317)])&&_0x2043d3['set'](_0x32bd18[_0x1e937f(0x317)],{'setWarehouseId':_0x32bd18['setWarehouseId'],'setWarehouseName':_0x32bd18[_0x1e937f(0x19a)]+'\x20('+_0x48027f[_0x1e937f(0x1a3)]+')'});});}),Array[_0x2c141f(0x1f5)](_0x2043d3['values']());}function cargarPisos(_0x374348){const _0x43a5b7=_0x3a0c33,_0x4145f9=company[0x0][_0x43a5b7(0x1e6)]['filter'](_0x41b286=>_0x41b286['setBranchId']==_0x374348),_0x417019={};_0x4145f9[_0x43a5b7(0x222)](_0xa0bf5d=>{const _0x5bfa8f=_0x43a5b7;_0x417019[_0xa0bf5d[_0x5bfa8f(0x18a)]]=_0xa0bf5d[_0x5bfa8f(0x224)];});const _0x2bef3e=document[_0x43a5b7(0x382)]('setFloorId');_0x2bef3e['innerHTML']='';for(const _0x5b69e6 in _0x417019){const _0x102852=document[_0x43a5b7(0x1c0)](_0x43a5b7(0x384));_0x102852[_0x43a5b7(0x238)]=_0x5b69e6,_0x102852[_0x43a5b7(0x39b)]=_0x417019[_0x5b69e6],_0x2bef3e[_0x43a5b7(0x2fa)](_0x102852);}}document[_0x3a0c33(0x382)](_0x3a0c33(0x299))['addEventListener']('click',()=>{const _0x1257d6=_0x3a0c33,_0xbb5be3=document['documentElement'],_0x74aae7=document[_0x1257d6(0x387)]||document[_0x1257d6(0x288)]||document['mozFullScreenElement']||document['msFullscreenElement'];if(!_0x74aae7){if(_0xbb5be3[_0x1257d6(0x1b1)])_0xbb5be3[_0x1257d6(0x1b1)]();else{if(_0xbb5be3[_0x1257d6(0x1eb)])_0xbb5be3[_0x1257d6(0x1eb)]();else{if(_0xbb5be3['mozRequestFullScreen'])_0xbb5be3['mozRequestFullScreen']();else _0xbb5be3['msRequestFullscreen']&&_0xbb5be3[_0x1257d6(0x1e9)]();}}}else{if(document[_0x1257d6(0x1a0)])document[_0x1257d6(0x1a0)]();else{if(document['webkitExitFullscreen'])document[_0x1257d6(0x372)]();else{if(document[_0x1257d6(0x215)])document[_0x1257d6(0x215)]();else document[_0x1257d6(0x295)]&&document[_0x1257d6(0x295)]();}}}});function openModalDetailsAndNtf(_0x416d55,_0xb98bb,_0x11841c=null){const _0x37df16=_0x3a0c33,_0x2f655b=products[_0x37df16(0x2cb)](_0x1af2b3=>_0x1af2b3['id']==_0x416d55),_0x1a99ed=_0x2f655b['id'],_0x505581=_0x2f655b[_0x37df16(0x209)],_0x350010=_0x2f655b['setDescripcion'],_0x5ccdcc=_0x2f655b['setItemBarCode'],_0x5c189e=_0x2f655b[_0x37df16(0x22d)]?.[_0x37df16(0x1fa)]()||_0x37df16(0x264),_0x4e933a=Array['isArray'](_0x2f655b['setImages'])&&_0x2f655b[_0x37df16(0x2bf)]['length']>0x0?_0x2f655b[_0x37df16(0x2bf)]:[{'setImageUrl':_0x5c189e}],_0x28a4dd=_0x4e933a['map'](_0x450335=>_0x450335[_0x37df16(0x193)]),_0x4d7ca7=document[_0x37df16(0x382)](_0x37df16(0x1be)),_0x45a587=_0x4d7ca7[_0x37df16(0x2ea)](_0x37df16(0x32d)),_0x1a69e5=_0x4d7ca7['querySelector'](_0x37df16(0x20e)),_0x24c26c=_0x4d7ca7[_0x37df16(0x2ea)](_0x37df16(0x214)),_0x368dd2=document[_0x37df16(0x382)](_0x37df16(0x22e)),_0x33e1a1=_0x4d7ca7[_0x37df16(0x2ea)](_0x37df16(0x1e1)),_0x28a4eb=_0x4d7ca7['querySelector'](_0x37df16(0x18c));_0x45a587[_0x37df16(0x352)]='',_0x28a4dd[_0x37df16(0x222)](_0x52fe20=>{const _0x348352=_0x37df16,_0x629688=document[_0x348352(0x1c0)](_0x348352(0x37f));_0x629688['src']=_0x52fe20,_0x629688[_0x348352(0x3a1)]=_0x348352(0x250),_0x45a587[_0x348352(0x2fa)](_0x629688);});let _0xb0954d=0x0;const _0x233c7e=_0x28a4dd[_0x37df16(0x1c2)];function _0xb1e9be(){const _0x47a2f7=_0x37df16;_0x45a587[_0x47a2f7(0x185)][_0x47a2f7(0x2b1)]='translateX(-'+_0xb0954d*0x64+'%)';}_0x28a4dd[_0x37df16(0x222)](_0x154ccd=>{const _0x27a03f=_0x37df16,_0x5cc79c=new Image();_0x5cc79c[_0x27a03f(0x22c)]=_0x154ccd;});_0x233c7e<=0x1?(_0x33e1a1[_0x37df16(0x185)][_0x37df16(0x37d)]='none',_0x28a4eb['style'][_0x37df16(0x37d)]=_0x37df16(0x20c)):(_0x33e1a1[_0x37df16(0x185)][_0x37df16(0x37d)]='',_0x28a4eb[_0x37df16(0x185)]['display']='');_0xb0954d=0x0,_0xb1e9be();function _0x1f29ef(_0x23445f){const _0x573443=_0x37df16;_0x23445f[_0x573443(0x21e)](),_0xb0954d=(_0xb0954d-0x1+_0x233c7e)%_0x233c7e,_0xb1e9be();}function _0xd9d023(_0x53812e){const _0x2bee2d=_0x37df16;_0x53812e[_0x2bee2d(0x21e)](),_0xb0954d=(_0xb0954d+0x1)%_0x233c7e,_0xb1e9be();}_0x33e1a1[_0x37df16(0x1ba)](_0x33e1a1['cloneNode'](!![])),_0x28a4eb[_0x37df16(0x1ba)](_0x28a4eb[_0x37df16(0x1d2)](!![]));const _0x5d343c=_0x4d7ca7[_0x37df16(0x2ea)](_0x37df16(0x1e1)),_0xdfaebe=_0x4d7ca7[_0x37df16(0x2ea)](_0x37df16(0x18c));_0x5d343c[_0x37df16(0x274)](_0x37df16(0x228),_0x1f29ef),_0xdfaebe[_0x37df16(0x274)](_0x37df16(0x228),_0xd9d023),_0x1a69e5[_0x37df16(0x274)](_0x37df16(0x228),_0x33be64=>{_0x33be64['stopPropagation'](),_0x4d7ca7['style']['display']='none';}),_0x24c26c[_0x37df16(0x274)]('click',()=>{const _0x27f520=_0x37df16;_0x4d7ca7[_0x27f520(0x185)][_0x27f520(0x37d)]=_0x27f520(0x20c);}),_0x4d7ca7['style'][_0x37df16(0x37d)]=_0x37df16(0x2fe),_0x368dd2[_0x37df16(0x352)]=_0x37df16(0x390)+_0x505581+_0x37df16(0x2d2)+_0x350010+'</h3>\x0a';const _0x5628df=document[_0x37df16(0x1c0)](_0x37df16(0x30e));_0x5628df[_0x37df16(0x15f)]=_0x37df16(0x1ae);const _0x29ae51=document[_0x37df16(0x1c0)](_0x37df16(0x384));_0x29ae51[_0x37df16(0x238)]='0',_0x29ae51[_0x37df16(0x39b)]=_0x37df16(0x2ab),_0x5628df[_0x37df16(0x2fa)](_0x29ae51),myCompany[_0x37df16(0x357)][_0x37df16(0x222)](_0x1e6d0e=>{const _0x47599d=_0x37df16,_0x5eb58b=document['createElement'](_0x47599d(0x384));_0x5eb58b[_0x47599d(0x238)]=String(_0x1e6d0e[_0x47599d(0x312)]),_0x5eb58b[_0x47599d(0x39b)]=_0x1e6d0e[_0x47599d(0x287)],_0x5628df['appendChild'](_0x5eb58b);}),_0x5628df['addEventListener']('change',function(){const _0x26a13c=_0x37df16,_0x4ff776=parseInt(this['value'],0xa);if(_0x4ff776===0x0)return;typeof _0x5ccdcc===_0x26a13c(0x17c)&&_0x5ccdcc[_0x26a13c(0x1fa)]()[_0x26a13c(0x1c2)]>=0x1?generarStickersPDF(_0x4ff776,_0x5ccdcc[_0x26a13c(0x1fa)](),_0x416d55):(ntfShow('Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.',0x2,0x2),this[_0x26a13c(0x238)]='0');}),_0x368dd2[_0x37df16(0x2fa)](_0x5628df);var _0x8be525=document[_0x37df16(0x1c0)](_0x37df16(0x3a0));_0x8be525['type']=_0x37df16(0x3a0),_0x8be525[_0x37df16(0x15f)]=_0x37df16(0x1d7),_0x8be525[_0x37df16(0x39b)]=_0x37df16(0x174),_0x8be525[_0x37df16(0x274)](_0x37df16(0x228),function(){const _0x50afc3=_0x37df16,_0x9f2789=document[_0x50afc3(0x382)](_0x50afc3(0x1be));_0x9f2789['style'][_0x50afc3(0x37d)]=_0x50afc3(0x20c),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x1a99ed),initializeFormInputsBasic(_0x1a99ed),initializeFormTax(_0x1a99ed),initializeFormCategoriesBrands(_0x1a99ed);}),_0x368dd2['appendChild'](_0x8be525);if(_0x11841c!=null){_0x368dd2[_0x37df16(0x2c9)]('beforeend','\x0a<h3>'+_0x11841c[_0x37df16(0x169)]+_0x37df16(0x309)+_0x11841c[_0x37df16(0x28e)]+_0x37df16(0x1e3));var _0x564410=document['getElementById'](_0x37df16(0x22f));_0x11841c[_0x37df16(0x292)]===0x1&&['Generar\x20Orden\x20de\x20Compra',_0x37df16(0x39d),_0x37df16(0x39a)][_0x37df16(0x222)](function(_0x4caa40){const _0x3826a8=_0x37df16;var _0x350c96=document[_0x3826a8(0x1c0)]('button');_0x350c96['textContent']=_0x4caa40,_0x350c96[_0x3826a8(0x274)](_0x3826a8(0x228),function(){const _0x1a6d13=_0x3826a8;console[_0x1a6d13(0x398)](_0x1a6d13(0x207)+_0x4caa40+_0x1a6d13(0x336)+_0x11841c['id_registro']);}),_0x564410[_0x3826a8(0x2fa)](_0x350c96);}),_0x11841c[_0x37df16(0x292)]===0x2&&[_0x37df16(0x2f5),_0x37df16(0x2ec)][_0x37df16(0x222)](function(_0x3370b4){const _0x41a1e7=_0x37df16;var _0x26c4a5=document['createElement'](_0x41a1e7(0x3a0));_0x26c4a5[_0x41a1e7(0x39b)]=_0x3370b4,_0x26c4a5['addEventListener'](_0x41a1e7(0x228),function(){const _0x2eecfe=_0x41a1e7;console[_0x2eecfe(0x398)](_0x2eecfe(0x207)+_0x3370b4+_0x2eecfe(0x336)+_0x11841c[_0x2eecfe(0x22b)]);}),_0x564410[_0x41a1e7(0x2fa)](_0x26c4a5);});}}function ntf_formatDateDMY(_0x1d6f96){const _0x3f03fa=_0x3a0c33;var _0x384eb6=new Date(_0x1d6f96),_0x416f39=_0x384eb6['getDate'](),_0x519b63=_0x384eb6[_0x3f03fa(0x32c)](),_0x1156d9=monthsEspanish[_0x384eb6[_0x3f03fa(0x239)]()];return _0x416f39+'\x20de\x20'+_0x1156d9+'\x20del\x20'+_0x519b63;}function ntf_groupBy(_0x529af1,_0x2c0fb1){const _0x4ccbf1=_0x3a0c33;return _0x529af1[_0x4ccbf1(0x2d0)](function(_0x1bb34c,_0x3070ed){const _0x372811=_0x4ccbf1;var _0x2c04fe=_0x3070ed[_0x2c0fb1];return _0x1bb34c[_0x2c04fe]=_0x1bb34c[_0x2c04fe]||[],_0x1bb34c[_0x2c04fe][_0x372811(0x2e4)](_0x3070ed),_0x1bb34c;},{});}function ntf_isExpired(_0x1926e8){if(!_0x1926e8)return![];var _0x1ca425=new Date();return _0x1ca425['setHours'](0x0,0x0,0x0,0x0),new Date(_0x1926e8)<=_0x1ca425;}function ntf_getNotifications(){const _0x3875d4=_0x3a0c33;var _0x20f314=parseInt(document['getElementById'](_0x3875d4(0x317))['value'],0xa),_0x3ce971=ntf_groupBy(products,_0x3875d4(0x1cc)),_0xad85f2=[];return Object[_0x3875d4(0x263)](_0x3ce971)[_0x3875d4(0x222)](function(_0x3e086b){const _0x274bbf=_0x3875d4;var _0x28b20f=_0x3ce971[_0x3e086b],_0x4b8968=_0x28b20f[0x0],_0x1d26b2=(_0x4b8968[_0x274bbf(0x2c1)]||[])[_0x274bbf(0x2cb)](function(_0x582b2a){const _0x958169=_0x274bbf;return _0x582b2a[_0x958169(0x2a4)]==_0x20f314;});if(!_0x1d26b2)return;var _0x52d1a=parseFloat(_0x1d26b2[_0x274bbf(0x1f7)]),_0x425b09=parseFloat(_0x1d26b2[_0x274bbf(0x363)]);_0x4b8968[_0x274bbf(0x3a4)]==0x1&&_0x52d1a<=_0x425b09&&_0xad85f2[_0x274bbf(0x2e4)]({'type':0x1,'id_registro':_0x4b8968['id'],'title':_0x274bbf(0x283)+_0x4b8968[_0x274bbf(0x1cd)],'message':_0x274bbf(0x1f8)+_0x4b8968['setDescripcion']+_0x274bbf(0x164)+_0x425b09[_0x274bbf(0x346)](0x3)+_0x274bbf(0x220)+_0x52d1a['toFixed'](0x3)+'\x0a','data':{'producto':_0x4b8968,'stock':_0x52d1a,'minStock':_0x425b09}}),_0x4b8968['setBatchExpirationDate']&&ntf_isExpired(_0x4b8968['setBatchExpirationDate'])&&_0xad85f2[_0x274bbf(0x2e4)]({'type':0x2,'id_registro':_0x4b8968['id'],'title':_0x274bbf(0x26a)+_0x4b8968[_0x274bbf(0x1cd)],'message':_0x274bbf(0x38d)+_0x4b8968[_0x274bbf(0x1cd)]+_0x274bbf(0x2aa)+ntf_formatDateDMY(_0x4b8968[_0x274bbf(0x1a6)])+_0x274bbf(0x325)+_0x274bbf(0x249)+_0x52d1a[_0x274bbf(0x346)](0x3),'data':{'producto':_0x4b8968,'expiration':_0x4b8968[_0x274bbf(0x1a6)]}});}),_0xad85f2;}function ntf_renderNotifications(){const _0x352f5f=_0x3a0c33;var _0x153a87=ntf_getNotifications(),_0x165a05=document[_0x352f5f(0x382)](_0x352f5f(0x162)),_0x1e6963=document[_0x352f5f(0x382)](_0x352f5f(0x38b));_0x165a05[_0x352f5f(0x352)]='',_0x1e6963[_0x352f5f(0x39b)]=_0x153a87[_0x352f5f(0x1c2)];if(_0x153a87[_0x352f5f(0x1c2)]===0x0){var _0x3de55c=document[_0x352f5f(0x1c0)]('li');_0x3de55c[_0x352f5f(0x39b)]=_0x352f5f(0x2bd),_0x165a05[_0x352f5f(0x2fa)](_0x3de55c);return;}_0x153a87['forEach'](function(_0x5c1c03,_0x316aa7){const _0x4f86d8=_0x352f5f;var _0xe37b33=document[_0x4f86d8(0x1c0)]('li');_0xe37b33[_0x4f86d8(0x39b)]=_0x5c1c03[_0x4f86d8(0x169)],_0xe37b33[_0x4f86d8(0x226)](_0x4f86d8(0x1c4),_0x316aa7),_0x165a05['appendChild'](_0xe37b33);});}document[_0x3a0c33(0x382)](_0x3a0c33(0x1f4))[_0x3a0c33(0x274)](_0x3a0c33(0x228),function(){const _0x4dc8b8=_0x3a0c33;document[_0x4dc8b8(0x382)]('ntf-notification-dropdown')['classList'][_0x4dc8b8(0x271)]('hidden'),ntf_renderNotifications();}),document[_0x3a0c33(0x382)](_0x3a0c33(0x162))[_0x3a0c33(0x274)](_0x3a0c33(0x228),function(_0xd28b1b){const _0x4f3239=_0x3a0c33,_0x249215=_0xd28b1b[_0x4f3239(0x1b9)][_0x4f3239(0x273)]('li');if(!_0x249215||!_0x249215['dataset']['ntfIndex'])return;const _0x138e7b=ntf_getNotifications()[_0x249215[_0x4f3239(0x291)][_0x4f3239(0x269)]];document[_0x4f3239(0x382)](_0x4f3239(0x1f4))[_0x4f3239(0x228)](),openModalDetailsAndNtf(_0x138e7b[_0x4f3239(0x195)][_0x4f3239(0x1c8)]['id'],_0x138e7b[_0x4f3239(0x292)],_0x138e7b);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x299784,_0x27da4d=0x3,_0x185970=0x1){const _0x15557e=_0x3a0c33,_0x27857b=document['getElementById'](_0x15557e(0x2e1)),_0x59dd84=document[_0x15557e(0x1c0)]('div');let _0x55ef11;if(_0x27da4d==0x1)_0x55ef11=_0x15557e(0x2a9);else _0x27da4d==0x2?_0x55ef11=_0x15557e(0x286):_0x55ef11='ntf-flotante-blue';let _0x32259f;_0x185970==0x1?(_0x32259f=_0x15557e(0x21a),_0x27857b[_0x15557e(0x351)][_0x15557e(0x365)](_0x15557e(0x37c)),_0x27857b[_0x15557e(0x351)][_0x15557e(0x2a2)](_0x15557e(0x35e))):(_0x32259f='ntf-flotante-bottom',_0x27857b[_0x15557e(0x351)]['add'](_0x15557e(0x35e)),_0x27857b[_0x15557e(0x351)][_0x15557e(0x2a2)]('ntf-flotante-container-top')),_0x59dd84['className']=_0x15557e(0x2b7)+_0x55ef11+'\x20'+_0x32259f,_0x59dd84[_0x15557e(0x39b)]=_0x299784,_0x27857b[_0x15557e(0x2fa)](_0x59dd84),_0x59dd84[_0x15557e(0x274)](_0x15557e(0x33e),()=>{const _0x27f643=_0x15557e;_0x59dd84[_0x27f643(0x2a2)]();});}function openDatabase(){const _0x4dabbf=_0x3a0c33;if(db)return Promise[_0x4dabbf(0x20b)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x2c9a61,_0x586a37)=>{const _0x2e730b=_0x4dabbf,_0x1a2068=indexedDB[_0x2e730b(0x2cc)](db_name);_0x1a2068[_0x2e730b(0x320)]=function(_0x5eee7e){const _0x2b16af=_0x2e730b;db=_0x5eee7e['target'][_0x2b16af(0x227)],console[_0x2b16af(0x398)](_0x2b16af(0x318));},_0x1a2068['onsuccess']=function(_0x19fc32){const _0x9118d9=_0x2e730b;db=_0x19fc32[_0x9118d9(0x1b9)]['result'],console[_0x9118d9(0x398)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x2c9a61(db),dbPromise=null;},_0x1a2068['onerror']=function(_0x425ee0){const _0x4dfdcc=_0x2e730b;console[_0x4dfdcc(0x343)](_0x4dfdcc(0x311),_0x425ee0[_0x4dfdcc(0x1b9)][_0x4dfdcc(0x343)]),_0x586a37(_0x425ee0[_0x4dfdcc(0x1b9)][_0x4dfdcc(0x343)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x866e5a,_0x3ba26a=![]){const _0x52dc3c=_0x3a0c33;if(dbOperationInProgress)return Promise[_0x52dc3c(0x27e)](_0x52dc3c(0x17e));return dbOperationInProgress=!![],openDatabase()[_0x52dc3c(0x2a3)](_0x633e7a=>{const _0x4ed679=_0x52dc3c,_0x31d6f1='products',_0x3075fe=_0x4ed679(0x322),_0x5d2bb3=_0x4ed679(0x183),_0x3da7c4=_0x4ed679(0x16b),_0xfbf3b2=_0x866e5a?_0x4ed679(0x27f)+_0x866e5a:null,_0xc2fade=_0x866e5a?_0x4ed679(0x1f3)+_0x866e5a:null,_0xd6d60=_0x3ba26a||!_0x633e7a[_0x4ed679(0x23b)][_0x4ed679(0x1d8)](_0x31d6f1)||!_0x633e7a[_0x4ed679(0x23b)][_0x4ed679(0x1d8)](_0x3075fe)||!_0x633e7a[_0x4ed679(0x23b)]['contains'](_0x5d2bb3)||!_0x633e7a[_0x4ed679(0x23b)][_0x4ed679(0x1d8)](_0x3da7c4)||_0x866e5a&&(!_0x633e7a[_0x4ed679(0x23b)][_0x4ed679(0x1d8)](_0xfbf3b2)||!_0x633e7a['objectStoreNames'][_0x4ed679(0x1d8)](_0xc2fade));if(!_0xd6d60)return dbOperationInProgress=![],Promise[_0x4ed679(0x20b)](_0x633e7a);const _0x18e5de=_0x633e7a[_0x4ed679(0x242)]+0x1;return _0x633e7a[_0x4ed679(0x2b0)](),new Promise((_0x480255,_0x9252bd)=>{const _0x2e3ad1=_0x4ed679,_0x3847e6=indexedDB[_0x2e3ad1(0x2cc)](db_name,_0x18e5de);_0x3847e6[_0x2e3ad1(0x320)]=function(_0x4f5138){const _0x11b3ac=_0x2e3ad1;db=_0x4f5138[_0x11b3ac(0x1b9)]['result'];if(_0x3ba26a)Array[_0x11b3ac(0x1f5)](db[_0x11b3ac(0x23b)])[_0x11b3ac(0x222)](_0x5e27be=>{const _0x2fe46a=_0x11b3ac;_0x5e27be!==_0x5d2bb3&&(db[_0x2fe46a(0x364)](_0x5e27be),console[_0x2fe46a(0x398)]('ObjectStore\x20\x27'+_0x5e27be+_0x2fe46a(0x254)));}),console[_0x11b3ac(0x398)]('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db[_0x11b3ac(0x23b)]['contains'](_0x31d6f1)&&(db['createObjectStore'](_0x31d6f1,{'keyPath':'id'}),console['log'](_0x11b3ac(0x176)+_0x31d6f1+'\x27\x20creado\x20correctamente.'));!db['objectStoreNames'][_0x11b3ac(0x1d8)](_0x3075fe)&&(db[_0x11b3ac(0x2bb)](_0x3075fe,{'keyPath':'id','autoIncrement':!![]}),console[_0x11b3ac(0x398)]('ObjectStore\x20\x27'+_0x3075fe+'\x27\x20creado\x20correctamente.'));!db[_0x11b3ac(0x23b)][_0x11b3ac(0x1d8)](_0x5d2bb3)&&(db[_0x11b3ac(0x2bb)](_0x5d2bb3,{'keyPath':'id','autoIncrement':!![]}),console[_0x11b3ac(0x398)]('ObjectStore\x20\x27'+_0x5d2bb3+_0x11b3ac(0x24c)));!db[_0x11b3ac(0x23b)][_0x11b3ac(0x1d8)](_0x3da7c4)&&(db[_0x11b3ac(0x2bb)](_0x3da7c4,{'keyPath':'id'}),console['log']('ObjectStore\x20\x27'+_0x3da7c4+'\x27\x20creado\x20correctamente.'));if(_0x866e5a){if(!db[_0x11b3ac(0x23b)][_0x11b3ac(0x1d8)](_0xfbf3b2)){const _0x38f5b0=db[_0x11b3ac(0x2bb)](_0xfbf3b2,{'keyPath':'id','autoIncrement':!![]});_0x38f5b0['createIndex'](_0x11b3ac(0x187),'cartId',{'unique':!![]}),console[_0x11b3ac(0x398)](_0x11b3ac(0x176)+_0xfbf3b2+_0x11b3ac(0x24c));}!db['objectStoreNames']['contains'](_0xc2fade)&&(db[_0x11b3ac(0x2bb)](_0xc2fade,{'keyPath':'id','autoIncrement':!![]}),console[_0x11b3ac(0x398)](_0x11b3ac(0x176)+_0xc2fade+'\x27\x20creado\x20correctamente.'));}}},_0x3847e6[_0x2e3ad1(0x321)]=function(_0x576632){const _0x26378f=_0x2e3ad1;db=_0x576632[_0x26378f(0x1b9)][_0x26378f(0x227)],dbOperationInProgress=![],console['log'](_0x26378f(0x17a)),_0x480255(db);},_0x3847e6[_0x2e3ad1(0x172)]=function(_0x24b9c5){const _0x40ecdf=_0x2e3ad1;console['error'](_0x40ecdf(0x278),_0x24b9c5[_0x40ecdf(0x1b9)][_0x40ecdf(0x343)]),dbOperationInProgress=![],_0x9252bd(_0x24b9c5[_0x40ecdf(0x1b9)][_0x40ecdf(0x343)]);};});})[_0x52dc3c(0x15e)](_0x369a8b=>{const _0x1d1a2a=_0x52dc3c;throw new Error(_0x1d1a2a(0x342));})[_0x52dc3c(0x2c4)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x9d318c=_0x3a0c33;if(!isOnline())return Promise[_0x9d318c(0x20b)]();try{const _0x316419=await createCartStore(''),_0x826700=_0x316419['transaction'](_0x9d318c(0x183),_0x9d318c(0x377)),_0x4284f0=_0x826700[_0x9d318c(0x34c)]('offline_operations'),_0x3d6858=await new Promise((_0x3f3b19,_0x12d5c7)=>{const _0x261767=_0x9d318c,_0x104333=_0x4284f0[_0x261767(0x1ef)]();_0x104333[_0x261767(0x321)]=()=>_0x3f3b19(_0x104333[_0x261767(0x227)]),_0x104333['onerror']=()=>_0x12d5c7(new Error(_0x261767(0x255)+_0x104333['error']));}),_0x5751e8=_0x3d6858[_0x9d318c(0x327)](_0x33d142=>_0x33d142[_0x9d318c(0x1c6)]==0x1);if(_0x5751e8[_0x9d318c(0x1c2)]===0x0){console[_0x9d318c(0x398)](_0x9d318c(0x277));return;}const _0x1de3ff=_0x5751e8['filter'](_0x442a45=>_0x442a45['setTipoOperacion']==0x64),_0x1fc12e=_0x5751e8[_0x9d318c(0x327)](_0x3aa74d=>_0x3aa74d[_0x9d318c(0x2d1)]!=0x64),_0x939728=_0x52a83c=>_0x52a83c['sort']((_0x38b35b,_0x35a405)=>{const _0x181066=_0x9d318c,_0x38fd26=[0x1,0x2,0x3],_0x46fd82=_0x146898=>Array[_0x181066(0x232)](_0x146898[_0x181066(0x33c)])&&_0x146898[_0x181066(0x33c)][_0x181066(0x1c5)](_0x2729c9=>_0x38fd26[_0x181066(0x30d)](_0x2729c9[_0x181066(0x179)])),_0x3c5442=_0x46fd82(_0x38b35b),_0x18b3fb=_0x46fd82(_0x35a405);if(_0x3c5442&&!_0x18b3fb)return-0x1;if(!_0x3c5442&&_0x18b3fb)return 0x1;const _0x11b80b=Math[_0x181066(0x173)](..._0x38b35b[_0x181066(0x33c)][_0x181066(0x276)](_0xdca06b=>_0xdca06b[_0x181066(0x179)])),_0xbf6905=Math[_0x181066(0x173)](..._0x35a405[_0x181066(0x33c)][_0x181066(0x276)](_0x24772e=>_0x24772e[_0x181066(0x179)]));return _0x11b80b-_0xbf6905;}),_0x46753a=_0x1de3ff[_0x9d318c(0x327)](_0x40b8f6=>Array[_0x9d318c(0x232)](_0x40b8f6['newItems'])&&_0x40b8f6['newItems'][_0x9d318c(0x2c8)](_0x1b5839=>!_0x1b5839[_0x9d318c(0x2ce)])),_0x43a924=_0x1de3ff[_0x9d318c(0x327)](_0x5100fd=>Array['isArray'](_0x5100fd['newItems'])&&_0x5100fd['newItems'][_0x9d318c(0x2c8)](_0x40d99b=>_0x40d99b['setItemId']));_0x939728(_0x46753a),_0x939728(_0x43a924);const _0x5b3926=[..._0x46753a,..._0x43a924];function _0xa0447d(_0xfd36b7,_0x32ae9b){return new Promise((_0x1b4619,_0x2ce887)=>{const _0x326156=_0x1f8d,_0x1c35b4=_0xfd36b7[_0x326156(0x190)](_0x326156(0x183),'readwrite'),_0x465cf8=_0x1c35b4['objectStore']('offline_operations'),_0x2b61bf=_0x465cf8[_0x326156(0x2f0)](_0x32ae9b);_0x2b61bf[_0x326156(0x321)]=()=>_0x1b4619(),_0x2b61bf[_0x326156(0x172)]=_0x48e08b=>_0x2ce887(new Error(_0x326156(0x2be)+_0x48e08b['target'][_0x326156(0x343)]));});}async function _0x33846(_0x12305e){const _0x14c481=_0x9d318c;for(const _0x5df96b of _0x12305e){_0x5df96b[_0x14c481(0x2d1)]===0x64&&Array[_0x14c481(0x232)](_0x5df96b['newItems'])&&_0x5df96b[_0x14c481(0x33c)][_0x14c481(0x23d)]((_0x381a82,_0x517ff9)=>{const _0x26e5ff=_0x14c481,_0x535f9c=[0x1,0x2,0x3],_0x2bfff2=_0x535f9c['includes'](_0x381a82['setItemType']),_0x360af8=_0x535f9c[_0x26e5ff(0x30d)](_0x517ff9['setItemType']);if(_0x2bfff2&&!_0x360af8)return-0x1;if(!_0x2bfff2&&_0x360af8)return 0x1;return _0x381a82[_0x26e5ff(0x179)]-_0x517ff9[_0x26e5ff(0x179)];});const _0x5cf4ef=new FormData();_0x5cf4ef[_0x14c481(0x192)]('invoice',JSON[_0x14c481(0x35c)](_0x5df96b));if(_0x5df96b[_0x14c481(0x1d0)]instanceof Blob&&_0x5df96b[_0x14c481(0x1d0)][_0x14c481(0x1b5)]>0x0)_0x5cf4ef[_0x14c481(0x192)](_0x14c481(0x1d0),_0x5df96b[_0x14c481(0x1d0)],_0x14c481(0x315));else _0x5df96b[_0x14c481(0x1d0)]&&console[_0x14c481(0x31c)](_0x14c481(0x182));_0x5df96b[_0x14c481(0x2d1)]==0x64&&Array[_0x14c481(0x232)](_0x5df96b[_0x14c481(0x33c)])&&_0x5df96b['newItems'][_0x14c481(0x222)]((_0x24b7c0,_0x167a3d)=>{const _0x675b80=_0x14c481;Array[_0x675b80(0x232)](_0x24b7c0[_0x675b80(0x25e)])&&_0x24b7c0[_0x675b80(0x25e)][_0x675b80(0x222)]((_0x32c31e,_0x230ddb)=>{const _0xaf7c73=_0x675b80;_0x32c31e instanceof Blob&&_0x32c31e[_0xaf7c73(0x1b5)]>0x0?_0x5cf4ef[_0xaf7c73(0x192)]('newItems['+_0x167a3d+_0xaf7c73(0x29f)+_0x230ddb+']',_0x32c31e,_0x32c31e['name']):console[_0xaf7c73(0x31c)](_0xaf7c73(0x1ab)+_0x167a3d+_0xaf7c73(0x31e)+_0x230ddb+_0xaf7c73(0x35a));});});try{const _0x1783c8=await fetch(_0x5df96b['setWebhook'],{'method':'POST','body':_0x5cf4ef});if(!_0x1783c8['ok'])throw new Error(_0x14c481(0x378)+_0x1783c8[_0x14c481(0x194)]+_0x14c481(0x1b2)+_0x1783c8[_0x14c481(0x289)]);const _0x35639e=await _0x1783c8[_0x14c481(0x361)]();!_0x35639e['success']?_0x5df96b[_0x14c481(0x356)]=_0x35639e[_0x14c481(0x28e)]||_0x14c481(0x171):(_0x5df96b['apiPOSsendOffline']=0x0,delete _0x5df96b[_0x14c481(0x356)]);}catch(_0x4ee68a){console[_0x14c481(0x343)](_0x14c481(0x32b),_0x4ee68a),_0x5df96b[_0x14c481(0x356)]=_0x4ee68a[_0x14c481(0x28e)];}await _0xa0447d(_0x316419,_0x5df96b),_0x5df96b[_0x14c481(0x2d1)]===0x64&&_0x5df96b['apiPOSsendOffline']===0x0&&await new Promise((_0x40504f,_0x451c0f)=>{const _0x27f9bc=_0x14c481,_0x282728=_0x316419[_0x27f9bc(0x190)](_0x27f9bc(0x183),'readwrite'),_0x4633f3=_0x282728[_0x27f9bc(0x34c)](_0x27f9bc(0x183)),_0x58e91a=_0x4633f3[_0x27f9bc(0x18d)](_0x5df96b['id']);_0x58e91a['onsuccess']=()=>_0x40504f(),_0x58e91a['onerror']=_0x337225=>_0x451c0f(new Error(_0x27f9bc(0x168)+_0x337225[_0x27f9bc(0x1b9)]['error']));});}}_0x5b3926[_0x9d318c(0x1c2)]&&(console[_0x9d318c(0x398)](_0x9d318c(0x1df)+_0x5b3926[_0x9d318c(0x1c2)]+_0x9d318c(0x196)),await _0x33846(_0x5b3926)),_0x1fc12e[_0x9d318c(0x1c2)]&&(console[_0x9d318c(0x398)]('Sincronizando\x20'+_0x1fc12e[_0x9d318c(0x1c2)]+_0x9d318c(0x1f9)),await _0x33846(_0x1fc12e)),console['log'](_0x9d318c(0x261));}catch(_0x25b6f4){console[_0x9d318c(0x343)](_0x9d318c(0x316),_0x25b6f4);}}function _0x1f8d(_0x519b9c,_0x5368b2){const _0x2f857b=_0x566c();return _0x1f8d=function(_0x1ddb2a,_0x4ae50f){_0x1ddb2a=_0x1ddb2a-0x15d;let _0x414b22=_0x2f857b[_0x1ddb2a];return _0x414b22;},_0x1f8d(_0x519b9c,_0x5368b2);}function apiERPsaveOnline(_0x1c1d10,_0x552605,_0x40f1b4,_0x42d4cd,_0x1dbd05){const _0x1ed306=_0x3a0c33;if(!isOnline())return console[_0x1ed306(0x398)](_0x1ed306(0x389)),Promise[_0x1ed306(0x27e)]('Error\x20Network.');const _0x339267={'setAuthToken':_0x1c1d10,'setBranches':_0x552605,'setUsers':_0x40f1b4,'setSeries':_0x42d4cd,'setPrinters':_0x1dbd05};return fetch(_0x1ed306(0x1b4),{'method':_0x1ed306(0x334),'headers':{'Content-Type':_0x1ed306(0x175)},'body':JSON['stringify'](_0x339267)})[_0x1ed306(0x2a3)](_0x590989=>{const _0x23efec=_0x1ed306;if(!_0x590989['ok'])throw new Error(_0x23efec(0x30f)+_0x590989['statusText']);return _0x590989[_0x23efec(0x361)]();})[_0x1ed306(0x2a3)](_0x5a1fed=>{const _0x2d14d9=_0x1ed306;if(!_0x5a1fed[_0x2d14d9(0x26d)])throw new Error(_0x5a1fed[_0x2d14d9(0x28e)]||_0x2d14d9(0x379));return console[_0x2d14d9(0x398)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x5a1fed;})[_0x1ed306(0x15e)](_0x218381=>{const _0xcef7b0=_0x1ed306;console[_0xcef7b0(0x343)](_0xcef7b0(0x371),_0x218381);throw _0x218381;});}async function acceder(){const _0x547f44=_0x3a0c33;if(!isOnline()){alert('Solo\x20necesitas\x20internet\x20para\x20acceder!');throw new Error('Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!');}const _0x2ab51c=document[_0x547f44(0x382)](_0x547f44(0x201)),_0xda2058=document['getElementById'](_0x547f44(0x284))[_0x547f44(0x238)],_0xf08ec3=document['getElementById']('password')[_0x547f44(0x238)];_0x2ab51c[_0x547f44(0x241)]=!![];if(!_0xda2058||!_0xf08ec3){alert(_0x547f44(0x30a)),_0x2ab51c[_0x547f44(0x241)]=![];return;}console[_0x547f44(0x398)](_0x547f44(0x385)),showLoadingModal();const _0x170c91={'usuario':_0xda2058,'password':_0xf08ec3};try{const _0x4409a5=await fetch('https://apierp.dev/api/company/get/',{'method':_0x547f44(0x334),'headers':{'Content-Type':_0x547f44(0x175)},'body':JSON['stringify'](_0x170c91)}),_0x42d533=await _0x4409a5[_0x547f44(0x361)]();if(!(_0x42d533['success']&&Array[_0x547f44(0x232)](_0x42d533[_0x547f44(0x28e)]))){alert(_0x42d533[_0x547f44(0x28e)]),_0x2ab51c[_0x547f44(0x241)]=![],hideLoadingModal();throw new Error(_0x42d533[_0x547f44(0x28e)]);}const _0x1ba9c8=document[_0x547f44(0x382)](_0x547f44(0x391));_0x1ba9c8['innerHTML']=_0x547f44(0x2ed);const _0x3d789f=_0x42d533[_0x547f44(0x28e)],{setApiEndPoint:_0x34a821,setAuthToken:_0x28e8c3,setUser_Local:_0x2185c0}=_0x3d789f[0x0],_0x11d23b={'apiPOS_getAccessData':0x1,'setToken':_0x28e8c3,'setUserLocalUserName':_0x2185c0[_0x547f44(0x1ac)]},_0x33fb57=await fetch(_0x34a821,{'method':_0x547f44(0x334),'headers':{'Content-Type':_0x547f44(0x2c7)},'body':JSON['stringify'](_0x11d23b)}),_0x17fba5=await _0x33fb57[_0x547f44(0x361)]();if(!(_0x17fba5[_0x547f44(0x26d)]===!![])){_0x1ba9c8[_0x547f44(0x352)]=_0x547f44(0x2d7)+_0x17fba5[_0x547f44(0x28e)]+'\x20...',setTimeout(()=>location[_0x547f44(0x282)](),0x1388);return;}_0x1ba9c8[_0x547f44(0x352)]='Procesamiento\x20de\x20datos\x20exitoso\x20...';const _0x25fdbe=_0x17fba5['message'][_0x547f44(0x2f2)][_0x547f44(0x276)](_0x35b287=>{const _0x1173bc=_0x547f44,_0x252941=_0x35b287[_0x1173bc(0x394)]||'',_0x22f39d=_0x35b287[_0x1173bc(0x1cc)]||'',_0x2208d7=_0x35b287[_0x1173bc(0x179)]||'1',_0xebe4ac=_0x35b287[_0x1173bc(0x209)]||'',_0x26549f=_0x35b287['setItemBarCode']||'',_0x5320f3=_0x35b287[_0x1173bc(0x1cd)]||'',_0x33f491=_0x35b287['setItemDescription']||'',_0x172d59=_0x35b287[_0x1173bc(0x32f)]||'',_0xe164e5=_0x35b287[_0x1173bc(0x2ad)]||'',_0x2b002b=_0x35b287[_0x1173bc(0x294)]||'',_0x43b743=_0x35b287[_0x1173bc(0x375)]||'',_0x5bc205=_0x35b287[_0x1173bc(0x36b)]||'10',_0x49fd33=_0x3d789f[0x0][_0x1173bc(0x2a7)][_0x1173bc(0x2cb)](_0x4127b9=>_0x4127b9[_0x1173bc(0x375)]==_0x43b743)?.[_0x1173bc(0x200)]||0x0,_0x3330b7=parseFloat(_0x35b287['setInventariable'])||0x1,_0x570b84=_0x35b287[_0x1173bc(0x345)]||'',_0x107622=_0x35b287[_0x1173bc(0x1e7)]||'',_0x21f633=_0x35b287[_0x1173bc(0x22d)]||_0x1173bc(0x264),_0x53b254=_0x35b287[_0x1173bc(0x202)]||0x1,_0xc5d37=_0x35b287['setBatchName']||'',_0x290ebc=_0x35b287['setBatchExpirationDate']||'',_0x4308dd=(_0x35b287[_0x1173bc(0x1e4)]||[])['map'](_0x3b4b72=>{const _0x396077=_0x1173bc,_0x2f87f8=parseFloat(_0x3b4b72[_0x396077(0x20d)])||0x0,_0x167ee6=parseFloat(_0x3b4b72['setMtoPrecioUnitario'])||0x0,_0x440b19=parseFloat(_0x3b4b72[_0x396077(0x39c)])||0x0,_0x139422=parseFloat(_0x3b4b72[_0x396077(0x35f)])||0x0,_0x1e872d=_0x3b4b72[_0x396077(0x1a4)]||[];let _0x4692fd=0x0,_0x5e8402=0x0;if(_0x2f87f8>0x0)_0x4692fd=_0x2f87f8,_0x5e8402=setTipAfeImpGravados[_0x396077(0x1c5)](_0x394d9d=>_0x394d9d==_0x5bc205)?_0x2f87f8+_0x2f87f8*_0x49fd33/0x64:_0x2f87f8;else _0x167ee6>0x0&&(_0x5e8402=_0x167ee6,_0x4692fd=setTipAfeImpGravados[_0x396077(0x1c5)](_0x4143b0=>_0x4143b0==_0x5bc205)?_0x167ee6/(0x1+_0x49fd33/0x64):_0x167ee6);let _0x417255=0x0,_0x3ff2e6=0x0;if(_0x440b19>0x0)_0x417255=_0x440b19,_0x3ff2e6=setTipAfeImpGravados[_0x396077(0x1c5)](_0x2dee6a=>_0x2dee6a==_0x5bc205)?_0x440b19+_0x440b19*_0x49fd33/0x64:_0x440b19;else _0x139422>0x0&&(_0x3ff2e6=_0x139422,_0x417255=setTipAfeImpGravados[_0x396077(0x1c5)](_0x57a0ca=>_0x57a0ca==_0x5bc205)?_0x139422/(0x1+_0x49fd33/0x64):_0x139422);return{'currency':_0x3b4b72[_0x396077(0x275)],'setMtoValorUnitario':_0x4692fd,'setMtoPrecioUnitario':_0x5e8402,'setMtoValorCostoUnitario':_0x417255,'setMtoPrecioCostoUnitario':_0x3ff2e6,'setPriceLists':_0x1e872d};});if(_0x43b743!==''&&_0x252941!==''&&_0xebe4ac!==''&&_0x5320f3!=='')return{'id':_0x252941,'setItemType':_0x2208d7,'setIdProducto':_0x22f39d,'setCodProducto':_0xebe4ac,'setItemBarCode':_0x26549f,'setDescripcion':_0x5320f3,'setItemDescription':_0x33f491,'setUnidadCodigo':_0x172d59,'setUnidad':_0xe164e5,'setItemUnitAlias':_0x2b002b,'setPorcentajeIgv':_0x49fd33,'setTaxId':_0x43b743,'setTipAfeIgv':_0x5bc205,'setInventariable':_0x3330b7,'setCategoria':_0x570b84,'setMarca':_0x107622,'setImg':_0x21f633,'setConversionFactor':_0x53b254,'setBatchName':_0xc5d37,'setBatchExpirationDate':_0x290ebc,'setItemIsBought':_0x35b287[_0x1173bc(0x2da)],'setItemIsSold':_0x35b287[_0x1173bc(0x213)],'sucursales':_0x35b287[_0x1173bc(0x2c1)]||[],'setPrinters':_0x35b287['setPrinters']||[],'currency_data':_0x4308dd,'setImages':_0x35b287[_0x1173bc(0x2bf)]||[],'setItemVariantValues':_0x35b287[_0x1173bc(0x393)]||[]};return null;})[_0x547f44(0x327)](Boolean);_0x3d789f[0x0]['setCompanyLogo']=_0x17fba5['message'][_0x547f44(0x20f)],_0x3d789f[0x0][_0x547f44(0x29a)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x29a)],_0x3d789f[0x0][_0x547f44(0x1dd)]=_0x17fba5['message'][_0x547f44(0x1dd)],_0x3d789f[0x0][_0x547f44(0x2e6)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x2e6)],_0x3d789f[0x0][_0x547f44(0x38e)]=_0x17fba5['message'][_0x547f44(0x38e)],_0x3d789f[0x0][_0x547f44(0x2f9)]=_0x17fba5[_0x547f44(0x28e)]['setCompanyPhone'],_0x3d789f[0x0][_0x547f44(0x1b6)]=_0x17fba5['message'][_0x547f44(0x1b6)],_0x3d789f[0x0][_0x547f44(0x265)]=_0x17fba5['message'][_0x547f44(0x265)],_0x3d789f[0x0][_0x547f44(0x33d)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x33d)],_0x3d789f[0x0][_0x547f44(0x19d)]=_0x17fba5[_0x547f44(0x28e)]['setUsuarios'],_0x3d789f[0x0][_0x547f44(0x198)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x198)],_0x3d789f[0x0][_0x547f44(0x1b8)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x1b8)],_0x3d789f[0x0][_0x547f44(0x3a3)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x3a3)],_0x3d789f[0x0][_0x547f44(0x1ee)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x1ee)],_0x3d789f[0x0][_0x547f44(0x28b)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x28b)],_0x3d789f[0x0][_0x547f44(0x2f3)]=_0x17fba5['message'][_0x547f44(0x2f3)],_0x3d789f[0x0][_0x547f44(0x1c1)]=_0x17fba5[_0x547f44(0x28e)][_0x547f44(0x1c1)],_0x3d789f[0x0][_0x547f44(0x1ce)]=_0x17fba5['message'][_0x547f44(0x1ce)],_0x1ba9c8[_0x547f44(0x352)]='Sincronizando\x20...';const _0x545a22=await createCartStore('');await clearAndStore(_0x545a22,_0x547f44(0x270),_0x25fdbe),await clearAndStore(_0x545a22,_0x547f44(0x16b),[{'id':'layout',..._0x3d789f[0x0][_0x547f44(0x28f)]}]),await apiERPsaveOnline(_0x28e8c3,_0x3d789f[0x0][_0x547f44(0x33d)],_0x3d789f[0x0][_0x547f44(0x19d)],_0x3d789f[0x0]['setSeries'],_0x3d789f[0x0][_0x547f44(0x1b8)]);const _0x30cb11=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':'POST','headers':{'Content-Type':_0x547f44(0x2c7)},'body':JSON[_0x547f44(0x35c)]({'setAuthToken':_0x28e8c3,'setUserId':_0x2185c0[_0x547f44(0x37e)]})}),_0xeb843e=await _0x30cb11['json']();if(_0xeb843e[_0x547f44(0x26d)])_0x3d789f[0x0][_0x547f44(0x1e6)]=_0xeb843e['message']['setWindows'],_0x3d789f[0x0][_0x547f44(0x2a8)]=_0xeb843e['message'][_0x547f44(0x2a8)],_0x3d789f[0x0][_0x547f44(0x1b8)]=_0xeb843e[_0x547f44(0x28e)][_0x547f44(0x1b8)];else{console[_0x547f44(0x343)]('Error\x20Update:',_0xeb843e[_0x547f44(0x28e)]);return;}await saveCompanyToIndexedDB(_0x3d789f,_0x545a22);if(!_0x3d789f[0x0]['setWindows']||_0x3d789f[0x0][_0x547f44(0x1e6)][_0x547f44(0x1c2)]===0x0){console[_0x547f44(0x343)](_0x547f44(0x304));return;}for(const _0x16abde of _0x3d789f[0x0]['setWindows']){await new Promise(_0x3c46e7=>setTimeout(_0x3c46e7,0x12c)),await createCartStore(_0x16abde['setWindowId']),_0x1ba9c8[_0x547f44(0x352)]='Generando\x20'+_0x16abde[_0x547f44(0x2e0)]+_0x547f44(0x2e9);}_0x1ba9c8[_0x547f44(0x352)]=_0x547f44(0x15d)+_0x2185c0[_0x547f44(0x18b)]+_0x547f44(0x2e9),setTimeout(()=>location[_0x547f44(0x282)](),0x7d0);}catch(_0x8bf21a){console[_0x547f44(0x343)](_0x547f44(0x32e),_0x8bf21a),_0x2ab51c[_0x547f44(0x241)]=![],hideLoadingModal(),alert(_0x8bf21a);throw _0x8bf21a;}}function clearAndStore(_0x1db87c,_0x42a968,_0x5923e8){return new Promise((_0xc1b9ca,_0x5aea30)=>{const _0x5f08b4=_0x1f8d,_0x4fe13f=_0x1db87c[_0x5f08b4(0x190)](_0x42a968,_0x5f08b4(0x21d)),_0x3b2242=_0x4fe13f[_0x5f08b4(0x34c)](_0x42a968),_0x3486de=_0x3b2242[_0x5f08b4(0x247)]();_0x3486de['onsuccess']=()=>{const _0x5bc6a1=_0x5f08b4;_0x5923e8[_0x5bc6a1(0x222)](_0x10ab0c=>_0x3b2242[_0x5bc6a1(0x2f0)](_0x10ab0c));},_0x4fe13f[_0x5f08b4(0x221)]=()=>_0xc1b9ca(),_0x4fe13f['onerror']=()=>_0x5aea30(new Error(_0x5f08b4(0x1cf)+_0x42a968+'!'));});}async function logoutReload(_0x29f4da=0x0,_0x2eb1b4){const _0x5eb97c=_0x3a0c33;if(_0x29f4da!=0x1){showLoadingModal();const _0x31c5cd=document['getElementById']('infoLoadingModal');_0x31c5cd[_0x5eb97c(0x352)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>';}_0x2eb1b4==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x5eb97c(0x282)]();}function registerServiceWorker(_0x36adf6,_0x15ba3b){const _0x5e9e82=_0x3a0c33;'serviceWorker'in navigator&&navigator[_0x5e9e82(0x280)][_0x5e9e82(0x383)](_0x36adf6)[_0x5e9e82(0x2a3)](_0x4df78d=>{const _0x436e42=_0x5e9e82;console[_0x436e42(0x398)]('SW\x20Success'),_0x4df78d['onupdatefound']=()=>{const _0x24c453=_0x436e42,_0x53b72c=_0x4df78d[_0x24c453(0x1e0)];_0x53b72c[_0x24c453(0x251)]=()=>{const _0x4ab23f=_0x24c453;_0x53b72c[_0x4ab23f(0x28d)]==_0x4ab23f(0x319)&&navigator[_0x4ab23f(0x280)][_0x4ab23f(0x1d4)]&&console[_0x4ab23f(0x398)]('SW\x20New\x20Version');};},navigator['serviceWorker'][_0x436e42(0x274)]('controllerchange',()=>{const _0x4bf2c9=_0x436e42;showLoadingModal();const _0x124a81=document['getElementById'](_0x4bf2c9(0x391));_0x124a81[_0x4bf2c9(0x352)]=_0x4bf2c9(0x2a1),logoutReload(0x1,_0x15ba3b);});})[_0x5e9e82(0x15e)](_0xd9c043=>console[_0x5e9e82(0x343)](_0x5e9e82(0x373),_0xd9c043));}function isLoggedIn(_0x51417e){const _0x5e185f=_0x3a0c33;return _0x51417e&&_0x51417e[0x0]&&_0x51417e[0x0][_0x5e185f(0x355)];}function apiERPShowContent(){const _0x38022d=_0x3a0c33;document[_0x38022d(0x382)](_0x38022d(0x1a2))[_0x38022d(0x351)]['remove'](_0x38022d(0x36c)),document[_0x38022d(0x382)](_0x38022d(0x230))['classList']['remove']('hidden'),document[_0x38022d(0x382)](_0x38022d(0x2ff))['classList'][_0x38022d(0x365)](_0x38022d(0x36c));const _0x2aa824=document[_0x38022d(0x382)](_0x38022d(0x26b));_0x2aa824&&_0x2aa824[_0x38022d(0x351)]['remove'](_0x38022d(0x36c));}function x64ctotalcal(){return window['location']['hostname'];}function x64btsparamnumber(_0x5ae363){const _0xd0524b=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x5ae363==_0xd0524b;}function x32btsfirefoxcalc(_0x1ca20f){const _0x37aeac=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x1ca20f==_0x37aeac;}function x64bitsdescitem(_0x4cb688){const _0xb34961=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x4cb688==_0xb34961;}function x43bitsdescglobal(_0x4d7a2e){const _0x15b7f6=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x4d7a2e==_0x15b7f6;}function x32bitsCompanyTkn(_0x59d516){const _0x76e725=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x59d516==_0x76e725;}function x64bitsparamnumber(_0x27e5c7,_0x162f7e){const _0x2bad73=_0x162f7e;return _0x27e5c7==_0x2bad73;}function activarRender(_0x3fa3a6){const _0x1d7220=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x3fa3a6)];return _0x1d7220['includes'](!![]);}function saveCompanyToIndexedDB(_0x214b35,_0x24fc9f){return new Promise((_0x3ed344,_0x37d21e)=>{const _0x405a7c=_0x1f8d,_0x2ceb4e=_0x24fc9f[_0x405a7c(0x190)](_0x405a7c(0x322),_0x405a7c(0x21d)),_0x56cbf5=_0x2ceb4e[_0x405a7c(0x34c)]('company');_0x56cbf5[_0x405a7c(0x247)](),_0x214b35[_0x405a7c(0x222)](_0x14bd2d=>_0x56cbf5['put'](_0x14bd2d)),_0x2ceb4e[_0x405a7c(0x221)]=()=>_0x3ed344(),_0x2ceb4e[_0x405a7c(0x172)]=_0x9fdf43=>_0x37d21e(_0x9fdf43[_0x405a7c(0x1b9)][_0x405a7c(0x343)]);});}function loadCompanyFromIndexedDB(_0x34a944){return new Promise((_0x18c9cc,_0x2c4ddb)=>{const _0x112a7e=_0x1f8d,_0x288d75=_0x34a944['transaction'](_0x112a7e(0x322),'readonly'),_0xf87a58=_0x288d75[_0x112a7e(0x34c)](_0x112a7e(0x322)),_0x43a2d0=_0xf87a58[_0x112a7e(0x1ef)]();_0x43a2d0[_0x112a7e(0x321)]=()=>_0x18c9cc(_0x43a2d0[_0x112a7e(0x227)]),_0x43a2d0['onerror']=_0x30ce1c=>_0x2c4ddb(_0x30ce1c['target'][_0x112a7e(0x343)]);});}async function initializeCompany(_0xe81df7){const _0x28919d=_0x3a0c33;try{const _0x111409=await loadCompanyFromIndexedDB(_0xe81df7);company=_0x111409,company[_0x28919d(0x1c2)]>0x0?(console[_0x28919d(0x398)](_0x28919d(0x246)),myCompany=company[0x0]):console['log'](_0x28919d(0x39f));}catch(_0x59b506){console[_0x28919d(0x343)](_0x28919d(0x1db),_0x59b506);}}function loadProductsFromIndexedDB(_0x147c1b){return new Promise((_0x4ec432,_0x4c7a09)=>{const _0x53da0f=_0x1f8d,_0x335c0b=_0x147c1b[_0x53da0f(0x190)](_0x53da0f(0x270),_0x53da0f(0x377)),_0x21277c=_0x335c0b[_0x53da0f(0x34c)](_0x53da0f(0x270)),_0x5a5b20=_0x21277c[_0x53da0f(0x1ef)]();_0x5a5b20[_0x53da0f(0x321)]=()=>_0x4ec432(_0x5a5b20[_0x53da0f(0x227)]),_0x5a5b20['onerror']=_0x33091d=>_0x4c7a09(_0x33091d[_0x53da0f(0x1b9)][_0x53da0f(0x343)]);});}async function initializeProducts(_0x214758){const _0x5521cf=_0x3a0c33;try{const _0x2fc9bf=await loadProductsFromIndexedDB(_0x214758);products=_0x2fc9bf,products[_0x5521cf(0x1c2)]>0x0?console['log'](_0x5521cf(0x1ea)):console[_0x5521cf(0x398)]('Products\x20Empty.');}catch(_0x549fea){console[_0x5521cf(0x343)](_0x5521cf(0x1ff),_0x549fea);}}async function validateAccess(_0x3a91c3){const _0x508f82=_0x3a0c33;await initializeCompany(_0x3a91c3);if(!isLoggedIn(company))throw new Error('User\x20no\x20Logged!');if(!activarRender(company[0x0][_0x508f82(0x256)])){alert('Error:\x20Domain\x20not\x20registered.');throw new Error(_0x508f82(0x244));}apiERPShowContent();}function initCountrySelector(_0x255730){const _0x5df23b=_0x3a0c33,_0x3f67f5=_0x255730[_0x5df23b(0x2ea)]('.select-button-pais-flag'),_0x4376a6=_0x255730['querySelector']('.dropdown-list-pais-flag');let _0x2023c0=_0x3f67f5['dataset'][_0x5df23b(0x313)]||'51';function _0x31dc92(){const _0x2b952c=_0x5df23b;_0x4376a6[_0x2b952c(0x185)][_0x2b952c(0x22a)]=_0x3f67f5[_0x2b952c(0x2d5)]+'px';}_0x31dc92(),window[_0x5df23b(0x274)](_0x5df23b(0x31d),_0x31dc92),_0x3f67f5[_0x5df23b(0x274)](_0x5df23b(0x228),function(_0x260096){const _0x5c9e1f=_0x5df23b;_0x260096[_0x5c9e1f(0x21e)](),_0x31dc92();const _0x54ced4=_0x4376a6[_0x5c9e1f(0x185)]['display']===_0x5c9e1f(0x17d);document['querySelectorAll'](_0x5c9e1f(0x1fb))[_0x5c9e1f(0x222)](_0x553c84=>{const _0xcf9a11=_0x5c9e1f;if(_0x553c84!==_0x4376a6)_0x553c84[_0xcf9a11(0x185)][_0xcf9a11(0x37d)]=_0xcf9a11(0x20c);}),_0x4376a6[_0x5c9e1f(0x185)]['display']=_0x54ced4?_0x5c9e1f(0x20c):_0x5c9e1f(0x17d);}),_0x4376a6[_0x5df23b(0x2b9)](_0x5df23b(0x306))[_0x5df23b(0x222)](_0xd3427f=>{const _0x3243d3=_0x5df23b;_0xd3427f[_0x3243d3(0x274)]('click',function(_0x369341){const _0x41db6d=_0x3243d3;_0x369341[_0x41db6d(0x21e)](),_0x2023c0=this['dataset'][_0x41db6d(0x23a)],_0x3f67f5[_0x41db6d(0x291)][_0x41db6d(0x313)]=_0x2023c0,_0x3f67f5['innerHTML']=this['innerHTML'],_0x4376a6[_0x41db6d(0x185)][_0x41db6d(0x37d)]=_0x41db6d(0x20c);});}),document[_0x5df23b(0x274)](_0x5df23b(0x228),function(_0x1afc8a){const _0x443b26=_0x5df23b;!_0x3f67f5[_0x443b26(0x1d8)](_0x1afc8a['target'])&&!_0x4376a6[_0x443b26(0x1d8)](_0x1afc8a['target'])&&(_0x4376a6[_0x443b26(0x185)][_0x443b26(0x37d)]=_0x443b26(0x20c));});}function getCredentialsApiWAChat(_0x48f2e7){const _0x4eb47c=_0x3a0c33;return myCompany[_0x4eb47c(0x36e)]['find'](_0x16cd41=>_0x16cd41['setCredentialsApiWAChatId']==_0x48f2e7)||null;}async function sendMessageApiWAChat(_0x5f2851,_0x2ff628,_0x22e77b,_0x4cc42e,_0x470a76,_0x205678,_0x16a29b){const _0xc6f7c=_0x3a0c33,_0x234c7b=getCredentialsApiWAChat(_0x5f2851);if(!_0x234c7b)return Promise['reject'](new Error('Credenciales\x20no\x20encontradas'));const _0x50ae1b=_0x234c7b['setCredentialsApiWAChatSubdomain'],_0x1bca7a=_0x234c7b[_0xc6f7c(0x2d4)],_0x432dc9={'type':_0x22e77b,'content':_0x4cc42e};if(_0x470a76)_0x432dc9['caption']=_0x470a76;_0x205678&&(_0x432dc9[_0xc6f7c(0x266)]=_0x205678);_0x16a29b&&(_0x432dc9['mimetype']=_0x16a29b);const _0x19ff52=_0xc6f7c(0x376)+_0x50ae1b+_0xc6f7c(0x2eb)+_0x1bca7a+_0xc6f7c(0x1ec),_0x568f14=await fetch(_0x19ff52,{'method':'POST','headers':{'Content-Type':_0xc6f7c(0x175),'x-auth-token':myCompany['setAuthToken']},'body':JSON[_0xc6f7c(0x35c)]({'to':_0x2ff628,'payload':_0x432dc9})});if(!_0x568f14['ok']){const _0x3143fd=await _0x568f14[_0xc6f7c(0x361)]()[_0xc6f7c(0x15e)](()=>({}));throw new Error(_0x3143fd[_0xc6f7c(0x343)]||'Error\x20'+_0x568f14['status']);}return _0x568f14[_0xc6f7c(0x361)]();}async function saveCredentialsApiWAChatInCompany(){const _0x4e5e10=_0x3a0c33,_0x47fc40=document[_0x4e5e10(0x382)](_0x4e5e10(0x36e)),_0x2c820d=_0x47fc40[_0x4e5e10(0x238)],_0x51d1f0=getCredentialsApiWAChat(_0x2c820d);_0x51d1f0&&(myCompany['setCredentialsApiWAChatIdDefault']=_0x51d1f0['setCredentialsApiWAChatId']);}function formatVariantName(_0x380a63,_0x1994bd,_0x2a1d46){const _0x426bf2=_0x3a0c33;let _0x412e5a=String(_0x380a63||'')[_0x426bf2(0x1fa)]();if(!_0x1994bd||typeof _0x1994bd!==_0x426bf2(0x2ca)||_0x1994bd[_0x426bf2(0x25d)]!==Object||Object[_0x426bf2(0x263)](_0x1994bd)[_0x426bf2(0x1c2)]===0x0)return _0x412e5a;return Object[_0x426bf2(0x263)](_0x1994bd)[_0x426bf2(0x222)](_0x9a6ab0=>{const _0x56fdab=_0x426bf2,_0x35b6a2=String(_0x1994bd[_0x9a6ab0]||'')[_0x56fdab(0x1fa)]();if(!_0x35b6a2)return;if(_0x2a1d46===0x1)_0x412e5a+='\x20'+_0x9a6ab0+'\x20'+_0x35b6a2;else _0x2a1d46===0x2&&(_0x412e5a+='\x20'+_0x35b6a2);}),_0x412e5a;}async function fetchLocationByIP(){const _0x2e255d=_0x3a0c33;try{const _0x2934c5=await fetch(_0x2e255d(0x1f2)),_0x5dccdb=await _0x2934c5[_0x2e255d(0x361)]();if(_0x5dccdb&&_0x5dccdb['latitude']&&_0x5dccdb[_0x2e255d(0x332)])return{'lat':parseFloat(_0x5dccdb[_0x2e255d(0x2f4)]),'lng':parseFloat(_0x5dccdb[_0x2e255d(0x332)])};}catch(_0x286303){console[_0x2e255d(0x31c)](_0x2e255d(0x2cd),_0x286303);}return null;}function loadGoogleMaps(_0xabf310){return new Promise((_0x40e16c,_0x47f920)=>{const _0x474dc4=_0x1f8d;if(window[_0x474dc4(0x341)]&&window[_0x474dc4(0x341)]['maps'])return _0x40e16c();const _0x13fa5f=document[_0x474dc4(0x1c0)](_0x474dc4(0x35b));_0x13fa5f[_0x474dc4(0x22c)]=_0x474dc4(0x2af)+encodeURIComponent(_0xabf310)+_0x474dc4(0x178),_0x13fa5f[_0x474dc4(0x281)]=!![],_0x13fa5f[_0x474dc4(0x2b3)]=!![],_0x13fa5f[_0x474dc4(0x333)]=()=>{const _0x36cf60=_0x474dc4;window[_0x36cf60(0x341)]&&window[_0x36cf60(0x341)][_0x36cf60(0x2d3)]?_0x40e16c():_0x47f920(new Error(_0x36cf60(0x1d5)));},_0x13fa5f[_0x474dc4(0x172)]=()=>_0x47f920(new Error(_0x474dc4(0x3a5))),document['head'][_0x474dc4(0x2fa)](_0x13fa5f);});}function generateMap(_0x199e87,_0x3adcc0={}){const _0x4b9094=_0x3a0c33,_0x33f721=typeof _0x199e87==='string'?document[_0x4b9094(0x382)](_0x199e87):_0x199e87;if(!_0x33f721)throw new Error(_0x4b9094(0x189));const _0x4c77d4={'lat':0x0,'lng':0x0},_0x92f387=_0x3adcc0['useGeolocation']!==![],_0x4ca7f0=_0x3adcc0[_0x4b9094(0x399)]||'single-select',_0x2ac6ad=_0x3adcc0[_0x4b9094(0x177)],_0x42f286=document[_0x4b9094(0x382)](_0x3adcc0['coordsInputId']);_0x42f286&&(_0x42f286[_0x4b9094(0x238)]='',_0x42f286[_0x4b9094(0x2e3)](new Event(_0x4b9094(0x2c3),{'bubbles':!![]})));let _0x27ca4d,_0x22a009=[],_0x2fb1c1=null;function _0x2df1d2(_0xb303fb,_0x22dc77=0xc){const _0x50539f=_0x4b9094;_0x27ca4d=new google[(_0x50539f(0x2d3))][(_0x50539f(0x23e))](_0x33f721,{'center':_0xb303fb,'zoom':_0x22dc77,'mapId':_0x50539f(0x2dd)}),_0x4ca7f0===_0x50539f(0x34f)&&Array[_0x50539f(0x232)](_0x3adcc0[_0x50539f(0x2e5)])&&_0x3adcc0[_0x50539f(0x2e5)][_0x50539f(0x222)](_0x355045=>_0x330275(_0x355045)),_0x4ca7f0===_0x50539f(0x21b)&&_0x3adcc0[_0x50539f(0x23f)]&&_0xce9bfb(_0x3adcc0[_0x50539f(0x23f)][_0x50539f(0x381)],_0x3adcc0[_0x50539f(0x23f)][_0x50539f(0x27d)]),_0x4ca7f0===_0x50539f(0x237)&&(_0x27ca4d[_0x50539f(0x39e)](_0x50539f(0x228),_0x4121e6=>_0x4dc511(_0x4121e6['latLng'])),_0x3adcc0[_0x50539f(0x21f)]&&((async()=>{const _0x4c051d=_0x50539f,{PlaceAutocompleteElement:_0x54f07b}=await google['maps'][_0x4c051d(0x16e)]('places'),_0x59d4f2=new _0x54f07b(),_0x4ba62f=document['createElement'](_0x4c051d(0x285));_0x4ba62f[_0x4c051d(0x351)][_0x4c051d(0x365)](_0x4c051d(0x2d9)),Object[_0x4c051d(0x223)](_0x4ba62f[_0x4c051d(0x185)],{'position':_0x4c051d(0x165),'top':_0x4c051d(0x233),'left':_0x4c051d(0x233),'zIndex':'5','width':_0x4c051d(0x1aa)}),_0x4ba62f[_0x4c051d(0x2fa)](_0x59d4f2),_0x27ca4d['controls'][google['maps'][_0x4c051d(0x2f8)][_0x4c051d(0x354)]][_0x4c051d(0x2e4)](_0x4ba62f),_0x59d4f2[_0x4c051d(0x274)](_0x4c051d(0x34a),async _0x109908=>{const _0xcb0c7e=_0x4c051d;console[_0xcb0c7e(0x398)](_0xcb0c7e(0x397),_0x109908);if(!_0x109908[_0xcb0c7e(0x301)]){console[_0xcb0c7e(0x31c)](_0xcb0c7e(0x229));return;}const _0x238b24=_0x109908[_0xcb0c7e(0x301)],_0x43ffe1=_0x238b24['toPlace']();await _0x43ffe1[_0xcb0c7e(0x272)]({'fields':[_0xcb0c7e(0x366)]});const _0x3104d8=_0x43ffe1[_0xcb0c7e(0x366)];if(!_0x3104d8){console[_0xcb0c7e(0x31c)](_0xcb0c7e(0x2a0));return;}_0x27ca4d['panTo'](_0x3104d8),_0x27ca4d['setZoom'](0x11),_0x4dc511(_0x3104d8);const _0xf799cd=_0x2ac6ad?document[_0xcb0c7e(0x382)](_0x2ac6ad):null;_0xf799cd&&(_0xf799cd['value']=_0x3104d8['lat']()+','+_0x3104d8[_0xcb0c7e(0x2d8)](),_0xf799cd[_0xcb0c7e(0x2e3)](new Event(_0xcb0c7e(0x2c3),{'bubbles':!![]})));});})()));}_0x92f387&&navigator[_0x4b9094(0x323)]?navigator[_0x4b9094(0x323)]['getCurrentPosition'](_0x5e8682=>_0x2df1d2({'lat':_0x5e8682[_0x4b9094(0x163)][_0x4b9094(0x2f4)],'lng':_0x5e8682['coords'][_0x4b9094(0x332)]}),async()=>{const _0x50c0a3=await fetchLocationByIP();_0x2df1d2(_0x50c0a3||_0x4c77d4);}):((async()=>{const _0x1b2541=await fetchLocationByIP();_0x2df1d2(_0x1b2541||_0x4c77d4);})());async function _0x330275({lat:_0x10577a,lng:_0x1b5427,iconUrl:_0x3297c2,label:_0x531fe1}){const _0x3e2a27=_0x4b9094,{AdvancedMarkerElement:_0x2c8fc0}=await google[_0x3e2a27(0x2d3)][_0x3e2a27(0x16e)](_0x3e2a27(0x1b0)),_0x55b04d=new _0x2c8fc0({'map':_0x27ca4d,'position':{'lat':_0x10577a,'lng':_0x1b5427},'title':_0x531fe1||'','content':_0x3297c2?((()=>{const _0x2222e3=_0x3e2a27,_0x5b4507=document[_0x2222e3(0x1c0)](_0x2222e3(0x37f));return _0x5b4507[_0x2222e3(0x22c)]=_0x3297c2,_0x5b4507['style']['width']=_0x2222e3(0x328),_0x5b4507[_0x2222e3(0x185)]['height']=_0x2222e3(0x328),_0x5b4507;})()):undefined});return _0x22a009[_0x3e2a27(0x2e4)](_0x55b04d),_0x55b04d;}async function _0x4dc511(_0x2f6f27,_0xba7c46){const _0xbc03fd=_0x4b9094,_0x483bb1=typeof _0x2f6f27===_0xbc03fd(0x16d)&&typeof _0xba7c46===_0xbc03fd(0x16d)?new google[(_0xbc03fd(0x2d3))]['LatLng'](_0x2f6f27,_0xba7c46):_0x2f6f27,_0x181773=_0x483bb1[_0xbc03fd(0x339)](),_0x1ca362=_0x483bb1[_0xbc03fd(0x2d8)]();_0x2fb1c1&&(_0x2fb1c1[_0xbc03fd(0x276)]=null),_0x2fb1c1=await _0x330275({'lat':_0x181773,'lng':_0x1ca362,'iconUrl':_0x3adcc0['iconUrl']}),typeof _0x3adcc0['onSelect']===_0xbc03fd(0x20a)&&_0x3adcc0[_0xbc03fd(0x208)](_0x181773,_0x1ca362);}function _0xce9bfb(_0x407475,_0x5c0f86){const _0x479849=_0x4b9094,_0x1185b2=new google[(_0x479849(0x2d3))][(_0x479849(0x308))](),_0x2f1c19=new google['maps']['DirectionsRenderer']({'map':_0x27ca4d});_0x1185b2[_0x479849(0x23f)]({'origin':_0x407475,'destination':_0x5c0f86,'travelMode':google[_0x479849(0x2d3)]['TravelMode']['DRIVING']},(_0x597b0c,_0x44bf7a)=>{const _0x1df311=_0x479849;if(_0x44bf7a==='OK'){_0x2f1c19[_0x1df311(0x2ba)](_0x597b0c);if(_0x3adcc0[_0x1df311(0x337)]){const _0x3e2363=_0x597b0c[_0x1df311(0x1f6)][0x0][_0x1df311(0x19b)][_0x1df311(0x2d0)]((_0x582eb8,_0x32548c)=>_0x582eb8+_0x32548c['distance'][_0x1df311(0x238)],0x0),_0x15fcc1=_0x3e2363/0x3e8;console['log'](_0x1df311(0x2b4)+_0x15fcc1[_0x1df311(0x346)](0x2)+_0x1df311(0x24a)),console[_0x1df311(0x398)](_0x1df311(0x24e)+(_0x15fcc1*_0x3adcc0[_0x1df311(0x337)])['toFixed'](0x2));}}else console[_0x1df311(0x343)]('Directions\x20request\x20failed:',_0x44bf7a);});}return _0x27ca4d;}async function loadCart(_0x322525){const _0xfa6893=_0x3a0c33;try{const _0x48cc95=await createCartStore(''),_0x70a36b=[];await validateAccess(_0x48cc95);const _0x4d2b9d=company[0x0]['setUser_Local'],_0x731024=company[0x0][_0xfa6893(0x2a8)][_0xfa6893(0x2cb)](_0x309815=>_0x309815['setUserEmail']==_0x4d2b9d[_0xfa6893(0x1ac)]),_0x4a6e48=company[0x0]['setBranches'],_0x34e687=document[_0xfa6893(0x382)](_0xfa6893(0x1ed));_0x34e687[_0xfa6893(0x352)]='';if(_0x731024&&_0x731024['setBranches']){const _0x3f69ff=_0x4a6e48['filter'](_0x5a6baa=>_0x731024[_0xfa6893(0x33d)]['some'](_0x193815=>_0x193815[_0xfa6893(0x1ed)]==_0x5a6baa[_0xfa6893(0x1ed)]));_0x3f69ff[_0xfa6893(0x222)](_0x177be4=>{const _0x29a1d6=_0xfa6893,_0x3cf37f=document['createElement'](_0x29a1d6(0x384));_0x3cf37f[_0x29a1d6(0x238)]=_0x177be4['setBranchId'],_0x3cf37f[_0x29a1d6(0x39b)]=_0x177be4[_0x29a1d6(0x1a3)],_0x34e687[_0x29a1d6(0x2fa)](_0x3cf37f);});}if(_0x322525==0x1){const _0x4ab3d2=document[_0xfa6893(0x382)]('setCajeroCodigo');_0x4ab3d2['innerHTML']='';if(_0x731024){const _0x81f00f=document['createElement'](_0xfa6893(0x384));_0x81f00f[_0xfa6893(0x238)]=_0x731024['setUserCode'],_0x81f00f[_0xfa6893(0x39b)]=_0x731024[_0xfa6893(0x16a)],_0x4ab3d2['appendChild'](_0x81f00f);}const _0x2bdd84=Array[_0xfa6893(0x1f5)](_0x48cc95[_0xfa6893(0x23b)])['filter'](_0x2a606f=>_0x2a606f['startsWith'](_0xfa6893(0x1f3)))['map'](_0x360871=>{const _0xe1404a=_0xfa6893,_0x5bfd06=_0x360871['split']('_');return _0x5bfd06[_0xe1404a(0x1c2)]>=0x3?_0x5bfd06[0x2]:null;})['filter'](_0x41c695=>_0x41c695!==null);console[_0xfa6893(0x398)](_0xfa6893(0x2bc),_0x2bdd84);const _0x2ea967=Array['from'](_0x48cc95['objectStoreNames'])[_0xfa6893(0x327)](_0x5aa433=>_0x5aa433[_0xfa6893(0x2ac)]('window_options_'))[_0xfa6893(0x23d)]((_0xd4f199,_0x382e54)=>{const _0x1227c4=_0xfa6893,_0x5ba358=parseInt(_0xd4f199[_0x1227c4(0x181)]('_')[_0x1227c4(0x395)](),0xa),_0x2dfa57=parseInt(_0x382e54['split']('_')[_0x1227c4(0x395)](),0xa);return _0x5ba358-_0x2dfa57;});for(const _0x1bf72f of _0x2ea967){const _0x381a88=_0x1bf72f['split']('_');if(_0x381a88[_0xfa6893(0x1c2)]<0x3){console[_0xfa6893(0x343)](_0xfa6893(0x1a7)+_0x1bf72f);continue;}const _0x24ea00=_0x381a88[0x2];if(_0x2bdd84['includes'](_0x24ea00)){const _0x34592b=new Promise((_0x24648c,_0x1715e2)=>{const _0x4b2537=_0xfa6893,_0x4e5aaa=_0x48cc95[_0x4b2537(0x190)]([_0x1bf72f],'readonly'),_0x48b762=_0x4e5aaa[_0x4b2537(0x34c)](_0x1bf72f),_0x3b0ba4=_0x48b762['get'](_0x24ea00);_0x3b0ba4[_0x4b2537(0x321)]=function(_0x38b9e9){const _0x31c10a=_0x4b2537,_0x9d85b6=_0x38b9e9[_0x31c10a(0x1b9)][_0x31c10a(0x227)];window_options[_0x24ea00]={},_0x9d85b6&&(window_options[_0x24ea00]={'setTipoOperacionInvoice':_0x9d85b6[_0x31c10a(0x29c)],'setTipoOperacion':_0x9d85b6[_0x31c10a(0x2d1)],'setSerie':_0x9d85b6['setSerie'],'setCorrelativo':_0x9d85b6[_0x31c10a(0x27c)],'setMoneda':_0x9d85b6[_0x31c10a(0x326)],'setClienteTipoDoc':_0x9d85b6[_0x31c10a(0x1bf)],'setClienteNumDoc':_0x9d85b6[_0x31c10a(0x362)],'setClienteDenominacion':_0x9d85b6[_0x31c10a(0x16f)],'setClienteDireccion':_0x9d85b6['setClienteDireccion'],'setCustomerPhone':_0x9d85b6[_0x31c10a(0x360)],'setCustomerEmail':_0x9d85b6[_0x31c10a(0x386)],'setFechaHora':_0x9d85b6[_0x31c10a(0x290)],'setSellerId':_0x9d85b6[_0x31c10a(0x2c0)],'setSellerName':_0x9d85b6[_0x31c10a(0x1e2)],'setDespacho':_0x9d85b6[_0x31c10a(0x1ca)],'setObservacion':_0x9d85b6[_0x31c10a(0x258)],'setDescuentoGlobal_Monto':_0x9d85b6['setDescuentoGlobal_Monto'],'setAttachEdit':_0x9d85b6[_0x31c10a(0x252)]},console[_0x31c10a(0x398)](_0x31c10a(0x243)+_0x24ea00+':',_0x9d85b6)),Promise[_0x31c10a(0x20b)](updateTab(_0x24ea00))['then'](_0x24648c)[_0x31c10a(0x15e)](_0x4ae303=>{const _0x4728d7=_0x31c10a;console[_0x4728d7(0x343)](_0x4728d7(0x1bb),_0x4ae303),_0x1715e2(_0x4ae303);});},_0x3b0ba4[_0x4b2537(0x172)]=function(_0x16f2e0){const _0x4b3565=_0x4b2537;console[_0x4b3565(0x343)]('Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20'+_0x24ea00+'.',_0x16f2e0['target']['error']),_0x1715e2(_0x16f2e0[_0x4b3565(0x1b9)]['error']);};});_0x70a36b[_0xfa6893(0x2e4)](_0x34592b);}}const _0x102c5c=Array['from'](_0x48cc95['objectStoreNames'])[_0xfa6893(0x327)](_0x12e17f=>_0x12e17f[_0xfa6893(0x2ac)](_0xfa6893(0x27f)))[_0xfa6893(0x23d)]((_0x31d15b,_0x341f53)=>{const _0x10bca6=_0xfa6893,_0x25070c=parseInt(_0x31d15b[_0x10bca6(0x181)]('_')[_0x10bca6(0x395)](),0xa),_0x6dc958=parseInt(_0x341f53[_0x10bca6(0x181)]('_')[_0x10bca6(0x395)](),0xa);return _0x25070c-_0x6dc958;});for(const _0x2f9833 of _0x102c5c){const _0xaac2ff=_0x2f9833[_0xfa6893(0x181)]('_')[0x1];!carts[_0xaac2ff]&&(carts[_0xaac2ff]=[]);const _0x1f580c=new Promise((_0x3ec3a6,_0x4236e4)=>{const _0x43e252=_0xfa6893,_0x1660b6=_0x48cc95[_0x43e252(0x190)]([_0x2f9833],'readonly'),_0x2d366d=_0x1660b6[_0x43e252(0x34c)](_0x2f9833),_0x41e52e=_0x2d366d[_0x43e252(0x1ef)]();_0x41e52e[_0x43e252(0x321)]=async function(_0x36788d){const _0x25c0c5=_0x43e252,_0x3f826e=_0x36788d[_0x25c0c5(0x1b9)]['result'];carts[_0xaac2ff][_0x25c0c5(0x1c2)]=0x0,_0x3f826e[_0x25c0c5(0x222)](_0x3dfed9=>carts[_0xaac2ff][_0x25c0c5(0x2e4)](_0x3dfed9));const _0x3df077=myCompany['setWindows'][_0x25c0c5(0x2cb)](_0x1749ff=>_0x1749ff['setWindowId']==_0xaac2ff),_0x506a14=Array['isArray'](_0x3df077['setCartTmpInitial'])?[..._0x3df077[_0x25c0c5(0x18f)]]:[];if(_0x506a14[_0x25c0c5(0x1c2)]>0x0){carts[_0xaac2ff]=_0x506a14,_0x3df077[_0x25c0c5(0x2a5)]=_0x506a14,_0x3df077[_0x25c0c5(0x18f)]=[];try{const _0x39c737=await createCartStore('');await saveCompanyToIndexedDB(company,_0x39c737),await saveCart(_0xaac2ff),console['log']('Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.');}catch(_0x52faf7){console[_0x25c0c5(0x343)](_0x25c0c5(0x374),_0x52faf7);}}renderCart(_0xaac2ff),_0x3ec3a6();},_0x41e52e[_0x43e252(0x172)]=function(_0x235c44){const _0xf39f9a=_0x43e252;console[_0xf39f9a(0x343)]('Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20'+_0xaac2ff+'.',_0x235c44[_0xf39f9a(0x1b9)][_0xf39f9a(0x343)]),_0x4236e4(_0x235c44[_0xf39f9a(0x1b9)]['error']);};});_0x70a36b[_0xfa6893(0x2e4)](_0x1f580c);}}if(_0x322525==0x2||_0x322525==0x3||_0x322525==0x4){const _0xc4c8fd=document['getElementById']('setPlanName'),_0x1360e4=document[_0xfa6893(0x382)](_0xfa6893(0x30c));_0xc4c8fd[_0xfa6893(0x352)]='',_0x1360e4['innerHTML']='',_0x731024&&(_0xc4c8fd[_0xfa6893(0x352)]=_0xfa6893(0x166),_0x1360e4[_0xfa6893(0x352)]=_0x731024[_0xfa6893(0x16a)]);}if(_0x322525==0x1||_0x322525==0x4){const _0x2d38ff=myCompany[_0xfa6893(0x36e)],_0x4e0951=document['getElementById'](_0xfa6893(0x36e));_0x4e0951[_0xfa6893(0x352)]='',_0x2d38ff[_0xfa6893(0x222)](_0x4f251c=>{const _0x24cf79=_0xfa6893,_0x19d476=document[_0x24cf79(0x1c0)](_0x24cf79(0x384));_0x19d476['value']=_0x4f251c['setCredentialsApiWAChatId'],_0x19d476[_0x24cf79(0x39b)]=_0x4f251c[_0x24cf79(0x203)]??_0x4f251c[_0x24cf79(0x2d4)],_0x4e0951['appendChild'](_0x19d476);}),myCompany?.[_0xfa6893(0x31b)]&&(_0x4e0951[_0xfa6893(0x238)]=myCompany['setCredentialsApiWAChatIdDefault']);}return await Promise[_0xfa6893(0x197)](_0x70a36b),myCompany?.['setBranchDefault']&&(document[_0xfa6893(0x382)](_0xfa6893(0x1ed))[_0xfa6893(0x238)]=company[0x0][_0xfa6893(0x34b)]),document[_0xfa6893(0x382)](_0xfa6893(0x1ed))[_0xfa6893(0x2e3)](new Event('change')),_0x322525==0x1&&(tabCount=getMaxWindowId(carts),console[_0xfa6893(0x398)](_0xfa6893(0x29d)+tabCount)),_0x48cc95;}catch(_0x4f4874){throw _0x4f4874;}}function loadCartAndSetTabCount(_0x5449a3){const _0x2f18e7=_0x3a0c33;loadCart(_0x5449a3)[_0x2f18e7(0x2a3)](async _0x2c3ba1=>{const _0x10dd8b=_0x2f18e7;await initializeProducts(_0x2c3ba1);if(_0x5449a3==0x1){if(isLoggedIn(company)){const _0x2d4827=document[_0x10dd8b(0x382)](_0x10dd8b(0x2ef))[_0x10dd8b(0x238)];if(parseFloat(_0x2d4827)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x1058cd=myCompany[_0x10dd8b(0x1e6)]['map'](_0x3e9396=>_0x3e9396[_0x10dd8b(0x348)]);await reloadWindowsAndLayout(_0x1058cd);}}loadGoogleMaps('AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0')[_0x10dd8b(0x2a3)](()=>{const _0x189e18=_0x10dd8b;console[_0x189e18(0x398)](_0x189e18(0x257));})['catch'](_0x5c4fb4=>console[_0x10dd8b(0x343)](_0x5c4fb4));}adjustHeight(),showLeftSection(),setActiveTab(_0x10dd8b(0x392)),document[_0x10dd8b(0x274)](_0x10dd8b(0x1fd),function(_0x1ed40e){const _0x19b034=_0x10dd8b,_0x5e41ae=document['getElementById']('windowId')[_0x19b034(0x238)],_0x151f88=document['getElementById'](_0x19b034(0x21f)),_0x352d97=document[_0x19b034(0x2b9)](_0x19b034(0x170)),_0x567553=document[_0x19b034(0x382)](_0x19b034(0x1f0)+_0x5e41ae),_0x115cf7=document[_0x19b034(0x382)](_0x19b034(0x17b)+_0x5e41ae),_0x256315=document[_0x19b034(0x382)](_0x19b034(0x1bd));function _0x2428ad(_0xfd26bd){const _0x40b6fa=_0x19b034;return _0xfd26bd&&(_0xfd26bd[_0x40b6fa(0x2d5)]>0x0||_0xfd26bd['offsetHeight']>0x0||_0xfd26bd[_0x40b6fa(0x29e)]()[_0x40b6fa(0x1c2)]);}let _0x13db60=[];if(_0x256315&&_0x256315[_0x19b034(0x351)]['contains'](_0x19b034(0x218))){const _0x4f2451=_0x256315['querySelectorAll'](_0x19b034(0x28a));_0x4f2451['forEach'](_0x252e60=>{const _0x1347b0=_0x19b034;_0x2428ad(_0x252e60)&&!_0x252e60[_0x1347b0(0x351)][_0x1347b0(0x1d8)]('d-none')&&_0x13db60[_0x1347b0(0x2e4)](_0x252e60);});const _0x23b812=_0x256315[_0x19b034(0x2ea)](_0x19b034(0x267)+_0x5e41ae);if(_0x23b812){const _0x330505=_0x23b812[_0x19b034(0x2b9)]('input,\x20select,\x20button,\x20a:not(.payment-option)');_0x330505[_0x19b034(0x222)](_0x2244e0=>{const _0x418c01=_0x19b034;_0x2428ad(_0x2244e0)&&!_0x2244e0[_0x418c01(0x351)][_0x418c01(0x1d8)](_0x418c01(0x1d1))&&_0x13db60['push'](_0x2244e0);});}_0x115cf7&&_0x2428ad(_0x115cf7)&&!_0x115cf7[_0x19b034(0x351)][_0x19b034(0x1d8)]('d-none')&&(!_0x13db60[_0x19b034(0x30d)](_0x115cf7)&&_0x13db60[_0x19b034(0x2e4)](_0x115cf7));const _0x123c6e=_0x256315[_0x19b034(0x2ea)](_0x19b034(0x388));_0x123c6e&&_0x2428ad(_0x123c6e)&&!_0x13db60[_0x19b034(0x30d)](_0x123c6e)&&_0x13db60[_0x19b034(0x231)](_0x123c6e);}else{_0x13db60=[_0x151f88,..._0x352d97];if(_0x567553)_0x13db60['push'](_0x567553);}const _0x2ee232=document['activeElement'],_0x117008=_0x2ee232&&(_0x2ee232[_0x19b034(0x25c)]==_0x19b034(0x25b)||_0x2ee232['tagName']==_0x19b034(0x1c7)||_0x2ee232['closest'](_0x19b034(0x1a5)));if(_0x256315&&_0x256315[_0x19b034(0x351)][_0x19b034(0x1d8)](_0x19b034(0x218))&&_0x1ed40e[_0x19b034(0x29b)]==_0x19b034(0x1dc)){if(_0x2ee232&&_0x2ee232[_0x19b034(0x351)][_0x19b034(0x1d8)](_0x19b034(0x2fd))){_0x1ed40e[_0x19b034(0x225)](),_0x2ee232[_0x19b034(0x228)]();return;}}if(_0x256315&&_0x256315['classList'][_0x19b034(0x1d8)]('active')&&_0x1ed40e[_0x19b034(0x29b)]=='Tab'){const _0x16d253=_0x256315[_0x19b034(0x1d8)](_0x2ee232),_0x3e5e5e=_0x2ee232?.[_0x19b034(0x273)](_0x19b034(0x1a5));if(!_0x16d253&&!_0x3e5e5e){_0x1ed40e[_0x19b034(0x225)]();_0x13db60[_0x19b034(0x1c2)]>0x0&&_0x13db60[0x0]['focus']();return;}}if(_0x1ed40e[_0x19b034(0x29b)]=='Tab'){_0x1ed40e[_0x19b034(0x225)]();if(_0x13db60[_0x19b034(0x1c2)]==0x0)return;let _0x51ecf3=_0x13db60[_0x19b034(0x26c)](_0x2ee232);if(_0x51ecf3==-0x1)_0x51ecf3=-0x1;let _0x406f44;_0x1ed40e['shiftKey']?_0x406f44=_0x51ecf3<=0x0?_0x13db60[_0x19b034(0x1c2)]-0x1:_0x51ecf3-0x1:_0x406f44=_0x51ecf3==_0x13db60[_0x19b034(0x1c2)]-0x1?0x0:_0x51ecf3+0x1;_0x13db60[_0x406f44]['focus']();return;}(!_0x256315||!_0x256315[_0x19b034(0x351)]['contains']('active'))&&!_0x117008&&!_0x2ee232?.[_0x19b034(0x273)](_0x19b034(0x1de))&&(_0x1ed40e['key']['length']==0x1||_0x1ed40e['key']==_0x19b034(0x359)||_0x1ed40e[_0x19b034(0x29b)]==_0x19b034(0x2d6))&&(_0x1ed40e['preventDefault'](),_0x151f88['focus'](),_0x1ed40e[_0x19b034(0x29b)]==_0x19b034(0x359)||_0x1ed40e['key']==_0x19b034(0x2d6)?_0x151f88['value']=_0x151f88[_0x19b034(0x238)][_0x19b034(0x2f6)](0x0,-0x1):!_0x151f88[_0x19b034(0x238)]?_0x151f88['value']=_0x1ed40e[_0x19b034(0x29b)]:_0x151f88[_0x19b034(0x238)]+=_0x1ed40e['key']);}),loadTaxData(),resetNewItemForm();}_0x5449a3==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x5449a3==0x3){const _0x175e1f=document[_0x10dd8b(0x382)](_0x10dd8b(0x1ed))[_0x10dd8b(0x238)];fil_BranchesId[_0x10dd8b(0x2e4)](_0x175e1f),updateDateRange(_0x10dd8b(0x25a));}_0x5449a3==0x4&&init();})[_0x2f18e7(0x15e)](_0x2605f4=>{const _0x23b16e=_0x2f18e7;console[_0x23b16e(0x343)](_0x2605f4);})[_0x2f18e7(0x2c4)](()=>{const _0x5c6a54=_0x2f18e7;_0x5449a3==0x1&&updateInternetIcon();let _0x46edc1;(_0x5449a3==0x1||_0x5449a3==0x2||_0x5449a3==0x3||_0x5449a3==0x4)&&(_0x46edc1=_0x5c6a54(0x19f)),registerServiceWorker(_0x46edc1,_0x5449a3);});}