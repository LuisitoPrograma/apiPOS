/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.6
*/

var _0x1e7b23=_0x27c3;(function(_0x467d21,_0x5b0711){var _0x284ff7=_0x27c3,_0x2d1888=_0x467d21();while(!![]){try{var _0x2e422f=-parseInt(_0x284ff7(0x14c))/0x1+parseInt(_0x284ff7(0xcb))/0x2*(parseInt(_0x284ff7(0x150))/0x3)+-parseInt(_0x284ff7(0x1b2))/0x4*(-parseInt(_0x284ff7(0xd7))/0x5)+parseInt(_0x284ff7(0x18d))/0x6+parseInt(_0x284ff7(0x158))/0x7*(-parseInt(_0x284ff7(0xe8))/0x8)+parseInt(_0x284ff7(0x7e))/0x9*(-parseInt(_0x284ff7(0x126))/0xa)+parseInt(_0x284ff7(0x190))/0xb;if(_0x2e422f===_0x5b0711)break;else _0x2d1888['push'](_0x2d1888['shift']());}catch(_0x227cba){_0x2d1888['push'](_0x2d1888['shift']());}}}(_0x3f23,0x99b90));var _0x23e06b=(function(){var _0x2a72d4=!![];return function(_0x407212,_0x42841e){var _0x424190=_0x2a72d4?function(){if(_0x42841e){var _0x5cc9b0=_0x42841e['apply'](_0x407212,arguments);return _0x42841e=null,_0x5cc9b0;}}:function(){};return _0x2a72d4=![],_0x424190;};}()),_0x331f33=_0x23e06b(this,function(){var _0x559268=_0x27c3;return _0x331f33['toString']()[_0x559268(0x1b7)](_0x559268(0x142))[_0x559268(0x116)]()[_0x559268(0xcc)](_0x331f33)[_0x559268(0x1b7)](_0x559268(0x142));});_0x331f33();var _0xc8463e=(function(){var _0x2b32fa=!![];return function(_0x436543,_0x548c4f){var _0x5c2dc9=_0x2b32fa?function(){var _0x742414=_0x27c3;if(_0x548c4f){var _0x320583=_0x548c4f[_0x742414(0x1b9)](_0x436543,arguments);return _0x548c4f=null,_0x320583;}}:function(){};return _0x2b32fa=![],_0x5c2dc9;};}()),_0x3d7b77=_0xc8463e(this,function(){var _0x2a9f2e=_0x27c3,_0x3be2c4;try{var _0x280448=Function(_0x2a9f2e(0x79)+_0x2a9f2e(0xa7)+');');_0x3be2c4=_0x280448();}catch(_0x259bd3){_0x3be2c4=window;}var _0x54c64d=_0x3be2c4[_0x2a9f2e(0x102)]=_0x3be2c4[_0x2a9f2e(0x102)]||{},_0x45f354=[_0x2a9f2e(0xb3),_0x2a9f2e(0x17a),_0x2a9f2e(0x82),_0x2a9f2e(0x166),_0x2a9f2e(0x104),_0x2a9f2e(0xc1),'trace'];for(var _0x5010fe=0x0;_0x5010fe<_0x45f354['length'];_0x5010fe++){var _0x4c2824=_0xc8463e[_0x2a9f2e(0xcc)]['prototype']['bind'](_0xc8463e),_0x3c566d=_0x45f354[_0x5010fe],_0x20149f=_0x54c64d[_0x3c566d]||_0x4c2824;_0x4c2824[_0x2a9f2e(0x129)]=_0xc8463e[_0x2a9f2e(0x149)](_0xc8463e),_0x4c2824['toString']=_0x20149f[_0x2a9f2e(0x116)]['bind'](_0x20149f),_0x54c64d[_0x3c566d]=_0x4c2824;}});_0x3d7b77();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x1e7b23(0x140)),unitCount=0x0,branchesC=document['getElementById'](_0x1e7b23(0x1ba)),prodC=document[_0x1e7b23(0x113)](_0x1e7b23(0x16f)),vgCount=0x0,varContainer=document[_0x1e7b23(0x113)](_0x1e7b23(0x12f)),vgC=document[_0x1e7b23(0x113)](_0x1e7b23(0xaa));const fileInput=document['getElementById']('file-input'),progressBar=document['getElementById'](_0x1e7b23(0x1ab)),statusDiv=document[_0x1e7b23(0x113)](_0x1e7b23(0x161)),uploadBtn=document[_0x1e7b23(0x113)](_0x1e7b23(0xd2));let newItemsExcel=null;const itemWorker=new Worker(_0x1e7b23(0x105)),dropZone=document[_0x1e7b23(0x113)]('drop-zone'),removeBtn=document[_0x1e7b23(0x113)](_0x1e7b23(0x99));function showModalCreateItem(_0x5d5b95){var _0x2e081a=_0x1e7b23;const _0x281d72=document[_0x2e081a(0x113)]('detalleModalCreateItem'),_0x472e10=document[_0x2e081a(0x113)](_0x2e081a(0x187));_0x281d72[_0x2e081a(0x184)][_0x2e081a(0x81)]('active'),_0x472e10['style'][_0x2e081a(0x10f)]=_0x2e081a(0x19c);const _0xcde9ee=document[_0x2e081a(0x113)](_0x2e081a(0xa1));_0xcde9ee[_0x2e081a(0xb0)]=parseInt(_0x5d5b95),baseItem[_0x2e081a(0xa1)]=parseInt(_0x5d5b95);const _0xb8d1f1=document[_0x2e081a(0x113)](_0x2e081a(0x106));_0x5d5b95==0x0&&(_0xb8d1f1['innerHTML']=_0x2e081a(0x145));_0x5d5b95==0x1&&(_0xb8d1f1['innerHTML']='Producto\x20Libre');const _0x1bcc34=document['getElementsByClassName'](_0x2e081a(0x96));for(let _0x46a3f6=0x0;_0x46a3f6<_0x1bcc34[_0x2e081a(0xa6)];_0x46a3f6++){const _0x226583=_0x1bcc34[_0x46a3f6];if(_0x5d5b95==0x0)_0x226583[_0x2e081a(0x184)]['remove']('hidden');else _0x5d5b95==0x1&&_0x226583[_0x2e081a(0x184)][_0x2e081a(0x81)](_0x2e081a(0xea));}}function hideModalCreateItem(){var _0xa7ab1d=_0x1e7b23;const _0x55a4a6=document[_0xa7ab1d(0x113)](_0xa7ab1d(0x8b)),_0x538c1d=document['getElementById'](_0xa7ab1d(0x187));_0x55a4a6['classList'][_0xa7ab1d(0x92)](_0xa7ab1d(0x175)),_0x538c1d[_0xa7ab1d(0x95)][_0xa7ab1d(0x10f)]='none';}document['getElementById'](_0x1e7b23(0xf2))['addEventListener'](_0x1e7b23(0x177),hideModalCreateItem),document[_0x1e7b23(0x113)](_0x1e7b23(0x187))[_0x1e7b23(0xb1)](_0x1e7b23(0x177),_0x3ebdbd=>{var _0x265833=_0x1e7b23;_0x3ebdbd[_0x265833(0x14f)]==_0x3ebdbd[_0x265833(0xd4)]&&_0x3ebdbd[_0x265833(0xdf)]();});function _0x27c3(_0x280ba7,_0x2b2e7f){var _0x7f7313=_0x3f23();return _0x27c3=function(_0x3d7b77,_0xc8463e){_0x3d7b77=_0x3d7b77-0x76;var _0x2ad2c0=_0x7f7313[_0x3d7b77];return _0x2ad2c0;},_0x27c3(_0x280ba7,_0x2b2e7f);}function loadTaxData(){var _0x3f5831=_0x1e7b23;const _0x386c39=document['getElementById'](_0x3f5831(0xc9));_0x386c39['innerHTML']='',company[0x0][_0x3f5831(0x10b)][_0x3f5831(0x94)](function(_0x415290){var _0x344af4=_0x3f5831;const _0x2dd188=document[_0x344af4(0x8e)](_0x344af4(0x182));_0x2dd188['value']=_0x415290[_0x344af4(0x12e)],_0x2dd188[_0x344af4(0x13c)]=_0x415290[_0x344af4(0xcf)]+'\x20('+_0x415290[_0x344af4(0x108)]+'%)',_0x415290['setTaxId']==company[0x0]['setTaxIdDefault']&&(_0x2dd188[_0x344af4(0xf6)]=!![]),_0x386c39[_0x344af4(0x109)](_0x2dd188);});}function uniqueValuesArray(_0x24c1cc,_0x4a07dc,_0x3cf269){var _0x45aacc=_0x1e7b23;const _0x5eb33b=Array[_0x45aacc(0x9f)](new Set(_0x3cf269[_0x45aacc(0xec)](_0x54c24e=>{var _0x246791=_0x45aacc;const _0x4a045e=_0x54c24e[_0x24c1cc];return typeof _0x4a045e===_0x246791(0x11e)?_0x4a045e[_0x246791(0x80)]():_0x4a045e;})[_0x45aacc(0xa5)](_0x1194d5=>_0x1194d5!=null&&_0x1194d5!=='')));return _0x5eb33b[_0x45aacc(0xec)](_0x547f30=>{var _0x587b44=_0x45aacc;const _0x1cedb6=_0x3cf269[_0x587b44(0xcd)](_0x51942e=>_0x51942e[_0x24c1cc]===_0x547f30),_0x47f627=_0x1cedb6&&_0x1cedb6[_0x4a07dc]!=null?String(_0x1cedb6[_0x4a07dc])['trim']():_0x547f30;return{'setCode':_0x547f30,'setName':_0x47f627};});}function fillSelect(_0x5e96dd,_0x36eed3,_0x341ebd,_0x463a56){var _0x4642da=_0x1e7b23;_0x5e96dd[_0x4642da(0x13c)]='',_0x36eed3['forEach'](function(_0x44d467){var _0x5ddf5e=new Option(_0x44d467[_0x463a56],_0x44d467[_0x341ebd]);_0x5e96dd['add'](_0x5ddf5e);});}function initMulti(_0x3ec51b,_0x4ada27){var _0x1e227f=_0x1e7b23,_0x31d0ab=document[_0x1e227f(0x113)](_0x3ec51b),_0x44bc3e=_0x31d0ab['querySelector']('.ms_input'),_0x58426c=_0x31d0ab[_0x1e227f(0xb6)](_0x1e227f(0x1b5)),_0x2b6ee0=_0x31d0ab[_0x1e227f(0xb6)](_0x1e227f(0x164)),_0x192cac=_0x4ada27[_0x1e227f(0x1bc)](),_0x335ba5=[];function _0x236d9c(){var _0x34072a=_0x1e227f;_0x58426c[_0x34072a(0x13c)]='',_0x192cac[_0x34072a(0xa5)](function(_0x1e1033){var _0x49a376=_0x34072a;return _0x1e1033[_0x49a376(0xe9)][_0x49a376(0x144)]()[_0x49a376(0xce)](_0x44bc3e[_0x49a376(0xb0)][_0x49a376(0x144)]())!==-0x1;})[_0x34072a(0x94)](function(_0x1dff2c){var _0x4c67ad=_0x34072a,_0x27cad7=document[_0x4c67ad(0x8e)](_0x4c67ad(0x195));_0x27cad7[_0x4c67ad(0x115)]=_0x1dff2c['setName'],_0x27cad7[_0x4c67ad(0xbb)][_0x4c67ad(0x119)]=_0x1dff2c[_0x4c67ad(0xe6)],_0x58426c[_0x4c67ad(0x109)](_0x27cad7),_0x27cad7['addEventListener']('click',function(){var _0x2cec78=_0x4c67ad;_0x335ba5[_0x2cec78(0xd6)](_0x1dff2c),_0x192cac['splice'](_0x192cac['findIndex'](function(_0x30e332){return _0x30e332['setCode']===_0x1dff2c['setCode'];}),0x1),_0x44bc3e['value']='',_0x5b4da0(),_0x236d9c();});});}function _0x5b4da0(){var _0x47149c=_0x1e227f;_0x2b6ee0[_0x47149c(0x13c)]='',_0x335ba5[_0x47149c(0x94)](function(_0x28a288){var _0x4784a2=_0x47149c,_0x1feaa0=document['createElement']('div');_0x1feaa0[_0x4784a2(0x191)]=_0x4784a2(0x1ac),_0x1feaa0[_0x4784a2(0x115)]=_0x28a288[_0x4784a2(0xe9)];var _0x104471=document[_0x4784a2(0x8e)](_0x4784a2(0x15c));_0x104471[_0x4784a2(0x191)]=_0x4784a2(0x98),_0x104471['textContent']='×',_0x104471[_0x4784a2(0xb1)](_0x4784a2(0x177),function(){_0x192cac['push'](_0x28a288);const _0x33549a=_0x335ba5['findIndex'](function(_0x4f7200){var _0xd1090f=_0x27c3;return _0x4f7200[_0xd1090f(0xe6)]===_0x28a288[_0xd1090f(0xe6)];});if(_0x33549a>-0x1)_0x335ba5['splice'](_0x33549a,0x1);_0x5b4da0(),_0x236d9c();}),_0x1feaa0['appendChild'](_0x104471),_0x2b6ee0['appendChild'](_0x1feaa0);}),_0x31d0ab[_0x47149c(0xa9)](new CustomEvent(_0x47149c(0xf7),{'bubbles':!![]}));}return _0x44bc3e[_0x1e227f(0xb1)](_0x1e227f(0xfc),function(){var _0x566256=_0x1e227f;_0x58426c['classList']['remove'](_0x566256(0xdd));}),_0x44bc3e[_0x1e227f(0xb1)](_0x1e227f(0x151),_0x236d9c),_0x44bc3e[_0x1e227f(0xb1)]('keydown',function(_0x14b776){var _0x5c1bd0=_0x1e227f;if(_0x14b776[_0x5c1bd0(0x12d)]===_0x5c1bd0(0xf9)){_0x14b776[_0x5c1bd0(0x1a0)]();const _0x49f97b=_0x44bc3e['value'][_0x5c1bd0(0x80)]();if(!_0x49f97b)return;const _0x29831a=_0x335ba5[_0x5c1bd0(0x165)](_0x4b3d69=>_0x4b3d69['setName']===_0x49f97b),_0x4131d6=_0x192cac[_0x5c1bd0(0x165)](_0x3bd3a6=>_0x3bd3a6[_0x5c1bd0(0xe9)]===_0x49f97b);if(!_0x29831a&&!_0x4131d6){const _0x49a7f3={'setCode':_0x49f97b,'setName':_0x49f97b};_0x335ba5[_0x5c1bd0(0xd6)](_0x49a7f3),_0x5b4da0(),_0x236d9c();}_0x44bc3e[_0x5c1bd0(0xb0)]='';}}),document['addEventListener'](_0x1e227f(0x177),function(_0x5cd783){var _0x1d83d9=_0x1e227f;if(!_0x31d0ab[_0x1d83d9(0xc4)](_0x5cd783[_0x1d83d9(0x14f)]))_0x58426c[_0x1d83d9(0x184)]['add'](_0x1d83d9(0xdd));}),_0x236d9c(),_0x335ba5;}function getLastCode(_0x33984d){var _0x17adf5=_0x1e7b23;const _0x8cda9d=_0x33984d['map'](_0x296c69=>String(_0x296c69[_0x17adf5(0x141)])[_0x17adf5(0x80)]())[_0x17adf5(0xa5)](_0x3b8ea4=>_0x3b8ea4!=='');if(_0x8cda9d[_0x17adf5(0xa6)]===0x0)return'';const _0x5e4927=_0x8cda9d[_0x17adf5(0x174)](_0x516621=>/^\d+$/[_0x17adf5(0x18b)](_0x516621));if(_0x5e4927){const _0x4c3fc2=_0x8cda9d['map'](Number),_0x2a6345=Math[_0x17adf5(0xb5)](..._0x4c3fc2);return String(_0x2a6345);}let _0x454737;if(typeof Intl!==_0x17adf5(0x1a7)&&Intl['Collator']){const _0xa3564b=new Intl[(_0x17adf5(0xc3))](undefined,{'numeric':!![],'sensitivity':_0x17adf5(0x7b)});_0x454737=_0x8cda9d[_0x17adf5(0x1bc)]()['sort'](_0xa3564b[_0x17adf5(0x13d)]);}else{const _0x14b4ed=_0x8cda9d['every'](_0x296072=>/^\d+$/[_0x17adf5(0x18b)](_0x296072));_0x14b4ed?_0x454737=_0x8cda9d[_0x17adf5(0xec)](Number)[_0x17adf5(0x15d)]((_0x4456aa,_0x14d6f6)=>_0x4456aa-_0x14d6f6)[_0x17adf5(0xec)](String):_0x454737=_0x8cda9d[_0x17adf5(0x1bc)]()[_0x17adf5(0x15d)]();}return _0x454737[_0x454737['length']-0x1];}function _0x3f23(){var _0x28b7f6=['children','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemTaxId','defineProperty','variantForm','offline_operations','.unitSelect','objectStore','.branchChk','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setUnidadCodigo','parse','innerHTML','compare','blur','.priceInput','newItem_images_container','setCodProducto','(((.+)+)+)+$','setDefault','toLowerCase','Nuevo\x20Producto','setItemUnitId','none','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','bind','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','image/*','407546clxyVw','newItem_chk_buy','setSucursalStock','target','3678729ACkoRa','input','setInventariable','setItemInventoriable','setMtoPrecioCostoUnitario','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','download','items','347067eDqMje','dragover','name','setWarehouseCode','span','sort','#newItem_categories_select\x20.options_list','revokeObjectURL','readwrite','status','setCantidad','default','.selected_tags','some','error','setBatchExpirationDate','selectedItem','inputItemCode','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.prod_input_container','_units_container','message','oncomplete','newItem_proditems_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.removeGroup','setDescripcion','every','active','</label>','click','dragenter','.removeCombo','warn','.branchMin','drop','setItemImages','inputItemBarCode','\x20items.','isArray','.branchInit','option','setItemBarCode','classList','<div\x20class=\x22newItem_col\x22>','ERROR:\x20plainProducts\x20no\x20serializable:','modalOverlayCreateItem','_comp_container','accept','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','test','.variantCode','986796xCYIxI','stringify','Producto\x20Guardado\x20Offline\x20Correctamente.','1101991qFnxAU','className','div[data-default=\x22true\x22]\x20.eqInput','#newItem_units_container\x20>\x20div','setAlias','div','setMoneda','includes','setMtoPrecioUnitario','arrayBuffer','Ingresa\x20el\x20nombre\x20del\x20item','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','block','.unitAlias','\x22\x20value=\x22','newItem_btn_addUnit','preventDefault','disabled','[id$=\x22_comp_container\x22]','newItem_btn_addVariantGroup','.vgVals','newItem_brands_select','setUnitName','undefined','\x20items\x20procesados.','.variantForm','createObjectURL','progress','tag','file','setWarehouseId','fill','.drop-zone__prompt','files','4NlpbTP','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','Error\x20al\x20procesar\x20la\x20operación:','.options_list','setItemIsBought','search','windowId','apply','newItem_branches_container','setItemWarehouses','slice','\x22\x20class=\x22branchChk\x22\x20checked>\x20','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','newItem_chk_sell','setIdProducto','dataTransfer','entries','closest','return\x20(function()\x20','parentNode','base','match','change','54eDBSJk','.variantExpiry','trim','add','info','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','assign','costInput','.removeVariant','<img\x20src=\x22','inputItemDateExpiry','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','onmessage','detalleModalCreateItem','newItem_units_container','setCategoria','createElement','reduce','setWarehouseName','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','remove','dragleave','forEach','style','productType1','setItemComponents','remove-tag','remove-file','setItemBrands','Items\x20finales:','setIdSucursal','setItemName','setCost','from','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','setItemFree','setItemUnits','checked','join','filter','length','{}.constructor(\x22return\x20this\x22)(\x20)','newItem_categories_select','dispatchEvent','newItem_variant_groups','exportItems','unitSelect','PEN','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','idx','value','addEventListener','setWebhook','log','setItemIsSold','max','querySelector','type','transaction','#newItem_brands_select\x20.selected_tags','padStart','dataset','setItemCode','setConversionFactor','setAuthToken','.prodQty','toISOString','table','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Collator','contains','.removeProd','priceInput','inputItemDescription','setStockMinimum','inputItemTax','setUnits','2oSWoWq','constructor','find','indexOf','setImpuestoName','vals','.variantBarCode','upload-btn','currency','currentTarget','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','push','4776435vrpzWZ','newItem_title_table_cp','sucursales','done','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setWarehouseStockMin','newItem_hidden','.vgName','stopPropagation','setItemVariantValues','.removeUnit','setImpuestoCode','setCostUSD','#newItem_branches_container\x20>\x20div','result','setCode','setItemDescription','40uxPcrs','setName','hidden','btnItemSave','map','setPriceUSD','split','</div>','Error\x20al\x20obtener\x20la\x20plantilla:\x20','application/octet-stream','closeModalCreateItem','.costInput','setPrice','style=\x22display:none\x22','selected','selectionChange','setStockInitial','Enter','setUnitCode','inputItemName','focus','✅\x20Exportación\x20completada:\x20','setTaxIdDefault','toggle','setItemTaxCode','_branch_container','console','setItemId','exception','./js/apierp_item_wk.min.js','modalProductNewTitle','percent','setImpuestoValue','appendChild','inputItemType','setImpuestos','setItemVariantName','querySelectorAll','./img/product.png','display','setItemType','currency_data','.eqInput','getElementById','postMessage','textContent','toString','variant_','.prodInput','code','eqInput','.addVariantUnit','❌\x20Error:\x20','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','string','setItemCategories','true','100','setMarca','setFactor','readAsDataURL','setItemDateExpiry','1935130xnbxBo','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','newItem_addToCart','__proto__','setItemTaxValue','USD','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','key','setTaxId','newItem_variants_forms'];_0x3f23=function(){return _0x28b7f6;};return _0x3f23();}function getNextCode(_0x3eb3bf){var _0x5a65ee=_0x1e7b23;const _0x24d525=getLastCode(_0x3eb3bf);if(!_0x24d525)return'';if(/^\d+$/['test'](_0x24d525))return String(Number(_0x24d525)+0x1);const _0x2479dd=_0x24d525[_0x5a65ee(0x7c)](/^([A-Za-z]*)(\d+)$/);if(_0x2479dd){const [,_0x1051e9,_0x3079f2]=_0x2479dd,_0xe370ff=String(Number(_0x3079f2)+0x1)[_0x5a65ee(0xba)](_0x3079f2[_0x5a65ee(0xa6)],'0');return _0x1051e9+_0xe370ff;}return _0x24d525;}document['getElementById'](_0x1e7b23(0xfb))[_0x1e7b23(0xb1)](_0x1e7b23(0x151),function(_0x19fee4){var _0x35f2d8=_0x1e7b23;baseItem[_0x35f2d8(0x9d)]=_0x19fee4[_0x35f2d8(0x14f)][_0x35f2d8(0xb0)];}),document[_0x1e7b23(0x113)](_0x1e7b23(0xc7))[_0x1e7b23(0xb1)](_0x1e7b23(0x151),function(_0x11458d){var _0x1e112f=_0x1e7b23;baseItem['setItemDescription']=_0x11458d[_0x1e112f(0x14f)][_0x1e112f(0xb0)];}),document[_0x1e7b23(0x113)](_0x1e7b23(0x88))[_0x1e7b23(0xb1)](_0x1e7b23(0x151),function(_0x49a6ea){var _0x3838d0=_0x1e7b23;baseItem[_0x3838d0(0x125)]=_0x49a6ea[_0x3838d0(0x14f)][_0x3838d0(0xb0)];}),document['getElementById'](_0x1e7b23(0x10a))[_0x1e7b23(0xb1)](_0x1e7b23(0x7d),function(_0x5c6721){var _0x2e20f1=_0x1e7b23;baseItem[_0x2e20f1(0x110)]=_0x5c6721[_0x2e20f1(0x14f)][_0x2e20f1(0xb0)];}),document['getElementById'](_0x1e7b23(0xc9))['addEventListener'](_0x1e7b23(0x7d),function(_0x4b42dd){var _0x3dfd9c=_0x1e7b23;baseItem['setItemTaxId']=_0x4b42dd[_0x3dfd9c(0x14f)][_0x3dfd9c(0xb0)];const _0x46448d=_0x4b42dd['target']['value'],_0xba3ad9=company[0x0][_0x3dfd9c(0x10b)][_0x3dfd9c(0xcd)](_0x15b8d0=>_0x15b8d0[_0x3dfd9c(0x12e)]==_0x46448d)?.[_0x3dfd9c(0xe2)]||0x0,_0x373f65=company[0x0][_0x3dfd9c(0x10b)][_0x3dfd9c(0xcd)](_0x54a69b=>_0x54a69b[_0x3dfd9c(0x12e)]==_0x46448d)?.['setImpuestoValue']||0x0;baseItem[_0x3dfd9c(0x100)]=_0xba3ad9,baseItem[_0x3dfd9c(0x12a)]=_0x373f65;}),document['getElementById'](_0x1e7b23(0x14d))[_0x1e7b23(0xb1)](_0x1e7b23(0x7d),function(_0xcfaea6){var _0x19297c=_0x1e7b23;baseItem['setItemIsBought']=_0xcfaea6[_0x19297c(0x14f)][_0x19297c(0xa3)];}),document[_0x1e7b23(0x113)](_0x1e7b23(0x1bf))[_0x1e7b23(0xb1)](_0x1e7b23(0x7d),function(_0x343694){var _0x10c98a=_0x1e7b23;baseItem[_0x10c98a(0xb4)]=_0x343694['target'][_0x10c98a(0xa3)];}),document['getElementById'](_0x1e7b23(0x169))['addEventListener'](_0x1e7b23(0x151),function(_0x3114f5){var _0x4ddda0=_0x1e7b23;baseItem[_0x4ddda0(0xbc)]=_0x3114f5[_0x4ddda0(0x14f)][_0x4ddda0(0xb0)];}),document[_0x1e7b23(0x113)](_0x1e7b23(0x17e))[_0x1e7b23(0xb1)](_0x1e7b23(0x151),function(_0x44950c){var _0x20f2ec=_0x1e7b23;baseItem['setItemBarCode']=_0x44950c[_0x20f2ec(0x14f)][_0x20f2ec(0xb0)];}),document[_0x1e7b23(0x113)](_0x1e7b23(0x19f))['addEventListener'](_0x1e7b23(0x177),function(){addUnit(),updateUnitsArray();}),document[_0x1e7b23(0x113)]('inputItemCode')['addEventListener'](_0x1e7b23(0x13e),function(){var _0x269dfd=_0x1e7b23;const _0x5bbae4=this[_0x269dfd(0xb0)]['trim']();if(_0x5bbae4==='')return;const _0x3a225e=products[_0x269dfd(0x165)](_0x7a6f73=>_0x7a6f73['setCodProducto']==_0x5bbae4),_0x1b02a8=getLastCode(products);_0x3a225e?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x1b02a8,0x2,0x1):ntfShow(_0x269dfd(0xc2),0x1,0x1);});function removeImg(_0x17e412){var _0x50943a=_0x1e7b23;currentImages[_0x17e412]=null;var _0x144fa1=imgC['querySelector']('[data-idx=\x22'+_0x17e412+'\x22]');_0x144fa1['innerHTML']='';var _0x54a982=document[_0x50943a(0x8e)](_0x50943a(0x151));_0x54a982['type']=_0x50943a(0x1ad),_0x54a982[_0x50943a(0x189)]='image/*',_0x54a982['style'][_0x50943a(0x10f)]=_0x50943a(0x147);var _0x4bacc8=document[_0x50943a(0x8e)](_0x50943a(0x15c));_0x4bacc8[_0x50943a(0x115)]='+',_0x144fa1[_0x50943a(0x109)](_0x54a982),_0x144fa1[_0x50943a(0x109)](_0x4bacc8),_0x144fa1[_0x50943a(0xb1)](_0x50943a(0x177),function(){_0x54a982['click']();}),baseItem[_0x50943a(0x17d)]=currentImages[_0x50943a(0xa5)](function(_0x55e03b){return _0x55e03b;});}function addUnit(_0x137622,_0x35f2d2,_0x786c1d,_0x351ab6,_0x10227c,_0xa8d7fa,_0x49dae9){var _0x19a585=_0x1e7b23,_0x3f06a6=uniqueValuesArray(_0x19a585(0xfa),_0x19a585(0x1a6),myCompany[_0x19a585(0xca)]);_0x137622=_0x137622||'',_0x35f2d2=_0x35f2d2||_0x3f06a6[0x3a]&&_0x3f06a6[0x3a][_0x19a585(0xe6)]||'',_0x786c1d=_0x786c1d!==undefined?_0x786c1d:0x1,_0x351ab6=!!_0x351ab6,_0x10227c=_0x10227c||'',_0xa8d7fa=_0xa8d7fa||'';var _0x129e93=unitCount++,_0x4f1573=document[_0x19a585(0x8e)]('div');_0x4f1573[_0x19a585(0xbb)][_0x19a585(0xaf)]=_0x129e93,_0x4f1573[_0x19a585(0xbb)][_0x19a585(0x163)]=_0x351ab6,_0x4f1573['innerHTML']='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x129e93+_0x19a585(0x19e)+_0x137622+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x129e93+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x129e93+'\x22\x20value=\x22'+_0x786c1d+'\x22\x20'+(_0x351ab6?_0x19a585(0x1a1):'')+_0x19a585(0x12c)+_0x129e93+_0x19a585(0x19e)+_0x10227c+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0x129e93+_0x19a585(0x19e)+_0xa8d7fa+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x351ab6?_0x19a585(0xf5):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x4f1573[_0x19a585(0xb6)]('.unitSelect'),_0x3f06a6,'setCode','setName'),_0x4f1573[_0x19a585(0xb6)](_0x19a585(0x136))['value']=_0x35f2d2,['unitAlias',_0x19a585(0xac),_0x19a585(0x11a),_0x19a585(0xc6),_0x19a585(0x85)]['forEach'](function(_0x186598){var _0x5c58bb=_0x19a585;_0x4f1573[_0x5c58bb(0xb6)]('.'+_0x186598)[_0x5c58bb(0xb1)](_0x5c58bb(0x151),function(){var _0x1ef268=_0x5c58bb,_0x6bd4a7=_0x49dae9?+_0x49dae9['id'][_0x1ef268(0xee)]('_')[0x1]:null;if(_0x49dae9)updateVariantUnits(_0x6bd4a7);else updateUnitsArray();});}),_0x4f1573[_0x19a585(0xb6)](_0x19a585(0xe1))[_0x19a585(0xb1)](_0x19a585(0x177),function(){var _0x368be4=_0x19a585;_0x4f1573[_0x368be4(0x92)]();var _0x23916b=_0x49dae9?+_0x49dae9['id'][_0x368be4(0xee)]('_')[0x1]:null;if(_0x49dae9)updateVariantUnits(_0x23916b);else updateUnitsArray();});var _0x1d3adb=_0x49dae9||document[_0x19a585(0x113)](_0x19a585(0x8c));_0x1d3adb[_0x19a585(0x109)](_0x4f1573);}function containerIdx(_0x6e7d54){return+_0x6e7d54['id']['split']('_')[0x1];}function updateUnitsArray(){var _0xc8e438=_0x1e7b23,_0x38893d=[],_0x29b617=Array['from'](document[_0xc8e438(0x10d)](_0xc8e438(0x193))),_0x2f161b=_0x29b617[_0xc8e438(0xcd)](_0x163380=>_0x163380[_0xc8e438(0xbb)][_0xc8e438(0x163)]==='true'),_0x2545e3=_0x2f161b?+_0x2f161b['querySelector'](_0xc8e438(0x112))[_0xc8e438(0xb0)]:0x1;_0x29b617[_0xc8e438(0x94)](function(_0x3704fa){var _0x26d5df=_0xc8e438,_0x430df0=+_0x3704fa[_0x26d5df(0xb6)](_0x26d5df(0x112))['value']||0x0,_0x5093f9=+_0x3704fa['querySelector'](_0x26d5df(0x13f))[_0x26d5df(0xb0)]||0x0,_0x5cf276=+_0x3704fa['querySelector'](_0x26d5df(0xf3))[_0x26d5df(0xb0)]||0x0;_0x38893d[_0x26d5df(0xd6)]({'setAlias':_0x3704fa[_0x26d5df(0xb6)](_0x26d5df(0x19d))[_0x26d5df(0xb0)]['trim'](),'setUnitCode':_0x3704fa['querySelector']('.unitSelect')[_0x26d5df(0xb0)],'setEquivalence':_0x430df0,'setFactor':_0x3704fa['dataset']['default']===_0x26d5df(0x120)?0x1:_0x430df0==_0x2545e3?0x1:_0x430df0<_0x2545e3?_0x2545e3/_0x430df0:_0x430df0/_0x2545e3,'setPrice':_0x5093f9,'setCost':_0x5cf276,'setDefault':_0x3704fa[_0x26d5df(0xbb)]['default']==='true'?0x1:0x0});}),baseItem[_0xc8e438(0xa2)]=_0x38893d;}function updateBranches(){var _0xe72084=_0x1e7b23,_0x7e0bb1=[];document[_0xe72084(0x10d)](_0xe72084(0xe4))[_0xe72084(0x94)](function(_0x15d207){var _0xa85ce4=_0xe72084,_0x2322c5=_0x15d207[_0xa85ce4(0xb6)](_0xa85ce4(0x138));if(_0x2322c5[_0xa85ce4(0xa3)]){var _0x1f4799=+_0x2322c5[_0xa85ce4(0xbb)]['id'],_0x4fcfa4=+_0x15d207[_0xa85ce4(0xb6)](_0xa85ce4(0x181))['value'],_0x5d7fcb=+_0x15d207['querySelector'](_0xa85ce4(0x17b))[_0xa85ce4(0xb0)];_0x7e0bb1[_0xa85ce4(0xd6)]({'setWarehouseCode':_0x1f4799,'setStockInitial':_0x4fcfa4,'setStockMinimum':_0x5d7fcb});}}),baseItem[_0xe72084(0x1bb)]=_0x7e0bb1;}document[_0x1e7b23(0x113)]('newItem_btn_addProdItem')[_0x1e7b23(0xb1)](_0x1e7b23(0x177),function(){var _0x1a8d94=_0x1e7b23,_0x4c4430=Date['now'](),_0x3d2d35=document[_0x1a8d94(0x8e)]('div');_0x3d2d35['dataset'][_0x1a8d94(0xaf)]=_0x4c4430,_0x3d2d35['innerHTML']=_0x1a8d94(0x1b3)+_0x4c4430+_0x1a8d94(0x11d)+_0x4c4430+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x1a8d94(0x109)](_0x3d2d35),initProdSearch(_0x3d2d35[_0x1a8d94(0xb6)]('.prod_input_container')),_0x3d2d35[_0x1a8d94(0xb6)](_0x1a8d94(0xc5))[_0x1a8d94(0xb1)](_0x1a8d94(0x177),function(){var _0x2d68b6=_0x1a8d94;_0x3d2d35[_0x2d68b6(0x92)](),updateProdItems();}),_0x3d2d35[_0x1a8d94(0xb6)](_0x1a8d94(0xbf))[_0x1a8d94(0xb1)](_0x1a8d94(0x151),updateProdItems),document[_0x1a8d94(0x113)](_0x1a8d94(0xd8))[_0x1a8d94(0x184)][_0x1a8d94(0xff)]('newItem_title_table',!![]),document[_0x1a8d94(0x113)]('newItem_title_table_cp')[_0x1a8d94(0x184)][_0x1a8d94(0xff)]('newItem_hidden',![]);});function initProdSearch(_0x406923,_0x1d192a){var _0x52ef87=_0x1e7b23,_0x2fd2b3=_0x406923[_0x52ef87(0xb6)](_0x52ef87(0x118)),_0x434f59=_0x406923[_0x52ef87(0xb6)](_0x52ef87(0x1b5)),_0x128482=_0x1d192a||null;if(_0x1d192a)_0x2fd2b3[_0x52ef87(0xb0)]=_0x1d192a['name'];_0x2fd2b3[_0x52ef87(0xb1)]('input',function(){var _0x22b013=_0x52ef87,_0x50530b=_0x2fd2b3[_0x22b013(0xb0)][_0x22b013(0x144)]()[_0x22b013(0x80)]();_0x434f59[_0x22b013(0x13c)]='';if(!_0x50530b)return;products[_0x22b013(0xa5)](_0x4a96aa=>_0x4a96aa[_0x22b013(0x173)][_0x22b013(0x144)]()[_0x22b013(0x197)](_0x50530b))[_0x22b013(0x1bc)](0x0,0x14)[_0x22b013(0x94)](function(_0x4d40c3){var _0xcf8828=_0x22b013,_0x1de4a0=document[_0xcf8828(0x8e)](_0xcf8828(0x195));_0x1de4a0[_0xcf8828(0x115)]=_0x4d40c3['setDescripcion'],_0x1de4a0[_0xcf8828(0xbb)]['id']=_0x4d40c3['id'],_0x1de4a0['dataset'][_0xcf8828(0x15a)]=_0x4d40c3[_0xcf8828(0x173)],_0x434f59[_0xcf8828(0x109)](_0x1de4a0),_0x1de4a0[_0xcf8828(0xb1)](_0xcf8828(0x177),function(){var _0x3993f6=_0xcf8828;_0x128482={'id':_0x4d40c3['id'],'name':_0x4d40c3['setDescripcion']},_0x2fd2b3[_0x3993f6(0xb0)]=_0x4d40c3[_0x3993f6(0x173)],_0x434f59[_0x3993f6(0x13c)]='';var _0x407f0e=_0x406923[_0x3993f6(0x78)](_0x3993f6(0x1a2));if(_0x407f0e){var _0x5d5fbd=+_0x407f0e['id'][_0x3993f6(0xee)]('_')[0x1];updateVariantComponents(_0x5d5fbd);}else updateProdItems();});});}),_0x2fd2b3[_0x52ef87(0xb1)]('focus',function(){var _0x4358c9=_0x52ef87;_0x434f59[_0x4358c9(0x184)][_0x4358c9(0x92)](_0x4358c9(0xdd));}),document[_0x52ef87(0xb1)](_0x52ef87(0x177),function(_0x22f74c){var _0x282619=_0x52ef87;if(!_0x406923[_0x282619(0xc4)](_0x22f74c[_0x282619(0x14f)]))_0x434f59[_0x282619(0x184)]['add'](_0x282619(0xdd));}),Object[_0x52ef87(0x133)](_0x406923,'selectedItem',{'get':()=>_0x128482});}function updateProdItems(){var _0x36b175=_0x1e7b23,_0x5b65d7=[];Array[_0x36b175(0x9f)](prodC[_0x36b175(0x130)])[_0x36b175(0x94)](function(_0x1e8ab8){var _0x17971f=_0x36b175,_0x116743=_0x1e8ab8[_0x17971f(0xb6)](_0x17971f(0x16b));if(!_0x116743)return;var _0x47d5a9=_0x1e8ab8[_0x17971f(0xb6)]('.prodQty'),_0x51f8d9=_0x116743[_0x17971f(0x168)];_0x51f8d9&&_0x5b65d7[_0x17971f(0xd6)]({'setItemId':_0x51f8d9['id'],'setDescripcion':_0x51f8d9[_0x17971f(0x15a)],'setCantidad':+_0x47d5a9[_0x17971f(0xb0)]});}),baseItem[_0x36b175(0x97)]=_0x5b65d7,_0x5b65d7['length']===0x0&&(document[_0x36b175(0x113)](_0x36b175(0xd8))[_0x36b175(0x184)][_0x36b175(0xff)]('newItem_title_table',![]),document[_0x36b175(0x113)]('newItem_title_table_cp')[_0x36b175(0x184)][_0x36b175(0xff)](_0x36b175(0xdd),!![]));}document[_0x1e7b23(0x113)](_0x1e7b23(0x1a3))[_0x1e7b23(0xb1)](_0x1e7b23(0x177),function(){var _0x5799b4=_0x1e7b23,_0x127580=vgCount++,_0xbfa87b=document[_0x5799b4(0x8e)](_0x5799b4(0x195));_0xbfa87b[_0x5799b4(0xbb)][_0x5799b4(0xaf)]=_0x127580,_0xbfa87b[_0x5799b4(0x13c)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x127580+'\x22>'+_0x5799b4(0x89)+_0x127580+'\x22>'+_0x5799b4(0x127),vgC[_0x5799b4(0x109)](_0xbfa87b),_0xbfa87b[_0x5799b4(0xb6)]('.vgName')[_0x5799b4(0xb1)](_0x5799b4(0x13e),generateVariants),_0xbfa87b[_0x5799b4(0xb6)](_0x5799b4(0x1a4))[_0x5799b4(0xb1)]('blur',generateVariants),_0xbfa87b[_0x5799b4(0xb6)](_0x5799b4(0x172))[_0x5799b4(0xb1)](_0x5799b4(0x177),function(){var _0x5c6593=_0x5799b4;_0xbfa87b[_0x5c6593(0x92)](),generateVariants();});});function generateVariants(){var _0x2b9f0e=_0x1e7b23,_0x4393cf=[];vgC[_0x2b9f0e(0x10d)](_0x2b9f0e(0x195))[_0x2b9f0e(0x94)](function(_0x4f6821){var _0x2c274a=_0x2b9f0e,_0x55d529=_0x4f6821['querySelector'](_0x2c274a(0xde))[_0x2c274a(0xb0)]['trim'](),_0x534ce4=_0x4f6821[_0x2c274a(0xb6)](_0x2c274a(0x1a4))[_0x2c274a(0xb0)][_0x2c274a(0xee)](',')['map'](_0xfbc0db=>_0xfbc0db['trim']())[_0x2c274a(0xa5)](_0xf76ed8=>_0xf76ed8);if(_0x55d529&&_0x534ce4['length'])_0x4393cf[_0x2c274a(0xd6)]({'name':_0x55d529,'vals':_0x534ce4});});var _0x5f46df=[{}];_0x4393cf[_0x2b9f0e(0x94)](function(_0x5babee){_0x5f46df=_0x5f46df['flatMap'](function(_0x533964){var _0x1f8b52=_0x27c3;return _0x5babee[_0x1f8b52(0xd0)][_0x1f8b52(0xec)](function(_0x317039){var _0x4ff901=Object['assign']({},_0x533964);return _0x4ff901[_0x5babee['name']]=_0x317039,_0x4ff901;});});}),newItems=[],varContainer['innerHTML']='',_0x5f46df[_0x2b9f0e(0x94)](function(_0x41409c,_0x371a2f){var _0x109567=_0x2b9f0e,_0xaf279e=JSON[_0x109567(0x13b)](JSON[_0x109567(0x18e)](baseItem));_0xaf279e[_0x109567(0xe0)]=_0x41409c,_0xaf279e['setItemVariantName']=baseItem[_0x109567(0x9d)]+'\x20'+Object[_0x109567(0x77)](_0x41409c)['map'](_0x1d42de=>_0x1d42de[0x0]+'\x20'+_0x1d42de[0x1])[_0x109567(0xa4)]('\x20'),newItems[_0x109567(0xd6)](_0xaf279e);var _0x5b39e1=document[_0x109567(0x8e)](_0x109567(0x195));_0x5b39e1[_0x109567(0x184)][_0x109567(0x81)](_0x109567(0x134)),_0x5b39e1[_0x109567(0xbb)]['idx']=_0x371a2f,_0x5b39e1['innerHTML']='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0xaf279e[_0x109567(0x10c)]+_0x109567(0xd5)+_0xaf279e[_0x109567(0xbc)]+_0x109567(0x1be)+_0xaf279e['setItemBarCode']+_0x109567(0x18a)+_0xaf279e[_0x109567(0x125)]+_0x109567(0x148)+_0x371a2f+_0x109567(0x91)+_0x371a2f+_0x109567(0x83)+_0x371a2f+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x5b39e1),_0x5b39e1[_0x109567(0xb6)](_0x109567(0x18c))[_0x109567(0xb1)](_0x109567(0x151),_0x1fa424=>newItems[_0x371a2f]['setItemCode']=_0x1fa424[_0x109567(0x14f)]['value']),_0x5b39e1[_0x109567(0xb6)](_0x109567(0xd1))['addEventListener'](_0x109567(0x151),_0xda35fe=>newItems[_0x371a2f][_0x109567(0x183)]=_0xda35fe[_0x109567(0x14f)][_0x109567(0xb0)]),_0x5b39e1[_0x109567(0xb6)](_0x109567(0x7f))[_0x109567(0xb1)](_0x109567(0x7d),_0x391e80=>newItems[_0x371a2f][_0x109567(0x125)]=_0x391e80['target'][_0x109567(0xb0)]),initVariantUnits(_0x371a2f),initVariantComponents(_0x371a2f),initVariantBranches(_0x371a2f),_0x5b39e1[_0x109567(0xb6)](_0x109567(0x86))[_0x109567(0xb1)](_0x109567(0x177),function(){var _0x4750af=_0x109567,_0x4eb826=+_0x5b39e1[_0x4750af(0xbb)][_0x4750af(0xaf)];newItems['splice'](_0x4eb826,0x1),_0x5b39e1['remove'](),document[_0x4750af(0x10d)](_0x4750af(0x1a9))[_0x4750af(0x94)](function(_0x423d8e,_0x49c46b){var _0x177148=_0x4750af;_0x423d8e[_0x177148(0xbb)][_0x177148(0xaf)]=_0x49c46b;});});});if(newItems[_0x2b9f0e(0xa6)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0xcc63){var _0x16dd3d=_0x1e7b23,_0x3113f1=document['getElementById'](_0x16dd3d(0x117)+_0xcc63+_0x16dd3d(0x16c)),_0x159a8a=[];Array[_0x16dd3d(0x9f)](_0x3113f1['children'])[_0x16dd3d(0x94)](function(_0x3c6e58){var _0x546645=_0x16dd3d,_0x2d7f6b=+_0x3c6e58['querySelector']('.eqInput')['value']||0x0,_0x5542bc=_0x3c6e58[_0x546645(0xb6)](_0x546645(0x19d))[_0x546645(0xb0)][_0x546645(0x80)](),_0x50170c=_0x3c6e58[_0x546645(0xb6)](_0x546645(0x136))[_0x546645(0xb0)],_0x2f2637=+_0x3c6e58[_0x546645(0xb6)](_0x546645(0x13f))[_0x546645(0xb0)]||0x0,_0x1531a2=+_0x3c6e58[_0x546645(0xb6)](_0x546645(0xf3))[_0x546645(0xb0)]||0x0,_0x76e6d4=_0x3c6e58[_0x546645(0xbb)][_0x546645(0x163)]===_0x546645(0x120),_0x3f24a8=+_0x3113f1[_0x546645(0xb6)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x546645(0xb0)]||0x1,_0x5e8e49=_0x76e6d4?0x1:_0x2d7f6b==_0x3f24a8?0x1:_0x2d7f6b<_0x3f24a8?_0x3f24a8/_0x2d7f6b:_0x2d7f6b/_0x3f24a8;_0x159a8a['push']({'setAlias':_0x5542bc,'setUnitCode':_0x50170c,'setEquivalence':_0x2d7f6b,'setFactor':_0x5e8e49,'setPrice':_0x2f2637,'setCost':_0x1531a2,'setDefault':_0x76e6d4?0x1:0x0});}),newItems[_0xcc63]['setItemUnits']=_0x159a8a;}function initVariantUnits(_0x2ded18){var _0x5b2166=_0x1e7b23,_0x181190=document[_0x5b2166(0x113)](_0x5b2166(0x117)+_0x2ded18+'_units_container');_0x181190['innerHTML']='',newItems[_0x2ded18][_0x5b2166(0xa2)][_0x5b2166(0x94)](function(_0x30c83d){var _0x11b023=_0x5b2166;addUnit(_0x30c83d['setAlias'],_0x30c83d[_0x11b023(0xfa)],_0x30c83d['setEquivalence'],_0x30c83d[_0x11b023(0x143)],_0x30c83d[_0x11b023(0xf4)],_0x30c83d[_0x11b023(0x9e)],_0x181190);}),_0x181190[_0x5b2166(0x7a)][_0x5b2166(0xb6)](_0x5b2166(0x11b))[_0x5b2166(0xb1)](_0x5b2166(0x177),function(){addUnit('','',0x1,![],'','',_0x181190),updateVariantUnits(_0x2ded18);});}function updateVariantUnits(_0x17faf0){var _0x3987bd=_0x1e7b23,_0x4d0932=document['getElementById']('variant_'+_0x17faf0+_0x3987bd(0x16c)),_0x43d272=_0x4d0932[_0x3987bd(0xb6)](_0x3987bd(0x192)),_0x14ad46=_0x43d272?+_0x43d272['value']:0x1,_0x52421b=Array['from'](_0x4d0932[_0x3987bd(0x130)])[_0x3987bd(0xec)](function(_0x477652){var _0x373b69=_0x3987bd,_0x13e78c=_0x477652['querySelector']('.unitAlias')[_0x373b69(0xb0)]['trim'](),_0x1fc9e6=_0x477652['querySelector'](_0x373b69(0x136))[_0x373b69(0xb0)],_0x3990df=+_0x477652[_0x373b69(0xb6)](_0x373b69(0x112))['value']||0x0,_0x51c880=+_0x477652[_0x373b69(0xb6)](_0x373b69(0x13f))[_0x373b69(0xb0)]||0x0,_0x37866d=+_0x477652[_0x373b69(0xb6)]('.costInput')[_0x373b69(0xb0)]||0x0,_0x29bcef=_0x477652[_0x373b69(0xbb)]['default']===_0x373b69(0x120);return{'setAlias':_0x13e78c,'setUnitCode':_0x1fc9e6,'setEquivalence':_0x3990df,'setFactor':_0x29bcef?0x1:_0x3990df==_0x14ad46?0x1:_0x3990df<_0x14ad46?_0x14ad46/_0x3990df:_0x3990df/_0x14ad46,'setPrice':_0x51c880,'setCost':_0x37866d,'setDefault':_0x29bcef?0x1:0x0};});newItems[_0x17faf0][_0x3987bd(0xa2)]=_0x52421b;}function initVariantComponents(_0x1140cd){var _0x5cea6e=_0x1e7b23,_0x341a8f=document[_0x5cea6e(0x113)](_0x5cea6e(0x117)+_0x1140cd+_0x5cea6e(0x188));_0x341a8f[_0x5cea6e(0x13c)]='',newItems[_0x1140cd][_0x5cea6e(0x97)]['forEach'](function(_0x675da5){var _0x3ebfbd=_0x5cea6e,_0x5298f7=document[_0x3ebfbd(0x8e)]('div'),_0x9b046=Date['now']();_0x5298f7[_0x3ebfbd(0xbb)][_0x3ebfbd(0xaf)]=_0x9b046,_0x5298f7[_0x3ebfbd(0x13c)]=_0x3ebfbd(0x19b)+_0x9b046+_0x3ebfbd(0x16a)+_0x675da5[_0x3ebfbd(0x162)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x341a8f[_0x3ebfbd(0x109)](_0x5298f7),initProdSearch(_0x5298f7['querySelector'](_0x3ebfbd(0x16b)),{'id':_0x675da5[_0x3ebfbd(0x103)],'name':_0x675da5[_0x3ebfbd(0x173)]}),_0x5298f7[_0x3ebfbd(0xb6)]('.prodQty')[_0x3ebfbd(0xb1)](_0x3ebfbd(0x151),function(){updateVariantComponents(_0x1140cd);}),_0x5298f7[_0x3ebfbd(0xb6)](_0x3ebfbd(0x179))[_0x3ebfbd(0xb1)](_0x3ebfbd(0x177),function(){var _0x433eb1=_0x3ebfbd;_0x5298f7[_0x433eb1(0x92)](),updateVariantComponents(_0x1140cd);});}),_0x341a8f[_0x5cea6e(0x7a)][_0x5cea6e(0xb6)]('.addVariantComp')[_0x5cea6e(0xb1)](_0x5cea6e(0x177),function(){var _0xe9622f=_0x5cea6e,_0x32cc66=document[_0xe9622f(0x8e)](_0xe9622f(0x195)),_0x262480=Date['now']();_0x32cc66['dataset'][_0xe9622f(0xaf)]=_0x262480,_0x32cc66['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x262480+_0xe9622f(0x139),_0x341a8f[_0xe9622f(0x109)](_0x32cc66),initProdSearch(_0x32cc66[_0xe9622f(0xb6)](_0xe9622f(0x16b))),_0x32cc66[_0xe9622f(0xb6)](_0xe9622f(0xbf))[_0xe9622f(0xb1)]('input',function(){updateVariantComponents(_0x1140cd);}),_0x32cc66[_0xe9622f(0xb6)](_0xe9622f(0x179))['addEventListener'](_0xe9622f(0x177),function(){var _0x17d31d=_0xe9622f;_0x32cc66[_0x17d31d(0x92)](),updateVariantComponents(_0x1140cd);});});}function updateVariantComponents(_0x46376d){var _0x5096fb=_0x1e7b23,_0xef71ff=document[_0x5096fb(0x113)]('variant_'+_0x46376d+_0x5096fb(0x188)),_0x52a49c=Array[_0x5096fb(0x9f)](_0xef71ff[_0x5096fb(0x130)])[_0x5096fb(0xec)](function(_0x497f1e){var _0x5cd896=_0x5096fb,_0x512936=_0x497f1e[_0x5cd896(0xb6)](_0x5cd896(0x16b)),_0x21270d=_0x512936[_0x5cd896(0x168)],_0x1e866e=+_0x497f1e[_0x5cd896(0xb6)](_0x5cd896(0xbf))[_0x5cd896(0xb0)]||0x0;return _0x21270d?{'setItemId':_0x21270d['id'],'setDescripcion':_0x21270d[_0x5cd896(0x15a)],'setCantidad':_0x1e866e}:null;})['filter'](_0x30278c=>_0x30278c);newItems[_0x46376d][_0x5096fb(0x97)]=_0x52a49c;}function initVariantBranches(_0x8accf3){var _0x11c143=_0x1e7b23;const _0x4a5cbe=getAllWarehouses();var _0x51cb45=document[_0x11c143(0x113)](_0x11c143(0x117)+_0x8accf3+_0x11c143(0x101));_0x51cb45['innerHTML']='',newItems[_0x8accf3]['setItemWarehouses'][_0x11c143(0x94)](function(_0x2d41c1){var _0xa16637=_0x11c143,_0x1fd99f=_0x4a5cbe[_0xa16637(0xcd)](_0x2c6284=>_0x2c6284[_0xa16637(0x1ae)]==_0x2d41c1['setWarehouseCode']),_0x1dbcaf=document[_0xa16637(0x8e)]('div');_0x1dbcaf[_0xa16637(0x13c)]=_0xa16637(0x131)+_0x2d41c1[_0xa16637(0x15b)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x1fd99f['setWarehouseName']+_0xa16637(0x155)+_0x2d41c1['setWarehouseCode']+_0xa16637(0x19e)+_0x2d41c1[_0xa16637(0xf8)]+_0xa16637(0x171)+_0x2d41c1[_0xa16637(0x15b)]+'\x22\x20value=\x22'+_0x2d41c1[_0xa16637(0xc8)]+'\x22>',_0x51cb45[_0xa16637(0x109)](_0x1dbcaf),_0x1dbcaf[_0xa16637(0x10d)](_0xa16637(0x151))[_0xa16637(0x94)](function(_0x58f316){var _0x2b24ce=_0xa16637;_0x58f316['addEventListener'](_0x2b24ce(0x151),function(){updateVariantBranches(_0x8accf3);});});}),_0x4a5cbe['forEach'](function(_0x1a0fb7){var _0xfc8949=_0x11c143;if(!newItems[_0x8accf3][_0xfc8949(0x1bb)][_0xfc8949(0xcd)](_0x523e36=>_0x523e36['setWarehouseCode']===_0x1a0fb7[_0xfc8949(0x1ae)])){var _0x2229f0=document[_0xfc8949(0x8e)](_0xfc8949(0x195));_0x2229f0[_0xfc8949(0x13c)]=_0xfc8949(0x131)+_0x1a0fb7['setWarehouseId']+'\x22\x20class=\x22branchChk\x22>\x20'+_0x1a0fb7[_0xfc8949(0x90)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1a0fb7[_0xfc8949(0x1ae)]+_0xfc8949(0x171)+_0x1a0fb7[_0xfc8949(0x1ae)]+'\x22>',_0x51cb45[_0xfc8949(0x109)](_0x2229f0),_0x2229f0[_0xfc8949(0x10d)](_0xfc8949(0x151))[_0xfc8949(0x94)](function(_0x2bc014){var _0x1cd748=_0xfc8949;_0x2bc014[_0x1cd748(0xb1)](_0x1cd748(0x151),function(){updateVariantBranches(_0x8accf3);});});}});}function updateVariantBranches(_0x473c2e){var _0x136a9e=_0x1e7b23,_0x542f37=document[_0x136a9e(0x113)](_0x136a9e(0x117)+_0x473c2e+_0x136a9e(0x101)),_0x800b7c=[];_0x542f37[_0x136a9e(0x10d)](_0x136a9e(0x195))[_0x136a9e(0x94)](function(_0x1090cf){var _0x39b870=_0x136a9e,_0x2d9190=_0x1090cf[_0x39b870(0xb6)](_0x39b870(0x138));if(_0x2d9190[_0x39b870(0xa3)]){var _0x1b7b16=+_0x2d9190[_0x39b870(0xbb)]['id'],_0xbf15d=+_0x1090cf['querySelector'](_0x39b870(0x181))[_0x39b870(0xb0)]||0x0,_0xfcbd13=+_0x1090cf['querySelector'](_0x39b870(0x17b))[_0x39b870(0xb0)]||0x0;_0x800b7c[_0x39b870(0xd6)]({'setWarehouseCode':_0x1b7b16,'setStockInitial':_0xbf15d,'setStockMinimum':_0xfcbd13});}}),newItems[_0x473c2e][_0x136a9e(0x1bb)]=_0x800b7c;}async function storeOfflineProduct(_0x25df82){var _0x12a22d=_0x1e7b23;try{const _0x259098=await createCartStore(''),_0x563fa8=_0x259098[_0x12a22d(0xb8)](_0x12a22d(0x135),_0x12a22d(0x160)),_0x25d6a5=_0x563fa8[_0x12a22d(0x137)](_0x12a22d(0x135));_0x25d6a5['add'](_0x25df82),_0x563fa8[_0x12a22d(0x16e)]=()=>{var _0xc27d34=_0x12a22d;console[_0xc27d34(0xb3)](_0xc27d34(0x18f));},_0x563fa8['onerror']=_0x2b4826=>{var _0x5405c1=_0x12a22d;console[_0x5405c1(0x166)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x2b4826['target'][_0x5405c1(0x166)]);};}catch(_0x4d70e2){console[_0x12a22d(0x166)](_0x12a22d(0x1b4),_0x4d70e2);}}document[_0x1e7b23(0x113)](_0x1e7b23(0xeb))['addEventListener'](_0x1e7b23(0x177),async function(_0x18af28){var _0x3f534e=_0x1e7b23;_0x18af28[_0x3f534e(0x1a0)]();const _0x32036b=document['getElementById'](_0x3f534e(0x169)),_0x260f42=document[_0x3f534e(0x113)](_0x3f534e(0xa1))[_0x3f534e(0xb0)];if(!_0x32036b[_0x3f534e(0xb0)]['trim']()&&_0x260f42==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x260f42==0x1&&(_0x32036b[_0x3f534e(0xb0)]='',baseItem[_0x3f534e(0xbc)]='');const _0x58c9a5=document[_0x3f534e(0x113)](_0x3f534e(0xfb));if(!_0x58c9a5['value'][_0x3f534e(0x80)]()){ntfShow(_0x3f534e(0x19a),0x2,0x1);return;}const _0x5ebd3c=document[_0x3f534e(0x113)](_0x3f534e(0x128));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x2e4538=document['getElementById'](_0x3f534e(0x1b8))[_0x3f534e(0xb0)],_0x3dbf53=window_options[_0x2e4538][_0x3f534e(0x196)],_0x4eb35a=[];newItems['forEach'](_0x4b963a=>{var _0xf72455=_0x3f534e;const _0xdc4a6d=generateNumericUniqId();_0x4b963a[_0xf72455(0xa2)]['forEach'](_0x48381f=>{var _0x1a0440=_0xf72455;const _0x595b78=generateNumericUniqId();_0x48381f[_0x1a0440(0x146)]=_0x595b78;const _0x2ad12c={'id':_0x595b78,'setIdProducto':_0xdc4a6d,'setCodProducto':_0x4b963a[_0x1a0440(0xbc)],'setDescripcion':_0x4b963a[_0x1a0440(0x9d)],'setItemDescription':_0x4b963a[_0x1a0440(0xe7)],'setBatchExpirationDate':_0x4b963a[_0x1a0440(0x125)],'setBatchName':'','setCategoria':_0x4b963a[_0x1a0440(0x11f)][0x0]||'','setMarca':_0x4b963a[_0x1a0440(0x9a)][0x0]||'','setConversionFactor':parseFloat(_0x48381f[_0x1a0440(0x123)]),'setImages':[],'setImg':_0x1a0440(0x10e),'setInventariable':0x1,'setItemIsBought':_0x4b963a['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x4b963a[_0x1a0440(0xb4)]?0x1:0x0,'setPorcentajeIgv':_0x4b963a[_0x1a0440(0x12a)],'setPrinters':[],'setTaxId':_0x4b963a['setItemTaxId'],'setTipAfeIgv':_0x4b963a[_0x1a0440(0x100)],'setUnidad':_0x48381f[_0x1a0440(0xfa)],'setUnidadCodigo':_0x48381f[_0x1a0440(0xfa)],'setItemUnitAlias':_0x48381f[_0x1a0440(0x194)],'currency_data':[{'currency':_0x3dbf53,'setMtoPrecioCostoUnitario':_0x48381f[_0x1a0440(0x9e)],'setMtoPrecioUnitario':_0x48381f['setPrice'],'setPriceLists':[]}],'sucursales':_0x4b963a[_0x1a0440(0x1bb)][_0x1a0440(0xec)](_0x5f0801=>({'setIdSucursal':_0x5f0801['setWarehouseCode'],'setSucursalStock':_0x5f0801[_0x1a0440(0xf8)][_0x1a0440(0x116)](),'setWarehouseStockMin':_0x5f0801[_0x1a0440(0xc8)][_0x1a0440(0x116)]()})),'setItemFree':_0x4b963a['setItemFree'],'setItemBarCode':_0x4b963a[_0x1a0440(0x183)],'setItemBrands':_0x4b963a['setItemBrands'][_0x1a0440(0x1bc)](),'setItemCategories':_0x4b963a[_0x1a0440(0x11f)][_0x1a0440(0x1bc)](),'setItemComponents':_0x4b963a[_0x1a0440(0x97)][_0x1a0440(0xec)](_0x8630ce=>({..._0x8630ce})),'setItemImages':_0x4b963a[_0x1a0440(0x17d)]['slice'](),'setItemVariantName':_0x4b963a[_0x1a0440(0x10c)],'setItemVariantValues':{..._0x4b963a[_0x1a0440(0xe0)]}};_0x4eb35a[_0x1a0440(0xd6)](_0x2ad12c),(_0x5ebd3c['checked']||_0x260f42==0x1)&&addToCart(_0x2ad12c);});}),console[_0x3f534e(0xb3)](_0x3f534e(0x9b),newItems),await finalizeImport(_0x4eb35a,newItems,![]);}),[_0x1e7b23(0x178),_0x1e7b23(0x159)][_0x1e7b23(0x94)](_0x5a25d9=>dropZone['addEventListener'](_0x5a25d9,_0x5a17ec=>{var _0x441740=_0x1e7b23;_0x5a17ec['preventDefault'](),dropZone[_0x441740(0x184)][_0x441740(0x81)]('dragover');})),[_0x1e7b23(0x93),_0x1e7b23(0x17c)][_0x1e7b23(0x94)](_0x1371d0=>dropZone[_0x1e7b23(0xb1)](_0x1371d0,_0x2ad785=>{var _0x20fcea=_0x1e7b23;_0x2ad785[_0x20fcea(0x1a0)](),dropZone['classList'][_0x20fcea(0x92)](_0x20fcea(0x159));})),dropZone[_0x1e7b23(0xb1)]('drop',_0x5b27ce=>{var _0x56b4ba=_0x1e7b23;const _0x4cc118=_0x5b27ce['dataTransfer'][_0x56b4ba(0x1b1)][0x0];if(!_0x4cc118)return;fileInput[_0x56b4ba(0x1b1)]=_0x5b27ce[_0x56b4ba(0x76)][_0x56b4ba(0x1b1)],dropZone[_0x56b4ba(0xb6)](_0x56b4ba(0x1b0))[_0x56b4ba(0x115)]=_0x4cc118[_0x56b4ba(0x15a)],removeBtn['hidden']=![],fileInput[_0x56b4ba(0xa9)](new Event(_0x56b4ba(0x7d)));}),removeBtn['addEventListener'](_0x1e7b23(0x177),()=>{var _0xfb12d5=_0x1e7b23;fileInput[_0xfb12d5(0xb0)]='',dropZone[_0xfb12d5(0xb6)]('.drop-zone__prompt')[_0xfb12d5(0x115)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0xfb12d5(0xea)]=!![],progressBar[_0xfb12d5(0x95)]['display']='none',statusDiv['textContent']='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x1e7b23(0x113)]('btnExportarItems');exportBtn[_0x1e7b23(0xb1)](_0x1e7b23(0x177),onClickExportarItems);async function onClickExportarItems(){var _0x3a14b6=_0x1e7b23;if(!Array[_0x3a14b6(0x180)](products)||!products[_0x3a14b6(0xa6)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x45065e=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x45065e['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x1cb5dd=await _0x45065e[_0x3a14b6(0x199)](),_0x1b2565=document['getElementById']('setWarehouseId')[_0x3a14b6(0xb0)],_0x14aca6=products[_0x3a14b6(0xa5)](_0x2fbe84=>Array[_0x3a14b6(0x180)](_0x2fbe84[_0x3a14b6(0xd9)])&&_0x2fbe84['sucursales'][_0x3a14b6(0x165)](_0x26adae=>String(_0x26adae[_0x3a14b6(0x9c)])==String(_0x1b2565))),_0x3df51c=_0x14aca6[_0x3a14b6(0x8f)]((_0x388973,_0x4f4e3e)=>{var _0x5e2921=_0x3a14b6;const _0xf543d9=_0x4f4e3e[_0x5e2921(0x1c0)];if(!_0x388973[_0xf543d9])_0x388973[_0xf543d9]=[];return _0x388973[_0xf543d9][_0x5e2921(0xd6)](_0x4f4e3e),_0x388973;},{}),_0x6314e0=Object['values'](_0x3df51c)['map'](_0x4e40f0=>{var _0x1113ae=_0x3a14b6;const _0x50e256=_0x4e40f0[0x0],_0x22cbde=_0x4e40f0[0x1]||{};function _0x1b9cdc(_0xdb8170,_0xfabf14,_0x57624e){var _0xa18f55=_0x27c3;if(!_0xdb8170||!Array[_0xa18f55(0x180)](_0xdb8170[_0xa18f55(0x111)]))return'';const _0x4d803d=_0xdb8170[_0xa18f55(0x111)][_0xa18f55(0xcd)](_0x327fac=>_0x327fac[_0xa18f55(0xd3)]===_0xfabf14);return _0x4d803d?_0x4d803d[_0x57624e]:'';}return{'id':_0x50e256[_0x1113ae(0x1c0)],'setItemType':_0x50e256[_0x1113ae(0x110)],'setCodProducto':_0x50e256[_0x1113ae(0x141)],'setDescripcion':_0x50e256['setDescripcion'],'setItemDescription':_0x50e256[_0x1113ae(0xe7)],'setCategoria':_0x50e256[_0x1113ae(0x8d)],'setMarca':_0x50e256['setMarca'],'setTaxId':_0x50e256[_0x1113ae(0x12e)],'setUnitId':_0x50e256['id'],'setItemBarCode':_0x50e256[_0x1113ae(0x183)],'setUnidadCodigo':_0x50e256[_0x1113ae(0x13a)],'PEN_setMtoPrecioUnitario':_0x1b9cdc(_0x50e256,_0x1113ae(0xad),_0x1113ae(0x198)),'PEN_setMtoPrecioCostoUnitario':_0x1b9cdc(_0x50e256,_0x1113ae(0xad),_0x1113ae(0x154)),'USD_setMtoPrecioUnitario':_0x1b9cdc(_0x50e256,_0x1113ae(0x12b),_0x1113ae(0x198)),'USD_setMtoPrecioCostoUnitario':_0x1b9cdc(_0x50e256,'USD',_0x1113ae(0x154)),'setUnitId2':_0x22cbde['id']??'','setItemBarCode2':_0x22cbde[_0x1113ae(0x183)]??'','setUnidadCodigo2':_0x22cbde[_0x1113ae(0x13a)]??'','setUnidadEquivalencia2':_0x22cbde[_0x1113ae(0xbd)]??'','PEN_setMtoPrecioUnitario2':_0x1b9cdc(_0x22cbde,_0x1113ae(0xad),_0x1113ae(0x198))??'','PEN_setMtoPrecioCostoUnitario2':_0x1b9cdc(_0x22cbde,_0x1113ae(0xad),_0x1113ae(0x154))??'','USD_setMtoPrecioUnitario2':_0x1b9cdc(_0x22cbde,'USD',_0x1113ae(0x198))??'','USD_setMtoPrecioCostoUnitario2':_0x1b9cdc(_0x22cbde,_0x1113ae(0x12b),_0x1113ae(0x154))??'','setInventariable':_0x50e256[_0x1113ae(0x152)],'setSucursalStock':_0x50e256['sucursales'][_0x1113ae(0xcd)](_0x8ca952=>String(_0x8ca952['setIdSucursal'])==String(_0x1b2565))[_0x1113ae(0x14e)],'setWarehouseStockMin':_0x50e256[_0x1113ae(0xd9)][_0x1113ae(0xcd)](_0x5a0aa8=>String(_0x5a0aa8['setIdSucursal'])==String(_0x1b2565))[_0x1113ae(0xdc)],'setBatchName':_0x50e256['setBatchName'],'setBatchExpirationDate':_0x50e256[_0x1113ae(0x167)],..._0x50e256['setItemVariantValues']};});try{JSON[_0x3a14b6(0x18e)](_0x6314e0);}catch(_0x313a81){console[_0x3a14b6(0x166)](_0x3a14b6(0x186),_0x313a81),ntfShow(_0x3a14b6(0x14a));return;}statusDiv[_0x3a14b6(0x115)]='Generando\x20Excel...',progressBar['style'][_0x3a14b6(0x10f)]=_0x3a14b6(0x19c),progressBar[_0x3a14b6(0xb0)]=0x0,itemWorker[_0x3a14b6(0x114)]({'action':_0x3a14b6(0xab),'products':_0x6314e0,'plantillaBuf':_0x1cb5dd},[_0x1cb5dd]);}catch(_0x5724b4){console[_0x3a14b6(0x166)](_0x5724b4),ntfShow(_0x3a14b6(0xf0)+_0x5724b4[_0x3a14b6(0x16d)]);}}itemWorker[_0x1e7b23(0x8a)]=({data:_0x402f53})=>{var _0x7a87df=_0x1e7b23;const {type:_0x33b8e1,payload:_0x45d49f}=_0x402f53;_0x33b8e1===_0x7a87df(0x1ab)&&(progressBar[_0x7a87df(0x95)]['display']=_0x7a87df(0x19c),progressBar[_0x7a87df(0xb0)]=_0x45d49f[_0x7a87df(0x107)],statusDiv['textContent']=_0x45d49f[_0x7a87df(0x16d)]);_0x33b8e1===_0x7a87df(0xda)&&(newItemsExcel=_0x45d49f[_0x7a87df(0x157)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x7a87df(0xa6)]+_0x7a87df(0x1a8),uploadBtn[_0x7a87df(0x1a1)]=![],progressBar[_0x7a87df(0xb0)]=0x64,console[_0x7a87df(0xb3)](newItemsExcel));_0x33b8e1===_0x7a87df(0x166)&&(statusDiv['textContent']=_0x7a87df(0x11c)+_0x45d49f,progressBar[_0x7a87df(0x95)]['display']=_0x7a87df(0x147));if(_0x33b8e1==='exportDone'){const {wbout:_0x504ed8,count:_0x49324d}=_0x45d49f,_0x26b89b=new Blob([_0x504ed8],{'type':_0x7a87df(0xf1)}),_0x1d99c5=URL[_0x7a87df(0x1aa)](_0x26b89b),_0x54fd5b=document[_0x7a87df(0x8e)]('a'),_0x103760=new Date()[_0x7a87df(0xc0)]()[_0x7a87df(0x1bc)](0x0,0xa);_0x54fd5b[_0x7a87df(0x156)]='Plantilla-Items-Export-'+_0x103760+'.xlsx',_0x54fd5b['href']=_0x1d99c5,_0x54fd5b[_0x7a87df(0x177)](),URL[_0x7a87df(0x15f)](_0x1d99c5),statusDiv[_0x7a87df(0x115)]=_0x7a87df(0xfd)+_0x49324d+_0x7a87df(0x17f),progressBar[_0x7a87df(0x95)]['display']=_0x7a87df(0x147);}},fileInput[_0x1e7b23(0xb1)]('change',async _0x3ead9d=>{var _0x5255d7=_0x1e7b23;const _0x18f541=_0x3ead9d[_0x5255d7(0x14f)][_0x5255d7(0x1b1)][0x0];if(!_0x18f541)return;uploadBtn[_0x5255d7(0x1a1)]=!![],newItemsExcel=null,statusDiv[_0x5255d7(0x115)]='',progressBar[_0x5255d7(0x95)]['display']='none',dropZone[_0x5255d7(0xb6)](_0x5255d7(0x1b0))['textContent']=_0x18f541[_0x5255d7(0x15a)],removeBtn['hidden']=![];try{const _0x1f797c=await _0x18f541[_0x5255d7(0x199)]();itemWorker[_0x5255d7(0x114)]({'action':'import','buf':_0x1f797c,'maxRows':0x1388});}catch(_0x291bc6){statusDiv[_0x5255d7(0x115)]=_0x5255d7(0xae);}finally{fileInput['value']='';}}),uploadBtn[_0x1e7b23(0xb1)](_0x1e7b23(0x177),async()=>{var _0x50c453=_0x1e7b23;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x42be08=document[_0x50c453(0x113)](_0x50c453(0x1ae))['value'],_0x49d49e=[];newItemsExcel['forEach'](_0x3d4d4d=>{var _0x1dd358=_0x50c453;const _0x442d84=Boolean(_0x3d4d4d['setItemId']),_0x48ae13=_0x442d84?_0x3d4d4d[_0x1dd358(0x103)]:generateNumericUniqId();_0x3d4d4d[_0x1dd358(0x1bb)]=[{'setStockInitial':_0x3d4d4d[_0x1dd358(0xf8)],'setStockMinimum':_0x3d4d4d[_0x1dd358(0xc8)],'setWarehouseCode':_0x42be08}],_0x3d4d4d[_0x1dd358(0xa2)]['forEach'](_0x5d5ff8=>{var _0x558d07=_0x1dd358;const _0x516db3=Boolean(_0x5d5ff8['setItemUnitId']),_0x57d9ea=_0x516db3?_0x5d5ff8['setItemUnitId']:generateNumericUniqId();_0x5d5ff8[_0x558d07(0x146)]=_0x57d9ea;const _0x6126e5=[];_0x6126e5['push']({'currency':'PEN','setMtoPrecioCostoUnitario':_0x5d5ff8[_0x558d07(0x9e)],'setMtoPrecioUnitario':_0x5d5ff8[_0x558d07(0xf4)],'setPriceLists':[]});const _0x244735=_0x5d5ff8[_0x558d07(0xe3)]!=null&&_0x5d5ff8['setPriceUSD']!=null&&(!isNaN(_0x5d5ff8[_0x558d07(0xe3)])||!isNaN(_0x5d5ff8['setPriceUSD']));_0x244735&&_0x6126e5[_0x558d07(0xd6)]({'currency':_0x558d07(0x12b),'setMtoPrecioCostoUnitario':_0x5d5ff8[_0x558d07(0xe3)],'setMtoPrecioUnitario':_0x5d5ff8[_0x558d07(0xed)],'setPriceLists':[]});const _0x5414f9={'id':_0x57d9ea,'setIdProducto':_0x48ae13,'setItemBarCode':_0x5d5ff8[_0x558d07(0x183)],'setCodProducto':_0x3d4d4d[_0x558d07(0xbc)],'setDescripcion':_0x3d4d4d['setItemName'],'setItemDescription':_0x3d4d4d[_0x558d07(0xe7)],'setBatchExpirationDate':_0x3d4d4d[_0x558d07(0x125)],'setBatchName':_0x3d4d4d['setBatchName'],'setCategoria':_0x3d4d4d[_0x558d07(0x11f)][0x0]||'','setMarca':_0x3d4d4d[_0x558d07(0x9a)][0x0]||'','setConversionFactor':parseFloat(_0x5d5ff8[_0x558d07(0x123)]),'setImages':[],'setImg':_0x558d07(0x10e),'setInventariable':_0x3d4d4d[_0x558d07(0x153)],'setItemIsBought':_0x3d4d4d[_0x558d07(0x1b6)],'setItemIsSold':_0x3d4d4d[_0x558d07(0xb4)],'setPorcentajeIgv':_0x3d4d4d[_0x558d07(0x12a)],'setPrinters':[],'setTaxId':_0x3d4d4d[_0x558d07(0x132)],'setTipAfeIgv':_0x3d4d4d[_0x558d07(0x100)],'setUnidad':_0x5d5ff8[_0x558d07(0xfa)],'setUnidadCodigo':_0x5d5ff8[_0x558d07(0xfa)],'setItemUnitAlias':_0x5d5ff8[_0x558d07(0x194)],'currency_data':_0x6126e5,'sucursales':_0x3d4d4d['setItemWarehouses'][_0x558d07(0xec)](_0x439369=>({'setIdSucursal':_0x439369[_0x558d07(0x15b)],'setSucursalStock':_0x439369[_0x558d07(0xf8)][_0x558d07(0x116)](),'setWarehouseStockMin':_0x439369[_0x558d07(0xc8)][_0x558d07(0x116)]()})),'setItemFree':_0x3d4d4d['setItemFree'],'setItemBrands':_0x3d4d4d[_0x558d07(0x9a)]['slice'](),'setItemCategories':_0x3d4d4d[_0x558d07(0x11f)][_0x558d07(0x1bc)](),'setItemComponents':_0x3d4d4d[_0x558d07(0x97)][_0x558d07(0xec)](_0x366083=>({..._0x366083})),'setItemImages':_0x3d4d4d['setItemImages'][_0x558d07(0x1bc)](),'setItemVariantName':_0x3d4d4d[_0x558d07(0x10c)],'setItemVariantValues':{..._0x3d4d4d['setItemVariantValues']}},_0x22c571=products['findIndex'](_0x2350dc=>_0x2350dc['id']==_0x57d9ea&&_0x2350dc[_0x558d07(0x1c0)]==_0x48ae13);_0x22c571>-0x1?Object[_0x558d07(0x84)](products[_0x22c571],_0x5414f9):_0x49d49e['push'](_0x5414f9);});}),console[_0x50c453(0xb3)](_0x50c453(0x9b),newItemsExcel),await finalizeImport(_0x49d49e,newItemsExcel,!![]);});function initializeFormImages(){var _0xf21c6b=_0x1e7b23;currentImages=Array(MAX_IMAGES)[_0xf21c6b(0x1af)](null),imgC[_0xf21c6b(0x13c)]='',baseItem[_0xf21c6b(0x17d)]=[];for(var _0x877030=0x0;_0x877030<MAX_IMAGES;_0x877030++){(function(_0x4d1364){var _0x4b9a02=_0xf21c6b,_0x2df8ac=document[_0x4b9a02(0x8e)](_0x4b9a02(0x195));_0x2df8ac[_0x4b9a02(0x191)]='image_box',_0x2df8ac[_0x4b9a02(0xbb)][_0x4b9a02(0xaf)]=_0x4d1364;var _0x5010e3=document[_0x4b9a02(0x8e)](_0x4b9a02(0x151));_0x5010e3[_0x4b9a02(0xb7)]=_0x4b9a02(0x1ad),_0x5010e3[_0x4b9a02(0x189)]=_0x4b9a02(0x14b),_0x5010e3[_0x4b9a02(0x95)][_0x4b9a02(0x10f)]=_0x4b9a02(0x147);var _0x4d0673=document[_0x4b9a02(0x8e)](_0x4b9a02(0x15c));_0x4d0673[_0x4b9a02(0x115)]='+',_0x2df8ac['appendChild'](_0x5010e3),_0x2df8ac[_0x4b9a02(0x109)](_0x4d0673),imgC[_0x4b9a02(0x109)](_0x2df8ac),_0x2df8ac[_0x4b9a02(0xb1)](_0x4b9a02(0x177),function(){var _0x41a0e4=_0x4b9a02;_0x5010e3[_0x41a0e4(0x177)]();}),_0x5010e3['addEventListener']('change',function(_0x1ed98d){var _0x539402=_0x4b9a02,_0x4a661e=_0x1ed98d['target']['files'][0x0];if(!_0x4a661e)return removeImg(_0x4d1364);var _0x35a560=new FileReader();_0x35a560['onload']=function(_0xc6b94c){var _0x352ea6=_0x27c3;_0x2df8ac[_0x352ea6(0x13c)]=_0x352ea6(0x87)+_0xc6b94c[_0x352ea6(0x14f)][_0x352ea6(0xe5)]+'\x22>';var _0xd34c9f=document[_0x352ea6(0x8e)](_0x352ea6(0x15c));_0xd34c9f[_0x352ea6(0x191)]='remove',_0xd34c9f[_0x352ea6(0x115)]='×',_0xd34c9f[_0x352ea6(0xb1)](_0x352ea6(0x177),function(_0x33344c){var _0x2b448a=_0x352ea6;_0x33344c[_0x2b448a(0xdf)](),removeImg(_0x4d1364);}),_0x2df8ac[_0x352ea6(0x109)](_0xd34c9f),currentImages[_0x4d1364]=_0x4a661e,baseItem[_0x352ea6(0x17d)]=currentImages[_0x352ea6(0xa5)](function(_0x5805ff){return _0x5805ff;});},_0x35a560[_0x539402(0x124)](_0x4a661e);});}(_0x877030));}}function initializeFormIsSoldIsBought(_0x2656f5=0x0){var _0x475cfb=_0x1e7b23;let _0x18b63b,_0x39797f;if(_0x2656f5!=0x0){const _0x3252a0=products[_0x475cfb(0xcd)](_0x5273c4=>_0x5273c4['id']==_0x2656f5);_0x18b63b=_0x3252a0[_0x475cfb(0x1b6)]==0x1||_0x3252a0[_0x475cfb(0x1b6)]==!![]?!![]:![],_0x39797f=_0x3252a0[_0x475cfb(0xb4)]==0x1||_0x3252a0[_0x475cfb(0xb4)]==!![]?!![]:![];}else _0x18b63b=!![],_0x39797f=!![];document[_0x475cfb(0x113)](_0x475cfb(0x14d))['checked']=_0x18b63b,document[_0x475cfb(0x113)]('newItem_chk_sell')[_0x475cfb(0xa3)]=_0x39797f,baseItem['setItemIsBought']=_0x18b63b,baseItem[_0x475cfb(0xb4)]=_0x39797f;}function initializeFormInputsBasic(_0x5eb54b=0x0){var _0x3f8114=_0x1e7b23;let _0x146d89,_0x6c85f2,_0x664bef,_0x1602ca,_0x32effc,_0x4342bb;if(_0x5eb54b!=0x0){const _0x3a5e15=products['find'](_0x19cf2f=>_0x19cf2f['id']==_0x5eb54b);_0x146d89=_0x3a5e15['setItemType']??'1',_0x6c85f2=_0x3a5e15[_0x3f8114(0x141)],_0x664bef=_0x3a5e15[_0x3f8114(0x173)],_0x1602ca=_0x3a5e15[_0x3f8114(0xe7)],_0x32effc=_0x3a5e15[_0x3f8114(0x167)]??'',_0x4342bb=_0x3a5e15[_0x3f8114(0x183)];}else _0x146d89='1',_0x6c85f2=getNextCode(products),_0x664bef='',_0x1602ca='',_0x32effc='',_0x4342bb='';document[_0x3f8114(0x113)](_0x3f8114(0x10a))[_0x3f8114(0xb0)]=_0x146d89,document[_0x3f8114(0x113)](_0x3f8114(0x169))[_0x3f8114(0xb0)]=_0x6c85f2,document[_0x3f8114(0x113)](_0x3f8114(0xfb))[_0x3f8114(0xb0)]=_0x664bef,document[_0x3f8114(0x113)]('inputItemDescription')[_0x3f8114(0xb0)]=_0x1602ca,document[_0x3f8114(0x113)](_0x3f8114(0x88))['value']=_0x32effc,document[_0x3f8114(0x113)](_0x3f8114(0x17e))[_0x3f8114(0xb0)]=_0x4342bb,baseItem[_0x3f8114(0x110)]=_0x146d89,baseItem[_0x3f8114(0xbc)]=_0x6c85f2,baseItem['setItemName']=_0x664bef,baseItem[_0x3f8114(0xe7)]=_0x1602ca,baseItem[_0x3f8114(0x125)]=_0x32effc,baseItem[_0x3f8114(0x183)]=_0x4342bb,document[_0x3f8114(0x113)](_0x3f8114(0x128))[_0x3f8114(0xa3)]=![];}function initializeFormTax(_0x53ecbb=0x0){var _0x3fe6c0=_0x1e7b23;let _0x3f19bb;if(_0x53ecbb!=0x0){const _0x386ad9=products[_0x3fe6c0(0xcd)](_0xcf9e8c=>_0xcf9e8c['id']==_0x53ecbb);_0x3f19bb=_0x386ad9['setTaxId'];}else _0x3f19bb=myCompany[_0x3fe6c0(0xfe)];const _0x46eaed=document[_0x3fe6c0(0x113)]('inputItemTax');_0x46eaed[_0x3fe6c0(0xb0)]=_0x3f19bb,baseItem[_0x3fe6c0(0x132)]=_0x3f19bb;const _0x1e8f56=company[0x0]['setImpuestos'][_0x3fe6c0(0xcd)](_0x496b06=>_0x496b06[_0x3fe6c0(0x12e)]==_0x3f19bb)?.['setImpuestoCode']||0x0,_0x1f5fe4=company[0x0][_0x3fe6c0(0x10b)][_0x3fe6c0(0xcd)](_0x53b05d=>_0x53b05d[_0x3fe6c0(0x12e)]==_0x3f19bb)?.[_0x3fe6c0(0x108)]||0x0;baseItem['setItemTaxCode']=_0x1e8f56,baseItem[_0x3fe6c0(0x12a)]=_0x1f5fe4;}function initializeFormCategoriesBrands(_0x154a21=0x0){var _0x3e9160=_0x1e7b23;baseItem[_0x3e9160(0x11f)]=[],baseItem[_0x3e9160(0x9a)]=[],document[_0x3e9160(0xb6)]('#newItem_categories_select\x20.selected_tags')[_0x3e9160(0x13c)]='',document[_0x3e9160(0xb6)](_0x3e9160(0x15e))['innerHTML']='',document[_0x3e9160(0xb6)](_0x3e9160(0xb9))[_0x3e9160(0x13c)]='',document[_0x3e9160(0xb6)]('#newItem_brands_select\x20.options_list')['innerHTML']='';const _0x5ab0ab=uniqueValuesArray(_0x3e9160(0x8d),'setCategoria',products),_0x2fbf20=uniqueValuesArray(_0x3e9160(0x122),_0x3e9160(0x122),products),_0x1c2c56=initMulti('newItem_categories_select',_0x5ab0ab),_0x419fbf=initMulti('newItem_brands_select',_0x2fbf20);document[_0x3e9160(0x113)](_0x3e9160(0xa8))[_0x3e9160(0xb1)]('selectionChange',function(_0x5c76c6){var _0x125fc3=_0x3e9160;baseItem[_0x125fc3(0x11f)]=_0x1c2c56['map'](_0x1c9fa4=>_0x1c9fa4[_0x125fc3(0xe6)]);}),document[_0x3e9160(0x113)](_0x3e9160(0x1a5))[_0x3e9160(0xb1)](_0x3e9160(0xf7),function(_0x24814b){var _0x1a3550=_0x3e9160;baseItem[_0x1a3550(0x9a)]=_0x419fbf[_0x1a3550(0xec)](_0x1a1095=>_0x1a1095['setCode']);});if(_0x154a21!=0x0){const _0x2e610e=products['find'](_0x212297=>_0x212297['id']==_0x154a21);if(_0x2e610e[_0x3e9160(0x8d)]){const _0x340da4=document[_0x3e9160(0x113)](_0x3e9160(0xa8)),_0x5e5035=Array['from'](_0x340da4['querySelectorAll']('.options_list\x20div'))[_0x3e9160(0xcd)](_0x33e30c=>_0x33e30c[_0x3e9160(0xbb)][_0x3e9160(0x119)]==_0x2e610e[_0x3e9160(0x8d)]);_0x5e5035&&_0x5e5035[_0x3e9160(0x177)]();}if(_0x2e610e['setMarca']){const _0x350921=document[_0x3e9160(0x113)]('newItem_brands_select'),_0x42b02c=Array[_0x3e9160(0x9f)](_0x350921['querySelectorAll']('.options_list\x20div'))[_0x3e9160(0xcd)](_0x285dab=>_0x285dab[_0x3e9160(0xbb)][_0x3e9160(0x119)]==_0x2e610e['setMarca']);_0x42b02c&&_0x42b02c[_0x3e9160(0x177)]();}}}function initializeFormUnits(){var _0x193b0a=_0x1e7b23;unitCount=0x0,document['getElementById']('newItem_units_container')['innerHTML']='',baseItem['setItemUnits']=[];var _0xdd6a94=uniqueValuesArray(_0x193b0a(0xfa),_0x193b0a(0x1a6),myCompany[_0x193b0a(0xca)]);addUnit('',_0xdd6a94[0x3a]&&_0xdd6a94[0x3a][_0x193b0a(0xe6)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x2bb761=_0x1e7b23;prodC[_0x2bb761(0x13c)]='',baseItem[_0x2bb761(0x97)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x45b5e0=_0x1e7b23;branchesC[_0x45b5e0(0x13c)]='',baseItem['setItemWarehouses']=[];const _0x54f806=getAllWarehouses();_0x54f806['forEach'](function(_0x296fb5){var _0x38d1a2=_0x45b5e0,_0x389c87=document['createElement'](_0x38d1a2(0x195));_0x389c87[_0x38d1a2(0x13c)]=_0x38d1a2(0xa0)+'<div\x20class=\x22newItem_col\x22>'+_0x38d1a2(0xdb)+_0x296fb5[_0x38d1a2(0x1ae)]+_0x38d1a2(0x1bd)+_0x296fb5[_0x38d1a2(0x90)]+_0x38d1a2(0x176)+_0x38d1a2(0xef)+'<div\x20class=\x22newItem_col\x22>'+_0x38d1a2(0x170)+_0x296fb5[_0x38d1a2(0x1ae)]+'\x22>'+'</div>'+_0x38d1a2(0x185)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x296fb5['setWarehouseId']+'\x22>'+_0x38d1a2(0xef)+_0x38d1a2(0xef),branchesC['appendChild'](_0x389c87),_0x389c87[_0x38d1a2(0x10d)](_0x38d1a2(0x151))[_0x38d1a2(0x94)](function(_0x335ea6){var _0xfb4acf=_0x38d1a2;_0x335ea6[_0xfb4acf(0xb1)](_0xfb4acf(0x151),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5883fb=_0x1e7b23;baseItem[_0x5883fb(0x10c)]='',baseItem[_0x5883fb(0xe0)]={},vgC[_0x5883fb(0x13c)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x10bf8f,_0x4469cb,_0x12be2d=![]){var _0x294cd=_0x1e7b23;const _0x4fa718=0xc8,_0x59635b={'apiPOSsendOffline':'1','setTipoOperacion':_0x294cd(0x121),'setToken':company[0x0][_0x294cd(0xbe)],'setWebhook':company[0x0][_0x294cd(0xb2)]};for(let _0x5201b7=0x0;_0x5201b7<_0x4469cb['length'];_0x5201b7+=_0x4fa718){const _0x44b654=_0x4469cb['slice'](_0x5201b7,_0x5201b7+_0x4fa718);await storeOfflineProduct({..._0x59635b,'newItems':_0x44b654});}products[_0x294cd(0xd6)](..._0x10bf8f),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x12be2d?(fileInput[_0x294cd(0xb0)]='',uploadBtn[_0x294cd(0x1a1)]=!![],statusDiv['textContent']='',progressBar['style'][_0x294cd(0x10f)]=_0x294cd(0x147),progressBar[_0x294cd(0xb0)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}