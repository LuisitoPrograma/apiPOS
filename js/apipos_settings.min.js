/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.3
*/

(function(_0x372425,_0x3616b5){var _0x431aa8=_0x5a09,_0x1f8db0=_0x372425();while(!![]){try{var _0x5b78dd=parseInt(_0x431aa8(0xf2))/0x1+parseInt(_0x431aa8(0x10e))/0x2+parseInt(_0x431aa8(0xa9))/0x3+-parseInt(_0x431aa8(0xa0))/0x4*(parseInt(_0x431aa8(0x9f))/0x5)+parseInt(_0x431aa8(0x10c))/0x6+-parseInt(_0x431aa8(0xcb))/0x7*(parseInt(_0x431aa8(0xfa))/0x8)+parseInt(_0x431aa8(0xb4))/0x9*(-parseInt(_0x431aa8(0xdd))/0xa);if(_0x5b78dd===_0x3616b5)break;else _0x1f8db0['push'](_0x1f8db0['shift']());}catch(_0x362c2d){_0x1f8db0['push'](_0x1f8db0['shift']());}}}(_0x5b31,0xf1017));var _0x5cfc5e=(function(){var _0x1a760f=!![];return function(_0x4b1190,_0x3be2d4){var _0x4fb335=_0x1a760f?function(){var _0x24fbbf=_0x5a09;if(_0x3be2d4){var _0x1e7c22=_0x3be2d4[_0x24fbbf(0xbe)](_0x4b1190,arguments);return _0x3be2d4=null,_0x1e7c22;}}:function(){};return _0x1a760f=![],_0x4fb335;};}()),_0x475a65=_0x5cfc5e(this,function(){var _0x35d6f0=_0x5a09;return _0x475a65[_0x35d6f0(0xac)]()[_0x35d6f0(0xab)](_0x35d6f0(0xef))[_0x35d6f0(0xac)]()[_0x35d6f0(0xcf)](_0x475a65)[_0x35d6f0(0xab)](_0x35d6f0(0xef));});_0x475a65();var _0x34ab6b=(function(){var _0x163234=!![];return function(_0x192cd3,_0x307c20){var _0x245bc2=_0x163234?function(){var _0x190545=_0x5a09;if(_0x307c20){var _0x259b75=_0x307c20[_0x190545(0xbe)](_0x192cd3,arguments);return _0x307c20=null,_0x259b75;}}:function(){};return _0x163234=![],_0x245bc2;};}()),_0x36ad2a=_0x34ab6b(this,function(){var _0x10f268=_0x5a09,_0x5b2738=function(){var _0x1cba6e=_0x5a09,_0x522ae7;try{_0x522ae7=Function(_0x1cba6e(0xda)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4c626c){_0x522ae7=window;}return _0x522ae7;},_0x448a16=_0x5b2738(),_0x8c4e7b=_0x448a16['console']=_0x448a16[_0x10f268(0xf3)]||{},_0x239fc8=['log',_0x10f268(0xc5),_0x10f268(0xa4),_0x10f268(0xe4),_0x10f268(0xec),_0x10f268(0xd5),_0x10f268(0xd7)];for(var _0x333533=0x0;_0x333533<_0x239fc8[_0x10f268(0xbf)];_0x333533++){var _0x215624=_0x34ab6b[_0x10f268(0xcf)][_0x10f268(0xe5)][_0x10f268(0xa8)](_0x34ab6b),_0x89baa4=_0x239fc8[_0x333533],_0x57c7e0=_0x8c4e7b[_0x89baa4]||_0x215624;_0x215624['__proto__']=_0x34ab6b['bind'](_0x34ab6b),_0x215624[_0x10f268(0xac)]=_0x57c7e0['toString'][_0x10f268(0xa8)](_0x57c7e0),_0x8c4e7b[_0x89baa4]=_0x215624;}});_0x36ad2a();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];function _0x5a09(_0x493406,_0x53f9df){var _0x46e854=_0x5b31();return _0x5a09=function(_0x36ad2a,_0x34ab6b){_0x36ad2a=_0x36ad2a-0x9f;var _0x4d0d22=_0x46e854[_0x36ad2a];return _0x4d0d22;},_0x5a09(_0x493406,_0x53f9df);}async function apiERPupdateUsersOnline(_0x24b75f,_0x3fe470){var _0x2ad7f9=_0x5a09;if(!isOnline())return console['log'](_0x2ad7f9(0xb3)),Promise['reject']('Error\x20Network.');const _0x5d0e37={'setAuthToken':_0x24b75f,'setUsers':_0x3fe470};return fetch('https://apierp.dev/api/users/update/',{'method':_0x2ad7f9(0xc0),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2ad7f9(0xf7)](_0x5d0e37)})[_0x2ad7f9(0x100)](_0x139c3e=>{var _0x556561=_0x2ad7f9;if(!_0x139c3e['ok'])throw new Error(_0x556561(0xfe)+_0x139c3e[_0x556561(0xcc)]);return _0x139c3e[_0x556561(0x102)]();})['then'](_0x168212=>{var _0x3948e0=_0x2ad7f9;if(!_0x168212[_0x3948e0(0x107)])throw new Error(_0x168212[_0x3948e0(0xd1)]||_0x3948e0(0xee));return console[_0x3948e0(0x104)](_0x3948e0(0xbc)),_0x168212;})['catch'](_0x26285c=>{var _0x1f690e=_0x2ad7f9;console[_0x1f690e(0xe4)](_0x1f690e(0xc2),_0x26285c);throw _0x26285c;});}async function apiERPsyncUsers(){var _0x3e4133=_0x5a09;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x3e4133(0xf8)],company[0x0]['setUsers']));}function generatePermissionsPanel(_0x1d8728){var _0x13c90f=_0x5a09,_0x2086fe=document['getElementById']('panel_users');_0x2086fe['innerHTML']='';var _0x2a5857=_0x1d8728[0x0]&&_0x1d8728[0x0]['setUsers']||[],_0x5cdb00=_0x1d8728[0x0]&&_0x1d8728[0x0][_0x13c90f(0xcd)]||[];for(var _0x1671f3=0x0;_0x1671f3<_0x2a5857[_0x13c90f(0xbf)];_0x1671f3++){var _0x97e04e=_0x2a5857[_0x1671f3],_0x18a197=document[_0x13c90f(0xc6)](_0x13c90f(0xb0));_0x18a197[_0x13c90f(0xdc)]=_0x13c90f(0x105),_0x18a197['id']=_0x13c90f(0xc1)+_0x1671f3;var _0x3de94b=document['createElement']('h3');_0x3de94b[_0x13c90f(0xdc)]=_0x13c90f(0xd9),_0x3de94b['textContent']=_0x97e04e[_0x13c90f(0xd0)]||_0x13c90f(0xe6)+(_0x1671f3+0x1),_0x18a197['appendChild'](_0x3de94b);var _0x5cffd8=document[_0x13c90f(0xc6)](_0x13c90f(0xb0));_0x5cffd8['className']=_0x13c90f(0xb8);for(var _0x26b285=0x0;_0x26b285<_0x97e04e[_0x13c90f(0xc3)][_0x13c90f(0xbf)];_0x26b285++){var _0x41644d=_0x97e04e['setPermissions'][_0x26b285],_0x888807=document[_0x13c90f(0xc6)]('div');_0x888807[_0x13c90f(0xdc)]=_0x13c90f(0xa2),_0x888807[_0x13c90f(0xfc)][_0x13c90f(0xdb)]=_0x1671f3,_0x888807[_0x13c90f(0xfc)]['permIndex']=_0x26b285;var _0x2e796c=Number(_0x41644d['setPermissionValue']),_0xd83ffa=document['createElement']('select');_0xd83ffa[_0x13c90f(0xdc)]=_0x13c90f(0x106),_0xd83ffa[_0x13c90f(0xad)]=!![];if(BOOLEAN_PERMS[_0x13c90f(0xa7)](_0x41644d['setPermissionId'])!==-0x1){var _0x1da439=document['createElement'](_0x13c90f(0xfb));_0x1da439[_0x13c90f(0xca)]='0',_0x1da439[_0x13c90f(0xd4)]=_0x41644d['setPermissionNameFalse'],_0xd83ffa['appendChild'](_0x1da439);var _0x5c132c=document[_0x13c90f(0xc6)](_0x13c90f(0xfb));_0x5c132c['value']='1',_0x5c132c[_0x13c90f(0xd4)]=_0x41644d['setPermissionNameTrue'],_0xd83ffa[_0x13c90f(0xf9)](_0x5c132c),_0xd83ffa[_0x13c90f(0xca)]=String(_0x2e796c);}else{if(_0x41644d[_0x13c90f(0xe1)]===0x9||_0x41644d[_0x13c90f(0xe1)]===0xc||_0x41644d[_0x13c90f(0xe1)]===0x12){if(_0x41644d['setPermissionId']===0x9){var _0x6f1784=document[_0x13c90f(0xc6)](_0x13c90f(0xfb));_0x6f1784['value']='0',_0x6f1784[_0x13c90f(0xd4)]=_0x41644d[_0x13c90f(0xb9)],_0xd83ffa[_0x13c90f(0xf9)](_0x6f1784);for(var _0x4cbe5f=0x0;_0x4cbe5f<_0x5cdb00[_0x13c90f(0xbf)];_0x4cbe5f++){var _0x3badda=_0x5cdb00[_0x4cbe5f],_0x6ffbe2=document[_0x13c90f(0xc6)]('option');_0x6ffbe2[_0x13c90f(0xca)]=String(_0x3badda[_0x13c90f(0xf4)]),_0x6ffbe2[_0x13c90f(0xd4)]=_0x3badda[_0x13c90f(0xbd)],_0xd83ffa[_0x13c90f(0xf9)](_0x6ffbe2);}}if(_0x41644d[_0x13c90f(0xe1)]===0xc)for(var _0x4cbe5f=0x1;_0x4cbe5f<=0x4;_0x4cbe5f++){var _0x3badda=_0x4cbe5f,_0x6ffbe2=document[_0x13c90f(0xc6)](_0x13c90f(0xfb));_0x6ffbe2[_0x13c90f(0xca)]=String(_0x3badda),_0x6ffbe2[_0x13c90f(0xd4)]=_0x13c90f(0xc7)+_0x3badda,_0xd83ffa['appendChild'](_0x6ffbe2);}if(_0x41644d[_0x13c90f(0xe1)]===0x12){var _0x2e3956=myCompany&&myCompany[_0x13c90f(0xeb)]||[],_0x6f1784=document['createElement'](_0x13c90f(0xfb));_0x6f1784[_0x13c90f(0xca)]='0',_0x6f1784[_0x13c90f(0xd4)]=_0x41644d[_0x13c90f(0xb9)],_0xd83ffa['appendChild'](_0x6f1784);for(var _0x4cbe5f=0x0;_0x4cbe5f<_0x2e3956[_0x13c90f(0xbf)];_0x4cbe5f++){var _0x3badda=_0x2e3956[_0x4cbe5f],_0x6ffbe2=document[_0x13c90f(0xc6)](_0x13c90f(0xfb));_0x6ffbe2[_0x13c90f(0xca)]=String(_0x3badda[_0x13c90f(0xa5)]),_0x6ffbe2[_0x13c90f(0xd4)]=_0x3badda[_0x13c90f(0xf1)],_0xd83ffa[_0x13c90f(0xf9)](_0x6ffbe2);}}_0xd83ffa['value']=String(_0x2e796c);}}_0x888807[_0x13c90f(0xf9)](_0xd83ffa),_0x5cffd8['appendChild'](_0x888807);}_0x18a197[_0x13c90f(0xf9)](_0x5cffd8);var _0x506dde=document[_0x13c90f(0xc6)]('button');_0x506dde[_0x13c90f(0xdc)]=_0x13c90f(0xb1),_0x506dde[_0x13c90f(0xd4)]=_0x13c90f(0x101),_0x506dde['dataset'][_0x13c90f(0xdb)]=_0x1671f3;var _0x9fff55=document[_0x13c90f(0xc6)](_0x13c90f(0xe7));_0x9fff55[_0x13c90f(0xdc)]='userPerm_saveBtn',_0x9fff55[_0x13c90f(0xd4)]=_0x13c90f(0xd3),_0x9fff55[_0x13c90f(0xfc)][_0x13c90f(0xdb)]=_0x1671f3,_0x9fff55['style']['display']=_0x13c90f(0xf0),_0x18a197['appendChild'](_0x506dde),_0x18a197[_0x13c90f(0xf9)](_0x9fff55),_0x2086fe[_0x13c90f(0xf9)](_0x18a197),_0x506dde['addEventListener'](_0x13c90f(0xea),onEditClick),_0x9fff55['addEventListener'](_0x13c90f(0xea),onSaveClick);}}function onEditClick(_0x1149be){var _0xd7c94=_0x5a09,_0x581be9=_0x1149be[_0xd7c94(0x10f)]['dataset']['userIndex'],_0xd647bb=document[_0xd7c94(0xde)](_0xd7c94(0xc1)+_0x581be9),_0x4a8114=_0xd647bb['getElementsByClassName'](_0xd7c94(0x106));for(var _0x32e754=0x0;_0x32e754<_0x4a8114['length'];_0x32e754++){_0x4a8114[_0x32e754][_0xd7c94(0xad)]=![];}_0xd647bb[_0xd7c94(0xb5)](_0xd7c94(0xb6))[_0xd7c94(0xae)]['display']=_0xd7c94(0xf0),_0xd647bb[_0xd7c94(0xb5)](_0xd7c94(0xa1))['style']['display']=_0xd7c94(0xed),_0xd647bb[_0xd7c94(0xdc)]=_0xd7c94(0x10a);}async function onSaveClick(_0x47eebd){var _0x1456cc=_0x5a09,_0x1e3932=_0x47eebd[_0x1456cc(0x10f)][_0x1456cc(0xfc)]['userIndex'],_0x44ed69=document[_0x1456cc(0xde)]('userPerm_container_'+_0x1e3932),_0x1b84be=_0x44ed69['getElementsByClassName'](_0x1456cc(0xa2));for(var _0xfeb9e=0x0;_0xfeb9e<_0x1b84be[_0x1456cc(0xbf)];_0xfeb9e++){var _0x5df780=_0x1b84be[_0xfeb9e],_0x357a05=parseInt(_0x5df780['dataset'][_0x1456cc(0xdb)],0xa),_0x4051f3=parseInt(_0x5df780[_0x1456cc(0xfc)][_0x1456cc(0x103)],0xa),_0x325be4=company[0x0]['setUsers'][_0x357a05][_0x1456cc(0xc3)][_0x4051f3],_0x142ef4=_0x5df780[_0x1456cc(0xd2)](_0x1456cc(0x106))[0x0],_0x591040=_0x142ef4[_0x1456cc(0xca)];_0x325be4[_0x1456cc(0xdf)]=_0x591040,_0x142ef4[_0x1456cc(0xad)]=!![],company[0x0][_0x1456cc(0xbb)][_0x357a05][_0x1456cc(0xce)]=new Date();}const _0x5a57bc=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5a57bc),_0x44ed69[_0x1456cc(0xb5)](_0x1456cc(0xa1))[_0x1456cc(0xae)][_0x1456cc(0x108)]=_0x1456cc(0xf0),_0x44ed69[_0x1456cc(0xb5)](_0x1456cc(0xb6))[_0x1456cc(0xae)][_0x1456cc(0x108)]=_0x1456cc(0xe0),_0x44ed69[_0x1456cc(0xdc)]=_0x1456cc(0x105),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x6ba837=_0x5a09,_0x2c7b0e=document[_0x6ba837(0xde)]('panel_operations');return _0x2c7b0e[_0x6ba837(0xb7)]='',createCartStore('')['then'](function(_0x33fb45){var _0x33b3ad=_0x6ba837,_0x3af0d7=_0x33fb45['transaction']('offline_operations','readonly'),_0x413278=_0x3af0d7[_0x33b3ad(0x109)](_0x33b3ad(0xe8));return new Promise(function(_0x58f71a,_0x5dc794){var _0x1e005e=_0x33b3ad,_0x180275=_0x413278['getAll']();_0x180275['onsuccess']=function(){_0x58f71a(_0x180275['result']);},_0x180275[_0x1e005e(0xd8)]=function(){_0x5dc794(_0x180275['error']);};});})[_0x6ba837(0x100)](function(_0x4f7972){var _0x31d82b=_0x6ba837,_0xbd2de1=[];for(var _0x354eb2=0x0;_0x354eb2<_0x4f7972[_0x31d82b(0xbf)];_0x354eb2++){_0x4f7972[_0x354eb2]['apiPOSsendOffline']==0x1&&_0xbd2de1[_0x31d82b(0xb2)](_0x4f7972[_0x354eb2]);}if(_0xbd2de1[_0x31d82b(0xbf)]===0x0){_0x2c7b0e[_0x31d82b(0xd4)]='No\x20hay\x20operaciones\x20pendientes.';return;}var _0x19abd8=document[_0x31d82b(0xc6)](_0x31d82b(0xd5));_0x19abd8[_0x31d82b(0xdc)]='offlineOps_table';var _0x2ac1b8=document[_0x31d82b(0xc6)](_0x31d82b(0xa6)),_0x3a00ad=document['createElement']('tr');['Tipo','Serie',_0x31d82b(0xc9),_0x31d82b(0xe3),_0x31d82b(0xd6)][_0x31d82b(0xc8)](function(_0xb2865a){var _0x247f5b=_0x31d82b,_0xb3b508=document[_0x247f5b(0xc6)]('th');_0xb3b508[_0x247f5b(0xd4)]=_0xb2865a,_0x3a00ad['appendChild'](_0xb3b508);}),_0x2ac1b8[_0x31d82b(0xf9)](_0x3a00ad),_0x19abd8[_0x31d82b(0xf9)](_0x2ac1b8);var _0x55d407=document[_0x31d82b(0xc6)](_0x31d82b(0x10b));_0xbd2de1[_0x31d82b(0xc8)](function(_0x37bd9e){var _0x2e4149=_0x31d82b,_0x3f6b3c=document[_0x2e4149(0xc6)]('tr'),_0x1ddd17=[_0x37bd9e[_0x2e4149(0xaf)],_0x37bd9e['setSerie'],_0x37bd9e['setCorrelativo'],_0x37bd9e['setFechaHora'],_0x37bd9e[_0x2e4149(0xc4)]||''];_0x1ddd17['forEach'](function(_0x27056a){var _0x409c43=_0x2e4149,_0x22cfdc=document['createElement']('td');_0x22cfdc[_0x409c43(0xd4)]=_0x27056a,_0x3f6b3c[_0x409c43(0xf9)](_0x22cfdc);}),_0x55d407[_0x2e4149(0xf9)](_0x3f6b3c);}),_0x19abd8[_0x31d82b(0xf9)](_0x55d407),_0x2c7b0e['appendChild'](_0x19abd8);})['catch'](function(_0x3054ec){var _0x235466=_0x6ba837;console['error'](_0x235466(0xa3),_0x3054ec),_0x2c7b0e[_0x235466(0xd4)]=_0x235466(0xe9);});}window['onload']=function(){var _0x4ff767=_0x5a09;const _0x33eb80=0x2;loadLoginContent(_0x4ff767(0xe2)),setUserNameGet(),setEventBtnAccess();const _0x2e29a2=document[_0x4ff767(0xb5)]('.btn-logout');_0x2e29a2&&_0x2e29a2[_0x4ff767(0xff)](_0x4ff767(0xea),function(){logoutReload(0x0,_0x33eb80);}),document['getElementById'](_0x4ff767(0xf6))['addEventListener']('change',async function(){var _0x177621=_0x4ff767;const _0x20928f=parseInt(this[_0x177621(0xca)]);company[0x0][_0x177621(0xf5)]=_0x20928f;const _0x40bf54=await createCartStore('');await saveCompanyToIndexedDB(company,_0x40bf54),cargarAlmacenes(_0x20928f),setTimeout(()=>{var _0x46fe2d=_0x177621;document[_0x46fe2d(0xde)](_0x46fe2d(0x10d))[_0x46fe2d(0xba)](new Event(_0x46fe2d(0xaa)));},0x64),cargarPisos(_0x20928f),setTimeout(()=>{var _0x2353d2=_0x177621;document[_0x2353d2(0xde)](_0x2353d2(0xfd))[_0x2353d2(0xba)](new Event(_0x2353d2(0xaa)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x33eb80);};function _0x5b31(){var _0x27d071=['getElementsByClassName','Guardar','textContent','table','Motivo','trace','onerror','userPerm_header','return\x20(function()\x20','userIndex','className','410HicXee','getElementById','setPermissionValue','inline-block','setPermissionId','./img/apiPOS.png','Fecha','error','prototype','Usuario\x20','button','offline_operations','Error\x20cargando\x20operaciones.','click','setEmailCredentials','exception','block','Error\x20desconocido\x20al\x20actualizar\x20Data.','(((.+)+)+)+$','none','setEmailCredentialsSenderEmail','1279064yOLLLn','console','setTipoOperacionCodigo','setBranchDefault','setBranchId','stringify','setAuthToken','appendChild','7824SmnORp','option','dataset','setFloorId','Error\x20Sync:\x20','addEventListener','then','Editar','json','permIndex','log','userPerm_container\x20border_blue','userPerm_select','success','display','objectStore','userPerm_container\x20border_orange','tbody','5937522qJuSvl','setWarehouseId','3459490XdXDoV','target','9496495nKeHZj','4TieeoK','.userPerm_saveBtn','userPerm_item','Error\x20leyendo\x20operaciones:','info','setEmailCredentialsId','thead','indexOf','bind','838320MzhIgc','change','search','toString','disabled','style','setTipoOperacion','div','userPerm_editBtn','push','Error\x20Network.','264420OuaNrP','querySelector','.userPerm_editBtn','innerHTML','userPerm_list','setPermissionNameFalse','dispatchEvent','setUsers','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setTipoOperacionName','apply','length','POST','userPerm_container_','Error\x20al\x20actualizar\x20data\x20online:','setPermissions','setMessage','warn','createElement','Número\x20de\x20Decimales:\x20','forEach','Correlativo','value','1337jMawRo','statusText','setTipoOperaciones','setLastDateUpdate','constructor','setUserFullName','message'];_0x5b31=function(){return _0x27d071;};return _0x5b31();}