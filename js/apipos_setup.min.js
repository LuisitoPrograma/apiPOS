/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.5
*/

const _0x25ddf2=_0x612f;(function(_0x52d217,_0x4628b9){const _0x5c8db9=_0x612f,_0x1196cb=_0x52d217();while(!![]){try{const _0x597427=-parseInt(_0x5c8db9(0x1b9))/0x1*(-parseInt(_0x5c8db9(0xd3))/0x2)+-parseInt(_0x5c8db9(0x7c))/0x3*(-parseInt(_0x5c8db9(0xe3))/0x4)+parseInt(_0x5c8db9(0x1bc))/0x5*(parseInt(_0x5c8db9(0x121))/0x6)+parseInt(_0x5c8db9(0x79))/0x7*(-parseInt(_0x5c8db9(0x1f9))/0x8)+parseInt(_0x5c8db9(0x139))/0x9*(-parseInt(_0x5c8db9(0xb3))/0xa)+parseInt(_0x5c8db9(0x89))/0xb+parseInt(_0x5c8db9(0x1ca))/0xc*(parseInt(_0x5c8db9(0xd5))/0xd);if(_0x597427===_0x4628b9)break;else _0x1196cb['push'](_0x1196cb['shift']());}catch(_0x35d081){_0x1196cb['push'](_0x1196cb['shift']());}}}(_0x51df,0x18f9d));const _0x3a7032=(function(){let _0x266ae1=!![];return function(_0x95c580,_0x4d1082){const _0x270c59=_0x266ae1?function(){if(_0x4d1082){const _0x4615ea=_0x4d1082['apply'](_0x95c580,arguments);return _0x4d1082=null,_0x4615ea;}}:function(){};return _0x266ae1=![],_0x270c59;};}()),_0x21c8e2=_0x3a7032(this,function(){const _0xd0dced=_0x612f;return _0x21c8e2['toString']()[_0xd0dced(0x164)](_0xd0dced(0x175))['toString']()['constructor'](_0x21c8e2)[_0xd0dced(0x164)](_0xd0dced(0x175));});_0x21c8e2();const _0x15ff03=(function(){let _0x5c7cc1=!![];return function(_0x29f171,_0x252ac4){const _0x33d5de=_0x5c7cc1?function(){const _0x4d74b1=_0x612f;if(_0x252ac4){const _0x1b5c6f=_0x252ac4[_0x4d74b1(0x8d)](_0x29f171,arguments);return _0x252ac4=null,_0x1b5c6f;}}:function(){};return _0x5c7cc1=![],_0x33d5de;};}()),_0x5cde32=_0x15ff03(this,function(){const _0x5c0bdf=_0x612f;let _0x1a00a4;try{const _0x209479=Function(_0x5c0bdf(0xe5)+_0x5c0bdf(0x153)+');');_0x1a00a4=_0x209479();}catch(_0x5ea5ca){_0x1a00a4=window;}const _0x343e82=_0x1a00a4[_0x5c0bdf(0x246)]=_0x1a00a4[_0x5c0bdf(0x246)]||{},_0x48d48b=[_0x5c0bdf(0x9d),_0x5c0bdf(0x11f),_0x5c0bdf(0xd6),'error',_0x5c0bdf(0x122),_0x5c0bdf(0x96),_0x5c0bdf(0x18e)];for(let _0x3d440c=0x0;_0x3d440c<_0x48d48b['length'];_0x3d440c++){const _0x4da867=_0x15ff03[_0x5c0bdf(0x170)][_0x5c0bdf(0x1d3)][_0x5c0bdf(0x16f)](_0x15ff03),_0x244ef4=_0x48d48b[_0x3d440c],_0x4d2c94=_0x343e82[_0x244ef4]||_0x4da867;_0x4da867[_0x5c0bdf(0x239)]=_0x15ff03['bind'](_0x15ff03),_0x4da867[_0x5c0bdf(0x11d)]=_0x4d2c94[_0x5c0bdf(0x11d)][_0x5c0bdf(0x16f)](_0x4d2c94),_0x343e82[_0x244ef4]=_0x4da867;}});_0x5cde32();let myCompany,db=null,dbPromise=null,db_name=_0x25ddf2(0x195),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];function _0x51df(){const _0x1660ec=['Generando\x20','.select-button-pais-flag','offsetWidth','readAsDataURL','length','installing','ntf-flotante-green','click','julio','octubre','embedFont','setMessage','id_registro','sort','statusText','mx08','getElementById','getDate','body','setShifts','Revisar\x20lote','setInventariable','setCompanyWebsite','toString','No\x20hay\x20operaciones\x20para\x20sincronizar.','warn','setCustomerPhone','881400yqlfYO','exception','ntf-flotante-orange','newItems[','createElement','setWarehouses','from','setUser_Local','setTipoOperacion','close','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.5\x20...</span>','state','ntfIndex','xtt3','Error\x20al\x20enviar\x20operación\x20offline:','setUserId','Bienvenido(a)\x20','setMtoPrecioUnitario','Registrar\x20movimiento','cart_','setWebhook','f34f','setCredentialsApiWAChatAlias','querySelectorAll','189GZoQGC','Error\x20desconocido\x20al\x20actualizar\x20Data.','values','ObjectStore\x20\x27','Error\x20en\x20la\x20solicitud:','ntf-flotante-bottom','Tab\x20count\x20inicializado\x20en:\x20','setUserEmail','Backspace','innerHTML','Imagen\x20inválida\x20en\x20newItems[','setImpuestos','apiPOSsendOffline','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','put','btnSaveOperacion-','forEach','AR0','Error\x20Network.','finally','webkitRequestFullscreen','Todos\x20los\x20campos\x20son\x20obligatorios.','ambientes','btn-access-login','addEventListener','data-ntf-index','{}.constructor(\x22return\x20this\x22)(\x20)','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','requestFullscreen','ltop','setImpuestoValue','Solo\x20necesitas\x20internet\x20para\x20acceder!','User\x20no\x20Logged!','setCartTmp','shiftKey','animationend','\x20no\x20encontrado\x20en\x20products.','onclick','setAttachEdit','\x20operaciones\x20restantes...','setBatchExpirationDate','setEmpresaDomainWork','setDespacho','search','onsuccess','diciembre','setClienteDireccion','POST','querySelector','\x27\x20creado\x20correctamente.','CODE128','activeElement','getClientRects','setCollaborators','bind','constructor','9999','split','Base\x20de\x20datos\x20abierta\x20correctamente.','active','(((.+)+)+)+$','append','controller','\x20...','reduce','\x20–\x20','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','disabled','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','E01','].setItemImages[','setCategoria','ntf-modal-body','https://apierp.dev/api/apiPOS/get/','setCredentialsApiWAChatId','caption','hidden','setImages','.<br>','port','fixed','Error:\x20','setItemUnitAlias','toFixed','checkout-btn-','trace','lbtom','\x22\x20para\x20registro\x20#','setCodProducto','./img/product.png','documentElement','setUnidadCodigo','apiERP','.payment-option','layoutState','status','setWindowId','serializeToString','setSucursalStock','setFloorId','target','dataset','setMarca','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','msRequestFullscreen','setSeries','oncomplete','ntf-flotante-blue','charCodeAt','setItemBarCode','Ver\x20movimientos','filter','ntf-hidden','Arrays\x20actualizados\x20para\x20windowId\x20','Error\x20al\x20procesar\x20operaciones\x20offline:','co19','push','drawText','mozRequestFullScreen','Sincronizando\x20','substr','fullscreen-btn','value','msExitFullscreen','get','flex','Producto\x20con\x20id\x20','SW\x20Success','3594bKbKUy','objectStore','febrero','5owRFfz','controllerchange','setCartTmpInitial','toDataURL','transaction','setMtoValorCostoUnitario','mayo','rgba(0,\x200,\x200,\x200.5)','cartId','setWarehouseId','Stock\x20Actual:\x20','resize','setWindowName','#container-section-pay-','156Imyrew','ar10.5','startsWith','set','min','setCredentialsApiWAChatIdDefault','username','setItemImages','reject','prototype','Company\x20Load\x20Error:','application/json','offline_operations','version','setUsuarios','setUsers','closest','Acción\x20\x22','mimetype','Error\x20in\x20saving\x20to\x20store\x20','ntf-notification-dropdown','contains','trim','div','concat','Producto\x20vencido:\x20','payment-option','][setItemImages][','MX20','onLine','setCurrencyDefault','readonly','fill','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','json','setSerie','Helvetica','now','location','setBatchName','.dropdown-list-pais-flag','setFloorName','Company\x20Load.','<h2>','scale','alignItems','setCredentialsApiWAChatPort','8wsehwz','https://','ntf-modal-close','setItemIsBought','32system','offsetHeight','preventDefault','setCompanyPhone','setSellerId','</h2><p>','setCredentialsApiWAChatSubdomain','setCompanyAddress','setPrinters','zIndex','onupgradeneeded','setId','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','hostname','appendChild','selectedCode','mozFullScreenElement','./app.js?v=4.1.5','stringify','includes','application/json;\x20charset=utf-8','windowIds\x20previamente\x20creados:','find','Procesamiento\x20de\x20datos\x20exitoso\x20...','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','CO0','style','setDescripcion','dispatchEvent','ntf-notifications-list','S01','floor','catch','height','svg','add','installed','mx16','setWarehouseName','uy22','option','Nombre\x20de\x20store\x20no\x20válido:\x20','setCorrelativo','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','Products\x20Load\x20Error:','createIndex','ntf-notification-modal','/wa/','onstatechange','usuario','.product[tabindex=\x270\x27]','onload','ntf-flotante-container-top','has','text','setSuppliers','Stock\x20mínimo:\x20','backgroundColor','readwrite','tagName','__proto__','ar21','45x','TEXTAREA','infoLoadingModal','junio','abril','CL0','company','setItemType','windowId','setDescuentoGlobal_Monto','none','console','Products\x20Empty.','tabs-notifications','Generar\x20Orden\x20de\x20Compra','setMtoValorUnitario','objectStoreNames','products','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','name','Sincronizando\x20...','rgf4x32','setBranchId','title','message','change','getAll','webkitFullscreenElement','266693DdFvIX','setTaxId','SW\x20New\x20Version','60gZLXef','Delete','map','isArray','searchInput','Error\x20','block','pop','Error:\x20Domain\x20not\x20registered.','setCompanyNameTrade','login','key','enero','349261gaVUdw','reload','stopPropagation','setBranches','apply','setHours','left','setClienteNumDoc','center','x32','display','setImg','embedPng','table','loadingModal','button','setCodeBarTypeId','setWarehouseStockMin','open','\x20operaciones\x20de\x20productos...','log','x64','day','remove','setTipAfeIgv','uy10','addPage','Error\x20al\x20guardar\x20el\x20layout:\x20','error','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','.dropdown-item-pais-flag','detalleModalPay','Tab','setCustomerEmail','sucursales','marzo','createObjectStore','window_options_','setWindows','documento.pdf','onupdatefound','msFullscreenElement','77310SXmdVo','UY0','pdfBlob','slice','setMoneda-','ntf-flotante-container-bottom','xpos','Inicio\x20de\x20sesión\x20exitoso\x20...','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.5\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','Products\x20Load.','Modo\x20online\x20...','create','64system','setCompanyName','setClienteDenominacion','src','serviceWorker','setCodeBarTypes','setCompanyDoc','setObservacion','some','Error\x20al\x20obtener\x20las\x20operaciones:\x20',']\x20–\x20se\x20omite.','getFullYear','setCredentialsApiWAChat','position','onerror','mozCancelFullScreen','widthOfTextAtSize','currency_data','width','classList','34MwFldD','navigator','23062ZtAAMI','info','application/pdf','d-none','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','data:image/svg+xml;base64,','topbar','toggle','size','setFechaHora','result','password','100%','setTipoOperacionInvoice','7988EaLOcm','className','return\x20(function()\x20','textContent','setUserName','agosto','setBranchName','ntf-flotante-message\x20','success','resolve','</p>','save','setCustomers','indexOf','setItemDescription','currency','exitFullscreen','clear','HTTP\x20','setCompanyEmail','setMtoPrecioCostoUnitario','then','fullscreenElement','opacity','setBranchDefault','focus','newItems','pcrcl','random','embedJpg','type','header','\x20del\x20','webkitExitFullscreen','Sincronización\x20completada\x20correctamente.'];_0x51df=function(){return _0x1660ec;};return _0x51df();}const monthsEspanish=[_0x25ddf2(0x88),_0x25ddf2(0x1bb),_0x25ddf2(0xac),_0x25ddf2(0x23f),_0x25ddf2(0x1c2),_0x25ddf2(0x23e),_0x25ddf2(0x10e),_0x25ddf2(0xe8),'septiembre',_0x25ddf2(0x10f),'noviembre',_0x25ddf2(0x166)],gdfg5g=_0x25ddf2(0x136),x45fgd='x3',xjehd78=_0x25ddf2(0xb9),cxkdj4=_0x25ddf2(0x9e),x87s8d=_0x25ddf2(0x92),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x25ddf2(0x1fd),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d='x63s',xg123f=_0x25ddf2(0x23b),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x25ddf2(0x12e),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x25ddf2(0xbf),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x25ddf2(0x188),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x25ddf2(0x156),x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33='64x32xsystem',kkx12='s',ak47r=_0x25ddf2(0x72),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x25ddf2(0xfe),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x25ddf2(0x18f),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x25ddf2(0x21b),'S02',_0x25ddf2(0x222),_0x25ddf2(0x115),_0x25ddf2(0x23a),_0x25ddf2(0x1cb),'cl19',_0x25ddf2(0x1ac),'co5',_0x25ddf2(0x224),_0x25ddf2(0xa2)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x25ddf2(0x1e2)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x25ddf2(0x17e),_0x25ddf2(0x1e6),_0x25ddf2(0x14a),_0x25ddf2(0x240),_0x25ddf2(0x216),_0x25ddf2(0xb4)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x25ddf2(0x1e2)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x25ddf2(0x1e2)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x25ddf2(0x1e2)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x1ea047){const _0x3a54b0=_0x25ddf2,_0x560b6f=new URLSearchParams(window[_0x3a54b0(0x1f0)]['search']);return _0x560b6f[_0x3a54b0(0x1b5)](_0x1ea047);}function setUserNameGet(){const _0x236798=_0x25ddf2,_0x3170ab=getQueryParam(_0x236798(0x1d0)),_0x2afdde=document[_0x236798(0x116)](_0x236798(0x22e));_0x3170ab&&_0x2afdde&&(_0x2afdde[_0x236798(0x1b3)]=_0x3170ab);}function generateUniqId(){const _0x37a4d9=_0x25ddf2;return Date['now']()+'_'+Math['random']()[_0x37a4d9(0x11d)](0x24)[_0x37a4d9(0x1b1)](0x2,0x9);}function generateNumericUniqId(){const _0x342a0f=_0x25ddf2,_0x32233a=Date[_0x342a0f(0x1ef)]()*0x3e8,_0x3dec35=Math[_0x342a0f(0x21c)](Math[_0x342a0f(0xff)]()*0x3e8);return _0x32233a+_0x3dec35;}function blobAStringBase64(_0x11456f){return new Promise((_0x1671c1,_0x53f7dd)=>{const _0x36d459=_0x612f,_0x19ac0d=new FileReader();_0x19ac0d['onloadend']=()=>{const _0x33f861=_0x612f,_0x3047d5=_0x19ac0d[_0x33f861(0xdf)],_0x46118f=_0x3047d5[_0x33f861(0x172)](',');if(_0x46118f[_0x33f861(0x10a)]!==0x2)return _0x53f7dd(new Error('Formato\x20inesperado\x20en\x20base64'));_0x1671c1(_0x46118f[0x1]);},_0x19ac0d[_0x36d459(0xcd)]=_0x337086=>_0x53f7dd(_0x337086),_0x19ac0d[_0x36d459(0x109)](_0x11456f);});}async function generarBarcodeDataURL(_0x440288,_0x193b73){return new Promise((_0x175def,_0x2092e6)=>{const _0x4e1e1f=_0x612f,_0x438db3=myCompany[_0x4e1e1f(0xc4)][_0x4e1e1f(0x213)](_0x3383bd=>_0x3383bd[_0x4e1e1f(0x99)]==_0x440288),_0x38c52d=_0x438db3?_0x438db3['setCodeBarTypeName']:_0x4e1e1f(0x16b),_0x557c9d=document['createElementNS']('http://www.w3.org/2000/svg',_0x4e1e1f(0x21f));JsBarcode(_0x557c9d,_0x193b73,{'format':_0x38c52d,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x27ec9e=new XMLSerializer()[_0x4e1e1f(0x19a)](_0x557c9d),_0x1503c7=btoa(_0x27ec9e),_0x2dbe22=_0x4e1e1f(0xda)+_0x1503c7,_0x351bff=new Image();_0x351bff[_0x4e1e1f(0x230)]=()=>{const _0x2a1055=_0x4e1e1f,_0xbc80c1=document['createElement']('canvas');_0xbc80c1[_0x2a1055(0xd1)]=_0x351bff[_0x2a1055(0xd1)],_0xbc80c1[_0x2a1055(0x21e)]=_0x351bff[_0x2a1055(0x21e)];const _0x44a6e7=_0xbc80c1['getContext']('2d');_0x44a6e7['drawImage'](_0x351bff,0x0,0x0);const _0x22c968=_0xbc80c1[_0x2a1055(0x1bf)]('image/png');_0x175def(_0x22c968);},_0x351bff[_0x4e1e1f(0xcd)]=_0x598202=>_0x2092e6(_0x598202),_0x351bff[_0x4e1e1f(0xc2)]=_0x2dbe22;});}async function generarStickersPDF(_0x563368,_0x302113,_0x328dfa){const _0x1837fd=_0x25ddf2,{PDFDocument:_0x340028,StandardFonts:_0x243e42,rgb:_0x14839c}=PDFLib,_0xeb7145=products['find'](_0x56db63=>_0x56db63['id']==_0x328dfa);if(!_0xeb7145){console['error'](_0x1837fd(0x1b7)+_0x328dfa+_0x1837fd(0x15d));return;}const _0x205f20=_0xeb7145[_0x1837fd(0x218)][_0x1837fd(0x1e0)](),_0x3ffca3=document['getElementById'](_0x1837fd(0x243))[_0x1837fd(0x1b3)],_0x3549d1=document[_0x1837fd(0x116)](_0x1837fd(0xb7)+_0x3ffca3)['value'],_0x244ebc=(_0xeb7145[_0x1837fd(0xd0)]||[])[_0x1837fd(0x213)](_0x47ab5d=>_0x47ab5d[_0x1837fd(0xf2)]==_0x3549d1)||{},_0xc03939=_0x244ebc[_0x1837fd(0xf7)]||0x0,_0x5314c9=getCurrencySymbol(_0x3ffca3),_0x2171ae=Number(_0xc03939)||0x0,_0x45ce7c=_0x5314c9+'\x20'+_0x2171ae[_0x1837fd(0x18c)](0x2),_0x2c7c30=await _0x340028[_0x1837fd(0xbe)](),_0x590961=_0x3bd091=>_0x3bd091*2.83465,_0x496700=_0x590961(0x70*0x2),_0x4736a3=_0x590961(40.8),_0x50909c=_0x2c7c30[_0x1837fd(0xa3)]([_0x496700,_0x4736a3]),_0x5b5e8b=await _0x2c7c30[_0x1837fd(0x110)](_0x243e42[_0x1837fd(0x1ee)]),_0x3d9d03=Array(0x2)[_0x1837fd(0x1ea)](_0x302113),_0x146655=0x2,_0x453f01=0x1,_0x195877=0xc,_0x3184eb=_0x496700/_0x146655,_0x5abba6=_0x4736a3/_0x453f01;for(let _0x21bec6=0x0;_0x21bec6<0x2;_0x21bec6++){const _0x30a5bc=_0x3d9d03[_0x21bec6],_0xfe4d51=await generarBarcodeDataURL(_0x563368,_0x30a5bc),_0x2db8fc=_0xfe4d51[_0x1837fd(0x172)](',')[0x1],_0x4fdb24=Uint8Array[_0x1837fd(0x127)](atob(_0x2db8fc),_0x500f29=>_0x500f29[_0x1837fd(0x1a5)](0x0));let _0x488bc1;try{_0x488bc1=await _0x2c7c30[_0x1837fd(0x95)](_0x4fdb24);}catch{_0x488bc1=await _0x2c7c30[_0x1837fd(0x100)](_0x4fdb24);}const _0x16b336=0x5,_0x3a8e4d=_0x195877+0x4,_0x132365=_0x195877*0x2+0x4,_0x128af1=_0x205f20,_0x490380=_0x45ce7c,_0x36d183=_0x21bec6%_0x146655,_0x4aa508=_0x5b5e8b[_0x1837fd(0xcf)](_0x128af1,_0x195877),_0x20fb30=_0x5b5e8b[_0x1837fd(0xcf)](_0x490380,_0x195877),_0x367e29=_0x36d183*_0x3184eb+(_0x3184eb-_0x4aa508)/0x2,_0x1f279d=_0x36d183*_0x3184eb+(_0x3184eb-_0x20fb30)/0x2,_0x329c72=_0x5abba6-_0x16b336-_0x195877,_0x7e006c=_0x329c72-_0x195877-0x2;_0x50909c[_0x1837fd(0x1ae)](_0x128af1,{'x':_0x367e29,'y':_0x329c72,'size':_0x195877,'font':_0x5b5e8b,'color':_0x14839c(0x0,0x0,0x0)}),_0x50909c['drawText'](_0x490380,{'x':_0x1f279d,'y':_0x7e006c,'size':_0x195877,'font':_0x5b5e8b,'color':_0x14839c(0x0,0x0,0x0)});const _0x36975a=_0x3184eb-_0x16b336*0x2,_0x512a4d=_0x5abba6-_0x16b336*0x2-_0x132365-_0x3a8e4d,_0x345d60=_0x488bc1[_0x1837fd(0xd1)],_0x4283df=_0x488bc1['height'],_0x4b523d=Math[_0x1837fd(0x1ce)](_0x36975a/_0x345d60,_0x512a4d/_0x4283df,0x1),_0x12f5ba=_0x488bc1[_0x1837fd(0x1f6)](_0x4b523d),_0x29acf6=_0x36d183*_0x3184eb+(_0x3184eb-_0x12f5ba[_0x1837fd(0xd1)])/0x2,_0x3bae3b=_0x7e006c-_0x12f5ba[_0x1837fd(0x21e)]-0x4;_0x50909c['drawImage'](_0x488bc1,{'x':_0x29acf6,'y':_0x3bae3b,'width':_0x12f5ba[_0x1837fd(0xd1)],'height':_0x12f5ba[_0x1837fd(0x21e)]});const _0x4fc163=_0x5b5e8b['widthOfTextAtSize'](_0x30a5bc,_0x195877),_0x7d6b87=_0x36d183*_0x3184eb+(_0x3184eb-_0x4fc163)/0x2,_0x3b6aac=_0x3bae3b-_0x195877-0x2;_0x50909c[_0x1837fd(0x1ae)](_0x30a5bc,{'x':_0x7d6b87,'y':_0x3b6aac,'size':_0x195877,'font':_0x5b5e8b,'color':_0x14839c(0x0,0x0,0x0)});}const _0xf32ed5=await _0x2c7c30[_0x1837fd(0xee)](),_0x31f797=new Blob([_0xf32ed5],{'type':_0x1837fd(0xd7)}),_0x34209a=URL['createObjectURL'](_0x31f797);window[_0x1837fd(0x9b)](_0x34209a);}async function sendEmail(_0xb1744e,_0xfa68af,_0x602758,_0x59b286,_0x12bdff,_0x3b568e,_0x23c597,_0x457acd,_0x5b9ade,_0x204e2b){const _0x4f7a2a=_0x25ddf2;if(isOnline()){const _0x5107cc={'setAuthToken':_0xb1744e,'senderName':_0xfa68af,'senderEmail':_0x602758,'senderPassword':_0x59b286,'smtpHost':_0x12bdff,'smtpPort':_0x3b568e,'emailsDestination':_0x23c597,'subject':_0x457acd,'message':_0x5b9ade,'attachFiles':_0x204e2b};try{const _0x1903dd=await fetch('https://apierp.dev/api/email/send/',{'method':_0x4f7a2a(0x168),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x4f7a2a(0x20f)](_0x5107cc)}),_0xe5ce50=await _0x1903dd['json']();if(!_0x1903dd['ok']||!_0xe5ce50[_0x4f7a2a(0xeb)]){console[_0x4f7a2a(0xa5)]('Error\x20al\x20enviar\x20correo:',_0xe5ce50),ntfShow('Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}}catch(_0x2bdbfc){console[_0x4f7a2a(0xa5)](_0x4f7a2a(0x13d),_0x2bdbfc);}}}function loadLoginContent(_0x5903e2){const _0x77b00f=_0x25ddf2,_0x5f6f9c=document[_0x77b00f(0x116)](_0x77b00f(0x86));_0x5f6f9c[_0x77b00f(0x142)]='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x5903e2+_0x77b00f(0xbb);}function addNumber(_0x1192fd){const _0x36e33c=_0x25ddf2;document[_0x36e33c(0x116)](_0x36e33c(0xe0))[_0x36e33c(0x1b3)]+=_0x1192fd;}function deleteNumber(){const _0x5d8f5a=_0x25ddf2;let _0x2878c6=document[_0x5d8f5a(0x116)]('password');_0x2878c6[_0x5d8f5a(0x1b3)]=_0x2878c6[_0x5d8f5a(0x1b3)][_0x5d8f5a(0xb6)](0x0,-0x1);}function togglePassword(){const _0x2eaf58=_0x25ddf2;let _0x4d735f=document['getElementById'](_0x2eaf58(0xe0));_0x4d735f[_0x2eaf58(0x101)]=_0x4d735f['type']==_0x2eaf58(0xe0)?_0x2eaf58(0x233):_0x2eaf58(0xe0);}function setEventBtnAccess(){const _0x196b1c=_0x25ddf2,_0x5ebef2=document[_0x196b1c(0x116)](_0x196b1c(0x150));_0x5ebef2[_0x196b1c(0x15e)]=function(){acceder();};}function isOnline(){const _0xa9938a=_0x25ddf2;return window[_0xa9938a(0xd4)][_0xa9938a(0x1e7)];}function showLoadingModal(){const _0x42d82d=_0x25ddf2,_0x4219ca=document['createElement'](_0x42d82d(0x1e1));_0x4219ca['id']=_0x42d82d(0x97),_0x4219ca['style'][_0x42d82d(0xcc)]=_0x42d82d(0x189),_0x4219ca[_0x42d82d(0x217)]['top']='0',_0x4219ca[_0x42d82d(0x217)][_0x42d82d(0x8f)]='0',_0x4219ca[_0x42d82d(0x217)]['width']=_0x42d82d(0xe1),_0x4219ca[_0x42d82d(0x217)]['height']=_0x42d82d(0xe1),_0x4219ca[_0x42d82d(0x217)][_0x42d82d(0x236)]=_0x42d82d(0x1c3),_0x4219ca[_0x42d82d(0x217)][_0x42d82d(0x93)]=_0x42d82d(0x1b6),_0x4219ca['style']['justifyContent']=_0x42d82d(0x91),_0x4219ca[_0x42d82d(0x217)][_0x42d82d(0x1f7)]=_0x42d82d(0x91),_0x4219ca['style'][_0x42d82d(0x206)]=_0x42d82d(0x171),_0x4219ca['style'][_0x42d82d(0xfa)]='1',_0x4219ca[_0x42d82d(0x217)]['transition']=_0x42d82d(0x245),_0x4219ca[_0x42d82d(0x142)]=_0x42d82d(0x154),document[_0x42d82d(0x118)][_0x42d82d(0x20b)](_0x4219ca);}function hideLoadingModal(){const _0x41f056=_0x25ddf2,_0x4423b7=document[_0x41f056(0x116)](_0x41f056(0x97));_0x4423b7&&(_0x4423b7[_0x41f056(0x217)][_0x41f056(0xfa)]='0',_0x4423b7[_0x41f056(0xa0)]());}function cargarAlmacenes(_0x360c58){const _0x5a45d5=_0x25ddf2,_0x36ca5d=document[_0x5a45d5(0x116)](_0x5a45d5(0x1c5));_0x36ca5d[_0x5a45d5(0x142)]='';const _0x57eaac=company[0x0][_0x5a45d5(0x8c)][_0x5a45d5(0x213)](_0x10175d=>_0x10175d[_0x5a45d5(0x73)]==_0x360c58);_0x57eaac&&_0x57eaac[_0x5a45d5(0x126)][_0x5a45d5(0x10a)]>0x0&&_0x57eaac[_0x5a45d5(0x126)][_0x5a45d5(0x149)](_0x313e01=>{const _0x36a7b3=_0x5a45d5;let _0x1c11f0=document[_0x36a7b3(0x125)](_0x36a7b3(0x225));_0x1c11f0[_0x36a7b3(0x1b3)]=_0x313e01[_0x36a7b3(0x1c5)],_0x1c11f0['textContent']=_0x313e01[_0x36a7b3(0x223)],_0x36ca5d[_0x36a7b3(0x20b)](_0x1c11f0);});}function getAllWarehouses(){const _0x5c679f=_0x25ddf2,_0x3eb29d=company[0x0]['setBranches']||[],_0x3bfaed=new Map();return _0x3eb29d['forEach'](_0x19161=>{const _0x3f4ab0=_0x612f;(_0x19161[_0x3f4ab0(0x126)]||[])['forEach'](_0xebc143=>{const _0x68bd29=_0x3f4ab0;!_0x3bfaed[_0x68bd29(0x232)](_0xebc143[_0x68bd29(0x1c5)])&&_0x3bfaed[_0x68bd29(0x1cd)](_0xebc143[_0x68bd29(0x1c5)],{'setWarehouseId':_0xebc143['setWarehouseId'],'setWarehouseName':_0xebc143[_0x68bd29(0x223)]+'\x20('+_0x19161[_0x68bd29(0xe9)]+')'});});}),Array[_0x5c679f(0x127)](_0x3bfaed[_0x5c679f(0x13b)]());}function cargarPisos(_0x282629){const _0x160e02=_0x25ddf2,_0x213a05=company[0x0][_0x160e02(0xaf)]['filter'](_0x48cd13=>_0x48cd13[_0x160e02(0x73)]==_0x282629),_0x248a7={};_0x213a05['forEach'](_0x181d80=>{const _0x4486b8=_0x160e02;_0x248a7[_0x181d80[_0x4486b8(0x19c)]]=_0x181d80[_0x4486b8(0x1f3)];});const _0x5ed45a=document['getElementById']('setFloorId');_0x5ed45a[_0x160e02(0x142)]='';for(const _0x2f5208 in _0x248a7){const _0x32f1e0=document[_0x160e02(0x125)](_0x160e02(0x225));_0x32f1e0['value']=_0x2f5208,_0x32f1e0[_0x160e02(0xe6)]=_0x248a7[_0x2f5208],_0x5ed45a[_0x160e02(0x20b)](_0x32f1e0);}}document['getElementById'](_0x25ddf2(0x1b2))[_0x25ddf2(0x151)](_0x25ddf2(0x10d),()=>{const _0x3fcaf7=_0x25ddf2,_0x7c99f7=document[_0x3fcaf7(0x193)],_0x2a05eb=document[_0x3fcaf7(0xf9)]||document[_0x3fcaf7(0x78)]||document[_0x3fcaf7(0x20d)]||document[_0x3fcaf7(0xb2)];if(!_0x2a05eb){if(_0x7c99f7[_0x3fcaf7(0x155)])_0x7c99f7['requestFullscreen']();else{if(_0x7c99f7[_0x3fcaf7(0x14d)])_0x7c99f7['webkitRequestFullscreen']();else{if(_0x7c99f7[_0x3fcaf7(0x1af)])_0x7c99f7[_0x3fcaf7(0x1af)]();else _0x7c99f7[_0x3fcaf7(0x1a1)]&&_0x7c99f7[_0x3fcaf7(0x1a1)]();}}}else{if(document[_0x3fcaf7(0xf3)])document[_0x3fcaf7(0xf3)]();else{if(document[_0x3fcaf7(0x104)])document[_0x3fcaf7(0x104)]();else{if(document[_0x3fcaf7(0xce)])document['mozCancelFullScreen']();else document[_0x3fcaf7(0x1b4)]&&document[_0x3fcaf7(0x1b4)]();}}}});function ntf_formatDateDMY(_0x1181e7){const _0x3f13ae=_0x25ddf2;var _0x48881d=new Date(_0x1181e7),_0x9c98b8=_0x48881d[_0x3f13ae(0x117)](),_0x4ee57e=_0x48881d[_0x3f13ae(0xca)](),_0x49a3ec=monthsEspanish[_0x48881d['getMonth']()];return _0x9c98b8+'\x20de\x20'+_0x49a3ec+_0x3f13ae(0x103)+_0x4ee57e;}function ntf_groupBy(_0xfbbf73,_0x2ca5fe){const _0x6511f6=_0x25ddf2;return _0xfbbf73[_0x6511f6(0x179)](function(_0x4cbcb0,_0x4a78b3){var _0x4594ce=_0x4a78b3[_0x2ca5fe];return _0x4cbcb0[_0x4594ce]=_0x4cbcb0[_0x4594ce]||[],_0x4cbcb0[_0x4594ce]['push'](_0x4a78b3),_0x4cbcb0;},{});}function ntf_isExpired(_0x1a1ca5){const _0x5e0849=_0x25ddf2;if(!_0x1a1ca5)return![];var _0x54512a=new Date();return _0x54512a[_0x5e0849(0x8e)](0x0,0x0,0x0,0x0),new Date(_0x1a1ca5)<=_0x54512a;}function _0x612f(_0x1aecaa,_0x40b1ee){const _0x5a51f1=_0x51df();return _0x612f=function(_0x5cde32,_0x15ff03){_0x5cde32=_0x5cde32-0x6c;let _0x1a0bd3=_0x5a51f1[_0x5cde32];return _0x1a0bd3;},_0x612f(_0x1aecaa,_0x40b1ee);}function ntf_getNotifications(){const _0xebc7eb=_0x25ddf2;var _0x59e077=parseInt(document['getElementById'](_0xebc7eb(0x1c5))[_0xebc7eb(0x1b3)],0xa),_0x13a3b6=ntf_groupBy(products,'setIdProducto'),_0x463474=[];return Object['keys'](_0x13a3b6)[_0xebc7eb(0x149)](function(_0x24dbdc){const _0x200591=_0xebc7eb;var _0xf3a4ae=_0x13a3b6[_0x24dbdc],_0x531fa2=_0xf3a4ae[0x0],_0x252062=(_0x531fa2[_0x200591(0xab)]||[])[_0x200591(0x213)](function(_0x556877){return _0x556877['setIdSucursal']==_0x59e077;});if(!_0x252062)return;var _0x4e7c01=parseFloat(_0x252062[_0x200591(0x19b)]),_0x3655a5=parseFloat(_0x252062[_0x200591(0x9a)]);_0x531fa2[_0x200591(0x11b)]==0x1&&_0x4e7c01<=_0x3655a5&&_0x463474[_0x200591(0x1ad)]({'type':0x1,'id_registro':_0x531fa2['id'],'title':_0x200591(0x235)+_0x531fa2[_0x200591(0x218)],'message':'\x0aEl\x20producto\x20\x22'+_0x531fa2[_0x200591(0x218)]+_0x200591(0x17d)+_0x3655a5['toFixed'](0x3)+'<br>\x0aStock\x20Actual:\x20'+_0x4e7c01['toFixed'](0x3)+'\x0a','data':{'producto':_0x531fa2,'stock':_0x4e7c01,'minStock':_0x3655a5}}),_0x531fa2['setBatchExpirationDate']&&ntf_isExpired(_0x531fa2[_0x200591(0x161)])&&_0x463474[_0x200591(0x1ad)]({'type':0x2,'id_registro':_0x531fa2['id'],'title':_0x200591(0x1e3)+_0x531fa2['setDescripcion'],'message':'El\x20producto\x20\x22'+_0x531fa2[_0x200591(0x218)]+'\x22\x20expiró\x20el\x20'+ntf_formatDateDMY(_0x531fa2[_0x200591(0x161)])+_0x200591(0x187)+_0x200591(0x1c6)+_0x4e7c01[_0x200591(0x18c)](0x3),'data':{'producto':_0x531fa2,'expiration':_0x531fa2[_0x200591(0x161)]}});}),_0x463474;}function ntf_renderNotifications(){const _0x451d1f=_0x25ddf2;var _0x2b2710=ntf_getNotifications(),_0x119f2c=document[_0x451d1f(0x116)](_0x451d1f(0x21a)),_0x2ae201=document['getElementById']('ntf-notif-count');_0x119f2c[_0x451d1f(0x142)]='',_0x2ae201['textContent']=_0x2b2710[_0x451d1f(0x10a)];if(_0x2b2710[_0x451d1f(0x10a)]===0x0){var _0x44353c=document['createElement']('li');_0x44353c['textContent']='No\x20hay\x20notificaciones',_0x119f2c['appendChild'](_0x44353c);return;}_0x2b2710[_0x451d1f(0x149)](function(_0x21ef95,_0x519b2e){const _0x238a5e=_0x451d1f;var _0x1e437a=document['createElement']('li');_0x1e437a['textContent']=_0x21ef95[_0x238a5e(0x74)],_0x1e437a['setAttribute'](_0x238a5e(0x152),_0x519b2e),_0x119f2c['appendChild'](_0x1e437a);});}function ntf_openModal(_0x5660af){const _0x300d25=_0x25ddf2;var _0xfa4320=document[_0x300d25(0x116)](_0x300d25(0x181)),_0x5e3992=document[_0x300d25(0x116)]('ntf-modal-actions'),_0x179f65=document[_0x300d25(0x116)](_0x300d25(0x22b));_0xfa4320[_0x300d25(0x142)]=_0x300d25(0x1f5)+_0x5660af[_0x300d25(0x74)]+_0x300d25(0x202)+_0x5660af[_0x300d25(0x75)]+_0x300d25(0xed),_0x5e3992[_0x300d25(0x142)]='';if(_0x5660af[_0x300d25(0x101)]===0x1)[_0x300d25(0x249),_0x300d25(0x133),_0x300d25(0x1a7)]['forEach'](function(_0x4a66c8){const _0x5f3283=_0x300d25;var _0x87ab59=document[_0x5f3283(0x125)](_0x5f3283(0x98));_0x87ab59[_0x5f3283(0xe6)]=_0x4a66c8,_0x87ab59[_0x5f3283(0x151)](_0x5f3283(0x10d),function(){const _0x5ac79d=_0x5f3283;console[_0x5ac79d(0x9d)](_0x5ac79d(0x1db)+_0x4a66c8+_0x5ac79d(0x190)+_0x5660af[_0x5ac79d(0x112)]);}),_0x5e3992[_0x5f3283(0x20b)](_0x87ab59);});else _0x5660af[_0x300d25(0x101)]===0x2&&[_0x300d25(0x11a),'Eliminar\x20producto'][_0x300d25(0x149)](function(_0x479177){const _0x362759=_0x300d25;var _0x5cbd9f=document[_0x362759(0x125)]('button');_0x5cbd9f[_0x362759(0xe6)]=_0x479177,_0x5cbd9f['addEventListener'](_0x362759(0x10d),function(){const _0x97fbf7=_0x362759;console['log'](_0x97fbf7(0x1db)+_0x479177+_0x97fbf7(0x190)+_0x5660af[_0x97fbf7(0x112)]);}),_0x5e3992[_0x362759(0x20b)](_0x5cbd9f);});_0x179f65[_0x300d25(0xd2)]['remove'](_0x300d25(0x1a9));}function ntf_closeModal(){const _0x23156c=_0x25ddf2;document['getElementById'](_0x23156c(0x22b))[_0x23156c(0xd2)]['add'](_0x23156c(0x1a9));}document[_0x25ddf2(0x116)]('tabs-notifications')['addEventListener'](_0x25ddf2(0x10d),function(){const _0x1a8358=_0x25ddf2;document['getElementById'](_0x1a8358(0x1de))[_0x1a8358(0xd2)][_0x1a8358(0xdc)]('ntf-hidden'),ntf_renderNotifications();}),document[_0x25ddf2(0x116)](_0x25ddf2(0x21a))[_0x25ddf2(0x151)](_0x25ddf2(0x10d),function(_0x373517){const _0x328f23=_0x25ddf2,_0x4ed134=_0x373517[_0x328f23(0x19d)][_0x328f23(0x1da)]('li');if(!_0x4ed134||!_0x4ed134[_0x328f23(0x19e)][_0x328f23(0x12d)])return;const _0x1b1d77=ntf_getNotifications()[_0x4ed134[_0x328f23(0x19e)][_0x328f23(0x12d)]];document[_0x328f23(0x116)](_0x328f23(0x248))['click'](),ntf_openModal(_0x1b1d77);}),document[_0x25ddf2(0x116)](_0x25ddf2(0x1fb))['addEventListener'](_0x25ddf2(0x10d),ntf_closeModal),document[_0x25ddf2(0x116)](_0x25ddf2(0x22b))['addEventListener'](_0x25ddf2(0x10d),function(_0x14c72c){const _0x2ac08a=_0x25ddf2;if(_0x14c72c[_0x2ac08a(0x19d)]===document[_0x2ac08a(0x116)](_0x2ac08a(0x22b)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x3fc6ab,_0x141616=0x3,_0x4d0da6=0x1){const _0x394b2a=_0x25ddf2,_0x1c7177=document[_0x394b2a(0x116)]('ntf-flotante-container'),_0x257124=document[_0x394b2a(0x125)]('div');let _0x3619d9;if(_0x141616==0x1)_0x3619d9=_0x394b2a(0x10c);else _0x141616==0x2?_0x3619d9=_0x394b2a(0x123):_0x3619d9=_0x394b2a(0x1a4);let _0x4ba8e3;_0x4d0da6==0x1?(_0x4ba8e3='ntf-flotante-top',_0x1c7177[_0x394b2a(0xd2)][_0x394b2a(0x220)](_0x394b2a(0x231)),_0x1c7177[_0x394b2a(0xd2)][_0x394b2a(0xa0)](_0x394b2a(0xb8))):(_0x4ba8e3=_0x394b2a(0x13e),_0x1c7177['classList'][_0x394b2a(0x220)](_0x394b2a(0xb8)),_0x1c7177[_0x394b2a(0xd2)]['remove'](_0x394b2a(0x231))),_0x257124[_0x394b2a(0xe4)]=_0x394b2a(0xea)+_0x3619d9+'\x20'+_0x4ba8e3,_0x257124[_0x394b2a(0xe6)]=_0x3fc6ab,_0x1c7177[_0x394b2a(0x20b)](_0x257124),_0x257124[_0x394b2a(0x151)](_0x394b2a(0x15c),()=>{const _0x17aa85=_0x394b2a;_0x257124[_0x17aa85(0xa0)]();});}function openDatabase(){const _0x345afb=_0x25ddf2;if(db)return Promise[_0x345afb(0xec)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5158a1,_0x268865)=>{const _0x3369c0=_0x345afb,_0x217cc7=indexedDB[_0x3369c0(0x9b)](db_name);_0x217cc7['onupgradeneeded']=function(_0x16ff58){const _0x4203c6=_0x3369c0;db=_0x16ff58['target'][_0x4203c6(0xdf)],console[_0x4203c6(0x9d)]('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x217cc7[_0x3369c0(0x165)]=function(_0x5666ff){const _0x29b435=_0x3369c0;db=_0x5666ff[_0x29b435(0x19d)][_0x29b435(0xdf)],console[_0x29b435(0x9d)](_0x29b435(0x173)),_0x5158a1(db),dbPromise=null;},_0x217cc7['onerror']=function(_0x57e1a5){const _0x4d3c39=_0x3369c0;console['error'](_0x4d3c39(0x215),_0x57e1a5['target'][_0x4d3c39(0xa5)]),_0x268865(_0x57e1a5[_0x4d3c39(0x19d)][_0x4d3c39(0xa5)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x2d583f,_0xd3cb9c=![]){const _0x220536=_0x25ddf2;if(dbOperationInProgress)return Promise[_0x220536(0x1d2)](_0x220536(0x146));return dbOperationInProgress=!![],openDatabase()[_0x220536(0xf8)](_0x16ca5d=>{const _0x5c8824=_0x220536,_0x4ebabb=_0x5c8824(0x6e),_0x4d0d36=_0x5c8824(0x241),_0x56f452=_0x5c8824(0x1d6),_0x399d78=_0x5c8824(0x197),_0x41a190=_0x2d583f?_0x5c8824(0x134)+_0x2d583f:null,_0x1b2d01=_0x2d583f?_0x5c8824(0xae)+_0x2d583f:null,_0x9c3e65=_0xd3cb9c||!_0x16ca5d['objectStoreNames'][_0x5c8824(0x1df)](_0x4ebabb)||!_0x16ca5d[_0x5c8824(0x6d)][_0x5c8824(0x1df)](_0x4d0d36)||!_0x16ca5d['objectStoreNames'][_0x5c8824(0x1df)](_0x56f452)||!_0x16ca5d[_0x5c8824(0x6d)][_0x5c8824(0x1df)](_0x399d78)||_0x2d583f&&(!_0x16ca5d[_0x5c8824(0x6d)][_0x5c8824(0x1df)](_0x41a190)||!_0x16ca5d['objectStoreNames'][_0x5c8824(0x1df)](_0x1b2d01));if(!_0x9c3e65)return dbOperationInProgress=![],Promise['resolve'](_0x16ca5d);const _0x98eec2=_0x16ca5d[_0x5c8824(0x1d7)]+0x1;return _0x16ca5d[_0x5c8824(0x12a)](),new Promise((_0x257c9a,_0xc96f06)=>{const _0x451575=_0x5c8824,_0x4d28d7=indexedDB[_0x451575(0x9b)](db_name,_0x98eec2);_0x4d28d7[_0x451575(0x207)]=function(_0x3bd9d8){const _0x1c81f6=_0x451575;db=_0x3bd9d8[_0x1c81f6(0x19d)][_0x1c81f6(0xdf)];if(_0xd3cb9c)Array[_0x1c81f6(0x127)](db[_0x1c81f6(0x6d)])[_0x1c81f6(0x149)](_0x231506=>{const _0x303448=_0x1c81f6;_0x231506!==_0x56f452&&(db['deleteObjectStore'](_0x231506),console['log'](_0x303448(0x13c)+_0x231506+'\x27\x20eliminada.'));}),console[_0x1c81f6(0x9d)]('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db[_0x1c81f6(0x6d)][_0x1c81f6(0x1df)](_0x4ebabb)&&(db['createObjectStore'](_0x4ebabb,{'keyPath':'id'}),console['log'](_0x1c81f6(0x13c)+_0x4ebabb+_0x1c81f6(0x16a)));!db[_0x1c81f6(0x6d)][_0x1c81f6(0x1df)](_0x4d0d36)&&(db[_0x1c81f6(0xad)](_0x4d0d36,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x1c81f6(0x13c)+_0x4d0d36+_0x1c81f6(0x16a)));!db[_0x1c81f6(0x6d)]['contains'](_0x56f452)&&(db[_0x1c81f6(0xad)](_0x56f452,{'keyPath':'id','autoIncrement':!![]}),console[_0x1c81f6(0x9d)](_0x1c81f6(0x13c)+_0x56f452+_0x1c81f6(0x16a)));!db['objectStoreNames'][_0x1c81f6(0x1df)](_0x399d78)&&(db['createObjectStore'](_0x399d78,{'keyPath':'id'}),console[_0x1c81f6(0x9d)]('ObjectStore\x20\x27'+_0x399d78+_0x1c81f6(0x16a)));if(_0x2d583f){if(!db[_0x1c81f6(0x6d)]['contains'](_0x41a190)){const _0x27d966=db[_0x1c81f6(0xad)](_0x41a190,{'keyPath':'id','autoIncrement':!![]});_0x27d966[_0x1c81f6(0x22a)](_0x1c81f6(0x1c4),'cartId',{'unique':!![]}),console[_0x1c81f6(0x9d)](_0x1c81f6(0x13c)+_0x41a190+_0x1c81f6(0x16a));}!db[_0x1c81f6(0x6d)][_0x1c81f6(0x1df)](_0x1b2d01)&&(db[_0x1c81f6(0xad)](_0x1b2d01,{'keyPath':'id','autoIncrement':!![]}),console['log']('ObjectStore\x20\x27'+_0x1b2d01+_0x1c81f6(0x16a)));}}},_0x4d28d7[_0x451575(0x165)]=function(_0x1a9e43){const _0x5f3fb5=_0x451575;db=_0x1a9e43[_0x5f3fb5(0x19d)]['result'],dbOperationInProgress=![],console[_0x5f3fb5(0x9d)]('Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.'),_0x257c9a(db);},_0x4d28d7[_0x451575(0xcd)]=function(_0x1955ca){const _0x10752d=_0x451575;console[_0x10752d(0xa5)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x1955ca[_0x10752d(0x19d)]['error']),dbOperationInProgress=![],_0xc96f06(_0x1955ca[_0x10752d(0x19d)][_0x10752d(0xa5)]);};});})[_0x220536(0x21d)](_0x2d8627=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0x220536(0x14c)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x5f1f76=_0x25ddf2;if(!isOnline())return Promise['resolve']();try{const _0x2bed32=await createCartStore(''),_0x4d1e7a=_0x2bed32[_0x5f1f76(0x1c0)](_0x5f1f76(0x1d6),_0x5f1f76(0x1e9)),_0xf194ed=_0x4d1e7a[_0x5f1f76(0x1ba)](_0x5f1f76(0x1d6)),_0x452a2a=await new Promise((_0x1724cc,_0x1d06e7)=>{const _0x214d7c=_0x5f1f76,_0xa4556a=_0xf194ed[_0x214d7c(0x77)]();_0xa4556a[_0x214d7c(0x165)]=()=>_0x1724cc(_0xa4556a[_0x214d7c(0xdf)]),_0xa4556a[_0x214d7c(0xcd)]=()=>_0x1d06e7(new Error(_0x214d7c(0xc8)+_0xa4556a[_0x214d7c(0xa5)]));}),_0x26c2b8=_0x452a2a[_0x5f1f76(0x1a8)](_0x3547cb=>_0x3547cb[_0x5f1f76(0x145)]==0x1);if(_0x26c2b8[_0x5f1f76(0x10a)]===0x0){console[_0x5f1f76(0x9d)](_0x5f1f76(0x11e));return;}const _0x1a442b=_0x26c2b8[_0x5f1f76(0x1a8)](_0x187b5e=>_0x187b5e[_0x5f1f76(0x129)]==0x64),_0x3ca05f=_0x26c2b8['filter'](_0x16dfc9=>_0x16dfc9[_0x5f1f76(0x129)]!=0x64);function _0x44a0e6(_0x14e4f6,_0x4005da){return new Promise((_0x5da248,_0x59b381)=>{const _0x2f92f3=_0x612f,_0x2ab65b=_0x14e4f6[_0x2f92f3(0x1c0)]('offline_operations',_0x2f92f3(0x237)),_0x4a89d=_0x2ab65b[_0x2f92f3(0x1ba)](_0x2f92f3(0x1d6)),_0x3e8c5b=_0x4a89d[_0x2f92f3(0x147)](_0x4005da);_0x3e8c5b[_0x2f92f3(0x165)]=()=>_0x5da248(),_0x3e8c5b[_0x2f92f3(0xcd)]=_0x6c536b=>_0x59b381(new Error('Error\x20guardando\x20operación:\x20'+_0x6c536b['target']['error']));});}async function _0x1d722c(_0x5a2e1d){const _0x5db177=_0x5f1f76;for(const _0x4e1342 of _0x5a2e1d){_0x4e1342[_0x5db177(0x129)]===0x64&&Array[_0x5db177(0x7f)](_0x4e1342['newItems'])&&_0x4e1342[_0x5db177(0xfd)][_0x5db177(0x113)]((_0xc3567,_0x50bfeb)=>{const _0x4517f3=_0x5db177,_0x2b731b=[0x1,0x2,0x3],_0x58b31a=_0x2b731b['includes'](_0xc3567['setItemType']),_0x18eb8d=_0x2b731b[_0x4517f3(0x210)](_0x50bfeb[_0x4517f3(0x242)]);if(_0x58b31a&&!_0x18eb8d)return-0x1;if(!_0x58b31a&&_0x18eb8d)return 0x1;return _0xc3567[_0x4517f3(0x242)]-_0x50bfeb[_0x4517f3(0x242)];});const _0x7dd304=new FormData();_0x7dd304[_0x5db177(0x176)]('invoice',JSON['stringify'](_0x4e1342));if(_0x4e1342[_0x5db177(0xb5)]instanceof Blob&&_0x4e1342[_0x5db177(0xb5)][_0x5db177(0xdd)]>0x0)_0x7dd304[_0x5db177(0x176)](_0x5db177(0xb5),_0x4e1342[_0x5db177(0xb5)],_0x5db177(0xb0));else _0x4e1342[_0x5db177(0xb5)]&&console[_0x5db177(0x11f)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x4e1342[_0x5db177(0x129)]==0x64&&Array[_0x5db177(0x7f)](_0x4e1342['newItems'])&&_0x4e1342[_0x5db177(0xfd)][_0x5db177(0x149)]((_0x8f2c1e,_0x3cb84f)=>{const _0x28bb55=_0x5db177;Array[_0x28bb55(0x7f)](_0x8f2c1e[_0x28bb55(0x1d1)])&&_0x8f2c1e[_0x28bb55(0x1d1)][_0x28bb55(0x149)]((_0x8b00b7,_0x244c23)=>{const _0x13e59b=_0x28bb55;_0x8b00b7 instanceof Blob&&_0x8b00b7[_0x13e59b(0xdd)]>0x0?_0x7dd304[_0x13e59b(0x176)](_0x13e59b(0x124)+_0x3cb84f+_0x13e59b(0x1e5)+_0x244c23+']',_0x8b00b7,_0x8b00b7[_0x13e59b(0x70)]):console[_0x13e59b(0x11f)](_0x13e59b(0x143)+_0x3cb84f+_0x13e59b(0x17f)+_0x244c23+_0x13e59b(0xc9));});});try{const _0x7b9e74=await fetch(_0x4e1342[_0x5db177(0x135)],{'method':_0x5db177(0x168),'body':_0x7dd304});if(!_0x7b9e74['ok'])throw new Error(_0x5db177(0xf5)+_0x7b9e74[_0x5db177(0x198)]+_0x5db177(0x17a)+_0x7b9e74[_0x5db177(0x114)]);const _0x472fdb=await _0x7b9e74[_0x5db177(0x1ec)]();!_0x472fdb['success']?_0x4e1342[_0x5db177(0x111)]=_0x472fdb[_0x5db177(0x75)]||'Error\x20desconocido.':(_0x4e1342[_0x5db177(0x145)]=0x0,delete _0x4e1342['setMessage']),await _0x44a0e6(_0x2bed32,_0x4e1342);}catch(_0x52a192){console[_0x5db177(0xa5)](_0x5db177(0x12f),_0x52a192),_0x4e1342[_0x5db177(0x111)]=_0x52a192['message'],await _0x44a0e6(_0x2bed32,_0x4e1342);}}}_0x1a442b[_0x5f1f76(0x113)]((_0x3400ce,_0x39de40)=>{const _0x11a092=_0x5f1f76,_0x2eddf6=[0x1,0x2,0x3],_0x23a35c=_0x598a4a=>Array[_0x11a092(0x7f)](_0x598a4a[_0x11a092(0xfd)])&&_0x598a4a[_0x11a092(0xfd)][_0x11a092(0xc7)](_0x353931=>_0x2eddf6['includes'](_0x353931['setItemType'])),_0x4192e0=_0x23a35c(_0x3400ce),_0x3dd506=_0x23a35c(_0x39de40);if(_0x4192e0&&!_0x3dd506)return-0x1;if(!_0x4192e0&&_0x3dd506)return 0x1;const _0x22e9b0=Math[_0x11a092(0x1ce)](..._0x3400ce[_0x11a092(0xfd)][_0x11a092(0x7e)](_0x4b621a=>_0x4b621a[_0x11a092(0x242)])),_0x1439c1=Math[_0x11a092(0x1ce)](..._0x39de40[_0x11a092(0xfd)][_0x11a092(0x7e)](_0x68d30a=>_0x68d30a[_0x11a092(0x242)]));return _0x22e9b0-_0x1439c1;}),_0x1a442b[_0x5f1f76(0x10a)]&&(console[_0x5f1f76(0x9d)](_0x5f1f76(0x1b0)+_0x1a442b[_0x5f1f76(0x10a)]+_0x5f1f76(0x9c)),await _0x1d722c(_0x1a442b)),_0x3ca05f[_0x5f1f76(0x10a)]&&(console['log'](_0x5f1f76(0x1b0)+_0x3ca05f[_0x5f1f76(0x10a)]+_0x5f1f76(0x160)),await _0x1d722c(_0x3ca05f)),console[_0x5f1f76(0x9d)](_0x5f1f76(0x105));}catch(_0x1a3fa4){console[_0x5f1f76(0xa5)](_0x5f1f76(0x1ab),_0x1a3fa4);}}function apiERPsaveOnline(_0x5cf906,_0x24befd,_0x4d7e42,_0x152e37,_0x4bd609){const _0x508323=_0x25ddf2;if(!isOnline())return console[_0x508323(0x9d)](_0x508323(0x14b)),Promise[_0x508323(0x1d2)]('Error\x20Network.');const _0x39ee79={'setAuthToken':_0x5cf906,'setBranches':_0x24befd,'setUsers':_0x4d7e42,'setSeries':_0x152e37,'setPrinters':_0x4bd609};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':_0x508323(0x168),'headers':{'Content-Type':_0x508323(0x1d5)},'body':JSON[_0x508323(0x20f)](_0x39ee79)})['then'](_0x4033fd=>{const _0x441639=_0x508323;if(!_0x4033fd['ok'])throw new Error(_0x441639(0xa4)+_0x4033fd['statusText']);return _0x4033fd[_0x441639(0x1ec)]();})[_0x508323(0xf8)](_0x4dec2e=>{const _0xc4c5cf=_0x508323;if(!_0x4dec2e['success'])throw new Error(_0x4dec2e['message']||_0xc4c5cf(0x13a));return console['log'](_0xc4c5cf(0xd9)),_0x4dec2e;})['catch'](_0x312f07=>{const _0x45bb90=_0x508323;console[_0x45bb90(0xa5)]('Error\x20al\x20actualizar\x20data\x20online:',_0x312f07);throw _0x312f07;});}async function acceder(){const _0x3aea2e=_0x25ddf2;if(!isOnline()){alert(_0x3aea2e(0x158));throw new Error(_0x3aea2e(0x209));}const _0x37823e=document[_0x3aea2e(0x116)]('btn-access-login'),_0x1bfd29=document[_0x3aea2e(0x116)](_0x3aea2e(0x22e))['value'],_0x348beb=document[_0x3aea2e(0x116)](_0x3aea2e(0xe0))[_0x3aea2e(0x1b3)];_0x37823e['disabled']=!![];if(!_0x1bfd29||!_0x348beb){alert(_0x3aea2e(0x14e)),_0x37823e[_0x3aea2e(0x17c)]=![];return;}console[_0x3aea2e(0x9d)](_0x3aea2e(0xbd)),showLoadingModal();const _0x363320={'usuario':_0x1bfd29,'password':_0x348beb};try{const _0x4da9ce=await fetch('https://apierp.dev/api/company/get/',{'method':_0x3aea2e(0x168),'headers':{'Content-Type':_0x3aea2e(0x1d5)},'body':JSON[_0x3aea2e(0x20f)](_0x363320)}),_0x3a8130=await _0x4da9ce['json']();if(!(_0x3a8130[_0x3aea2e(0xeb)]&&Array[_0x3aea2e(0x7f)](_0x3a8130['message']))){alert(_0x3a8130[_0x3aea2e(0x75)]),_0x37823e[_0x3aea2e(0x17c)]=![],hideLoadingModal();throw new Error(_0x3a8130[_0x3aea2e(0x75)]);}const _0x23fa1a=document[_0x3aea2e(0x116)]('infoLoadingModal');_0x23fa1a[_0x3aea2e(0x142)]=_0x3aea2e(0xba);const _0x5bc54a=_0x3a8130[_0x3aea2e(0x75)],{setApiEndPoint:_0x1413fd,setAuthToken:_0x153992,setUser_Local:_0x12cc68}=_0x5bc54a[0x0],_0x55072c={'apiPOS_getAccessData':0x1,'setToken':_0x153992,'setUserLocalUserName':_0x12cc68[_0x3aea2e(0xe7)]},_0x30ba37=await fetch(_0x1413fd,{'method':'POST','headers':{'Content-Type':_0x3aea2e(0x211)},'body':JSON[_0x3aea2e(0x20f)](_0x55072c)}),_0x24dad5=await _0x30ba37[_0x3aea2e(0x1ec)]();if(!(_0x24dad5[_0x3aea2e(0xeb)]===!![])){_0x23fa1a[_0x3aea2e(0x142)]=_0x3aea2e(0x18a)+_0x24dad5[_0x3aea2e(0x75)]+'\x20...',setTimeout(()=>location['reload'](),0x1388);return;}_0x23fa1a[_0x3aea2e(0x142)]=_0x3aea2e(0x214);const _0x1f0c42=_0x24dad5[_0x3aea2e(0x75)]['setProductos'][_0x3aea2e(0x7e)](_0x2a89f5=>{const _0x5210bd=_0x3aea2e,_0x1aff53=_0x2a89f5[_0x5210bd(0x208)]||'',_0x8da149=_0x2a89f5['setIdProducto']||'',_0x5479c3=_0x2a89f5[_0x5210bd(0x191)]||'',_0x3337f0=_0x2a89f5[_0x5210bd(0x1a6)]||'',_0x2eda51=_0x2a89f5[_0x5210bd(0x218)]||'',_0x2bc800=_0x2a89f5[_0x5210bd(0xf1)]||'',_0x14825a=_0x2a89f5[_0x5210bd(0x194)]||'',_0x52ca41=_0x2a89f5['setUnidad']||'',_0x22004b=_0x2a89f5[_0x5210bd(0x18b)]||'',_0x5ae1e4=_0x2a89f5[_0x5210bd(0x7a)]||'',_0x13de98=_0x2a89f5[_0x5210bd(0xa1)]||'10',_0x1fc732=_0x5bc54a[0x0][_0x5210bd(0x144)][_0x5210bd(0x213)](_0x456988=>_0x456988['setTaxId']==_0x5ae1e4)?.[_0x5210bd(0x157)]||0x0,_0x5a7c50=parseFloat(_0x2a89f5[_0x5210bd(0x11b)])||0x1,_0x4200f9=_0x2a89f5[_0x5210bd(0x180)]||'',_0xa382fe=_0x2a89f5[_0x5210bd(0x19f)]||'',_0x380c5a=_0x2a89f5[_0x5210bd(0x94)]||_0x5210bd(0x192),_0x2b161d=_0x2a89f5['setConversionFactor']||0x1,_0x25a6e1=_0x2a89f5[_0x5210bd(0x1f1)]||'',_0x5f4035=_0x2a89f5[_0x5210bd(0x161)]||'',_0x14e163=(_0x2a89f5[_0x5210bd(0xd0)]||[])['map'](_0x5a041c=>{const _0x147077=_0x5210bd,_0x318149=parseFloat(_0x5a041c[_0x147077(0x6c)])||0x0,_0x1ccd8b=parseFloat(_0x5a041c[_0x147077(0x132)])||0x0,_0x2bb8be=parseFloat(_0x5a041c[_0x147077(0x1c1)])||0x0,_0x4acc77=parseFloat(_0x5a041c[_0x147077(0xf7)])||0x0,_0x5f2559=_0x5a041c['setPriceLists']||[];let _0x627884=0x0,_0x2159bd=0x0;if(_0x318149>0x0)_0x627884=_0x318149,_0x2159bd=setTipAfeImpGravados['some'](_0x79ef0a=>_0x79ef0a==_0x13de98)?_0x318149+_0x318149*_0x1fc732/0x64:_0x318149;else _0x1ccd8b>0x0&&(_0x2159bd=_0x1ccd8b,_0x627884=setTipAfeImpGravados['some'](_0x39d08e=>_0x39d08e==_0x13de98)?_0x1ccd8b/(0x1+_0x1fc732/0x64):_0x1ccd8b);let _0x1166c0=0x0,_0x19761b=0x0;if(_0x2bb8be>0x0)_0x1166c0=_0x2bb8be,_0x19761b=setTipAfeImpGravados['some'](_0x2c41a3=>_0x2c41a3==_0x13de98)?_0x2bb8be+_0x2bb8be*_0x1fc732/0x64:_0x2bb8be;else _0x4acc77>0x0&&(_0x19761b=_0x4acc77,_0x1166c0=setTipAfeImpGravados[_0x147077(0xc7)](_0x7a6e8a=>_0x7a6e8a==_0x13de98)?_0x4acc77/(0x1+_0x1fc732/0x64):_0x4acc77);return{'currency':_0x5a041c['currency'],'setMtoValorUnitario':_0x627884,'setMtoPrecioUnitario':_0x2159bd,'setMtoValorCostoUnitario':_0x1166c0,'setMtoPrecioCostoUnitario':_0x19761b,'setPriceLists':_0x5f2559};});if(_0x5ae1e4!==''&&_0x1aff53!==''&&_0x5479c3!==''&&_0x2eda51!=='')return{'id':_0x1aff53,'setIdProducto':_0x8da149,'setCodProducto':_0x5479c3,'setItemBarCode':_0x3337f0,'setDescripcion':_0x2eda51,'setItemDescription':_0x2bc800,'setUnidadCodigo':_0x14825a,'setUnidad':_0x52ca41,'setItemUnitAlias':_0x22004b,'setPorcentajeIgv':_0x1fc732,'setTaxId':_0x5ae1e4,'setTipAfeIgv':_0x13de98,'setInventariable':_0x5a7c50,'setCategoria':_0x4200f9,'setMarca':_0xa382fe,'setImg':_0x380c5a,'setConversionFactor':_0x2b161d,'setBatchName':_0x25a6e1,'setBatchExpirationDate':_0x5f4035,'setItemIsBought':_0x2a89f5[_0x5210bd(0x1fc)],'setItemIsSold':_0x2a89f5['setItemIsSold'],'sucursales':_0x2a89f5[_0x5210bd(0xab)]||[],'setPrinters':_0x2a89f5['setPrinters']||[],'currency_data':_0x14e163,'setImages':_0x2a89f5[_0x5210bd(0x186)]||[]};return null;})[_0x3aea2e(0x1a8)](Boolean);_0x5bc54a[0x0]['setCompanyLogo']=_0x24dad5[_0x3aea2e(0x75)]['setCompanyLogo'],_0x5bc54a[0x0][_0x3aea2e(0xc5)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0xc5)],_0x5bc54a[0x0][_0x3aea2e(0xc0)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0xc0)],_0x5bc54a[0x0]['setCompanyNameTrade']=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x85)],_0x5bc54a[0x0][_0x3aea2e(0x204)]=_0x24dad5['message'][_0x3aea2e(0x204)],_0x5bc54a[0x0][_0x3aea2e(0x200)]=_0x24dad5['message'][_0x3aea2e(0x200)],_0x5bc54a[0x0][_0x3aea2e(0xf6)]=_0x24dad5['message']['setCompanyEmail'],_0x5bc54a[0x0][_0x3aea2e(0x11c)]=_0x24dad5['message']['setCompanyWebsite'],_0x5bc54a[0x0][_0x3aea2e(0x8c)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x8c)],_0x5bc54a[0x0][_0x3aea2e(0x1d8)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x1d8)],_0x5bc54a[0x0][_0x3aea2e(0x1a2)]=_0x24dad5['message'][_0x3aea2e(0x1a2)],_0x5bc54a[0x0][_0x3aea2e(0x205)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x205)],_0x5bc54a[0x0][_0x3aea2e(0x1e8)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x1e8)],_0x5bc54a[0x0]['setBankAccounts']=_0x24dad5['message']['setBankAccounts'],_0x5bc54a[0x0]['setCustomers']=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0xef)],_0x5bc54a[0x0][_0x3aea2e(0x234)]=_0x24dad5['message'][_0x3aea2e(0x234)],_0x5bc54a[0x0]['setShifts']=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x119)],_0x5bc54a[0x0][_0x3aea2e(0x16e)]=_0x24dad5[_0x3aea2e(0x75)][_0x3aea2e(0x16e)],_0x23fa1a[_0x3aea2e(0x142)]=_0x3aea2e(0x71);const _0x203d1d=await createCartStore('');await clearAndStore(_0x203d1d,_0x3aea2e(0x6e),_0x1f0c42),await clearAndStore(_0x203d1d,'layoutState',[{'id':'layout',..._0x5bc54a[0x0]['setLayout']}]),await apiERPsaveOnline(_0x153992,_0x5bc54a[0x0][_0x3aea2e(0x8c)],_0x5bc54a[0x0][_0x3aea2e(0x1d8)],_0x5bc54a[0x0][_0x3aea2e(0x1a2)],_0x5bc54a[0x0][_0x3aea2e(0x205)]);const _0x1bf474=await fetch(_0x3aea2e(0x182),{'method':_0x3aea2e(0x168),'headers':{'Content-Type':_0x3aea2e(0x211)},'body':JSON[_0x3aea2e(0x20f)]({'setAuthToken':_0x153992,'setUserId':_0x12cc68[_0x3aea2e(0x130)]})}),_0x5577c2=await _0x1bf474['json']();if(_0x5577c2['success'])_0x5bc54a[0x0][_0x3aea2e(0xaf)]=_0x5577c2[_0x3aea2e(0x75)][_0x3aea2e(0xaf)],_0x5bc54a[0x0][_0x3aea2e(0x1d9)]=_0x5577c2['message']['setUsers'],_0x5bc54a[0x0]['setPrinters']=_0x5577c2[_0x3aea2e(0x75)][_0x3aea2e(0x205)];else{console['error']('Error\x20Update:',_0x5577c2[_0x3aea2e(0x75)]);return;}await saveCompanyToIndexedDB(_0x5bc54a,_0x203d1d);if(!_0x5bc54a[0x0]['setWindows']||_0x5bc54a[0x0]['setWindows'][_0x3aea2e(0x10a)]===0x0){console['error']('Error:\x20No\x20hay\x20ventanas\x20disponibles.');return;}for(const _0x5d55cb of _0x5bc54a[0x0][_0x3aea2e(0xaf)]){await new Promise(_0x3e4001=>setTimeout(_0x3e4001,0x12c)),await createCartStore(_0x5d55cb[_0x3aea2e(0x199)]),_0x23fa1a[_0x3aea2e(0x142)]=_0x3aea2e(0x106)+_0x5d55cb[_0x3aea2e(0x1c8)]+_0x3aea2e(0x178);}_0x23fa1a['innerHTML']=_0x3aea2e(0x131)+_0x12cc68['setUserNombres']+_0x3aea2e(0x178),setTimeout(()=>location[_0x3aea2e(0x8a)](),0x7d0);}catch(_0x243c28){console[_0x3aea2e(0xa5)](_0x3aea2e(0x13d),_0x243c28),_0x37823e['disabled']=![],hideLoadingModal(),alert(_0x243c28);throw _0x243c28;}}function clearAndStore(_0x50a5c2,_0x1685da,_0x51e4c5){return new Promise((_0x3b63e3,_0x2f5722)=>{const _0x594263=_0x612f,_0x5eae8c=_0x50a5c2['transaction'](_0x1685da,_0x594263(0x237)),_0x44558b=_0x5eae8c[_0x594263(0x1ba)](_0x1685da),_0x3e035d=_0x44558b[_0x594263(0xf4)]();_0x3e035d[_0x594263(0x165)]=()=>{const _0x30f2a3=_0x594263;_0x51e4c5[_0x30f2a3(0x149)](_0x19e333=>_0x44558b['put'](_0x19e333));},_0x5eae8c['oncomplete']=()=>_0x3b63e3(),_0x5eae8c[_0x594263(0xcd)]=()=>_0x2f5722(new Error(_0x594263(0x1dd)+_0x1685da+'!'));});}async function logoutReload(_0x39eae9=0x0,_0x1deb2d){const _0x19a9db=_0x25ddf2;if(_0x39eae9!=0x1){showLoadingModal();const _0x147d4e=document[_0x19a9db(0x116)](_0x19a9db(0x23d));_0x147d4e[_0x19a9db(0x142)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>';}_0x1deb2d==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0x216ef0,_0x1064ed){const _0x266f2c=_0x25ddf2;_0x266f2c(0xc3)in navigator&&navigator[_0x266f2c(0xc3)]['register'](_0x216ef0)[_0x266f2c(0xf8)](_0x2b8bbe=>{const _0x4d977d=_0x266f2c;console[_0x4d977d(0x9d)](_0x4d977d(0x1b8)),_0x2b8bbe[_0x4d977d(0xb1)]=()=>{const _0x571c7d=_0x4d977d,_0x518aa0=_0x2b8bbe[_0x571c7d(0x10b)];_0x518aa0[_0x571c7d(0x22d)]=()=>{const _0x21a474=_0x571c7d;_0x518aa0[_0x21a474(0x12c)]==_0x21a474(0x221)&&navigator[_0x21a474(0xc3)][_0x21a474(0x177)]&&console['log'](_0x21a474(0x7b));};},navigator['serviceWorker']['addEventListener'](_0x4d977d(0x1bd),()=>{const _0x5b01af=_0x4d977d;showLoadingModal();const _0xc4edfe=document[_0x5b01af(0x116)](_0x5b01af(0x23d));_0xc4edfe[_0x5b01af(0x142)]=_0x5b01af(0x12b),logoutReload(0x1,_0x1064ed);});})[_0x266f2c(0x21d)](_0x547aea=>console[_0x266f2c(0xa5)](_0x266f2c(0x17b),_0x547aea));}function isLoggedIn(_0x5b5db6){const _0x41ff09=_0x25ddf2;return _0x5b5db6&&_0x5b5db6[0x0]&&_0x5b5db6[0x0][_0x41ff09(0x128)];}function apiERPShowContent(){const _0x429be0=_0x25ddf2;document['getElementById'](_0x429be0(0x102))['classList'][_0x429be0(0xa0)](_0x429be0(0x185)),document[_0x429be0(0x116)]('pos')[_0x429be0(0xd2)][_0x429be0(0xa0)]('hidden'),document[_0x429be0(0x116)]('login')[_0x429be0(0xd2)][_0x429be0(0x220)](_0x429be0(0x185));const _0x2910dd=document['getElementById'](_0x429be0(0xdb));_0x2910dd&&_0x2910dd[_0x429be0(0xd2)][_0x429be0(0xa0)]('hidden');}function x64ctotalcal(){const _0x355747=_0x25ddf2;return window[_0x355747(0x1f0)][_0x355747(0x20a)];}function x64btsparamnumber(_0x223d0f){const _0x1a7dfd=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x223d0f==_0x1a7dfd;}function x32btsfirefoxcalc(_0xcb7d4d){const _0x4c2ac4=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0xcb7d4d==_0x4c2ac4;}function x64bitsdescitem(_0xe7afda){const _0x1c9aee=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0xe7afda==_0x1c9aee;}function x43bitsdescglobal(_0x2005de){const _0x3628e5=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x2005de==_0x3628e5;}function x32bitsCompanyTkn(_0x52f943){const _0x3e5c8e=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x52f943==_0x3e5c8e;}function x64bitsparamnumber(_0x215abe,_0x40c9f9){const _0x1ac086=_0x40c9f9;return _0x215abe==_0x1ac086;}function activarRender(_0x24ddd1){const _0x11f22d=_0x25ddf2,_0x763683=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x24ddd1)];return _0x763683[_0x11f22d(0x210)](!![]);}function saveCompanyToIndexedDB(_0x26407b,_0x3f7a5e){return new Promise((_0x2acbdd,_0x2b48eb)=>{const _0x4fc72f=_0x612f,_0x40ca33=_0x3f7a5e[_0x4fc72f(0x1c0)](_0x4fc72f(0x241),_0x4fc72f(0x237)),_0x1fbc10=_0x40ca33[_0x4fc72f(0x1ba)](_0x4fc72f(0x241));_0x1fbc10[_0x4fc72f(0xf4)](),_0x26407b[_0x4fc72f(0x149)](_0x43d17b=>_0x1fbc10[_0x4fc72f(0x147)](_0x43d17b)),_0x40ca33[_0x4fc72f(0x1a3)]=()=>_0x2acbdd(),_0x40ca33[_0x4fc72f(0xcd)]=_0x11edd2=>_0x2b48eb(_0x11edd2['target'][_0x4fc72f(0xa5)]);});}function loadCompanyFromIndexedDB(_0x311949){return new Promise((_0x10c585,_0x54dd19)=>{const _0x427672=_0x612f,_0x3a6699=_0x311949[_0x427672(0x1c0)](_0x427672(0x241),_0x427672(0x1e9)),_0x35dc4f=_0x3a6699[_0x427672(0x1ba)]('company'),_0x4aa702=_0x35dc4f[_0x427672(0x77)]();_0x4aa702[_0x427672(0x165)]=()=>_0x10c585(_0x4aa702['result']),_0x4aa702[_0x427672(0xcd)]=_0x528924=>_0x54dd19(_0x528924[_0x427672(0x19d)][_0x427672(0xa5)]);});}async function initializeCompany(_0x378e59){const _0xc4ec6c=_0x25ddf2;try{const _0x3ad867=await loadCompanyFromIndexedDB(_0x378e59);company=_0x3ad867,company[_0xc4ec6c(0x10a)]>0x0?(console[_0xc4ec6c(0x9d)](_0xc4ec6c(0x1f4)),myCompany=company[0x0]):console['log']('Company\x20Empty.');}catch(_0x2d9f88){console[_0xc4ec6c(0xa5)](_0xc4ec6c(0x1d4),_0x2d9f88);}}function loadProductsFromIndexedDB(_0x1737f3){return new Promise((_0x52227c,_0x467c91)=>{const _0x419264=_0x612f,_0x3a4836=_0x1737f3[_0x419264(0x1c0)](_0x419264(0x6e),_0x419264(0x1e9)),_0x21a07e=_0x3a4836[_0x419264(0x1ba)](_0x419264(0x6e)),_0x534d01=_0x21a07e[_0x419264(0x77)]();_0x534d01[_0x419264(0x165)]=()=>_0x52227c(_0x534d01[_0x419264(0xdf)]),_0x534d01[_0x419264(0xcd)]=_0x40276f=>_0x467c91(_0x40276f[_0x419264(0x19d)][_0x419264(0xa5)]);});}async function initializeProducts(_0x4c2dc0){const _0x9aa582=_0x25ddf2;try{const _0x476a90=await loadProductsFromIndexedDB(_0x4c2dc0);products=_0x476a90,products[_0x9aa582(0x10a)]>0x0?console[_0x9aa582(0x9d)](_0x9aa582(0xbc)):console[_0x9aa582(0x9d)](_0x9aa582(0x247));}catch(_0x5f3e97){console['error'](_0x9aa582(0x229),_0x5f3e97);}}async function validateAccess(_0x474935){const _0x549d26=_0x25ddf2;await initializeCompany(_0x474935);if(!isLoggedIn(company))throw new Error(_0x549d26(0x159));if(!activarRender(company[0x0][_0x549d26(0x162)])){alert(_0x549d26(0x84));throw new Error(_0x549d26(0x84));}apiERPShowContent();}function initCountrySelector(_0x1ebb16){const _0x11b19e=_0x25ddf2,_0xc6867a=_0x1ebb16[_0x11b19e(0x169)](_0x11b19e(0x107)),_0x512ba5=_0x1ebb16['querySelector'](_0x11b19e(0x1f2));let _0x35acec=_0xc6867a['dataset'][_0x11b19e(0x20c)]||'51';function _0x395f86(){const _0x5d7e42=_0x11b19e;_0x512ba5['style'][_0x5d7e42(0xd1)]=_0xc6867a[_0x5d7e42(0x108)]+'px';}_0x395f86(),window[_0x11b19e(0x151)](_0x11b19e(0x1c7),_0x395f86),_0xc6867a[_0x11b19e(0x151)](_0x11b19e(0x10d),function(_0x1e929b){const _0x4dfdae=_0x11b19e;_0x1e929b['stopPropagation'](),_0x395f86();const _0x3e275d=_0x512ba5['style'][_0x4dfdae(0x93)]===_0x4dfdae(0x82);document[_0x4dfdae(0x138)](_0x4dfdae(0x1f2))[_0x4dfdae(0x149)](_0x27c488=>{const _0x2c600a=_0x4dfdae;if(_0x27c488!==_0x512ba5)_0x27c488[_0x2c600a(0x217)][_0x2c600a(0x93)]=_0x2c600a(0x245);}),_0x512ba5['style'][_0x4dfdae(0x93)]=_0x3e275d?'none':'block';}),_0x512ba5[_0x11b19e(0x138)](_0x11b19e(0xa7))[_0x11b19e(0x149)](_0x31086b=>{const _0x33c09e=_0x11b19e;_0x31086b[_0x33c09e(0x151)]('click',function(_0x173a7b){const _0x1ccab4=_0x33c09e;_0x173a7b[_0x1ccab4(0x8b)](),_0x35acec=this['dataset']['code'],_0xc6867a[_0x1ccab4(0x19e)]['selectedCode']=_0x35acec,_0xc6867a[_0x1ccab4(0x142)]=this[_0x1ccab4(0x142)],_0x512ba5[_0x1ccab4(0x217)][_0x1ccab4(0x93)]='none';});}),document[_0x11b19e(0x151)](_0x11b19e(0x10d),function(_0x541e3b){const _0x38b302=_0x11b19e;!_0xc6867a[_0x38b302(0x1df)](_0x541e3b[_0x38b302(0x19d)])&&!_0x512ba5['contains'](_0x541e3b[_0x38b302(0x19d)])&&(_0x512ba5[_0x38b302(0x217)][_0x38b302(0x93)]=_0x38b302(0x245));});}function getCredentialsApiWAChat(_0x3f66a0){const _0x175e18=_0x25ddf2;return myCompany[_0x175e18(0xcb)][_0x175e18(0x213)](_0x2353b5=>_0x2353b5[_0x175e18(0x183)]==_0x3f66a0)||null;}async function sendMessageApiWAChat(_0x18291f,_0x4dd97f,_0x2ca39a,_0x5309e1,_0x1146b4,_0x481bd7,_0x40be1c){const _0x1d2614=_0x25ddf2,_0x3b68c1=getCredentialsApiWAChat(_0x18291f);if(!_0x3b68c1)return Promise[_0x1d2614(0x1d2)](new Error('Credenciales\x20no\x20encontradas'));const _0x43c4fb=_0x3b68c1[_0x1d2614(0x203)],_0x2e54ac=_0x3b68c1[_0x1d2614(0x1f8)],_0x13b759={'type':_0x2ca39a,'content':_0x5309e1};if(_0x1146b4)_0x13b759[_0x1d2614(0x184)]=_0x1146b4;_0x481bd7&&(_0x13b759['filename']=_0x481bd7);_0x40be1c&&(_0x13b759[_0x1d2614(0x1dc)]=_0x40be1c);const _0x4fe35e=_0x1d2614(0x1fa)+_0x43c4fb+_0x1d2614(0x22c)+_0x2e54ac+'/send',_0x150b82=await fetch(_0x4fe35e,{'method':'POST','headers':{'Content-Type':_0x1d2614(0x1d5),'x-auth-token':myCompany['setAuthToken']},'body':JSON['stringify']({'to':_0x4dd97f,'payload':_0x13b759})});if(!_0x150b82['ok']){const _0x5560f1=await _0x150b82[_0x1d2614(0x1ec)]()[_0x1d2614(0x21d)](()=>({}));throw new Error(_0x5560f1[_0x1d2614(0xa5)]||_0x1d2614(0x81)+_0x150b82[_0x1d2614(0x198)]);}return _0x150b82[_0x1d2614(0x1ec)]();}async function saveCredentialsApiWAChatInCompany(){const _0x1d7829=_0x25ddf2,_0x21cfa6=document[_0x1d7829(0x116)](_0x1d7829(0xcb)),_0x7b8768=_0x21cfa6[_0x1d7829(0x1b3)],_0x1c899e=getCredentialsApiWAChat(_0x7b8768);_0x1c899e&&(myCompany[_0x1d7829(0x1cf)]=_0x1c899e[_0x1d7829(0x183)]);}async function loadCart(_0x1cacc9){const _0x58202d=_0x25ddf2;try{const _0x45c07c=await createCartStore(''),_0x5b0ba1=[];await validateAccess(_0x45c07c);const _0x33f14d=company[0x0][_0x58202d(0x128)],_0x263fe8=company[0x0][_0x58202d(0x1d9)][_0x58202d(0x213)](_0x416892=>_0x416892[_0x58202d(0x140)]==_0x33f14d[_0x58202d(0xe7)]),_0x4aaa41=company[0x0][_0x58202d(0x8c)],_0x3a8b91=document[_0x58202d(0x116)]('setBranchId');_0x3a8b91[_0x58202d(0x142)]='';if(_0x263fe8&&_0x263fe8['setBranches']){const _0xcd686f=_0x4aaa41[_0x58202d(0x1a8)](_0x266f23=>_0x263fe8[_0x58202d(0x8c)][_0x58202d(0xc7)](_0x67a140=>_0x67a140[_0x58202d(0x73)]==_0x266f23[_0x58202d(0x73)]));_0xcd686f['forEach'](_0x181e74=>{const _0x3227a0=_0x58202d,_0x4e1b67=document[_0x3227a0(0x125)](_0x3227a0(0x225));_0x4e1b67['value']=_0x181e74[_0x3227a0(0x73)],_0x4e1b67['textContent']=_0x181e74[_0x3227a0(0xe9)],_0x3a8b91[_0x3227a0(0x20b)](_0x4e1b67);});}if(_0x1cacc9==0x1){const _0x1ef23a=document['getElementById']('setCajeroCodigo');_0x1ef23a[_0x58202d(0x142)]='';if(_0x263fe8){const _0x1d2c3b=document[_0x58202d(0x125)]('option');_0x1d2c3b[_0x58202d(0x1b3)]=_0x263fe8['setUserCode'],_0x1d2c3b['textContent']=_0x263fe8['setUserFullName'],_0x1ef23a[_0x58202d(0x20b)](_0x1d2c3b);}const _0x1518e0=Array[_0x58202d(0x127)](_0x45c07c['objectStoreNames'])[_0x58202d(0x1a8)](_0x17e2e8=>_0x17e2e8[_0x58202d(0x1cc)](_0x58202d(0xae)))[_0x58202d(0x7e)](_0x51748a=>{const _0x4d9ac6=_0x58202d,_0x375ad6=_0x51748a[_0x4d9ac6(0x172)]('_');return _0x375ad6[_0x4d9ac6(0x10a)]>=0x3?_0x375ad6[0x2]:null;})[_0x58202d(0x1a8)](_0x46b9fa=>_0x46b9fa!==null);console[_0x58202d(0x9d)](_0x58202d(0x212),_0x1518e0);const _0x2a104a=Array[_0x58202d(0x127)](_0x45c07c[_0x58202d(0x6d)])['filter'](_0x6f2874=>_0x6f2874[_0x58202d(0x1cc)]('window_options_'))[_0x58202d(0x113)]((_0x2568b7,_0x1de659)=>{const _0x1eea7e=_0x58202d,_0x468948=parseInt(_0x2568b7[_0x1eea7e(0x172)]('_')[_0x1eea7e(0x83)](),0xa),_0x2d3673=parseInt(_0x1de659['split']('_')[_0x1eea7e(0x83)](),0xa);return _0x468948-_0x2d3673;});for(const _0x3b0533 of _0x2a104a){const _0x3a2467=_0x3b0533[_0x58202d(0x172)]('_');if(_0x3a2467[_0x58202d(0x10a)]<0x3){console[_0x58202d(0xa5)](_0x58202d(0x226)+_0x3b0533);continue;}const _0x209c68=_0x3a2467[0x2];if(_0x1518e0[_0x58202d(0x210)](_0x209c68)){const _0x4e910c=new Promise((_0x341721,_0x329a80)=>{const _0x3a4aa4=_0x58202d,_0x35b9ff=_0x45c07c[_0x3a4aa4(0x1c0)]([_0x3b0533],_0x3a4aa4(0x1e9)),_0x3e1fe6=_0x35b9ff['objectStore'](_0x3b0533),_0x26a9b0=_0x3e1fe6[_0x3a4aa4(0x1b5)](_0x209c68);_0x26a9b0[_0x3a4aa4(0x165)]=function(_0x3db514){const _0x257bb9=_0x3a4aa4,_0x10774b=_0x3db514[_0x257bb9(0x19d)][_0x257bb9(0xdf)];window_options[_0x209c68]={},_0x10774b&&(window_options[_0x209c68]={'setTipoOperacionInvoice':_0x10774b[_0x257bb9(0xe2)],'setTipoOperacion':_0x10774b[_0x257bb9(0x129)],'setSerie':_0x10774b[_0x257bb9(0x1ed)],'setCorrelativo':_0x10774b[_0x257bb9(0x227)],'setMoneda':_0x10774b['setMoneda'],'setClienteTipoDoc':_0x10774b['setClienteTipoDoc'],'setClienteNumDoc':_0x10774b[_0x257bb9(0x90)],'setClienteDenominacion':_0x10774b[_0x257bb9(0xc1)],'setClienteDireccion':_0x10774b[_0x257bb9(0x167)],'setCustomerPhone':_0x10774b[_0x257bb9(0x120)],'setCustomerEmail':_0x10774b[_0x257bb9(0xaa)],'setFechaHora':_0x10774b[_0x257bb9(0xde)],'setSellerId':_0x10774b[_0x257bb9(0x201)],'setSellerName':_0x10774b['setSellerName'],'setDespacho':_0x10774b[_0x257bb9(0x163)],'setObservacion':_0x10774b[_0x257bb9(0xc6)],'setDescuentoGlobal_Monto':_0x10774b[_0x257bb9(0x244)],'setAttachEdit':_0x10774b[_0x257bb9(0x15f)]},console[_0x257bb9(0x9d)](_0x257bb9(0x1aa)+_0x209c68+':',_0x10774b)),Promise[_0x257bb9(0xec)](updateTab(_0x209c68))[_0x257bb9(0xf8)](_0x341721)[_0x257bb9(0x21d)](_0x40384b=>{const _0x163d17=_0x257bb9;console[_0x163d17(0xa5)](_0x163d17(0x1eb),_0x40384b),_0x329a80(_0x40384b);});},_0x26a9b0[_0x3a4aa4(0xcd)]=function(_0xba5c23){const _0x22bfc7=_0x3a4aa4;console[_0x22bfc7(0xa5)](_0x22bfc7(0x1a0)+_0x209c68+'.',_0xba5c23[_0x22bfc7(0x19d)][_0x22bfc7(0xa5)]),_0x329a80(_0xba5c23[_0x22bfc7(0x19d)][_0x22bfc7(0xa5)]);};});_0x5b0ba1[_0x58202d(0x1ad)](_0x4e910c);}}const _0x3b3d97=Array[_0x58202d(0x127)](_0x45c07c[_0x58202d(0x6d)])[_0x58202d(0x1a8)](_0x39f3a7=>_0x39f3a7[_0x58202d(0x1cc)](_0x58202d(0x134)))[_0x58202d(0x113)]((_0x3f6982,_0x248efb)=>{const _0x27debe=_0x58202d,_0x573a29=parseInt(_0x3f6982[_0x27debe(0x172)]('_')[_0x27debe(0x83)](),0xa),_0x3f3baf=parseInt(_0x248efb[_0x27debe(0x172)]('_')[_0x27debe(0x83)](),0xa);return _0x573a29-_0x3f3baf;});for(const _0x5e8a0e of _0x3b3d97){const _0x337f83=_0x5e8a0e[_0x58202d(0x172)]('_')[0x1];!carts[_0x337f83]&&(carts[_0x337f83]=[]);const _0x218371=new Promise((_0x145c6c,_0x1b4f78)=>{const _0x29a6f0=_0x58202d,_0x3f36d0=_0x45c07c['transaction']([_0x5e8a0e],_0x29a6f0(0x1e9)),_0x5d059b=_0x3f36d0['objectStore'](_0x5e8a0e),_0x424f0f=_0x5d059b[_0x29a6f0(0x77)]();_0x424f0f[_0x29a6f0(0x165)]=async function(_0x2321da){const _0x3f7521=_0x29a6f0,_0x2b2de2=_0x2321da['target'][_0x3f7521(0xdf)];carts[_0x337f83][_0x3f7521(0x10a)]=0x0,_0x2b2de2['forEach'](_0x16f060=>carts[_0x337f83]['push'](_0x16f060));const _0x2e2b43=myCompany[_0x3f7521(0xaf)][_0x3f7521(0x213)](_0x1d70f7=>_0x1d70f7[_0x3f7521(0x199)]==_0x337f83),_0x43401a=Array['isArray'](_0x2e2b43['setCartTmpInitial'])?[..._0x2e2b43[_0x3f7521(0x1be)]]:[];if(_0x43401a[_0x3f7521(0x10a)]>0x0){carts[_0x337f83]=_0x43401a,_0x2e2b43[_0x3f7521(0x15a)]=_0x43401a,_0x2e2b43['setCartTmpInitial']=[];try{const _0x57195c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x57195c),await saveCart(_0x337f83),console[_0x3f7521(0x9d)](_0x3f7521(0xa6));}catch(_0x410bd6){console['error'](_0x3f7521(0x228),_0x410bd6);}}renderCart(_0x337f83),_0x145c6c();},_0x424f0f['onerror']=function(_0xe691b5){const _0x22680b=_0x29a6f0;console[_0x22680b(0xa5)](_0x22680b(0x6f)+_0x337f83+'.',_0xe691b5['target']['error']),_0x1b4f78(_0xe691b5[_0x22680b(0x19d)][_0x22680b(0xa5)]);};});_0x5b0ba1[_0x58202d(0x1ad)](_0x218371);}}if(_0x1cacc9==0x2||_0x1cacc9==0x3||_0x1cacc9==0x4){const _0x2cf77d=document[_0x58202d(0x116)]('setPlanName'),_0x503aa9=document[_0x58202d(0x116)]('setCashierName');_0x2cf77d[_0x58202d(0x142)]='',_0x503aa9[_0x58202d(0x142)]='',_0x263fe8&&(_0x2cf77d[_0x58202d(0x142)]='Plan\x20Impulsa',_0x503aa9['innerHTML']=_0x263fe8['setUserFullName']);}if(_0x1cacc9==0x1||_0x1cacc9==0x4){const _0x584109=myCompany[_0x58202d(0xcb)],_0x4933cf=document['getElementById'](_0x58202d(0xcb));_0x4933cf['innerHTML']='',_0x584109[_0x58202d(0x149)](_0xdf3e19=>{const _0x1658a9=_0x58202d,_0x3811f7=document[_0x1658a9(0x125)]('option');_0x3811f7['value']=_0xdf3e19[_0x1658a9(0x183)],_0x3811f7['textContent']=_0xdf3e19[_0x1658a9(0x137)]??_0xdf3e19[_0x1658a9(0x1f8)],_0x4933cf['appendChild'](_0x3811f7);}),myCompany?.[_0x58202d(0x1cf)]&&(_0x4933cf[_0x58202d(0x1b3)]=myCompany[_0x58202d(0x1cf)]);}return await Promise['all'](_0x5b0ba1),myCompany?.[_0x58202d(0xfb)]&&(document[_0x58202d(0x116)](_0x58202d(0x73))[_0x58202d(0x1b3)]=company[0x0][_0x58202d(0xfb)]),document[_0x58202d(0x116)](_0x58202d(0x73))[_0x58202d(0x219)](new Event(_0x58202d(0x76))),_0x1cacc9==0x1&&(tabCount=getMaxWindowId(carts),console[_0x58202d(0x9d)](_0x58202d(0x13f)+tabCount)),_0x45c07c;}catch(_0x338b38){throw _0x338b38;}}function loadCartAndSetTabCount(_0x4a9bd5){const _0x458d48=_0x25ddf2;loadCart(_0x4a9bd5)[_0x458d48(0xf8)](async _0x22095c=>{const _0x1c8009=_0x458d48;await initializeProducts(_0x22095c);if(_0x4a9bd5==0x1){if(isLoggedIn(company)){const _0xd4827f=document['getElementById'](_0x1c8009(0x243))[_0x1c8009(0x1b3)];parseFloat(_0xd4827f)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x1c8009(0x14f)),document[_0x1c8009(0x151)]('keydown',function(_0x16e1de){const _0x599a2d=_0x1c8009,_0x180122=document[_0x599a2d(0x116)]('windowId')['value'],_0x568029=document['getElementById'](_0x599a2d(0x80)),_0x46d1af=document[_0x599a2d(0x138)](_0x599a2d(0x22f)),_0x588d00=document[_0x599a2d(0x116)](_0x599a2d(0x18d)+_0x180122),_0x453468=document[_0x599a2d(0x116)](_0x599a2d(0x148)+_0x180122),_0x4eb191=document[_0x599a2d(0x116)](_0x599a2d(0xa8));function _0x3ed93f(_0x2f47d4){const _0x5ca4a2=_0x599a2d;return _0x2f47d4&&(_0x2f47d4[_0x5ca4a2(0x108)]>0x0||_0x2f47d4[_0x5ca4a2(0x1fe)]>0x0||_0x2f47d4[_0x5ca4a2(0x16d)]()[_0x5ca4a2(0x10a)]);}let _0x5adc7a=[];if(_0x4eb191&&_0x4eb191[_0x599a2d(0xd2)]['contains']('active')){const _0x4c965e=_0x4eb191[_0x599a2d(0x138)](_0x599a2d(0x196));_0x4c965e['forEach'](_0x46aa45=>{const _0x20b424=_0x599a2d;_0x3ed93f(_0x46aa45)&&!_0x46aa45[_0x20b424(0xd2)][_0x20b424(0x1df)](_0x20b424(0xd8))&&_0x5adc7a[_0x20b424(0x1ad)](_0x46aa45);});const _0x252f7a=_0x4eb191[_0x599a2d(0x169)](_0x599a2d(0x1c9)+_0x180122);if(_0x252f7a){const _0x159e90=_0x252f7a[_0x599a2d(0x138)]('input,\x20select,\x20button,\x20a:not(.payment-option)');_0x159e90['forEach'](_0x28e7d6=>{const _0xc3ccda=_0x599a2d;_0x3ed93f(_0x28e7d6)&&!_0x28e7d6[_0xc3ccda(0xd2)][_0xc3ccda(0x1df)](_0xc3ccda(0xd8))&&_0x5adc7a[_0xc3ccda(0x1ad)](_0x28e7d6);});}_0x453468&&_0x3ed93f(_0x453468)&&!_0x453468[_0x599a2d(0xd2)][_0x599a2d(0x1df)](_0x599a2d(0xd8))&&(!_0x5adc7a[_0x599a2d(0x210)](_0x453468)&&_0x5adc7a[_0x599a2d(0x1ad)](_0x453468));}else{_0x5adc7a=[_0x568029,..._0x46d1af];if(_0x588d00)_0x5adc7a[_0x599a2d(0x1ad)](_0x588d00);}const _0x717b7c=document[_0x599a2d(0x16c)],_0x50a958=_0x717b7c&&(_0x717b7c[_0x599a2d(0x238)]=='INPUT'||_0x717b7c[_0x599a2d(0x238)]==_0x599a2d(0x23c));if(_0x4eb191&&_0x4eb191[_0x599a2d(0xd2)][_0x599a2d(0x1df)](_0x599a2d(0x174))&&_0x16e1de['key']=='Enter'){if(_0x717b7c&&_0x717b7c[_0x599a2d(0xd2)][_0x599a2d(0x1df)](_0x599a2d(0x1e4))){_0x16e1de['preventDefault'](),_0x717b7c[_0x599a2d(0x10d)]();return;}}if(_0x4eb191&&_0x4eb191['classList'][_0x599a2d(0x1df)](_0x599a2d(0x174))&&_0x16e1de[_0x599a2d(0x87)]=='Tab'&&!_0x4eb191['contains'](_0x717b7c)){_0x16e1de['preventDefault']();_0x5adc7a['length']>0x0&&_0x5adc7a[0x0][_0x599a2d(0xfc)]();return;}if(_0x16e1de['key']==_0x599a2d(0xa9)){_0x16e1de[_0x599a2d(0x1ff)]();if(_0x5adc7a['length']==0x0)return;let _0x741926=_0x5adc7a[_0x599a2d(0xf0)](_0x717b7c);if(_0x741926==-0x1)_0x741926=-0x1;let _0x3ada31;_0x16e1de[_0x599a2d(0x15b)]?_0x3ada31=_0x741926<=0x0?_0x5adc7a[_0x599a2d(0x10a)]-0x1:_0x741926-0x1:_0x3ada31=_0x741926==_0x5adc7a[_0x599a2d(0x10a)]-0x1?0x0:_0x741926+0x1;_0x5adc7a[_0x3ada31][_0x599a2d(0xfc)]();return;}(!_0x4eb191||!_0x4eb191[_0x599a2d(0xd2)]['contains'](_0x599a2d(0x174)))&&!_0x50a958&&(_0x16e1de[_0x599a2d(0x87)][_0x599a2d(0x10a)]==0x1||_0x16e1de[_0x599a2d(0x87)]==_0x599a2d(0x141)||_0x16e1de[_0x599a2d(0x87)]==_0x599a2d(0x7d))&&(_0x16e1de[_0x599a2d(0x1ff)](),_0x568029[_0x599a2d(0xfc)](),_0x16e1de['key']=='Backspace'||_0x16e1de['key']==_0x599a2d(0x7d)?_0x568029[_0x599a2d(0x1b3)]=_0x568029['value'][_0x599a2d(0xb6)](0x0,-0x1):!_0x568029[_0x599a2d(0x1b3)]?_0x568029[_0x599a2d(0x1b3)]=_0x16e1de[_0x599a2d(0x87)]:_0x568029['value']+=_0x16e1de[_0x599a2d(0x87)]);}),loadTaxData(),resetNewItemForm();}_0x4a9bd5==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x4a9bd5==0x3){const _0x13327e=document[_0x1c8009(0x116)]('setBranchId')[_0x1c8009(0x1b3)];fil_BranchesId[_0x1c8009(0x1ad)](_0x13327e),updateDateRange(_0x1c8009(0x9f));}_0x4a9bd5==0x4&&init();})['catch'](_0x15ed18=>{const _0x4b2b64=_0x458d48;console[_0x4b2b64(0xa5)](_0x15ed18);})['finally'](()=>{const _0x1de047=_0x458d48;_0x4a9bd5==0x1&&updateInternetIcon();let _0x26155e;(_0x4a9bd5==0x1||_0x4a9bd5==0x2||_0x4a9bd5==0x3||_0x4a9bd5==0x4)&&(_0x26155e=_0x1de047(0x20e)),registerServiceWorker(_0x26155e,_0x4a9bd5);});}