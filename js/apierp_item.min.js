/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.3
*/

var _0x3f0f5e=_0x30ee;(function(_0x55d498,_0x449aef){var _0x56793e=_0x30ee,_0x2638fc=_0x55d498();while(!![]){try{var _0x368138=parseInt(_0x56793e(0x283))/0x1*(parseInt(_0x56793e(0x1ae))/0x2)+parseInt(_0x56793e(0x179))/0x3+parseInt(_0x56793e(0x1ec))/0x4+-parseInt(_0x56793e(0x27d))/0x5*(-parseInt(_0x56793e(0x1e0))/0x6)+parseInt(_0x56793e(0x293))/0x7+parseInt(_0x56793e(0x28f))/0x8+-parseInt(_0x56793e(0x1b2))/0x9;if(_0x368138===_0x449aef)break;else _0x2638fc['push'](_0x2638fc['shift']());}catch(_0x160f24){_0x2638fc['push'](_0x2638fc['shift']());}}}(_0x2173,0x42ba4));var _0x3e53e7=(function(){var _0x26bf1d=!![];return function(_0x39a400,_0x41246b){var _0x303fa3=_0x26bf1d?function(){if(_0x41246b){var _0x1320a6=_0x41246b['apply'](_0x39a400,arguments);return _0x41246b=null,_0x1320a6;}}:function(){};return _0x26bf1d=![],_0x303fa3;};}()),_0x964b56=_0x3e53e7(this,function(){var _0xf77d96=_0x30ee;return _0x964b56[_0xf77d96(0x210)]()['search'](_0xf77d96(0x19a))[_0xf77d96(0x210)]()[_0xf77d96(0x21c)](_0x964b56)[_0xf77d96(0x254)](_0xf77d96(0x19a));});_0x964b56();var _0x3d79b6=(function(){var _0x5637b9=!![];return function(_0x80e697,_0x173a39){var _0xdbc05c=_0x5637b9?function(){var _0x5bd903=_0x30ee;if(_0x173a39){var _0x2e468e=_0x173a39[_0x5bd903(0x266)](_0x80e697,arguments);return _0x173a39=null,_0x2e468e;}}:function(){};return _0x5637b9=![],_0xdbc05c;};}()),_0x5da6d2=_0x3d79b6(this,function(){var _0x5853e6=_0x30ee,_0x209de7=function(){var _0x5b85d3=_0x30ee,_0x648ffa;try{_0x648ffa=Function('return\x20(function()\x20'+_0x5b85d3(0x158)+');')();}catch(_0xd6bfa1){_0x648ffa=window;}return _0x648ffa;},_0x1f2a97=_0x209de7(),_0x1e3e2a=_0x1f2a97[_0x5853e6(0x276)]=_0x1f2a97[_0x5853e6(0x276)]||{},_0x5cf402=[_0x5853e6(0x29e),'warn','info',_0x5853e6(0x1ac),_0x5853e6(0x15f),'table',_0x5853e6(0x16a)];for(var _0x5eac14=0x0;_0x5eac14<_0x5cf402['length'];_0x5eac14++){var _0x53ec5b=_0x3d79b6[_0x5853e6(0x21c)][_0x5853e6(0x14d)][_0x5853e6(0x1fc)](_0x3d79b6),_0x4cd63c=_0x5cf402[_0x5eac14],_0x1ec489=_0x1e3e2a[_0x4cd63c]||_0x53ec5b;_0x53ec5b[_0x5853e6(0x270)]=_0x3d79b6[_0x5853e6(0x1fc)](_0x3d79b6),_0x53ec5b['toString']=_0x1ec489['toString'][_0x5853e6(0x1fc)](_0x1ec489),_0x1e3e2a[_0x4cd63c]=_0x53ec5b;}});_0x5da6d2();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1a2)),unitCount=0x0,branchesC=document[_0x3f0f5e(0x195)]('newItem_branches_container'),prodC=document['getElementById'](_0x3f0f5e(0x251)),vgCount=0x0,varContainer=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x21f)),vgC=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1d6));const fileInput=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x194)),progressBar=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x225)),statusDiv=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x212)),uploadBtn=document[_0x3f0f5e(0x195)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x3f0f5e(0x15a)),dropZone=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1e7)),removeBtn=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1a5));function showModalCreateItem(_0x2cfbb1){var _0xdea795=_0x3f0f5e;const _0x342292=document[_0xdea795(0x195)](_0xdea795(0x25f)),_0x394fa1=document[_0xdea795(0x195)]('modalOverlayCreateItem');_0x342292[_0xdea795(0x29f)][_0xdea795(0x1fe)](_0xdea795(0x1e8)),_0x394fa1[_0xdea795(0x258)][_0xdea795(0x1c7)]=_0xdea795(0x1dc);const _0x50ec82=document[_0xdea795(0x195)](_0xdea795(0x26b));_0x50ec82[_0xdea795(0x1a6)]=parseInt(_0x2cfbb1),baseItem['setItemFree']=parseInt(_0x2cfbb1);const _0x3d97dc=document[_0xdea795(0x195)]('modalProductNewTitle');_0x2cfbb1==0x0&&(_0x3d97dc['innerHTML']='Nuevo\x20Producto');_0x2cfbb1==0x1&&(_0x3d97dc[_0xdea795(0x250)]=_0xdea795(0x18b));const _0x3b7e04=document[_0xdea795(0x16b)]('productType1');for(let _0x17c078=0x0;_0x17c078<_0x3b7e04[_0xdea795(0x259)];_0x17c078++){const _0x2e1746=_0x3b7e04[_0x17c078];if(_0x2cfbb1==0x0)_0x2e1746[_0xdea795(0x29f)]['remove'](_0xdea795(0x23c));else _0x2cfbb1==0x1&&_0x2e1746[_0xdea795(0x29f)]['add'](_0xdea795(0x23c));}}function hideModalCreateItem(){var _0x4cf3b2=_0x3f0f5e;const _0x157b09=document['getElementById'](_0x4cf3b2(0x25f)),_0x525fc5=document[_0x4cf3b2(0x195)](_0x4cf3b2(0x215));_0x157b09['classList'][_0x4cf3b2(0x1f1)](_0x4cf3b2(0x1e8)),_0x525fc5['style']['display']=_0x4cf3b2(0x24a);}document[_0x3f0f5e(0x195)](_0x3f0f5e(0x199))['addEventListener'](_0x3f0f5e(0x1a0),hideModalCreateItem),document[_0x3f0f5e(0x195)]('modalOverlayCreateItem')[_0x3f0f5e(0x274)](_0x3f0f5e(0x1a0),_0x22b2ed=>{var _0x3b57d3=_0x3f0f5e;_0x22b2ed['target']==_0x22b2ed[_0x3b57d3(0x25d)]&&_0x22b2ed[_0x3b57d3(0x166)]();});function loadTaxData(){var _0x43ba07=_0x3f0f5e;const _0x2d0592=document['getElementById'](_0x43ba07(0x1b5));_0x2d0592[_0x43ba07(0x250)]='',company[0x0][_0x43ba07(0x1cd)][_0x43ba07(0x292)](function(_0x42343a){var _0x2b8e64=_0x43ba07;const _0x1aaabd=document[_0x2b8e64(0x295)](_0x2b8e64(0x255));_0x1aaabd['value']=_0x42343a[_0x2b8e64(0x26a)],_0x1aaabd[_0x2b8e64(0x250)]=_0x42343a[_0x2b8e64(0x213)]+'\x20('+_0x42343a['setImpuestoValue']+'%)',_0x42343a[_0x2b8e64(0x26a)]==company[0x0][_0x2b8e64(0x234)]&&(_0x1aaabd[_0x2b8e64(0x23e)]=!![]),_0x2d0592[_0x2b8e64(0x1d5)](_0x1aaabd);});}function _0x2173(){var _0x5205a1=['setItemCategoryName','.options_list','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','change','eqInput','setUnidadCodigo','selectedItem','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setItemTaxCode','onload','setItemId','display','detail','preventDefault','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','vals','closest','setImpuestos','stringify','filter','variantForm','.removeGroup','.variantForm','file','includes','appendChild','newItem_variant_groups','newItem_chk_buy','oncomplete','newItem_units_container','sucursales','string','block','setItemCode','setItemCommissionPercentage','newItem_btn_addUnit','12TWkXUe','percent','.prod_input_container','newItem_brands_select','dataset','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setItemIsSold','drop-zone','active','setItemBarCode','Items\x20finales:','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','225756POZnWx','newItem_chk_sell','div[data-default=\x22true\x22]\x20.eqInput','setWarehouseName','findIndex','remove','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','.branchInit','split','Collator','.eqInput','setUnits','blur','_branch_container','.branchChk','setAuthToken','bind','</label>','add','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setImpuestoValue','setItemUnitAlias','Ingresa\x20el\x20código\x20del\x20item','\x22\x20value=\x22','.addVariantUnit','setCategoria','[id$=\x22_comp_container\x22]','setItemImages','setItemIsBought','setItemWarehouses','dispatchEvent','children','setDescripcion','toLowerCase','setWarehouseCode','setItemTaxId','toString','.vgName','status','setImpuestoName','.removeCombo','modalOverlayCreateItem','setWebhook','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setCost','dragover','_comp_container','setBatchName','constructor','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','#newItem_brands_select\x20.selected_tags','newItem_variants_forms','revokeObjectURL','dragleave','.drop-zone__prompt','isArray','ERROR:\x20plainProducts\x20no\x20serializable:','progress','setIdProducto','\x22\x20class=\x22branchChk\x22\x20checked>\x20','slice','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','result','setBatchExpirationDate','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','✅\x20Exportación\x20completada:\x20','setItemDateExpiry','inputItemBarCode','inputItemDateExpiry','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','#newItem_categories_select\x20.selected_tags','find','setTaxIdDefault','toISOString','import','target','setPrice','variant_','idx','newItem_hidden','hidden','defineProperty','selected','PEN','parentNode','setImpuestoCode','style=\x22display:none\x22','setWarehouseId','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','accept','.prodQty','entries','exportItems','<div\x20class=\x22newItem_col\x22>','none','.removeUnit','querySelectorAll','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','test','setWarehouseStockMin','innerHTML','newItem_proditems_container','.unitAlias','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','search','option','splice','push','style','length','items','setUnitCode','setItemUnits','currentTarget','[data-idx=\x22','detalleModalCreateItem','arrayBuffer','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','.removeProd','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','costInput','key','apply','_units_container','offline_operations','assign','setTaxId','setItemFree','type','inputItemName','focus','setName','__proto__','newItem_btn_addProdItem','transaction','No\x20hay\x20items\x20para\x20exportar.','addEventListener','.unitSelect','console','setItemVariantName','<img\x20src=\x22','files','every','readAsDataURL','#newItem_units_container\x20>\x20div','348665xNfnGv','setMtoPrecioUnitario','dataTransfer','setItemVariantValues','.xlsx','now','5fBHsdN','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','code','setItemCategories','exportDone','fill','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Plantilla-Items-Export-','selectionChange','setIdSucursal','setConversionFactor','priceInput','3878504CHNUan','some','newItem_categories_select','forEach','577325TDpFrC','setDefault','createElement','checked','padStart','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','.branchMin','mousedown','newItem_btn_addVariantGroup','true','.addVariantComp','log','classList','Generando\x20Excel...','inputItemType','prototype','toggle','btnExportarItems','setCodProducto','setMtoPrecioCostoUnitario','undefined','#newItem_brands_select\x20.options_list','.removeVariant','setItemInventoriable','disabled','btnItemSave','{}.constructor(\x22return\x20this\x22)(\x20)','.costInput','./js/apierp_item_wk.min.js','default','values','sort','querySelector','exception','div','</div>','.ms_input','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setPriceUSD','inputItemCode','stopPropagation','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','href','from','trace','getElementsByClassName','match','input','setItemBrands','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','Error\x20al\x20procesar\x20la\x20operación:','.variantCode','currency','image_box','map','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','\x20items.','setItemUnitId','newItem_title_table','1353993ZMvCmD','image/*','textContent','setMarca','createObjectURL','.vgVals','setItemTaxValue','unitSelect','setCostUSD','setCode','onmessage','drop','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','reduce','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','message','inputItemDescription','dragenter','Producto\x20Libre','setAlias','newItem_addToCart','postMessage','.prodInput','setStockInitial','setItemDescription','done','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','file-input','getElementById','name','setFactor','setItemBrandName','closeModalCreateItem','(((.+)+)+)+$','objectStore','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','download','setItemComponents','.selected_tags','click','compare','newItem_images_container','currency_data','span','remove-file','value','USD','trim','setItemType','#newItem_categories_select\x20.options_list','setItemName','error','setStockMinimum','153304IFALbQ','.priceInput','./img/product.png','Error\x20al\x20obtener\x20la\x20plantilla:\x20','11920212oocHqb','setMoneda','className','inputItemTax','newItem_title_table_cp','setSucursalStock','./excel/Plantilla-Items.xlsx','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','.options_list\x20div','unitAlias'];_0x2173=function(){return _0x5205a1;};return _0x2173();}function uniqueValuesArray(_0x4c4d4b,_0xea1ef3,_0x1f8479){var _0x24ad4f=_0x3f0f5e;const _0x4fed50=Array[_0x24ad4f(0x169)](new Set(_0x1f8479[_0x24ad4f(0x174)](_0x3fdf33=>{var _0x38d0c1=_0x24ad4f;const _0x25c34c=_0x3fdf33[_0x4c4d4b];return typeof _0x25c34c===_0x38d0c1(0x1db)?_0x25c34c[_0x38d0c1(0x1a8)]():_0x25c34c;})[_0x24ad4f(0x1cf)](_0x253b0c=>_0x253b0c!=null&&_0x253b0c!=='')));return _0x4fed50[_0x24ad4f(0x174)](_0xbdb27c=>{var _0x431e10=_0x24ad4f;const _0x5ceebf=_0x1f8479[_0x431e10(0x233)](_0x5192dc=>_0x5192dc[_0x4c4d4b]===_0xbdb27c),_0x577800=_0x5ceebf&&_0x5ceebf[_0xea1ef3]!=null?String(_0x5ceebf[_0xea1ef3])[_0x431e10(0x1a8)]():_0xbdb27c;return{'setCode':_0xbdb27c,'setName':_0x577800};});}function fillSelect(_0x37dea0,_0xdaa2ef,_0x2b81a2,_0x420064){var _0x30bb5d=_0x3f0f5e;_0x37dea0[_0x30bb5d(0x250)]='',_0xdaa2ef['forEach'](function(_0x4ad8ea){var _0x53b418=new Option(_0x4ad8ea[_0x420064],_0x4ad8ea[_0x2b81a2]);_0x37dea0['add'](_0x53b418);});}function initMulti(_0x5a327d,_0x1ef319){var _0x2cb9c5=_0x3f0f5e,_0x3f0514=document['getElementById'](_0x5a327d),_0x49d713=_0x3f0514[_0x2cb9c5(0x15e)](_0x2cb9c5(0x162)),_0x5c3844=_0x3f0514[_0x2cb9c5(0x15e)]('.options_list'),_0x5785aa=_0x3f0514[_0x2cb9c5(0x15e)](_0x2cb9c5(0x19f)),_0x11849f=_0x1ef319['slice'](),_0x4e0c77=[];let _0x42e19c=null,_0x454ee9=![];function _0x10d1e1(){var _0x56c686=_0x2cb9c5;const _0x349145=_0x49d713[_0x56c686(0x1a6)][_0x56c686(0x1a8)]();if(!_0x349145)return;const _0x25af6a=_0x11849f[_0x56c686(0x233)](_0xeb97c3=>_0xeb97c3[_0x56c686(0x26f)][_0x56c686(0x20d)]()===_0x349145[_0x56c686(0x20d)]());if(_0x25af6a)_0x4e0c77[_0x56c686(0x257)](_0x25af6a),_0x11849f[_0x56c686(0x256)](_0x11849f['findIndex'](_0x36691f=>_0x36691f['setCode']===_0x25af6a[_0x56c686(0x182)]),0x1);else{const _0x3b509a=_0x4e0c77[_0x56c686(0x290)](_0x66e683=>_0x66e683[_0x56c686(0x26f)][_0x56c686(0x20d)]()===_0x349145['toLowerCase']());!_0x3b509a&&_0x4e0c77[_0x56c686(0x257)]({'setCode':_0x349145,'setName':_0x349145});}_0x84d47d(),_0x5f0ba9(),_0x49d713[_0x56c686(0x1a6)]='';}function _0x5f0ba9(){var _0x353d7d=_0x2cb9c5;_0x5c3844[_0x353d7d(0x250)]='',_0x11849f[_0x353d7d(0x1cf)](_0x24c732=>_0x24c732['setName'][_0x353d7d(0x20d)]()[_0x353d7d(0x1d4)](_0x49d713['value'][_0x353d7d(0x20d)]()))['slice'](0x0,0x14)[_0x353d7d(0x292)](_0x13a35a=>{var _0x4a25a0=_0x353d7d,_0xd67eb8=document['createElement']('div');_0xd67eb8[_0x4a25a0(0x17b)]=_0x13a35a[_0x4a25a0(0x26f)],_0xd67eb8['dataset'][_0x4a25a0(0x285)]=_0x13a35a[_0x4a25a0(0x182)],_0x5c3844['appendChild'](_0xd67eb8),_0xd67eb8['addEventListener'](_0x4a25a0(0x29a),()=>_0x454ee9=!![]),_0xd67eb8[_0x4a25a0(0x274)](_0x4a25a0(0x1a0),function(){var _0x5f32f0=_0x4a25a0;_0x454ee9=![],_0x4e0c77[_0x5f32f0(0x257)](_0x13a35a),_0x11849f['splice'](_0x11849f[_0x5f32f0(0x1f0)](_0x43c48f=>_0x43c48f[_0x5f32f0(0x182)]===_0x13a35a[_0x5f32f0(0x182)]),0x1),_0x49d713[_0x5f32f0(0x1a6)]='',_0x84d47d(),_0x5f0ba9();});});}function _0x84d47d(){var _0x39a75b=_0x2cb9c5;_0x5785aa[_0x39a75b(0x250)]='',_0x4e0c77[_0x39a75b(0x292)](_0x511418=>{var _0x8996a7=_0x39a75b,_0x9086af=document[_0x8996a7(0x295)](_0x8996a7(0x160));_0x9086af[_0x8996a7(0x1b4)]='tag',_0x9086af[_0x8996a7(0x17b)]=_0x511418['setName'];var _0x4de5b9=document['createElement']('span');_0x4de5b9[_0x8996a7(0x1b4)]='remove-tag',_0x4de5b9[_0x8996a7(0x17b)]='×',_0x4de5b9[_0x8996a7(0x274)](_0x8996a7(0x1a0),function(){var _0x4316a8=_0x8996a7;_0x11849f[_0x4316a8(0x257)](_0x511418);const _0x12038e=_0x4e0c77[_0x4316a8(0x1f0)](_0x1d858f=>_0x1d858f[_0x4316a8(0x182)]===_0x511418[_0x4316a8(0x182)]);if(_0x12038e>-0x1)_0x4e0c77[_0x4316a8(0x256)](_0x12038e,0x1);_0x84d47d(),_0x5f0ba9();}),_0x9086af[_0x8996a7(0x1d5)](_0x4de5b9),_0x5785aa[_0x8996a7(0x1d5)](_0x9086af);}),_0x3f0514[_0x39a75b(0x20a)](new CustomEvent(_0x39a75b(0x28b),{'detail':_0x4e0c77,'bubbles':!![]}));}return _0x49d713[_0x2cb9c5(0x274)](_0x2cb9c5(0x26e),function(){var _0x40cfa1=_0x2cb9c5;_0x42e19c&&(clearTimeout(_0x42e19c),_0x42e19c=null),_0x5c3844[_0x40cfa1(0x29f)][_0x40cfa1(0x1f1)](_0x40cfa1(0x23b));}),_0x49d713[_0x2cb9c5(0x274)]('input',_0x5f0ba9),_0x49d713['addEventListener']('keydown',function(_0x545bc8){var _0x4b9943=_0x2cb9c5;_0x545bc8[_0x4b9943(0x265)]==='Enter'&&(_0x545bc8[_0x4b9943(0x1c9)](),_0x10d1e1());}),_0x49d713[_0x2cb9c5(0x274)](_0x2cb9c5(0x1f8),function(){if(_0x454ee9)return;_0x42e19c=setTimeout(()=>{_0x10d1e1(),_0x42e19c=null;},0xc8);}),document['addEventListener'](_0x2cb9c5(0x1a0),function(_0x5298cc){var _0x275857=_0x2cb9c5;!_0x3f0514['contains'](_0x5298cc['target'])&&_0x5c3844[_0x275857(0x29f)][_0x275857(0x1fe)](_0x275857(0x23b));}),_0x5f0ba9(),_0x4e0c77;}function getLastCode(_0x164535){var _0x4106ca=_0x3f0f5e;const _0xc3852d=_0x164535[_0x4106ca(0x174)](_0x11e4a6=>String(_0x11e4a6[_0x4106ca(0x150)])[_0x4106ca(0x1a8)]())['filter'](_0x464f52=>_0x464f52!=='');if(_0xc3852d[_0x4106ca(0x259)]===0x0)return'';const _0x8ea078=_0xc3852d[_0x4106ca(0x27a)](_0x4a4d4d=>/^\d+$/[_0x4106ca(0x24e)](_0x4a4d4d));if(_0x8ea078){const _0x347ff1=_0xc3852d[_0x4106ca(0x174)](Number),_0x3344fa=Math['max'](..._0x347ff1);return String(_0x3344fa);}let _0x1ba6bb;if(typeof Intl!==_0x4106ca(0x152)&&Intl[_0x4106ca(0x1f5)]){const _0x20dd56=new Intl[(_0x4106ca(0x1f5))](undefined,{'numeric':!![],'sensitivity':'base'});_0x1ba6bb=_0xc3852d['slice']()['sort'](_0x20dd56[_0x4106ca(0x1a1)]);}else{const _0x5b89f1=_0xc3852d[_0x4106ca(0x27a)](_0x248f2b=>/^\d+$/[_0x4106ca(0x24e)](_0x248f2b));_0x5b89f1?_0x1ba6bb=_0xc3852d['map'](Number)[_0x4106ca(0x15d)]((_0x560fd2,_0x390255)=>_0x560fd2-_0x390255)[_0x4106ca(0x174)](String):_0x1ba6bb=_0xc3852d['slice']()[_0x4106ca(0x15d)]();}return _0x1ba6bb[_0x1ba6bb[_0x4106ca(0x259)]-0x1];}function getNextCode(_0xabed35){var _0x36f62a=_0x3f0f5e;const _0x2e1d99=getLastCode(_0xabed35);if(!_0x2e1d99)return'';if(/^\d+$/[_0x36f62a(0x24e)](_0x2e1d99))return String(Number(_0x2e1d99)+0x1);const _0x1180dd=_0x2e1d99[_0x36f62a(0x16c)](/^([A-Za-z]*)(\d+)$/);if(_0x1180dd){const [,_0x267a72,_0x3bd011]=_0x1180dd,_0x195df1=String(Number(_0x3bd011)+0x1)[_0x36f62a(0x297)](_0x3bd011['length'],'0');return _0x267a72+_0x195df1;}return _0x2e1d99;}document[_0x3f0f5e(0x195)](_0x3f0f5e(0x26d))[_0x3f0f5e(0x274)](_0x3f0f5e(0x16d),function(_0x32dfd2){var _0x5ce9b9=_0x3f0f5e;baseItem[_0x5ce9b9(0x1ab)]=_0x32dfd2[_0x5ce9b9(0x237)][_0x5ce9b9(0x1a6)];}),document[_0x3f0f5e(0x195)](_0x3f0f5e(0x189))['addEventListener'](_0x3f0f5e(0x16d),function(_0x21ad71){var _0x2944c1=_0x3f0f5e;baseItem[_0x2944c1(0x191)]=_0x21ad71[_0x2944c1(0x237)]['value'];}),document[_0x3f0f5e(0x195)]('inputItemDateExpiry')[_0x3f0f5e(0x274)](_0x3f0f5e(0x16d),function(_0x3fdedd){var _0x18169f=_0x3f0f5e;baseItem[_0x18169f(0x22e)]=_0x3fdedd[_0x18169f(0x237)][_0x18169f(0x1a6)];}),document[_0x3f0f5e(0x195)](_0x3f0f5e(0x14c))[_0x3f0f5e(0x274)](_0x3f0f5e(0x1bf),function(_0x88118b){var _0x5b96ae=_0x3f0f5e;baseItem[_0x5b96ae(0x1a9)]=_0x88118b[_0x5b96ae(0x237)][_0x5b96ae(0x1a6)];}),document['getElementById']('inputItemTax')[_0x3f0f5e(0x274)](_0x3f0f5e(0x1bf),function(_0x3d3c0c){var _0x383819=_0x3f0f5e;baseItem[_0x383819(0x20f)]=_0x3d3c0c[_0x383819(0x237)]['value'];const _0xbf6fe0=_0x3d3c0c[_0x383819(0x237)]['value'],_0xc772e8=company[0x0]['setImpuestos'][_0x383819(0x233)](_0x490121=>_0x490121[_0x383819(0x26a)]==_0xbf6fe0)?.[_0x383819(0x241)]||0x0,_0x1d76e5=company[0x0]['setImpuestos'][_0x383819(0x233)](_0x46d5d1=>_0x46d5d1[_0x383819(0x26a)]==_0xbf6fe0)?.[_0x383819(0x200)]||0x0;baseItem['setItemTaxCode']=_0xc772e8,baseItem[_0x383819(0x17f)]=_0x1d76e5;}),document[_0x3f0f5e(0x195)]('newItem_chk_buy')['addEventListener'](_0x3f0f5e(0x1bf),function(_0x5e59a5){var _0x21bd05=_0x3f0f5e;baseItem[_0x21bd05(0x208)]=_0x5e59a5[_0x21bd05(0x237)][_0x21bd05(0x296)];}),document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1ed))[_0x3f0f5e(0x274)](_0x3f0f5e(0x1bf),function(_0x5e95de){var _0x32604e=_0x3f0f5e;baseItem[_0x32604e(0x1e6)]=_0x5e95de[_0x32604e(0x237)][_0x32604e(0x296)];}),document['getElementById'](_0x3f0f5e(0x165))['addEventListener'](_0x3f0f5e(0x16d),function(_0x49bffe){var _0x46cbb8=_0x3f0f5e;baseItem[_0x46cbb8(0x1dd)]=_0x49bffe[_0x46cbb8(0x237)][_0x46cbb8(0x1a6)];}),document['getElementById'](_0x3f0f5e(0x22f))[_0x3f0f5e(0x274)]('input',function(_0x26b3d6){var _0x8b5752=_0x3f0f5e;baseItem[_0x8b5752(0x1e9)]=_0x26b3d6[_0x8b5752(0x237)][_0x8b5752(0x1a6)];}),document[_0x3f0f5e(0x195)](_0x3f0f5e(0x1df))[_0x3f0f5e(0x274)](_0x3f0f5e(0x1a0),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x3f0f5e(0x165))['addEventListener'](_0x3f0f5e(0x1f8),function(){var _0x4c1c3c=_0x3f0f5e;const _0x31bdf7=this[_0x4c1c3c(0x1a6)][_0x4c1c3c(0x1a8)]();if(_0x31bdf7==='')return;const _0x47c33e=products[_0x4c1c3c(0x290)](_0x4e7b02=>_0x4e7b02[_0x4c1c3c(0x150)]==_0x31bdf7),_0x512a6b=getLastCode(products);_0x47c33e?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x512a6b,0x2,0x1):ntfShow(_0x4c1c3c(0x289),0x1,0x1);});function removeImg(_0x22ae91){var _0x417b30=_0x3f0f5e;currentImages[_0x22ae91]=null;var _0x203fa8=imgC['querySelector'](_0x417b30(0x25e)+_0x22ae91+'\x22]');_0x203fa8[_0x417b30(0x250)]='';var _0x1d8a24=document['createElement'](_0x417b30(0x16d));_0x1d8a24['type']=_0x417b30(0x1d3),_0x1d8a24[_0x417b30(0x245)]=_0x417b30(0x17a),_0x1d8a24[_0x417b30(0x258)]['display']=_0x417b30(0x24a);var _0x4f4951=document[_0x417b30(0x295)](_0x417b30(0x1a4));_0x4f4951['textContent']='+',_0x203fa8[_0x417b30(0x1d5)](_0x1d8a24),_0x203fa8['appendChild'](_0x4f4951),_0x203fa8[_0x417b30(0x274)](_0x417b30(0x1a0),function(){var _0x323cf0=_0x417b30;_0x1d8a24[_0x323cf0(0x1a0)]();}),baseItem[_0x417b30(0x207)]=currentImages[_0x417b30(0x1cf)](function(_0x3979d1){return _0x3979d1;});}function addUnit(_0x5dd596,_0x476462,_0x583300,_0x10b048,_0x28ebea,_0xec593e,_0x71a8b4){var _0x243c14=_0x3f0f5e,_0x83d77d=uniqueValuesArray('setUnitCode','setUnitName',myCompany['setUnits']);_0x5dd596=_0x5dd596||'',_0x476462=_0x476462||_0x83d77d[0x3a]&&_0x83d77d[0x3a][_0x243c14(0x182)]||'',_0x583300=_0x583300!==undefined?_0x583300:0x1,_0x10b048=!!_0x10b048,_0x28ebea=_0x28ebea||'',_0xec593e=_0xec593e||'';var _0x861b9e=unitCount++,_0x91b53a=document[_0x243c14(0x295)](_0x243c14(0x160));_0x91b53a[_0x243c14(0x1e4)][_0x243c14(0x23a)]=_0x861b9e,_0x91b53a['dataset'][_0x243c14(0x15b)]=_0x10b048,_0x91b53a[_0x243c14(0x250)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x861b9e+_0x243c14(0x203)+_0x5dd596+_0x243c14(0x1b9)+_0x861b9e+_0x243c14(0x21d)+_0x861b9e+'\x22\x20value=\x22'+_0x583300+'\x22\x20'+(_0x10b048?_0x243c14(0x156):'')+_0x243c14(0x1c3)+_0x861b9e+_0x243c14(0x203)+_0x28ebea+_0x243c14(0x16f)+_0x861b9e+_0x243c14(0x203)+_0xec593e+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x10b048?_0x243c14(0x242):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x91b53a[_0x243c14(0x15e)](_0x243c14(0x275)),_0x83d77d,_0x243c14(0x182),'setName'),_0x91b53a[_0x243c14(0x15e)](_0x243c14(0x275))['value']=_0x476462,[_0x243c14(0x1bb),_0x243c14(0x180),_0x243c14(0x1c0),_0x243c14(0x28e),_0x243c14(0x264)][_0x243c14(0x292)](function(_0x386576){var _0x1b2a66=_0x243c14;_0x91b53a[_0x1b2a66(0x15e)]('.'+_0x386576)[_0x1b2a66(0x274)](_0x1b2a66(0x16d),function(){var _0x458377=_0x1b2a66,_0x37caf5=_0x71a8b4?+_0x71a8b4['id'][_0x458377(0x1f4)]('_')[0x1]:null;if(_0x71a8b4)updateVariantUnits(_0x37caf5);else updateUnitsArray();});}),_0x91b53a[_0x243c14(0x15e)](_0x243c14(0x24b))[_0x243c14(0x274)](_0x243c14(0x1a0),function(){var _0x530231=_0x243c14;_0x91b53a['remove']();var _0x218fbf=_0x71a8b4?+_0x71a8b4['id'][_0x530231(0x1f4)]('_')[0x1]:null;if(_0x71a8b4)updateVariantUnits(_0x218fbf);else updateUnitsArray();});var _0x4bf3f6=_0x71a8b4||document[_0x243c14(0x195)](_0x243c14(0x1d9));_0x4bf3f6[_0x243c14(0x1d5)](_0x91b53a);}function containerIdx(_0x4a946b){var _0x5b3826=_0x3f0f5e;return+_0x4a946b['id'][_0x5b3826(0x1f4)]('_')[0x1];}function updateUnitsArray(){var _0x3ac8ca=_0x3f0f5e,_0x285114=[],_0x1a342c=Array['from'](document['querySelectorAll'](_0x3ac8ca(0x27c))),_0x1f81a7=_0x1a342c[_0x3ac8ca(0x233)](_0x10e614=>_0x10e614['dataset'][_0x3ac8ca(0x15b)]===_0x3ac8ca(0x29c)),_0x5c928a=_0x1f81a7?+_0x1f81a7[_0x3ac8ca(0x15e)]('.eqInput')[_0x3ac8ca(0x1a6)]:0x1;_0x1a342c['forEach'](function(_0x2b1457){var _0x3eace0=_0x3ac8ca,_0x3cae3c=+_0x2b1457['querySelector'](_0x3eace0(0x1f6))[_0x3eace0(0x1a6)]||0x0,_0x126b97=+_0x2b1457['querySelector']('.priceInput')[_0x3eace0(0x1a6)]||0x0,_0x4b2236=+_0x2b1457[_0x3eace0(0x15e)](_0x3eace0(0x159))[_0x3eace0(0x1a6)]||0x0;_0x285114[_0x3eace0(0x257)]({'setAlias':_0x2b1457['querySelector'](_0x3eace0(0x252))['value'][_0x3eace0(0x1a8)](),'setUnitCode':_0x2b1457['querySelector'](_0x3eace0(0x275))[_0x3eace0(0x1a6)],'setEquivalence':_0x3cae3c,'setFactor':_0x2b1457[_0x3eace0(0x1e4)]['default']==='true'?0x1:_0x3cae3c==_0x5c928a?0x1:_0x3cae3c<_0x5c928a?_0x5c928a/_0x3cae3c:_0x3cae3c/_0x5c928a,'setPrice':_0x126b97,'setCost':_0x4b2236,'setDefault':_0x2b1457[_0x3eace0(0x1e4)][_0x3eace0(0x15b)]==='true'?0x1:0x0});}),baseItem[_0x3ac8ca(0x25c)]=_0x285114;}function updateBranches(){var _0x3e586e=_0x3f0f5e,_0x38224a=[];document['querySelectorAll']('#newItem_branches_container\x20>\x20div')[_0x3e586e(0x292)](function(_0x255603){var _0x45f4c4=_0x3e586e,_0x8cbd30=_0x255603[_0x45f4c4(0x15e)](_0x45f4c4(0x1fa));if(_0x8cbd30['checked']){var _0x11fd06=+_0x8cbd30[_0x45f4c4(0x1e4)]['id'],_0x58839a=+_0x255603[_0x45f4c4(0x15e)](_0x45f4c4(0x1f3))[_0x45f4c4(0x1a6)],_0x451a6b=+_0x255603[_0x45f4c4(0x15e)](_0x45f4c4(0x299))[_0x45f4c4(0x1a6)];_0x38224a[_0x45f4c4(0x257)]({'setWarehouseCode':_0x11fd06,'setStockInitial':_0x58839a,'setStockMinimum':_0x451a6b});}}),baseItem[_0x3e586e(0x209)]=_0x38224a;}document['getElementById'](_0x3f0f5e(0x271))[_0x3f0f5e(0x274)](_0x3f0f5e(0x1a0),function(){var _0x4b5d94=_0x3f0f5e,_0x35406c=Date[_0x4b5d94(0x282)](),_0xa09d60=document[_0x4b5d94(0x295)](_0x4b5d94(0x160));_0xa09d60[_0x4b5d94(0x1e4)][_0x4b5d94(0x23a)]=_0x35406c,_0xa09d60[_0x4b5d94(0x250)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x35406c+_0x4b5d94(0x185)+_0x35406c+_0x4b5d94(0x1e5),prodC[_0x4b5d94(0x1d5)](_0xa09d60),initProdSearch(_0xa09d60[_0x4b5d94(0x15e)](_0x4b5d94(0x1e2))),_0xa09d60[_0x4b5d94(0x15e)](_0x4b5d94(0x262))[_0x4b5d94(0x274)](_0x4b5d94(0x1a0),function(){var _0x57e975=_0x4b5d94;_0xa09d60[_0x57e975(0x1f1)](),updateProdItems();}),_0xa09d60[_0x4b5d94(0x15e)](_0x4b5d94(0x246))[_0x4b5d94(0x274)](_0x4b5d94(0x16d),updateProdItems),document[_0x4b5d94(0x195)](_0x4b5d94(0x1b6))[_0x4b5d94(0x29f)][_0x4b5d94(0x14e)](_0x4b5d94(0x178),!![]),document[_0x4b5d94(0x195)]('newItem_title_table_cp')[_0x4b5d94(0x29f)][_0x4b5d94(0x14e)](_0x4b5d94(0x23b),![]);});function initProdSearch(_0x4288b1,_0x33c111){var _0x85c366=_0x3f0f5e,_0x5bee74=_0x4288b1['querySelector'](_0x85c366(0x18f)),_0x1fea20=_0x4288b1[_0x85c366(0x15e)](_0x85c366(0x1bd)),_0xaa9cc6=_0x33c111||null;if(_0x33c111)_0x5bee74['value']=_0x33c111[_0x85c366(0x196)];_0x5bee74[_0x85c366(0x274)]('input',function(){var _0x19194d=_0x85c366,_0x3933f8=_0x5bee74[_0x19194d(0x1a6)][_0x19194d(0x20d)]()['trim']();_0x1fea20[_0x19194d(0x250)]='';if(!_0x3933f8)return;products['filter'](_0x1ff284=>_0x1ff284[_0x19194d(0x20c)][_0x19194d(0x20d)]()['includes'](_0x3933f8))[_0x19194d(0x228)](0x0,0x14)['forEach'](function(_0x98638c){var _0x2bc1ee=_0x19194d,_0x5c8273=document[_0x2bc1ee(0x295)]('div');_0x5c8273[_0x2bc1ee(0x17b)]=_0x98638c[_0x2bc1ee(0x20c)],_0x5c8273[_0x2bc1ee(0x1e4)]['id']=_0x98638c['id'],_0x5c8273[_0x2bc1ee(0x1e4)][_0x2bc1ee(0x196)]=_0x98638c['setDescripcion'],_0x1fea20[_0x2bc1ee(0x1d5)](_0x5c8273),_0x5c8273['addEventListener'](_0x2bc1ee(0x1a0),function(){var _0x11ce3f=_0x2bc1ee;_0xaa9cc6={'id':_0x98638c['id'],'name':_0x98638c[_0x11ce3f(0x20c)]},_0x5bee74[_0x11ce3f(0x1a6)]=_0x98638c['setDescripcion'],_0x1fea20[_0x11ce3f(0x250)]='';var _0x147506=_0x4288b1[_0x11ce3f(0x1cc)](_0x11ce3f(0x206));if(_0x147506){var _0x3a22ec=+_0x147506['id'][_0x11ce3f(0x1f4)]('_')[0x1];updateVariantComponents(_0x3a22ec);}else updateProdItems();});});}),_0x5bee74[_0x85c366(0x274)](_0x85c366(0x26e),function(){var _0x40dbba=_0x85c366;_0x1fea20[_0x40dbba(0x29f)][_0x40dbba(0x1f1)](_0x40dbba(0x23b));}),document[_0x85c366(0x274)]('click',function(_0x3b7979){var _0x196a7e=_0x85c366;if(!_0x4288b1['contains'](_0x3b7979[_0x196a7e(0x237)]))_0x1fea20[_0x196a7e(0x29f)][_0x196a7e(0x1fe)](_0x196a7e(0x23b));}),Object[_0x85c366(0x23d)](_0x4288b1,'selectedItem',{'get':()=>_0xaa9cc6});}function updateProdItems(){var _0x46bd56=_0x3f0f5e,_0x510ee0=[];Array['from'](prodC[_0x46bd56(0x20b)])[_0x46bd56(0x292)](function(_0x3ed05b){var _0x318e85=_0x46bd56,_0x5d4b65=_0x3ed05b[_0x318e85(0x15e)]('.prod_input_container');if(!_0x5d4b65)return;var _0x1f87ef=_0x3ed05b[_0x318e85(0x15e)]('.prodQty'),_0xd6287b=_0x5d4b65[_0x318e85(0x1c2)];_0xd6287b&&_0x510ee0[_0x318e85(0x257)]({'setItemId':_0xd6287b['id'],'setDescripcion':_0xd6287b['name'],'setCantidad':+_0x1f87ef[_0x318e85(0x1a6)]});}),baseItem[_0x46bd56(0x19e)]=_0x510ee0,_0x510ee0[_0x46bd56(0x259)]===0x0&&(document[_0x46bd56(0x195)]('newItem_title_table_cp')[_0x46bd56(0x29f)]['toggle'](_0x46bd56(0x178),![]),document[_0x46bd56(0x195)](_0x46bd56(0x1b6))[_0x46bd56(0x29f)]['toggle'](_0x46bd56(0x23b),!![]));}document[_0x3f0f5e(0x195)](_0x3f0f5e(0x29b))[_0x3f0f5e(0x274)]('click',function(){var _0x50b796=_0x3f0f5e,_0x4ce09a=vgCount++,_0x5c97fa=document['createElement'](_0x50b796(0x160));_0x5c97fa[_0x50b796(0x1e4)][_0x50b796(0x23a)]=_0x4ce09a,_0x5c97fa[_0x50b796(0x250)]=_0x50b796(0x187)+_0x4ce09a+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x4ce09a+'\x22>'+_0x50b796(0x244),vgC['appendChild'](_0x5c97fa),_0x5c97fa[_0x50b796(0x15e)](_0x50b796(0x211))['addEventListener'](_0x50b796(0x1f8),generateVariants),_0x5c97fa[_0x50b796(0x15e)]('.vgVals')['addEventListener']('blur',generateVariants),_0x5c97fa['querySelector'](_0x50b796(0x1d1))[_0x50b796(0x274)]('click',function(){_0x5c97fa['remove'](),generateVariants();});});function generateVariants(){var _0x7565e9=_0x3f0f5e,_0x24c5f6=[];vgC['querySelectorAll'](_0x7565e9(0x160))[_0x7565e9(0x292)](function(_0x5b6c5a){var _0x149156=_0x7565e9,_0x473775=_0x5b6c5a['querySelector'](_0x149156(0x211))[_0x149156(0x1a6)]['trim'](),_0x6d82d4=_0x5b6c5a[_0x149156(0x15e)](_0x149156(0x17e))['value'][_0x149156(0x1f4)](',')[_0x149156(0x174)](_0xc3f24=>_0xc3f24[_0x149156(0x1a8)]())[_0x149156(0x1cf)](_0x8c221d=>_0x8c221d);if(_0x473775&&_0x6d82d4[_0x149156(0x259)])_0x24c5f6[_0x149156(0x257)]({'name':_0x473775,'vals':_0x6d82d4});});var _0x1e2278=[{}];_0x24c5f6[_0x7565e9(0x292)](function(_0x255615){_0x1e2278=_0x1e2278['flatMap'](function(_0x4038ae){var _0x4e86b4=_0x30ee;return _0x255615[_0x4e86b4(0x1cb)][_0x4e86b4(0x174)](function(_0x2a4daf){var _0x8488df=_0x4e86b4,_0x253b5d=Object['assign']({},_0x4038ae);return _0x253b5d[_0x255615[_0x8488df(0x196)]]=_0x2a4daf,_0x253b5d;});});}),newItems=[],varContainer['innerHTML']='',_0x1e2278[_0x7565e9(0x292)](function(_0x1fe23f,_0x589763){var _0x26284c=_0x7565e9,_0x4d0a51=JSON['parse'](JSON['stringify'](baseItem));_0x4d0a51[_0x26284c(0x280)]=_0x1fe23f,_0x4d0a51['setItemVariantName']=baseItem[_0x26284c(0x1ab)]+'\x20'+Object[_0x26284c(0x247)](_0x1fe23f)['map'](_0x4ebc53=>_0x4ebc53[0x0]+'\x20'+_0x4ebc53[0x1])['join']('\x20'),newItems[_0x26284c(0x257)](_0x4d0a51);var _0x268d69=document['createElement'](_0x26284c(0x160));_0x268d69[_0x26284c(0x29f)]['add'](_0x26284c(0x1d0)),_0x268d69[_0x26284c(0x1e4)][_0x26284c(0x23a)]=_0x589763,_0x268d69[_0x26284c(0x250)]=_0x26284c(0x1ff)+_0x4d0a51[_0x26284c(0x277)]+_0x26284c(0x229)+_0x4d0a51['setItemCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x4d0a51['setItemBarCode']+_0x26284c(0x284)+_0x4d0a51[_0x26284c(0x22e)]+_0x26284c(0x19c)+_0x589763+_0x26284c(0x261)+_0x589763+_0x26284c(0x193)+_0x589763+_0x26284c(0x1be),varContainer[_0x26284c(0x1d5)](_0x268d69),_0x268d69[_0x26284c(0x15e)](_0x26284c(0x171))[_0x26284c(0x274)](_0x26284c(0x16d),_0x300e21=>newItems[_0x589763][_0x26284c(0x1dd)]=_0x300e21[_0x26284c(0x237)][_0x26284c(0x1a6)]),_0x268d69[_0x26284c(0x15e)]('.variantBarCode')[_0x26284c(0x274)](_0x26284c(0x16d),_0x3eaacb=>newItems[_0x589763][_0x26284c(0x1e9)]=_0x3eaacb[_0x26284c(0x237)][_0x26284c(0x1a6)]),_0x268d69[_0x26284c(0x15e)]('.variantExpiry')[_0x26284c(0x274)](_0x26284c(0x1bf),_0x42f228=>newItems[_0x589763]['setItemDateExpiry']=_0x42f228[_0x26284c(0x237)][_0x26284c(0x1a6)]),initVariantUnits(_0x589763),initVariantComponents(_0x589763),initVariantBranches(_0x589763),_0x268d69[_0x26284c(0x15e)](_0x26284c(0x154))['addEventListener'](_0x26284c(0x1a0),function(){var _0xaf6126=_0x26284c,_0x2b89b3=+_0x268d69[_0xaf6126(0x1e4)][_0xaf6126(0x23a)];newItems[_0xaf6126(0x256)](_0x2b89b3,0x1),_0x268d69[_0xaf6126(0x1f1)](),document['querySelectorAll'](_0xaf6126(0x1d2))[_0xaf6126(0x292)](function(_0x3b83b3,_0x53b339){var _0x1a0285=_0xaf6126;_0x3b83b3[_0x1a0285(0x1e4)][_0x1a0285(0x23a)]=_0x53b339;});});});if(newItems[_0x7565e9(0x259)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x33dd5c){var _0x3cb0b9=_0x3f0f5e,_0x342d73=document[_0x3cb0b9(0x195)](_0x3cb0b9(0x239)+_0x33dd5c+_0x3cb0b9(0x267)),_0x12d7df=[];Array[_0x3cb0b9(0x169)](_0x342d73[_0x3cb0b9(0x20b)])['forEach'](function(_0x5c471f){var _0x8b01ad=_0x3cb0b9,_0x17e8ef=+_0x5c471f['querySelector'](_0x8b01ad(0x1f6))[_0x8b01ad(0x1a6)]||0x0,_0x5df8c6=_0x5c471f[_0x8b01ad(0x15e)](_0x8b01ad(0x252))[_0x8b01ad(0x1a6)][_0x8b01ad(0x1a8)](),_0x37e118=_0x5c471f[_0x8b01ad(0x15e)](_0x8b01ad(0x275))[_0x8b01ad(0x1a6)],_0x2ea767=+_0x5c471f['querySelector'](_0x8b01ad(0x1af))[_0x8b01ad(0x1a6)]||0x0,_0x1cdd9e=+_0x5c471f[_0x8b01ad(0x15e)](_0x8b01ad(0x159))['value']||0x0,_0x4543bf=_0x5c471f[_0x8b01ad(0x1e4)][_0x8b01ad(0x15b)]===_0x8b01ad(0x29c),_0x308010=+_0x342d73[_0x8b01ad(0x15e)](_0x8b01ad(0x1ee))[_0x8b01ad(0x1a6)]||0x1,_0x2befd5=_0x4543bf?0x1:_0x17e8ef==_0x308010?0x1:_0x17e8ef<_0x308010?_0x308010/_0x17e8ef:_0x17e8ef/_0x308010;_0x12d7df['push']({'setAlias':_0x5df8c6,'setUnitCode':_0x37e118,'setEquivalence':_0x17e8ef,'setFactor':_0x2befd5,'setPrice':_0x2ea767,'setCost':_0x1cdd9e,'setDefault':_0x4543bf?0x1:0x0});}),newItems[_0x33dd5c]['setItemUnits']=_0x12d7df;}function initVariantUnits(_0x4e6f2f){var _0x26fbe2=_0x3f0f5e,_0x416250=document[_0x26fbe2(0x195)](_0x26fbe2(0x239)+_0x4e6f2f+_0x26fbe2(0x267));_0x416250[_0x26fbe2(0x250)]='',newItems[_0x4e6f2f][_0x26fbe2(0x25c)][_0x26fbe2(0x292)](function(_0x38982c){var _0x1314f1=_0x26fbe2;addUnit(_0x38982c[_0x1314f1(0x18c)],_0x38982c[_0x1314f1(0x25b)],_0x38982c['setEquivalence'],_0x38982c[_0x1314f1(0x294)],_0x38982c[_0x1314f1(0x238)],_0x38982c[_0x1314f1(0x218)],_0x416250);}),_0x416250[_0x26fbe2(0x240)][_0x26fbe2(0x15e)](_0x26fbe2(0x204))[_0x26fbe2(0x274)](_0x26fbe2(0x1a0),function(){addUnit('','',0x1,![],'','',_0x416250),updateVariantUnits(_0x4e6f2f);});}function updateVariantUnits(_0x145ad8){var _0x404565=_0x3f0f5e,_0x2f16e6=document[_0x404565(0x195)](_0x404565(0x239)+_0x145ad8+_0x404565(0x267)),_0x179e04=_0x2f16e6['querySelector'](_0x404565(0x1ee)),_0x1daab1=_0x179e04?+_0x179e04['value']:0x1,_0x3f82a7=Array[_0x404565(0x169)](_0x2f16e6[_0x404565(0x20b)])[_0x404565(0x174)](function(_0x558540){var _0x1b0e02=_0x404565,_0x5d57a3=_0x558540[_0x1b0e02(0x15e)](_0x1b0e02(0x252))[_0x1b0e02(0x1a6)]['trim'](),_0x52c13c=_0x558540[_0x1b0e02(0x15e)]('.unitSelect')[_0x1b0e02(0x1a6)],_0x2eb1f5=+_0x558540[_0x1b0e02(0x15e)](_0x1b0e02(0x1f6))['value']||0x0,_0x2ebb50=+_0x558540[_0x1b0e02(0x15e)](_0x1b0e02(0x1af))[_0x1b0e02(0x1a6)]||0x0,_0x53352d=+_0x558540[_0x1b0e02(0x15e)](_0x1b0e02(0x159))[_0x1b0e02(0x1a6)]||0x0,_0x12c80e=_0x558540['dataset'][_0x1b0e02(0x15b)]==='true';return{'setAlias':_0x5d57a3,'setUnitCode':_0x52c13c,'setEquivalence':_0x2eb1f5,'setFactor':_0x12c80e?0x1:_0x2eb1f5==_0x1daab1?0x1:_0x2eb1f5<_0x1daab1?_0x1daab1/_0x2eb1f5:_0x2eb1f5/_0x1daab1,'setPrice':_0x2ebb50,'setCost':_0x53352d,'setDefault':_0x12c80e?0x1:0x0};});newItems[_0x145ad8]['setItemUnits']=_0x3f82a7;}function initVariantComponents(_0x458e61){var _0x32f2d4=_0x3f0f5e,_0x4c0b63=document['getElementById']('variant_'+_0x458e61+_0x32f2d4(0x21a));_0x4c0b63[_0x32f2d4(0x250)]='',newItems[_0x458e61]['setItemComponents'][_0x32f2d4(0x292)](function(_0x436201){var _0x27d501=_0x32f2d4,_0x3b274a=document[_0x27d501(0x295)](_0x27d501(0x160)),_0x3aed6b=Date['now']();_0x3b274a[_0x27d501(0x1e4)][_0x27d501(0x23a)]=_0x3aed6b,_0x3b274a['innerHTML']=_0x27d501(0x1ca)+_0x3aed6b+_0x27d501(0x24d)+_0x436201['setCantidad']+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x4c0b63[_0x27d501(0x1d5)](_0x3b274a),initProdSearch(_0x3b274a[_0x27d501(0x15e)](_0x27d501(0x1e2)),{'id':_0x436201[_0x27d501(0x1c6)],'name':_0x436201[_0x27d501(0x20c)]}),_0x3b274a['querySelector']('.prodQty')[_0x27d501(0x274)](_0x27d501(0x16d),function(){updateVariantComponents(_0x458e61);}),_0x3b274a['querySelector'](_0x27d501(0x214))[_0x27d501(0x274)](_0x27d501(0x1a0),function(){var _0x284615=_0x27d501;_0x3b274a[_0x284615(0x1f1)](),updateVariantComponents(_0x458e61);});}),_0x4c0b63['parentNode']['querySelector'](_0x32f2d4(0x29d))[_0x32f2d4(0x274)](_0x32f2d4(0x1a0),function(){var _0x2df614=_0x32f2d4,_0x168092=document[_0x2df614(0x295)]('div'),_0xaab4b7=Date[_0x2df614(0x282)]();_0x168092[_0x2df614(0x1e4)][_0x2df614(0x23a)]=_0xaab4b7,_0x168092[_0x2df614(0x250)]=_0x2df614(0x1ca)+_0xaab4b7+_0x2df614(0x167),_0x4c0b63[_0x2df614(0x1d5)](_0x168092),initProdSearch(_0x168092[_0x2df614(0x15e)](_0x2df614(0x1e2))),_0x168092[_0x2df614(0x15e)]('.prodQty')[_0x2df614(0x274)]('input',function(){updateVariantComponents(_0x458e61);}),_0x168092[_0x2df614(0x15e)]('.removeCombo')[_0x2df614(0x274)](_0x2df614(0x1a0),function(){var _0x57a378=_0x2df614;_0x168092[_0x57a378(0x1f1)](),updateVariantComponents(_0x458e61);});});}function updateVariantComponents(_0xebd811){var _0xca88fa=_0x3f0f5e,_0x2d6b7e=document[_0xca88fa(0x195)](_0xca88fa(0x239)+_0xebd811+_0xca88fa(0x21a)),_0x393736=Array['from'](_0x2d6b7e[_0xca88fa(0x20b)])[_0xca88fa(0x174)](function(_0x409084){var _0x448fa7=_0xca88fa,_0x4e4adc=_0x409084[_0x448fa7(0x15e)](_0x448fa7(0x1e2)),_0x5233ae=_0x4e4adc[_0x448fa7(0x1c2)],_0x238421=+_0x409084[_0x448fa7(0x15e)](_0x448fa7(0x246))['value']||0x0;return _0x5233ae?{'setItemId':_0x5233ae['id'],'setDescripcion':_0x5233ae[_0x448fa7(0x196)],'setCantidad':_0x238421}:null;})[_0xca88fa(0x1cf)](_0x413642=>_0x413642);newItems[_0xebd811][_0xca88fa(0x19e)]=_0x393736;}function initVariantBranches(_0x3de4e7){var _0x2c9548=_0x3f0f5e;const _0x5f4a87=getAllWarehouses();var _0x1be5a5=document[_0x2c9548(0x195)](_0x2c9548(0x239)+_0x3de4e7+_0x2c9548(0x1f9));_0x1be5a5[_0x2c9548(0x250)]='',newItems[_0x3de4e7][_0x2c9548(0x209)][_0x2c9548(0x292)](function(_0x4715b3){var _0x337e3a=_0x2c9548,_0x118553=_0x5f4a87[_0x337e3a(0x233)](_0x653d1c=>_0x653d1c[_0x337e3a(0x243)]==_0x4715b3[_0x337e3a(0x20e)]),_0x2198fe=document['createElement'](_0x337e3a(0x160));_0x2198fe[_0x337e3a(0x250)]=_0x337e3a(0x263)+_0x4715b3[_0x337e3a(0x20e)]+_0x337e3a(0x227)+_0x118553[_0x337e3a(0x1ef)]+_0x337e3a(0x231)+_0x4715b3['setWarehouseCode']+_0x337e3a(0x203)+_0x4715b3[_0x337e3a(0x190)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x4715b3[_0x337e3a(0x20e)]+_0x337e3a(0x203)+_0x4715b3[_0x337e3a(0x1ad)]+'\x22>',_0x1be5a5[_0x337e3a(0x1d5)](_0x2198fe),_0x2198fe[_0x337e3a(0x24c)](_0x337e3a(0x16d))[_0x337e3a(0x292)](function(_0x45ef63){var _0x57f1ce=_0x337e3a;_0x45ef63[_0x57f1ce(0x274)](_0x57f1ce(0x16d),function(){updateVariantBranches(_0x3de4e7);});});}),_0x5f4a87[_0x2c9548(0x292)](function(_0x5baca3){var _0x2e4448=_0x2c9548;if(!newItems[_0x3de4e7]['setItemWarehouses'][_0x2e4448(0x233)](_0x47d1be=>_0x47d1be[_0x2e4448(0x20e)]===_0x5baca3['setWarehouseId'])){var _0x229206=document[_0x2e4448(0x295)](_0x2e4448(0x160));_0x229206[_0x2e4448(0x250)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5baca3[_0x2e4448(0x243)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x5baca3[_0x2e4448(0x1ef)]+_0x2e4448(0x231)+_0x5baca3[_0x2e4448(0x243)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5baca3['setWarehouseId']+'\x22>',_0x1be5a5[_0x2e4448(0x1d5)](_0x229206),_0x229206[_0x2e4448(0x24c)]('input')[_0x2e4448(0x292)](function(_0x394636){var _0x5ef9c3=_0x2e4448;_0x394636[_0x5ef9c3(0x274)]('input',function(){updateVariantBranches(_0x3de4e7);});});}});}function updateVariantBranches(_0x598f9f){var _0x37164e=_0x3f0f5e,_0x6aea19=document[_0x37164e(0x195)](_0x37164e(0x239)+_0x598f9f+_0x37164e(0x1f9)),_0x38ea29=[];_0x6aea19[_0x37164e(0x24c)](_0x37164e(0x160))['forEach'](function(_0x369d9e){var _0x3ccc2a=_0x37164e,_0x43408b=_0x369d9e[_0x3ccc2a(0x15e)]('.branchChk');if(_0x43408b[_0x3ccc2a(0x296)]){var _0x117ffa=+_0x43408b['dataset']['id'],_0xb229c6=+_0x369d9e[_0x3ccc2a(0x15e)](_0x3ccc2a(0x1f3))[_0x3ccc2a(0x1a6)]||0x0,_0x34e8b8=+_0x369d9e[_0x3ccc2a(0x15e)](_0x3ccc2a(0x299))[_0x3ccc2a(0x1a6)]||0x0;_0x38ea29[_0x3ccc2a(0x257)]({'setWarehouseCode':_0x117ffa,'setStockInitial':_0xb229c6,'setStockMinimum':_0x34e8b8});}}),newItems[_0x598f9f][_0x37164e(0x209)]=_0x38ea29;}async function storeOfflineProduct(_0x4b4ba2){var _0x276245=_0x3f0f5e;try{const _0x5cb182=await createCartStore(''),_0x329739=_0x5cb182[_0x276245(0x272)](_0x276245(0x268),'readwrite'),_0x3874c2=_0x329739[_0x276245(0x19b)](_0x276245(0x268));_0x3874c2[_0x276245(0x1fe)](_0x4b4ba2),_0x329739[_0x276245(0x1d8)]=()=>{var _0x52e8d4=_0x276245;console[_0x52e8d4(0x29e)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x329739['onerror']=_0x20baea=>{var _0x2ef2fb=_0x276245;console['error']('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x20baea['target'][_0x2ef2fb(0x1ac)]);};}catch(_0x23817e){console[_0x276245(0x1ac)](_0x276245(0x170),_0x23817e);}}document[_0x3f0f5e(0x195)](_0x3f0f5e(0x157))[_0x3f0f5e(0x274)](_0x3f0f5e(0x1a0),async function(_0x342ed3){var _0x2ccf32=_0x3f0f5e;_0x342ed3['preventDefault']();const _0x59211a=document[_0x2ccf32(0x195)](_0x2ccf32(0x165)),_0x5d7e6e=document[_0x2ccf32(0x195)](_0x2ccf32(0x26b))[_0x2ccf32(0x1a6)];if(!_0x59211a[_0x2ccf32(0x1a6)][_0x2ccf32(0x1a8)]()&&_0x5d7e6e==0x0){ntfShow(_0x2ccf32(0x202),0x2,0x1);return;}_0x5d7e6e==0x1&&(_0x59211a[_0x2ccf32(0x1a6)]='',baseItem[_0x2ccf32(0x1dd)]='');const _0x2c99f0=document['getElementById'](_0x2ccf32(0x26d));if(!_0x2c99f0[_0x2ccf32(0x1a6)][_0x2ccf32(0x1a8)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x46a72c=document['getElementById'](_0x2ccf32(0x18d));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x4b0a3d=document[_0x2ccf32(0x195)]('windowId')['value'],_0x4bc60c=window_options[_0x4b0a3d][_0x2ccf32(0x1b3)],_0x12d4b5=[];newItems[_0x2ccf32(0x292)](_0x5887d6=>{var _0x494731=_0x2ccf32;const _0xa4cc69=generateNumericUniqId();_0x5887d6[_0x494731(0x25c)][_0x494731(0x292)](_0x5b894c=>{var _0x558ef3=_0x494731;const _0x37db43=generateNumericUniqId();_0x5b894c[_0x558ef3(0x177)]=_0x37db43;const _0x3ae8f7={'id':_0x37db43,'setIdProducto':_0xa4cc69,'setCodProducto':_0x5887d6['setItemCode'],'setDescripcion':_0x5887d6[_0x558ef3(0x1ab)],'setItemDescription':_0x5887d6['setItemDescription'],'setBatchExpirationDate':_0x5887d6[_0x558ef3(0x22e)],'setBatchName':'','setCategoria':_0x5887d6['setItemCategories'][0x0]||'','setMarca':_0x5887d6[_0x558ef3(0x16e)][0x0]||'','setConversionFactor':parseFloat(_0x5b894c[_0x558ef3(0x197)]),'setImages':[],'setImg':_0x558ef3(0x1b0),'setInventariable':0x1,'setItemIsBought':_0x5887d6[_0x558ef3(0x208)]?0x1:0x0,'setItemIsSold':_0x5887d6[_0x558ef3(0x1e6)]?0x1:0x0,'setPorcentajeIgv':_0x5887d6['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x5887d6['setItemTaxId'],'setTipAfeIgv':_0x5887d6[_0x558ef3(0x1c4)],'setUnidad':_0x5b894c[_0x558ef3(0x25b)],'setUnidadCodigo':_0x5b894c['setUnitCode'],'setItemUnitAlias':_0x5b894c[_0x558ef3(0x18c)],'currency_data':[{'currency':_0x4bc60c,'setMtoPrecioCostoUnitario':_0x5b894c[_0x558ef3(0x218)],'setMtoPrecioUnitario':_0x5b894c[_0x558ef3(0x238)],'setPriceLists':[]}],'sucursales':_0x5887d6[_0x558ef3(0x209)][_0x558ef3(0x174)](_0x4df3a1=>({'setIdSucursal':_0x4df3a1[_0x558ef3(0x20e)],'setSucursalStock':_0x4df3a1[_0x558ef3(0x190)][_0x558ef3(0x210)](),'setWarehouseStockMin':_0x4df3a1[_0x558ef3(0x1ad)][_0x558ef3(0x210)]()})),'setItemFree':_0x5887d6[_0x558ef3(0x26b)],'setItemBarCode':_0x5887d6[_0x558ef3(0x1e9)],'setItemBrands':_0x5887d6[_0x558ef3(0x16e)][_0x558ef3(0x228)](),'setItemCategories':_0x5887d6[_0x558ef3(0x286)][_0x558ef3(0x228)](),'setItemComponents':_0x5887d6[_0x558ef3(0x19e)][_0x558ef3(0x174)](_0xabe015=>({..._0xabe015})),'setItemImages':_0x5887d6['setItemImages'][_0x558ef3(0x228)](),'setItemVariantName':_0x5887d6[_0x558ef3(0x277)],'setItemVariantValues':{..._0x5887d6[_0x558ef3(0x280)]}};_0x12d4b5[_0x558ef3(0x257)](_0x3ae8f7),(_0x46a72c[_0x558ef3(0x296)]||_0x5d7e6e==0x1)&&addToCart(_0x3ae8f7);});}),console[_0x2ccf32(0x29e)](_0x2ccf32(0x1ea),newItems),await finalizeImport(_0x12d4b5,newItems,![]);}),[_0x3f0f5e(0x18a),'dragover'][_0x3f0f5e(0x292)](_0x12b43c=>dropZone[_0x3f0f5e(0x274)](_0x12b43c,_0x51e3e2=>{var _0x127240=_0x3f0f5e;_0x51e3e2['preventDefault'](),dropZone['classList'][_0x127240(0x1fe)](_0x127240(0x219));})),[_0x3f0f5e(0x221),_0x3f0f5e(0x184)][_0x3f0f5e(0x292)](_0xeab533=>dropZone[_0x3f0f5e(0x274)](_0xeab533,_0x1bd8a2=>{var _0x1e1bb0=_0x3f0f5e;_0x1bd8a2[_0x1e1bb0(0x1c9)](),dropZone[_0x1e1bb0(0x29f)]['remove'](_0x1e1bb0(0x219));})),dropZone[_0x3f0f5e(0x274)](_0x3f0f5e(0x184),_0x2665bf=>{var _0x19a55d=_0x3f0f5e;const _0x3560e1=_0x2665bf[_0x19a55d(0x27f)][_0x19a55d(0x279)][0x0];if(!_0x3560e1)return;fileInput['files']=_0x2665bf['dataTransfer'][_0x19a55d(0x279)],dropZone['querySelector'](_0x19a55d(0x222))[_0x19a55d(0x17b)]=_0x3560e1[_0x19a55d(0x196)],removeBtn[_0x19a55d(0x23c)]=![],fileInput[_0x19a55d(0x20a)](new Event(_0x19a55d(0x1bf)));}),removeBtn[_0x3f0f5e(0x274)]('click',()=>{var _0x229c3e=_0x3f0f5e;fileInput[_0x229c3e(0x1a6)]='',dropZone[_0x229c3e(0x15e)](_0x229c3e(0x222))['textContent']=_0x229c3e(0x22c),removeBtn[_0x229c3e(0x23c)]=!![],progressBar[_0x229c3e(0x258)]['display']=_0x229c3e(0x24a),statusDiv[_0x229c3e(0x17b)]='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x3f0f5e(0x195)](_0x3f0f5e(0x14f));exportBtn[_0x3f0f5e(0x274)](_0x3f0f5e(0x1a0),onClickExportarItems);async function onClickExportarItems(){var _0x211a52=_0x3f0f5e;if(!Array[_0x211a52(0x223)](products)||!products[_0x211a52(0x259)]){ntfShow(_0x211a52(0x273));return;}try{const _0x18d144=await fetch(_0x211a52(0x1b8));if(!_0x18d144['ok'])throw new Error(_0x211a52(0x1eb));const _0x20aa24=await _0x18d144[_0x211a52(0x260)](),_0x583cc7=document[_0x211a52(0x195)](_0x211a52(0x243))[_0x211a52(0x1a6)];let _0x4f468f=products;const _0x32fdad=getUserPermissionApiERP(0x2);_0x32fdad==0x1&&(_0x4f468f=products[_0x211a52(0x1cf)](_0x34ede2=>Array[_0x211a52(0x223)](_0x34ede2[_0x211a52(0x1da)])&&_0x34ede2[_0x211a52(0x1da)][_0x211a52(0x290)](_0x27188c=>String(_0x27188c['setIdSucursal'])==String(_0x583cc7))));const _0x17efab=_0x4f468f[_0x211a52(0x186)]((_0x4e3095,_0xebc04a)=>{var _0x16f28b=_0x211a52;const _0x1c62c7=_0xebc04a[_0x16f28b(0x226)];if(!_0x4e3095[_0x1c62c7])_0x4e3095[_0x1c62c7]=[];return _0x4e3095[_0x1c62c7][_0x16f28b(0x257)](_0xebc04a),_0x4e3095;},{}),_0x305e20=Object[_0x211a52(0x15c)](_0x17efab)[_0x211a52(0x174)](_0x146c70=>{var _0x522cc4=_0x211a52;const _0x2a69ed=_0x146c70[0x0],_0x469a3b=_0x146c70[0x1]||{},_0x17c254=_0x146c70[0x2]||{};function _0x1e087e(_0x30251d,_0x2cbe35,_0x5db5db){var _0x5412f9=_0x30ee;if(!_0x30251d||!Array[_0x5412f9(0x223)](_0x30251d[_0x5412f9(0x1a3)]))return'';const _0x3e04c1=_0x30251d[_0x5412f9(0x1a3)][_0x5412f9(0x233)](_0x16aee6=>_0x16aee6[_0x5412f9(0x172)]===_0x2cbe35);return _0x3e04c1?_0x3e04c1[_0x5db5db]:'';}return{'id':_0x2a69ed[_0x522cc4(0x226)],'setItemType':_0x2a69ed['setItemType'],'setCodProducto':_0x2a69ed[_0x522cc4(0x150)],'setDescripcion':_0x2a69ed['setDescripcion'],'setItemDescription':_0x2a69ed[_0x522cc4(0x191)],'setItemIsSold':_0x2a69ed[_0x522cc4(0x1e6)],'setItemIsBought':_0x2a69ed[_0x522cc4(0x208)],'setCategoria':_0x2a69ed['setCategoria'],'setMarca':_0x2a69ed[_0x522cc4(0x17c)],'setTaxId':_0x2a69ed[_0x522cc4(0x26a)],'setUnitId':_0x2a69ed['id'],'setItemBarCode':_0x2a69ed[_0x522cc4(0x1e9)],'setUnidadCodigo':_0x2a69ed[_0x522cc4(0x1c1)],'setItemUnitAlias':_0x2a69ed[_0x522cc4(0x201)]??'','PEN_setMtoPrecioUnitario':_0x1e087e(_0x2a69ed,_0x522cc4(0x23f),_0x522cc4(0x27e)),'PEN_setMtoPrecioCostoUnitario':_0x1e087e(_0x2a69ed,_0x522cc4(0x23f),_0x522cc4(0x151)),'USD_setMtoPrecioUnitario':_0x1e087e(_0x2a69ed,_0x522cc4(0x1a7),_0x522cc4(0x27e)),'USD_setMtoPrecioCostoUnitario':_0x1e087e(_0x2a69ed,_0x522cc4(0x1a7),_0x522cc4(0x151)),'setItemCommissionPercentage':_0x2a69ed[_0x522cc4(0x1de)]?parseFloat(_0x2a69ed['setItemCommissionPercentage']):'','setUnitId2':_0x469a3b['id']??'','setItemBarCode2':_0x469a3b[_0x522cc4(0x1e9)]??'','setUnidadCodigo2':_0x469a3b[_0x522cc4(0x1c1)]??'','setItemUnitAlias2':_0x469a3b[_0x522cc4(0x201)]??'','setUnidadEquivalencia2':_0x469a3b[_0x522cc4(0x28d)]??'','PEN_setMtoPrecioUnitario2':_0x1e087e(_0x469a3b,_0x522cc4(0x23f),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x1e087e(_0x469a3b,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x1e087e(_0x469a3b,_0x522cc4(0x1a7),_0x522cc4(0x27e))??'','USD_setMtoPrecioCostoUnitario2':_0x1e087e(_0x469a3b,_0x522cc4(0x1a7),_0x522cc4(0x151))??'','setItemCommissionPercentage2':_0x469a3b[_0x522cc4(0x1de)]?parseFloat(_0x469a3b[_0x522cc4(0x1de)]):'','setUnitId3':_0x17c254['id']??'','setItemBarCode3':_0x17c254[_0x522cc4(0x1e9)]??'','setUnidadCodigo3':_0x17c254[_0x522cc4(0x1c1)]??'','setItemUnitAlias3':_0x17c254[_0x522cc4(0x201)]??'','setUnidadEquivalencia3':_0x17c254[_0x522cc4(0x28d)]??'','PEN_setMtoPrecioUnitario3':_0x1e087e(_0x17c254,_0x522cc4(0x23f),_0x522cc4(0x27e))??'','PEN_setMtoPrecioCostoUnitario3':_0x1e087e(_0x17c254,'PEN',_0x522cc4(0x151))??'','USD_setMtoPrecioUnitario3':_0x1e087e(_0x17c254,'USD','setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x1e087e(_0x17c254,_0x522cc4(0x1a7),_0x522cc4(0x151))??'','setItemCommissionPercentage3':_0x17c254[_0x522cc4(0x1de)]?parseFloat(_0x17c254[_0x522cc4(0x1de)]):'','setInventariable':_0x2a69ed['setInventariable'],'setSucursalStock':_0x32fdad==0x1?_0x2a69ed[_0x522cc4(0x1da)]['find'](_0xef04c9=>String(_0xef04c9[_0x522cc4(0x28c)])==String(_0x583cc7))[_0x522cc4(0x1b7)]:'','setWarehouseStockMin':_0x32fdad==0x1?_0x2a69ed[_0x522cc4(0x1da)][_0x522cc4(0x233)](_0x315348=>String(_0x315348[_0x522cc4(0x28c)])==String(_0x583cc7))[_0x522cc4(0x24f)]:'','setBatchName':_0x2a69ed['setBatchName'],'setBatchExpirationDate':_0x2a69ed[_0x522cc4(0x22b)],..._0x2a69ed['setItemVariantValues']};});try{JSON[_0x211a52(0x1ce)](_0x305e20);}catch(_0x5823ee){console[_0x211a52(0x1ac)](_0x211a52(0x224),_0x5823ee),ntfShow(_0x211a52(0x163));return;}statusDiv[_0x211a52(0x17b)]=_0x211a52(0x14b),progressBar['style'][_0x211a52(0x1c7)]=_0x211a52(0x1dc),progressBar[_0x211a52(0x1a6)]=0x0,itemWorker[_0x211a52(0x18e)]({'action':_0x211a52(0x248),'products':_0x305e20,'plantillaBuf':_0x20aa24},[_0x20aa24]);}catch(_0x39e826){console[_0x211a52(0x1ac)](_0x39e826),ntfShow(_0x211a52(0x1b1)+_0x39e826[_0x211a52(0x188)]);}}itemWorker[_0x3f0f5e(0x183)]=({data:_0x38e598})=>{var _0x3bbc95=_0x3f0f5e;const {type:_0x27bf3e,payload:_0x581aca}=_0x38e598;_0x27bf3e===_0x3bbc95(0x225)&&(progressBar['style'][_0x3bbc95(0x1c7)]='block',progressBar[_0x3bbc95(0x1a6)]=_0x581aca[_0x3bbc95(0x1e1)],statusDiv[_0x3bbc95(0x17b)]=_0x581aca[_0x3bbc95(0x188)]);_0x27bf3e===_0x3bbc95(0x192)&&(newItemsExcel=_0x581aca[_0x3bbc95(0x25a)],statusDiv[_0x3bbc95(0x17b)]='✅\x20'+newItemsExcel[_0x3bbc95(0x259)]+'\x20items\x20procesados.',uploadBtn[_0x3bbc95(0x156)]=![],progressBar['value']=0x64,console[_0x3bbc95(0x29e)](newItemsExcel));_0x27bf3e===_0x3bbc95(0x1ac)&&(statusDiv[_0x3bbc95(0x17b)]='❌\x20Error:\x20'+_0x581aca,progressBar['style'][_0x3bbc95(0x1c7)]='none');if(_0x27bf3e===_0x3bbc95(0x287)){const {wbout:_0x1fd04b,count:_0x2eaec8}=_0x581aca,_0x36fa1f=new Blob([_0x1fd04b],{'type':'application/octet-stream'}),_0x4cd5f6=URL[_0x3bbc95(0x17d)](_0x36fa1f),_0x43700e=document[_0x3bbc95(0x295)]('a'),_0x475af5=new Date()[_0x3bbc95(0x235)]()[_0x3bbc95(0x228)](0x0,0xa);_0x43700e[_0x3bbc95(0x19d)]=_0x3bbc95(0x28a)+_0x475af5+_0x3bbc95(0x281),_0x43700e[_0x3bbc95(0x168)]=_0x4cd5f6,_0x43700e['click'](),URL[_0x3bbc95(0x220)](_0x4cd5f6),statusDiv[_0x3bbc95(0x17b)]=_0x3bbc95(0x22d)+_0x2eaec8+_0x3bbc95(0x176),progressBar[_0x3bbc95(0x258)][_0x3bbc95(0x1c7)]=_0x3bbc95(0x24a);}},fileInput[_0x3f0f5e(0x274)](_0x3f0f5e(0x1bf),async _0x4c13d9=>{var _0x4f74e7=_0x3f0f5e;const _0x282013=_0x4c13d9['target'][_0x4f74e7(0x279)][0x0];if(!_0x282013)return;uploadBtn[_0x4f74e7(0x156)]=!![],newItemsExcel=null,statusDiv[_0x4f74e7(0x17b)]='',progressBar[_0x4f74e7(0x258)][_0x4f74e7(0x1c7)]=_0x4f74e7(0x24a),dropZone[_0x4f74e7(0x15e)](_0x4f74e7(0x222))['textContent']=_0x282013[_0x4f74e7(0x196)],removeBtn['hidden']=![];try{const _0x3d4012=await _0x282013['arrayBuffer']();itemWorker['postMessage']({'action':_0x4f74e7(0x236),'buf':_0x3d4012,'maxRows':0x1388});}catch(_0x324d16){statusDiv[_0x4f74e7(0x17b)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput['value']='';}}),uploadBtn['addEventListener'](_0x3f0f5e(0x1a0),async()=>{var _0x51f65b=_0x3f0f5e;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x1a3349=document[_0x51f65b(0x195)]('setWarehouseId')[_0x51f65b(0x1a6)],_0x5888c1=[];newItemsExcel['forEach'](_0x765dd0=>{var _0x51d17d=_0x51f65b;const _0x1de27b=Boolean(_0x765dd0['setItemId']),_0xfe07b8=_0x1de27b?_0x765dd0[_0x51d17d(0x1c6)]:generateNumericUniqId();_0x765dd0[_0x51d17d(0x209)]=[{'setStockInitial':_0x765dd0['setStockInitial'],'setStockMinimum':_0x765dd0[_0x51d17d(0x1ad)],'setWarehouseCode':_0x1a3349}],_0x765dd0[_0x51d17d(0x25c)]['forEach'](_0xbddb7c=>{var _0x2a0447=_0x51d17d;const _0x35960b=Boolean(_0xbddb7c[_0x2a0447(0x177)]),_0x297ef9=_0x35960b?_0xbddb7c['setItemUnitId']:generateNumericUniqId();_0xbddb7c[_0x2a0447(0x177)]=_0x297ef9;const _0x4da837=[];_0x4da837[_0x2a0447(0x257)]({'currency':_0x2a0447(0x23f),'setMtoPrecioCostoUnitario':_0xbddb7c[_0x2a0447(0x218)],'setMtoPrecioUnitario':_0xbddb7c[_0x2a0447(0x238)],'setPriceLists':[]});const _0x55d13d=_0xbddb7c[_0x2a0447(0x181)]!=null&&_0xbddb7c[_0x2a0447(0x164)]!=null&&(!isNaN(_0xbddb7c[_0x2a0447(0x181)])||!isNaN(_0xbddb7c[_0x2a0447(0x164)]));_0x55d13d&&_0x4da837[_0x2a0447(0x257)]({'currency':_0x2a0447(0x1a7),'setMtoPrecioCostoUnitario':_0xbddb7c[_0x2a0447(0x181)],'setMtoPrecioUnitario':_0xbddb7c[_0x2a0447(0x164)],'setPriceLists':[]});const _0x3a7703={'id':_0x297ef9,'setIdProducto':_0xfe07b8,'setItemBarCode':_0xbddb7c[_0x2a0447(0x1e9)],'setCodProducto':_0x765dd0['setItemCode'],'setDescripcion':_0x765dd0['setItemName'],'setItemDescription':_0x765dd0[_0x2a0447(0x191)],'setBatchExpirationDate':_0x765dd0['setItemDateExpiry'],'setBatchName':_0x765dd0[_0x2a0447(0x21b)],'setItemIsSold':_0x765dd0[_0x2a0447(0x1e6)],'setItemIsBought':_0x765dd0['setItemIsBought'],'setCategoria':_0x765dd0['setItemCategories'][0x0]||'','setMarca':_0x765dd0[_0x2a0447(0x16e)][0x0]||'','setConversionFactor':parseFloat(_0xbddb7c[_0x2a0447(0x197)]),'setImages':[],'setImg':_0x2a0447(0x1b0),'setInventariable':_0x765dd0[_0x2a0447(0x155)],'setPorcentajeIgv':_0x765dd0[_0x2a0447(0x17f)],'setPrinters':[],'setTaxId':_0x765dd0['setItemTaxId'],'setTipAfeIgv':_0x765dd0[_0x2a0447(0x1c4)],'setUnidad':_0xbddb7c[_0x2a0447(0x25b)],'setUnidadCodigo':_0xbddb7c[_0x2a0447(0x25b)],'setItemUnitAlias':_0xbddb7c[_0x2a0447(0x18c)],'setItemCommissionPercentage':_0xbddb7c[_0x2a0447(0x1de)],'currency_data':_0x4da837,'sucursales':_0x765dd0[_0x2a0447(0x209)][_0x2a0447(0x174)](_0x286333=>({'setIdSucursal':_0x286333['setWarehouseCode'],'setSucursalStock':_0x286333[_0x2a0447(0x190)][_0x2a0447(0x210)](),'setWarehouseStockMin':_0x286333[_0x2a0447(0x1ad)][_0x2a0447(0x210)]()})),'setItemFree':_0x765dd0['setItemFree'],'setItemBrands':_0x765dd0[_0x2a0447(0x16e)][_0x2a0447(0x228)](),'setItemCategories':_0x765dd0[_0x2a0447(0x286)][_0x2a0447(0x228)](),'setItemComponents':_0x765dd0[_0x2a0447(0x19e)][_0x2a0447(0x174)](_0xcf3cb9=>({..._0xcf3cb9})),'setItemImages':_0x765dd0[_0x2a0447(0x207)][_0x2a0447(0x228)](),'setItemVariantName':_0x765dd0[_0x2a0447(0x277)],'setItemVariantValues':{..._0x765dd0[_0x2a0447(0x280)]}},_0x255bae=products[_0x2a0447(0x1f0)](_0x224a99=>_0x224a99['id']==_0x297ef9&&_0x224a99[_0x2a0447(0x226)]==_0xfe07b8);_0x255bae>-0x1?Object[_0x2a0447(0x269)](products[_0x255bae],_0x3a7703):_0x5888c1['push'](_0x3a7703);});}),console['log'](_0x51f65b(0x1ea),newItemsExcel),await finalizeImport(_0x5888c1,newItemsExcel,!![]);});function initializeFormImages(){var _0x3504cf=_0x3f0f5e;currentImages=Array(MAX_IMAGES)[_0x3504cf(0x288)](null),imgC['innerHTML']='',baseItem['setItemImages']=[];for(var _0x1e59d8=0x0;_0x1e59d8<MAX_IMAGES;_0x1e59d8++){(function(_0x46795b){var _0x403abf=_0x3504cf,_0x5098e9=document['createElement']('div');_0x5098e9[_0x403abf(0x1b4)]=_0x403abf(0x173),_0x5098e9[_0x403abf(0x1e4)][_0x403abf(0x23a)]=_0x46795b;var _0x1a5dd7=document['createElement'](_0x403abf(0x16d));_0x1a5dd7[_0x403abf(0x26c)]='file',_0x1a5dd7[_0x403abf(0x245)]=_0x403abf(0x17a),_0x1a5dd7['style'][_0x403abf(0x1c7)]=_0x403abf(0x24a);var _0x2a71ba=document['createElement'](_0x403abf(0x1a4));_0x2a71ba['textContent']='+',_0x5098e9[_0x403abf(0x1d5)](_0x1a5dd7),_0x5098e9[_0x403abf(0x1d5)](_0x2a71ba),imgC['appendChild'](_0x5098e9),_0x5098e9[_0x403abf(0x274)](_0x403abf(0x1a0),function(){var _0x4c967c=_0x403abf;_0x1a5dd7[_0x4c967c(0x1a0)]();}),_0x1a5dd7[_0x403abf(0x274)](_0x403abf(0x1bf),function(_0x340c1c){var _0x3a0985=_0x403abf,_0x167738=_0x340c1c['target'][_0x3a0985(0x279)][0x0];if(!_0x167738)return removeImg(_0x46795b);var _0x1fa839=new FileReader();_0x1fa839[_0x3a0985(0x1c5)]=function(_0x5792ac){var _0x7085dd=_0x3a0985;_0x5098e9['innerHTML']=_0x7085dd(0x278)+_0x5792ac[_0x7085dd(0x237)][_0x7085dd(0x22a)]+'\x22>';var _0x2812e8=document[_0x7085dd(0x295)](_0x7085dd(0x1a4));_0x2812e8['className']='remove',_0x2812e8[_0x7085dd(0x17b)]='×',_0x2812e8[_0x7085dd(0x274)]('click',function(_0x5a4b95){var _0x157639=_0x7085dd;_0x5a4b95[_0x157639(0x166)](),removeImg(_0x46795b);}),_0x5098e9[_0x7085dd(0x1d5)](_0x2812e8),currentImages[_0x46795b]=_0x167738,baseItem[_0x7085dd(0x207)]=currentImages[_0x7085dd(0x1cf)](function(_0x3c1dcd){return _0x3c1dcd;});},_0x1fa839[_0x3a0985(0x27b)](_0x167738);});}(_0x1e59d8));}}function _0x30ee(_0x3e369b,_0x527ea5){var _0x30cee1=_0x2173();return _0x30ee=function(_0x5da6d2,_0x3d79b6){_0x5da6d2=_0x5da6d2-0x14b;var _0x38212b=_0x30cee1[_0x5da6d2];return _0x38212b;},_0x30ee(_0x3e369b,_0x527ea5);}function initializeFormIsSoldIsBought(_0x18e26f=0x0){var _0x58f110=_0x3f0f5e;let _0x4998d9,_0x5867c1;if(_0x18e26f!=0x0){const _0x2da606=products['find'](_0x31ff4c=>_0x31ff4c['id']==_0x18e26f);_0x4998d9=_0x2da606[_0x58f110(0x208)]==0x1||_0x2da606[_0x58f110(0x208)]==!![]?!![]:![],_0x5867c1=_0x2da606[_0x58f110(0x1e6)]==0x1||_0x2da606['setItemIsSold']==!![]?!![]:![];}else _0x4998d9=!![],_0x5867c1=!![];document[_0x58f110(0x195)](_0x58f110(0x1d7))[_0x58f110(0x296)]=_0x4998d9,document[_0x58f110(0x195)](_0x58f110(0x1ed))[_0x58f110(0x296)]=_0x5867c1,baseItem[_0x58f110(0x208)]=_0x4998d9,baseItem[_0x58f110(0x1e6)]=_0x5867c1;}function initializeFormInputsBasic(_0x7ba342=0x0){var _0xfa5450=_0x3f0f5e;let _0x288bc1,_0x4eb065,_0x332363,_0x394c75,_0x426b09,_0x146c2f;if(_0x7ba342!=0x0){const _0x281b40=products[_0xfa5450(0x233)](_0x63ff0d=>_0x63ff0d['id']==_0x7ba342);_0x288bc1=_0x281b40[_0xfa5450(0x1a9)]??'1',_0x4eb065=_0x281b40[_0xfa5450(0x150)],_0x332363=_0x281b40['setDescripcion'],_0x394c75=_0x281b40[_0xfa5450(0x191)],_0x426b09=_0x281b40[_0xfa5450(0x22b)]??'',_0x146c2f=_0x281b40[_0xfa5450(0x1e9)];}else _0x288bc1='1',_0x4eb065=getNextCode(products),_0x332363='',_0x394c75='',_0x426b09='',_0x146c2f='';document[_0xfa5450(0x195)](_0xfa5450(0x14c))[_0xfa5450(0x1a6)]=_0x288bc1,document[_0xfa5450(0x195)](_0xfa5450(0x165))[_0xfa5450(0x1a6)]=_0x4eb065,document['getElementById'](_0xfa5450(0x26d))[_0xfa5450(0x1a6)]=_0x332363,document['getElementById']('inputItemDescription')[_0xfa5450(0x1a6)]=_0x394c75,document[_0xfa5450(0x195)](_0xfa5450(0x230))[_0xfa5450(0x1a6)]=_0x426b09,document[_0xfa5450(0x195)](_0xfa5450(0x22f))[_0xfa5450(0x1a6)]=_0x146c2f,baseItem[_0xfa5450(0x1a9)]=_0x288bc1,baseItem[_0xfa5450(0x1dd)]=_0x4eb065,baseItem[_0xfa5450(0x1ab)]=_0x332363,baseItem['setItemDescription']=_0x394c75,baseItem['setItemDateExpiry']=_0x426b09,baseItem[_0xfa5450(0x1e9)]=_0x146c2f,document[_0xfa5450(0x195)](_0xfa5450(0x18d))['checked']=![];}function initializeFormTax(_0x97d1fe=0x0){var _0x527320=_0x3f0f5e;let _0x11eaf5;if(_0x97d1fe!=0x0){const _0x3deccd=products[_0x527320(0x233)](_0x1f66e2=>_0x1f66e2['id']==_0x97d1fe);_0x11eaf5=_0x3deccd[_0x527320(0x26a)];}else _0x11eaf5=myCompany['setTaxIdDefault'];const _0x951d7=document[_0x527320(0x195)](_0x527320(0x1b5));_0x951d7[_0x527320(0x1a6)]=_0x11eaf5,baseItem[_0x527320(0x20f)]=_0x11eaf5;const _0x4f4bdd=company[0x0]['setImpuestos'][_0x527320(0x233)](_0x54a1a9=>_0x54a1a9['setTaxId']==_0x11eaf5)?.[_0x527320(0x241)]||0x0,_0x1e9417=company[0x0]['setImpuestos']['find'](_0x3a656e=>_0x3a656e[_0x527320(0x26a)]==_0x11eaf5)?.[_0x527320(0x200)]||0x0;baseItem[_0x527320(0x1c4)]=_0x4f4bdd,baseItem['setItemTaxValue']=_0x1e9417;}function initializeFormCategoriesBrands(_0x4cab80=0x0){var _0x20b06b=_0x3f0f5e;baseItem[_0x20b06b(0x286)]=[],baseItem[_0x20b06b(0x16e)]=[],document[_0x20b06b(0x15e)](_0x20b06b(0x232))['innerHTML']='',document[_0x20b06b(0x15e)](_0x20b06b(0x1aa))[_0x20b06b(0x250)]='',document[_0x20b06b(0x15e)](_0x20b06b(0x21e))[_0x20b06b(0x250)]='',document[_0x20b06b(0x15e)](_0x20b06b(0x153))[_0x20b06b(0x250)]='';const _0xcc66b1=myCompany['setItemCategories']['map'](_0x1ac75c=>({'setCode':_0x1ac75c[_0x20b06b(0x1bc)],'setName':_0x1ac75c[_0x20b06b(0x1bc)]})),_0x3929f5=myCompany[_0x20b06b(0x16e)][_0x20b06b(0x174)](_0x20e3d9=>({'setCode':_0x20e3d9['setItemBrandName'],'setName':_0x20e3d9[_0x20b06b(0x198)]}));initMulti('newItem_categories_select',_0xcc66b1),initMulti(_0x20b06b(0x1e3),_0x3929f5),document[_0x20b06b(0x195)](_0x20b06b(0x291))['addEventListener'](_0x20b06b(0x28b),function(_0x840305){var _0x115194=_0x20b06b;baseItem[_0x115194(0x286)]=_0x840305[_0x115194(0x1c8)][_0x115194(0x174)](_0x1975f0=>_0x1975f0[_0x115194(0x182)]);}),document['getElementById'](_0x20b06b(0x1e3))['addEventListener'](_0x20b06b(0x28b),function(_0x10c5d4){var _0x49c9ab=_0x20b06b;baseItem[_0x49c9ab(0x16e)]=_0x10c5d4['detail'][_0x49c9ab(0x174)](_0x9d970c=>_0x9d970c[_0x49c9ab(0x182)]);});if(_0x4cab80!=0x0){const _0x5466ac=products[_0x20b06b(0x233)](_0x176864=>_0x176864['id']==_0x4cab80);if(_0x5466ac[_0x20b06b(0x205)]){const _0x1e4c58=document[_0x20b06b(0x195)](_0x20b06b(0x291)),_0x4c9897=Array['from'](_0x1e4c58['querySelectorAll'](_0x20b06b(0x1ba)))[_0x20b06b(0x233)](_0x12b928=>_0x12b928[_0x20b06b(0x1e4)][_0x20b06b(0x285)]==_0x5466ac[_0x20b06b(0x205)]);_0x4c9897&&_0x4c9897[_0x20b06b(0x1a0)]();}if(_0x5466ac['setMarca']){const _0x4221a1=document['getElementById'](_0x20b06b(0x1e3)),_0x24a0d0=Array[_0x20b06b(0x169)](_0x4221a1['querySelectorAll'](_0x20b06b(0x1ba)))[_0x20b06b(0x233)](_0x2ecc7f=>_0x2ecc7f[_0x20b06b(0x1e4)][_0x20b06b(0x285)]==_0x5466ac[_0x20b06b(0x17c)]);_0x24a0d0&&_0x24a0d0[_0x20b06b(0x1a0)]();}}}function initializeFormUnits(){var _0x5384b5=_0x3f0f5e;unitCount=0x0,document[_0x5384b5(0x195)](_0x5384b5(0x1d9))['innerHTML']='',baseItem[_0x5384b5(0x25c)]=[];var _0x7d496d=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x5384b5(0x1f7)]);addUnit('',_0x7d496d[0x3a]&&_0x7d496d[0x3a][_0x5384b5(0x182)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3d2b95=_0x3f0f5e;prodC['innerHTML']='',baseItem[_0x3d2b95(0x19e)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2d100b=_0x3f0f5e;branchesC['innerHTML']='',baseItem['setItemWarehouses']=[];const _0x6e8e0c=getAllWarehouses();_0x6e8e0c[_0x2d100b(0x292)](function(_0x24b6ca){var _0x46b243=_0x2d100b,_0x243193=document[_0x46b243(0x295)](_0x46b243(0x160));_0x243193[_0x46b243(0x250)]=_0x46b243(0x175)+_0x46b243(0x249)+_0x46b243(0x253)+_0x24b6ca['setWarehouseId']+_0x46b243(0x227)+_0x24b6ca[_0x46b243(0x1ef)]+_0x46b243(0x1fd)+_0x46b243(0x161)+'<div\x20class=\x22newItem_col\x22>'+_0x46b243(0x1f2)+_0x24b6ca[_0x46b243(0x243)]+'\x22>'+_0x46b243(0x161)+_0x46b243(0x249)+_0x46b243(0x298)+_0x24b6ca[_0x46b243(0x243)]+'\x22>'+_0x46b243(0x161)+_0x46b243(0x161),branchesC[_0x46b243(0x1d5)](_0x243193),_0x243193[_0x46b243(0x24c)](_0x46b243(0x16d))[_0x46b243(0x292)](function(_0x1a2f98){_0x1a2f98['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x81a7ea=_0x3f0f5e;baseItem[_0x81a7ea(0x277)]='',baseItem['setItemVariantValues']={},vgC['innerHTML']='',varContainer[_0x81a7ea(0x250)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x336dfd,_0x437f5f,_0x556c16=![]){var _0x33ec87=_0x3f0f5e;const _0x4db9da=0xc8,_0x62baba={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x33ec87(0x1fb)],'setWebhook':company[0x0][_0x33ec87(0x216)]};for(let _0x23517c=0x0;_0x23517c<_0x437f5f[_0x33ec87(0x259)];_0x23517c+=_0x4db9da){const _0x199bb4=_0x437f5f[_0x33ec87(0x228)](_0x23517c,_0x23517c+_0x4db9da);await storeOfflineProduct({..._0x62baba,'newItems':_0x199bb4});}products['push'](..._0x336dfd),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x33ec87(0x217)),_0x556c16?(fileInput['value']='',uploadBtn[_0x33ec87(0x156)]=!![],statusDiv[_0x33ec87(0x17b)]='',progressBar['style']['display']='none',progressBar[_0x33ec87(0x1a6)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}