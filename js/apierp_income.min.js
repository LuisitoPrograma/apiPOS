/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.1
*/

const _0xff6429=_0x2293;(function(_0x4a33a0,_0x3a6a9f){const _0x1cbf62=_0x2293,_0x338317=_0x4a33a0();while(!![]){try{const _0x46851d=parseInt(_0x1cbf62(0x178))/0x1*(-parseInt(_0x1cbf62(0x163))/0x2)+parseInt(_0x1cbf62(0x174))/0x3+parseInt(_0x1cbf62(0x1a0))/0x4+-parseInt(_0x1cbf62(0x161))/0x5+-parseInt(_0x1cbf62(0x109))/0x6+parseInt(_0x1cbf62(0x136))/0x7*(parseInt(_0x1cbf62(0xf2))/0x8)+parseInt(_0x1cbf62(0x120))/0x9;if(_0x46851d===_0x3a6a9f)break;else _0x338317['push'](_0x338317['shift']());}catch(_0x558067){_0x338317['push'](_0x338317['shift']());}}}(_0x5e02,0xee752));const _0x4b9cad=(function(){let _0xe57b50=!![];return function(_0x4bd831,_0x4f19f2){const _0x45a89a=_0xe57b50?function(){const _0x569202=_0x2293;if(_0x4f19f2){const _0x3b8737=_0x4f19f2[_0x569202(0x11b)](_0x4bd831,arguments);return _0x4f19f2=null,_0x3b8737;}}:function(){};return _0xe57b50=![],_0x45a89a;};}()),_0x7fbd6e=_0x4b9cad(this,function(){const _0x50df9f=_0x2293;return _0x7fbd6e[_0x50df9f(0x15d)]()[_0x50df9f(0x153)](_0x50df9f(0x1a3))[_0x50df9f(0x15d)]()['constructor'](_0x7fbd6e)[_0x50df9f(0x153)](_0x50df9f(0x1a3));});_0x7fbd6e();const _0x249326=(function(){let _0x3d1e9a=!![];return function(_0x3fad75,_0x3f0aff){const _0x41bfb3=_0x3d1e9a?function(){if(_0x3f0aff){const _0x1c378f=_0x3f0aff['apply'](_0x3fad75,arguments);return _0x3f0aff=null,_0x1c378f;}}:function(){};return _0x3d1e9a=![],_0x41bfb3;};}()),_0x256d5c=_0x249326(this,function(){const _0x20f88f=_0x2293,_0x3337eb=function(){const _0x52b0b8=_0x2293;let _0x30fe65;try{_0x30fe65=Function('return\x20(function()\x20'+_0x52b0b8(0x176)+');')();}catch(_0x11eaed){_0x30fe65=window;}return _0x30fe65;},_0x278aec=_0x3337eb(),_0x319f16=_0x278aec[_0x20f88f(0x188)]=_0x278aec[_0x20f88f(0x188)]||{},_0x16b726=['log','warn','info',_0x20f88f(0x198),_0x20f88f(0x172),_0x20f88f(0x107),_0x20f88f(0xe4)];for(let _0x3f1f1f=0x0;_0x3f1f1f<_0x16b726[_0x20f88f(0x121)];_0x3f1f1f++){const _0x1a80ba=_0x249326['constructor'][_0x20f88f(0xde)][_0x20f88f(0x10b)](_0x249326),_0x56e2fb=_0x16b726[_0x3f1f1f],_0x4dd30e=_0x319f16[_0x56e2fb]||_0x1a80ba;_0x1a80ba[_0x20f88f(0xf9)]=_0x249326['bind'](_0x249326),_0x1a80ba[_0x20f88f(0x15d)]=_0x4dd30e[_0x20f88f(0x15d)][_0x20f88f(0x10b)](_0x4dd30e),_0x319f16[_0x56e2fb]=_0x1a80ba;}});_0x256d5c();let arrayIncomes;const PER_PAGE=0x14;let currentPage=0x1;function generateFilterTransformChart(_0x340f42){const _0x3e7f6d=_0x2293,{containerId:_0x11c013,rawData:_0x724aef,groupField:_0x58239e,groupValues:_0x37be50,additionalFilters:additionalFilters=[],seriesType:seriesType=_0x3e7f6d(0x137),encode:_0x5b2a46,title:title='',colors:_0x39525c,animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x3e7f6d(0x11d),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x3f9228,height:_0x68e062}=_0x340f42,_0x4e6482=document[_0x3e7f6d(0x19f)](_0x11c013);if(!_0x4e6482){console[_0x3e7f6d(0x198)](_0x3e7f6d(0xe8)+_0x11c013+_0x3e7f6d(0x11f));return;}if(_0x3f9228)_0x4e6482[_0x3e7f6d(0x166)][_0x3e7f6d(0x150)]=_0x3f9228;if(_0x68e062)_0x4e6482[_0x3e7f6d(0x166)][_0x3e7f6d(0x140)]=_0x68e062;const _0x388f5b=echarts[_0x3e7f6d(0x19b)](_0x4e6482),_0x1f19d0=[],_0xdff1f6=[];_0x37be50[_0x3e7f6d(0x148)]((_0x45fd0c,_0x49e1c1)=>{const _0x1bdcfe=_0x3e7f6d,_0x31606f=_0x1bdcfe(0x11e)+_0x45fd0c,_0x21caa3=additionalFilters[_0x1bdcfe(0x14f)]([{'dimension':_0x58239e,'=':_0x45fd0c}]);_0x1f19d0['push']({'id':_0x31606f,'fromDatasetId':_0x1bdcfe(0x162),'transform':{'type':'filter','config':{'and':_0x21caa3}}}),_0xdff1f6[_0x1bdcfe(0x197)]({'type':seriesType,'datasetId':_0x31606f,'showSymbol':![],'name':_0x45fd0c,'endLabel':{'show':!![],'formatter':function(_0x4b9491){const _0x313f7b=_0x1bdcfe,_0x5f0395=_0x4b9491[_0x313f7b(0x111)]&&_0x4b9491[_0x313f7b(0x111)][_0x5b2a46['x']];return _0x45fd0c+(_0x5f0395!==undefined&&_0x5f0395!==null&&_0x5f0395!==''?':\x20'+_0x5f0395:'');}},'labelLayout':{'moveOverlap':_0x1bdcfe(0x143)},'emphasis':{'focus':'series'},'encode':_0x5b2a46,'lineStyle':{'color':_0x39525c&&_0x39525c[_0x49e1c1]?_0x39525c[_0x49e1c1]:undefined}});});const _0x14ac07={'animationDuration':animationDuration,'dataset':[{'id':_0x3e7f6d(0x162),'source':_0x724aef},..._0x1f19d0],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x3e7f6d(0x127)},'xAxis':Object['assign']({'type':_0x3e7f6d(0x144),'nameLocation':_0x3e7f6d(0x108)},xAxisConfig),'yAxis':Object[_0x3e7f6d(0x124)]({'name':_0x5b2a46['y']||''},yAxisConfig),'grid':gridConfig,'series':_0xdff1f6};_0x388f5b['setOption'](_0x14ac07);}function generatePieChart({containerId:_0x29a65b,data:_0x4e441c,nameField:_0x1b10b8,valueField:_0x6a59bf,title:title=''}){const _0x3795e3=_0x2293,_0x484f78=document[_0x3795e3(0x19f)](_0x29a65b);if(!_0x484f78)return console[_0x3795e3(0x198)](_0x3795e3(0x146)+_0x29a65b+_0x3795e3(0xef));const _0x2cade6=echarts[_0x3795e3(0x19b)](_0x484f78),_0xc8e830=_0x4e441c[_0x3795e3(0x135)]((_0x28f21b,_0x195cba)=>{const _0x278e61=_0x3795e3,_0x287f40=_0x195cba[_0x1b10b8],_0x4a509f=_0x195cba[_0x6a59bf];let _0xfea4b4=_0x28f21b['find'](_0x79c27f=>_0x79c27f[_0x278e61(0x114)]===_0x287f40);return!_0xfea4b4&&(_0xfea4b4={'name':_0x287f40,'value':0x0},_0x28f21b[_0x278e61(0x197)](_0xfea4b4)),_0xfea4b4[_0x278e61(0x111)]+=_0x4a509f,_0x28f21b;},[]),_0xd0e3d1={'title':{'text':title,'left':'center'},'tooltip':{'trigger':_0x3795e3(0x12f)},'series':[{'type':_0x3795e3(0x10a),'radius':_0x3795e3(0x123),'data':_0xc8e830,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x3795e3(0xf3)}}]};_0x2cade6[_0x3795e3(0x14a)](_0xd0e3d1);}function showModalViewDetails(){const _0x372d2e=_0x2293,_0x48d48e=document[_0x372d2e(0x19f)](_0x372d2e(0x19d)),_0x393dff=document[_0x372d2e(0x19f)](_0x372d2e(0xe0));_0x48d48e[_0x372d2e(0xea)][_0x372d2e(0x118)](_0x372d2e(0x199)),_0x393dff['style'][_0x372d2e(0x13b)]=_0x372d2e(0x170);}function hideModalViewDetails(){const _0x3edde2=_0x2293,_0x1cccc2=document[_0x3edde2(0x19f)](_0x3edde2(0x19d)),_0x414b37=document[_0x3edde2(0x19f)]('modalOverlayViewDetails');_0x1cccc2[_0x3edde2(0xea)][_0x3edde2(0x112)](_0x3edde2(0x199)),_0x414b37[_0x3edde2(0x166)][_0x3edde2(0x13b)]=_0x3edde2(0x164);const _0x5245c3=document[_0x3edde2(0x19f)]('dynamicContent');_0x5245c3[_0x3edde2(0x14e)]='\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>';}function _0x2293(_0x133ba8,_0x25ee67){const _0x155645=_0x5e02();return _0x2293=function(_0x256d5c,_0x249326){_0x256d5c=_0x256d5c-0xdd;let _0x4d36b8=_0x155645[_0x256d5c];return _0x4d36b8;},_0x2293(_0x133ba8,_0x25ee67);}document[_0xff6429(0x19f)](_0xff6429(0x160))[_0xff6429(0x15f)](_0xff6429(0x139),hideModalViewDetails),document[_0xff6429(0x19f)](_0xff6429(0xe0))[_0xff6429(0x15f)](_0xff6429(0x139),hideModalViewDetails);function verDetalle(_0xed53b7,_0x1ef13b){const _0x225f15=_0xff6429;fetch(_0x225f15(0x104)+_0xed53b7+_0x225f15(0x16d)+_0x1ef13b)[_0x225f15(0x16c)](_0x25e664=>{const _0x1ab0fb=_0x225f15;if(!_0x25e664['ok'])throw new Error(_0x1ab0fb(0x1a9)+_0x25e664[_0x1ab0fb(0x18b)]+':\x20'+_0x25e664['statusText']);return _0x25e664[_0x1ab0fb(0x113)]();})[_0x225f15(0x16c)](_0x2bddda=>{const _0x462bb4=_0x225f15;if(_0x2bddda['success']){const _0x1857cc=document[_0x462bb4(0x19f)]('dynamicContent');if(_0x1ef13b===_0x462bb4(0x182)){let _0x84c5c5='';_0x2bddda[_0x462bb4(0x186)][_0x462bb4(0x148)](_0x48faf9=>{const _0x4d03b0=_0x462bb4;_0x84c5c5+='\x0a<tr>\x0a<td>'+_0x48faf9[_0x4d03b0(0x130)]+_0x4d03b0(0x181)+_0x48faf9['cantidad']+_0x4d03b0(0x181)+_0x48faf9[_0x4d03b0(0xdf)]+_0x4d03b0(0x181)+_0x48faf9[_0x4d03b0(0x192)]+'</td>\x0a</tr>';}),document[_0x462bb4(0x19f)](_0x462bb4(0x171))['innerHTML']=_0x84c5c5;}else{if(_0x1ef13b===_0x462bb4(0xed)){const _0x29627f=_0x462bb4(0x125)+encodeURIComponent(_0x2bddda[_0x462bb4(0x187)]),_0x32baf=document[_0x462bb4(0x115)](_0x462bb4(0x180));_0x1857cc[_0x462bb4(0x14e)]=_0x462bb4(0xdd)+_0x29627f+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x462bb4(0x19f)](_0x462bb4(0x160))[_0x462bb4(0x15f)](_0x462bb4(0x139),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x2bddda[_0x462bb4(0x198)]||_0x462bb4(0x142));})[_0x225f15(0x16e)](_0x113729=>{const _0x44b8f7=_0x225f15;console[_0x44b8f7(0x198)](_0x44b8f7(0x100),_0x113729),alert(_0x44b8f7(0x12e));});}function formatDateToYmdHis(_0x260830){const _0x596758=_0xff6429,_0x578e92=_0x260830['getFullYear'](),_0x14b22d=String(_0x260830[_0x596758(0xfb)]()+0x1)[_0x596758(0x1ab)](0x2,'0'),_0x15ecc3=String(_0x260830[_0x596758(0x19c)]())['padStart'](0x2,'0'),_0x2f88b7=String(_0x260830[_0x596758(0x13d)]())[_0x596758(0x1ab)](0x2,'0'),_0x702702=String(_0x260830[_0x596758(0x122)]())[_0x596758(0x1ab)](0x2,'0'),_0xe21563=String(_0x260830[_0x596758(0x18d)]())[_0x596758(0x1ab)](0x2,'0');return _0x578e92+'-'+_0x14b22d+'-'+_0x15ecc3+'\x20'+_0x2f88b7+':'+_0x702702+':'+_0xe21563;}function getDateRange(_0x10ee40){const _0x42bc98=_0xff6429,_0x4f01b0=new Date();let _0x490100,_0x3e1360;switch(_0x10ee40){case _0x42bc98(0xff):_0x490100=new Date(_0x4f01b0[_0x42bc98(0x17d)](),_0x4f01b0[_0x42bc98(0xfb)](),_0x4f01b0[_0x42bc98(0x19c)](),0x0,0x0,0x0),_0x3e1360=new Date(_0x4f01b0[_0x42bc98(0x17d)](),_0x4f01b0['getMonth'](),_0x4f01b0[_0x42bc98(0x19c)](),0x17,0x3b,0x3b);break;case _0x42bc98(0xe9):const _0x367e34=_0x4f01b0[_0x42bc98(0xf6)](),_0x5d7cd5=new Date(_0x4f01b0);_0x5d7cd5['setDate'](_0x4f01b0[_0x42bc98(0x19c)]()-_0x367e34+(_0x367e34===0x0?-0x6:0x1));const _0x5bab21=new Date(_0x5d7cd5);_0x5bab21[_0x42bc98(0x1aa)](_0x5d7cd5[_0x42bc98(0x19c)]()+0x6),_0x490100=new Date(_0x5d7cd5['getFullYear'](),_0x5d7cd5['getMonth'](),_0x5d7cd5[_0x42bc98(0x19c)](),0x0,0x0,0x0),_0x3e1360=new Date(_0x5bab21[_0x42bc98(0x17d)](),_0x5bab21['getMonth'](),_0x5bab21[_0x42bc98(0x19c)](),0x17,0x3b,0x3b);break;case _0x42bc98(0x190):_0x490100=new Date(_0x4f01b0[_0x42bc98(0x17d)](),_0x4f01b0['getMonth'](),0x1,0x0,0x0,0x0),_0x3e1360=new Date(_0x4f01b0[_0x42bc98(0x17d)](),_0x4f01b0[_0x42bc98(0xfb)]()+0x1,0x0,0x17,0x3b,0x3b);break;case _0x42bc98(0x196):_0x490100=new Date(_0x4f01b0[_0x42bc98(0x17d)](),0x0,0x1,0x0,0x0,0x0),_0x3e1360=new Date(_0x4f01b0['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b);break;default:throw new Error('Invalid\x20range\x20type');}return{'startDateFormatted':formatDateToYmdHis(_0x490100),'endDateFormatted':formatDateToYmdHis(_0x3e1360)};}function _0x5e02(){const _0x5de711=['\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setOption','500px','label','filterModal','innerHTML','concat','width','setWarehouseId','setFloorId','search','impuestos','\x2000:00:00',';\x20color:','de\x20la\x20semana','mousedown','mouseup','.table-report\x20tbody','2025-05-27','application/json;\x20charset=utf-8','toString','900px','addEventListener','closeModalViewDetails','7999440IfBelC','dataset_raw','2wFCcpM','none','incomes','style','className','start','&laquo;\x20Anterior','application/json','setReceiptDueDate','then','&tipo=','catch','btn-outline','block','detalleTablaBody','exception','productName','1075215NsTqKA','POST','{}.constructor(\x22return\x20this\x22)(\x20)','fecha','156062hxxrEq','<i\x20class=\x22bi\x20bi-caret-down-fill\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setApiEndPoint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','appendChild','getFullYear','Evolución\x20de\x20Ventas','mouseleave','.modal-content','</td>\x0a<td>','detalle',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setPrecioUnit','serie','data','pdf_url','console','setTipoComprobante','endDateFormatted','status','setAuthToken','getSeconds','Siguiente\x20&raquo;','\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','month','toFixed','total','Total','.table-wrapper','&ff=','year','push','error','active','textContent','init','getDate','detalleModal','onclick','getElementById','4154132marMIb','scrollLeft','filtrar','(((.+)+)+)+$','Selecciona\x20ambas\x20fechas','setMtoPrecioCostoUnitario','slice','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>','tagName','Error\x20','setDate','padStart','\x0a<iframe\x20src=\x22','prototype','valor_unitario','modalOverlayViewDetails','onload','setReceiptProducts','change','trace','productPieChart','Error\x20al\x20solicitar\x20reporte','del\x20d&iacute;a','El\x20contenedor\x20con\x20id\x20\x22','week','classList','btn\x20btn-sm\x20btn-outline\x20me-2','\x2023:59:59','pdf','offsetLeft','\x20no\x20existe','del\x20a&ntilde;o','setIdProducto','6865912qAqsOZ','{b}:\x20{d}%','setTipAfeIgv','getInstance','getDay','href','btn\x20btn-sm\x20btn-outline\x20ms-2','__proto__','contains','getMonth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20right;\x22>','pageX','#FF5900','day','Error\x20al\x20cargar\x20el\x20detalle:','del\x20mes','split','preventDefault','https://fasyb.com/api/venta/view/?id=','location','stringify','table','middle','2461188LtuWfX','pie','bind','createElement','.pagination-table','target','btn-outline-primary','startDateFormatted','value','remove','json','name','querySelector','filter-end','getAttribute','add','DOMContentLoaded','</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','apply','filter-start','valueDesc','dataset_','\x22\x20no\x20existe.','7989237HfVrHl','length','getMinutes','50%','assign','https://fasyb.com/api/pdf/proxy/?file=','vencimiento','axis','map','./img/apiPOS.png','setValorCantidad','setBranchDefault','subtotal','date-range-label','Error\x20al\x20cargar\x20el\x20detalle.','item','producto','end','setReceiptStatusColor','2025-05-01','?page=1&fi=','reduce','7zIkLFj','line','dispatchEvent','click','estadoColor','display','.btn-logout','getHours','Modal','flatMap','height','setReceiptCurrency','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','shiftY','category','setReceiptSeries','Contenedor\x20','2025-05-25','forEach'];_0x5e02=function(){return _0x5de711;};return _0x5e02();}function updateDateRange(_0xcbc83b){const _0x760086=_0xff6429,_0x5f0e07=document[_0x760086(0x19f)](_0x760086(0x12d));if(_0xcbc83b==_0x760086(0x1a2)){}else{const {startDateFormatted:_0xeafed1,endDateFormatted:_0x575bad}=getDateRange(_0xcbc83b);let _0x5c96c3=window[_0x760086(0x105)]['href'][_0x760086(0x102)]('?')[0x0];_0x5c96c3+=_0x760086(0x134)+encodeURIComponent(_0xeafed1)+_0x760086(0x195)+encodeURIComponent(_0x575bad),window['location'][_0x760086(0xf7)]=_0x5c96c3;}}document['addEventListener'](_0xff6429(0x119),()=>{const _0xc88cb1=_0xff6429,_0x2438ba=document['getElementById'](_0xc88cb1(0x12d)),_0x4d1b48=document[_0xc88cb1(0x19f)]('date-range-options'),_0x4724fc=getDateRange(_0xc88cb1(0xff)),_0x471290=getDateRange(_0xc88cb1(0xe9)),_0xb40a56=getDateRange(_0xc88cb1(0x190)),_0x542cd3=getDateRange(_0xc88cb1(0x196)),_0x546dca=[{'start':_0x4724fc[_0xc88cb1(0x110)],'end':_0x4724fc['endDateFormatted'],'label':_0xc88cb1(0xe7)},{'start':_0x471290[_0xc88cb1(0x110)],'end':_0x471290[_0xc88cb1(0x18a)],'label':_0xc88cb1(0x157)},{'start':_0xb40a56[_0xc88cb1(0x110)],'end':_0xb40a56[_0xc88cb1(0x18a)],'label':_0xc88cb1(0x101)},{'start':_0x542cd3['startDateFormatted'],'end':_0x542cd3[_0xc88cb1(0x18a)],'label':_0xc88cb1(0xf0)}];let _0x245bda='';const _0x163f5d='2025-05-10',_0x1ebb11=_0xc88cb1(0x15b);for(const _0x1d5f39 of _0x546dca){if(_0x1d5f39[_0xc88cb1(0x168)]===_0x163f5d&&_0x1d5f39[_0xc88cb1(0x131)]===_0x1ebb11){_0x245bda=_0x1d5f39[_0xc88cb1(0x14c)]+_0xc88cb1(0x149);break;}}_0x2438ba[_0xc88cb1(0x14e)]=_0x245bda||_0xc88cb1(0x179),_0x2438ba[_0xc88cb1(0x15f)](_0xc88cb1(0x139),()=>{const _0x5f0e99=_0xc88cb1;_0x4d1b48[_0x5f0e99(0x166)][_0x5f0e99(0x13b)]=_0x4d1b48[_0x5f0e99(0x166)][_0x5f0e99(0x13b)]==='none'?_0x5f0e99(0x170):_0x5f0e99(0x164);}),_0x4d1b48['addEventListener'](_0xc88cb1(0x139),_0x2e1090=>{const _0x55cfa1=_0xc88cb1;if(_0x2e1090[_0x55cfa1(0x10e)]&&_0x2e1090['target'][_0x55cfa1(0x1a8)]==='LI'){const _0x1fe6a4=_0x2e1090[_0x55cfa1(0x10e)][_0x55cfa1(0x117)]('data-value');updateDateRange(_0x1fe6a4),_0x4d1b48[_0x55cfa1(0x166)][_0x55cfa1(0x13b)]=_0x55cfa1(0x164);}}),document[_0xc88cb1(0x15f)](_0xc88cb1(0x139),_0x4b36be=>{const _0x413918=_0xc88cb1;!_0x2438ba[_0x413918(0xfa)](_0x4b36be['target'])&&!_0x4d1b48['contains'](_0x4b36be[_0x413918(0x10e)])&&(_0x4d1b48[_0x413918(0x166)][_0x413918(0x13b)]=_0x413918(0x164));});});const tableWrapper=document[_0xff6429(0x115)](_0xff6429(0x194));let isDragging=![],startX,scrollLeft;tableWrapper[_0xff6429(0x15f)](_0xff6429(0x158),_0x4e96d2=>{const _0x597c59=_0xff6429;isDragging=!![],startX=_0x4e96d2[_0x597c59(0xfd)]-tableWrapper[_0x597c59(0xee)],scrollLeft=tableWrapper[_0x597c59(0x1a1)];}),tableWrapper['addEventListener'](_0xff6429(0x17f),()=>{isDragging=![];}),tableWrapper[_0xff6429(0x15f)](_0xff6429(0x159),()=>{isDragging=![];}),tableWrapper['addEventListener']('mousemove',_0x3a8b03=>{const _0x8fcffc=_0xff6429;if(!isDragging)return;_0x3a8b03[_0x8fcffc(0x103)]();const _0x1cbe8a=_0x3a8b03[_0x8fcffc(0xfd)]-tableWrapper[_0x8fcffc(0xee)],_0x1901c1=(_0x1cbe8a-startX)*0x2;tableWrapper[_0x8fcffc(0x1a1)]=scrollLeft-_0x1901c1;});async function consultIncomeReport(){const _0xb5c465=_0xff6429;showLoadingModal();const _0x57c84c={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0xb5c465(0x18c)],'dateFrom':_0xb5c465(0x133),'dateTo':_0xb5c465(0x147),'clientIds':[0xc,0x22],'operationTypes':[0x2,0x3,0x4]};try{const _0x38f30c=await fetch(company[0x0][_0xb5c465(0x17a)],{'method':_0xb5c465(0x175),'headers':{'Content-Type':_0xb5c465(0x15c)},'body':JSON[_0xb5c465(0x106)](_0x57c84c)}),{success:_0x1d313d,message:_0x262eb7}=await _0x38f30c[_0xb5c465(0x113)]();if(!_0x1d313d||!Array['isArray'](_0x262eb7[_0xb5c465(0x165)])){ntfShow('No\x20se\x20encontró\x20información\x20de\x20ingresos'),console['log'](_0x262eb7);return;}const _0x194c08=_0x262eb7[_0xb5c465(0x165)],_0x1d7490=_0x194c08[_0xb5c465(0x135)]((_0x11c20f,_0x324e0c)=>{const _0x14e7b7=_0xb5c465,_0x321d50=_0x324e0c[_0x14e7b7(0x141)];return!_0x11c20f[_0x321d50]&&(_0x11c20f[_0x321d50]={'subtotal':0x0,'impuestos':0x0,'total':0x0}),_0x324e0c['setReceiptProducts'][_0x14e7b7(0x148)](_0x27628a=>{const _0x4a06ff=_0x14e7b7,_0x1047ed=_0x27628a[_0x4a06ff(0x12a)]*_0x27628a[_0x4a06ff(0x184)],_0x4c7f92=_0x27628a[_0x4a06ff(0x12a)]*(_0x27628a[_0x4a06ff(0xf4)]==='10'||_0x27628a[_0x4a06ff(0xf4)]==='18'?_0x27628a[_0x4a06ff(0x184)]*0.18:0x0),_0x5bcdd6=_0x27628a[_0x4a06ff(0x1a5)]*0x0;_0x11c20f[_0x321d50][_0x4a06ff(0x12c)]+=_0x1047ed,_0x11c20f[_0x321d50][_0x4a06ff(0x154)]+=_0x4c7f92+_0x5bcdd6;}),_0x11c20f;},{});Object['keys'](_0x1d7490)[_0xb5c465(0x148)](_0x30316d=>{const _0x51bcf6=_0xb5c465;_0x1d7490[_0x30316d]['total']=_0x1d7490[_0x30316d][_0x51bcf6(0x12c)]+_0x1d7490[_0x30316d][_0x51bcf6(0x154)];}),arrayIncomes=_0x194c08['map'](_0x1c4cd5=>{const _0x2cd216=_0xb5c465,_0x3f4e74=_0x1c4cd5[_0x2cd216(0xe2)][_0x2cd216(0x135)]((_0x4f178a,_0x331500)=>{const _0x5aa4d6=_0x2cd216;return _0x4f178a+_0x331500[_0x5aa4d6(0x12a)]*_0x331500[_0x5aa4d6(0x184)];},0x0);return{'setTipoComprobante':_0x1c4cd5['setReceiptType'],'serie':_0x1c4cd5[_0x2cd216(0x145)]+'-'+_0x1c4cd5['setReceiptNumber'],'cliente':_0x1c4cd5['setReceiptClientName'],'fecha':_0x1c4cd5['setReceiptDate']||_0x1c4cd5[_0x2cd216(0x177)],'vencimiento':_0x1c4cd5[_0x2cd216(0x16b)]||'','estado':_0x1c4cd5['setReceiptStatus']||'Pendiente','estadoColor':_0x1c4cd5[_0x2cd216(0x132)]||_0x2cd216(0xfe),'moneda':_0x1c4cd5[_0x2cd216(0x141)],'Total':_0x3f4e74};});const _0x16e332=_0x194c08[_0xb5c465(0x13f)](_0x482cf7=>_0x482cf7['setReceiptProducts'][_0xb5c465(0x128)](_0x3c63b6=>({'productName':_0x3c63b6[_0xb5c465(0xf1)],'quantitySold':_0x3c63b6[_0xb5c465(0x12a)]})));currentPage=0x1,renderTable(arrayIncomes,currentPage);const _0x12d618=[...new Set(arrayIncomes[_0xb5c465(0x128)](_0x31606d=>_0x31606d[_0xb5c465(0x189)]))];generateFilterTransformChart({'containerId':'salesChartContainer','rawData':arrayIncomes,'groupField':_0xb5c465(0x189),'groupValues':_0x12d618,'encode':{'x':'fecha','y':_0xb5c465(0x193),'label':[_0xb5c465(0x189),'Total'],'itemName':_0xb5c465(0x177),'tooltip':[_0xb5c465(0x193)]},'title':_0xb5c465(0x17e),'width':_0xb5c465(0x15e),'height':_0xb5c465(0x14b)}),generatePieChart({'containerId':_0xb5c465(0xe5),'data':_0x16e332,'nameField':_0xb5c465(0x173),'valueField':'quantitySold','title':'Productos\x20más\x20vendidos'});}catch(_0x25c6bc){ntfShow(_0xb5c465(0xe6)),console[_0xb5c465(0x198)](_0x25c6bc);}finally{hideLoadingModal();}}function renderTable(_0x417aec,_0x553c4b=0x1){const _0x5b3c4c=_0xff6429,_0x45f77f=document[_0x5b3c4c(0x115)](_0x5b3c4c(0x15a));_0x45f77f[_0x5b3c4c(0x14e)]='';const _0x587e7f=(_0x553c4b-0x1)*PER_PAGE,_0x56a3f6=_0x417aec[_0x5b3c4c(0x1a6)](_0x587e7f,_0x587e7f+PER_PAGE);_0x56a3f6['forEach'](_0x2e7ef2=>{const _0x3a385d=_0x5b3c4c,_0x4d3d8a=document[_0x3a385d(0x10c)]('tr');_0x4d3d8a[_0x3a385d(0x14e)]=_0x3a385d(0x18f)+_0x2e7ef2[_0x3a385d(0x189)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e7ef2[_0x3a385d(0x189)]+_0x3a385d(0x17b)+(_0x2e7ef2[_0x3a385d(0x185)]||'')+'</td>\x0a\x20\x20\x20\x20\x20\x20<td>'+(_0x2e7ef2['cliente']||'')+_0x3a385d(0x1a7)+_0x2e7ef2[_0x3a385d(0x177)]+'</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>'+(_0x2e7ef2[_0x3a385d(0x126)]||'')+_0x3a385d(0x11a)+_0x2e7ef2['estadoColor']+_0x3a385d(0x156)+_0x2e7ef2[_0x3a385d(0x13a)]+_0x3a385d(0x183)+_0x2e7ef2['estado']+_0x3a385d(0xfc)+_0x2e7ef2['moneda']+'\x20'+_0x2e7ef2['Total'][_0x3a385d(0x191)](0x2)+'</td>\x0a\x20\x20\x20\x20\x20\x20<td\x20style=\x22text-align:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20tu\x20dropdown\x20original\x20-->\x0a\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20',_0x45f77f[_0x3a385d(0x17c)](_0x4d3d8a);}),renderPagination(_0x417aec[_0x5b3c4c(0x121)],_0x553c4b);}function renderPagination(_0x5a422f,_0x326f21){const _0x3b8fa3=_0xff6429,_0x4f50a1=document[_0x3b8fa3(0x115)](_0x3b8fa3(0x10d));_0x4f50a1[_0x3b8fa3(0x14e)]='';const _0x4b5e23=Math['ceil'](_0x5a422f/PER_PAGE),_0x4405d7=document[_0x3b8fa3(0x10c)]('a');_0x4405d7[_0x3b8fa3(0xf7)]='#',_0x4405d7[_0x3b8fa3(0x167)]=_0x3b8fa3(0xeb),_0x4405d7['innerHTML']=_0x3b8fa3(0x169),_0x4405d7[_0x3b8fa3(0x19e)]=_0x26673e=>{_0x26673e['preventDefault'](),_0x326f21>0x1&&(currentPage--,renderTable(arrayIncomes,currentPage));},_0x4f50a1[_0x3b8fa3(0x17c)](_0x4405d7);for(let _0x21ecef=0x1;_0x21ecef<=_0x4b5e23;_0x21ecef++){const _0x3709e6=document['createElement']('a');_0x3709e6[_0x3b8fa3(0xf7)]='#',_0x3709e6[_0x3b8fa3(0x167)]='btn\x20btn-sm\x20'+(_0x21ecef===_0x326f21?_0x3b8fa3(0x10f):_0x3b8fa3(0x16f)),_0x3709e6[_0x3b8fa3(0x19a)]=_0x21ecef,_0x3709e6[_0x3b8fa3(0x19e)]=_0x3e61bb=>{const _0x53953e=_0x3b8fa3;_0x3e61bb[_0x53953e(0x103)](),currentPage=_0x21ecef,renderTable(arrayIncomes,currentPage);},_0x4f50a1[_0x3b8fa3(0x17c)](_0x3709e6);}const _0x46efa7=document[_0x3b8fa3(0x10c)]('a');_0x46efa7[_0x3b8fa3(0xf7)]='#',_0x46efa7[_0x3b8fa3(0x167)]=_0x3b8fa3(0xf8),_0x46efa7['innerHTML']=_0x3b8fa3(0x18e),_0x46efa7[_0x3b8fa3(0x19e)]=_0x2d7071=>{_0x2d7071['preventDefault'](),_0x326f21<_0x4b5e23&&(currentPage++,renderTable(arrayIncomes,currentPage));},_0x4f50a1[_0x3b8fa3(0x17c)](_0x46efa7);}document[_0xff6429(0x19f)]('apply-filter')[_0xff6429(0x15f)](_0xff6429(0x139),async()=>{const _0x34316f=_0xff6429,_0x2fd699=document[_0x34316f(0x19f)](_0x34316f(0x11c))['value'],_0x560a5a=document[_0x34316f(0x19f)](_0x34316f(0x116))[_0x34316f(0x111)];if(!_0x2fd699||!_0x560a5a)return alert(_0x34316f(0x1a4));const _0x3381e3=document[_0x34316f(0x19f)](_0x34316f(0x14d)),_0x479df3=bootstrap[_0x34316f(0x13e)][_0x34316f(0xf5)](_0x3381e3);_0x479df3['hide'](),showLoadingModal();try{const _0xd3f4c9={'apiPOS_getIncome':0x1,'setToken':company[0x0][_0x34316f(0x18c)],'dateFrom':_0x2fd699+_0x34316f(0x155),'dateTo':_0x560a5a+_0x34316f(0xec),'clientIds':[],'operationTypes':[]},_0x49276e=await fetch(company[0x0][_0x34316f(0x17a)],{'method':_0x34316f(0x175),'headers':{'Content-Type':_0x34316f(0x16a)},'body':JSON['stringify'](_0xd3f4c9)}),{success:_0xd7200f,message:_0x3f93f2}=await _0x49276e[_0x34316f(0x113)]();if(!_0xd7200f)throw new Error(_0x3f93f2);_0x3f93f2[_0x34316f(0x165)],await consultIncomeReport();}catch(_0x150df0){ntfShow('Error\x20al\x20aplicar\x20filtro'),console[_0x34316f(0x198)](_0x150df0);}finally{hideLoadingModal();}}),window[_0xff6429(0xe1)]=function(){const _0x40185d=_0xff6429,_0x27a3d4=0x3;loadLoginContent(_0x40185d(0x129)),setUserNameGet(),setEventBtnAccess();const _0xa9adb9=document[_0x40185d(0x115)](_0x40185d(0x13c));_0xa9adb9&&_0xa9adb9[_0x40185d(0x15f)](_0x40185d(0x139),function(){logoutReload(0x0,_0x27a3d4);}),document[_0x40185d(0x19f)]('setBranchId')[_0x40185d(0x15f)](_0x40185d(0xe3),async function(){const _0x171031=_0x40185d,_0x871dae=parseInt(this[_0x171031(0x111)]);company[0x0][_0x171031(0x12b)]=_0x871dae;const _0x3ae5e9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3ae5e9),cargarAlmacenes(_0x871dae),setTimeout(()=>{const _0x54347e=_0x171031;document['getElementById'](_0x54347e(0x151))[_0x54347e(0x138)](new Event(_0x54347e(0xe3)));},0x64),cargarPisos(_0x871dae),setTimeout(()=>{const _0x378654=_0x171031;document[_0x378654(0x19f)](_0x378654(0x152))[_0x378654(0x138)](new Event(_0x378654(0xe3)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x27a3d4);};