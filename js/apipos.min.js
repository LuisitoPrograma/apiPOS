/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.4
*/

const _0x10508b=_0xcdf0;(function(_0x42dc4b,_0xc4101b){const _0x80b261=_0xcdf0,_0x17a854=_0x42dc4b();while(!![]){try{const _0x1417d6=parseInt(_0x80b261(0x47a))/0x1+-parseInt(_0x80b261(0x3ac))/0x2+-parseInt(_0x80b261(0x48a))/0x3*(-parseInt(_0x80b261(0x6a8))/0x4)+parseInt(_0x80b261(0x5de))/0x5+-parseInt(_0x80b261(0x36b))/0x6*(parseInt(_0x80b261(0x2da))/0x7)+parseInt(_0x80b261(0x731))/0x8+-parseInt(_0x80b261(0x739))/0x9*(parseInt(_0x80b261(0x517))/0xa);if(_0x1417d6===_0xc4101b)break;else _0x17a854['push'](_0x17a854['shift']());}catch(_0x172f03){_0x17a854['push'](_0x17a854['shift']());}}}(_0xa0d8,0x2b333));const _0x15cd34=(function(){let _0x489c6c=!![];return function(_0x10353c,_0x2c3e3d){const _0x229b99=_0x489c6c?function(){const _0x42aefa=_0xcdf0;if(_0x2c3e3d){const _0x26f6ac=_0x2c3e3d[_0x42aefa(0x345)](_0x10353c,arguments);return _0x2c3e3d=null,_0x26f6ac;}}:function(){};return _0x489c6c=![],_0x229b99;};}()),_0xf81474=_0x15cd34(this,function(){const _0x3c1cbc=_0xcdf0;return _0xf81474[_0x3c1cbc(0x25d)]()[_0x3c1cbc(0x69b)](_0x3c1cbc(0x696))['toString']()[_0x3c1cbc(0x33a)](_0xf81474)['search'](_0x3c1cbc(0x696));});_0xf81474();const _0xb3cdf4=(function(){let _0x40be8f=!![];return function(_0x32c2bd,_0x79413f){const _0x42dd4c=_0x40be8f?function(){const _0x38e3af=_0xcdf0;if(_0x79413f){const _0x51c43a=_0x79413f[_0x38e3af(0x345)](_0x32c2bd,arguments);return _0x79413f=null,_0x51c43a;}}:function(){};return _0x40be8f=![],_0x42dd4c;};}()),_0x14a231=_0xb3cdf4(this,function(){const _0x2e8a0e=_0xcdf0,_0x4d254f=function(){const _0x141755=_0xcdf0;let _0xbf74d7;try{_0xbf74d7=Function(_0x141755(0x52a)+_0x141755(0x758)+');')();}catch(_0xfb6eee){_0xbf74d7=window;}return _0xbf74d7;},_0x2b890d=_0x4d254f(),_0x4914d7=_0x2b890d[_0x2e8a0e(0x545)]=_0x2b890d[_0x2e8a0e(0x545)]||{},_0x2c9dbd=['log',_0x2e8a0e(0x21d),_0x2e8a0e(0x465),_0x2e8a0e(0x769),'exception','table',_0x2e8a0e(0x240)];for(let _0x3d1aff=0x0;_0x3d1aff<_0x2c9dbd[_0x2e8a0e(0x4e9)];_0x3d1aff++){const _0xbc80ce=_0xb3cdf4['constructor'][_0x2e8a0e(0x532)][_0x2e8a0e(0x51f)](_0xb3cdf4),_0x5b7627=_0x2c9dbd[_0x3d1aff],_0x28e05c=_0x4914d7[_0x5b7627]||_0xbc80ce;_0xbc80ce['__proto__']=_0xb3cdf4[_0x2e8a0e(0x51f)](_0xb3cdf4),_0xbc80ce[_0x2e8a0e(0x25d)]=_0x28e05c[_0x2e8a0e(0x25d)]['bind'](_0x28e05c),_0x4914d7[_0x5b7627]=_0xbc80ce;}});_0x14a231();const searchInput=document[_0x10508b(0x32b)]('searchInput');let debounceTimer=null;searchInput[_0x10508b(0x26b)](_0x10508b(0x2a6),()=>{const _0x3bd86d=_0x10508b,_0x149aef=searchInput[_0x3bd86d(0x4be)];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x149aef,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x184fed,_0x2c2d93)=>{const _0x5d3e00=_0xcdf0;createCartStore('')[_0x5d3e00(0x3ea)](_0x4941b7=>{const _0x22abdd=_0x5d3e00,_0xfe7a08=_0x4941b7['transaction'](_0x22abdd(0x31b),_0x22abdd(0x3e8)),_0x53cfdd=_0xfe7a08['objectStore']('products'),_0x429445=_0x53cfdd[_0x22abdd(0x4fe)]();_0x429445[_0x22abdd(0x3c8)]=_0x14fc90=>_0x2c2d93(_0x14fc90[_0x22abdd(0x657)][_0x22abdd(0x769)]),_0x429445[_0x22abdd(0x235)]=()=>{const _0x2f9979=_0x22abdd;products[_0x2f9979(0x1fa)](_0x2f9bae=>_0x53cfdd[_0x2f9979(0x6cc)](_0x2f9bae));},_0xfe7a08[_0x22abdd(0x538)]=()=>_0x184fed(),_0xfe7a08['onerror']=_0x251d1c=>_0x2c2d93(_0x251d1c[_0x22abdd(0x657)][_0x22abdd(0x769)]);})[_0x5d3e00(0x209)](_0x1a64c0=>_0x2c2d93(new Error(_0x5d3e00(0x602)+_0x1a64c0)));});}function getUserPermissionApiERP(_0x53c835){const _0x1743e8=_0x10508b,_0xa1c980=myCompany[_0x1743e8(0x630)],_0x2cdc8b=myCompany[_0x1743e8(0x6d7)],_0x1d58a2=_0xa1c980[_0x1743e8(0x7c8)],_0x539bc3=_0x2cdc8b['find'](_0x361a6e=>_0x361a6e[_0x1743e8(0x7c8)]==_0x1d58a2);if(!_0x539bc3)return console['warn']('Usuario\x20no\x20encontrado'),null;const _0x20988a=_0x539bc3[_0x1743e8(0x58f)][_0x1743e8(0x2b5)](_0x325499=>_0x325499['setPermissionId']==_0x53c835);return _0x20988a?_0x20988a[_0x1743e8(0x397)]:null;}function getLoggedUserSeries(){const _0x287107=_0x10508b,{setUser_Local:_0x49ef73,setUsers:_0x11eaba}=myCompany;if(!_0x49ef73||!_0x11eaba)return console[_0x287107(0x21d)](_0x287107(0x4d3)),null;const _0x25a8ba=_0x49ef73['setUserId'],_0x3ab8b2=_0x11eaba['find'](_0x231e31=>_0x231e31[_0x287107(0x7c8)]==_0x25a8ba);if(!_0x3ab8b2)return console[_0x287107(0x21d)]('Usuario\x20no\x20encontrado'),null;return _0x3ab8b2[_0x287107(0x3d3)];}async function renderProducts(_0x11af3c='',_0x74bd44=0x0){const _0x469f6e=_0x10508b,_0x23b7bd=document[_0x469f6e(0x32b)](_0x469f6e(0x31b));_0x23b7bd['innerHTML']='';if(products['length']==0x0){_0x23b7bd[_0x469f6e(0x511)]=_0x469f6e(0x5db);return;}const _0x3545c6=getUserPermissionApiERP(0x2),_0x30220e=document[_0x469f6e(0x32b)](_0x469f6e(0x256))[_0x469f6e(0x4be)],_0x37e9b4=_0x11af3c[_0x469f6e(0x6e4)]()[_0x469f6e(0x458)]('\x20'),_0x42183a=document[_0x469f6e(0x32b)]('windowId')[_0x469f6e(0x4be)];let _0x2ec463;setTipOpeOrders[_0x469f6e(0x3f2)](_0x19ca07=>_0x19ca07==window_options[_0x42183a][_0x469f6e(0x3b3)])||setTipOpeSales[_0x469f6e(0x3f2)](_0x136c00=>_0x136c00==window_options[_0x42183a][_0x469f6e(0x3b3)])||setTipOpeQuotation[_0x469f6e(0x3f2)](_0x3a353f=>_0x3a353f==window_options[_0x42183a][_0x469f6e(0x3b3)])?_0x2ec463=0x2:_0x2ec463=0x1;const _0x252492=products[_0x469f6e(0x46d)](_0x3b95ec=>{const _0xafb6da=_0x469f6e,_0x579972=[_0x3b95ec[_0xafb6da(0x368)]||'',_0x3b95ec[_0xafb6da(0x704)]||'',formatVariantName(_0x3b95ec[_0xafb6da(0x460)],_0x3b95ec['setItemVariantValues'],0x1)||'',_0x3b95ec[_0xafb6da(0x3c3)]||'',_0x3b95ec[_0xafb6da(0x52e)]||''][_0xafb6da(0x46d)](_0x3697f6=>_0x3697f6[_0xafb6da(0x2b8)]()!=='')[_0xafb6da(0x6e6)]('\x20')[_0xafb6da(0x6e4)](),_0x4e0970=_0x37e9b4[_0xafb6da(0x3ee)](_0x52bad3=>_0x579972[_0xafb6da(0x2dd)](_0x52bad3)),_0x50c759=selectedCategories[_0xafb6da(0x4e9)]==0x0||selectedCategories['includes'](_0x3b95ec[_0xafb6da(0x69d)]),_0x50f952=selectedMarcas[_0xafb6da(0x4e9)]==0x0||selectedMarcas['includes'](_0x3b95ec[_0xafb6da(0x2f1)]),_0x3acb67=_0x3545c6==0x1?_0x3b95ec['sucursales']&&_0x3b95ec[_0xafb6da(0x21c)][_0xafb6da(0x3f2)](_0x4310da=>String(_0x4310da['setIdSucursal'])==_0x30220e):!![];let _0x1abcc9=!![];return _0x2ec463==0x1?_0x1abcc9=_0x3b95ec[_0xafb6da(0x3cf)]==0x1:_0x1abcc9=_0x3b95ec['setItemIsSold']==0x1,_0x4e0970&&_0x50c759&&_0x50f952&&_0x3acb67&&_0x1abcc9;}),_0x1287da=Math[_0x469f6e(0x73e)](_0x252492['length']/ itemsPerPage);_0x1287da==0x0?currentPage=0x0:currentPage=Math[_0x469f6e(0x4a0)](0x1,Math[_0x469f6e(0x4a4)](currentPage,_0x1287da));const _0x2f292a=(currentPage-0x1)*itemsPerPage,_0x26dd19=Math['min'](_0x2f292a+itemsPerPage,_0x252492[_0x469f6e(0x4e9)]),_0x243689=_0x252492[_0x469f6e(0x3a4)](_0x2f292a,_0x26dd19);renderProductItems(_0x243689,_0x74bd44),renderPaginationControls(_0x1287da);}function renderProductItems(_0x3aabd7,_0x6ac690=0x0){const _0x4a4bd9=_0x10508b,_0x26738b=document[_0x4a4bd9(0x32b)]('products'),_0x28aae5=document[_0x4a4bd9(0x32b)]('windowId')[_0x4a4bd9(0x4be)];_0x26738b['innerHTML']='';if(_0x3aabd7['length']==0x0){_0x26738b[_0x4a4bd9(0x511)]=_0x4a4bd9(0x5db);return;}const _0x49d10d=document[_0x4a4bd9(0x32b)]('setWarehouseId')[_0x4a4bd9(0x4be)],_0x17ece0=window_options[_0x28aae5][_0x4a4bd9(0x44e)],_0x2a2f6c=getCurrencySymbol(_0x28aae5),_0x4c13d1=getUserPermissionApiERP(0xb),_0x36cf03=getUserPermissionApiERP(0x10);let _0x337725;setTipOpeOrders[_0x4a4bd9(0x3f2)](_0x11d9aa=>_0x11d9aa==window_options[_0x28aae5][_0x4a4bd9(0x3b3)])||setTipOpeSales[_0x4a4bd9(0x3f2)](_0x288d00=>_0x288d00==window_options[_0x28aae5]['setTipoOperacion'])||setTipOpeQuotation[_0x4a4bd9(0x3f2)](_0x3ac8e2=>_0x3ac8e2==window_options[_0x28aae5][_0x4a4bd9(0x3b3)])?_0x337725=0x2:_0x337725=0x1;const _0x451e26=parseInt(getUserPermissionApiERP(0x15));_0x3aabd7[_0x4a4bd9(0x1fa)](_0x28f6f2=>{const _0x5e67cb=_0x4a4bd9,_0x4e8084=document[_0x5e67cb(0x2bb)](_0x5e67cb(0x6d4));_0x4e8084[_0x5e67cb(0x63f)][_0x5e67cb(0x5d9)](_0x5e67cb(0x505),_0x5e67cb(0x50d),'mt-3'),_0x4e8084[_0x5e67cb(0x656)][_0x5e67cb(0x5ea)]=_0x5e67cb(0x789);const _0x178859=document['createElement'](_0x5e67cb(0x6d4));_0x178859[_0x5e67cb(0x63f)][_0x5e67cb(0x5d9)](_0x5e67cb(0x393));const _0x437721=(_0x28f6f2[_0x5e67cb(0x21c)]||[])[_0x5e67cb(0x2b5)](_0x25b012=>_0x25b012['setIdSucursal']==_0x49d10d);if(_0x437721){const _0x25b6a0=parseFloat(_0x437721[_0x5e67cb(0x51a)]),_0x3d4742=parseFloat(_0x437721[_0x5e67cb(0x6aa)]);_0x28f6f2[_0x5e67cb(0x51b)]==0x1&&_0x25b6a0<=_0x3d4742&&(_0x178859['style'][_0x5e67cb(0x791)]=_0x5e67cb(0x437),_0x178859[_0x5e67cb(0x439)](_0x5e67cb(0x701),_0x5e67cb(0x32f)+_0x3d4742[_0x5e67cb(0x718)](0x3)+'\x20'+_0x28f6f2[_0x5e67cb(0x4ab)]));}_0x178859['setAttribute'](_0x5e67cb(0x223),'0'),_0x178859[_0x5e67cb(0x614)]=()=>addToCart(_0x28f6f2),_0x178859[_0x5e67cb(0x26b)](_0x5e67cb(0x24e),_0x3fe826=>{const _0x14bf93=_0x5e67cb;_0x3fe826[_0x14bf93(0x4b9)]==_0x14bf93(0x2dc)&&addToCart(_0x28f6f2);});const _0x447647=document[_0x5e67cb(0x2bb)](_0x5e67cb(0x6d4));_0x447647[_0x5e67cb(0x63f)][_0x5e67cb(0x5d9)](_0x5e67cb(0x54d)),_0x447647['onclick']=_0x9466dc=>{const _0x5574c7=_0x5e67cb;_0x9466dc[_0x5574c7(0x417)](),openModalDetailsAndNtf(_0x28f6f2['id'],0x1);},_0x4e8084['appendChild'](_0x447647);const _0x1918f0=document[_0x5e67cb(0x2bb)](_0x5e67cb(0x6d4));_0x1918f0[_0x5e67cb(0x63f)]['add'](_0x5e67cb(0x39d));const _0x4f5022=document[_0x5e67cb(0x2bb)]('div');_0x4f5022['classList'][_0x5e67cb(0x5d9)](_0x5e67cb(0x648));const _0x55ebb3=document[_0x5e67cb(0x2bb)](_0x5e67cb(0x6d4));_0x55ebb3[_0x5e67cb(0x63f)][_0x5e67cb(0x5d9)](_0x5e67cb(0x648),'justify-content-between');let _0x7e326c=isOnline?_0x28f6f2['setImg']:_0x5e67cb(0x6ea);_0x178859[_0x5e67cb(0x656)]['backgroundImage']=_0x5e67cb(0x650)+_0x7e326c+'\x27)',_0x178859['onerror']=function(){const _0x4196ef=_0x5e67cb;_0x178859[_0x4196ef(0x656)][_0x4196ef(0x537)]=_0x4196ef(0x52c);};const _0x3b250d=document[_0x5e67cb(0x2bb)]('h7');let _0x5f5987='';_0x28f6f2['setItemDescription']!=''&&(_0x5f5987+='<br>'+_0x28f6f2[_0x5e67cb(0x3c3)]);if(_0x28f6f2[_0x5e67cb(0x39e)]!=''){const _0x4ef520=_0x28f6f2[_0x5e67cb(0x39e)],_0x5257ca=_0x4ef520[_0x5e67cb(0x458)]('-'),_0x592ee3=_0x5257ca[0x2]+'/'+_0x5257ca[0x1]+'/'+_0x5257ca[0x0];_0x5f5987+=_0x5e67cb(0x4f4)+_0x592ee3;}_0x28f6f2[_0x5e67cb(0x52e)]!=''&&(_0x5f5987+='<br>'+_0x28f6f2['setBatchName']);let _0x9ddd50=_0x28f6f2[_0x5e67cb(0x368)];_0x28f6f2['setItemBarCode']&&_0x28f6f2[_0x5e67cb(0x704)]!=''&&(_0x9ddd50=_0x9ddd50+_0x5e67cb(0x7ab)+_0x28f6f2[_0x5e67cb(0x704)]+_0x5e67cb(0x2d2));_0x3b250d[_0x5e67cb(0x258)]=_0x9ddd50+'<br>'+formatVariantName(_0x28f6f2[_0x5e67cb(0x460)],_0x28f6f2[_0x5e67cb(0x445)],0x2)+'\x20'+_0x5f5987;const _0x34a8f2=_0x28f6f2[_0x5e67cb(0x3e3)][_0x5e67cb(0x2b5)](_0x554e74=>_0x554e74[_0x5e67cb(0x68d)]==_0x17ece0)||{};let _0x11cc0,_0x16e7c0,_0x4cce5e;_0x337725==0x1?(_0x11cc0=_0x36cf03==0x1?'X':(parseFloat(_0x34a8f2[_0x5e67cb(0x71e)])||0x0)[_0x5e67cb(0x718)](0x2),_0x16e7c0=(parseFloat(_0x34a8f2['setMtoPrecioUnitario'])||0x0)['toFixed'](0x2),_0x4cce5e=_0x5e67cb(0x503)):(_0x11cc0=(parseFloat(_0x34a8f2['setMtoPrecioUnitario'])||0x0)['toFixed'](0x2),_0x16e7c0=_0x36cf03==0x1?'X':(parseFloat(_0x34a8f2[_0x5e67cb(0x71e)])||0x0)[_0x5e67cb(0x718)](0x2),_0x4cce5e=_0x5e67cb(0x3d0));const _0x59b5ef=document[_0x5e67cb(0x2bb)]('p');_0x59b5ef[_0x5e67cb(0x258)]=_0x2a2f6c+'\x20'+_0x11cc0+'\x20('+(_0x28f6f2['setItemUnitAlias']&&_0x28f6f2[_0x5e67cb(0x37e)]!=''?_0x28f6f2['setItemUnitAlias']:_0x28f6f2[_0x5e67cb(0x4ab)])+')';const _0x561cf3=document[_0x5e67cb(0x2bb)]('h6');_0x561cf3[_0x5e67cb(0x258)]=_0x4cce5e+_0x5e67cb(0x70c)+_0x16e7c0,_0x55ebb3[_0x5e67cb(0x2a1)](_0x561cf3);if(_0x4c13d1==0x1){const _0x5c2dc9=_0x28f6f2[_0x5e67cb(0x21c)][_0x5e67cb(0x2b5)](_0x318740=>String(_0x318740[_0x5e67cb(0x63d)])==_0x49d10d),_0x2e829d=_0x5c2dc9?parseFloat(_0x5c2dc9[_0x5e67cb(0x51a)]):0x0,_0xca4f9d=document[_0x5e67cb(0x2bb)]('h6');_0xca4f9d['innerHTML']=_0x5e67cb(0x572)+_0x2e829d[_0x5e67cb(0x718)](0x2),_0x55ebb3['appendChild'](_0xca4f9d);}const _0x52ab8c=document[_0x5e67cb(0x2bb)]('h6');_0x52ab8c[_0x5e67cb(0x258)]=_0x5e67cb(0x783)+_0x28f6f2[_0x5e67cb(0x2f1)],_0x55ebb3[_0x5e67cb(0x2a1)](_0x52ab8c),_0x4f5022[_0x5e67cb(0x2a1)](_0x3b250d),_0x3b250d[_0x5e67cb(0x736)](_0x59b5ef),_0x1918f0[_0x5e67cb(0x2a1)](_0x4f5022),_0x1918f0[_0x5e67cb(0x2a1)](_0x55ebb3),_0x178859[_0x5e67cb(0x2a1)](_0x1918f0),_0x4e8084[_0x5e67cb(0x2a1)](_0x178859),_0x26738b[_0x5e67cb(0x2a1)](_0x4e8084);const _0x59cd1e=searchInput[_0x5e67cb(0x4be)]['toLowerCase']()[_0x5e67cb(0x2b8)]();_0x451e26==0x1&&_0x3aabd7['length']==0x1&&_0x6ac690!=0x0&&_0x59cd1e==_0x28f6f2[_0x5e67cb(0x704)][_0x5e67cb(0x6e4)]()[_0x5e67cb(0x2b8)]()&&(addToCart(_0x28f6f2),searchInput[_0x5e67cb(0x4be)]='');});}function renderPaginationControls(_0x39b440){const _0x58f386=_0x10508b,_0x3d0b05=document[_0x58f386(0x453)](_0x58f386(0x37a)),_0x2352c9=document[_0x58f386(0x2bb)](_0x58f386(0x6d4));_0x2352c9[_0x58f386(0x3fc)]=_0x58f386(0x477);const _0xb81d3e=document[_0x58f386(0x2bb)]('button');_0xb81d3e[_0x58f386(0x511)]=_0x58f386(0x6ae),_0xb81d3e[_0x58f386(0x5c5)]=currentPage<=0x1,_0xb81d3e[_0x58f386(0x614)]=()=>{const _0x135d99=_0x58f386;currentPage=Math[_0x135d99(0x4a0)](0x1,currentPage-0x1),renderProducts();},_0x2352c9[_0x58f386(0x2a1)](_0xb81d3e);const _0x2b8bc0=document[_0x58f386(0x2bb)](_0x58f386(0x4a5));_0x39b440==0x0?_0x2b8bc0[_0x58f386(0x511)]=_0x58f386(0x787):_0x2b8bc0[_0x58f386(0x511)]=currentPage+_0x58f386(0x231)+_0x39b440;_0x2352c9[_0x58f386(0x2a1)](_0x2b8bc0);const _0x368b30=document[_0x58f386(0x2bb)]('button');_0x368b30[_0x58f386(0x511)]='Sig>',_0x368b30[_0x58f386(0x5c5)]=currentPage>=_0x39b440,_0x368b30[_0x58f386(0x614)]=()=>{const _0x281496=_0x58f386;currentPage=Math[_0x281496(0x4a4)](_0x39b440,currentPage+0x1),renderProducts();},_0x2352c9[_0x58f386(0x2a1)](_0x368b30);const _0x2ecea3=document['querySelector']('.pagination');_0x2ecea3&&_0x2ecea3[_0x58f386(0x625)](),insertAfter(_0x2352c9,_0x3d0b05);}function initializeCategorys(){const _0x444d42=_0x10508b,_0x58725f=document[_0x444d42(0x32b)](_0x444d42(0x79e)),_0x34e1e7=_0x58725f[_0x444d42(0x453)]('ul');_0x34e1e7['innerHTML']='';const _0x848d2b=document[_0x444d42(0x32b)](_0x444d42(0x256))[_0x444d42(0x4be)],_0x164eb6=getUserPermissionApiERP(0x2),_0x2234a6=products[_0x444d42(0x46d)](_0x59a69d=>_0x164eb6==0x1?_0x59a69d[_0x444d42(0x21c)]&&_0x59a69d['sucursales'][_0x444d42(0x3f2)](_0x4861c0=>String(_0x4861c0['setIdSucursal'])==_0x848d2b):!![]);products_category=[...new Set(_0x2234a6[_0x444d42(0x6cd)](_0x336b5c=>_0x336b5c[_0x444d42(0x69d)])['filter'](_0x519bfa=>_0x519bfa))],products_category['forEach'](_0x35c0dd=>{const _0x346a7c=_0x444d42,_0xb271de=document[_0x346a7c(0x2bb)]('li');_0xb271de[_0x346a7c(0x258)]='\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22'+_0x35c0dd+_0x346a7c(0x23f)+_0x35c0dd+'\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>'+_0x35c0dd+_0x346a7c(0x448),_0x34e1e7[_0x346a7c(0x2a1)](_0xb271de);}),products_marca=[...new Set(_0x2234a6[_0x444d42(0x6cd)](_0x30c372=>_0x30c372[_0x444d42(0x2f1)])[_0x444d42(0x46d)](_0x4801a4=>_0x4801a4))],products_marca['forEach'](_0x122fa1=>{const _0x46f790=_0x444d42,_0x49d118=document[_0x46f790(0x2bb)]('li');_0x49d118[_0x46f790(0x258)]='\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22'+_0x122fa1+_0x46f790(0x23f)+_0x122fa1+'\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>'+_0x122fa1+_0x46f790(0x448),_0x34e1e7['appendChild'](_0x49d118);}),_0x58725f[_0x444d42(0x26b)](_0x444d42(0x3a7),_0x2d8cae=>{const _0x40f9c9=_0x444d42,_0x5c115e=_0x2d8cae[_0x40f9c9(0x657)][_0x40f9c9(0x6c3)](_0x40f9c9(0x1ff));if(_0x5c115e){const _0x57ebd8=_0x5c115e[_0x40f9c9(0x453)](_0x40f9c9(0x59a));_0x57ebd8[_0x40f9c9(0x342)]=!_0x57ebd8[_0x40f9c9(0x342)];const _0x6eab8f=_0x57ebd8[_0x40f9c9(0x4be)],_0x493c97=_0x5c115e[_0x40f9c9(0x453)](_0x40f9c9(0x4a5));_0x57ebd8[_0x40f9c9(0x342)]?(_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x564)]=_0x40f9c9(0x485),_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x6fa)]=_0x40f9c9(0x678),_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x441)]=_0x40f9c9(0x2b6),_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x205)]=_0x40f9c9(0x2b6),selectedCategories[_0x40f9c9(0x7a6)](_0x6eab8f)):(_0x493c97['style'][_0x40f9c9(0x564)]='',_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x6fa)]='',_0x493c97['style'][_0x40f9c9(0x441)]='',_0x493c97[_0x40f9c9(0x656)][_0x40f9c9(0x205)]='',selectedCategories=selectedCategories[_0x40f9c9(0x46d)](_0x1053c6=>_0x1053c6!==_0x6eab8f)),renderProducts(searchInput[_0x40f9c9(0x4be)]),showSection(_0x40f9c9(0x25a)),showLeftSection();}const _0x2c77ff=_0x2d8cae[_0x40f9c9(0x657)][_0x40f9c9(0x6c3)](_0x40f9c9(0x364));if(_0x2c77ff){const _0x2fc667=_0x2c77ff['querySelector'](_0x40f9c9(0x59a));_0x2fc667['checked']=!_0x2fc667[_0x40f9c9(0x342)];const _0xe13191=_0x2fc667[_0x40f9c9(0x4be)],_0x5b40a2=_0x2c77ff[_0x40f9c9(0x453)](_0x40f9c9(0x4a5));_0x2fc667['checked']?(_0x5b40a2[_0x40f9c9(0x656)][_0x40f9c9(0x564)]=_0x40f9c9(0x485),_0x5b40a2[_0x40f9c9(0x656)][_0x40f9c9(0x6fa)]='#FF5900',_0x5b40a2['style']['padding']=_0x40f9c9(0x2b6),_0x5b40a2['style']['borderRadius']=_0x40f9c9(0x2b6),selectedMarcas[_0x40f9c9(0x7a6)](_0xe13191)):(_0x5b40a2['style'][_0x40f9c9(0x564)]='',_0x5b40a2[_0x40f9c9(0x656)]['background']='',_0x5b40a2[_0x40f9c9(0x656)][_0x40f9c9(0x441)]='',_0x5b40a2['style'][_0x40f9c9(0x205)]='',selectedMarcas=selectedMarcas[_0x40f9c9(0x46d)](_0x227310=>_0x227310!==_0xe13191)),renderProducts(searchInput[_0x40f9c9(0x4be)]),showSection('div_section_products'),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window['innerWidth'];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0x48c06d,{pdfGlobalPayload:_0x5eac1f,pdfGlobalBlob:_0x7ed11c,pdfGlobalName:_0x5f4e9c}){const _0x287df6=_0x10508b;lastOperationGlobal[_0x287df6(0x702)](_0x48c06d,{'pdfGlobalPayload':_0x5eac1f,'pdfGlobalBlob':_0x7ed11c,'pdfGlobalName':_0x5f4e9c});}function getLastOperationGlobalData(_0x843a82){return lastOperationGlobal['get'](_0x843a82)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document[_0x10508b(0x32b)](_0x10508b(0x479));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document[_0x10508b(0x2bb)](_0x10508b(0x656));document[_0x10508b(0x688)][_0x10508b(0x2a1)](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document['getElementById'](_0x10508b(0x4b5)),countryList=document[_0x10508b(0x32b)](_0x10508b(0x4a8)),sendEmailButton=document[_0x10508b(0x32b)](_0x10508b(0x719)),sendWhatsAppButton=document['getElementById'](_0x10508b(0x2a4));function createElement(_0xa63156,_0x1555f2={},_0xdc7e7f=[]){const _0x3a6a07=_0x10508b,_0x43f243=document[_0x3a6a07(0x2bb)](_0xa63156);return Object[_0x3a6a07(0x211)](_0x1555f2)[_0x3a6a07(0x1fa)](_0x34bfc0=>{const _0x3d408c=_0x3a6a07;if(_0x34bfc0==_0x3d408c(0x56e))_0x43f243['className']=_0x1555f2[_0x34bfc0];else{if(_0x34bfc0==_0x3d408c(0x5bc))Object[_0x3d408c(0x211)](_0x1555f2[_0x34bfc0])[_0x3d408c(0x1fa)](_0x4886f0=>{_0x43f243['addEventListener'](_0x4886f0,_0x1555f2[_0x34bfc0][_0x4886f0]);});else _0x34bfc0==_0x3d408c(0x258)?_0x43f243[_0x3d408c(0x258)]=_0x1555f2[_0x34bfc0]:_0x43f243[_0x3d408c(0x439)](_0x34bfc0,_0x1555f2[_0x34bfc0]);}}),_0xdc7e7f[_0x3a6a07(0x1fa)](_0x56fa13=>{const _0x5b2592=_0x3a6a07;typeof _0x56fa13==_0x5b2592(0x597)?_0x43f243[_0x5b2592(0x2a1)](document[_0x5b2592(0x4fa)](_0x56fa13)):_0x43f243[_0x5b2592(0x2a1)](_0x56fa13);}),_0x43f243;}function styleHackHeader(_0x314740,_0x55b6f1){const _0x43553e=_0x10508b;styleSheet[_0x43553e(0x2bf)]=_0x43553e(0x238)+_0x314740+_0x43553e(0x5ee)+_0x55b6f1+_0x43553e(0x2f4);}function setElementWidthImportant(_0x18d4d8,_0xa76a25){const _0x38e08b=_0x10508b,_0x13b3ab=document[_0x38e08b(0x32b)](_0x18d4d8);_0x13b3ab?_0x13b3ab['style'][_0x38e08b(0x543)](_0x38e08b(0x389),_0xa76a25,_0x38e08b(0x6c4)):console['error']('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x18d4d8);}function resetElementWidth(_0x1e7d43){const _0x50adb5=_0x10508b,_0x1bbb12=document['getElementById'](_0x1e7d43);_0x1bbb12?_0x1bbb12[_0x50adb5(0x656)][_0x50adb5(0x58c)](_0x50adb5(0x389)):console[_0x50adb5(0x769)](_0x50adb5(0x290)+_0x1e7d43);}function isMobile(){const _0x1afd10=_0x10508b;return window[_0x1afd10(0x6e2)]<=0x300;}function showLeftSection(){const _0x1c1ffe=_0x10508b;if(isMobile()){const _0x4fa15c=document[_0x1c1ffe(0x32b)](_0x1c1ffe(0x51c)),_0x1b6ee6=document['getElementById']('div_section_right');_0x4fa15c[_0x1c1ffe(0x656)][_0x1c1ffe(0x543)]('display',_0x1c1ffe(0x33c),_0x1c1ffe(0x6c4)),_0x1b6ee6[_0x1c1ffe(0x656)][_0x1c1ffe(0x543)](_0x1c1ffe(0x662),_0x1c1ffe(0x585),_0x1c1ffe(0x6c4)),styleHackHeader(_0x1c1ffe(0x43e),_0x1c1ffe(0x43e));}}function showRightSection(){const _0x35c464=_0x10508b;if(isMobile()){const _0x26741e=document[_0x35c464(0x32b)](_0x35c464(0x51c)),_0x34ed06=document[_0x35c464(0x32b)](_0x35c464(0x370));_0x34ed06[_0x35c464(0x656)][_0x35c464(0x543)](_0x35c464(0x662),_0x35c464(0x33c),_0x35c464(0x6c4)),_0x26741e[_0x35c464(0x656)]['setProperty']('display',_0x35c464(0x585),_0x35c464(0x6c4)),styleHackHeader('0','0');}}function adjustHeight(){const _0x393918=_0x10508b,_0x70bfaf=document['getElementById']('div_sections');_0x70bfaf[_0x393918(0x656)][_0x393918(0x41f)]=window[_0x393918(0x6da)]+'px';}function insertAfter(_0x5d6f85,_0x1887ae){const _0x24a3a1=_0x10508b;_0x1887ae[_0x24a3a1(0x23c)][_0x24a3a1(0x3c5)](_0x5d6f85,_0x1887ae[_0x24a3a1(0x3a8)]);}function insertBefore(_0x32ef55,_0x16a5a2){const _0x5627ce=_0x10508b;_0x16a5a2[_0x5627ce(0x23c)][_0x5627ce(0x3c5)](_0x32ef55,_0x16a5a2);}function updateInternetIcon(){const _0x2ec611=_0x10508b,_0x37ca82=document['getElementById']('tabs-icon-online'),_0x37ee47=document[_0x2ec611(0x32b)]('tabs-icon-offline');isOnline()?(_0x37ca82[_0x2ec611(0x3fc)]=_0x2ec611(0x5dd),_0x37ee47['className']=_0x2ec611(0x3b5),apiERPsync()):(_0x37ca82[_0x2ec611(0x3fc)]=_0x2ec611(0x3b5),_0x37ee47[_0x2ec611(0x3fc)]=_0x2ec611(0x5dd));}async function apiERPgetWindows(){const _0x42c389=_0x10508b,_0x5d0674=myCompany['setWindows'];let _0x52bfd6=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x42c389(0x3fa)),console[_0x42c389(0x769)](_0x42c389(0x3fa));return;}const _0x5d5f19=await fetch(_0x42c389(0x3de),{'method':_0x42c389(0x4c6),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify']({'setAuthToken':myCompany[_0x42c389(0x261)],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0x34cc9c=await _0x5d5f19[_0x42c389(0x236)]();if(_0x34cc9c[_0x42c389(0x65b)]){const _0x229562=_0x34cc9c[_0x42c389(0x301)][_0x42c389(0x6e1)];_0x52bfd6=_0x229562[_0x42c389(0x46d)](_0x3b9e4e=>!_0x5d0674[_0x42c389(0x3f2)](_0x2f25a8=>_0x2f25a8[_0x42c389(0x708)]==_0x3b9e4e['setWindowId'])),myCompany['setWindows']=_0x229562;}else{hideLoadingModal(),ntfShow(_0x34cc9c[_0x42c389(0x301)]),console['error']('Error\x20Update:',_0x34cc9c[_0x42c389(0x301)]);return;}const _0x158e56=await createCartStore('');await saveCompanyToIndexedDB(company,_0x158e56);for(const _0x440e0b of _0x52bfd6){await new Promise(_0x4c530b=>setTimeout(_0x4c530b,0x12c)),await createCartStore(_0x440e0b['setWindowId']);}}async function apiERPsyncWindows(){const _0x437642=_0x10508b;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x437642(0x261)],myCompany[_0x437642(0x6e1)]);const _0x27ec53=document['getElementById']('setBranchId')['value'],_0x25e956=myCompany['setPrintServers'],_0x30bcf8=_0x25e956['find'](_0x3369f7=>_0x3369f7[_0x437642(0x620)]==_0x27ec53&&_0x3369f7[_0x437642(0x3d6)]==0x2),_0x2eb19d=getUserPermissionApiERP(0xd),_0x36ad21=_0x30bcf8?0x1:0x0;if(_0x36ad21==0x1&&_0x2eb19d==0x1){const _0x858a55='hiddenFrame_'+generateUUID(),_0x33f2a3=document['createElement'](_0x437642(0x32e));_0x33f2a3[_0x437642(0x533)]=_0x858a55,_0x33f2a3[_0x437642(0x656)]['display']=_0x437642(0x585),document[_0x437642(0x29c)][_0x437642(0x2a1)](_0x33f2a3);const _0x2702e3=document['createElement'](_0x437642(0x292));_0x2702e3[_0x437642(0x3ff)]=_0x437642(0x4c6),_0x2702e3['action']=_0x30bcf8[_0x437642(0x296)],_0x2702e3['enctype']=_0x437642(0x773),_0x2702e3[_0x437642(0x657)]=_0x33f2a3[_0x437642(0x533)];const _0x5a3306={'setWindows':JSON[_0x437642(0x239)](myCompany[_0x437642(0x6e1)])};for(const _0x2f1611 in _0x5a3306){const _0x397512=document[_0x437642(0x2bb)]('input');_0x397512[_0x437642(0x226)]=_0x437642(0x46c),_0x397512[_0x437642(0x533)]=_0x2f1611,_0x397512['value']=_0x5a3306[_0x2f1611],_0x2702e3['appendChild'](_0x397512);}document[_0x437642(0x29c)][_0x437642(0x2a1)](_0x2702e3),_0x2702e3[_0x437642(0x67d)](),document['body'][_0x437642(0x316)](_0x2702e3),setTimeout(()=>{const _0x37cb0b=_0x437642;document[_0x37cb0b(0x29c)][_0x37cb0b(0x316)](_0x33f2a3);},0x1388);}}}async function apiERPupdateOnline(_0x35fc8e,_0x28ec8b){const _0x4a979d=_0x10508b;if(!isOnline())return console[_0x4a979d(0x4bd)](_0x4a979d(0x734)),Promise[_0x4a979d(0x2e4)](_0x4a979d(0x734));const _0x1be698={'setAuthToken':_0x35fc8e,'setWindows':_0x28ec8b};return fetch(_0x4a979d(0x468),{'method':_0x4a979d(0x4c6),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4a979d(0x239)](_0x1be698)})[_0x4a979d(0x3ea)](_0xd35634=>{const _0x380845=_0x4a979d;if(!_0xd35634['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0xd35634[_0x380845(0x674)]);return _0xd35634[_0x380845(0x236)]();})[_0x4a979d(0x3ea)](_0x1f0082=>{const _0x9f5bcd=_0x4a979d;if(!_0x1f0082[_0x9f5bcd(0x65b)])throw new Error(_0x1f0082['message']||_0x9f5bcd(0x634));return console['log'](_0x9f5bcd(0x6f4)),_0x1f0082;})[_0x4a979d(0x209)](_0xd197e=>{const _0x15101a=_0x4a979d;console[_0x15101a(0x769)]('Error\x20al\x20actualizar\x20data\x20online:',_0xd197e);throw _0xd197e;});}async function apiERPsyncWindowsCartTmp(){const _0x86f236=_0x10508b;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany['setAuthToken'],myCompany[_0x86f236(0x6e1)]));}async function apiERPupdateOnlineCartTmp(_0x1bd18c,_0x1affd8){const _0x479465=_0x10508b;if(!isOnline())return console[_0x479465(0x4bd)](_0x479465(0x734)),Promise[_0x479465(0x2e4)](_0x479465(0x734));const _0x1b7d9c={'setAuthToken':_0x1bd18c,'setWindows':_0x1affd8};return fetch(_0x479465(0x599),{'method':_0x479465(0x4c6),'headers':{'Content-Type':'application/json'},'body':JSON[_0x479465(0x239)](_0x1b7d9c)})[_0x479465(0x3ea)](_0x4b3c89=>{const _0x4a8413=_0x479465;if(!_0x4b3c89['ok'])throw new Error(_0x4a8413(0x7a9)+_0x4b3c89[_0x4a8413(0x674)]);return _0x4b3c89['json']();})[_0x479465(0x3ea)](_0x5c4080=>{const _0x4cdee8=_0x479465;if(!_0x5c4080['success'])throw new Error(_0x5c4080[_0x4cdee8(0x301)]||_0x4cdee8(0x634));return console[_0x4cdee8(0x4bd)](_0x4cdee8(0x6f4)),_0x5c4080;})[_0x479465(0x209)](_0x54cb8f=>{const _0x1e4133=_0x479465;console[_0x1e4133(0x769)](_0x1e4133(0x4e2),_0x54cb8f);throw _0x54cb8f;});}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x389095=_0x10508b,_0x4dfae4=new Date(),_0x52d978=_0x4dfae4[_0x389095(0x515)](),_0x5468ad=String(_0x4dfae4[_0x389095(0x7a4)]()+0x1)[_0x389095(0x715)](0x2,'0'),_0x545f31=String(_0x4dfae4[_0x389095(0x438)]())[_0x389095(0x715)](0x2,'0'),_0x2a4712=String(_0x4dfae4[_0x389095(0x1e4)]())[_0x389095(0x715)](0x2,'0'),_0x27d967=String(_0x4dfae4[_0x389095(0x262)]())['padStart'](0x2,'0'),_0x29d00d=_0x52d978+'-'+_0x5468ad+'-'+_0x545f31+'T'+_0x2a4712+':'+_0x27d967;return _0x29d00d;}async function createFormElements(_0x3f417c){const _0x26b0d0=_0x10508b,_0x3a1bf4=_0x3f417c[_0x26b0d0(0x458)]('-')[0x1],_0x3d40d3=document['getElementById']('general-options'),_0x48e154=document[_0x26b0d0(0x32b)](_0x26b0d0(0x788)),_0x4f964e=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x4f964e['id']=_0x26b0d0(0x3e7)+_0x3a1bf4,_0x4f964e[_0x26b0d0(0x3fc)]=_0x26b0d0(0x508)+_0x3a1bf4,_0x3d40d3['appendChild'](_0x4f964e);const _0x10f1e6=document['getElementById'](_0x26b0d0(0x3e7)+_0x3a1bf4),_0x166af8=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x166af8['id']=_0x26b0d0(0x74b)+_0x3a1bf4,_0x166af8['className']=_0x26b0d0(0x592),_0x10f1e6[_0x26b0d0(0x2a1)](_0x166af8);const _0x4411b6=document[_0x26b0d0(0x32b)]('general-options-'+_0x3a1bf4),_0x70a033=createElement(_0x26b0d0(0x6d4),{'class':'div-width-35\x20col-bt-left-padding'}),_0x251c8e=myCompany[_0x26b0d0(0x297)][_0x26b0d0(0x6cd)](_0x117732=>{const _0x5a3c7b=_0x26b0d0;return createElement(_0x5a3c7b(0x512),{'value':_0x117732[_0x5a3c7b(0x2d0)]},[_0x117732[_0x5a3c7b(0x5a0)]]);}),_0x3043df=createElement('select',{'id':_0x26b0d0(0x336)+_0x3a1bf4,'class':_0x26b0d0(0x291),'events':{'change':_0x3a0e95=>{const _0x49f26d=_0x26b0d0;updateSerieAndRenderCart(_0x3a0e95['target'][_0x49f26d(0x4be)],_0x3a1bf4);}}},_0x251c8e);_0x70a033[_0x26b0d0(0x2a1)](_0x3043df),_0x4411b6[_0x26b0d0(0x2a1)](_0x70a033);const _0x48a22d=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x591)}),_0x3b5a8f=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x406)+_0x3a1bf4,'class':_0x26b0d0(0x53d)});_0x48a22d[_0x26b0d0(0x2a1)](_0x3b5a8f),_0x4411b6[_0x26b0d0(0x2a1)](_0x48a22d);const _0x3e4ec3=document['createElement'](_0x26b0d0(0x6d4));_0x3e4ec3[_0x26b0d0(0x3fc)]='div-width-25\x20col-bt-padding';const _0x45015f=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x2a6));_0x45015f['id']='setCorrelativo-'+_0x3a1bf4,_0x45015f[_0x26b0d0(0x226)]='number',_0x45015f[_0x26b0d0(0x3fc)]=_0x26b0d0(0x795),_0x45015f[_0x26b0d0(0x4ba)]=_0x26b0d0(0x77a),_0x45015f[_0x26b0d0(0x2de)]=_0x160f4f=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x352),_0x160f4f['target'][_0x26b0d0(0x4be)]),_0x3e4ec3[_0x26b0d0(0x2a1)](_0x45015f),_0x4411b6[_0x26b0d0(0x2a1)](_0x3e4ec3);const _0x5aa013=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x5aa013[_0x26b0d0(0x3fc)]=_0x26b0d0(0x494);const _0x5006ee=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x7ad));_0x5006ee['id']=_0x26b0d0(0x41b)+_0x3a1bf4,_0x5006ee[_0x26b0d0(0x226)]=_0x26b0d0(0x7ad),_0x5006ee[_0x26b0d0(0x258)]=_0x26b0d0(0x40f),_0x5006ee['className']=_0x26b0d0(0x785),_0x5006ee[_0x26b0d0(0x614)]=()=>{const _0x28575e=_0x26b0d0;showSection(_0x28575e(0x36a));},_0x5aa013[_0x26b0d0(0x2a1)](_0x5006ee),_0x4411b6[_0x26b0d0(0x2a1)](_0x5aa013);const _0x293342=myCompany[_0x26b0d0(0x21a)]['map'](_0x280a53=>{const _0x30d280=_0x26b0d0;return createElement(_0x30d280(0x512),{'value':_0x280a53[_0x30d280(0x786)]},[_0x280a53[_0x30d280(0x786)]]);}),_0x22a64f=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x35e)+_0x3a1bf4,'class':_0x26b0d0(0x433),'events':{'change':_0x468d3c=>updateChangeMoneda(_0x3a1bf4,'setMoneda',_0x468d3c[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}},_0x293342),_0xe85f1e=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x727)},[_0x22a64f]);_0x4411b6[_0x26b0d0(0x2a1)](_0xe85f1e);const _0x27dd7e=myCompany[_0x26b0d0(0x67c)]['map'](_0x5ca307=>{const _0x790dc4=_0x26b0d0;return createElement(_0x790dc4(0x512),{'value':_0x5ca307['setTipoDocCodigo']},[_0x5ca307[_0x790dc4(0x4f6)]]);}),_0x2e2206=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x1fc)+_0x3a1bf4,'class':_0x26b0d0(0x27c),'events':{'change':_0x2acc2c=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x461),_0x2acc2c[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}},_0x27dd7e),_0x5cd9cf=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x591)},[_0x2e2206]);_0x4411b6[_0x26b0d0(0x2a1)](_0x5cd9cf);const _0x3ee98a=document[_0x26b0d0(0x2bb)]('div');_0x3ee98a['className']=_0x26b0d0(0x275);const _0x33967e=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x2a6));_0x33967e['id']=_0x26b0d0(0x685)+_0x3a1bf4,_0x33967e[_0x26b0d0(0x226)]=_0x26b0d0(0x654),_0x33967e[_0x26b0d0(0x3a1)]=_0x26b0d0(0x490),_0x33967e[_0x26b0d0(0x4ba)]='Nº',_0x33967e[_0x26b0d0(0x3fc)]=_0x26b0d0(0x42c),_0x33967e[_0x26b0d0(0x2de)]=_0x5bd96c=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x746),_0x5bd96c[_0x26b0d0(0x657)]['value']),_0x33967e[_0x26b0d0(0x26b)](_0x26b0d0(0x5c2),_0x1cb108=>{const _0x4a9cb7=_0x26b0d0;_0x1cb108[_0x4a9cb7(0x4b9)]==_0x4a9cb7(0x2dc)&&setupConsulta(_0x3a1bf4);}),_0x33967e[_0x26b0d0(0x26b)](_0x26b0d0(0x2a6),async _0x3c6bba=>{const _0x51f65a=_0x26b0d0,_0x215abb=window_options[_0x3a1bf4],_0x115823=_0x33967e[_0x51f65a(0x4be)];_0x215abb[_0x51f65a(0x3b3)]==0x4&&_0x215abb[_0x51f65a(0x461)]==_0x51f65a(0x635)&&_0x115823['length']==0xb&&(await updateWindowOption(_0x3a1bf4,_0x51f65a(0x746),_0x115823),setupConsulta(_0x3a1bf4));}),_0x33967e[_0x26b0d0(0x26b)](_0x26b0d0(0x24e),_0x338285=>{const _0x3556f3=_0x26b0d0;if(_0x338285[_0x3556f3(0x4b9)]==_0x3556f3(0x684)||_0x338285[_0x3556f3(0x4b9)]==_0x3556f3(0x590)){const _0x21c942=document[_0x3556f3(0x32b)](_0x3556f3(0x551)+_0x3a1bf4),_0x50e677=document[_0x3556f3(0x32b)](_0x3556f3(0x5ef)+_0x3a1bf4);_0x21c942&&(_0x21c942['value']='',window_options[_0x3a1bf4][_0x3556f3(0x4b1)]=''),_0x50e677&&(_0x50e677[_0x3556f3(0x4be)]='',window_options[_0x3a1bf4][_0x3556f3(0x669)]='');}}),_0x3ee98a[_0x26b0d0(0x2a1)](_0x33967e),_0x4411b6[_0x26b0d0(0x2a1)](_0x3ee98a);const _0x571a88=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x571a88['className']='div-width-10\x20col-bt-padding';const _0x2417d0=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x7ad));_0x2417d0['id']='btnConsultar-'+_0x3a1bf4,_0x2417d0[_0x26b0d0(0x226)]=_0x26b0d0(0x7ad),_0x2417d0[_0x26b0d0(0x258)]='<i\x20class=\x27bi\x20bi-search\x27></i>',_0x2417d0[_0x26b0d0(0x3fc)]=_0x26b0d0(0x1ee),_0x2417d0[_0x26b0d0(0x614)]=()=>setupConsulta(_0x3a1bf4),_0x571a88[_0x26b0d0(0x2a1)](_0x2417d0),_0x4411b6[_0x26b0d0(0x2a1)](_0x571a88);const _0x28856b=document[_0x26b0d0(0x2bb)]('div');_0x28856b['className']='div-width-100\x20col-bt-left-padding',_0x28856b[_0x26b0d0(0x656)][_0x26b0d0(0x5ea)]=_0x26b0d0(0x789);const _0x9a8864=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x2a6));_0x9a8864['id']=_0x26b0d0(0x551)+_0x3a1bf4,_0x9a8864[_0x26b0d0(0x226)]='text',_0x9a8864[_0x26b0d0(0x3a1)]=_0x26b0d0(0x490),_0x9a8864[_0x26b0d0(0x3fc)]=_0x26b0d0(0x3ba),_0x9a8864[_0x26b0d0(0x2de)]=_0x50036b=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x4b1),_0x50036b[_0x26b0d0(0x657)][_0x26b0d0(0x4be)]);const _0x1f2c15=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x1f2c15['id']=_0x26b0d0(0x7b3)+_0x3a1bf4,_0x1f2c15[_0x26b0d0(0x3fc)]=_0x26b0d0(0x606),_0x9a8864[_0x26b0d0(0x26b)]('keypress',_0x8d41c3=>{const _0x5341b0=_0x26b0d0;_0x8d41c3[_0x5341b0(0x4b9)]==_0x5341b0(0x2dc)&&(setupConsulta(_0x3a1bf4),document[_0x5341b0(0x32b)]('suggestions-'+_0x3a1bf4)[_0x5341b0(0x258)]='');}),_0x9a8864[_0x26b0d0(0x26b)](_0x26b0d0(0x24e),function(_0x393ea9){const _0x6c7582=_0x26b0d0;_0x393ea9['key']==_0x6c7582(0x672)&&_0x1f2c15[_0x6c7582(0x221)][_0x6c7582(0x4e9)]>0x0&&(_0x393ea9[_0x6c7582(0x73f)](),_0x393ea9[_0x6c7582(0x417)](),_0x1f2c15[_0x6c7582(0x221)][0x0][_0x6c7582(0x3ef)]());}),_0x28856b[_0x26b0d0(0x2a1)](_0x9a8864),_0x28856b[_0x26b0d0(0x2a1)](_0x1f2c15),_0x4411b6[_0x26b0d0(0x2a1)](_0x28856b),_0x9a8864[_0x26b0d0(0x26b)](_0x26b0d0(0x2a6),function(){const _0x18622d=_0x26b0d0,_0x4faf59=this['value'][_0x18622d(0x2b8)]()['toLowerCase']();_0x1f2c15['innerHTML']='';if(_0x4faf59[_0x18622d(0x4e9)]==0x0)return;const _0x409584=_0x4faf59[_0x18622d(0x458)](/\s+/)[_0x18622d(0x46d)](_0x13ffd5=>_0x13ffd5);let _0x1867a1,_0xf66a78;setTipOpeOrders['some'](_0x2d0a70=>_0x2d0a70==window_options[_0x3a1bf4]['setTipoOperacion'])||setTipOpeSales['some'](_0x3541d4=>_0x3541d4==window_options[_0x3a1bf4]['setTipoOperacion'])||setTipOpeQuotation[_0x18622d(0x3f2)](_0x2610fe=>_0x2610fe==window_options[_0x3a1bf4][_0x18622d(0x3b3)])?(_0x1867a1=myCompany[_0x18622d(0x2db)],_0xf66a78=_0x1867a1[_0x18622d(0x46d)](_0x1998fb=>{const _0x58d380=_0x18622d,_0x45fd69=(_0x1998fb[_0x58d380(0x229)]||'')[_0x58d380(0x6e4)](),_0x2a17e4=(_0x1998fb[_0x58d380(0x62f)]||'')[_0x58d380(0x6e4)](),_0x5146b3=_0x45fd69+'\x20'+_0x2a17e4;return _0x409584['every'](_0x30a435=>_0x5146b3[_0x58d380(0x2dd)](_0x30a435));})):(_0x1867a1=myCompany[_0x18622d(0x709)],_0xf66a78=_0x1867a1[_0x18622d(0x46d)](_0x3769d2=>{const _0x39caea=_0x18622d,_0x4715bb=(_0x3769d2[_0x39caea(0x73b)]||'')['toLowerCase'](),_0x3dc349=(_0x3769d2['setSupplierDocumentNumber']||'')[_0x39caea(0x6e4)](),_0x699e6a=_0x4715bb+'\x20'+_0x3dc349;return _0x409584[_0x39caea(0x3ee)](_0x4b72ab=>_0x699e6a[_0x39caea(0x2dd)](_0x4b72ab));}));if(_0xf66a78[_0x18622d(0x4e9)]>0x0)_0xf66a78[_0x18622d(0x1fa)](_0x2e83da=>{const _0x49cdf5=_0x18622d,_0xb24ac0=document['createElement'](_0x49cdf5(0x6d4));_0xb24ac0[_0x49cdf5(0x3fc)]=_0x49cdf5(0x5d6);let _0x12f55f,_0x482f73,_0x5e1451;setTipOpeOrders[_0x49cdf5(0x3f2)](_0x1c751d=>_0x1c751d==window_options[_0x3a1bf4][_0x49cdf5(0x3b3)])||setTipOpeSales[_0x49cdf5(0x3f2)](_0x5e191f=>_0x5e191f==window_options[_0x3a1bf4]['setTipoOperacion'])||setTipOpeQuotation[_0x49cdf5(0x3f2)](_0x50c0b3=>_0x50c0b3==window_options[_0x3a1bf4][_0x49cdf5(0x3b3)])?(_0x12f55f=_0x2e83da[_0x49cdf5(0x62f)],_0x482f73=_0x2e83da[_0x49cdf5(0x229)],_0x5e1451=_0x2e83da[_0x49cdf5(0x673)]):(_0x12f55f=_0x2e83da[_0x49cdf5(0x7bb)],_0x482f73=_0x2e83da[_0x49cdf5(0x73b)],_0x5e1451=_0x2e83da[_0x49cdf5(0x42d)]),_0x12f55f?_0xb24ac0[_0x49cdf5(0x511)]=_0x12f55f+_0x49cdf5(0x398)+_0x482f73:_0xb24ac0[_0x49cdf5(0x511)]=_0x482f73,_0xb24ac0['tabIndex']=0x0,_0xb24ac0[_0x49cdf5(0x26b)](_0x49cdf5(0x3a7),()=>{const _0x2d4329=_0x49cdf5;_0x9a8864[_0x2d4329(0x4be)]=_0x482f73;const _0xdc1f92=document[_0x2d4329(0x32b)](_0x2d4329(0x685)+_0x3a1bf4),_0x5a1eff=document[_0x2d4329(0x32b)](_0x2d4329(0x5ef)+_0x3a1bf4);_0xdc1f92&&(_0xdc1f92[_0x2d4329(0x4be)]=_0x12f55f||''),_0x5a1eff&&(_0x5a1eff['value']=_0x5e1451||''),window_options[_0x3a1bf4][_0x2d4329(0x4b1)]=_0x482f73,window_options[_0x3a1bf4][_0x2d4329(0x746)]=_0x12f55f,window_options[_0x3a1bf4]['setClienteDireccion']=_0x5e1451,saveWindowOptionsDB(_0x3a1bf4)[_0x2d4329(0x209)](_0x5d3b15=>console['error']('Error\x20Save\x20Data:',_0x5d3b15)),_0x1f2c15[_0x2d4329(0x258)]='';}),_0xb24ac0[_0x49cdf5(0x26b)](_0x49cdf5(0x24e),function(_0x9df04d){const _0x557417=_0x49cdf5;if(_0x9df04d['key']==_0x557417(0x2dc))_0x9df04d[_0x557417(0x417)](),this[_0x557417(0x3a7)]();else{if(_0x9df04d[_0x557417(0x4b9)]==_0x557417(0x672)){_0x9df04d['preventDefault'](),_0x9df04d[_0x557417(0x417)]();if(_0x9df04d[_0x557417(0x5bd)]){if(this==_0x1f2c15[_0x557417(0x72e)])_0x9a8864[_0x557417(0x3ef)]();else{let _0x2c0a30=this['previousElementSibling'];if(_0x2c0a30)_0x2c0a30['focus']();}}else this[_0x557417(0x326)]?this['nextElementSibling'][_0x557417(0x3ef)]():_0x9a8864['focus']();}}}),_0x1f2c15[_0x49cdf5(0x2a1)](_0xb24ac0);});else{const _0x28b943=document[_0x18622d(0x2bb)](_0x18622d(0x6d4));_0x28b943['className']='suggestion-item\x20no-result',_0x28b943[_0x18622d(0x511)]=_0x18622d(0x69f),_0x1f2c15[_0x18622d(0x2a1)](_0x28b943);}});const _0x489fed=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x489fed[_0x26b0d0(0x3fc)]=_0x26b0d0(0x442);const _0x35e65d=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x2a6));_0x35e65d['id']='setClienteDireccion-'+_0x3a1bf4,_0x35e65d[_0x26b0d0(0x226)]='text',_0x35e65d[_0x26b0d0(0x3a1)]='off',_0x35e65d[_0x26b0d0(0x4ba)]=_0x26b0d0(0x7ac),_0x35e65d['className']=_0x26b0d0(0x57d),_0x35e65d['onchange']=_0x3bb639=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x669),_0x3bb639['target']['value']),_0x489fed[_0x26b0d0(0x2a1)](_0x35e65d),_0x4411b6['appendChild'](_0x489fed);const _0x209fdb=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x209fdb['className']=_0x26b0d0(0x2c4);const _0x430b9a=document['createElement']('button');_0x430b9a['id']=_0x26b0d0(0x45a)+_0x3a1bf4,_0x430b9a[_0x26b0d0(0x226)]=_0x26b0d0(0x7ad),_0x430b9a[_0x26b0d0(0x258)]=_0x26b0d0(0x744),_0x430b9a[_0x26b0d0(0x3fc)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt',_0x430b9a[_0x26b0d0(0x614)]=_0x5dd261=>setPreAccount(_0x3a1bf4),_0x430b9a[_0x26b0d0(0x656)][_0x26b0d0(0x1ea)]=_0x26b0d0(0x2b6),_0x430b9a[_0x26b0d0(0x656)]['borderBottomLeftRadius']='5px',_0x209fdb[_0x26b0d0(0x2a1)](_0x430b9a),_0x4411b6['appendChild'](_0x209fdb);const _0x54dc24=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x54dc24[_0x26b0d0(0x3fc)]=_0x26b0d0(0x2e2);const _0x498d79=document['createElement']('button');_0x498d79['id']='btnopt_facturar-'+_0x3a1bf4,_0x498d79[_0x26b0d0(0x226)]=_0x26b0d0(0x7ad),_0x498d79[_0x26b0d0(0x258)]=_0x26b0d0(0x50a),_0x498d79[_0x26b0d0(0x3fc)]=_0x26b0d0(0x66f),_0x498d79[_0x26b0d0(0x614)]=()=>setBill(_0x3a1bf4),_0x54dc24[_0x26b0d0(0x2a1)](_0x498d79),_0x4411b6[_0x26b0d0(0x2a1)](_0x54dc24);const _0x5b03ff=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x5b03ff[_0x26b0d0(0x3fc)]='div-width-24\x20btnopt';const _0x534aac=document['createElement'](_0x26b0d0(0x7ad));_0x534aac['id']=_0x26b0d0(0x2ab)+_0x3a1bf4,_0x534aac['type']=_0x26b0d0(0x7ad),_0x534aac[_0x26b0d0(0x258)]='Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>',_0x534aac[_0x26b0d0(0x3fc)]=_0x26b0d0(0x4d1);let _0x3f9d10=![];_0x534aac['onclick']=()=>{const _0x542382=_0x26b0d0;_0x3f9d10=!_0x3f9d10,_0x3f9d10?_0x534aac[_0x542382(0x656)]['backgroundColor']=_0x542382(0x713):_0x534aac['style'][_0x542382(0x3f1)]='',updateWindowOption(_0x3a1bf4,_0x542382(0x2bc),_0x3f9d10?0x1:0x0);},_0x5b03ff[_0x26b0d0(0x2a1)](_0x534aac),_0x4411b6[_0x26b0d0(0x2a1)](_0x5b03ff);const _0x138d4c=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x138d4c[_0x26b0d0(0x3fc)]='div-width-24\x20btnopt';const _0x518fa8=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x7ad));_0x518fa8['id']=_0x26b0d0(0x4eb)+_0x3a1bf4,_0x518fa8[_0x26b0d0(0x226)]=_0x26b0d0(0x7ad),_0x518fa8['innerHTML']=_0x26b0d0(0x277),_0x518fa8[_0x26b0d0(0x3fc)]=_0x26b0d0(0x385);let _0x48c737=![];_0x518fa8['onclick']=()=>{const _0x26aab8=_0x26b0d0,_0x4dfa83=document[_0x26aab8(0x32b)](_0x26aab8(0x2cb)+_0x3a1bf4),_0xa3b08e=document['querySelectorAll'](_0x26aab8(0x4e6)+_0x3a1bf4);_0xa3b08e[_0x26aab8(0x1fa)](_0x426d4d=>{const _0x188538=_0x26aab8;_0x48c737?_0x426d4d[_0x188538(0x63f)][_0x188538(0x5d9)](_0x188538(0x46c)):_0x426d4d['classList'][_0x188538(0x625)](_0x188538(0x46c));}),_0x48c737?(_0x518fa8[_0x26aab8(0x656)]['backgroundColor']='',_0x4dfa83[_0x26aab8(0x63f)][_0x26aab8(0x5d9)](_0x26aab8(0x46c))):(_0x518fa8[_0x26aab8(0x656)][_0x26aab8(0x3f1)]=_0x26aab8(0x713),_0x4dfa83[_0x26aab8(0x63f)][_0x26aab8(0x625)](_0x26aab8(0x46c))),_0x48c737=!_0x48c737,updateWindowOption(_0x3a1bf4,_0x26aab8(0x324),_0x48c737?0x1:0x0);},_0x518fa8['style']['borderTopRightRadius']='5px',_0x518fa8['style'][_0x26b0d0(0x5f3)]=_0x26b0d0(0x2b6),_0x138d4c[_0x26b0d0(0x2a1)](_0x518fa8),_0x4411b6[_0x26b0d0(0x2a1)](_0x138d4c);const _0xaf3f19=document[_0x26b0d0(0x2bb)]('div');_0xaf3f19['id']='cart-item-principal-'+_0x3a1bf4,_0xaf3f19[_0x26b0d0(0x3fc)]=_0x26b0d0(0x245),_0xaf3f19[_0x26b0d0(0x656)][_0x26b0d0(0x6fa)]='#f7f7f7',_0xaf3f19[_0x26b0d0(0x656)][_0x26b0d0(0x4c1)]='0',_0xaf3f19[_0x26b0d0(0x656)][_0x26b0d0(0x613)]=_0x26b0d0(0x2f6);const _0x38b93d=createElement('input',{'type':_0x26b0d0(0x329),'id':_0x26b0d0(0x48c)+_0x3a1bf4,'value':0x0,'events':{'click':_0x4c7f8c=>selectAllChecks(_0x3a1bf4)}});_0x38b93d[_0x26b0d0(0x656)]['marginTop']='8px',_0xaf3f19[_0x26b0d0(0x2a1)](_0x38b93d),_0x4411b6[_0x26b0d0(0x2a1)](_0xaf3f19);const _0x330bcf=document[_0x26b0d0(0x32b)]('div_section_options'),_0x1f70b3=document[_0x26b0d0(0x2bb)]('div');_0x1f70b3['id']=_0x26b0d0(0x206)+_0x3a1bf4,_0x1f70b3['className']=_0x26b0d0(0x508)+_0x3a1bf4,_0x330bcf['appendChild'](_0x1f70b3);const _0x58d4b9=document[_0x26b0d0(0x32b)](_0x26b0d0(0x206)+_0x3a1bf4),_0x420012=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x420012['id']=_0x26b0d0(0x57a)+_0x3a1bf4,_0x420012[_0x26b0d0(0x3fc)]=_0x26b0d0(0x6a9),_0x58d4b9['appendChild'](_0x420012);const _0x2394d9=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x2394d9['id']=_0x26b0d0(0x27f)+_0x3a1bf4,_0x2394d9['className']=_0x26b0d0(0x51d),_0x58d4b9['appendChild'](_0x2394d9);const _0x2edbae=document['getElementById']('container-section-options-'+_0x3a1bf4),_0xdeb3f0=createElement('label',{'class':'label-options'},[_0x26b0d0(0x79b)]),_0x2c6c98=[{'value':'1','text':_0x26b0d0(0x7cd)},{'value':'3','text':_0x26b0d0(0x243)}][_0x26b0d0(0x6cd)](_0x571264=>createElement(_0x26b0d0(0x512),{'value':_0x571264[_0x26b0d0(0x4be)]},[_0x571264['text']])),_0x2238b7=createElement(_0x26b0d0(0x775),{'id':'setTipoOperacionInvoice-'+_0x3a1bf4,'class':_0x26b0d0(0x6ff),'events':{'change':_0x2e7371=>updateWindowOption(_0x3a1bf4,'setTipoOperacionInvoice',_0x2e7371[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}},_0x2c6c98),_0x544159=createElement('div',{'class':'div-width-options\x20col-bt-padding-options'},[_0xdeb3f0,_0x2238b7]),_0xab0731=createElement(_0x26b0d0(0x340),{'class':_0x26b0d0(0x554)},[_0x26b0d0(0x681)]),_0x5c7aed=createElement(_0x26b0d0(0x2a6),{'id':_0x26b0d0(0x4c2)+_0x3a1bf4,'type':_0x26b0d0(0x2a0),'class':_0x26b0d0(0x6ef),'events':{'change':_0x9a9e0a=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x72f),_0x9a9e0a[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}}),_0x19a87b=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x280)},[_0xab0731,_0x5c7aed]),_0x2f8e04=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x647)},[_0x544159,_0x19a87b]);_0x2edbae[_0x26b0d0(0x2a1)](_0x2f8e04);const _0x41c6b6=createElement('label',{'class':'label-options'},[_0x26b0d0(0x202)]),_0x20031c=createElement(_0x26b0d0(0x2a6),{'id':_0x26b0d0(0x6cb)+_0x3a1bf4,'type':'text','class':_0x26b0d0(0x46e),'events':{'change':_0xc057dd=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x5b3),_0xc057dd[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}}),_0x4088a2=createElement('div',{'class':'div-width-options\x20col-bt-padding-options'},[_0x41c6b6,_0x20031c]),_0x444623=createElement('label',{'class':_0x26b0d0(0x554)},[_0x26b0d0(0x246)]),_0x1da4b5=createElement(_0x26b0d0(0x2a6),{'id':_0x26b0d0(0x509)+_0x3a1bf4,'type':_0x26b0d0(0x424),'class':_0x26b0d0(0x39c),'events':{'change':_0x57d1ba=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x5d5),_0x57d1ba[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}}),_0x22e136=createElement('div',{'class':_0x26b0d0(0x280)},[_0x444623,_0x1da4b5]),_0x274268=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x647)},[_0x4088a2,_0x22e136]);_0x2edbae[_0x26b0d0(0x2a1)](_0x274268);const _0x4be31c=createElement(_0x26b0d0(0x340),{'class':_0x26b0d0(0x554)},[_0x26b0d0(0x1f0)]),_0x353f85=myCompany[_0x26b0d0(0x1f8)][_0x26b0d0(0x6cd)](_0x1d41fe=>createElement(_0x26b0d0(0x512),{'value':_0x1d41fe[_0x26b0d0(0x55e)]},[_0x1d41fe[_0x26b0d0(0x4db)]])),_0x2a2870=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x74d)+_0x3a1bf4,'class':_0x26b0d0(0x49d),'events':{'change':_0x2b4a06=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x76c),_0x2b4a06[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}},_0x353f85),_0x13a9b6=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x280)},[_0x4be31c,_0x2a2870]),_0x509bd3=createElement(_0x26b0d0(0x340),{'class':_0x26b0d0(0x554)},[_0x26b0d0(0x322)]),_0x3226a5=[{'value':'1','text':_0x26b0d0(0x6dd)},{'value':'2','text':_0x26b0d0(0x42a)},{'value':'3','text':_0x26b0d0(0x5fb)}][_0x26b0d0(0x6cd)](_0x4c931f=>createElement(_0x26b0d0(0x512),{'value':_0x4c931f[_0x26b0d0(0x4be)]},[_0x4c931f[_0x26b0d0(0x654)]])),_0x561109=createElement(_0x26b0d0(0x775),{'id':'setDespacho-'+_0x3a1bf4,'class':_0x26b0d0(0x24b),'events':{'change':_0x199530=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x62a),_0x199530[_0x26b0d0(0x657)][_0x26b0d0(0x4be)])}},_0x3226a5),_0x3c1752=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x280)},[_0x509bd3,_0x561109]),_0x42c51c=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x647)},[_0x13a9b6,_0x3c1752]);_0x2edbae[_0x26b0d0(0x2a1)](_0x42c51c);const _0x11ab53=createElement(_0x26b0d0(0x340),{'class':_0x26b0d0(0x554)},['APLICAR:']),_0x3a11fa=createElement('div',{'class':_0x26b0d0(0x692)}),_0x2ddf52=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x329),'id':_0x26b0d0(0x70d)+_0x3a1bf4,'class':_0x26b0d0(0x3bc),'events':{'change':_0x389055=>toggleTaxFields(_0x389055,_0x26b0d0(0x6eb),_0x3a1bf4)}}),_0x5156b=createElement(_0x26b0d0(0x340),{'for':_0x26b0d0(0x70d)+_0x3a1bf4,'class':_0x26b0d0(0x6bc)},[_0x26b0d0(0x645)]),_0x318e47=createElement(_0x26b0d0(0x775),{'id':'detraccionCodigo-'+_0x3a1bf4,'class':_0x26b0d0(0x79c),'events':{'change':_0x548862=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x3c7),_0x548862[_0x26b0d0(0x657)]['value'])}},[createElement(_0x26b0d0(0x512),{'value':'0'},[_0x26b0d0(0x59f)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x62c)},[_0x26b0d0(0x665)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x482)},['Alcohol\x20etílico']),createElement(_0x26b0d0(0x512),{'value':'004'},[_0x26b0d0(0x283)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x65e)},['Maíz\x20amarillo\x20duro']),createElement('option',{'value':'006'},[_0x26b0d0(0x7cb)]),createElement(_0x26b0d0(0x512),{'value':'007'},['Caña\x20de\x20azúcar']),createElement('option',{'value':_0x26b0d0(0x201)},[_0x26b0d0(0x5f8)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x66e)},[_0x26b0d0(0x523)]),createElement(_0x26b0d0(0x512),{'value':'010'},['Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios']),createElement('option',{'value':'011'},[_0x26b0d0(0x752)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x2e7)},[_0x26b0d0(0x671)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x30e)},[_0x26b0d0(0x527)]),createElement('option',{'value':_0x26b0d0(0x506)},[_0x26b0d0(0x561)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x78d)},['Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal']),createElement(_0x26b0d0(0x512),{'value':'016'},[_0x26b0d0(0x5b0)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x407)},[_0x26b0d0(0x574)]),createElement('option',{'value':'018'},[_0x26b0d0(0x7a7)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x5fd)},['Arrendamiento\x20de\x20bienes\x20muebles']),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x646)},[_0x26b0d0(0x627)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x4a1)},[_0x26b0d0(0x293)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x3f5)},[_0x26b0d0(0x496)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x3b9)},['Leche']),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x2ca)},[_0x26b0d0(0x29e)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x334)},['Fabricación\x20de\x20bienes\x20por\x20encargo']),createElement('option',{'value':_0x26b0d0(0x49b)},['Servicio\x20de\x20transporte\x20de\x20personas']),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x285)},[_0x26b0d0(0x638)]),createElement('option',{'value':_0x26b0d0(0x726)},[_0x26b0d0(0x3a5)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x38d)},[_0x26b0d0(0x30b)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x2c8)},[_0x26b0d0(0x53e)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x348)},['Espárragos']),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x6a7)},['Minerales\x20metálicos\x20no\x20auríferos']),createElement('option',{'value':'035'},[_0x26b0d0(0x528)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x668)},[_0x26b0d0(0x4fb)]),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x4d7)},['Demás\x20servicios\x20gravados\x20con\x20el\x20IGV']),createElement('option',{'value':'039'},[_0x26b0d0(0x34c)]),createElement(_0x26b0d0(0x512),{'value':''},[_0x26b0d0(0x3fe)])]),_0x21bffe=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x61d),'id':'detraccionPct-'+_0x3a1bf4,'class':_0x26b0d0(0x366),'value':'','placeholder':_0x26b0d0(0x559),'events':{'change':_0xbfae82=>calculateTax(_0x26b0d0(0x6eb),_0x3a1bf4)}}),_0x18d67d=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x654),'id':_0x26b0d0(0x66c)+_0x3a1bf4,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','readonly':!![],'placeholder':'Total\x20detracción'});_0x3a11fa['appendChild'](_0x2ddf52),_0x3a11fa[_0x26b0d0(0x2a1)](_0x5156b),_0x3a11fa['appendChild'](_0x318e47),_0x3a11fa['appendChild'](_0x21bffe),_0x3a11fa['appendChild'](_0x18d67d);const _0x19b496=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x692)}),_0x20cf65=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x329),'id':'chkRetencion-'+_0x3a1bf4,'class':_0x26b0d0(0x3bc),'events':{'change':_0xe870c8=>toggleTaxFields(_0xe870c8,_0x26b0d0(0x75a),_0x3a1bf4)}}),_0x5a5c4e=createElement(_0x26b0d0(0x340),{'for':_0x26b0d0(0x313)+_0x3a1bf4,'class':'label-options\x20mb-2'},[_0x26b0d0(0x6c2)]),_0x2c2c3a=createElement('input',{'type':'number','id':'retencionPct-'+_0x3a1bf4,'class':_0x26b0d0(0x366),'value':'3','placeholder':_0x26b0d0(0x317),'events':{'change':_0x3e19c8=>calculateTax(_0x26b0d0(0x75a),_0x3a1bf4)}}),_0x29868c=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x654),'id':_0x26b0d0(0x37c)+_0x3a1bf4,'class':_0x26b0d0(0x366),'readonly':!![],'placeholder':_0x26b0d0(0x54f)});_0x19b496[_0x26b0d0(0x2a1)](_0x20cf65),_0x19b496[_0x26b0d0(0x2a1)](_0x5a5c4e),_0x19b496[_0x26b0d0(0x2a1)](_0x2c2c3a),_0x19b496['appendChild'](_0x29868c);const _0x2e15d9=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x692)}),_0x5eb6f6=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x329),'id':'chkPercepcion-'+_0x3a1bf4,'class':'custom-checkbox','events':{'change':_0x3a35dc=>toggleTaxFields(_0x3a35dc,_0x26b0d0(0x7c0),_0x3a1bf4)}}),_0x54c1b0=createElement(_0x26b0d0(0x340),{'for':'chkPercepcion-'+_0x3a1bf4,'class':_0x26b0d0(0x6bc)},[_0x26b0d0(0x20c)]),_0x5a83ea=createElement('input',{'type':_0x26b0d0(0x61d),'id':_0x26b0d0(0x2ee)+_0x3a1bf4,'class':_0x26b0d0(0x366),'value':'2','placeholder':_0x26b0d0(0x5be),'events':{'change':_0x344ce7=>calculateTax(_0x26b0d0(0x7c0),_0x3a1bf4)}}),_0x5715b7=createElement(_0x26b0d0(0x2a6),{'type':_0x26b0d0(0x654),'id':_0x26b0d0(0x20f)+_0x3a1bf4,'class':_0x26b0d0(0x366),'readonly':!![],'placeholder':_0x26b0d0(0x628)});_0x2e15d9[_0x26b0d0(0x2a1)](_0x5eb6f6),_0x2e15d9['appendChild'](_0x54c1b0),_0x2e15d9[_0x26b0d0(0x2a1)](_0x5a83ea),_0x2e15d9[_0x26b0d0(0x2a1)](_0x5715b7);const _0x31c179=createElement(_0x26b0d0(0x340),{'class':'label-options'},['NOTAS:']),_0x3f05e6=createElement(_0x26b0d0(0x798),{'id':_0x26b0d0(0x3dc)+_0x3a1bf4,'rows':0x4,'class':_0x26b0d0(0x777),'events':{'change':_0x334011=>updateWindowOption(_0x3a1bf4,_0x26b0d0(0x76e),_0x334011['target'][_0x26b0d0(0x4be)])}}),_0x3b9014=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x280)},[_0x31c179,_0x3f05e6]),_0x25db8a=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x280)},[_0x11ab53,_0x3a11fa,_0x19b496,_0x2e15d9]),_0x21dd59=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x647)},[_0x25db8a,_0x3b9014]);_0x2edbae[_0x26b0d0(0x2a1)](_0x21dd59);const _0x4395c4=createElement(_0x26b0d0(0x512),{'value':'1'},[_0x26b0d0(0x687)]),_0x4e0c67=createElement(_0x26b0d0(0x512),{'value':'2'},[_0x26b0d0(0x5d7)]),_0x4f2418=createElement(_0x26b0d0(0x512),{'value':'3'},['Anexar']),_0x515f7c=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x54c)+_0x3a1bf4,'class':_0x26b0d0(0x55a),'events':{'change':_0x209292=>updateWindowOption(_0x3a1bf4,'setAttachEdit',_0x209292['target'][_0x26b0d0(0x4be)])}},[_0x4395c4,_0x4e0c67,_0x4f2418]),_0x444365=createElement(_0x26b0d0(0x512),{'value':'0','selected':!![]},['Seleccione']),_0x153a3f=myCompany[_0x26b0d0(0x297)][_0x26b0d0(0x6cd)](_0x3481b1=>createElement('option',{'value':_0x3481b1[_0x26b0d0(0x2d0)]},[_0x3481b1[_0x26b0d0(0x5a0)]])),_0x57954f=createElement(_0x26b0d0(0x775),{'id':_0x26b0d0(0x5fa)+_0x3a1bf4,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','events':{'change':_0x4640ec=>updateSerieOptionsAttach(_0x4640ec[_0x26b0d0(0x657)][_0x26b0d0(0x4be)],_0x3a1bf4)}},[_0x444365,..._0x153a3f]),_0x8ed43b=createElement(_0x26b0d0(0x775),{'id':'setAttachSeries-'+_0x3a1bf4,'class':_0x26b0d0(0x68a)}),_0x1dcd7c=createElement(_0x26b0d0(0x2a6),{'id':_0x26b0d0(0x278)+_0x3a1bf4,'type':_0x26b0d0(0x61d),'class':_0x26b0d0(0x604)}),_0x4ade94=createElement(_0x26b0d0(0x7ad),{'id':_0x26b0d0(0x6be)+_0x3a1bf4,'type':_0x26b0d0(0x7ad),'class':_0x26b0d0(0x374),'innerHTML':_0x26b0d0(0x7a0),'events':{'click':()=>consultAttach(_0x3a1bf4)}}),_0x3dc81b=createElement('div',{'id':_0x26b0d0(0x271)+_0x3a1bf4}),_0x43d74d=createElement('div',{'class':_0x26b0d0(0x280)},[_0x515f7c,_0x57954f,_0x8ed43b,_0x1dcd7c,_0x4ade94,_0x3dc81b]),_0x419b96=createElement(_0x26b0d0(0x6d4),{'class':'div-group-container\x20div-width-100'},[_0x43d74d]);_0x2edbae[_0x26b0d0(0x2a1)](_0x419b96);const _0x2ea4b1=document[_0x26b0d0(0x32b)](_0x26b0d0(0x27f)+_0x3a1bf4),_0x76135d=createElement(_0x26b0d0(0x4a5),{'innerHTML':'&times;'}),_0x1105d6=createElement(_0x26b0d0(0x7ad),{'id':_0x26b0d0(0x568)+_0x3a1bf4,'class':_0x26b0d0(0x513),'type':'button'},[_0x76135d]),_0x289c14=createElement('div',{'class':'container-buttons'},[_0x1105d6]);_0x2ea4b1[_0x26b0d0(0x2a1)](_0x289c14);const _0x3e6a89=createElement(_0x26b0d0(0x717),{'class':_0x26b0d0(0x3ae),'src':_0x26b0d0(0x497)}),_0x4e77b4=createElement(_0x26b0d0(0x4a5),{'class':'span-options','innerHTML':_0x26b0d0(0x670)}),_0x12918e=createElement('button',{'class':_0x26b0d0(0x51e)},[_0x3e6a89,_0x4e77b4]);_0x2ea4b1['appendChild'](_0x12918e);const _0x32ebf3=createElement('img',{'class':_0x26b0d0(0x5a4),'src':_0x26b0d0(0x6a3)}),_0x49d6d4=createElement(_0x26b0d0(0x7ad),{'class':_0x26b0d0(0x51e)},[_0x32ebf3,_0x26b0d0(0x581)]);_0x2ea4b1[_0x26b0d0(0x2a1)](_0x49d6d4);const _0x39531b=createElement(_0x26b0d0(0x717),{'class':_0x26b0d0(0x5a4),'src':_0x26b0d0(0x4aa)}),_0x4e9c22=createElement('button',{'class':_0x26b0d0(0x51e)},[_0x39531b,_0x26b0d0(0x375)]);_0x2ea4b1[_0x26b0d0(0x2a1)](_0x4e9c22);const _0x213826=createElement('img',{'class':_0x26b0d0(0x5a4),'src':'./img/icon-ingresos.svg'}),_0x33b15a=createElement(_0x26b0d0(0x7ad),{'class':_0x26b0d0(0x51e)},[_0x213826,_0x26b0d0(0x332)]);_0x2ea4b1['appendChild'](_0x33b15a);const _0x4c7966=createElement('img',{'class':'img-options','src':'./img/icon-gastos.svg'}),_0x18c00e=createElement(_0x26b0d0(0x7ad),{'class':'btn-options'},[_0x4c7966,_0x26b0d0(0x64d)]);_0x2ea4b1[_0x26b0d0(0x2a1)](_0x18c00e);const _0x64f1e2=createElement(_0x26b0d0(0x717),{'class':_0x26b0d0(0x5a4),'src':_0x26b0d0(0x444)}),_0x504d50=createElement(_0x26b0d0(0x7ad),{'class':_0x26b0d0(0x51e),'events':{'click':()=>{const _0x318ab9=_0x26b0d0;window[_0x318ab9(0x4a2)][_0x318ab9(0x774)]=_0x318ab9(0x44d);}}},[_0x64f1e2,_0x26b0d0(0x2c6)]);_0x2ea4b1['appendChild'](_0x504d50);const _0x4231c0=createElement(_0x26b0d0(0x717),{'class':_0x26b0d0(0x5a4),'src':_0x26b0d0(0x470)}),_0x4b2edb=createElement(_0x26b0d0(0x7ad),{'class':_0x26b0d0(0x51e),'events':{'click':()=>{const _0x2331be=_0x26b0d0;window[_0x2331be(0x4a2)][_0x2331be(0x774)]='settings.html';}}},[_0x4231c0,_0x26b0d0(0x49e)]);_0x2ea4b1[_0x26b0d0(0x2a1)](_0x4b2edb);const _0x9a26ed=document[_0x26b0d0(0x2bb)]('div');_0x9a26ed['id']=_0x26b0d0(0x474)+_0x3a1bf4,_0x9a26ed['className']='tab-content\x20active\x20tab-'+_0x3a1bf4+_0x26b0d0(0x21b),_0x48e154[_0x26b0d0(0x2a1)](_0x9a26ed);const _0x28ee6a=document['getElementById']('active\x20tab-cp-'+_0x3a1bf4),_0x15f327=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x15f327['id']=_0x26b0d0(0x6e8)+_0x3a1bf4,_0x15f327['className']=_0x26b0d0(0x586),_0x28ee6a[_0x26b0d0(0x2a1)](_0x15f327);const _0x27bc58=document['getElementById'](_0x26b0d0(0x6e8)+_0x3a1bf4),_0x3c0ba0=document['createElement'](_0x26b0d0(0x6d4));_0x3c0ba0['id']=_0x26b0d0(0x33e)+_0x3a1bf4,_0x3c0ba0[_0x26b0d0(0x3fc)]='flex-grow-1\x20cart-items-container',_0x27bc58[_0x26b0d0(0x2a1)](_0x3c0ba0);const _0x5ab50f=document[_0x26b0d0(0x32b)]('divMarginTopAuto'),_0x91c5d=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x91c5d['id']=_0x26b0d0(0x23d)+_0x3a1bf4,_0x91c5d[_0x26b0d0(0x3fc)]=_0x26b0d0(0x6fb)+_0x3a1bf4,_0x5ab50f[_0x26b0d0(0x2a1)](_0x91c5d);const _0x2659a9=document[_0x26b0d0(0x32b)](_0x26b0d0(0x23d)+_0x3a1bf4),_0x1b8628=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x1b8628['id']=_0x26b0d0(0x5e1)+_0x3a1bf4,_0x1b8628[_0x26b0d0(0x3fc)]=_0x26b0d0(0x6cf),_0x2659a9[_0x26b0d0(0x2a1)](_0x1b8628);const _0x2d3c68=document[_0x26b0d0(0x32b)](_0x26b0d0(0x5e1)+_0x3a1bf4),_0x12c31e=document[_0x26b0d0(0x2bb)]('div');_0x12c31e['className']=_0x26b0d0(0x2c7);const _0x5a78d0=document['createElement'](_0x26b0d0(0x4a5));_0x5a78d0[_0x26b0d0(0x3fc)]=_0x26b0d0(0x43a),_0x5a78d0['id']=_0x26b0d0(0x2d6)+_0x3a1bf4,_0x5a78d0[_0x26b0d0(0x258)]='Descuento\x20Global';const _0x1612e2=document['createElement'](_0x26b0d0(0x4a5));_0x1612e2[_0x26b0d0(0x3fc)]=_0x26b0d0(0x5f7),_0x1612e2['id']=_0x26b0d0(0x384)+_0x3a1bf4,_0x1612e2[_0x26b0d0(0x258)]=_0x26b0d0(0x3dd)+_0x3a1bf4+'\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>',_0x12c31e['appendChild'](_0x5a78d0),_0x12c31e['appendChild'](_0x1612e2),_0x2d3c68[_0x26b0d0(0x2a1)](_0x12c31e);const _0x567696=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x567696[_0x26b0d0(0x3fc)]=_0x26b0d0(0x2c7),_0x567696['id']=_0x26b0d0(0x32c)+_0x3a1bf4;const _0x245a14=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x245a14[_0x26b0d0(0x3fc)]=_0x26b0d0(0x43a),_0x245a14['id']=_0x26b0d0(0x624)+_0x3a1bf4,_0x245a14[_0x26b0d0(0x258)]=_0x26b0d0(0x5e6);const _0x1b34c1=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x1b34c1['className']=_0x26b0d0(0x5f7),_0x1b34c1['id']=_0x26b0d0(0x26c)+_0x3a1bf4,_0x1b34c1[_0x26b0d0(0x258)]=_0x26b0d0(0x4c3),_0x567696[_0x26b0d0(0x2a1)](_0x245a14),_0x567696[_0x26b0d0(0x2a1)](_0x1b34c1),_0x2d3c68[_0x26b0d0(0x2a1)](_0x567696);const _0x499bd5=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x499bd5[_0x26b0d0(0x3fc)]=_0x26b0d0(0x44b);const _0x5b9800=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x5b9800['className']=_0x26b0d0(0x43a),_0x5b9800['id']='float-left-OpGravada-'+_0x3a1bf4,_0x5b9800[_0x26b0d0(0x258)]=_0x26b0d0(0x378);const _0x8f9e03=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x8f9e03[_0x26b0d0(0x3fc)]='float-right-totals',_0x8f9e03['id']='float-right-OpGravada-'+_0x3a1bf4,_0x8f9e03['innerHTML']=_0x26b0d0(0x4c3),_0x499bd5[_0x26b0d0(0x2a1)](_0x5b9800),_0x499bd5[_0x26b0d0(0x2a1)](_0x8f9e03),_0x2d3c68['appendChild'](_0x499bd5);const _0xaf9171=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0xaf9171[_0x26b0d0(0x3fc)]=_0x26b0d0(0x44b);const _0x27045c=document[_0x26b0d0(0x2bb)]('span');_0x27045c['className']='float-left-totals',_0x27045c['id']=_0x26b0d0(0x32a)+_0x3a1bf4,_0x27045c[_0x26b0d0(0x258)]=_0x26b0d0(0x40a);const _0x6feb0=document['createElement']('span');_0x6feb0['className']=_0x26b0d0(0x5f7),_0x6feb0['id']=_0x26b0d0(0x462)+_0x3a1bf4,_0x6feb0['innerHTML']=_0x26b0d0(0x4c3),_0xaf9171[_0x26b0d0(0x2a1)](_0x27045c),_0xaf9171[_0x26b0d0(0x2a1)](_0x6feb0),_0x2d3c68['appendChild'](_0xaf9171);const _0x54c787=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x54c787[_0x26b0d0(0x3fc)]=_0x26b0d0(0x44b);const _0x2e551f=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x2e551f[_0x26b0d0(0x3fc)]='float-left-totals',_0x2e551f['id']=_0x26b0d0(0x680)+_0x3a1bf4,_0x2e551f[_0x26b0d0(0x258)]=_0x26b0d0(0x2e9);const _0x3f5071=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x3f5071[_0x26b0d0(0x3fc)]='float-right-totals',_0x3f5071['id']=_0x26b0d0(0x36e)+_0x3a1bf4,_0x3f5071[_0x26b0d0(0x258)]=_0x26b0d0(0x4c3),_0x54c787[_0x26b0d0(0x2a1)](_0x2e551f),_0x54c787[_0x26b0d0(0x2a1)](_0x3f5071),_0x2d3c68[_0x26b0d0(0x2a1)](_0x54c787);const _0x763ca2=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x763ca2[_0x26b0d0(0x3fc)]=_0x26b0d0(0x44b);const _0x393cc4=document['createElement'](_0x26b0d0(0x4a5));_0x393cc4[_0x26b0d0(0x3fc)]=_0x26b0d0(0x43a),_0x393cc4['id']=_0x26b0d0(0x315)+_0x3a1bf4,_0x393cc4[_0x26b0d0(0x258)]=_0x26b0d0(0x4ec);const _0x2ff3e7=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x2ff3e7[_0x26b0d0(0x3fc)]=_0x26b0d0(0x5f7),_0x2ff3e7['id']='float-right-OpGratuita-'+_0x3a1bf4,_0x2ff3e7[_0x26b0d0(0x258)]=_0x26b0d0(0x4c3),_0x763ca2[_0x26b0d0(0x2a1)](_0x393cc4),_0x763ca2[_0x26b0d0(0x2a1)](_0x2ff3e7),_0x2d3c68[_0x26b0d0(0x2a1)](_0x763ca2);const _0x49e3ec=document[_0x26b0d0(0x2bb)]('div');_0x49e3ec['className']='div-totals-right',_0x49e3ec['id']='div-totals-right-Subtotal-'+_0x3a1bf4;const _0x28ef88=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x28ef88[_0x26b0d0(0x3fc)]=_0x26b0d0(0x43a),_0x28ef88['id']=_0x26b0d0(0x263)+_0x3a1bf4,_0x28ef88['innerHTML']='Subtotal';const _0x268d2d=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x268d2d[_0x26b0d0(0x3fc)]=_0x26b0d0(0x5f7),_0x268d2d['id']=_0x26b0d0(0x2e8)+_0x3a1bf4,_0x268d2d['innerHTML']=_0x26b0d0(0x4c3),_0x49e3ec[_0x26b0d0(0x2a1)](_0x28ef88),_0x49e3ec[_0x26b0d0(0x2a1)](_0x268d2d),_0x2d3c68['appendChild'](_0x49e3ec);const _0x16644b=document['createElement']('div');_0x16644b[_0x26b0d0(0x3fc)]=_0x26b0d0(0x2c7),_0x16644b['id']='div-totals-right-TotalIgv-'+_0x3a1bf4;const _0x3f65f2=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x3f65f2[_0x26b0d0(0x3fc)]='float-left-totals',_0x3f65f2['id']=_0x26b0d0(0x68b)+_0x3a1bf4,_0x3f65f2[_0x26b0d0(0x258)]=_0x26b0d0(0x39a);const _0x4d4d0a=document['createElement'](_0x26b0d0(0x4a5));_0x4d4d0a['className']=_0x26b0d0(0x5f7),_0x4d4d0a['id']='float-right-TotalIgv-'+_0x3a1bf4,_0x4d4d0a['innerHTML']=_0x26b0d0(0x4c3),_0x16644b[_0x26b0d0(0x2a1)](_0x3f65f2),_0x16644b['appendChild'](_0x4d4d0a),_0x2d3c68[_0x26b0d0(0x2a1)](_0x16644b);const _0x454ef3=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x454ef3[_0x26b0d0(0x3fc)]=_0x26b0d0(0x44b),_0x454ef3['id']='div-totals-right-TotalIgvGratuitas-'+_0x3a1bf4;const _0x1dbf09=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x1dbf09['className']=_0x26b0d0(0x43a),_0x1dbf09['id']=_0x26b0d0(0x66a)+_0x3a1bf4,_0x1dbf09[_0x26b0d0(0x258)]=_0x26b0d0(0x36c);const _0x37bb27=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x37bb27[_0x26b0d0(0x3fc)]='float-right-totals',_0x37bb27['id']=_0x26b0d0(0x760)+_0x3a1bf4,_0x37bb27[_0x26b0d0(0x258)]='0.00',_0x454ef3[_0x26b0d0(0x2a1)](_0x1dbf09),_0x454ef3[_0x26b0d0(0x2a1)](_0x37bb27),_0x2d3c68[_0x26b0d0(0x2a1)](_0x454ef3);const _0x3d2e9a=document['createElement'](_0x26b0d0(0x7ad));_0x3d2e9a['id']=_0x26b0d0(0x57f)+_0x3a1bf4,_0x3d2e9a[_0x26b0d0(0x3fc)]=_0x26b0d0(0x47b),_0x3d2e9a[_0x26b0d0(0x614)]=()=>validateOperation(_0x3a1bf4,_0x26b0d0(0x7aa));const _0x38f893=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x38f893[_0x26b0d0(0x3fc)]=_0x26b0d0(0x5cb),_0x38f893['id']=_0x26b0d0(0x55c)+_0x3a1bf4,_0x38f893[_0x26b0d0(0x258)]=_0x26b0d0(0x691);const _0x4db05c=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x4a5));_0x4db05c[_0x26b0d0(0x3fc)]=_0x26b0d0(0x5da),_0x4db05c['id']='float-right-'+_0x3a1bf4,_0x4db05c[_0x26b0d0(0x258)]=_0x26b0d0(0x4c3),_0x3d2e9a[_0x26b0d0(0x2a1)](_0x38f893),_0x3d2e9a[_0x26b0d0(0x2a1)](_0x4db05c),_0x2d3c68[_0x26b0d0(0x2a1)](_0x3d2e9a);const _0x521e4c=document[_0x26b0d0(0x32b)](_0x26b0d0(0x7aa)),_0x4bc0f9=document['createElement'](_0x26b0d0(0x6d4));_0x4bc0f9['id']=_0x26b0d0(0x488)+_0x3a1bf4,_0x4bc0f9['className']=_0x26b0d0(0x508)+_0x3a1bf4,_0x521e4c[_0x26b0d0(0x2a1)](_0x4bc0f9);const _0x2c56a5=document['getElementById'](_0x26b0d0(0x488)+_0x3a1bf4),_0x556e42=document[_0x26b0d0(0x2bb)](_0x26b0d0(0x6d4));_0x556e42['id']=_0x26b0d0(0x39f)+_0x3a1bf4,_0x556e42[_0x26b0d0(0x3fc)]=_0x26b0d0(0x421),_0x2c56a5[_0x26b0d0(0x2a1)](_0x556e42);const _0x208b85=document['getElementById'](_0x26b0d0(0x39f)+_0x3a1bf4),_0xeeb1bb=createElement(_0x26b0d0(0x775),{'id':'setMedioPago-'+_0x3a1bf4,'class':'hidden','events':{'change':_0x4b7d36=>handlePaymentMethodChange(_0x4b7d36,_0x3a1bf4)}},[createElement('option',{'value':'contado'},['Contado']),createElement(_0x26b0d0(0x512),{'value':_0x26b0d0(0x73a)},[_0x26b0d0(0x4ee)]),createElement('option',{'value':'mixto'},[_0x26b0d0(0x35d)])]),_0x1dab77=createElement(_0x26b0d0(0x6d4),{'class':_0x26b0d0(0x335),'id':_0x26b0d0(0x724)+_0x3a1bf4}),_0x32dcab=[{'value':_0x26b0d0(0x2cf),'text':_0x26b0d0(0x45e),'className':'payment-contado','imgSrc':_0x26b0d0(0x38e)},{'value':'credito','text':_0x26b0d0(0x4ee),'className':'payment-credito','imgSrc':_0x26b0d0(0x1f4)},{'value':_0x26b0d0(0x2d7),'text':_0x26b0d0(0x35d),'className':_0x26b0d0(0x2df),'imgSrc':_0x26b0d0(0x733)}];_0x32dcab[_0x26b0d0(0x1fa)](_0x366f85=>{const _0x31d360=_0x26b0d0,_0x3d5194=createElement('a',{'href':'#','class':'payment-option\x20'+_0x366f85[_0x31d360(0x3fc)]+'\x20payment-option-'+_0x3a1bf4,'events':{'click':_0x14d506=>{const _0x45b09f=_0x31d360;_0x14d506[_0x45b09f(0x73f)](),document[_0x45b09f(0x32b)](_0x45b09f(0x4b8)+_0x3a1bf4)[_0x45b09f(0x4be)]=_0x366f85[_0x45b09f(0x4be)],triggerChangeEventById('setMedioPago-'+_0x3a1bf4),updateActivePaymentOption(_0x3a1bf4,_0x366f85[_0x45b09f(0x3fc)]);}}},[createElement(_0x31d360(0x6d4),{},[_0x366f85[_0x31d360(0x654)]]),createElement(_0x31d360(0x717),{'src':_0x366f85[_0x31d360(0x707)],'alt':_0x366f85['text'],'class':'payment-icon'})]);_0x1dab77[_0x31d360(0x2a1)](_0x3d5194);});const _0x4a5dbe=createElement(_0x26b0d0(0x6d4),{'id':_0x26b0d0(0x24a)+_0x3a1bf4}),_0x10134e=createElement(_0x26b0d0(0x6d4),{'id':_0x26b0d0(0x642)+_0x3a1bf4});_0x208b85[_0x26b0d0(0x2a1)](_0xeeb1bb),_0x208b85['appendChild'](_0x1dab77),_0x208b85[_0x26b0d0(0x2a1)](_0x4a5dbe),_0x208b85[_0x26b0d0(0x2a1)](_0x10134e);const _0x1fe28a=document[_0x26b0d0(0x32b)](_0x26b0d0(0x568)+_0x3a1bf4);if(!_0x1fe28a){console[_0x26b0d0(0x769)](_0x26b0d0(0x49c));return;}_0x1fe28a[_0x26b0d0(0x756)](_0x1fe28a[_0x26b0d0(0x426)](!![]));const _0xca67c=document[_0x26b0d0(0x32b)](_0x26b0d0(0x568)+_0x3a1bf4);_0xca67c[_0x26b0d0(0x26b)](_0x26b0d0(0x3a7),()=>hideModalOptions());let _0x10af11=_0x3043df['options'][_0x3043df['selectedIndex']][_0x26b0d0(0x4be)],_0x42eea0=null;for(const _0x3ad864 of setTipOpeSales){const _0x4cd3c4=Array[_0x26b0d0(0x6a2)](_0x3043df[_0x26b0d0(0x3c2)])[_0x26b0d0(0x3f2)](_0x5cc1d0=>_0x5cc1d0[_0x26b0d0(0x4be)]==_0x3ad864);if(_0x4cd3c4){_0x42eea0=_0x3ad864;break;}}_0x42eea0!==null&&(_0x10af11=_0x42eea0);const _0x469384=getUserPermissionApiERP(0x9);parseInt(_0x469384)>0x0&&(_0x10af11=_0x469384);const _0x1057aa=window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x3b3)]?window_options[_0x3a1bf4][_0x26b0d0(0x3b3)]:_0x10af11;let _0x26403e=0x0;if(setTipOpeOrders[_0x26b0d0(0x3f2)](_0x434086=>_0x434086==_0x1057aa))_0x26403e=0x1;else{if(setTipOpeSales[_0x26b0d0(0x3f2)](_0xbd26ba=>_0xbd26ba==_0x1057aa))_0x26403e=0x2;else{if(setTipOpePurchases['some'](_0x50c4f2=>_0x50c4f2==_0x1057aa))_0x26403e=0x3;else setTipOpeQuotation[_0x26b0d0(0x3f2)](_0x4d2cc0=>_0x4d2cc0==_0x1057aa)&&(_0x26403e=0x4);}}const _0x554c03=myCompany[_0x26b0d0(0x64b)][_0x26b0d0(0x2b5)](_0x2b78a9=>_0x2b78a9[_0x26b0d0(0x6ad)]==_0x26403e)?.[_0x26b0d0(0x5df)]??'',_0x1935d3=myCompany[_0x26b0d0(0x1f8)]&&myCompany['setCollaborators'][_0x26b0d0(0x2b5)](_0x4d07d6=>_0x4d07d6[_0x26b0d0(0x30d)]==myCompany[_0x26b0d0(0x630)][_0x26b0d0(0x70e)]),_0x8c18ed=_0x1935d3?_0x1935d3['setCollaboratorId']:_0x2a2870['options'][_0x2a2870[_0x26b0d0(0x4cc)]][_0x26b0d0(0x4be)],_0xff9caa=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x1057aa,window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x76c)]?window_options[_0x3a1bf4][_0x26b0d0(0x76c)]:_0x8c18ed,window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x62a)]?window_options[_0x3a1bf4][_0x26b0d0(0x62a)]:_0x561109[_0x26b0d0(0x3c2)][_0x561109[_0x26b0d0(0x4cc)]][_0x26b0d0(0x4be)],window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x396)]?window_options[_0x3a1bf4]['setTipoOperacionInvoice']:_0x2238b7['options'][_0x2238b7[_0x26b0d0(0x4cc)]][_0x26b0d0(0x4be)],window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x72f)]?window_options[_0x3a1bf4]['setFechaHora']:_0xff9caa,window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x76e)]?window_options[_0x3a1bf4][_0x26b0d0(0x76e)]:_0x554c03,window_options[_0x3a1bf4]&&window_options[_0x3a1bf4]['setMoneda']?window_options[_0x3a1bf4][_0x26b0d0(0x44e)]:myCompany['setCurrencyDefault'],window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x461)]?window_options[_0x3a1bf4][_0x26b0d0(0x461)]:_0x2e2206['options'][_0x2e2206['selectedIndex']][_0x26b0d0(0x4be)],window_options[_0x3a1bf4]&&window_options[_0x3a1bf4][_0x26b0d0(0x230)]?window_options[_0x3a1bf4]['setAttachEdit']:_0x515f7c[_0x26b0d0(0x3c2)][_0x515f7c['selectedIndex']]['value'],_0x3a1bf4),await switchTab(_0x3f417c);}async function loadAndSaveOptionsWindow(_0x2e1f8d,_0x54ec5f,_0x422c7d,_0x3de191,_0x3df975,_0x22f954,_0x629565,_0x11e095,_0x3e77d4,_0xe2a455){const _0x18366d=_0x10508b,_0x51ea94=document[_0x18366d(0x32b)]('setTipoOperacion-'+_0xe2a455);_0x51ea94[_0x18366d(0x4be)]=_0x2e1f8d,window_options[_0xe2a455][_0x18366d(0x3b3)]=_0x2e1f8d;const _0x5ce84d=document['getElementById'](_0x18366d(0x74d)+_0xe2a455);_0x5ce84d[_0x18366d(0x4be)]=_0x54ec5f;const _0x4f737c=document[_0x18366d(0x32b)]('setVendedorCodigo-'+_0xe2a455),_0x50c78a=_0x4f737c[_0x18366d(0x3c2)][_0x4f737c['selectedIndex']]['text'];window_options[_0xe2a455][_0x18366d(0x76c)]=_0x54ec5f,window_options[_0xe2a455][_0x18366d(0x27d)]=_0x50c78a;const _0x29f45e=document[_0x18366d(0x32b)]('setDespacho-'+_0xe2a455);_0x29f45e[_0x18366d(0x4be)]=_0x422c7d,window_options[_0xe2a455][_0x18366d(0x62a)]=_0x422c7d;const _0x14fbe1=document[_0x18366d(0x32b)](_0x18366d(0x210)+_0xe2a455);_0x14fbe1[_0x18366d(0x4be)]=_0x3de191,window_options[_0xe2a455][_0x18366d(0x396)]=_0x3de191;const _0x3d5af9=document[_0x18366d(0x32b)](_0x18366d(0x4c2)+_0xe2a455);_0x3d5af9[_0x18366d(0x4be)]=_0x3df975,window_options[_0xe2a455]['setFechaHora']=_0x3df975;const _0x283e2f=document[_0x18366d(0x32b)](_0x18366d(0x3dc)+_0xe2a455);_0x283e2f[_0x18366d(0x4be)]=_0x22f954,window_options[_0xe2a455][_0x18366d(0x76e)]=_0x22f954;const _0x163cd3=document[_0x18366d(0x32b)]('setMoneda-'+_0xe2a455);_0x163cd3['value']=_0x629565,window_options[_0xe2a455][_0x18366d(0x44e)]=_0x629565;const _0x5bbf74=document['getElementById']('setClienteTipoDoc-'+_0xe2a455);_0x5bbf74[_0x18366d(0x4be)]=_0x11e095,window_options[_0xe2a455][_0x18366d(0x461)]=_0x11e095;const _0x396711=document[_0x18366d(0x32b)]('setAttachEdit-'+_0xe2a455);_0x396711[_0x18366d(0x4be)]=_0x3e77d4,window_options[_0xe2a455][_0x18366d(0x230)]=_0x3e77d4,await updateSerieOptions(_0x2e1f8d,_0xe2a455);}async function updateSerieAndRenderCart(_0xee53a2,_0x21914e){const _0xd8fa9f=_0x10508b;_0xee53a2==0x4&&(window_options[_0x21914e][_0xd8fa9f(0x461)]=_0xd8fa9f(0x635)),await updateSerieOptions(_0xee53a2,_0x21914e),renderCart(_0x21914e),renderProducts();}async function updateSerieOptions(_0xc3dab5,_0x5c6f12){return new Promise((_0x42f8eb,_0xe6f509)=>{const _0x24d040=_0xcdf0;window_options[_0x5c6f12]['setTipoOperacion']=_0xc3dab5;let _0x43a750=document[_0x24d040(0x32b)](_0x24d040(0x406)+_0x5c6f12);const _0x1c4bcc=document['getElementById'](_0x24d040(0x6b8)+_0x5c6f12),_0x5bacc1=document[_0x24d040(0x32b)](_0x24d040(0x551)+_0x5c6f12);if(!_0x43a750||!_0x1c4bcc||!_0x5bacc1)return console['error'](_0x24d040(0x34d)),_0xe6f509('Error\x20Inputs');_0x1c4bcc[_0x24d040(0x4be)]='';let _0x41385f;if(setTipOpeOrders['some'](_0x5641e9=>_0x5641e9==_0xc3dab5)||setTipOpeSales[_0x24d040(0x3f2)](_0x1c1520=>_0x1c1520==_0xc3dab5)||setTipOpeQuotation['some'](_0x404951=>_0x404951==_0xc3dab5))_0x41385f=document[_0x24d040(0x2bb)](_0x24d040(0x775)),_0x41385f['id']=_0x43a750['id'],_0x41385f[_0x24d040(0x3fc)]='custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie',_0x5bacc1[_0x24d040(0x4ba)]=_0x24d040(0x1f6);else{if(setTipOpePurchases[_0x24d040(0x3f2)](_0x3f248d=>_0x3f248d==_0xc3dab5))_0x41385f=document[_0x24d040(0x2bb)](_0x24d040(0x2a6)),_0x41385f[_0x24d040(0x226)]=_0x24d040(0x654),_0x41385f[_0x24d040(0x4ba)]=_0x24d040(0x6ed),_0x41385f['id']=_0x43a750['id'],_0x41385f['className']='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie',_0x5bacc1[_0x24d040(0x4ba)]=_0x24d040(0x700);else return console[_0x24d040(0x769)](_0x24d040(0x346)),_0xe6f509(_0x24d040(0x346));}_0x43a750[_0x24d040(0x23c)][_0x24d040(0x67f)](_0x41385f,_0x43a750),_0x43a750=document[_0x24d040(0x32b)](_0x24d040(0x406)+_0x5c6f12),_0x43a750[_0x24d040(0x26b)](_0x24d040(0x39b),function(_0x28422b){const _0xd1bde0=_0x24d040;updateCorrelativoOnSerieChange(_0x28422b[_0xd1bde0(0x657)][_0xd1bde0(0x4be)],_0x5c6f12);});setTipOpeExo[_0x24d040(0x3f2)](_0x13e354=>_0x13e354==_0xc3dab5)?(document[_0x24d040(0x32b)](_0x24d040(0x6f7)+_0x5c6f12)['classList']['add']('d-none'),document['getElementById']('div-totals-right-TotalIgv-'+_0x5c6f12)[_0x24d040(0x63f)][_0x24d040(0x5d9)](_0x24d040(0x547)),document[_0x24d040(0x32b)]('div-totals-right-TotalIgvGratuitas-'+_0x5c6f12)['classList'][_0x24d040(0x5d9)](_0x24d040(0x547))):(document[_0x24d040(0x32b)](_0x24d040(0x6f7)+_0x5c6f12)['classList']['remove'](_0x24d040(0x547)),document[_0x24d040(0x32b)](_0x24d040(0x794)+_0x5c6f12)[_0x24d040(0x63f)][_0x24d040(0x625)]('d-none'),document[_0x24d040(0x32b)](_0x24d040(0x698)+_0x5c6f12)[_0x24d040(0x63f)][_0x24d040(0x625)](_0x24d040(0x547)));changeLabelBtn(_0x5c6f12,_0xc3dab5);if(setTipOpeOrders[_0x24d040(0x3f2)](_0x4aa8db=>_0x4aa8db==_0xc3dab5)||setTipOpeSales[_0x24d040(0x3f2)](_0x211cd4=>_0x211cd4==_0xc3dab5)||setTipOpeQuotation[_0x24d040(0x3f2)](_0x907c09=>_0x907c09==_0xc3dab5)){const _0x4055e7=document[_0x24d040(0x32b)](_0x24d040(0x620))[_0x24d040(0x4be)],_0x26b880=getUserPermissionApiERP(0x5);let _0x19da4c;if(_0x26b880==0x1){const _0x49c3d4=getLoggedUserSeries();_0x19da4c=_0x49c3d4['filter'](_0x4b10ca=>_0x4b10ca[_0x24d040(0x288)]==_0xc3dab5&&String(_0x4b10ca[_0x24d040(0x620)])==_0x4055e7);}else _0x19da4c=myCompany[_0x24d040(0x3d3)][_0x24d040(0x46d)](_0x596f4c=>_0x596f4c[_0x24d040(0x622)]==_0xc3dab5&&String(_0x596f4c[_0x24d040(0x63d)])==_0x4055e7);_0x19da4c['forEach'](_0x4d1256=>{const _0x3d063f=_0x24d040;_0x26b880==0x1?_0x43a750['appendChild'](createElement(_0x3d063f(0x512),{'value':_0x4d1256[_0x3d063f(0x3c0)]},[_0x4d1256[_0x3d063f(0x3c0)]])):_0x43a750['appendChild'](createElement('option',{'value':_0x4d1256[_0x3d063f(0x2e5)]},[_0x4d1256[_0x3d063f(0x2e5)]]));});let _0x34ad61='';_0x19da4c[_0x24d040(0x4e9)]&&(_0x26b880==0x1?_0x34ad61=_0x19da4c[0x0]['setSeriesNumber']:_0x34ad61=_0x19da4c[0x0]['setSerie'],_0x43a750['value']=_0x34ad61),setTimeout(()=>{const _0x30fa0e=_0x24d040;updateCorrelativoOnSerieChange(_0x34ad61,_0x5c6f12)[_0x30fa0e(0x3ea)](()=>_0x42f8eb())[_0x30fa0e(0x209)](_0x47b054=>_0xe6f509(_0x47b054));},0x0);}else window_options[_0x5c6f12][_0x24d040(0x2e5)]='',window_options[_0x5c6f12][_0x24d040(0x352)]='',setTimeout(()=>{const _0x3c1d75=_0x24d040;saveWindowOptionsDB(_0x5c6f12)[_0x3c1d75(0x3ea)](()=>_0x42f8eb())[_0x3c1d75(0x209)](_0x13d576=>{const _0x408735=_0x3c1d75;console['error'](_0x408735(0x556),_0x13d576),_0xe6f509(_0x13d576);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x5c0842,_0x5b133e){const _0x2982e9=_0x10508b,_0x4146c1=document['getElementById'](_0x2982e9(0x6b8)+_0x5b133e);if(!_0x4146c1)throw new Error(_0x2982e9(0x7b0)+_0x5b133e);window_options[_0x5b133e][_0x2982e9(0x2e5)]=_0x5c0842;const _0x26f338=window_options[_0x5b133e]['setTipoOperacion'];window_options[_0x5b133e][_0x2982e9(0x352)]='';if(setTipOpeOrders[_0x2982e9(0x3f2)](_0x58c270=>_0x58c270==_0x26f338)||setTipOpeSales['some'](_0x37d7fb=>_0x37d7fb==_0x26f338)||setTipOpeQuotation[_0x2982e9(0x3f2)](_0x1385e5=>_0x1385e5==_0x26f338)){const _0x282d93=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x447b66,_0x4848c3;if(_0x282d93==0x1){const _0x422f79=getLoggedUserSeries();_0x447b66=_0x422f79[_0x2982e9(0x2b5)](_0x4e825f=>_0x4e825f[_0x2982e9(0x3c0)]==_0x5c0842),_0x4848c3=_0x447b66?.['setSeriesCorrelativeInitial']??0x1;}else _0x447b66=myCompany[_0x2982e9(0x3d3)][_0x2982e9(0x2b5)](_0x1f0443=>_0x1f0443[_0x2982e9(0x2e5)]==_0x5c0842),_0x4848c3=_0x447b66?.[_0x2982e9(0x62d)]??0x1;_0x4146c1[_0x2982e9(0x4be)]=_0x4848c3,window_options[_0x5b133e][_0x2982e9(0x352)]=_0x4848c3;}try{await saveWindowOptionsDB(_0x5b133e);}catch(_0x263776){console[_0x2982e9(0x769)](_0x2982e9(0x556),_0x263776);throw _0x263776;}}function updateActivePaymentOption(_0x29b35b,_0x2d4c77){const _0x365b3c=_0x10508b;document[_0x365b3c(0x333)]('.payment-option-'+_0x29b35b)[_0x365b3c(0x1fa)](_0x542262=>_0x542262['classList'][_0x365b3c(0x625)](_0x365b3c(0x282))),document['querySelector']('.'+_0x2d4c77+_0x365b3c(0x63e)+_0x29b35b)?.[_0x365b3c(0x63f)]['add'](_0x365b3c(0x282));}function triggerChangeEventById(_0x5b4aa8){const _0x2cd8d2=_0x10508b,_0xebfb77=document[_0x2cd8d2(0x32b)](_0x5b4aa8);if(!_0xebfb77){console[_0x2cd8d2(0x769)](_0x2cd8d2(0x290)+_0x5b4aa8);return;}const _0x51147e=new Event('change',{'bubbles':!![],'cancelable':!![]});_0xebfb77[_0x2cd8d2(0x22e)](_0x51147e);}async function updateChangeMoneda(_0x53e2ec,_0x309240,_0x47e89d){await updateWindowOption(_0x53e2ec,_0x309240,_0x47e89d),renderCart(_0x53e2ec),renderProducts();}function getCurrencySymbol(_0x56d7ff){const _0x4cabeb=_0x10508b,_0x27bf84=document['getElementById'](_0x4cabeb(0x35e)+_0x56d7ff)['value'],_0xddcd20=myCompany['setMonedas'][_0x4cabeb(0x2b5)](_0x4c3af1=>_0x4c3af1[_0x4cabeb(0x786)]==_0x27bf84);return _0xddcd20?_0xddcd20[_0x4cabeb(0x5cd)]:'';}function changeLabelBtn(_0x29e4c9,_0x9a1980){const _0x52e8af=_0x10508b;let _0x363acf='';const _0x2a9496=document[_0x52e8af(0x32b)](_0x52e8af(0x55c)+_0x29e4c9);if(setTipOpeOrders['some'](_0x5f408d=>_0x5f408d==_0x9a1980))_0x363acf=_0x52e8af(0x44c);else{if(setTipOpeSales[_0x52e8af(0x3f2)](_0x346b9=>_0x346b9==_0x9a1980))_0x363acf=_0x52e8af(0x691);else{if(setTipOpePurchases['some'](_0x8e0079=>_0x8e0079==_0x9a1980))_0x363acf='GUARDAR';else setTipOpeQuotation[_0x52e8af(0x3f2)](_0x39082d=>_0x39082d==_0x9a1980)&&(_0x363acf=_0x52e8af(0x712));}}_0x2a9496[_0x52e8af(0x258)]=_0x363acf;}function setDivTotalPay(_0xedc0de){const _0x3184c7=_0x10508b,_0x4606b2=document[_0x3184c7(0x32b)]('div-total-pay-'+_0xedc0de);_0x4606b2[_0x3184c7(0x258)]='';const _0x30dcde=document['getElementById'](_0x3184c7(0x469)+_0xedc0de)[_0x3184c7(0x511)],_0x93357f=createElement(_0x3184c7(0x340),{'class':_0x3184c7(0x487),'style':_0x3184c7(0x420),'innerHTML':_0x3184c7(0x549)+_0x30dcde+'</span>'}),_0x21bf1d=createElement('div',{'class':_0x3184c7(0x31e)},[_0x93357f]);_0x4606b2[_0x3184c7(0x2a1)](_0x21bf1d);}function handlePaymentMethodChange(_0xd486b1,_0x62042){const _0x2e1486=_0x10508b,_0x2c8cac=document['getElementById'](_0x2e1486(0x642)+_0x62042);_0x2c8cac[_0x2e1486(0x258)]='';const _0x379fd5=_0xd486b1[_0x2e1486(0x657)][_0x2e1486(0x4be)];!medio_pago[_0x62042]&&(medio_pago[_0x62042]={});if(_0x379fd5=='contado')_0x2c8cac[_0x2e1486(0x2a1)](createContadoForm(_0x62042)),medio_pago[_0x62042]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x379fd5=='credito')_0x2c8cac['appendChild'](createCreditoForm(_0x62042)),medio_pago[_0x62042]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x379fd5=='mixto'&&(_0x2c8cac[_0x2e1486(0x2a1)](createMixtoForm(_0x62042)),medio_pago[_0x62042]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x1d8d80=createElement(_0x2e1486(0x6d4),{'id':_0x2e1486(0x605)+_0x62042},[]);_0x2c8cac[_0x2e1486(0x2a1)](_0x1d8d80);const _0x48eeff=createElement('button',{'id':_0x2e1486(0x2a9)+_0x62042,'class':'btnSaveOperacion\x20custom-input-btn-background\x20form-control','type':_0x2e1486(0x7ad),'events':{'click':()=>saveOperation(_0x62042)}},[_0x2e1486(0x351)]);_0x2c8cac[_0x2e1486(0x2a1)](_0x48eeff);}function createContadoForm(_0x1ca5e6){const _0xb08e78=_0x10508b,_0x44b38b=createElement(_0xb08e78(0x6d4),{},[]),_0xfa9331=getTotalFromFloatRight(_0x1ca5e6),_0x76215a=myCompany[_0xb08e78(0x1e8)],_0x1d9169={},_0x4f68bb={};_0x76215a[_0xb08e78(0x1fa)]((_0x1bc9da,_0xf2e27)=>{const _0x499095=_0xb08e78,_0x21096b=_0x499095(0x279)+_0x1bc9da[_0x499095(0x6d9)]+'-'+_0x1ca5e6+'-'+_0xf2e27,_0x58c8cc=createElement('div',{'class':_0x499095(0x3b2)},[]),_0x1754d8=createElement(_0x499095(0x6d4),{'class':_0x499095(0x3b2)},[]),_0x454e56=createElement('label',{'for':_0x21096b,'class':_0x499095(0x22c)},['\x20'+_0x1bc9da['setPaymentName']+':']),_0x5766eb=createElement('input',{'type':_0x499095(0x61d),'id':_0x21096b,'placeholder':_0x499095(0x4c3),'class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','value':_0x1bc9da[_0x499095(0x6d9)]==_0x499095(0x207)||_0x1bc9da['setPaymentCode']==_0x499095(0x415)?_0xfa9331:'','events':{'input':_0x568bd3=>handleContadoInput(_0x568bd3,_0x1ca5e6)}});_0x5766eb[_0x499095(0x1fb)][_0x499095(0x3ff)]=_0x1bc9da[_0x499095(0x6d9)];const _0x25aa5d=createElement(_0x499095(0x775),{'class':'custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','events':{'change':_0x326564=>handleContadoInput(_0x326564,_0x1ca5e6)}},[]),_0x566857=myCompany['setBankAccounts'],_0x2775b0=_0x566857[_0x499095(0x46d)](_0x25a774=>_0x1bc9da[_0x499095(0x6d9)]=='efectivo'||_0x1bc9da[_0x499095(0x6d9)]==_0x499095(0x415)?setBankTypeCashRegister['some'](_0xb1c790=>_0xb1c790==_0x25a774[_0x499095(0x47c)]):!setBankTypeCashRegister[_0x499095(0x3f2)](_0x386334=>_0x386334==_0x25a774[_0x499095(0x47c)]));_0x2775b0[_0x499095(0x1fa)](_0x16f7ac=>{const _0x488bae=_0x499095,_0x5443ba=createElement(_0x488bae(0x512),{'value':_0x16f7ac[_0x488bae(0x6ca)]},[_0x16f7ac['setBankName']]);_0x25aa5d[_0x488bae(0x2a1)](_0x5443ba);}),_0x25aa5d[_0x499095(0x1fb)][_0x499095(0x3ff)]=_0x1bc9da[_0x499095(0x6d9)];let _0x16ac56=null;_0x1bc9da['setPaymentCode']==_0x499095(0x207)||_0x1bc9da[_0x499095(0x6d9)]=='cash'?_0x16ac56=createElement(_0x499095(0x6d4),{'class':'div-width-15'},[]):_0x16ac56=createElement(_0x499095(0x2a6),{'type':_0x499095(0x654),'placeholder':_0x499095(0x2d9),'class':_0x499095(0x6b9),'events':{'input':_0x25b71d=>handleContadoInput(_0x25b71d,_0x1ca5e6)}});_0x16ac56[_0x499095(0x1fb)][_0x499095(0x3ff)]=_0x1bc9da['setPaymentCode'];let _0x51d45d=null,_0x5d2f3a=null,_0x663dd5=createElement(_0x499095(0x6d4),{'class':_0x499095(0x24d)},[]),_0x53ec6d=createElement(_0x499095(0x6d4),{'class':_0x499095(0x5f1)},[]);_0x1bc9da[_0x499095(0x573)]=='1'?(_0x51d45d=createElement(_0x499095(0x2a6),{'type':'number','placeholder':_0x499095(0x7a8),'class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision'}),_0x51d45d[_0x499095(0x1fb)]['method']=_0x1bc9da['setPaymentCode'],_0x5d2f3a=createElement(_0x499095(0x2a6),{'type':_0x499095(0x61d),'placeholder':_0x499095(0x3e9),'class':'custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','readonly':!![]}),_0x5d2f3a[_0x499095(0x1fb)][_0x499095(0x3ff)]=_0x1bc9da[_0x499095(0x6d9)],_0x51d45d[_0x499095(0x26b)](_0x499095(0x2a6),_0x2c900a=>{const _0x51b933=_0x499095,_0x2779b0=parseFloat(_0x51d45d[_0x51b933(0x4be)])||0x0,_0x441c6f=parseFloat(_0x5766eb['value'])||0x0;_0x5d2f3a[_0x51b933(0x4be)]=(_0x2779b0/0x64*_0x441c6f)['toFixed'](0x2),handleContadoInput(_0x2c900a,_0x1ca5e6);})):(_0x51d45d=createElement(_0x499095(0x6d4),{'class':_0x499095(0x24d)},[]),_0x5d2f3a=createElement(_0x499095(0x6d4),{'class':'div-width-15'},[]));let _0x279676='';_0x1bc9da[_0x499095(0x6d9)]==_0x499095(0x207)||_0x1bc9da[_0x499095(0x6d9)]==_0x499095(0x415)?_0x279676='':_0x279676=_0x499095(0x547);const _0x51c7c2=createElement(_0x499095(0x6d4),{'class':_0x499095(0x4a9)+_0x279676},[_0x58c8cc,_0x454e56,_0x5766eb,_0x25aa5d,_0x16ac56,_0x1754d8]);_0x44b38b[_0x499095(0x2a1)](_0x51c7c2),_0x1d9169[_0x1bc9da[_0x499095(0x6d9)]]=_0x51c7c2;if(_0x1bc9da[_0x499095(0x573)]=='1'){const _0x12f703=createElement(_0x499095(0x6d4),{'class':_0x499095(0x3b2)},[]),_0x9c2084=createElement(_0x499095(0x6d4),{'class':'div-width-10\x20div_margen'},[]),_0x5485d5=createElement(_0x499095(0x6d4),{'class':_0x499095(0x4a9)+_0x279676},[_0x12f703,_0x663dd5,_0x51d45d,_0x5d2f3a,_0x53ec6d,_0x9c2084]);_0x44b38b[_0x499095(0x2a1)](_0x5485d5),_0x4f68bb[_0x1bc9da['setPaymentCode']]=_0x5485d5;}(_0x1bc9da['setPaymentCode']==_0x499095(0x207)||_0x1bc9da['setPaymentCode']==_0x499095(0x415))&&setTimeout(()=>{const _0x40c31b=_0x499095;_0x5766eb['dispatchEvent'](new Event(_0x40c31b(0x2a6),{'bubbles':!![]}));});});const _0x333e7e=createElement(_0xb08e78(0x6d4),{'class':_0xb08e78(0x3b2)},[]),_0x43c112=createElement(_0xb08e78(0x775),{'class':_0xb08e78(0x234),'events':{'change':_0x18b6d9=>{const _0x324239=_0xb08e78,_0x29ab10=_0x18b6d9[_0x324239(0x657)][_0x324239(0x4be)];if(_0x29ab10){const _0x33d0e1=getTotalFromFloatRight(_0x1ca5e6);Object['entries'](_0x1d9169)[_0x324239(0x1fa)](([_0x1bbc23,_0x8c67ce])=>{const _0x38ce7c=_0x324239,_0x5124b0=_0x8c67ce[_0x38ce7c(0x453)](_0x38ce7c(0x5e7)),_0x34bc31=_0x4f68bb[_0x1bbc23];if(_0x1bbc23===_0x29ab10){_0x8c67ce[_0x38ce7c(0x63f)][_0x38ce7c(0x625)](_0x38ce7c(0x547));if(_0x34bc31)_0x34bc31[_0x38ce7c(0x63f)]['remove'](_0x38ce7c(0x547));_0x5124b0['value']=_0x33d0e1[_0x38ce7c(0x718)](0x2),_0x5124b0[_0x38ce7c(0x22e)](new Event(_0x38ce7c(0x2a6),{'bubbles':!![]})),_0x5124b0[_0x38ce7c(0x3ef)]();}else{_0x5124b0&&(_0x5124b0[_0x38ce7c(0x4be)]='',_0x5124b0['dispatchEvent'](new Event(_0x38ce7c(0x2a6),{'bubbles':!![]})));if(_0x34bc31){const _0x3e5401=_0x34bc31[_0x38ce7c(0x453)](_0x38ce7c(0x750)),_0x13b90e=_0x34bc31[_0x38ce7c(0x453)]('.input-array-totalcomision');if(_0x3e5401)_0x3e5401[_0x38ce7c(0x4be)]='';if(_0x13b90e)_0x13b90e[_0x38ce7c(0x4be)]='';}}});}_0x18b6d9[_0x324239(0x657)][_0x324239(0x4be)]='';}}},[]),_0x587799=createElement(_0xb08e78(0x512),{'value':''},[_0xb08e78(0x716)]);_0x43c112[_0xb08e78(0x2a1)](_0x587799),_0x76215a[_0xb08e78(0x1fa)](_0x4cca2f=>{const _0x3e9fb1=_0xb08e78;if(!(_0x4cca2f[_0x3e9fb1(0x6d9)]=='efectivo'||_0x4cca2f[_0x3e9fb1(0x6d9)]==_0x3e9fb1(0x415))){const _0x4681ad=createElement('option',{'value':_0x4cca2f['setPaymentCode']},[_0x4cca2f[_0x3e9fb1(0x298)]]);_0x43c112[_0x3e9fb1(0x2a1)](_0x4681ad);}});const _0x3ba193=createElement(_0xb08e78(0x6d4),{'class':'d-flex\x20mb-3'},[_0x333e7e,_0x43c112]);return _0x44b38b[_0xb08e78(0x2a1)](_0x3ba193),_0x44b38b;}function handleContadoInput(_0x4ad4f0,_0x4d150d){const _0x4f3a10=_0x10508b,_0xa61455=getTotalFromFloatRight(_0x4d150d),_0x352b81=Array[_0x4f3a10(0x6a2)](document[_0x4f3a10(0x333)]('#pay-container-'+_0x4d150d+_0x4f3a10(0x4b4))),_0x2ce140=_0x352b81[_0x4f3a10(0x710)]((_0x1196c5,_0x3be208)=>_0x1196c5+parseFloat(_0x3be208['value']||0x0),0x0),_0xacf948={};_0x352b81[_0x4f3a10(0x1fa)](_0x49f42c=>{const _0x52001d=_0x4f3a10,_0x5e60fa=_0x49f42c['dataset'][_0x52001d(0x3ff)]['toLowerCase']();_0xacf948[_0x5e60fa]=parseFloat(_0x49f42c['value'])||0x0;});const _0x311749={..._0xacf948};if(_0x2ce140>_0xa61455){const _0x349f29=_0x2ce140-_0xa61455,_0x1f88f7=_0x352b81[_0x4f3a10(0x2b5)](_0x278548=>[_0x4f3a10(0x207),'cash'][_0x4f3a10(0x2dd)](_0x278548[_0x4f3a10(0x1fb)][_0x4f3a10(0x3ff)][_0x4f3a10(0x6e4)]()));if(_0x1f88f7){const _0x5a1cad=_0x1f88f7[_0x4f3a10(0x1fb)][_0x4f3a10(0x3ff)][_0x4f3a10(0x6e4)]();_0x311749[_0x5a1cad]=Math[_0x4f3a10(0x4a0)](0x0,_0x311749[_0x5a1cad]-_0x349f29);}else{const _0x57efba=Object['keys'](_0x311749)[0x0];_0x311749[_0x57efba]=Math[_0x4f3a10(0x4a0)](0x0,_0x311749[_0x57efba]-_0x349f29);}}if(medio_pago[_0x4d150d][_0x4f3a10(0x2d7)][_0x4f3a10(0x7c7)]&&_0x2ce140>=_0xa61455){_0x4ad4f0[_0x4f3a10(0x657)][_0x4f3a10(0x4be)]='',_0x4ad4f0[_0x4f3a10(0x657)][_0x4f3a10(0x22e)](new Event(_0x4f3a10(0x2a6),{'bubbles':!![]}));return;}const _0x277bde=_0xa61455-_0x2ce140,_0x102e2b=Math['abs'](Math[_0x4f3a10(0x4a4)](_0x277bde,0x0)),_0x2ba2a5=Math[_0x4f3a10(0x4a0)](_0x277bde,0x0),_0x24caa6={'total':_0xa61455,'debe':_0x2ba2a5,'vuelto':_0x102e2b};_0x352b81[_0x4f3a10(0x1fa)](_0xecdfc3=>{const _0x229a9d=_0x4f3a10,_0x533fb9=_0xecdfc3[_0x229a9d(0x1fb)]['method'][_0x229a9d(0x6e4)](),_0x2c4cc3=_0xacf948[_0x533fb9],_0x28d76a=_0x311749[_0x533fb9];_0x24caa6[_0x533fb9]={'monto_calc':_0x2c4cc3,'monto':_0x28d76a};});const _0x51369f=Array[_0x4f3a10(0x6a2)](document[_0x4f3a10(0x333)](_0x4f3a10(0x741)+_0x4d150d+'\x20select.select-array-bank'));_0x51369f['forEach'](_0x1c7269=>{const _0xa13d4f=_0x4f3a10,_0x400f58=_0x1c7269[_0xa13d4f(0x1fb)][_0xa13d4f(0x3ff)]['toLowerCase']();if(!_0x24caa6[_0x400f58])_0x24caa6[_0x400f58]={};_0x24caa6[_0x400f58][_0xa13d4f(0x440)]=_0x1c7269[_0xa13d4f(0x4be)];});const _0x48a3b6=Array['from'](document['querySelectorAll']('#pay-container-'+_0x4d150d+_0x4f3a10(0x683)));_0x48a3b6[_0x4f3a10(0x1fa)](_0x371b67=>{const _0x4987fe=_0x4f3a10,_0xb1d2db=_0x371b67['dataset'][_0x4987fe(0x3ff)]['toLowerCase']();if(!_0x24caa6[_0xb1d2db])_0x24caa6[_0xb1d2db]={};_0x24caa6[_0xb1d2db][_0x4987fe(0x350)]=_0x371b67[_0x4987fe(0x4be)];});const _0x4c2c4b=Array[_0x4f3a10(0x6a2)](document[_0x4f3a10(0x333)](_0x4f3a10(0x741)+_0x4d150d+_0x4f3a10(0x20b)));_0x4c2c4b[_0x4f3a10(0x1fa)](_0x2a62ef=>{const _0x1ae4ad=_0x4f3a10,_0x324ee5=_0x2a62ef[_0x1ae4ad(0x1fb)][_0x1ae4ad(0x3ff)][_0x1ae4ad(0x6e4)]();if(!_0x24caa6[_0x324ee5])_0x24caa6[_0x324ee5]={};_0x24caa6[_0x324ee5][_0x1ae4ad(0x33d)]=parseFloat(_0x2a62ef[_0x1ae4ad(0x4be)]||0x0);});const _0x19a3da=Array['from'](document[_0x4f3a10(0x333)](_0x4f3a10(0x741)+_0x4d150d+_0x4f3a10(0x7c5)));_0x19a3da[_0x4f3a10(0x1fa)](_0x1cf92e=>{const _0x1b6b2d=_0x4f3a10,_0x56940f=_0x1cf92e[_0x1b6b2d(0x1fb)][_0x1b6b2d(0x3ff)]['toLowerCase']();if(!_0x24caa6[_0x56940f])_0x24caa6[_0x56940f]={};_0x24caa6[_0x56940f]['total_comision']=parseFloat(_0x1cf92e[_0x1b6b2d(0x4be)]||0x0);}),medio_pago[_0x4d150d]['contado'][_0x4f3a10(0x548)]=_0x24caa6;const _0x4dbbf6=getCurrencySymbol(_0x4d150d);let _0x667961=document[_0x4f3a10(0x32b)](_0x4f3a10(0x6b2)+_0x4d150d);if(!_0x667961){_0x667961=createElement(_0x4f3a10(0x6d4),{'id':_0x4f3a10(0x6b2)+_0x4d150d,'class':_0x4f3a10(0x212)});const _0x53c99e=document['getElementById']('div-text-debe-vuelto-'+_0x4d150d);_0x53c99e[_0x4f3a10(0x2a1)](_0x667961);}_0x667961[_0x4f3a10(0x258)]=_0x277bde>0x0?_0x4f3a10(0x5b7)+_0x4dbbf6+'\x20'+_0x2ba2a5[_0x4f3a10(0x718)](0x2)+_0x4f3a10(0x2d2):'Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>'+_0x4dbbf6+'\x20'+_0x102e2b[_0x4f3a10(0x718)](0x2)+_0x4f3a10(0x2d2),_0x667961[_0x4f3a10(0x656)][_0x4f3a10(0x564)]=_0x4f3a10(0x45c),console['log'](_0x4f3a10(0x48f)+_0x4d150d+_0x4f3a10(0x416),medio_pago[_0x4d150d]);}function createCreditoForm(_0x3ae569){const _0x1754af=_0x10508b,_0x1d4fa6=createElement(_0x1754af(0x6d4),{},[]),_0xe5bb02=createElement('i',{'class':_0x1754af(0x60e)}),_0xace049=createElement(_0x1754af(0x340),{'for':_0x1754af(0x3ec)+_0x3ae569,'class':_0x1754af(0x22c)},[_0xe5bb02,_0x1754af(0x409)]),_0x44eb1b=createElement(_0x1754af(0x775),{'id':_0x1754af(0x3ec)+_0x3ae569,'class':_0x1754af(0x575),'events':{'change':_0x4f4143=>handleCuotasChange(_0x4f4143,_0x3ae569)}},[createElement(_0x1754af(0x512),{'value':'','disabled':!![],'selected':!![]},[_0x1754af(0x729)]),...Array[_0x1754af(0x6a2)]({'length':0x18},(_0x1f7deb,_0x820f35)=>createElement(_0x1754af(0x512),{'value':_0x820f35+0x1},[_0x820f35+0x1+_0x1754af(0x29b)+(_0x820f35>0x0?'s':'')]))]),_0xfd53e4=createElement(_0x1754af(0x6d4),{'class':_0x1754af(0x3b2)}),_0x47e996=createElement('div',{'class':'div-width-15\x20div_margen'}),_0x2473e9=createElement(_0x1754af(0x6d4),{'class':_0x1754af(0x31e)},[_0xfd53e4,_0xace049,_0x44eb1b,_0x47e996]);_0x1d4fa6[_0x1754af(0x2a1)](_0x2473e9);const _0x4a96a6=createElement(_0x1754af(0x6d4),{'id':_0x1754af(0x20d)+_0x3ae569});return _0x1d4fa6[_0x1754af(0x2a1)](_0x4a96a6),_0x1d4fa6;}function handleCuotasChange(_0x5c77f7,_0x48fcf0){const _0x26e77a=_0x10508b,_0x10d5fe=document[_0x26e77a(0x32b)](_0x26e77a(0x20d)+_0x48fcf0);_0x10d5fe[_0x26e77a(0x258)]='';const _0x5123ab=parseInt(_0x5c77f7['target'][_0x26e77a(0x4be)],0xa);medio_pago[_0x48fcf0]['credito'][_0x26e77a(0x548)]=[];const _0x1c5abb=parseFloat(getTotalFromFloatRight(_0x48fcf0));let _0xf9757a=_0x1c5abb;if(medio_pago[_0x48fcf0][_0x26e77a(0x2d7)][_0x26e77a(0x7c7)]){const _0x241515=Array[_0x26e77a(0x6a2)](document[_0x26e77a(0x333)](_0x26e77a(0x741)+_0x48fcf0+_0x26e77a(0x4b4))),_0x5d66c8=_0x241515['reduce']((_0x3b7f13,_0x3bdf10)=>_0x3b7f13+parseFloat(_0x3bdf10[_0x26e77a(0x4be)]||0x0),0x0);if(_0x5d66c8>=_0x1c5abb){_0x5c77f7['target'][_0x26e77a(0x4be)]='',_0x5c77f7[_0x26e77a(0x657)]['dispatchEvent'](new Event('input',{'bubbles':!![]}));return;}_0xf9757a=Math[_0x26e77a(0x4a0)](_0x1c5abb-_0x5d66c8,0x0);}let _0x457d76=Array(_0x5123ab)[_0x26e77a(0x387)]()[_0x26e77a(0x6cd)]((_0x4e4c52,_0x48682f)=>({'cuota':_0x48682f+0x1,'monto':parseFloat((_0xf9757a/_0x5123ab)[_0x26e77a(0x718)](0x2)),'fechaVencimiento':'','editado':![]}));function _0x14c178(){const _0x9e7df9=_0x26e77a;let _0x1274e2=_0x457d76[_0x9e7df9(0x710)]((_0x47d0c0,_0x1e5ef2)=>_0x47d0c0+_0x1e5ef2[_0x9e7df9(0x1e9)],0x0),_0x53c115=_0xf9757a-_0x1274e2,_0x310dcb=_0x457d76[_0x9e7df9(0x46d)](_0x16bf7a=>!_0x16bf7a[_0x9e7df9(0x714)]);if(_0x310dcb['length']==0x0)return;let _0x3efcfe=parseFloat((_0x53c115/_0x310dcb['length'])[_0x9e7df9(0x718)](0x2)),_0x3c89ca=_0x53c115-_0x3efcfe*_0x310dcb['length'];_0x310dcb[_0x9e7df9(0x1fa)]((_0x3b762d,_0x4273d8)=>{const _0x22ac3d=_0x9e7df9;_0x3b762d['monto']+=_0x3efcfe,_0x4273d8==_0x310dcb[_0x22ac3d(0x4e9)]-0x1&&(_0x3b762d[_0x22ac3d(0x1e9)]+=_0x3c89ca);}),_0x2716ca(),medio_pago[_0x48fcf0]['credito'][_0x9e7df9(0x548)]=_0x457d76[_0x9e7df9(0x6cd)](({cuota:_0x5f0d3d,monto:_0x16d617,fechaVencimiento:_0x48a0c7})=>({'cuota':_0x5f0d3d,'monto':_0x16d617,'fechaVencimiento':_0x48a0c7}));}function _0x2716ca(){const _0x2cedea=_0x26e77a,_0x553cd2=_0x10d5fe[_0x2cedea(0x333)](_0x2cedea(0x449));_0x553cd2[_0x2cedea(0x1fa)]((_0x40d449,_0x38ffe3)=>{const _0x3095fd=_0x2cedea;_0x40d449[_0x3095fd(0x4be)]=_0x457d76[_0x38ffe3][_0x3095fd(0x1e9)][_0x3095fd(0x718)](0x2);});}function _0x4f64a7(_0xe8d368,_0x11d570,_0x414b46){const _0x513bf1=_0x26e77a;if(_0x414b46=='monto'){let _0x469b28=parseFloat(_0x11d570)||0x0,_0x199322=_0x457d76[_0x513bf1(0x710)]((_0x20ada2,_0x14231e,_0x1ca9fc)=>{const _0x31048b=_0x513bf1;if(_0x1ca9fc!==_0xe8d368-0x1&&_0x14231e[_0x31048b(0x714)])return _0x20ada2+_0x14231e['monto'];return _0x20ada2;},0x0);const _0x2c2abb=parseFloat((_0xf9757a-_0x199322)['toFixed'](0x2));let _0x570b89=_0x457d76[_0x513bf1(0x46d)]((_0x2d62c3,_0x48bfdf)=>!_0x2d62c3[_0x513bf1(0x714)]&&_0x48bfdf!==_0xe8d368-0x1)[_0x513bf1(0x4e9)];if(_0x570b89==0x0&&_0x469b28!==_0x2c2abb)ntfShow(_0x513bf1(0x4c4)+_0x2c2abb+_0x513bf1(0x22f)),_0x469b28=_0x2c2abb;else _0x469b28>_0x2c2abb&&(ntfShow(_0x513bf1(0x5d8)+_0x2c2abb+'.'),_0x469b28=_0x2c2abb);_0x457d76[_0xe8d368-0x1][_0x513bf1(0x1e9)]=_0x469b28,_0x457d76[_0xe8d368-0x1]['editado']=!![];const _0xf4911e=_0x10d5fe[_0x513bf1(0x333)](_0x513bf1(0x449));_0xf4911e[_0xe8d368-0x1]&&(_0xf4911e[_0xe8d368-0x1]['value']=_0x469b28[_0x513bf1(0x718)](0x2)),_0x14c178();}else _0x414b46==_0x513bf1(0x241)&&(_0x457d76[_0xe8d368-0x1]['fechaVencimiento']=_0x11d570);medio_pago[_0x48fcf0]['credito']['data']=_0x457d76[_0x513bf1(0x6cd)](({cuota:_0x24d962,monto:_0x1fb966,fechaVencimiento:_0x597346})=>({'cuota':_0x24d962,'monto':_0x1fb966,'fechaVencimiento':_0x597346}));}for(let _0x3f657d=0x1;_0x3f657d<=_0x5123ab;_0x3f657d++){const _0x39af65=createElement(_0x26e77a(0x6d4),{'class':'div-width-10\x20div_margen'}),_0x33d7dd=createElement(_0x26e77a(0x340),{'class':_0x26e77a(0x22c),'style':_0x26e77a(0x484)},[_0x26e77a(0x338)+_0x3f657d+':\x20']),_0x299d2b=createElement('input',{'type':_0x26e77a(0x323),'class':_0x26e77a(0x28f),'events':{'change':_0x5e4ae7=>_0x4f64a7(_0x3f657d,_0x5e4ae7[_0x26e77a(0x657)]['value'],_0x26e77a(0x241))}}),_0x528609=createElement('input',{'type':_0x26e77a(0x61d),'class':_0x26e77a(0x28f),'placeholder':'Monto','value':_0x457d76[_0x3f657d-0x1][_0x26e77a(0x1e9)],'events':{'change':_0xe5bccc=>_0x4f64a7(_0x3f657d,_0xe5bccc['target']['value'],_0x26e77a(0x1e9))}}),_0x3ffc9c=createElement('div',{'class':_0x26e77a(0x37f)}),_0x28ba42=createElement(_0x26e77a(0x6d4),{'class':_0x26e77a(0x31e)},[_0x39af65,_0x33d7dd,_0x299d2b,_0x528609,_0x3ffc9c]);_0x10d5fe[_0x26e77a(0x2a1)](_0x28ba42);}}function updateMedioPagoCredito(_0x164356,_0x57294d,_0x4cc231,_0x5f0634,_0x11199a){const _0x3c2de0=_0x10508b;!medio_pago[_0x5f0634]['credito'][_0x3c2de0(0x548)][_0x57294d-0x1]&&(medio_pago[_0x5f0634]['credito'][_0x3c2de0(0x548)][_0x57294d-0x1]={'cuota':_0x57294d});if(_0x11199a=='fecha')medio_pago[_0x5f0634][_0x3c2de0(0x73a)][_0x3c2de0(0x548)][_0x57294d-0x1]['fechaVencimiento']=_0x4cc231;else _0x11199a==_0x3c2de0(0x1e9)&&(medio_pago[_0x5f0634][_0x3c2de0(0x73a)][_0x3c2de0(0x548)][_0x57294d-0x1]['monto']=_0x4cc231);console['log'](_0x3c2de0(0x6d0),medio_pago[_0x5f0634]);}function createMixtoForm(_0x428072){const _0x4e9978=_0x10508b,_0x3b537c=createElement(_0x4e9978(0x6d4),{},[]),_0x205a1e=createContadoForm(_0x428072);_0x3b537c[_0x4e9978(0x2a1)](_0x205a1e);const _0x4f662b=createCreditoForm(_0x428072);_0x3b537c[_0x4e9978(0x2a1)](_0x4f662b);let _0x13ca5c=document[_0x4e9978(0x32b)]('status-label-'+_0x428072);return!_0x13ca5c&&(_0x13ca5c=createElement(_0x4e9978(0x6d4),{'id':_0x4e9978(0x6b2)+_0x428072,'class':'label-debe-vuelto'}),_0x3b537c['appendChild'](_0x13ca5c)),_0x3b537c;}function getTotalFromFloatRight(_0x3553ae){const _0x5e7a85=_0x10508b,_0x5e0b84=document[_0x5e7a85(0x32b)]('float-right-'+_0x3553ae)['textContent'];return parseFloat(_0x5e0b84[_0x5e7a85(0x5b9)](/[S/$]/g,'')[_0x5e7a85(0x2b8)]());}function toggleTaxFields(_0x495c39,_0x4ab31a,_0x75bf6d){const _0x50c995=_0x10508b,_0x32ce39=_0x495c39['target'][_0x50c995(0x342)];if(_0x4ab31a==_0x50c995(0x6eb)){const _0x4ab03e=document['getElementById'](_0x50c995(0x6c6)+_0x75bf6d);_0x32ce39?(_0x4ab03e['classList'][_0x50c995(0x625)](_0x50c995(0x46c)),window_options[_0x75bf6d][_0x50c995(0x3a9)]='1'):(_0x4ab03e[_0x50c995(0x63f)][_0x50c995(0x5d9)](_0x50c995(0x46c)),_0x4ab03e[_0x50c995(0x4be)]='0',window_options[_0x75bf6d][_0x50c995(0x3a9)]='0',window_options[_0x75bf6d][_0x50c995(0x3c7)]='',window_options[_0x75bf6d][_0x50c995(0x742)]='0',window_options[_0x75bf6d][_0x50c995(0x6e3)]='0');}const _0x57dac7=document[_0x50c995(0x32b)](_0x4ab31a['toLowerCase']()+_0x50c995(0x72c)+_0x75bf6d),_0x1601d8=document['getElementById'](_0x4ab31a['toLowerCase']()+_0x50c995(0x400)+_0x75bf6d);_0x57dac7&&_0x1601d8&&(_0x32ce39?(_0x4ab31a==_0x50c995(0x75a)&&(window_options[_0x75bf6d][_0x50c995(0x56c)]='1'),_0x4ab31a=='Percepcion'&&(window_options[_0x75bf6d][_0x50c995(0x49f)]='1'),_0x57dac7[_0x50c995(0x63f)][_0x50c995(0x625)](_0x50c995(0x46c)),_0x1601d8['classList'][_0x50c995(0x625)]('hidden'),calculateTax(_0x4ab31a,_0x75bf6d)):(_0x4ab31a==_0x50c995(0x75a)&&(window_options[_0x75bf6d][_0x50c995(0x56c)]='0',window_options[_0x75bf6d]['setRetencionPorcentaje']='0',window_options[_0x75bf6d][_0x50c995(0x579)]='0'),_0x4ab31a==_0x50c995(0x7c0)&&(window_options[_0x75bf6d]['setPercepcion']='0',window_options[_0x75bf6d][_0x50c995(0x37d)]='0',window_options[_0x75bf6d]['setPercepcionTotal']='0'),saveWindowOptionsDB(_0x75bf6d),_0x57dac7['classList']['add'](_0x50c995(0x46c)),_0x1601d8[_0x50c995(0x63f)][_0x50c995(0x5d9)](_0x50c995(0x46c)),_0x57dac7[_0x50c995(0x4be)]=_0x4ab31a==_0x50c995(0x75a)?'3':_0x4ab31a=='Percepcion'?'2':'',_0x1601d8[_0x50c995(0x4be)]=''));}function calculateTax(_0x4a9d4e,_0x17dfbc){const _0x1b259f=_0x10508b,_0x5c808f=parseFloat(getTotalFromFloatRight(_0x17dfbc))||0x0,_0x16e6ab=document[_0x1b259f(0x32b)](_0x4a9d4e['toLowerCase']()+'Pct-'+_0x17dfbc),_0x2e57bf=document[_0x1b259f(0x32b)](_0x4a9d4e['toLowerCase']()+_0x1b259f(0x400)+_0x17dfbc);if(_0x16e6ab&&_0x2e57bf){const _0x4b7dd3=parseFloat(_0x16e6ab[_0x1b259f(0x4be)])||0x0,_0x51202a=_0x5c808f*(_0x4b7dd3/0x64);_0x2e57bf[_0x1b259f(0x4be)]=_0x51202a[_0x1b259f(0x718)](0x2),_0x4a9d4e==_0x1b259f(0x6eb)&&(window_options[_0x17dfbc]['setDetraccionPorcentaje']=_0x4b7dd3,window_options[_0x17dfbc][_0x1b259f(0x6e3)]=_0x51202a['toFixed'](0x2)),_0x4a9d4e==_0x1b259f(0x75a)&&(window_options[_0x17dfbc][_0x1b259f(0x44f)]=_0x4b7dd3,window_options[_0x17dfbc][_0x1b259f(0x579)]=_0x51202a[_0x1b259f(0x718)](0x2)),_0x4a9d4e==_0x1b259f(0x7c0)&&(window_options[_0x17dfbc]['setPercepcionPorcentaje']=_0x4b7dd3,window_options[_0x17dfbc][_0x1b259f(0x725)]=_0x51202a[_0x1b259f(0x718)](0x2)),saveWindowOptionsDB(_0x17dfbc);}}function setupConsulta(_0x26bbf3){const _0x3d3118=_0x10508b,_0x1fea3c=document[_0x3d3118(0x32b)]('btnConsultar-'+_0x26bbf3),_0x4f55d0=document['getElementById'](_0x3d3118(0x1fc)+_0x26bbf3),_0x1f8f06=document['getElementById']('setClienteNumDoc-'+_0x26bbf3),_0x3d0b7e=document[_0x3d3118(0x32b)](_0x3d3118(0x551)+_0x26bbf3),_0x31d46b=document[_0x3d3118(0x32b)](_0x3d3118(0x5ef)+_0x26bbf3);if(!_0x1fea3c||!_0x4f55d0||!_0x1f8f06||!_0x3d0b7e||!_0x31d46b){console[_0x3d3118(0x769)](_0x3d3118(0x593));return;}const _0x13c6b9=_0x4f55d0[_0x3d3118(0x4be)],_0x29fcb2=_0x1f8f06[_0x3d3118(0x4be)][_0x3d3118(0x2b8)](),_0x31b02f=_0x3d0b7e[_0x3d3118(0x4be)][_0x3d3118(0x2b8)]()[_0x3d3118(0x6e4)](),_0x25903a=(_0x37f35e,_0x2cf7e7)=>{const _0x5661df=_0x3d3118;return _0x37f35e[_0x5661df(0x710)]((_0x44cf90,_0x2ca50a)=>{const _0x516932=_0x5661df;let _0x3e76f7,_0x5ccd77,_0x5459d5,_0x85576c,_0x3d0b45,_0x4ee570;_0x2cf7e7==0x1?(_0x3e76f7=_0x44cf90[_0x516932(0x62f)],_0x5ccd77=_0x2ca50a[_0x516932(0x62f)],_0x5459d5=_0x44cf90[_0x516932(0x229)],_0x85576c=_0x2ca50a[_0x516932(0x229)],_0x3d0b45=_0x44cf90[_0x516932(0x673)],_0x4ee570=_0x2ca50a[_0x516932(0x673)]):(_0x3e76f7=_0x44cf90[_0x516932(0x7bb)],_0x5ccd77=_0x2ca50a[_0x516932(0x7bb)],_0x5459d5=_0x44cf90[_0x516932(0x73b)],_0x85576c=_0x2ca50a['setSupplierName'],_0x3d0b45=_0x44cf90[_0x516932(0x42d)],_0x4ee570=_0x2ca50a[_0x516932(0x42d)]);const _0x2fb782=[_0x3e76f7,_0x5459d5,_0x3d0b45][_0x516932(0x46d)](Boolean)[_0x516932(0x4e9)],_0x2dab0d=[_0x5ccd77,_0x85576c,_0x4ee570][_0x516932(0x46d)](Boolean)[_0x516932(0x4e9)];return _0x2dab0d>_0x2fb782?_0x2ca50a:_0x44cf90;},_0x37f35e[0x0]);};let _0x1b7c8e,_0xd59e1c;setTipOpeOrders[_0x3d3118(0x3f2)](_0x446567=>_0x446567==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeSales[_0x3d3118(0x3f2)](_0x1819ca=>_0x1819ca==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeQuotation[_0x3d3118(0x3f2)](_0x3954c1=>_0x3954c1==window_options[_0x26bbf3]['setTipoOperacion'])?(_0xd59e1c=0x1,_0x1b7c8e=myCompany[_0x3d3118(0x2db)]):(_0xd59e1c=0x2,_0x1b7c8e=myCompany[_0x3d3118(0x709)]);if(_0x29fcb2){let _0x1d941d;setTipOpeOrders[_0x3d3118(0x3f2)](_0x5abf23=>_0x5abf23==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeSales[_0x3d3118(0x3f2)](_0x2b3124=>_0x2b3124==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeQuotation['some'](_0x1db4a9=>_0x1db4a9==window_options[_0x26bbf3][_0x3d3118(0x3b3)])?_0x1d941d=_0x1b7c8e['filter'](_0x1e65dd=>_0x1e65dd['setCustomerDocumentNumber']==_0x29fcb2):_0x1d941d=_0x1b7c8e[_0x3d3118(0x46d)](_0x20a5ee=>_0x20a5ee[_0x3d3118(0x7bb)]==_0x29fcb2);if(_0x1d941d['length']>0x0){const _0x64b531=_0x25903a(_0x1d941d,_0xd59e1c);setTipOpeOrders['some'](_0x3c91d1=>_0x3c91d1==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeSales[_0x3d3118(0x3f2)](_0x576277=>_0x576277==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeQuotation[_0x3d3118(0x3f2)](_0x53299c=>_0x53299c==window_options[_0x26bbf3][_0x3d3118(0x3b3)])?(_0x3d0b7e['value']=_0x64b531[_0x3d3118(0x229)]||'',_0x31d46b[_0x3d3118(0x4be)]=_0x64b531[_0x3d3118(0x673)]||''):(_0x3d0b7e[_0x3d3118(0x4be)]=_0x64b531['setSupplierName']||'',_0x31d46b[_0x3d3118(0x4be)]=_0x64b531[_0x3d3118(0x42d)]||'');window_options[_0x26bbf3][_0x3d3118(0x4b1)]=_0x3d0b7e['value'],window_options[_0x26bbf3][_0x3d3118(0x669)]=_0x31d46b[_0x3d3118(0x4be)],saveWindowOptionsDB(_0x26bbf3)[_0x3d3118(0x209)](_0x4f626a=>console[_0x3d3118(0x769)](_0x3d3118(0x5ec),_0x4f626a));return;}isOnline()?_0x13c6b9[_0x3d3118(0x6e4)]()==_0x3d3118(0x6de)&&_0x29fcb2[_0x3d3118(0x4e9)]==0x8||_0x13c6b9[_0x3d3118(0x6e4)]()==_0x3d3118(0x2ea)&&_0x29fcb2[_0x3d3118(0x4e9)]==0xb?consultarAPI(_0x13c6b9,_0x29fcb2,_0x26bbf3):ntfShow(_0x3d3118(0x60c)):ntfShow(_0x3d3118(0x7a3));return;}if(_0x31b02f){const _0xabf2a5=_0x31b02f,_0x18c3ca=_0x1b7c8e['filter'](_0x4bae91=>{const _0x39e2a9=_0x3d3118;let _0x2d1799,_0x3f00f9;setTipOpeOrders['some'](_0x2fdc5e=>_0x2fdc5e==window_options[_0x26bbf3][_0x39e2a9(0x3b3)])||setTipOpeSales[_0x39e2a9(0x3f2)](_0x4396bc=>_0x4396bc==window_options[_0x26bbf3][_0x39e2a9(0x3b3)])||setTipOpeQuotation[_0x39e2a9(0x3f2)](_0x3a45c6=>_0x3a45c6==window_options[_0x26bbf3][_0x39e2a9(0x3b3)])?(_0x2d1799=_0x4bae91[_0x39e2a9(0x229)][_0x39e2a9(0x6e4)](),_0x3f00f9=_0x4bae91[_0x39e2a9(0x62f)]):(_0x2d1799=_0x4bae91[_0x39e2a9(0x73b)]['toLowerCase'](),_0x3f00f9=_0x4bae91[_0x39e2a9(0x7bb)]);const _0x4452b3=_0xabf2a5[_0x39e2a9(0x458)](/\s+/),_0x46227e=_0x4452b3['every'](_0x1538a1=>_0x2d1799[_0x39e2a9(0x2dd)](_0x1538a1)),_0x444f24=_0x3f00f9[_0x39e2a9(0x2dd)](_0xabf2a5);return _0x46227e||_0x444f24;});if(_0x18c3ca[_0x3d3118(0x4e9)]>0x0){const _0x5cd094=_0x25903a(_0x18c3ca,_0xd59e1c);setTipOpeOrders[_0x3d3118(0x3f2)](_0x54a6c5=>_0x54a6c5==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeSales['some'](_0x2e3040=>_0x2e3040==window_options[_0x26bbf3][_0x3d3118(0x3b3)])||setTipOpeQuotation[_0x3d3118(0x3f2)](_0x377f00=>_0x377f00==window_options[_0x26bbf3][_0x3d3118(0x3b3)])?(_0x1f8f06['value']=_0x5cd094[_0x3d3118(0x62f)]||'',_0x3d0b7e[_0x3d3118(0x4be)]=_0x5cd094[_0x3d3118(0x229)]||'',_0x31d46b[_0x3d3118(0x4be)]=_0x5cd094[_0x3d3118(0x673)]||''):(_0x1f8f06['value']=_0x5cd094[_0x3d3118(0x7bb)]||'',_0x3d0b7e[_0x3d3118(0x4be)]=_0x5cd094[_0x3d3118(0x73b)]||'',_0x31d46b[_0x3d3118(0x4be)]=_0x5cd094[_0x3d3118(0x42d)]||'');window_options[_0x26bbf3][_0x3d3118(0x746)]=_0x1f8f06['value'],window_options[_0x26bbf3][_0x3d3118(0x4b1)]=_0x3d0b7e[_0x3d3118(0x4be)],window_options[_0x26bbf3][_0x3d3118(0x669)]=_0x31d46b[_0x3d3118(0x4be)],saveWindowOptionsDB(_0x26bbf3)['catch'](_0x2d3387=>console[_0x3d3118(0x769)]('Error\x20al\x20guardar\x20datos:',_0x2d3387));return;}ntfShow(_0x3d3118(0x653));return;}ntfShow('Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.');}function consultarAPI(_0x45c7aa,_0x40d02f,_0x1a9a41){const _0x48f78b=_0x10508b,_0x2b635e=document[_0x48f78b(0x32b)](_0x48f78b(0x456)+_0x1a9a41),_0x3c75f4=document[_0x48f78b(0x32b)](_0x48f78b(0x551)+_0x1a9a41),_0x2c4a01=document[_0x48f78b(0x32b)](_0x48f78b(0x5ef)+_0x1a9a41);_0x2b635e[_0x48f78b(0x5c5)]=!![],showLoadingModal();const _0x243e9b=_0x48f78b(0x483),_0x45b689=_0x48f78b(0x4c8),_0x5b0090=_0x243e9b+'/'+_0x45c7aa[_0x48f78b(0x6e4)]()+'/?'+_0x45c7aa['toLowerCase']()+'='+_0x40d02f+_0x48f78b(0x3f3)+_0x45b689;fetch(_0x5b0090)[_0x48f78b(0x3ea)](_0x3ece43=>{if(!_0x3ece43['ok'])throw new Error('Error\x20en\x20la\x20respuesta\x20del\x20servidor.');return _0x3ece43['json']();})['then'](_0x4e156=>{const _0x2ab6a3=_0x48f78b;if(_0x4e156[_0x2ab6a3(0x621)]==_0x2ab6a3(0x65b)&&_0x4e156[_0x2ab6a3(0x75c)][_0x2ab6a3(0x4e9)]>0x0){const _0x5dcc49=_0x4e156[_0x2ab6a3(0x75c)][0x0];if(_0x45c7aa==_0x2ab6a3(0x635))_0x3c75f4['value']=_0x5dcc49['razon_social']||'',_0x2c4a01['value']=_0x5dcc49[_0x2ab6a3(0x2e1)]||'';else _0x45c7aa=='DNI'&&(_0x3c75f4['value']=((_0x5dcc49[_0x2ab6a3(0x649)]||'')+'\x20'+(_0x5dcc49[_0x2ab6a3(0x4cd)]||''))[_0x2ab6a3(0x2b8)](),_0x2c4a01[_0x2ab6a3(0x4be)]=_0x5dcc49['direccion']||'');window_options[_0x1a9a41][_0x2ab6a3(0x4b1)]=_0x3c75f4[_0x2ab6a3(0x4be)],window_options[_0x1a9a41][_0x2ab6a3(0x669)]=_0x2c4a01[_0x2ab6a3(0x4be)],saveWindowOptionsDB(_0x1a9a41)[_0x2ab6a3(0x209)](_0x509bb5=>console[_0x2ab6a3(0x769)](_0x2ab6a3(0x5ec),_0x509bb5));}else ntfShow(_0x2ab6a3(0x600));})['catch'](_0x1da330=>{const _0x4dcef6=_0x48f78b;console[_0x4dcef6(0x769)](_0x4dcef6(0x799),_0x1da330),ntfShow('Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.');})[_0x48f78b(0x402)](()=>{const _0x4e7686=_0x48f78b;_0x2b635e[_0x4e7686(0x5c5)]=![],hideLoadingModal();});}function nowWithMillisecondsForServer(){const _0x55bbf3=_0x10508b;let _0x51cb32;if(typeof performance!==_0x55bbf3(0x6d5)&&typeof performance[_0x55bbf3(0x215)]===_0x55bbf3(0x562)){let _0x30225c;if(typeof performance[_0x55bbf3(0x5c4)]===_0x55bbf3(0x61d))_0x30225c=performance['timeOrigin'];else performance[_0x55bbf3(0x3f7)]&&performance[_0x55bbf3(0x3f7)][_0x55bbf3(0x61e)]?_0x30225c=performance['timing']['navigationStart']:_0x30225c=Date['now']();_0x51cb32=_0x30225c+performance['now']();}else _0x51cb32=Date['now']();const _0x3b9c94=Math[_0x55bbf3(0x60a)](_0x51cb32),_0x389a6b=_0x51cb32-_0x3b9c94,_0x293a88=Math[_0x55bbf3(0x60a)](_0x389a6b*0x3e8),_0x3cee31=new Date(_0x3b9c94),_0x24debf=_0x3cee31['getUTCFullYear'](),_0x59651f=String(_0x3cee31['getUTCMonth']()+0x1)['padStart'](0x2,'0'),_0x4ef63=String(_0x3cee31[_0x55bbf3(0x59e)]())['padStart'](0x2,'0'),_0x167b01=String(_0x3cee31[_0x55bbf3(0x46a)]())[_0x55bbf3(0x715)](0x2,'0'),_0x684816=String(_0x3cee31[_0x55bbf3(0x4fc)]())[_0x55bbf3(0x715)](0x2,'0'),_0x4f1cc1=String(_0x3cee31[_0x55bbf3(0x2ff)]())[_0x55bbf3(0x715)](0x2,'0'),_0x34194f=String(_0x3cee31['getUTCMilliseconds']())['padStart'](0x3,'0'),_0x26f928=String(_0x293a88)[_0x55bbf3(0x715)](0x3,'0');return _0x24debf+'-'+_0x59651f+'-'+_0x4ef63+'T'+_0x167b01+':'+_0x684816+':'+_0x4f1cc1+'.'+_0x34194f+_0x26f928+'Z';}async function getLastCorrelativeOffline(_0x2833d1,_0x184b2b){const _0x4cbcda=_0x10508b,_0x217f26=await createCartStore(''),_0x4e0ae5=_0x217f26['transaction'](_0x4cbcda(0x594),'readonly'),_0x1c1a62=_0x4e0ae5[_0x4cbcda(0x253)](_0x4cbcda(0x594)),_0xaa7831=await new Promise((_0x17068b,_0x305b41)=>{const _0x1fe242=_0x4cbcda,_0x2ca56a=_0x1c1a62['getAll']();_0x2ca56a[_0x1fe242(0x235)]=()=>_0x17068b(_0x2ca56a[_0x1fe242(0x2fa)]),_0x2ca56a[_0x1fe242(0x3c8)]=()=>_0x305b41(_0x2ca56a[_0x1fe242(0x769)]);}),_0x232ee1=myCompany[_0x4cbcda(0x261)]||'',_0x3ab347=_0xaa7831['filter'](_0x1741cd=>_0x1741cd[_0x4cbcda(0x3b3)]==_0x2833d1&&_0x1741cd[_0x4cbcda(0x2e5)]==_0x184b2b&&_0x1741cd[_0x4cbcda(0x5bb)]==_0x232ee1);if(_0x3ab347[_0x4cbcda(0x4e9)]===0x0){const _0x20d586=parseInt(getUserPermissionApiERP(0x5));let _0x2a3f96;if(_0x20d586==0x1){const _0x2a4e35=getLoggedUserSeries();_0x2a3f96=_0x2a4e35['find'](_0x6fe4b7=>_0x6fe4b7[_0x4cbcda(0x288)]==_0x2833d1&&_0x6fe4b7['setSeriesNumber']==_0x184b2b);}else _0x2a3f96=myCompany[_0x4cbcda(0x3d3)][_0x4cbcda(0x2b5)](_0x36e02a=>_0x36e02a[_0x4cbcda(0x622)]==_0x2833d1&&_0x36e02a['setSerie']==_0x184b2b);if(!_0x2a3f96){ntfShow(_0x4cbcda(0x6ce)),console[_0x4cbcda(0x769)](_0x4cbcda(0x6ce));return;}let _0x38ce00;return _0x20d586==0x1?_0x38ce00=parseInt(_0x2a3f96[_0x4cbcda(0x3e1)],0xa):_0x38ce00=parseInt(_0x2a3f96[_0x4cbcda(0x62d)],0xa),_0x38ce00;}let _0x370806=_0x3ab347['map'](_0x101597=>Number(_0x101597[_0x4cbcda(0x352)])||0x0)[_0x4cbcda(0x710)]((_0x102216,_0x1c3a3d)=>_0x1c3a3d>_0x102216?_0x1c3a3d:_0x102216,0x0);return _0x370806=parseInt(_0x370806,0xa),_0x370806+=0x1,_0x370806;}async function updateLastCorrelativeOnline(_0x1f3454,_0x2d46c7){const _0x1b45f4=_0x10508b;if(isOnline()){const _0x35a4e9=getUserPermissionApiERP(0x5);let _0x5cbe0a;if(_0x35a4e9==0x1){const _0x2362cd=getLoggedUserSeries();_0x5cbe0a=_0x2362cd[_0x1b45f4(0x2b5)](_0x1e6784=>_0x1e6784[_0x1b45f4(0x288)]==_0x1f3454&&_0x1e6784['setSeriesNumber']==_0x2d46c7);}else _0x5cbe0a=myCompany[_0x1b45f4(0x3d3)][_0x1b45f4(0x2b5)](_0x87b020=>_0x87b020['setSerieTipo']==_0x1f3454&&_0x87b020[_0x1b45f4(0x2e5)]==_0x2d46c7);if(!_0x5cbe0a){ntfShow(_0x1b45f4(0x6ce)),console[_0x1b45f4(0x769)]('Serie\x20Incorrecta');return;}const _0x4b6fb2=myCompany['setApiEndPoint'],_0x161c76={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany['setAuthToken'],'setReceiptType':_0x1f3454,'setReceiptSeries':_0x2d46c7};try{const _0x2ca630=await fetch(_0x4b6fb2,{'method':_0x1b45f4(0x4c6),'headers':{'Content-Type':_0x1b45f4(0x1e6)},'body':JSON[_0x1b45f4(0x239)](_0x161c76)}),_0x953fd4=await _0x2ca630[_0x1b45f4(0x236)]();if(_0x953fd4[_0x1b45f4(0x65b)]&&_0x953fd4[_0x1b45f4(0x301)][_0x1b45f4(0x33f)]){let _0x19f7c7=parseInt(_0x953fd4[_0x1b45f4(0x301)][_0x1b45f4(0x33f)],0xa)||0x0,_0x4ad643=parseInt(await getLastCorrelativeOffline(_0x1f3454,_0x2d46c7),0xa)||0x0;_0x4ad643>_0x19f7c7&&(_0x19f7c7=_0x4ad643);_0x35a4e9==0x1?_0x5cbe0a[_0x1b45f4(0x3e1)]=_0x19f7c7:_0x5cbe0a[_0x1b45f4(0x62d)]=_0x19f7c7;try{const _0x1affa2=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1affa2),console['log'](_0x1b45f4(0x2c1));const _0x2020b6=document[_0x1b45f4(0x32b)]('windowId')['value'];window_options[_0x2020b6][_0x1b45f4(0x3b3)]==_0x1f3454&&(window_options[_0x2020b6][_0x1b45f4(0x352)]=_0x19f7c7,await saveWindowOptionsDB(_0x2020b6),console[_0x1b45f4(0x4bd)]('Guardando\x20Correlativo\x20en\x20Window\x20Options'));}catch(_0xa58a0b){console['error'](_0x1b45f4(0x4c0),_0xa58a0b);throw _0xa58a0b;}}}catch(_0x249121){console[_0x1b45f4(0x769)]('Error\x20en\x20la\x20solicitud:',_0x249121);}}}async function processCorrelativoInicial(_0x9b4afb,_0x1ccc22,_0x469b8b){const _0x5a1655=_0x10508b;let _0x91e097;const _0x4d7e7e=getUserPermissionApiERP(0x5);let _0x57f80b;if(_0x4d7e7e==0x1){const _0x528aa6=getLoggedUserSeries();_0x57f80b=_0x528aa6['find'](_0x30a8f5=>_0x30a8f5[_0x5a1655(0x288)]==_0x9b4afb&&_0x30a8f5[_0x5a1655(0x3c0)]==_0x1ccc22),_0x91e097=_0x57f80b?_0x57f80b[_0x5a1655(0x3e1)]:0x1;}else _0x57f80b=myCompany['setSeries'][_0x5a1655(0x2b5)](_0x198907=>_0x198907[_0x5a1655(0x622)]==_0x9b4afb&&_0x198907[_0x5a1655(0x2e5)]==_0x1ccc22),_0x91e097=_0x57f80b?_0x57f80b[_0x5a1655(0x62d)]:0x1;if(_0x469b8b!==undefined){if(_0x57f80b){_0x4d7e7e==0x1?_0x57f80b[_0x5a1655(0x3e1)]=_0x469b8b:_0x57f80b[_0x5a1655(0x62d)]=_0x469b8b;try{const _0x3087ae=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x3087ae),_0x469b8b;}catch(_0x3c9448){console[_0x5a1655(0x769)](_0x5a1655(0x4c0),_0x3c9448);throw _0x3c9448;}}else throw new Error(_0x5a1655(0x3ad));}return _0x91e097;}function getFilteredCart(_0x351a3a){const _0x1f82f8=_0x10508b,_0x689424=window_options[_0x351a3a][_0x1f82f8(0x3b3)];if(setTipOpeOrders['some'](_0x1ec77c=>_0x1ec77c==_0x689424))return carts[_0x351a3a][_0x1f82f8(0x46d)](_0x3c7d70=>_0x3c7d70[_0x1f82f8(0x386)]==0x1&&_0x3c7d70['setWindowShiftId']=='');else return setTipOpeSales[_0x1f82f8(0x3f2)](_0x2dcd05=>_0x2dcd05==_0x689424)||setTipOpePurchases[_0x1f82f8(0x3f2)](_0x45d620=>_0x45d620==_0x689424)||setTipOpeQuotation[_0x1f82f8(0x3f2)](_0x5b7bbf=>_0x5b7bbf==_0x689424)?carts[_0x351a3a][_0x1f82f8(0x46d)](_0x50281c=>_0x50281c[_0x1f82f8(0x386)]==0x1):[];}function _0xa0d8(){const _0x32ad8c=['element-printer','modalOverlayWindowShift','label-options\x20mb-2','create','btnsetAttach-','element-vase','toLocaleDateString','getSize','RETENCIÓN','closest','important','setDescuento_setMontoBase','detraccionCodigo-','setUserName','Apertura\x20de\x20Caja','\x22)\x27>','setBankId','setCustomerPhone-','put','map','Serie\x20Incorrecta','checkout','Medio\x20de\x20pago\x20crédito\x20actualizado:','RETENCIÓN\x20(','CERO','Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.','div','undefined','\x20|\x20Marca:\x20','setUsers','\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>','setPaymentCode','innerHeight','Vence:\x20','drawImage','Despachar','dni','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','/100','setWindows','innerWidth','setDetraccionTotal','toLowerCase','Egresos','join','totals','cart-panel-','\x20|\x20Descripción:\x20','./img/product.png','Detraccion','setCashierId','Serie:','setDescuento','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','setMtoValorCostoUnitario','charCodeAt','NOTAS:','Window\x20not\x20found.','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','data-tab','div-totals-right-Subtotal-','input_cart_setButton\x20btn-none\x20div-width-5','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','background','flex-column\x20tab-content\x20active\x20tab-','1\x20UND','shift-close-notaLabel','shift-close-infoValue','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','Proveedor:','title','set','\x20guardadas.','setItemBarCode','setDespacho-','btnModalNewOperation','imgSrc','setWindowId','setSuppliers','\x20...</span>','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:',':<br>','chkDetraccion-','setUserDocNumber','PEN','reduce','PDF\x20Error.','COTIZAR','#f7f7f7','editado','padStart','Otros\x20medios\x20de\x20pago','img','toFixed','sendEmail','shift-close-smallIcon','bi\x20bi-unlock','setShiftDateEnd','shift-close-differentialRow\x20','setMtoPrecioCostoUnitario','addElementControls','setMtoDescItems','DETRACCIÓN\x20(','Total\x20Pendiente','save','payment-options-','setPercepcionTotal','030','div-width-35\x20col-bt-left-padding','null','Nº\x20de\x20Cuotas:','modalOverlayCreateWindow','show_right_section','Pct-','./img/layout/icon-cashier.svg','firstChild','setFechaHora','mediaType','1876000TrYgnX','setCredentialsApiWAChat','./img/icon-contado-credito.svg','Error\x20Network.','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','prepend','setUserCode','archivos_contables','22779ISweEI','credito','setSupplierName','Vendedor:','setMtoOperGravadas','ceil','preventDefault','Hora','#pay-container-','setDetraccionPorcentaje','print','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','offsetHeight','setClienteNumDoc','setApiEndPoint','./img/layout/icon-vertical-line.svg','[addToCart]','setAttachSeries-','general-options-','Cajero:','setVendedorCodigo-','getContext','preview-item','.input-array-comision','Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.','Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV','setVisible','quantity','./img/layout/icon-laptop.svg','replaceWith','OCHENTA','{}.constructor(\x22return\x20this\x22)(\x20)','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','Retencion','setMtoValorCostoUnitario_input','datos','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','setWindowShiftId','Caja\x20Inicial:','float-right-TotalIgvGratuitas-','<img\x20class=\x22icon-element\x22\x20src=\x22','setWindowType','tabs-areas-responsive','setAccountingAccountName','Dirección','Data\x20no\x20válida','setMtoPrecioCostoUnitario_input','Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:','error','Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.','random','setSellerId','Nº\x20Operación:\x20\x20','setObservacion','0.5em','shift-open-title','setReceiptAttachId','detalleModalShift','multipart/form-data','href','select','setCodTipo','custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','clientHeight','DATOS\x20DE\x20DISTRIBUCIÓN','Ejm:\x201','CUATROCIENTOS','mousemove','getBoundingClientRect','setPaymentAmount','element-bathroom-unisex','setEmailCredentialsSenderPassword','waMessage','setBankName','Marca:<br>','setShifts','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','setMonedaCodigo','No\x20hay\x20resultados.','cart-panel','relative','setMtoValorVenta','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','Cuenta\x20Contable','015','Datos\x20Generales','removeEventListener','setCurrencyDefault','border','fonts/Roboto/Roboto-Regular.ttf','readonly','div-totals-right-TotalIgv-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','\x20para\x20la\x20variante\x20del\x20producto\x20','tabs-shift','textarea','Error\x20en\x20la\x20consulta:','setAccountingAccountType','TIPO\x20OPERACIÓN:','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','clearRect','navmenu','data-printer','Obtener','Aperturar\x20Turno','Mesa','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','getMonth','monto_calc','push','Embarcaciones\x20pesqueras','Comisión\x20%','Error\x20al\x20guardar\x20el\x20layout:\x20','div_section_pay','<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20','Dirección:','button','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','Estado\x20del\x20layout\x20guardado\x20correctamente.','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','La\x20fuente\x20es\x20undefined\x20en\x20measureText','setEmailCredentials','suggestions-','tab-','Forma\x20de\x20Pago:\x20Crédito','inline-flex','Error\x20en\x20la\x20solicitud:','.custom-input-cart-setClienteDenominacion','Total','setCredentialsApiWAChatSubdomain','setSupplierDocumentNumber','alt','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>','setMedioPago','Total\x20(','Percepcion','[updateCartItem]\x20excede\x20stock','search_more_products','\x20sec','CÓDIGO','\x20input.input-array-totalcomision','Comisión\x20(','status','setUserId','Cerrar\x20Turno','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.','Algodón','offline','Venta\x20Interna','Vehículo:','TREINTA','Liberar','setDescuentoGlobal_Monto','getHours','DNI','application/json;\x20charset=utf-8','Apertura','setPayments','monto','borderTopLeftRadius','DNI\x20/\x20RUC','setProductos','tabs-orders','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','fechaVencimiento','VENDEDOR:','invoice','Caja\x20Final:','1001\x20Operación\x20Sujeta\x20a\x20Detracción','./img/icon-credito.svg','setReceiptCurrency','Cliente:','onload','setCollaborators','btn\x20btn-none\x20','forEach','dataset','setClienteTipoDoc-','/upload','Consumo','.category-label','................................................','008','Teléfono:','setDetraccionCodigoName','Teléfono','borderRadius','active\x20tab-section-options-','efectivo','setCashInitial','catch','layout','\x20input.input-array-comision','PERCEPCIÓN','cuotas-container-','Impuesto','percepcionTotal-','setTipoOperacionInvoice-','keys','label-debe-vuelto','#000000','\x20MIL','now','chair','DESCUENTO\x20POR\x20ITEMS','DIEZ','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setMonedas','\x20flex-column\x20flex-grow-1','sucursales','warn','pow','setCredentialsApiWAChatPort','modalOverlayOptions','children','setPorcentajeGeneralIgv','tabindex','controls','No\x20se\x20encontró\x20producto\x20con\x20id\x20','type','setValorVenta','download','setCustomerName','Conductor:','OP.\x20GRAVADAS','custom-label-cart-options\x20div-width-25','Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:','dispatchEvent','\x20para\x20completar\x20el\x20total.','setAttachEdit','\x20de\x20','windowShiftContent','cart_','custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','onsuccess','json','Shift\x20not\x20found.','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','stringify','FORMA\x20DE\x20PAGO:\x20CONTADO','setReceiptSeries','parentNode','tab-totales-','Bien\x20o\x20Servicio:\x20','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','trace','fecha','payment-contado','Exportación','SEISCIENTOS','cart-item-principal\x20hidden','Email:','Forma\x20de\x20Pago','CANT','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','div-total-pay-','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','div-width-25','keydown','MIL','pdfCanvas','setAccountingAccountCode','<span\x20class=\x22cart-product-note\x22>','objectStore','setCredentialsApiWAChatStatus','%\x20Desc.\x20de\x20','setWarehouseId','clientX','innerHTML','setTipAfeIgv','div_section_products','Producto\x20variante\x20','toDataURL','toString','shift-close-infoSpan','setShiftCashAmount','FORMA\x20DE\x20PAGO:\x20CRÉDITO','setAuthToken','getMinutes','float-left-Subtotal-','setMtoOperGratuitas','#a00','delete','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','setBranches','findIndex','addEventListener','float-right-TotalDescuentoItems-','Producto\x20eliminado','detalleModalCreateWindow','SUBTOTAL','PERCEPCIÓN\x20(','divAttachResult-','Error\x20al\x20guardar\x20array','float-right-OpGravada-','modalOverlayPay','div-width-25\x20col-bt-padding','RUC\x20debe\x20tener\x2011\x20dígitos.','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','setAttachNumber-','input-','UNO','La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','setSellerName','shift-div-table\x20','container-title-options-','div-width-options\x20col-bt-padding-options','Editar\x20ventana','active-payment','Recursos\x20hidrobiológicos','CorrectLevel','029','./img/layout/icon-room.svg','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','setSeriesType','window_options_','input-setWindowName','Banco:','blur','element-cashier','shift-close-rightCol','custom-input-cart-options\x20form-control\x20div-width-25','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','form','Movimiento\x20de\x20carga','setMtoImpVenta','setFloorName','setServerRoot','setTipoOperaciones','setPaymentName','setShiftStatus','shift-open-container','\x20cuota','body','No\x20se\x20encontró\x20el\x20botón','Comisión\x20mercantil','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22','datetime-local','appendChild','Precio\x20Unitario','btnAddProductFree','sendWhatsApp','DOS','input','addEmailRecipient','./img/layout/icon-bathroom-unisex.svg','btnSaveOperacion-','Error\x20enviando\x20mensaje','btnopt_consumo-','Habitación','image/png','setReceiptClientDocNumber','No\x20hay\x20conexión\x20a\x20internet.','detalleModalWindowShift','Error\x20al\x20eliminar\x20productos:','element-bathroom-men','SETENTA','PRE\x20CUENTA','find','5px','indexOf','trim','application/pdf','get','createElement','setConsumo','Subtotal\x20(','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','innerText','closeModalShift','Guardando\x20Correlativo\x20en\x20DB','SON\x20','input-setWindowType','div-width-25\x20btnopt\x20btnoptfirst','.phoneNumber','Reporte\x20de\x20ventas','div-totals-right','032','Total\x20Detracción\x20(','024','cart-item-principal-','setPrecioUnit','setCompanyLogo','setIdOperation','contado','setTipoOperacionCodigo','NUEVE','</span>','setPrinterName','Notas:','setShiftDateStart','float-left-TotalDescuento-','mixto','newElementType','N°\x20de\x20operación','2041067HbMuWu','setCustomers','Enter','includes','onchange','payment-mixto','@s.whatsapp.net','direccion','div-width-24\x20btnopt','setBankCurrency','reject','setSerie','shift-open-img','012','float-right-Subtotal-','Op.\x20Inafecta','ruc','concat','xxxxxxxxyxxxxxxx','setAttachType','percepcionPct-','setFechaHoraReadonly','[updateCartItem]','setMarca','setUserNombres','shift-close-diffValue','\x20!important;\x0a}\x0a','element-waiter','10px','input_cart_moreOptionsButton\x20div-width-5\x20','Barbero','Windows\x20Update\x20Local\x20Successfully.','result','VEINTE','setReceiptClientName','setPriceListRangeEnd','setLastDateUpdate','getUTCSeconds','Ingresos','message','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','setUserEmail','setCashierName','setWindowName','IGV\x20(','\x20unitario\x20mayor\x20a\x200.','CUARENTA','element-fridge','./img/layout/icon-waiter.svg','Oro\x20gravado\x20con\x20el\x20IGV','addPage','setCollaboratorDocNumber','013','cart-item-principal','setLastFechaHora','shift-table\x20','Conteo:','chkRetencion-','Escribe\x20un\x20mensaje','float-left-OpGratuita-','removeChild','Porcentaje\x20retención','Desc.\x20Global\x20(','getAttribute','tabs-environments-separator','products','Descripción:\x20','Nº\x20Operación','d-flex\x20mb-3','IGV\x20GRATUITAS','/login','setReceiptId','DESPACHO:','date','setDividir','Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.','nextElementSibling','Nota:','setAccountingAccounts','checkbox','float-left-OpExonerada-','getElementById','div-totals-right-TotalDescItems-','printerDropdown','iframe','El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20','No\x20se\x20encontró\x20el\x20botón.','scale','Registrar\x20Ingreso','querySelectorAll','025','divs_payments\x20d-flex\x20flex-grow-1','setTipoOperacion-','valorCantidad','Cuota\x20','CIEN','constructor','.menu-options','flex','porcentaje_comision','cart-','setLastCorrelative','label','NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:','checked','setNotes','QUINCE','apply','Error\x20Op.','btnShiftEnd','033','setPorcentajeIgv','fonts/Roboto/Roboto-Light.ttf','setShiftId','Minerales\x20no\x20metálicos','Error\x20Inputs','https://apierp.dev/api/windows/create/','setMtoDescItems_precio','nro_operacion','FINALIZAR\x20OPERACIÓN','setCorrelativo','tabs-environments-container','tabs-areas','drop','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','setShiftCount','shift-close-btn','element-user','room','0.25em','cuota','Contado\x20y\x20Crédito','setMoneda-','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','Error\x20Correlativo\x20Update','NOVECIENTOS','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','enctype','.marca-label','./img/layout/icon-fridge.svg','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','Error\x20convirtiendo\x20adjuntos\x20a\x20base64:','setCodProducto','RESOLUCION\x20NRO\x200340050005929/SUNAT','div_section_options','6OxdGZp','IGV\x20Gratuitas','Mozo:\x20','float-right-OpInafecta-','shift-open-btn','div_section_right','shift-close-infoLabel','setUserCodigo','**\x20','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','Detalle\x20de\x20Turno','setCompanyEmail','Sillón','Op.\x20Gravada','Error.\x20La\x20ventana\x20no\x20existe.','#products','dragenter','retencionTotal-','setPercepcionPorcentaje','setItemUnitAlias','div-width-15\x20div_margen','<div\x20style=\x22margin-top:5px;\x22>',')\x20en\x20almacén\x20','setOrderId','canvas','float-right-TotalDescuento-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','setChecked','fill','drawRectangle','width','00/100','extraElements','#whatsappRecipients\x20.phoneNumber','031','./img/icon-contado.svg','float-right-OpGratuita-','setMtoValorUnitario_input','windowObj','Vendedor','product','shift-open-rightCol','Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.','setTipoOperacionInvoice','setPermissionValue','\x20-\x20','collect','IGV','change','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','product-content','setBatchExpirationDate','container-section-pay-','mouseleave','autocomplete','setFloorId','shift-open-btnContainer','slice','Contratos\x20de\x20construcción','setSucursalCodigo','click','nextSibling','setDetraccion','detalleModalOptions','1.5','461116nGKbut','Serie\x20no\x20encontrada','img-options-o','readOnly','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','whatsappRecipients','div-width-10\x20div_margen','setTipoOperacion','Hola\x20','icon-arrow-right\x20hidden','posicionesPorPiso','No\x20hay\x20un\x20PDF\x20cargado.','\x20draggable-','023','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion','PRECIO\x20U.','custom-checkbox','image','Opciones\x20de\x20la\x20ventana\x20','\x20|\x20F.V.\x20','setSeriesNumber','shift-close-btnRow','options','setItemDescription','btnVisualizacion','insertBefore','productMoreOptionsButton-','setDetraccionCodigo','onerror',':\x20stock\x20actualizado\x20de\x20','./img/layout/icon-bar.svg','\x20unidades\x20','setNotas','setDescuento_setMonto','layoutState','setItemIsBought','Costo','shift-close-row5','Error\x20al\x20guardar\x20operación\x20offline:','setSeries','getViewport','Fecha','setServerType','\x20Y\x20','!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20','shift-close-diffLabel','setPriceLists','Crea\x20tu\x20primera\x20ventana.','setObservacion-','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','https://apierp.dev/api/apiPOS/get/','DNI\x20debe\x20tener\x208\x20dígitos.','#ffffff','setSeriesCorrelativeInitial','Posición\x20actualizada\x20de','currency_data','Order\x20Products\x20not\x20found.','toLocaleTimeString','test','active\x20tab-','readwrite','Total\x20Comisión','then','lastChild','numero-cuotas-','DESCRIPCIÓN','every','focus','Aperturar\x20Mesa','backgroundColor','some','&token=','setMtoBaseIgv','022','setIdProducto','timing','La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.','addWhatsAppRecipient','Error\x20Internet','...','className','OCHOCIENTOS','Bien\x20inmueble\x20gravado\x20con\x20IGV','method','Total-','defaultPrinter','finally','src','Error\x20al\x20procesar\x20la\x20operación:','Nom.\x20/\x20R.S.','setSerie-','017','precio','\x20Seleccione:','Op.\x20Exonerada','embedJpg','pdfBlob','clientY','files','<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>','No\x20se\x20encontró\x20sucursal\x20','closeModalCreateWindow','Mozo','removePage','action','cash','\x20actualizado:','stopPropagation','./img/layout/icon-window.svg','setPriceListType','online','btnOpciones-','ONCE','Cajero\x20/\x20Vendedor:','setEmailCredentialsSenderName','height','width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','container-section-pay\x20row','.remove-recipient-btn','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','email','https://wa.me/','cloneNode','setCompanyNameTrade','IMPORTE\x20TOTAL','\x20(Soles)','No\x20Despachar','setTaxId','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','setSupplierAddress','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.','setDescuento_setMonto_precio','setMtoPrecioUnitario_final','closeModalWindowShift','Error\x20al\x20procesar\x20la\x20URL:','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','setPriceListRangeStart','input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40','shift-close-infoRow\x20','1px\x20solid\x20#FF5900','getDate','setAttribute','float-left-totals','setShiftNotes','Cliente/Proveedor\x20Requerido.','Monto\x20Inicial:','120px','Error\x20al\x20procesar\x20adjuntos.','banco','padding','div-width-100\x20col-bt-left-padding','setCajeroCodigo','./img/icon-reporte-ventas.svg','setItemVariantValues','abs','Error\x20al\x20guardar\x20el\x20carrito.','</span>\x0a</label>','input[type=\x22number\x22]','element-','div-totals-right\x20d-none','ORDENAR','income.html','setMoneda','setRetencionPorcentaje','occupied','document','shift-open-row2','querySelector','setImpuestos','setReceiptProducts','btnConsultar-','.layout-tab-panel','split','windowId','btnopt_precuenta-','setUserFullName','#080060','setWindowTypeShape','Contado','%)\x20(','setDescripcion','setClienteTipoDoc','float-right-OpExonerada-','setPriceListAdjustmentAmount','tabs-environments-btn\x20selected','info','setMtoValorUnitario','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','https://apierp.dev/api/windows/update/','float-right-','getUTCHours','TRESCIENTOS','hidden','filter','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','btnModalActive','./img/icon-settings.svg','SEIS','open','.btn-logout','active\x20tab-cp-','shift-close-label','.email-recipient','pagination','floorId','layout-windows','193798DcFJqP','btn-cart-pay','setBankType','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','remove-btn','debe','cartId','0.9em','003','https://luisitoprograma.com/api','font-size:\x2014px;','#fff','setPrinterAlias','custom-label-cart-options','active\x20tab-section-pay-','luisitoprograma-pdf','555xBrvpI','clientWidth','itemCheckboxAll-','setLastDateUpdateCartTmp','shift-close-container','Medio\x20de\x20pago\x20para\x20ventana\x20','off','drawLine','substring','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','div-width-10\x20col-bt-padding','shift-open-leftCol','Otros\x20servicios\x20empresariales','./img/icon-flecha-inferior.svg','right','normal','No\x20se\x20encontró\x20la\x20ventana','026','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','Ajustes','setPercepcion','max','021','location','setDescuento_setFactor','min','span','Mensaje(s)\x20enviado(s)\x20correctamente.','audio/','countryList','d-flex\x20mb-3\x20','./img/icon-detalle-turno.svg','setUnidad','setValorCantidad','element-laptop','Error\x20desconocido.','0.25em\x200.5em','zIndex','setClienteDenominacion','waDropArea','input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control','\x20input.input-array-method','selectedCountry','Placa:','Ventana','setMedioPago-','key','placeholder','CIENTO','wa-recipient-template','log','value','AUTORIZADO\x20MEDIANTE','Error\x20al\x20guardar\x20Last\x20Correlative:','marginTop','setFechaHora-','0.00','El\x20monto\x20debe\x20ser\x20exactamente\x20','top','POST','allOperations:','suscriptor-luisitoprograma','currentTarget','modalOverlayLayout','startsWith','selectedIndex','apellidos','Cierre\x20de\x20Turno','Error\x20al\x20cargar\x20logo:','form-control\x20custom-input-cart-options\x20shift-close-input','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','Error\x20Company\x20Data.','DIECIOCHO','TOTAL','Error:\x20','037','100%','QUINIENTOS','append','setCollaboratorFullName','Vuelto:','CATORCE','block','#f0f4f8','mouseup','drawText','Error\x20al\x20actualizar\x20data\x20online:','Nº\x20','window','embedPng','.itemCheckbox-','btnAddProduct','shift-close-info-col','length','input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','btnopt_dividir-','Op.\x20Gratuita','visualizacion','Crédito','shift-close-diff-col','\x200.00','.layout-tabs-environments','saveWindows.php','El\x20producto\x20\x22','<br>Vence:\x20','JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.','setTipoDocCodigo','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','Error\x20en\x20la\x20solicitud','\x22,\x20\x22','createTextNode','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','getUTCMinutes','Error\x20Print\x20Offline.','clear','waFiles','setMtoPrecioUnitario','pop','Fecha\x20de\x20Apertura:\x20','Precio','Forma\x20de\x20Pago:\x20Contado','col-md-6','014','element-clock','tab-content\x20active\x20tab-','setCustomerEmail-','Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>','attached-label-','tabs-newTab','col-xs-12',',\x20a\x20continuación\x20adjuntamos:\x20\x0a','?text=','Cajero','textContent','option','close\x20closeModal\x20margin-left-auto','all','getFullYear','./img/layout/icon-vase.svg','690YCCDfd','UN\x20MILLÓN','Diferencial:','setSucursalStock','setInventariable','div_section_left','container-title-options','btn-options','bind','div-width-50','Total:\x20','setEmailCredentialsId','Arena\x20y\x20piedra','form-control\x20custom-input-cart-options\x20shift-open-input','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.','Animales\x20vivos','Bienes\x20exonerados\x20del\x20IGV',')\x20en\x20el\x20almacén.\x20','return\x20(function()\x20','setItemFree','url(\x27./img/product.png\x27)','setTotal','setBatchName','Sólo\x20quedan\x20','mimeType','documento.pdf','prototype','name','<br>','selectTab','btnModal','backgroundImage','oncomplete','./img/icon-shift-user.svg','Eliminar\x20ventana','./img/layout/icon-printer.svg','\x20(Gravado\x20Gratuito)','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','btnWindowShiftStart','setDescuento_setCodTipo','Order\x20not\x20found.','createObjectURL','setProperty','Total\x20Retención\x20(','console','touches','d-none','data','Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','\x20a\x20S3','Error\x20subiendo\x20','setAttachEdit-','product-zoom-area','setMtoValorUnitario_final','Total\x20retención','</a>','setClienteDenominacion-','Recepcionista','Aperturar\x20Ventana','label-options','https://','Error\x20saving\x20window\x20options\x20DB','setTotalImpuestos','https://apierp.dev/api/layout/update/','Porcentaje\x20detracción','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','content','float-left-','contains','setCollaboratorId','setPaymentType','dragleave','Carnes\x20y\x20despojos\x20comestibles','function','index','color','element-bar','\x20emitido\x20el\x20','setMtoOperInafectas','closeModalOptions-','setReceiptClientAddress','<strong>Cierre\x20de\x20Turno</strong>','label-cart','setRetencion','step','class','</div>','setMonedaName','cart-item-options\x20d-none','Stock\x20Actual:<br>','isCommission','Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos','custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','0.1','items','Muchas\x20gracias\x20por\x20su\x20compra','setRetencionTotal','container-section-options-','setMtoIGV','tabs-editLayout','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2','dragover','checkout-btn-','setCartTmp','Ajustes\x20de\x20operación','</span>\x0a</div>\x0a</div>\x0a','Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.','desc','none','cart-panel\x20d-flex\x20flex-column\x20flex-grow-1','pointer','setDocumentType','setImpuestoCode','Desc.\x20(%)','setEmpresaRuc','removeProperty','modalOverlay','setReceiptDescGlobal','setPermissions','Delete','div-width-30\x20col-bt-padding','general-options\x20row','Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.','offline_operations','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','aria-label','string','_blank','https://apierp.dev/api/windows/update-cart-tmp/','.category-checkbox','setPrintServers','./img/layout/icon-bathroom-women.svg','closeModal','getUTCDate','Seleccione:','setTipoOperacionName','shiftDetails','thead','\x20|\x20','img-options','closeModalPay','Product\x20Deleted\x20Order\x20successfully.','object','toLocaleString','.tab-content','itemsPerPageSelect','Email','Sección\x20con\x20ID\x20\x22','revokeObjectURL','WindowId\x20Error','Op.\x20Gravadas\x20(','Aceite\x20de\x20pescado','Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:','Error\x20WindowOp','setCustomerPhone','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd','widthOfTextAtSize','setSubTotal','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','setImpuestoValue','replace','unit','setToken','events','shiftKey','Porcentaje\x20percepción','OP.\x20EXONERADAS','OP.\x20INAFECTAS','Error\x20desconocido\x20al\x20guardar\x20el\x20layout.','keypress','assign','timeOrigin','disabled','marginRight','Window\x20Creada\x20Correctamente.','iframePrint_','Apertura:','TRES','float-left','\x22\x20class=\x22input-Descuento-Global\x22>','setMonedaSimbol','Total\x20Percepción\x20(','setPrinters','Estado\x20del\x20layout\x20cargado.','.layout-tab-btn','splice','\x22\x20debe\x20tener\x20un\x20','setReceiptType','setCustomerEmail','suggestion-item','Editar','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','add','float-right','No\x20se\x20encontraron\x20productos.','video/','icon-arrow-right','707360UClMrt','setDefaultNote','email-recipient-template','checkout-','element-vertical-line','\x22\x20no\x20encontrada.','data-tooltip','image/','Descuento\x20por\x20Items','.input-array-method','tabs-home','\x20cuotas','position','table','Error\x20al\x20guardar\x20datos:','#333','\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20','setClienteDireccion-','Agregado\x20...','div-width-15','Cronograma\x20de\x20Pagos','borderBottomRightRadius','setPreAccountDate','Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','float-right-totals','Madera','cart-item-options','setAttachType-','Despachar\x20Después','./img/layout/icon-bathroom-men.svg','019','\x20|\x20Notas:\x20','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','No\x20se\x20encontraron\x20datos.','btnOpciones','Error\x20Push\x20Product!\x20','toUpperCase','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2','div-text-debe-vuelto-','suggestions-container','left','active','modalOverlayShift','floor','NOVENTA','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','Error\x20al\x20guardar\x20el\x20carrito:','bi\x20bi-calendar\x20icon-pay-calendar','vuelto','https://apierp.dev/api/print/send/','Cantidad\x20ajustada\x20al\x20máximo.','setPrinterId','marginLeft','onclick','Guardar','setOrders','setCashInitialInput','detalleModalPay','setMtoValorGratuito','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','Mixto','0.5em\x200','number','navigationStart','file','setBranchId','resultado','setSerieTipo','arrayBuffer','float-left-TotalDescuentoItems-','remove','transaction','Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles','Total\x20percepción','REPRESENTACION\x20IMPRESA\x20DE','setDespacho','setWindowStatus','001','setCorrelativoInicial','.emailDestination','setCustomerDocumentNumber','setUser_Local','cart-item','detalleModalLayout','setCantidad','Error\x20desconocido\x20al\x20actualizar\x20Data.','RUC','Desc.\x20por\x20Items\x20(','match','Algodón\x20en\x20rama\x20sin\x20desmontar','CUATRO','Error\x20al\x20guardar\x20el\x20layout\x20online:','IGV\x20Gratuitas\x20(','Cliente','setIdSucursal','.payment-option-','classList','setAccountingAccountId','setBankAccounts','pay-container-','isArray','windowsState.php','DETRACCIÓN','020','div-group-container\x20div-width-100','product-container','nombres','descuentoGlobalMonto','setDefaultNotes','input-Descuento-Global-','Registrar\x20Gasto','\x20del\x20','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','url(\x27','setEmpresaNombre','total_comision','No\x20se\x20encontraron\x20resultados.','text','.pdf','style','target','setDocTypeName','setMtoOperExoneradas','Guardando\x20Correlativo\x20Offline\x20en\x20DB','success','detalleModal','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.','005','Op.\x20Exoneradas\x20(','selectedCode','square-small','display','Op.\x20Gratuitas\x20(','center','Azúcar','setPorcentajeDesc','setEmailCredentialsHostSMTP','036','setClienteDireccion','float-left-TotalIgvGratuitas-','input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','detraccionTotal-','dataTransfer','009','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt','Opciones','Intermediación\x20laboral\x20y\x20tercerización','Tab','setCustomerAddress','statusText','Shift\x20Save\x20Error:','btnWindowSave','setMtoIGVGratuitas','#FF5900','free','Costo\x20Unitario','<br>\x0a','setTipoDocumentosCliente','submit','video','replaceChild','float-left-OpInafecta-','FECHA:','setHours','\x20input.input-array-operacion','Backspace','setClienteNumDoc-','setConversionFactor','Duplicar','head','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','float-left-TotalIgv-','Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.','currency','Operación\x20Guardada\x20Correctamente.','Check\x20In','toISOString','PAGAR','div-width-100\x20col-bt-padding','CINCO','setMtoPrecioUnitario_input','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','(((.+)+)+)+$','offsetWidth','div-totals-right-TotalIgvGratuitas-','btnShiftStart','setCurrencySymbol','search','hasOwnProperty','setCategoria','application/json','No\x20se\x20encontraron\x20resultados','.whatsapp-recipient','promise','from','./img/icon-ajustes-operacion.svg','No\x20hay\x20impresoras','ID\x20Shift\x20Empty','element-bathroom-women','034','6572AKPcyf','container-section-options','setWarehouseStockMin','setEmailCredentialsSenderEmail','setBranchAddress','setDefaultNoteType','<Ant','itemCheckbox-','setIgv','touchend','status-label-','/wa/','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','./img/layout/icon-table.svg','emailRecipients','infoLoadingModal','setCorrelativo-','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion'];_0xa0d8=function(){return _0x32ad8c;};return _0xa0d8();}async function validateOperation(_0x7c18f0,_0x4fd2ce=''){const _0x5a2109=_0x10508b,_0x4ae30e=document[_0x5a2109(0x32b)](_0x5a2109(0x620)),_0x275642=_0x4ae30e[_0x5a2109(0x4be)],_0x1f7bf5=_0x4ae30e['options'][_0x4ae30e['selectedIndex']][_0x5a2109(0x654)],_0x4d55e9=document[_0x5a2109(0x32b)](_0x5a2109(0x336)+_0x7c18f0)[_0x5a2109(0x4be)],_0x1669da=document['getElementById'](_0x5a2109(0x210)+_0x7c18f0)['value'],_0x2795ce=document[_0x5a2109(0x32b)](_0x5a2109(0x406)+_0x7c18f0)[_0x5a2109(0x4be)],_0x183180=document['getElementById'](_0x5a2109(0x6b8)+_0x7c18f0)['value'],_0x11bd4e=document[_0x5a2109(0x32b)](_0x5a2109(0x35e)+_0x7c18f0)[_0x5a2109(0x4be)],_0x47d074=document[_0x5a2109(0x32b)]('setClienteTipoDoc-'+_0x7c18f0)[_0x5a2109(0x4be)],_0x33d50f=document[_0x5a2109(0x32b)](_0x5a2109(0x685)+_0x7c18f0)[_0x5a2109(0x4be)],_0x3e0855=document['getElementById'](_0x5a2109(0x551)+_0x7c18f0)['value'],_0x463bc8=document[_0x5a2109(0x32b)](_0x5a2109(0x5ef)+_0x7c18f0)['value'],_0x2a2ab8=document[_0x5a2109(0x32b)](_0x5a2109(0x4c2)+_0x7c18f0)[_0x5a2109(0x4be)],_0x580919=document[_0x5a2109(0x32b)](_0x5a2109(0x74d)+_0x7c18f0)[_0x5a2109(0x4be)],_0x12162e=document[_0x5a2109(0x32b)](_0x5a2109(0x705)+_0x7c18f0)[_0x5a2109(0x4be)],_0x7e830b=document['getElementById'](_0x5a2109(0x3dc)+_0x7c18f0)[_0x5a2109(0x4be)],_0xe585cd=getTotalFromFloatRight(_0x7c18f0),_0x25aad2=getFilteredCart(_0x7c18f0);if(!_0x4d55e9||!_0x47d074)return ntfShow(_0x5a2109(0x595)),![];if(!setTipOpePurchaseReceipt['some'](_0x25e08e=>_0x25e08e==window_options[_0x7c18f0][_0x5a2109(0x3b3)])){if(!_0x2795ce||!_0x183180)return ntfShow(_0x5a2109(0x583)),![];if(!/^[A-Za-z0-9]{4}$/[_0x5a2109(0x3e6)](_0x2795ce))return ntfShow(_0x5a2109(0x6b4)),![];if(/ñ/i[_0x5a2109(0x3e6)](_0x2795ce))return ntfShow(_0x5a2109(0x3f8)),![];if(window_options[_0x7c18f0][_0x5a2109(0x3b3)]=='3'&&_0x2795ce['charAt'](0x0)!=='B')return ntfShow(_0x5a2109(0x493)),![];if(window_options[_0x7c18f0]['setTipoOperacion']=='4'&&_0x2795ce['charAt'](0x0)!=='F')return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.'),![];}if(setTipOpeSalesInvoice[_0x5a2109(0x3f2)](_0x367425=>_0x367425==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpePurchaseInvoice[_0x5a2109(0x3f2)](_0x3f4c8a=>_0x3f4c8a==window_options[_0x7c18f0][_0x5a2109(0x3b3)])){if(!_0x33d50f['trim']()||!_0x3e0855[_0x5a2109(0x2b8)]())return ntfShow(_0x5a2109(0x43c)),![];if(window_options[_0x7c18f0][_0x5a2109(0x3b3)]=='4'&&_0x47d074!=_0x5a2109(0x635))return ntfShow(_0x5a2109(0x65d)),![];}if(setTipOpeSalesTicket['some'](_0x4bc124=>_0x4bc124==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpePurchaseTicket[_0x5a2109(0x3f2)](_0x507ead=>_0x507ead==window_options[_0x7c18f0]['setTipoOperacion'])){if(window_options[_0x7c18f0][_0x5a2109(0x3b3)]=='3'&&_0xe585cd>=0x2bc){if(_0x47d074!=_0x5a2109(0x1e5)&&_0x47d074!=_0x5a2109(0x635)||!_0x33d50f['trim']()||!_0x3e0855['trim']())return ntfShow(_0x5a2109(0x325)),![];}}if(_0x33d50f['trim']()){if(_0x47d074==_0x5a2109(0x1e5)&&!/^\d{8}$/[_0x5a2109(0x3e6)](_0x33d50f))return ntfShow(_0x5a2109(0x3df)),![];if(_0x47d074==_0x5a2109(0x635)&&!/^\d{11}$/[_0x5a2109(0x3e6)](_0x33d50f))return ntfShow(_0x5a2109(0x276)),![];if(!_0x3e0855[_0x5a2109(0x2b8)]())return ntfShow(_0x5a2109(0x423)),![];}if(!Array[_0x5a2109(0x643)](_0x25aad2)||_0x25aad2[_0x5a2109(0x4e9)]==0x0)return ntfShow(_0x5a2109(0x47d)),![];let _0x59c8ed;setTipOpeOrders[_0x5a2109(0x3f2)](_0x39107f=>_0x39107f==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeSales[_0x5a2109(0x3f2)](_0x49c404=>_0x49c404==window_options[_0x7c18f0]['setTipoOperacion'])||setTipOpeQuotation[_0x5a2109(0x3f2)](_0x5ed4dc=>_0x5ed4dc==window_options[_0x7c18f0][_0x5a2109(0x3b3)])?_0x59c8ed=0x2:_0x59c8ed=0x1;for(var _0x149786=0x0;_0x149786<_0x25aad2['length'];_0x149786++){let _0x565d38,_0x24ccfc;_0x59c8ed==0x1?(_0x565d38=parseFloat(_0x25aad2[_0x149786]['setMtoPrecioCostoUnitario_input'])||0x0,_0x24ccfc='costo'):(_0x565d38=parseFloat(_0x25aad2[_0x149786][_0x5a2109(0x694)])||0x0,_0x24ccfc=_0x5a2109(0x408));var _0xd5ae6=_0x565d38;if(_0xd5ae6<=0x0)return ntfShow(_0x5a2109(0x4f3)+(_0x25aad2[_0x149786][_0x5a2109(0x460)]||_0x5a2109(0x728))+_0x5a2109(0x5d3)+_0x24ccfc+_0x5a2109(0x307)),![];}if(_0x4fd2ce){const _0x5caa20=parseInt(getUserPermissionApiERP(0xe)),_0x5ba5da=parseInt(getUserPermissionApiERP(0x5));if((_0x5ba5da==0x0||_0x5ba5da==0x1&&((setTipOpeSalesTicket['some'](_0x47cb34=>_0x47cb34==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeSalesInvoice[_0x5a2109(0x3f2)](_0x246510=>_0x246510==window_options[_0x7c18f0][_0x5a2109(0x3b3)]))&&_0x5caa20==0x0))&&window_options[_0x7c18f0][_0x5a2109(0x230)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x5a2109(0x3f2)](_0x51b42d=>_0x51b42d==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeSales[_0x5a2109(0x3f2)](_0x14bc85=>_0x14bc85==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeQuotation[_0x5a2109(0x3f2)](_0x77638=>_0x77638==window_options[_0x7c18f0]['setTipoOperacion'])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x7c18f0][_0x5a2109(0x3b3)],window_options[_0x7c18f0][_0x5a2109(0x2e5)]),hideLoadingModal();else{if(window_options[_0x7c18f0][_0x5a2109(0x230)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x5a2109(0x3f2)](_0x4d6e46=>_0x4d6e46==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeSales['some'](_0x555563=>_0x555563==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeQuotation[_0x5a2109(0x3f2)](_0x3fb91e=>_0x3fb91e==window_options[_0x7c18f0][_0x5a2109(0x3b3)]))){showLoadingModal();let _0x471ef4=parseInt(await getLastCorrelativeOffline(window_options[_0x7c18f0][_0x5a2109(0x3b3)],window_options[_0x7c18f0][_0x5a2109(0x2e5)]),0xa)||0x0,_0x25bcfe;if(_0x5ba5da==0x1){const _0x463c6c=getLoggedUserSeries();_0x25bcfe=_0x463c6c[_0x5a2109(0x2b5)](_0x425931=>_0x425931[_0x5a2109(0x288)]==window_options[_0x7c18f0][_0x5a2109(0x3b3)]&&_0x425931[_0x5a2109(0x3c0)]==window_options[_0x7c18f0][_0x5a2109(0x2e5)]);}else _0x25bcfe=myCompany['setSeries'][_0x5a2109(0x2b5)](_0x1ab32f=>_0x1ab32f[_0x5a2109(0x622)]==window_options[_0x7c18f0]['setTipoOperacion']&&_0x1ab32f['setSerie']==window_options[_0x7c18f0][_0x5a2109(0x2e5)]);if(!_0x25bcfe){ntfShow(_0x5a2109(0x6ce)),console[_0x5a2109(0x769)](_0x5a2109(0x6ce));return;}_0x5ba5da==0x1?_0x25bcfe[_0x5a2109(0x3e1)]=_0x471ef4:_0x25bcfe[_0x5a2109(0x62d)]=_0x471ef4;try{const _0x5d5a64=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5d5a64),window_options[_0x7c18f0][_0x5a2109(0x352)]=_0x471ef4,await saveWindowOptionsDB(_0x7c18f0),console[_0x5a2109(0x4bd)](_0x5a2109(0x65a));}catch(_0x2b3528){console[_0x5a2109(0x769)](_0x5a2109(0x4c0),_0x2b3528);throw _0x2b3528;}hideLoadingModal();}}return(setTipOpeOrders[_0x5a2109(0x3f2)](_0x576515=>_0x576515==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpeQuotation[_0x5a2109(0x3f2)](_0x501308=>_0x501308==window_options[_0x7c18f0][_0x5a2109(0x3b3)]))&&saveOperation(_0x7c18f0),(setTipOpeSales[_0x5a2109(0x3f2)](_0x1ea0ce=>_0x1ea0ce==window_options[_0x7c18f0][_0x5a2109(0x3b3)])||setTipOpePurchases[_0x5a2109(0x3f2)](_0x2b8417=>_0x2b8417==window_options[_0x7c18f0][_0x5a2109(0x3b3)]))&&(showSection(_0x4fd2ce,_0x7c18f0),document[_0x5a2109(0x32b)](_0x5a2109(0x4b8)+_0x7c18f0)['value']='contado',triggerChangeEventById(_0x5a2109(0x4b8)+_0x7c18f0),updateActivePaymentOption(_0x7c18f0,_0x5a2109(0x242))),!![];}else return!![];}function buildPayload(_0x29c31a,_0x106b8e=''){const _0x1c5ce5=_0x10508b;window_options[_0x29c31a]['apiPOSsendOffline']=0x1;const _0xc09915=myCompany[_0x1c5ce5(0x6e1)]['find'](_0x466334=>_0x466334[_0x1c5ce5(0x708)]==_0x29c31a);window_options[_0x29c31a][_0x1c5ce5(0x459)]=_0x29c31a,window_options[_0x29c31a][_0x1c5ce5(0x305)]=_0xc09915[_0x1c5ce5(0x305)],window_options[_0x29c31a]['setWindowType']=_0xc09915['setWindowType'],window_options[_0x29c31a]['setEnvironmentName']=_0xc09915[_0x1c5ce5(0x295)],window_options[_0x29c31a][_0x1c5ce5(0x2ce)]=generateUniqId(),window_options[_0x29c31a][_0x1c5ce5(0x310)]=new Date();parseInt(window_options[_0x29c31a][_0x1c5ce5(0x2ef)])!=0x1&&(window_options[_0x29c31a]['setFechaHora']=obtener_fechaHora());const _0x5993e5=getValidatedWindowAndShift(_0x29c31a)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x4e5f13,currentWindowShift:_0x5c275a}=_0x5993e5,_0x1d9017=window_options[_0x29c31a],_0x2bddd2=medio_pago[_0x29c31a];let _0x6018d2=getFilteredCart(_0x29c31a);_0x106b8e!=''&&(_0x6018d2=_0x6018d2[_0x1c5ce5(0x46d)](_0x462ad2=>{const _0x298fcb=_0x1c5ce5,_0x2e71bd=products[_0x298fcb(0x2b5)](_0x26ccb4=>_0x26ccb4['id']==_0x462ad2[_0x298fcb(0x3f6)]);return _0x2e71bd&&_0x2e71bd[_0x298fcb(0x5cf)]&&_0x2e71bd[_0x298fcb(0x5cf)][_0x298fcb(0x3f2)](_0x161a29=>_0x161a29['setPrinterId']==_0x106b8e);}));const _0x56f62d=document['getElementById'](_0x1c5ce5(0x443));if(!_0x56f62d)return console[_0x1c5ce5(0x769)](_0x1c5ce5(0x4f7)),null;const _0x42e122=_0x56f62d[_0x1c5ce5(0x4be)],_0x2d5f56=_0x56f62d[_0x1c5ce5(0x3c2)][_0x56f62d['selectedIndex']][_0x1c5ce5(0x654)],_0x42d12c=document[_0x1c5ce5(0x32b)](_0x1c5ce5(0x620));if(!_0x42d12c)return console[_0x1c5ce5(0x769)](_0x1c5ce5(0x759)),null;const _0x1f8434=_0x42d12c[_0x1c5ce5(0x4be)],_0x2a47dd=myCompany['setBranches'][_0x1c5ce5(0x2b5)](_0x596eb2=>_0x596eb2[_0x1c5ce5(0x620)]==_0x1f8434)?.['setBranchName']||'',_0x144372=myCompany[_0x1c5ce5(0x269)][_0x1c5ce5(0x2b5)](_0x18430c=>_0x18430c['setBranchId']==_0x1f8434)?.[_0x1c5ce5(0x6ac)]||'',_0x40e3ea=document[_0x1c5ce5(0x32b)]('setWarehouseId');if(!_0x40e3ea)return console['error'](_0x1c5ce5(0x24c)),null;const _0x449624=_0x40e3ea[_0x1c5ce5(0x4be)],_0x45c5b4=_0x40e3ea[_0x1c5ce5(0x3c2)][_0x40e3ea[_0x1c5ce5(0x4cc)]][_0x1c5ce5(0x654)],_0x1a1a3b=_0x1d9017[_0x1c5ce5(0x44e)],_0x1e7817=myCompany[_0x1c5ce5(0x21a)][_0x1c5ce5(0x2b5)](_0x1699f6=>_0x1699f6[_0x1c5ce5(0x786)]==_0x1a1a3b),_0x4682a4=_0x1e7817?_0x1e7817[_0x1c5ce5(0x570)]:null,_0x541673=_0x1e7817?_0x1e7817[_0x1c5ce5(0x5cd)]:null,_0x4c2506=_0x1d9017[_0x1c5ce5(0x3b3)],_0x3aba96=myCompany[_0x1c5ce5(0x297)][_0x1c5ce5(0x2b5)](_0x25e4ba=>_0x25e4ba[_0x1c5ce5(0x2d0)]==_0x4c2506),_0x16591c=_0x3aba96?_0x3aba96[_0x1c5ce5(0x5a0)]:null;!myCompany[_0x1c5ce5(0x784)]&&(myCompany[_0x1c5ce5(0x784)]=[]);const _0x331ca7=myCompany['setShifts'],_0x5ef026=_0x331ca7[_0x1c5ce5(0x2b5)](_0x1df6d8=>_0x1df6d8[_0x1c5ce5(0x620)]==_0x1f8434&&_0x1df6d8['setShiftStatus']=='1'),_0x3a8d82={..._0x1d9017,'setToken':myCompany['setAuthToken'],'setWebhook':myCompany['setWebhook'],'setShiftId':_0x5ef026?_0x5ef026[_0x1c5ce5(0x34b)]:0x0,'setWindowShiftId':_0x5c275a?_0x5c275a[_0x1c5ce5(0x34b)]:0x0,'setSucursalCodigo':_0x1f8434,'setSucursalNombre':_0x2a47dd,'setBranchAddress':_0x144372,'setWarehouseId':_0x449624,'setWarehouseName':_0x45c5b4,'setCashierId':_0x42e122,'setCashierName':_0x2d5f56,'setProductos':_0x6018d2,'setMedioPago':_0x2bddd2,'setDocumentType':_0x16591c,'setCurrencyName':_0x4682a4,'setCurrencySymbol':_0x541673};return setLastOperationGlobalData(_0x29c31a,{'pdfGlobalPayload':_0x3a8d82,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x3a8d82;}async function saveOperation(_0x36fa03){const _0x268d6a=_0x10508b;let _0xfb2959;(setTipOpeOrders[_0x268d6a(0x3f2)](_0x5c5ffe=>_0x5c5ffe==window_options[_0x36fa03]['setTipoOperacion'])||setTipOpeQuotation[_0x268d6a(0x3f2)](_0x448d10=>_0x448d10==window_options[_0x36fa03]['setTipoOperacion']))&&(_0xfb2959=document[_0x268d6a(0x32b)](_0x268d6a(0x57f)+_0x36fa03));(setTipOpeSales[_0x268d6a(0x3f2)](_0x3ed0e5=>_0x3ed0e5==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpePurchases['some'](_0x44da61=>_0x44da61==window_options[_0x36fa03][_0x268d6a(0x3b3)]))&&(_0xfb2959=document[_0x268d6a(0x32b)](_0x268d6a(0x2a9)+_0x36fa03));if(!_0xfb2959){console[_0x268d6a(0x769)](_0x268d6a(0x330));return;}_0xfb2959['disabled']=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x36fa03)){_0xfb2959[_0x268d6a(0x5c5)]=![],hideLoadingModal(),showModalPay();return;}const _0xa1f477=buildPayload(_0x36fa03);if(!_0xa1f477){console[_0x268d6a(0x769)]('Error\x20al\x20construir\x20el\x20payload.'),_0xfb2959[_0x268d6a(0x5c5)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0xa1f477);const _0x2148b8=[],_0x4400b3=_0xa1f477[_0x268d6a(0x3a6)],_0x3785fb=myCompany[_0x268d6a(0x5cf)][_0x268d6a(0x46d)](_0x3c90b4=>_0x3c90b4[_0x268d6a(0x620)]==_0x4400b3);setTipOpeOrders[_0x268d6a(0x3f2)](_0x922bb3=>_0x922bb3==window_options[_0x36fa03][_0x268d6a(0x3b3)])&&_0xa1f477[_0x268d6a(0x1ec)][_0x268d6a(0x1fa)](_0x4d802c=>{const _0x2974c5=_0x268d6a,_0x32c8da=products['find'](_0x204bd4=>_0x204bd4['id']==_0x4d802c[_0x2974c5(0x3f6)]);if(_0x32c8da?.['setPrinters']?.[_0x2974c5(0x4e9)]){const _0x1a4ebd=_0x32c8da[_0x2974c5(0x5cf)]['filter'](_0x3ad099=>_0x3785fb[_0x2974c5(0x3f2)](_0x228d82=>_0x228d82[_0x2974c5(0x612)]==_0x3ad099[_0x2974c5(0x612)]));_0x1a4ebd[_0x2974c5(0x1fa)](_0x2fd17e=>{const _0x12c0c5=_0x2974c5;!_0x2148b8[_0x12c0c5(0x3f2)](_0x4d2a3f=>_0x4d2a3f[_0x12c0c5(0x612)]==_0x2fd17e[_0x12c0c5(0x612)])&&_0x2148b8[_0x12c0c5(0x7a6)]({..._0x2fd17e,'payloadComand':buildPayload(_0x36fa03,_0x2fd17e[_0x12c0c5(0x612)])});});}});let _0x434413;if(setTipOpeOrders[_0x268d6a(0x3f2)](_0x1a926c=>_0x1a926c==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpeSales['some'](_0x5113ef=>_0x5113ef==window_options[_0x36fa03]['setTipoOperacion'])||setTipOpeQuotation[_0x268d6a(0x3f2)](_0x47cb63=>_0x47cb63==window_options[_0x36fa03][_0x268d6a(0x3b3)])){let _0x5c69a6=await processCorrelativoInicial(window_options[_0x36fa03][_0x268d6a(0x3b3)],window_options[_0x36fa03][_0x268d6a(0x2e5)]);_0x5c69a6=parseInt(_0x5c69a6,0xa)||0x0,_0x434413=_0x5c69a6;}const _0x5d8d12=window_options[_0x36fa03]['setAttachEdit']==0x2;!_0x5d8d12&&(setTipOpeOrders[_0x268d6a(0x3f2)](_0x21b6b9=>_0x21b6b9==window_options[_0x36fa03]['setTipoOperacion'])||setTipOpeSales[_0x268d6a(0x3f2)](_0xba68c=>_0xba68c==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpeQuotation[_0x268d6a(0x3f2)](_0x444147=>_0x444147==window_options[_0x36fa03][_0x268d6a(0x3b3)]))&&(_0x434413+=0x1);if(window_options[_0x36fa03][_0x268d6a(0x62a)]==0x1&&(setTipOpeSales['some'](_0xe08ac7=>_0xe08ac7==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpePurchases['some'](_0x4adc30=>_0x4adc30==window_options[_0x36fa03]['setTipoOperacion']))){const _0x48bf92=document[_0x268d6a(0x32b)](_0x268d6a(0x256))[_0x268d6a(0x4be)],_0xbdd3b2=carts[_0x36fa03],_0x149f6d=_0x5d8d12?window_options[_0x36fa03]['setReceiptAttachArray']:[];_0xbdd3b2[_0x268d6a(0x1fa)](_0x3f9671=>{const _0x48584a=_0x268d6a;if(_0x3f9671[_0x48584a(0x51b)]!=0x1)return;const _0x3f5f06=products[_0x48584a(0x2b5)](_0x59d7d9=>_0x59d7d9['id']==_0x3f9671[_0x48584a(0x3f6)]);if(!_0x3f5f06){console['warn'](_0x48584a(0x225)+_0x3f9671[_0x48584a(0x3f6)]);return;}const _0x4cd8aa=parseFloat(_0x3f5f06[_0x48584a(0x686)]),_0x5b7488=parseFloat(_0x3f9671['setCantidad']);let _0x1961c5=0x0;if(_0x5d8d12){const _0x2d74eb=_0x149f6d[_0x48584a(0x2b5)](_0x870e66=>_0x870e66[_0x48584a(0x3f6)]==_0x3f9671[_0x48584a(0x3f6)]),_0x141977=_0x2d74eb?parseFloat(_0x2d74eb[_0x48584a(0x4ac)]):0x0;setTipOpeSales[_0x48584a(0x3f2)](_0x2862ea=>_0x2862ea==window_options[_0x36fa03][_0x48584a(0x3b3)])&&(_0x1961c5=_0x141977*_0x4cd8aa-_0x5b7488*_0x4cd8aa),setTipOpePurchases[_0x48584a(0x3f2)](_0x5c060a=>_0x5c060a==window_options[_0x36fa03][_0x48584a(0x3b3)])&&(_0x1961c5=_0x141977*_0x4cd8aa+_0x5b7488*_0x4cd8aa);}else setTipOpeSales['some'](_0x11840f=>_0x11840f==window_options[_0x36fa03]['setTipoOperacion'])&&(_0x1961c5=-(_0x5b7488*_0x4cd8aa)),setTipOpePurchases[_0x48584a(0x3f2)](_0x1786a1=>_0x1786a1==window_options[_0x36fa03][_0x48584a(0x3b3)])&&(_0x1961c5=_0x5b7488*_0x4cd8aa);const _0x24cd10=_0x3f5f06[_0x48584a(0x3f6)],_0x28bb3b=products['filter'](_0x3b71ea=>_0x3b71ea[_0x48584a(0x3f6)]==_0x24cd10);_0x28bb3b[_0x48584a(0x1fa)](_0x34c495=>{const _0x49447a=_0x48584a,_0x3d0896=_0x34c495['sucursales']['find'](_0xe63efc=>_0xe63efc['setIdSucursal']==_0x48bf92);if(!_0x3d0896){console[_0x49447a(0x21d)](_0x49447a(0x410)+_0x48bf92+_0x49447a(0x796)+_0x34c495['id']);return;}const _0x34d5a6=parseFloat(_0x3d0896['setSucursalStock']),_0x2eb24d=_0x34d5a6+_0x1961c5;_0x3d0896[_0x49447a(0x51a)]=_0x2eb24d,console[_0x49447a(0x4bd)](_0x49447a(0x25b)+_0x34c495['id']+'\x20(master\x20'+_0x24cd10+_0x49447a(0x381)+_0x48bf92+_0x49447a(0x3c9)+_0x34d5a6+'\x20a\x20'+_0x2eb24d);});});}if(setTipOpeOrders[_0x268d6a(0x3f2)](_0x5cfad5=>_0x5cfad5==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpeSales['some'](_0x1d53eb=>_0x1d53eb==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpeQuotation['some'](_0x1af5c3=>_0x1af5c3==window_options[_0x36fa03][_0x268d6a(0x3b3)])){let _0x543725;!_0x5d8d12?_0x543725=await processCorrelativoInicial(window_options[_0x36fa03]['setTipoOperacion'],window_options[_0x36fa03][_0x268d6a(0x2e5)],_0x434413):_0x543725=_0x434413,window_options[_0x36fa03][_0x268d6a(0x352)]=parseInt(_0x543725);}else window_options[_0x36fa03]['setCorrelativo']='';window_options[_0x36fa03][_0x268d6a(0x72f)]=obtener_fechaHora(),window_options[_0x36fa03][_0x268d6a(0x2ef)]=0x0,window_options[_0x36fa03][_0x268d6a(0x62a)]='1',window_options[_0x36fa03][_0x268d6a(0x396)]='1',window_options[_0x36fa03][_0x268d6a(0x1e3)]=0x0,window_options[_0x36fa03][_0x268d6a(0x230)]='1',correlativeReadonly=0x0,window_options[_0x36fa03]['setObservacion']='',medio_pago=[];const _0x17d60d=getValidatedWindowAndShift(_0x36fa03),{windowObj:_0x2843f1,currentWindowShift:_0x5732c4}=_0x17d60d;(!_0x5732c4||!setTipOpeOrders[_0x268d6a(0x3f2)](_0x1930af=>_0x1930af==window_options[_0x36fa03][_0x268d6a(0x3b3)]))&&(window_options[_0x36fa03][_0x268d6a(0x746)]='',window_options[_0x36fa03][_0x268d6a(0x4b1)]='',window_options[_0x36fa03][_0x268d6a(0x669)]='',window_options[_0x36fa03][_0x268d6a(0x5b3)]='',window_options[_0x36fa03][_0x268d6a(0x5d5)]='');if(_0x5732c4){_0x2843f1[_0x268d6a(0x2fe)]=nowWithMillisecondsForServer();if(setTipOpeOrders[_0x268d6a(0x3f2)](_0x4607a0=>_0x4607a0==window_options[_0x36fa03][_0x268d6a(0x3b3)])||setTipOpeSales['some'](_0x209f2d=>_0x209f2d==window_options[_0x36fa03][_0x268d6a(0x3b3)])){!_0x5732c4[_0x268d6a(0x616)]&&(_0x5732c4[_0x268d6a(0x616)]=[]);let _0x32b451=_0xa1f477;delete _0x32b451['pdfBlob'],_0x5732c4['setOrders']['push'](_0x32b451),_0x2843f1['setWindowStatus']=_0x268d6a(0x450),_0x5732c4['setPreAccountDate']='';}if(setTipOpeSales[_0x268d6a(0x3f2)](_0x1950b0=>_0x1950b0==window_options[_0x36fa03]['setTipoOperacion'])){const _0x3ee2a3=carts[_0x36fa03]||[],_0x65ab95=_0x3ee2a3['some'](_0x2e05e1=>_0x2e05e1['setChecked']==0x0);if(!_0x65ab95){_0x2843f1[_0x268d6a(0x62b)]=_0x268d6a(0x679);const _0x3ac709=new Date();_0x5732c4['setShiftStatus']='0',_0x5732c4['setShiftDateEnd']=_0x3ac709;}}const _0x366666=await createCartStore('');await saveCompanyToIndexedDB(company,_0x366666);}for(let _0x285c61=products[_0x268d6a(0x4e9)]-0x1;_0x285c61>=0x0;_0x285c61--){products[_0x285c61][_0x268d6a(0x52b)]==0x1&&products['splice'](_0x285c61,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x36fa03);}catch(_0x131f33){_0xfb2959['disabled']=![],hideLoadingModal(),showModalPay(),console[_0x268d6a(0x769)](_0x268d6a(0x5b2),_0x131f33);return;}await removeAllFromCart(_0x36fa03),_0xfb2959[_0x268d6a(0x5c5)]=![],hideLoadingModal(),showLeftSection();_0x2148b8[_0x268d6a(0x4e9)]>0x0&&processPrints(_0x2148b8);const _0x12c186=getUserPermissionApiERP(0x3),_0x553de6=myCompany[_0x268d6a(0x630)][_0x268d6a(0x372)],_0x26f724=myCompany['setUsers'][_0x268d6a(0x2b5)](_0x11d864=>_0x11d864[_0x268d6a(0x737)]==_0x553de6),_0x5092e0=_0x26f724?.[_0x268d6a(0x269)][_0x268d6a(0x2b5)](_0x1ef5d3=>_0x1ef5d3[_0x268d6a(0x620)]==_0x4400b3)?.[_0x268d6a(0x612)]||0x0;if(setTipOpeSales[_0x268d6a(0x3f2)](_0x4ed52a=>_0x4ed52a==window_options[_0x36fa03][_0x268d6a(0x3b3)])&&_0x12c186==0x1&&_0x5092e0!=0x0){const _0xca6191=_0x3785fb[_0x268d6a(0x2b5)](_0xfe095=>_0xfe095[_0x268d6a(0x612)]==_0x5092e0);if(_0xca6191){const {pdfGlobalPayload:_0x59147b,pdfGlobalBlob:_0xab27e2,pdfGlobalName:_0x31d381}=getLastOperationGlobalData(_0x36fa03);setPrintOnline(_0xca6191[_0x268d6a(0x2d3)],_0xab27e2,_0x31d381,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x268d6a(0x4be)]='',renderProducts(''),initializeCategorys();const _0x2c41f0=document[_0x268d6a(0x32b)](_0x268d6a(0x781)),_0x18920a=_0xa1f477[_0x268d6a(0x72f)],_0x5bcd99=new Date(_0x18920a),_0x4ab5bc=_0x5bcd99[_0x268d6a(0x438)](),_0x202add=monthsEspanish[_0x5bcd99[_0x268d6a(0x7a4)]()],_0x4dd89c=_0x5bcd99[_0x268d6a(0x515)](),_0x5068aa=_0x4ab5bc+'\x20de\x20'+_0x202add+_0x268d6a(0x64e)+_0x4dd89c;_0x2c41f0[_0x268d6a(0x4be)]=_0x268d6a(0x3b4)+(_0xa1f477['setClienteDenominacion']??'')+_0x268d6a(0x3d8)+myCompany[_0x268d6a(0x427)]+_0x268d6a(0x50e)+_0xa1f477['setDocumentType']+':\x20'+_0xa1f477['setSerie']+'-'+_0xa1f477[_0x268d6a(0x352)]+_0x268d6a(0x566)+_0x5068aa+'.',await setOrders(_0x36fa03),apiERPsync();}catch(_0x3e90e8){_0xfb2959['disabled']=![],hideLoadingModal(),showModalPay(),console['error'](_0x268d6a(0x360),_0x3e90e8);return;}}async function storeOfflineOperation(_0x17bc27,_0x346460=0x0){const _0x4d5976=_0x10508b;try{const _0x2cade5=await createCartStore('');if(_0x346460==0x0){const {pdfBlob:_0x4267bb,pdfName:_0x266530}=await generatePdf(_0x17bc27,'tk','pdfCanvas','1.5');_0x17bc27['pdfBlob']=_0x4267bb;const _0x16f84a=document[_0x4d5976(0x32b)](_0x4d5976(0x459))[_0x4d5976(0x4be)];setLastOperationGlobalData(_0x16f84a,{'pdfGlobalPayload':_0x17bc27,'pdfGlobalBlob':_0x4267bb,'pdfGlobalName':_0x266530}),!setTipOpeOrders['some'](_0x3a0110=>_0x3a0110==_0x17bc27[_0x4d5976(0x3b3)])&&showModal();}const _0x3af57d=_0x2cade5[_0x4d5976(0x626)](_0x4d5976(0x594),_0x4d5976(0x3e8)),_0x177413=_0x3af57d[_0x4d5976(0x253)]('offline_operations');_0x177413[_0x4d5976(0x5d9)](_0x17bc27),_0x3af57d[_0x4d5976(0x538)]=()=>{const _0x419880=_0x4d5976;console['log'](_0x419880(0x68e)),console['log'](_0x17bc27);},_0x3af57d[_0x4d5976(0x3c8)]=_0x49e695=>{const _0x82ac05=_0x4d5976;console[_0x82ac05(0x769)](_0x82ac05(0x3d2),_0x49e695[_0x82ac05(0x657)][_0x82ac05(0x769)]);};}catch(_0x127b49){console['error'](_0x4d5976(0x404),_0x127b49);}}function getFormattedDate(_0x2e218e){const _0x27b38e=_0x10508b,_0x123e28=new Date(_0x2e218e);return _0x123e28[_0x27b38e(0x6c0)]();}function getFormattedTime(_0x34f5da){const _0xd345a0=_0x10508b,_0x23197b=new Date(_0x34f5da);return _0x23197b[_0xd345a0(0x3e5)]();}function getCurrentDateTime(){return new Date()['toISOString']();}function sanitizeData(_0x1e2f3c,_0x18f2cd=_0x10508b(0x597)){const _0x5d30a5=_0x10508b,_0x22ae2d=_0x45d677=>{const _0x5b31f9=_0xcdf0;if(_0x45d677==null||_0x45d677=='')return'';return _0x45d677[_0x5b31f9(0x5b9)](/[\xC0-\xFF]/g,_0x922d23=>{const _0x265840={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0x265840[_0x922d23]||_0x922d23;});},_0x1e50e6=_0x1d3f60=>{return parseFloat(_0x1d3f60)||0x0;},_0x47c692=_0x3d6ab6=>{const _0x3e9e66=_0xcdf0;return _0x3d6ab6[_0x3e9e66(0x6cd)](_0x4c97b1=>{const _0x2bfd1c=_0x3e9e66;if(typeof _0x4c97b1==_0x2bfd1c(0x5a7)&&_0x4c97b1!==null)return sanitizeData(_0x4c97b1,_0x18f2cd);return sanitizeData(_0x4c97b1,_0x18f2cd);});};if(typeof _0x1e2f3c=='object'&&_0x1e2f3c!==null){const _0x62a9f4={};for(const _0x22fcdc in _0x1e2f3c){_0x1e2f3c[_0x5d30a5(0x69c)](_0x22fcdc)&&(_0x62a9f4[_0x22fcdc]=sanitizeData(_0x1e2f3c[_0x22fcdc],_0x18f2cd));}return _0x62a9f4;}if(Array[_0x5d30a5(0x643)](_0x1e2f3c))return _0x47c692(_0x1e2f3c);if(_0x18f2cd==_0x5d30a5(0x61d)||_0x18f2cd=='float')return _0x1e50e6(_0x1e2f3c);return _0x22ae2d(_0x1e2f3c);}function getCurrentDate(){const _0x5ea7c5=_0x10508b,_0x256f80=new Date();return _0x256f80[_0x5ea7c5(0x690)]();}function numeroALetras(_0x2e25c7){const _0x501c3f=_0x10508b,_0x4d6358=['',_0x501c3f(0x27a),_0x501c3f(0x2a5),_0x501c3f(0x5ca),_0x501c3f(0x639),_0x501c3f(0x693),_0x501c3f(0x471),'SIETE','OCHO',_0x501c3f(0x2d1)],_0x1ccd73=['',_0x501c3f(0x218),_0x501c3f(0x2fb),_0x501c3f(0x1e1),_0x501c3f(0x308),'CINCUENTA','SESENTA',_0x501c3f(0x2b3),_0x501c3f(0x757),_0x501c3f(0x60b)],_0x443412=['',_0x501c3f(0x4bb),'DOSCIENTOS',_0x501c3f(0x46b),_0x501c3f(0x77b),_0x501c3f(0x4d9),_0x501c3f(0x244),'SETECIENTOS',_0x501c3f(0x3fd),_0x501c3f(0x361)];function _0x11de95(_0x2b2f0a){const _0x5ba22c=_0x501c3f;if(_0x2b2f0a==0x0)return _0x5ba22c(0x6d2);if(_0x2b2f0a==0x64)return _0x5ba22c(0x339);if(_0x2b2f0a>=0x1&&_0x2b2f0a<=0x9)return _0x4d6358[_0x2b2f0a];if(_0x2b2f0a>=0xa&&_0x2b2f0a<=0x13){const _0x434cf4=[_0x5ba22c(0x218),_0x5ba22c(0x41c),'DOCE','TRECE',_0x5ba22c(0x4dd),_0x5ba22c(0x344),'DIECISÉIS','DIECISIETE',_0x5ba22c(0x4d4),'DIECINUEVE'];return _0x434cf4[_0x2b2f0a-0xa];}if(_0x2b2f0a>=0x14&&_0x2b2f0a<=0x1d){const _0x2ba1a5=_0x2b2f0a%0xa;return'VEINTI'+(_0x2ba1a5>0x0?_0x4d6358[_0x2ba1a5]:'');}if(_0x2b2f0a>=0x1e&&_0x2b2f0a<=0x63){const _0x35445a=Math[_0x5ba22c(0x60a)](_0x2b2f0a/0xa),_0x143809=_0x2b2f0a%0xa;return''+_0x1ccd73[_0x35445a]+(_0x143809>0x0?_0x5ba22c(0x3d7)+_0x4d6358[_0x143809]:'');}if(_0x2b2f0a>=0x64&&_0x2b2f0a<=0x3e7){const _0x1bc8f9=Math['floor'](_0x2b2f0a/0x64),_0x1dbf32=_0x2b2f0a%0x64;return''+_0x443412[_0x1bc8f9]+(_0x1dbf32>0x0?'\x20'+_0x11de95(_0x1dbf32):'');}if(_0x2b2f0a>=0x3e8&&_0x2b2f0a<=0xf423f){const _0x116b9b=Math[_0x5ba22c(0x60a)](_0x2b2f0a/0x3e8),_0x196b85=_0x2b2f0a%0x3e8;return''+(_0x116b9b>0x1?_0x11de95(_0x116b9b)+_0x5ba22c(0x214):_0x5ba22c(0x24f))+(_0x196b85>0x0?'\x20'+_0x11de95(_0x196b85):'');}if(_0x2b2f0a>=0xf4240&&_0x2b2f0a<=0x3b9ac9ff){const _0x4d3e27=Math['floor'](_0x2b2f0a/0xf4240),_0x28b5b2=_0x2b2f0a%0xf4240;return''+(_0x4d3e27>0x1?_0x11de95(_0x4d3e27)+'\x20MILLONES':_0x5ba22c(0x518))+(_0x28b5b2>0x0?'\x20'+_0x11de95(_0x28b5b2):'');}return'';}function _0x4e0d3a(_0x1e5be3){const _0x6b55ff=_0x501c3f;return _0x1e5be3>0x0?_0x1e5be3+_0x6b55ff(0x6e0):_0x6b55ff(0x38a);}const [_0x2122cf,_0x25cb80]=_0x2e25c7[_0x501c3f(0x718)](0x2)[_0x501c3f(0x458)]('.')[_0x501c3f(0x6cd)](Number),_0x4cbea1=_0x11de95(_0x2122cf),_0x2b4454=_0x4e0d3a(_0x25cb80);return _0x501c3f(0x2c2)+_0x4cbea1+'\x20CON\x20'+_0x2b4454;}function formatShiftDate(_0x9c42db){const _0x44bd24=_0x10508b,_0x1f5cde=new Date(_0x9c42db);if(isNaN(_0x1f5cde))return'';const _0x25ac34=new Date(),_0x57087b=_0x25ac34-_0x1f5cde,_0x5a83cb=Math[_0x44bd24(0x60a)](_0x57087b/0x3e8),_0x3fd3d8=Math[_0x44bd24(0x60a)](_0x57087b/0xea60),_0x6c1782=Math[_0x44bd24(0x60a)](_0x57087b/0x36ee80),_0x3f9c7c=Math[_0x44bd24(0x60a)](_0x57087b/0x5265c00);if(_0x5a83cb<0x3c)return _0x5a83cb+_0x44bd24(0x7c3);else{if(_0x3fd3d8<0x3c)return _0x3fd3d8+'\x20min';else{if(_0x6c1782<0x18){const _0x38e763=Math[_0x44bd24(0x60a)](_0x57087b%0x36ee80/0xea60);return _0x6c1782+'h\x20'+_0x38e763+_0x44bd24(0x4a4);}else{const _0x5d4417=Math[_0x44bd24(0x60a)](_0x57087b%0x5265c00/0x36ee80);return _0x3f9c7c+'d\x20'+_0x5d4417+'h';}}}}function generateUUID(){const _0x5d629f=_0x10508b;return _0x5d629f(0x2ec)[_0x5d629f(0x5b9)](/[xy]/g,function(_0xc36484){const _0x2d6fef=_0x5d629f,_0xde9ce0=Math[_0x2d6fef(0x76b)]()*0x10|0x0,_0x34617d=_0xc36484==='x'?_0xde9ce0:_0xde9ce0&0x3|0x8;return _0x34617d[_0x2d6fef(0x25d)](0x10);});}async function generatePdf(_0x462fae,_0x287daa='tk',_0x3b598e=_0x10508b(0x250),_0x306b19=_0x10508b(0x3ab),_0x8fe3d3=0x0){const _0xb00e25=_0x10508b,{PDFDocument:_0x277d8f,rgb:_0x1f7ab7}=PDFLib;try{const _0x4213b5=await _0x277d8f[_0xb00e25(0x6bd)](),_0x313698=window['fontkit'];_0x4213b5['registerFontkit'](_0x313698);const [_0x57d0d4,_0xa26c7c]=await Promise[_0xb00e25(0x514)]([cargarFuente(_0xb00e25(0x34a),_0x4213b5),cargarFuente(_0xb00e25(0x792),_0x4213b5)]);let _0xec590d,_0x52bf1d;if(_0x287daa=='tk')_0xec590d=0xc8,_0x52bf1d=0xbb8;else _0x287daa=='a4'&&(_0xec590d=0x24e,_0x52bf1d=0x7d0);const _0xd453fe=await procesarContenido(_0x4213b5,_0x57d0d4,_0xa26c7c,_0x462fae,_0xec590d,_0x52bf1d,_0x287daa,_0x1f7ab7,_0x8fe3d3);let _0x3d5f1e=_0x52bf1d-_0xd453fe;_0x287daa=='tk'&&(_0x4213b5[_0xb00e25(0x413)](0x0),await procesarContenido(_0x4213b5,_0x57d0d4,_0xa26c7c,_0x462fae,_0xec590d,_0x3d5f1e,_0x287daa,_0x1f7ab7,_0x8fe3d3));_0x287daa=='a4'&&(_0x3d5f1e<0x34a&&(_0x3d5f1e=0x34a),_0x4213b5[_0xb00e25(0x413)](0x0),await procesarContenido(_0x4213b5,_0x57d0d4,_0xa26c7c,_0x462fae,_0xec590d,_0x3d5f1e,_0x287daa,_0x1f7ab7,_0x8fe3d3));const _0x255a16=await _0x4213b5[_0xb00e25(0x723)](),_0x3d1c85=new Blob([_0x255a16],{'type':_0xb00e25(0x2b9)}),_0x1fe57c=parseInt(_0x462fae[_0xb00e25(0x3b3)]),_0x39ddd0=myCompany[_0xb00e25(0x58b)]+'-'+String(_0x287daa)[_0xb00e25(0x603)]()+'-'+_0x1fe57c+'-'+_0x462fae[_0xb00e25(0x2e5)]+'-'+_0x462fae[_0xb00e25(0x352)]+_0xb00e25(0x655),_0x39708f=URL[_0xb00e25(0x542)](_0x3d1c85),_0x312407=document[_0xb00e25(0x32b)](_0x3b598e),_0x4c9469=_0x312407[_0xb00e25(0x74e)]('2d'),_0x40bef4=await pdfjsLib['getDocument'](_0x39708f)[_0xb00e25(0x6a1)],_0x532664=await _0x40bef4['getPage'](0x1),_0x374347=_0x532664[_0xb00e25(0x3d4)]({'scale':parseFloat(_0x306b19)});return _0x312407[_0xb00e25(0x389)]=_0x374347[_0xb00e25(0x389)],_0x312407[_0xb00e25(0x41f)]=_0x374347[_0xb00e25(0x41f)],_0x4c9469[_0xb00e25(0x79d)](0x0,0x0,_0x312407[_0xb00e25(0x389)],_0x312407[_0xb00e25(0x41f)]),await _0x532664['render']({'canvasContext':_0x4c9469,'viewport':_0x374347})[_0xb00e25(0x6a1)],URL[_0xb00e25(0x5ad)](_0x39708f),{'pdfBlob':_0x3d1c85,'pdfName':_0x39ddd0};}catch(_0x563bdd){ntfShow(_0x563bdd,0x2,0x1);throw _0x563bdd;}}async function cargarFuente(_0x153da4,_0x501af2){const _0x4cf117=_0x10508b,_0x5a7f0a=await fetch(_0x153da4)[_0x4cf117(0x3ea)](_0x3f4b70=>_0x3f4b70[_0x4cf117(0x623)]());return _0x501af2['embedFont'](_0x5a7f0a);}async function procesarContenido(_0x5adbc9,_0x436aac,_0x18c6ec,_0x528a9f,_0x3534ac,_0x23f522,_0xe6d550='tk',_0x13cfea,_0x4b8441=0x0){const _0x2ec10f=_0x10508b,_0x51522d=_0x5adbc9[_0x2ec10f(0x30c)]([_0x3534ac,_0x23f522]),{width:_0x2655d6,height:_0x3f7845}=_0x51522d[_0x2ec10f(0x6c1)](),_0x308504=0xc,_0x1e8d24=0x4,_0x106cf8=0xa;let _0x3d39f6=_0x3f7845-_0x106cf8,{setLogoUrl:setLogoUrl=myCompany[_0x2ec10f(0x2cd)],setEmpresaRuc:setEmpresaRuc=myCompany[_0x2ec10f(0x58b)],setEmpresaNombre:setEmpresaNombre=myCompany[_0x2ec10f(0x651)],setEmpresaTelefono:setEmpresaTelefono=myCompany['setCompanyPhone'],setEmpresaEmail:setEmpresaEmail=myCompany[_0x2ec10f(0x376)],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany['setCompanyWebsite'],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe='apiERP.dev/peru/consultas/cpe/',setDespacho:setDespacho='',setFooter:setFooter=_0x2ec10f(0x578),setProductos:setProductos=[],..._0x268e57}=_0x528a9f;_0x528a9f=sanitizeData(_0x528a9f,_0x2ec10f(0x61d));const _0x5514f2=_0x268e57[_0x2ec10f(0x6ac)],_0x1788bf=_0x268e57[_0x2ec10f(0x5b3)],_0x17fd75=_0x268e57[_0x2ec10f(0x5d5)],_0xb4402a=_0x268e57[_0x2ec10f(0x305)],_0x426c3c=_0x268e57[_0x2ec10f(0x762)];let _0x4cc9ca,_0x2762e7;if(_0x426c3c==_0x2ec10f(0x4e4))_0x4cc9ca=_0x2ec10f(0x4b7),_0x2762e7=_0x2ec10f(0x392);else{if(_0x426c3c==_0x2ec10f(0x5eb))_0x4cc9ca=_0x2ec10f(0x7a2),_0x2762e7=_0x2ec10f(0x412);else{if(_0x426c3c==_0x2ec10f(0x35a))_0x4cc9ca=_0x2ec10f(0x2ac),_0x2762e7=_0x2ec10f(0x552);else _0x426c3c==_0x2ec10f(0x216)&&(_0x4cc9ca=_0x2ec10f(0x377),_0x2762e7=_0x2ec10f(0x2f8));}}const _0x525752=_0x268e57['setEnvironmentName'],_0x1b093f=_0x268e57[_0x2ec10f(0x588)],_0x1611da=_0x268e57[_0x2ec10f(0x69a)],_0x413787=_0x268e57['setCurrencyName'],_0x4156df=(parseFloat(_0x268e57[_0x2ec10f(0x1e3)])||0x0)[_0x2ec10f(0x718)](0x2),_0x1cba9e=(parseFloat(_0x268e57[_0x2ec10f(0x34f)])||0x0)[_0x2ec10f(0x718)](0x2),_0x5945b8=(parseFloat(_0x268e57[_0x2ec10f(0x73d)])||0x0)['toFixed'](0x2),_0x32b74a=(parseFloat(_0x268e57[_0x2ec10f(0x659)])||0x0)[_0x2ec10f(0x718)](0x2),_0x47ae9f=(parseFloat(_0x268e57[_0x2ec10f(0x567)])||0x0)[_0x2ec10f(0x718)](0x2),_0x33943a=(parseFloat(_0x268e57[_0x2ec10f(0x264)])||0x0)[_0x2ec10f(0x718)](0x2),_0x508aac=(parseFloat(_0x268e57[_0x2ec10f(0x227)])||0x0)[_0x2ec10f(0x718)](0x2),_0x2dfae0=(parseFloat(_0x268e57[_0x2ec10f(0x57b)])||0x0)['toFixed'](0x2),_0x39c58b=(parseFloat(_0x268e57[_0x2ec10f(0x677)])||0x0)[_0x2ec10f(0x718)](0x2),_0x28118c=(parseFloat(_0x268e57[_0x2ec10f(0x294)])||0x0)[_0x2ec10f(0x718)](0x2),_0xe9ede7=parseFloat(_0x268e57['setDetraccion'])||0x0;let _0x45c579,_0x401e0a,_0x2a2a51,_0x1c45aa;_0xe9ede7==0x1&&(_0x45c579=_0x268e57[_0x2ec10f(0x3c7)]||'',_0x401e0a=_0x268e57[_0x2ec10f(0x203)]||'',_0x2a2a51=_0x268e57[_0x2ec10f(0x742)]||_0x2ec10f(0x4c3),_0x1c45aa=_0x268e57[_0x2ec10f(0x6e3)]||_0x2ec10f(0x4c3));const _0x52253a=parseFloat(_0x268e57[_0x2ec10f(0x56c)])||0x0;let _0x36cf33,_0x569fb6;_0x52253a==0x1&&(_0x36cf33=_0x268e57[_0x2ec10f(0x44f)]||_0x2ec10f(0x4c3),_0x569fb6=_0x268e57[_0x2ec10f(0x579)]||'0.00');const _0x1db302=parseFloat(_0x268e57[_0x2ec10f(0x49f)])||0x0;let _0x7ed123,_0x4ef921;_0x1db302==0x1&&(_0x7ed123=_0x268e57[_0x2ec10f(0x37d)]||_0x2ec10f(0x4c3),_0x4ef921=_0x268e57[_0x2ec10f(0x725)]||_0x2ec10f(0x4c3));const _0x3e1542=getFormattedDate(setFechaHora),_0xa32bb5=getFormattedTime(setFechaHora),_0x36c71f=myCompany[_0x2ec10f(0x658)],_0x142650=parseInt(_0x268e57['setConsumo'])||0x0,{contado:_0x5f5db9,credito:_0x33204f,mixto:_0x3ef146}=_0x268e57[_0x2ec10f(0x7be)]||{},_0xd31882=numeroALetras(parseFloat(_0x28118c))+'\x20'+_0x413787['toUpperCase'](),_0x4bd2d3='Cajero:',_0xd6fe44=_0x268e57[_0x2ec10f(0x6ec)],_0x5e0494=_0x268e57[_0x2ec10f(0x304)],_0x336f42=_0x2ec10f(0x73c),_0x3d4392=_0x268e57[_0x2ec10f(0x76c)],_0x2812d3=_0x268e57['setSellerName'],_0x4d2547=_0x2ec10f(0x41d);let _0x4a2230,_0x1d0f83;if(setTipOpeOrders[_0x2ec10f(0x3f2)](_0x2d8231=>_0x2d8231==setTipoOperacion)||setTipOpeQuotation[_0x2ec10f(0x3f2)](_0x5d4bfb=>_0x5d4bfb==setTipoOperacion)||setTipOpeSales[_0x2ec10f(0x3f2)](_0x3f2eb7=>_0x3f2eb7==setTipoOperacion))_0x4a2230=_0x2ec10f(0x63c),_0x1d0f83=0x2;else setTipOpePurchases['some'](_0x13b642=>_0x13b642==setTipoOperacion)&&(_0x4a2230='Proveedor',_0x1d0f83=0x1);const _0x34368e=_0x2ec10f(0x1e0),_0x33da7e='',_0x59f660=_0x2ec10f(0x4b6),_0x1c8002='',_0x32c59b=_0x2ec10f(0x22a),_0x45b109='',_0x404263='Zona:',_0x2f9ce8='';let _0xaa0e0c='',_0x7ecde7=[];_0x33da7e!=''&&(_0xaa0e0c=_0x2ec10f(0x779),_0x7ecde7=[_0x34368e+':\x20'+_0x33da7e,_0x59f660+':\x20'+_0x1c8002,_0x32c59b+':\x20'+_0x45b109,_0x404263+':\x20'+_0x2f9ce8]);const _0x1b0a41=getUserPermissionApiERP(0x7),_0xfe6614=getUserPermissionApiERP(0x8),_0x4b2641=getUserPermissionApiERP(0x13),_0x22ca60=getUserPermissionApiERP(0x14),_0x366b77=_0x13cfea(0x1,0.35,0x0),_0x4326b9=_0x13cfea(0x1,0x1,0x1),_0x5be938=_0x13cfea(0x0,0x0,0x0),_0x4c687f=_0x13cfea(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0x501e26=_0x13cfea(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x3d39f6-=_0x308504;if(_0xe6d550=='tk'){const _0x486286=(_0x1dd65b,_0x2607c6,_0x10f021,_0x497f73=0.5,_0x25362e=[0x1,0x3])=>{let _0x461b9e=_0x1dd65b,_0x4342b1=_0x25362e[0x0],_0x3142c4=_0x25362e[0x1];while(_0x461b9e<_0x2607c6){_0x51522d['drawLine']({'start':{'x':_0x461b9e,'y':_0x10f021},'end':{'x':_0x461b9e+_0x4342b1,'y':_0x10f021},'thickness':_0x497f73}),_0x461b9e+=_0x4342b1+_0x3142c4;}};function _0x5bfeb9(_0x53ec0a,_0x212a52,_0xb6d699,_0x8e8d78,_0x4a03b6='left'){const _0x2d2a67=_0x2ec10f,_0xb333b7=_0x2655d6-_0x106cf8*0x2,_0x3e84b0=_0x8e8d78+0x2,_0x294ffd=[],_0x511688=_0x11a47f=>_0xb6d699[_0x2d2a67(0x5b5)](_0x11a47f,_0x8e8d78);if(_0x53ec0a[_0x2d2a67(0x2b7)]('\x20')==-0x1&&_0x511688(_0x53ec0a)>_0xb333b7){let _0x42cd8f=0x0,_0x44fde8='';for(let _0x49140f=0x0;_0x49140f<_0x53ec0a['length'];_0x49140f++){_0x44fde8+=_0x53ec0a[_0x49140f];if(_0x511688(_0x44fde8)>_0xb333b7){const _0x18c37e=_0x44fde8[_0x2d2a67(0x3a4)](0x0,-0x1);_0x294ffd[_0x2d2a67(0x7a6)](_0x18c37e),_0x44fde8=_0x53ec0a[_0x49140f];}}if(_0x44fde8)_0x294ffd['push'](_0x44fde8);}else{const _0x3c2569=_0x53ec0a[_0x2d2a67(0x458)]('\x20');let _0x26e07c='';for(let _0x18fcb3=0x0;_0x18fcb3<_0x3c2569[_0x2d2a67(0x4e9)];_0x18fcb3++){const _0x17af5a=_0x26e07c+(_0x26e07c?'\x20':'')+_0x3c2569[_0x18fcb3];_0x511688(_0x17af5a)>_0xb333b7&&_0x26e07c?(_0x294ffd[_0x2d2a67(0x7a6)](_0x26e07c),_0x26e07c=_0x3c2569[_0x18fcb3]):_0x26e07c=_0x17af5a;}if(_0x26e07c)_0x294ffd['push'](_0x26e07c);}return _0x294ffd['forEach'](_0x14bc49=>{const _0x4b58ee=_0x2d2a67,_0x4b4280=_0x511688(_0x14bc49);let _0x4208cc=_0x106cf8;if(_0x4a03b6==_0x4b58ee(0x664))_0x4208cc=_0x106cf8+(_0xb333b7-_0x4b4280)/0x2;else _0x4a03b6==_0x4b58ee(0x498)&&(_0x4208cc=_0x106cf8+(_0xb333b7-_0x4b4280));_0x51522d[_0x4b58ee(0x4e1)](_0x14bc49,{'x':_0x4208cc,'y':_0x212a52,'size':_0x8e8d78,'font':_0xb6d699}),_0x212a52-=_0x3e84b0;}),_0x212a52;}const _0x2a230f=(_0x34eb2a,_0x4750f1,_0x130ff7,_0x3a2494,_0x2debfd,_0x177dcd)=>{const _0x8edcc1=_0x2ec10f,_0x1154fc=(_0x3534ac-_0x106cf8*0x2)*0.3,_0x78a8cb=(_0x3534ac-_0x106cf8*0x2)*0.1;_0x51522d[_0x8edcc1(0x4e1)](String(_0x34eb2a),{'x':_0x106cf8,'y':_0x130ff7,'size':_0x2debfd,'font':_0x3a2494}),_0x51522d[_0x8edcc1(0x4e1)](':',{'x':_0x106cf8+_0x1154fc,'y':_0x130ff7,'size':_0x2debfd,'font':_0x3a2494});let _0x43b19c=_0x436aac[_0x8edcc1(0x5b5)](_0x4750f1,_0x2debfd),_0x470e67=0x1;if(_0x43b19c>_0x177dcd){let _0x3652d7=_0x4750f1[_0x8edcc1(0x458)]('\x20'),_0x1d055d='',_0x458d39=_0x130ff7;_0x3652d7[_0x8edcc1(0x1fa)](_0x4a057a=>{const _0x2280c9=_0x8edcc1;_0x436aac[_0x2280c9(0x5b5)](_0x1d055d+'\x20'+_0x4a057a,_0x2debfd)>_0x177dcd?(_0x51522d[_0x2280c9(0x4e1)](_0x1d055d,{'x':_0x106cf8+_0x1154fc+_0x78a8cb,'y':_0x458d39,'size':_0x2debfd,'font':_0x3a2494}),_0x458d39-=_0x308504,_0x470e67++,_0x1d055d=_0x4a057a):_0x1d055d+=(_0x1d055d?'\x20':'')+_0x4a057a;}),_0x51522d[_0x8edcc1(0x4e1)](_0x1d055d,{'x':_0x106cf8+_0x1154fc+_0x78a8cb,'y':_0x458d39,'size':_0x2debfd,'font':_0x3a2494});}else _0x51522d[_0x8edcc1(0x4e1)](String(_0x4750f1),{'x':_0x106cf8+_0x1154fc+_0x78a8cb,'y':_0x130ff7,'size':_0x2debfd,'font':_0x3a2494});return _0x130ff7-_0x308504*_0x470e67;},_0x4d70fa=(_0x39ddc8,_0x335843,_0x292585,_0x6d16b5,_0x5cf43a,_0x25189b,_0x5c49b3,_0x52bac3,_0x2da1d3=![])=>{const _0x14acd2=_0x2ec10f;_0x39ddc8=_0x39ddc8[_0x14acd2(0x6cd)](_0x23c9cf=>String(_0x23c9cf)),_0x335843=_0x335843[_0x14acd2(0x6cd)](_0x5be24b=>String(_0x5be24b));const _0x24a059=(_0x25189b-_0x5c49b3*0x2)*0.4,_0xa4e6db=(_0x25189b-_0x5c49b3*0x2)*0.2,_0xcac31d=(_0x25189b-_0x5c49b3*0x2)*0.2,_0x2feae6=(_0x25189b-_0x5c49b3*0x2)*0.2,_0x1eb91f=(_0x54d08e,_0x5b16f5,_0x464882,_0x4c6045,_0x55029e,_0x5ca5b7)=>{const _0x465d22=_0x14acd2;let _0x5bb120=_0x55029e[_0x465d22(0x5b5)](_0x54d08e,_0x5ca5b7),_0x54ddf1=0x1;if(_0x5bb120>_0x4c6045){let _0x2087be=_0x54d08e[_0x465d22(0x458)]('\x20'),_0x26a139='',_0x19e38f=_0x464882;_0x2087be[_0x465d22(0x1fa)](_0x18c3f6=>{const _0x5415bd=_0x465d22;_0x55029e[_0x5415bd(0x5b5)](_0x26a139+'\x20'+_0x18c3f6,_0x5ca5b7)>_0x4c6045?(_0x51522d[_0x5415bd(0x4e1)](_0x26a139,{'x':_0x5b16f5,'y':_0x19e38f,'size':_0x5ca5b7,'font':_0x55029e}),_0x19e38f-=_0x52bac3,_0x54ddf1++,_0x26a139=_0x18c3f6):_0x26a139+=(_0x26a139?'\x20':'')+_0x18c3f6;}),_0x51522d[_0x465d22(0x4e1)](_0x26a139,{'x':_0x5b16f5,'y':_0x19e38f,'size':_0x5ca5b7,'font':_0x55029e});}else _0x51522d[_0x465d22(0x4e1)](_0x54d08e,{'x':_0x5b16f5,'y':_0x464882,'size':_0x5ca5b7,'font':_0x55029e});return _0x464882-_0x52bac3*_0x54ddf1;};if(_0x2da1d3){_0x51522d[_0x14acd2(0x4e1)](String(_0x39ddc8[0x0]),{'x':_0x5c49b3,'y':_0x292585,'size':_0x5cf43a,'font':_0x6d16b5});const _0x489e99=_0x5c49b3+_0x24a059+(_0xa4e6db-_0x6d16b5[_0x14acd2(0x5b5)](String(_0x39ddc8[0x1]),_0x5cf43a))/0x2,_0x4ae2c5=_0x5c49b3+_0x24a059+_0xa4e6db+(_0xcac31d-_0x6d16b5['widthOfTextAtSize'](String(_0x39ddc8[0x2]),_0x5cf43a))/0x2,_0x23feb0=_0x5c49b3+_0x24a059+_0xa4e6db+_0xcac31d+(_0x2feae6-_0x6d16b5[_0x14acd2(0x5b5)](String(_0x39ddc8[0x3]),_0x5cf43a));return _0x51522d[_0x14acd2(0x4e1)](String(_0x39ddc8[0x1]),{'x':_0x489e99,'y':_0x292585,'size':_0x5cf43a,'font':_0x6d16b5}),_0x51522d[_0x14acd2(0x4e1)](String(_0x39ddc8[0x2]),{'x':_0x4ae2c5,'y':_0x292585,'size':_0x5cf43a,'font':_0x6d16b5}),_0x51522d[_0x14acd2(0x4e1)](String(_0x39ddc8[0x3]),{'x':_0x23feb0,'y':_0x292585,'size':_0x5cf43a,'font':_0x6d16b5}),_0x292585-_0x52bac3;}else{let _0x5b4484=_0x292585;_0x5b4484=_0x1eb91f(_0x335843[0x0],_0x5c49b3,_0x5b4484,_0x24a059,_0x6d16b5,_0x5cf43a);const _0x4bf490=_0x292585-_0x5b4484+_0x52bac3,_0x391d53=_0x5b4484+(_0x4bf490-_0x52bac3)/0x2,_0x3ef58c=_0x4bf490==_0x52bac3,_0x59693f=_0x3ef58c?_0x391d53:_0x391d53+_0x52bac3/0x2,_0x19255e=_0x5c49b3+_0x24a059+(_0xa4e6db-_0x6d16b5[_0x14acd2(0x5b5)](_0x335843[0x1],_0x5cf43a))/0x2,_0x2b6a5d=_0x5c49b3+_0x24a059+_0xa4e6db+(_0xcac31d-_0x6d16b5[_0x14acd2(0x5b5)](_0x335843[0x2],_0x5cf43a))/0x2,_0x1a73fc=_0x5c49b3+_0x24a059+_0xa4e6db+_0xcac31d+(_0x2feae6-_0x6d16b5[_0x14acd2(0x5b5)](_0x335843[0x3],_0x5cf43a));return _0x51522d[_0x14acd2(0x4e1)](String(_0x335843[0x1]),{'x':_0x19255e,'y':_0x59693f,'size':_0x5cf43a,'font':_0x6d16b5}),_0x51522d[_0x14acd2(0x4e1)](String(_0x335843[0x2]),{'x':_0x2b6a5d,'y':_0x59693f,'size':_0x5cf43a,'font':_0x6d16b5}),_0x51522d[_0x14acd2(0x4e1)](String(_0x335843[0x3]),{'x':_0x1a73fc,'y':_0x59693f,'size':_0x5cf43a,'font':_0x6d16b5}),_0x5b4484-_0x52bac3;}},_0x512965=(_0x1abdb9,_0x30c085,_0x2b4097,_0x510fb9,_0x464aaf)=>{const _0x5bbd0c=_0x2ec10f;_0x51522d[_0x5bbd0c(0x4e1)](String(_0x1abdb9),{'x':_0x106cf8,'y':_0x2b4097,'size':_0x464aaf,'font':_0x510fb9});const _0x3d14f7=_0x3534ac-_0x106cf8-_0x436aac[_0x5bbd0c(0x5b5)](_0x30c085,_0x464aaf);return _0x51522d['drawText'](String(_0x30c085),{'x':_0x3d14f7,'y':_0x2b4097,'size':_0x464aaf,'font':_0x510fb9}),_0x2b4097-_0x308504;};function _0x274c59(_0x15c22f,_0x196c71,_0x4d1560,_0x217c0c,_0x4c9ec2,_0x4adc5c,_0x4b183f,_0x2d5695){const _0x36d5ac=_0x2ec10f,_0x342536=_0x4b183f-0x2*_0x2d5695,_0x5d4352=_0x342536*0.4,_0x160b86=_0x342536*0.6,_0x446636=_0x4adc5c*1.2,_0x17b7e0=_0x4c9ec2===_0x18c6ec&&_0x4adc5c===0xb;function _0x32bdde(_0x46f654,_0x5eb946,_0x231c62,_0x50c31d){const _0x312382=_0xcdf0,_0x22779f=_0x46f654['split']('\x20');let _0x3097ea=[],_0x4e4c9e='';_0x22779f[_0x312382(0x1fa)](_0x4841b4=>{const _0x462d72=_0x312382,_0x227ea7=_0x4e4c9e?_0x4e4c9e+'\x20'+_0x4841b4:_0x4841b4;if(_0x231c62[_0x462d72(0x5b5)](_0x227ea7,_0x50c31d)<=_0x5eb946)_0x4e4c9e=_0x227ea7;else{if(_0x4e4c9e)_0x3097ea[_0x462d72(0x7a6)](_0x4e4c9e);_0x4e4c9e=_0x4841b4;}});if(_0x4e4c9e)_0x3097ea[_0x312382(0x7a6)](_0x4e4c9e);return _0x3097ea;}let _0x1f25f3=[];if(_0x17b7e0){const _0x5825e2=_0x196c71[_0x36d5ac(0x637)](/^(.*?)\s*(\([^)]*\))$/);_0x5825e2?_0x1f25f3=[{'quantity':_0x5825e2[0x1][_0x36d5ac(0x2b8)](),'unit':_0x5825e2[0x2][_0x36d5ac(0x2b8)]()}]:_0x1f25f3=_0x32bdde(_0x196c71,_0x5d4352,_0x4c9ec2,_0x4adc5c);}else _0x1f25f3=_0x32bdde(_0x196c71,_0x5d4352,_0x4c9ec2,_0x4adc5c);const _0x2bc3b6=_0x32bdde(_0x4d1560,_0x160b86,_0x4c9ec2,_0x4adc5c),_0x177c72=Math[_0x36d5ac(0x4a0)](_0x1f25f3['length'],_0x2bc3b6[_0x36d5ac(0x4e9)]),_0x40dbb0=_0x1f25f3[_0x36d5ac(0x4e9)]*_0x446636,_0x2db977=_0x2bc3b6[_0x36d5ac(0x4e9)]*_0x446636,_0x419ce9=(_0x177c72*_0x446636-_0x40dbb0)/0x2,_0xcdfc0=(_0x177c72*_0x446636-_0x2db977)/0x2;return _0x1f25f3['forEach']((_0x587cad,_0x12dd6d)=>{const _0x279990=_0x36d5ac,_0x42f27e=_0x217c0c-_0x419ce9-(_0x12dd6d+0x1)*_0x446636;let _0x197505;if(_0x17b7e0&&typeof _0x587cad===_0x279990(0x5a7)&&_0x587cad[_0x279990(0x754)]!==undefined){const _0xb7c2f5=_0x18c6ec[_0x279990(0x5b5)](_0x587cad[_0x279990(0x754)],0xb),_0x3efa7e=_0x436aac[_0x279990(0x5b5)](_0x587cad[_0x279990(0x5ba)],0x9),_0x188f4b=0x2,_0x652e75=_0xb7c2f5+_0x188f4b+_0x3efa7e;_0x197505=_0x2d5695+(_0x5d4352-_0x652e75)/0x2,_0x15c22f[_0x279990(0x4e1)](_0x587cad[_0x279990(0x754)],{'x':_0x197505,'y':_0x42f27e,'size':0xb,'font':_0x18c6ec});const _0x13bbaa=0x2;_0x15c22f['drawText'](_0x587cad[_0x279990(0x5ba)],{'x':_0x197505+_0xb7c2f5+_0x188f4b,'y':_0x42f27e+(0xb-0x9)-_0x13bbaa,'size':0x9,'font':_0x436aac});}else{const _0x1c4ea2=_0x4c9ec2[_0x279990(0x5b5)](_0x587cad,_0x4adc5c);_0x197505=_0x2d5695+(_0x5d4352-_0x1c4ea2)/0x2,_0x15c22f['drawText'](_0x587cad,{'x':_0x197505,'y':_0x42f27e,'size':_0x4adc5c,'font':_0x4c9ec2});}}),_0x2bc3b6['forEach']((_0x272945,_0x572beb)=>{const _0x4fe1e8=_0x36d5ac,_0x897e4c=_0x217c0c-_0xcdfc0-(_0x572beb+0x1)*_0x446636;let _0x595d91;if(_0x17b7e0)_0x595d91=_0x2d5695+_0x5d4352+0x5;else{const _0x4d75a2=_0x4c9ec2[_0x4fe1e8(0x5b5)](_0x272945,_0x4adc5c);_0x595d91=_0x2d5695+_0x5d4352+(_0x160b86-_0x4d75a2)/0x2;}_0x15c22f[_0x4fe1e8(0x4e1)](_0x272945,{'x':_0x595d91,'y':_0x897e4c,'size':_0x4adc5c,'font':_0x4c9ec2});}),_0x217c0c-_0x177c72*_0x446636;}function _0x32f2df(_0x59bfa0,_0x4ebec9,_0x2496f4,_0x3e7051){const _0x4c1730=_0x2ec10f,_0x145d4e=_0x59bfa0[_0x4c1730(0x458)]('\x20');let _0x3af583=[],_0x22675e='';_0x145d4e[_0x4c1730(0x1fa)](_0x33c68a=>{const _0x48431d=_0x4c1730,_0x17eeb7=_0x22675e?_0x22675e+'\x20'+_0x33c68a:_0x33c68a;if(_0x2496f4[_0x48431d(0x5b5)](_0x17eeb7,_0x3e7051)<=_0x4ebec9)_0x22675e=_0x17eeb7;else{if(_0x22675e)_0x3af583[_0x48431d(0x7a6)](_0x22675e);_0x22675e=_0x33c68a;}});if(_0x22675e)_0x3af583[_0x4c1730(0x7a6)](_0x22675e);return _0x3af583;}if(setTipOpeSales[_0x2ec10f(0x3f2)](_0xa51cfb=>_0xa51cfb==setTipoOperacion)||setTipOpePurchases['some'](_0x477bdb=>_0x477bdb==setTipoOperacion)||setTipOpeQuotation[_0x2ec10f(0x3f2)](_0x5b69a7=>_0x5b69a7==setTipoOperacion)||_0x4b8441==0x1){if(_0x4b8441==0x1){if(setLogoUrl){const _0x5aaf07=setLogoUrl[_0x2ec10f(0x458)](',')[0x1],_0x292cd6=Uint8Array[_0x2ec10f(0x6a2)](atob(_0x5aaf07),_0x2f4425=>_0x2f4425[_0x2ec10f(0x6f1)](0x0));let _0x80b3f5;try{_0x80b3f5=await _0x5adbc9[_0x2ec10f(0x4e5)](_0x292cd6);}catch(_0x512704){try{_0x80b3f5=await _0x5adbc9[_0x2ec10f(0x40b)](_0x292cd6);}catch(_0x55bfd3){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x31496f=_0x3534ac*0.5,_0x1aa9e2=_0x80b3f5[_0x2ec10f(0x389)],_0x4acb74=_0x31496f/_0x1aa9e2,_0x2d2298=_0x80b3f5[_0x2ec10f(0x331)](_0x4acb74),_0xa7c811=(_0x3534ac-_0x2d2298[_0x2ec10f(0x389)])/0x2,_0x8ab91a=_0x3d39f6-_0x2d2298[_0x2ec10f(0x41f)];_0x51522d[_0x2ec10f(0x6dc)](_0x80b3f5,{'x':_0xa7c811,'y':_0x8ab91a,'width':_0x2d2298[_0x2ec10f(0x389)],'height':_0x2d2298[_0x2ec10f(0x41f)]}),_0x3d39f6=_0x8ab91a;}}if(_0x4b8441!=0x1){if(setLogoUrl){const _0x7582d4=setLogoUrl[_0x2ec10f(0x458)](',')[0x1],_0x2e5eab=Uint8Array['from'](atob(_0x7582d4),_0x180b87=>_0x180b87['charCodeAt'](0x0));let _0x59325f;try{_0x59325f=await _0x5adbc9['embedPng'](_0x2e5eab);}catch(_0x56b231){try{_0x59325f=await _0x5adbc9[_0x2ec10f(0x40b)](_0x2e5eab);}catch(_0x2fbec2){throw new Error(_0x2ec10f(0x4d2));}}const _0x18c041=_0x3534ac*0.5,_0x321c16=_0x59325f[_0x2ec10f(0x389)],_0x59ac80=_0x18c041/_0x321c16,_0x1ef21f=_0x59325f['scale'](_0x59ac80),_0x2a0268=(_0x3534ac-_0x1ef21f[_0x2ec10f(0x389)])/0x2,_0x1e4b6e=_0x3d39f6-_0x1ef21f[_0x2ec10f(0x41f)];_0x51522d['drawImage'](_0x59325f,{'x':_0x2a0268,'y':_0x1e4b6e,'width':_0x1ef21f[_0x2ec10f(0x389)],'height':_0x1ef21f['height']}),_0x3d39f6=_0x1e4b6e-_0x308504-0x5;}setEmpresaNombre&&(_0x3d39f6=_0x5bfeb9(setEmpresaNombre,_0x3d39f6,_0x18c6ec,0xb,_0x2ec10f(0x664))),_0x5514f2&&(_0x3d39f6=_0x5bfeb9(_0x5514f2,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664))),setEmpresaEmail&&(_0x3d39f6=_0x5bfeb9(setEmpresaEmail,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664))),setEmpresaTelefono&&(_0x3d39f6=_0x5bfeb9(setEmpresaTelefono,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664))),setEmpresaSitioWeb&&(_0x3d39f6=_0x5bfeb9(setEmpresaSitioWeb,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664)));}_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;if(setEmpresaRuc){const _0x5ba211=_0x436aac['widthOfTextAtSize'](_0x36c71f+':\x20'+setEmpresaRuc,0xb),_0x5d7e49=(_0x3534ac-_0x5ba211)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x36c71f+':\x20'+setEmpresaRuc,{'x':_0x5d7e49,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=0x9;}_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;if(_0x4b8441==0x1){const _0x3e1ff5=_0x436aac['widthOfTextAtSize'](_0x2ec10f(0x2b4),0xb),_0x4572f2=(_0x3534ac-_0x3e1ff5)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x2ec10f(0x2b4),{'x':_0x4572f2,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=0x9;}else{const _0x5705b6=_0x436aac[_0x2ec10f(0x5b5)](_0x1b093f[_0x2ec10f(0x603)](),0xb),_0x4ac1a1=(_0x3534ac-_0x5705b6)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x1b093f[_0x2ec10f(0x603)](),{'x':_0x4ac1a1,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec});if(setSerie&&setCorrelativo){_0x3d39f6-=_0x308504;const _0x2f1d8f=_0x436aac['widthOfTextAtSize'](setSerie[_0x2ec10f(0x603)]()+_0x2ec10f(0x398)+setCorrelativo,0xb),_0x53cb7a=(_0x3534ac-_0x2f1d8f)/0x2;_0x51522d[_0x2ec10f(0x4e1)](setSerie[_0x2ec10f(0x603)]()+_0x2ec10f(0x398)+setCorrelativo,{'x':_0x53cb7a,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec});}_0x3d39f6-=0x9;}_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;if(_0x4b8441==0x1){const _0x374b97=_0x436aac[_0x2ec10f(0x5b5)](_0x525752,0xb),_0x3b24a7=(_0x3534ac-_0x374b97)/0x2;_0x51522d['drawText'](_0x525752,{'x':_0x3b24a7,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=0x9,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;}const _0x38768f=(_0x3534ac-_0x106cf8*0x2)*0.6;_0x4b8441!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x3d39f6=_0x2a230f(setClienteTipoDoc,setClienteNumDoc,_0x3d39f6,_0x436aac,0x9,_0x38768f)),setClienteDenominacion&&(_0x3d39f6=_0x2a230f(_0x4a2230,setClienteDenominacion,_0x3d39f6,_0x436aac,0x9,_0x38768f)),setClienteDireccion&&(_0x3d39f6=_0x2a230f('Dirección',setClienteDireccion,_0x3d39f6,_0x436aac,0x9,_0x38768f)),_0x1788bf&&(_0x3d39f6=_0x2a230f('Teléfono',_0x1788bf,_0x3d39f6,_0x436aac,0x9,_0x38768f)),_0x17fd75&&(_0x3d39f6=_0x2a230f('Email',_0x17fd75,_0x3d39f6,_0x436aac,0x9,_0x38768f)));_0x3e1542&&(_0x3d39f6=_0x2a230f(_0x2ec10f(0x3d5),_0x3e1542,_0x3d39f6,_0x436aac,0x9,_0x38768f));_0xa32bb5&&(_0x3d39f6=_0x2a230f(_0x2ec10f(0x740),_0xa32bb5,_0x3d39f6,_0x436aac,0x9,_0x38768f));_0x4b8441==0x1&&(_0x3d39f6=_0x2a230f(_0x4cc9ca,_0xb4402a,_0x3d39f6,_0x436aac,0x9,_0x38768f),_0x3d39f6=_0x2a230f(_0x2762e7,_0x2812d3,_0x3d39f6,_0x436aac,0x9,_0x38768f));_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=_0x308504;const _0x2281dc=['DESCRIPCIÓN','CANT','PRECIO',_0x2ec10f(0x4d5)];_0x3d39f6=_0x4d70fa(_0x2281dc,[],_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0x8,!![]),_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=_0x308504;if(_0x142650==0x1){const _0x3e7053=[_0x2ec10f(0x1fe),_0x2ec10f(0x6fc),parseFloat(_0x28118c)[_0x2ec10f(0x718)](0x2),parseFloat(_0x28118c)[_0x2ec10f(0x718)](0x2)];_0x3d39f6=_0x4d70fa([],_0x3e7053,_0x3d39f6,_0x436aac,0x7,_0x3534ac,_0x106cf8,0xa,![]),_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6+_0x308504);}else setProductos[_0x2ec10f(0x1fa)]((_0x7854c3,_0x279d35)=>{const _0x2eb0d3=_0x2ec10f;let {setDescripcion:_0x294e0c,setCantidad:_0x51512d,setMtoPrecioUnitario:_0x588843,setTotal:_0x3cfb2e,setDescuento:_0x1fdd52,setMtoPrecioUnitario_final:_0x2e3380,setUnidad:_0x395d1,setTipAfeIgv:_0x265ce5,setNotas:_0x3cd349,setItemDescription:_0xbb1add,setMarca:_0xe23381}=_0x7854c3;_0x1fdd52['setPorcentajeDesc']>0x0&&(_0x294e0c+='\x20('+_0x1fdd52[_0x2eb0d3(0x666)]+_0x2eb0d3(0x255)+_0x1611da+parseFloat(_0x2e3380)[_0x2eb0d3(0x718)](0x2)+')');(setTipAfeImpGravadosGrat[_0x2eb0d3(0x3f2)](_0x283c67=>_0x283c67==_0x265ce5)||setTipAfeImpInafectosGrat[_0x2eb0d3(0x3f2)](_0x21a99d=>_0x21a99d==_0x265ce5)||setTipAfeImpExoneradosGrat[_0x2eb0d3(0x3f2)](_0x412573=>_0x412573==_0x265ce5))&&(_0x588843=_0x2e3380,setTipAfeImpGravadosGrat[_0x2eb0d3(0x3f2)](_0x506f29=>_0x506f29==_0x265ce5)&&(_0x294e0c+=_0x2eb0d3(0x53c)),setTipAfeImpExoneradosGrat[_0x2eb0d3(0x3f2)](_0x15e0ee=>_0x15e0ee==_0x265ce5)&&(_0x294e0c+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x2eb0d3(0x3f2)](_0x4a4194=>_0x4a4194==_0x265ce5)&&(_0x294e0c+='\x20(Inafecto\x20Gratuito)'));let _0x1616c3=products['find'](_0x29f05e=>_0x29f05e['id']==_0x7854c3[_0x2eb0d3(0x3f6)]);_0x1b0a41==0x1&&_0x1616c3&&_0x1616c3[_0x2eb0d3(0x52e)]&&(_0x294e0c+=_0x2eb0d3(0x5a3)+_0x1616c3[_0x2eb0d3(0x52e)]);_0xfe6614==0x1&&_0x1616c3&&_0x1616c3[_0x2eb0d3(0x39e)]&&(_0x294e0c+=_0x2eb0d3(0x3bf)+_0x1616c3[_0x2eb0d3(0x39e)]);_0x51512d+='\x20('+_0x395d1+')';const _0x33e1f7=[_0x294e0c,_0x51512d,parseFloat(_0x588843)[_0x2eb0d3(0x718)](0x2),_0x3cfb2e[_0x2eb0d3(0x718)](0x2)];_0x3d39f6=_0x4d70fa([],_0x33e1f7,_0x3d39f6,_0x436aac,0x7,_0x3534ac,_0x106cf8,0xa,![]);if(_0x22ca60==0x1&&_0xbb1add!=''){const _0x442682=_0x3cd349[_0x2eb0d3(0x2b8)]()?'\x0a':'';_0x3cd349+=_0x442682+_0x2eb0d3(0x31c)+_0xbb1add;}if(_0x4b2641==0x1&&_0xe23381!=''){const _0xd8abbe=_0x3cd349[_0x2eb0d3(0x2b8)]()?'\x0a':'';_0x3cd349+=_0xd8abbe+'Marca:\x20'+_0xe23381;}const _0x17d36a=_0x3534ac-0x2*_0x106cf8,_0x44d4cc=_0x17d36a*0.4;if(_0x3cd349){const _0x103cd6=0x7,_0x5741db=_0x106cf8,_0x327df3=_0x44d4cc,_0x51c997=_0x103cd6*1.2,_0x4311d7=_0x3cd349['split'](/\r?\n/);let _0x204fe4=[];_0x4311d7[_0x2eb0d3(0x1fa)](_0x44404a=>{const _0x272016=_0x2eb0d3,_0x4144a2=_0x32f2df('*\x20'+_0x44404a,_0x327df3,_0x436aac,_0x103cd6);_0x204fe4=_0x204fe4[_0x272016(0x2eb)](_0x4144a2);}),_0x204fe4['forEach']((_0x30af82,_0x2048f8)=>{const _0xc311ec=_0x2eb0d3,_0x2f2458=_0x3d39f6+0xf-(_0x2048f8+0x1)*_0x51c997;_0x51522d[_0xc311ec(0x4e1)](_0x30af82,{'x':_0x5741db,'y':_0x2f2458,'size':_0x103cd6,'font':_0x436aac});}),_0x3d39f6-=_0x204fe4[_0x2eb0d3(0x4e9)]*_0x51c997+0x5;}_0x486286(_0x106cf8,_0x3534ac-_0x106cf8,_0x3d39f6+_0x308504);});_0x3d39f6-=0x5;parseFloat(_0x4156df)>0x0&&(_0x3d39f6=_0x512965('DESCUENTO\x20GLOBAL',_0x1611da+'\x20'+_0x4156df,_0x3d39f6,_0x436aac,0x7));parseFloat(_0x1cba9e)>0x0&&(_0x3d39f6=_0x512965(_0x2ec10f(0x217),_0x1611da+'\x20'+_0x1cba9e,_0x3d39f6,_0x436aac,0x7));!setTipOpeExo['some'](_0x28fe78=>_0x28fe78==setTipoOperacion)&&_0x4b8441!=0x1&&(parseFloat(_0x5945b8)>0x0&&(_0x3d39f6=_0x512965(_0x2ec10f(0x22b),_0x1611da+'\x20'+_0x5945b8,_0x3d39f6,_0x436aac,0x7)),parseFloat(_0x32b74a)>0x0&&(_0x3d39f6=_0x512965(_0x2ec10f(0x5bf),_0x1611da+'\x20'+_0x32b74a,_0x3d39f6,_0x436aac,0x7)),parseFloat(_0x47ae9f)>0x0&&(_0x3d39f6=_0x512965(_0x2ec10f(0x5c0),_0x1611da+'\x20'+_0x47ae9f,_0x3d39f6,_0x436aac,0x7)),parseFloat(_0x33943a)>0x0&&(_0x3d39f6=_0x512965('OP.\x20GRATUITAS',_0x1611da+'\x20'+_0x33943a,_0x3d39f6,_0x436aac,0x7)),parseFloat(_0x39c58b)>0x0&&(_0x3d39f6=_0x512965(_0x2ec10f(0x31f),_0x1611da+'\x20'+_0x39c58b,_0x3d39f6,_0x436aac,0x7)),_0x3d39f6=_0x512965(_0x2ec10f(0x26f),_0x1611da+'\x20'+_0x508aac,_0x3d39f6,_0x436aac,0x7),_0x3d39f6=_0x512965(_0x2ec10f(0x39a),_0x1611da+'\x20'+_0x2dfae0,_0x3d39f6,_0x436aac,0x7));_0x3d39f6=_0x512965(_0x2ec10f(0x428),_0x1611da+'\x20'+_0x28118c,_0x3d39f6,_0x18c6ec,0x8);if(_0x4b8441!=0x1){if(_0xe9ede7==0x1){_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;const _0x4716df=_0x2ec10f(0x1f3),_0x37c458=_0x436aac[_0x2ec10f(0x5b5)](_0x4716df,0x8),_0xa7d2b2=(_0x3534ac-_0x37c458)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x4716df,{'x':_0xa7d2b2,'y':_0x3d39f6,'size':0x8,'font':_0x18c6ec}),_0x3d39f6-=_0x308504+0x5,_0x3d39f6=_0x5bfeb9('Bien\x20o\x20Servicio:\x20'+_0x45c579+'\x20'+_0x401e0a,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664)),_0x3d39f6-=0x5,_0x3d39f6=_0x512965('DETRACCIÓN\x20('+_0x2a2a51+'%)',_0x1611da+'\x20'+_0x1c45aa,_0x3d39f6,_0x436aac,0x7);}_0x52253a==0x1&&(_0x3d39f6=_0x512965(_0x2ec10f(0x6d1)+_0x36cf33+'%)',_0x1611da+'\x20'+_0x569fb6,_0x3d39f6,_0x436aac,0x7));_0x1db302==0x1&&(_0x3d39f6=_0x512965(_0x2ec10f(0x270)+_0x7ed123+'%)',_0x1611da+'\x20'+_0x4ef921,_0x3d39f6,_0x436aac,0x7));if(_0x5f5db9&&_0x5f5db9[_0x2ec10f(0x7c7)]==!![]||_0x3ef146&&_0x3ef146[_0x2ec10f(0x7c7)]==!![]){_0x3d39f6-=_0x308504,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6+_0x308504),_0x3d39f6=_0x5bfeb9(_0x2ec10f(0x504),_0x3d39f6,_0x436aac,0x7),_0x3d39f6-=0x5;for(let _0x2d2356 in _0x5f5db9[_0x2ec10f(0x548)]){const _0x2eb201=_0x5f5db9[_0x2ec10f(0x548)][_0x2d2356];if(_0x2eb201&&typeof _0x2eb201==_0x2ec10f(0x5a7)&&_0x2ec10f(0x1e9)in _0x2eb201){const _0x55689e=parseFloat(_0x2eb201[_0x2ec10f(0x7a5)]);if(_0x55689e>0x0){_0x3d39f6=_0x512965(_0x2d2356[_0x2ec10f(0x603)](),_0x1611da+'\x20'+_0x55689e['toFixed'](0x2),_0x3d39f6,_0x436aac,0x7);if(_0x2ec10f(0x33d)in _0x2eb201&&_0x2ec10f(0x652)in _0x2eb201){const _0x11b420=_0x2eb201[_0x2ec10f(0x33d)],_0x37269b=parseFloat(_0x2eb201[_0x2ec10f(0x652)]);_0x11b420!==undefined&&_0x37269b!==undefined&&(_0x3d39f6=_0x512965('Comisión\x20('+_0x11b420+'%)',_0x1611da+'\x20'+_0x37269b['toFixed'](0x2),_0x3d39f6,_0x436aac,0x7));}if(_0x2eb201[_0x2ec10f(0x440)]&&_0x2eb201['banco']!='0'){const _0x5792e2=myCompany[_0x2ec10f(0x641)]['find'](_0x538d2d=>_0x538d2d[_0x2ec10f(0x6ca)]==_0x2eb201[_0x2ec10f(0x440)]);_0x5792e2&&(_0x3d39f6=_0x512965('Banco:\x20\x20'+_0x5792e2[_0x2ec10f(0x782)],'',_0x3d39f6,_0x436aac,0x7));}_0x2eb201[_0x2ec10f(0x350)]&&(_0x3d39f6=_0x512965(_0x2ec10f(0x76d)+_0x2eb201[_0x2ec10f(0x350)],'',_0x3d39f6,_0x436aac,0x7));}}}const _0x4ddd48=_0x5f5db9['data'][_0x2ec10f(0x60f)];parseFloat(_0x4ddd48)>0x0&&(_0x3d39f6=_0x512965('Vuelto:',_0x1611da+'\x20'+_0x4ddd48,_0x3d39f6,_0x436aac,0x7));}if(_0x33204f&&_0x33204f[_0x2ec10f(0x7c7)]==!![]||_0x3ef146&&_0x3ef146['status']==!![]){if(Array[_0x2ec10f(0x643)](_0x33204f[_0x2ec10f(0x548)])&&_0x33204f[_0x2ec10f(0x548)][_0x2ec10f(0x4e9)]>0x0){_0x3d39f6-=_0x308504,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6+_0x308504),_0x3d39f6=_0x5bfeb9(_0x2ec10f(0x7b5),_0x3d39f6,_0x436aac,0x7),_0x3d39f6-=0x5;let _0x12812c;_0x33204f[_0x2ec10f(0x7c7)]==!![]?_0x12812c=parseFloat(_0x28118c):_0x12812c=_0x5f5db9['data'][_0x2ec10f(0x47f)],_0x3d39f6=_0x512965(_0x2ec10f(0x722),_0x1611da+'\x20'+_0x12812c,_0x3d39f6,_0x436aac,0x7),_0x3d39f6=_0x512965('Nº\x20de\x20cuotas',_0x33204f[_0x2ec10f(0x548)][_0x2ec10f(0x4e9)]+_0x2ec10f(0x5e9),_0x3d39f6,_0x436aac,0x7),_0x3d39f6=_0x5bfeb9(_0x2ec10f(0x5f2),_0x3d39f6,_0x436aac,0x7),_0x3d39f6-=0x5,_0x33204f[_0x2ec10f(0x548)][_0x2ec10f(0x1fa)](_0x3cfeda=>{const _0x293634=_0x2ec10f;_0x3d39f6=_0x512965(_0x293634(0x338)+_0x3cfeda['cuota'],_0x3cfeda[_0x293634(0x1ef)]+_0x293634(0x5a3)+parseFloat(_0x3cfeda['monto'])[_0x293634(0x718)](0x2),_0x3d39f6,_0x436aac,0x7);});}}}_0x3d39f6-=_0x308504,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6+_0x308504),_0x3d39f6-=0x5;_0xd31882&&(_0x3d39f6=_0x5bfeb9(_0xd31882,_0x3d39f6,_0x18c6ec,0x8,_0x2ec10f(0x664)));if(_0x4b8441!=0x1){const _0x16bd4a=_0x2ec10f(0x6f2);if(setObservacion){_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;const _0x3da38c=_0x436aac[_0x2ec10f(0x5b5)](_0x16bd4a,0x8),_0x14643a=(_0x3534ac-_0x3da38c)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x16bd4a,{'x':_0x14643a,'y':_0x3d39f6,'size':0x8,'font':_0x18c6ec}),_0x3d39f6-=_0x308504,_0x3d39f6=_0x5bfeb9(setObservacion,_0x3d39f6,_0x436aac,0x8,'center');}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;const _0x2cee1d=_0x2ec10f(0x4bf),_0x24afeb=_0x436aac[_0x2ec10f(0x5b5)](_0x2cee1d,0x7),_0x5e0727=(_0x3534ac-_0x24afeb)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x2cee1d,{'x':_0x5e0727,'y':_0x3d39f6,'size':0x7,'font':_0x436aac}),_0x3d39f6-=0x9;const _0x74ec7e=_0x2ec10f(0x369),_0x216454=_0x436aac[_0x2ec10f(0x5b5)](_0x74ec7e,0x7),_0x7f5fb6=(_0x3534ac-_0x216454)/0x2;_0x51522d['drawText'](_0x74ec7e,{'x':_0x7f5fb6,'y':_0x3d39f6,'size':0x7,'font':_0x436aac}),_0x3d39f6-=0x9;const _0x446661=_0x2ec10f(0x629),_0x2113c9=_0x436aac[_0x2ec10f(0x5b5)](_0x446661,0x7),_0x17e9f0=(_0x3534ac-_0x2113c9)/0x2;_0x51522d['drawText'](_0x446661,{'x':_0x17e9f0,'y':_0x3d39f6,'size':0x7,'font':_0x436aac}),_0x3d39f6-=0x9;const _0xc5acd4=_0x2ec10f(0x695),_0x33bafa=_0x436aac[_0x2ec10f(0x5b5)](_0xc5acd4,0x7),_0x5ea3b9=(_0x3534ac-_0x33bafa)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0xc5acd4,{'x':_0x5ea3b9,'y':_0x3d39f6,'size':0x7,'font':_0x436aac}),_0x3d39f6-=0x9;const _0x27bb74=_0x2ec10f(0x70b),_0x2ba662=_0x436aac[_0x2ec10f(0x5b5)](_0x27bb74,0x7),_0x2d0fff=(_0x3534ac-_0x2ba662)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x27bb74,{'x':_0x2d0fff,'y':_0x3d39f6,'size':0x7,'font':_0x436aac}),_0x3d39f6-=0x9;const _0x30289d=setUrlConsultasCpe,_0x1428cb=_0x436aac[_0x2ec10f(0x5b5)](_0x30289d,0x7),_0x20b04a=(_0x3534ac-_0x1428cb)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x30289d,{'x':_0x20b04a,'y':_0x3d39f6,'size':0x7,'font':_0x18c6ec}),_0x3d39f6-=0x9;const _0x4c2e1b=[setEmpresaRuc,setSerie,setCorrelativo,_0x5945b8>0x0?_0x5945b8:null,_0x32b74a>0x0?_0x32b74a:null,_0x47ae9f>0x0?_0x47ae9f:null,_0x33943a>0x0?_0x33943a:null,_0x2dfae0>0x0?_0x2dfae0:null,_0x28118c>0x0?_0x28118c:null,setClienteNumDoc],_0x2b8378=_0x4c2e1b[_0x2ec10f(0x46d)](_0x21eaf3=>_0x21eaf3!==null)['join']('|'),_0x482c5a=document[_0x2ec10f(0x2bb)]('div'),_0xe851be=new QRCode(_0x482c5a,{'text':_0x2b8378,'width':0x80,'height':0x80,'colorDark':_0x2ec10f(0x213),'colorLight':_0x2ec10f(0x3e0),'correctLevel':QRCode[_0x2ec10f(0x284)]['H']});await new Promise(_0x17f907=>setTimeout(_0x17f907,0x1f4));const _0x15d789=_0x482c5a[_0x2ec10f(0x453)](_0x2ec10f(0x383)),_0x4b159f=_0x15d789[_0x2ec10f(0x25c)](_0x2ec10f(0x2ad)),_0x2837a6=atob(_0x4b159f['split'](',')[0x1]),_0x152924=Uint8Array[_0x2ec10f(0x6a2)](_0x2837a6,_0x37b85a=>_0x37b85a[_0x2ec10f(0x6f1)](0x0)),_0x5ea109=await _0x5adbc9[_0x2ec10f(0x4e5)](_0x152924),_0x4d67e2=_0x5ea109[_0x2ec10f(0x331)](0.6),_0x5c0c87=(_0x3534ac-_0x4d67e2['width'])/0x2,_0x233e49=_0x3d39f6-_0x4d67e2[_0x2ec10f(0x41f)];_0x51522d[_0x2ec10f(0x6dc)](_0x5ea109,{'x':_0x5c0c87,'y':_0x233e49,'width':_0x4d67e2[_0x2ec10f(0x389)],'height':_0x4d67e2[_0x2ec10f(0x41f)]}),_0x3d39f6=_0x233e49-_0x308504;}}_0x4b8441==0x1&&(_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504,_0x3d39f6=_0x2a230f(_0x2ec10f(0x1eb),'................................................',_0x3d39f6,_0x436aac,0x9,_0x38768f),_0x3d39f6=_0x2a230f(_0x2ec10f(0x405),_0x2ec10f(0x200),_0x3d39f6,_0x436aac,0x9,_0x38768f),_0x3d39f6=_0x2a230f(_0x2ec10f(0x765),_0x2ec10f(0x200),_0x3d39f6,_0x436aac,0x9,_0x38768f),_0x3d39f6-=0x5),_0x4b8441!=0x1&&(setTipOpeSales[_0x2ec10f(0x3f2)](_0x3b1bef=>_0x3b1bef==setTipoOperacion)&&(_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504,_0xd6fe44!=_0x3d4392?(_0x3d39f6=_0x5bfeb9(_0x336f42,_0x3d39f6,_0x18c6ec,0x8,_0x2ec10f(0x664)),_0x3d39f6=_0x5bfeb9(_0x2812d3,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664)),_0x3d39f6=_0x5bfeb9(_0x4bd2d3,_0x3d39f6,_0x18c6ec,0x8,'center'),_0x3d39f6=_0x5bfeb9(_0x5e0494,_0x3d39f6,_0x436aac,0x8,'center')):(_0x3d39f6=_0x5bfeb9(_0x4d2547,_0x3d39f6,_0x18c6ec,0x8,_0x2ec10f(0x664)),_0x3d39f6=_0x5bfeb9(_0x5e0494,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664)))),setTipOpeQuotation[_0x2ec10f(0x3f2)](_0x3bf770=>_0x3bf770==setTipoOperacion)&&(_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504,_0x3d39f6=_0x5bfeb9(_0x336f42,_0x3d39f6,_0x18c6ec,0x8,_0x2ec10f(0x664)),_0x3d39f6=_0x5bfeb9(_0x2812d3,_0x3d39f6,_0x436aac,0x8,_0x2ec10f(0x664))),setFooter&&setTipOpeSales[_0x2ec10f(0x3f2)](_0x2ed6a5=>_0x2ed6a5==setTipoOperacion)&&(_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504,_0x3d39f6=_0x5bfeb9(setFooter,_0x3d39f6,_0x18c6ec,0x8,'center')));}else{if(setTipOpeOrders[_0x2ec10f(0x3f2)](_0xec0a18=>_0xec0a18==setTipoOperacion)){if(setLogoUrl){const _0x406aff=setLogoUrl['split'](',')[0x1],_0x27a19b=Uint8Array[_0x2ec10f(0x6a2)](atob(_0x406aff),_0x5417c7=>_0x5417c7[_0x2ec10f(0x6f1)](0x0));let _0x11da84;try{_0x11da84=await _0x5adbc9[_0x2ec10f(0x4e5)](_0x27a19b);}catch(_0x1b3b90){try{_0x11da84=await _0x5adbc9['embedJpg'](_0x27a19b);}catch(_0xcf9c){throw new Error(_0x2ec10f(0x4d2));}}const _0x224434=_0x3534ac*0.5,_0x10ab70=_0x11da84['width'],_0x21aa35=_0x224434/_0x10ab70,_0x3758db=_0x11da84[_0x2ec10f(0x331)](_0x21aa35),_0x22a33c=(_0x3534ac-_0x3758db['width'])/0x2,_0x43a829=_0x3d39f6-_0x3758db['height'];_0x51522d['drawImage'](_0x11da84,{'x':_0x22a33c,'y':_0x43a829,'width':_0x3758db[_0x2ec10f(0x389)],'height':_0x3758db[_0x2ec10f(0x41f)]}),_0x3d39f6=_0x43a829;}_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;const _0x3c51b9=_0x436aac[_0x2ec10f(0x5b5)](_0x1b093f['toUpperCase']()+'\x20-\x20'+setSerie[_0x2ec10f(0x603)](),0xb),_0x18c530=(_0x3534ac-_0x3c51b9)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x1b093f[_0x2ec10f(0x603)]()+_0x2ec10f(0x398)+setSerie[_0x2ec10f(0x603)](),{'x':_0x18c530,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=_0x308504;const _0x4a49d6=_0x436aac['widthOfTextAtSize'](_0x2ec10f(0x4e3)+setCorrelativo,0xb),_0x4b049d=(_0x3534ac-_0x4a49d6)/0x2;_0x51522d[_0x2ec10f(0x4e1)]('Nº\x20'+setCorrelativo,{'x':_0x4b049d,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=0x9,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5+_0x308504;const _0x3c0a80=_0x436aac[_0x2ec10f(0x5b5)](_0x525752+_0x2ec10f(0x398)+_0xb4402a,0xb),_0xbe2dae=(_0x3534ac-_0x3c0a80)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x525752+_0x2ec10f(0x398)+_0xb4402a,{'x':_0xbe2dae,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=_0x308504;const _0x253c36=_0x436aac[_0x2ec10f(0x5b5)](_0x2ec10f(0x36d)+_0x2812d3,0xb),_0x47e216=(_0x3534ac-_0x253c36)/0x2;_0x51522d['drawText'](_0x2ec10f(0x36d)+_0x2812d3,{'x':_0x47e216,'y':_0x3d39f6,'size':0xb,'font':_0x18c6ec}),_0x3d39f6-=0x9,_0x486286(_0x106cf8,_0x2655d6-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5,_0x3d39f6=_0x274c59(_0x51522d,_0x2ec10f(0x248),_0x2ec10f(0x3ed),_0x3d39f6,_0x436aac,0x9,_0x3534ac,_0x106cf8),_0x3d39f6-=0x5,_0x486286(_0x106cf8,_0x3534ac-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5,setProductos[_0x2ec10f(0x1fa)]((_0x382755,_0x4e5cb1)=>{const _0x24ee4a=_0x2ec10f;let {setDescripcion:_0x48afc3,setCantidad:_0x17734c,setMtoPrecioUnitario:_0x3996db,setTotal:_0x25b34e,setDescuento:_0x1e5712,setMtoPrecioUnitario_final:_0x18c9bd,setUnidad:_0x350f35,setTipAfeIgv:_0x230377,setNotas:_0x3f84ca}=_0x382755,_0x4ca884=products[_0x24ee4a(0x2b5)](_0x3c3e97=>_0x3c3e97['id']==_0x382755[_0x24ee4a(0x3f6)]);_0x1b0a41==0x1&&_0x4ca884&&_0x4ca884[_0x24ee4a(0x52e)]&&(_0x48afc3+=_0x24ee4a(0x5a3)+_0x4ca884[_0x24ee4a(0x52e)]);_0xfe6614==0x1&&_0x4ca884&&_0x4ca884[_0x24ee4a(0x39e)]&&(_0x48afc3+=_0x24ee4a(0x3bf)+_0x4ca884[_0x24ee4a(0x39e)]);_0x17734c+='\x20('+_0x350f35+')';const _0x234708=0x2;_0x3d39f6-=_0x234708,_0x3d39f6=_0x274c59(_0x51522d,_0x17734c,_0x48afc3,_0x3d39f6,_0x18c6ec,0xb,_0x3534ac,_0x106cf8);if(_0x3f84ca){const _0x589114=0x9,_0x2a744a=_0x3534ac-0x2*_0x106cf8,_0x449c9e=_0x2a744a*0.4,_0x24fb0c=_0x2a744a*0.6,_0x1add2a=_0x106cf8+_0x449c9e+0x5,_0x4e2f75=_0x589114*1.2,_0x304d0b=_0x3f84ca,_0x8adf68=_0x304d0b[_0x24ee4a(0x458)](/\r?\n/);let _0x2f8f14=[];_0x8adf68[_0x24ee4a(0x1fa)](_0x185fa2=>{const _0xc3141b=_0x24ee4a,_0x773fbe=_0x32f2df(_0xc3141b(0x373)+_0x185fa2,_0x24fb0c-0x5,_0x436aac,_0x589114);_0x2f8f14=_0x2f8f14[_0xc3141b(0x2eb)](_0x773fbe);}),_0x2f8f14[_0x24ee4a(0x1fa)]((_0x313469,_0x2f3d21)=>{const _0x33d4da=_0x24ee4a,_0x401eff=_0x3d39f6-(_0x2f3d21+0x1)*_0x4e2f75;_0x51522d[_0x33d4da(0x4e1)](_0x313469,{'x':_0x1add2a,'y':_0x401eff,'size':_0x589114,'font':_0x436aac});}),_0x3d39f6-=_0x2f8f14[_0x24ee4a(0x4e9)]*_0x4e2f75;}_0x3d39f6-=_0x308504,_0x486286(_0x106cf8,_0x3534ac-_0x106cf8,_0x3d39f6),_0x3d39f6-=0x5;}),_0x3d39f6-=_0x308504;const _0x33b852=(_0x3534ac-_0x106cf8*0x2)*0.6;_0x3e1542&&(_0x3d39f6=_0x2a230f(_0x2ec10f(0x3d5),_0x3e1542,_0x3d39f6,_0x18c6ec,0xb,_0x33b852)),_0xa32bb5&&(_0x3d39f6=_0x2a230f('Hora',_0xa32bb5,_0x3d39f6,_0x18c6ec,0xb,_0x33b852)),setClienteDenominacion&&(_0x3d39f6=_0x2a230f(_0x4a2230,setClienteDenominacion[_0x2ec10f(0x6e4)]()[_0x2ec10f(0x5b9)](/(^|\s)\S/g,_0x5cd4c1=>_0x5cd4c1[_0x2ec10f(0x603)]()),_0x3d39f6,_0x18c6ec,0xb,_0x33b852));}}}else{if(_0xe6d550=='a4'){const _0x17db37=(_0x3fd689,_0x495ba2,_0x5ed9b6)=>{const _0x1b2cf5=_0x2ec10f;if(!_0x3fd689)return console[_0x1b2cf5(0x769)](_0x1b2cf5(0x7b1)),0x0;return _0x3fd689['widthOfTextAtSize'](_0x495ba2,_0x5ed9b6);},_0x1def6b=(_0x117c97,_0x4ed8cd,_0x1728e3,_0x121ced,_0x4dd780,_0x898aa2,_0x587ca7,_0x4db500,_0x1a194b=_0x5be938)=>{const _0x1469b0=_0x2ec10f;if(!_0x898aa2)return console[_0x1469b0(0x769)](_0x1469b0(0x27b)),_0x1728e3;const _0x50f4ba=_0x117c97['split']('\x20');let _0x5383f0='',_0x5a7ecf=_0x1728e3;for(let _0x6705d1=0x0;_0x6705d1<_0x50f4ba[_0x1469b0(0x4e9)];_0x6705d1++){const _0x3f2f9c=_0x5383f0+(_0x5383f0?'\x20':'')+_0x50f4ba[_0x6705d1],_0x5c08ec=_0x898aa2[_0x1469b0(0x5b5)](_0x3f2f9c,_0x587ca7);_0x5c08ec>_0x121ced?(_0x51522d[_0x1469b0(0x4e1)](_0x5383f0,{'x':_0x4ed8cd,'y':_0x5a7ecf,'size':_0x587ca7,'font':_0x898aa2,'color':_0x1a194b}),_0x5a7ecf-=_0x4db500,_0x5383f0=_0x50f4ba[_0x6705d1]):_0x5383f0=_0x3f2f9c;}return _0x5383f0&&(_0x51522d[_0x1469b0(0x4e1)](_0x5383f0,{'x':_0x4ed8cd,'y':_0x5a7ecf,'size':_0x587ca7,'font':_0x898aa2,'color':_0x1a194b}),_0x5a7ecf-=_0x4db500),_0x5a7ecf;},_0x38968d=(_0x304b7e,_0x3424bf,_0x1f1bc4,_0xb03b06,_0x299243,_0x4c4039,_0x44ed7a=0x9,_0x2c189d=0x3)=>{const _0x75c4d5=_0x2ec10f,_0x1dd281=_0x4c4039/0x2;_0x51522d[_0x75c4d5(0x388)]({'x':_0x1f1bc4,'y':_0xb03b06+_0x1dd281,'width':_0x299243-_0x2c189d,'height':_0x1dd281,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1});const _0x56b414=_0x17db37(_0x436aac,_0x304b7e,_0x44ed7a),_0x3a7df3=_0x1f1bc4+(_0x299243-_0x2c189d-_0x56b414)/0x2,_0x57330a=_0xb03b06+_0x1dd281+(_0x1dd281-_0x44ed7a)/0x2;_0x51522d['drawText'](_0x304b7e,{'x':_0x3a7df3,'y':_0x57330a,'size':_0x44ed7a,'font':_0x436aac,'color':_0x4326b9}),_0x51522d['drawRectangle']({'x':_0x1f1bc4,'y':_0xb03b06,'width':_0x299243-_0x2c189d,'height':_0x1dd281,'color':_0x4326b9,'borderColor':_0x366b77,'borderWidth':0x1});const _0x22eaa3=_0x17db37(_0x436aac,_0x3424bf,_0x44ed7a),_0x53fbe5=_0x1f1bc4+(_0x299243-_0x2c189d-_0x22eaa3)/0x2,_0x5a11c1=_0xb03b06+(_0x1dd281-_0x44ed7a)/0x2;_0x51522d[_0x75c4d5(0x4e1)](_0x3424bf,{'x':_0x53fbe5,'y':_0x5a11c1,'size':_0x44ed7a,'font':_0x436aac,'color':_0x5be938});},_0xb61a0a=(_0x47ebc7,_0xa2caf6,_0x4bcec0,_0x34ecc6,_0x4d6e7b,_0x1724e7,_0x4e3196=0x9)=>{const _0x4fab08=_0x2ec10f,_0x1317de=_0x1724e7/0x2;_0x51522d[_0x4fab08(0x388)]({'x':_0x4bcec0,'y':_0x34ecc6+_0x1317de,'width':_0x4d6e7b,'height':_0x1317de,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1});const _0x587ada=_0x17db37(_0x436aac,_0x47ebc7,_0x4e3196),_0x48177e=_0x4bcec0+(_0x4d6e7b-_0x587ada)/0x2,_0x5ee0c2=_0x34ecc6+_0x1317de+(_0x1317de-_0x4e3196)/0x2;_0x51522d[_0x4fab08(0x4e1)](_0x47ebc7,{'x':_0x48177e,'y':_0x5ee0c2,'size':_0x4e3196,'font':_0x436aac,'color':_0x4326b9}),_0x51522d[_0x4fab08(0x388)]({'x':_0x4bcec0,'y':_0x34ecc6,'width':_0x4d6e7b,'height':_0x1317de,'color':_0x4326b9,'borderColor':_0x366b77,'borderWidth':0x1});const _0x471a4c=_0x17db37(_0x18c6ec,_0xa2caf6,_0x4e3196),_0x964231=_0x4bcec0+(_0x4d6e7b-_0x471a4c)/0x2,_0x41a5b8=_0x34ecc6+(_0x1317de-_0x4e3196)/0x2;_0x51522d[_0x4fab08(0x4e1)](_0xa2caf6,{'x':_0x964231,'y':_0x41a5b8,'size':_0x4e3196,'font':_0x18c6ec,'color':_0x5be938});},_0x47a498=(_0x1d9462,_0x3416c9,_0x307d0b,_0x2ff9d3,_0x32d68b,_0x6191c6,_0x521db9,_0x17ee9b,_0x19bcac=![],_0x9da120=_0x2ec10f(0x499))=>{const _0x42e11a=_0x2ec10f,_0x41caac=_0x6191c6-_0x521db9*0x2,_0x223360=_0x41caac*0.1,_0x4341d5=_0x41caac*0.1,_0x5cf557=_0x41caac*0.15,_0x1ad06d=_0x41caac*0.35,_0x53cb95=_0x41caac*0.15,_0x48a555=_0x41caac*0.15,_0x36e74b=_0x521db9,_0x2a580e=_0x36e74b+_0x223360,_0x2a753=_0x2a580e+_0x4341d5,_0x585b97=_0x2a753+_0x5cf557,_0x6ff16f=_0x585b97+_0x1ad06d,_0x339081=_0x6ff16f+_0x53cb95;if(_0x19bcac){_0x51522d[_0x42e11a(0x388)]({'x':_0x521db9,'y':_0x307d0b,'width':_0x41caac,'height':_0x17ee9b,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1});const _0x372208=(_0x17ee9b-_0x32d68b)/0x2,[_0x1315fe,_0x478b43,_0x281def,_0x1465ca,_0x1cf11f,_0x30fc32]=_0x1d9462;return _0x51522d[_0x42e11a(0x4e1)](String(_0x1315fe),{'x':_0x1748e(_0x1315fe,_0x2ff9d3,_0x32d68b,_0x36e74b,_0x223360),'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x51522d[_0x42e11a(0x4e1)](String(_0x478b43),{'x':_0x1748e(_0x478b43,_0x2ff9d3,_0x32d68b,_0x2a580e,_0x4341d5),'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x51522d[_0x42e11a(0x4e1)](String(_0x281def),{'x':_0x1748e(_0x281def,_0x2ff9d3,_0x32d68b,_0x2a753,_0x5cf557),'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x51522d[_0x42e11a(0x4e1)](String(_0x1465ca),{'x':_0x585b97+0x2,'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x51522d[_0x42e11a(0x4e1)](String(_0x1cf11f),{'x':_0x1748e(_0x1cf11f,_0x2ff9d3,_0x32d68b,_0x6ff16f,_0x53cb95),'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x51522d[_0x42e11a(0x4e1)](String(_0x30fc32),{'x':_0x291015(_0x30fc32,_0x2ff9d3,_0x32d68b,_0x339081,_0x48a555)-0xa,'y':_0x307d0b+_0x372208,'size':_0x32d68b,'font':_0x2ff9d3,'color':_0x4326b9}),_0x307d0b-_0x17ee9b;}else{const [_0x149f15,_0x28af9b,_0x5c4624,_0x185208,_0x5e96d0,_0x559f3d]=_0x3416c9;if(_0x9da120==_0x42e11a(0x6e7)&&_0x3416c9[0x4][_0x42e11a(0x2b8)]()=='Total\x20('+_0x1611da+')')_0x51522d[_0x42e11a(0x4e1)](_0xd31882,{'x':_0x36e74b+0xa,'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3});else{_0x51522d['drawText'](String(_0x149f15),{'x':_0x1748e(_0x149f15,_0x2ff9d3,_0x32d68b,_0x36e74b,_0x223360),'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3}),_0x51522d[_0x42e11a(0x4e1)](String(_0x28af9b),{'x':_0x1748e(_0x28af9b,_0x2ff9d3,_0x32d68b,_0x2a580e,_0x4341d5),'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3}),_0x51522d['drawText'](String(_0x5c4624),{'x':_0x1748e(_0x5c4624,_0x2ff9d3,_0x32d68b,_0x2a753,_0x5cf557),'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3});var _0xd8b29c=_0x185208?_0x2e0509(_0x185208,_0x585b97+0x2,_0x307d0b,_0x1ad06d-0x4,_0x2ff9d3,_0x32d68b,_0x17ee9b):_0x307d0b;}return _0x9da120==_0x42e11a(0x6e7)?_0x51522d[_0x42e11a(0x4e1)](String(_0x5e96d0),{'x':_0x291015(_0x5e96d0,_0x2ff9d3,_0x32d68b,_0x6ff16f,_0x53cb95)-0x8,'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3}):_0x51522d[_0x42e11a(0x4e1)](String(_0x5e96d0),{'x':_0x1748e(_0x5e96d0,_0x2ff9d3,_0x32d68b,_0x6ff16f,_0x53cb95)-0x2,'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3}),_0x51522d['drawText'](String(_0x559f3d),{'x':_0x291015(_0x559f3d,_0x2ff9d3,_0x32d68b,_0x339081,_0x48a555)-0xa,'y':_0x307d0b,'size':_0x32d68b,'font':_0x2ff9d3}),_0x9da120=='totals'&&_0x3416c9[0x4][_0x42e11a(0x2b8)]()==_0x42e11a(0x7bf)+_0x1611da+')'?_0x307d0b-_0x17ee9b:Math['min'](_0xd8b29c!==undefined?_0xd8b29c:_0x307d0b,_0x307d0b-_0x17ee9b);}};function _0x1748e(_0x29fcfc,_0x4d268f,_0x32293f,_0xd29d60,_0x1f9712){const _0x413149=_0x2ec10f,_0x426ccb=_0x4d268f[_0x413149(0x5b5)](String(_0x29fcfc),_0x32293f);return _0xd29d60+(_0x1f9712-_0x426ccb)/0x2;}function _0x291015(_0x276f3b,_0x43f086,_0x338e80,_0x52cd5f,_0x597f86){const _0x435cbd=_0x2ec10f,_0x3b9354=_0x43f086[_0x435cbd(0x5b5)](String(_0x276f3b),_0x338e80);return _0x52cd5f+(_0x597f86-_0x3b9354);}function _0x2e0509(_0x1d7c65,_0x2b4619,_0x25cd41,_0x5cb039,_0xd45936,_0x24b724,_0x45ec06){const _0x487722=_0x2ec10f,_0x4cb7c2=_0x1d7c65[_0x487722(0x458)]('\x20');let _0xa397f0='',_0x5e21b0=_0x25cd41;for(let _0x4b9287=0x0;_0x4b9287<_0x4cb7c2[_0x487722(0x4e9)];_0x4b9287++){const _0x2910bf=_0xa397f0+(_0xa397f0?'\x20':'')+_0x4cb7c2[_0x4b9287];_0xd45936[_0x487722(0x5b5)](_0x2910bf,_0x24b724)>_0x5cb039?(_0x51522d[_0x487722(0x4e1)](_0xa397f0,{'x':_0x2b4619,'y':_0x5e21b0,'size':_0x24b724,'font':_0xd45936}),_0x5e21b0-=_0x45ec06,_0xa397f0=_0x4cb7c2[_0x4b9287]):_0xa397f0=_0x2910bf;}return _0xa397f0&&(_0x51522d[_0x487722(0x4e1)](_0xa397f0,{'x':_0x2b4619,'y':_0x5e21b0,'size':_0x24b724,'font':_0xd45936}),_0x5e21b0-=_0x45ec06),_0x5e21b0;}let _0x9e85b9=0x3c,_0x8f0638=(_0x3534ac-_0x106cf8*0x2)*0.25,_0x524296=(_0x3534ac-_0x106cf8*0x2)*0.5,_0x12ae15=(_0x3534ac-_0x106cf8*0x2)*0.25,_0x31bb7f=_0x106cf8,_0x1ba533=_0x106cf8+_0x8f0638,_0x37da41=_0x106cf8+_0x8f0638+_0x524296,_0x489b6d=_0x3d39f6-_0x9e85b9;if(setLogoUrl)try{const _0x2e9c3e=setLogoUrl[_0x2ec10f(0x458)](',')[0x1],_0xb4be51=Uint8Array[_0x2ec10f(0x6a2)](atob(_0x2e9c3e),_0x4eb008=>_0x4eb008[_0x2ec10f(0x6f1)](0x0));let _0x493a28;try{_0x493a28=await _0x5adbc9[_0x2ec10f(0x4e5)](_0xb4be51);}catch(_0x269685){try{_0x493a28=await _0x5adbc9[_0x2ec10f(0x40b)](_0xb4be51);}catch(_0x1f0672){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x41e596=_0x8f0638*0.8,_0x5ba2b8=_0x493a28[_0x2ec10f(0x389)],_0x298ae0=_0x41e596/_0x5ba2b8,_0x1cc1ae=_0x493a28[_0x2ec10f(0x331)](_0x298ae0),_0x2cf5cb=_0x31bb7f+(_0x8f0638-_0x1cc1ae[_0x2ec10f(0x389)])/0x2,_0x14dad9=_0x489b6d+(_0x9e85b9-_0x1cc1ae[_0x2ec10f(0x41f)])/0x2;_0x51522d[_0x2ec10f(0x6dc)](_0x493a28,{'x':_0x2cf5cb,'y':_0x14dad9,'width':_0x1cc1ae[_0x2ec10f(0x389)],'height':_0x1cc1ae[_0x2ec10f(0x41f)]});}catch(_0x455ea5){console['log'](_0x2ec10f(0x4cf),_0x455ea5);}let _0x4878b2=_0x3d39f6-0xa;const _0x3777c4=0xc;setEmpresaNombre&&(_0x4878b2=_0x1def6b(setEmpresaNombre,_0x1ba533,_0x4878b2,_0x524296,_0x9e85b9,_0x18c6ec,0x9,_0x3777c4));_0x5514f2&&(_0x4878b2=_0x1def6b(_0x5514f2,_0x1ba533,_0x4878b2,_0x524296,_0x9e85b9,_0x436aac,0x8,_0x3777c4));setEmpresaEmail&&(_0x4878b2=_0x1def6b(setEmpresaEmail,_0x1ba533,_0x4878b2,_0x524296,_0x9e85b9,_0x436aac,0x8,_0x3777c4));setEmpresaTelefono&&(_0x4878b2=_0x1def6b(setEmpresaTelefono,_0x1ba533,_0x4878b2,_0x524296,_0x9e85b9,_0x436aac,0x8,_0x3777c4));setEmpresaSitioWeb&&(_0x4878b2=_0x1def6b(setEmpresaSitioWeb,_0x1ba533,_0x4878b2,_0x524296,_0x9e85b9,_0x436aac,0x8,_0x3777c4));const _0x492407=0x5;col3TopHeight=_0x9e85b9*0.5,col3BottomHeight=_0x9e85b9*0.5;const _0x260662=_0x489b6d+col3TopHeight+_0x492407;_0xb61a0a(_0x1b093f?_0x1b093f[_0x2ec10f(0x603)]():'',setEmpresaRuc||'',_0x37da41,_0x260662,_0x12ae15,col3BottomHeight,0x9);const _0x1a6958=_0x12ae15*0.5,_0x4530c8=col3TopHeight;_0x38968d('Serie',setSerie?setSerie['toUpperCase']():'',_0x37da41,_0x489b6d,_0x1a6958,_0x4530c8,0x9,0x5),_0x38968d('Nº',setCorrelativo?String(setCorrelativo):'',_0x37da41+_0x1a6958,_0x489b6d,_0x1a6958,_0x4530c8,0x9,0x0),_0x3d39f6=_0x489b6d;const _0x2cfa2a=0x14;_0x3d39f6-=_0x2cfa2a;let _0x318794=0x64,_0xce29fc=_0x3d39f6-_0x318794,_0x35d6eb=(_0x3534ac-_0x106cf8*0x2)*0.75,_0x47dc16=(_0x3534ac-_0x106cf8*0x2)*0.25,_0x2dd7da=_0x106cf8,_0x26fae9=_0x106cf8+_0x35d6eb;const _0x105526=0xe,_0x3bd8e0=_0x35d6eb*0.2;_0x51522d['drawRectangle']({'x':_0x2dd7da,'y':_0xce29fc+(_0x318794-_0x105526),'width':_0x3bd8e0,'height':_0x105526,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1});const _0x77a28b=_0x2ec10f(0x78e),_0x4da87e=0x9,_0x3c2308=_0x17db37(_0x436aac,_0x77a28b,_0x4da87e),_0x5aa3c8=_0x2dd7da+(_0x3bd8e0-_0x3c2308)/0x2,_0x5207f8=_0xce29fc+_0x318794-_0x105526+(_0x105526-_0x4da87e)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x77a28b,{'x':_0x5aa3c8,'y':_0x5207f8,'size':_0x4da87e,'font':_0x436aac,'color':_0x4326b9});const _0x128143=_0x318794-_0x105526;_0x51522d[_0x2ec10f(0x388)]({'x':_0x2dd7da,'y':_0xce29fc,'width':_0x35d6eb-0x5,'height':_0x128143,'color':_0x4326b9,'borderColor':_0x366b77,'borderWidth':0x1});let _0x1e5f05=_0xce29fc+_0x128143-0xa;const _0x55edfe=0xc,_0x466aeb=_0x35d6eb-0x5-0xa,_0x784eff=_0x466aeb*0.17,_0x5ada24=_0x466aeb*0.02,_0x424a9a=_0x466aeb*0.81;function _0x235f48(_0x5141dd,_0x5722a5,_0x32dc20,_0x45f014,_0x593cd5,_0x3aac22,_0x100e77){const _0xa3d7a3=_0x2ec10f,_0xdaaefc=_0x5141dd[_0xa3d7a3(0x458)]('\x20');let _0x4cd1d7='',_0x365c53=_0x32dc20;for(let _0x230f67=0x0;_0x230f67<_0xdaaefc[_0xa3d7a3(0x4e9)];_0x230f67++){const _0x16ca6c=_0x4cd1d7+(_0x4cd1d7?'\x20':'')+_0xdaaefc[_0x230f67];_0x593cd5[_0xa3d7a3(0x5b5)](_0x16ca6c,_0x3aac22)>_0x45f014?(_0x51522d['drawText'](_0x4cd1d7,{'x':_0x5722a5,'y':_0x365c53,'size':_0x3aac22,'font':_0x593cd5,'color':_0x100e77}),_0x365c53-=_0x55edfe,_0x4cd1d7=_0xdaaefc[_0x230f67]):_0x4cd1d7=_0x16ca6c;}return _0x4cd1d7&&(_0x51522d[_0xa3d7a3(0x4e1)](_0x4cd1d7,{'x':_0x5722a5,'y':_0x365c53,'size':_0x3aac22,'font':_0x593cd5,'color':_0x100e77}),_0x365c53-=_0x55edfe),_0x365c53;}function _0x3099e0(_0x1080be,_0xef65b5){const _0x4aa1b5=_0x2ec10f;_0x51522d[_0x4aa1b5(0x4e1)](String(_0x1080be),{'x':_0x2dd7da+0x5,'y':_0x1e5f05,'size':0x8,'font':_0x18c6ec,'color':_0x5be938}),_0x51522d[_0x4aa1b5(0x4e1)](':',{'x':_0x2dd7da+0x5+_0x784eff,'y':_0x1e5f05,'size':0x8,'font':_0x436aac,'color':_0x5be938}),_0x1e5f05=_0x235f48(String(_0xef65b5),_0x2dd7da+0x5+_0x784eff+_0x5ada24,_0x1e5f05,_0x424a9a,_0x436aac,0x8,_0x5be938);}setClienteTipoDoc&&setClienteNumDoc&&_0x3099e0(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x3099e0(_0x4a2230,setClienteDenominacion);setClienteDireccion&&_0x3099e0(_0x2ec10f(0x765),setClienteDireccion);_0x1788bf&&_0x3099e0(_0x2ec10f(0x204),_0x1788bf);_0x17fd75&&_0x3099e0(_0x2ec10f(0x5ab),_0x17fd75);_0x2812d3&&_0x3099e0('Vendedor',_0x2812d3);let _0xb7cacd=col3TopHeight;const _0x590bec=0x5,_0x277f44=_0xce29fc+(_0x318794-_0xb7cacd);_0xb61a0a('Fecha',_0x3e1542||'',_0x26fae9,_0x277f44,_0x47dc16,_0xb7cacd,0x9);const _0x2f9322=_0x277f44-_0x590bec-_0xb7cacd;let _0x348922='';if(_0x5f5db9['status'])_0x348922=_0x2ec10f(0x45e);if(_0x33204f[_0x2ec10f(0x7c7)])_0x348922=_0x2ec10f(0x4ee);if(_0x3ef146[_0x2ec10f(0x7c7)])_0x348922=_0x2ec10f(0x61b);_0xb61a0a(_0x2ec10f(0x247),''+_0x348922,_0x26fae9,_0x2f9322,_0x47dc16,_0xb7cacd,0x9);const _0x338735=_0x2f9322-_0x590bec-_0xb7cacd;let _0x1305ca=_0x413787||'';_0xb61a0a('Moneda',''+_0x1305ca,_0x26fae9,_0x338735,_0x47dc16,_0xb7cacd,0x9),_0x3d39f6=_0xce29fc,_0x3d39f6-=0x14;const _0x39130e=_0x3d39f6,_0x2e38ce=['CANTIDAD','U.\x20MEDIDA',_0x2ec10f(0x7c4),_0x2ec10f(0x3ed),_0x2ec10f(0x3bb),'TOTAL'];_0x3d39f6=_0x47a498(_0x2e38ce,[],_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xe,!![]);if(_0x142650==0x1){const _0xf7e895=['1','UND','',_0x2ec10f(0x1fe),parseFloat(_0x28118c)['toFixed'](0x2),parseFloat(_0x28118c)[_0x2ec10f(0x718)](0x2)];_0x3d39f6=_0x47a498([],_0xf7e895,_0x3d39f6,_0x436aac,0x8,_0x3534ac,_0x106cf8,0xc,![]),_0x3d39f6-=0x5;}else setProductos[_0x2ec10f(0x1fa)](_0x5b662d=>{const _0x3eeb79=_0x2ec10f;let {setCodProducto:setCodProducto='',setDescripcion:_0x10cf65,setCantidad:_0x257fec,setMtoPrecioUnitario:_0x1f4f52,setTotal:_0x2c6eef,setDescuento:_0x522b69,setMtoPrecioUnitario_final:_0x9cc334,setUnidad:_0x2388b8,setTipAfeIgv:_0x452b71,setNotas:_0x46ba7d,setItemDescription:_0x1d574e,setMarca:_0x550724}=_0x5b662d;_0x522b69&&_0x522b69[_0x3eeb79(0x666)]>0x0&&(_0x10cf65+='\x20('+_0x522b69[_0x3eeb79(0x666)]+_0x3eeb79(0x255)+_0x1611da+parseFloat(_0x9cc334)[_0x3eeb79(0x718)](0x2)+')');(setTipAfeImpGravadosGrat['some'](_0xf5906d=>_0xf5906d==_0x452b71)||setTipAfeImpInafectosGrat[_0x3eeb79(0x3f2)](_0x3ca3cf=>_0x3ca3cf==_0x452b71)||setTipAfeImpExoneradosGrat[_0x3eeb79(0x3f2)](_0x5dc0bd=>_0x5dc0bd==_0x452b71))&&(_0x1f4f52=_0x9cc334,setTipAfeImpGravadosGrat['some'](_0x44db2e=>_0x44db2e==_0x452b71)&&(_0x10cf65+=_0x3eeb79(0x53c)),setTipAfeImpExoneradosGrat['some'](_0x40cebe=>_0x40cebe==_0x452b71)&&(_0x10cf65+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x3eeb79(0x3f2)](_0x312973=>_0x312973==_0x452b71)&&(_0x10cf65+='\x20(Inafecto\x20Gratuito)'));_0x46ba7d&&(_0x10cf65+=_0x3eeb79(0x5fe)+_0x46ba7d);_0x22ca60==0x1&&_0x1d574e!=''&&(_0x10cf65+=_0x3eeb79(0x6e9)+_0x1d574e);_0x4b2641==0x1&&_0x550724!=''&&(_0x10cf65+=_0x3eeb79(0x6d6)+_0x550724);let _0x790483=products[_0x3eeb79(0x2b5)](_0x1c7046=>_0x1c7046['id']==_0x5b662d[_0x3eeb79(0x3f6)]);_0x1b0a41==0x1&&_0x790483&&_0x790483[_0x3eeb79(0x52e)]&&(_0x10cf65+=_0x3eeb79(0x5a3)+_0x790483[_0x3eeb79(0x52e)]);_0xfe6614==0x1&&_0x790483&&_0x790483[_0x3eeb79(0x39e)]&&(_0x10cf65+='\x20|\x20F.V.\x20'+_0x790483['setBatchExpirationDate']);const _0x2f5fcf=[String(_0x257fec||'1'),String(_0x2388b8+'.'||''),String(setCodProducto),_0x10cf65,parseFloat(_0x1f4f52)['toFixed'](0x2),parseFloat(_0x2c6eef)[_0x3eeb79(0x718)](0x2)];_0x3d39f6=_0x47a498([],_0x2f5fcf,_0x3d39f6,_0x436aac,0x8,_0x3534ac,_0x106cf8,0xc,![]),_0x3d39f6-=0x5;});_0x3d39f6-=0xa;if(parseFloat(_0x4156df)>0x0){const _0x5a719b=['','','','',_0x2ec10f(0x318)+_0x1611da+')',''+_0x4156df];_0x3d39f6=_0x47a498([],_0x5a719b,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(parseFloat(_0x1cba9e)>0x0){const _0x9def11=['','','','',_0x2ec10f(0x636)+_0x1611da+')',''+_0x1cba9e];_0x3d39f6=_0x47a498([],_0x9def11,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x5945b8)>0x0){const _0x2fc698=['','','','',_0x2ec10f(0x5af)+_0x1611da+')',''+_0x5945b8];_0x3d39f6=_0x47a498([],_0x2fc698,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],'totals'),_0x3d39f6-=0x2;}if(parseFloat(_0x32b74a)>0x0){const _0x4d2c9e=['','','','',_0x2ec10f(0x65f)+_0x1611da+')',''+_0x32b74a];_0x3d39f6=_0x47a498([],_0x4d2c9e,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(parseFloat(_0x47ae9f)>0x0){const _0x7aa7c2=['','','','','Op.\x20Inafectas\x20('+_0x1611da+')',''+_0x47ae9f];_0x3d39f6=_0x47a498([],_0x7aa7c2,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(parseFloat(_0x33943a)>0x0){const _0x1c42bd=['','','','',_0x2ec10f(0x663)+_0x1611da+')',''+_0x33943a];_0x3d39f6=_0x47a498([],_0x1c42bd,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(parseFloat(_0x39c58b)>0x0){const _0xdac47a=['','','','',_0x2ec10f(0x63b)+_0x1611da+')',''+_0x39c58b];_0x3d39f6=_0x47a498([],_0xdac47a,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],'totals'),_0x3d39f6-=0x2;}{const _0x1b749a=['','','','',_0x2ec10f(0x2bd)+_0x1611da+')',''+_0x508aac];_0x3d39f6=_0x47a498([],_0x1b749a,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}{const _0x129358=['','','','',_0x2ec10f(0x306)+_0x1611da+')',''+_0x2dfae0];_0x3d39f6=_0x47a498([],_0x129358,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}}{const _0xf4558c=['','','','',_0x2ec10f(0x7bf)+_0x1611da+')',''+_0x28118c];_0x3d39f6=_0x47a498([],_0xf4558c,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(_0xe9ede7==0x1){const _0x1f1682=['','','','',_0x2ec10f(0x2c9)+_0x2a2a51+_0x2ec10f(0x45f)+_0x1611da+')',''+_0x1c45aa];_0x3d39f6=_0x47a498([],_0x1f1682,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],'totals'),_0x3d39f6-=0x2;}if(_0x52253a==0x1){const _0x351e47=['','','','',_0x2ec10f(0x544)+_0x36cf33+'%)\x20('+_0x1611da+')',''+_0x569fb6];_0x3d39f6=_0x47a498([],_0x351e47,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}if(_0x1db302==0x1){const _0x1db6cd=['','','','',_0x2ec10f(0x5ce)+_0x7ed123+_0x2ec10f(0x45f)+_0x1611da+')',''+_0x4ef921];_0x3d39f6=_0x47a498([],_0x1db6cd,_0x3d39f6,_0x18c6ec,0x8,_0x3534ac,_0x106cf8,0xc,![],_0x2ec10f(0x6e7)),_0x3d39f6-=0x2;}const _0x3a8a33=_0x3d39f6,_0x1619d5=_0x3534ac-_0x106cf8*0x2,_0x302edf=_0x39130e-_0x3a8a33+0x3;_0x51522d[_0x2ec10f(0x491)]({'start':{'x':_0x106cf8,'y':_0x3a8a33-0x3},'end':{'x':_0x106cf8,'y':_0x3a8a33-0x3+_0x302edf},'thickness':0x1,'color':_0x501e26}),_0x51522d['drawLine']({'start':{'x':_0x106cf8,'y':_0x3a8a33-0x3},'end':{'x':_0x106cf8+_0x1619d5,'y':_0x3a8a33-0x3},'thickness':0x1,'color':_0x501e26}),_0x51522d[_0x2ec10f(0x491)]({'start':{'x':_0x106cf8+_0x1619d5,'y':_0x3a8a33-0x3},'end':{'x':_0x106cf8+_0x1619d5,'y':_0x3a8a33-0x3+_0x302edf},'thickness':0x1,'color':_0x501e26}),_0x3d39f6=_0x3a8a33-0x3-0xa;const _0xae27f3=_0x106cf8+_0x1619d5*0.85;_0x51522d[_0x2ec10f(0x491)]({'start':{'x':_0xae27f3,'y':_0x39130e},'end':{'x':_0xae27f3,'y':_0x3a8a33-0x3},'thickness':0x1,'color':_0x501e26});const _0x140b18=_0x3534ac-_0x106cf8*0x2,_0x5120a0=0x5,_0x3707b8=_0x140b18-_0x5120a0,_0x416d66=_0x3707b8*0.8,_0x17d00c=_0x3707b8*0.2,_0x4782f2=_0x106cf8,_0x5da987=_0x4782f2+_0x416d66+_0x5120a0,_0x4ade97=_0x3d39f6,_0x411c0a=0xe,_0x1dc5a1=0x5,_0x3ba99b=myCompany['setBankAccounts'],_0x3d4903=Math['ceil'](_0x3ba99b[_0x2ec10f(0x4e9)]/0x2),_0x5b1a56=0xe,_0x268970=_0x3d4903*_0x5b1a56,_0x1a92d7=_0x411c0a+_0x268970;_0x51522d[_0x2ec10f(0x388)]({'x':_0x4782f2,'y':_0x4ade97-_0x411c0a,'width':_0x416d66,'height':_0x411c0a,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1});const _0x53d566=_0x2ec10f(0x341),_0x25d297=(_0x411c0a-0x8)/0x2;_0x51522d[_0x2ec10f(0x4e1)](_0x53d566,{'x':_0x4782f2+_0x1dc5a1,'y':_0x4ade97-_0x411c0a+_0x25d297,'size':0x8,'font':_0x18c6ec,'color':_0x4326b9});const _0xb28178=(_0x33d780,_0x4ffe94=0x10)=>{const _0x57f9bb=_0x2ec10f;return _0x33d780[_0x57f9bb(0x4e9)]>_0x4ffe94?_0x33d780[_0x57f9bb(0x492)](0x0,_0x4ffe94)+_0x57f9bb(0x3fb):_0x33d780;},_0x284456=_0x416d66/0x4;for(let _0x86a476=0x0;_0x86a476<_0x3d4903;_0x86a476++){const _0x4f0c0e=_0x3ba99b[0x2*_0x86a476],_0x1ae57f=_0x3ba99b[0x2*_0x86a476+0x1],_0x51a40b=_0x4ade97-_0x411c0a-_0x86a476*_0x5b1a56,_0x62b575=(_0x5b1a56-0x8)/0x2;if(_0x4f0c0e){const _0x5304d3=_0xb28178(_0x4f0c0e[_0x2ec10f(0x782)][_0x2ec10f(0x603)]())+(_0x4f0c0e[_0x2ec10f(0x2e3)]==_0x2ec10f(0x70f)?'\x20(Soles)':'\x20('+_0x4f0c0e[_0x2ec10f(0x2e3)]+')'),_0x304ce7='N\x20'+_0x4f0c0e['setBankNumber'];_0x2e0509(_0x5304d3,_0x4782f2+_0x1dc5a1,_0x51a40b-_0x5b1a56+_0x62b575,_0x284456-_0x1dc5a1,_0x436aac,0x8,_0x5b1a56),_0x2e0509(_0x304ce7,_0x4782f2+_0x284456+0x2,_0x51a40b-_0x5b1a56+_0x62b575,_0x284456-0x2,_0x436aac,0x8,_0x5b1a56);}if(_0x1ae57f){const _0x293c2b=_0xb28178(_0x1ae57f[_0x2ec10f(0x782)]['toUpperCase']())+(_0x1ae57f[_0x2ec10f(0x2e3)]==_0x2ec10f(0x70f)?_0x2ec10f(0x429):'\x20('+_0x1ae57f['setBankCurrency']+')'),_0x330d0b='N\x20'+_0x1ae57f['setBankNumber'];_0x2e0509(_0x293c2b,_0x4782f2+_0x284456*0x2+0x2,_0x51a40b-_0x5b1a56+_0x62b575,_0x284456-0x2,_0x436aac,0x8,_0x5b1a56),_0x2e0509(_0x330d0b,_0x4782f2+_0x284456*0x3+0x2,_0x51a40b-_0x5b1a56+_0x62b575,_0x284456-0x2,_0x436aac,0x7,_0x5b1a56);}}const _0x4d5547=[setEmpresaRuc,setSerie,setCorrelativo,_0x5945b8>0x0?_0x5945b8:null,_0x32b74a>0x0?_0x32b74a:null,_0x47ae9f>0x0?_0x47ae9f:null,_0x33943a>0x0?_0x33943a:null,_0x2dfae0>0x0?_0x2dfae0:null,_0x28118c>0x0?_0x28118c:null,setClienteNumDoc],_0x341064=_0x4d5547['filter'](_0x5b6695=>_0x5b6695!==null)[_0x2ec10f(0x6e6)]('|'),_0x11bd35=document['createElement'](_0x2ec10f(0x6d4));new QRCode(_0x11bd35,{'text':_0x341064,'width':0x80,'height':0x80,'colorDark':_0x2ec10f(0x213),'colorLight':_0x2ec10f(0x3e0),'correctLevel':QRCode[_0x2ec10f(0x284)]['H']}),await new Promise(_0x5341cd=>setTimeout(_0x5341cd,0x1f4));const _0x3bb67c=_0x11bd35['querySelector'](_0x2ec10f(0x383)),_0x11a14a=_0x3bb67c[_0x2ec10f(0x25c)](_0x2ec10f(0x2ad)),_0x355c3a=atob(_0x11a14a[_0x2ec10f(0x458)](',')[0x1]),_0x46eb4a=Uint8Array[_0x2ec10f(0x6a2)](_0x355c3a,_0x3c7a5b=>_0x3c7a5b[_0x2ec10f(0x6f1)](0x0)),_0x53ab8a=await _0x5adbc9[_0x2ec10f(0x4e5)](_0x46eb4a),_0xa617d1=_0x53ab8a['scale'](0.8),_0x5bc400=_0x5da987+_0x17d00c-_0xa617d1[_0x2ec10f(0x389)],_0x40460a=_0x4ade97-_0xa617d1[_0x2ec10f(0x41f)];_0x51522d[_0x2ec10f(0x6dc)](_0x53ab8a,{'x':_0x5bc400,'y':_0x40460a,'width':_0xa617d1[_0x2ec10f(0x389)],'height':_0xa617d1['height']});const _0x2beb10=Math['max'](_0x1a92d7,_0xa617d1['height']);_0x51522d[_0x2ec10f(0x388)]({'x':_0x4782f2,'y':_0x4ade97-_0x2beb10,'width':_0x416d66,'height':_0x2beb10,'borderColor':_0x366b77,'borderWidth':0x1}),_0x3d39f6=Math[_0x2ec10f(0x4a4)](_0x4ade97-_0x2beb10,_0x40460a)-0x5;const _0x32aff0=_0x3534ac-_0x106cf8*0x2,_0x17c285=0x5,_0x44a73e=_0x32aff0-_0x17c285,_0x5073a0=_0x44a73e*0.8,_0x59edcc=_0x44a73e*0.2,_0x57a458=_0x106cf8,_0x3b73f2=_0x57a458+_0x5073a0+_0x17c285,_0x29cec2=_0x3d39f6,_0x5af27f=0x8,_0x3325c9=0x5,_0x46d9eb=0xe,_0x21b30f=_0x5073a0/0x2;let _0x5c78f1='',_0x186062='',_0x446074=[],_0x1e2d9b=[];if(_0x3ef146['status']==!![]){_0x5c78f1=_0x2ec10f(0x23a),_0x186062=_0x2ec10f(0x260);for(let _0x308e10 in _0x5f5db9[_0x2ec10f(0x548)]){if(_0x308e10==_0x2ec10f(0x60f)||_0x308e10==_0x2ec10f(0x47f))continue;const _0x4186c2=_0x5f5db9[_0x2ec10f(0x548)][_0x308e10];if(_0x4186c2&&typeof _0x4186c2==_0x2ec10f(0x5a7)&&'monto'in _0x4186c2){const _0x5c0486=parseFloat(_0x4186c2[_0x2ec10f(0x7a5)]);if(_0x5c0486>0x0){_0x446074['push']({'desc':_0x308e10['toUpperCase'](),'value':_0x1611da+'\x20'+_0x5c0486[_0x2ec10f(0x718)](0x2)});if(_0x2ec10f(0x33d)in _0x4186c2&&_0x2ec10f(0x652)in _0x4186c2){const _0xa51e27=_0x4186c2['porcentaje_comision'],_0x4c9cf8=parseFloat(_0x4186c2[_0x2ec10f(0x652)]);_0xa51e27!==undefined&&_0x4c9cf8!==undefined&&_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x7c6)+_0xa51e27+'%)','value':_0x1611da+'\x20'+_0x4c9cf8[_0x2ec10f(0x718)](0x2)});}if(_0x4186c2['banco']&&_0x4186c2[_0x2ec10f(0x440)]!='0'){const _0x3e162d=myCompany[_0x2ec10f(0x641)][_0x2ec10f(0x2b5)](_0x1bad73=>_0x1bad73[_0x2ec10f(0x6ca)]==_0x4186c2[_0x2ec10f(0x440)]);_0x3e162d&&_0x446074[_0x2ec10f(0x7a6)]({'desc':'Banco:','value':_0x3e162d['setBankName']});}_0x4186c2['nro_operacion']&&_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x31d),'value':_0x4186c2['nro_operacion']});}}}parseFloat(_0x5f5db9[_0x2ec10f(0x548)][_0x2ec10f(0x60f)])>0x0&&_0x446074['push']({'desc':_0x2ec10f(0x4dc),'value':_0x1611da+'\x20'+parseFloat(_0x5f5db9[_0x2ec10f(0x548)][_0x2ec10f(0x60f)])[_0x2ec10f(0x718)](0x2)});let _0x455a29=_0x33204f['status']==!![]?parseFloat(_0x28118c):parseFloat(_0x5f5db9[_0x2ec10f(0x548)]['debe']);_0x1e2d9b['push']({'desc':'Total\x20Pendiente','value':_0x1611da+'\x20'+_0x455a29['toFixed'](0x2)}),_0x1e2d9b[_0x2ec10f(0x7a6)]({'desc':'Nº\x20de\x20cuotas','value':_0x33204f[_0x2ec10f(0x548)]['length']+_0x2ec10f(0x5e9)}),_0x1e2d9b[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x5f2),'value':''}),_0x33204f['data'][_0x2ec10f(0x1fa)](_0x2f82e7=>{const _0x15c302=_0x2ec10f;_0x1e2d9b[_0x15c302(0x7a6)]({'desc':_0x15c302(0x338)+_0x2f82e7[_0x15c302(0x35c)],'value':_0x2f82e7[_0x15c302(0x1ef)]+_0x15c302(0x5a3)+parseFloat(_0x2f82e7[_0x15c302(0x1e9)])[_0x15c302(0x718)](0x2)});});}else{if(_0x5f5db9[_0x2ec10f(0x7c7)]==!![]){_0x5c78f1=_0x2ec10f(0x23a),_0x186062='';for(let _0x3913c6 in _0x5f5db9[_0x2ec10f(0x548)]){if(_0x3913c6==_0x2ec10f(0x60f)||_0x3913c6==_0x2ec10f(0x47f))continue;const _0x480d3f=_0x5f5db9[_0x2ec10f(0x548)][_0x3913c6];if(_0x480d3f&&typeof _0x480d3f==_0x2ec10f(0x5a7)&&_0x2ec10f(0x1e9)in _0x480d3f){const _0x223346=parseFloat(_0x480d3f[_0x2ec10f(0x7a5)]);if(_0x223346>0x0){_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x3913c6['toUpperCase'](),'value':_0x1611da+'\x20'+_0x223346[_0x2ec10f(0x718)](0x2)});if(_0x2ec10f(0x33d)in _0x480d3f&&'total_comision'in _0x480d3f){const _0x3bfef1=_0x480d3f[_0x2ec10f(0x33d)],_0x46ad3f=parseFloat(_0x480d3f['total_comision']);_0x3bfef1!==undefined&&_0x46ad3f!==undefined&&_0x446074[_0x2ec10f(0x7a6)]({'desc':'Comisión\x20('+_0x3bfef1+'%)','value':_0x1611da+'\x20'+_0x46ad3f[_0x2ec10f(0x718)](0x2)});}if(_0x480d3f[_0x2ec10f(0x440)]&&_0x480d3f[_0x2ec10f(0x440)]!='0'){const _0x301cb3=myCompany[_0x2ec10f(0x641)][_0x2ec10f(0x2b5)](_0x2f0c53=>_0x2f0c53['setBankId']==_0x480d3f[_0x2ec10f(0x440)]);_0x301cb3&&_0x446074['push']({'desc':_0x2ec10f(0x28b),'value':_0x301cb3['setBankName']});}_0x480d3f['nro_operacion']&&_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x31d),'value':_0x480d3f[_0x2ec10f(0x350)]});}}}parseFloat(_0x5f5db9['data'][_0x2ec10f(0x60f)])>0x0&&_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x4dc),'value':_0x1611da+'\x20'+parseFloat(_0x5f5db9['data'][_0x2ec10f(0x60f)])[_0x2ec10f(0x718)](0x2)});}else{if(_0x33204f[_0x2ec10f(0x7c7)]==!![]){_0x5c78f1='FORMA\x20DE\x20PAGO:\x20CRÉDITO',_0x186062='';let _0x3d8acc=_0x33204f['status']==!![]?parseFloat(_0x28118c):parseFloat(_0x5f5db9[_0x2ec10f(0x548)][_0x2ec10f(0x47f)]);_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x722),'value':_0x1611da+'\x20'+_0x3d8acc[_0x2ec10f(0x718)](0x2)}),_0x446074['push']({'desc':'Nº\x20de\x20cuotas','value':_0x33204f['data'][_0x2ec10f(0x4e9)]+_0x2ec10f(0x5e9)}),_0x446074[_0x2ec10f(0x7a6)]({'desc':_0x2ec10f(0x5f2),'value':''}),_0x33204f[_0x2ec10f(0x548)]['forEach'](_0x2c489e=>{const _0x3d43d1=_0x2ec10f;_0x446074[_0x3d43d1(0x7a6)]({'desc':_0x3d43d1(0x338)+_0x2c489e[_0x3d43d1(0x35c)],'value':_0x2c489e[_0x3d43d1(0x1ef)]+_0x3d43d1(0x5a3)+parseFloat(_0x2c489e['monto'])[_0x3d43d1(0x718)](0x2)});});}}}const _0x46437e=Math['max'](_0x446074[_0x2ec10f(0x4e9)],_0x1e2d9b[_0x2ec10f(0x4e9)]),_0x263cf9=_0x29cec2-_0x105526-0xe;_0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0x29cec2-_0x105526,'width':_0x5073a0,'height':_0x105526,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1}),_0x51522d[_0x2ec10f(0x4e1)](_0x5c78f1,{'x':_0x57a458+_0x3325c9,'y':_0x29cec2-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x4326b9});_0x186062&&_0x51522d[_0x2ec10f(0x4e1)](_0x186062,{'x':_0x57a458+_0x21b30f+_0x3325c9,'y':_0x29cec2-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x4326b9});const _0x19fd81=_0x21b30f/0x2,_0x13addb=_0x21b30f/0x2;for(let _0x36ed95=0x0;_0x36ed95<_0x46437e;_0x36ed95++){const _0x4b85b4=_0x263cf9-_0x36ed95*_0x46d9eb+(_0x46d9eb-_0x5af27f)/0x2,_0xa505a9=_0x446074[_0x36ed95]||{'desc':'','value':''};_0x51522d[_0x2ec10f(0x4e1)](_0xa505a9[_0x2ec10f(0x584)],{'x':_0x57a458+_0x3325c9,'y':_0x4b85b4,'size':_0x5af27f,'font':_0x436aac}),_0x51522d[_0x2ec10f(0x4e1)](_0xa505a9['value'],{'x':_0x57a458+_0x19fd81+_0x3325c9,'y':_0x4b85b4,'size':_0x5af27f,'font':_0x436aac});if(_0x186062){const _0x1e8ddb=_0x1e2d9b[_0x36ed95]||{'desc':'','value':''};_0x51522d[_0x2ec10f(0x4e1)](_0x1e8ddb['desc'],{'x':_0x57a458+_0x21b30f+_0x3325c9,'y':_0x4b85b4,'size':_0x5af27f,'font':_0x436aac}),_0x51522d[_0x2ec10f(0x4e1)](_0x1e8ddb['value'],{'x':_0x57a458+_0x21b30f+_0x13addb+_0x3325c9,'y':_0x4b85b4,'size':_0x5af27f,'font':_0x436aac});}}const _0x1ecf3e=_0x105526+_0x46437e*_0x46d9eb+0x4;if(_0xe9ede7==0x1){const _0x54f642=0xe,_0x4ffcb2=_0x3b73f2,_0x5ce5eb=_0x59edcc,_0x157ce5=0xe,_0x527dc2=_0x3325c9;_0x51522d['drawRectangle']({'x':_0x4ffcb2,'y':_0x29cec2-_0x157ce5,'width':_0x5ce5eb,'height':_0x157ce5,'color':_0x366b77,'borderColor':_0x366b77,'borderWidth':0x1}),_0x51522d[_0x2ec10f(0x4e1)](_0x2ec10f(0x721)+_0x2a2a51+'%)',{'x':_0x4ffcb2+_0x527dc2,'y':_0x29cec2-_0x157ce5+(_0x157ce5-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x4326b9});const _0x7a8cac=_0x5ce5eb-_0x527dc2*0x2;let _0x189924=_0x29cec2-_0x157ce5-0xe;const _0x45cdae=[_0x2ec10f(0x521)+_0x1611da+'\x20'+_0x1c45aa,_0x2ec10f(0x23e)+_0x45c579+'\x20'+_0x401e0a,'Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción'];let _0x56433c=_0x189924;for(let _0x35eb81=0x0;_0x35eb81<_0x45cdae[_0x2ec10f(0x4e9)];_0x35eb81++){_0x56433c=_0x2e0509(_0x45cdae[_0x35eb81],_0x4ffcb2+_0x527dc2,_0x189924,_0x7a8cac,_0x436aac,_0x5af27f,_0x54f642),_0x189924=_0x56433c-0x2;}const _0x53f3d2=_0x29cec2-_0x157ce5-0x4-_0x56433c,_0x35abc3=_0x157ce5+0x4+_0x53f3d2;_0x51522d[_0x2ec10f(0x388)]({'x':_0x4ffcb2,'y':_0x29cec2-_0x35abc3,'width':_0x5ce5eb,'height':_0x35abc3,'borderColor':_0x366b77,'borderWidth':0x1});const _0x588fab=Math[_0x2ec10f(0x4a0)](_0x1ecf3e,_0x35abc3);_0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0x29cec2-_0x588fab,'width':_0x5073a0,'height':_0x588fab,'borderColor':_0x366b77,'borderWidth':0x1}),_0x3d39f6=_0x29cec2-_0x588fab-0x5;}else _0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0x29cec2-_0x1ecf3e,'width':_0x5073a0,'height':_0x1ecf3e,'borderColor':_0x366b77,'borderWidth':0x1}),_0x3d39f6=_0x29cec2-_0x1ecf3e-0x5;const _0x2485db=_0x5073a0+_0x59edcc,_0x3b7e59=_0x2485db*0.4,_0x3ca96d=_0x2485db*0.6;if(setObservacion!=''||_0x33da7e!=''){let _0x139837=_0x3d39f6;_0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0x139837-_0x105526,'width':_0x2485db,'height':_0x105526,'color':_0x4c687f,'borderColor':_0x4c687f,'borderWidth':0x1}),_0x51522d[_0x2ec10f(0x4e1)](_0x2ec10f(0x6f2),{'x':_0x57a458+_0x3325c9,'y':_0x139837-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x5be938}),_0x51522d[_0x2ec10f(0x4e1)](_0xaa0e0c,{'x':_0x57a458+_0x3b7e59+_0x3325c9,'y':_0x139837-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x5be938});const _0x1f6569=_0x139837-_0x105526-_0x1e8d24,_0x3b7859=_0x1f6569-_0x5af27f;let _0x21d4be=_0x2e0509(setObservacion,_0x57a458+_0x3325c9,_0x3b7859,_0x3b7e59-_0x3325c9*0x2,_0x436aac,_0x5af27f,_0x308504),_0x108e9c=_0x1f6569-_0x21d4be,_0x23d00f=_0x1f6569;for(let _0x36c254=0x0;_0x36c254<_0x7ecde7[_0x2ec10f(0x4e9)];_0x36c254++){_0x51522d[_0x2ec10f(0x4e1)](_0x7ecde7[_0x36c254],{'x':_0x57a458+_0x3b7e59+_0x3325c9,'y':_0x23d00f-(_0x308504-_0x5af27f),'size':_0x5af27f,'font':_0x436aac}),_0x23d00f-=_0x308504;}let _0x4f0ab6=_0x1f6569-_0x23d00f,_0x2cc7a1=Math[_0x2ec10f(0x4a0)](_0x108e9c,_0x4f0ab6),_0x1d4181=_0x105526+_0x1e8d24+_0x2cc7a1;_0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0x139837-_0x1d4181,'width':_0x2485db,'height':_0x1d4181,'borderColor':_0x4c687f,'borderWidth':0x1}),_0x3d39f6=_0x139837-_0x1d4181-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0xe4b9fd=_0x3d39f6;_0x51522d['drawRectangle']({'x':_0x57a458,'y':_0xe4b9fd-_0x105526,'width':_0x2485db,'height':_0x105526,'color':_0x4c687f,'borderColor':_0x4c687f,'borderWidth':0x1}),_0x51522d['drawText']('DATOS:',{'x':_0x57a458+_0x3325c9,'y':_0xe4b9fd-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x5be938}),_0x51522d[_0x2ec10f(0x4e1)]('REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:',{'x':_0x57a458+_0x3b7e59+_0x3325c9,'y':_0xe4b9fd-_0x105526+(_0x105526-_0x5af27f)/0x2,'size':_0x5af27f,'font':_0x18c6ec,'color':_0x5be938});const _0x3c6bf7=setUrlConsultasCpe,_0x2d737c='AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x22e81a=_0x3c6bf7['split']('\x0a'),_0x4045cc=_0x2d737c[_0x2ec10f(0x458)]('\x0a'),_0x2aedf9=_0x22e81a['length']*_0x308504,_0x147b6d=_0x4045cc[_0x2ec10f(0x4e9)]*_0x308504,_0x49b510=Math[_0x2ec10f(0x4a0)](_0x2aedf9,_0x147b6d);let _0x3f093f=_0x105526+_0x1e8d24+_0x49b510;_0x51522d[_0x2ec10f(0x388)]({'x':_0x57a458,'y':_0xe4b9fd-_0x3f093f,'width':_0x2485db,'height':_0x3f093f,'borderColor':_0x4c687f,'borderWidth':0x1});let _0x2315b1=_0xe4b9fd-_0x3f093f,_0x2a7801=_0x2315b1+_0x2aedf9,_0xcc8d99=_0x2315b1+_0x147b6d;for(let _0x2a5407=0x0;_0x2a5407<_0x22e81a['length'];_0x2a5407++){_0x51522d[_0x2ec10f(0x4e1)](_0x22e81a[_0x2a5407],{'x':_0x57a458+_0x3325c9,'y':_0x2a7801-_0x2a5407*_0x308504-(_0x308504-_0x5af27f),'size':_0x5af27f,'font':_0x436aac});}for(let _0x2e2392=0x0;_0x2e2392<_0x4045cc[_0x2ec10f(0x4e9)];_0x2e2392++){_0x51522d[_0x2ec10f(0x4e1)](_0x4045cc[_0x2e2392],{'x':_0x57a458+_0x3b7e59+_0x3325c9,'y':_0xcc8d99-_0x2e2392*_0x308504-(_0x308504-_0x5af27f),'size':_0x5af27f,'font':_0x436aac});}_0x3d39f6=_0xe4b9fd-_0x3f093f-0xa;}else _0x3d39f6-=0xa;}}return _0x3d39f6;}function imprimirPdf(){const _0x456a04=_0x10508b,_0x360514=document['getElementById'](_0x456a04(0x459))[_0x456a04(0x4be)],{pdfGlobalPayload:_0x252389,pdfGlobalBlob:_0x247c30,pdfGlobalName:_0x20c7fa}=getLastOperationGlobalData(_0x360514);if(!_0x247c30){ntfShow(_0x456a04(0x3b7));return;}const _0x355e99=URL[_0x456a04(0x542)](_0x247c30),_0x8de6b5=window['open'](_0x355e99,_0x456a04(0x598));_0x8de6b5[_0x456a04(0x1f7)]=()=>{const _0xc464ac=_0x456a04;_0x8de6b5[_0xc464ac(0x3ef)](),_0x8de6b5[_0xc464ac(0x743)](),URL[_0xc464ac(0x5ad)](_0x355e99);};}function descargarPdf(){const _0x7ae873=_0x10508b,_0x5bdce8=document[_0x7ae873(0x32b)](_0x7ae873(0x459))[_0x7ae873(0x4be)],{pdfGlobalPayload:_0x2f485e,pdfGlobalBlob:_0x1c4c49,pdfGlobalName:_0x48d291}=getLastOperationGlobalData(_0x5bdce8);if(!_0x1c4c49){ntfShow(_0x7ae873(0x3b7));return;}const _0xc74bc4=URL[_0x7ae873(0x542)](_0x1c4c49),_0x164cf7=document[_0x7ae873(0x2bb)]('a');_0x164cf7[_0x7ae873(0x774)]=_0xc74bc4,_0x164cf7[_0x7ae873(0x228)]=_0x7ae873(0x531),_0x164cf7[_0x7ae873(0x3a7)](),URL['revokeObjectURL'](_0xc74bc4);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0x1b8d7b,_0x9c8001=0x0){const _0xfa25e=_0x10508b;document[_0xfa25e(0x333)](_0xfa25e(0x5a9))['forEach'](_0x566949=>_0x566949['classList']['remove']('active'));const _0x1da9ea=document[_0xfa25e(0x333)]('.'+_0x1b8d7b);_0x1da9ea[_0xfa25e(0x1fa)](_0x4e1228=>_0x4e1228['classList']['add']('active'));const _0x9be86f=_0x1b8d7b[_0xfa25e(0x458)]('-')[0x1];document['getElementById'](_0xfa25e(0x459))[_0xfa25e(0x4be)]=_0x9be86f;const _0x2dd298=document[_0xfa25e(0x32b)](_0xfa25e(0x535));_0x2dd298[_0xfa25e(0x4be)]='tab-'+_0x9be86f,await new Promise(_0x3c9d6d=>setTimeout(_0x3c9d6d,0x12c)),renderProducts();const _0x47fdee=getValidatedWindowAndShift(_0x9be86f),{currentWindowShift:_0x5815eb}=_0x47fdee;if(_0x5815eb){const _0x12c837=document[_0xfa25e(0x32b)](_0xfa25e(0x336)+_0x9be86f);if(_0x12c837){const _0x5a2ad9=_0x12c837['value'];if(!setTipOpeOrders[_0xfa25e(0x3f2)](_0x5ed310=>_0x5ed310==_0x5a2ad9)){let _0x341cd7=null;for(const _0x1221be of setTipOpeOrders){const _0x25368e=Array['from'](_0x12c837[_0xfa25e(0x3c2)])[_0xfa25e(0x3f2)](_0x2932e5=>_0x2932e5[_0xfa25e(0x4be)]==_0x1221be);if(_0x25368e){_0x341cd7=_0x1221be;break;}}_0x341cd7!==null&&(_0x12c837[_0xfa25e(0x4be)]=_0x341cd7);}}}parseInt(window_options[_0x9be86f][_0xfa25e(0x2ef)])!=0x1&&(window_options[_0x9be86f][_0xfa25e(0x72f)]=obtener_fechaHora());const _0x114cc3=document['getElementById'](_0xfa25e(0x336)+_0x9be86f)['value'];await updateSerieOptions(_0x114cc3,_0x9be86f),_0x9c8001==0x1&&await setOrders(_0x9be86f);}async function setOrders(_0xfd439){const _0x180434=_0x10508b,_0x170e3c=getValidatedWindowAndShift(_0xfd439);if(!_0x170e3c)return;const {windowObj:_0xc28ea2,currentWindowShift:_0x577214}=_0x170e3c;if(_0x577214){const _0x3f8529=_0x577214[_0x180434(0x34b)],_0x482676=_0x577214[_0x180434(0x616)]||[];console[_0x180434(0x4bd)](_0x180434(0x4c7),_0x482676);const _0xeb8fa7=_0x482676[_0x180434(0x3f2)](_0x52cfde=>_0x52cfde[_0x180434(0x75e)]==_0x3f8529&&setTipOpeSales[_0x180434(0x3f2)](_0x23df95=>_0x23df95==_0x52cfde[_0x180434(0x3b3)]));if(!_0xeb8fa7){await removeAllFromCart(_0xfd439,0x1);const _0x173edf=_0x482676[_0x180434(0x46d)](_0x2d7e0f=>{const _0x4abf1e=_0x180434;return _0x2d7e0f[_0x4abf1e(0x75e)]==_0x3f8529&&setTipOpeOrders['some'](_0x52e8ea=>_0x52e8ea==_0x2d7e0f[_0x4abf1e(0x3b3)]);});for(const _0x4c1c63 of _0x173edf){let _0x4bd066=_0x4c1c63[_0x180434(0x2ce)];if(Array[_0x180434(0x643)](_0x4c1c63[_0x180434(0x1ec)]))for(const _0x54390c of _0x4c1c63[_0x180434(0x1ec)]){if(carts[_0xfd439]&&carts[_0xfd439][_0x180434(0x3f2)](_0x3d9d38=>_0x3d9d38['cartId']==_0x54390c[_0x180434(0x480)]))continue;const _0x50adcc=products[_0x180434(0x2b5)](_0x4084d1=>_0x4084d1['id']==_0x54390c[_0x180434(0x3f6)]);_0x50adcc&&(await new Promise(_0x5b7d0b=>setTimeout(_0x5b7d0b,0x64)),addToCart(_0x50adcc,{'setValorCantidad':_0x54390c[_0x180434(0x633)],'setMtoPrecioUnitario_final':_0x54390c[_0x180434(0x430)],'setTaxId':_0x54390c[_0x180434(0x42b)],'setTipAfeIgv':_0x54390c[_0x180434(0x259)],'setPorcentajeDesc':_0x54390c[_0x180434(0x666)],'setNotas':_0x54390c['setNotas'],'cartId':_0x54390c[_0x180434(0x480)],'setWindowShiftId':_0x3f8529,'setOrderId':_0x4bd066,'setMtoPrecioUnitario_input':_0x54390c[_0x180434(0x694)],'setMtoPrecioCostoUnitario_input':_0x54390c['setMtoPrecioCostoUnitario_input']},0x1,_0xfd439));}}}}else{if(_0xc28ea2[_0x180434(0x62b)]==_0x180434(0x679)){}}}function showModalWindowShift(){const _0x7c5886=_0x10508b,_0x1c9a6f=document[_0x7c5886(0x32b)](_0x7c5886(0x2b0)),_0x4dd174=document['getElementById']('modalOverlayWindowShift');_0x1c9a6f['classList']['add'](_0x7c5886(0x608)),_0x4dd174[_0x7c5886(0x656)][_0x7c5886(0x662)]=_0x7c5886(0x4de);}function hideModalWindowShift(){const _0x383af2=_0x10508b,_0x414645=document[_0x383af2(0x32b)](_0x383af2(0x2b0)),_0x54af51=document[_0x383af2(0x32b)](_0x383af2(0x6bb));_0x414645[_0x383af2(0x63f)][_0x383af2(0x625)](_0x383af2(0x608)),_0x54af51[_0x383af2(0x656)][_0x383af2(0x662)]=_0x383af2(0x585);}document[_0x10508b(0x32b)](_0x10508b(0x431))[_0x10508b(0x26b)](_0x10508b(0x3a7),hideModalWindowShift),document['getElementById'](_0x10508b(0x6bb))[_0x10508b(0x26b)](_0x10508b(0x3a7),_0x4e818a=>{const _0x42e617=_0x10508b;_0x4e818a[_0x42e617(0x657)]==_0x4e818a[_0x42e617(0x4c9)]&&_0x4e818a[_0x42e617(0x417)]();});function getValidatedWindowAndShift(_0x15f1bc){const _0x358229=_0x10508b,_0x2f3488=myCompany[_0x358229(0x6e1)]['find'](_0x560cd=>_0x560cd[_0x358229(0x708)]==_0x15f1bc);if(!_0x2f3488)return null;!_0x2f3488[_0x358229(0x784)]&&(_0x2f3488[_0x358229(0x784)]=[]);const _0xc90b7d=_0x2f3488[_0x358229(0x784)][_0x358229(0x2b5)](_0x14c8c4=>_0x14c8c4[_0x358229(0x299)]=='1');return{'windowObj':_0x2f3488,'currentWindowShift':_0xc90b7d};}async function updateWindowShiftDisplay(_0x4c09c9){const _0x553fef=_0x10508b,_0x5aeb99=document[_0x553fef(0x32b)](_0x553fef(0x232));_0x5aeb99['innerHTML']='';const _0x504ef3=getValidatedWindowAndShift(_0x4c09c9);if(!_0x504ef3)return;const {windowObj:_0x3be670,currentWindowShift:_0x570b1e}=_0x504ef3;if(!_0x570b1e){const _0x43c094=_0x3be670;let _0x54abfe,_0x555d4e;if(_0x43c094[_0x553fef(0x762)]==_0x553fef(0x4e4))_0x54abfe=_0x553fef(0x553),_0x555d4e='./img/layout/icon-window.svg';else{if(_0x43c094[_0x553fef(0x762)]==_0x553fef(0x5eb))_0x54abfe=_0x553fef(0x3f0),_0x555d4e=_0x553fef(0x6b5);else{if(_0x43c094['setWindowType']==_0x553fef(0x35a))_0x54abfe=_0x553fef(0x68f),_0x555d4e='./img/layout/icon-room.svg';else _0x43c094[_0x553fef(0x762)]==_0x553fef(0x216)&&(_0x54abfe='Ocupar\x20Sillón',_0x555d4e=_0x553fef(0x418));}}const _0x3faf08=document[_0x553fef(0x2bb)](_0x553fef(0x6d4));_0x3faf08[_0x553fef(0x3fc)]='shift-open-container';const _0x3bab62=document[_0x553fef(0x2bb)](_0x553fef(0x6d4));_0x3bab62[_0x553fef(0x3fc)]=_0x553fef(0x495);const _0x240884=document[_0x553fef(0x2bb)](_0x553fef(0x717));_0x240884['className']=_0x553fef(0x2e6),_0x240884[_0x553fef(0x403)]=_0x555d4e,_0x240884['alt']=_0x54abfe,_0x3bab62[_0x553fef(0x2a1)](_0x240884);const _0x5dd579=document['createElement']('div');_0x5dd579[_0x553fef(0x3fc)]=_0x553fef(0x394);const _0x37775d=document[_0x553fef(0x2bb)]('h2');_0x37775d[_0x553fef(0x3fc)]=_0x553fef(0x770),_0x37775d[_0x553fef(0x511)]=_0x54abfe;const _0x197255=document['createElement'](_0x553fef(0x6d4));_0x197255[_0x553fef(0x3fc)]=_0x553fef(0x3a3);const _0x4f99ba=document[_0x553fef(0x2bb)](_0x553fef(0x7ad));_0x4f99ba[_0x553fef(0x3fc)]=_0x553fef(0x36f),_0x4f99ba['id']='btnWindowShiftStart',_0x4f99ba[_0x553fef(0x511)]=_0x553fef(0x615),_0x4f99ba[_0x553fef(0x26b)](_0x553fef(0x3a7),()=>openWindowShift(_0x4c09c9)),_0x197255[_0x553fef(0x2a1)](_0x4f99ba),_0x5dd579['appendChild'](_0x37775d),_0x5dd579[_0x553fef(0x2a1)](_0x197255),_0x3faf08[_0x553fef(0x2a1)](_0x3bab62),_0x3faf08['appendChild'](_0x5dd579),_0x5aeb99[_0x553fef(0x2a1)](_0x3faf08),showModalWindowShift();}else{}}async function openWindowShift(_0x3bb410){const _0x524f47=_0x10508b,_0x142f7c=document[_0x524f47(0x32b)](_0x524f47(0x53f));if(!_0x142f7c){console[_0x524f47(0x769)](_0x524f47(0x330));return;}const _0xd46d83=getValidatedWindowAndShift(_0x3bb410);if(!_0xd46d83){ntfShow(_0x524f47(0x379));return;}const {windowObj:_0xbbc3c0,currentWindowShift:_0xb50b27}=_0xd46d83;if(_0xb50b27){ntfShow('Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.');return;}_0x142f7c['disabled']=!![],hideModalWindowShift(),showLoadingModal();const _0x762eac=new Date(),_0x3eeed8='0000-00-00\x2000:00:00',_0x4c104a=generateUniqId();_0xbbc3c0[_0x524f47(0x784)]['push']({'setShiftId':_0x4c104a,'setShiftStatus':'1','setShiftDateStart':_0x762eac,'setShiftDateEnd':_0x3eeed8,'setShiftUserEmail':myCompany[_0x524f47(0x630)][_0x524f47(0x6c7)]}),_0xbbc3c0[_0x524f47(0x62b)]=_0x524f47(0x450),_0xbbc3c0[_0x524f47(0x2fe)]=nowWithMillisecondsForServer();const _0x410578=await createCartStore('');await saveCompanyToIndexedDB(company,_0x410578),ntfShow(_0x524f47(0x502)+_0x762eac[_0x524f47(0x5a8)]()),await apiERPsyncWindows();const _0x2acc0c=_0x524f47(0x7b4)+_0x3bb410;await switchTab(_0x2acc0c,0x1),_0x142f7c['disabled']=![],hideLoadingModal();}function getMaxWindowId(_0x45c73a){const _0x18902b=_0x10508b,_0x24a446=Object[_0x18902b(0x211)](_0x45c73a);if(_0x24a446[_0x18902b(0x4e9)]==0x0)return 0x0;return Math[_0x18902b(0x4a0)](..._0x24a446['map'](_0x5c1d03=>parseInt(_0x5c1d03,0xa)));}async function updateTab(_0x55bd0e){return new Promise(async _0x1380a4=>{const _0x58449b=_0xcdf0,_0x4c194a=myCompany[_0x58449b(0x6e1)][_0x58449b(0x2b5)](_0x5ce36a=>_0x5ce36a['setWindowId']==_0x55bd0e);if(!_0x4c194a){console[_0x58449b(0x769)]('No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20'+_0x55bd0e),_0x1380a4();return;}const _0x2dd88f=_0x58449b(0x7b4)+_0x55bd0e,_0x4689ff=document[_0x58449b(0x32b)](_0x58449b(0x535)),_0x17cceb=document[_0x58449b(0x2bb)](_0x58449b(0x512));_0x17cceb[_0x58449b(0x4be)]=_0x2dd88f,_0x17cceb[_0x58449b(0x511)]=_0x4c194a[_0x58449b(0x305)],_0x4689ff['appendChild'](_0x17cceb),await createFormElements(_0x2dd88f),_0x1380a4();});}async function addNewTab(_0x559f24){const _0x35da0f=_0x10508b;if(parseFloat(_0x559f24)===0x0){ntfShow(_0x35da0f(0x5ae));return;}let _0x22152d=_0x559f24;tabCount=parseFloat(_0x559f24),carts[_0x22152d]=[],window_options[_0x22152d]={};try{await createCartStore(_0x22152d),await updateTab(_0x22152d);}catch(_0x4d7f37){console[_0x35da0f(0x769)]('Error\x20al\x20crear\x20Window:',_0x4d7f37);}}document[_0x10508b(0x32b)](_0x10508b(0x5aa))[_0x10508b(0x2de)]=_0xe1b4dc=>{const _0x2e5904=_0x10508b;itemsPerPage=parseInt(_0xe1b4dc[_0x2e5904(0x657)][_0x2e5904(0x4be)],0xa),currentPage=0x1,renderProducts(searchInput[_0x2e5904(0x4be)]);};function procesarProductos(_0x59dfe7){const _0x5d3d5c=_0x10508b,_0x3c408e=parseFloat(_0x59dfe7[_0x5d3d5c(0x222)])||0x0,_0x15705c=_0x59dfe7[_0x5d3d5c(0x577)],_0x128861=parseFloat(_0x59dfe7[_0x5d3d5c(0x64a)])||0x0,_0x341ea1=_0x3c408e/0x64,_0xbba6c3={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x5047cc=[];for(const _0xbc17cb of _0x15705c){if(!_0xbc17cb[_0x5d3d5c(0x337)]||!_0xbc17cb['setTipAfeIgv'])throw new Error(_0x5d3d5c(0x4f5));let {valorUnit:_0x8d5ac0,precioUnit:_0x1de9f0,valorCantidad:_0x416c5b,valorPorcentajeIgv:_0xd359b8,setTipAfeIgv:_0x4688f3,setDescuento:_0x1d408f}=_0xbc17cb;const _0x3de233=_0x1d408f?.[_0x5d3d5c(0x776)]||'',_0x5a0a7b=_0x1d408f?.['setPorcentajeDesc']||0x0;!_0x8d5ac0?_0x8d5ac0=setTipAfeImpGravados[_0x5d3d5c(0x3f2)](_0x51ac5e=>_0x51ac5e==_0x4688f3)?_0x1de9f0/(0x1+_0xd359b8/0x64):_0x1de9f0:_0x1de9f0=setTipAfeImpGravados[_0x5d3d5c(0x3f2)](_0x58ef57=>_0x58ef57==_0x4688f3)?_0x8d5ac0+_0x8d5ac0*(_0xd359b8/0x64):_0x8d5ac0;let _0x338621=0x0,_0x5550fd=0x0,_0x597dd6=0x0,_0x25be77=0x0,_0xaea35e=0x0,_0x4f47c9=0x0,_0x26a3a1=0x0,_0x5a3394=0x0,_0x54d25d=0x0,_0x26c578=0x0,_0x30660d=0x0,_0x12e72e=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x5d3d5c(0x3f2)](_0x5128c1=>_0x5128c1==_0x4688f3):_0x338621=_0x8d5ac0,_0x5550fd=0x0,_0x597dd6=_0x338621*_0x416c5b;_0x5a0a7b>0x0&&(_0x5a3394=_0x5a0a7b/0x64,_0x54d25d=_0x597dd6,_0x26c578=_0x54d25d*_0x5a3394,_0x30660d=(_0x54d25d+_0x54d25d*(_0xd359b8/0x64))*_0x5a3394,_0x597dd6-=_0x26c578,_0xbba6c3[_0x5d3d5c(0x720)]+=_0x26c578,_0xbba6c3['setMtoDescItems_precio']+=_0x30660d);_0x25be77=_0x597dd6,_0x4f47c9=_0x25be77*(_0xd359b8/0x64),_0xaea35e=_0xd359b8,_0x26a3a1=(_0x597dd6+_0x4f47c9)/_0x416c5b,_0xbba6c3[_0x5d3d5c(0x73d)]+=_0x597dd6,_0xbba6c3['setMtoIGV']+=_0x4f47c9;break;case setTipAfeImpExonerados[_0x5d3d5c(0x3f2)](_0x4d9122=>_0x4d9122==_0x4688f3)||setTipAfeImpInafectos[_0x5d3d5c(0x3f2)](_0x1647f2=>_0x1647f2==_0x4688f3):_0x338621=_0x8d5ac0,_0x5550fd=0x0,_0x597dd6=_0x338621*_0x416c5b;_0x5a0a7b>0x0&&(_0x5a3394=_0x5a0a7b/0x64,_0x54d25d=_0x597dd6,_0x26c578=_0x54d25d*_0x5a3394,_0x30660d=_0x26c578,_0x597dd6-=_0x26c578,_0xbba6c3[_0x5d3d5c(0x720)]+=_0x26c578,_0xbba6c3['setMtoDescItems_precio']+=_0x30660d);_0x25be77=_0x597dd6,_0x4f47c9=0x0,_0xaea35e=0x0,_0x26a3a1=(_0x597dd6+_0x4f47c9)/_0x416c5b;setTipAfeImpExonerados['some'](_0x5a8d73=>_0x5a8d73==_0x4688f3)?_0xbba6c3[_0x5d3d5c(0x659)]+=_0x597dd6:_0xbba6c3[_0x5d3d5c(0x567)]+=_0x597dd6;break;case setTipAfeImpGravadosGrat[_0x5d3d5c(0x3f2)](_0x1ae888=>_0x1ae888==_0x4688f3):_0x338621=0x0,_0x5550fd=_0x8d5ac0,_0x597dd6=_0x5550fd*_0x416c5b,_0x25be77=_0x597dd6,_0x4f47c9=_0x25be77*(_0xd359b8/0x64),_0xaea35e=_0xd359b8,_0x26a3a1=0x0,_0xbba6c3[_0x5d3d5c(0x264)]+=_0x597dd6,_0xbba6c3['setMtoIGVGratuitas']+=_0x4f47c9;break;case setTipAfeImpExoneradosGrat['some'](_0x24905e=>_0x24905e==_0x4688f3)||setTipAfeImpInafectosGrat[_0x5d3d5c(0x3f2)](_0x332196=>_0x332196==_0x4688f3):_0x338621=0x0,_0x5550fd=_0x8d5ac0,_0x597dd6=_0x5550fd*_0x416c5b,_0x25be77=_0x597dd6,_0x4f47c9=0x0,_0xaea35e=0x0,_0x26a3a1=0x0,_0xbba6c3['setMtoOperGratuitas']+=_0x597dd6;break;default:console[_0x5d3d5c(0x769)]('TAX\x20Error:\x20'+_0x4688f3);continue;}_0x12e72e=_0x26a3a1*_0x416c5b,_0x5047cc[_0x5d3d5c(0x7a6)]({'setMtoValorUnitario':_0x338621,'setMtoValorGratuito':_0x5550fd,'setMtoValorVenta':_0x597dd6,'setMtoBaseIgv':_0x25be77,'setPorcentajeIgv':_0xaea35e,'setIgv':_0x4f47c9,'setTipAfeIgv':_0x4688f3,'setTotalImpuestos':_0x4f47c9,'setMtoPrecioUnitario':_0x26a3a1,'setDescuento_setCodTipo':_0x3de233,'setDescuento_setMontoBase':_0x54d25d,'setDescuento_setFactor':_0x5a3394,'setDescuento_setMonto':_0x26c578,'setDescuento_setMonto_precio':_0x30660d,'setPorcentajeDesc':_0x5a0a7b,'setTotal':_0x12e72e,'setMtoValorUnitario_final':_0x8d5ac0,'setMtoPrecioUnitario_final':_0x1de9f0});}_0xbba6c3['setTotalImpuestos']=_0xbba6c3[_0x5d3d5c(0x57b)],_0xbba6c3[_0x5d3d5c(0x227)]=_0xbba6c3[_0x5d3d5c(0x73d)]+_0xbba6c3['setMtoOperExoneradas']+_0xbba6c3[_0x5d3d5c(0x567)],_0xbba6c3['setSubTotal']=_0xbba6c3[_0x5d3d5c(0x227)]+_0xbba6c3['setTotalImpuestos'],_0xbba6c3[_0x5d3d5c(0x294)]=_0xbba6c3[_0x5d3d5c(0x5b6)];if(_0x128861>0x0){const _0x7df2a5=_0x128861/(0x1+_0x341ea1),_0x5ac033=_0x7df2a5*(_0xbba6c3[_0x5d3d5c(0x73d)]/_0xbba6c3[_0x5d3d5c(0x227)]),_0x2e96ce=_0x128861*(_0xbba6c3[_0x5d3d5c(0x659)]/_0xbba6c3['setValorVenta']),_0x5800bf=_0x128861*(_0xbba6c3[_0x5d3d5c(0x567)]/_0xbba6c3[_0x5d3d5c(0x227)]);_0xbba6c3[_0x5d3d5c(0x73d)]-=_0x5ac033,_0xbba6c3[_0x5d3d5c(0x659)]-=_0x2e96ce,_0xbba6c3[_0x5d3d5c(0x567)]-=_0x5800bf,_0xbba6c3[_0x5d3d5c(0x57b)]=_0xbba6c3[_0x5d3d5c(0x73d)]*_0x341ea1,_0xbba6c3[_0x5d3d5c(0x557)]=_0xbba6c3[_0x5d3d5c(0x57b)],_0xbba6c3[_0x5d3d5c(0x227)]=_0xbba6c3[_0x5d3d5c(0x73d)]+_0xbba6c3['setMtoOperExoneradas']+_0xbba6c3[_0x5d3d5c(0x567)],_0xbba6c3[_0x5d3d5c(0x5b6)]=_0xbba6c3[_0x5d3d5c(0x227)]+_0xbba6c3[_0x5d3d5c(0x557)],_0xbba6c3['setMtoImpVenta']=_0xbba6c3[_0x5d3d5c(0x5b6)];}return{'setInvoice':_0xbba6c3,'setInvoiceDetails':_0x5047cc};}function selectAllChecks(_0x34b6e0){const _0x200f42=_0x10508b,_0xcf7620=document[_0x200f42(0x32b)](_0x200f42(0x48c)+_0x34b6e0),_0x7b06a3=_0xcf7620[_0x200f42(0x342)],_0x4d0f72=document['querySelectorAll']('.itemCheckbox-'+_0x34b6e0);_0x4d0f72['forEach'](_0x1bb036=>{const _0x14ad3d=_0x200f42;_0x1bb036[_0x14ad3d(0x342)]=_0x7b06a3,_0x1bb036[_0x14ad3d(0x4be)]=_0x7b06a3?0x1:0x0;}),carts[_0x34b6e0][_0x200f42(0x1fa)](_0x3c1eb8=>{const _0x349406=_0x200f42;_0x3c1eb8[_0x349406(0x386)]=_0x7b06a3?0x1:0x0;}),renderCart(_0x34b6e0);}async function setPreAccount(_0x4522cd){const _0x27ef53=_0x10508b;showLoadingModal(),await setBill(_0x4522cd);const _0x31cbc5=buildPayload(_0x4522cd),{pdfBlob:_0xf2439b,pdfName:_0x5571ea}=await generatePdf(_0x31cbc5,'tk',_0x27ef53(0x250),_0x27ef53(0x3ab),0x1);hideLoadingModal(),setLastOperationGlobalData(_0x4522cd,{'pdfGlobalPayload':_0x31cbc5,'pdfGlobalBlob':_0xf2439b,'pdfGlobalName':_0x5571ea}),showModal();const _0x3ef289=getValidatedWindowAndShift(_0x4522cd);if(_0x3ef289){const {windowObj:_0x1461d2,currentWindowShift:_0x3d72e5}=_0x3ef289;if(_0x3d72e5){_0x3d72e5[_0x27ef53(0x5f4)]=new Date(),_0x1461d2[_0x27ef53(0x62b)]='collect',_0x1461d2['setLastDateUpdate']=nowWithMillisecondsForServer();const _0x22fa46=await createCartStore('');await saveCompanyToIndexedDB(company,_0x22fa46),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x592547){const _0x1110b5=_0x10508b,_0x27556e=parseInt(_0x592547,0xa),_0xaf2e20=elementos[_0x1110b5(0x2b5)](_0x4f57f6=>_0x4f57f6[_0x1110b5(0x708)]===_0x27556e);if(!_0xaf2e20)return console['warn'](_0x1110b5(0x49a),_0x27556e);await clickMesa(_0xaf2e20,0x0),await setPreAccount(_0x592547);const _0x46befb=document[_0x1110b5(0x32b)](_0x1110b5(0x3a2))[_0x1110b5(0x4be)];handleTabSelection(_0x46befb);}async function setBill(_0x467b40){const _0x4e72e3=_0x10508b,_0x41a8e8=document[_0x4e72e3(0x32b)](_0x4e72e3(0x336)+_0x467b40);if(_0x41a8e8){let _0xb27aa6=null;for(const _0x5677ee of setTipOpeSales){const _0x14b2cd=Array['from'](_0x41a8e8['options'])[_0x4e72e3(0x3f2)](_0x350a0a=>_0x350a0a[_0x4e72e3(0x4be)]==_0x5677ee);if(_0x14b2cd){_0xb27aa6=_0x5677ee;break;}}_0xb27aa6!==null?(window_options[_0x467b40][_0x4e72e3(0x3b3)]=_0xb27aa6,await updateSerieOptions(_0xb27aa6,_0x467b40),renderCart(_0x467b40)):console['warn'](_0x4e72e3(0x362));}else console[_0x4e72e3(0x769)]('No\x20se\x20encontró\x20el\x20select');}function renderCart(_0x499ae9){const _0x350eab=_0x10508b,_0x2a2bec=document[_0x350eab(0x32b)](_0x350eab(0x33e)+_0x499ae9),_0x5dc3c3=document['getElementById']('float-right-TotalDescuento-'+_0x499ae9),_0x4ba89e=document[_0x350eab(0x32b)](_0x350eab(0x26c)+_0x499ae9),_0x14a4da=document[_0x350eab(0x32b)](_0x350eab(0x273)+_0x499ae9),_0x343789=document[_0x350eab(0x32b)]('float-right-OpExonerada-'+_0x499ae9),_0x394b48=document[_0x350eab(0x32b)](_0x350eab(0x36e)+_0x499ae9),_0xbba926=document['getElementById'](_0x350eab(0x38f)+_0x499ae9),_0xa955cd=document[_0x350eab(0x32b)](_0x350eab(0x2e8)+_0x499ae9),_0x54eb9b=document[_0x350eab(0x32b)]('float-right-TotalIgv-'+_0x499ae9),_0x38e5dd=document[_0x350eab(0x32b)]('float-right-TotalIgvGratuitas-'+_0x499ae9),_0x5197d3=document['getElementById']('float-right-'+_0x499ae9);_0x2a2bec[_0x350eab(0x258)]='';const _0x5e033e=carts[_0x499ae9];let _0x870aa0,_0x1d4bd6;if(setTipOpeOrders[_0x350eab(0x3f2)](_0x4191f4=>_0x4191f4==window_options[_0x499ae9]['setTipoOperacion']))_0x870aa0=_0x5e033e[_0x350eab(0x46d)](_0x527e5d=>_0x527e5d[_0x350eab(0x386)]==0x1&&_0x527e5d['setWindowShiftId']==''),_0x1d4bd6=myCompany[_0x350eab(0x328)][_0x350eab(0x46d)](_0x27bba4=>_0x27bba4[_0x350eab(0x79a)]==0x1);else{if(setTipOpeSales[_0x350eab(0x3f2)](_0x5efdd8=>_0x5efdd8==window_options[_0x499ae9][_0x350eab(0x3b3)])||setTipOpeQuotation[_0x350eab(0x3f2)](_0x15aa05=>_0x15aa05==window_options[_0x499ae9][_0x350eab(0x3b3)]))_0x870aa0=_0x5e033e[_0x350eab(0x46d)](_0x1d04e0=>_0x1d04e0[_0x350eab(0x386)]==0x1),_0x1d4bd6=myCompany['setAccountingAccounts'][_0x350eab(0x46d)](_0x2a6d76=>_0x2a6d76[_0x350eab(0x79a)]==0x1);else setTipOpePurchases[_0x350eab(0x3f2)](_0x1ec2c6=>_0x1ec2c6==window_options[_0x499ae9]['setTipoOperacion'])&&(_0x870aa0=_0x5e033e['filter'](_0x3bba46=>_0x3bba46[_0x350eab(0x386)]==0x1),_0x1d4bd6=myCompany['setAccountingAccounts'][_0x350eab(0x46d)](_0x1db150=>_0x1db150[_0x350eab(0x79a)]==0x2));}const _0x508452=_0x870aa0['map'](_0x383c54=>({'valorUnit':_0x383c54[_0x350eab(0x54e)],'precioUnit':_0x383c54[_0x350eab(0x430)],'valorCantidad':_0x383c54['setCantidad'],'valorPorcentajeIgv':_0x383c54[_0x350eab(0x349)],'setTipAfeIgv':_0x383c54[_0x350eab(0x259)],'setDescuento':{'setCodTipo':_0x383c54[_0x350eab(0x6ee)]?.[_0x350eab(0x776)]||'00','setPorcentajeDesc':_0x383c54[_0x350eab(0x6ee)]?.[_0x350eab(0x666)]||0x0}})),_0x48c5bb=window_options[_0x499ae9],_0x431128=_0x48c5bb[_0x350eab(0x1e3)],{setInvoice:_0x32302f}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x350eab(0x454)][_0x350eab(0x2b5)](_0x24d92c=>_0x24d92c['setTaxId']==myCompany['setTaxIdDefault'])?.[_0x350eab(0x5b8)],'items':_0x508452,'descuentoGlobalMonto':_0x431128}),_0x1e2fb1={..._0x48c5bb,..._0x32302f};window_options[_0x499ae9]=_0x1e2fb1;const {setMtoOperGravadas:_0x4a30aa,setMtoOperExoneradas:_0x58a4dc,setMtoOperInafectas:_0x4e21e1,setValorVenta:_0x4bf9cf,setMtoIGV:_0x5144c8,setMtoImpVenta:_0x53dc5f,setMtoOperGratuitas:_0x117d20,setMtoIGVGratuitas:_0x3c5e98,setMtoDescItems_precio:_0x51208b}=_0x32302f,_0x51ceb8=document['getElementById']('div-totals-right-TotalIgvGratuitas-'+_0x499ae9),_0x456f00=_0x48c5bb[_0x350eab(0x3b3)];parseFloat(_0x3c5e98)>0x0&&(_0x456f00=='3'||_0x456f00=='4'||_0x456f00=='7'||_0x456f00=='11'||_0x456f00=='14'||_0x456f00=='17'||_0x456f00=='18'||_0x456f00=='21'||_0x456f00=='24')?_0x51ceb8['classList'][_0x350eab(0x625)](_0x350eab(0x547)):_0x51ceb8[_0x350eab(0x63f)][_0x350eab(0x5d9)](_0x350eab(0x547));const _0x4947fe=document['getElementById']('div-totals-right-TotalDescItems-'+_0x499ae9);parseFloat(_0x51208b)>0x0?_0x4947fe[_0x350eab(0x63f)]['remove']('d-none'):_0x4947fe[_0x350eab(0x63f)][_0x350eab(0x5d9)](_0x350eab(0x547));let _0x1e86d7;parseInt(window_options[_0x499ae9]['setDividir'])==0x1?_0x1e86d7='':_0x1e86d7='hidden';const _0x27a2f1=getUserPermissionApiERP(0xc);_0x5e033e['forEach']((_0x41ab80,_0x349b49)=>{const _0x41e07b=_0x350eab;let _0x449d26='';_0x41ab80[_0x41e07b(0x75e)]!=''&&(_0x449d26=_0x41e07b(0x46c));const _0x40c81=document[_0x41e07b(0x2bb)]('div');_0x40c81['className']=_0x41e07b(0x30f);const _0x2a0675=document[_0x41e07b(0x2bb)](_0x41e07b(0x6d4));_0x2a0675[_0x41e07b(0x3fc)]=_0x41e07b(0x631);const _0x32fe95=document['createElement']('div');_0x32fe95['id']='cart-item-options-'+_0x499ae9+'-'+_0x41ab80['id'];_0x41ab80[_0x41e07b(0x753)]==0x1?_0x32fe95[_0x41e07b(0x3fc)]=_0x41e07b(0x5f9):_0x32fe95['className']=_0x41e07b(0x571);const _0x18da14=createElement(_0x41e07b(0x2a6),{'type':_0x41e07b(0x329),'class':_0x41e07b(0x6af)+_0x499ae9+'\x20'+_0x1e86d7,'value':_0x41ab80[_0x41e07b(0x386)],'events':{'click':_0x3bbe83=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x386),_0x3bbe83['target'][_0x41e07b(0x4be)])}});_0x41ab80['setChecked']==0x1&&(_0x18da14[_0x41e07b(0x342)]=_0x41e07b(0x342));_0x2a0675['appendChild'](_0x18da14);const _0x30176d=products[_0x41e07b(0x2b5)](_0x6f9fc0=>_0x6f9fc0['id']==_0x41ab80['setIdProducto']);let _0x3df306='';if(_0x30176d){const _0x43edfe=[];if(_0x30176d[_0x41e07b(0x368)])_0x43edfe[_0x41e07b(0x7a6)]('Cod:\x20'+_0x30176d[_0x41e07b(0x368)]);if(_0x30176d['setItemDescription'])_0x43edfe[_0x41e07b(0x7a6)](''+_0x30176d[_0x41e07b(0x3c3)]);if(_0x30176d['setBatchName'])_0x43edfe[_0x41e07b(0x7a6)](''+_0x30176d[_0x41e07b(0x52e)]);if(_0x30176d[_0x41e07b(0x39e)]){const _0x39bec6=_0x30176d[_0x41e07b(0x39e)][_0x41e07b(0x458)]('-'),_0x253e21=_0x39bec6[0x2]+'/'+_0x39bec6[0x1]+'/'+_0x39bec6[0x0];_0x43edfe[_0x41e07b(0x7a6)](_0x41e07b(0x6db)+_0x253e21);}_0x3df306=_0x43edfe[_0x41e07b(0x6e6)]('\x20|\x20');}const _0x5d139c=document['createElement'](_0x41e07b(0x6d4));_0x5d139c[_0x41e07b(0x258)]=_0x41ab80[_0x41e07b(0x368)]+_0x41e07b(0x398)+_0x41ab80['setDescripcion']+_0x41e07b(0x252)+(_0x41ab80[_0x41e07b(0x3cc)]??'')+_0x41e07b(0x2d2),_0x5d139c['className']=_0x41e07b(0x435);if(_0x3df306)_0x5d139c[_0x41e07b(0x439)](_0x41e07b(0x5e4),_0x3df306);_0x2a0675[_0x41e07b(0x2a1)](_0x5d139c);const _0x380bb6=document[_0x41e07b(0x2bb)]('textarea');_0x380bb6[_0x41e07b(0x4be)]=_0x41ab80['setDescripcion']||'',_0x380bb6[_0x41e07b(0x3fc)]=_0x41e07b(0x467),_0x380bb6['placeholder']='Producto:',_0x380bb6[_0x41e07b(0x2de)]=_0x15aa42=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x460),_0x15aa42[_0x41e07b(0x657)]['value']),_0x2a0675[_0x41e07b(0x2a1)](_0x380bb6),_0x5d139c[_0x41e07b(0x26b)](_0x41e07b(0x3a7),()=>{const _0x4a4b6c=_0x41e07b;_0x5d139c[_0x4a4b6c(0x63f)][_0x4a4b6c(0x5d9)](_0x4a4b6c(0x46c)),_0x380bb6[_0x4a4b6c(0x63f)]['remove'](_0x4a4b6c(0x46c)),_0x380bb6[_0x4a4b6c(0x3ef)]();}),_0x380bb6[_0x41e07b(0x26b)]('blur',()=>{renderCart(_0x499ae9);});const _0x2e8658=document[_0x41e07b(0x2bb)]('button');_0x2e8658[_0x41e07b(0x258)]=_0x41e07b(0x267),_0x2e8658['id']=_0x41e07b(0x3c6)+_0x499ae9+'-'+_0x41ab80['id'],_0x2e8658[_0x41e07b(0x3fc)]=_0x41e07b(0x2f7)+_0x449d26,_0x2e8658[_0x41e07b(0x26b)](_0x41e07b(0x3a7),()=>{const _0x443521=_0x41e07b,_0x321be2=_0x32fe95[_0x443521(0x63f)][_0x443521(0x55d)](_0x443521(0x547));_0x321be2?(_0x32fe95[_0x443521(0x63f)][_0x443521(0x625)]('d-none'),_0x2e8658[_0x443521(0x258)]=_0x443521(0x3b0),updateCartItem(_0x499ae9,_0x349b49,_0x443521(0x753),0x1)):(_0x32fe95['classList'][_0x443521(0x5d9)](_0x443521(0x547)),_0x2e8658['innerHTML']=_0x443521(0x267),updateCartItem(_0x499ae9,_0x349b49,_0x443521(0x753),0x0));}),_0x2a0675['appendChild'](_0x2e8658);const _0x4058f7=document[_0x41e07b(0x2bb)](_0x41e07b(0x6d4));_0x4058f7[_0x41e07b(0x3fc)]='input-group\x20input_cart_setCantidad\x20div-width-30';const _0x113047=document[_0x41e07b(0x2bb)](_0x41e07b(0x7ad));_0x113047[_0x41e07b(0x3fc)]=_0x41e07b(0x1f9)+_0x449d26,_0x113047[_0x41e07b(0x258)]='<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>',_0x113047[_0x41e07b(0x614)]=()=>{const _0x4fc754=_0x41e07b;let _0x5b707d=parseFloat(_0x41ab80[_0x4fc754(0x633)])||0x0;_0x5b707d<=0x1?_0x5b707d=Math['max'](0.1,_0x5b707d-0.1):_0x5b707d=Math['max'](0x0,_0x5b707d-0x1),_0x41ab80[_0x4fc754(0x633)]=_0x5b707d[_0x4fc754(0x718)](0x1),_0x52933a[_0x4fc754(0x4be)]=_0x41ab80[_0x4fc754(0x633)]||0x0,updateCartItem(_0x499ae9,_0x349b49,_0x4fc754(0x633),_0x41ab80[_0x4fc754(0x633)]);};const _0x52933a=document[_0x41e07b(0x2bb)](_0x41e07b(0x2a6));_0x41ab80[_0x41e07b(0x75e)]!=''&&(_0x52933a[_0x41e07b(0x3af)]=!![]);_0x52933a[_0x41e07b(0x226)]=_0x41e07b(0x61d),_0x52933a[_0x41e07b(0x56d)]=_0x41e07b(0x576),_0x52933a['min']=_0x41e07b(0x576),_0x52933a[_0x41e07b(0x4be)]=_0x41ab80[_0x41e07b(0x633)]||0x0,_0x52933a['className']='form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size',_0x52933a[_0x41e07b(0x2de)]=_0x46640f=>{const _0xca3b0c=_0x41e07b;var _0x3fc2d4=parseInt(_0x27a2f1,0xa)||0x0,_0x5dbd1b=Math[_0xca3b0c(0x21e)](0xa,-_0x3fc2d4);let _0x5cc9c9=parseFloat(_0x46640f[_0xca3b0c(0x657)]['value'])||0x0;_0x5cc9c9=_0x5cc9c9<0x1?Math['max'](_0x5dbd1b,_0x5cc9c9):Math[_0xca3b0c(0x4a0)](0x1,_0x5cc9c9),_0x41ab80['setCantidad']=_0x5cc9c9[_0xca3b0c(0x718)](_0x3fc2d4),updateCartItem(_0x499ae9,_0x349b49,_0xca3b0c(0x633),_0x41ab80[_0xca3b0c(0x633)]);};const _0x5c8d78=document['createElement'](_0x41e07b(0x7ad));_0x5c8d78[_0x41e07b(0x3fc)]=_0x41e07b(0x1f9)+_0x449d26,_0x5c8d78[_0x41e07b(0x258)]='<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>',_0x5c8d78['onclick']=()=>{const _0x220369=_0x41e07b;let _0x2c32c6=parseFloat(_0x41ab80[_0x220369(0x633)])||0x0;_0x2c32c6<0x1?_0x2c32c6=_0x2c32c6+0.1:_0x2c32c6=_0x2c32c6+0x1,_0x41ab80[_0x220369(0x633)]=_0x2c32c6['toFixed'](0x1),_0x52933a[_0x220369(0x4be)]=_0x41ab80['setCantidad']||0x0,updateCartItem(_0x499ae9,_0x349b49,'setCantidad',_0x41ab80[_0x220369(0x633)]);},_0x4058f7[_0x41e07b(0x2a1)](_0x113047),_0x4058f7[_0x41e07b(0x2a1)](_0x52933a),_0x4058f7[_0x41e07b(0x2a1)](_0x5c8d78),_0x2a0675[_0x41e07b(0x2a1)](_0x4058f7);const _0xceebc7=document[_0x41e07b(0x2bb)](_0x41e07b(0x6d4));_0xceebc7['textContent']=''+(parseFloat(_0x41ab80[_0x41e07b(0x52d)])||0x0)[_0x41e07b(0x718)](0x2),_0xceebc7['className']='input_cart_setSubtotal\x20input-cart-size\x20div-width-20',_0x2a0675[_0x41e07b(0x2a1)](_0xceebc7);const _0x548a18=document[_0x41e07b(0x2bb)](_0x41e07b(0x7ad));_0x548a18[_0x41e07b(0x258)]='<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>',_0x548a18[_0x41e07b(0x3fc)]=_0x41e07b(0x6f8);_0x41ab80['setOrderId']!=''?_0x548a18[_0x41e07b(0x614)]=()=>removeFromCart(_0x499ae9,_0x349b49,_0x41ab80[_0x41e07b(0x382)]):_0x548a18[_0x41e07b(0x614)]=()=>removeFromCart(_0x499ae9,_0x349b49);_0x2a0675[_0x41e07b(0x2a1)](_0x548a18);const _0x37fee1=document[_0x41e07b(0x2bb)](_0x41e07b(0x6d4));_0x37fee1[_0x41e07b(0x3fc)]=_0x41e07b(0x520),_0x37fee1[_0x41e07b(0x656)]['marginRight']=_0x41e07b(0x2f6);const _0x4a459f=document[_0x41e07b(0x2bb)](_0x41e07b(0x798));_0x4a459f['value']=_0x41ab80['setNotas']||'',_0x4a459f['className']=_0x41e07b(0x4b3),_0x4a459f[_0x41e07b(0x4ba)]=_0x41e07b(0x2d4),_0x4a459f['rows']=0x2,_0x4a459f['onchange']=_0x160e53=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x3cc),_0x160e53[_0x41e07b(0x657)][_0x41e07b(0x4be)]),_0x37fee1[_0x41e07b(0x2a1)](_0x4a459f);const _0x2a31fb=document[_0x41e07b(0x2bb)](_0x41e07b(0x340));_0x2a31fb[_0x41e07b(0x3fc)]=_0x41e07b(0x56b),_0x2a31fb[_0x41e07b(0x258)]=_0x41e07b(0x78c),_0x37fee1[_0x41e07b(0x2a1)](_0x2a31fb);const _0x2a89c7=_0x1d4bd6,_0x5ecda7=createElement('select',{'class':'input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','events':{'change':_0x431a2c=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x640),_0x431a2c['target'][_0x41e07b(0x4be)])}},_0x2a89c7[_0x41e07b(0x6cd)](_0x169d2a=>createElement('option',{'value':_0x169d2a[_0x41e07b(0x640)],'innerHTML':_0x169d2a[_0x41e07b(0x251)]+'\x20-\x20'+_0x169d2a['setAccountingAccountName']}))),_0x1825ee=_0x2a89c7[_0x41e07b(0x3f2)](_0x13a29d=>_0x13a29d['setAccountingAccountId']==_0x41ab80[_0x41e07b(0x640)]);!_0x1825ee&&_0x2a89c7[_0x41e07b(0x4e9)]>0x0&&(_0x41ab80[_0x41e07b(0x640)]=_0x2a89c7[0x0][_0x41e07b(0x640)]);_0x5ecda7[_0x41e07b(0x4be)]=_0x41ab80[_0x41e07b(0x640)],_0x37fee1[_0x41e07b(0x2a1)](_0x5ecda7),_0x32fe95[_0x41e07b(0x2a1)](_0x37fee1);const _0x522af8=document[_0x41e07b(0x2bb)]('div');_0x522af8[_0x41e07b(0x3fc)]=_0x41e07b(0x24d),_0x522af8[_0x41e07b(0x656)][_0x41e07b(0x5c6)]=_0x41e07b(0x2f6);const _0x5e4334=document[_0x41e07b(0x2bb)](_0x41e07b(0x340));_0x5e4334[_0x41e07b(0x3fc)]='label-cart',_0x5e4334[_0x41e07b(0x258)]=_0x41e07b(0x2a2),_0x522af8[_0x41e07b(0x2a1)](_0x5e4334);const _0x3dc409=document['createElement'](_0x41e07b(0x2a6));_0x3dc409['type']=_0x41e07b(0x61d),_0x3dc409['value']=parseFloat(_0x41ab80[_0x41e07b(0x694)])['toFixed'](0x2)||0x0,_0x3dc409[_0x41e07b(0x3fc)]=_0x41e07b(0x66b),_0x3dc409['onchange']=_0x35bb03=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x694),_0x35bb03[_0x41e07b(0x657)][_0x41e07b(0x4be)]),_0x522af8['appendChild'](_0x3dc409);const _0x3e9c5b=document[_0x41e07b(0x2bb)]('label');_0x3e9c5b[_0x41e07b(0x3fc)]=_0x41e07b(0x56b),_0x3e9c5b[_0x41e07b(0x258)]=_0x41e07b(0x58a),_0x522af8[_0x41e07b(0x2a1)](_0x3e9c5b);const _0x35f2e5=document['createElement'](_0x41e07b(0x2a6));_0x35f2e5[_0x41e07b(0x226)]=_0x41e07b(0x61d),_0x35f2e5[_0x41e07b(0x4be)]=_0x41ab80['setDescuento'][_0x41e07b(0x666)]||0x0,_0x35f2e5[_0x41e07b(0x3fc)]=_0x41e07b(0x4ea),_0x35f2e5[_0x41e07b(0x2de)]=_0x5eacb6=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x666),_0x5eacb6[_0x41e07b(0x657)][_0x41e07b(0x4be)]),_0x522af8[_0x41e07b(0x2a1)](_0x35f2e5),_0x32fe95[_0x41e07b(0x2a1)](_0x522af8);const _0x2b0087=document[_0x41e07b(0x2bb)]('div');_0x2b0087[_0x41e07b(0x3fc)]='div-width-25',_0x2b0087['style'][_0x41e07b(0x5c6)]=_0x41e07b(0x2b6);const _0x51cf40=document[_0x41e07b(0x2bb)](_0x41e07b(0x340));_0x51cf40[_0x41e07b(0x3fc)]=_0x41e07b(0x56b),_0x51cf40[_0x41e07b(0x258)]=_0x41e07b(0x67a),_0x2b0087[_0x41e07b(0x2a1)](_0x51cf40);const _0x4c1468=document['createElement'](_0x41e07b(0x2a6));_0x4c1468[_0x41e07b(0x226)]='number',_0x4c1468[_0x41e07b(0x4be)]=parseFloat(_0x41ab80[_0x41e07b(0x767)])[_0x41e07b(0x718)](0x2)||0x0,_0x4c1468[_0x41e07b(0x3fc)]=_0x41e07b(0x219),_0x4c1468[_0x41e07b(0x2de)]=_0x51cf20=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x767),_0x51cf20[_0x41e07b(0x657)][_0x41e07b(0x4be)]),_0x2b0087[_0x41e07b(0x2a1)](_0x4c1468);const _0x12c5f7=document['createElement'](_0x41e07b(0x340));_0x12c5f7['className']=_0x41e07b(0x56b),_0x12c5f7[_0x41e07b(0x258)]=_0x41e07b(0x20e),_0x2b0087[_0x41e07b(0x2a1)](_0x12c5f7);const _0x3b63b5=myCompany['setImpuestos'],_0x27e924=createElement(_0x41e07b(0x775),{'class':'input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','events':{'change':_0x23ae83=>updateCartItem(_0x499ae9,_0x349b49,_0x41e07b(0x259),_0x23ae83['target'][_0x41e07b(0x4be)])}},_0x3b63b5[_0x41e07b(0x6cd)](_0x47fb65=>createElement(_0x41e07b(0x512),{'value':_0x47fb65[_0x41e07b(0x42b)],'innerHTML':_0x47fb65['setImpuestoName']+'\x20('+_0x47fb65['setImpuestoValue']+'%)'})));_0x27e924[_0x41e07b(0x4be)]=_0x41ab80['setTaxId'],_0x2b0087['appendChild'](_0x27e924),_0x32fe95[_0x41e07b(0x2a1)](_0x2b0087),_0x40c81['appendChild'](_0x2a0675),_0x40c81['appendChild'](_0x32fe95),_0x2a2bec[_0x41e07b(0x2a1)](_0x40c81);});const _0x438fb5=getCurrencySymbol(_0x499ae9);_0x5dc3c3[_0x350eab(0x258)]=_0x350eab(0x3dd)+_0x499ae9+'\x22\x20value=\x22'+(parseFloat(_0x431128)||0x0)[_0x350eab(0x718)](0x2)+_0x350eab(0x5cc),_0x4ba89e['textContent']=_0x438fb5+'\x20'+(parseFloat(_0x51208b)||0x0)[_0x350eab(0x718)](0x2),_0x14a4da[_0x350eab(0x511)]=_0x438fb5+'\x20'+(parseFloat(_0x4a30aa)||0x0)[_0x350eab(0x718)](0x2),_0x343789['textContent']=_0x438fb5+'\x20'+(parseFloat(_0x58a4dc)||0x0)[_0x350eab(0x718)](0x2),_0x394b48[_0x350eab(0x511)]=_0x438fb5+'\x20'+(parseFloat(_0x4e21e1)||0x0)[_0x350eab(0x718)](0x2),_0xbba926['textContent']=_0x438fb5+'\x20'+(parseFloat(_0x117d20)||0x0)['toFixed'](0x2),_0xa955cd['textContent']=_0x438fb5+'\x20'+(parseFloat(_0x4bf9cf)||0x0)[_0x350eab(0x718)](0x2),_0x54eb9b[_0x350eab(0x511)]=_0x438fb5+'\x20'+(parseFloat(_0x5144c8)||0x0)[_0x350eab(0x718)](0x2),_0x38e5dd['textContent']=_0x438fb5+'\x20'+(parseFloat(_0x3c5e98)||0x0)[_0x350eab(0x718)](0x2),_0x5197d3[_0x350eab(0x511)]=_0x438fb5+'\x20'+(parseFloat(_0x53dc5f)||0x0)[_0x350eab(0x718)](0x2);}function addToCart(_0x553b8f,_0x7a3dd1=null,_0x4e971d=0x0,_0x1dd582=0x0){const _0x3a7653=_0x10508b;let _0x526010;_0x1dd582!=0x0?_0x526010=_0x1dd582:_0x526010=document[_0x3a7653(0x32b)]('windowId')[_0x3a7653(0x4be)];if(_0x526010<=0x0){ntfShow(_0x3a7653(0x3db));return;}if(!carts[_0x526010])carts[_0x526010]=[];const _0x3f92b4=carts[_0x526010],_0x2f4bbb=document[_0x3a7653(0x32b)](_0x3a7653(0x620))['value'],_0x504deb=myCompany[_0x3a7653(0x784)],_0x4b9524=_0x504deb[_0x3a7653(0x2b5)](_0x5ae4d0=>_0x5ae4d0[_0x3a7653(0x620)]==_0x2f4bbb&&_0x5ae4d0[_0x3a7653(0x299)]=='1'),_0x375de9=getUserPermissionApiERP(0xf);if(!_0x4b9524&&_0x375de9==0x1){updateShiftDisplay();return;}const _0x80cae5=getUserPermissionApiERP(0x1);if(_0x553b8f[_0x3a7653(0x51b)]==0x1&&window_options[_0x526010][_0x3a7653(0x230)]!=0x2&&_0x4e971d==0x0&&_0x553b8f[_0x3a7653(0x52b)]!=0x1){const _0x2e282b=_0x553b8f[_0x3a7653(0x39e)];if(_0x2e282b){const _0xaf5bf7=new Date(_0x2e282b),_0x44b0fb=new Date();_0x44b0fb[_0x3a7653(0x682)](0x0,0x0,0x0,0x0);if(_0xaf5bf7<_0x44b0fb){ntfShow(_0x3a7653(0x6f5),0x2,0x2);return;}}if(setTipOpeSales[_0x3a7653(0x3f2)](_0x100336=>_0x100336==window_options[_0x526010][_0x3a7653(0x3b3)])&&_0x80cae5==0x0){const _0x3e77e4=document[_0x3a7653(0x32b)](_0x3a7653(0x256))[_0x3a7653(0x4be)],_0x529db6=_0x553b8f[_0x3a7653(0x21c)][_0x3a7653(0x2b5)](_0x317eed=>String(_0x317eed['setIdSucursal'])==_0x3e77e4),_0x163bd9=_0x529db6?parseFloat(_0x529db6[_0x3a7653(0x51a)]):0x0;if(_0x163bd9<=0x0){ntfShow('El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.',0x2,0x2);return;}const _0x1bdc70=_0x553b8f['setIdProducto'],_0x2ec1a1=parseFloat(_0x553b8f[_0x3a7653(0x686)])||0x1,_0x4a6126=_0x7a3dd1?parseFloat(_0x7a3dd1['setValorCantidad'])||0x1:0x1;let _0x50df64=_0x3f92b4[_0x3a7653(0x710)]((_0x267de1,_0x325e45)=>{const _0x2a191e=_0x3a7653,_0x5ac518=products[_0x2a191e(0x2b5)](_0x386eda=>_0x386eda['id']==_0x325e45['setIdProducto']);if(!_0x5ac518||_0x5ac518[_0x2a191e(0x3f6)]!=_0x1bdc70)return _0x267de1;const _0x3dfc22=parseFloat(_0x5ac518[_0x2a191e(0x686)])||0x1;return _0x267de1+(parseFloat(_0x325e45[_0x2a191e(0x633)])||0x0)*_0x3dfc22;},0x0);const _0x151175=_0x50df64+_0x4a6126*_0x2ec1a1;console['log'](_0x3a7653(0x749),{'masterId':_0x1bdc70,'stock':_0x163bd9,'totalExistingBase':_0x50df64,'addFactor':_0x2ec1a1,'qtyToAdd':_0x4a6126,'totalInBase':_0x151175});if(_0x151175>_0x163bd9){ntfShow(_0x3a7653(0x6df),0x2,0x2);return;}}}let _0x5b1ee4,_0x26f773;setTipOpeOrders[_0x3a7653(0x3f2)](_0x1b713f=>_0x1b713f==window_options[_0x526010][_0x3a7653(0x3b3)])||setTipOpeSales[_0x3a7653(0x3f2)](_0x37ecf5=>_0x37ecf5==window_options[_0x526010]['setTipoOperacion'])||setTipOpeQuotation[_0x3a7653(0x3f2)](_0x19a0e2=>_0x19a0e2==window_options[_0x526010][_0x3a7653(0x3b3)])?(_0x5b1ee4=myCompany[_0x3a7653(0x328)][_0x3a7653(0x46d)](_0x3fe4ab=>_0x3fe4ab[_0x3a7653(0x79a)]==0x1),_0x26f773=0x2):(_0x5b1ee4=myCompany[_0x3a7653(0x328)][_0x3a7653(0x46d)](_0x215039=>_0x215039[_0x3a7653(0x79a)]==0x2),_0x26f773=0x1);const _0x24f524=_0x5b1ee4[0x0]||{},_0x299061=_0x24f524[_0x3a7653(0x640)]||'',_0x406077=_0x24f524[_0x3a7653(0x251)]||'',_0x14b0e7=_0x24f524[_0x3a7653(0x764)]||'',_0x294e71=_0x24f524['setAccountingAccountType']||'';let _0x2192cc=0x1,_0x5335fb=0x0,_0x41d084=0x0,_0x1bb8ae=_0x553b8f[_0x3a7653(0x42b)],_0x14427b=myCompany[_0x3a7653(0x454)][_0x3a7653(0x2b5)](_0x12f669=>_0x12f669['setTaxId']==_0x1bb8ae)?.[_0x3a7653(0x589)],_0x34abc7=0x0,_0x3dd59b=0x0,_0x17ea9e=0x0,_0x48f138=0x0,_0x3fffcc=0x0,_0x468ede=_0x553b8f['setNotas']??'';const _0x25c0b9=document[_0x3a7653(0x32b)](_0x3a7653(0x35e)+_0x526010)[_0x3a7653(0x4be)],_0x41fb1b=_0x553b8f[_0x3a7653(0x3e3)][_0x3a7653(0x2b5)](_0x3f7830=>_0x3f7830[_0x3a7653(0x68d)]==_0x25c0b9)||{};_0x26f773==0x1?(_0x5335fb=_0x41fb1b['setMtoValorCostoUnitario']||0x0,_0x41d084=_0x41fb1b['setMtoPrecioCostoUnitario']||0x0):(_0x5335fb=_0x41fb1b[_0x3a7653(0x466)]||0x0,_0x41d084=_0x41fb1b['setMtoPrecioUnitario']||0x0);_0x3dd59b=_0x41fb1b[_0x3a7653(0x500)]||0x0,_0x17ea9e=_0x41fb1b[_0x3a7653(0x71e)]||0x0,_0x48f138=_0x41fb1b[_0x3a7653(0x466)]||0x0,_0x3fffcc=_0x41fb1b[_0x3a7653(0x6f0)]||0x0;let _0x24160c=generateUniqId(),_0x5d59b7='',_0x1134a8='';_0x7a3dd1&&(_0x2192cc=_0x7a3dd1[_0x3a7653(0x4ac)]??_0x2192cc,_0x5335fb=0x0,_0x41d084=_0x7a3dd1[_0x3a7653(0x430)],_0x1bb8ae=_0x7a3dd1[_0x3a7653(0x42b)],_0x14427b=_0x7a3dd1[_0x3a7653(0x259)],_0x34abc7=_0x7a3dd1[_0x3a7653(0x666)],_0x3dd59b=_0x7a3dd1[_0x3a7653(0x694)]??_0x3dd59b,_0x17ea9e=_0x7a3dd1[_0x3a7653(0x767)]??_0x17ea9e,_0x48f138=0x0,_0x3fffcc=0x0,_0x468ede=_0x7a3dd1[_0x3a7653(0x3cc)],_0x24160c=_0x7a3dd1[_0x3a7653(0x480)]??_0x24160c,_0x5d59b7=_0x7a3dd1[_0x3a7653(0x75e)]??'',_0x1134a8=_0x7a3dd1[_0x3a7653(0x382)]??'');const _0x45f628=getUserPermissionApiERP(0x4),{currentWindowShift:_0x52091a}=getValidatedWindowAndShift(_0x526010)||{},_0x2b07dc=_0x52091a||_0x45f628==0x1?![]:_0x3f92b4[_0x3a7653(0x2b5)](_0x2f8556=>_0x2f8556['setIdProducto']==_0x553b8f['id']),_0x473fc1=[{'valorUnit':_0x2b07dc?_0x2b07dc[_0x3a7653(0x54e)]:_0x5335fb,'precioUnit':_0x2b07dc?_0x2b07dc[_0x3a7653(0x430)]:_0x41d084,'valorCantidad':_0x2b07dc?_0x2b07dc[_0x3a7653(0x633)]+0x1:_0x2192cc,'valorPorcentajeIgv':_0x2b07dc?_0x2b07dc['setPorcentajeIgv']:myCompany['setImpuestos']['find'](_0x57014f=>_0x57014f['setTaxId']==_0x1bb8ae)[_0x3a7653(0x5b8)],'setTipAfeIgv':_0x14427b,'setDescuento':{'setCodTipo':_0x2b07dc?.[_0x3a7653(0x6ee)]?.[_0x3a7653(0x776)]||'00','setPorcentajeDesc':_0x2b07dc?.[_0x3a7653(0x6ee)]?.[_0x3a7653(0x666)]||_0x34abc7}}],{setInvoiceDetails:_0x1e5c83}=procesarProductos({'setPorcentajeGeneralIgv':myCompany['setImpuestos'][_0x3a7653(0x2b5)](_0x3c2abf=>_0x3c2abf['setTaxId']==_0x1bb8ae)[_0x3a7653(0x5b8)],'items':_0x473fc1,'descuentoGlobalMonto':0x0}),_0xf41ee8=_0x1e5c83[0x0];_0x2b07dc?(_0x2b07dc['setCantidad']++,Object['assign'](_0x2b07dc,{'setMtoValorUnitario':_0xf41ee8['setMtoValorUnitario'],'setMtoValorGratuito':_0xf41ee8[_0x3a7653(0x619)],'setMtoValorVenta':_0xf41ee8[_0x3a7653(0x78a)],'setMtoBaseIgv':_0xf41ee8['setMtoBaseIgv'],'setPorcentajeIgv':_0xf41ee8[_0x3a7653(0x349)],'setIgv':_0xf41ee8[_0x3a7653(0x6b0)],'setTotalImpuestos':_0xf41ee8[_0x3a7653(0x557)],'setMtoPrecioUnitario':_0xf41ee8['setMtoPrecioUnitario'],'setTotal':parseFloat(_0xf41ee8[_0x3a7653(0x500)])*parseFloat(_0x2b07dc[_0x3a7653(0x633)]),'setMtoPrecioUnitario_final':_0xf41ee8[_0x3a7653(0x430)],'setMtoValorUnitario_final':_0xf41ee8[_0x3a7653(0x54e)],'setMtoPrecioUnitario_input':_0x26f773==0x1?_0x3dd59b:parseFloat(_0xf41ee8[_0x3a7653(0x430)])[_0x3a7653(0x718)](0x2),'setMtoPrecioCostoUnitario_input':_0x26f773==0x1?parseFloat(_0xf41ee8[_0x3a7653(0x430)])['toFixed'](0x2):_0x17ea9e,'setMtoValorUnitario_input':_0x26f773==0x1?_0x48f138:parseFloat(_0xf41ee8[_0x3a7653(0x54e)])[_0x3a7653(0x718)](0x2),'setMtoValorCostoUnitario_input':_0x26f773==0x1?parseFloat(_0xf41ee8[_0x3a7653(0x54e)])[_0x3a7653(0x718)](0x2):_0x3fffcc})):_0x3f92b4[_0x3a7653(0x7a6)]({'cartId':_0x24160c,'setIdProducto':_0x553b8f['id'],'setCodProducto':_0x553b8f[_0x3a7653(0x368)],'setDescripcion':formatVariantName(_0x553b8f[_0x3a7653(0x460)],_0x553b8f['setItemVariantValues'],0x2),'setItemDescription':_0x553b8f['setItemDescription'],'setUnidad':_0x553b8f[_0x3a7653(0x4ab)],'setInventariable':_0x553b8f[_0x3a7653(0x51b)],'setMarca':_0x553b8f[_0x3a7653(0x2f1)],'setCantidad':_0x2192cc,'setMtoValorUnitario':_0xf41ee8[_0x3a7653(0x466)],'setMtoValorGratuito':_0xf41ee8['setMtoValorGratuito'],'setMtoValorVenta':_0xf41ee8[_0x3a7653(0x78a)],'setMtoBaseIgv':_0xf41ee8[_0x3a7653(0x3f4)],'setPorcentajeIgv':_0xf41ee8[_0x3a7653(0x349)],'setIgv':_0xf41ee8[_0x3a7653(0x6b0)],'setTotalImpuestos':_0xf41ee8['setTotalImpuestos'],'setMtoPrecioUnitario':_0xf41ee8[_0x3a7653(0x500)],'setTotal':parseFloat(_0xf41ee8[_0x3a7653(0x500)])*parseFloat(_0x2192cc),'setMtoPrecioUnitario_final':_0xf41ee8[_0x3a7653(0x430)],'setMtoValorUnitario_final':_0xf41ee8[_0x3a7653(0x54e)],'setTaxId':_0x1bb8ae,'setTipAfeIgv':_0x14427b,'setMtoPrecioUnitario_input':_0x26f773==0x1?_0x3dd59b:parseFloat(_0xf41ee8[_0x3a7653(0x430)])[_0x3a7653(0x718)](0x2),'setMtoPrecioCostoUnitario_input':_0x26f773==0x1?parseFloat(_0xf41ee8['setMtoPrecioUnitario_final'])['toFixed'](0x2):_0x17ea9e,'setMtoValorUnitario_input':_0x26f773==0x1?_0x48f138:parseFloat(_0xf41ee8[_0x3a7653(0x54e)])[_0x3a7653(0x718)](0x2),'setMtoValorCostoUnitario_input':_0x26f773==0x1?parseFloat(_0xf41ee8['setMtoValorUnitario_final'])[_0x3a7653(0x718)](0x2):_0x3fffcc,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x34abc7},'setVisible':0x0,'setNotas':_0x468ede,'setChecked':0x1,'setWindowShiftId':_0x5d59b7,'setOrderId':_0x1134a8,'setAccountingAccountId':_0x299061,'setAccountingAccountCode':_0x406077,'setAccountingAccountName':_0x14b0e7,'setAccountingAccountType':_0x294e71,'setItemFree':_0x553b8f[_0x3a7653(0x52b)]??0x0}),saveCart(_0x526010)[_0x3a7653(0x3ea)](()=>{const _0x50e09f=_0x3a7653;renderCart(_0x526010);if(isMobile()){const _0x1dc781=getUserPermissionApiERP(0x11);_0x1dc781==0x1&&showRightSection(),_0x4e971d==0x0&&ntfShow(_0x50e09f(0x5f0),0x1,0x2);}})[_0x3a7653(0x209)](_0x8b20d9=>{const _0x59dc38=_0x3a7653;console[_0x59dc38(0x769)](_0x59dc38(0x60d),_0x8b20d9);});}function calcFinalPrice(_0x28f3e8,_0x13da53,_0x1bf501){switch(_0x13da53){case 0x1:return _0x28f3e8*(0x1-_0x1bf501/0x64);case 0x2:return _0x28f3e8*(0x1+_0x1bf501/0x64);case 0x3:return _0x28f3e8-_0x1bf501;case 0x4:return _0x28f3e8+_0x1bf501;case 0x5:return _0x1bf501;default:return _0x28f3e8;}}function updateCartItem(_0x4cccfe,_0x4c14e2,_0x470113,_0x565fe8){const _0x4e86c9=_0x10508b;let _0x4a1784=_0x565fe8;[_0x4e86c9(0x633),'setMtoValorUnitario',_0x4e86c9(0x694),'setMtoPrecioCostoUnitario_input',_0x4e86c9(0x666),_0x4e86c9(0x386)]['includes'](_0x470113)&&(_0x4a1784=parseFloat(_0x4a1784));const _0x19ae94=carts[_0x4cccfe];if(!_0x19ae94||!_0x19ae94[_0x4c14e2]){console[_0x4e86c9(0x769)](_0x4e86c9(0x64f)+_0x4cccfe);return;}if(setTipOpeSales[_0x4e86c9(0x3f2)](_0x273420=>_0x273420==window_options[_0x4cccfe][_0x4e86c9(0x3b3)])){const _0x4c1a2c=getUserPermissionApiERP(0x1),_0x4e35f2=_0x19ae94[_0x4c14e2];if(_0x4c1a2c==0x0&&_0x4e35f2[_0x4e86c9(0x51b)]==0x1&&window_options[_0x4cccfe][_0x4e86c9(0x230)]!=0x2&&_0x4e35f2[_0x4e86c9(0x52b)]!=0x1){const _0x4e2e17=products[_0x4e86c9(0x2b5)](_0x467880=>_0x467880['id']==_0x4e35f2['setIdProducto']),_0x30118a=_0x4e2e17[_0x4e86c9(0x3f6)],_0x97722b=document['getElementById']('setWarehouseId')[_0x4e86c9(0x4be)],_0x48dfbc=_0x4e2e17['sucursales']['find'](_0x937b66=>String(_0x937b66['setIdSucursal'])==_0x97722b),_0x7bd596=_0x48dfbc?parseFloat(_0x48dfbc[_0x4e86c9(0x51a)]):0x0,_0x3c3663=parseFloat(_0x4e2e17[_0x4e86c9(0x686)])||0x1;let _0x4040cf=_0x19ae94[_0x4e86c9(0x710)]((_0x1a0953,_0x5c270b)=>{const _0x4041dc=_0x4e86c9,_0x1b8066=products['find'](_0x4d64b7=>_0x4d64b7['id']==_0x5c270b[_0x4041dc(0x3f6)]);if(!_0x1b8066||_0x1b8066[_0x4041dc(0x3f6)]!=_0x30118a)return _0x1a0953;const _0x52ba1f=parseFloat(_0x1b8066[_0x4041dc(0x686)])||0x1;return _0x1a0953+(parseFloat(_0x5c270b[_0x4041dc(0x633)])||0x0)*_0x52ba1f;},0x0),_0x76d572=_0x4040cf;if(_0x470113==_0x4e86c9(0x633)){const _0x1c7546=parseFloat(_0x4e35f2['setCantidad'])||0x0;_0x76d572=_0x4040cf-_0x1c7546*_0x3c3663+_0x4a1784*_0x3c3663;}console['log'](_0x4e86c9(0x2f0),{'masterId':_0x30118a,'stock':_0x7bd596,'totalExistingBase':_0x4040cf,'oldFactor':_0x3c3663,'oldCantidad':_0x4e35f2[_0x4e86c9(0x633)],'new_value':_0x4a1784,'totalInBase':_0x76d572});if(_0x470113=='setCantidad'&&_0x76d572>_0x7bd596){let _0x6e35eb=_0x19ae94[_0x4e86c9(0x710)]((_0x1af43b,_0x2dea9f,_0x22d498)=>{const _0x3c0155=_0x4e86c9;if(_0x22d498===_0x4c14e2)return _0x1af43b;const _0x4333c7=products[_0x3c0155(0x2b5)](_0x411984=>_0x411984['id']==_0x2dea9f[_0x3c0155(0x3f6)]);if(!_0x4333c7||_0x4333c7[_0x3c0155(0x3f6)]!=_0x30118a)return _0x1af43b;const _0x45a0fc=parseFloat(_0x4333c7['setConversionFactor'])||0x1;return _0x1af43b+(parseFloat(_0x2dea9f[_0x3c0155(0x633)])||0x0)*_0x45a0fc;},0x0);const _0x160cca=Math[_0x4e86c9(0x4a0)](_0x7bd596-_0x6e35eb,0x0),_0x29fa94=_0x160cca/_0x3c3663;console[_0x4e86c9(0x4bd)](_0x4e86c9(0x7c1),{'availableInBase':_0x160cca,'maxQty':_0x29fa94}),ntfShow(_0x4e86c9(0x52f)+_0x160cca[_0x4e86c9(0x718)](0x0)+_0x4e86c9(0x3cb)+('(equiv.\x20'+_0x29fa94[_0x4e86c9(0x718)](0x2)+_0x4e86c9(0x529))+_0x4e86c9(0x611)),_0x4a1784=_0x29fa94;}if(_0x7bd596<=0x0){ntfShow(_0x4e86c9(0x689));return;}}}if(_0x470113==_0x4e86c9(0x259)){_0x19ae94[_0x4c14e2]['setTaxId']=_0x4a1784;const _0x4b9e0=_0x4a1784,_0x5e1894=myCompany[_0x4e86c9(0x454)][_0x4e86c9(0x2b5)](_0x20c2e6=>_0x20c2e6['setTaxId']==_0x4b9e0),_0x461e73=_0x5e1894?_0x5e1894['setImpuestoCode']:'',_0x5ab88c=_0x5e1894?_0x5e1894[_0x4e86c9(0x5b8)]:'';_0x19ae94[_0x4c14e2][_0x4e86c9(0x259)]=_0x461e73,_0x19ae94[_0x4c14e2][_0x4e86c9(0x349)]=_0x5ab88c;}else{if(_0x470113==_0x4e86c9(0x386))_0x19ae94[_0x4c14e2][_0x4e86c9(0x386)]=_0x19ae94[_0x4c14e2][_0x4e86c9(0x386)]?0x0:0x1;else _0x470113==_0x4e86c9(0x666)?(_0x19ae94[_0x4c14e2][_0x4e86c9(0x6ee)]['setCodTipo']='00',_0x19ae94[_0x4c14e2][_0x4e86c9(0x6ee)][_0x4e86c9(0x666)]=_0x4a1784):_0x19ae94[_0x4c14e2][_0x470113]=_0x4a1784;}if(_0x470113==_0x4e86c9(0x640)){const _0x96b007=myCompany[_0x4e86c9(0x328)]['find'](_0x48cd59=>_0x48cd59[_0x4e86c9(0x640)]==_0x4a1784);_0x19ae94[_0x4c14e2]['setAccountingAccountCode']=_0x96b007?_0x96b007[_0x4e86c9(0x251)]:'',_0x19ae94[_0x4c14e2][_0x4e86c9(0x764)]=_0x96b007?_0x96b007[_0x4e86c9(0x764)]:'',_0x19ae94[_0x4c14e2]['setAccountingAccountType']=_0x96b007?_0x96b007[_0x4e86c9(0x79a)]:'';}_0x470113==_0x4e86c9(0x694)&&(_0x19ae94[_0x4c14e2][_0x4e86c9(0x390)]=0x0);_0x470113==_0x4e86c9(0x767)&&(_0x19ae94[_0x4c14e2][_0x4e86c9(0x75b)]=0x0);let _0x4a0011;if(setTipOpeOrders[_0x4e86c9(0x3f2)](_0x19e0f9=>_0x19e0f9==window_options[_0x4cccfe][_0x4e86c9(0x3b3)])||setTipOpeSales[_0x4e86c9(0x3f2)](_0x108294=>_0x108294==window_options[_0x4cccfe][_0x4e86c9(0x3b3)])||setTipOpeQuotation['some'](_0x4fbdaf=>_0x4fbdaf==window_options[_0x4cccfe][_0x4e86c9(0x3b3)])){_0x4a0011=0x2;if(_0x470113==_0x4e86c9(0x633)){const _0x4d759c=document[_0x4e86c9(0x32b)](_0x4e86c9(0x35e)+_0x4cccfe)[_0x4e86c9(0x4be)],_0x13522b=products[_0x4e86c9(0x2b5)](_0x24f9db=>_0x24f9db['id']==_0x19ae94[_0x4c14e2]['setIdProducto']),_0x4025db=_0x13522b[_0x4e86c9(0x3e3)][_0x4e86c9(0x2b5)](_0x583659=>_0x583659['currency']==_0x4d759c)||{},_0x5d98fe=_0x4025db[_0x4e86c9(0x500)]||0x0,_0x3060ef=_0x4025db[_0x4e86c9(0x3da)]||[],_0x1f414c=_0x19ae94[_0x4c14e2][_0x4e86c9(0x633)],_0x45f93d=_0x3060ef[_0x4e86c9(0x46d)](_0x1a2387=>_0x1a2387[_0x4e86c9(0x419)]==0x2),_0x3cabf1=_0x45f93d[_0x4e86c9(0x2b5)](_0x31da7d=>_0x1f414c>=_0x31da7d[_0x4e86c9(0x434)]&&_0x1f414c<=_0x31da7d[_0x4e86c9(0x2fd)]);if(_0x45f93d[_0x4e86c9(0x4e9)]>0x0){let _0x30d491;_0x3cabf1?_0x30d491=calcFinalPrice(_0x5d98fe,_0x3cabf1['setPriceListAdjustmentType'],_0x3cabf1[_0x4e86c9(0x463)]):_0x30d491=_0x5d98fe,_0x19ae94[_0x4c14e2][_0x4e86c9(0x694)]=_0x30d491,_0x19ae94[_0x4c14e2]['setMtoValorUnitario_input']=0x0;}}}else _0x4a0011=0x1;_0x4a0011==0x1?_0x19ae94[_0x4c14e2][_0x4e86c9(0x430)]=_0x19ae94[_0x4c14e2]['setMtoPrecioCostoUnitario_input']:_0x19ae94[_0x4c14e2][_0x4e86c9(0x430)]=_0x19ae94[_0x4c14e2][_0x4e86c9(0x694)];const _0xf101ac=[{'valorUnit':0x0,'precioUnit':_0x19ae94[_0x4c14e2][_0x4e86c9(0x430)],'valorCantidad':_0x19ae94[_0x4c14e2]['setCantidad'],'valorPorcentajeIgv':_0x19ae94[_0x4c14e2]['setPorcentajeIgv'],'setTipAfeIgv':_0x19ae94[_0x4c14e2][_0x4e86c9(0x259)],'setDescuento':{'setCodTipo':_0x19ae94[_0x4c14e2]['setDescuento']['setCodTipo'],'setPorcentajeDesc':_0x19ae94[_0x4c14e2][_0x4e86c9(0x6ee)][_0x4e86c9(0x666)]}}],{setInvoiceDetails:_0x3e7d35}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x4e86c9(0x454)][_0x4e86c9(0x2b5)](_0x565d72=>_0x565d72['setTaxId']==_0x19ae94[_0x4c14e2][_0x4e86c9(0x42b)])[_0x4e86c9(0x5b8)],'items':_0xf101ac,'descuentoGlobalMonto':0x0}),_0x15ffd3=_0x3e7d35[0x0];_0x19ae94[_0x4c14e2]['setMtoValorUnitario']=_0x15ffd3[_0x4e86c9(0x466)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x619)]=_0x15ffd3['setMtoValorGratuito'],_0x19ae94[_0x4c14e2][_0x4e86c9(0x78a)]=_0x15ffd3[_0x4e86c9(0x78a)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x3f4)]=_0x15ffd3['setMtoBaseIgv'],_0x19ae94[_0x4c14e2][_0x4e86c9(0x349)]=_0x15ffd3['setPorcentajeIgv'],_0x19ae94[_0x4c14e2][_0x4e86c9(0x6b0)]=_0x15ffd3['setIgv'],_0x19ae94[_0x4c14e2]['setTipAfeIgv']=_0x15ffd3[_0x4e86c9(0x259)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x557)]=_0x15ffd3[_0x4e86c9(0x557)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x500)]=_0x15ffd3[_0x4e86c9(0x500)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x430)]=_0x15ffd3[_0x4e86c9(0x430)],_0x19ae94[_0x4c14e2]['setMtoValorUnitario_final']=_0x15ffd3['setMtoValorUnitario_final'],_0x19ae94[_0x4c14e2]['setMtoPrecioUnitario_input']=_0x4a0011==0x1?_0x19ae94[_0x4c14e2][_0x4e86c9(0x694)]:_0x15ffd3[_0x4e86c9(0x430)],_0x19ae94[_0x4c14e2]['setMtoPrecioCostoUnitario_input']=_0x4a0011==0x1?_0x15ffd3[_0x4e86c9(0x430)]:_0x19ae94[_0x4c14e2][_0x4e86c9(0x767)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x390)]=_0x4a0011==0x1?_0x19ae94[_0x4c14e2]['setMtoValorUnitario_input']:_0x15ffd3[_0x4e86c9(0x54e)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x75b)]=_0x4a0011==0x1?_0x15ffd3[_0x4e86c9(0x54e)]:_0x19ae94[_0x4c14e2][_0x4e86c9(0x75b)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x540)]=_0x15ffd3[_0x4e86c9(0x540)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x6c5)]=_0x15ffd3[_0x4e86c9(0x6c5)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x4a3)]=_0x15ffd3[_0x4e86c9(0x4a3)],_0x19ae94[_0x4c14e2][_0x4e86c9(0x3cd)]=_0x15ffd3[_0x4e86c9(0x3cd)],_0x19ae94[_0x4c14e2]['setDescuento_setMonto_precio']=_0x15ffd3[_0x4e86c9(0x42f)],_0x19ae94[_0x4c14e2]['setPorcentajeDesc']=_0x15ffd3[_0x4e86c9(0x666)],_0x19ae94[_0x4c14e2]['setTotal']=_0x15ffd3[_0x4e86c9(0x52d)],saveCart(_0x4cccfe)[_0x4e86c9(0x3ea)](()=>{const _0x261765=_0x4e86c9;renderCart(_0x4cccfe),console['log'](_0x261765(0x5f6)+_0x4cccfe);})['catch'](_0x2806bd=>{const _0x5d0f37=_0x4e86c9;console['error'](_0x5d0f37(0x272),_0x2806bd);});}async function saveCart(_0x210765){return new Promise((_0x2f3d59,_0x2fefbe)=>{const _0x4ff88a=_0xcdf0;try{const _0x3cf70b=carts[_0x210765]||[],_0x1fb5c0='cart_'+_0x210765;if(_0x3cf70b['length']===0x0){const _0x4d6fb6=db[_0x4ff88a(0x626)]([_0x1fb5c0],_0x4ff88a(0x3e8)),_0x849a99=_0x4d6fb6[_0x4ff88a(0x253)](_0x1fb5c0),_0x4c44a0=_0x849a99[_0x4ff88a(0x4fe)]();_0x4c44a0['onsuccess']=async()=>{const _0x2b2deb=_0x4ff88a,_0x499c85=myCompany[_0x2b2deb(0x6e1)]['find'](_0x429d75=>_0x429d75[_0x2b2deb(0x708)]==_0x210765);_0x499c85['setUserId']=myCompany['setUser_Local'][_0x2b2deb(0x7c8)],_0x499c85[_0x2b2deb(0x580)]=[],_0x499c85[_0x2b2deb(0x48d)]=nowWithMillisecondsForServer();try{const _0x53c53f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x53c53f),apiERPsyncWindowsCartTmp(),_0x2f3d59();}catch(_0x5dcab8){console[_0x2b2deb(0x769)](_0x2b2deb(0x5b1),_0x5dcab8),_0x2fefbe(_0x5dcab8);}},_0x4c44a0[_0x4ff88a(0x3c8)]=_0x4afeb2=>{const _0x2d7534=_0x4ff88a;console[_0x2d7534(0x769)](_0x2d7534(0x5f5),_0x4afeb2[_0x2d7534(0x657)]['error']),_0x2fefbe(_0x4afeb2[_0x2d7534(0x657)]['error']);},_0x4d6fb6['onerror']=_0xc1b5f6=>{const _0x5d434d=_0x4ff88a;console[_0x5d434d(0x769)](_0x5d434d(0x22d),_0xc1b5f6['target'][_0x5d434d(0x769)]),_0x2fefbe(_0xc1b5f6[_0x5d434d(0x657)][_0x5d434d(0x769)]);};return;}const _0x46ee3c=db[_0x4ff88a(0x626)]([_0x1fb5c0],'readwrite'),_0x40312e=_0x46ee3c[_0x4ff88a(0x253)](_0x1fb5c0);let _0x1f4d2f=0x0;_0x3cf70b[_0x4ff88a(0x1fa)]((_0x53ae03,_0x55a272)=>{const _0x5a7f1e=_0x4ff88a,_0xb73ec6=_0x40312e[_0x5a7f1e(0x563)](_0x5a7f1e(0x480)),_0x3d7af9=_0xb73ec6['get'](_0x53ae03[_0x5a7f1e(0x480)]);_0x3d7af9[_0x5a7f1e(0x235)]=async()=>{const _0x45f401=_0x5a7f1e;if(_0x3d7af9[_0x45f401(0x2fa)]){const _0xa361e={..._0x3d7af9[_0x45f401(0x2fa)],..._0x53ae03},_0x3d405c=_0x40312e[_0x45f401(0x6cc)](_0xa361e);_0x3d405c[_0x45f401(0x235)]=async()=>{const _0x30fa19=_0x45f401;_0x3cf70b[_0x55a272]['id']=_0xa361e['id'],_0x1f4d2f++;if(_0x1f4d2f==_0x3cf70b[_0x30fa19(0x4e9)]){const _0x42cd06=myCompany[_0x30fa19(0x6e1)][_0x30fa19(0x2b5)](_0x52beb0=>_0x52beb0['setWindowId']==_0x210765);_0x42cd06[_0x30fa19(0x7c8)]=myCompany['setUser_Local']['setUserId'],_0x42cd06[_0x30fa19(0x580)]=_0x3cf70b,_0x42cd06[_0x30fa19(0x48d)]=nowWithMillisecondsForServer();const _0x17e6a2=await createCartStore('');await saveCompanyToIndexedDB(company,_0x17e6a2),apiERPsyncWindowsCartTmp(),_0x2f3d59();}};}else{const _0x5ee02d=_0x40312e['add'](_0x53ae03);_0x5ee02d[_0x45f401(0x235)]=async _0x4f7fed=>{const _0x560dd3=_0x45f401,_0x51b9e9=_0x4f7fed[_0x560dd3(0x657)]['result'];_0x3cf70b[_0x55a272]['id']=_0x51b9e9,_0x1f4d2f++;if(_0x1f4d2f==_0x3cf70b['length']){const _0x18ed60=myCompany[_0x560dd3(0x6e1)][_0x560dd3(0x2b5)](_0x28dd05=>_0x28dd05['setWindowId']==_0x210765);_0x18ed60[_0x560dd3(0x7c8)]=myCompany['setUser_Local'][_0x560dd3(0x7c8)],_0x18ed60[_0x560dd3(0x580)]=_0x3cf70b,_0x18ed60[_0x560dd3(0x48d)]=nowWithMillisecondsForServer();const _0x9bf04f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x9bf04f),apiERPsyncWindowsCartTmp(),_0x2f3d59();}};}},_0x3d7af9[_0x5a7f1e(0x3c8)]=_0x3583d1=>{const _0x28ad31=_0x5a7f1e;console[_0x28ad31(0x769)]('Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20'+_0x53ae03[_0x28ad31(0x3f6)]+':',_0x3583d1[_0x28ad31(0x657)][_0x28ad31(0x769)]),_0x2fefbe(_0x3583d1[_0x28ad31(0x657)]['error']);};}),_0x46ee3c[_0x4ff88a(0x538)]=function(){const _0x4ae570=_0x4ff88a;console[_0x4ae570(0x4bd)]('Carrito\x20guardado:\x20'+_0x210765,_0x3cf70b);},_0x46ee3c[_0x4ff88a(0x3c8)]=function(_0x5a34b7){const _0x41ec77=_0x4ff88a;console[_0x41ec77(0x769)](_0x41ec77(0x447),_0x5a34b7[_0x41ec77(0x657)][_0x41ec77(0x769)]),_0x2fefbe(_0x5a34b7[_0x41ec77(0x657)]['error']);};}catch(_0x1fbf09){_0x2fefbe(_0x1fbf09);}});}async function removeFromCart(_0x2c6f95,_0x26e5ed,_0x17a87e=''){const _0x138325=_0x10508b,_0x4f3162=carts[_0x2c6f95],_0x29906f=_0x4f3162[_0x26e5ed];if(_0x17a87e!=''){const _0x2942cf=_0x29906f['setWindowShiftId'],_0x17523e=myCompany[_0x138325(0x6e1)][_0x138325(0x2b5)](_0x143339=>_0x143339[_0x138325(0x708)]==_0x2c6f95);if(_0x17523e&&_0x17523e['setShifts']){const _0x5c3eed=_0x17523e[_0x138325(0x784)]['find'](_0x4d2ae5=>_0x4d2ae5[_0x138325(0x34b)]==_0x2942cf);if(_0x5c3eed&&_0x5c3eed[_0x138325(0x616)]){const _0x5386bc=_0x5c3eed[_0x138325(0x616)][_0x138325(0x26a)](_0x15f6b8=>_0x15f6b8[_0x138325(0x2ce)]==_0x17a87e);if(_0x5386bc!==-0x1){const _0x1bf7cf=_0x5c3eed[_0x138325(0x616)][_0x5386bc];if(_0x1bf7cf['setProductos']&&Array[_0x138325(0x643)](_0x1bf7cf[_0x138325(0x1ec)])){const _0x2b1259=_0x1bf7cf[_0x138325(0x1ec)][_0x138325(0x4e9)];_0x1bf7cf[_0x138325(0x1ec)]=_0x1bf7cf[_0x138325(0x1ec)][_0x138325(0x46d)](_0x3cc4a2=>_0x3cc4a2['cartId']!=_0x29906f[_0x138325(0x480)]);if(_0x1bf7cf[_0x138325(0x1ec)]['length']<_0x2b1259){const _0x3319fd=_0x1bf7cf['setProductos']['map'](_0x10c9f1=>({'valorUnit':_0x10c9f1[_0x138325(0x54e)],'precioUnit':_0x10c9f1[_0x138325(0x430)],'valorCantidad':_0x10c9f1[_0x138325(0x633)],'valorPorcentajeIgv':_0x10c9f1[_0x138325(0x349)],'setTipAfeIgv':_0x10c9f1['setTipAfeIgv'],'setDescuento':{'setCodTipo':_0x10c9f1[_0x138325(0x6ee)]?.['setCodTipo']||'00','setPorcentajeDesc':_0x10c9f1[_0x138325(0x6ee)]?.[_0x138325(0x666)]||0x0}})),_0x497f79=_0x1bf7cf[_0x138325(0x1e3)]||0x0,{setInvoice:_0x5c3a36}=procesarProductos({'setPorcentajeGeneralIgv':myCompany['setImpuestos']['find'](_0x323b0e=>_0x323b0e['setTaxId']==myCompany['setTaxIdDefault'])?.['setImpuestoValue'],'items':_0x3319fd,'descuentoGlobalMonto':_0x497f79});_0x1bf7cf['setAttachEdit']='2',_0x1bf7cf[_0x138325(0x310)]=new Date()[_0x138325(0x690)](),Object[_0x138325(0x5c3)](_0x1bf7cf,_0x5c3a36),await storeOfflineOperation(_0x1bf7cf,0x1);_0x1bf7cf[_0x138325(0x1ec)][_0x138325(0x4e9)]===0x0&&(_0x5c3eed['setOrders']['splice'](_0x5386bc,0x1),console['log']('Order\x20removed\x20because\x20no\x20products\x20remained.'));_0x17523e[_0x138325(0x2fe)]=nowWithMillisecondsForServer();const _0x2b7ee5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2b7ee5),apiERPsync(),console['log'](_0x138325(0x5a6));}else console[_0x138325(0x21d)]('Product\x20not\x20found.');}else console[_0x138325(0x21d)](_0x138325(0x3e4));}else console['warn'](_0x138325(0x541));}else console[_0x138325(0x21d)](_0x138325(0x237));}else console['warn'](_0x138325(0x6f3));}_0x4f3162[_0x138325(0x5d2)](_0x26e5ed,0x1);const _0x5e8375=_0x138325(0x233)+_0x2c6f95,_0x2916ef=db[_0x138325(0x626)]([_0x5e8375],_0x138325(0x3e8)),_0x5d5c49=_0x2916ef[_0x138325(0x253)](_0x5e8375);_0x5d5c49[_0x138325(0x266)](_0x29906f['id']),_0x2916ef[_0x138325(0x538)]=function(){const _0x41277b=_0x138325;console['log'](_0x41277b(0x26d)),saveCart(_0x2c6f95)[_0x41277b(0x3ea)](()=>{const _0x193894=_0x41277b;renderCart(_0x2c6f95),console[_0x193894(0x4bd)](_0x193894(0x5f6)+_0x2c6f95);})['catch'](_0x386df0=>{const _0x1852db=_0x41277b;console[_0x1852db(0x769)](_0x1852db(0x272),_0x386df0);});},_0x2916ef[_0x138325(0x3c8)]=function(_0x362f16){const _0x459ecb=_0x138325;console['error']('Error\x20al\x20eliminar\x20producto:',_0x362f16['target'][_0x459ecb(0x769)]);};}function removeAllFromCart(_0xcf07b0,_0x1caf3d=0x0){return new Promise((_0xc08eed,_0x344a13)=>{const _0x5c617c=_0xcdf0;let _0x1d4045;_0x1caf3d==0x1?_0x1d4045=carts[_0xcf07b0]['filter'](_0x50c05c=>_0x50c05c['setChecked']==0x1):_0x1d4045=getFilteredCart(_0xcf07b0);const _0x32befb=_0x5c617c(0x233)+_0xcf07b0,_0x431c4c=db[_0x5c617c(0x626)]([_0x32befb],_0x5c617c(0x3e8)),_0x2013ec=_0x431c4c[_0x5c617c(0x253)](_0x32befb);_0x1d4045[_0x5c617c(0x1fa)](_0x71c4b2=>{const _0x12ca9c=_0x5c617c;_0x2013ec[_0x12ca9c(0x266)](_0x71c4b2['id']);}),_0x431c4c[_0x5c617c(0x538)]=function(){const _0x26d9c1=_0x5c617c;carts[_0xcf07b0]=carts[_0xcf07b0][_0x26d9c1(0x46d)](_0x14fef6=>!_0x1d4045[_0x26d9c1(0x3f2)](_0x26e5f9=>_0x26e5f9[_0x26d9c1(0x480)]==_0x14fef6['cartId'])),saveCart(_0xcf07b0)[_0x26d9c1(0x3ea)](()=>{const _0x41c15f=_0x26d9c1;renderCart(_0xcf07b0),console[_0x41c15f(0x4bd)](_0x41c15f(0x5f6)+_0xcf07b0);})[_0x26d9c1(0x209)](_0x4fc747=>{const _0x414de6=_0x26d9c1;console[_0x414de6(0x769)](_0x414de6(0x272),_0x4fc747);}),_0xc08eed();},_0x431c4c[_0x5c617c(0x3c8)]=function(_0xddf6c7){const _0x48d27e=_0x5c617c;console[_0x48d27e(0x769)](_0x48d27e(0x2b1),_0xddf6c7[_0x48d27e(0x657)][_0x48d27e(0x769)]),_0x344a13(_0xddf6c7[_0x48d27e(0x657)][_0x48d27e(0x769)]);};});}function saveWindowOptionsDB(_0x5a6ed1){const _0x1beae0=_0x10508b;return createCartStore('')['then'](_0x48c8e9=>{const _0x4cfafa=_0xcdf0,_0x38791b=window_options[_0x5a6ed1],_0x3e5c26=_0x4cfafa(0x289)+_0x5a6ed1,_0x268c2e=_0x48c8e9[_0x4cfafa(0x626)]([_0x3e5c26],'readwrite'),_0x32aa36=_0x268c2e['objectStore'](_0x3e5c26);return _0x32aa36[_0x4cfafa(0x6cc)]({'id':_0x5a6ed1,..._0x38791b}),new Promise((_0x3ab5ab,_0x14f23b)=>{const _0x86cbcd=_0x4cfafa;_0x268c2e[_0x86cbcd(0x538)]=function(){const _0x5d27e3=_0x86cbcd;console[_0x5d27e3(0x4bd)](_0x5d27e3(0x3be)+_0x5a6ed1+_0x5d27e3(0x703)),_0x3ab5ab(_0x5a6ed1);},_0x268c2e[_0x86cbcd(0x3c8)]=function(_0x39f949){const _0x319972=_0x86cbcd;console[_0x319972(0x769)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.',_0x39f949[_0x319972(0x657)][_0x319972(0x769)]),_0x14f23b(_0x39f949[_0x319972(0x657)][_0x319972(0x769)]);};});})[_0x1beae0(0x3ea)](_0x2574c2=>{return renderWindowOptions(_0x2574c2),_0x2574c2;})[_0x1beae0(0x209)](_0x45ad67=>{const _0x16f2b5=_0x1beae0;console[_0x16f2b5(0x769)](_0x16f2b5(0x78b),_0x45ad67);throw _0x45ad67;});}function renderWindowOptions(_0x1fbd25){return new Promise(_0x4fd02b=>{const _0x1a2381=_0xcdf0;document[_0x1a2381(0x32b)](_0x1a2381(0x210)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25]['setTipoOperacionInvoice'],document[_0x1a2381(0x32b)]('setTipoOperacion-'+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x3b3)],document[_0x1a2381(0x32b)]('setSerie-'+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x2e5)],document[_0x1a2381(0x32b)]('setCorrelativo-'+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x352)],document[_0x1a2381(0x32b)](_0x1a2381(0x35e)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x44e)],document['getElementById'](_0x1a2381(0x1fc)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x461)],document['getElementById'](_0x1a2381(0x685)+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x746)]??'',document[_0x1a2381(0x32b)]('setClienteDenominacion-'+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x4b1)]??'',document[_0x1a2381(0x32b)](_0x1a2381(0x5ef)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x669)]??'',document[_0x1a2381(0x32b)](_0x1a2381(0x6cb)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x5b3)]??'',document[_0x1a2381(0x32b)](_0x1a2381(0x509)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25]['setCustomerEmail']??'',document['getElementById'](_0x1a2381(0x4c2)+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25]['setFechaHora'],document['getElementById'](_0x1a2381(0x74d)+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x76c)],document['getElementById']('setDespacho-'+_0x1fbd25)[_0x1a2381(0x4be)]=window_options[_0x1fbd25][_0x1a2381(0x62a)],document[_0x1a2381(0x32b)](_0x1a2381(0x3dc)+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x76e)]??'',document[_0x1a2381(0x32b)](_0x1a2381(0x54c)+_0x1fbd25)['value']=window_options[_0x1fbd25][_0x1a2381(0x230)],_0x4fd02b();});}async function updateWindowOption(_0x15b456,_0x2a4a16,_0x3585dd){const _0xd1895b=_0x10508b;if(_0x2a4a16==_0xd1895b(0x3c7)){const _0x39c5b5=document['getElementById'](_0xd1895b(0x6c6)+_0x15b456),_0x493984=_0x39c5b5[_0xd1895b(0x3c2)][_0x39c5b5[_0xd1895b(0x4cc)]][_0xd1895b(0x654)];window_options[_0x15b456][_0xd1895b(0x203)]=_0x493984;}if(_0x2a4a16=='setSellerId'){const _0x11fb42=document[_0xd1895b(0x32b)](_0xd1895b(0x74d)+_0x15b456),_0x3608ce=_0x11fb42[_0xd1895b(0x3c2)][_0x11fb42[_0xd1895b(0x4cc)]][_0xd1895b(0x654)];window_options[_0x15b456][_0xd1895b(0x27d)]=_0x3608ce;}_0x2a4a16==_0xd1895b(0x72f)&&(window_options[_0x15b456]['setFechaHoraReadonly']=0x1),_0x2a4a16=='setCorrelativo'&&(correlativeReadonly=0x1),_0x2a4a16==_0xd1895b(0x230)&&(_0x3585dd==0x1&&(correlativeReadonly=0x0)),window_options[_0x15b456][_0x2a4a16]=_0x3585dd,saveWindowOptionsDB(_0x15b456);}function showModal(){const _0x266b46=_0x10508b,_0x5ed114=document['getElementById'](_0x266b46(0x65c)),_0x3a4e14=document['getElementById'](_0x266b46(0x58d));_0x5ed114[_0x266b46(0x63f)][_0x266b46(0x5d9)]('active'),_0x3a4e14[_0x266b46(0x656)]['display']='block';const _0x2997bf=document['getElementById'](_0x266b46(0x59d)),_0x33aa3b=document[_0x266b46(0x32b)](_0x266b46(0x706));if(!_0x2997bf||!_0x33aa3b){console['error'](_0x266b46(0x49c));return;}_0x2997bf[_0x266b46(0x756)](_0x2997bf['cloneNode'](!![])),_0x33aa3b[_0x266b46(0x756)](_0x33aa3b[_0x266b46(0x426)](!![]));const _0x478540=document['getElementById'](_0x266b46(0x59d)),_0x52aa53=document['getElementById'](_0x266b46(0x706));_0x478540[_0x266b46(0x26b)]('click',()=>hideModal()),_0x52aa53[_0x266b46(0x26b)](_0x266b46(0x3a7),()=>hideModal());}function hideModal(){const _0x118213=_0x10508b,_0x27ea7e=document['getElementById'](_0x118213(0x65c)),_0xfe946a=document[_0x118213(0x32b)](_0x118213(0x58d));_0x27ea7e[_0x118213(0x63f)][_0x118213(0x625)]('active'),_0xfe946a[_0x118213(0x656)]['display']=_0x118213(0x585);}document[_0x10508b(0x32b)](_0x10508b(0x58d))[_0x10508b(0x26b)](_0x10508b(0x3a7),_0x2ab8aa=>{const _0x3ebed1=_0x10508b;_0x2ab8aa[_0x3ebed1(0x657)]==_0x2ab8aa['currentTarget']&&_0x2ab8aa[_0x3ebed1(0x417)]();});function showModalPay(){const _0x46b2cf=_0x10508b,_0x15371c=document[_0x46b2cf(0x32b)]('detalleModalPay'),_0x2b3153=document[_0x46b2cf(0x32b)]('modalOverlayPay');_0x15371c['classList'][_0x46b2cf(0x5d9)](_0x46b2cf(0x608)),_0x2b3153['style'][_0x46b2cf(0x662)]=_0x46b2cf(0x4de);}function hideModalPay(){const _0x1f4dec=_0x10508b,_0x5f4838=document[_0x1f4dec(0x32b)](_0x1f4dec(0x618)),_0x3e394f=document[_0x1f4dec(0x32b)](_0x1f4dec(0x274));_0x5f4838[_0x1f4dec(0x63f)]['remove'](_0x1f4dec(0x608)),_0x3e394f['style'][_0x1f4dec(0x662)]=_0x1f4dec(0x585);}document[_0x10508b(0x32b)](_0x10508b(0x5a5))[_0x10508b(0x26b)](_0x10508b(0x3a7),hideModalPay),document[_0x10508b(0x32b)](_0x10508b(0x274))['addEventListener'](_0x10508b(0x3a7),_0x17a7ea=>{const _0x490fb7=_0x10508b;_0x17a7ea[_0x490fb7(0x657)]==_0x17a7ea[_0x490fb7(0x4c9)]&&_0x17a7ea[_0x490fb7(0x417)]();});async function showModalLayout(){const _0x2ebe4a=_0x10508b;showLoadingModal();const _0x9bc569=document[_0x2ebe4a(0x32b)](_0x2ebe4a(0x620))[_0x2ebe4a(0x4be)],_0x1f3633=myCompany[_0x2ebe4a(0x59b)],_0x476253=_0x1f3633['find'](_0xa24661=>_0xa24661[_0x2ebe4a(0x620)]==_0x9bc569&&_0xa24661[_0x2ebe4a(0x3d6)]==0x2),_0x2bff4d=getUserPermissionApiERP(0xd),_0x50d776=_0x476253?0x1:0x0;if(_0x50d776==0x1&&_0x2bff4d==0x1){const _0x215029=myCompany[_0x2ebe4a(0x6e1)];let _0x5f1aed=[];const _0xae8d01=_0x476253['setServerRoot'][_0x2ebe4a(0x5b9)](_0x2ebe4a(0x4f2),_0x2ebe4a(0x644));await new Promise((_0x297dfe,_0x249984)=>{const _0x406379=_0x2ebe4a,_0x3795ef=document['createElement'](_0x406379(0x32e));_0x3795ef[_0x406379(0x656)]['display']=_0x406379(0x585),_0x3795ef[_0x406379(0x403)]=_0xae8d01,document[_0x406379(0x29c)][_0x406379(0x2a1)](_0x3795ef);const _0x16618f=setTimeout(()=>{const _0x559ae5=_0x406379;hideLoadingModal(),window[_0x559ae5(0x78f)](_0x559ae5(0x301),_0x42f1cd),document[_0x559ae5(0x29c)][_0x559ae5(0x316)](_0x3795ef),_0x249984(_0x559ae5(0x751));},0xbb8),_0x42f1cd=function(_0x2035e9){const _0x33152d=_0x406379,_0x4d7ca2=_0x2035e9[_0x33152d(0x548)];if(!Array[_0x33152d(0x643)](_0x4d7ca2)){hideLoadingModal(),console[_0x33152d(0x769)]('Array\x20Windows\x20Error.'),clearTimeout(_0x16618f),window[_0x33152d(0x78f)]('message',_0x42f1cd),document[_0x33152d(0x29c)]['removeChild'](_0x3795ef),_0x249984(_0x33152d(0x766));return;}_0x5f1aed=_0x4d7ca2[_0x33152d(0x46d)](_0x4ca837=>!_0x215029[_0x33152d(0x3f2)](_0x290a7a=>_0x290a7a[_0x33152d(0x708)]==_0x4ca837[_0x33152d(0x708)])),myCompany[_0x33152d(0x6e1)]=_0x4d7ca2,((async()=>{const _0x1860c8=_0x33152d,_0x2d5d32=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2d5d32);for(const _0x4c2910 of _0x5f1aed){await new Promise(_0x5ea848=>setTimeout(_0x5ea848,0x12c)),await createCartStore(_0x4c2910[_0x1860c8(0x708)]);}console[_0x1860c8(0x4bd)](_0x1860c8(0x2f9)),clearTimeout(_0x16618f),window['removeEventListener'](_0x1860c8(0x301),_0x42f1cd),document[_0x1860c8(0x29c)][_0x1860c8(0x316)](_0x3795ef),_0x297dfe();})());};window[_0x406379(0x26b)](_0x406379(0x301),_0x42f1cd,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x133119=document[_0x2ebe4a(0x32b)](_0x2ebe4a(0x632)),_0x2b23b9=document[_0x2ebe4a(0x32b)](_0x2ebe4a(0x4ca));_0x133119[_0x2ebe4a(0x63f)]['add'](_0x2ebe4a(0x608)),_0x2b23b9[_0x2ebe4a(0x656)][_0x2ebe4a(0x662)]='block';const _0x22230f=document[_0x2ebe4a(0x32b)](_0x2ebe4a(0x3a2))['value'],_0x4442ae=document['getElementById']('setBranchId')[_0x2ebe4a(0x4be)];cargarVentanas(_0x4442ae,_0x22230f),createTabsEnvironments();}function hideModalLayout(){const _0xa67c02=_0x10508b,_0x21c52c=document[_0xa67c02(0x32b)](_0xa67c02(0x632)),_0x2e6dba=document[_0xa67c02(0x32b)](_0xa67c02(0x4ca));_0x21c52c[_0xa67c02(0x63f)][_0xa67c02(0x625)](_0xa67c02(0x608)),_0x2e6dba['style'][_0xa67c02(0x662)]=_0xa67c02(0x585);}document['getElementById']('closeModalLayout')['addEventListener']('click',hideModalLayout),document['getElementById'](_0x10508b(0x4ca))[_0x10508b(0x26b)](_0x10508b(0x3a7),_0x9639d6=>{const _0xd0ee0a=_0x10508b;_0x9639d6['target']==_0x9639d6[_0xd0ee0a(0x4c9)]&&_0x9639d6[_0xd0ee0a(0x417)]();});function showModalOptions(){const _0x539c3f=_0x10508b,_0x115c81=document['getElementById'](_0x539c3f(0x3aa)),_0x4763da=document[_0x539c3f(0x32b)](_0x539c3f(0x220));_0x115c81[_0x539c3f(0x63f)]['add'](_0x539c3f(0x608)),_0x4763da[_0x539c3f(0x656)][_0x539c3f(0x662)]=_0x539c3f(0x4de);}function hideModalOptions(){const _0x334ada=_0x10508b,_0x43d8e9=document[_0x334ada(0x32b)](_0x334ada(0x3aa)),_0x391fb5=document['getElementById'](_0x334ada(0x220));_0x43d8e9[_0x334ada(0x63f)]['remove']('active'),_0x391fb5[_0x334ada(0x656)][_0x334ada(0x662)]='none';}document[_0x10508b(0x32b)](_0x10508b(0x220))[_0x10508b(0x26b)](_0x10508b(0x3a7),_0x586f96=>{const _0x467313=_0x10508b;_0x586f96[_0x467313(0x657)]==_0x586f96[_0x467313(0x4c9)]&&_0x586f96[_0x467313(0x417)]();});function showSection(_0x549c0f,_0x493f3b=''){const _0x62848c=_0x10508b,_0x1bfd89=[_0x62848c(0x25a),'div_section_options',_0x62848c(0x7aa)];if(_0x549c0f==_0x62848c(0x7aa)){setDivTotalPay(_0x493f3b),showModalPay();return;}if(_0x549c0f=='div_section_options'){showModalOptions();return;}_0x1bfd89['forEach'](_0x37ce6b=>{const _0x53f866=_0x62848c,_0x20e7cb=document[_0x53f866(0x32b)](_0x37ce6b);_0x20e7cb?_0x37ce6b!==_0x53f866(0x7aa)&&_0x37ce6b!==_0x53f866(0x36a)&&_0x20e7cb[_0x53f866(0x63f)]['toggle'](_0x53f866(0x46c),_0x37ce6b!==_0x549c0f):console[_0x53f866(0x21d)](_0x53f866(0x5ac)+_0x37ce6b+_0x53f866(0x5e3));});}function optionsPdf(_0x3e46f0){const _0x5a0bfd=_0x10508b,_0x271a98=document[_0x5a0bfd(0x32b)](_0x5a0bfd(0x3c4)),_0x8cc195=document['getElementById']('btnArchivosContables'),_0x45e81a=document[_0x5a0bfd(0x32b)](_0x5a0bfd(0x601)),_0x50a63e=document[_0x5a0bfd(0x32b)](_0x5a0bfd(0x4ed)),_0x4d717d=document[_0x5a0bfd(0x32b)](_0x5a0bfd(0x738)),_0x368dd0=document['getElementById']('opciones');if(_0x3e46f0==0x1)_0x271a98['classList'][_0x5a0bfd(0x625)]('btnModal'),_0x271a98[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46f)),_0x8cc195['classList']['remove']('btnModalActive'),_0x8cc195[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x536)),_0x45e81a[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)]('btnModalActive'),_0x45e81a[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)]('btnModal'),_0x50a63e[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)](_0x5a0bfd(0x46c)),_0x4d717d[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46c)),_0x368dd0['classList'][_0x5a0bfd(0x5d9)]('hidden');else _0x3e46f0==0x2?(_0x271a98[_0x5a0bfd(0x63f)]['remove'](_0x5a0bfd(0x46f)),_0x271a98[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x536)),_0x8cc195[_0x5a0bfd(0x63f)]['remove'](_0x5a0bfd(0x536)),_0x8cc195[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46f)),_0x45e81a[_0x5a0bfd(0x63f)]['remove'](_0x5a0bfd(0x46f)),_0x45e81a['classList'][_0x5a0bfd(0x5d9)]('btnModal'),_0x50a63e['classList'][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46c)),_0x4d717d[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)](_0x5a0bfd(0x46c)),_0x368dd0[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46c))):(_0x271a98['classList'][_0x5a0bfd(0x625)]('btnModalActive'),_0x271a98[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)]('btnModal'),_0x8cc195[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)](_0x5a0bfd(0x46f)),_0x8cc195[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x536)),_0x45e81a[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)](_0x5a0bfd(0x536)),_0x45e81a[_0x5a0bfd(0x63f)][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46f)),_0x50a63e['classList'][_0x5a0bfd(0x5d9)](_0x5a0bfd(0x46c)),_0x4d717d[_0x5a0bfd(0x63f)]['add']('hidden'),_0x368dd0[_0x5a0bfd(0x63f)][_0x5a0bfd(0x625)]('hidden'));}function updateSerieOptionsAttach(_0x4da415,_0x54355d){const _0x3c7902=_0x10508b,_0x3ace57=document['getElementById'](_0x3c7902(0x74a)+_0x54355d);_0x3ace57['innerHTML']='';const _0x48853e=document[_0x3c7902(0x32b)]('setBranchId')[_0x3c7902(0x4be)],_0x4458bb=myCompany['setSeries']['filter'](_0x43fc1b=>_0x43fc1b[_0x3c7902(0x622)]==_0x4da415&&_0x43fc1b[_0x3c7902(0x63d)]==_0x48853e);_0x4458bb[_0x3c7902(0x1fa)](_0x21444d=>{const _0xf4a8d9=_0x3c7902;_0x3ace57[_0xf4a8d9(0x2a1)](createElement('option',{'value':_0x21444d[_0xf4a8d9(0x2e5)]},[_0x21444d[_0xf4a8d9(0x2e5)]]));}),_0x4458bb[_0x3c7902(0x4e9)]&&(_0x3ace57[_0x3c7902(0x4be)]=_0x4458bb[0x0]['setSerie']),window_options[_0x54355d][_0x3c7902(0x2ed)]=_0x4da415;}async function consultAttach(_0x2423ec){const _0x49c3a4=_0x10508b,_0x136149=document[_0x49c3a4(0x32b)](_0x49c3a4(0x6be)+_0x2423ec);if(!_0x136149){console[_0x49c3a4(0x769)](_0x49c3a4(0x29d));return;}const _0x234d73=document[_0x49c3a4(0x32b)](_0x49c3a4(0x54c)+_0x2423ec)['value'],_0x8abd0a=document['getElementById'](_0x49c3a4(0x5fa)+_0x2423ec)[_0x49c3a4(0x4be)],_0x4f41dc=document[_0x49c3a4(0x32b)](_0x49c3a4(0x74a)+_0x2423ec)[_0x49c3a4(0x4be)],_0x90f2b8=document['getElementById'](_0x49c3a4(0x278)+_0x2423ec)[_0x49c3a4(0x4be)];_0x136149['disabled']=!![],hideModalOptions(),showLoadingModal();try{const _0x408a3c=myCompany[_0x49c3a4(0x747)],_0x18b599={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x49c3a4(0x261)],'setAttachEdit':_0x234d73,'setAttachType':_0x8abd0a,'setAttachSeries':_0x4f41dc,'setAttachNumber':_0x90f2b8},_0x14a692=await fetch(_0x408a3c,{'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x18b599)}),_0x52689c=await _0x14a692[_0x49c3a4(0x236)]();if(_0x52689c[_0x49c3a4(0x65b)]&&_0x52689c[_0x49c3a4(0x301)]['setReceipt']){await removeAllFromCart(_0x2423ec);const _0x453c73=_0x52689c[_0x49c3a4(0x301)]['setReceipt'],_0x1347ff=_0x52689c[_0x49c3a4(0x301)][_0x49c3a4(0x455)];(_0x234d73==0x1||_0x234d73==0x2)&&(window_options[_0x2423ec][_0x49c3a4(0x3b3)]=_0x453c73[_0x49c3a4(0x5d4)],await updateSerieOptions(_0x453c73['setReceiptType'],_0x2423ec),window_options[_0x2423ec]['setSerie']=_0x453c73[_0x49c3a4(0x23b)],window_options[_0x2423ec][_0x49c3a4(0x352)]=_0x453c73['setReceiptNumber']);window_options[_0x2423ec]['setClienteTipoDoc']=_0x453c73['setReceiptClientDocType'],window_options[_0x2423ec][_0x49c3a4(0x746)]=_0x453c73[_0x49c3a4(0x2ae)],window_options[_0x2423ec][_0x49c3a4(0x4b1)]=_0x453c73[_0x49c3a4(0x2fc)],window_options[_0x2423ec][_0x49c3a4(0x669)]=_0x453c73[_0x49c3a4(0x569)],window_options[_0x2423ec][_0x49c3a4(0x44e)]=_0x453c73[_0x49c3a4(0x1f5)],window_options[_0x2423ec]['setObservacion']=_0x453c73[_0x49c3a4(0x343)];_0x8abd0a!=0x29&&(window_options[_0x2423ec][_0x49c3a4(0x62a)]=_0x453c73['setDispatchType'],document[_0x49c3a4(0x32b)](_0x49c3a4(0x256))[_0x49c3a4(0x4be)]=_0x453c73[_0x49c3a4(0x256)],document[_0x49c3a4(0x32b)]('setWarehouseId')[_0x49c3a4(0x22e)](new Event(_0x49c3a4(0x39b))));window_options[_0x2423ec]['setDescuentoGlobal_Monto']=_0x453c73[_0x49c3a4(0x58e)],window_options[_0x2423ec]['setReceiptAttachId']=_0x453c73[_0x49c3a4(0x321)],window_options[_0x2423ec]['setReceiptAttachArray']=_0x1347ff,await saveWindowOptionsDB(_0x2423ec);for(let _0x472de8=0x0;_0x472de8<_0x1347ff[_0x49c3a4(0x4e9)];_0x472de8++){const _0x5de316=_0x1347ff[_0x472de8],_0x3ab0ac=products[_0x49c3a4(0x2b5)](_0x368778=>_0x368778['id']==_0x5de316[_0x49c3a4(0x3f6)]);_0x3ab0ac&&(await new Promise(_0x3fdeb4=>setTimeout(_0x3fdeb4,0x64)),addToCart(_0x3ab0ac,{'setValorCantidad':_0x5de316[_0x49c3a4(0x4ac)],'setMtoPrecioUnitario_final':_0x5de316['setPrecioUnit'],'setTaxId':_0x5de316[_0x49c3a4(0x42b)],'setTipAfeIgv':_0x5de316['setTipAfeIgv'],'setPorcentajeDesc':_0x5de316[_0x49c3a4(0x666)],'setNotas':_0x5de316['setNotas'],'setMtoPrecioUnitario_input':_0x5de316[_0x49c3a4(0x2cc)],'setMtoPrecioCostoUnitario_input':_0x5de316[_0x49c3a4(0x71e)]},0x1,_0x2423ec));}if([0x2,0x3][_0x49c3a4(0x2dd)](parseInt(_0x234d73,0xa))){const _0x101b3d=document['getElementById'](_0x49c3a4(0x271)+_0x2423ec);_0x101b3d['innerHTML']='';const _0x44ab1d=document[_0x49c3a4(0x2bb)]('p');_0x44ab1d['id']=_0x49c3a4(0x50b)+_0x2423ec,_0x44ab1d[_0x49c3a4(0x511)]=_0x4f41dc+'-'+_0x90f2b8,Object['assign'](_0x44ab1d[_0x49c3a4(0x656)],{'display':'inline-flex','alignItems':_0x49c3a4(0x664),'backgroundColor':_0x49c3a4(0x4df),'color':_0x49c3a4(0x5ed),'padding':_0x49c3a4(0x4af),'borderRadius':_0x49c3a4(0x35b),'fontSize':_0x49c3a4(0x481),'fontWeight':'500','margin':_0x49c3a4(0x61c)});const _0x541bc6=document[_0x49c3a4(0x2bb)](_0x49c3a4(0x7ad));_0x541bc6[_0x49c3a4(0x511)]='✕',Object['assign'](_0x541bc6['style'],{'marginLeft':_0x49c3a4(0x76f),'background':'transparent','border':_0x49c3a4(0x585),'cursor':_0x49c3a4(0x587),'fontSize':_0x49c3a4(0x481),'lineHeight':'1','color':_0x49c3a4(0x265)}),_0x541bc6['setAttribute'](_0x49c3a4(0x596),'Desanexar\x20comprobante'),_0x541bc6['addEventListener'](_0x49c3a4(0x3a7),()=>{const _0x1288db=_0x49c3a4;window_options[_0x2423ec][_0x1288db(0x771)]='',window_options[_0x2423ec]['setReceiptAttachArray']=[],_0x101b3d[_0x1288db(0x258)]='',saveWindowOptionsDB(_0x2423ec);}),_0x44ab1d[_0x49c3a4(0x2a1)](_0x541bc6),_0x101b3d[_0x49c3a4(0x2a1)](_0x44ab1d);}}else ntfShow('No\x20se\x20encontraron\x20resultados'),console['log']('No\x20se\x20encontraron\x20resultados');}catch(_0x98a835){ntfShow('Error\x20en\x20la\x20solicitud'),console[_0x49c3a4(0x769)]('Error\x20en\x20la\x20solicitud:',_0x98a835);}finally{_0x136149[_0x49c3a4(0x5c5)]=![],hideLoadingModal();}}async function setPrintOnline(_0x5220ca,_0x4cdae6,_0x47e87f,_0x2d7a2a=0x0){const _0x120789=_0x10508b,_0x1db3d9=document[_0x120789(0x32b)]('setBranchId')['value'],_0x475c35=myCompany[_0x120789(0x59b)],_0x2e2346=_0x475c35[_0x120789(0x2b5)](_0x12140c=>_0x12140c[_0x120789(0x620)]==_0x1db3d9&&_0x12140c[_0x120789(0x3d6)]==0x1),_0xf6fe0a=getUserPermissionApiERP(0x6),_0x34ecaf=_0x2e2346?0x1:0x0;if(!_0x4cdae6){ntfShow(_0x120789(0x3b7));return;}_0x2d7a2a!=0x1&&hideModal();showLoadingModal();const _0x3715c4=document[_0x120789(0x32b)](_0x120789(0x6b7));_0x3715c4['innerHTML']=_0x120789(0x75d)+_0x5220ca+_0x120789(0x70a);if(_0x34ecaf==0x1&&_0xf6fe0a==0x1){const _0x12a778=_0x120789(0x5c8)+generateUUID(),_0x2ef33e=document[_0x120789(0x2bb)](_0x120789(0x32e));_0x2ef33e[_0x120789(0x533)]=_0x12a778,_0x2ef33e['style'][_0x120789(0x662)]=_0x120789(0x585),document[_0x120789(0x29c)][_0x120789(0x2a1)](_0x2ef33e);const _0x3cc196=document[_0x120789(0x2bb)](_0x120789(0x292));_0x3cc196[_0x120789(0x3ff)]=_0x120789(0x4c6),_0x3cc196[_0x120789(0x414)]=_0x2e2346[_0x120789(0x296)],_0x3cc196[_0x120789(0x363)]='multipart/form-data',_0x3cc196[_0x120789(0x657)]=_0x2ef33e['name'];const _0x3ec824={'printData':JSON[_0x120789(0x239)]({'setPrinterName':_0x5220ca,'setPdfName':_0x47e87f,'setPrint':0x1})};for(const _0x738458 in _0x3ec824){const _0x3497e4=document[_0x120789(0x2bb)](_0x120789(0x2a6));_0x3497e4['type']=_0x120789(0x46c),_0x3497e4[_0x120789(0x533)]=_0x738458,_0x3497e4[_0x120789(0x4be)]=_0x3ec824[_0x738458],_0x3cc196[_0x120789(0x2a1)](_0x3497e4);}const _0x3330e6=document['createElement'](_0x120789(0x2a6));_0x3330e6[_0x120789(0x226)]=_0x120789(0x61f),_0x3330e6[_0x120789(0x533)]=_0x120789(0x40c);const _0x238e92=new File([_0x4cdae6],_0x120789(0x531),{'type':_0x120789(0x2b9)}),_0x322b63=new DataTransfer();_0x322b63[_0x120789(0x577)][_0x120789(0x5d9)](_0x238e92),_0x3330e6[_0x120789(0x40e)]=_0x322b63[_0x120789(0x40e)],_0x3cc196[_0x120789(0x2a1)](_0x3330e6),document[_0x120789(0x29c)][_0x120789(0x2a1)](_0x3cc196),_0x3cc196[_0x120789(0x67d)](),document['body'][_0x120789(0x316)](_0x3cc196),await new Promise(_0x57d25b=>setTimeout(_0x57d25b,0x4b0)),setTimeout(()=>{const _0x2b1656=_0x120789;document[_0x2b1656(0x29c)][_0x2b1656(0x316)](_0x2ef33e);},0xaf0),hideLoadingModal(),_0x2d7a2a!=0x1&&showModal();}else{if(!isOnline())return console['log'](_0x120789(0x4fd)),null;const _0x5664a={'setAuthToken':myCompany['setAuthToken'],'setPrinterName':_0x5220ca,'setPdfName':_0x47e87f,'setBucketName':_0x120789(0x489),'setPrint':0x1},_0x5c27a9=new FormData();_0x5c27a9[_0x120789(0x4da)](_0x120789(0x1f1),JSON[_0x120789(0x239)](_0x5664a));if(_0x4cdae6 instanceof Blob&&_0x4cdae6['size']>0x0)_0x5c27a9[_0x120789(0x4da)]('pdfBlob',_0x4cdae6,_0x120789(0x531));else{console[_0x120789(0x769)](_0x120789(0x711));return;}try{const _0x2b7307=await fetch(_0x120789(0x610),{'method':_0x120789(0x4c6),'body':_0x5c27a9});if(!_0x2b7307['ok'])throw new Error(_0x120789(0x4d6)+_0x2b7307[_0x120789(0x674)]);const _0xa8e9b6=await _0x2b7307['json']();if(!_0xa8e9b6['success'])throw new Error(_0xa8e9b6[_0x120789(0x301)]||_0x120789(0x4ae));_0x3715c4[_0x120789(0x258)]=_0x120789(0x7bd);}catch(_0x336917){ntfShow(_0x336917);}finally{hideLoadingModal(),_0x2d7a2a!=0x1&&showModal();}}}async function processPrints(_0x9c344){const _0x1e72cf=_0x10508b;for(const _0x2b0a5c of _0x9c344){const {payloadComand:_0x3c61c1}=_0x2b0a5c,{pdfBlob:_0x3937ba,pdfName:_0x224c9d}=await generatePdf(_0x3c61c1,'tk',_0x1e72cf(0x250),'1.5'),_0x23544d=_0x224c9d[_0x1e72cf(0x5b9)](_0x1e72cf(0x655),'-'+_0x2b0a5c[_0x1e72cf(0x612)]+_0x1e72cf(0x655));await setPrintOnline(_0x2b0a5c['setPrinterName'],_0x3937ba,_0x23544d,0x1);}}function setPrinter(_0x22b7e5,_0x1bf80f){const _0x1812e2=_0x10508b;document[_0x1812e2(0x32b)](_0x1812e2(0x401))[_0x1812e2(0x511)]=_0x1bf80f,document[_0x1812e2(0x32b)](_0x1812e2(0x401))['setAttribute'](_0x1812e2(0x79f),_0x22b7e5);}async function generatePdfTk(){const _0x452ed0=_0x10508b,_0x29ab2d=document[_0x452ed0(0x32b)](_0x452ed0(0x459))[_0x452ed0(0x4be)],{pdfGlobalPayload:_0x1de0ce,pdfGlobalBlob:_0x46594f,pdfGlobalName:_0x3d6e0b}=getLastOperationGlobalData(_0x29ab2d),{pdfBlob:_0x4eaf7b,pdfName:_0x9c5f87}=await generatePdf(_0x1de0ce,'tk','pdfCanvas','1.5');setLastOperationGlobalData(_0x29ab2d,{'pdfGlobalPayload':_0x1de0ce,'pdfGlobalBlob':_0x4eaf7b,'pdfGlobalName':_0x9c5f87});}async function generatePdfA4(){const _0x2812c2=_0x10508b,_0x32e4b8=document[_0x2812c2(0x32b)]('windowId')['value'],{pdfGlobalPayload:_0x54a1c7,pdfGlobalBlob:_0x719de5,pdfGlobalName:_0x17a13d}=getLastOperationGlobalData(_0x32e4b8),{pdfBlob:_0x411ca9,pdfName:_0x3ffd76}=await generatePdf(_0x54a1c7,'a4',_0x2812c2(0x250),_0x2812c2(0x3ab));setLastOperationGlobalData(_0x32e4b8,{'pdfGlobalPayload':_0x54a1c7,'pdfGlobalBlob':_0x411ca9,'pdfGlobalName':_0x3ffd76});}function cargarVentanas(_0x54750e,_0x442fa7){const _0x492eec=_0x10508b,_0x4644f6=myCompany[_0x492eec(0x6e1)][_0x492eec(0x46d)](_0x54fbb0=>_0x54fbb0[_0x492eec(0x620)]==_0x54750e&&_0x54fbb0['setFloorId']==_0x442fa7),_0x49552d=0x5,_0x297c5d=0x5,_0xf69f11=0x5,_0x3f8713=0x5,_0x388228=0x78,_0x3293e1=0x78;let _0x2857ab=_0x49552d,_0x5c6a22=_0x297c5d;!posicionesPorPiso[_0x442fa7]&&(posicionesPorPiso[_0x442fa7]={});const _0x106f53=_0x4644f6['map'](_0x3aa846=>{const _0x40a55c=_0x492eec;posicionesPorPiso[_0x442fa7][_0x3aa846['setWindowId']]?(_0x3aa846['x']=posicionesPorPiso[_0x442fa7][_0x3aa846[_0x40a55c(0x708)]]['x'],_0x3aa846['y']=posicionesPorPiso[_0x442fa7][_0x3aa846['setWindowId']]['y']):(_0x3aa846['x']=_0x2857ab,_0x3aa846['y']=_0x5c6a22,posicionesPorPiso[_0x442fa7][_0x3aa846[_0x40a55c(0x708)]]={'x':_0x2857ab,'y':_0x5c6a22},_0x2857ab+=_0x388228+_0xf69f11,_0x2857ab+_0x388228>layout_windows[_0x40a55c(0x48b)]&&(_0x2857ab=_0x49552d,_0x5c6a22+=_0x3293e1+_0x3f8713));let _0xe9e226={'setWindowId':_0x3aa846[_0x40a55c(0x708)],'setWindowType':_0x3aa846[_0x40a55c(0x762)],'setWindowName':_0x3aa846[_0x40a55c(0x305)],'x':_0x3aa846['x'],'y':_0x3aa846['y'],'zona':_0x3aa846['setFloorName'],'floorId':_0x3aa846[_0x40a55c(0x3a2)]};return[_0x40a55c(0x4e4),_0x40a55c(0x5eb),_0x40a55c(0x35a),_0x40a55c(0x216)][_0x40a55c(0x2dd)](_0x3aa846[_0x40a55c(0x762)])&&(_0xe9e226[_0x40a55c(0x45d)]=_0x3aa846[_0x40a55c(0x45d)]||_0x40a55c(0x661),_0xe9e226[_0x40a55c(0x62b)]=_0x3aa846[_0x40a55c(0x62b)]||'free'),_0xe9e226;}),_0x16b4c3=extraElements[_0x492eec(0x46d)](_0x444cfa=>_0x444cfa['floorId']==_0x442fa7);elementos=[..._0x106f53,..._0x16b4c3],crearElementos();}function crearElementos(){const _0x67b475=_0x10508b,_0x41a492=myCompany[_0x67b475(0x790)],_0x249f2c=myCompany[_0x67b475(0x21a)]['find'](_0x39050f=>_0x39050f[_0x67b475(0x786)]==_0x41a492),_0x6feb98=_0x249f2c?_0x249f2c[_0x67b475(0x5cd)]:'';layout_windows[_0x67b475(0x258)]='',elementos[_0x67b475(0x1fa)](_0x436b76=>{const _0x4432ba=_0x67b475;let _0x9c277e='',_0x3ef56a=0x0,_0x31647b=0x0,_0x4d527a;const _0x139624=getValidatedWindowAndShift(_0x436b76['setWindowId']);if(_0x139624){const {currentWindowShift:_0x512530}=_0x139624;if(_0x512530){if(_0x139624[_0x4432ba(0x391)][_0x4432ba(0x62b)]==_0x4432ba(0x399))_0x9c277e=_0x4432ba(0x2be)+formatShiftDate(_0x512530[_0x4432ba(0x5f4)]);else _0x139624[_0x4432ba(0x391)][_0x4432ba(0x62b)]=='occupied'&&(_0x9c277e=_0x4432ba(0x2be)+formatShiftDate(_0x512530[_0x4432ba(0x2d5)]));const _0xa12ff9=_0x512530[_0x4432ba(0x616)]||[];_0x3ef56a=_0xa12ff9[_0x4432ba(0x46d)](_0x14f013=>setTipOpeOrders['some'](_0x28576a=>_0x28576a==_0x14f013[_0x4432ba(0x3b3)]))['length'],_0x31647b=_0xa12ff9[_0x4432ba(0x710)]((_0x3f80a9,_0x29f56a)=>{const _0x56bf9b=_0x4432ba,_0x5b0122=parseFloat(_0x29f56a['setMtoImpVenta'])||0x0;if(setTipOpeOrders[_0x56bf9b(0x3f2)](_0x288fba=>_0x288fba==_0x29f56a['setTipoOperacion']))return _0x3f80a9+_0x5b0122;if(setTipOpeSales[_0x56bf9b(0x3f2)](_0x43c22c=>_0x43c22c==_0x29f56a['setTipoOperacion']))return _0x3f80a9-_0x5b0122;return _0x3f80a9;},0x0);const _0x205bf4=_0x512530['setShiftUserEmail']||'',_0x1b80a5=myCompany[_0x4432ba(0x6d7)][_0x4432ba(0x2b5)](_0x4dfa59=>_0x4dfa59[_0x4432ba(0x303)]==_0x205bf4);_0x4d527a=_0x1b80a5?_0x1b80a5[_0x4432ba(0x45b)]:'';}}const _0x81332c=document[_0x4432ba(0x2bb)](_0x4432ba(0x6d4));_0x81332c['id']=_0x4432ba(0x44a)+_0x436b76['setWindowId'],_0x81332c[_0x4432ba(0x3fc)]='draggable\x20draggable-element\x20draggable-'+_0x436b76[_0x4432ba(0x62b)]+_0x4432ba(0x3b8)+_0x436b76[_0x4432ba(0x45d)],_0x81332c[_0x4432ba(0x656)][_0x4432ba(0x607)]=_0x436b76['x']+'px',_0x81332c['style']['top']=_0x436b76['y']+'px';let _0x3f3bb9='';switch(_0x436b76[_0x4432ba(0x762)]){case _0x4432ba(0x4e4):_0x3f3bb9=_0x4432ba(0x418);break;case _0x4432ba(0x5eb):_0x3f3bb9=_0x4432ba(0x6b5);break;case'room':_0x3f3bb9='./img/layout/icon-room.svg';break;case _0x4432ba(0x216):_0x3f3bb9=_0x4432ba(0x418);break;case _0x4432ba(0x565):_0x3f3bb9=_0x4432ba(0x3ca);break;case _0x4432ba(0x2b2):_0x3f3bb9=_0x4432ba(0x5fc);break;case _0x4432ba(0x77f):_0x3f3bb9=_0x4432ba(0x2a8);break;case'element-bathroom-women':_0x3f3bb9=_0x4432ba(0x59c);break;case _0x4432ba(0x28d):_0x3f3bb9=_0x4432ba(0x72d);break;case _0x4432ba(0x507):_0x3f3bb9='./img/layout/icon-clock.svg';break;case _0x4432ba(0x309):_0x3f3bb9=_0x4432ba(0x365);break;case _0x4432ba(0x4ad):_0x3f3bb9=_0x4432ba(0x755);break;case _0x4432ba(0x6ba):_0x3f3bb9=_0x4432ba(0x53b);break;case _0x4432ba(0x359):_0x3f3bb9='./img/layout/icon-user.svg';break;case _0x4432ba(0x6bf):_0x3f3bb9=_0x4432ba(0x516);break;case _0x4432ba(0x5e2):_0x3f3bb9=_0x4432ba(0x748);break;case _0x4432ba(0x2f5):_0x3f3bb9=_0x4432ba(0x30a);break;default:_0x3f3bb9=_0x4432ba(0x418);}if(_0x436b76[_0x4432ba(0x62b)]==_0x4432ba(0x679)){let _0x131b1d=_0x4432ba(0x761)+_0x3f3bb9+'\x22\x20alt=\x22'+_0x436b76['setWindowType']+'\x22>';_0x81332c[_0x4432ba(0x258)]=_0x4432ba(0x302)+_0x436b76[_0x4432ba(0x708)]+_0x4432ba(0x249)+_0x436b76[_0x4432ba(0x305)]+_0x4432ba(0x735)+_0x131b1d+'\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>';}else _0x81332c[_0x4432ba(0x258)]=_0x4432ba(0x525)+_0x436b76[_0x4432ba(0x708)]+_0x4432ba(0x249)+_0x436b76[_0x4432ba(0x305)]+_0x4432ba(0x29f)+_0x436b76[_0x4432ba(0x708)]+_0x4432ba(0x287)+_0x4d527a+_0x4432ba(0x67b)+_0x6feb98+'\x20'+parseFloat(_0x31647b)[_0x4432ba(0x718)](0x2)+_0x4432ba(0x6d8)+_0x3ef56a+'\x20ped</span>\x0a<span\x20class=\x22time-text\x22>'+_0x9c277e+_0x4432ba(0x582);_0x81332c[_0x4432ba(0x1fb)][_0x4432ba(0x708)]=_0x436b76['setWindowId'],layout_windows[_0x4432ba(0x2a1)](_0x81332c),addDragEvents(_0x81332c);});}function checkCollision(_0x40e3a3){const _0x4eccf6=_0x10508b,_0x530f93=parseInt(_0x40e3a3['style'][_0x4eccf6(0x607)]),_0x16e9d0=parseInt(_0x40e3a3[_0x4eccf6(0x656)][_0x4eccf6(0x4c5)]),_0x2e61cc=_0x40e3a3[_0x4eccf6(0x697)],_0x1461b5=_0x40e3a3[_0x4eccf6(0x745)];let _0x1216ff=![];const _0xcf3744=layout_windows[_0x4eccf6(0x333)]('.draggable');return _0xcf3744[_0x4eccf6(0x1fa)](_0x1d1ab8=>{const _0xc10019=_0x4eccf6;if(_0x1d1ab8==_0x40e3a3)return;const _0x422f6d=parseInt(_0x1d1ab8[_0xc10019(0x656)]['left']),_0x3928ad=parseInt(_0x1d1ab8[_0xc10019(0x656)][_0xc10019(0x4c5)]),_0xbe2214=_0x1d1ab8[_0xc10019(0x697)],_0x575e79=_0x1d1ab8['offsetHeight'];_0x530f93<_0x422f6d+_0xbe2214&&_0x530f93+_0x2e61cc>_0x422f6d&&_0x16e9d0<_0x3928ad+_0x575e79&&_0x16e9d0+_0x1461b5>_0x3928ad&&(_0x1216ff=!![]);}),_0x1216ff;}function avoidOverlap(_0x340507){const _0x21eedc=_0x10508b;let _0x2c7eda=parseInt(_0x340507[_0x21eedc(0x656)][_0x21eedc(0x607)]),_0x3705e0=parseInt(_0x340507[_0x21eedc(0x656)][_0x21eedc(0x4c5)]);const _0x4bc1f6=0xa;let _0x210e15=0x0;while(checkCollision(_0x340507)&&_0x210e15<0x64){_0x2c7eda+=_0x4bc1f6,_0x2c7eda+_0x340507[_0x21eedc(0x697)]>layout_windows[_0x21eedc(0x48b)]&&(_0x2c7eda=0x0,_0x3705e0+=_0x4bc1f6,_0x3705e0+_0x340507[_0x21eedc(0x745)]>layout_windows['clientHeight']&&(_0x3705e0=0x0)),_0x340507[_0x21eedc(0x656)][_0x21eedc(0x607)]=_0x2c7eda+'px',_0x340507['style'][_0x21eedc(0x4c5)]=_0x3705e0+'px',_0x210e15++;}}function constrainToBounds(_0x3c2643){const _0x1d217b=_0x10508b;let _0x42351c=parseInt(_0x3c2643['style']['left']),_0x1304c2=parseInt(_0x3c2643[_0x1d217b(0x656)]['top']);const _0x37cd95=_0x3c2643[_0x1d217b(0x697)],_0x1a5780=_0x3c2643[_0x1d217b(0x745)];if(_0x42351c<0x0)_0x42351c=0x0;if(_0x1304c2<0x0)_0x1304c2=0x0;if(_0x42351c+_0x37cd95>layout_windows[_0x1d217b(0x48b)])_0x42351c=layout_windows['clientWidth']-_0x37cd95;if(_0x1304c2+_0x1a5780>layout_windows[_0x1d217b(0x778)])_0x1304c2=layout_windows[_0x1d217b(0x778)]-_0x1a5780;_0x3c2643[_0x1d217b(0x656)]['left']=_0x42351c+'px',_0x3c2643[_0x1d217b(0x656)][_0x1d217b(0x4c5)]=_0x1304c2+'px';}function updateElementPosition(_0x54a2e2){const _0x194f0f=_0x10508b,_0x52b648=parseInt(_0x54a2e2[_0x194f0f(0x1fb)]['setWindowId']),_0xe6381=elementos[_0x194f0f(0x2b5)](_0x3bb592=>_0x3bb592[_0x194f0f(0x708)]==_0x52b648);if(_0xe6381){_0xe6381['x']=parseInt(_0x54a2e2[_0x194f0f(0x656)][_0x194f0f(0x607)]),_0xe6381['y']=parseInt(_0x54a2e2[_0x194f0f(0x656)][_0x194f0f(0x4c5)]);posicionesPorPiso[_0xe6381['floorId']]&&(posicionesPorPiso[_0xe6381[_0x194f0f(0x478)]][_0xe6381[_0x194f0f(0x708)]]={'x':_0xe6381['x'],'y':_0xe6381['y']});const _0x559174=extraElements['findIndex'](_0x2bbbe8=>_0x2bbbe8[_0x194f0f(0x708)]==_0x52b648);_0x559174!==-0x1&&(extraElements[_0x559174]['x']=_0xe6381['x'],extraElements[_0x559174]['y']=_0xe6381['y']),console[_0x194f0f(0x4bd)](_0x194f0f(0x3e2),_0xe6381[_0x194f0f(0x305)],'a',_0xe6381['x'],_0xe6381['y']);}}function addDragEvents(_0x1bf6cd){const _0x3bc0b1=_0x10508b;_0x1bf6cd[_0x3bc0b1(0x26b)](_0x3bc0b1(0x3a7),function(_0x27d036){const _0x4c85f8=_0x3bc0b1;if(editMode)return;if(_0x27d036[_0x4c85f8(0x657)][_0x4c85f8(0x6c3)](_0x4c85f8(0x33b))||_0x27d036[_0x4c85f8(0x657)][_0x4c85f8(0x6c3)]('.printer'))return;const _0x2113f0=parseInt(_0x1bf6cd[_0x4c85f8(0x1fb)]['setWindowId']),_0xe25ef2=elementos['find'](_0x40a63a=>_0x40a63a['setWindowId']==_0x2113f0);_0xe25ef2&&(_0xe25ef2[_0x4c85f8(0x762)]==_0x4c85f8(0x4e4)||_0xe25ef2['setWindowType']=='table'||_0xe25ef2['setWindowType']==_0x4c85f8(0x35a)||_0xe25ef2['setWindowType']==_0x4c85f8(0x216))&&clickMesa(_0xe25ef2,0x1);}),_0x1bf6cd[_0x3bc0b1(0x26b)]('mousedown',function(_0x1f5a3d){const _0x2c82ed=_0x3bc0b1;if(!editMode)return;currentDrag=_0x1bf6cd,offsetX=_0x1f5a3d[_0x2c82ed(0x257)]-parseInt(_0x1bf6cd['style'][_0x2c82ed(0x607)]),offsetY=_0x1f5a3d[_0x2c82ed(0x40d)]-parseInt(_0x1bf6cd[_0x2c82ed(0x656)][_0x2c82ed(0x4c5)]),_0x1bf6cd[_0x2c82ed(0x656)][_0x2c82ed(0x4b0)]=0x3e8,dragStartX=_0x1f5a3d[_0x2c82ed(0x257)],dragStartY=_0x1f5a3d['clientY'],isDraggingMoved=![];}),document['addEventListener'](_0x3bc0b1(0x77c),function(_0x1ea14b){const _0x5944d7=_0x3bc0b1;if(currentDrag&&editMode){const _0x1c7429=_0x1ea14b[_0x5944d7(0x257)]-offsetX,_0x4ccde5=_0x1ea14b['clientY']-offsetY;currentDrag[_0x5944d7(0x656)][_0x5944d7(0x607)]=_0x1c7429+'px',currentDrag[_0x5944d7(0x656)]['top']=_0x4ccde5+'px',!isDraggingMoved&&(Math[_0x5944d7(0x446)](_0x1ea14b[_0x5944d7(0x257)]-dragStartX)>0x5||Math[_0x5944d7(0x446)](_0x1ea14b[_0x5944d7(0x40d)]-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document['addEventListener'](_0x3bc0b1(0x4e0),function(_0x4f3611){const _0x22692f=_0x3bc0b1;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x22692f(0x656)]['zIndex']='',currentDrag=null);}),_0x1bf6cd['addEventListener']('touchstart',function(_0x13a4ee){const _0x12eda2=_0x3bc0b1;if(!editMode)return;currentDrag=_0x1bf6cd;const _0x47498d=_0x13a4ee[_0x12eda2(0x546)][0x0];offsetX=_0x47498d['clientX']-parseInt(_0x1bf6cd[_0x12eda2(0x656)]['left']),offsetY=_0x47498d['clientY']-parseInt(_0x1bf6cd[_0x12eda2(0x656)][_0x12eda2(0x4c5)]),_0x1bf6cd[_0x12eda2(0x656)][_0x12eda2(0x4b0)]=0x3e8,dragStartX=_0x47498d['clientX'],dragStartY=_0x47498d[_0x12eda2(0x40d)],isDraggingMoved=![],_0x13a4ee[_0x12eda2(0x73f)]();}),document[_0x3bc0b1(0x26b)]('touchmove',function(_0x546f3e){const _0x514abb=_0x3bc0b1;if(currentDrag&&editMode){const _0x52b419=_0x546f3e[_0x514abb(0x546)][0x0],_0x1bab2a=_0x52b419[_0x514abb(0x257)]-offsetX,_0x53270e=_0x52b419[_0x514abb(0x40d)]-offsetY;currentDrag[_0x514abb(0x656)]['left']=_0x1bab2a+'px',currentDrag[_0x514abb(0x656)][_0x514abb(0x4c5)]=_0x53270e+'px',!isDraggingMoved&&(Math[_0x514abb(0x446)](_0x52b419[_0x514abb(0x257)]-dragStartX)>0x5||Math[_0x514abb(0x446)](_0x52b419[_0x514abb(0x40d)]-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x546f3e[_0x514abb(0x73f)]();}}),document['addEventListener'](_0x3bc0b1(0x6b1),function(_0x1970a4){const _0x184d03=_0x3bc0b1;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x184d03(0x656)]['zIndex']='',currentDrag=null);});}async function clickMesa(_0x531aff,_0x1bbb84=0x1){const _0xa7107a=_0x10508b,_0x2509e4=_0x531aff[_0xa7107a(0x708)],_0x2cbeee=getValidatedWindowAndShift(_0x2509e4),{currentWindowShift:_0x3163ba}=_0x2cbeee;if(!_0x3163ba)updateWindowShiftDisplay(_0x2509e4);else{const _0x564bc7=_0xa7107a(0x7b4)+_0x2509e4;await switchTab(_0x564bc7,0x1);}_0x1bbb84==0x1&&hideModalLayout();}function toggleEditMode(){const _0x521334=_0x10508b;editMode=!editMode;const _0x4033cf=document[_0x521334(0x32b)]('tabs-editLayout');_0x4033cf[_0x521334(0x511)]=editMode?_0x521334(0x615):_0x521334(0x5d7);const _0x5e8f2f=document[_0x521334(0x32b)](_0x521334(0x71f));_0x5e8f2f&&(_0x5e8f2f['style'][_0x521334(0x662)]=editMode?_0x521334(0x4de):_0x521334(0x585)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x9e0556=_0x10508b;if(!editMode)return;const _0x45ba56=document[_0x9e0556(0x32b)](_0x9e0556(0x2d8)),_0x4249ab=_0x45ba56[_0x9e0556(0x4be)];let _0x578e9f='';switch(_0x4249ab){case'element-bar':_0x578e9f='';break;case'element-bathroom-men':_0x578e9f='';break;case _0x9e0556(0x77f):_0x578e9f='';break;case _0x9e0556(0x6a6):_0x578e9f='';break;case'element-cashier':_0x578e9f='';break;case _0x9e0556(0x507):_0x578e9f='';break;case _0x9e0556(0x309):_0x578e9f='';break;case'element-laptop':_0x578e9f='';break;case'element-printer':_0x578e9f='';break;case _0x9e0556(0x359):_0x578e9f='';break;case _0x9e0556(0x6bf):_0x578e9f='';break;case _0x9e0556(0x5e2):_0x578e9f='';break;case'element-waiter':_0x578e9f='';break;default:_0x578e9f='';}const _0x73ebe5=document[_0x9e0556(0x32b)](_0x9e0556(0x3a2)),_0x30f1cc=_0x73ebe5[_0x9e0556(0x4be)],_0x407297=generateUniqId(),_0x375f74=0xa,_0xeb5fb7=0xa,_0x4481ea={'setWindowId':_0x407297,'setWindowType':_0x4249ab,'setWindowName':_0x578e9f,'x':_0x375f74,'y':_0xeb5fb7,'zona':_0x73ebe5[_0x9e0556(0x3c2)][_0x73ebe5[_0x9e0556(0x4cc)]][_0x9e0556(0x654)],'floorId':_0x30f1cc};['window',_0x9e0556(0x5eb),_0x9e0556(0x35a),'chair']['includes'](_0x4249ab)&&(_0x4481ea['setWindowTypeShape']='round-small',_0x4481ea[_0x9e0556(0x62b)]=_0x9e0556(0x679)),extraElements[_0x9e0556(0x7a6)](_0x4481ea),!posicionesPorPiso[_0x30f1cc]&&(posicionesPorPiso[_0x30f1cc]={}),posicionesPorPiso[_0x30f1cc][_0x407297]={'x':_0x375f74,'y':_0xeb5fb7},cargarVentanas(myCompany[_0x9e0556(0x269)][0x0]['setBranchId'],_0x30f1cc);}function saveLayoutState(){const _0x513e2a=_0x10508b;createCartStore('')[_0x513e2a(0x3ea)](_0x25fee9=>{const _0x5c94dc=_0x513e2a,_0x3f8a6b=_0x25fee9[_0x5c94dc(0x626)](['layoutState'],_0x5c94dc(0x3e8)),_0xc33d0a=_0x3f8a6b['objectStore'](_0x5c94dc(0x3ce)),_0x19ecb5={'id':_0x5c94dc(0x20a),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x508fa4=_0xc33d0a[_0x5c94dc(0x6cc)](_0x19ecb5);_0x508fa4[_0x5c94dc(0x235)]=function(){const _0x1716b5=_0x5c94dc;console['log'](_0x1716b5(0x7af));},_0x508fa4[_0x5c94dc(0x3c8)]=function(_0x1367ac){const _0x3867e4=_0x5c94dc;console[_0x3867e4(0x769)](_0x3867e4(0x768),_0x1367ac[_0x3867e4(0x657)][_0x3867e4(0x769)]);};});}function _0xcdf0(_0x2c5bcd,_0x306abf){const _0x59cccb=_0xa0d8();return _0xcdf0=function(_0x14a231,_0xb3cdf4){_0x14a231=_0x14a231-0x1e0;let _0x35d9dd=_0x59cccb[_0x14a231];return _0x35d9dd;},_0xcdf0(_0x2c5bcd,_0x306abf);}async function loadLayoutState(){const _0x352532=_0x10508b;try{const _0x32d199=await createCartStore(''),_0x996bd2=await new Promise((_0x4875f8,_0x17114f)=>{const _0x2e4fa4=_0xcdf0,_0x25af92=_0x32d199[_0x2e4fa4(0x626)](['layoutState'],_0x2e4fa4(0x793)),_0x356b98=_0x25af92[_0x2e4fa4(0x253)](_0x2e4fa4(0x3ce)),_0x8cd7db=_0x356b98[_0x2e4fa4(0x2ba)](_0x2e4fa4(0x20a));_0x8cd7db[_0x2e4fa4(0x235)]=()=>_0x4875f8(_0x8cd7db[_0x2e4fa4(0x2fa)]),_0x8cd7db[_0x2e4fa4(0x3c8)]=_0x85d313=>_0x17114f(_0x85d313['target'][_0x2e4fa4(0x769)]);});_0x996bd2&&(elementos=_0x996bd2['elementos']||[],extraElements=_0x996bd2[_0x352532(0x38b)]||[],posicionesPorPiso=_0x996bd2[_0x352532(0x3b6)]||{},console[_0x352532(0x4bd)](_0x352532(0x5d0)));}catch(_0x392d21){console[_0x352532(0x769)]('Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:',_0x392d21);throw _0x392d21;}}function saveLayoutOnline(){const _0x2e3bd5=_0x10508b;if(!isOnline()){console[_0x2e3bd5(0x4bd)](_0x2e3bd5(0x6f9));return;}let _0x382819={'id':_0x2e3bd5(0x20a),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x16a001={'layout':_0x382819,'setToken':myCompany[_0x2e3bd5(0x261)]};fetch(_0x2e3bd5(0x558),{'method':_0x2e3bd5(0x4c6),'headers':{'Content-Type':_0x2e3bd5(0x69e)},'body':JSON['stringify'](_0x16a001)})[_0x2e3bd5(0x3ea)](_0x4fdcc2=>{const _0x3ccb6d=_0x2e3bd5;if(!_0x4fdcc2['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x4fdcc2['statusText']);return _0x4fdcc2[_0x3ccb6d(0x236)]();})[_0x2e3bd5(0x3ea)](_0x243ab7=>{const _0x5c37f3=_0x2e3bd5;if(!_0x243ab7[_0x5c37f3(0x65b)])throw new Error(_0x243ab7[_0x5c37f3(0x301)]||_0x5c37f3(0x5c1));console[_0x5c37f3(0x4bd)]('Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.');})[_0x2e3bd5(0x209)](_0x34791b=>{const _0x51b7a0=_0x2e3bd5;console[_0x51b7a0(0x769)](_0x51b7a0(0x63a),_0x34791b);});}function setActiveTab(_0x4f14ec){const _0x5b1ea0=_0x10508b,_0x1fc7e9=document[_0x5b1ea0(0x333)](_0x5b1ea0(0x5d1)),_0x46677a=document[_0x5b1ea0(0x333)](_0x5b1ea0(0x457));_0x1fc7e9[_0x5b1ea0(0x1fa)](_0x5d7b3a=>{const _0xab4acb=_0x5b1ea0;_0x5d7b3a['getAttribute'](_0xab4acb(0x6f6))===_0x4f14ec?_0x5d7b3a['classList'][_0xab4acb(0x5d9)]('active'):_0x5d7b3a[_0xab4acb(0x63f)][_0xab4acb(0x625)](_0xab4acb(0x608));}),_0x46677a[_0x5b1ea0(0x1fa)](_0x2c7f7d=>{const _0xeeafb2=_0x5b1ea0;_0x2c7f7d['id']===_0xeeafb2(0x7b4)+_0x4f14ec?_0x2c7f7d[_0xeeafb2(0x63f)][_0xeeafb2(0x5d9)]('active'):_0x2c7f7d[_0xeeafb2(0x63f)]['remove'](_0xeeafb2(0x608));});}document['querySelectorAll'](_0x10508b(0x5d1))['forEach'](_0x16ba76=>{const _0x492e6b=_0x10508b;_0x16ba76[_0x492e6b(0x26b)](_0x492e6b(0x3a7),function(){const _0x3e0cac=_0x492e6b,_0x496a5c=this[_0x3e0cac(0x319)](_0x3e0cac(0x6f6));setActiveTab(_0x496a5c);});});function createTabsEnvironments(){const _0x333c2d=_0x10508b,_0x2e2dcb=document['querySelector'](_0x333c2d(0x4f1));_0x2e2dcb[_0x333c2d(0x258)]='';const _0x12d604=document['createElement'](_0x333c2d(0x6d4));_0x12d604[_0x333c2d(0x3fc)]=_0x333c2d(0x353);const _0x5ef665=document[_0x333c2d(0x32b)](_0x333c2d(0x3a2));if(!_0x5ef665){console['error'](_0x333c2d(0x35f));return;}const _0x3066a2=Array['from'](_0x5ef665[_0x333c2d(0x3c2)]),_0x3bfc8c=_0x3066a2['find'](_0x24b387=>_0x24b387['selected'])||_0x3066a2[0x0],_0x2b7f04=document[_0x333c2d(0x2bb)](_0x333c2d(0x7ad));_0x2b7f04[_0x333c2d(0x3fc)]=_0x333c2d(0x464),_0x2b7f04[_0x333c2d(0x511)]=_0x3bfc8c[_0x333c2d(0x654)],_0x12d604[_0x333c2d(0x2a1)](_0x2b7f04),_0x3066a2['forEach'](_0x1ec265=>{const _0xc15f73=_0x333c2d;if(_0x1ec265===_0x3bfc8c)return;const _0x37229f=document[_0xc15f73(0x2bb)]('span');_0x37229f[_0xc15f73(0x3fc)]=_0xc15f73(0x31a),_0x37229f[_0xc15f73(0x511)]='|',_0x12d604[_0xc15f73(0x2a1)](_0x37229f);const _0x1f4a11=document[_0xc15f73(0x2bb)](_0xc15f73(0x7ad));_0x1f4a11[_0xc15f73(0x3fc)]='tabs-environments-btn',_0x1f4a11[_0xc15f73(0x511)]=_0x1ec265[_0xc15f73(0x654)],_0x1f4a11['addEventListener'](_0xc15f73(0x3a7),function(){const _0x5b27dd=_0xc15f73;handleTabSelection(_0x1ec265[_0x5b27dd(0x4be)]);}),_0x12d604[_0xc15f73(0x2a1)](_0x1f4a11);}),_0x2e2dcb[_0x333c2d(0x2a1)](_0x12d604);}async function handleTabSelection(_0x4422ad){const _0x369626=_0x10508b;hideModalLayout(),document[_0x369626(0x32b)]('setFloorId')[_0x369626(0x4be)]=_0x4422ad,await changeEnvironments(_0x4422ad),showModalLayout();}async function resetWindowPositions(_0x4663d8,_0x4ea656){const _0x25be81=_0x10508b,_0x23feed=myCompany[_0x25be81(0x6e1)][_0x25be81(0x46d)](_0x19de03=>_0x19de03['setBranchId']==_0x4663d8&&_0x19de03[_0x25be81(0x3a2)]==_0x4ea656);_0x23feed['forEach'](_0x34d3c7=>{delete _0x34d3c7['x'],delete _0x34d3c7['y'];}),posicionesPorPiso[_0x4ea656]&&(_0x23feed['forEach'](_0x120ecd=>{delete posicionesPorPiso[_0x4ea656][_0x120ecd['setWindowId']];}),Object['keys'](posicionesPorPiso[_0x4ea656])[_0x25be81(0x4e9)]===0x0&&delete posicionesPorPiso[_0x4ea656]);}function openMenu(_0x4f7d75,_0x24f039){const _0x206fe0=_0x10508b,_0xea4bd2=document[_0x206fe0(0x453)]('.context-menu');if(_0xea4bd2)_0xea4bd2[_0x206fe0(0x625)]();const {windowObj:_0x565eb1}=getValidatedWindowAndShift(_0x4f7d75),_0x23dd7c=layout_windows,_0x25d80a=document[_0x206fe0(0x2bb)]('ul');_0x25d80a[_0x206fe0(0x3fc)]='context-menu';const _0x573d70=[];_0x565eb1[_0x206fe0(0x62b)]!==_0x206fe0(0x679)&&_0x573d70['push']({'icon':_0x206fe0(0x71b),'label':_0x206fe0(0x1e2),'handler':releaseWindow});_0x573d70[_0x206fe0(0x1fa)](({icon:_0x30bb04,label:_0xbf065a,handler:_0x54df53})=>{const _0x3c311e=_0x206fe0,_0x3de201=document['createElement']('li');_0x3de201['innerHTML']='<i\x20class=\x22'+_0x30bb04+'\x22\x20style=\x22margin-right:8px;\x22></i>'+_0xbf065a,_0x3de201['addEventListener'](_0x3c311e(0x3a7),_0x40cb5f=>{const _0x67bd91=_0x3c311e;_0x40cb5f[_0x67bd91(0x417)](),_0x54df53(_0x4f7d75),_0x25d80a['remove']();}),_0x3de201[_0x3c311e(0x26b)]('mouseenter',()=>_0x3de201[_0x3c311e(0x656)][_0x3c311e(0x6fa)]='#f0f0f0'),_0x3de201[_0x3c311e(0x26b)](_0x3c311e(0x3a0),()=>_0x3de201[_0x3c311e(0x656)]['background']=''),_0x25d80a[_0x3c311e(0x2a1)](_0x3de201);});const _0x7b9dc9=_0x23dd7c[_0x206fe0(0x77d)](),_0x45bbdb=_0x24f039[_0x206fe0(0x257)]-_0x7b9dc9['left'],_0x8946c2=_0x24f039['clientY']-_0x7b9dc9[_0x206fe0(0x4c5)];_0x25d80a[_0x206fe0(0x656)][_0x206fe0(0x607)]=_0x45bbdb+'px',_0x25d80a[_0x206fe0(0x656)]['top']=_0x8946c2+'px',_0x23dd7c[_0x206fe0(0x2a1)](_0x25d80a);const _0x2af2a0=_0x482192=>{const _0xef98f2=_0x206fe0;!_0x25d80a[_0xef98f2(0x55d)](_0x482192['target'])&&(_0x25d80a[_0xef98f2(0x625)](),document[_0xef98f2(0x78f)](_0xef98f2(0x3a7),_0x2af2a0));};document['addEventListener'](_0x206fe0(0x3a7),_0x2af2a0);}function editWindow(_0x3d46d2){const _0xbc5c0f=_0x10508b;console['log'](_0xbc5c0f(0x281),_0x3d46d2);}function deleteWindow(_0x2e6aa8){const _0x542149=_0x10508b;console[_0x542149(0x4bd)](_0x542149(0x53a),_0x2e6aa8);}async function releaseWindow(_0x42564b){const _0x25add5=_0x10508b,_0x43a580=getValidatedWindowAndShift(_0x42564b),{windowObj:_0x36ede4,currentWindowShift:_0x9ec1b7}=_0x43a580;if(_0x9ec1b7){_0x36ede4[_0x25add5(0x2fe)]=nowWithMillisecondsForServer();const _0x5f41ce=carts[_0x42564b]||[],_0x436ed9=_0x5f41ce['some'](_0x451b23=>_0x451b23[_0x25add5(0x382)]!='');if(!_0x436ed9){_0x36ede4[_0x25add5(0x62b)]=_0x25add5(0x679);const _0x5bb7c3=new Date();_0x9ec1b7[_0x25add5(0x299)]='0',_0x9ec1b7[_0x25add5(0x71c)]=_0x5bb7c3,await apiERPsyncWindows();const _0x1f00b5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1f00b5);const _0x519106=document[_0x25add5(0x32b)](_0x25add5(0x3a2))[_0x25add5(0x4be)];await handleTabSelection(_0x519106);}}}function showModalCreateWindow(){const _0x4ecd6e=_0x10508b;hideModalLayout();const _0x311b04=document['getElementById'](_0x4ecd6e(0x26e)),_0x437695=document[_0x4ecd6e(0x32b)]('modalOverlayCreateWindow');_0x311b04[_0x4ecd6e(0x63f)][_0x4ecd6e(0x5d9)](_0x4ecd6e(0x608)),_0x437695[_0x4ecd6e(0x656)][_0x4ecd6e(0x662)]=_0x4ecd6e(0x4de);}function hideModalCreateWindow(){const _0x1d7f74=_0x10508b,_0x57d2ea=document[_0x1d7f74(0x32b)](_0x1d7f74(0x26e)),_0x456da9=document[_0x1d7f74(0x32b)](_0x1d7f74(0x72a));_0x57d2ea[_0x1d7f74(0x63f)][_0x1d7f74(0x625)](_0x1d7f74(0x608)),_0x456da9[_0x1d7f74(0x656)][_0x1d7f74(0x662)]=_0x1d7f74(0x585);}document[_0x10508b(0x32b)](_0x10508b(0x411))['addEventListener'](_0x10508b(0x3a7),hideModalCreateWindow),document[_0x10508b(0x32b)]('modalOverlayCreateWindow')[_0x10508b(0x26b)](_0x10508b(0x3a7),_0x9fa330=>{const _0x2f58e0=_0x10508b;_0x9fa330[_0x2f58e0(0x657)]==_0x9fa330[_0x2f58e0(0x4c9)]&&_0x9fa330[_0x2f58e0(0x417)]();});function showModalShift(){const _0x18a097=_0x10508b,_0x3bf928=document[_0x18a097(0x32b)](_0x18a097(0x772)),_0x1f46a5=document[_0x18a097(0x32b)](_0x18a097(0x609));_0x3bf928[_0x18a097(0x63f)][_0x18a097(0x5d9)](_0x18a097(0x608)),_0x1f46a5[_0x18a097(0x656)][_0x18a097(0x662)]=_0x18a097(0x4de);}function hideModalShift(){const _0x45687e=_0x10508b,_0x53842a=document[_0x45687e(0x32b)](_0x45687e(0x772)),_0x27e65d=document[_0x45687e(0x32b)]('modalOverlayShift');_0x53842a['classList']['remove'](_0x45687e(0x608)),_0x27e65d[_0x45687e(0x656)]['display']=_0x45687e(0x585);}document[_0x10508b(0x32b)](_0x10508b(0x2c0))[_0x10508b(0x26b)](_0x10508b(0x3a7),hideModalShift),document[_0x10508b(0x32b)](_0x10508b(0x609))[_0x10508b(0x26b)]('click',_0x14537e=>{const _0x260ff4=_0x10508b;_0x14537e['target']==_0x14537e[_0x260ff4(0x4c9)]&&_0x14537e[_0x260ff4(0x417)]();});async function updateShiftDisplay(){const _0x3c53f8=_0x10508b;if(!isOnline()){ntfShow(_0x3c53f8(0x68c));return;}const _0x2c0cbc=document[_0x3c53f8(0x32b)]('setBranchId')[_0x3c53f8(0x4be)],_0x26382b=document[_0x3c53f8(0x32b)]('shiftContent'),_0x3775eb=myCompany[_0x3c53f8(0x790)],_0x5a22e5=myCompany[_0x3c53f8(0x21a)][_0x3c53f8(0x2b5)](_0x2d7461=>_0x2d7461[_0x3c53f8(0x786)]==_0x3775eb),_0x347d7f=_0x5a22e5?_0x5a22e5[_0x3c53f8(0x5cd)]:'';_0x26382b[_0x3c53f8(0x258)]='';!myCompany[_0x3c53f8(0x784)]&&(myCompany['setShifts']=[]);const _0x263cda=myCompany['setShifts'],_0x2dfaf6=_0x263cda[_0x3c53f8(0x2b5)](_0x5285ef=>_0x5285ef[_0x3c53f8(0x620)]==_0x2c0cbc&&_0x5285ef[_0x3c53f8(0x299)]=='1');if(!_0x2dfaf6){const _0x83e4c5=document[_0x3c53f8(0x2bb)]('div');_0x83e4c5[_0x3c53f8(0x3fc)]=_0x3c53f8(0x29a);const _0x3c00e5=document[_0x3c53f8(0x2bb)]('div');_0x3c00e5[_0x3c53f8(0x3fc)]='shift-open-leftCol';const _0x1b061a=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x717));_0x1b061a[_0x3c53f8(0x3fc)]='shift-open-img',_0x1b061a['src']='./img/icon-shift-open.svg',_0x1b061a[_0x3c53f8(0x7bc)]=_0x3c53f8(0x6c8),_0x3c00e5[_0x3c53f8(0x2a1)](_0x1b061a);const _0x330332=document['createElement'](_0x3c53f8(0x6d4));_0x330332[_0x3c53f8(0x3fc)]='shift-open-rightCol';const _0x49a2dd=document[_0x3c53f8(0x2bb)]('h2');_0x49a2dd[_0x3c53f8(0x3fc)]='shift-open-title',_0x49a2dd['textContent']='Apertura\x20de\x20Caja';const _0x395e4b=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x395e4b['className']=_0x3c53f8(0x452);const _0x481a3d=document['createElement'](_0x3c53f8(0x340));_0x481a3d[_0x3c53f8(0x3fc)]='shift-open-label',_0x481a3d[_0x3c53f8(0x511)]=_0x3c53f8(0x43d);const _0xbde6e2=document[_0x3c53f8(0x2bb)]('input');_0xbde6e2['className']=_0x3c53f8(0x524),_0xbde6e2[_0x3c53f8(0x226)]='number',_0xbde6e2['id']=_0x3c53f8(0x617),_0xbde6e2[_0x3c53f8(0x4ba)]=_0x347d7f+_0x3c53f8(0x4f0),_0x395e4b[_0x3c53f8(0x2a1)](_0x481a3d),_0x395e4b[_0x3c53f8(0x2a1)](_0xbde6e2);const _0x5288fb=document[_0x3c53f8(0x2bb)]('div');_0x5288fb[_0x3c53f8(0x3fc)]=_0x3c53f8(0x3a3);const _0x1a042b=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x7ad));_0x1a042b['className']='shift-open-btn',_0x1a042b['id']=_0x3c53f8(0x699),_0x1a042b['textContent']=_0x3c53f8(0x7a1),_0x1a042b[_0x3c53f8(0x614)]=openShift,_0x5288fb[_0x3c53f8(0x2a1)](_0x1a042b),_0x330332['appendChild'](_0x49a2dd),_0x330332['appendChild'](_0x395e4b),_0x330332[_0x3c53f8(0x2a1)](_0x5288fb),_0x83e4c5[_0x3c53f8(0x2a1)](_0x3c00e5),_0x83e4c5['appendChild'](_0x330332),_0x26382b[_0x3c53f8(0x2a1)](_0x83e4c5);}else{const _0x53440c=getUserPermissionApiERP(0xa);let _0x5a0ef5='',_0x2f512c=[];showLoadingModal();if(_0x53440c==0x1)try{const _0x1c1e3c=myCompany[_0x3c53f8(0x747)],_0x27bba1={'apiPOS_getShiftDetails':0x1,'setToken':myCompany['setAuthToken'],'setShiftId':_0x2dfaf6[_0x3c53f8(0x34b)]},_0x1c2a09=await fetch(_0x1c1e3c,{'method':_0x3c53f8(0x4c6),'headers':{'Content-Type':_0x3c53f8(0x1e6)},'body':JSON[_0x3c53f8(0x239)](_0x27bba1)}),_0x1592a1=await _0x1c2a09['json']();_0x1592a1[_0x3c53f8(0x65b)]&&_0x1592a1[_0x3c53f8(0x301)][_0x3c53f8(0x5a1)]&&(_0x2f512c=_0x1592a1['message'][_0x3c53f8(0x5a1)]);}catch(_0x2a38f8){ntfShow('Error\x20en\x20la\x20solicitud'),console[_0x3c53f8(0x769)](_0x3c53f8(0x7b7),_0x2a38f8);}else _0x5a0ef5='hidden';hideLoadingModal();const _0x5d8198=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x5d8198[_0x3c53f8(0x3fc)]=_0x3c53f8(0x48e);const _0xbf1e69=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0xbf1e69[_0x3c53f8(0x3fc)]='shift-close-row1';const _0x561c5b=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x561c5b['className']='shift-close-leftCol';const _0x53197=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x717));_0x53197['src']='./img/icon-shift-close.svg',_0x53197[_0x3c53f8(0x7bc)]=_0x3c53f8(0x4ce),_0x53197['className']='shift-close-img',_0x561c5b['appendChild'](_0x53197);const _0x4fbdb3=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x4fbdb3[_0x3c53f8(0x3fc)]=_0x3c53f8(0x28e);const _0x2ace61=document[_0x3c53f8(0x2bb)]('h2');_0x2ace61[_0x3c53f8(0x258)]=_0x3c53f8(0x56a),_0x2ace61[_0x3c53f8(0x3fc)]='shift-close-title',_0x4fbdb3[_0x3c53f8(0x2a1)](_0x2ace61),_0xbf1e69[_0x3c53f8(0x2a1)](_0x561c5b),_0xbf1e69[_0x3c53f8(0x2a1)](_0x4fbdb3),_0x5d8198[_0x3c53f8(0x2a1)](_0xbf1e69);const _0x45a110=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x45a110[_0x3c53f8(0x3fc)]='shift-close-row2';const _0x2c2125=document['createElement']('div');_0x2c2125[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x129458=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x129458['textContent']=_0x3c53f8(0x74c),_0x129458[_0x3c53f8(0x3fc)]=_0x3c53f8(0x475),_0x2c2125[_0x3c53f8(0x2a1)](_0x129458);const _0x3dc492=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x717));_0x3dc492['src']=_0x3c53f8(0x539),_0x3dc492['alt']=_0x3c53f8(0x510),_0x3dc492['className']=_0x3c53f8(0x71a),_0x2c2125['appendChild'](_0x3dc492);const _0x5ccf37=document['createElement'](_0x3c53f8(0x4a5));_0x5ccf37[_0x3c53f8(0x511)]=myCompany['setUser_Local'][_0x3c53f8(0x2f2)],_0x5ccf37['className']=_0x3c53f8(0x25e),_0x2c2125['appendChild'](_0x5ccf37);const _0x2b9aaf=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x2b9aaf[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x2dc6f3=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x2dc6f3[_0x3c53f8(0x511)]=_0x3c53f8(0x5c9),_0x2dc6f3[_0x3c53f8(0x3fc)]=_0x3c53f8(0x475),_0x2b9aaf[_0x3c53f8(0x2a1)](_0x2dc6f3);const _0x32d82c=document[_0x3c53f8(0x2bb)]('img');_0x32d82c['src']='./img/icon-shift-calendar.svg',_0x32d82c['alt']=_0x3c53f8(0x1e7),_0x32d82c[_0x3c53f8(0x3fc)]=_0x3c53f8(0x71a),_0x2b9aaf['appendChild'](_0x32d82c);const _0x167752=new Date(_0x2dfaf6['setShiftDateStart']),_0x22894c=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x4a5));_0x22894c[_0x3c53f8(0x511)]=_0x167752[_0x3c53f8(0x5a8)](),_0x22894c['className']='shift-close-infoSpan',_0x2b9aaf['appendChild'](_0x22894c),_0x45a110[_0x3c53f8(0x2a1)](_0x2c2125),_0x45a110[_0x3c53f8(0x2a1)](_0x2b9aaf),_0x5d8198[_0x3c53f8(0x2a1)](_0x45a110);const _0x1a2e1f=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x1a2e1f[_0x3c53f8(0x3fc)]=_0x3c53f8(0x27e)+_0x5a0ef5;const _0x1397dc=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x5eb));_0x1397dc[_0x3c53f8(0x3fc)]=_0x3c53f8(0x311)+_0x5a0ef5,_0x1397dc[_0x3c53f8(0x656)][_0x3c53f8(0x389)]=_0x3c53f8(0x4d8);const _0x3aea61=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x5a2)),_0x257e1b=document['createElement']('tr'),_0x140ca3=['\x20',_0x3c53f8(0x300),_0x3c53f8(0x6e5),'Resultado'];_0x140ca3['forEach'](_0x1ba524=>{const _0x273508=_0x3c53f8,_0x1adff4=document[_0x273508(0x2bb)]('th');_0x1ba524==_0x273508(0x6e5)&&(_0x1adff4[_0x273508(0x3fc)]='shift-table-expenses'),_0x1adff4[_0x273508(0x511)]=_0x1ba524,_0x257e1b['appendChild'](_0x1adff4);}),_0x3aea61['appendChild'](_0x257e1b),_0x1397dc[_0x3c53f8(0x2a1)](_0x3aea61);const _0x402ef5=document[_0x3c53f8(0x2bb)]('tbody');function _0x484889(_0x4b44cc,_0x2e4f92,_0x204fb0){const _0x5937d9=_0x3c53f8,_0x4872fa=document[_0x5937d9(0x2bb)]('tr'),_0x22ca3f=document[_0x5937d9(0x2bb)]('td');_0x22ca3f[_0x5937d9(0x511)]=_0x4b44cc;const _0x37c1bd=document[_0x5937d9(0x2bb)]('td');_0x37c1bd[_0x5937d9(0x511)]=_0x2e4f92;const _0x4a86bf=document[_0x5937d9(0x2bb)]('td');_0x4a86bf[_0x5937d9(0x3fc)]='shift-table-expenses',_0x4a86bf[_0x5937d9(0x511)]=_0x204fb0;const _0x4b53ee=document[_0x5937d9(0x2bb)]('td');return _0x4b53ee[_0x5937d9(0x511)]=(parseFloat(_0x2e4f92)-parseFloat(_0x204fb0))['toFixed'](0x2),_0x4872fa['appendChild'](_0x22ca3f),_0x4872fa['appendChild'](_0x37c1bd),_0x4872fa[_0x5937d9(0x2a1)](_0x4a86bf),_0x4872fa[_0x5937d9(0x2a1)](_0x4b53ee),_0x4872fa;}let _0xcd8d40=0x0,_0x52421c=0x0,_0x2f744e=0x0,_0x3fff1e=0x0;myCompany[_0x3c53f8(0x1e8)][_0x3c53f8(0x1fa)](_0xde66d9=>{const _0x4fafe0=_0x3c53f8;let _0x59b53f=_0x2f512c[_0x4fafe0(0x46d)](_0x1ea28d=>_0x1ea28d[_0x4fafe0(0x55f)]==0x1&&_0x1ea28d[_0x4fafe0(0x6d9)]==_0xde66d9['setPaymentCode'])[_0x4fafe0(0x710)]((_0x4b05f6,_0x204718)=>_0x4b05f6+parseFloat(_0x204718[_0x4fafe0(0x77e)]),0x0),_0x53c98e=_0x2f512c[_0x4fafe0(0x46d)](_0xe61a64=>_0xe61a64[_0x4fafe0(0x55f)]==0x2&&_0xe61a64[_0x4fafe0(0x6d9)]==_0xde66d9['setPaymentCode'])[_0x4fafe0(0x710)]((_0x1a775d,_0x5c81da)=>_0x1a775d+parseFloat(_0x5c81da[_0x4fafe0(0x77e)]),0x0);_0xcd8d40+=_0x59b53f,_0x52421c+=_0x53c98e,(_0xde66d9['setPaymentCode']=='efectivo'||_0xde66d9[_0x4fafe0(0x6d9)]==_0x4fafe0(0x415))&&(_0x2f744e=_0x59b53f,_0x3fff1e=_0x53c98e),(_0xde66d9[_0x4fafe0(0x6d9)]==_0x4fafe0(0x207)||_0xde66d9[_0x4fafe0(0x6d9)]==_0x4fafe0(0x415)||_0x59b53f>0x0||_0x53c98e>0x0)&&_0x402ef5[_0x4fafe0(0x2a1)](_0x484889(_0xde66d9[_0x4fafe0(0x298)],parseFloat(_0x59b53f)[_0x4fafe0(0x718)](0x2),parseFloat(_0x53c98e)['toFixed'](0x2)));});const _0x1d770e=_0x484889(_0x3c53f8(0x7b9),parseFloat(_0xcd8d40)['toFixed'](0x2),parseFloat(_0x52421c)[_0x3c53f8(0x718)](0x2));_0x1d770e[_0x3c53f8(0x3eb)][_0x3c53f8(0x511)]=(parseFloat(_0xcd8d40)-parseFloat(_0x52421c))['toFixed'](0x2),_0x402ef5[_0x3c53f8(0x2a1)](_0x1d770e),_0x1397dc['appendChild'](_0x402ef5),_0x1a2e1f[_0x3c53f8(0x2a1)](_0x1397dc),_0x5d8198[_0x3c53f8(0x2a1)](_0x1a2e1f);const _0x587193=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x587193['className']=_0x3c53f8(0x436)+_0x5a0ef5;const _0x12dcd4=document[_0x3c53f8(0x2bb)]('div');_0x12dcd4[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x136a7d=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x136a7d[_0x3c53f8(0x511)]=_0x3c53f8(0x75f),_0x136a7d[_0x3c53f8(0x3fc)]=_0x3c53f8(0x371),_0x12dcd4[_0x3c53f8(0x2a1)](_0x136a7d);const _0x4ae2c0=document['createElement'](_0x3c53f8(0x4a5));_0x4ae2c0[_0x3c53f8(0x511)]=_0x347d7f+'\x20'+parseFloat(_0x2dfaf6[_0x3c53f8(0x208)])['toFixed'](0x2),_0x4ae2c0[_0x3c53f8(0x3fc)]=_0x3c53f8(0x6fe),_0x12dcd4[_0x3c53f8(0x2a1)](_0x4ae2c0);const _0x11a333=document[_0x3c53f8(0x2bb)]('div');_0x11a333[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x29addd=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x29addd[_0x3c53f8(0x511)]='Total\x20Efectivo:',_0x29addd[_0x3c53f8(0x3fc)]='shift-close-infoLabel',_0x11a333[_0x3c53f8(0x2a1)](_0x29addd);const _0x3e8f3f=_0x2f744e-_0x3fff1e,_0x26e5eb=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x4a5));_0x26e5eb['textContent']=_0x347d7f+'\x20'+parseFloat(_0x3e8f3f)[_0x3c53f8(0x718)](0x2),_0x26e5eb['className']=_0x3c53f8(0x6fe),_0x11a333['appendChild'](_0x26e5eb),_0x587193['appendChild'](_0x12dcd4),_0x587193[_0x3c53f8(0x2a1)](_0x11a333);const _0x547643=document['createElement']('div');_0x547643[_0x3c53f8(0x3fc)]=_0x3c53f8(0x436)+_0x5a0ef5;const _0x2164fc=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x2164fc[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x23f097=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x23f097[_0x3c53f8(0x511)]=_0x3c53f8(0x1f2),_0x23f097[_0x3c53f8(0x3fc)]=_0x3c53f8(0x371),_0x2164fc[_0x3c53f8(0x2a1)](_0x23f097);const _0x595994=(parseFloat(_0x2dfaf6[_0x3c53f8(0x208)])+parseFloat(_0x3e8f3f))['toFixed'](0x2),_0x4298b1=document[_0x3c53f8(0x2bb)]('span');_0x4298b1['textContent']=_0x347d7f+'\x20'+_0x595994,_0x4298b1[_0x3c53f8(0x3fc)]=_0x3c53f8(0x6fe);const _0x1da21d=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x2a6));_0x1da21d[_0x3c53f8(0x226)]=_0x3c53f8(0x46c),_0x1da21d['id']=_0x3c53f8(0x25f),_0x1da21d['value']=_0x595994,_0x2164fc[_0x3c53f8(0x2a1)](_0x4298b1),_0x2164fc[_0x3c53f8(0x2a1)](_0x1da21d);const _0xd7a917=document[_0x3c53f8(0x2bb)]('div');_0xd7a917[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4e8);const _0x4cd8e1=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x4cd8e1[_0x3c53f8(0x511)]=_0x3c53f8(0x312),_0x4cd8e1[_0x3c53f8(0x3fc)]=_0x3c53f8(0x371),_0xd7a917[_0x3c53f8(0x2a1)](_0x4cd8e1);const _0x28d2b1=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x2a6));_0x28d2b1[_0x3c53f8(0x226)]=_0x3c53f8(0x61d),_0x28d2b1['id']=_0x3c53f8(0x357),_0x28d2b1['className']=_0x3c53f8(0x4d0),_0xd7a917[_0x3c53f8(0x2a1)](_0x28d2b1),_0x547643[_0x3c53f8(0x2a1)](_0x2164fc),_0x547643[_0x3c53f8(0x2a1)](_0xd7a917),_0x5d8198[_0x3c53f8(0x2a1)](_0x587193),_0x5d8198[_0x3c53f8(0x2a1)](_0x547643);const _0x3c9b2b=document[_0x3c53f8(0x2bb)]('div');_0x3c9b2b[_0x3c53f8(0x3fc)]=_0x3c53f8(0x3d1);const _0x3f1abe=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x340));_0x3f1abe[_0x3c53f8(0x511)]=_0x3c53f8(0x327),_0x3f1abe['className']=_0x3c53f8(0x6fd),_0x3c9b2b['appendChild'](_0x3f1abe);const _0x56df57=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x798));_0x56df57[_0x3c53f8(0x656)][_0x3c53f8(0x389)]=_0x3c53f8(0x4d8),_0x56df57['id']='setShiftNotes',_0x56df57['rows']='2',_0x56df57[_0x3c53f8(0x3fc)]='form-control\x20custom-input-cart-options\x20shift-close-textarea',_0x3c9b2b[_0x3c53f8(0x2a1)](_0x56df57);const _0x33cce9=document[_0x3c53f8(0x2bb)]('div');_0x33cce9[_0x3c53f8(0x3fc)]=_0x3c53f8(0x71d)+_0x5a0ef5;const _0x58b5e2=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x6d4));_0x58b5e2[_0x3c53f8(0x3fc)]='shift-close-diff-col';const _0x211139=document['createElement'](_0x3c53f8(0x340));_0x211139['textContent']=_0x3c53f8(0x519),_0x211139[_0x3c53f8(0x3fc)]=_0x3c53f8(0x3d9),_0x58b5e2[_0x3c53f8(0x2a1)](_0x211139);const _0x556591=document['createElement'](_0x3c53f8(0x6d4));_0x556591[_0x3c53f8(0x3fc)]=_0x3c53f8(0x4ef);const _0xe75f9a=document[_0x3c53f8(0x2bb)](_0x3c53f8(0x4a5));_0xe75f9a[_0x3c53f8(0x511)]=_0x347d7f+_0x3c53f8(0x4f0),_0xe75f9a[_0x3c53f8(0x3fc)]=_0x3c53f8(0x2f3),_0x556591['appendChild'](_0xe75f9a),_0x33cce9['appendChild'](_0x58b5e2),_0x33cce9[_0x3c53f8(0x2a1)](_0x556591),_0x28d2b1['addEventListener'](_0x3c53f8(0x2a6),function(){const _0x4627ac=_0x3c53f8,_0x5ebe3b=parseFloat(_0x28d2b1[_0x4627ac(0x4be)])||0x0,_0x42f96f=_0x5ebe3b-_0x595994;_0xe75f9a['textContent']=_0x347d7f+'\x20'+_0x42f96f[_0x4627ac(0x718)](0x2);});const _0x34b951=document['createElement'](_0x3c53f8(0x6d4));_0x34b951[_0x3c53f8(0x3fc)]=_0x3c53f8(0x3c1);const _0x58930c=document['createElement'](_0x3c53f8(0x7ad));_0x58930c['id']=_0x3c53f8(0x347),_0x58930c['textContent']=_0x3c53f8(0x7c9),_0x58930c[_0x3c53f8(0x3fc)]=_0x3c53f8(0x358),_0x58930c[_0x3c53f8(0x614)]=closeShift,_0x34b951[_0x3c53f8(0x2a1)](_0x58930c),_0x5d8198[_0x3c53f8(0x2a1)](_0x3c9b2b),_0x5d8198['appendChild'](_0x33cce9),_0x5d8198['appendChild'](_0x34b951),_0x26382b[_0x3c53f8(0x2a1)](_0x5d8198);}showModalShift();}async function openShift(){const _0x4452a8=_0x10508b;if(!isOnline()){ntfShow(_0x4452a8(0x6d3));return;}const _0x5ade4a=document[_0x4452a8(0x32b)]('btnShiftStart');if(!_0x5ade4a){console[_0x4452a8(0x769)](_0x4452a8(0x61a));return;}_0x5ade4a[_0x4452a8(0x5c5)]=!![],hideModalShift(),showLoadingModal();const _0x1b76d2=document[_0x4452a8(0x32b)](_0x4452a8(0x617)),_0x39e1af=_0x1b76d2['value'];if(_0x39e1af==''||isNaN(_0x39e1af)){ntfShow('Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.'),_0x5ade4a[_0x4452a8(0x5c5)]=![],hideLoadingModal();return;}const _0x54fa08=document['getElementById'](_0x4452a8(0x620))[_0x4452a8(0x4be)],_0x235d71=document[_0x4452a8(0x32b)]('setCajeroCodigo')[_0x4452a8(0x4be)],_0x1659c3=parseFloat(_0x39e1af),_0x444921=new Date();try{const _0x3de917=myCompany['setApiEndPoint'],_0x50b20f={'apiPOS_shift':0x1,'setToken':myCompany[_0x4452a8(0x261)],'setBranchId':_0x54fa08,'setCashierId':_0x235d71,'setCashInitial':_0x1659c3,'setShiftDateStart':_0x444921},_0x1bd201=await fetch(_0x3de917,{'method':_0x4452a8(0x4c6),'headers':{'Content-Type':_0x4452a8(0x1e6)},'body':JSON[_0x4452a8(0x239)](_0x50b20f)}),_0x4406ff=await _0x1bd201[_0x4452a8(0x236)]();if(_0x4406ff[_0x4452a8(0x65b)]&&_0x4406ff['message']['setShiftId']){const _0xf8dc6d=_0x4406ff[_0x4452a8(0x301)][_0x4452a8(0x34b)];let _0x376781=myCompany['setShifts']['find'](_0x50fa8e=>_0x50fa8e['setBranchId']==_0x54fa08);_0x376781?(_0x376781['setShiftId']=_0xf8dc6d,_0x376781['setCashInitial']=_0x1659c3,_0x376781['setShiftStatus']='1',_0x376781['setShiftDateStart']=_0x444921):myCompany[_0x4452a8(0x784)][_0x4452a8(0x7a6)]({'setShiftId':_0xf8dc6d,'setCashInitial':_0x1659c3,'setShiftStatus':'1','setShiftDateStart':_0x444921,'setBranchId':_0x54fa08});try{const _0x5b7240=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5b7240),ntfShow('Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20'+_0x444921[_0x4452a8(0x5a8)]());}catch(_0x5ac774){console['error']('Shift\x20Save\x20Error:',_0x5ac774);throw _0x5ac774;}}else ntfShow(_0x4452a8(0x6a5)),console[_0x4452a8(0x4bd)](_0x4452a8(0x6a5));}catch(_0x632897){ntfShow(_0x4452a8(0x4f8)),console[_0x4452a8(0x769)](_0x4452a8(0x7b7),_0x632897);}finally{_0x5ade4a['disabled']=![],hideLoadingModal();}}async function closeShift(){const _0x577aa7=_0x10508b;if(!isOnline()){ntfShow(_0x577aa7(0x7ae));return;}const _0x2efc20=document['getElementById'](_0x577aa7(0x347)),_0x3d548f=document[_0x577aa7(0x32b)](_0x577aa7(0x357)),_0x17b55e=document['getElementById']('setShiftCashAmount'),_0x2529b4=document[_0x577aa7(0x32b)](_0x577aa7(0x43b));if(!_0x2efc20){console[_0x577aa7(0x769)](_0x577aa7(0x5b4));return;}_0x2efc20[_0x577aa7(0x5c5)]=!![],hideModalShift(),showLoadingModal();const _0x179704=document[_0x577aa7(0x32b)](_0x577aa7(0x620))[_0x577aa7(0x4be)];let _0x3b86a2=myCompany[_0x577aa7(0x784)][_0x577aa7(0x2b5)](_0x1d0aff=>_0x1d0aff[_0x577aa7(0x620)]==_0x179704&&_0x1d0aff[_0x577aa7(0x299)]=='1');if(!_0x3b86a2){ntfShow(_0x577aa7(0x526)),_0x2efc20[_0x577aa7(0x5c5)]=![],hideLoadingModal();return;}const _0x23350e=new Date();try{const _0x5dfb26=myCompany[_0x577aa7(0x747)],_0x39a7f2={'apiPOS_shift':0x1,'setToken':myCompany['setAuthToken'],'setShiftId':_0x3b86a2[_0x577aa7(0x34b)],'setShiftDateEnd':_0x23350e,'setShiftCount':parseFloat(_0x3d548f[_0x577aa7(0x4be)]),'setShiftCashAmount':parseFloat(_0x17b55e['value']),'setShiftNotes':_0x2529b4[_0x577aa7(0x4be)]},_0x3271b0=await fetch(_0x5dfb26,{'method':_0x577aa7(0x4c6),'headers':{'Content-Type':_0x577aa7(0x1e6)},'body':JSON[_0x577aa7(0x239)](_0x39a7f2)}),_0x2bda5a=await _0x3271b0['json']();if(_0x2bda5a[_0x577aa7(0x65b)]&&_0x2bda5a[_0x577aa7(0x301)][_0x577aa7(0x34b)]){_0x3b86a2[_0x577aa7(0x299)]='0',_0x3b86a2['setCashInitial']='',_0x3b86a2[_0x577aa7(0x34b)]='',_0x3b86a2['setShiftDateStart']='';try{const _0x365dc9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x365dc9),ntfShow('Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20'+_0x23350e['toLocaleString']()),hideModalShift();}catch(_0x289ee7){console[_0x577aa7(0x769)](_0x577aa7(0x675),_0x289ee7);throw _0x289ee7;}}else ntfShow(_0x577aa7(0x6a5)),console['log'](_0x577aa7(0x6a5));}catch(_0x2db8f9){ntfShow(_0x577aa7(0x4f8)),console[_0x577aa7(0x769)](_0x577aa7(0x7b7),_0x2db8f9);}finally{_0x2efc20['disabled']=![],hideLoadingModal();}}async function changeEnvironments(_0x55f328){const _0x275f46=_0x10508b;await loadLayoutState();const _0x184534=_0x55f328,_0x23e7c7=myCompany['setWindows'][_0x275f46(0x46d)](_0x405d0b=>_0x405d0b[_0x275f46(0x3a2)]==_0x184534),_0x37a19c=document[_0x275f46(0x32b)](_0x275f46(0x535));_0x37a19c[_0x275f46(0x258)]='',_0x23e7c7[_0x275f46(0x1fa)](_0x5551d3=>{const _0x1dc21c=_0x275f46,_0x1a565d=document['createElement'](_0x1dc21c(0x512));_0x1a565d['value']=_0x1dc21c(0x7b4)+_0x5551d3[_0x1dc21c(0x708)],_0x1a565d[_0x1dc21c(0x511)]=_0x5551d3['setWindowName'],_0x37a19c[_0x1dc21c(0x2a1)](_0x1a565d);});const _0xc502e9=_0x37a19c[_0x275f46(0x4be)],_0x1965f4=_0xc502e9[_0x275f46(0x458)]('-')[0x1];document[_0x275f46(0x32b)](_0x275f46(0x459))['value']=_0x1965f4,await switchTab(_0xc502e9);}document['getElementById'](_0x10508b(0x5e8))[_0x10508b(0x26b)]('click',function(_0x1ef815){const _0x26db4b=_0x10508b;_0x1ef815[_0x26db4b(0x73f)]();const _0x48c863=myCompany[_0x26db4b(0x747)];try{const _0x122a0e=new URL(_0x48c863),_0x28bbe4=_0x122a0e['origin'],_0x7b31b8=_0x28bbe4+_0x26db4b(0x320);window[_0x26db4b(0x472)](_0x7b31b8,_0x26db4b(0x598));}catch(_0x433cbf){console[_0x26db4b(0x769)](_0x26db4b(0x432),_0x433cbf);}}),document[_0x10508b(0x32b)](_0x10508b(0x797))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0x404f94){const _0x46c45a=_0x10508b;_0x404f94[_0x46c45a(0x73f)](),updateShiftDisplay();}),document[_0x10508b(0x32b)](_0x10508b(0x50c))['addEventListener'](_0x10508b(0x3a7),function(_0x13aba4){const _0x2096fe=_0x10508b;_0x13aba4[_0x2096fe(0x73f)](),showModalCreateWindow();}),document[_0x10508b(0x32b)](_0x10508b(0x1ed))[_0x10508b(0x26b)]('click',function(_0x2ac033){const _0x6a94c6=_0x10508b;_0x2ac033[_0x6a94c6(0x73f)]();}),document['getElementById'](_0x10508b(0x354))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0x550cef){const _0xb297d9=_0x10508b;_0x550cef[_0xb297d9(0x73f)](),showModalLayout();}),document[_0x10508b(0x32b)](_0x10508b(0x763))['addEventListener'](_0x10508b(0x3a7),function(_0x948eb6){_0x948eb6['preventDefault'](),showModalLayout();}),document['getElementById'](_0x10508b(0x72b))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0x576ee5){const _0x5a5bdb=_0x10508b;_0x576ee5[_0x5a5bdb(0x73f)](),showRightSection();}),document[_0x10508b(0x32b)](_0x10508b(0x7c2))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0x286079){const _0x3d2c17=_0x10508b;_0x286079[_0x3d2c17(0x73f)](),showLeftSection(),showSection(_0x3d2c17(0x25a));}),document[_0x10508b(0x32b)](_0x10508b(0x4e7))[_0x10508b(0x26b)]('click',function(_0x1981a8){const _0x2e47b4=_0x10508b;_0x1981a8[_0x2e47b4(0x73f)](),resetNewItemForm(),fileInput[_0x2e47b4(0x4be)]='',uploadBtn['disabled']=!![],statusDiv[_0x2e47b4(0x511)]='',progressBar[_0x2e47b4(0x656)]['display']='none',progressBar['value']=0x0,showModalCreateItem(0x0);}),document[_0x10508b(0x32b)](_0x10508b(0x2a3))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0xf0062a){const _0x17238b=_0x10508b;_0xf0062a[_0x17238b(0x73f)](),resetNewItemForm(),fileInput[_0x17238b(0x4be)]='',uploadBtn[_0x17238b(0x5c5)]=!![],statusDiv[_0x17238b(0x511)]='',progressBar[_0x17238b(0x656)][_0x17238b(0x662)]='none',progressBar[_0x17238b(0x4be)]=0x0,showModalCreateItem(0x1);}),document['getElementById'](_0x10508b(0x57c))[_0x10508b(0x26b)](_0x10508b(0x3a7),function(_0x4a8470){const _0x1ae96f=_0x10508b;_0x4a8470[_0x1ae96f(0x73f)](),toggleEditMode();}),document[_0x10508b(0x32b)](_0x10508b(0x2c3))[_0x10508b(0x26b)](_0x10508b(0x39b),function(_0x325538){const _0x106d86=_0x10508b;_0x325538['preventDefault']();const _0x482824=document[_0x106d86(0x32b)]('img-create-window'),_0x5ee75=this[_0x106d86(0x4be)];let _0x9bd053='./img/layout/icon-window.svg';if(_0x5ee75=='1')_0x9bd053=_0x106d86(0x418);else{if(_0x5ee75=='2')_0x9bd053=_0x106d86(0x6b5);else _0x5ee75=='3'&&(_0x9bd053=_0x106d86(0x286));}_0x482824[_0x106d86(0x403)]=_0x9bd053;}),document[_0x10508b(0x32b)](_0x10508b(0x676))[_0x10508b(0x26b)](_0x10508b(0x3a7),async function(_0x2f6fdb){const _0x4c1e54=_0x10508b;_0x2f6fdb[_0x4c1e54(0x73f)]();if(!isOnline()){ntfShow(_0x4c1e54(0x2af));return;}this['disabled']=!![],hideModalCreateWindow(),showLoadingModal();const _0x1fa89f=document[_0x4c1e54(0x32b)](_0x4c1e54(0x2c3)),_0xfc24c6=document[_0x4c1e54(0x32b)](_0x4c1e54(0x28a)),_0x51b99c=document[_0x4c1e54(0x32b)](_0x4c1e54(0x620)),_0x4ca793=document[_0x4c1e54(0x32b)](_0x4c1e54(0x3a2)),_0x352020={'setAuthToken':myCompany[_0x4c1e54(0x261)],'setWindowType':_0x1fa89f['value'],'setWindowName':_0xfc24c6[_0x4c1e54(0x4be)],'setBranchId':_0x51b99c[_0x4c1e54(0x4be)],'setEnvironmentId':_0x4ca793['value']};try{const _0x35ffab=await fetch(_0x4c1e54(0x34e),{'method':_0x4c1e54(0x4c6),'headers':{'Content-Type':_0x4c1e54(0x69e)},'body':JSON[_0x4c1e54(0x239)](_0x352020)});if(!_0x35ffab['ok']){hideLoadingModal(),this[_0x4c1e54(0x5c5)]=![],ntfShow('Error:\x20'+_0x35ffab[_0x4c1e54(0x674)]),showModalCreateWindow();return;}const _0x516eb5=await _0x35ffab[_0x4c1e54(0x236)]();if(!_0x516eb5[_0x4c1e54(0x65b)]){hideLoadingModal(),this['disabled']=![],ntfShow(_0x516eb5['message']||'Error\x20desconocido.'),showModalCreateWindow();return;}const _0x4d8c59=_0x516eb5[_0x4c1e54(0x301)];console[_0x4c1e54(0x4bd)](_0x4d8c59),myCompany['setWindows'][_0x4c1e54(0x7a6)](_0x4d8c59),await resetWindowPositions(_0x51b99c[_0x4c1e54(0x4be)],_0x4ca793[_0x4c1e54(0x4be)]);const _0x30a013=await createCartStore('');await saveCompanyToIndexedDB(company,_0x30a013),addNewTab(_0x4d8c59[_0x4c1e54(0x708)]),hideLoadingModal(),this[_0x4c1e54(0x5c5)]=![],_0xfc24c6['value']='',ntfShow(_0x4c1e54(0x5c7)),showModalLayout();}catch(_0x37b4f5){hideLoadingModal(),this[_0x4c1e54(0x5c5)]=![],ntfShow('Error:\x20'+_0x37b4f5[_0x4c1e54(0x301)]),showModalCreateWindow();}}),window[_0x10508b(0x26b)]('resize',()=>{const _0x5ebb13=_0x10508b,_0x380ad4=window[_0x5ebb13(0x6e2)];if(_0x380ad4!==lastWindowWidth){lastWindowWidth=_0x380ad4;if(isMobile())showLeftSection();else{const _0x16d639=document[_0x5ebb13(0x32b)](_0x5ebb13(0x51c)),_0x301ec5=document['getElementById']('div_section_right');_0x16d639[_0x5ebb13(0x656)][_0x5ebb13(0x543)](_0x5ebb13(0x662),_0x5ebb13(0x33c),'important'),_0x301ec5['style']['setProperty']('display','flex',_0x5ebb13(0x6c4));}}adjustHeight();}),window['addEventListener'](_0x10508b(0x41a),updateInternetIcon),window[_0x10508b(0x26b)](_0x10508b(0x7cc),updateInternetIcon),window[_0x10508b(0x1f7)]=function(){const _0x56a46f=_0x10508b,_0x48e62c=0x1;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess(),document[_0x56a46f(0x29c)][_0x56a46f(0x26b)]('onchange',_0x14c266=>{const _0x24f278=_0x56a46f,_0x4dfdd4=_0x14c266[_0x24f278(0x657)];if(_0x4dfdd4['id']&&_0x4dfdd4['id'][_0x24f278(0x4cb)](_0x24f278(0x64c))){const _0x2cd6e7=_0x4dfdd4['id']['split']('-')[_0x24f278(0x501)]();let _0xd5582c=parseFloat(_0x4dfdd4['value'])||0x0;isNaN(_0xd5582c)||_0xd5582c<0x0?_0x4dfdd4['value']=_0x24f278(0x4c3):(_0x4dfdd4[_0x24f278(0x4be)]=_0xd5582c[_0x24f278(0x718)](0x2),_0xd5582c=_0xd5582c[_0x24f278(0x718)](0x2)),window_options[_0x2cd6e7]['setDescuentoGlobal_Monto']=_0xd5582c,saveWindowOptionsDB(_0x2cd6e7)['then'](()=>{renderCart(_0x2cd6e7);})[_0x24f278(0x209)](_0x8844d1=>{const _0xaf9837=_0x24f278;console[_0xaf9837(0x769)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:',_0x8844d1);});}}),document[_0x56a46f(0x29c)]['addEventListener'](_0x56a46f(0x28c),_0x438794=>{const _0x298a9d=_0x56a46f,_0x59c6d5=_0x438794[_0x298a9d(0x657)];if(_0x59c6d5['id']&&_0x59c6d5['id'][_0x298a9d(0x4cb)](_0x298a9d(0x64c))){const _0x4120c6=_0x59c6d5['id']['split']('-')[_0x298a9d(0x501)]();let _0x2a0320=parseFloat(_0x59c6d5['value'])||0x0;isNaN(_0x2a0320)||_0x2a0320<0x0?_0x59c6d5['value']='0.00':(_0x59c6d5['value']=_0x2a0320['toFixed'](0x2),_0x2a0320=_0x2a0320[_0x298a9d(0x718)](0x2)),window_options[_0x4120c6][_0x298a9d(0x1e3)]=_0x2a0320,saveWindowOptionsDB(_0x4120c6)[_0x298a9d(0x3ea)](()=>{renderCart(_0x4120c6);})['catch'](_0x464146=>{const _0x507045=_0x298a9d;console[_0x507045(0x769)](_0x507045(0x268),_0x464146);});}},!![]);const _0x519d29=document[_0x56a46f(0x453)](_0x56a46f(0x473));_0x519d29&&_0x519d29[_0x56a46f(0x26b)]('click',function(){logoutReload(0x0,_0x48e62c);});let _0x161a8d=[];const _0x155621=document['getElementById'](_0x56a46f(0x4ff)),_0x357ef0=document[_0x56a46f(0x32b)]('previewList');_0x155621[_0x56a46f(0x26b)](_0x56a46f(0x39b),()=>{const _0x4a70e4=_0x56a46f;Array['from'](_0x155621[_0x4a70e4(0x40e)])[_0x4a70e4(0x1fa)](_0x35ab03=>{const _0x3eef0a=_0x4a70e4,_0x398da3=Date[_0x3eef0a(0x215)]()+Math[_0x3eef0a(0x76b)]();_0x161a8d[_0x3eef0a(0x7a6)]({'file':_0x35ab03,'id':_0x398da3});const _0x657e32=document[_0x3eef0a(0x2bb)](_0x3eef0a(0x6d4));_0x657e32['className']='preview-item',_0x657e32[_0x3eef0a(0x1fb)]['id']=_0x398da3;if(_0x35ab03[_0x3eef0a(0x226)]['startsWith']('image/')){const _0x1b3a86=document['createElement'](_0x3eef0a(0x717));_0x1b3a86['src']=URL['createObjectURL'](_0x35ab03),_0x657e32['appendChild'](_0x1b3a86);}else{if(_0x35ab03[_0x3eef0a(0x226)][_0x3eef0a(0x4cb)](_0x3eef0a(0x5dc))){const _0x2371fa=document[_0x3eef0a(0x2bb)](_0x3eef0a(0x67e));_0x2371fa['src']=URL[_0x3eef0a(0x542)](_0x35ab03),_0x2371fa[_0x3eef0a(0x224)]=!![],_0x657e32['appendChild'](_0x2371fa);}else _0x657e32[_0x3eef0a(0x258)]+=_0x3eef0a(0x380)+_0x35ab03[_0x3eef0a(0x533)]+_0x3eef0a(0x56f);}const _0x3cb241=document['createElement'](_0x3eef0a(0x7ad));_0x3cb241[_0x3eef0a(0x511)]='×',_0x3cb241[_0x3eef0a(0x3fc)]=_0x3eef0a(0x47e),_0x3cb241[_0x3eef0a(0x614)]=()=>{const _0xd36d9d=_0x3eef0a,_0x4737bd=_0x161a8d[_0xd36d9d(0x26a)](_0x8cff11=>_0x8cff11['id']==_0x398da3);if(_0x4737bd>-0x1)_0x161a8d['splice'](_0x4737bd,0x1);_0x357ef0[_0xd36d9d(0x316)](_0x657e32);},_0x657e32[_0x3eef0a(0x2a1)](_0x3cb241),_0x357ef0[_0x3eef0a(0x2a1)](_0x657e32);}),_0x155621['value']='';});const _0x49a94c=document[_0x56a46f(0x32b)](_0x56a46f(0x4b2)),_0x2c102e=document['getElementById'](_0x56a46f(0x4ff));[_0x56a46f(0x37b),_0x56a46f(0x57e)][_0x56a46f(0x1fa)](_0x504733=>{const _0x6e8064=_0x56a46f;_0x49a94c[_0x6e8064(0x26b)](_0x504733,_0x495eba=>{const _0x5725a0=_0x6e8064;_0x495eba[_0x5725a0(0x73f)](),_0x49a94c[_0x5725a0(0x63f)][_0x5725a0(0x5d9)](_0x5725a0(0x57e));});}),[_0x56a46f(0x560),_0x56a46f(0x355)][_0x56a46f(0x1fa)](_0x300ba9=>{const _0xee60e3=_0x56a46f;_0x49a94c[_0xee60e3(0x26b)](_0x300ba9,_0x1dfd1f=>{const _0x527af2=_0xee60e3;_0x1dfd1f[_0x527af2(0x73f)](),_0x49a94c[_0x527af2(0x63f)][_0x527af2(0x625)](_0x527af2(0x57e));});}),_0x49a94c[_0x56a46f(0x26b)]('drop',_0x251571=>{const _0x2f2da9=_0x56a46f,_0x3bd862=Array[_0x2f2da9(0x6a2)](_0x251571[_0x2f2da9(0x66d)]['files']);_0x59f05e(_0x3bd862);}),_0x49a94c[_0x56a46f(0x26b)](_0x56a46f(0x3a7),()=>_0x2c102e['click']()),_0x2c102e[_0x56a46f(0x26b)]('change',()=>{const _0x3b6dd2=_0x56a46f;_0x59f05e(Array[_0x3b6dd2(0x6a2)](_0x2c102e['files'])),_0x2c102e[_0x3b6dd2(0x4be)]='';});function _0x59f05e(_0x1aa9f6){const _0x424b26=_0x56a46f;_0x1aa9f6[_0x424b26(0x1fa)](_0x462a10=>{const _0x2bffaa=_0x424b26,_0x261b4d=Date[_0x2bffaa(0x215)]()+Math[_0x2bffaa(0x76b)]();_0x161a8d[_0x2bffaa(0x7a6)]({'file':_0x462a10,'id':_0x261b4d});const _0x61e855=document[_0x2bffaa(0x2bb)](_0x2bffaa(0x6d4));_0x61e855[_0x2bffaa(0x3fc)]=_0x2bffaa(0x74f),_0x61e855[_0x2bffaa(0x1fb)]['id']=_0x261b4d;if(_0x462a10[_0x2bffaa(0x226)]['startsWith']('image/')){const _0x52617f=document[_0x2bffaa(0x2bb)](_0x2bffaa(0x717));_0x52617f['src']=URL[_0x2bffaa(0x542)](_0x462a10),_0x61e855[_0x2bffaa(0x2a1)](_0x52617f);}else{if(_0x462a10[_0x2bffaa(0x226)][_0x2bffaa(0x4cb)](_0x2bffaa(0x5dc))){const _0x176319=document[_0x2bffaa(0x2bb)](_0x2bffaa(0x67e));_0x176319[_0x2bffaa(0x403)]=URL['createObjectURL'](_0x462a10),_0x176319[_0x2bffaa(0x224)]=!![],_0x61e855[_0x2bffaa(0x2a1)](_0x176319);}else{const _0x5278a8=document['createElement'](_0x2bffaa(0x6d4));_0x5278a8[_0x2bffaa(0x511)]=_0x462a10[_0x2bffaa(0x533)],_0x61e855[_0x2bffaa(0x2a1)](_0x5278a8);}}const _0x4f65a2=document[_0x2bffaa(0x2bb)](_0x2bffaa(0x7ad));_0x4f65a2['className']=_0x2bffaa(0x47e),_0x4f65a2[_0x2bffaa(0x511)]='×',_0x4f65a2[_0x2bffaa(0x614)]=()=>{const _0x34584a=_0x2bffaa,_0x3b8285=_0x161a8d[_0x34584a(0x26a)](_0x48b4ea=>_0x48b4ea['id']===_0x261b4d);if(_0x3b8285>-0x1)_0x161a8d[_0x34584a(0x5d2)](_0x3b8285,0x1);_0x357ef0['removeChild'](_0x61e855);},_0x61e855[_0x2bffaa(0x2a1)](_0x4f65a2),_0x357ef0['appendChild'](_0x61e855);});}const _0x5350f8=document['getElementById']('whatsappRecipients'),_0x48b35c=document[_0x56a46f(0x32b)](_0x56a46f(0x4bc));if(_0x5350f8&&_0x48b35c){const _0x1c06ef=_0x48b35c[_0x56a46f(0x55b)][_0x56a46f(0x426)](!![]),_0x141aeb=_0x1c06ef[_0x56a46f(0x453)](_0x56a46f(0x6a0));initCountrySelector(_0x141aeb),_0x5350f8['appendChild'](_0x141aeb);}const _0x1d5764=document[_0x56a46f(0x32b)](_0x56a46f(0x6b6)),_0x148eeb=document['getElementById']('email-recipient-template');if(_0x1d5764&&_0x148eeb){const _0x487185=_0x148eeb[_0x56a46f(0x55b)][_0x56a46f(0x426)](!![]),_0x264181=_0x487185[_0x56a46f(0x453)](_0x56a46f(0x476));_0x1d5764[_0x56a46f(0x2a1)](_0x264181);}const _0x1e1add=document[_0x56a46f(0x32b)](_0x56a46f(0x3f9));_0x1e1add&&_0x1e1add[_0x56a46f(0x26b)](_0x56a46f(0x3a7),function(){const _0x2f1dc4=_0x56a46f,_0x15e70e=document['getElementById'](_0x2f1dc4(0x3b1)),_0x3e8c49=document['getElementById'](_0x2f1dc4(0x4bc));if(_0x15e70e&&_0x3e8c49){const _0x46f9f9=_0x3e8c49['content'][_0x2f1dc4(0x426)](!![]),_0x3586f9=_0x46f9f9[_0x2f1dc4(0x453)](_0x2f1dc4(0x6a0)),_0x4f1a6a=_0x3586f9[_0x2f1dc4(0x453)]('.remove-recipient-btn');if(_0x4f1a6a)_0x4f1a6a['style']['display']='inline-flex';initCountrySelector(_0x3586f9),_0x4f1a6a&&_0x4f1a6a['addEventListener'](_0x2f1dc4(0x3a7),function(){const _0x3e203f=_0x2f1dc4;_0x15e70e[_0x3e203f(0x316)](_0x3586f9);}),_0x15e70e[_0x2f1dc4(0x2a1)](_0x3586f9);}});const _0x2397be=document[_0x56a46f(0x32b)](_0x56a46f(0x2a7));_0x2397be&&_0x2397be['addEventListener'](_0x56a46f(0x3a7),function(){const _0x5911da=_0x56a46f,_0xfb50c8=document[_0x5911da(0x32b)](_0x5911da(0x6b6)),_0x291418=document[_0x5911da(0x32b)](_0x5911da(0x5e0));if(_0xfb50c8&&_0x291418){const _0x2a54b9=_0x291418[_0x5911da(0x55b)][_0x5911da(0x426)](!![]),_0x3942c6=_0x2a54b9['querySelector'](_0x5911da(0x476)),_0x556380=_0x3942c6[_0x5911da(0x453)](_0x5911da(0x422));if(_0x556380)_0x556380[_0x5911da(0x656)][_0x5911da(0x662)]=_0x5911da(0x7b6);_0x556380&&_0x556380[_0x5911da(0x26b)](_0x5911da(0x3a7),function(){_0xfb50c8['removeChild'](_0x3942c6);}),_0xfb50c8['appendChild'](_0x3942c6);}}),sendEmailButton&&sendEmailButton['addEventListener'](_0x56a46f(0x3a7),async function(){const _0x33c885=_0x56a46f;sendEmailButton[_0x33c885(0x5c5)]=!![];if(!isOnline()){sendEmailButton['disabled']=![],ntfShow('No\x20tienes\x20conexión\x20a\x20internet!',0x2,0x1);return;}const _0x51882b=document['getElementById'](_0x33c885(0x6b6)),_0x4b57dd=_0x51882b[_0x33c885(0x333)](_0x33c885(0x62e)),_0x47ef56=[];for(const _0x765986 of _0x4b57dd){const _0x3d68e3=_0x765986[_0x33c885(0x4be)][_0x33c885(0x2b8)]();if(!_0x3d68e3){sendEmailButton[_0x33c885(0x5c5)]=![],ntfShow(_0x33c885(0x395),0x2,0x1);return;}_0x47ef56[_0x33c885(0x7a6)](_0x3d68e3);}if(_0x47ef56[_0x33c885(0x4e9)]===0x0){sendEmailButton[_0x33c885(0x5c5)]=![],ntfShow(_0x33c885(0x356),0x2,0x1);return;}let _0x4b6686=document['getElementById']('waMessage')['value'][_0x33c885(0x2b8)]();if(!_0x4b6686){alert(_0x33c885(0x314));return;}_0x4b6686=_0x4b6686[_0x33c885(0x5b9)](/\r\n|\n/g,_0x33c885(0x534));const _0x2810d1=parseInt(getUserPermissionApiERP(0x12)),_0x351ba7=myCompany[_0x33c885(0x7b2)]['find'](_0x3fa29e=>_0x3fa29e[_0x33c885(0x522)]==_0x2810d1);if(!_0x351ba7){sendEmailButton['disabled']=![],ntfShow('No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.');return;}const _0x519d82=_0x351ba7[_0x33c885(0x41e)],_0xdae3de=_0x351ba7[_0x33c885(0x6ab)],_0x39fd98=_0x351ba7[_0x33c885(0x780)],_0x2aeb82=_0x351ba7[_0x33c885(0x667)],_0x2585c3=_0x351ba7['setEmailCredentialsPortSMTP'],_0x35d3b7=document['getElementById']('windowId')['value'],{pdfGlobalPayload:_0x30da83,pdfGlobalBlob:_0x9a1654,pdfGlobalName:_0xac9ca6}=getLastOperationGlobalData(_0x35d3b7),_0x1e2685=_0x30da83['setDocumentType']+':\x20'+_0x30da83[_0x33c885(0x2e5)]+'-'+_0x30da83['setCorrelativo']+'\x20('+myCompany['setCompanyName']+'\x20)';if(!_0x9a1654){sendEmailButton[_0x33c885(0x5c5)]=![],ntfShow('No\x20hay\x20comprobante\x20generado\x20para\x20enviar.',0x2,0x1);return;}let _0x21b5f2=[];try{const _0x38c14f=await blobAStringBase64(_0x9a1654);_0x21b5f2['push']({'fileName':_0xac9ca6,'fileBase64':_0x38c14f});for(const _0x3629cd of _0x161a8d){const _0x2b12c0=await blobAStringBase64(_0x3629cd['file']);_0x21b5f2['push']({'fileName':_0x3629cd['file'][_0x33c885(0x533)],'fileBase64':_0x2b12c0});}}catch(_0x5292ec){console[_0x33c885(0x769)](_0x33c885(0x367),_0x5292ec),sendEmailButton[_0x33c885(0x5c5)]=![],ntfShow(_0x33c885(0x43f),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany[_0x33c885(0x261)],_0x519d82,_0xdae3de,_0x39fd98,_0x2aeb82,_0x2585c3,_0x47ef56,_0x1e2685,_0x4b6686,_0x21b5f2),hideLoadingModal(),showModal(),sendEmailButton['disabled']=![],document[_0x33c885(0x333)]('#emailRecipients\x20.emailDestination')[_0x33c885(0x1fa)](_0x99c8cc=>_0x99c8cc[_0x33c885(0x4be)]=''),ntfShow('Email(s)\x20enviado(s)\x20correctamente.',0x1,0x2);}catch(_0x398164){console[_0x33c885(0x769)](_0x33c885(0x7b7),_0x398164),ntfShow(_0x33c885(0x42e),0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton['disabled']=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x56a46f(0x26b)](_0x56a46f(0x3a7),async function(){const _0x5874c9=_0x56a46f,_0x3e61c8=document[_0x5874c9(0x32b)](_0x5874c9(0x3b1)),_0x162806=_0x3e61c8[_0x5874c9(0x333)](_0x5874c9(0x6a0)),_0x53a668=[];for(const _0x23f826 of _0x162806){const _0x28e2f2=_0x23f826['querySelector']('.select-button-pais-flag'),_0x10b8c0=_0x28e2f2['dataset'][_0x5874c9(0x660)]||'',_0x44924c=_0x23f826[_0x5874c9(0x453)](_0x5874c9(0x2c5)),_0x12ee90=_0x44924c['value'][_0x5874c9(0x2b8)]();if(!_0x12ee90){ntfShow(_0x5874c9(0x76a),0x2,0x1);return;}const _0x1558eb=_0x12ee90['replace'](/\D/g,'');_0x53a668[_0x5874c9(0x7a6)](_0x10b8c0+_0x1558eb);}if(_0x53a668[_0x5874c9(0x4e9)]===0x0){ntfShow(_0x5874c9(0x7ca),0x2,0x1);return;}let _0x55909e=document['getElementById'](_0x5874c9(0x781))['value'][_0x5874c9(0x2b8)]();if(!_0x55909e){alert(_0x5874c9(0x314));return;}const _0x172ed0=parseInt(document[_0x5874c9(0x32b)](_0x5874c9(0x732))[_0x5874c9(0x4be)],0xa),_0x3c53ee=getCredentialsApiWAChat(_0x172ed0),_0x40ec0e=_0x3c53ee?.[_0x5874c9(0x254)]??0x0;if(!(_0x40ec0e==0x1&&_0x3c53ee)){for(const _0xf9a78c of _0x53a668){const _0x200575=encodeURIComponent(_0x55909e),_0x1c539e=_0x5874c9(0x425)+_0xf9a78c+_0x5874c9(0x50f)+_0x200575;window[_0x5874c9(0x472)](_0x1c539e,'_blank');}ntfShow('Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.',0x1,0x2);return;}const _0x2ada35=document[_0x5874c9(0x32b)](_0x5874c9(0x459))[_0x5874c9(0x4be)],{pdfGlobalPayload:_0x478dc9,pdfGlobalBlob:_0x1912a0,pdfGlobalName:_0x480804}=getLastOperationGlobalData(_0x2ada35);if(!_0x1912a0){hideLoadingModal(),showModal(),ntfShow(_0x5874c9(0x5ff),0x2,0x1);return;}const _0x27bf17=_0x3c53ee[_0x5874c9(0x7ba)],_0x30de76=_0x3c53ee[_0x5874c9(0x21f)],_0x287600=_0x5874c9(0x555)+_0x27bf17+_0x5874c9(0x6b3)+_0x30de76,_0x2f89d2=[],_0x444b70=new File([_0x1912a0],_0x480804,{'type':_0x5874c9(0x2b9)});_0x2f89d2[_0x5874c9(0x7a6)](_0x444b70);for(const _0x59a65d of _0x161a8d){_0x2f89d2[_0x5874c9(0x7a6)](_0x59a65d[_0x5874c9(0x61f)]);}try{hideModal(),showLoadingModal();if(_0x55909e)for(const _0x5fdba8 of _0x53a668){const _0x28a870=_0x5fdba8+_0x5874c9(0x2e0);await sendMessageApiWAChat(_0x172ed0,_0x28a870,'text',_0x55909e);}const _0x2fbec=[];for(const _0x44a93d of _0x2f89d2){const _0xb6f2e7=new FormData();_0xb6f2e7[_0x5874c9(0x4da)]('file',_0x44a93d);const _0x3e7173=await fetch(_0x287600+_0x5874c9(0x1fd),{'method':_0x5874c9(0x4c6),'headers':{'x-auth-token':myCompany['setAuthToken']},'body':_0xb6f2e7});if(!_0x3e7173['ok']){const _0x3d7f61=await _0x3e7173[_0x5874c9(0x236)]()[_0x5874c9(0x209)](()=>({}));throw new Error(_0x3d7f61[_0x5874c9(0x769)]||_0x5874c9(0x54b)+_0x44a93d[_0x5874c9(0x533)]+_0x5874c9(0x54a));}const {url:_0x40b61e}=await _0x3e7173['json']();let _0x2e1605;if(_0x44a93d[_0x5874c9(0x226)][_0x5874c9(0x4cb)](_0x5874c9(0x5e5)))_0x2e1605=_0x5874c9(0x3bd);else{if(_0x44a93d['type'][_0x5874c9(0x4cb)](_0x5874c9(0x5dc)))_0x2e1605=_0x5874c9(0x67e);else _0x44a93d[_0x5874c9(0x226)][_0x5874c9(0x4cb)](_0x5874c9(0x4a7))?_0x2e1605='audio':_0x2e1605=_0x5874c9(0x451);}_0x2fbec[_0x5874c9(0x7a6)]({'url':_0x40b61e,'name':_0x44a93d[_0x5874c9(0x533)],'mediaType':_0x2e1605,'mimeType':_0x44a93d[_0x5874c9(0x226)]});}for(const _0x2e78e3 of _0x53a668){const _0x1f42b7=_0x2e78e3+_0x5874c9(0x2e0);for(const _0x10b520 of _0x2fbec){await sendMessageApiWAChat(_0x172ed0,_0x1f42b7,_0x10b520[_0x5874c9(0x730)],_0x10b520['url'],'',_0x10b520[_0x5874c9(0x533)],_0x10b520[_0x5874c9(0x530)]);}}ntfShow(_0x5874c9(0x4a6),0x1,0x2);}catch(_0x222114){console[_0x5874c9(0x769)]('Error\x20en\x20envío\x20WhatsApp\x20API:',_0x222114),ntfShow(_0x222114[_0x5874c9(0x301)]||_0x5874c9(0x2aa),0x2,0x2);}finally{document[_0x5874c9(0x333)](_0x5874c9(0x38c))['forEach'](_0x3f8085=>_0x3f8085[_0x5874c9(0x4be)]=''),document[_0x5874c9(0x32b)](_0x5874c9(0x781))['value']='',_0x161a8d=[];const _0x5f243e=document[_0x5874c9(0x32b)]('previewList');_0x5f243e&&(_0x5f243e[_0x5874c9(0x258)]=''),hideLoadingModal(),showModal();}}),document[_0x56a46f(0x26b)](_0x56a46f(0x3a7),function(_0x4e00c5){const _0x261810=_0x56a46f;!_0x4e00c5[_0x261810(0x657)][_0x261810(0x6c3)](_0x261810(0x7b8))&&!_0x4e00c5[_0x261810(0x657)]['closest']('.suggestions-container')&&document['querySelectorAll']('.suggestions-container')[_0x261810(0x1fa)](_0x179f4c=>{const _0x33732d=_0x261810;_0x179f4c[_0x33732d(0x258)]='';});}),document[_0x56a46f(0x32b)](_0x56a46f(0x620))[_0x56a46f(0x26b)](_0x56a46f(0x39b),async function(){const _0x4881f5=_0x56a46f,_0x2313be=parseInt(this[_0x4881f5(0x4be)]);myCompany['setBranchDefault']=_0x2313be,saveCredentialsApiWAChatInCompany();const _0x5cab19=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5cab19),searchInput[_0x4881f5(0x4be)]='',cargarAlmacenes(_0x2313be),setTimeout(()=>{const _0x46fd5e=_0x4881f5;document[_0x46fd5e(0x32b)](_0x46fd5e(0x256))[_0x46fd5e(0x22e)](new Event('change'));},0x64),cargarPisos(_0x2313be),setTimeout(()=>{const _0x42f36e=_0x4881f5;document[_0x42f36e(0x32b)](_0x42f36e(0x3a2))[_0x42f36e(0x22e)](new Event(_0x42f36e(0x39b)));},0x64);const _0x1aadac=document[_0x4881f5(0x32b)](_0x4881f5(0x459))[_0x4881f5(0x4be)];if(parseFloat(_0x1aadac)>0x0){const _0x44faaa=document[_0x4881f5(0x32b)](_0x4881f5(0x336)+_0x1aadac)[_0x4881f5(0x4be)];await updateSerieOptions(_0x44faaa,_0x1aadac);}const _0x3312e4=myCompany[_0x4881f5(0x5cf)][_0x4881f5(0x46d)](_0x3ab8c8=>_0x3ab8c8[_0x4881f5(0x620)]==_0x2313be);if(_0x3312e4[_0x4881f5(0x4e9)]===0x0)document[_0x4881f5(0x32b)](_0x4881f5(0x32d))[_0x4881f5(0x258)]='',document[_0x4881f5(0x32b)](_0x4881f5(0x401))[_0x4881f5(0x511)]=_0x4881f5(0x6a4);else{const _0x61dd27=document[_0x4881f5(0x32b)](_0x4881f5(0x401));_0x61dd27[_0x4881f5(0x511)]=_0x3312e4[0x0][_0x4881f5(0x486)],_0x61dd27[_0x4881f5(0x439)]('data-printer',_0x3312e4[0x0][_0x4881f5(0x2d3)]),_0x61dd27[_0x4881f5(0x26b)](_0x4881f5(0x3a7),function(){const _0x13758=_0x4881f5,_0x218200=document[_0x13758(0x32b)](_0x13758(0x459))['value'],{pdfGlobalPayload:_0x4a8341,pdfGlobalBlob:_0x664948,pdfGlobalName:_0x49db7b}=getLastOperationGlobalData(_0x218200);setPrintOnline(this['getAttribute']('data-printer'),_0x664948,_0x49db7b,0x0);});const _0x36cdd2=document[_0x4881f5(0x32b)](_0x4881f5(0x32d));_0x36cdd2['innerHTML']='',_0x3312e4[_0x4881f5(0x1fa)](_0x50828f=>{const _0x521c80=_0x4881f5,_0x1c4f4c=document['createElement']('li');_0x1c4f4c['innerHTML']='<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22'+_0x50828f[_0x521c80(0x2d3)]+_0x521c80(0x4f9)+_0x50828f[_0x521c80(0x486)]+_0x521c80(0x6c9)+_0x50828f['setPrinterAlias']+_0x521c80(0x550),_0x36cdd2[_0x521c80(0x2a1)](_0x1c4f4c);});}ntf_initNotifications(),apiERPsyncWindows();}),document[_0x56a46f(0x32b)](_0x56a46f(0x256))[_0x56a46f(0x26b)](_0x56a46f(0x39b),function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document[_0x56a46f(0x32b)](_0x56a46f(0x3a2))[_0x56a46f(0x26b)](_0x56a46f(0x39b),function(_0x4f6c03){const _0x52b5f4=_0x56a46f,_0x50a29d=_0x4f6c03['target'][_0x52b5f4(0x4be)];changeEnvironments(_0x50a29d);}),loadCartAndSetTabCount(_0x48e62c);};