/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.6
*/

const _0x4f2213=_0x5392;(function(_0x2187da,_0xce791b){const _0x1d40ed=_0x5392,_0x33bd33=_0x2187da();while(!![]){try{const _0x3ce011=parseInt(_0x1d40ed(0xf9))/0x1+parseInt(_0x1d40ed(0x138))/0x2*(-parseInt(_0x1d40ed(0x11e))/0x3)+parseInt(_0x1d40ed(0x124))/0x4+-parseInt(_0x1d40ed(0x12d))/0x5*(-parseInt(_0x1d40ed(0x119))/0x6)+parseInt(_0x1d40ed(0x118))/0x7+parseInt(_0x1d40ed(0x130))/0x8+parseInt(_0x1d40ed(0x11a))/0x9*(-parseInt(_0x1d40ed(0x103))/0xa);if(_0x3ce011===_0xce791b)break;else _0x33bd33['push'](_0x33bd33['shift']());}catch(_0x10d508){_0x33bd33['push'](_0x33bd33['shift']());}}}(_0x7292,0xad7fc));const selectCredentialsApiWAChat=document['getElementById'](_0x4f2213(0xfc)),loginPanel=document[_0x4f2213(0x134)](_0x4f2213(0x108)),chatPanel=document[_0x4f2213(0x134)](_0x4f2213(0x109)),qrImg=document[_0x4f2213(0x134)](_0x4f2213(0x12b)),overlay=document[_0x4f2213(0x134)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x22c975=_0x4f2213;loginPanel[_0x22c975(0x129)][_0x22c975(0x11b)]=_0x22c975(0xfe),chatPanel['style'][_0x22c975(0x114)]='hidden';}function _0x5392(_0x8414a7,_0x43b0e4){const _0x4dac0d=_0x7292();return _0x5392=function(_0x168e64,_0x3e6283){_0x168e64=_0x168e64-0xf9;let _0x276fc9=_0x4dac0d[_0x168e64];return _0x276fc9;},_0x5392(_0x8414a7,_0x43b0e4);}function showChat(){const _0x1e8312=_0x4f2213;loginPanel['style'][_0x1e8312(0x11b)]='none',chatPanel[_0x1e8312(0x129)][_0x1e8312(0x114)]=_0x1e8312(0x10c);}async function initQRApiWAChat(_0x2f950f,_0x734e4c){const _0x2d7d83=_0x4f2213,_0xd9ad80=(function(){let _0xb735d2=!![];return function(_0x273958,_0x5bfa60){const _0x2c2009=_0xb735d2?function(){const _0x323360=_0x5392;if(_0x5bfa60){const _0x381ab8=_0x5bfa60[_0x323360(0x10a)](_0x273958,arguments);return _0x5bfa60=null,_0x381ab8;}}:function(){};return _0xb735d2=![],_0x2c2009;};}()),_0x2dcf43=_0xd9ad80(this,function(){const _0x385dc9=_0x5392;return _0x2dcf43['toString']()[_0x385dc9(0x113)]('(((.+)+)+)+$')['toString']()[_0x385dc9(0x123)](_0x2dcf43)[_0x385dc9(0x113)](_0x385dc9(0x10b));});_0x2dcf43();const _0x4754b0=(function(){let _0x12140b=!![];return function(_0x58e55e,_0x5e0b94){const _0x79ab0=_0x12140b?function(){const _0xad269b=_0x5392;if(_0x5e0b94){const _0x3e5b85=_0x5e0b94[_0xad269b(0x10a)](_0x58e55e,arguments);return _0x5e0b94=null,_0x3e5b85;}}:function(){};return _0x12140b=![],_0x79ab0;};}()),_0x34296=_0x4754b0(this,function(){const _0x2886ec=_0x5392;let _0x2624fc;try{const _0x339eef=Function(_0x2886ec(0x12e)+_0x2886ec(0x100)+');');_0x2624fc=_0x339eef();}catch(_0x3e629a){_0x2624fc=window;}const _0x4f3273=_0x2624fc[_0x2886ec(0x111)]=_0x2624fc[_0x2886ec(0x111)]||{},_0x416024=[_0x2886ec(0x126),_0x2886ec(0x105),_0x2886ec(0xfa),'error',_0x2886ec(0x117),_0x2886ec(0xff),_0x2886ec(0x136)];for(let _0xba85ab=0x0;_0xba85ab<_0x416024['length'];_0xba85ab++){const _0x4b94f9=_0x4754b0['constructor']['prototype'][_0x2886ec(0x131)](_0x4754b0),_0x206103=_0x416024[_0xba85ab],_0x30b8e0=_0x4f3273[_0x206103]||_0x4b94f9;_0x4b94f9[_0x2886ec(0x11d)]=_0x4754b0[_0x2886ec(0x131)](_0x4754b0),_0x4b94f9['toString']=_0x30b8e0[_0x2886ec(0x115)]['bind'](_0x30b8e0),_0x4f3273[_0x206103]=_0x4b94f9;}});_0x34296();const _0x46bdc4=selectCredentialsApiWAChat['value'],_0x387420=getCredentialsApiWAChat(_0x46bdc4);if(!_0x387420){ntfShow(_0x2d7d83(0x104));return;}const _0x146b99=_0x387420['setCredentialsApiWAChatSubdomain'],_0x25e301=_0x387420[_0x2d7d83(0x10e)];if(_0x2f950f===_0x2d7d83(0x11b))clearTimeout(qrTimeout),overlay[_0x2d7d83(0x129)]['display']=_0x2d7d83(0x135),qrImg[_0x2d7d83(0x106)]=_0x734e4c,qrTimeout=setTimeout(async()=>{const _0x341732=_0x2d7d83;try{const _0x1be33e=await fetch('https://'+_0x146b99+'/wa/'+_0x25e301+'/qr',{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x381488=await _0x1be33e[_0x341732(0x116)]();_0x381488[_0x341732(0x125)]&&_0x381488[_0x341732(0x125)][_0x341732(0x128)]()[_0x341732(0x110)](_0x341732(0x137))?(showChat(),_0x387420['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x341732(0x129)][_0x341732(0x11b)]=_0x341732(0xfe),_0x387420['setCredentialsApiWAChatStatus']=0x0);const _0x19bb5a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x19bb5a);}catch(_0x11bdc2){console[_0x341732(0x10f)](_0x341732(0x107),_0x11bdc2),overlay['style'][_0x341732(0x11b)]=_0x341732(0xfe);}},validSeconds*0x3e8);else{if(_0x2f950f===_0x2d7d83(0x12a))try{const _0x30db1d=await fetch(_0x2d7d83(0x102)+_0x146b99+'/wa/'+_0x25e301+_0x2d7d83(0x120),{'headers':{'x-auth-token':myCompany[_0x2d7d83(0x11c)]}}),_0xfcf9ab=await _0x30db1d['json']();if(_0xfcf9ab[_0x2d7d83(0x125)]&&_0xfcf9ab['status'][_0x2d7d83(0x128)]()[_0x2d7d83(0x110)](_0x2d7d83(0x137)))showChat(),_0x387420['setCredentialsApiWAChatStatus']=0x1;else _0xfcf9ab['qr']&&(showLogin(),await initQRApiWAChat('display',_0xfcf9ab['qr']),_0x387420[_0x2d7d83(0x101)]=0x0);const _0x44742d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x44742d);}catch(_0x5bfab9){console['error'](_0x5bfab9);}}}overlay['addEventListener']('click',()=>initQRApiWAChat(_0x4f2213(0x12a))),window[_0x4f2213(0x12f)]=function(){const _0x24fc04=_0x4f2213,_0x5369c7=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x3cb524=document[_0x24fc04(0x121)](_0x24fc04(0x122));_0x3cb524&&_0x3cb524[_0x24fc04(0xfb)]('click',function(){logoutReload(0x0,_0x5369c7);}),document[_0x24fc04(0x134)]('setCredentialsApiWAChat')[_0x24fc04(0xfb)]('change',async function(){const _0x3d1d39=_0x24fc04;saveCredentialsApiWAChatInCompany();const _0x145374=await createCartStore('');await saveCompanyToIndexedDB(company,_0x145374),location[_0x3d1d39(0x11f)]();}),document[_0x24fc04(0x134)]('setBranchId')[_0x24fc04(0xfb)](_0x24fc04(0x10d),async function(){const _0x4cc341=_0x24fc04,_0x17dbd8=parseInt(this[_0x4cc341(0x112)]);myCompany['setBranchDefault']=_0x17dbd8,saveCredentialsApiWAChatInCompany();const _0x4d3f57=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4d3f57),await cargarPisos(_0x17dbd8),await waitForEvent(_0x4cc341(0xfd),'EnvironmentChangeComplete'),await cargarAlmacenes(_0x17dbd8),await waitForEvent('setWarehouseId',_0x4cc341(0x132)),document[_0x4cc341(0x127)](new Event(_0x4cc341(0x133))),ntf_initNotifications();}),document[_0x24fc04(0x134)]('setWarehouseId')[_0x24fc04(0xfb)](_0x24fc04(0x10d),async function(){const _0x58d651=_0x24fc04;document[_0x58d651(0x127)](new Event(_0x58d651(0x132)));}),document[_0x24fc04(0x134)]('setFloorId')['addEventListener'](_0x24fc04(0x10d),async function(_0x519b64){const _0x543f8e=_0x24fc04;document['dispatchEvent'](new Event(_0x543f8e(0x12c)));}),loadCartAndSetTabCount(_0x5369c7);};function _0x7292(){const _0xad87f5=['table','{}.constructor(\x22return\x20this\x22)(\x20)','setCredentialsApiWAChatStatus','https://','68580QfZMTm','Credenciales\x20no\x20encontradas','warn','src','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','loginPanel','chatPanel','apply','(((.+)+)+)+$','visible','change','setCredentialsApiWAChatPort','error','includes','console','value','search','visibility','toString','json','exception','7656600qPhnXZ','442566egWVxR','5454ineyra','display','setAuthToken','__proto__','9akFwHO','reload','/qr','querySelector','.btn-logout','constructor','3780188QqOKCK','status','log','dispatchEvent','toLowerCase','style','init','qr-img','EnvironmentChangeComplete','95hMrFoM','return\x20(function()\x20','onload','11152992vFVlmI','bind','WarehouseChangeComplete','BranchChangeComplete','getElementById','none','trace','ya\x20conectado','409030zZolNe','645715dvmcdY','info','addEventListener','setCredentialsApiWAChat','setFloorId','flex'];_0x7292=function(){return _0xad87f5;};return _0x7292();}