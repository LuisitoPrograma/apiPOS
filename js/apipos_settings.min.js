/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.2
*/

function _0x3e09(){var _0x2fea75=['statusText','toString','offline_operations','apply','dispatchEvent','Error\x20leyendo\x20operaciones:','objectStore','message','Usuario\x20','POST','Error\x20Sync:\x20','prototype','setSerie','userPerm_container\x20border_blue','Correlativo','div','constructor','tbody','userPerm_select','createElement','style','getAll','onload','className','appendChild','console','offlineOps_table','setUserFullName','display','select','.userPerm_editBtn','reject','setEmailCredentials','setBranchId','786616BbcZMO','Editar','addEventListener','target','Error\x20al\x20actualizar\x20data\x20online:','.btn-logout','Guardar','{}.constructor(\x22return\x20this\x22)(\x20)','catch','setLastDateUpdate','userPerm_container\x20border_orange','thead','781770TMVUzk','45WablYG','setPermissionNameFalse','panel_operations','trace','setPermissions','userPerm_header','setPermissionValue','https://apierp.dev/api/users/update/','length','textContent','value','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','json','apiPOSsendOffline','change','.userPerm_saveBtn','forEach','setFloorId','bind','setTipoOperacion','userPerm_editBtn','29810313RvUkMm','error','setBranchDefault','setWarehouseId','76698vnHYpm','getElementsByClassName','(((.+)+)+)+$','./img/apiPOS.png','success','disabled','return\x20(function()\x20','setUsers','setTipoOperacionName','permIndex','setTipoOperacionCodigo','then','dataset','querySelector','push','onsuccess','NÃºmero\x20de\x20Decimales:\x20','952002bflyhX','userIndex','Serie','setPermissionId','setFechaHora','userPerm_container_','button','panel_users','option','3255602vGGOwS','result','readonly','30nGsmMt','userPerm_item','setCorrelativo','innerHTML','log','onerror','Error\x20cargando\x20operaciones.','table','setTipoOperaciones','click','setEmailCredentialsSenderEmail','search','none','setEmailCredentialsId','No\x20hay\x20operaciones\x20pendientes.','Tipo','10547328uONPHk','indexOf','getElementById'];_0x3e09=function(){return _0x2fea75;};return _0x3e09();}var _0x5f503a=_0x4a8e;(function(_0x2818a5,_0x18b550){var _0xb79c0d=_0x4a8e,_0xa78a3c=_0x2818a5();while(!![]){try{var _0x2bc0b5=parseInt(_0xb79c0d(0x138))/0x1+parseInt(_0xb79c0d(0x144))/0x2*(parseInt(_0xb79c0d(0x127))/0x3)+parseInt(_0xb79c0d(0x101))/0x4*(-parseInt(_0xb79c0d(0x10e))/0x5)+-parseInt(_0xb79c0d(0x10d))/0x6+-parseInt(_0xb79c0d(0x141))/0x7+-parseInt(_0xb79c0d(0x154))/0x8+parseInt(_0xb79c0d(0x123))/0x9;if(_0x2bc0b5===_0x18b550)break;else _0xa78a3c['push'](_0xa78a3c['shift']());}catch(_0x48e946){_0xa78a3c['push'](_0xa78a3c['shift']());}}}(_0x3e09,0xeb5e2));var _0x45bc0e=(function(){var _0x4c721d=!![];return function(_0x27e283,_0x11b7dc){var _0x302f46=_0x4c721d?function(){var _0x25e219=_0x4a8e;if(_0x11b7dc){var _0x1e7856=_0x11b7dc[_0x25e219(0x15a)](_0x27e283,arguments);return _0x11b7dc=null,_0x1e7856;}}:function(){};return _0x4c721d=![],_0x302f46;};}()),_0x3280aa=_0x45bc0e(this,function(){var _0x3e46b7=_0x4a8e;return _0x3280aa[_0x3e46b7(0x158)]()[_0x3e46b7(0x14f)]('(((.+)+)+)+$')[_0x3e46b7(0x158)]()[_0x3e46b7(0x167)](_0x3280aa)['search'](_0x3e46b7(0x129));});_0x3280aa();var _0x395cea=(function(){var _0x1c8a88=!![];return function(_0x5d6ba8,_0x2885be){var _0x5a478f=_0x1c8a88?function(){var _0x486de0=_0x4a8e;if(_0x2885be){var _0x49251d=_0x2885be[_0x486de0(0x15a)](_0x5d6ba8,arguments);return _0x2885be=null,_0x49251d;}}:function(){};return _0x1c8a88=![],_0x5a478f;};}()),_0x265cef=_0x395cea(this,function(){var _0x5abac2=_0x4a8e,_0x17ed30=function(){var _0xa5e7f1=_0x4a8e,_0x36f986;try{_0x36f986=Function(_0xa5e7f1(0x12d)+_0xa5e7f1(0x108)+');')();}catch(_0x1283f6){_0x36f986=window;}return _0x36f986;},_0x5ec389=_0x17ed30(),_0x1cd9c4=_0x5ec389['console']=_0x5ec389[_0x5abac2(0x170)]||{},_0x10525b=[_0x5abac2(0x148),'warn','info','error','exception',_0x5abac2(0x14b),_0x5abac2(0x111)];for(var _0x26a3a9=0x0;_0x26a3a9<_0x10525b['length'];_0x26a3a9++){var _0x372f3a=_0x395cea[_0x5abac2(0x167)][_0x5abac2(0x162)][_0x5abac2(0x120)](_0x395cea),_0x3c9202=_0x10525b[_0x26a3a9],_0x54cdc6=_0x1cd9c4[_0x3c9202]||_0x372f3a;_0x372f3a['__proto__']=_0x395cea[_0x5abac2(0x120)](_0x395cea),_0x372f3a[_0x5abac2(0x158)]=_0x54cdc6[_0x5abac2(0x158)][_0x5abac2(0x120)](_0x54cdc6),_0x1cd9c4[_0x3c9202]=_0x372f3a;}});_0x265cef();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x38b755,_0x31b59b){var _0x1692d6=_0x4a8e;if(!isOnline())return console[_0x1692d6(0x148)]('Error\x20Network.'),Promise[_0x1692d6(0xfe)]('Error\x20Network.');const _0x148cd6={'setAuthToken':_0x38b755,'setUsers':_0x31b59b};return fetch(_0x1692d6(0x115),{'method':_0x1692d6(0x160),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x148cd6)})[_0x1692d6(0x132)](_0x35119c=>{var _0x34e266=_0x1692d6;if(!_0x35119c['ok'])throw new Error(_0x34e266(0x161)+_0x35119c[_0x34e266(0x157)]);return _0x35119c[_0x34e266(0x11a)]();})[_0x1692d6(0x132)](_0x5ceea8=>{var _0x75b69e=_0x1692d6;if(!_0x5ceea8[_0x75b69e(0x12b)])throw new Error(_0x5ceea8[_0x75b69e(0x15e)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x75b69e(0x148)](_0x75b69e(0x119)),_0x5ceea8;})[_0x1692d6(0x109)](_0x2fa975=>{var _0x1bc5a5=_0x1692d6;console['error'](_0x1bc5a5(0x105),_0x2fa975);throw _0x2fa975;});}async function apiERPsyncUsers(){isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0]['setAuthToken'],company[0x0]['setUsers']));}function generatePermissionsPanel(_0x31b4df){var _0x4503cc=_0x4a8e,_0x5bcec9=document['getElementById'](_0x4503cc(0x13f));_0x5bcec9[_0x4503cc(0x147)]='';var _0x2cd3d7=_0x31b4df[0x0]&&_0x31b4df[0x0]['setUsers']||[],_0x578bf4=_0x31b4df[0x0]&&_0x31b4df[0x0][_0x4503cc(0x14c)]||[];for(var _0x42f034=0x0;_0x42f034<_0x2cd3d7[_0x4503cc(0x116)];_0x42f034++){var _0x3a3469=_0x2cd3d7[_0x42f034],_0xb18c88=document[_0x4503cc(0x16a)](_0x4503cc(0x166));_0xb18c88[_0x4503cc(0x16e)]=_0x4503cc(0x164),_0xb18c88['id']='userPerm_container_'+_0x42f034;var _0x16e82c=document[_0x4503cc(0x16a)]('h3');_0x16e82c[_0x4503cc(0x16e)]=_0x4503cc(0x113),_0x16e82c['textContent']=_0x3a3469[_0x4503cc(0xfa)]||_0x4503cc(0x15f)+(_0x42f034+0x1),_0xb18c88[_0x4503cc(0x16f)](_0x16e82c);var _0x44d1e8=document[_0x4503cc(0x16a)](_0x4503cc(0x166));_0x44d1e8[_0x4503cc(0x16e)]='userPerm_list';for(var _0x5f2f16=0x0;_0x5f2f16<_0x3a3469[_0x4503cc(0x112)][_0x4503cc(0x116)];_0x5f2f16++){var _0x209b0e=_0x3a3469['setPermissions'][_0x5f2f16],_0x46ee7e=document[_0x4503cc(0x16a)](_0x4503cc(0x166));_0x46ee7e[_0x4503cc(0x16e)]=_0x4503cc(0x145),_0x46ee7e['dataset']['userIndex']=_0x42f034,_0x46ee7e['dataset'][_0x4503cc(0x130)]=_0x5f2f16;var _0x4accaf=Number(_0x209b0e[_0x4503cc(0x114)]),_0x1aa792=document['createElement'](_0x4503cc(0xfc));_0x1aa792['className']=_0x4503cc(0x169),_0x1aa792[_0x4503cc(0x12c)]=!![];if(BOOLEAN_PERMS[_0x4503cc(0x155)](_0x209b0e[_0x4503cc(0x13b)])!==-0x1){var _0xb9cb73=document[_0x4503cc(0x16a)](_0x4503cc(0x140));_0xb9cb73['value']='0',_0xb9cb73[_0x4503cc(0x117)]=_0x209b0e['setPermissionNameFalse'],_0x1aa792[_0x4503cc(0x16f)](_0xb9cb73);var _0x325be5=document[_0x4503cc(0x16a)](_0x4503cc(0x140));_0x325be5['value']='1',_0x325be5[_0x4503cc(0x117)]=_0x209b0e['setPermissionNameTrue'],_0x1aa792[_0x4503cc(0x16f)](_0x325be5),_0x1aa792[_0x4503cc(0x118)]=String(_0x4accaf);}else{if(_0x209b0e[_0x4503cc(0x13b)]===0x9||_0x209b0e[_0x4503cc(0x13b)]===0xc||_0x209b0e['setPermissionId']===0x12){if(_0x209b0e[_0x4503cc(0x13b)]===0x9){var _0xee1353=document['createElement'](_0x4503cc(0x140));_0xee1353[_0x4503cc(0x118)]='0',_0xee1353[_0x4503cc(0x117)]=_0x209b0e[_0x4503cc(0x10f)],_0x1aa792['appendChild'](_0xee1353);for(var _0x320ce2=0x0;_0x320ce2<_0x578bf4[_0x4503cc(0x116)];_0x320ce2++){var _0x3d5b1a=_0x578bf4[_0x320ce2],_0x758850=document[_0x4503cc(0x16a)](_0x4503cc(0x140));_0x758850[_0x4503cc(0x118)]=String(_0x3d5b1a[_0x4503cc(0x131)]),_0x758850[_0x4503cc(0x117)]=_0x3d5b1a[_0x4503cc(0x12f)],_0x1aa792[_0x4503cc(0x16f)](_0x758850);}}if(_0x209b0e[_0x4503cc(0x13b)]===0xc)for(var _0x320ce2=0x1;_0x320ce2<=0x4;_0x320ce2++){var _0x3d5b1a=_0x320ce2,_0x758850=document[_0x4503cc(0x16a)](_0x4503cc(0x140));_0x758850[_0x4503cc(0x118)]=String(_0x3d5b1a),_0x758850['textContent']=_0x4503cc(0x137)+_0x3d5b1a,_0x1aa792[_0x4503cc(0x16f)](_0x758850);}if(_0x209b0e[_0x4503cc(0x13b)]===0x12){var _0x2bd4a2=myCompany&&myCompany[_0x4503cc(0xff)]||[],_0xee1353=document[_0x4503cc(0x16a)](_0x4503cc(0x140));_0xee1353[_0x4503cc(0x118)]='0',_0xee1353[_0x4503cc(0x117)]=_0x209b0e['setPermissionNameFalse'],_0x1aa792[_0x4503cc(0x16f)](_0xee1353);for(var _0x320ce2=0x0;_0x320ce2<_0x2bd4a2[_0x4503cc(0x116)];_0x320ce2++){var _0x3d5b1a=_0x2bd4a2[_0x320ce2],_0x758850=document['createElement'](_0x4503cc(0x140));_0x758850[_0x4503cc(0x118)]=String(_0x3d5b1a[_0x4503cc(0x151)]),_0x758850[_0x4503cc(0x117)]=_0x3d5b1a[_0x4503cc(0x14e)],_0x1aa792[_0x4503cc(0x16f)](_0x758850);}}_0x1aa792['value']=String(_0x4accaf);}}_0x46ee7e[_0x4503cc(0x16f)](_0x1aa792),_0x44d1e8[_0x4503cc(0x16f)](_0x46ee7e);}_0xb18c88[_0x4503cc(0x16f)](_0x44d1e8);var _0x5bb2f3=document['createElement']('button');_0x5bb2f3[_0x4503cc(0x16e)]=_0x4503cc(0x122),_0x5bb2f3[_0x4503cc(0x117)]=_0x4503cc(0x102),_0x5bb2f3[_0x4503cc(0x133)][_0x4503cc(0x139)]=_0x42f034;var _0x2b7d45=document[_0x4503cc(0x16a)](_0x4503cc(0x13e));_0x2b7d45[_0x4503cc(0x16e)]='userPerm_saveBtn',_0x2b7d45[_0x4503cc(0x117)]=_0x4503cc(0x107),_0x2b7d45[_0x4503cc(0x133)][_0x4503cc(0x139)]=_0x42f034,_0x2b7d45[_0x4503cc(0x16b)][_0x4503cc(0xfb)]=_0x4503cc(0x150),_0xb18c88[_0x4503cc(0x16f)](_0x5bb2f3),_0xb18c88[_0x4503cc(0x16f)](_0x2b7d45),_0x5bcec9[_0x4503cc(0x16f)](_0xb18c88),_0x5bb2f3[_0x4503cc(0x103)](_0x4503cc(0x14d),onEditClick),_0x2b7d45[_0x4503cc(0x103)](_0x4503cc(0x14d),onSaveClick);}}function onEditClick(_0x532cc){var _0x5166e6=_0x4a8e,_0x1971f1=_0x532cc[_0x5166e6(0x104)]['dataset']['userIndex'],_0x1392ae=document[_0x5166e6(0x156)](_0x5166e6(0x13d)+_0x1971f1),_0x948fa5=_0x1392ae[_0x5166e6(0x128)](_0x5166e6(0x169));for(var _0x4c6f50=0x0;_0x4c6f50<_0x948fa5['length'];_0x4c6f50++){_0x948fa5[_0x4c6f50]['disabled']=![];}_0x1392ae[_0x5166e6(0x134)](_0x5166e6(0xfd))['style']['display']=_0x5166e6(0x150),_0x1392ae['querySelector'](_0x5166e6(0x11d))['style'][_0x5166e6(0xfb)]='block',_0x1392ae[_0x5166e6(0x16e)]=_0x5166e6(0x10b);}async function onSaveClick(_0x248019){var _0x4d726f=_0x4a8e,_0x2dad81=_0x248019[_0x4d726f(0x104)][_0x4d726f(0x133)][_0x4d726f(0x139)],_0x1eee0c=document[_0x4d726f(0x156)](_0x4d726f(0x13d)+_0x2dad81),_0x341503=_0x1eee0c[_0x4d726f(0x128)](_0x4d726f(0x145));for(var _0x5f2ce8=0x0;_0x5f2ce8<_0x341503[_0x4d726f(0x116)];_0x5f2ce8++){var _0x3595e5=_0x341503[_0x5f2ce8],_0x14eb4b=parseInt(_0x3595e5['dataset'][_0x4d726f(0x139)],0xa),_0x442143=parseInt(_0x3595e5[_0x4d726f(0x133)][_0x4d726f(0x130)],0xa),_0x11ec10=company[0x0][_0x4d726f(0x12e)][_0x14eb4b]['setPermissions'][_0x442143],_0x4ebe0f=_0x3595e5[_0x4d726f(0x128)](_0x4d726f(0x169))[0x0],_0x231614=_0x4ebe0f[_0x4d726f(0x118)];_0x11ec10[_0x4d726f(0x114)]=_0x231614,_0x4ebe0f['disabled']=!![],company[0x0][_0x4d726f(0x12e)][_0x14eb4b][_0x4d726f(0x10a)]=new Date();}const _0x5c9b74=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5c9b74),_0x1eee0c[_0x4d726f(0x134)](_0x4d726f(0x11d))[_0x4d726f(0x16b)][_0x4d726f(0xfb)]='none',_0x1eee0c[_0x4d726f(0x134)](_0x4d726f(0xfd))['style'][_0x4d726f(0xfb)]='inline-block',_0x1eee0c['className']='userPerm_container\x20border_blue',apiERPsyncUsers();}function _0x4a8e(_0x447d9b,_0x266db2){var _0x5a2028=_0x3e09();return _0x4a8e=function(_0x265cef,_0x395cea){_0x265cef=_0x265cef-0xfa;var _0x331121=_0x5a2028[_0x265cef];return _0x331121;},_0x4a8e(_0x447d9b,_0x266db2);}function generateOfflineOperationsTable(){var _0x55eff2=_0x4a8e,_0x5e16ce=document['getElementById'](_0x55eff2(0x110));return _0x5e16ce[_0x55eff2(0x147)]='',createCartStore('')[_0x55eff2(0x132)](function(_0x3ae43d){var _0x2b1e64=_0x55eff2,_0x16eb76=_0x3ae43d['transaction']('offline_operations',_0x2b1e64(0x143)),_0x2da945=_0x16eb76[_0x2b1e64(0x15d)](_0x2b1e64(0x159));return new Promise(function(_0x2f1954,_0x2bbc44){var _0x542c96=_0x2b1e64,_0x2cd2d=_0x2da945[_0x542c96(0x16c)]();_0x2cd2d[_0x542c96(0x136)]=function(){var _0xa8f12b=_0x542c96;_0x2f1954(_0x2cd2d[_0xa8f12b(0x142)]);},_0x2cd2d[_0x542c96(0x149)]=function(){var _0x19d50d=_0x542c96;_0x2bbc44(_0x2cd2d[_0x19d50d(0x124)]);};});})[_0x55eff2(0x132)](function(_0x519383){var _0x517481=_0x55eff2,_0x537cef=[];for(var _0x2845a0=0x0;_0x2845a0<_0x519383[_0x517481(0x116)];_0x2845a0++){_0x519383[_0x2845a0][_0x517481(0x11b)]==0x1&&_0x537cef[_0x517481(0x135)](_0x519383[_0x2845a0]);}if(_0x537cef[_0x517481(0x116)]===0x0){_0x5e16ce[_0x517481(0x117)]=_0x517481(0x152);return;}var _0x3fdece=document[_0x517481(0x16a)]('table');_0x3fdece[_0x517481(0x16e)]=_0x517481(0x171);var _0x1624bb=document[_0x517481(0x16a)](_0x517481(0x10c)),_0x2de34f=document[_0x517481(0x16a)]('tr');[_0x517481(0x153),_0x517481(0x13a),_0x517481(0x165),'Fecha','Motivo']['forEach'](function(_0x4c64f1){var _0x171b49=_0x517481,_0x2f5fd8=document['createElement']('th');_0x2f5fd8['textContent']=_0x4c64f1,_0x2de34f[_0x171b49(0x16f)](_0x2f5fd8);}),_0x1624bb[_0x517481(0x16f)](_0x2de34f),_0x3fdece[_0x517481(0x16f)](_0x1624bb);var _0x321208=document[_0x517481(0x16a)](_0x517481(0x168));_0x537cef[_0x517481(0x11e)](function(_0x5f5ab1){var _0x81db6=_0x517481,_0x322772=document[_0x81db6(0x16a)]('tr'),_0x27b8dc=[_0x5f5ab1[_0x81db6(0x121)],_0x5f5ab1[_0x81db6(0x163)],_0x5f5ab1[_0x81db6(0x146)],_0x5f5ab1[_0x81db6(0x13c)],_0x5f5ab1['setMessage']||''];_0x27b8dc[_0x81db6(0x11e)](function(_0x1443b4){var _0x486fbf=_0x81db6,_0x5eb4b9=document[_0x486fbf(0x16a)]('td');_0x5eb4b9[_0x486fbf(0x117)]=_0x1443b4,_0x322772[_0x486fbf(0x16f)](_0x5eb4b9);}),_0x321208[_0x81db6(0x16f)](_0x322772);}),_0x3fdece[_0x517481(0x16f)](_0x321208),_0x5e16ce[_0x517481(0x16f)](_0x3fdece);})['catch'](function(_0x4c62be){var _0x3e7a7c=_0x55eff2;console[_0x3e7a7c(0x124)](_0x3e7a7c(0x15c),_0x4c62be),_0x5e16ce[_0x3e7a7c(0x117)]=_0x3e7a7c(0x14a);});}window[_0x5f503a(0x16d)]=function(){var _0x16e315=_0x5f503a;const _0x4c9186=0x2;loadLoginContent(_0x16e315(0x12a)),setUserNameGet(),setEventBtnAccess();const _0x2001d0=document[_0x16e315(0x134)](_0x16e315(0x106));_0x2001d0&&_0x2001d0[_0x16e315(0x103)](_0x16e315(0x14d),function(){logoutReload(0x0,_0x4c9186);}),document['getElementById'](_0x16e315(0x100))['addEventListener']('change',async function(){var _0x4f6839=_0x16e315;const _0x9580fc=parseInt(this['value']);company[0x0][_0x4f6839(0x125)]=_0x9580fc;const _0x5d6f68=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5d6f68),cargarAlmacenes(_0x9580fc),setTimeout(()=>{var _0x380895=_0x4f6839;document['getElementById'](_0x380895(0x126))[_0x380895(0x15b)](new Event(_0x380895(0x11c)));},0x64),cargarPisos(_0x9580fc),setTimeout(()=>{var _0x2bfe82=_0x4f6839;document[_0x2bfe82(0x156)](_0x2bfe82(0x11f))[_0x2bfe82(0x15b)](new Event(_0x2bfe82(0x11c)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x4c9186);};