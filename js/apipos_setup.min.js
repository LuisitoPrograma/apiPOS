/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.6
*/

const _0x24bb19=_0x2242;(function(_0x323335,_0x594ff5){const _0x1e58b2=_0x2242,_0x3fb627=_0x323335();while(!![]){try{const _0x3f1a28=-parseInt(_0x1e58b2(0x1d0))/0x1+-parseInt(_0x1e58b2(0x264))/0x2*(parseInt(_0x1e58b2(0x3a2))/0x3)+-parseInt(_0x1e58b2(0x28e))/0x4+parseInt(_0x1e58b2(0x1f1))/0x5+-parseInt(_0x1e58b2(0x30b))/0x6+parseInt(_0x1e58b2(0x318))/0x7+parseInt(_0x1e58b2(0x2ac))/0x8;if(_0x3f1a28===_0x594ff5)break;else _0x3fb627['push'](_0x3fb627['shift']());}catch(_0x330aa2){_0x3fb627['push'](_0x3fb627['shift']());}}}(_0x1657,0xd2103));const _0x21d62f=(function(){let _0x4d52c4=!![];return function(_0x20a219,_0x33b63f){const _0x538c47=_0x4d52c4?function(){if(_0x33b63f){const _0x46b7a1=_0x33b63f['apply'](_0x20a219,arguments);return _0x33b63f=null,_0x46b7a1;}}:function(){};return _0x4d52c4=![],_0x538c47;};}()),_0x3b14d1=_0x21d62f(this,function(){const _0x1f29c2=_0x2242;return _0x3b14d1['toString']()[_0x1f29c2(0x278)](_0x1f29c2(0x1d7))[_0x1f29c2(0x227)]()[_0x1f29c2(0x300)](_0x3b14d1)[_0x1f29c2(0x278)](_0x1f29c2(0x1d7));});_0x3b14d1();const _0x212636=(function(){let _0x2887fd=!![];return function(_0x3a8943,_0x17de2c){const _0x5bf846=_0x2887fd?function(){const _0x4632af=_0x2242;if(_0x17de2c){const _0x1d9a26=_0x17de2c[_0x4632af(0x2bc)](_0x3a8943,arguments);return _0x17de2c=null,_0x1d9a26;}}:function(){};return _0x2887fd=![],_0x5bf846;};}()),_0x591999=_0x212636(this,function(){const _0x9a0c13=_0x2242;let _0x3d11ea;try{const _0x2cee5e=Function('return\x20(function()\x20'+_0x9a0c13(0x1df)+');');_0x3d11ea=_0x2cee5e();}catch(_0x395452){_0x3d11ea=window;}const _0x5d9d08=_0x3d11ea[_0x9a0c13(0x1ec)]=_0x3d11ea[_0x9a0c13(0x1ec)]||{},_0x1f9eb7=[_0x9a0c13(0x358),_0x9a0c13(0x1c2),_0x9a0c13(0x39f),_0x9a0c13(0x25d),_0x9a0c13(0x27f),_0x9a0c13(0x1bb),_0x9a0c13(0x2ba)];for(let _0x1c66c0=0x0;_0x1c66c0<_0x1f9eb7['length'];_0x1c66c0++){const _0x57ff27=_0x212636[_0x9a0c13(0x300)][_0x9a0c13(0x214)][_0x9a0c13(0x1f6)](_0x212636),_0x502fde=_0x1f9eb7[_0x1c66c0],_0x4326a4=_0x5d9d08[_0x502fde]||_0x57ff27;_0x57ff27[_0x9a0c13(0x38a)]=_0x212636[_0x9a0c13(0x1f6)](_0x212636),_0x57ff27[_0x9a0c13(0x227)]=_0x4326a4[_0x9a0c13(0x227)][_0x9a0c13(0x1f6)](_0x4326a4),_0x5d9d08[_0x502fde]=_0x57ff27;}});_0x591999();let myCompany,db=null,dbPromise=null,db_name=_0x24bb19(0x2cd),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero','febrero',_0x24bb19(0x391),'abril',_0x24bb19(0x240),_0x24bb19(0x372),_0x24bb19(0x341),_0x24bb19(0x313),_0x24bb19(0x2d6),_0x24bb19(0x34b),_0x24bb19(0x367),_0x24bb19(0x24d)],gdfg5g=_0x24bb19(0x2ab),x45fgd='x3',xjehd78=_0x24bb19(0x23d),cxkdj4=_0x24bb19(0x22a),x87s8d=_0x24bb19(0x394),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x24bb19(0x1cc),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x24bb19(0x289),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x24bb19(0x1e8),xg123f=_0x24bb19(0x250),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x24bb19(0x200),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x24bb19(0x283),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x24bb19(0x1e5),mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33=_0x24bb19(0x1fa),kkx12='s',ak47r=_0x24bb19(0x365),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x24bb19(0x374),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x24bb19(0x38c),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10','S01','S02','mx16',_0x24bb19(0x377),_0x24bb19(0x39b),_0x24bb19(0x2d0),_0x24bb19(0x2d5),_0x24bb19(0x206),'co5',_0x24bb19(0x241),_0x24bb19(0x290)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x24bb19(0x38e)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x24bb19(0x37c),'MX20',_0x24bb19(0x30f),'CL0','CO0',_0x24bb19(0x2b4)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x24bb19(0x38e)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x24bb19(0x38e)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x24bb19(0x38e)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function _0x1657(){const _0x47aaf2=['fullscreenElement','put','length','search','\x27\x20eliminada.','some','password','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>','Sincronizaci√≥n\x20completada\x20correctamente.','textContent','exception','caption','msRequestFullscreen','.payment-option','64system','location','setWindowId','Procesamiento\x20de\x20datos\x20exitoso\x20...','setCompanyDoc','company','x64c','btn-access-login','setBankAccounts','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','setAttribute','5735548ybvcZt','Error\x20desconocido.','uy10','setWindowName','src','setCredentialsApiWAChatPort','setCompanyAddress','text','setAuthToken','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20c√≥digo\x20de\x20barras.','https://apierp.dev/api/company/get/','setUsers','type','Error:\x20No\x20hay\x20ventanas\x20disponibles.','click','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','sort','onupdatefound','</h3>\x0a','setImages','keys','Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!','button','embedJpg','mimetype','Sincronizando\x20...','setCartTmpInitial','appendChild','application/json','f34f','27784376NjUrnc','remove','scale','setProductos','result','map','Enter','setWarehouseStockMin','UY0','from','display','SW\x20Success','activeElement','toFixed','trace','setSerie','apply','apiPOSsendOffline','reload','setUnidadCodigo','newItems[','setIdProducto','title','cart_','.dropdown-item-pais-flag','setHours','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','El\x20producto\x20\x22','filter','https://apierp.dev/api/apiPOS/get/','now','ntf-flotante-green','setMtoValorCostoUnitario','apiERP','ambientes','setMessage','ar10.5','\x20operaciones\x20restantes...','.<br>','img','setMoneda-','cl19','septiembre','transition','Error\x20al\x20guardar\x20el\x20layout:\x20','setClienteTipoDoc','setSucursalStock','onerror','\x0a<h3>','Error\x20guardando\x20operaci√≥n:\x20','setUserId','drawImage','sucursales','setCodeBarTypes','readwrite','navigator','setClienteDenominacion','Error\x20al\x20enviar\x20operaci√≥n\x20offline:','objectStore','setUnidad','svg','createElement','setConversionFactor','top','setItemDescription','append','msExitFullscreen','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.6\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','currency','offline_operations','then','setTipoOperacionInvoice','add','objectStoreNames','producto','setDespacho','/send','detalleModalPay','setBranchName','embedPng','id_registro','Ver\x20movimientos','fullscreen-btn','json','constructor','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','\x22\x20expir√≥\x20el\x20','mozFullScreenElement','Tab\x20count\x20inicializado\x20en:\x20','setCredentialsApiWAChatIdDefault','querySelectorAll','\x20-\x20','Error\x20al\x20actualizar\x20data\x20online:','set','setLayout','4449228qmdToz','hidden','data:image/svg+xml;base64,','addEventListener','AR0','setTipoOperacion','setSuppliers','body','agosto','insertAdjacentHTML','get','setCompanyName','embedFont','6621804KWUunF','block','User\x20no\x20Logged!','loadingModal','setPrinters','fixed','setCredentialsApiWAChatAlias','Company\x20Empty.','setCompanyNameTrade','ntf-flotante-orange','push','setCompanyLogo','flex','setWebhook','width','.dropdown-list-pais-flag','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','Stock\x20m√≠nimo:\x20','key','size','windowId','btnSaveOperacion-','setBatchExpirationDate','setUsuarios','style','setUserName','newItems','justifyContent','setId','ObjectStore\x20\x27','https://apierp.dev/api/apiPOS/update/','canvas','setItemImages','Nombre\x20de\x20store\x20no\x20v√°lido:\x20','all','payment-option','charCodeAt','height','pdfBlob','d-none','exitFullscreen','julio','Solo\x20necesitas\x20internet\x20para\x20acceder!','cloneNode','focus','ntfIndex','drawText','clear','\x20de\x20','getElementById','Backspace','octubre','msFullscreenElement','find','webkitExitFullscreen','ntf-flotante-container-bottom','http://www.w3.org/2000/svg','setCollaborators','preventDefault','setSellerName','setImg','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','.carousel-next','floor','log','.select-button-pais-flag','application/json;\x20charset=utf-8','left','active','serviceWorker','forEach','Generando\x20','setUserFullName','\x20‚Äì\x20','rgba(0,\x200,\x200,\x200.5)','innerHTML','widthOfTextAtSize','rgf4x32','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','noviembre','Base\x20de\x20datos\x20abierta\x20correctamente.','webkitFullscreenElement','invoice','setCredentialsApiWAChatId','createObjectStore','offsetHeight','Acci√≥n\x20\x22','setBranchId','div','Products\x20Load\x20Error:','junio','setBranchDefault','pcrcl','\x20del\x20','ntf-flotante-bottom','mx08','onupgradeneeded','contains','beforeend','layoutState','E01','finally','Arrays\x20actualizados\x20para\x20windowId\x20','message','serializeToString','Error\x20al\x20enviar\x20correo:','.product[tabindex=\x270\x27]','<br>\x0aStock\x20Actual:\x20','login','setItemBarCode','selectedCode','reduce','setDescuentoGlobal_Monto','webkitRequestFullscreen','__proto__','windowIds\x20previamente\x20creados:','lbtom','.modal-overlay-carousel','concat','opacity','oncomplete','marzo','Registrar\x20movimiento','mozRequestFullScreen','x32','min','createIndex','split','includes','Inicio\x20de\x20sesi√≥n\x20exitoso\x20...','setUserCode','ar21','setSellerId','setWarehouseId','reject','info','Error\x20','.carousel-prev','93YayxaX','dataset','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','Modo\x20online\x20...','table','setBranches','change','onLine','addPage','/wa/','setCodProducto','warn','setItemUnitAlias','Revisar\x20lote','Item','Formato\x20inesperado\x20en\x20base64','Company\x20Load\x20Error:','Delete','./app.js?v=4.1.6','random','\x27\x20creado\x20correctamente.','32system','Eliminar\x20producto','setShifts','create','1704955aiQsJM','offsetWidth','Bienvenido(a)\x20','setCompanyWebsite','setCodeBarTypeName','setCustomers','Products\x20Empty.','(((.+)+)+)+$','Tab','close','center','ntf-modal-actions','trim','Error\x20en\x20la\x20solicitud:','setPriceLists','{}.constructor(\x22return\x20this\x22)(\x20)','day','slice','resolve','setCajeroCodigo','replaceWith','port','setTaxId','installed','x63s','setUser_Local','open','stringify','console','ntf-flotante-container-top','closest','\x0a<h3\x20class=\x22infoItem-title\x22>','setDescripcion','2372895aBEnCA','setItemType','setInventariable','][setItemImages][','POST','bind','setFloorName','Producto\x20vencido:\x20','shiftKey','64x32xsystem','statusText','target','\x22\x20para\x20registro\x20#','Imagen\x20inv√°lida\x20en\x20newItems[','requestFullscreen','xtt3','onclick','username','save','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.6\x20...</span>','deleteObjectStore','co19','zIndex','stopPropagation','setCategoria','ntf-notifications-list','searchInput','INPUT','getMonth','translateX(-','classList','setMoneda','position','tabs-notifications','sectionInfoItem','prototype','ntf-flotante-message\x20','toDataURL','Helvetica','\x0aEl\x20producto\x20\x22','setImageUrl','input,\x20select,\x20button,\x20a:not(.payment-option)','onsuccess','cartId','onload','application/pdf','setWarehouses','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','setWarehouseName','currency_data','Error\x20al\x20obtener\x20las\x20operaciones:\x20','backgroundColor','Imprimir\x20C√≥digo\x20de\x20Barras','.modal-close-carousel','toString','setMtoPrecioUnitario','isArray','x64','createElementNS','data-ntf-index','alignItems','products','success','setClienteDireccion','setUserNombres','ntf-flotante-container','setCredentialsApiWAChat','catch','readonly','none','setCredentialsApiWAChatSubdomain','ntf-flotante-top','setFechaHora','resize','https://apierp.dev/api/email/send/','createObjectURL','xpos','pop','onstatechange','mayo','uy22','transaction','alt','setCartTmp','].setItemImages[','setCompanyPhone','className','\x20...','filename','\x20operaciones\x20de\x20productos...','values','itemModal','diciembre','./img/product.png','querySelector','45x','getDate','register','setFloorId','onloadend','window_options_','setCodeBarTypeId','option','setCurrencyDefault','Error\x20Network.','value','mozCancelFullScreen','ntf-flotante-blue','error','usuario','getAll','Credenciales\x20no\x20encontradas','setBatchName','setClienteNumDoc','setImpuestoValue','9858SMtPLd','name','controllerchange','checkout-btn-','setCustomerEmail','infoLoadingModal','installing','substr','disabled','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','readAsDataURL','setWindows','startsWith','getContext','Error\x20desconocido\x20al\x20actualizar\x20Data.','setSeries','state'];_0x1657=function(){return _0x47aaf2;};return _0x1657();}function getQueryParam(_0x4528b3){const _0x17a290=_0x24bb19,_0x3b8561=new URLSearchParams(window[_0x17a290(0x284)][_0x17a290(0x278)]);return _0x3b8561[_0x17a290(0x315)](_0x4528b3);}function setUserNameGet(){const _0x2886b3=_0x24bb19,_0x4c4774=getQueryParam(_0x2886b3(0x202)),_0x1cfc01=document[_0x2886b3(0x349)](_0x2886b3(0x25e));_0x4c4774&&_0x1cfc01&&(_0x1cfc01[_0x2886b3(0x25a)]=_0x4c4774);}function generateUniqId(){const _0x45b666=_0x24bb19;return Date[_0x45b666(0x2ca)]()+'_'+Math[_0x45b666(0x1ca)]()[_0x45b666(0x227)](0x24)[_0x45b666(0x26b)](0x2,0x9);}function generateNumericUniqId(){const _0x4ec0e6=_0x24bb19,_0x8e90e0=Date[_0x4ec0e6(0x2ca)]()*0x3e8,_0x336bb8=Math[_0x4ec0e6(0x357)](Math[_0x4ec0e6(0x1ca)]()*0x3e8);return _0x8e90e0+_0x336bb8;}function blobAStringBase64(_0x3c4c9a){return new Promise((_0x3897f2,_0xac06fa)=>{const _0x2b2437=_0x2242,_0x5675bb=new FileReader();_0x5675bb[_0x2b2437(0x254)]=()=>{const _0x3017d6=_0x2b2437,_0x491e6c=_0x5675bb['result'],_0x3877a5=_0x491e6c[_0x3017d6(0x397)](',');if(_0x3877a5['length']!==0x2)return _0xac06fa(new Error(_0x3017d6(0x1c6)));_0x3897f2(_0x3877a5[0x1]);},_0x5675bb[_0x2b2437(0x2db)]=_0x42b502=>_0xac06fa(_0x42b502),_0x5675bb[_0x2b2437(0x26e)](_0x3c4c9a);});}async function generarBarcodeDataURL(_0x806026,_0x5c9f04){return new Promise((_0x2f31a0,_0x4b546c)=>{const _0x397cbb=_0x2242,_0x5872d5=myCompany[_0x397cbb(0x2e1)][_0x397cbb(0x34d)](_0x3a512e=>_0x3a512e['setCodeBarTypeId']==_0x806026),_0x18ed5d=_0x5872d5?_0x5872d5[_0x397cbb(0x1d4)]:'CODE128',_0x50776e=document[_0x397cbb(0x22b)](_0x397cbb(0x350),_0x397cbb(0x2e8));JsBarcode(_0x50776e,_0x5c9f04,{'format':_0x18ed5d,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x251f2f=new XMLSerializer()[_0x397cbb(0x380)](_0x50776e),_0x37b792=btoa(_0x251f2f),_0x56a2a4=_0x397cbb(0x30d)+_0x37b792,_0x3b2228=new Image();_0x3b2228[_0x397cbb(0x21d)]=()=>{const _0x2e3a8b=_0x397cbb,_0x31bc08=document['createElement'](_0x2e3a8b(0x337));_0x31bc08[_0x2e3a8b(0x326)]=_0x3b2228[_0x2e3a8b(0x326)],_0x31bc08[_0x2e3a8b(0x33d)]=_0x3b2228['height'];const _0x3739f8=_0x31bc08[_0x2e3a8b(0x271)]('2d');_0x3739f8[_0x2e3a8b(0x2df)](_0x3b2228,0x0,0x0);const _0x25585b=_0x31bc08[_0x2e3a8b(0x216)]('image/png');_0x2f31a0(_0x25585b);},_0x3b2228[_0x397cbb(0x2db)]=_0x33b493=>_0x4b546c(_0x33b493),_0x3b2228[_0x397cbb(0x292)]=_0x56a2a4;});}async function generarStickersPDF(_0xa4a954,_0x23f255,_0x4d757e){const _0x3b1253=_0x24bb19,{PDFDocument:_0xf91b20,StandardFonts:_0x548578,rgb:_0x4f1947}=PDFLib,_0x3590cd=products[_0x3b1253(0x34d)](_0x5c2de4=>_0x5c2de4['id']==_0x4d757e);if(!_0x3590cd){console[_0x3b1253(0x25d)]('Producto\x20con\x20id\x20'+_0x4d757e+'\x20no\x20encontrado\x20en\x20products.');return;}const _0x53bf87=_0x3590cd[_0x3b1253(0x1f0)][_0x3b1253(0x1dc)](),_0x485d7a=document[_0x3b1253(0x349)](_0x3b1253(0x32c))[_0x3b1253(0x25a)],_0xf7069f=document[_0x3b1253(0x349)](_0x3b1253(0x2d4)+_0x485d7a)[_0x3b1253(0x25a)],_0x47b104=(_0x3590cd['currency_data']||[])[_0x3b1253(0x34d)](_0x597ba8=>_0x597ba8[_0x3b1253(0x2f0)]==_0xf7069f)||{},_0x239676=_0x47b104['setMtoPrecioCostoUnitario']||0x0,_0xa8914a=getCurrencySymbol(_0x485d7a),_0xed3fbc=Number(_0x239676)||0x0,_0x121111=_0xa8914a+'\x20'+_0xed3fbc[_0x3b1253(0x2b9)](0x2),_0x57c755=await _0xf91b20[_0x3b1253(0x1cf)](),_0x669b7d=_0x12b69b=>_0x12b69b*2.83465,_0x22f199=_0x669b7d(0x70*0x2),_0x5af685=_0x669b7d(40.8),_0x29b848=_0x57c755[_0x3b1253(0x1bf)]([_0x22f199,_0x5af685]),_0x58b1e1=await _0x57c755[_0x3b1253(0x317)](_0x548578[_0x3b1253(0x217)]),_0x367f74=Array(0x2)['fill'](_0x23f255),_0x1cc222=0x2,_0x5b5ef5=0x1,_0x51542e=0xc,_0xbe8656=_0x22f199/_0x1cc222,_0x2feec7=_0x5af685/_0x5b5ef5;for(let _0x1a4cc0=0x0;_0x1a4cc0<0x2;_0x1a4cc0++){const _0x18dacb=_0x367f74[_0x1a4cc0],_0x28bb17=await generarBarcodeDataURL(_0xa4a954,_0x18dacb),_0x1614a5=_0x28bb17[_0x3b1253(0x397)](',')[0x1],_0x35396a=Uint8Array[_0x3b1253(0x2b5)](atob(_0x1614a5),_0x50b6a0=>_0x50b6a0[_0x3b1253(0x33c)](0x0));let _0x4bf598;try{_0x4bf598=await _0x57c755[_0x3b1253(0x2fb)](_0x35396a);}catch{_0x4bf598=await _0x57c755[_0x3b1253(0x2a5)](_0x35396a);}const _0x21428a=0x5,_0x50ca1e=_0x51542e+0x4,_0x5db0a2=_0x51542e*0x2+0x4,_0x5e8213=_0x53bf87,_0x55ce40=_0x121111,_0x23f155=_0x1a4cc0%_0x1cc222,_0x1d8ef7=_0x58b1e1[_0x3b1253(0x364)](_0x5e8213,_0x51542e),_0x109464=_0x58b1e1[_0x3b1253(0x364)](_0x55ce40,_0x51542e),_0x50ddaa=_0x23f155*_0xbe8656+(_0xbe8656-_0x1d8ef7)/0x2,_0x2806bc=_0x23f155*_0xbe8656+(_0xbe8656-_0x109464)/0x2,_0x3aa117=_0x2feec7-_0x21428a-_0x51542e,_0x135f84=_0x3aa117-_0x51542e-0x2;_0x29b848[_0x3b1253(0x346)](_0x5e8213,{'x':_0x50ddaa,'y':_0x3aa117,'size':_0x51542e,'font':_0x58b1e1,'color':_0x4f1947(0x0,0x0,0x0)}),_0x29b848[_0x3b1253(0x346)](_0x55ce40,{'x':_0x2806bc,'y':_0x135f84,'size':_0x51542e,'font':_0x58b1e1,'color':_0x4f1947(0x0,0x0,0x0)});const _0x31f1b3=_0xbe8656-_0x21428a*0x2,_0x5153c5=_0x2feec7-_0x21428a*0x2-_0x5db0a2-_0x50ca1e,_0x29f7b2=_0x4bf598[_0x3b1253(0x326)],_0x22314c=_0x4bf598[_0x3b1253(0x33d)],_0x100dfa=Math[_0x3b1253(0x395)](_0x31f1b3/_0x29f7b2,_0x5153c5/_0x22314c,0x1),_0x2b4409=_0x4bf598[_0x3b1253(0x2ae)](_0x100dfa),_0x47421a=_0x23f155*_0xbe8656+(_0xbe8656-_0x2b4409[_0x3b1253(0x326)])/0x2,_0x59f5fa=_0x135f84-_0x2b4409['height']-0x4;_0x29b848[_0x3b1253(0x2df)](_0x4bf598,{'x':_0x47421a,'y':_0x59f5fa,'width':_0x2b4409[_0x3b1253(0x326)],'height':_0x2b4409[_0x3b1253(0x33d)]});const _0x3354c1=_0x58b1e1[_0x3b1253(0x364)](_0x18dacb,_0x51542e),_0x102df7=_0x23f155*_0xbe8656+(_0xbe8656-_0x3354c1)/0x2,_0x41804a=_0x59f5fa-_0x51542e-0x2;_0x29b848[_0x3b1253(0x346)](_0x18dacb,{'x':_0x102df7,'y':_0x41804a,'size':_0x51542e,'font':_0x58b1e1,'color':_0x4f1947(0x0,0x0,0x0)});}const _0x10a7ae=await _0x57c755[_0x3b1253(0x203)](),_0x3ab352=new Blob([_0x10a7ae],{'type':_0x3b1253(0x21e)}),_0x3b0038=URL[_0x3b1253(0x23c)](_0x3ab352);window['open'](_0x3b0038);}async function sendEmail(_0x3eddac,_0x24eeb4,_0x12f93c,_0x3cda9f,_0x3f7337,_0x69e098,_0x48a753,_0x8d86bf,_0x29d0c1,_0x3aa2b1){const _0x608b2=_0x24bb19;if(isOnline()){const _0x318f1f={'setAuthToken':_0x3eddac,'senderName':_0x24eeb4,'senderEmail':_0x12f93c,'senderPassword':_0x3cda9f,'smtpHost':_0x3f7337,'smtpPort':_0x69e098,'emailsDestination':_0x48a753,'subject':_0x8d86bf,'message':_0x29d0c1,'attachFiles':_0x3aa2b1};try{const _0x21a551=await fetch(_0x608b2(0x23b),{'method':_0x608b2(0x1f5),'headers':{'Content-Type':_0x608b2(0x35a)},'body':JSON[_0x608b2(0x1eb)](_0x318f1f)}),_0x3ec268=await _0x21a551[_0x608b2(0x2ff)]();if(!_0x21a551['ok']||!_0x3ec268[_0x608b2(0x22f)]){console['error'](_0x608b2(0x381),_0x3ec268),ntfShow('Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}}catch(_0x558cb8){console[_0x608b2(0x25d)](_0x608b2(0x1dd),_0x558cb8);}}}function loadLoginContent(_0x5289de){const _0x570ea8=_0x24bb19,_0x4e1b6d=document[_0x570ea8(0x349)](_0x570ea8(0x384));_0x4e1b6d[_0x570ea8(0x363)]=_0x570ea8(0x1b9)+_0x5289de+_0x570ea8(0x2ef);}function addNumber(_0x1e0cb2){const _0x35fd3a=_0x24bb19;document[_0x35fd3a(0x349)](_0x35fd3a(0x27b))[_0x35fd3a(0x25a)]+=_0x1e0cb2;}function deleteNumber(){const _0x58c8eb=_0x24bb19;let _0x5cb970=document[_0x58c8eb(0x349)](_0x58c8eb(0x27b));_0x5cb970[_0x58c8eb(0x25a)]=_0x5cb970[_0x58c8eb(0x25a)][_0x58c8eb(0x1e1)](0x0,-0x1);}function togglePassword(){const _0x3466d6=_0x24bb19;let _0x2125a2=document['getElementById'](_0x3466d6(0x27b));_0x2125a2['type']=_0x2125a2[_0x3466d6(0x29a)]==_0x3466d6(0x27b)?_0x3466d6(0x295):_0x3466d6(0x27b);}function setEventBtnAccess(){const _0x223f0f=_0x24bb19,_0x2008a9=document['getElementById'](_0x223f0f(0x28a));_0x2008a9[_0x223f0f(0x201)]=function(){acceder();};}function isOnline(){const _0x3857f8=_0x24bb19;return window[_0x3857f8(0x2e3)][_0x3857f8(0x1be)];}function showLoadingModal(){const _0x2fc61d=_0x24bb19,_0x36b679=document[_0x2fc61d(0x2e9)](_0x2fc61d(0x370));_0x36b679['id']='loadingModal',_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x211)]=_0x2fc61d(0x31d),_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x2eb)]='0',_0x36b679['style'][_0x2fc61d(0x35b)]='0',_0x36b679['style'][_0x2fc61d(0x326)]='100%',_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x33d)]='100%',_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x224)]=_0x2fc61d(0x362),_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x2b6)]=_0x2fc61d(0x324),_0x36b679['style'][_0x2fc61d(0x333)]=_0x2fc61d(0x1da),_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x22d)]=_0x2fc61d(0x1da),_0x36b679['style'][_0x2fc61d(0x207)]='9999',_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x38f)]='1',_0x36b679[_0x2fc61d(0x330)][_0x2fc61d(0x2d7)]=_0x2fc61d(0x236),_0x36b679['innerHTML']=_0x2fc61d(0x366),document[_0x2fc61d(0x312)][_0x2fc61d(0x2a9)](_0x36b679);}function hideLoadingModal(){const _0x545b5c=_0x24bb19,_0x2837d1=document[_0x545b5c(0x349)](_0x545b5c(0x31b));_0x2837d1&&(_0x2837d1[_0x545b5c(0x330)][_0x545b5c(0x38f)]='0',_0x2837d1[_0x545b5c(0x2ad)]());}function cargarAlmacenes(_0x142d31){const _0x3060d1=_0x24bb19,_0x5655d0=document[_0x3060d1(0x349)](_0x3060d1(0x39d));_0x5655d0[_0x3060d1(0x363)]='';const _0x529a03=company[0x0][_0x3060d1(0x1bc)][_0x3060d1(0x34d)](_0x4b0c78=>_0x4b0c78[_0x3060d1(0x36f)]==_0x142d31);_0x529a03&&_0x529a03[_0x3060d1(0x21f)]['length']>0x0&&_0x529a03[_0x3060d1(0x21f)][_0x3060d1(0x35e)](_0x239e6c=>{const _0x1e512a=_0x3060d1;let _0x58f7a4=document[_0x1e512a(0x2e9)]('option');_0x58f7a4['value']=_0x239e6c[_0x1e512a(0x39d)],_0x58f7a4[_0x1e512a(0x27e)]=_0x239e6c[_0x1e512a(0x221)],_0x5655d0[_0x1e512a(0x2a9)](_0x58f7a4);});}function getAllWarehouses(){const _0x4eca34=_0x24bb19,_0x25ec1c=company[0x0]['setBranches']||[],_0x39474b=new Map();return _0x25ec1c[_0x4eca34(0x35e)](_0x20abc0=>{const _0x4cf2af=_0x4eca34;(_0x20abc0[_0x4cf2af(0x21f)]||[])[_0x4cf2af(0x35e)](_0x44b295=>{const _0x4cfd4c=_0x4cf2af;!_0x39474b['has'](_0x44b295[_0x4cfd4c(0x39d)])&&_0x39474b[_0x4cfd4c(0x309)](_0x44b295['setWarehouseId'],{'setWarehouseId':_0x44b295[_0x4cfd4c(0x39d)],'setWarehouseName':_0x44b295[_0x4cfd4c(0x221)]+'\x20('+_0x20abc0[_0x4cfd4c(0x2fa)]+')'});});}),Array[_0x4eca34(0x2b5)](_0x39474b[_0x4eca34(0x24b)]());}function cargarPisos(_0x3cc910){const _0xd71e85=_0x24bb19,_0x37e99a=company[0x0][_0xd71e85(0x26f)][_0xd71e85(0x2c8)](_0x11d9fd=>_0x11d9fd[_0xd71e85(0x36f)]==_0x3cc910),_0x296fb9={};_0x37e99a[_0xd71e85(0x35e)](_0x2ed4b4=>{const _0x2dc4f5=_0xd71e85;_0x296fb9[_0x2ed4b4[_0x2dc4f5(0x253)]]=_0x2ed4b4[_0x2dc4f5(0x1f7)];});const _0x240f78=document[_0xd71e85(0x349)](_0xd71e85(0x253));_0x240f78[_0xd71e85(0x363)]='';for(const _0x474af1 in _0x296fb9){const _0x16a0e1=document[_0xd71e85(0x2e9)](_0xd71e85(0x257));_0x16a0e1[_0xd71e85(0x25a)]=_0x474af1,_0x16a0e1['textContent']=_0x296fb9[_0x474af1],_0x240f78['appendChild'](_0x16a0e1);}}document[_0x24bb19(0x349)](_0x24bb19(0x2fe))[_0x24bb19(0x30e)](_0x24bb19(0x29c),()=>{const _0x28bd48=_0x24bb19,_0x5382fa=document['documentElement'],_0x2c54fb=document[_0x28bd48(0x275)]||document[_0x28bd48(0x369)]||document[_0x28bd48(0x303)]||document[_0x28bd48(0x34c)];if(!_0x2c54fb){if(_0x5382fa[_0x28bd48(0x1ff)])_0x5382fa[_0x28bd48(0x1ff)]();else{if(_0x5382fa[_0x28bd48(0x389)])_0x5382fa[_0x28bd48(0x389)]();else{if(_0x5382fa[_0x28bd48(0x393)])_0x5382fa['mozRequestFullScreen']();else _0x5382fa[_0x28bd48(0x281)]&&_0x5382fa[_0x28bd48(0x281)]();}}}else{if(document[_0x28bd48(0x340)])document[_0x28bd48(0x340)]();else{if(document['webkitExitFullscreen'])document[_0x28bd48(0x34e)]();else{if(document[_0x28bd48(0x25b)])document[_0x28bd48(0x25b)]();else document['msExitFullscreen']&&document[_0x28bd48(0x2ee)]();}}}});function _0x2242(_0x51fd20,_0x14bb46){const _0x59303d=_0x1657();return _0x2242=function(_0x591999,_0x212636){_0x591999=_0x591999-0x1b9;let _0x20cff2=_0x59303d[_0x591999];return _0x20cff2;},_0x2242(_0x51fd20,_0x14bb46);}function openModalDetailsAndNtf(_0x120311,_0x2ae098,_0x5c2fc7=null){const _0xeae40a=_0x24bb19,_0x2b3d24=products[_0xeae40a(0x34d)](_0x4d5f8d=>_0x4d5f8d['id']==_0x120311),_0x4f95d4=_0x2b3d24['setCodProducto'],_0x19661b=_0x2b3d24[_0xeae40a(0x1f0)],_0x5c2ff0=_0x2b3d24['setItemBarCode'],_0x50750a=_0x2b3d24['setImg']?.[_0xeae40a(0x1dc)]()||_0xeae40a(0x24e),_0x66791b=Array[_0xeae40a(0x229)](_0x2b3d24[_0xeae40a(0x2a1)])&&_0x2b3d24[_0xeae40a(0x2a1)][_0xeae40a(0x277)]>0x0?_0x2b3d24[_0xeae40a(0x2a1)]:[{'setImageUrl':_0x50750a}],_0x2a3819=_0x66791b[_0xeae40a(0x2b1)](_0x36034e=>_0x36034e[_0xeae40a(0x219)]),_0x3ee11b=document[_0xeae40a(0x349)](_0xeae40a(0x24c)),_0x5496de=_0x3ee11b[_0xeae40a(0x24f)]('.carousel-track'),_0x4b13d6=_0x3ee11b['querySelector'](_0xeae40a(0x226)),_0x3c2db2=_0x3ee11b[_0xeae40a(0x24f)](_0xeae40a(0x38d)),_0x1eb06f=document[_0xeae40a(0x349)](_0xeae40a(0x213)),_0xfa377b=_0x3ee11b[_0xeae40a(0x24f)](_0xeae40a(0x3a1)),_0x45615b=_0x3ee11b[_0xeae40a(0x24f)]('.carousel-next');_0x5496de[_0xeae40a(0x363)]='',_0x2a3819[_0xeae40a(0x35e)](_0x389d45=>{const _0x4ed210=_0xeae40a,_0x13a989=document[_0x4ed210(0x2e9)](_0x4ed210(0x2d3));_0x13a989[_0x4ed210(0x292)]=_0x389d45,_0x13a989[_0x4ed210(0x243)]=_0x4ed210(0x1c5),_0x5496de[_0x4ed210(0x2a9)](_0x13a989);});let _0x3c3b5c=0x0;const _0x1c1a36=_0x2a3819['length'];function _0x1a5f53(){const _0x414e55=_0xeae40a;_0x5496de[_0x414e55(0x330)]['transform']=_0x414e55(0x20e)+_0x3c3b5c*0x64+'%)';}_0x2a3819[_0xeae40a(0x35e)](_0x1695e9=>{const _0x5a8925=_0xeae40a,_0x1146a0=new Image();_0x1146a0[_0x5a8925(0x292)]=_0x1695e9;});_0x1c1a36<=0x1?(_0xfa377b[_0xeae40a(0x330)][_0xeae40a(0x2b6)]=_0xeae40a(0x236),_0x45615b[_0xeae40a(0x330)]['display']=_0xeae40a(0x236)):(_0xfa377b[_0xeae40a(0x330)][_0xeae40a(0x2b6)]='',_0x45615b[_0xeae40a(0x330)]['display']='');_0x3c3b5c=0x0,_0x1a5f53();function _0x332a8c(_0xb2e468){_0xb2e468['stopPropagation'](),_0x3c3b5c=(_0x3c3b5c-0x1+_0x1c1a36)%_0x1c1a36,_0x1a5f53();}function _0x3b6501(_0x568aa9){const _0xd7b22f=_0xeae40a;_0x568aa9[_0xd7b22f(0x208)](),_0x3c3b5c=(_0x3c3b5c+0x1)%_0x1c1a36,_0x1a5f53();}_0xfa377b[_0xeae40a(0x1e4)](_0xfa377b[_0xeae40a(0x343)](!![])),_0x45615b[_0xeae40a(0x1e4)](_0x45615b[_0xeae40a(0x343)](!![]));const _0x2afb51=_0x3ee11b['querySelector'](_0xeae40a(0x3a1)),_0x39a6e5=_0x3ee11b[_0xeae40a(0x24f)](_0xeae40a(0x356));_0x2afb51[_0xeae40a(0x30e)](_0xeae40a(0x29c),_0x332a8c),_0x39a6e5['addEventListener'](_0xeae40a(0x29c),_0x3b6501),_0x4b13d6[_0xeae40a(0x30e)](_0xeae40a(0x29c),_0x331b09=>{const _0x18cffa=_0xeae40a;_0x331b09[_0x18cffa(0x208)](),_0x3ee11b[_0x18cffa(0x330)][_0x18cffa(0x2b6)]=_0x18cffa(0x236);}),_0x3c2db2[_0xeae40a(0x30e)](_0xeae40a(0x29c),()=>{const _0x345e99=_0xeae40a;_0x3ee11b['style'][_0x345e99(0x2b6)]=_0x345e99(0x236);}),_0x3ee11b['style'][_0xeae40a(0x2b6)]=_0xeae40a(0x324),_0x1eb06f[_0xeae40a(0x363)]=_0xeae40a(0x1ef)+_0x4f95d4+_0xeae40a(0x307)+_0x19661b+_0xeae40a(0x2a0);const _0x47ad5d=document[_0xeae40a(0x2e9)]('select');_0x47ad5d[_0xeae40a(0x20f)][_0xeae40a(0x2f4)]('barcode-type-select');const _0x59c5de=document[_0xeae40a(0x2e9)]('option');_0x59c5de[_0xeae40a(0x25a)]='0',_0x59c5de[_0xeae40a(0x27e)]=_0xeae40a(0x225),_0x47ad5d['appendChild'](_0x59c5de),myCompany[_0xeae40a(0x2e1)]['forEach'](_0x546b92=>{const _0x38a712=_0xeae40a,_0x4e3e9b=document['createElement']('option');_0x4e3e9b[_0x38a712(0x25a)]=String(_0x546b92[_0x38a712(0x256)]),_0x4e3e9b[_0x38a712(0x27e)]=_0x546b92[_0x38a712(0x1d4)],_0x47ad5d[_0x38a712(0x2a9)](_0x4e3e9b);}),_0x47ad5d['addEventListener'](_0xeae40a(0x1bd),function(){const _0x263ec5=_0xeae40a,_0x5ca7dc=parseInt(this[_0x263ec5(0x25a)],0xa);if(_0x5ca7dc===0x0)return;typeof _0x5c2ff0==='string'&&_0x5c2ff0[_0x263ec5(0x1dc)]()['length']>=0x1?generarStickersPDF(_0x5ca7dc,_0x5c2ff0['trim'](),_0x120311):(ntfShow(_0x263ec5(0x297),0x2,0x2),this['value']='0');}),_0x1eb06f[_0xeae40a(0x2a9)](_0x47ad5d);if(_0x5c2fc7!=null){_0x1eb06f[_0xeae40a(0x314)](_0xeae40a(0x37a),_0xeae40a(0x2dc)+_0x5c2fc7[_0xeae40a(0x2c2)]+'</h3><p>'+_0x5c2fc7[_0xeae40a(0x37f)]+_0xeae40a(0x355));var _0x363bba=document[_0xeae40a(0x349)](_0xeae40a(0x1db));_0x5c2fc7[_0xeae40a(0x29a)]===0x1&&['Generar\x20Orden\x20de\x20Compra',_0xeae40a(0x392),_0xeae40a(0x2fd)][_0xeae40a(0x35e)](function(_0x14dff1){const _0x166667=_0xeae40a;var _0x27ee36=document[_0x166667(0x2e9)](_0x166667(0x2a4));_0x27ee36[_0x166667(0x27e)]=_0x14dff1,_0x27ee36['addEventListener'](_0x166667(0x29c),function(){const _0x53d4a4=_0x166667;console['log'](_0x53d4a4(0x36e)+_0x14dff1+_0x53d4a4(0x1fd)+_0x5c2fc7['id_registro']);}),_0x363bba[_0x166667(0x2a9)](_0x27ee36);}),_0x5c2fc7['type']===0x2&&[_0xeae40a(0x1c4),_0xeae40a(0x1cd)][_0xeae40a(0x35e)](function(_0x5e2db4){const _0x5a7de4=_0xeae40a;var _0x3e3339=document[_0x5a7de4(0x2e9)](_0x5a7de4(0x2a4));_0x3e3339[_0x5a7de4(0x27e)]=_0x5e2db4,_0x3e3339[_0x5a7de4(0x30e)](_0x5a7de4(0x29c),function(){const _0x4d80cf=_0x5a7de4;console['log'](_0x4d80cf(0x36e)+_0x5e2db4+_0x4d80cf(0x1fd)+_0x5c2fc7[_0x4d80cf(0x2fc)]);}),_0x363bba[_0x5a7de4(0x2a9)](_0x3e3339);});}}function ntf_formatDateDMY(_0x95b21){const _0x4a6db2=_0x24bb19;var _0x3f4690=new Date(_0x95b21),_0x1732a6=_0x3f4690[_0x4a6db2(0x251)](),_0x15f783=_0x3f4690['getFullYear'](),_0xd8fed3=monthsEspanish[_0x3f4690[_0x4a6db2(0x20d)]()];return _0x1732a6+_0x4a6db2(0x348)+_0xd8fed3+_0x4a6db2(0x375)+_0x15f783;}function ntf_groupBy(_0x16641f,_0x5bd9e9){const _0xafd0f0=_0x24bb19;return _0x16641f[_0xafd0f0(0x387)](function(_0x3bbb95,_0x236ef0){var _0x44a06b=_0x236ef0[_0x5bd9e9];return _0x3bbb95[_0x44a06b]=_0x3bbb95[_0x44a06b]||[],_0x3bbb95[_0x44a06b]['push'](_0x236ef0),_0x3bbb95;},{});}function ntf_isExpired(_0x1b9934){const _0x2ff3d5=_0x24bb19;if(!_0x1b9934)return![];var _0x47d93b=new Date();return _0x47d93b[_0x2ff3d5(0x2c5)](0x0,0x0,0x0,0x0),new Date(_0x1b9934)<=_0x47d93b;}function ntf_getNotifications(){const _0x5b8279=_0x24bb19;var _0x2a8c93=parseInt(document[_0x5b8279(0x349)](_0x5b8279(0x39d))[_0x5b8279(0x25a)],0xa),_0x2d0987=ntf_groupBy(products,_0x5b8279(0x2c1)),_0x1ae284=[];return Object[_0x5b8279(0x2a2)](_0x2d0987)['forEach'](function(_0x534ab5){const _0x37a821=_0x5b8279;var _0x1e1853=_0x2d0987[_0x534ab5],_0x529365=_0x1e1853[0x0],_0x260e13=(_0x529365[_0x37a821(0x2e0)]||[])[_0x37a821(0x34d)](function(_0x2d6c71){return _0x2d6c71['setIdSucursal']==_0x2a8c93;});if(!_0x260e13)return;var _0x167f74=parseFloat(_0x260e13[_0x37a821(0x2da)]),_0x27bfdc=parseFloat(_0x260e13[_0x37a821(0x2b3)]);_0x529365[_0x37a821(0x1f3)]==0x1&&_0x167f74<=_0x27bfdc&&_0x1ae284[_0x37a821(0x322)]({'type':0x1,'id_registro':_0x529365['id'],'title':_0x37a821(0x329)+_0x529365[_0x37a821(0x1f0)],'message':_0x37a821(0x218)+_0x529365[_0x37a821(0x1f0)]+'\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20'+_0x27bfdc['toFixed'](0x3)+_0x37a821(0x383)+_0x167f74[_0x37a821(0x2b9)](0x3)+'\x0a','data':{'producto':_0x529365,'stock':_0x167f74,'minStock':_0x27bfdc}}),_0x529365[_0x37a821(0x32e)]&&ntf_isExpired(_0x529365[_0x37a821(0x32e)])&&_0x1ae284['push']({'type':0x2,'id_registro':_0x529365['id'],'title':_0x37a821(0x1f8)+_0x529365['setDescripcion'],'message':_0x37a821(0x2c7)+_0x529365[_0x37a821(0x1f0)]+_0x37a821(0x302)+ntf_formatDateDMY(_0x529365[_0x37a821(0x32e)])+_0x37a821(0x2d2)+'Stock\x20Actual:\x20'+_0x167f74[_0x37a821(0x2b9)](0x3),'data':{'producto':_0x529365,'expiration':_0x529365['setBatchExpirationDate']}});}),_0x1ae284;}function ntf_renderNotifications(){const _0x5e72bb=_0x24bb19;var _0x173426=ntf_getNotifications(),_0x229af0=document[_0x5e72bb(0x349)](_0x5e72bb(0x20a)),_0x3217ae=document[_0x5e72bb(0x349)]('ntf-notif-count');_0x229af0[_0x5e72bb(0x363)]='',_0x3217ae[_0x5e72bb(0x27e)]=_0x173426[_0x5e72bb(0x277)];if(_0x173426[_0x5e72bb(0x277)]===0x0){var _0x51be8f=document['createElement']('li');_0x51be8f[_0x5e72bb(0x27e)]='No\x20hay\x20notificaciones',_0x229af0[_0x5e72bb(0x2a9)](_0x51be8f);return;}_0x173426['forEach'](function(_0x3c4b71,_0x2a6a6d){const _0x4514c8=_0x5e72bb;var _0x1b0920=document['createElement']('li');_0x1b0920['textContent']=_0x3c4b71[_0x4514c8(0x2c2)],_0x1b0920[_0x4514c8(0x28d)](_0x4514c8(0x22c),_0x2a6a6d),_0x229af0[_0x4514c8(0x2a9)](_0x1b0920);});}document[_0x24bb19(0x349)]('tabs-notifications')[_0x24bb19(0x30e)](_0x24bb19(0x29c),function(){const _0x500526=_0x24bb19;document['getElementById']('ntf-notification-dropdown')[_0x500526(0x20f)]['toggle'](_0x500526(0x30c)),ntf_renderNotifications();}),document['getElementById'](_0x24bb19(0x20a))[_0x24bb19(0x30e)](_0x24bb19(0x29c),function(_0x5a03c3){const _0x1d3b01=_0x24bb19,_0x3157f9=_0x5a03c3[_0x1d3b01(0x1fc)][_0x1d3b01(0x1ee)]('li');if(!_0x3157f9||!_0x3157f9['dataset']['ntfIndex'])return;const _0x12b07b=ntf_getNotifications()[_0x3157f9[_0x1d3b01(0x3a3)][_0x1d3b01(0x345)]];document[_0x1d3b01(0x349)](_0x1d3b01(0x212))[_0x1d3b01(0x29c)](),openModalDetailsAndNtf(_0x12b07b['data'][_0x1d3b01(0x2f6)]['id'],_0x12b07b[_0x1d3b01(0x29a)],_0x12b07b);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x54ec5e,_0x802efa=0x3,_0x2f5773=0x1){const _0x4f8d75=_0x24bb19,_0x2ddcad=document[_0x4f8d75(0x349)](_0x4f8d75(0x232)),_0x1c52de=document[_0x4f8d75(0x2e9)](_0x4f8d75(0x370));let _0x5be254;if(_0x802efa==0x1)_0x5be254=_0x4f8d75(0x2cb);else _0x802efa==0x2?_0x5be254=_0x4f8d75(0x321):_0x5be254=_0x4f8d75(0x25c);let _0x1cc6cd;_0x2f5773==0x1?(_0x1cc6cd=_0x4f8d75(0x238),_0x2ddcad[_0x4f8d75(0x20f)][_0x4f8d75(0x2f4)](_0x4f8d75(0x1ed)),_0x2ddcad['classList'][_0x4f8d75(0x2ad)](_0x4f8d75(0x34f))):(_0x1cc6cd=_0x4f8d75(0x376),_0x2ddcad['classList'][_0x4f8d75(0x2f4)]('ntf-flotante-container-bottom'),_0x2ddcad[_0x4f8d75(0x20f)][_0x4f8d75(0x2ad)](_0x4f8d75(0x1ed))),_0x1c52de[_0x4f8d75(0x247)]=_0x4f8d75(0x215)+_0x5be254+'\x20'+_0x1cc6cd,_0x1c52de['textContent']=_0x54ec5e,_0x2ddcad[_0x4f8d75(0x2a9)](_0x1c52de),_0x1c52de['addEventListener']('animationend',()=>{const _0x1be064=_0x4f8d75;_0x1c52de[_0x1be064(0x2ad)]();});}function openDatabase(){if(db)return Promise['resolve'](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5a5df6,_0x1d0166)=>{const _0x5ad2ec=_0x2242,_0x4d9ffa=indexedDB[_0x5ad2ec(0x1ea)](db_name);_0x4d9ffa[_0x5ad2ec(0x378)]=function(_0x1ab16e){const _0x2c10a5=_0x5ad2ec;db=_0x1ab16e[_0x2c10a5(0x1fc)][_0x2c10a5(0x2b0)],console['log']('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x4d9ffa['onsuccess']=function(_0x4a1dda){const _0x11f6d4=_0x5ad2ec;db=_0x4a1dda[_0x11f6d4(0x1fc)]['result'],console[_0x11f6d4(0x358)](_0x11f6d4(0x368)),_0x5a5df6(db),dbPromise=null;},_0x4d9ffa[_0x5ad2ec(0x2db)]=function(_0x2f8e34){const _0x2619fb=_0x5ad2ec;console[_0x2619fb(0x25d)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x2f8e34[_0x2619fb(0x1fc)][_0x2619fb(0x25d)]),_0x1d0166(_0x2f8e34['target']['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x20f5ac,_0x307fd0=![]){const _0x4a3ee6=_0x24bb19;if(dbOperationInProgress)return Promise[_0x4a3ee6(0x39e)](_0x4a3ee6(0x2c6));return dbOperationInProgress=!![],openDatabase()[_0x4a3ee6(0x2f2)](_0x236a89=>{const _0x49560b=_0x4a3ee6,_0x216927=_0x49560b(0x22e),_0x482283=_0x49560b(0x288),_0x45c053=_0x49560b(0x2f1),_0x288d17='layoutState',_0x3b81d7=_0x20f5ac?_0x49560b(0x2c3)+_0x20f5ac:null,_0x411547=_0x20f5ac?'window_options_'+_0x20f5ac:null,_0xe10a38=_0x307fd0||!_0x236a89[_0x49560b(0x2f5)][_0x49560b(0x379)](_0x216927)||!_0x236a89[_0x49560b(0x2f5)][_0x49560b(0x379)](_0x482283)||!_0x236a89[_0x49560b(0x2f5)][_0x49560b(0x379)](_0x45c053)||!_0x236a89['objectStoreNames'][_0x49560b(0x379)](_0x288d17)||_0x20f5ac&&(!_0x236a89[_0x49560b(0x2f5)]['contains'](_0x3b81d7)||!_0x236a89[_0x49560b(0x2f5)][_0x49560b(0x379)](_0x411547));if(!_0xe10a38)return dbOperationInProgress=![],Promise[_0x49560b(0x1e2)](_0x236a89);const _0x10b778=_0x236a89['version']+0x1;return _0x236a89[_0x49560b(0x1d9)](),new Promise((_0x1005e7,_0x3d7638)=>{const _0x1da505=_0x49560b,_0xdbb1cb=indexedDB[_0x1da505(0x1ea)](db_name,_0x10b778);_0xdbb1cb[_0x1da505(0x378)]=function(_0x52e281){const _0xb880b3=_0x1da505;db=_0x52e281['target'][_0xb880b3(0x2b0)];if(_0x307fd0)Array[_0xb880b3(0x2b5)](db[_0xb880b3(0x2f5)])[_0xb880b3(0x35e)](_0x5a799b=>{const _0x52c03e=_0xb880b3;_0x5a799b!==_0x45c053&&(db[_0x52c03e(0x205)](_0x5a799b),console[_0x52c03e(0x358)](_0x52c03e(0x335)+_0x5a799b+_0x52c03e(0x279)));}),console[_0xb880b3(0x358)](_0xb880b3(0x28c));else{!db[_0xb880b3(0x2f5)][_0xb880b3(0x379)](_0x216927)&&(db[_0xb880b3(0x36c)](_0x216927,{'keyPath':'id'}),console[_0xb880b3(0x358)]('ObjectStore\x20\x27'+_0x216927+'\x27\x20creado\x20correctamente.'));!db[_0xb880b3(0x2f5)][_0xb880b3(0x379)](_0x482283)&&(db['createObjectStore'](_0x482283,{'keyPath':'id','autoIncrement':!![]}),console[_0xb880b3(0x358)](_0xb880b3(0x335)+_0x482283+_0xb880b3(0x1cb)));!db[_0xb880b3(0x2f5)][_0xb880b3(0x379)](_0x45c053)&&(db[_0xb880b3(0x36c)](_0x45c053,{'keyPath':'id','autoIncrement':!![]}),console[_0xb880b3(0x358)](_0xb880b3(0x335)+_0x45c053+_0xb880b3(0x1cb)));!db[_0xb880b3(0x2f5)][_0xb880b3(0x379)](_0x288d17)&&(db['createObjectStore'](_0x288d17,{'keyPath':'id'}),console[_0xb880b3(0x358)]('ObjectStore\x20\x27'+_0x288d17+_0xb880b3(0x1cb)));if(_0x20f5ac){if(!db['objectStoreNames'][_0xb880b3(0x379)](_0x3b81d7)){const _0x40a46e=db[_0xb880b3(0x36c)](_0x3b81d7,{'keyPath':'id','autoIncrement':!![]});_0x40a46e[_0xb880b3(0x396)](_0xb880b3(0x21c),'cartId',{'unique':!![]}),console[_0xb880b3(0x358)](_0xb880b3(0x335)+_0x3b81d7+_0xb880b3(0x1cb));}!db[_0xb880b3(0x2f5)][_0xb880b3(0x379)](_0x411547)&&(db[_0xb880b3(0x36c)](_0x411547,{'keyPath':'id','autoIncrement':!![]}),console[_0xb880b3(0x358)]('ObjectStore\x20\x27'+_0x411547+_0xb880b3(0x1cb)));}}},_0xdbb1cb[_0x1da505(0x21b)]=function(_0x32ca24){const _0x3ba27e=_0x1da505;db=_0x32ca24[_0x3ba27e(0x1fc)][_0x3ba27e(0x2b0)],dbOperationInProgress=![],console['log'](_0x3ba27e(0x29d)),_0x1005e7(db);},_0xdbb1cb[_0x1da505(0x2db)]=function(_0x2abf6f){const _0x41e1b7=_0x1da505;console[_0x41e1b7(0x25d)](_0x41e1b7(0x26d),_0x2abf6f[_0x41e1b7(0x1fc)][_0x41e1b7(0x25d)]),dbOperationInProgress=![],_0x3d7638(_0x2abf6f[_0x41e1b7(0x1fc)]['error']);};});})['catch'](_0x456d40=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0x4a3ee6(0x37d)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x5de4d9=_0x24bb19;if(!isOnline())return Promise[_0x5de4d9(0x1e2)]();try{const _0x19380c=await createCartStore(''),_0x2d59e6=_0x19380c['transaction'](_0x5de4d9(0x2f1),_0x5de4d9(0x235)),_0x50b691=_0x2d59e6[_0x5de4d9(0x2e6)]('offline_operations'),_0x4358cd=await new Promise((_0x5bb8e0,_0x3e921d)=>{const _0x4c6191=_0x5de4d9,_0x34dfb7=_0x50b691['getAll']();_0x34dfb7['onsuccess']=()=>_0x5bb8e0(_0x34dfb7[_0x4c6191(0x2b0)]),_0x34dfb7[_0x4c6191(0x2db)]=()=>_0x3e921d(new Error(_0x4c6191(0x223)+_0x34dfb7['error']));}),_0xa16604=_0x4358cd[_0x5de4d9(0x2c8)](_0x503589=>_0x503589[_0x5de4d9(0x2bd)]==0x1);if(_0xa16604[_0x5de4d9(0x277)]===0x0){console[_0x5de4d9(0x358)]('No\x20hay\x20operaciones\x20para\x20sincronizar.');return;}const _0x5a1474=_0xa16604['filter'](_0x48f11d=>_0x48f11d[_0x5de4d9(0x310)]==0x64),_0x7b2f2=_0xa16604[_0x5de4d9(0x2c8)](_0x358efe=>_0x358efe['setTipoOperacion']!=0x64);function _0x50f6ff(_0x1eb89e,_0x49f519){return new Promise((_0x4c1cb9,_0x5d96cc)=>{const _0x499128=_0x2242,_0x552c4c=_0x1eb89e[_0x499128(0x242)](_0x499128(0x2f1),'readwrite'),_0x48add2=_0x552c4c[_0x499128(0x2e6)]('offline_operations'),_0xfb4219=_0x48add2['put'](_0x49f519);_0xfb4219[_0x499128(0x21b)]=()=>_0x4c1cb9(),_0xfb4219[_0x499128(0x2db)]=_0x4308aa=>_0x5d96cc(new Error(_0x499128(0x2dd)+_0x4308aa['target'][_0x499128(0x25d)]));});}async function _0x589af2(_0x58aeef){const _0x33c94a=_0x5de4d9;for(const _0x5bf507 of _0x58aeef){_0x5bf507['setTipoOperacion']===0x64&&Array['isArray'](_0x5bf507[_0x33c94a(0x332)])&&_0x5bf507['newItems'][_0x33c94a(0x29e)]((_0x573f31,_0x173490)=>{const _0x3b119d=_0x33c94a,_0x3dd2ea=[0x1,0x2,0x3],_0x208810=_0x3dd2ea['includes'](_0x573f31[_0x3b119d(0x1f2)]),_0x17a03c=_0x3dd2ea[_0x3b119d(0x398)](_0x173490[_0x3b119d(0x1f2)]);if(_0x208810&&!_0x17a03c)return-0x1;if(!_0x208810&&_0x17a03c)return 0x1;return _0x573f31[_0x3b119d(0x1f2)]-_0x173490[_0x3b119d(0x1f2)];});const _0x5edebb=new FormData();_0x5edebb[_0x33c94a(0x2ed)](_0x33c94a(0x36a),JSON[_0x33c94a(0x1eb)](_0x5bf507));if(_0x5bf507[_0x33c94a(0x33e)]instanceof Blob&&_0x5bf507[_0x33c94a(0x33e)][_0x33c94a(0x32b)]>0x0)_0x5edebb[_0x33c94a(0x2ed)](_0x33c94a(0x33e),_0x5bf507[_0x33c94a(0x33e)],'documento.pdf');else _0x5bf507[_0x33c94a(0x33e)]&&console[_0x33c94a(0x1c2)]('PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.');_0x5bf507[_0x33c94a(0x310)]==0x64&&Array[_0x33c94a(0x229)](_0x5bf507[_0x33c94a(0x332)])&&_0x5bf507[_0x33c94a(0x332)]['forEach']((_0x18dbf7,_0x17f5e3)=>{const _0x1bec97=_0x33c94a;Array['isArray'](_0x18dbf7['setItemImages'])&&_0x18dbf7[_0x1bec97(0x338)][_0x1bec97(0x35e)]((_0x1505b6,_0x18dea3)=>{const _0x368abd=_0x1bec97;_0x1505b6 instanceof Blob&&_0x1505b6[_0x368abd(0x32b)]>0x0?_0x5edebb[_0x368abd(0x2ed)](_0x368abd(0x2c0)+_0x17f5e3+_0x368abd(0x1f4)+_0x18dea3+']',_0x1505b6,_0x1505b6[_0x368abd(0x265)]):console[_0x368abd(0x1c2)](_0x368abd(0x1fe)+_0x17f5e3+_0x368abd(0x245)+_0x18dea3+']\x20‚Äì\x20se\x20omite.');});});try{const _0x522f37=await fetch(_0x5bf507[_0x33c94a(0x325)],{'method':_0x33c94a(0x1f5),'body':_0x5edebb});if(!_0x522f37['ok'])throw new Error('HTTP\x20'+_0x522f37['status']+_0x33c94a(0x361)+_0x522f37[_0x33c94a(0x1fb)]);const _0x1d250a=await _0x522f37[_0x33c94a(0x2ff)]();!_0x1d250a[_0x33c94a(0x22f)]?_0x5bf507[_0x33c94a(0x2cf)]=_0x1d250a[_0x33c94a(0x37f)]||_0x33c94a(0x28f):(_0x5bf507[_0x33c94a(0x2bd)]=0x0,delete _0x5bf507[_0x33c94a(0x2cf)]),await _0x50f6ff(_0x19380c,_0x5bf507);}catch(_0xa7d997){console[_0x33c94a(0x25d)](_0x33c94a(0x2e5),_0xa7d997),_0x5bf507[_0x33c94a(0x2cf)]=_0xa7d997[_0x33c94a(0x37f)],await _0x50f6ff(_0x19380c,_0x5bf507);}}}_0x5a1474[_0x5de4d9(0x29e)]((_0x5497f8,_0x1f5cbd)=>{const _0x4208da=_0x5de4d9,_0x385f24=[0x1,0x2,0x3],_0x19c3d0=_0x24fedc=>Array[_0x4208da(0x229)](_0x24fedc['newItems'])&&_0x24fedc[_0x4208da(0x332)]['some'](_0x132690=>_0x385f24[_0x4208da(0x398)](_0x132690[_0x4208da(0x1f2)])),_0x514039=_0x19c3d0(_0x5497f8),_0x3a8024=_0x19c3d0(_0x1f5cbd);if(_0x514039&&!_0x3a8024)return-0x1;if(!_0x514039&&_0x3a8024)return 0x1;const _0x257a80=Math[_0x4208da(0x395)](..._0x5497f8['newItems'][_0x4208da(0x2b1)](_0x43acfa=>_0x43acfa[_0x4208da(0x1f2)])),_0x282659=Math[_0x4208da(0x395)](..._0x1f5cbd[_0x4208da(0x332)]['map'](_0x48f3b7=>_0x48f3b7[_0x4208da(0x1f2)]));return _0x257a80-_0x282659;}),_0x5a1474[_0x5de4d9(0x277)]&&(console[_0x5de4d9(0x358)]('Sincronizando\x20'+_0x5a1474[_0x5de4d9(0x277)]+_0x5de4d9(0x24a)),await _0x589af2(_0x5a1474)),_0x7b2f2[_0x5de4d9(0x277)]&&(console[_0x5de4d9(0x358)]('Sincronizando\x20'+_0x7b2f2['length']+_0x5de4d9(0x2d1)),await _0x589af2(_0x7b2f2)),console[_0x5de4d9(0x358)](_0x5de4d9(0x27d));}catch(_0xf572fa){console[_0x5de4d9(0x25d)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0xf572fa);}}function apiERPsaveOnline(_0x597499,_0x5581f8,_0x375760,_0xd40262,_0x16b1a5){const _0x2a4c01=_0x24bb19;if(!isOnline())return console[_0x2a4c01(0x358)]('Error\x20Network.'),Promise[_0x2a4c01(0x39e)](_0x2a4c01(0x259));const _0x227adc={'setAuthToken':_0x597499,'setBranches':_0x5581f8,'setUsers':_0x375760,'setSeries':_0xd40262,'setPrinters':_0x16b1a5};return fetch(_0x2a4c01(0x336),{'method':_0x2a4c01(0x1f5),'headers':{'Content-Type':_0x2a4c01(0x2aa)},'body':JSON[_0x2a4c01(0x1eb)](_0x227adc)})[_0x2a4c01(0x2f2)](_0x3cedf5=>{const _0x149c3d=_0x2a4c01;if(!_0x3cedf5['ok'])throw new Error(_0x149c3d(0x2d8)+_0x3cedf5[_0x149c3d(0x1fb)]);return _0x3cedf5[_0x149c3d(0x2ff)]();})[_0x2a4c01(0x2f2)](_0x41a4bc=>{const _0x106131=_0x2a4c01;if(!_0x41a4bc[_0x106131(0x22f)])throw new Error(_0x41a4bc['message']||_0x106131(0x272));return console[_0x106131(0x358)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x41a4bc;})[_0x2a4c01(0x234)](_0x416f87=>{const _0x52f986=_0x2a4c01;console[_0x52f986(0x25d)](_0x52f986(0x308),_0x416f87);throw _0x416f87;});}async function acceder(){const _0x2c4cb2=_0x24bb19;if(!isOnline()){alert(_0x2c4cb2(0x342));throw new Error(_0x2c4cb2(0x2a3));}const _0x2c165b=document['getElementById'](_0x2c4cb2(0x28a)),_0x29b399=document['getElementById'](_0x2c4cb2(0x25e))[_0x2c4cb2(0x25a)],_0xd2ff2b=document[_0x2c4cb2(0x349)](_0x2c4cb2(0x27b))[_0x2c4cb2(0x25a)];_0x2c165b[_0x2c4cb2(0x26c)]=!![];if(!_0x29b399||!_0xd2ff2b){alert('Todos\x20los\x20campos\x20son\x20obligatorios.'),_0x2c165b[_0x2c4cb2(0x26c)]=![];return;}console[_0x2c4cb2(0x358)](_0x2c4cb2(0x1ba)),showLoadingModal();const _0xb8721a={'usuario':_0x29b399,'password':_0xd2ff2b};try{const _0x1819ad=await fetch(_0x2c4cb2(0x298),{'method':_0x2c4cb2(0x1f5),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2c4cb2(0x1eb)](_0xb8721a)}),_0x527645=await _0x1819ad[_0x2c4cb2(0x2ff)]();if(!(_0x527645['success']&&Array[_0x2c4cb2(0x229)](_0x527645[_0x2c4cb2(0x37f)]))){alert(_0x527645[_0x2c4cb2(0x37f)]),_0x2c165b['disabled']=![],hideLoadingModal();throw new Error(_0x527645[_0x2c4cb2(0x37f)]);}const _0x341ee2=document[_0x2c4cb2(0x349)](_0x2c4cb2(0x269));_0x341ee2[_0x2c4cb2(0x363)]=_0x2c4cb2(0x399);const _0x5b773c=_0x527645[_0x2c4cb2(0x37f)],{setApiEndPoint:_0x4e34c6,setAuthToken:_0x358115,setUser_Local:_0x5a2e35}=_0x5b773c[0x0],_0x1db7c1={'apiPOS_getAccessData':0x1,'setToken':_0x358115,'setUserLocalUserName':_0x5a2e35[_0x2c4cb2(0x331)]},_0x3fa5b9=await fetch(_0x4e34c6,{'method':_0x2c4cb2(0x1f5),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x2c4cb2(0x1eb)](_0x1db7c1)}),_0x39cfad=await _0x3fa5b9[_0x2c4cb2(0x2ff)]();if(!(_0x39cfad[_0x2c4cb2(0x22f)]===!![])){_0x341ee2[_0x2c4cb2(0x363)]='Error:\x20'+_0x39cfad[_0x2c4cb2(0x37f)]+'\x20...',setTimeout(()=>location['reload'](),0x1388);return;}_0x341ee2[_0x2c4cb2(0x363)]=_0x2c4cb2(0x286);const _0x2ad970=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x2af)][_0x2c4cb2(0x2b1)](_0x514457=>{const _0x56e324=_0x2c4cb2,_0x433725=_0x514457[_0x56e324(0x334)]||'',_0x684081=_0x514457[_0x56e324(0x2c1)]||'',_0x4d3f81=_0x514457[_0x56e324(0x1c1)]||'',_0x50dc9c=_0x514457[_0x56e324(0x385)]||'',_0x10516e=_0x514457['setDescripcion']||'',_0x538e3b=_0x514457[_0x56e324(0x2ec)]||'',_0xbbea8f=_0x514457[_0x56e324(0x2bf)]||'',_0x3ccce3=_0x514457[_0x56e324(0x2e7)]||'',_0x67205d=_0x514457[_0x56e324(0x1c3)]||'',_0x9b34e4=_0x514457[_0x56e324(0x1e6)]||'',_0x18fbca=_0x514457['setTipAfeIgv']||'10',_0x9d1966=_0x5b773c[0x0]['setImpuestos'][_0x56e324(0x34d)](_0x511b28=>_0x511b28[_0x56e324(0x1e6)]==_0x9b34e4)?.[_0x56e324(0x263)]||0x0,_0x1dcbad=parseFloat(_0x514457[_0x56e324(0x1f3)])||0x1,_0x1c9e33=_0x514457[_0x56e324(0x209)]||'',_0x11e983=_0x514457['setMarca']||'',_0x112000=_0x514457[_0x56e324(0x354)]||_0x56e324(0x24e),_0x2fca5b=_0x514457[_0x56e324(0x2ea)]||0x1,_0x1c3563=_0x514457[_0x56e324(0x261)]||'',_0x3f01c0=_0x514457[_0x56e324(0x32e)]||'',_0x4a901e=(_0x514457[_0x56e324(0x222)]||[])[_0x56e324(0x2b1)](_0x48f027=>{const _0x1bdb68=_0x56e324,_0x48381e=parseFloat(_0x48f027['setMtoValorUnitario'])||0x0,_0x40f885=parseFloat(_0x48f027[_0x1bdb68(0x228)])||0x0,_0x5478bd=parseFloat(_0x48f027[_0x1bdb68(0x2cc)])||0x0,_0x26a5f0=parseFloat(_0x48f027['setMtoPrecioCostoUnitario'])||0x0,_0x1abc0b=_0x48f027[_0x1bdb68(0x1de)]||[];let _0x612869=0x0,_0x21f821=0x0;if(_0x48381e>0x0)_0x612869=_0x48381e,_0x21f821=setTipAfeImpGravados[_0x1bdb68(0x27a)](_0x598acf=>_0x598acf==_0x18fbca)?_0x48381e+_0x48381e*_0x9d1966/0x64:_0x48381e;else _0x40f885>0x0&&(_0x21f821=_0x40f885,_0x612869=setTipAfeImpGravados[_0x1bdb68(0x27a)](_0x5a098a=>_0x5a098a==_0x18fbca)?_0x40f885/(0x1+_0x9d1966/0x64):_0x40f885);let _0x18d892=0x0,_0xddb2a3=0x0;if(_0x5478bd>0x0)_0x18d892=_0x5478bd,_0xddb2a3=setTipAfeImpGravados[_0x1bdb68(0x27a)](_0x1fbd8d=>_0x1fbd8d==_0x18fbca)?_0x5478bd+_0x5478bd*_0x9d1966/0x64:_0x5478bd;else _0x26a5f0>0x0&&(_0xddb2a3=_0x26a5f0,_0x18d892=setTipAfeImpGravados[_0x1bdb68(0x27a)](_0x203b29=>_0x203b29==_0x18fbca)?_0x26a5f0/(0x1+_0x9d1966/0x64):_0x26a5f0);return{'currency':_0x48f027[_0x1bdb68(0x2f0)],'setMtoValorUnitario':_0x612869,'setMtoPrecioUnitario':_0x21f821,'setMtoValorCostoUnitario':_0x18d892,'setMtoPrecioCostoUnitario':_0xddb2a3,'setPriceLists':_0x1abc0b};});if(_0x9b34e4!==''&&_0x433725!==''&&_0x4d3f81!==''&&_0x10516e!=='')return{'id':_0x433725,'setIdProducto':_0x684081,'setCodProducto':_0x4d3f81,'setItemBarCode':_0x50dc9c,'setDescripcion':_0x10516e,'setItemDescription':_0x538e3b,'setUnidadCodigo':_0xbbea8f,'setUnidad':_0x3ccce3,'setItemUnitAlias':_0x67205d,'setPorcentajeIgv':_0x9d1966,'setTaxId':_0x9b34e4,'setTipAfeIgv':_0x18fbca,'setInventariable':_0x1dcbad,'setCategoria':_0x1c9e33,'setMarca':_0x11e983,'setImg':_0x112000,'setConversionFactor':_0x2fca5b,'setBatchName':_0x1c3563,'setBatchExpirationDate':_0x3f01c0,'setItemIsBought':_0x514457['setItemIsBought'],'setItemIsSold':_0x514457['setItemIsSold'],'sucursales':_0x514457[_0x56e324(0x2e0)]||[],'setPrinters':_0x514457['setPrinters']||[],'currency_data':_0x4a901e,'setImages':_0x514457[_0x56e324(0x2a1)]||[]};return null;})[_0x2c4cb2(0x2c8)](Boolean);_0x5b773c[0x0]['setCompanyLogo']=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x323)],_0x5b773c[0x0][_0x2c4cb2(0x287)]=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x287)],_0x5b773c[0x0][_0x2c4cb2(0x316)]=_0x39cfad[_0x2c4cb2(0x37f)]['setCompanyName'],_0x5b773c[0x0][_0x2c4cb2(0x320)]=_0x39cfad['message'][_0x2c4cb2(0x320)],_0x5b773c[0x0][_0x2c4cb2(0x294)]=_0x39cfad['message'][_0x2c4cb2(0x294)],_0x5b773c[0x0]['setCompanyPhone']=_0x39cfad['message'][_0x2c4cb2(0x246)],_0x5b773c[0x0]['setCompanyEmail']=_0x39cfad[_0x2c4cb2(0x37f)]['setCompanyEmail'],_0x5b773c[0x0]['setCompanyWebsite']=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x1d3)],_0x5b773c[0x0]['setBranches']=_0x39cfad['message'][_0x2c4cb2(0x1bc)],_0x5b773c[0x0][_0x2c4cb2(0x32f)]=_0x39cfad[_0x2c4cb2(0x37f)]['setUsuarios'],_0x5b773c[0x0][_0x2c4cb2(0x273)]=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x273)],_0x5b773c[0x0]['setPrinters']=_0x39cfad['message'][_0x2c4cb2(0x31c)],_0x5b773c[0x0][_0x2c4cb2(0x258)]=_0x39cfad['message'][_0x2c4cb2(0x258)],_0x5b773c[0x0][_0x2c4cb2(0x28b)]=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x28b)],_0x5b773c[0x0][_0x2c4cb2(0x1d5)]=_0x39cfad[_0x2c4cb2(0x37f)]['setCustomers'],_0x5b773c[0x0][_0x2c4cb2(0x311)]=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x311)],_0x5b773c[0x0]['setShifts']=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x1ce)],_0x5b773c[0x0][_0x2c4cb2(0x351)]=_0x39cfad[_0x2c4cb2(0x37f)][_0x2c4cb2(0x351)],_0x341ee2[_0x2c4cb2(0x363)]=_0x2c4cb2(0x2a7);const _0x2e86fc=await createCartStore('');await clearAndStore(_0x2e86fc,_0x2c4cb2(0x22e),_0x2ad970),await clearAndStore(_0x2e86fc,_0x2c4cb2(0x37b),[{'id':'layout',..._0x5b773c[0x0][_0x2c4cb2(0x30a)]}]),await apiERPsaveOnline(_0x358115,_0x5b773c[0x0][_0x2c4cb2(0x1bc)],_0x5b773c[0x0]['setUsuarios'],_0x5b773c[0x0][_0x2c4cb2(0x273)],_0x5b773c[0x0][_0x2c4cb2(0x31c)]);const _0x2ee39c=await fetch(_0x2c4cb2(0x2c9),{'method':_0x2c4cb2(0x1f5),'headers':{'Content-Type':_0x2c4cb2(0x35a)},'body':JSON['stringify']({'setAuthToken':_0x358115,'setUserId':_0x5a2e35[_0x2c4cb2(0x2de)]})}),_0x43010d=await _0x2ee39c[_0x2c4cb2(0x2ff)]();if(_0x43010d[_0x2c4cb2(0x22f)])_0x5b773c[0x0][_0x2c4cb2(0x26f)]=_0x43010d['message'][_0x2c4cb2(0x26f)],_0x5b773c[0x0]['setUsers']=_0x43010d[_0x2c4cb2(0x37f)][_0x2c4cb2(0x299)],_0x5b773c[0x0][_0x2c4cb2(0x31c)]=_0x43010d['message']['setPrinters'];else{console[_0x2c4cb2(0x25d)]('Error\x20Update:',_0x43010d[_0x2c4cb2(0x37f)]);return;}await saveCompanyToIndexedDB(_0x5b773c,_0x2e86fc);if(!_0x5b773c[0x0][_0x2c4cb2(0x26f)]||_0x5b773c[0x0]['setWindows']['length']===0x0){console[_0x2c4cb2(0x25d)](_0x2c4cb2(0x29b));return;}for(const _0x2b707f of _0x5b773c[0x0][_0x2c4cb2(0x26f)]){await new Promise(_0x4c29b4=>setTimeout(_0x4c29b4,0x12c)),await createCartStore(_0x2b707f[_0x2c4cb2(0x285)]),_0x341ee2[_0x2c4cb2(0x363)]=_0x2c4cb2(0x35f)+_0x2b707f[_0x2c4cb2(0x291)]+_0x2c4cb2(0x248);}_0x341ee2[_0x2c4cb2(0x363)]=_0x2c4cb2(0x1d2)+_0x5a2e35[_0x2c4cb2(0x231)]+'\x20...',setTimeout(()=>location[_0x2c4cb2(0x2be)](),0x7d0);}catch(_0x398a7b){console[_0x2c4cb2(0x25d)]('Error\x20en\x20la\x20solicitud:',_0x398a7b),_0x2c165b[_0x2c4cb2(0x26c)]=![],hideLoadingModal(),alert(_0x398a7b);throw _0x398a7b;}}function clearAndStore(_0x264893,_0x535a4f,_0x4c1bd2){return new Promise((_0x55dfd7,_0x252c45)=>{const _0x252838=_0x2242,_0x23cc1c=_0x264893[_0x252838(0x242)](_0x535a4f,'readwrite'),_0x51710c=_0x23cc1c[_0x252838(0x2e6)](_0x535a4f),_0x593731=_0x51710c['clear']();_0x593731[_0x252838(0x21b)]=()=>{const _0x1c037e=_0x252838;_0x4c1bd2[_0x1c037e(0x35e)](_0x40a951=>_0x51710c[_0x1c037e(0x276)](_0x40a951));},_0x23cc1c[_0x252838(0x390)]=()=>_0x55dfd7(),_0x23cc1c[_0x252838(0x2db)]=()=>_0x252c45(new Error('Error\x20in\x20saving\x20to\x20store\x20'+_0x535a4f+'!'));});}async function logoutReload(_0x23618f=0x0,_0xd6493c){const _0x946941=_0x24bb19;if(_0x23618f!=0x1){showLoadingModal();const _0x380ee8=document[_0x946941(0x349)](_0x946941(0x269));_0x380ee8[_0x946941(0x363)]=_0x946941(0x27c);}_0xd6493c==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0x2a7f70,_0x72c74){const _0x290f63=_0x24bb19;'serviceWorker'in navigator&&navigator[_0x290f63(0x35d)][_0x290f63(0x252)](_0x2a7f70)[_0x290f63(0x2f2)](_0x471fc8=>{const _0x4d8049=_0x290f63;console['log'](_0x4d8049(0x2b7)),_0x471fc8[_0x4d8049(0x29f)]=()=>{const _0x15c88a=_0x4d8049,_0x3c5277=_0x471fc8[_0x15c88a(0x26a)];_0x3c5277[_0x15c88a(0x23f)]=()=>{const _0x1c9aaa=_0x15c88a;_0x3c5277[_0x1c9aaa(0x274)]==_0x1c9aaa(0x1e7)&&navigator[_0x1c9aaa(0x35d)]['controller']&&console['log']('SW\x20New\x20Version');};},navigator['serviceWorker'][_0x4d8049(0x30e)](_0x4d8049(0x266),()=>{const _0x1dbb81=_0x4d8049;showLoadingModal();const _0x498612=document[_0x1dbb81(0x349)]('infoLoadingModal');_0x498612[_0x1dbb81(0x363)]=_0x1dbb81(0x204),logoutReload(0x1,_0x72c74);});})[_0x290f63(0x234)](_0x1f79df=>console[_0x290f63(0x25d)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x1f79df));}function isLoggedIn(_0x349b20){return _0x349b20&&_0x349b20[0x0]&&_0x349b20[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x4afd40=_0x24bb19;document[_0x4afd40(0x349)]('header')[_0x4afd40(0x20f)][_0x4afd40(0x2ad)](_0x4afd40(0x30c)),document[_0x4afd40(0x349)]('pos')[_0x4afd40(0x20f)][_0x4afd40(0x2ad)](_0x4afd40(0x30c)),document[_0x4afd40(0x349)](_0x4afd40(0x384))[_0x4afd40(0x20f)][_0x4afd40(0x2f4)](_0x4afd40(0x30c));const _0x25bb11=document[_0x4afd40(0x349)]('topbar');_0x25bb11&&_0x25bb11[_0x4afd40(0x20f)][_0x4afd40(0x2ad)](_0x4afd40(0x30c));}function x64ctotalcal(){const _0x4de60f=_0x24bb19;return window[_0x4de60f(0x284)]['hostname'];}function x64btsparamnumber(_0x55bfca){const _0x716ed0=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x55bfca==_0x716ed0;}function x32btsfirefoxcalc(_0x1424f3){const _0x4606d6=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x1424f3==_0x4606d6;}function x64bitsdescitem(_0x59997e){const _0x3cbc67=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x59997e==_0x3cbc67;}function x43bitsdescglobal(_0x65a436){const _0x608a3e=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x65a436==_0x608a3e;}function x32bitsCompanyTkn(_0x14e21f){const _0x25f8e4=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x14e21f==_0x25f8e4;}function x64bitsparamnumber(_0x403358,_0x4dd9c3){const _0x4dae6d=_0x4dd9c3;return _0x403358==_0x4dae6d;}function activarRender(_0x582396){const _0x4318b8=_0x24bb19,_0x263770=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x582396)];return _0x263770[_0x4318b8(0x398)](!![]);}function saveCompanyToIndexedDB(_0x134950,_0x332fcb){return new Promise((_0x49d9d3,_0x29cade)=>{const _0x19511c=_0x2242,_0x4e0ea3=_0x332fcb[_0x19511c(0x242)](_0x19511c(0x288),_0x19511c(0x2e2)),_0x1a015a=_0x4e0ea3[_0x19511c(0x2e6)]('company');_0x1a015a[_0x19511c(0x347)](),_0x134950['forEach'](_0x2cf2cb=>_0x1a015a[_0x19511c(0x276)](_0x2cf2cb)),_0x4e0ea3[_0x19511c(0x390)]=()=>_0x49d9d3(),_0x4e0ea3[_0x19511c(0x2db)]=_0x30c372=>_0x29cade(_0x30c372[_0x19511c(0x1fc)][_0x19511c(0x25d)]);});}function loadCompanyFromIndexedDB(_0x543045){return new Promise((_0x5f8dc9,_0x8bce8f)=>{const _0x1d77ee=_0x2242,_0x4b257d=_0x543045[_0x1d77ee(0x242)]('company','readonly'),_0x321b35=_0x4b257d['objectStore'](_0x1d77ee(0x288)),_0x416a90=_0x321b35[_0x1d77ee(0x25f)]();_0x416a90[_0x1d77ee(0x21b)]=()=>_0x5f8dc9(_0x416a90[_0x1d77ee(0x2b0)]),_0x416a90[_0x1d77ee(0x2db)]=_0x1880bf=>_0x8bce8f(_0x1880bf['target'][_0x1d77ee(0x25d)]);});}async function initializeCompany(_0xfd8e1e){const _0x2472b7=_0x24bb19;try{const _0x3d4446=await loadCompanyFromIndexedDB(_0xfd8e1e);company=_0x3d4446,company['length']>0x0?(console['log']('Company\x20Load.'),myCompany=company[0x0]):console[_0x2472b7(0x358)](_0x2472b7(0x31f));}catch(_0xe4000c){console[_0x2472b7(0x25d)](_0x2472b7(0x1c7),_0xe4000c);}}function loadProductsFromIndexedDB(_0x56daec){return new Promise((_0x285706,_0x3fc6eb)=>{const _0x4d1161=_0x2242,_0x59fa15=_0x56daec[_0x4d1161(0x242)](_0x4d1161(0x22e),_0x4d1161(0x235)),_0x49dd9e=_0x59fa15['objectStore'](_0x4d1161(0x22e)),_0x531ffc=_0x49dd9e[_0x4d1161(0x25f)]();_0x531ffc['onsuccess']=()=>_0x285706(_0x531ffc[_0x4d1161(0x2b0)]),_0x531ffc[_0x4d1161(0x2db)]=_0x3607ed=>_0x3fc6eb(_0x3607ed['target']['error']);});}async function initializeProducts(_0x2f9e0d){const _0x58b9cf=_0x24bb19;try{const _0x5dbaf6=await loadProductsFromIndexedDB(_0x2f9e0d);products=_0x5dbaf6,products[_0x58b9cf(0x277)]>0x0?console['log']('Products\x20Load.'):console[_0x58b9cf(0x358)](_0x58b9cf(0x1d6));}catch(_0x5260dc){console[_0x58b9cf(0x25d)](_0x58b9cf(0x371),_0x5260dc);}}async function validateAccess(_0x2b2ada){const _0x1eabda=_0x24bb19;await initializeCompany(_0x2b2ada);if(!isLoggedIn(company))throw new Error(_0x1eabda(0x31a));if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert('Error:\x20Domain\x20not\x20registered.');throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function initCountrySelector(_0x5c92d0){const _0x52c68b=_0x24bb19,_0x282826=_0x5c92d0[_0x52c68b(0x24f)](_0x52c68b(0x359)),_0x597bdc=_0x5c92d0[_0x52c68b(0x24f)](_0x52c68b(0x327));let _0x30e5c5=_0x282826[_0x52c68b(0x3a3)]['selectedCode']||'51';function _0x70ad21(){const _0x1a668a=_0x52c68b;_0x597bdc[_0x1a668a(0x330)]['width']=_0x282826[_0x1a668a(0x1d1)]+'px';}_0x70ad21(),window[_0x52c68b(0x30e)](_0x52c68b(0x23a),_0x70ad21),_0x282826['addEventListener'](_0x52c68b(0x29c),function(_0x5f30c6){const _0x1e9ae7=_0x52c68b;_0x5f30c6['stopPropagation'](),_0x70ad21();const _0x9c7e7c=_0x597bdc[_0x1e9ae7(0x330)][_0x1e9ae7(0x2b6)]===_0x1e9ae7(0x319);document[_0x1e9ae7(0x306)]('.dropdown-list-pais-flag')[_0x1e9ae7(0x35e)](_0x2104f2=>{const _0x523270=_0x1e9ae7;if(_0x2104f2!==_0x597bdc)_0x2104f2[_0x523270(0x330)][_0x523270(0x2b6)]=_0x523270(0x236);}),_0x597bdc['style']['display']=_0x9c7e7c?'none':_0x1e9ae7(0x319);}),_0x597bdc[_0x52c68b(0x306)](_0x52c68b(0x2c4))[_0x52c68b(0x35e)](_0x556357=>{const _0x33e518=_0x52c68b;_0x556357[_0x33e518(0x30e)](_0x33e518(0x29c),function(_0x591f8e){const _0x1be3ec=_0x33e518;_0x591f8e[_0x1be3ec(0x208)](),_0x30e5c5=this[_0x1be3ec(0x3a3)]['code'],_0x282826[_0x1be3ec(0x3a3)][_0x1be3ec(0x386)]=_0x30e5c5,_0x282826[_0x1be3ec(0x363)]=this['innerHTML'],_0x597bdc[_0x1be3ec(0x330)][_0x1be3ec(0x2b6)]=_0x1be3ec(0x236);});}),document['addEventListener'](_0x52c68b(0x29c),function(_0x9317c2){const _0x1c760c=_0x52c68b;!_0x282826[_0x1c760c(0x379)](_0x9317c2[_0x1c760c(0x1fc)])&&!_0x597bdc[_0x1c760c(0x379)](_0x9317c2[_0x1c760c(0x1fc)])&&(_0x597bdc[_0x1c760c(0x330)][_0x1c760c(0x2b6)]=_0x1c760c(0x236));});}function getCredentialsApiWAChat(_0x12067e){const _0x55a438=_0x24bb19;return myCompany['setCredentialsApiWAChat'][_0x55a438(0x34d)](_0x1ef91d=>_0x1ef91d[_0x55a438(0x36b)]==_0x12067e)||null;}async function sendMessageApiWAChat(_0x531ac8,_0xfb1ba8,_0x715d94,_0x13746f,_0x3f7744,_0x578f16,_0x17e3e9){const _0xa45e13=_0x24bb19,_0x437d4b=getCredentialsApiWAChat(_0x531ac8);if(!_0x437d4b)return Promise[_0xa45e13(0x39e)](new Error(_0xa45e13(0x260)));const _0x434ef3=_0x437d4b[_0xa45e13(0x237)],_0xf601aa=_0x437d4b[_0xa45e13(0x293)],_0x12a948={'type':_0x715d94,'content':_0x13746f};if(_0x3f7744)_0x12a948[_0xa45e13(0x280)]=_0x3f7744;_0x578f16&&(_0x12a948[_0xa45e13(0x249)]=_0x578f16);_0x17e3e9&&(_0x12a948[_0xa45e13(0x2a6)]=_0x17e3e9);const _0x23bff4='https://'+_0x434ef3+_0xa45e13(0x1c0)+_0xf601aa+_0xa45e13(0x2f8),_0xb10b0f=await fetch(_0x23bff4,{'method':_0xa45e13(0x1f5),'headers':{'Content-Type':_0xa45e13(0x2aa),'x-auth-token':myCompany[_0xa45e13(0x296)]},'body':JSON['stringify']({'to':_0xfb1ba8,'payload':_0x12a948})});if(!_0xb10b0f['ok']){const _0x51fa07=await _0xb10b0f[_0xa45e13(0x2ff)]()['catch'](()=>({}));throw new Error(_0x51fa07[_0xa45e13(0x25d)]||_0xa45e13(0x3a0)+_0xb10b0f['status']);}return _0xb10b0f[_0xa45e13(0x2ff)]();}async function saveCredentialsApiWAChatInCompany(){const _0x234640=_0x24bb19,_0x1d9e7d=document[_0x234640(0x349)]('setCredentialsApiWAChat'),_0x48959e=_0x1d9e7d['value'],_0x43f4dd=getCredentialsApiWAChat(_0x48959e);_0x43f4dd&&(myCompany[_0x234640(0x305)]=_0x43f4dd['setCredentialsApiWAChatId']);}async function loadCart(_0x29a51e){const _0x170d84=_0x24bb19;try{const _0x3394b5=await createCartStore(''),_0x18e1ea=[];await validateAccess(_0x3394b5);const _0x329af8=company[0x0][_0x170d84(0x1e9)],_0x6deb2c=company[0x0][_0x170d84(0x299)][_0x170d84(0x34d)](_0x3abf39=>_0x3abf39['setUserEmail']==_0x329af8[_0x170d84(0x331)]),_0xb70246=company[0x0][_0x170d84(0x1bc)],_0x4f7a27=document[_0x170d84(0x349)]('setBranchId');_0x4f7a27[_0x170d84(0x363)]='';if(_0x6deb2c&&_0x6deb2c[_0x170d84(0x1bc)]){const _0xd1f1d4=_0xb70246[_0x170d84(0x2c8)](_0x2e3c61=>_0x6deb2c[_0x170d84(0x1bc)][_0x170d84(0x27a)](_0x470d68=>_0x470d68[_0x170d84(0x36f)]==_0x2e3c61[_0x170d84(0x36f)]));_0xd1f1d4['forEach'](_0x1a2629=>{const _0x297f5f=_0x170d84,_0x1213e8=document['createElement'](_0x297f5f(0x257));_0x1213e8[_0x297f5f(0x25a)]=_0x1a2629[_0x297f5f(0x36f)],_0x1213e8['textContent']=_0x1a2629[_0x297f5f(0x2fa)],_0x4f7a27[_0x297f5f(0x2a9)](_0x1213e8);});}if(_0x29a51e==0x1){const _0x356cfe=document['getElementById'](_0x170d84(0x1e3));_0x356cfe['innerHTML']='';if(_0x6deb2c){const _0x711511=document[_0x170d84(0x2e9)](_0x170d84(0x257));_0x711511[_0x170d84(0x25a)]=_0x6deb2c[_0x170d84(0x39a)],_0x711511[_0x170d84(0x27e)]=_0x6deb2c[_0x170d84(0x360)],_0x356cfe[_0x170d84(0x2a9)](_0x711511);}const _0x363d9a=Array['from'](_0x3394b5[_0x170d84(0x2f5)])[_0x170d84(0x2c8)](_0x53ddca=>_0x53ddca[_0x170d84(0x270)](_0x170d84(0x255)))[_0x170d84(0x2b1)](_0x122c61=>{const _0x462ec1=_0x170d84,_0x15a40a=_0x122c61['split']('_');return _0x15a40a[_0x462ec1(0x277)]>=0x3?_0x15a40a[0x2]:null;})[_0x170d84(0x2c8)](_0x2d0872=>_0x2d0872!==null);console[_0x170d84(0x358)](_0x170d84(0x38b),_0x363d9a);const _0x3c768b=Array[_0x170d84(0x2b5)](_0x3394b5[_0x170d84(0x2f5)])[_0x170d84(0x2c8)](_0x4d0105=>_0x4d0105[_0x170d84(0x270)](_0x170d84(0x255)))[_0x170d84(0x29e)]((_0x4085f7,_0x4e2030)=>{const _0x5df933=_0x170d84,_0x3b58df=parseInt(_0x4085f7[_0x5df933(0x397)]('_')[_0x5df933(0x23e)](),0xa),_0x5d5d51=parseInt(_0x4e2030[_0x5df933(0x397)]('_')[_0x5df933(0x23e)](),0xa);return _0x3b58df-_0x5d5d51;});for(const _0x189653 of _0x3c768b){const _0x5f2a01=_0x189653['split']('_');if(_0x5f2a01[_0x170d84(0x277)]<0x3){console[_0x170d84(0x25d)](_0x170d84(0x339)+_0x189653);continue;}const _0xe71cdc=_0x5f2a01[0x2];if(_0x363d9a['includes'](_0xe71cdc)){const _0x4daec8=new Promise((_0x2d8315,_0x6a1f1f)=>{const _0x2b062e=_0x170d84,_0x52fbdc=_0x3394b5[_0x2b062e(0x242)]([_0x189653],_0x2b062e(0x235)),_0x26cda3=_0x52fbdc['objectStore'](_0x189653),_0x4f3948=_0x26cda3[_0x2b062e(0x315)](_0xe71cdc);_0x4f3948['onsuccess']=function(_0x5a6740){const _0x1a7178=_0x2b062e,_0x231551=_0x5a6740['target'][_0x1a7178(0x2b0)];window_options[_0xe71cdc]={},_0x231551&&(window_options[_0xe71cdc]={'setTipoOperacionInvoice':_0x231551[_0x1a7178(0x2f3)],'setTipoOperacion':_0x231551[_0x1a7178(0x310)],'setSerie':_0x231551[_0x1a7178(0x2bb)],'setCorrelativo':_0x231551['setCorrelativo'],'setMoneda':_0x231551[_0x1a7178(0x210)],'setClienteTipoDoc':_0x231551[_0x1a7178(0x2d9)],'setClienteNumDoc':_0x231551[_0x1a7178(0x262)],'setClienteDenominacion':_0x231551[_0x1a7178(0x2e4)],'setClienteDireccion':_0x231551[_0x1a7178(0x230)],'setCustomerPhone':_0x231551['setCustomerPhone'],'setCustomerEmail':_0x231551[_0x1a7178(0x268)],'setFechaHora':_0x231551[_0x1a7178(0x239)],'setSellerId':_0x231551[_0x1a7178(0x39c)],'setSellerName':_0x231551[_0x1a7178(0x353)],'setDespacho':_0x231551[_0x1a7178(0x2f7)],'setObservacion':_0x231551['setObservacion'],'setDescuentoGlobal_Monto':_0x231551[_0x1a7178(0x388)],'setAttachEdit':_0x231551['setAttachEdit']},console['log'](_0x1a7178(0x37e)+_0xe71cdc+':',_0x231551)),Promise[_0x1a7178(0x1e2)](updateTab(_0xe71cdc))['then'](_0x2d8315)['catch'](_0x214b51=>{const _0x2dbb00=_0x1a7178;console[_0x2dbb00(0x25d)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x214b51),_0x6a1f1f(_0x214b51);});},_0x4f3948[_0x2b062e(0x2db)]=function(_0x3281d4){const _0x57e988=_0x2b062e;console[_0x57e988(0x25d)](_0x57e988(0x328)+_0xe71cdc+'.',_0x3281d4['target'][_0x57e988(0x25d)]),_0x6a1f1f(_0x3281d4[_0x57e988(0x1fc)][_0x57e988(0x25d)]);};});_0x18e1ea['push'](_0x4daec8);}}const _0x462451=Array['from'](_0x3394b5[_0x170d84(0x2f5)])['filter'](_0x139716=>_0x139716[_0x170d84(0x270)](_0x170d84(0x2c3)))[_0x170d84(0x29e)]((_0x20bae8,_0x2ad0db)=>{const _0x5854c4=_0x170d84,_0x47a6e5=parseInt(_0x20bae8[_0x5854c4(0x397)]('_')[_0x5854c4(0x23e)](),0xa),_0x3b2797=parseInt(_0x2ad0db[_0x5854c4(0x397)]('_')[_0x5854c4(0x23e)](),0xa);return _0x47a6e5-_0x3b2797;});for(const _0x261b3c of _0x462451){const _0x23afff=_0x261b3c['split']('_')[0x1];!carts[_0x23afff]&&(carts[_0x23afff]=[]);const _0x4f2960=new Promise((_0x18214a,_0x1524f5)=>{const _0x130b54=_0x170d84,_0x2ed0ed=_0x3394b5[_0x130b54(0x242)]([_0x261b3c],'readonly'),_0x3fcebc=_0x2ed0ed['objectStore'](_0x261b3c),_0xcc74cb=_0x3fcebc[_0x130b54(0x25f)]();_0xcc74cb[_0x130b54(0x21b)]=async function(_0x23b70d){const _0x1ec320=_0x130b54,_0x5e8450=_0x23b70d[_0x1ec320(0x1fc)][_0x1ec320(0x2b0)];carts[_0x23afff][_0x1ec320(0x277)]=0x0,_0x5e8450[_0x1ec320(0x35e)](_0x1d9b28=>carts[_0x23afff]['push'](_0x1d9b28));const _0x1a3ca3=myCompany['setWindows'][_0x1ec320(0x34d)](_0x9711be=>_0x9711be[_0x1ec320(0x285)]==_0x23afff),_0x2b0de9=Array[_0x1ec320(0x229)](_0x1a3ca3[_0x1ec320(0x2a8)])?[..._0x1a3ca3[_0x1ec320(0x2a8)]]:[];if(_0x2b0de9[_0x1ec320(0x277)]>0x0){carts[_0x23afff]=_0x2b0de9,_0x1a3ca3[_0x1ec320(0x244)]=_0x2b0de9,_0x1a3ca3['setCartTmpInitial']=[];try{const _0x7ea624=await createCartStore('');await saveCompanyToIndexedDB(company,_0x7ea624),await saveCart(_0x23afff),console[_0x1ec320(0x358)](_0x1ec320(0x220));}catch(_0x427269){console['error'](_0x1ec320(0x301),_0x427269);}}renderCart(_0x23afff),_0x18214a();},_0xcc74cb[_0x130b54(0x2db)]=function(_0x803fe5){const _0x5c29be=_0x130b54;console[_0x5c29be(0x25d)]('Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20'+_0x23afff+'.',_0x803fe5['target'][_0x5c29be(0x25d)]),_0x1524f5(_0x803fe5[_0x5c29be(0x1fc)][_0x5c29be(0x25d)]);};});_0x18e1ea['push'](_0x4f2960);}}if(_0x29a51e==0x2||_0x29a51e==0x3||_0x29a51e==0x4){const _0x440a8a=document['getElementById']('setPlanName'),_0x2afc4a=document[_0x170d84(0x349)]('setCashierName');_0x440a8a[_0x170d84(0x363)]='',_0x2afc4a[_0x170d84(0x363)]='',_0x6deb2c&&(_0x440a8a[_0x170d84(0x363)]='Plan\x20Impulsa',_0x2afc4a['innerHTML']=_0x6deb2c[_0x170d84(0x360)]);}if(_0x29a51e==0x1||_0x29a51e==0x4){const _0x56db30=myCompany[_0x170d84(0x233)],_0x199c6e=document['getElementById'](_0x170d84(0x233));_0x199c6e['innerHTML']='',_0x56db30['forEach'](_0x24499b=>{const _0x2c2087=_0x170d84,_0x2e4f08=document[_0x2c2087(0x2e9)]('option');_0x2e4f08[_0x2c2087(0x25a)]=_0x24499b[_0x2c2087(0x36b)],_0x2e4f08[_0x2c2087(0x27e)]=_0x24499b[_0x2c2087(0x31e)]??_0x24499b[_0x2c2087(0x293)],_0x199c6e[_0x2c2087(0x2a9)](_0x2e4f08);}),myCompany?.[_0x170d84(0x305)]&&(_0x199c6e['value']=myCompany[_0x170d84(0x305)]);}return await Promise[_0x170d84(0x33a)](_0x18e1ea),myCompany?.[_0x170d84(0x373)]&&(document['getElementById']('setBranchId')[_0x170d84(0x25a)]=company[0x0][_0x170d84(0x373)]),document[_0x170d84(0x349)](_0x170d84(0x36f))['dispatchEvent'](new Event(_0x170d84(0x1bd))),_0x29a51e==0x1&&(tabCount=getMaxWindowId(carts),console[_0x170d84(0x358)](_0x170d84(0x304)+tabCount)),_0x3394b5;}catch(_0x32216d){throw _0x32216d;}}function loadCartAndSetTabCount(_0x2a5286){const _0x18d11c=_0x24bb19;loadCart(_0x2a5286)[_0x18d11c(0x2f2)](async _0x5e3c64=>{const _0x5ad483=_0x18d11c;await initializeProducts(_0x5e3c64);if(_0x2a5286==0x1){if(isLoggedIn(company)){const _0x342d2f=document[_0x5ad483(0x349)](_0x5ad483(0x32c))['value'];parseFloat(_0x342d2f)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x5ad483(0x2ce)),document[_0x5ad483(0x30e)]('keydown',function(_0x1a5318){const _0x3aa49e=_0x5ad483,_0x356369=document['getElementById'](_0x3aa49e(0x32c))[_0x3aa49e(0x25a)],_0x363a0f=document['getElementById'](_0x3aa49e(0x20b)),_0x5781cd=document[_0x3aa49e(0x306)](_0x3aa49e(0x382)),_0x94d2cb=document[_0x3aa49e(0x349)](_0x3aa49e(0x267)+_0x356369),_0x469182=document['getElementById'](_0x3aa49e(0x32d)+_0x356369),_0x4e292b=document[_0x3aa49e(0x349)](_0x3aa49e(0x2f9));function _0x1dcc11(_0x4de148){const _0x3dce5f=_0x3aa49e;return _0x4de148&&(_0x4de148[_0x3dce5f(0x1d1)]>0x0||_0x4de148[_0x3dce5f(0x36d)]>0x0||_0x4de148['getClientRects']()[_0x3dce5f(0x277)]);}let _0x317775=[];if(_0x4e292b&&_0x4e292b['classList'][_0x3aa49e(0x379)](_0x3aa49e(0x35c))){const _0x578f62=_0x4e292b[_0x3aa49e(0x306)](_0x3aa49e(0x282));_0x578f62[_0x3aa49e(0x35e)](_0x45fe65=>{const _0x37400e=_0x3aa49e;_0x1dcc11(_0x45fe65)&&!_0x45fe65['classList'][_0x37400e(0x379)](_0x37400e(0x33f))&&_0x317775[_0x37400e(0x322)](_0x45fe65);});const _0x15c912=_0x4e292b['querySelector']('#container-section-pay-'+_0x356369);if(_0x15c912){const _0x2b3546=_0x15c912['querySelectorAll'](_0x3aa49e(0x21a));_0x2b3546[_0x3aa49e(0x35e)](_0x40af22=>{const _0x34c1c3=_0x3aa49e;_0x1dcc11(_0x40af22)&&!_0x40af22['classList'][_0x34c1c3(0x379)](_0x34c1c3(0x33f))&&_0x317775[_0x34c1c3(0x322)](_0x40af22);});}_0x469182&&_0x1dcc11(_0x469182)&&!_0x469182['classList'][_0x3aa49e(0x379)](_0x3aa49e(0x33f))&&(!_0x317775['includes'](_0x469182)&&_0x317775[_0x3aa49e(0x322)](_0x469182));}else{_0x317775=[_0x363a0f,..._0x5781cd];if(_0x94d2cb)_0x317775[_0x3aa49e(0x322)](_0x94d2cb);}const _0x544755=document[_0x3aa49e(0x2b8)],_0x5d7c1a=_0x544755&&(_0x544755['tagName']==_0x3aa49e(0x20c)||_0x544755['tagName']=='TEXTAREA');if(_0x4e292b&&_0x4e292b[_0x3aa49e(0x20f)][_0x3aa49e(0x379)](_0x3aa49e(0x35c))&&_0x1a5318[_0x3aa49e(0x32a)]==_0x3aa49e(0x2b2)){if(_0x544755&&_0x544755[_0x3aa49e(0x20f)][_0x3aa49e(0x379)](_0x3aa49e(0x33b))){_0x1a5318['preventDefault'](),_0x544755[_0x3aa49e(0x29c)]();return;}}if(_0x4e292b&&_0x4e292b[_0x3aa49e(0x20f)][_0x3aa49e(0x379)](_0x3aa49e(0x35c))&&_0x1a5318['key']==_0x3aa49e(0x1d8)&&!_0x4e292b['contains'](_0x544755)){_0x1a5318[_0x3aa49e(0x352)]();_0x317775[_0x3aa49e(0x277)]>0x0&&_0x317775[0x0]['focus']();return;}if(_0x1a5318[_0x3aa49e(0x32a)]==_0x3aa49e(0x1d8)){_0x1a5318[_0x3aa49e(0x352)]();if(_0x317775[_0x3aa49e(0x277)]==0x0)return;let _0x156ee5=_0x317775['indexOf'](_0x544755);if(_0x156ee5==-0x1)_0x156ee5=-0x1;let _0x351f34;_0x1a5318[_0x3aa49e(0x1f9)]?_0x351f34=_0x156ee5<=0x0?_0x317775[_0x3aa49e(0x277)]-0x1:_0x156ee5-0x1:_0x351f34=_0x156ee5==_0x317775[_0x3aa49e(0x277)]-0x1?0x0:_0x156ee5+0x1;_0x317775[_0x351f34][_0x3aa49e(0x344)]();return;}(!_0x4e292b||!_0x4e292b[_0x3aa49e(0x20f)][_0x3aa49e(0x379)]('active'))&&!_0x5d7c1a&&(_0x1a5318[_0x3aa49e(0x32a)][_0x3aa49e(0x277)]==0x1||_0x1a5318[_0x3aa49e(0x32a)]==_0x3aa49e(0x34a)||_0x1a5318['key']=='Delete')&&(_0x1a5318[_0x3aa49e(0x352)](),_0x363a0f[_0x3aa49e(0x344)](),_0x1a5318['key']==_0x3aa49e(0x34a)||_0x1a5318['key']==_0x3aa49e(0x1c8)?_0x363a0f[_0x3aa49e(0x25a)]=_0x363a0f[_0x3aa49e(0x25a)][_0x3aa49e(0x1e1)](0x0,-0x1):!_0x363a0f['value']?_0x363a0f[_0x3aa49e(0x25a)]=_0x1a5318['key']:_0x363a0f['value']+=_0x1a5318[_0x3aa49e(0x32a)]);}),loadTaxData(),resetNewItemForm();}_0x2a5286==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x2a5286==0x3){const _0xadc1a5=document[_0x5ad483(0x349)](_0x5ad483(0x36f))['value'];fil_BranchesId['push'](_0xadc1a5),updateDateRange(_0x5ad483(0x1e0));}_0x2a5286==0x4&&init();})['catch'](_0x2f52a7=>{console['error'](_0x2f52a7);})['finally'](()=>{const _0xef49b9=_0x18d11c;_0x2a5286==0x1&&updateInternetIcon();let _0x3503c8;(_0x2a5286==0x1||_0x2a5286==0x2||_0x2a5286==0x3||_0x2a5286==0x4)&&(_0x3503c8=_0xef49b9(0x1c9)),registerServiceWorker(_0x3503c8,_0x2a5286);});}