/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.7
*/

const _0x12593a=_0x4b85;(function(_0x3b28a7,_0x1c7f6d){const _0x2229a1=_0x4b85,_0x378f9b=_0x3b28a7();while(!![]){try{const _0x13bce8=parseInt(_0x2229a1(0x169))/0x1+parseInt(_0x2229a1(0x2e3))/0x2*(parseInt(_0x2229a1(0x225))/0x3)+parseInt(_0x2229a1(0x240))/0x4*(-parseInt(_0x2229a1(0x2f4))/0x5)+parseInt(_0x2229a1(0x2eb))/0x6+-parseInt(_0x2229a1(0x11d))/0x7*(parseInt(_0x2229a1(0x20f))/0x8)+-parseInt(_0x2229a1(0x180))/0x9*(parseInt(_0x2229a1(0x2e5))/0xa)+-parseInt(_0x2229a1(0x2df))/0xb*(-parseInt(_0x2229a1(0x1e2))/0xc);if(_0x13bce8===_0x1c7f6d)break;else _0x378f9b['push'](_0x378f9b['shift']());}catch(_0x3bcfdd){_0x378f9b['push'](_0x378f9b['shift']());}}}(_0x9c4a,0xa1e1a));const _0xb0e907=(function(){let _0x5c1809=!![];return function(_0xeaa378,_0x5b8359){const _0x12de8d=_0x5c1809?function(){const _0x10fddc=_0x4b85;if(_0x5b8359){const _0x10ee8d=_0x5b8359[_0x10fddc(0x19f)](_0xeaa378,arguments);return _0x5b8359=null,_0x10ee8d;}}:function(){};return _0x5c1809=![],_0x12de8d;};}()),_0xea6258=_0xb0e907(this,function(){const _0x301274=_0x4b85;return _0xea6258[_0x301274(0x269)]()[_0x301274(0x2a9)](_0x301274(0x18b))[_0x301274(0x269)]()[_0x301274(0x2f8)](_0xea6258)['search'](_0x301274(0x18b));});_0xea6258();const _0x4bc7be=(function(){let _0x143618=!![];return function(_0x34f815,_0x63bc89){const _0x44c6cb=_0x143618?function(){if(_0x63bc89){const _0x51f7fd=_0x63bc89['apply'](_0x34f815,arguments);return _0x63bc89=null,_0x51f7fd;}}:function(){};return _0x143618=![],_0x44c6cb;};}()),_0x4cc213=_0x4bc7be(this,function(){const _0x367c97=_0x4b85,_0x567809=function(){const _0x2acabd=_0x4b85;let _0x57ecff;try{_0x57ecff=Function(_0x2acabd(0x24b)+_0x2acabd(0x127)+');')();}catch(_0x118b2f){_0x57ecff=window;}return _0x57ecff;},_0x21af2c=_0x567809(),_0x39c2bd=_0x21af2c[_0x367c97(0x114)]=_0x21af2c['console']||{},_0x3b2dfd=[_0x367c97(0x1d4),_0x367c97(0x163),_0x367c97(0x2a8),_0x367c97(0x1e9),'exception','table',_0x367c97(0x27c)];for(let _0x202072=0x0;_0x202072<_0x3b2dfd[_0x367c97(0x139)];_0x202072++){const _0xa6e69a=_0x4bc7be[_0x367c97(0x2f8)][_0x367c97(0x171)][_0x367c97(0x242)](_0x4bc7be),_0x43a5a9=_0x3b2dfd[_0x202072],_0x37b891=_0x39c2bd[_0x43a5a9]||_0xa6e69a;_0xa6e69a[_0x367c97(0x2b1)]=_0x4bc7be['bind'](_0x4bc7be),_0xa6e69a['toString']=_0x37b891[_0x367c97(0x269)][_0x367c97(0x242)](_0x37b891),_0x39c2bd[_0x43a5a9]=_0xa6e69a;}});_0x4cc213();let myCompany,db=null,dbPromise=null,db_name=_0x12593a(0x30b),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero','febrero','marzo',_0x12593a(0x183),'mayo',_0x12593a(0x22e),_0x12593a(0x215),_0x12593a(0x164),_0x12593a(0x21c),'octubre',_0x12593a(0x1af),_0x12593a(0x1bb)],gdfg5g=_0x12593a(0x2ad),x45fgd='x3',xjehd78=_0x12593a(0x12f),cxkdj4=_0x12593a(0x1cd),x87s8d='x32',mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x12593a(0x205),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x12593a(0x1d1),xg123f=_0x12593a(0x22d),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x12593a(0x209),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x12593a(0x1cf),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x12593a(0x161),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x12593a(0x239),x78xh='r',px32b='o',x64x44x54=_0x12593a(0x16f),x64x32x33=_0x12593a(0x21d),kkx12='s',ak47r=_0x12593a(0x190),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x12593a(0x243),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x12593a(0x1b7),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x12593a(0x231),_0x12593a(0x2cf),_0x12593a(0x29d),_0x12593a(0x1b5),_0x12593a(0x191),_0x12593a(0x282),_0x12593a(0x221),_0x12593a(0x2b6),_0x12593a(0x2bd),_0x12593a(0x208),_0x12593a(0x151)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x12593a(0x295)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x12593a(0x1b9),_0x12593a(0x2ba),'AR0','CL0',_0x12593a(0x130),_0x12593a(0x22a)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x12593a(0x295)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x12593a(0x295)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x12593a(0x295)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];let socket;function conectarWebSocket(){const _0x3413fb=_0x12593a;if(socket&&socket[_0x3413fb(0x1b2)]!==WebSocket[_0x3413fb(0x15e)]){console[_0x3413fb(0x1d4)]('WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro');return;}const _0x53875a=myCompany[_0x3413fb(0x311)];if(!_0x53875a){console[_0x3413fb(0x1e9)](_0x3413fb(0x292));return;}const _0x5dbd61=location['protocol']===_0x3413fb(0x2fd)?_0x3413fb(0x23e):'ws',_0x214200=_0x5dbd61+_0x3413fb(0x18f)+encodeURIComponent(_0x53875a);socket=new WebSocket(_0x214200),socket[_0x3413fb(0x13e)](_0x3413fb(0x2d6),()=>{const _0x31d2b1=_0x3413fb;console[_0x31d2b1(0x1d4)](_0x31d2b1(0x261));}),socket[_0x3413fb(0x13e)](_0x3413fb(0x302),async _0xbf734e=>{const _0x293258=_0x3413fb;try{const _0x4dd76a=JSON['parse'](_0xbf734e[_0x293258(0x12e)]);if(_0x4dd76a[_0x293258(0x287)]===_0x293258(0x27e)){console[_0x293258(0x1d4)](_0x293258(0x2dc)),await apiERPgetWindows();const _0x5ef820=document[_0x293258(0x147)](_0x293258(0x12b));if(_0x5ef820['classList'][_0x293258(0x232)](_0x293258(0x26b))){const _0x8950a5=document['getElementById'](_0x293258(0x2c2))[_0x293258(0x13a)],_0x2dcc77=document[_0x293258(0x147)]('setBranchId')[_0x293258(0x13a)];cargarVentanas(_0x2dcc77,_0x8950a5),createTabsEnvironments();}if(Array[_0x293258(0x1ff)](_0x4dd76a[_0x293258(0x12e)]))for(const _0xd7112f of _0x4dd76a[_0x293258(0x12e)]){try{await setOrders(_0xd7112f);}catch(_0x540793){console[_0x293258(0x1e9)]('Error\x20en\x20setOrders\x20para\x20windowId='+_0xd7112f+':',_0x540793);}}else console[_0x293258(0x163)](_0x293258(0x2bf),_0x4dd76a['data']);}else console[_0x293258(0x1d4)](_0x293258(0x1b0),_0x4dd76a);}catch(_0x50ca4d){console[_0x293258(0x1e9)](_0x293258(0x1c7),_0x50ca4d);}}),socket[_0x3413fb(0x13e)](_0x3413fb(0x2fb),_0xe96825=>{const _0x8b55d0=_0x3413fb;console[_0x8b55d0(0x163)](_0x8b55d0(0x192),_0xe96825[_0x8b55d0(0x146)]),setTimeout(conectarWebSocket,0x3a98);}),socket[_0x3413fb(0x13e)](_0x3413fb(0x1e9),_0x14af6c=>{const _0x5c3cd3=_0x3413fb;console['error'](_0x5c3cd3(0x2a5),_0x14af6c);});}function isWebSocketActive(){const _0x43f8d0=_0x12593a;return socket&&socket[_0x43f8d0(0x1b2)]===WebSocket[_0x43f8d0(0x11f)];}function getQueryParam(_0x3bfb81){const _0x1bff14=_0x12593a,_0x543448=new URLSearchParams(window[_0x1bff14(0x1bf)][_0x1bff14(0x2a9)]);return _0x543448[_0x1bff14(0x159)](_0x3bfb81);}function setUserNameGet(){const _0x23ab82=_0x12593a,_0x184d76=getQueryParam(_0x23ab82(0x2a7)),_0x4d60eb=document[_0x23ab82(0x147)](_0x23ab82(0x29a));_0x184d76&&_0x4d60eb&&(_0x4d60eb['value']=_0x184d76);}function generateUniqId(){const _0x2dd222=_0x12593a;return Date[_0x2dd222(0x229)]()+'_'+Math[_0x2dd222(0x2da)]()['toString'](0x24)[_0x2dd222(0x11e)](0x2,0x9);}function generateNumericUniqId(){const _0x364822=_0x12593a,_0x4f536d=Date[_0x364822(0x229)]()*0x3e8,_0x48767b=Math[_0x364822(0x278)](Math[_0x364822(0x2da)]()*0x3e8);return _0x4f536d+_0x48767b;}function blobAStringBase64(_0x4d430f){return new Promise((_0x1e597e,_0x2ac403)=>{const _0xacc843=_0x4b85,_0x19418f=new FileReader();_0x19418f[_0xacc843(0x1b4)]=()=>{const _0x9d9ee0=_0xacc843,_0x1c985e=_0x19418f[_0x9d9ee0(0x2a3)],_0x1c2ea3=_0x1c985e['split'](',');if(_0x1c2ea3[_0x9d9ee0(0x139)]!==0x2)return _0x2ac403(new Error(_0x9d9ee0(0x216)));_0x1e597e(_0x1c2ea3[0x1]);},_0x19418f['onerror']=_0x5b94a0=>_0x2ac403(_0x5b94a0),_0x19418f[_0xacc843(0x236)](_0x4d430f);});}async function generarBarcodeDataURL(_0x51a880,_0xacae59){return new Promise((_0x3d4209,_0x498b89)=>{const _0x314ba=_0x4b85,_0x14bfa7=myCompany[_0x314ba(0x181)]['find'](_0x873191=>_0x873191['setCodeBarTypeId']==_0x51a880),_0x5d227e=_0x14bfa7?_0x14bfa7['setCodeBarTypeName']:'CODE128',_0xe8e941=document['createElementNS']('http://www.w3.org/2000/svg',_0x314ba(0x228));JsBarcode(_0xe8e941,_0xacae59,{'format':_0x5d227e,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x54119c=new XMLSerializer()[_0x314ba(0x23c)](_0xe8e941),_0x31d752=btoa(_0x54119c),_0x665b9a=_0x314ba(0x2ef)+_0x31d752,_0x59113b=new Image();_0x59113b[_0x314ba(0x16d)]=()=>{const _0x2e79b2=_0x314ba,_0x14759e=document[_0x2e79b2(0x1c3)](_0x2e79b2(0x12c));_0x14759e[_0x2e79b2(0x194)]=_0x59113b['width'],_0x14759e[_0x2e79b2(0x247)]=_0x59113b[_0x2e79b2(0x247)];const _0x50ac2f=_0x14759e[_0x2e79b2(0x28e)]('2d');_0x50ac2f[_0x2e79b2(0x18c)](_0x59113b,0x0,0x0);const _0x4029a5=_0x14759e['toDataURL']('image/png');_0x3d4209(_0x4029a5);},_0x59113b[_0x314ba(0x116)]=_0x2e21c8=>_0x498b89(_0x2e21c8),_0x59113b[_0x314ba(0x1fb)]=_0x665b9a;});}async function generarStickersPDF(_0x31d655,_0x446c2,_0x2a791e){const _0x293ab4=_0x12593a,{PDFDocument:_0x39bcad,StandardFonts:_0x26b212,rgb:_0x50a429}=PDFLib,_0x2eb0d8=products[_0x293ab4(0x167)](_0xadda67=>_0xadda67['id']==_0x2a791e);if(!_0x2eb0d8){console[_0x293ab4(0x1e9)](_0x293ab4(0x15b)+_0x2a791e+'\x20no\x20encontrado\x20en\x20products.');return;}const _0x4c1c88=_0x2eb0d8[_0x293ab4(0x2c6)]['trim'](),_0x48d77f=document['getElementById'](_0x293ab4(0x2bc))['value'],_0x240ce5=document[_0x293ab4(0x147)](_0x293ab4(0x203)+_0x48d77f)['value'],_0x1ea0cf=(_0x2eb0d8[_0x293ab4(0x15c)]||[])[_0x293ab4(0x167)](_0x3bc28a=>_0x3bc28a[_0x293ab4(0x1d7)]==_0x240ce5)||{},_0x3da8ec=_0x1ea0cf[_0x293ab4(0x276)]||0x0,_0xdc833=getCurrencySymbol(_0x48d77f),_0x1574ec=Number(_0x3da8ec)||0x0,_0x440bfa=_0xdc833+'\x20'+_0x1574ec[_0x293ab4(0x2fa)](0x2),_0x34e51e=await _0x39bcad[_0x293ab4(0x2aa)](),_0xf47e06=_0x1ec801=>_0x1ec801*2.83465,_0x4ff171=_0xf47e06(0x70*0x2),_0x180adc=_0xf47e06(40.8),_0x55c617=_0x34e51e[_0x293ab4(0x264)]([_0x4ff171,_0x180adc]),_0x3056f9=await _0x34e51e[_0x293ab4(0x29e)](_0x26b212[_0x293ab4(0x223)]),_0x4846e9=Array(0x2)[_0x293ab4(0x1e0)](_0x446c2),_0xc51894=0x2,_0x1b4661=0x1,_0x313a96=0xc,_0x25b638=_0x4ff171/_0xc51894,_0x47c36b=_0x180adc/_0x1b4661;for(let _0x24af55=0x0;_0x24af55<0x2;_0x24af55++){const _0x1e1aa8=_0x4846e9[_0x24af55],_0x36c6ca=await generarBarcodeDataURL(_0x31d655,_0x1e1aa8),_0x4634cf=_0x36c6ca[_0x293ab4(0x1e8)](',')[0x1],_0x393c89=Uint8Array[_0x293ab4(0x253)](atob(_0x4634cf),_0x2967c8=>_0x2967c8['charCodeAt'](0x0));let _0xf930d9;try{_0xf930d9=await _0x34e51e[_0x293ab4(0x207)](_0x393c89);}catch{_0xf930d9=await _0x34e51e[_0x293ab4(0x1a4)](_0x393c89);}const _0x3c3c3f=0x5,_0x317279=_0x313a96+0x4,_0x22e98b=_0x313a96*0x2+0x4,_0x10a688=_0x4c1c88,_0xa0154a=_0x440bfa,_0x4f56a6=_0x24af55%_0xc51894,_0x354f8c=_0x3056f9['widthOfTextAtSize'](_0x10a688,_0x313a96),_0x2d936b=_0x3056f9['widthOfTextAtSize'](_0xa0154a,_0x313a96),_0x2972d8=_0x4f56a6*_0x25b638+(_0x25b638-_0x354f8c)/0x2,_0x204b7b=_0x4f56a6*_0x25b638+(_0x25b638-_0x2d936b)/0x2,_0x550d54=_0x47c36b-_0x3c3c3f-_0x313a96,_0xbc5268=_0x550d54-_0x313a96-0x2;_0x55c617['drawText'](_0x10a688,{'x':_0x2972d8,'y':_0x550d54,'size':_0x313a96,'font':_0x3056f9,'color':_0x50a429(0x0,0x0,0x0)}),_0x55c617['drawText'](_0xa0154a,{'x':_0x204b7b,'y':_0xbc5268,'size':_0x313a96,'font':_0x3056f9,'color':_0x50a429(0x0,0x0,0x0)});const _0xd00cca=_0x25b638-_0x3c3c3f*0x2,_0x241297=_0x47c36b-_0x3c3c3f*0x2-_0x22e98b-_0x317279,_0x6bc23d=_0xf930d9[_0x293ab4(0x194)],_0x3fd90b=_0xf930d9[_0x293ab4(0x247)],_0x3b0db5=Math[_0x293ab4(0x30f)](_0xd00cca/_0x6bc23d,_0x241297/_0x3fd90b,0x1),_0x257800=_0xf930d9[_0x293ab4(0x233)](_0x3b0db5),_0x23ffa6=_0x4f56a6*_0x25b638+(_0x25b638-_0x257800['width'])/0x2,_0x471000=_0xbc5268-_0x257800[_0x293ab4(0x247)]-0x4;_0x55c617[_0x293ab4(0x18c)](_0xf930d9,{'x':_0x23ffa6,'y':_0x471000,'width':_0x257800[_0x293ab4(0x194)],'height':_0x257800[_0x293ab4(0x247)]});const _0x448977=_0x3056f9[_0x293ab4(0x30e)](_0x1e1aa8,_0x313a96),_0x3eda63=_0x4f56a6*_0x25b638+(_0x25b638-_0x448977)/0x2,_0x40a161=_0x471000-_0x313a96-0x2;_0x55c617[_0x293ab4(0x244)](_0x1e1aa8,{'x':_0x3eda63,'y':_0x40a161,'size':_0x313a96,'font':_0x3056f9,'color':_0x50a429(0x0,0x0,0x0)});}const _0x3efb9c=await _0x34e51e[_0x293ab4(0x1e5)](),_0x47df31=new Blob([_0x3efb9c],{'type':_0x293ab4(0x177)}),_0x5456b4=URL[_0x293ab4(0x2fe)](_0x47df31);window[_0x293ab4(0x2d6)](_0x5456b4);}async function sendEmail(_0x2b7108,_0x21b24a,_0x4f39a9,_0x59f247,_0x2b9bbb,_0x5b30e3,_0x163dfc,_0x2028c3,_0x519eff,_0x5df302){const _0x39d221=_0x12593a;if(isOnline()){const _0x5857f1={'setAuthToken':_0x2b7108,'senderName':_0x21b24a,'senderEmail':_0x4f39a9,'senderPassword':_0x59f247,'smtpHost':_0x2b9bbb,'smtpPort':_0x5b30e3,'emailsDestination':_0x163dfc,'subject':_0x2028c3,'message':_0x519eff,'attachFiles':_0x5df302};try{const _0xd39d90=await fetch('https://apierp.dev/api/email/send/',{'method':_0x39d221(0x16b),'headers':{'Content-Type':_0x39d221(0x2af)},'body':JSON[_0x39d221(0x2c3)](_0x5857f1)}),_0x4844c0=await _0xd39d90[_0x39d221(0x2c0)]();if(!_0xd39d90['ok']||!_0x4844c0[_0x39d221(0x25b)]){console[_0x39d221(0x1e9)](_0x39d221(0x23b),_0x4844c0),ntfShow('Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}}catch(_0x16c2d3){console[_0x39d221(0x1e9)](_0x39d221(0x299),_0x16c2d3);}}}function loadLoginContent(_0x3ad5d8){const _0x143894=_0x12593a,_0x2bac86=document['getElementById'](_0x143894(0x2d0));_0x2bac86[_0x143894(0x2d1)]='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x3ad5d8+_0x143894(0x1c9);}function addNumber(_0xf015ba){const _0x25d8e9=_0x12593a;document[_0x25d8e9(0x147)](_0x25d8e9(0x1fa))[_0x25d8e9(0x13a)]+=_0xf015ba;}function deleteNumber(){const _0x23b62b=_0x12593a;let _0x24283f=document['getElementById'](_0x23b62b(0x1fa));_0x24283f['value']=_0x24283f[_0x23b62b(0x13a)]['slice'](0x0,-0x1);}function togglePassword(){const _0x1225b3=_0x12593a;let _0x122c8e=document[_0x1225b3(0x147)](_0x1225b3(0x1fa));_0x122c8e[_0x1225b3(0x287)]=_0x122c8e[_0x1225b3(0x287)]==_0x1225b3(0x1fa)?_0x1225b3(0x275):_0x1225b3(0x1fa);}function setEventBtnAccess(){const _0x179fd8=_0x12593a,_0x3ca5cd=document[_0x179fd8(0x147)](_0x179fd8(0x246));_0x3ca5cd[_0x179fd8(0x2a0)]=function(){acceder();};}function isOnline(){const _0x2d7b33=_0x12593a;return window['navigator'][_0x2d7b33(0x21b)];}function showLoadingModal(){const _0x329898=_0x12593a,_0x40507f=document[_0x329898(0x1c3)]('div');_0x40507f['id']=_0x329898(0x2b5),_0x40507f[_0x329898(0x28b)][_0x329898(0x154)]=_0x329898(0x256),_0x40507f[_0x329898(0x28b)][_0x329898(0x186)]='0',_0x40507f[_0x329898(0x28b)][_0x329898(0x1a8)]='0',_0x40507f['style'][_0x329898(0x194)]='100%',_0x40507f[_0x329898(0x28b)]['height']=_0x329898(0x17a),_0x40507f['style'][_0x329898(0x200)]='rgba(0,\x200,\x200,\x200.5)',_0x40507f[_0x329898(0x28b)][_0x329898(0x12d)]='flex',_0x40507f[_0x329898(0x28b)][_0x329898(0x291)]=_0x329898(0x2d5),_0x40507f[_0x329898(0x28b)]['alignItems']=_0x329898(0x2d5),_0x40507f[_0x329898(0x28b)][_0x329898(0x26e)]=_0x329898(0x1f7),_0x40507f['style'][_0x329898(0x1be)]='1',_0x40507f[_0x329898(0x28b)][_0x329898(0x259)]=_0x329898(0x273),_0x40507f[_0x329898(0x2d1)]=_0x329898(0x11c),document[_0x329898(0x288)]['appendChild'](_0x40507f);}function hideLoadingModal(){const _0x23465d=_0x12593a,_0x47a7f0=document[_0x23465d(0x147)](_0x23465d(0x2b5));_0x47a7f0&&(_0x47a7f0[_0x23465d(0x28b)]['opacity']='0',_0x47a7f0['remove']());}function cargarAlmacenes(_0x22e33d){const _0x53c18e=_0x12593a,_0x57b0d1=document[_0x53c18e(0x147)](_0x53c18e(0x199));_0x57b0d1[_0x53c18e(0x2d1)]='';const _0x18cd25=company[0x0][_0x53c18e(0x157)]['find'](_0x5e3d72=>_0x5e3d72[_0x53c18e(0x2e0)]==_0x22e33d);_0x18cd25&&_0x18cd25[_0x53c18e(0x152)]['length']>0x0&&_0x18cd25[_0x53c18e(0x152)][_0x53c18e(0x2d7)](_0x46962f=>{const _0x50b33e=_0x53c18e;let _0x15271f=document[_0x50b33e(0x1c3)](_0x50b33e(0x219));_0x15271f[_0x50b33e(0x13a)]=_0x46962f[_0x50b33e(0x199)],_0x15271f['textContent']=_0x46962f[_0x50b33e(0x283)],_0x57b0d1[_0x50b33e(0x201)](_0x15271f);});}function getAllWarehouses(){const _0x1f2807=_0x12593a,_0x11bc1a=company[0x0][_0x1f2807(0x157)]||[],_0x118418=new Map();return _0x11bc1a['forEach'](_0x25e013=>{const _0x26794d=_0x1f2807;(_0x25e013[_0x26794d(0x152)]||[])[_0x26794d(0x2d7)](_0x13a08c=>{const _0x58817a=_0x26794d;!_0x118418[_0x58817a(0x19a)](_0x13a08c['setWarehouseId'])&&_0x118418[_0x58817a(0x1ea)](_0x13a08c[_0x58817a(0x199)],{'setWarehouseId':_0x13a08c[_0x58817a(0x199)],'setWarehouseName':_0x13a08c[_0x58817a(0x283)]+'\x20('+_0x25e013['setBranchName']+')'});});}),Array[_0x1f2807(0x253)](_0x118418[_0x1f2807(0x1ba)]());}function cargarPisos(_0xf9c229){const _0x1cc942=_0x12593a,_0x193ad2=company[0x0]['setWindows'][_0x1cc942(0x1cb)](_0x583890=>_0x583890[_0x1cc942(0x2e0)]==_0xf9c229),_0x712641={};_0x193ad2['forEach'](_0x3b9d7e=>{const _0x1632ba=_0x1cc942;_0x712641[_0x3b9d7e[_0x1632ba(0x2c2)]]=_0x3b9d7e['setFloorName'];});const _0x16ff38=document[_0x1cc942(0x147)](_0x1cc942(0x2c2));_0x16ff38['innerHTML']='';for(const _0x2a1e89 in _0x712641){const _0x2c9030=document[_0x1cc942(0x1c3)]('option');_0x2c9030['value']=_0x2a1e89,_0x2c9030[_0x1cc942(0x1ce)]=_0x712641[_0x2a1e89],_0x16ff38['appendChild'](_0x2c9030);}}document[_0x12593a(0x147)](_0x12593a(0x2f9))[_0x12593a(0x13e)]('click',()=>{const _0x2ce96f=_0x12593a,_0x3bb4e7=document[_0x2ce96f(0x14c)],_0x4149dc=document[_0x2ce96f(0x265)]||document[_0x2ce96f(0x195)]||document[_0x2ce96f(0x198)]||document[_0x2ce96f(0x24e)];if(!_0x4149dc){if(_0x3bb4e7[_0x2ce96f(0x2c4)])_0x3bb4e7['requestFullscreen']();else{if(_0x3bb4e7['webkitRequestFullscreen'])_0x3bb4e7[_0x2ce96f(0x218)]();else{if(_0x3bb4e7[_0x2ce96f(0x1ac)])_0x3bb4e7[_0x2ce96f(0x1ac)]();else _0x3bb4e7[_0x2ce96f(0x1d6)]&&_0x3bb4e7[_0x2ce96f(0x1d6)]();}}}else{if(document['exitFullscreen'])document[_0x2ce96f(0x1ec)]();else{if(document[_0x2ce96f(0x249)])document[_0x2ce96f(0x249)]();else{if(document[_0x2ce96f(0x1a3)])document[_0x2ce96f(0x1a3)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}}});function openModalDetailsAndNtf(_0x5e95e6,_0x196739,_0x2cbd3a=null){const _0x199767=_0x12593a,_0x17de67=products['find'](_0x1d31a6=>_0x1d31a6['id']==_0x5e95e6),_0x2075fa=_0x17de67['setCodProducto'],_0x59c5e9=_0x17de67[_0x199767(0x2c6)],_0x3d58ea=_0x17de67[_0x199767(0x2f3)],_0x81d8c6=_0x17de67[_0x199767(0x2ee)]?.[_0x199767(0x150)]()||_0x199767(0x2c5),_0x2bb56a=Array[_0x199767(0x1ff)](_0x17de67[_0x199767(0x2e8)])&&_0x17de67[_0x199767(0x2e8)][_0x199767(0x139)]>0x0?_0x17de67[_0x199767(0x2e8)]:[{'setImageUrl':_0x81d8c6}],_0x45bcc0=_0x2bb56a[_0x199767(0x26d)](_0x4f1cb6=>_0x4f1cb6[_0x199767(0x1b1)]),_0x262bdc=document['getElementById']('itemModal'),_0x54f583=_0x262bdc['querySelector'](_0x199767(0x250)),_0x58c6f9=_0x262bdc[_0x199767(0x2f6)](_0x199767(0x2b8)),_0x512510=_0x262bdc[_0x199767(0x2f6)](_0x199767(0x29c)),_0x1f9f5b=document[_0x199767(0x147)]('sectionInfoItem'),_0x45a286=_0x262bdc['querySelector'](_0x199767(0x310)),_0x2606f9=_0x262bdc[_0x199767(0x2f6)](_0x199767(0x224));_0x54f583[_0x199767(0x2d1)]='',_0x45bcc0[_0x199767(0x2d7)](_0x15ffb4=>{const _0x100f86=_0x199767,_0x52f8d0=document[_0x100f86(0x1c3)](_0x100f86(0x1eb));_0x52f8d0[_0x100f86(0x1fb)]=_0x15ffb4,_0x52f8d0[_0x100f86(0x262)]='Item',_0x54f583[_0x100f86(0x201)](_0x52f8d0);});let _0x56f680=0x0;const _0x243ae0=_0x45bcc0['length'];function _0x1da8d7(){const _0x598c12=_0x199767;_0x54f583[_0x598c12(0x28b)][_0x598c12(0x14b)]=_0x598c12(0x1ae)+_0x56f680*0x64+'%)';}_0x45bcc0[_0x199767(0x2d7)](_0x238fe0=>{const _0x171cd1=_0x199767,_0xabc020=new Image();_0xabc020[_0x171cd1(0x1fb)]=_0x238fe0;});_0x243ae0<=0x1?(_0x45a286[_0x199767(0x28b)]['display']='none',_0x2606f9[_0x199767(0x28b)]['display']=_0x199767(0x273)):(_0x45a286['style'][_0x199767(0x12d)]='',_0x2606f9[_0x199767(0x28b)]['display']='');_0x56f680=0x0,_0x1da8d7();function _0x58c008(_0x2c4428){_0x2c4428['stopPropagation'](),_0x56f680=(_0x56f680-0x1+_0x243ae0)%_0x243ae0,_0x1da8d7();}function _0x4dccb5(_0x264ee9){const _0x16c1f9=_0x199767;_0x264ee9[_0x16c1f9(0x16a)](),_0x56f680=(_0x56f680+0x1)%_0x243ae0,_0x1da8d7();}_0x45a286['replaceWith'](_0x45a286['cloneNode'](!![])),_0x2606f9['replaceWith'](_0x2606f9[_0x199767(0x13b)](!![]));const _0x1741ae=_0x262bdc['querySelector'](_0x199767(0x310)),_0x5bcf84=_0x262bdc[_0x199767(0x2f6)](_0x199767(0x224));_0x1741ae['addEventListener'](_0x199767(0x304),_0x58c008),_0x5bcf84['addEventListener'](_0x199767(0x304),_0x4dccb5),_0x58c6f9['addEventListener'](_0x199767(0x304),_0x401d97=>{const _0x537f8e=_0x199767;_0x401d97[_0x537f8e(0x16a)](),_0x262bdc[_0x537f8e(0x28b)]['display']='none';}),_0x512510[_0x199767(0x13e)](_0x199767(0x304),()=>{const _0x5195b2=_0x199767;_0x262bdc[_0x5195b2(0x28b)][_0x5195b2(0x12d)]='none';}),_0x262bdc[_0x199767(0x28b)][_0x199767(0x12d)]=_0x199767(0x168),_0x1f9f5b['innerHTML']=_0x199767(0x230)+_0x2075fa+'\x20-\x20'+_0x59c5e9+_0x199767(0x133);const _0x17c6e4=document[_0x199767(0x1c3)](_0x199767(0x25c));_0x17c6e4['classList']['add'](_0x199767(0x2f7));const _0xbbe16e=document[_0x199767(0x1c3)](_0x199767(0x219));_0xbbe16e[_0x199767(0x13a)]='0',_0xbbe16e['textContent']=_0x199767(0x21e),_0x17c6e4[_0x199767(0x201)](_0xbbe16e),myCompany[_0x199767(0x181)][_0x199767(0x2d7)](_0x11f9a3=>{const _0x117438=_0x199767,_0x244bc2=document[_0x117438(0x1c3)]('option');_0x244bc2[_0x117438(0x13a)]=String(_0x11f9a3[_0x117438(0x120)]),_0x244bc2['textContent']=_0x11f9a3[_0x117438(0x1b6)],_0x17c6e4['appendChild'](_0x244bc2);}),_0x17c6e4[_0x199767(0x13e)](_0x199767(0x119),function(){const _0x12c39e=_0x199767,_0x28c575=parseInt(this[_0x12c39e(0x13a)],0xa);if(_0x28c575===0x0)return;typeof _0x3d58ea===_0x12c39e(0x160)&&_0x3d58ea[_0x12c39e(0x150)]()[_0x12c39e(0x139)]>=0x1?generarStickersPDF(_0x28c575,_0x3d58ea['trim'](),_0x5e95e6):(ntfShow(_0x12c39e(0x26c),0x2,0x2),this[_0x12c39e(0x13a)]='0');}),_0x1f9f5b[_0x199767(0x201)](_0x17c6e4);if(_0x2cbd3a!=null){_0x1f9f5b[_0x199767(0x260)]('beforeend',_0x199767(0x2ab)+_0x2cbd3a['title']+'</h3><p>'+_0x2cbd3a[_0x199767(0x302)]+_0x199767(0x2e7));var _0x3dc8c0=document[_0x199767(0x147)](_0x199767(0x2cd));_0x2cbd3a[_0x199767(0x287)]===0x1&&[_0x199767(0x214),_0x199767(0x176),_0x199767(0x2f2)][_0x199767(0x2d7)](function(_0x16d0a2){const _0x1b2886=_0x199767;var _0x9e643=document['createElement']('button');_0x9e643[_0x1b2886(0x1ce)]=_0x16d0a2,_0x9e643[_0x1b2886(0x13e)](_0x1b2886(0x304),function(){const _0x4d61ab=_0x1b2886;console[_0x4d61ab(0x1d4)]('Acción\x20\x22'+_0x16d0a2+_0x4d61ab(0x296)+_0x2cbd3a['id_registro']);}),_0x3dc8c0[_0x1b2886(0x201)](_0x9e643);}),_0x2cbd3a[_0x199767(0x287)]===0x2&&[_0x199767(0x1e1),_0x199767(0x148)]['forEach'](function(_0x51dfe0){const _0x43bad6=_0x199767;var _0x46e1fd=document[_0x43bad6(0x1c3)](_0x43bad6(0x294));_0x46e1fd['textContent']=_0x51dfe0,_0x46e1fd['addEventListener'](_0x43bad6(0x304),function(){const _0xe8c8a9=_0x43bad6;console[_0xe8c8a9(0x1d4)]('Acción\x20\x22'+_0x51dfe0+_0xe8c8a9(0x296)+_0x2cbd3a[_0xe8c8a9(0x26f)]);}),_0x3dc8c0[_0x43bad6(0x201)](_0x46e1fd);});}}function ntf_formatDateDMY(_0x50220b){const _0x449c97=_0x12593a;var _0x44b798=new Date(_0x50220b),_0x62f06f=_0x44b798[_0x449c97(0x1d0)](),_0x54f8ba=_0x44b798['getFullYear'](),_0x5ab23a=monthsEspanish[_0x44b798[_0x449c97(0x1a6)]()];return _0x62f06f+'\x20de\x20'+_0x5ab23a+'\x20del\x20'+_0x54f8ba;}function ntf_groupBy(_0x5ed11f,_0x26daff){return _0x5ed11f['reduce'](function(_0x1881bf,_0x367b6c){const _0x5caa36=_0x4b85;var _0x577eae=_0x367b6c[_0x26daff];return _0x1881bf[_0x577eae]=_0x1881bf[_0x577eae]||[],_0x1881bf[_0x577eae][_0x5caa36(0x14d)](_0x367b6c),_0x1881bf;},{});}function ntf_isExpired(_0x165cbf){const _0x2b1a6e=_0x12593a;if(!_0x165cbf)return![];var _0x140d2c=new Date();return _0x140d2c[_0x2b1a6e(0x20b)](0x0,0x0,0x0,0x0),new Date(_0x165cbf)<=_0x140d2c;}function ntf_getNotifications(){const _0x4edefe=_0x12593a;var _0x1e0df4=parseInt(document[_0x4edefe(0x147)](_0x4edefe(0x199))[_0x4edefe(0x13a)],0xa),_0x35c6cf=ntf_groupBy(products,_0x4edefe(0x20a)),_0x1587fa=[];return Object['keys'](_0x35c6cf)[_0x4edefe(0x2d7)](function(_0x4fcc64){const _0x4e2f5c=_0x4edefe;var _0x5c0c00=_0x35c6cf[_0x4fcc64],_0x4861df=_0x5c0c00[0x0],_0x4c4945=(_0x4861df['sucursales']||[])[_0x4e2f5c(0x167)](function(_0x3d3aeb){return _0x3d3aeb['setIdSucursal']==_0x1e0df4;});if(!_0x4c4945)return;var _0xfa7676=parseFloat(_0x4c4945[_0x4e2f5c(0x174)]),_0x3098d4=parseFloat(_0x4c4945[_0x4e2f5c(0x254)]);_0x4861df[_0x4e2f5c(0x1c8)]==0x1&&_0xfa7676<=_0x3098d4&&_0x1587fa[_0x4e2f5c(0x14d)]({'type':0x1,'id_registro':_0x4861df['id'],'title':_0x4e2f5c(0x13d)+_0x4861df['setDescripcion'],'message':_0x4e2f5c(0x144)+_0x4861df[_0x4e2f5c(0x2c6)]+_0x4e2f5c(0x298)+_0x3098d4['toFixed'](0x3)+_0x4e2f5c(0x285)+_0xfa7676[_0x4e2f5c(0x2fa)](0x3)+'\x0a','data':{'producto':_0x4861df,'stock':_0xfa7676,'minStock':_0x3098d4}}),_0x4861df[_0x4e2f5c(0x29b)]&&ntf_isExpired(_0x4861df['setBatchExpirationDate'])&&_0x1587fa[_0x4e2f5c(0x14d)]({'type':0x2,'id_registro':_0x4861df['id'],'title':'Producto\x20vencido:\x20'+_0x4861df[_0x4e2f5c(0x2c6)],'message':'El\x20producto\x20\x22'+_0x4861df['setDescripcion']+_0x4e2f5c(0x279)+ntf_formatDateDMY(_0x4861df[_0x4e2f5c(0x29b)])+_0x4e2f5c(0x270)+_0x4e2f5c(0x235)+_0xfa7676['toFixed'](0x3),'data':{'producto':_0x4861df,'expiration':_0x4861df[_0x4e2f5c(0x29b)]}});}),_0x1587fa;}function ntf_renderNotifications(){const _0x4abfc6=_0x12593a;var _0x393a8a=ntf_getNotifications(),_0x2a6dfd=document['getElementById']('ntf-notifications-list'),_0x3eb934=document[_0x4abfc6(0x147)]('ntf-notif-count');_0x2a6dfd['innerHTML']='',_0x3eb934[_0x4abfc6(0x1ce)]=_0x393a8a[_0x4abfc6(0x139)];if(_0x393a8a[_0x4abfc6(0x139)]===0x0){var _0x2d0a34=document[_0x4abfc6(0x1c3)]('li');_0x2d0a34[_0x4abfc6(0x1ce)]=_0x4abfc6(0x1ed),_0x2a6dfd[_0x4abfc6(0x201)](_0x2d0a34);return;}_0x393a8a[_0x4abfc6(0x2d7)](function(_0x10e385,_0xaf96e9){const _0x28b6c0=_0x4abfc6;var _0xac0824=document[_0x28b6c0(0x1c3)]('li');_0xac0824['textContent']=_0x10e385[_0x28b6c0(0x308)],_0xac0824[_0x28b6c0(0x1c5)](_0x28b6c0(0x1f4),_0xaf96e9),_0x2a6dfd['appendChild'](_0xac0824);});}document[_0x12593a(0x147)](_0x12593a(0x178))[_0x12593a(0x13e)](_0x12593a(0x304),function(){const _0x54082f=_0x12593a;document[_0x54082f(0x147)](_0x54082f(0x237))[_0x54082f(0x27f)][_0x54082f(0x289)](_0x54082f(0x300)),ntf_renderNotifications();}),document[_0x12593a(0x147)](_0x12593a(0x193))[_0x12593a(0x13e)](_0x12593a(0x304),function(_0x5a3209){const _0x20fb69=_0x12593a,_0x55f307=_0x5a3209[_0x20fb69(0x2c7)][_0x20fb69(0x2c9)]('li');if(!_0x55f307||!_0x55f307['dataset']['ntfIndex'])return;const _0x45948a=ntf_getNotifications()[_0x55f307['dataset'][_0x20fb69(0x170)]];document[_0x20fb69(0x147)]('tabs-notifications')[_0x20fb69(0x304)](),openModalDetailsAndNtf(_0x45948a['data'][_0x20fb69(0x1a1)]['id'],_0x45948a['type'],_0x45948a);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x28c2ea,_0x5a222f=0x3,_0x4e9cba=0x1){const _0x1b9158=_0x12593a,_0x334d09=document[_0x1b9158(0x147)]('ntf-flotante-container'),_0x516168=document[_0x1b9158(0x1c3)](_0x1b9158(0x1f5));let _0x54d380;if(_0x5a222f==0x1)_0x54d380=_0x1b9158(0x13c);else _0x5a222f==0x2?_0x54d380=_0x1b9158(0x2ca):_0x54d380='ntf-flotante-blue';let _0x16b870;_0x4e9cba==0x1?(_0x16b870=_0x1b9158(0x182),_0x334d09['classList'][_0x1b9158(0x1a5)](_0x1b9158(0x1f6)),_0x334d09[_0x1b9158(0x27f)]['remove'](_0x1b9158(0x197))):(_0x16b870=_0x1b9158(0x2b4),_0x334d09[_0x1b9158(0x27f)][_0x1b9158(0x1a5)]('ntf-flotante-container-bottom'),_0x334d09['classList']['remove'](_0x1b9158(0x1f6))),_0x516168['className']=_0x1b9158(0x15d)+_0x54d380+'\x20'+_0x16b870,_0x516168[_0x1b9158(0x1ce)]=_0x28c2ea,_0x334d09['appendChild'](_0x516168),_0x516168[_0x1b9158(0x13e)]('animationend',()=>{_0x516168['remove']();});}function _0x4b85(_0x1c7d71,_0xb0563d){const _0x146e6d=_0x9c4a();return _0x4b85=function(_0x4cc213,_0x4bc7be){_0x4cc213=_0x4cc213-0x113;let _0x378e2e=_0x146e6d[_0x4cc213];return _0x378e2e;},_0x4b85(_0x1c7d71,_0xb0563d);}function openDatabase(){const _0xf1a48f=_0x12593a;if(db)return Promise[_0xf1a48f(0x1cc)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x59988e,_0x8ca17c)=>{const _0x24066f=_0xf1a48f,_0x2eaf81=indexedDB[_0x24066f(0x2d6)](db_name);_0x2eaf81['onupgradeneeded']=function(_0x470ef2){const _0x2cf032=_0x24066f;db=_0x470ef2[_0x2cf032(0x2c7)][_0x2cf032(0x2a3)],console[_0x2cf032(0x1d4)]('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x2eaf81[_0x24066f(0x155)]=function(_0x43cf11){const _0x51b12a=_0x24066f;db=_0x43cf11[_0x51b12a(0x2c7)]['result'],console[_0x51b12a(0x1d4)](_0x51b12a(0x2ed)),_0x59988e(db),dbPromise=null;},_0x2eaf81[_0x24066f(0x116)]=function(_0x1e9d29){const _0x2434ac=_0x24066f;console[_0x2434ac(0x1e9)](_0x2434ac(0x2ec),_0x1e9d29[_0x2434ac(0x2c7)][_0x2434ac(0x1e9)]),_0x8ca17c(_0x1e9d29[_0x2434ac(0x2c7)][_0x2434ac(0x1e9)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x2e39b8,_0x2a2dd0=![]){const _0x538e77=_0x12593a;if(dbOperationInProgress)return Promise[_0x538e77(0x187)](_0x538e77(0x118));return dbOperationInProgress=!![],openDatabase()[_0x538e77(0x30d)](_0x1c7b11=>{const _0x304240=_0x538e77,_0x134343=_0x304240(0x1d8),_0x1a218e=_0x304240(0x211),_0x4ff71d=_0x304240(0x2d2),_0x4ce1ea=_0x304240(0x245),_0x536454=_0x2e39b8?_0x304240(0x134)+_0x2e39b8:null,_0x27f24c=_0x2e39b8?'window_options_'+_0x2e39b8:null,_0x580e89=_0x2a2dd0||!_0x1c7b11[_0x304240(0x138)][_0x304240(0x232)](_0x134343)||!_0x1c7b11[_0x304240(0x138)][_0x304240(0x232)](_0x1a218e)||!_0x1c7b11[_0x304240(0x138)][_0x304240(0x232)](_0x4ff71d)||!_0x1c7b11['objectStoreNames']['contains'](_0x4ce1ea)||_0x2e39b8&&(!_0x1c7b11['objectStoreNames']['contains'](_0x536454)||!_0x1c7b11[_0x304240(0x138)][_0x304240(0x232)](_0x27f24c));if(!_0x580e89)return dbOperationInProgress=![],Promise['resolve'](_0x1c7b11);const _0x152547=_0x1c7b11[_0x304240(0x18a)]+0x1;return _0x1c7b11['close'](),new Promise((_0x5d4e85,_0x45b095)=>{const _0x1dd6a8=_0x304240,_0x2ac8e6=indexedDB['open'](db_name,_0x152547);_0x2ac8e6['onupgradeneeded']=function(_0x36d039){const _0x120d58=_0x4b85;db=_0x36d039[_0x120d58(0x2c7)][_0x120d58(0x2a3)];if(_0x2a2dd0)Array[_0x120d58(0x253)](db['objectStoreNames'])[_0x120d58(0x2d7)](_0x1d80dc=>{const _0x6d1f8c=_0x120d58;_0x1d80dc!==_0x4ff71d&&(db[_0x6d1f8c(0x1e3)](_0x1d80dc),console['log'](_0x6d1f8c(0x172)+_0x1d80dc+_0x6d1f8c(0x135)));}),console[_0x120d58(0x1d4)](_0x120d58(0x2e2));else{!db[_0x120d58(0x138)][_0x120d58(0x232)](_0x134343)&&(db[_0x120d58(0x24a)](_0x134343,{'keyPath':'id'}),console[_0x120d58(0x1d4)](_0x120d58(0x172)+_0x134343+_0x120d58(0x17b)));!db[_0x120d58(0x138)][_0x120d58(0x232)](_0x1a218e)&&(db[_0x120d58(0x24a)](_0x1a218e,{'keyPath':'id','autoIncrement':!![]}),console[_0x120d58(0x1d4)](_0x120d58(0x172)+_0x1a218e+_0x120d58(0x17b)));!db[_0x120d58(0x138)][_0x120d58(0x232)](_0x4ff71d)&&(db[_0x120d58(0x24a)](_0x4ff71d,{'keyPath':'id','autoIncrement':!![]}),console[_0x120d58(0x1d4)](_0x120d58(0x172)+_0x4ff71d+_0x120d58(0x17b)));!db[_0x120d58(0x138)]['contains'](_0x4ce1ea)&&(db['createObjectStore'](_0x4ce1ea,{'keyPath':'id'}),console[_0x120d58(0x1d4)](_0x120d58(0x172)+_0x4ce1ea+_0x120d58(0x17b)));if(_0x2e39b8){if(!db[_0x120d58(0x138)]['contains'](_0x536454)){const _0x4bf41d=db[_0x120d58(0x24a)](_0x536454,{'keyPath':'id','autoIncrement':!![]});_0x4bf41d[_0x120d58(0x284)]('cartId','cartId',{'unique':!![]}),console['log']('ObjectStore\x20\x27'+_0x536454+_0x120d58(0x17b));}!db[_0x120d58(0x138)][_0x120d58(0x232)](_0x27f24c)&&(db[_0x120d58(0x24a)](_0x27f24c,{'keyPath':'id','autoIncrement':!![]}),console[_0x120d58(0x1d4)](_0x120d58(0x172)+_0x27f24c+'\x27\x20creado\x20correctamente.'));}}},_0x2ac8e6[_0x1dd6a8(0x155)]=function(_0x5cda59){const _0x224ba9=_0x1dd6a8;db=_0x5cda59[_0x224ba9(0x2c7)][_0x224ba9(0x2a3)],dbOperationInProgress=![],console[_0x224ba9(0x1d4)](_0x224ba9(0x142)),_0x5d4e85(db);},_0x2ac8e6[_0x1dd6a8(0x116)]=function(_0x13bd20){const _0x280605=_0x1dd6a8;console[_0x280605(0x1e9)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x13bd20[_0x280605(0x2c7)]['error']),dbOperationInProgress=![],_0x45b095(_0x13bd20[_0x280605(0x2c7)]['error']);};});})[_0x538e77(0x17f)](_0x33d0f9=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})['finally'](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0xa72b2=_0x12593a;if(!isOnline())return Promise[_0xa72b2(0x1cc)]();try{const _0x5a65c7=await createCartStore(''),_0x4a42e5=_0x5a65c7[_0xa72b2(0x19b)]('offline_operations',_0xa72b2(0x1db)),_0x3abc2f=_0x4a42e5[_0xa72b2(0x272)](_0xa72b2(0x2d2)),_0x5445eb=await new Promise((_0x5d954b,_0xdb798d)=>{const _0x1baf2a=_0xa72b2,_0x209c30=_0x3abc2f['getAll']();_0x209c30[_0x1baf2a(0x155)]=()=>_0x5d954b(_0x209c30[_0x1baf2a(0x2a3)]),_0x209c30['onerror']=()=>_0xdb798d(new Error('Error\x20al\x20obtener\x20las\x20operaciones:\x20'+_0x209c30[_0x1baf2a(0x1e9)]));}),_0x392b95=_0x5445eb[_0xa72b2(0x1cb)](_0x2d3fdd=>_0x2d3fdd[_0xa72b2(0x25d)]==0x1);if(_0x392b95[_0xa72b2(0x139)]===0x0){console['log'](_0xa72b2(0x28c));return;}const _0x5998e8=_0x392b95[_0xa72b2(0x1cb)](_0x52f4d6=>_0x52f4d6[_0xa72b2(0x301)]==0x64),_0x58fe55=_0x392b95[_0xa72b2(0x1cb)](_0x240a0a=>_0x240a0a['setTipoOperacion']!=0x64);function _0x558577(_0x127fd9,_0xc49570){return new Promise((_0x51a66b,_0x249628)=>{const _0x23d827=_0x4b85,_0x5282ea=_0x127fd9[_0x23d827(0x19b)](_0x23d827(0x2d2),_0x23d827(0x280)),_0x5efbe7=_0x5282ea['objectStore'](_0x23d827(0x2d2)),_0x385a28=_0x5efbe7[_0x23d827(0x30a)](_0xc49570);_0x385a28[_0x23d827(0x155)]=()=>_0x51a66b(),_0x385a28[_0x23d827(0x116)]=_0x7e2e89=>_0x249628(new Error('Error\x20guardando\x20operación:\x20'+_0x7e2e89[_0x23d827(0x2c7)][_0x23d827(0x1e9)]));});}async function _0x5e536c(_0xd6066){const _0x4decb8=_0xa72b2;for(const _0x34e9fe of _0xd6066){_0x34e9fe[_0x4decb8(0x301)]===0x64&&Array['isArray'](_0x34e9fe[_0x4decb8(0x184)])&&_0x34e9fe[_0x4decb8(0x184)]['sort']((_0x5bdf6a,_0x1a95b1)=>{const _0x524561=_0x4decb8,_0x24cf03=[0x1,0x2,0x3],_0xcd46b5=_0x24cf03[_0x524561(0x1dd)](_0x5bdf6a[_0x524561(0x1f1)]),_0x582632=_0x24cf03[_0x524561(0x1dd)](_0x1a95b1['setItemType']);if(_0xcd46b5&&!_0x582632)return-0x1;if(!_0xcd46b5&&_0x582632)return 0x1;return _0x5bdf6a[_0x524561(0x1f1)]-_0x1a95b1[_0x524561(0x1f1)];});const _0x1a2e77=new FormData();_0x1a2e77[_0x4decb8(0x1a9)](_0x4decb8(0x1c6),JSON['stringify'](_0x34e9fe));if(_0x34e9fe[_0x4decb8(0x2be)]instanceof Blob&&_0x34e9fe[_0x4decb8(0x2be)][_0x4decb8(0x1f2)]>0x0)_0x1a2e77[_0x4decb8(0x1a9)]('pdfBlob',_0x34e9fe[_0x4decb8(0x2be)],'documento.pdf');else _0x34e9fe[_0x4decb8(0x2be)]&&console[_0x4decb8(0x163)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x34e9fe[_0x4decb8(0x301)]==0x64&&Array[_0x4decb8(0x1ff)](_0x34e9fe[_0x4decb8(0x184)])&&_0x34e9fe['newItems'][_0x4decb8(0x2d7)]((_0x4ae7b4,_0x3d2724)=>{const _0x359695=_0x4decb8;Array[_0x359695(0x1ff)](_0x4ae7b4[_0x359695(0x2ff)])&&_0x4ae7b4[_0x359695(0x2ff)][_0x359695(0x2d7)]((_0x2c81d3,_0x2483cd)=>{const _0x2ddbcf=_0x359695;_0x2c81d3 instanceof Blob&&_0x2c81d3['size']>0x0?_0x1a2e77[_0x2ddbcf(0x1a9)]('newItems['+_0x3d2724+_0x2ddbcf(0x12a)+_0x2483cd+']',_0x2c81d3,_0x2c81d3[_0x2ddbcf(0x212)]):console[_0x2ddbcf(0x163)](_0x2ddbcf(0x1b3)+_0x3d2724+_0x2ddbcf(0x188)+_0x2483cd+']\x20–\x20se\x20omite.');});});try{const _0x2c6e9d=await fetch(_0x34e9fe['setWebhook'],{'method':_0x4decb8(0x16b),'body':_0x1a2e77});if(!_0x2c6e9d['ok'])throw new Error(_0x4decb8(0x21f)+_0x2c6e9d['status']+'\x20–\x20'+_0x2c6e9d[_0x4decb8(0x15f)]);const _0x6c4424=await _0x2c6e9d['json']();!_0x6c4424[_0x4decb8(0x25b)]?_0x34e9fe['setMessage']=_0x6c4424['message']||_0x4decb8(0x2b0):(_0x34e9fe['apiPOSsendOffline']=0x0,delete _0x34e9fe['setMessage']),await _0x558577(_0x5a65c7,_0x34e9fe);}catch(_0x4a5343){console[_0x4decb8(0x1e9)](_0x4decb8(0x19c),_0x4a5343),_0x34e9fe[_0x4decb8(0x1bc)]=_0x4a5343[_0x4decb8(0x302)],await _0x558577(_0x5a65c7,_0x34e9fe);}}}_0x5998e8['sort']((_0x3eb42d,_0x4fc275)=>{const _0x4f27d2=_0xa72b2,_0x5b80ca=[0x1,0x2,0x3],_0x647c1c=_0x54c09c=>Array[_0x4f27d2(0x1ff)](_0x54c09c[_0x4f27d2(0x184)])&&_0x54c09c[_0x4f27d2(0x184)][_0x4f27d2(0x11b)](_0x28b911=>_0x5b80ca['includes'](_0x28b911[_0x4f27d2(0x1f1)])),_0x8f992e=_0x647c1c(_0x3eb42d),_0x429f18=_0x647c1c(_0x4fc275);if(_0x8f992e&&!_0x429f18)return-0x1;if(!_0x8f992e&&_0x429f18)return 0x1;const _0x422dd7=Math[_0x4f27d2(0x30f)](..._0x3eb42d['newItems'][_0x4f27d2(0x26d)](_0x395181=>_0x395181[_0x4f27d2(0x1f1)])),_0x40f5f5=Math[_0x4f27d2(0x30f)](..._0x4fc275[_0x4f27d2(0x184)][_0x4f27d2(0x26d)](_0x4073cb=>_0x4073cb[_0x4f27d2(0x1f1)]));return _0x422dd7-_0x40f5f5;}),_0x5998e8[_0xa72b2(0x139)]&&(console['log']('Sincronizando\x20'+_0x5998e8['length']+'\x20operaciones\x20de\x20productos...'),await _0x5e536c(_0x5998e8)),_0x58fe55['length']&&(console[_0xa72b2(0x1d4)](_0xa72b2(0x1e7)+_0x58fe55[_0xa72b2(0x139)]+_0xa72b2(0x28d)),await _0x5e536c(_0x58fe55)),console[_0xa72b2(0x1d4)]('Sincronización\x20completada\x20correctamente.');}catch(_0x1fdddf){console['error']('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x1fdddf);}}function apiERPsaveOnline(_0x5af42a,_0x13f411,_0x4fd5b2,_0x56b519,_0x5624fd){const _0x56f122=_0x12593a;if(!isOnline())return console[_0x56f122(0x1d4)](_0x56f122(0x24d)),Promise[_0x56f122(0x187)]('Error\x20Network.');const _0x5bc608={'setAuthToken':_0x5af42a,'setBranches':_0x13f411,'setUsers':_0x4fd5b2,'setSeries':_0x56b519,'setPrinters':_0x5624fd};return fetch(_0x56f122(0x1c4),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x56f122(0x2c3)](_0x5bc608)})[_0x56f122(0x30d)](_0x49c5c2=>{const _0x69785d=_0x56f122;if(!_0x49c5c2['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x49c5c2[_0x69785d(0x15f)]);return _0x49c5c2[_0x69785d(0x2c0)]();})[_0x56f122(0x30d)](_0xdf1df7=>{const _0x4b49c9=_0x56f122;if(!_0xdf1df7[_0x4b49c9(0x25b)])throw new Error(_0xdf1df7['message']||_0x4b49c9(0x263));return console[_0x4b49c9(0x1d4)](_0x4b49c9(0x149)),_0xdf1df7;})[_0x56f122(0x17f)](_0xa1b604=>{const _0x26307a=_0x56f122;console[_0x26307a(0x1e9)](_0x26307a(0x2b7),_0xa1b604);throw _0xa1b604;});}async function acceder(){const _0x565024=_0x12593a;if(!isOnline()){alert(_0x565024(0x166));throw new Error(_0x565024(0x22f));}const _0x2b0549=document[_0x565024(0x147)](_0x565024(0x246)),_0x36a684=document[_0x565024(0x147)](_0x565024(0x29a))[_0x565024(0x13a)],_0xcc2d21=document['getElementById'](_0x565024(0x1fa))[_0x565024(0x13a)];_0x2b0549[_0x565024(0x2d4)]=!![];if(!_0x36a684||!_0xcc2d21){alert(_0x565024(0x2dd)),_0x2b0549[_0x565024(0x2d4)]=![];return;}console[_0x565024(0x1d4)](_0x565024(0x2bb)),showLoadingModal();const _0x21fce5={'usuario':_0x36a684,'password':_0xcc2d21};try{const _0x5f4ec5=await fetch(_0x565024(0x1a0),{'method':_0x565024(0x16b),'headers':{'Content-Type':_0x565024(0x2f5)},'body':JSON[_0x565024(0x2c3)](_0x21fce5)}),_0x2b3e53=await _0x5f4ec5[_0x565024(0x2c0)]();if(!(_0x2b3e53['success']&&Array[_0x565024(0x1ff)](_0x2b3e53[_0x565024(0x302)]))){alert(_0x2b3e53[_0x565024(0x302)]),_0x2b0549[_0x565024(0x2d4)]=![],hideLoadingModal();throw new Error(_0x2b3e53[_0x565024(0x302)]);}const _0x2974be=document[_0x565024(0x147)](_0x565024(0x125));_0x2974be[_0x565024(0x2d1)]=_0x565024(0x1d3);const _0x639d16=_0x2b3e53[_0x565024(0x302)],{setApiEndPoint:_0x3ad1e6,setAuthToken:_0x549f35,setUser_Local:_0xcec54d}=_0x639d16[0x0],_0x1c9f0d={'apiPOS_getAccessData':0x1,'setToken':_0x549f35,'setUserLocalUserName':_0xcec54d[_0x565024(0x226)]},_0x310011=await fetch(_0x3ad1e6,{'method':'POST','headers':{'Content-Type':_0x565024(0x2af)},'body':JSON[_0x565024(0x2c3)](_0x1c9f0d)}),_0x2f1d66=await _0x310011[_0x565024(0x2c0)]();if(!(_0x2f1d66[_0x565024(0x25b)]===!![])){_0x2974be[_0x565024(0x2d1)]=_0x565024(0x2cb)+_0x2f1d66[_0x565024(0x302)]+_0x565024(0x1a7),setTimeout(()=>location['reload'](),0x1388);return;}_0x2974be[_0x565024(0x2d1)]=_0x565024(0x2a6);const _0x2aef45=_0x2f1d66[_0x565024(0x302)][_0x565024(0x19d)]['map'](_0x4badd6=>{const _0x405757=_0x565024,_0x1d7228=_0x4badd6[_0x405757(0x196)]||'',_0x233edb=_0x4badd6['setIdProducto']||'',_0x88febb=_0x4badd6[_0x405757(0x306)]||'',_0x3d7834=_0x4badd6['setItemBarCode']||'',_0x190d7f=_0x4badd6[_0x405757(0x2c6)]||'',_0x24b305=_0x4badd6[_0x405757(0x1f3)]||'',_0x25544c=_0x4badd6['setUnidadCodigo']||'',_0x562f6e=_0x4badd6[_0x405757(0x266)]||'',_0x3c1f45=_0x4badd6[_0x405757(0x303)]||'',_0x2cae69=_0x4badd6[_0x405757(0x255)]||'',_0x1fafb1=_0x4badd6[_0x405757(0x26a)]||'10',_0x5b3f78=_0x639d16[0x0][_0x405757(0x213)][_0x405757(0x167)](_0x686bd9=>_0x686bd9[_0x405757(0x255)]==_0x2cae69)?.[_0x405757(0x22b)]||0x0,_0x4f5e9b=parseFloat(_0x4badd6['setInventariable'])||0x1,_0x198242=_0x4badd6[_0x405757(0x252)]||'',_0x167676=_0x4badd6[_0x405757(0x24c)]||'',_0x5e4669=_0x4badd6[_0x405757(0x2ee)]||_0x405757(0x2c5),_0x13102b=_0x4badd6['setConversionFactor']||0x1,_0x3f4817=_0x4badd6[_0x405757(0x25f)]||'',_0x1bf622=_0x4badd6['setBatchExpirationDate']||'',_0x55cfc0=(_0x4badd6[_0x405757(0x15c)]||[])[_0x405757(0x26d)](_0x2d654c=>{const _0x4ef1bb=_0x405757,_0x274492=parseFloat(_0x2d654c[_0x4ef1bb(0x189)])||0x0,_0x1834b5=parseFloat(_0x2d654c[_0x4ef1bb(0x30c)])||0x0,_0x1be53c=parseFloat(_0x2d654c[_0x4ef1bb(0x173)])||0x0,_0x24ddd6=parseFloat(_0x2d654c['setMtoPrecioCostoUnitario'])||0x0,_0x21d59d=_0x2d654c['setPriceLists']||[];let _0x3feac1=0x0,_0x4003de=0x0;if(_0x274492>0x0)_0x3feac1=_0x274492,_0x4003de=setTipAfeImpGravados[_0x4ef1bb(0x11b)](_0xdb8aaf=>_0xdb8aaf==_0x1fafb1)?_0x274492+_0x274492*_0x5b3f78/0x64:_0x274492;else _0x1834b5>0x0&&(_0x4003de=_0x1834b5,_0x3feac1=setTipAfeImpGravados[_0x4ef1bb(0x11b)](_0x3b6607=>_0x3b6607==_0x1fafb1)?_0x1834b5/(0x1+_0x5b3f78/0x64):_0x1834b5);let _0x28f018=0x0,_0x560312=0x0;if(_0x1be53c>0x0)_0x28f018=_0x1be53c,_0x560312=setTipAfeImpGravados[_0x4ef1bb(0x11b)](_0x497814=>_0x497814==_0x1fafb1)?_0x1be53c+_0x1be53c*_0x5b3f78/0x64:_0x1be53c;else _0x24ddd6>0x0&&(_0x560312=_0x24ddd6,_0x28f018=setTipAfeImpGravados[_0x4ef1bb(0x11b)](_0x208e97=>_0x208e97==_0x1fafb1)?_0x24ddd6/(0x1+_0x5b3f78/0x64):_0x24ddd6);return{'currency':_0x2d654c[_0x4ef1bb(0x1d7)],'setMtoValorUnitario':_0x3feac1,'setMtoPrecioUnitario':_0x4003de,'setMtoValorCostoUnitario':_0x28f018,'setMtoPrecioCostoUnitario':_0x560312,'setPriceLists':_0x21d59d};});if(_0x2cae69!==''&&_0x1d7228!==''&&_0x88febb!==''&&_0x190d7f!=='')return{'id':_0x1d7228,'setIdProducto':_0x233edb,'setCodProducto':_0x88febb,'setItemBarCode':_0x3d7834,'setDescripcion':_0x190d7f,'setItemDescription':_0x24b305,'setUnidadCodigo':_0x25544c,'setUnidad':_0x562f6e,'setItemUnitAlias':_0x3c1f45,'setPorcentajeIgv':_0x5b3f78,'setTaxId':_0x2cae69,'setTipAfeIgv':_0x1fafb1,'setInventariable':_0x4f5e9b,'setCategoria':_0x198242,'setMarca':_0x167676,'setImg':_0x5e4669,'setConversionFactor':_0x13102b,'setBatchName':_0x3f4817,'setBatchExpirationDate':_0x1bf622,'setItemIsBought':_0x4badd6['setItemIsBought'],'setItemIsSold':_0x4badd6[_0x405757(0x1f9)],'sucursales':_0x4badd6['sucursales']||[],'setPrinters':_0x4badd6[_0x405757(0x1ef)]||[],'currency_data':_0x55cfc0,'setImages':_0x4badd6[_0x405757(0x2e8)]||[]};return null;})[_0x565024(0x1cb)](Boolean);_0x639d16[0x0]['setCompanyLogo']=_0x2f1d66[_0x565024(0x302)][_0x565024(0x217)],_0x639d16[0x0][_0x565024(0x1b8)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x1b8)],_0x639d16[0x0][_0x565024(0x2ae)]=_0x2f1d66[_0x565024(0x302)]['setCompanyName'],_0x639d16[0x0][_0x565024(0x274)]=_0x2f1d66['message'][_0x565024(0x274)],_0x639d16[0x0][_0x565024(0x175)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x175)],_0x639d16[0x0]['setCompanyPhone']=_0x2f1d66[_0x565024(0x302)][_0x565024(0x2c1)],_0x639d16[0x0][_0x565024(0x153)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x153)],_0x639d16[0x0][_0x565024(0x1dc)]=_0x2f1d66[_0x565024(0x302)]['setCompanyWebsite'],_0x639d16[0x0][_0x565024(0x157)]=_0x2f1d66['message'][_0x565024(0x157)],_0x639d16[0x0][_0x565024(0x2a2)]=_0x2f1d66[_0x565024(0x302)]['setUsuarios'],_0x639d16[0x0][_0x565024(0x258)]=_0x2f1d66['message'][_0x565024(0x258)],_0x639d16[0x0][_0x565024(0x1ef)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x1ef)],_0x639d16[0x0][_0x565024(0x27b)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x27b)],_0x639d16[0x0][_0x565024(0x16c)]=_0x2f1d66['message'][_0x565024(0x16c)],_0x639d16[0x0]['setCustomers']=_0x2f1d66[_0x565024(0x302)][_0x565024(0x17d)],_0x639d16[0x0][_0x565024(0x1fc)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x1fc)],_0x639d16[0x0][_0x565024(0x126)]=_0x2f1d66[_0x565024(0x302)][_0x565024(0x126)],_0x639d16[0x0][_0x565024(0x2d8)]=_0x2f1d66[_0x565024(0x302)]['setCollaborators'],_0x2974be[_0x565024(0x2d1)]='Sincronizando\x20...';const _0x2951dc=await createCartStore('');await clearAndStore(_0x2951dc,_0x565024(0x1d8),_0x2aef45),await clearAndStore(_0x2951dc,'layoutState',[{'id':_0x565024(0x2db),..._0x639d16[0x0][_0x565024(0x122)]}]),await apiERPsaveOnline(_0x549f35,_0x639d16[0x0][_0x565024(0x157)],_0x639d16[0x0]['setUsuarios'],_0x639d16[0x0][_0x565024(0x258)],_0x639d16[0x0]['setPrinters']);const _0x47e296=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':_0x565024(0x16b),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x565024(0x2c3)]({'setAuthToken':_0x549f35,'setUserId':_0xcec54d[_0x565024(0x25e)]})}),_0x26d659=await _0x47e296[_0x565024(0x2c0)]();if(_0x26d659['success'])_0x639d16[0x0]['setWindows']=_0x26d659['message'][_0x565024(0x2d9)],_0x639d16[0x0][_0x565024(0x297)]=_0x26d659[_0x565024(0x302)][_0x565024(0x297)],_0x639d16[0x0][_0x565024(0x1ef)]=_0x26d659['message']['setPrinters'];else{console[_0x565024(0x1e9)]('Error\x20Update:',_0x26d659[_0x565024(0x302)]);return;}await saveCompanyToIndexedDB(_0x639d16,_0x2951dc);if(!_0x639d16[0x0][_0x565024(0x2d9)]||_0x639d16[0x0][_0x565024(0x2d9)][_0x565024(0x139)]===0x0){console['error'](_0x565024(0x1bd));return;}for(const _0x4160ff of _0x639d16[0x0][_0x565024(0x2d9)]){await new Promise(_0x463697=>setTimeout(_0x463697,0x12c)),await createCartStore(_0x4160ff[_0x565024(0x124)]),_0x2974be[_0x565024(0x2d1)]='Generando\x20'+_0x4160ff[_0x565024(0x136)]+_0x565024(0x1a7);}_0x2974be[_0x565024(0x2d1)]=_0x565024(0x1df)+_0xcec54d[_0x565024(0x2f0)]+_0x565024(0x1a7),setTimeout(()=>location[_0x565024(0x1c0)](),0x7d0);}catch(_0x4d7cca){console['error'](_0x565024(0x299),_0x4d7cca),_0x2b0549[_0x565024(0x2d4)]=![],hideLoadingModal(),alert(_0x4d7cca);throw _0x4d7cca;}}function clearAndStore(_0x250599,_0x69b05a,_0x3faec9){return new Promise((_0x4247a8,_0x3e33c2)=>{const _0x512bf0=_0x4b85,_0x564d9a=_0x250599['transaction'](_0x69b05a,_0x512bf0(0x280)),_0xfaed69=_0x564d9a[_0x512bf0(0x272)](_0x69b05a),_0x4f8c66=_0xfaed69[_0x512bf0(0x1d9)]();_0x4f8c66['onsuccess']=()=>{const _0x5c8ed7=_0x512bf0;_0x3faec9[_0x5c8ed7(0x2d7)](_0x175872=>_0xfaed69['put'](_0x175872));},_0x564d9a['oncomplete']=()=>_0x4247a8(),_0x564d9a['onerror']=()=>_0x3e33c2(new Error(_0x512bf0(0x25a)+_0x69b05a+'!'));});}async function logoutReload(_0x544750=0x0,_0x2fef21){const _0x4eac54=_0x12593a;if(_0x544750!=0x1){showLoadingModal();const _0x257de5=document[_0x4eac54(0x147)](_0x4eac54(0x125));_0x257de5['innerHTML']=_0x4eac54(0x290);}_0x2fef21==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x4eac54(0x1c0)]();}function registerServiceWorker(_0x4f503b,_0x4cef8a){const _0x30b851=_0x12593a;_0x30b851(0x2cc)in navigator&&navigator[_0x30b851(0x2cc)][_0x30b851(0x123)](_0x4f503b)[_0x30b851(0x30d)](_0x4d7612=>{const _0x148435=_0x30b851;console[_0x148435(0x1d4)](_0x148435(0x1a2)),_0x4d7612[_0x148435(0x234)]=()=>{const _0x3f971b=_0x148435,_0x298877=_0x4d7612[_0x3f971b(0x13f)];_0x298877[_0x3f971b(0x2e9)]=()=>{const _0x385f0a=_0x3f971b;_0x298877[_0x385f0a(0x28a)]==_0x385f0a(0x1aa)&&navigator['serviceWorker'][_0x385f0a(0x2a4)]&&console[_0x385f0a(0x1d4)](_0x385f0a(0x1de));};},navigator[_0x148435(0x2cc)][_0x148435(0x13e)](_0x148435(0x140),()=>{const _0xcb6d9f=_0x148435;showLoadingModal();const _0x46de5f=document['getElementById'](_0xcb6d9f(0x125));_0x46de5f[_0xcb6d9f(0x2d1)]=_0xcb6d9f(0x1ad),logoutReload(0x1,_0x4cef8a);});})[_0x30b851(0x17f)](_0x314e0f=>console[_0x30b851(0x1e9)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x314e0f));}function isLoggedIn(_0x445328){const _0x2d29df=_0x12593a;return _0x445328&&_0x445328[0x0]&&_0x445328[0x0][_0x2d29df(0x2b9)];}function apiERPShowContent(){const _0xeb4806=_0x12593a;document['getElementById'](_0xeb4806(0x132))[_0xeb4806(0x27f)][_0xeb4806(0x257)](_0xeb4806(0x300)),document[_0xeb4806(0x147)]('pos')[_0xeb4806(0x27f)]['remove'](_0xeb4806(0x300)),document[_0xeb4806(0x147)](_0xeb4806(0x2d0))['classList'][_0xeb4806(0x1a5)](_0xeb4806(0x300));const _0x549b3f=document[_0xeb4806(0x147)](_0xeb4806(0x1fe));_0x549b3f&&_0x549b3f[_0xeb4806(0x27f)][_0xeb4806(0x257)]('hidden');}function x64ctotalcal(){const _0xdbdca4=_0x12593a;return window[_0xdbdca4(0x1bf)][_0xdbdca4(0x1d2)];}function x64btsparamnumber(_0x1297e3){const _0x329bc0=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x1297e3==_0x329bc0;}function x32btsfirefoxcalc(_0x178d9d){const _0x441496=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x178d9d==_0x441496;}function x64bitsdescitem(_0x185689){const _0x1f0a50=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x185689==_0x1f0a50;}function x43bitsdescglobal(_0x1b61b4){const _0x566a07=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x1b61b4==_0x566a07;}function x32bitsCompanyTkn(_0x277bcc){const _0x3b9da6=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x277bcc==_0x3b9da6;}function x64bitsparamnumber(_0xe1e88d,_0x517300){const _0x16dbeb=_0x517300;return _0xe1e88d==_0x16dbeb;}function activarRender(_0xbf6db){const _0x283a42=_0x12593a,_0x26d0e0=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0xbf6db)];return _0x26d0e0[_0x283a42(0x1dd)](!![]);}function saveCompanyToIndexedDB(_0x135370,_0x392d64){return new Promise((_0x5b3ef2,_0x53ca3e)=>{const _0x542627=_0x4b85,_0x285e4d=_0x392d64[_0x542627(0x19b)](_0x542627(0x211),_0x542627(0x280)),_0x373752=_0x285e4d[_0x542627(0x272)](_0x542627(0x211));_0x373752[_0x542627(0x1d9)](),_0x135370[_0x542627(0x2d7)](_0x572449=>_0x373752[_0x542627(0x30a)](_0x572449)),_0x285e4d[_0x542627(0x17c)]=()=>_0x5b3ef2(),_0x285e4d[_0x542627(0x116)]=_0x1be225=>_0x53ca3e(_0x1be225[_0x542627(0x2c7)][_0x542627(0x1e9)]);});}function loadCompanyFromIndexedDB(_0x48bdaa){return new Promise((_0x1340c0,_0x37510a)=>{const _0x365c0d=_0x4b85,_0x476631=_0x48bdaa[_0x365c0d(0x19b)](_0x365c0d(0x211),_0x365c0d(0x1db)),_0xf3f6fa=_0x476631[_0x365c0d(0x272)](_0x365c0d(0x211)),_0x1e3723=_0xf3f6fa[_0x365c0d(0x1e6)]();_0x1e3723[_0x365c0d(0x155)]=()=>_0x1340c0(_0x1e3723['result']),_0x1e3723[_0x365c0d(0x116)]=_0x17d631=>_0x37510a(_0x17d631[_0x365c0d(0x2c7)][_0x365c0d(0x1e9)]);});}async function initializeCompany(_0x57bdb8){const _0x5bc735=_0x12593a;try{const _0x165e31=await loadCompanyFromIndexedDB(_0x57bdb8);company=_0x165e31,company[_0x5bc735(0x139)]>0x0?(console[_0x5bc735(0x1d4)](_0x5bc735(0x18d)),myCompany=company[0x0]):console[_0x5bc735(0x1d4)](_0x5bc735(0x141));}catch(_0x595839){console[_0x5bc735(0x1e9)](_0x5bc735(0x286),_0x595839);}}function loadProductsFromIndexedDB(_0x2608b8){return new Promise((_0x45014c,_0x37b5af)=>{const _0x3a5404=_0x4b85,_0x4682b8=_0x2608b8[_0x3a5404(0x19b)](_0x3a5404(0x1d8),'readonly'),_0x3ab2a9=_0x4682b8[_0x3a5404(0x272)](_0x3a5404(0x1d8)),_0xd8933b=_0x3ab2a9[_0x3a5404(0x1e6)]();_0xd8933b['onsuccess']=()=>_0x45014c(_0xd8933b[_0x3a5404(0x2a3)]),_0xd8933b['onerror']=_0x12f78b=>_0x37b5af(_0x12f78b[_0x3a5404(0x2c7)][_0x3a5404(0x1e9)]);});}async function initializeProducts(_0x4a1fc0){const _0x34009f=_0x12593a;try{const _0x4234dc=await loadProductsFromIndexedDB(_0x4a1fc0);products=_0x4234dc,products[_0x34009f(0x139)]>0x0?console[_0x34009f(0x1d4)](_0x34009f(0x143)):console['log'](_0x34009f(0x15a));}catch(_0x32fb79){console[_0x34009f(0x1e9)](_0x34009f(0x18e),_0x32fb79);}}async function validateAccess(_0x231e10){const _0x3e5272=_0x12593a;await initializeCompany(_0x231e10);if(!isLoggedIn(company))throw new Error(_0x3e5272(0x14a));if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert(_0x3e5272(0x29f));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function _0x9c4a(){const _0x12edd7=['push','setCredentialsApiWAChat','setDespacho','trim','uy10','setWarehouses','setCompanyEmail','position','onsuccess','caption','setBranches','setMoneda','get','Products\x20Empty.','Producto\x20con\x20id\x20','currency_data','ntf-flotante-message\x20','CLOSED','statusText','string','port','Error\x20','warn','agosto','payment-option','Solo\x20necesitas\x20internet\x20para\x20acceder!','find','flex','719332GGzvul','stopPropagation','POST','setBankAccounts','onload','.dropdown-list-pais-flag','33x54xsystem','ntfIndex','prototype','ObjectStore\x20\x27','setMtoValorCostoUnitario','setSucursalStock','setCompanyAddress','Registrar\x20movimiento','application/pdf','tabs-notifications','/send','100%','\x27\x20creado\x20correctamente.','oncomplete','setCustomers','setSellerName','catch','2339055FZsJki','setCodeBarTypes','ntf-flotante-top','abril','newItems','Enter','top','reject','].setItemImages[','setMtoValorUnitario','version','(((.+)+)+)+$','drawImage','Company\x20Load.','Products\x20Load\x20Error:','://wss.apierp.dev/ws?token=','rgf4x32','ar21','WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...','ntf-notifications-list','width','webkitFullscreenElement','setId','ntf-flotante-container-bottom','mozFullScreenElement','setWarehouseId','has','transaction','Error\x20al\x20enviar\x20operación\x20offline:','setProductos','setCorrelativo','apply','https://apierp.dev/api/company/get/','producto','SW\x20Success','mozCancelFullScreen','embedJpg','add','getMonth','\x20...','left','append','installed','Plan\x20Impulsa','mozRequestFullScreen','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.7\x20...</span>','translateX(-','noviembre','Mensaje\x20WS\x20no\x20reconocido:','setImageUrl','readyState','Imagen\x20inválida\x20en\x20newItems[','onloadend','mx08','setCodeBarTypeName','lbtom','setCompanyDoc','E01','values','diciembre','setMessage','Error:\x20No\x20hay\x20ventanas\x20disponibles.','opacity','location','reload','setUserCode','setClienteTipoDoc','createElement','https://apierp.dev/api/apiPOS/update/','setAttribute','invoice','Error\x20procesando\x20mensaje\x20WS','setInventariable','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.7\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','setSerie','filter','resolve','x64','textContent','64system','getDate','x63s','hostname','Inicio\x20de\x20sesión\x20exitoso\x20...','log','sort','msRequestFullscreen','currency','products','clear','setCredentialsApiWAChatSubdomain','readonly','setCompanyWebsite','includes','SW\x20New\x20Version','Bienvenido(a)\x20','fill','Revisar\x20lote','96252cVVQmr','deleteObjectStore','https://','save','getAll','Sincronizando\x20','split','error','set','img','exitFullscreen','No\x20hay\x20notificaciones','Credenciales\x20no\x20encontradas','setPrinters','Backspace','setItemType','size','setItemDescription','data-ntf-index','div','ntf-flotante-container-top','9999','key','setItemIsSold','password','src','setSuppliers','setUserFullName','topbar','isArray','backgroundColor','appendChild','status','setMoneda-','setFechaHora','32system','#container-section-pay-','embedPng','uy22','xtt3','setIdProducto','setHours','setClienteDireccion','setObservacion','block','872wQwhsp','.payment-option','company','name','setImpuestos','Generar\x20Orden\x20de\x20Compra','julio','Formato\x20inesperado\x20en\x20base64','setCompanyLogo','webkitRequestFullscreen','option','INPUT','onLine','septiembre','64x32xsystem','Imprimir\x20Código\x20de\x20Barras','HTTP\x20','preventDefault','cl19','setUserEmail','Helvetica','.carousel-next','2207919gDsCVe','setUserName','setPlanName','svg','now','UY0','setImpuestoValue','finally','45x','junio','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','\x0a<h3\x20class=\x22infoItem-title\x22>','S01','contains','scale','onupdatefound','Stock\x20Actual:\x20','readAsDataURL','ntf-notification-dropdown','d-none','ltop','focus','Error\x20al\x20enviar\x20correo:','serializeToString','.product[tabindex=\x270\x27]','wss','checkout-btn-','81460dJDMnB','Tab\x20count\x20inicializado\x20en:\x20','bind','pcrcl','drawText','layoutState','btn-access-login','height','setCashierName','webkitExitFullscreen','createObjectStore','return\x20(function()\x20','setMarca','Error\x20Network.','msFullscreenElement','setBranchDefault','.carousel-track','input,\x20select,\x20button,\x20a:not(.payment-option)','setCategoria','from','setWarehouseStockMin','setTaxId','fixed','remove','setSeries','transition','Error\x20in\x20saving\x20to\x20store\x20','success','select','apiPOSsendOffline','setUserId','setBatchName','insertAdjacentHTML','WebSocket\x20conectado.','alt','Error\x20desconocido\x20al\x20actualizar\x20Data.','addPage','fullscreenElement','setUnidad','slice','setTipoOperacionInvoice','toString','setTipAfeIgv','active','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','map','zIndex','id_registro','.<br>','setCredentialsApiWAChatId','objectStore','none','setCompanyNameTrade','text','setMtoPrecioCostoUnitario','setAttachEdit','floor','\x22\x20expiró\x20el\x20','window_options_','setCurrencyDefault','trace','.select-button-pais-flag','windowsUpdate','classList','readwrite','setClienteDenominacion','ar10.5','setWarehouseName','createIndex','<br>\x0aStock\x20Actual:\x20','Company\x20Load\x20Error:','type','body','toggle','state','style','No\x20hay\x20operaciones\x20para\x20sincronizar.','\x20operaciones\x20restantes...','getContext','setCredentialsApiWAChatIdDefault','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','justifyContent','No\x20hay\x20setAuthToken\x20para\x20WebSocket','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','button','concat','\x22\x20para\x20registro\x20#','setUsers','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','Error\x20en\x20la\x20solicitud:','usuario','setBatchExpirationDate','.modal-overlay-carousel','mx16','embedFont','Error:\x20Domain\x20not\x20registered.','onclick','Arrays\x20actualizados\x20para\x20windowId\x20','setUsuarios','result','controller','Error\x20en\x20WebSocket','Procesamiento\x20de\x20datos\x20exitoso\x20...','username','info','search','create','\x0a<h3>','btnSaveOperacion-','f34f','setCompanyName','application/json;\x20charset=utf-8','Error\x20desconocido.','__proto__','filename','dataset','ntf-flotante-bottom','loadingModal','co19','Error\x20al\x20actualizar\x20data\x20online:','.modal-close-carousel','setUser_Local','MX20','Modo\x20online\x20...','windowId','co5','pdfBlob','WS\x20windowsUpdate:\x20msg.data\x20no\x20es\x20un\x20array:','json','setCompanyPhone','setFloorId','stringify','requestFullscreen','./img/product.png','setDescripcion','target','setCajeroCodigo','closest','ntf-flotante-orange','Error:\x20','serviceWorker','ntf-modal-actions','setClienteNumDoc','S02','login','innerHTML','offline_operations','setCartTmp','disabled','center','open','forEach','setCollaborators','setWindows','random','layout','Evento\x20windowsUpdate\x20recibido.','Todos\x20los\x20campos\x20son\x20obligatorios.','startsWith','1826WIDZhT','setBranchId','Delete','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','2mlfUCH','activeElement','50eRWSPz','keydown','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','setImages','onstatechange','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','1174548YjBZJJ','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','Base\x20de\x20datos\x20abierta\x20correctamente.','setImg','data:image/svg+xml;base64,','setUserNombres','setCredentialsApiWAChatAlias','Ver\x20movimientos','setItemBarCode','125wWNNns','application/json','querySelector','barcode-type-select','constructor','fullscreen-btn','toFixed','close','Nombre\x20de\x20store\x20no\x20válido:\x20','https:','createObjectURL','setItemImages','hidden','setTipoOperacion','message','setItemUnitAlias','click','dispatchEvent','setCodProducto','setCustomerPhone','title','pop','put','apiERP','setMtoPrecioUnitario','then','widthOfTextAtSize','min','.carousel-prev','setAuthToken','all','console','querySelectorAll','onerror','setCredentialsApiWAChatPort','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','change','mimetype','some','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','32809brdEbZ','substr','OPEN','setCodeBarTypeId','selectedCode','setLayout','register','setWindowId','infoLoadingModal','setShifts','{}.constructor(\x22return\x20this\x22)(\x20)','offsetWidth','windowIds\x20previamente\x20creados:','][setItemImages][','detalleModalLayout','canvas','display','data','xpos','CO0','code','header','</h3>\x0a','cart_','\x27\x20eliminada.','setWindowName','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','objectStoreNames','length','value','cloneNode','ntf-flotante-green','Stock\x20mínimo:\x20','addEventListener','installing','controllerchange','Company\x20Empty.','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','Products\x20Load.','\x0aEl\x20producto\x20\x22','Tab','reason','getElementById','Eliminar\x20producto','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','User\x20no\x20Logged!','transform','documentElement'];_0x9c4a=function(){return _0x12edd7;};return _0x9c4a();}function initCountrySelector(_0x150ba5){const _0x4852a2=_0x12593a,_0x4f4ab9=_0x150ba5[_0x4852a2(0x2f6)](_0x4852a2(0x27d)),_0x35c47b=_0x150ba5[_0x4852a2(0x2f6)](_0x4852a2(0x16e));let _0x16d32b=_0x4f4ab9[_0x4852a2(0x2b3)][_0x4852a2(0x121)]||'51';function _0x5ad0a1(){const _0x31252d=_0x4852a2;_0x35c47b[_0x31252d(0x28b)][_0x31252d(0x194)]=_0x4f4ab9[_0x31252d(0x128)]+'px';}_0x5ad0a1(),window[_0x4852a2(0x13e)]('resize',_0x5ad0a1),_0x4f4ab9[_0x4852a2(0x13e)]('click',function(_0x52dde9){const _0x438246=_0x4852a2;_0x52dde9[_0x438246(0x16a)](),_0x5ad0a1();const _0x564548=_0x35c47b[_0x438246(0x28b)][_0x438246(0x12d)]===_0x438246(0x20e);document[_0x438246(0x115)](_0x438246(0x16e))[_0x438246(0x2d7)](_0x4d0cf9=>{const _0x5267e6=_0x438246;if(_0x4d0cf9!==_0x35c47b)_0x4d0cf9['style'][_0x5267e6(0x12d)]=_0x5267e6(0x273);}),_0x35c47b[_0x438246(0x28b)][_0x438246(0x12d)]=_0x564548?_0x438246(0x273):_0x438246(0x20e);}),_0x35c47b[_0x4852a2(0x115)]('.dropdown-item-pais-flag')[_0x4852a2(0x2d7)](_0x1463d1=>{const _0x3b9639=_0x4852a2;_0x1463d1[_0x3b9639(0x13e)](_0x3b9639(0x304),function(_0x3ec1e6){const _0x30cdc9=_0x3b9639;_0x3ec1e6[_0x30cdc9(0x16a)](),_0x16d32b=this[_0x30cdc9(0x2b3)][_0x30cdc9(0x131)],_0x4f4ab9['dataset'][_0x30cdc9(0x121)]=_0x16d32b,_0x4f4ab9[_0x30cdc9(0x2d1)]=this[_0x30cdc9(0x2d1)],_0x35c47b['style']['display']=_0x30cdc9(0x273);});}),document[_0x4852a2(0x13e)](_0x4852a2(0x304),function(_0x120a33){const _0x5e131e=_0x4852a2;!_0x4f4ab9['contains'](_0x120a33[_0x5e131e(0x2c7)])&&!_0x35c47b[_0x5e131e(0x232)](_0x120a33[_0x5e131e(0x2c7)])&&(_0x35c47b[_0x5e131e(0x28b)]['display']=_0x5e131e(0x273));});}function getCredentialsApiWAChat(_0x548e3d){const _0x4a427b=_0x12593a;return myCompany[_0x4a427b(0x14e)][_0x4a427b(0x167)](_0x1ad7af=>_0x1ad7af[_0x4a427b(0x271)]==_0x548e3d)||null;}async function sendMessageApiWAChat(_0x3bd72b,_0x3043f1,_0x50da2f,_0x325d21,_0x438dac,_0x3ae738,_0x222929){const _0x2fece4=_0x12593a,_0x12fb92=getCredentialsApiWAChat(_0x3bd72b);if(!_0x12fb92)return Promise[_0x2fece4(0x187)](new Error(_0x2fece4(0x1ee)));const _0xea23e0=_0x12fb92[_0x2fece4(0x1da)],_0x5c9cc8=_0x12fb92[_0x2fece4(0x117)],_0x1e179e={'type':_0x50da2f,'content':_0x325d21};if(_0x438dac)_0x1e179e[_0x2fece4(0x156)]=_0x438dac;_0x3ae738&&(_0x1e179e[_0x2fece4(0x2b2)]=_0x3ae738);_0x222929&&(_0x1e179e[_0x2fece4(0x11a)]=_0x222929);const _0x521ec0=_0x2fece4(0x1e4)+_0xea23e0+'/wa/'+_0x5c9cc8+_0x2fece4(0x179),_0x54da25=await fetch(_0x521ec0,{'method':_0x2fece4(0x16b),'headers':{'Content-Type':_0x2fece4(0x2f5),'x-auth-token':myCompany[_0x2fece4(0x311)]},'body':JSON[_0x2fece4(0x2c3)]({'to':_0x3043f1,'payload':_0x1e179e})});if(!_0x54da25['ok']){const _0x1f90da=await _0x54da25['json']()[_0x2fece4(0x17f)](()=>({}));throw new Error(_0x1f90da['error']||_0x2fece4(0x162)+_0x54da25[_0x2fece4(0x202)]);}return _0x54da25[_0x2fece4(0x2c0)]();}async function saveCredentialsApiWAChatInCompany(){const _0x22f202=_0x12593a,_0x4354d3=document['getElementById']('setCredentialsApiWAChat'),_0x311370=_0x4354d3[_0x22f202(0x13a)],_0x2986dd=getCredentialsApiWAChat(_0x311370);_0x2986dd&&(myCompany[_0x22f202(0x28f)]=_0x2986dd['setCredentialsApiWAChatId']);}async function loadCart(_0x4e1410){const _0x3aabf4=_0x12593a;try{const _0x53dc58=await createCartStore(''),_0x34845f=[];await validateAccess(_0x53dc58);const _0x28d659=company[0x0][_0x3aabf4(0x2b9)],_0x12d640=company[0x0][_0x3aabf4(0x297)]['find'](_0x2d6a6e=>_0x2d6a6e[_0x3aabf4(0x222)]==_0x28d659[_0x3aabf4(0x226)]),_0x25935e=company[0x0]['setBranches'],_0x423517=document[_0x3aabf4(0x147)]('setBranchId');_0x423517['innerHTML']='';if(_0x12d640&&_0x12d640['setBranches']){const _0x19e2be=_0x25935e[_0x3aabf4(0x1cb)](_0x356235=>_0x12d640['setBranches'][_0x3aabf4(0x11b)](_0xf203d7=>_0xf203d7[_0x3aabf4(0x2e0)]==_0x356235[_0x3aabf4(0x2e0)]));_0x19e2be[_0x3aabf4(0x2d7)](_0x2f8b29=>{const _0x500a29=_0x3aabf4,_0x1865a0=document['createElement']('option');_0x1865a0[_0x500a29(0x13a)]=_0x2f8b29[_0x500a29(0x2e0)],_0x1865a0[_0x500a29(0x1ce)]=_0x2f8b29['setBranchName'],_0x423517[_0x500a29(0x201)](_0x1865a0);});}if(_0x4e1410==0x1){const _0x39846e=document[_0x3aabf4(0x147)](_0x3aabf4(0x2c8));_0x39846e[_0x3aabf4(0x2d1)]='';if(_0x12d640){const _0x4d2d5c=document[_0x3aabf4(0x1c3)](_0x3aabf4(0x219));_0x4d2d5c[_0x3aabf4(0x13a)]=_0x12d640[_0x3aabf4(0x1c1)],_0x4d2d5c[_0x3aabf4(0x1ce)]=_0x12d640[_0x3aabf4(0x1fd)],_0x39846e[_0x3aabf4(0x201)](_0x4d2d5c);}const _0x5a4e08=Array[_0x3aabf4(0x253)](_0x53dc58[_0x3aabf4(0x138)])[_0x3aabf4(0x1cb)](_0x2010f6=>_0x2010f6[_0x3aabf4(0x2de)](_0x3aabf4(0x27a)))[_0x3aabf4(0x26d)](_0x2dbea3=>{const _0x4f3062=_0x3aabf4,_0x57e838=_0x2dbea3[_0x4f3062(0x1e8)]('_');return _0x57e838[_0x4f3062(0x139)]>=0x3?_0x57e838[0x2]:null;})[_0x3aabf4(0x1cb)](_0x348766=>_0x348766!==null);console['log'](_0x3aabf4(0x129),_0x5a4e08);const _0x2e74b1=Array[_0x3aabf4(0x253)](_0x53dc58['objectStoreNames'])[_0x3aabf4(0x1cb)](_0x284f62=>_0x284f62[_0x3aabf4(0x2de)](_0x3aabf4(0x27a)))[_0x3aabf4(0x1d5)]((_0x1ffdbe,_0x289dc3)=>{const _0x2c48c8=_0x3aabf4,_0x5010b0=parseInt(_0x1ffdbe[_0x2c48c8(0x1e8)]('_')['pop'](),0xa),_0x3659dc=parseInt(_0x289dc3['split']('_')[_0x2c48c8(0x309)](),0xa);return _0x5010b0-_0x3659dc;});for(const _0x18c3c6 of _0x2e74b1){const _0x4c4307=_0x18c3c6[_0x3aabf4(0x1e8)]('_');if(_0x4c4307[_0x3aabf4(0x139)]<0x3){console[_0x3aabf4(0x1e9)](_0x3aabf4(0x2fc)+_0x18c3c6);continue;}const _0x5d7ea6=_0x4c4307[0x2];if(_0x5a4e08[_0x3aabf4(0x1dd)](_0x5d7ea6)){const _0x3af02d=new Promise((_0x51549b,_0x2e3926)=>{const _0x484396=_0x3aabf4,_0x24e550=_0x53dc58[_0x484396(0x19b)]([_0x18c3c6],'readonly'),_0x436c53=_0x24e550['objectStore'](_0x18c3c6),_0x71104e=_0x436c53[_0x484396(0x159)](_0x5d7ea6);_0x71104e[_0x484396(0x155)]=function(_0x37aac0){const _0x5749f9=_0x484396,_0x206221=_0x37aac0[_0x5749f9(0x2c7)][_0x5749f9(0x2a3)];window_options[_0x5d7ea6]={},_0x206221&&(window_options[_0x5d7ea6]={'setTipoOperacionInvoice':_0x206221[_0x5749f9(0x268)],'setTipoOperacion':_0x206221[_0x5749f9(0x301)],'setSerie':_0x206221[_0x5749f9(0x1ca)],'setCorrelativo':_0x206221[_0x5749f9(0x19e)],'setMoneda':_0x206221[_0x5749f9(0x158)],'setClienteTipoDoc':_0x206221[_0x5749f9(0x1c2)],'setClienteNumDoc':_0x206221[_0x5749f9(0x2ce)],'setClienteDenominacion':_0x206221[_0x5749f9(0x281)],'setClienteDireccion':_0x206221[_0x5749f9(0x20c)],'setCustomerPhone':_0x206221[_0x5749f9(0x307)],'setCustomerEmail':_0x206221['setCustomerEmail'],'setFechaHora':_0x206221[_0x5749f9(0x204)],'setSellerId':_0x206221['setSellerId'],'setSellerName':_0x206221[_0x5749f9(0x17e)],'setDespacho':_0x206221[_0x5749f9(0x14f)],'setObservacion':_0x206221[_0x5749f9(0x20d)],'setDescuentoGlobal_Monto':_0x206221['setDescuentoGlobal_Monto'],'setAttachEdit':_0x206221[_0x5749f9(0x277)]},console[_0x5749f9(0x1d4)](_0x5749f9(0x2a1)+_0x5d7ea6+':',_0x206221)),Promise[_0x5749f9(0x1cc)](updateTab(_0x5d7ea6))[_0x5749f9(0x30d)](_0x51549b)[_0x5749f9(0x17f)](_0x13bc3b=>{const _0x4201c9=_0x5749f9;console[_0x4201c9(0x1e9)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x13bc3b),_0x2e3926(_0x13bc3b);});},_0x71104e['onerror']=function(_0x1ed597){const _0x1ea05b=_0x484396;console[_0x1ea05b(0x1e9)](_0x1ea05b(0x293)+_0x5d7ea6+'.',_0x1ed597[_0x1ea05b(0x2c7)][_0x1ea05b(0x1e9)]),_0x2e3926(_0x1ed597['target']['error']);};});_0x34845f['push'](_0x3af02d);}}const _0x1cc572=Array[_0x3aabf4(0x253)](_0x53dc58[_0x3aabf4(0x138)])[_0x3aabf4(0x1cb)](_0x1a0fdb=>_0x1a0fdb[_0x3aabf4(0x2de)](_0x3aabf4(0x134)))['sort']((_0x195dac,_0xfba5cd)=>{const _0x375560=_0x3aabf4,_0x32b01b=parseInt(_0x195dac['split']('_')[_0x375560(0x309)](),0xa),_0x2c9444=parseInt(_0xfba5cd[_0x375560(0x1e8)]('_')['pop'](),0xa);return _0x32b01b-_0x2c9444;});for(const _0x2afcc1 of _0x1cc572){const _0x5255d1=_0x2afcc1[_0x3aabf4(0x1e8)]('_')[0x1];!carts[_0x5255d1]&&(carts[_0x5255d1]=[]);const _0x56057c=new Promise((_0x49e783,_0x235058)=>{const _0x1ed91c=_0x3aabf4,_0x4e358c=_0x53dc58[_0x1ed91c(0x19b)]([_0x2afcc1],_0x1ed91c(0x1db)),_0x167ebe=_0x4e358c[_0x1ed91c(0x272)](_0x2afcc1),_0x54f999=_0x167ebe[_0x1ed91c(0x1e6)]();_0x54f999[_0x1ed91c(0x155)]=async function(_0x5a6444){const _0x1855d0=_0x1ed91c,_0x3cdd46=_0x5a6444[_0x1855d0(0x2c7)][_0x1855d0(0x2a3)];carts[_0x5255d1][_0x1855d0(0x139)]=0x0,_0x3cdd46[_0x1855d0(0x2d7)](_0x355608=>carts[_0x5255d1][_0x1855d0(0x14d)](_0x355608));const _0x45681e=myCompany[_0x1855d0(0x2d9)]['find'](_0x559356=>_0x559356[_0x1855d0(0x124)]==_0x5255d1),_0x521808=Array['isArray'](_0x45681e['setCartTmpInitial'])?[..._0x45681e['setCartTmpInitial']]:[];if(_0x521808[_0x1855d0(0x139)]>0x0){carts[_0x5255d1]=_0x521808,_0x45681e[_0x1855d0(0x2d3)]=_0x521808,_0x45681e['setCartTmpInitial']=[];try{const _0x3dcdee=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3dcdee),await saveCart(_0x5255d1),console['log']('Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.');}catch(_0xf93746){console['error'](_0x1855d0(0x137),_0xf93746);}}renderCart(_0x5255d1),_0x49e783();},_0x54f999[_0x1ed91c(0x116)]=function(_0xf25c82){const _0x1892a2=_0x1ed91c;console[_0x1892a2(0x1e9)](_0x1892a2(0x2ea)+_0x5255d1+'.',_0xf25c82[_0x1892a2(0x2c7)][_0x1892a2(0x1e9)]),_0x235058(_0xf25c82[_0x1892a2(0x2c7)][_0x1892a2(0x1e9)]);};});_0x34845f[_0x3aabf4(0x14d)](_0x56057c);}}if(_0x4e1410==0x2||_0x4e1410==0x3||_0x4e1410==0x4){const _0x58c9e4=document[_0x3aabf4(0x147)](_0x3aabf4(0x227)),_0x5e229f=document[_0x3aabf4(0x147)](_0x3aabf4(0x248));_0x58c9e4[_0x3aabf4(0x2d1)]='',_0x5e229f['innerHTML']='',_0x12d640&&(_0x58c9e4[_0x3aabf4(0x2d1)]=_0x3aabf4(0x1ab),_0x5e229f[_0x3aabf4(0x2d1)]=_0x12d640[_0x3aabf4(0x1fd)]);}if(_0x4e1410==0x1||_0x4e1410==0x4){const _0x14dd6e=myCompany[_0x3aabf4(0x14e)],_0x4d6f2a=document['getElementById'](_0x3aabf4(0x14e));_0x4d6f2a['innerHTML']='',_0x14dd6e[_0x3aabf4(0x2d7)](_0x584c55=>{const _0x23e18b=_0x3aabf4,_0x472b62=document[_0x23e18b(0x1c3)](_0x23e18b(0x219));_0x472b62['value']=_0x584c55[_0x23e18b(0x271)],_0x472b62[_0x23e18b(0x1ce)]=_0x584c55[_0x23e18b(0x2f1)]??_0x584c55[_0x23e18b(0x117)],_0x4d6f2a[_0x23e18b(0x201)](_0x472b62);}),myCompany?.[_0x3aabf4(0x28f)]&&(_0x4d6f2a[_0x3aabf4(0x13a)]=myCompany['setCredentialsApiWAChatIdDefault']);}return await Promise[_0x3aabf4(0x113)](_0x34845f),myCompany?.['setBranchDefault']&&(document[_0x3aabf4(0x147)](_0x3aabf4(0x2e0))[_0x3aabf4(0x13a)]=company[0x0][_0x3aabf4(0x24f)]),document[_0x3aabf4(0x147)]('setBranchId')[_0x3aabf4(0x305)](new Event('change')),_0x4e1410==0x1&&(tabCount=getMaxWindowId(carts),console[_0x3aabf4(0x1d4)](_0x3aabf4(0x241)+tabCount)),_0x53dc58;}catch(_0x5aa39c){throw _0x5aa39c;}}function loadCartAndSetTabCount(_0x95ef45){const _0x5c0772=_0x12593a;loadCart(_0x95ef45)[_0x5c0772(0x30d)](async _0x42a1c4=>{const _0x50c297=_0x5c0772;await initializeProducts(_0x42a1c4);if(_0x95ef45==0x1){if(isLoggedIn(company)){const _0x1725dd=document[_0x50c297(0x147)](_0x50c297(0x2bc))[_0x50c297(0x13a)];parseFloat(_0x1725dd)>0x0&&(await renderProducts(),initializeCategorys(),isOnline()&&conectarWebSocket());}adjustHeight(),showLeftSection(),setActiveTab('ambientes'),document['addEventListener'](_0x50c297(0x2e6),function(_0xcd604b){const _0x404511=_0x50c297,_0x212cba=document[_0x404511(0x147)]('windowId')[_0x404511(0x13a)],_0x308688=document['getElementById']('searchInput'),_0x5e9da8=document[_0x404511(0x115)](_0x404511(0x23d)),_0x2a954e=document[_0x404511(0x147)](_0x404511(0x23f)+_0x212cba),_0x23a52a=document[_0x404511(0x147)](_0x404511(0x2ac)+_0x212cba),_0x2a9bdf=document[_0x404511(0x147)]('detalleModalPay');function _0x1e3457(_0x23d8e0){const _0x2158b8=_0x404511;return _0x23d8e0&&(_0x23d8e0[_0x2158b8(0x128)]>0x0||_0x23d8e0['offsetHeight']>0x0||_0x23d8e0['getClientRects']()[_0x2158b8(0x139)]);}let _0x1d20a4=[];if(_0x2a9bdf&&_0x2a9bdf[_0x404511(0x27f)][_0x404511(0x232)]('active')){const _0x9a06f3=_0x2a9bdf[_0x404511(0x115)](_0x404511(0x210));_0x9a06f3[_0x404511(0x2d7)](_0x2cf88b=>{const _0x2d9ebb=_0x404511;_0x1e3457(_0x2cf88b)&&!_0x2cf88b[_0x2d9ebb(0x27f)][_0x2d9ebb(0x232)](_0x2d9ebb(0x238))&&_0x1d20a4[_0x2d9ebb(0x14d)](_0x2cf88b);});const _0x53d9a0=_0x2a9bdf[_0x404511(0x2f6)](_0x404511(0x206)+_0x212cba);if(_0x53d9a0){const _0x592d84=_0x53d9a0[_0x404511(0x115)](_0x404511(0x251));_0x592d84[_0x404511(0x2d7)](_0x39aa25=>{const _0x496d42=_0x404511;_0x1e3457(_0x39aa25)&&!_0x39aa25[_0x496d42(0x27f)][_0x496d42(0x232)](_0x496d42(0x238))&&_0x1d20a4['push'](_0x39aa25);});}_0x23a52a&&_0x1e3457(_0x23a52a)&&!_0x23a52a['classList'][_0x404511(0x232)]('d-none')&&(!_0x1d20a4[_0x404511(0x1dd)](_0x23a52a)&&_0x1d20a4[_0x404511(0x14d)](_0x23a52a));}else{_0x1d20a4=[_0x308688,..._0x5e9da8];if(_0x2a954e)_0x1d20a4[_0x404511(0x14d)](_0x2a954e);}const _0x55775d=document[_0x404511(0x2e4)],_0x397959=_0x55775d&&(_0x55775d['tagName']==_0x404511(0x21a)||_0x55775d['tagName']=='TEXTAREA');if(_0x2a9bdf&&_0x2a9bdf[_0x404511(0x27f)]['contains'](_0x404511(0x26b))&&_0xcd604b[_0x404511(0x1f8)]==_0x404511(0x185)){if(_0x55775d&&_0x55775d[_0x404511(0x27f)]['contains'](_0x404511(0x165))){_0xcd604b[_0x404511(0x220)](),_0x55775d[_0x404511(0x304)]();return;}}if(_0x2a9bdf&&_0x2a9bdf[_0x404511(0x27f)][_0x404511(0x232)]('active')&&_0xcd604b[_0x404511(0x1f8)]==_0x404511(0x145)&&!_0x2a9bdf['contains'](_0x55775d)){_0xcd604b[_0x404511(0x220)]();_0x1d20a4[_0x404511(0x139)]>0x0&&_0x1d20a4[0x0]['focus']();return;}if(_0xcd604b[_0x404511(0x1f8)]=='Tab'){_0xcd604b[_0x404511(0x220)]();if(_0x1d20a4[_0x404511(0x139)]==0x0)return;let _0xbb6e45=_0x1d20a4['indexOf'](_0x55775d);if(_0xbb6e45==-0x1)_0xbb6e45=-0x1;let _0x1fa783;_0xcd604b['shiftKey']?_0x1fa783=_0xbb6e45<=0x0?_0x1d20a4[_0x404511(0x139)]-0x1:_0xbb6e45-0x1:_0x1fa783=_0xbb6e45==_0x1d20a4['length']-0x1?0x0:_0xbb6e45+0x1;_0x1d20a4[_0x1fa783][_0x404511(0x23a)]();return;}(!_0x2a9bdf||!_0x2a9bdf[_0x404511(0x27f)][_0x404511(0x232)](_0x404511(0x26b)))&&!_0x397959&&(_0xcd604b[_0x404511(0x1f8)][_0x404511(0x139)]==0x1||_0xcd604b[_0x404511(0x1f8)]=='Backspace'||_0xcd604b[_0x404511(0x1f8)]==_0x404511(0x2e1))&&(_0xcd604b[_0x404511(0x220)](),_0x308688[_0x404511(0x23a)](),_0xcd604b[_0x404511(0x1f8)]==_0x404511(0x1f0)||_0xcd604b[_0x404511(0x1f8)]==_0x404511(0x2e1)?_0x308688['value']=_0x308688[_0x404511(0x13a)][_0x404511(0x267)](0x0,-0x1):!_0x308688[_0x404511(0x13a)]?_0x308688[_0x404511(0x13a)]=_0xcd604b['key']:_0x308688[_0x404511(0x13a)]+=_0xcd604b['key']);}),loadTaxData(),resetNewItemForm();}_0x95ef45==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x95ef45==0x3){const _0x2a5450=document['getElementById'](_0x50c297(0x2e0))[_0x50c297(0x13a)];fil_BranchesId['push'](_0x2a5450),updateDateRange('day');}_0x95ef45==0x4&&init();})['catch'](_0xb68145=>{const _0x379608=_0x5c0772;console[_0x379608(0x1e9)](_0xb68145);})[_0x5c0772(0x22c)](()=>{_0x95ef45==0x1&&updateInternetIcon();let _0x51b120;(_0x95ef45==0x1||_0x95ef45==0x2||_0x95ef45==0x3||_0x95ef45==0x4)&&(_0x51b120='./app.js?v=4.1.7'),registerServiceWorker(_0x51b120,_0x95ef45);});}