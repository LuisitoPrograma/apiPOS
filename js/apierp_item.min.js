/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.6
*/

var _0x2f115e=_0x1c67;(function(_0x46698f,_0x12fd04){var _0x2a8a9f=_0x1c67,_0x58aa62=_0x46698f();while(!![]){try{var _0x1e9a32=parseInt(_0x2a8a9f(0x20b))/0x1*(-parseInt(_0x2a8a9f(0x1ca))/0x2)+-parseInt(_0x2a8a9f(0x10d))/0x3+parseInt(_0x2a8a9f(0x101))/0x4*(-parseInt(_0x2a8a9f(0x16d))/0x5)+parseInt(_0x2a8a9f(0x1e7))/0x6+-parseInt(_0x2a8a9f(0x205))/0x7*(-parseInt(_0x2a8a9f(0x12b))/0x8)+parseInt(_0x2a8a9f(0xc5))/0x9+parseInt(_0x2a8a9f(0xd1))/0xa;if(_0x1e9a32===_0x12fd04)break;else _0x58aa62['push'](_0x58aa62['shift']());}catch(_0x119004){_0x58aa62['push'](_0x58aa62['shift']());}}}(_0x186f,0x59087));var _0x2718a8=(function(){var _0x461786=!![];return function(_0x1c3a8c,_0x709bc2){var _0x396182=_0x461786?function(){var _0x468364=_0x1c67;if(_0x709bc2){var _0x4b998e=_0x709bc2[_0x468364(0x187)](_0x1c3a8c,arguments);return _0x709bc2=null,_0x4b998e;}}:function(){};return _0x461786=![],_0x396182;};}()),_0x150552=_0x2718a8(this,function(){var _0x2891d2=_0x1c67;return _0x150552[_0x2891d2(0x16e)]()[_0x2891d2(0x18c)](_0x2891d2(0x114))[_0x2891d2(0x16e)]()[_0x2891d2(0x1b4)](_0x150552)[_0x2891d2(0x18c)](_0x2891d2(0x114));});_0x150552();function _0x186f(){var _0x5cc8cc=['image/*','modalOverlayCreateItem','Producto\x20Libre','max','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','setItemCategories','setImpuestoValue','unitAlias','oncomplete','89480sizChq','trim','padStart','from','Generando\x20Excel...','dataTransfer','.addVariantUnit','setItemTaxId','.drop-zone__prompt','#newItem_brands_select\x20.options_list','checked','inputItemName','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setImpuestoCode','.variantCode','push','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','createObjectURL','Items\x20finales:','.selected_tags','exportItems','#newItem_brands_select\x20.selected_tags','_branch_container','100','setConversionFactor','textContent','.vgName','div','image_box','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','stopPropagation','setCodProducto','setStockMinimum','assign','costInput','upload-btn','setItemName','setItemIsSold','querySelector','idx','#newItem_categories_select\x20.options_list','onmessage','includes','className','inputItemDescription','.costInput','setItemDescription','[data-idx=\x22','remove-tag','setItemFree','return\x20(function()\x20','hidden','setUnitCode','.prodInput','\x20items.','offline_operations','key','setMarca','setCantidad','classList','#newItem_branches_container\x20>\x20div','setItemCode','[id$=\x22_comp_container\x22]','_comp_container','.prod_input_container','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','195NPPmHY','toString','objectStore','exception','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setCode','setUnidadCodigo','span','closeModalCreateItem','split','setMtoPrecioCostoUnitario','style','percent','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setInventariable','items','detail','message','dragover','PEN','Error\x20al\x20guardar\x20Producto\x20Offline:','__proto__','.removeCombo','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','.options_list\x20div','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','apply','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','keydown','setImpuestos','blur','search','input','newItem_addToCart','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','warn','querySelectorAll','prototype','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','preventDefault','newItem_chk_sell','target','.branchChk','toLowerCase','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setMtoPrecioUnitario','undefined','<img\x20src=\x22','code','setItemBarCode','arrayBuffer','newItem_images_container','Ingresa\x20el\x20código\x20del\x20item','table','.variantExpiry','slice','file','drop-zone','info','Nuevo\x20Producto','setImpuestoName','defineProperty','selectedItem','true','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','inputItemType','getElementsByClassName','trace','compare','drop','mousedown','constructor','ERROR:\x20plainProducts\x20no\x20serializable:','div[data-default=\x22true\x22]\x20.eqInput','setItemDateExpiry','setAuthToken','length','newItem_brands_select','setPrice','entries','isArray','some','.prodQty','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','createElement','.variantForm','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setItemUnitAlias','forEach','base','setStockInitial','.removeProd','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','40872JfZOQI','files','revokeObjectURL','find','newItem_title_table_cp','innerHTML','.unitSelect','now','reduce','download','toggle','newItem_units_container','value','.branchMin','done','addEventListener','fill','setDescripcion','add','./js/apierp_item_wk.min.js','Collator','inputItemBarCode','setTaxId','_units_container','setCostUSD','\x22\x20class=\x22branchChk\x22\x20checked>\x20','splice','newItem_btn_addUnit','setCost','2817030weIkug','postMessage','newItem_branches_container','inputItemCode','every','exportDone','active','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setWarehouseId','stringify','dataset','inputItemTax','closest','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setTaxIdDefault','./img/product.png','setItemInventoriable','setItemBrands','#newItem_categories_select\x20.selected_tags','type','setItemUnits','disabled','No\x20hay\x20items\x20para\x20exportar.','children','.removeVariant','newItem_variant_groups','inputItemDateExpiry','newItem_btn_addVariantGroup','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','./excel/Plantilla-Items.xlsx','175eGkxhB','Error\x20al\x20procesar\x20la\x20operación:','filter','Enter','setWarehouseName','setBatchName','19lodGvK','.eqInput','setItemType','bind','.ms_input','console','name','setName','.addVariantComp','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','focus','5771799GJTKKg','setIdSucursal','setBatchExpirationDate','block','setItemId','remove','<div\x20class=\x22newItem_col\x22>','selectionChange','detalleModalCreateItem','newItem_title_table','getElementById','\x22\x20value=\x22','3948790zcUqBF','setItemVariantName','tag','newItem_chk_buy','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setWarehouseCode','flatMap','setMoneda','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','readAsDataURL','.vgVals','dispatchEvent','setItemVariantValues','error','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','test','progress','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','#newItem_units_container\x20>\x20div','setUnits','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setItemImages','setItemBrandName','none','.removeUnit','accept','application/octet-stream','sucursales','setCategoria','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','default','.unitAlias','Error\x20al\x20obtener\x20la\x20plantilla:\x20','setItemIsBought','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','status','file-input','style=\x22display:none\x22','parentNode','setItemComponents','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setItemUnitId','variantForm','appendChild','newItem_hidden','btnExportarItems','setFactor','selected','64964UyYHgw','setPriceUSD','.priceInput','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.branchInit','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','findIndex','map','setAlias','windowId','change','setItemTaxValue','1196874oJgKPU','.xlsx','setEquivalence','USD','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setIdProducto','</div>','(((.+)+)+)+$','newItem_btn_addProdItem','setItemTaxCode','setItemWarehouses','click','.options_list','variant_','sort','display','log','setItemCommissionPercentage','Ingresa\x20el\x20nombre\x20del\x20item','href','newItem_categories_select'];_0x186f=function(){return _0x5cc8cc;};return _0x186f();}var _0x2639f8=(function(){var _0x15617b=!![];return function(_0x3b387f,_0x568093){var _0xc2e52a=_0x15617b?function(){var _0x1e5bdf=_0x1c67;if(_0x568093){var _0x297a0e=_0x568093[_0x1e5bdf(0x187)](_0x3b387f,arguments);return _0x568093=null,_0x297a0e;}}:function(){};return _0x15617b=![],_0xc2e52a;};}()),_0x314ed0=_0x2639f8(this,function(){var _0x313f86=_0x1c67,_0x2e1b14=function(){var _0x3afed4=_0x1c67,_0x548e5a;try{_0x548e5a=Function(_0x3afed4(0x15d)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xeb6208){_0x548e5a=window;}return _0x548e5a;},_0x3dce54=_0x2e1b14(),_0x38ab73=_0x3dce54[_0x313f86(0xbf)]=_0x3dce54[_0x313f86(0xbf)]||{},_0x2f914c=[_0x313f86(0x11d),_0x313f86(0x190),_0x313f86(0x1a7),_0x313f86(0xde),_0x313f86(0x170),_0x313f86(0x1a2),_0x313f86(0x1b0)];for(var _0x5b1ae7=0x0;_0x5b1ae7<_0x2f914c[_0x313f86(0x1b9)];_0x5b1ae7++){var _0x292e99=_0x2639f8[_0x313f86(0x1b4)][_0x313f86(0x192)][_0x313f86(0xbd)](_0x2639f8),_0x1ea6b9=_0x2f914c[_0x5b1ae7],_0x21339f=_0x38ab73[_0x1ea6b9]||_0x292e99;_0x292e99[_0x313f86(0x182)]=_0x2639f8[_0x313f86(0xbd)](_0x2639f8),_0x292e99[_0x313f86(0x16e)]=_0x21339f[_0x313f86(0x16e)]['bind'](_0x21339f),_0x38ab73[_0x1ea6b9]=_0x292e99;}});_0x314ed0();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x2f115e(0xcf)](_0x2f115e(0x1a0)),unitCount=0x0,branchesC=document[_0x2f115e(0xcf)](_0x2f115e(0x1e9)),prodC=document[_0x2f115e(0xcf)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x2f115e(0xcf)]('newItem_variants_forms'),vgC=document['getElementById'](_0x2f115e(0x200));const fileInput=document[_0x2f115e(0xcf)](_0x2f115e(0xf5)),progressBar=document['getElementById']('progress'),statusDiv=document[_0x2f115e(0xcf)](_0x2f115e(0xf4)),uploadBtn=document[_0x2f115e(0xcf)](_0x2f115e(0x14e));let newItemsExcel=null;const itemWorker=new Worker(_0x2f115e(0x1dd)),dropZone=document['getElementById'](_0x2f115e(0x1a6)),removeBtn=document[_0x2f115e(0xcf)]('remove-file');function showModalCreateItem(_0x3b048f){var _0x5d8048=_0x2f115e;const _0x3f0263=document[_0x5d8048(0xcf)](_0x5d8048(0xcd)),_0x470130=document[_0x5d8048(0xcf)]('modalOverlayCreateItem');_0x3f0263[_0x5d8048(0x166)][_0x5d8048(0x1dc)]('active'),_0x470130[_0x5d8048(0x178)][_0x5d8048(0x11c)]=_0x5d8048(0xc8);const _0x22c6a7=document['getElementById'](_0x5d8048(0x15c));_0x22c6a7['value']=parseInt(_0x3b048f),baseItem[_0x5d8048(0x15c)]=parseInt(_0x3b048f);const _0x50105f=document[_0x5d8048(0xcf)]('modalProductNewTitle');_0x3b048f==0x0&&(_0x50105f[_0x5d8048(0x1cf)]=_0x5d8048(0x1a8));_0x3b048f==0x1&&(_0x50105f[_0x5d8048(0x1cf)]=_0x5d8048(0x124));const _0x429d85=document[_0x5d8048(0x1af)]('productType1');for(let _0x9aac6=0x0;_0x9aac6<_0x429d85['length'];_0x9aac6++){const _0x2202d0=_0x429d85[_0x9aac6];if(_0x3b048f==0x0)_0x2202d0[_0x5d8048(0x166)][_0x5d8048(0xca)](_0x5d8048(0x15e));else _0x3b048f==0x1&&_0x2202d0[_0x5d8048(0x166)][_0x5d8048(0x1dc)](_0x5d8048(0x15e));}}function hideModalCreateItem(){var _0x1f6874=_0x2f115e;const _0x5d830d=document['getElementById'](_0x1f6874(0xcd)),_0x27a1d2=document[_0x1f6874(0xcf)]('modalOverlayCreateItem');_0x5d830d[_0x1f6874(0x166)][_0x1f6874(0xca)](_0x1f6874(0x1ed)),_0x27a1d2[_0x1f6874(0x178)][_0x1f6874(0x11c)]='none';}document[_0x2f115e(0xcf)](_0x2f115e(0x175))[_0x2f115e(0x1d9)](_0x2f115e(0x118),hideModalCreateItem),document[_0x2f115e(0xcf)](_0x2f115e(0x123))[_0x2f115e(0x1d9)](_0x2f115e(0x118),_0x4b8a80=>{var _0xd37f10=_0x2f115e;_0x4b8a80[_0xd37f10(0x196)]==_0x4b8a80['currentTarget']&&_0x4b8a80[_0xd37f10(0x149)]();});function loadTaxData(){var _0x311934=_0x2f115e;const _0x265e0a=document['getElementById'](_0x311934(0x1f2));_0x265e0a[_0x311934(0x1cf)]='',company[0x0][_0x311934(0x18a)][_0x311934(0x1c5)](function(_0x5d1bf8){var _0x155f6e=_0x311934;const _0x3b7993=document[_0x155f6e(0x1c1)]('option');_0x3b7993[_0x155f6e(0x1d6)]=_0x5d1bf8['setTaxId'],_0x3b7993['innerHTML']=_0x5d1bf8[_0x155f6e(0x1a9)]+'\x20('+_0x5d1bf8[_0x155f6e(0x128)]+'%)',_0x5d1bf8[_0x155f6e(0x1e0)]==company[0x0]['setTaxIdDefault']&&(_0x3b7993[_0x155f6e(0x100)]=!![]),_0x265e0a[_0x155f6e(0xfc)](_0x3b7993);});}function uniqueValuesArray(_0x400ed9,_0xe1e8f,_0x52e2cf){var _0x383ba0=_0x2f115e;const _0x19ce44=Array[_0x383ba0(0x12e)](new Set(_0x52e2cf[_0x383ba0(0x108)](_0x142942=>{var _0x34093e=_0x383ba0;const _0x2f0f2c=_0x142942[_0x400ed9];return typeof _0x2f0f2c==='string'?_0x2f0f2c[_0x34093e(0x12c)]():_0x2f0f2c;})[_0x383ba0(0x207)](_0x33e4f4=>_0x33e4f4!=null&&_0x33e4f4!=='')));return _0x19ce44[_0x383ba0(0x108)](_0x5b3cba=>{var _0x47fd50=_0x383ba0;const _0x4f66a1=_0x52e2cf['find'](_0x14921a=>_0x14921a[_0x400ed9]===_0x5b3cba),_0x19a33a=_0x4f66a1&&_0x4f66a1[_0xe1e8f]!=null?String(_0x4f66a1[_0xe1e8f])[_0x47fd50(0x12c)]():_0x5b3cba;return{'setCode':_0x5b3cba,'setName':_0x19a33a};});}function fillSelect(_0x2ade9b,_0x5c551f,_0x6be1be,_0x554fd0){var _0xf4bc05=_0x2f115e;_0x2ade9b[_0xf4bc05(0x1cf)]='',_0x5c551f['forEach'](function(_0x16d5e6){var _0x304545=_0xf4bc05,_0x39b87d=new Option(_0x16d5e6[_0x554fd0],_0x16d5e6[_0x6be1be]);_0x2ade9b[_0x304545(0x1dc)](_0x39b87d);});}function initMulti(_0x109d75,_0x164aa8){var _0x3548b3=_0x2f115e,_0x4c3ab5=document[_0x3548b3(0xcf)](_0x109d75),_0x449567=_0x4c3ab5[_0x3548b3(0x151)](_0x3548b3(0xbe)),_0x46f801=_0x4c3ab5[_0x3548b3(0x151)](_0x3548b3(0x119)),_0x201ad8=_0x4c3ab5[_0x3548b3(0x151)](_0x3548b3(0x13e)),_0x2ba474=_0x164aa8[_0x3548b3(0x1a4)](),_0x412981=[];let _0x2a0279=null,_0x5d8667=![];function _0x333507(){var _0x79ed61=_0x3548b3;const _0x395b59=_0x449567[_0x79ed61(0x1d6)][_0x79ed61(0x12c)]();if(!_0x395b59)return;const _0xad85f8=_0x2ba474[_0x79ed61(0x1cd)](_0x56c04b=>_0x56c04b[_0x79ed61(0xc1)][_0x79ed61(0x198)]()===_0x395b59[_0x79ed61(0x198)]());if(_0xad85f8)_0x412981[_0x79ed61(0x13a)](_0xad85f8),_0x2ba474[_0x79ed61(0x1e4)](_0x2ba474['findIndex'](_0x3cffe7=>_0x3cffe7[_0x79ed61(0x172)]===_0xad85f8[_0x79ed61(0x172)]),0x1);else{const _0x5c9fc3=_0x412981[_0x79ed61(0x1be)](_0x127b43=>_0x127b43[_0x79ed61(0xc1)]['toLowerCase']()===_0x395b59[_0x79ed61(0x198)]());!_0x5c9fc3&&_0x412981[_0x79ed61(0x13a)]({'setCode':_0x395b59,'setName':_0x395b59});}_0x374d54(),_0x2d418d(),_0x449567[_0x79ed61(0x1d6)]='';}function _0x2d418d(){var _0x25edb6=_0x3548b3;_0x46f801[_0x25edb6(0x1cf)]='',_0x2ba474['filter'](_0x4f5634=>_0x4f5634[_0x25edb6(0xc1)]['toLowerCase']()[_0x25edb6(0x155)](_0x449567[_0x25edb6(0x1d6)]['toLowerCase']()))[_0x25edb6(0x1a4)](0x0,0x14)[_0x25edb6(0x1c5)](_0x3e6d22=>{var _0x1e3878=_0x25edb6,_0x47af11=document['createElement'](_0x1e3878(0x146));_0x47af11[_0x1e3878(0x144)]=_0x3e6d22[_0x1e3878(0xc1)],_0x47af11['dataset'][_0x1e3878(0x19d)]=_0x3e6d22[_0x1e3878(0x172)],_0x46f801[_0x1e3878(0xfc)](_0x47af11),_0x47af11['addEventListener'](_0x1e3878(0x1b3),()=>_0x5d8667=!![]),_0x47af11[_0x1e3878(0x1d9)](_0x1e3878(0x118),function(){var _0x541d94=_0x1e3878;_0x5d8667=![],_0x412981[_0x541d94(0x13a)](_0x3e6d22),_0x2ba474[_0x541d94(0x1e4)](_0x2ba474[_0x541d94(0x107)](_0x393c53=>_0x393c53[_0x541d94(0x172)]===_0x3e6d22[_0x541d94(0x172)]),0x1),_0x449567['value']='',_0x374d54(),_0x2d418d();});});}function _0x374d54(){var _0x49bb87=_0x3548b3;_0x201ad8[_0x49bb87(0x1cf)]='',_0x412981[_0x49bb87(0x1c5)](_0x475f21=>{var _0x10f43b=_0x49bb87,_0x2a5240=document[_0x10f43b(0x1c1)](_0x10f43b(0x146));_0x2a5240[_0x10f43b(0x156)]=_0x10f43b(0xd3),_0x2a5240[_0x10f43b(0x144)]=_0x475f21[_0x10f43b(0xc1)];var _0x573ab0=document[_0x10f43b(0x1c1)](_0x10f43b(0x174));_0x573ab0[_0x10f43b(0x156)]=_0x10f43b(0x15b),_0x573ab0['textContent']='×',_0x573ab0[_0x10f43b(0x1d9)]('click',function(){var _0x4726ea=_0x10f43b;_0x2ba474[_0x4726ea(0x13a)](_0x475f21);const _0x1ee3b9=_0x412981[_0x4726ea(0x107)](_0x3cd3cc=>_0x3cd3cc[_0x4726ea(0x172)]===_0x475f21[_0x4726ea(0x172)]);if(_0x1ee3b9>-0x1)_0x412981[_0x4726ea(0x1e4)](_0x1ee3b9,0x1);_0x374d54(),_0x2d418d();}),_0x2a5240[_0x10f43b(0xfc)](_0x573ab0),_0x201ad8[_0x10f43b(0xfc)](_0x2a5240);}),_0x4c3ab5[_0x49bb87(0xdc)](new CustomEvent(_0x49bb87(0xcc),{'detail':_0x412981,'bubbles':!![]}));}return _0x449567[_0x3548b3(0x1d9)](_0x3548b3(0xc4),function(){var _0x1c9f57=_0x3548b3;_0x2a0279&&(clearTimeout(_0x2a0279),_0x2a0279=null),_0x46f801['classList']['remove'](_0x1c9f57(0xfd));}),_0x449567[_0x3548b3(0x1d9)](_0x3548b3(0x18d),_0x2d418d),_0x449567[_0x3548b3(0x1d9)](_0x3548b3(0x189),function(_0x5105a6){var _0x128737=_0x3548b3;_0x5105a6[_0x128737(0x163)]===_0x128737(0x208)&&(_0x5105a6[_0x128737(0x194)](),_0x333507());}),_0x449567[_0x3548b3(0x1d9)]('blur',function(){if(_0x5d8667)return;_0x2a0279=setTimeout(()=>{_0x333507(),_0x2a0279=null;},0xc8);}),document['addEventListener'](_0x3548b3(0x118),function(_0x1b885a){var _0x3d00fb=_0x3548b3;!_0x4c3ab5['contains'](_0x1b885a['target'])&&_0x46f801['classList']['add'](_0x3d00fb(0xfd));}),_0x2d418d(),_0x412981;}function getLastCode(_0x3b5a59){var _0x43d307=_0x2f115e;const _0x5741a5=_0x3b5a59[_0x43d307(0x108)](_0x5f4224=>String(_0x5f4224[_0x43d307(0x14a)])['trim']())[_0x43d307(0x207)](_0x275ddc=>_0x275ddc!=='');if(_0x5741a5[_0x43d307(0x1b9)]===0x0)return'';const _0x1fc239=_0x5741a5[_0x43d307(0x1eb)](_0x1e6da7=>/^\d+$/['test'](_0x1e6da7));if(_0x1fc239){const _0x2db92e=_0x5741a5[_0x43d307(0x108)](Number),_0x5ce73c=Math[_0x43d307(0x125)](..._0x2db92e);return String(_0x5ce73c);}let _0x190cba;if(typeof Intl!==_0x43d307(0x19b)&&Intl[_0x43d307(0x1de)]){const _0x1657ef=new Intl[(_0x43d307(0x1de))](undefined,{'numeric':!![],'sensitivity':_0x43d307(0x1c6)});_0x190cba=_0x5741a5[_0x43d307(0x1a4)]()['sort'](_0x1657ef[_0x43d307(0x1b1)]);}else{const _0x763413=_0x5741a5[_0x43d307(0x1eb)](_0x546401=>/^\d+$/[_0x43d307(0xe0)](_0x546401));_0x763413?_0x190cba=_0x5741a5[_0x43d307(0x108)](Number)[_0x43d307(0x11b)]((_0x26b77b,_0x2c24b2)=>_0x26b77b-_0x2c24b2)['map'](String):_0x190cba=_0x5741a5[_0x43d307(0x1a4)]()['sort']();}return _0x190cba[_0x190cba['length']-0x1];}function getNextCode(_0x10ad0e){var _0xa70977=_0x2f115e;const _0x2272e7=getLastCode(_0x10ad0e);if(!_0x2272e7)return'';if(/^\d+$/[_0xa70977(0xe0)](_0x2272e7))return String(Number(_0x2272e7)+0x1);const _0x356663=_0x2272e7['match'](/^([A-Za-z]*)(\d+)$/);if(_0x356663){const [,_0x2f346b,_0x2cb78b]=_0x356663,_0x4f31b6=String(Number(_0x2cb78b)+0x1)[_0xa70977(0x12d)](_0x2cb78b[_0xa70977(0x1b9)],'0');return _0x2f346b+_0x4f31b6;}return _0x2272e7;}document[_0x2f115e(0xcf)](_0x2f115e(0x136))[_0x2f115e(0x1d9)](_0x2f115e(0x18d),function(_0x50c70a){var _0xf0fda1=_0x2f115e;baseItem['setItemName']=_0x50c70a[_0xf0fda1(0x196)][_0xf0fda1(0x1d6)];}),document[_0x2f115e(0xcf)](_0x2f115e(0x157))[_0x2f115e(0x1d9)]('input',function(_0x4f2559){var _0x5718c5=_0x2f115e;baseItem[_0x5718c5(0x159)]=_0x4f2559[_0x5718c5(0x196)][_0x5718c5(0x1d6)];}),document[_0x2f115e(0xcf)](_0x2f115e(0x201))[_0x2f115e(0x1d9)](_0x2f115e(0x18d),function(_0x49c807){var _0x23bd4f=_0x2f115e;baseItem[_0x23bd4f(0x1b7)]=_0x49c807['target'][_0x23bd4f(0x1d6)];}),document[_0x2f115e(0xcf)](_0x2f115e(0x1ae))[_0x2f115e(0x1d9)](_0x2f115e(0x10b),function(_0x1451e1){var _0xba5f6e=_0x2f115e;baseItem[_0xba5f6e(0xbc)]=_0x1451e1[_0xba5f6e(0x196)]['value'];}),document[_0x2f115e(0xcf)](_0x2f115e(0x1f2))['addEventListener'](_0x2f115e(0x10b),function(_0x506c34){var _0x5593be=_0x2f115e;baseItem[_0x5593be(0x132)]=_0x506c34['target'][_0x5593be(0x1d6)];const _0x11e12f=_0x506c34['target'][_0x5593be(0x1d6)],_0x38f38a=company[0x0][_0x5593be(0x18a)][_0x5593be(0x1cd)](_0x106fa2=>_0x106fa2[_0x5593be(0x1e0)]==_0x11e12f)?.[_0x5593be(0x138)]||0x0,_0x466d91=company[0x0]['setImpuestos']['find'](_0x4e8bc5=>_0x4e8bc5[_0x5593be(0x1e0)]==_0x11e12f)?.[_0x5593be(0x128)]||0x0;baseItem[_0x5593be(0x116)]=_0x38f38a,baseItem[_0x5593be(0x10c)]=_0x466d91;}),document[_0x2f115e(0xcf)](_0x2f115e(0xd4))[_0x2f115e(0x1d9)](_0x2f115e(0x10b),function(_0xf20063){var _0x56b8ae=_0x2f115e;baseItem[_0x56b8ae(0xf2)]=_0xf20063[_0x56b8ae(0x196)][_0x56b8ae(0x135)];}),document['getElementById'](_0x2f115e(0x195))['addEventListener'](_0x2f115e(0x10b),function(_0x1212d4){var _0x4c858e=_0x2f115e;baseItem[_0x4c858e(0x150)]=_0x1212d4[_0x4c858e(0x196)]['checked'];}),document[_0x2f115e(0xcf)](_0x2f115e(0x1ea))[_0x2f115e(0x1d9)](_0x2f115e(0x18d),function(_0x13372a){var _0x89adae=_0x2f115e;baseItem[_0x89adae(0x168)]=_0x13372a[_0x89adae(0x196)][_0x89adae(0x1d6)];}),document['getElementById'](_0x2f115e(0x1df))[_0x2f115e(0x1d9)](_0x2f115e(0x18d),function(_0x507de5){var _0x1a387c=_0x2f115e;baseItem['setItemBarCode']=_0x507de5[_0x1a387c(0x196)]['value'];}),document[_0x2f115e(0xcf)](_0x2f115e(0x1e5))[_0x2f115e(0x1d9)]('click',function(){addUnit(),updateUnitsArray();}),document['getElementById']('inputItemCode')['addEventListener']('blur',function(){var _0x56a396=_0x2f115e;const _0x402558=this[_0x56a396(0x1d6)][_0x56a396(0x12c)]();if(_0x402558==='')return;const _0x436daa=products[_0x56a396(0x1be)](_0x3a0ee5=>_0x3a0ee5[_0x56a396(0x14a)]==_0x402558),_0x19e055=getLastCode(products);_0x436daa?ntfShow(_0x56a396(0x193)+_0x19e055,0x2,0x1):ntfShow(_0x56a396(0x1ad),0x1,0x1);});function removeImg(_0x2d86a2){var _0x3ec876=_0x2f115e;currentImages[_0x2d86a2]=null;var _0x4b235c=imgC[_0x3ec876(0x151)](_0x3ec876(0x15a)+_0x2d86a2+'\x22]');_0x4b235c[_0x3ec876(0x1cf)]='';var _0x48be0f=document[_0x3ec876(0x1c1)](_0x3ec876(0x18d));_0x48be0f[_0x3ec876(0x1fa)]=_0x3ec876(0x1a5),_0x48be0f[_0x3ec876(0xea)]=_0x3ec876(0x122),_0x48be0f[_0x3ec876(0x178)][_0x3ec876(0x11c)]=_0x3ec876(0xe8);var _0x1e37bf=document[_0x3ec876(0x1c1)](_0x3ec876(0x174));_0x1e37bf[_0x3ec876(0x144)]='+',_0x4b235c[_0x3ec876(0xfc)](_0x48be0f),_0x4b235c['appendChild'](_0x1e37bf),_0x4b235c['addEventListener'](_0x3ec876(0x118),function(){var _0x15ce68=_0x3ec876;_0x48be0f[_0x15ce68(0x118)]();}),baseItem[_0x3ec876(0xe6)]=currentImages[_0x3ec876(0x207)](function(_0x3c288a){return _0x3c288a;});}function _0x1c67(_0x2a6d7c,_0x33e279){var _0x14c5b8=_0x186f();return _0x1c67=function(_0x314ed0,_0x2639f8){_0x314ed0=_0x314ed0-0xbb;var _0x591a14=_0x14c5b8[_0x314ed0];return _0x591a14;},_0x1c67(_0x2a6d7c,_0x33e279);}function addUnit(_0x3a261e,_0x54736d,_0x3aab6d,_0x12566b,_0x5cb412,_0x4b8fa2,_0x24ddd6){var _0x3dac05=_0x2f115e,_0x49a8b0=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x3dac05(0xe4)]);_0x3a261e=_0x3a261e||'',_0x54736d=_0x54736d||_0x49a8b0[0x3a]&&_0x49a8b0[0x3a][_0x3dac05(0x172)]||'',_0x3aab6d=_0x3aab6d!==undefined?_0x3aab6d:0x1,_0x12566b=!!_0x12566b,_0x5cb412=_0x5cb412||'',_0x4b8fa2=_0x4b8fa2||'';var _0x232a68=unitCount++,_0x77cfb9=document['createElement']('div');_0x77cfb9[_0x3dac05(0x1f1)][_0x3dac05(0x152)]=_0x232a68,_0x77cfb9[_0x3dac05(0x1f1)][_0x3dac05(0xef)]=_0x12566b,_0x77cfb9[_0x3dac05(0x1cf)]=_0x3dac05(0xd5)+_0x232a68+_0x3dac05(0xd0)+_0x3a261e+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x232a68+_0x3dac05(0x1c3)+_0x232a68+_0x3dac05(0xd0)+_0x3aab6d+'\x22\x20'+(_0x12566b?_0x3dac05(0x1fc):'')+_0x3dac05(0xc3)+_0x232a68+_0x3dac05(0xd0)+_0x5cb412+_0x3dac05(0x16c)+_0x232a68+_0x3dac05(0xd0)+_0x4b8fa2+_0x3dac05(0x18f)+(_0x12566b?_0x3dac05(0xf6):'')+_0x3dac05(0x188),fillSelect(_0x77cfb9[_0x3dac05(0x151)](_0x3dac05(0x1d0)),_0x49a8b0,'setCode',_0x3dac05(0xc1)),_0x77cfb9[_0x3dac05(0x151)](_0x3dac05(0x1d0))[_0x3dac05(0x1d6)]=_0x54736d,[_0x3dac05(0x129),'unitSelect','eqInput','priceInput',_0x3dac05(0x14d)]['forEach'](function(_0x331275){_0x77cfb9['querySelector']('.'+_0x331275)['addEventListener']('input',function(){var _0x56a296=_0x24ddd6?+_0x24ddd6['id']['split']('_')[0x1]:null;if(_0x24ddd6)updateVariantUnits(_0x56a296);else updateUnitsArray();});}),_0x77cfb9['querySelector'](_0x3dac05(0xe9))[_0x3dac05(0x1d9)]('click',function(){var _0x32d7b7=_0x3dac05;_0x77cfb9[_0x32d7b7(0xca)]();var _0x337c10=_0x24ddd6?+_0x24ddd6['id']['split']('_')[0x1]:null;if(_0x24ddd6)updateVariantUnits(_0x337c10);else updateUnitsArray();});var _0x103e58=_0x24ddd6||document[_0x3dac05(0xcf)](_0x3dac05(0x1d5));_0x103e58[_0x3dac05(0xfc)](_0x77cfb9);}function containerIdx(_0x13af2b){return+_0x13af2b['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x1e2a7e=_0x2f115e,_0x2595af=[],_0x594b3a=Array[_0x1e2a7e(0x12e)](document['querySelectorAll'](_0x1e2a7e(0xe3))),_0x361d4b=_0x594b3a[_0x1e2a7e(0x1cd)](_0x413136=>_0x413136[_0x1e2a7e(0x1f1)][_0x1e2a7e(0xef)]==='true'),_0xfae7e7=_0x361d4b?+_0x361d4b['querySelector'](_0x1e2a7e(0xbb))[_0x1e2a7e(0x1d6)]:0x1;_0x594b3a[_0x1e2a7e(0x1c5)](function(_0x40f861){var _0x17cb21=_0x1e2a7e,_0x5a7be4=+_0x40f861[_0x17cb21(0x151)]('.eqInput')[_0x17cb21(0x1d6)]||0x0,_0x4714a2=+_0x40f861['querySelector'](_0x17cb21(0x103))[_0x17cb21(0x1d6)]||0x0,_0x3a9f3e=+_0x40f861[_0x17cb21(0x151)](_0x17cb21(0x158))[_0x17cb21(0x1d6)]||0x0;_0x2595af[_0x17cb21(0x13a)]({'setAlias':_0x40f861[_0x17cb21(0x151)]('.unitAlias')[_0x17cb21(0x1d6)][_0x17cb21(0x12c)](),'setUnitCode':_0x40f861[_0x17cb21(0x151)](_0x17cb21(0x1d0))[_0x17cb21(0x1d6)],'setEquivalence':_0x5a7be4,'setFactor':_0x40f861[_0x17cb21(0x1f1)][_0x17cb21(0xef)]===_0x17cb21(0x1ac)?0x1:_0x5a7be4==_0xfae7e7?0x1:_0x5a7be4<_0xfae7e7?_0xfae7e7/_0x5a7be4:_0x5a7be4/_0xfae7e7,'setPrice':_0x4714a2,'setCost':_0x3a9f3e,'setDefault':_0x40f861[_0x17cb21(0x1f1)][_0x17cb21(0xef)]==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x2595af;}function updateBranches(){var _0x56e6c2=_0x2f115e,_0x55a90f=[];document[_0x56e6c2(0x191)](_0x56e6c2(0x167))[_0x56e6c2(0x1c5)](function(_0x26a239){var _0x9c6e1b=_0x56e6c2,_0x45bd64=_0x26a239[_0x9c6e1b(0x151)](_0x9c6e1b(0x197));if(_0x45bd64[_0x9c6e1b(0x135)]){var _0x4b9553=+_0x45bd64[_0x9c6e1b(0x1f1)]['id'],_0x1e9180=+_0x26a239['querySelector'](_0x9c6e1b(0x105))[_0x9c6e1b(0x1d6)],_0x6c668a=+_0x26a239[_0x9c6e1b(0x151)](_0x9c6e1b(0x1d7))['value'];_0x55a90f[_0x9c6e1b(0x13a)]({'setWarehouseCode':_0x4b9553,'setStockInitial':_0x1e9180,'setStockMinimum':_0x6c668a});}}),baseItem['setItemWarehouses']=_0x55a90f;}document[_0x2f115e(0xcf)](_0x2f115e(0x115))['addEventListener'](_0x2f115e(0x118),function(){var _0x1f392d=_0x2f115e,_0x3ba03b=Date[_0x1f392d(0x1d1)](),_0x458f63=document['createElement']('div');_0x458f63[_0x1f392d(0x1f1)][_0x1f392d(0x152)]=_0x3ba03b,_0x458f63['innerHTML']=_0x1f392d(0xf3)+_0x3ba03b+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x3ba03b+_0x1f392d(0x199),prodC[_0x1f392d(0xfc)](_0x458f63),initProdSearch(_0x458f63[_0x1f392d(0x151)](_0x1f392d(0x16b))),_0x458f63['querySelector'](_0x1f392d(0x1c8))[_0x1f392d(0x1d9)]('click',function(){var _0x137ff1=_0x1f392d;_0x458f63[_0x137ff1(0xca)](),updateProdItems();}),_0x458f63[_0x1f392d(0x151)](_0x1f392d(0x1bf))[_0x1f392d(0x1d9)](_0x1f392d(0x18d),updateProdItems),document[_0x1f392d(0xcf)](_0x1f392d(0x1ce))['classList'][_0x1f392d(0x1d4)](_0x1f392d(0xce),!![]),document['getElementById'](_0x1f392d(0x1ce))[_0x1f392d(0x166)]['toggle'](_0x1f392d(0xfd),![]);});function initProdSearch(_0x3111f7,_0x35037c){var _0x1c0c6c=_0x2f115e,_0x29234b=_0x3111f7['querySelector'](_0x1c0c6c(0x160)),_0x10e28a=_0x3111f7[_0x1c0c6c(0x151)](_0x1c0c6c(0x119)),_0x22dceb=_0x35037c||null;if(_0x35037c)_0x29234b['value']=_0x35037c[_0x1c0c6c(0xc0)];_0x29234b['addEventListener'](_0x1c0c6c(0x18d),function(){var _0x9b635d=_0x1c0c6c,_0x344223=_0x29234b[_0x9b635d(0x1d6)][_0x9b635d(0x198)]()[_0x9b635d(0x12c)]();_0x10e28a[_0x9b635d(0x1cf)]='';if(!_0x344223)return;products[_0x9b635d(0x207)](_0x37dd07=>_0x37dd07[_0x9b635d(0x1db)][_0x9b635d(0x198)]()['includes'](_0x344223))[_0x9b635d(0x1a4)](0x0,0x14)[_0x9b635d(0x1c5)](function(_0x40fc6f){var _0xba67d6=_0x9b635d,_0x36e75c=document[_0xba67d6(0x1c1)]('div');_0x36e75c['textContent']=_0x40fc6f[_0xba67d6(0x1db)],_0x36e75c['dataset']['id']=_0x40fc6f['id'],_0x36e75c[_0xba67d6(0x1f1)][_0xba67d6(0xc0)]=_0x40fc6f[_0xba67d6(0x1db)],_0x10e28a['appendChild'](_0x36e75c),_0x36e75c['addEventListener'](_0xba67d6(0x118),function(){var _0x583292=_0xba67d6;_0x22dceb={'id':_0x40fc6f['id'],'name':_0x40fc6f['setDescripcion']},_0x29234b['value']=_0x40fc6f[_0x583292(0x1db)],_0x10e28a[_0x583292(0x1cf)]='';var _0x33dbf4=_0x3111f7[_0x583292(0x1f3)](_0x583292(0x169));if(_0x33dbf4){var _0x5f2c87=+_0x33dbf4['id'][_0x583292(0x176)]('_')[0x1];updateVariantComponents(_0x5f2c87);}else updateProdItems();});});}),_0x29234b[_0x1c0c6c(0x1d9)](_0x1c0c6c(0xc4),function(){var _0x3b33be=_0x1c0c6c;_0x10e28a[_0x3b33be(0x166)][_0x3b33be(0xca)](_0x3b33be(0xfd));}),document[_0x1c0c6c(0x1d9)](_0x1c0c6c(0x118),function(_0x5c30fe){var _0x31fa48=_0x1c0c6c;if(!_0x3111f7['contains'](_0x5c30fe[_0x31fa48(0x196)]))_0x10e28a['classList'][_0x31fa48(0x1dc)](_0x31fa48(0xfd));}),Object[_0x1c0c6c(0x1aa)](_0x3111f7,_0x1c0c6c(0x1ab),{'get':()=>_0x22dceb});}function updateProdItems(){var _0x5a9777=_0x2f115e,_0x5422cb=[];Array[_0x5a9777(0x12e)](prodC[_0x5a9777(0x1fe)])[_0x5a9777(0x1c5)](function(_0x435eef){var _0x12b11a=_0x5a9777,_0x1e72ab=_0x435eef[_0x12b11a(0x151)]('.prod_input_container');if(!_0x1e72ab)return;var _0xe50116=_0x435eef[_0x12b11a(0x151)](_0x12b11a(0x1bf)),_0x540895=_0x1e72ab['selectedItem'];_0x540895&&_0x5422cb[_0x12b11a(0x13a)]({'setItemId':_0x540895['id'],'setDescripcion':_0x540895[_0x12b11a(0xc0)],'setCantidad':+_0xe50116['value']});}),baseItem['setItemComponents']=_0x5422cb,_0x5422cb[_0x5a9777(0x1b9)]===0x0&&(document[_0x5a9777(0xcf)](_0x5a9777(0x1ce))[_0x5a9777(0x166)][_0x5a9777(0x1d4)](_0x5a9777(0xce),![]),document[_0x5a9777(0xcf)](_0x5a9777(0x1ce))[_0x5a9777(0x166)][_0x5a9777(0x1d4)](_0x5a9777(0xfd),!![]));}document[_0x2f115e(0xcf)](_0x2f115e(0x202))[_0x2f115e(0x1d9)]('click',function(){var _0x27c1e1=_0x2f115e,_0x156ab5=vgCount++,_0x480c65=document[_0x27c1e1(0x1c1)](_0x27c1e1(0x146));_0x480c65[_0x27c1e1(0x1f1)][_0x27c1e1(0x152)]=_0x156ab5,_0x480c65[_0x27c1e1(0x1cf)]=_0x27c1e1(0x106)+_0x156ab5+'\x22>'+_0x27c1e1(0xe2)+_0x156ab5+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x27c1e1(0xfc)](_0x480c65),_0x480c65[_0x27c1e1(0x151)](_0x27c1e1(0x145))[_0x27c1e1(0x1d9)](_0x27c1e1(0x18b),generateVariants),_0x480c65['querySelector'](_0x27c1e1(0xdb))[_0x27c1e1(0x1d9)](_0x27c1e1(0x18b),generateVariants),_0x480c65['querySelector']('.removeGroup')[_0x27c1e1(0x1d9)](_0x27c1e1(0x118),function(){var _0x5438bd=_0x27c1e1;_0x480c65[_0x5438bd(0xca)](),generateVariants();});});function generateVariants(){var _0x43be3f=_0x2f115e,_0x18e97c=[];vgC[_0x43be3f(0x191)](_0x43be3f(0x146))[_0x43be3f(0x1c5)](function(_0x188dbd){var _0x45a5bc=_0x43be3f,_0x1f1f9d=_0x188dbd[_0x45a5bc(0x151)](_0x45a5bc(0x145))['value'][_0x45a5bc(0x12c)](),_0x575bd9=_0x188dbd[_0x45a5bc(0x151)](_0x45a5bc(0xdb))[_0x45a5bc(0x1d6)][_0x45a5bc(0x176)](',')['map'](_0x2d2454=>_0x2d2454['trim']())[_0x45a5bc(0x207)](_0xb2986d=>_0xb2986d);if(_0x1f1f9d&&_0x575bd9[_0x45a5bc(0x1b9)])_0x18e97c[_0x45a5bc(0x13a)]({'name':_0x1f1f9d,'vals':_0x575bd9});});var _0x2f4209=[{}];_0x18e97c[_0x43be3f(0x1c5)](function(_0x236059){var _0x38270f=_0x43be3f;_0x2f4209=_0x2f4209[_0x38270f(0xd7)](function(_0x1898d0){var _0x2ce4a8=_0x38270f;return _0x236059['vals'][_0x2ce4a8(0x108)](function(_0x3e7172){var _0x1077b6=Object['assign']({},_0x1898d0);return _0x1077b6[_0x236059['name']]=_0x3e7172,_0x1077b6;});});}),newItems=[],varContainer[_0x43be3f(0x1cf)]='',_0x2f4209[_0x43be3f(0x1c5)](function(_0x3bb0c9,_0x3059c3){var _0x34abed=_0x43be3f,_0x100d52=JSON['parse'](JSON[_0x34abed(0x1f0)](baseItem));_0x100d52[_0x34abed(0xdd)]=_0x3bb0c9,_0x100d52[_0x34abed(0xd2)]=baseItem[_0x34abed(0x14f)]+'\x20'+Object[_0x34abed(0x1bc)](_0x3bb0c9)[_0x34abed(0x108)](_0x4403b3=>_0x4403b3[0x0]+'\x20'+_0x4403b3[0x1])['join']('\x20'),newItems[_0x34abed(0x13a)](_0x100d52);var _0x2262bb=document[_0x34abed(0x1c1)](_0x34abed(0x146));_0x2262bb['classList'][_0x34abed(0x1dc)](_0x34abed(0xfb)),_0x2262bb['dataset'][_0x34abed(0x152)]=_0x3059c3,_0x2262bb[_0x34abed(0x1cf)]=_0x34abed(0x1c9)+_0x100d52[_0x34abed(0xd2)]+_0x34abed(0x137)+_0x100d52[_0x34abed(0x168)]+_0x34abed(0x184)+_0x100d52[_0x34abed(0x19e)]+_0x34abed(0x126)+_0x100d52[_0x34abed(0x1b7)]+_0x34abed(0x111)+_0x3059c3+_0x34abed(0x203)+_0x3059c3+_0x34abed(0xee)+_0x3059c3+_0x34abed(0x1c0),varContainer['appendChild'](_0x2262bb),_0x2262bb['querySelector'](_0x34abed(0x139))[_0x34abed(0x1d9)](_0x34abed(0x18d),_0x34863f=>newItems[_0x3059c3][_0x34abed(0x168)]=_0x34863f['target']['value']),_0x2262bb[_0x34abed(0x151)]('.variantBarCode')['addEventListener'](_0x34abed(0x18d),_0x48f6e9=>newItems[_0x3059c3]['setItemBarCode']=_0x48f6e9[_0x34abed(0x196)][_0x34abed(0x1d6)]),_0x2262bb[_0x34abed(0x151)](_0x34abed(0x1a3))['addEventListener'](_0x34abed(0x10b),_0x12547b=>newItems[_0x3059c3][_0x34abed(0x1b7)]=_0x12547b[_0x34abed(0x196)][_0x34abed(0x1d6)]),initVariantUnits(_0x3059c3),initVariantComponents(_0x3059c3),initVariantBranches(_0x3059c3),_0x2262bb[_0x34abed(0x151)](_0x34abed(0x1ff))[_0x34abed(0x1d9)](_0x34abed(0x118),function(){var _0x507fa6=_0x34abed,_0x1e0cd3=+_0x2262bb[_0x507fa6(0x1f1)]['idx'];newItems[_0x507fa6(0x1e4)](_0x1e0cd3,0x1),_0x2262bb[_0x507fa6(0xca)](),document[_0x507fa6(0x191)](_0x507fa6(0x1c2))[_0x507fa6(0x1c5)](function(_0x16df0f,_0x373e5f){var _0x5abf23=_0x507fa6;_0x16df0f['dataset'][_0x5abf23(0x152)]=_0x373e5f;});});});if(newItems[_0x43be3f(0x1b9)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3f80b0){var _0x40e30a=_0x2f115e,_0x4940cf=document['getElementById'](_0x40e30a(0x11a)+_0x3f80b0+_0x40e30a(0x1e1)),_0x2e1727=[];Array[_0x40e30a(0x12e)](_0x4940cf[_0x40e30a(0x1fe)])[_0x40e30a(0x1c5)](function(_0x224945){var _0x28f859=_0x40e30a,_0x358bd0=+_0x224945[_0x28f859(0x151)](_0x28f859(0xbb))['value']||0x0,_0x16dd1d=_0x224945[_0x28f859(0x151)]('.unitAlias')['value'][_0x28f859(0x12c)](),_0x1a592c=_0x224945[_0x28f859(0x151)]('.unitSelect')[_0x28f859(0x1d6)],_0x1b171c=+_0x224945[_0x28f859(0x151)]('.priceInput')[_0x28f859(0x1d6)]||0x0,_0x4ff11f=+_0x224945[_0x28f859(0x151)]('.costInput')[_0x28f859(0x1d6)]||0x0,_0x573701=_0x224945[_0x28f859(0x1f1)]['default']==='true',_0x172248=+_0x4940cf[_0x28f859(0x151)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x28f859(0x1d6)]||0x1,_0x306d2f=_0x573701?0x1:_0x358bd0==_0x172248?0x1:_0x358bd0<_0x172248?_0x172248/_0x358bd0:_0x358bd0/_0x172248;_0x2e1727[_0x28f859(0x13a)]({'setAlias':_0x16dd1d,'setUnitCode':_0x1a592c,'setEquivalence':_0x358bd0,'setFactor':_0x306d2f,'setPrice':_0x1b171c,'setCost':_0x4ff11f,'setDefault':_0x573701?0x1:0x0});}),newItems[_0x3f80b0][_0x40e30a(0x1fb)]=_0x2e1727;}function initVariantUnits(_0x14336b){var _0x301011=_0x2f115e,_0x2386e3=document[_0x301011(0xcf)](_0x301011(0x11a)+_0x14336b+'_units_container');_0x2386e3[_0x301011(0x1cf)]='',newItems[_0x14336b]['setItemUnits']['forEach'](function(_0x266aef){var _0x3dbfb2=_0x301011;addUnit(_0x266aef[_0x3dbfb2(0x109)],_0x266aef[_0x3dbfb2(0x15f)],_0x266aef[_0x3dbfb2(0x10f)],_0x266aef['setDefault'],_0x266aef[_0x3dbfb2(0x1bb)],_0x266aef[_0x3dbfb2(0x1e6)],_0x2386e3);}),_0x2386e3[_0x301011(0xf7)]['querySelector'](_0x301011(0x131))[_0x301011(0x1d9)]('click',function(){addUnit('','',0x1,![],'','',_0x2386e3),updateVariantUnits(_0x14336b);});}function updateVariantUnits(_0xb223c4){var _0x141bc2=_0x2f115e,_0x19f4d2=document[_0x141bc2(0xcf)](_0x141bc2(0x11a)+_0xb223c4+_0x141bc2(0x1e1)),_0x2af539=_0x19f4d2[_0x141bc2(0x151)](_0x141bc2(0x1b6)),_0x20a6b7=_0x2af539?+_0x2af539[_0x141bc2(0x1d6)]:0x1,_0x5e83ed=Array[_0x141bc2(0x12e)](_0x19f4d2['children'])[_0x141bc2(0x108)](function(_0x3013ac){var _0x8191e=_0x141bc2,_0x3cbb57=_0x3013ac[_0x8191e(0x151)](_0x8191e(0xf0))[_0x8191e(0x1d6)][_0x8191e(0x12c)](),_0x5e9584=_0x3013ac[_0x8191e(0x151)](_0x8191e(0x1d0))[_0x8191e(0x1d6)],_0x285b42=+_0x3013ac['querySelector'](_0x8191e(0xbb))[_0x8191e(0x1d6)]||0x0,_0x44be92=+_0x3013ac['querySelector'](_0x8191e(0x103))[_0x8191e(0x1d6)]||0x0,_0x583965=+_0x3013ac[_0x8191e(0x151)](_0x8191e(0x158))[_0x8191e(0x1d6)]||0x0,_0x4fbecf=_0x3013ac[_0x8191e(0x1f1)][_0x8191e(0xef)]===_0x8191e(0x1ac);return{'setAlias':_0x3cbb57,'setUnitCode':_0x5e9584,'setEquivalence':_0x285b42,'setFactor':_0x4fbecf?0x1:_0x285b42==_0x20a6b7?0x1:_0x285b42<_0x20a6b7?_0x20a6b7/_0x285b42:_0x285b42/_0x20a6b7,'setPrice':_0x44be92,'setCost':_0x583965,'setDefault':_0x4fbecf?0x1:0x0};});newItems[_0xb223c4][_0x141bc2(0x1fb)]=_0x5e83ed;}function initVariantComponents(_0x3b922f){var _0x188d4e=_0x2f115e,_0x3f6c37=document[_0x188d4e(0xcf)](_0x188d4e(0x11a)+_0x3b922f+_0x188d4e(0x16a));_0x3f6c37[_0x188d4e(0x1cf)]='',newItems[_0x3b922f][_0x188d4e(0xf8)][_0x188d4e(0x1c5)](function(_0x48706a){var _0x35c993=_0x188d4e,_0x541bd7=document[_0x35c993(0x1c1)](_0x35c993(0x146)),_0x195873=Date[_0x35c993(0x1d1)]();_0x541bd7[_0x35c993(0x1f1)][_0x35c993(0x152)]=_0x195873,_0x541bd7[_0x35c993(0x1cf)]=_0x35c993(0xdf)+_0x195873+_0x35c993(0x186)+_0x48706a[_0x35c993(0x165)]+_0x35c993(0x17a),_0x3f6c37[_0x35c993(0xfc)](_0x541bd7),initProdSearch(_0x541bd7['querySelector'](_0x35c993(0x16b)),{'id':_0x48706a[_0x35c993(0xc9)],'name':_0x48706a[_0x35c993(0x1db)]}),_0x541bd7[_0x35c993(0x151)](_0x35c993(0x1bf))[_0x35c993(0x1d9)]('input',function(){updateVariantComponents(_0x3b922f);}),_0x541bd7[_0x35c993(0x151)](_0x35c993(0x183))[_0x35c993(0x1d9)](_0x35c993(0x118),function(){var _0x13c7ae=_0x35c993;_0x541bd7[_0x13c7ae(0xca)](),updateVariantComponents(_0x3b922f);});}),_0x3f6c37[_0x188d4e(0xf7)][_0x188d4e(0x151)](_0x188d4e(0xc2))[_0x188d4e(0x1d9)](_0x188d4e(0x118),function(){var _0x5816f8=_0x188d4e,_0x899411=document[_0x5816f8(0x1c1)](_0x5816f8(0x146)),_0x54f922=Date[_0x5816f8(0x1d1)]();_0x899411['dataset'][_0x5816f8(0x152)]=_0x54f922,_0x899411[_0x5816f8(0x1cf)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x54f922+_0x5816f8(0x148),_0x3f6c37[_0x5816f8(0xfc)](_0x899411),initProdSearch(_0x899411[_0x5816f8(0x151)](_0x5816f8(0x16b))),_0x899411[_0x5816f8(0x151)](_0x5816f8(0x1bf))['addEventListener'](_0x5816f8(0x18d),function(){updateVariantComponents(_0x3b922f);}),_0x899411['querySelector']('.removeCombo')[_0x5816f8(0x1d9)](_0x5816f8(0x118),function(){var _0x4fdcb2=_0x5816f8;_0x899411[_0x4fdcb2(0xca)](),updateVariantComponents(_0x3b922f);});});}function updateVariantComponents(_0x82f31f){var _0x4a3efc=_0x2f115e,_0x20d338=document[_0x4a3efc(0xcf)](_0x4a3efc(0x11a)+_0x82f31f+_0x4a3efc(0x16a)),_0x1330a6=Array[_0x4a3efc(0x12e)](_0x20d338[_0x4a3efc(0x1fe)])[_0x4a3efc(0x108)](function(_0x31f884){var _0x1d4f1f=_0x4a3efc,_0x6c9dbf=_0x31f884[_0x1d4f1f(0x151)]('.prod_input_container'),_0x40662c=_0x6c9dbf[_0x1d4f1f(0x1ab)],_0x4661e9=+_0x31f884[_0x1d4f1f(0x151)](_0x1d4f1f(0x1bf))[_0x1d4f1f(0x1d6)]||0x0;return _0x40662c?{'setItemId':_0x40662c['id'],'setDescripcion':_0x40662c[_0x1d4f1f(0xc0)],'setCantidad':_0x4661e9}:null;})[_0x4a3efc(0x207)](_0x777bfb=>_0x777bfb);newItems[_0x82f31f][_0x4a3efc(0xf8)]=_0x1330a6;}function initVariantBranches(_0x1a1658){var _0x24708b=_0x2f115e;const _0x498073=getAllWarehouses();var _0x3d0f1b=document[_0x24708b(0xcf)](_0x24708b(0x11a)+_0x1a1658+_0x24708b(0x141));_0x3d0f1b['innerHTML']='',newItems[_0x1a1658][_0x24708b(0x117)][_0x24708b(0x1c5)](function(_0x551b75){var _0xbf112a=_0x24708b,_0x477b07=_0x498073[_0xbf112a(0x1cd)](_0x428e17=>_0x428e17[_0xbf112a(0x1ef)]==_0x551b75[_0xbf112a(0xd6)]),_0x589bb6=document[_0xbf112a(0x1c1)](_0xbf112a(0x146));_0x589bb6[_0xbf112a(0x1cf)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x551b75[_0xbf112a(0xd6)]+_0xbf112a(0x1e3)+_0x477b07['setWarehouseName']+_0xbf112a(0x104)+_0x551b75[_0xbf112a(0xd6)]+_0xbf112a(0xd0)+_0x551b75[_0xbf112a(0x1c7)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x551b75[_0xbf112a(0xd6)]+_0xbf112a(0xd0)+_0x551b75[_0xbf112a(0x14b)]+'\x22>',_0x3d0f1b[_0xbf112a(0xfc)](_0x589bb6),_0x589bb6[_0xbf112a(0x191)]('input')['forEach'](function(_0x943a26){var _0x53996a=_0xbf112a;_0x943a26['addEventListener'](_0x53996a(0x18d),function(){updateVariantBranches(_0x1a1658);});});}),_0x498073[_0x24708b(0x1c5)](function(_0x1d5124){var _0x2fbb7a=_0x24708b;if(!newItems[_0x1a1658]['setItemWarehouses']['find'](_0x266cf3=>_0x266cf3[_0x2fbb7a(0xd6)]===_0x1d5124[_0x2fbb7a(0x1ef)])){var _0x1b6f4b=document[_0x2fbb7a(0x1c1)](_0x2fbb7a(0x146));_0x1b6f4b['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x1d5124[_0x2fbb7a(0x1ef)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x1d5124[_0x2fbb7a(0x209)]+_0x2fbb7a(0x104)+_0x1d5124['setWarehouseId']+_0x2fbb7a(0xf9)+_0x1d5124['setWarehouseId']+'\x22>',_0x3d0f1b['appendChild'](_0x1b6f4b),_0x1b6f4b[_0x2fbb7a(0x191)]('input')[_0x2fbb7a(0x1c5)](function(_0x2296fd){var _0x933303=_0x2fbb7a;_0x2296fd[_0x933303(0x1d9)](_0x933303(0x18d),function(){updateVariantBranches(_0x1a1658);});});}});}function updateVariantBranches(_0x33175a){var _0x379d73=_0x2f115e,_0x1a10c9=document[_0x379d73(0xcf)](_0x379d73(0x11a)+_0x33175a+_0x379d73(0x141)),_0x7dd56=[];_0x1a10c9[_0x379d73(0x191)](_0x379d73(0x146))[_0x379d73(0x1c5)](function(_0x1c7175){var _0x550728=_0x379d73,_0x3ab023=_0x1c7175['querySelector'](_0x550728(0x197));if(_0x3ab023[_0x550728(0x135)]){var _0x4f2462=+_0x3ab023['dataset']['id'],_0x320d6b=+_0x1c7175[_0x550728(0x151)](_0x550728(0x105))[_0x550728(0x1d6)]||0x0,_0x3bc7f6=+_0x1c7175[_0x550728(0x151)](_0x550728(0x1d7))[_0x550728(0x1d6)]||0x0;_0x7dd56[_0x550728(0x13a)]({'setWarehouseCode':_0x4f2462,'setStockInitial':_0x320d6b,'setStockMinimum':_0x3bc7f6});}}),newItems[_0x33175a][_0x379d73(0x117)]=_0x7dd56;}async function storeOfflineProduct(_0x501905){var _0xeee92d=_0x2f115e;try{const _0xfe6a90=await createCartStore(''),_0x2d8c35=_0xfe6a90['transaction']('offline_operations','readwrite'),_0x12f105=_0x2d8c35[_0xeee92d(0x16f)](_0xeee92d(0x162));_0x12f105['add'](_0x501905),_0x2d8c35[_0xeee92d(0x12a)]=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x2d8c35['onerror']=_0x1b1586=>{var _0x45a199=_0xeee92d;console['error'](_0x45a199(0x181),_0x1b1586['target']['error']);};}catch(_0x2a01e7){console[_0xeee92d(0xde)](_0xeee92d(0x206),_0x2a01e7);}}document['getElementById']('btnItemSave')[_0x2f115e(0x1d9)]('click',async function(_0x3907de){var _0x5f2756=_0x2f115e;_0x3907de[_0x5f2756(0x194)]();const _0x7047ba=document[_0x5f2756(0xcf)](_0x5f2756(0x1ea)),_0x39161f=document['getElementById']('setItemFree')[_0x5f2756(0x1d6)];if(!_0x7047ba[_0x5f2756(0x1d6)][_0x5f2756(0x12c)]()&&_0x39161f==0x0){ntfShow(_0x5f2756(0x1a1),0x2,0x1);return;}_0x39161f==0x1&&(_0x7047ba[_0x5f2756(0x1d6)]='',baseItem[_0x5f2756(0x168)]='');const _0x3e6ee6=document[_0x5f2756(0xcf)]('inputItemName');if(!_0x3e6ee6[_0x5f2756(0x1d6)][_0x5f2756(0x12c)]()){ntfShow(_0x5f2756(0x11f),0x2,0x1);return;}const _0xb1283b=document['getElementById'](_0x5f2756(0x18e));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x2b018e=document[_0x5f2756(0xcf)](_0x5f2756(0x10a))[_0x5f2756(0x1d6)],_0x369cc4=window_options[_0x2b018e][_0x5f2756(0xd8)],_0x175657=[];newItems['forEach'](_0x11f977=>{var _0x2ad667=_0x5f2756;const _0x33531e=generateNumericUniqId();_0x11f977['setItemUnits'][_0x2ad667(0x1c5)](_0x2db4b8=>{var _0x1042a5=_0x2ad667;const _0x28c012=generateNumericUniqId();_0x2db4b8['setItemUnitId']=_0x28c012;const _0x324bdd={'id':_0x28c012,'setIdProducto':_0x33531e,'setCodProducto':_0x11f977[_0x1042a5(0x168)],'setDescripcion':_0x11f977[_0x1042a5(0x14f)],'setItemDescription':_0x11f977[_0x1042a5(0x159)],'setBatchExpirationDate':_0x11f977[_0x1042a5(0x1b7)],'setBatchName':'','setCategoria':_0x11f977['setItemCategories'][0x0]||'','setMarca':_0x11f977[_0x1042a5(0x1f8)][0x0]||'','setConversionFactor':parseFloat(_0x2db4b8[_0x1042a5(0xff)]),'setImages':[],'setImg':_0x1042a5(0x1f6),'setInventariable':0x1,'setItemIsBought':_0x11f977[_0x1042a5(0xf2)]?0x1:0x0,'setItemIsSold':_0x11f977[_0x1042a5(0x150)]?0x1:0x0,'setPorcentajeIgv':_0x11f977['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x11f977[_0x1042a5(0x132)],'setTipAfeIgv':_0x11f977[_0x1042a5(0x116)],'setUnidad':_0x2db4b8['setUnitCode'],'setUnidadCodigo':_0x2db4b8[_0x1042a5(0x15f)],'setItemUnitAlias':_0x2db4b8[_0x1042a5(0x109)],'currency_data':[{'currency':_0x369cc4,'setMtoPrecioCostoUnitario':_0x2db4b8[_0x1042a5(0x1e6)],'setMtoPrecioUnitario':_0x2db4b8[_0x1042a5(0x1bb)],'setPriceLists':[]}],'sucursales':_0x11f977[_0x1042a5(0x117)]['map'](_0x3b6294=>({'setIdSucursal':_0x3b6294[_0x1042a5(0xd6)],'setSucursalStock':_0x3b6294[_0x1042a5(0x1c7)][_0x1042a5(0x16e)](),'setWarehouseStockMin':_0x3b6294[_0x1042a5(0x14b)][_0x1042a5(0x16e)]()})),'setItemFree':_0x11f977['setItemFree'],'setItemBarCode':_0x11f977['setItemBarCode'],'setItemBrands':_0x11f977['setItemBrands'][_0x1042a5(0x1a4)](),'setItemCategories':_0x11f977[_0x1042a5(0x127)][_0x1042a5(0x1a4)](),'setItemComponents':_0x11f977[_0x1042a5(0xf8)][_0x1042a5(0x108)](_0x418c5a=>({..._0x418c5a})),'setItemImages':_0x11f977[_0x1042a5(0xe6)]['slice'](),'setItemVariantName':_0x11f977['setItemVariantName'],'setItemVariantValues':{..._0x11f977[_0x1042a5(0xdd)]}};_0x175657[_0x1042a5(0x13a)](_0x324bdd),(_0xb1283b[_0x1042a5(0x135)]||_0x39161f==0x1)&&addToCart(_0x324bdd);});}),console[_0x5f2756(0x11d)](_0x5f2756(0x13d),newItems),await finalizeImport(_0x175657,newItems,![]);}),['dragenter',_0x2f115e(0x17f)][_0x2f115e(0x1c5)](_0x283bd2=>dropZone[_0x2f115e(0x1d9)](_0x283bd2,_0xcccd49=>{var _0x177c2a=_0x2f115e;_0xcccd49['preventDefault'](),dropZone['classList'][_0x177c2a(0x1dc)](_0x177c2a(0x17f));})),['dragleave','drop']['forEach'](_0x59fa2a=>dropZone['addEventListener'](_0x59fa2a,_0x2f8379=>{var _0x43d123=_0x2f115e;_0x2f8379[_0x43d123(0x194)](),dropZone['classList'][_0x43d123(0xca)](_0x43d123(0x17f));})),dropZone['addEventListener'](_0x2f115e(0x1b2),_0x2675c1=>{var _0x173888=_0x2f115e;const _0x25cd57=_0x2675c1[_0x173888(0x130)][_0x173888(0x1cb)][0x0];if(!_0x25cd57)return;fileInput[_0x173888(0x1cb)]=_0x2675c1['dataTransfer']['files'],dropZone[_0x173888(0x151)](_0x173888(0x133))[_0x173888(0x144)]=_0x25cd57[_0x173888(0xc0)],removeBtn['hidden']=![],fileInput[_0x173888(0xdc)](new Event(_0x173888(0x10b)));}),removeBtn[_0x2f115e(0x1d9)](_0x2f115e(0x118),()=>{var _0xef9e39=_0x2f115e;fileInput[_0xef9e39(0x1d6)]='',dropZone[_0xef9e39(0x151)](_0xef9e39(0x133))[_0xef9e39(0x144)]=_0xef9e39(0x171),removeBtn[_0xef9e39(0x15e)]=!![],progressBar[_0xef9e39(0x178)][_0xef9e39(0x11c)]=_0xef9e39(0xe8),statusDiv['textContent']='',uploadBtn['disabled']=!![];});const exportBtn=document['getElementById'](_0x2f115e(0xfe));exportBtn[_0x2f115e(0x1d9)](_0x2f115e(0x118),onClickExportarItems);async function onClickExportarItems(){var _0x45c146=_0x2f115e;if(!Array[_0x45c146(0x1bd)](products)||!products[_0x45c146(0x1b9)]){ntfShow(_0x45c146(0x1fd));return;}try{const _0x28a557=await fetch(_0x45c146(0x204));if(!_0x28a557['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x5428a9=await _0x28a557[_0x45c146(0x19f)](),_0x5608e8=document[_0x45c146(0xcf)](_0x45c146(0x1ef))[_0x45c146(0x1d6)];let _0x2f81be=products;const _0x4d4aa1=getUserPermissionApiERP(0x2);_0x4d4aa1==0x1&&(_0x2f81be=products[_0x45c146(0x207)](_0x49b00c=>Array[_0x45c146(0x1bd)](_0x49b00c[_0x45c146(0xec)])&&_0x49b00c[_0x45c146(0xec)][_0x45c146(0x1be)](_0x25b76d=>String(_0x25b76d[_0x45c146(0xc6)])==String(_0x5608e8))));const _0x3c379b=_0x2f81be[_0x45c146(0x1d2)]((_0x45e366,_0x15ad41)=>{var _0x48d13d=_0x45c146;const _0x43f9af=_0x15ad41['setIdProducto'];if(!_0x45e366[_0x43f9af])_0x45e366[_0x43f9af]=[];return _0x45e366[_0x43f9af][_0x48d13d(0x13a)](_0x15ad41),_0x45e366;},{}),_0x11f979=Object['values'](_0x3c379b)['map'](_0x5c1bef=>{var _0x11e214=_0x45c146;const _0x287033=_0x5c1bef[0x0],_0x3eddd2=_0x5c1bef[0x1]||{},_0x5a4f3a=_0x5c1bef[0x2]||{};function _0xa1db2d(_0x2139f9,_0x40b538,_0x4af63c){var _0x40aa1b=_0x1c67;if(!_0x2139f9||!Array['isArray'](_0x2139f9['currency_data']))return'';const _0x35fa64=_0x2139f9['currency_data'][_0x40aa1b(0x1cd)](_0x3a8ec1=>_0x3a8ec1['currency']===_0x40b538);return _0x35fa64?_0x35fa64[_0x4af63c]:'';}return{'id':_0x287033[_0x11e214(0x112)],'setItemType':_0x287033[_0x11e214(0xbc)],'setCodProducto':_0x287033[_0x11e214(0x14a)],'setDescripcion':_0x287033[_0x11e214(0x1db)],'setItemDescription':_0x287033['setItemDescription'],'setItemIsSold':_0x287033['setItemIsSold'],'setItemIsBought':_0x287033[_0x11e214(0xf2)],'setCategoria':_0x287033[_0x11e214(0xed)],'setMarca':_0x287033[_0x11e214(0x164)],'setTaxId':_0x287033['setTaxId'],'setUnitId':_0x287033['id'],'setItemBarCode':_0x287033[_0x11e214(0x19e)],'setUnidadCodigo':_0x287033[_0x11e214(0x173)],'setItemUnitAlias':_0x287033[_0x11e214(0x1c4)]??'','PEN_setMtoPrecioUnitario':_0xa1db2d(_0x287033,_0x11e214(0x180),_0x11e214(0x19a)),'PEN_setMtoPrecioCostoUnitario':_0xa1db2d(_0x287033,_0x11e214(0x180),_0x11e214(0x177)),'USD_setMtoPrecioUnitario':_0xa1db2d(_0x287033,_0x11e214(0x110),_0x11e214(0x19a)),'USD_setMtoPrecioCostoUnitario':_0xa1db2d(_0x287033,_0x11e214(0x110),_0x11e214(0x177)),'setItemCommissionPercentage':_0x287033[_0x11e214(0x11e)]?parseFloat(_0x287033['setItemCommissionPercentage']):'','setUnitId2':_0x3eddd2['id']??'','setItemBarCode2':_0x3eddd2[_0x11e214(0x19e)]??'','setUnidadCodigo2':_0x3eddd2[_0x11e214(0x173)]??'','setItemUnitAlias2':_0x3eddd2[_0x11e214(0x1c4)]??'','setUnidadEquivalencia2':_0x3eddd2[_0x11e214(0x143)]??'','PEN_setMtoPrecioUnitario2':_0xa1db2d(_0x3eddd2,_0x11e214(0x180),_0x11e214(0x19a))??'','PEN_setMtoPrecioCostoUnitario2':_0xa1db2d(_0x3eddd2,'PEN',_0x11e214(0x177))??'','USD_setMtoPrecioUnitario2':_0xa1db2d(_0x3eddd2,_0x11e214(0x110),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario2':_0xa1db2d(_0x3eddd2,_0x11e214(0x110),_0x11e214(0x177))??'','setItemCommissionPercentage2':_0x3eddd2[_0x11e214(0x11e)]?parseFloat(_0x3eddd2[_0x11e214(0x11e)]):'','setUnitId3':_0x5a4f3a['id']??'','setItemBarCode3':_0x5a4f3a[_0x11e214(0x19e)]??'','setUnidadCodigo3':_0x5a4f3a[_0x11e214(0x173)]??'','setItemUnitAlias3':_0x5a4f3a['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x5a4f3a[_0x11e214(0x143)]??'','PEN_setMtoPrecioUnitario3':_0xa1db2d(_0x5a4f3a,_0x11e214(0x180),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0xa1db2d(_0x5a4f3a,_0x11e214(0x180),_0x11e214(0x177))??'','USD_setMtoPrecioUnitario3':_0xa1db2d(_0x5a4f3a,'USD','setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0xa1db2d(_0x5a4f3a,_0x11e214(0x110),_0x11e214(0x177))??'','setItemCommissionPercentage3':_0x5a4f3a[_0x11e214(0x11e)]?parseFloat(_0x5a4f3a['setItemCommissionPercentage']):'','setInventariable':_0x287033[_0x11e214(0x17b)],'setSucursalStock':_0x4d4aa1==0x1?_0x287033[_0x11e214(0xec)][_0x11e214(0x1cd)](_0x22f61c=>String(_0x22f61c[_0x11e214(0xc6)])==String(_0x5608e8))['setSucursalStock']:'','setWarehouseStockMin':_0x4d4aa1==0x1?_0x287033[_0x11e214(0xec)][_0x11e214(0x1cd)](_0x15a902=>String(_0x15a902['setIdSucursal'])==String(_0x5608e8))['setWarehouseStockMin']:'','setBatchName':_0x287033['setBatchName'],'setBatchExpirationDate':_0x287033[_0x11e214(0xc7)],..._0x287033['setItemVariantValues']};});try{JSON[_0x45c146(0x1f0)](_0x11f979);}catch(_0x30979e){console[_0x45c146(0xde)](_0x45c146(0x1b5),_0x30979e),ntfShow(_0x45c146(0x13b));return;}statusDiv['textContent']=_0x45c146(0x12f),progressBar[_0x45c146(0x178)][_0x45c146(0x11c)]='block',progressBar['value']=0x0,itemWorker['postMessage']({'action':_0x45c146(0x13f),'products':_0x11f979,'plantillaBuf':_0x5428a9},[_0x5428a9]);}catch(_0x4c6fe8){console[_0x45c146(0xde)](_0x4c6fe8),ntfShow(_0x45c146(0xf1)+_0x4c6fe8[_0x45c146(0x17e)]);}}itemWorker[_0x2f115e(0x154)]=({data:_0x21c61d})=>{var _0x33ba38=_0x2f115e;const {type:_0x4f4664,payload:_0x2bfe28}=_0x21c61d;_0x4f4664===_0x33ba38(0xe1)&&(progressBar[_0x33ba38(0x178)][_0x33ba38(0x11c)]=_0x33ba38(0xc8),progressBar[_0x33ba38(0x1d6)]=_0x2bfe28[_0x33ba38(0x179)],statusDiv[_0x33ba38(0x144)]=_0x2bfe28[_0x33ba38(0x17e)]);_0x4f4664===_0x33ba38(0x1d8)&&(newItemsExcel=_0x2bfe28[_0x33ba38(0x17c)],statusDiv[_0x33ba38(0x144)]='✅\x20'+newItemsExcel['length']+'\x20items\x20procesados.',uploadBtn[_0x33ba38(0x1fc)]=![],progressBar[_0x33ba38(0x1d6)]=0x64,console['log'](newItemsExcel));_0x4f4664===_0x33ba38(0xde)&&(statusDiv[_0x33ba38(0x144)]='❌\x20Error:\x20'+_0x2bfe28,progressBar[_0x33ba38(0x178)][_0x33ba38(0x11c)]=_0x33ba38(0xe8));if(_0x4f4664===_0x33ba38(0x1ec)){const {wbout:_0x1c1e35,count:_0x488cb9}=_0x2bfe28,_0x3669c4=new Blob([_0x1c1e35],{'type':_0x33ba38(0xeb)}),_0x392267=URL[_0x33ba38(0x13c)](_0x3669c4),_0x1e2545=document[_0x33ba38(0x1c1)]('a'),_0x2a3372=new Date()['toISOString']()[_0x33ba38(0x1a4)](0x0,0xa);_0x1e2545[_0x33ba38(0x1d3)]='Plantilla-Items-Export-'+_0x2a3372+_0x33ba38(0x10e),_0x1e2545[_0x33ba38(0x120)]=_0x392267,_0x1e2545[_0x33ba38(0x118)](),URL[_0x33ba38(0x1cc)](_0x392267),statusDiv[_0x33ba38(0x144)]='✅\x20Exportación\x20completada:\x20'+_0x488cb9+_0x33ba38(0x161),progressBar[_0x33ba38(0x178)][_0x33ba38(0x11c)]='none';}},fileInput[_0x2f115e(0x1d9)](_0x2f115e(0x10b),async _0x4b208f=>{var _0x11af23=_0x2f115e;const _0x330d24=_0x4b208f[_0x11af23(0x196)][_0x11af23(0x1cb)][0x0];if(!_0x330d24)return;uploadBtn[_0x11af23(0x1fc)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x11af23(0x178)][_0x11af23(0x11c)]='none',dropZone[_0x11af23(0x151)](_0x11af23(0x133))[_0x11af23(0x144)]=_0x330d24[_0x11af23(0xc0)],removeBtn[_0x11af23(0x15e)]=![];try{const _0x42e88a=await _0x330d24[_0x11af23(0x19f)]();itemWorker[_0x11af23(0x1e8)]({'action':'import','buf':_0x42e88a,'maxRows':0x1388});}catch(_0x25b80f){statusDiv[_0x11af23(0x144)]=_0x11af23(0x1f4);}finally{fileInput['value']='';}}),uploadBtn[_0x2f115e(0x1d9)](_0x2f115e(0x118),async()=>{var _0x1dee6b=_0x2f115e;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x6ce9bf=document['getElementById'](_0x1dee6b(0x1ef))[_0x1dee6b(0x1d6)],_0xe7538=[];newItemsExcel['forEach'](_0xce048c=>{var _0xad0ba2=_0x1dee6b;const _0x2080fb=Boolean(_0xce048c[_0xad0ba2(0xc9)]),_0x5389ec=_0x2080fb?_0xce048c[_0xad0ba2(0xc9)]:generateNumericUniqId();_0xce048c[_0xad0ba2(0x117)]=[{'setStockInitial':_0xce048c['setStockInitial'],'setStockMinimum':_0xce048c[_0xad0ba2(0x14b)],'setWarehouseCode':_0x6ce9bf}],_0xce048c[_0xad0ba2(0x1fb)][_0xad0ba2(0x1c5)](_0x11228c=>{var _0x3c1573=_0xad0ba2;const _0x175445=Boolean(_0x11228c[_0x3c1573(0xfa)]),_0x58b1d2=_0x175445?_0x11228c['setItemUnitId']:generateNumericUniqId();_0x11228c['setItemUnitId']=_0x58b1d2;const _0x55bedd=[];_0x55bedd['push']({'currency':_0x3c1573(0x180),'setMtoPrecioCostoUnitario':_0x11228c[_0x3c1573(0x1e6)],'setMtoPrecioUnitario':_0x11228c[_0x3c1573(0x1bb)],'setPriceLists':[]});const _0x45e813=_0x11228c[_0x3c1573(0x1e2)]!=null&&_0x11228c[_0x3c1573(0x102)]!=null&&(!isNaN(_0x11228c[_0x3c1573(0x1e2)])||!isNaN(_0x11228c[_0x3c1573(0x102)]));_0x45e813&&_0x55bedd[_0x3c1573(0x13a)]({'currency':_0x3c1573(0x110),'setMtoPrecioCostoUnitario':_0x11228c[_0x3c1573(0x1e2)],'setMtoPrecioUnitario':_0x11228c[_0x3c1573(0x102)],'setPriceLists':[]});const _0x49cfa4={'id':_0x58b1d2,'setIdProducto':_0x5389ec,'setItemBarCode':_0x11228c['setItemBarCode'],'setCodProducto':_0xce048c[_0x3c1573(0x168)],'setDescripcion':_0xce048c[_0x3c1573(0x14f)],'setItemDescription':_0xce048c[_0x3c1573(0x159)],'setBatchExpirationDate':_0xce048c[_0x3c1573(0x1b7)],'setBatchName':_0xce048c[_0x3c1573(0x20a)],'setItemIsSold':_0xce048c['setItemIsSold'],'setItemIsBought':_0xce048c['setItemIsBought'],'setCategoria':_0xce048c[_0x3c1573(0x127)][0x0]||'','setMarca':_0xce048c[_0x3c1573(0x1f8)][0x0]||'','setConversionFactor':parseFloat(_0x11228c['setFactor']),'setImages':[],'setImg':_0x3c1573(0x1f6),'setInventariable':_0xce048c[_0x3c1573(0x1f7)],'setPorcentajeIgv':_0xce048c[_0x3c1573(0x10c)],'setPrinters':[],'setTaxId':_0xce048c['setItemTaxId'],'setTipAfeIgv':_0xce048c[_0x3c1573(0x116)],'setUnidad':_0x11228c['setUnitCode'],'setUnidadCodigo':_0x11228c[_0x3c1573(0x15f)],'setItemUnitAlias':_0x11228c[_0x3c1573(0x109)],'setItemCommissionPercentage':_0x11228c[_0x3c1573(0x11e)],'currency_data':_0x55bedd,'sucursales':_0xce048c['setItemWarehouses'][_0x3c1573(0x108)](_0x1b6fcb=>({'setIdSucursal':_0x1b6fcb[_0x3c1573(0xd6)],'setSucursalStock':_0x1b6fcb['setStockInitial'][_0x3c1573(0x16e)](),'setWarehouseStockMin':_0x1b6fcb[_0x3c1573(0x14b)][_0x3c1573(0x16e)]()})),'setItemFree':_0xce048c[_0x3c1573(0x15c)],'setItemBrands':_0xce048c[_0x3c1573(0x1f8)][_0x3c1573(0x1a4)](),'setItemCategories':_0xce048c[_0x3c1573(0x127)][_0x3c1573(0x1a4)](),'setItemComponents':_0xce048c[_0x3c1573(0xf8)][_0x3c1573(0x108)](_0x3f21ee=>({..._0x3f21ee})),'setItemImages':_0xce048c[_0x3c1573(0xe6)][_0x3c1573(0x1a4)](),'setItemVariantName':_0xce048c[_0x3c1573(0xd2)],'setItemVariantValues':{..._0xce048c[_0x3c1573(0xdd)]}},_0x2687e9=products[_0x3c1573(0x107)](_0x2b8576=>_0x2b8576['id']==_0x58b1d2&&_0x2b8576[_0x3c1573(0x112)]==_0x5389ec);_0x2687e9>-0x1?Object[_0x3c1573(0x14c)](products[_0x2687e9],_0x49cfa4):_0xe7538[_0x3c1573(0x13a)](_0x49cfa4);});}),console[_0x1dee6b(0x11d)](_0x1dee6b(0x13d),newItemsExcel),await finalizeImport(_0xe7538,newItemsExcel,!![]);});function initializeFormImages(){var _0x29e15a=_0x2f115e;currentImages=Array(MAX_IMAGES)[_0x29e15a(0x1da)](null),imgC['innerHTML']='',baseItem[_0x29e15a(0xe6)]=[];for(var _0x553376=0x0;_0x553376<MAX_IMAGES;_0x553376++){(function(_0x1cc2c0){var _0x4ae46b=_0x29e15a,_0x38056d=document[_0x4ae46b(0x1c1)](_0x4ae46b(0x146));_0x38056d[_0x4ae46b(0x156)]=_0x4ae46b(0x147),_0x38056d['dataset']['idx']=_0x1cc2c0;var _0x5c6132=document['createElement']('input');_0x5c6132[_0x4ae46b(0x1fa)]='file',_0x5c6132['accept']=_0x4ae46b(0x122),_0x5c6132[_0x4ae46b(0x178)][_0x4ae46b(0x11c)]=_0x4ae46b(0xe8);var _0x4ec2f3=document[_0x4ae46b(0x1c1)]('span');_0x4ec2f3['textContent']='+',_0x38056d[_0x4ae46b(0xfc)](_0x5c6132),_0x38056d[_0x4ae46b(0xfc)](_0x4ec2f3),imgC[_0x4ae46b(0xfc)](_0x38056d),_0x38056d[_0x4ae46b(0x1d9)](_0x4ae46b(0x118),function(){var _0x5443ca=_0x4ae46b;_0x5c6132[_0x5443ca(0x118)]();}),_0x5c6132[_0x4ae46b(0x1d9)](_0x4ae46b(0x10b),function(_0x266713){var _0x513805=_0x4ae46b,_0x2116db=_0x266713[_0x513805(0x196)]['files'][0x0];if(!_0x2116db)return removeImg(_0x1cc2c0);var _0x26ffbe=new FileReader();_0x26ffbe['onload']=function(_0x39cb76){var _0x3236d2=_0x513805;_0x38056d['innerHTML']=_0x3236d2(0x19c)+_0x39cb76['target']['result']+'\x22>';var _0x33b0b1=document[_0x3236d2(0x1c1)](_0x3236d2(0x174));_0x33b0b1['className']='remove',_0x33b0b1['textContent']='×',_0x33b0b1[_0x3236d2(0x1d9)](_0x3236d2(0x118),function(_0x5a30cd){var _0x5cd6da=_0x3236d2;_0x5a30cd[_0x5cd6da(0x149)](),removeImg(_0x1cc2c0);}),_0x38056d[_0x3236d2(0xfc)](_0x33b0b1),currentImages[_0x1cc2c0]=_0x2116db,baseItem[_0x3236d2(0xe6)]=currentImages[_0x3236d2(0x207)](function(_0x5f0fb5){return _0x5f0fb5;});},_0x26ffbe[_0x513805(0xda)](_0x2116db);});}(_0x553376));}}function initializeFormIsSoldIsBought(_0x8d802f=0x0){var _0x5d7811=_0x2f115e;let _0x2fbecc,_0xb7642e;if(_0x8d802f!=0x0){const _0x30453e=products[_0x5d7811(0x1cd)](_0x279d3a=>_0x279d3a['id']==_0x8d802f);_0x2fbecc=_0x30453e[_0x5d7811(0xf2)]==0x1||_0x30453e[_0x5d7811(0xf2)]==!![]?!![]:![],_0xb7642e=_0x30453e[_0x5d7811(0x150)]==0x1||_0x30453e[_0x5d7811(0x150)]==!![]?!![]:![];}else _0x2fbecc=!![],_0xb7642e=!![];document[_0x5d7811(0xcf)]('newItem_chk_buy')[_0x5d7811(0x135)]=_0x2fbecc,document[_0x5d7811(0xcf)](_0x5d7811(0x195))['checked']=_0xb7642e,baseItem[_0x5d7811(0xf2)]=_0x2fbecc,baseItem['setItemIsSold']=_0xb7642e;}function initializeFormInputsBasic(_0x3a6432=0x0){var _0x1ebdce=_0x2f115e;let _0x49854d,_0x33afd0,_0x4f996e,_0x1a26fa,_0x3d0084,_0x199bc5;if(_0x3a6432!=0x0){const _0x5ea762=products[_0x1ebdce(0x1cd)](_0x3f166f=>_0x3f166f['id']==_0x3a6432);_0x49854d=_0x5ea762[_0x1ebdce(0xbc)]??'1',_0x33afd0=_0x5ea762[_0x1ebdce(0x14a)],_0x4f996e=_0x5ea762[_0x1ebdce(0x1db)],_0x1a26fa=_0x5ea762['setItemDescription'],_0x3d0084=_0x5ea762['setBatchExpirationDate']??'',_0x199bc5=_0x5ea762[_0x1ebdce(0x19e)];}else _0x49854d='1',_0x33afd0=getNextCode(products),_0x4f996e='',_0x1a26fa='',_0x3d0084='',_0x199bc5='';document[_0x1ebdce(0xcf)](_0x1ebdce(0x1ae))['value']=_0x49854d,document[_0x1ebdce(0xcf)]('inputItemCode')[_0x1ebdce(0x1d6)]=_0x33afd0,document[_0x1ebdce(0xcf)](_0x1ebdce(0x136))[_0x1ebdce(0x1d6)]=_0x4f996e,document[_0x1ebdce(0xcf)]('inputItemDescription')[_0x1ebdce(0x1d6)]=_0x1a26fa,document[_0x1ebdce(0xcf)]('inputItemDateExpiry')[_0x1ebdce(0x1d6)]=_0x3d0084,document[_0x1ebdce(0xcf)](_0x1ebdce(0x1df))[_0x1ebdce(0x1d6)]=_0x199bc5,baseItem['setItemType']=_0x49854d,baseItem[_0x1ebdce(0x168)]=_0x33afd0,baseItem[_0x1ebdce(0x14f)]=_0x4f996e,baseItem[_0x1ebdce(0x159)]=_0x1a26fa,baseItem['setItemDateExpiry']=_0x3d0084,baseItem[_0x1ebdce(0x19e)]=_0x199bc5,document[_0x1ebdce(0xcf)]('newItem_addToCart')[_0x1ebdce(0x135)]=![];}function initializeFormTax(_0x17ae89=0x0){var _0xc23356=_0x2f115e;let _0x57ce86;if(_0x17ae89!=0x0){const _0x2329eb=products['find'](_0x5e33b6=>_0x5e33b6['id']==_0x17ae89);_0x57ce86=_0x2329eb[_0xc23356(0x1e0)];}else _0x57ce86=myCompany[_0xc23356(0x1f5)];const _0x42a5c5=document[_0xc23356(0xcf)]('inputItemTax');_0x42a5c5['value']=_0x57ce86,baseItem[_0xc23356(0x132)]=_0x57ce86;const _0x40bcf1=company[0x0][_0xc23356(0x18a)][_0xc23356(0x1cd)](_0x5136d5=>_0x5136d5[_0xc23356(0x1e0)]==_0x57ce86)?.[_0xc23356(0x138)]||0x0,_0x3c4734=company[0x0]['setImpuestos'][_0xc23356(0x1cd)](_0x274241=>_0x274241[_0xc23356(0x1e0)]==_0x57ce86)?.[_0xc23356(0x128)]||0x0;baseItem[_0xc23356(0x116)]=_0x40bcf1,baseItem['setItemTaxValue']=_0x3c4734;}function initializeFormCategoriesBrands(_0x49b168=0x0){var _0x2a3180=_0x2f115e;baseItem['setItemCategories']=[],baseItem[_0x2a3180(0x1f8)]=[],document[_0x2a3180(0x151)](_0x2a3180(0x1f9))['innerHTML']='',document[_0x2a3180(0x151)](_0x2a3180(0x153))[_0x2a3180(0x1cf)]='',document['querySelector'](_0x2a3180(0x140))['innerHTML']='',document[_0x2a3180(0x151)](_0x2a3180(0x134))[_0x2a3180(0x1cf)]='';const _0xeab1fc=myCompany['setItemCategories'][_0x2a3180(0x108)](_0x4d8c53=>({'setCode':_0x4d8c53['setItemCategoryName'],'setName':_0x4d8c53['setItemCategoryName']})),_0x1634db=myCompany[_0x2a3180(0x1f8)][_0x2a3180(0x108)](_0x270122=>({'setCode':_0x270122[_0x2a3180(0xe7)],'setName':_0x270122[_0x2a3180(0xe7)]}));initMulti('newItem_categories_select',_0xeab1fc),initMulti(_0x2a3180(0x1ba),_0x1634db),document[_0x2a3180(0xcf)](_0x2a3180(0x121))['addEventListener'](_0x2a3180(0xcc),function(_0x2efc37){var _0x1a1208=_0x2a3180;baseItem['setItemCategories']=_0x2efc37[_0x1a1208(0x17d)]['map'](_0x2c9b89=>_0x2c9b89[_0x1a1208(0x172)]);}),document['getElementById'](_0x2a3180(0x1ba))[_0x2a3180(0x1d9)](_0x2a3180(0xcc),function(_0x1b088d){var _0x2fed98=_0x2a3180;baseItem[_0x2fed98(0x1f8)]=_0x1b088d[_0x2fed98(0x17d)]['map'](_0xcbb6ad=>_0xcbb6ad[_0x2fed98(0x172)]);});if(_0x49b168!=0x0){const _0x6ab4db=products['find'](_0x70f885=>_0x70f885['id']==_0x49b168);if(_0x6ab4db[_0x2a3180(0xed)]){const _0x45f590=document['getElementById']('newItem_categories_select'),_0x459578=Array[_0x2a3180(0x12e)](_0x45f590[_0x2a3180(0x191)](_0x2a3180(0x185)))[_0x2a3180(0x1cd)](_0x23879a=>_0x23879a[_0x2a3180(0x1f1)]['code']==_0x6ab4db[_0x2a3180(0xed)]);_0x459578&&_0x459578['click']();}if(_0x6ab4db[_0x2a3180(0x164)]){const _0x1f8405=document[_0x2a3180(0xcf)]('newItem_brands_select'),_0xdfa0de=Array['from'](_0x1f8405[_0x2a3180(0x191)](_0x2a3180(0x185)))['find'](_0x302b99=>_0x302b99[_0x2a3180(0x1f1)][_0x2a3180(0x19d)]==_0x6ab4db[_0x2a3180(0x164)]);_0xdfa0de&&_0xdfa0de[_0x2a3180(0x118)]();}}}function initializeFormUnits(){var _0x3fcdc2=_0x2f115e;unitCount=0x0,document[_0x3fcdc2(0xcf)](_0x3fcdc2(0x1d5))[_0x3fcdc2(0x1cf)]='',baseItem[_0x3fcdc2(0x1fb)]=[];var _0x5af47e=uniqueValuesArray(_0x3fcdc2(0x15f),'setUnitName',myCompany['setUnits']);addUnit('',_0x5af47e[0x3a]&&_0x5af47e[0x3a][_0x3fcdc2(0x172)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x105f1a=_0x2f115e;prodC['innerHTML']='',baseItem[_0x105f1a(0xf8)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x5d4e86=_0x2f115e;branchesC[_0x5d4e86(0x1cf)]='',baseItem[_0x5d4e86(0x117)]=[];const _0x306df1=getAllWarehouses();_0x306df1['forEach'](function(_0x2110af){var _0xfa74d=_0x5d4e86,_0x5a83a9=document[_0xfa74d(0x1c1)](_0xfa74d(0x146));_0x5a83a9[_0xfa74d(0x1cf)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0xfa74d(0xcb)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x2110af[_0xfa74d(0x1ef)]+_0xfa74d(0x1e3)+_0x2110af[_0xfa74d(0x209)]+'</label>'+'</div>'+_0xfa74d(0xcb)+_0xfa74d(0xe5)+_0x2110af[_0xfa74d(0x1ef)]+'\x22>'+_0xfa74d(0x113)+_0xfa74d(0xcb)+_0xfa74d(0xd9)+_0x2110af[_0xfa74d(0x1ef)]+'\x22>'+'</div>'+'</div>',branchesC['appendChild'](_0x5a83a9),_0x5a83a9['querySelectorAll'](_0xfa74d(0x18d))[_0xfa74d(0x1c5)](function(_0x5aea24){var _0x22049d=_0xfa74d;_0x5aea24[_0x22049d(0x1d9)](_0x22049d(0x18d),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x45fcb5=_0x2f115e;baseItem['setItemVariantName']='',baseItem[_0x45fcb5(0xdd)]={},vgC[_0x45fcb5(0x1cf)]='',varContainer[_0x45fcb5(0x1cf)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x29b2b0,_0x4900dd,_0x8d6421=![]){var _0x54d744=_0x2f115e;const _0x54d7ce=0xc8,_0x47b0db={'apiPOSsendOffline':'1','setTipoOperacion':_0x54d744(0x142),'setToken':company[0x0][_0x54d744(0x1b8)],'setWebhook':company[0x0]['setWebhook']};for(let _0x57d9f8=0x0;_0x57d9f8<_0x4900dd[_0x54d744(0x1b9)];_0x57d9f8+=_0x54d7ce){const _0xb1e2fb=_0x4900dd[_0x54d744(0x1a4)](_0x57d9f8,_0x57d9f8+_0x54d7ce);await storeOfflineProduct({..._0x47b0db,'newItems':_0xb1e2fb});}products['push'](..._0x29b2b0),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x54d744(0x1ee)),_0x8d6421?(fileInput[_0x54d744(0x1d6)]='',uploadBtn[_0x54d744(0x1fc)]=!![],statusDiv[_0x54d744(0x144)]='',progressBar['style'][_0x54d744(0x11c)]='none',progressBar[_0x54d744(0x1d6)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}