/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.8
*/

var _0x32dc51=_0x9586;(function(_0x45452d,_0x562809){var _0x396967=_0x9586,_0xe7f930=_0x45452d();while(!![]){try{var _0x3fa6e8=-parseInt(_0x396967(0x127))/0x1*(-parseInt(_0x396967(0x1c2))/0x2)+parseInt(_0x396967(0x1e1))/0x3+parseInt(_0x396967(0x23d))/0x4*(-parseInt(_0x396967(0x112))/0x5)+-parseInt(_0x396967(0x1ae))/0x6+parseInt(_0x396967(0x1f2))/0x7*(parseInt(_0x396967(0x1db))/0x8)+-parseInt(_0x396967(0x20d))/0x9+parseInt(_0x396967(0x1da))/0xa;if(_0x3fa6e8===_0x562809)break;else _0xe7f930['push'](_0xe7f930['shift']());}catch(_0x2e99ed){_0xe7f930['push'](_0xe7f930['shift']());}}}(_0x3b24,0x38d71));var _0x30969b=(function(){var _0x401940=!![];return function(_0x331b86,_0x152033){var _0x4f7112=_0x401940?function(){if(_0x152033){var _0x232373=_0x152033['apply'](_0x331b86,arguments);return _0x152033=null,_0x232373;}}:function(){};return _0x401940=![],_0x4f7112;};}()),_0x57dcba=_0x30969b(this,function(){var _0x3e9197=_0x9586;return _0x57dcba[_0x3e9197(0x173)]()[_0x3e9197(0x235)](_0x3e9197(0x163))['toString']()[_0x3e9197(0x192)](_0x57dcba)[_0x3e9197(0x235)](_0x3e9197(0x163));});_0x57dcba();var _0x315065=(function(){var _0x5d2987=!![];return function(_0x248bf2,_0x370b10){var _0x5e14e9=_0x5d2987?function(){var _0x1ef5e9=_0x9586;if(_0x370b10){var _0x3a171d=_0x370b10[_0x1ef5e9(0x111)](_0x248bf2,arguments);return _0x370b10=null,_0x3a171d;}}:function(){};return _0x5d2987=![],_0x5e14e9;};}()),_0x552765=_0x315065(this,function(){var _0x3c1c92=_0x9586,_0x9681ae;try{var _0x44bf87=Function('return\x20(function()\x20'+_0x3c1c92(0x15f)+');');_0x9681ae=_0x44bf87();}catch(_0x568080){_0x9681ae=window;}var _0x23df83=_0x9681ae[_0x3c1c92(0x160)]=_0x9681ae[_0x3c1c92(0x160)]||{},_0x1ef5b7=[_0x3c1c92(0x15d),'warn','info',_0x3c1c92(0x206),_0x3c1c92(0x1d5),_0x3c1c92(0x21b),_0x3c1c92(0x131)];for(var _0x77cc00=0x0;_0x77cc00<_0x1ef5b7[_0x3c1c92(0x219)];_0x77cc00++){var _0x2cf8e6=_0x315065[_0x3c1c92(0x192)][_0x3c1c92(0x10b)][_0x3c1c92(0x18b)](_0x315065),_0x148f3e=_0x1ef5b7[_0x77cc00],_0x527650=_0x23df83[_0x148f3e]||_0x2cf8e6;_0x2cf8e6[_0x3c1c92(0x245)]=_0x315065['bind'](_0x315065),_0x2cf8e6[_0x3c1c92(0x173)]=_0x527650['toString'][_0x3c1c92(0x18b)](_0x527650),_0x23df83[_0x148f3e]=_0x2cf8e6;}});_0x552765();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x32dc51(0x19d)]('newItem_images_container'),unitCount=0x0,branchesC=document['getElementById']('newItem_branches_container'),prodC=document[_0x32dc51(0x19d)](_0x32dc51(0x120)),vgCount=0x0,varContainer=document[_0x32dc51(0x19d)](_0x32dc51(0x165)),vgC=document[_0x32dc51(0x19d)](_0x32dc51(0x236));const fileInput=document[_0x32dc51(0x19d)](_0x32dc51(0x1ee)),progressBar=document['getElementById'](_0x32dc51(0x1f1)),statusDiv=document[_0x32dc51(0x19d)](_0x32dc51(0x1e5)),uploadBtn=document[_0x32dc51(0x19d)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x32dc51(0x19d)](_0x32dc51(0x14b)),removeBtn=document[_0x32dc51(0x19d)](_0x32dc51(0x19a));function showModalCreateItem(_0x40254f){var _0x49fc9f=_0x32dc51;const _0x2915a2=document['getElementById'](_0x49fc9f(0x172)),_0x2c43b6=document[_0x49fc9f(0x19d)](_0x49fc9f(0x241));_0x2915a2[_0x49fc9f(0x16c)][_0x49fc9f(0x168)](_0x49fc9f(0x1b6)),_0x2c43b6['style']['display']=_0x49fc9f(0x24c);const _0x4bc473=document[_0x49fc9f(0x19d)](_0x49fc9f(0x1f5));_0x4bc473['value']=parseInt(_0x40254f),baseItem[_0x49fc9f(0x1f5)]=parseInt(_0x40254f);const _0x31937d=document[_0x49fc9f(0x19d)](_0x49fc9f(0x191));_0x40254f==0x0&&(_0x31937d[_0x49fc9f(0x1aa)]='Nuevo\x20Producto');_0x40254f==0x1&&(_0x31937d[_0x49fc9f(0x1aa)]=_0x49fc9f(0x156));const _0x327f17=document['getElementsByClassName'](_0x49fc9f(0x1c9));for(let _0x470a6d=0x0;_0x470a6d<_0x327f17[_0x49fc9f(0x219)];_0x470a6d++){const _0x4a0fe6=_0x327f17[_0x470a6d];if(_0x40254f==0x0)_0x4a0fe6['classList']['remove'](_0x49fc9f(0x240));else _0x40254f==0x1&&_0x4a0fe6[_0x49fc9f(0x16c)][_0x49fc9f(0x168)]('hidden');}}function hideModalCreateItem(){var _0x4e219a=_0x32dc51;const _0x18a3e5=document[_0x4e219a(0x19d)]('detalleModalCreateItem'),_0x3656a2=document[_0x4e219a(0x19d)](_0x4e219a(0x241));_0x18a3e5[_0x4e219a(0x16c)][_0x4e219a(0x137)](_0x4e219a(0x1b6)),_0x3656a2[_0x4e219a(0x197)][_0x4e219a(0x180)]=_0x4e219a(0x23c);}document['getElementById'](_0x32dc51(0x16b))[_0x32dc51(0x19c)]('click',hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')['addEventListener']('click',_0x1b72bf=>{var _0x13ab6b=_0x32dc51;_0x1b72bf['target']==_0x1b72bf['currentTarget']&&_0x1b72bf[_0x13ab6b(0x189)]();});function loadTaxData(){var _0x4e41be=_0x32dc51;const _0x328173=document[_0x4e41be(0x19d)]('inputItemTax');_0x328173[_0x4e41be(0x1aa)]='',company[0x0][_0x4e41be(0x179)][_0x4e41be(0x11c)](function(_0xa508bc){var _0x4c3c89=_0x4e41be;const _0x457bdb=document[_0x4c3c89(0x107)](_0x4c3c89(0x201));_0x457bdb['value']=_0xa508bc[_0x4c3c89(0x223)],_0x457bdb[_0x4c3c89(0x1aa)]=_0xa508bc[_0x4c3c89(0x21a)]+'\x20('+_0xa508bc[_0x4c3c89(0x1a1)]+'%)',_0xa508bc[_0x4c3c89(0x223)]==company[0x0][_0x4c3c89(0x19f)]&&(_0x457bdb[_0x4c3c89(0x212)]=!![]),_0x328173['appendChild'](_0x457bdb);});}function uniqueValuesArray(_0x882e93,_0x1a2de2,_0x40add3){var _0x5c1f82=_0x32dc51;const _0xc1f0e9=Array[_0x5c1f82(0x1e7)](new Set(_0x40add3[_0x5c1f82(0xfc)](_0x264b61=>{var _0x1309d1=_0x5c1f82;const _0x4a9403=_0x264b61[_0x882e93];return typeof _0x4a9403===_0x1309d1(0x103)?_0x4a9403['trim']():_0x4a9403;})[_0x5c1f82(0x132)](_0x33105d=>_0x33105d!=null&&_0x33105d!=='')));return _0xc1f0e9[_0x5c1f82(0xfc)](_0x32d9e8=>{var _0x3aed6a=_0x5c1f82;const _0xa262ec=_0x40add3[_0x3aed6a(0x1cb)](_0x3dc40a=>_0x3dc40a[_0x882e93]===_0x32d9e8),_0x2addc0=_0xa262ec&&_0xa262ec[_0x1a2de2]!=null?String(_0xa262ec[_0x1a2de2])[_0x3aed6a(0x13e)]():_0x32d9e8;return{'setCode':_0x32d9e8,'setName':_0x2addc0};});}function fillSelect(_0x4594ec,_0x1bc59c,_0x175045,_0x52e1dc){var _0x2324f3=_0x32dc51;_0x4594ec['innerHTML']='',_0x1bc59c[_0x2324f3(0x11c)](function(_0x55f6bb){var _0x4f315c=_0x2324f3,_0x4d6f4f=new Option(_0x55f6bb[_0x52e1dc],_0x55f6bb[_0x175045]);_0x4594ec[_0x4f315c(0x168)](_0x4d6f4f);});}function initMulti(_0x446cb4,_0x57a813){var _0x4ac75b=_0x32dc51,_0x3fc5ae=document['getElementById'](_0x446cb4),_0x12bf44=_0x3fc5ae['querySelector'](_0x4ac75b(0x159)),_0x31780d=_0x3fc5ae[_0x4ac75b(0x203)]('.options_list'),_0x4698e=_0x3fc5ae[_0x4ac75b(0x203)]('.selected_tags'),_0x28df28=_0x57a813[_0x4ac75b(0x12f)](),_0x589d7a=[];let _0x27548e=null,_0x48fa08=![];function _0x25077f(){var _0x26769b=_0x4ac75b;const _0xad216a=_0x12bf44[_0x26769b(0x200)][_0x26769b(0x13e)]();if(!_0xad216a)return;const _0xb3b40=_0x28df28[_0x26769b(0x1cb)](_0x248b96=>_0x248b96[_0x26769b(0x16a)][_0x26769b(0x1f3)]()===_0xad216a['toLowerCase']());if(_0xb3b40)_0x589d7a['push'](_0xb3b40),_0x28df28[_0x26769b(0x196)](_0x28df28[_0x26769b(0x20f)](_0x371b34=>_0x371b34[_0x26769b(0x176)]===_0xb3b40[_0x26769b(0x176)]),0x1);else{const _0x3d83f8=_0x589d7a[_0x26769b(0x104)](_0x30ff1c=>_0x30ff1c[_0x26769b(0x16a)][_0x26769b(0x1f3)]()===_0xad216a[_0x26769b(0x1f3)]());!_0x3d83f8&&_0x589d7a[_0x26769b(0x1d6)]({'setCode':_0xad216a,'setName':_0xad216a});}_0x341581(),_0x1d8b0e(),_0x12bf44[_0x26769b(0x200)]='';}function _0x1d8b0e(){var _0x138b12=_0x4ac75b;_0x31780d['innerHTML']='',_0x28df28[_0x138b12(0x132)](_0x264b60=>_0x264b60[_0x138b12(0x16a)][_0x138b12(0x1f3)]()[_0x138b12(0x188)](_0x12bf44[_0x138b12(0x200)][_0x138b12(0x1f3)]()))['slice'](0x0,0x14)['forEach'](_0x1cf0c3=>{var _0x55c662=_0x138b12,_0x4810a5=document['createElement']('div');_0x4810a5[_0x55c662(0x1b9)]=_0x1cf0c3[_0x55c662(0x16a)],_0x4810a5[_0x55c662(0x228)]['code']=_0x1cf0c3[_0x55c662(0x176)],_0x31780d[_0x55c662(0x221)](_0x4810a5),_0x4810a5[_0x55c662(0x19c)](_0x55c662(0x12c),()=>_0x48fa08=!![]),_0x4810a5[_0x55c662(0x19c)](_0x55c662(0x125),function(){var _0x144dfc=_0x55c662;_0x48fa08=![],_0x589d7a[_0x144dfc(0x1d6)](_0x1cf0c3),_0x28df28[_0x144dfc(0x196)](_0x28df28[_0x144dfc(0x20f)](_0x41478a=>_0x41478a['setCode']===_0x1cf0c3[_0x144dfc(0x176)]),0x1),_0x12bf44[_0x144dfc(0x200)]='',_0x341581(),_0x1d8b0e();});});}function _0x341581(){var _0xa39570=_0x4ac75b;_0x4698e[_0xa39570(0x1aa)]='',_0x589d7a['forEach'](_0x367dca=>{var _0x4c3f3b=_0xa39570,_0x19f6ec=document[_0x4c3f3b(0x107)](_0x4c3f3b(0x1df));_0x19f6ec[_0x4c3f3b(0x247)]=_0x4c3f3b(0x215),_0x19f6ec[_0x4c3f3b(0x1b9)]=_0x367dca[_0x4c3f3b(0x16a)];var _0x4d42d7=document[_0x4c3f3b(0x107)]('span');_0x4d42d7[_0x4c3f3b(0x247)]=_0x4c3f3b(0x1b7),_0x4d42d7[_0x4c3f3b(0x1b9)]='×',_0x4d42d7[_0x4c3f3b(0x19c)](_0x4c3f3b(0x125),function(){var _0x4be9db=_0x4c3f3b;_0x28df28[_0x4be9db(0x1d6)](_0x367dca);const _0x3eeb3d=_0x589d7a[_0x4be9db(0x20f)](_0x53a4b4=>_0x53a4b4[_0x4be9db(0x176)]===_0x367dca[_0x4be9db(0x176)]);if(_0x3eeb3d>-0x1)_0x589d7a['splice'](_0x3eeb3d,0x1);_0x341581(),_0x1d8b0e();}),_0x19f6ec[_0x4c3f3b(0x221)](_0x4d42d7),_0x4698e['appendChild'](_0x19f6ec);}),_0x3fc5ae[_0xa39570(0x218)](new CustomEvent(_0xa39570(0x129),{'detail':_0x589d7a,'bubbles':!![]}));}return _0x12bf44[_0x4ac75b(0x19c)](_0x4ac75b(0x204),function(){var _0x2b453f=_0x4ac75b;_0x27548e&&(clearTimeout(_0x27548e),_0x27548e=null),_0x31780d[_0x2b453f(0x16c)]['remove'](_0x2b453f(0x110));}),_0x12bf44[_0x4ac75b(0x19c)](_0x4ac75b(0x1af),_0x1d8b0e),_0x12bf44[_0x4ac75b(0x19c)]('keydown',function(_0xc69c51){var _0x26b3f3=_0x4ac75b;_0xc69c51[_0x26b3f3(0x1b4)]===_0x26b3f3(0x226)&&(_0xc69c51[_0x26b3f3(0x1e3)](),_0x25077f());}),_0x12bf44['addEventListener'](_0x4ac75b(0x119),function(){if(_0x48fa08)return;_0x27548e=setTimeout(()=>{_0x25077f(),_0x27548e=null;},0xc8);}),document[_0x4ac75b(0x19c)]('click',function(_0x101801){var _0x21ffb4=_0x4ac75b;!_0x3fc5ae[_0x21ffb4(0x23e)](_0x101801[_0x21ffb4(0x1a9)])&&_0x31780d[_0x21ffb4(0x16c)][_0x21ffb4(0x168)](_0x21ffb4(0x110));}),_0x1d8b0e(),_0x589d7a;}function getLastCode(_0x5c206c){var _0x515a9a=_0x32dc51;const _0x29fa76=_0x5c206c['map'](_0x33c400=>String(_0x33c400[_0x515a9a(0x1f8)])['trim']())[_0x515a9a(0x132)](_0xcfe425=>_0xcfe425!=='');if(_0x29fa76['length']===0x0)return'';const _0x96aef=_0x29fa76['every'](_0x43889f=>/^\d+$/[_0x515a9a(0x1e6)](_0x43889f));if(_0x96aef){const _0x3ec942=_0x29fa76[_0x515a9a(0xfc)](Number),_0x190e4a=Math[_0x515a9a(0x1b0)](..._0x3ec942);return String(_0x190e4a);}let _0x4a1c55;if(typeof Intl!=='undefined'&&Intl[_0x515a9a(0x1ab)]){const _0x184187=new Intl[(_0x515a9a(0x1ab))](undefined,{'numeric':!![],'sensitivity':_0x515a9a(0x1ff)});_0x4a1c55=_0x29fa76[_0x515a9a(0x12f)]()[_0x515a9a(0x105)](_0x184187['compare']);}else{const _0x63dbb8=_0x29fa76[_0x515a9a(0x181)](_0xf4071c=>/^\d+$/[_0x515a9a(0x1e6)](_0xf4071c));_0x63dbb8?_0x4a1c55=_0x29fa76[_0x515a9a(0xfc)](Number)['sort']((_0x225c75,_0x2c1db1)=>_0x225c75-_0x2c1db1)['map'](String):_0x4a1c55=_0x29fa76[_0x515a9a(0x12f)]()['sort']();}return _0x4a1c55[_0x4a1c55[_0x515a9a(0x219)]-0x1];}function getNextCode(_0x17d4a4){var _0x550bd9=_0x32dc51;const _0x23b5cb=getLastCode(_0x17d4a4);if(!_0x23b5cb)return'';if(/^\d+$/[_0x550bd9(0x1e6)](_0x23b5cb))return String(Number(_0x23b5cb)+0x1);const _0x5c92f8=_0x23b5cb['match'](/^([A-Za-z]*)(\d+)$/);if(_0x5c92f8){const [,_0x5c3fb4,_0x31db14]=_0x5c92f8,_0x21ed15=String(Number(_0x31db14)+0x1)['padStart'](_0x31db14['length'],'0');return _0x5c3fb4+_0x21ed15;}return _0x23b5cb;}document[_0x32dc51(0x19d)](_0x32dc51(0x1d7))[_0x32dc51(0x19c)](_0x32dc51(0x1af),function(_0x393dd8){var _0x44106e=_0x32dc51;baseItem['setItemName']=_0x393dd8['target'][_0x44106e(0x200)];}),document[_0x32dc51(0x19d)](_0x32dc51(0x148))[_0x32dc51(0x19c)](_0x32dc51(0x1af),function(_0x29948f){var _0x417356=_0x32dc51;baseItem[_0x417356(0x194)]=_0x29948f['target'][_0x417356(0x200)];}),document[_0x32dc51(0x19d)](_0x32dc51(0x24a))[_0x32dc51(0x19c)]('input',function(_0x2511cc){var _0x457a4b=_0x32dc51;baseItem['setItemDateExpiry']=_0x2511cc[_0x457a4b(0x1a9)][_0x457a4b(0x200)];}),document['getElementById'](_0x32dc51(0x225))[_0x32dc51(0x19c)](_0x32dc51(0x186),function(_0x56030d){var _0x1903a4=_0x32dc51;baseItem[_0x1903a4(0x1ad)]=_0x56030d[_0x1903a4(0x1a9)][_0x1903a4(0x200)];}),document[_0x32dc51(0x19d)](_0x32dc51(0x222))[_0x32dc51(0x19c)](_0x32dc51(0x186),function(_0x51c63a){var _0x55dcbe=_0x32dc51;baseItem['setItemTaxId']=_0x51c63a['target'][_0x55dcbe(0x200)];const _0x5c5daf=_0x51c63a['target'][_0x55dcbe(0x200)],_0x35400c=company[0x0][_0x55dcbe(0x179)][_0x55dcbe(0x1cb)](_0x527022=>_0x527022[_0x55dcbe(0x223)]==_0x5c5daf)?.[_0x55dcbe(0x21e)]||0x0,_0x55ae24=company[0x0][_0x55dcbe(0x179)]['find'](_0x33d4d0=>_0x33d4d0['setTaxId']==_0x5c5daf)?.[_0x55dcbe(0x1a1)]||0x0;baseItem[_0x55dcbe(0x1e8)]=_0x35400c,baseItem[_0x55dcbe(0x22e)]=_0x55ae24;}),document[_0x32dc51(0x19d)](_0x32dc51(0x1ca))['addEventListener'](_0x32dc51(0x186),function(_0xd360c9){var _0x4abb45=_0x32dc51;baseItem[_0x4abb45(0x109)]=_0xd360c9[_0x4abb45(0x1a9)][_0x4abb45(0xfd)];}),document['getElementById'](_0x32dc51(0x1fc))[_0x32dc51(0x19c)](_0x32dc51(0x186),function(_0xb1f40f){var _0x3ab5fb=_0x32dc51;baseItem['setItemIsSold']=_0xb1f40f[_0x3ab5fb(0x1a9)][_0x3ab5fb(0xfd)];}),document[_0x32dc51(0x19d)]('inputItemCode')[_0x32dc51(0x19c)](_0x32dc51(0x1af),function(_0x652f04){var _0x316867=_0x32dc51;baseItem['setItemCode']=_0x652f04[_0x316867(0x1a9)][_0x316867(0x200)];}),document[_0x32dc51(0x19d)](_0x32dc51(0x17e))[_0x32dc51(0x19c)](_0x32dc51(0x1af),function(_0x29f51d){var _0x25b9d6=_0x32dc51;baseItem['setItemBarCode']=_0x29f51d[_0x25b9d6(0x1a9)][_0x25b9d6(0x200)];}),document[_0x32dc51(0x19d)](_0x32dc51(0x17f))['addEventListener'](_0x32dc51(0x125),function(){addUnit(),updateUnitsArray();}),document[_0x32dc51(0x19d)](_0x32dc51(0x1b1))[_0x32dc51(0x19c)](_0x32dc51(0x119),function(){var _0x3e52be=_0x32dc51;const _0xefae73=this['value']['trim']();if(_0xefae73==='')return;const _0x47978e=products[_0x3e52be(0x104)](_0x4e7bde=>_0x4e7bde[_0x3e52be(0x1f8)]==_0xefae73),_0x3b02c2=getLastCode(products);_0x47978e?ntfShow(_0x3e52be(0x1e0)+_0x3b02c2,0x2,0x1):ntfShow(_0x3e52be(0x1a3),0x1,0x1);});function removeImg(_0x2d8fac){var _0xf2932=_0x32dc51;currentImages[_0x2d8fac]=null;var _0x2167ab=imgC[_0xf2932(0x203)]('[data-idx=\x22'+_0x2d8fac+'\x22]');_0x2167ab[_0xf2932(0x1aa)]='';var _0xfbf13=document[_0xf2932(0x107)](_0xf2932(0x1af));_0xfbf13[_0xf2932(0x164)]='file',_0xfbf13[_0xf2932(0x1d8)]='image/*',_0xfbf13['style']['display']='none';var _0x754802=document[_0xf2932(0x107)](_0xf2932(0x1bb));_0x754802[_0xf2932(0x1b9)]='+',_0x2167ab[_0xf2932(0x221)](_0xfbf13),_0x2167ab[_0xf2932(0x221)](_0x754802),_0x2167ab[_0xf2932(0x19c)](_0xf2932(0x125),function(){var _0x1cf0c4=_0xf2932;_0xfbf13[_0x1cf0c4(0x125)]();}),baseItem['setItemImages']=currentImages['filter'](function(_0x2b9e30){return _0x2b9e30;});}function addUnit(_0x52a71f,_0x1e71fc,_0x412f42,_0x427316,_0x436e37,_0x4fb508,_0x1285fc){var _0x301f03=_0x32dc51,_0x150a1a=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x301f03(0x220)]);_0x52a71f=_0x52a71f||'',_0x1e71fc=_0x1e71fc||_0x150a1a[0x3a]&&_0x150a1a[0x3a]['setCode']||'',_0x412f42=_0x412f42!==undefined?_0x412f42:0x1,_0x427316=!!_0x427316,_0x436e37=_0x436e37||'',_0x4fb508=_0x4fb508||'';var _0xe9e3c1=unitCount++,_0x542d20=document[_0x301f03(0x107)]('div');_0x542d20[_0x301f03(0x228)][_0x301f03(0x17d)]=_0xe9e3c1,_0x542d20[_0x301f03(0x228)][_0x301f03(0x16e)]=_0x427316,_0x542d20[_0x301f03(0x1aa)]=_0x301f03(0x1eb)+_0xe9e3c1+_0x301f03(0x1de)+_0x52a71f+_0x301f03(0x22d)+_0xe9e3c1+_0x301f03(0x1c8)+_0xe9e3c1+_0x301f03(0x1de)+_0x412f42+'\x22\x20'+(_0x427316?_0x301f03(0x170):'')+_0x301f03(0x18c)+_0xe9e3c1+_0x301f03(0x1de)+_0x436e37+'\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22'+_0xe9e3c1+_0x301f03(0x1de)+_0x4fb508+_0x301f03(0x118)+(_0x427316?_0x301f03(0x22f):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x542d20[_0x301f03(0x203)](_0x301f03(0x217)),_0x150a1a,_0x301f03(0x176),_0x301f03(0x16a)),_0x542d20[_0x301f03(0x203)]('.unitSelect')[_0x301f03(0x200)]=_0x1e71fc,[_0x301f03(0x1dc),'unitSelect',_0x301f03(0x17a),_0x301f03(0x229),_0x301f03(0x1bf)][_0x301f03(0x11c)](function(_0xdf780b){var _0xefdbc3=_0x301f03;_0x542d20[_0xefdbc3(0x203)]('.'+_0xdf780b)['addEventListener'](_0xefdbc3(0x1af),function(){var _0xc2c725=_0xefdbc3,_0x61c530=_0x1285fc?+_0x1285fc['id'][_0xc2c725(0x1cc)]('_')[0x1]:null;if(_0x1285fc)updateVariantUnits(_0x61c530);else updateUnitsArray();});}),_0x542d20[_0x301f03(0x203)](_0x301f03(0x17c))[_0x301f03(0x19c)]('click',function(){var _0x2a010e=_0x301f03;_0x542d20[_0x2a010e(0x137)]();var _0x20eb0a=_0x1285fc?+_0x1285fc['id']['split']('_')[0x1]:null;if(_0x1285fc)updateVariantUnits(_0x20eb0a);else updateUnitsArray();});var _0x54f510=_0x1285fc||document[_0x301f03(0x19d)](_0x301f03(0x144));_0x54f510[_0x301f03(0x221)](_0x542d20);}function containerIdx(_0x3ae331){var _0x46dfbd=_0x32dc51;return+_0x3ae331['id'][_0x46dfbd(0x1cc)]('_')[0x1];}function updateUnitsArray(){var _0x3a6be6=_0x32dc51,_0x1e2c4d=[],_0x4c14fd=Array[_0x3a6be6(0x1e7)](document[_0x3a6be6(0x149)](_0x3a6be6(0x1a6))),_0x90ea55=_0x4c14fd['find'](_0x3ebcf2=>_0x3ebcf2[_0x3a6be6(0x228)][_0x3a6be6(0x16e)]===_0x3a6be6(0x134)),_0x3c9d15=_0x90ea55?+_0x90ea55[_0x3a6be6(0x203)](_0x3a6be6(0x1ce))['value']:0x1;_0x4c14fd[_0x3a6be6(0x11c)](function(_0x23dabb){var _0x353dca=_0x3a6be6,_0x5b26a8=+_0x23dabb['querySelector'](_0x353dca(0x1ce))[_0x353dca(0x200)]||0x0,_0x38c067=+_0x23dabb[_0x353dca(0x203)]('.priceInput')[_0x353dca(0x200)]||0x0,_0x174520=+_0x23dabb[_0x353dca(0x203)](_0x353dca(0x11f))['value']||0x0;_0x1e2c4d[_0x353dca(0x1d6)]({'setAlias':_0x23dabb[_0x353dca(0x203)]('.unitAlias')['value'][_0x353dca(0x13e)](),'setUnitCode':_0x23dabb[_0x353dca(0x203)](_0x353dca(0x217))[_0x353dca(0x200)],'setEquivalence':_0x5b26a8,'setFactor':_0x23dabb[_0x353dca(0x228)][_0x353dca(0x16e)]===_0x353dca(0x134)?0x1:_0x5b26a8==_0x3c9d15?0x1:_0x5b26a8<_0x3c9d15?_0x3c9d15/_0x5b26a8:_0x5b26a8/_0x3c9d15,'setPrice':_0x38c067,'setCost':_0x174520,'setDefault':_0x23dabb[_0x353dca(0x228)][_0x353dca(0x16e)]===_0x353dca(0x134)?0x1:0x0});}),baseItem[_0x3a6be6(0x23f)]=_0x1e2c4d;}function updateBranches(){var _0x161ceb=_0x32dc51,_0x18031f=[];document[_0x161ceb(0x149)]('#newItem_branches_container\x20>\x20div')[_0x161ceb(0x11c)](function(_0x570a71){var _0x20723c=_0x161ceb,_0x272cfc=_0x570a71[_0x20723c(0x203)]('.branchChk');if(_0x272cfc[_0x20723c(0xfd)]){var _0x4b6593=+_0x272cfc[_0x20723c(0x228)]['id'],_0x168b6f=+_0x570a71[_0x20723c(0x203)]('.branchInit')[_0x20723c(0x200)],_0x275483=+_0x570a71[_0x20723c(0x203)](_0x20723c(0x1fe))[_0x20723c(0x200)];_0x18031f[_0x20723c(0x1d6)]({'setWarehouseCode':_0x4b6593,'setStockInitial':_0x168b6f,'setStockMinimum':_0x275483});}}),baseItem[_0x161ceb(0x1d3)]=_0x18031f;}document[_0x32dc51(0x19d)]('newItem_btn_addProdItem')[_0x32dc51(0x19c)](_0x32dc51(0x125),function(){var _0x2cfd32=_0x32dc51,_0x2eb7aa=Date[_0x2cfd32(0x15a)](),_0xc307d5=document[_0x2cfd32(0x107)](_0x2cfd32(0x1df));_0xc307d5[_0x2cfd32(0x228)]['idx']=_0x2eb7aa,_0xc307d5[_0x2cfd32(0x1aa)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x2eb7aa+_0x2cfd32(0x11b)+_0x2eb7aa+_0x2cfd32(0x10f),prodC['appendChild'](_0xc307d5),initProdSearch(_0xc307d5[_0x2cfd32(0x203)]('.prod_input_container')),_0xc307d5[_0x2cfd32(0x203)]('.removeProd')['addEventListener'](_0x2cfd32(0x125),function(){_0xc307d5['remove'](),updateProdItems();}),_0xc307d5[_0x2cfd32(0x203)]('.prodQty')['addEventListener'](_0x2cfd32(0x1af),updateProdItems),document['getElementById'](_0x2cfd32(0x1d2))[_0x2cfd32(0x16c)]['toggle']('newItem_title_table',!![]),document['getElementById'](_0x2cfd32(0x1d2))[_0x2cfd32(0x16c)][_0x2cfd32(0x21f)](_0x2cfd32(0x110),![]);});function initProdSearch(_0x232300,_0x43f3d1){var _0x209bab=_0x32dc51,_0x4ebf31=_0x232300[_0x209bab(0x203)]('.prodInput'),_0x3ce6c2=_0x232300[_0x209bab(0x203)](_0x209bab(0x10d)),_0x244c69=_0x43f3d1||null;if(_0x43f3d1)_0x4ebf31[_0x209bab(0x200)]=_0x43f3d1['name'];_0x4ebf31[_0x209bab(0x19c)]('input',function(){var _0x581676=_0x209bab,_0x5934e4=_0x4ebf31[_0x581676(0x200)][_0x581676(0x1f3)]()[_0x581676(0x13e)]();_0x3ce6c2[_0x581676(0x1aa)]='';if(!_0x5934e4)return;products[_0x581676(0x132)](_0x5d80ef=>_0x5d80ef[_0x581676(0x20a)][_0x581676(0x1f3)]()[_0x581676(0x188)](_0x5934e4))['slice'](0x0,0x14)[_0x581676(0x11c)](function(_0x46d01c){var _0x5aa5b5=_0x581676,_0x35c15d=document[_0x5aa5b5(0x107)](_0x5aa5b5(0x1df));_0x35c15d[_0x5aa5b5(0x1b9)]=_0x46d01c[_0x5aa5b5(0x20a)],_0x35c15d[_0x5aa5b5(0x228)]['id']=_0x46d01c['id'],_0x35c15d[_0x5aa5b5(0x228)][_0x5aa5b5(0x1a0)]=_0x46d01c[_0x5aa5b5(0x20a)],_0x3ce6c2[_0x5aa5b5(0x221)](_0x35c15d),_0x35c15d['addEventListener'](_0x5aa5b5(0x125),function(){var _0x2d2164=_0x5aa5b5;_0x244c69={'id':_0x46d01c['id'],'name':_0x46d01c['setDescripcion']},_0x4ebf31[_0x2d2164(0x200)]=_0x46d01c[_0x2d2164(0x20a)],_0x3ce6c2[_0x2d2164(0x1aa)]='';var _0x59baf9=_0x232300[_0x2d2164(0x1bd)](_0x2d2164(0x1f7));if(_0x59baf9){var _0x259d52=+_0x59baf9['id'][_0x2d2164(0x1cc)]('_')[0x1];updateVariantComponents(_0x259d52);}else updateProdItems();});});}),_0x4ebf31['addEventListener']('focus',function(){var _0x5ba6ee=_0x209bab;_0x3ce6c2[_0x5ba6ee(0x16c)]['remove'](_0x5ba6ee(0x110));}),document[_0x209bab(0x19c)](_0x209bab(0x125),function(_0xa997b8){var _0x237067=_0x209bab;if(!_0x232300[_0x237067(0x23e)](_0xa997b8['target']))_0x3ce6c2[_0x237067(0x16c)][_0x237067(0x168)]('newItem_hidden');}),Object[_0x209bab(0x182)](_0x232300,'selectedItem',{'get':()=>_0x244c69});}function updateProdItems(){var _0x525bb4=_0x32dc51,_0x18822f=[];Array['from'](prodC[_0x525bb4(0x128)])[_0x525bb4(0x11c)](function(_0x23a498){var _0x46b20f=_0x525bb4,_0x788a84=_0x23a498['querySelector'](_0x46b20f(0x239));if(!_0x788a84)return;var _0x2d9566=_0x23a498[_0x46b20f(0x203)](_0x46b20f(0x202)),_0x562651=_0x788a84[_0x46b20f(0x1c0)];_0x562651&&_0x18822f['push']({'setItemId':_0x562651['id'],'setDescripcion':_0x562651[_0x46b20f(0x1a0)],'setCantidad':+_0x2d9566['value']});}),baseItem[_0x525bb4(0x11a)]=_0x18822f,_0x18822f[_0x525bb4(0x219)]===0x0&&(document['getElementById'](_0x525bb4(0x1d2))[_0x525bb4(0x16c)][_0x525bb4(0x21f)]('newItem_title_table',![]),document[_0x525bb4(0x19d)](_0x525bb4(0x1d2))[_0x525bb4(0x16c)]['toggle'](_0x525bb4(0x110),!![]));}document[_0x32dc51(0x19d)](_0x32dc51(0x187))[_0x32dc51(0x19c)](_0x32dc51(0x125),function(){var _0x3a6bce=_0x32dc51,_0x2cdf45=vgCount++,_0x39c74c=document[_0x3a6bce(0x107)]('div');_0x39c74c[_0x3a6bce(0x228)][_0x3a6bce(0x17d)]=_0x2cdf45,_0x39c74c['innerHTML']=_0x3a6bce(0x1d1)+_0x2cdf45+'\x22>'+_0x3a6bce(0x24b)+_0x2cdf45+'\x22>'+_0x3a6bce(0x210),vgC[_0x3a6bce(0x221)](_0x39c74c),_0x39c74c[_0x3a6bce(0x203)](_0x3a6bce(0x1f0))['addEventListener'](_0x3a6bce(0x119),generateVariants),_0x39c74c[_0x3a6bce(0x203)]('.vgVals')['addEventListener']('blur',generateVariants),_0x39c74c[_0x3a6bce(0x203)]('.removeGroup')[_0x3a6bce(0x19c)](_0x3a6bce(0x125),function(){var _0x7a570d=_0x3a6bce;_0x39c74c[_0x7a570d(0x137)](),generateVariants();});});function generateVariants(){var _0x1a6556=_0x32dc51,_0x18b2a9=[];vgC[_0x1a6556(0x149)](_0x1a6556(0x1df))['forEach'](function(_0x31e0d2){var _0x31c39f=_0x1a6556,_0x156aef=_0x31e0d2[_0x31c39f(0x203)](_0x31c39f(0x1f0))['value'][_0x31c39f(0x13e)](),_0x5c227d=_0x31e0d2[_0x31c39f(0x203)]('.vgVals')[_0x31c39f(0x200)][_0x31c39f(0x1cc)](',')['map'](_0x3690b0=>_0x3690b0[_0x31c39f(0x13e)]())[_0x31c39f(0x132)](_0x1bcdc3=>_0x1bcdc3);if(_0x156aef&&_0x5c227d[_0x31c39f(0x219)])_0x18b2a9[_0x31c39f(0x1d6)]({'name':_0x156aef,'vals':_0x5c227d});});var _0x220784=[{}];_0x18b2a9[_0x1a6556(0x11c)](function(_0x301099){var _0x44ac03=_0x1a6556;_0x220784=_0x220784[_0x44ac03(0x115)](function(_0x7ee8fc){var _0x2f3caa=_0x44ac03;return _0x301099[_0x2f3caa(0x11d)]['map'](function(_0x56450e){var _0x487aa0=_0x2f3caa,_0x3f0cf3=Object[_0x487aa0(0x11e)]({},_0x7ee8fc);return _0x3f0cf3[_0x301099['name']]=_0x56450e,_0x3f0cf3;});});}),newItems=[],varContainer[_0x1a6556(0x1aa)]='',_0x220784[_0x1a6556(0x11c)](function(_0x5940ed,_0x50122c){var _0x449761=_0x1a6556,_0x3dde65=JSON['parse'](JSON[_0x449761(0x16f)](baseItem));_0x3dde65[_0x449761(0x140)]=_0x5940ed,_0x3dde65['setItemVariantName']=baseItem[_0x449761(0x1a7)]+'\x20'+Object['entries'](_0x5940ed)[_0x449761(0xfc)](_0x10fdfe=>_0x10fdfe[0x0]+'\x20'+_0x10fdfe[0x1])[_0x449761(0x238)]('\x20'),newItems[_0x449761(0x1d6)](_0x3dde65);var _0x10428e=document[_0x449761(0x107)](_0x449761(0x1df));_0x10428e['classList'][_0x449761(0x168)]('variantForm'),_0x10428e['dataset']['idx']=_0x50122c,_0x10428e[_0x449761(0x1aa)]=_0x449761(0x13b)+_0x3dde65['setItemVariantName']+_0x449761(0x13d)+_0x3dde65[_0x449761(0x1f4)]+_0x449761(0x136)+_0x3dde65[_0x449761(0x1f9)]+_0x449761(0x1a8)+_0x3dde65['setItemDateExpiry']+_0x449761(0x195)+_0x50122c+_0x449761(0x12a)+_0x50122c+_0x449761(0x198)+_0x50122c+_0x449761(0x114),varContainer[_0x449761(0x221)](_0x10428e),_0x10428e[_0x449761(0x203)](_0x449761(0x1ac))[_0x449761(0x19c)](_0x449761(0x1af),_0x7e4305=>newItems[_0x50122c]['setItemCode']=_0x7e4305['target'][_0x449761(0x200)]),_0x10428e['querySelector'](_0x449761(0x177))[_0x449761(0x19c)](_0x449761(0x1af),_0x31ef0e=>newItems[_0x50122c]['setItemBarCode']=_0x31ef0e['target'][_0x449761(0x200)]),_0x10428e['querySelector'](_0x449761(0x214))['addEventListener']('change',_0x4aa4c7=>newItems[_0x50122c][_0x449761(0x14a)]=_0x4aa4c7[_0x449761(0x1a9)][_0x449761(0x200)]),initVariantUnits(_0x50122c),initVariantComponents(_0x50122c),initVariantBranches(_0x50122c),_0x10428e[_0x449761(0x203)]('.removeVariant')[_0x449761(0x19c)](_0x449761(0x125),function(){var _0x376d1e=_0x449761,_0x55f278=+_0x10428e[_0x376d1e(0x228)][_0x376d1e(0x17d)];newItems[_0x376d1e(0x196)](_0x55f278,0x1),_0x10428e[_0x376d1e(0x137)](),document[_0x376d1e(0x149)](_0x376d1e(0xfe))[_0x376d1e(0x11c)](function(_0x530627,_0x4761d7){var _0x578797=_0x376d1e;_0x530627[_0x578797(0x228)]['idx']=_0x4761d7;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x32cedb){var _0x4400fa=_0x32dc51,_0x2212b3=document[_0x4400fa(0x19d)](_0x4400fa(0x18a)+_0x32cedb+_0x4400fa(0x158)),_0x142b9c=[];Array[_0x4400fa(0x1e7)](_0x2212b3[_0x4400fa(0x128)])[_0x4400fa(0x11c)](function(_0x375530){var _0x240128=_0x4400fa,_0x53c229=+_0x375530['querySelector'](_0x240128(0x1ce))[_0x240128(0x200)]||0x0,_0x3577dd=_0x375530[_0x240128(0x203)]('.unitAlias')[_0x240128(0x200)][_0x240128(0x13e)](),_0x23107d=_0x375530['querySelector'](_0x240128(0x217))[_0x240128(0x200)],_0xb08e20=+_0x375530[_0x240128(0x203)]('.priceInput')[_0x240128(0x200)]||0x0,_0x1b7d3e=+_0x375530[_0x240128(0x203)](_0x240128(0x11f))[_0x240128(0x200)]||0x0,_0x2fee18=_0x375530[_0x240128(0x228)][_0x240128(0x16e)]===_0x240128(0x134),_0x57d97c=+_0x2212b3[_0x240128(0x203)](_0x240128(0x139))['value']||0x1,_0x13887e=_0x2fee18?0x1:_0x53c229==_0x57d97c?0x1:_0x53c229<_0x57d97c?_0x57d97c/_0x53c229:_0x53c229/_0x57d97c;_0x142b9c[_0x240128(0x1d6)]({'setAlias':_0x3577dd,'setUnitCode':_0x23107d,'setEquivalence':_0x53c229,'setFactor':_0x13887e,'setPrice':_0xb08e20,'setCost':_0x1b7d3e,'setDefault':_0x2fee18?0x1:0x0});}),newItems[_0x32cedb][_0x4400fa(0x23f)]=_0x142b9c;}function initVariantUnits(_0x4e6f54){var _0x336dcd=_0x32dc51,_0x199751=document['getElementById'](_0x336dcd(0x18a)+_0x4e6f54+'_units_container');_0x199751[_0x336dcd(0x1aa)]='',newItems[_0x4e6f54][_0x336dcd(0x23f)][_0x336dcd(0x11c)](function(_0x331d93){var _0x15bd6c=_0x336dcd;addUnit(_0x331d93[_0x15bd6c(0x124)],_0x331d93[_0x15bd6c(0x183)],_0x331d93[_0x15bd6c(0x126)],_0x331d93[_0x15bd6c(0x23b)],_0x331d93[_0x15bd6c(0x233)],_0x331d93[_0x15bd6c(0x175)],_0x199751);}),_0x199751[_0x336dcd(0x1f6)][_0x336dcd(0x203)](_0x336dcd(0x22c))[_0x336dcd(0x19c)]('click',function(){addUnit('','',0x1,![],'','',_0x199751),updateVariantUnits(_0x4e6f54);});}function updateVariantUnits(_0x497f15){var _0x16afa1=_0x32dc51,_0x2d918e=document[_0x16afa1(0x19d)](_0x16afa1(0x18a)+_0x497f15+'_units_container'),_0xe25108=_0x2d918e['querySelector'](_0x16afa1(0x139)),_0x468058=_0xe25108?+_0xe25108[_0x16afa1(0x200)]:0x1,_0x3e2be2=Array['from'](_0x2d918e[_0x16afa1(0x128)])[_0x16afa1(0xfc)](function(_0x2518e0){var _0x593dbd=_0x16afa1,_0x5555c2=_0x2518e0[_0x593dbd(0x203)](_0x593dbd(0x19b))['value'][_0x593dbd(0x13e)](),_0x16fbc6=_0x2518e0[_0x593dbd(0x203)](_0x593dbd(0x217))['value'],_0x1e645e=+_0x2518e0[_0x593dbd(0x203)](_0x593dbd(0x1ce))[_0x593dbd(0x200)]||0x0,_0x41fa8a=+_0x2518e0['querySelector'](_0x593dbd(0x243))['value']||0x0,_0x1a814a=+_0x2518e0[_0x593dbd(0x203)](_0x593dbd(0x11f))[_0x593dbd(0x200)]||0x0,_0x157d15=_0x2518e0[_0x593dbd(0x228)][_0x593dbd(0x16e)]==='true';return{'setAlias':_0x5555c2,'setUnitCode':_0x16fbc6,'setEquivalence':_0x1e645e,'setFactor':_0x157d15?0x1:_0x1e645e==_0x468058?0x1:_0x1e645e<_0x468058?_0x468058/_0x1e645e:_0x1e645e/_0x468058,'setPrice':_0x41fa8a,'setCost':_0x1a814a,'setDefault':_0x157d15?0x1:0x0};});newItems[_0x497f15][_0x16afa1(0x23f)]=_0x3e2be2;}function initVariantComponents(_0x4170cd){var _0x50d190=_0x32dc51,_0x439de3=document[_0x50d190(0x19d)](_0x50d190(0x18a)+_0x4170cd+_0x50d190(0x106));_0x439de3[_0x50d190(0x1aa)]='',newItems[_0x4170cd]['setItemComponents'][_0x50d190(0x11c)](function(_0x1e472e){var _0x118719=_0x50d190,_0x5563cc=document[_0x118719(0x107)](_0x118719(0x1df)),_0x17b649=Date[_0x118719(0x15a)]();_0x5563cc[_0x118719(0x228)][_0x118719(0x17d)]=_0x17b649,_0x5563cc[_0x118719(0x1aa)]=_0x118719(0x154)+_0x17b649+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x1e472e[_0x118719(0x184)]+_0x118719(0x1d0),_0x439de3['appendChild'](_0x5563cc),initProdSearch(_0x5563cc[_0x118719(0x203)](_0x118719(0x239)),{'id':_0x1e472e['setItemId'],'name':_0x1e472e[_0x118719(0x20a)]}),_0x5563cc[_0x118719(0x203)](_0x118719(0x202))[_0x118719(0x19c)](_0x118719(0x1af),function(){updateVariantComponents(_0x4170cd);}),_0x5563cc[_0x118719(0x203)](_0x118719(0x208))['addEventListener'](_0x118719(0x125),function(){var _0x2185a1=_0x118719;_0x5563cc[_0x2185a1(0x137)](),updateVariantComponents(_0x4170cd);});}),_0x439de3['parentNode'][_0x50d190(0x203)]('.addVariantComp')[_0x50d190(0x19c)](_0x50d190(0x125),function(){var _0x479c6d=_0x50d190,_0x395efb=document[_0x479c6d(0x107)]('div'),_0x5d632c=Date[_0x479c6d(0x15a)]();_0x395efb['dataset'][_0x479c6d(0x17d)]=_0x5d632c,_0x395efb[_0x479c6d(0x1aa)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x5d632c+_0x479c6d(0x15b),_0x439de3['appendChild'](_0x395efb),initProdSearch(_0x395efb[_0x479c6d(0x203)]('.prod_input_container')),_0x395efb[_0x479c6d(0x203)](_0x479c6d(0x202))[_0x479c6d(0x19c)](_0x479c6d(0x1af),function(){updateVariantComponents(_0x4170cd);}),_0x395efb[_0x479c6d(0x203)]('.removeCombo')[_0x479c6d(0x19c)]('click',function(){_0x395efb['remove'](),updateVariantComponents(_0x4170cd);});});}function updateVariantComponents(_0x379c1e){var _0x3f4477=_0x32dc51,_0xc1a0a4=document[_0x3f4477(0x19d)](_0x3f4477(0x18a)+_0x379c1e+_0x3f4477(0x106)),_0x1d5a3e=Array['from'](_0xc1a0a4['children'])['map'](function(_0x3508d0){var _0xb4b43e=_0x3f4477,_0x29efe4=_0x3508d0[_0xb4b43e(0x203)](_0xb4b43e(0x239)),_0x3cab15=_0x29efe4[_0xb4b43e(0x1c0)],_0x22d80b=+_0x3508d0[_0xb4b43e(0x203)](_0xb4b43e(0x202))[_0xb4b43e(0x200)]||0x0;return _0x3cab15?{'setItemId':_0x3cab15['id'],'setDescripcion':_0x3cab15[_0xb4b43e(0x1a0)],'setCantidad':_0x22d80b}:null;})['filter'](_0x1bf5d0=>_0x1bf5d0);newItems[_0x379c1e][_0x3f4477(0x11a)]=_0x1d5a3e;}function initVariantBranches(_0x455e92){var _0x8587a0=_0x32dc51;const _0x4d2b9e=getAllWarehouses();var _0x221fae=document['getElementById'](_0x8587a0(0x18a)+_0x455e92+'_branch_container');_0x221fae['innerHTML']='',newItems[_0x455e92][_0x8587a0(0x1d3)][_0x8587a0(0x11c)](function(_0xa1d559){var _0x41a17b=_0x8587a0,_0x2a0cf8=_0x4d2b9e[_0x41a17b(0x1cb)](_0x500aa7=>_0x500aa7[_0x41a17b(0x166)]==_0xa1d559[_0x41a17b(0x227)]),_0x2f4c42=document[_0x41a17b(0x107)](_0x41a17b(0x1df));_0x2f4c42['innerHTML']=_0x41a17b(0x216)+_0xa1d559[_0x41a17b(0x227)]+_0x41a17b(0x20e)+_0x2a0cf8[_0x41a17b(0x117)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0xa1d559['setWarehouseCode']+_0x41a17b(0x1de)+_0xa1d559[_0x41a17b(0x151)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0xa1d559[_0x41a17b(0x227)]+_0x41a17b(0x1de)+_0xa1d559[_0x41a17b(0x18e)]+'\x22>',_0x221fae['appendChild'](_0x2f4c42),_0x2f4c42[_0x41a17b(0x149)](_0x41a17b(0x1af))[_0x41a17b(0x11c)](function(_0x26be97){var _0xfa34c=_0x41a17b;_0x26be97[_0xfa34c(0x19c)]('input',function(){updateVariantBranches(_0x455e92);});});}),_0x4d2b9e['forEach'](function(_0x1bacb1){var _0x407c76=_0x8587a0;if(!newItems[_0x455e92]['setItemWarehouses'][_0x407c76(0x1cb)](_0x4e1a56=>_0x4e1a56['setWarehouseCode']===_0x1bacb1[_0x407c76(0x166)])){var _0x518e9c=document['createElement'](_0x407c76(0x1df));_0x518e9c[_0x407c76(0x1aa)]=_0x407c76(0x216)+_0x1bacb1[_0x407c76(0x166)]+_0x407c76(0x232)+_0x1bacb1[_0x407c76(0x117)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x1bacb1[_0x407c76(0x166)]+_0x407c76(0x167)+_0x1bacb1[_0x407c76(0x166)]+'\x22>',_0x221fae[_0x407c76(0x221)](_0x518e9c),_0x518e9c[_0x407c76(0x149)](_0x407c76(0x1af))[_0x407c76(0x11c)](function(_0x56bd92){var _0x334bc4=_0x407c76;_0x56bd92[_0x334bc4(0x19c)](_0x334bc4(0x1af),function(){updateVariantBranches(_0x455e92);});});}});}function _0x9586(_0x4efdc3,_0x47dc61){var _0x12fcdb=_0x3b24();return _0x9586=function(_0x552765,_0x315065){_0x552765=_0x552765-0xfc;var _0x2bc2eb=_0x12fcdb[_0x552765];return _0x2bc2eb;},_0x9586(_0x4efdc3,_0x47dc61);}function updateVariantBranches(_0x3f020e){var _0x30e1bb=_0x32dc51,_0x3b3e87=document[_0x30e1bb(0x19d)]('variant_'+_0x3f020e+'_branch_container'),_0x365e5a=[];_0x3b3e87[_0x30e1bb(0x149)](_0x30e1bb(0x1df))['forEach'](function(_0x33299c){var _0x5d7d7f=_0x30e1bb,_0xea35a0=_0x33299c[_0x5d7d7f(0x203)](_0x5d7d7f(0x152));if(_0xea35a0[_0x5d7d7f(0xfd)]){var _0x9bf1d=+_0xea35a0[_0x5d7d7f(0x228)]['id'],_0x39aace=+_0x33299c[_0x5d7d7f(0x203)](_0x5d7d7f(0x21d))[_0x5d7d7f(0x200)]||0x0,_0x37e9bc=+_0x33299c[_0x5d7d7f(0x203)](_0x5d7d7f(0x1fe))[_0x5d7d7f(0x200)]||0x0;_0x365e5a[_0x5d7d7f(0x1d6)]({'setWarehouseCode':_0x9bf1d,'setStockInitial':_0x39aace,'setStockMinimum':_0x37e9bc});}}),newItems[_0x3f020e][_0x30e1bb(0x1d3)]=_0x365e5a;}async function storeOfflineProduct(_0x3b1c82){var _0x2cebc1=_0x32dc51;try{const _0x48befe=await createCartStore(''),_0x18f8ea=_0x48befe[_0x2cebc1(0x10e)](_0x2cebc1(0x116),_0x2cebc1(0x14f)),_0x1879f4=_0x18f8ea[_0x2cebc1(0x1c6)](_0x2cebc1(0x116));_0x1879f4['add'](_0x3b1c82),_0x18f8ea[_0x2cebc1(0x1bc)]=()=>{var _0x5e90ad=_0x2cebc1;console[_0x5e90ad(0x15d)](_0x5e90ad(0x1fa));},_0x18f8ea['onerror']=_0x3e814d=>{var _0x1be755=_0x2cebc1;console[_0x1be755(0x206)](_0x1be755(0x12d),_0x3e814d[_0x1be755(0x1a9)][_0x1be755(0x206)]);};}catch(_0x492c6b){console['error'](_0x2cebc1(0x23a),_0x492c6b);}}document['getElementById'](_0x32dc51(0x133))[_0x32dc51(0x19c)]('click',async function(_0x5f062b){var _0x376faf=_0x32dc51;_0x5f062b[_0x376faf(0x1e3)]();const _0x445273=document[_0x376faf(0x19d)](_0x376faf(0x1b1)),_0x255b86=document['getElementById'](_0x376faf(0x1f5))['value'];if(!_0x445273[_0x376faf(0x200)][_0x376faf(0x13e)]()&&_0x255b86==0x0){ntfShow(_0x376faf(0x145),0x2,0x1);return;}_0x255b86==0x1&&(_0x445273[_0x376faf(0x200)]='',baseItem['setItemCode']='');const _0xc7f45=document['getElementById'](_0x376faf(0x1d7));if(!_0xc7f45[_0x376faf(0x200)][_0x376faf(0x13e)]()){ntfShow(_0x376faf(0x1fd),0x2,0x1);return;}const _0x3aae13=document[_0x376faf(0x19d)](_0x376faf(0x155));hideModalCreateItem(),showLoadingModal();newItems[_0x376faf(0x219)]===0x0&&(newItems=[baseItem]);const _0x35cb3f=document[_0x376faf(0x19d)]('windowId')['value'],_0x3b947=window_options[_0x35cb3f]['setMoneda'],_0x523edf=[];newItems[_0x376faf(0x11c)](_0x3dfae3=>{var _0x1c856e=_0x376faf;const _0x23576f=generateNumericUniqId();_0x3dfae3[_0x1c856e(0x23f)]['forEach'](_0x1a63ae=>{var _0x131784=_0x1c856e;const _0x23e0f2=generateNumericUniqId();_0x1a63ae['setItemUnitId']=_0x23e0f2;const _0x5a6b49={'id':_0x23e0f2,'setIdProducto':_0x23576f,'setCodProducto':_0x3dfae3[_0x131784(0x1f4)],'setDescripcion':_0x3dfae3[_0x131784(0x1a7)],'setItemDescription':_0x3dfae3['setItemDescription'],'setBatchExpirationDate':_0x3dfae3[_0x131784(0x14a)],'setBatchName':'','setCategoria':_0x3dfae3['setItemCategories'][0x0]||'','setMarca':_0x3dfae3[_0x131784(0x1dd)][0x0]||'','setConversionFactor':parseFloat(_0x1a63ae[_0x131784(0x169)]),'setImages':[],'setImg':_0x131784(0x150),'setInventariable':0x1,'setItemIsBought':_0x3dfae3[_0x131784(0x109)]?0x1:0x0,'setItemIsSold':_0x3dfae3[_0x131784(0x162)]?0x1:0x0,'setPorcentajeIgv':_0x3dfae3[_0x131784(0x22e)],'setPrinters':[],'setTaxId':_0x3dfae3[_0x131784(0x20c)],'setTipAfeIgv':_0x3dfae3[_0x131784(0x1e8)],'setUnidad':_0x1a63ae[_0x131784(0x183)],'setUnidadCodigo':_0x1a63ae[_0x131784(0x183)],'setItemUnitAlias':_0x1a63ae[_0x131784(0x124)],'currency_data':[{'currency':_0x3b947,'setMtoPrecioCostoUnitario':_0x1a63ae[_0x131784(0x175)],'setMtoPrecioUnitario':_0x1a63ae[_0x131784(0x233)],'setPriceLists':[]}],'sucursales':_0x3dfae3[_0x131784(0x1d3)][_0x131784(0xfc)](_0x3fd7b9=>({'setIdSucursal':_0x3fd7b9['setWarehouseCode'],'setSucursalStock':_0x3fd7b9[_0x131784(0x151)][_0x131784(0x173)](),'setWarehouseStockMin':_0x3fd7b9[_0x131784(0x18e)]['toString']()})),'setItemFree':_0x3dfae3[_0x131784(0x1f5)],'setItemBarCode':_0x3dfae3[_0x131784(0x1f9)],'setItemBrands':_0x3dfae3[_0x131784(0x1dd)][_0x131784(0x12f)](),'setItemCategories':_0x3dfae3[_0x131784(0x1ba)][_0x131784(0x12f)](),'setItemComponents':_0x3dfae3['setItemComponents'][_0x131784(0xfc)](_0x1adb2c=>({..._0x1adb2c})),'setItemImages':_0x3dfae3['setItemImages'][_0x131784(0x12f)](),'setItemVariantName':_0x3dfae3[_0x131784(0x143)],'setItemVariantValues':{..._0x3dfae3[_0x131784(0x140)]}};_0x523edf[_0x131784(0x1d6)](_0x5a6b49),(_0x3aae13[_0x131784(0xfd)]||_0x255b86==0x1)&&addToCart(_0x5a6b49);});}),console['log']('Items\x20finales:',newItems),await finalizeImport(_0x523edf,newItems,![]);}),[_0x32dc51(0x249),'dragover'][_0x32dc51(0x11c)](_0x3a8670=>dropZone[_0x32dc51(0x19c)](_0x3a8670,_0x24cd9e=>{var _0xc065ce=_0x32dc51;_0x24cd9e[_0xc065ce(0x1e3)](),dropZone[_0xc065ce(0x16c)]['add'](_0xc065ce(0x193));})),[_0x32dc51(0x22b),_0x32dc51(0x1a2)][_0x32dc51(0x11c)](_0x939221=>dropZone[_0x32dc51(0x19c)](_0x939221,_0x854dde=>{var _0x4bcddc=_0x32dc51;_0x854dde[_0x4bcddc(0x1e3)](),dropZone[_0x4bcddc(0x16c)]['remove'](_0x4bcddc(0x193));})),dropZone[_0x32dc51(0x19c)]('drop',_0x2022bc=>{var _0x41ecb5=_0x32dc51;const _0x55322d=_0x2022bc[_0x41ecb5(0x161)][_0x41ecb5(0x1c5)][0x0];if(!_0x55322d)return;fileInput[_0x41ecb5(0x1c5)]=_0x2022bc[_0x41ecb5(0x161)][_0x41ecb5(0x1c5)],dropZone[_0x41ecb5(0x203)](_0x41ecb5(0x121))['textContent']=_0x55322d['name'],removeBtn['hidden']=![],fileInput[_0x41ecb5(0x218)](new Event('change'));}),removeBtn[_0x32dc51(0x19c)](_0x32dc51(0x125),()=>{var _0x1ef2ff=_0x32dc51;fileInput[_0x1ef2ff(0x200)]='',dropZone[_0x1ef2ff(0x203)]('.drop-zone__prompt')[_0x1ef2ff(0x1b9)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn['hidden']=!![],progressBar[_0x1ef2ff(0x197)]['display']=_0x1ef2ff(0x23c),statusDiv['textContent']='',uploadBtn[_0x1ef2ff(0x170)]=!![];});const exportBtn=document[_0x32dc51(0x19d)]('btnExportarItems');exportBtn[_0x32dc51(0x19c)](_0x32dc51(0x125),onClickExportarItems);async function onClickExportarItems(){var _0x1050ba=_0x32dc51;if(!Array[_0x1050ba(0x237)](products)||!products[_0x1050ba(0x219)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x5f1816=await fetch(_0x1050ba(0x19e));if(!_0x5f1816['ok'])throw new Error(_0x1050ba(0x190));const _0x4bb9f6=await _0x5f1816[_0x1050ba(0x1a4)](),_0x5a5c9c=document['getElementById'](_0x1050ba(0x166))[_0x1050ba(0x200)];let _0x13cbe8=products;const _0x5e1098=getUserPermissionApiERP(0x2);_0x5e1098==0x1&&(_0x13cbe8=products['filter'](_0x1b3c80=>Array['isArray'](_0x1b3c80['sucursales'])&&_0x1b3c80[_0x1050ba(0x234)][_0x1050ba(0x104)](_0x3f1cdb=>String(_0x3f1cdb['setIdSucursal'])==String(_0x5a5c9c))));const _0x1ecb69=_0x13cbe8[_0x1050ba(0x13f)]((_0x18ddb7,_0x4bc2d8)=>{const _0x1a20ed=_0x4bc2d8['setIdProducto'];if(!_0x18ddb7[_0x1a20ed])_0x18ddb7[_0x1a20ed]=[];return _0x18ddb7[_0x1a20ed]['push'](_0x4bc2d8),_0x18ddb7;},{}),_0x1e4fff=Object[_0x1050ba(0x130)](_0x1ecb69)[_0x1050ba(0xfc)](_0x106b0e=>{var _0x1d8ed6=_0x1050ba;const _0x30f989=_0x106b0e[0x0],_0x208043=_0x106b0e[0x1]||{},_0x492556=_0x106b0e[0x2]||{};function _0x531fee(_0x70fdb,_0x5731d8,_0x3922db){var _0x2d0704=_0x9586;if(!_0x70fdb||!Array[_0x2d0704(0x237)](_0x70fdb[_0x2d0704(0x211)]))return'';const _0x2fbd55=_0x70fdb['currency_data'][_0x2d0704(0x1cb)](_0x2e672b=>_0x2e672b[_0x2d0704(0x17b)]===_0x5731d8);return _0x2fbd55?_0x2fbd55[_0x3922db]:'';}return{'id':_0x30f989[_0x1d8ed6(0x1a5)],'setItemType':_0x30f989[_0x1d8ed6(0x1ad)],'setCodProducto':_0x30f989[_0x1d8ed6(0x1f8)],'setDescripcion':_0x30f989[_0x1d8ed6(0x20a)],'setItemDescription':_0x30f989[_0x1d8ed6(0x194)],'setItemIsSold':_0x30f989[_0x1d8ed6(0x162)],'setItemIsBought':_0x30f989[_0x1d8ed6(0x109)],'setCategoria':_0x30f989[_0x1d8ed6(0x1be)],'setMarca':_0x30f989[_0x1d8ed6(0x246)],'setTaxId':_0x30f989[_0x1d8ed6(0x223)],'setUnitId':_0x30f989['id'],'setItemBarCode':_0x30f989['setItemBarCode'],'setUnidadCodigo':_0x30f989[_0x1d8ed6(0x1b5)],'setItemUnitAlias':_0x30f989[_0x1d8ed6(0x14e)]??'','PEN_setMtoPrecioUnitario':_0x531fee(_0x30f989,_0x1d8ed6(0x122),_0x1d8ed6(0x102)),'PEN_setMtoPrecioCostoUnitario':_0x531fee(_0x30f989,_0x1d8ed6(0x122),_0x1d8ed6(0x100)),'USD_setMtoPrecioUnitario':_0x531fee(_0x30f989,_0x1d8ed6(0x21c),_0x1d8ed6(0x102)),'USD_setMtoPrecioCostoUnitario':_0x531fee(_0x30f989,'USD',_0x1d8ed6(0x100)),'setItemCommissionPercentage':_0x30f989[_0x1d8ed6(0x101)]?parseFloat(_0x30f989['setItemCommissionPercentage']):'','setUnitId2':_0x208043['id']??'','setItemBarCode2':_0x208043[_0x1d8ed6(0x1f9)]??'','setUnidadCodigo2':_0x208043[_0x1d8ed6(0x1b5)]??'','setItemUnitAlias2':_0x208043[_0x1d8ed6(0x14e)]??'','setUnidadEquivalencia2':_0x208043[_0x1d8ed6(0x1ec)]??'','PEN_setMtoPrecioUnitario2':_0x531fee(_0x208043,_0x1d8ed6(0x122),_0x1d8ed6(0x102))??'','PEN_setMtoPrecioCostoUnitario2':_0x531fee(_0x208043,_0x1d8ed6(0x122),_0x1d8ed6(0x100))??'','USD_setMtoPrecioUnitario2':_0x531fee(_0x208043,_0x1d8ed6(0x21c),_0x1d8ed6(0x102))??'','USD_setMtoPrecioCostoUnitario2':_0x531fee(_0x208043,_0x1d8ed6(0x21c),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x208043[_0x1d8ed6(0x101)]?parseFloat(_0x208043[_0x1d8ed6(0x101)]):'','setUnitId3':_0x492556['id']??'','setItemBarCode3':_0x492556['setItemBarCode']??'','setUnidadCodigo3':_0x492556['setUnidadCodigo']??'','setItemUnitAlias3':_0x492556['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x492556[_0x1d8ed6(0x1ec)]??'','PEN_setMtoPrecioUnitario3':_0x531fee(_0x492556,_0x1d8ed6(0x122),_0x1d8ed6(0x102))??'','PEN_setMtoPrecioCostoUnitario3':_0x531fee(_0x492556,_0x1d8ed6(0x122),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x531fee(_0x492556,_0x1d8ed6(0x21c),_0x1d8ed6(0x102))??'','USD_setMtoPrecioCostoUnitario3':_0x531fee(_0x492556,'USD','setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage3':_0x492556[_0x1d8ed6(0x101)]?parseFloat(_0x492556['setItemCommissionPercentage']):'','setInventariable':_0x30f989[_0x1d8ed6(0x22a)],'setSucursalStock':_0x5e1098==0x1?_0x30f989[_0x1d8ed6(0x234)][_0x1d8ed6(0x1cb)](_0x4e93df=>String(_0x4e93df['setIdSucursal'])==String(_0x5a5c9c))[_0x1d8ed6(0x230)]:'','setWarehouseStockMin':_0x5e1098==0x1?_0x30f989[_0x1d8ed6(0x234)]['find'](_0x35f827=>String(_0x35f827[_0x1d8ed6(0x185)])==String(_0x5a5c9c))[_0x1d8ed6(0x13c)]:'','setBatchName':_0x30f989[_0x1d8ed6(0x1b8)],'setBatchExpirationDate':_0x30f989[_0x1d8ed6(0x1ef)],..._0x30f989[_0x1d8ed6(0x140)]};});try{JSON[_0x1050ba(0x16f)](_0x1e4fff);}catch(_0x7eceb9){console[_0x1050ba(0x206)](_0x1050ba(0x12e),_0x7eceb9),ntfShow(_0x1050ba(0x1e9));return;}statusDiv[_0x1050ba(0x1b9)]=_0x1050ba(0x224),progressBar[_0x1050ba(0x197)][_0x1050ba(0x180)]=_0x1050ba(0x24c),progressBar['value']=0x0,itemWorker[_0x1050ba(0x178)]({'action':_0x1050ba(0x1c7),'products':_0x1e4fff,'plantillaBuf':_0x4bb9f6},[_0x4bb9f6]);}catch(_0x460ce8){console[_0x1050ba(0x206)](_0x460ce8),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x460ce8[_0x1050ba(0x16d)]);}}itemWorker[_0x32dc51(0x14d)]=({data:_0x4be798})=>{var _0x2bf76c=_0x32dc51;const {type:_0x5a3105,payload:_0x1db9df}=_0x4be798;_0x5a3105===_0x2bf76c(0x1f1)&&(progressBar['style'][_0x2bf76c(0x180)]=_0x2bf76c(0x24c),progressBar[_0x2bf76c(0x200)]=_0x1db9df[_0x2bf76c(0x207)],statusDiv[_0x2bf76c(0x1b9)]=_0x1db9df[_0x2bf76c(0x16d)]);_0x5a3105==='done'&&(newItemsExcel=_0x1db9df['items'],statusDiv['textContent']='✅\x20'+newItemsExcel[_0x2bf76c(0x219)]+_0x2bf76c(0x153),uploadBtn[_0x2bf76c(0x170)]=![],progressBar['value']=0x64,console['log'](newItemsExcel));_0x5a3105===_0x2bf76c(0x206)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x1db9df,progressBar['style'][_0x2bf76c(0x180)]=_0x2bf76c(0x23c));if(_0x5a3105===_0x2bf76c(0x147)){const {wbout:_0x941246,count:_0x3f6496}=_0x1db9df,_0x1560c1=new Blob([_0x941246],{'type':_0x2bf76c(0x18d)}),_0x28720a=URL['createObjectURL'](_0x1560c1),_0x1da75a=document[_0x2bf76c(0x107)]('a'),_0x355ed5=new Date()[_0x2bf76c(0x1cd)]()['slice'](0x0,0xa);_0x1da75a[_0x2bf76c(0x209)]=_0x2bf76c(0x213)+_0x355ed5+'.xlsx',_0x1da75a[_0x2bf76c(0x146)]=_0x28720a,_0x1da75a[_0x2bf76c(0x125)](),URL[_0x2bf76c(0x20b)](_0x28720a),statusDiv['textContent']=_0x2bf76c(0x108)+_0x3f6496+'\x20items.',progressBar['style'][_0x2bf76c(0x180)]=_0x2bf76c(0x23c);}},fileInput['addEventListener'](_0x32dc51(0x186),async _0x370d74=>{var _0x2aca42=_0x32dc51;const _0x12dc3c=_0x370d74['target'][_0x2aca42(0x1c5)][0x0];if(!_0x12dc3c)return;uploadBtn[_0x2aca42(0x170)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x2aca42(0x197)]['display']=_0x2aca42(0x23c),dropZone[_0x2aca42(0x203)](_0x2aca42(0x121))[_0x2aca42(0x1b9)]=_0x12dc3c['name'],removeBtn[_0x2aca42(0x240)]=![];try{const _0x5c44f6=await _0x12dc3c['arrayBuffer']();itemWorker['postMessage']({'action':_0x2aca42(0x123),'buf':_0x5c44f6,'maxRows':0x1388});}catch(_0x888365){statusDiv['textContent']=_0x2aca42(0x1e4);}finally{fileInput[_0x2aca42(0x200)]='';}}),uploadBtn[_0x32dc51(0x19c)]('click',async()=>{var _0x6a141e=_0x32dc51;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x1eee25=document[_0x6a141e(0x19d)](_0x6a141e(0x166))['value'],_0x329204=[];newItemsExcel[_0x6a141e(0x11c)](_0x4569af=>{var _0x3377c8=_0x6a141e;const _0x2e1c57=Boolean(_0x4569af[_0x3377c8(0x1c3)]),_0x519c63=_0x2e1c57?_0x4569af['setItemId']:generateNumericUniqId();_0x4569af[_0x3377c8(0x1d3)]=[{'setStockInitial':_0x4569af[_0x3377c8(0x151)],'setStockMinimum':_0x4569af['setStockMinimum'],'setWarehouseCode':_0x1eee25}],_0x4569af[_0x3377c8(0x23f)][_0x3377c8(0x11c)](_0x467a79=>{var _0x476fa1=_0x3377c8;const _0x2c1aa3=Boolean(_0x467a79[_0x476fa1(0x244)]),_0x3e49fa=_0x2c1aa3?_0x467a79[_0x476fa1(0x244)]:generateNumericUniqId();_0x467a79[_0x476fa1(0x244)]=_0x3e49fa;const _0x2f6114=[];_0x2f6114[_0x476fa1(0x1d6)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x467a79[_0x476fa1(0x175)],'setMtoPrecioUnitario':_0x467a79[_0x476fa1(0x233)],'setPriceLists':[]});const _0x1ad992=_0x467a79[_0x476fa1(0x1c4)]!=null&&_0x467a79['setPriceUSD']!=null&&(!isNaN(_0x467a79[_0x476fa1(0x1c4)])||!isNaN(_0x467a79[_0x476fa1(0x1b3)]));_0x1ad992&&_0x2f6114[_0x476fa1(0x1d6)]({'currency':_0x476fa1(0x21c),'setMtoPrecioCostoUnitario':_0x467a79['setCostUSD'],'setMtoPrecioUnitario':_0x467a79[_0x476fa1(0x1b3)],'setPriceLists':[]});const _0x4abb88={'id':_0x3e49fa,'setIdProducto':_0x519c63,'setItemBarCode':_0x467a79[_0x476fa1(0x1f9)],'setCodProducto':_0x4569af[_0x476fa1(0x1f4)],'setDescripcion':_0x4569af[_0x476fa1(0x1a7)],'setItemDescription':_0x4569af['setItemDescription'],'setBatchExpirationDate':_0x4569af[_0x476fa1(0x14a)],'setBatchName':_0x4569af[_0x476fa1(0x1b8)],'setItemIsSold':_0x4569af[_0x476fa1(0x162)],'setItemIsBought':_0x4569af[_0x476fa1(0x109)],'setCategoria':_0x4569af[_0x476fa1(0x1ba)][0x0]||'','setMarca':_0x4569af[_0x476fa1(0x1dd)][0x0]||'','setConversionFactor':parseFloat(_0x467a79['setFactor']),'setImages':[],'setImg':_0x476fa1(0x150),'setInventariable':_0x4569af[_0x476fa1(0x113)],'setPorcentajeIgv':_0x4569af[_0x476fa1(0x22e)],'setPrinters':[],'setTaxId':_0x4569af['setItemTaxId'],'setTipAfeIgv':_0x4569af[_0x476fa1(0x1e8)],'setUnidad':_0x467a79['setUnitCode'],'setUnidadCodigo':_0x467a79[_0x476fa1(0x183)],'setItemUnitAlias':_0x467a79[_0x476fa1(0x124)],'setItemCommissionPercentage':_0x467a79[_0x476fa1(0x101)],'currency_data':_0x2f6114,'sucursales':_0x4569af[_0x476fa1(0x1d3)][_0x476fa1(0xfc)](_0x1698b5=>({'setIdSucursal':_0x1698b5[_0x476fa1(0x227)],'setSucursalStock':_0x1698b5['setStockInitial']['toString'](),'setWarehouseStockMin':_0x1698b5[_0x476fa1(0x18e)]['toString']()})),'setItemFree':_0x4569af['setItemFree'],'setItemBrands':_0x4569af['setItemBrands'][_0x476fa1(0x12f)](),'setItemCategories':_0x4569af['setItemCategories'][_0x476fa1(0x12f)](),'setItemComponents':_0x4569af[_0x476fa1(0x11a)]['map'](_0x152cf1=>({..._0x152cf1})),'setItemImages':_0x4569af[_0x476fa1(0x242)][_0x476fa1(0x12f)](),'setItemVariantName':_0x4569af[_0x476fa1(0x143)],'setItemVariantValues':{..._0x4569af[_0x476fa1(0x140)]}},_0x272a78=products[_0x476fa1(0x20f)](_0x5d5484=>_0x5d5484['id']==_0x3e49fa&&_0x5d5484['setIdProducto']==_0x519c63);_0x272a78>-0x1?Object[_0x476fa1(0x11e)](products[_0x272a78],_0x4abb88):_0x329204[_0x476fa1(0x1d6)](_0x4abb88);});}),console[_0x6a141e(0x15d)](_0x6a141e(0x13a),newItemsExcel),await finalizeImport(_0x329204,newItemsExcel,!![]);});function initializeFormImages(){var _0x20abdf=_0x32dc51;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x20abdf(0x1aa)]='',baseItem[_0x20abdf(0x242)]=[];for(var _0x1eec7d=0x0;_0x1eec7d<MAX_IMAGES;_0x1eec7d++){(function(_0x3bffe0){var _0x375ee0=_0x20abdf,_0x1c4832=document[_0x375ee0(0x107)]('div');_0x1c4832[_0x375ee0(0x247)]=_0x375ee0(0x205),_0x1c4832[_0x375ee0(0x228)][_0x375ee0(0x17d)]=_0x3bffe0;var _0x4d7b8d=document['createElement'](_0x375ee0(0x1af));_0x4d7b8d['type']=_0x375ee0(0xff),_0x4d7b8d['accept']=_0x375ee0(0x135),_0x4d7b8d[_0x375ee0(0x197)][_0x375ee0(0x180)]=_0x375ee0(0x23c);var _0x7d1ad2=document['createElement']('span');_0x7d1ad2[_0x375ee0(0x1b9)]='+',_0x1c4832[_0x375ee0(0x221)](_0x4d7b8d),_0x1c4832[_0x375ee0(0x221)](_0x7d1ad2),imgC[_0x375ee0(0x221)](_0x1c4832),_0x1c4832[_0x375ee0(0x19c)](_0x375ee0(0x125),function(){_0x4d7b8d['click']();}),_0x4d7b8d[_0x375ee0(0x19c)](_0x375ee0(0x186),function(_0x978f16){var _0x44d192=_0x375ee0,_0x2ab40c=_0x978f16[_0x44d192(0x1a9)]['files'][0x0];if(!_0x2ab40c)return removeImg(_0x3bffe0);var _0x3863dc=new FileReader();_0x3863dc['onload']=function(_0xd7a220){var _0x54fb5d=_0x44d192;_0x1c4832['innerHTML']=_0x54fb5d(0x1e2)+_0xd7a220[_0x54fb5d(0x1a9)][_0x54fb5d(0x18f)]+'\x22>';var _0x1bd33e=document[_0x54fb5d(0x107)](_0x54fb5d(0x1bb));_0x1bd33e['className']='remove',_0x1bd33e[_0x54fb5d(0x1b9)]='×',_0x1bd33e['addEventListener']('click',function(_0x46e25a){_0x46e25a['stopPropagation'](),removeImg(_0x3bffe0);}),_0x1c4832[_0x54fb5d(0x221)](_0x1bd33e),currentImages[_0x3bffe0]=_0x2ab40c,baseItem[_0x54fb5d(0x242)]=currentImages['filter'](function(_0x2bc84a){return _0x2bc84a;});},_0x3863dc[_0x44d192(0x1d4)](_0x2ab40c);});}(_0x1eec7d));}}function initializeFormIsSoldIsBought(_0x433ed1=0x0){var _0x27cefc=_0x32dc51;let _0x382310,_0x568367;if(_0x433ed1!=0x0){const _0x278e59=products[_0x27cefc(0x1cb)](_0x3c8e5c=>_0x3c8e5c['id']==_0x433ed1);_0x382310=_0x278e59['setItemIsBought']==0x1||_0x278e59['setItemIsBought']==!![]?!![]:![],_0x568367=_0x278e59[_0x27cefc(0x162)]==0x1||_0x278e59[_0x27cefc(0x162)]==!![]?!![]:![];}else _0x382310=!![],_0x568367=!![];document[_0x27cefc(0x19d)]('newItem_chk_buy')[_0x27cefc(0xfd)]=_0x382310,document[_0x27cefc(0x19d)]('newItem_chk_sell')[_0x27cefc(0xfd)]=_0x568367,baseItem[_0x27cefc(0x109)]=_0x382310,baseItem[_0x27cefc(0x162)]=_0x568367;}function initializeFormInputsBasic(_0xeff712=0x0){var _0x5ed594=_0x32dc51;let _0xf681e,_0x371099,_0x125653,_0x29b4b0,_0x45d67a,_0x363631;if(_0xeff712!=0x0){const _0x42a600=products[_0x5ed594(0x1cb)](_0x2c5a92=>_0x2c5a92['id']==_0xeff712);_0xf681e=_0x42a600[_0x5ed594(0x1ad)]??'1',_0x371099=_0x42a600[_0x5ed594(0x1f8)],_0x125653=_0x42a600[_0x5ed594(0x20a)],_0x29b4b0=_0x42a600[_0x5ed594(0x194)],_0x45d67a=_0x42a600['setBatchExpirationDate']??'',_0x363631=_0x42a600['setItemBarCode'];}else _0xf681e='1',_0x371099=getNextCode(products),_0x125653='',_0x29b4b0='',_0x45d67a='',_0x363631='';document['getElementById']('inputItemType')[_0x5ed594(0x200)]=_0xf681e,document[_0x5ed594(0x19d)](_0x5ed594(0x1b1))[_0x5ed594(0x200)]=_0x371099,document[_0x5ed594(0x19d)]('inputItemName')[_0x5ed594(0x200)]=_0x125653,document[_0x5ed594(0x19d)](_0x5ed594(0x148))[_0x5ed594(0x200)]=_0x29b4b0,document[_0x5ed594(0x19d)](_0x5ed594(0x24a))[_0x5ed594(0x200)]=_0x45d67a,document[_0x5ed594(0x19d)](_0x5ed594(0x17e))[_0x5ed594(0x200)]=_0x363631,baseItem['setItemType']=_0xf681e,baseItem[_0x5ed594(0x1f4)]=_0x371099,baseItem['setItemName']=_0x125653,baseItem[_0x5ed594(0x194)]=_0x29b4b0,baseItem['setItemDateExpiry']=_0x45d67a,baseItem[_0x5ed594(0x1f9)]=_0x363631,document[_0x5ed594(0x19d)](_0x5ed594(0x155))['checked']=![];}function initializeFormTax(_0x1285cd=0x0){var _0x2116c2=_0x32dc51;let _0x5c1895;if(_0x1285cd!=0x0){const _0x3de52f=products['find'](_0x21892b=>_0x21892b['id']==_0x1285cd);_0x5c1895=_0x3de52f[_0x2116c2(0x223)];}else _0x5c1895=myCompany[_0x2116c2(0x19f)];const _0x30a164=document[_0x2116c2(0x19d)](_0x2116c2(0x222));_0x30a164[_0x2116c2(0x200)]=_0x5c1895,baseItem[_0x2116c2(0x20c)]=_0x5c1895;const _0x119474=company[0x0][_0x2116c2(0x179)][_0x2116c2(0x1cb)](_0x4b21ea=>_0x4b21ea[_0x2116c2(0x223)]==_0x5c1895)?.[_0x2116c2(0x21e)]||0x0,_0x56abfa=company[0x0][_0x2116c2(0x179)][_0x2116c2(0x1cb)](_0x50ad34=>_0x50ad34[_0x2116c2(0x223)]==_0x5c1895)?.[_0x2116c2(0x1a1)]||0x0;baseItem[_0x2116c2(0x1e8)]=_0x119474,baseItem[_0x2116c2(0x22e)]=_0x56abfa;}function initializeFormCategoriesBrands(_0x3305db=0x0){var _0xaa122e=_0x32dc51;baseItem[_0xaa122e(0x1ba)]=[],baseItem['setItemBrands']=[],document['querySelector'](_0xaa122e(0x1cf))[_0xaa122e(0x1aa)]='',document[_0xaa122e(0x203)](_0xaa122e(0x174))[_0xaa122e(0x1aa)]='',document[_0xaa122e(0x203)](_0xaa122e(0x157))[_0xaa122e(0x1aa)]='',document[_0xaa122e(0x203)](_0xaa122e(0x1ed))[_0xaa122e(0x1aa)]='';const _0x1f2142=myCompany[_0xaa122e(0x1ba)][_0xaa122e(0xfc)](_0x202e5c=>({'setCode':_0x202e5c[_0xaa122e(0x1d9)],'setName':_0x202e5c[_0xaa122e(0x1d9)]})),_0x565346=myCompany[_0xaa122e(0x1dd)][_0xaa122e(0xfc)](_0x1a8f73=>({'setCode':_0x1a8f73[_0xaa122e(0x141)],'setName':_0x1a8f73[_0xaa122e(0x141)]}));initMulti(_0xaa122e(0x15e),_0x1f2142),initMulti(_0xaa122e(0x1b2),_0x565346),document[_0xaa122e(0x19d)](_0xaa122e(0x15e))['addEventListener'](_0xaa122e(0x129),function(_0x364f1c){var _0x6bc899=_0xaa122e;baseItem[_0x6bc899(0x1ba)]=_0x364f1c[_0x6bc899(0x10a)][_0x6bc899(0xfc)](_0x12a227=>_0x12a227[_0x6bc899(0x176)]);}),document[_0xaa122e(0x19d)]('newItem_brands_select')[_0xaa122e(0x19c)](_0xaa122e(0x129),function(_0x2b6a85){var _0x3f51b4=_0xaa122e;baseItem['setItemBrands']=_0x2b6a85[_0x3f51b4(0x10a)][_0x3f51b4(0xfc)](_0x523bcc=>_0x523bcc[_0x3f51b4(0x176)]);});if(_0x3305db!=0x0){const _0x2f5994=products[_0xaa122e(0x1cb)](_0x42da3c=>_0x42da3c['id']==_0x3305db);if(_0x2f5994[_0xaa122e(0x1be)]){const _0x5ea74b=document[_0xaa122e(0x19d)](_0xaa122e(0x15e)),_0x5f3982=Array[_0xaa122e(0x1e7)](_0x5ea74b[_0xaa122e(0x149)](_0xaa122e(0x138)))[_0xaa122e(0x1cb)](_0x5ee487=>_0x5ee487['dataset'][_0xaa122e(0x15c)]==_0x2f5994[_0xaa122e(0x1be)]);_0x5f3982&&_0x5f3982[_0xaa122e(0x125)]();}if(_0x2f5994[_0xaa122e(0x246)]){const _0x224ad9=document[_0xaa122e(0x19d)]('newItem_brands_select'),_0x2f7faa=Array[_0xaa122e(0x1e7)](_0x224ad9[_0xaa122e(0x149)]('.options_list\x20div'))[_0xaa122e(0x1cb)](_0x5c175f=>_0x5c175f[_0xaa122e(0x228)][_0xaa122e(0x15c)]==_0x2f5994[_0xaa122e(0x246)]);_0x2f7faa&&_0x2f7faa[_0xaa122e(0x125)]();}}}function initializeFormUnits(){var _0x133c2d=_0x32dc51;unitCount=0x0,document[_0x133c2d(0x19d)](_0x133c2d(0x144))['innerHTML']='',baseItem[_0x133c2d(0x23f)]=[];var _0x2702b9=uniqueValuesArray(_0x133c2d(0x183),_0x133c2d(0x1ea),myCompany[_0x133c2d(0x220)]);addUnit('',_0x2702b9[0x3a]&&_0x2702b9[0x3a][_0x133c2d(0x176)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x24a3ec=_0x32dc51;prodC['innerHTML']='',baseItem[_0x24a3ec(0x11a)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x4f6853=_0x32dc51;branchesC[_0x4f6853(0x1aa)]='',baseItem[_0x4f6853(0x1d3)]=[];const _0x5a1744=getAllWarehouses();_0x5a1744[_0x4f6853(0x11c)](function(_0x311201){var _0x10e4ff=_0x4f6853,_0x40b3e4=document[_0x10e4ff(0x107)]('div');_0x40b3e4[_0x10e4ff(0x1aa)]=_0x10e4ff(0x171)+'<div\x20class=\x22newItem_col\x22>'+_0x10e4ff(0x12b)+_0x311201[_0x10e4ff(0x166)]+_0x10e4ff(0x20e)+_0x311201['setWarehouseName']+_0x10e4ff(0x248)+_0x10e4ff(0x231)+_0x10e4ff(0x1fb)+_0x10e4ff(0x199)+_0x311201[_0x10e4ff(0x166)]+'\x22>'+_0x10e4ff(0x231)+_0x10e4ff(0x1fb)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x311201['setWarehouseId']+'\x22>'+_0x10e4ff(0x231)+'</div>',branchesC['appendChild'](_0x40b3e4),_0x40b3e4[_0x10e4ff(0x149)](_0x10e4ff(0x1af))[_0x10e4ff(0x11c)](function(_0x225bea){var _0x38ad78=_0x10e4ff;_0x225bea[_0x38ad78(0x19c)]('input',updateBranches);});}),updateBranches();}function _0x3b24(){var _0xeae88a=['assign','.costInput','newItem_proditems_container','.drop-zone__prompt','PEN','import','setAlias','click','setEquivalence','1561zyRNfZ','children','selectionChange','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','mousedown','Error\x20al\x20guardar\x20Producto\x20Offline:','ERROR:\x20plainProducts\x20no\x20serializable:','slice','values','trace','filter','btnItemSave','true','image/*','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','remove','.options_list\x20div','div[data-default=\x22true\x22]\x20.eqInput','Items\x20finales:','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setWarehouseStockMin','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','trim','reduce','setItemVariantValues','setItemBrandName','100','setItemVariantName','newItem_units_container','Ingresa\x20el\x20código\x20del\x20item','href','exportDone','inputItemDescription','querySelectorAll','setItemDateExpiry','drop-zone','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','onmessage','setItemUnitAlias','readwrite','./img/product.png','setStockInitial','.branchChk','\x20items\x20procesados.','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_addToCart','Producto\x20Libre','#newItem_brands_select\x20.selected_tags','_units_container','.ms_input','now','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','code','log','newItem_categories_select','{}.constructor(\x22return\x20this\x22)(\x20)','console','dataTransfer','setItemIsSold','(((.+)+)+)+$','type','newItem_variants_forms','setWarehouseId','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','add','setFactor','setName','closeModalCreateItem','classList','message','default','stringify','disabled','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','detalleModalCreateItem','toString','#newItem_categories_select\x20.options_list','setCost','setCode','.variantBarCode','postMessage','setImpuestos','eqInput','currency','.removeUnit','idx','inputItemBarCode','newItem_btn_addUnit','display','every','defineProperty','setUnitCode','setCantidad','setIdSucursal','change','newItem_btn_addVariantGroup','includes','stopPropagation','variant_','bind','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','application/octet-stream','setStockMinimum','result','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','modalProductNewTitle','constructor','dragover','setItemDescription','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','splice','style','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','remove-file','.unitAlias','addEventListener','getElementById','./excel/Plantilla-Items.xlsx','setTaxIdDefault','name','setImpuestoValue','drop','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','arrayBuffer','setIdProducto','#newItem_units_container\x20>\x20div','setItemName','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','target','innerHTML','Collator','.variantCode','setItemType','2587764OxViqx','input','max','inputItemCode','newItem_brands_select','setPriceUSD','key','setUnidadCodigo','active','remove-tag','setBatchName','textContent','setItemCategories','span','oncomplete','closest','setCategoria','costInput','selectedItem','setWebhook','332wnXTpj','setItemId','setCostUSD','files','objectStore','exportItems','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','productType1','newItem_chk_buy','find','split','toISOString','.eqInput','#newItem_categories_select\x20.selected_tags','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','newItem_title_table_cp','setItemWarehouses','readAsDataURL','exception','push','inputItemName','accept','setItemCategoryName','3595290pNIntp','224eLFDPI','unitAlias','setItemBrands','\x22\x20value=\x22','div','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','908652ayzyrU','<img\x20src=\x22','preventDefault','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','status','test','from','setItemTaxCode','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setUnitName','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setConversionFactor','#newItem_brands_select\x20.options_list','file-input','setBatchExpirationDate','.vgName','progress','94920anoTKb','toLowerCase','setItemCode','setItemFree','parentNode','[id$=\x22_comp_container\x22]','setCodProducto','setItemBarCode','Producto\x20Guardado\x20Offline\x20Correctamente.','<div\x20class=\x22newItem_col\x22>','newItem_chk_sell','Ingresa\x20el\x20nombre\x20del\x20item','.branchMin','base','value','option','.prodQty','querySelector','focus','image_box','error','percent','.removeCombo','download','setDescripcion','revokeObjectURL','setItemTaxId','2781387xYhPAD','\x22\x20class=\x22branchChk\x22\x20checked>\x20','findIndex','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','currency_data','selected','Plantilla-Items-Export-','.variantExpiry','tag','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','.unitSelect','dispatchEvent','length','setImpuestoName','table','USD','.branchInit','setImpuestoCode','toggle','setUnits','appendChild','inputItemTax','setTaxId','Generando\x20Excel...','inputItemType','Enter','setWarehouseCode','dataset','priceInput','setInventariable','dragleave','.addVariantUnit','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setItemTaxValue','style=\x22display:none\x22','setSucursalStock','</div>','\x22\x20class=\x22branchChk\x22>\x20','setPrice','sucursales','search','newItem_variant_groups','isArray','join','.prod_input_container','Error\x20al\x20procesar\x20la\x20operación:','setDefault','none','12RdzCNG','contains','setItemUnits','hidden','modalOverlayCreateItem','setItemImages','.priceInput','setItemUnitId','__proto__','setMarca','className','</label>','dragenter','inputItemDateExpiry','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','block','map','checked','.variantForm','file','setMtoPrecioCostoUnitario','setItemCommissionPercentage','setMtoPrecioUnitario','string','some','sort','_comp_container','createElement','✅\x20Exportación\x20completada:\x20','setItemIsBought','detail','prototype','setAuthToken','.options_list','transaction','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','newItem_hidden','apply','546775KjnovF','setItemInventoriable','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','flatMap','offline_operations','setWarehouseName','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','blur','setItemComponents','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','forEach','vals'];_0x3b24=function(){return _0xeae88a;};return _0x3b24();}function initializeFormVariants(){var _0x39d563=_0x32dc51;baseItem[_0x39d563(0x143)]='',baseItem[_0x39d563(0x140)]={},vgC[_0x39d563(0x1aa)]='',varContainer[_0x39d563(0x1aa)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x5aa0d5,_0x3e5e8c,_0x3bbe77=![]){var _0x31fcc5=_0x32dc51;const _0x246b40=0xc8,_0x3d1941={'apiPOSsendOffline':'1','setTipoOperacion':_0x31fcc5(0x142),'setToken':company[0x0][_0x31fcc5(0x10c)],'setWebhook':company[0x0][_0x31fcc5(0x1c1)]};for(let _0x4176f9=0x0;_0x4176f9<_0x3e5e8c[_0x31fcc5(0x219)];_0x4176f9+=_0x246b40){const _0x12bd73=_0x3e5e8c[_0x31fcc5(0x12f)](_0x4176f9,_0x4176f9+_0x246b40);await storeOfflineProduct({..._0x3d1941,'newItems':_0x12bd73});}products[_0x31fcc5(0x1d6)](..._0x5aa0d5),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x31fcc5(0x14c)),_0x3bbe77?(fileInput[_0x31fcc5(0x200)]='',uploadBtn[_0x31fcc5(0x170)]=!![],statusDiv[_0x31fcc5(0x1b9)]='',progressBar[_0x31fcc5(0x197)]['display']='none',progressBar[_0x31fcc5(0x200)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}