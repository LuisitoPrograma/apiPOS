/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.2
*/

function _0xf423(_0x75f6ba,_0x2de87c){var _0x267934=_0x13c8();return _0xf423=function(_0x4a54b5,_0x12c326){_0x4a54b5=_0x4a54b5-0x80;var _0x64ab3e=_0x267934[_0x4a54b5];return _0x64ab3e;},_0xf423(_0x75f6ba,_0x2de87c);}var _0x5741f1=_0xf423;(function(_0x3b6378,_0x28029f){var _0x589db5=_0xf423,_0x1596fc=_0x3b6378();while(!![]){try{var _0x4afbfe=-parseInt(_0x589db5(0x9e))/0x1*(-parseInt(_0x589db5(0xde))/0x2)+-parseInt(_0x589db5(0xdb))/0x3*(parseInt(_0x589db5(0xf3))/0x4)+-parseInt(_0x589db5(0xdd))/0x5+-parseInt(_0x589db5(0x8e))/0x6+parseInt(_0x589db5(0xb9))/0x7+-parseInt(_0x589db5(0x8b))/0x8+parseInt(_0x589db5(0x92))/0x9;if(_0x4afbfe===_0x28029f)break;else _0x1596fc['push'](_0x1596fc['shift']());}catch(_0x578c78){_0x1596fc['push'](_0x1596fc['shift']());}}}(_0x13c8,0xdd27d));function _0x13c8(){var _0x199103=['panel_operations','Motivo','Guardar','return\x20(function()\x20','Tipo','Serie','839466oayYle','permIndex','2403410psRBSZ','3374nMygKc','trace','textContent','apply','Error\x20Network.','setUsers','setPermissionValue','objectStore','table','Error\x20desconocido\x20al\x20actualizar\x20Data.','setPermissionNameTrue','setAuthToken','div','Error\x20Sync:\x20','setFechaHora','constructor','userPerm_editBtn','forEach','appendChild','button','userPerm_container_','8MvbItA','error','setTipoOperacion','readonly','message','toString','Error\x20leyendo\x20operaciones:','getAll','.btn-logout','getElementById','target','Correlativo','onerror','success','click','6474992bHUEwK','No\x20hay\x20operaciones\x20pendientes.','offline_operations','7908390HTVxGZ','(((.+)+)+)+$','length','panel_users','18387801ENYZwm','__proto__','change','exception','querySelector','setUserFullName','info','{}.constructor(\x22return\x20this\x22)(\x20)','userIndex','userPerm_select','none','dispatchEvent','297xKkSSR','value','reject','warn','https://apierp.dev/api/users/update/','dataset','onload','userPerm_container\x20border_orange','createElement','POST','setPermissionId','setTipoOperacionName','setBranchId','push','application/json','display','option','addEventListener','innerHTML','setTipoOperacionCodigo','Usuario\x20','setWarehouseId','tbody','Error\x20al\x20actualizar\x20data\x20online:','log','Editar','userPerm_list','10706430XGkiYU','.userPerm_editBtn','className','inline-block','getElementsByClassName','search','Fecha','bind','catch','stringify','setPermissions','style','setMessage','.userPerm_saveBtn','indexOf','console','disabled','userPerm_item','statusText','setFloorId','userPerm_container\x20border_blue','userPerm_saveBtn','thead','result','then','./img/apiPOS.png','Error\x20cargando\x20operaciones.','transaction'];_0x13c8=function(){return _0x199103;};return _0x13c8();}var _0x211bb2=(function(){var _0x8d939b=!![];return function(_0x5dccb6,_0x45aba3){var _0x26bc4d=_0x8d939b?function(){if(_0x45aba3){var _0x9b7523=_0x45aba3['apply'](_0x5dccb6,arguments);return _0x45aba3=null,_0x9b7523;}}:function(){};return _0x8d939b=![],_0x26bc4d;};}()),_0x2848b9=_0x211bb2(this,function(){var _0x29447a=_0xf423;return _0x2848b9[_0x29447a(0x81)]()[_0x29447a(0xbe)](_0x29447a(0x8f))['toString']()['constructor'](_0x2848b9)[_0x29447a(0xbe)](_0x29447a(0x8f));});_0x2848b9();var _0x12c326=(function(){var _0x241171=!![];return function(_0x25defa,_0x20a085){var _0x58926d=_0x241171?function(){var _0x376bbb=_0xf423;if(_0x20a085){var _0x13ea18=_0x20a085[_0x376bbb(0xe1)](_0x25defa,arguments);return _0x20a085=null,_0x13ea18;}}:function(){};return _0x241171=![],_0x58926d;};}()),_0x4a54b5=_0x12c326(this,function(){var _0x7c1c6c=_0xf423,_0x3b730c;try{var _0x3810c7=Function(_0x7c1c6c(0xd8)+_0x7c1c6c(0x99)+');');_0x3b730c=_0x3810c7();}catch(_0x468bab){_0x3b730c=window;}var _0x2e1575=_0x3b730c[_0x7c1c6c(0xc8)]=_0x3b730c['console']||{},_0x4b099c=[_0x7c1c6c(0xb6),_0x7c1c6c(0xa1),_0x7c1c6c(0x98),'error',_0x7c1c6c(0x95),'table',_0x7c1c6c(0xdf)];for(var _0x2ea50e=0x0;_0x2ea50e<_0x4b099c['length'];_0x2ea50e++){var _0x441902=_0x12c326[_0x7c1c6c(0xed)]['prototype'][_0x7c1c6c(0xc0)](_0x12c326),_0x5cbaf1=_0x4b099c[_0x2ea50e],_0x4a638d=_0x2e1575[_0x5cbaf1]||_0x441902;_0x441902[_0x7c1c6c(0x93)]=_0x12c326['bind'](_0x12c326),_0x441902['toString']=_0x4a638d[_0x7c1c6c(0x81)][_0x7c1c6c(0xc0)](_0x4a638d),_0x2e1575[_0x5cbaf1]=_0x441902;}});_0x4a54b5();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10];async function apiERPupdateUsersOnline(_0x170e36,_0x38011d){var _0x29d621=_0xf423;if(!isOnline())return console[_0x29d621(0xb6)](_0x29d621(0xe2)),Promise[_0x29d621(0xa0)](_0x29d621(0xe2));const _0x29ff1a={'setAuthToken':_0x170e36,'setUsers':_0x38011d};return fetch(_0x29d621(0xa2),{'method':_0x29d621(0xa7),'headers':{'Content-Type':_0x29d621(0xac)},'body':JSON[_0x29d621(0xc2)](_0x29ff1a)})[_0x29d621(0xd1)](_0x17af72=>{var _0x34fc29=_0x29d621;if(!_0x17af72['ok'])throw new Error(_0x34fc29(0xeb)+_0x17af72[_0x34fc29(0xcb)]);return _0x17af72['json']();})[_0x29d621(0xd1)](_0x1ee8a2=>{var _0x5c2ad0=_0x29d621;if(!_0x1ee8a2[_0x5c2ad0(0x89)])throw new Error(_0x1ee8a2[_0x5c2ad0(0x80)]||_0x5c2ad0(0xe7));return console[_0x5c2ad0(0xb6)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x1ee8a2;})[_0x29d621(0xc1)](_0x5d9b8d=>{var _0xb0fab7=_0x29d621;console[_0xb0fab7(0xf4)](_0xb0fab7(0xb5),_0x5d9b8d);throw _0x5d9b8d;});}async function apiERPsyncUsers(){var _0x1c8347=_0xf423;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x1c8347(0xe9)],company[0x0][_0x1c8347(0xe3)]));}function generatePermissionsPanel(_0x1dd14a){var _0x2a4520=_0xf423,_0xa7f203=document[_0x2a4520(0x85)](_0x2a4520(0x91));_0xa7f203[_0x2a4520(0xb0)]='';var _0x24b39e=_0x1dd14a[0x0]&&_0x1dd14a[0x0][_0x2a4520(0xe3)]||[],_0x3cef7a=_0x1dd14a[0x0]&&_0x1dd14a[0x0]['setTipoOperaciones']||[];for(var _0x1172ea=0x0;_0x1172ea<_0x24b39e[_0x2a4520(0x90)];_0x1172ea++){var _0x33ea7d=_0x24b39e[_0x1172ea],_0x3f2f59=document[_0x2a4520(0xa6)](_0x2a4520(0xea));_0x3f2f59['className']=_0x2a4520(0xcd),_0x3f2f59['id']='userPerm_container_'+_0x1172ea;var _0x59680b=document[_0x2a4520(0xa6)]('h3');_0x59680b[_0x2a4520(0xbb)]='userPerm_header',_0x59680b[_0x2a4520(0xe0)]=_0x33ea7d[_0x2a4520(0x97)]||_0x2a4520(0xb2)+(_0x1172ea+0x1),_0x3f2f59['appendChild'](_0x59680b);var _0x3efff7=document[_0x2a4520(0xa6)]('div');_0x3efff7[_0x2a4520(0xbb)]=_0x2a4520(0xb8);for(var _0x28fa38=0x0;_0x28fa38<_0x33ea7d[_0x2a4520(0xc3)][_0x2a4520(0x90)];_0x28fa38++){var _0x555505=_0x33ea7d[_0x2a4520(0xc3)][_0x28fa38],_0x280833=document[_0x2a4520(0xa6)]('div');_0x280833[_0x2a4520(0xbb)]=_0x2a4520(0xca),_0x280833['dataset']['userIndex']=_0x1172ea,_0x280833[_0x2a4520(0xa3)][_0x2a4520(0xdc)]=_0x28fa38;var _0xa9fe2b=Number(_0x555505[_0x2a4520(0xe4)]),_0x169af1=document[_0x2a4520(0xa6)]('select');_0x169af1[_0x2a4520(0xbb)]='userPerm_select',_0x169af1[_0x2a4520(0xc9)]=!![];if(BOOLEAN_PERMS[_0x2a4520(0xc7)](_0x555505[_0x2a4520(0xa8)])!==-0x1){var _0x3bd717=document[_0x2a4520(0xa6)](_0x2a4520(0xae));_0x3bd717[_0x2a4520(0x9f)]='0',_0x3bd717[_0x2a4520(0xe0)]=_0x555505['setPermissionNameFalse'],_0x169af1['appendChild'](_0x3bd717);var _0x26c1af=document['createElement'](_0x2a4520(0xae));_0x26c1af[_0x2a4520(0x9f)]='1',_0x26c1af[_0x2a4520(0xe0)]=_0x555505[_0x2a4520(0xe8)],_0x169af1[_0x2a4520(0xf0)](_0x26c1af),_0x169af1[_0x2a4520(0x9f)]=String(_0xa9fe2b);}else{if(_0x555505[_0x2a4520(0xa8)]===0x9||_0x555505[_0x2a4520(0xa8)]===0xc){if(_0x555505[_0x2a4520(0xa8)]===0x9){var _0x43324a=document[_0x2a4520(0xa6)](_0x2a4520(0xae));_0x43324a[_0x2a4520(0x9f)]='0',_0x43324a[_0x2a4520(0xe0)]=_0x555505['setPermissionNameFalse'],_0x169af1[_0x2a4520(0xf0)](_0x43324a);for(var _0x2fac8a=0x0;_0x2fac8a<_0x3cef7a['length'];_0x2fac8a++){var _0x193828=_0x3cef7a[_0x2fac8a],_0x49c840=document[_0x2a4520(0xa6)](_0x2a4520(0xae));_0x49c840[_0x2a4520(0x9f)]=String(_0x193828[_0x2a4520(0xb1)]),_0x49c840[_0x2a4520(0xe0)]=_0x193828[_0x2a4520(0xa9)],_0x169af1[_0x2a4520(0xf0)](_0x49c840);}}if(_0x555505[_0x2a4520(0xa8)]===0xc)for(var _0x2fac8a=0x1;_0x2fac8a<=0x4;_0x2fac8a++){var _0x193828=_0x2fac8a,_0x49c840=document[_0x2a4520(0xa6)](_0x2a4520(0xae));_0x49c840[_0x2a4520(0x9f)]=String(_0x193828),_0x49c840[_0x2a4520(0xe0)]='NÃºmero\x20de\x20Decimales:\x20'+_0x193828,_0x169af1[_0x2a4520(0xf0)](_0x49c840);}_0x169af1[_0x2a4520(0x9f)]=String(_0xa9fe2b);}}_0x280833['appendChild'](_0x169af1),_0x3efff7[_0x2a4520(0xf0)](_0x280833);}_0x3f2f59['appendChild'](_0x3efff7);var _0x1ea9f8=document[_0x2a4520(0xa6)](_0x2a4520(0xf1));_0x1ea9f8[_0x2a4520(0xbb)]=_0x2a4520(0xee),_0x1ea9f8['textContent']=_0x2a4520(0xb7),_0x1ea9f8['dataset'][_0x2a4520(0x9a)]=_0x1172ea;var _0x1ad5d5=document[_0x2a4520(0xa6)]('button');_0x1ad5d5[_0x2a4520(0xbb)]=_0x2a4520(0xce),_0x1ad5d5['textContent']=_0x2a4520(0xd7),_0x1ad5d5[_0x2a4520(0xa3)]['userIndex']=_0x1172ea,_0x1ad5d5[_0x2a4520(0xc4)]['display']=_0x2a4520(0x9c),_0x3f2f59[_0x2a4520(0xf0)](_0x1ea9f8),_0x3f2f59[_0x2a4520(0xf0)](_0x1ad5d5),_0xa7f203[_0x2a4520(0xf0)](_0x3f2f59),_0x1ea9f8[_0x2a4520(0xaf)]('click',onEditClick),_0x1ad5d5[_0x2a4520(0xaf)](_0x2a4520(0x8a),onSaveClick);}}function onEditClick(_0xf126f0){var _0x3f182c=_0xf423,_0x2d2e32=_0xf126f0[_0x3f182c(0x86)]['dataset']['userIndex'],_0x379c96=document['getElementById'](_0x3f182c(0xf2)+_0x2d2e32),_0x110ed9=_0x379c96[_0x3f182c(0xbd)](_0x3f182c(0x9b));for(var _0x4c21b6=0x0;_0x4c21b6<_0x110ed9[_0x3f182c(0x90)];_0x4c21b6++){_0x110ed9[_0x4c21b6][_0x3f182c(0xc9)]=![];}_0x379c96[_0x3f182c(0x96)](_0x3f182c(0xba))['style'][_0x3f182c(0xad)]='none',_0x379c96['querySelector'](_0x3f182c(0xc6))[_0x3f182c(0xc4)]['display']='block',_0x379c96['className']=_0x3f182c(0xa5);}async function onSaveClick(_0x1fb146){var _0x2c1f45=_0xf423,_0x11f843=_0x1fb146[_0x2c1f45(0x86)]['dataset'][_0x2c1f45(0x9a)],_0x380599=document['getElementById'](_0x2c1f45(0xf2)+_0x11f843),_0x48dca2=_0x380599['getElementsByClassName'](_0x2c1f45(0xca));for(var _0x1043f1=0x0;_0x1043f1<_0x48dca2['length'];_0x1043f1++){var _0x5d6977=_0x48dca2[_0x1043f1],_0x46468c=parseInt(_0x5d6977['dataset']['userIndex'],0xa),_0x54f9b1=parseInt(_0x5d6977[_0x2c1f45(0xa3)]['permIndex'],0xa),_0x56523c=company[0x0][_0x2c1f45(0xe3)][_0x46468c][_0x2c1f45(0xc3)][_0x54f9b1],_0x3b4f24=_0x5d6977['getElementsByClassName'](_0x2c1f45(0x9b))[0x0],_0x398a9a=_0x3b4f24[_0x2c1f45(0x9f)];_0x56523c[_0x2c1f45(0xe4)]=_0x398a9a,_0x3b4f24[_0x2c1f45(0xc9)]=!![],company[0x0][_0x2c1f45(0xe3)][_0x46468c]['setLastDateUpdate']=new Date();}const _0x243c41=await createCartStore('');await saveCompanyToIndexedDB(company,_0x243c41),_0x380599[_0x2c1f45(0x96)](_0x2c1f45(0xc6))[_0x2c1f45(0xc4)][_0x2c1f45(0xad)]=_0x2c1f45(0x9c),_0x380599[_0x2c1f45(0x96)](_0x2c1f45(0xba))[_0x2c1f45(0xc4)][_0x2c1f45(0xad)]=_0x2c1f45(0xbc),_0x380599[_0x2c1f45(0xbb)]=_0x2c1f45(0xcd),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0xc022ef=_0xf423,_0x532a0f=document[_0xc022ef(0x85)](_0xc022ef(0xd5));return _0x532a0f[_0xc022ef(0xb0)]='',createCartStore('')[_0xc022ef(0xd1)](function(_0x1e6da8){var _0x4494ad=_0xc022ef,_0x130c89=_0x1e6da8[_0x4494ad(0xd4)](_0x4494ad(0x8d),_0x4494ad(0xf6)),_0x39c2e8=_0x130c89[_0x4494ad(0xe5)](_0x4494ad(0x8d));return new Promise(function(_0x53ec2b,_0x104491){var _0x5ece67=_0x4494ad,_0x764566=_0x39c2e8[_0x5ece67(0x83)]();_0x764566['onsuccess']=function(){var _0x2250d9=_0x5ece67;_0x53ec2b(_0x764566[_0x2250d9(0xd0)]);},_0x764566[_0x5ece67(0x88)]=function(){_0x104491(_0x764566['error']);};});})[_0xc022ef(0xd1)](function(_0x3fa55c){var _0x1644eb=_0xc022ef,_0x1c7746=[];for(var _0xac5c89=0x0;_0xac5c89<_0x3fa55c[_0x1644eb(0x90)];_0xac5c89++){_0x3fa55c[_0xac5c89]['apiPOSsendOffline']==0x1&&_0x1c7746[_0x1644eb(0xab)](_0x3fa55c[_0xac5c89]);}if(_0x1c7746['length']===0x0){_0x532a0f[_0x1644eb(0xe0)]=_0x1644eb(0x8c);return;}var _0x20392b=document[_0x1644eb(0xa6)](_0x1644eb(0xe6));_0x20392b['className']='offlineOps_table';var _0x49c39e=document[_0x1644eb(0xa6)](_0x1644eb(0xcf)),_0x59a8c5=document[_0x1644eb(0xa6)]('tr');[_0x1644eb(0xd9),_0x1644eb(0xda),_0x1644eb(0x87),_0x1644eb(0xbf),_0x1644eb(0xd6)][_0x1644eb(0xef)](function(_0x4e9ea3){var _0x2c2a1b=_0x1644eb,_0x4f9865=document['createElement']('th');_0x4f9865[_0x2c2a1b(0xe0)]=_0x4e9ea3,_0x59a8c5[_0x2c2a1b(0xf0)](_0x4f9865);}),_0x49c39e[_0x1644eb(0xf0)](_0x59a8c5),_0x20392b['appendChild'](_0x49c39e);var _0x262a43=document['createElement'](_0x1644eb(0xb4));_0x1c7746[_0x1644eb(0xef)](function(_0x28c920){var _0x2bb5bf=_0x1644eb,_0x338121=document[_0x2bb5bf(0xa6)]('tr'),_0xd5f1a=[_0x28c920[_0x2bb5bf(0xf5)],_0x28c920['setSerie'],_0x28c920['setCorrelativo'],_0x28c920[_0x2bb5bf(0xec)],_0x28c920[_0x2bb5bf(0xc5)]||''];_0xd5f1a['forEach'](function(_0xda174){var _0x6291d1=_0x2bb5bf,_0x2ce4e1=document['createElement']('td');_0x2ce4e1[_0x6291d1(0xe0)]=_0xda174,_0x338121[_0x6291d1(0xf0)](_0x2ce4e1);}),_0x262a43['appendChild'](_0x338121);}),_0x20392b[_0x1644eb(0xf0)](_0x262a43),_0x532a0f[_0x1644eb(0xf0)](_0x20392b);})[_0xc022ef(0xc1)](function(_0x56a8e2){var _0x29b9c5=_0xc022ef;console[_0x29b9c5(0xf4)](_0x29b9c5(0x82),_0x56a8e2),_0x532a0f[_0x29b9c5(0xe0)]=_0x29b9c5(0xd3);});}window[_0x5741f1(0xa4)]=function(){var _0x3ca132=_0x5741f1;const _0x252440=0x2;loadLoginContent(_0x3ca132(0xd2)),setUserNameGet(),setEventBtnAccess();const _0x5f2769=document[_0x3ca132(0x96)](_0x3ca132(0x84));_0x5f2769&&_0x5f2769[_0x3ca132(0xaf)](_0x3ca132(0x8a),function(){logoutReload(0x0,_0x252440);}),document[_0x3ca132(0x85)](_0x3ca132(0xaa))[_0x3ca132(0xaf)](_0x3ca132(0x94),async function(){var _0x56c814=_0x3ca132;const _0x5ca720=parseInt(this[_0x56c814(0x9f)]);company[0x0]['setBranchDefault']=_0x5ca720;const _0x548e6c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x548e6c),cargarAlmacenes(_0x5ca720),setTimeout(()=>{var _0x14952f=_0x56c814;document[_0x14952f(0x85)](_0x14952f(0xb3))[_0x14952f(0x9d)](new Event(_0x14952f(0x94)));},0x64),cargarPisos(_0x5ca720),setTimeout(()=>{var _0x374883=_0x56c814;document[_0x374883(0x85)](_0x374883(0xcc))[_0x374883(0x9d)](new Event(_0x374883(0x94)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x252440);};