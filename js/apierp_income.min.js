/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.2
*/

const _0x44b087=_0x12d1;(function(_0x2f6ba4,_0xc09b91){const _0x1b8a95=_0x12d1,_0x535d68=_0x2f6ba4();while(!![]){try{const _0x210f3f=parseInt(_0x1b8a95(0x138))/0x1*(-parseInt(_0x1b8a95(0x108))/0x2)+parseInt(_0x1b8a95(0x180))/0x3*(-parseInt(_0x1b8a95(0x129))/0x4)+-parseInt(_0x1b8a95(0x16c))/0x5+-parseInt(_0x1b8a95(0x15c))/0x6*(parseInt(_0x1b8a95(0x148))/0x7)+parseInt(_0x1b8a95(0xde))/0x8*(-parseInt(_0x1b8a95(0xd7))/0x9)+-parseInt(_0x1b8a95(0x16b))/0xa+parseInt(_0x1b8a95(0x130))/0xb*(parseInt(_0x1b8a95(0x160))/0xc);if(_0x210f3f===_0xc09b91)break;else _0x535d68['push'](_0x535d68['shift']());}catch(_0x30e531){_0x535d68['push'](_0x535d68['shift']());}}}(_0x5677,0xc02fd));const _0x56f4d8=(function(){let _0x214af9=!![];return function(_0x7abbe8,_0x339cfe){const _0x140ef1=_0x214af9?function(){const _0x31e039=_0x12d1;if(_0x339cfe){const _0x1fe249=_0x339cfe[_0x31e039(0xdb)](_0x7abbe8,arguments);return _0x339cfe=null,_0x1fe249;}}:function(){};return _0x214af9=![],_0x140ef1;};}()),_0x2bea9f=_0x56f4d8(this,function(){const _0x25f59d=_0x12d1;return _0x2bea9f[_0x25f59d(0xf6)]()[_0x25f59d(0x183)](_0x25f59d(0x13d))[_0x25f59d(0xf6)]()[_0x25f59d(0xeb)](_0x2bea9f)['search'](_0x25f59d(0x13d));});_0x2bea9f();const _0x409a80=(function(){let _0x47a36f=!![];return function(_0x255190,_0x155859){const _0x98e13a=_0x47a36f?function(){const _0x592cd6=_0x12d1;if(_0x155859){const _0x42a1d0=_0x155859[_0x592cd6(0xdb)](_0x255190,arguments);return _0x155859=null,_0x42a1d0;}}:function(){};return _0x47a36f=![],_0x98e13a;};}()),_0x346568=_0x409a80(this,function(){const _0x59fd72=_0x12d1,_0x21631c=function(){const _0x4d8361=_0x12d1;let _0x18da09;try{_0x18da09=Function(_0x4d8361(0x181)+_0x4d8361(0x118)+');')();}catch(_0x4127f2){_0x18da09=window;}return _0x18da09;},_0x191aba=_0x21631c(),_0x1c7ace=_0x191aba[_0x59fd72(0xe8)]=_0x191aba['console']||{},_0x36d713=[_0x59fd72(0x12d),_0x59fd72(0xd6),_0x59fd72(0x17e),_0x59fd72(0x10a),_0x59fd72(0x11b),_0x59fd72(0xf4),_0x59fd72(0x100)];for(let _0x1fcb3b=0x0;_0x1fcb3b<_0x36d713[_0x59fd72(0x13b)];_0x1fcb3b++){const _0x465825=_0x409a80[_0x59fd72(0xeb)]['prototype'][_0x59fd72(0x126)](_0x409a80),_0x5df583=_0x36d713[_0x1fcb3b],_0x1032fe=_0x1c7ace[_0x5df583]||_0x465825;_0x465825[_0x59fd72(0x133)]=_0x409a80['bind'](_0x409a80),_0x465825['toString']=_0x1032fe[_0x59fd72(0xf6)][_0x59fd72(0x126)](_0x1032fe),_0x1c7ace[_0x5df583]=_0x465825;}});_0x346568();const fil_init_dates=document[_0x44b087(0x117)](_0x44b087(0x14d)),label=document['getElementById'](_0x44b087(0x103)),options=document['getElementById'](_0x44b087(0x122));document[_0x44b087(0x117)](_0x44b087(0x16f))[_0x44b087(0x144)](_0x44b087(0xdc),_0xb1c485=>{showModalOptions();});function showModalOptions(){const _0x45a545=_0x44b087,_0x4615b7=document['getElementById']('detalleModalOptions'),_0x2f42e8=document[_0x45a545(0x117)](_0x45a545(0x17d));_0x4615b7[_0x45a545(0x165)][_0x45a545(0xd5)](_0x45a545(0x18c)),_0x2f42e8[_0x45a545(0xd1)][_0x45a545(0x119)]='block';}function hideModalOptions(){const _0x33083f=_0x44b087,_0x40657e=document[_0x33083f(0x117)](_0x33083f(0x123)),_0x4cb6bc=document[_0x33083f(0x117)](_0x33083f(0x17d));_0x40657e[_0x33083f(0x165)][_0x33083f(0x134)](_0x33083f(0x18c)),_0x4cb6bc[_0x33083f(0xd1)][_0x33083f(0x119)]='none';}function _0x5677(){const _0x4d25a9=['setMtoValorUnitario','getMonth','trace','contains','no-reply@miempresa.com','date-range-label','currentTarget','textContent','OperationsType:','getAttribute','690286tbtmLZ','.fill_ms-suggestions','error','forEach','innerHTML','Error\x20al\x20enviar\x20por\x20WhatsApp.','target','dispatchEvent','filter','span','\x20no\x20encontrada.','split','./js/apierp_export_wk.min.js','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','both','getElementById','{}.constructor(\x22return\x20this\x22)(\x20)','display','\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22','exception','\x22>&times;</span>','mousedown','1.5','setDescuento','YOUR_WA_CRED_ID','setOperationDateTime','date-range-options','detalleModalOptions','\x20al\x20','getHours','bind','none','setMtoBaseIgv','2765608mbBNuB','input','map','\x20-\x20','log','setMtoValorCostoUnitario_input','luispurizaca.1908@gmail.com','50996902SuuKbN','toLowerCase','change','__proto__','remove','setInventariable','isArray','onmessage','2gQiIbx','setWarehouseId','setOperationCurrency','length','setDate','(((.+)+)+)+$','appendChild','setTotal','CustomersId:','setMtoPrecioUnitario_final','Invalid\x20range\x20type','EnvironmentChangeComplete','addEventListener','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setAccountingAccountType','BranchChangeComplete','8148cLrKrJ','catch','getDay','blur','dataset','date-range-label-icon','onerror','filtrar','querySelector','month','then','setVisible','year','find','setChecked','revokeObjectURL','setMtoPrecioUnitario','YOUR_EMAIL_AUTH_TOKEN','setMtoPrecioUnitario_input','fill_ms-tag','1242RKBiQM','className','setUnidad','smtp.miempresa.com','12LmTiTx','\x2023:59:59','setDescripcion','onload','Error\x20generando\x20PDF:','classList','createElement','exportReport','fill_remove-tag','data-value','indexOf','1234520XEsUMC','5186315mzoOvA','getDate','fill-apply-filter','btn-filter-modal','.fill_ms-input','.fill_ms-selected-tags','setMtoPrecioCostoUnitario_input','Reporte\x20','email','splice','Error\x20al\x20exportar.','download','500px','100%','51954738620','result','setPorcentajeDesc','modalOverlayOptions','info','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','6SRAeWB','return\x20(function()\x20','setFloorId','search','BranchesId:','tagName','push','value','setIgv','cartId','includes','preventDefault','active','Mi\x20Empresa','PASSWORD123','parentElement','setCodProducto','trim','style','stopPropagation','block','getSeconds','add','warn','6957olDvWT','toTimeString','setItemDescription','\x2000:00:00','apply','click','day','3872LJhrvg','week','toISOString','Selecciona\x20ambas\x20fechas','padStart','btnExport','setCodTipo','whatsapp','WarehouseChangeComplete','./img/apiPOS.png','console','setBranchId','setAccountingAccountId','constructor','setMtoValorGratuito','setMtoValorUnitario_final','getFullYear','setTotalImpuestos','document','setMtoValorVenta','setBranchDefault','Operación\x20con\x20ID\x20','table','Error\x20WA:','toString','setOperationId','getMinutes','createObjectURL','Export\x20WK\x20Error:','href','setTaxId','setMtoValorUnitario_input'];_0x5677=function(){return _0x4d25a9;};return _0x5677();}function _0x12d1(_0x3d02a6,_0x2426f9){const _0x6a18f3=_0x5677();return _0x12d1=function(_0x346568,_0x409a80){_0x346568=_0x346568-0xce;let _0x30a117=_0x6a18f3[_0x346568];return _0x30a117;},_0x12d1(_0x3d02a6,_0x2426f9);}document[_0x44b087(0x117)]('closeModalOptions')[_0x44b087(0x144)]('click',hideModalOptions),document[_0x44b087(0x117)](_0x44b087(0x17d))[_0x44b087(0x144)](_0x44b087(0xdc),_0x40445e=>{const _0x5035ff=_0x44b087;_0x40445e[_0x5035ff(0x10e)]==_0x40445e[_0x5035ff(0x104)]&&_0x40445e[_0x5035ff(0xd2)]();});function fill_initMultiSelect({containerSelector:_0x1a5929,dataSource:_0x221514,mapItem:_0x2824a7,filterArray:_0x47bcfd}){const _0x7ba1f9=_0x44b087,_0x57aee2=document[_0x7ba1f9(0x150)](_0x1a5929),_0x110252=_0x57aee2[_0x7ba1f9(0x150)](_0x7ba1f9(0x170)),_0xfdc0f0=_0x57aee2[_0x7ba1f9(0x150)](_0x7ba1f9(0x109)),_0x5058c0=_0x57aee2[_0x7ba1f9(0x150)](_0x7ba1f9(0x171));function _0xa0c3e(){const _0x5934a6=_0x7ba1f9,_0x324468=_0x110252[_0x5934a6(0x187)][_0x5934a6(0xd0)]()[_0x5934a6(0x131)]();_0xfdc0f0[_0x5934a6(0x10c)]='';if(!_0x324468)return;const _0x2fb13b=_0x221514[_0x5934a6(0x110)](_0xdcc312=>{const _0x146afa=_0x5934a6,{id:_0x1f90e4,text:_0x12e666}=_0x2824a7(_0xdcc312);return _0x12e666[_0x146afa(0x131)]()[_0x146afa(0x18a)](_0x324468)&&!_0x47bcfd[_0x146afa(0x18a)](_0x1f90e4);})['slice'](0x0,0xa);_0x2fb13b[_0x5934a6(0x10b)](_0x165bda=>{const _0x50cc38=_0x5934a6,{id:_0x3869a3,text:_0x426434}=_0x2824a7(_0x165bda),_0x215e50=document[_0x50cc38(0x166)]('li');_0x215e50[_0x50cc38(0x105)]=_0x426434,_0x215e50[_0x50cc38(0x14c)]['id']=_0x3869a3,_0xfdc0f0[_0x50cc38(0x13e)](_0x215e50);});}function _0x5ac247(_0x2c0186,_0x469cc9){const _0x2330a8=_0x7ba1f9;_0x47bcfd[_0x2330a8(0x186)](_0x2c0186);const _0x847356=document[_0x2330a8(0x166)](_0x2330a8(0x111));_0x847356[_0x2330a8(0x15d)]=_0x2330a8(0x15b),_0x847356[_0x2330a8(0x10c)]=_0x469cc9+_0x2330a8(0x11a)+_0x2c0186+_0x2330a8(0x11c),_0x5058c0[_0x2330a8(0x13e)](_0x847356);}_0xfdc0f0['addEventListener'](_0x7ba1f9(0x11d),_0x84106=>{const _0x34d75a=_0x7ba1f9;if(_0x84106['target'][_0x34d75a(0x185)]!=='LI')return;const _0x4004f4=Number(_0x84106[_0x34d75a(0x10e)]['dataset']['id']),_0x3b70c9=_0x84106[_0x34d75a(0x10e)]['textContent'];_0x5ac247(_0x4004f4,_0x3b70c9),_0x110252['value']='',_0xfdc0f0[_0x34d75a(0x10c)]='',_0x84106[_0x34d75a(0x18b)]();}),_0x5058c0[_0x7ba1f9(0x144)](_0x7ba1f9(0xdc),_0x4094f0=>{const _0x12a891=_0x7ba1f9;if(!_0x4094f0[_0x12a891(0x10e)]['classList'][_0x12a891(0x101)](_0x12a891(0x168)))return;const _0x1a07b2=parseInt(_0x4094f0[_0x12a891(0x10e)][_0x12a891(0x14c)]['id'],0xa),_0x35b981=_0x47bcfd[_0x12a891(0x16a)](_0x1a07b2);if(_0x35b981>-0x1)_0x47bcfd[_0x12a891(0x175)](_0x35b981,0x1);_0x4094f0[_0x12a891(0x10e)][_0x12a891(0xce)]['remove']();}),_0x110252['addEventListener'](_0x7ba1f9(0x12a),_0xa0c3e),_0x110252[_0x7ba1f9(0x144)](_0x7ba1f9(0x14b),()=>{setTimeout(()=>{const _0x30e990=_0x12d1;!_0x57aee2[_0x30e990(0x101)](document['activeElement'])&&(_0xfdc0f0[_0x30e990(0x10c)]='');},0x64);});}document['getElementById'](_0x44b087(0x16e))['addEventListener'](_0x44b087(0xdc),async()=>{const _0x311efb=_0x44b087,_0x1fb553=document[_0x311efb(0x117)]('filter-start')[_0x311efb(0x187)],_0x257b59=document[_0x311efb(0x117)]('filter-end')['value'];if(!_0x1fb553||!_0x257b59)return alert(_0x311efb(0xe1));hideModalOptions(),fil_date_start=_0x1fb553+_0x311efb(0xda),fil_date_end=_0x257b59+_0x311efb(0x161),console[_0x311efb(0x12d)](_0x311efb(0x140),fil_CustomersId),console['log'](_0x311efb(0x106),fil_OperationsType),console[_0x311efb(0x12d)](_0x311efb(0x184),fil_BranchesId),consultIncomeReport(_0x311efb(0x179),_0x311efb(0x178),_0x311efb(0x179),_0x311efb(0x178),_0x311efb(0x179),'500px');}),label['addEventListener'](_0x44b087(0xdc),()=>{const _0x5e7017=_0x44b087;options[_0x5e7017(0xd1)][_0x5e7017(0x119)]=options[_0x5e7017(0xd1)][_0x5e7017(0x119)]===_0x5e7017(0x127)?_0x5e7017(0xd3):_0x5e7017(0x127);}),options[_0x44b087(0x144)]('click',_0x48df98=>{const _0x39a362=_0x44b087;if(_0x48df98[_0x39a362(0x10e)]&&_0x48df98[_0x39a362(0x10e)]['tagName']==='LI'){const _0x4e4dce=_0x48df98['target'][_0x39a362(0x107)](_0x39a362(0x169));updateDateRange(_0x4e4dce),options['style'][_0x39a362(0x119)]=_0x39a362(0x127);}}),document[_0x44b087(0x144)]('click',_0x235b85=>{const _0x38e6fa=_0x44b087;!label[_0x38e6fa(0x101)](_0x235b85['target'])&&!options[_0x38e6fa(0x101)](_0x235b85['target'])&&(options['style']['display']=_0x38e6fa(0x127));});function formatDateToYmdHis(_0x2793a8){const _0x501d86=_0x44b087,_0x22fa14=_0x2793a8[_0x501d86(0xee)](),_0x1695c7=String(_0x2793a8[_0x501d86(0xff)]()+0x1)[_0x501d86(0xe2)](0x2,'0'),_0x8a3c9c=String(_0x2793a8[_0x501d86(0x16d)]())['padStart'](0x2,'0'),_0xdfd37e=String(_0x2793a8[_0x501d86(0x125)]())[_0x501d86(0xe2)](0x2,'0'),_0x345678=String(_0x2793a8[_0x501d86(0xf8)]())[_0x501d86(0xe2)](0x2,'0'),_0x551117=String(_0x2793a8[_0x501d86(0xd4)]())['padStart'](0x2,'0');return _0x22fa14+'-'+_0x1695c7+'-'+_0x8a3c9c+'\x20'+_0xdfd37e+':'+_0x345678+':'+_0x551117;}function getDateRange(_0x3370da){const _0x14654e=_0x44b087,_0x4874b5=new Date();let _0x4e7a6d,_0x4d7296;switch(_0x3370da){case'day':_0x4e7a6d=new Date(_0x4874b5[_0x14654e(0xee)](),_0x4874b5[_0x14654e(0xff)](),_0x4874b5[_0x14654e(0x16d)](),0x0,0x0,0x0),_0x4d7296=new Date(_0x4874b5[_0x14654e(0xee)](),_0x4874b5[_0x14654e(0xff)](),_0x4874b5['getDate'](),0x17,0x3b,0x3b),label['innerHTML']=_0x14654e(0x145);break;case _0x14654e(0xdf):const _0x218652=_0x4874b5[_0x14654e(0x14a)](),_0x335484=new Date(_0x4874b5);_0x335484[_0x14654e(0x13c)](_0x4874b5[_0x14654e(0x16d)]()-_0x218652+(_0x218652===0x0?-0x6:0x1));const _0x2e43ba=new Date(_0x335484);_0x2e43ba[_0x14654e(0x13c)](_0x335484['getDate']()+0x6),_0x4e7a6d=new Date(_0x335484['getFullYear'](),_0x335484[_0x14654e(0xff)](),_0x335484[_0x14654e(0x16d)](),0x0,0x0,0x0),_0x4d7296=new Date(_0x2e43ba['getFullYear'](),_0x2e43ba['getMonth'](),_0x2e43ba[_0x14654e(0x16d)](),0x17,0x3b,0x3b),label['innerHTML']='de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x14654e(0x151):_0x4e7a6d=new Date(_0x4874b5['getFullYear'](),_0x4874b5['getMonth'](),0x1,0x0,0x0,0x0),_0x4d7296=new Date(_0x4874b5['getFullYear'](),_0x4874b5[_0x14654e(0xff)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x14654e(0x10c)]='del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x14654e(0x154):_0x4e7a6d=new Date(_0x4874b5['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x4d7296=new Date(_0x4874b5['getFullYear'](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x14654e(0x10c)]='del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;default:label[_0x14654e(0x10c)]='';throw new Error(_0x14654e(0x142));}return{'startDateFormatted':formatDateToYmdHis(_0x4e7a6d),'endDateFormatted':formatDateToYmdHis(_0x4d7296)};}function updateDateRange(_0x74d027=_0x44b087(0xdd)){const _0x54dfe0=_0x44b087;if(_0x74d027==_0x54dfe0(0x14f)){}else{const {startDateFormatted:_0x33ec07,endDateFormatted:_0x5578f8}=getDateRange(_0x74d027);fil_date_start=_0x33ec07,fil_date_end=_0x5578f8,consultIncomeReport(_0x54dfe0(0x179),_0x54dfe0(0x178),_0x54dfe0(0x179),'500px',_0x54dfe0(0x179),_0x54dfe0(0x178));}}async function setOptionsReport(_0x4eae2e){const _0x23f0c1=_0x44b087,_0x751996=arrayIncomes[_0x23f0c1(0x155)](_0x2ca62d=>_0x2ca62d[_0x23f0c1(0xf7)]==_0x4eae2e);if(!_0x751996){console['error'](_0x23f0c1(0xf3)+_0x4eae2e+_0x23f0c1(0x112));return;}const [_0x128cb5]=buildIncomePayloads([_0x751996]);console[_0x23f0c1(0x12d)](_0x128cb5);try{const {pdfBlob:_0x3c96b6,pdfName:_0x1535d3}=await generatePdf(_0x128cb5,'tk','pdfCanvas',_0x23f0c1(0x11e)),_0x4f16ef=0x1;setLastOperationGlobalData(_0x4f16ef,{'pdfGlobalPayload':_0x128cb5,'pdfGlobalBlob':_0x3c96b6,'pdfGlobalName':_0x1535d3}),showModal();}catch(_0x143074){console[_0x23f0c1(0x10a)](_0x23f0c1(0x164),_0x143074);}}function buildIncomePayloads(_0x4fde43){const _0x46304a=_0x44b087;return _0x4fde43[_0x46304a(0x12b)](_0x187278=>{const _0x319e8c=_0x46304a,{setOperationId:_0x31518d,setOperationDateTime:_0x29db61,setOperationType:_0x13cc1b,setOperationSeries:_0x5b7a4e,setOperationTotal:_0x13c200,setOperationCurrency:_0x4baba7,setOperationCustomerName:_0x2b4708,setOperationPaymentStatusName:_0x47e436,setOperationPaymentStatusColor:_0xba83fb,setOperationItems:setOperationItems=[]}=_0x187278,_0x47d669=new Date(_0x29db61),_0x326fb3=_0x47d669[_0x319e8c(0xe0)]()[_0x319e8c(0x113)]('T')[0x0],_0x5c977c=_0x47d669[_0x319e8c(0xd8)]()['split']('\x20')[0x0],[_0x39f5e6,_0x39fb4a]=(_0x5b7a4e||'')[_0x319e8c(0x113)]('-'),_0x57c05d=Number(_0x39fb4a)||0x0,_0x2cdf5f=setOperationItems[_0x319e8c(0x12b)](_0x5d3ad9=>({'cartId':_0x5d3ad9[_0x319e8c(0x189)]||'','id':_0x5d3ad9['id']||0x0,'setAccountingAccountCode':_0x5d3ad9['setAccountingAccountCode']||'','setAccountingAccountId':_0x5d3ad9[_0x319e8c(0xea)]||0x0,'setAccountingAccountName':_0x5d3ad9['setAccountingAccountName']||'','setAccountingAccountType':_0x5d3ad9[_0x319e8c(0x146)]||0x0,'setCantidad':_0x5d3ad9['setCantidad']||0x0,'setChecked':_0x5d3ad9[_0x319e8c(0x156)]||0x0,'setCodProducto':_0x5d3ad9[_0x319e8c(0xcf)]||'','setDescripcion':_0x5d3ad9[_0x319e8c(0x162)]||'','setDescuento':{'setCodTipo':_0x5d3ad9['setDescuento']&&_0x5d3ad9[_0x319e8c(0x11f)][_0x319e8c(0xe4)]||'','setPorcentajeDesc':_0x5d3ad9[_0x319e8c(0x11f)]&&_0x5d3ad9[_0x319e8c(0x11f)][_0x319e8c(0x17c)]||0x0},'setIdProducto':_0x5d3ad9['setIdProducto']||0x0,'setIgv':_0x5d3ad9[_0x319e8c(0x188)]||0x0,'setInventariable':_0x5d3ad9[_0x319e8c(0x135)]||0x0,'setItemDescription':_0x5d3ad9[_0x319e8c(0xd9)]||'','setItemFree':_0x5d3ad9['setItemFree']||0x0,'setMarca':_0x5d3ad9['setMarca']||'','setMtoBaseIgv':_0x5d3ad9[_0x319e8c(0x128)]||0x0,'setMtoPrecioCostoUnitario_input':_0x5d3ad9[_0x319e8c(0x172)]||0x0,'setMtoPrecioUnitario':_0x5d3ad9[_0x319e8c(0x158)]||0x0,'setMtoPrecioUnitario_final':_0x5d3ad9[_0x319e8c(0x141)]||0x0,'setMtoPrecioUnitario_input':_0x5d3ad9[_0x319e8c(0x15a)]||'','setMtoValorCostoUnitario_input':_0x5d3ad9[_0x319e8c(0x12e)]||0x0,'setMtoValorGratuito':_0x5d3ad9[_0x319e8c(0xec)]||0x0,'setMtoValorUnitario':_0x5d3ad9[_0x319e8c(0xfe)]||0x0,'setMtoValorUnitario_final':_0x5d3ad9[_0x319e8c(0xed)]||0x0,'setMtoValorUnitario_input':_0x5d3ad9[_0x319e8c(0xfd)]||'','setMtoValorVenta':_0x5d3ad9[_0x319e8c(0xf1)]||0x0,'setNotas':_0x5d3ad9['setNotas']||'','setOrderId':_0x5d3ad9['setOrderId']||'','setPorcentajeIgv':_0x5d3ad9['setPorcentajeIgv']||0x0,'setTaxId':_0x5d3ad9[_0x319e8c(0xfc)]||0x0,'setTipAfeIgv':_0x5d3ad9['setTipAfeIgv']||'','setTotal':_0x5d3ad9[_0x319e8c(0x13f)]||0x0,'setTotalImpuestos':_0x5d3ad9[_0x319e8c(0xef)]||0x0,'setUnidad':_0x5d3ad9[_0x319e8c(0x15e)]||'','setVisible':_0x5d3ad9[_0x319e8c(0x153)]||0x0,'setWindowShiftId':_0x5d3ad9['setWindowShiftId']||''}));return{'apiPOSsendOffline':0x0,'id':_0x31518d,'setAttachEdit':'1','setBranchAddress':'','setCashierId':'','setCashierName':'','setClientSupplierDistrict':'','setClienteDenominacion':_0x2b4708||'','setClienteDireccion':'','setClienteNumDoc':'','setClienteTipoDoc':'','setSerie':_0x39f5e6||'','setCorrelativo':_0x57c05d,'setCurrencyName':_0x4baba7||'','setCurrencySymbol':'','setCustomerEmail':'','setCustomerPhone':'','setDescuentoGlobal_Monto':'','setDespacho':'','setDetraccion':'','setDetraccionCodigo':'','setDetraccionCodigoName':'','setDetraccionPorcentaje':'','setDetraccionTotal':'','setDocumentType':_0x13cc1b||'','setEnvironmentName':'','setFechaHora':_0x326fb3+'T'+_0x5c977c,'setFechaHoraReadonly':'','setIdOperation':'','setLastFechaHora':new Date(),'setMedioPago':{'contado':{'data':{},'status':![]},'credito':{'data':null,'status':![]},'mixto':{'data':null,'status':![]}},'setMoneda':_0x4baba7||'','setMtoDescItems':0x0,'setMtoDescItems_precio':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setMtoImpVenta':_0x13c200||0x0,'setMtoOperExoneradas':0x0,'setMtoOperGratuitas':0x0,'setMtoOperGravadas':0x0,'setMtoOperInafectas':0x0,'setObservacion':'','setOperationDateExpiration':'','setOperationDateTransfer':'','setOperationDriverCertificate':'','setOperationDriverDocNumber':'','setOperationDriverDocType':'','setOperationDriverId':'','setOperationDriverLicense':'','setOperationDriverName':'','setOperationMaintenanceNextDate':'','setOperationMileage':'','setOperationOrderType':'','setOperationPlaceArrivalAddress':'','setOperationPlaceArrivalCode':'','setOperationPlaceArrivalDistrict':'','setOperationPlaceArrivalId':'','setOperationPlaceStartAddress':'','setOperationPlaceStartCode':'','setOperationPlaceStartDistrict':'','setOperationPlaceStartId':'','setOperationTransferReason':'','setOperationTransportationMode':'','setOperationVehicleBrand':'','setOperationVehicleId':'','setOperationVehicleName':'','setOperationVehiclePlate':'','setPercepcion':'','setPercepcionPorcentaje':'','setPercepcionTotal':'','setProductos':_0x2cdf5f,'setRetencion':'','setRetencionPorcentaje':'','setRetencionTotal':'','setSellerId':'','setSellerName':'','setShiftId':'','setSubTotal':0x0,'setSucursalCodigo':'','setSucursalNombre':'','setTipoOperacion':'2','setTipoOperacionInvoice':'1','setToken':'','setTotalImpuestos':0x0,'setValorVenta':0x0,'setWarehouseId':'','setWarehouseName':'','setWebhook':'','setWindowName':'','setWindowShiftId':'','setWindowType':'','windowId':'1'};});}let currentExportMode=_0x44b087(0x177);const WA_CRED_ID=_0x44b087(0x120),WA_DEST_NUMBER=_0x44b087(0x17a),EMAIL_AUTH_TOKEN=_0x44b087(0x159),EMAIL_SENDER_NAME=_0x44b087(0x18d),EMAIL_SENDER_ADDR=_0x44b087(0x102),EMAIL_SENDER_PASS=_0x44b087(0x18e),EMAIL_SMTP_HOST=_0x44b087(0x15f),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x44b087(0x12f)],reportWorker=new Worker(_0x44b087(0x114));reportWorker[_0x44b087(0x137)]=({data:_0x45f392})=>{const _0x4fde50=_0x44b087,{type:_0x35dc52,payload:_0x478a65,reportType:_0x55e7f5}=_0x45f392;if(_0x35dc52==='exportDone'){const _0xd02b43=new Blob([_0x478a65],{'type':'application/octet-stream'}),_0x323db4=new Date()['toISOString']()['slice'](0x0,0xa),_0x5a89d2=_0x55e7f5+'_'+_0x323db4+'.xlsx',_0x303b54=_0x1ae6a2=>new Promise((_0x4ea8cf,_0x361ba5)=>{const _0x582f2a=_0x12d1,_0x29e273=new FileReader();_0x29e273[_0x582f2a(0x14e)]=()=>_0x361ba5(_0x29e273[_0x582f2a(0x10a)]),_0x29e273[_0x582f2a(0x163)]=()=>_0x4ea8cf(_0x29e273[_0x582f2a(0x17b)]['split'](',')[0x1]),_0x29e273['readAsDataURL'](_0x1ae6a2);});switch(currentExportMode){case _0x4fde50(0x177):{const _0x2711eb=URL[_0x4fde50(0xf9)](_0xd02b43),_0x4c5008=document[_0x4fde50(0x166)]('a');_0x4c5008[_0x4fde50(0xfb)]=_0x2711eb,_0x4c5008[_0x4fde50(0x177)]=_0x5a89d2,_0x4c5008[_0x4fde50(0xdc)](),URL[_0x4fde50(0x157)](_0x2711eb);}break;case _0x4fde50(0xe5):{_0x303b54(_0xd02b43)[_0x4fde50(0x152)](_0xdeaf45=>{const _0x465e2d=_0x4fde50;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0xdeaf45,_0x465e2d(0x173)+_0x55e7f5+_0x465e2d(0x124)+_0x323db4,_0x5a89d2,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x465e2d(0x149)](_0x4e3bb2=>{const _0x39f481=_0x465e2d;console[_0x39f481(0x10a)]('Error\x20WA:',_0x4e3bb2),ntfShow(_0x39f481(0x10d));});});}break;case _0x4fde50(0x174):{_0x303b54(_0xd02b43)[_0x4fde50(0x152)](_0x473ed0=>{const _0x5a7e3a=_0x4fde50;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x55e7f5+_0x5a7e3a(0x12c)+_0x323db4,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x5a89d2,'content':_0x473ed0,'mimetype':_0x5a7e3a(0x115)}]);});}break;case _0x4fde50(0x116):{_0x303b54(_0xd02b43)[_0x4fde50(0x152)](_0x2b9a0b=>{const _0x74b222=_0x4fde50;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x74b222(0xf0),_0x2b9a0b,'Reporte\x20'+_0x55e7f5+_0x74b222(0x124)+_0x323db4,_0x5a89d2,_0x74b222(0x115))['catch'](_0x371747=>console[_0x74b222(0x10a)](_0x74b222(0xf5),_0x371747)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x74b222(0x173)+_0x55e7f5+_0x74b222(0x12c)+_0x323db4,_0x74b222(0x17f),[{'filename':_0x5a89d2,'content':_0x2b9a0b,'mimetype':_0x74b222(0x115)}]);});}break;default:console['error']('Modo\x20de\x20exportación\x20desconocido:',currentExportMode);}}_0x35dc52==='error'&&(console[_0x4fde50(0x10a)](_0x4fde50(0xfa),_0x478a65),ntfShow(_0x4fde50(0x176)));},document[_0x44b087(0x117)](_0x44b087(0xe3))[_0x44b087(0x144)](_0x44b087(0xdc),()=>{const _0x33902f=_0x44b087;onClickExport(_0x33902f(0x177));});function onClickExport(_0x364c34=_0x44b087(0x177)){const _0x177f20=_0x44b087;if(!Array[_0x177f20(0x136)](arrayIncomes)||!arrayIncomes[_0x177f20(0x13b)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');currentExportMode=_0x364c34;const _0x189c80=arrayIncomes[_0x177f20(0x12b)](_0x58e876=>{const _0x40fb9e=_0x177f20,[_0x30c805]=_0x58e876[_0x40fb9e(0x121)][_0x40fb9e(0x113)]('\x20'),[_0x88dc4f,_0x41c994,_0x5a0c1d]=_0x30c805[_0x40fb9e(0x113)]('-');return{'Periodo':''+_0x88dc4f+_0x41c994,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x5a0c1d+'/'+_0x41c994+'/'+_0x88dc4f,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x58e876[_0x40fb9e(0x13a)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker['postMessage']({'action':_0x177f20(0x167),'reportType':'PLE_Ventas','report':_0x189c80});}window[_0x44b087(0x163)]=function(){const _0x1dd8eb=_0x44b087,_0x4972f7=0x3;loadLoginContent(_0x1dd8eb(0xe7)),setUserNameGet(),setEventBtnAccess();const _0x491f36=document['querySelector']('.btn-logout');_0x491f36&&_0x491f36[_0x1dd8eb(0x144)](_0x1dd8eb(0xdc),function(){logoutReload(0x0,_0x4972f7);}),document[_0x1dd8eb(0x117)](_0x1dd8eb(0xe9))[_0x1dd8eb(0x144)](_0x1dd8eb(0x132),async function(){const _0x439bae=_0x1dd8eb,_0x4057ad=parseInt(this[_0x439bae(0x187)]);myCompany[_0x439bae(0xf2)]=_0x4057ad;const _0xe28b44=await createCartStore('');await saveCompanyToIndexedDB(company,_0xe28b44),await cargarPisos(_0x4057ad),await waitForEvent('setFloorId',_0x439bae(0x143)),await cargarAlmacenes(_0x4057ad),await waitForEvent('setWarehouseId',_0x439bae(0xe6)),document[_0x439bae(0x10f)](new Event(_0x439bae(0x147))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x439bae(0x186)](_0x4057ad),consultIncomeReport('100%',_0x439bae(0x178),_0x439bae(0x179),_0x439bae(0x178),_0x439bae(0x179),_0x439bae(0x178));}),document['getElementById'](_0x1dd8eb(0x139))[_0x1dd8eb(0x144)](_0x1dd8eb(0x132),async function(){const _0x433bc2=_0x1dd8eb;document[_0x433bc2(0x10f)](new Event('WarehouseChangeComplete'));}),document[_0x1dd8eb(0x117)](_0x1dd8eb(0x182))['addEventListener'](_0x1dd8eb(0x132),async function(_0x53ca07){const _0x45115c=_0x1dd8eb;document['dispatchEvent'](new Event(_0x45115c(0x143)));}),loadCartAndSetTabCount(_0x4972f7);};