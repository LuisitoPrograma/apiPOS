/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.7
*/

var _0x3b8263=_0x1215;(function(_0x2a5887,_0xd16ca1){var _0x44d0da=_0x1215,_0x273dfa=_0x2a5887();while(!![]){try{var _0x417ce7=-parseInt(_0x44d0da(0x216))/0x1+-parseInt(_0x44d0da(0x2a6))/0x2+-parseInt(_0x44d0da(0x190))/0x3*(-parseInt(_0x44d0da(0x23e))/0x4)+parseInt(_0x44d0da(0x1a1))/0x5*(-parseInt(_0x44d0da(0x1c8))/0x6)+-parseInt(_0x44d0da(0x1e7))/0x7+parseInt(_0x44d0da(0x2b1))/0x8+parseInt(_0x44d0da(0x187))/0x9;if(_0x417ce7===_0xd16ca1)break;else _0x273dfa['push'](_0x273dfa['shift']());}catch(_0xcc01fc){_0x273dfa['push'](_0x273dfa['shift']());}}}(_0x4ddc,0x7cae8));var _0x1a92c3=(function(){var _0xb4097b=!![];return function(_0x4faed6,_0x40d8a9){var _0x3bd18e=_0xb4097b?function(){var _0x54f0b5=_0x1215;if(_0x40d8a9){var _0x24ae0e=_0x40d8a9[_0x54f0b5(0x2b2)](_0x4faed6,arguments);return _0x40d8a9=null,_0x24ae0e;}}:function(){};return _0xb4097b=![],_0x3bd18e;};}()),_0x1af541=_0x1a92c3(this,function(){var _0x5519cc=_0x1215;return _0x1af541[_0x5519cc(0x19f)]()[_0x5519cc(0x22d)]('(((.+)+)+)+$')[_0x5519cc(0x19f)]()[_0x5519cc(0x266)](_0x1af541)['search'](_0x5519cc(0x277));});_0x1af541();var _0x981dfa=(function(){var _0xc06d54=!![];return function(_0x18ea94,_0x37d116){var _0x2c2bba=_0xc06d54?function(){var _0x2c281b=_0x1215;if(_0x37d116){var _0x4adc6a=_0x37d116[_0x2c281b(0x2b2)](_0x18ea94,arguments);return _0x37d116=null,_0x4adc6a;}}:function(){};return _0xc06d54=![],_0x2c2bba;};}()),_0x451fa9=_0x981dfa(this,function(){var _0x3b2a94=_0x1215,_0x1ae3bd=function(){var _0x40cd2a=_0x1215,_0x1e2cfe;try{_0x1e2cfe=Function('return\x20(function()\x20'+_0x40cd2a(0x1d6)+');')();}catch(_0x218f6b){_0x1e2cfe=window;}return _0x1e2cfe;},_0x10d5be=_0x1ae3bd(),_0x5f3e3d=_0x10d5be[_0x3b2a94(0x235)]=_0x10d5be[_0x3b2a94(0x235)]||{},_0x4d3625=[_0x3b2a94(0x244),_0x3b2a94(0x198),_0x3b2a94(0x2be),_0x3b2a94(0x28d),'exception',_0x3b2a94(0x2ba),_0x3b2a94(0x2b3)];for(var _0x2d97d4=0x0;_0x2d97d4<_0x4d3625[_0x3b2a94(0x1cb)];_0x2d97d4++){var _0x521b27=_0x981dfa[_0x3b2a94(0x266)][_0x3b2a94(0x249)][_0x3b2a94(0x222)](_0x981dfa),_0x2783b1=_0x4d3625[_0x2d97d4],_0x25198b=_0x5f3e3d[_0x2783b1]||_0x521b27;_0x521b27[_0x3b2a94(0x283)]=_0x981dfa[_0x3b2a94(0x222)](_0x981dfa),_0x521b27['toString']=_0x25198b[_0x3b2a94(0x19f)]['bind'](_0x25198b),_0x5f3e3d[_0x2783b1]=_0x521b27;}});_0x451fa9();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x3b8263(0x26d)](_0x3b8263(0x2d7)),unitCount=0x0,branchesC=document[_0x3b8263(0x26d)](_0x3b8263(0x189)),prodC=document[_0x3b8263(0x26d)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x3b8263(0x26d)]('newItem_variants_forms'),vgC=document[_0x3b8263(0x26d)](_0x3b8263(0x242));const fileInput=document['getElementById'](_0x3b8263(0x191)),progressBar=document[_0x3b8263(0x26d)]('progress'),statusDiv=document[_0x3b8263(0x26d)]('status'),uploadBtn=document[_0x3b8263(0x26d)](_0x3b8263(0x1a0));let newItemsExcel=null;const itemWorker=new Worker(_0x3b8263(0x230)),dropZone=document[_0x3b8263(0x26d)](_0x3b8263(0x18a)),removeBtn=document[_0x3b8263(0x26d)](_0x3b8263(0x1af));function showModalCreateItem(_0x287190){var _0x7d1c6a=_0x3b8263;const _0x338820=document[_0x7d1c6a(0x26d)](_0x7d1c6a(0x25e)),_0x395e8f=document['getElementById'](_0x7d1c6a(0x279));_0x338820[_0x7d1c6a(0x2ab)][_0x7d1c6a(0x234)](_0x7d1c6a(0x2ad)),_0x395e8f[_0x7d1c6a(0x1b1)][_0x7d1c6a(0x2b5)]=_0x7d1c6a(0x22a);const _0x33fdee=document['getElementById'](_0x7d1c6a(0x22c));_0x33fdee['value']=parseInt(_0x287190),baseItem['setItemFree']=parseInt(_0x287190);const _0x222457=document[_0x7d1c6a(0x26d)](_0x7d1c6a(0x288));_0x287190==0x0&&(_0x222457['innerHTML']=_0x7d1c6a(0x211));_0x287190==0x1&&(_0x222457['innerHTML']=_0x7d1c6a(0x1ba));const _0x413540=document[_0x7d1c6a(0x1e0)](_0x7d1c6a(0x245));for(let _0x218f8e=0x0;_0x218f8e<_0x413540[_0x7d1c6a(0x1cb)];_0x218f8e++){const _0x2fb0de=_0x413540[_0x218f8e];if(_0x287190==0x0)_0x2fb0de[_0x7d1c6a(0x2ab)][_0x7d1c6a(0x208)](_0x7d1c6a(0x28a));else _0x287190==0x1&&_0x2fb0de['classList'][_0x7d1c6a(0x234)](_0x7d1c6a(0x28a));}}function hideModalCreateItem(){var _0x306fd6=_0x3b8263;const _0x449388=document[_0x306fd6(0x26d)](_0x306fd6(0x25e)),_0x4f1573=document[_0x306fd6(0x26d)](_0x306fd6(0x279));_0x449388[_0x306fd6(0x2ab)]['remove'](_0x306fd6(0x2ad)),_0x4f1573[_0x306fd6(0x1b1)][_0x306fd6(0x2b5)]=_0x306fd6(0x18b);}document[_0x3b8263(0x26d)](_0x3b8263(0x27e))['addEventListener'](_0x3b8263(0x231),hideModalCreateItem),document[_0x3b8263(0x26d)](_0x3b8263(0x279))['addEventListener']('click',_0x307c72=>{var _0x5674ac=_0x3b8263;_0x307c72[_0x5674ac(0x205)]==_0x307c72['currentTarget']&&_0x307c72[_0x5674ac(0x296)]();});function loadTaxData(){var _0xadba9d=_0x3b8263;const _0x5ab499=document[_0xadba9d(0x26d)](_0xadba9d(0x1ed));_0x5ab499[_0xadba9d(0x1aa)]='',company[0x0][_0xadba9d(0x1c9)]['forEach'](function(_0x186091){var _0x25b92c=_0xadba9d;const _0x31206a=document[_0x25b92c(0x23b)](_0x25b92c(0x25a));_0x31206a['value']=_0x186091['setTaxId'],_0x31206a['innerHTML']=_0x186091[_0x25b92c(0x276)]+'\x20('+_0x186091[_0x25b92c(0x193)]+'%)',_0x186091['setTaxId']==company[0x0]['setTaxIdDefault']&&(_0x31206a[_0x25b92c(0x233)]=!![]),_0x5ab499['appendChild'](_0x31206a);});}function uniqueValuesArray(_0xa62d04,_0xecd75e,_0x577277){var _0x52e9e5=_0x3b8263;const _0x1d7b21=Array[_0x52e9e5(0x2b8)](new Set(_0x577277[_0x52e9e5(0x2c9)](_0x226156=>{var _0x173068=_0x52e9e5;const _0xd086e6=_0x226156[_0xa62d04];return typeof _0xd086e6===_0x173068(0x24b)?_0xd086e6[_0x173068(0x19d)]():_0xd086e6;})[_0x52e9e5(0x1b9)](_0x4359b3=>_0x4359b3!=null&&_0x4359b3!=='')));return _0x1d7b21[_0x52e9e5(0x2c9)](_0x4a95e1=>{var _0x583013=_0x52e9e5;const _0x13a408=_0x577277[_0x583013(0x247)](_0x162cb4=>_0x162cb4[_0xa62d04]===_0x4a95e1),_0x11b943=_0x13a408&&_0x13a408[_0xecd75e]!=null?String(_0x13a408[_0xecd75e])[_0x583013(0x19d)]():_0x4a95e1;return{'setCode':_0x4a95e1,'setName':_0x11b943};});}function fillSelect(_0x50d631,_0xa9880f,_0x467ae,_0x4bad8d){var _0x5fa669=_0x3b8263;_0x50d631[_0x5fa669(0x1aa)]='',_0xa9880f[_0x5fa669(0x1c6)](function(_0x2d548e){var _0x15ae03=_0x5fa669,_0x5559ae=new Option(_0x2d548e[_0x4bad8d],_0x2d548e[_0x467ae]);_0x50d631[_0x15ae03(0x234)](_0x5559ae);});}function initMulti(_0x1334bc,_0x1d6f2b){var _0x5894c0=_0x3b8263,_0x5dc8bb=document[_0x5894c0(0x26d)](_0x1334bc),_0x3d5a9b=_0x5dc8bb[_0x5894c0(0x2a4)](_0x5894c0(0x229)),_0xe69fa8=_0x5dc8bb[_0x5894c0(0x2a4)](_0x5894c0(0x2c5)),_0x3f112a=_0x5dc8bb[_0x5894c0(0x2a4)](_0x5894c0(0x2a2)),_0x4d61ff=_0x1d6f2b[_0x5894c0(0x255)](),_0x2c9c0c=[];let _0x2ef685=null,_0x2bead1=![];function _0x429840(){var _0x5f3113=_0x5894c0;const _0x10bb4d=_0x3d5a9b[_0x5f3113(0x21a)][_0x5f3113(0x19d)]();if(!_0x10bb4d)return;const _0x4fb94e=_0x4d61ff[_0x5f3113(0x247)](_0x4729e4=>_0x4729e4[_0x5f3113(0x278)][_0x5f3113(0x1ee)]()===_0x10bb4d[_0x5f3113(0x1ee)]());if(_0x4fb94e)_0x2c9c0c['push'](_0x4fb94e),_0x4d61ff[_0x5f3113(0x1b0)](_0x4d61ff['findIndex'](_0x1f7404=>_0x1f7404[_0x5f3113(0x1ae)]===_0x4fb94e[_0x5f3113(0x1ae)]),0x1);else{const _0x3fac5d=_0x2c9c0c[_0x5f3113(0x272)](_0x2b7685=>_0x2b7685[_0x5f3113(0x278)][_0x5f3113(0x1ee)]()===_0x10bb4d[_0x5f3113(0x1ee)]());!_0x3fac5d&&_0x2c9c0c['push']({'setCode':_0x10bb4d,'setName':_0x10bb4d});}_0x3c4af1(),_0x456714(),_0x3d5a9b[_0x5f3113(0x21a)]='';}function _0x456714(){var _0x1b25e3=_0x5894c0;_0xe69fa8['innerHTML']='',_0x4d61ff['filter'](_0x495b40=>_0x495b40['setName'][_0x1b25e3(0x1ee)]()[_0x1b25e3(0x25f)](_0x3d5a9b[_0x1b25e3(0x21a)][_0x1b25e3(0x1ee)]()))[_0x1b25e3(0x255)](0x0,0x14)['forEach'](_0x4898e4=>{var _0x2641a9=_0x1b25e3,_0x134416=document[_0x2641a9(0x23b)](_0x2641a9(0x2d6));_0x134416[_0x2641a9(0x25c)]=_0x4898e4[_0x2641a9(0x278)],_0x134416[_0x2641a9(0x1c4)][_0x2641a9(0x1d7)]=_0x4898e4['setCode'],_0xe69fa8[_0x2641a9(0x27b)](_0x134416),_0x134416[_0x2641a9(0x21e)](_0x2641a9(0x26e),()=>_0x2bead1=!![]),_0x134416[_0x2641a9(0x21e)](_0x2641a9(0x231),function(){var _0x201d50=_0x2641a9;_0x2bead1=![],_0x2c9c0c[_0x201d50(0x243)](_0x4898e4),_0x4d61ff[_0x201d50(0x1b0)](_0x4d61ff[_0x201d50(0x281)](_0x459bc7=>_0x459bc7['setCode']===_0x4898e4['setCode']),0x1),_0x3d5a9b[_0x201d50(0x21a)]='',_0x3c4af1(),_0x456714();});});}function _0x3c4af1(){var _0x259f41=_0x5894c0;_0x3f112a['innerHTML']='',_0x2c9c0c['forEach'](_0x24dfd1=>{var _0x314854=_0x1215,_0x55350f=document[_0x314854(0x23b)]('div');_0x55350f[_0x314854(0x20d)]='tag',_0x55350f['textContent']=_0x24dfd1[_0x314854(0x278)];var _0x339504=document['createElement'](_0x314854(0x2c3));_0x339504['className']=_0x314854(0x217),_0x339504[_0x314854(0x25c)]='×',_0x339504[_0x314854(0x21e)](_0x314854(0x231),function(){var _0x3b8e6e=_0x314854;_0x4d61ff['push'](_0x24dfd1);const _0x816af0=_0x2c9c0c[_0x3b8e6e(0x281)](_0x2cc86c=>_0x2cc86c[_0x3b8e6e(0x1ae)]===_0x24dfd1[_0x3b8e6e(0x1ae)]);if(_0x816af0>-0x1)_0x2c9c0c[_0x3b8e6e(0x1b0)](_0x816af0,0x1);_0x3c4af1(),_0x456714();}),_0x55350f['appendChild'](_0x339504),_0x3f112a['appendChild'](_0x55350f);}),_0x5dc8bb[_0x259f41(0x2af)](new CustomEvent(_0x259f41(0x1a2),{'detail':_0x2c9c0c,'bubbles':!![]}));}return _0x3d5a9b[_0x5894c0(0x21e)]('focus',function(){var _0x25484b=_0x5894c0;_0x2ef685&&(clearTimeout(_0x2ef685),_0x2ef685=null),_0xe69fa8[_0x25484b(0x2ab)]['remove'](_0x25484b(0x21b));}),_0x3d5a9b[_0x5894c0(0x21e)](_0x5894c0(0x275),_0x456714),_0x3d5a9b[_0x5894c0(0x21e)](_0x5894c0(0x295),function(_0x22236a){var _0x271e3b=_0x5894c0;_0x22236a['key']===_0x271e3b(0x20e)&&(_0x22236a[_0x271e3b(0x1ac)](),_0x429840());}),_0x3d5a9b['addEventListener'](_0x5894c0(0x1ce),function(){if(_0x2bead1)return;_0x2ef685=setTimeout(()=>{_0x429840(),_0x2ef685=null;},0xc8);}),document[_0x5894c0(0x21e)](_0x5894c0(0x231),function(_0x21ecd0){var _0x4e4834=_0x5894c0;!_0x5dc8bb[_0x4e4834(0x1b6)](_0x21ecd0[_0x4e4834(0x205)])&&_0xe69fa8[_0x4e4834(0x2ab)][_0x4e4834(0x234)](_0x4e4834(0x21b));}),_0x456714(),_0x2c9c0c;}function getLastCode(_0x4e651a){var _0x4e8c9b=_0x3b8263;const _0x5a1d93=_0x4e651a[_0x4e8c9b(0x2c9)](_0x573962=>String(_0x573962[_0x4e8c9b(0x1b8)])['trim']())[_0x4e8c9b(0x1b9)](_0x11f360=>_0x11f360!=='');if(_0x5a1d93[_0x4e8c9b(0x1cb)]===0x0)return'';const _0x3b1fde=_0x5a1d93[_0x4e8c9b(0x1e9)](_0x582fb8=>/^\d+$/[_0x4e8c9b(0x221)](_0x582fb8));if(_0x3b1fde){const _0x5bac9b=_0x5a1d93[_0x4e8c9b(0x2c9)](Number),_0x2fd9e3=Math['max'](..._0x5bac9b);return String(_0x2fd9e3);}let _0x2e5e64;if(typeof Intl!==_0x4e8c9b(0x1eb)&&Intl['Collator']){const _0x51bf38=new Intl[(_0x4e8c9b(0x1dc))](undefined,{'numeric':!![],'sensitivity':_0x4e8c9b(0x2a1)});_0x2e5e64=_0x5a1d93[_0x4e8c9b(0x255)]()[_0x4e8c9b(0x292)](_0x51bf38['compare']);}else{const _0x27641b=_0x5a1d93[_0x4e8c9b(0x1e9)](_0x22b0b1=>/^\d+$/[_0x4e8c9b(0x221)](_0x22b0b1));_0x27641b?_0x2e5e64=_0x5a1d93[_0x4e8c9b(0x2c9)](Number)[_0x4e8c9b(0x292)]((_0x2b04ed,_0x32f49a)=>_0x2b04ed-_0x32f49a)[_0x4e8c9b(0x2c9)](String):_0x2e5e64=_0x5a1d93[_0x4e8c9b(0x255)]()[_0x4e8c9b(0x292)]();}return _0x2e5e64[_0x2e5e64[_0x4e8c9b(0x1cb)]-0x1];}function _0x4ddc(){var _0x59ac7a=['setStockInitial','active','setPriceUSD','dispatchEvent','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','7289544EROsQc','apply','trace','.drop-zone__prompt','display','isArray','USD','from','Error\x20al\x20procesar\x20la\x20operación:','table','inputItemCode','#newItem_brands_select\x20.options_list','Ingresa\x20el\x20código\x20del\x20item','info','name','application/octet-stream','setItemIsBought','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','span','setCost','.options_list','setItemDateExpiry','image/*','setDescripcion','map','setUnits','percent','accept','.addVariantComp','_units_container','Ingresa\x20el\x20nombre\x20del\x20item','newItem_btn_addProdItem','setItemWarehouses','inputItemDescription','onload','toggle','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','div','newItem_images_container','setCategoria','setItemId','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','9465642jEeLqD','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','newItem_branches_container','drop-zone','none','setBatchName','setMtoPrecioUnitario','true','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','135NkLUOB','file-input','drop','setImpuestoValue','dragover','setIdProducto','setItemTaxId','.unitSelect','warn','inputItemBarCode','href','setItemBrandName','newItem_units_container','trim','focus','toString','upload-btn','615OTxpao','selectionChange','fill','setImpuestoCode','setMtoPrecioCostoUnitario','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','No\x20hay\x20items\x20para\x20exportar.','newItem_brands_select','setItemIsSold','innerHTML','dataTransfer','preventDefault','onmessage','setCode','remove-file','splice','style','.xlsx','.removeCombo','priceInput','\x22\x20class=\x22branchChk\x22>\x20','contains','setItemCategoryName','setCodProducto','filter','Producto\x20Libre','style=\x22display:none\x22','setItemImages','variant_','setItemUnits','padStart','setDefault','setWarehouseCode','readwrite','[data-idx=\x22','dataset','.branchInit','forEach','setItemCode','42690zxiIjU','setImpuestos','image_box','length','</div>','done','blur','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','./img/product.png','import','setItemTaxCode','setConversionFactor','newItem_title_table_cp','toISOString','{}.constructor(\x22return\x20this\x22)(\x20)','code','default','.branchChk','match','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','Collator','newItem_title_table','readAsDataURL','inputItemName','getElementsByClassName','setTaxIdDefault','children','progress','setWarehouseName','inputItemType','ERROR:\x20plainProducts\x20no\x20serializable:','5137832PDgQsL','\x22\x20value=\x22','every','change','undefined','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','inputItemTax','toLowerCase','exportDone','flatMap','file','.vgName','.removeVariant','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','revokeObjectURL','detail','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','parentNode','\x20items\x20procesados.','setItemUnitAlias','Items\x20finales:','setItemComponents','setUnidadCodigo','setUnitName','variantForm','type','setItemCategories','postMessage','[id$=\x22_comp_container\x22]','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','target','unitSelect','newItem_chk_sell','remove','setItemName','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','❌\x20Error:\x20','newItem_addToCart','className','Enter','onerror','querySelectorAll','Nuevo\x20Producto','closest','setWarehouseId','setStockMinimum','checked','593441FCSmJg','remove-tag','setItemBrands','arrayBuffer','value','newItem_hidden','split','setItemVariantValues','addEventListener','.removeProd','setItemType','test','bind','costInput','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','eqInput','#newItem_branches_container\x20>\x20div','.prodQty','.eqInput','.ms_input','block','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setItemFree','search','div[data-default=\x22true\x22]\x20.eqInput','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','./js/apierp_item_wk.min.js','click','message','selected','add','console','\x22\x20class=\x22branchChk\x22\x20checked>\x20','currency_data','setCostUSD','disabled','.branchMin','createElement','files','#newItem_units_container\x20>\x20div','77128aKMcRV','items','currency','.priceInput','newItem_variant_groups','push','log','productType1','setWebhook','find','btnItemSave','prototype','#newItem_categories_select\x20.selected_tags','string','setMoneda','setItemUnitId','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setItemCommissionPercentage','setTaxId','.prod_input_container','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','.vgVals','.costInput','slice','setBatchExpirationDate','_branch_container','windowId','.removeGroup','option','offline_operations','textContent','PEN','detalleModalCreateItem','includes','now','setUnitCode','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setSucursalStock','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','constructor','objectStore','values','defineProperty','setItemTaxValue','transaction','<img\x20src=\x22','getElementById','mousedown','setItemInventoriable','Error\x20al\x20obtener\x20la\x20plantilla:\x20','createObjectURL','some','setIdSucursal','sucursales','input','setImpuestoName','(((.+)+)+)+$','setName','modalOverlayCreateItem','.variantCode','appendChild','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','.variantExpiry','closeModalCreateItem','Plantilla-Items-Export-','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','findIndex','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','__proto__','newItem_chk_buy','setAuthToken','idx','100','modalProductNewTitle','.removeUnit','hidden','<div\x20class=\x22newItem_col\x22>','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','error','.unitAlias','selectedItem','setItemDescription','.prodInput','sort','newItem_categories_select','.options_list\x20div','keydown','stopPropagation','setPrice','_comp_container','newItem_btn_addUnit','setFactor','oncomplete','setItemBarCode','setAlias','download','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','setInventariable','base','.selected_tags','setItemVariantName','querySelector','.variantBarCode','234726zVMdcD','dragleave','✅\x20Exportación\x20completada:\x20','setEquivalence','unitAlias','classList'];_0x4ddc=function(){return _0x59ac7a;};return _0x4ddc();}function _0x1215(_0x217b47,_0x189700){var _0x4692b2=_0x4ddc();return _0x1215=function(_0x451fa9,_0x981dfa){_0x451fa9=_0x451fa9-0x184;var _0x4f1b5c=_0x4692b2[_0x451fa9];return _0x4f1b5c;},_0x1215(_0x217b47,_0x189700);}function getNextCode(_0x1b9c57){var _0x1a8f7a=_0x3b8263;const _0x78af5=getLastCode(_0x1b9c57);if(!_0x78af5)return'';if(/^\d+$/['test'](_0x78af5))return String(Number(_0x78af5)+0x1);const _0x4b3103=_0x78af5[_0x1a8f7a(0x1da)](/^([A-Za-z]*)(\d+)$/);if(_0x4b3103){const [,_0x167341,_0xe1ea93]=_0x4b3103,_0x3fd3b9=String(Number(_0xe1ea93)+0x1)[_0x1a8f7a(0x1bf)](_0xe1ea93['length'],'0');return _0x167341+_0x3fd3b9;}return _0x78af5;}document[_0x3b8263(0x26d)](_0x3b8263(0x1df))['addEventListener'](_0x3b8263(0x275),function(_0x2bfd88){var _0x11b545=_0x3b8263;baseItem[_0x11b545(0x209)]=_0x2bfd88[_0x11b545(0x205)][_0x11b545(0x21a)];}),document[_0x3b8263(0x26d)]('inputItemDescription')[_0x3b8263(0x21e)](_0x3b8263(0x275),function(_0x8a5390){var _0x33b9ae=_0x3b8263;baseItem[_0x33b9ae(0x290)]=_0x8a5390[_0x33b9ae(0x205)][_0x33b9ae(0x21a)];}),document[_0x3b8263(0x26d)]('inputItemDateExpiry')[_0x3b8263(0x21e)](_0x3b8263(0x275),function(_0x6e08f2){var _0x5cabf6=_0x3b8263;baseItem[_0x5cabf6(0x2c6)]=_0x6e08f2[_0x5cabf6(0x205)][_0x5cabf6(0x21a)];}),document[_0x3b8263(0x26d)](_0x3b8263(0x1e5))['addEventListener'](_0x3b8263(0x1ea),function(_0x2ffcb1){var _0x4ffef3=_0x3b8263;baseItem['setItemType']=_0x2ffcb1[_0x4ffef3(0x205)]['value'];}),document[_0x3b8263(0x26d)](_0x3b8263(0x1ed))['addEventListener'](_0x3b8263(0x1ea),function(_0x1e73c4){var _0x3a40cb=_0x3b8263;baseItem['setItemTaxId']=_0x1e73c4[_0x3a40cb(0x205)][_0x3a40cb(0x21a)];const _0x3f78c1=_0x1e73c4['target']['value'],_0x10395d=company[0x0][_0x3a40cb(0x1c9)][_0x3a40cb(0x247)](_0x15a303=>_0x15a303['setTaxId']==_0x3f78c1)?.[_0x3a40cb(0x1a4)]||0x0,_0x5be125=company[0x0][_0x3a40cb(0x1c9)][_0x3a40cb(0x247)](_0x2961aa=>_0x2961aa[_0x3a40cb(0x250)]==_0x3f78c1)?.['setImpuestoValue']||0x0;baseItem['setItemTaxCode']=_0x10395d,baseItem['setItemTaxValue']=_0x5be125;}),document['getElementById'](_0x3b8263(0x284))[_0x3b8263(0x21e)](_0x3b8263(0x1ea),function(_0x22d04a){var _0x8b0a82=_0x3b8263;baseItem[_0x8b0a82(0x2c1)]=_0x22d04a[_0x8b0a82(0x205)][_0x8b0a82(0x215)];}),document[_0x3b8263(0x26d)](_0x3b8263(0x207))[_0x3b8263(0x21e)]('change',function(_0x435e2b){var _0x429f10=_0x3b8263;baseItem['setItemIsSold']=_0x435e2b[_0x429f10(0x205)][_0x429f10(0x215)];}),document[_0x3b8263(0x26d)]('inputItemCode')[_0x3b8263(0x21e)]('input',function(_0x307cb1){var _0x62174e=_0x3b8263;baseItem['setItemCode']=_0x307cb1[_0x62174e(0x205)][_0x62174e(0x21a)];}),document[_0x3b8263(0x26d)](_0x3b8263(0x199))[_0x3b8263(0x21e)](_0x3b8263(0x275),function(_0x499da4){var _0x23aad8=_0x3b8263;baseItem[_0x23aad8(0x29c)]=_0x499da4[_0x23aad8(0x205)][_0x23aad8(0x21a)];}),document['getElementById'](_0x3b8263(0x299))[_0x3b8263(0x21e)](_0x3b8263(0x231),function(){addUnit(),updateUnitsArray();}),document[_0x3b8263(0x26d)](_0x3b8263(0x2bb))['addEventListener']('blur',function(){var _0x16a440=_0x3b8263;const _0x3d13ad=this[_0x16a440(0x21a)]['trim']();if(_0x3d13ad==='')return;const _0x2615ce=products[_0x16a440(0x272)](_0x191324=>_0x191324[_0x16a440(0x1b8)]==_0x3d13ad),_0x120276=getLastCode(products);_0x2615ce?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x120276,0x2,0x1):ntfShow(_0x16a440(0x1a6),0x1,0x1);});function removeImg(_0x4fb8b6){var _0xb47cf=_0x3b8263;currentImages[_0x4fb8b6]=null;var _0x5c15f4=imgC[_0xb47cf(0x2a4)](_0xb47cf(0x1c3)+_0x4fb8b6+'\x22]');_0x5c15f4[_0xb47cf(0x1aa)]='';var _0x5e926f=document[_0xb47cf(0x23b)]('input');_0x5e926f[_0xb47cf(0x200)]=_0xb47cf(0x1f1),_0x5e926f[_0xb47cf(0x2cc)]=_0xb47cf(0x2c7),_0x5e926f[_0xb47cf(0x1b1)][_0xb47cf(0x2b5)]=_0xb47cf(0x18b);var _0x691f64=document[_0xb47cf(0x23b)](_0xb47cf(0x2c3));_0x691f64[_0xb47cf(0x25c)]='+',_0x5c15f4[_0xb47cf(0x27b)](_0x5e926f),_0x5c15f4[_0xb47cf(0x27b)](_0x691f64),_0x5c15f4[_0xb47cf(0x21e)]('click',function(){var _0x43631d=_0xb47cf;_0x5e926f[_0x43631d(0x231)]();}),baseItem[_0xb47cf(0x1bc)]=currentImages[_0xb47cf(0x1b9)](function(_0x46dc5f){return _0x46dc5f;});}function addUnit(_0x439a3f,_0x3d9c2c,_0x3e875e,_0x45ac17,_0x4a6329,_0xa53a6b,_0x5a938e){var _0x45f567=_0x3b8263,_0x4c629b=uniqueValuesArray('setUnitCode',_0x45f567(0x1fe),myCompany[_0x45f567(0x2ca)]);_0x439a3f=_0x439a3f||'',_0x3d9c2c=_0x3d9c2c||_0x4c629b[0x3a]&&_0x4c629b[0x3a][_0x45f567(0x1ae)]||'',_0x3e875e=_0x3e875e!==undefined?_0x3e875e:0x1,_0x45ac17=!!_0x45ac17,_0x4a6329=_0x4a6329||'',_0xa53a6b=_0xa53a6b||'';var _0x1acce0=unitCount++,_0x4ffdc2=document[_0x45f567(0x23b)]('div');_0x4ffdc2[_0x45f567(0x1c4)]['idx']=_0x1acce0,_0x4ffdc2[_0x45f567(0x1c4)][_0x45f567(0x1d8)]=_0x45ac17,_0x4ffdc2[_0x45f567(0x1aa)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x1acce0+_0x45f567(0x1e8)+_0x439a3f+_0x45f567(0x188)+_0x1acce0+_0x45f567(0x2b0)+_0x1acce0+_0x45f567(0x1e8)+_0x3e875e+'\x22\x20'+(_0x45ac17?'disabled':'')+_0x45f567(0x265)+_0x1acce0+_0x45f567(0x1e8)+_0x4a6329+_0x45f567(0x29f)+_0x1acce0+'\x22\x20value=\x22'+_0xa53a6b+_0x45f567(0x1f7)+(_0x45ac17?_0x45f567(0x1bb):'')+_0x45f567(0x18f),fillSelect(_0x4ffdc2['querySelector']('.unitSelect'),_0x4c629b,_0x45f567(0x1ae),_0x45f567(0x278)),_0x4ffdc2[_0x45f567(0x2a4)](_0x45f567(0x197))[_0x45f567(0x21a)]=_0x3d9c2c,[_0x45f567(0x2aa),_0x45f567(0x206),_0x45f567(0x225),_0x45f567(0x1b4),_0x45f567(0x223)][_0x45f567(0x1c6)](function(_0x4a5630){var _0x6964f4=_0x45f567;_0x4ffdc2[_0x6964f4(0x2a4)]('.'+_0x4a5630)[_0x6964f4(0x21e)](_0x6964f4(0x275),function(){var _0x1ae93d=_0x5a938e?+_0x5a938e['id']['split']('_')[0x1]:null;if(_0x5a938e)updateVariantUnits(_0x1ae93d);else updateUnitsArray();});}),_0x4ffdc2[_0x45f567(0x2a4)](_0x45f567(0x289))[_0x45f567(0x21e)]('click',function(){var _0x2c6dc4=_0x45f567;_0x4ffdc2['remove']();var _0x24a4d4=_0x5a938e?+_0x5a938e['id'][_0x2c6dc4(0x21c)]('_')[0x1]:null;if(_0x5a938e)updateVariantUnits(_0x24a4d4);else updateUnitsArray();});var _0x510fdc=_0x5a938e||document['getElementById'](_0x45f567(0x19c));_0x510fdc[_0x45f567(0x27b)](_0x4ffdc2);}function containerIdx(_0x57eec9){var _0x1617e1=_0x3b8263;return+_0x57eec9['id'][_0x1617e1(0x21c)]('_')[0x1];}function updateUnitsArray(){var _0xece83=_0x3b8263,_0x261747=[],_0x46fc98=Array[_0xece83(0x2b8)](document['querySelectorAll'](_0xece83(0x23d))),_0x37d3fc=_0x46fc98[_0xece83(0x247)](_0x903c7f=>_0x903c7f['dataset'][_0xece83(0x1d8)]===_0xece83(0x18e)),_0x1bfd01=_0x37d3fc?+_0x37d3fc['querySelector']('.eqInput')[_0xece83(0x21a)]:0x1;_0x46fc98[_0xece83(0x1c6)](function(_0x3e192d){var _0x201c6e=_0xece83,_0x489101=+_0x3e192d[_0x201c6e(0x2a4)](_0x201c6e(0x228))['value']||0x0,_0x329b70=+_0x3e192d['querySelector'](_0x201c6e(0x241))[_0x201c6e(0x21a)]||0x0,_0x5b1783=+_0x3e192d[_0x201c6e(0x2a4)]('.costInput')[_0x201c6e(0x21a)]||0x0;_0x261747[_0x201c6e(0x243)]({'setAlias':_0x3e192d[_0x201c6e(0x2a4)](_0x201c6e(0x28e))[_0x201c6e(0x21a)][_0x201c6e(0x19d)](),'setUnitCode':_0x3e192d[_0x201c6e(0x2a4)](_0x201c6e(0x197))[_0x201c6e(0x21a)],'setEquivalence':_0x489101,'setFactor':_0x3e192d[_0x201c6e(0x1c4)][_0x201c6e(0x1d8)]===_0x201c6e(0x18e)?0x1:_0x489101==_0x1bfd01?0x1:_0x489101<_0x1bfd01?_0x1bfd01/_0x489101:_0x489101/_0x1bfd01,'setPrice':_0x329b70,'setCost':_0x5b1783,'setDefault':_0x3e192d[_0x201c6e(0x1c4)][_0x201c6e(0x1d8)]==='true'?0x1:0x0});}),baseItem[_0xece83(0x1be)]=_0x261747;}function updateBranches(){var _0x45db26=_0x3b8263,_0x11b279=[];document[_0x45db26(0x210)](_0x45db26(0x226))[_0x45db26(0x1c6)](function(_0x375821){var _0x106624=_0x45db26,_0x34b3c3=_0x375821[_0x106624(0x2a4)](_0x106624(0x1d9));if(_0x34b3c3[_0x106624(0x215)]){var _0x1f570a=+_0x34b3c3[_0x106624(0x1c4)]['id'],_0x2075c1=+_0x375821['querySelector'](_0x106624(0x1c5))[_0x106624(0x21a)],_0x272515=+_0x375821[_0x106624(0x2a4)](_0x106624(0x23a))['value'];_0x11b279['push']({'setWarehouseCode':_0x1f570a,'setStockInitial':_0x2075c1,'setStockMinimum':_0x272515});}}),baseItem[_0x45db26(0x2d1)]=_0x11b279;}document[_0x3b8263(0x26d)](_0x3b8263(0x2d0))['addEventListener'](_0x3b8263(0x231),function(){var _0x200f3e=_0x3b8263,_0x766b69=Date[_0x200f3e(0x260)](),_0x1218ee=document['createElement'](_0x200f3e(0x2d6));_0x1218ee[_0x200f3e(0x1c4)]['idx']=_0x766b69,_0x1218ee['innerHTML']='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x766b69+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x766b69+_0x200f3e(0x262),prodC[_0x200f3e(0x27b)](_0x1218ee),initProdSearch(_0x1218ee[_0x200f3e(0x2a4)](_0x200f3e(0x251))),_0x1218ee['querySelector'](_0x200f3e(0x21f))[_0x200f3e(0x21e)](_0x200f3e(0x231),function(){var _0x56770a=_0x200f3e;_0x1218ee[_0x56770a(0x208)](),updateProdItems();}),_0x1218ee[_0x200f3e(0x2a4)](_0x200f3e(0x227))[_0x200f3e(0x21e)](_0x200f3e(0x275),updateProdItems),document['getElementById']('newItem_title_table_cp')[_0x200f3e(0x2ab)][_0x200f3e(0x2d4)](_0x200f3e(0x1dd),!![]),document['getElementById']('newItem_title_table_cp')[_0x200f3e(0x2ab)][_0x200f3e(0x2d4)](_0x200f3e(0x21b),![]);});function initProdSearch(_0x1061d6,_0x17aadd){var _0x4bc983=_0x3b8263,_0x23165d=_0x1061d6[_0x4bc983(0x2a4)](_0x4bc983(0x291)),_0x55a026=_0x1061d6['querySelector'](_0x4bc983(0x2c5)),_0x25e781=_0x17aadd||null;if(_0x17aadd)_0x23165d[_0x4bc983(0x21a)]=_0x17aadd['name'];_0x23165d[_0x4bc983(0x21e)](_0x4bc983(0x275),function(){var _0x1643b4=_0x4bc983,_0x202931=_0x23165d[_0x1643b4(0x21a)]['toLowerCase']()[_0x1643b4(0x19d)]();_0x55a026[_0x1643b4(0x1aa)]='';if(!_0x202931)return;products[_0x1643b4(0x1b9)](_0x34fca6=>_0x34fca6[_0x1643b4(0x2c8)][_0x1643b4(0x1ee)]()['includes'](_0x202931))[_0x1643b4(0x255)](0x0,0x14)[_0x1643b4(0x1c6)](function(_0x106c64){var _0x5f0808=_0x1643b4,_0x53a6cc=document['createElement'](_0x5f0808(0x2d6));_0x53a6cc[_0x5f0808(0x25c)]=_0x106c64['setDescripcion'],_0x53a6cc[_0x5f0808(0x1c4)]['id']=_0x106c64['id'],_0x53a6cc[_0x5f0808(0x1c4)]['name']=_0x106c64[_0x5f0808(0x2c8)],_0x55a026['appendChild'](_0x53a6cc),_0x53a6cc['addEventListener'](_0x5f0808(0x231),function(){var _0x564df7=_0x5f0808;_0x25e781={'id':_0x106c64['id'],'name':_0x106c64[_0x564df7(0x2c8)]},_0x23165d[_0x564df7(0x21a)]=_0x106c64[_0x564df7(0x2c8)],_0x55a026['innerHTML']='';var _0xae7e8f=_0x1061d6[_0x564df7(0x212)](_0x564df7(0x203));if(_0xae7e8f){var _0xa6b617=+_0xae7e8f['id'][_0x564df7(0x21c)]('_')[0x1];updateVariantComponents(_0xa6b617);}else updateProdItems();});});}),_0x23165d[_0x4bc983(0x21e)](_0x4bc983(0x19e),function(){var _0x325397=_0x4bc983;_0x55a026[_0x325397(0x2ab)][_0x325397(0x208)](_0x325397(0x21b));}),document['addEventListener']('click',function(_0x22dc33){var _0x57662e=_0x4bc983;if(!_0x1061d6[_0x57662e(0x1b6)](_0x22dc33[_0x57662e(0x205)]))_0x55a026[_0x57662e(0x2ab)][_0x57662e(0x234)](_0x57662e(0x21b));}),Object[_0x4bc983(0x269)](_0x1061d6,_0x4bc983(0x28f),{'get':()=>_0x25e781});}function updateProdItems(){var _0x305877=_0x3b8263,_0x41a5b4=[];Array[_0x305877(0x2b8)](prodC[_0x305877(0x1e2)])[_0x305877(0x1c6)](function(_0x1bbfde){var _0x274a5c=_0x305877,_0x2f41d4=_0x1bbfde[_0x274a5c(0x2a4)](_0x274a5c(0x251));if(!_0x2f41d4)return;var _0x469220=_0x1bbfde[_0x274a5c(0x2a4)]('.prodQty'),_0x3611cc=_0x2f41d4[_0x274a5c(0x28f)];_0x3611cc&&_0x41a5b4[_0x274a5c(0x243)]({'setItemId':_0x3611cc['id'],'setDescripcion':_0x3611cc['name'],'setCantidad':+_0x469220['value']});}),baseItem[_0x305877(0x1fc)]=_0x41a5b4,_0x41a5b4['length']===0x0&&(document[_0x305877(0x26d)](_0x305877(0x1d4))[_0x305877(0x2ab)][_0x305877(0x2d4)](_0x305877(0x1dd),![]),document[_0x305877(0x26d)](_0x305877(0x1d4))['classList'][_0x305877(0x2d4)](_0x305877(0x21b),!![]));}document[_0x3b8263(0x26d)]('newItem_btn_addVariantGroup')[_0x3b8263(0x21e)](_0x3b8263(0x231),function(){var _0x1fbaab=_0x3b8263,_0x64bc4d=vgCount++,_0x313ea4=document[_0x1fbaab(0x23b)]('div');_0x313ea4[_0x1fbaab(0x1c4)]['idx']=_0x64bc4d,_0x313ea4['innerHTML']=_0x1fbaab(0x24e)+_0x64bc4d+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x64bc4d+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x1fbaab(0x27b)](_0x313ea4),_0x313ea4[_0x1fbaab(0x2a4)](_0x1fbaab(0x1f2))[_0x1fbaab(0x21e)](_0x1fbaab(0x1ce),generateVariants),_0x313ea4[_0x1fbaab(0x2a4)](_0x1fbaab(0x253))['addEventListener'](_0x1fbaab(0x1ce),generateVariants),_0x313ea4['querySelector'](_0x1fbaab(0x259))[_0x1fbaab(0x21e)]('click',function(){_0x313ea4['remove'](),generateVariants();});});function generateVariants(){var _0x55d018=_0x3b8263,_0x36550a=[];vgC[_0x55d018(0x210)](_0x55d018(0x2d6))[_0x55d018(0x1c6)](function(_0x48c69f){var _0x2c895e=_0x55d018,_0x1bfd1b=_0x48c69f[_0x2c895e(0x2a4)]('.vgName')[_0x2c895e(0x21a)][_0x2c895e(0x19d)](),_0x41bb90=_0x48c69f[_0x2c895e(0x2a4)](_0x2c895e(0x253))[_0x2c895e(0x21a)]['split'](',')[_0x2c895e(0x2c9)](_0x5c715c=>_0x5c715c['trim']())[_0x2c895e(0x1b9)](_0x1deccc=>_0x1deccc);if(_0x1bfd1b&&_0x41bb90['length'])_0x36550a[_0x2c895e(0x243)]({'name':_0x1bfd1b,'vals':_0x41bb90});});var _0x22d947=[{}];_0x36550a[_0x55d018(0x1c6)](function(_0x4f012c){var _0x19471c=_0x55d018;_0x22d947=_0x22d947[_0x19471c(0x1f0)](function(_0x17152f){var _0x5c5581=_0x19471c;return _0x4f012c['vals'][_0x5c5581(0x2c9)](function(_0x5f3764){var _0x57036b=_0x5c5581,_0x2e673c=Object['assign']({},_0x17152f);return _0x2e673c[_0x4f012c[_0x57036b(0x2bf)]]=_0x5f3764,_0x2e673c;});});}),newItems=[],varContainer[_0x55d018(0x1aa)]='',_0x22d947[_0x55d018(0x1c6)](function(_0x3f2d10,_0x3330b2){var _0x4b687c=_0x55d018,_0x4cba6b=JSON['parse'](JSON['stringify'](baseItem));_0x4cba6b[_0x4b687c(0x21d)]=_0x3f2d10,_0x4cba6b['setItemVariantName']=baseItem[_0x4b687c(0x209)]+'\x20'+Object['entries'](_0x3f2d10)[_0x4b687c(0x2c9)](_0x19d570=>_0x19d570[0x0]+'\x20'+_0x19d570[0x1])['join']('\x20'),newItems['push'](_0x4cba6b);var _0x525e26=document[_0x4b687c(0x23b)](_0x4b687c(0x2d6));_0x525e26[_0x4b687c(0x2ab)][_0x4b687c(0x234)](_0x4b687c(0x1ff)),_0x525e26[_0x4b687c(0x1c4)][_0x4b687c(0x286)]=_0x3330b2,_0x525e26['innerHTML']=_0x4b687c(0x1db)+_0x4cba6b['setItemVariantName']+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x4cba6b[_0x4b687c(0x1c7)]+_0x4b687c(0x1ec)+_0x4cba6b['setItemBarCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x4cba6b[_0x4b687c(0x2c6)]+_0x4b687c(0x2d5)+_0x3330b2+_0x4b687c(0x280)+_0x3330b2+_0x4b687c(0x27c)+_0x3330b2+_0x4b687c(0x22f),varContainer[_0x4b687c(0x27b)](_0x525e26),_0x525e26[_0x4b687c(0x2a4)](_0x4b687c(0x27a))[_0x4b687c(0x21e)]('input',_0x2d5ee3=>newItems[_0x3330b2][_0x4b687c(0x1c7)]=_0x2d5ee3[_0x4b687c(0x205)]['value']),_0x525e26['querySelector'](_0x4b687c(0x2a5))['addEventListener']('input',_0x1d4a17=>newItems[_0x3330b2][_0x4b687c(0x29c)]=_0x1d4a17[_0x4b687c(0x205)][_0x4b687c(0x21a)]),_0x525e26[_0x4b687c(0x2a4)](_0x4b687c(0x27d))['addEventListener'](_0x4b687c(0x1ea),_0x5a6d20=>newItems[_0x3330b2][_0x4b687c(0x2c6)]=_0x5a6d20[_0x4b687c(0x205)]['value']),initVariantUnits(_0x3330b2),initVariantComponents(_0x3330b2),initVariantBranches(_0x3330b2),_0x525e26['querySelector'](_0x4b687c(0x1f3))[_0x4b687c(0x21e)]('click',function(){var _0x18ef55=_0x4b687c,_0xdaf96c=+_0x525e26[_0x18ef55(0x1c4)][_0x18ef55(0x286)];newItems['splice'](_0xdaf96c,0x1),_0x525e26[_0x18ef55(0x208)](),document['querySelectorAll']('.variantForm')['forEach'](function(_0x5773d4,_0x2e9582){var _0x5e195b=_0x18ef55;_0x5773d4[_0x5e195b(0x1c4)][_0x5e195b(0x286)]=_0x2e9582;});});});if(newItems[_0x55d018(0x1cb)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x2706f0){var _0x78b34c=_0x3b8263,_0x55261b=document[_0x78b34c(0x26d)](_0x78b34c(0x1bd)+_0x2706f0+_0x78b34c(0x2ce)),_0x17611d=[];Array[_0x78b34c(0x2b8)](_0x55261b[_0x78b34c(0x1e2)])[_0x78b34c(0x1c6)](function(_0x5f59b0){var _0x2987b1=_0x78b34c,_0x4764eb=+_0x5f59b0[_0x2987b1(0x2a4)](_0x2987b1(0x228))[_0x2987b1(0x21a)]||0x0,_0x28f43b=_0x5f59b0[_0x2987b1(0x2a4)](_0x2987b1(0x28e))['value'][_0x2987b1(0x19d)](),_0x143ecd=_0x5f59b0['querySelector'](_0x2987b1(0x197))[_0x2987b1(0x21a)],_0x26b5a0=+_0x5f59b0[_0x2987b1(0x2a4)](_0x2987b1(0x241))[_0x2987b1(0x21a)]||0x0,_0x521eb4=+_0x5f59b0[_0x2987b1(0x2a4)](_0x2987b1(0x254))['value']||0x0,_0x2c045c=_0x5f59b0[_0x2987b1(0x1c4)][_0x2987b1(0x1d8)]===_0x2987b1(0x18e),_0x1e6e0=+_0x55261b[_0x2987b1(0x2a4)](_0x2987b1(0x22e))[_0x2987b1(0x21a)]||0x1,_0x30d0ab=_0x2c045c?0x1:_0x4764eb==_0x1e6e0?0x1:_0x4764eb<_0x1e6e0?_0x1e6e0/_0x4764eb:_0x4764eb/_0x1e6e0;_0x17611d[_0x2987b1(0x243)]({'setAlias':_0x28f43b,'setUnitCode':_0x143ecd,'setEquivalence':_0x4764eb,'setFactor':_0x30d0ab,'setPrice':_0x26b5a0,'setCost':_0x521eb4,'setDefault':_0x2c045c?0x1:0x0});}),newItems[_0x2706f0][_0x78b34c(0x1be)]=_0x17611d;}function initVariantUnits(_0x103fda){var _0x4cd248=_0x3b8263,_0xbd98d=document[_0x4cd248(0x26d)](_0x4cd248(0x1bd)+_0x103fda+_0x4cd248(0x2ce));_0xbd98d[_0x4cd248(0x1aa)]='',newItems[_0x103fda][_0x4cd248(0x1be)]['forEach'](function(_0x1dd8a2){var _0x3210b3=_0x4cd248;addUnit(_0x1dd8a2[_0x3210b3(0x29d)],_0x1dd8a2[_0x3210b3(0x261)],_0x1dd8a2[_0x3210b3(0x2a9)],_0x1dd8a2[_0x3210b3(0x1c0)],_0x1dd8a2['setPrice'],_0x1dd8a2['setCost'],_0xbd98d);}),_0xbd98d[_0x4cd248(0x1f8)]['querySelector']('.addVariantUnit')[_0x4cd248(0x21e)](_0x4cd248(0x231),function(){addUnit('','',0x1,![],'','',_0xbd98d),updateVariantUnits(_0x103fda);});}function updateVariantUnits(_0x1522ba){var _0x320c8d=_0x3b8263,_0x233d2f=document[_0x320c8d(0x26d)]('variant_'+_0x1522ba+_0x320c8d(0x2ce)),_0x4dd3da=_0x233d2f[_0x320c8d(0x2a4)](_0x320c8d(0x22e)),_0x15e3f9=_0x4dd3da?+_0x4dd3da[_0x320c8d(0x21a)]:0x1,_0xbe18fb=Array[_0x320c8d(0x2b8)](_0x233d2f[_0x320c8d(0x1e2)])[_0x320c8d(0x2c9)](function(_0xd516b3){var _0x254a36=_0x320c8d,_0x31d0a8=_0xd516b3[_0x254a36(0x2a4)](_0x254a36(0x28e))['value']['trim'](),_0x2cfc51=_0xd516b3['querySelector'](_0x254a36(0x197))[_0x254a36(0x21a)],_0x166775=+_0xd516b3['querySelector'](_0x254a36(0x228))[_0x254a36(0x21a)]||0x0,_0x5755f1=+_0xd516b3[_0x254a36(0x2a4)](_0x254a36(0x241))[_0x254a36(0x21a)]||0x0,_0x107f59=+_0xd516b3[_0x254a36(0x2a4)](_0x254a36(0x254))[_0x254a36(0x21a)]||0x0,_0x3edaf3=_0xd516b3['dataset'][_0x254a36(0x1d8)]===_0x254a36(0x18e);return{'setAlias':_0x31d0a8,'setUnitCode':_0x2cfc51,'setEquivalence':_0x166775,'setFactor':_0x3edaf3?0x1:_0x166775==_0x15e3f9?0x1:_0x166775<_0x15e3f9?_0x15e3f9/_0x166775:_0x166775/_0x15e3f9,'setPrice':_0x5755f1,'setCost':_0x107f59,'setDefault':_0x3edaf3?0x1:0x0};});newItems[_0x1522ba][_0x320c8d(0x1be)]=_0xbe18fb;}function initVariantComponents(_0xa3b375){var _0x2b8809=_0x3b8263,_0x1ce193=document['getElementById'](_0x2b8809(0x1bd)+_0xa3b375+_0x2b8809(0x298));_0x1ce193['innerHTML']='',newItems[_0xa3b375][_0x2b8809(0x1fc)][_0x2b8809(0x1c6)](function(_0x3df27f){var _0x1d8cee=_0x2b8809,_0x40cd2e=document[_0x1d8cee(0x23b)](_0x1d8cee(0x2d6)),_0x48a5f4=Date[_0x1d8cee(0x260)]();_0x40cd2e[_0x1d8cee(0x1c4)][_0x1d8cee(0x286)]=_0x48a5f4,_0x40cd2e[_0x1d8cee(0x1aa)]=_0x1d8cee(0x22b)+_0x48a5f4+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x3df27f['setCantidad']+_0x1d8cee(0x1f4),_0x1ce193[_0x1d8cee(0x27b)](_0x40cd2e),initProdSearch(_0x40cd2e['querySelector'](_0x1d8cee(0x251)),{'id':_0x3df27f[_0x1d8cee(0x185)],'name':_0x3df27f[_0x1d8cee(0x2c8)]}),_0x40cd2e[_0x1d8cee(0x2a4)](_0x1d8cee(0x227))[_0x1d8cee(0x21e)](_0x1d8cee(0x275),function(){updateVariantComponents(_0xa3b375);}),_0x40cd2e['querySelector']('.removeCombo')['addEventListener'](_0x1d8cee(0x231),function(){var _0x29bbf0=_0x1d8cee;_0x40cd2e[_0x29bbf0(0x208)](),updateVariantComponents(_0xa3b375);});}),_0x1ce193[_0x2b8809(0x1f8)][_0x2b8809(0x2a4)](_0x2b8809(0x2cd))[_0x2b8809(0x21e)](_0x2b8809(0x231),function(){var _0x5d9993=_0x2b8809,_0x14e885=document[_0x5d9993(0x23b)](_0x5d9993(0x2d6)),_0x445c1f=Date['now']();_0x14e885['dataset'][_0x5d9993(0x286)]=_0x445c1f,_0x14e885[_0x5d9993(0x1aa)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x445c1f+_0x5d9993(0x282),_0x1ce193['appendChild'](_0x14e885),initProdSearch(_0x14e885[_0x5d9993(0x2a4)]('.prod_input_container')),_0x14e885[_0x5d9993(0x2a4)](_0x5d9993(0x227))[_0x5d9993(0x21e)](_0x5d9993(0x275),function(){updateVariantComponents(_0xa3b375);}),_0x14e885[_0x5d9993(0x2a4)](_0x5d9993(0x1b3))[_0x5d9993(0x21e)](_0x5d9993(0x231),function(){var _0x58df66=_0x5d9993;_0x14e885[_0x58df66(0x208)](),updateVariantComponents(_0xa3b375);});});}function updateVariantComponents(_0x494312){var _0x54608b=_0x3b8263,_0x28264f=document[_0x54608b(0x26d)](_0x54608b(0x1bd)+_0x494312+_0x54608b(0x298)),_0x75ada9=Array[_0x54608b(0x2b8)](_0x28264f[_0x54608b(0x1e2)])[_0x54608b(0x2c9)](function(_0x47033b){var _0x37b064=_0x54608b,_0x50230f=_0x47033b[_0x37b064(0x2a4)](_0x37b064(0x251)),_0x55658d=_0x50230f[_0x37b064(0x28f)],_0x523893=+_0x47033b['querySelector']('.prodQty')[_0x37b064(0x21a)]||0x0;return _0x55658d?{'setItemId':_0x55658d['id'],'setDescripcion':_0x55658d[_0x37b064(0x2bf)],'setCantidad':_0x523893}:null;})['filter'](_0x3d08cd=>_0x3d08cd);newItems[_0x494312][_0x54608b(0x1fc)]=_0x75ada9;}function initVariantBranches(_0xfca31f){var _0xec83ce=_0x3b8263;const _0x380cbc=getAllWarehouses();var _0x22d1fb=document[_0xec83ce(0x26d)](_0xec83ce(0x1bd)+_0xfca31f+'_branch_container');_0x22d1fb[_0xec83ce(0x1aa)]='',newItems[_0xfca31f][_0xec83ce(0x2d1)][_0xec83ce(0x1c6)](function(_0x4bbac2){var _0x3afb9f=_0xec83ce,_0x1f51f4=_0x380cbc[_0x3afb9f(0x247)](_0x36026e=>_0x36026e[_0x3afb9f(0x213)]==_0x4bbac2['setWarehouseCode']),_0x325052=document[_0x3afb9f(0x23b)]('div');_0x325052[_0x3afb9f(0x1aa)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x4bbac2[_0x3afb9f(0x1c1)]+_0x3afb9f(0x236)+_0x1f51f4['setWarehouseName']+_0x3afb9f(0x2c2)+_0x4bbac2[_0x3afb9f(0x1c1)]+_0x3afb9f(0x1e8)+_0x4bbac2[_0x3afb9f(0x2ac)]+_0x3afb9f(0x264)+_0x4bbac2['setWarehouseCode']+_0x3afb9f(0x1e8)+_0x4bbac2[_0x3afb9f(0x214)]+'\x22>',_0x22d1fb[_0x3afb9f(0x27b)](_0x325052),_0x325052['querySelectorAll'](_0x3afb9f(0x275))[_0x3afb9f(0x1c6)](function(_0x43df36){var _0x20850d=_0x3afb9f;_0x43df36[_0x20850d(0x21e)](_0x20850d(0x275),function(){updateVariantBranches(_0xfca31f);});});}),_0x380cbc[_0xec83ce(0x1c6)](function(_0xb2fa7c){var _0x205b4b=_0xec83ce;if(!newItems[_0xfca31f][_0x205b4b(0x2d1)][_0x205b4b(0x247)](_0x37c875=>_0x37c875['setWarehouseCode']===_0xb2fa7c['setWarehouseId'])){var _0x53fd97=document[_0x205b4b(0x23b)](_0x205b4b(0x2d6));_0x53fd97['innerHTML']=_0x205b4b(0x28c)+_0xb2fa7c['setWarehouseId']+_0x205b4b(0x1b5)+_0xb2fa7c[_0x205b4b(0x1e4)]+_0x205b4b(0x2c2)+_0xb2fa7c['setWarehouseId']+_0x205b4b(0x264)+_0xb2fa7c[_0x205b4b(0x213)]+'\x22>',_0x22d1fb['appendChild'](_0x53fd97),_0x53fd97['querySelectorAll'](_0x205b4b(0x275))[_0x205b4b(0x1c6)](function(_0x36a68b){var _0x1997f6=_0x205b4b;_0x36a68b[_0x1997f6(0x21e)](_0x1997f6(0x275),function(){updateVariantBranches(_0xfca31f);});});}});}function updateVariantBranches(_0x3a382b){var _0x1abbcb=_0x3b8263,_0x49f93d=document[_0x1abbcb(0x26d)]('variant_'+_0x3a382b+_0x1abbcb(0x257)),_0x3abe91=[];_0x49f93d[_0x1abbcb(0x210)](_0x1abbcb(0x2d6))['forEach'](function(_0x8c4056){var _0x5c51f4=_0x1abbcb,_0x5c0803=_0x8c4056['querySelector'](_0x5c51f4(0x1d9));if(_0x5c0803['checked']){var _0x57a689=+_0x5c0803[_0x5c51f4(0x1c4)]['id'],_0x3b2bb5=+_0x8c4056[_0x5c51f4(0x2a4)](_0x5c51f4(0x1c5))['value']||0x0,_0x4dd0cb=+_0x8c4056[_0x5c51f4(0x2a4)](_0x5c51f4(0x23a))[_0x5c51f4(0x21a)]||0x0;_0x3abe91[_0x5c51f4(0x243)]({'setWarehouseCode':_0x57a689,'setStockInitial':_0x3b2bb5,'setStockMinimum':_0x4dd0cb});}}),newItems[_0x3a382b][_0x1abbcb(0x2d1)]=_0x3abe91;}async function storeOfflineProduct(_0x38e06c){var _0x1e679e=_0x3b8263;try{const _0x10793e=await createCartStore(''),_0x21bbe2=_0x10793e[_0x1e679e(0x26b)](_0x1e679e(0x25b),_0x1e679e(0x1c2)),_0x3eb3d3=_0x21bbe2[_0x1e679e(0x267)]('offline_operations');_0x3eb3d3[_0x1e679e(0x234)](_0x38e06c),_0x21bbe2[_0x1e679e(0x29b)]=()=>{console['log']('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x21bbe2[_0x1e679e(0x20f)]=_0xca5d25=>{var _0x592f58=_0x1e679e;console[_0x592f58(0x28d)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0xca5d25[_0x592f58(0x205)]['error']);};}catch(_0x27e909){console['error'](_0x1e679e(0x2b9),_0x27e909);}}document['getElementById'](_0x3b8263(0x248))[_0x3b8263(0x21e)](_0x3b8263(0x231),async function(_0x5bde4c){var _0x291ea2=_0x3b8263;_0x5bde4c[_0x291ea2(0x1ac)]();const _0x5060d4=document[_0x291ea2(0x26d)](_0x291ea2(0x2bb)),_0x1d569d=document[_0x291ea2(0x26d)](_0x291ea2(0x22c))['value'];if(!_0x5060d4[_0x291ea2(0x21a)][_0x291ea2(0x19d)]()&&_0x1d569d==0x0){ntfShow(_0x291ea2(0x2bd),0x2,0x1);return;}_0x1d569d==0x1&&(_0x5060d4[_0x291ea2(0x21a)]='',baseItem[_0x291ea2(0x1c7)]='');const _0x541230=document[_0x291ea2(0x26d)]('inputItemName');if(!_0x541230[_0x291ea2(0x21a)][_0x291ea2(0x19d)]()){ntfShow(_0x291ea2(0x2cf),0x2,0x1);return;}const _0x515618=document[_0x291ea2(0x26d)](_0x291ea2(0x20c));hideModalCreateItem(),showLoadingModal();newItems[_0x291ea2(0x1cb)]===0x0&&(newItems=[baseItem]);const _0x2c0571=document['getElementById'](_0x291ea2(0x258))['value'],_0x35dc0e=window_options[_0x2c0571][_0x291ea2(0x24c)],_0x25beea=[];newItems['forEach'](_0x388f5f=>{var _0x33abd1=_0x291ea2;const _0x15aa2c=generateNumericUniqId();_0x388f5f[_0x33abd1(0x1be)][_0x33abd1(0x1c6)](_0x476a58=>{var _0x5c8622=_0x33abd1;const _0x1da760=generateNumericUniqId();_0x476a58[_0x5c8622(0x24d)]=_0x1da760;const _0x1a9996={'id':_0x1da760,'setIdProducto':_0x15aa2c,'setCodProducto':_0x388f5f[_0x5c8622(0x1c7)],'setDescripcion':_0x388f5f[_0x5c8622(0x209)],'setItemDescription':_0x388f5f[_0x5c8622(0x290)],'setBatchExpirationDate':_0x388f5f[_0x5c8622(0x2c6)],'setBatchName':'','setCategoria':_0x388f5f[_0x5c8622(0x201)][0x0]||'','setMarca':_0x388f5f['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x476a58[_0x5c8622(0x29a)]),'setImages':[],'setImg':_0x5c8622(0x1d0),'setInventariable':0x1,'setItemIsBought':_0x388f5f[_0x5c8622(0x2c1)]?0x1:0x0,'setItemIsSold':_0x388f5f['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x388f5f[_0x5c8622(0x26a)],'setPrinters':[],'setTaxId':_0x388f5f['setItemTaxId'],'setTipAfeIgv':_0x388f5f[_0x5c8622(0x1d2)],'setUnidad':_0x476a58[_0x5c8622(0x261)],'setUnidadCodigo':_0x476a58[_0x5c8622(0x261)],'setItemUnitAlias':_0x476a58['setAlias'],'currency_data':[{'currency':_0x35dc0e,'setMtoPrecioCostoUnitario':_0x476a58[_0x5c8622(0x2c4)],'setMtoPrecioUnitario':_0x476a58[_0x5c8622(0x297)],'setPriceLists':[]}],'sucursales':_0x388f5f[_0x5c8622(0x2d1)]['map'](_0x60641a=>({'setIdSucursal':_0x60641a[_0x5c8622(0x1c1)],'setSucursalStock':_0x60641a[_0x5c8622(0x2ac)][_0x5c8622(0x19f)](),'setWarehouseStockMin':_0x60641a[_0x5c8622(0x214)][_0x5c8622(0x19f)]()})),'setItemFree':_0x388f5f[_0x5c8622(0x22c)],'setItemBarCode':_0x388f5f[_0x5c8622(0x29c)],'setItemBrands':_0x388f5f[_0x5c8622(0x218)][_0x5c8622(0x255)](),'setItemCategories':_0x388f5f[_0x5c8622(0x201)]['slice'](),'setItemComponents':_0x388f5f['setItemComponents']['map'](_0x5d4d11=>({..._0x5d4d11})),'setItemImages':_0x388f5f[_0x5c8622(0x1bc)]['slice'](),'setItemVariantName':_0x388f5f[_0x5c8622(0x2a3)],'setItemVariantValues':{..._0x388f5f['setItemVariantValues']}};_0x25beea[_0x5c8622(0x243)](_0x1a9996),(_0x515618[_0x5c8622(0x215)]||_0x1d569d==0x1)&&addToCart(_0x1a9996);});}),console[_0x291ea2(0x244)]('Items\x20finales:',newItems),await finalizeImport(_0x25beea,newItems,![]);}),['dragenter',_0x3b8263(0x194)]['forEach'](_0x51ad61=>dropZone[_0x3b8263(0x21e)](_0x51ad61,_0xbe933c=>{var _0xba7154=_0x3b8263;_0xbe933c[_0xba7154(0x1ac)](),dropZone[_0xba7154(0x2ab)][_0xba7154(0x234)]('dragover');})),[_0x3b8263(0x2a7),_0x3b8263(0x192)][_0x3b8263(0x1c6)](_0x237c66=>dropZone[_0x3b8263(0x21e)](_0x237c66,_0x1dd7ca=>{var _0x43fe6e=_0x3b8263;_0x1dd7ca['preventDefault'](),dropZone['classList']['remove'](_0x43fe6e(0x194));})),dropZone[_0x3b8263(0x21e)]('drop',_0x1d0efe=>{var _0x48be1b=_0x3b8263;const _0x5740c2=_0x1d0efe[_0x48be1b(0x1ab)]['files'][0x0];if(!_0x5740c2)return;fileInput[_0x48be1b(0x23c)]=_0x1d0efe[_0x48be1b(0x1ab)][_0x48be1b(0x23c)],dropZone[_0x48be1b(0x2a4)](_0x48be1b(0x2b4))[_0x48be1b(0x25c)]=_0x5740c2[_0x48be1b(0x2bf)],removeBtn[_0x48be1b(0x28a)]=![],fileInput['dispatchEvent'](new Event(_0x48be1b(0x1ea)));}),removeBtn[_0x3b8263(0x21e)](_0x3b8263(0x231),()=>{var _0x4642a1=_0x3b8263;fileInput[_0x4642a1(0x21a)]='',dropZone['querySelector'](_0x4642a1(0x2b4))[_0x4642a1(0x25c)]=_0x4642a1(0x224),removeBtn[_0x4642a1(0x28a)]=!![],progressBar['style']['display']='none',statusDiv['textContent']='',uploadBtn[_0x4642a1(0x239)]=!![];});const exportBtn=document[_0x3b8263(0x26d)]('btnExportarItems');exportBtn[_0x3b8263(0x21e)](_0x3b8263(0x231),onClickExportarItems);async function onClickExportarItems(){var _0x5efb9f=_0x3b8263;if(!Array[_0x5efb9f(0x2b6)](products)||!products[_0x5efb9f(0x1cb)]){ntfShow(_0x5efb9f(0x1a7));return;}try{const _0x1d6829=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x1d6829['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x4b7ab9=await _0x1d6829[_0x5efb9f(0x219)](),_0x313e73=document[_0x5efb9f(0x26d)](_0x5efb9f(0x213))[_0x5efb9f(0x21a)];let _0x7d2f4f=products;const _0x14efa3=getUserPermissionApiERP(0x2);_0x14efa3==0x1&&(_0x7d2f4f=products[_0x5efb9f(0x1b9)](_0x24374e=>Array[_0x5efb9f(0x2b6)](_0x24374e['sucursales'])&&_0x24374e[_0x5efb9f(0x274)]['some'](_0x70cd82=>String(_0x70cd82['setIdSucursal'])==String(_0x313e73))));const _0x3c35dd=_0x7d2f4f['reduce']((_0x3334e9,_0x5e363b)=>{var _0xfdeac2=_0x5efb9f;const _0x3afb8d=_0x5e363b[_0xfdeac2(0x195)];if(!_0x3334e9[_0x3afb8d])_0x3334e9[_0x3afb8d]=[];return _0x3334e9[_0x3afb8d]['push'](_0x5e363b),_0x3334e9;},{}),_0x3895b0=Object[_0x5efb9f(0x268)](_0x3c35dd)[_0x5efb9f(0x2c9)](_0x16ddf1=>{var _0x38365f=_0x5efb9f;const _0x7a54c=_0x16ddf1[0x0],_0x2004fe=_0x16ddf1[0x1]||{},_0x45f61d=_0x16ddf1[0x2]||{};function _0x26aefb(_0x119713,_0x3b4739,_0x5a4a4a){var _0x121188=_0x1215;if(!_0x119713||!Array[_0x121188(0x2b6)](_0x119713[_0x121188(0x237)]))return'';const _0x36b76b=_0x119713['currency_data'][_0x121188(0x247)](_0x24a13f=>_0x24a13f[_0x121188(0x240)]===_0x3b4739);return _0x36b76b?_0x36b76b[_0x5a4a4a]:'';}return{'id':_0x7a54c[_0x38365f(0x195)],'setItemType':_0x7a54c[_0x38365f(0x220)],'setCodProducto':_0x7a54c[_0x38365f(0x1b8)],'setDescripcion':_0x7a54c[_0x38365f(0x2c8)],'setItemDescription':_0x7a54c[_0x38365f(0x290)],'setItemIsSold':_0x7a54c[_0x38365f(0x1a9)],'setItemIsBought':_0x7a54c['setItemIsBought'],'setCategoria':_0x7a54c[_0x38365f(0x184)],'setMarca':_0x7a54c['setMarca'],'setTaxId':_0x7a54c[_0x38365f(0x250)],'setUnitId':_0x7a54c['id'],'setItemBarCode':_0x7a54c[_0x38365f(0x29c)],'setUnidadCodigo':_0x7a54c['setUnidadCodigo'],'setItemUnitAlias':_0x7a54c['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x26aefb(_0x7a54c,_0x38365f(0x25d),_0x38365f(0x18d)),'PEN_setMtoPrecioCostoUnitario':_0x26aefb(_0x7a54c,'PEN',_0x38365f(0x1a5)),'USD_setMtoPrecioUnitario':_0x26aefb(_0x7a54c,_0x38365f(0x2b7),'setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x26aefb(_0x7a54c,_0x38365f(0x2b7),'setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x7a54c[_0x38365f(0x24f)]?parseFloat(_0x7a54c['setItemCommissionPercentage']):'','setUnitId2':_0x2004fe['id']??'','setItemBarCode2':_0x2004fe[_0x38365f(0x29c)]??'','setUnidadCodigo2':_0x2004fe[_0x38365f(0x1fd)]??'','setItemUnitAlias2':_0x2004fe[_0x38365f(0x1fa)]??'','setUnidadEquivalencia2':_0x2004fe['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x26aefb(_0x2004fe,_0x38365f(0x25d),_0x38365f(0x18d))??'','PEN_setMtoPrecioCostoUnitario2':_0x26aefb(_0x2004fe,_0x38365f(0x25d),_0x38365f(0x1a5))??'','USD_setMtoPrecioUnitario2':_0x26aefb(_0x2004fe,_0x38365f(0x2b7),_0x38365f(0x18d))??'','USD_setMtoPrecioCostoUnitario2':_0x26aefb(_0x2004fe,'USD','setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x2004fe[_0x38365f(0x24f)]?parseFloat(_0x2004fe['setItemCommissionPercentage']):'','setUnitId3':_0x45f61d['id']??'','setItemBarCode3':_0x45f61d['setItemBarCode']??'','setUnidadCodigo3':_0x45f61d[_0x38365f(0x1fd)]??'','setItemUnitAlias3':_0x45f61d[_0x38365f(0x1fa)]??'','setUnidadEquivalencia3':_0x45f61d[_0x38365f(0x1d3)]??'','PEN_setMtoPrecioUnitario3':_0x26aefb(_0x45f61d,_0x38365f(0x25d),_0x38365f(0x18d))??'','PEN_setMtoPrecioCostoUnitario3':_0x26aefb(_0x45f61d,'PEN',_0x38365f(0x1a5))??'','USD_setMtoPrecioUnitario3':_0x26aefb(_0x45f61d,_0x38365f(0x2b7),_0x38365f(0x18d))??'','USD_setMtoPrecioCostoUnitario3':_0x26aefb(_0x45f61d,_0x38365f(0x2b7),_0x38365f(0x1a5))??'','setItemCommissionPercentage3':_0x45f61d[_0x38365f(0x24f)]?parseFloat(_0x45f61d['setItemCommissionPercentage']):'','setInventariable':_0x7a54c[_0x38365f(0x2a0)],'setSucursalStock':_0x14efa3==0x1?_0x7a54c[_0x38365f(0x274)]['find'](_0x56079a=>String(_0x56079a[_0x38365f(0x273)])==String(_0x313e73))[_0x38365f(0x263)]:'','setWarehouseStockMin':_0x14efa3==0x1?_0x7a54c[_0x38365f(0x274)]['find'](_0x1ed1da=>String(_0x1ed1da['setIdSucursal'])==String(_0x313e73))['setWarehouseStockMin']:'','setBatchName':_0x7a54c[_0x38365f(0x18c)],'setBatchExpirationDate':_0x7a54c[_0x38365f(0x256)],..._0x7a54c[_0x38365f(0x21d)]};});try{JSON['stringify'](_0x3895b0);}catch(_0x1a6835){console['error'](_0x5efb9f(0x1e6),_0x1a6835),ntfShow(_0x5efb9f(0x20a));return;}statusDiv[_0x5efb9f(0x25c)]='Generando\x20Excel...',progressBar[_0x5efb9f(0x1b1)][_0x5efb9f(0x2b5)]=_0x5efb9f(0x22a),progressBar[_0x5efb9f(0x21a)]=0x0,itemWorker[_0x5efb9f(0x202)]({'action':'exportItems','products':_0x3895b0,'plantillaBuf':_0x4b7ab9},[_0x4b7ab9]);}catch(_0x9640b1){console['error'](_0x9640b1),ntfShow(_0x5efb9f(0x270)+_0x9640b1[_0x5efb9f(0x232)]);}}itemWorker[_0x3b8263(0x1ad)]=({data:_0x4b326c})=>{var _0x6530cb=_0x3b8263;const {type:_0x5335df,payload:_0x8ca560}=_0x4b326c;_0x5335df===_0x6530cb(0x1e3)&&(progressBar[_0x6530cb(0x1b1)]['display']=_0x6530cb(0x22a),progressBar['value']=_0x8ca560[_0x6530cb(0x2cb)],statusDiv[_0x6530cb(0x25c)]=_0x8ca560['message']);_0x5335df===_0x6530cb(0x1cd)&&(newItemsExcel=_0x8ca560[_0x6530cb(0x23f)],statusDiv[_0x6530cb(0x25c)]='✅\x20'+newItemsExcel[_0x6530cb(0x1cb)]+_0x6530cb(0x1f9),uploadBtn['disabled']=![],progressBar[_0x6530cb(0x21a)]=0x64,console[_0x6530cb(0x244)](newItemsExcel));_0x5335df===_0x6530cb(0x28d)&&(statusDiv['textContent']=_0x6530cb(0x20b)+_0x8ca560,progressBar[_0x6530cb(0x1b1)][_0x6530cb(0x2b5)]=_0x6530cb(0x18b));if(_0x5335df===_0x6530cb(0x1ef)){const {wbout:_0xf6bd51,count:_0x51baa0}=_0x8ca560,_0x148c7c=new Blob([_0xf6bd51],{'type':_0x6530cb(0x2c0)}),_0x1a20ed=URL[_0x6530cb(0x271)](_0x148c7c),_0x23a15f=document[_0x6530cb(0x23b)]('a'),_0xf9950a=new Date()[_0x6530cb(0x1d5)]()['slice'](0x0,0xa);_0x23a15f[_0x6530cb(0x29e)]=_0x6530cb(0x27f)+_0xf9950a+_0x6530cb(0x1b2),_0x23a15f[_0x6530cb(0x19a)]=_0x1a20ed,_0x23a15f[_0x6530cb(0x231)](),URL[_0x6530cb(0x1f5)](_0x1a20ed),statusDiv['textContent']=_0x6530cb(0x2a8)+_0x51baa0+'\x20items.',progressBar['style']['display']=_0x6530cb(0x18b);}},fileInput[_0x3b8263(0x21e)]('change',async _0x312383=>{var _0x5892c5=_0x3b8263;const _0x5c63d0=_0x312383[_0x5892c5(0x205)]['files'][0x0];if(!_0x5c63d0)return;uploadBtn[_0x5892c5(0x239)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x5892c5(0x1b1)][_0x5892c5(0x2b5)]='none',dropZone[_0x5892c5(0x2a4)](_0x5892c5(0x2b4))['textContent']=_0x5c63d0[_0x5892c5(0x2bf)],removeBtn[_0x5892c5(0x28a)]=![];try{const _0x3ac264=await _0x5c63d0['arrayBuffer']();itemWorker[_0x5892c5(0x202)]({'action':_0x5892c5(0x1d1),'buf':_0x3ac264,'maxRows':0x1388});}catch(_0x43bf94){statusDiv[_0x5892c5(0x25c)]=_0x5892c5(0x252);}finally{fileInput[_0x5892c5(0x21a)]='';}}),uploadBtn['addEventListener'](_0x3b8263(0x231),async()=>{var _0x4147d3=_0x3b8263;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x275458=document[_0x4147d3(0x26d)](_0x4147d3(0x213))[_0x4147d3(0x21a)],_0x5846cf=[];newItemsExcel[_0x4147d3(0x1c6)](_0x554831=>{var _0x3eb548=_0x4147d3;const _0x45793e=Boolean(_0x554831['setItemId']),_0x54f48d=_0x45793e?_0x554831['setItemId']:generateNumericUniqId();_0x554831[_0x3eb548(0x2d1)]=[{'setStockInitial':_0x554831[_0x3eb548(0x2ac)],'setStockMinimum':_0x554831[_0x3eb548(0x214)],'setWarehouseCode':_0x275458}],_0x554831[_0x3eb548(0x1be)]['forEach'](_0x160b23=>{var _0x52107a=_0x3eb548;const _0x29ebd4=Boolean(_0x160b23[_0x52107a(0x24d)]),_0x1ba190=_0x29ebd4?_0x160b23['setItemUnitId']:generateNumericUniqId();_0x160b23[_0x52107a(0x24d)]=_0x1ba190;const _0x2c51ad=[];_0x2c51ad[_0x52107a(0x243)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x160b23[_0x52107a(0x2c4)],'setMtoPrecioUnitario':_0x160b23['setPrice'],'setPriceLists':[]});const _0x5e76b4=_0x160b23[_0x52107a(0x238)]!=null&&_0x160b23[_0x52107a(0x2ae)]!=null&&(!isNaN(_0x160b23['setCostUSD'])||!isNaN(_0x160b23[_0x52107a(0x2ae)]));_0x5e76b4&&_0x2c51ad[_0x52107a(0x243)]({'currency':_0x52107a(0x2b7),'setMtoPrecioCostoUnitario':_0x160b23[_0x52107a(0x238)],'setMtoPrecioUnitario':_0x160b23[_0x52107a(0x2ae)],'setPriceLists':[]});const _0x474e98={'id':_0x1ba190,'setIdProducto':_0x54f48d,'setItemBarCode':_0x160b23['setItemBarCode'],'setCodProducto':_0x554831['setItemCode'],'setDescripcion':_0x554831[_0x52107a(0x209)],'setItemDescription':_0x554831[_0x52107a(0x290)],'setBatchExpirationDate':_0x554831['setItemDateExpiry'],'setBatchName':_0x554831[_0x52107a(0x18c)],'setItemIsSold':_0x554831[_0x52107a(0x1a9)],'setItemIsBought':_0x554831['setItemIsBought'],'setCategoria':_0x554831[_0x52107a(0x201)][0x0]||'','setMarca':_0x554831[_0x52107a(0x218)][0x0]||'','setConversionFactor':parseFloat(_0x160b23['setFactor']),'setImages':[],'setImg':_0x52107a(0x1d0),'setInventariable':_0x554831[_0x52107a(0x26f)],'setPorcentajeIgv':_0x554831[_0x52107a(0x26a)],'setPrinters':[],'setTaxId':_0x554831[_0x52107a(0x196)],'setTipAfeIgv':_0x554831[_0x52107a(0x1d2)],'setUnidad':_0x160b23[_0x52107a(0x261)],'setUnidadCodigo':_0x160b23[_0x52107a(0x261)],'setItemUnitAlias':_0x160b23['setAlias'],'setItemCommissionPercentage':_0x160b23[_0x52107a(0x24f)],'currency_data':_0x2c51ad,'sucursales':_0x554831['setItemWarehouses'][_0x52107a(0x2c9)](_0x39103e=>({'setIdSucursal':_0x39103e[_0x52107a(0x1c1)],'setSucursalStock':_0x39103e['setStockInitial'][_0x52107a(0x19f)](),'setWarehouseStockMin':_0x39103e[_0x52107a(0x214)][_0x52107a(0x19f)]()})),'setItemFree':_0x554831[_0x52107a(0x22c)],'setItemBrands':_0x554831[_0x52107a(0x218)]['slice'](),'setItemCategories':_0x554831['setItemCategories'][_0x52107a(0x255)](),'setItemComponents':_0x554831[_0x52107a(0x1fc)][_0x52107a(0x2c9)](_0x19c41a=>({..._0x19c41a})),'setItemImages':_0x554831[_0x52107a(0x1bc)][_0x52107a(0x255)](),'setItemVariantName':_0x554831[_0x52107a(0x2a3)],'setItemVariantValues':{..._0x554831[_0x52107a(0x21d)]}},_0x2cd3ae=products[_0x52107a(0x281)](_0x2084ea=>_0x2084ea['id']==_0x1ba190&&_0x2084ea[_0x52107a(0x195)]==_0x54f48d);_0x2cd3ae>-0x1?Object['assign'](products[_0x2cd3ae],_0x474e98):_0x5846cf[_0x52107a(0x243)](_0x474e98);});}),console[_0x4147d3(0x244)](_0x4147d3(0x1fb),newItemsExcel),await finalizeImport(_0x5846cf,newItemsExcel,!![]);});function initializeFormImages(){var _0x355baf=_0x3b8263;currentImages=Array(MAX_IMAGES)[_0x355baf(0x1a3)](null),imgC['innerHTML']='',baseItem[_0x355baf(0x1bc)]=[];for(var _0x5ec02e=0x0;_0x5ec02e<MAX_IMAGES;_0x5ec02e++){(function(_0x2c5fd4){var _0x1806ca=_0x355baf,_0x583b20=document[_0x1806ca(0x23b)](_0x1806ca(0x2d6));_0x583b20['className']=_0x1806ca(0x1ca),_0x583b20[_0x1806ca(0x1c4)]['idx']=_0x2c5fd4;var _0x5c40fd=document['createElement'](_0x1806ca(0x275));_0x5c40fd[_0x1806ca(0x200)]=_0x1806ca(0x1f1),_0x5c40fd[_0x1806ca(0x2cc)]=_0x1806ca(0x2c7),_0x5c40fd[_0x1806ca(0x1b1)][_0x1806ca(0x2b5)]='none';var _0x2d40c9=document[_0x1806ca(0x23b)](_0x1806ca(0x2c3));_0x2d40c9[_0x1806ca(0x25c)]='+',_0x583b20[_0x1806ca(0x27b)](_0x5c40fd),_0x583b20[_0x1806ca(0x27b)](_0x2d40c9),imgC['appendChild'](_0x583b20),_0x583b20[_0x1806ca(0x21e)](_0x1806ca(0x231),function(){_0x5c40fd['click']();}),_0x5c40fd[_0x1806ca(0x21e)](_0x1806ca(0x1ea),function(_0x2a8e45){var _0x450820=_0x1806ca,_0x3c3f38=_0x2a8e45[_0x450820(0x205)][_0x450820(0x23c)][0x0];if(!_0x3c3f38)return removeImg(_0x2c5fd4);var _0x4231bf=new FileReader();_0x4231bf[_0x450820(0x2d3)]=function(_0xaba49a){var _0x29f93e=_0x450820;_0x583b20['innerHTML']=_0x29f93e(0x26c)+_0xaba49a[_0x29f93e(0x205)]['result']+'\x22>';var _0x5afc0f=document['createElement']('span');_0x5afc0f[_0x29f93e(0x20d)]=_0x29f93e(0x208),_0x5afc0f['textContent']='×',_0x5afc0f[_0x29f93e(0x21e)]('click',function(_0x5609f0){_0x5609f0['stopPropagation'](),removeImg(_0x2c5fd4);}),_0x583b20[_0x29f93e(0x27b)](_0x5afc0f),currentImages[_0x2c5fd4]=_0x3c3f38,baseItem['setItemImages']=currentImages[_0x29f93e(0x1b9)](function(_0x24125c){return _0x24125c;});},_0x4231bf[_0x450820(0x1de)](_0x3c3f38);});}(_0x5ec02e));}}function initializeFormIsSoldIsBought(_0x172f60=0x0){var _0x4ff0fa=_0x3b8263;let _0x2e8d54,_0x56c7aa;if(_0x172f60!=0x0){const _0x5cc1a1=products[_0x4ff0fa(0x247)](_0x14cb74=>_0x14cb74['id']==_0x172f60);_0x2e8d54=_0x5cc1a1[_0x4ff0fa(0x2c1)]==0x1||_0x5cc1a1['setItemIsBought']==!![]?!![]:![],_0x56c7aa=_0x5cc1a1['setItemIsSold']==0x1||_0x5cc1a1[_0x4ff0fa(0x1a9)]==!![]?!![]:![];}else _0x2e8d54=!![],_0x56c7aa=!![];document['getElementById'](_0x4ff0fa(0x284))[_0x4ff0fa(0x215)]=_0x2e8d54,document['getElementById']('newItem_chk_sell')['checked']=_0x56c7aa,baseItem[_0x4ff0fa(0x2c1)]=_0x2e8d54,baseItem[_0x4ff0fa(0x1a9)]=_0x56c7aa;}function initializeFormInputsBasic(_0x519214=0x0){var _0x32ddc6=_0x3b8263;let _0x43a2e1,_0x26ba13,_0xd3fa8,_0x1b4260,_0x1045a7,_0x106ad1;if(_0x519214!=0x0){const _0x2c6dbc=products[_0x32ddc6(0x247)](_0x59d1ae=>_0x59d1ae['id']==_0x519214);_0x43a2e1=_0x2c6dbc[_0x32ddc6(0x220)]??'1',_0x26ba13=_0x2c6dbc[_0x32ddc6(0x1b8)],_0xd3fa8=_0x2c6dbc[_0x32ddc6(0x2c8)],_0x1b4260=_0x2c6dbc[_0x32ddc6(0x290)],_0x1045a7=_0x2c6dbc[_0x32ddc6(0x256)]??'',_0x106ad1=_0x2c6dbc[_0x32ddc6(0x29c)];}else _0x43a2e1='1',_0x26ba13=getNextCode(products),_0xd3fa8='',_0x1b4260='',_0x1045a7='',_0x106ad1='';document['getElementById'](_0x32ddc6(0x1e5))[_0x32ddc6(0x21a)]=_0x43a2e1,document[_0x32ddc6(0x26d)]('inputItemCode')[_0x32ddc6(0x21a)]=_0x26ba13,document['getElementById']('inputItemName')['value']=_0xd3fa8,document[_0x32ddc6(0x26d)](_0x32ddc6(0x2d2))[_0x32ddc6(0x21a)]=_0x1b4260,document[_0x32ddc6(0x26d)]('inputItemDateExpiry')[_0x32ddc6(0x21a)]=_0x1045a7,document[_0x32ddc6(0x26d)](_0x32ddc6(0x199))[_0x32ddc6(0x21a)]=_0x106ad1,baseItem['setItemType']=_0x43a2e1,baseItem[_0x32ddc6(0x1c7)]=_0x26ba13,baseItem[_0x32ddc6(0x209)]=_0xd3fa8,baseItem[_0x32ddc6(0x290)]=_0x1b4260,baseItem[_0x32ddc6(0x2c6)]=_0x1045a7,baseItem[_0x32ddc6(0x29c)]=_0x106ad1,document[_0x32ddc6(0x26d)](_0x32ddc6(0x20c))[_0x32ddc6(0x215)]=![];}function initializeFormTax(_0x43d725=0x0){var _0x201aa6=_0x3b8263;let _0x5b0ee4;if(_0x43d725!=0x0){const _0x1d1ed3=products['find'](_0x40dfce=>_0x40dfce['id']==_0x43d725);_0x5b0ee4=_0x1d1ed3[_0x201aa6(0x250)];}else _0x5b0ee4=myCompany[_0x201aa6(0x1e1)];const _0xe34c4e=document[_0x201aa6(0x26d)](_0x201aa6(0x1ed));_0xe34c4e[_0x201aa6(0x21a)]=_0x5b0ee4,baseItem[_0x201aa6(0x196)]=_0x5b0ee4;const _0x157a67=company[0x0][_0x201aa6(0x1c9)]['find'](_0x42e7f3=>_0x42e7f3[_0x201aa6(0x250)]==_0x5b0ee4)?.['setImpuestoCode']||0x0,_0x3a3721=company[0x0][_0x201aa6(0x1c9)][_0x201aa6(0x247)](_0x109bb6=>_0x109bb6[_0x201aa6(0x250)]==_0x5b0ee4)?.['setImpuestoValue']||0x0;baseItem[_0x201aa6(0x1d2)]=_0x157a67,baseItem[_0x201aa6(0x26a)]=_0x3a3721;}function initializeFormCategoriesBrands(_0xa6bed4=0x0){var _0x16f6c2=_0x3b8263;baseItem[_0x16f6c2(0x201)]=[],baseItem['setItemBrands']=[],document[_0x16f6c2(0x2a4)](_0x16f6c2(0x24a))[_0x16f6c2(0x1aa)]='',document[_0x16f6c2(0x2a4)]('#newItem_categories_select\x20.options_list')['innerHTML']='',document[_0x16f6c2(0x2a4)]('#newItem_brands_select\x20.selected_tags')[_0x16f6c2(0x1aa)]='',document['querySelector'](_0x16f6c2(0x2bc))['innerHTML']='';const _0x10f2df=myCompany[_0x16f6c2(0x201)][_0x16f6c2(0x2c9)](_0x4259bc=>({'setCode':_0x4259bc['setItemCategoryName'],'setName':_0x4259bc[_0x16f6c2(0x1b7)]})),_0x5c7f45=myCompany[_0x16f6c2(0x218)][_0x16f6c2(0x2c9)](_0x1715cb=>({'setCode':_0x1715cb[_0x16f6c2(0x19b)],'setName':_0x1715cb[_0x16f6c2(0x19b)]}));initMulti(_0x16f6c2(0x293),_0x10f2df),initMulti(_0x16f6c2(0x1a8),_0x5c7f45),document[_0x16f6c2(0x26d)](_0x16f6c2(0x293))[_0x16f6c2(0x21e)]('selectionChange',function(_0xadb6cf){var _0x2fa14e=_0x16f6c2;baseItem[_0x2fa14e(0x201)]=_0xadb6cf[_0x2fa14e(0x1f6)][_0x2fa14e(0x2c9)](_0x3c362b=>_0x3c362b[_0x2fa14e(0x1ae)]);}),document[_0x16f6c2(0x26d)](_0x16f6c2(0x1a8))[_0x16f6c2(0x21e)](_0x16f6c2(0x1a2),function(_0x28c211){var _0x310b96=_0x16f6c2;baseItem[_0x310b96(0x218)]=_0x28c211[_0x310b96(0x1f6)]['map'](_0x314ee8=>_0x314ee8[_0x310b96(0x1ae)]);});if(_0xa6bed4!=0x0){const _0x5a1f14=products['find'](_0x2b166c=>_0x2b166c['id']==_0xa6bed4);if(_0x5a1f14['setCategoria']){const _0x3c7e35=document['getElementById'](_0x16f6c2(0x293)),_0x14df58=Array[_0x16f6c2(0x2b8)](_0x3c7e35[_0x16f6c2(0x210)](_0x16f6c2(0x294)))[_0x16f6c2(0x247)](_0x197c1d=>_0x197c1d[_0x16f6c2(0x1c4)][_0x16f6c2(0x1d7)]==_0x5a1f14[_0x16f6c2(0x184)]);_0x14df58&&_0x14df58[_0x16f6c2(0x231)]();}if(_0x5a1f14['setMarca']){const _0x7602a0=document[_0x16f6c2(0x26d)]('newItem_brands_select'),_0x47484e=Array[_0x16f6c2(0x2b8)](_0x7602a0[_0x16f6c2(0x210)]('.options_list\x20div'))[_0x16f6c2(0x247)](_0x179137=>_0x179137[_0x16f6c2(0x1c4)][_0x16f6c2(0x1d7)]==_0x5a1f14['setMarca']);_0x47484e&&_0x47484e[_0x16f6c2(0x231)]();}}}function initializeFormUnits(){var _0xefe7a4=_0x3b8263;unitCount=0x0,document[_0xefe7a4(0x26d)]('newItem_units_container')[_0xefe7a4(0x1aa)]='',baseItem['setItemUnits']=[];var _0x27bf9c=uniqueValuesArray(_0xefe7a4(0x261),_0xefe7a4(0x1fe),myCompany[_0xefe7a4(0x2ca)]);addUnit('',_0x27bf9c[0x3a]&&_0x27bf9c[0x3a][_0xefe7a4(0x1ae)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x4bfdab=_0x3b8263;prodC[_0x4bfdab(0x1aa)]='',baseItem[_0x4bfdab(0x1fc)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x46e228=_0x3b8263;branchesC[_0x46e228(0x1aa)]='',baseItem[_0x46e228(0x2d1)]=[];const _0x11bf2c=getAllWarehouses();_0x11bf2c[_0x46e228(0x1c6)](function(_0xb63923){var _0x38277a=_0x46e228,_0x46d176=document[_0x38277a(0x23b)]('div');_0x46d176[_0x38277a(0x1aa)]=_0x38277a(0x204)+_0x38277a(0x28b)+_0x38277a(0x186)+_0xb63923[_0x38277a(0x213)]+_0x38277a(0x236)+_0xb63923[_0x38277a(0x1e4)]+'</label>'+_0x38277a(0x1cc)+'<div\x20class=\x22newItem_col\x22>'+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0xb63923[_0x38277a(0x213)]+'\x22>'+_0x38277a(0x1cc)+_0x38277a(0x28b)+_0x38277a(0x1cf)+_0xb63923[_0x38277a(0x213)]+'\x22>'+'</div>'+_0x38277a(0x1cc),branchesC['appendChild'](_0x46d176),_0x46d176['querySelectorAll'](_0x38277a(0x275))[_0x38277a(0x1c6)](function(_0x5795e4){var _0x1dec48=_0x38277a;_0x5795e4[_0x1dec48(0x21e)](_0x1dec48(0x275),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x47e077=_0x3b8263;baseItem[_0x47e077(0x2a3)]='',baseItem['setItemVariantValues']={},vgC[_0x47e077(0x1aa)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x2183e4,_0x146bd,_0x1df612=![]){var _0x139c35=_0x3b8263;const _0x1c8eff=0xc8,_0x3628c8={'apiPOSsendOffline':'1','setTipoOperacion':_0x139c35(0x287),'setToken':company[0x0][_0x139c35(0x285)],'setWebhook':company[0x0][_0x139c35(0x246)]};for(let _0x1b937d=0x0;_0x1b937d<_0x146bd[_0x139c35(0x1cb)];_0x1b937d+=_0x1c8eff){const _0x285b73=_0x146bd[_0x139c35(0x255)](_0x1b937d,_0x1b937d+_0x1c8eff);await storeOfflineProduct({..._0x3628c8,'newItems':_0x285b73});}products['push'](..._0x2183e4),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x1df612?(fileInput[_0x139c35(0x21a)]='',uploadBtn[_0x139c35(0x239)]=!![],statusDiv[_0x139c35(0x25c)]='',progressBar['style'][_0x139c35(0x2b5)]=_0x139c35(0x18b),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}