/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.9
*/

const _0x3f9cc9=_0x2964;(function(_0x4f91f5,_0x52ceaa){const _0x4770a7=_0x2964,_0x91b8ed=_0x4f91f5();while(!![]){try{const _0x4e6941=parseInt(_0x4770a7(0x122))/0x1+-parseInt(_0x4770a7(0x1cb))/0x2+-parseInt(_0x4770a7(0x1cc))/0x3*(parseInt(_0x4770a7(0xf3))/0x4)+-parseInt(_0x4770a7(0x17e))/0x5*(parseInt(_0x4770a7(0x173))/0x6)+-parseInt(_0x4770a7(0x1ac))/0x7+parseInt(_0x4770a7(0x128))/0x8*(-parseInt(_0x4770a7(0x1a6))/0x9)+parseInt(_0x4770a7(0x155))/0xa;if(_0x4e6941===_0x52ceaa)break;else _0x91b8ed['push'](_0x91b8ed['shift']());}catch(_0x30e729){_0x91b8ed['push'](_0x91b8ed['shift']());}}}(_0x29ea,0x2924e));function _0x2964(_0x2d58e0,_0x18458d){const _0x149a80=_0x29ea();return _0x2964=function(_0x27240f,_0x4be323){_0x27240f=_0x27240f-0xd7;let _0x1f4d2a=_0x149a80[_0x27240f];return _0x1f4d2a;},_0x2964(_0x2d58e0,_0x18458d);}const _0x4f872b=(function(){let _0x3b61a7=!![];return function(_0x51f15f,_0x516143){const _0x107341=_0x3b61a7?function(){const _0x31333e=_0x2964;if(_0x516143){const _0x2fdd7b=_0x516143[_0x31333e(0x19b)](_0x51f15f,arguments);return _0x516143=null,_0x2fdd7b;}}:function(){};return _0x3b61a7=![],_0x107341;};}()),_0x4f09d6=_0x4f872b(this,function(){const _0x337f3b=_0x2964;return _0x4f09d6[_0x337f3b(0x188)]()[_0x337f3b(0x1d2)](_0x337f3b(0x183))['toString']()['constructor'](_0x4f09d6)[_0x337f3b(0x1d2)](_0x337f3b(0x183));});_0x4f09d6();const _0x4be323=(function(){let _0x43f688=!![];return function(_0x40e6a5,_0x4b53f8){const _0x25744f=_0x43f688?function(){const _0x4f3f91=_0x2964;if(_0x4b53f8){const _0x240667=_0x4b53f8[_0x4f3f91(0x19b)](_0x40e6a5,arguments);return _0x4b53f8=null,_0x240667;}}:function(){};return _0x43f688=![],_0x25744f;};}()),_0x27240f=_0x4be323(this,function(){const _0x17dd8b=_0x2964;let _0x1bd693;try{const _0x5d5716=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1bd693=_0x5d5716();}catch(_0x5f4bb1){_0x1bd693=window;}const _0x42419b=_0x1bd693[_0x17dd8b(0x16c)]=_0x1bd693[_0x17dd8b(0x16c)]||{},_0x3089ad=[_0x17dd8b(0x111),_0x17dd8b(0x123),'info','error',_0x17dd8b(0x175),_0x17dd8b(0x158),_0x17dd8b(0x12b)];for(let _0x5e4bf4=0x0;_0x5e4bf4<_0x3089ad[_0x17dd8b(0x16d)];_0x5e4bf4++){const _0x451425=_0x4be323[_0x17dd8b(0x130)]['prototype'][_0x17dd8b(0x197)](_0x4be323),_0x236295=_0x3089ad[_0x5e4bf4],_0x5e1b97=_0x42419b[_0x236295]||_0x451425;_0x451425[_0x17dd8b(0x14c)]=_0x4be323[_0x17dd8b(0x197)](_0x4be323),_0x451425[_0x17dd8b(0x188)]=_0x5e1b97[_0x17dd8b(0x188)][_0x17dd8b(0x197)](_0x5e1b97),_0x42419b[_0x236295]=_0x451425;}});_0x27240f();let arrayIncomes;const fil_init_dates=document[_0x3f9cc9(0x136)]('date-range-label-icon'),label=document[_0x3f9cc9(0x136)](_0x3f9cc9(0x105)),options=document[_0x3f9cc9(0x136)](_0x3f9cc9(0xde)),divChartIncome=document[_0x3f9cc9(0x136)](_0x3f9cc9(0xf9)),divChartItem=document[_0x3f9cc9(0x136)](_0x3f9cc9(0x1d9)),divChartCustomer=document['getElementById'](_0x3f9cc9(0x18d));let currentPage=0x1;const per_page=0x14;function _0x29ea(){const _0x2da860=['bottom','target','application/json','setCustomers','date-range-label','\x20-\x20','setOption','getMinutes','success','round','setTipoComprobante','500px','setOperationTotal','status','getMonth','factura','log','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','classList','valueDesc','top','BranchChangeComplete','modalOverlayViewDetails','btn-outline-primary','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','setBranchId','center','closeModalViewDetails','customerName','Export\x20WK\x20Error:','onclick',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','250796bxjKfs','warn','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','contains','setOperationPaymentStatusColor','tagName','16HRFweH','value','style','trace','#reporte-income-products','PASSWORD123','Error\x20','name','constructor','click','document','WarehouseChangeComplete','mousedown','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','getElementById','./js/apierp_export_wk.min.js','#00bb2d','filter-end','Total','createObjectURL','.table-wrapper','setWarehouseId','postMessage','setOperationItems','Ventas\x20por\x20Producto','\x0a</td>\x0a<td></td>\x0a','textContent','cantidad','setCustomerId','mousemove','none','dynamicContent','split','mouseleave','Pagado','no-reply@miempresa.com','__proto__','setOperationId','setOperationCurrency','pageX','isArray','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','setOperationNumber','4203080ZJSfIe','Ventas','.modal-content','table','getInstance','setTipoOperaciones','querySelector','toFixed','setOperationDetailUnitPresentationId','flatMap','line','change','100%','Error\x20al\x20solicitar\x20reporte','onload','preventDefault','&tipo=','height','axis','\x0a</td>\x0a','getDay','push','PLE_Ventas','console','length','setOperationCustomerName','values','\x20no\x20existe','dataset_','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','102RREDBx','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','exception','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setDescripcion','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','concat','shadow','width','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','15300hIhRHI','find','pdf_url','boleta','both','(((.+)+)+)+$','data-value','substring','category','products','toString','exportReport','#080060','\x0a<td\x20class=\x22td-bg-none\x22>','scrollLeft','divChartCustomer','setFloorId','application/json;\x20charset=utf-8',';\x22>\x0a','exportDone','Evolución\x20de\x20Ventas','incomes','setSeries','json','No\x20se\x20encontró\x20información\x20de\x20ingresos','bind','stringify','setSerie','setOperationDetailQuantity','apply','smtp.miempresa.com','innerHTML','51954738620','\x2023:59:59','pdf','getFullYear','#pagination-income','https://fasyb.com/api/venta/view/?id=','YOUR_EMAIL_AUTH_TOKEN','profit','1241019lqoLwn','\x20tbody','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','Reporte\x20','data','setTipoOperacionName','350847zzqRTJ','POST','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','filterModal','\x22\x20no\x20existe.','hide','\x20al\x20','onmessage','sales','#pagination-products','Error\x20al\x20cargar\x20el\x20detalle.','filtrar','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','assign','createElement','</td>\x0a<td>','btnExport','getDate','...','setOperationDateTime','padStart',';\x20color:\x20','valor_unitario','item','setDate','error','detalle','Costo','total','50%',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','17172XrpdxI','111wkAPIe','offsetLeft','detalleTablaBody','setOperationSeries','forEach','{b}:\x20{d}%','search','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','setOperationPaymentStatusName','YOUR_WA_CRED_ID','reduce','&laquo;\x20Anterior','Contenedor\x20','divChartItem','getAttribute','productName','email','display','Modo\x20de\x20exportación\x20desconocido:','setOperationType','dispatchEvent','month','Error\x20WA:','./img/apiPOS.png','Error\x20al\x20cargar\x20el\x20detalle:','ceil','apply-filter','Invalid\x20range\x20type','setOperationPaymentStatus','btn-outline','recibo','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','customers','className','pedido','EnvironmentChangeComplete','setBranchDefault','#pagination-customers','setAuthToken','Error\x20al\x20aplicar\x20filtro','href','dataset_raw','https://fasyb.com/api/pdf/proxy/?file=','Ventas\x20por\x20Cliente','setOperationTypeSpan','middle','fechaISO','whatsapp','date-range-options','currency','Siguiente\x20&raquo;','slice','appendChild','setApiEndPoint','entries','addEventListener','block','</td>\x0a</tr>','\x22>\x0a','sort','setCustomerName','add','setTipoOperacionCodigo','map','#FF5900','download','#reporte-income-customers','catch','setOperationDetailTotal','12548OcdPCC','remove','bar','cost','setOperationDetailUnitCost','ID_SERIE','divChartIncome','day','statusText','Error\x20al\x20exportar.','init','year','onerror','then'];_0x29ea=function(){return _0x2da860;};return _0x29ea();}let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x38f1fa){const _0x23f8f6=_0x3f9cc9,{containerId:_0x5269c4,rawData:_0x35cf80,groupField:_0x4be5a7,groupValues:_0x315bf7,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x4b7ccd,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x23f8f6(0x114),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x20d831,height:_0x1cabfe}=_0x38f1fa,_0x29b506=document[_0x23f8f6(0x136)](_0x5269c4);if(!_0x29b506){console[_0x23f8f6(0x1c5)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x5269c4+_0x23f8f6(0x1b0));return;}if(_0x20d831)_0x29b506[_0x23f8f6(0x12a)][_0x23f8f6(0x17c)]=_0x20d831;if(_0x1cabfe)_0x29b506[_0x23f8f6(0x12a)][_0x23f8f6(0x166)]=_0x1cabfe;const _0x311833=echarts[_0x23f8f6(0xfd)](_0x29b506),_0x485359=[],_0x1eb291=[];_0x315bf7['forEach']((_0x1c21cf,_0x358ace)=>{const _0x481f5c=_0x23f8f6,_0x41a62e=_0x481f5c(0x171)+_0x1c21cf,_0x39844c=(_0x38f1fa['additionalFilters']||[])[_0x481f5c(0x17a)]([{'dimension':_0x4be5a7,'=':_0x1c21cf}]);_0x485359[_0x481f5c(0x16a)]({'id':_0x41a62e,'fromDatasetId':_0x481f5c(0xd7),'transform':{'type':'filter','config':{'and':_0x39844c}}}),_0x1eb291['push']({'type':chartType,'datasetId':_0x41a62e,'name':_0x1c21cf,...chartType===_0x481f5c(0xf5)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x358ace]||undefined},...chartType===_0x481f5c(0x15f)&&{'showSymbol':![]},'encode':_0x4b7ccd});});const _0x335d2d={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x35cf80},..._0x485359],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x23f8f6(0x167)},'xAxis':Object[_0x23f8f6(0x1b9)]({'type':_0x23f8f6(0x186),'nameLocation':_0x23f8f6(0xdb)},xAxisConfig),'yAxis':Object['assign']({'name':_0x4b7ccd['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x1eb291};_0x311833[_0x23f8f6(0x107)](_0x335d2d);}function generatePieChart({containerId:_0x5d0022,data:_0x4db4df,nameField:_0x5259ca,valueField:_0x4aa09d,title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],width:_0x545832,height:_0x85d6d6}){const _0x31950d=_0x3f9cc9,_0x5897df=document[_0x31950d(0x136)](_0x5d0022);if(!_0x5897df)return console['error'](_0x31950d(0x1d8)+_0x5d0022+_0x31950d(0x170));if(_0x545832)_0x5897df[_0x31950d(0x12a)][_0x31950d(0x17c)]=_0x545832;if(_0x85d6d6)_0x5897df[_0x31950d(0x12a)][_0x31950d(0x166)]=_0x85d6d6;const _0x5bf017=echarts[_0x31950d(0xfd)](_0x5897df),_0x5baba2=_0x4db4df[_0x31950d(0x1d6)]((_0x1e89b6,_0x54effd)=>{const _0x109970=_0x31950d,_0x43e7a9=_0x54effd[_0x5259ca],_0xc63403=_0x54effd[_0x4aa09d];let _0x518625=_0x1e89b6[_0x109970(0x17f)](_0x2ff268=>_0x2ff268[_0x109970(0x12f)]===_0x43e7a9);return!_0x518625&&(_0x518625={'name':_0x43e7a9,'value':0x0},_0x1e89b6[_0x109970(0x16a)](_0x518625)),_0x518625[_0x109970(0x129)]+=_0xc63403,_0x1e89b6;},[]);let _0x1eb895;showTitle?(_0x1eb895={'text':title,'left':_0x31950d(0x11b)},titlePosition===_0x31950d(0x101)?_0x1eb895[_0x31950d(0x101)]=0x0:_0x1eb895[_0x31950d(0x115)]=0x0):_0x1eb895={'show':![]};const _0x33c113={'title':_0x1eb895,'tooltip':{'trigger':_0x31950d(0x1c3)},'series':[{'type':'pie','radius':_0x31950d(0x1c9),'data':_0x5baba2,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x31950d(0x1d1)}}]};_0x5bf017[_0x31950d(0x107)](_0x33c113);}function generateHorizontalBarChart({containerId:_0x467b7f,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x3f9cc9(0x115),showTitle:showTitle=!![],colors:colors=[],width:_0x30f63e,height:_0x19fec5,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x574374=_0x3f9cc9,_0x2bfeae=document[_0x574374(0x136)](_0x467b7f);if(!_0x2bfeae)return console[_0x574374(0x1c5)]('Contenedor\x20'+_0x467b7f+_0x574374(0x170));if(_0x30f63e)_0x2bfeae[_0x574374(0x12a)][_0x574374(0x17c)]=_0x30f63e;if(_0x19fec5)_0x2bfeae[_0x574374(0x12a)][_0x574374(0x166)]=_0x19fec5;const _0x49aa8f=echarts[_0x574374(0xfd)](_0x2bfeae),_0x3e7c03=showTitle?{'text':title,'left':_0x574374(0x11b),...titlePosition===_0x574374(0x101)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x574374(0x101)?_0x3e7c03[_0x574374(0x101)]=0x0:_0x3e7c03[_0x574374(0x115)]=0x0;const _0xd407b3={'title':_0x3e7c03,'tooltip':{'trigger':_0x574374(0x167),'axisPointer':{'type':_0x574374(0x17b)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object['assign']({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x574374(0x1b9)]({'type':'category','data':categories},yAxisConfig),'series':series['map']((_0x2261d0,_0x51a076)=>({'type':_0x574374(0xf5),'name':_0x2261d0[_0x574374(0x12f)],'data':_0x2261d0['data'],'itemStyle':{'color':colors[_0x51a076]||undefined}}))};_0x49aa8f['setOption'](_0xd407b3);}function showModalViewDetails(){const _0x11fd9c=_0x3f9cc9,_0x2c155c=document[_0x11fd9c(0x136)]('detalleModal'),_0x11e109=document[_0x11fd9c(0x136)](_0x11fd9c(0x117));_0x2c155c[_0x11fd9c(0x113)][_0x11fd9c(0xeb)]('active'),_0x11e109['style'][_0x11fd9c(0x1dd)]='block';}function hideModalViewDetails(){const _0x45b700=_0x3f9cc9,_0x22be60=document[_0x45b700(0x136)]('detalleModal'),_0x2ac0fe=document[_0x45b700(0x136)](_0x45b700(0x117));_0x22be60[_0x45b700(0x113)][_0x45b700(0xf4)]('active'),_0x2ac0fe['style'][_0x45b700(0x1dd)]=_0x45b700(0x146);const _0x2ead44=document[_0x45b700(0x136)]('dynamicContent');_0x2ead44[_0x45b700(0x19d)]=_0x45b700(0x1d3);}document[_0x3f9cc9(0x136)](_0x3f9cc9(0x11c))[_0x3f9cc9(0xe5)](_0x3f9cc9(0x131),hideModalViewDetails),document[_0x3f9cc9(0x136)](_0x3f9cc9(0x117))[_0x3f9cc9(0xe5)](_0x3f9cc9(0x131),hideModalViewDetails);function verDetalle(_0x2aa633,_0x1d3a36){const _0x46bdf3=_0x3f9cc9;fetch(_0x46bdf3(0x1a3)+_0x2aa633+_0x46bdf3(0x165)+_0x1d3a36)[_0x46bdf3(0x100)](_0x1af75d=>{const _0x37dcd4=_0x46bdf3;if(!_0x1af75d['ok'])throw new Error(_0x37dcd4(0x12e)+_0x1af75d[_0x37dcd4(0x10e)]+':\x20'+_0x1af75d[_0x37dcd4(0xfb)]);return _0x1af75d[_0x37dcd4(0x195)]();})['then'](_0x37faee=>{const _0x5b78d2=_0x46bdf3;if(_0x37faee[_0x5b78d2(0x109)]){const _0x53624c=document[_0x5b78d2(0x136)](_0x5b78d2(0x147));if(_0x1d3a36===_0x5b78d2(0x1c6)){let _0x3e1545='';_0x37faee[_0x5b78d2(0x1aa)][_0x5b78d2(0x1d0)](_0x3bc77d=>{const _0x5f0bc9=_0x5b78d2;_0x3e1545+='\x0a<tr>\x0a<td>'+_0x3bc77d['producto']+_0x5f0bc9(0x1bb)+_0x3bc77d[_0x5f0bc9(0x143)]+_0x5f0bc9(0x1bb)+_0x3bc77d[_0x5f0bc9(0x1c2)]+_0x5f0bc9(0x1bb)+_0x3bc77d[_0x5f0bc9(0x1c8)]+_0x5f0bc9(0xe7);}),document[_0x5b78d2(0x136)](_0x5b78d2(0x1ce))[_0x5b78d2(0x19d)]=_0x3e1545;}else{if(_0x1d3a36===_0x5b78d2(0x1a0)){const _0x4dc168=_0x5b78d2(0xd8)+encodeURIComponent(_0x37faee[_0x5b78d2(0x180)]),_0x967c64=document['querySelector'](_0x5b78d2(0x157));_0x53624c['innerHTML']='\x0a<iframe\x20src=\x22'+_0x4dc168+_0x5b78d2(0x152),document[_0x5b78d2(0x136)](_0x5b78d2(0x11c))[_0x5b78d2(0xe5)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x37faee[_0x5b78d2(0x1c5)]||_0x5b78d2(0x121));})['catch'](_0x54c7b3=>{const _0x26155c=_0x46bdf3;console[_0x26155c(0x1c5)](_0x26155c(0x1e4),_0x54c7b3),alert(_0x26155c(0x1b6));});}label[_0x3f9cc9(0xe5)](_0x3f9cc9(0x131),()=>{const _0x206aef=_0x3f9cc9;options[_0x206aef(0x12a)]['display']=options['style'][_0x206aef(0x1dd)]===_0x206aef(0x146)?_0x206aef(0xe6):_0x206aef(0x146);}),options[_0x3f9cc9(0xe5)](_0x3f9cc9(0x131),_0x39d157=>{const _0x46f0df=_0x3f9cc9;if(_0x39d157['target']&&_0x39d157[_0x46f0df(0x102)][_0x46f0df(0x127)]==='LI'){const _0xe21b5a=_0x39d157[_0x46f0df(0x102)][_0x46f0df(0x1da)](_0x46f0df(0x184));updateDateRange(_0xe21b5a),options['style'][_0x46f0df(0x1dd)]='none';}}),document[_0x3f9cc9(0xe5)]('click',_0x36075a=>{const _0x446527=_0x3f9cc9;!label[_0x446527(0x125)](_0x36075a[_0x446527(0x102)])&&!options[_0x446527(0x125)](_0x36075a[_0x446527(0x102)])&&(options[_0x446527(0x12a)]['display']=_0x446527(0x146));});function formatDateToYmdHis(_0x475996){const _0x21d29e=_0x3f9cc9,_0x5b2b68=_0x475996[_0x21d29e(0x1a1)](),_0x2a3c11=String(_0x475996[_0x21d29e(0x10f)]()+0x1)[_0x21d29e(0x1c0)](0x2,'0'),_0x1f6b00=String(_0x475996[_0x21d29e(0x1bd)]())[_0x21d29e(0x1c0)](0x2,'0'),_0x1ebd6d=String(_0x475996['getHours']())[_0x21d29e(0x1c0)](0x2,'0'),_0x55a166=String(_0x475996[_0x21d29e(0x108)]())[_0x21d29e(0x1c0)](0x2,'0'),_0x304e09=String(_0x475996['getSeconds']())['padStart'](0x2,'0');return _0x5b2b68+'-'+_0x2a3c11+'-'+_0x1f6b00+'\x20'+_0x1ebd6d+':'+_0x55a166+':'+_0x304e09;}function getDateRange(_0x5cc0d5){const _0x229475=_0x3f9cc9,_0x306af9=new Date();let _0x510b09,_0x2ae2e4;switch(_0x5cc0d5){case'day':_0x510b09=new Date(_0x306af9[_0x229475(0x1a1)](),_0x306af9[_0x229475(0x10f)](),_0x306af9[_0x229475(0x1bd)](),0x0,0x0,0x0),_0x2ae2e4=new Date(_0x306af9[_0x229475(0x1a1)](),_0x306af9['getMonth'](),_0x306af9[_0x229475(0x1bd)](),0x17,0x3b,0x3b),label['innerHTML']=_0x229475(0x174);break;case'week':const _0x386e5b=_0x306af9[_0x229475(0x169)](),_0x97077c=new Date(_0x306af9);_0x97077c[_0x229475(0x1c4)](_0x306af9[_0x229475(0x1bd)]()-_0x386e5b+(_0x386e5b===0x0?-0x6:0x1));const _0x3cedbf=new Date(_0x97077c);_0x3cedbf['setDate'](_0x97077c[_0x229475(0x1bd)]()+0x6),_0x510b09=new Date(_0x97077c['getFullYear'](),_0x97077c[_0x229475(0x10f)](),_0x97077c[_0x229475(0x1bd)](),0x0,0x0,0x0),_0x2ae2e4=new Date(_0x3cedbf['getFullYear'](),_0x3cedbf[_0x229475(0x10f)](),_0x3cedbf[_0x229475(0x1bd)](),0x17,0x3b,0x3b),label[_0x229475(0x19d)]=_0x229475(0x176);break;case _0x229475(0x1e1):_0x510b09=new Date(_0x306af9[_0x229475(0x1a1)](),_0x306af9[_0x229475(0x10f)](),0x1,0x0,0x0,0x0),_0x2ae2e4=new Date(_0x306af9[_0x229475(0x1a1)](),_0x306af9[_0x229475(0x10f)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x229475(0x19d)]=_0x229475(0x178);break;case _0x229475(0xfe):_0x510b09=new Date(_0x306af9[_0x229475(0x1a1)](),0x0,0x1,0x0,0x0,0x0),_0x2ae2e4=new Date(_0x306af9[_0x229475(0x1a1)](),0xb,0x1f,0x17,0x3b,0x3b),label['innerHTML']='del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;default:label[_0x229475(0x19d)]='';throw new Error(_0x229475(0x1e7));}return{'startDateFormatted':formatDateToYmdHis(_0x510b09),'endDateFormatted':formatDateToYmdHis(_0x2ae2e4)};}function updateDateRange(_0x2ade51=_0x3f9cc9(0xfa)){const _0x1bd958=_0x3f9cc9;if(_0x2ade51==_0x1bd958(0x1b7)){}else{const {startDateFormatted:_0x57dc1b,endDateFormatted:_0x484348}=getDateRange(_0x2ade51);fil_date_start=_0x57dc1b,fil_date_end=_0x484348,consultIncomeReport();}}const tableWrappers=document['querySelectorAll'](_0x3f9cc9(0x13c));tableWrappers[_0x3f9cc9(0x1d0)](_0x359bdb=>{const _0x507345=_0x3f9cc9;let _0x29a941=![],_0x38b876,_0x59d129;_0x359bdb[_0x507345(0xe5)](_0x507345(0x134),_0x1f3a22=>{const _0x41b517=_0x507345;_0x29a941=!![],_0x38b876=_0x1f3a22[_0x41b517(0x14f)]-_0x359bdb[_0x41b517(0x1cd)],_0x59d129=_0x359bdb[_0x41b517(0x18c)];}),_0x359bdb['addEventListener'](_0x507345(0x149),()=>{_0x29a941=![];}),_0x359bdb[_0x507345(0xe5)]('mouseup',()=>{_0x29a941=![];}),_0x359bdb[_0x507345(0xe5)](_0x507345(0x145),_0x45f09c=>{const _0x197459=_0x507345;if(!_0x29a941)return;_0x45f09c[_0x197459(0x164)]();const _0x5d5ff9=_0x45f09c[_0x197459(0x14f)]-_0x359bdb[_0x197459(0x1cd)],_0x1c0fd4=(_0x5d5ff9-_0x38b876)*0x2;_0x359bdb[_0x197459(0x18c)]=_0x59d129-_0x1c0fd4;});});async function consultIncomeReport(){const _0xb5371b=_0x3f9cc9;showLoadingModal();const _0x11f528={'apiPOS_getIncome':0x1,'setToken':myCompany[_0xb5371b(0x1f2)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x856334=await fetch(myCompany[_0xb5371b(0xe3)],{'method':_0xb5371b(0x1ad),'headers':{'Content-Type':_0xb5371b(0x18f)},'body':JSON[_0xb5371b(0x198)](_0x11f528)}),{success:_0x35cb8d,message:_0x1c41da}=await _0x856334[_0xb5371b(0x195)]();if(!_0x35cb8d||!Array['isArray'](_0x1c41da['incomes'])){ntfShow(_0xb5371b(0x196)),console[_0xb5371b(0x111)](_0x1c41da);return;}const _0x26b373=_0x1c41da[_0xb5371b(0x193)],_0x57038d=myCompany[_0xb5371b(0x104)][_0xb5371b(0x1d6)]((_0x47ea88,_0x2dad1f)=>(_0x47ea88[_0x2dad1f[_0xb5371b(0x144)]]=_0x2dad1f[_0xb5371b(0xea)],_0x47ea88),{}),_0x52770b=myCompany[_0xb5371b(0x15a)][_0xb5371b(0x1d6)]((_0x2bfdf9,_0xd2710)=>(_0x2bfdf9[_0xd2710[_0xb5371b(0xec)]]=_0xd2710[_0xb5371b(0x1ab)],_0x2bfdf9),{}),_0x3fd2e1=myCompany[_0xb5371b(0x194)][_0xb5371b(0x1d6)]((_0x2b8252,_0x350f2d)=>(_0x2b8252[_0x350f2d[_0xb5371b(0xf8)]]=_0x350f2d[_0xb5371b(0x199)],_0x2b8252),{});arrayIncomes=_0x26b373[_0xb5371b(0xed)](_0x736c6b=>{const _0x4928dc=_0xb5371b,_0x54d1aa=_0x736c6b['setOperationItems'][_0x4928dc(0x1d6)]((_0x399524,_0x4c03e7)=>_0x399524+Number(_0x4c03e7[_0x4928dc(0xf2)]),0x0),_0x4ac058=_0x52770b[_0x736c6b[_0x4928dc(0x1df)]]||_0x736c6b[_0x4928dc(0x1df)],_0x53ad04=_0x3fd2e1[_0x736c6b[_0x4928dc(0x1cf)]]||_0x736c6b[_0x4928dc(0x1cf)],_0x2803c9=_0x57038d[_0x736c6b['setOperationCustomerId']]||_0x736c6b['setOperationCustomerId'],_0x3e09e4=_0x736c6b[_0x4928dc(0x1e8)]==0x1?_0x4928dc(0x138):_0x4928dc(0xee),_0xe434f8=_0x736c6b[_0x4928dc(0x1e8)]==0x1?_0x4928dc(0x14a):'Pendiente',_0x48fabd=_0x736c6b['setOperationType']==0x1?_0x4928dc(0x1ee):_0x736c6b[_0x4928dc(0x1df)]==0x2?_0x4928dc(0x1ea):_0x736c6b[_0x4928dc(0x1df)]==0x3?_0x4928dc(0x181):_0x736c6b[_0x4928dc(0x1df)]==0x4?_0x4928dc(0x110):'recibo';return{'setOperationId':_0x736c6b['setOperationId'],'setOperationType':_0x4ac058,'setOperationTypeSpan':_0x48fabd,'setOperationSeries':_0x53ad04+'-'+_0x736c6b[_0x4928dc(0x154)],'setOperationCustomerName':_0x2803c9,'setOperationDateTime':_0x736c6b['setOperationDateTime'],'setOperationPaymentStatusColor':_0x3e09e4,'setOperationPaymentStatusName':_0xe434f8,'setOperationCurrency':_0x736c6b['setOperationCurrency'],'setOperationTotal':_0x54d1aa};});const _0x342d4f=_0x26b373[_0xb5371b(0x15e)](_0x4b052f=>_0x4b052f[_0xb5371b(0x13f)][_0xb5371b(0xed)](_0x1d87e8=>({'item':_0x1d87e8,'moneda':_0x4b052f['setOperationCurrency']})))[_0xb5371b(0x1d6)]((_0x3db036,{item:_0x4a049d,moneda:_0x3319fb})=>{const _0x1cdffd=_0xb5371b,_0x290083=products[_0x1cdffd(0x17f)](_0xdc3e7e=>_0xdc3e7e['id']==_0x4a049d[_0x1cdffd(0x15d)]),_0x8474e6=_0x290083?_0x290083[_0x1cdffd(0x177)]:'Sin\x20descripción',_0x430171=_0x8474e6+'|'+_0x3319fb,_0x42627b=Number(_0x4a049d['setOperationDetailTotal']),_0x323da3=Number(_0x4a049d[_0x1cdffd(0xf7)])*Number(_0x4a049d[_0x1cdffd(0x19a)]);return!_0x3db036[_0x430171]&&(_0x3db036[_0x430171]={'productName':_0x8474e6,'currency':_0x3319fb,'sales':0x0,'cost':0x0}),_0x3db036[_0x430171]['sales']+=_0x42627b,_0x3db036[_0x430171]['cost']+=_0x323da3,_0x3db036;},{}),_0x186144=Object['values'](_0x342d4f)[_0xb5371b(0xed)](_0x24f972=>({'productName':_0x24f972[_0xb5371b(0x1db)],'currency':_0x24f972[_0xb5371b(0xdf)],'sales':Math[_0xb5371b(0x10a)](_0x24f972[_0xb5371b(0x1b4)]*0x64)/0x64,'cost':Math[_0xb5371b(0x10a)](_0x24f972[_0xb5371b(0xf6)]*0x64)/0x64,'profit':Math[_0xb5371b(0x10a)]((_0x24f972[_0xb5371b(0x1b4)]-_0x24f972[_0xb5371b(0xf6)])*0x64)/0x64})),_0x58decb=_0x26b373[_0xb5371b(0x1d6)]((_0x358a61,_0x59c235)=>{const _0x51431e=_0xb5371b,_0x130b10=_0x57038d[_0x59c235['setOperationCustomerId']]||_0x59c235['setOperationCustomerId'],_0x4a2509=_0x59c235['setOperationCurrency'],_0x411ff8=_0x130b10+'|'+_0x4a2509,_0x3c132c=_0x59c235[_0x51431e(0x13f)][_0x51431e(0x1d6)]((_0x2bf3bf,_0x195bcf)=>_0x2bf3bf+Number(_0x195bcf['setOperationDetailTotal']),0x0),_0x5b5847=_0x59c235[_0x51431e(0x13f)][_0x51431e(0x1d6)]((_0x22c50b,_0x134ae9)=>_0x22c50b+Number(_0x134ae9['setOperationDetailUnitCost'])*Number(_0x134ae9['setOperationDetailQuantity']),0x0);return!_0x358a61[_0x411ff8]&&(_0x358a61[_0x411ff8]={'customerName':_0x130b10,'currency':_0x4a2509,'sales':0x0,'cost':0x0}),_0x358a61[_0x411ff8]['sales']+=_0x3c132c,_0x358a61[_0x411ff8][_0x51431e(0xf6)]+=_0x5b5847,_0x358a61;},{}),_0x40a4c2=Object[_0xb5371b(0x16f)](_0x58decb)[_0xb5371b(0xed)](_0x22f23f=>({'customerName':_0x22f23f[_0xb5371b(0x11d)],'currency':_0x22f23f[_0xb5371b(0xdf)],'sales':Math[_0xb5371b(0x10a)](_0x22f23f['sales']*0x64)/0x64,'cost':Math['round'](_0x22f23f[_0xb5371b(0xf6)]*0x64)/0x64,'profit':Math['round']((_0x22f23f[_0xb5371b(0x1b4)]-_0x22f23f['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0xb5371b(0x193)),renderTable(_0x186144,currentPageProducts,_0xb5371b(0x187)),renderTable(_0x40a4c2,currentPageCustomers,_0xb5371b(0x1ec));const _0x48ead7=arrayIncomes[_0xb5371b(0xed)](_0xfdb728=>({'fechaISO':_0xfdb728[_0xb5371b(0x1bf)][_0xb5371b(0x148)]('\x20')[0x0],'setTipoComprobante':_0xfdb728['setOperationType'],'setOperationCurrency':_0xfdb728[_0xb5371b(0x14e)],'Total':Math[_0xb5371b(0x10a)](_0xfdb728['setOperationTotal']*0x64)/0x64})),_0x2c0192=_0x48ead7['reduce']((_0x8ed7bc,_0x1e55f1)=>{const _0x43b4c6=_0xb5371b,_0x1af1dc=_0x1e55f1['fechaISO']+'|'+_0x1e55f1[_0x43b4c6(0x10b)]+'|'+_0x1e55f1['setOperationCurrency'];if(!_0x8ed7bc[_0x1af1dc])_0x8ed7bc[_0x1af1dc]={..._0x1e55f1,'Total':0x0};return _0x8ed7bc[_0x1af1dc][_0x43b4c6(0x13a)]+=_0x1e55f1[_0x43b4c6(0x13a)],_0x8ed7bc;},{}),_0x1e5ec6=Object[_0xb5371b(0x16f)](_0x2c0192)[_0xb5371b(0xed)](_0x2e5c2e=>({'fechaISO':_0x2e5c2e[_0xb5371b(0xdc)],'setTipoComprobante':_0x2e5c2e[_0xb5371b(0x10b)]+'\x20('+_0x2e5c2e[_0xb5371b(0x14e)]+')','Total':Math[_0xb5371b(0x10a)](_0x2e5c2e[_0xb5371b(0x13a)]*0x64)/0x64})),_0x49c05e=[...new Set(_0x1e5ec6[_0xb5371b(0xed)](_0x446676=>_0x446676[_0xb5371b(0x10b)]))],_0x17ec59=Array['from'](new Set(_0x1e5ec6[_0xb5371b(0xed)](_0x4ce284=>_0x4ce284[_0xb5371b(0xdc)])))[_0xb5371b(0xe9)]((_0x10563b,_0x4711cd)=>new Date(_0x10563b)-new Date(_0x4711cd));_0x1e5ec6[_0xb5371b(0x16d)]>0x0?generateFilterTransformChart({'containerId':_0xb5371b(0xf9),'rawData':_0x1e5ec6,'groupField':_0xb5371b(0x10b),'groupValues':_0x49c05e,'seriesType':_0xb5371b(0xf5),'chartType':_0xb5371b(0xf5),'colors':[_0xb5371b(0xee),_0xb5371b(0x18a)],'encode':{'x':_0xb5371b(0xdc),'y':'Total','label':[_0xb5371b(0x10b),_0xb5371b(0x13a)],'itemName':_0xb5371b(0xdc),'tooltip':['Total']},'xAxisConfig':{'type':_0xb5371b(0x186),'data':_0x17ec59,'axisLabel':{'formatter':_0x57bc17=>{const _0x13ac07=_0xb5371b,[_0x166406,_0x5e83b9,_0xad089e]=_0x57bc17[_0x13ac07(0x148)]('-');return _0xad089e+'/'+_0x5e83b9+'/'+_0x166406;}}},'title':_0xb5371b(0x192),'width':'100%','height':_0xb5371b(0x10c)}):divChartIncome[_0xb5371b(0x19d)]='';_0x186144[_0xb5371b(0x16d)]>0x0?generateHorizontalBarChart({'containerId':_0xb5371b(0x1d9),'categories':_0x186144[_0xb5371b(0xed)](_0x456195=>{const _0xa2dd7=_0xb5371b,_0x6a6d39='('+_0x456195[_0xa2dd7(0xdf)]+')\x20'+_0x456195[_0xa2dd7(0x1db)];return _0x6a6d39[_0xa2dd7(0x16d)]>0xf?_0x6a6d39[_0xa2dd7(0x185)](0x0,0xf)+_0xa2dd7(0x1be):_0x6a6d39;}),'series':[{'name':_0xb5371b(0x156),'data':_0x186144['map'](_0x4230f5=>_0x4230f5[_0xb5371b(0x1b4)])},{'name':_0xb5371b(0x1c7),'data':_0x186144[_0xb5371b(0xed)](_0x4078e3=>_0x4078e3['cost'])},{'name':'Ganancia','data':_0x186144[_0xb5371b(0xed)](_0x39daf5=>_0x39daf5[_0xb5371b(0x1a5)])}],'title':_0xb5371b(0x140),'titlePosition':_0xb5371b(0x101),'showTitle':![],'colors':['#FF5900',_0xb5371b(0x18a),'#00AEEF'],'width':_0xb5371b(0x161),'height':'400px'}):divChartItem['innerHTML']='';if(_0x40a4c2[_0xb5371b(0x16d)]>0x0){const _0xb87e31=_0x40a4c2[_0xb5371b(0xed)](_0x436556=>({'label':_0x436556[_0xb5371b(0x11d)]+'\x20('+_0x436556['currency']+')','sales':_0x436556[_0xb5371b(0x1b4)]}));generatePieChart({'containerId':'divChartCustomer','data':_0xb87e31,'nameField':'label','valueField':'sales','title':_0xb5371b(0xd9),'titlePosition':_0xb5371b(0x115),'showTitle':![],'width':_0xb5371b(0x10c),'height':'500px'});}else divChartCustomer['innerHTML']='';}catch(_0x42751e){ntfShow(_0xb5371b(0x162)),console[_0xb5371b(0x1c5)](_0x42751e);}finally{hideLoadingModal();}}function renderTable(_0x8a25a8,_0x179229=0x1,_0x251e1b='incomes'){const _0x1eea04=_0x3f9cc9;currentPage=_0x179229;const _0x20afa2=_0x251e1b==='incomes'?'#reporte-income':_0x251e1b===_0x1eea04(0x187)?_0x1eea04(0x12c):_0x1eea04(0xf0),_0x18f582=_0x251e1b===_0x1eea04(0x193)?per_page:_0x251e1b===_0x1eea04(0x187)?per_page_products:per_page_customers,_0x34494e=document[_0x1eea04(0x15b)](_0x20afa2+_0x1eea04(0x1a7));_0x34494e[_0x1eea04(0x19d)]='';const _0x2e2bff=(_0x179229-0x1)*_0x18f582,_0x189d46=_0x8a25a8[_0x1eea04(0xe1)](_0x2e2bff,_0x2e2bff+_0x18f582);if(_0x251e1b===_0x1eea04(0x193)){_0x189d46[_0x1eea04(0x1d0)](_0x2bb74d=>{const _0x3bc6a5=_0x1eea04,_0x5e4e5c=document[_0x3bc6a5(0x1ba)]('tr');_0x5e4e5c['innerHTML']='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x2bb74d[_0x3bc6a5(0xda)]+_0x3bc6a5(0xe8)+_0x2bb74d[_0x3bc6a5(0x1df)]+_0x3bc6a5(0x1b8)+(_0x2bb74d['setOperationSeries']||'')+'</td>\x0a<td>'+(_0x2bb74d[_0x3bc6a5(0x16e)]||'')+_0x3bc6a5(0x1a8)+_0x2bb74d[_0x3bc6a5(0x1bf)]+_0x3bc6a5(0x119)+_0x2bb74d[_0x3bc6a5(0x126)]+_0x3bc6a5(0x1c1)+_0x2bb74d[_0x3bc6a5(0x126)]+_0x3bc6a5(0x190)+_0x2bb74d[_0x3bc6a5(0x1d4)]+_0x3bc6a5(0x17d)+_0x2bb74d[_0x3bc6a5(0x14e)]+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+_0x2bb74d[_0x3bc6a5(0x10d)]['toFixed'](0x2)+_0x3bc6a5(0x135)+_0x2bb74d[_0x3bc6a5(0x14d)]+_0x3bc6a5(0x120)+_0x2bb74d['setOperationId']+_0x3bc6a5(0x1ca),_0x34494e[_0x3bc6a5(0xe2)](_0x5e4e5c);});const _0x4c16c2=_0x8a25a8[_0x1eea04(0x1d6)]((_0x3b07b9,_0x2827fa)=>{const _0x307425=_0x1eea04,_0x265b1c=_0x2827fa[_0x307425(0x14e)];return _0x3b07b9[_0x265b1c]=(_0x3b07b9[_0x265b1c]||0x0)+Number(_0x2827fa['setOperationTotal']),_0x3b07b9;},{});Object[_0x1eea04(0xe4)](_0x4c16c2)['forEach'](([_0x584714,_0x5590f1])=>{const _0x4355b8=_0x1eea04,_0x378cbb=document[_0x4355b8(0x1ba)]('tr');_0x378cbb[_0x4355b8(0x19d)]=_0x4355b8(0x124)+_0x584714+_0x4355b8(0x112)+(Math['round'](_0x5590f1*0x64)/0x64)[_0x4355b8(0x15c)](0x2)+_0x4355b8(0x141),_0x34494e['appendChild'](_0x378cbb);}),renderPagination(_0x8a25a8,_0x179229,_0x251e1b);}if(_0x251e1b===_0x1eea04(0x187)){_0x189d46['forEach'](_0x5d3986=>{const _0x372e67=_0x1eea04,_0x13cb21=document[_0x372e67(0x1ba)]('tr');_0x13cb21[_0x372e67(0x19d)]='\x0a<td\x20class=\x22td-bg-none\x22>'+_0x5d3986[_0x372e67(0x1db)]+_0x372e67(0x1eb)+_0x5d3986[_0x372e67(0xdf)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x5d3986['sales'][_0x372e67(0x15c)](0x2)+_0x372e67(0x151)+_0x5d3986[_0x372e67(0xf6)][_0x372e67(0x15c)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x5d3986[_0x372e67(0x1a5)][_0x372e67(0x15c)](0x2)+'</td>\x0a',_0x34494e[_0x372e67(0xe2)](_0x13cb21);});const _0x4597da=_0x8a25a8[_0x1eea04(0x1d6)]((_0x868adf,_0x12011c)=>{const _0x56df84=_0x1eea04,_0x53b0f7=_0x12011c['currency'];if(!_0x868adf[_0x53b0f7])_0x868adf[_0x53b0f7]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x868adf[_0x53b0f7][_0x56df84(0x1b4)]+=_0x12011c[_0x56df84(0x1b4)],_0x868adf[_0x53b0f7][_0x56df84(0xf6)]+=_0x12011c[_0x56df84(0xf6)],_0x868adf[_0x53b0f7][_0x56df84(0x1a5)]+=_0x12011c[_0x56df84(0x1a5)],_0x868adf;},{});Object['entries'](_0x4597da)['forEach'](([_0x457746,_0x3a96be])=>{const _0x27c89b=_0x1eea04,_0x5a58f9=document[_0x27c89b(0x1ba)]('tr');_0x5a58f9['innerHTML']='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x457746+_0x27c89b(0x1ae)+(Math['round'](_0x3a96be[_0x27c89b(0x1b4)]*0x64)/0x64)[_0x27c89b(0x15c)](0x2)+_0x27c89b(0x153)+(Math['round'](_0x3a96be[_0x27c89b(0xf6)]*0x64)/0x64)[_0x27c89b(0x15c)](0x2)+_0x27c89b(0x153)+(Math[_0x27c89b(0x10a)](_0x3a96be[_0x27c89b(0x1a5)]*0x64)/0x64)[_0x27c89b(0x15c)](0x2)+_0x27c89b(0x168),_0x34494e[_0x27c89b(0xe2)](_0x5a58f9);}),renderPagination(_0x8a25a8,_0x179229,_0x251e1b);}if(_0x251e1b===_0x1eea04(0x1ec)){_0x189d46['forEach'](_0x32a94f=>{const _0x439fac=_0x1eea04,_0x12ca0d=document[_0x439fac(0x1ba)]('tr');_0x12ca0d[_0x439fac(0x19d)]=_0x439fac(0x18b)+_0x32a94f['customerName']+_0x439fac(0x1eb)+_0x32a94f['currency']+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x32a94f[_0x439fac(0x1b4)][_0x439fac(0x15c)](0x2)+_0x439fac(0x151)+_0x32a94f[_0x439fac(0xf6)][_0x439fac(0x15c)](0x2)+_0x439fac(0x151)+_0x32a94f['profit'][_0x439fac(0x15c)](0x2)+'</td>\x0a',_0x34494e[_0x439fac(0xe2)](_0x12ca0d);});const _0x5e045a=_0x8a25a8[_0x1eea04(0x1d6)]((_0x63aa98,_0x4f6564)=>{const _0x27e40f=_0x1eea04,_0x4f2ba6=_0x4f6564[_0x27e40f(0xdf)];return!_0x63aa98[_0x4f2ba6]&&(_0x63aa98[_0x4f2ba6]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x63aa98[_0x4f2ba6]['sales']+=_0x4f6564[_0x27e40f(0x1b4)],_0x63aa98[_0x4f2ba6]['cost']+=_0x4f6564[_0x27e40f(0xf6)],_0x63aa98[_0x4f2ba6][_0x27e40f(0x1a5)]+=_0x4f6564['profit'],_0x63aa98;},{});Object[_0x1eea04(0xe4)](_0x5e045a)[_0x1eea04(0x1d0)](([_0x2cd48a,_0x4e01f5])=>{const _0x3a48b=_0x1eea04,_0x5ebb15=document['createElement']('tr');_0x5ebb15['innerHTML']='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x2cd48a+_0x3a48b(0x1ae)+(Math[_0x3a48b(0x10a)](_0x4e01f5[_0x3a48b(0x1b4)]*0x64)/0x64)[_0x3a48b(0x15c)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x3a48b(0x10a)](_0x4e01f5[_0x3a48b(0xf6)]*0x64)/0x64)[_0x3a48b(0x15c)](0x2)+_0x3a48b(0x153)+(Math[_0x3a48b(0x10a)](_0x4e01f5[_0x3a48b(0x1a5)]*0x64)/0x64)[_0x3a48b(0x15c)](0x2)+'\x0a</td>\x0a',_0x34494e[_0x3a48b(0xe2)](_0x5ebb15);}),renderPagination(_0x8a25a8,_0x179229,_0x251e1b);}}function renderPagination(_0x23110c,_0x42c07e,_0x4c9ca4=_0x3f9cc9(0x193)){const _0x3fcdde=_0x3f9cc9,_0x15b7d2=_0x4c9ca4===_0x3fcdde(0x193)?document['querySelector'](_0x3fcdde(0x1a2)):_0x4c9ca4==='products'?document[_0x3fcdde(0x15b)](_0x3fcdde(0x1b5)):document[_0x3fcdde(0x15b)](_0x3fcdde(0x1f1)),_0x40c7cd=_0x4c9ca4==='incomes'?per_page:_0x4c9ca4===_0x3fcdde(0x187)?per_page_products:per_page_customers;_0x15b7d2[_0x3fcdde(0x19d)]='';const _0x535e6d=Math[_0x3fcdde(0x1e5)](_0x23110c[_0x3fcdde(0x16d)]/_0x40c7cd),_0x5192b3=document['createElement']('a');_0x5192b3['href']='#',_0x5192b3[_0x3fcdde(0x1ed)]='btn\x20btn-sm\x20btn-outline\x20me-2',_0x5192b3['innerHTML']=_0x3fcdde(0x1d7),_0x5192b3[_0x3fcdde(0x11f)]=_0x543989=>{const _0x42db6a=_0x3fcdde;_0x543989[_0x42db6a(0x164)]();if(_0x42c07e>0x1)renderTable(_0x23110c,_0x42c07e-0x1,_0x4c9ca4);},_0x15b7d2[_0x3fcdde(0xe2)](_0x5192b3);for(let _0x1bba55=0x1;_0x1bba55<=_0x535e6d;_0x1bba55++){const _0x43443a=document['createElement']('a');_0x43443a['href']='#',_0x43443a[_0x3fcdde(0x1ed)]='btn\x20btn-sm\x20'+(_0x1bba55===_0x42c07e?_0x3fcdde(0x118):_0x3fcdde(0x1e9)),_0x43443a[_0x3fcdde(0x142)]=_0x1bba55,_0x43443a[_0x3fcdde(0x11f)]=_0x23a079=>{const _0x2d684a=_0x3fcdde;_0x23a079[_0x2d684a(0x164)](),renderTable(_0x23110c,_0x1bba55,_0x4c9ca4);},_0x15b7d2['appendChild'](_0x43443a);}const _0x17685d=document[_0x3fcdde(0x1ba)]('a');_0x17685d[_0x3fcdde(0x1f4)]='#',_0x17685d[_0x3fcdde(0x1ed)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x17685d[_0x3fcdde(0x19d)]=_0x3fcdde(0xe0),_0x17685d[_0x3fcdde(0x11f)]=_0x43ba61=>{const _0x50559a=_0x3fcdde;_0x43ba61[_0x50559a(0x164)]();if(_0x42c07e<_0x535e6d)renderTable(_0x23110c,_0x42c07e+0x1,_0x4c9ca4);},_0x15b7d2[_0x3fcdde(0xe2)](_0x17685d);}document[_0x3f9cc9(0x136)](_0x3f9cc9(0x1e6))['addEventListener']('click',async()=>{const _0x14c3c0=_0x3f9cc9,_0x58346f=document['getElementById']('filter-start')['value'],_0x35301d=document[_0x14c3c0(0x136)](_0x14c3c0(0x139))[_0x14c3c0(0x129)];if(!_0x58346f||!_0x35301d)return alert('Selecciona\x20ambas\x20fechas');const _0x580e28=document[_0x14c3c0(0x136)](_0x14c3c0(0x1af)),_0x31c81b=bootstrap['Modal'][_0x14c3c0(0x159)](_0x580e28);_0x31c81b[_0x14c3c0(0x1b1)](),showLoadingModal();try{const _0x46fbdd={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x14c3c0(0x1f2)],'dateFrom':_0x58346f+'\x2000:00:00','dateTo':_0x35301d+_0x14c3c0(0x19f),'clientIds':[],'operationTypes':[]},_0x5760ae=await fetch(myCompany['setApiEndPoint'],{'method':_0x14c3c0(0x1ad),'headers':{'Content-Type':_0x14c3c0(0x103)},'body':JSON['stringify'](_0x46fbdd)}),{success:_0x27056e,message:_0x1315d6}=await _0x5760ae[_0x14c3c0(0x195)]();if(!_0x27056e)throw new Error(_0x1315d6);_0x1315d6[_0x14c3c0(0x193)],await consultIncomeReport();}catch(_0x3d4190){ntfShow(_0x14c3c0(0x1f3)),console[_0x14c3c0(0x1c5)](_0x3d4190);}finally{hideLoadingModal();}});let currentExportMode=_0x3f9cc9(0xef);const WA_CRED_ID=_0x3f9cc9(0x1d5),WA_DEST_NUMBER=_0x3f9cc9(0x19e),EMAIL_AUTH_TOKEN=_0x3f9cc9(0x1a4),EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR=_0x3f9cc9(0x14b),EMAIL_SENDER_PASS=_0x3f9cc9(0x12d),EMAIL_SMTP_HOST=_0x3f9cc9(0x19c),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0x3f9cc9(0x137));reportWorker[_0x3f9cc9(0x1b3)]=({data:_0x2ca08c})=>{const _0x5042d6=_0x3f9cc9,{type:_0x3fe7b8,payload:_0x53de64,reportType:_0x1c78b7}=_0x2ca08c;if(_0x3fe7b8===_0x5042d6(0x191)){const _0x30e1d0=new Blob([_0x53de64],{'type':'application/octet-stream'}),_0x305a0c=new Date()['toISOString']()[_0x5042d6(0xe1)](0x0,0xa),_0x22ec6a=_0x1c78b7+'_'+_0x305a0c+'.xlsx',_0x158dc4=_0x2bef8c=>new Promise((_0x4001a0,_0x5a1fe2)=>{const _0x42cf89=_0x5042d6,_0x41055e=new FileReader();_0x41055e[_0x42cf89(0xff)]=()=>_0x5a1fe2(_0x41055e[_0x42cf89(0x1c5)]),_0x41055e[_0x42cf89(0x163)]=()=>_0x4001a0(_0x41055e['result'][_0x42cf89(0x148)](',')[0x1]),_0x41055e['readAsDataURL'](_0x2bef8c);});switch(currentExportMode){case _0x5042d6(0xef):{const _0x429875=URL[_0x5042d6(0x13b)](_0x30e1d0),_0x574923=document[_0x5042d6(0x1ba)]('a');_0x574923['href']=_0x429875,_0x574923[_0x5042d6(0xef)]=_0x22ec6a,_0x574923[_0x5042d6(0x131)](),URL['revokeObjectURL'](_0x429875);}break;case _0x5042d6(0xdd):{_0x158dc4(_0x30e1d0)[_0x5042d6(0x100)](_0x399a10=>{const _0x333eb6=_0x5042d6;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x399a10,_0x333eb6(0x1a9)+_0x1c78b7+_0x333eb6(0x1b2)+_0x305a0c,_0x22ec6a,_0x333eb6(0x179))[_0x333eb6(0xf1)](_0x514610=>{const _0x40aa6f=_0x333eb6;console[_0x40aa6f(0x1c5)](_0x40aa6f(0x1e2),_0x514610),ntfShow('Error\x20al\x20enviar\x20por\x20WhatsApp.');});});}break;case _0x5042d6(0x1dc):{_0x158dc4(_0x30e1d0)['then'](_0x41feb6=>{const _0xa9ac06=_0x5042d6;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0xa9ac06(0x1a9)+_0x1c78b7+_0xa9ac06(0x106)+_0x305a0c,_0xa9ac06(0x172),[{'filename':_0x22ec6a,'content':_0x41feb6,'mimetype':_0xa9ac06(0x179)}]);});}break;case _0x5042d6(0x182):{_0x158dc4(_0x30e1d0)['then'](_0x1d94e7=>{const _0x27d9b1=_0x5042d6;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x27d9b1(0x132),_0x1d94e7,_0x27d9b1(0x1a9)+_0x1c78b7+_0x27d9b1(0x1b2)+_0x305a0c,_0x22ec6a,_0x27d9b1(0x179))[_0x27d9b1(0xf1)](_0x43d9f1=>console[_0x27d9b1(0x1c5)](_0x27d9b1(0x1e2),_0x43d9f1)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x27d9b1(0x1a9)+_0x1c78b7+'\x20-\x20'+_0x305a0c,_0x27d9b1(0x172),[{'filename':_0x22ec6a,'content':_0x1d94e7,'mimetype':_0x27d9b1(0x179)}]);});}break;default:console[_0x5042d6(0x1c5)](_0x5042d6(0x1de),currentExportMode);}}_0x3fe7b8===_0x5042d6(0x1c5)&&(console[_0x5042d6(0x1c5)](_0x5042d6(0x11e),_0x53de64),ntfShow(_0x5042d6(0xfc)));},document[_0x3f9cc9(0x136)](_0x3f9cc9(0x1bc))[_0x3f9cc9(0xe5)](_0x3f9cc9(0x131),()=>{const _0x28401c=_0x3f9cc9;onClickExport(_0x28401c(0xef));});function onClickExport(_0x484458=_0x3f9cc9(0xef)){const _0x1d7998=_0x3f9cc9;if(!Array[_0x1d7998(0x150)](arrayIncomes)||!arrayIncomes[_0x1d7998(0x16d)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');currentExportMode=_0x484458;const _0xdfd492=arrayIncomes['map'](_0x356976=>{const _0x3f9982=_0x1d7998,[_0x808300]=_0x356976['setOperationDateTime'][_0x3f9982(0x148)]('\x20'),[_0x58e4b3,_0x83b1c7,_0x1bbdf2]=_0x808300[_0x3f9982(0x148)]('-');return{'Periodo':''+_0x58e4b3+_0x83b1c7,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x1bbdf2+'/'+_0x83b1c7+'/'+_0x58e4b3,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x356976['setOperationCurrency'],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x1d7998(0x13e)]({'action':_0x1d7998(0x189),'reportType':_0x1d7998(0x16b),'report':_0xdfd492});}window[_0x3f9cc9(0x163)]=function(){const _0x3e9887=_0x3f9cc9,_0x3c35fc=0x3;loadLoginContent(_0x3e9887(0x1e3)),setUserNameGet(),setEventBtnAccess();const _0x58fc32=document['querySelector']('.btn-logout');_0x58fc32&&_0x58fc32[_0x3e9887(0xe5)](_0x3e9887(0x131),function(){logoutReload(0x0,_0x3c35fc);}),document['getElementById'](_0x3e9887(0x11a))[_0x3e9887(0xe5)](_0x3e9887(0x160),async function(){const _0x3fc651=_0x3e9887,_0x221d3d=parseInt(this['value']);myCompany[_0x3fc651(0x1f0)]=_0x221d3d;const _0x38153a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x38153a),await cargarPisos(_0x221d3d),await waitForEvent('setFloorId','EnvironmentChangeComplete'),await cargarAlmacenes(_0x221d3d),await waitForEvent('setWarehouseId',_0x3fc651(0x133)),document[_0x3fc651(0x1e0)](new Event(_0x3fc651(0x116))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x3fc651(0x16a)](_0x221d3d),consultIncomeReport();}),document[_0x3e9887(0x136)](_0x3e9887(0x13d))[_0x3e9887(0xe5)]('change',async function(){const _0x3b4bf5=_0x3e9887;document[_0x3b4bf5(0x1e0)](new Event('WarehouseChangeComplete'));}),document[_0x3e9887(0x136)](_0x3e9887(0x18e))['addEventListener'](_0x3e9887(0x160),async function(_0x2ec364){const _0x339903=_0x3e9887;document[_0x339903(0x1e0)](new Event(_0x339903(0x1ef)));}),loadCartAndSetTabCount(_0x3c35fc);};