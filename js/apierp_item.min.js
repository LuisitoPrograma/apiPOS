/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.1
*/

var _0x169352=_0x3fa3;(function(_0x162231,_0x2ebb40){var _0x2ecfec=_0x3fa3,_0x2a3dfb=_0x162231();while(!![]){try{var _0x30bcac=parseInt(_0x2ecfec(0x240))/0x1*(-parseInt(_0x2ecfec(0x196))/0x2)+parseInt(_0x2ecfec(0x172))/0x3*(-parseInt(_0x2ecfec(0x26b))/0x4)+-parseInt(_0x2ecfec(0x1a7))/0x5*(parseInt(_0x2ecfec(0x1f0))/0x6)+parseInt(_0x2ecfec(0x265))/0x7*(parseInt(_0x2ecfec(0x249))/0x8)+-parseInt(_0x2ecfec(0x20d))/0x9*(parseInt(_0x2ecfec(0x272))/0xa)+-parseInt(_0x2ecfec(0x24c))/0xb+parseInt(_0x2ecfec(0x1f6))/0xc*(parseInt(_0x2ecfec(0x1a4))/0xd);if(_0x30bcac===_0x2ebb40)break;else _0x2a3dfb['push'](_0x2a3dfb['shift']());}catch(_0x4a7ffb){_0x2a3dfb['push'](_0x2a3dfb['shift']());}}}(_0x24c5,0xd7554));var _0x1e1e1a=(function(){var _0x3d2e0f=!![];return function(_0x237e11,_0x3aad70){var _0x242ff4=_0x3d2e0f?function(){var _0x1ac870=_0x3fa3;if(_0x3aad70){var _0x9ad8e5=_0x3aad70[_0x1ac870(0x1d2)](_0x237e11,arguments);return _0x3aad70=null,_0x9ad8e5;}}:function(){};return _0x3d2e0f=![],_0x242ff4;};}()),_0x2158b7=_0x1e1e1a(this,function(){var _0x529a67=_0x3fa3;return _0x2158b7[_0x529a67(0x221)]()[_0x529a67(0x267)](_0x529a67(0x1e2))[_0x529a67(0x221)]()[_0x529a67(0x1d5)](_0x2158b7)[_0x529a67(0x267)](_0x529a67(0x1e2));});_0x2158b7();var _0x3a6e03=(function(){var _0x1e81e5=!![];return function(_0x2027bc,_0x3063a3){var _0xc4654=_0x1e81e5?function(){var _0x41a00c=_0x3fa3;if(_0x3063a3){var _0x547124=_0x3063a3[_0x41a00c(0x1d2)](_0x2027bc,arguments);return _0x3063a3=null,_0x547124;}}:function(){};return _0x1e81e5=![],_0xc4654;};}()),_0x5abdec=_0x3a6e03(this,function(){var _0x5325f5=_0x3fa3,_0xbda70d;try{var _0x3b6ce4=Function(_0x5325f5(0x29f)+_0x5325f5(0x24b)+');');_0xbda70d=_0x3b6ce4();}catch(_0x598d2c){_0xbda70d=window;}var _0x20968f=_0xbda70d[_0x5325f5(0x19d)]=_0xbda70d[_0x5325f5(0x19d)]||{},_0x33b71c=['log',_0x5325f5(0x239),_0x5325f5(0x296),_0x5325f5(0x299),_0x5325f5(0x1fb),_0x5325f5(0x170),_0x5325f5(0x1e3)];for(var _0x37bbf4=0x0;_0x37bbf4<_0x33b71c[_0x5325f5(0x27e)];_0x37bbf4++){var _0x32b36a=_0x3a6e03[_0x5325f5(0x1d5)][_0x5325f5(0x1bd)][_0x5325f5(0x1e9)](_0x3a6e03),_0x43dc11=_0x33b71c[_0x37bbf4],_0x33e319=_0x20968f[_0x43dc11]||_0x32b36a;_0x32b36a[_0x5325f5(0x199)]=_0x3a6e03[_0x5325f5(0x1e9)](_0x3a6e03),_0x32b36a[_0x5325f5(0x221)]=_0x33e319[_0x5325f5(0x221)][_0x5325f5(0x1e9)](_0x33e319),_0x20968f[_0x43dc11]=_0x32b36a;}});_0x5abdec();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x169352(0x21d)](_0x169352(0x1c0)),unitCount=0x0,branchesC=document[_0x169352(0x21d)]('newItem_branches_container'),prodC=document[_0x169352(0x21d)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x169352(0x21d)]('newItem_variants_forms'),vgC=document[_0x169352(0x21d)](_0x169352(0x2ae));const fileInput=document['getElementById']('file-input'),progressBar=document[_0x169352(0x21d)](_0x169352(0x1ec)),statusDiv=document[_0x169352(0x21d)]('status'),uploadBtn=document[_0x169352(0x21d)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x169352(0x211)),dropZone=document[_0x169352(0x21d)]('drop-zone'),removeBtn=document[_0x169352(0x21d)]('remove-file');function showModalCreateItem(_0x4d4921){var _0x42220d=_0x169352;const _0x56291c=document[_0x42220d(0x21d)]('detalleModalCreateItem'),_0x27d46c=document['getElementById']('modalOverlayCreateItem');_0x56291c[_0x42220d(0x179)]['add'](_0x42220d(0x263)),_0x27d46c[_0x42220d(0x216)][_0x42220d(0x1f5)]=_0x42220d(0x202);const _0x5a3845=document[_0x42220d(0x21d)](_0x42220d(0x27b));_0x5a3845[_0x42220d(0x2b4)]=parseInt(_0x4d4921),baseItem[_0x42220d(0x27b)]=parseInt(_0x4d4921);const _0xd1e10a=document[_0x42220d(0x21d)](_0x42220d(0x1cb));_0x4d4921==0x0&&(_0xd1e10a['innerHTML']=_0x42220d(0x18b));_0x4d4921==0x1&&(_0xd1e10a[_0x42220d(0x1dd)]=_0x42220d(0x26f));const _0x4b9e4a=document['getElementsByClassName'](_0x42220d(0x1f3));for(let _0x3cfed7=0x0;_0x3cfed7<_0x4b9e4a['length'];_0x3cfed7++){const _0x387b3a=_0x4b9e4a[_0x3cfed7];if(_0x4d4921==0x0)_0x387b3a[_0x42220d(0x179)][_0x42220d(0x23d)](_0x42220d(0x200));else _0x4d4921==0x1&&_0x387b3a[_0x42220d(0x179)][_0x42220d(0x181)]('hidden');}}function hideModalCreateItem(){var _0x288824=_0x169352;const _0x6b0617=document['getElementById'](_0x288824(0x1a1)),_0x21b02f=document[_0x288824(0x21d)](_0x288824(0x247));_0x6b0617[_0x288824(0x179)][_0x288824(0x23d)]('active'),_0x21b02f[_0x288824(0x216)][_0x288824(0x1f5)]=_0x288824(0x21b);}document[_0x169352(0x21d)](_0x169352(0x222))['addEventListener'](_0x169352(0x2a3),hideModalCreateItem),document[_0x169352(0x21d)](_0x169352(0x247))[_0x169352(0x2b5)](_0x169352(0x2a3),_0x3d837f=>{var _0x36030c=_0x169352;_0x3d837f[_0x36030c(0x266)]==_0x3d837f[_0x36030c(0x1a2)]&&_0x3d837f['stopPropagation']();});function loadTaxData(){var _0x182e82=_0x169352;const _0x469909=document['getElementById'](_0x182e82(0x1d7));_0x469909[_0x182e82(0x1dd)]='',company[0x0][_0x182e82(0x298)][_0x182e82(0x193)](function(_0x1405c3){var _0x3bcbba=_0x182e82;const _0xd6622d=document[_0x3bcbba(0x18e)](_0x3bcbba(0x22b));_0xd6622d['value']=_0x1405c3[_0x3bcbba(0x25d)],_0xd6622d[_0x3bcbba(0x1dd)]=_0x1405c3[_0x3bcbba(0x25f)]+'\x20('+_0x1405c3[_0x3bcbba(0x210)]+'%)',_0x1405c3[_0x3bcbba(0x25d)]==company[0x0][_0x3bcbba(0x289)]&&(_0xd6622d['selected']=!![]),_0x469909[_0x3bcbba(0x276)](_0xd6622d);});}function uniqueValuesArray(_0x5ed147,_0x1073f1,_0x2c558a){var _0x1d0c92=_0x169352;const _0xe2b7ce=Array[_0x1d0c92(0x28f)](new Set(_0x2c558a[_0x1d0c92(0x213)](_0x4139df=>{var _0x2541d0=_0x1d0c92;const _0x232d46=_0x4139df[_0x5ed147];return typeof _0x232d46==='string'?_0x232d46[_0x2541d0(0x1e0)]():_0x232d46;})[_0x1d0c92(0x291)](_0x372204=>_0x372204!=null&&_0x372204!=='')));return _0xe2b7ce['map'](_0xf16014=>{var _0x4e29de=_0x1d0c92;const _0x559229=_0x2c558a[_0x4e29de(0x1fa)](_0x4ab98a=>_0x4ab98a[_0x5ed147]===_0xf16014),_0x1cdf77=_0x559229&&_0x559229[_0x1073f1]!=null?String(_0x559229[_0x1073f1])[_0x4e29de(0x1e0)]():_0xf16014;return{'setCode':_0xf16014,'setName':_0x1cdf77};});}function fillSelect(_0x3ff6be,_0x1962f0,_0x3bf05c,_0x3e3332){var _0x44ec1e=_0x169352;_0x3ff6be[_0x44ec1e(0x1dd)]='',_0x1962f0[_0x44ec1e(0x193)](function(_0x4e35b8){var _0x5513f6=_0x44ec1e,_0x4c9f71=new Option(_0x4e35b8[_0x3e3332],_0x4e35b8[_0x3bf05c]);_0x3ff6be[_0x5513f6(0x181)](_0x4c9f71);});}function initMulti(_0x880686,_0x1e2880){var _0x2f3dd0=_0x169352,_0x4a2cee=document[_0x2f3dd0(0x21d)](_0x880686),_0x26823a=_0x4a2cee[_0x2f3dd0(0x22c)](_0x2f3dd0(0x245)),_0x383205=_0x4a2cee[_0x2f3dd0(0x22c)](_0x2f3dd0(0x259)),_0x13bd52=_0x4a2cee[_0x2f3dd0(0x22c)]('.selected_tags'),_0x19cefb=_0x1e2880[_0x2f3dd0(0x186)](),_0x18a587=[];let _0x39bcb8=null,_0x325fa0=![];function _0x253ede(){var _0x3e470c=_0x2f3dd0;const _0x33b42a=_0x26823a[_0x3e470c(0x2b4)]['trim']();if(!_0x33b42a)return;const _0x4ff0b4=_0x19cefb['find'](_0x550090=>_0x550090[_0x3e470c(0x19a)][_0x3e470c(0x1b8)]()===_0x33b42a[_0x3e470c(0x1b8)]());if(_0x4ff0b4)_0x18a587[_0x3e470c(0x292)](_0x4ff0b4),_0x19cefb[_0x3e470c(0x281)](_0x19cefb[_0x3e470c(0x218)](_0x3095eb=>_0x3095eb[_0x3e470c(0x17a)]===_0x4ff0b4['setCode']),0x1);else{const _0x107abd=_0x18a587[_0x3e470c(0x1b2)](_0x4ef5c7=>_0x4ef5c7['setName'][_0x3e470c(0x1b8)]()===_0x33b42a['toLowerCase']());!_0x107abd&&_0x18a587[_0x3e470c(0x292)]({'setCode':_0x33b42a,'setName':_0x33b42a});}_0x1cf1c2(),_0x509bad(),_0x26823a[_0x3e470c(0x2b4)]='';}function _0x509bad(){var _0x2da361=_0x2f3dd0;_0x383205['innerHTML']='',_0x19cefb[_0x2da361(0x291)](_0x5c60db=>_0x5c60db[_0x2da361(0x19a)][_0x2da361(0x1b8)]()[_0x2da361(0x207)](_0x26823a[_0x2da361(0x2b4)][_0x2da361(0x1b8)]()))['slice'](0x0,0x14)['forEach'](_0x18a62c=>{var _0x13f656=_0x2da361,_0x2c01fc=document[_0x13f656(0x18e)](_0x13f656(0x287));_0x2c01fc[_0x13f656(0x16c)]=_0x18a62c[_0x13f656(0x19a)],_0x2c01fc[_0x13f656(0x250)][_0x13f656(0x2a1)]=_0x18a62c[_0x13f656(0x17a)],_0x383205['appendChild'](_0x2c01fc),_0x2c01fc[_0x13f656(0x2b5)](_0x13f656(0x2af),()=>_0x325fa0=!![]),_0x2c01fc[_0x13f656(0x2b5)](_0x13f656(0x2a3),function(){var _0x521f6f=_0x13f656;_0x325fa0=![],_0x18a587[_0x521f6f(0x292)](_0x18a62c),_0x19cefb[_0x521f6f(0x281)](_0x19cefb['findIndex'](_0x53be4e=>_0x53be4e[_0x521f6f(0x17a)]===_0x18a62c['setCode']),0x1),_0x26823a[_0x521f6f(0x2b4)]='',_0x1cf1c2(),_0x509bad();});});}function _0x1cf1c2(){var _0x21dead=_0x2f3dd0;_0x13bd52['innerHTML']='',_0x18a587['forEach'](_0x31f7d7=>{var _0x390fbd=_0x3fa3,_0x1f7690=document['createElement'](_0x390fbd(0x287));_0x1f7690[_0x390fbd(0x1c4)]=_0x390fbd(0x25b),_0x1f7690[_0x390fbd(0x16c)]=_0x31f7d7[_0x390fbd(0x19a)];var _0x2d5d98=document['createElement'](_0x390fbd(0x17d));_0x2d5d98[_0x390fbd(0x1c4)]='remove-tag',_0x2d5d98[_0x390fbd(0x16c)]='×',_0x2d5d98[_0x390fbd(0x2b5)](_0x390fbd(0x2a3),function(){var _0x1ab776=_0x390fbd;_0x19cefb[_0x1ab776(0x292)](_0x31f7d7);const _0x152eb6=_0x18a587[_0x1ab776(0x218)](_0xd5ecd3=>_0xd5ecd3['setCode']===_0x31f7d7[_0x1ab776(0x17a)]);if(_0x152eb6>-0x1)_0x18a587[_0x1ab776(0x281)](_0x152eb6,0x1);_0x1cf1c2(),_0x509bad();}),_0x1f7690[_0x390fbd(0x276)](_0x2d5d98),_0x13bd52[_0x390fbd(0x276)](_0x1f7690);}),_0x4a2cee[_0x21dead(0x20b)](new CustomEvent(_0x21dead(0x17e),{'detail':_0x18a587,'bubbles':!![]}));}return _0x26823a[_0x2f3dd0(0x2b5)](_0x2f3dd0(0x232),function(){var _0x174703=_0x2f3dd0;_0x39bcb8&&(clearTimeout(_0x39bcb8),_0x39bcb8=null),_0x383205[_0x174703(0x179)][_0x174703(0x23d)](_0x174703(0x271));}),_0x26823a['addEventListener'](_0x2f3dd0(0x248),_0x509bad),_0x26823a[_0x2f3dd0(0x2b5)]('keydown',function(_0x588e66){var _0x4fb2a2=_0x2f3dd0;_0x588e66[_0x4fb2a2(0x17c)]===_0x4fb2a2(0x176)&&(_0x588e66[_0x4fb2a2(0x19e)](),_0x253ede());}),_0x26823a[_0x2f3dd0(0x2b5)](_0x2f3dd0(0x297),function(){if(_0x325fa0)return;_0x39bcb8=setTimeout(()=>{_0x253ede(),_0x39bcb8=null;},0xc8);}),document[_0x2f3dd0(0x2b5)](_0x2f3dd0(0x2a3),function(_0x6fbd0c){var _0x258fb5=_0x2f3dd0;!_0x4a2cee['contains'](_0x6fbd0c['target'])&&_0x383205[_0x258fb5(0x179)]['add']('newItem_hidden');}),_0x509bad(),_0x18a587;}function getLastCode(_0x4b5b28){var _0x50448f=_0x169352;const _0x20c564=_0x4b5b28['map'](_0x1d9b81=>String(_0x1d9b81['setCodProducto'])[_0x50448f(0x1e0)]())[_0x50448f(0x291)](_0x530d09=>_0x530d09!=='');if(_0x20c564[_0x50448f(0x27e)]===0x0)return'';const _0x1a4b36=_0x20c564[_0x50448f(0x236)](_0x186054=>/^\d+$/[_0x50448f(0x1c3)](_0x186054));if(_0x1a4b36){const _0x9c9969=_0x20c564['map'](Number),_0x5ad322=Math['max'](..._0x9c9969);return String(_0x5ad322);}let _0x1798a4;if(typeof Intl!==_0x50448f(0x206)&&Intl['Collator']){const _0x49cced=new Intl[(_0x50448f(0x280))](undefined,{'numeric':!![],'sensitivity':_0x50448f(0x1e5)});_0x1798a4=_0x20c564[_0x50448f(0x186)]()[_0x50448f(0x22a)](_0x49cced[_0x50448f(0x295)]);}else{const _0x44379e=_0x20c564[_0x50448f(0x236)](_0x24d6c7=>/^\d+$/['test'](_0x24d6c7));_0x44379e?_0x1798a4=_0x20c564[_0x50448f(0x213)](Number)[_0x50448f(0x22a)]((_0x31ffdd,_0x4f6793)=>_0x31ffdd-_0x4f6793)[_0x50448f(0x213)](String):_0x1798a4=_0x20c564['slice']()[_0x50448f(0x22a)]();}return _0x1798a4[_0x1798a4[_0x50448f(0x27e)]-0x1];}function getNextCode(_0x33e815){var _0x248834=_0x169352;const _0x1b352e=getLastCode(_0x33e815);if(!_0x1b352e)return'';if(/^\d+$/[_0x248834(0x1c3)](_0x1b352e))return String(Number(_0x1b352e)+0x1);const _0x43e753=_0x1b352e[_0x248834(0x16d)](/^([A-Za-z]*)(\d+)$/);if(_0x43e753){const [,_0x4ca70e,_0x24995c]=_0x43e753,_0x190303=String(Number(_0x24995c)+0x1)[_0x248834(0x1ff)](_0x24995c[_0x248834(0x27e)],'0');return _0x4ca70e+_0x190303;}return _0x1b352e;}document[_0x169352(0x21d)](_0x169352(0x227))[_0x169352(0x2b5)](_0x169352(0x248),function(_0x3ceb78){var _0x1ff449=_0x169352;baseItem[_0x1ff449(0x189)]=_0x3ceb78[_0x1ff449(0x266)]['value'];}),document[_0x169352(0x21d)](_0x169352(0x269))[_0x169352(0x2b5)](_0x169352(0x248),function(_0x25780a){var _0x4fca54=_0x169352;baseItem[_0x4fca54(0x195)]=_0x25780a[_0x4fca54(0x266)][_0x4fca54(0x2b4)];}),document[_0x169352(0x21d)](_0x169352(0x1ae))[_0x169352(0x2b5)](_0x169352(0x248),function(_0x5d5bf3){var _0x4c434b=_0x169352;baseItem[_0x4c434b(0x1e7)]=_0x5d5bf3[_0x4c434b(0x266)]['value'];}),document[_0x169352(0x21d)](_0x169352(0x226))[_0x169352(0x2b5)]('change',function(_0x463e16){var _0x31f69b=_0x169352;baseItem['setItemType']=_0x463e16[_0x31f69b(0x266)][_0x31f69b(0x2b4)];}),document[_0x169352(0x21d)](_0x169352(0x1d7))[_0x169352(0x2b5)](_0x169352(0x214),function(_0x416a85){var _0x123871=_0x169352;baseItem[_0x123871(0x223)]=_0x416a85[_0x123871(0x266)][_0x123871(0x2b4)];const _0x54994c=_0x416a85[_0x123871(0x266)][_0x123871(0x2b4)],_0x433883=company[0x0]['setImpuestos'][_0x123871(0x1fa)](_0xf88ecf=>_0xf88ecf[_0x123871(0x25d)]==_0x54994c)?.[_0x123871(0x2ab)]||0x0,_0x15a2e3=company[0x0][_0x123871(0x298)][_0x123871(0x1fa)](_0x4ccb9f=>_0x4ccb9f[_0x123871(0x25d)]==_0x54994c)?.['setImpuestoValue']||0x0;baseItem[_0x123871(0x219)]=_0x433883,baseItem[_0x123871(0x1cc)]=_0x15a2e3;}),document['getElementById'](_0x169352(0x178))['addEventListener'](_0x169352(0x214),function(_0x3f3d04){var _0x32c665=_0x169352;baseItem[_0x32c665(0x1ab)]=_0x3f3d04[_0x32c665(0x266)]['checked'];}),document[_0x169352(0x21d)]('newItem_chk_sell')[_0x169352(0x2b5)](_0x169352(0x214),function(_0x1d66f8){var _0x5d70a9=_0x169352;baseItem['setItemIsSold']=_0x1d66f8[_0x5d70a9(0x266)][_0x5d70a9(0x1d3)];}),document[_0x169352(0x21d)](_0x169352(0x1c2))[_0x169352(0x2b5)](_0x169352(0x248),function(_0x5228d4){var _0x43d917=_0x169352;baseItem[_0x43d917(0x27a)]=_0x5228d4[_0x43d917(0x266)]['value'];}),document[_0x169352(0x21d)]('inputItemBarCode')[_0x169352(0x2b5)](_0x169352(0x248),function(_0x2f4275){var _0x273eb5=_0x169352;baseItem[_0x273eb5(0x1aa)]=_0x2f4275['target'][_0x273eb5(0x2b4)];}),document[_0x169352(0x21d)](_0x169352(0x1e8))['addEventListener'](_0x169352(0x2a3),function(){addUnit(),updateUnitsArray();}),document[_0x169352(0x21d)](_0x169352(0x1c2))[_0x169352(0x2b5)](_0x169352(0x297),function(){var _0x35931a=_0x169352;const _0x53bdca=this[_0x35931a(0x2b4)]['trim']();if(_0x53bdca==='')return;const _0x3bd09c=products[_0x35931a(0x1b2)](_0x44dfa6=>_0x44dfa6[_0x35931a(0x1f1)]==_0x53bdca),_0xcf8d21=getLastCode(products);_0x3bd09c?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0xcf8d21,0x2,0x1):ntfShow(_0x35931a(0x187),0x1,0x1);});function removeImg(_0x460ca9){var _0x6a5549=_0x169352;currentImages[_0x460ca9]=null;var _0x420bb2=imgC[_0x6a5549(0x22c)](_0x6a5549(0x198)+_0x460ca9+'\x22]');_0x420bb2[_0x6a5549(0x1dd)]='';var _0x261b10=document[_0x6a5549(0x18e)](_0x6a5549(0x248));_0x261b10[_0x6a5549(0x190)]='file',_0x261b10[_0x6a5549(0x1cd)]=_0x6a5549(0x1d8),_0x261b10['style'][_0x6a5549(0x1f5)]=_0x6a5549(0x21b);var _0x101d09=document[_0x6a5549(0x18e)](_0x6a5549(0x17d));_0x101d09[_0x6a5549(0x16c)]='+',_0x420bb2[_0x6a5549(0x276)](_0x261b10),_0x420bb2[_0x6a5549(0x276)](_0x101d09),_0x420bb2['addEventListener']('click',function(){var _0x20d412=_0x6a5549;_0x261b10[_0x20d412(0x2a3)]();}),baseItem[_0x6a5549(0x27c)]=currentImages[_0x6a5549(0x291)](function(_0x572333){return _0x572333;});}function addUnit(_0xca8042,_0x3da382,_0x23f0d1,_0x4e7255,_0x310146,_0xe0129,_0x3ae654){var _0x5d0b39=_0x169352,_0x4c8ebe=uniqueValuesArray('setUnitCode','setUnitName',myCompany[_0x5d0b39(0x1b3)]);_0xca8042=_0xca8042||'',_0x3da382=_0x3da382||_0x4c8ebe[0x3a]&&_0x4c8ebe[0x3a][_0x5d0b39(0x17a)]||'',_0x23f0d1=_0x23f0d1!==undefined?_0x23f0d1:0x1,_0x4e7255=!!_0x4e7255,_0x310146=_0x310146||'',_0xe0129=_0xe0129||'';var _0x10a71a=unitCount++,_0x1c616f=document[_0x5d0b39(0x18e)](_0x5d0b39(0x287));_0x1c616f['dataset'][_0x5d0b39(0x185)]=_0x10a71a,_0x1c616f[_0x5d0b39(0x250)][_0x5d0b39(0x20f)]=_0x4e7255,_0x1c616f[_0x5d0b39(0x1dd)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x10a71a+'\x22\x20value=\x22'+_0xca8042+_0x5d0b39(0x205)+_0x10a71a+'\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22'+_0x10a71a+_0x5d0b39(0x1ba)+_0x23f0d1+'\x22\x20'+(_0x4e7255?_0x5d0b39(0x19b):'')+_0x5d0b39(0x29b)+_0x10a71a+_0x5d0b39(0x1ba)+_0x310146+_0x5d0b39(0x17b)+_0x10a71a+_0x5d0b39(0x1ba)+_0xe0129+_0x5d0b39(0x1f4)+(_0x4e7255?_0x5d0b39(0x1c1):'')+_0x5d0b39(0x18d),fillSelect(_0x1c616f['querySelector'](_0x5d0b39(0x258)),_0x4c8ebe,'setCode',_0x5d0b39(0x19a)),_0x1c616f['querySelector'](_0x5d0b39(0x258))[_0x5d0b39(0x2b4)]=_0x3da382,[_0x5d0b39(0x1fc),_0x5d0b39(0x270),_0x5d0b39(0x255),_0x5d0b39(0x1d9),_0x5d0b39(0x2a7)][_0x5d0b39(0x193)](function(_0x2680b4){var _0x580e64=_0x5d0b39;_0x1c616f[_0x580e64(0x22c)]('.'+_0x2680b4)[_0x580e64(0x2b5)]('input',function(){var _0x1e64f9=_0x580e64,_0x3592f8=_0x3ae654?+_0x3ae654['id'][_0x1e64f9(0x261)]('_')[0x1]:null;if(_0x3ae654)updateVariantUnits(_0x3592f8);else updateUnitsArray();});}),_0x1c616f[_0x5d0b39(0x22c)]('.removeUnit')[_0x5d0b39(0x2b5)]('click',function(){var _0x293552=_0x5d0b39;_0x1c616f[_0x293552(0x23d)]();var _0x2969b1=_0x3ae654?+_0x3ae654['id'][_0x293552(0x261)]('_')[0x1]:null;if(_0x3ae654)updateVariantUnits(_0x2969b1);else updateUnitsArray();});var _0x409696=_0x3ae654||document[_0x5d0b39(0x21d)](_0x5d0b39(0x1dc));_0x409696[_0x5d0b39(0x276)](_0x1c616f);}function containerIdx(_0x5133cb){var _0x40e5b5=_0x169352;return+_0x5133cb['id'][_0x40e5b5(0x261)]('_')[0x1];}function updateUnitsArray(){var _0x27cea8=_0x169352,_0x54918c=[],_0x2280ec=Array['from'](document[_0x27cea8(0x262)](_0x27cea8(0x256))),_0x12f435=_0x2280ec[_0x27cea8(0x1fa)](_0x5da244=>_0x5da244[_0x27cea8(0x250)][_0x27cea8(0x20f)]===_0x27cea8(0x26e)),_0x1ee2ce=_0x12f435?+_0x12f435[_0x27cea8(0x22c)]('.eqInput')[_0x27cea8(0x2b4)]:0x1;_0x2280ec[_0x27cea8(0x193)](function(_0x374329){var _0x2005e5=_0x27cea8,_0x559d7f=+_0x374329['querySelector']('.eqInput')[_0x2005e5(0x2b4)]||0x0,_0x3a3b52=+_0x374329[_0x2005e5(0x22c)](_0x2005e5(0x1bf))[_0x2005e5(0x2b4)]||0x0,_0x2e44a8=+_0x374329[_0x2005e5(0x22c)]('.costInput')[_0x2005e5(0x2b4)]||0x0;_0x54918c[_0x2005e5(0x292)]({'setAlias':_0x374329[_0x2005e5(0x22c)](_0x2005e5(0x1bc))['value']['trim'](),'setUnitCode':_0x374329[_0x2005e5(0x22c)]('.unitSelect')['value'],'setEquivalence':_0x559d7f,'setFactor':_0x374329[_0x2005e5(0x250)][_0x2005e5(0x20f)]==='true'?0x1:_0x559d7f==_0x1ee2ce?0x1:_0x559d7f<_0x1ee2ce?_0x1ee2ce/_0x559d7f:_0x559d7f/_0x1ee2ce,'setPrice':_0x3a3b52,'setCost':_0x2e44a8,'setDefault':_0x374329['dataset'][_0x2005e5(0x20f)]==='true'?0x1:0x0});}),baseItem['setItemUnits']=_0x54918c;}function updateBranches(){var _0x401f9f=_0x169352,_0x38f9c5=[];document['querySelectorAll'](_0x401f9f(0x1d6))['forEach'](function(_0x4ca840){var _0x18835d=_0x401f9f,_0x13aad4=_0x4ca840[_0x18835d(0x22c)]('.branchChk');if(_0x13aad4[_0x18835d(0x1d3)]){var _0x17f6a6=+_0x13aad4['dataset']['id'],_0x128c2b=+_0x4ca840['querySelector'](_0x18835d(0x16e))[_0x18835d(0x2b4)],_0x577b35=+_0x4ca840['querySelector'](_0x18835d(0x2a0))[_0x18835d(0x2b4)];_0x38f9c5['push']({'setWarehouseCode':_0x17f6a6,'setStockInitial':_0x128c2b,'setStockMinimum':_0x577b35});}}),baseItem[_0x401f9f(0x273)]=_0x38f9c5;}document[_0x169352(0x21d)](_0x169352(0x28c))[_0x169352(0x2b5)]('click',function(){var _0x28c6ab=_0x169352,_0x514f9d=Date[_0x28c6ab(0x20a)](),_0x3cc691=document[_0x28c6ab(0x18e)](_0x28c6ab(0x287));_0x3cc691[_0x28c6ab(0x250)][_0x28c6ab(0x185)]=_0x514f9d,_0x3cc691['innerHTML']='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x514f9d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x514f9d+_0x28c6ab(0x1de),prodC[_0x28c6ab(0x276)](_0x3cc691),initProdSearch(_0x3cc691[_0x28c6ab(0x22c)](_0x28c6ab(0x26c))),_0x3cc691[_0x28c6ab(0x22c)](_0x28c6ab(0x28d))[_0x28c6ab(0x2b5)](_0x28c6ab(0x2a3),function(){_0x3cc691['remove'](),updateProdItems();}),_0x3cc691['querySelector']('.prodQty')['addEventListener'](_0x28c6ab(0x248),updateProdItems),document['getElementById'](_0x28c6ab(0x1a6))[_0x28c6ab(0x179)][_0x28c6ab(0x2b3)]('newItem_title_table',!![]),document['getElementById'](_0x28c6ab(0x1a6))[_0x28c6ab(0x179)][_0x28c6ab(0x2b3)](_0x28c6ab(0x271),![]);});function initProdSearch(_0x113e5f,_0xb72ca1){var _0x390a69=_0x169352,_0x42e49a=_0x113e5f[_0x390a69(0x22c)](_0x390a69(0x231)),_0x46dea4=_0x113e5f[_0x390a69(0x22c)]('.options_list'),_0x637d03=_0xb72ca1||null;if(_0xb72ca1)_0x42e49a[_0x390a69(0x2b4)]=_0xb72ca1[_0x390a69(0x177)];_0x42e49a[_0x390a69(0x2b5)](_0x390a69(0x248),function(){var _0x8873aa=_0x390a69,_0x399537=_0x42e49a[_0x8873aa(0x2b4)][_0x8873aa(0x1b8)]()[_0x8873aa(0x1e0)]();_0x46dea4[_0x8873aa(0x1dd)]='';if(!_0x399537)return;products[_0x8873aa(0x291)](_0xf7d517=>_0xf7d517[_0x8873aa(0x22f)][_0x8873aa(0x1b8)]()[_0x8873aa(0x207)](_0x399537))[_0x8873aa(0x186)](0x0,0x14)[_0x8873aa(0x193)](function(_0x3a46c4){var _0x5df312=_0x8873aa,_0x171e76=document[_0x5df312(0x18e)](_0x5df312(0x287));_0x171e76['textContent']=_0x3a46c4[_0x5df312(0x22f)],_0x171e76[_0x5df312(0x250)]['id']=_0x3a46c4['id'],_0x171e76[_0x5df312(0x250)][_0x5df312(0x177)]=_0x3a46c4[_0x5df312(0x22f)],_0x46dea4[_0x5df312(0x276)](_0x171e76),_0x171e76[_0x5df312(0x2b5)](_0x5df312(0x2a3),function(){var _0x59e992=_0x5df312;_0x637d03={'id':_0x3a46c4['id'],'name':_0x3a46c4[_0x59e992(0x22f)]},_0x42e49a[_0x59e992(0x2b4)]=_0x3a46c4['setDescripcion'],_0x46dea4[_0x59e992(0x1dd)]='';var _0x3db368=_0x113e5f[_0x59e992(0x194)](_0x59e992(0x25c));if(_0x3db368){var _0x3a9c21=+_0x3db368['id'][_0x59e992(0x261)]('_')[0x1];updateVariantComponents(_0x3a9c21);}else updateProdItems();});});}),_0x42e49a[_0x390a69(0x2b5)](_0x390a69(0x232),function(){var _0x2da8bf=_0x390a69;_0x46dea4[_0x2da8bf(0x179)][_0x2da8bf(0x23d)]('newItem_hidden');}),document[_0x390a69(0x2b5)](_0x390a69(0x2a3),function(_0xe167ec){var _0x4ed1e4=_0x390a69;if(!_0x113e5f['contains'](_0xe167ec[_0x4ed1e4(0x266)]))_0x46dea4[_0x4ed1e4(0x179)][_0x4ed1e4(0x181)](_0x4ed1e4(0x271));}),Object[_0x390a69(0x228)](_0x113e5f,_0x390a69(0x23c),{'get':()=>_0x637d03});}function updateProdItems(){var _0x397732=_0x169352,_0x11192d=[];Array['from'](prodC[_0x397732(0x197)])[_0x397732(0x193)](function(_0x154ae0){var _0x518439=_0x397732,_0x1012cb=_0x154ae0[_0x518439(0x22c)](_0x518439(0x26c));if(!_0x1012cb)return;var _0x1da9c3=_0x154ae0[_0x518439(0x22c)](_0x518439(0x1f9)),_0x46d49d=_0x1012cb['selectedItem'];_0x46d49d&&_0x11192d[_0x518439(0x292)]({'setItemId':_0x46d49d['id'],'setDescripcion':_0x46d49d['name'],'setCantidad':+_0x1da9c3[_0x518439(0x2b4)]});}),baseItem['setItemComponents']=_0x11192d,_0x11192d['length']===0x0&&(document[_0x397732(0x21d)]('newItem_title_table_cp')[_0x397732(0x179)]['toggle'](_0x397732(0x1d1),![]),document[_0x397732(0x21d)](_0x397732(0x1a6))[_0x397732(0x179)][_0x397732(0x2b3)]('newItem_hidden',!![]));}document['getElementById'](_0x169352(0x230))['addEventListener']('click',function(){var _0x63f990=_0x169352,_0x232a6b=vgCount++,_0x186100=document[_0x63f990(0x18e)]('div');_0x186100[_0x63f990(0x250)][_0x63f990(0x185)]=_0x232a6b,_0x186100['innerHTML']=_0x63f990(0x2a9)+_0x232a6b+'\x22>'+_0x63f990(0x29e)+_0x232a6b+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x63f990(0x276)](_0x186100),_0x186100[_0x63f990(0x22c)](_0x63f990(0x235))[_0x63f990(0x2b5)](_0x63f990(0x297),generateVariants),_0x186100[_0x63f990(0x22c)](_0x63f990(0x28a))['addEventListener']('blur',generateVariants),_0x186100[_0x63f990(0x22c)](_0x63f990(0x1d4))[_0x63f990(0x2b5)](_0x63f990(0x2a3),function(){var _0x15f70e=_0x63f990;_0x186100[_0x15f70e(0x23d)](),generateVariants();});});function generateVariants(){var _0x236123=_0x169352,_0x1dbcb2=[];vgC[_0x236123(0x262)](_0x236123(0x287))[_0x236123(0x193)](function(_0x13dd89){var _0x17b4d3=_0x236123,_0x3dbe1c=_0x13dd89[_0x17b4d3(0x22c)](_0x17b4d3(0x235))[_0x17b4d3(0x2b4)][_0x17b4d3(0x1e0)](),_0x20de4d=_0x13dd89['querySelector'](_0x17b4d3(0x28a))[_0x17b4d3(0x2b4)][_0x17b4d3(0x261)](',')[_0x17b4d3(0x213)](_0x5a561c=>_0x5a561c[_0x17b4d3(0x1e0)]())[_0x17b4d3(0x291)](_0x4620db=>_0x4620db);if(_0x3dbe1c&&_0x20de4d[_0x17b4d3(0x27e)])_0x1dbcb2[_0x17b4d3(0x292)]({'name':_0x3dbe1c,'vals':_0x20de4d});});var _0x236216=[{}];_0x1dbcb2[_0x236123(0x193)](function(_0x9d1287){var _0x20756c=_0x236123;_0x236216=_0x236216[_0x20756c(0x2b0)](function(_0x3e26d4){var _0x254f2f=_0x20756c;return _0x9d1287['vals'][_0x254f2f(0x213)](function(_0x123d85){var _0x1a6eda=_0x254f2f,_0x2ce05f=Object['assign']({},_0x3e26d4);return _0x2ce05f[_0x9d1287[_0x1a6eda(0x177)]]=_0x123d85,_0x2ce05f;});});}),newItems=[],varContainer[_0x236123(0x1dd)]='',_0x236216[_0x236123(0x193)](function(_0x253ccd,_0x201b6a){var _0x42ddbb=_0x236123,_0x134aef=JSON['parse'](JSON[_0x42ddbb(0x290)](baseItem));_0x134aef[_0x42ddbb(0x1fd)]=_0x253ccd,_0x134aef[_0x42ddbb(0x1f7)]=baseItem['setItemName']+'\x20'+Object[_0x42ddbb(0x23e)](_0x253ccd)[_0x42ddbb(0x213)](_0x513c96=>_0x513c96[0x0]+'\x20'+_0x513c96[0x1])[_0x42ddbb(0x184)]('\x20'),newItems['push'](_0x134aef);var _0x19d07c=document[_0x42ddbb(0x18e)](_0x42ddbb(0x287));_0x19d07c[_0x42ddbb(0x179)][_0x42ddbb(0x181)](_0x42ddbb(0x1f8)),_0x19d07c[_0x42ddbb(0x250)][_0x42ddbb(0x185)]=_0x201b6a,_0x19d07c[_0x42ddbb(0x1dd)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x134aef[_0x42ddbb(0x1f7)]+_0x42ddbb(0x2a6)+_0x134aef[_0x42ddbb(0x27a)]+_0x42ddbb(0x1c8)+_0x134aef[_0x42ddbb(0x1aa)]+_0x42ddbb(0x23b)+_0x134aef[_0x42ddbb(0x1e7)]+_0x42ddbb(0x215)+_0x201b6a+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x201b6a+_0x42ddbb(0x19c)+_0x201b6a+_0x42ddbb(0x1ed),varContainer['appendChild'](_0x19d07c),_0x19d07c[_0x42ddbb(0x22c)](_0x42ddbb(0x173))[_0x42ddbb(0x2b5)](_0x42ddbb(0x248),_0x3e4f59=>newItems[_0x201b6a][_0x42ddbb(0x27a)]=_0x3e4f59[_0x42ddbb(0x266)][_0x42ddbb(0x2b4)]),_0x19d07c[_0x42ddbb(0x22c)](_0x42ddbb(0x241))[_0x42ddbb(0x2b5)]('input',_0x10b5d8=>newItems[_0x201b6a]['setItemBarCode']=_0x10b5d8[_0x42ddbb(0x266)]['value']),_0x19d07c[_0x42ddbb(0x22c)]('.variantExpiry')['addEventListener'](_0x42ddbb(0x214),_0x4809cb=>newItems[_0x201b6a]['setItemDateExpiry']=_0x4809cb[_0x42ddbb(0x266)][_0x42ddbb(0x2b4)]),initVariantUnits(_0x201b6a),initVariantComponents(_0x201b6a),initVariantBranches(_0x201b6a),_0x19d07c[_0x42ddbb(0x22c)]('.removeVariant')['addEventListener']('click',function(){var _0x5c4981=_0x42ddbb,_0x49d378=+_0x19d07c['dataset'][_0x5c4981(0x185)];newItems['splice'](_0x49d378,0x1),_0x19d07c[_0x5c4981(0x23d)](),document[_0x5c4981(0x262)]('.variantForm')[_0x5c4981(0x193)](function(_0x15dc68,_0x17c734){var _0x133949=_0x5c4981;_0x15dc68[_0x133949(0x250)][_0x133949(0x185)]=_0x17c734;});});});if(newItems[_0x236123(0x27e)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x25a9eb){var _0x6d5360=_0x169352,_0x3db65b=document[_0x6d5360(0x21d)]('variant_'+_0x25a9eb+'_units_container'),_0x4a902e=[];Array['from'](_0x3db65b[_0x6d5360(0x197)])[_0x6d5360(0x193)](function(_0x34d6d9){var _0xbc056c=_0x6d5360,_0x3428ac=+_0x34d6d9['querySelector'](_0xbc056c(0x2a2))['value']||0x0,_0x1e9385=_0x34d6d9['querySelector'](_0xbc056c(0x1bc))[_0xbc056c(0x2b4)][_0xbc056c(0x1e0)](),_0x138520=_0x34d6d9[_0xbc056c(0x22c)]('.unitSelect')[_0xbc056c(0x2b4)],_0x3b1050=+_0x34d6d9[_0xbc056c(0x22c)]('.priceInput')[_0xbc056c(0x2b4)]||0x0,_0x48c3f9=+_0x34d6d9[_0xbc056c(0x22c)](_0xbc056c(0x1fe))['value']||0x0,_0x1baef2=_0x34d6d9[_0xbc056c(0x250)][_0xbc056c(0x20f)]===_0xbc056c(0x26e),_0x3b8a79=+_0x3db65b[_0xbc056c(0x22c)]('div[data-default=\x22true\x22]\x20.eqInput')[_0xbc056c(0x2b4)]||0x1,_0x20c971=_0x1baef2?0x1:_0x3428ac==_0x3b8a79?0x1:_0x3428ac<_0x3b8a79?_0x3b8a79/_0x3428ac:_0x3428ac/_0x3b8a79;_0x4a902e[_0xbc056c(0x292)]({'setAlias':_0x1e9385,'setUnitCode':_0x138520,'setEquivalence':_0x3428ac,'setFactor':_0x20c971,'setPrice':_0x3b1050,'setCost':_0x48c3f9,'setDefault':_0x1baef2?0x1:0x0});}),newItems[_0x25a9eb][_0x6d5360(0x19f)]=_0x4a902e;}function initVariantUnits(_0x310f9a){var _0x4556b2=_0x169352,_0x3f486e=document['getElementById'](_0x4556b2(0x2a8)+_0x310f9a+'_units_container');_0x3f486e[_0x4556b2(0x1dd)]='',newItems[_0x310f9a][_0x4556b2(0x19f)][_0x4556b2(0x193)](function(_0x1d80e4){var _0x31db94=_0x4556b2;addUnit(_0x1d80e4['setAlias'],_0x1d80e4[_0x31db94(0x1be)],_0x1d80e4['setEquivalence'],_0x1d80e4[_0x31db94(0x204)],_0x1d80e4[_0x31db94(0x243)],_0x1d80e4[_0x31db94(0x1ce)],_0x3f486e);}),_0x3f486e[_0x4556b2(0x174)][_0x4556b2(0x22c)]('.addVariantUnit')['addEventListener']('click',function(){addUnit('','',0x1,![],'','',_0x3f486e),updateVariantUnits(_0x310f9a);});}function updateVariantUnits(_0x7baecd){var _0x29d05f=_0x169352,_0x3d13e9=document[_0x29d05f(0x21d)]('variant_'+_0x7baecd+_0x29d05f(0x18c)),_0x515d73=_0x3d13e9['querySelector'](_0x29d05f(0x1b4)),_0x230734=_0x515d73?+_0x515d73['value']:0x1,_0xc99d55=Array[_0x29d05f(0x28f)](_0x3d13e9[_0x29d05f(0x197)])[_0x29d05f(0x213)](function(_0x5eee8b){var _0x51c518=_0x29d05f,_0x402f81=_0x5eee8b['querySelector'](_0x51c518(0x1bc))[_0x51c518(0x2b4)]['trim'](),_0x15d961=_0x5eee8b['querySelector']('.unitSelect')[_0x51c518(0x2b4)],_0x1d3ec7=+_0x5eee8b['querySelector'](_0x51c518(0x2a2))[_0x51c518(0x2b4)]||0x0,_0x2d03de=+_0x5eee8b['querySelector']('.priceInput')[_0x51c518(0x2b4)]||0x0,_0x4d0c04=+_0x5eee8b[_0x51c518(0x22c)]('.costInput')[_0x51c518(0x2b4)]||0x0,_0x3837b0=_0x5eee8b[_0x51c518(0x250)]['default']===_0x51c518(0x26e);return{'setAlias':_0x402f81,'setUnitCode':_0x15d961,'setEquivalence':_0x1d3ec7,'setFactor':_0x3837b0?0x1:_0x1d3ec7==_0x230734?0x1:_0x1d3ec7<_0x230734?_0x230734/_0x1d3ec7:_0x1d3ec7/_0x230734,'setPrice':_0x2d03de,'setCost':_0x4d0c04,'setDefault':_0x3837b0?0x1:0x0};});newItems[_0x7baecd][_0x29d05f(0x19f)]=_0xc99d55;}function initVariantComponents(_0x5dc6bd){var _0x176fa1=_0x169352,_0x595c1c=document[_0x176fa1(0x21d)]('variant_'+_0x5dc6bd+_0x176fa1(0x1db));_0x595c1c['innerHTML']='',newItems[_0x5dc6bd][_0x176fa1(0x25a)][_0x176fa1(0x193)](function(_0x3bcfbe){var _0x146a4e=_0x176fa1,_0x246289=document['createElement'](_0x146a4e(0x287)),_0x15cace=Date[_0x146a4e(0x20a)]();_0x246289[_0x146a4e(0x250)][_0x146a4e(0x185)]=_0x15cace,_0x246289[_0x146a4e(0x1dd)]=_0x146a4e(0x1a8)+_0x15cace+_0x146a4e(0x21e)+_0x3bcfbe[_0x146a4e(0x246)]+_0x146a4e(0x1df),_0x595c1c[_0x146a4e(0x276)](_0x246289),initProdSearch(_0x246289[_0x146a4e(0x22c)](_0x146a4e(0x26c)),{'id':_0x3bcfbe[_0x146a4e(0x275)],'name':_0x3bcfbe['setDescripcion']}),_0x246289['querySelector'](_0x146a4e(0x1f9))['addEventListener'](_0x146a4e(0x248),function(){updateVariantComponents(_0x5dc6bd);}),_0x246289['querySelector']('.removeCombo')[_0x146a4e(0x2b5)](_0x146a4e(0x2a3),function(){var _0x19f617=_0x146a4e;_0x246289[_0x19f617(0x23d)](),updateVariantComponents(_0x5dc6bd);});}),_0x595c1c[_0x176fa1(0x174)]['querySelector']('.addVariantComp')[_0x176fa1(0x2b5)](_0x176fa1(0x2a3),function(){var _0x3c7fa4=_0x176fa1,_0x4f61c9=document['createElement'](_0x3c7fa4(0x287)),_0x4a415d=Date[_0x3c7fa4(0x20a)]();_0x4f61c9[_0x3c7fa4(0x250)][_0x3c7fa4(0x185)]=_0x4a415d,_0x4f61c9[_0x3c7fa4(0x1dd)]=_0x3c7fa4(0x1a8)+_0x4a415d+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x595c1c[_0x3c7fa4(0x276)](_0x4f61c9),initProdSearch(_0x4f61c9['querySelector'](_0x3c7fa4(0x26c))),_0x4f61c9[_0x3c7fa4(0x22c)](_0x3c7fa4(0x1f9))[_0x3c7fa4(0x2b5)](_0x3c7fa4(0x248),function(){updateVariantComponents(_0x5dc6bd);}),_0x4f61c9[_0x3c7fa4(0x22c)](_0x3c7fa4(0x1c7))['addEventListener'](_0x3c7fa4(0x2a3),function(){var _0x42e9b8=_0x3c7fa4;_0x4f61c9[_0x42e9b8(0x23d)](),updateVariantComponents(_0x5dc6bd);});});}function updateVariantComponents(_0x3f691c){var _0x59d557=_0x169352,_0x3bfa8a=document['getElementById'](_0x59d557(0x2a8)+_0x3f691c+_0x59d557(0x1db)),_0x1bbe6b=Array[_0x59d557(0x28f)](_0x3bfa8a[_0x59d557(0x197)])[_0x59d557(0x213)](function(_0xae9fb9){var _0x9b14e0=_0x59d557,_0x55f26c=_0xae9fb9[_0x9b14e0(0x22c)]('.prod_input_container'),_0x3bcda5=_0x55f26c[_0x9b14e0(0x23c)],_0x1b0e42=+_0xae9fb9[_0x9b14e0(0x22c)](_0x9b14e0(0x1f9))['value']||0x0;return _0x3bcda5?{'setItemId':_0x3bcda5['id'],'setDescripcion':_0x3bcda5['name'],'setCantidad':_0x1b0e42}:null;})[_0x59d557(0x291)](_0x857e25=>_0x857e25);newItems[_0x3f691c][_0x59d557(0x25a)]=_0x1bbe6b;}function initVariantBranches(_0x3b27bf){var _0x1b122c=_0x169352;const _0x554644=getAllWarehouses();var _0x5919f7=document[_0x1b122c(0x21d)](_0x1b122c(0x2a8)+_0x3b27bf+'_branch_container');_0x5919f7[_0x1b122c(0x1dd)]='',newItems[_0x3b27bf][_0x1b122c(0x273)]['forEach'](function(_0x1632d3){var _0x4fb11f=_0x1b122c,_0x27fadc=_0x554644[_0x4fb11f(0x1fa)](_0x34ce73=>_0x34ce73[_0x4fb11f(0x23f)]==_0x1632d3[_0x4fb11f(0x224)]),_0x5d765e=document['createElement'](_0x4fb11f(0x287));_0x5d765e['innerHTML']=_0x4fb11f(0x209)+_0x1632d3[_0x4fb11f(0x224)]+_0x4fb11f(0x220)+_0x27fadc[_0x4fb11f(0x1b9)]+_0x4fb11f(0x1a3)+_0x1632d3['setWarehouseCode']+_0x4fb11f(0x1ba)+_0x1632d3['setStockInitial']+_0x4fb11f(0x24f)+_0x1632d3['setWarehouseCode']+'\x22\x20value=\x22'+_0x1632d3[_0x4fb11f(0x279)]+'\x22>',_0x5919f7['appendChild'](_0x5d765e),_0x5d765e['querySelectorAll'](_0x4fb11f(0x248))['forEach'](function(_0x55d6b1){var _0x4ffa5d=_0x4fb11f;_0x55d6b1[_0x4ffa5d(0x2b5)](_0x4ffa5d(0x248),function(){updateVariantBranches(_0x3b27bf);});});}),_0x554644['forEach'](function(_0x4009f4){var _0x52db3a=_0x1b122c;if(!newItems[_0x3b27bf][_0x52db3a(0x273)][_0x52db3a(0x1fa)](_0x5edd57=>_0x5edd57[_0x52db3a(0x224)]===_0x4009f4[_0x52db3a(0x23f)])){var _0x254826=document[_0x52db3a(0x18e)](_0x52db3a(0x287));_0x254826[_0x52db3a(0x1dd)]=_0x52db3a(0x209)+_0x4009f4[_0x52db3a(0x23f)]+_0x52db3a(0x286)+_0x4009f4[_0x52db3a(0x1b9)]+_0x52db3a(0x1a3)+_0x4009f4[_0x52db3a(0x23f)]+_0x52db3a(0x24f)+_0x4009f4[_0x52db3a(0x23f)]+'\x22>',_0x5919f7[_0x52db3a(0x276)](_0x254826),_0x254826[_0x52db3a(0x262)](_0x52db3a(0x248))['forEach'](function(_0x3c4d2b){var _0x275f9d=_0x52db3a;_0x3c4d2b[_0x275f9d(0x2b5)](_0x275f9d(0x248),function(){updateVariantBranches(_0x3b27bf);});});}});}function updateVariantBranches(_0x2389a2){var _0x4a7d63=_0x169352,_0x209099=document[_0x4a7d63(0x21d)](_0x4a7d63(0x2a8)+_0x2389a2+_0x4a7d63(0x293)),_0x2828f0=[];_0x209099[_0x4a7d63(0x262)](_0x4a7d63(0x287))[_0x4a7d63(0x193)](function(_0x3f360e){var _0x210084=_0x4a7d63,_0x276e8b=_0x3f360e[_0x210084(0x22c)]('.branchChk');if(_0x276e8b['checked']){var _0x484d5d=+_0x276e8b['dataset']['id'],_0x6740f3=+_0x3f360e[_0x210084(0x22c)]('.branchInit')[_0x210084(0x2b4)]||0x0,_0x552170=+_0x3f360e[_0x210084(0x22c)]('.branchMin')['value']||0x0;_0x2828f0[_0x210084(0x292)]({'setWarehouseCode':_0x484d5d,'setStockInitial':_0x6740f3,'setStockMinimum':_0x552170});}}),newItems[_0x2389a2][_0x4a7d63(0x273)]=_0x2828f0;}async function storeOfflineProduct(_0x1d1db9){var _0x22eb2b=_0x169352;try{const _0x1b0bfd=await createCartStore(''),_0x25a765=_0x1b0bfd[_0x22eb2b(0x171)](_0x22eb2b(0x1ca),_0x22eb2b(0x257)),_0x49d45a=_0x25a765['objectStore']('offline_operations');_0x49d45a[_0x22eb2b(0x181)](_0x1d1db9),_0x25a765[_0x22eb2b(0x244)]=()=>{var _0x4dbeab=_0x22eb2b;console[_0x4dbeab(0x182)](_0x4dbeab(0x2b6));},_0x25a765[_0x22eb2b(0x1a0)]=_0x407e82=>{var _0x1ba779=_0x22eb2b;console['error'](_0x1ba779(0x23a),_0x407e82[_0x1ba779(0x266)]['error']);};}catch(_0x4cb97d){console['error'](_0x22eb2b(0x21f),_0x4cb97d);}}document[_0x169352(0x21d)](_0x169352(0x1c9))['addEventListener'](_0x169352(0x2a3),async function(_0x3a900e){var _0x291bac=_0x169352;_0x3a900e[_0x291bac(0x19e)]();const _0x3e3d97=document[_0x291bac(0x21d)]('inputItemCode'),_0x5f3911=document[_0x291bac(0x21d)]('setItemFree')[_0x291bac(0x2b4)];if(!_0x3e3d97['value'][_0x291bac(0x1e0)]()&&_0x5f3911==0x0){ntfShow(_0x291bac(0x1ee),0x2,0x1);return;}_0x5f3911==0x1&&(_0x3e3d97['value']='',baseItem[_0x291bac(0x27a)]='');const _0x36fcde=document[_0x291bac(0x21d)](_0x291bac(0x227));if(!_0x36fcde[_0x291bac(0x2b4)][_0x291bac(0x1e0)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x3872d7=document[_0x291bac(0x21d)](_0x291bac(0x21a));hideModalCreateItem(),showLoadingModal();newItems[_0x291bac(0x27e)]===0x0&&(newItems=[baseItem]);const _0x52929a=document[_0x291bac(0x21d)](_0x291bac(0x24d))[_0x291bac(0x2b4)],_0x1b73ba=window_options[_0x52929a][_0x291bac(0x268)],_0x43eddf=[];newItems[_0x291bac(0x193)](_0x2196a7=>{var _0x584358=_0x291bac;const _0x2d0ffb=generateNumericUniqId();_0x2196a7[_0x584358(0x19f)][_0x584358(0x193)](_0x337f9a=>{var _0x176786=_0x584358;const _0x41c045=generateNumericUniqId();_0x337f9a[_0x176786(0x274)]=_0x41c045;const _0x371108={'id':_0x41c045,'setIdProducto':_0x2d0ffb,'setCodProducto':_0x2196a7[_0x176786(0x27a)],'setDescripcion':_0x2196a7[_0x176786(0x189)],'setItemDescription':_0x2196a7['setItemDescription'],'setBatchExpirationDate':_0x2196a7[_0x176786(0x1e7)],'setBatchName':'','setCategoria':_0x2196a7[_0x176786(0x242)][0x0]||'','setMarca':_0x2196a7[_0x176786(0x225)][0x0]||'','setConversionFactor':parseFloat(_0x337f9a[_0x176786(0x1e6)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x2196a7['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x2196a7[_0x176786(0x1b0)]?0x1:0x0,'setPorcentajeIgv':_0x2196a7[_0x176786(0x1cc)],'setPrinters':[],'setTaxId':_0x2196a7[_0x176786(0x223)],'setTipAfeIgv':_0x2196a7[_0x176786(0x219)],'setUnidad':_0x337f9a[_0x176786(0x1be)],'setUnidadCodigo':_0x337f9a[_0x176786(0x1be)],'setItemUnitAlias':_0x337f9a[_0x176786(0x2ad)],'currency_data':[{'currency':_0x1b73ba,'setMtoPrecioCostoUnitario':_0x337f9a[_0x176786(0x1ce)],'setMtoPrecioUnitario':_0x337f9a[_0x176786(0x243)],'setPriceLists':[]}],'sucursales':_0x2196a7['setItemWarehouses'][_0x176786(0x213)](_0x136140=>({'setIdSucursal':_0x136140[_0x176786(0x224)],'setSucursalStock':_0x136140[_0x176786(0x264)]['toString'](),'setWarehouseStockMin':_0x136140[_0x176786(0x279)][_0x176786(0x221)]()})),'setItemFree':_0x2196a7[_0x176786(0x27b)],'setItemBarCode':_0x2196a7['setItemBarCode'],'setItemBrands':_0x2196a7['setItemBrands'][_0x176786(0x186)](),'setItemCategories':_0x2196a7['setItemCategories'][_0x176786(0x186)](),'setItemComponents':_0x2196a7[_0x176786(0x25a)][_0x176786(0x213)](_0x326023=>({..._0x326023})),'setItemImages':_0x2196a7['setItemImages'][_0x176786(0x186)](),'setItemVariantName':_0x2196a7[_0x176786(0x1f7)],'setItemVariantValues':{..._0x2196a7[_0x176786(0x1fd)]}};_0x43eddf['push'](_0x371108),(_0x3872d7[_0x176786(0x1d3)]||_0x5f3911==0x1)&&addToCart(_0x371108);});}),console['log'](_0x291bac(0x237),newItems),await finalizeImport(_0x43eddf,newItems,![]);}),[_0x169352(0x2b1),_0x169352(0x29c)][_0x169352(0x193)](_0x299931=>dropZone['addEventListener'](_0x299931,_0x309e5c=>{var _0xd223cd=_0x169352;_0x309e5c['preventDefault'](),dropZone[_0xd223cd(0x179)][_0xd223cd(0x181)](_0xd223cd(0x29c));})),['dragleave',_0x169352(0x217)][_0x169352(0x193)](_0x4c780f=>dropZone[_0x169352(0x2b5)](_0x4c780f,_0x1fa0cb=>{var _0x24d899=_0x169352;_0x1fa0cb[_0x24d899(0x19e)](),dropZone[_0x24d899(0x179)][_0x24d899(0x23d)](_0x24d899(0x29c));})),dropZone['addEventListener'](_0x169352(0x217),_0x36fd94=>{var _0x16ca53=_0x169352;const _0x5b8db7=_0x36fd94[_0x16ca53(0x201)][_0x16ca53(0x234)][0x0];if(!_0x5b8db7)return;fileInput[_0x16ca53(0x234)]=_0x36fd94['dataTransfer'][_0x16ca53(0x234)],dropZone[_0x16ca53(0x22c)](_0x16ca53(0x277))[_0x16ca53(0x16c)]=_0x5b8db7[_0x16ca53(0x177)],removeBtn['hidden']=![],fileInput[_0x16ca53(0x20b)](new Event(_0x16ca53(0x214)));}),removeBtn[_0x169352(0x2b5)]('click',()=>{var _0x2e83c1=_0x169352;fileInput['value']='',dropZone[_0x2e83c1(0x22c)](_0x2e83c1(0x277))['textContent']='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn['hidden']=!![],progressBar[_0x2e83c1(0x216)][_0x2e83c1(0x1f5)]=_0x2e83c1(0x21b),statusDiv['textContent']='',uploadBtn[_0x2e83c1(0x19b)]=!![];});const exportBtn=document[_0x169352(0x21d)](_0x169352(0x251));function _0x24c5(){var _0x43c2ae=['arrayBuffer','getElementById','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','Error\x20al\x20procesar\x20la\x20operación:','\x22\x20class=\x22branchChk\x22\x20checked>\x20','toString','closeModalCreateItem','setItemTaxId','setWarehouseCode','setItemBrands','inputItemType','inputItemName','defineProperty','done','sort','option','querySelector','ERROR:\x20plainProducts\x20no\x20serializable:','reduce','setDescripcion','newItem_btn_addVariantGroup','.prodInput','focus','#newItem_brands_select\x20.options_list','files','.vgName','every','Items\x20finales:','No\x20hay\x20items\x20para\x20exportar.','warn','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','selectedItem','remove','entries','setWarehouseId','90659ArSWnw','.variantBarCode','setItemCategories','setPrice','oncomplete','.ms_input','setCantidad','modalOverlayCreateItem','input','32176heZFbV','</div>','{}.constructor(\x22return\x20this\x22)(\x20)','3780898UFHRXI','windowId','setBatchExpirationDate','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','dataset','btnExportarItems','setItemCommissionPercentage','setMtoPrecioUnitario','setIdSucursal','eqInput','#newItem_units_container\x20>\x20div','readwrite','.unitSelect','.options_list','setItemComponents','tag','[id$=\x22_comp_container\x22]','setTaxId','Plantilla-Items-Export-','setImpuestoName','setPriceUSD','split','querySelectorAll','active','setStockInitial','1939OPalyX','target','search','setMoneda','inputItemDescription','detail','3628pKKKie','.prod_input_container','assign','true','Producto\x20Libre','unitSelect','newItem_hidden','44740cHIXnf','setItemWarehouses','setItemUnitId','setItemId','appendChild','.drop-zone__prompt','setMtoPrecioCostoUnitario','setStockMinimum','setItemCode','setItemFree','setItemImages','revokeObjectURL','length','#newItem_categories_select\x20.selected_tags','Collator','splice','.xlsx','inputItemBarCode','newItem_brands_select','percent','\x22\x20class=\x22branchChk\x22>\x20','div','currency_data','setTaxIdDefault','.vgVals','\x20items\x20procesados.','newItem_btn_addProdItem','.removeProd','download','from','stringify','filter','push','_branch_container','import','compare','info','blur','setImpuestos','error','.options_list\x20div','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','dragover','exportItems','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','return\x20(function()\x20','.branchMin','code','.eqInput','click','fill','setWarehouseStockMin','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','costInput','variant_','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setAuthToken','setImpuestoCode','setItemInventoriable','setAlias','newItem_variant_groups','mousedown','flatMap','dragenter','\x20items.','toggle','value','addEventListener','Producto\x20Guardado\x20Offline\x20Correctamente.','onmessage','textContent','match','.branchInit','❌\x20Error:\x20','table','transaction','1263bJjsiL','.variantCode','parentNode','setItemType','Enter','name','newItem_chk_buy','classList','setCode','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','key','span','selectionChange','setItemCategoryName','✅\x20Exportación\x20completada:\x20','add','log','setConversionFactor','join','idx','slice','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setCategoria','setItemName','createObjectURL','Nuevo\x20Producto','_units_container','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','createElement','setIdProducto','type','#newItem_brands_select\x20.selected_tags','sucursales','forEach','closest','setItemDescription','2iOkUAH','children','[data-idx=\x22','__proto__','setName','disabled','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','console','preventDefault','setItemUnits','onerror','detalleModalCreateItem','currentTarget','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','52etEtJn','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','newItem_title_table_cp','15fjHWTJ','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','message','setItemBarCode','setItemIsBought','USD','readAsDataURL','inputItemDateExpiry','setItemUnitAlias','setItemIsSold','setItemBrandName','some','setUnits','div[data-default=\x22true\x22]\x20.eqInput','</label>','100','setBatchName','toLowerCase','setWarehouseName','\x22\x20value=\x22','#newItem_categories_select\x20.options_list','.unitAlias','prototype','setUnitCode','.priceInput','newItem_images_container','style=\x22display:none\x22','inputItemCode','test','className','stopPropagation','setCostUSD','.removeCombo','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','btnItemSave','offline_operations','modalProductNewTitle','setItemTaxValue','accept','setCost','newItem_categories_select','Generando\x20Excel...','newItem_title_table','apply','checked','.removeGroup','constructor','#newItem_branches_container\x20>\x20div','inputItemTax','image/*','priceInput','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','_comp_container','newItem_units_container','innerHTML','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','trim','currency','(((.+)+)+)+$','trace','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','base','setFactor','setItemDateExpiry','newItem_btn_addUnit','bind','setUnidadCodigo','<div\x20class=\x22newItem_col\x22>','progress','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','Ingresa\x20el\x20código\x20del\x20item','onload','1741128ztRlid','setCodProducto','PEN','productType1','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','display','7384044WrUytT','setItemVariantName','variantForm','.prodQty','find','exception','unitAlias','setItemVariantValues','.costInput','padStart','hidden','dataTransfer','block','isArray','setDefault','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','undefined','includes','setWebhook','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','now','dispatchEvent','toISOString','2025DWdkDo','setMarca','default','setImpuestoValue','./js/apierp_item_wk.min.js','Error\x20al\x20obtener\x20la\x20plantilla:\x20','map','change','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','style','drop','findIndex','setItemTaxCode','newItem_addToCart','none'];_0x24c5=function(){return _0x43c2ae;};return _0x24c5();}exportBtn['addEventListener']('click',onClickExportarItems);async function onClickExportarItems(){var _0x192138=_0x169352;if(!Array[_0x192138(0x203)](products)||!products['length']){ntfShow(_0x192138(0x238));return;}try{const _0x459e52=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x459e52['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x114485=await _0x459e52[_0x192138(0x21c)](),_0x640dce=document[_0x192138(0x21d)](_0x192138(0x23f))['value'];let _0x515248=products;const _0x1458a8=getUserPermissionApiERP(0x2);_0x1458a8==0x1&&(_0x515248=products['filter'](_0x119fe9=>Array[_0x192138(0x203)](_0x119fe9[_0x192138(0x192)])&&_0x119fe9['sucursales'][_0x192138(0x1b2)](_0x4172dc=>String(_0x4172dc[_0x192138(0x254)])==String(_0x640dce))));const _0x1f0a1b=_0x515248[_0x192138(0x22e)]((_0x2fef4d,_0x485053)=>{var _0x3b8c22=_0x192138;const _0x18e801=_0x485053['setIdProducto'];if(!_0x2fef4d[_0x18e801])_0x2fef4d[_0x18e801]=[];return _0x2fef4d[_0x18e801][_0x3b8c22(0x292)](_0x485053),_0x2fef4d;},{}),_0x4c098a=Object['values'](_0x1f0a1b)[_0x192138(0x213)](_0x1f4fe2=>{var _0x5d12bf=_0x192138;const _0x3ce9ad=_0x1f4fe2[0x0],_0x2babb3=_0x1f4fe2[0x1]||{},_0x424369=_0x1f4fe2[0x2]||{};function _0x487a93(_0x5f167a,_0xcaf966,_0x30616c){var _0x3437d3=_0x3fa3;if(!_0x5f167a||!Array[_0x3437d3(0x203)](_0x5f167a[_0x3437d3(0x288)]))return'';const _0x2de570=_0x5f167a[_0x3437d3(0x288)][_0x3437d3(0x1fa)](_0x1dcb4a=>_0x1dcb4a[_0x3437d3(0x1e1)]===_0xcaf966);return _0x2de570?_0x2de570[_0x30616c]:'';}return{'id':_0x3ce9ad[_0x5d12bf(0x18f)],'setItemType':_0x3ce9ad[_0x5d12bf(0x175)],'setCodProducto':_0x3ce9ad[_0x5d12bf(0x1f1)],'setDescripcion':_0x3ce9ad[_0x5d12bf(0x22f)],'setItemDescription':_0x3ce9ad[_0x5d12bf(0x195)],'setItemIsSold':_0x3ce9ad['setItemIsSold'],'setItemIsBought':_0x3ce9ad[_0x5d12bf(0x1ab)],'setCategoria':_0x3ce9ad[_0x5d12bf(0x188)],'setMarca':_0x3ce9ad[_0x5d12bf(0x20e)],'setTaxId':_0x3ce9ad[_0x5d12bf(0x25d)],'setUnitId':_0x3ce9ad['id'],'setItemBarCode':_0x3ce9ad[_0x5d12bf(0x1aa)],'setUnidadCodigo':_0x3ce9ad[_0x5d12bf(0x1ea)],'setItemUnitAlias':_0x3ce9ad[_0x5d12bf(0x1af)]??'','PEN_setMtoPrecioUnitario':_0x487a93(_0x3ce9ad,_0x5d12bf(0x1f2),_0x5d12bf(0x253)),'PEN_setMtoPrecioCostoUnitario':_0x487a93(_0x3ce9ad,_0x5d12bf(0x1f2),_0x5d12bf(0x278)),'USD_setMtoPrecioUnitario':_0x487a93(_0x3ce9ad,_0x5d12bf(0x1ac),_0x5d12bf(0x253)),'USD_setMtoPrecioCostoUnitario':_0x487a93(_0x3ce9ad,'USD','setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x3ce9ad[_0x5d12bf(0x252)]?parseFloat(_0x3ce9ad[_0x5d12bf(0x252)]):'','setUnitId2':_0x2babb3['id']??'','setItemBarCode2':_0x2babb3['setItemBarCode']??'','setUnidadCodigo2':_0x2babb3[_0x5d12bf(0x1ea)]??'','setItemUnitAlias2':_0x2babb3[_0x5d12bf(0x1af)]??'','setUnidadEquivalencia2':_0x2babb3[_0x5d12bf(0x183)]??'','PEN_setMtoPrecioUnitario2':_0x487a93(_0x2babb3,_0x5d12bf(0x1f2),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x487a93(_0x2babb3,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x487a93(_0x2babb3,_0x5d12bf(0x1ac),_0x5d12bf(0x253))??'','USD_setMtoPrecioCostoUnitario2':_0x487a93(_0x2babb3,_0x5d12bf(0x1ac),'setMtoPrecioCostoUnitario')??'','setItemCommissionPercentage2':_0x2babb3[_0x5d12bf(0x252)]?parseFloat(_0x2babb3[_0x5d12bf(0x252)]):'','setUnitId3':_0x424369['id']??'','setItemBarCode3':_0x424369['setItemBarCode']??'','setUnidadCodigo3':_0x424369[_0x5d12bf(0x1ea)]??'','setItemUnitAlias3':_0x424369[_0x5d12bf(0x1af)]??'','setUnidadEquivalencia3':_0x424369['setConversionFactor']??'','PEN_setMtoPrecioUnitario3':_0x487a93(_0x424369,_0x5d12bf(0x1f2),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x487a93(_0x424369,_0x5d12bf(0x1f2),_0x5d12bf(0x278))??'','USD_setMtoPrecioUnitario3':_0x487a93(_0x424369,_0x5d12bf(0x1ac),_0x5d12bf(0x253))??'','USD_setMtoPrecioCostoUnitario3':_0x487a93(_0x424369,'USD',_0x5d12bf(0x278))??'','setItemCommissionPercentage3':_0x424369[_0x5d12bf(0x252)]?parseFloat(_0x424369[_0x5d12bf(0x252)]):'','setInventariable':_0x3ce9ad['setInventariable'],'setSucursalStock':_0x1458a8==0x1?_0x3ce9ad[_0x5d12bf(0x192)]['find'](_0x5230d7=>String(_0x5230d7[_0x5d12bf(0x254)])==String(_0x640dce))['setSucursalStock']:'','setWarehouseStockMin':_0x1458a8==0x1?_0x3ce9ad[_0x5d12bf(0x192)]['find'](_0x117c08=>String(_0x117c08[_0x5d12bf(0x254)])==String(_0x640dce))[_0x5d12bf(0x2a5)]:'','setBatchName':_0x3ce9ad[_0x5d12bf(0x1b7)],'setBatchExpirationDate':_0x3ce9ad[_0x5d12bf(0x24e)],..._0x3ce9ad[_0x5d12bf(0x1fd)]};});try{JSON[_0x192138(0x290)](_0x4c098a);}catch(_0xf5d2f6){console[_0x192138(0x299)](_0x192138(0x22d),_0xf5d2f6),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x192138(0x16c)]=_0x192138(0x1d0),progressBar[_0x192138(0x216)]['display']=_0x192138(0x202),progressBar['value']=0x0,itemWorker['postMessage']({'action':_0x192138(0x29d),'products':_0x4c098a,'plantillaBuf':_0x114485},[_0x114485]);}catch(_0x27bb02){console[_0x192138(0x299)](_0x27bb02),ntfShow(_0x192138(0x212)+_0x27bb02[_0x192138(0x1a9)]);}}itemWorker[_0x169352(0x16b)]=({data:_0x206c39})=>{var _0x106b7c=_0x169352;const {type:_0x346974,payload:_0x50cf87}=_0x206c39;_0x346974===_0x106b7c(0x1ec)&&(progressBar['style'][_0x106b7c(0x1f5)]=_0x106b7c(0x202),progressBar[_0x106b7c(0x2b4)]=_0x50cf87[_0x106b7c(0x285)],statusDiv[_0x106b7c(0x16c)]=_0x50cf87[_0x106b7c(0x1a9)]);_0x346974===_0x106b7c(0x229)&&(newItemsExcel=_0x50cf87['items'],statusDiv[_0x106b7c(0x16c)]='✅\x20'+newItemsExcel['length']+_0x106b7c(0x28b),uploadBtn[_0x106b7c(0x19b)]=![],progressBar[_0x106b7c(0x2b4)]=0x64,console[_0x106b7c(0x182)](newItemsExcel));_0x346974===_0x106b7c(0x299)&&(statusDiv['textContent']=_0x106b7c(0x16f)+_0x50cf87,progressBar[_0x106b7c(0x216)][_0x106b7c(0x1f5)]='none');if(_0x346974==='exportDone'){const {wbout:_0x24f080,count:_0x2eed5f}=_0x50cf87,_0x5bec61=new Blob([_0x24f080],{'type':'application/octet-stream'}),_0x2752aa=URL[_0x106b7c(0x18a)](_0x5bec61),_0x34f7c7=document[_0x106b7c(0x18e)]('a'),_0x5864a0=new Date()[_0x106b7c(0x20c)]()[_0x106b7c(0x186)](0x0,0xa);_0x34f7c7[_0x106b7c(0x28e)]=_0x106b7c(0x25e)+_0x5864a0+_0x106b7c(0x282),_0x34f7c7['href']=_0x2752aa,_0x34f7c7[_0x106b7c(0x2a3)](),URL[_0x106b7c(0x27d)](_0x2752aa),statusDiv['textContent']=_0x106b7c(0x180)+_0x2eed5f+_0x106b7c(0x2b2),progressBar[_0x106b7c(0x216)]['display']=_0x106b7c(0x21b);}},fileInput[_0x169352(0x2b5)](_0x169352(0x214),async _0x164b4f=>{var _0x12b411=_0x169352;const _0x47eae3=_0x164b4f['target'][_0x12b411(0x234)][0x0];if(!_0x47eae3)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style'][_0x12b411(0x1f5)]='none',dropZone['querySelector'](_0x12b411(0x277))[_0x12b411(0x16c)]=_0x47eae3[_0x12b411(0x177)],removeBtn[_0x12b411(0x200)]=![];try{const _0x279b07=await _0x47eae3[_0x12b411(0x21c)]();itemWorker['postMessage']({'action':_0x12b411(0x294),'buf':_0x279b07,'maxRows':0x1388});}catch(_0x26c46f){statusDiv[_0x12b411(0x16c)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0x12b411(0x2b4)]='';}}),uploadBtn[_0x169352(0x2b5)](_0x169352(0x2a3),async()=>{var _0x24fd52=_0x169352;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x4a3da1=document[_0x24fd52(0x21d)](_0x24fd52(0x23f))['value'],_0x4f7ae4=[];newItemsExcel[_0x24fd52(0x193)](_0x30ff85=>{var _0x166e77=_0x24fd52;const _0x1f66dd=Boolean(_0x30ff85['setItemId']),_0x114319=_0x1f66dd?_0x30ff85[_0x166e77(0x275)]:generateNumericUniqId();_0x30ff85[_0x166e77(0x273)]=[{'setStockInitial':_0x30ff85[_0x166e77(0x264)],'setStockMinimum':_0x30ff85['setStockMinimum'],'setWarehouseCode':_0x4a3da1}],_0x30ff85[_0x166e77(0x19f)][_0x166e77(0x193)](_0x4aadfa=>{var _0xb95e46=_0x166e77;const _0x46fceb=Boolean(_0x4aadfa['setItemUnitId']),_0x5ae850=_0x46fceb?_0x4aadfa[_0xb95e46(0x274)]:generateNumericUniqId();_0x4aadfa[_0xb95e46(0x274)]=_0x5ae850;const _0x4d5bfc=[];_0x4d5bfc['push']({'currency':_0xb95e46(0x1f2),'setMtoPrecioCostoUnitario':_0x4aadfa[_0xb95e46(0x1ce)],'setMtoPrecioUnitario':_0x4aadfa[_0xb95e46(0x243)],'setPriceLists':[]});const _0x14b315=_0x4aadfa[_0xb95e46(0x1c6)]!=null&&_0x4aadfa[_0xb95e46(0x260)]!=null&&(!isNaN(_0x4aadfa[_0xb95e46(0x1c6)])||!isNaN(_0x4aadfa[_0xb95e46(0x260)]));_0x14b315&&_0x4d5bfc[_0xb95e46(0x292)]({'currency':_0xb95e46(0x1ac),'setMtoPrecioCostoUnitario':_0x4aadfa[_0xb95e46(0x1c6)],'setMtoPrecioUnitario':_0x4aadfa['setPriceUSD'],'setPriceLists':[]});const _0x18735b={'id':_0x5ae850,'setIdProducto':_0x114319,'setItemBarCode':_0x4aadfa['setItemBarCode'],'setCodProducto':_0x30ff85[_0xb95e46(0x27a)],'setDescripcion':_0x30ff85[_0xb95e46(0x189)],'setItemDescription':_0x30ff85[_0xb95e46(0x195)],'setBatchExpirationDate':_0x30ff85[_0xb95e46(0x1e7)],'setBatchName':_0x30ff85[_0xb95e46(0x1b7)],'setItemIsSold':_0x30ff85[_0xb95e46(0x1b0)],'setItemIsBought':_0x30ff85['setItemIsBought'],'setCategoria':_0x30ff85['setItemCategories'][0x0]||'','setMarca':_0x30ff85[_0xb95e46(0x225)][0x0]||'','setConversionFactor':parseFloat(_0x4aadfa[_0xb95e46(0x1e6)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x30ff85[_0xb95e46(0x2ac)],'setPorcentajeIgv':_0x30ff85[_0xb95e46(0x1cc)],'setPrinters':[],'setTaxId':_0x30ff85[_0xb95e46(0x223)],'setTipAfeIgv':_0x30ff85[_0xb95e46(0x219)],'setUnidad':_0x4aadfa[_0xb95e46(0x1be)],'setUnidadCodigo':_0x4aadfa[_0xb95e46(0x1be)],'setItemUnitAlias':_0x4aadfa['setAlias'],'setItemCommissionPercentage':_0x4aadfa['setItemCommissionPercentage'],'currency_data':_0x4d5bfc,'sucursales':_0x30ff85['setItemWarehouses'][_0xb95e46(0x213)](_0xc6a6d=>({'setIdSucursal':_0xc6a6d[_0xb95e46(0x224)],'setSucursalStock':_0xc6a6d[_0xb95e46(0x264)]['toString'](),'setWarehouseStockMin':_0xc6a6d['setStockMinimum'][_0xb95e46(0x221)]()})),'setItemFree':_0x30ff85['setItemFree'],'setItemBrands':_0x30ff85['setItemBrands'][_0xb95e46(0x186)](),'setItemCategories':_0x30ff85[_0xb95e46(0x242)][_0xb95e46(0x186)](),'setItemComponents':_0x30ff85[_0xb95e46(0x25a)]['map'](_0x3000f9=>({..._0x3000f9})),'setItemImages':_0x30ff85['setItemImages'][_0xb95e46(0x186)](),'setItemVariantName':_0x30ff85[_0xb95e46(0x1f7)],'setItemVariantValues':{..._0x30ff85[_0xb95e46(0x1fd)]}},_0x2aff3d=products[_0xb95e46(0x218)](_0xc1d184=>_0xc1d184['id']==_0x5ae850&&_0xc1d184['setIdProducto']==_0x114319);_0x2aff3d>-0x1?Object[_0xb95e46(0x26d)](products[_0x2aff3d],_0x18735b):_0x4f7ae4['push'](_0x18735b);});}),console[_0x24fd52(0x182)](_0x24fd52(0x237),newItemsExcel),await finalizeImport(_0x4f7ae4,newItemsExcel,!![]);});function initializeFormImages(){var _0x2659e5=_0x169352;currentImages=Array(MAX_IMAGES)[_0x2659e5(0x2a4)](null),imgC['innerHTML']='',baseItem[_0x2659e5(0x27c)]=[];for(var _0x38140e=0x0;_0x38140e<MAX_IMAGES;_0x38140e++){(function(_0x3607c7){var _0x4726d3=_0x2659e5,_0x12357d=document[_0x4726d3(0x18e)](_0x4726d3(0x287));_0x12357d[_0x4726d3(0x1c4)]='image_box',_0x12357d[_0x4726d3(0x250)][_0x4726d3(0x185)]=_0x3607c7;var _0x5e460d=document[_0x4726d3(0x18e)]('input');_0x5e460d[_0x4726d3(0x190)]='file',_0x5e460d[_0x4726d3(0x1cd)]=_0x4726d3(0x1d8),_0x5e460d['style'][_0x4726d3(0x1f5)]=_0x4726d3(0x21b);var _0x2d648f=document['createElement'](_0x4726d3(0x17d));_0x2d648f[_0x4726d3(0x16c)]='+',_0x12357d['appendChild'](_0x5e460d),_0x12357d[_0x4726d3(0x276)](_0x2d648f),imgC[_0x4726d3(0x276)](_0x12357d),_0x12357d[_0x4726d3(0x2b5)]('click',function(){var _0x1fa531=_0x4726d3;_0x5e460d[_0x1fa531(0x2a3)]();}),_0x5e460d[_0x4726d3(0x2b5)](_0x4726d3(0x214),function(_0x62ff8d){var _0x398466=_0x4726d3,_0x49f14d=_0x62ff8d[_0x398466(0x266)][_0x398466(0x234)][0x0];if(!_0x49f14d)return removeImg(_0x3607c7);var _0x5b5019=new FileReader();_0x5b5019[_0x398466(0x1ef)]=function(_0x246462){var _0x2b3408=_0x398466;_0x12357d[_0x2b3408(0x1dd)]='<img\x20src=\x22'+_0x246462[_0x2b3408(0x266)]['result']+'\x22>';var _0x5110f6=document[_0x2b3408(0x18e)]('span');_0x5110f6[_0x2b3408(0x1c4)]=_0x2b3408(0x23d),_0x5110f6['textContent']='×',_0x5110f6[_0x2b3408(0x2b5)](_0x2b3408(0x2a3),function(_0x693258){var _0x31784e=_0x2b3408;_0x693258[_0x31784e(0x1c5)](),removeImg(_0x3607c7);}),_0x12357d[_0x2b3408(0x276)](_0x5110f6),currentImages[_0x3607c7]=_0x49f14d,baseItem['setItemImages']=currentImages[_0x2b3408(0x291)](function(_0x2555ff){return _0x2555ff;});},_0x5b5019[_0x398466(0x1ad)](_0x49f14d);});}(_0x38140e));}}function initializeFormIsSoldIsBought(_0x3cbcf3=0x0){var _0x1d8044=_0x169352;let _0x5c0f8d,_0x27d4ef;if(_0x3cbcf3!=0x0){const _0x4f70b4=products[_0x1d8044(0x1fa)](_0x5add0b=>_0x5add0b['id']==_0x3cbcf3);_0x5c0f8d=_0x4f70b4[_0x1d8044(0x1ab)]==0x1||_0x4f70b4['setItemIsBought']==!![]?!![]:![],_0x27d4ef=_0x4f70b4['setItemIsSold']==0x1||_0x4f70b4[_0x1d8044(0x1b0)]==!![]?!![]:![];}else _0x5c0f8d=!![],_0x27d4ef=!![];document[_0x1d8044(0x21d)](_0x1d8044(0x178))[_0x1d8044(0x1d3)]=_0x5c0f8d,document['getElementById']('newItem_chk_sell')[_0x1d8044(0x1d3)]=_0x27d4ef,baseItem[_0x1d8044(0x1ab)]=_0x5c0f8d,baseItem[_0x1d8044(0x1b0)]=_0x27d4ef;}function initializeFormInputsBasic(_0x169810=0x0){var _0x38f419=_0x169352;let _0x4f9ec6,_0x45eeab,_0x38fed4,_0x2472c7,_0x26f09d,_0xb88b70;if(_0x169810!=0x0){const _0x1a78a1=products[_0x38f419(0x1fa)](_0x272b83=>_0x272b83['id']==_0x169810);_0x4f9ec6=_0x1a78a1[_0x38f419(0x175)]??'1',_0x45eeab=_0x1a78a1[_0x38f419(0x1f1)],_0x38fed4=_0x1a78a1[_0x38f419(0x22f)],_0x2472c7=_0x1a78a1[_0x38f419(0x195)],_0x26f09d=_0x1a78a1['setBatchExpirationDate']??'',_0xb88b70=_0x1a78a1[_0x38f419(0x1aa)];}else _0x4f9ec6='1',_0x45eeab=getNextCode(products),_0x38fed4='',_0x2472c7='',_0x26f09d='',_0xb88b70='';document['getElementById'](_0x38f419(0x226))[_0x38f419(0x2b4)]=_0x4f9ec6,document[_0x38f419(0x21d)]('inputItemCode')['value']=_0x45eeab,document[_0x38f419(0x21d)](_0x38f419(0x227))[_0x38f419(0x2b4)]=_0x38fed4,document[_0x38f419(0x21d)](_0x38f419(0x269))[_0x38f419(0x2b4)]=_0x2472c7,document[_0x38f419(0x21d)](_0x38f419(0x1ae))['value']=_0x26f09d,document[_0x38f419(0x21d)](_0x38f419(0x283))[_0x38f419(0x2b4)]=_0xb88b70,baseItem[_0x38f419(0x175)]=_0x4f9ec6,baseItem['setItemCode']=_0x45eeab,baseItem[_0x38f419(0x189)]=_0x38fed4,baseItem[_0x38f419(0x195)]=_0x2472c7,baseItem[_0x38f419(0x1e7)]=_0x26f09d,baseItem[_0x38f419(0x1aa)]=_0xb88b70,document[_0x38f419(0x21d)](_0x38f419(0x21a))[_0x38f419(0x1d3)]=![];}function initializeFormTax(_0x597917=0x0){var _0xb38064=_0x169352;let _0x24fb0a;if(_0x597917!=0x0){const _0x5ab8e9=products[_0xb38064(0x1fa)](_0x243452=>_0x243452['id']==_0x597917);_0x24fb0a=_0x5ab8e9['setTaxId'];}else _0x24fb0a=myCompany[_0xb38064(0x289)];const _0x1089c6=document[_0xb38064(0x21d)]('inputItemTax');_0x1089c6[_0xb38064(0x2b4)]=_0x24fb0a,baseItem[_0xb38064(0x223)]=_0x24fb0a;const _0x31836b=company[0x0][_0xb38064(0x298)][_0xb38064(0x1fa)](_0x1ecc51=>_0x1ecc51[_0xb38064(0x25d)]==_0x24fb0a)?.[_0xb38064(0x2ab)]||0x0,_0x5ee964=company[0x0][_0xb38064(0x298)]['find'](_0xd49e52=>_0xd49e52[_0xb38064(0x25d)]==_0x24fb0a)?.['setImpuestoValue']||0x0;baseItem['setItemTaxCode']=_0x31836b,baseItem[_0xb38064(0x1cc)]=_0x5ee964;}function initializeFormCategoriesBrands(_0x251a26=0x0){var _0x3065fd=_0x169352;baseItem[_0x3065fd(0x242)]=[],baseItem[_0x3065fd(0x225)]=[],document[_0x3065fd(0x22c)](_0x3065fd(0x27f))[_0x3065fd(0x1dd)]='',document[_0x3065fd(0x22c)](_0x3065fd(0x1bb))['innerHTML']='',document[_0x3065fd(0x22c)](_0x3065fd(0x191))[_0x3065fd(0x1dd)]='',document[_0x3065fd(0x22c)](_0x3065fd(0x233))['innerHTML']='';const _0x51d3f1=myCompany[_0x3065fd(0x242)][_0x3065fd(0x213)](_0xb0dcc6=>({'setCode':_0xb0dcc6[_0x3065fd(0x17f)],'setName':_0xb0dcc6['setItemCategoryName']})),_0x379642=myCompany[_0x3065fd(0x225)]['map'](_0x5656c3=>({'setCode':_0x5656c3[_0x3065fd(0x1b1)],'setName':_0x5656c3[_0x3065fd(0x1b1)]}));initMulti(_0x3065fd(0x1cf),_0x51d3f1),initMulti(_0x3065fd(0x284),_0x379642),document[_0x3065fd(0x21d)](_0x3065fd(0x1cf))[_0x3065fd(0x2b5)](_0x3065fd(0x17e),function(_0x59df1e){var _0x4b24ad=_0x3065fd;baseItem[_0x4b24ad(0x242)]=_0x59df1e[_0x4b24ad(0x26a)]['map'](_0x4e5199=>_0x4e5199[_0x4b24ad(0x17a)]);}),document[_0x3065fd(0x21d)](_0x3065fd(0x284))[_0x3065fd(0x2b5)](_0x3065fd(0x17e),function(_0x52a1cd){var _0x1a10bb=_0x3065fd;baseItem['setItemBrands']=_0x52a1cd[_0x1a10bb(0x26a)][_0x1a10bb(0x213)](_0xbaa4c4=>_0xbaa4c4['setCode']);});if(_0x251a26!=0x0){const _0x49223b=products[_0x3065fd(0x1fa)](_0x4d4fa1=>_0x4d4fa1['id']==_0x251a26);if(_0x49223b['setCategoria']){const _0x3420d3=document[_0x3065fd(0x21d)]('newItem_categories_select'),_0x401c1e=Array[_0x3065fd(0x28f)](_0x3420d3[_0x3065fd(0x262)]('.options_list\x20div'))[_0x3065fd(0x1fa)](_0x4d47b4=>_0x4d47b4[_0x3065fd(0x250)][_0x3065fd(0x2a1)]==_0x49223b[_0x3065fd(0x188)]);_0x401c1e&&_0x401c1e['click']();}if(_0x49223b[_0x3065fd(0x20e)]){const _0x5399e7=document['getElementById']('newItem_brands_select'),_0x551f70=Array[_0x3065fd(0x28f)](_0x5399e7[_0x3065fd(0x262)](_0x3065fd(0x29a)))[_0x3065fd(0x1fa)](_0x1401f4=>_0x1401f4[_0x3065fd(0x250)][_0x3065fd(0x2a1)]==_0x49223b['setMarca']);_0x551f70&&_0x551f70[_0x3065fd(0x2a3)]();}}}function initializeFormUnits(){var _0x2fd949=_0x169352;unitCount=0x0,document[_0x2fd949(0x21d)](_0x2fd949(0x1dc))['innerHTML']='',baseItem[_0x2fd949(0x19f)]=[];var _0x5cfe6c=uniqueValuesArray(_0x2fd949(0x1be),'setUnitName',myCompany[_0x2fd949(0x1b3)]);addUnit('',_0x5cfe6c[0x3a]&&_0x5cfe6c[0x3a][_0x2fd949(0x17a)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x3b0976=_0x169352;prodC[_0x3b0976(0x1dd)]='',baseItem[_0x3b0976(0x25a)]=[],updateProdItems();}function _0x3fa3(_0x4c5378,_0x29cde7){var _0x412442=_0x24c5();return _0x3fa3=function(_0x5abdec,_0x3a6e03){_0x5abdec=_0x5abdec-0x16b;var _0x383b27=_0x412442[_0x5abdec];return _0x383b27;},_0x3fa3(_0x4c5378,_0x29cde7);}function initializeFormWarehouses(){var _0x39e679=_0x169352;branchesC[_0x39e679(0x1dd)]='',baseItem[_0x39e679(0x273)]=[];const _0x275e15=getAllWarehouses();_0x275e15['forEach'](function(_0x11378a){var _0x3d3c86=_0x39e679,_0x402fd4=document[_0x3d3c86(0x18e)](_0x3d3c86(0x287));_0x402fd4[_0x3d3c86(0x1dd)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+_0x3d3c86(0x1e4)+_0x11378a[_0x3d3c86(0x23f)]+_0x3d3c86(0x220)+_0x11378a['setWarehouseName']+_0x3d3c86(0x1b5)+_0x3d3c86(0x24a)+_0x3d3c86(0x1eb)+_0x3d3c86(0x1a5)+_0x11378a[_0x3d3c86(0x23f)]+'\x22>'+'</div>'+_0x3d3c86(0x1eb)+_0x3d3c86(0x1da)+_0x11378a[_0x3d3c86(0x23f)]+'\x22>'+'</div>'+_0x3d3c86(0x24a),branchesC[_0x3d3c86(0x276)](_0x402fd4),_0x402fd4[_0x3d3c86(0x262)](_0x3d3c86(0x248))[_0x3d3c86(0x193)](function(_0x1aa982){var _0x385b68=_0x3d3c86;_0x1aa982['addEventListener'](_0x385b68(0x248),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x16bb63=_0x169352;baseItem[_0x16bb63(0x1f7)]='',baseItem[_0x16bb63(0x1fd)]={},vgC[_0x16bb63(0x1dd)]='',varContainer[_0x16bb63(0x1dd)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xd5f03,_0x5be521,_0x223101=![]){var _0x409250=_0x169352;const _0x5d4ee5=0xc8,_0x236e29={'apiPOSsendOffline':'1','setTipoOperacion':_0x409250(0x1b6),'setToken':company[0x0][_0x409250(0x2aa)],'setWebhook':company[0x0][_0x409250(0x208)]};for(let _0x12647c=0x0;_0x12647c<_0x5be521['length'];_0x12647c+=_0x5d4ee5){const _0xb677c7=_0x5be521[_0x409250(0x186)](_0x12647c,_0x12647c+_0x5d4ee5);await storeOfflineProduct({..._0x236e29,'newItems':_0xb677c7});}products[_0x409250(0x292)](..._0xd5f03),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow('📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.'),_0x223101?(fileInput[_0x409250(0x2b4)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0x409250(0x216)][_0x409250(0x1f5)]=_0x409250(0x21b),progressBar[_0x409250(0x2b4)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}