/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.3
*/

const _0x4e8983=_0x244c;(function(_0x21233f,_0x309a5f){const _0x313269=_0x244c,_0x1022c4=_0x21233f();while(!![]){try{const _0x50ce6e=parseInt(_0x313269(0xc6))/0x1+parseInt(_0x313269(0xf9))/0x2+-parseInt(_0x313269(0xcf))/0x3*(-parseInt(_0x313269(0xc8))/0x4)+-parseInt(_0x313269(0x107))/0x5*(parseInt(_0x313269(0xe5))/0x6)+-parseInt(_0x313269(0xca))/0x7*(-parseInt(_0x313269(0x104))/0x8)+-parseInt(_0x313269(0xd9))/0x9+parseInt(_0x313269(0xfd))/0xa*(parseInt(_0x313269(0xf4))/0xb);if(_0x50ce6e===_0x309a5f)break;else _0x1022c4['push'](_0x1022c4['shift']());}catch(_0x19b4de){_0x1022c4['push'](_0x1022c4['shift']());}}}(_0x1d30,0x78e45));const _0x4dc3e9=(function(){let _0x5f561b=!![];return function(_0x36a6da,_0x2fc10c){const _0x36368e=_0x5f561b?function(){const _0x3b88f7=_0x244c;if(_0x2fc10c){const _0x21c166=_0x2fc10c[_0x3b88f7(0xf5)](_0x36a6da,arguments);return _0x2fc10c=null,_0x21c166;}}:function(){};return _0x5f561b=![],_0x36368e;};}()),_0x12befc=_0x4dc3e9(this,function(){const _0x4acdba=_0x244c;return _0x12befc[_0x4acdba(0xdb)]()['search'](_0x4acdba(0xd2))['toString']()[_0x4acdba(0xf1)](_0x12befc)['search']('(((.+)+)+)+$');});_0x12befc();const _0x40ee51=(function(){let _0x40c995=!![];return function(_0x2f7a11,_0x55d475){const _0x1ff8dc=_0x40c995?function(){const _0x54acc6=_0x244c;if(_0x55d475){const _0x3d1710=_0x55d475[_0x54acc6(0xf5)](_0x2f7a11,arguments);return _0x55d475=null,_0x3d1710;}}:function(){};return _0x40c995=![],_0x1ff8dc;};}()),_0x5dab9e=_0x40ee51(this,function(){const _0x204405=_0x244c;let _0x43d2ac;try{const _0x98f089=Function(_0x204405(0xe3)+_0x204405(0xe4)+');');_0x43d2ac=_0x98f089();}catch(_0x52ba83){_0x43d2ac=window;}const _0x377e66=_0x43d2ac[_0x204405(0xde)]=_0x43d2ac[_0x204405(0xde)]||{},_0x399520=[_0x204405(0xee),_0x204405(0xd3),_0x204405(0xe0),_0x204405(0xe9),'exception','table',_0x204405(0xf7)];for(let _0xa7eec7=0x0;_0xa7eec7<_0x399520[_0x204405(0x105)];_0xa7eec7++){const _0x364d85=_0x40ee51[_0x204405(0xf1)][_0x204405(0xea)][_0x204405(0xf3)](_0x40ee51),_0x353efc=_0x399520[_0xa7eec7],_0x5e59dd=_0x377e66[_0x353efc]||_0x364d85;_0x364d85['__proto__']=_0x40ee51[_0x204405(0xf3)](_0x40ee51),_0x364d85[_0x204405(0xdb)]=_0x5e59dd[_0x204405(0xdb)][_0x204405(0xf3)](_0x5e59dd),_0x377e66[_0x353efc]=_0x364d85;}});_0x5dab9e();const selectCredentialsApiWAChat=document[_0x4e8983(0xd8)](_0x4e8983(0x102)),loginPanel=document[_0x4e8983(0xd8)](_0x4e8983(0x103)),chatPanel=document[_0x4e8983(0xd8)]('chatPanel'),qrImg=document['getElementById'](_0x4e8983(0xe7)),overlay=document[_0x4e8983(0xd8)](_0x4e8983(0xd5));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x4cfe31=_0x4e8983;loginPanel[_0x4cfe31(0xcb)][_0x4cfe31(0xec)]=_0x4cfe31(0xfc),chatPanel[_0x4cfe31(0xcb)][_0x4cfe31(0xdc)]='hidden';}function showChat(){const _0xd2b2a3=_0x4e8983;loginPanel[_0xd2b2a3(0xcb)]['display']=_0xd2b2a3(0xc7),chatPanel['style']['visibility']=_0xd2b2a3(0x100);}function _0x1d30(){const _0xb2c560=['visible','.btn-logout','setCredentialsApiWAChat','loginPanel','1095544scwbqe','length','addEventListener','1340sbNDjQ','234147LqPUmN','none','8GUJpiw','toLowerCase','42OwlZvC','style','setWarehouseId','./img/apiPOS.png','then','1054218xOliDf','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','setCredentialsApiWAChatStatus','(((.+)+)+)+$','warn','onload','qr-overlay','value','setFloorId','getElementById','7821432afWfyZ','setBranchDefault','toString','visibility','https://','console','status','info','src','setCredentialsApiWAChatSubdomain','return\x20(function()\x20','{}.constructor(\x22return\x20this\x22)(\x20)','20232ecNLpL','setBranchId','qr-img','/qr','error','prototype','setCredentialsApiWAChatPort','display','querySelector','log','includes','click','constructor','json','bind','30844lMzAbx','apply','catch','trace','ya\x20conectado','508272fJBpia','change','setAuthToken','flex','910xUzXnB','dispatchEvent','/wa/'];_0x1d30=function(){return _0xb2c560;};return _0x1d30();}function _0x244c(_0x3f34fd,_0x398986){const _0x45be4b=_0x1d30();return _0x244c=function(_0x5dab9e,_0x40ee51){_0x5dab9e=_0x5dab9e-0xc6;let _0x268021=_0x45be4b[_0x5dab9e];return _0x268021;},_0x244c(_0x3f34fd,_0x398986);}async function displayQR(_0x49c6af){const _0x2e94cf=_0x4e8983,_0x4b5248=selectCredentialsApiWAChat['value'],_0x404414=getCredentialsApiWAChat(_0x4b5248);if(_0x404414){const _0x1ec262=_0x404414[_0x2e94cf(0xe2)],_0x26c566=_0x404414[_0x2e94cf(0xeb)];clearTimeout(qrTimeout),overlay[_0x2e94cf(0xcb)]['display']='none',qrImg[_0x2e94cf(0xe1)]=_0x49c6af,qrTimeout=setTimeout(()=>{const _0xb3bc0f=_0x2e94cf;fetch('https://'+_0x1ec262+_0xb3bc0f(0xff)+_0x26c566+_0xb3bc0f(0xe8),{'headers':{'x-auth-token':myCompany[_0xb3bc0f(0xfb)]}})[_0xb3bc0f(0xce)](async _0x11dd7e=>_0x11dd7e[_0xb3bc0f(0xf2)]())['then'](async _0x199688=>{const _0x28dff8=_0xb3bc0f;_0x199688['status']&&_0x199688[_0x28dff8(0xdf)][_0x28dff8(0xc9)]()[_0x28dff8(0xef)](_0x28dff8(0xf8))?(showChat(),_0x404414[_0x28dff8(0xd1)]=0x1):(overlay['style'][_0x28dff8(0xec)]=_0x28dff8(0xfc),_0x404414[_0x28dff8(0xd1)]=0x0);const _0x677916=await createCartStore('');await saveCompanyToIndexedDB(company,_0x677916);})[_0xb3bc0f(0xf6)](_0x2727a8=>{const _0x25f8d4=_0xb3bc0f;console[_0x25f8d4(0xe9)](_0x25f8d4(0xd0),_0x2727a8),overlay[_0x25f8d4(0xcb)][_0x25f8d4(0xec)]='flex';});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}async function init(){const _0x1a46e6=_0x4e8983,_0x5d63d5=selectCredentialsApiWAChat['value'],_0xa25d8b=getCredentialsApiWAChat(_0x5d63d5);if(_0xa25d8b){const _0x20f10a=_0xa25d8b[_0x1a46e6(0xe2)],_0xc7a6d9=_0xa25d8b[_0x1a46e6(0xeb)];fetch(_0x1a46e6(0xdd)+_0x20f10a+_0x1a46e6(0xff)+_0xc7a6d9+'/qr',{'headers':{'x-auth-token':myCompany[_0x1a46e6(0xfb)]}})[_0x1a46e6(0xce)](async _0x1f667=>_0x1f667['json']())['then'](async _0x448906=>{const _0x469af4=_0x1a46e6;if(_0x448906[_0x469af4(0xdf)]&&_0x448906['status'][_0x469af4(0xc9)]()[_0x469af4(0xef)](_0x469af4(0xf8)))showChat(),_0xa25d8b['setCredentialsApiWAChatStatus']=0x1;else _0x448906['qr']&&(showLogin(),displayQR(_0x448906['qr']),_0xa25d8b['setCredentialsApiWAChatStatus']=0x0);const _0x3dbc6a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3dbc6a);})[_0x1a46e6(0xf6)](console[_0x1a46e6(0xe9)]);}else ntfShow('Credenciales\x20no\x20encontradas');}overlay[_0x4e8983(0x106)](_0x4e8983(0xf0),init),window[_0x4e8983(0xd4)]=function(){const _0x21f5a8=_0x4e8983,_0x56fe8d=0x4;loadLoginContent(_0x21f5a8(0xcd)),setUserNameGet(),setEventBtnAccess();const _0xcbb51f=document[_0x21f5a8(0xed)](_0x21f5a8(0x101));_0xcbb51f&&_0xcbb51f[_0x21f5a8(0x106)](_0x21f5a8(0xf0),function(){logoutReload(0x0,_0x56fe8d);}),document[_0x21f5a8(0xd8)](_0x21f5a8(0xe6))[_0x21f5a8(0x106)](_0x21f5a8(0xfa),async function(){const _0x3c1bab=_0x21f5a8,_0xb8d54c=parseInt(this[_0x3c1bab(0xd6)]);myCompany[_0x3c1bab(0xda)]=_0xb8d54c,saveCredentialsApiWAChatInCompany();const _0x1f1acd=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1f1acd),cargarAlmacenes(_0xb8d54c),setTimeout(()=>{const _0x40b150=_0x3c1bab;document['getElementById'](_0x40b150(0xcc))[_0x40b150(0xfe)](new Event(_0x40b150(0xfa)));},0x64),cargarPisos(_0xb8d54c),setTimeout(()=>{const _0x5f4fb2=_0x3c1bab;document[_0x5f4fb2(0xd8)](_0x5f4fb2(0xd7))[_0x5f4fb2(0xfe)](new Event(_0x5f4fb2(0xfa)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x56fe8d);};