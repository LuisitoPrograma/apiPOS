/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.8
*/

const _0x3df022=_0xe3e9;(function(_0x4ccc83,_0x42d6ef){const _0x2effbd=_0xe3e9,_0x1f1e56=_0x4ccc83();while(!![]){try{const _0x232f05=-parseInt(_0x2effbd(0x626))/0x1+parseInt(_0x2effbd(0x6db))/0x2+parseInt(_0x2effbd(0x5f9))/0x3+parseInt(_0x2effbd(0x4c3))/0x4+parseInt(_0x2effbd(0x464))/0x5+-parseInt(_0x2effbd(0x6ef))/0x6*(parseInt(_0x2effbd(0x3bc))/0x7)+-parseInt(_0x2effbd(0x553))/0x8*(parseInt(_0x2effbd(0x58a))/0x9);if(_0x232f05===_0x42d6ef)break;else _0x1f1e56['push'](_0x1f1e56['shift']());}catch(_0x4d623c){_0x1f1e56['push'](_0x1f1e56['shift']());}}}(_0x1e88,0x816a6));const _0x3235a4=(function(){let _0x3dbc79=!![];return function(_0x486593,_0x5bcce6){const _0x35c6e0=_0x3dbc79?function(){const _0x216e9a=_0xe3e9;if(_0x5bcce6){const _0x2d9234=_0x5bcce6[_0x216e9a(0x23f)](_0x486593,arguments);return _0x5bcce6=null,_0x2d9234;}}:function(){};return _0x3dbc79=![],_0x35c6e0;};}()),_0x1bf7d3=_0x3235a4(this,function(){const _0x4c979d=_0xe3e9;return _0x1bf7d3[_0x4c979d(0x49b)]()[_0x4c979d(0x2e0)](_0x4c979d(0x34f))[_0x4c979d(0x49b)]()[_0x4c979d(0x313)](_0x1bf7d3)[_0x4c979d(0x2e0)](_0x4c979d(0x34f));});_0x1bf7d3();const _0x5aa348=(function(){let _0x5d66ab=!![];return function(_0x1b45c6,_0x1814cd){const _0x400f89=_0x5d66ab?function(){const _0x4cc7df=_0xe3e9;if(_0x1814cd){const _0x19024d=_0x1814cd[_0x4cc7df(0x23f)](_0x1b45c6,arguments);return _0x1814cd=null,_0x19024d;}}:function(){};return _0x5d66ab=![],_0x400f89;};}()),_0x3838a1=_0x5aa348(this,function(){const _0x4ab251=_0xe3e9,_0x3b2999=function(){const _0x10a250=_0xe3e9;let _0x2b86df;try{_0x2b86df=Function(_0x10a250(0x656)+_0x10a250(0x572)+');')();}catch(_0x27f791){_0x2b86df=window;}return _0x2b86df;},_0x3fddee=_0x3b2999(),_0x3856c1=_0x3fddee[_0x4ab251(0x1ec)]=_0x3fddee['console']||{},_0x59328e=['log',_0x4ab251(0x552),'info',_0x4ab251(0x708),_0x4ab251(0x2fa),_0x4ab251(0x38a),_0x4ab251(0x3f7)];for(let _0x47985d=0x0;_0x47985d<_0x59328e[_0x4ab251(0x527)];_0x47985d++){const _0x240a74=_0x5aa348[_0x4ab251(0x313)]['prototype']['bind'](_0x5aa348),_0x28013b=_0x59328e[_0x47985d],_0x1de48b=_0x3856c1[_0x28013b]||_0x240a74;_0x240a74[_0x4ab251(0x194)]=_0x5aa348[_0x4ab251(0x31d)](_0x5aa348),_0x240a74[_0x4ab251(0x49b)]=_0x1de48b[_0x4ab251(0x49b)]['bind'](_0x1de48b),_0x3856c1[_0x28013b]=_0x240a74;}});_0x3838a1();const searchInput=document[_0x3df022(0x57b)](_0x3df022(0x419));let debounceTimer=null;searchInput[_0x3df022(0x1ad)](_0x3df022(0x282),()=>{const _0x410f52=_0x3df022,_0x47ac7a=searchInput[_0x410f52(0x66e)];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x47ac7a,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x43b8da,_0x4eb549)=>{const _0x97ab56=_0xe3e9;createCartStore('')[_0x97ab56(0x2db)](_0x42eb39=>{const _0x76ed8a=_0x97ab56,_0x185d5f=_0x42eb39[_0x76ed8a(0x247)](_0x76ed8a(0x575),_0x76ed8a(0x4a7)),_0x11cc72=_0x185d5f[_0x76ed8a(0x2a1)]('products'),_0x468f1f=_0x11cc72[_0x76ed8a(0x1e4)]();_0x468f1f[_0x76ed8a(0x24f)]=_0x385ec2=>_0x4eb549(_0x385ec2[_0x76ed8a(0x4df)][_0x76ed8a(0x708)]),_0x468f1f[_0x76ed8a(0x581)]=()=>{const _0xc08eea=_0x76ed8a;products[_0xc08eea(0x492)](_0x380695=>_0x11cc72[_0xc08eea(0x5bf)](_0x380695));},_0x185d5f[_0x76ed8a(0x1fe)]=()=>_0x43b8da(),_0x185d5f[_0x76ed8a(0x24f)]=_0x4c60dc=>_0x4eb549(_0x4c60dc[_0x76ed8a(0x4df)][_0x76ed8a(0x708)]);})[_0x97ab56(0x215)](_0x34ec49=>_0x4eb549(new Error('Error\x20Push\x20Product!\x20'+_0x34ec49)));});}function getUserPermissionApiERP(_0x12dad0){const _0x3213de=_0x3df022,_0x345d17=myCompany[_0x3213de(0x533)],_0x57c955=myCompany['setUsers'],_0x54126b=_0x345d17[_0x3213de(0x206)],_0x350e3c=_0x57c955[_0x3213de(0x2d3)](_0x29905e=>_0x29905e[_0x3213de(0x206)]==_0x54126b);if(!_0x350e3c)return console[_0x3213de(0x552)]('Usuario\x20no\x20encontrado'),null;const _0x2f2a8c=_0x350e3c[_0x3213de(0x1be)][_0x3213de(0x2d3)](_0x226b2b=>_0x226b2b[_0x3213de(0x4c5)]==_0x12dad0);return _0x2f2a8c?_0x2f2a8c['setPermissionValue']:null;}function getLoggedUserSeries(){const _0x3fce53=_0x3df022,{setUser_Local:_0x20eb39,setUsers:_0x28b3a7}=myCompany;if(!_0x20eb39||!_0x28b3a7)return console[_0x3fce53(0x552)](_0x3fce53(0x3d5)),null;const _0x14665b=_0x20eb39['setUserId'],_0x8089f3=_0x28b3a7['find'](_0x36b8d3=>_0x36b8d3[_0x3fce53(0x206)]==_0x14665b);if(!_0x8089f3)return console['warn'](_0x3fce53(0x2d1)),null;return _0x8089f3[_0x3fce53(0x3d6)];}async function renderProducts(_0x275f0e='',_0x8c95d0=0x0){const _0x1bae17=_0x3df022,_0x49b720=document[_0x1bae17(0x57b)]('products');_0x49b720[_0x1bae17(0x55e)]='';if(products[_0x1bae17(0x527)]==0x0){_0x49b720[_0x1bae17(0x1f4)]=_0x1bae17(0x307);return;}const _0x9d6ac9=getUserPermissionApiERP(0x2),_0x4bc1e9=document[_0x1bae17(0x57b)](_0x1bae17(0x2fd))[_0x1bae17(0x66e)],_0x583e7a=_0x275f0e[_0x1bae17(0x214)]()['split']('\x20'),_0x1a8dda=document[_0x1bae17(0x57b)](_0x1bae17(0x303))[_0x1bae17(0x66e)];let _0x1f7b96;setTipOpeOrders[_0x1bae17(0x6e8)](_0x4e8c3=>_0x4e8c3==window_options[_0x1a8dda]['setTipoOperacion'])||setTipOpeSales[_0x1bae17(0x6e8)](_0x2e011f=>_0x2e011f==window_options[_0x1a8dda][_0x1bae17(0x431)])||setTipOpeQuotation[_0x1bae17(0x6e8)](_0x271a78=>_0x271a78==window_options[_0x1a8dda][_0x1bae17(0x431)])?_0x1f7b96=0x2:_0x1f7b96=0x1;const _0x48fb76=products[_0x1bae17(0x674)](_0x5ba47a=>{const _0x44c3e1=_0x1bae17,_0x11238f=[_0x5ba47a[_0x44c3e1(0x277)]||'',_0x5ba47a[_0x44c3e1(0x3e5)]||'',_0x5ba47a[_0x44c3e1(0x5c0)]||'',_0x5ba47a[_0x44c3e1(0x2c6)]||'',_0x5ba47a[_0x44c3e1(0x4b3)]||''][_0x44c3e1(0x674)](_0xb9c82f=>_0xb9c82f['trim']()!=='')[_0x44c3e1(0x218)]('\x20')['toLowerCase'](),_0x29493f=_0x583e7a[_0x44c3e1(0x336)](_0x8a803=>_0x11238f['includes'](_0x8a803)),_0x5cbdbc=selectedCategories[_0x44c3e1(0x527)]==0x0||selectedCategories['includes'](_0x5ba47a[_0x44c3e1(0x67e)]),_0x3505c9=selectedMarcas[_0x44c3e1(0x527)]==0x0||selectedMarcas[_0x44c3e1(0x51a)](_0x5ba47a[_0x44c3e1(0x4ed)]),_0x319dc0=_0x9d6ac9==0x1?_0x5ba47a[_0x44c3e1(0x27a)]&&_0x5ba47a['sucursales'][_0x44c3e1(0x6e8)](_0x2a8826=>String(_0x2a8826[_0x44c3e1(0x32b)])==_0x4bc1e9):!![];let _0x2ff31f=!![];return _0x1f7b96==0x1?_0x2ff31f=_0x5ba47a[_0x44c3e1(0x24b)]==0x1:_0x2ff31f=_0x5ba47a['setItemIsSold']==0x1,_0x29493f&&_0x5cbdbc&&_0x3505c9&&_0x319dc0&&_0x2ff31f;}),_0x4ffbb5=Math[_0x1bae17(0x587)](_0x48fb76[_0x1bae17(0x527)]/ itemsPerPage);_0x4ffbb5==0x0?currentPage=0x0:currentPage=Math[_0x1bae17(0x32a)](0x1,Math[_0x1bae17(0x2e5)](currentPage,_0x4ffbb5));const _0x519246=(currentPage-0x1)*itemsPerPage,_0x50a0fc=Math[_0x1bae17(0x2e5)](_0x519246+itemsPerPage,_0x48fb76[_0x1bae17(0x527)]),_0x5e30c2=_0x48fb76[_0x1bae17(0x248)](_0x519246,_0x50a0fc);renderProductItems(_0x5e30c2,_0x8c95d0),renderPaginationControls(_0x4ffbb5);}function renderProductItems(_0x2aa8f2,_0x2e8214=0x0){const _0x2983eb=_0x3df022,_0x253164=document['getElementById'](_0x2983eb(0x575)),_0x47bb1=document[_0x2983eb(0x57b)](_0x2983eb(0x303))['value'];_0x253164[_0x2983eb(0x55e)]='';if(_0x2aa8f2[_0x2983eb(0x527)]==0x0){_0x253164['textContent']=_0x2983eb(0x307);return;}const _0x3e7359=document[_0x2983eb(0x57b)](_0x2983eb(0x2fd))['value'],_0x28002a=window_options[_0x47bb1][_0x2983eb(0x2ee)],_0x3441ee=getCurrencySymbol(_0x47bb1),_0x3b5807=getUserPermissionApiERP(0xb),_0x5effb6=getUserPermissionApiERP(0x10);let _0x1b0513;setTipOpeOrders['some'](_0x1b700b=>_0x1b700b==window_options[_0x47bb1][_0x2983eb(0x431)])||setTipOpeSales[_0x2983eb(0x6e8)](_0x254ae6=>_0x254ae6==window_options[_0x47bb1][_0x2983eb(0x431)])||setTipOpeQuotation[_0x2983eb(0x6e8)](_0x335ce7=>_0x335ce7==window_options[_0x47bb1][_0x2983eb(0x431)])?_0x1b0513=0x2:_0x1b0513=0x1;const _0x330cd8=parseInt(getUserPermissionApiERP(0x15));_0x2aa8f2[_0x2983eb(0x492)](_0x4f1bd7=>{const _0x4219c6=_0x2983eb,_0x3b3508=document[_0x4219c6(0x242)](_0x4219c6(0x3a9));_0x3b3508['classList']['add'](_0x4219c6(0x545),'col-xs-12',_0x4219c6(0x396)),_0x3b3508[_0x4219c6(0x3f6)][_0x4219c6(0x6c1)]=_0x4219c6(0x5ae);const _0x231d0c=document[_0x4219c6(0x242)](_0x4219c6(0x3a9));_0x231d0c['classList'][_0x4219c6(0x5d7)](_0x4219c6(0x481));const _0x807657=(_0x4f1bd7['sucursales']||[])['find'](_0x3b77fe=>_0x3b77fe[_0x4219c6(0x32b)]==_0x3e7359);if(_0x807657){const _0x5cee40=parseFloat(_0x807657[_0x4219c6(0x5fe)]),_0x59399c=parseFloat(_0x807657[_0x4219c6(0x45d)]);_0x4f1bd7['setInventariable']==0x1&&_0x5cee40<=_0x59399c&&(_0x231d0c['style'][_0x4219c6(0x416)]=_0x4219c6(0x5ef),_0x231d0c[_0x4219c6(0x5f8)](_0x4219c6(0x524),'El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20'+_0x59399c['toFixed'](0x3)+'\x20'+_0x4f1bd7[_0x4219c6(0x3a7)]));}_0x231d0c['setAttribute']('tabindex','0'),_0x231d0c['onclick']=()=>addToCart(_0x4f1bd7),_0x231d0c['addEventListener'](_0x4219c6(0x709),_0x4cdb70=>{const _0x2ddaba=_0x4219c6;_0x4cdb70[_0x2ddaba(0x70e)]==_0x2ddaba(0x21c)&&addToCart(_0x4f1bd7);});const _0x34f3e8=document[_0x4219c6(0x242)](_0x4219c6(0x3a9));_0x34f3e8['classList'][_0x4219c6(0x5d7)](_0x4219c6(0x4cb)),_0x34f3e8['onclick']=_0xa8a3f6=>{const _0x587ca3=_0x4219c6;_0xa8a3f6[_0x587ca3(0x5d0)](),openModalDetailsAndNtf(_0x4f1bd7['id'],0x1);},_0x3b3508[_0x4219c6(0x52a)](_0x34f3e8);const _0x4250e6=document[_0x4219c6(0x242)](_0x4219c6(0x3a9));_0x4250e6['classList'][_0x4219c6(0x5d7)](_0x4219c6(0x4d6));const _0x46eccd=document[_0x4219c6(0x242)]('div');_0x46eccd['classList']['add'](_0x4219c6(0x4c9));const _0x203437=document[_0x4219c6(0x242)](_0x4219c6(0x3a9));_0x203437[_0x4219c6(0x6c6)][_0x4219c6(0x5d7)](_0x4219c6(0x4c9),_0x4219c6(0x357));let _0x265bf1=isOnline?_0x4f1bd7[_0x4219c6(0x20e)]:_0x4219c6(0x450);_0x231d0c[_0x4219c6(0x3f6)][_0x4219c6(0x6bb)]=_0x4219c6(0x5c8)+_0x265bf1+'\x27)',_0x231d0c['onerror']=function(){const _0x589295=_0x4219c6;_0x231d0c[_0x589295(0x3f6)][_0x589295(0x6bb)]=_0x589295(0x565);};const _0x33838d=document['createElement']('h7');let _0x42c45b='';_0x4f1bd7[_0x4219c6(0x2c6)]!=''&&(_0x42c45b+='<br>'+_0x4f1bd7['setItemDescription']);if(_0x4f1bd7[_0x4219c6(0x403)]!=''){const _0x30c1b3=_0x4f1bd7[_0x4219c6(0x403)],_0x557ff0=_0x30c1b3['split']('-'),_0x1bde30=_0x557ff0[0x2]+'/'+_0x557ff0[0x1]+'/'+_0x557ff0[0x0];_0x42c45b+='<br>Vence:\x20'+_0x1bde30;}_0x4f1bd7['setBatchName']!=''&&(_0x42c45b+='<br>'+_0x4f1bd7[_0x4219c6(0x4b3)]);let _0x35e91e=_0x4f1bd7[_0x4219c6(0x277)];_0x4f1bd7[_0x4219c6(0x3e5)]!=''&&(_0x35e91e=_0x35e91e+'<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20'+_0x4f1bd7[_0x4219c6(0x3e5)]+_0x4219c6(0x47b));_0x33838d[_0x4219c6(0x55e)]=_0x35e91e+'<br>'+_0x4f1bd7[_0x4219c6(0x5c0)]+'\x20'+_0x42c45b;const _0x263ad1=_0x4f1bd7[_0x4219c6(0x50d)][_0x4219c6(0x2d3)](_0x945d6a=>_0x945d6a[_0x4219c6(0x4a9)]==_0x28002a)||{};let _0x28304f,_0xa19c69,_0x34dd3f;_0x1b0513==0x1?(_0x28304f=_0x5effb6==0x1?'X':(parseFloat(_0x263ad1['setMtoPrecioCostoUnitario'])||0x0)['toFixed'](0x2),_0xa19c69=(parseFloat(_0x263ad1[_0x4219c6(0x3a5)])||0x0)[_0x4219c6(0x353)](0x2),_0x34dd3f=_0x4219c6(0x59d)):(_0x28304f=(parseFloat(_0x263ad1['setMtoPrecioUnitario'])||0x0)['toFixed'](0x2),_0xa19c69=_0x5effb6==0x1?'X':(parseFloat(_0x263ad1[_0x4219c6(0x1a9)])||0x0)['toFixed'](0x2),_0x34dd3f=_0x4219c6(0x1e3));const _0x251f87=document[_0x4219c6(0x242)]('p');_0x251f87[_0x4219c6(0x55e)]=_0x3441ee+'\x20'+_0x28304f+'\x20('+(_0x4f1bd7[_0x4219c6(0x429)]!=''?_0x4f1bd7[_0x4219c6(0x429)]:_0x4f1bd7[_0x4219c6(0x3a7)])+')';const _0x313e39=document['createElement']('h6');_0x313e39[_0x4219c6(0x55e)]=_0x34dd3f+':<br>'+_0xa19c69,_0x203437[_0x4219c6(0x52a)](_0x313e39);if(_0x3b5807==0x1){const _0x253407=_0x4f1bd7[_0x4219c6(0x27a)][_0x4219c6(0x2d3)](_0x586906=>String(_0x586906[_0x4219c6(0x32b)])==_0x3e7359),_0x165b85=_0x253407?parseFloat(_0x253407[_0x4219c6(0x5fe)]):0x0,_0x2ccbca=document[_0x4219c6(0x242)]('h6');_0x2ccbca[_0x4219c6(0x55e)]=_0x4219c6(0x182)+_0x165b85[_0x4219c6(0x353)](0x2),_0x203437[_0x4219c6(0x52a)](_0x2ccbca);}const _0x208862=document[_0x4219c6(0x242)]('h6');_0x208862[_0x4219c6(0x55e)]=_0x4219c6(0x5cb)+_0x4f1bd7[_0x4219c6(0x4ed)],_0x203437[_0x4219c6(0x52a)](_0x208862),_0x46eccd[_0x4219c6(0x52a)](_0x33838d),_0x33838d[_0x4219c6(0x3cd)](_0x251f87),_0x4250e6[_0x4219c6(0x52a)](_0x46eccd),_0x4250e6['appendChild'](_0x203437),_0x231d0c['appendChild'](_0x4250e6),_0x3b3508['appendChild'](_0x231d0c),_0x253164[_0x4219c6(0x52a)](_0x3b3508);const _0x56cd98=searchInput[_0x4219c6(0x66e)][_0x4219c6(0x214)]()['trim']();_0x330cd8==0x1&&_0x2aa8f2[_0x4219c6(0x527)]==0x1&&_0x2e8214!=0x0&&_0x56cd98==_0x4f1bd7[_0x4219c6(0x3e5)][_0x4219c6(0x214)]()[_0x4219c6(0x428)]()&&(addToCart(_0x4f1bd7),searchInput[_0x4219c6(0x66e)]='');});}function renderPaginationControls(_0x310e3e){const _0x21825a=_0x3df022,_0x427e62=document['querySelector'](_0x21825a(0x297)),_0x3cff27=document['createElement'](_0x21825a(0x3a9));_0x3cff27[_0x21825a(0x67c)]=_0x21825a(0x26e);const _0x1b369c=document[_0x21825a(0x242)](_0x21825a(0x4bd));_0x1b369c[_0x21825a(0x1f4)]=_0x21825a(0x42c),_0x1b369c['disabled']=currentPage<=0x1,_0x1b369c[_0x21825a(0x594)]=()=>{const _0x268919=_0x21825a;currentPage=Math[_0x268919(0x32a)](0x1,currentPage-0x1),renderProducts();},_0x3cff27[_0x21825a(0x52a)](_0x1b369c);const _0x17f68f=document['createElement'](_0x21825a(0x1c3));_0x310e3e==0x0?_0x17f68f[_0x21825a(0x1f4)]=_0x21825a(0x623):_0x17f68f[_0x21825a(0x1f4)]=currentPage+'\x20de\x20'+_0x310e3e;_0x3cff27[_0x21825a(0x52a)](_0x17f68f);const _0x4c833c=document[_0x21825a(0x242)](_0x21825a(0x4bd));_0x4c833c[_0x21825a(0x1f4)]=_0x21825a(0x5d6),_0x4c833c[_0x21825a(0x497)]=currentPage>=_0x310e3e,_0x4c833c['onclick']=()=>{currentPage=Math['min'](_0x310e3e,currentPage+0x1),renderProducts();},_0x3cff27[_0x21825a(0x52a)](_0x4c833c);const _0x399dca=document[_0x21825a(0x5cd)](_0x21825a(0x401));_0x399dca&&_0x399dca[_0x21825a(0x38f)](),insertAfter(_0x3cff27,_0x427e62);}function initializeCategorys(){const _0xa48b5e=_0x3df022,_0x61b9ad=document[_0xa48b5e(0x57b)](_0xa48b5e(0x16d)),_0x255573=_0x61b9ad[_0xa48b5e(0x5cd)]('ul');_0x255573[_0xa48b5e(0x55e)]='';const _0x114ec1=document['getElementById'](_0xa48b5e(0x2fd))[_0xa48b5e(0x66e)],_0x136675=getUserPermissionApiERP(0x2),_0x29abe3=products['filter'](_0x568356=>_0x136675==0x1?_0x568356[_0xa48b5e(0x27a)]&&_0x568356['sucursales']['some'](_0x358d0f=>String(_0x358d0f[_0xa48b5e(0x32b)])==_0x114ec1):!![]);products_category=[...new Set(_0x29abe3[_0xa48b5e(0x6c0)](_0x5025bf=>_0x5025bf[_0xa48b5e(0x67e)])[_0xa48b5e(0x674)](_0x25463e=>_0x25463e))],products_category['forEach'](_0x1e6eb7=>{const _0x131913=_0xa48b5e,_0x4af930=document[_0x131913(0x242)]('li');_0x4af930[_0x131913(0x55e)]=_0x131913(0x6f8)+_0x1e6eb7+_0x131913(0x541)+_0x1e6eb7+_0x131913(0x3eb)+_0x1e6eb7+_0x131913(0x3f3),_0x255573[_0x131913(0x52a)](_0x4af930);}),products_marca=[...new Set(_0x29abe3[_0xa48b5e(0x6c0)](_0x26db5c=>_0x26db5c[_0xa48b5e(0x4ed)])[_0xa48b5e(0x674)](_0x27150e=>_0x27150e))],products_marca[_0xa48b5e(0x492)](_0x1c005c=>{const _0xb0f189=_0xa48b5e,_0x2615cb=document[_0xb0f189(0x242)]('li');_0x2615cb['innerHTML']='\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22'+_0x1c005c+_0xb0f189(0x541)+_0x1c005c+_0xb0f189(0x3eb)+_0x1c005c+_0xb0f189(0x3f3),_0x255573[_0xb0f189(0x52a)](_0x2615cb);}),_0x61b9ad['addEventListener'](_0xa48b5e(0x4a6),_0xb4a23=>{const _0x223cb8=_0xa48b5e,_0xaaeed=_0xb4a23['target'][_0x223cb8(0x1ff)](_0x223cb8(0x27c));if(_0xaaeed){const _0x1c02ab=_0xaaeed[_0x223cb8(0x5cd)](_0x223cb8(0x657));_0x1c02ab[_0x223cb8(0x3ee)]=!_0x1c02ab['checked'];const _0x410a75=_0x1c02ab['value'],_0x26cb52=_0xaaeed[_0x223cb8(0x5cd)](_0x223cb8(0x1c3));_0x1c02ab[_0x223cb8(0x3ee)]?(_0x26cb52[_0x223cb8(0x3f6)][_0x223cb8(0x6ba)]='#fff',_0x26cb52['style']['background']='#FF5900',_0x26cb52[_0x223cb8(0x3f6)][_0x223cb8(0x348)]=_0x223cb8(0x2de),_0x26cb52[_0x223cb8(0x3f6)]['borderRadius']=_0x223cb8(0x2de),selectedCategories[_0x223cb8(0x2a6)](_0x410a75)):(_0x26cb52['style'][_0x223cb8(0x6ba)]='',_0x26cb52['style']['background']='',_0x26cb52['style']['padding']='',_0x26cb52['style']['borderRadius']='',selectedCategories=selectedCategories[_0x223cb8(0x674)](_0x3f2a62=>_0x3f2a62!==_0x410a75)),renderProducts(searchInput['value']),showSection(_0x223cb8(0x5fc)),showLeftSection();}const _0xb389d8=_0xb4a23['target'][_0x223cb8(0x1ff)](_0x223cb8(0x4fa));if(_0xb389d8){const _0x1cf93e=_0xb389d8[_0x223cb8(0x5cd)](_0x223cb8(0x657));_0x1cf93e[_0x223cb8(0x3ee)]=!_0x1cf93e[_0x223cb8(0x3ee)];const _0xc19864=_0x1cf93e['value'],_0x21689a=_0xb389d8[_0x223cb8(0x5cd)](_0x223cb8(0x1c3));_0x1cf93e[_0x223cb8(0x3ee)]?(_0x21689a[_0x223cb8(0x3f6)][_0x223cb8(0x6ba)]='#fff',_0x21689a[_0x223cb8(0x3f6)][_0x223cb8(0x1cb)]=_0x223cb8(0x2bf),_0x21689a[_0x223cb8(0x3f6)][_0x223cb8(0x348)]='5px',_0x21689a[_0x223cb8(0x3f6)][_0x223cb8(0x644)]=_0x223cb8(0x2de),selectedMarcas[_0x223cb8(0x2a6)](_0xc19864)):(_0x21689a[_0x223cb8(0x3f6)]['color']='',_0x21689a[_0x223cb8(0x3f6)][_0x223cb8(0x1cb)]='',_0x21689a[_0x223cb8(0x3f6)]['padding']='',_0x21689a['style'][_0x223cb8(0x644)]='',selectedMarcas=selectedMarcas[_0x223cb8(0x674)](_0x5d6ca1=>_0x5d6ca1!==_0xc19864)),renderProducts(searchInput['value']),showSection('div_section_products'),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window[_0x3df022(0x221)];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0x25ecfb,{pdfGlobalPayload:_0x3d2ca8,pdfGlobalBlob:_0x425f2c,pdfGlobalName:_0x211c83}){const _0x105181=_0x3df022;lastOperationGlobal[_0x105181(0x5c6)](_0x25ecfb,{'pdfGlobalPayload':_0x3d2ca8,'pdfGlobalBlob':_0x425f2c,'pdfGlobalName':_0x211c83});}function getLastOperationGlobalData(_0x38388c){const _0x18c03f=_0x3df022;return lastOperationGlobal[_0x18c03f(0x456)](_0x38388c)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document[_0x3df022(0x57b)](_0x3df022(0x339));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document[_0x3df022(0x242)]('style');document[_0x3df022(0x1d4)]['appendChild'](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document[_0x3df022(0x57b)](_0x3df022(0x462)),countryList=document[_0x3df022(0x57b)](_0x3df022(0x3a3)),sendEmailButton=document['getElementById'](_0x3df022(0x226)),sendWhatsAppButton=document[_0x3df022(0x57b)](_0x3df022(0x461));function createElement(_0x19b9db,_0x429701={},_0x413f77=[]){const _0x5f5468=_0x3df022,_0x2d6676=document['createElement'](_0x19b9db);return Object[_0x5f5468(0x1e6)](_0x429701)[_0x5f5468(0x492)](_0x45db1e=>{const _0x5bb529=_0x5f5468;if(_0x45db1e==_0x5bb529(0x530))_0x2d6676['className']=_0x429701[_0x45db1e];else{if(_0x45db1e==_0x5bb529(0x362))Object[_0x5bb529(0x1e6)](_0x429701[_0x45db1e])[_0x5bb529(0x492)](_0xd602f6=>{const _0x3fe11a=_0x5bb529;_0x2d6676[_0x3fe11a(0x1ad)](_0xd602f6,_0x429701[_0x45db1e][_0xd602f6]);});else _0x45db1e==_0x5bb529(0x55e)?_0x2d6676[_0x5bb529(0x55e)]=_0x429701[_0x45db1e]:_0x2d6676[_0x5bb529(0x5f8)](_0x45db1e,_0x429701[_0x45db1e]);}}),_0x413f77[_0x5f5468(0x492)](_0x49dae3=>{const _0x3632cb=_0x5f5468;typeof _0x49dae3==_0x3632cb(0x52f)?_0x2d6676[_0x3632cb(0x52a)](document[_0x3632cb(0x241)](_0x49dae3)):_0x2d6676['appendChild'](_0x49dae3);}),_0x2d6676;}function styleHackHeader(_0x4ab550,_0x2071d2){const _0x5d0eb9=_0x3df022;styleSheet[_0x5d0eb9(0x35e)]=_0x5d0eb9(0x5da)+_0x4ab550+'\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20'+_0x2071d2+_0x5d0eb9(0x627);}function setElementWidthImportant(_0x3c0fcc,_0x153beb){const _0x2541e5=_0x3df022,_0x3a0565=document[_0x2541e5(0x57b)](_0x3c0fcc);_0x3a0565?_0x3a0565[_0x2541e5(0x3f6)][_0x2541e5(0x466)](_0x2541e5(0x50e),_0x153beb,_0x2541e5(0x293)):console['error'](_0x2541e5(0x630)+_0x3c0fcc);}function resetElementWidth(_0x14f9d0){const _0x5349ce=_0x3df022,_0x115465=document[_0x5349ce(0x57b)](_0x14f9d0);_0x115465?_0x115465['style']['removeProperty'](_0x5349ce(0x50e)):console[_0x5349ce(0x708)](_0x5349ce(0x630)+_0x14f9d0);}function isMobile(){return window['innerWidth']<=0x300;}function showLeftSection(){const _0x35af88=_0x3df022;if(isMobile()){const _0x213740=document['getElementById'](_0x35af88(0x386)),_0x17ec5e=document[_0x35af88(0x57b)](_0x35af88(0x6a2));_0x213740[_0x35af88(0x3f6)][_0x35af88(0x466)]('display',_0x35af88(0x504),_0x35af88(0x293)),_0x17ec5e[_0x35af88(0x3f6)][_0x35af88(0x466)](_0x35af88(0x228),_0x35af88(0x18d),_0x35af88(0x293)),styleHackHeader(_0x35af88(0x397),'120px');}}function showRightSection(){const _0x5f8a1f=_0x3df022;if(isMobile()){const _0x453930=document[_0x5f8a1f(0x57b)](_0x5f8a1f(0x386)),_0x111a23=document[_0x5f8a1f(0x57b)](_0x5f8a1f(0x6a2));_0x111a23[_0x5f8a1f(0x3f6)]['setProperty']('display',_0x5f8a1f(0x504),_0x5f8a1f(0x293)),_0x453930[_0x5f8a1f(0x3f6)]['setProperty']('display',_0x5f8a1f(0x18d),'important'),styleHackHeader('0','0');}}function adjustHeight(){const _0x545a0a=_0x3df022,_0x5af2d1=document['getElementById']('div_sections');_0x5af2d1[_0x545a0a(0x3f6)][_0x545a0a(0x6b9)]=window[_0x545a0a(0x5ed)]+'px';}function insertAfter(_0x5b0df6,_0x4b9a6e){const _0x22feed=_0x3df022;_0x4b9a6e[_0x22feed(0x6df)][_0x22feed(0x3e6)](_0x5b0df6,_0x4b9a6e[_0x22feed(0x3de)]);}function insertBefore(_0x3e0b25,_0x274dd7){const _0x9cdae9=_0x3df022;_0x274dd7['parentNode'][_0x9cdae9(0x3e6)](_0x3e0b25,_0x274dd7);}function updateInternetIcon(){const _0x2be78f=_0x3df022,_0x2bde0f=document[_0x2be78f(0x57b)](_0x2be78f(0x2c1)),_0x2f69e8=document[_0x2be78f(0x57b)](_0x2be78f(0x6b7));isOnline()?(_0x2bde0f[_0x2be78f(0x67c)]=_0x2be78f(0x3bf),_0x2f69e8[_0x2be78f(0x67c)]=_0x2be78f(0x4d4),apiERPsync()):(_0x2bde0f[_0x2be78f(0x67c)]='icon-arrow-right\x20hidden',_0x2f69e8[_0x2be78f(0x67c)]=_0x2be78f(0x3bf));}async function apiERPgetWindows(){const _0x38ff9f=_0x3df022,_0x3dfb27=myCompany[_0x38ff9f(0x2eb)];let _0x53723c=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x38ff9f(0x52b)),console[_0x38ff9f(0x708)](_0x38ff9f(0x52b));return;}const _0x5acbc5=await fetch(_0x38ff9f(0x478),{'method':_0x38ff9f(0x484),'headers':{'Content-Type':_0x38ff9f(0x6cf)},'body':JSON[_0x38ff9f(0x638)]({'setAuthToken':myCompany[_0x38ff9f(0x317)],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0xd888aa=await _0x5acbc5[_0x38ff9f(0x68d)]();if(_0xd888aa[_0x38ff9f(0x350)]){const _0x197cda=_0xd888aa[_0x38ff9f(0x58e)][_0x38ff9f(0x2eb)];_0x53723c=_0x197cda[_0x38ff9f(0x674)](_0x16c62f=>!_0x3dfb27[_0x38ff9f(0x6e8)](_0xffdf1b=>_0xffdf1b['setWindowId']==_0x16c62f[_0x38ff9f(0x36c)])),myCompany[_0x38ff9f(0x2eb)]=_0x197cda;}else{hideLoadingModal(),ntfShow(_0xd888aa[_0x38ff9f(0x58e)]),console[_0x38ff9f(0x708)](_0x38ff9f(0x2c7),_0xd888aa[_0x38ff9f(0x58e)]);return;}const _0x34c669=await createCartStore('');await saveCompanyToIndexedDB(company,_0x34c669);for(const _0x5043b7 of _0x53723c){await new Promise(_0xc96d85=>setTimeout(_0xc96d85,0x12c)),await createCartStore(_0x5043b7[_0x38ff9f(0x36c)]);}}async function apiERPsyncWindows(){const _0x4d7098=_0x3df022;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x4d7098(0x317)],myCompany[_0x4d7098(0x2eb)]);const _0x57ccc9=document[_0x4d7098(0x57b)](_0x4d7098(0x667))['value'],_0x5997cc=myCompany[_0x4d7098(0x1b5)],_0xe3e315=_0x5997cc[_0x4d7098(0x2d3)](_0x484d83=>_0x484d83[_0x4d7098(0x667)]==_0x57ccc9&&_0x484d83[_0x4d7098(0x5e3)]==0x2),_0x3485a9=getUserPermissionApiERP(0xd),_0x155053=_0xe3e315?0x1:0x0;if(_0x155053==0x1&&_0x3485a9==0x1){const _0x4c5183=_0x4d7098(0x1c4)+generateUUID(),_0x2207c8=document['createElement'](_0x4d7098(0x25c));_0x2207c8[_0x4d7098(0x5af)]=_0x4c5183,_0x2207c8[_0x4d7098(0x3f6)][_0x4d7098(0x228)]=_0x4d7098(0x18d),document['body'][_0x4d7098(0x52a)](_0x2207c8);const _0x4af504=document[_0x4d7098(0x242)](_0x4d7098(0x2c8));_0x4af504[_0x4d7098(0x4f1)]='POST',_0x4af504[_0x4d7098(0x4e4)]=_0xe3e315[_0x4d7098(0x19a)],_0x4af504[_0x4d7098(0x372)]=_0x4d7098(0x6e7),_0x4af504['target']=_0x2207c8[_0x4d7098(0x5af)];const _0x4037ce={'setWindows':JSON[_0x4d7098(0x638)](myCompany['setWindows'])};for(const _0x8e0d18 in _0x4037ce){const _0x410f0f=document['createElement']('input');_0x410f0f[_0x4d7098(0x421)]=_0x4d7098(0x687),_0x410f0f[_0x4d7098(0x5af)]=_0x8e0d18,_0x410f0f[_0x4d7098(0x66e)]=_0x4037ce[_0x8e0d18],_0x4af504['appendChild'](_0x410f0f);}document['body']['appendChild'](_0x4af504),_0x4af504[_0x4d7098(0x3e4)](),document[_0x4d7098(0x355)][_0x4d7098(0x21f)](_0x4af504),setTimeout(()=>{const _0x7633a3=_0x4d7098;document['body'][_0x7633a3(0x21f)](_0x2207c8);},0x1388);}}}async function apiERPupdateOnline(_0x490a10,_0x4eada3){const _0x42bcba=_0x3df022;if(!isOnline())return console['log']('Error\x20Network.'),Promise[_0x42bcba(0x5b8)](_0x42bcba(0x2ae));const _0x40d85a={'setAuthToken':_0x490a10,'setWindows':_0x4eada3};return fetch('https://apierp.dev/api/windows/update/',{'method':_0x42bcba(0x484),'headers':{'Content-Type':_0x42bcba(0x652)},'body':JSON[_0x42bcba(0x638)](_0x40d85a)})[_0x42bcba(0x2db)](_0x3c6a95=>{const _0x27ee5c=_0x42bcba;if(!_0x3c6a95['ok'])throw new Error(_0x27ee5c(0x5a0)+_0x3c6a95['statusText']);return _0x3c6a95[_0x27ee5c(0x68d)]();})[_0x42bcba(0x2db)](_0x3085cc=>{const _0xd0802f=_0x42bcba;if(!_0x3085cc[_0xd0802f(0x350)])throw new Error(_0x3085cc[_0xd0802f(0x58e)]||_0xd0802f(0x509));return console[_0xd0802f(0x189)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x3085cc;})[_0x42bcba(0x215)](_0x2fac44=>{console['error']('Error\x20al\x20actualizar\x20data\x20online:',_0x2fac44);throw _0x2fac44;});}async function apiERPsyncWindowsCartTmp(){const _0x54c07c=_0x3df022;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany[_0x54c07c(0x317)],myCompany[_0x54c07c(0x2eb)]));}async function apiERPupdateOnlineCartTmp(_0x5552df,_0x34f103){const _0xd80e6e=_0x3df022;if(!isOnline())return console[_0xd80e6e(0x189)](_0xd80e6e(0x2ae)),Promise[_0xd80e6e(0x5b8)](_0xd80e6e(0x2ae));const _0x3beaa6={'setAuthToken':_0x5552df,'setWindows':_0x34f103};return fetch(_0xd80e6e(0x455),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0xd80e6e(0x638)](_0x3beaa6)})[_0xd80e6e(0x2db)](_0x2b681a=>{const _0x4d337c=_0xd80e6e;if(!_0x2b681a['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x2b681a[_0x4d337c(0x1f1)]);return _0x2b681a[_0x4d337c(0x68d)]();})['then'](_0x4cfc9a=>{const _0x4d8436=_0xd80e6e;if(!_0x4cfc9a[_0x4d8436(0x350)])throw new Error(_0x4cfc9a[_0x4d8436(0x58e)]||_0x4d8436(0x509));return console[_0x4d8436(0x189)](_0x4d8436(0x402)),_0x4cfc9a;})[_0xd80e6e(0x215)](_0x6dee88=>{console['error']('Error\x20al\x20actualizar\x20data\x20online:',_0x6dee88);throw _0x6dee88;});}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x29d848=_0x3df022,_0x2be7ee=new Date(),_0x186c63=_0x2be7ee[_0x29d848(0x563)](),_0x54cf6f=String(_0x2be7ee[_0x29d848(0x60b)]()+0x1)[_0x29d848(0x4e1)](0x2,'0'),_0x5b035e=String(_0x2be7ee[_0x29d848(0x4be)]())[_0x29d848(0x4e1)](0x2,'0'),_0x706da5=String(_0x2be7ee[_0x29d848(0x390)]())[_0x29d848(0x4e1)](0x2,'0'),_0x8cf268=String(_0x2be7ee[_0x29d848(0x287)]())[_0x29d848(0x4e1)](0x2,'0'),_0x17f9e7=_0x186c63+'-'+_0x54cf6f+'-'+_0x5b035e+'T'+_0x706da5+':'+_0x8cf268;return _0x17f9e7;}async function createFormElements(_0x5903d4){const _0x4e2834=_0x3df022,_0x1e01b0=_0x5903d4[_0x4e2834(0x3b0)]('-')[0x1],_0x29c5c3=document['getElementById']('general-options'),_0x159a63=document[_0x4e2834(0x57b)]('cart-panel'),_0x33e502=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x33e502['id']=_0x4e2834(0x6fd)+_0x1e01b0,_0x33e502['className']='tab-content\x20active\x20tab-'+_0x1e01b0,_0x29c5c3[_0x4e2834(0x52a)](_0x33e502);const _0x493e2e=document['getElementById'](_0x4e2834(0x6fd)+_0x1e01b0),_0xa961b0=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0xa961b0['id']='general-options-'+_0x1e01b0,_0xa961b0['className']='general-options\x20row',_0x493e2e[_0x4e2834(0x52a)](_0xa961b0);const _0x61c7d2=document[_0x4e2834(0x57b)](_0x4e2834(0x58d)+_0x1e01b0),_0x4818a6=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x2e8)}),_0x73300c=myCompany['setTipoOperaciones']['map'](_0x5c41b7=>{const _0x357a4a=_0x4e2834;return createElement('option',{'value':_0x5c41b7['setTipoOperacionCodigo']},[_0x5c41b7[_0x357a4a(0x3d0)]]);}),_0x2eead6=createElement('select',{'id':_0x4e2834(0x710)+_0x1e01b0,'class':_0x4e2834(0x5b4),'events':{'change':_0x297a9b=>{const _0x3f1e84=_0x4e2834;updateSerieAndRenderCart(_0x297a9b[_0x3f1e84(0x4df)][_0x3f1e84(0x66e)],_0x1e01b0);}}},_0x73300c);_0x4818a6[_0x4e2834(0x52a)](_0x2eead6),_0x61c7d2[_0x4e2834(0x52a)](_0x4818a6);const _0x3956f1=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x4bf)}),_0x19466d=createElement(_0x4e2834(0x39b),{'id':'setSerie-'+_0x1e01b0,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie'});_0x3956f1[_0x4e2834(0x52a)](_0x19466d),_0x61c7d2['appendChild'](_0x3956f1);const _0x5c172b=document[_0x4e2834(0x242)]('div');_0x5c172b[_0x4e2834(0x67c)]=_0x4e2834(0x1e7);const _0x58a7ca=document['createElement'](_0x4e2834(0x282));_0x58a7ca['id']=_0x4e2834(0x205)+_0x1e01b0,_0x58a7ca[_0x4e2834(0x421)]='number',_0x58a7ca[_0x4e2834(0x67c)]=_0x4e2834(0x42b),_0x58a7ca[_0x4e2834(0x6a4)]='Ejm:\x201',_0x58a7ca[_0x4e2834(0x662)]=_0x255d30=>updateWindowOption(_0x1e01b0,'setCorrelativo',_0x255d30[_0x4e2834(0x4df)][_0x4e2834(0x66e)]),_0x5c172b[_0x4e2834(0x52a)](_0x58a7ca),_0x61c7d2['appendChild'](_0x5c172b);const _0x17e9de=document['createElement']('div');_0x17e9de[_0x4e2834(0x67c)]=_0x4e2834(0x592);const _0x924c5a=document[_0x4e2834(0x242)]('button');_0x924c5a['id']='btnOpciones-'+_0x1e01b0,_0x924c5a[_0x4e2834(0x421)]=_0x4e2834(0x4bd),_0x924c5a[_0x4e2834(0x55e)]='<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>',_0x924c5a[_0x4e2834(0x67c)]=_0x4e2834(0x6dc),_0x924c5a['onclick']=()=>{showSection('div_section_options');},_0x17e9de[_0x4e2834(0x52a)](_0x924c5a),_0x61c7d2['appendChild'](_0x17e9de);const _0x33b5f7=myCompany[_0x4e2834(0x3f9)][_0x4e2834(0x6c0)](_0x5c656b=>{const _0x485a35=_0x4e2834;return createElement(_0x485a35(0x398),{'value':_0x5c656b[_0x485a35(0x334)]},[_0x5c656b['setMonedaCodigo']]);}),_0x2a6c48=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x4a2)+_0x1e01b0,'class':_0x4e2834(0x643),'events':{'change':_0x5621dd=>updateChangeMoneda(_0x1e01b0,'setMoneda',_0x5621dd['target']['value'])}},_0x33b5f7),_0x52b313=createElement('div',{'class':_0x4e2834(0x2e8)},[_0x2a6c48]);_0x61c7d2[_0x4e2834(0x52a)](_0x52b313);const _0x14367c=myCompany[_0x4e2834(0x310)]['map'](_0x3293bf=>{const _0xf3ecc0=_0x4e2834;return createElement(_0xf3ecc0(0x398),{'value':_0x3293bf[_0xf3ecc0(0x715)]},[_0x3293bf[_0xf3ecc0(0x715)]]);}),_0x31445c=createElement('select',{'id':'setClienteTipoDoc-'+_0x1e01b0,'class':_0x4e2834(0x249),'events':{'change':_0x301bd9=>updateWindowOption(_0x1e01b0,_0x4e2834(0x71d),_0x301bd9[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},_0x14367c),_0x303eec=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x4bf)},[_0x31445c]);_0x61c7d2['appendChild'](_0x303eec);const _0x5b6557=document[_0x4e2834(0x242)]('div');_0x5b6557['className']=_0x4e2834(0x1e7);const _0x2332a7=document['createElement'](_0x4e2834(0x282));_0x2332a7['id']=_0x4e2834(0x1b7)+_0x1e01b0,_0x2332a7[_0x4e2834(0x421)]=_0x4e2834(0x496),_0x2332a7[_0x4e2834(0x678)]=_0x4e2834(0x702),_0x2332a7[_0x4e2834(0x6a4)]='Nº',_0x2332a7['className']=_0x4e2834(0x41a),_0x2332a7['onchange']=_0x4e0c6b=>updateWindowOption(_0x1e01b0,_0x4e2834(0x4b7),_0x4e0c6b[_0x4e2834(0x4df)][_0x4e2834(0x66e)]),_0x2332a7['addEventListener']('keypress',_0x148736=>{const _0x586896=_0x4e2834;_0x148736[_0x586896(0x70e)]=='Enter'&&setupConsulta(_0x1e01b0);}),_0x2332a7[_0x4e2834(0x1ad)](_0x4e2834(0x282),async _0x1c1089=>{const _0x61b58c=_0x4e2834,_0x528dd1=window_options[_0x1e01b0],_0x2a0d3a=_0x2332a7['value'];_0x528dd1['setTipoOperacion']==0x4&&_0x528dd1['setClienteTipoDoc']=='RUC'&&_0x2a0d3a['length']==0xb&&(await updateWindowOption(_0x1e01b0,_0x61b58c(0x4b7),_0x2a0d3a),setupConsulta(_0x1e01b0));}),_0x2332a7[_0x4e2834(0x1ad)](_0x4e2834(0x709),_0x47e549=>{const _0x3cd086=_0x4e2834;if(_0x47e549[_0x3cd086(0x70e)]==_0x3cd086(0x71a)||_0x47e549[_0x3cd086(0x70e)]=='Delete'){const _0x51ca17=document[_0x3cd086(0x57b)]('setClienteDenominacion-'+_0x1e01b0),_0x3084b9=document[_0x3cd086(0x57b)](_0x3cd086(0x65e)+_0x1e01b0);_0x51ca17&&(_0x51ca17[_0x3cd086(0x66e)]='',window_options[_0x1e01b0]['setClienteDenominacion']=''),_0x3084b9&&(_0x3084b9[_0x3cd086(0x66e)]='',window_options[_0x1e01b0]['setClienteDireccion']='');}}),_0x5b6557[_0x4e2834(0x52a)](_0x2332a7),_0x61c7d2[_0x4e2834(0x52a)](_0x5b6557);const _0x2c1dba=document[_0x4e2834(0x242)]('div');_0x2c1dba[_0x4e2834(0x67c)]='div-width-10\x20col-bt-padding';const _0xf7ad4f=document[_0x4e2834(0x242)](_0x4e2834(0x4bd));_0xf7ad4f['id']='btnConsultar-'+_0x1e01b0,_0xf7ad4f[_0x4e2834(0x421)]=_0x4e2834(0x4bd),_0xf7ad4f[_0x4e2834(0x55e)]=_0x4e2834(0x681),_0xf7ad4f[_0x4e2834(0x67c)]=_0x4e2834(0x49f),_0xf7ad4f[_0x4e2834(0x594)]=()=>setupConsulta(_0x1e01b0),_0x2c1dba[_0x4e2834(0x52a)](_0xf7ad4f),_0x61c7d2[_0x4e2834(0x52a)](_0x2c1dba);const _0x2fa69c=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x2fa69c[_0x4e2834(0x67c)]='div-width-100\x20col-bt-left-padding',_0x2fa69c[_0x4e2834(0x3f6)][_0x4e2834(0x6c1)]=_0x4e2834(0x5ae);const _0x36b180=document[_0x4e2834(0x242)](_0x4e2834(0x282));_0x36b180['id']=_0x4e2834(0x1f2)+_0x1e01b0,_0x36b180[_0x4e2834(0x421)]=_0x4e2834(0x496),_0x36b180['autocomplete']='off',_0x36b180[_0x4e2834(0x67c)]=_0x4e2834(0x61c),_0x36b180[_0x4e2834(0x662)]=_0x493232=>updateWindowOption(_0x1e01b0,_0x4e2834(0x6ce),_0x493232[_0x4e2834(0x4df)][_0x4e2834(0x66e)]);const _0x72e9f0=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x72e9f0['id']=_0x4e2834(0x5a3)+_0x1e01b0,_0x72e9f0[_0x4e2834(0x67c)]='suggestions-container',_0x36b180['addEventListener'](_0x4e2834(0x2ed),_0x9bb78f=>{const _0x3db3ed=_0x4e2834;_0x9bb78f[_0x3db3ed(0x70e)]==_0x3db3ed(0x21c)&&(setupConsulta(_0x1e01b0),document[_0x3db3ed(0x57b)]('suggestions-'+_0x1e01b0)[_0x3db3ed(0x55e)]='');}),_0x36b180[_0x4e2834(0x1ad)](_0x4e2834(0x709),function(_0x4758fe){const _0x19e4ff=_0x4e2834;_0x4758fe['key']=='Tab'&&_0x72e9f0[_0x19e4ff(0x617)][_0x19e4ff(0x527)]>0x0&&(_0x4758fe['preventDefault'](),_0x4758fe[_0x19e4ff(0x5d0)](),_0x72e9f0[_0x19e4ff(0x617)][0x0][_0x19e4ff(0x3b3)]());}),_0x2fa69c['appendChild'](_0x36b180),_0x2fa69c[_0x4e2834(0x52a)](_0x72e9f0),_0x61c7d2[_0x4e2834(0x52a)](_0x2fa69c),_0x36b180['addEventListener'](_0x4e2834(0x282),function(){const _0x307bdd=_0x4e2834,_0x49d559=this[_0x307bdd(0x66e)][_0x307bdd(0x428)]()[_0x307bdd(0x214)]();_0x72e9f0[_0x307bdd(0x55e)]='';if(_0x49d559[_0x307bdd(0x527)]==0x0)return;const _0x228a30=_0x49d559[_0x307bdd(0x3b0)](/\s+/)['filter'](_0x5d7a5b=>_0x5d7a5b);let _0x5a9844,_0x184f44;setTipOpeOrders['some'](_0x2b51d7=>_0x2b51d7==window_options[_0x1e01b0][_0x307bdd(0x431)])||setTipOpeSales[_0x307bdd(0x6e8)](_0x4d432d=>_0x4d432d==window_options[_0x1e01b0][_0x307bdd(0x431)])||setTipOpeQuotation[_0x307bdd(0x6e8)](_0x1e05c5=>_0x1e05c5==window_options[_0x1e01b0][_0x307bdd(0x431)])?(_0x5a9844=myCompany[_0x307bdd(0x2a8)],_0x184f44=_0x5a9844[_0x307bdd(0x674)](_0x2e8260=>{const _0xc55533=_0x307bdd,_0x27d577=(_0x2e8260['setCustomerName']||'')[_0xc55533(0x214)](),_0x36f2cc=(_0x2e8260[_0xc55533(0x3aa)]||'')[_0xc55533(0x214)](),_0x18b35b=_0x27d577+'\x20'+_0x36f2cc;return _0x228a30[_0xc55533(0x336)](_0x525c21=>_0x18b35b['includes'](_0x525c21));})):(_0x5a9844=myCompany['setSuppliers'],_0x184f44=_0x5a9844['filter'](_0x4dd408=>{const _0x28d1c5=_0x307bdd,_0x51528f=(_0x4dd408[_0x28d1c5(0x1a4)]||'')[_0x28d1c5(0x214)](),_0x4e392c=(_0x4dd408[_0x28d1c5(0x1d3)]||'')[_0x28d1c5(0x214)](),_0x7811e8=_0x51528f+'\x20'+_0x4e392c;return _0x228a30[_0x28d1c5(0x336)](_0x1bba14=>_0x7811e8[_0x28d1c5(0x51a)](_0x1bba14));}));if(_0x184f44[_0x307bdd(0x527)]>0x0)_0x184f44['forEach'](_0x27675c=>{const _0x294d0a=_0x307bdd,_0x56fc8c=document[_0x294d0a(0x242)](_0x294d0a(0x3a9));_0x56fc8c['className']=_0x294d0a(0x62a);let _0x15a3c6,_0x547270,_0x5589e6;setTipOpeOrders['some'](_0x5af16d=>_0x5af16d==window_options[_0x1e01b0][_0x294d0a(0x431)])||setTipOpeSales[_0x294d0a(0x6e8)](_0x5b12ed=>_0x5b12ed==window_options[_0x1e01b0]['setTipoOperacion'])||setTipOpeQuotation[_0x294d0a(0x6e8)](_0x2a7273=>_0x2a7273==window_options[_0x1e01b0][_0x294d0a(0x431)])?(_0x15a3c6=_0x27675c['setCustomerDocumentNumber'],_0x547270=_0x27675c['setCustomerName'],_0x5589e6=_0x27675c[_0x294d0a(0x6a1)]):(_0x15a3c6=_0x27675c['setSupplierDocumentNumber'],_0x547270=_0x27675c[_0x294d0a(0x1a4)],_0x5589e6=_0x27675c[_0x294d0a(0x3f8)]),_0x15a3c6?_0x56fc8c['textContent']=_0x15a3c6+'\x20-\x20'+_0x547270:_0x56fc8c[_0x294d0a(0x1f4)]=_0x547270,_0x56fc8c[_0x294d0a(0x5c5)]=0x0,_0x56fc8c['addEventListener'](_0x294d0a(0x4a6),()=>{const _0x6dc876=_0x294d0a;_0x36b180[_0x6dc876(0x66e)]=_0x547270;const _0x5672a2=document[_0x6dc876(0x57b)](_0x6dc876(0x1b7)+_0x1e01b0),_0x3a87f2=document[_0x6dc876(0x57b)]('setClienteDireccion-'+_0x1e01b0);_0x5672a2&&(_0x5672a2[_0x6dc876(0x66e)]=_0x15a3c6||''),_0x3a87f2&&(_0x3a87f2[_0x6dc876(0x66e)]=_0x5589e6||''),window_options[_0x1e01b0][_0x6dc876(0x6ce)]=_0x547270,window_options[_0x1e01b0][_0x6dc876(0x4b7)]=_0x15a3c6,window_options[_0x1e01b0]['setClienteDireccion']=_0x5589e6,saveWindowOptionsDB(_0x1e01b0)[_0x6dc876(0x215)](_0x5444c6=>console[_0x6dc876(0x708)](_0x6dc876(0x1cd),_0x5444c6)),_0x72e9f0['innerHTML']='';}),_0x56fc8c['addEventListener'](_0x294d0a(0x709),function(_0x522c92){const _0x2a09bf=_0x294d0a;if(_0x522c92[_0x2a09bf(0x70e)]==_0x2a09bf(0x21c))_0x522c92[_0x2a09bf(0x5d0)](),this[_0x2a09bf(0x4a6)]();else{if(_0x522c92[_0x2a09bf(0x70e)]==_0x2a09bf(0x46c)){_0x522c92[_0x2a09bf(0x2ad)](),_0x522c92[_0x2a09bf(0x5d0)]();if(_0x522c92['shiftKey']){if(this==_0x72e9f0[_0x2a09bf(0x625)])_0x36b180['focus']();else{let _0x470f71=this[_0x2a09bf(0x61e)];if(_0x470f71)_0x470f71[_0x2a09bf(0x3b3)]();}}else this['nextElementSibling']?this[_0x2a09bf(0x211)][_0x2a09bf(0x3b3)]():_0x36b180['focus']();}}}),_0x72e9f0[_0x294d0a(0x52a)](_0x56fc8c);});else{const _0x414b02=document['createElement'](_0x307bdd(0x3a9));_0x414b02[_0x307bdd(0x67c)]='suggestion-item\x20no-result',_0x414b02[_0x307bdd(0x1f4)]=_0x307bdd(0x475),_0x72e9f0['appendChild'](_0x414b02);}});const _0x231b01=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x231b01['className']='div-width-100\x20col-bt-left-padding';const _0x5d5fef=document[_0x4e2834(0x242)](_0x4e2834(0x282));_0x5d5fef['id']=_0x4e2834(0x65e)+_0x1e01b0,_0x5d5fef['type']=_0x4e2834(0x496),_0x5d5fef[_0x4e2834(0x678)]=_0x4e2834(0x702),_0x5d5fef[_0x4e2834(0x6a4)]=_0x4e2834(0x691),_0x5d5fef[_0x4e2834(0x67c)]=_0x4e2834(0x4c0),_0x5d5fef[_0x4e2834(0x662)]=_0x47bbe8=>updateWindowOption(_0x1e01b0,_0x4e2834(0x384),_0x47bbe8[_0x4e2834(0x4df)][_0x4e2834(0x66e)]),_0x231b01[_0x4e2834(0x52a)](_0x5d5fef),_0x61c7d2[_0x4e2834(0x52a)](_0x231b01);const _0x57f1b7=document['createElement'](_0x4e2834(0x3a9));_0x57f1b7[_0x4e2834(0x67c)]=_0x4e2834(0x539);const _0xc9709d=document[_0x4e2834(0x242)](_0x4e2834(0x4bd));_0xc9709d['id']='btnopt_precuenta-'+_0x1e01b0,_0xc9709d['type']=_0x4e2834(0x4bd),_0xc9709d['innerHTML']=_0x4e2834(0x2ec),_0xc9709d[_0x4e2834(0x67c)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt',_0xc9709d['onclick']=_0x3c525c=>setPreAccount(_0x1e01b0),_0xc9709d[_0x4e2834(0x3f6)][_0x4e2834(0x262)]=_0x4e2834(0x2de),_0xc9709d[_0x4e2834(0x3f6)][_0x4e2834(0x2b9)]=_0x4e2834(0x2de),_0x57f1b7[_0x4e2834(0x52a)](_0xc9709d),_0x61c7d2[_0x4e2834(0x52a)](_0x57f1b7);const _0x375c6c=document['createElement'](_0x4e2834(0x3a9));_0x375c6c['className']=_0x4e2834(0x1fa);const _0x24c3af=document['createElement']('button');_0x24c3af['id']=_0x4e2834(0x44f)+_0x1e01b0,_0x24c3af[_0x4e2834(0x421)]=_0x4e2834(0x4bd),_0x24c3af[_0x4e2834(0x55e)]=_0x4e2834(0x330),_0x24c3af[_0x4e2834(0x67c)]=_0x4e2834(0x505),_0x24c3af[_0x4e2834(0x594)]=()=>setBill(_0x1e01b0),_0x375c6c[_0x4e2834(0x52a)](_0x24c3af),_0x61c7d2[_0x4e2834(0x52a)](_0x375c6c);const _0x343c0b=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x343c0b['className']='div-width-24\x20btnopt';const _0x47e123=document['createElement']('button');_0x47e123['id']='btnopt_consumo-'+_0x1e01b0,_0x47e123[_0x4e2834(0x421)]=_0x4e2834(0x4bd),_0x47e123[_0x4e2834(0x55e)]=_0x4e2834(0x6fb),_0x47e123[_0x4e2834(0x67c)]=_0x4e2834(0x2af);let _0x1a992f=![];_0x47e123[_0x4e2834(0x594)]=()=>{const _0x12996d=_0x4e2834;_0x1a992f=!_0x1a992f,_0x1a992f?_0x47e123[_0x12996d(0x3f6)]['backgroundColor']='#f7f7f7':_0x47e123[_0x12996d(0x3f6)]['backgroundColor']='',updateWindowOption(_0x1e01b0,'setConsumo',_0x1a992f?0x1:0x0);},_0x343c0b[_0x4e2834(0x52a)](_0x47e123),_0x61c7d2['appendChild'](_0x343c0b);const _0x2f3dc7=document['createElement'](_0x4e2834(0x3a9));_0x2f3dc7[_0x4e2834(0x67c)]=_0x4e2834(0x1fa);const _0x7cb2bb=document['createElement'](_0x4e2834(0x4bd));_0x7cb2bb['id']=_0x4e2834(0x16f)+_0x1e01b0,_0x7cb2bb[_0x4e2834(0x421)]=_0x4e2834(0x4bd),_0x7cb2bb[_0x4e2834(0x55e)]=_0x4e2834(0x582),_0x7cb2bb[_0x4e2834(0x67c)]=_0x4e2834(0x4dc);let _0x212300=![];_0x7cb2bb[_0x4e2834(0x594)]=()=>{const _0x391422=_0x4e2834,_0x1f932d=document[_0x391422(0x57b)](_0x391422(0x369)+_0x1e01b0),_0x3f923c=document[_0x391422(0x4e8)](_0x391422(0x29f)+_0x1e01b0);_0x3f923c[_0x391422(0x492)](_0x3b7369=>{const _0x4bfffb=_0x391422;_0x212300?_0x3b7369['classList']['add'](_0x4bfffb(0x687)):_0x3b7369[_0x4bfffb(0x6c6)]['remove'](_0x4bfffb(0x687));}),_0x212300?(_0x7cb2bb[_0x391422(0x3f6)][_0x391422(0x345)]='',_0x1f932d['classList'][_0x391422(0x5d7)](_0x391422(0x687))):(_0x7cb2bb['style'][_0x391422(0x345)]='#f7f7f7',_0x1f932d['classList'][_0x391422(0x38f)](_0x391422(0x687))),_0x212300=!_0x212300,updateWindowOption(_0x1e01b0,'setDividir',_0x212300?0x1:0x0);},_0x7cb2bb[_0x4e2834(0x3f6)]['borderTopRightRadius']=_0x4e2834(0x2de),_0x7cb2bb[_0x4e2834(0x3f6)][_0x4e2834(0x4ee)]='5px',_0x2f3dc7['appendChild'](_0x7cb2bb),_0x61c7d2[_0x4e2834(0x52a)](_0x2f3dc7);const _0x465a71=document[_0x4e2834(0x242)]('div');_0x465a71['id']='cart-item-principal-'+_0x1e01b0,_0x465a71[_0x4e2834(0x67c)]='cart-item-principal\x20hidden',_0x465a71[_0x4e2834(0x3f6)][_0x4e2834(0x1cb)]=_0x4e2834(0x3cf),_0x465a71[_0x4e2834(0x3f6)]['marginTop']='0',_0x465a71['style'][_0x4e2834(0x27b)]=_0x4e2834(0x502);const _0x189ef3=createElement('input',{'type':_0x4e2834(0x177),'id':_0x4e2834(0x5e9)+_0x1e01b0,'value':0x0,'events':{'click':_0x3f13c2=>selectAllChecks(_0x1e01b0)}});_0x189ef3[_0x4e2834(0x3f6)]['marginTop']=_0x4e2834(0x4d7),_0x465a71['appendChild'](_0x189ef3),_0x61c7d2[_0x4e2834(0x52a)](_0x465a71);const _0x3446af=document[_0x4e2834(0x57b)](_0x4e2834(0x569)),_0xa1ce2d=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0xa1ce2d['id']=_0x4e2834(0x3e3)+_0x1e01b0,_0xa1ce2d[_0x4e2834(0x67c)]=_0x4e2834(0x6d9)+_0x1e01b0,_0x3446af['appendChild'](_0xa1ce2d);const _0x575e46=document[_0x4e2834(0x57b)](_0x4e2834(0x3e3)+_0x1e01b0),_0x941ac2=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x941ac2['id']=_0x4e2834(0x65c)+_0x1e01b0,_0x941ac2['className']=_0x4e2834(0x500),_0x575e46[_0x4e2834(0x52a)](_0x941ac2);const _0x2ae103=document['createElement']('div');_0x2ae103['id']=_0x4e2834(0x35c)+_0x1e01b0,_0x2ae103['className']=_0x4e2834(0x199),_0x575e46[_0x4e2834(0x52a)](_0x2ae103);const _0x18920e=document[_0x4e2834(0x57b)](_0x4e2834(0x65c)+_0x1e01b0),_0x2c364d=createElement(_0x4e2834(0x22b),{'class':_0x4e2834(0x60f)},[_0x4e2834(0x647)]),_0x136738=[{'value':'1','text':_0x4e2834(0x514)},{'value':'3','text':_0x4e2834(0x70a)}][_0x4e2834(0x6c0)](_0x45f99f=>createElement(_0x4e2834(0x398),{'value':_0x45f99f[_0x4e2834(0x66e)]},[_0x45f99f[_0x4e2834(0x496)]])),_0xf3f7c5=createElement(_0x4e2834(0x39b),{'id':'setTipoOperacionInvoice-'+_0x1e01b0,'class':_0x4e2834(0x422),'events':{'change':_0x2219f6=>updateWindowOption(_0x1e01b0,'setTipoOperacionInvoice',_0x2219f6[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},_0x136738),_0x5e07c9=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x2c364d,_0xf3f7c5]),_0x1b2614=createElement(_0x4e2834(0x22b),{'class':_0x4e2834(0x60f)},[_0x4e2834(0x1f3)]),_0x1d8b10=createElement(_0x4e2834(0x282),{'id':'setFechaHora-'+_0x1e01b0,'type':'datetime-local','class':_0x4e2834(0x511),'events':{'change':_0x38d080=>updateWindowOption(_0x1e01b0,_0x4e2834(0x2c2),_0x38d080[_0x4e2834(0x4df)]['value'])}}),_0x45be73=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x1b2614,_0x1d8b10]),_0xbefa51=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x324)},[_0x5e07c9,_0x45be73]);_0x18920e[_0x4e2834(0x52a)](_0xbefa51);const _0x10a373=createElement('label',{'class':_0x4e2834(0x60f)},[_0x4e2834(0x29a)]),_0x28fd1b=createElement(_0x4e2834(0x282),{'id':_0x4e2834(0x3f0)+_0x1e01b0,'type':_0x4e2834(0x496),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','events':{'change':_0x22cfa8=>updateWindowOption(_0x1e01b0,_0x4e2834(0x6d1),_0x22cfa8['target'][_0x4e2834(0x66e)])}}),_0x3953de=createElement('div',{'class':_0x4e2834(0x1e5)},[_0x10a373,_0x28fd1b]),_0x313908=createElement('label',{'class':'label-options'},['Email:']),_0x573823=createElement('input',{'id':_0x4e2834(0x566)+_0x1e01b0,'type':_0x4e2834(0x2c9),'class':_0x4e2834(0x3be),'events':{'change':_0x23f198=>updateWindowOption(_0x1e01b0,'setCustomerEmail',_0x23f198[_0x4e2834(0x4df)]['value'])}}),_0x25b1a9=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x313908,_0x573823]),_0x3477e7=createElement('div',{'class':_0x4e2834(0x324)},[_0x3953de,_0x25b1a9]);_0x18920e['appendChild'](_0x3477e7);const _0xa2c0f7=createElement(_0x4e2834(0x22b),{'class':'label-options'},['VENDEDOR:']),_0x138f2c=myCompany[_0x4e2834(0x6a3)][_0x4e2834(0x6c0)](_0x1ae655=>createElement(_0x4e2834(0x398),{'value':_0x1ae655[_0x4e2834(0x5ec)]},[_0x1ae655['setCollaboratorFullName']])),_0x14f97c=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x558)+_0x1e01b0,'class':_0x4e2834(0x36e),'events':{'change':_0x35ab78=>updateWindowOption(_0x1e01b0,_0x4e2834(0x5f1),_0x35ab78[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},_0x138f2c),_0x113dca=createElement('div',{'class':_0x4e2834(0x1e5)},[_0xa2c0f7,_0x14f97c]),_0x21cc17=createElement(_0x4e2834(0x22b),{'class':_0x4e2834(0x60f)},['DESPACHO:']),_0x3ff3db=[{'value':'1','text':_0x4e2834(0x1eb)},{'value':'2','text':'No\x20Despachar'},{'value':'3','text':_0x4e2834(0x28a)}][_0x4e2834(0x6c0)](_0x3312f5=>createElement(_0x4e2834(0x398),{'value':_0x3312f5[_0x4e2834(0x66e)]},[_0x3312f5['text']])),_0x5380e5=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x682)+_0x1e01b0,'class':_0x4e2834(0x4f4),'events':{'change':_0x15733a=>updateWindowOption(_0x1e01b0,_0x4e2834(0x53d),_0x15733a[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},_0x3ff3db),_0x4a6afb=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x21cc17,_0x5380e5]),_0x21cb5a=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x324)},[_0x113dca,_0x4a6afb]);_0x18920e['appendChild'](_0x21cb5a);const _0x163fd3=createElement(_0x4e2834(0x22b),{'class':_0x4e2834(0x60f)},['APLICAR:']),_0x45ab77=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x201)}),_0x1bbb6c=createElement('input',{'type':_0x4e2834(0x177),'id':_0x4e2834(0x319)+_0x1e01b0,'class':_0x4e2834(0x51e),'events':{'change':_0x248b43=>toggleTaxFields(_0x248b43,_0x4e2834(0x6a0),_0x1e01b0)}}),_0x2cde1e=createElement(_0x4e2834(0x22b),{'for':_0x4e2834(0x319)+_0x1e01b0,'class':_0x4e2834(0x1df)},[_0x4e2834(0x2ea)]),_0x1333c9=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x2c4)+_0x1e01b0,'class':_0x4e2834(0x17e),'events':{'change':_0xe5a256=>updateWindowOption(_0x1e01b0,_0x4e2834(0x683),_0xe5a256[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},[createElement(_0x4e2834(0x398),{'value':'0'},[_0x4e2834(0x693)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x3c9)},[_0x4e2834(0x246)]),createElement(_0x4e2834(0x398),{'value':'003'},[_0x4e2834(0x379)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x3db)},[_0x4e2834(0x6fc)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x48b)},[_0x4e2834(0x5c9)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x51b)},['Algodón']),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x1ed)},[_0x4e2834(0x599)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x53a)},[_0x4e2834(0x603)]),createElement(_0x4e2834(0x398),{'value':'009'},[_0x4e2834(0x432)]),createElement('option',{'value':'010'},[_0x4e2834(0x259)]),createElement('option',{'value':'011'},[_0x4e2834(0x3e7)]),createElement(_0x4e2834(0x398),{'value':'012'},[_0x4e2834(0x4ab)]),createElement('option',{'value':_0x4e2834(0x6e2)},['Animales\x20vivos']),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x4b2)},[_0x4e2834(0x1ef)]),createElement(_0x4e2834(0x398),{'value':'015'},['Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal']),createElement('option',{'value':'016'},[_0x4e2834(0x6a9)]),createElement(_0x4e2834(0x398),{'value':'017'},[_0x4e2834(0x56c)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x1ce)},[_0x4e2834(0x672)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x4c4)},[_0x4e2834(0x4a3)]),createElement('option',{'value':_0x4e2834(0x300)},[_0x4e2834(0x3f2)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x71e)},[_0x4e2834(0x28d)]),createElement('option',{'value':_0x4e2834(0x329)},[_0x4e2834(0x284)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x1a8)},[_0x4e2834(0x3d1)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x679)},[_0x4e2834(0x4ff)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x5fd)},['Fabricación\x20de\x20bienes\x20por\x20encargo']),createElement('option',{'value':'026'},['Servicio\x20de\x20transporte\x20de\x20personas']),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x395)},[_0x4e2834(0x5df)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x204)},[_0x4e2834(0x612)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x5fa)},[_0x4e2834(0x57a)]),createElement(_0x4e2834(0x398),{'value':'032'},[_0x4e2834(0x3b5)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x706)},[_0x4e2834(0x618)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x491)},[_0x4e2834(0x629)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x326)},['Bienes\x20exonerados\x20del\x20IGV']),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x55d)},[_0x4e2834(0x26b)]),createElement(_0x4e2834(0x398),{'value':'037'},[_0x4e2834(0x635)]),createElement('option',{'value':_0x4e2834(0x716)},['Minerales\x20no\x20metálicos']),createElement(_0x4e2834(0x398),{'value':''},[_0x4e2834(0x32f)])]),_0x4d63ea=createElement(_0x4e2834(0x282),{'type':'number','id':_0x4e2834(0x29b)+_0x1e01b0,'class':_0x4e2834(0x64f),'value':'','placeholder':'Porcentaje\x20detracción','events':{'change':_0x3e36bd=>calculateTax('Detraccion',_0x1e01b0)}}),_0x213d00=createElement('input',{'type':_0x4e2834(0x496),'id':_0x4e2834(0x266)+_0x1e01b0,'class':_0x4e2834(0x64f),'readonly':!![],'placeholder':'Total\x20detracción'});_0x45ab77[_0x4e2834(0x52a)](_0x1bbb6c),_0x45ab77[_0x4e2834(0x52a)](_0x2cde1e),_0x45ab77['appendChild'](_0x1333c9),_0x45ab77[_0x4e2834(0x52a)](_0x4d63ea),_0x45ab77['appendChild'](_0x213d00);const _0x33f3ff=createElement('div',{'class':_0x4e2834(0x201)}),_0x1729e4=createElement(_0x4e2834(0x282),{'type':_0x4e2834(0x177),'id':_0x4e2834(0x45c)+_0x1e01b0,'class':'custom-checkbox','events':{'change':_0xdf002f=>toggleTaxFields(_0xdf002f,_0x4e2834(0x593),_0x1e01b0)}}),_0x73e48e=createElement(_0x4e2834(0x22b),{'for':_0x4e2834(0x45c)+_0x1e01b0,'class':_0x4e2834(0x1df)},[_0x4e2834(0x51c)]),_0x4ba500=createElement(_0x4e2834(0x282),{'type':_0x4e2834(0x476),'id':'retencionPct-'+_0x1e01b0,'class':_0x4e2834(0x64f),'value':'3','placeholder':'Porcentaje\x20retención','events':{'change':_0x3cbba1=>calculateTax('Retencion',_0x1e01b0)}}),_0x3ff957=createElement(_0x4e2834(0x282),{'type':'text','id':_0x4e2834(0x6d3)+_0x1e01b0,'class':_0x4e2834(0x64f),'readonly':!![],'placeholder':_0x4e2834(0x167)});_0x33f3ff[_0x4e2834(0x52a)](_0x1729e4),_0x33f3ff[_0x4e2834(0x52a)](_0x73e48e),_0x33f3ff[_0x4e2834(0x52a)](_0x4ba500),_0x33f3ff['appendChild'](_0x3ff957);const _0x156360=createElement(_0x4e2834(0x3a9),{'class':'div-width-100\x20col-bt-padding'}),_0x3001c3=createElement(_0x4e2834(0x282),{'type':_0x4e2834(0x177),'id':'chkPercepcion-'+_0x1e01b0,'class':_0x4e2834(0x51e),'events':{'change':_0x432a7e=>toggleTaxFields(_0x432a7e,_0x4e2834(0x424),_0x1e01b0)}}),_0x2ae477=createElement(_0x4e2834(0x22b),{'for':_0x4e2834(0x3d2)+_0x1e01b0,'class':'label-options\x20mb-2'},[_0x4e2834(0x64b)]),_0x522fb7=createElement('input',{'type':_0x4e2834(0x476),'id':'percepcionPct-'+_0x1e01b0,'class':_0x4e2834(0x64f),'value':'2','placeholder':_0x4e2834(0x5d1),'events':{'change':_0x5c6d0b=>calculateTax(_0x4e2834(0x424),_0x1e01b0)}}),_0x476be3=createElement(_0x4e2834(0x282),{'type':'text','id':'percepcionTotal-'+_0x1e01b0,'class':_0x4e2834(0x64f),'readonly':!![],'placeholder':_0x4e2834(0x400)});_0x156360['appendChild'](_0x3001c3),_0x156360['appendChild'](_0x2ae477),_0x156360['appendChild'](_0x522fb7),_0x156360[_0x4e2834(0x52a)](_0x476be3);const _0x2bbd20=createElement(_0x4e2834(0x22b),{'class':_0x4e2834(0x60f)},[_0x4e2834(0x20a)]),_0x119ea8=createElement(_0x4e2834(0x222),{'id':_0x4e2834(0x586)+_0x1e01b0,'rows':0x4,'class':_0x4e2834(0x6cd),'events':{'change':_0x18917d=>updateWindowOption(_0x1e01b0,_0x4e2834(0x717),_0x18917d[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}}),_0x12e40a=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x2bbd20,_0x119ea8]),_0x5c06ce=createElement(_0x4e2834(0x3a9),{'class':'div-width-options\x20col-bt-padding-options'},[_0x163fd3,_0x45ab77,_0x33f3ff,_0x156360]),_0x12ea55=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x324)},[_0x5c06ce,_0x12e40a]);_0x18920e['appendChild'](_0x12ea55);const _0x3bd2f2=createElement('option',{'value':'1'},[_0x4e2834(0x190)]),_0x392f84=createElement(_0x4e2834(0x398),{'value':'2'},[_0x4e2834(0x2d6)]),_0x587294=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x720)+_0x1e01b0,'class':_0x4e2834(0x5a5),'events':{'change':_0x5c13bb=>updateWindowOption(_0x1e01b0,'setAttachEdit',_0x5c13bb[_0x4e2834(0x4df)][_0x4e2834(0x66e)])}},[_0x3bd2f2,_0x392f84]),_0x1b068e=createElement('option',{'value':'0','selected':!![]},['Seleccione']),_0x386b44=myCompany[_0x4e2834(0x39e)][_0x4e2834(0x6c0)](_0x1771a6=>createElement('option',{'value':_0x1771a6[_0x4e2834(0x5aa)]},[_0x1771a6[_0x4e2834(0x3d0)]])),_0x3fb04f=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x55f)+_0x1e01b0,'class':_0x4e2834(0x4c6),'events':{'change':_0x142976=>updateSerieOptionsAttach(_0x142976[_0x4e2834(0x4df)][_0x4e2834(0x66e)],_0x1e01b0)}},[_0x1b068e,..._0x386b44]),_0x21c5a5=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x373)+_0x1e01b0,'class':_0x4e2834(0x195)}),_0x192d78=createElement(_0x4e2834(0x282),{'id':'setAttachNumber-'+_0x1e01b0,'type':_0x4e2834(0x476),'class':_0x4e2834(0x56a)}),_0x26e606=createElement(_0x4e2834(0x4bd),{'id':_0x4e2834(0x5b0)+_0x1e01b0,'type':_0x4e2834(0x4bd),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','innerHTML':_0x4e2834(0x292),'events':{'click':()=>consultAttach(_0x1e01b0)}}),_0x469038=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x1e5)},[_0x587294,_0x3fb04f,_0x21c5a5,_0x192d78,_0x26e606]),_0x45ccec=createElement('div',{'class':_0x4e2834(0x324)},[_0x469038]);_0x18920e[_0x4e2834(0x52a)](_0x45ccec);const _0x3c9373=document[_0x4e2834(0x57b)]('container-title-options-'+_0x1e01b0),_0x1bdeb5=createElement(_0x4e2834(0x1c3),{'innerHTML':'&times;'}),_0x191034=createElement('button',{'id':'closeModalOptions-'+_0x1e01b0,'class':_0x4e2834(0x2d7),'type':_0x4e2834(0x4bd)},[_0x1bdeb5]),_0xb70de3=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x269)},[_0x191034]);_0x3c9373[_0x4e2834(0x52a)](_0xb70de3);const _0x451b8a=createElement(_0x4e2834(0x265),{'class':_0x4e2834(0x5e8),'src':_0x4e2834(0x311)}),_0x18d1ce=createElement(_0x4e2834(0x1c3),{'class':'span-options','innerHTML':_0x4e2834(0x540)}),_0x26c8b0=createElement(_0x4e2834(0x4bd),{'class':_0x4e2834(0x4a1)},[_0x451b8a,_0x18d1ce]);_0x3c9373[_0x4e2834(0x52a)](_0x26c8b0);const _0x5f53a8=createElement('img',{'class':'img-options','src':_0x4e2834(0x22c)}),_0x328caf=createElement('button',{'class':_0x4e2834(0x4a1)},[_0x5f53a8,'Ajustes\x20de\x20operación']);_0x3c9373['appendChild'](_0x328caf);const _0x2a14cf=createElement(_0x4e2834(0x265),{'class':'img-options','src':_0x4e2834(0x316)}),_0x4cc9fa=createElement(_0x4e2834(0x4bd),{'class':_0x4e2834(0x4a1)},[_0x2a14cf,'Detalle\x20de\x20Turno']);_0x3c9373[_0x4e2834(0x52a)](_0x4cc9fa);const _0x353394=createElement('img',{'class':'img-options','src':_0x4e2834(0x490)}),_0x3818f8=createElement(_0x4e2834(0x4bd),{'class':'btn-options'},[_0x353394,_0x4e2834(0x4aa)]);_0x3c9373[_0x4e2834(0x52a)](_0x3818f8);const _0x53575b=createElement('img',{'class':_0x4e2834(0x6e4),'src':'./img/icon-gastos.svg'}),_0x467cd8=createElement('button',{'class':_0x4e2834(0x4a1)},[_0x53575b,'Registrar\x20Gasto']);_0x3c9373[_0x4e2834(0x52a)](_0x467cd8);const _0x219390=createElement(_0x4e2834(0x265),{'class':_0x4e2834(0x6e4),'src':'./img/icon-reporte-ventas.svg'}),_0x44ff37=createElement(_0x4e2834(0x4bd),{'class':_0x4e2834(0x4a1),'events':{'click':()=>{const _0x1831cc=_0x4e2834;window[_0x1831cc(0x29d)][_0x1831cc(0x549)]=_0x1831cc(0x279);}}},[_0x219390,_0x4e2834(0x3ac)]);_0x3c9373[_0x4e2834(0x52a)](_0x44ff37);const _0x2dd735=createElement('img',{'class':_0x4e2834(0x6e4),'src':_0x4e2834(0x640)}),_0x33cc7b=createElement('button',{'class':'btn-options','events':{'click':()=>{const _0x146558=_0x4e2834;window[_0x146558(0x29d)][_0x146558(0x549)]='settings.html';}}},[_0x2dd735,_0x4e2834(0x2b6)]);_0x3c9373[_0x4e2834(0x52a)](_0x33cc7b);const _0x1a89df=document[_0x4e2834(0x242)]('div');_0x1a89df['id']=_0x4e2834(0x22d)+_0x1e01b0,_0x1a89df['className']='tab-content\x20active\x20tab-'+_0x1e01b0+_0x4e2834(0x660),_0x159a63['appendChild'](_0x1a89df);const _0x178b5d=document[_0x4e2834(0x57b)]('active\x20tab-cp-'+_0x1e01b0),_0x1f6ce3=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x1f6ce3['id']=_0x4e2834(0x499)+_0x1e01b0,_0x1f6ce3[_0x4e2834(0x67c)]=_0x4e2834(0x2a2),_0x178b5d['appendChild'](_0x1f6ce3);const _0x9b3036=document[_0x4e2834(0x57b)](_0x4e2834(0x499)+_0x1e01b0),_0xa77a45=document['createElement'](_0x4e2834(0x3a9));_0xa77a45['id']='cart-'+_0x1e01b0,_0xa77a45['className']='flex-grow-1\x20cart-items-container',_0x9b3036[_0x4e2834(0x52a)](_0xa77a45);const _0x1fdd65=document[_0x4e2834(0x57b)]('divMarginTopAuto'),_0x4f93a5=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x4f93a5['id']=_0x4e2834(0x1c6)+_0x1e01b0,_0x4f93a5[_0x4e2834(0x67c)]='flex-column\x20tab-content\x20active\x20tab-'+_0x1e01b0,_0x1fdd65['appendChild'](_0x4f93a5);const _0xc216ff=document[_0x4e2834(0x57b)](_0x4e2834(0x1c6)+_0x1e01b0),_0x47e7b2=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x47e7b2['id']='checkout-'+_0x1e01b0,_0x47e7b2['className']='checkout',_0xc216ff[_0x4e2834(0x52a)](_0x47e7b2);const _0x4ce860=document[_0x4e2834(0x57b)](_0x4e2834(0x2a0)+_0x1e01b0),_0x9e205b=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x9e205b[_0x4e2834(0x67c)]='div-totals-right';const _0x5ed872=document['createElement']('span');_0x5ed872[_0x4e2834(0x67c)]=_0x4e2834(0x1f6),_0x5ed872['id']=_0x4e2834(0x275)+_0x1e01b0,_0x5ed872[_0x4e2834(0x55e)]=_0x4e2834(0x535);const _0x279706=document['createElement'](_0x4e2834(0x1c3));_0x279706[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0x279706['id']=_0x4e2834(0x611)+_0x1e01b0,_0x279706[_0x4e2834(0x55e)]=_0x4e2834(0x4d0)+_0x1e01b0+_0x4e2834(0x4b8),_0x9e205b[_0x4e2834(0x52a)](_0x5ed872),_0x9e205b[_0x4e2834(0x52a)](_0x279706),_0x4ce860['appendChild'](_0x9e205b);const _0x224daa=document['createElement'](_0x4e2834(0x3a9));_0x224daa['className']=_0x4e2834(0x523),_0x224daa['id']=_0x4e2834(0x45a)+_0x1e01b0;const _0x11eafb=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x11eafb[_0x4e2834(0x67c)]=_0x4e2834(0x1f6),_0x11eafb['id']='float-left-TotalDescuentoItems-'+_0x1e01b0,_0x11eafb['innerHTML']=_0x4e2834(0x6ee);const _0xb989a5=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0xb989a5[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0xb989a5['id']=_0x4e2834(0x57c)+_0x1e01b0,_0xb989a5['innerHTML']='0.00',_0x224daa[_0x4e2834(0x52a)](_0x11eafb),_0x224daa['appendChild'](_0xb989a5),_0x4ce860[_0x4e2834(0x52a)](_0x224daa);const _0x11d2c1=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x11d2c1[_0x4e2834(0x67c)]=_0x4e2834(0x219);const _0x5be825=document[_0x4e2834(0x242)]('span');_0x5be825[_0x4e2834(0x67c)]=_0x4e2834(0x1f6),_0x5be825['id']=_0x4e2834(0x570)+_0x1e01b0,_0x5be825[_0x4e2834(0x55e)]='Op.\x20Gravada';const _0x31aa7f=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x31aa7f[_0x4e2834(0x67c)]='float-right-totals',_0x31aa7f['id']=_0x4e2834(0x224)+_0x1e01b0,_0x31aa7f[_0x4e2834(0x55e)]=_0x4e2834(0x6bd),_0x11d2c1[_0x4e2834(0x52a)](_0x5be825),_0x11d2c1[_0x4e2834(0x52a)](_0x31aa7f),_0x4ce860[_0x4e2834(0x52a)](_0x11d2c1);const _0x1dbcf8=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x1dbcf8[_0x4e2834(0x67c)]=_0x4e2834(0x219);const _0x26e751=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x26e751[_0x4e2834(0x67c)]=_0x4e2834(0x1f6),_0x26e751['id']='float-left-OpExonerada-'+_0x1e01b0,_0x26e751[_0x4e2834(0x55e)]=_0x4e2834(0x1bf);const _0x1f5594=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x1f5594['className']='float-right-totals',_0x1f5594['id']=_0x4e2834(0x32e)+_0x1e01b0,_0x1f5594['innerHTML']=_0x4e2834(0x6bd),_0x1dbcf8[_0x4e2834(0x52a)](_0x26e751),_0x1dbcf8[_0x4e2834(0x52a)](_0x1f5594),_0x4ce860[_0x4e2834(0x52a)](_0x1dbcf8);const _0x40f50a=document['createElement']('div');_0x40f50a['className']=_0x4e2834(0x219);const _0x51ba72=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x51ba72['className']=_0x4e2834(0x1f6),_0x51ba72['id']=_0x4e2834(0x44c)+_0x1e01b0,_0x51ba72[_0x4e2834(0x55e)]=_0x4e2834(0x61d);const _0x768c19=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x768c19[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0x768c19['id']=_0x4e2834(0x2b2)+_0x1e01b0,_0x768c19[_0x4e2834(0x55e)]='0.00',_0x40f50a[_0x4e2834(0x52a)](_0x51ba72),_0x40f50a['appendChild'](_0x768c19),_0x4ce860['appendChild'](_0x40f50a);const _0x36eb76=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x36eb76[_0x4e2834(0x67c)]='div-totals-right\x20d-none';const _0x16d685=document['createElement'](_0x4e2834(0x1c3));_0x16d685['className']=_0x4e2834(0x1f6),_0x16d685['id']=_0x4e2834(0x2b4)+_0x1e01b0,_0x16d685[_0x4e2834(0x55e)]=_0x4e2834(0x5d4);const _0x4e2ca0=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x4e2ca0[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0x4e2ca0['id']='float-right-OpGratuita-'+_0x1e01b0,_0x4e2ca0[_0x4e2834(0x55e)]=_0x4e2834(0x6bd),_0x36eb76[_0x4e2834(0x52a)](_0x16d685),_0x36eb76[_0x4e2834(0x52a)](_0x4e2ca0),_0x4ce860[_0x4e2834(0x52a)](_0x36eb76);const _0x41c0fd=document['createElement'](_0x4e2834(0x3a9));_0x41c0fd['className']=_0x4e2834(0x523),_0x41c0fd['id']=_0x4e2834(0x66c)+_0x1e01b0;const _0x45c7e9=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x45c7e9['className']='float-left-totals',_0x45c7e9['id']='float-left-Subtotal-'+_0x1e01b0,_0x45c7e9[_0x4e2834(0x55e)]=_0x4e2834(0x2c5);const _0x221ff4=document['createElement'](_0x4e2834(0x1c3));_0x221ff4[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0x221ff4['id']=_0x4e2834(0x1a2)+_0x1e01b0,_0x221ff4[_0x4e2834(0x55e)]=_0x4e2834(0x6bd),_0x41c0fd[_0x4e2834(0x52a)](_0x45c7e9),_0x41c0fd[_0x4e2834(0x52a)](_0x221ff4),_0x4ce860[_0x4e2834(0x52a)](_0x41c0fd);const _0x3f87eb=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x3f87eb['className']='div-totals-right',_0x3f87eb['id']=_0x4e2834(0x191)+_0x1e01b0;const _0x14b050=document['createElement']('span');_0x14b050['className']=_0x4e2834(0x1f6),_0x14b050['id']='float-left-TotalIgv-'+_0x1e01b0,_0x14b050[_0x4e2834(0x55e)]=_0x4e2834(0x420);const _0x349fb8=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x349fb8[_0x4e2834(0x67c)]=_0x4e2834(0x589),_0x349fb8['id']=_0x4e2834(0x338)+_0x1e01b0,_0x349fb8[_0x4e2834(0x55e)]=_0x4e2834(0x6bd),_0x3f87eb['appendChild'](_0x14b050),_0x3f87eb[_0x4e2834(0x52a)](_0x349fb8),_0x4ce860[_0x4e2834(0x52a)](_0x3f87eb);const _0x582bf7=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x582bf7[_0x4e2834(0x67c)]='div-totals-right\x20d-none',_0x582bf7['id']=_0x4e2834(0x48e)+_0x1e01b0;const _0x3ad9e6=document['createElement'](_0x4e2834(0x1c3));_0x3ad9e6['className']=_0x4e2834(0x1f6),_0x3ad9e6['id']=_0x4e2834(0x196)+_0x1e01b0,_0x3ad9e6[_0x4e2834(0x55e)]=_0x4e2834(0x21a);const _0x4c0489=document['createElement'](_0x4e2834(0x1c3));_0x4c0489[_0x4e2834(0x67c)]='float-right-totals',_0x4c0489['id']=_0x4e2834(0x3af)+_0x1e01b0,_0x4c0489[_0x4e2834(0x55e)]='0.00',_0x582bf7[_0x4e2834(0x52a)](_0x3ad9e6),_0x582bf7[_0x4e2834(0x52a)](_0x4c0489),_0x4ce860[_0x4e2834(0x52a)](_0x582bf7);const _0x48f0a0=document[_0x4e2834(0x242)]('button');_0x48f0a0['id']=_0x4e2834(0x315)+_0x1e01b0,_0x48f0a0[_0x4e2834(0x67c)]=_0x4e2834(0x1e8),_0x48f0a0[_0x4e2834(0x594)]=()=>validateOperation(_0x1e01b0,_0x4e2834(0x173));const _0x57d3c4=document['createElement'](_0x4e2834(0x1c3));_0x57d3c4[_0x4e2834(0x67c)]=_0x4e2834(0x583),_0x57d3c4['id']=_0x4e2834(0x2b8)+_0x1e01b0,_0x57d3c4[_0x4e2834(0x55e)]=_0x4e2834(0x20f);const _0x40cc37=document[_0x4e2834(0x242)](_0x4e2834(0x1c3));_0x40cc37[_0x4e2834(0x67c)]=_0x4e2834(0x187),_0x40cc37['id']='float-right-'+_0x1e01b0,_0x40cc37['innerHTML']=_0x4e2834(0x6bd),_0x48f0a0[_0x4e2834(0x52a)](_0x57d3c4),_0x48f0a0[_0x4e2834(0x52a)](_0x40cc37),_0x4ce860['appendChild'](_0x48f0a0);const _0xf11283=document['getElementById'](_0x4e2834(0x173)),_0x217ba9=document[_0x4e2834(0x242)]('div');_0x217ba9['id']=_0x4e2834(0x5c2)+_0x1e01b0,_0x217ba9[_0x4e2834(0x67c)]=_0x4e2834(0x6d9)+_0x1e01b0,_0xf11283[_0x4e2834(0x52a)](_0x217ba9);const _0x4e96a1=document[_0x4e2834(0x57b)](_0x4e2834(0x5c2)+_0x1e01b0),_0x56454f=document[_0x4e2834(0x242)](_0x4e2834(0x3a9));_0x56454f['id']=_0x4e2834(0x404)+_0x1e01b0,_0x56454f['className']=_0x4e2834(0x423),_0x4e96a1['appendChild'](_0x56454f);const _0x4de493=document[_0x4e2834(0x57b)]('container-section-pay-'+_0x1e01b0),_0x5c196f=createElement(_0x4e2834(0x39b),{'id':_0x4e2834(0x596)+_0x1e01b0,'class':'hidden','events':{'change':_0x2462e3=>handlePaymentMethodChange(_0x2462e3,_0x1e01b0)}},[createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x34b)},[_0x4e2834(0x47d)]),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x41f)},['Crédito']),createElement(_0x4e2834(0x398),{'value':_0x4e2834(0x6f2)},[_0x4e2834(0x4e3)])]),_0x13d318=createElement(_0x4e2834(0x3a9),{'class':_0x4e2834(0x522),'id':'payment-options-'+_0x1e01b0}),_0x533639=[{'value':_0x4e2834(0x34b),'text':'Contado','className':_0x4e2834(0x220),'imgSrc':_0x4e2834(0x551)},{'value':_0x4e2834(0x41f),'text':_0x4e2834(0x408),'className':_0x4e2834(0x3e0),'imgSrc':_0x4e2834(0x479)},{'value':_0x4e2834(0x6f2),'text':'Contado\x20y\x20Crédito','className':_0x4e2834(0x17b),'imgSrc':_0x4e2834(0x290)}];_0x533639[_0x4e2834(0x492)](_0x406590=>{const _0x3d1fa1=_0x4e2834,_0x31340a=createElement('a',{'href':'#','class':'payment-option\x20'+_0x406590[_0x3d1fa1(0x67c)]+_0x3d1fa1(0x240)+_0x1e01b0,'events':{'click':_0x1faede=>{const _0x1a3660=_0x3d1fa1;_0x1faede[_0x1a3660(0x2ad)](),document['getElementById'](_0x1a3660(0x596)+_0x1e01b0)[_0x1a3660(0x66e)]=_0x406590[_0x1a3660(0x66e)],triggerChangeEventById(_0x1a3660(0x596)+_0x1e01b0),updateActivePaymentOption(_0x1e01b0,_0x406590[_0x1a3660(0x67c)]);}}},[createElement('div',{},[_0x406590[_0x3d1fa1(0x496)]]),createElement(_0x3d1fa1(0x265),{'src':_0x406590[_0x3d1fa1(0x4a0)],'alt':_0x406590[_0x3d1fa1(0x496)],'class':_0x3d1fa1(0x6d5)})]);_0x13d318['appendChild'](_0x31340a);});const _0x4569d9=createElement(_0x4e2834(0x3a9),{'id':'div-total-pay-'+_0x1e01b0}),_0x8b8caf=createElement('div',{'id':_0x4e2834(0x465)+_0x1e01b0});_0x4de493['appendChild'](_0x5c196f),_0x4de493[_0x4e2834(0x52a)](_0x13d318),_0x4de493['appendChild'](_0x4569d9),_0x4de493[_0x4e2834(0x52a)](_0x8b8caf);const _0x185d6d=document[_0x4e2834(0x57b)](_0x4e2834(0x513)+_0x1e01b0);if(!_0x185d6d){console['error'](_0x4e2834(0x2e7));return;}_0x185d6d[_0x4e2834(0x309)](_0x185d6d['cloneNode'](!![]));const _0x34220a=document[_0x4e2834(0x57b)]('closeModalOptions-'+_0x1e01b0);_0x34220a[_0x4e2834(0x1ad)](_0x4e2834(0x4a6),()=>hideModalOptions());let _0x26af08=_0x2eead6[_0x4e2834(0x18f)][_0x2eead6[_0x4e2834(0x18b)]]['value'],_0x4a893e=null;for(const _0x5dd974 of setTipOpeSales){const _0x3b3c5d=Array[_0x4e2834(0x486)](_0x2eead6[_0x4e2834(0x18f)])['some'](_0x3c203c=>_0x3c203c['value']==_0x5dd974);if(_0x3b3c5d){_0x4a893e=_0x5dd974;break;}}_0x4a893e!==null&&(_0x26af08=_0x4a893e);const _0x2e6a77=getUserPermissionApiERP(0x9);parseInt(_0x2e6a77)>0x0&&(_0x26af08=_0x2e6a77);const _0x11541e=window_options[_0x1e01b0]&&window_options[_0x1e01b0]['setTipoOperacion']?window_options[_0x1e01b0][_0x4e2834(0x431)]:_0x26af08;let _0x5436b5=0x0;if(setTipOpeOrders[_0x4e2834(0x6e8)](_0xfadd5e=>_0xfadd5e==_0x11541e))_0x5436b5=0x1;else{if(setTipOpeSales['some'](_0x5e7cdb=>_0x5e7cdb==_0x11541e))_0x5436b5=0x2;else{if(setTipOpePurchases['some'](_0x5d4af6=>_0x5d4af6==_0x11541e))_0x5436b5=0x3;else setTipOpeQuotation[_0x4e2834(0x6e8)](_0x5994ca=>_0x5994ca==_0x11541e)&&(_0x5436b5=0x4);}}const _0x387bb7=myCompany['setDefaultNotes']['find'](_0x4a8a6b=>_0x4a8a6b[_0x4e2834(0x2ab)]==_0x5436b5)?.[_0x4e2834(0x5c1)]??'',_0x392c42=myCompany[_0x4e2834(0x6a3)]&&myCompany['setCollaborators'][_0x4e2834(0x2d3)](_0x57dc97=>_0x57dc97[_0x4e2834(0x3ba)]==myCompany[_0x4e2834(0x533)]['setUserDocNumber']),_0x43a0dc=_0x392c42?_0x392c42['setCollaboratorId']:_0x14f97c[_0x4e2834(0x18f)][_0x14f97c['selectedIndex']]['value'],_0x4eba1a=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x11541e,window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x5f1)]?window_options[_0x1e01b0][_0x4e2834(0x5f1)]:_0x43a0dc,window_options[_0x1e01b0]&&window_options[_0x1e01b0]['setDespacho']?window_options[_0x1e01b0][_0x4e2834(0x53d)]:_0x5380e5[_0x4e2834(0x18f)][_0x5380e5[_0x4e2834(0x18b)]]['value'],window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x4d8)]?window_options[_0x1e01b0]['setTipoOperacionInvoice']:_0xf3f7c5[_0x4e2834(0x18f)][_0xf3f7c5[_0x4e2834(0x18b)]][_0x4e2834(0x66e)],window_options[_0x1e01b0]&&window_options[_0x1e01b0]['setFechaHora']?window_options[_0x1e01b0]['setFechaHora']:_0x4eba1a,window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x717)]?window_options[_0x1e01b0][_0x4e2834(0x717)]:_0x387bb7,window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x2ee)]?window_options[_0x1e01b0]['setMoneda']:myCompany[_0x4e2834(0x5a8)],window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x71d)]?window_options[_0x1e01b0][_0x4e2834(0x71d)]:_0x31445c[_0x4e2834(0x18f)][_0x31445c[_0x4e2834(0x18b)]][_0x4e2834(0x66e)],window_options[_0x1e01b0]&&window_options[_0x1e01b0][_0x4e2834(0x2f1)]?window_options[_0x1e01b0]['setAttachEdit']:_0x587294['options'][_0x587294[_0x4e2834(0x18b)]][_0x4e2834(0x66e)],_0x1e01b0),await switchTab(_0x5903d4);}async function loadAndSaveOptionsWindow(_0x33bcdc,_0x26bcfa,_0x8154f5,_0x1e1ba,_0x5c4619,_0x59a240,_0x2d5cd3,_0x3fb578,_0x2ad288,_0x1f0f08){const _0x19776a=_0x3df022,_0x5098bf=document[_0x19776a(0x57b)]('setTipoOperacion-'+_0x1f0f08);_0x5098bf[_0x19776a(0x66e)]=_0x33bcdc,window_options[_0x1f0f08][_0x19776a(0x431)]=_0x33bcdc;const _0x101bc2=document[_0x19776a(0x57b)](_0x19776a(0x558)+_0x1f0f08);_0x101bc2[_0x19776a(0x66e)]=_0x26bcfa;const _0xef8d00=document[_0x19776a(0x57b)]('setVendedorCodigo-'+_0x1f0f08),_0x228299=_0xef8d00[_0x19776a(0x18f)][_0xef8d00[_0x19776a(0x18b)]][_0x19776a(0x496)];window_options[_0x1f0f08][_0x19776a(0x5f1)]=_0x26bcfa,window_options[_0x1f0f08][_0x19776a(0x5d2)]=_0x228299;const _0x3df573=document[_0x19776a(0x57b)](_0x19776a(0x682)+_0x1f0f08);_0x3df573[_0x19776a(0x66e)]=_0x8154f5,window_options[_0x1f0f08][_0x19776a(0x53d)]=_0x8154f5;const _0x222eb2=document[_0x19776a(0x57b)](_0x19776a(0x2e3)+_0x1f0f08);_0x222eb2[_0x19776a(0x66e)]=_0x1e1ba,window_options[_0x1f0f08][_0x19776a(0x4d8)]=_0x1e1ba;const _0x559bb8=document[_0x19776a(0x57b)](_0x19776a(0x17c)+_0x1f0f08);_0x559bb8[_0x19776a(0x66e)]=_0x5c4619,window_options[_0x1f0f08][_0x19776a(0x2c2)]=_0x5c4619;const _0x581384=document['getElementById'](_0x19776a(0x586)+_0x1f0f08);_0x581384[_0x19776a(0x66e)]=_0x59a240,window_options[_0x1f0f08][_0x19776a(0x717)]=_0x59a240;const _0xfa8c11=document[_0x19776a(0x57b)](_0x19776a(0x4a2)+_0x1f0f08);_0xfa8c11['value']=_0x2d5cd3,window_options[_0x1f0f08]['setMoneda']=_0x2d5cd3;const _0x3837a9=document['getElementById'](_0x19776a(0x2d8)+_0x1f0f08);_0x3837a9[_0x19776a(0x66e)]=_0x3fb578,window_options[_0x1f0f08][_0x19776a(0x71d)]=_0x3fb578;const _0x1d58b8=document[_0x19776a(0x57b)]('setAttachEdit-'+_0x1f0f08);_0x1d58b8[_0x19776a(0x66e)]=_0x2ad288,window_options[_0x1f0f08]['setAttachEdit']=_0x2ad288,await updateSerieOptions(_0x33bcdc,_0x1f0f08);}async function updateSerieAndRenderCart(_0x2614f3,_0x2edea4){_0x2614f3==0x4&&(window_options[_0x2edea4]['setClienteTipoDoc']='RUC'),await updateSerieOptions(_0x2614f3,_0x2edea4),renderCart(_0x2edea4),renderProducts();}async function updateSerieOptions(_0x3ed8c3,_0x48ce6d){return new Promise((_0x3393df,_0x101f13)=>{const _0xf3099a=_0xe3e9;window_options[_0x48ce6d][_0xf3099a(0x431)]=_0x3ed8c3;let _0x2257e2=document['getElementById'](_0xf3099a(0x1ee)+_0x48ce6d);const _0x1c172c=document['getElementById'](_0xf3099a(0x205)+_0x48ce6d),_0x5c6904=document[_0xf3099a(0x57b)]('setClienteDenominacion-'+_0x48ce6d);if(!_0x2257e2||!_0x1c172c||!_0x5c6904)return console[_0xf3099a(0x708)](_0xf3099a(0x2ce)),_0x101f13(_0xf3099a(0x2ce));_0x1c172c[_0xf3099a(0x66e)]='';let _0x145c5e;if(setTipOpeOrders[_0xf3099a(0x6e8)](_0x3c6a04=>_0x3c6a04==_0x3ed8c3)||setTipOpeSales['some'](_0x5320e8=>_0x5320e8==_0x3ed8c3)||setTipOpeQuotation[_0xf3099a(0x6e8)](_0x352f8=>_0x352f8==_0x3ed8c3))_0x145c5e=document[_0xf3099a(0x242)]('select'),_0x145c5e['id']=_0x2257e2['id'],_0x145c5e[_0xf3099a(0x67c)]=_0xf3099a(0x2cc),_0x5c6904[_0xf3099a(0x6a4)]=_0xf3099a(0x680);else{if(setTipOpePurchases[_0xf3099a(0x6e8)](_0x456384=>_0x456384==_0x3ed8c3))_0x145c5e=document[_0xf3099a(0x242)]('input'),_0x145c5e['type']='text',_0x145c5e['placeholder']=_0xf3099a(0x2a5),_0x145c5e['id']=_0x2257e2['id'],_0x145c5e[_0xf3099a(0x67c)]=_0xf3099a(0x646),_0x5c6904[_0xf3099a(0x6a4)]='Proveedor:';else return console[_0xf3099a(0x708)](_0xf3099a(0x48d)),_0x101f13(_0xf3099a(0x48d));}_0x2257e2[_0xf3099a(0x6df)]['replaceChild'](_0x145c5e,_0x2257e2),_0x2257e2=document['getElementById'](_0xf3099a(0x1ee)+_0x48ce6d),_0x2257e2['addEventListener']('change',function(_0xa600b){const _0x10962c=_0xf3099a;updateCorrelativoOnSerieChange(_0xa600b['target'][_0x10962c(0x66e)],_0x48ce6d);});setTipOpeExo[_0xf3099a(0x6e8)](_0x1dd0e5=>_0x1dd0e5==_0x3ed8c3)?(document[_0xf3099a(0x57b)](_0xf3099a(0x66c)+_0x48ce6d)[_0xf3099a(0x6c6)][_0xf3099a(0x5d7)](_0xf3099a(0x615)),document['getElementById'](_0xf3099a(0x191)+_0x48ce6d)[_0xf3099a(0x6c6)][_0xf3099a(0x5d7)]('d-none'),document[_0xf3099a(0x57b)](_0xf3099a(0x48e)+_0x48ce6d)[_0xf3099a(0x6c6)]['add'](_0xf3099a(0x615))):(document[_0xf3099a(0x57b)](_0xf3099a(0x66c)+_0x48ce6d)['classList'][_0xf3099a(0x38f)](_0xf3099a(0x615)),document['getElementById']('div-totals-right-TotalIgv-'+_0x48ce6d)[_0xf3099a(0x6c6)][_0xf3099a(0x38f)](_0xf3099a(0x615)),document['getElementById'](_0xf3099a(0x48e)+_0x48ce6d)['classList'][_0xf3099a(0x38f)]('d-none'));changeLabelBtn(_0x48ce6d,_0x3ed8c3);if(setTipOpeOrders[_0xf3099a(0x6e8)](_0x50a6fd=>_0x50a6fd==_0x3ed8c3)||setTipOpeSales[_0xf3099a(0x6e8)](_0x439b20=>_0x439b20==_0x3ed8c3)||setTipOpeQuotation[_0xf3099a(0x6e8)](_0x24c434=>_0x24c434==_0x3ed8c3)){const _0x50ae74=document['getElementById'](_0xf3099a(0x667))[_0xf3099a(0x66e)],_0x52e1d6=getUserPermissionApiERP(0x5);let _0x19d3f6;if(_0x52e1d6==0x1){const _0x36d083=getLoggedUserSeries();_0x19d3f6=_0x36d083[_0xf3099a(0x674)](_0x24a14b=>_0x24a14b[_0xf3099a(0x299)]==_0x3ed8c3&&String(_0x24a14b['setBranchId'])==_0x50ae74);}else _0x19d3f6=myCompany[_0xf3099a(0x3d6)]['filter'](_0x1b2f4d=>_0x1b2f4d['setSerieTipo']==_0x3ed8c3&&String(_0x1b2f4d[_0xf3099a(0x32b)])==_0x50ae74);_0x19d3f6[_0xf3099a(0x492)](_0x1605d9=>{const _0x555748=_0xf3099a;_0x52e1d6==0x1?_0x2257e2[_0x555748(0x52a)](createElement(_0x555748(0x398),{'value':_0x1605d9['setSeriesNumber']},[_0x1605d9[_0x555748(0x1ea)]])):_0x2257e2[_0x555748(0x52a)](createElement('option',{'value':_0x1605d9[_0x555748(0x52e)]},[_0x1605d9[_0x555748(0x52e)]]));});let _0x485f43='';_0x19d3f6['length']&&(_0x52e1d6==0x1?_0x485f43=_0x19d3f6[0x0][_0xf3099a(0x1ea)]:_0x485f43=_0x19d3f6[0x0]['setSerie'],_0x2257e2[_0xf3099a(0x66e)]=_0x485f43),setTimeout(()=>{const _0x2b57c5=_0xf3099a;updateCorrelativoOnSerieChange(_0x485f43,_0x48ce6d)[_0x2b57c5(0x2db)](()=>_0x3393df())['catch'](_0x2be770=>_0x101f13(_0x2be770));},0x0);}else window_options[_0x48ce6d]['setSerie']='',window_options[_0x48ce6d]['setCorrelativo']='',setTimeout(()=>{const _0xbd759b=_0xf3099a;saveWindowOptionsDB(_0x48ce6d)[_0xbd759b(0x2db)](()=>_0x3393df())[_0xbd759b(0x215)](_0x20ee81=>{const _0x132e6a=_0xbd759b;console[_0x132e6a(0x708)](_0x132e6a(0x188),_0x20ee81),_0x101f13(_0x20ee81);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x47e483,_0x2cb6ce){const _0x3a9229=_0x3df022,_0x40e32a=document['getElementById'](_0x3a9229(0x205)+_0x2cb6ce);if(!_0x40e32a)throw new Error('No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-'+_0x2cb6ce);window_options[_0x2cb6ce][_0x3a9229(0x52e)]=_0x47e483;const _0x12c41c=window_options[_0x2cb6ce][_0x3a9229(0x431)];window_options[_0x2cb6ce]['setCorrelativo']='';if(setTipOpeOrders[_0x3a9229(0x6e8)](_0xd65351=>_0xd65351==_0x12c41c)||setTipOpeSales['some'](_0xff9af6=>_0xff9af6==_0x12c41c)||setTipOpeQuotation[_0x3a9229(0x6e8)](_0x4a7289=>_0x4a7289==_0x12c41c)){const _0x27f357=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x5a2754,_0x521753;if(_0x27f357==0x1){const _0x18a1e4=getLoggedUserSeries();_0x5a2754=_0x18a1e4[_0x3a9229(0x2d3)](_0xb80670=>_0xb80670[_0x3a9229(0x1ea)]==_0x47e483),_0x521753=_0x5a2754?.[_0x3a9229(0x1e0)]??0x1;}else _0x5a2754=myCompany[_0x3a9229(0x3d6)]['find'](_0x31d49c=>_0x31d49c[_0x3a9229(0x52e)]==_0x47e483),_0x521753=_0x5a2754?.[_0x3a9229(0x714)]??0x1;_0x40e32a[_0x3a9229(0x66e)]=_0x521753,window_options[_0x2cb6ce][_0x3a9229(0x31c)]=_0x521753;}try{await saveWindowOptionsDB(_0x2cb6ce);}catch(_0x480b30){console[_0x3a9229(0x708)](_0x3a9229(0x188),_0x480b30);throw _0x480b30;}}function updateActivePaymentOption(_0x5d566f,_0x18d313){const _0x427aa1=_0x3df022;document[_0x427aa1(0x4e8)]('.payment-option-'+_0x5d566f)[_0x427aa1(0x492)](_0x3614fa=>_0x3614fa['classList'][_0x427aa1(0x38f)]('active-payment')),document[_0x427aa1(0x5cd)]('.'+_0x18d313+'.payment-option-'+_0x5d566f)?.[_0x427aa1(0x6c6)][_0x427aa1(0x5d7)](_0x427aa1(0x42f));}function triggerChangeEventById(_0x547b24){const _0x3bba10=_0x3df022,_0x104a73=document[_0x3bba10(0x57b)](_0x547b24);if(!_0x104a73){console[_0x3bba10(0x708)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x547b24);return;}const _0x1b3967=new Event(_0x3bba10(0x46a),{'bubbles':!![],'cancelable':!![]});_0x104a73[_0x3bba10(0x2d4)](_0x1b3967);}async function updateChangeMoneda(_0x57ee1e,_0x4dedb8,_0x4eeb17){await updateWindowOption(_0x57ee1e,_0x4dedb8,_0x4eeb17),renderCart(_0x57ee1e),renderProducts();}function getCurrencySymbol(_0x369672){const _0x1c1ad1=_0x3df022,_0x30f427=document[_0x1c1ad1(0x57b)]('setMoneda-'+_0x369672)[_0x1c1ad1(0x66e)],_0x32871a=myCompany[_0x1c1ad1(0x3f9)][_0x1c1ad1(0x2d3)](_0x49a1e0=>_0x49a1e0[_0x1c1ad1(0x334)]==_0x30f427);return _0x32871a?_0x32871a[_0x1c1ad1(0x176)]:'';}function changeLabelBtn(_0x2451c9,_0x338a4d){const _0x30825d=_0x3df022;let _0x35ac73='';const _0x57db43=document[_0x30825d(0x57b)](_0x30825d(0x2b8)+_0x2451c9);if(setTipOpeOrders[_0x30825d(0x6e8)](_0x3c848d=>_0x3c848d==_0x338a4d))_0x35ac73=_0x30825d(0x3f4);else{if(setTipOpeSales[_0x30825d(0x6e8)](_0x588e00=>_0x588e00==_0x338a4d))_0x35ac73=_0x30825d(0x20f);else{if(setTipOpePurchases[_0x30825d(0x6e8)](_0x579c81=>_0x579c81==_0x338a4d))_0x35ac73=_0x30825d(0x414);else setTipOpeQuotation[_0x30825d(0x6e8)](_0x420650=>_0x420650==_0x338a4d)&&(_0x35ac73='COTIZAR');}}_0x57db43[_0x30825d(0x55e)]=_0x35ac73;}function setDivTotalPay(_0x1e50c2){const _0x41a1a7=_0x3df022,_0x2224fc=document[_0x41a1a7(0x57b)](_0x41a1a7(0x333)+_0x1e50c2);_0x2224fc[_0x41a1a7(0x55e)]='';const _0x24a225=document[_0x41a1a7(0x57b)](_0x41a1a7(0x665)+_0x1e50c2)[_0x41a1a7(0x1f4)],_0x5a1361=createElement('label',{'class':_0x41a1a7(0x6b8),'style':'width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','innerHTML':_0x41a1a7(0x243)+_0x24a225+_0x41a1a7(0x47b)}),_0x4a047b=createElement(_0x41a1a7(0x3a9),{'class':_0x41a1a7(0x33b)},[_0x5a1361]);_0x2224fc[_0x41a1a7(0x52a)](_0x4a047b);}function handlePaymentMethodChange(_0x556c03,_0x4ab4e0){const _0x31a8fe=_0x3df022,_0x1536f0=document[_0x31a8fe(0x57b)](_0x31a8fe(0x465)+_0x4ab4e0);_0x1536f0['innerHTML']='';const _0x1b53d1=_0x556c03['target'][_0x31a8fe(0x66e)];!medio_pago[_0x4ab4e0]&&(medio_pago[_0x4ab4e0]={});if(_0x1b53d1==_0x31a8fe(0x34b))_0x1536f0[_0x31a8fe(0x52a)](createContadoForm(_0x4ab4e0)),medio_pago[_0x4ab4e0]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x1b53d1==_0x31a8fe(0x41f))_0x1536f0[_0x31a8fe(0x52a)](createCreditoForm(_0x4ab4e0)),medio_pago[_0x4ab4e0]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x1b53d1==_0x31a8fe(0x6f2)&&(_0x1536f0[_0x31a8fe(0x52a)](createMixtoForm(_0x4ab4e0)),medio_pago[_0x4ab4e0]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x254e55=createElement('div',{'id':_0x31a8fe(0x335)+_0x4ab4e0},[]);_0x1536f0[_0x31a8fe(0x52a)](_0x254e55);const _0x5ef431=createElement(_0x31a8fe(0x4bd),{'id':'btnSaveOperacion-'+_0x4ab4e0,'class':_0x31a8fe(0x6eb),'type':'button','events':{'click':()=>saveOperation(_0x4ab4e0)}},['FINALIZAR\x20OPERACIÓN']);_0x1536f0['appendChild'](_0x5ef431);}function createContadoForm(_0x489ec9){const _0xf02e5b=_0x3df022,_0x3e9e95=createElement(_0xf02e5b(0x3a9),{},[]),_0x2549b6=getTotalFromFloatRight(_0x489ec9),_0x3353a8=myCompany[_0xf02e5b(0x62b)],_0x35a0e8={},_0x23d5a9={};_0x3353a8['forEach']((_0x1e472c,_0x34c2d0)=>{const _0x51b87b=_0xf02e5b,_0x2d4cda=_0x51b87b(0x631)+_0x1e472c[_0x51b87b(0x406)]+'-'+_0x489ec9+'-'+_0x34c2d0,_0x3e0d5c=createElement(_0x51b87b(0x3a9),{'class':'div-width-10\x20div_margen'},[]),_0x322bea=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x23e)},[]),_0x270641=createElement(_0x51b87b(0x22b),{'for':_0x2d4cda,'class':_0x51b87b(0x4ba)},['\x20'+_0x1e472c['setPaymentName']+':']),_0x2d68df=createElement(_0x51b87b(0x282),{'type':_0x51b87b(0x476),'id':_0x2d4cda,'placeholder':'0.00','class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','value':_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x68e)||_0x1e472c[_0x51b87b(0x406)]=='cash'?_0x2549b6:'','events':{'input':_0x183b8a=>handleContadoInput(_0x183b8a,_0x489ec9)}});_0x2d68df[_0x51b87b(0x1e1)][_0x51b87b(0x4f1)]=_0x1e472c[_0x51b87b(0x406)];const _0x386359=createElement('select',{'class':'custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','events':{'change':_0x4058d6=>handleContadoInput(_0x4058d6,_0x489ec9)}},[]),_0x30c127=myCompany[_0x51b87b(0x673)],_0x37d021=_0x30c127[_0x51b87b(0x674)](_0x333798=>_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x68e)||_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x1ab)?setBankTypeCashRegister[_0x51b87b(0x6e8)](_0x1160f3=>_0x1160f3==_0x333798['setBankType']):!setBankTypeCashRegister[_0x51b87b(0x6e8)](_0x22c264=>_0x22c264==_0x333798[_0x51b87b(0x650)]));_0x37d021[_0x51b87b(0x492)](_0x14b635=>{const _0x396f5c=_0x51b87b,_0xe0b71=createElement(_0x396f5c(0x398),{'value':_0x14b635[_0x396f5c(0x546)]},[_0x14b635['setBankName']]);_0x386359['appendChild'](_0xe0b71);}),_0x386359['dataset'][_0x51b87b(0x4f1)]=_0x1e472c['setPaymentCode'];let _0x528de4=null;_0x1e472c[_0x51b87b(0x406)]=='efectivo'||_0x1e472c[_0x51b87b(0x406)]=='cash'?_0x528de4=createElement(_0x51b87b(0x3a9),{'class':'div-width-15'},[]):_0x528de4=createElement(_0x51b87b(0x282),{'type':'text','placeholder':_0x51b87b(0x16c),'class':'custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','events':{'input':_0x3dc7ac=>handleContadoInput(_0x3dc7ac,_0x489ec9)}});_0x528de4['dataset'][_0x51b87b(0x4f1)]=_0x1e472c[_0x51b87b(0x406)];let _0x320c98=null,_0x28c83b=null,_0x43f672=createElement(_0x51b87b(0x3a9),{'class':'div-width-25'},[]),_0x4b01a2=createElement('div',{'class':_0x51b87b(0x1a6)},[]);_0x1e472c[_0x51b87b(0x227)]=='1'?(_0x320c98=createElement('input',{'type':'number','placeholder':_0x51b87b(0x604),'class':_0x51b87b(0x1b4)}),_0x320c98[_0x51b87b(0x1e1)]['method']=_0x1e472c[_0x51b87b(0x406)],_0x28c83b=createElement(_0x51b87b(0x282),{'type':_0x51b87b(0x476),'placeholder':'Total\x20Comisión','class':_0x51b87b(0x4fd),'readonly':!![]}),_0x28c83b[_0x51b87b(0x1e1)][_0x51b87b(0x4f1)]=_0x1e472c[_0x51b87b(0x406)],_0x320c98[_0x51b87b(0x1ad)](_0x51b87b(0x282),_0x3dbf70=>{const _0x36d6e2=_0x51b87b,_0x11cb5d=parseFloat(_0x320c98['value'])||0x0,_0x47fdd3=parseFloat(_0x2d68df[_0x36d6e2(0x66e)])||0x0;_0x28c83b[_0x36d6e2(0x66e)]=(_0x11cb5d/0x64*_0x47fdd3)[_0x36d6e2(0x353)](0x2),handleContadoInput(_0x3dbf70,_0x489ec9);})):(_0x320c98=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x417)},[]),_0x28c83b=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x1a6)},[]));let _0x726d6='';_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x68e)||_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x1ab)?_0x726d6='':_0x726d6=_0x51b87b(0x615);const _0x151660=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x325)+_0x726d6},[_0x3e0d5c,_0x270641,_0x2d68df,_0x386359,_0x528de4,_0x322bea]);_0x3e9e95['appendChild'](_0x151660),_0x35a0e8[_0x1e472c[_0x51b87b(0x406)]]=_0x151660;if(_0x1e472c[_0x51b87b(0x227)]=='1'){const _0x18f2cd=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x23e)},[]),_0x2f94af=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x23e)},[]),_0x41590a=createElement(_0x51b87b(0x3a9),{'class':_0x51b87b(0x325)+_0x726d6},[_0x18f2cd,_0x43f672,_0x320c98,_0x28c83b,_0x4b01a2,_0x2f94af]);_0x3e9e95['appendChild'](_0x41590a),_0x23d5a9[_0x1e472c[_0x51b87b(0x406)]]=_0x41590a;}(_0x1e472c[_0x51b87b(0x406)]==_0x51b87b(0x68e)||_0x1e472c['setPaymentCode']=='cash')&&setTimeout(()=>{const _0x2397cd=_0x51b87b;_0x2d68df[_0x2397cd(0x2d4)](new Event('input',{'bubbles':!![]}));});});const _0x64a16e=createElement(_0xf02e5b(0x3a9),{'class':_0xf02e5b(0x23e)},[]),_0x2ca0ea=createElement('select',{'class':_0xf02e5b(0x1da),'events':{'change':_0x5f4886=>{const _0x1259c3=_0xf02e5b,_0x5228b5=_0x5f4886[_0x1259c3(0x4df)][_0x1259c3(0x66e)];if(_0x5228b5){const _0x5d55ee=getTotalFromFloatRight(_0x489ec9);Object[_0x1259c3(0x6ec)](_0x35a0e8)['forEach'](([_0x36e894,_0x483ad9])=>{const _0x51ece1=_0x1259c3,_0x3758b5=_0x483ad9[_0x51ece1(0x5cd)](_0x51ece1(0x3cb)),_0x6744ec=_0x23d5a9[_0x36e894];if(_0x36e894===_0x5228b5){_0x483ad9[_0x51ece1(0x6c6)]['remove']('d-none');if(_0x6744ec)_0x6744ec['classList'][_0x51ece1(0x38f)](_0x51ece1(0x615));_0x3758b5[_0x51ece1(0x66e)]=_0x5d55ee['toFixed'](0x2),_0x3758b5[_0x51ece1(0x2d4)](new Event(_0x51ece1(0x282),{'bubbles':!![]})),_0x3758b5[_0x51ece1(0x3b3)]();}else{_0x3758b5&&(_0x3758b5[_0x51ece1(0x66e)]='',_0x3758b5[_0x51ece1(0x2d4)](new Event('input',{'bubbles':!![]})));if(_0x6744ec){const _0x42cd0e=_0x6744ec[_0x51ece1(0x5cd)]('.input-array-comision'),_0x59588a=_0x6744ec[_0x51ece1(0x5cd)](_0x51ece1(0x2a7));if(_0x42cd0e)_0x42cd0e['value']='';if(_0x59588a)_0x59588a[_0x51ece1(0x66e)]='';}}});}_0x5f4886[_0x1259c3(0x4df)][_0x1259c3(0x66e)]='';}}},[]),_0x40f8ef=createElement(_0xf02e5b(0x398),{'value':''},['Otros\x20medios\x20de\x20pago']);_0x2ca0ea[_0xf02e5b(0x52a)](_0x40f8ef),_0x3353a8[_0xf02e5b(0x492)](_0x3f2ba9=>{const _0x205164=_0xf02e5b;if(!(_0x3f2ba9[_0x205164(0x406)]==_0x205164(0x68e)||_0x3f2ba9['setPaymentCode']==_0x205164(0x1ab))){const _0x2f13b8=createElement('option',{'value':_0x3f2ba9[_0x205164(0x406)]},[_0x3f2ba9[_0x205164(0x244)]]);_0x2ca0ea['appendChild'](_0x2f13b8);}});const _0x52bfd4=createElement(_0xf02e5b(0x3a9),{'class':'d-flex\x20mb-3'},[_0x64a16e,_0x2ca0ea]);return _0x3e9e95['appendChild'](_0x52bfd4),_0x3e9e95;}function handleContadoInput(_0x3f2d3e,_0x5cc29f){const _0xdb375f=_0x3df022,_0x6d2f77=getTotalFromFloatRight(_0x5cc29f),_0x273a31=Array['from'](document[_0xdb375f(0x4e8)](_0xdb375f(0x677)+_0x5cc29f+'\x20input.input-array-method')),_0x4df2af=_0x273a31[_0xdb375f(0x6a5)]((_0x83c744,_0x3d16e2)=>_0x83c744+parseFloat(_0x3d16e2[_0xdb375f(0x66e)]||0x0),0x0),_0x41cbdb={};_0x273a31[_0xdb375f(0x492)](_0x152c1c=>{const _0x364537=_0xdb375f,_0xc30918=_0x152c1c['dataset'][_0x364537(0x4f1)][_0x364537(0x214)]();_0x41cbdb[_0xc30918]=parseFloat(_0x152c1c[_0x364537(0x66e)])||0x0;});const _0x5c0327={..._0x41cbdb};if(_0x4df2af>_0x6d2f77){const _0x145fa7=_0x4df2af-_0x6d2f77,_0x3a5177=_0x273a31[_0xdb375f(0x2d3)](_0xab7014=>[_0xdb375f(0x68e),'cash']['includes'](_0xab7014['dataset'][_0xdb375f(0x4f1)]['toLowerCase']()));if(_0x3a5177){const _0x1778cb=_0x3a5177[_0xdb375f(0x1e1)][_0xdb375f(0x4f1)]['toLowerCase']();_0x5c0327[_0x1778cb]=Math['max'](0x0,_0x5c0327[_0x1778cb]-_0x145fa7);}else{const _0x289dae=Object['keys'](_0x5c0327)[0x0];_0x5c0327[_0x289dae]=Math[_0xdb375f(0x32a)](0x0,_0x5c0327[_0x289dae]-_0x145fa7);}}if(medio_pago[_0x5cc29f]['mixto'][_0xdb375f(0x332)]&&_0x4df2af>=_0x6d2f77){_0x3f2d3e[_0xdb375f(0x4df)][_0xdb375f(0x66e)]='',_0x3f2d3e[_0xdb375f(0x4df)][_0xdb375f(0x2d4)](new Event(_0xdb375f(0x282),{'bubbles':!![]}));return;}const _0x568d79=_0x6d2f77-_0x4df2af,_0x8cf0b6=Math['abs'](Math['min'](_0x568d79,0x0)),_0x5b0f86=Math['max'](_0x568d79,0x0),_0x53c77c={'total':_0x6d2f77,'debe':_0x5b0f86,'vuelto':_0x8cf0b6};_0x273a31[_0xdb375f(0x492)](_0x1b2232=>{const _0x531523=_0xdb375f,_0x50bb31=_0x1b2232[_0x531523(0x1e1)][_0x531523(0x4f1)]['toLowerCase'](),_0x20b26e=_0x41cbdb[_0x50bb31],_0x132c07=_0x5c0327[_0x50bb31];_0x53c77c[_0x50bb31]={'monto_calc':_0x20b26e,'monto':_0x132c07};});const _0x56830a=Array[_0xdb375f(0x486)](document['querySelectorAll']('#pay-container-'+_0x5cc29f+_0xdb375f(0x16a)));_0x56830a[_0xdb375f(0x492)](_0x51aace=>{const _0x40ac8a=_0xdb375f,_0x4f50a3=_0x51aace['dataset'][_0x40ac8a(0x4f1)][_0x40ac8a(0x214)]();if(!_0x53c77c[_0x4f50a3])_0x53c77c[_0x4f50a3]={};_0x53c77c[_0x4f50a3]['banco']=_0x51aace[_0x40ac8a(0x66e)];});const _0x3cf2c5=Array[_0xdb375f(0x486)](document[_0xdb375f(0x4e8)](_0xdb375f(0x677)+_0x5cc29f+_0xdb375f(0x382)));_0x3cf2c5[_0xdb375f(0x492)](_0x2a8c86=>{const _0x1f001d=_0xdb375f,_0x44ee31=_0x2a8c86[_0x1f001d(0x1e1)][_0x1f001d(0x4f1)][_0x1f001d(0x214)]();if(!_0x53c77c[_0x44ee31])_0x53c77c[_0x44ee31]={};_0x53c77c[_0x44ee31][_0x1f001d(0x2ef)]=_0x2a8c86[_0x1f001d(0x66e)];});const _0x52c4cc=Array[_0xdb375f(0x486)](document[_0xdb375f(0x4e8)](_0xdb375f(0x677)+_0x5cc29f+_0xdb375f(0x3ca)));_0x52c4cc[_0xdb375f(0x492)](_0x20df20=>{const _0x5e9ca1=_0xdb375f,_0x189767=_0x20df20[_0x5e9ca1(0x1e1)][_0x5e9ca1(0x4f1)][_0x5e9ca1(0x214)]();if(!_0x53c77c[_0x189767])_0x53c77c[_0x189767]={};_0x53c77c[_0x189767][_0x5e9ca1(0x554)]=parseFloat(_0x20df20[_0x5e9ca1(0x66e)]||0x0);});const _0x23750a=Array['from'](document['querySelectorAll'](_0xdb375f(0x677)+_0x5cc29f+_0xdb375f(0x1af)));_0x23750a[_0xdb375f(0x492)](_0x14d450=>{const _0x5c008b=_0xdb375f,_0x5c1166=_0x14d450[_0x5c008b(0x1e1)]['method'][_0x5c008b(0x214)]();if(!_0x53c77c[_0x5c1166])_0x53c77c[_0x5c1166]={};_0x53c77c[_0x5c1166][_0x5c008b(0x3d9)]=parseFloat(_0x14d450['value']||0x0);}),medio_pago[_0x5cc29f]['contado'][_0xdb375f(0x387)]=_0x53c77c;const _0x4e5dfd=getCurrencySymbol(_0x5cc29f);let _0x194f2b=document[_0xdb375f(0x57b)](_0xdb375f(0x298)+_0x5cc29f);if(!_0x194f2b){_0x194f2b=createElement(_0xdb375f(0x3a9),{'id':_0xdb375f(0x298)+_0x5cc29f,'class':_0xdb375f(0x68a)});const _0x242ff4=document[_0xdb375f(0x57b)](_0xdb375f(0x335)+_0x5cc29f);_0x242ff4[_0xdb375f(0x52a)](_0x194f2b);}_0x194f2b[_0xdb375f(0x55e)]=_0x568d79>0x0?_0xdb375f(0x1d6)+_0x4e5dfd+'\x20'+_0x5b0f86[_0xdb375f(0x353)](0x2)+_0xdb375f(0x47b):'Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>'+_0x4e5dfd+'\x20'+_0x8cf0b6[_0xdb375f(0x353)](0x2)+_0xdb375f(0x47b),_0x194f2b[_0xdb375f(0x3f6)][_0xdb375f(0x6ba)]=_0xdb375f(0x515),console[_0xdb375f(0x189)](_0xdb375f(0x6ea)+_0x5cc29f+_0xdb375f(0x4c2),medio_pago[_0x5cc29f]);}function createCreditoForm(_0x2a13ea){const _0x1e7e4a=_0x3df022,_0x44aa43=createElement('div',{},[]),_0x42e0b1=createElement('i',{'class':_0x1e7e4a(0x531)}),_0x48f7b0=createElement('label',{'for':_0x1e7e4a(0x459)+_0x2a13ea,'class':_0x1e7e4a(0x4ba)},[_0x42e0b1,_0x1e7e4a(0x3c1)]),_0x19ec34=createElement(_0x1e7e4a(0x39b),{'id':_0x1e7e4a(0x459)+_0x2a13ea,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','events':{'change':_0x4b7616=>handleCuotasChange(_0x4b7616,_0x2a13ea)}},[createElement('option',{'value':'','disabled':!![],'selected':!![]},[_0x1e7e4a(0x405)]),...Array['from']({'length':0x18},(_0x214947,_0x4119c6)=>createElement(_0x1e7e4a(0x398),{'value':_0x4119c6+0x1},[_0x4119c6+0x1+'\x20cuota'+(_0x4119c6>0x0?'s':'')]))]),_0x510a02=createElement(_0x1e7e4a(0x3a9),{'class':_0x1e7e4a(0x23e)}),_0x1936fb=createElement(_0x1e7e4a(0x3a9),{'class':'div-width-15\x20div_margen'}),_0x293b41=createElement(_0x1e7e4a(0x3a9),{'class':_0x1e7e4a(0x33b)},[_0x510a02,_0x48f7b0,_0x19ec34,_0x1936fb]);_0x44aa43[_0x1e7e4a(0x52a)](_0x293b41);const _0x32113b=createElement(_0x1e7e4a(0x3a9),{'id':_0x1e7e4a(0x525)+_0x2a13ea});return _0x44aa43[_0x1e7e4a(0x52a)](_0x32113b),_0x44aa43;}function handleCuotasChange(_0x29c7ae,_0x2be7e0){const _0x3fc977=_0x3df022,_0x59ce8a=document[_0x3fc977(0x57b)](_0x3fc977(0x525)+_0x2be7e0);_0x59ce8a['innerHTML']='';const _0x12313f=parseInt(_0x29c7ae[_0x3fc977(0x4df)][_0x3fc977(0x66e)],0xa);medio_pago[_0x2be7e0][_0x3fc977(0x41f)][_0x3fc977(0x387)]=[];const _0x679fdc=parseFloat(getTotalFromFloatRight(_0x2be7e0));let _0x4dd78f=_0x679fdc;if(medio_pago[_0x2be7e0][_0x3fc977(0x6f2)]['status']){const _0x4ccd7f=Array[_0x3fc977(0x486)](document[_0x3fc977(0x4e8)](_0x3fc977(0x677)+_0x2be7e0+_0x3fc977(0x5ac))),_0x2eb43d=_0x4ccd7f[_0x3fc977(0x6a5)]((_0x12df71,_0x35b5fa)=>_0x12df71+parseFloat(_0x35b5fa[_0x3fc977(0x66e)]||0x0),0x0);if(_0x2eb43d>=_0x679fdc){_0x29c7ae['target'][_0x3fc977(0x66e)]='',_0x29c7ae['target'][_0x3fc977(0x2d4)](new Event(_0x3fc977(0x282),{'bubbles':!![]}));return;}_0x4dd78f=Math['max'](_0x679fdc-_0x2eb43d,0x0);}let _0x50cc8f=Array(_0x12313f)['fill']()[_0x3fc977(0x6c0)]((_0x57aa5e,_0x4ea7b8)=>({'cuota':_0x4ea7b8+0x1,'monto':parseFloat((_0x4dd78f/_0x12313f)['toFixed'](0x2)),'fechaVencimiento':'','editado':![]}));function _0x388e93(){const _0x390885=_0x3fc977;let _0x3256b5=_0x50cc8f[_0x390885(0x6a5)]((_0x25a376,_0x7afa5c)=>_0x25a376+_0x7afa5c['monto'],0x0),_0x12b4ca=_0x4dd78f-_0x3256b5,_0x1e6ad8=_0x50cc8f[_0x390885(0x674)](_0x1a9b92=>!_0x1a9b92[_0x390885(0x21b)]);if(_0x1e6ad8['length']==0x0)return;let _0x4065e7=parseFloat((_0x12b4ca/_0x1e6ad8[_0x390885(0x527)])[_0x390885(0x353)](0x2)),_0x2fe3bb=_0x12b4ca-_0x4065e7*_0x1e6ad8[_0x390885(0x527)];_0x1e6ad8[_0x390885(0x492)]((_0x39070e,_0xb4a90f)=>{const _0x5b087e=_0x390885;_0x39070e[_0x5b087e(0x67f)]+=_0x4065e7,_0xb4a90f==_0x1e6ad8[_0x5b087e(0x527)]-0x1&&(_0x39070e[_0x5b087e(0x67f)]+=_0x2fe3bb);}),_0x429517(),medio_pago[_0x2be7e0][_0x390885(0x41f)][_0x390885(0x387)]=_0x50cc8f[_0x390885(0x6c0)](({cuota:_0x5bc185,monto:_0x53c8b8,fechaVencimiento:_0x590bff})=>({'cuota':_0x5bc185,'monto':_0x53c8b8,'fechaVencimiento':_0x590bff}));}function _0x429517(){const _0x1618ad=_0x3fc977,_0x29bb2d=_0x59ce8a[_0x1618ad(0x4e8)](_0x1618ad(0x67a));_0x29bb2d['forEach']((_0x45dd65,_0x47d762)=>{const _0xd5eb7d=_0x1618ad;_0x45dd65['value']=_0x50cc8f[_0x47d762][_0xd5eb7d(0x67f)][_0xd5eb7d(0x353)](0x2);});}function _0x1aadd0(_0x1c4606,_0x367a1d,_0x168707){const _0x5b8010=_0x3fc977;if(_0x168707=='monto'){let _0x2cc541=parseFloat(_0x367a1d)||0x0,_0x255cf2=_0x50cc8f[_0x5b8010(0x6a5)]((_0x47ac89,_0x476d19,_0x3ec863)=>{const _0x10d8ff=_0x5b8010;if(_0x3ec863!==_0x1c4606-0x1&&_0x476d19[_0x10d8ff(0x21b)])return _0x47ac89+_0x476d19['monto'];return _0x47ac89;},0x0);const _0x460ad1=parseFloat((_0x4dd78f-_0x255cf2)[_0x5b8010(0x353)](0x2));let _0x528169=_0x50cc8f['filter']((_0x247594,_0xb62be9)=>!_0x247594[_0x5b8010(0x21b)]&&_0xb62be9!==_0x1c4606-0x1)[_0x5b8010(0x527)];if(_0x528169==0x0&&_0x2cc541!==_0x460ad1)ntfShow(_0x5b8010(0x6c9)+_0x460ad1+'\x20para\x20completar\x20el\x20total.'),_0x2cc541=_0x460ad1;else _0x2cc541>_0x460ad1&&(ntfShow(_0x5b8010(0x41b)+_0x460ad1+'.'),_0x2cc541=_0x460ad1);_0x50cc8f[_0x1c4606-0x1][_0x5b8010(0x67f)]=_0x2cc541,_0x50cc8f[_0x1c4606-0x1][_0x5b8010(0x21b)]=!![];const _0x5be089=_0x59ce8a['querySelectorAll'](_0x5b8010(0x67a));_0x5be089[_0x1c4606-0x1]&&(_0x5be089[_0x1c4606-0x1][_0x5b8010(0x66e)]=_0x2cc541[_0x5b8010(0x353)](0x2)),_0x388e93();}else _0x168707==_0x5b8010(0x46d)&&(_0x50cc8f[_0x1c4606-0x1][_0x5b8010(0x21d)]=_0x367a1d);medio_pago[_0x2be7e0][_0x5b8010(0x41f)][_0x5b8010(0x387)]=_0x50cc8f[_0x5b8010(0x6c0)](({cuota:_0x401bd4,monto:_0x196e54,fechaVencimiento:_0x56910e})=>({'cuota':_0x401bd4,'monto':_0x196e54,'fechaVencimiento':_0x56910e}));}for(let _0x3e663c=0x1;_0x3e663c<=_0x12313f;_0x3e663c++){const _0x46df03=createElement(_0x3fc977(0x3a9),{'class':_0x3fc977(0x23e)}),_0x334319=createElement(_0x3fc977(0x22b),{'class':_0x3fc977(0x4ba),'style':'font-size:\x2014px;'},[_0x3fc977(0x354)+_0x3e663c+':\x20']),_0x57b312=createElement(_0x3fc977(0x282),{'type':_0x3fc977(0x38d),'class':_0x3fc977(0x4ae),'events':{'change':_0x55e118=>_0x1aadd0(_0x3e663c,_0x55e118['target'][_0x3fc977(0x66e)],_0x3fc977(0x46d))}}),_0x52300d=createElement(_0x3fc977(0x282),{'type':_0x3fc977(0x476),'class':_0x3fc977(0x4ae),'placeholder':_0x3fc977(0x25b),'value':_0x50cc8f[_0x3e663c-0x1][_0x3fc977(0x67f)],'events':{'change':_0x1b34df=>_0x1aadd0(_0x3e663c,_0x1b34df[_0x3fc977(0x4df)][_0x3fc977(0x66e)],'monto')}}),_0x47a75a=createElement('div',{'class':_0x3fc977(0x3a6)}),_0x2c3d3a=createElement('div',{'class':_0x3fc977(0x33b)},[_0x46df03,_0x334319,_0x57b312,_0x52300d,_0x47a75a]);_0x59ce8a[_0x3fc977(0x52a)](_0x2c3d3a);}}function updateMedioPagoCredito(_0x3a5353,_0x25daa6,_0xc96417,_0x4ce079,_0x1722eb){const _0x16ff12=_0x3df022;!medio_pago[_0x4ce079]['credito'][_0x16ff12(0x387)][_0x25daa6-0x1]&&(medio_pago[_0x4ce079][_0x16ff12(0x41f)]['data'][_0x25daa6-0x1]={'cuota':_0x25daa6});if(_0x1722eb==_0x16ff12(0x46d))medio_pago[_0x4ce079][_0x16ff12(0x41f)][_0x16ff12(0x387)][_0x25daa6-0x1][_0x16ff12(0x21d)]=_0xc96417;else _0x1722eb==_0x16ff12(0x67f)&&(medio_pago[_0x4ce079][_0x16ff12(0x41f)]['data'][_0x25daa6-0x1][_0x16ff12(0x67f)]=_0xc96417);console['log'](_0x16ff12(0x49c),medio_pago[_0x4ce079]);}function createMixtoForm(_0xd034bb){const _0x2df525=_0x3df022,_0x5e011d=createElement(_0x2df525(0x3a9),{},[]),_0x4aa564=createContadoForm(_0xd034bb);_0x5e011d[_0x2df525(0x52a)](_0x4aa564);const _0x23b607=createCreditoForm(_0xd034bb);_0x5e011d[_0x2df525(0x52a)](_0x23b607);let _0x1fb4cc=document[_0x2df525(0x57b)](_0x2df525(0x298)+_0xd034bb);return!_0x1fb4cc&&(_0x1fb4cc=createElement(_0x2df525(0x3a9),{'id':'status-label-'+_0xd034bb,'class':'label-debe-vuelto'}),_0x5e011d['appendChild'](_0x1fb4cc)),_0x5e011d;}function getTotalFromFloatRight(_0x57a7b4){const _0x426e28=_0x3df022,_0x5aa353=document[_0x426e28(0x57b)](_0x426e28(0x665)+_0x57a7b4)[_0x426e28(0x1f4)];return parseFloat(_0x5aa353[_0x426e28(0x503)](/[S/$]/g,'')[_0x426e28(0x428)]());}function toggleTaxFields(_0x1dac32,_0x281a19,_0x25f00c){const _0x11ff04=_0x3df022,_0x11d82e=_0x1dac32[_0x11ff04(0x4df)][_0x11ff04(0x3ee)];if(_0x281a19==_0x11ff04(0x6a0)){const _0x227218=document['getElementById']('detraccionCodigo-'+_0x25f00c);_0x11d82e?(_0x227218[_0x11ff04(0x6c6)][_0x11ff04(0x38f)]('hidden'),window_options[_0x25f00c][_0x11ff04(0x59e)]='1'):(_0x227218[_0x11ff04(0x6c6)]['add'](_0x11ff04(0x687)),_0x227218[_0x11ff04(0x66e)]='0',window_options[_0x25f00c]['setDetraccion']='0',window_options[_0x25f00c][_0x11ff04(0x683)]='',window_options[_0x25f00c][_0x11ff04(0x200)]='0',window_options[_0x25f00c][_0x11ff04(0x178)]='0');}const _0x28114a=document[_0x11ff04(0x57b)](_0x281a19[_0x11ff04(0x214)]()+_0x11ff04(0x3b8)+_0x25f00c),_0x4c86dc=document[_0x11ff04(0x57b)](_0x281a19[_0x11ff04(0x214)]()+_0x11ff04(0x493)+_0x25f00c);_0x28114a&&_0x4c86dc&&(_0x11d82e?(_0x281a19==_0x11ff04(0x593)&&(window_options[_0x25f00c][_0x11ff04(0x628)]='1'),_0x281a19==_0x11ff04(0x424)&&(window_options[_0x25f00c][_0x11ff04(0x64e)]='1'),_0x28114a[_0x11ff04(0x6c6)]['remove'](_0x11ff04(0x687)),_0x4c86dc[_0x11ff04(0x6c6)][_0x11ff04(0x38f)]('hidden'),calculateTax(_0x281a19,_0x25f00c)):(_0x281a19==_0x11ff04(0x593)&&(window_options[_0x25f00c][_0x11ff04(0x628)]='0',window_options[_0x25f00c]['setRetencionPorcentaje']='0',window_options[_0x25f00c][_0x11ff04(0x584)]='0'),_0x281a19==_0x11ff04(0x424)&&(window_options[_0x25f00c]['setPercepcion']='0',window_options[_0x25f00c][_0x11ff04(0x474)]='0',window_options[_0x25f00c][_0x11ff04(0x605)]='0'),saveWindowOptionsDB(_0x25f00c),_0x28114a[_0x11ff04(0x6c6)][_0x11ff04(0x5d7)](_0x11ff04(0x687)),_0x4c86dc['classList'][_0x11ff04(0x5d7)](_0x11ff04(0x687)),_0x28114a['value']=_0x281a19==_0x11ff04(0x593)?'3':_0x281a19==_0x11ff04(0x424)?'2':'',_0x4c86dc[_0x11ff04(0x66e)]=''));}function calculateTax(_0x11c2e7,_0x3541b8){const _0x52d532=_0x3df022,_0x18a0a6=parseFloat(getTotalFromFloatRight(_0x3541b8))||0x0,_0x43ccc0=document[_0x52d532(0x57b)](_0x11c2e7['toLowerCase']()+_0x52d532(0x3b8)+_0x3541b8),_0x42fa81=document['getElementById'](_0x11c2e7[_0x52d532(0x214)]()+'Total-'+_0x3541b8);if(_0x43ccc0&&_0x42fa81){const _0x323d5e=parseFloat(_0x43ccc0[_0x52d532(0x66e)])||0x0,_0x292295=_0x18a0a6*(_0x323d5e/0x64);_0x42fa81[_0x52d532(0x66e)]=_0x292295[_0x52d532(0x353)](0x2),_0x11c2e7=='Detraccion'&&(window_options[_0x3541b8][_0x52d532(0x200)]=_0x323d5e,window_options[_0x3541b8][_0x52d532(0x178)]=_0x292295['toFixed'](0x2)),_0x11c2e7==_0x52d532(0x593)&&(window_options[_0x3541b8][_0x52d532(0x32c)]=_0x323d5e,window_options[_0x3541b8][_0x52d532(0x584)]=_0x292295[_0x52d532(0x353)](0x2)),_0x11c2e7==_0x52d532(0x424)&&(window_options[_0x3541b8][_0x52d532(0x474)]=_0x323d5e,window_options[_0x3541b8]['setPercepcionTotal']=_0x292295[_0x52d532(0x353)](0x2)),saveWindowOptionsDB(_0x3541b8);}}function setupConsulta(_0x3b94ca){const _0x55b589=_0x3df022,_0x531ae4=document[_0x55b589(0x57b)](_0x55b589(0x2ca)+_0x3b94ca),_0x3d49bc=document['getElementById'](_0x55b589(0x2d8)+_0x3b94ca),_0x111fc7=document[_0x55b589(0x57b)](_0x55b589(0x1b7)+_0x3b94ca),_0x4c5700=document[_0x55b589(0x57b)]('setClienteDenominacion-'+_0x3b94ca),_0x2b2b36=document[_0x55b589(0x57b)](_0x55b589(0x65e)+_0x3b94ca);if(!_0x531ae4||!_0x3d49bc||!_0x111fc7||!_0x4c5700||!_0x2b2b36){console[_0x55b589(0x708)](_0x55b589(0x2d2));return;}const _0x3ab154=_0x3d49bc[_0x55b589(0x66e)],_0x295a4e=_0x111fc7[_0x55b589(0x66e)][_0x55b589(0x428)](),_0x5ce22e=_0x4c5700[_0x55b589(0x66e)][_0x55b589(0x428)]()[_0x55b589(0x214)](),_0x164479=(_0x2587ef,_0xda7ec)=>{const _0x15a442=_0x55b589;return _0x2587ef[_0x15a442(0x6a5)]((_0x3db35b,_0x12f190)=>{const _0x2dd7f2=_0x15a442;let _0x16b946,_0x492200,_0x4d03b1,_0x2c4b4d,_0x54428d,_0x11d696;_0xda7ec==0x1?(_0x16b946=_0x3db35b['setCustomerDocumentNumber'],_0x492200=_0x12f190[_0x2dd7f2(0x3aa)],_0x4d03b1=_0x3db35b['setCustomerName'],_0x2c4b4d=_0x12f190[_0x2dd7f2(0x4d1)],_0x54428d=_0x3db35b['setCustomerAddress'],_0x11d696=_0x12f190[_0x2dd7f2(0x6a1)]):(_0x16b946=_0x3db35b[_0x2dd7f2(0x1d3)],_0x492200=_0x12f190[_0x2dd7f2(0x1d3)],_0x4d03b1=_0x3db35b[_0x2dd7f2(0x1a4)],_0x2c4b4d=_0x12f190['setSupplierName'],_0x54428d=_0x3db35b['setSupplierAddress'],_0x11d696=_0x12f190[_0x2dd7f2(0x3f8)]);const _0x55061d=[_0x16b946,_0x4d03b1,_0x54428d][_0x2dd7f2(0x674)](Boolean)[_0x2dd7f2(0x527)],_0x3e7095=[_0x492200,_0x2c4b4d,_0x11d696][_0x2dd7f2(0x674)](Boolean)[_0x2dd7f2(0x527)];return _0x3e7095>_0x55061d?_0x12f190:_0x3db35b;},_0x2587ef[0x0]);};let _0x3739bb,_0x4bde97;setTipOpeOrders[_0x55b589(0x6e8)](_0xd9fa14=>_0xd9fa14==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeSales[_0x55b589(0x6e8)](_0x3dcba1=>_0x3dcba1==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeQuotation[_0x55b589(0x6e8)](_0x47ed4e=>_0x47ed4e==window_options[_0x3b94ca]['setTipoOperacion'])?(_0x4bde97=0x1,_0x3739bb=myCompany[_0x55b589(0x2a8)]):(_0x4bde97=0x2,_0x3739bb=myCompany[_0x55b589(0x641)]);if(_0x295a4e){let _0x357dcd;setTipOpeOrders['some'](_0x5f2112=>_0x5f2112==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeSales['some'](_0x3ee02d=>_0x3ee02d==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeQuotation['some'](_0x375414=>_0x375414==window_options[_0x3b94ca]['setTipoOperacion'])?_0x357dcd=_0x3739bb[_0x55b589(0x674)](_0x443fbe=>_0x443fbe[_0x55b589(0x3aa)]==_0x295a4e):_0x357dcd=_0x3739bb[_0x55b589(0x674)](_0x3eeef3=>_0x3eeef3[_0x55b589(0x1d3)]==_0x295a4e);if(_0x357dcd[_0x55b589(0x527)]>0x0){const _0x2f3046=_0x164479(_0x357dcd,_0x4bde97);setTipOpeOrders['some'](_0xb0e1b3=>_0xb0e1b3==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeSales[_0x55b589(0x6e8)](_0x529b71=>_0x529b71==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeQuotation[_0x55b589(0x6e8)](_0x505d37=>_0x505d37==window_options[_0x3b94ca][_0x55b589(0x431)])?(_0x4c5700['value']=_0x2f3046[_0x55b589(0x4d1)]||'',_0x2b2b36[_0x55b589(0x66e)]=_0x2f3046[_0x55b589(0x6a1)]||''):(_0x4c5700[_0x55b589(0x66e)]=_0x2f3046[_0x55b589(0x1a4)]||'',_0x2b2b36['value']=_0x2f3046[_0x55b589(0x3f8)]||'');window_options[_0x3b94ca][_0x55b589(0x6ce)]=_0x4c5700[_0x55b589(0x66e)],window_options[_0x3b94ca]['setClienteDireccion']=_0x2b2b36[_0x55b589(0x66e)],saveWindowOptionsDB(_0x3b94ca)[_0x55b589(0x215)](_0x4d7ffd=>console[_0x55b589(0x708)](_0x55b589(0x40a),_0x4d7ffd));return;}isOnline()?_0x3ab154[_0x55b589(0x214)]()==_0x55b589(0x4db)&&_0x295a4e[_0x55b589(0x527)]==0x8||_0x3ab154['toLowerCase']()==_0x55b589(0x3a0)&&_0x295a4e[_0x55b589(0x527)]==0xb?consultarAPI(_0x3ab154,_0x295a4e,_0x3b94ca):ntfShow(_0x55b589(0x36d)):ntfShow(_0x55b589(0x3dc));return;}if(_0x5ce22e){const _0x4b5aa8=_0x5ce22e,_0x21d0bd=_0x3739bb['filter'](_0x2fbbdd=>{const _0x364c64=_0x55b589;let _0x3e9daa,_0x54533a;setTipOpeOrders['some'](_0x55dd38=>_0x55dd38==window_options[_0x3b94ca][_0x364c64(0x431)])||setTipOpeSales[_0x364c64(0x6e8)](_0x1561b3=>_0x1561b3==window_options[_0x3b94ca][_0x364c64(0x431)])||setTipOpeQuotation[_0x364c64(0x6e8)](_0x4e4dc6=>_0x4e4dc6==window_options[_0x3b94ca][_0x364c64(0x431)])?(_0x3e9daa=_0x2fbbdd[_0x364c64(0x4d1)][_0x364c64(0x214)](),_0x54533a=_0x2fbbdd[_0x364c64(0x3aa)]):(_0x3e9daa=_0x2fbbdd[_0x364c64(0x1a4)][_0x364c64(0x214)](),_0x54533a=_0x2fbbdd['setSupplierDocumentNumber']);const _0x471df6=_0x4b5aa8[_0x364c64(0x3b0)](/\s+/),_0x468a69=_0x471df6[_0x364c64(0x336)](_0x3ac0c7=>_0x3e9daa['includes'](_0x3ac0c7)),_0x536057=_0x54533a[_0x364c64(0x51a)](_0x4b5aa8);return _0x468a69||_0x536057;});if(_0x21d0bd[_0x55b589(0x527)]>0x0){const _0x58fe3c=_0x164479(_0x21d0bd,_0x4bde97);setTipOpeOrders[_0x55b589(0x6e8)](_0x59a2c0=>_0x59a2c0==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeSales[_0x55b589(0x6e8)](_0x1e81a6=>_0x1e81a6==window_options[_0x3b94ca][_0x55b589(0x431)])||setTipOpeQuotation[_0x55b589(0x6e8)](_0x18a5cd=>_0x18a5cd==window_options[_0x3b94ca][_0x55b589(0x431)])?(_0x111fc7[_0x55b589(0x66e)]=_0x58fe3c[_0x55b589(0x3aa)]||'',_0x4c5700[_0x55b589(0x66e)]=_0x58fe3c[_0x55b589(0x4d1)]||'',_0x2b2b36[_0x55b589(0x66e)]=_0x58fe3c[_0x55b589(0x6a1)]||''):(_0x111fc7[_0x55b589(0x66e)]=_0x58fe3c[_0x55b589(0x1d3)]||'',_0x4c5700['value']=_0x58fe3c[_0x55b589(0x1a4)]||'',_0x2b2b36[_0x55b589(0x66e)]=_0x58fe3c['setSupplierAddress']||'');window_options[_0x3b94ca][_0x55b589(0x4b7)]=_0x111fc7[_0x55b589(0x66e)],window_options[_0x3b94ca][_0x55b589(0x6ce)]=_0x4c5700[_0x55b589(0x66e)],window_options[_0x3b94ca][_0x55b589(0x384)]=_0x2b2b36[_0x55b589(0x66e)],saveWindowOptionsDB(_0x3b94ca)[_0x55b589(0x215)](_0x4c0b94=>console[_0x55b589(0x708)](_0x55b589(0x40a),_0x4c0b94));return;}ntfShow(_0x55b589(0x659));return;}ntfShow(_0x55b589(0x19c));}function _0xe3e9(_0x52af67,_0x160af5){const _0x1d0cef=_0x1e88();return _0xe3e9=function(_0x3838a1,_0x5aa348){_0x3838a1=_0x3838a1-0x167;let _0x45e354=_0x1d0cef[_0x3838a1];return _0x45e354;},_0xe3e9(_0x52af67,_0x160af5);}function consultarAPI(_0x3b4ef1,_0x163685,_0x565f9f){const _0x7809d=_0x3df022,_0x4984be=document[_0x7809d(0x57b)](_0x7809d(0x2ca)+_0x565f9f),_0x550159=document[_0x7809d(0x57b)](_0x7809d(0x1f2)+_0x565f9f),_0x35c5fe=document[_0x7809d(0x57b)](_0x7809d(0x65e)+_0x565f9f);_0x4984be['disabled']=!![],showLoadingModal();const _0x278a72='https://luisitoprograma.com/api',_0x30c3ef=_0x7809d(0x470),_0x31ee4d=_0x278a72+'/'+_0x3b4ef1['toLowerCase']()+'/?'+_0x3b4ef1[_0x7809d(0x214)]()+'='+_0x163685+_0x7809d(0x721)+_0x30c3ef;fetch(_0x31ee4d)[_0x7809d(0x2db)](_0x783a53=>{const _0x1e2efe=_0x7809d;if(!_0x783a53['ok'])throw new Error('Error\x20en\x20la\x20respuesta\x20del\x20servidor.');return _0x783a53[_0x1e2efe(0x68d)]();})['then'](_0x51aacd=>{const _0x37b09f=_0x7809d;if(_0x51aacd[_0x37b09f(0x2e4)]==_0x37b09f(0x350)&&_0x51aacd[_0x37b09f(0x718)][_0x37b09f(0x527)]>0x0){const _0x40b8ca=_0x51aacd['datos'][0x0];if(_0x3b4ef1==_0x37b09f(0x258))_0x550159['value']=_0x40b8ca[_0x37b09f(0x2b7)]||'',_0x35c5fe['value']=_0x40b8ca[_0x37b09f(0x296)]||'';else _0x3b4ef1==_0x37b09f(0x5be)&&(_0x550159[_0x37b09f(0x66e)]=((_0x40b8ca['nombres']||'')+'\x20'+(_0x40b8ca[_0x37b09f(0x1dd)]||''))['trim'](),_0x35c5fe[_0x37b09f(0x66e)]=_0x40b8ca[_0x37b09f(0x296)]||'');window_options[_0x565f9f]['setClienteDenominacion']=_0x550159[_0x37b09f(0x66e)],window_options[_0x565f9f][_0x37b09f(0x384)]=_0x35c5fe[_0x37b09f(0x66e)],saveWindowOptionsDB(_0x565f9f)[_0x37b09f(0x215)](_0x2481a2=>console[_0x37b09f(0x708)](_0x37b09f(0x40a),_0x2481a2));}else ntfShow('No\x20se\x20encontraron\x20datos.');})['catch'](_0x197ccb=>{const _0x5cb9d0=_0x7809d;console[_0x5cb9d0(0x708)](_0x5cb9d0(0x29c),_0x197ccb),ntfShow(_0x5cb9d0(0x507));})[_0x7809d(0x561)](()=>{_0x4984be['disabled']=![],hideLoadingModal();});}function nowWithMillisecondsForServer(){const _0x30f4ca=_0x3df022;let _0x228ee1;if(typeof performance!=='undefined'&&typeof performance['now']==='function'){let _0x3220b2;if(typeof performance[_0x30f4ca(0x64a)]===_0x30f4ca(0x476))_0x3220b2=performance[_0x30f4ca(0x64a)];else performance[_0x30f4ca(0x2f6)]&&performance[_0x30f4ca(0x2f6)]['navigationStart']?_0x3220b2=performance[_0x30f4ca(0x2f6)][_0x30f4ca(0x632)]:_0x3220b2=Date[_0x30f4ca(0x67d)]();_0x228ee1=_0x3220b2+performance['now']();}else _0x228ee1=Date[_0x30f4ca(0x67d)]();const _0x48f07a=Math[_0x30f4ca(0x4f0)](_0x228ee1),_0x2ea9ae=_0x228ee1-_0x48f07a,_0x2ec6d1=Math[_0x30f4ca(0x4f0)](_0x2ea9ae*0x3e8),_0x46c32b=new Date(_0x48f07a),_0x569306=_0x46c32b[_0x30f4ca(0x6d6)](),_0x16f029=String(_0x46c32b[_0x30f4ca(0x444)]()+0x1)[_0x30f4ca(0x4e1)](0x2,'0'),_0x323c72=String(_0x46c32b[_0x30f4ca(0x669)]())[_0x30f4ca(0x4e1)](0x2,'0'),_0x50225c=String(_0x46c32b[_0x30f4ca(0x263)]())[_0x30f4ca(0x4e1)](0x2,'0'),_0x37c49b=String(_0x46c32b[_0x30f4ca(0x4d9)]())['padStart'](0x2,'0'),_0x3f3ad8=String(_0x46c32b[_0x30f4ca(0x6f4)]())[_0x30f4ca(0x4e1)](0x2,'0'),_0x5344bb=String(_0x46c32b['getUTCMilliseconds']())[_0x30f4ca(0x4e1)](0x3,'0'),_0x4bbfd8=String(_0x2ec6d1)['padStart'](0x3,'0');return _0x569306+'-'+_0x16f029+'-'+_0x323c72+'T'+_0x50225c+':'+_0x37c49b+':'+_0x3f3ad8+'.'+_0x5344bb+_0x4bbfd8+'Z';}async function getLastCorrelativeOffline(_0x5b8ccf,_0x87039b){const _0x27c1df=_0x3df022,_0xeb0240=await createCartStore(''),_0x128f84=_0xeb0240[_0x27c1df(0x247)](_0x27c1df(0x3e1),_0x27c1df(0x33c)),_0x25bc31=_0x128f84[_0x27c1df(0x2a1)]('offline_operations'),_0x347c7a=await new Promise((_0x52c7f4,_0x537817)=>{const _0x3ef77a=_0x27c1df,_0x5ba837=_0x25bc31['getAll']();_0x5ba837[_0x3ef77a(0x581)]=()=>_0x52c7f4(_0x5ba837[_0x3ef77a(0x1b8)]),_0x5ba837[_0x3ef77a(0x24f)]=()=>_0x537817(_0x5ba837[_0x3ef77a(0x708)]);}),_0x4fbccb=myCompany[_0x27c1df(0x317)]||'',_0x56384=_0x347c7a[_0x27c1df(0x674)](_0x402012=>_0x402012[_0x27c1df(0x431)]==_0x5b8ccf&&_0x402012[_0x27c1df(0x52e)]==_0x87039b&&_0x402012[_0x27c1df(0x285)]==_0x4fbccb);if(_0x56384[_0x27c1df(0x527)]===0x0){const _0x116dc5=parseInt(getUserPermissionApiERP(0x5));let _0x83a289;if(_0x116dc5==0x1){const _0x197d46=getLoggedUserSeries();_0x83a289=_0x197d46['find'](_0x112522=>_0x112522['setSeriesType']==_0x5b8ccf&&_0x112522[_0x27c1df(0x1ea)]==_0x87039b);}else _0x83a289=myCompany[_0x27c1df(0x3d6)][_0x27c1df(0x2d3)](_0x135dc4=>_0x135dc4['setSerieTipo']==_0x5b8ccf&&_0x135dc4[_0x27c1df(0x52e)]==_0x87039b);if(!_0x83a289){ntfShow('Serie\x20Incorrecta'),console[_0x27c1df(0x708)](_0x27c1df(0x4c7));return;}let _0x50835f;return _0x116dc5==0x1?_0x50835f=parseInt(_0x83a289[_0x27c1df(0x1e0)],0xa):_0x50835f=parseInt(_0x83a289[_0x27c1df(0x714)],0xa),_0x50835f;}let _0x49d065=_0x56384[_0x27c1df(0x6c0)](_0x22d25b=>Number(_0x22d25b['setCorrelativo'])||0x0)[_0x27c1df(0x6a5)]((_0x11ac72,_0x4febe1)=>_0x4febe1>_0x11ac72?_0x4febe1:_0x11ac72,0x0);return _0x49d065=parseInt(_0x49d065,0xa),_0x49d065+=0x1,_0x49d065;}async function updateLastCorrelativeOnline(_0x3b0060,_0x5cf740){const _0x3c857a=_0x3df022;if(isOnline()){const _0x10d999=getUserPermissionApiERP(0x5);let _0x3dbeb6;if(_0x10d999==0x1){const _0x4d33b3=getLoggedUserSeries();_0x3dbeb6=_0x4d33b3[_0x3c857a(0x2d3)](_0xf3f1d1=>_0xf3f1d1['setSeriesType']==_0x3b0060&&_0xf3f1d1[_0x3c857a(0x1ea)]==_0x5cf740);}else _0x3dbeb6=myCompany[_0x3c857a(0x3d6)][_0x3c857a(0x2d3)](_0x5be833=>_0x5be833['setSerieTipo']==_0x3b0060&&_0x5be833[_0x3c857a(0x52e)]==_0x5cf740);if(!_0x3dbeb6){ntfShow(_0x3c857a(0x4c7)),console[_0x3c857a(0x708)](_0x3c857a(0x4c7));return;}const _0x3655ff=myCompany[_0x3c857a(0x1c9)],_0xb897a7={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0x3c857a(0x317)],'setReceiptType':_0x3b0060,'setReceiptSeries':_0x5cf740};try{const _0x36675f=await fetch(_0x3655ff,{'method':_0x3c857a(0x484),'headers':{'Content-Type':_0x3c857a(0x6cf)},'body':JSON['stringify'](_0xb897a7)}),_0x353643=await _0x36675f['json']();if(_0x353643[_0x3c857a(0x350)]&&_0x353643[_0x3c857a(0x58e)][_0x3c857a(0x30a)]){let _0x15375e=parseInt(_0x353643['message'][_0x3c857a(0x30a)],0xa)||0x0,_0x26a9b1=parseInt(await getLastCorrelativeOffline(_0x3b0060,_0x5cf740),0xa)||0x0;_0x26a9b1>_0x15375e&&(_0x15375e=_0x26a9b1);_0x10d999==0x1?_0x3dbeb6['setSeriesCorrelativeInitial']=_0x15375e:_0x3dbeb6[_0x3c857a(0x714)]=_0x15375e;try{const _0x32a3d8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x32a3d8);const _0x319b9b=document[_0x3c857a(0x57b)](_0x3c857a(0x303))[_0x3c857a(0x66e)];window_options[_0x319b9b][_0x3c857a(0x31c)]=_0x15375e,await saveWindowOptionsDB(_0x319b9b),console['log'](_0x3c857a(0x4cc));}catch(_0x14232a){console['error'](_0x3c857a(0x601),_0x14232a);throw _0x14232a;}}}catch(_0x5c93b9){console[_0x3c857a(0x708)](_0x3c857a(0x542),_0x5c93b9);}}}function _0x1e88(){const _0x137269=['Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.','.layout-tabs-environments','Precio','setDetraccion','DETRACCIÓN\x20(','Error\x20al\x20guardar\x20el\x20layout:\x20','Vendedor:','OP.\x20GRATUITAS','suggestions-','random','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','Shift\x20Save\x20Error:','<strong>Cierre\x20de\x20Turno</strong>','setCurrencyDefault','\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>','setTipoOperacionCodigo','selectedCode','\x20input.input-array-method','chair','relative','name','btnsetAttach-','setValorVenta','setMtoBaseIgv','\x20draggable-','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','setCustomerEmail','fonts/Roboto/Roboto-Light.ttf','setPorcentajeIgv','reject','element-waiter','Nom.\x20/\x20R.S.','OCHOCIENTOS','Hola\x20','SIETE','DNI','put','setDescripcion','setDefaultNote','active\x20tab-section-pay-','\x22\x20class=\x22input-Descuento-Global\x22>','TAX\x20Error:\x20','tabIndex','set','\x20(Gravado\x20Gratuito)','url(\x27','Maíz\x20amarillo\x20duro','No\x20hay\x20un\x20PDF\x20cargado.','Marca:<br>','toLocaleString','querySelector','Op.\x20Gravadas\x20(','<div\x20style=\x22margin-top:5px;\x22>','stopPropagation','Porcentaje\x20percepción','setSellerName','setCredentialsApiWAChatStatus','Op.\x20Gratuita','setFechaHoraReadonly','Sig>','add','quantity','widthOfTextAtSize','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','No\x20hay\x20conexión\x20a\x20internet.','0.1','setWebhook','input_cart_setSubtotal\x20input-cart-size\x20div-width-20','Algodón\x20en\x20rama\x20sin\x20desmontar','shift-close-row2','previewList','OP.\x20GRAVADAS','setServerType','setMtoOperExoneradas','NOVECIENTOS','setEmpresaRuc','Sólo\x20quedan\x20','img-options-o','itemCheckboxAll-','./img/layout/icon-vertical-line.svg','Ventana','setCollaboratorId','innerHeight','\x20|\x20Marca:\x20','1px\x20solid\x20#FF5900','Nº\x20Operación:\x20\x20','setSellerId','touchmove','RUC\x20debe\x20tener\x2011\x20dígitos.','modalOverlayWindowShift','iframePrint_','setProductos','Habitación','setAttribute','316596Vrjidj','031','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','div_section_products','025','setSucursalStock','document','setMtoValorGratuito','Error\x20al\x20guardar\x20Last\x20Correlative:','promise','Madera','Comisión\x20%','setPercepcionTotal','./img/layout/icon-window.svg','clientWidth','Window\x20not\x20found.','match','btnAddProductFree','getMonth','pow','setImpuestoName','Producto\x20variante\x20','label-options','shift-close-btnRow','float-right-TotalDescuento-','Contratos\x20de\x20construcción','Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:','\x20min','d-none','Error\x20convirtiendo\x20adjuntos\x20a\x20base64:','children','Espárragos','Impuesto','setEmailCredentials','#emailRecipients\x20.emailDestination','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion','Op.\x20Inafecta','previousElementSibling','Total\x20(',':\x20stock\x20actualizado\x20de\x20','PRE\x20CUENTA','Error\x20WindowOp','No\x20hay\x20resultados.','setReceiptClientAddress','firstChild','781635AdpRhy','\x20!important;\x0a}\x0a','setRetencion','Minerales\x20metálicos\x20no\x20auríferos','suggestion-item','setPayments','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','<i\x20class=\x22','RETENCIÓN\x20(','element-vertical-line','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','input-','navigationStart','setCartTmp','Mozo','Demás\x20servicios\x20gravados\x20con\x20el\x20IGV','vuelto','</a>','stringify','cart-','pdfBlob','collect','removeEventListener','detalleModalWindowShift','Comisión\x20(','Check\x20In','./img/icon-settings.svg','setSuppliers','Barbero','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','borderRadius','Consumo','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','TIPO\x20OPERACIÓN:','setMtoValorUnitario','setCajeroCodigo','timeOrigin','PERCEPCIÓN','setAccountingAccountId','Apertura','setPercepcion','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','setBankType','setPrinterId','application/json','REPRESENTACION\x20IMPRESA\x20DE','#ffffff','Muchas\x20gracias\x20por\x20su\x20compra','return\x20(function()\x20','.category-checkbox','\x20ped</span>\x0a<span\x20class=\x22time-text\x22>','No\x20se\x20encontraron\x20resultados.','Apertura\x20de\x20Caja','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','container-section-options-','audio','setClienteDireccion-','registerFontkit','\x20flex-column\x20flex-grow-1','center','onchange','\x22\x20style=\x22margin-right:8px;\x22></i>','div-width-50','float-right-','No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.','setBranchId','image/png','getUTCDate','toUpperCase','ID\x20Shift\x20Empty','div-totals-right-Subtotal-','floorId','value','shift-open-title','closeModalLayout','setAccountingAccountCode','Embarcaciones\x20pesqueras','setBankAccounts','filter','CUARENTA','posicionesPorPiso','#pay-container-','autocomplete','024','input[type=\x22number\x22]','tbody','className','now','setCategoria','monto','Cliente:','<i\x20class=\x27bi\x20bi-search\x27></i>','setDespacho-','setDetraccionCodigo','element-bathroom-women','marginRight','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','hidden','setEmailCredentialsId','./img/apiPOS.png','label-debe-vuelto','shiftDetails','https://apierp.dev/api/windows/create/','json','efectivo','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','CIEN','Dirección:','setDetraccionCodigoName','Seleccione:','\x20...</span>','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','startsWith','./img/layout/icon-table.svg','Error\x20al\x20eliminar\x20producto:','100%','cart-item-options','btnShiftEnd','setShifts','show_right_section','tab-','Total\x20Retención\x20(','Detraccion','setCustomerAddress','div_section_right','setCollaborators','placeholder','reduce','0000-00-00\x2000:00:00','setWindowName','delete','Aceite\x20de\x20pescado','defaultPrinter','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','apiPOSsendOffline','/login','./img/layout/icon-fridge.svg','.select-button-pais-flag','Error\x20en\x20la\x20solicitud','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.','<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>','shift-open-btnContainer','selectTab','extraElements','touchend','tabs-icon-offline','custom-label-cart-options','height','color','backgroundImage','setImpuestos','0.00','setDividir','setCantidad','map','position','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setAccountingAccounts','shift-close-infoSpan','setItemFree','classList','indexOf','setTotal','El\x20monto\x20debe\x20ser\x20exactamente\x20','draggable\x20draggable-element\x20draggable-','rows','round-small','custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','setClienteDenominacion','application/json;\x20charset=utf-8','size','setCustomerPhone','Total\x20Efectivo:','retencionTotal-','mousemove','payment-icon','getUTCFullYear','btnModal','tabs-environments-btn\x20selected','tab-content\x20active\x20tab-','setDescuento_setMonto','1728814cPorCc','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','shift-open-leftCol','./img/layout/icon-bathroom-men.svg','parentNode','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','shift-div-table\x20','013','setAttachNumber-','img-options','Error\x20al\x20guardar\x20operación\x20offline:','setMtoDescItems_precio','multipart/form-data','some','shift-close-diff-col','Medio\x20de\x20pago\x20para\x20ventana\x20','btnSaveOperacion\x20custom-input-btn-background\x20form-control','entries','Vuelto:','Descuento\x20por\x20Items','6zIVetL','setDescuento_setMontoBase','.remove-recipient-btn','mixto','\x20del\x20','getUTCSeconds','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','drawLine','/upload','\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','btnShiftStart','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>','Recursos\x20hidrobiológicos','active\x20tab-','modalOverlay','setMtoValorUnitario_final','shift-open-label','Email(s)\x20enviado(s)\x20correctamente.','off','fonts/Roboto/Roboto-Regular.ttf','Caja\x20Final:','getSize','033','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.','error','keydown','Exportación','setLastDateUpdate','blur','element-cashier','key','setChecked','setTipoOperacion-','\x20a\x20','banco','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','setCorrelativoInicial','setTipoDocCodigo','039','setObservacion','datos','isArray','Backspace','drawImage','Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:','setClienteTipoDoc','021','SETENTA','setAttachEdit-','&token=','Total\x20retención','setPriceListType','Error\x20en\x20envío\x20WhatsApp\x20API:','\x20select.select-array-bank','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','N°\x20de\x20operación','navmenu','bi\x20bi-unlock','btnopt_dividir-','Op.\x20Inafectas\x20(','shift-close-label','setMtoImpVenta','div_section_pay','input-setWindowName','.emailDestination','setMonedaSimbol','checkbox','setDetraccionTotal','#whatsappRecipients\x20.phoneNumber','U.\x20MEDIDA','payment-mixto','setFechaHora-','https://','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','modalOverlayShift','top','setPrecioUnit','Stock\x20Actual:<br>','PRECIO','btnAddProduct','setPrinterAlias','Descripción:\x20','float-right','Error\x20saving\x20window\x20options\x20DB','log','totals','selectedIndex','setUserNombres','none','NOVENTA','options','Duplicar','div-totals-right-TotalIgv-','./img/layout/icon-laptop.svg','setMtoPrecioUnitario_input','__proto__','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','float-left-TotalIgvGratuitas-','https://apierp.dev/api/layout/update/','Carrito\x20guardado:\x20','container-title-options','setServerRoot','Error\x20al\x20guardar\x20array','Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.','all','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.','wa-recipient-template','float-right-Subtotal-','setShiftId','setSupplierName','input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','div-width-15','test','023','setMtoPrecioCostoUnitario','clientY','cash','setDescuento','addEventListener','Recepcionista','\x20input.input-array-totalcomision','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','00/100','shift-close-diffLabel','\x20cuotas','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision','setPrintServers','IMPORTE\x20TOTAL','setClienteNumDoc-','result','charAt','revokeObjectURL','./img/icon-shift-calendar.svg','setCompanyNameTrade','data-tooltip','setPermissions','Op.\x20Exonerada','Eliminar\x20ventana','online','shift-close-diffValue','span','hiddenFrame_','detalleModalShift','tab-totales-','element-bathroom-men','Datos\x20Generales','setApiEndPoint','setMtoValorUnitario_input','background','input-setWindowType','Error\x20Save\x20Data:','018',')\x20en\x20almacén\x20','shift-open-img','Editar\x20ventana','?text=','setSupplierDocumentNumber','head','setPaymentType','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','Ocupar\x20Sillón','Operación\x20Guardada\x20Correctamente.','Monto\x20Inicial:','custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','waMessage','setUserEmail','apellidos','render','label-options\x20mb-2','setSeriesCorrelativeInitial','dataset','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.','Costo','clear','div-width-options\x20col-bt-padding-options','keys','div-width-25\x20col-bt-padding','btn-cart-pay','setTotalImpuestos','setSeriesNumber','Despachar','console','007','setSerie-','Carnes\x20y\x20despojos\x20comestibles','setBranchAddress','statusText','setClienteDenominacion-','FECHA:','textContent','layoutState','float-left-totals','1\x20UND','open','touches','div-width-24\x20btnopt','setCodTipo','setAccountingAccountType','btnWindowSave','oncomplete','closest','setDetraccionPorcentaje','div-width-100\x20col-bt-padding','append','<br>\x0a','030','setCorrelativo-','setUserId','Error\x20al\x20crear\x20Window:','./img/layout/icon-printer.svg','setOrderId','NOTAS:','Cronograma\x20de\x20Pagos','zIndex','tabs-areas-responsive','setImg','PAGAR','inline-flex','nextElementSibling','clientHeight','Forma\x20de\x20Pago:\x20Contado','toLowerCase','catch','input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control','label-cart','join','div-totals-right\x20d-none','IGV\x20Gratuitas','editado','Enter','fechaVencimiento','Conteo:','removeChild','payment-contado','innerWidth','textarea','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','float-right-OpGravada-','.draggable','sendEmail','isCommission','display','drop','DATOS\x20DE\x20DISTRIBUCIÓN','label','./img/icon-ajustes-operacion.svg','active\x20tab-cp-','\x20emitido\x20el\x20','setMtoPrecioUnitario_final','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22','Serie\x20no\x20encontrada','pop','setShiftCashAmount','DOS','productMoreOptionsButton-','createObjectURL','setTipAfeIgv','input-Descuento-Global-','setMtoValorVenta','square-small','clientX','shift-close-notaLabel','closeModalShift','div-width-10\x20div_margen','apply','\x20payment-option-','createTextNode','createElement','Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','setPaymentName','setBankNumber','Azúcar','transaction','slice','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','./img/layout/icon-room.svg','setItemIsBought','Aperturar\x20Turno','closeModalCreateWindow','setDescuentoGlobal_Monto','onerror','Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20','setBankCurrency','setPrinters','costo','DIEZ','setEmailCredentialsSenderEmail','El\x20producto\x20\x22','Fecha','RUC','Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios','.suggestions-container','Monto','iframe','TRES','selected','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','setPorcentajeDesc','<br>','borderTopLeftRadius','getUTCHours','UN\x20MILLÓN','img','detraccionTotal-','getAttribute','valorCantidad','container-buttons','DIECISIETE','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','...','descuentoGlobalMonto','pagination','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','print','Precio\x20Unitario','normal','Product\x20Deleted\x20Order\x20successfully.','Cajero','float-left-TotalDescuento-','Producto\x20eliminado','setCodProducto','Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:','income.html','sucursales','marginLeft','.category-label','addWhatsAppRecipient','cart-item-options-','setCurrencySymbol','setIgv','\x20|\x20','input','./img/layout/icon-bathroom-unisex.svg','Otros\x20servicios\x20empresariales','setToken','emailRecipients','getMinutes','Error\x20al\x20procesar\x20adjuntos.','index','Despachar\x20Después','Cliente','getViewport','Movimiento\x20de\x20carga','mouseenter','Shift\x20not\x20found.','./img/icon-contado-credito.svg','OCHO','Obtener','important','elementos','Banco:\x20\x20','direccion','#products','status-label-','setSeriesType','Teléfono:','detraccionPct-','Error\x20en\x20la\x20consulta:','location','occupied','.itemCheckbox-','checkout-','objectStore','cart-panel\x20d-flex\x20flex-column\x20flex-grow-1','setImpuestoCode','QUINCE','Serie:','push','.input-array-totalcomision','setCustomers','./img/layout/icon-bar.svg','DIECINUEVE','setDefaultNoteType','.custom-input-cart-setClienteDenominacion','preventDefault','Error\x20Network.','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','btnOpciones','No\x20se\x20encontró\x20el\x20botón.','float-right-OpInafecta-','Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.','float-left-OpGratuita-','readOnly','Ajustes','razon_social','float-left-','borderBottomLeftRadius','\x22\x20alt=\x22','Window\x20Creada\x20Correctamente.','NUEVE','setIdOperation','Egresos','#FF5900','detalleModalLayout','tabs-icon-online','setFechaHora','TRECE','detraccionCodigo-','Subtotal','setItemDescription','Error\x20Update:','form','email','btnConsultar-','Order\x20not\x20found.','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','setCompanyName','Error\x20Inputs','%)\x20(','src','Usuario\x20no\x20encontrado','Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.','find','dispatchEvent','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','Editar','close\x20closeModal\x20margin-left-auto','setClienteTipoDoc-','download','Desc.\x20Global\x20(','then','object','allOperations:','5px','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','search',')\x20en\x20el\x20almacén.\x20','float','setTipoOperacionInvoice-','resultado','min','Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','div-width-35\x20col-bt-left-padding','<img\x20class=\x22icon-element\x22\x20src=\x22','DETRACCIÓN','setWindows','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','keypress','setMoneda','nro_operacion','Mozo:\x20','setAttachEdit','Vence:\x20','cart-item-principal','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','Agregado\x20...','timing','UND','IGV\x20(','setUserName','exception','OCHENTA','concat','setWarehouseId','./img/layout/icon-cashier.svg','setWindowType','020','shift-open-btn','setReceiptCurrency','windowId','Windows\x20Update\x20Local\x20Successfully.','Hora','Teléfono','No\x20se\x20encontraron\x20productos.','setShiftCount','replaceWith','setLastCorrelative','setOrders','shift-open-rightCol','Liberar','Mesa','No\x20se\x20encontró\x20el\x20select','setTipoDocumentosCliente','./img/icon-flecha-inferior.svg','<span\x20class=\x22cart-product-note\x22>','constructor','Cajero:','checkout-btn-','./img/icon-detalle-turno.svg','setAuthToken','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','chkDetraccion-','embedFont','Error\x20al\x20eliminar\x20productos:','setCorrelativo','bind','shift-close-container','(equiv.\x20','windowsState.php','setCompanyEmail','remove-btn','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','div-group-container\x20div-width-100','d-flex\x20mb-3\x20','035','setMtoValorCostoUnitario','DNI\x20debe\x20tener\x208\x20dígitos.','022','max','setIdSucursal','setRetencionPorcentaje','No\x20se\x20encontró\x20sucursal\x20','float-right-OpExonerada-','Bien\x20inmueble\x20gravado\x20con\x20IGV','Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>','setVisible','status','div-total-pay-','setMonedaCodigo','div-text-debe-vuelto-','every','cart_','float-right-TotalIgv-','layout-windows','@s.whatsapp.net','d-flex\x20mb-3','readonly','setWindowShiftId','Error:\x20','Error\x20subiendo\x20','currentTarget','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>','btnWindowShiftStart','setReceiptSeries','setBankName','backgroundColor','documento.pdf','form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size','padding','setCashInitial','shiftContent','contado','block','element-laptop','shift-close-smallIcon','(((.+)+)+)+$','success','alt','offsetHeight','toFixed','Cuota\x20','body','element-fridge','justify-content-between','items','video/','setIdProducto','FORMA\x20DE\x20PAGO:\x20CRÉDITO','container-title-options-','element-bathroom-unisex','innerText','pdfCanvas','VEINTI','setShiftStatus','events','setReceipt','Nota:','shift-close-infoLabel','1.5','\x20Y\x20','AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT','cart-item-principal-','cartId','shift-close-infoRow\x20','setWindowId','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','xxxxxxxxyxxxxxxx','Nº\x20','\x20para\x20la\x20variante\x20del\x20producto\x20','enctype','setAttachSeries-','setBranchName','.layout-tab-btn','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','waFiles','setBranches','Alcohol\x20etílico','image/','window','newElementType','No\x20tienes\x20conexión\x20a\x20internet!','setFloorId','detalleModalCreateWindow','Total\x20Pendiente','shift-table\x20','\x20input.input-array-operacion','setPrinterName','setClienteDireccion','TRESCIENTOS','div_section_left','data','whatsappRecipients','waDropArea','table','setReceiptAttachId','setDescuento_setCodTipo','date','embedJpg','remove','getHours','content','data-tab','Costo\x20Unitario','Caja\x20Inicial:','029','mt-3','120px','option','active','\x20unidades\x20','select','Subtotal\x20(','Error\x20Print\x20Offline.','setTipoOperaciones','charCodeAt','ruc','SEIS','\x200.00','countryList','tabs-environments-btn','setMtoPrecioUnitario','div-width-15\x20div_margen','setUnidad','Sillón','div','setCustomerDocumentNumber','save','Reporte\x20de\x20ventas','Guardar','_blank','float-right-TotalIgvGratuitas-','split','Error\x20al\x20procesar\x20la\x20operación:','dataTransfer','focus','input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','setShiftDateStart','Crea\x20tu\x20primera\x20ventana.','Pct-','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','setCollaboratorDocNumber','debe','616651qJHAhi','setEmailCredentialsHostSMTP','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','icon-arrow-right','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:','\x20Seleccione:','setReceiptType','preview-item','[updateCartItem]','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','CorrectLevel','create','PDF\x20Error.','001','\x20input.input-array-comision','.input-array-method','closeModalWindowShift','prepend','setValorCantidad','#f7f7f7','setTipoOperacionName','Leche','chkPercepcion-','fontkit','setAccountingAccountName','Error\x20Company\x20Data.','setSeries','Nº\x20Operación','Apertura:','total_comision','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','004','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','Cantidad\x20ajustada\x20al\x20máximo.','nextSibling','element-user','payment-credito','offline_operations','drawText','active\x20tab-section-options-','submit','setItemBarCode','insertBefore','Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV','cloneNode','setPreAccountDate','room','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','archivos_contables','DNI\x20/\x20RUC','checked','setUserCodigo','setCustomerPhone-','Desc.\x20(%)','Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles','</span>\x0a</label>','ORDENAR','setReceiptClientName','style','trace','setSupplierAddress','setMonedas','CIENTO','setMtoValorCostoUnitario_input','Mixto','windowShiftContent','shift-close-infoValue','[updateCartItem]\x20excede\x20stock','Total\x20percepción','.pagination','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setBatchExpirationDate','container-section-pay-','Nº\x20de\x20Cuotas:','setPaymentCode','files','Crédito','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','Error\x20al\x20guardar\x20datos:','setShiftDateEnd','.menu-options','setPaymentAmount','shift-table-expenses','input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setMtoDescItems','\x20|\x20Notas:\x20','shift-close-rightCol','Serie','GUARDAR','\x20(Soles)','border','div-width-25','application/pdf','searchInput','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','input_cart_moreOptionsButton\x20div-width-5\x20','setCompanyPhone','offline','credito','IGV','type','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','container-section-pay\x20row','Percepcion','tabs-shift','context-menu','setSubTotal','trim','setItemUnitAlias','setPriceListRangeStart','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','<Ant','dragover','shift-close-info-col','active-payment','Vendedor','setTipoOperacion','Arena\x20y\x20piedra','SUBTOTAL','assign','Total','setImpuestoValue','scale','setReceiptDescGlobal','detalleModalPay','setShiftUserEmail','setWindowTypeShape','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.','controls','QUINIENTOS','./img/layout/icon-user.svg','tabs-newTab','setAttachType','JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.','setPriceListAdjustmentType','getUTCMonth','\x20(Exonerado\x20Gratuito)','NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:','setMtoOperInafectas','CERO','CÓDIGO','PRECIO\x20U.','Proveedor','float-left-OpInafecta-','embedPng','Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.','btnopt_facturar-','./img/product.png','arrayBuffer','setHours','setMtoIGV','\x22\x20no\x20encontrada.','https://apierp.dev/api/windows/update-cart-tmp/','get','setEnvironmentName','\x22,\x20\x22','numero-cuotas-','div-totals-right-TotalDescItems-','\x20CON\x20','chkRetencion-','setWarehouseStockMin','setReceiptClientDocNumber','setMtoIGVGratuitas','setConversionFactor','sendWhatsApp','selectedCountry','setCurrencyName','4136540fvTbYg','pay-container-','setProperty','.whatsapp-recipient','Bien\x20o\x20Servicio:\x20','itemsPerPageSelect','change','Aperturar\x20Ventana','Tab','fecha','Error\x20al\x20guardar\x20el\x20carrito.','Product\x20not\x20found.','suscriptor-luisitoprograma','closeModal','Estado\x20del\x20layout\x20cargado.','tabs-orders','setPercepcionPorcentaje','No\x20se\x20encontraron\x20resultados','number','setDocumentType','https://apierp.dev/api/apiPOS/get/','./img/icon-credito.svg','setWindowStatus','</span>','data-printer','Contado','unit','La\x20fuente\x20es\x20undefined\x20en\x20measureText','btnModalActive','product','Email','Dirección','POST','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','from','modalOverlayPay','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','SETECIENTOS','modalOverlayCreateWindow','005','La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.','Error\x20Op.','div-totals-right-TotalIgvGratuitas-','modalOverlayLayout','./img/icon-ingresos.svg','034','forEach','Total-','left','#000000','text','disabled','CINCUENTA','cart-panel-','setMtoOperGravadas','toString','Medio\x20de\x20pago\x20crédito\x20actualizado:','setTaxId','DOCE','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','imgSrc','btn-options','setMoneda-','Arrendamiento\x20de\x20bienes\x20muebles','DESCRIPCIÓN','tabs-editLayout','click','readwrite','FORMA\x20DE\x20PAGO:\x20CONTADO','currency','Registrar\x20Ingreso','Intermediación\x20laboral\x20y\x20tercerización','setMtoOperGratuitas','PEN','custom-input-cart-options\x20form-control\x20div-width-25','drawRectangle','removePage','addEmailRecipient','014','setBatchName','free','monto_calc','url','setClienteNumDoc','\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>','shift-close-leftCol','custom-label-cart-options\x20div-width-25','hasOwnProperty','Forma\x20de\x20Pago','button','getDate','div-width-30\x20col-bt-padding','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2','\x20a\x20S3','\x20actualizado:','188796orqnQZ','019','setPermissionId','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','Serie\x20Incorrecta','CANTIDAD','product-container','setNotes','product-zoom-area','Guardando\x20Correlativo\x20en\x20DB','</div>','setReceiptNumber','Cod:\x20','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','setCustomerName','element-printer','setInventariable','icon-arrow-right\x20hidden','resize','product-content','8px','setTipoOperacionInvoice','getUTCMinutes','Nº\x20de\x20cuotas','dni','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','./img/layout/icon-vase.svg','\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>','target','Error\x20al\x20guardar\x20el\x20carrito:','padStart','Vehículo:','Contado\x20y\x20Crédito','action','thead','Notas:','MIL','querySelectorAll','splice','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','cart-item-options\x20d-none','No\x20se\x20encontró\x20el\x20botón','setMarca','borderBottomRightRadius','Cuenta\x20Contable','floor','method','setCompanyWebsite','setNotas','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','input-group\x20input_cart_setCantidad\x20div-width-30','setSerieTipo','input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40','mouseup','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','.marca-label','setLastDateUpdateCartTmp','Zona:','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','CATORCE','Comisión\x20mercantil','container-section-options','Resultado','10px','replace','flex','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt','setEmpresaNombre','Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.','setPriceListAdjustmentAmount','Error\x20desconocido\x20al\x20actualizar\x20Data.','No\x20hay\x20impresoras','No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20','modalOverlayOptions','currency_data','width','toggle','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','\x20sec','closeModalOptions-','Venta\x20Interna','#080060','element-bar','touchstart','toISOString','................................................','includes','006','RETENCIÓN','AUTORIZADO\x20MEDIANTE','custom-checkbox','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','%\x20Desc.\x20de\x20','setLastFechaHora','divs_payments\x20d-flex\x20flex-grow-1','div-totals-right','title','cuotas-container-','\x22\x20debe\x20tener\x20un\x20','length','UNO','Banco:','appendChild','Error\x20Internet','CANT','offsetWidth','setSerie','string','class','bi\x20bi-calendar\x20icon-pay-calendar','canvas','setUser_Local','\x20-\x20','Descuento\x20Global','.pdf','https://apierp.dev/api/print/send/','No\x20se\x20encontró\x20la\x20ventana','div-width-25\x20btnopt\x20btnoptfirst','008','detalleModal','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','setDespacho','DATOS:','toLocaleTimeString','Opciones','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','Error\x20en\x20la\x20solicitud:','Escribe\x20un\x20mensaje','findIndex','col-md-6','setBankId','layout','setFloorName','href','step','setDescuento_setFactor','getContext','email-recipient-template','CUATROCIENTOS','setDescuento_setMonto_precio','file','./img/icon-contado.svg','warn','1778528CDYENS','porcentaje_comision','mediaType','.email-recipient','btn\x20btn-none\x20','setVendedorCodigo-','element-vase','Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.','Desc.\x20por\x20Items\x20(','setBranchDefault','036','innerHTML','setAttachType-','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','finally','input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','getFullYear','.printer','url(\x27./img/product.png\x27)','setCustomerEmail-','right','setEmailCredentialsPortSMTP','div_section_options','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2','shift-close-img','Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos','abs','DIECIOCHO','btnModalNewOperation','float-left-OpGravada-','input_cart_setButton\x20btn-none\x20div-width-5','{}.constructor(\x22return\x20this\x22)(\x20)','Array\x20Windows\x20Error.','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','products','setEmailCredentialsSenderPassword','TOTAL','PERCEPCIÓN\x20(','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','Oro\x20gravado\x20con\x20el\x20IGV','getElementById','float-right-TotalDescuentoItems-','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','Fecha\x20de\x20Apertura:\x20','./img/layout/icon-waiter.svg','\x20|\x20F.V.\x20','onsuccess','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','float-left','setRetencionTotal','cuota','setObservacion-','ceil','./img/layout/icon-bathroom-women.svg','float-right-totals','18UJGkGQ','btnVisualizacion','Placa:','general-options-','message','setMtoPrecioCostoUnitario_input','!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20','.context-menu','div-width-10\x20col-bt-padding','Retencion','onclick','contains','setMedioPago-','.btn-logout','setCredentialsApiWAChat','Caña\x20de\x20azúcar','video'];_0x1e88=function(){return _0x137269;};return _0x1e88();}async function processCorrelativoInicial(_0x2951b4,_0x2071ae,_0xe1036a){const _0x418465=_0x3df022;let _0x5441e2;const _0x279148=getUserPermissionApiERP(0x5);let _0x48b97b;if(_0x279148==0x1){const _0x2060aa=getLoggedUserSeries();_0x48b97b=_0x2060aa['find'](_0x3fbcd0=>_0x3fbcd0[_0x418465(0x299)]==_0x2951b4&&_0x3fbcd0['setSeriesNumber']==_0x2071ae),_0x5441e2=_0x48b97b?_0x48b97b[_0x418465(0x1e0)]:0x1;}else _0x48b97b=myCompany[_0x418465(0x3d6)]['find'](_0x166d5c=>_0x166d5c[_0x418465(0x4f6)]==_0x2951b4&&_0x166d5c[_0x418465(0x52e)]==_0x2071ae),_0x5441e2=_0x48b97b?_0x48b97b['setCorrelativoInicial']:0x1;if(_0xe1036a!==undefined){if(_0x48b97b){_0x279148==0x1?_0x48b97b[_0x418465(0x1e0)]=_0xe1036a:_0x48b97b['setCorrelativoInicial']=_0xe1036a;try{const _0x1b5663=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x1b5663),_0xe1036a;}catch(_0x64f794){console[_0x418465(0x708)](_0x418465(0x601),_0x64f794);throw _0x64f794;}}else throw new Error(_0x418465(0x231));}return _0x5441e2;}function getFilteredCart(_0x353cce){const _0xe9b7e9=_0x3df022,_0x36d74a=window_options[_0x353cce][_0xe9b7e9(0x431)];if(setTipOpeOrders['some'](_0x56b0c0=>_0x56b0c0==_0x36d74a))return carts[_0x353cce][_0xe9b7e9(0x674)](_0x5a0063=>_0x5a0063['setChecked']==0x1&&_0x5a0063['setWindowShiftId']=='');else return setTipOpeSales[_0xe9b7e9(0x6e8)](_0x4235f0=>_0x4235f0==_0x36d74a)||setTipOpePurchases[_0xe9b7e9(0x6e8)](_0x1a3a8c=>_0x1a3a8c==_0x36d74a)||setTipOpeQuotation['some'](_0x3f0e19=>_0x3f0e19==_0x36d74a)?carts[_0x353cce][_0xe9b7e9(0x674)](_0x5a756e=>_0x5a756e[_0xe9b7e9(0x70f)]==0x1):[];}async function validateOperation(_0x7de516,_0x4b3510=''){const _0x2f6d5c=_0x3df022,_0x14dadf=document['getElementById']('setBranchId'),_0x51f838=_0x14dadf['value'],_0x63ca37=_0x14dadf['options'][_0x14dadf['selectedIndex']]['text'],_0x565c05=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x710)+_0x7de516)[_0x2f6d5c(0x66e)],_0x3e1dc6=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x2e3)+_0x7de516)['value'],_0x34e891=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x1ee)+_0x7de516)['value'],_0x1bf4c8=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x205)+_0x7de516)[_0x2f6d5c(0x66e)],_0x537f87=document[_0x2f6d5c(0x57b)]('setMoneda-'+_0x7de516)['value'],_0x295abc=document['getElementById'](_0x2f6d5c(0x2d8)+_0x7de516)[_0x2f6d5c(0x66e)],_0x2b4592=document['getElementById'](_0x2f6d5c(0x1b7)+_0x7de516)[_0x2f6d5c(0x66e)],_0x157df9=document['getElementById'](_0x2f6d5c(0x1f2)+_0x7de516)[_0x2f6d5c(0x66e)],_0x2157f8=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x65e)+_0x7de516)[_0x2f6d5c(0x66e)],_0x45f89c=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x17c)+_0x7de516)[_0x2f6d5c(0x66e)],_0x394a9e=document[_0x2f6d5c(0x57b)](_0x2f6d5c(0x558)+_0x7de516)[_0x2f6d5c(0x66e)],_0x4adb25=document['getElementById']('setDespacho-'+_0x7de516)[_0x2f6d5c(0x66e)],_0x5896ac=document['getElementById']('setObservacion-'+_0x7de516)['value'],_0x3a325b=getTotalFromFloatRight(_0x7de516),_0x482721=getFilteredCart(_0x7de516);if(!_0x565c05||!_0x295abc)return ntfShow(_0x2f6d5c(0x19f)),![];if(!setTipOpePurchaseReceipt[_0x2f6d5c(0x6e8)](_0x303b19=>_0x303b19==window_options[_0x7de516]['setTipoOperacion'])){if(!_0x34e891||!_0x1bf4c8)return ntfShow(_0x2f6d5c(0x44e)),![];if(!/^[A-Za-z0-9]{4}$/['test'](_0x34e891))return ntfShow(_0x2f6d5c(0x695)),![];if(/ñ/i['test'](_0x34e891))return ntfShow(_0x2f6d5c(0x48c)),![];if(window_options[_0x7de516]['setTipoOperacion']=='3'&&_0x34e891[_0x2f6d5c(0x1b9)](0x0)!=='B')return ntfShow(_0x2f6d5c(0x1b0)),![];if(window_options[_0x7de516][_0x2f6d5c(0x431)]=='4'&&_0x34e891[_0x2f6d5c(0x1b9)](0x0)!=='F')return ntfShow(_0x2f6d5c(0x707)),![];}if(setTipOpeSalesInvoice[_0x2f6d5c(0x6e8)](_0x34a512=>_0x34a512==window_options[_0x7de516]['setTipoOperacion'])||setTipOpePurchaseInvoice[_0x2f6d5c(0x6e8)](_0x4740f2=>_0x4740f2==window_options[_0x7de516][_0x2f6d5c(0x431)])){if(!_0x2b4592['trim']()||!_0x157df9['trim']())return ntfShow('Cliente/Proveedor\x20Requerido.'),![];if(window_options[_0x7de516]['setTipoOperacion']=='4'&&_0x295abc!=_0x2f6d5c(0x258))return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.'),![];}if(setTipOpeSalesTicket[_0x2f6d5c(0x6e8)](_0x461868=>_0x461868==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpePurchaseTicket[_0x2f6d5c(0x6e8)](_0x5ac96f=>_0x5ac96f==window_options[_0x7de516][_0x2f6d5c(0x431)])){if(window_options[_0x7de516][_0x2f6d5c(0x431)]=='3'&&_0x3a325b>=0x2bc){if(_0x295abc!='DNI'&&_0x295abc!='RUC'||!_0x2b4592['trim']()||!_0x157df9[_0x2f6d5c(0x428)]())return ntfShow(_0x2f6d5c(0x1a0)),![];}}if(_0x2b4592[_0x2f6d5c(0x428)]()){if(_0x295abc==_0x2f6d5c(0x5be)&&!/^\d{8}$/['test'](_0x2b4592))return ntfShow(_0x2f6d5c(0x328)),![];if(_0x295abc=='RUC'&&!/^\d{11}$/[_0x2f6d5c(0x1a7)](_0x2b4592))return ntfShow(_0x2f6d5c(0x5f3)),![];if(!_0x157df9['trim']())return ntfShow(_0x2f6d5c(0x323)),![];}if(!Array['isArray'](_0x482721)||_0x482721[_0x2f6d5c(0x527)]==0x0)return ntfShow(_0x2f6d5c(0x3da)),![];let _0x4c59e2;setTipOpeOrders[_0x2f6d5c(0x6e8)](_0x124ca8=>_0x124ca8==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpeSales[_0x2f6d5c(0x6e8)](_0x8e60ce=>_0x8e60ce==window_options[_0x7de516]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x34381e=>_0x34381e==window_options[_0x7de516]['setTipoOperacion'])?_0x4c59e2=0x2:_0x4c59e2=0x1;for(var _0x220927=0x0;_0x220927<_0x482721['length'];_0x220927++){let _0x121f5f,_0x37fed3;_0x4c59e2==0x1?(_0x121f5f=parseFloat(_0x482721[_0x220927][_0x2f6d5c(0x58f)])||0x0,_0x37fed3=_0x2f6d5c(0x253)):(_0x121f5f=parseFloat(_0x482721[_0x220927][_0x2f6d5c(0x193)])||0x0,_0x37fed3='precio');var _0x191cb1=_0x121f5f;if(_0x191cb1<=0x0)return ntfShow(_0x2f6d5c(0x256)+(_0x482721[_0x220927]['setDescripcion']||'null')+_0x2f6d5c(0x526)+_0x37fed3+'\x20unitario\x20mayor\x20a\x200.'),![];}if(_0x4b3510){const _0x1fd238=parseInt(getUserPermissionApiERP(0xe)),_0xaca45b=parseInt(getUserPermissionApiERP(0x5));if((_0xaca45b==0x0||_0xaca45b==0x1&&((setTipOpeSalesTicket['some'](_0xcfd219=>_0xcfd219==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpeSalesInvoice[_0x2f6d5c(0x6e8)](_0x3e83bd=>_0x3e83bd==window_options[_0x7de516][_0x2f6d5c(0x431)]))&&_0x1fd238==0x0))&&window_options[_0x7de516][_0x2f6d5c(0x2f1)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x2f6d5c(0x6e8)](_0x74003a=>_0x74003a==window_options[_0x7de516]['setTipoOperacion'])||setTipOpeSales[_0x2f6d5c(0x6e8)](_0x5684c1=>_0x5684c1==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpeQuotation[_0x2f6d5c(0x6e8)](_0x36ae63=>_0x36ae63==window_options[_0x7de516][_0x2f6d5c(0x431)])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x7de516][_0x2f6d5c(0x431)],window_options[_0x7de516][_0x2f6d5c(0x52e)]),hideLoadingModal();else{if(window_options[_0x7de516][_0x2f6d5c(0x2f1)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x2f6d5c(0x6e8)](_0x448710=>_0x448710==window_options[_0x7de516]['setTipoOperacion'])||setTipOpeSales[_0x2f6d5c(0x6e8)](_0x34abe0=>_0x34abe0==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpeQuotation[_0x2f6d5c(0x6e8)](_0x1122db=>_0x1122db==window_options[_0x7de516][_0x2f6d5c(0x431)]))){showLoadingModal();let _0x3feabb=parseInt(await getLastCorrelativeOffline(window_options[_0x7de516]['setTipoOperacion'],window_options[_0x7de516]['setSerie']),0xa)||0x0,_0x155de1;if(_0xaca45b==0x1){const _0xef266c=getLoggedUserSeries();_0x155de1=_0xef266c[_0x2f6d5c(0x2d3)](_0x24f3e1=>_0x24f3e1[_0x2f6d5c(0x299)]==window_options[_0x7de516]['setTipoOperacion']&&_0x24f3e1['setSeriesNumber']==window_options[_0x7de516][_0x2f6d5c(0x52e)]);}else _0x155de1=myCompany[_0x2f6d5c(0x3d6)][_0x2f6d5c(0x2d3)](_0x51b69c=>_0x51b69c['setSerieTipo']==window_options[_0x7de516][_0x2f6d5c(0x431)]&&_0x51b69c['setSerie']==window_options[_0x7de516][_0x2f6d5c(0x52e)]);if(!_0x155de1){ntfShow(_0x2f6d5c(0x4c7)),console[_0x2f6d5c(0x708)](_0x2f6d5c(0x4c7));return;}_0xaca45b==0x1?_0x155de1[_0x2f6d5c(0x1e0)]=_0x3feabb:_0x155de1['setCorrelativoInicial']=_0x3feabb;try{const _0x1f2471=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1f2471),window_options[_0x7de516][_0x2f6d5c(0x31c)]=_0x3feabb,await saveWindowOptionsDB(_0x7de516),console[_0x2f6d5c(0x189)]('Guardando\x20Correlativo\x20Offline\x20en\x20DB');}catch(_0x30cf7e){console[_0x2f6d5c(0x708)](_0x2f6d5c(0x601),_0x30cf7e);throw _0x30cf7e;}hideLoadingModal();}}return(setTipOpeOrders[_0x2f6d5c(0x6e8)](_0x1ef86c=>_0x1ef86c==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpeQuotation[_0x2f6d5c(0x6e8)](_0x1d998e=>_0x1d998e==window_options[_0x7de516][_0x2f6d5c(0x431)]))&&saveOperation(_0x7de516),(setTipOpeSales[_0x2f6d5c(0x6e8)](_0x391ba5=>_0x391ba5==window_options[_0x7de516][_0x2f6d5c(0x431)])||setTipOpePurchases['some'](_0x268ef4=>_0x268ef4==window_options[_0x7de516]['setTipoOperacion']))&&(showSection(_0x4b3510,_0x7de516),document['getElementById']('setMedioPago-'+_0x7de516)[_0x2f6d5c(0x66e)]=_0x2f6d5c(0x34b),triggerChangeEventById('setMedioPago-'+_0x7de516),updateActivePaymentOption(_0x7de516,_0x2f6d5c(0x220))),!![];}else return!![];}function buildPayload(_0x3a9c91,_0x2d6b68=''){const _0x26228c=_0x3df022;window_options[_0x3a9c91][_0x26228c(0x6ac)]=0x1;const _0x59a4e2=myCompany[_0x26228c(0x2eb)][_0x26228c(0x2d3)](_0x388b3b=>_0x388b3b[_0x26228c(0x36c)]==_0x3a9c91);window_options[_0x3a9c91]['windowId']=_0x3a9c91,window_options[_0x3a9c91][_0x26228c(0x6a7)]=_0x59a4e2[_0x26228c(0x6a7)],window_options[_0x3a9c91][_0x26228c(0x2ff)]=_0x59a4e2[_0x26228c(0x2ff)],window_options[_0x3a9c91][_0x26228c(0x457)]=_0x59a4e2[_0x26228c(0x548)],window_options[_0x3a9c91][_0x26228c(0x2bd)]=generateUniqId(),window_options[_0x3a9c91][_0x26228c(0x521)]=new Date();parseInt(window_options[_0x3a9c91][_0x26228c(0x5d5)])!=0x1&&(window_options[_0x3a9c91][_0x26228c(0x2c2)]=obtener_fechaHora());const _0x58022c=getValidatedWindowAndShift(_0x3a9c91)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x207169,currentWindowShift:_0x28e2c3}=_0x58022c,_0xc213fe=window_options[_0x3a9c91],_0x2182dc=medio_pago[_0x3a9c91];let _0x4cbbcb=getFilteredCart(_0x3a9c91);_0x2d6b68!=''&&(_0x4cbbcb=_0x4cbbcb['filter'](_0x1504d9=>{const _0x4109eb=_0x26228c,_0x66877b=products[_0x4109eb(0x2d3)](_0x3403d2=>_0x3403d2['id']==_0x1504d9[_0x4109eb(0x35a)]);return _0x66877b&&_0x66877b[_0x4109eb(0x252)]&&_0x66877b[_0x4109eb(0x252)][_0x4109eb(0x6e8)](_0x3fa702=>_0x3fa702[_0x4109eb(0x651)]==_0x2d6b68);}));const _0xec3b32=document[_0x26228c(0x57b)](_0x26228c(0x649));if(!_0xec3b32)return console[_0x26228c(0x708)](_0x26228c(0x6ab)),null;const _0x2f363c=_0xec3b32[_0x26228c(0x66e)],_0x1a45bd=_0xec3b32[_0x26228c(0x18f)][_0xec3b32['selectedIndex']][_0x26228c(0x496)],_0x176ccf=document['getElementById'](_0x26228c(0x667));if(!_0x176ccf)return console[_0x26228c(0x708)](_0x26228c(0x65b)),null;const _0x2ae95d=_0x176ccf['value'],_0x300d9e=myCompany[_0x26228c(0x378)][_0x26228c(0x2d3)](_0x29424f=>_0x29424f[_0x26228c(0x667)]==_0x2ae95d)?.[_0x26228c(0x374)]||'',_0x4a9036=myCompany[_0x26228c(0x378)][_0x26228c(0x2d3)](_0x16a4ad=>_0x16a4ad[_0x26228c(0x667)]==_0x2ae95d)?.[_0x26228c(0x1f0)]||'',_0x1ab4ff=document['getElementById']('setWarehouseId');if(!_0x1ab4ff)return console[_0x26228c(0x708)](_0x26228c(0x2d5)),null;const _0x474036=_0x1ab4ff[_0x26228c(0x66e)],_0x21f135=_0x1ab4ff[_0x26228c(0x18f)][_0x1ab4ff[_0x26228c(0x18b)]][_0x26228c(0x496)],_0x4a8e01=_0xc213fe[_0x26228c(0x2ee)],_0x12f745=myCompany[_0x26228c(0x3f9)][_0x26228c(0x2d3)](_0x273444=>_0x273444[_0x26228c(0x334)]==_0x4a8e01),_0xdb5350=_0x12f745?_0x12f745['setMonedaName']:null,_0x2adf68=_0x12f745?_0x12f745[_0x26228c(0x176)]:null,_0x1c7c71=_0xc213fe[_0x26228c(0x431)],_0x17ab6a=myCompany['setTipoOperaciones'][_0x26228c(0x2d3)](_0x46535e=>_0x46535e[_0x26228c(0x5aa)]==_0x1c7c71),_0x195f5d=_0x17ab6a?_0x17ab6a[_0x26228c(0x3d0)]:null;!myCompany['setShifts']&&(myCompany['setShifts']=[]);const _0x2f1e52=myCompany[_0x26228c(0x69c)],_0x184bf5=_0x2f1e52[_0x26228c(0x2d3)](_0x2b3c1e=>_0x2b3c1e[_0x26228c(0x667)]==_0x2ae95d&&_0x2b3c1e[_0x26228c(0x361)]=='1'),_0x3e526e={..._0xc213fe,'setToken':myCompany[_0x26228c(0x317)],'setWebhook':myCompany[_0x26228c(0x5dd)],'setShiftId':_0x184bf5?_0x184bf5[_0x26228c(0x1a3)]:0x0,'setWindowShiftId':_0x28e2c3?_0x28e2c3[_0x26228c(0x1a3)]:0x0,'setSucursalCodigo':_0x2ae95d,'setSucursalNombre':_0x300d9e,'setBranchAddress':_0x4a9036,'setWarehouseId':_0x474036,'setWarehouseName':_0x21f135,'setCashierId':_0x2f363c,'setCashierName':_0x1a45bd,'setProductos':_0x4cbbcb,'setMedioPago':_0x2182dc,'setDocumentType':_0x195f5d,'setCurrencyName':_0xdb5350,'setCurrencySymbol':_0x2adf68};return setLastOperationGlobalData(_0x3a9c91,{'pdfGlobalPayload':_0x3e526e,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x3e526e;}async function saveOperation(_0x29ce74){const _0x28fb02=_0x3df022;let _0x190ff6;(setTipOpeOrders[_0x28fb02(0x6e8)](_0x32f596=>_0x32f596==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeQuotation[_0x28fb02(0x6e8)](_0x3d5e01=>_0x3d5e01==window_options[_0x29ce74][_0x28fb02(0x431)]))&&(_0x190ff6=document[_0x28fb02(0x57b)](_0x28fb02(0x315)+_0x29ce74));(setTipOpeSales[_0x28fb02(0x6e8)](_0x1d3954=>_0x1d3954==window_options[_0x29ce74]['setTipoOperacion'])||setTipOpePurchases['some'](_0xb0ace1=>_0xb0ace1==window_options[_0x29ce74][_0x28fb02(0x431)]))&&(_0x190ff6=document[_0x28fb02(0x57b)]('btnSaveOperacion-'+_0x29ce74));if(!_0x190ff6){console['error'](_0x28fb02(0x2b1));return;}_0x190ff6[_0x28fb02(0x497)]=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x29ce74)){_0x190ff6['disabled']=![],hideLoadingModal(),showModalPay();return;}const _0x4efc9=buildPayload(_0x29ce74);if(!_0x4efc9){console[_0x28fb02(0x708)]('Error\x20al\x20construir\x20el\x20payload.'),_0x190ff6[_0x28fb02(0x497)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0x4efc9);const _0x56dca4=[],_0x17243b=_0x4efc9['setSucursalCodigo'],_0x20a10a=myCompany[_0x28fb02(0x252)][_0x28fb02(0x674)](_0x3dbb8f=>_0x3dbb8f[_0x28fb02(0x667)]==_0x17243b);setTipOpeOrders[_0x28fb02(0x6e8)](_0x3b6134=>_0x3b6134==window_options[_0x29ce74]['setTipoOperacion'])&&_0x4efc9[_0x28fb02(0x5f6)][_0x28fb02(0x492)](_0x1e158b=>{const _0x3f13fd=_0x28fb02,_0x13ce92=products[_0x3f13fd(0x2d3)](_0x2c2253=>_0x2c2253['id']==_0x1e158b[_0x3f13fd(0x35a)]);if(_0x13ce92?.['setPrinters']?.[_0x3f13fd(0x527)]){const _0x5bb7d5=_0x13ce92[_0x3f13fd(0x252)][_0x3f13fd(0x674)](_0x5e694e=>_0x20a10a[_0x3f13fd(0x6e8)](_0x43077a=>_0x43077a[_0x3f13fd(0x651)]==_0x5e694e[_0x3f13fd(0x651)]));_0x5bb7d5[_0x3f13fd(0x492)](_0x81f078=>{const _0x1c199c=_0x3f13fd;!_0x56dca4[_0x1c199c(0x6e8)](_0x139165=>_0x139165[_0x1c199c(0x651)]==_0x81f078[_0x1c199c(0x651)])&&_0x56dca4[_0x1c199c(0x2a6)]({..._0x81f078,'payloadComand':buildPayload(_0x29ce74,_0x81f078[_0x1c199c(0x651)])});});}});let _0x13eace;if(setTipOpeOrders['some'](_0x2c74f6=>_0x2c74f6==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeSales[_0x28fb02(0x6e8)](_0x12cc81=>_0x12cc81==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeQuotation[_0x28fb02(0x6e8)](_0x4f0351=>_0x4f0351==window_options[_0x29ce74]['setTipoOperacion'])){let _0x883d05=await processCorrelativoInicial(window_options[_0x29ce74][_0x28fb02(0x431)],window_options[_0x29ce74][_0x28fb02(0x52e)]);_0x883d05=parseInt(_0x883d05,0xa)||0x0,_0x13eace=_0x883d05;}const _0xc35bf4=window_options[_0x29ce74]['setAttachEdit']==0x2;!_0xc35bf4&&(setTipOpeOrders['some'](_0x36d6ae=>_0x36d6ae==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeSales[_0x28fb02(0x6e8)](_0x4e2e35=>_0x4e2e35==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeQuotation[_0x28fb02(0x6e8)](_0x22fe9f=>_0x22fe9f==window_options[_0x29ce74]['setTipoOperacion']))&&(_0x13eace+=0x1);if(window_options[_0x29ce74]['setDespacho']==0x1&&(setTipOpeSales[_0x28fb02(0x6e8)](_0x518873=>_0x518873==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpePurchases['some'](_0x3118c1=>_0x3118c1==window_options[_0x29ce74][_0x28fb02(0x431)]))){const _0xeb003d=document['getElementById'](_0x28fb02(0x2fd))[_0x28fb02(0x66e)],_0x23a5bf=carts[_0x29ce74],_0x570df1=_0xc35bf4?window_options[_0x29ce74]['setReceiptAttachArray']:[];_0x23a5bf[_0x28fb02(0x492)](_0x406b37=>{const _0x3483b7=_0x28fb02;if(_0x406b37[_0x3483b7(0x4d3)]!=0x1)return;const _0x575064=products[_0x3483b7(0x2d3)](_0x2bd1e2=>_0x2bd1e2['id']==_0x406b37['setIdProducto']);if(!_0x575064){console[_0x3483b7(0x552)]('No\x20se\x20encontró\x20producto\x20con\x20id\x20'+_0x406b37[_0x3483b7(0x35a)]);return;}const _0x3e2ea1=parseFloat(_0x575064[_0x3483b7(0x460)]),_0x5b4547=parseFloat(_0x406b37[_0x3483b7(0x6bf)]);let _0x5baa36=0x0;if(_0xc35bf4){const _0x6a064c=_0x570df1['find'](_0x2c5b24=>_0x2c5b24[_0x3483b7(0x35a)]==_0x406b37[_0x3483b7(0x35a)]),_0x5e9060=_0x6a064c?parseFloat(_0x6a064c[_0x3483b7(0x3ce)]):0x0;setTipOpeSales[_0x3483b7(0x6e8)](_0x273601=>_0x273601==window_options[_0x29ce74][_0x3483b7(0x431)])&&(_0x5baa36=_0x5e9060*_0x3e2ea1-_0x5b4547*_0x3e2ea1),setTipOpePurchases[_0x3483b7(0x6e8)](_0x13d9d6=>_0x13d9d6==window_options[_0x29ce74]['setTipoOperacion'])&&(_0x5baa36=_0x5e9060*_0x3e2ea1+_0x5b4547*_0x3e2ea1);}else setTipOpeSales[_0x3483b7(0x6e8)](_0x67cc2c=>_0x67cc2c==window_options[_0x29ce74]['setTipoOperacion'])&&(_0x5baa36=-(_0x5b4547*_0x3e2ea1)),setTipOpePurchases['some'](_0x2bc97d=>_0x2bc97d==window_options[_0x29ce74][_0x3483b7(0x431)])&&(_0x5baa36=_0x5b4547*_0x3e2ea1);const _0x182d76=_0x575064['setIdProducto'],_0x1502ac=products[_0x3483b7(0x674)](_0x19ec5a=>_0x19ec5a['setIdProducto']==_0x182d76);_0x1502ac[_0x3483b7(0x492)](_0x11d17d=>{const _0x18110a=_0x3483b7,_0x535ccf=_0x11d17d[_0x18110a(0x27a)][_0x18110a(0x2d3)](_0x123afb=>_0x123afb[_0x18110a(0x32b)]==_0xeb003d);if(!_0x535ccf){console[_0x18110a(0x552)](_0x18110a(0x32d)+_0xeb003d+_0x18110a(0x371)+_0x11d17d['id']);return;}const _0x346f14=parseFloat(_0x535ccf[_0x18110a(0x5fe)]),_0x3f4ac0=_0x346f14+_0x5baa36;_0x535ccf['setSucursalStock']=_0x3f4ac0,console[_0x18110a(0x189)](_0x18110a(0x60e)+_0x11d17d['id']+'\x20(master\x20'+_0x182d76+_0x18110a(0x1cf)+_0xeb003d+_0x18110a(0x620)+_0x346f14+_0x18110a(0x711)+_0x3f4ac0);});});}if(setTipOpeOrders[_0x28fb02(0x6e8)](_0x594e14=>_0x594e14==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeSales[_0x28fb02(0x6e8)](_0x36565c=>_0x36565c==window_options[_0x29ce74]['setTipoOperacion'])||setTipOpeQuotation[_0x28fb02(0x6e8)](_0x1cce1e=>_0x1cce1e==window_options[_0x29ce74][_0x28fb02(0x431)])){let _0x572b78;!_0xc35bf4?_0x572b78=await processCorrelativoInicial(window_options[_0x29ce74][_0x28fb02(0x431)],window_options[_0x29ce74]['setSerie'],_0x13eace):_0x572b78=_0x13eace,window_options[_0x29ce74][_0x28fb02(0x31c)]=parseInt(_0x572b78);}else window_options[_0x29ce74][_0x28fb02(0x31c)]='';window_options[_0x29ce74]['setFechaHora']=obtener_fechaHora(),window_options[_0x29ce74][_0x28fb02(0x5d5)]=0x0,window_options[_0x29ce74]['setDespacho']='1',window_options[_0x29ce74][_0x28fb02(0x4d8)]='1',window_options[_0x29ce74][_0x28fb02(0x24e)]=0x0,window_options[_0x29ce74]['setAttachEdit']='1',correlativeReadonly=0x0,window_options[_0x29ce74]['setObservacion']='',medio_pago=[];const _0x2fcaec=getValidatedWindowAndShift(_0x29ce74),{windowObj:_0x59b913,currentWindowShift:_0x123648}=_0x2fcaec;(!_0x123648||!setTipOpeOrders[_0x28fb02(0x6e8)](_0x154dc6=>_0x154dc6==window_options[_0x29ce74][_0x28fb02(0x431)]))&&(window_options[_0x29ce74][_0x28fb02(0x4b7)]='',window_options[_0x29ce74][_0x28fb02(0x6ce)]='',window_options[_0x29ce74][_0x28fb02(0x384)]='',window_options[_0x29ce74]['setCustomerPhone']='',window_options[_0x29ce74]['setCustomerEmail']='');if(_0x123648){_0x59b913[_0x28fb02(0x70b)]=nowWithMillisecondsForServer();if(setTipOpeOrders[_0x28fb02(0x6e8)](_0x45b32c=>_0x45b32c==window_options[_0x29ce74][_0x28fb02(0x431)])||setTipOpeSales[_0x28fb02(0x6e8)](_0x4b2635=>_0x4b2635==window_options[_0x29ce74][_0x28fb02(0x431)])){!_0x123648[_0x28fb02(0x30b)]&&(_0x123648[_0x28fb02(0x30b)]=[]);let _0x333ac8=_0x4efc9;delete _0x333ac8[_0x28fb02(0x63a)],_0x123648[_0x28fb02(0x30b)][_0x28fb02(0x2a6)](_0x333ac8),_0x59b913['setWindowStatus']=_0x28fb02(0x29e),_0x123648['setPreAccountDate']='';}if(setTipOpeSales[_0x28fb02(0x6e8)](_0x22e675=>_0x22e675==window_options[_0x29ce74][_0x28fb02(0x431)])){const _0x4c7fe2=carts[_0x29ce74]||[],_0x11d2c2=_0x4c7fe2[_0x28fb02(0x6e8)](_0x53bf1c=>_0x53bf1c[_0x28fb02(0x70f)]==0x0);if(!_0x11d2c2){_0x59b913[_0x28fb02(0x47a)]=_0x28fb02(0x4b4);const _0x5deb72=new Date();_0x123648['setShiftStatus']='0',_0x123648[_0x28fb02(0x40b)]=_0x5deb72;}}const _0x3c25e5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3c25e5);}for(let _0x150cff=products[_0x28fb02(0x527)]-0x1;_0x150cff>=0x0;_0x150cff--){products[_0x150cff][_0x28fb02(0x6c5)]==0x1&&products[_0x28fb02(0x4e9)](_0x150cff,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x29ce74);}catch(_0x3862ac){_0x190ff6[_0x28fb02(0x497)]=![],hideLoadingModal(),showModalPay(),console[_0x28fb02(0x708)](_0x28fb02(0x622),_0x3862ac);return;}await removeAllFromCart(_0x29ce74),_0x190ff6['disabled']=![],hideLoadingModal(),showLeftSection();_0x56dca4[_0x28fb02(0x527)]>0x0&&processPrints(_0x56dca4);const _0x409447=getUserPermissionApiERP(0x3),_0x3a4514=myCompany[_0x28fb02(0x533)][_0x28fb02(0x3ef)],_0xb17c06=myCompany['setUsers'][_0x28fb02(0x2d3)](_0x17310f=>_0x17310f['setUserCode']==_0x3a4514),_0x4f531a=_0xb17c06?.[_0x28fb02(0x378)][_0x28fb02(0x2d3)](_0x5da080=>_0x5da080[_0x28fb02(0x667)]==_0x17243b)?.[_0x28fb02(0x651)]||0x0;if(setTipOpeSales[_0x28fb02(0x6e8)](_0x36a7c3=>_0x36a7c3==window_options[_0x29ce74][_0x28fb02(0x431)])&&_0x409447==0x1&&_0x4f531a!=0x0){const _0x5a762a=_0x20a10a[_0x28fb02(0x2d3)](_0x29c766=>_0x29c766[_0x28fb02(0x651)]==_0x4f531a);if(_0x5a762a){const {pdfGlobalPayload:_0x5c68ed,pdfGlobalBlob:_0x552337,pdfGlobalName:_0x295697}=getLastOperationGlobalData(_0x29ce74);setPrintOnline(_0x5a762a[_0x28fb02(0x383)],_0x552337,_0x295697,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x28fb02(0x66e)]='',renderProducts(''),initializeCategorys();const _0x437582=document[_0x28fb02(0x57b)](_0x28fb02(0x1db)),_0x4c21ef=_0x4efc9[_0x28fb02(0x2c2)],_0x3bab22=new Date(_0x4c21ef),_0x429b4d=_0x3bab22[_0x28fb02(0x4be)](),_0x5c07c3=monthsEspanish[_0x3bab22[_0x28fb02(0x60b)]()],_0x5160e6=_0x3bab22[_0x28fb02(0x563)](),_0x5c3eb6=_0x429b4d+'\x20de\x20'+_0x5c07c3+_0x28fb02(0x6f3)+_0x5160e6;_0x437582[_0x28fb02(0x66e)]=_0x28fb02(0x5bc)+(_0x4efc9[_0x28fb02(0x6ce)]??'')+_0x28fb02(0x590)+myCompany[_0x28fb02(0x1bc)]+',\x20a\x20continuación\x20adjuntamos:\x20\x0a'+_0x4efc9['setDocumentType']+':\x20'+_0x4efc9[_0x28fb02(0x52e)]+'-'+_0x4efc9['setCorrelativo']+_0x28fb02(0x22e)+_0x5c3eb6+'.',await setOrders(_0x29ce74),apiERPsync();}catch(_0x2ea433){_0x190ff6['disabled']=![],hideLoadingModal(),showModalPay(),console[_0x28fb02(0x708)]('Error\x20Correlativo\x20Update',_0x2ea433);return;}}async function storeOfflineOperation(_0x3623e7,_0x52ddd2=0x0){const _0x1fff47=_0x3df022;try{const _0x4bf66e=await createCartStore('');if(_0x52ddd2==0x0){const {pdfBlob:_0x9f8109,pdfName:_0x42d897}=await generatePdf(_0x3623e7,'tk',_0x1fff47(0x35f),_0x1fff47(0x366));_0x3623e7[_0x1fff47(0x63a)]=_0x9f8109;const _0x3a0a2a=document['getElementById']('windowId')['value'];setLastOperationGlobalData(_0x3a0a2a,{'pdfGlobalPayload':_0x3623e7,'pdfGlobalBlob':_0x9f8109,'pdfGlobalName':_0x42d897}),!setTipOpeOrders['some'](_0x225582=>_0x225582==_0x3623e7[_0x1fff47(0x431)])&&showModal();}const _0x3c442f=_0x4bf66e[_0x1fff47(0x247)]('offline_operations',_0x1fff47(0x4a7)),_0x58e85b=_0x3c442f[_0x1fff47(0x2a1)]('offline_operations');_0x58e85b[_0x1fff47(0x5d7)](_0x3623e7),_0x3c442f['oncomplete']=()=>{const _0x344df9=_0x1fff47;console['log'](_0x344df9(0x1d8)),console[_0x344df9(0x189)](_0x3623e7);},_0x3c442f[_0x1fff47(0x24f)]=_0x2a2b01=>{const _0xedbd1b=_0x1fff47;console[_0xedbd1b(0x708)](_0xedbd1b(0x6e5),_0x2a2b01[_0xedbd1b(0x4df)]['error']);};}catch(_0x5739b3){console[_0x1fff47(0x708)](_0x1fff47(0x3b1),_0x5739b3);}}function getFormattedDate(_0x3590f6){const _0x5c8fbe=new Date(_0x3590f6);return _0x5c8fbe['toLocaleDateString']();}function getFormattedTime(_0x5889ab){const _0x584bb2=_0x3df022,_0x27dc82=new Date(_0x5889ab);return _0x27dc82[_0x584bb2(0x53f)]();}function getCurrentDateTime(){const _0x4e307c=_0x3df022;return new Date()[_0x4e307c(0x518)]();}function sanitizeData(_0x59e505,_0x45ff00='string'){const _0x1cf5cc=_0x3df022,_0x4ad0ae=_0x1a62f9=>{const _0x27ee54=_0xe3e9;if(_0x1a62f9==null||_0x1a62f9=='')return'';return _0x1a62f9[_0x27ee54(0x503)](/[\xC0-\xFF]/g,_0x4e6818=>{const _0xea8cf7={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0xea8cf7[_0x4e6818]||_0x4e6818;});},_0x4ec400=_0x2ff0d9=>{return parseFloat(_0x2ff0d9)||0x0;},_0x1bea70=_0x3216de=>{return _0x3216de['map'](_0x1d76c6=>{if(typeof _0x1d76c6=='object'&&_0x1d76c6!==null)return sanitizeData(_0x1d76c6,_0x45ff00);return sanitizeData(_0x1d76c6,_0x45ff00);});};if(typeof _0x59e505==_0x1cf5cc(0x2dc)&&_0x59e505!==null){const _0x12caff={};for(const _0x202b7 in _0x59e505){_0x59e505[_0x1cf5cc(0x4bb)](_0x202b7)&&(_0x12caff[_0x202b7]=sanitizeData(_0x59e505[_0x202b7],_0x45ff00));}return _0x12caff;}if(Array['isArray'](_0x59e505))return _0x1bea70(_0x59e505);if(_0x45ff00=='number'||_0x45ff00==_0x1cf5cc(0x2e2))return _0x4ec400(_0x59e505);return _0x4ad0ae(_0x59e505);}function getCurrentDate(){const _0xab995c=_0x3df022,_0x23161d=new Date();return _0x23161d[_0xab995c(0x518)]();}function numeroALetras(_0x34fd0a){const _0x4709d4=_0x3df022,_0x4ba1ff=['',_0x4709d4(0x528),_0x4709d4(0x234),_0x4709d4(0x25d),'CUATRO','CINCO',_0x4709d4(0x3a1),_0x4709d4(0x5bd),_0x4709d4(0x291),_0x4709d4(0x2bc)],_0x3d1eda=['',_0x4709d4(0x254),'VEINTE','TREINTA',_0x4709d4(0x675),_0x4709d4(0x498),'SESENTA',_0x4709d4(0x71f),_0x4709d4(0x2fb),_0x4709d4(0x18e)],_0x36d3af=['',_0x4709d4(0x3fa),'DOSCIENTOS',_0x4709d4(0x385),_0x4709d4(0x54e),_0x4709d4(0x43e),'SEISCIENTOS',_0x4709d4(0x489),_0x4709d4(0x5bb),_0x4709d4(0x5e5)];function _0x1bd510(_0x4001d5){const _0x599969=_0x4709d4;if(_0x4001d5==0x0)return _0x599969(0x448);if(_0x4001d5==0x64)return _0x599969(0x690);if(_0x4001d5>=0x1&&_0x4001d5<=0x9)return _0x4ba1ff[_0x4001d5];if(_0x4001d5>=0xa&&_0x4001d5<=0x13){const _0x39b801=[_0x599969(0x254),'ONCE',_0x599969(0x49e),_0x599969(0x2c3),_0x599969(0x4fe),_0x599969(0x2a4),'DIECISÉIS',_0x599969(0x26a),_0x599969(0x56e),_0x599969(0x2aa)];return _0x39b801[_0x4001d5-0xa];}if(_0x4001d5>=0x14&&_0x4001d5<=0x1d){const _0x1e8577=_0x4001d5%0xa;return _0x599969(0x360)+(_0x1e8577>0x0?_0x4ba1ff[_0x1e8577]:'');}if(_0x4001d5>=0x1e&&_0x4001d5<=0x63){const _0xe348ce=Math[_0x599969(0x4f0)](_0x4001d5/0xa),_0x3d6171=_0x4001d5%0xa;return''+_0x3d1eda[_0xe348ce]+(_0x3d6171>0x0?_0x599969(0x367)+_0x4ba1ff[_0x3d6171]:'');}if(_0x4001d5>=0x64&&_0x4001d5<=0x3e7){const _0x83bbba=Math['floor'](_0x4001d5/0x64),_0x264249=_0x4001d5%0x64;return''+_0x36d3af[_0x83bbba]+(_0x264249>0x0?'\x20'+_0x1bd510(_0x264249):'');}if(_0x4001d5>=0x3e8&&_0x4001d5<=0xf423f){const _0x152268=Math[_0x599969(0x4f0)](_0x4001d5/0x3e8),_0x495d0f=_0x4001d5%0x3e8;return''+(_0x152268>0x1?_0x1bd510(_0x152268)+'\x20MIL':_0x599969(0x4e7))+(_0x495d0f>0x0?'\x20'+_0x1bd510(_0x495d0f):'');}if(_0x4001d5>=0xf4240&&_0x4001d5<=0x3b9ac9ff){const _0x12cdd6=Math[_0x599969(0x4f0)](_0x4001d5/0xf4240),_0x199904=_0x4001d5%0xf4240;return''+(_0x12cdd6>0x1?_0x1bd510(_0x12cdd6)+'\x20MILLONES':_0x599969(0x264))+(_0x199904>0x0?'\x20'+_0x1bd510(_0x199904):'');}return'';}function _0x1d93dc(_0x3d50b4){const _0x5bd6d9=_0x4709d4;return _0x3d50b4>0x0?_0x3d50b4+'/100':_0x5bd6d9(0x1b1);}const [_0x55900e,_0x53395b]=_0x34fd0a[_0x4709d4(0x353)](0x2)[_0x4709d4(0x3b0)]('.')[_0x4709d4(0x6c0)](Number),_0x48729e=_0x1bd510(_0x55900e),_0x2c48c5=_0x1d93dc(_0x53395b);return'SON\x20'+_0x48729e+_0x4709d4(0x45b)+_0x2c48c5;}function formatShiftDate(_0xe6db9e){const _0x4ae3af=_0x3df022,_0x59bb42=new Date(_0xe6db9e);if(isNaN(_0x59bb42))return'';const _0x1626c1=new Date(),_0x95502a=_0x1626c1-_0x59bb42,_0x59b0e4=Math[_0x4ae3af(0x4f0)](_0x95502a/0x3e8),_0x2d3cd2=Math[_0x4ae3af(0x4f0)](_0x95502a/0xea60),_0x297223=Math['floor'](_0x95502a/0x36ee80),_0x2411f4=Math[_0x4ae3af(0x4f0)](_0x95502a/0x5265c00);if(_0x59b0e4<0x3c)return _0x59b0e4+_0x4ae3af(0x512);else{if(_0x2d3cd2<0x3c)return _0x2d3cd2+_0x4ae3af(0x614);else{if(_0x297223<0x18){const _0x515f14=Math[_0x4ae3af(0x4f0)](_0x95502a%0x36ee80/0xea60);return _0x297223+'h\x20'+_0x515f14+_0x4ae3af(0x2e5);}else{const _0x350c57=Math[_0x4ae3af(0x4f0)](_0x95502a%0x5265c00/0x36ee80);return _0x2411f4+'d\x20'+_0x350c57+'h';}}}}function generateUUID(){const _0xb10cd0=_0x3df022;return _0xb10cd0(0x36f)['replace'](/[xy]/g,function(_0x6dda47){const _0xb02cf9=_0xb10cd0,_0x1fc4a6=Math[_0xb02cf9(0x5a4)]()*0x10|0x0,_0x40fbe1=_0x6dda47==='x'?_0x1fc4a6:_0x1fc4a6&0x3|0x8;return _0x40fbe1['toString'](0x10);});}async function generatePdf(_0x3167c9,_0x3d23aa='tk',_0x17fb89=_0x3df022(0x35f),_0x317ca4=_0x3df022(0x366),_0x4f16de=0x0){const _0x27c0de=_0x3df022,{PDFDocument:_0x2070e7,rgb:_0x47c4ca}=PDFLib;try{const _0xce13f6=await _0x2070e7[_0x27c0de(0x3c7)](),_0x3d53af=window[_0x27c0de(0x3d3)];_0xce13f6[_0x27c0de(0x65f)](_0x3d53af);const [_0x2cab91,_0x3a672a]=await Promise[_0x27c0de(0x19d)]([cargarFuente(_0x27c0de(0x5b6),_0xce13f6),cargarFuente(_0x27c0de(0x703),_0xce13f6)]);let _0x4cf9c5,_0x2233b7;if(_0x3d23aa=='tk')_0x4cf9c5=0xc8,_0x2233b7=0xbb8;else _0x3d23aa=='a4'&&(_0x4cf9c5=0x24e,_0x2233b7=0x7d0);const _0x361a27=await procesarContenido(_0xce13f6,_0x2cab91,_0x3a672a,_0x3167c9,_0x4cf9c5,_0x2233b7,_0x3d23aa,_0x47c4ca,_0x4f16de);let _0x54e439=_0x2233b7-_0x361a27;_0x3d23aa=='tk'&&(_0xce13f6[_0x27c0de(0x4b0)](0x0),await procesarContenido(_0xce13f6,_0x2cab91,_0x3a672a,_0x3167c9,_0x4cf9c5,_0x54e439,_0x3d23aa,_0x47c4ca,_0x4f16de));_0x3d23aa=='a4'&&(_0x54e439<0x34a&&(_0x54e439=0x34a),_0xce13f6['removePage'](0x0),await procesarContenido(_0xce13f6,_0x2cab91,_0x3a672a,_0x3167c9,_0x4cf9c5,_0x54e439,_0x3d23aa,_0x47c4ca,_0x4f16de));const _0x4f4948=await _0xce13f6[_0x27c0de(0x3ab)](),_0x4da603=new Blob([_0x4f4948],{'type':'application/pdf'}),_0x25024c=parseInt(_0x3167c9[_0x27c0de(0x431)]),_0x4e883e=myCompany[_0x27c0de(0x5e6)]+'-'+String(_0x3d23aa)[_0x27c0de(0x66a)]()+'-'+_0x25024c+'-'+_0x3167c9['setSerie']+'-'+_0x3167c9[_0x27c0de(0x31c)]+_0x27c0de(0x536),_0xbfdd04=URL[_0x27c0de(0x236)](_0x4da603),_0x1d3757=document[_0x27c0de(0x57b)](_0x17fb89),_0x346007=_0x1d3757[_0x27c0de(0x54c)]('2d'),_0x54a820=await pdfjsLib['getDocument'](_0xbfdd04)[_0x27c0de(0x602)],_0x117a00=await _0x54a820['getPage'](0x1),_0x294d20=_0x117a00[_0x27c0de(0x28c)]({'scale':parseFloat(_0x317ca4)});return _0x1d3757[_0x27c0de(0x50e)]=_0x294d20[_0x27c0de(0x50e)],_0x1d3757[_0x27c0de(0x6b9)]=_0x294d20[_0x27c0de(0x6b9)],_0x346007['clearRect'](0x0,0x0,_0x1d3757['width'],_0x1d3757['height']),await _0x117a00[_0x27c0de(0x1de)]({'canvasContext':_0x346007,'viewport':_0x294d20})[_0x27c0de(0x602)],URL[_0x27c0de(0x1ba)](_0xbfdd04),{'pdfBlob':_0x4da603,'pdfName':_0x4e883e};}catch(_0xb43cda){ntfShow(_0xb43cda,0x2,0x1);throw _0xb43cda;}}async function cargarFuente(_0x3edaf8,_0xa7d1f1){const _0x27d5f7=_0x3df022,_0xfe73da=await fetch(_0x3edaf8)[_0x27d5f7(0x2db)](_0x492799=>_0x492799[_0x27d5f7(0x451)]());return _0xa7d1f1[_0x27d5f7(0x31a)](_0xfe73da);}async function procesarContenido(_0x25cdb1,_0x1b2b1b,_0x16c9d3,_0x293e22,_0x278133,_0x288865,_0x20f283='tk',_0x4b96c6,_0x380aed=0x0){const _0x564d1d=_0x3df022,_0x3fdd77=_0x25cdb1['addPage']([_0x278133,_0x288865]),{width:_0x4bab11,height:_0x5ce315}=_0x3fdd77[_0x564d1d(0x705)](),_0x258780=0xc,_0x4aecaa=0x4,_0x537bdc=0xa;let _0x207608=_0x5ce315-_0x537bdc,{setLogoUrl:setLogoUrl=myCompany['setCompanyLogo'],setEmpresaRuc:setEmpresaRuc=myCompany[_0x564d1d(0x5e6)],setEmpresaNombre:setEmpresaNombre=myCompany[_0x564d1d(0x506)],setEmpresaTelefono:setEmpresaTelefono=myCompany[_0x564d1d(0x41d)],setEmpresaEmail:setEmpresaEmail=myCompany[_0x564d1d(0x321)],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x564d1d(0x4f2)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe='apiERP.dev/peru/consultas/cpe/',setDespacho:setDespacho='',setFooter:setFooter=_0x564d1d(0x655),setProductos:setProductos=[],..._0x390a34}=_0x293e22;_0x293e22=sanitizeData(_0x293e22,_0x564d1d(0x476));const _0x263f04=_0x390a34[_0x564d1d(0x1f0)],_0x25e166=_0x390a34[_0x564d1d(0x6d1)],_0x32a52f=_0x390a34[_0x564d1d(0x5b5)],_0x2c2f68=_0x390a34[_0x564d1d(0x6a7)],_0x503c15=_0x390a34[_0x564d1d(0x2ff)];let _0x1ca9d3,_0x27b09f;if(_0x503c15==_0x564d1d(0x37b))_0x1ca9d3=_0x564d1d(0x5eb),_0x27b09f=_0x564d1d(0x430);else{if(_0x503c15==_0x564d1d(0x38a))_0x1ca9d3=_0x564d1d(0x30e),_0x27b09f=_0x564d1d(0x634);else{if(_0x503c15=='room')_0x1ca9d3=_0x564d1d(0x5f7),_0x27b09f=_0x564d1d(0x1ae);else _0x503c15==_0x564d1d(0x5ad)&&(_0x1ca9d3=_0x564d1d(0x3a8),_0x27b09f=_0x564d1d(0x642));}}const _0x3f691e=_0x390a34[_0x564d1d(0x457)],_0x31d16c=_0x390a34[_0x564d1d(0x477)],_0x1b325c=_0x390a34[_0x564d1d(0x27f)],_0x5c93d6=_0x390a34[_0x564d1d(0x463)],_0xba7236=(parseFloat(_0x390a34[_0x564d1d(0x24e)])||0x0)[_0x564d1d(0x353)](0x2),_0x5923b0=(parseFloat(_0x390a34[_0x564d1d(0x6e6)])||0x0)[_0x564d1d(0x353)](0x2),_0x43984a=(parseFloat(_0x390a34[_0x564d1d(0x49a)])||0x0)[_0x564d1d(0x353)](0x2),_0x24206d=(parseFloat(_0x390a34['setMtoOperExoneradas'])||0x0)['toFixed'](0x2),_0x1a7868=(parseFloat(_0x390a34[_0x564d1d(0x447)])||0x0)[_0x564d1d(0x353)](0x2),_0x5daa4b=(parseFloat(_0x390a34[_0x564d1d(0x4ac)])||0x0)[_0x564d1d(0x353)](0x2),_0x4bcb34=(parseFloat(_0x390a34['setValorVenta'])||0x0)['toFixed'](0x2),_0xd69022=(parseFloat(_0x390a34[_0x564d1d(0x453)])||0x0)[_0x564d1d(0x353)](0x2),_0x1b70ef=(parseFloat(_0x390a34[_0x564d1d(0x45f)])||0x0)[_0x564d1d(0x353)](0x2),_0x1455e9=(parseFloat(_0x390a34[_0x564d1d(0x172)])||0x0)[_0x564d1d(0x353)](0x2),_0xfc4f68=parseFloat(_0x390a34[_0x564d1d(0x59e)])||0x0;let _0x336360,_0x27e9d8,_0x5d396d,_0x48fe16;_0xfc4f68==0x1&&(_0x336360=_0x390a34['setDetraccionCodigo']||'',_0x27e9d8=_0x390a34[_0x564d1d(0x692)]||'',_0x5d396d=_0x390a34[_0x564d1d(0x200)]||_0x564d1d(0x6bd),_0x48fe16=_0x390a34[_0x564d1d(0x178)]||'0.00');const _0xce81e5=parseFloat(_0x390a34['setRetencion'])||0x0;let _0xbc068d,_0x65f3cd;_0xce81e5==0x1&&(_0xbc068d=_0x390a34[_0x564d1d(0x32c)]||'0.00',_0x65f3cd=_0x390a34[_0x564d1d(0x584)]||_0x564d1d(0x6bd));const _0x3d7bba=parseFloat(_0x390a34[_0x564d1d(0x64e)])||0x0;let _0x233f9f,_0x5b4dba;_0x3d7bba==0x1&&(_0x233f9f=_0x390a34[_0x564d1d(0x474)]||_0x564d1d(0x6bd),_0x5b4dba=_0x390a34[_0x564d1d(0x605)]||_0x564d1d(0x6bd));const _0x16e29f=getFormattedDate(setFechaHora),_0x4b4c0d=getFormattedTime(setFechaHora),_0x49deed=myCompany['setDocTypeName'],_0x44fd7c=parseInt(_0x390a34['setConsumo'])||0x0,{contado:_0x20a1f2,credito:_0x598a1b,mixto:_0x1465ff}=_0x390a34['setMedioPago']||{},_0x1b96c9=numeroALetras(parseFloat(_0x1455e9))+'\x20'+_0x5c93d6[_0x564d1d(0x66a)](),_0xd67aee=_0x564d1d(0x314),_0x257aed=_0x390a34['setCashierId'],_0x1af856=_0x390a34['setCashierName'],_0x59244d=_0x564d1d(0x5a1),_0x57ef21=_0x390a34[_0x564d1d(0x5f1)],_0x95ab5f=_0x390a34[_0x564d1d(0x5d2)],_0x520ed6='Cajero\x20/\x20Vendedor:';let _0x2a3938,_0x483d68;if(setTipOpeOrders[_0x564d1d(0x6e8)](_0x5d0e02=>_0x5d0e02==setTipoOperacion)||setTipOpeQuotation[_0x564d1d(0x6e8)](_0x1d6728=>_0x1d6728==setTipoOperacion)||setTipOpeSales['some'](_0x2597cf=>_0x2597cf==setTipoOperacion))_0x2a3938=_0x564d1d(0x28b),_0x483d68=0x2;else setTipOpePurchases[_0x564d1d(0x6e8)](_0x577302=>_0x577302==setTipoOperacion)&&(_0x2a3938=_0x564d1d(0x44b),_0x483d68=0x1);const _0x3f68d3=_0x564d1d(0x4e2),_0x77f179='',_0x4ea876=_0x564d1d(0x58c),_0x48873d='',_0x113079='Conductor:',_0x37ed40='',_0x5de8a3=_0x564d1d(0x4fc),_0x471dcd='';let _0x558763='',_0x453e54=[];_0x77f179!=''&&(_0x558763=_0x564d1d(0x22a),_0x453e54=[_0x3f68d3+':\x20'+_0x77f179,_0x4ea876+':\x20'+_0x48873d,_0x113079+':\x20'+_0x37ed40,_0x5de8a3+':\x20'+_0x471dcd]);const _0x58d74e=getUserPermissionApiERP(0x7),_0x4ec013=getUserPermissionApiERP(0x8),_0x3e3a0c=getUserPermissionApiERP(0x13),_0x77dbd1=getUserPermissionApiERP(0x14),_0x3abe9=_0x4b96c6(0x1,0.35,0x0),_0xd4964a=_0x4b96c6(0x1,0x1,0x1),_0x2b41cb=_0x4b96c6(0x0,0x0,0x0),_0x22ff6d=_0x4b96c6(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0x415742=_0x4b96c6(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x207608-=_0x258780;if(_0x20f283=='tk'){const _0x163916=(_0x3af175,_0x19ddc1,_0x536c5f,_0x5c3473=0.5,_0x4d2d25=[0x1,0x3])=>{const _0x3710f5=_0x564d1d;let _0x1db2a4=_0x3af175,_0x3a6b22=_0x4d2d25[0x0],_0x534c8f=_0x4d2d25[0x1];while(_0x1db2a4<_0x19ddc1){_0x3fdd77[_0x3710f5(0x6f6)]({'start':{'x':_0x1db2a4,'y':_0x536c5f},'end':{'x':_0x1db2a4+_0x3a6b22,'y':_0x536c5f},'thickness':_0x5c3473}),_0x1db2a4+=_0x3a6b22+_0x534c8f;}};function _0x2bca70(_0x2ad676,_0x3264a8,_0x432a69,_0xeb2393,_0x5ded14=_0x564d1d(0x494)){const _0x5262a6=_0x564d1d,_0x532f54=_0x4bab11-_0x537bdc*0x2,_0x28facf=_0xeb2393+0x2,_0x3a36d1=[],_0x341bd7=_0xf2846b=>_0x432a69['widthOfTextAtSize'](_0xf2846b,_0xeb2393);if(_0x2ad676[_0x5262a6(0x6c7)]('\x20')==-0x1&&_0x341bd7(_0x2ad676)>_0x532f54){let _0x1c0db0=0x0,_0x53545f='';for(let _0x7bc840=0x0;_0x7bc840<_0x2ad676[_0x5262a6(0x527)];_0x7bc840++){_0x53545f+=_0x2ad676[_0x7bc840];if(_0x341bd7(_0x53545f)>_0x532f54){const _0x50b199=_0x53545f[_0x5262a6(0x248)](0x0,-0x1);_0x3a36d1[_0x5262a6(0x2a6)](_0x50b199),_0x53545f=_0x2ad676[_0x7bc840];}}if(_0x53545f)_0x3a36d1[_0x5262a6(0x2a6)](_0x53545f);}else{const _0xf54906=_0x2ad676['split']('\x20');let _0x231a8e='';for(let _0x11734b=0x0;_0x11734b<_0xf54906[_0x5262a6(0x527)];_0x11734b++){const _0x12a2b3=_0x231a8e+(_0x231a8e?'\x20':'')+_0xf54906[_0x11734b];_0x341bd7(_0x12a2b3)>_0x532f54&&_0x231a8e?(_0x3a36d1[_0x5262a6(0x2a6)](_0x231a8e),_0x231a8e=_0xf54906[_0x11734b]):_0x231a8e=_0x12a2b3;}if(_0x231a8e)_0x3a36d1['push'](_0x231a8e);}return _0x3a36d1[_0x5262a6(0x492)](_0x386d5a=>{const _0x325bf8=_0x5262a6,_0x3f2200=_0x341bd7(_0x386d5a);let _0x415fe4=_0x537bdc;if(_0x5ded14==_0x325bf8(0x661))_0x415fe4=_0x537bdc+(_0x532f54-_0x3f2200)/0x2;else _0x5ded14==_0x325bf8(0x567)&&(_0x415fe4=_0x537bdc+(_0x532f54-_0x3f2200));_0x3fdd77[_0x325bf8(0x3e2)](_0x386d5a,{'x':_0x415fe4,'y':_0x3264a8,'size':_0xeb2393,'font':_0x432a69}),_0x3264a8-=_0x28facf;}),_0x3264a8;}const _0x50698=(_0x5110aa,_0x3099ae,_0x14ad5a,_0x37aeb8,_0x5d94d1,_0xe2b952)=>{const _0x163628=_0x564d1d,_0x2e1f4a=(_0x278133-_0x537bdc*0x2)*0.3,_0x436ab9=(_0x278133-_0x537bdc*0x2)*0.1;_0x3fdd77[_0x163628(0x3e2)](String(_0x5110aa),{'x':_0x537bdc,'y':_0x14ad5a,'size':_0x5d94d1,'font':_0x37aeb8}),_0x3fdd77[_0x163628(0x3e2)](':',{'x':_0x537bdc+_0x2e1f4a,'y':_0x14ad5a,'size':_0x5d94d1,'font':_0x37aeb8});let _0xa681f4=_0x1b2b1b[_0x163628(0x5d9)](_0x3099ae,_0x5d94d1),_0x3eefd5=0x1;if(_0xa681f4>_0xe2b952){let _0x2e0528=_0x3099ae[_0x163628(0x3b0)]('\x20'),_0x53c31a='',_0x5010c8=_0x14ad5a;_0x2e0528['forEach'](_0x3c82c6=>{const _0x72c3e1=_0x163628;_0x1b2b1b[_0x72c3e1(0x5d9)](_0x53c31a+'\x20'+_0x3c82c6,_0x5d94d1)>_0xe2b952?(_0x3fdd77[_0x72c3e1(0x3e2)](_0x53c31a,{'x':_0x537bdc+_0x2e1f4a+_0x436ab9,'y':_0x5010c8,'size':_0x5d94d1,'font':_0x37aeb8}),_0x5010c8-=_0x258780,_0x3eefd5++,_0x53c31a=_0x3c82c6):_0x53c31a+=(_0x53c31a?'\x20':'')+_0x3c82c6;}),_0x3fdd77[_0x163628(0x3e2)](_0x53c31a,{'x':_0x537bdc+_0x2e1f4a+_0x436ab9,'y':_0x5010c8,'size':_0x5d94d1,'font':_0x37aeb8});}else _0x3fdd77[_0x163628(0x3e2)](String(_0x3099ae),{'x':_0x537bdc+_0x2e1f4a+_0x436ab9,'y':_0x14ad5a,'size':_0x5d94d1,'font':_0x37aeb8});return _0x14ad5a-_0x258780*_0x3eefd5;},_0x190dfb=(_0x3a0488,_0x4442b6,_0x25170d,_0x15835d,_0x929784,_0x4e83b4,_0x74ec16,_0x3c96ff,_0x3930ab=![])=>{const _0xbc1896=_0x564d1d;_0x3a0488=_0x3a0488[_0xbc1896(0x6c0)](_0x154ada=>String(_0x154ada)),_0x4442b6=_0x4442b6[_0xbc1896(0x6c0)](_0x469ede=>String(_0x469ede));const _0x1d583f=(_0x4e83b4-_0x74ec16*0x2)*0.4,_0x1e5dde=(_0x4e83b4-_0x74ec16*0x2)*0.2,_0x1c51d3=(_0x4e83b4-_0x74ec16*0x2)*0.2,_0x2c5966=(_0x4e83b4-_0x74ec16*0x2)*0.2,_0x46adb2=(_0xc7ca0,_0x3743d8,_0x2ff690,_0x32b875,_0x18557a,_0x5ec6b3)=>{const _0x4e2e4a=_0xbc1896;let _0x44551b=_0x18557a[_0x4e2e4a(0x5d9)](_0xc7ca0,_0x5ec6b3),_0x25deb5=0x1;if(_0x44551b>_0x32b875){let _0x5090d3=_0xc7ca0[_0x4e2e4a(0x3b0)]('\x20'),_0x1e6e60='',_0x1ca7d2=_0x2ff690;_0x5090d3[_0x4e2e4a(0x492)](_0x5205af=>{const _0x47362f=_0x4e2e4a;_0x18557a[_0x47362f(0x5d9)](_0x1e6e60+'\x20'+_0x5205af,_0x5ec6b3)>_0x32b875?(_0x3fdd77[_0x47362f(0x3e2)](_0x1e6e60,{'x':_0x3743d8,'y':_0x1ca7d2,'size':_0x5ec6b3,'font':_0x18557a}),_0x1ca7d2-=_0x3c96ff,_0x25deb5++,_0x1e6e60=_0x5205af):_0x1e6e60+=(_0x1e6e60?'\x20':'')+_0x5205af;}),_0x3fdd77[_0x4e2e4a(0x3e2)](_0x1e6e60,{'x':_0x3743d8,'y':_0x1ca7d2,'size':_0x5ec6b3,'font':_0x18557a});}else _0x3fdd77[_0x4e2e4a(0x3e2)](_0xc7ca0,{'x':_0x3743d8,'y':_0x2ff690,'size':_0x5ec6b3,'font':_0x18557a});return _0x2ff690-_0x3c96ff*_0x25deb5;};if(_0x3930ab){_0x3fdd77[_0xbc1896(0x3e2)](String(_0x3a0488[0x0]),{'x':_0x74ec16,'y':_0x25170d,'size':_0x929784,'font':_0x15835d});const _0x3c1451=_0x74ec16+_0x1d583f+(_0x1e5dde-_0x15835d[_0xbc1896(0x5d9)](String(_0x3a0488[0x1]),_0x929784))/0x2,_0x32d82b=_0x74ec16+_0x1d583f+_0x1e5dde+(_0x1c51d3-_0x15835d[_0xbc1896(0x5d9)](String(_0x3a0488[0x2]),_0x929784))/0x2,_0x3f6772=_0x74ec16+_0x1d583f+_0x1e5dde+_0x1c51d3+(_0x2c5966-_0x15835d['widthOfTextAtSize'](String(_0x3a0488[0x3]),_0x929784));return _0x3fdd77[_0xbc1896(0x3e2)](String(_0x3a0488[0x1]),{'x':_0x3c1451,'y':_0x25170d,'size':_0x929784,'font':_0x15835d}),_0x3fdd77[_0xbc1896(0x3e2)](String(_0x3a0488[0x2]),{'x':_0x32d82b,'y':_0x25170d,'size':_0x929784,'font':_0x15835d}),_0x3fdd77['drawText'](String(_0x3a0488[0x3]),{'x':_0x3f6772,'y':_0x25170d,'size':_0x929784,'font':_0x15835d}),_0x25170d-_0x3c96ff;}else{let _0x325249=_0x25170d;_0x325249=_0x46adb2(_0x4442b6[0x0],_0x74ec16,_0x325249,_0x1d583f,_0x15835d,_0x929784);const _0x55a68c=_0x25170d-_0x325249+_0x3c96ff,_0x40ff5a=_0x325249+(_0x55a68c-_0x3c96ff)/0x2,_0x488234=_0x55a68c==_0x3c96ff,_0x1b7c37=_0x488234?_0x40ff5a:_0x40ff5a+_0x3c96ff/0x2,_0x44b4fd=_0x74ec16+_0x1d583f+(_0x1e5dde-_0x15835d['widthOfTextAtSize'](_0x4442b6[0x1],_0x929784))/0x2,_0x4913e5=_0x74ec16+_0x1d583f+_0x1e5dde+(_0x1c51d3-_0x15835d[_0xbc1896(0x5d9)](_0x4442b6[0x2],_0x929784))/0x2,_0x31bb10=_0x74ec16+_0x1d583f+_0x1e5dde+_0x1c51d3+(_0x2c5966-_0x15835d['widthOfTextAtSize'](_0x4442b6[0x3],_0x929784));return _0x3fdd77['drawText'](String(_0x4442b6[0x1]),{'x':_0x44b4fd,'y':_0x1b7c37,'size':_0x929784,'font':_0x15835d}),_0x3fdd77[_0xbc1896(0x3e2)](String(_0x4442b6[0x2]),{'x':_0x4913e5,'y':_0x1b7c37,'size':_0x929784,'font':_0x15835d}),_0x3fdd77[_0xbc1896(0x3e2)](String(_0x4442b6[0x3]),{'x':_0x31bb10,'y':_0x1b7c37,'size':_0x929784,'font':_0x15835d}),_0x325249-_0x3c96ff;}},_0x49105b=(_0xa1df06,_0x533161,_0x1a1a23,_0x31dd00,_0x396de9)=>{const _0x958872=_0x564d1d;_0x3fdd77[_0x958872(0x3e2)](String(_0xa1df06),{'x':_0x537bdc,'y':_0x1a1a23,'size':_0x396de9,'font':_0x31dd00});const _0x5efc5a=_0x278133-_0x537bdc-_0x1b2b1b[_0x958872(0x5d9)](_0x533161,_0x396de9);return _0x3fdd77[_0x958872(0x3e2)](String(_0x533161),{'x':_0x5efc5a,'y':_0x1a1a23,'size':_0x396de9,'font':_0x31dd00}),_0x1a1a23-_0x258780;};function _0x32d9c9(_0x1cd0f8,_0x309e08,_0x4e9250,_0x5bd1fa,_0x49ba90,_0x5f4470,_0x3ce901,_0xb1b5d4){const _0x3c54c1=_0x564d1d,_0x3e30fd=_0x3ce901-0x2*_0xb1b5d4,_0x4077cc=_0x3e30fd*0.4,_0x333e04=_0x3e30fd*0.6,_0x5b591d=_0x5f4470*1.2,_0x4af1f8=_0x49ba90===_0x16c9d3&&_0x5f4470===0xb;function _0x326f4e(_0x2e1816,_0x530381,_0x38f0a1,_0x3efd87){const _0x3e7222=_0xe3e9,_0x5ed2e4=_0x2e1816['split']('\x20');let _0x3fdb4e=[],_0x4ff3b3='';_0x5ed2e4['forEach'](_0x1629f6=>{const _0x4ebba0=_0xe3e9,_0x20baf2=_0x4ff3b3?_0x4ff3b3+'\x20'+_0x1629f6:_0x1629f6;if(_0x38f0a1[_0x4ebba0(0x5d9)](_0x20baf2,_0x3efd87)<=_0x530381)_0x4ff3b3=_0x20baf2;else{if(_0x4ff3b3)_0x3fdb4e[_0x4ebba0(0x2a6)](_0x4ff3b3);_0x4ff3b3=_0x1629f6;}});if(_0x4ff3b3)_0x3fdb4e[_0x3e7222(0x2a6)](_0x4ff3b3);return _0x3fdb4e;}let _0x10388a=[];if(_0x4af1f8){const _0x53163e=_0x309e08[_0x3c54c1(0x609)](/^(.*?)\s*(\([^)]*\))$/);_0x53163e?_0x10388a=[{'quantity':_0x53163e[0x1][_0x3c54c1(0x428)](),'unit':_0x53163e[0x2]['trim']()}]:_0x10388a=_0x326f4e(_0x309e08,_0x4077cc,_0x49ba90,_0x5f4470);}else _0x10388a=_0x326f4e(_0x309e08,_0x4077cc,_0x49ba90,_0x5f4470);const _0x2227cb=_0x326f4e(_0x4e9250,_0x333e04,_0x49ba90,_0x5f4470),_0x2dd10c=Math[_0x3c54c1(0x32a)](_0x10388a[_0x3c54c1(0x527)],_0x2227cb['length']),_0x5c5b56=_0x10388a[_0x3c54c1(0x527)]*_0x5b591d,_0x5a3420=_0x2227cb[_0x3c54c1(0x527)]*_0x5b591d,_0x4e548d=(_0x2dd10c*_0x5b591d-_0x5c5b56)/0x2,_0x5b34be=(_0x2dd10c*_0x5b591d-_0x5a3420)/0x2;return _0x10388a['forEach']((_0x4cc255,_0x422041)=>{const _0x11a76f=_0x3c54c1,_0x4b40ca=_0x5bd1fa-_0x4e548d-(_0x422041+0x1)*_0x5b591d;let _0x16167b;if(_0x4af1f8&&typeof _0x4cc255===_0x11a76f(0x2dc)&&_0x4cc255[_0x11a76f(0x5d8)]!==undefined){const _0x5be325=_0x16c9d3['widthOfTextAtSize'](_0x4cc255['quantity'],0xb),_0x2c98ef=_0x1b2b1b[_0x11a76f(0x5d9)](_0x4cc255[_0x11a76f(0x47e)],0x9),_0x1ba79a=0x2,_0x4bae40=_0x5be325+_0x1ba79a+_0x2c98ef;_0x16167b=_0xb1b5d4+(_0x4077cc-_0x4bae40)/0x2,_0x1cd0f8[_0x11a76f(0x3e2)](_0x4cc255[_0x11a76f(0x5d8)],{'x':_0x16167b,'y':_0x4b40ca,'size':0xb,'font':_0x16c9d3});const _0xd18ab7=0x2;_0x1cd0f8[_0x11a76f(0x3e2)](_0x4cc255[_0x11a76f(0x47e)],{'x':_0x16167b+_0x5be325+_0x1ba79a,'y':_0x4b40ca+(0xb-0x9)-_0xd18ab7,'size':0x9,'font':_0x1b2b1b});}else{const _0x369d6c=_0x49ba90[_0x11a76f(0x5d9)](_0x4cc255,_0x5f4470);_0x16167b=_0xb1b5d4+(_0x4077cc-_0x369d6c)/0x2,_0x1cd0f8['drawText'](_0x4cc255,{'x':_0x16167b,'y':_0x4b40ca,'size':_0x5f4470,'font':_0x49ba90});}}),_0x2227cb['forEach']((_0x4645d3,_0x3bb4f5)=>{const _0x49b65b=_0x3c54c1,_0x3e7ac1=_0x5bd1fa-_0x5b34be-(_0x3bb4f5+0x1)*_0x5b591d;let _0x3168d0;if(_0x4af1f8)_0x3168d0=_0xb1b5d4+_0x4077cc+0x5;else{const _0x3cff93=_0x49ba90['widthOfTextAtSize'](_0x4645d3,_0x5f4470);_0x3168d0=_0xb1b5d4+_0x4077cc+(_0x333e04-_0x3cff93)/0x2;}_0x1cd0f8[_0x49b65b(0x3e2)](_0x4645d3,{'x':_0x3168d0,'y':_0x3e7ac1,'size':_0x5f4470,'font':_0x49ba90});}),_0x5bd1fa-_0x2dd10c*_0x5b591d;}function _0x503592(_0x4774de,_0x50058f,_0x3ebbd9,_0x20fdce){const _0xaabd20=_0x564d1d,_0x49e3a4=_0x4774de[_0xaabd20(0x3b0)]('\x20');let _0x317c12=[],_0xa31171='';_0x49e3a4[_0xaabd20(0x492)](_0x1a4920=>{const _0x131ccd=_0xaabd20,_0x6e1fd4=_0xa31171?_0xa31171+'\x20'+_0x1a4920:_0x1a4920;if(_0x3ebbd9[_0x131ccd(0x5d9)](_0x6e1fd4,_0x20fdce)<=_0x50058f)_0xa31171=_0x6e1fd4;else{if(_0xa31171)_0x317c12[_0x131ccd(0x2a6)](_0xa31171);_0xa31171=_0x1a4920;}});if(_0xa31171)_0x317c12[_0xaabd20(0x2a6)](_0xa31171);return _0x317c12;}if(setTipOpeSales[_0x564d1d(0x6e8)](_0x4abce8=>_0x4abce8==setTipoOperacion)||setTipOpePurchases[_0x564d1d(0x6e8)](_0x1cb904=>_0x1cb904==setTipoOperacion)||setTipOpeQuotation[_0x564d1d(0x6e8)](_0x143ba3=>_0x143ba3==setTipoOperacion)||_0x380aed==0x1){if(_0x380aed==0x1){if(setLogoUrl){const _0x350ee0=setLogoUrl[_0x564d1d(0x3b0)](',')[0x1],_0x1daf93=Uint8Array['from'](atob(_0x350ee0),_0x2e8328=>_0x2e8328[_0x564d1d(0x39f)](0x0));let _0x43838e;try{_0x43838e=await _0x25cdb1[_0x564d1d(0x44d)](_0x1daf93);}catch(_0x2b15e3){try{_0x43838e=await _0x25cdb1[_0x564d1d(0x38e)](_0x1daf93);}catch(_0x418d38){throw new Error(_0x564d1d(0x376));}}const _0x38fc5d=_0x278133*0.5,_0x581ec5=_0x43838e[_0x564d1d(0x50e)],_0x7e647a=_0x38fc5d/_0x581ec5,_0x389537=_0x43838e['scale'](_0x7e647a),_0x28bdc0=(_0x278133-_0x389537['width'])/0x2,_0x1a47e8=_0x207608-_0x389537['height'];_0x3fdd77[_0x564d1d(0x71b)](_0x43838e,{'x':_0x28bdc0,'y':_0x1a47e8,'width':_0x389537[_0x564d1d(0x50e)],'height':_0x389537[_0x564d1d(0x6b9)]}),_0x207608=_0x1a47e8;}}if(_0x380aed!=0x1){if(setLogoUrl){const _0x55a326=setLogoUrl[_0x564d1d(0x3b0)](',')[0x1],_0x5d8433=Uint8Array[_0x564d1d(0x486)](atob(_0x55a326),_0x4cc158=>_0x4cc158['charCodeAt'](0x0));let _0x8e783;try{_0x8e783=await _0x25cdb1[_0x564d1d(0x44d)](_0x5d8433);}catch(_0x1f02cd){try{_0x8e783=await _0x25cdb1[_0x564d1d(0x38e)](_0x5d8433);}catch(_0x41569d){throw new Error(_0x564d1d(0x376));}}const _0x1d3c7c=_0x278133*0.5,_0xf4b60a=_0x8e783[_0x564d1d(0x50e)],_0x9ccdb9=_0x1d3c7c/_0xf4b60a,_0x3b0302=_0x8e783['scale'](_0x9ccdb9),_0x5dd21d=(_0x278133-_0x3b0302[_0x564d1d(0x50e)])/0x2,_0x459f73=_0x207608-_0x3b0302[_0x564d1d(0x6b9)];_0x3fdd77[_0x564d1d(0x71b)](_0x8e783,{'x':_0x5dd21d,'y':_0x459f73,'width':_0x3b0302[_0x564d1d(0x50e)],'height':_0x3b0302['height']}),_0x207608=_0x459f73-_0x258780-0x5;}setEmpresaNombre&&(_0x207608=_0x2bca70(setEmpresaNombre,_0x207608,_0x16c9d3,0xb,'center')),_0x263f04&&(_0x207608=_0x2bca70(_0x263f04,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661))),setEmpresaEmail&&(_0x207608=_0x2bca70(setEmpresaEmail,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661))),setEmpresaTelefono&&(_0x207608=_0x2bca70(setEmpresaTelefono,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661))),setEmpresaSitioWeb&&(_0x207608=_0x2bca70(setEmpresaSitioWeb,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661)));}_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;if(setEmpresaRuc){const _0x51ee82=_0x1b2b1b[_0x564d1d(0x5d9)](_0x49deed+':\x20'+setEmpresaRuc,0xb),_0x3e0565=(_0x278133-_0x51ee82)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x49deed+':\x20'+setEmpresaRuc,{'x':_0x3e0565,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=0x9;}_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;if(_0x380aed==0x1){const _0x3a779a=_0x1b2b1b[_0x564d1d(0x5d9)](_0x564d1d(0x621),0xb),_0x28cdc5=(_0x278133-_0x3a779a)/0x2;_0x3fdd77['drawText'](_0x564d1d(0x621),{'x':_0x28cdc5,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=0x9;}else{const _0x5d73e2=_0x1b2b1b[_0x564d1d(0x5d9)](_0x31d16c[_0x564d1d(0x66a)](),0xb),_0x50436a=(_0x278133-_0x5d73e2)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x31d16c['toUpperCase'](),{'x':_0x50436a,'y':_0x207608,'size':0xb,'font':_0x16c9d3});if(setSerie&&setCorrelativo){_0x207608-=_0x258780;const _0x149b46=_0x1b2b1b[_0x564d1d(0x5d9)](setSerie[_0x564d1d(0x66a)]()+_0x564d1d(0x534)+setCorrelativo,0xb),_0x36c534=(_0x278133-_0x149b46)/0x2;_0x3fdd77['drawText'](setSerie[_0x564d1d(0x66a)]()+_0x564d1d(0x534)+setCorrelativo,{'x':_0x36c534,'y':_0x207608,'size':0xb,'font':_0x16c9d3});}_0x207608-=0x9;}_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;if(_0x380aed==0x1){const _0x2ef503=_0x1b2b1b['widthOfTextAtSize'](_0x3f691e,0xb),_0x6675ac=(_0x278133-_0x2ef503)/0x2;_0x3fdd77['drawText'](_0x3f691e,{'x':_0x6675ac,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=0x9,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;}const _0x483765=(_0x278133-_0x537bdc*0x2)*0.6;_0x380aed!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x207608=_0x50698(setClienteTipoDoc,setClienteNumDoc,_0x207608,_0x1b2b1b,0x9,_0x483765)),setClienteDenominacion&&(_0x207608=_0x50698(_0x2a3938,setClienteDenominacion,_0x207608,_0x1b2b1b,0x9,_0x483765)),setClienteDireccion&&(_0x207608=_0x50698(_0x564d1d(0x483),setClienteDireccion,_0x207608,_0x1b2b1b,0x9,_0x483765)),_0x25e166&&(_0x207608=_0x50698(_0x564d1d(0x306),_0x25e166,_0x207608,_0x1b2b1b,0x9,_0x483765)),_0x32a52f&&(_0x207608=_0x50698(_0x564d1d(0x482),_0x32a52f,_0x207608,_0x1b2b1b,0x9,_0x483765)));_0x16e29f&&(_0x207608=_0x50698(_0x564d1d(0x257),_0x16e29f,_0x207608,_0x1b2b1b,0x9,_0x483765));_0x4b4c0d&&(_0x207608=_0x50698(_0x564d1d(0x305),_0x4b4c0d,_0x207608,_0x1b2b1b,0x9,_0x483765));_0x380aed==0x1&&(_0x207608=_0x50698(_0x1ca9d3,_0x2c2f68,_0x207608,_0x1b2b1b,0x9,_0x483765),_0x207608=_0x50698(_0x27b09f,_0x95ab5f,_0x207608,_0x1b2b1b,0x9,_0x483765));_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=_0x258780;const _0x560ff6=[_0x564d1d(0x4a4),_0x564d1d(0x52c),_0x564d1d(0x183),_0x564d1d(0x577)];_0x207608=_0x190dfb(_0x560ff6,[],_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0x8,!![]),_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=_0x258780;if(_0x44fd7c==0x1){const _0x8e8027=[_0x564d1d(0x645),_0x564d1d(0x1f7),parseFloat(_0x1455e9)[_0x564d1d(0x353)](0x2),parseFloat(_0x1455e9)[_0x564d1d(0x353)](0x2)];_0x207608=_0x190dfb([],_0x8e8027,_0x207608,_0x1b2b1b,0x7,_0x278133,_0x537bdc,0xa,![]),_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608+_0x258780);}else setProductos[_0x564d1d(0x492)]((_0x2c29da,_0x10fa3f)=>{const _0x36cf8b=_0x564d1d;let {setDescripcion:_0x514b8d,setCantidad:_0xbb6e7a,setMtoPrecioUnitario:_0x5c6a3d,setTotal:_0x3545f6,setDescuento:_0x4ed867,setMtoPrecioUnitario_final:_0x1e3c84,setUnidad:_0xedebe6,setTipAfeIgv:_0x1cc560,setNotas:_0x13e836,setItemDescription:_0x408055,setMarca:_0x41c4c5}=_0x2c29da;_0x4ed867[_0x36cf8b(0x260)]>0x0&&(_0x514b8d+='\x20('+_0x4ed867[_0x36cf8b(0x260)]+_0x36cf8b(0x520)+_0x1b325c+parseFloat(_0x1e3c84)[_0x36cf8b(0x353)](0x2)+')');(setTipAfeImpGravadosGrat[_0x36cf8b(0x6e8)](_0x32c2cf=>_0x32c2cf==_0x1cc560)||setTipAfeImpInafectosGrat[_0x36cf8b(0x6e8)](_0x52a242=>_0x52a242==_0x1cc560)||setTipAfeImpExoneradosGrat[_0x36cf8b(0x6e8)](_0xbb9f7f=>_0xbb9f7f==_0x1cc560))&&(_0x5c6a3d=_0x1e3c84,setTipAfeImpGravadosGrat[_0x36cf8b(0x6e8)](_0x21f053=>_0x21f053==_0x1cc560)&&(_0x514b8d+=_0x36cf8b(0x5c7)),setTipAfeImpExoneradosGrat['some'](_0x333a96=>_0x333a96==_0x1cc560)&&(_0x514b8d+=_0x36cf8b(0x445)),setTipAfeImpInafectosGrat[_0x36cf8b(0x6e8)](_0x8fcaa0=>_0x8fcaa0==_0x1cc560)&&(_0x514b8d+='\x20(Inafecto\x20Gratuito)'));let _0x2ee45f=products[_0x36cf8b(0x2d3)](_0x5beb5f=>_0x5beb5f['id']==_0x2c29da[_0x36cf8b(0x35a)]);_0x58d74e==0x1&&_0x2ee45f&&_0x2ee45f['setBatchName']&&(_0x514b8d+=_0x36cf8b(0x281)+_0x2ee45f[_0x36cf8b(0x4b3)]);_0x4ec013==0x1&&_0x2ee45f&&_0x2ee45f[_0x36cf8b(0x403)]&&(_0x514b8d+=_0x36cf8b(0x580)+_0x2ee45f[_0x36cf8b(0x403)]);_0xbb6e7a+='\x20('+_0xedebe6+')';const _0xfc05f4=[_0x514b8d,_0xbb6e7a,parseFloat(_0x5c6a3d)[_0x36cf8b(0x353)](0x2),_0x3545f6[_0x36cf8b(0x353)](0x2)];_0x207608=_0x190dfb([],_0xfc05f4,_0x207608,_0x1b2b1b,0x7,_0x278133,_0x537bdc,0xa,![]);if(_0x77dbd1==0x1&&_0x408055!=''){const _0x297b81=_0x13e836[_0x36cf8b(0x428)]()?'\x0a':'';_0x13e836+=_0x297b81+_0x36cf8b(0x186)+_0x408055;}if(_0x3e3a0c==0x1&&_0x41c4c5!=''){const _0x5ba8f8=_0x13e836[_0x36cf8b(0x428)]()?'\x0a':'';_0x13e836+=_0x5ba8f8+'Marca:\x20'+_0x41c4c5;}const _0x3af9e2=_0x278133-0x2*_0x537bdc,_0x5c27aa=_0x3af9e2*0.4;if(_0x13e836){const _0x296c87=0x7,_0x168fc2=_0x537bdc,_0x942777=_0x5c27aa,_0x502a66=_0x296c87*1.2,_0x3edac9=_0x13e836['split'](/\r?\n/);let _0x82b4eb=[];_0x3edac9[_0x36cf8b(0x492)](_0x9562ed=>{const _0x4ea5c9=_0x36cf8b,_0x3763a5=_0x503592('*\x20'+_0x9562ed,_0x942777,_0x1b2b1b,_0x296c87);_0x82b4eb=_0x82b4eb[_0x4ea5c9(0x2fc)](_0x3763a5);}),_0x82b4eb['forEach']((_0x537771,_0x477bba)=>{const _0x9f6336=_0x36cf8b,_0x4b5584=_0x207608+0xf-(_0x477bba+0x1)*_0x502a66;_0x3fdd77[_0x9f6336(0x3e2)](_0x537771,{'x':_0x168fc2,'y':_0x4b5584,'size':_0x296c87,'font':_0x1b2b1b});}),_0x207608-=_0x82b4eb['length']*_0x502a66+0x5;}_0x163916(_0x537bdc,_0x278133-_0x537bdc,_0x207608+_0x258780);});_0x207608-=0x5;parseFloat(_0xba7236)>0x0&&(_0x207608=_0x49105b('DESCUENTO\x20GLOBAL',_0x1b325c+'\x20'+_0xba7236,_0x207608,_0x1b2b1b,0x7));parseFloat(_0x5923b0)>0x0&&(_0x207608=_0x49105b('DESCUENTO\x20POR\x20ITEMS',_0x1b325c+'\x20'+_0x5923b0,_0x207608,_0x1b2b1b,0x7));!setTipOpeExo['some'](_0x3261ef=>_0x3261ef==setTipoOperacion)&&_0x380aed!=0x1&&(parseFloat(_0x43984a)>0x0&&(_0x207608=_0x49105b(_0x564d1d(0x5e2),_0x1b325c+'\x20'+_0x43984a,_0x207608,_0x1b2b1b,0x7)),parseFloat(_0x24206d)>0x0&&(_0x207608=_0x49105b('OP.\x20EXONERADAS',_0x1b325c+'\x20'+_0x24206d,_0x207608,_0x1b2b1b,0x7)),parseFloat(_0x1a7868)>0x0&&(_0x207608=_0x49105b('OP.\x20INAFECTAS',_0x1b325c+'\x20'+_0x1a7868,_0x207608,_0x1b2b1b,0x7)),parseFloat(_0x5daa4b)>0x0&&(_0x207608=_0x49105b(_0x564d1d(0x5a2),_0x1b325c+'\x20'+_0x5daa4b,_0x207608,_0x1b2b1b,0x7)),parseFloat(_0x1b70ef)>0x0&&(_0x207608=_0x49105b('IGV\x20GRATUITAS',_0x1b325c+'\x20'+_0x1b70ef,_0x207608,_0x1b2b1b,0x7)),_0x207608=_0x49105b(_0x564d1d(0x433),_0x1b325c+'\x20'+_0x4bcb34,_0x207608,_0x1b2b1b,0x7),_0x207608=_0x49105b('IGV',_0x1b325c+'\x20'+_0xd69022,_0x207608,_0x1b2b1b,0x7));_0x207608=_0x49105b(_0x564d1d(0x1b6),_0x1b325c+'\x20'+_0x1455e9,_0x207608,_0x16c9d3,0x8);if(_0x380aed!=0x1){if(_0xfc4f68==0x1){_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;const _0xd3c37a='1001\x20Operación\x20Sujeta\x20a\x20Detracción',_0x71e4ac=_0x1b2b1b[_0x564d1d(0x5d9)](_0xd3c37a,0x8),_0x33a42a=(_0x278133-_0x71e4ac)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0xd3c37a,{'x':_0x33a42a,'y':_0x207608,'size':0x8,'font':_0x16c9d3}),_0x207608-=_0x258780+0x5,_0x207608=_0x2bca70(_0x564d1d(0x468)+_0x336360+'\x20'+_0x27e9d8,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661)),_0x207608-=0x5,_0x207608=_0x49105b(_0x564d1d(0x59f)+_0x5d396d+'%)',_0x1b325c+'\x20'+_0x48fe16,_0x207608,_0x1b2b1b,0x7);}_0xce81e5==0x1&&(_0x207608=_0x49105b(_0x564d1d(0x62e)+_0xbc068d+'%)',_0x1b325c+'\x20'+_0x65f3cd,_0x207608,_0x1b2b1b,0x7));_0x3d7bba==0x1&&(_0x207608=_0x49105b(_0x564d1d(0x578)+_0x233f9f+'%)',_0x1b325c+'\x20'+_0x5b4dba,_0x207608,_0x1b2b1b,0x7));if(_0x20a1f2&&_0x20a1f2['status']==!![]||_0x1465ff&&_0x1465ff[_0x564d1d(0x332)]==!![]){_0x207608-=_0x258780,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608+_0x258780),_0x207608=_0x2bca70(_0x564d1d(0x213),_0x207608,_0x1b2b1b,0x7),_0x207608-=0x5;for(let _0x6caf74 in _0x20a1f2[_0x564d1d(0x387)]){const _0x2ec265=_0x20a1f2[_0x564d1d(0x387)][_0x6caf74];if(_0x2ec265&&typeof _0x2ec265==_0x564d1d(0x2dc)&&_0x564d1d(0x67f)in _0x2ec265){const _0x3e86bd=parseFloat(_0x2ec265[_0x564d1d(0x4b5)]);if(_0x3e86bd>0x0){_0x207608=_0x49105b(_0x6caf74[_0x564d1d(0x66a)](),_0x1b325c+'\x20'+_0x3e86bd[_0x564d1d(0x353)](0x2),_0x207608,_0x1b2b1b,0x7);if(_0x564d1d(0x554)in _0x2ec265&&_0x564d1d(0x3d9)in _0x2ec265){const _0x4c4760=_0x2ec265[_0x564d1d(0x554)],_0x4672bf=parseFloat(_0x2ec265[_0x564d1d(0x3d9)]);_0x4c4760!==undefined&&_0x4672bf!==undefined&&(_0x207608=_0x49105b(_0x564d1d(0x63e)+_0x4c4760+'%)',_0x1b325c+'\x20'+_0x4672bf[_0x564d1d(0x353)](0x2),_0x207608,_0x1b2b1b,0x7));}if(_0x2ec265[_0x564d1d(0x712)]&&_0x2ec265['banco']!='0'){const _0x415183=myCompany['setBankAccounts']['find'](_0x8016ff=>_0x8016ff[_0x564d1d(0x546)]==_0x2ec265['banco']);_0x415183&&(_0x207608=_0x49105b(_0x564d1d(0x295)+_0x415183[_0x564d1d(0x344)],'',_0x207608,_0x1b2b1b,0x7));}_0x2ec265['nro_operacion']&&(_0x207608=_0x49105b(_0x564d1d(0x5f0)+_0x2ec265[_0x564d1d(0x2ef)],'',_0x207608,_0x1b2b1b,0x7));}}}const _0x3831a9=_0x20a1f2[_0x564d1d(0x387)][_0x564d1d(0x636)];parseFloat(_0x3831a9)>0x0&&(_0x207608=_0x49105b('Vuelto:',_0x1b325c+'\x20'+_0x3831a9,_0x207608,_0x1b2b1b,0x7));}if(_0x598a1b&&_0x598a1b[_0x564d1d(0x332)]==!![]||_0x1465ff&&_0x1465ff[_0x564d1d(0x332)]==!![]){if(Array[_0x564d1d(0x719)](_0x598a1b[_0x564d1d(0x387)])&&_0x598a1b['data'][_0x564d1d(0x527)]>0x0){_0x207608-=_0x258780,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608+_0x258780),_0x207608=_0x2bca70('Forma\x20de\x20Pago:\x20Crédito',_0x207608,_0x1b2b1b,0x7),_0x207608-=0x5;let _0x276c5e;_0x598a1b[_0x564d1d(0x332)]==!![]?_0x276c5e=parseFloat(_0x1455e9):_0x276c5e=_0x20a1f2['data'][_0x564d1d(0x3bb)],_0x207608=_0x49105b(_0x564d1d(0x380),_0x1b325c+'\x20'+_0x276c5e,_0x207608,_0x1b2b1b,0x7),_0x207608=_0x49105b(_0x564d1d(0x4da),_0x598a1b[_0x564d1d(0x387)]['length']+_0x564d1d(0x1b3),_0x207608,_0x1b2b1b,0x7),_0x207608=_0x2bca70(_0x564d1d(0x20b),_0x207608,_0x1b2b1b,0x7),_0x207608-=0x5,_0x598a1b[_0x564d1d(0x387)][_0x564d1d(0x492)](_0x257147=>{const _0x368a79=_0x564d1d;_0x207608=_0x49105b(_0x368a79(0x354)+_0x257147[_0x368a79(0x585)],_0x257147['fechaVencimiento']+_0x368a79(0x281)+parseFloat(_0x257147['monto'])[_0x368a79(0x353)](0x2),_0x207608,_0x1b2b1b,0x7);});}}}_0x207608-=_0x258780,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608+_0x258780),_0x207608-=0x5;_0x1b96c9&&(_0x207608=_0x2bca70(_0x1b96c9,_0x207608,_0x16c9d3,0x8,_0x564d1d(0x661)));if(_0x380aed!=0x1){const _0x1e20d8=_0x564d1d(0x20a);if(setObservacion){_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;const _0x19884c=_0x1b2b1b[_0x564d1d(0x5d9)](_0x1e20d8,0x8),_0x2e03b0=(_0x278133-_0x19884c)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x1e20d8,{'x':_0x2e03b0,'y':_0x207608,'size':0x8,'font':_0x16c9d3}),_0x207608-=_0x258780,_0x207608=_0x2bca70(setObservacion,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661));}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;const _0x79511=_0x564d1d(0x51d),_0xce8e7f=_0x1b2b1b[_0x564d1d(0x5d9)](_0x79511,0x7),_0x498f81=(_0x278133-_0xce8e7f)/0x2;_0x3fdd77['drawText'](_0x79511,{'x':_0x498f81,'y':_0x207608,'size':0x7,'font':_0x1b2b1b}),_0x207608-=0x9;const _0x33a086='RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x143e1e=_0x1b2b1b[_0x564d1d(0x5d9)](_0x33a086,0x7),_0x328cf3=(_0x278133-_0x143e1e)/0x2;_0x3fdd77['drawText'](_0x33a086,{'x':_0x328cf3,'y':_0x207608,'size':0x7,'font':_0x1b2b1b}),_0x207608-=0x9;const _0x372b45=_0x564d1d(0x653),_0x354cc4=_0x1b2b1b[_0x564d1d(0x5d9)](_0x372b45,0x7),_0x5b6238=(_0x278133-_0x354cc4)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x372b45,{'x':_0x5b6238,'y':_0x207608,'size':0x7,'font':_0x1b2b1b}),_0x207608-=0x9;const _0x390ed9=_0x564d1d(0x3b9),_0x2ff93b=_0x1b2b1b['widthOfTextAtSize'](_0x390ed9,0x7),_0x4b7c77=(_0x278133-_0x2ff93b)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x390ed9,{'x':_0x4b7c77,'y':_0x207608,'size':0x7,'font':_0x1b2b1b}),_0x207608-=0x9;const _0xa17ee9=_0x564d1d(0x3c0),_0x4ebcb4=_0x1b2b1b[_0x564d1d(0x5d9)](_0xa17ee9,0x7),_0x4fc2a6=(_0x278133-_0x4ebcb4)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0xa17ee9,{'x':_0x4fc2a6,'y':_0x207608,'size':0x7,'font':_0x1b2b1b}),_0x207608-=0x9;const _0x3e9f00=setUrlConsultasCpe,_0x334c12=_0x1b2b1b[_0x564d1d(0x5d9)](_0x3e9f00,0x7),_0x392b73=(_0x278133-_0x334c12)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x3e9f00,{'x':_0x392b73,'y':_0x207608,'size':0x7,'font':_0x16c9d3}),_0x207608-=0x9;const _0x129a53=[setEmpresaRuc,setSerie,setCorrelativo,_0x43984a>0x0?_0x43984a:null,_0x24206d>0x0?_0x24206d:null,_0x1a7868>0x0?_0x1a7868:null,_0x5daa4b>0x0?_0x5daa4b:null,_0xd69022>0x0?_0xd69022:null,_0x1455e9>0x0?_0x1455e9:null,setClienteNumDoc],_0xe07206=_0x129a53[_0x564d1d(0x674)](_0x17c39d=>_0x17c39d!==null)[_0x564d1d(0x218)]('|'),_0x11e749=document[_0x564d1d(0x242)]('div'),_0x51080b=new QRCode(_0x11e749,{'text':_0xe07206,'width':0x80,'height':0x80,'colorDark':'#000000','colorLight':_0x564d1d(0x654),'correctLevel':QRCode['CorrectLevel']['H']});await new Promise(_0x5bdd8e=>setTimeout(_0x5bdd8e,0x1f4));const _0x5a5302=_0x11e749['querySelector'](_0x564d1d(0x532)),_0x4f128f=_0x5a5302['toDataURL']('image/png'),_0x2ce2c5=atob(_0x4f128f[_0x564d1d(0x3b0)](',')[0x1]),_0x54d69e=Uint8Array[_0x564d1d(0x486)](_0x2ce2c5,_0x4237fe=>_0x4237fe['charCodeAt'](0x0)),_0x55885d=await _0x25cdb1[_0x564d1d(0x44d)](_0x54d69e),_0x3b6006=_0x55885d[_0x564d1d(0x437)](0.6),_0x179e42=(_0x278133-_0x3b6006[_0x564d1d(0x50e)])/0x2,_0x32f2dd=_0x207608-_0x3b6006['height'];_0x3fdd77[_0x564d1d(0x71b)](_0x55885d,{'x':_0x179e42,'y':_0x32f2dd,'width':_0x3b6006[_0x564d1d(0x50e)],'height':_0x3b6006[_0x564d1d(0x6b9)]}),_0x207608=_0x32f2dd-_0x258780;}}_0x380aed==0x1&&(_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780,_0x207608=_0x50698(_0x564d1d(0x3ed),_0x564d1d(0x519),_0x207608,_0x1b2b1b,0x9,_0x483765),_0x207608=_0x50698(_0x564d1d(0x5ba),_0x564d1d(0x519),_0x207608,_0x1b2b1b,0x9,_0x483765),_0x207608=_0x50698('Dirección',_0x564d1d(0x519),_0x207608,_0x1b2b1b,0x9,_0x483765),_0x207608-=0x5),_0x380aed!=0x1&&(setTipOpeSales[_0x564d1d(0x6e8)](_0x39951a=>_0x39951a==setTipoOperacion)&&(_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780,_0x257aed!=_0x57ef21?(_0x207608=_0x2bca70(_0x59244d,_0x207608,_0x16c9d3,0x8,'center'),_0x207608=_0x2bca70(_0x95ab5f,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661)),_0x207608=_0x2bca70(_0xd67aee,_0x207608,_0x16c9d3,0x8,'center'),_0x207608=_0x2bca70(_0x1af856,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661))):(_0x207608=_0x2bca70(_0x520ed6,_0x207608,_0x16c9d3,0x8,_0x564d1d(0x661)),_0x207608=_0x2bca70(_0x1af856,_0x207608,_0x1b2b1b,0x8,_0x564d1d(0x661)))),setTipOpeQuotation[_0x564d1d(0x6e8)](_0xccdf7f=>_0xccdf7f==setTipoOperacion)&&(_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780,_0x207608=_0x2bca70(_0x59244d,_0x207608,_0x16c9d3,0x8,_0x564d1d(0x661)),_0x207608=_0x2bca70(_0x95ab5f,_0x207608,_0x1b2b1b,0x8,'center')),setFooter&&setTipOpeSales[_0x564d1d(0x6e8)](_0x16cd04=>_0x16cd04==setTipoOperacion)&&(_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780,_0x207608=_0x2bca70(setFooter,_0x207608,_0x16c9d3,0x8,_0x564d1d(0x661))));}else{if(setTipOpeOrders['some'](_0x25e8c7=>_0x25e8c7==setTipoOperacion)){if(setLogoUrl){const _0x118a4a=setLogoUrl[_0x564d1d(0x3b0)](',')[0x1],_0x5ef443=Uint8Array[_0x564d1d(0x486)](atob(_0x118a4a),_0x1f5542=>_0x1f5542[_0x564d1d(0x39f)](0x0));let _0x4a280d;try{_0x4a280d=await _0x25cdb1['embedPng'](_0x5ef443);}catch(_0x34f8d3){try{_0x4a280d=await _0x25cdb1[_0x564d1d(0x38e)](_0x5ef443);}catch(_0x5468a3){throw new Error(_0x564d1d(0x376));}}const _0x3c3dda=_0x278133*0.5,_0x27acd6=_0x4a280d[_0x564d1d(0x50e)],_0x15eaab=_0x3c3dda/_0x27acd6,_0x35206f=_0x4a280d[_0x564d1d(0x437)](_0x15eaab),_0x5d9a29=(_0x278133-_0x35206f[_0x564d1d(0x50e)])/0x2,_0x5b4908=_0x207608-_0x35206f['height'];_0x3fdd77[_0x564d1d(0x71b)](_0x4a280d,{'x':_0x5d9a29,'y':_0x5b4908,'width':_0x35206f[_0x564d1d(0x50e)],'height':_0x35206f[_0x564d1d(0x6b9)]}),_0x207608=_0x5b4908;}_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;const _0x4e285d=_0x1b2b1b['widthOfTextAtSize'](_0x31d16c[_0x564d1d(0x66a)]()+_0x564d1d(0x534)+setSerie['toUpperCase'](),0xb),_0xa3304b=(_0x278133-_0x4e285d)/0x2;_0x3fdd77['drawText'](_0x31d16c['toUpperCase']()+'\x20-\x20'+setSerie['toUpperCase'](),{'x':_0xa3304b,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=_0x258780;const _0x3b6dfb=_0x1b2b1b[_0x564d1d(0x5d9)]('Nº\x20'+setCorrelativo,0xb),_0x1c6e15=(_0x278133-_0x3b6dfb)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x564d1d(0x370)+setCorrelativo,{'x':_0x1c6e15,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=0x9,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5+_0x258780;const _0x42d847=_0x1b2b1b[_0x564d1d(0x5d9)](_0x3f691e+'\x20-\x20'+_0x2c2f68,0xb),_0xe39fef=(_0x278133-_0x42d847)/0x2;_0x3fdd77['drawText'](_0x3f691e+'\x20-\x20'+_0x2c2f68,{'x':_0xe39fef,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=_0x258780;const _0x2b2562=_0x1b2b1b[_0x564d1d(0x5d9)](_0x564d1d(0x2f0)+_0x95ab5f,0xb),_0x154729=(_0x278133-_0x2b2562)/0x2;_0x3fdd77['drawText'](_0x564d1d(0x2f0)+_0x95ab5f,{'x':_0x154729,'y':_0x207608,'size':0xb,'font':_0x16c9d3}),_0x207608-=0x9,_0x163916(_0x537bdc,_0x4bab11-_0x537bdc,_0x207608),_0x207608-=0x5,_0x207608=_0x32d9c9(_0x3fdd77,'CANT',_0x564d1d(0x4a4),_0x207608,_0x1b2b1b,0x9,_0x278133,_0x537bdc),_0x207608-=0x5,_0x163916(_0x537bdc,_0x278133-_0x537bdc,_0x207608),_0x207608-=0x5,setProductos['forEach']((_0xd546ad,_0x311f2d)=>{const _0x35872d=_0x564d1d;let {setDescripcion:_0x11669a,setCantidad:_0x14ba63,setMtoPrecioUnitario:_0x21cce1,setTotal:_0x2b35aa,setDescuento:_0x310865,setMtoPrecioUnitario_final:_0x34be6b,setUnidad:_0x2b2945,setTipAfeIgv:_0x19cc20,setNotas:_0x473ef8}=_0xd546ad,_0x3b23dd=products[_0x35872d(0x2d3)](_0x36c241=>_0x36c241['id']==_0xd546ad[_0x35872d(0x35a)]);_0x58d74e==0x1&&_0x3b23dd&&_0x3b23dd[_0x35872d(0x4b3)]&&(_0x11669a+='\x20|\x20'+_0x3b23dd[_0x35872d(0x4b3)]);_0x4ec013==0x1&&_0x3b23dd&&_0x3b23dd[_0x35872d(0x403)]&&(_0x11669a+=_0x35872d(0x580)+_0x3b23dd[_0x35872d(0x403)]);_0x14ba63+='\x20('+_0x2b2945+')';const _0x1c87d3=0x2;_0x207608-=_0x1c87d3,_0x207608=_0x32d9c9(_0x3fdd77,_0x14ba63,_0x11669a,_0x207608,_0x16c9d3,0xb,_0x278133,_0x537bdc);if(_0x473ef8){const _0x2b597a=0x9,_0x370268=_0x278133-0x2*_0x537bdc,_0x1759ff=_0x370268*0.4,_0x2a6d90=_0x370268*0.6,_0x4c9fc4=_0x537bdc+_0x1759ff+0x5,_0x1195b0=_0x2b597a*1.2,_0x5d7d1c=_0x473ef8,_0x21b8cb=_0x5d7d1c[_0x35872d(0x3b0)](/\r?\n/);let _0x47ef8a=[];_0x21b8cb[_0x35872d(0x492)](_0x2ca4a7=>{const _0x373db9=_0x35872d,_0xd4b85f=_0x503592('**\x20'+_0x2ca4a7,_0x2a6d90-0x5,_0x1b2b1b,_0x2b597a);_0x47ef8a=_0x47ef8a[_0x373db9(0x2fc)](_0xd4b85f);}),_0x47ef8a['forEach']((_0x592162,_0x647c05)=>{const _0xae59e7=_0x35872d,_0x2c3ee1=_0x207608-(_0x647c05+0x1)*_0x1195b0;_0x3fdd77[_0xae59e7(0x3e2)](_0x592162,{'x':_0x4c9fc4,'y':_0x2c3ee1,'size':_0x2b597a,'font':_0x1b2b1b});}),_0x207608-=_0x47ef8a[_0x35872d(0x527)]*_0x1195b0;}_0x207608-=_0x258780,_0x163916(_0x537bdc,_0x278133-_0x537bdc,_0x207608),_0x207608-=0x5;}),_0x207608-=_0x258780;const _0x5a9681=(_0x278133-_0x537bdc*0x2)*0.6;_0x16e29f&&(_0x207608=_0x50698(_0x564d1d(0x257),_0x16e29f,_0x207608,_0x16c9d3,0xb,_0x5a9681)),_0x4b4c0d&&(_0x207608=_0x50698(_0x564d1d(0x305),_0x4b4c0d,_0x207608,_0x16c9d3,0xb,_0x5a9681)),setClienteDenominacion&&(_0x207608=_0x50698(_0x2a3938,setClienteDenominacion[_0x564d1d(0x214)]()['replace'](/(^|\s)\S/g,_0xfe0c7f=>_0xfe0c7f[_0x564d1d(0x66a)]()),_0x207608,_0x16c9d3,0xb,_0x5a9681));}}}else{if(_0x20f283=='a4'){const _0x511e88=(_0x3f9648,_0x1c5ac9,_0x57a487)=>{const _0xa8d8b3=_0x564d1d;if(!_0x3f9648)return console[_0xa8d8b3(0x708)](_0xa8d8b3(0x47f)),0x0;return _0x3f9648[_0xa8d8b3(0x5d9)](_0x1c5ac9,_0x57a487);},_0x2215a8=(_0x4e83fe,_0x19e65a,_0x3f8f56,_0x34487e,_0x42f14c,_0x57e7bc,_0x5524f4,_0x17d0e7,_0x8f918e=_0x2b41cb)=>{const _0x3277ff=_0x564d1d;if(!_0x57e7bc)return console[_0x3277ff(0x708)]('La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText'),_0x3f8f56;const _0x2582ab=_0x4e83fe['split']('\x20');let _0x17c98a='',_0x3edafa=_0x3f8f56;for(let _0x411ad6=0x0;_0x411ad6<_0x2582ab[_0x3277ff(0x527)];_0x411ad6++){const _0x70778a=_0x17c98a+(_0x17c98a?'\x20':'')+_0x2582ab[_0x411ad6],_0x3020c5=_0x57e7bc[_0x3277ff(0x5d9)](_0x70778a,_0x5524f4);_0x3020c5>_0x34487e?(_0x3fdd77[_0x3277ff(0x3e2)](_0x17c98a,{'x':_0x19e65a,'y':_0x3edafa,'size':_0x5524f4,'font':_0x57e7bc,'color':_0x8f918e}),_0x3edafa-=_0x17d0e7,_0x17c98a=_0x2582ab[_0x411ad6]):_0x17c98a=_0x70778a;}return _0x17c98a&&(_0x3fdd77['drawText'](_0x17c98a,{'x':_0x19e65a,'y':_0x3edafa,'size':_0x5524f4,'font':_0x57e7bc,'color':_0x8f918e}),_0x3edafa-=_0x17d0e7),_0x3edafa;},_0x31431c=(_0x5710f3,_0x134a4b,_0x4a584f,_0xffb8d7,_0xaf800e,_0x2ea17b,_0x2c5465=0x9,_0x50356b=0x3)=>{const _0x9ced99=_0x564d1d,_0x20c53d=_0x2ea17b/0x2;_0x3fdd77[_0x9ced99(0x4af)]({'x':_0x4a584f,'y':_0xffb8d7+_0x20c53d,'width':_0xaf800e-_0x50356b,'height':_0x20c53d,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x1ddc30=_0x511e88(_0x1b2b1b,_0x5710f3,_0x2c5465),_0x5a1e02=_0x4a584f+(_0xaf800e-_0x50356b-_0x1ddc30)/0x2,_0x5d9869=_0xffb8d7+_0x20c53d+(_0x20c53d-_0x2c5465)/0x2;_0x3fdd77[_0x9ced99(0x3e2)](_0x5710f3,{'x':_0x5a1e02,'y':_0x5d9869,'size':_0x2c5465,'font':_0x1b2b1b,'color':_0xd4964a}),_0x3fdd77['drawRectangle']({'x':_0x4a584f,'y':_0xffb8d7,'width':_0xaf800e-_0x50356b,'height':_0x20c53d,'color':_0xd4964a,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x2b808b=_0x511e88(_0x1b2b1b,_0x134a4b,_0x2c5465),_0x405147=_0x4a584f+(_0xaf800e-_0x50356b-_0x2b808b)/0x2,_0xb4a52e=_0xffb8d7+(_0x20c53d-_0x2c5465)/0x2;_0x3fdd77[_0x9ced99(0x3e2)](_0x134a4b,{'x':_0x405147,'y':_0xb4a52e,'size':_0x2c5465,'font':_0x1b2b1b,'color':_0x2b41cb});},_0x55eb09=(_0x7140f,_0xd26fa1,_0x4e4e34,_0x492ef9,_0x58758e,_0x1406d9,_0x3d0647=0x9)=>{const _0x12676d=_0x564d1d,_0x1af7e9=_0x1406d9/0x2;_0x3fdd77[_0x12676d(0x4af)]({'x':_0x4e4e34,'y':_0x492ef9+_0x1af7e9,'width':_0x58758e,'height':_0x1af7e9,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x4e3c92=_0x511e88(_0x1b2b1b,_0x7140f,_0x3d0647),_0x31bc81=_0x4e4e34+(_0x58758e-_0x4e3c92)/0x2,_0x2498ea=_0x492ef9+_0x1af7e9+(_0x1af7e9-_0x3d0647)/0x2;_0x3fdd77[_0x12676d(0x3e2)](_0x7140f,{'x':_0x31bc81,'y':_0x2498ea,'size':_0x3d0647,'font':_0x1b2b1b,'color':_0xd4964a}),_0x3fdd77[_0x12676d(0x4af)]({'x':_0x4e4e34,'y':_0x492ef9,'width':_0x58758e,'height':_0x1af7e9,'color':_0xd4964a,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x4307b0=_0x511e88(_0x16c9d3,_0xd26fa1,_0x3d0647),_0x48b481=_0x4e4e34+(_0x58758e-_0x4307b0)/0x2,_0x4c8eba=_0x492ef9+(_0x1af7e9-_0x3d0647)/0x2;_0x3fdd77['drawText'](_0xd26fa1,{'x':_0x48b481,'y':_0x4c8eba,'size':_0x3d0647,'font':_0x16c9d3,'color':_0x2b41cb});},_0x2aa5a7=(_0x42af87,_0x1a9eb9,_0x36baa9,_0x585f7e,_0x3f14f5,_0x58ab11,_0x209096,_0x559f99,_0x4e6124=![],_0x40e8b8=_0x564d1d(0x272))=>{const _0x23d6b0=_0x564d1d,_0x47e4f5=_0x58ab11-_0x209096*0x2,_0x2363b7=_0x47e4f5*0.1,_0x3530e2=_0x47e4f5*0.1,_0x518f63=_0x47e4f5*0.15,_0x1dca04=_0x47e4f5*0.35,_0x540118=_0x47e4f5*0.15,_0x21c9d8=_0x47e4f5*0.15,_0x5098d9=_0x209096,_0x41bc2f=_0x5098d9+_0x2363b7,_0x2c36a7=_0x41bc2f+_0x3530e2,_0xd65156=_0x2c36a7+_0x518f63,_0x27b197=_0xd65156+_0x1dca04,_0x5b1e31=_0x27b197+_0x540118;if(_0x4e6124){_0x3fdd77['drawRectangle']({'x':_0x209096,'y':_0x36baa9,'width':_0x47e4f5,'height':_0x559f99,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x58f28f=(_0x559f99-_0x3f14f5)/0x2,[_0x3f40a3,_0x3b6893,_0x17c3c2,_0x2be5d5,_0x4b233a,_0x426290]=_0x42af87;return _0x3fdd77['drawText'](String(_0x3f40a3),{'x':_0x10cf10(_0x3f40a3,_0x585f7e,_0x3f14f5,_0x5098d9,_0x2363b7),'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x3b6893),{'x':_0x10cf10(_0x3b6893,_0x585f7e,_0x3f14f5,_0x41bc2f,_0x3530e2),'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x17c3c2),{'x':_0x10cf10(_0x17c3c2,_0x585f7e,_0x3f14f5,_0x2c36a7,_0x518f63),'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x2be5d5),{'x':_0xd65156+0x2,'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x4b233a),{'x':_0x10cf10(_0x4b233a,_0x585f7e,_0x3f14f5,_0x27b197,_0x540118),'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x426290),{'x':_0x4fc21b(_0x426290,_0x585f7e,_0x3f14f5,_0x5b1e31,_0x21c9d8)-0xa,'y':_0x36baa9+_0x58f28f,'size':_0x3f14f5,'font':_0x585f7e,'color':_0xd4964a}),_0x36baa9-_0x559f99;}else{const [_0x37aa83,_0x1cb5dd,_0x297acf,_0x89ea1b,_0xbe01d3,_0x18240d]=_0x1a9eb9;if(_0x40e8b8==_0x23d6b0(0x18a)&&_0x1a9eb9[0x4][_0x23d6b0(0x428)]()=='Total\x20('+_0x1b325c+')')_0x3fdd77['drawText'](_0x1b96c9,{'x':_0x5098d9+0xa,'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e});else{_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x37aa83),{'x':_0x10cf10(_0x37aa83,_0x585f7e,_0x3f14f5,_0x5098d9,_0x2363b7),'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e}),_0x3fdd77[_0x23d6b0(0x3e2)](String(_0x1cb5dd),{'x':_0x10cf10(_0x1cb5dd,_0x585f7e,_0x3f14f5,_0x41bc2f,_0x3530e2),'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e}),_0x3fdd77['drawText'](String(_0x297acf),{'x':_0x10cf10(_0x297acf,_0x585f7e,_0x3f14f5,_0x2c36a7,_0x518f63),'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e});var _0xe35e22=_0x89ea1b?_0x116ee9(_0x89ea1b,_0xd65156+0x2,_0x36baa9,_0x1dca04-0x4,_0x585f7e,_0x3f14f5,_0x559f99):_0x36baa9;}return _0x40e8b8==_0x23d6b0(0x18a)?_0x3fdd77[_0x23d6b0(0x3e2)](String(_0xbe01d3),{'x':_0x4fc21b(_0xbe01d3,_0x585f7e,_0x3f14f5,_0x27b197,_0x540118)-0x8,'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e}):_0x3fdd77[_0x23d6b0(0x3e2)](String(_0xbe01d3),{'x':_0x10cf10(_0xbe01d3,_0x585f7e,_0x3f14f5,_0x27b197,_0x540118)-0x2,'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e}),_0x3fdd77['drawText'](String(_0x18240d),{'x':_0x4fc21b(_0x18240d,_0x585f7e,_0x3f14f5,_0x5b1e31,_0x21c9d8)-0xa,'y':_0x36baa9,'size':_0x3f14f5,'font':_0x585f7e}),_0x40e8b8==_0x23d6b0(0x18a)&&_0x1a9eb9[0x4][_0x23d6b0(0x428)]()==_0x23d6b0(0x61f)+_0x1b325c+')'?_0x36baa9-_0x559f99:Math[_0x23d6b0(0x2e5)](_0xe35e22!==undefined?_0xe35e22:_0x36baa9,_0x36baa9-_0x559f99);}};function _0x10cf10(_0x1a5a05,_0x5038a3,_0x789a20,_0x39ab7a,_0x7e731c){const _0x29d47f=_0x564d1d,_0x2dcb8d=_0x5038a3[_0x29d47f(0x5d9)](String(_0x1a5a05),_0x789a20);return _0x39ab7a+(_0x7e731c-_0x2dcb8d)/0x2;}function _0x4fc21b(_0x55c4cf,_0x22d5da,_0x3658c5,_0x867c4a,_0x4a622e){const _0x5252ef=_0x564d1d,_0x240a5d=_0x22d5da[_0x5252ef(0x5d9)](String(_0x55c4cf),_0x3658c5);return _0x867c4a+(_0x4a622e-_0x240a5d);}function _0x116ee9(_0x32d525,_0x968d6c,_0x2b6a12,_0x19766e,_0xcff6a6,_0x52988b,_0xba58a7){const _0x4b1608=_0x564d1d,_0x2a712b=_0x32d525[_0x4b1608(0x3b0)]('\x20');let _0x1ff908='',_0x11a88f=_0x2b6a12;for(let _0x41dd11=0x0;_0x41dd11<_0x2a712b[_0x4b1608(0x527)];_0x41dd11++){const _0x57c327=_0x1ff908+(_0x1ff908?'\x20':'')+_0x2a712b[_0x41dd11];_0xcff6a6[_0x4b1608(0x5d9)](_0x57c327,_0x52988b)>_0x19766e?(_0x3fdd77[_0x4b1608(0x3e2)](_0x1ff908,{'x':_0x968d6c,'y':_0x11a88f,'size':_0x52988b,'font':_0xcff6a6}),_0x11a88f-=_0xba58a7,_0x1ff908=_0x2a712b[_0x41dd11]):_0x1ff908=_0x57c327;}return _0x1ff908&&(_0x3fdd77[_0x4b1608(0x3e2)](_0x1ff908,{'x':_0x968d6c,'y':_0x11a88f,'size':_0x52988b,'font':_0xcff6a6}),_0x11a88f-=_0xba58a7),_0x11a88f;}let _0xf1fd03=0x3c,_0x51d814=(_0x278133-_0x537bdc*0x2)*0.25,_0x54c820=(_0x278133-_0x537bdc*0x2)*0.5,_0x4bad16=(_0x278133-_0x537bdc*0x2)*0.25,_0x44e57a=_0x537bdc,_0x1d1a64=_0x537bdc+_0x51d814,_0x375136=_0x537bdc+_0x51d814+_0x54c820,_0x3d1fc0=_0x207608-_0xf1fd03;if(setLogoUrl)try{const _0x4e07e5=setLogoUrl[_0x564d1d(0x3b0)](',')[0x1],_0x3eed46=Uint8Array['from'](atob(_0x4e07e5),_0x67b245=>_0x67b245['charCodeAt'](0x0));let _0x588faa;try{_0x588faa=await _0x25cdb1['embedPng'](_0x3eed46);}catch(_0x729cba){try{_0x588faa=await _0x25cdb1[_0x564d1d(0x38e)](_0x3eed46);}catch(_0x3372e9){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x401063=_0x51d814*0.8,_0x3e2788=_0x588faa[_0x564d1d(0x50e)],_0x466fc4=_0x401063/_0x3e2788,_0x591527=_0x588faa['scale'](_0x466fc4),_0x45ff26=_0x44e57a+(_0x51d814-_0x591527[_0x564d1d(0x50e)])/0x2,_0x792e6d=_0x3d1fc0+(_0xf1fd03-_0x591527['height'])/0x2;_0x3fdd77[_0x564d1d(0x71b)](_0x588faa,{'x':_0x45ff26,'y':_0x792e6d,'width':_0x591527[_0x564d1d(0x50e)],'height':_0x591527[_0x564d1d(0x6b9)]});}catch(_0x3ee9c9){console[_0x564d1d(0x189)]('Error\x20al\x20cargar\x20logo:',_0x3ee9c9);}let _0x30db9e=_0x207608-0xa;const _0x2ec021=0xc;setEmpresaNombre&&(_0x30db9e=_0x2215a8(setEmpresaNombre,_0x1d1a64,_0x30db9e,_0x54c820,_0xf1fd03,_0x16c9d3,0x9,_0x2ec021));_0x263f04&&(_0x30db9e=_0x2215a8(_0x263f04,_0x1d1a64,_0x30db9e,_0x54c820,_0xf1fd03,_0x1b2b1b,0x8,_0x2ec021));setEmpresaEmail&&(_0x30db9e=_0x2215a8(setEmpresaEmail,_0x1d1a64,_0x30db9e,_0x54c820,_0xf1fd03,_0x1b2b1b,0x8,_0x2ec021));setEmpresaTelefono&&(_0x30db9e=_0x2215a8(setEmpresaTelefono,_0x1d1a64,_0x30db9e,_0x54c820,_0xf1fd03,_0x1b2b1b,0x8,_0x2ec021));setEmpresaSitioWeb&&(_0x30db9e=_0x2215a8(setEmpresaSitioWeb,_0x1d1a64,_0x30db9e,_0x54c820,_0xf1fd03,_0x1b2b1b,0x8,_0x2ec021));const _0x13164d=0x5;col3TopHeight=_0xf1fd03*0.5,col3BottomHeight=_0xf1fd03*0.5;const _0x4d8196=_0x3d1fc0+col3TopHeight+_0x13164d;_0x55eb09(_0x31d16c?_0x31d16c[_0x564d1d(0x66a)]():'',setEmpresaRuc||'',_0x375136,_0x4d8196,_0x4bad16,col3BottomHeight,0x9);const _0x45fb97=_0x4bad16*0.5,_0x27e263=col3TopHeight;_0x31431c(_0x564d1d(0x413),setSerie?setSerie[_0x564d1d(0x66a)]():'',_0x375136,_0x3d1fc0,_0x45fb97,_0x27e263,0x9,0x5),_0x31431c('Nº',setCorrelativo?String(setCorrelativo):'',_0x375136+_0x45fb97,_0x3d1fc0,_0x45fb97,_0x27e263,0x9,0x0),_0x207608=_0x3d1fc0;const _0x397378=0x14;_0x207608-=_0x397378;let _0x328246=0x64,_0x341e0b=_0x207608-_0x328246,_0x4eaec7=(_0x278133-_0x537bdc*0x2)*0.75,_0x29b9ed=(_0x278133-_0x537bdc*0x2)*0.25,_0xabd260=_0x537bdc,_0x42d3f1=_0x537bdc+_0x4eaec7;const _0x3e8e71=0xe,_0x3e957d=_0x4eaec7*0.2;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0xabd260,'y':_0x341e0b+(_0x328246-_0x3e8e71),'width':_0x3e957d,'height':_0x3e8e71,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x27faa1=_0x564d1d(0x1c8),_0x1a31f1=0x9,_0x47c8ab=_0x511e88(_0x1b2b1b,_0x27faa1,_0x1a31f1),_0x4e4922=_0xabd260+(_0x3e957d-_0x47c8ab)/0x2,_0x1f94a5=_0x341e0b+_0x328246-_0x3e8e71+(_0x3e8e71-_0x1a31f1)/0x2;_0x3fdd77[_0x564d1d(0x3e2)](_0x27faa1,{'x':_0x4e4922,'y':_0x1f94a5,'size':_0x1a31f1,'font':_0x1b2b1b,'color':_0xd4964a});const _0x39ed2e=_0x328246-_0x3e8e71;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0xabd260,'y':_0x341e0b,'width':_0x4eaec7-0x5,'height':_0x39ed2e,'color':_0xd4964a,'borderColor':_0x3abe9,'borderWidth':0x1});let _0x45b2d5=_0x341e0b+_0x39ed2e-0xa;const _0xfc1c88=0xc,_0xf7955f=_0x4eaec7-0x5-0xa,_0x5a2b68=_0xf7955f*0.17,_0x57494b=_0xf7955f*0.02,_0x31bf03=_0xf7955f*0.81;function _0x7cdc48(_0x2f291f,_0x2082d7,_0x48e5eb,_0x2bcae2,_0x29a336,_0x239910,_0x2835e7){const _0x1b3377=_0x564d1d,_0xe07d8f=_0x2f291f[_0x1b3377(0x3b0)]('\x20');let _0x49142e='',_0x431e01=_0x48e5eb;for(let _0x162c73=0x0;_0x162c73<_0xe07d8f[_0x1b3377(0x527)];_0x162c73++){const _0x2332ea=_0x49142e+(_0x49142e?'\x20':'')+_0xe07d8f[_0x162c73];_0x29a336[_0x1b3377(0x5d9)](_0x2332ea,_0x239910)>_0x2bcae2?(_0x3fdd77[_0x1b3377(0x3e2)](_0x49142e,{'x':_0x2082d7,'y':_0x431e01,'size':_0x239910,'font':_0x29a336,'color':_0x2835e7}),_0x431e01-=_0xfc1c88,_0x49142e=_0xe07d8f[_0x162c73]):_0x49142e=_0x2332ea;}return _0x49142e&&(_0x3fdd77['drawText'](_0x49142e,{'x':_0x2082d7,'y':_0x431e01,'size':_0x239910,'font':_0x29a336,'color':_0x2835e7}),_0x431e01-=_0xfc1c88),_0x431e01;}function _0x3288af(_0x2dd777,_0x78da2a){const _0x34f3d3=_0x564d1d;_0x3fdd77[_0x34f3d3(0x3e2)](String(_0x2dd777),{'x':_0xabd260+0x5,'y':_0x45b2d5,'size':0x8,'font':_0x16c9d3,'color':_0x2b41cb}),_0x3fdd77[_0x34f3d3(0x3e2)](':',{'x':_0xabd260+0x5+_0x5a2b68,'y':_0x45b2d5,'size':0x8,'font':_0x1b2b1b,'color':_0x2b41cb}),_0x45b2d5=_0x7cdc48(String(_0x78da2a),_0xabd260+0x5+_0x5a2b68+_0x57494b,_0x45b2d5,_0x31bf03,_0x1b2b1b,0x8,_0x2b41cb);}setClienteTipoDoc&&setClienteNumDoc&&_0x3288af(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x3288af(_0x2a3938,setClienteDenominacion);setClienteDireccion&&_0x3288af('Dirección',setClienteDireccion);_0x25e166&&_0x3288af('Teléfono',_0x25e166);_0x32a52f&&_0x3288af(_0x564d1d(0x482),_0x32a52f);_0x95ab5f&&_0x3288af('Vendedor',_0x95ab5f);let _0x18a6c5=col3TopHeight;const _0x39c21e=0x5,_0x494dfb=_0x341e0b+(_0x328246-_0x18a6c5);_0x55eb09(_0x564d1d(0x257),_0x16e29f||'',_0x42d3f1,_0x494dfb,_0x29b9ed,_0x18a6c5,0x9);const _0x2acbe3=_0x494dfb-_0x39c21e-_0x18a6c5;let _0x5c642e='';if(_0x20a1f2['status'])_0x5c642e=_0x564d1d(0x47d);if(_0x598a1b['status'])_0x5c642e=_0x564d1d(0x408);if(_0x1465ff['status'])_0x5c642e=_0x564d1d(0x3fc);_0x55eb09(_0x564d1d(0x4bc),''+_0x5c642e,_0x42d3f1,_0x2acbe3,_0x29b9ed,_0x18a6c5,0x9);const _0x3f3a7d=_0x2acbe3-_0x39c21e-_0x18a6c5;let _0x3938d6=_0x5c93d6||'';_0x55eb09('Moneda',''+_0x3938d6,_0x42d3f1,_0x3f3a7d,_0x29b9ed,_0x18a6c5,0x9),_0x207608=_0x341e0b,_0x207608-=0x14;const _0x20c63f=_0x207608,_0x1e7ac0=[_0x564d1d(0x4c8),_0x564d1d(0x17a),_0x564d1d(0x449),'DESCRIPCIÓN',_0x564d1d(0x44a),_0x564d1d(0x577)];_0x207608=_0x2aa5a7(_0x1e7ac0,[],_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xe,!![]);if(_0x44fd7c==0x1){const _0x40c96f=['1',_0x564d1d(0x2f7),'','Consumo',parseFloat(_0x1455e9)[_0x564d1d(0x353)](0x2),parseFloat(_0x1455e9)['toFixed'](0x2)];_0x207608=_0x2aa5a7([],_0x40c96f,_0x207608,_0x1b2b1b,0x8,_0x278133,_0x537bdc,0xc,![]),_0x207608-=0x5;}else setProductos[_0x564d1d(0x492)](_0x2f7027=>{const _0x2cf66b=_0x564d1d;let {setCodProducto:setCodProducto='',setDescripcion:_0x360fc6,setCantidad:_0x20d321,setMtoPrecioUnitario:_0xed4e00,setTotal:_0x111bdc,setDescuento:_0x11ed44,setMtoPrecioUnitario_final:_0x3f45e6,setUnidad:_0x11f10b,setTipAfeIgv:_0x477db3,setNotas:_0x56c6fb,setItemDescription:_0xb04c79,setMarca:_0x2d2dba}=_0x2f7027;_0x11ed44&&_0x11ed44[_0x2cf66b(0x260)]>0x0&&(_0x360fc6+='\x20('+_0x11ed44['setPorcentajeDesc']+_0x2cf66b(0x520)+_0x1b325c+parseFloat(_0x3f45e6)['toFixed'](0x2)+')');(setTipAfeImpGravadosGrat['some'](_0x2bdc12=>_0x2bdc12==_0x477db3)||setTipAfeImpInafectosGrat[_0x2cf66b(0x6e8)](_0x52c00d=>_0x52c00d==_0x477db3)||setTipAfeImpExoneradosGrat[_0x2cf66b(0x6e8)](_0x35afa1=>_0x35afa1==_0x477db3))&&(_0xed4e00=_0x3f45e6,setTipAfeImpGravadosGrat['some'](_0x5afddd=>_0x5afddd==_0x477db3)&&(_0x360fc6+=_0x2cf66b(0x5c7)),setTipAfeImpExoneradosGrat[_0x2cf66b(0x6e8)](_0xc1234b=>_0xc1234b==_0x477db3)&&(_0x360fc6+=_0x2cf66b(0x445)),setTipAfeImpInafectosGrat['some'](_0x4ca1bb=>_0x4ca1bb==_0x477db3)&&(_0x360fc6+='\x20(Inafecto\x20Gratuito)'));_0x56c6fb&&(_0x360fc6+=_0x2cf66b(0x411)+_0x56c6fb);_0x77dbd1==0x1&&_0xb04c79!=''&&(_0x360fc6+='\x20|\x20Descripción:\x20'+_0xb04c79);_0x3e3a0c==0x1&&_0x2d2dba!=''&&(_0x360fc6+=_0x2cf66b(0x5ee)+_0x2d2dba);let _0x7598af=products[_0x2cf66b(0x2d3)](_0x16063c=>_0x16063c['id']==_0x2f7027[_0x2cf66b(0x35a)]);_0x58d74e==0x1&&_0x7598af&&_0x7598af[_0x2cf66b(0x4b3)]&&(_0x360fc6+=_0x2cf66b(0x281)+_0x7598af[_0x2cf66b(0x4b3)]);_0x4ec013==0x1&&_0x7598af&&_0x7598af['setBatchExpirationDate']&&(_0x360fc6+='\x20|\x20F.V.\x20'+_0x7598af[_0x2cf66b(0x403)]);const _0x2174c4=[String(_0x20d321||'1'),String(_0x11f10b+'.'||''),String(setCodProducto),_0x360fc6,parseFloat(_0xed4e00)[_0x2cf66b(0x353)](0x2),parseFloat(_0x111bdc)[_0x2cf66b(0x353)](0x2)];_0x207608=_0x2aa5a7([],_0x2174c4,_0x207608,_0x1b2b1b,0x8,_0x278133,_0x537bdc,0xc,![]),_0x207608-=0x5;});_0x207608-=0xa;if(parseFloat(_0xba7236)>0x0){const _0x5088c1=['','','','',_0x564d1d(0x2da)+_0x1b325c+')',''+_0xba7236];_0x207608=_0x2aa5a7([],_0x5088c1,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(parseFloat(_0x5923b0)>0x0){const _0x1a79a5=['','','','',_0x564d1d(0x55b)+_0x1b325c+')',''+_0x5923b0];_0x207608=_0x2aa5a7([],_0x1a79a5,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x43984a)>0x0){const _0x355b8e=['','','','',_0x564d1d(0x5ce)+_0x1b325c+')',''+_0x43984a];_0x207608=_0x2aa5a7([],_0x355b8e,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],'totals'),_0x207608-=0x2;}if(parseFloat(_0x24206d)>0x0){const _0x2acdfa=['','','','','Op.\x20Exoneradas\x20('+_0x1b325c+')',''+_0x24206d];_0x207608=_0x2aa5a7([],_0x2acdfa,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],'totals'),_0x207608-=0x2;}if(parseFloat(_0x1a7868)>0x0){const _0x4c5fa7=['','','','',_0x564d1d(0x170)+_0x1b325c+')',''+_0x1a7868];_0x207608=_0x2aa5a7([],_0x4c5fa7,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(parseFloat(_0x5daa4b)>0x0){const _0x4f8bc3=['','','','','Op.\x20Gratuitas\x20('+_0x1b325c+')',''+_0x5daa4b];_0x207608=_0x2aa5a7([],_0x4f8bc3,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(parseFloat(_0x1b70ef)>0x0){const _0x2c66dc=['','','','','IGV\x20Gratuitas\x20('+_0x1b325c+')',''+_0x1b70ef];_0x207608=_0x2aa5a7([],_0x2c66dc,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}{const _0x22cdb4=['','','','',_0x564d1d(0x39c)+_0x1b325c+')',''+_0x4bcb34];_0x207608=_0x2aa5a7([],_0x22cdb4,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}{const _0x7be65c=['','','','',_0x564d1d(0x2f8)+_0x1b325c+')',''+_0xd69022];_0x207608=_0x2aa5a7([],_0x7be65c,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}}{const _0x59d6ef=['','','','',_0x564d1d(0x61f)+_0x1b325c+')',''+_0x1455e9];_0x207608=_0x2aa5a7([],_0x59d6ef,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(_0xfc4f68==0x1){const _0x2c4d7f=['','','','','Total\x20Detracción\x20('+_0x5d396d+_0x564d1d(0x2cf)+_0x1b325c+')',''+_0x48fe16];_0x207608=_0x2aa5a7([],_0x2c4d7f,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(_0xce81e5==0x1){const _0x38795b=['','','','',_0x564d1d(0x69f)+_0xbc068d+_0x564d1d(0x2cf)+_0x1b325c+')',''+_0x65f3cd];_0x207608=_0x2aa5a7([],_0x38795b,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],_0x564d1d(0x18a)),_0x207608-=0x2;}if(_0x3d7bba==0x1){const _0x16f527=['','','','','Total\x20Percepción\x20('+_0x233f9f+_0x564d1d(0x2cf)+_0x1b325c+')',''+_0x5b4dba];_0x207608=_0x2aa5a7([],_0x16f527,_0x207608,_0x16c9d3,0x8,_0x278133,_0x537bdc,0xc,![],'totals'),_0x207608-=0x2;}const _0x197469=_0x207608,_0x15bb41=_0x278133-_0x537bdc*0x2,_0x407fa7=_0x20c63f-_0x197469+0x3;_0x3fdd77[_0x564d1d(0x6f6)]({'start':{'x':_0x537bdc,'y':_0x197469-0x3},'end':{'x':_0x537bdc,'y':_0x197469-0x3+_0x407fa7},'thickness':0x1,'color':_0x415742}),_0x3fdd77['drawLine']({'start':{'x':_0x537bdc,'y':_0x197469-0x3},'end':{'x':_0x537bdc+_0x15bb41,'y':_0x197469-0x3},'thickness':0x1,'color':_0x415742}),_0x3fdd77['drawLine']({'start':{'x':_0x537bdc+_0x15bb41,'y':_0x197469-0x3},'end':{'x':_0x537bdc+_0x15bb41,'y':_0x197469-0x3+_0x407fa7},'thickness':0x1,'color':_0x415742}),_0x207608=_0x197469-0x3-0xa;const _0x5edf20=_0x537bdc+_0x15bb41*0.85;_0x3fdd77[_0x564d1d(0x6f6)]({'start':{'x':_0x5edf20,'y':_0x20c63f},'end':{'x':_0x5edf20,'y':_0x197469-0x3},'thickness':0x1,'color':_0x415742});const _0xe102ee=_0x278133-_0x537bdc*0x2,_0xe5cff6=0x5,_0x418c03=_0xe102ee-_0xe5cff6,_0x499e2c=_0x418c03*0.8,_0x438c72=_0x418c03*0.2,_0x5afd8b=_0x537bdc,_0xdafb5f=_0x5afd8b+_0x499e2c+_0xe5cff6,_0xcf0ed5=_0x207608,_0x4b9e14=0xe,_0x347517=0x5,_0x13dfbb=myCompany['setBankAccounts'],_0x34be95=Math[_0x564d1d(0x587)](_0x13dfbb[_0x564d1d(0x527)]/0x2),_0x5cd75e=0xe,_0x3b9e40=_0x34be95*_0x5cd75e,_0x4cb09d=_0x4b9e14+_0x3b9e40;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x5afd8b,'y':_0xcf0ed5-_0x4b9e14,'width':_0x499e2c,'height':_0x4b9e14,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x1baa07=_0x564d1d(0x446),_0x50fafa=(_0x4b9e14-0x8)/0x2;_0x3fdd77['drawText'](_0x1baa07,{'x':_0x5afd8b+_0x347517,'y':_0xcf0ed5-_0x4b9e14+_0x50fafa,'size':0x8,'font':_0x16c9d3,'color':_0xd4964a});const _0x36f1ed=(_0x304dc1,_0x2f95cd=0x10)=>{const _0x14b3fa=_0x564d1d;return _0x304dc1[_0x14b3fa(0x527)]>_0x2f95cd?_0x304dc1['substring'](0x0,_0x2f95cd)+_0x14b3fa(0x26c):_0x304dc1;},_0x23b961=_0x499e2c/0x4;for(let _0xa18c65=0x0;_0xa18c65<_0x34be95;_0xa18c65++){const _0x4fb29e=_0x13dfbb[0x2*_0xa18c65],_0x11ec91=_0x13dfbb[0x2*_0xa18c65+0x1],_0x3254f2=_0xcf0ed5-_0x4b9e14-_0xa18c65*_0x5cd75e,_0x5bd254=(_0x5cd75e-0x8)/0x2;if(_0x4fb29e){const _0x3010fa=_0x36f1ed(_0x4fb29e[_0x564d1d(0x344)][_0x564d1d(0x66a)]())+(_0x4fb29e[_0x564d1d(0x251)]==_0x564d1d(0x4ad)?_0x564d1d(0x415):'\x20('+_0x4fb29e[_0x564d1d(0x251)]+')'),_0x4864fe='N\x20'+_0x4fb29e[_0x564d1d(0x245)];_0x116ee9(_0x3010fa,_0x5afd8b+_0x347517,_0x3254f2-_0x5cd75e+_0x5bd254,_0x23b961-_0x347517,_0x1b2b1b,0x8,_0x5cd75e),_0x116ee9(_0x4864fe,_0x5afd8b+_0x23b961+0x2,_0x3254f2-_0x5cd75e+_0x5bd254,_0x23b961-0x2,_0x1b2b1b,0x8,_0x5cd75e);}if(_0x11ec91){const _0x2bc2dd=_0x36f1ed(_0x11ec91[_0x564d1d(0x344)]['toUpperCase']())+(_0x11ec91['setBankCurrency']==_0x564d1d(0x4ad)?'\x20(Soles)':'\x20('+_0x11ec91['setBankCurrency']+')'),_0x1100a2='N\x20'+_0x11ec91[_0x564d1d(0x245)];_0x116ee9(_0x2bc2dd,_0x5afd8b+_0x23b961*0x2+0x2,_0x3254f2-_0x5cd75e+_0x5bd254,_0x23b961-0x2,_0x1b2b1b,0x8,_0x5cd75e),_0x116ee9(_0x1100a2,_0x5afd8b+_0x23b961*0x3+0x2,_0x3254f2-_0x5cd75e+_0x5bd254,_0x23b961-0x2,_0x1b2b1b,0x7,_0x5cd75e);}}const _0x13dfc7=[setEmpresaRuc,setSerie,setCorrelativo,_0x43984a>0x0?_0x43984a:null,_0x24206d>0x0?_0x24206d:null,_0x1a7868>0x0?_0x1a7868:null,_0x5daa4b>0x0?_0x5daa4b:null,_0xd69022>0x0?_0xd69022:null,_0x1455e9>0x0?_0x1455e9:null,setClienteNumDoc],_0x487952=_0x13dfc7[_0x564d1d(0x674)](_0x3126f1=>_0x3126f1!==null)['join']('|'),_0x50ac3b=document['createElement'](_0x564d1d(0x3a9));new QRCode(_0x50ac3b,{'text':_0x487952,'width':0x80,'height':0x80,'colorDark':_0x564d1d(0x495),'colorLight':_0x564d1d(0x654),'correctLevel':QRCode[_0x564d1d(0x3c6)]['H']}),await new Promise(_0x3b7a52=>setTimeout(_0x3b7a52,0x1f4));const _0x106675=_0x50ac3b[_0x564d1d(0x5cd)](_0x564d1d(0x532)),_0x149229=_0x106675['toDataURL'](_0x564d1d(0x668)),_0x28e8c2=atob(_0x149229[_0x564d1d(0x3b0)](',')[0x1]),_0x269d7a=Uint8Array[_0x564d1d(0x486)](_0x28e8c2,_0x1f48d7=>_0x1f48d7[_0x564d1d(0x39f)](0x0)),_0x5bbe93=await _0x25cdb1[_0x564d1d(0x44d)](_0x269d7a),_0x32256c=_0x5bbe93['scale'](0.8),_0xb00087=_0xdafb5f+_0x438c72-_0x32256c[_0x564d1d(0x50e)],_0x4b3f57=_0xcf0ed5-_0x32256c[_0x564d1d(0x6b9)];_0x3fdd77[_0x564d1d(0x71b)](_0x5bbe93,{'x':_0xb00087,'y':_0x4b3f57,'width':_0x32256c[_0x564d1d(0x50e)],'height':_0x32256c[_0x564d1d(0x6b9)]});const _0x2181ae=Math[_0x564d1d(0x32a)](_0x4cb09d,_0x32256c[_0x564d1d(0x6b9)]);_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x5afd8b,'y':_0xcf0ed5-_0x2181ae,'width':_0x499e2c,'height':_0x2181ae,'borderColor':_0x3abe9,'borderWidth':0x1}),_0x207608=Math['min'](_0xcf0ed5-_0x2181ae,_0x4b3f57)-0x5;const _0x5c2648=_0x278133-_0x537bdc*0x2,_0x4a2c05=0x5,_0x5c491f=_0x5c2648-_0x4a2c05,_0x253058=_0x5c491f*0.8,_0x3b049c=_0x5c491f*0.2,_0x370a71=_0x537bdc,_0x37d0b5=_0x370a71+_0x253058+_0x4a2c05,_0x4a64f1=_0x207608,_0x18fa8e=0x8,_0x325b80=0x5,_0x3d68be=0xe,_0x2e2765=_0x253058/0x2;let _0x1d18f3='',_0x3bf2cc='',_0x1737e4=[],_0xd0a5f=[];if(_0x1465ff[_0x564d1d(0x332)]==!![]){_0x1d18f3=_0x564d1d(0x4a8),_0x3bf2cc=_0x564d1d(0x35b);for(let _0x277168 in _0x20a1f2[_0x564d1d(0x387)]){if(_0x277168=='vuelto'||_0x277168==_0x564d1d(0x3bb))continue;const _0x387975=_0x20a1f2[_0x564d1d(0x387)][_0x277168];if(_0x387975&&typeof _0x387975==_0x564d1d(0x2dc)&&_0x564d1d(0x67f)in _0x387975){const _0x49cddf=parseFloat(_0x387975[_0x564d1d(0x4b5)]);if(_0x49cddf>0x0){_0x1737e4['push']({'desc':_0x277168['toUpperCase'](),'value':_0x1b325c+'\x20'+_0x49cddf[_0x564d1d(0x353)](0x2)});if(_0x564d1d(0x554)in _0x387975&&_0x564d1d(0x3d9)in _0x387975){const _0x28ea70=_0x387975[_0x564d1d(0x554)],_0xe6b2b1=parseFloat(_0x387975['total_comision']);_0x28ea70!==undefined&&_0xe6b2b1!==undefined&&_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x63e)+_0x28ea70+'%)','value':_0x1b325c+'\x20'+_0xe6b2b1['toFixed'](0x2)});}if(_0x387975['banco']&&_0x387975[_0x564d1d(0x712)]!='0'){const _0x336f62=myCompany[_0x564d1d(0x673)]['find'](_0x383493=>_0x383493['setBankId']==_0x387975[_0x564d1d(0x712)]);_0x336f62&&_0x1737e4['push']({'desc':_0x564d1d(0x529),'value':_0x336f62[_0x564d1d(0x344)]});}_0x387975[_0x564d1d(0x2ef)]&&_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x3d7),'value':_0x387975['nro_operacion']});}}}parseFloat(_0x20a1f2[_0x564d1d(0x387)][_0x564d1d(0x636)])>0x0&&_0x1737e4['push']({'desc':'Vuelto:','value':_0x1b325c+'\x20'+parseFloat(_0x20a1f2[_0x564d1d(0x387)]['vuelto'])[_0x564d1d(0x353)](0x2)});let _0x574259=_0x598a1b['status']==!![]?parseFloat(_0x1455e9):parseFloat(_0x20a1f2['data']['debe']);_0xd0a5f['push']({'desc':_0x564d1d(0x380),'value':_0x1b325c+'\x20'+_0x574259['toFixed'](0x2)}),_0xd0a5f[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x4da),'value':_0x598a1b[_0x564d1d(0x387)][_0x564d1d(0x527)]+_0x564d1d(0x1b3)}),_0xd0a5f[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x20b),'value':''}),_0x598a1b[_0x564d1d(0x387)][_0x564d1d(0x492)](_0x32c3e0=>{const _0x512767=_0x564d1d;_0xd0a5f[_0x512767(0x2a6)]({'desc':'Cuota\x20'+_0x32c3e0[_0x512767(0x585)],'value':_0x32c3e0[_0x512767(0x21d)]+'\x20|\x20'+parseFloat(_0x32c3e0[_0x512767(0x67f)])[_0x512767(0x353)](0x2)});});}else{if(_0x20a1f2[_0x564d1d(0x332)]==!![]){_0x1d18f3=_0x564d1d(0x4a8),_0x3bf2cc='';for(let _0x1c8686 in _0x20a1f2['data']){if(_0x1c8686=='vuelto'||_0x1c8686==_0x564d1d(0x3bb))continue;const _0x464b3e=_0x20a1f2['data'][_0x1c8686];if(_0x464b3e&&typeof _0x464b3e==_0x564d1d(0x2dc)&&_0x564d1d(0x67f)in _0x464b3e){const _0xa218bb=parseFloat(_0x464b3e[_0x564d1d(0x4b5)]);if(_0xa218bb>0x0){_0x1737e4['push']({'desc':_0x1c8686['toUpperCase'](),'value':_0x1b325c+'\x20'+_0xa218bb[_0x564d1d(0x353)](0x2)});if(_0x564d1d(0x554)in _0x464b3e&&'total_comision'in _0x464b3e){const _0x3c5711=_0x464b3e[_0x564d1d(0x554)],_0x1904ab=parseFloat(_0x464b3e[_0x564d1d(0x3d9)]);_0x3c5711!==undefined&&_0x1904ab!==undefined&&_0x1737e4['push']({'desc':'Comisión\x20('+_0x3c5711+'%)','value':_0x1b325c+'\x20'+_0x1904ab[_0x564d1d(0x353)](0x2)});}if(_0x464b3e[_0x564d1d(0x712)]&&_0x464b3e['banco']!='0'){const _0x3e2275=myCompany[_0x564d1d(0x673)]['find'](_0x52ea30=>_0x52ea30['setBankId']==_0x464b3e[_0x564d1d(0x712)]);_0x3e2275&&_0x1737e4[_0x564d1d(0x2a6)]({'desc':'Banco:','value':_0x3e2275[_0x564d1d(0x344)]});}_0x464b3e['nro_operacion']&&_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x3d7),'value':_0x464b3e['nro_operacion']});}}}parseFloat(_0x20a1f2[_0x564d1d(0x387)][_0x564d1d(0x636)])>0x0&&_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x6ed),'value':_0x1b325c+'\x20'+parseFloat(_0x20a1f2[_0x564d1d(0x387)][_0x564d1d(0x636)])[_0x564d1d(0x353)](0x2)});}else{if(_0x598a1b[_0x564d1d(0x332)]==!![]){_0x1d18f3='FORMA\x20DE\x20PAGO:\x20CRÉDITO',_0x3bf2cc='';let _0xc5e52b=_0x598a1b[_0x564d1d(0x332)]==!![]?parseFloat(_0x1455e9):parseFloat(_0x20a1f2[_0x564d1d(0x387)][_0x564d1d(0x3bb)]);_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x380),'value':_0x1b325c+'\x20'+_0xc5e52b[_0x564d1d(0x353)](0x2)}),_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x4da),'value':_0x598a1b[_0x564d1d(0x387)]['length']+_0x564d1d(0x1b3)}),_0x1737e4[_0x564d1d(0x2a6)]({'desc':_0x564d1d(0x20b),'value':''}),_0x598a1b[_0x564d1d(0x387)]['forEach'](_0x8a8307=>{const _0x46d9b2=_0x564d1d;_0x1737e4['push']({'desc':_0x46d9b2(0x354)+_0x8a8307[_0x46d9b2(0x585)],'value':_0x8a8307[_0x46d9b2(0x21d)]+'\x20|\x20'+parseFloat(_0x8a8307[_0x46d9b2(0x67f)])[_0x46d9b2(0x353)](0x2)});});}}}const _0x1c9f9f=Math['max'](_0x1737e4['length'],_0xd0a5f['length']),_0x4ee21e=_0x4a64f1-_0x3e8e71-0xe;_0x3fdd77['drawRectangle']({'x':_0x370a71,'y':_0x4a64f1-_0x3e8e71,'width':_0x253058,'height':_0x3e8e71,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1}),_0x3fdd77['drawText'](_0x1d18f3,{'x':_0x370a71+_0x325b80,'y':_0x4a64f1-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0xd4964a});_0x3bf2cc&&_0x3fdd77['drawText'](_0x3bf2cc,{'x':_0x370a71+_0x2e2765+_0x325b80,'y':_0x4a64f1-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0xd4964a});const _0x1671d0=_0x2e2765/0x2,_0x5bb3d9=_0x2e2765/0x2;for(let _0x2edeb0=0x0;_0x2edeb0<_0x1c9f9f;_0x2edeb0++){const _0xe85b92=_0x4ee21e-_0x2edeb0*_0x3d68be+(_0x3d68be-_0x18fa8e)/0x2,_0x1bc99d=_0x1737e4[_0x2edeb0]||{'desc':'','value':''};_0x3fdd77['drawText'](_0x1bc99d['desc'],{'x':_0x370a71+_0x325b80,'y':_0xe85b92,'size':_0x18fa8e,'font':_0x1b2b1b}),_0x3fdd77[_0x564d1d(0x3e2)](_0x1bc99d[_0x564d1d(0x66e)],{'x':_0x370a71+_0x1671d0+_0x325b80,'y':_0xe85b92,'size':_0x18fa8e,'font':_0x1b2b1b});if(_0x3bf2cc){const _0x15807c=_0xd0a5f[_0x2edeb0]||{'desc':'','value':''};_0x3fdd77[_0x564d1d(0x3e2)](_0x15807c['desc'],{'x':_0x370a71+_0x2e2765+_0x325b80,'y':_0xe85b92,'size':_0x18fa8e,'font':_0x1b2b1b}),_0x3fdd77[_0x564d1d(0x3e2)](_0x15807c['value'],{'x':_0x370a71+_0x2e2765+_0x5bb3d9+_0x325b80,'y':_0xe85b92,'size':_0x18fa8e,'font':_0x1b2b1b});}}const _0x1813eb=_0x3e8e71+_0x1c9f9f*_0x3d68be+0x4;if(_0xfc4f68==0x1){const _0x5774f5=0xe,_0x237237=_0x37d0b5,_0x37d457=_0x3b049c,_0x2074b9=0xe,_0x339b28=_0x325b80;_0x3fdd77['drawRectangle']({'x':_0x237237,'y':_0x4a64f1-_0x2074b9,'width':_0x37d457,'height':_0x2074b9,'color':_0x3abe9,'borderColor':_0x3abe9,'borderWidth':0x1}),_0x3fdd77[_0x564d1d(0x3e2)](_0x564d1d(0x59f)+_0x5d396d+'%)',{'x':_0x237237+_0x339b28,'y':_0x4a64f1-_0x2074b9+(_0x2074b9-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0xd4964a});const _0x48b90c=_0x37d457-_0x339b28*0x2;let _0x229816=_0x4a64f1-_0x2074b9-0xe;const _0x52be20=['Total:\x20'+_0x1b325c+'\x20'+_0x48fe16,_0x564d1d(0x468)+_0x336360+'\x20'+_0x27e9d8,'Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción'];let _0xd2cd3a=_0x229816;for(let _0x1b8c9f=0x0;_0x1b8c9f<_0x52be20[_0x564d1d(0x527)];_0x1b8c9f++){_0xd2cd3a=_0x116ee9(_0x52be20[_0x1b8c9f],_0x237237+_0x339b28,_0x229816,_0x48b90c,_0x1b2b1b,_0x18fa8e,_0x5774f5),_0x229816=_0xd2cd3a-0x2;}const _0x5f4506=_0x4a64f1-_0x2074b9-0x4-_0xd2cd3a,_0x27fdaf=_0x2074b9+0x4+_0x5f4506;_0x3fdd77['drawRectangle']({'x':_0x237237,'y':_0x4a64f1-_0x27fdaf,'width':_0x37d457,'height':_0x27fdaf,'borderColor':_0x3abe9,'borderWidth':0x1});const _0x6f2d18=Math['max'](_0x1813eb,_0x27fdaf);_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x370a71,'y':_0x4a64f1-_0x6f2d18,'width':_0x253058,'height':_0x6f2d18,'borderColor':_0x3abe9,'borderWidth':0x1}),_0x207608=_0x4a64f1-_0x6f2d18-0x5;}else _0x3fdd77['drawRectangle']({'x':_0x370a71,'y':_0x4a64f1-_0x1813eb,'width':_0x253058,'height':_0x1813eb,'borderColor':_0x3abe9,'borderWidth':0x1}),_0x207608=_0x4a64f1-_0x1813eb-0x5;const _0x5ba951=_0x253058+_0x3b049c,_0x49d16a=_0x5ba951*0.4,_0x2f7a53=_0x5ba951*0.6;if(setObservacion!=''||_0x77f179!=''){let _0x80e283=_0x207608;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x370a71,'y':_0x80e283-_0x3e8e71,'width':_0x5ba951,'height':_0x3e8e71,'color':_0x22ff6d,'borderColor':_0x22ff6d,'borderWidth':0x1}),_0x3fdd77['drawText']('NOTAS:',{'x':_0x370a71+_0x325b80,'y':_0x80e283-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0x2b41cb}),_0x3fdd77[_0x564d1d(0x3e2)](_0x558763,{'x':_0x370a71+_0x49d16a+_0x325b80,'y':_0x80e283-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0x2b41cb});const _0x3e53d5=_0x80e283-_0x3e8e71-_0x4aecaa,_0x1dca1d=_0x3e53d5-_0x18fa8e;let _0x5c59f6=_0x116ee9(setObservacion,_0x370a71+_0x325b80,_0x1dca1d,_0x49d16a-_0x325b80*0x2,_0x1b2b1b,_0x18fa8e,_0x258780),_0x2cb6c8=_0x3e53d5-_0x5c59f6,_0x49cf29=_0x3e53d5;for(let _0x5596b8=0x0;_0x5596b8<_0x453e54['length'];_0x5596b8++){_0x3fdd77[_0x564d1d(0x3e2)](_0x453e54[_0x5596b8],{'x':_0x370a71+_0x49d16a+_0x325b80,'y':_0x49cf29-(_0x258780-_0x18fa8e),'size':_0x18fa8e,'font':_0x1b2b1b}),_0x49cf29-=_0x258780;}let _0x4bbe85=_0x3e53d5-_0x49cf29,_0x5ee431=Math[_0x564d1d(0x32a)](_0x2cb6c8,_0x4bbe85),_0xf6287e=_0x3e8e71+_0x4aecaa+_0x5ee431;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x370a71,'y':_0x80e283-_0xf6287e,'width':_0x5ba951,'height':_0xf6287e,'borderColor':_0x22ff6d,'borderWidth':0x1}),_0x207608=_0x80e283-_0xf6287e-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x4a8451=_0x207608;_0x3fdd77['drawRectangle']({'x':_0x370a71,'y':_0x4a8451-_0x3e8e71,'width':_0x5ba951,'height':_0x3e8e71,'color':_0x22ff6d,'borderColor':_0x22ff6d,'borderWidth':0x1}),_0x3fdd77[_0x564d1d(0x3e2)](_0x564d1d(0x53e),{'x':_0x370a71+_0x325b80,'y':_0x4a8451-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0x2b41cb}),_0x3fdd77[_0x564d1d(0x3e2)](_0x564d1d(0x26f),{'x':_0x370a71+_0x49d16a+_0x325b80,'y':_0x4a8451-_0x3e8e71+(_0x3e8e71-_0x18fa8e)/0x2,'size':_0x18fa8e,'font':_0x16c9d3,'color':_0x2b41cb});const _0x3ace91=setUrlConsultasCpe,_0x16de08=_0x564d1d(0x368),_0x710975=_0x3ace91[_0x564d1d(0x3b0)]('\x0a'),_0x3516c0=_0x16de08[_0x564d1d(0x3b0)]('\x0a'),_0xe8bdc5=_0x710975[_0x564d1d(0x527)]*_0x258780,_0x2c9424=_0x3516c0[_0x564d1d(0x527)]*_0x258780,_0x5173e3=Math[_0x564d1d(0x32a)](_0xe8bdc5,_0x2c9424);let _0x3f22f8=_0x3e8e71+_0x4aecaa+_0x5173e3;_0x3fdd77[_0x564d1d(0x4af)]({'x':_0x370a71,'y':_0x4a8451-_0x3f22f8,'width':_0x5ba951,'height':_0x3f22f8,'borderColor':_0x22ff6d,'borderWidth':0x1});let _0x3d6490=_0x4a8451-_0x3f22f8,_0x32d2e4=_0x3d6490+_0xe8bdc5,_0x3b9721=_0x3d6490+_0x2c9424;for(let _0x3f5c2c=0x0;_0x3f5c2c<_0x710975[_0x564d1d(0x527)];_0x3f5c2c++){_0x3fdd77[_0x564d1d(0x3e2)](_0x710975[_0x3f5c2c],{'x':_0x370a71+_0x325b80,'y':_0x32d2e4-_0x3f5c2c*_0x258780-(_0x258780-_0x18fa8e),'size':_0x18fa8e,'font':_0x1b2b1b});}for(let _0x243167=0x0;_0x243167<_0x3516c0[_0x564d1d(0x527)];_0x243167++){_0x3fdd77['drawText'](_0x3516c0[_0x243167],{'x':_0x370a71+_0x49d16a+_0x325b80,'y':_0x3b9721-_0x243167*_0x258780-(_0x258780-_0x18fa8e),'size':_0x18fa8e,'font':_0x1b2b1b});}_0x207608=_0x4a8451-_0x3f22f8-0xa;}else _0x207608-=0xa;}}return _0x207608;}function imprimirPdf(){const _0x82f115=_0x3df022,_0x4b5870=document[_0x82f115(0x57b)](_0x82f115(0x303))[_0x82f115(0x66e)],{pdfGlobalPayload:_0x8a0eb6,pdfGlobalBlob:_0x506a73,pdfGlobalName:_0xd7882}=getLastOperationGlobalData(_0x4b5870);if(!_0x506a73){ntfShow(_0x82f115(0x5ca));return;}const _0x530e94=URL['createObjectURL'](_0x506a73),_0xc97ba0=window['open'](_0x530e94,_0x82f115(0x3ae));_0xc97ba0['onload']=()=>{const _0x4f9b43=_0x82f115;_0xc97ba0[_0x4f9b43(0x3b3)](),_0xc97ba0[_0x4f9b43(0x270)](),URL[_0x4f9b43(0x1ba)](_0x530e94);};}function descargarPdf(){const _0x2c367f=_0x3df022,_0x28e20c=document[_0x2c367f(0x57b)](_0x2c367f(0x303))[_0x2c367f(0x66e)],{pdfGlobalPayload:_0x234056,pdfGlobalBlob:_0x16a7a2,pdfGlobalName:_0x345ce8}=getLastOperationGlobalData(_0x28e20c);if(!_0x16a7a2){ntfShow(_0x2c367f(0x5ca));return;}const _0x5bab82=URL[_0x2c367f(0x236)](_0x16a7a2),_0x442daa=document[_0x2c367f(0x242)]('a');_0x442daa['href']=_0x5bab82,_0x442daa[_0x2c367f(0x2d9)]=_0x2c367f(0x346),_0x442daa[_0x2c367f(0x4a6)](),URL[_0x2c367f(0x1ba)](_0x5bab82);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0x46bfdd,_0x470ce9=0x0){const _0x11b92e=_0x3df022;document[_0x11b92e(0x4e8)]('.tab-content')['forEach'](_0x524a77=>_0x524a77[_0x11b92e(0x6c6)][_0x11b92e(0x38f)](_0x11b92e(0x399)));const _0x1f0a2d=document['querySelectorAll']('.'+_0x46bfdd);_0x1f0a2d[_0x11b92e(0x492)](_0x4dd2fc=>_0x4dd2fc[_0x11b92e(0x6c6)][_0x11b92e(0x5d7)](_0x11b92e(0x399)));const _0x3f9781=_0x46bfdd[_0x11b92e(0x3b0)]('-')[0x1];document[_0x11b92e(0x57b)](_0x11b92e(0x303))['value']=_0x3f9781;const _0x5678f8=document[_0x11b92e(0x57b)](_0x11b92e(0x6b4));_0x5678f8[_0x11b92e(0x66e)]=_0x11b92e(0x69e)+_0x3f9781,await new Promise(_0x56a6a7=>setTimeout(_0x56a6a7,0x12c)),renderProducts();const _0x5f347b=getValidatedWindowAndShift(_0x3f9781),{currentWindowShift:_0x4d8562}=_0x5f347b;if(_0x4d8562){const _0x406151=document[_0x11b92e(0x57b)](_0x11b92e(0x710)+_0x3f9781);if(_0x406151){const _0x23be5a=_0x406151[_0x11b92e(0x66e)];if(!setTipOpeOrders[_0x11b92e(0x6e8)](_0x434382=>_0x434382==_0x23be5a)){let _0x478dc9=null;for(const _0x3eed34 of setTipOpeOrders){const _0x4a187b=Array[_0x11b92e(0x486)](_0x406151[_0x11b92e(0x18f)])[_0x11b92e(0x6e8)](_0x55199c=>_0x55199c[_0x11b92e(0x66e)]==_0x3eed34);if(_0x4a187b){_0x478dc9=_0x3eed34;break;}}_0x478dc9!==null&&(_0x406151[_0x11b92e(0x66e)]=_0x478dc9);}}}parseInt(window_options[_0x3f9781]['setFechaHoraReadonly'])!=0x1&&(window_options[_0x3f9781][_0x11b92e(0x2c2)]=obtener_fechaHora());const _0x5be36=document[_0x11b92e(0x57b)](_0x11b92e(0x710)+_0x3f9781)[_0x11b92e(0x66e)];await updateSerieOptions(_0x5be36,_0x3f9781),_0x470ce9==0x1&&await setOrders(_0x3f9781);}async function setOrders(_0x274af7){const _0xfc2f6e=_0x3df022,_0x11dd26=getValidatedWindowAndShift(_0x274af7);if(!_0x11dd26)return;const {windowObj:_0x292b64,currentWindowShift:_0x2f6c8c}=_0x11dd26;if(_0x2f6c8c){const _0x4ff829=_0x2f6c8c['setShiftId'],_0x451ed1=_0x2f6c8c[_0xfc2f6e(0x30b)]||[];console[_0xfc2f6e(0x189)](_0xfc2f6e(0x2dd),_0x451ed1);const _0xe4fbd8=_0x451ed1[_0xfc2f6e(0x6e8)](_0x9bcaa4=>_0x9bcaa4['setWindowShiftId']==_0x4ff829&&setTipOpeSales[_0xfc2f6e(0x6e8)](_0x1e22a3=>_0x1e22a3==_0x9bcaa4[_0xfc2f6e(0x431)]));if(!_0xe4fbd8){await removeAllFromCart(_0x274af7,0x1);const _0x2675ba=_0x451ed1[_0xfc2f6e(0x674)](_0x15268a=>{const _0xf58a3a=_0xfc2f6e;return _0x15268a[_0xf58a3a(0x33d)]==_0x4ff829&&setTipOpeOrders['some'](_0x4933b4=>_0x4933b4==_0x15268a[_0xf58a3a(0x431)]);});for(const _0x469076 of _0x2675ba){let _0x4c84a9=_0x469076['setIdOperation'];if(Array[_0xfc2f6e(0x719)](_0x469076[_0xfc2f6e(0x5f6)]))for(const _0x38f091 of _0x469076[_0xfc2f6e(0x5f6)]){if(carts[_0x274af7]&&carts[_0x274af7][_0xfc2f6e(0x6e8)](_0x2818f0=>_0x2818f0[_0xfc2f6e(0x36a)]==_0x38f091[_0xfc2f6e(0x36a)]))continue;const _0x257ae3=products[_0xfc2f6e(0x2d3)](_0x247663=>_0x247663['id']==_0x38f091[_0xfc2f6e(0x35a)]);_0x257ae3&&(await new Promise(_0xfec163=>setTimeout(_0xfec163,0x64)),addToCart(_0x257ae3,{'setValorCantidad':_0x38f091[_0xfc2f6e(0x6bf)],'setMtoPrecioUnitario_final':_0x38f091['setMtoPrecioUnitario_final'],'setTaxId':_0x38f091['setTaxId'],'setTipAfeIgv':_0x38f091[_0xfc2f6e(0x237)],'setPorcentajeDesc':_0x38f091[_0xfc2f6e(0x260)],'setNotas':_0x38f091['setNotas'],'cartId':_0x38f091[_0xfc2f6e(0x36a)],'setWindowShiftId':_0x4ff829,'setOrderId':_0x4c84a9,'setMtoPrecioUnitario_input':_0x38f091[_0xfc2f6e(0x193)],'setMtoPrecioCostoUnitario_input':_0x38f091[_0xfc2f6e(0x58f)]},0x1,_0x274af7));}}}}else{if(_0x292b64['setWindowStatus']==_0xfc2f6e(0x4b4)){}}}function showModalWindowShift(){const _0x5b98f1=_0x3df022,_0x53a1bc=document[_0x5b98f1(0x57b)](_0x5b98f1(0x63d)),_0xba22bf=document[_0x5b98f1(0x57b)](_0x5b98f1(0x5f4));_0x53a1bc[_0x5b98f1(0x6c6)][_0x5b98f1(0x5d7)](_0x5b98f1(0x399)),_0xba22bf[_0x5b98f1(0x3f6)]['display']=_0x5b98f1(0x34c);}function hideModalWindowShift(){const _0x498329=_0x3df022,_0x1d2151=document['getElementById'](_0x498329(0x63d)),_0x208a6a=document[_0x498329(0x57b)](_0x498329(0x5f4));_0x1d2151['classList']['remove'](_0x498329(0x399)),_0x208a6a[_0x498329(0x3f6)][_0x498329(0x228)]=_0x498329(0x18d);}document[_0x3df022(0x57b)](_0x3df022(0x3cc))[_0x3df022(0x1ad)](_0x3df022(0x4a6),hideModalWindowShift),document['getElementById']('modalOverlayWindowShift')[_0x3df022(0x1ad)](_0x3df022(0x4a6),_0x10918a=>{const _0xde0bd8=_0x3df022;_0x10918a[_0xde0bd8(0x4df)]==_0x10918a[_0xde0bd8(0x340)]&&_0x10918a['stopPropagation']();});function getValidatedWindowAndShift(_0x4a8ec3){const _0x53b417=_0x3df022,_0x7c860b=myCompany[_0x53b417(0x2eb)][_0x53b417(0x2d3)](_0x1fac5d=>_0x1fac5d[_0x53b417(0x36c)]==_0x4a8ec3);if(!_0x7c860b)return null;!_0x7c860b[_0x53b417(0x69c)]&&(_0x7c860b[_0x53b417(0x69c)]=[]);const _0x2a4d07=_0x7c860b['setShifts']['find'](_0x4c8547=>_0x4c8547[_0x53b417(0x361)]=='1');return{'windowObj':_0x7c860b,'currentWindowShift':_0x2a4d07};}async function updateWindowShiftDisplay(_0x232a42){const _0x54c43b=_0x3df022,_0x2541ec=document[_0x54c43b(0x57b)](_0x54c43b(0x3fd));_0x2541ec[_0x54c43b(0x55e)]='';const _0x3c0de1=getValidatedWindowAndShift(_0x232a42);if(!_0x3c0de1)return;const {windowObj:_0xf779fd,currentWindowShift:_0x49c1d4}=_0x3c0de1;if(!_0x49c1d4){const _0x2482c9=_0xf779fd;let _0x14a66b,_0x428f86;if(_0x2482c9[_0x54c43b(0x2ff)]==_0x54c43b(0x37b))_0x14a66b=_0x54c43b(0x46b),_0x428f86=_0x54c43b(0x606);else{if(_0x2482c9[_0x54c43b(0x2ff)]=='table')_0x14a66b='Aperturar\x20Mesa',_0x428f86='./img/layout/icon-table.svg';else{if(_0x2482c9['setWindowType']==_0x54c43b(0x3ea))_0x14a66b=_0x54c43b(0x63f),_0x428f86='./img/layout/icon-room.svg';else _0x2482c9[_0x54c43b(0x2ff)]==_0x54c43b(0x5ad)&&(_0x14a66b=_0x54c43b(0x1d7),_0x428f86=_0x54c43b(0x606));}}const _0x4c89e6=document[_0x54c43b(0x242)](_0x54c43b(0x3a9));_0x4c89e6[_0x54c43b(0x67c)]='shift-open-container';const _0x4a62b7=document[_0x54c43b(0x242)]('div');_0x4a62b7[_0x54c43b(0x67c)]=_0x54c43b(0x6dd);const _0x2e9568=document[_0x54c43b(0x242)](_0x54c43b(0x265));_0x2e9568['className']=_0x54c43b(0x1d0),_0x2e9568['src']=_0x428f86,_0x2e9568[_0x54c43b(0x351)]=_0x14a66b,_0x4a62b7[_0x54c43b(0x52a)](_0x2e9568);const _0x500db9=document[_0x54c43b(0x242)](_0x54c43b(0x3a9));_0x500db9[_0x54c43b(0x67c)]=_0x54c43b(0x30c);const _0x411f44=document[_0x54c43b(0x242)]('h2');_0x411f44['className']=_0x54c43b(0x66f),_0x411f44[_0x54c43b(0x1f4)]=_0x14a66b;const _0x11e091=document[_0x54c43b(0x242)](_0x54c43b(0x3a9));_0x11e091[_0x54c43b(0x67c)]=_0x54c43b(0x6b3);const _0x389538=document['createElement'](_0x54c43b(0x4bd));_0x389538[_0x54c43b(0x67c)]='shift-open-btn',_0x389538['id']=_0x54c43b(0x342),_0x389538[_0x54c43b(0x1f4)]=_0x54c43b(0x3ad),_0x389538['addEventListener']('click',()=>openWindowShift(_0x232a42)),_0x11e091[_0x54c43b(0x52a)](_0x389538),_0x500db9[_0x54c43b(0x52a)](_0x411f44),_0x500db9[_0x54c43b(0x52a)](_0x11e091),_0x4c89e6[_0x54c43b(0x52a)](_0x4a62b7),_0x4c89e6[_0x54c43b(0x52a)](_0x500db9),_0x2541ec[_0x54c43b(0x52a)](_0x4c89e6),showModalWindowShift();}else{}}async function openWindowShift(_0x5e2dfd){const _0x5194d2=_0x3df022,_0x1e9eac=document[_0x5194d2(0x57b)](_0x5194d2(0x342));if(!_0x1e9eac){console[_0x5194d2(0x708)](_0x5194d2(0x2b1));return;}const _0x2f2497=getValidatedWindowAndShift(_0x5e2dfd);if(!_0x2f2497){ntfShow('Error.\x20La\x20ventana\x20no\x20existe.');return;}const {windowObj:_0x5e93d7,currentWindowShift:_0x4d98cd}=_0x2f2497;if(_0x4d98cd){ntfShow('Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.');return;}_0x1e9eac[_0x5194d2(0x497)]=!![],hideModalWindowShift(),showLoadingModal();const _0xd211d7=new Date(),_0x4512b0=_0x5194d2(0x6a6),_0x22c6c1=generateUniqId();_0x5e93d7['setShifts'][_0x5194d2(0x2a6)]({'setShiftId':_0x22c6c1,'setShiftStatus':'1','setShiftDateStart':_0xd211d7,'setShiftDateEnd':_0x4512b0,'setShiftUserEmail':myCompany['setUser_Local'][_0x5194d2(0x2f9)]}),_0x5e93d7[_0x5194d2(0x47a)]=_0x5194d2(0x29e),_0x5e93d7[_0x5194d2(0x70b)]=nowWithMillisecondsForServer();const _0xbb6524=await createCartStore('');await saveCompanyToIndexedDB(company,_0xbb6524),ntfShow(_0x5194d2(0x57e)+_0xd211d7[_0x5194d2(0x5cc)]()),await apiERPsyncWindows();const _0x466d1b=_0x5194d2(0x69e)+_0x5e2dfd;await switchTab(_0x466d1b,0x1),_0x1e9eac['disabled']=![],hideLoadingModal();}function getMaxWindowId(_0x32979c){const _0xc528eb=_0x3df022,_0x5e3fff=Object['keys'](_0x32979c);if(_0x5e3fff[_0xc528eb(0x527)]==0x0)return 0x0;return Math[_0xc528eb(0x32a)](..._0x5e3fff[_0xc528eb(0x6c0)](_0x210df5=>parseInt(_0x210df5,0xa)));}async function updateTab(_0x5cff03){return new Promise(async _0xcbd392=>{const _0x4e8efe=_0xe3e9,_0x29d096=myCompany[_0x4e8efe(0x2eb)][_0x4e8efe(0x2d3)](_0x42a4fd=>_0x42a4fd[_0x4e8efe(0x36c)]==_0x5cff03);if(!_0x29d096){console['error'](_0x4e8efe(0x50b)+_0x5cff03),_0xcbd392();return;}const _0x416bb4=_0x4e8efe(0x69e)+_0x5cff03,_0x5216c2=document[_0x4e8efe(0x57b)](_0x4e8efe(0x6b4)),_0x419c0d=document[_0x4e8efe(0x242)]('option');_0x419c0d[_0x4e8efe(0x66e)]=_0x416bb4,_0x419c0d[_0x4e8efe(0x1f4)]=_0x29d096[_0x4e8efe(0x6a7)],_0x5216c2[_0x4e8efe(0x52a)](_0x419c0d),await createFormElements(_0x416bb4),_0xcbd392();});}async function addNewTab(_0x3ec58b){const _0x20bc00=_0x3df022;if(parseFloat(_0x3ec58b)===0x0){ntfShow('WindowId\x20Error');return;}let _0x3654d9=_0x3ec58b;tabCount=parseFloat(_0x3ec58b),carts[_0x3654d9]=[],window_options[_0x3654d9]={};try{await createCartStore(_0x3654d9),await updateTab(_0x3654d9);}catch(_0x3cf7e0){console['error'](_0x20bc00(0x207),_0x3cf7e0);}}document[_0x3df022(0x57b)](_0x3df022(0x469))['onchange']=_0x49c9ca=>{const _0x4141da=_0x3df022;itemsPerPage=parseInt(_0x49c9ca[_0x4141da(0x4df)][_0x4141da(0x66e)],0xa),currentPage=0x1,renderProducts(searchInput[_0x4141da(0x66e)]);};function procesarProductos(_0x8a5c14){const _0x9074af=_0x3df022,_0x180c98=parseFloat(_0x8a5c14['setPorcentajeGeneralIgv'])||0x0,_0x1832c2=_0x8a5c14[_0x9074af(0x358)],_0x599b5c=parseFloat(_0x8a5c14[_0x9074af(0x26d)])||0x0,_0xef910f=_0x180c98/0x64,_0x4e1794={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x30cf20=[];for(const _0x1a1c44 of _0x1832c2){if(!_0x1a1c44[_0x9074af(0x268)]||!_0x1a1c44[_0x9074af(0x237)])throw new Error(_0x9074af(0x442));let {valorUnit:_0x512f8f,precioUnit:_0x2c2964,valorCantidad:_0x51c3f1,valorPorcentajeIgv:_0x174415,setTipAfeIgv:_0x2eff52,setDescuento:_0x17d386}=_0x1a1c44;const _0x4f5618=_0x17d386?.['setCodTipo']||'',_0x274a98=_0x17d386?.[_0x9074af(0x260)]||0x0;!_0x512f8f?_0x512f8f=setTipAfeImpGravados[_0x9074af(0x6e8)](_0xe9f5f0=>_0xe9f5f0==_0x2eff52)?_0x2c2964/(0x1+_0x174415/0x64):_0x2c2964:_0x2c2964=setTipAfeImpGravados['some'](_0x289006=>_0x289006==_0x2eff52)?_0x512f8f+_0x512f8f*(_0x174415/0x64):_0x512f8f;let _0x23066d=0x0,_0x1b18f7=0x0,_0x15e10c=0x0,_0x22d63c=0x0,_0x205956=0x0,_0x39e21f=0x0,_0x5ac0cf=0x0,_0x282b9f=0x0,_0x4c3916=0x0,_0x218cff=0x0,_0x38a92f=0x0,_0x187ab0=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos['some'](_0x4ba158=>_0x4ba158==_0x2eff52):_0x23066d=_0x512f8f,_0x1b18f7=0x0,_0x15e10c=_0x23066d*_0x51c3f1;_0x274a98>0x0&&(_0x282b9f=_0x274a98/0x64,_0x4c3916=_0x15e10c,_0x218cff=_0x4c3916*_0x282b9f,_0x38a92f=(_0x4c3916+_0x4c3916*(_0x174415/0x64))*_0x282b9f,_0x15e10c-=_0x218cff,_0x4e1794[_0x9074af(0x410)]+=_0x218cff,_0x4e1794[_0x9074af(0x6e6)]+=_0x38a92f);_0x22d63c=_0x15e10c,_0x39e21f=_0x22d63c*(_0x174415/0x64),_0x205956=_0x174415,_0x5ac0cf=(_0x15e10c+_0x39e21f)/_0x51c3f1,_0x4e1794['setMtoOperGravadas']+=_0x15e10c,_0x4e1794['setMtoIGV']+=_0x39e21f;break;case setTipAfeImpExonerados[_0x9074af(0x6e8)](_0x53f1c9=>_0x53f1c9==_0x2eff52)||setTipAfeImpInafectos[_0x9074af(0x6e8)](_0x473436=>_0x473436==_0x2eff52):_0x23066d=_0x512f8f,_0x1b18f7=0x0,_0x15e10c=_0x23066d*_0x51c3f1;_0x274a98>0x0&&(_0x282b9f=_0x274a98/0x64,_0x4c3916=_0x15e10c,_0x218cff=_0x4c3916*_0x282b9f,_0x38a92f=_0x218cff,_0x15e10c-=_0x218cff,_0x4e1794['setMtoDescItems']+=_0x218cff,_0x4e1794['setMtoDescItems_precio']+=_0x38a92f);_0x22d63c=_0x15e10c,_0x39e21f=0x0,_0x205956=0x0,_0x5ac0cf=(_0x15e10c+_0x39e21f)/_0x51c3f1;setTipAfeImpExonerados[_0x9074af(0x6e8)](_0x450116=>_0x450116==_0x2eff52)?_0x4e1794[_0x9074af(0x5e4)]+=_0x15e10c:_0x4e1794[_0x9074af(0x447)]+=_0x15e10c;break;case setTipAfeImpGravadosGrat[_0x9074af(0x6e8)](_0x1f3f88=>_0x1f3f88==_0x2eff52):_0x23066d=0x0,_0x1b18f7=_0x512f8f,_0x15e10c=_0x1b18f7*_0x51c3f1,_0x22d63c=_0x15e10c,_0x39e21f=_0x22d63c*(_0x174415/0x64),_0x205956=_0x174415,_0x5ac0cf=0x0,_0x4e1794[_0x9074af(0x4ac)]+=_0x15e10c,_0x4e1794[_0x9074af(0x45f)]+=_0x39e21f;break;case setTipAfeImpExoneradosGrat['some'](_0x20e531=>_0x20e531==_0x2eff52)||setTipAfeImpInafectosGrat['some'](_0x14022c=>_0x14022c==_0x2eff52):_0x23066d=0x0,_0x1b18f7=_0x512f8f,_0x15e10c=_0x1b18f7*_0x51c3f1,_0x22d63c=_0x15e10c,_0x39e21f=0x0,_0x205956=0x0,_0x5ac0cf=0x0,_0x4e1794[_0x9074af(0x4ac)]+=_0x15e10c;break;default:console[_0x9074af(0x708)](_0x9074af(0x5c4)+_0x2eff52);continue;}_0x187ab0=_0x5ac0cf*_0x51c3f1,_0x30cf20[_0x9074af(0x2a6)]({'setMtoValorUnitario':_0x23066d,'setMtoValorGratuito':_0x1b18f7,'setMtoValorVenta':_0x15e10c,'setMtoBaseIgv':_0x22d63c,'setPorcentajeIgv':_0x205956,'setIgv':_0x39e21f,'setTipAfeIgv':_0x2eff52,'setTotalImpuestos':_0x39e21f,'setMtoPrecioUnitario':_0x5ac0cf,'setDescuento_setCodTipo':_0x4f5618,'setDescuento_setMontoBase':_0x4c3916,'setDescuento_setFactor':_0x282b9f,'setDescuento_setMonto':_0x218cff,'setDescuento_setMonto_precio':_0x38a92f,'setPorcentajeDesc':_0x274a98,'setTotal':_0x187ab0,'setMtoValorUnitario_final':_0x512f8f,'setMtoPrecioUnitario_final':_0x2c2964});}_0x4e1794[_0x9074af(0x1e9)]=_0x4e1794[_0x9074af(0x453)],_0x4e1794[_0x9074af(0x5b1)]=_0x4e1794[_0x9074af(0x49a)]+_0x4e1794[_0x9074af(0x5e4)]+_0x4e1794[_0x9074af(0x447)],_0x4e1794[_0x9074af(0x427)]=_0x4e1794[_0x9074af(0x5b1)]+_0x4e1794[_0x9074af(0x1e9)],_0x4e1794[_0x9074af(0x172)]=_0x4e1794['setSubTotal'];if(_0x599b5c>0x0){const _0x2985eb=_0x599b5c/(0x1+_0xef910f),_0x22f0ef=_0x2985eb*(_0x4e1794[_0x9074af(0x49a)]/_0x4e1794[_0x9074af(0x5b1)]),_0xe3288f=_0x599b5c*(_0x4e1794['setMtoOperExoneradas']/_0x4e1794[_0x9074af(0x5b1)]),_0x6fee3e=_0x599b5c*(_0x4e1794[_0x9074af(0x447)]/_0x4e1794['setValorVenta']);_0x4e1794[_0x9074af(0x49a)]-=_0x22f0ef,_0x4e1794[_0x9074af(0x5e4)]-=_0xe3288f,_0x4e1794[_0x9074af(0x447)]-=_0x6fee3e,_0x4e1794[_0x9074af(0x453)]=_0x4e1794['setMtoOperGravadas']*_0xef910f,_0x4e1794[_0x9074af(0x1e9)]=_0x4e1794['setMtoIGV'],_0x4e1794['setValorVenta']=_0x4e1794[_0x9074af(0x49a)]+_0x4e1794['setMtoOperExoneradas']+_0x4e1794[_0x9074af(0x447)],_0x4e1794[_0x9074af(0x427)]=_0x4e1794[_0x9074af(0x5b1)]+_0x4e1794[_0x9074af(0x1e9)],_0x4e1794['setMtoImpVenta']=_0x4e1794[_0x9074af(0x427)];}return{'setInvoice':_0x4e1794,'setInvoiceDetails':_0x30cf20};}function selectAllChecks(_0x3ca0a7){const _0x395350=_0x3df022,_0x2b1be9=document['getElementById']('itemCheckboxAll-'+_0x3ca0a7),_0x386084=_0x2b1be9['checked'],_0x2d452b=document['querySelectorAll'](_0x395350(0x29f)+_0x3ca0a7);_0x2d452b[_0x395350(0x492)](_0x2436cf=>{_0x2436cf['checked']=_0x386084,_0x2436cf['value']=_0x386084?0x1:0x0;}),carts[_0x3ca0a7]['forEach'](_0x347467=>{const _0x4eff14=_0x395350;_0x347467[_0x4eff14(0x70f)]=_0x386084?0x1:0x0;}),renderCart(_0x3ca0a7);}async function setPreAccount(_0x958f66){const _0x2f47bf=_0x3df022;showLoadingModal(),await setBill(_0x958f66);const _0x20b107=buildPayload(_0x958f66),{pdfBlob:_0x1aeb1d,pdfName:_0x665db2}=await generatePdf(_0x20b107,'tk',_0x2f47bf(0x35f),_0x2f47bf(0x366),0x1);hideLoadingModal(),setLastOperationGlobalData(_0x958f66,{'pdfGlobalPayload':_0x20b107,'pdfGlobalBlob':_0x1aeb1d,'pdfGlobalName':_0x665db2}),showModal();const _0x1c2474=getValidatedWindowAndShift(_0x958f66);if(_0x1c2474){const {windowObj:_0x24f694,currentWindowShift:_0x5181cb}=_0x1c2474;if(_0x5181cb){_0x5181cb['setPreAccountDate']=new Date(),_0x24f694[_0x2f47bf(0x47a)]=_0x2f47bf(0x63b),_0x24f694[_0x2f47bf(0x70b)]=nowWithMillisecondsForServer();const _0xd6e635=await createCartStore('');await saveCompanyToIndexedDB(company,_0xd6e635),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x2baf57){const _0x63fdae=_0x3df022,_0xcf4302=parseInt(_0x2baf57,0xa),_0x197e9f=elementos[_0x63fdae(0x2d3)](_0x529af0=>_0x529af0[_0x63fdae(0x36c)]===_0xcf4302);if(!_0x197e9f)return console['warn'](_0x63fdae(0x538),_0xcf4302);await clickMesa(_0x197e9f,0x0),await setPreAccount(_0x2baf57);const _0x4b77df=document['getElementById']('setFloorId')[_0x63fdae(0x66e)];handleTabSelection(_0x4b77df);}async function setBill(_0x428dde){const _0x25ddc1=_0x3df022,_0x408e44=document[_0x25ddc1(0x57b)](_0x25ddc1(0x710)+_0x428dde);if(_0x408e44){let _0x13b6f7=null;for(const _0x480d20 of setTipOpeSales){const _0x236a80=Array[_0x25ddc1(0x486)](_0x408e44['options'])['some'](_0x135eb5=>_0x135eb5[_0x25ddc1(0x66e)]==_0x480d20);if(_0x236a80){_0x13b6f7=_0x480d20;break;}}_0x13b6f7!==null?(window_options[_0x428dde][_0x25ddc1(0x431)]=_0x13b6f7,await updateSerieOptions(_0x13b6f7,_0x428dde),renderCart(_0x428dde)):console[_0x25ddc1(0x552)](_0x25ddc1(0x6e0));}else console['error'](_0x25ddc1(0x30f));}function renderCart(_0x562fd0){const _0x4d909c=_0x3df022,_0x3529d1=document[_0x4d909c(0x57b)](_0x4d909c(0x639)+_0x562fd0),_0x4eb071=document['getElementById'](_0x4d909c(0x611)+_0x562fd0),_0x19382c=document[_0x4d909c(0x57b)](_0x4d909c(0x57c)+_0x562fd0),_0x593c06=document['getElementById']('float-right-OpGravada-'+_0x562fd0),_0x37add1=document[_0x4d909c(0x57b)](_0x4d909c(0x32e)+_0x562fd0),_0x441124=document[_0x4d909c(0x57b)](_0x4d909c(0x2b2)+_0x562fd0),_0x3793c6=document[_0x4d909c(0x57b)]('float-right-OpGratuita-'+_0x562fd0),_0x284fe9=document['getElementById'](_0x4d909c(0x1a2)+_0x562fd0),_0x36206c=document[_0x4d909c(0x57b)](_0x4d909c(0x338)+_0x562fd0),_0x7d7587=document[_0x4d909c(0x57b)]('float-right-TotalIgvGratuitas-'+_0x562fd0),_0x4f34b4=document[_0x4d909c(0x57b)](_0x4d909c(0x665)+_0x562fd0);_0x3529d1[_0x4d909c(0x55e)]='';const _0x1e2353=carts[_0x562fd0];let _0x16b82d,_0x36f4d8;if(setTipOpeOrders[_0x4d909c(0x6e8)](_0x2283f5=>_0x2283f5==window_options[_0x562fd0]['setTipoOperacion']))_0x16b82d=_0x1e2353['filter'](_0x22ca3b=>_0x22ca3b[_0x4d909c(0x70f)]==0x1&&_0x22ca3b[_0x4d909c(0x33d)]==''),_0x36f4d8=myCompany['setAccountingAccounts'][_0x4d909c(0x674)](_0x5242bf=>_0x5242bf[_0x4d909c(0x1fc)]==0x1);else{if(setTipOpeSales[_0x4d909c(0x6e8)](_0x1d1908=>_0x1d1908==window_options[_0x562fd0][_0x4d909c(0x431)])||setTipOpeQuotation[_0x4d909c(0x6e8)](_0x273b2e=>_0x273b2e==window_options[_0x562fd0]['setTipoOperacion']))_0x16b82d=_0x1e2353[_0x4d909c(0x674)](_0x4ccf5a=>_0x4ccf5a[_0x4d909c(0x70f)]==0x1),_0x36f4d8=myCompany[_0x4d909c(0x6c3)][_0x4d909c(0x674)](_0x7190ab=>_0x7190ab[_0x4d909c(0x1fc)]==0x1);else setTipOpePurchases[_0x4d909c(0x6e8)](_0x67697e=>_0x67697e==window_options[_0x562fd0][_0x4d909c(0x431)])&&(_0x16b82d=_0x1e2353[_0x4d909c(0x674)](_0x2fc766=>_0x2fc766[_0x4d909c(0x70f)]==0x1),_0x36f4d8=myCompany[_0x4d909c(0x6c3)]['filter'](_0x2e90ba=>_0x2e90ba[_0x4d909c(0x1fc)]==0x2));}const _0x1e519f=_0x16b82d['map'](_0x40e833=>({'valorUnit':_0x40e833[_0x4d909c(0x6ff)],'precioUnit':_0x40e833[_0x4d909c(0x22f)],'valorCantidad':_0x40e833[_0x4d909c(0x6bf)],'valorPorcentajeIgv':_0x40e833[_0x4d909c(0x5b7)],'setTipAfeIgv':_0x40e833[_0x4d909c(0x237)],'setDescuento':{'setCodTipo':_0x40e833[_0x4d909c(0x1ac)]?.[_0x4d909c(0x1fb)]||'00','setPorcentajeDesc':_0x40e833[_0x4d909c(0x1ac)]?.[_0x4d909c(0x260)]||0x0}})),_0x33e3cf=window_options[_0x562fd0],_0x4a601e=_0x33e3cf[_0x4d909c(0x24e)],{setInvoice:_0x30e813}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x4d909c(0x6bc)][_0x4d909c(0x2d3)](_0x4f4a89=>_0x4f4a89['setTaxId']==myCompany['setTaxIdDefault'])?.[_0x4d909c(0x436)],'items':_0x1e519f,'descuentoGlobalMonto':_0x4a601e}),_0x4e5593={..._0x33e3cf,..._0x30e813};window_options[_0x562fd0]=_0x4e5593;const {setMtoOperGravadas:_0x477fa9,setMtoOperExoneradas:_0x5e50bd,setMtoOperInafectas:_0x400b0c,setValorVenta:_0x22be42,setMtoIGV:_0x2b0d7d,setMtoImpVenta:_0x59ff5d,setMtoOperGratuitas:_0x291bae,setMtoIGVGratuitas:_0x9d1700,setMtoDescItems_precio:_0x28c331}=_0x30e813,_0xccf6f8=document[_0x4d909c(0x57b)](_0x4d909c(0x48e)+_0x562fd0),_0x4a9945=_0x33e3cf['setTipoOperacion'];parseFloat(_0x9d1700)>0x0&&(_0x4a9945=='3'||_0x4a9945=='4'||_0x4a9945=='7'||_0x4a9945=='11'||_0x4a9945=='14'||_0x4a9945=='17'||_0x4a9945=='18'||_0x4a9945=='21'||_0x4a9945=='24')?_0xccf6f8[_0x4d909c(0x6c6)][_0x4d909c(0x38f)](_0x4d909c(0x615)):_0xccf6f8[_0x4d909c(0x6c6)]['add'](_0x4d909c(0x615));const _0x53c5ce=document[_0x4d909c(0x57b)](_0x4d909c(0x45a)+_0x562fd0);parseFloat(_0x28c331)>0x0?_0x53c5ce[_0x4d909c(0x6c6)][_0x4d909c(0x38f)](_0x4d909c(0x615)):_0x53c5ce[_0x4d909c(0x6c6)][_0x4d909c(0x5d7)](_0x4d909c(0x615));let _0x16dbf8;parseInt(window_options[_0x562fd0][_0x4d909c(0x6be)])==0x1?_0x16dbf8='':_0x16dbf8=_0x4d909c(0x687);const _0x3bddd9=getUserPermissionApiERP(0xc);_0x1e2353[_0x4d909c(0x492)]((_0x44e4d5,_0x2f379d)=>{const _0x2ae3b9=_0x4d909c;let _0x53c344='';_0x44e4d5[_0x2ae3b9(0x33d)]!=''&&(_0x53c344=_0x2ae3b9(0x687));const _0x3b1c9b=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x3b1c9b[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x2f3);const _0x309c57=document['createElement'](_0x2ae3b9(0x3a9));_0x309c57['className']='cart-item';const _0x5886c9=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x5886c9['id']=_0x2ae3b9(0x27e)+_0x562fd0+'-'+_0x44e4d5['id'];_0x44e4d5[_0x2ae3b9(0x331)]==0x1?_0x5886c9[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x69a):_0x5886c9['className']=_0x2ae3b9(0x4eb);const _0x34f3c9=createElement(_0x2ae3b9(0x282),{'type':_0x2ae3b9(0x177),'class':'itemCheckbox-'+_0x562fd0+'\x20'+_0x16dbf8,'value':_0x44e4d5[_0x2ae3b9(0x70f)],'events':{'click':_0x589b74=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x70f),_0x589b74[_0x2ae3b9(0x4df)][_0x2ae3b9(0x66e)])}});_0x44e4d5[_0x2ae3b9(0x70f)]==0x1&&(_0x34f3c9[_0x2ae3b9(0x3ee)]=_0x2ae3b9(0x3ee));_0x309c57['appendChild'](_0x34f3c9);const _0x39e7b0=products[_0x2ae3b9(0x2d3)](_0x10f681=>_0x10f681['id']==_0x44e4d5[_0x2ae3b9(0x35a)]);let _0x46e6a1='';if(_0x39e7b0){const _0x1276e9=[];if(_0x39e7b0[_0x2ae3b9(0x277)])_0x1276e9[_0x2ae3b9(0x2a6)](_0x2ae3b9(0x4cf)+_0x39e7b0[_0x2ae3b9(0x277)]);if(_0x39e7b0['setItemDescription'])_0x1276e9[_0x2ae3b9(0x2a6)](''+_0x39e7b0[_0x2ae3b9(0x2c6)]);if(_0x39e7b0[_0x2ae3b9(0x4b3)])_0x1276e9['push'](''+_0x39e7b0[_0x2ae3b9(0x4b3)]);if(_0x39e7b0[_0x2ae3b9(0x403)]){const _0x1d5e64=_0x39e7b0[_0x2ae3b9(0x403)][_0x2ae3b9(0x3b0)]('-'),_0x6734d=_0x1d5e64[0x2]+'/'+_0x1d5e64[0x1]+'/'+_0x1d5e64[0x0];_0x1276e9['push'](_0x2ae3b9(0x2f2)+_0x6734d);}_0x46e6a1=_0x1276e9[_0x2ae3b9(0x218)](_0x2ae3b9(0x281));}const _0x3b8ee5=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x3b8ee5[_0x2ae3b9(0x55e)]=_0x44e4d5[_0x2ae3b9(0x277)]+_0x2ae3b9(0x534)+_0x44e4d5['setDescripcion']+_0x2ae3b9(0x312)+(_0x44e4d5[_0x2ae3b9(0x4f3)]??'')+'</span>',_0x3b8ee5[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x4f7);if(_0x46e6a1)_0x3b8ee5[_0x2ae3b9(0x5f8)](_0x2ae3b9(0x1bd),_0x46e6a1);_0x309c57[_0x2ae3b9(0x52a)](_0x3b8ee5);const _0x5828e3=document['createElement'](_0x2ae3b9(0x222));_0x5828e3[_0x2ae3b9(0x66e)]=_0x44e4d5[_0x2ae3b9(0x5c0)]||'',_0x5828e3[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x574),_0x5828e3[_0x2ae3b9(0x6a4)]='Producto:',_0x5828e3[_0x2ae3b9(0x662)]=_0xb42fdc=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x5c0),_0xb42fdc[_0x2ae3b9(0x4df)][_0x2ae3b9(0x66e)]),_0x309c57[_0x2ae3b9(0x52a)](_0x5828e3),_0x3b8ee5[_0x2ae3b9(0x1ad)](_0x2ae3b9(0x4a6),()=>{const _0x5507dc=_0x2ae3b9;_0x3b8ee5['classList']['add']('hidden'),_0x5828e3[_0x5507dc(0x6c6)][_0x5507dc(0x38f)]('hidden'),_0x5828e3[_0x5507dc(0x3b3)]();}),_0x5828e3[_0x2ae3b9(0x1ad)](_0x2ae3b9(0x70c),()=>{renderCart(_0x562fd0);});const _0x51132d=document['createElement']('button');_0x51132d[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x5fb),_0x51132d['id']=_0x2ae3b9(0x235)+_0x562fd0+'-'+_0x44e4d5['id'],_0x51132d[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x41c)+_0x53c344,_0x51132d[_0x2ae3b9(0x1ad)]('click',()=>{const _0x47ba11=_0x2ae3b9,_0x448f14=_0x5886c9[_0x47ba11(0x6c6)][_0x47ba11(0x595)]('d-none');_0x448f14?(_0x5886c9[_0x47ba11(0x6c6)][_0x47ba11(0x38f)]('d-none'),_0x51132d['innerHTML']=_0x47ba11(0x713),updateCartItem(_0x562fd0,_0x2f379d,'setVisible',0x1)):(_0x5886c9[_0x47ba11(0x6c6)]['add']('d-none'),_0x51132d[_0x47ba11(0x55e)]=_0x47ba11(0x5fb),updateCartItem(_0x562fd0,_0x2f379d,'setVisible',0x0));}),_0x309c57[_0x2ae3b9(0x52a)](_0x51132d);const _0xd295bb=document['createElement'](_0x2ae3b9(0x3a9));_0xd295bb['className']=_0x2ae3b9(0x4f5);const _0x27b396=document['createElement'](_0x2ae3b9(0x4bd));_0x27b396['className']=_0x2ae3b9(0x557)+_0x53c344,_0x27b396[_0x2ae3b9(0x55e)]='<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>',_0x27b396[_0x2ae3b9(0x594)]=()=>{const _0x28b98a=_0x2ae3b9;let _0x2510ba=parseFloat(_0x44e4d5[_0x28b98a(0x6bf)])||0x0;_0x2510ba<=0x1?_0x2510ba=Math['max'](0.1,_0x2510ba-0.1):_0x2510ba=Math[_0x28b98a(0x32a)](0x0,_0x2510ba-0x1),_0x44e4d5[_0x28b98a(0x6bf)]=_0x2510ba[_0x28b98a(0x353)](0x1),_0x22f9f2[_0x28b98a(0x66e)]=_0x44e4d5[_0x28b98a(0x6bf)]||0x0,updateCartItem(_0x562fd0,_0x2f379d,'setCantidad',_0x44e4d5['setCantidad']);};const _0x22f9f2=document['createElement'](_0x2ae3b9(0x282));_0x44e4d5[_0x2ae3b9(0x33d)]!=''&&(_0x22f9f2[_0x2ae3b9(0x2b5)]=!![]);_0x22f9f2['type']='number',_0x22f9f2[_0x2ae3b9(0x54a)]=_0x2ae3b9(0x5dc),_0x22f9f2['min']='0.1',_0x22f9f2['value']=_0x44e4d5[_0x2ae3b9(0x6bf)]||0x0,_0x22f9f2['className']=_0x2ae3b9(0x347),_0x22f9f2[_0x2ae3b9(0x662)]=_0x547889=>{const _0x16c566=_0x2ae3b9;var _0x4369dd=parseInt(_0x3bddd9,0xa)||0x0,_0x1d6674=Math[_0x16c566(0x60c)](0xa,-_0x4369dd);let _0x3e957e=parseFloat(_0x547889[_0x16c566(0x4df)][_0x16c566(0x66e)])||0x0;_0x3e957e=_0x3e957e<0x1?Math[_0x16c566(0x32a)](_0x1d6674,_0x3e957e):Math['max'](0x1,_0x3e957e),_0x44e4d5['setCantidad']=_0x3e957e['toFixed'](_0x4369dd),updateCartItem(_0x562fd0,_0x2f379d,'setCantidad',_0x44e4d5[_0x16c566(0x6bf)]);};const _0xb3133b=document[_0x2ae3b9(0x242)]('button');_0xb3133b[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x557)+_0x53c344,_0xb3133b[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x6b2),_0xb3133b[_0x2ae3b9(0x594)]=()=>{const _0x1b7f50=_0x2ae3b9;let _0x42ca58=parseFloat(_0x44e4d5[_0x1b7f50(0x6bf)])||0x0;_0x42ca58<0x1?_0x42ca58=_0x42ca58+0.1:_0x42ca58=_0x42ca58+0x1,_0x44e4d5[_0x1b7f50(0x6bf)]=_0x42ca58[_0x1b7f50(0x353)](0x1),_0x22f9f2[_0x1b7f50(0x66e)]=_0x44e4d5[_0x1b7f50(0x6bf)]||0x0,updateCartItem(_0x562fd0,_0x2f379d,'setCantidad',_0x44e4d5[_0x1b7f50(0x6bf)]);},_0xd295bb[_0x2ae3b9(0x52a)](_0x27b396),_0xd295bb[_0x2ae3b9(0x52a)](_0x22f9f2),_0xd295bb[_0x2ae3b9(0x52a)](_0xb3133b),_0x309c57[_0x2ae3b9(0x52a)](_0xd295bb);const _0x452ecf=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x452ecf[_0x2ae3b9(0x1f4)]=''+(parseFloat(_0x44e4d5[_0x2ae3b9(0x6c8)])||0x0)['toFixed'](0x2),_0x452ecf[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x5de),_0x309c57[_0x2ae3b9(0x52a)](_0x452ecf);const _0x4fbd7c=document[_0x2ae3b9(0x242)]('button');_0x4fbd7c[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x223),_0x4fbd7c[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x571);_0x44e4d5[_0x2ae3b9(0x209)]!=''?_0x4fbd7c['onclick']=()=>removeFromCart(_0x562fd0,_0x2f379d,_0x44e4d5[_0x2ae3b9(0x209)]):_0x4fbd7c[_0x2ae3b9(0x594)]=()=>removeFromCart(_0x562fd0,_0x2f379d);_0x309c57[_0x2ae3b9(0x52a)](_0x4fbd7c);const _0x2856d6=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x2856d6[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x664),_0x2856d6[_0x2ae3b9(0x3f6)][_0x2ae3b9(0x685)]=_0x2ae3b9(0x502);const _0x39bda9=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x222));_0x39bda9[_0x2ae3b9(0x66e)]=_0x44e4d5[_0x2ae3b9(0x4f3)]||'',_0x39bda9[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x216),_0x39bda9[_0x2ae3b9(0x6a4)]=_0x2ae3b9(0x4e6),_0x39bda9[_0x2ae3b9(0x6cb)]=0x2,_0x39bda9[_0x2ae3b9(0x662)]=_0x45a45b=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x4f3),_0x45a45b[_0x2ae3b9(0x4df)][_0x2ae3b9(0x66e)]),_0x2856d6[_0x2ae3b9(0x52a)](_0x39bda9);const _0x2dd9b7=document['createElement'](_0x2ae3b9(0x22b));_0x2dd9b7[_0x2ae3b9(0x67c)]='label-cart',_0x2dd9b7[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x4ef),_0x2856d6['appendChild'](_0x2dd9b7);const _0x1992d2=_0x36f4d8,_0x36d56=createElement(_0x2ae3b9(0x39b),{'class':_0x2ae3b9(0x3b4),'events':{'change':_0x504e75=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x64c),_0x504e75['target'][_0x2ae3b9(0x66e)])}},_0x1992d2['map'](_0x484a2c=>createElement(_0x2ae3b9(0x398),{'value':_0x484a2c[_0x2ae3b9(0x64c)],'innerHTML':_0x484a2c[_0x2ae3b9(0x671)]+_0x2ae3b9(0x534)+_0x484a2c[_0x2ae3b9(0x3d4)]}))),_0xc0b4f6=_0x1992d2[_0x2ae3b9(0x6e8)](_0x3a0fe1=>_0x3a0fe1[_0x2ae3b9(0x64c)]==_0x44e4d5[_0x2ae3b9(0x64c)]);!_0xc0b4f6&&_0x1992d2['length']>0x0&&(_0x44e4d5[_0x2ae3b9(0x64c)]=_0x1992d2[0x0][_0x2ae3b9(0x64c)]);_0x36d56['value']=_0x44e4d5[_0x2ae3b9(0x64c)],_0x2856d6[_0x2ae3b9(0x52a)](_0x36d56),_0x5886c9[_0x2ae3b9(0x52a)](_0x2856d6);const _0x434143=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x3a9));_0x434143[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x417),_0x434143['style']['marginRight']=_0x2ae3b9(0x502);const _0x3a6d83=document[_0x2ae3b9(0x242)]('label');_0x3a6d83['className']=_0x2ae3b9(0x217),_0x3a6d83[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x271),_0x434143[_0x2ae3b9(0x52a)](_0x3a6d83);const _0x1bdd35=document['createElement']('input');_0x1bdd35[_0x2ae3b9(0x421)]=_0x2ae3b9(0x476),_0x1bdd35[_0x2ae3b9(0x66e)]=parseFloat(_0x44e4d5[_0x2ae3b9(0x193)])['toFixed'](0x2)||0x0,_0x1bdd35[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x40f),_0x1bdd35[_0x2ae3b9(0x662)]=_0x431dd9=>updateCartItem(_0x562fd0,_0x2f379d,'setMtoPrecioUnitario_input',_0x431dd9[_0x2ae3b9(0x4df)][_0x2ae3b9(0x66e)]),_0x434143[_0x2ae3b9(0x52a)](_0x1bdd35);const _0x5be2cc=document[_0x2ae3b9(0x242)]('label');_0x5be2cc[_0x2ae3b9(0x67c)]='label-cart',_0x5be2cc[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x3f1),_0x434143[_0x2ae3b9(0x52a)](_0x5be2cc);const _0x301069=document[_0x2ae3b9(0x242)]('input');_0x301069[_0x2ae3b9(0x421)]=_0x2ae3b9(0x476),_0x301069[_0x2ae3b9(0x66e)]=_0x44e4d5[_0x2ae3b9(0x1ac)][_0x2ae3b9(0x260)]||0x0,_0x301069[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x1a5),_0x301069['onchange']=_0x4052c0=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x260),_0x4052c0[_0x2ae3b9(0x4df)][_0x2ae3b9(0x66e)]),_0x434143[_0x2ae3b9(0x52a)](_0x301069),_0x5886c9[_0x2ae3b9(0x52a)](_0x434143);const _0x43c1f4=document[_0x2ae3b9(0x242)]('div');_0x43c1f4['className']='div-width-25',_0x43c1f4['style']['marginRight']=_0x2ae3b9(0x2de);const _0x136fab=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x22b));_0x136fab[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x217),_0x136fab['innerHTML']=_0x2ae3b9(0x393),_0x43c1f4[_0x2ae3b9(0x52a)](_0x136fab);const _0xb1575b=document[_0x2ae3b9(0x242)](_0x2ae3b9(0x282));_0xb1575b[_0x2ae3b9(0x421)]=_0x2ae3b9(0x476),_0xb1575b[_0x2ae3b9(0x66e)]=parseFloat(_0x44e4d5[_0x2ae3b9(0x58f)])[_0x2ae3b9(0x353)](0x2)||0x0,_0xb1575b[_0x2ae3b9(0x67c)]=_0x2ae3b9(0x560),_0xb1575b[_0x2ae3b9(0x662)]=_0x19d05b=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x58f),_0x19d05b['target'][_0x2ae3b9(0x66e)]),_0x43c1f4[_0x2ae3b9(0x52a)](_0xb1575b);const _0x4d74b2=document['createElement'](_0x2ae3b9(0x22b));_0x4d74b2[_0x2ae3b9(0x67c)]='label-cart',_0x4d74b2[_0x2ae3b9(0x55e)]=_0x2ae3b9(0x619),_0x43c1f4['appendChild'](_0x4d74b2);const _0x496647=myCompany[_0x2ae3b9(0x6bc)],_0x233fed=createElement(_0x2ae3b9(0x39b),{'class':_0x2ae3b9(0x562),'events':{'change':_0x5bf06e=>updateCartItem(_0x562fd0,_0x2f379d,_0x2ae3b9(0x237),_0x5bf06e['target'][_0x2ae3b9(0x66e)])}},_0x496647['map'](_0x353c0e=>createElement(_0x2ae3b9(0x398),{'value':_0x353c0e[_0x2ae3b9(0x49d)],'innerHTML':_0x353c0e[_0x2ae3b9(0x60d)]+'\x20('+_0x353c0e[_0x2ae3b9(0x436)]+'%)'})));_0x233fed[_0x2ae3b9(0x66e)]=_0x44e4d5[_0x2ae3b9(0x49d)],_0x43c1f4['appendChild'](_0x233fed),_0x5886c9[_0x2ae3b9(0x52a)](_0x43c1f4),_0x3b1c9b[_0x2ae3b9(0x52a)](_0x309c57),_0x3b1c9b[_0x2ae3b9(0x52a)](_0x5886c9),_0x3529d1[_0x2ae3b9(0x52a)](_0x3b1c9b);});const _0x2ba64e=getCurrencySymbol(_0x562fd0);_0x4eb071[_0x4d909c(0x55e)]='<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-'+_0x562fd0+'\x22\x20value=\x22'+(parseFloat(_0x4a601e)||0x0)['toFixed'](0x2)+_0x4d909c(0x5c3),_0x19382c['textContent']=_0x2ba64e+'\x20'+(parseFloat(_0x28c331)||0x0)[_0x4d909c(0x353)](0x2),_0x593c06[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x477fa9)||0x0)[_0x4d909c(0x353)](0x2),_0x37add1[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x5e50bd)||0x0)[_0x4d909c(0x353)](0x2),_0x441124[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x400b0c)||0x0)[_0x4d909c(0x353)](0x2),_0x3793c6['textContent']=_0x2ba64e+'\x20'+(parseFloat(_0x291bae)||0x0)[_0x4d909c(0x353)](0x2),_0x284fe9[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x22be42)||0x0)[_0x4d909c(0x353)](0x2),_0x36206c[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x2b0d7d)||0x0)[_0x4d909c(0x353)](0x2),_0x7d7587[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x9d1700)||0x0)[_0x4d909c(0x353)](0x2),_0x4f34b4[_0x4d909c(0x1f4)]=_0x2ba64e+'\x20'+(parseFloat(_0x59ff5d)||0x0)[_0x4d909c(0x353)](0x2);}function addToCart(_0x4bf96e,_0x268c04=null,_0x2a495a=0x0,_0x9c452a=0x0){const _0x3cde9c=_0x3df022;let _0x50ec36;_0x9c452a!=0x0?_0x50ec36=_0x9c452a:_0x50ec36=document['getElementById'](_0x3cde9c(0x303))[_0x3cde9c(0x66e)];if(_0x50ec36<=0x0){ntfShow(_0x3cde9c(0x3b7));return;}if(!carts[_0x50ec36])carts[_0x50ec36]=[];const _0x160f93=carts[_0x50ec36],_0x5226e4=document[_0x3cde9c(0x57b)]('setBranchId')[_0x3cde9c(0x66e)],_0x1ff493=myCompany['setShifts'],_0xd58625=_0x1ff493[_0x3cde9c(0x2d3)](_0x5460c9=>_0x5460c9[_0x3cde9c(0x667)]==_0x5226e4&&_0x5460c9[_0x3cde9c(0x361)]=='1'),_0x4203f2=getUserPermissionApiERP(0xf);if(!_0xd58625&&_0x4203f2==0x1){updateShiftDisplay();return;}const _0x474053=getUserPermissionApiERP(0x1);if(_0x4bf96e[_0x3cde9c(0x4d3)]==0x1&&window_options[_0x50ec36]['setAttachEdit']!=0x2&&_0x2a495a==0x0&&_0x4bf96e['setItemFree']!=0x1){const _0x2a04b6=_0x4bf96e[_0x3cde9c(0x403)];if(_0x2a04b6){const _0x11c526=new Date(_0x2a04b6),_0x5e9141=new Date();_0x5e9141[_0x3cde9c(0x452)](0x0,0x0,0x0,0x0);if(_0x11c526<_0x5e9141){ntfShow(_0x3cde9c(0x485),0x2,0x2);return;}}if(setTipOpeSales[_0x3cde9c(0x6e8)](_0x20b142=>_0x20b142==window_options[_0x50ec36][_0x3cde9c(0x431)])&&_0x474053==0x0){const _0x3f0273=document[_0x3cde9c(0x57b)](_0x3cde9c(0x2fd))[_0x3cde9c(0x66e)],_0xf7aab6=_0x4bf96e[_0x3cde9c(0x27a)][_0x3cde9c(0x2d3)](_0x5e24fd=>String(_0x5e24fd[_0x3cde9c(0x32b)])==_0x3f0273),_0xccd724=_0xf7aab6?parseFloat(_0xf7aab6[_0x3cde9c(0x5fe)]):0x0;if(_0xccd724<=0x0){ntfShow('El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.',0x2,0x2);return;}const _0x16af5f=_0x4bf96e['setIdProducto'],_0x2a746e=parseFloat(_0x4bf96e[_0x3cde9c(0x460)])||0x1,_0x38eb5a=_0x268c04?parseFloat(_0x268c04['setValorCantidad'])||0x1:0x1;let _0x399301=_0x160f93['reduce']((_0x16e6d8,_0x29550f)=>{const _0x1a9bd5=_0x3cde9c,_0xd0cdfe=products[_0x1a9bd5(0x2d3)](_0x309224=>_0x309224['id']==_0x29550f['setIdProducto']);if(!_0xd0cdfe||_0xd0cdfe[_0x1a9bd5(0x35a)]!=_0x16af5f)return _0x16e6d8;const _0x3245f1=parseFloat(_0xd0cdfe[_0x1a9bd5(0x460)])||0x1;return _0x16e6d8+(parseFloat(_0x29550f[_0x1a9bd5(0x6bf)])||0x0)*_0x3245f1;},0x0);const _0x96185a=_0x399301+_0x38eb5a*_0x2a746e;console[_0x3cde9c(0x189)]('[addToCart]',{'masterId':_0x16af5f,'stock':_0xccd724,'totalExistingBase':_0x399301,'addFactor':_0x2a746e,'qtyToAdd':_0x38eb5a,'totalInBase':_0x96185a});if(_0x96185a>_0xccd724){ntfShow(_0x3cde9c(0x4f9),0x2,0x2);return;}}}let _0x4282a6,_0x38f26e;setTipOpeOrders[_0x3cde9c(0x6e8)](_0x4ffc81=>_0x4ffc81==window_options[_0x50ec36][_0x3cde9c(0x431)])||setTipOpeSales[_0x3cde9c(0x6e8)](_0x13166b=>_0x13166b==window_options[_0x50ec36]['setTipoOperacion'])||setTipOpeQuotation[_0x3cde9c(0x6e8)](_0x5c411a=>_0x5c411a==window_options[_0x50ec36][_0x3cde9c(0x431)])?(_0x4282a6=myCompany['setAccountingAccounts'][_0x3cde9c(0x674)](_0x1c48cd=>_0x1c48cd[_0x3cde9c(0x1fc)]==0x1),_0x38f26e=0x2):(_0x4282a6=myCompany['setAccountingAccounts'][_0x3cde9c(0x674)](_0x9c9b9a=>_0x9c9b9a[_0x3cde9c(0x1fc)]==0x2),_0x38f26e=0x1);const _0x469f8b=_0x4282a6[0x0]||{},_0x95c2dd=_0x469f8b['setAccountingAccountId']||'',_0x4c85b9=_0x469f8b[_0x3cde9c(0x671)]||'',_0x33f4a4=_0x469f8b['setAccountingAccountName']||'',_0x16d5cf=_0x469f8b[_0x3cde9c(0x1fc)]||'';let _0x59a915=0x1,_0x489029=0x0,_0x57209a=0x0,_0x8ca569=_0x4bf96e[_0x3cde9c(0x49d)],_0x58faf3=myCompany[_0x3cde9c(0x6bc)][_0x3cde9c(0x2d3)](_0x9b1c4d=>_0x9b1c4d[_0x3cde9c(0x49d)]==_0x8ca569)?.[_0x3cde9c(0x2a3)],_0xb81606=0x0,_0x557990=0x0,_0x5ef51d=0x0,_0x13c18e=0x0,_0x2b6a2a=0x0,_0x3422c0=_0x4bf96e[_0x3cde9c(0x4f3)]??'';const _0x2670e8=document[_0x3cde9c(0x57b)](_0x3cde9c(0x4a2)+_0x50ec36)[_0x3cde9c(0x66e)],_0x2e9e8b=_0x4bf96e[_0x3cde9c(0x50d)]['find'](_0x402b25=>_0x402b25[_0x3cde9c(0x4a9)]==_0x2670e8)||{};_0x38f26e==0x1?(_0x489029=_0x2e9e8b[_0x3cde9c(0x327)]||0x0,_0x57209a=_0x2e9e8b[_0x3cde9c(0x1a9)]||0x0):(_0x489029=_0x2e9e8b['setMtoValorUnitario']||0x0,_0x57209a=_0x2e9e8b['setMtoPrecioUnitario']||0x0);_0x557990=_0x2e9e8b[_0x3cde9c(0x3a5)]||0x0,_0x5ef51d=_0x2e9e8b['setMtoPrecioCostoUnitario']||0x0,_0x13c18e=_0x2e9e8b[_0x3cde9c(0x648)]||0x0,_0x2b6a2a=_0x2e9e8b[_0x3cde9c(0x327)]||0x0;let _0x3261db=generateUniqId(),_0x4f32d6='',_0x8142d6='';_0x268c04&&(_0x59a915=_0x268c04[_0x3cde9c(0x3ce)]??_0x59a915,_0x489029=0x0,_0x57209a=_0x268c04[_0x3cde9c(0x22f)],_0x8ca569=_0x268c04['setTaxId'],_0x58faf3=_0x268c04[_0x3cde9c(0x237)],_0xb81606=_0x268c04[_0x3cde9c(0x260)],_0x557990=_0x268c04[_0x3cde9c(0x193)]??_0x557990,_0x5ef51d=_0x268c04['setMtoPrecioCostoUnitario_input']??_0x5ef51d,_0x13c18e=0x0,_0x2b6a2a=0x0,_0x3422c0=_0x268c04[_0x3cde9c(0x4f3)],_0x3261db=_0x268c04[_0x3cde9c(0x36a)]??_0x3261db,_0x4f32d6=_0x268c04[_0x3cde9c(0x33d)]??'',_0x8142d6=_0x268c04[_0x3cde9c(0x209)]??'');const _0x19869d=getUserPermissionApiERP(0x4),{currentWindowShift:_0x327da2}=getValidatedWindowAndShift(_0x50ec36)||{},_0x3a7e45=_0x327da2||_0x19869d==0x1?![]:_0x160f93[_0x3cde9c(0x2d3)](_0x53c4ca=>_0x53c4ca['setIdProducto']==_0x4bf96e['id']),_0x34c4e3=[{'valorUnit':_0x3a7e45?_0x3a7e45[_0x3cde9c(0x6ff)]:_0x489029,'precioUnit':_0x3a7e45?_0x3a7e45[_0x3cde9c(0x22f)]:_0x57209a,'valorCantidad':_0x3a7e45?_0x3a7e45['setCantidad']+0x1:_0x59a915,'valorPorcentajeIgv':_0x3a7e45?_0x3a7e45[_0x3cde9c(0x5b7)]:myCompany[_0x3cde9c(0x6bc)]['find'](_0x4c076f=>_0x4c076f['setTaxId']==_0x8ca569)['setImpuestoValue'],'setTipAfeIgv':_0x58faf3,'setDescuento':{'setCodTipo':_0x3a7e45?.[_0x3cde9c(0x1ac)]?.['setCodTipo']||'00','setPorcentajeDesc':_0x3a7e45?.[_0x3cde9c(0x1ac)]?.[_0x3cde9c(0x260)]||_0xb81606}}],{setInvoiceDetails:_0x1a4571}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x3cde9c(0x6bc)]['find'](_0xab5fc1=>_0xab5fc1[_0x3cde9c(0x49d)]==_0x8ca569)[_0x3cde9c(0x436)],'items':_0x34c4e3,'descuentoGlobalMonto':0x0}),_0x5baf3d=_0x1a4571[0x0];_0x3a7e45?(_0x3a7e45[_0x3cde9c(0x6bf)]++,Object[_0x3cde9c(0x434)](_0x3a7e45,{'setMtoValorUnitario':_0x5baf3d[_0x3cde9c(0x648)],'setMtoValorGratuito':_0x5baf3d[_0x3cde9c(0x600)],'setMtoValorVenta':_0x5baf3d[_0x3cde9c(0x239)],'setMtoBaseIgv':_0x5baf3d['setMtoBaseIgv'],'setPorcentajeIgv':_0x5baf3d['setPorcentajeIgv'],'setIgv':_0x5baf3d[_0x3cde9c(0x280)],'setTotalImpuestos':_0x5baf3d['setTotalImpuestos'],'setMtoPrecioUnitario':_0x5baf3d[_0x3cde9c(0x3a5)],'setTotal':parseFloat(_0x5baf3d[_0x3cde9c(0x3a5)])*parseFloat(_0x3a7e45['setCantidad']),'setMtoPrecioUnitario_final':_0x5baf3d[_0x3cde9c(0x22f)],'setMtoValorUnitario_final':_0x5baf3d[_0x3cde9c(0x6ff)],'setMtoPrecioUnitario_input':_0x38f26e==0x1?_0x557990:parseFloat(_0x5baf3d[_0x3cde9c(0x22f)])[_0x3cde9c(0x353)](0x2),'setMtoPrecioCostoUnitario_input':_0x38f26e==0x1?parseFloat(_0x5baf3d[_0x3cde9c(0x22f)])[_0x3cde9c(0x353)](0x2):_0x5ef51d,'setMtoValorUnitario_input':_0x38f26e==0x1?_0x13c18e:parseFloat(_0x5baf3d[_0x3cde9c(0x6ff)])['toFixed'](0x2),'setMtoValorCostoUnitario_input':_0x38f26e==0x1?parseFloat(_0x5baf3d['setMtoValorUnitario_final'])['toFixed'](0x2):_0x2b6a2a})):_0x160f93[_0x3cde9c(0x2a6)]({'cartId':_0x3261db,'setIdProducto':_0x4bf96e['id'],'setCodProducto':_0x4bf96e[_0x3cde9c(0x277)],'setDescripcion':_0x4bf96e[_0x3cde9c(0x5c0)],'setItemDescription':_0x4bf96e[_0x3cde9c(0x2c6)],'setUnidad':_0x4bf96e[_0x3cde9c(0x3a7)],'setInventariable':_0x4bf96e['setInventariable'],'setMarca':_0x4bf96e[_0x3cde9c(0x4ed)],'setCantidad':_0x59a915,'setMtoValorUnitario':_0x5baf3d[_0x3cde9c(0x648)],'setMtoValorGratuito':_0x5baf3d[_0x3cde9c(0x600)],'setMtoValorVenta':_0x5baf3d[_0x3cde9c(0x239)],'setMtoBaseIgv':_0x5baf3d[_0x3cde9c(0x5b2)],'setPorcentajeIgv':_0x5baf3d['setPorcentajeIgv'],'setIgv':_0x5baf3d['setIgv'],'setTotalImpuestos':_0x5baf3d[_0x3cde9c(0x1e9)],'setMtoPrecioUnitario':_0x5baf3d['setMtoPrecioUnitario'],'setTotal':parseFloat(_0x5baf3d[_0x3cde9c(0x3a5)])*parseFloat(_0x59a915),'setMtoPrecioUnitario_final':_0x5baf3d[_0x3cde9c(0x22f)],'setMtoValorUnitario_final':_0x5baf3d[_0x3cde9c(0x6ff)],'setTaxId':_0x8ca569,'setTipAfeIgv':_0x58faf3,'setMtoPrecioUnitario_input':_0x38f26e==0x1?_0x557990:parseFloat(_0x5baf3d['setMtoPrecioUnitario_final'])[_0x3cde9c(0x353)](0x2),'setMtoPrecioCostoUnitario_input':_0x38f26e==0x1?parseFloat(_0x5baf3d[_0x3cde9c(0x22f)])[_0x3cde9c(0x353)](0x2):_0x5ef51d,'setMtoValorUnitario_input':_0x38f26e==0x1?_0x13c18e:parseFloat(_0x5baf3d[_0x3cde9c(0x6ff)])[_0x3cde9c(0x353)](0x2),'setMtoValorCostoUnitario_input':_0x38f26e==0x1?parseFloat(_0x5baf3d[_0x3cde9c(0x6ff)])[_0x3cde9c(0x353)](0x2):_0x2b6a2a,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0xb81606},'setVisible':0x0,'setNotas':_0x3422c0,'setChecked':0x1,'setWindowShiftId':_0x4f32d6,'setOrderId':_0x8142d6,'setAccountingAccountId':_0x95c2dd,'setAccountingAccountCode':_0x4c85b9,'setAccountingAccountName':_0x33f4a4,'setAccountingAccountType':_0x16d5cf,'setItemFree':_0x4bf96e['setItemFree']??0x0}),saveCart(_0x50ec36)[_0x3cde9c(0x2db)](()=>{const _0x4e125a=_0x3cde9c;renderCart(_0x50ec36);if(isMobile()){const _0x2c4bf9=getUserPermissionApiERP(0x11);_0x2c4bf9==0x1&&showRightSection(),_0x2a495a==0x0&&ntfShow(_0x4e125a(0x2f5),0x1,0x2);}})[_0x3cde9c(0x215)](_0x2fc6be=>{const _0x5e85fa=_0x3cde9c;console['error'](_0x5e85fa(0x4e0),_0x2fc6be);});}function calcFinalPrice(_0x632990,_0x5f2465,_0x161784){switch(_0x5f2465){case 0x1:return _0x632990*(0x1-_0x161784/0x64);case 0x2:return _0x632990*(0x1+_0x161784/0x64);case 0x3:return _0x632990-_0x161784;case 0x4:return _0x632990+_0x161784;case 0x5:return _0x161784;default:return _0x632990;}}function updateCartItem(_0x749a84,_0x5cbf4d,_0x341aa5,_0x37c175){const _0x15043d=_0x3df022;let _0x54c435=_0x37c175;[_0x15043d(0x6bf),_0x15043d(0x648),'setMtoPrecioUnitario_input','setMtoPrecioCostoUnitario_input',_0x15043d(0x260),'setChecked']['includes'](_0x341aa5)&&(_0x54c435=parseFloat(_0x54c435));const _0x2355c9=carts[_0x749a84];if(!_0x2355c9||!_0x2355c9[_0x5cbf4d]){console['error'](_0x15043d(0x53c)+_0x749a84);return;}if(setTipOpeSales['some'](_0x2d4579=>_0x2d4579==window_options[_0x749a84][_0x15043d(0x431)])){const _0x5d8d29=getUserPermissionApiERP(0x1),_0x3fe895=_0x2355c9[_0x5cbf4d];if(_0x5d8d29==0x0&&_0x3fe895['setInventariable']==0x1&&window_options[_0x749a84][_0x15043d(0x2f1)]!=0x2&&_0x3fe895['setItemFree']!=0x1){const _0x2f5b02=products[_0x15043d(0x2d3)](_0x4b3425=>_0x4b3425['id']==_0x3fe895[_0x15043d(0x35a)]),_0x20cb58=_0x2f5b02[_0x15043d(0x35a)],_0x2a4df8=document['getElementById'](_0x15043d(0x2fd))['value'],_0x13ee77=_0x2f5b02['sucursales'][_0x15043d(0x2d3)](_0x3bf854=>String(_0x3bf854[_0x15043d(0x32b)])==_0x2a4df8),_0x437932=_0x13ee77?parseFloat(_0x13ee77[_0x15043d(0x5fe)]):0x0,_0x21df8a=parseFloat(_0x2f5b02[_0x15043d(0x460)])||0x1;let _0x4c9d0e=_0x2355c9[_0x15043d(0x6a5)]((_0x5cc865,_0x31c12e)=>{const _0x40ab10=_0x15043d,_0x1e80fc=products[_0x40ab10(0x2d3)](_0x4c94b6=>_0x4c94b6['id']==_0x31c12e['setIdProducto']);if(!_0x1e80fc||_0x1e80fc[_0x40ab10(0x35a)]!=_0x20cb58)return _0x5cc865;const _0x348224=parseFloat(_0x1e80fc[_0x40ab10(0x460)])||0x1;return _0x5cc865+(parseFloat(_0x31c12e[_0x40ab10(0x6bf)])||0x0)*_0x348224;},0x0),_0x4841d5=_0x4c9d0e;if(_0x341aa5==_0x15043d(0x6bf)){const _0x1b4fb8=parseFloat(_0x3fe895['setCantidad'])||0x0;_0x4841d5=_0x4c9d0e-_0x1b4fb8*_0x21df8a+_0x54c435*_0x21df8a;}console[_0x15043d(0x189)](_0x15043d(0x3c4),{'masterId':_0x20cb58,'stock':_0x437932,'totalExistingBase':_0x4c9d0e,'oldFactor':_0x21df8a,'oldCantidad':_0x3fe895[_0x15043d(0x6bf)],'new_value':_0x54c435,'totalInBase':_0x4841d5});if(_0x341aa5=='setCantidad'&&_0x4841d5>_0x437932){let _0x4db6c4=_0x2355c9[_0x15043d(0x6a5)]((_0x6548eb,_0x5df4aa,_0xfd648d)=>{const _0x2b33c2=_0x15043d;if(_0xfd648d===_0x5cbf4d)return _0x6548eb;const _0x381230=products[_0x2b33c2(0x2d3)](_0x319a55=>_0x319a55['id']==_0x5df4aa[_0x2b33c2(0x35a)]);if(!_0x381230||_0x381230[_0x2b33c2(0x35a)]!=_0x20cb58)return _0x6548eb;const _0x5626a=parseFloat(_0x381230['setConversionFactor'])||0x1;return _0x6548eb+(parseFloat(_0x5df4aa[_0x2b33c2(0x6bf)])||0x0)*_0x5626a;},0x0);const _0x139457=Math['max'](_0x437932-_0x4db6c4,0x0),_0x82f035=_0x139457/_0x21df8a;console['log'](_0x15043d(0x3ff),{'availableInBase':_0x139457,'maxQty':_0x82f035}),ntfShow(_0x15043d(0x5e7)+_0x139457[_0x15043d(0x353)](0x0)+_0x15043d(0x39a)+(_0x15043d(0x31f)+_0x82f035[_0x15043d(0x353)](0x2)+_0x15043d(0x2e1))+_0x15043d(0x3dd)),_0x54c435=_0x82f035;}if(_0x437932<=0x0){ntfShow(_0x15043d(0x51f));return;}}}if(_0x341aa5==_0x15043d(0x237)){_0x2355c9[_0x5cbf4d][_0x15043d(0x49d)]=_0x54c435;const _0x139194=_0x54c435,_0x52a762=myCompany[_0x15043d(0x6bc)][_0x15043d(0x2d3)](_0x2685c8=>_0x2685c8[_0x15043d(0x49d)]==_0x139194),_0x2781df=_0x52a762?_0x52a762[_0x15043d(0x2a3)]:'',_0x1e3126=_0x52a762?_0x52a762['setImpuestoValue']:'';_0x2355c9[_0x5cbf4d]['setTipAfeIgv']=_0x2781df,_0x2355c9[_0x5cbf4d][_0x15043d(0x5b7)]=_0x1e3126;}else{if(_0x341aa5==_0x15043d(0x70f))_0x2355c9[_0x5cbf4d][_0x15043d(0x70f)]=_0x2355c9[_0x5cbf4d][_0x15043d(0x70f)]?0x0:0x1;else _0x341aa5==_0x15043d(0x260)?(_0x2355c9[_0x5cbf4d]['setDescuento']['setCodTipo']='00',_0x2355c9[_0x5cbf4d][_0x15043d(0x1ac)][_0x15043d(0x260)]=_0x54c435):_0x2355c9[_0x5cbf4d][_0x341aa5]=_0x54c435;}if(_0x341aa5==_0x15043d(0x64c)){const _0x355882=myCompany['setAccountingAccounts'][_0x15043d(0x2d3)](_0x445227=>_0x445227[_0x15043d(0x64c)]==_0x54c435);_0x2355c9[_0x5cbf4d]['setAccountingAccountCode']=_0x355882?_0x355882[_0x15043d(0x671)]:'',_0x2355c9[_0x5cbf4d][_0x15043d(0x3d4)]=_0x355882?_0x355882[_0x15043d(0x3d4)]:'',_0x2355c9[_0x5cbf4d][_0x15043d(0x1fc)]=_0x355882?_0x355882[_0x15043d(0x1fc)]:'';}_0x341aa5==_0x15043d(0x193)&&(_0x2355c9[_0x5cbf4d][_0x15043d(0x1ca)]=0x0);_0x341aa5==_0x15043d(0x58f)&&(_0x2355c9[_0x5cbf4d][_0x15043d(0x3fb)]=0x0);let _0x4ae537;if(setTipOpeOrders['some'](_0x46d80c=>_0x46d80c==window_options[_0x749a84][_0x15043d(0x431)])||setTipOpeSales[_0x15043d(0x6e8)](_0x198efe=>_0x198efe==window_options[_0x749a84][_0x15043d(0x431)])||setTipOpeQuotation['some'](_0x5b5d58=>_0x5b5d58==window_options[_0x749a84]['setTipoOperacion'])){_0x4ae537=0x2;if(_0x341aa5=='setCantidad'){const _0x350952=document[_0x15043d(0x57b)]('setMoneda-'+_0x749a84)[_0x15043d(0x66e)],_0x5469da=products['find'](_0x19020d=>_0x19020d['id']==_0x2355c9[_0x5cbf4d][_0x15043d(0x35a)]),_0x679175=_0x5469da[_0x15043d(0x50d)][_0x15043d(0x2d3)](_0x26c6ae=>_0x26c6ae['currency']==_0x350952)||{},_0x5ba1f2=_0x679175[_0x15043d(0x3a5)]||0x0,_0x3f61b3=_0x679175['setPriceLists']||[],_0x2e3b28=_0x2355c9[_0x5cbf4d][_0x15043d(0x6bf)],_0x1f8be6=_0x3f61b3['filter'](_0x2b6cad=>_0x2b6cad[_0x15043d(0x168)]==0x2),_0x4b0a2b=_0x1f8be6[_0x15043d(0x2d3)](_0x56b990=>_0x2e3b28>=_0x56b990[_0x15043d(0x42a)]&&_0x2e3b28<=_0x56b990['setPriceListRangeEnd']);if(_0x1f8be6[_0x15043d(0x527)]>0x0){let _0x5a720a;_0x4b0a2b?_0x5a720a=calcFinalPrice(_0x5ba1f2,_0x4b0a2b[_0x15043d(0x443)],_0x4b0a2b[_0x15043d(0x508)]):_0x5a720a=_0x5ba1f2,_0x2355c9[_0x5cbf4d]['setMtoPrecioUnitario_input']=_0x5a720a,_0x2355c9[_0x5cbf4d]['setMtoValorUnitario_input']=0x0;}}}else _0x4ae537=0x1;_0x4ae537==0x1?_0x2355c9[_0x5cbf4d][_0x15043d(0x22f)]=_0x2355c9[_0x5cbf4d]['setMtoPrecioCostoUnitario_input']:_0x2355c9[_0x5cbf4d][_0x15043d(0x22f)]=_0x2355c9[_0x5cbf4d][_0x15043d(0x193)];const _0x32fc53=[{'valorUnit':0x0,'precioUnit':_0x2355c9[_0x5cbf4d][_0x15043d(0x22f)],'valorCantidad':_0x2355c9[_0x5cbf4d][_0x15043d(0x6bf)],'valorPorcentajeIgv':_0x2355c9[_0x5cbf4d][_0x15043d(0x5b7)],'setTipAfeIgv':_0x2355c9[_0x5cbf4d][_0x15043d(0x237)],'setDescuento':{'setCodTipo':_0x2355c9[_0x5cbf4d][_0x15043d(0x1ac)]['setCodTipo'],'setPorcentajeDesc':_0x2355c9[_0x5cbf4d][_0x15043d(0x1ac)][_0x15043d(0x260)]}}],{setInvoiceDetails:_0x1e74d1}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x15043d(0x6bc)]['find'](_0x3d1a2a=>_0x3d1a2a[_0x15043d(0x49d)]==_0x2355c9[_0x5cbf4d]['setTaxId'])[_0x15043d(0x436)],'items':_0x32fc53,'descuentoGlobalMonto':0x0}),_0x2fc023=_0x1e74d1[0x0];_0x2355c9[_0x5cbf4d][_0x15043d(0x648)]=_0x2fc023[_0x15043d(0x648)],_0x2355c9[_0x5cbf4d]['setMtoValorGratuito']=_0x2fc023[_0x15043d(0x600)],_0x2355c9[_0x5cbf4d]['setMtoValorVenta']=_0x2fc023[_0x15043d(0x239)],_0x2355c9[_0x5cbf4d][_0x15043d(0x5b2)]=_0x2fc023[_0x15043d(0x5b2)],_0x2355c9[_0x5cbf4d][_0x15043d(0x5b7)]=_0x2fc023[_0x15043d(0x5b7)],_0x2355c9[_0x5cbf4d][_0x15043d(0x280)]=_0x2fc023[_0x15043d(0x280)],_0x2355c9[_0x5cbf4d]['setTipAfeIgv']=_0x2fc023[_0x15043d(0x237)],_0x2355c9[_0x5cbf4d][_0x15043d(0x1e9)]=_0x2fc023[_0x15043d(0x1e9)],_0x2355c9[_0x5cbf4d]['setMtoPrecioUnitario']=_0x2fc023[_0x15043d(0x3a5)],_0x2355c9[_0x5cbf4d][_0x15043d(0x22f)]=_0x2fc023[_0x15043d(0x22f)],_0x2355c9[_0x5cbf4d][_0x15043d(0x6ff)]=_0x2fc023[_0x15043d(0x6ff)],_0x2355c9[_0x5cbf4d][_0x15043d(0x193)]=_0x4ae537==0x1?_0x2355c9[_0x5cbf4d][_0x15043d(0x193)]:_0x2fc023['setMtoPrecioUnitario_final'],_0x2355c9[_0x5cbf4d]['setMtoPrecioCostoUnitario_input']=_0x4ae537==0x1?_0x2fc023[_0x15043d(0x22f)]:_0x2355c9[_0x5cbf4d][_0x15043d(0x58f)],_0x2355c9[_0x5cbf4d][_0x15043d(0x1ca)]=_0x4ae537==0x1?_0x2355c9[_0x5cbf4d][_0x15043d(0x1ca)]:_0x2fc023['setMtoValorUnitario_final'],_0x2355c9[_0x5cbf4d][_0x15043d(0x3fb)]=_0x4ae537==0x1?_0x2fc023[_0x15043d(0x6ff)]:_0x2355c9[_0x5cbf4d][_0x15043d(0x3fb)],_0x2355c9[_0x5cbf4d][_0x15043d(0x38c)]=_0x2fc023[_0x15043d(0x38c)],_0x2355c9[_0x5cbf4d][_0x15043d(0x6f0)]=_0x2fc023['setDescuento_setMontoBase'],_0x2355c9[_0x5cbf4d]['setDescuento_setFactor']=_0x2fc023[_0x15043d(0x54b)],_0x2355c9[_0x5cbf4d][_0x15043d(0x6da)]=_0x2fc023[_0x15043d(0x6da)],_0x2355c9[_0x5cbf4d][_0x15043d(0x54f)]=_0x2fc023[_0x15043d(0x54f)],_0x2355c9[_0x5cbf4d]['setPorcentajeDesc']=_0x2fc023[_0x15043d(0x260)],_0x2355c9[_0x5cbf4d][_0x15043d(0x6c8)]=_0x2fc023[_0x15043d(0x6c8)],saveCart(_0x749a84)[_0x15043d(0x2db)](()=>{renderCart(_0x749a84),console['log']('Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20'+_0x749a84);})[_0x15043d(0x215)](_0x3e1cfe=>{console['error']('Error\x20al\x20guardar\x20array',_0x3e1cfe);});}async function saveCart(_0x1a721a){return new Promise((_0x1c0e7a,_0x5c85f6)=>{const _0x3b2ec5=_0xe3e9;try{const _0x5b8dc5=carts[_0x1a721a]||[],_0x2d9787='cart_'+_0x1a721a;if(_0x5b8dc5[_0x3b2ec5(0x527)]===0x0){const _0x2422a9=db[_0x3b2ec5(0x247)]([_0x2d9787],'readwrite'),_0x347686=_0x2422a9[_0x3b2ec5(0x2a1)](_0x2d9787),_0x32e6c4=_0x347686[_0x3b2ec5(0x1e4)]();_0x32e6c4[_0x3b2ec5(0x581)]=async()=>{const _0x2e3625=_0x3b2ec5,_0x5de5a9=myCompany[_0x2e3625(0x2eb)]['find'](_0x19796f=>_0x19796f['setWindowId']==_0x1a721a);_0x5de5a9['setUserId']=myCompany[_0x2e3625(0x533)]['setUserId'],_0x5de5a9[_0x2e3625(0x633)]=[],_0x5de5a9['setLastDateUpdateCartTmp']=nowWithMillisecondsForServer();try{const _0xc37f7f=await createCartStore('');await saveCompanyToIndexedDB(company,_0xc37f7f),apiERPsyncWindowsCartTmp(),_0x1c0e7a();}catch(_0x139a49){console[_0x2e3625(0x708)]('Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:',_0x139a49),_0x5c85f6(_0x139a49);}},_0x32e6c4[_0x3b2ec5(0x24f)]=_0x3275ef=>{const _0x28fb9e=_0x3b2ec5;console['error']('Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:',_0x3275ef[_0x28fb9e(0x4df)][_0x28fb9e(0x708)]),_0x5c85f6(_0x3275ef['target']['error']);},_0x2422a9[_0x3b2ec5(0x24f)]=_0x4b2a85=>{const _0x2becc8=_0x3b2ec5;console[_0x2becc8(0x708)](_0x2becc8(0x613),_0x4b2a85[_0x2becc8(0x4df)][_0x2becc8(0x708)]),_0x5c85f6(_0x4b2a85[_0x2becc8(0x4df)][_0x2becc8(0x708)]);};return;}const _0x148169=db[_0x3b2ec5(0x247)]([_0x2d9787],'readwrite'),_0xc72ecc=_0x148169[_0x3b2ec5(0x2a1)](_0x2d9787);let _0x330ad4=0x0;_0x5b8dc5[_0x3b2ec5(0x492)]((_0x448575,_0x2b3af3)=>{const _0x1adcb8=_0x3b2ec5,_0x48a0fd=_0xc72ecc[_0x1adcb8(0x289)](_0x1adcb8(0x36a)),_0x5a3269=_0x48a0fd[_0x1adcb8(0x456)](_0x448575[_0x1adcb8(0x36a)]);_0x5a3269[_0x1adcb8(0x581)]=async()=>{const _0x1b7fc7=_0x1adcb8;if(_0x5a3269['result']){const _0x448d5b={..._0x5a3269[_0x1b7fc7(0x1b8)],..._0x448575},_0x4af6bf=_0xc72ecc['put'](_0x448d5b);_0x4af6bf[_0x1b7fc7(0x581)]=async()=>{const _0x53e809=_0x1b7fc7;_0x5b8dc5[_0x2b3af3]['id']=_0x448d5b['id'],_0x330ad4++;if(_0x330ad4==_0x5b8dc5[_0x53e809(0x527)]){const _0x3e913e=myCompany['setWindows'][_0x53e809(0x2d3)](_0x27e23b=>_0x27e23b[_0x53e809(0x36c)]==_0x1a721a);_0x3e913e[_0x53e809(0x206)]=myCompany['setUser_Local'][_0x53e809(0x206)],_0x3e913e['setCartTmp']=_0x5b8dc5,_0x3e913e['setLastDateUpdateCartTmp']=nowWithMillisecondsForServer();const _0x101960=await createCartStore('');await saveCompanyToIndexedDB(company,_0x101960),apiERPsyncWindowsCartTmp(),_0x1c0e7a();}};}else{const _0x188a4d=_0xc72ecc[_0x1b7fc7(0x5d7)](_0x448575);_0x188a4d['onsuccess']=async _0x51727d=>{const _0x454fdd=_0x1b7fc7,_0x46c94b=_0x51727d['target'][_0x454fdd(0x1b8)];_0x5b8dc5[_0x2b3af3]['id']=_0x46c94b,_0x330ad4++;if(_0x330ad4==_0x5b8dc5[_0x454fdd(0x527)]){const _0x103d49=myCompany[_0x454fdd(0x2eb)][_0x454fdd(0x2d3)](_0x1b0b7c=>_0x1b0b7c[_0x454fdd(0x36c)]==_0x1a721a);_0x103d49[_0x454fdd(0x206)]=myCompany[_0x454fdd(0x533)][_0x454fdd(0x206)],_0x103d49[_0x454fdd(0x633)]=_0x5b8dc5,_0x103d49[_0x454fdd(0x4fb)]=nowWithMillisecondsForServer();const _0x2bfd9b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2bfd9b),apiERPsyncWindowsCartTmp(),_0x1c0e7a();}};}},_0x5a3269['onerror']=_0x166252=>{const _0x191820=_0x1adcb8;console[_0x191820(0x708)](_0x191820(0x2e6)+_0x448575[_0x191820(0x35a)]+':',_0x166252[_0x191820(0x4df)][_0x191820(0x708)]),_0x5c85f6(_0x166252['target'][_0x191820(0x708)]);};}),_0x148169[_0x3b2ec5(0x1fe)]=function(){const _0x537ff2=_0x3b2ec5;console[_0x537ff2(0x189)](_0x537ff2(0x198)+_0x1a721a,_0x5b8dc5);},_0x148169[_0x3b2ec5(0x24f)]=function(_0x404583){const _0x56ec9e=_0x3b2ec5;console['error'](_0x56ec9e(0x46e),_0x404583[_0x56ec9e(0x4df)]['error']),_0x5c85f6(_0x404583[_0x56ec9e(0x4df)][_0x56ec9e(0x708)]);};}catch(_0x4ea74a){_0x5c85f6(_0x4ea74a);}});}async function removeFromCart(_0x15b72c,_0x3b795a,_0x425060=''){const _0x4e0ecc=_0x3df022,_0x312002=carts[_0x15b72c],_0x972ae8=_0x312002[_0x3b795a];if(_0x425060!=''){const _0x623dd4=_0x972ae8[_0x4e0ecc(0x33d)],_0x33045c=myCompany[_0x4e0ecc(0x2eb)][_0x4e0ecc(0x2d3)](_0x1ab9e6=>_0x1ab9e6[_0x4e0ecc(0x36c)]==_0x15b72c);if(_0x33045c&&_0x33045c['setShifts']){const _0x44e9c0=_0x33045c['setShifts'][_0x4e0ecc(0x2d3)](_0xffadac=>_0xffadac[_0x4e0ecc(0x1a3)]==_0x623dd4);if(_0x44e9c0&&_0x44e9c0[_0x4e0ecc(0x30b)]){const _0x227125=_0x44e9c0[_0x4e0ecc(0x30b)][_0x4e0ecc(0x544)](_0x11c23b=>_0x11c23b['setIdOperation']==_0x425060);if(_0x227125!==-0x1){const _0x47ec13=_0x44e9c0[_0x4e0ecc(0x30b)][_0x227125];if(_0x47ec13['setProductos']&&Array[_0x4e0ecc(0x719)](_0x47ec13[_0x4e0ecc(0x5f6)])){const _0x2014dc=_0x47ec13[_0x4e0ecc(0x5f6)][_0x4e0ecc(0x527)];_0x47ec13[_0x4e0ecc(0x5f6)]=_0x47ec13[_0x4e0ecc(0x5f6)][_0x4e0ecc(0x674)](_0x192843=>_0x192843[_0x4e0ecc(0x36a)]!=_0x972ae8['cartId']);if(_0x47ec13[_0x4e0ecc(0x5f6)][_0x4e0ecc(0x527)]<_0x2014dc){const _0x514d1e=_0x47ec13[_0x4e0ecc(0x5f6)][_0x4e0ecc(0x6c0)](_0xb411f7=>({'valorUnit':_0xb411f7[_0x4e0ecc(0x6ff)],'precioUnit':_0xb411f7[_0x4e0ecc(0x22f)],'valorCantidad':_0xb411f7[_0x4e0ecc(0x6bf)],'valorPorcentajeIgv':_0xb411f7[_0x4e0ecc(0x5b7)],'setTipAfeIgv':_0xb411f7[_0x4e0ecc(0x237)],'setDescuento':{'setCodTipo':_0xb411f7['setDescuento']?.[_0x4e0ecc(0x1fb)]||'00','setPorcentajeDesc':_0xb411f7[_0x4e0ecc(0x1ac)]?.[_0x4e0ecc(0x260)]||0x0}})),_0x2a37e7=_0x47ec13[_0x4e0ecc(0x24e)]||0x0,{setInvoice:_0x404a84}=procesarProductos({'setPorcentajeGeneralIgv':myCompany['setImpuestos'][_0x4e0ecc(0x2d3)](_0x115346=>_0x115346[_0x4e0ecc(0x49d)]==myCompany['setTaxIdDefault'])?.[_0x4e0ecc(0x436)],'items':_0x514d1e,'descuentoGlobalMonto':_0x2a37e7});_0x47ec13[_0x4e0ecc(0x2f1)]='2',_0x47ec13['setLastFechaHora']=new Date()['toISOString'](),Object[_0x4e0ecc(0x434)](_0x47ec13,_0x404a84),await storeOfflineOperation(_0x47ec13,0x1);_0x47ec13[_0x4e0ecc(0x5f6)][_0x4e0ecc(0x527)]===0x0&&(_0x44e9c0[_0x4e0ecc(0x30b)][_0x4e0ecc(0x4e9)](_0x227125,0x1),console[_0x4e0ecc(0x189)]('Order\x20removed\x20because\x20no\x20products\x20remained.'));_0x33045c[_0x4e0ecc(0x70b)]=nowWithMillisecondsForServer();const _0x25b167=await createCartStore('');await saveCompanyToIndexedDB(company,_0x25b167),apiERPsync(),console[_0x4e0ecc(0x189)](_0x4e0ecc(0x273));}else console['warn'](_0x4e0ecc(0x46f));}else console[_0x4e0ecc(0x552)]('Order\x20Products\x20not\x20found.');}else console[_0x4e0ecc(0x552)](_0x4e0ecc(0x2cb));}else console[_0x4e0ecc(0x552)](_0x4e0ecc(0x28f));}else console['warn'](_0x4e0ecc(0x608));}_0x312002[_0x4e0ecc(0x4e9)](_0x3b795a,0x1);const _0x41c557=_0x4e0ecc(0x337)+_0x15b72c,_0x4910a2=db[_0x4e0ecc(0x247)]([_0x41c557],_0x4e0ecc(0x4a7)),_0x34195d=_0x4910a2[_0x4e0ecc(0x2a1)](_0x41c557);_0x34195d[_0x4e0ecc(0x6a8)](_0x972ae8['id']),_0x4910a2[_0x4e0ecc(0x1fe)]=function(){const _0x116490=_0x4e0ecc;console[_0x116490(0x189)](_0x116490(0x276)),saveCart(_0x15b72c)['then'](()=>{const _0x2bc8aa=_0x116490;renderCart(_0x15b72c),console['log'](_0x2bc8aa(0x19e)+_0x15b72c);})[_0x116490(0x215)](_0x3a4de6=>{const _0x5b505f=_0x116490;console[_0x5b505f(0x708)]('Error\x20al\x20guardar\x20array',_0x3a4de6);});},_0x4910a2[_0x4e0ecc(0x24f)]=function(_0x39364d){const _0x40a505=_0x4e0ecc;console[_0x40a505(0x708)](_0x40a505(0x698),_0x39364d[_0x40a505(0x4df)]['error']);};}function removeAllFromCart(_0x1bec7d,_0x312755=0x0){return new Promise((_0x1bfed3,_0x4745d6)=>{const _0x5903bd=_0xe3e9;let _0x335f27;_0x312755==0x1?_0x335f27=carts[_0x1bec7d]['filter'](_0x27c435=>_0x27c435[_0x5903bd(0x70f)]==0x1):_0x335f27=getFilteredCart(_0x1bec7d);const _0x2a7030=_0x5903bd(0x337)+_0x1bec7d,_0x1bcdb1=db[_0x5903bd(0x247)]([_0x2a7030],'readwrite'),_0x3951d0=_0x1bcdb1[_0x5903bd(0x2a1)](_0x2a7030);_0x335f27[_0x5903bd(0x492)](_0x507a21=>{_0x3951d0['delete'](_0x507a21['id']);}),_0x1bcdb1[_0x5903bd(0x1fe)]=function(){const _0x4a81e2=_0x5903bd;carts[_0x1bec7d]=carts[_0x1bec7d][_0x4a81e2(0x674)](_0xe39ffd=>!_0x335f27['some'](_0x33ced6=>_0x33ced6[_0x4a81e2(0x36a)]==_0xe39ffd[_0x4a81e2(0x36a)])),saveCart(_0x1bec7d)['then'](()=>{const _0x3244ce=_0x4a81e2;renderCart(_0x1bec7d),console[_0x3244ce(0x189)](_0x3244ce(0x19e)+_0x1bec7d);})[_0x4a81e2(0x215)](_0x17eb6d=>{const _0x2309fc=_0x4a81e2;console[_0x2309fc(0x708)](_0x2309fc(0x19b),_0x17eb6d);}),_0x1bfed3();},_0x1bcdb1[_0x5903bd(0x24f)]=function(_0x5467b2){const _0x2c7597=_0x5903bd;console[_0x2c7597(0x708)](_0x2c7597(0x31b),_0x5467b2[_0x2c7597(0x4df)]['error']),_0x4745d6(_0x5467b2[_0x2c7597(0x4df)][_0x2c7597(0x708)]);};});}function saveWindowOptionsDB(_0x1317ea){const _0x5e169a=_0x3df022;return createCartStore('')[_0x5e169a(0x2db)](_0x5b47f4=>{const _0x58b818=_0x5e169a,_0xc93bbf=window_options[_0x1317ea],_0x7847e0='window_options_'+_0x1317ea,_0x846f27=_0x5b47f4[_0x58b818(0x247)]([_0x7847e0],'readwrite'),_0x2dbe0f=_0x846f27[_0x58b818(0x2a1)](_0x7847e0);return _0x2dbe0f[_0x58b818(0x5bf)]({'id':_0x1317ea,..._0xc93bbf}),new Promise((_0x22aef4,_0x5b80c8)=>{const _0x1794a2=_0x58b818;_0x846f27[_0x1794a2(0x1fe)]=function(){const _0x447972=_0x1794a2;console[_0x447972(0x189)]('Opciones\x20de\x20la\x20ventana\x20'+_0x1317ea+'\x20guardadas.'),_0x22aef4(_0x1317ea);},_0x846f27[_0x1794a2(0x24f)]=function(_0x54412e){const _0x701cad=_0x1794a2;console['error'](_0x701cad(0x43c),_0x54412e[_0x701cad(0x4df)]['error']),_0x5b80c8(_0x54412e[_0x701cad(0x4df)][_0x701cad(0x708)]);};});})[_0x5e169a(0x2db)](_0x493e08=>{return renderWindowOptions(_0x493e08),_0x493e08;})[_0x5e169a(0x215)](_0x240890=>{const _0x499505=_0x5e169a;console[_0x499505(0x708)](_0x499505(0x4ea),_0x240890);throw _0x240890;});}function renderWindowOptions(_0x167006){return new Promise(_0x8aad1=>{const _0x479689=_0xe3e9;document[_0x479689(0x57b)](_0x479689(0x2e3)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x4d8)],document[_0x479689(0x57b)](_0x479689(0x710)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x431)],document[_0x479689(0x57b)](_0x479689(0x1ee)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x52e)],document[_0x479689(0x57b)](_0x479689(0x205)+_0x167006)['value']=window_options[_0x167006]['setCorrelativo'],document['getElementById'](_0x479689(0x4a2)+_0x167006)['value']=window_options[_0x167006][_0x479689(0x2ee)],document[_0x479689(0x57b)]('setClienteTipoDoc-'+_0x167006)['value']=window_options[_0x167006]['setClienteTipoDoc'],document['getElementById'](_0x479689(0x1b7)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x4b7)]??'',document['getElementById'](_0x479689(0x1f2)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x6ce)]??'',document[_0x479689(0x57b)]('setClienteDireccion-'+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x384)]??'',document[_0x479689(0x57b)](_0x479689(0x3f0)+_0x167006)['value']=window_options[_0x167006][_0x479689(0x6d1)]??'',document[_0x479689(0x57b)](_0x479689(0x566)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x5b5)]??'',document[_0x479689(0x57b)](_0x479689(0x17c)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x2c2)],document[_0x479689(0x57b)](_0x479689(0x558)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x5f1)],document[_0x479689(0x57b)](_0x479689(0x682)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x53d)],document[_0x479689(0x57b)](_0x479689(0x586)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006]['setObservacion']??'',document['getElementById'](_0x479689(0x720)+_0x167006)[_0x479689(0x66e)]=window_options[_0x167006][_0x479689(0x2f1)],_0x8aad1();});}async function updateWindowOption(_0x187a3e,_0x4540ec,_0x1d8b28){const _0xe7987f=_0x3df022;if(_0x4540ec==_0xe7987f(0x683)){const _0x2677a2=document[_0xe7987f(0x57b)](_0xe7987f(0x2c4)+_0x187a3e),_0xf38224=_0x2677a2[_0xe7987f(0x18f)][_0x2677a2[_0xe7987f(0x18b)]][_0xe7987f(0x496)];window_options[_0x187a3e]['setDetraccionCodigoName']=_0xf38224;}if(_0x4540ec=='setSellerId'){const _0x42172f=document[_0xe7987f(0x57b)](_0xe7987f(0x558)+_0x187a3e),_0x2ad149=_0x42172f['options'][_0x42172f[_0xe7987f(0x18b)]][_0xe7987f(0x496)];window_options[_0x187a3e]['setSellerName']=_0x2ad149;}_0x4540ec==_0xe7987f(0x2c2)&&(window_options[_0x187a3e]['setFechaHoraReadonly']=0x1),_0x4540ec=='setCorrelativo'&&(correlativeReadonly=0x1),_0x4540ec==_0xe7987f(0x2f1)&&(_0x1d8b28==0x1&&(correlativeReadonly=0x0)),window_options[_0x187a3e][_0x4540ec]=_0x1d8b28,saveWindowOptionsDB(_0x187a3e);}function showModal(){const _0x43953a=_0x3df022,_0x2b1aba=document[_0x43953a(0x57b)](_0x43953a(0x53b)),_0xe96f72=document[_0x43953a(0x57b)](_0x43953a(0x6fe));_0x2b1aba[_0x43953a(0x6c6)][_0x43953a(0x5d7)]('active'),_0xe96f72[_0x43953a(0x3f6)][_0x43953a(0x228)]=_0x43953a(0x34c);const _0x2e54f0=document[_0x43953a(0x57b)](_0x43953a(0x471)),_0x2af57=document[_0x43953a(0x57b)](_0x43953a(0x56f));if(!_0x2e54f0||!_0x2af57){console[_0x43953a(0x708)](_0x43953a(0x2e7));return;}_0x2e54f0[_0x43953a(0x309)](_0x2e54f0[_0x43953a(0x3e8)](!![])),_0x2af57[_0x43953a(0x309)](_0x2af57[_0x43953a(0x3e8)](!![]));const _0x50a61a=document[_0x43953a(0x57b)](_0x43953a(0x471)),_0x37b40d=document[_0x43953a(0x57b)](_0x43953a(0x56f));_0x50a61a[_0x43953a(0x1ad)]('click',()=>hideModal()),_0x37b40d[_0x43953a(0x1ad)](_0x43953a(0x4a6),()=>hideModal());}function hideModal(){const _0x175b2f=_0x3df022,_0x4b691c=document['getElementById'](_0x175b2f(0x53b)),_0x232217=document['getElementById'](_0x175b2f(0x6fe));_0x4b691c[_0x175b2f(0x6c6)][_0x175b2f(0x38f)]('active'),_0x232217[_0x175b2f(0x3f6)][_0x175b2f(0x228)]='none';}document['getElementById'](_0x3df022(0x6fe))[_0x3df022(0x1ad)](_0x3df022(0x4a6),_0x1c9856=>{const _0x4a3980=_0x3df022;_0x1c9856[_0x4a3980(0x4df)]==_0x1c9856[_0x4a3980(0x340)]&&_0x1c9856[_0x4a3980(0x5d0)]();});function showModalPay(){const _0x4ab455=_0x3df022,_0x5cc4ae=document['getElementById']('detalleModalPay'),_0x2507ee=document[_0x4ab455(0x57b)](_0x4ab455(0x487));_0x5cc4ae[_0x4ab455(0x6c6)]['add'](_0x4ab455(0x399)),_0x2507ee[_0x4ab455(0x3f6)][_0x4ab455(0x228)]=_0x4ab455(0x34c);}function hideModalPay(){const _0x24daf2=_0x3df022,_0x55345c=document[_0x24daf2(0x57b)](_0x24daf2(0x439)),_0x5f259b=document[_0x24daf2(0x57b)](_0x24daf2(0x487));_0x55345c[_0x24daf2(0x6c6)][_0x24daf2(0x38f)](_0x24daf2(0x399)),_0x5f259b[_0x24daf2(0x3f6)][_0x24daf2(0x228)]=_0x24daf2(0x18d);}document[_0x3df022(0x57b)]('closeModalPay')[_0x3df022(0x1ad)](_0x3df022(0x4a6),hideModalPay),document[_0x3df022(0x57b)](_0x3df022(0x487))['addEventListener'](_0x3df022(0x4a6),_0xcf65c0=>{_0xcf65c0['target']==_0xcf65c0['currentTarget']&&_0xcf65c0['stopPropagation']();});async function showModalLayout(){const _0x4b03b5=_0x3df022;showLoadingModal();const _0x248b3f=document[_0x4b03b5(0x57b)](_0x4b03b5(0x667))['value'],_0x2b1bc7=myCompany[_0x4b03b5(0x1b5)],_0x11eeaf=_0x2b1bc7[_0x4b03b5(0x2d3)](_0x4ca79f=>_0x4ca79f[_0x4b03b5(0x667)]==_0x248b3f&&_0x4ca79f[_0x4b03b5(0x5e3)]==0x2),_0x623ce5=getUserPermissionApiERP(0xd),_0x12f9cb=_0x11eeaf?0x1:0x0;if(_0x12f9cb==0x1&&_0x623ce5==0x1){const _0x298cd6=myCompany[_0x4b03b5(0x2eb)];let _0x1c3828=[];const _0x143cd7=_0x11eeaf[_0x4b03b5(0x19a)][_0x4b03b5(0x503)]('saveWindows.php',_0x4b03b5(0x320));await new Promise((_0x23457e,_0x43e60a)=>{const _0x324115=_0x4b03b5,_0x441ab0=document['createElement'](_0x324115(0x25c));_0x441ab0['style'][_0x324115(0x228)]=_0x324115(0x18d),_0x441ab0[_0x324115(0x2d0)]=_0x143cd7,document[_0x324115(0x355)][_0x324115(0x52a)](_0x441ab0);const _0x1890b6=setTimeout(()=>{const _0x9abdd8=_0x324115;hideLoadingModal(),window[_0x9abdd8(0x63c)](_0x9abdd8(0x58e),_0x518516),document[_0x9abdd8(0x355)][_0x9abdd8(0x21f)](_0x441ab0),_0x43e60a(_0x9abdd8(0x55a));},0xbb8),_0x518516=function(_0x483a1a){const _0x461c77=_0x324115,_0x34bcfc=_0x483a1a['data'];if(!Array['isArray'](_0x34bcfc)){hideLoadingModal(),console[_0x461c77(0x708)](_0x461c77(0x573)),clearTimeout(_0x1890b6),window[_0x461c77(0x63c)](_0x461c77(0x58e),_0x518516),document[_0x461c77(0x355)][_0x461c77(0x21f)](_0x441ab0),_0x43e60a('Data\x20no\x20válida');return;}_0x1c3828=_0x34bcfc[_0x461c77(0x674)](_0x360557=>!_0x298cd6[_0x461c77(0x6e8)](_0x3fd31a=>_0x3fd31a[_0x461c77(0x36c)]==_0x360557['setWindowId'])),myCompany[_0x461c77(0x2eb)]=_0x34bcfc,((async()=>{const _0x2c1378=_0x461c77,_0x30615c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x30615c);for(const _0x102b07 of _0x1c3828){await new Promise(_0x3398f3=>setTimeout(_0x3398f3,0x12c)),await createCartStore(_0x102b07[_0x2c1378(0x36c)]);}console[_0x2c1378(0x189)](_0x2c1378(0x304)),clearTimeout(_0x1890b6),window['removeEventListener'](_0x2c1378(0x58e),_0x518516),document[_0x2c1378(0x355)]['removeChild'](_0x441ab0),_0x23457e();})());};window[_0x324115(0x1ad)](_0x324115(0x58e),_0x518516,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x38fa24=document[_0x4b03b5(0x57b)](_0x4b03b5(0x2c0)),_0x54dcf3=document[_0x4b03b5(0x57b)](_0x4b03b5(0x48f));_0x38fa24['classList'][_0x4b03b5(0x5d7)](_0x4b03b5(0x399)),_0x54dcf3['style']['display']=_0x4b03b5(0x34c);const _0xea4e47=document[_0x4b03b5(0x57b)](_0x4b03b5(0x37e))[_0x4b03b5(0x66e)],_0xf482b4=document[_0x4b03b5(0x57b)](_0x4b03b5(0x667))[_0x4b03b5(0x66e)];cargarVentanas(_0xf482b4,_0xea4e47),createTabsEnvironments();}function hideModalLayout(){const _0x4fc256=_0x3df022,_0x3aa4f5=document[_0x4fc256(0x57b)]('detalleModalLayout'),_0x6e4ebd=document[_0x4fc256(0x57b)](_0x4fc256(0x48f));_0x3aa4f5[_0x4fc256(0x6c6)]['remove'](_0x4fc256(0x399)),_0x6e4ebd[_0x4fc256(0x3f6)][_0x4fc256(0x228)]='none';}document[_0x3df022(0x57b)](_0x3df022(0x670))[_0x3df022(0x1ad)](_0x3df022(0x4a6),hideModalLayout),document[_0x3df022(0x57b)](_0x3df022(0x48f))[_0x3df022(0x1ad)](_0x3df022(0x4a6),_0x546781=>{const _0x57f7eb=_0x3df022;_0x546781[_0x57f7eb(0x4df)]==_0x546781[_0x57f7eb(0x340)]&&_0x546781[_0x57f7eb(0x5d0)]();});function showModalOptions(){const _0x3bd663=_0x3df022,_0x3c4e1f=document[_0x3bd663(0x57b)]('detalleModalOptions'),_0x50d2a4=document['getElementById'](_0x3bd663(0x50c));_0x3c4e1f[_0x3bd663(0x6c6)][_0x3bd663(0x5d7)](_0x3bd663(0x399)),_0x50d2a4[_0x3bd663(0x3f6)][_0x3bd663(0x228)]=_0x3bd663(0x34c);}function hideModalOptions(){const _0x127cb1=_0x3df022,_0x65539b=document[_0x127cb1(0x57b)]('detalleModalOptions'),_0x135130=document[_0x127cb1(0x57b)]('modalOverlayOptions');_0x65539b[_0x127cb1(0x6c6)][_0x127cb1(0x38f)]('active'),_0x135130[_0x127cb1(0x3f6)][_0x127cb1(0x228)]=_0x127cb1(0x18d);}document[_0x3df022(0x57b)](_0x3df022(0x50c))[_0x3df022(0x1ad)](_0x3df022(0x4a6),_0x314ae8=>{const _0x5c50c3=_0x3df022;_0x314ae8[_0x5c50c3(0x4df)]==_0x314ae8['currentTarget']&&_0x314ae8[_0x5c50c3(0x5d0)]();});function showSection(_0x36dde8,_0x5052c0=''){const _0x127e82=_0x3df022,_0xfdd01c=['div_section_products',_0x127e82(0x569),_0x127e82(0x173)];if(_0x36dde8=='div_section_pay'){setDivTotalPay(_0x5052c0),showModalPay();return;}if(_0x36dde8==_0x127e82(0x569)){showModalOptions();return;}_0xfdd01c['forEach'](_0x1e09f=>{const _0x527005=_0x127e82,_0x3673d3=document[_0x527005(0x57b)](_0x1e09f);_0x3673d3?_0x1e09f!==_0x527005(0x173)&&_0x1e09f!=='div_section_options'&&_0x3673d3['classList'][_0x527005(0x50f)](_0x527005(0x687),_0x1e09f!==_0x36dde8):console[_0x527005(0x552)]('Sección\x20con\x20ID\x20\x22'+_0x1e09f+_0x527005(0x454));});}function optionsPdf(_0x46de93){const _0xafd3fc=_0x3df022,_0x283758=document[_0xafd3fc(0x57b)](_0xafd3fc(0x58b)),_0x1e7b40=document[_0xafd3fc(0x57b)]('btnArchivosContables'),_0x2a9e49=document['getElementById'](_0xafd3fc(0x2b0)),_0x29c5e5=document[_0xafd3fc(0x57b)]('visualizacion'),_0x12e7f6=document[_0xafd3fc(0x57b)](_0xafd3fc(0x3ec)),_0x529430=document[_0xafd3fc(0x57b)]('opciones');if(_0x46de93==0x1)_0x283758['classList'][_0xafd3fc(0x38f)](_0xafd3fc(0x6d7)),_0x283758['classList']['add'](_0xafd3fc(0x480)),_0x1e7b40[_0xafd3fc(0x6c6)][_0xafd3fc(0x38f)](_0xafd3fc(0x480)),_0x1e7b40[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x6d7)),_0x2a9e49[_0xafd3fc(0x6c6)][_0xafd3fc(0x38f)](_0xafd3fc(0x480)),_0x2a9e49['classList'][_0xafd3fc(0x5d7)](_0xafd3fc(0x6d7)),_0x29c5e5[_0xafd3fc(0x6c6)][_0xafd3fc(0x38f)](_0xafd3fc(0x687)),_0x12e7f6[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x687)),_0x529430[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x687));else _0x46de93==0x2?(_0x283758['classList'][_0xafd3fc(0x38f)]('btnModalActive'),_0x283758['classList']['add']('btnModal'),_0x1e7b40[_0xafd3fc(0x6c6)][_0xafd3fc(0x38f)](_0xafd3fc(0x6d7)),_0x1e7b40[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)]('btnModalActive'),_0x2a9e49[_0xafd3fc(0x6c6)]['remove']('btnModalActive'),_0x2a9e49['classList']['add'](_0xafd3fc(0x6d7)),_0x29c5e5[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x687)),_0x12e7f6['classList'][_0xafd3fc(0x38f)](_0xafd3fc(0x687)),_0x529430[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)]('hidden')):(_0x283758[_0xafd3fc(0x6c6)][_0xafd3fc(0x38f)]('btnModalActive'),_0x283758[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)]('btnModal'),_0x1e7b40[_0xafd3fc(0x6c6)]['remove'](_0xafd3fc(0x480)),_0x1e7b40[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x6d7)),_0x2a9e49[_0xafd3fc(0x6c6)]['remove']('btnModal'),_0x2a9e49[_0xafd3fc(0x6c6)][_0xafd3fc(0x5d7)](_0xafd3fc(0x480)),_0x29c5e5[_0xafd3fc(0x6c6)]['add'](_0xafd3fc(0x687)),_0x12e7f6[_0xafd3fc(0x6c6)]['add']('hidden'),_0x529430['classList'][_0xafd3fc(0x38f)](_0xafd3fc(0x687)));}function updateSerieOptionsAttach(_0x107bc5,_0x3eaa77){const _0x2f20f1=_0x3df022,_0x5bd5f2=document[_0x2f20f1(0x57b)](_0x2f20f1(0x373)+_0x3eaa77);_0x5bd5f2[_0x2f20f1(0x55e)]='';const _0x210d49=document[_0x2f20f1(0x57b)](_0x2f20f1(0x667))['value'],_0x5d0274=myCompany['setSeries'][_0x2f20f1(0x674)](_0x46f904=>_0x46f904['setSerieTipo']==_0x107bc5&&_0x46f904[_0x2f20f1(0x32b)]==_0x210d49);_0x5d0274[_0x2f20f1(0x492)](_0x125c6a=>{const _0x36d524=_0x2f20f1;_0x5bd5f2[_0x36d524(0x52a)](createElement(_0x36d524(0x398),{'value':_0x125c6a[_0x36d524(0x52e)]},[_0x125c6a[_0x36d524(0x52e)]]));}),_0x5d0274['length']&&(_0x5bd5f2['value']=_0x5d0274[0x0]['setSerie']),window_options[_0x3eaa77][_0x2f20f1(0x441)]=_0x107bc5;}async function consultAttach(_0x5231d1){const _0x2dac42=_0x3df022,_0xdfb783=document[_0x2dac42(0x57b)](_0x2dac42(0x5b0)+_0x5231d1);if(!_0xdfb783){console[_0x2dac42(0x708)](_0x2dac42(0x4ec));return;}const _0x2da8e4=document[_0x2dac42(0x57b)]('setAttachEdit-'+_0x5231d1)[_0x2dac42(0x66e)],_0x12d839=document[_0x2dac42(0x57b)](_0x2dac42(0x55f)+_0x5231d1)['value'],_0x1d8ec9=document[_0x2dac42(0x57b)](_0x2dac42(0x373)+_0x5231d1)['value'],_0x5b3e8a=document['getElementById'](_0x2dac42(0x6e3)+_0x5231d1)['value'];_0xdfb783[_0x2dac42(0x497)]=!![],hideModalOptions(),showLoadingModal();try{const _0xf9f2c1=myCompany['setApiEndPoint'],_0x48cc0b={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x2dac42(0x317)],'setAttachEdit':_0x2da8e4,'setAttachType':_0x12d839,'setAttachSeries':_0x1d8ec9,'setAttachNumber':_0x5b3e8a},_0x4801bb=await fetch(_0xf9f2c1,{'method':_0x2dac42(0x484),'headers':{'Content-Type':_0x2dac42(0x6cf)},'body':JSON[_0x2dac42(0x638)](_0x48cc0b)}),_0x2d7017=await _0x4801bb[_0x2dac42(0x68d)]();if(_0x2d7017[_0x2dac42(0x350)]&&_0x2d7017['message']['setReceipt']){await removeAllFromCart(_0x5231d1);const _0x2953b2=_0x2d7017[_0x2dac42(0x58e)][_0x2dac42(0x363)],_0x19b794=_0x2d7017[_0x2dac42(0x58e)]['setReceiptProducts'];(_0x2da8e4==0x1||_0x2da8e4==0x2)&&(window_options[_0x5231d1][_0x2dac42(0x431)]=_0x2953b2[_0x2dac42(0x3c2)],await updateSerieOptions(_0x2953b2[_0x2dac42(0x3c2)],_0x5231d1),window_options[_0x5231d1][_0x2dac42(0x52e)]=_0x2953b2[_0x2dac42(0x343)],window_options[_0x5231d1][_0x2dac42(0x31c)]=_0x2953b2[_0x2dac42(0x4ce)]);window_options[_0x5231d1][_0x2dac42(0x71d)]=_0x2953b2['setReceiptClientDocType'],window_options[_0x5231d1]['setClienteNumDoc']=_0x2953b2[_0x2dac42(0x45e)],window_options[_0x5231d1][_0x2dac42(0x6ce)]=_0x2953b2[_0x2dac42(0x3f5)],window_options[_0x5231d1]['setClienteDireccion']=_0x2953b2[_0x2dac42(0x624)],window_options[_0x5231d1][_0x2dac42(0x2ee)]=_0x2953b2[_0x2dac42(0x302)],window_options[_0x5231d1][_0x2dac42(0x717)]=_0x2953b2[_0x2dac42(0x4ca)],window_options[_0x5231d1][_0x2dac42(0x53d)]=_0x2953b2['setDispatchType'],window_options[_0x5231d1][_0x2dac42(0x38b)]=_0x2953b2['setReceiptId'],window_options[_0x5231d1]['setReceiptAttachArray']=_0x19b794,document[_0x2dac42(0x57b)](_0x2dac42(0x2fd))[_0x2dac42(0x66e)]=_0x2953b2['setWarehouseId'],document[_0x2dac42(0x57b)](_0x2dac42(0x2fd))['dispatchEvent'](new Event(_0x2dac42(0x46a))),window_options[_0x5231d1][_0x2dac42(0x24e)]=_0x2953b2[_0x2dac42(0x438)],await saveWindowOptionsDB(_0x5231d1);for(let _0x2cb967=0x0;_0x2cb967<_0x19b794[_0x2dac42(0x527)];_0x2cb967++){const _0x17f2e0=_0x19b794[_0x2cb967],_0x3211ef=products[_0x2dac42(0x2d3)](_0x529ad3=>_0x529ad3['id']==_0x17f2e0[_0x2dac42(0x35a)]);_0x3211ef&&(await new Promise(_0x4ddb16=>setTimeout(_0x4ddb16,0x64)),addToCart(_0x3211ef,{'setValorCantidad':_0x17f2e0[_0x2dac42(0x3ce)],'setMtoPrecioUnitario_final':_0x17f2e0[_0x2dac42(0x181)],'setTaxId':_0x17f2e0[_0x2dac42(0x49d)],'setTipAfeIgv':_0x17f2e0[_0x2dac42(0x237)],'setPorcentajeDesc':_0x17f2e0['setPorcentajeDesc'],'setNotas':_0x17f2e0[_0x2dac42(0x4f3)],'setMtoPrecioUnitario_input':_0x17f2e0[_0x2dac42(0x181)],'setMtoPrecioCostoUnitario_input':_0x17f2e0[_0x2dac42(0x1a9)]},0x1,_0x5231d1));}}else ntfShow(_0x2dac42(0x475)),console[_0x2dac42(0x189)](_0x2dac42(0x475));}catch(_0x114eb6){ntfShow(_0x2dac42(0x6b0)),console[_0x2dac42(0x708)](_0x2dac42(0x542),_0x114eb6);}finally{_0xdfb783[_0x2dac42(0x497)]=![],hideLoadingModal();}}async function setPrintOnline(_0x36a82c,_0x4086ae,_0x1dfa11,_0x2b0428=0x0){const _0x1c5a8d=_0x3df022,_0x229969=document[_0x1c5a8d(0x57b)](_0x1c5a8d(0x667))[_0x1c5a8d(0x66e)],_0x12ecb5=myCompany[_0x1c5a8d(0x1b5)],_0x44fdd1=_0x12ecb5[_0x1c5a8d(0x2d3)](_0x5667ab=>_0x5667ab[_0x1c5a8d(0x667)]==_0x229969&&_0x5667ab[_0x1c5a8d(0x5e3)]==0x1),_0x49b02a=getUserPermissionApiERP(0x6),_0x2f6841=_0x44fdd1?0x1:0x0;if(!_0x4086ae){ntfShow(_0x1c5a8d(0x5ca));return;}_0x2b0428!=0x1&&hideModal();showLoadingModal();const _0x2eaeb3=document[_0x1c5a8d(0x57b)]('infoLoadingModal');_0x2eaeb3[_0x1c5a8d(0x55e)]=_0x1c5a8d(0x510)+_0x36a82c+_0x1c5a8d(0x694);if(_0x2f6841==0x1&&_0x49b02a==0x1){const _0x6e4e5a=_0x1c5a8d(0x5f5)+generateUUID(),_0x949477=document[_0x1c5a8d(0x242)]('iframe');_0x949477['name']=_0x6e4e5a,_0x949477[_0x1c5a8d(0x3f6)][_0x1c5a8d(0x228)]=_0x1c5a8d(0x18d),document['body'][_0x1c5a8d(0x52a)](_0x949477);const _0x36acbd=document[_0x1c5a8d(0x242)](_0x1c5a8d(0x2c8));_0x36acbd[_0x1c5a8d(0x4f1)]=_0x1c5a8d(0x484),_0x36acbd[_0x1c5a8d(0x4e4)]=_0x44fdd1[_0x1c5a8d(0x19a)],_0x36acbd[_0x1c5a8d(0x372)]=_0x1c5a8d(0x6e7),_0x36acbd[_0x1c5a8d(0x4df)]=_0x949477[_0x1c5a8d(0x5af)];const _0x208091={'printData':JSON[_0x1c5a8d(0x638)]({'setPrinterName':_0x36a82c,'setPdfName':_0x1dfa11,'setPrint':0x1})};for(const _0x333b3b in _0x208091){const _0x1fd9fb=document[_0x1c5a8d(0x242)](_0x1c5a8d(0x282));_0x1fd9fb[_0x1c5a8d(0x421)]=_0x1c5a8d(0x687),_0x1fd9fb['name']=_0x333b3b,_0x1fd9fb['value']=_0x208091[_0x333b3b],_0x36acbd[_0x1c5a8d(0x52a)](_0x1fd9fb);}const _0x31eb1c=document[_0x1c5a8d(0x242)](_0x1c5a8d(0x282));_0x31eb1c['type']=_0x1c5a8d(0x550),_0x31eb1c[_0x1c5a8d(0x5af)]=_0x1c5a8d(0x63a);const _0x34c58a=new File([_0x4086ae],_0x1c5a8d(0x346),{'type':_0x1c5a8d(0x418)}),_0x105ca3=new DataTransfer();_0x105ca3[_0x1c5a8d(0x358)][_0x1c5a8d(0x5d7)](_0x34c58a),_0x31eb1c[_0x1c5a8d(0x407)]=_0x105ca3['files'],_0x36acbd[_0x1c5a8d(0x52a)](_0x31eb1c),document[_0x1c5a8d(0x355)][_0x1c5a8d(0x52a)](_0x36acbd),_0x36acbd[_0x1c5a8d(0x3e4)](),document[_0x1c5a8d(0x355)][_0x1c5a8d(0x21f)](_0x36acbd),await new Promise(_0x2327cc=>setTimeout(_0x2327cc,0x4b0)),setTimeout(()=>{const _0x2aac53=_0x1c5a8d;document['body'][_0x2aac53(0x21f)](_0x949477);},0xaf0),hideLoadingModal(),_0x2b0428!=0x1&&showModal();}else{if(!isOnline())return console[_0x1c5a8d(0x189)](_0x1c5a8d(0x39d)),null;const _0x25203d={'setAuthToken':myCompany[_0x1c5a8d(0x317)],'setPrinterName':_0x36a82c,'setPdfName':_0x1dfa11,'setBucketName':'luisitoprograma-pdf','setPrint':0x1},_0x59b709=new FormData();_0x59b709[_0x1c5a8d(0x202)]('invoice',JSON[_0x1c5a8d(0x638)](_0x25203d));if(_0x4086ae instanceof Blob&&_0x4086ae[_0x1c5a8d(0x6d0)]>0x0)_0x59b709[_0x1c5a8d(0x202)](_0x1c5a8d(0x63a),_0x4086ae,_0x1c5a8d(0x346));else{console['error'](_0x1c5a8d(0x3c8));return;}try{const _0x1297e9=await fetch(_0x1c5a8d(0x537),{'method':'POST','body':_0x59b709});if(!_0x1297e9['ok'])throw new Error(_0x1c5a8d(0x33e)+_0x1297e9[_0x1c5a8d(0x1f1)]);const _0x26463a=await _0x1297e9[_0x1c5a8d(0x68d)]();if(!_0x26463a[_0x1c5a8d(0x350)])throw new Error(_0x26463a[_0x1c5a8d(0x58e)]||'Error\x20desconocido.');_0x2eaeb3['innerHTML']=_0x1c5a8d(0x341);}catch(_0x5251b2){ntfShow(_0x5251b2);}finally{hideLoadingModal(),_0x2b0428!=0x1&&showModal();}}}async function processPrints(_0xda5af0){const _0x297f26=_0x3df022;for(const _0x4fabb7 of _0xda5af0){const {payloadComand:_0x4baf77}=_0x4fabb7,{pdfBlob:_0x22106f,pdfName:_0x53edc5}=await generatePdf(_0x4baf77,'tk','pdfCanvas',_0x297f26(0x366)),_0x129b83=_0x53edc5['replace'](_0x297f26(0x536),'-'+_0x4fabb7['setPrinterId']+'.pdf');await setPrintOnline(_0x4fabb7['setPrinterName'],_0x22106f,_0x129b83,0x1);}}function setPrinter(_0x4ff4f1,_0x5b5c38){const _0x3be9dc=_0x3df022;document['getElementById'](_0x3be9dc(0x6aa))[_0x3be9dc(0x1f4)]=_0x5b5c38,document['getElementById'](_0x3be9dc(0x6aa))['setAttribute']('data-printer',_0x4ff4f1);}async function generatePdfTk(){const _0x1ca5c9=_0x3df022,_0x35f507=document[_0x1ca5c9(0x57b)](_0x1ca5c9(0x303))[_0x1ca5c9(0x66e)],{pdfGlobalPayload:_0x580b96,pdfGlobalBlob:_0x3f32fa,pdfGlobalName:_0xe702d7}=getLastOperationGlobalData(_0x35f507),{pdfBlob:_0xdefe71,pdfName:_0x5efe1d}=await generatePdf(_0x580b96,'tk',_0x1ca5c9(0x35f),_0x1ca5c9(0x366));setLastOperationGlobalData(_0x35f507,{'pdfGlobalPayload':_0x580b96,'pdfGlobalBlob':_0xdefe71,'pdfGlobalName':_0x5efe1d});}async function generatePdfA4(){const _0x571cff=_0x3df022,_0x17dd89=document[_0x571cff(0x57b)]('windowId')[_0x571cff(0x66e)],{pdfGlobalPayload:_0x40859c,pdfGlobalBlob:_0x2017b4,pdfGlobalName:_0x341609}=getLastOperationGlobalData(_0x17dd89),{pdfBlob:_0x12b13f,pdfName:_0xcd879c}=await generatePdf(_0x40859c,'a4',_0x571cff(0x35f),'1.5');setLastOperationGlobalData(_0x17dd89,{'pdfGlobalPayload':_0x40859c,'pdfGlobalBlob':_0x12b13f,'pdfGlobalName':_0xcd879c});}function cargarVentanas(_0x1ad40f,_0x53a943){const _0xb5bb3b=_0x3df022,_0x59ae41=myCompany[_0xb5bb3b(0x2eb)][_0xb5bb3b(0x674)](_0x330218=>_0x330218[_0xb5bb3b(0x667)]==_0x1ad40f&&_0x330218[_0xb5bb3b(0x37e)]==_0x53a943),_0x1fc0cd=0x5,_0x1990e1=0x5,_0x5dd391=0x5,_0x13feea=0x5,_0xb1c139=0x78,_0xd527b1=0x78;let _0x50b049=_0x1fc0cd,_0x4c329f=_0x1990e1;!posicionesPorPiso[_0x53a943]&&(posicionesPorPiso[_0x53a943]={});const _0x381696=_0x59ae41[_0xb5bb3b(0x6c0)](_0x2cd68d=>{const _0xc5a1f3=_0xb5bb3b;posicionesPorPiso[_0x53a943][_0x2cd68d[_0xc5a1f3(0x36c)]]?(_0x2cd68d['x']=posicionesPorPiso[_0x53a943][_0x2cd68d[_0xc5a1f3(0x36c)]]['x'],_0x2cd68d['y']=posicionesPorPiso[_0x53a943][_0x2cd68d[_0xc5a1f3(0x36c)]]['y']):(_0x2cd68d['x']=_0x50b049,_0x2cd68d['y']=_0x4c329f,posicionesPorPiso[_0x53a943][_0x2cd68d[_0xc5a1f3(0x36c)]]={'x':_0x50b049,'y':_0x4c329f},_0x50b049+=_0xb1c139+_0x5dd391,_0x50b049+_0xb1c139>layout_windows[_0xc5a1f3(0x607)]&&(_0x50b049=_0x1fc0cd,_0x4c329f+=_0xd527b1+_0x13feea));let _0x3c871a={'setWindowId':_0x2cd68d[_0xc5a1f3(0x36c)],'setWindowType':_0x2cd68d[_0xc5a1f3(0x2ff)],'setWindowName':_0x2cd68d[_0xc5a1f3(0x6a7)],'x':_0x2cd68d['x'],'y':_0x2cd68d['y'],'zona':_0x2cd68d['setFloorName'],'floorId':_0x2cd68d['setFloorId']};return[_0xc5a1f3(0x37b),'table',_0xc5a1f3(0x3ea),'chair']['includes'](_0x2cd68d[_0xc5a1f3(0x2ff)])&&(_0x3c871a[_0xc5a1f3(0x43b)]=_0x2cd68d['setWindowTypeShape']||_0xc5a1f3(0x23a),_0x3c871a['setWindowStatus']=_0x2cd68d[_0xc5a1f3(0x47a)]||_0xc5a1f3(0x4b4)),_0x3c871a;}),_0x20f088=extraElements['filter'](_0x389d5a=>_0x389d5a[_0xb5bb3b(0x66d)]==_0x53a943);elementos=[..._0x381696,..._0x20f088],crearElementos();}function crearElementos(){const _0x5f84b4=_0x3df022,_0x49601d=myCompany[_0x5f84b4(0x5a8)],_0x124716=myCompany['setMonedas']['find'](_0x4f1934=>_0x4f1934[_0x5f84b4(0x334)]==_0x49601d),_0x1d38ef=_0x124716?_0x124716['setMonedaSimbol']:'';layout_windows['innerHTML']='',elementos['forEach'](_0x2beaac=>{const _0x3b971b=_0x5f84b4;let _0x1d176f='',_0x103379=0x0,_0x3f2c12=0x0,_0x4591a5;const _0x4f086b=getValidatedWindowAndShift(_0x2beaac[_0x3b971b(0x36c)]);if(_0x4f086b){const {currentWindowShift:_0x29ca5f}=_0x4f086b;if(_0x29ca5f){if(_0x4f086b['windowObj']['setWindowStatus']==_0x3b971b(0x63b))_0x1d176f=_0x3b971b(0x68f)+formatShiftDate(_0x29ca5f[_0x3b971b(0x3e9)]);else _0x4f086b['windowObj']['setWindowStatus']==_0x3b971b(0x29e)&&(_0x1d176f=_0x3b971b(0x68f)+formatShiftDate(_0x29ca5f['setShiftDateStart']));const _0x122e36=_0x29ca5f['setOrders']||[];_0x103379=_0x122e36[_0x3b971b(0x674)](_0x15db9a=>setTipOpeOrders[_0x3b971b(0x6e8)](_0x5a24a0=>_0x5a24a0==_0x15db9a[_0x3b971b(0x431)]))[_0x3b971b(0x527)],_0x3f2c12=_0x122e36[_0x3b971b(0x6a5)]((_0x51cebc,_0x1b53f9)=>{const _0xd3a807=_0x3b971b,_0x4b817a=parseFloat(_0x1b53f9[_0xd3a807(0x172)])||0x0;if(setTipOpeOrders['some'](_0x183a34=>_0x183a34==_0x1b53f9[_0xd3a807(0x431)]))return _0x51cebc+_0x4b817a;if(setTipOpeSales['some'](_0x36fcca=>_0x36fcca==_0x1b53f9['setTipoOperacion']))return _0x51cebc-_0x4b817a;return _0x51cebc;},0x0);const _0xf87984=_0x29ca5f[_0x3b971b(0x43a)]||'',_0x3c0263=myCompany['setUsers'][_0x3b971b(0x2d3)](_0x1fa04d=>_0x1fa04d[_0x3b971b(0x1dc)]==_0xf87984);_0x4591a5=_0x3c0263?_0x3c0263['setUserFullName']:'';}}const _0x229a33=document[_0x3b971b(0x242)]('div');_0x229a33['id']='element-'+_0x2beaac[_0x3b971b(0x36c)],_0x229a33['className']=_0x3b971b(0x6ca)+_0x2beaac['setWindowStatus']+_0x3b971b(0x5b3)+_0x2beaac[_0x3b971b(0x43b)],_0x229a33[_0x3b971b(0x3f6)]['left']=_0x2beaac['x']+'px',_0x229a33[_0x3b971b(0x3f6)][_0x3b971b(0x180)]=_0x2beaac['y']+'px';let _0x2cdf18='';switch(_0x2beaac[_0x3b971b(0x2ff)]){case'window':_0x2cdf18=_0x3b971b(0x606);break;case'table':_0x2cdf18='./img/layout/icon-table.svg';break;case _0x3b971b(0x3ea):_0x2cdf18=_0x3b971b(0x24a);break;case _0x3b971b(0x5ad):_0x2cdf18='./img/layout/icon-window.svg';break;case _0x3b971b(0x516):_0x2cdf18=_0x3b971b(0x2a9);break;case _0x3b971b(0x1c7):_0x2cdf18=_0x3b971b(0x6de);break;case _0x3b971b(0x35d):_0x2cdf18=_0x3b971b(0x283);break;case _0x3b971b(0x684):_0x2cdf18=_0x3b971b(0x588);break;case'element-cashier':_0x2cdf18=_0x3b971b(0x2fe);break;case'element-clock':_0x2cdf18='./img/layout/icon-clock.svg';break;case _0x3b971b(0x356):_0x2cdf18=_0x3b971b(0x6ae);break;case _0x3b971b(0x34d):_0x2cdf18=_0x3b971b(0x192);break;case _0x3b971b(0x4d2):_0x2cdf18=_0x3b971b(0x208);break;case _0x3b971b(0x3df):_0x2cdf18=_0x3b971b(0x43f);break;case'element-vase':_0x2cdf18=_0x3b971b(0x4dd);break;case _0x3b971b(0x62f):_0x2cdf18=_0x3b971b(0x5ea);break;case _0x3b971b(0x5b9):_0x2cdf18=_0x3b971b(0x57f);break;default:_0x2cdf18=_0x3b971b(0x606);}if(_0x2beaac['setWindowStatus']==_0x3b971b(0x4b4)){let _0x524666=_0x3b971b(0x2e9)+_0x2cdf18+_0x3b971b(0x2ba)+_0x2beaac[_0x3b971b(0x2ff)]+'\x22>';_0x229a33[_0x3b971b(0x55e)]=_0x3b971b(0x62c)+_0x2beaac['setWindowId']+_0x3b971b(0x3c5)+_0x2beaac['setWindowName']+_0x3b971b(0x488)+_0x524666+_0x3b971b(0x5a9);}else _0x229a33['innerHTML']=_0x3b971b(0x2f4)+_0x2beaac[_0x3b971b(0x36c)]+_0x3b971b(0x3c5)+_0x2beaac['setWindowName']+_0x3b971b(0x230)+_0x2beaac[_0x3b971b(0x36c)]+_0x3b971b(0x2df)+_0x4591a5+_0x3b971b(0x203)+_0x1d38ef+'\x20'+parseFloat(_0x3f2c12)[_0x3b971b(0x353)](0x2)+_0x3b971b(0x4de)+_0x103379+_0x3b971b(0x658)+_0x1d176f+'</span>\x0a</div>\x0a</div>\x0a';_0x229a33['dataset'][_0x3b971b(0x36c)]=_0x2beaac[_0x3b971b(0x36c)],layout_windows[_0x3b971b(0x52a)](_0x229a33),addDragEvents(_0x229a33);});}function checkCollision(_0x17b3ef){const _0x421f0e=_0x3df022,_0x51fbc8=parseInt(_0x17b3ef['style'][_0x421f0e(0x494)]),_0xdcaa53=parseInt(_0x17b3ef[_0x421f0e(0x3f6)]['top']),_0x3bb5f5=_0x17b3ef[_0x421f0e(0x52d)],_0xe7e84b=_0x17b3ef[_0x421f0e(0x352)];let _0x198777=![];const _0x966ba3=layout_windows['querySelectorAll'](_0x421f0e(0x225));return _0x966ba3[_0x421f0e(0x492)](_0x3ef6af=>{const _0x200335=_0x421f0e;if(_0x3ef6af==_0x17b3ef)return;const _0x2de5c0=parseInt(_0x3ef6af[_0x200335(0x3f6)][_0x200335(0x494)]),_0x51ef8d=parseInt(_0x3ef6af['style'][_0x200335(0x180)]),_0x5df602=_0x3ef6af[_0x200335(0x52d)],_0x429df2=_0x3ef6af[_0x200335(0x352)];_0x51fbc8<_0x2de5c0+_0x5df602&&_0x51fbc8+_0x3bb5f5>_0x2de5c0&&_0xdcaa53<_0x51ef8d+_0x429df2&&_0xdcaa53+_0xe7e84b>_0x51ef8d&&(_0x198777=!![]);}),_0x198777;}function avoidOverlap(_0x37ff82){const _0x1a1614=_0x3df022;let _0x5e0fbc=parseInt(_0x37ff82[_0x1a1614(0x3f6)][_0x1a1614(0x494)]),_0x3ef8a7=parseInt(_0x37ff82[_0x1a1614(0x3f6)]['top']);const _0x52c6d0=0xa;let _0xe00d12=0x0;while(checkCollision(_0x37ff82)&&_0xe00d12<0x64){_0x5e0fbc+=_0x52c6d0,_0x5e0fbc+_0x37ff82[_0x1a1614(0x52d)]>layout_windows['clientWidth']&&(_0x5e0fbc=0x0,_0x3ef8a7+=_0x52c6d0,_0x3ef8a7+_0x37ff82['offsetHeight']>layout_windows[_0x1a1614(0x212)]&&(_0x3ef8a7=0x0)),_0x37ff82[_0x1a1614(0x3f6)][_0x1a1614(0x494)]=_0x5e0fbc+'px',_0x37ff82['style'][_0x1a1614(0x180)]=_0x3ef8a7+'px',_0xe00d12++;}}function constrainToBounds(_0x79feef){const _0xb4a43b=_0x3df022;let _0x224119=parseInt(_0x79feef[_0xb4a43b(0x3f6)]['left']),_0x25046f=parseInt(_0x79feef[_0xb4a43b(0x3f6)][_0xb4a43b(0x180)]);const _0x5ddc18=_0x79feef[_0xb4a43b(0x52d)],_0x262327=_0x79feef['offsetHeight'];if(_0x224119<0x0)_0x224119=0x0;if(_0x25046f<0x0)_0x25046f=0x0;if(_0x224119+_0x5ddc18>layout_windows['clientWidth'])_0x224119=layout_windows[_0xb4a43b(0x607)]-_0x5ddc18;if(_0x25046f+_0x262327>layout_windows[_0xb4a43b(0x212)])_0x25046f=layout_windows[_0xb4a43b(0x212)]-_0x262327;_0x79feef[_0xb4a43b(0x3f6)][_0xb4a43b(0x494)]=_0x224119+'px',_0x79feef['style']['top']=_0x25046f+'px';}function updateElementPosition(_0x4ec3c2){const _0x50e9ee=_0x3df022,_0x221e4e=parseInt(_0x4ec3c2[_0x50e9ee(0x1e1)][_0x50e9ee(0x36c)]),_0x42c1e9=elementos[_0x50e9ee(0x2d3)](_0x3ac366=>_0x3ac366[_0x50e9ee(0x36c)]==_0x221e4e);if(_0x42c1e9){_0x42c1e9['x']=parseInt(_0x4ec3c2[_0x50e9ee(0x3f6)][_0x50e9ee(0x494)]),_0x42c1e9['y']=parseInt(_0x4ec3c2[_0x50e9ee(0x3f6)][_0x50e9ee(0x180)]);posicionesPorPiso[_0x42c1e9['floorId']]&&(posicionesPorPiso[_0x42c1e9[_0x50e9ee(0x66d)]][_0x42c1e9[_0x50e9ee(0x36c)]]={'x':_0x42c1e9['x'],'y':_0x42c1e9['y']});const _0x483be0=extraElements[_0x50e9ee(0x544)](_0x655067=>_0x655067['setWindowId']==_0x221e4e);_0x483be0!==-0x1&&(extraElements[_0x483be0]['x']=_0x42c1e9['x'],extraElements[_0x483be0]['y']=_0x42c1e9['y']),console['log']('Posición\x20actualizada\x20de',_0x42c1e9['setWindowName'],'a',_0x42c1e9['x'],_0x42c1e9['y']);}}function addDragEvents(_0x4301de){const _0x4761c7=_0x3df022;_0x4301de['addEventListener']('click',function(_0x302241){const _0x3da13b=_0xe3e9;if(editMode)return;if(_0x302241[_0x3da13b(0x4df)][_0x3da13b(0x1ff)](_0x3da13b(0x40c))||_0x302241[_0x3da13b(0x4df)][_0x3da13b(0x1ff)](_0x3da13b(0x564)))return;const _0x309e1a=parseInt(_0x4301de[_0x3da13b(0x1e1)][_0x3da13b(0x36c)]),_0x2eb1e4=elementos['find'](_0x524fe3=>_0x524fe3[_0x3da13b(0x36c)]==_0x309e1a);_0x2eb1e4&&(_0x2eb1e4[_0x3da13b(0x2ff)]==_0x3da13b(0x37b)||_0x2eb1e4['setWindowType']==_0x3da13b(0x38a)||_0x2eb1e4[_0x3da13b(0x2ff)]==_0x3da13b(0x3ea)||_0x2eb1e4['setWindowType']==_0x3da13b(0x5ad))&&clickMesa(_0x2eb1e4,0x1);}),_0x4301de[_0x4761c7(0x1ad)]('mousedown',function(_0x113ca6){const _0xdfb787=_0x4761c7;if(!editMode)return;currentDrag=_0x4301de,offsetX=_0x113ca6[_0xdfb787(0x23b)]-parseInt(_0x4301de[_0xdfb787(0x3f6)][_0xdfb787(0x494)]),offsetY=_0x113ca6[_0xdfb787(0x1aa)]-parseInt(_0x4301de[_0xdfb787(0x3f6)][_0xdfb787(0x180)]),_0x4301de[_0xdfb787(0x3f6)][_0xdfb787(0x20c)]=0x3e8,dragStartX=_0x113ca6[_0xdfb787(0x23b)],dragStartY=_0x113ca6['clientY'],isDraggingMoved=![];}),document[_0x4761c7(0x1ad)](_0x4761c7(0x6d4),function(_0x5dcadd){const _0x2420ae=_0x4761c7;if(currentDrag&&editMode){const _0x1d4048=_0x5dcadd[_0x2420ae(0x23b)]-offsetX,_0x1f6689=_0x5dcadd[_0x2420ae(0x1aa)]-offsetY;currentDrag['style'][_0x2420ae(0x494)]=_0x1d4048+'px',currentDrag[_0x2420ae(0x3f6)]['top']=_0x1f6689+'px',!isDraggingMoved&&(Math['abs'](_0x5dcadd['clientX']-dragStartX)>0x5||Math['abs'](_0x5dcadd['clientY']-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document['addEventListener'](_0x4761c7(0x4f8),function(_0x187d3c){const _0x71040e=_0x4761c7;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x71040e(0x3f6)][_0x71040e(0x20c)]='',currentDrag=null);}),_0x4301de[_0x4761c7(0x1ad)](_0x4761c7(0x517),function(_0x961231){const _0x5ca3cd=_0x4761c7;if(!editMode)return;currentDrag=_0x4301de;const _0x291583=_0x961231[_0x5ca3cd(0x1f9)][0x0];offsetX=_0x291583[_0x5ca3cd(0x23b)]-parseInt(_0x4301de[_0x5ca3cd(0x3f6)][_0x5ca3cd(0x494)]),offsetY=_0x291583['clientY']-parseInt(_0x4301de[_0x5ca3cd(0x3f6)][_0x5ca3cd(0x180)]),_0x4301de[_0x5ca3cd(0x3f6)][_0x5ca3cd(0x20c)]=0x3e8,dragStartX=_0x291583[_0x5ca3cd(0x23b)],dragStartY=_0x291583[_0x5ca3cd(0x1aa)],isDraggingMoved=![],_0x961231[_0x5ca3cd(0x2ad)]();}),document['addEventListener'](_0x4761c7(0x5f2),function(_0x3fe330){const _0x29aaaa=_0x4761c7;if(currentDrag&&editMode){const _0x205076=_0x3fe330['touches'][0x0],_0x15c1d4=_0x205076['clientX']-offsetX,_0x4b0cca=_0x205076[_0x29aaaa(0x1aa)]-offsetY;currentDrag[_0x29aaaa(0x3f6)][_0x29aaaa(0x494)]=_0x15c1d4+'px',currentDrag[_0x29aaaa(0x3f6)]['top']=_0x4b0cca+'px',!isDraggingMoved&&(Math[_0x29aaaa(0x56d)](_0x205076[_0x29aaaa(0x23b)]-dragStartX)>0x5||Math[_0x29aaaa(0x56d)](_0x205076[_0x29aaaa(0x1aa)]-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x3fe330[_0x29aaaa(0x2ad)]();}}),document[_0x4761c7(0x1ad)](_0x4761c7(0x6b6),function(_0x244f9b){const _0x12955b=_0x4761c7;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag['style'][_0x12955b(0x20c)]='',currentDrag=null);});}async function clickMesa(_0x28e128,_0x15c795=0x1){const _0x4d3967=_0x3df022,_0x1fc45c=_0x28e128[_0x4d3967(0x36c)],_0x3c2cb4=getValidatedWindowAndShift(_0x1fc45c),{currentWindowShift:_0x38ac8f}=_0x3c2cb4;if(!_0x38ac8f)updateWindowShiftDisplay(_0x1fc45c);else{const _0x569330=_0x4d3967(0x69e)+_0x1fc45c;await switchTab(_0x569330,0x1);}_0x15c795==0x1&&hideModalLayout();}function toggleEditMode(){const _0x585bd3=_0x3df022;editMode=!editMode;const _0x1fc6ee=document[_0x585bd3(0x57b)](_0x585bd3(0x4a5));_0x1fc6ee['textContent']=editMode?_0x585bd3(0x3ad):'Editar';const _0x31487c=document[_0x585bd3(0x57b)]('addElementControls');_0x31487c&&(_0x31487c[_0x585bd3(0x3f6)][_0x585bd3(0x228)]=editMode?'block':_0x585bd3(0x18d)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x382bea=_0x3df022;if(!editMode)return;const _0x21991d=document['getElementById'](_0x382bea(0x37c)),_0x5cd35c=_0x21991d['value'];let _0x1426ee='';switch(_0x5cd35c){case'element-bar':_0x1426ee='';break;case _0x382bea(0x1c7):_0x1426ee='';break;case _0x382bea(0x35d):_0x1426ee='';break;case _0x382bea(0x684):_0x1426ee='';break;case _0x382bea(0x70d):_0x1426ee='';break;case'element-clock':_0x1426ee='';break;case _0x382bea(0x356):_0x1426ee='';break;case _0x382bea(0x34d):_0x1426ee='';break;case _0x382bea(0x4d2):_0x1426ee='';break;case'element-user':_0x1426ee='';break;case _0x382bea(0x559):_0x1426ee='';break;case'element-vertical-line':_0x1426ee='';break;case _0x382bea(0x5b9):_0x1426ee='';break;default:_0x1426ee='';}const _0x1a7b29=document['getElementById']('setFloorId'),_0xb2a0d9=_0x1a7b29[_0x382bea(0x66e)],_0x50fe79=generateUniqId(),_0x524086=0xa,_0x2a390a=0xa,_0x4015c9={'setWindowId':_0x50fe79,'setWindowType':_0x5cd35c,'setWindowName':_0x1426ee,'x':_0x524086,'y':_0x2a390a,'zona':_0x1a7b29[_0x382bea(0x18f)][_0x1a7b29[_0x382bea(0x18b)]][_0x382bea(0x496)],'floorId':_0xb2a0d9};[_0x382bea(0x37b),_0x382bea(0x38a),_0x382bea(0x3ea),_0x382bea(0x5ad)][_0x382bea(0x51a)](_0x5cd35c)&&(_0x4015c9[_0x382bea(0x43b)]=_0x382bea(0x6cc),_0x4015c9['setWindowStatus']=_0x382bea(0x4b4)),extraElements['push'](_0x4015c9),!posicionesPorPiso[_0xb2a0d9]&&(posicionesPorPiso[_0xb2a0d9]={}),posicionesPorPiso[_0xb2a0d9][_0x50fe79]={'x':_0x524086,'y':_0x2a390a},cargarVentanas(myCompany[_0x382bea(0x378)][0x0][_0x382bea(0x667)],_0xb2a0d9);}function saveLayoutState(){createCartStore('')['then'](_0x1e585d=>{const _0x2225cc=_0xe3e9,_0x5c369b=_0x1e585d[_0x2225cc(0x247)]([_0x2225cc(0x1f5)],_0x2225cc(0x4a7)),_0x2815d5=_0x5c369b['objectStore'](_0x2225cc(0x1f5)),_0x1b203f={'id':'layout','elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x52bd5d=_0x2815d5['put'](_0x1b203f);_0x52bd5d['onsuccess']=function(){const _0x24face=_0x2225cc;console[_0x24face(0x189)]('Estado\x20del\x20layout\x20guardado\x20correctamente.');},_0x52bd5d[_0x2225cc(0x24f)]=function(_0x117a38){const _0x472a6c=_0x2225cc;console[_0x472a6c(0x708)](_0x472a6c(0x278),_0x117a38[_0x472a6c(0x4df)][_0x472a6c(0x708)]);};});}async function loadLayoutState(){const _0x45a8f6=_0x3df022;try{const _0x28bba6=await createCartStore(''),_0x5a08dd=await new Promise((_0x1a162a,_0x390052)=>{const _0x41d9cd=_0xe3e9,_0xc6b6d0=_0x28bba6['transaction']([_0x41d9cd(0x1f5)],_0x41d9cd(0x33c)),_0x1ba50e=_0xc6b6d0[_0x41d9cd(0x2a1)](_0x41d9cd(0x1f5)),_0x299656=_0x1ba50e['get'](_0x41d9cd(0x547));_0x299656['onsuccess']=()=>_0x1a162a(_0x299656[_0x41d9cd(0x1b8)]),_0x299656[_0x41d9cd(0x24f)]=_0x4eb9cd=>_0x390052(_0x4eb9cd[_0x41d9cd(0x4df)][_0x41d9cd(0x708)]);});_0x5a08dd&&(elementos=_0x5a08dd[_0x45a8f6(0x294)]||[],extraElements=_0x5a08dd[_0x45a8f6(0x6b5)]||[],posicionesPorPiso=_0x5a08dd[_0x45a8f6(0x676)]||{},console[_0x45a8f6(0x189)](_0x45a8f6(0x472)));}catch(_0x270d26){console[_0x45a8f6(0x708)](_0x45a8f6(0x71c),_0x270d26);throw _0x270d26;}}function saveLayoutOnline(){const _0x378956=_0x3df022;if(!isOnline()){console[_0x378956(0x189)](_0x378956(0x57d));return;}let _0x4d2e5d={'id':_0x378956(0x547),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x2d25e8={'layout':_0x4d2e5d,'setToken':myCompany['setAuthToken']};fetch(_0x378956(0x197),{'method':_0x378956(0x484),'headers':{'Content-Type':_0x378956(0x652)},'body':JSON[_0x378956(0x638)](_0x2d25e8)})[_0x378956(0x2db)](_0x386560=>{const _0x26d42d=_0x378956;if(!_0x386560['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x386560[_0x26d42d(0x1f1)]);return _0x386560[_0x26d42d(0x68d)]();})[_0x378956(0x2db)](_0x4ffd7f=>{const _0x56e1be=_0x378956;if(!_0x4ffd7f[_0x56e1be(0x350)])throw new Error(_0x4ffd7f[_0x56e1be(0x58e)]||'Error\x20desconocido\x20al\x20guardar\x20el\x20layout.');console[_0x56e1be(0x189)](_0x56e1be(0x6c2));})[_0x378956(0x215)](_0x1beffb=>{console['error']('Error\x20al\x20guardar\x20el\x20layout\x20online:',_0x1beffb);});}function setActiveTab(_0x23d940){const _0x288949=_0x3df022,_0xe0b426=document['querySelectorAll'](_0x288949(0x375)),_0xc36fb=document[_0x288949(0x4e8)]('.layout-tab-panel');_0xe0b426[_0x288949(0x492)](_0x29dcea=>{const _0xcb08fa=_0x288949;_0x29dcea[_0xcb08fa(0x267)](_0xcb08fa(0x392))===_0x23d940?_0x29dcea[_0xcb08fa(0x6c6)]['add'](_0xcb08fa(0x399)):_0x29dcea[_0xcb08fa(0x6c6)][_0xcb08fa(0x38f)](_0xcb08fa(0x399));}),_0xc36fb[_0x288949(0x492)](_0x1f6cca=>{const _0x13516e=_0x288949;_0x1f6cca['id']===_0x13516e(0x69e)+_0x23d940?_0x1f6cca[_0x13516e(0x6c6)][_0x13516e(0x5d7)]('active'):_0x1f6cca[_0x13516e(0x6c6)]['remove'](_0x13516e(0x399));});}document[_0x3df022(0x4e8)](_0x3df022(0x375))[_0x3df022(0x492)](_0x203446=>{const _0x223dee=_0x3df022;_0x203446[_0x223dee(0x1ad)](_0x223dee(0x4a6),function(){const _0xdfc9c7=_0x223dee,_0x37418f=this['getAttribute'](_0xdfc9c7(0x392));setActiveTab(_0x37418f);});});function createTabsEnvironments(){const _0x417ecd=_0x3df022,_0x5f1688=document[_0x417ecd(0x5cd)](_0x417ecd(0x59c));_0x5f1688['innerHTML']='';const _0x325a0c=document[_0x417ecd(0x242)](_0x417ecd(0x3a9));_0x325a0c[_0x417ecd(0x67c)]='tabs-environments-container';const _0x4f618b=document['getElementById'](_0x417ecd(0x37e));if(!_0x4f618b){console[_0x417ecd(0x708)](_0x417ecd(0x6f5));return;}const _0x3a51d8=Array['from'](_0x4f618b[_0x417ecd(0x18f)]),_0x5f16a2=_0x3a51d8[_0x417ecd(0x2d3)](_0x26dab1=>_0x26dab1[_0x417ecd(0x25e)])||_0x3a51d8[0x0],_0x278b3c=document['createElement']('button');_0x278b3c[_0x417ecd(0x67c)]=_0x417ecd(0x6d8),_0x278b3c[_0x417ecd(0x1f4)]=_0x5f16a2[_0x417ecd(0x496)],_0x325a0c[_0x417ecd(0x52a)](_0x278b3c),_0x3a51d8['forEach'](_0x4d9b62=>{const _0x5f3704=_0x417ecd;if(_0x4d9b62===_0x5f16a2)return;const _0x295395=document[_0x5f3704(0x242)](_0x5f3704(0x1c3));_0x295395[_0x5f3704(0x67c)]='tabs-environments-separator',_0x295395[_0x5f3704(0x1f4)]='|',_0x325a0c[_0x5f3704(0x52a)](_0x295395);const _0x11272a=document[_0x5f3704(0x242)]('button');_0x11272a['className']=_0x5f3704(0x3a4),_0x11272a['textContent']=_0x4d9b62[_0x5f3704(0x496)],_0x11272a[_0x5f3704(0x1ad)](_0x5f3704(0x4a6),function(){const _0x5a3841=_0x5f3704;handleTabSelection(_0x4d9b62[_0x5a3841(0x66e)]);}),_0x325a0c[_0x5f3704(0x52a)](_0x11272a);}),_0x5f1688[_0x417ecd(0x52a)](_0x325a0c);}async function handleTabSelection(_0x3f1362){const _0x3d0768=_0x3df022;hideModalLayout(),document[_0x3d0768(0x57b)](_0x3d0768(0x37e))[_0x3d0768(0x66e)]=_0x3f1362,await changeEnvironments(_0x3f1362),showModalLayout();}async function resetWindowPositions(_0x10fd97,_0x22f86d){const _0x4d64a4=_0x3df022,_0x445578=myCompany[_0x4d64a4(0x2eb)][_0x4d64a4(0x674)](_0x2a5f18=>_0x2a5f18['setBranchId']==_0x10fd97&&_0x2a5f18['setFloorId']==_0x22f86d);_0x445578[_0x4d64a4(0x492)](_0x1cb6dd=>{delete _0x1cb6dd['x'],delete _0x1cb6dd['y'];}),posicionesPorPiso[_0x22f86d]&&(_0x445578[_0x4d64a4(0x492)](_0x48f76a=>{const _0x50280b=_0x4d64a4;delete posicionesPorPiso[_0x22f86d][_0x48f76a[_0x50280b(0x36c)]];}),Object[_0x4d64a4(0x1e6)](posicionesPorPiso[_0x22f86d])['length']===0x0&&delete posicionesPorPiso[_0x22f86d]);}function openMenu(_0x4d10b6,_0x46f592){const _0xab32e3=_0x3df022,_0x4d66bc=document[_0xab32e3(0x5cd)](_0xab32e3(0x591));if(_0x4d66bc)_0x4d66bc[_0xab32e3(0x38f)]();const {windowObj:_0x4b75c5}=getValidatedWindowAndShift(_0x4d10b6),_0x38949d=layout_windows,_0x4f67ad=document[_0xab32e3(0x242)]('ul');_0x4f67ad[_0xab32e3(0x67c)]=_0xab32e3(0x426);const _0x4eaa7c=[];_0x4b75c5[_0xab32e3(0x47a)]!==_0xab32e3(0x4b4)&&_0x4eaa7c[_0xab32e3(0x2a6)]({'icon':_0xab32e3(0x16e),'label':_0xab32e3(0x30d),'handler':releaseWindow});_0x4eaa7c[_0xab32e3(0x492)](({icon:_0x3f843f,label:_0x36e858,handler:_0x2b83ff})=>{const _0x459dd7=_0xab32e3,_0x5602fd=document[_0x459dd7(0x242)]('li');_0x5602fd[_0x459dd7(0x55e)]=_0x459dd7(0x62d)+_0x3f843f+_0x459dd7(0x663)+_0x36e858,_0x5602fd[_0x459dd7(0x1ad)](_0x459dd7(0x4a6),_0x23ab47=>{const _0x32fe45=_0x459dd7;_0x23ab47['stopPropagation'](),_0x2b83ff(_0x4d10b6),_0x4f67ad[_0x32fe45(0x38f)]();}),_0x5602fd[_0x459dd7(0x1ad)](_0x459dd7(0x28e),()=>_0x5602fd['style']['background']='#f0f0f0'),_0x5602fd[_0x459dd7(0x1ad)]('mouseleave',()=>_0x5602fd[_0x459dd7(0x3f6)][_0x459dd7(0x1cb)]=''),_0x4f67ad[_0x459dd7(0x52a)](_0x5602fd);});const _0x522b35=_0x38949d['getBoundingClientRect'](),_0x594737=_0x46f592[_0xab32e3(0x23b)]-_0x522b35[_0xab32e3(0x494)],_0x44874b=_0x46f592[_0xab32e3(0x1aa)]-_0x522b35[_0xab32e3(0x180)];_0x4f67ad[_0xab32e3(0x3f6)][_0xab32e3(0x494)]=_0x594737+'px',_0x4f67ad[_0xab32e3(0x3f6)][_0xab32e3(0x180)]=_0x44874b+'px',_0x38949d['appendChild'](_0x4f67ad);const _0x5efc02=_0x9b5f7b=>{const _0x5a5a74=_0xab32e3;!_0x4f67ad['contains'](_0x9b5f7b[_0x5a5a74(0x4df)])&&(_0x4f67ad[_0x5a5a74(0x38f)](),document['removeEventListener'](_0x5a5a74(0x4a6),_0x5efc02));};document[_0xab32e3(0x1ad)](_0xab32e3(0x4a6),_0x5efc02);}function editWindow(_0x4a4adc){const _0x45a550=_0x3df022;console[_0x45a550(0x189)](_0x45a550(0x1d1),_0x4a4adc);}function deleteWindow(_0x527bec){const _0x565c4b=_0x3df022;console['log'](_0x565c4b(0x1c0),_0x527bec);}async function releaseWindow(_0x21f1dc){const _0x45fc10=_0x3df022,_0x65e80d=getValidatedWindowAndShift(_0x21f1dc),{windowObj:_0x39481f,currentWindowShift:_0x2f28e5}=_0x65e80d;if(_0x2f28e5){_0x39481f['setLastDateUpdate']=nowWithMillisecondsForServer();const _0x4fc921=carts[_0x21f1dc]||[],_0x59ece2=_0x4fc921['some'](_0x192bff=>_0x192bff[_0x45fc10(0x209)]!='');if(!_0x59ece2){_0x39481f['setWindowStatus']=_0x45fc10(0x4b4);const _0x15fae9=new Date();_0x2f28e5[_0x45fc10(0x361)]='0',_0x2f28e5['setShiftDateEnd']=_0x15fae9,await apiERPsyncWindows();const _0x57e6f8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x57e6f8);const _0x2b7afb=document[_0x45fc10(0x57b)]('setFloorId')[_0x45fc10(0x66e)];await handleTabSelection(_0x2b7afb);}}}function showModalCreateWindow(){const _0x5ccd96=_0x3df022;hideModalLayout();const _0x541974=document[_0x5ccd96(0x57b)](_0x5ccd96(0x37f)),_0x5b8a37=document[_0x5ccd96(0x57b)]('modalOverlayCreateWindow');_0x541974[_0x5ccd96(0x6c6)]['add']('active'),_0x5b8a37[_0x5ccd96(0x3f6)][_0x5ccd96(0x228)]=_0x5ccd96(0x34c);}function hideModalCreateWindow(){const _0x2269e0=_0x3df022,_0x1f7e6c=document[_0x2269e0(0x57b)]('detalleModalCreateWindow'),_0x43b282=document[_0x2269e0(0x57b)]('modalOverlayCreateWindow');_0x1f7e6c[_0x2269e0(0x6c6)]['remove'](_0x2269e0(0x399)),_0x43b282[_0x2269e0(0x3f6)][_0x2269e0(0x228)]=_0x2269e0(0x18d);}document['getElementById'](_0x3df022(0x24d))[_0x3df022(0x1ad)](_0x3df022(0x4a6),hideModalCreateWindow),document[_0x3df022(0x57b)](_0x3df022(0x48a))[_0x3df022(0x1ad)](_0x3df022(0x4a6),_0x32df50=>{const _0x3983e6=_0x3df022;_0x32df50[_0x3983e6(0x4df)]==_0x32df50[_0x3983e6(0x340)]&&_0x32df50[_0x3983e6(0x5d0)]();});function showModalShift(){const _0x5112ad=_0x3df022,_0x220f6=document[_0x5112ad(0x57b)](_0x5112ad(0x1c5)),_0x18a390=document[_0x5112ad(0x57b)](_0x5112ad(0x17f));_0x220f6[_0x5112ad(0x6c6)][_0x5112ad(0x5d7)](_0x5112ad(0x399)),_0x18a390[_0x5112ad(0x3f6)][_0x5112ad(0x228)]='block';}function hideModalShift(){const _0x30de1d=_0x3df022,_0x5d8e14=document[_0x30de1d(0x57b)](_0x30de1d(0x1c5)),_0xbd7cd1=document[_0x30de1d(0x57b)](_0x30de1d(0x17f));_0x5d8e14[_0x30de1d(0x6c6)][_0x30de1d(0x38f)](_0x30de1d(0x399)),_0xbd7cd1['style'][_0x30de1d(0x228)]=_0x30de1d(0x18d);}document[_0x3df022(0x57b)](_0x3df022(0x23d))['addEventListener'](_0x3df022(0x4a6),hideModalShift),document['getElementById']('modalOverlayShift')[_0x3df022(0x1ad)]('click',_0x11c34a=>{const _0xdf3c64=_0x3df022;_0x11c34a[_0xdf3c64(0x4df)]==_0x11c34a['currentTarget']&&_0x11c34a['stopPropagation']();});async function updateShiftDisplay(){const _0x5649bf=_0x3df022;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.');return;}const _0x140d0a=document['getElementById']('setBranchId')[_0x5649bf(0x66e)],_0x1cab60=document[_0x5649bf(0x57b)](_0x5649bf(0x34a)),_0x20cdac=myCompany[_0x5649bf(0x5a8)],_0x33a034=myCompany[_0x5649bf(0x3f9)]['find'](_0x39d7b7=>_0x39d7b7[_0x5649bf(0x334)]==_0x20cdac),_0xdacbfe=_0x33a034?_0x33a034[_0x5649bf(0x176)]:'';_0x1cab60[_0x5649bf(0x55e)]='';!myCompany['setShifts']&&(myCompany[_0x5649bf(0x69c)]=[]);const _0x3d5e5e=myCompany[_0x5649bf(0x69c)],_0x26c224=_0x3d5e5e['find'](_0x4bd54b=>_0x4bd54b[_0x5649bf(0x667)]==_0x140d0a&&_0x4bd54b['setShiftStatus']=='1');if(!_0x26c224){const _0x437fa3=document[_0x5649bf(0x242)]('div');_0x437fa3[_0x5649bf(0x67c)]='shift-open-container';const _0xdbc01=document[_0x5649bf(0x242)]('div');_0xdbc01[_0x5649bf(0x67c)]=_0x5649bf(0x6dd);const _0x612cb5=document[_0x5649bf(0x242)](_0x5649bf(0x265));_0x612cb5[_0x5649bf(0x67c)]=_0x5649bf(0x1d0),_0x612cb5['src']='./img/icon-shift-open.svg',_0x612cb5[_0x5649bf(0x351)]=_0x5649bf(0x65a),_0xdbc01[_0x5649bf(0x52a)](_0x612cb5);const _0x5e8b4a=document['createElement']('div');_0x5e8b4a['className']='shift-open-rightCol';const _0x37db64=document[_0x5649bf(0x242)]('h2');_0x37db64['className']=_0x5649bf(0x66f),_0x37db64['textContent']='Apertura\x20de\x20Caja';const _0x19bf69=document['createElement'](_0x5649bf(0x3a9));_0x19bf69[_0x5649bf(0x67c)]='shift-open-row2';const _0x482f36=document['createElement'](_0x5649bf(0x22b));_0x482f36[_0x5649bf(0x67c)]=_0x5649bf(0x700),_0x482f36['textContent']=_0x5649bf(0x1d9);const _0x19f07a=document['createElement'](_0x5649bf(0x282));_0x19f07a[_0x5649bf(0x67c)]='form-control\x20custom-input-cart-options\x20shift-open-input',_0x19f07a['type']='number',_0x19f07a['id']='setCashInitialInput',_0x19f07a['placeholder']=_0xdacbfe+_0x5649bf(0x3a2),_0x19bf69[_0x5649bf(0x52a)](_0x482f36),_0x19bf69['appendChild'](_0x19f07a);const _0x1ee7c2=document[_0x5649bf(0x242)]('div');_0x1ee7c2[_0x5649bf(0x67c)]=_0x5649bf(0x6b3);const _0x415e0b=document[_0x5649bf(0x242)](_0x5649bf(0x4bd));_0x415e0b['className']=_0x5649bf(0x301),_0x415e0b['id']=_0x5649bf(0x6f9),_0x415e0b[_0x5649bf(0x1f4)]=_0x5649bf(0x24c),_0x415e0b[_0x5649bf(0x594)]=openShift,_0x1ee7c2[_0x5649bf(0x52a)](_0x415e0b),_0x5e8b4a[_0x5649bf(0x52a)](_0x37db64),_0x5e8b4a[_0x5649bf(0x52a)](_0x19bf69),_0x5e8b4a[_0x5649bf(0x52a)](_0x1ee7c2),_0x437fa3[_0x5649bf(0x52a)](_0xdbc01),_0x437fa3[_0x5649bf(0x52a)](_0x5e8b4a),_0x1cab60[_0x5649bf(0x52a)](_0x437fa3);}else{const _0x1ba1bd=getUserPermissionApiERP(0xa);let _0x2bf13f='',_0x4c3ea1=[];showLoadingModal();if(_0x1ba1bd==0x1)try{const _0x5111f8=myCompany[_0x5649bf(0x1c9)],_0x3866fa={'apiPOS_getShiftDetails':0x1,'setToken':myCompany[_0x5649bf(0x317)],'setShiftId':_0x26c224[_0x5649bf(0x1a3)]},_0x389593=await fetch(_0x5111f8,{'method':'POST','headers':{'Content-Type':_0x5649bf(0x6cf)},'body':JSON[_0x5649bf(0x638)](_0x3866fa)}),_0x52ec39=await _0x389593['json']();_0x52ec39[_0x5649bf(0x350)]&&_0x52ec39[_0x5649bf(0x58e)][_0x5649bf(0x68b)]&&(_0x4c3ea1=_0x52ec39[_0x5649bf(0x58e)]['shiftDetails']);}catch(_0x1c324b){ntfShow(_0x5649bf(0x6b0)),console[_0x5649bf(0x708)](_0x5649bf(0x542),_0x1c324b);}else _0x2bf13f=_0x5649bf(0x687);hideLoadingModal();const _0x51eeab=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x51eeab[_0x5649bf(0x67c)]=_0x5649bf(0x31e);const _0x1b4768=document[_0x5649bf(0x242)]('div');_0x1b4768[_0x5649bf(0x67c)]='shift-close-row1';const _0xecc73b=document['createElement']('div');_0xecc73b[_0x5649bf(0x67c)]=_0x5649bf(0x4b9);const _0x3c2600=document[_0x5649bf(0x242)](_0x5649bf(0x265));_0x3c2600[_0x5649bf(0x2d0)]='./img/icon-shift-close.svg',_0x3c2600['alt']='Cierre\x20de\x20Turno',_0x3c2600[_0x5649bf(0x67c)]=_0x5649bf(0x56b),_0xecc73b[_0x5649bf(0x52a)](_0x3c2600);const _0x3d8962=document[_0x5649bf(0x242)]('div');_0x3d8962[_0x5649bf(0x67c)]=_0x5649bf(0x412);const _0x3c6efa=document[_0x5649bf(0x242)]('h2');_0x3c6efa['innerHTML']=_0x5649bf(0x5a7),_0x3c6efa[_0x5649bf(0x67c)]='shift-close-title',_0x3d8962[_0x5649bf(0x52a)](_0x3c6efa),_0x1b4768['appendChild'](_0xecc73b),_0x1b4768[_0x5649bf(0x52a)](_0x3d8962),_0x51eeab[_0x5649bf(0x52a)](_0x1b4768);const _0x4c5ec9=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x4c5ec9[_0x5649bf(0x67c)]=_0x5649bf(0x5e0);const _0x2bd483=document[_0x5649bf(0x242)]('div');_0x2bd483[_0x5649bf(0x67c)]='shift-close-info-col';const _0x5967c4=document[_0x5649bf(0x242)]('label');_0x5967c4['textContent']='Cajero:',_0x5967c4[_0x5649bf(0x67c)]=_0x5649bf(0x171),_0x2bd483[_0x5649bf(0x52a)](_0x5967c4);const _0x21ea61=document['createElement']('img');_0x21ea61[_0x5649bf(0x2d0)]='./img/icon-shift-user.svg',_0x21ea61[_0x5649bf(0x351)]=_0x5649bf(0x274),_0x21ea61['className']=_0x5649bf(0x34e),_0x2bd483[_0x5649bf(0x52a)](_0x21ea61);const _0x509ca8=document[_0x5649bf(0x242)](_0x5649bf(0x1c3));_0x509ca8[_0x5649bf(0x1f4)]=myCompany[_0x5649bf(0x533)][_0x5649bf(0x18c)],_0x509ca8[_0x5649bf(0x67c)]=_0x5649bf(0x6c4),_0x2bd483[_0x5649bf(0x52a)](_0x509ca8);const _0x26bf37=document[_0x5649bf(0x242)]('div');_0x26bf37['className']='shift-close-info-col';const _0x48220b=document[_0x5649bf(0x242)]('label');_0x48220b[_0x5649bf(0x1f4)]=_0x5649bf(0x3d8),_0x48220b[_0x5649bf(0x67c)]=_0x5649bf(0x171),_0x26bf37[_0x5649bf(0x52a)](_0x48220b);const _0x21ba44=document[_0x5649bf(0x242)](_0x5649bf(0x265));_0x21ba44[_0x5649bf(0x2d0)]=_0x5649bf(0x1bb),_0x21ba44[_0x5649bf(0x351)]=_0x5649bf(0x64d),_0x21ba44[_0x5649bf(0x67c)]=_0x5649bf(0x34e),_0x26bf37[_0x5649bf(0x52a)](_0x21ba44);const _0x3f02ce=new Date(_0x26c224[_0x5649bf(0x3b6)]),_0x57df79=document['createElement'](_0x5649bf(0x1c3));_0x57df79[_0x5649bf(0x1f4)]=_0x3f02ce[_0x5649bf(0x5cc)](),_0x57df79[_0x5649bf(0x67c)]=_0x5649bf(0x6c4),_0x26bf37[_0x5649bf(0x52a)](_0x57df79),_0x4c5ec9[_0x5649bf(0x52a)](_0x2bd483),_0x4c5ec9[_0x5649bf(0x52a)](_0x26bf37),_0x51eeab[_0x5649bf(0x52a)](_0x4c5ec9);const _0x248172=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x248172['className']=_0x5649bf(0x6e1)+_0x2bf13f;const _0x2a7e96=document['createElement']('table');_0x2a7e96[_0x5649bf(0x67c)]=_0x5649bf(0x381)+_0x2bf13f,_0x2a7e96['style'][_0x5649bf(0x50e)]=_0x5649bf(0x699);const _0x5bc3e0=document[_0x5649bf(0x242)](_0x5649bf(0x4e5)),_0x4c3c29=document[_0x5649bf(0x242)]('tr'),_0x41e2ff=['\x20','Ingresos',_0x5649bf(0x2be),_0x5649bf(0x501)];_0x41e2ff[_0x5649bf(0x492)](_0x274273=>{const _0x1c8a05=_0x5649bf,_0x157175=document['createElement']('th');_0x274273==_0x1c8a05(0x2be)&&(_0x157175[_0x1c8a05(0x67c)]='shift-table-expenses'),_0x157175[_0x1c8a05(0x1f4)]=_0x274273,_0x4c3c29[_0x1c8a05(0x52a)](_0x157175);}),_0x5bc3e0['appendChild'](_0x4c3c29),_0x2a7e96['appendChild'](_0x5bc3e0);const _0x4f08fa=document[_0x5649bf(0x242)](_0x5649bf(0x67b));function _0x26a350(_0x1c58e5,_0xbb0f1c,_0x4c6f47){const _0x4b90f2=_0x5649bf,_0x242b00=document[_0x4b90f2(0x242)]('tr'),_0x241803=document['createElement']('td');_0x241803[_0x4b90f2(0x1f4)]=_0x1c58e5;const _0x3b3013=document[_0x4b90f2(0x242)]('td');_0x3b3013[_0x4b90f2(0x1f4)]=_0xbb0f1c;const _0x17b1b9=document[_0x4b90f2(0x242)]('td');_0x17b1b9[_0x4b90f2(0x67c)]=_0x4b90f2(0x40e),_0x17b1b9[_0x4b90f2(0x1f4)]=_0x4c6f47;const _0x2cde33=document[_0x4b90f2(0x242)]('td');return _0x2cde33[_0x4b90f2(0x1f4)]=(parseFloat(_0xbb0f1c)-parseFloat(_0x4c6f47))[_0x4b90f2(0x353)](0x2),_0x242b00['appendChild'](_0x241803),_0x242b00['appendChild'](_0x3b3013),_0x242b00[_0x4b90f2(0x52a)](_0x17b1b9),_0x242b00[_0x4b90f2(0x52a)](_0x2cde33),_0x242b00;}let _0xb4659b=0x0,_0x3deb1c=0x0,_0x1e9003=0x0,_0x5df5d7=0x0;myCompany['setPayments']['forEach'](_0x2690e2=>{const _0x172d42=_0x5649bf;let _0x28bb11=_0x4c3ea1[_0x172d42(0x674)](_0x4452ef=>_0x4452ef[_0x172d42(0x1d5)]==0x1&&_0x4452ef[_0x172d42(0x406)]==_0x2690e2['setPaymentCode'])['reduce']((_0x39c23f,_0x45a905)=>_0x39c23f+parseFloat(_0x45a905['setPaymentAmount']),0x0),_0x1c763f=_0x4c3ea1[_0x172d42(0x674)](_0x35a895=>_0x35a895[_0x172d42(0x1d5)]==0x2&&_0x35a895[_0x172d42(0x406)]==_0x2690e2[_0x172d42(0x406)])[_0x172d42(0x6a5)]((_0x268b34,_0x5304fe)=>_0x268b34+parseFloat(_0x5304fe[_0x172d42(0x40d)]),0x0);_0xb4659b+=_0x28bb11,_0x3deb1c+=_0x1c763f,(_0x2690e2[_0x172d42(0x406)]==_0x172d42(0x68e)||_0x2690e2['setPaymentCode']==_0x172d42(0x1ab))&&(_0x1e9003=_0x28bb11,_0x5df5d7=_0x1c763f),(_0x2690e2[_0x172d42(0x406)]==_0x172d42(0x68e)||_0x2690e2['setPaymentCode']=='cash'||_0x28bb11>0x0||_0x1c763f>0x0)&&_0x4f08fa[_0x172d42(0x52a)](_0x26a350(_0x2690e2[_0x172d42(0x244)],parseFloat(_0x28bb11)[_0x172d42(0x353)](0x2),parseFloat(_0x1c763f)[_0x172d42(0x353)](0x2)));});const _0x409326=_0x26a350(_0x5649bf(0x435),parseFloat(_0xb4659b)[_0x5649bf(0x353)](0x2),parseFloat(_0x3deb1c)[_0x5649bf(0x353)](0x2));_0x409326['lastChild'][_0x5649bf(0x1f4)]=(parseFloat(_0xb4659b)-parseFloat(_0x3deb1c))[_0x5649bf(0x353)](0x2),_0x4f08fa[_0x5649bf(0x52a)](_0x409326),_0x2a7e96['appendChild'](_0x4f08fa),_0x248172[_0x5649bf(0x52a)](_0x2a7e96),_0x51eeab[_0x5649bf(0x52a)](_0x248172);const _0x7b07e9=document[_0x5649bf(0x242)]('div');_0x7b07e9[_0x5649bf(0x67c)]=_0x5649bf(0x36b)+_0x2bf13f;const _0x2aa146=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x2aa146[_0x5649bf(0x67c)]=_0x5649bf(0x42e);const _0xd112b6=document['createElement'](_0x5649bf(0x22b));_0xd112b6[_0x5649bf(0x1f4)]=_0x5649bf(0x394),_0xd112b6[_0x5649bf(0x67c)]=_0x5649bf(0x365),_0x2aa146[_0x5649bf(0x52a)](_0xd112b6);const _0x4cc80f=document[_0x5649bf(0x242)]('span');_0x4cc80f['textContent']=_0xdacbfe+'\x20'+parseFloat(_0x26c224['setCashInitial'])[_0x5649bf(0x353)](0x2),_0x4cc80f['className']=_0x5649bf(0x3fe),_0x2aa146[_0x5649bf(0x52a)](_0x4cc80f);const _0x5a05f3=document[_0x5649bf(0x242)]('div');_0x5a05f3[_0x5649bf(0x67c)]=_0x5649bf(0x42e);const _0x643b79=document[_0x5649bf(0x242)](_0x5649bf(0x22b));_0x643b79[_0x5649bf(0x1f4)]=_0x5649bf(0x6d2),_0x643b79[_0x5649bf(0x67c)]='shift-close-infoLabel',_0x5a05f3[_0x5649bf(0x52a)](_0x643b79);const _0x3d98e6=_0x1e9003-_0x5df5d7,_0x27bad7=document[_0x5649bf(0x242)](_0x5649bf(0x1c3));_0x27bad7[_0x5649bf(0x1f4)]=_0xdacbfe+'\x20'+parseFloat(_0x3d98e6)[_0x5649bf(0x353)](0x2),_0x27bad7['className']=_0x5649bf(0x3fe),_0x5a05f3[_0x5649bf(0x52a)](_0x27bad7),_0x7b07e9['appendChild'](_0x2aa146),_0x7b07e9['appendChild'](_0x5a05f3);const _0x57ac08=document['createElement'](_0x5649bf(0x3a9));_0x57ac08[_0x5649bf(0x67c)]=_0x5649bf(0x36b)+_0x2bf13f;const _0x3012a7=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x3012a7['className']=_0x5649bf(0x42e);const _0x3a12b3=document[_0x5649bf(0x242)]('label');_0x3a12b3[_0x5649bf(0x1f4)]=_0x5649bf(0x704),_0x3a12b3['className']=_0x5649bf(0x365),_0x3012a7[_0x5649bf(0x52a)](_0x3a12b3);const _0x146c6b=(parseFloat(_0x26c224[_0x5649bf(0x349)])+parseFloat(_0x3d98e6))[_0x5649bf(0x353)](0x2),_0xd9aa37=document[_0x5649bf(0x242)](_0x5649bf(0x1c3));_0xd9aa37[_0x5649bf(0x1f4)]=_0xdacbfe+'\x20'+_0x146c6b,_0xd9aa37[_0x5649bf(0x67c)]=_0x5649bf(0x3fe);const _0x52d42c=document['createElement'](_0x5649bf(0x282));_0x52d42c[_0x5649bf(0x421)]=_0x5649bf(0x687),_0x52d42c['id']=_0x5649bf(0x233),_0x52d42c[_0x5649bf(0x66e)]=_0x146c6b,_0x3012a7[_0x5649bf(0x52a)](_0xd9aa37),_0x3012a7[_0x5649bf(0x52a)](_0x52d42c);const _0x2a1d59=document['createElement'](_0x5649bf(0x3a9));_0x2a1d59[_0x5649bf(0x67c)]='shift-close-info-col';const _0x474506=document[_0x5649bf(0x242)]('label');_0x474506[_0x5649bf(0x1f4)]=_0x5649bf(0x21e),_0x474506['className']=_0x5649bf(0x365),_0x2a1d59[_0x5649bf(0x52a)](_0x474506);const _0x4855c2=document[_0x5649bf(0x242)](_0x5649bf(0x282));_0x4855c2[_0x5649bf(0x421)]=_0x5649bf(0x476),_0x4855c2['id']=_0x5649bf(0x308),_0x4855c2[_0x5649bf(0x67c)]='form-control\x20custom-input-cart-options\x20shift-close-input',_0x2a1d59[_0x5649bf(0x52a)](_0x4855c2),_0x57ac08[_0x5649bf(0x52a)](_0x3012a7),_0x57ac08[_0x5649bf(0x52a)](_0x2a1d59),_0x51eeab['appendChild'](_0x7b07e9),_0x51eeab[_0x5649bf(0x52a)](_0x57ac08);const _0x19373a=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x19373a[_0x5649bf(0x67c)]='shift-close-row5';const _0x112dd5=document['createElement']('label');_0x112dd5[_0x5649bf(0x1f4)]=_0x5649bf(0x364),_0x112dd5[_0x5649bf(0x67c)]=_0x5649bf(0x23c),_0x19373a[_0x5649bf(0x52a)](_0x112dd5);const _0x543e18=document[_0x5649bf(0x242)](_0x5649bf(0x222));_0x543e18[_0x5649bf(0x3f6)][_0x5649bf(0x50e)]=_0x5649bf(0x699),_0x543e18['id']='setShiftNotes',_0x543e18[_0x5649bf(0x6cb)]='2',_0x543e18['className']='form-control\x20custom-input-cart-options\x20shift-close-textarea',_0x19373a[_0x5649bf(0x52a)](_0x543e18);const _0x4a8159=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x4a8159[_0x5649bf(0x67c)]='shift-close-differentialRow\x20'+_0x2bf13f;const _0x34995f=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x34995f[_0x5649bf(0x67c)]='shift-close-diff-col';const _0x5b77cb=document['createElement']('label');_0x5b77cb['textContent']='Diferencial:',_0x5b77cb[_0x5649bf(0x67c)]=_0x5649bf(0x1b2),_0x34995f[_0x5649bf(0x52a)](_0x5b77cb);const _0x48ed5f=document['createElement'](_0x5649bf(0x3a9));_0x48ed5f[_0x5649bf(0x67c)]=_0x5649bf(0x6e9);const _0x1e6df7=document[_0x5649bf(0x242)]('span');_0x1e6df7[_0x5649bf(0x1f4)]=_0xdacbfe+_0x5649bf(0x3a2),_0x1e6df7[_0x5649bf(0x67c)]=_0x5649bf(0x1c2),_0x48ed5f[_0x5649bf(0x52a)](_0x1e6df7),_0x4a8159[_0x5649bf(0x52a)](_0x34995f),_0x4a8159[_0x5649bf(0x52a)](_0x48ed5f),_0x4855c2[_0x5649bf(0x1ad)](_0x5649bf(0x282),function(){const _0x1dedf4=_0x5649bf,_0x2f78f7=parseFloat(_0x4855c2[_0x1dedf4(0x66e)])||0x0,_0x1cf8ec=_0x2f78f7-_0x146c6b;_0x1e6df7[_0x1dedf4(0x1f4)]=_0xdacbfe+'\x20'+_0x1cf8ec['toFixed'](0x2);});const _0x33178b=document[_0x5649bf(0x242)](_0x5649bf(0x3a9));_0x33178b[_0x5649bf(0x67c)]=_0x5649bf(0x610);const _0x90412e=document[_0x5649bf(0x242)](_0x5649bf(0x4bd));_0x90412e['id']=_0x5649bf(0x69b),_0x90412e['textContent']='Cerrar\x20Turno',_0x90412e[_0x5649bf(0x67c)]='shift-close-btn',_0x90412e[_0x5649bf(0x594)]=closeShift,_0x33178b[_0x5649bf(0x52a)](_0x90412e),_0x51eeab[_0x5649bf(0x52a)](_0x19373a),_0x51eeab['appendChild'](_0x4a8159),_0x51eeab[_0x5649bf(0x52a)](_0x33178b),_0x1cab60['appendChild'](_0x51eeab);}showModalShift();}async function openShift(){const _0x40bc8a=_0x3df022;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.');return;}const _0x2472bc=document[_0x40bc8a(0x57b)](_0x40bc8a(0x6f9));if(!_0x2472bc){console['error'](_0x40bc8a(0x16b));return;}_0x2472bc[_0x40bc8a(0x497)]=!![],hideModalShift(),showLoadingModal();const _0x390f66=document[_0x40bc8a(0x57b)]('setCashInitialInput'),_0x41d47c=_0x390f66[_0x40bc8a(0x66e)];if(_0x41d47c==''||isNaN(_0x41d47c)){ntfShow(_0x40bc8a(0x2b3)),_0x2472bc[_0x40bc8a(0x497)]=![],hideLoadingModal();return;}const _0x458d6e=document[_0x40bc8a(0x57b)]('setBranchId')[_0x40bc8a(0x66e)],_0x657375=document[_0x40bc8a(0x57b)](_0x40bc8a(0x649))[_0x40bc8a(0x66e)],_0xc7db3d=parseFloat(_0x41d47c),_0x491ee3=new Date();try{const _0x482ac0=myCompany['setApiEndPoint'],_0x117860={'apiPOS_shift':0x1,'setToken':myCompany[_0x40bc8a(0x317)],'setBranchId':_0x458d6e,'setCashierId':_0x657375,'setCashInitial':_0xc7db3d,'setShiftDateStart':_0x491ee3},_0x1bfad=await fetch(_0x482ac0,{'method':_0x40bc8a(0x484),'headers':{'Content-Type':_0x40bc8a(0x6cf)},'body':JSON['stringify'](_0x117860)}),_0x3f9471=await _0x1bfad[_0x40bc8a(0x68d)]();if(_0x3f9471[_0x40bc8a(0x350)]&&_0x3f9471[_0x40bc8a(0x58e)][_0x40bc8a(0x1a3)]){const _0x6e9752=_0x3f9471[_0x40bc8a(0x58e)][_0x40bc8a(0x1a3)];let _0x2285fa=myCompany[_0x40bc8a(0x69c)][_0x40bc8a(0x2d3)](_0x272da0=>_0x272da0[_0x40bc8a(0x667)]==_0x458d6e);_0x2285fa?(_0x2285fa[_0x40bc8a(0x1a3)]=_0x6e9752,_0x2285fa[_0x40bc8a(0x349)]=_0xc7db3d,_0x2285fa[_0x40bc8a(0x361)]='1',_0x2285fa[_0x40bc8a(0x3b6)]=_0x491ee3):myCompany[_0x40bc8a(0x69c)][_0x40bc8a(0x2a6)]({'setShiftId':_0x6e9752,'setCashInitial':_0xc7db3d,'setShiftStatus':'1','setShiftDateStart':_0x491ee3,'setBranchId':_0x458d6e});try{const _0x4f33a5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4f33a5),ntfShow(_0x40bc8a(0x250)+_0x491ee3['toLocaleString']());}catch(_0x32d7dc){console[_0x40bc8a(0x708)]('Shift\x20Save\x20Error:',_0x32d7dc);throw _0x32d7dc;}}else ntfShow(_0x40bc8a(0x66b)),console[_0x40bc8a(0x189)](_0x40bc8a(0x66b));}catch(_0x4bd4da){ntfShow(_0x40bc8a(0x6b0)),console[_0x40bc8a(0x708)]('Error\x20en\x20la\x20solicitud:',_0x4bd4da);}finally{_0x2472bc[_0x40bc8a(0x497)]=![],hideLoadingModal();}}async function closeShift(){const _0x4676df=_0x3df022;if(!isOnline()){ntfShow(_0x4676df(0x686));return;}const _0x441788=document[_0x4676df(0x57b)](_0x4676df(0x69b)),_0x5462b5=document['getElementById']('setShiftCount'),_0x343cb2=document[_0x4676df(0x57b)](_0x4676df(0x233)),_0x14ee10=document[_0x4676df(0x57b)]('setShiftNotes');if(!_0x441788){console['error']('No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd');return;}_0x441788[_0x4676df(0x497)]=!![],hideModalShift(),showLoadingModal();const _0x3bb6b4=document[_0x4676df(0x57b)](_0x4676df(0x667))['value'];let _0x176434=myCompany[_0x4676df(0x69c)][_0x4676df(0x2d3)](_0x49eec6=>_0x49eec6[_0x4676df(0x667)]==_0x3bb6b4&&_0x49eec6[_0x4676df(0x361)]=='1');if(!_0x176434){ntfShow(_0x4676df(0x666)),_0x441788[_0x4676df(0x497)]=![],hideLoadingModal();return;}const _0x16fc12=new Date();try{const _0x9fbd03=myCompany[_0x4676df(0x1c9)],_0x39acc5={'apiPOS_shift':0x1,'setToken':myCompany[_0x4676df(0x317)],'setShiftId':_0x176434[_0x4676df(0x1a3)],'setShiftDateEnd':_0x16fc12,'setShiftCount':parseFloat(_0x5462b5['value']),'setShiftCashAmount':parseFloat(_0x343cb2[_0x4676df(0x66e)]),'setShiftNotes':_0x14ee10[_0x4676df(0x66e)]},_0x3da816=await fetch(_0x9fbd03,{'method':_0x4676df(0x484),'headers':{'Content-Type':_0x4676df(0x6cf)},'body':JSON[_0x4676df(0x638)](_0x39acc5)}),_0x2eb9ad=await _0x3da816[_0x4676df(0x68d)]();if(_0x2eb9ad[_0x4676df(0x350)]&&_0x2eb9ad[_0x4676df(0x58e)][_0x4676df(0x1a3)]){_0x176434['setShiftStatus']='0',_0x176434[_0x4676df(0x349)]='',_0x176434[_0x4676df(0x1a3)]='',_0x176434[_0x4676df(0x3b6)]='';try{const _0x5179f0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5179f0),ntfShow(_0x4676df(0x25f)+_0x16fc12[_0x4676df(0x5cc)]()),hideModalShift();}catch(_0x4bb74a){console[_0x4676df(0x708)](_0x4676df(0x5a6),_0x4bb74a);throw _0x4bb74a;}}else ntfShow(_0x4676df(0x66b)),console[_0x4676df(0x189)](_0x4676df(0x66b));}catch(_0x7626ff){ntfShow('Error\x20en\x20la\x20solicitud'),console[_0x4676df(0x708)](_0x4676df(0x542),_0x7626ff);}finally{_0x441788['disabled']=![],hideLoadingModal();}}async function changeEnvironments(_0xafcee){const _0x3622d7=_0x3df022;await loadLayoutState();const _0x12cd1e=_0xafcee,_0x3d560b=myCompany[_0x3622d7(0x2eb)]['filter'](_0x290ace=>_0x290ace[_0x3622d7(0x37e)]==_0x12cd1e),_0x4c9c05=document[_0x3622d7(0x57b)](_0x3622d7(0x6b4));_0x4c9c05[_0x3622d7(0x55e)]='',_0x3d560b[_0x3622d7(0x492)](_0x35fed6=>{const _0x35f00e=_0x3622d7,_0x27922f=document[_0x35f00e(0x242)](_0x35f00e(0x398));_0x27922f[_0x35f00e(0x66e)]=_0x35f00e(0x69e)+_0x35fed6[_0x35f00e(0x36c)],_0x27922f['textContent']=_0x35fed6[_0x35f00e(0x6a7)],_0x4c9c05[_0x35f00e(0x52a)](_0x27922f);});const _0x3a0528=_0x4c9c05['value'],_0x132a3e=_0x3a0528[_0x3622d7(0x3b0)]('-')[0x1];document[_0x3622d7(0x57b)](_0x3622d7(0x303))[_0x3622d7(0x66e)]=_0x132a3e,await switchTab(_0x3a0528);}document[_0x3df022(0x57b)]('tabs-home')[_0x3df022(0x1ad)]('click',function(_0xbe7fa4){const _0x3c3cb3=_0x3df022;_0xbe7fa4[_0x3c3cb3(0x2ad)]();const _0x441817=myCompany[_0x3c3cb3(0x1c9)];try{const _0x3ec019=new URL(_0x441817),_0x21fb9d=_0x3ec019['origin'],_0x1639d8=_0x21fb9d+_0x3c3cb3(0x6ad);window[_0x3c3cb3(0x1f8)](_0x1639d8,_0x3c3cb3(0x3ae));}catch(_0x38b902){console[_0x3c3cb3(0x708)]('Error\x20al\x20procesar\x20la\x20URL:',_0x38b902);}}),document[_0x3df022(0x57b)](_0x3df022(0x425))[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x28a069){_0x28a069['preventDefault'](),updateShiftDisplay();}),document[_0x3df022(0x57b)](_0x3df022(0x440))[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x4dfa49){const _0x139070=_0x3df022;_0x4dfa49[_0x139070(0x2ad)](),showModalCreateWindow();}),document[_0x3df022(0x57b)](_0x3df022(0x473))[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x3934bd){_0x3934bd['preventDefault']();}),document[_0x3df022(0x57b)]('tabs-areas')[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x1cdce3){const _0x32bc93=_0x3df022;_0x1cdce3[_0x32bc93(0x2ad)](),showModalLayout();}),document[_0x3df022(0x57b)](_0x3df022(0x20d))['addEventListener'](_0x3df022(0x4a6),function(_0x5371b0){const _0x457df4=_0x3df022;_0x5371b0[_0x457df4(0x2ad)](),showModalLayout();}),document[_0x3df022(0x57b)](_0x3df022(0x69d))['addEventListener'](_0x3df022(0x4a6),function(_0x4557ca){const _0x367bb8=_0x3df022;_0x4557ca[_0x367bb8(0x2ad)](),showRightSection();}),document[_0x3df022(0x57b)]('search_more_products')[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x3308af){const _0x3c3489=_0x3df022;_0x3308af[_0x3c3489(0x2ad)](),showLeftSection(),showSection(_0x3c3489(0x5fc));}),document[_0x3df022(0x57b)](_0x3df022(0x184))[_0x3df022(0x1ad)]('click',function(_0x34af12){const _0x2fd569=_0x3df022;_0x34af12[_0x2fd569(0x2ad)](),showModalCreateItem(0x0);}),document[_0x3df022(0x57b)](_0x3df022(0x60a))[_0x3df022(0x1ad)](_0x3df022(0x4a6),function(_0x34ca5c){_0x34ca5c['preventDefault'](),showModalCreateItem(0x1);}),document[_0x3df022(0x57b)](_0x3df022(0x4a5))[_0x3df022(0x1ad)]('click',function(_0x549812){_0x549812['preventDefault'](),toggleEditMode();}),document[_0x3df022(0x57b)]('input-setWindowType')[_0x3df022(0x1ad)]('change',function(_0x1ccb06){const _0x1772c4=_0x3df022;_0x1ccb06['preventDefault']();const _0x13bc71=document[_0x1772c4(0x57b)]('img-create-window'),_0x398916=this[_0x1772c4(0x66e)];let _0x525276=_0x1772c4(0x606);if(_0x398916=='1')_0x525276=_0x1772c4(0x606);else{if(_0x398916=='2')_0x525276=_0x1772c4(0x697);else _0x398916=='3'&&(_0x525276=_0x1772c4(0x24a));}_0x13bc71[_0x1772c4(0x2d0)]=_0x525276;}),document['getElementById'](_0x3df022(0x1fd))[_0x3df022(0x1ad)](_0x3df022(0x4a6),async function(_0x87d295){const _0x3f865f=_0x3df022;_0x87d295[_0x3f865f(0x2ad)]();if(!isOnline()){ntfShow(_0x3f865f(0x5db));return;}this[_0x3f865f(0x497)]=!![],hideModalCreateWindow(),showLoadingModal();const _0x502427=document[_0x3f865f(0x57b)](_0x3f865f(0x1cc)),_0x40ea11=document[_0x3f865f(0x57b)](_0x3f865f(0x174)),_0x415d7f=document[_0x3f865f(0x57b)](_0x3f865f(0x667)),_0x2ce379=document[_0x3f865f(0x57b)](_0x3f865f(0x37e)),_0xa04cf7={'setAuthToken':myCompany[_0x3f865f(0x317)],'setWindowType':_0x502427[_0x3f865f(0x66e)],'setWindowName':_0x40ea11['value'],'setBranchId':_0x415d7f[_0x3f865f(0x66e)],'setEnvironmentId':_0x2ce379[_0x3f865f(0x66e)]};try{const _0x25cd81=await fetch(_0x3f865f(0x68c),{'method':_0x3f865f(0x484),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0xa04cf7)});if(!_0x25cd81['ok']){hideLoadingModal(),this[_0x3f865f(0x497)]=![],ntfShow('Error:\x20'+_0x25cd81[_0x3f865f(0x1f1)]),showModalCreateWindow();return;}const _0x1bf1c5=await _0x25cd81[_0x3f865f(0x68d)]();if(!_0x1bf1c5[_0x3f865f(0x350)]){hideLoadingModal(),this['disabled']=![],ntfShow(_0x1bf1c5['message']||'Error\x20desconocido.'),showModalCreateWindow();return;}const _0x400006=_0x1bf1c5[_0x3f865f(0x58e)];console[_0x3f865f(0x189)](_0x400006),myCompany[_0x3f865f(0x2eb)][_0x3f865f(0x2a6)](_0x400006),await resetWindowPositions(_0x415d7f[_0x3f865f(0x66e)],_0x2ce379[_0x3f865f(0x66e)]);const _0x9b3a66=await createCartStore('');await saveCompanyToIndexedDB(company,_0x9b3a66),addNewTab(_0x400006[_0x3f865f(0x36c)]),hideLoadingModal(),this[_0x3f865f(0x497)]=![],_0x40ea11['value']='',ntfShow(_0x3f865f(0x2bb)),showModalLayout();}catch(_0x210acd){hideLoadingModal(),this['disabled']=![],ntfShow(_0x3f865f(0x33e)+_0x210acd[_0x3f865f(0x58e)]),showModalCreateWindow();}}),window[_0x3df022(0x1ad)](_0x3df022(0x4d5),()=>{const _0x249916=_0x3df022,_0x154ca0=window['innerWidth'];if(_0x154ca0!==lastWindowWidth){lastWindowWidth=_0x154ca0;if(isMobile())showLeftSection();else{const _0x46a373=document[_0x249916(0x57b)](_0x249916(0x386)),_0x4241b7=document[_0x249916(0x57b)]('div_section_right');_0x46a373[_0x249916(0x3f6)][_0x249916(0x466)](_0x249916(0x228),'flex',_0x249916(0x293)),_0x4241b7[_0x249916(0x3f6)][_0x249916(0x466)](_0x249916(0x228),_0x249916(0x504),'important');}}adjustHeight();}),window[_0x3df022(0x1ad)](_0x3df022(0x1c1),updateInternetIcon),window['addEventListener'](_0x3df022(0x41e),updateInternetIcon),window['onload']=function(){const _0x35f8fe=_0x3df022,_0x34b954=0x1;loadLoginContent(_0x35f8fe(0x689)),setUserNameGet(),setEventBtnAccess(),document[_0x35f8fe(0x355)][_0x35f8fe(0x1ad)](_0x35f8fe(0x662),_0x3e69c3=>{const _0x3d5fe5=_0x35f8fe,_0x4af5d0=_0x3e69c3[_0x3d5fe5(0x4df)];if(_0x4af5d0['id']&&_0x4af5d0['id'][_0x3d5fe5(0x696)](_0x3d5fe5(0x238))){const _0x5a284a=_0x4af5d0['id'][_0x3d5fe5(0x3b0)]('-')[_0x3d5fe5(0x232)]();let _0x50d77b=parseFloat(_0x4af5d0[_0x3d5fe5(0x66e)])||0x0;isNaN(_0x50d77b)||_0x50d77b<0x0?_0x4af5d0[_0x3d5fe5(0x66e)]=_0x3d5fe5(0x6bd):(_0x4af5d0[_0x3d5fe5(0x66e)]=_0x50d77b[_0x3d5fe5(0x353)](0x2),_0x50d77b=_0x50d77b[_0x3d5fe5(0x353)](0x2)),window_options[_0x5a284a][_0x3d5fe5(0x24e)]=_0x50d77b,saveWindowOptionsDB(_0x5a284a)[_0x3d5fe5(0x2db)](()=>{renderCart(_0x5a284a);})[_0x3d5fe5(0x215)](_0x1d2ca9=>{const _0x25c6bf=_0x3d5fe5;console[_0x25c6bf(0x708)](_0x25c6bf(0x409),_0x1d2ca9);});}}),document[_0x35f8fe(0x355)][_0x35f8fe(0x1ad)](_0x35f8fe(0x70c),_0x5e9b84=>{const _0x4123e0=_0x35f8fe,_0x40d2fe=_0x5e9b84[_0x4123e0(0x4df)];if(_0x40d2fe['id']&&_0x40d2fe['id'][_0x4123e0(0x696)](_0x4123e0(0x238))){const _0x335588=_0x40d2fe['id'][_0x4123e0(0x3b0)]('-')[_0x4123e0(0x232)]();let _0x26c693=parseFloat(_0x40d2fe['value'])||0x0;isNaN(_0x26c693)||_0x26c693<0x0?_0x40d2fe[_0x4123e0(0x66e)]=_0x4123e0(0x6bd):(_0x40d2fe['value']=_0x26c693['toFixed'](0x2),_0x26c693=_0x26c693[_0x4123e0(0x353)](0x2)),window_options[_0x335588]['setDescuentoGlobal_Monto']=_0x26c693,saveWindowOptionsDB(_0x335588)[_0x4123e0(0x2db)](()=>{renderCart(_0x335588);})[_0x4123e0(0x215)](_0x43e585=>{const _0x55988f=_0x4123e0;console[_0x55988f(0x708)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:',_0x43e585);});}},!![]);const _0x2c9cb8=document[_0x35f8fe(0x5cd)](_0x35f8fe(0x597));_0x2c9cb8&&_0x2c9cb8[_0x35f8fe(0x1ad)]('click',function(){logoutReload(0x0,_0x34b954);});let _0x2aedd8=[];const _0x43cf54=document[_0x35f8fe(0x57b)](_0x35f8fe(0x377)),_0x42585c=document[_0x35f8fe(0x57b)]('previewList');_0x43cf54[_0x35f8fe(0x1ad)](_0x35f8fe(0x46a),()=>{const _0x4c6869=_0x35f8fe;Array['from'](_0x43cf54[_0x4c6869(0x407)])['forEach'](_0x1c6744=>{const _0x4b424b=_0x4c6869,_0x19462d=Date[_0x4b424b(0x67d)]()+Math['random']();_0x2aedd8[_0x4b424b(0x2a6)]({'file':_0x1c6744,'id':_0x19462d});const _0x19a717=document['createElement'](_0x4b424b(0x3a9));_0x19a717['className']=_0x4b424b(0x3c3),_0x19a717['dataset']['id']=_0x19462d;if(_0x1c6744[_0x4b424b(0x421)][_0x4b424b(0x696)](_0x4b424b(0x37a))){const _0x3f844d=document[_0x4b424b(0x242)](_0x4b424b(0x265));_0x3f844d[_0x4b424b(0x2d0)]=URL[_0x4b424b(0x236)](_0x1c6744),_0x19a717[_0x4b424b(0x52a)](_0x3f844d);}else{if(_0x1c6744[_0x4b424b(0x421)]['startsWith'](_0x4b424b(0x359))){const _0x4b08f4=document['createElement']('video');_0x4b08f4['src']=URL[_0x4b424b(0x236)](_0x1c6744),_0x4b08f4[_0x4b424b(0x43d)]=!![],_0x19a717[_0x4b424b(0x52a)](_0x4b08f4);}else _0x19a717['innerHTML']+=_0x4b424b(0x5cf)+_0x1c6744[_0x4b424b(0x5af)]+_0x4b424b(0x4cd);}const _0x4e93d7=document[_0x4b424b(0x242)](_0x4b424b(0x4bd));_0x4e93d7['textContent']='×',_0x4e93d7[_0x4b424b(0x67c)]='remove-btn',_0x4e93d7[_0x4b424b(0x594)]=()=>{const _0xd44dec=_0x4b424b,_0x3da127=_0x2aedd8[_0xd44dec(0x544)](_0x49dc63=>_0x49dc63['id']==_0x19462d);if(_0x3da127>-0x1)_0x2aedd8['splice'](_0x3da127,0x1);_0x42585c[_0xd44dec(0x21f)](_0x19a717);},_0x19a717[_0x4b424b(0x52a)](_0x4e93d7),_0x42585c['appendChild'](_0x19a717);}),_0x43cf54[_0x4c6869(0x66e)]='';});const _0x16ed13=document['getElementById'](_0x35f8fe(0x389)),_0x14fda3=document[_0x35f8fe(0x57b)](_0x35f8fe(0x377));['dragenter',_0x35f8fe(0x42d)][_0x35f8fe(0x492)](_0x4cdbd2=>{const _0x3f4d7b=_0x35f8fe;_0x16ed13[_0x3f4d7b(0x1ad)](_0x4cdbd2,_0x44f3a8=>{const _0x1efd82=_0x3f4d7b;_0x44f3a8['preventDefault'](),_0x16ed13[_0x1efd82(0x6c6)][_0x1efd82(0x5d7)](_0x1efd82(0x42d));});}),['dragleave',_0x35f8fe(0x229)][_0x35f8fe(0x492)](_0x4006e4=>{_0x16ed13['addEventListener'](_0x4006e4,_0x1203b3=>{const _0x8db012=_0xe3e9;_0x1203b3['preventDefault'](),_0x16ed13[_0x8db012(0x6c6)][_0x8db012(0x38f)](_0x8db012(0x42d));});}),_0x16ed13[_0x35f8fe(0x1ad)](_0x35f8fe(0x229),_0x307762=>{const _0x5d2cfc=_0x35f8fe,_0x53ec4a=Array['from'](_0x307762[_0x5d2cfc(0x3b2)][_0x5d2cfc(0x407)]);_0x5d93cb(_0x53ec4a);}),_0x16ed13[_0x35f8fe(0x1ad)]('click',()=>_0x14fda3[_0x35f8fe(0x4a6)]()),_0x14fda3[_0x35f8fe(0x1ad)](_0x35f8fe(0x46a),()=>{const _0x12c05c=_0x35f8fe;_0x5d93cb(Array[_0x12c05c(0x486)](_0x14fda3[_0x12c05c(0x407)])),_0x14fda3[_0x12c05c(0x66e)]='';});function _0x5d93cb(_0xc5ee1f){const _0x3ffd7c=_0x35f8fe;_0xc5ee1f[_0x3ffd7c(0x492)](_0x3d49b4=>{const _0x36851b=_0x3ffd7c,_0x54f18e=Date['now']()+Math[_0x36851b(0x5a4)]();_0x2aedd8[_0x36851b(0x2a6)]({'file':_0x3d49b4,'id':_0x54f18e});const _0x54f895=document[_0x36851b(0x242)](_0x36851b(0x3a9));_0x54f895[_0x36851b(0x67c)]=_0x36851b(0x3c3),_0x54f895[_0x36851b(0x1e1)]['id']=_0x54f18e;if(_0x3d49b4[_0x36851b(0x421)][_0x36851b(0x696)](_0x36851b(0x37a))){const _0x5b674e=document['createElement']('img');_0x5b674e[_0x36851b(0x2d0)]=URL[_0x36851b(0x236)](_0x3d49b4),_0x54f895[_0x36851b(0x52a)](_0x5b674e);}else{if(_0x3d49b4['type'][_0x36851b(0x696)](_0x36851b(0x359))){const _0x379dc8=document[_0x36851b(0x242)](_0x36851b(0x59a));_0x379dc8[_0x36851b(0x2d0)]=URL[_0x36851b(0x236)](_0x3d49b4),_0x379dc8[_0x36851b(0x43d)]=!![],_0x54f895['appendChild'](_0x379dc8);}else{const _0x214078=document['createElement'](_0x36851b(0x3a9));_0x214078[_0x36851b(0x1f4)]=_0x3d49b4['name'],_0x54f895[_0x36851b(0x52a)](_0x214078);}}const _0x5a3c11=document[_0x36851b(0x242)]('button');_0x5a3c11[_0x36851b(0x67c)]=_0x36851b(0x322),_0x5a3c11[_0x36851b(0x1f4)]='×',_0x5a3c11[_0x36851b(0x594)]=()=>{const _0x656f3d=_0x36851b,_0x32667c=_0x2aedd8[_0x656f3d(0x544)](_0x5ad80d=>_0x5ad80d['id']===_0x54f18e);if(_0x32667c>-0x1)_0x2aedd8[_0x656f3d(0x4e9)](_0x32667c,0x1);_0x42585c[_0x656f3d(0x21f)](_0x54f895);},_0x54f895[_0x36851b(0x52a)](_0x5a3c11),_0x42585c[_0x36851b(0x52a)](_0x54f895);});}const _0x1d8326=document[_0x35f8fe(0x57b)](_0x35f8fe(0x388)),_0x2ca0cc=document[_0x35f8fe(0x57b)](_0x35f8fe(0x1a1));if(_0x1d8326&&_0x2ca0cc){const _0x5e3a15=_0x2ca0cc[_0x35f8fe(0x391)][_0x35f8fe(0x3e8)](!![]),_0x28a733=_0x5e3a15[_0x35f8fe(0x5cd)](_0x35f8fe(0x467));initCountrySelector(_0x28a733),_0x1d8326[_0x35f8fe(0x52a)](_0x28a733);}const _0x199225=document['getElementById'](_0x35f8fe(0x286)),_0x4cecfb=document[_0x35f8fe(0x57b)](_0x35f8fe(0x54d));if(_0x199225&&_0x4cecfb){const _0x657fa5=_0x4cecfb[_0x35f8fe(0x391)][_0x35f8fe(0x3e8)](!![]),_0x105ddc=_0x657fa5[_0x35f8fe(0x5cd)](_0x35f8fe(0x556));_0x199225['appendChild'](_0x105ddc);}const _0x29dfb8=document[_0x35f8fe(0x57b)](_0x35f8fe(0x27d));_0x29dfb8&&_0x29dfb8['addEventListener'](_0x35f8fe(0x4a6),function(){const _0x515caf=_0x35f8fe,_0x5dd642=document[_0x515caf(0x57b)](_0x515caf(0x388)),_0x243655=document[_0x515caf(0x57b)](_0x515caf(0x1a1));if(_0x5dd642&&_0x243655){const _0x45dc53=_0x243655[_0x515caf(0x391)][_0x515caf(0x3e8)](!![]),_0x1d23d3=_0x45dc53[_0x515caf(0x5cd)]('.whatsapp-recipient'),_0x2eb4ab=_0x1d23d3[_0x515caf(0x5cd)](_0x515caf(0x6f1));if(_0x2eb4ab)_0x2eb4ab[_0x515caf(0x3f6)][_0x515caf(0x228)]=_0x515caf(0x210);initCountrySelector(_0x1d23d3),_0x2eb4ab&&_0x2eb4ab['addEventListener']('click',function(){_0x5dd642['removeChild'](_0x1d23d3);}),_0x5dd642[_0x515caf(0x52a)](_0x1d23d3);}});const _0x1f6a26=document[_0x35f8fe(0x57b)](_0x35f8fe(0x4b1));_0x1f6a26&&_0x1f6a26[_0x35f8fe(0x1ad)](_0x35f8fe(0x4a6),function(){const _0x555b05=_0x35f8fe,_0x42675c=document['getElementById'](_0x555b05(0x286)),_0x23590e=document[_0x555b05(0x57b)](_0x555b05(0x54d));if(_0x42675c&&_0x23590e){const _0x1ad329=_0x23590e[_0x555b05(0x391)][_0x555b05(0x3e8)](!![]),_0x33f8b6=_0x1ad329[_0x555b05(0x5cd)]('.email-recipient'),_0xce5d45=_0x33f8b6[_0x555b05(0x5cd)](_0x555b05(0x6f1));if(_0xce5d45)_0xce5d45[_0x555b05(0x3f6)][_0x555b05(0x228)]='inline-flex';_0xce5d45&&_0xce5d45[_0x555b05(0x1ad)](_0x555b05(0x4a6),function(){const _0x307dda=_0x555b05;_0x42675c[_0x307dda(0x21f)](_0x33f8b6);}),_0x42675c['appendChild'](_0x33f8b6);}}),sendEmailButton&&sendEmailButton[_0x35f8fe(0x1ad)](_0x35f8fe(0x4a6),async function(){const _0x555370=_0x35f8fe;sendEmailButton['disabled']=!![];if(!isOnline()){sendEmailButton[_0x555370(0x497)]=![],ntfShow(_0x555370(0x37d),0x2,0x1);return;}const _0x467e06=document['getElementById'](_0x555370(0x286)),_0x4606f8=_0x467e06[_0x555370(0x4e8)](_0x555370(0x175)),_0xde9cf6=[];for(const _0x56d2cf of _0x4606f8){const _0x4989f3=_0x56d2cf[_0x555370(0x66e)][_0x555370(0x428)]();if(!_0x4989f3){sendEmailButton['disabled']=![],ntfShow('Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.',0x2,0x1);return;}_0xde9cf6[_0x555370(0x2a6)](_0x4989f3);}if(_0xde9cf6[_0x555370(0x527)]===0x0){sendEmailButton['disabled']=![],ntfShow(_0x555370(0x318),0x2,0x1);return;}let _0x459550=document[_0x555370(0x57b)](_0x555370(0x1db))['value'][_0x555370(0x428)]();if(!_0x459550){alert(_0x555370(0x543));return;}_0x459550=_0x459550[_0x555370(0x503)](/\r\n|\n/g,_0x555370(0x261));const _0x560e8d=parseInt(getUserPermissionApiERP(0x12)),_0x38303a=myCompany[_0x555370(0x61a)][_0x555370(0x2d3)](_0x13e4ee=>_0x13e4ee[_0x555370(0x688)]==_0x560e8d);if(!_0x38303a){sendEmailButton[_0x555370(0x497)]=![],ntfShow('No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.');return;}const _0x32bffa=_0x38303a['setEmailCredentialsSenderName'],_0x3517fa=_0x38303a[_0x555370(0x255)],_0x255b38=_0x38303a[_0x555370(0x576)],_0x374ff1=_0x38303a[_0x555370(0x3bd)],_0x590bb4=_0x38303a[_0x555370(0x568)],_0x57508b=document['getElementById'](_0x555370(0x303))[_0x555370(0x66e)],{pdfGlobalPayload:_0x486612,pdfGlobalBlob:_0x4bc770,pdfGlobalName:_0x5437ae}=getLastOperationGlobalData(_0x57508b),_0x1eb546=_0x486612[_0x555370(0x477)]+':\x20'+_0x486612[_0x555370(0x52e)]+'-'+_0x486612['setCorrelativo']+'\x20('+myCompany[_0x555370(0x2cd)]+'\x20)';if(!_0x4bc770){sendEmailButton[_0x555370(0x497)]=![],ntfShow(_0x555370(0x579),0x2,0x1);return;}let _0x251d0c=[];try{const _0x53ddac=await blobAStringBase64(_0x4bc770);_0x251d0c[_0x555370(0x2a6)]({'fileName':_0x5437ae,'fileBase64':_0x53ddac});for(const _0x3e116c of _0x2aedd8){const _0x2f4424=await blobAStringBase64(_0x3e116c[_0x555370(0x550)]);_0x251d0c[_0x555370(0x2a6)]({'fileName':_0x3e116c[_0x555370(0x550)][_0x555370(0x5af)],'fileBase64':_0x2f4424});}}catch(_0x2bb71b){console['error'](_0x555370(0x616),_0x2bb71b),sendEmailButton[_0x555370(0x497)]=![],ntfShow(_0x555370(0x288),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany['setAuthToken'],_0x32bffa,_0x3517fa,_0x255b38,_0x374ff1,_0x590bb4,_0xde9cf6,_0x1eb546,_0x459550,_0x251d0c),hideLoadingModal(),showModal(),sendEmailButton[_0x555370(0x497)]=![],document[_0x555370(0x4e8)](_0x555370(0x61b))['forEach'](_0x2b23f5=>_0x2b23f5[_0x555370(0x66e)]=''),ntfShow(_0x555370(0x701),0x1,0x2);}catch(_0x4abc08){console[_0x555370(0x708)](_0x555370(0x542),_0x4abc08),ntfShow(_0x555370(0x1e2),0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton[_0x555370(0x497)]=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x35f8fe(0x1ad)]('click',async function(){const _0x1c1edb=_0x35f8fe,_0x145cba=document['getElementById'](_0x1c1edb(0x388)),_0xa7eb8b=_0x145cba[_0x1c1edb(0x4e8)](_0x1c1edb(0x467)),_0x213a8b=[];for(const _0x12da60 of _0xa7eb8b){const _0x5c896f=_0x12da60[_0x1c1edb(0x5cd)](_0x1c1edb(0x6af)),_0x2b782c=_0x5c896f[_0x1c1edb(0x1e1)][_0x1c1edb(0x5ab)]||'',_0x2e1755=_0x12da60[_0x1c1edb(0x5cd)]('.phoneNumber'),_0x2f9f94=_0x2e1755[_0x1c1edb(0x66e)][_0x1c1edb(0x428)]();if(!_0x2f9f94){ntfShow(_0x1c1edb(0x59b),0x2,0x1);return;}const _0xe52832=_0x2f9f94[_0x1c1edb(0x503)](/\D/g,'');_0x213a8b[_0x1c1edb(0x2a6)](_0x2b782c+_0xe52832);}if(_0x213a8b[_0x1c1edb(0x527)]===0x0){ntfShow(_0x1c1edb(0x6b1),0x2,0x1);return;}let _0x27df07=document[_0x1c1edb(0x57b)](_0x1c1edb(0x1db))[_0x1c1edb(0x66e)][_0x1c1edb(0x428)]();if(!_0x27df07){alert(_0x1c1edb(0x543));return;}const _0x26f360=parseInt(document[_0x1c1edb(0x57b)](_0x1c1edb(0x598))[_0x1c1edb(0x66e)],0xa),_0x38bbbc=getCredentialsApiWAChat(_0x26f360),_0xcd18b2=_0x38bbbc?.[_0x1c1edb(0x5d3)]??0x0;if(!(_0xcd18b2==0x1&&_0x38bbbc)){for(const _0x22cf03 of _0x213a8b){const _0x5d0b8b=encodeURIComponent(_0x27df07),_0x1830b2='https://wa.me/'+_0x22cf03+_0x1c1edb(0x1d2)+_0x5d0b8b;window[_0x1c1edb(0x1f8)](_0x1830b2,'_blank');}ntfShow('Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.',0x1,0x2);return;}const _0x212b52=document[_0x1c1edb(0x57b)](_0x1c1edb(0x303))[_0x1c1edb(0x66e)],{pdfGlobalPayload:_0x25292e,pdfGlobalBlob:_0x2cbf3c,pdfGlobalName:_0x5dfd3d}=getLastOperationGlobalData(_0x212b52);if(!_0x2cbf3c){hideLoadingModal(),showModal(),ntfShow(_0x1c1edb(0x579),0x2,0x1);return;}const _0x5e1461=_0x38bbbc['setCredentialsApiWAChatSubdomain'],_0x33e903=_0x38bbbc['setCredentialsApiWAChatPort'],_0x4ad614=_0x1c1edb(0x17d)+_0x5e1461+'/wa/'+_0x33e903,_0x87b39c=[],_0x5ea8c3=new File([_0x2cbf3c],_0x5dfd3d,{'type':_0x1c1edb(0x418)});_0x87b39c[_0x1c1edb(0x2a6)](_0x5ea8c3);for(const _0x48ffc8 of _0x2aedd8){_0x87b39c['push'](_0x48ffc8[_0x1c1edb(0x550)]);}try{hideModal(),showLoadingModal();if(_0x27df07)for(const _0x5edb23 of _0x213a8b){const _0x5bfdc2=_0x5edb23+_0x1c1edb(0x33a);await sendMessageApiWAChat(_0x26f360,_0x5bfdc2,'text',_0x27df07);}const _0x31de38=[];for(const _0x2ddc6c of _0x87b39c){const _0x4393d5=new FormData();_0x4393d5['append'](_0x1c1edb(0x550),_0x2ddc6c);const _0x1aa444=await fetch(_0x4ad614+_0x1c1edb(0x6f7),{'method':_0x1c1edb(0x484),'headers':{'x-auth-token':myCompany[_0x1c1edb(0x317)]},'body':_0x4393d5});if(!_0x1aa444['ok']){const _0x27e6ab=await _0x1aa444['json']()[_0x1c1edb(0x215)](()=>({}));throw new Error(_0x27e6ab[_0x1c1edb(0x708)]||_0x1c1edb(0x33f)+_0x2ddc6c[_0x1c1edb(0x5af)]+_0x1c1edb(0x4c1));}const {url:_0x2d1127}=await _0x1aa444['json']();let _0x54aa04;if(_0x2ddc6c[_0x1c1edb(0x421)][_0x1c1edb(0x696)](_0x1c1edb(0x37a)))_0x54aa04='image';else{if(_0x2ddc6c[_0x1c1edb(0x421)]['startsWith']('video/'))_0x54aa04=_0x1c1edb(0x59a);else _0x2ddc6c[_0x1c1edb(0x421)][_0x1c1edb(0x696)]('audio/')?_0x54aa04=_0x1c1edb(0x65d):_0x54aa04=_0x1c1edb(0x5ff);}_0x31de38[_0x1c1edb(0x2a6)]({'url':_0x2d1127,'name':_0x2ddc6c['name'],'mediaType':_0x54aa04,'mimeType':_0x2ddc6c['type']});}for(const _0x4dbdea of _0x213a8b){const _0x2c6f1d=_0x4dbdea+_0x1c1edb(0x33a);for(const _0x3d3a51 of _0x31de38){await sendMessageApiWAChat(_0x26f360,_0x2c6f1d,_0x3d3a51[_0x1c1edb(0x555)],_0x3d3a51[_0x1c1edb(0x4b6)],'',_0x3d3a51[_0x1c1edb(0x5af)],_0x3d3a51['mimeType']);}}ntfShow('Mensaje(s)\x20enviado(s)\x20correctamente.',0x1,0x2);}catch(_0x40bee6){console[_0x1c1edb(0x708)](_0x1c1edb(0x169),_0x40bee6),ntfShow(_0x40bee6[_0x1c1edb(0x58e)]||'Error\x20enviando\x20mensaje',0x2,0x2);}finally{document[_0x1c1edb(0x4e8)](_0x1c1edb(0x179))[_0x1c1edb(0x492)](_0xfb07a1=>_0xfb07a1[_0x1c1edb(0x66e)]=''),document[_0x1c1edb(0x57b)](_0x1c1edb(0x1db))[_0x1c1edb(0x66e)]='',_0x2aedd8=[];const _0x2dae6c=document['getElementById'](_0x1c1edb(0x5e1));_0x2dae6c&&(_0x2dae6c[_0x1c1edb(0x55e)]=''),hideLoadingModal(),showModal();}}),document['addEventListener'](_0x35f8fe(0x4a6),function(_0x1f18e7){const _0x130f5b=_0x35f8fe;!_0x1f18e7['target'][_0x130f5b(0x1ff)](_0x130f5b(0x2ac))&&!_0x1f18e7[_0x130f5b(0x4df)][_0x130f5b(0x1ff)](_0x130f5b(0x25a))&&document['querySelectorAll'](_0x130f5b(0x25a))[_0x130f5b(0x492)](_0x20a7a7=>{_0x20a7a7['innerHTML']='';});}),document['getElementById'](_0x35f8fe(0x667))[_0x35f8fe(0x1ad)]('change',async function(){const _0x247e7c=_0x35f8fe,_0x62a588=parseInt(this['value']);myCompany[_0x247e7c(0x55c)]=_0x62a588,saveCredentialsApiWAChatInCompany();const _0x2819ee=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2819ee),searchInput[_0x247e7c(0x66e)]='',cargarAlmacenes(_0x62a588),setTimeout(()=>{const _0x3eb342=_0x247e7c;document['getElementById'](_0x3eb342(0x2fd))[_0x3eb342(0x2d4)](new Event(_0x3eb342(0x46a)));},0x64),cargarPisos(_0x62a588),setTimeout(()=>{const _0x1585bc=_0x247e7c;document[_0x1585bc(0x57b)](_0x1585bc(0x37e))[_0x1585bc(0x2d4)](new Event(_0x1585bc(0x46a)));},0x64);const _0x578ad0=document['getElementById'](_0x247e7c(0x303))[_0x247e7c(0x66e)];if(parseFloat(_0x578ad0)>0x0){const _0x25e545=document[_0x247e7c(0x57b)](_0x247e7c(0x710)+_0x578ad0)[_0x247e7c(0x66e)];await updateSerieOptions(_0x25e545,_0x578ad0);}const _0x1a6ab3=myCompany[_0x247e7c(0x252)][_0x247e7c(0x674)](_0x4cc3f9=>_0x4cc3f9[_0x247e7c(0x667)]==_0x62a588);if(_0x1a6ab3[_0x247e7c(0x527)]===0x0)document[_0x247e7c(0x57b)]('printerDropdown')[_0x247e7c(0x55e)]='',document['getElementById'](_0x247e7c(0x6aa))[_0x247e7c(0x1f4)]=_0x247e7c(0x50a);else{const _0x41d90f=document[_0x247e7c(0x57b)]('defaultPrinter');_0x41d90f[_0x247e7c(0x1f4)]=_0x1a6ab3[0x0][_0x247e7c(0x185)],_0x41d90f[_0x247e7c(0x5f8)](_0x247e7c(0x47c),_0x1a6ab3[0x0][_0x247e7c(0x383)]),_0x41d90f['addEventListener'](_0x247e7c(0x4a6),function(){const _0x1e07e4=_0x247e7c,_0x216a0b=document['getElementById'](_0x1e07e4(0x303))[_0x1e07e4(0x66e)],{pdfGlobalPayload:_0x1e8e31,pdfGlobalBlob:_0x394cd8,pdfGlobalName:_0x364741}=getLastOperationGlobalData(_0x216a0b);setPrintOnline(this[_0x1e07e4(0x267)](_0x1e07e4(0x47c)),_0x394cd8,_0x364741,0x0);});const _0x36eb54=document[_0x247e7c(0x57b)]('printerDropdown');_0x36eb54[_0x247e7c(0x55e)]='',_0x1a6ab3['forEach'](_0x1c5713=>{const _0x2b3fc0=_0x247e7c,_0x5a791a=document[_0x2b3fc0(0x242)]('li');_0x5a791a[_0x2b3fc0(0x55e)]=_0x2b3fc0(0x6fa)+_0x1c5713[_0x2b3fc0(0x383)]+_0x2b3fc0(0x458)+_0x1c5713[_0x2b3fc0(0x185)]+'\x22)\x27>'+_0x1c5713[_0x2b3fc0(0x185)]+_0x2b3fc0(0x637),_0x36eb54[_0x2b3fc0(0x52a)](_0x5a791a);});}ntf_initNotifications(),apiERPsyncWindows();}),document[_0x35f8fe(0x57b)]('setWarehouseId')[_0x35f8fe(0x1ad)]('change',function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document[_0x35f8fe(0x57b)](_0x35f8fe(0x37e))[_0x35f8fe(0x1ad)](_0x35f8fe(0x46a),function(_0x56de00){const _0x1fea34=_0x35f8fe,_0x3ba98c=_0x56de00['target'][_0x1fea34(0x66e)];changeEnvironments(_0x3ba98c);}),loadCartAndSetTabCount(_0x34b954);};