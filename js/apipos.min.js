/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.1
*/

const _0x28d754=_0x8473;(function(_0x5422a1,_0x3b2e22){const _0x409f8d=_0x8473,_0x3b7565=_0x5422a1();while(!![]){try{const _0x283b68=-parseInt(_0x409f8d(0x2d0))/0x1*(parseInt(_0x409f8d(0x56a))/0x2)+-parseInt(_0x409f8d(0x4c9))/0x3+parseInt(_0x409f8d(0x739))/0x4*(-parseInt(_0x409f8d(0x7ac))/0x5)+parseInt(_0x409f8d(0x6cb))/0x6+-parseInt(_0x409f8d(0x495))/0x7+parseInt(_0x409f8d(0x405))/0x8*(parseInt(_0x409f8d(0x588))/0x9)+-parseInt(_0x409f8d(0x3ac))/0xa*(-parseInt(_0x409f8d(0x5a3))/0xb);if(_0x283b68===_0x3b2e22)break;else _0x3b7565['push'](_0x3b7565['shift']());}catch(_0x30a887){_0x3b7565['push'](_0x3b7565['shift']());}}}(_0x1765,0x37113));const _0xa1e66a=(function(){let _0x421dc1=!![];return function(_0x50e58e,_0x2922a1){const _0x50b03b=_0x421dc1?function(){const _0x1432c3=_0x8473;if(_0x2922a1){const _0x1bec02=_0x2922a1[_0x1432c3(0x773)](_0x50e58e,arguments);return _0x2922a1=null,_0x1bec02;}}:function(){};return _0x421dc1=![],_0x50b03b;};}()),_0x5c4b65=_0xa1e66a(this,function(){const _0xb65b00=_0x8473;return _0x5c4b65[_0xb65b00(0x4dc)]()[_0xb65b00(0x1f8)](_0xb65b00(0x339))[_0xb65b00(0x4dc)]()[_0xb65b00(0x2cb)](_0x5c4b65)[_0xb65b00(0x1f8)](_0xb65b00(0x339));});_0x5c4b65();const _0x52d2d8=(function(){let _0x5bb599=!![];return function(_0x1d55fa,_0x5cf73c){const _0x1328cb=_0x5bb599?function(){if(_0x5cf73c){const _0xae92d9=_0x5cf73c['apply'](_0x1d55fa,arguments);return _0x5cf73c=null,_0xae92d9;}}:function(){};return _0x5bb599=![],_0x1328cb;};}()),_0xb9741=_0x52d2d8(this,function(){const _0x173748=_0x8473;let _0x3c6b7c;try{const _0x2cdaa3=Function(_0x173748(0x73e)+_0x173748(0x717)+');');_0x3c6b7c=_0x2cdaa3();}catch(_0xea63f2){_0x3c6b7c=window;}const _0x482c2a=_0x3c6b7c[_0x173748(0x465)]=_0x3c6b7c[_0x173748(0x465)]||{},_0x607d1c=[_0x173748(0x5d6),_0x173748(0x4e0),_0x173748(0x75b),_0x173748(0x574),_0x173748(0x370),_0x173748(0x527),_0x173748(0x327)];for(let _0x44a114=0x0;_0x44a114<_0x607d1c[_0x173748(0x517)];_0x44a114++){const _0x52de98=_0x52d2d8[_0x173748(0x2cb)][_0x173748(0x3ee)][_0x173748(0x312)](_0x52d2d8),_0x493fb7=_0x607d1c[_0x44a114],_0x342cfb=_0x482c2a[_0x493fb7]||_0x52de98;_0x52de98['__proto__']=_0x52d2d8[_0x173748(0x312)](_0x52d2d8),_0x52de98[_0x173748(0x4dc)]=_0x342cfb[_0x173748(0x4dc)][_0x173748(0x312)](_0x342cfb),_0x482c2a[_0x493fb7]=_0x52de98;}});_0xb9741();const searchInput=document[_0x28d754(0x5b3)](_0x28d754(0x77d));let debounceTimer=null;searchInput['addEventListener'](_0x28d754(0x5e3),()=>{const _0x194416=_0x28d754,_0x1708a0=searchInput[_0x194416(0x4a7)];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x1708a0,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x903e3f,_0x5a352e)=>{const _0x1aa5a6=_0x8473;createCartStore('')[_0x1aa5a6(0x2c1)](_0x3694fe=>{const _0x1b9b5d=_0x1aa5a6,_0x5814a7=_0x3694fe['transaction'](_0x1b9b5d(0x63c),'readwrite'),_0x3cedf3=_0x5814a7[_0x1b9b5d(0x36b)](_0x1b9b5d(0x63c)),_0x1fe417=_0x3cedf3['clear']();_0x1fe417[_0x1b9b5d(0x2f6)]=_0x496d75=>_0x5a352e(_0x496d75['target'][_0x1b9b5d(0x574)]),_0x1fe417[_0x1b9b5d(0x485)]=()=>{const _0x5e2099=_0x1b9b5d;products[_0x5e2099(0x239)](_0x5dfd84=>_0x3cedf3[_0x5e2099(0x1ce)](_0x5dfd84));},_0x5814a7['oncomplete']=()=>_0x903e3f(),_0x5814a7[_0x1b9b5d(0x2f6)]=_0x1cc3af=>_0x5a352e(_0x1cc3af[_0x1b9b5d(0x643)][_0x1b9b5d(0x574)]);})['catch'](_0x261650=>_0x5a352e(new Error(_0x1aa5a6(0x43d)+_0x261650)));});}function getUserPermissionApiERP(_0x43bc87){const _0x37ffbe=_0x28d754,_0x1d06d9=myCompany[_0x37ffbe(0x41a)],_0x29d189=myCompany['setUsers'],_0x4e6ce8=_0x1d06d9[_0x37ffbe(0x561)],_0x5606bc=_0x29d189[_0x37ffbe(0x248)](_0x210953=>_0x210953[_0x37ffbe(0x561)]==_0x4e6ce8);if(!_0x5606bc)return console[_0x37ffbe(0x4e0)](_0x37ffbe(0x67a)),null;const _0x4d43bb=_0x5606bc[_0x37ffbe(0x25c)][_0x37ffbe(0x248)](_0xd1f940=>_0xd1f940[_0x37ffbe(0x3c6)]==_0x43bc87);return _0x4d43bb?_0x4d43bb['setPermissionValue']:null;}function getLoggedUserSeries(){const _0x3dfef9=_0x28d754,{setUser_Local:_0x2c8639,setUsers:_0x3d3d84}=myCompany;if(!_0x2c8639||!_0x3d3d84)return console[_0x3dfef9(0x4e0)](_0x3dfef9(0x235)),null;const _0x418141=_0x2c8639['setUserId'],_0x3d25f1=_0x3d3d84[_0x3dfef9(0x248)](_0xd08d84=>_0xd08d84[_0x3dfef9(0x561)]==_0x418141);if(!_0x3d25f1)return console[_0x3dfef9(0x4e0)](_0x3dfef9(0x67a)),null;return _0x3d25f1['setSeries'];}async function renderProducts(_0x3218b6='',_0x544c59=0x0){const _0x596546=_0x28d754,_0x24cfd8=document['getElementById'](_0x596546(0x63c));_0x24cfd8[_0x596546(0x566)]='';if(products[_0x596546(0x517)]==0x0){_0x24cfd8['textContent']=_0x596546(0x607);return;}const _0x4bceee=getUserPermissionApiERP(0x2),_0x491a53=document[_0x596546(0x5b3)]('setWarehouseId')['value'],_0x38ce76=_0x3218b6[_0x596546(0x266)]()['split']('\x20'),_0x42e4ba=document[_0x596546(0x5b3)]('windowId')['value'];let _0x445a6e;setTipOpeOrders[_0x596546(0x79e)](_0x401159=>_0x401159==window_options[_0x42e4ba]['setTipoOperacion'])||setTipOpeSales['some'](_0x4b6491=>_0x4b6491==window_options[_0x42e4ba][_0x596546(0x6f1)])||setTipOpeQuotation[_0x596546(0x79e)](_0x34d944=>_0x34d944==window_options[_0x42e4ba][_0x596546(0x6f1)])||setTipOpeShippingGuide[_0x596546(0x79e)](_0x255510=>_0x255510==window_options[_0x42e4ba][_0x596546(0x6f1)])?_0x445a6e=0x2:_0x445a6e=0x1;const _0x592729=products[_0x596546(0x1fc)](_0x1560aa=>{const _0x83afd7=_0x596546,_0x26f884=[_0x1560aa[_0x83afd7(0x725)]||'',_0x1560aa[_0x83afd7(0x599)]||'',formatVariantName(_0x1560aa['setDescripcion'],_0x1560aa[_0x83afd7(0x3d6)],0x1)||'',_0x1560aa[_0x83afd7(0x729)]||'',_0x1560aa['setBatchName']||''][_0x83afd7(0x1fc)](_0x1792a4=>_0x1792a4[_0x83afd7(0x2cd)]()!=='')['join']('\x20')['toLowerCase'](),_0x8fa871=_0x38ce76['every'](_0x2b95b5=>_0x26f884[_0x83afd7(0x66a)](_0x2b95b5)),_0x185e5a=selectedCategories[_0x83afd7(0x517)]==0x0||selectedCategories[_0x83afd7(0x66a)](_0x1560aa[_0x83afd7(0x295)]),_0x23be98=selectedMarcas[_0x83afd7(0x517)]==0x0||selectedMarcas[_0x83afd7(0x66a)](_0x1560aa['setMarca']),_0x249e59=_0x4bceee==0x1?_0x1560aa[_0x83afd7(0x1d0)]&&_0x1560aa['sucursales']['some'](_0x5a4ec5=>String(_0x5a4ec5[_0x83afd7(0x20e)])==_0x491a53):!![];let _0x1c3de4=!![];return _0x445a6e==0x1?_0x1c3de4=_0x1560aa['setItemIsBought']==0x1:_0x1c3de4=_0x1560aa[_0x83afd7(0x262)]==0x1,_0x8fa871&&_0x185e5a&&_0x23be98&&_0x249e59&&_0x1c3de4;}),_0x3e99e7=Math[_0x596546(0x537)](_0x592729[_0x596546(0x517)]/ itemsPerPage);_0x3e99e7==0x0?currentPage=0x0:currentPage=Math[_0x596546(0x5b1)](0x1,Math[_0x596546(0x4f5)](currentPage,_0x3e99e7));const _0x47adb5=(currentPage-0x1)*itemsPerPage,_0x5c2df3=Math[_0x596546(0x4f5)](_0x47adb5+itemsPerPage,_0x592729[_0x596546(0x517)]),_0x5b8ee1=_0x592729['slice'](_0x47adb5,_0x5c2df3);renderProductItems(_0x5b8ee1,_0x544c59),renderPaginationControls(_0x3e99e7);}function renderProductItems(_0x185cfa,_0xc59ff6=0x0){const _0x2accf4=_0x28d754,_0xc7ebee=document[_0x2accf4(0x5b3)](_0x2accf4(0x63c)),_0x5d02b2=document[_0x2accf4(0x5b3)](_0x2accf4(0x788))[_0x2accf4(0x4a7)];_0xc7ebee[_0x2accf4(0x566)]='';if(_0x185cfa[_0x2accf4(0x517)]==0x0){_0xc7ebee[_0x2accf4(0x68b)]=_0x2accf4(0x607);return;}const _0x2e0f7b=document[_0x2accf4(0x5b3)](_0x2accf4(0x732))[_0x2accf4(0x4a7)],_0x3e02ad=window_options[_0x5d02b2][_0x2accf4(0x68c)],_0x95ab74=getCurrencySymbol(_0x5d02b2),_0x396e72=getUserPermissionApiERP(0xb),_0x1fdcb5=getUserPermissionApiERP(0x10);let _0x36ff71;setTipOpeOrders[_0x2accf4(0x79e)](_0xad64ab=>_0xad64ab==window_options[_0x5d02b2][_0x2accf4(0x6f1)])||setTipOpeSales[_0x2accf4(0x79e)](_0x11bde6=>_0x11bde6==window_options[_0x5d02b2][_0x2accf4(0x6f1)])||setTipOpeQuotation[_0x2accf4(0x79e)](_0xff6b3a=>_0xff6b3a==window_options[_0x5d02b2][_0x2accf4(0x6f1)])||setTipOpeShippingGuide[_0x2accf4(0x79e)](_0x18a44d=>_0x18a44d==window_options[_0x5d02b2][_0x2accf4(0x6f1)])?_0x36ff71=0x2:_0x36ff71=0x1;const _0xb1322e=parseInt(getUserPermissionApiERP(0x15));_0x185cfa['forEach'](_0x1828a8=>{const _0x3e0a8f=_0x2accf4,_0x1c92e4=document[_0x3e0a8f(0x57a)]('div');_0x1c92e4[_0x3e0a8f(0x501)][_0x3e0a8f(0x7bc)](_0x3e0a8f(0x63b),_0x3e0a8f(0x1ea),_0x3e0a8f(0x2b9)),_0x1c92e4[_0x3e0a8f(0x4d1)][_0x3e0a8f(0x35e)]=_0x3e0a8f(0x4b2);const _0x45e3f9=document[_0x3e0a8f(0x57a)]('div');_0x45e3f9[_0x3e0a8f(0x501)][_0x3e0a8f(0x7bc)](_0x3e0a8f(0x254));const _0xcec584=(_0x1828a8[_0x3e0a8f(0x1d0)]||[])[_0x3e0a8f(0x248)](_0x486cc0=>_0x486cc0[_0x3e0a8f(0x20e)]==_0x2e0f7b);if(_0xcec584){const _0xe94807=parseFloat(_0xcec584[_0x3e0a8f(0x769)]),_0x408094=parseFloat(_0xcec584[_0x3e0a8f(0x351)]);_0x1828a8['setInventariable']==0x1&&_0xe94807<=_0x408094&&(_0x45e3f9[_0x3e0a8f(0x4d1)][_0x3e0a8f(0x55c)]='1px\x20solid\x20#FF5900',_0x45e3f9[_0x3e0a8f(0x1d9)]('title','El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20'+_0x408094[_0x3e0a8f(0x3ea)](0x3)+'\x20'+_0x1828a8[_0x3e0a8f(0x238)]));}_0x45e3f9[_0x3e0a8f(0x1d9)](_0x3e0a8f(0x364),'0'),_0x45e3f9[_0x3e0a8f(0x290)]=()=>addToCart(_0x1828a8),_0x45e3f9[_0x3e0a8f(0x507)](_0x3e0a8f(0x40c),_0x4eb79a=>{const _0x33e725=_0x3e0a8f;_0x4eb79a['key']==_0x33e725(0x282)&&addToCart(_0x1828a8);});const _0x3f873f=document[_0x3e0a8f(0x57a)](_0x3e0a8f(0x35d));_0x3f873f['classList'][_0x3e0a8f(0x7bc)]('product-zoom-area'),_0x3f873f[_0x3e0a8f(0x290)]=_0x529295=>{const _0x39711b=_0x3e0a8f;_0x529295[_0x39711b(0x534)](),openModalDetailsAndNtf(_0x1828a8['id'],0x1);},_0x1c92e4[_0x3e0a8f(0x586)](_0x3f873f);const _0x2d8d0c=document[_0x3e0a8f(0x57a)](_0x3e0a8f(0x35d));_0x2d8d0c[_0x3e0a8f(0x501)]['add']('product-content');const _0x15059c=document['createElement'](_0x3e0a8f(0x35d));_0x15059c[_0x3e0a8f(0x501)]['add'](_0x3e0a8f(0x20c));const _0x273687=document[_0x3e0a8f(0x57a)](_0x3e0a8f(0x35d));_0x273687[_0x3e0a8f(0x501)]['add'](_0x3e0a8f(0x20c),'justify-content-between');let _0x38a486=isOnline?_0x1828a8[_0x3e0a8f(0x316)]:'./img/product.png';_0x45e3f9[_0x3e0a8f(0x4d1)]['backgroundImage']=_0x3e0a8f(0x545)+_0x38a486+'\x27)',_0x45e3f9[_0x3e0a8f(0x2f6)]=function(){const _0x197406=_0x3e0a8f;_0x45e3f9[_0x197406(0x4d1)][_0x197406(0x27e)]='url(\x27./img/product.png\x27)';};const _0x2b25bd=document[_0x3e0a8f(0x57a)]('h7');let _0xb93355='';_0x1828a8[_0x3e0a8f(0x729)]!=''&&(_0xb93355+='<br>'+_0x1828a8[_0x3e0a8f(0x729)]);if(_0x1828a8[_0x3e0a8f(0x68f)]!=''){const _0x59b57e=_0x1828a8[_0x3e0a8f(0x68f)],_0x44026e=_0x59b57e[_0x3e0a8f(0x613)]('-'),_0x3822e7=_0x44026e[0x2]+'/'+_0x44026e[0x1]+'/'+_0x44026e[0x0];_0xb93355+='<br>Vence:\x20'+_0x3822e7;}_0x1828a8[_0x3e0a8f(0x650)]!=''&&(_0xb93355+='<br>'+_0x1828a8[_0x3e0a8f(0x650)]);let _0x5bbe3c=_0x1828a8['setCodProducto'];_0x1828a8[_0x3e0a8f(0x599)]&&_0x1828a8[_0x3e0a8f(0x599)]!=''&&(_0x5bbe3c=_0x5bbe3c+'<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20'+_0x1828a8[_0x3e0a8f(0x599)]+_0x3e0a8f(0x2fa));let _0x2c71cd=_0x1828a8[_0x3e0a8f(0x639)];const _0x157dd4=parseInt(getUserPermissionApiERP(0x16));_0x157dd4==0x1?_0x2c71cd=formatVariantName(_0x1828a8['setDescripcion'],_0x1828a8[_0x3e0a8f(0x3d6)],0x1):_0x2c71cd=formatVariantName(_0x1828a8['setDescripcion'],_0x1828a8[_0x3e0a8f(0x3d6)],0x2);_0x2b25bd[_0x3e0a8f(0x566)]=_0x5bbe3c+_0x3e0a8f(0x74b)+_0x2c71cd+'\x20'+_0xb93355;const _0x1f2c49=_0x1828a8['currency_data']['find'](_0xac43a2=>_0xac43a2[_0x3e0a8f(0x3b4)]==_0x3e02ad)||{};let _0x41147e,_0xf747df,_0xce9264;_0x36ff71==0x1?(_0x41147e=_0x1fdcb5==0x1?'X':(parseFloat(_0x1f2c49['setMtoPrecioCostoUnitario'])||0x0)[_0x3e0a8f(0x3ea)](0x2),_0xf747df=(parseFloat(_0x1f2c49[_0x3e0a8f(0x22f)])||0x0)[_0x3e0a8f(0x3ea)](0x2),_0xce9264=_0x3e0a8f(0x592)):(_0x41147e=(parseFloat(_0x1f2c49['setMtoPrecioUnitario'])||0x0)[_0x3e0a8f(0x3ea)](0x2),_0xf747df=_0x1fdcb5==0x1?'X':(parseFloat(_0x1f2c49[_0x3e0a8f(0x25e)])||0x0)['toFixed'](0x2),_0xce9264='Costo');const _0x4d21e7=document[_0x3e0a8f(0x57a)]('p');_0x4d21e7[_0x3e0a8f(0x566)]=_0x95ab74+'\x20'+_0x41147e+'\x20('+(_0x1828a8[_0x3e0a8f(0x606)]&&_0x1828a8[_0x3e0a8f(0x606)]!=''?_0x1828a8['setItemUnitAlias']:_0x1828a8[_0x3e0a8f(0x238)])+')';const _0x417e5e=document[_0x3e0a8f(0x57a)]('h6');_0x417e5e[_0x3e0a8f(0x566)]=_0xce9264+':<br>'+_0xf747df,_0x273687[_0x3e0a8f(0x586)](_0x417e5e);if(_0x396e72==0x1){const _0x3c3519=_0x1828a8[_0x3e0a8f(0x1d0)][_0x3e0a8f(0x248)](_0x47dafa=>String(_0x47dafa[_0x3e0a8f(0x20e)])==_0x2e0f7b),_0x5b8df6=_0x3c3519?parseFloat(_0x3c3519[_0x3e0a8f(0x769)]):0x0,_0xa949=document[_0x3e0a8f(0x57a)]('h6');_0xa949[_0x3e0a8f(0x566)]=_0x3e0a8f(0x466)+_0x5b8df6['toFixed'](0x2),_0x273687['appendChild'](_0xa949);}const _0x2e37c5=document[_0x3e0a8f(0x57a)]('h6');_0x2e37c5[_0x3e0a8f(0x566)]=_0x3e0a8f(0x2e8)+_0x1828a8[_0x3e0a8f(0x461)],_0x273687['appendChild'](_0x2e37c5),_0x15059c[_0x3e0a8f(0x586)](_0x2b25bd),_0x2b25bd[_0x3e0a8f(0x765)](_0x4d21e7),_0x2d8d0c['appendChild'](_0x15059c),_0x2d8d0c[_0x3e0a8f(0x586)](_0x273687),_0x45e3f9[_0x3e0a8f(0x586)](_0x2d8d0c),_0x1c92e4[_0x3e0a8f(0x586)](_0x45e3f9),_0xc7ebee[_0x3e0a8f(0x586)](_0x1c92e4);const _0x2f3bcb=searchInput[_0x3e0a8f(0x4a7)][_0x3e0a8f(0x266)]()[_0x3e0a8f(0x2cd)]();_0xb1322e==0x1&&_0x185cfa[_0x3e0a8f(0x517)]==0x1&&_0xc59ff6!=0x0&&_0x2f3bcb==_0x1828a8[_0x3e0a8f(0x599)][_0x3e0a8f(0x266)]()[_0x3e0a8f(0x2cd)]()&&(addToCart(_0x1828a8),searchInput[_0x3e0a8f(0x4a7)]='');});}function renderPaginationControls(_0x28f61c){const _0x17f965=_0x28d754,_0x20938c=document[_0x17f965(0x794)](_0x17f965(0x21e)),_0x7e846e=document['createElement'](_0x17f965(0x35d));_0x7e846e['className']='pagination';const _0x189399=document[_0x17f965(0x57a)]('button');_0x189399[_0x17f965(0x68b)]=_0x17f965(0x4cb),_0x189399[_0x17f965(0x5ab)]=currentPage<=0x1,_0x189399[_0x17f965(0x290)]=()=>{const _0x237aa3=_0x17f965;currentPage=Math[_0x237aa3(0x5b1)](0x1,currentPage-0x1),renderProducts();},_0x7e846e['appendChild'](_0x189399);const _0x62c74=document[_0x17f965(0x57a)](_0x17f965(0x2f3));_0x28f61c==0x0?_0x62c74['textContent']=_0x17f965(0x6cf):_0x62c74[_0x17f965(0x68b)]=currentPage+'\x20de\x20'+_0x28f61c;_0x7e846e[_0x17f965(0x586)](_0x62c74);const _0xcadcc7=document[_0x17f965(0x57a)](_0x17f965(0x267));_0xcadcc7[_0x17f965(0x68b)]=_0x17f965(0x1d4),_0xcadcc7[_0x17f965(0x5ab)]=currentPage>=_0x28f61c,_0xcadcc7['onclick']=()=>{const _0x185d0c=_0x17f965;currentPage=Math[_0x185d0c(0x4f5)](_0x28f61c,currentPage+0x1),renderProducts();},_0x7e846e[_0x17f965(0x586)](_0xcadcc7);const _0x3dad0b=document['querySelector'](_0x17f965(0x540));_0x3dad0b&&_0x3dad0b[_0x17f965(0x656)](),insertAfter(_0x7e846e,_0x20938c);}function initializeCategorys(){const _0x2c599e=_0x28d754,_0x3ec806=document[_0x2c599e(0x5b3)]('navmenu'),_0xe69d38=_0x3ec806[_0x2c599e(0x794)]('ul');_0xe69d38['innerHTML']='';const _0x2fb856=document[_0x2c599e(0x5b3)](_0x2c599e(0x732))[_0x2c599e(0x4a7)],_0x276af1=getUserPermissionApiERP(0x2),_0x5b46dd=products[_0x2c599e(0x1fc)](_0x54937d=>_0x276af1==0x1?_0x54937d[_0x2c599e(0x1d0)]&&_0x54937d[_0x2c599e(0x1d0)]['some'](_0x115200=>String(_0x115200[_0x2c599e(0x20e)])==_0x2fb856):!![]);products_category=[...new Set(_0x5b46dd[_0x2c599e(0x6f6)](_0x83b665=>_0x83b665[_0x2c599e(0x295)])[_0x2c599e(0x1fc)](_0x4db727=>_0x4db727))],products_category['forEach'](_0x3dcb2b=>{const _0x10febf=_0x2c599e,_0x3d90c6=document[_0x10febf(0x57a)]('li');_0x3d90c6[_0x10febf(0x566)]='\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22'+_0x3dcb2b+_0x10febf(0x508)+_0x3dcb2b+_0x10febf(0x29e)+_0x3dcb2b+'</span>\x0a</label>',_0xe69d38[_0x10febf(0x586)](_0x3d90c6);}),products_marca=[...new Set(_0x5b46dd[_0x2c599e(0x6f6)](_0x5d715b=>_0x5d715b[_0x2c599e(0x461)])['filter'](_0x1f20d0=>_0x1f20d0))],products_marca[_0x2c599e(0x239)](_0x4a9f79=>{const _0x14e0f7=_0x2c599e,_0x5dcc8d=document['createElement']('li');_0x5dcc8d[_0x14e0f7(0x566)]=_0x14e0f7(0x431)+_0x4a9f79+_0x14e0f7(0x508)+_0x4a9f79+_0x14e0f7(0x29e)+_0x4a9f79+'</span>\x0a</label>',_0xe69d38[_0x14e0f7(0x586)](_0x5dcc8d);}),_0x3ec806[_0x2c599e(0x507)](_0x2c599e(0x640),_0x213e88=>{const _0x5892cc=_0x2c599e,_0x5f539a=_0x213e88[_0x5892cc(0x643)][_0x5892cc(0x5ee)]('.category-label');if(_0x5f539a){const _0xa8517f=_0x5f539a[_0x5892cc(0x794)]('.category-checkbox');_0xa8517f[_0x5892cc(0x77b)]=!_0xa8517f['checked'];const _0x531dec=_0xa8517f['value'],_0x171a81=_0x5f539a[_0x5892cc(0x794)](_0x5892cc(0x2f3));_0xa8517f[_0x5892cc(0x77b)]?(_0x171a81[_0x5892cc(0x4d1)][_0x5892cc(0x4a0)]=_0x5892cc(0x74e),_0x171a81[_0x5892cc(0x4d1)][_0x5892cc(0x658)]=_0x5892cc(0x1e1),_0x171a81[_0x5892cc(0x4d1)][_0x5892cc(0x6d6)]='5px',_0x171a81['style'][_0x5892cc(0x64c)]=_0x5892cc(0x279),selectedCategories[_0x5892cc(0x48d)](_0x531dec)):(_0x171a81[_0x5892cc(0x4d1)][_0x5892cc(0x4a0)]='',_0x171a81[_0x5892cc(0x4d1)][_0x5892cc(0x658)]='',_0x171a81['style'][_0x5892cc(0x6d6)]='',_0x171a81['style'][_0x5892cc(0x64c)]='',selectedCategories=selectedCategories[_0x5892cc(0x1fc)](_0x55dc88=>_0x55dc88!==_0x531dec)),renderProducts(searchInput[_0x5892cc(0x4a7)]),showSection('div_section_products'),showLeftSection();}const _0x1bb249=_0x213e88[_0x5892cc(0x643)][_0x5892cc(0x5ee)](_0x5892cc(0x2e9));if(_0x1bb249){const _0x2a9c63=_0x1bb249['querySelector'](_0x5892cc(0x39c));_0x2a9c63[_0x5892cc(0x77b)]=!_0x2a9c63['checked'];const _0x3a86c7=_0x2a9c63['value'],_0xd03f71=_0x1bb249[_0x5892cc(0x794)](_0x5892cc(0x2f3));_0x2a9c63[_0x5892cc(0x77b)]?(_0xd03f71[_0x5892cc(0x4d1)][_0x5892cc(0x4a0)]=_0x5892cc(0x74e),_0xd03f71[_0x5892cc(0x4d1)][_0x5892cc(0x658)]=_0x5892cc(0x1e1),_0xd03f71['style'][_0x5892cc(0x6d6)]=_0x5892cc(0x279),_0xd03f71[_0x5892cc(0x4d1)][_0x5892cc(0x64c)]=_0x5892cc(0x279),selectedMarcas[_0x5892cc(0x48d)](_0x3a86c7)):(_0xd03f71[_0x5892cc(0x4d1)]['color']='',_0xd03f71[_0x5892cc(0x4d1)][_0x5892cc(0x658)]='',_0xd03f71[_0x5892cc(0x4d1)]['padding']='',_0xd03f71[_0x5892cc(0x4d1)][_0x5892cc(0x64c)]='',selectedMarcas=selectedMarcas['filter'](_0x43f6f0=>_0x43f6f0!==_0x3a86c7)),renderProducts(searchInput['value']),showSection(_0x5892cc(0x6b3)),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window[_0x28d754(0x34e)];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0x2486be,{pdfGlobalPayload:_0x5c9875,pdfGlobalBlob:_0x222149,pdfGlobalName:_0x584f6b}){lastOperationGlobal['set'](_0x2486be,{'pdfGlobalPayload':_0x5c9875,'pdfGlobalBlob':_0x222149,'pdfGlobalName':_0x584f6b});}function getLastOperationGlobalData(_0x617059){const _0x456e56=_0x28d754;return lastOperationGlobal[_0x456e56(0x72c)](_0x617059)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document[_0x28d754(0x5b3)](_0x28d754(0x705));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document['createElement'](_0x28d754(0x4d1));document[_0x28d754(0x4d2)][_0x28d754(0x586)](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document[_0x28d754(0x5b3)](_0x28d754(0x20b)),countryList=document['getElementById'](_0x28d754(0x68e)),sendEmailButton=document[_0x28d754(0x5b3)](_0x28d754(0x6f3)),sendWhatsAppButton=document[_0x28d754(0x5b3)](_0x28d754(0x1c7));function createElement(_0xe37803,_0x2447f5={},_0x2a4d77=[]){const _0x15348e=_0x28d754,_0x401c0f=document['createElement'](_0xe37803);return Object[_0x15348e(0x4a1)](_0x2447f5)[_0x15348e(0x239)](_0x16affd=>{const _0x18b8aa=_0x15348e;if(_0x16affd==_0x18b8aa(0x1c5))_0x401c0f[_0x18b8aa(0x78c)]=_0x2447f5[_0x16affd];else{if(_0x16affd=='events')Object[_0x18b8aa(0x4a1)](_0x2447f5[_0x16affd])[_0x18b8aa(0x239)](_0x4be98e=>{const _0x4a2fef=_0x18b8aa;_0x401c0f[_0x4a2fef(0x507)](_0x4be98e,_0x2447f5[_0x16affd][_0x4be98e]);});else _0x16affd==_0x18b8aa(0x566)?_0x401c0f[_0x18b8aa(0x566)]=_0x2447f5[_0x16affd]:_0x401c0f[_0x18b8aa(0x1d9)](_0x16affd,_0x2447f5[_0x16affd]);}}),_0x2a4d77[_0x15348e(0x239)](_0x8464a4=>{const _0xdd93ea=_0x15348e;typeof _0x8464a4==_0xdd93ea(0x6db)?_0x401c0f['appendChild'](document[_0xdd93ea(0x4ba)](_0x8464a4)):_0x401c0f[_0xdd93ea(0x586)](_0x8464a4);}),_0x401c0f;}function styleHackHeader(_0x4c2c59,_0x5e88d1){const _0x295401=_0x28d754;styleSheet[_0x295401(0x504)]=_0x295401(0x749)+_0x4c2c59+'\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20'+_0x5e88d1+_0x295401(0x63f);}function setElementWidthImportant(_0x3aebcf,_0x5bb2a9){const _0x4632f6=_0x28d754,_0x43d3a2=document[_0x4632f6(0x5b3)](_0x3aebcf);_0x43d3a2?_0x43d3a2['style'][_0x4632f6(0x78f)](_0x4632f6(0x4ef),_0x5bb2a9,'important'):console[_0x4632f6(0x574)](_0x4632f6(0x6dd)+_0x3aebcf);}function resetElementWidth(_0xae6e47){const _0xa7cdef=_0x28d754,_0x43a899=document[_0xa7cdef(0x5b3)](_0xae6e47);_0x43a899?_0x43a899[_0xa7cdef(0x4d1)][_0xa7cdef(0x636)]('width'):console[_0xa7cdef(0x574)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0xae6e47);}function isMobile(){const _0x15be03=_0x28d754;return window[_0x15be03(0x34e)]<=0x300;}function showLeftSection(){const _0x19a3bb=_0x28d754;if(isMobile()){const _0x31c649=document[_0x19a3bb(0x5b3)]('div_section_left'),_0x1f8857=document[_0x19a3bb(0x5b3)]('div_section_right');_0x31c649[_0x19a3bb(0x4d1)][_0x19a3bb(0x78f)](_0x19a3bb(0x746),_0x19a3bb(0x720),_0x19a3bb(0x595)),_0x1f8857[_0x19a3bb(0x4d1)][_0x19a3bb(0x78f)](_0x19a3bb(0x746),'none',_0x19a3bb(0x595)),styleHackHeader(_0x19a3bb(0x535),_0x19a3bb(0x535));}}function showRightSection(){const _0x278471=_0x28d754;if(isMobile()){const _0x4e537a=document['getElementById'](_0x278471(0x7a1)),_0x4c3c40=document[_0x278471(0x5b3)](_0x278471(0x4bb));_0x4c3c40[_0x278471(0x4d1)][_0x278471(0x78f)](_0x278471(0x746),_0x278471(0x720),'important'),_0x4e537a[_0x278471(0x4d1)][_0x278471(0x78f)]('display','none',_0x278471(0x595)),styleHackHeader('0','0');}}function adjustHeight(){const _0x197985=_0x28d754,_0x4167f2=document[_0x197985(0x5b3)]('div_sections');_0x4167f2['style'][_0x197985(0x627)]=window[_0x197985(0x753)]+'px';}function insertAfter(_0x35313c,_0x3f3386){const _0x2192bb=_0x28d754;_0x3f3386[_0x2192bb(0x32c)][_0x2192bb(0x3fe)](_0x35313c,_0x3f3386[_0x2192bb(0x71c)]);}function insertBefore(_0x51c0be,_0x44e178){const _0x45b1b3=_0x28d754;_0x44e178[_0x45b1b3(0x32c)][_0x45b1b3(0x3fe)](_0x51c0be,_0x44e178);}function updateInternetIcon(){const _0x1612f0=_0x28d754,_0x2662c7=document[_0x1612f0(0x5b3)](_0x1612f0(0x2d1)),_0x2f01e0=document[_0x1612f0(0x5b3)]('tabs-icon-offline');isOnline()?(_0x2662c7[_0x1612f0(0x78c)]='icon-arrow-right',_0x2f01e0[_0x1612f0(0x78c)]=_0x1612f0(0x7aa),apiERPsync()):(_0x2662c7[_0x1612f0(0x78c)]=_0x1612f0(0x7aa),_0x2f01e0['className']='icon-arrow-right');}async function apiERPgetWindows(){const _0x30fb4b=_0x28d754,_0x5d88e4=myCompany[_0x30fb4b(0x369)];let _0x36e869=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x30fb4b(0x620)),console[_0x30fb4b(0x574)](_0x30fb4b(0x620));return;}const _0x1c2015=await fetch(_0x30fb4b(0x76a),{'method':_0x30fb4b(0x654),'headers':{'Content-Type':_0x30fb4b(0x418)},'body':JSON['stringify']({'setAuthToken':myCompany[_0x30fb4b(0x523)],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0xd71775=await _0x1c2015[_0x30fb4b(0x326)]();if(_0xd71775[_0x30fb4b(0x5d5)]){const _0x4bd5d5=_0xd71775[_0x30fb4b(0x45d)][_0x30fb4b(0x369)];_0x36e869=_0x4bd5d5[_0x30fb4b(0x1fc)](_0x28174c=>!_0x5d88e4[_0x30fb4b(0x79e)](_0x2f2343=>_0x2f2343['setWindowId']==_0x28174c['setWindowId'])),myCompany['setWindows']=_0x4bd5d5;}else{hideLoadingModal(),ntfShow(_0xd71775['message']),console['error'](_0x30fb4b(0x1e7),_0xd71775[_0x30fb4b(0x45d)]);return;}const _0x462b11=await createCartStore('');await saveCompanyToIndexedDB(company,_0x462b11);for(const _0x560385 of _0x36e869){await new Promise(_0xc73347=>setTimeout(_0xc73347,0x12c)),await createCartStore(_0x560385[_0x30fb4b(0x73a)]);}}async function apiERPsyncWindows(){const _0x41729e=_0x28d754;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x41729e(0x523)],myCompany[_0x41729e(0x369)]);const _0x5ab1ad=document[_0x41729e(0x5b3)](_0x41729e(0x31a))[_0x41729e(0x4a7)],_0x182262=myCompany[_0x41729e(0x2c2)],_0x23bacf=_0x182262[_0x41729e(0x248)](_0x5e621f=>_0x5e621f[_0x41729e(0x31a)]==_0x5ab1ad&&_0x5e621f['setServerType']==0x2),_0x279209=getUserPermissionApiERP(0xd),_0x42e6a8=_0x23bacf?0x1:0x0;if(_0x42e6a8==0x1&&_0x279209==0x1){const _0x391587=_0x41729e(0x552)+generateUUID(),_0x53732d=document[_0x41729e(0x57a)]('iframe');_0x53732d[_0x41729e(0x62b)]=_0x391587,_0x53732d[_0x41729e(0x4d1)][_0x41729e(0x746)]=_0x41729e(0x44a),document['body'][_0x41729e(0x586)](_0x53732d);const _0x48e9e0=document[_0x41729e(0x57a)](_0x41729e(0x22e));_0x48e9e0[_0x41729e(0x6ea)]=_0x41729e(0x654),_0x48e9e0[_0x41729e(0x63e)]=_0x23bacf['setServerRoot'],_0x48e9e0[_0x41729e(0x1de)]=_0x41729e(0x7b0),_0x48e9e0[_0x41729e(0x643)]=_0x53732d[_0x41729e(0x62b)];const _0x44dd90={'setWindows':JSON[_0x41729e(0x43e)](myCompany[_0x41729e(0x369)])};for(const _0x3675c3 in _0x44dd90){const _0x45da7c=document[_0x41729e(0x57a)](_0x41729e(0x5e3));_0x45da7c['type']='hidden',_0x45da7c['name']=_0x3675c3,_0x45da7c[_0x41729e(0x4a7)]=_0x44dd90[_0x3675c3],_0x48e9e0[_0x41729e(0x586)](_0x45da7c);}document[_0x41729e(0x553)][_0x41729e(0x586)](_0x48e9e0),_0x48e9e0[_0x41729e(0x7ae)](),document[_0x41729e(0x553)][_0x41729e(0x428)](_0x48e9e0),setTimeout(()=>{const _0x473cd9=_0x41729e;document['body'][_0x473cd9(0x428)](_0x53732d);},0x1388);}}}async function apiERPupdateOnline(_0x5ce434,_0x18ef8f){const _0x133ead=_0x28d754;if(!isOnline())return console[_0x133ead(0x5d6)](_0x133ead(0x6a8)),Promise[_0x133ead(0x6fb)]('Error\x20Network.');const _0x4273b6={'setAuthToken':_0x5ce434,'setWindows':_0x18ef8f};return fetch(_0x133ead(0x59f),{'method':_0x133ead(0x654),'headers':{'Content-Type':_0x133ead(0x22a)},'body':JSON[_0x133ead(0x43e)](_0x4273b6)})[_0x133ead(0x2c1)](_0x386ba5=>{const _0xabc856=_0x133ead;if(!_0x386ba5['ok'])throw new Error(_0xabc856(0x3d3)+_0x386ba5[_0xabc856(0x4ca)]);return _0x386ba5[_0xabc856(0x326)]();})['then'](_0x202330=>{const _0x3c0536=_0x133ead;if(!_0x202330[_0x3c0536(0x5d5)])throw new Error(_0x202330[_0x3c0536(0x45d)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x3c0536(0x5d6)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x202330;})[_0x133ead(0x480)](_0x2f173a=>{const _0x437b8a=_0x133ead;console[_0x437b8a(0x574)](_0x437b8a(0x2bc),_0x2f173a);throw _0x2f173a;});}async function apiERPsyncWindowsCartTmp(){const _0x498c1d=_0x28d754;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany[_0x498c1d(0x523)],myCompany['setWindows']));}async function apiERPupdateOnlineCartTmp(_0x4acd64,_0x17618f){const _0x2a7458=_0x28d754;if(!isOnline())return console[_0x2a7458(0x5d6)]('Error\x20Network.'),Promise[_0x2a7458(0x6fb)](_0x2a7458(0x6a8));const _0x4d44ee={'setAuthToken':_0x4acd64,'setWindows':_0x17618f};return fetch('https://apierp.dev/api/windows/update-cart-tmp/',{'method':_0x2a7458(0x654),'headers':{'Content-Type':_0x2a7458(0x22a)},'body':JSON[_0x2a7458(0x43e)](_0x4d44ee)})[_0x2a7458(0x2c1)](_0x1ba40c=>{const _0x4cc64c=_0x2a7458;if(!_0x1ba40c['ok'])throw new Error(_0x4cc64c(0x3d3)+_0x1ba40c['statusText']);return _0x1ba40c[_0x4cc64c(0x326)]();})[_0x2a7458(0x2c1)](_0x1559e9=>{const _0x546011=_0x2a7458;if(!_0x1559e9[_0x546011(0x5d5)])throw new Error(_0x1559e9['message']||_0x546011(0x60d));return console[_0x546011(0x5d6)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x1559e9;})[_0x2a7458(0x480)](_0x134db4=>{const _0x2f6ea3=_0x2a7458;console[_0x2f6ea3(0x574)]('Error\x20al\x20actualizar\x20data\x20online:',_0x134db4);throw _0x134db4;});}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x193338=_0x28d754,_0xe9b76b=new Date(),_0x1b91eb=_0xe9b76b[_0x193338(0x60b)](),_0x37e8a0=String(_0xe9b76b[_0x193338(0x7b6)]()+0x1)[_0x193338(0x371)](0x2,'0'),_0x2a5f4b=String(_0xe9b76b[_0x193338(0x34f)]())[_0x193338(0x371)](0x2,'0'),_0x56b5a8=String(_0xe9b76b['getHours']())['padStart'](0x2,'0'),_0x28eba3=String(_0xe9b76b[_0x193338(0x6d7)]())[_0x193338(0x371)](0x2,'0'),_0x178959=_0x1b91eb+'-'+_0x37e8a0+'-'+_0x2a5f4b+'T'+_0x56b5a8+':'+_0x28eba3;return _0x178959;}async function createFormElements(_0x36735d){const _0x4cbd66=_0x28d754,_0x5b64db=_0x36735d[_0x4cbd66(0x613)]('-')[0x1],_0x1df5e9=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x45c)),_0x2b4398=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x67e)),_0x5595af=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5595af['id']=_0x4cbd66(0x338)+_0x5b64db,_0x5595af[_0x4cbd66(0x78c)]=_0x4cbd66(0x4d0)+_0x5b64db,_0x1df5e9[_0x4cbd66(0x586)](_0x5595af);const _0x5c46e9=document['getElementById'](_0x4cbd66(0x338)+_0x5b64db),_0x5406fe=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5406fe['id']=_0x4cbd66(0x630)+_0x5b64db,_0x5406fe[_0x4cbd66(0x78c)]=_0x4cbd66(0x328),_0x5c46e9['appendChild'](_0x5406fe);const _0x142c58=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x630)+_0x5b64db),_0x15714a=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x2da)}),_0x472d03=myCompany[_0x4cbd66(0x708)]['map'](_0x44f7a6=>{const _0x49d49d=_0x4cbd66;return createElement(_0x49d49d(0x4d9),{'value':_0x44f7a6[_0x49d49d(0x6ac)]},[_0x44f7a6['setTipoOperacionName']]);}),_0x5a256d=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x73f)+_0x5b64db,'class':_0x4cbd66(0x562),'events':{'change':_0x2d75cc=>{const _0x45561f=_0x4cbd66;updateSerieAndRenderCart(_0x2d75cc[_0x45561f(0x643)][_0x45561f(0x4a7)],_0x5b64db);}}},_0x472d03);_0x15714a[_0x4cbd66(0x586)](_0x5a256d),_0x142c58[_0x4cbd66(0x586)](_0x15714a);const _0x1a77cd=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x201)}),_0x23c0d0=createElement(_0x4cbd66(0x6dc),{'id':'setSerie-'+_0x5b64db,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie'});_0x1a77cd[_0x4cbd66(0x586)](_0x23c0d0),_0x142c58[_0x4cbd66(0x586)](_0x1a77cd);const _0x4c0668=document['createElement']('div');_0x4c0668[_0x4cbd66(0x78c)]=_0x4cbd66(0x437);const _0x111135=document[_0x4cbd66(0x57a)](_0x4cbd66(0x5e3));_0x111135['id']=_0x4cbd66(0x655)+_0x5b64db,_0x111135[_0x4cbd66(0x322)]=_0x4cbd66(0x775),_0x111135[_0x4cbd66(0x78c)]=_0x4cbd66(0x786),_0x111135[_0x4cbd66(0x48e)]=_0x4cbd66(0x563),_0x111135['onchange']=_0x1c7047=>updateWindowOption(_0x5b64db,_0x4cbd66(0x360),_0x1c7047[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)]),_0x4c0668[_0x4cbd66(0x586)](_0x111135),_0x142c58[_0x4cbd66(0x586)](_0x4c0668);const _0x3a3f8e=document[_0x4cbd66(0x57a)]('div');_0x3a3f8e[_0x4cbd66(0x78c)]=_0x4cbd66(0x3c0);const _0x7dc1b9=document[_0x4cbd66(0x57a)](_0x4cbd66(0x267));_0x7dc1b9['id']=_0x4cbd66(0x5e4)+_0x5b64db,_0x7dc1b9['type']='button',_0x7dc1b9[_0x4cbd66(0x566)]='<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>',_0x7dc1b9[_0x4cbd66(0x78c)]=_0x4cbd66(0x6ef),_0x7dc1b9[_0x4cbd66(0x290)]=()=>{const _0x5a32a5=_0x4cbd66;showSection(_0x5a32a5(0x2a4));},_0x3a3f8e['appendChild'](_0x7dc1b9),_0x142c58[_0x4cbd66(0x586)](_0x3a3f8e);const _0x4afdd1=myCompany[_0x4cbd66(0x770)][_0x4cbd66(0x6f6)](_0x3f2f96=>{const _0x58ca0a=_0x4cbd66;return createElement('option',{'value':_0x3f2f96[_0x58ca0a(0x5ed)]},[_0x3f2f96[_0x58ca0a(0x5ed)]]);}),_0x500898=createElement('select',{'id':_0x4cbd66(0x3a9)+_0x5b64db,'class':_0x4cbd66(0x6c5),'events':{'change':_0xf116a9=>updateChangeMoneda(_0x5b64db,_0x4cbd66(0x68c),_0xf116a9['target'][_0x4cbd66(0x4a7)])}},_0x4afdd1),_0x3f7592=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x2da)},[_0x500898]);_0x142c58['appendChild'](_0x3f7592);const _0x6fd38f=myCompany[_0x4cbd66(0x2dd)][_0x4cbd66(0x6f6)](_0x12a8e0=>{return createElement('option',{'value':_0x12a8e0['setTipoDocCodigo']},[_0x12a8e0['setTipoDocCodigo']]);}),_0x301b67=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x5f0)+_0x5b64db,'class':_0x4cbd66(0x6ce),'events':{'change':_0x393e50=>updateWindowOption(_0x5b64db,_0x4cbd66(0x69a),_0x393e50[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}},_0x6fd38f),_0x1a17f5=createElement(_0x4cbd66(0x35d),{'class':'div-width-30\x20col-bt-padding'},[_0x301b67]);_0x142c58[_0x4cbd66(0x586)](_0x1a17f5);const _0x1fc00f=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x1fc00f[_0x4cbd66(0x78c)]=_0x4cbd66(0x437);const _0x11135d=document[_0x4cbd66(0x57a)](_0x4cbd66(0x5e3));_0x11135d['id']=_0x4cbd66(0x644)+_0x5b64db,_0x11135d['type']=_0x4cbd66(0x5c8),_0x11135d[_0x4cbd66(0x1e4)]='off',_0x11135d[_0x4cbd66(0x48e)]='Nº',_0x11135d[_0x4cbd66(0x78c)]=_0x4cbd66(0x4e1),_0x11135d[_0x4cbd66(0x252)]=_0x3ff051=>updateWindowOption(_0x5b64db,_0x4cbd66(0x329),_0x3ff051[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)]),_0x11135d[_0x4cbd66(0x507)](_0x4cbd66(0x659),_0x3e5649=>{const _0x369162=_0x4cbd66;_0x3e5649[_0x369162(0x21c)]==_0x369162(0x282)&&setupConsulta(_0x5b64db);}),_0x11135d[_0x4cbd66(0x507)](_0x4cbd66(0x5e3),async _0x513d3b=>{const _0x247569=_0x4cbd66,_0x4f993f=window_options[_0x5b64db],_0x1aee82=_0x11135d[_0x247569(0x4a7)];_0x4f993f['setTipoOperacion']==0x4&&_0x4f993f['setClienteTipoDoc']==_0x247569(0x1c2)&&_0x1aee82['length']==0xb&&(await updateWindowOption(_0x5b64db,_0x247569(0x329),_0x1aee82),setupConsulta(_0x5b64db));}),_0x11135d[_0x4cbd66(0x507)](_0x4cbd66(0x40c),_0x3c886b=>{const _0x2a7333=_0x4cbd66;if(_0x3c886b['key']=='Backspace'||_0x3c886b[_0x2a7333(0x21c)]==_0x2a7333(0x657)){const _0x5131cf=document[_0x2a7333(0x5b3)]('setClienteDenominacion-'+_0x5b64db),_0x159cb7=document[_0x2a7333(0x5b3)](_0x2a7333(0x319)+_0x5b64db);_0x5131cf&&(_0x5131cf[_0x2a7333(0x4a7)]='',window_options[_0x5b64db][_0x2a7333(0x4a5)]=''),_0x159cb7&&(_0x159cb7[_0x2a7333(0x4a7)]='',window_options[_0x5b64db][_0x2a7333(0x3f5)]='');}}),_0x1fc00f[_0x4cbd66(0x586)](_0x11135d),_0x142c58[_0x4cbd66(0x586)](_0x1fc00f);const _0x1961bb=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x1961bb[_0x4cbd66(0x78c)]=_0x4cbd66(0x3c0);const _0x18ed00=document['createElement'](_0x4cbd66(0x267));_0x18ed00['id']='btnConsultar-'+_0x5b64db,_0x18ed00[_0x4cbd66(0x322)]='button',_0x18ed00['innerHTML']=_0x4cbd66(0x20f),_0x18ed00['className']=_0x4cbd66(0x3e3),_0x18ed00[_0x4cbd66(0x290)]=()=>setupConsulta(_0x5b64db),_0x1961bb[_0x4cbd66(0x586)](_0x18ed00),_0x142c58[_0x4cbd66(0x586)](_0x1961bb);const _0x4021f4=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x4021f4[_0x4cbd66(0x78c)]=_0x4cbd66(0x694),_0x4021f4[_0x4cbd66(0x4d1)][_0x4cbd66(0x35e)]=_0x4cbd66(0x4b2);const _0x5e683b=document[_0x4cbd66(0x57a)](_0x4cbd66(0x5e3));_0x5e683b['id']=_0x4cbd66(0x6d3)+_0x5b64db,_0x5e683b[_0x4cbd66(0x322)]=_0x4cbd66(0x5c8),_0x5e683b['autocomplete']=_0x4cbd66(0x1da),_0x5e683b['className']='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion',_0x5e683b[_0x4cbd66(0x252)]=_0x13da2e=>updateWindowOption(_0x5b64db,_0x4cbd66(0x4a5),_0x13da2e[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)]);const _0x4e1557=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x4e1557['id']=_0x4cbd66(0x5e7)+_0x5b64db,_0x4e1557['className']=_0x4cbd66(0x674),_0x5e683b[_0x4cbd66(0x507)](_0x4cbd66(0x659),_0x27dab6=>{const _0xd6e63b=_0x4cbd66;_0x27dab6[_0xd6e63b(0x21c)]==_0xd6e63b(0x282)&&(setupConsulta(_0x5b64db),document[_0xd6e63b(0x5b3)](_0xd6e63b(0x5e7)+_0x5b64db)[_0xd6e63b(0x566)]='');}),_0x5e683b[_0x4cbd66(0x507)](_0x4cbd66(0x40c),function(_0x34f00b){const _0xaad81e=_0x4cbd66;_0x34f00b[_0xaad81e(0x21c)]==_0xaad81e(0x4c7)&&_0x4e1557['children'][_0xaad81e(0x517)]>0x0&&(_0x34f00b[_0xaad81e(0x7ab)](),_0x34f00b[_0xaad81e(0x534)](),_0x4e1557[_0xaad81e(0x402)][0x0][_0xaad81e(0x64d)]());}),_0x4021f4['appendChild'](_0x5e683b),_0x4021f4[_0x4cbd66(0x586)](_0x4e1557),_0x142c58[_0x4cbd66(0x586)](_0x4021f4),_0x5e683b[_0x4cbd66(0x507)]('input',function(){const _0x526a1a=_0x4cbd66,_0x3cc16b=this['value']['trim']()[_0x526a1a(0x266)]();_0x4e1557[_0x526a1a(0x566)]='';if(_0x3cc16b['length']==0x0)return;const _0x4f3b7b=_0x3cc16b[_0x526a1a(0x613)](/\s+/)['filter'](_0x2ebd0c=>_0x2ebd0c);let _0x2729f7,_0x1ec21a;setTipOpeOrders['some'](_0x532089=>_0x532089==window_options[_0x5b64db][_0x526a1a(0x6f1)])||setTipOpeSales[_0x526a1a(0x79e)](_0x272774=>_0x272774==window_options[_0x5b64db][_0x526a1a(0x6f1)])||setTipOpeQuotation['some'](_0x3b40c2=>_0x3b40c2==window_options[_0x5b64db][_0x526a1a(0x6f1)])||setTipOpeShippingGuide[_0x526a1a(0x79e)](_0x1cb58c=>_0x1cb58c==window_options[_0x5b64db][_0x526a1a(0x6f1)])?(_0x2729f7=myCompany[_0x526a1a(0x1f6)],_0x1ec21a=_0x2729f7[_0x526a1a(0x1fc)](_0x4561d5=>{const _0x508eae=_0x526a1a,_0x10358d=(_0x4561d5['setCustomerName']||'')['toLowerCase'](),_0x126cca=(_0x4561d5[_0x508eae(0x693)]||'')[_0x508eae(0x266)](),_0x3f045b=_0x10358d+'\x20'+_0x126cca;return _0x4f3b7b[_0x508eae(0x1eb)](_0x31d151=>_0x3f045b[_0x508eae(0x66a)](_0x31d151));})):(_0x2729f7=myCompany[_0x526a1a(0x4d5)],_0x1ec21a=_0x2729f7[_0x526a1a(0x1fc)](_0x40d403=>{const _0x5b61ae=_0x526a1a,_0x2a8706=(_0x40d403[_0x5b61ae(0x2ba)]||'')['toLowerCase'](),_0x3c7eeb=(_0x40d403[_0x5b61ae(0x6e7)]||'')['toLowerCase'](),_0x3502a6=_0x2a8706+'\x20'+_0x3c7eeb;return _0x4f3b7b['every'](_0x469575=>_0x3502a6[_0x5b61ae(0x66a)](_0x469575));}));if(_0x1ec21a[_0x526a1a(0x517)]>0x0)_0x1ec21a['forEach'](_0x29c64a=>{const _0x4ac5ad=_0x526a1a,_0x5108ad=document['createElement'](_0x4ac5ad(0x35d));_0x5108ad['className']='suggestion-item';let _0x587423,_0x328583,_0x114493;setTipOpeOrders[_0x4ac5ad(0x79e)](_0x86dd91=>_0x86dd91==window_options[_0x5b64db][_0x4ac5ad(0x6f1)])||setTipOpeSales[_0x4ac5ad(0x79e)](_0x2f1351=>_0x2f1351==window_options[_0x5b64db]['setTipoOperacion'])||setTipOpeQuotation[_0x4ac5ad(0x79e)](_0x17807=>_0x17807==window_options[_0x5b64db]['setTipoOperacion'])||setTipOpeShippingGuide[_0x4ac5ad(0x79e)](_0x13ab63=>_0x13ab63==window_options[_0x5b64db][_0x4ac5ad(0x6f1)])?(_0x587423=_0x29c64a['setCustomerDocumentNumber'],_0x328583=_0x29c64a[_0x4ac5ad(0x53f)],_0x114493=_0x29c64a[_0x4ac5ad(0x691)]):(_0x587423=_0x29c64a[_0x4ac5ad(0x6e7)],_0x328583=_0x29c64a[_0x4ac5ad(0x2ba)],_0x114493=_0x29c64a[_0x4ac5ad(0x276)]),_0x587423?_0x5108ad['textContent']=_0x587423+_0x4ac5ad(0x231)+_0x328583:_0x5108ad[_0x4ac5ad(0x68b)]=_0x328583,_0x5108ad[_0x4ac5ad(0x5d0)]=0x0,_0x5108ad[_0x4ac5ad(0x507)](_0x4ac5ad(0x640),()=>{const _0x484b29=_0x4ac5ad;_0x5e683b['value']=_0x328583;const _0x556830=document[_0x484b29(0x5b3)](_0x484b29(0x644)+_0x5b64db),_0x3a096c=document[_0x484b29(0x5b3)](_0x484b29(0x319)+_0x5b64db);_0x556830&&(_0x556830[_0x484b29(0x4a7)]=_0x587423||''),_0x3a096c&&(_0x3a096c[_0x484b29(0x4a7)]=_0x114493||''),window_options[_0x5b64db][_0x484b29(0x4a5)]=_0x328583,window_options[_0x5b64db]['setClienteNumDoc']=_0x587423,window_options[_0x5b64db][_0x484b29(0x3f5)]=_0x114493,saveWindowOptionsDB(_0x5b64db)[_0x484b29(0x480)](_0x41f252=>console[_0x484b29(0x574)](_0x484b29(0x58a),_0x41f252)),_0x4e1557[_0x484b29(0x566)]='';}),_0x5108ad[_0x4ac5ad(0x507)](_0x4ac5ad(0x40c),function(_0x36158c){const _0x4d7a70=_0x4ac5ad;if(_0x36158c[_0x4d7a70(0x21c)]==_0x4d7a70(0x282))_0x36158c['stopPropagation'](),this[_0x4d7a70(0x640)]();else{if(_0x36158c[_0x4d7a70(0x21c)]==_0x4d7a70(0x4c7)){_0x36158c[_0x4d7a70(0x7ab)](),_0x36158c['stopPropagation']();if(_0x36158c[_0x4d7a70(0x2e3)]){if(this==_0x4e1557[_0x4d7a70(0x4cd)])_0x5e683b[_0x4d7a70(0x64d)]();else{let _0x5cb558=this[_0x4d7a70(0x26a)];if(_0x5cb558)_0x5cb558[_0x4d7a70(0x64d)]();}}else this['nextElementSibling']?this[_0x4d7a70(0x66f)]['focus']():_0x5e683b[_0x4d7a70(0x64d)]();}}}),_0x4e1557[_0x4ac5ad(0x586)](_0x5108ad);});else{const _0xdbe2e9=document[_0x526a1a(0x57a)](_0x526a1a(0x35d));_0xdbe2e9['className']=_0x526a1a(0x611),_0xdbe2e9[_0x526a1a(0x68b)]='No\x20se\x20encontraron\x20resultados',_0x4e1557[_0x526a1a(0x586)](_0xdbe2e9);}});const _0x5cee92=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5cee92[_0x4cbd66(0x78c)]=_0x4cbd66(0x694);const _0x4c2abb=document[_0x4cbd66(0x57a)](_0x4cbd66(0x5e3));_0x4c2abb['id']=_0x4cbd66(0x319)+_0x5b64db,_0x4c2abb[_0x4cbd66(0x322)]=_0x4cbd66(0x5c8),_0x4c2abb[_0x4cbd66(0x1e4)]=_0x4cbd66(0x1da),_0x4c2abb[_0x4cbd66(0x48e)]=_0x4cbd66(0x2f2),_0x4c2abb[_0x4cbd66(0x78c)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2',_0x4c2abb[_0x4cbd66(0x252)]=_0x50b7a4=>updateWindowOption(_0x5b64db,_0x4cbd66(0x3f5),_0x50b7a4[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)]),_0x5cee92['appendChild'](_0x4c2abb),_0x142c58[_0x4cbd66(0x586)](_0x5cee92);const _0x14b621=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x14b621[_0x4cbd66(0x78c)]=_0x4cbd66(0x53a);const _0x3486d5=document[_0x4cbd66(0x57a)](_0x4cbd66(0x267));_0x3486d5['id']=_0x4cbd66(0x1ca)+_0x5b64db,_0x3486d5[_0x4cbd66(0x322)]=_0x4cbd66(0x267),_0x3486d5[_0x4cbd66(0x566)]=_0x4cbd66(0x2df),_0x3486d5[_0x4cbd66(0x78c)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt',_0x3486d5[_0x4cbd66(0x290)]=_0x2e4417=>setPreAccount(_0x5b64db),_0x3486d5[_0x4cbd66(0x4d1)][_0x4cbd66(0x2c5)]=_0x4cbd66(0x279),_0x3486d5[_0x4cbd66(0x4d1)][_0x4cbd66(0x1c4)]=_0x4cbd66(0x279),_0x14b621[_0x4cbd66(0x586)](_0x3486d5),_0x142c58[_0x4cbd66(0x586)](_0x14b621);const _0x2f8edf=document['createElement'](_0x4cbd66(0x35d));_0x2f8edf[_0x4cbd66(0x78c)]=_0x4cbd66(0x1d2);const _0x12e8e5=document['createElement'](_0x4cbd66(0x267));_0x12e8e5['id']='btnopt_facturar-'+_0x5b64db,_0x12e8e5[_0x4cbd66(0x322)]=_0x4cbd66(0x267),_0x12e8e5[_0x4cbd66(0x566)]=_0x4cbd66(0x736),_0x12e8e5[_0x4cbd66(0x78c)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt',_0x12e8e5['onclick']=()=>setBill(_0x5b64db),_0x2f8edf[_0x4cbd66(0x586)](_0x12e8e5),_0x142c58[_0x4cbd66(0x586)](_0x2f8edf);const _0x3873de=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x3873de[_0x4cbd66(0x78c)]=_0x4cbd66(0x1d2);const _0x41e260=document[_0x4cbd66(0x57a)](_0x4cbd66(0x267));_0x41e260['id']=_0x4cbd66(0x573)+_0x5b64db,_0x41e260['type']=_0x4cbd66(0x267),_0x41e260[_0x4cbd66(0x566)]=_0x4cbd66(0x5dc),_0x41e260[_0x4cbd66(0x78c)]=_0x4cbd66(0x423);let _0x30b34b=![];_0x41e260[_0x4cbd66(0x290)]=()=>{const _0x19b8d3=_0x4cbd66;_0x30b34b=!_0x30b34b,_0x30b34b?_0x41e260[_0x19b8d3(0x4d1)][_0x19b8d3(0x47f)]=_0x19b8d3(0x4ee):_0x41e260[_0x19b8d3(0x4d1)][_0x19b8d3(0x47f)]='',updateWindowOption(_0x5b64db,_0x19b8d3(0x764),_0x30b34b?0x1:0x0);},_0x3873de[_0x4cbd66(0x586)](_0x41e260),_0x142c58['appendChild'](_0x3873de);const _0x5756d2=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5756d2[_0x4cbd66(0x78c)]=_0x4cbd66(0x1d2);const _0xf9fedf=document['createElement'](_0x4cbd66(0x267));_0xf9fedf['id']=_0x4cbd66(0x58d)+_0x5b64db,_0xf9fedf[_0x4cbd66(0x322)]='button',_0xf9fedf[_0x4cbd66(0x566)]=_0x4cbd66(0x340),_0xf9fedf[_0x4cbd66(0x78c)]=_0x4cbd66(0x43a);let _0x33843c=![];_0xf9fedf[_0x4cbd66(0x290)]=()=>{const _0x1a1534=_0x4cbd66,_0x31633e=document[_0x1a1534(0x5b3)](_0x1a1534(0x32f)+_0x5b64db),_0x2d267a=document[_0x1a1534(0x1e9)](_0x1a1534(0x2e1)+_0x5b64db);_0x2d267a[_0x1a1534(0x239)](_0xbc915=>{const _0x41c518=_0x1a1534;_0x33843c?_0xbc915[_0x41c518(0x501)][_0x41c518(0x7bc)](_0x41c518(0x675)):_0xbc915['classList'][_0x41c518(0x656)](_0x41c518(0x675));}),_0x33843c?(_0xf9fedf[_0x1a1534(0x4d1)]['backgroundColor']='',_0x31633e[_0x1a1534(0x501)]['add'](_0x1a1534(0x675))):(_0xf9fedf[_0x1a1534(0x4d1)][_0x1a1534(0x47f)]='#f7f7f7',_0x31633e['classList'][_0x1a1534(0x656)](_0x1a1534(0x675))),_0x33843c=!_0x33843c,updateWindowOption(_0x5b64db,'setDividir',_0x33843c?0x1:0x0);},_0xf9fedf[_0x4cbd66(0x4d1)][_0x4cbd66(0x4e6)]=_0x4cbd66(0x279),_0xf9fedf['style']['borderBottomRightRadius']=_0x4cbd66(0x279),_0x5756d2[_0x4cbd66(0x586)](_0xf9fedf),_0x142c58[_0x4cbd66(0x586)](_0x5756d2);const _0x3db3bd=document['createElement']('div');_0x3db3bd['id']=_0x4cbd66(0x32f)+_0x5b64db,_0x3db3bd['className']=_0x4cbd66(0x3ef),_0x3db3bd[_0x4cbd66(0x4d1)][_0x4cbd66(0x658)]=_0x4cbd66(0x4ee),_0x3db3bd[_0x4cbd66(0x4d1)]['marginTop']='0',_0x3db3bd[_0x4cbd66(0x4d1)][_0x4cbd66(0x52b)]=_0x4cbd66(0x440);const _0x349ac2=createElement('input',{'type':_0x4cbd66(0x36a),'id':_0x4cbd66(0x5de)+_0x5b64db,'value':0x0,'events':{'click':_0x3442e2=>selectAllChecks(_0x5b64db)}});_0x349ac2[_0x4cbd66(0x4d1)][_0x4cbd66(0x77a)]='8px',_0x3db3bd['appendChild'](_0x349ac2),_0x142c58[_0x4cbd66(0x586)](_0x3db3bd);const _0x5a0ade=document[_0x4cbd66(0x5b3)]('div_section_options'),_0x1b07a6=document[_0x4cbd66(0x57a)]('div');_0x1b07a6['id']=_0x4cbd66(0x609)+_0x5b64db,_0x1b07a6[_0x4cbd66(0x78c)]=_0x4cbd66(0x4d0)+_0x5b64db,_0x5a0ade['appendChild'](_0x1b07a6);const _0x5c014a=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x609)+_0x5b64db),_0x1a091b=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x1a091b['id']=_0x4cbd66(0x39b)+_0x5b64db,_0x5c014a[_0x4cbd66(0x586)](_0x1a091b);const _0x4f8aff=document['getElementById']('container-div-flex-'+_0x5b64db),_0x32edc9=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x32edc9['id']='container-div-flex-2-'+_0x5b64db,_0x32edc9[_0x4cbd66(0x78c)]=_0x4cbd66(0x66e),_0x4f8aff[_0x4cbd66(0x586)](_0x32edc9);const _0x4e63f5=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x728)+_0x5b64db),_0x51d9e0=document['createElement'](_0x4cbd66(0x35d));_0x51d9e0['id']=_0x4cbd66(0x3b2)+_0x5b64db,_0x51d9e0[_0x4cbd66(0x78c)]=_0x4cbd66(0x4ac),_0x4e63f5[_0x4cbd66(0x586)](_0x51d9e0);const _0x4b3458=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x4b3458['id']=_0x4cbd66(0x221)+_0x5b64db,_0x4b3458[_0x4cbd66(0x78c)]=_0x4cbd66(0x2ec),_0x4e63f5[_0x4cbd66(0x586)](_0x4b3458);const _0x478de7=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x3b2)+_0x5b64db),_0x20e562=createElement(_0x4cbd66(0x532),{'class':_0x4cbd66(0x62f)},[_0x4cbd66(0x3bf)]),_0x3c6f8a=[{'value':'1','text':'Venta\x20Interna'},{'value':'3','text':_0x4cbd66(0x2d2)}][_0x4cbd66(0x6f6)](_0x31469e=>createElement(_0x4cbd66(0x4d9),{'value':_0x31469e[_0x4cbd66(0x4a7)]},[_0x31469e['text']])),_0x2e2ed1=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x2f1)+_0x5b64db,'class':_0x4cbd66(0x372),'events':{'change':_0x32df11=>updateWindowOption(_0x5b64db,_0x4cbd66(0x3fa),_0x32df11[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}},_0x3c6f8a),_0x3c0c35=createElement(_0x4cbd66(0x35d),{'class':'div-width-options\x20col-bt-padding-options'},[_0x20e562,_0x2e2ed1]),_0x25219c=createElement('label',{'class':_0x4cbd66(0x62f)},[_0x4cbd66(0x578)]),_0x4f02f7=createElement(_0x4cbd66(0x5e3),{'id':_0x4cbd66(0x3fc)+_0x5b64db,'type':_0x4cbd66(0x392),'class':_0x4cbd66(0x2ea),'events':{'change':_0x591243=>updateWindowOption(_0x5b64db,_0x4cbd66(0x673),_0x591243[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}}),_0xbc926f=createElement(_0x4cbd66(0x35d),{'class':'div-width-options\x20col-bt-padding-options'},[_0x25219c,_0x4f02f7]),_0x12bc4b=createElement('div',{'class':_0x4cbd66(0x1ff)},[_0x3c0c35,_0xbc926f]);_0x478de7[_0x4cbd66(0x586)](_0x12bc4b);const _0x15ac36=createElement(_0x4cbd66(0x532),{'class':'label-options'},[_0x4cbd66(0x6bf)]),_0x260b7f=createElement('input',{'id':_0x4cbd66(0x6d0)+_0x5b64db,'type':_0x4cbd66(0x5c8),'class':_0x4cbd66(0x78d),'events':{'change':_0x4ffd9c=>updateWindowOption(_0x5b64db,_0x4cbd66(0x7b7),_0x4ffd9c[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}}),_0xfbb635=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x701)},[_0x15ac36,_0x260b7f]),_0x20e6fb=createElement('label',{'class':_0x4cbd66(0x62f)},['Email:']),_0x34451f=createElement('input',{'id':_0x4cbd66(0x75d)+_0x5b64db,'type':_0x4cbd66(0x272),'class':_0x4cbd66(0x68a),'events':{'change':_0x24cf92=>updateWindowOption(_0x5b64db,_0x4cbd66(0x29c),_0x24cf92[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}}),_0x322d8d=createElement('div',{'class':_0x4cbd66(0x701)},[_0x20e6fb,_0x34451f]),_0x4a22ec=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x1ff)},[_0xfbb635,_0x322d8d]);_0x478de7[_0x4cbd66(0x586)](_0x4a22ec);const _0x2a53c3=createElement(_0x4cbd66(0x532),{'class':_0x4cbd66(0x62f)},[_0x4cbd66(0x5e9)]),_0x205f7b=myCompany['setCollaborators'][_0x4cbd66(0x6f6)](_0x2f6124=>createElement('option',{'value':_0x2f6124['setCollaboratorId']},[_0x2f6124[_0x4cbd66(0x761)]])),_0x5d2382=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x71b)+_0x5b64db,'class':_0x4cbd66(0x362),'events':{'change':_0x5713ef=>updateWindowOption(_0x5b64db,_0x4cbd66(0x1ed),_0x5713ef['target']['value'])}},_0x205f7b),_0x1dff01=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x701)},[_0x2a53c3,_0x5d2382]),_0x301eb0=createElement(_0x4cbd66(0x532),{'class':_0x4cbd66(0x62f)},['DESPACHO:']),_0x2a0837=[{'value':'1','text':_0x4cbd66(0x28a)},{'value':'2','text':_0x4cbd66(0x2ce)},{'value':'3','text':_0x4cbd66(0x4bd)}][_0x4cbd66(0x6f6)](_0x2e0ec6=>createElement(_0x4cbd66(0x4d9),{'value':_0x2e0ec6[_0x4cbd66(0x4a7)]},[_0x2e0ec6[_0x4cbd66(0x5c8)]])),_0x272901=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x6b1)+_0x5b64db,'class':_0x4cbd66(0x419),'events':{'change':_0x3e44bd=>updateWindowOption(_0x5b64db,_0x4cbd66(0x429),_0x3e44bd[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}},_0x2a0837),_0x34812e=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x701)},[_0x301eb0,_0x272901]),_0x572e73=createElement(_0x4cbd66(0x35d),{'class':'div-group-container\x20div-width-100'},[_0x1dff01,_0x34812e]);_0x478de7[_0x4cbd66(0x586)](_0x572e73);const _0x461536=createElement('label',{'class':'label-options'},['APLICAR:']),_0x117989=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x596)}),_0x7021f0=createElement(_0x4cbd66(0x5e3),{'type':_0x4cbd66(0x36a),'id':_0x4cbd66(0x6f7)+_0x5b64db,'class':'custom-checkbox','events':{'change':_0x20942f=>toggleTaxFields(_0x20942f,_0x4cbd66(0x245),_0x5b64db)}}),_0x46abba=createElement(_0x4cbd66(0x532),{'for':'chkDetraccion-'+_0x5b64db,'class':_0x4cbd66(0x49d)},[_0x4cbd66(0x4ea)]),_0x4ef612=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x5af)+_0x5b64db,'class':_0x4cbd66(0x460),'events':{'change':_0x4ee3ab=>updateWindowOption(_0x5b64db,_0x4cbd66(0x3b6),_0x4ee3ab[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}},[createElement(_0x4cbd66(0x4d9),{'value':'0'},[_0x4cbd66(0x283)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x2fb)},[_0x4cbd66(0x782)]),createElement('option',{'value':_0x4cbd66(0x79d)},[_0x4cbd66(0x5a4)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x74f)},[_0x4cbd66(0x731)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x474)},['005\x20-\x20Maíz\x20amarillo\x20duro']),createElement('option',{'value':'006'},[_0x4cbd66(0x234)]),createElement('option',{'value':_0x4cbd66(0x6c0)},['007\x20-\x20Caña\x20de\x20azúcar']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x467)},['008\x20-\x20Madera']),createElement('option',{'value':_0x4cbd66(0x3da)},['009\x20-\x20Arena\x20y\x20piedra']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x6a5)},['010\x20-\x20Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x679)},[_0x4cbd66(0x30c)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x74d)},[_0x4cbd66(0x6c1)]),createElement(_0x4cbd66(0x4d9),{'value':'013'},['013\x20-\x20Animales\x20vivos']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x484)},[_0x4cbd66(0x3dd)]),createElement('option',{'value':_0x4cbd66(0x22d)},[_0x4cbd66(0x55b)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x6d9)},['016\x20-\x20Aceite\x20de\x20pescado']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x25b)},[_0x4cbd66(0x4dd)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x558)},[_0x4cbd66(0x1e5)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x377)},[_0x4cbd66(0x4fa)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x548)},[_0x4cbd66(0x6be)]),createElement('option',{'value':_0x4cbd66(0x628)},[_0x4cbd66(0x5f7)]),createElement('option',{'value':_0x4cbd66(0x795)},[_0x4cbd66(0x24e)]),createElement(_0x4cbd66(0x4d9),{'value':'023'},[_0x4cbd66(0x5a5)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x3d9)},['024\x20-\x20Comisión\x20mercantil']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x29f)},[_0x4cbd66(0x230)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x384)},[_0x4cbd66(0x2c4)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x65b)},[_0x4cbd66(0x742)]),createElement('option',{'value':'030'},[_0x4cbd66(0x5a2)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x576)},['031\x20-\x20Oro\x20gravado\x20con\x20el\x20IGV']),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x2a6)},[_0x4cbd66(0x288)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x54f)},[_0x4cbd66(0x4c4)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x6e0)},[_0x4cbd66(0x66b)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x357)},[_0x4cbd66(0x455)]),createElement('option',{'value':_0x4cbd66(0x41e)},[_0x4cbd66(0x256)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x2c8)},[_0x4cbd66(0x71e)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x51a)},[_0x4cbd66(0x53b)])]),_0x93b704=createElement(_0x4cbd66(0x5e3),{'type':_0x4cbd66(0x775),'id':'detraccionPct-'+_0x5b64db,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','value':'','placeholder':_0x4cbd66(0x60f),'events':{'change':_0x5f2fe0=>calculateTax(_0x4cbd66(0x245),_0x5b64db)}}),_0x715d57=createElement(_0x4cbd66(0x5e3),{'type':'text','id':'detraccionTotal-'+_0x5b64db,'class':_0x4cbd66(0x211),'readonly':!![],'placeholder':_0x4cbd66(0x2f5)});_0x117989[_0x4cbd66(0x586)](_0x7021f0),_0x117989['appendChild'](_0x46abba),_0x117989['appendChild'](_0x4ef612),_0x117989['appendChild'](_0x93b704),_0x117989[_0x4cbd66(0x586)](_0x715d57);const _0x13d237=createElement(_0x4cbd66(0x35d),{'class':'div-width-100\x20col-bt-padding'}),_0x409617=createElement(_0x4cbd66(0x5e3),{'type':_0x4cbd66(0x36a),'id':_0x4cbd66(0x376)+_0x5b64db,'class':_0x4cbd66(0x4f9),'events':{'change':_0x84d7c0=>toggleTaxFields(_0x84d7c0,'Retencion',_0x5b64db)}}),_0x3aca41=createElement(_0x4cbd66(0x532),{'for':'chkRetencion-'+_0x5b64db,'class':_0x4cbd66(0x49d)},['RETENCIÓN']),_0x3e4143=createElement('input',{'type':_0x4cbd66(0x775),'id':_0x4cbd66(0x2e0)+_0x5b64db,'class':_0x4cbd66(0x211),'value':'3','placeholder':_0x4cbd66(0x2bf),'events':{'change':_0x2771c5=>calculateTax('Retencion',_0x5b64db)}}),_0x23c568=createElement('input',{'type':_0x4cbd66(0x5c8),'id':'retencionTotal-'+_0x5b64db,'class':_0x4cbd66(0x211),'readonly':!![],'placeholder':'Total\x20retención'});_0x13d237[_0x4cbd66(0x586)](_0x409617),_0x13d237[_0x4cbd66(0x586)](_0x3aca41),_0x13d237[_0x4cbd66(0x586)](_0x3e4143),_0x13d237[_0x4cbd66(0x586)](_0x23c568);const _0x468fe2=createElement('div',{'class':_0x4cbd66(0x596)}),_0x2c2bde=createElement('input',{'type':_0x4cbd66(0x36a),'id':'chkPercepcion-'+_0x5b64db,'class':'custom-checkbox','events':{'change':_0x45700f=>toggleTaxFields(_0x45700f,_0x4cbd66(0x55d),_0x5b64db)}}),_0x10a952=createElement(_0x4cbd66(0x532),{'for':'chkPercepcion-'+_0x5b64db,'class':_0x4cbd66(0x49d)},[_0x4cbd66(0x6df)]),_0x5d2fbd=createElement(_0x4cbd66(0x5e3),{'type':_0x4cbd66(0x775),'id':'percepcionPct-'+_0x5b64db,'class':_0x4cbd66(0x211),'value':'2','placeholder':'Porcentaje\x20percepción','events':{'change':_0x2fb2dc=>calculateTax(_0x4cbd66(0x55d),_0x5b64db)}}),_0x2d939b=createElement(_0x4cbd66(0x5e3),{'type':'text','id':'percepcionTotal-'+_0x5b64db,'class':_0x4cbd66(0x211),'readonly':!![],'placeholder':_0x4cbd66(0x5d3)});_0x468fe2[_0x4cbd66(0x586)](_0x2c2bde),_0x468fe2[_0x4cbd66(0x586)](_0x10a952),_0x468fe2['appendChild'](_0x5d2fbd),_0x468fe2[_0x4cbd66(0x586)](_0x2d939b);const _0x393c77=createElement(_0x4cbd66(0x532),{'class':_0x4cbd66(0x62f)},[_0x4cbd66(0x62c)]),_0x4aa3ce=createElement(_0x4cbd66(0x71f),{'id':_0x4cbd66(0x26d)+_0x5b64db,'rows':0x4,'class':'custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','events':{'change':_0x1f8cb9=>updateWindowOption(_0x5b64db,'setObservacion',_0x1f8cb9[_0x4cbd66(0x643)]['value'])}}),_0x305ee8=createElement(_0x4cbd66(0x35d),{'class':'div-width-options\x20col-bt-padding-options'},[_0x393c77,_0x4aa3ce]),_0x337274=createElement(_0x4cbd66(0x35d),{'class':'div-width-options\x20col-bt-padding-options'},[_0x461536,_0x117989,_0x13d237,_0x468fe2]),_0x47f575=createElement('div',{'class':'div-group-container\x20div-width-100'},[_0x337274,_0x305ee8]);_0x478de7['appendChild'](_0x47f575);const _0x598089=createElement(_0x4cbd66(0x4d9),{'value':'1'},[_0x4cbd66(0x59b)]),_0x30f92e=createElement('option',{'value':'2'},[_0x4cbd66(0x3c5)]),_0x42f09f=createElement(_0x4cbd66(0x4d9),{'value':'3'},['Anexar']),_0x53caa7=createElement(_0x4cbd66(0x6dc),{'id':'setAttachEdit-'+_0x5b64db,'class':_0x4cbd66(0x5b6),'events':{'change':_0x34b342=>updateWindowOption(_0x5b64db,_0x4cbd66(0x1f5),_0x34b342[_0x4cbd66(0x643)][_0x4cbd66(0x4a7)])}},[_0x598089,_0x30f92e,_0x42f09f]),_0x3d346a=createElement(_0x4cbd66(0x4d9),{'value':'0','selected':!![]},[_0x4cbd66(0x337)]),_0x5e1957=myCompany[_0x4cbd66(0x708)][_0x4cbd66(0x6f6)](_0x5301bd=>createElement('option',{'value':_0x5301bd['setTipoOperacionCodigo']},[_0x5301bd[_0x4cbd66(0x2e2)]])),_0x2a9726=createElement('select',{'id':_0x4cbd66(0x30e)+_0x5b64db,'class':_0x4cbd66(0x2ac),'events':{'change':_0x1efb67=>updateSerieOptionsAttach(_0x1efb67['target'][_0x4cbd66(0x4a7)],_0x5b64db)}},[_0x3d346a,..._0x5e1957]),_0xd14723=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x4f1)+_0x5b64db,'class':_0x4cbd66(0x515)}),_0x5b4644=createElement(_0x4cbd66(0x5e3),{'id':_0x4cbd66(0x393)+_0x5b64db,'type':_0x4cbd66(0x775),'class':_0x4cbd66(0x71a)}),_0x587d5b=createElement(_0x4cbd66(0x267),{'id':_0x4cbd66(0x366)+_0x5b64db,'type':_0x4cbd66(0x267),'class':_0x4cbd66(0x698),'innerHTML':_0x4cbd66(0x73c),'events':{'click':()=>consultAttach(_0x5b64db)}}),_0x4728df=createElement(_0x4cbd66(0x35d),{'id':'divAttachResult-'+_0x5b64db}),_0x3b7d10=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x701)},[_0x53caa7,_0x2a9726,_0xd14723,_0x5b4644,_0x587d5b,_0x4728df]),_0x3ffeb1=createElement(_0x4cbd66(0x267),{'id':'btnGenerateMaps-'+_0x5b64db,'type':_0x4cbd66(0x267),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-btnGenerateMaps\x20custom-input-btn-background\x20mb-2','innerHTML':_0x4cbd66(0x215),'events':{'click':()=>initMapForWindow(_0x5b64db)}}),_0x1f44fb=createElement(_0x4cbd66(0x35d),{'class':_0x4cbd66(0x701)},[_0x3ffeb1]),_0x222d2a=createElement('div',{'class':'div-group-container\x20div-width-100'},[_0x3b7d10,_0x1f44fb]);_0x478de7['appendChild'](_0x222d2a);const _0x5952a7=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x221)+_0x5b64db),_0x4384ac=createElement(_0x4cbd66(0x2f3),{'innerHTML':'&times;'}),_0x29f53b=createElement(_0x4cbd66(0x267),{'id':_0x4cbd66(0x722)+_0x5b64db,'class':_0x4cbd66(0x483),'type':_0x4cbd66(0x267)},[_0x4384ac]),_0x3901b5=createElement(_0x4cbd66(0x35d),{'class':'container-buttons'},[_0x29f53b]);_0x5952a7[_0x4cbd66(0x586)](_0x3901b5);const _0x2c4b01=createElement('img',{'class':_0x4cbd66(0x24b),'src':_0x4cbd66(0x487)}),_0x97b485=createElement(_0x4cbd66(0x2f3),{'class':_0x4cbd66(0x5d4),'innerHTML':_0x4cbd66(0x450)}),_0x1429e0=createElement('button',{'class':_0x4cbd66(0x1fb)},[_0x2c4b01,_0x97b485]);_0x5952a7[_0x4cbd66(0x586)](_0x1429e0);const _0x3b51ca=createElement(_0x4cbd66(0x27b),{'class':_0x4cbd66(0x2ef),'src':_0x4cbd66(0x4b6)}),_0x2a1d43=createElement(_0x4cbd66(0x267),{'class':_0x4cbd66(0x1fb)},[_0x3b51ca,_0x4cbd66(0x1f7)]);_0x5952a7['appendChild'](_0x2a1d43);const _0x2988db=createElement(_0x4cbd66(0x27b),{'class':_0x4cbd66(0x2ef),'src':_0x4cbd66(0x66c)}),_0x4d661e=createElement(_0x4cbd66(0x267),{'class':'btn-options'},[_0x2988db,_0x4cbd66(0x396)]);_0x5952a7['appendChild'](_0x4d661e);const _0x20d089=createElement(_0x4cbd66(0x27b),{'class':'img-options','src':_0x4cbd66(0x315)}),_0x3b6661=createElement(_0x4cbd66(0x267),{'class':_0x4cbd66(0x1fb)},[_0x20d089,_0x4cbd66(0x652)]);_0x5952a7['appendChild'](_0x3b6661);const _0x1a95db=createElement(_0x4cbd66(0x27b),{'class':'img-options','src':_0x4cbd66(0x52c)}),_0xa58326=createElement(_0x4cbd66(0x267),{'class':_0x4cbd66(0x1fb)},[_0x1a95db,_0x4cbd66(0x758)]);_0x5952a7[_0x4cbd66(0x586)](_0xa58326);const _0x553628=createElement(_0x4cbd66(0x27b),{'class':_0x4cbd66(0x2ef),'src':_0x4cbd66(0x647)}),_0x2288e9=createElement(_0x4cbd66(0x267),{'class':_0x4cbd66(0x1fb),'events':{'click':()=>{const _0x33cbdf=_0x4cbd66;window[_0x33cbdf(0x426)][_0x33cbdf(0x28f)]='income.html';}}},[_0x553628,_0x4cbd66(0x6b0)]);_0x5952a7[_0x4cbd66(0x586)](_0x2288e9);const _0x24a61f=createElement(_0x4cbd66(0x27b),{'class':_0x4cbd66(0x2ef),'src':'./img/icon-settings.svg'}),_0x1e298c=createElement('button',{'class':_0x4cbd66(0x1fb),'events':{'click':()=>{const _0x307317=_0x4cbd66;window['location'][_0x307317(0x28f)]=_0x307317(0x4eb);}}},[_0x24a61f,_0x4cbd66(0x5c9)]);_0x5952a7[_0x4cbd66(0x586)](_0x1e298c);const _0x6700db=createElement(_0x4cbd66(0x35d),{'id':'map_select_container_'+_0x5b64db,'class':_0x4cbd66(0x678),'style':_0x4cbd66(0x70f)}),_0x15e757=createElement(_0x4cbd66(0x5e3),{'id':_0x4cbd66(0x727)+_0x5b64db,'name':_0x4cbd66(0x727)+_0x5b64db,'type':_0x4cbd66(0x675),'events':{'change':_0x5cd750=>updateWindowOption(_0x5b64db,_0x4cbd66(0x67b),_0x5cd750[_0x4cbd66(0x643)]['value'])}});_0x4f8aff['appendChild'](_0x6700db),_0x4f8aff[_0x4cbd66(0x586)](_0x15e757);const _0x112ddd=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x112ddd['id']='active\x20tab-cp-'+_0x5b64db,_0x112ddd['className']=_0x4cbd66(0x4d0)+_0x5b64db+'\x20flex-column\x20flex-grow-1',_0x2b4398[_0x4cbd66(0x586)](_0x112ddd);const _0x682a64=document[_0x4cbd66(0x5b3)]('active\x20tab-cp-'+_0x5b64db),_0x41b4db=document[_0x4cbd66(0x57a)]('div');_0x41b4db['id']=_0x4cbd66(0x38f)+_0x5b64db,_0x41b4db['className']='cart-panel\x20d-flex\x20flex-column\x20flex-grow-1',_0x682a64[_0x4cbd66(0x586)](_0x41b4db);const _0x3f0367=document['getElementById'](_0x4cbd66(0x38f)+_0x5b64db),_0x5bb4f4=document['createElement']('div');_0x5bb4f4['id']='cart-'+_0x5b64db,_0x5bb4f4[_0x4cbd66(0x78c)]=_0x4cbd66(0x516),_0x3f0367[_0x4cbd66(0x586)](_0x5bb4f4);const _0x425a29=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x6ee)),_0x25f4e4=document['createElement'](_0x4cbd66(0x35d));_0x25f4e4['id']=_0x4cbd66(0x6ab)+_0x5b64db,_0x25f4e4[_0x4cbd66(0x78c)]=_0x4cbd66(0x3c1)+_0x5b64db,_0x425a29[_0x4cbd66(0x586)](_0x25f4e4);const _0x341d47=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x6ab)+_0x5b64db),_0x1c42d5=document['createElement']('div');_0x1c42d5['id']='checkout-'+_0x5b64db,_0x1c42d5['className']=_0x4cbd66(0x4d8),_0x341d47[_0x4cbd66(0x586)](_0x1c42d5);const _0x26ae4e=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x3ba)+_0x5b64db),_0x4cd13e=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x4cd13e[_0x4cbd66(0x78c)]=_0x4cbd66(0x7a0);const _0x1294e1=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x1294e1[_0x4cbd66(0x78c)]=_0x4cbd66(0x544),_0x1294e1['id']=_0x4cbd66(0x3eb)+_0x5b64db,_0x1294e1[_0x4cbd66(0x566)]='Descuento\x20Global';const _0x1d8bef=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x1d8bef[_0x4cbd66(0x78c)]='float-right-totals',_0x1d8bef['id']=_0x4cbd66(0x605)+_0x5b64db,_0x1d8bef[_0x4cbd66(0x566)]=_0x4cbd66(0x2c7)+_0x5b64db+'\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>',_0x4cd13e['appendChild'](_0x1294e1),_0x4cd13e[_0x4cbd66(0x586)](_0x1d8bef),_0x26ae4e[_0x4cbd66(0x586)](_0x4cd13e);const _0x4273ac=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x4273ac[_0x4cbd66(0x78c)]=_0x4cbd66(0x7a0),_0x4273ac['id']='div-totals-right-TotalDescItems-'+_0x5b64db;const _0x14ba5f=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x14ba5f[_0x4cbd66(0x78c)]=_0x4cbd66(0x544),_0x14ba5f['id']=_0x4cbd66(0x5ca)+_0x5b64db,_0x14ba5f[_0x4cbd66(0x566)]=_0x4cbd66(0x213);const _0x17f093=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x17f093[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0x17f093['id']=_0x4cbd66(0x6f4)+_0x5b64db,_0x17f093[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x4273ac['appendChild'](_0x14ba5f),_0x4273ac[_0x4cbd66(0x586)](_0x17f093),_0x26ae4e[_0x4cbd66(0x586)](_0x4273ac);const _0xb66de4=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0xb66de4[_0x4cbd66(0x78c)]=_0x4cbd66(0x5ea);const _0x1ad3d0=document['createElement']('span');_0x1ad3d0[_0x4cbd66(0x78c)]=_0x4cbd66(0x544),_0x1ad3d0['id']=_0x4cbd66(0x4e8)+_0x5b64db,_0x1ad3d0['innerHTML']='Op.\x20Gravada';const _0xcb8fb4=document['createElement'](_0x4cbd66(0x2f3));_0xcb8fb4[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0xcb8fb4['id']=_0x4cbd66(0x3c3)+_0x5b64db,_0xcb8fb4[_0x4cbd66(0x566)]='0.00',_0xb66de4[_0x4cbd66(0x586)](_0x1ad3d0),_0xb66de4[_0x4cbd66(0x586)](_0xcb8fb4),_0x26ae4e[_0x4cbd66(0x586)](_0xb66de4);const _0x56bd28=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x56bd28[_0x4cbd66(0x78c)]=_0x4cbd66(0x5ea);const _0x1fc546=document['createElement'](_0x4cbd66(0x2f3));_0x1fc546['className']=_0x4cbd66(0x544),_0x1fc546['id']=_0x4cbd66(0x4bf)+_0x5b64db,_0x1fc546[_0x4cbd66(0x566)]=_0x4cbd66(0x456);const _0x64d55d=document[_0x4cbd66(0x57a)]('span');_0x64d55d[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0x64d55d['id']='float-right-OpExonerada-'+_0x5b64db,_0x64d55d[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x56bd28[_0x4cbd66(0x586)](_0x1fc546),_0x56bd28['appendChild'](_0x64d55d),_0x26ae4e['appendChild'](_0x56bd28);const _0x261aba=document[_0x4cbd66(0x57a)]('div');_0x261aba[_0x4cbd66(0x78c)]=_0x4cbd66(0x5ea);const _0x4eaa14=document['createElement']('span');_0x4eaa14[_0x4cbd66(0x78c)]='float-left-totals',_0x4eaa14['id']=_0x4cbd66(0x432)+_0x5b64db,_0x4eaa14['innerHTML']='Op.\x20Inafecta';const _0x588ec6=document[_0x4cbd66(0x57a)]('span');_0x588ec6['className']=_0x4cbd66(0x733),_0x588ec6['id']=_0x4cbd66(0x600)+_0x5b64db,_0x588ec6[_0x4cbd66(0x566)]='0.00',_0x261aba[_0x4cbd66(0x586)](_0x4eaa14),_0x261aba['appendChild'](_0x588ec6),_0x26ae4e[_0x4cbd66(0x586)](_0x261aba);const _0x1abfb2=document['createElement'](_0x4cbd66(0x35d));_0x1abfb2[_0x4cbd66(0x78c)]=_0x4cbd66(0x5ea);const _0x16fb53=document['createElement']('span');_0x16fb53[_0x4cbd66(0x78c)]='float-left-totals',_0x16fb53['id']=_0x4cbd66(0x681)+_0x5b64db,_0x16fb53['innerHTML']='Op.\x20Gratuita';const _0x57a969=document[_0x4cbd66(0x57a)]('span');_0x57a969[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0x57a969['id']=_0x4cbd66(0x2a0)+_0x5b64db,_0x57a969[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x1abfb2['appendChild'](_0x16fb53),_0x1abfb2[_0x4cbd66(0x586)](_0x57a969),_0x26ae4e['appendChild'](_0x1abfb2);const _0x3ead17=document[_0x4cbd66(0x57a)]('div');_0x3ead17[_0x4cbd66(0x78c)]=_0x4cbd66(0x7a0),_0x3ead17['id']=_0x4cbd66(0x3f8)+_0x5b64db;const _0x2809c2=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x2809c2[_0x4cbd66(0x78c)]=_0x4cbd66(0x544),_0x2809c2['id']='float-left-Subtotal-'+_0x5b64db,_0x2809c2[_0x4cbd66(0x566)]='Subtotal';const _0x537cc7=document[_0x4cbd66(0x57a)]('span');_0x537cc7['className']=_0x4cbd66(0x733),_0x537cc7['id']='float-right-Subtotal-'+_0x5b64db,_0x537cc7[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x3ead17[_0x4cbd66(0x586)](_0x2809c2),_0x3ead17[_0x4cbd66(0x586)](_0x537cc7),_0x26ae4e['appendChild'](_0x3ead17);const _0x3d77ea=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x3d77ea[_0x4cbd66(0x78c)]=_0x4cbd66(0x7a0),_0x3d77ea['id']='div-totals-right-TotalIgv-'+_0x5b64db;const _0x201669=document['createElement']('span');_0x201669[_0x4cbd66(0x78c)]=_0x4cbd66(0x544),_0x201669['id']=_0x4cbd66(0x2cc)+_0x5b64db,_0x201669[_0x4cbd66(0x566)]=_0x4cbd66(0x310);const _0x4f3539=document[_0x4cbd66(0x57a)]('span');_0x4f3539[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0x4f3539['id']=_0x4cbd66(0x510)+_0x5b64db,_0x4f3539[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x3d77ea[_0x4cbd66(0x586)](_0x201669),_0x3d77ea['appendChild'](_0x4f3539),_0x26ae4e[_0x4cbd66(0x586)](_0x3d77ea);const _0x7588a3=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x7588a3['className']=_0x4cbd66(0x5ea),_0x7588a3['id']=_0x4cbd66(0x50d)+_0x5b64db;const _0x50ed69=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x50ed69['className']=_0x4cbd66(0x544),_0x50ed69['id']=_0x4cbd66(0x34c)+_0x5b64db,_0x50ed69['innerHTML']=_0x4cbd66(0x42d);const _0x40295a=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x40295a[_0x4cbd66(0x78c)]=_0x4cbd66(0x733),_0x40295a['id']=_0x4cbd66(0x7b8)+_0x5b64db,_0x40295a[_0x4cbd66(0x566)]=_0x4cbd66(0x222),_0x7588a3[_0x4cbd66(0x586)](_0x50ed69),_0x7588a3[_0x4cbd66(0x586)](_0x40295a),_0x26ae4e[_0x4cbd66(0x586)](_0x7588a3);const _0x6a7d1e=document['createElement'](_0x4cbd66(0x267));_0x6a7d1e['id']=_0x4cbd66(0x2ad)+_0x5b64db,_0x6a7d1e['className']='btn-cart-pay',_0x6a7d1e[_0x4cbd66(0x290)]=()=>validateOperation(_0x5b64db,_0x4cbd66(0x740));const _0x5a325c=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x5a325c[_0x4cbd66(0x78c)]=_0x4cbd66(0x4a6),_0x5a325c['id']='float-left-'+_0x5b64db,_0x5a325c[_0x4cbd66(0x566)]=_0x4cbd66(0x4fe);const _0x3ae00b=document[_0x4cbd66(0x57a)](_0x4cbd66(0x2f3));_0x3ae00b[_0x4cbd66(0x78c)]=_0x4cbd66(0x414),_0x3ae00b['id']=_0x4cbd66(0x3e0)+_0x5b64db,_0x3ae00b[_0x4cbd66(0x566)]='0.00',_0x6a7d1e['appendChild'](_0x5a325c),_0x6a7d1e['appendChild'](_0x3ae00b),_0x26ae4e[_0x4cbd66(0x586)](_0x6a7d1e);const _0x25f98c=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x740)),_0x5ea92a=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5ea92a['id']=_0x4cbd66(0x667)+_0x5b64db,_0x5ea92a[_0x4cbd66(0x78c)]=_0x4cbd66(0x4d0)+_0x5b64db,_0x25f98c['appendChild'](_0x5ea92a);const _0x3a19fc=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x667)+_0x5b64db),_0x5ab516=document[_0x4cbd66(0x57a)](_0x4cbd66(0x35d));_0x5ab516['id']=_0x4cbd66(0x452)+_0x5b64db,_0x5ab516[_0x4cbd66(0x78c)]=_0x4cbd66(0x496),_0x3a19fc[_0x4cbd66(0x586)](_0x5ab516);const _0x1379c5=document['getElementById'](_0x4cbd66(0x452)+_0x5b64db),_0x2db389=createElement(_0x4cbd66(0x6dc),{'id':_0x4cbd66(0x228)+_0x5b64db,'class':'hidden','events':{'change':_0xd34aa=>handlePaymentMethodChange(_0xd34aa,_0x5b64db)}},[createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x53c)},[_0x4cbd66(0x571)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x688)},[_0x4cbd66(0x477)]),createElement(_0x4cbd66(0x4d9),{'value':_0x4cbd66(0x34d)},[_0x4cbd66(0x797)])]),_0x467cdb=createElement(_0x4cbd66(0x35d),{'class':'divs_payments\x20d-flex\x20flex-grow-1','id':_0x4cbd66(0x69c)+_0x5b64db}),_0x16b726=[{'value':'contado','text':'Contado','className':_0x4cbd66(0x5f1),'imgSrc':_0x4cbd66(0x54e)},{'value':_0x4cbd66(0x688),'text':'Crédito','className':_0x4cbd66(0x46c),'imgSrc':_0x4cbd66(0x754)},{'value':'mixto','text':_0x4cbd66(0x797),'className':'payment-mixto','imgSrc':'./img/icon-contado-credito.svg'}];_0x16b726[_0x4cbd66(0x239)](_0x47e02a=>{const _0x18ae8b=_0x4cbd66,_0x5053ba=createElement('a',{'href':'#','class':_0x18ae8b(0x439)+_0x47e02a[_0x18ae8b(0x78c)]+_0x18ae8b(0x27d)+_0x5b64db,'events':{'click':_0x2b3e4e=>{const _0x127f0e=_0x18ae8b;_0x2b3e4e[_0x127f0e(0x7ab)](),document[_0x127f0e(0x5b3)](_0x127f0e(0x228)+_0x5b64db)[_0x127f0e(0x4a7)]=_0x47e02a[_0x127f0e(0x4a7)],triggerChangeEventById(_0x127f0e(0x228)+_0x5b64db),updateActivePaymentOption(_0x5b64db,_0x47e02a[_0x127f0e(0x78c)]);}}},[createElement(_0x18ae8b(0x35d),{},[_0x47e02a[_0x18ae8b(0x5c8)]]),createElement(_0x18ae8b(0x27b),{'src':_0x47e02a['imgSrc'],'alt':_0x47e02a['text'],'class':_0x18ae8b(0x3cc)})]);_0x467cdb[_0x18ae8b(0x586)](_0x5053ba);});const _0x1fa75b=createElement(_0x4cbd66(0x35d),{'id':_0x4cbd66(0x206)+_0x5b64db}),_0x3207de=createElement(_0x4cbd66(0x35d),{'id':'pay-container-'+_0x5b64db});_0x1379c5[_0x4cbd66(0x586)](_0x2db389),_0x1379c5[_0x4cbd66(0x586)](_0x467cdb),_0x1379c5[_0x4cbd66(0x586)](_0x1fa75b),_0x1379c5[_0x4cbd66(0x586)](_0x3207de);const _0x425138=document['getElementById'](_0x4cbd66(0x722)+_0x5b64db);if(!_0x425138){console[_0x4cbd66(0x574)]('No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.');return;}_0x425138[_0x4cbd66(0x225)](_0x425138['cloneNode'](!![]));const _0x369aa8=document[_0x4cbd66(0x5b3)](_0x4cbd66(0x722)+_0x5b64db);_0x369aa8[_0x4cbd66(0x507)](_0x4cbd66(0x640),()=>hideModalOptions());let _0x3ab3ed=_0x5a256d['options'][_0x5a256d[_0x4cbd66(0x55f)]][_0x4cbd66(0x4a7)],_0x49f3d1=null;for(const _0x357ea3 of setTipOpeSales){const _0xc3f269=Array[_0x4cbd66(0x4fb)](_0x5a256d[_0x4cbd66(0x332)])['some'](_0x440b06=>_0x440b06[_0x4cbd66(0x4a7)]==_0x357ea3);if(_0xc3f269){_0x49f3d1=_0x357ea3;break;}}_0x49f3d1!==null&&(_0x3ab3ed=_0x49f3d1);const _0x1dc81c=getUserPermissionApiERP(0x9);parseInt(_0x1dc81c)>0x0&&(_0x3ab3ed=_0x1dc81c);const _0x255165=window_options[_0x5b64db]&&window_options[_0x5b64db]['setTipoOperacion']?window_options[_0x5b64db][_0x4cbd66(0x6f1)]:_0x3ab3ed;let _0x186e6c=0x0;if(setTipOpeOrders[_0x4cbd66(0x79e)](_0x3c32d3=>_0x3c32d3==_0x255165))_0x186e6c=0x1;else{if(setTipOpeSales[_0x4cbd66(0x79e)](_0x275402=>_0x275402==_0x255165))_0x186e6c=0x2;else{if(setTipOpePurchases['some'](_0x3db159=>_0x3db159==_0x255165))_0x186e6c=0x3;else{if(setTipOpeQuotation['some'](_0x203eca=>_0x203eca==_0x255165))_0x186e6c=0x4;else{if(setTipOpePurchaseOrder[_0x4cbd66(0x79e)](_0x3c0d2f=>_0x3c0d2f==_0x255165))_0x186e6c=0x5;else setTipOpeShippingGuide[_0x4cbd66(0x79e)](_0x2c3739=>_0x2c3739==_0x255165)&&(_0x186e6c=0x6);}}}}const _0x16b524=myCompany[_0x4cbd66(0x5f3)][_0x4cbd66(0x248)](_0x52ba5b=>_0x52ba5b[_0x4cbd66(0x7bd)]==_0x186e6c)?.['setDefaultNote']??'',_0x578309=myCompany[_0x4cbd66(0x25f)]&&myCompany[_0x4cbd66(0x25f)][_0x4cbd66(0x248)](_0x4c8b00=>_0x4c8b00[_0x4cbd66(0x5e5)]==myCompany[_0x4cbd66(0x41a)][_0x4cbd66(0x60e)]),_0x404571=_0x578309?_0x578309[_0x4cbd66(0x518)]:_0x5d2382[_0x4cbd66(0x332)][_0x5d2382['selectedIndex']][_0x4cbd66(0x4a7)],_0x38065d=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x255165,window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x1ed)]?window_options[_0x5b64db][_0x4cbd66(0x1ed)]:_0x404571,window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x429)]?window_options[_0x5b64db][_0x4cbd66(0x429)]:_0x272901[_0x4cbd66(0x332)][_0x272901[_0x4cbd66(0x55f)]]['value'],window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x3fa)]?window_options[_0x5b64db][_0x4cbd66(0x3fa)]:_0x2e2ed1[_0x4cbd66(0x332)][_0x2e2ed1['selectedIndex']][_0x4cbd66(0x4a7)],window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x673)]?window_options[_0x5b64db][_0x4cbd66(0x673)]:_0x38065d,window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x55e)]?window_options[_0x5b64db][_0x4cbd66(0x55e)]:_0x16b524,window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x68c)]?window_options[_0x5b64db][_0x4cbd66(0x68c)]:myCompany[_0x4cbd66(0x462)],window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x69a)]?window_options[_0x5b64db][_0x4cbd66(0x69a)]:_0x301b67[_0x4cbd66(0x332)][_0x301b67[_0x4cbd66(0x55f)]][_0x4cbd66(0x4a7)],window_options[_0x5b64db]&&window_options[_0x5b64db][_0x4cbd66(0x1f5)]?window_options[_0x5b64db][_0x4cbd66(0x1f5)]:_0x53caa7[_0x4cbd66(0x332)][_0x53caa7[_0x4cbd66(0x55f)]][_0x4cbd66(0x4a7)],_0x5b64db),await switchTab(_0x36735d);}async function loadAndSaveOptionsWindow(_0x28095d,_0x5ce91c,_0x3b39cb,_0x40e053,_0x31a6c8,_0x60f793,_0xf00c5e,_0x3ceae4,_0x25d0e7,_0x4229fc){const _0x71dd45=_0x28d754,_0x43c489=document[_0x71dd45(0x5b3)](_0x71dd45(0x73f)+_0x4229fc);_0x43c489[_0x71dd45(0x4a7)]=_0x28095d,window_options[_0x4229fc][_0x71dd45(0x6f1)]=_0x28095d;const _0x17d19d=document[_0x71dd45(0x5b3)](_0x71dd45(0x71b)+_0x4229fc);_0x17d19d[_0x71dd45(0x4a7)]=_0x5ce91c;const _0x242169=document[_0x71dd45(0x5b3)](_0x71dd45(0x71b)+_0x4229fc),_0x51a6f5=_0x242169['options'][_0x242169['selectedIndex']][_0x71dd45(0x5c8)];window_options[_0x4229fc]['setSellerId']=_0x5ce91c,window_options[_0x4229fc][_0x71dd45(0x50e)]=_0x51a6f5;const _0x4dc4ff=document[_0x71dd45(0x5b3)](_0x71dd45(0x6b1)+_0x4229fc);_0x4dc4ff['value']=_0x3b39cb,window_options[_0x4229fc][_0x71dd45(0x429)]=_0x3b39cb;const _0x2aefd9=document[_0x71dd45(0x5b3)]('setTipoOperacionInvoice-'+_0x4229fc);_0x2aefd9[_0x71dd45(0x4a7)]=_0x40e053,window_options[_0x4229fc][_0x71dd45(0x3fa)]=_0x40e053;const _0x33cd09=document[_0x71dd45(0x5b3)](_0x71dd45(0x3fc)+_0x4229fc);_0x33cd09[_0x71dd45(0x4a7)]=_0x31a6c8,window_options[_0x4229fc][_0x71dd45(0x673)]=_0x31a6c8;const _0x821741=document['getElementById'](_0x71dd45(0x26d)+_0x4229fc);_0x821741[_0x71dd45(0x4a7)]=_0x60f793,window_options[_0x4229fc][_0x71dd45(0x55e)]=_0x60f793;const _0x310e0e=document[_0x71dd45(0x5b3)](_0x71dd45(0x3a9)+_0x4229fc);_0x310e0e[_0x71dd45(0x4a7)]=_0xf00c5e,window_options[_0x4229fc]['setMoneda']=_0xf00c5e;const _0x1e9218=document[_0x71dd45(0x5b3)](_0x71dd45(0x5f0)+_0x4229fc);_0x1e9218['value']=_0x3ceae4,window_options[_0x4229fc][_0x71dd45(0x69a)]=_0x3ceae4;const _0x19d478=document[_0x71dd45(0x5b3)](_0x71dd45(0x4c3)+_0x4229fc);_0x19d478[_0x71dd45(0x4a7)]=_0x25d0e7,window_options[_0x4229fc][_0x71dd45(0x1f5)]=_0x25d0e7,await updateSerieOptions(_0x28095d,_0x4229fc);}async function updateSerieAndRenderCart(_0x3e9cce,_0x47e4db){const _0x5ad755=_0x28d754;_0x3e9cce==0x4&&(window_options[_0x47e4db][_0x5ad755(0x69a)]=_0x5ad755(0x1c2)),await updateSerieOptions(_0x3e9cce,_0x47e4db),renderCart(_0x47e4db),renderProducts();}async function updateSerieOptions(_0x5e81c3,_0x5d724d){return new Promise((_0x419011,_0x534df2)=>{const _0x182713=_0x8473;window_options[_0x5d724d][_0x182713(0x6f1)]=_0x5e81c3;let _0x4bc08c=document[_0x182713(0x5b3)](_0x182713(0x446)+_0x5d724d);const _0xb31685=document[_0x182713(0x5b3)]('setCorrelativo-'+_0x5d724d),_0x3576f5=document['getElementById']('setClienteDenominacion-'+_0x5d724d);if(!_0x4bc08c||!_0xb31685||!_0x3576f5)return console[_0x182713(0x574)]('Error\x20Inputs'),_0x534df2(_0x182713(0x68d));_0xb31685[_0x182713(0x4a7)]='';let _0x1d5ca5;if(setTipOpeOrders[_0x182713(0x79e)](_0x39a5ad=>_0x39a5ad==_0x5e81c3)||setTipOpeSales[_0x182713(0x79e)](_0x4f0fba=>_0x4f0fba==_0x5e81c3)||setTipOpeQuotation['some'](_0x50a974=>_0x50a974==_0x5e81c3)||setTipOpePurchaseOrder[_0x182713(0x79e)](_0xe39ccc=>_0xe39ccc==_0x5e81c3)||setTipOpeShippingGuide['some'](_0x11f0d1=>_0x11f0d1==_0x5e81c3))_0x1d5ca5=document['createElement']('select'),_0x1d5ca5['id']=_0x4bc08c['id'],_0x1d5ca5['className']=_0x182713(0x4fc),_0x3576f5['placeholder']=_0x182713(0x3e1);else{if(setTipOpePurchases[_0x182713(0x79e)](_0x240f8d=>_0x240f8d==_0x5e81c3))_0x1d5ca5=document[_0x182713(0x57a)]('input'),_0x1d5ca5[_0x182713(0x322)]=_0x182713(0x5c8),_0x1d5ca5[_0x182713(0x48e)]='Serie:',_0x1d5ca5['id']=_0x4bc08c['id'],_0x1d5ca5[_0x182713(0x78c)]=_0x182713(0x30d),_0x3576f5[_0x182713(0x48e)]=_0x182713(0x38c);else return console[_0x182713(0x574)](_0x182713(0x22c)),_0x534df2(_0x182713(0x22c));}_0x4bc08c[_0x182713(0x32c)][_0x182713(0x25a)](_0x1d5ca5,_0x4bc08c),_0x4bc08c=document[_0x182713(0x5b3)](_0x182713(0x446)+_0x5d724d),_0x4bc08c[_0x182713(0x507)]('change',function(_0x3cf8bb){const _0x3aa5ac=_0x182713;updateCorrelativoOnSerieChange(_0x3cf8bb[_0x3aa5ac(0x643)][_0x3aa5ac(0x4a7)],_0x5d724d);});setTipOpeExo[_0x182713(0x79e)](_0x31f323=>_0x31f323==_0x5e81c3)?(document['getElementById'](_0x182713(0x3f8)+_0x5d724d)[_0x182713(0x501)][_0x182713(0x7bc)](_0x182713(0x6e3)),document[_0x182713(0x5b3)](_0x182713(0x621)+_0x5d724d)['classList'][_0x182713(0x7bc)](_0x182713(0x6e3)),document[_0x182713(0x5b3)](_0x182713(0x50d)+_0x5d724d)[_0x182713(0x501)][_0x182713(0x7bc)](_0x182713(0x6e3))):(document[_0x182713(0x5b3)](_0x182713(0x3f8)+_0x5d724d)[_0x182713(0x501)][_0x182713(0x656)](_0x182713(0x6e3)),document[_0x182713(0x5b3)]('div-totals-right-TotalIgv-'+_0x5d724d)['classList']['remove'](_0x182713(0x6e3)),document[_0x182713(0x5b3)](_0x182713(0x50d)+_0x5d724d)[_0x182713(0x501)][_0x182713(0x656)](_0x182713(0x6e3)));changeLabelBtn(_0x5d724d,_0x5e81c3);if(setTipOpeOrders[_0x182713(0x79e)](_0x46afe0=>_0x46afe0==_0x5e81c3)||setTipOpeSales[_0x182713(0x79e)](_0x3fb908=>_0x3fb908==_0x5e81c3)||setTipOpeQuotation['some'](_0x7e0094=>_0x7e0094==_0x5e81c3)||setTipOpePurchaseOrder[_0x182713(0x79e)](_0x2585d5=>_0x2585d5==_0x5e81c3)||setTipOpeShippingGuide['some'](_0x29bd33=>_0x29bd33==_0x5e81c3)){const _0xc60099=document[_0x182713(0x5b3)](_0x182713(0x31a))[_0x182713(0x4a7)],_0x1b6e10=getUserPermissionApiERP(0x5);let _0x24c573;if(_0x1b6e10==0x1){const _0x506b4f=getLoggedUserSeries();_0x24c573=_0x506b4f[_0x182713(0x1fc)](_0x6baa93=>_0x6baa93[_0x182713(0x581)]==_0x5e81c3&&String(_0x6baa93[_0x182713(0x31a)])==_0xc60099);}else _0x24c573=myCompany['setSeries'][_0x182713(0x1fc)](_0x39cf41=>_0x39cf41[_0x182713(0x321)]==_0x5e81c3&&String(_0x39cf41[_0x182713(0x20e)])==_0xc60099);_0x24c573[_0x182713(0x239)](_0x28023c=>{const _0x3a4771=_0x182713;_0x1b6e10==0x1?_0x4bc08c[_0x3a4771(0x586)](createElement(_0x3a4771(0x4d9),{'value':_0x28023c['setSeriesNumber']},[_0x28023c[_0x3a4771(0x6c6)]])):_0x4bc08c['appendChild'](createElement('option',{'value':_0x28023c[_0x3a4771(0x2b4)]},[_0x28023c[_0x3a4771(0x2b4)]]));});let _0x84247b='';_0x24c573['length']&&(_0x1b6e10==0x1?_0x84247b=_0x24c573[0x0]['setSeriesNumber']:_0x84247b=_0x24c573[0x0][_0x182713(0x2b4)],_0x4bc08c['value']=_0x84247b),setTimeout(()=>{const _0x9a65fe=_0x182713;updateCorrelativoOnSerieChange(_0x84247b,_0x5d724d)[_0x9a65fe(0x2c1)](()=>_0x419011())[_0x9a65fe(0x480)](_0x3b56b6=>_0x534df2(_0x3b56b6));},0x0);}else window_options[_0x5d724d][_0x182713(0x2b4)]='',window_options[_0x5d724d][_0x182713(0x360)]='',setTimeout(()=>{const _0x3fa491=_0x182713;saveWindowOptionsDB(_0x5d724d)[_0x3fa491(0x2c1)](()=>_0x419011())[_0x3fa491(0x480)](_0x3879e9=>{const _0x142ba9=_0x3fa491;console['error'](_0x142ba9(0x737),_0x3879e9),_0x534df2(_0x3879e9);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x5f1900,_0x3b9960){const _0x589e57=_0x28d754,_0x4e45f8=document[_0x589e57(0x5b3)](_0x589e57(0x655)+_0x3b9960);if(!_0x4e45f8)throw new Error(_0x589e57(0x33d)+_0x3b9960);window_options[_0x3b9960][_0x589e57(0x2b4)]=_0x5f1900;const _0x1eea21=window_options[_0x3b9960][_0x589e57(0x6f1)];window_options[_0x3b9960]['setCorrelativo']='';if(setTipOpeOrders[_0x589e57(0x79e)](_0x42e44e=>_0x42e44e==_0x1eea21)||setTipOpeSales[_0x589e57(0x79e)](_0x188634=>_0x188634==_0x1eea21)||setTipOpeQuotation[_0x589e57(0x79e)](_0x244192=>_0x244192==_0x1eea21)||setTipOpePurchaseOrder[_0x589e57(0x79e)](_0x4348c6=>_0x4348c6==_0x1eea21)||setTipOpeShippingGuide['some'](_0x717f30=>_0x717f30==_0x1eea21)){const _0x27b96a=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x402ffd,_0x3e1b5d;if(_0x27b96a==0x1){const _0x8a5543=getLoggedUserSeries();_0x402ffd=_0x8a5543[_0x589e57(0x248)](_0x344abb=>_0x344abb['setSeriesNumber']==_0x5f1900),_0x3e1b5d=_0x402ffd?.[_0x589e57(0x2a1)]??0x1;}else _0x402ffd=myCompany[_0x589e57(0x1d3)][_0x589e57(0x248)](_0x4f6922=>_0x4f6922[_0x589e57(0x2b4)]==_0x5f1900),_0x3e1b5d=_0x402ffd?.[_0x589e57(0x33c)]??0x1;_0x4e45f8[_0x589e57(0x4a7)]=_0x3e1b5d,window_options[_0x3b9960][_0x589e57(0x360)]=_0x3e1b5d;}try{await saveWindowOptionsDB(_0x3b9960);}catch(_0x3b21b3){console[_0x589e57(0x574)](_0x589e57(0x737),_0x3b21b3);throw _0x3b21b3;}}function updateActivePaymentOption(_0x359c41,_0x487678){const _0x4a1d35=_0x28d754;document['querySelectorAll'](_0x4a1d35(0x398)+_0x359c41)[_0x4a1d35(0x239)](_0x407c5a=>_0x407c5a[_0x4a1d35(0x501)][_0x4a1d35(0x656)](_0x4a1d35(0x5e1))),document['querySelector']('.'+_0x487678+'.payment-option-'+_0x359c41)?.[_0x4a1d35(0x501)][_0x4a1d35(0x7bc)]('active-payment');}function triggerChangeEventById(_0x2f1523){const _0x111220=_0x28d754,_0x253b7b=document[_0x111220(0x5b3)](_0x2f1523);if(!_0x253b7b){console['error'](_0x111220(0x6dd)+_0x2f1523);return;}const _0x1fce17=new Event(_0x111220(0x494),{'bubbles':!![],'cancelable':!![]});_0x253b7b['dispatchEvent'](_0x1fce17);}async function updateChangeMoneda(_0x460219,_0x2976fa,_0x2cd717){await updateWindowOption(_0x460219,_0x2976fa,_0x2cd717),renderCart(_0x460219),renderProducts();}function getCurrencySymbol(_0x44b983){const _0x2e36ab=_0x28d754,_0x4c611e=document[_0x2e36ab(0x5b3)](_0x2e36ab(0x3a9)+_0x44b983)['value'],_0x4ea333=myCompany[_0x2e36ab(0x770)][_0x2e36ab(0x248)](_0x537d7b=>_0x537d7b['setMonedaCodigo']==_0x4c611e);return _0x4ea333?_0x4ea333['setMonedaSimbol']:'';}function changeLabelBtn(_0x273303,_0x18700c){const _0x582758=_0x28d754;let _0x3b8228='';const _0x38e8bc=document[_0x582758(0x5b3)](_0x582758(0x3a2)+_0x273303);if(setTipOpeOrders[_0x582758(0x79e)](_0x50da25=>_0x50da25==_0x18700c))_0x3b8228='ORDENAR';else{if(setTipOpeSales[_0x582758(0x79e)](_0x11e6d3=>_0x11e6d3==_0x18700c))_0x3b8228='PAGAR';else{if(setTipOpePurchases[_0x582758(0x79e)](_0x33edc2=>_0x33edc2==_0x18700c))_0x3b8228=_0x582758(0x249);else{if(setTipOpeQuotation[_0x582758(0x79e)](_0x1dd1f8=>_0x1dd1f8==_0x18700c))_0x3b8228=_0x582758(0x287);else{if(setTipOpePurchaseOrder['some'](_0x2288f7=>_0x2288f7==_0x18700c))_0x3b8228='ORDENAR';else setTipOpeShippingGuide[_0x582758(0x79e)](_0x24ff90=>_0x24ff90==_0x18700c)&&(_0x3b8228=_0x582758(0x249));}}}}_0x38e8bc[_0x582758(0x566)]=_0x3b8228;}function setDivTotalPay(_0x30639f){const _0x2f34f5=_0x28d754,_0x513e32=document[_0x2f34f5(0x5b3)](_0x2f34f5(0x206)+_0x30639f);_0x513e32['innerHTML']='';const _0x3d3d27=document[_0x2f34f5(0x5b3)](_0x2f34f5(0x3e0)+_0x30639f)[_0x2f34f5(0x68b)],_0x49a7f3=createElement(_0x2f34f5(0x532),{'class':_0x2f34f5(0x7ad),'style':_0x2f34f5(0x6b5),'innerHTML':'Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>'+_0x3d3d27+'</span>'}),_0x2fe638=createElement('div',{'class':'d-flex\x20mb-3'},[_0x49a7f3]);_0x513e32['appendChild'](_0x2fe638);}function handlePaymentMethodChange(_0x26eab8,_0x2af415){const _0x458de8=_0x28d754,_0x90a15=document[_0x458de8(0x5b3)](_0x458de8(0x583)+_0x2af415);_0x90a15[_0x458de8(0x566)]='';const _0x35b98e=_0x26eab8[_0x458de8(0x643)][_0x458de8(0x4a7)];!medio_pago[_0x2af415]&&(medio_pago[_0x2af415]={});if(_0x35b98e=='contado')_0x90a15[_0x458de8(0x586)](createContadoForm(_0x2af415)),medio_pago[_0x2af415]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x35b98e==_0x458de8(0x688))_0x90a15['appendChild'](createCreditoForm(_0x2af415)),medio_pago[_0x2af415]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x35b98e==_0x458de8(0x34d)&&(_0x90a15[_0x458de8(0x586)](createMixtoForm(_0x2af415)),medio_pago[_0x2af415]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x5299b6=createElement(_0x458de8(0x35d),{'id':_0x458de8(0x263)+_0x2af415},[]);_0x90a15[_0x458de8(0x586)](_0x5299b6);const _0x2ca00c=createElement(_0x458de8(0x267),{'id':'btnSaveOperacion-'+_0x2af415,'class':_0x458de8(0x66d),'type':_0x458de8(0x267),'events':{'click':()=>saveOperation(_0x2af415)}},['FINALIZAR\x20OPERACIÓN']);_0x90a15[_0x458de8(0x586)](_0x2ca00c);}function createContadoForm(_0x12e44a){const _0x45c734=_0x28d754,_0x5b6689=createElement('div',{},[]),_0x2b018b=getTotalFromFloatRight(_0x12e44a),_0x34d83b=myCompany[_0x45c734(0x69d)],_0x40d650={},_0x48bd16={};_0x34d83b['forEach']((_0x3ed2c4,_0x3e1706)=>{const _0x15f999=_0x45c734,_0x501f0a=_0x15f999(0x723)+_0x3ed2c4['setPaymentCode']+'-'+_0x12e44a+'-'+_0x3e1706,_0x5331f5=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x233)},[]),_0x48d5be=createElement(_0x15f999(0x35d),{'class':'div-width-10\x20div_margen'},[]),_0x58b5b8=createElement('label',{'for':_0x501f0a,'class':_0x15f999(0x6f2)},['\x20'+_0x3ed2c4[_0x15f999(0x4ad)]+':']),_0xdeed7=createElement('input',{'type':_0x15f999(0x775),'id':_0x501f0a,'placeholder':_0x15f999(0x222),'class':_0x15f999(0x79c),'value':_0x3ed2c4[_0x15f999(0x5b8)]=='efectivo'||_0x3ed2c4[_0x15f999(0x5b8)]==_0x15f999(0x784)?_0x2b018b:'','events':{'input':_0x28234e=>handleContadoInput(_0x28234e,_0x12e44a)}});_0xdeed7[_0x15f999(0x344)][_0x15f999(0x6ea)]=_0x3ed2c4[_0x15f999(0x5b8)];const _0x3bbaeb=createElement(_0x15f999(0x6dc),{'class':'custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','events':{'change':_0x363b1d=>handleContadoInput(_0x363b1d,_0x12e44a)}},[]),_0x3915b3=myCompany['setBankAccounts'],_0x3c57cc=_0x3915b3['filter'](_0x4ae9b6=>_0x3ed2c4[_0x15f999(0x5b8)]==_0x15f999(0x342)||_0x3ed2c4['setPaymentCode']==_0x15f999(0x784)?setBankTypeCashRegister['some'](_0xf0fcfd=>_0xf0fcfd==_0x4ae9b6[_0x15f999(0x750)]):!setBankTypeCashRegister[_0x15f999(0x79e)](_0x1be327=>_0x1be327==_0x4ae9b6[_0x15f999(0x750)]));_0x3c57cc['forEach'](_0x5579de=>{const _0x36e2dc=_0x15f999,_0x5403fd=createElement(_0x36e2dc(0x4d9),{'value':_0x5579de[_0x36e2dc(0x3f9)]},[_0x5579de[_0x36e2dc(0x5bc)]]);_0x3bbaeb[_0x36e2dc(0x586)](_0x5403fd);}),_0x3bbaeb[_0x15f999(0x344)][_0x15f999(0x6ea)]=_0x3ed2c4[_0x15f999(0x5b8)];let _0x314434=null;_0x3ed2c4[_0x15f999(0x5b8)]==_0x15f999(0x342)||_0x3ed2c4['setPaymentCode']=='cash'?_0x314434=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x36e)},[]):_0x314434=createElement(_0x15f999(0x5e3),{'type':_0x15f999(0x5c8),'placeholder':_0x15f999(0x615),'class':'custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','events':{'input':_0x2c6231=>handleContadoInput(_0x2c6231,_0x12e44a)}});_0x314434[_0x15f999(0x344)][_0x15f999(0x6ea)]=_0x3ed2c4['setPaymentCode'];let _0x3660d7=null,_0x4164d8=null,_0x217024=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x49b)},[]),_0x2d66a0=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x36e)},[]);_0x3ed2c4['isCommission']=='1'?(_0x3660d7=createElement(_0x15f999(0x5e3),{'type':_0x15f999(0x775),'placeholder':_0x15f999(0x3cb),'class':_0x15f999(0x280)}),_0x3660d7[_0x15f999(0x344)][_0x15f999(0x6ea)]=_0x3ed2c4[_0x15f999(0x5b8)],_0x4164d8=createElement('input',{'type':_0x15f999(0x775),'placeholder':_0x15f999(0x229),'class':_0x15f999(0x469),'readonly':!![]}),_0x4164d8[_0x15f999(0x344)][_0x15f999(0x6ea)]=_0x3ed2c4[_0x15f999(0x5b8)],_0x3660d7['addEventListener'](_0x15f999(0x5e3),_0x5aaa44=>{const _0x160c8a=_0x15f999,_0x5759a9=parseFloat(_0x3660d7[_0x160c8a(0x4a7)])||0x0,_0x3477ce=parseFloat(_0xdeed7[_0x160c8a(0x4a7)])||0x0;_0x4164d8[_0x160c8a(0x4a7)]=(_0x5759a9/0x64*_0x3477ce)['toFixed'](0x2),handleContadoInput(_0x5aaa44,_0x12e44a);})):(_0x3660d7=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x49b)},[]),_0x4164d8=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x36e)},[]));let _0x4f2bfb='';_0x3ed2c4[_0x15f999(0x5b8)]==_0x15f999(0x342)||_0x3ed2c4[_0x15f999(0x5b8)]=='cash'?_0x4f2bfb='':_0x4f2bfb='d-none';const _0x10947c=createElement(_0x15f999(0x35d),{'class':'d-flex\x20mb-3\x20'+_0x4f2bfb},[_0x5331f5,_0x58b5b8,_0xdeed7,_0x3bbaeb,_0x314434,_0x48d5be]);_0x5b6689['appendChild'](_0x10947c),_0x40d650[_0x3ed2c4['setPaymentCode']]=_0x10947c;if(_0x3ed2c4[_0x15f999(0x37d)]=='1'){const _0x134975=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x233)},[]),_0x5d5247=createElement(_0x15f999(0x35d),{'class':_0x15f999(0x233)},[]),_0x1a56e3=createElement('div',{'class':_0x15f999(0x3c2)+_0x4f2bfb},[_0x134975,_0x217024,_0x3660d7,_0x4164d8,_0x2d66a0,_0x5d5247]);_0x5b6689[_0x15f999(0x586)](_0x1a56e3),_0x48bd16[_0x3ed2c4[_0x15f999(0x5b8)]]=_0x1a56e3;}(_0x3ed2c4[_0x15f999(0x5b8)]=='efectivo'||_0x3ed2c4[_0x15f999(0x5b8)]==_0x15f999(0x784))&&setTimeout(()=>{const _0x3fbab8=_0x15f999;_0xdeed7['dispatchEvent'](new Event(_0x3fbab8(0x5e3),{'bubbles':!![]}));});});const _0x1c4b9c=createElement(_0x45c734(0x35d),{'class':_0x45c734(0x233)},[]),_0x547ce9=createElement(_0x45c734(0x6dc),{'class':_0x45c734(0x759),'events':{'change':_0x35f4b5=>{const _0x472790=_0x45c734,_0x43a6bd=_0x35f4b5[_0x472790(0x643)]['value'];if(_0x43a6bd){const _0x3395a2=getTotalFromFloatRight(_0x12e44a);Object['entries'](_0x40d650)[_0x472790(0x239)](([_0x564d2f,_0x1f519e])=>{const _0x1fbd6e=_0x472790,_0x3cf452=_0x1f519e[_0x1fbd6e(0x794)](_0x1fbd6e(0x250)),_0x4cf046=_0x48bd16[_0x564d2f];if(_0x564d2f===_0x43a6bd){_0x1f519e['classList'][_0x1fbd6e(0x656)](_0x1fbd6e(0x6e3));if(_0x4cf046)_0x4cf046[_0x1fbd6e(0x501)][_0x1fbd6e(0x656)]('d-none');_0x3cf452[_0x1fbd6e(0x4a7)]=_0x3395a2[_0x1fbd6e(0x3ea)](0x2),_0x3cf452[_0x1fbd6e(0x72d)](new Event(_0x1fbd6e(0x5e3),{'bubbles':!![]})),_0x3cf452['focus']();}else{_0x3cf452&&(_0x3cf452[_0x1fbd6e(0x4a7)]='',_0x3cf452['dispatchEvent'](new Event(_0x1fbd6e(0x5e3),{'bubbles':!![]})));if(_0x4cf046){const _0x426f7d=_0x4cf046[_0x1fbd6e(0x794)](_0x1fbd6e(0x7a4)),_0x192373=_0x4cf046[_0x1fbd6e(0x794)](_0x1fbd6e(0x347));if(_0x426f7d)_0x426f7d[_0x1fbd6e(0x4a7)]='';if(_0x192373)_0x192373['value']='';}}});}_0x35f4b5['target'][_0x472790(0x4a7)]='';}}},[]),_0x154bdb=createElement(_0x45c734(0x4d9),{'value':''},[_0x45c734(0x5ae)]);_0x547ce9['appendChild'](_0x154bdb),_0x34d83b[_0x45c734(0x239)](_0x199ab4=>{const _0x162364=_0x45c734;if(!(_0x199ab4[_0x162364(0x5b8)]==_0x162364(0x342)||_0x199ab4['setPaymentCode']==_0x162364(0x784))){const _0x36896d=createElement(_0x162364(0x4d9),{'value':_0x199ab4[_0x162364(0x5b8)]},[_0x199ab4['setPaymentName']]);_0x547ce9[_0x162364(0x586)](_0x36896d);}});const _0x1fdb91=createElement(_0x45c734(0x35d),{'class':'d-flex\x20mb-3'},[_0x1c4b9c,_0x547ce9]);return _0x5b6689['appendChild'](_0x1fdb91),_0x5b6689;}function handleContadoInput(_0x1dc545,_0x198f66){const _0x1ec783=_0x28d754,_0x1fe555=getTotalFromFloatRight(_0x198f66),_0x2700bc=Array[_0x1ec783(0x4fb)](document['querySelectorAll'](_0x1ec783(0x3a3)+_0x198f66+_0x1ec783(0x695))),_0x464d06=_0x2700bc[_0x1ec783(0x511)]((_0x51c961,_0x3f499e)=>_0x51c961+parseFloat(_0x3f499e[_0x1ec783(0x4a7)]||0x0),0x0),_0x3d8bfd={};_0x2700bc[_0x1ec783(0x239)](_0x1800cf=>{const _0x89cd96=_0x1ec783,_0x2aaadc=_0x1800cf[_0x89cd96(0x344)][_0x89cd96(0x6ea)][_0x89cd96(0x266)]();_0x3d8bfd[_0x2aaadc]=parseFloat(_0x1800cf[_0x89cd96(0x4a7)])||0x0;});const _0x28de28={..._0x3d8bfd};if(_0x464d06>_0x1fe555){const _0x55b0b8=_0x464d06-_0x1fe555,_0x1f90de=_0x2700bc[_0x1ec783(0x248)](_0x4bc496=>['efectivo',_0x1ec783(0x784)][_0x1ec783(0x66a)](_0x4bc496[_0x1ec783(0x344)]['method'][_0x1ec783(0x266)]()));if(_0x1f90de){const _0x2de61d=_0x1f90de['dataset']['method'][_0x1ec783(0x266)]();_0x28de28[_0x2de61d]=Math[_0x1ec783(0x5b1)](0x0,_0x28de28[_0x2de61d]-_0x55b0b8);}else{const _0x15e482=Object['keys'](_0x28de28)[0x0];_0x28de28[_0x15e482]=Math[_0x1ec783(0x5b1)](0x0,_0x28de28[_0x15e482]-_0x55b0b8);}}if(medio_pago[_0x198f66]['mixto'][_0x1ec783(0x692)]&&_0x464d06>=_0x1fe555){_0x1dc545[_0x1ec783(0x643)]['value']='',_0x1dc545[_0x1ec783(0x643)][_0x1ec783(0x72d)](new Event(_0x1ec783(0x5e3),{'bubbles':!![]}));return;}const _0x28e409=_0x1fe555-_0x464d06,_0x30edaa=Math['abs'](Math[_0x1ec783(0x4f5)](_0x28e409,0x0)),_0x39fd1b=Math['max'](_0x28e409,0x0),_0x17c037={'total':_0x1fe555,'debe':_0x39fd1b,'vuelto':_0x30edaa};_0x2700bc[_0x1ec783(0x239)](_0x353b3b=>{const _0x19522d=_0x1ec783,_0x144c64=_0x353b3b[_0x19522d(0x344)][_0x19522d(0x6ea)][_0x19522d(0x266)](),_0x58ec04=_0x3d8bfd[_0x144c64],_0x1d18bc=_0x28de28[_0x144c64];_0x17c037[_0x144c64]={'monto_calc':_0x58ec04,'monto':_0x1d18bc};});const _0x1a7954=Array[_0x1ec783(0x4fb)](document['querySelectorAll'](_0x1ec783(0x3a3)+_0x198f66+_0x1ec783(0x560)));_0x1a7954['forEach'](_0x1c32de=>{const _0x42f0c2=_0x1ec783,_0x55ba82=_0x1c32de[_0x42f0c2(0x344)][_0x42f0c2(0x6ea)][_0x42f0c2(0x266)]();if(!_0x17c037[_0x55ba82])_0x17c037[_0x55ba82]={};_0x17c037[_0x55ba82]['banco']=_0x1c32de[_0x42f0c2(0x4a7)];});const _0x530b70=Array['from'](document[_0x1ec783(0x1e9)](_0x1ec783(0x3a3)+_0x198f66+_0x1ec783(0x57c)));_0x530b70[_0x1ec783(0x239)](_0x277a91=>{const _0x213491=_0x1ec783,_0x30ef23=_0x277a91[_0x213491(0x344)][_0x213491(0x6ea)][_0x213491(0x266)]();if(!_0x17c037[_0x30ef23])_0x17c037[_0x30ef23]={};_0x17c037[_0x30ef23][_0x213491(0x6c3)]=_0x277a91[_0x213491(0x4a7)];});const _0x1fdc92=Array['from'](document[_0x1ec783(0x1e9)]('#pay-container-'+_0x198f66+_0x1ec783(0x2c6)));_0x1fdc92[_0x1ec783(0x239)](_0x58ae55=>{const _0x2832c7=_0x1ec783,_0x2d9a29=_0x58ae55[_0x2832c7(0x344)][_0x2832c7(0x6ea)][_0x2832c7(0x266)]();if(!_0x17c037[_0x2d9a29])_0x17c037[_0x2d9a29]={};_0x17c037[_0x2d9a29][_0x2832c7(0x568)]=parseFloat(_0x58ae55[_0x2832c7(0x4a7)]||0x0);});const _0x29cebb=Array[_0x1ec783(0x4fb)](document[_0x1ec783(0x1e9)](_0x1ec783(0x3a3)+_0x198f66+_0x1ec783(0x766)));_0x29cebb[_0x1ec783(0x239)](_0x4a70b6=>{const _0x5dc332=_0x1ec783,_0x475bc2=_0x4a70b6[_0x5dc332(0x344)][_0x5dc332(0x6ea)][_0x5dc332(0x266)]();if(!_0x17c037[_0x475bc2])_0x17c037[_0x475bc2]={};_0x17c037[_0x475bc2]['total_comision']=parseFloat(_0x4a70b6['value']||0x0);}),medio_pago[_0x198f66][_0x1ec783(0x53c)]['data']=_0x17c037;const _0x3d4c33=getCurrencySymbol(_0x198f66);let _0x33e6f5=document[_0x1ec783(0x5b3)](_0x1ec783(0x541)+_0x198f66);if(!_0x33e6f5){_0x33e6f5=createElement(_0x1ec783(0x35d),{'id':_0x1ec783(0x541)+_0x198f66,'class':_0x1ec783(0x6ec)});const _0x623a90=document['getElementById'](_0x1ec783(0x263)+_0x198f66);_0x623a90[_0x1ec783(0x586)](_0x33e6f5);}_0x33e6f5[_0x1ec783(0x566)]=_0x28e409>0x0?_0x1ec783(0x314)+_0x3d4c33+'\x20'+_0x39fd1b['toFixed'](0x2)+_0x1ec783(0x2fa):_0x1ec783(0x64f)+_0x3d4c33+'\x20'+_0x30edaa[_0x1ec783(0x3ea)](0x2)+_0x1ec783(0x2fa),_0x33e6f5[_0x1ec783(0x4d1)][_0x1ec783(0x4a0)]=_0x1ec783(0x24a),console[_0x1ec783(0x5d6)](_0x1ec783(0x7be)+_0x198f66+_0x1ec783(0x33b),medio_pago[_0x198f66]);}function createCreditoForm(_0x76872a){const _0x35d899=_0x28d754,_0x36f2ef=createElement(_0x35d899(0x35d),{},[]),_0x55ef61=createElement('i',{'class':_0x35d899(0x3dc)}),_0x13cc57=createElement('label',{'for':_0x35d899(0x40e)+_0x76872a,'class':_0x35d899(0x6f2)},[_0x55ef61,_0x35d899(0x223)]),_0x57e4ad=createElement(_0x35d899(0x6dc),{'id':_0x35d899(0x40e)+_0x76872a,'class':_0x35d899(0x5aa),'events':{'change':_0x9c3a06=>handleCuotasChange(_0x9c3a06,_0x76872a)}},[createElement('option',{'value':'','disabled':!![],'selected':!![]},['Nº\x20de\x20Cuotas:']),...Array[_0x35d899(0x4fb)]({'length':0x18},(_0x966eee,_0x3ec93b)=>createElement('option',{'value':_0x3ec93b+0x1},[_0x3ec93b+0x1+_0x35d899(0x32b)+(_0x3ec93b>0x0?'s':'')]))]),_0x5526b3=createElement(_0x35d899(0x35d),{'class':_0x35d899(0x233)}),_0x59a5ed=createElement('div',{'class':'div-width-15\x20div_margen'}),_0x3ee03f=createElement(_0x35d899(0x35d),{'class':_0x35d899(0x665)},[_0x5526b3,_0x13cc57,_0x57e4ad,_0x59a5ed]);_0x36f2ef[_0x35d899(0x586)](_0x3ee03f);const _0x27a254=createElement(_0x35d899(0x35d),{'id':_0x35d899(0x2d9)+_0x76872a});return _0x36f2ef[_0x35d899(0x586)](_0x27a254),_0x36f2ef;}function handleCuotasChange(_0x306156,_0x3887c6){const _0x2560d0=_0x28d754,_0x598595=document['getElementById'](_0x2560d0(0x2d9)+_0x3887c6);_0x598595[_0x2560d0(0x566)]='';const _0x5f1984=parseInt(_0x306156[_0x2560d0(0x643)][_0x2560d0(0x4a7)],0xa);medio_pago[_0x3887c6][_0x2560d0(0x688)]['data']=[];const _0x70212b=parseFloat(getTotalFromFloatRight(_0x3887c6));let _0x194419=_0x70212b;if(medio_pago[_0x3887c6][_0x2560d0(0x34d)][_0x2560d0(0x692)]){const _0x7d1e80=Array[_0x2560d0(0x4fb)](document[_0x2560d0(0x1e9)](_0x2560d0(0x3a3)+_0x3887c6+_0x2560d0(0x695))),_0x3aa441=_0x7d1e80['reduce']((_0x280135,_0x44a69c)=>_0x280135+parseFloat(_0x44a69c['value']||0x0),0x0);if(_0x3aa441>=_0x70212b){_0x306156[_0x2560d0(0x643)][_0x2560d0(0x4a7)]='',_0x306156[_0x2560d0(0x643)][_0x2560d0(0x72d)](new Event(_0x2560d0(0x5e3),{'bubbles':!![]}));return;}_0x194419=Math[_0x2560d0(0x5b1)](_0x70212b-_0x3aa441,0x0);}let _0x2a68fd=Array(_0x5f1984)[_0x2560d0(0x264)]()[_0x2560d0(0x6f6)]((_0x3575c4,_0x927c0e)=>({'cuota':_0x927c0e+0x1,'monto':parseFloat((_0x194419/_0x5f1984)[_0x2560d0(0x3ea)](0x2)),'fechaVencimiento':'','editado':![]}));function _0x29f3a6(){const _0x3b471f=_0x2560d0;let _0x5b8370=_0x2a68fd[_0x3b471f(0x511)]((_0x136abd,_0x5e7800)=>_0x136abd+_0x5e7800[_0x3b471f(0x219)],0x0),_0x27c32c=_0x194419-_0x5b8370,_0x232016=_0x2a68fd[_0x3b471f(0x1fc)](_0xeb8db2=>!_0xeb8db2[_0x3b471f(0x760)]);if(_0x232016[_0x3b471f(0x517)]==0x0)return;let _0x40400b=parseFloat((_0x27c32c/_0x232016[_0x3b471f(0x517)])[_0x3b471f(0x3ea)](0x2)),_0x52201b=_0x27c32c-_0x40400b*_0x232016[_0x3b471f(0x517)];_0x232016[_0x3b471f(0x239)]((_0x5fa65a,_0x5a0e1b)=>{const _0x2e90ec=_0x3b471f;_0x5fa65a[_0x2e90ec(0x219)]+=_0x40400b,_0x5a0e1b==_0x232016[_0x2e90ec(0x517)]-0x1&&(_0x5fa65a[_0x2e90ec(0x219)]+=_0x52201b);}),_0x6f51(),medio_pago[_0x3887c6]['credito'][_0x3b471f(0x257)]=_0x2a68fd[_0x3b471f(0x6f6)](({cuota:_0x23b701,monto:_0x4061c5,fechaVencimiento:_0x5cf8e2})=>({'cuota':_0x23b701,'monto':_0x4061c5,'fechaVencimiento':_0x5cf8e2}));}function _0x6f51(){const _0x8fb92f=_0x2560d0,_0x495df7=_0x598595[_0x8fb92f(0x1e9)]('input[type=\x22number\x22]');_0x495df7['forEach']((_0x44b411,_0x4bfb54)=>{const _0x3dc333=_0x8fb92f;_0x44b411[_0x3dc333(0x4a7)]=_0x2a68fd[_0x4bfb54][_0x3dc333(0x219)]['toFixed'](0x2);});}function _0x5d3a13(_0x47d52d,_0x4a1c68,_0x45c884){const _0x102a41=_0x2560d0;if(_0x45c884==_0x102a41(0x219)){let _0x1e9722=parseFloat(_0x4a1c68)||0x0,_0x2eacce=_0x2a68fd[_0x102a41(0x511)]((_0x6be811,_0x7f1d68,_0x32b78c)=>{const _0x1de240=_0x102a41;if(_0x32b78c!==_0x47d52d-0x1&&_0x7f1d68['editado'])return _0x6be811+_0x7f1d68[_0x1de240(0x219)];return _0x6be811;},0x0);const _0x7e1184=parseFloat((_0x194419-_0x2eacce)[_0x102a41(0x3ea)](0x2));let _0x27e116=_0x2a68fd['filter']((_0x31ec69,_0x15fe55)=>!_0x31ec69[_0x102a41(0x760)]&&_0x15fe55!==_0x47d52d-0x1)[_0x102a41(0x517)];if(_0x27e116==0x0&&_0x1e9722!==_0x7e1184)ntfShow(_0x102a41(0x2f7)+_0x7e1184+_0x102a41(0x682)),_0x1e9722=_0x7e1184;else _0x1e9722>_0x7e1184&&(ntfShow('No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20'+_0x7e1184+'.'),_0x1e9722=_0x7e1184);_0x2a68fd[_0x47d52d-0x1][_0x102a41(0x219)]=_0x1e9722,_0x2a68fd[_0x47d52d-0x1]['editado']=!![];const _0x52f7a5=_0x598595[_0x102a41(0x1e9)](_0x102a41(0x27c));_0x52f7a5[_0x47d52d-0x1]&&(_0x52f7a5[_0x47d52d-0x1][_0x102a41(0x4a7)]=_0x1e9722['toFixed'](0x2)),_0x29f3a6();}else _0x45c884==_0x102a41(0x1d5)&&(_0x2a68fd[_0x47d52d-0x1][_0x102a41(0x3e7)]=_0x4a1c68);medio_pago[_0x3887c6][_0x102a41(0x688)]['data']=_0x2a68fd['map'](({cuota:_0x385288,monto:_0x1bfc57,fechaVencimiento:_0x164bfe})=>({'cuota':_0x385288,'monto':_0x1bfc57,'fechaVencimiento':_0x164bfe}));}for(let _0x3f2645=0x1;_0x3f2645<=_0x5f1984;_0x3f2645++){const _0x31b246=createElement(_0x2560d0(0x35d),{'class':_0x2560d0(0x233)}),_0x10c694=createElement(_0x2560d0(0x532),{'class':_0x2560d0(0x6f2),'style':_0x2560d0(0x47c)},[_0x2560d0(0x519)+_0x3f2645+':\x20']),_0xb0d957=createElement(_0x2560d0(0x5e3),{'type':'date','class':_0x2560d0(0x1cd),'events':{'change':_0x2f89a1=>_0x5d3a13(_0x3f2645,_0x2f89a1[_0x2560d0(0x643)][_0x2560d0(0x4a7)],_0x2560d0(0x1d5))}}),_0x194137=createElement('input',{'type':_0x2560d0(0x775),'class':_0x2560d0(0x1cd),'placeholder':_0x2560d0(0x4cc),'value':_0x2a68fd[_0x3f2645-0x1][_0x2560d0(0x219)],'events':{'change':_0x4b3d51=>_0x5d3a13(_0x3f2645,_0x4b3d51[_0x2560d0(0x643)][_0x2560d0(0x4a7)],'monto')}}),_0x366553=createElement(_0x2560d0(0x35d),{'class':_0x2560d0(0x58c)}),_0x466e79=createElement(_0x2560d0(0x35d),{'class':_0x2560d0(0x665)},[_0x31b246,_0x10c694,_0xb0d957,_0x194137,_0x366553]);_0x598595[_0x2560d0(0x586)](_0x466e79);}}function updateMedioPagoCredito(_0x484d4e,_0x28b35f,_0x29793a,_0x5d3254,_0x1a57e6){const _0x54c147=_0x28d754;!medio_pago[_0x5d3254]['credito']['data'][_0x28b35f-0x1]&&(medio_pago[_0x5d3254][_0x54c147(0x688)][_0x54c147(0x257)][_0x28b35f-0x1]={'cuota':_0x28b35f});if(_0x1a57e6==_0x54c147(0x1d5))medio_pago[_0x5d3254][_0x54c147(0x688)][_0x54c147(0x257)][_0x28b35f-0x1]['fechaVencimiento']=_0x29793a;else _0x1a57e6==_0x54c147(0x219)&&(medio_pago[_0x5d3254][_0x54c147(0x688)][_0x54c147(0x257)][_0x28b35f-0x1][_0x54c147(0x219)]=_0x29793a);console['log'](_0x54c147(0x46b),medio_pago[_0x5d3254]);}function createMixtoForm(_0x19d063){const _0x5f01fb=_0x28d754,_0x575aac=createElement(_0x5f01fb(0x35d),{},[]),_0x29e91d=createContadoForm(_0x19d063);_0x575aac[_0x5f01fb(0x586)](_0x29e91d);const _0xf0af0f=createCreditoForm(_0x19d063);_0x575aac['appendChild'](_0xf0af0f);let _0x1ae259=document[_0x5f01fb(0x5b3)]('status-label-'+_0x19d063);return!_0x1ae259&&(_0x1ae259=createElement(_0x5f01fb(0x35d),{'id':_0x5f01fb(0x541)+_0x19d063,'class':'label-debe-vuelto'}),_0x575aac[_0x5f01fb(0x586)](_0x1ae259)),_0x575aac;}function getTotalFromFloatRight(_0x203fdc){const _0x2428e2=_0x28d754,_0x28a992=document[_0x2428e2(0x5b3)](_0x2428e2(0x3e0)+_0x203fdc)['textContent'];return parseFloat(_0x28a992[_0x2428e2(0x3c8)](/[S/$]/g,'')[_0x2428e2(0x2cd)]());}function toggleTaxFields(_0x2a6e15,_0x4d3907,_0x1503fd){const _0x40db09=_0x28d754,_0x599fc1=_0x2a6e15[_0x40db09(0x643)][_0x40db09(0x77b)];if(_0x4d3907=='Detraccion'){const _0xc28f61=document[_0x40db09(0x5b3)](_0x40db09(0x5af)+_0x1503fd);_0x599fc1?(_0xc28f61[_0x40db09(0x501)]['remove'](_0x40db09(0x675)),window_options[_0x1503fd][_0x40db09(0x51d)]='1'):(_0xc28f61[_0x40db09(0x501)]['add'](_0x40db09(0x675)),_0xc28f61[_0x40db09(0x4a7)]='0',window_options[_0x1503fd]['setDetraccion']='0',window_options[_0x1503fd][_0x40db09(0x3b6)]='',window_options[_0x1503fd][_0x40db09(0x575)]='0',window_options[_0x1503fd][_0x40db09(0x3fb)]='0');}const _0x22f25d=document[_0x40db09(0x5b3)](_0x4d3907[_0x40db09(0x266)]()+'Pct-'+_0x1503fd),_0x3372b9=document[_0x40db09(0x5b3)](_0x4d3907[_0x40db09(0x266)]()+'Total-'+_0x1503fd);_0x22f25d&&_0x3372b9&&(_0x599fc1?(_0x4d3907==_0x40db09(0x5f2)&&(window_options[_0x1503fd][_0x40db09(0x743)]='1'),_0x4d3907=='Percepcion'&&(window_options[_0x1503fd]['setPercepcion']='1'),_0x22f25d['classList'][_0x40db09(0x656)]('hidden'),_0x3372b9[_0x40db09(0x501)][_0x40db09(0x656)]('hidden'),calculateTax(_0x4d3907,_0x1503fd)):(_0x4d3907=='Retencion'&&(window_options[_0x1503fd][_0x40db09(0x743)]='0',window_options[_0x1503fd][_0x40db09(0x65a)]='0',window_options[_0x1503fd]['setRetencionTotal']='0'),_0x4d3907=='Percepcion'&&(window_options[_0x1503fd][_0x40db09(0x4a8)]='0',window_options[_0x1503fd]['setPercepcionPorcentaje']='0',window_options[_0x1503fd]['setPercepcionTotal']='0'),saveWindowOptionsDB(_0x1503fd),_0x22f25d[_0x40db09(0x501)][_0x40db09(0x7bc)]('hidden'),_0x3372b9[_0x40db09(0x501)][_0x40db09(0x7bc)]('hidden'),_0x22f25d[_0x40db09(0x4a7)]=_0x4d3907=='Retencion'?'3':_0x4d3907==_0x40db09(0x55d)?'2':'',_0x3372b9[_0x40db09(0x4a7)]=''));}function calculateTax(_0x1a5719,_0x1f74ec){const _0x55dd17=_0x28d754,_0x22c74=parseFloat(getTotalFromFloatRight(_0x1f74ec))||0x0,_0x5d728c=document[_0x55dd17(0x5b3)](_0x1a5719[_0x55dd17(0x266)]()+_0x55dd17(0x3a1)+_0x1f74ec),_0x4f953a=document['getElementById'](_0x1a5719[_0x55dd17(0x266)]()+_0x55dd17(0x690)+_0x1f74ec);if(_0x5d728c&&_0x4f953a){const _0x49aa1b=parseFloat(_0x5d728c[_0x55dd17(0x4a7)])||0x0,_0x4b6b0a=_0x22c74*(_0x49aa1b/0x64);_0x4f953a[_0x55dd17(0x4a7)]=_0x4b6b0a[_0x55dd17(0x3ea)](0x2),_0x1a5719==_0x55dd17(0x245)&&(window_options[_0x1f74ec][_0x55dd17(0x575)]=_0x49aa1b,window_options[_0x1f74ec][_0x55dd17(0x3fb)]=_0x4b6b0a[_0x55dd17(0x3ea)](0x2)),_0x1a5719==_0x55dd17(0x5f2)&&(window_options[_0x1f74ec][_0x55dd17(0x65a)]=_0x49aa1b,window_options[_0x1f74ec]['setRetencionTotal']=_0x4b6b0a[_0x55dd17(0x3ea)](0x2)),_0x1a5719==_0x55dd17(0x55d)&&(window_options[_0x1f74ec]['setPercepcionPorcentaje']=_0x49aa1b,window_options[_0x1f74ec][_0x55dd17(0x271)]=_0x4b6b0a[_0x55dd17(0x3ea)](0x2)),saveWindowOptionsDB(_0x1f74ec);}}function setupConsulta(_0x2ed73b){const _0x506baa=_0x28d754,_0x341307=document[_0x506baa(0x5b3)](_0x506baa(0x533)+_0x2ed73b),_0x5eaf51=document['getElementById'](_0x506baa(0x5f0)+_0x2ed73b),_0x2d0372=document[_0x506baa(0x5b3)](_0x506baa(0x644)+_0x2ed73b),_0x25a466=document[_0x506baa(0x5b3)](_0x506baa(0x6d3)+_0x2ed73b),_0x3a4464=document[_0x506baa(0x5b3)](_0x506baa(0x319)+_0x2ed73b);if(!_0x341307||!_0x5eaf51||!_0x2d0372||!_0x25a466||!_0x3a4464){console[_0x506baa(0x574)](_0x506baa(0x6af));return;}const _0x39fd04=_0x5eaf51[_0x506baa(0x4a7)],_0x34e435=_0x2d0372['value']['trim'](),_0x30e5e1=_0x25a466[_0x506baa(0x4a7)][_0x506baa(0x2cd)]()['toLowerCase'](),_0xce039b=(_0x565079,_0x34b752)=>{return _0x565079['reduce']((_0x218ace,_0x2930d0)=>{const _0x336f94=_0x8473;let _0x55f916,_0x4dc85b,_0x2a6fa7,_0x57a6a7,_0x298496,_0x32751a;_0x34b752==0x1?(_0x55f916=_0x218ace[_0x336f94(0x693)],_0x4dc85b=_0x2930d0[_0x336f94(0x693)],_0x2a6fa7=_0x218ace[_0x336f94(0x53f)],_0x57a6a7=_0x2930d0[_0x336f94(0x53f)],_0x298496=_0x218ace[_0x336f94(0x691)],_0x32751a=_0x2930d0[_0x336f94(0x691)]):(_0x55f916=_0x218ace[_0x336f94(0x6e7)],_0x4dc85b=_0x2930d0['setSupplierDocumentNumber'],_0x2a6fa7=_0x218ace['setSupplierName'],_0x57a6a7=_0x2930d0[_0x336f94(0x2ba)],_0x298496=_0x218ace['setSupplierAddress'],_0x32751a=_0x2930d0[_0x336f94(0x276)]);const _0x34bdaa=[_0x55f916,_0x2a6fa7,_0x298496][_0x336f94(0x1fc)](Boolean)['length'],_0xa26549=[_0x4dc85b,_0x57a6a7,_0x32751a][_0x336f94(0x1fc)](Boolean)[_0x336f94(0x517)];return _0xa26549>_0x34bdaa?_0x2930d0:_0x218ace;},_0x565079[0x0]);};let _0x27aa44,_0x24e437;setTipOpeOrders[_0x506baa(0x79e)](_0x5d6f8d=>_0x5d6f8d==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeSales[_0x506baa(0x79e)](_0x15aae2=>_0x15aae2==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeQuotation[_0x506baa(0x79e)](_0x38506e=>_0x38506e==window_options[_0x2ed73b]['setTipoOperacion'])||setTipOpeShippingGuide[_0x506baa(0x79e)](_0x49c97c=>_0x49c97c==window_options[_0x2ed73b][_0x506baa(0x6f1)])?(_0x24e437=0x1,_0x27aa44=myCompany[_0x506baa(0x1f6)]):(_0x24e437=0x2,_0x27aa44=myCompany[_0x506baa(0x4d5)]);if(_0x34e435){let _0x4b03cd;setTipOpeOrders['some'](_0x5abb13=>_0x5abb13==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeSales[_0x506baa(0x79e)](_0x1fa699=>_0x1fa699==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeQuotation['some'](_0x3e9e9f=>_0x3e9e9f==window_options[_0x2ed73b]['setTipoOperacion'])||setTipOpeShippingGuide[_0x506baa(0x79e)](_0x4efb2a=>_0x4efb2a==window_options[_0x2ed73b]['setTipoOperacion'])?_0x4b03cd=_0x27aa44[_0x506baa(0x1fc)](_0x246b17=>_0x246b17[_0x506baa(0x693)]==_0x34e435):_0x4b03cd=_0x27aa44[_0x506baa(0x1fc)](_0x309d83=>_0x309d83[_0x506baa(0x6e7)]==_0x34e435);if(_0x4b03cd[_0x506baa(0x517)]>0x0){const _0x1a7cc9=_0xce039b(_0x4b03cd,_0x24e437);setTipOpeOrders[_0x506baa(0x79e)](_0x349844=>_0x349844==window_options[_0x2ed73b]['setTipoOperacion'])||setTipOpeSales['some'](_0x33045a=>_0x33045a==window_options[_0x2ed73b]['setTipoOperacion'])||setTipOpeQuotation['some'](_0xc4338c=>_0xc4338c==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeShippingGuide[_0x506baa(0x79e)](_0x33c820=>_0x33c820==window_options[_0x2ed73b][_0x506baa(0x6f1)])?(_0x25a466[_0x506baa(0x4a7)]=_0x1a7cc9[_0x506baa(0x53f)]||'',_0x3a4464['value']=_0x1a7cc9['setCustomerAddress']||''):(_0x25a466[_0x506baa(0x4a7)]=_0x1a7cc9[_0x506baa(0x2ba)]||'',_0x3a4464['value']=_0x1a7cc9[_0x506baa(0x276)]||'');window_options[_0x2ed73b][_0x506baa(0x4a5)]=_0x25a466[_0x506baa(0x4a7)],window_options[_0x2ed73b][_0x506baa(0x3f5)]=_0x3a4464[_0x506baa(0x4a7)],saveWindowOptionsDB(_0x2ed73b)[_0x506baa(0x480)](_0x53a3db=>console['error']('Error\x20al\x20guardar\x20datos:',_0x53a3db));return;}if(isOnline()){if(_0x39fd04[_0x506baa(0x266)]()==_0x506baa(0x286)&&_0x34e435[_0x506baa(0x517)]==0x8||_0x39fd04[_0x506baa(0x266)]()=='ruc'&&_0x34e435['length']==0xb){let _0x2bf9e1;_0x39fd04[_0x506baa(0x266)]()==_0x506baa(0x286)?_0x2bf9e1=0x2:_0x2bf9e1=0x1,consultarAPI(_0x2bf9e1,_0x34e435,_0x2ed73b);}else ntfShow(_0x506baa(0x6e9));}else ntfShow(_0x506baa(0x251));return;}if(_0x30e5e1){const _0x372031=_0x30e5e1,_0x302d5f=_0x27aa44[_0x506baa(0x1fc)](_0x44774d=>{const _0x3e5b0f=_0x506baa;let _0x21faac,_0x1b7cfa;setTipOpeOrders[_0x3e5b0f(0x79e)](_0x1d430e=>_0x1d430e==window_options[_0x2ed73b][_0x3e5b0f(0x6f1)])||setTipOpeSales[_0x3e5b0f(0x79e)](_0x5b93c7=>_0x5b93c7==window_options[_0x2ed73b][_0x3e5b0f(0x6f1)])||setTipOpeQuotation[_0x3e5b0f(0x79e)](_0x5e9dee=>_0x5e9dee==window_options[_0x2ed73b][_0x3e5b0f(0x6f1)])||setTipOpeShippingGuide[_0x3e5b0f(0x79e)](_0x14c202=>_0x14c202==window_options[_0x2ed73b][_0x3e5b0f(0x6f1)])?(_0x21faac=_0x44774d['setCustomerName'][_0x3e5b0f(0x266)](),_0x1b7cfa=_0x44774d[_0x3e5b0f(0x693)]):(_0x21faac=_0x44774d[_0x3e5b0f(0x2ba)]['toLowerCase'](),_0x1b7cfa=_0x44774d['setSupplierDocumentNumber']);const _0x1fe547=_0x372031['split'](/\s+/),_0x4667cc=_0x1fe547[_0x3e5b0f(0x1eb)](_0x16a00e=>_0x21faac[_0x3e5b0f(0x66a)](_0x16a00e)),_0x1c37e6=_0x1b7cfa[_0x3e5b0f(0x66a)](_0x372031);return _0x4667cc||_0x1c37e6;});if(_0x302d5f[_0x506baa(0x517)]>0x0){const _0x5469ee=_0xce039b(_0x302d5f,_0x24e437);setTipOpeOrders[_0x506baa(0x79e)](_0x41aa3b=>_0x41aa3b==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeSales[_0x506baa(0x79e)](_0x396785=>_0x396785==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeQuotation[_0x506baa(0x79e)](_0x1a8075=>_0x1a8075==window_options[_0x2ed73b][_0x506baa(0x6f1)])||setTipOpeShippingGuide['some'](_0x38b284=>_0x38b284==window_options[_0x2ed73b][_0x506baa(0x6f1)])?(_0x2d0372['value']=_0x5469ee[_0x506baa(0x693)]||'',_0x25a466['value']=_0x5469ee[_0x506baa(0x53f)]||'',_0x3a4464[_0x506baa(0x4a7)]=_0x5469ee[_0x506baa(0x691)]||''):(_0x2d0372[_0x506baa(0x4a7)]=_0x5469ee['setSupplierDocumentNumber']||'',_0x25a466[_0x506baa(0x4a7)]=_0x5469ee[_0x506baa(0x2ba)]||'',_0x3a4464[_0x506baa(0x4a7)]=_0x5469ee[_0x506baa(0x276)]||'');window_options[_0x2ed73b][_0x506baa(0x329)]=_0x2d0372[_0x506baa(0x4a7)],window_options[_0x2ed73b][_0x506baa(0x4a5)]=_0x25a466['value'],window_options[_0x2ed73b]['setClienteDireccion']=_0x3a4464[_0x506baa(0x4a7)],saveWindowOptionsDB(_0x2ed73b)[_0x506baa(0x480)](_0x5e84af=>console[_0x506baa(0x574)](_0x506baa(0x352),_0x5e84af));return;}ntfShow('No\x20se\x20encontraron\x20resultados.');return;}ntfShow('Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.');}async function consultarAPI(_0x57f24b,_0x141faa,_0x23b398){const _0x40420d=_0x28d754,_0x2a7311=document[_0x40420d(0x5b3)](_0x40420d(0x533)+_0x23b398),_0x1b52f8=document['getElementById'](_0x40420d(0x6d3)+_0x23b398),_0x45db83=document[_0x40420d(0x5b3)]('setClienteDireccion-'+_0x23b398);let _0x2e44ec;_0x57f24b==0x1?_0x2e44ec='https://apierp.dev/api/ruc/':_0x2e44ec=_0x40420d(0x1f9);_0x2a7311[_0x40420d(0x5ab)]=!![],showLoadingModal();const _0x4c80da=document[_0x40420d(0x5b3)](_0x40420d(0x207));_0x4c80da[_0x40420d(0x566)]=_0x40420d(0x4b1);const _0x15115b={'setAuthToken':myCompany['setAuthToken'],'numDoc':_0x141faa};try{const _0x4d01a5=await fetch(_0x2e44ec,{'method':_0x40420d(0x654),'headers':{'Content-Type':_0x40420d(0x418)},'body':JSON[_0x40420d(0x43e)](_0x15115b)}),_0x339be5=await _0x4d01a5[_0x40420d(0x326)]();if(!_0x339be5[_0x40420d(0x5d5)]){ntfShow(_0x40420d(0x7ba));throw new Error(_0x339be5['message']||'Error\x20desconocido.');}_0x57f24b==0x1?(_0x1b52f8[_0x40420d(0x4a7)]=_0x339be5['message'][_0x40420d(0x4f8)]||'',_0x45db83[_0x40420d(0x4a7)]=_0x339be5[_0x40420d(0x45d)]['direccion']||''):(_0x1b52f8[_0x40420d(0x4a7)]=((_0x339be5['message'][_0x40420d(0x2e7)]||'')+'\x20'+(_0x339be5[_0x40420d(0x45d)]['apellidos']||''))['trim'](),_0x45db83[_0x40420d(0x4a7)]=_0x339be5[_0x40420d(0x45d)][_0x40420d(0x3d7)]||''),window_options[_0x23b398][_0x40420d(0x4a5)]=_0x1b52f8['value'],window_options[_0x23b398]['setClienteDireccion']=_0x45db83[_0x40420d(0x4a7)],saveWindowOptionsDB(_0x23b398)[_0x40420d(0x480)](_0x13a147=>console['error']('Error\x20al\x20guardar\x20datos:',_0x13a147));}catch(_0x521608){ntfShow('Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.');}finally{_0x2a7311[_0x40420d(0x5ab)]=![],hideLoadingModal();}}function nowWithMillisecondsForServer(){const _0xbcb9be=_0x28d754;let _0xff1df2;if(typeof performance!=='undefined'&&typeof performance[_0xbcb9be(0x26f)]===_0xbcb9be(0x619)){let _0x3c5d23;if(typeof performance['timeOrigin']==='number')_0x3c5d23=performance[_0xbcb9be(0x47b)];else performance['timing']&&performance[_0xbcb9be(0x59d)][_0xbcb9be(0x6e8)]?_0x3c5d23=performance[_0xbcb9be(0x59d)][_0xbcb9be(0x6e8)]:_0x3c5d23=Date[_0xbcb9be(0x26f)]();_0xff1df2=_0x3c5d23+performance[_0xbcb9be(0x26f)]();}else _0xff1df2=Date['now']();const _0x589fca=Math[_0xbcb9be(0x730)](_0xff1df2),_0x46207b=_0xff1df2-_0x589fca,_0x2d9513=Math['floor'](_0x46207b*0x3e8),_0x277e9d=new Date(_0x589fca),_0x3bb968=_0x277e9d['getUTCFullYear'](),_0x2b4b7a=String(_0x277e9d[_0xbcb9be(0x23c)]()+0x1)[_0xbcb9be(0x371)](0x2,'0'),_0x3c4546=String(_0x277e9d[_0xbcb9be(0x3b5)]())[_0xbcb9be(0x371)](0x2,'0'),_0x24e2c8=String(_0x277e9d[_0xbcb9be(0x390)]())[_0xbcb9be(0x371)](0x2,'0'),_0x1d00c8=String(_0x277e9d[_0xbcb9be(0x710)]())['padStart'](0x2,'0'),_0x4ae998=String(_0x277e9d[_0xbcb9be(0x77e)]())[_0xbcb9be(0x371)](0x2,'0'),_0x258de0=String(_0x277e9d[_0xbcb9be(0x471)]())['padStart'](0x3,'0'),_0x54d6e9=String(_0x2d9513)[_0xbcb9be(0x371)](0x3,'0');return _0x3bb968+'-'+_0x2b4b7a+'-'+_0x3c4546+'T'+_0x24e2c8+':'+_0x1d00c8+':'+_0x4ae998+'.'+_0x258de0+_0x54d6e9+'Z';}async function getLastCorrelativeOffline(_0x21172b,_0x2dda8c){const _0x59dfd6=_0x28d754,_0x224432=await createCartStore(''),_0x7b5287=_0x224432[_0x59dfd6(0x5df)](_0x59dfd6(0x277),_0x59dfd6(0x635)),_0x246d9e=_0x7b5287['objectStore'](_0x59dfd6(0x277)),_0x202d86=await new Promise((_0x56039e,_0x53a756)=>{const _0x4363b7=_0x59dfd6,_0x37d6e4=_0x246d9e[_0x4363b7(0x550)]();_0x37d6e4[_0x4363b7(0x485)]=()=>_0x56039e(_0x37d6e4[_0x4363b7(0x44b)]),_0x37d6e4['onerror']=()=>_0x53a756(_0x37d6e4[_0x4363b7(0x574)]);}),_0x3ef01e=myCompany['setAuthToken']||'',_0x48da61=_0x202d86[_0x59dfd6(0x1fc)](_0x25b12d=>_0x25b12d['setTipoOperacion']==_0x21172b&&_0x25b12d[_0x59dfd6(0x2b4)]==_0x2dda8c&&_0x25b12d[_0x59dfd6(0x335)]==_0x3ef01e),_0xeb6b45=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x1c0491;if(_0xeb6b45===0x1){const _0x25be6f=getLoggedUserSeries();_0x1c0491=_0x25be6f[_0x59dfd6(0x248)](_0x536905=>_0x536905[_0x59dfd6(0x581)]==_0x21172b&&_0x536905[_0x59dfd6(0x6c6)]==_0x2dda8c);}else _0x1c0491=myCompany['setSeries']['find'](_0x279def=>_0x279def['setSerieTipo']==_0x21172b&&_0x279def[_0x59dfd6(0x2b4)]==_0x2dda8c);if(!_0x1c0491){ntfShow(_0x59dfd6(0x1fd)),console[_0x59dfd6(0x574)](_0x59dfd6(0x1fd));return;}const _0x52809a=_0xeb6b45===0x1?parseInt(_0x1c0491['setSeriesCorrelativeInitial'],0xa):parseInt(_0x1c0491['setCorrelativoInicial'],0xa);if(_0x48da61['length']===0x0)return _0x52809a;const _0x3d9d30=_0x48da61[_0x59dfd6(0x6f6)](_0x44fa0f=>Number(_0x44fa0f[_0x59dfd6(0x360)])||0x0)[_0x59dfd6(0x511)]((_0x25e8d5,_0x19315b)=>_0x19315b>_0x25e8d5?_0x19315b:_0x25e8d5,0x0);return Math[_0x59dfd6(0x5b1)](_0x3d9d30+0x1,_0x52809a);}async function updateLastCorrelativeOnline(_0x5d6c9e,_0x128034){const _0x4e82ad=_0x28d754;if(isOnline()){const _0x47d071=getUserPermissionApiERP(0x5);let _0x4ed164;if(_0x47d071==0x1){const _0x4ddd56=getLoggedUserSeries();_0x4ed164=_0x4ddd56[_0x4e82ad(0x248)](_0x2bd7f2=>_0x2bd7f2[_0x4e82ad(0x581)]==_0x5d6c9e&&_0x2bd7f2['setSeriesNumber']==_0x128034);}else _0x4ed164=myCompany[_0x4e82ad(0x1d3)][_0x4e82ad(0x248)](_0x5c1e01=>_0x5c1e01[_0x4e82ad(0x321)]==_0x5d6c9e&&_0x5c1e01['setSerie']==_0x128034);if(!_0x4ed164){ntfShow(_0x4e82ad(0x1fd)),console['error'](_0x4e82ad(0x1fd));return;}const _0x3fe41d=myCompany['setApiEndPoint'],_0x36c92a={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0x4e82ad(0x523)],'setReceiptType':_0x5d6c9e,'setReceiptSeries':_0x128034};try{const _0x29b77e=await fetch(_0x3fe41d,{'method':_0x4e82ad(0x654),'headers':{'Content-Type':_0x4e82ad(0x418)},'body':JSON[_0x4e82ad(0x43e)](_0x36c92a)}),_0x2b1109=await _0x29b77e[_0x4e82ad(0x326)]();if(_0x2b1109[_0x4e82ad(0x5d5)]&&_0x2b1109[_0x4e82ad(0x45d)][_0x4e82ad(0x24c)]){let _0x59211e=parseInt(_0x2b1109['message'][_0x4e82ad(0x24c)],0xa)||0x0,_0x3aa1ab=parseInt(await getLastCorrelativeOffline(_0x5d6c9e,_0x128034),0xa)||0x0;_0x3aa1ab>_0x59211e&&(_0x59211e=_0x3aa1ab);_0x47d071==0x1?_0x4ed164[_0x4e82ad(0x2a1)]=_0x59211e:_0x4ed164['setCorrelativoInicial']=_0x59211e;try{const _0x5eba1a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5eba1a),console[_0x4e82ad(0x5d6)](_0x4e82ad(0x212));const _0xfe5936=document['getElementById']('windowId')[_0x4e82ad(0x4a7)];window_options[_0xfe5936][_0x4e82ad(0x6f1)]==_0x5d6c9e&&(window_options[_0xfe5936][_0x4e82ad(0x360)]=_0x59211e,await saveWindowOptionsDB(_0xfe5936),console[_0x4e82ad(0x5d6)](_0x4e82ad(0x46d)));}catch(_0x1bb0f2){console[_0x4e82ad(0x574)](_0x4e82ad(0x633),_0x1bb0f2);throw _0x1bb0f2;}}}catch(_0x575e7e){console[_0x4e82ad(0x574)]('Error\x20en\x20la\x20solicitud:',_0x575e7e);}}}async function processCorrelativoInicial(_0x4e2fe9,_0x1b310b,_0x315dce){const _0x26cf9e=_0x28d754;let _0x52fb24;const _0x3e305e=getUserPermissionApiERP(0x5);let _0x41a69f;if(_0x3e305e==0x1){const _0x38dba4=getLoggedUserSeries();_0x41a69f=_0x38dba4[_0x26cf9e(0x248)](_0x35ac83=>_0x35ac83[_0x26cf9e(0x581)]==_0x4e2fe9&&_0x35ac83[_0x26cf9e(0x6c6)]==_0x1b310b),_0x52fb24=_0x41a69f?_0x41a69f[_0x26cf9e(0x2a1)]:0x1;}else _0x41a69f=myCompany['setSeries'][_0x26cf9e(0x248)](_0x20a486=>_0x20a486['setSerieTipo']==_0x4e2fe9&&_0x20a486[_0x26cf9e(0x2b4)]==_0x1b310b),_0x52fb24=_0x41a69f?_0x41a69f['setCorrelativoInicial']:0x1;if(_0x315dce!==undefined){if(_0x41a69f){_0x3e305e==0x1?_0x41a69f[_0x26cf9e(0x2a1)]=_0x315dce:_0x41a69f['setCorrelativoInicial']=_0x315dce;try{const _0x6c485e=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x6c485e),_0x315dce;}catch(_0x4ee545){console[_0x26cf9e(0x574)]('Error\x20al\x20guardar\x20Last\x20Correlative:',_0x4ee545);throw _0x4ee545;}}else throw new Error(_0x26cf9e(0x608));}return _0x52fb24;}function getFilteredCart(_0x3ce81c){const _0x1e93b7=_0x28d754,_0x578fde=window_options[_0x3ce81c][_0x1e93b7(0x6f1)];if(setTipOpeOrders['some'](_0xd74b3b=>_0xd74b3b==_0x578fde))return carts[_0x3ce81c]['filter'](_0xff91df=>_0xff91df[_0x1e93b7(0x3ff)]==0x1&&_0xff91df[_0x1e93b7(0x577)]=='');else return setTipOpeSales['some'](_0x380406=>_0x380406==_0x578fde)||setTipOpePurchases['some'](_0x1522e6=>_0x1522e6==_0x578fde)||setTipOpeQuotation[_0x1e93b7(0x79e)](_0x40b03c=>_0x40b03c==_0x578fde)||setTipOpePurchaseOrder[_0x1e93b7(0x79e)](_0x220180=>_0x220180==_0x578fde)||setTipOpeShippingGuide[_0x1e93b7(0x79e)](_0x17a8ed=>_0x17a8ed==_0x578fde)?carts[_0x3ce81c][_0x1e93b7(0x1fc)](_0x529006=>_0x529006[_0x1e93b7(0x3ff)]==0x1):[];}async function validateOperation(_0x12b108,_0x3008c6=''){const _0x18a50c=_0x28d754,_0xe94248=document[_0x18a50c(0x5b3)](_0x18a50c(0x31a)),_0x323226=_0xe94248[_0x18a50c(0x4a7)],_0x4c7145=_0xe94248['options'][_0xe94248['selectedIndex']][_0x18a50c(0x5c8)],_0x1ee458=document[_0x18a50c(0x5b3)](_0x18a50c(0x73f)+_0x12b108)['value'],_0x25c0af=document['getElementById'](_0x18a50c(0x2f1)+_0x12b108)[_0x18a50c(0x4a7)],_0x1e63e3=document[_0x18a50c(0x5b3)](_0x18a50c(0x446)+_0x12b108)[_0x18a50c(0x4a7)],_0x4b04ee=document[_0x18a50c(0x5b3)](_0x18a50c(0x655)+_0x12b108)[_0x18a50c(0x4a7)],_0x14e3f4=document[_0x18a50c(0x5b3)](_0x18a50c(0x3a9)+_0x12b108)[_0x18a50c(0x4a7)],_0x583c20=document[_0x18a50c(0x5b3)]('setClienteTipoDoc-'+_0x12b108)['value'],_0x4f2fac=document[_0x18a50c(0x5b3)]('setClienteNumDoc-'+_0x12b108)['value'],_0x50af71=document[_0x18a50c(0x5b3)]('setClienteDenominacion-'+_0x12b108)[_0x18a50c(0x4a7)],_0x42ab23=document[_0x18a50c(0x5b3)]('setClienteDireccion-'+_0x12b108)[_0x18a50c(0x4a7)],_0x3244b7=document['getElementById'](_0x18a50c(0x3fc)+_0x12b108)[_0x18a50c(0x4a7)],_0x480b29=document[_0x18a50c(0x5b3)](_0x18a50c(0x71b)+_0x12b108)[_0x18a50c(0x4a7)],_0x3868ab=document['getElementById'](_0x18a50c(0x6b1)+_0x12b108)[_0x18a50c(0x4a7)],_0x1eccf9=document[_0x18a50c(0x5b3)](_0x18a50c(0x26d)+_0x12b108)[_0x18a50c(0x4a7)],_0x2762f7=getTotalFromFloatRight(_0x12b108),_0xa2fbcc=getFilteredCart(_0x12b108);if(!_0x1ee458||!_0x583c20)return ntfShow(_0x18a50c(0x2ab)),![];if(!setTipOpePurchaseReceipt['some'](_0x34d13c=>_0x34d13c==window_options[_0x12b108]['setTipoOperacion'])){if(!_0x1e63e3||!_0x4b04ee)return ntfShow(_0x18a50c(0x488)),![];if(!/^[A-Za-z0-9]{4}$/[_0x18a50c(0x378)](_0x1e63e3))return ntfShow(_0x18a50c(0x4f6)),![];if(/ñ/i[_0x18a50c(0x378)](_0x1e63e3))return ntfShow(_0x18a50c(0x2b0)),![];if(window_options[_0x12b108][_0x18a50c(0x6f1)]=='3'&&_0x1e63e3[_0x18a50c(0x2d4)](0x0)!=='B')return ntfShow(_0x18a50c(0x798)),![];if(window_options[_0x12b108][_0x18a50c(0x6f1)]=='4'&&_0x1e63e3[_0x18a50c(0x2d4)](0x0)!=='F')return ntfShow(_0x18a50c(0x745)),![];}if(setTipOpeSalesInvoice[_0x18a50c(0x79e)](_0x14fd39=>_0x14fd39==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpePurchaseInvoice[_0x18a50c(0x79e)](_0x321f0b=>_0x321f0b==window_options[_0x12b108]['setTipoOperacion'])){if(!_0x4f2fac[_0x18a50c(0x2cd)]()||!_0x50af71['trim']())return ntfShow(_0x18a50c(0x6ff)),![];if(window_options[_0x12b108][_0x18a50c(0x6f1)]=='4'&&_0x583c20!=_0x18a50c(0x1c2))return ntfShow(_0x18a50c(0x70e)),![];}if(setTipOpeSalesTicket[_0x18a50c(0x79e)](_0x5576cc=>_0x5576cc==window_options[_0x12b108]['setTipoOperacion'])||setTipOpePurchaseTicket[_0x18a50c(0x79e)](_0x54639f=>_0x54639f==window_options[_0x12b108]['setTipoOperacion'])){if(window_options[_0x12b108][_0x18a50c(0x6f1)]=='3'&&_0x2762f7>=0x2bc){if(_0x583c20!=_0x18a50c(0x555)&&_0x583c20!=_0x18a50c(0x1c2)||!_0x4f2fac[_0x18a50c(0x2cd)]()||!_0x50af71['trim']())return ntfShow(_0x18a50c(0x4b4)),![];}}if(_0x4f2fac[_0x18a50c(0x2cd)]()){if(_0x583c20==_0x18a50c(0x555)&&!/^\d{8}$/[_0x18a50c(0x378)](_0x4f2fac))return ntfShow(_0x18a50c(0x7a3)),![];if(_0x583c20=='RUC'&&!/^\d{11}$/[_0x18a50c(0x378)](_0x4f2fac))return ntfShow(_0x18a50c(0x6fa)),![];if(!_0x50af71[_0x18a50c(0x2cd)]())return ntfShow(_0x18a50c(0x680)),![];}if(!Array[_0x18a50c(0x69f)](_0xa2fbcc)||_0xa2fbcc['length']==0x0)return ntfShow(_0x18a50c(0x2e6)),![];let _0x217a15;setTipOpeOrders[_0x18a50c(0x79e)](_0xaa2066=>_0xaa2066==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeSales[_0x18a50c(0x79e)](_0x4bab1c=>_0x4bab1c==window_options[_0x12b108]['setTipoOperacion'])||setTipOpeQuotation[_0x18a50c(0x79e)](_0x2d2749=>_0x2d2749==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeShippingGuide[_0x18a50c(0x79e)](_0x16d3ad=>_0x16d3ad==window_options[_0x12b108][_0x18a50c(0x6f1)])?_0x217a15=0x2:_0x217a15=0x1;for(var _0x3c41bf=0x0;_0x3c41bf<_0xa2fbcc['length'];_0x3c41bf++){let _0x441276,_0x324700;_0x217a15==0x1?(_0x441276=parseFloat(_0xa2fbcc[_0x3c41bf][_0x18a50c(0x500)])||0x0,_0x324700=_0x18a50c(0x23b)):(_0x441276=parseFloat(_0xa2fbcc[_0x3c41bf][_0x18a50c(0x7c0)])||0x0,_0x324700=_0x18a50c(0x2de));var _0x2daf7b=_0x441276;if(_0x2daf7b<=0x0)return ntfShow(_0x18a50c(0x5ff)+(_0xa2fbcc[_0x3c41bf][_0x18a50c(0x639)]||'null')+_0x18a50c(0x2b2)+_0x324700+'\x20unitario\x20mayor\x20a\x200.'),![];}if(_0x3008c6){const _0x2a13f7=parseInt(getUserPermissionApiERP(0xe)),_0x43c7c0=parseInt(getUserPermissionApiERP(0x5));if((_0x43c7c0==0x0||_0x43c7c0==0x1&&((setTipOpeSalesTicket[_0x18a50c(0x79e)](_0x303e1a=>_0x303e1a==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeSalesInvoice[_0x18a50c(0x79e)](_0x3634ef=>_0x3634ef==window_options[_0x12b108]['setTipoOperacion']))&&_0x2a13f7==0x0))&&window_options[_0x12b108][_0x18a50c(0x1f5)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x18a50c(0x79e)](_0x26a9db=>_0x26a9db==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeSales['some'](_0x5353fa=>_0x5353fa==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeQuotation[_0x18a50c(0x79e)](_0x144b08=>_0x144b08==window_options[_0x12b108]['setTipoOperacion'])||setTipOpePurchaseOrder['some'](_0x122765=>_0x122765==window_options[_0x12b108]['setTipoOperacion'])||setTipOpeShippingGuide[_0x18a50c(0x79e)](_0x300e82=>_0x300e82==window_options[_0x12b108][_0x18a50c(0x6f1)])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x12b108][_0x18a50c(0x6f1)],window_options[_0x12b108]['setSerie']),hideLoadingModal();else{if(window_options[_0x12b108][_0x18a50c(0x1f5)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders['some'](_0x8366c3=>_0x8366c3==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeSales['some'](_0x34451d=>_0x34451d==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeQuotation[_0x18a50c(0x79e)](_0x41d419=>_0x41d419==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpePurchaseOrder['some'](_0x1ecef5=>_0x1ecef5==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeShippingGuide[_0x18a50c(0x79e)](_0x55dea4=>_0x55dea4==window_options[_0x12b108]['setTipoOperacion']))){showLoadingModal();let _0x3bfdd2=parseInt(await getLastCorrelativeOffline(window_options[_0x12b108][_0x18a50c(0x6f1)],window_options[_0x12b108][_0x18a50c(0x2b4)]),0xa)||0x0,_0x34db8d;if(_0x43c7c0==0x1){const _0x9bf7e1=getLoggedUserSeries();_0x34db8d=_0x9bf7e1['find'](_0x454634=>_0x454634[_0x18a50c(0x581)]==window_options[_0x12b108][_0x18a50c(0x6f1)]&&_0x454634['setSeriesNumber']==window_options[_0x12b108][_0x18a50c(0x2b4)]);}else _0x34db8d=myCompany['setSeries'][_0x18a50c(0x248)](_0x4e19c4=>_0x4e19c4[_0x18a50c(0x321)]==window_options[_0x12b108][_0x18a50c(0x6f1)]&&_0x4e19c4[_0x18a50c(0x2b4)]==window_options[_0x12b108][_0x18a50c(0x2b4)]);if(!_0x34db8d){ntfShow(_0x18a50c(0x1fd)),console[_0x18a50c(0x574)](_0x18a50c(0x1fd));return;}_0x43c7c0==0x1?_0x34db8d[_0x18a50c(0x2a1)]=_0x3bfdd2:_0x34db8d[_0x18a50c(0x33c)]=_0x3bfdd2;try{const _0x3fd3a0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3fd3a0),window_options[_0x12b108][_0x18a50c(0x360)]=_0x3bfdd2,await saveWindowOptionsDB(_0x12b108),console['log'](_0x18a50c(0x289));}catch(_0x3ef09d){console[_0x18a50c(0x574)](_0x18a50c(0x633),_0x3ef09d);throw _0x3ef09d;}hideLoadingModal();}}return(setTipOpeOrders['some'](_0xebb886=>_0xebb886==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeQuotation['some'](_0x3081cb=>_0x3081cb==window_options[_0x12b108]['setTipoOperacion'])||setTipOpePurchaseOrder[_0x18a50c(0x79e)](_0x52f369=>_0x52f369==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpeShippingGuide[_0x18a50c(0x79e)](_0xde28a0=>_0xde28a0==window_options[_0x12b108][_0x18a50c(0x6f1)]))&&saveOperation(_0x12b108),(setTipOpeSales[_0x18a50c(0x79e)](_0x20f282=>_0x20f282==window_options[_0x12b108][_0x18a50c(0x6f1)])||setTipOpePurchases[_0x18a50c(0x79e)](_0x26d0e4=>_0x26d0e4==window_options[_0x12b108][_0x18a50c(0x6f1)]))&&(showSection(_0x3008c6,_0x12b108),document[_0x18a50c(0x5b3)](_0x18a50c(0x228)+_0x12b108)[_0x18a50c(0x4a7)]=_0x18a50c(0x53c),triggerChangeEventById(_0x18a50c(0x228)+_0x12b108),updateActivePaymentOption(_0x12b108,_0x18a50c(0x5f1))),!![];}else return!![];}function buildPayload(_0x479a96,_0x1258be=''){const _0x397b36=_0x28d754;window_options[_0x479a96][_0x397b36(0x4a4)]=0x1;const _0x3ef4b5=myCompany[_0x397b36(0x369)]['find'](_0x1cbd74=>_0x1cbd74['setWindowId']==_0x479a96);window_options[_0x479a96][_0x397b36(0x788)]=_0x479a96,window_options[_0x479a96][_0x397b36(0x1c1)]=_0x3ef4b5[_0x397b36(0x1c1)],window_options[_0x479a96][_0x397b36(0x5cb)]=_0x3ef4b5[_0x397b36(0x5cb)],window_options[_0x479a96][_0x397b36(0x217)]=_0x3ef4b5[_0x397b36(0x246)],window_options[_0x479a96][_0x397b36(0x51e)]=generateUniqId(),window_options[_0x479a96]['setLastFechaHora']=new Date();parseInt(window_options[_0x479a96][_0x397b36(0x751)])!=0x1&&(window_options[_0x479a96][_0x397b36(0x673)]=obtener_fechaHora());const _0x5b7e6f=getValidatedWindowAndShift(_0x479a96)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x364376,currentWindowShift:_0x4ec763}=_0x5b7e6f,_0x16b4da=window_options[_0x479a96],_0x5eb9a9=medio_pago[_0x479a96];let _0x4b2122=getFilteredCart(_0x479a96);_0x1258be!=''&&(_0x4b2122=_0x4b2122[_0x397b36(0x1fc)](_0x22153e=>{const _0x1c2fc1=_0x397b36,_0x48736b=products['find'](_0x96872=>_0x96872['id']==_0x22153e['setIdProducto']);return _0x48736b&&_0x48736b[_0x1c2fc1(0x468)]&&_0x48736b['setPrinters'][_0x1c2fc1(0x79e)](_0x430237=>_0x430237[_0x1c2fc1(0x3e8)]==_0x1258be);}));const _0x3db9f7=document[_0x397b36(0x5b3)](_0x397b36(0x712));if(!_0x3db9f7)return console[_0x397b36(0x574)](_0x397b36(0x3db)),null;const _0x2c2977=_0x3db9f7[_0x397b36(0x4a7)],_0x3a57e0=_0x3db9f7[_0x397b36(0x332)][_0x3db9f7[_0x397b36(0x55f)]]['text'],_0xec02d1=document['getElementById'](_0x397b36(0x31a));if(!_0xec02d1)return console['error'](_0x397b36(0x438)),null;const _0x259521=_0xec02d1['value'],_0x574431=myCompany[_0x397b36(0x3af)][_0x397b36(0x248)](_0x3d998b=>_0x3d998b[_0x397b36(0x31a)]==_0x259521)?.[_0x397b36(0x53d)]||'',_0x463615=myCompany['setBranches'][_0x397b36(0x248)](_0x5d6c11=>_0x5d6c11[_0x397b36(0x31a)]==_0x259521)?.[_0x397b36(0x359)]||'',_0x27ebd2=document[_0x397b36(0x5b3)]('setWarehouseId');if(!_0x27ebd2)return console[_0x397b36(0x574)](_0x397b36(0x7af)),null;const _0x3b2cc8=_0x27ebd2[_0x397b36(0x4a7)],_0x54375c=_0x27ebd2[_0x397b36(0x332)][_0x27ebd2[_0x397b36(0x55f)]]['text'],_0x17148d=_0x16b4da[_0x397b36(0x68c)],_0x3b2c1b=myCompany[_0x397b36(0x770)][_0x397b36(0x248)](_0x238327=>_0x238327[_0x397b36(0x5ed)]==_0x17148d),_0x1bc86c=_0x3b2c1b?_0x3b2c1b['setMonedaName']:null,_0xce2f8f=_0x3b2c1b?_0x3b2c1b[_0x397b36(0x2ff)]:null,_0x535427=_0x16b4da['setTipoOperacion'],_0x5dd85a=myCompany[_0x397b36(0x708)][_0x397b36(0x248)](_0x5490ce=>_0x5490ce[_0x397b36(0x6ac)]==_0x535427),_0x35e5b3=_0x5dd85a?_0x5dd85a[_0x397b36(0x2e2)]:null;!myCompany['setShifts']&&(myCompany[_0x397b36(0x709)]=[]);const _0x5772ca=myCompany[_0x397b36(0x709)],_0x160922=_0x5772ca[_0x397b36(0x248)](_0x21c4c1=>_0x21c4c1[_0x397b36(0x31a)]==_0x259521&&_0x21c4c1[_0x397b36(0x61e)]=='1'),_0x77c9d5={..._0x16b4da,'setToken':myCompany[_0x397b36(0x523)],'setWebhook':myCompany['setWebhook'],'setShiftId':_0x160922?_0x160922[_0x397b36(0x4e4)]:0x0,'setWindowShiftId':_0x4ec763?_0x4ec763[_0x397b36(0x4e4)]:0x0,'setSucursalCodigo':_0x259521,'setSucursalNombre':_0x574431,'setBranchAddress':_0x463615,'setWarehouseId':_0x3b2cc8,'setWarehouseName':_0x54375c,'setCashierId':_0x2c2977,'setCashierName':_0x3a57e0,'setProductos':_0x4b2122,'setMedioPago':_0x5eb9a9,'setDocumentType':_0x35e5b3,'setCurrencyName':_0x1bc86c,'setCurrencySymbol':_0xce2f8f};return setLastOperationGlobalData(_0x479a96,{'pdfGlobalPayload':_0x77c9d5,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x77c9d5;}async function saveOperation(_0x2c0730){const _0x592d5f=_0x28d754;let _0xf8dc77;(setTipOpeOrders[_0x592d5f(0x79e)](_0x3a14a2=>_0x3a14a2==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x498b35=>_0x498b35==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpePurchaseOrder['some'](_0x51a7de=>_0x51a7de==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpeShippingGuide[_0x592d5f(0x79e)](_0x1ad656=>_0x1ad656==window_options[_0x2c0730][_0x592d5f(0x6f1)]))&&(_0xf8dc77=document[_0x592d5f(0x5b3)](_0x592d5f(0x2ad)+_0x2c0730));(setTipOpeSales[_0x592d5f(0x79e)](_0x21d7f3=>_0x21d7f3==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpePurchases[_0x592d5f(0x79e)](_0x1490dc=>_0x1490dc==window_options[_0x2c0730][_0x592d5f(0x6f1)]))&&(_0xf8dc77=document['getElementById'](_0x592d5f(0x54b)+_0x2c0730));if(!_0xf8dc77){console['error'](_0x592d5f(0x5d8));return;}_0xf8dc77[_0x592d5f(0x5ab)]=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x2c0730)){_0xf8dc77[_0x592d5f(0x5ab)]=![],hideLoadingModal(),showModalPay();return;}const _0xf5352b=buildPayload(_0x2c0730);if(!_0xf5352b){console[_0x592d5f(0x574)]('Error\x20al\x20construir\x20el\x20payload.'),_0xf8dc77['disabled']=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0xf5352b);const _0x1d89aa=[],_0x25b85c=_0xf5352b[_0x592d5f(0x799)],_0x6de04d=myCompany['setPrinters']['filter'](_0x4327ee=>_0x4327ee[_0x592d5f(0x31a)]==_0x25b85c);setTipOpeOrders[_0x592d5f(0x79e)](_0x18316f=>_0x18316f==window_options[_0x2c0730][_0x592d5f(0x6f1)])&&_0xf5352b[_0x592d5f(0x1c3)][_0x592d5f(0x239)](_0x229bad=>{const _0x10ed5e=_0x592d5f,_0x3b1e18=products['find'](_0x44999b=>_0x44999b['id']==_0x229bad[_0x10ed5e(0x448)]);if(_0x3b1e18?.[_0x10ed5e(0x468)]?.['length']){const _0x40a32b=_0x3b1e18[_0x10ed5e(0x468)][_0x10ed5e(0x1fc)](_0x4576ef=>_0x6de04d['some'](_0x3346d5=>_0x3346d5[_0x10ed5e(0x3e8)]==_0x4576ef[_0x10ed5e(0x3e8)]));_0x40a32b[_0x10ed5e(0x239)](_0x5bf6c9=>{const _0x343ac6=_0x10ed5e;!_0x1d89aa['some'](_0x37945d=>_0x37945d[_0x343ac6(0x3e8)]==_0x5bf6c9[_0x343ac6(0x3e8)])&&_0x1d89aa['push']({..._0x5bf6c9,'payloadComand':buildPayload(_0x2c0730,_0x5bf6c9[_0x343ac6(0x3e8)])});});}});let _0x718d27;if(setTipOpeOrders[_0x592d5f(0x79e)](_0x3940ca=>_0x3940ca==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpeSales[_0x592d5f(0x79e)](_0xf5faed=>_0xf5faed==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeQuotation[_0x592d5f(0x79e)](_0x5f55c0=>_0x5f55c0==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpePurchaseOrder['some'](_0x57f972=>_0x57f972==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeShippingGuide['some'](_0x5352c0=>_0x5352c0==window_options[_0x2c0730][_0x592d5f(0x6f1)])){let _0x177bc9=await processCorrelativoInicial(window_options[_0x2c0730][_0x592d5f(0x6f1)],window_options[_0x2c0730][_0x592d5f(0x2b4)]);_0x177bc9=parseInt(_0x177bc9,0xa)||0x0,_0x718d27=_0x177bc9;}const _0x23ca83=window_options[_0x2c0730]['setAttachEdit']==0x2;!_0x23ca83&&(setTipOpeOrders[_0x592d5f(0x79e)](_0x386466=>_0x386466==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeSales[_0x592d5f(0x79e)](_0x23f938=>_0x23f938==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeQuotation[_0x592d5f(0x79e)](_0xe8111c=>_0xe8111c==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpePurchaseOrder[_0x592d5f(0x79e)](_0x511670=>_0x511670==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeShippingGuide[_0x592d5f(0x79e)](_0x5ed6a1=>_0x5ed6a1==window_options[_0x2c0730]['setTipoOperacion']))&&(_0x718d27+=0x1);if(window_options[_0x2c0730][_0x592d5f(0x429)]==0x1&&(setTipOpeSales[_0x592d5f(0x79e)](_0xaf2399=>_0xaf2399==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpePurchases['some'](_0x29bb1a=>_0x29bb1a==window_options[_0x2c0730]['setTipoOperacion']))){const _0x31230e=document[_0x592d5f(0x5b3)](_0x592d5f(0x732))[_0x592d5f(0x4a7)],_0x19ed93=carts[_0x2c0730],_0x14b56d=_0x23ca83?window_options[_0x2c0730][_0x592d5f(0x44c)]:[];_0x19ed93[_0x592d5f(0x239)](_0x306328=>{const _0x58cf8f=_0x592d5f;if(_0x306328[_0x58cf8f(0x623)]!=0x1)return;const _0x4d463d=products[_0x58cf8f(0x248)](_0x2b6161=>_0x2b6161['id']==_0x306328['setIdProducto']);if(!_0x4d463d){console['warn'](_0x58cf8f(0x67c)+_0x306328['setIdProducto']);return;}const _0x52ee98=parseFloat(_0x4d463d['setConversionFactor']),_0x224517=parseFloat(_0x306328['setCantidad']);let _0x5dfbd5=0x0;if(_0x23ca83){const _0x633905=_0x14b56d['find'](_0x58acda=>_0x58acda[_0x58cf8f(0x448)]==_0x306328[_0x58cf8f(0x448)]),_0x201672=_0x633905?parseFloat(_0x633905[_0x58cf8f(0x56b)]):0x0;setTipOpeSales['some'](_0x391aba=>_0x391aba==window_options[_0x2c0730][_0x58cf8f(0x6f1)])&&(_0x5dfbd5=_0x201672*_0x52ee98-_0x224517*_0x52ee98),setTipOpePurchases['some'](_0x4012a1=>_0x4012a1==window_options[_0x2c0730][_0x58cf8f(0x6f1)])&&(_0x5dfbd5=_0x201672*_0x52ee98+_0x224517*_0x52ee98);}else setTipOpeSales[_0x58cf8f(0x79e)](_0x10cdf6=>_0x10cdf6==window_options[_0x2c0730]['setTipoOperacion'])&&(_0x5dfbd5=-(_0x224517*_0x52ee98)),setTipOpePurchases[_0x58cf8f(0x79e)](_0x43a9cc=>_0x43a9cc==window_options[_0x2c0730][_0x58cf8f(0x6f1)])&&(_0x5dfbd5=_0x224517*_0x52ee98);const _0x215231=_0x4d463d[_0x58cf8f(0x448)],_0x530deb=products[_0x58cf8f(0x1fc)](_0x1feacd=>_0x1feacd[_0x58cf8f(0x448)]==_0x215231);_0x530deb[_0x58cf8f(0x239)](_0x362d4b=>{const _0x288878=_0x58cf8f,_0x4ed3f0=_0x362d4b['sucursales'][_0x288878(0x248)](_0x2c8c01=>_0x2c8c01[_0x288878(0x20e)]==_0x31230e);if(!_0x4ed3f0){console[_0x288878(0x4e0)](_0x288878(0x718)+_0x31230e+_0x288878(0x6e4)+_0x362d4b['id']);return;}const _0x303bd9=parseFloat(_0x4ed3f0['setSucursalStock']),_0x421430=_0x303bd9+_0x5dfbd5;_0x4ed3f0['setSucursalStock']=_0x421430,console[_0x288878(0x5d6)]('Producto\x20variante\x20'+_0x362d4b['id']+_0x288878(0x554)+_0x215231+')\x20en\x20almacén\x20'+_0x31230e+_0x288878(0x420)+_0x303bd9+'\x20a\x20'+_0x421430);});});}if(setTipOpeOrders['some'](_0x1d26ce=>_0x1d26ce==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpeSales[_0x592d5f(0x79e)](_0x3817ac=>_0x3817ac==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeQuotation['some'](_0x229eb9=>_0x229eb9==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpePurchaseOrder[_0x592d5f(0x79e)](_0x278bc3=>_0x278bc3==window_options[_0x2c0730]['setTipoOperacion'])||setTipOpeShippingGuide[_0x592d5f(0x79e)](_0x3c375f=>_0x3c375f==window_options[_0x2c0730][_0x592d5f(0x6f1)])){let _0x5b406a;!_0x23ca83?_0x5b406a=await processCorrelativoInicial(window_options[_0x2c0730][_0x592d5f(0x6f1)],window_options[_0x2c0730][_0x592d5f(0x2b4)],_0x718d27):_0x5b406a=_0x718d27,window_options[_0x2c0730][_0x592d5f(0x360)]=parseInt(_0x5b406a);}else window_options[_0x2c0730][_0x592d5f(0x360)]='';window_options[_0x2c0730][_0x592d5f(0x673)]=obtener_fechaHora(),window_options[_0x2c0730][_0x592d5f(0x751)]=0x0,window_options[_0x2c0730][_0x592d5f(0x429)]='1',window_options[_0x2c0730][_0x592d5f(0x3fa)]='1',window_options[_0x2c0730][_0x592d5f(0x590)]=0x0,window_options[_0x2c0730][_0x592d5f(0x1f5)]='1',correlativeReadonly=0x0,window_options[_0x2c0730]['setObservacion']='',window_options[_0x2c0730]['setLocationMaps']='',medio_pago=[];const _0x55c613=getValidatedWindowAndShift(_0x2c0730),{windowObj:_0xf77ac9,currentWindowShift:_0xcc569c}=_0x55c613;(!_0xcc569c||!setTipOpeOrders[_0x592d5f(0x79e)](_0x477987=>_0x477987==window_options[_0x2c0730]['setTipoOperacion']))&&(window_options[_0x2c0730][_0x592d5f(0x329)]='',window_options[_0x2c0730][_0x592d5f(0x4a5)]='',window_options[_0x2c0730][_0x592d5f(0x3f5)]='',window_options[_0x2c0730]['setCustomerPhone']='',window_options[_0x2c0730][_0x592d5f(0x29c)]='');if(_0xcc569c){_0xf77ac9[_0x592d5f(0x3f4)]=nowWithMillisecondsForServer();if(setTipOpeOrders[_0x592d5f(0x79e)](_0x29a78e=>_0x29a78e==window_options[_0x2c0730][_0x592d5f(0x6f1)])||setTipOpeSales[_0x592d5f(0x79e)](_0xf06766=>_0xf06766==window_options[_0x2c0730][_0x592d5f(0x6f1)])){!_0xcc569c[_0x592d5f(0x31d)]&&(_0xcc569c[_0x592d5f(0x31d)]=[]);let _0x4cbbe0=_0xf5352b;delete _0x4cbbe0[_0x592d5f(0x2cf)],_0xcc569c[_0x592d5f(0x31d)]['push'](_0x4cbbe0),_0xf77ac9[_0x592d5f(0x268)]='occupied',_0xcc569c[_0x592d5f(0x3ab)]='';}if(setTipOpeSales[_0x592d5f(0x79e)](_0x8be3d6=>_0x8be3d6==window_options[_0x2c0730][_0x592d5f(0x6f1)])){const _0x1bfcba=carts[_0x2c0730]||[],_0x3b7ba1=_0x1bfcba['some'](_0x50598e=>_0x50598e[_0x592d5f(0x3ff)]==0x0);if(!_0x3b7ba1){_0xf77ac9[_0x592d5f(0x268)]=_0x592d5f(0x26e);const _0x226ad9=new Date();_0xcc569c['setShiftStatus']='0',_0xcc569c[_0x592d5f(0x51c)]=_0x226ad9;}}const _0x2e9480=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2e9480);}for(let _0x2c7dac=products[_0x592d5f(0x517)]-0x1;_0x2c7dac>=0x0;_0x2c7dac--){products[_0x2c7dac]['setItemFree']==0x1&&products[_0x592d5f(0x63d)](_0x2c7dac,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x2c0730);}catch(_0x55983b){_0xf8dc77[_0x592d5f(0x5ab)]=![],hideLoadingModal(),showModalPay(),console[_0x592d5f(0x574)](_0x592d5f(0x242),_0x55983b);return;}await removeAllFromCart(_0x2c0730),_0xf8dc77[_0x592d5f(0x5ab)]=![],hideLoadingModal(),showLeftSection();_0x1d89aa[_0x592d5f(0x517)]>0x0&&processPrints(_0x1d89aa);const _0x47ba63=getUserPermissionApiERP(0x3),_0x421862=myCompany['setUser_Local'][_0x592d5f(0x2f8)],_0x193dfd=myCompany[_0x592d5f(0x70a)][_0x592d5f(0x248)](_0x6feee3=>_0x6feee3[_0x592d5f(0x5a6)]==_0x421862),_0xec9062=_0x193dfd?.[_0x592d5f(0x3af)]['find'](_0x3e9c62=>_0x3e9c62[_0x592d5f(0x31a)]==_0x25b85c)?.[_0x592d5f(0x3e8)]||0x0;if(setTipOpeSales[_0x592d5f(0x79e)](_0x512d69=>_0x512d69==window_options[_0x2c0730][_0x592d5f(0x6f1)])&&_0x47ba63==0x1&&_0xec9062!=0x0){const _0xc2c87d=_0x6de04d[_0x592d5f(0x248)](_0x2519e4=>_0x2519e4[_0x592d5f(0x3e8)]==_0xec9062);if(_0xc2c87d){const {pdfGlobalPayload:_0x1d8bcf,pdfGlobalBlob:_0x3e02e3,pdfGlobalName:_0xf9bf98}=getLastOperationGlobalData(_0x2c0730);setPrintOnline(_0xc2c87d[_0x592d5f(0x1e6)],_0x3e02e3,_0xf9bf98,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x592d5f(0x4a7)]='',renderProducts(''),initializeCategorys();const _0x27ef8c=document[_0x592d5f(0x5b3)](_0x592d5f(0x72b)),_0x542480=_0xf5352b[_0x592d5f(0x673)],_0x5ddfc3=new Date(_0x542480),_0x490b33=_0x5ddfc3[_0x592d5f(0x34f)](),_0x1e21ac=monthsEspanish[_0x5ddfc3[_0x592d5f(0x7b6)]()],_0x40a8de=_0x5ddfc3[_0x592d5f(0x60b)](),_0x34679e=_0x490b33+_0x592d5f(0x394)+_0x1e21ac+'\x20del\x20'+_0x40a8de;_0x27ef8c[_0x592d5f(0x4a7)]=_0x592d5f(0x330)+(_0xf5352b[_0x592d5f(0x4a5)]??'')+_0x592d5f(0x2dc)+myCompany[_0x592d5f(0x44e)]+_0x592d5f(0x23f)+_0xf5352b[_0x592d5f(0x3b7)]+':\x20'+_0xf5352b['setSerie']+'-'+_0xf5352b[_0x592d5f(0x360)]+'\x20emitido\x20el\x20'+_0x34679e+'.',await setOrders(_0x2c0730),apiERPsync();}catch(_0x3ea8c1){_0xf8dc77[_0x592d5f(0x5ab)]=![],hideLoadingModal(),showModalPay(),console[_0x592d5f(0x574)]('Error\x20Correlativo\x20Update',_0x3ea8c1);return;}}async function storeOfflineOperation(_0x30220e,_0x25bf47=0x0){const _0xce664c=_0x28d754;try{const _0x3b9d87=await createCartStore('');if(_0x25bf47==0x0){const {pdfBlob:_0x5e2851,pdfName:_0x1fd4ea}=await generatePdf(_0x30220e,'tk','pdfCanvas',_0xce664c(0x4b7));_0x30220e['pdfBlob']=_0x5e2851;const _0xeb83b5=document[_0xce664c(0x5b3)](_0xce664c(0x788))[_0xce664c(0x4a7)];setLastOperationGlobalData(_0xeb83b5,{'pdfGlobalPayload':_0x30220e,'pdfGlobalBlob':_0x5e2851,'pdfGlobalName':_0x1fd4ea}),!setTipOpeOrders['some'](_0x2f37fe=>_0x2f37fe==_0x30220e['setTipoOperacion'])&&showModal();}const _0x573dfa=_0x3b9d87[_0xce664c(0x5df)](_0xce664c(0x277),_0xce664c(0x579)),_0x36df31=_0x573dfa[_0xce664c(0x36b)](_0xce664c(0x277));_0x36df31[_0xce664c(0x7bc)](_0x30220e),_0x573dfa[_0xce664c(0x47a)]=()=>{const _0x1861e0=_0xce664c;console[_0x1861e0(0x5d6)](_0x1861e0(0x75a)),console[_0x1861e0(0x5d6)](_0x30220e);},_0x573dfa['onerror']=_0x2fa298=>{const _0x41e76f=_0xce664c;console['error'](_0x41e76f(0x333),_0x2fa298[_0x41e76f(0x643)][_0x41e76f(0x574)]);};}catch(_0x275d52){console['error']('Error\x20al\x20procesar\x20la\x20operación:',_0x275d52);}}function getFormattedDate(_0x2a829a){const _0x3b1249=_0x28d754,_0x54ce85=new Date(_0x2a829a);return _0x54ce85[_0x3b1249(0x6f0)]();}function getFormattedTime(_0x2d41cf){const _0x2097fa=_0x28d754,_0x31a13c=new Date(_0x2d41cf);return _0x31a13c[_0x2097fa(0x50a)]();}function getCurrentDateTime(){const _0x22c931=_0x28d754;return new Date()[_0x22c931(0x365)]();}function sanitizeData(_0xf9bfdb,_0x4cdbe8='string'){const _0x1e322b=_0x28d754,_0x1e737b=_0x571e9f=>{const _0x340a87=_0x8473;if(_0x571e9f==null||_0x571e9f=='')return'';return _0x571e9f[_0x340a87(0x3c8)](/[\xC0-\xFF]/g,_0x1b9f9f=>{const _0x1b8ebc={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0x1b8ebc[_0x1b9f9f]||_0x1b9f9f;});},_0x361b47=_0x102f08=>{return parseFloat(_0x102f08)||0x0;},_0x4bdb91=_0x4c3ebc=>{return _0x4c3ebc['map'](_0x5cd219=>{const _0x1858aa=_0x8473;if(typeof _0x5cd219==_0x1858aa(0x3b1)&&_0x5cd219!==null)return sanitizeData(_0x5cd219,_0x4cdbe8);return sanitizeData(_0x5cd219,_0x4cdbe8);});};if(typeof _0xf9bfdb=='object'&&_0xf9bfdb!==null){const _0x40d85b={};for(const _0x1d6de1 in _0xf9bfdb){_0xf9bfdb[_0x1e322b(0x343)](_0x1d6de1)&&(_0x40d85b[_0x1d6de1]=sanitizeData(_0xf9bfdb[_0x1d6de1],_0x4cdbe8));}return _0x40d85b;}if(Array[_0x1e322b(0x69f)](_0xf9bfdb))return _0x4bdb91(_0xf9bfdb);if(_0x4cdbe8==_0x1e322b(0x775)||_0x4cdbe8=='float')return _0x361b47(_0xf9bfdb);return _0x1e737b(_0xf9bfdb);}function getCurrentDate(){const _0x47ac4d=new Date();return _0x47ac4d['toISOString']();}function numeroALetras(_0x25fac0){const _0x1f49d1=_0x28d754,_0x19fcd2=['',_0x1f49d1(0x785),_0x1f49d1(0x6f8),_0x1f49d1(0x224),'CUATRO',_0x1f49d1(0x779),_0x1f49d1(0x7b2),_0x1f49d1(0x4e7),'OCHO',_0x1f49d1(0x76c)],_0x2e3cab=['',_0x1f49d1(0x3df),_0x1f49d1(0x386),_0x1f49d1(0x490),_0x1f49d1(0x28c),_0x1f49d1(0x403),_0x1f49d1(0x719),'SETENTA','OCHENTA','NOVENTA'],_0x5d7750=['',_0x1f49d1(0x716),_0x1f49d1(0x614),_0x1f49d1(0x7b9),_0x1f49d1(0x3c7),_0x1f49d1(0x298),_0x1f49d1(0x2a2),_0x1f49d1(0x464),_0x1f49d1(0x6a4),_0x1f49d1(0x6de)];function _0x43fe1c(_0x48ba59){const _0x51fba7=_0x1f49d1;if(_0x48ba59==0x0)return _0x51fba7(0x489);if(_0x48ba59==0x64)return'CIEN';if(_0x48ba59>=0x1&&_0x48ba59<=0x9)return _0x19fcd2[_0x48ba59];if(_0x48ba59>=0xa&&_0x48ba59<=0x13){const _0x242f69=[_0x51fba7(0x3df),_0x51fba7(0x625),_0x51fba7(0x6e6),_0x51fba7(0x687),_0x51fba7(0x434),_0x51fba7(0x4da),_0x51fba7(0x427),'DIECISIETE',_0x51fba7(0x5db),_0x51fba7(0x3f3)];return _0x242f69[_0x48ba59-0xa];}if(_0x48ba59>=0x14&&_0x48ba59<=0x1d){const _0x13348f=_0x48ba59%0xa;return _0x51fba7(0x30f)+(_0x13348f>0x0?_0x19fcd2[_0x13348f]:'');}if(_0x48ba59>=0x1e&&_0x48ba59<=0x63){const _0xfff631=Math[_0x51fba7(0x730)](_0x48ba59/0xa),_0x6fb7ab=_0x48ba59%0xa;return''+_0x2e3cab[_0xfff631]+(_0x6fb7ab>0x0?_0x51fba7(0x48b)+_0x19fcd2[_0x6fb7ab]:'');}if(_0x48ba59>=0x64&&_0x48ba59<=0x3e7){const _0x27de4b=Math['floor'](_0x48ba59/0x64),_0x2ff4dd=_0x48ba59%0x64;return''+_0x5d7750[_0x27de4b]+(_0x2ff4dd>0x0?'\x20'+_0x43fe1c(_0x2ff4dd):'');}if(_0x48ba59>=0x3e8&&_0x48ba59<=0xf423f){const _0x45065b=Math['floor'](_0x48ba59/0x3e8),_0x3484a2=_0x48ba59%0x3e8;return''+(_0x45065b>0x1?_0x43fe1c(_0x45065b)+_0x51fba7(0x5a8):_0x51fba7(0x1d8))+(_0x3484a2>0x0?'\x20'+_0x43fe1c(_0x3484a2):'');}if(_0x48ba59>=0xf4240&&_0x48ba59<=0x3b9ac9ff){const _0x2600aa=Math[_0x51fba7(0x730)](_0x48ba59/0xf4240),_0x21fd64=_0x48ba59%0xf4240;return''+(_0x2600aa>0x1?_0x43fe1c(_0x2600aa)+_0x51fba7(0x662):_0x51fba7(0x57b))+(_0x21fd64>0x0?'\x20'+_0x43fe1c(_0x21fd64):'');}return'';}function _0x9b1262(_0x45f3aa){const _0x5d5134=_0x1f49d1;return _0x45f3aa>0x0?_0x45f3aa+'/100':_0x5d5134(0x2c0);}const [_0x114dd7,_0x211eb8]=_0x25fac0[_0x1f49d1(0x3ea)](0x2)['split']('.')[_0x1f49d1(0x6f6)](Number),_0x5da586=_0x43fe1c(_0x114dd7),_0x9a8e6c=_0x9b1262(_0x211eb8);return _0x1f49d1(0x478)+_0x5da586+_0x1f49d1(0x790)+_0x9a8e6c;}function formatShiftDate(_0x3e1091){const _0x28bf5e=_0x28d754,_0x1cb1b4=new Date(_0x3e1091);if(isNaN(_0x1cb1b4))return'';const _0x2156d2=new Date(),_0x54784c=_0x2156d2-_0x1cb1b4,_0x28f0f9=Math[_0x28bf5e(0x730)](_0x54784c/0x3e8),_0x19105e=Math[_0x28bf5e(0x730)](_0x54784c/0xea60),_0x44150d=Math['floor'](_0x54784c/0x36ee80),_0x3b2478=Math[_0x28bf5e(0x730)](_0x54784c/0x5265c00);if(_0x28f0f9<0x3c)return _0x28f0f9+_0x28bf5e(0x4aa);else{if(_0x19105e<0x3c)return _0x19105e+_0x28bf5e(0x5e0);else{if(_0x44150d<0x18){const _0x15f39d=Math['floor'](_0x54784c%0x36ee80/0xea60);return _0x44150d+'h\x20'+_0x15f39d+'min';}else{const _0x4ff80a=Math['floor'](_0x54784c%0x5265c00/0x36ee80);return _0x3b2478+'d\x20'+_0x4ff80a+'h';}}}}function generateUUID(){const _0x5a28dd=_0x28d754;return'xxxxxxxxyxxxxxxx'[_0x5a28dd(0x3c8)](/[xy]/g,function(_0x6cc7ee){const _0x13e7b6=_0x5a28dd,_0x15ce07=Math[_0x13e7b6(0x567)]()*0x10|0x0,_0x5984e7=_0x6cc7ee==='x'?_0x15ce07:_0x15ce07&0x3|0x8;return _0x5984e7[_0x13e7b6(0x4dc)](0x10);});}async function generatePdf(_0x2d09ef,_0x39518b='tk',_0x22b376=_0x28d754(0x454),_0x5654e1=_0x28d754(0x4b7),_0x5b3398=0x0){const _0x3812ff=_0x28d754,{PDFDocument:_0x285b0f,rgb:_0x62219}=PDFLib;try{const _0x1b0961=await _0x285b0f[_0x3812ff(0x56c)](),_0x124dd1=window[_0x3812ff(0x285)];_0x1b0961[_0x3812ff(0x5e8)](_0x124dd1);const [_0x651d5c,_0x20faa5]=await Promise[_0x3812ff(0x543)]([cargarFuente(_0x3812ff(0x4ab),_0x1b0961),cargarFuente(_0x3812ff(0x67d),_0x1b0961)]);let _0x1dae62,_0x40e0d1;if(_0x39518b=='tk')_0x1dae62=0xc8,_0x40e0d1=0xbb8;else _0x39518b=='a4'&&(_0x1dae62=0x24e,_0x40e0d1=0x7d0);const _0x1c9fea=await procesarContenido(_0x1b0961,_0x651d5c,_0x20faa5,_0x2d09ef,_0x1dae62,_0x40e0d1,_0x39518b,_0x62219,_0x5b3398);let _0x3a89fa=_0x40e0d1-_0x1c9fea;_0x39518b=='tk'&&(_0x1b0961[_0x3812ff(0x453)](0x0),await procesarContenido(_0x1b0961,_0x651d5c,_0x20faa5,_0x2d09ef,_0x1dae62,_0x3a89fa,_0x39518b,_0x62219,_0x5b3398));_0x39518b=='a4'&&(_0x3a89fa<0x34a&&(_0x3a89fa=0x34a),_0x1b0961[_0x3812ff(0x453)](0x0),await procesarContenido(_0x1b0961,_0x651d5c,_0x20faa5,_0x2d09ef,_0x1dae62,_0x3a89fa,_0x39518b,_0x62219,_0x5b3398));const _0x4baf77=await _0x1b0961['save'](),_0xaf2176=new Blob([_0x4baf77],{'type':_0x3812ff(0x521)}),_0x21539f=parseInt(_0x2d09ef[_0x3812ff(0x6f1)]),_0x3a5247=myCompany[_0x3812ff(0x2f9)]+'-'+String(_0x39518b)['toUpperCase']()+'-'+_0x21539f+'-'+_0x2d09ef[_0x3812ff(0x2b4)]+'-'+_0x2d09ef[_0x3812ff(0x360)]+_0x3812ff(0x2aa),_0x242c86=URL['createObjectURL'](_0xaf2176),_0x420dd2=document[_0x3812ff(0x5b3)](_0x22b376),_0x577f9d=_0x420dd2[_0x3812ff(0x291)]('2d'),_0x17bca9=await pdfjsLib[_0x3812ff(0x304)](_0x242c86)[_0x3812ff(0x5fa)],_0x3d3035=await _0x17bca9[_0x3812ff(0x6cd)](0x1),_0x26c504=_0x3d3035[_0x3812ff(0x4ff)]({'scale':parseFloat(_0x5654e1)});return _0x420dd2[_0x3812ff(0x4ef)]=_0x26c504[_0x3812ff(0x4ef)],_0x420dd2[_0x3812ff(0x627)]=_0x26c504[_0x3812ff(0x627)],_0x577f9d[_0x3812ff(0x5cc)](0x0,0x0,_0x420dd2['width'],_0x420dd2[_0x3812ff(0x627)]),await _0x3d3035[_0x3812ff(0x5f4)]({'canvasContext':_0x577f9d,'viewport':_0x26c504})[_0x3812ff(0x5fa)],URL[_0x3812ff(0x7a9)](_0x242c86),{'pdfBlob':_0xaf2176,'pdfName':_0x3a5247};}catch(_0x43a2b9){ntfShow(_0x43a2b9,0x2,0x1);throw _0x43a2b9;}}async function cargarFuente(_0x426371,_0xb66b18){const _0x6db144=_0x28d754,_0x4afb13=await fetch(_0x426371)[_0x6db144(0x2c1)](_0x1ea6e8=>_0x1ea6e8[_0x6db144(0x2b6)]());return _0xb66b18['embedFont'](_0x4afb13);}async function procesarContenido(_0x51dd86,_0x3787d1,_0x29fa79,_0x592167,_0x595df5,_0x28381f,_0x58dfe3='tk',_0x2ca025,_0xa6a3b8=0x0){const _0x6f1157=_0x28d754,_0xe7dae=_0x51dd86['addPage']([_0x595df5,_0x28381f]),{width:_0x4228a0,height:_0x1fc6b8}=_0xe7dae[_0x6f1157(0x6a7)](),_0x5df838=0xc,_0x261b21=0x4,_0x56bca3=0xa;let _0x33da38=_0x1fc6b8-_0x56bca3,{setLogoUrl:setLogoUrl=myCompany['setCompanyLogo'],setEmpresaRuc:setEmpresaRuc=myCompany[_0x6f1157(0x2f9)],setEmpresaNombre:setEmpresaNombre=myCompany[_0x6f1157(0x34a)],setEmpresaTelefono:setEmpresaTelefono=myCompany['setCompanyPhone'],setEmpresaEmail:setEmpresaEmail=myCompany['setCompanyEmail'],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x6f1157(0x660)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe='apiERP.dev/peru/consultas/cpe/',setDespacho:setDespacho='',setFooter:setFooter=_0x6f1157(0x5a9),setProductos:setProductos=[],..._0x27b9d6}=_0x592167;_0x592167=sanitizeData(_0x592167,'number');const _0x172dcb=_0x27b9d6[_0x6f1157(0x359)],_0x59c858=_0x27b9d6[_0x6f1157(0x7b7)],_0x5363be=_0x27b9d6[_0x6f1157(0x29c)],_0xfc1022=_0x27b9d6[_0x6f1157(0x1c1)],_0x382437=_0x27b9d6[_0x6f1157(0x5cb)];let _0x2bb54b,_0x2bcc21;if(_0x382437==_0x6f1157(0x1ee))_0x2bb54b=_0x6f1157(0x551),_0x2bcc21=_0x6f1157(0x72a);else{if(_0x382437==_0x6f1157(0x527))_0x2bb54b=_0x6f1157(0x580),_0x2bcc21='Mozo';else{if(_0x382437==_0x6f1157(0x51f))_0x2bb54b=_0x6f1157(0x503),_0x2bcc21='Recepcionista';else _0x382437=='chair'&&(_0x2bb54b=_0x6f1157(0x75c),_0x2bcc21='Barbero');}}const _0x361df0=_0x27b9d6[_0x6f1157(0x217)],_0x56f627=_0x27b9d6[_0x6f1157(0x3b7)],_0x53ad0c=_0x27b9d6[_0x6f1157(0x4e9)],_0x46befa=_0x27b9d6[_0x6f1157(0x2d6)],_0x1a78f6=(parseFloat(_0x27b9d6['setDescuentoGlobal_Monto'])||0x0)[_0x6f1157(0x3ea)](0x2),_0x3eb79e=(parseFloat(_0x27b9d6['setMtoDescItems_precio'])||0x0)['toFixed'](0x2),_0x2d75f3=(parseFloat(_0x27b9d6[_0x6f1157(0x457)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x5b066d=(parseFloat(_0x27b9d6[_0x6f1157(0x2a7)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x115c40=(parseFloat(_0x27b9d6[_0x6f1157(0x61a)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x38dc5f=(parseFloat(_0x27b9d6[_0x6f1157(0x320)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x2b7dc2=(parseFloat(_0x27b9d6[_0x6f1157(0x4d7)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x4f4fa6=(parseFloat(_0x27b9d6[_0x6f1157(0x297)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x5e384a=(parseFloat(_0x27b9d6[_0x6f1157(0x31f)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x410187=(parseFloat(_0x27b9d6[_0x6f1157(0x6d8)])||0x0)[_0x6f1157(0x3ea)](0x2),_0x5cb6b6=parseFloat(_0x27b9d6[_0x6f1157(0x51d)])||0x0;let _0x1786e5,_0x2f9cd6,_0x37b9db,_0x1d0995;_0x5cb6b6==0x1&&(_0x1786e5=_0x27b9d6[_0x6f1157(0x3b6)]||'',_0x2f9cd6=_0x27b9d6[_0x6f1157(0x768)]||'',_0x37b9db=_0x27b9d6[_0x6f1157(0x575)]||_0x6f1157(0x222),_0x1d0995=_0x27b9d6['setDetraccionTotal']||_0x6f1157(0x222));const _0x539dfd=parseFloat(_0x27b9d6[_0x6f1157(0x743)])||0x0;let _0x4897c,_0x3e6ec2;_0x539dfd==0x1&&(_0x4897c=_0x27b9d6[_0x6f1157(0x65a)]||'0.00',_0x3e6ec2=_0x27b9d6[_0x6f1157(0x5ec)]||'0.00');const _0x33381c=parseFloat(_0x27b9d6['setPercepcion'])||0x0;let _0x70ff92,_0x59bfaa;_0x33381c==0x1&&(_0x70ff92=_0x27b9d6[_0x6f1157(0x1e8)]||_0x6f1157(0x222),_0x59bfaa=_0x27b9d6[_0x6f1157(0x271)]||_0x6f1157(0x222));const _0x1495ea=getFormattedDate(setFechaHora),_0x84dcbc=getFormattedTime(setFechaHora),_0xc7c01a=myCompany[_0x6f1157(0x502)],_0x2a5dea=parseInt(_0x27b9d6['setConsumo'])||0x0,{contado:_0x406a75,credito:_0x93772e,mixto:_0x49669c}=_0x27b9d6[_0x6f1157(0x411)]||{},_0x33419d=numeroALetras(parseFloat(_0x410187))+'\x20'+_0x46befa[_0x6f1157(0x3e9)](),_0x41b785=_0x6f1157(0x5e6),_0x59a2e0=_0x27b9d6[_0x6f1157(0x3b8)],_0x58f901=_0x27b9d6[_0x6f1157(0x4ce)],_0x2bf686=_0x6f1157(0x1e2),_0x5154b9=_0x27b9d6[_0x6f1157(0x1ed)],_0x1b9828=_0x27b9d6[_0x6f1157(0x50e)],_0x17b88f='Cajero\x20/\x20Vendedor:';let _0x2bdc96,_0x25c5ce;setTipOpeOrders['some'](_0x10582d=>_0x10582d==setTipoOperacion)||setTipOpeSales['some'](_0x4c48d9=>_0x4c48d9==setTipoOperacion)||setTipOpeQuotation[_0x6f1157(0x79e)](_0x45b69a=>_0x45b69a==setTipoOperacion)||setTipOpeShippingGuide[_0x6f1157(0x79e)](_0x57b94a=>_0x57b94a==setTipoOperacion)?(_0x2bdc96=_0x6f1157(0x1cb),_0x25c5ce=0x2):(_0x2bdc96=_0x6f1157(0x52e),_0x25c5ce=0x1);const _0x4c0299=_0x6f1157(0x582),_0x139472='',_0x2c96d0=_0x6f1157(0x522),_0x300949='',_0x3fa728=_0x6f1157(0x744),_0xf40022='',_0x58bdea=_0x6f1157(0x2a3),_0x106dc0='';let _0x2700b7='',_0x44aa55=[];_0x139472!=''&&(_0x2700b7=_0x6f1157(0x738),_0x44aa55=[_0x4c0299+':\x20'+_0x139472,_0x2c96d0+':\x20'+_0x300949,_0x3fa728+':\x20'+_0xf40022,_0x58bdea+':\x20'+_0x106dc0]);const _0x56c483=getUserPermissionApiERP(0x7),_0x128cf8=getUserPermissionApiERP(0x8),_0x3bf394=getUserPermissionApiERP(0x13),_0x287ab6=getUserPermissionApiERP(0x14),_0x86f521=_0x2ca025(0x1,0.35,0x0),_0x1e5896=_0x2ca025(0x1,0x1,0x1),_0x4dd29c=_0x2ca025(0x0,0x0,0x0),_0x1e862c=_0x2ca025(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0x582992=_0x2ca025(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x33da38-=_0x5df838;if(_0x58dfe3=='tk'){const _0x515fc8=(_0x40776f,_0x515f9e,_0x4d591c,_0x503786=0.5,_0xf22389=[0x1,0x3])=>{const _0x104caf=_0x6f1157;let _0x245c9f=_0x40776f,_0x3f1bd6=_0xf22389[0x0],_0x1e4b7e=_0xf22389[0x1];while(_0x245c9f<_0x515f9e){_0xe7dae[_0x104caf(0x7b1)]({'start':{'x':_0x245c9f,'y':_0x4d591c},'end':{'x':_0x245c9f+_0x3f1bd6,'y':_0x4d591c},'thickness':_0x503786}),_0x245c9f+=_0x3f1bd6+_0x1e4b7e;}};function _0x402d12(_0x31fc30,_0x47d956,_0x476834,_0x24be32,_0x58b3bd=_0x6f1157(0x4db)){const _0x2ab772=_0x6f1157,_0x93c040=_0x4228a0-_0x56bca3*0x2,_0x1014a3=_0x24be32+0x2,_0x2b22ee=[],_0x5912b7=_0x45282f=>_0x476834[_0x2ab772(0x6bb)](_0x45282f,_0x24be32);if(_0x31fc30['indexOf']('\x20')==-0x1&&_0x5912b7(_0x31fc30)>_0x93c040){let _0x556577=0x0,_0x4709de='';for(let _0x35ccba=0x0;_0x35ccba<_0x31fc30[_0x2ab772(0x517)];_0x35ccba++){_0x4709de+=_0x31fc30[_0x35ccba];if(_0x5912b7(_0x4709de)>_0x93c040){const _0x3c36b2=_0x4709de[_0x2ab772(0x3a0)](0x0,-0x1);_0x2b22ee['push'](_0x3c36b2),_0x4709de=_0x31fc30[_0x35ccba];}}if(_0x4709de)_0x2b22ee[_0x2ab772(0x48d)](_0x4709de);}else{const _0x4db808=_0x31fc30[_0x2ab772(0x613)]('\x20');let _0x210a2e='';for(let _0x5c64ff=0x0;_0x5c64ff<_0x4db808['length'];_0x5c64ff++){const _0x5c080b=_0x210a2e+(_0x210a2e?'\x20':'')+_0x4db808[_0x5c64ff];_0x5912b7(_0x5c080b)>_0x93c040&&_0x210a2e?(_0x2b22ee[_0x2ab772(0x48d)](_0x210a2e),_0x210a2e=_0x4db808[_0x5c64ff]):_0x210a2e=_0x5c080b;}if(_0x210a2e)_0x2b22ee['push'](_0x210a2e);}return _0x2b22ee[_0x2ab772(0x239)](_0xaf32f0=>{const _0x2b4e03=_0x2ab772,_0x47e6f1=_0x5912b7(_0xaf32f0);let _0x1e1ef1=_0x56bca3;if(_0x58b3bd=='center')_0x1e1ef1=_0x56bca3+(_0x93c040-_0x47e6f1)/0x2;else _0x58b3bd=='right'&&(_0x1e1ef1=_0x56bca3+(_0x93c040-_0x47e6f1));_0xe7dae[_0x2b4e03(0x3b0)](_0xaf32f0,{'x':_0x1e1ef1,'y':_0x47d956,'size':_0x24be32,'font':_0x476834}),_0x47d956-=_0x1014a3;}),_0x47d956;}const _0x30cabf=(_0x18adfd,_0x2fd7aa,_0x16f7e1,_0x5b359b,_0x593091,_0x3c44ce)=>{const _0x70cd0b=_0x6f1157,_0xa45877=(_0x595df5-_0x56bca3*0x2)*0.3,_0x18737b=(_0x595df5-_0x56bca3*0x2)*0.1;_0xe7dae['drawText'](String(_0x18adfd),{'x':_0x56bca3,'y':_0x16f7e1,'size':_0x593091,'font':_0x5b359b}),_0xe7dae['drawText'](':',{'x':_0x56bca3+_0xa45877,'y':_0x16f7e1,'size':_0x593091,'font':_0x5b359b});let _0x101383=_0x3787d1[_0x70cd0b(0x6bb)](_0x2fd7aa,_0x593091),_0x5d94a8=0x1;if(_0x101383>_0x3c44ce){let _0x1c4770=_0x2fd7aa[_0x70cd0b(0x613)]('\x20'),_0x1a207e='',_0x384188=_0x16f7e1;_0x1c4770[_0x70cd0b(0x239)](_0x3e4b11=>{const _0x38bd88=_0x70cd0b;_0x3787d1[_0x38bd88(0x6bb)](_0x1a207e+'\x20'+_0x3e4b11,_0x593091)>_0x3c44ce?(_0xe7dae[_0x38bd88(0x3b0)](_0x1a207e,{'x':_0x56bca3+_0xa45877+_0x18737b,'y':_0x384188,'size':_0x593091,'font':_0x5b359b}),_0x384188-=_0x5df838,_0x5d94a8++,_0x1a207e=_0x3e4b11):_0x1a207e+=(_0x1a207e?'\x20':'')+_0x3e4b11;}),_0xe7dae['drawText'](_0x1a207e,{'x':_0x56bca3+_0xa45877+_0x18737b,'y':_0x384188,'size':_0x593091,'font':_0x5b359b});}else _0xe7dae[_0x70cd0b(0x3b0)](String(_0x2fd7aa),{'x':_0x56bca3+_0xa45877+_0x18737b,'y':_0x16f7e1,'size':_0x593091,'font':_0x5b359b});return _0x16f7e1-_0x5df838*_0x5d94a8;},_0x30e5cf=(_0x3d0f6b,_0x501f8e,_0x20dcc8,_0x1f8626,_0x1be3cb,_0x6b008f,_0x2e238b,_0x1ed151,_0x161b7d=![])=>{const _0x14c88a=_0x6f1157;_0x3d0f6b=_0x3d0f6b['map'](_0x3444a5=>String(_0x3444a5)),_0x501f8e=_0x501f8e['map'](_0xd8b88d=>String(_0xd8b88d));const _0x1e6302=(_0x6b008f-_0x2e238b*0x2)*0.4,_0x30f337=(_0x6b008f-_0x2e238b*0x2)*0.2,_0x26100a=(_0x6b008f-_0x2e238b*0x2)*0.2,_0x499cce=(_0x6b008f-_0x2e238b*0x2)*0.2,_0x4c32bc=(_0x341847,_0x3385c0,_0x3d7926,_0x1e8d0b,_0x2a5f66,_0x15dcc0)=>{const _0xc7e1b9=_0x8473;let _0x5528af=_0x2a5f66[_0xc7e1b9(0x6bb)](_0x341847,_0x15dcc0),_0x436f76=0x1;if(_0x5528af>_0x1e8d0b){let _0x10f801=_0x341847[_0xc7e1b9(0x613)]('\x20'),_0x3aaf55='',_0x46f9aa=_0x3d7926;_0x10f801[_0xc7e1b9(0x239)](_0x5776d4=>{const _0xaf84f2=_0xc7e1b9;_0x2a5f66[_0xaf84f2(0x6bb)](_0x3aaf55+'\x20'+_0x5776d4,_0x15dcc0)>_0x1e8d0b?(_0xe7dae[_0xaf84f2(0x3b0)](_0x3aaf55,{'x':_0x3385c0,'y':_0x46f9aa,'size':_0x15dcc0,'font':_0x2a5f66}),_0x46f9aa-=_0x1ed151,_0x436f76++,_0x3aaf55=_0x5776d4):_0x3aaf55+=(_0x3aaf55?'\x20':'')+_0x5776d4;}),_0xe7dae['drawText'](_0x3aaf55,{'x':_0x3385c0,'y':_0x46f9aa,'size':_0x15dcc0,'font':_0x2a5f66});}else _0xe7dae[_0xc7e1b9(0x3b0)](_0x341847,{'x':_0x3385c0,'y':_0x3d7926,'size':_0x15dcc0,'font':_0x2a5f66});return _0x3d7926-_0x1ed151*_0x436f76;};if(_0x161b7d){_0xe7dae[_0x14c88a(0x3b0)](String(_0x3d0f6b[0x0]),{'x':_0x2e238b,'y':_0x20dcc8,'size':_0x1be3cb,'font':_0x1f8626});const _0x1190df=_0x2e238b+_0x1e6302+(_0x30f337-_0x1f8626[_0x14c88a(0x6bb)](String(_0x3d0f6b[0x1]),_0x1be3cb))/0x2,_0x1b99d1=_0x2e238b+_0x1e6302+_0x30f337+(_0x26100a-_0x1f8626[_0x14c88a(0x6bb)](String(_0x3d0f6b[0x2]),_0x1be3cb))/0x2,_0x46b421=_0x2e238b+_0x1e6302+_0x30f337+_0x26100a+(_0x499cce-_0x1f8626[_0x14c88a(0x6bb)](String(_0x3d0f6b[0x3]),_0x1be3cb));return _0xe7dae['drawText'](String(_0x3d0f6b[0x1]),{'x':_0x1190df,'y':_0x20dcc8,'size':_0x1be3cb,'font':_0x1f8626}),_0xe7dae[_0x14c88a(0x3b0)](String(_0x3d0f6b[0x2]),{'x':_0x1b99d1,'y':_0x20dcc8,'size':_0x1be3cb,'font':_0x1f8626}),_0xe7dae[_0x14c88a(0x3b0)](String(_0x3d0f6b[0x3]),{'x':_0x46b421,'y':_0x20dcc8,'size':_0x1be3cb,'font':_0x1f8626}),_0x20dcc8-_0x1ed151;}else{let _0x25c797=_0x20dcc8;_0x25c797=_0x4c32bc(_0x501f8e[0x0],_0x2e238b,_0x25c797,_0x1e6302,_0x1f8626,_0x1be3cb);const _0x37950c=_0x20dcc8-_0x25c797+_0x1ed151,_0x2e9afd=_0x25c797+(_0x37950c-_0x1ed151)/0x2,_0x52e11=_0x37950c==_0x1ed151,_0x1ae9b2=_0x52e11?_0x2e9afd:_0x2e9afd+_0x1ed151/0x2,_0x4c1a17=_0x2e238b+_0x1e6302+(_0x30f337-_0x1f8626[_0x14c88a(0x6bb)](_0x501f8e[0x1],_0x1be3cb))/0x2,_0x894211=_0x2e238b+_0x1e6302+_0x30f337+(_0x26100a-_0x1f8626['widthOfTextAtSize'](_0x501f8e[0x2],_0x1be3cb))/0x2,_0xbf6ac7=_0x2e238b+_0x1e6302+_0x30f337+_0x26100a+(_0x499cce-_0x1f8626[_0x14c88a(0x6bb)](_0x501f8e[0x3],_0x1be3cb));return _0xe7dae[_0x14c88a(0x3b0)](String(_0x501f8e[0x1]),{'x':_0x4c1a17,'y':_0x1ae9b2,'size':_0x1be3cb,'font':_0x1f8626}),_0xe7dae['drawText'](String(_0x501f8e[0x2]),{'x':_0x894211,'y':_0x1ae9b2,'size':_0x1be3cb,'font':_0x1f8626}),_0xe7dae[_0x14c88a(0x3b0)](String(_0x501f8e[0x3]),{'x':_0xbf6ac7,'y':_0x1ae9b2,'size':_0x1be3cb,'font':_0x1f8626}),_0x25c797-_0x1ed151;}},_0x1b8848=(_0xdf9be7,_0x4d17a3,_0x549752,_0x3fae30,_0x5a5a75)=>{const _0x4d9e4c=_0x6f1157;_0xe7dae[_0x4d9e4c(0x3b0)](String(_0xdf9be7),{'x':_0x56bca3,'y':_0x549752,'size':_0x5a5a75,'font':_0x3fae30});const _0x5df161=_0x595df5-_0x56bca3-_0x3787d1['widthOfTextAtSize'](_0x4d17a3,_0x5a5a75);return _0xe7dae[_0x4d9e4c(0x3b0)](String(_0x4d17a3),{'x':_0x5df161,'y':_0x549752,'size':_0x5a5a75,'font':_0x3fae30}),_0x549752-_0x5df838;};function _0x34a13a(_0x1bc62b,_0x4a6af0,_0x2d37ed,_0x2c84d8,_0x55e6ad,_0x697f0b,_0x46c9c0,_0x3016c3){const _0x3e39d2=_0x6f1157,_0x93b552=_0x46c9c0-0x2*_0x3016c3,_0x2b7859=_0x93b552*0.4,_0x257673=_0x93b552*0.6,_0x27b99c=_0x697f0b*1.2,_0x4a3326=_0x55e6ad===_0x29fa79&&_0x697f0b===0xb;function _0x192c9f(_0x439469,_0x3c5296,_0x3b6a64,_0x56dd68){const _0x5637b3=_0x8473,_0x717d5=_0x439469[_0x5637b3(0x613)]('\x20');let _0x2813fd=[],_0x1445a1='';_0x717d5[_0x5637b3(0x239)](_0x56db25=>{const _0x29ce0f=_0x5637b3,_0x1cd5a4=_0x1445a1?_0x1445a1+'\x20'+_0x56db25:_0x56db25;if(_0x3b6a64[_0x29ce0f(0x6bb)](_0x1cd5a4,_0x56dd68)<=_0x3c5296)_0x1445a1=_0x1cd5a4;else{if(_0x1445a1)_0x2813fd[_0x29ce0f(0x48d)](_0x1445a1);_0x1445a1=_0x56db25;}});if(_0x1445a1)_0x2813fd[_0x5637b3(0x48d)](_0x1445a1);return _0x2813fd;}let _0x3065a5=[];if(_0x4a3326){const _0x518886=_0x4a6af0[_0x3e39d2(0x26c)](/^(.*?)\s*(\([^)]*\))$/);_0x518886?_0x3065a5=[{'quantity':_0x518886[0x1][_0x3e39d2(0x2cd)](),'unit':_0x518886[0x2][_0x3e39d2(0x2cd)]()}]:_0x3065a5=_0x192c9f(_0x4a6af0,_0x2b7859,_0x55e6ad,_0x697f0b);}else _0x3065a5=_0x192c9f(_0x4a6af0,_0x2b7859,_0x55e6ad,_0x697f0b);const _0x5ccdf5=_0x192c9f(_0x2d37ed,_0x257673,_0x55e6ad,_0x697f0b),_0x19792f=Math[_0x3e39d2(0x5b1)](_0x3065a5['length'],_0x5ccdf5[_0x3e39d2(0x517)]),_0x1b962a=_0x3065a5[_0x3e39d2(0x517)]*_0x27b99c,_0x563285=_0x5ccdf5['length']*_0x27b99c,_0x4ae318=(_0x19792f*_0x27b99c-_0x1b962a)/0x2,_0x493f04=(_0x19792f*_0x27b99c-_0x563285)/0x2;return _0x3065a5[_0x3e39d2(0x239)]((_0x1de3e0,_0x35b7d3)=>{const _0x563027=_0x3e39d2,_0xb21425=_0x2c84d8-_0x4ae318-(_0x35b7d3+0x1)*_0x27b99c;let _0x3feac3;if(_0x4a3326&&typeof _0x1de3e0==='object'&&_0x1de3e0[_0x563027(0x1ef)]!==undefined){const _0x4e019c=_0x29fa79[_0x563027(0x6bb)](_0x1de3e0[_0x563027(0x1ef)],0xb),_0x57064a=_0x3787d1['widthOfTextAtSize'](_0x1de3e0[_0x563027(0x1f4)],0x9),_0x1b63b0=0x2,_0x1eb4dd=_0x4e019c+_0x1b63b0+_0x57064a;_0x3feac3=_0x3016c3+(_0x2b7859-_0x1eb4dd)/0x2,_0x1bc62b[_0x563027(0x3b0)](_0x1de3e0[_0x563027(0x1ef)],{'x':_0x3feac3,'y':_0xb21425,'size':0xb,'font':_0x29fa79});const _0x172dac=0x2;_0x1bc62b['drawText'](_0x1de3e0['unit'],{'x':_0x3feac3+_0x4e019c+_0x1b63b0,'y':_0xb21425+(0xb-0x9)-_0x172dac,'size':0x9,'font':_0x3787d1});}else{const _0x36343b=_0x55e6ad[_0x563027(0x6bb)](_0x1de3e0,_0x697f0b);_0x3feac3=_0x3016c3+(_0x2b7859-_0x36343b)/0x2,_0x1bc62b[_0x563027(0x3b0)](_0x1de3e0,{'x':_0x3feac3,'y':_0xb21425,'size':_0x697f0b,'font':_0x55e6ad});}}),_0x5ccdf5[_0x3e39d2(0x239)]((_0x23bfad,_0x18e322)=>{const _0x33d44c=_0x3e39d2,_0x56640b=_0x2c84d8-_0x493f04-(_0x18e322+0x1)*_0x27b99c;let _0x153fa3;if(_0x4a3326)_0x153fa3=_0x3016c3+_0x2b7859+0x5;else{const _0x14dbd3=_0x55e6ad[_0x33d44c(0x6bb)](_0x23bfad,_0x697f0b);_0x153fa3=_0x3016c3+_0x2b7859+(_0x257673-_0x14dbd3)/0x2;}_0x1bc62b[_0x33d44c(0x3b0)](_0x23bfad,{'x':_0x153fa3,'y':_0x56640b,'size':_0x697f0b,'font':_0x55e6ad});}),_0x2c84d8-_0x19792f*_0x27b99c;}function _0x3099b8(_0x5866fa,_0x2f4316,_0x281aa2,_0xce25f5){const _0x1acd64=_0x6f1157,_0x4940d3=_0x5866fa[_0x1acd64(0x613)]('\x20');let _0x16ef6b=[],_0x516357='';_0x4940d3[_0x1acd64(0x239)](_0x40eb92=>{const _0x27fb9d=_0x1acd64,_0x33fd27=_0x516357?_0x516357+'\x20'+_0x40eb92:_0x40eb92;if(_0x281aa2['widthOfTextAtSize'](_0x33fd27,_0xce25f5)<=_0x2f4316)_0x516357=_0x33fd27;else{if(_0x516357)_0x16ef6b[_0x27fb9d(0x48d)](_0x516357);_0x516357=_0x40eb92;}});if(_0x516357)_0x16ef6b[_0x1acd64(0x48d)](_0x516357);return _0x16ef6b;}if(setTipOpeSales[_0x6f1157(0x79e)](_0x5c75da=>_0x5c75da==setTipoOperacion)||setTipOpePurchases[_0x6f1157(0x79e)](_0x73e2cf=>_0x73e2cf==setTipoOperacion)||setTipOpeQuotation['some'](_0x328417=>_0x328417==setTipoOperacion)||setTipOpePurchaseOrder[_0x6f1157(0x79e)](_0x26547b=>_0x26547b==setTipoOperacion)||setTipOpeShippingGuide[_0x6f1157(0x79e)](_0x27a68c=>_0x27a68c==setTipoOperacion)||_0xa6a3b8==0x1){const _0x143067=parseInt(getUserPermissionApiERP(0x17));if(_0xa6a3b8==0x1&&_0x143067==0x1){if(setLogoUrl){const _0x4c2648=setLogoUrl[_0x6f1157(0x613)](',')[0x1],_0x6f4c97=Uint8Array[_0x6f1157(0x4fb)](atob(_0x4c2648),_0x59a158=>_0x59a158[_0x6f1157(0x5a7)](0x0));let _0x1ac39d;try{_0x1ac39d=await _0x51dd86['embedPng'](_0x6f4c97);}catch(_0x432dc4){try{_0x1ac39d=await _0x51dd86[_0x6f1157(0x292)](_0x6f4c97);}catch(_0x5c880f){throw new Error(_0x6f1157(0x5f6));}}const _0x84c0cf=_0x595df5*0.5,_0x2e942a=_0x1ac39d['width'],_0x5b0482=_0x84c0cf/_0x2e942a,_0x38c485=_0x1ac39d['scale'](_0x5b0482),_0x45ddff=(_0x595df5-_0x38c485[_0x6f1157(0x4ef)])/0x2,_0x179c91=_0x33da38-_0x38c485['height'];_0xe7dae[_0x6f1157(0x646)](_0x1ac39d,{'x':_0x45ddff,'y':_0x179c91,'width':_0x38c485[_0x6f1157(0x4ef)],'height':_0x38c485[_0x6f1157(0x627)]}),_0x33da38=_0x179c91;}}if(_0xa6a3b8!=0x1){if(setLogoUrl){const _0x88af55=setLogoUrl[_0x6f1157(0x613)](',')[0x1],_0x3f278e=Uint8Array[_0x6f1157(0x4fb)](atob(_0x88af55),_0x34f728=>_0x34f728['charCodeAt'](0x0));let _0x472f39;try{_0x472f39=await _0x51dd86[_0x6f1157(0x756)](_0x3f278e);}catch(_0x4a4ac7){try{_0x472f39=await _0x51dd86['embedJpg'](_0x3f278e);}catch(_0x2b780b){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x3b45f9=_0x595df5*0.5,_0x388870=_0x472f39[_0x6f1157(0x4ef)],_0x173a01=_0x3b45f9/_0x388870,_0x265f0d=_0x472f39[_0x6f1157(0x24d)](_0x173a01),_0x21cf2c=(_0x595df5-_0x265f0d[_0x6f1157(0x4ef)])/0x2,_0x420134=_0x33da38-_0x265f0d[_0x6f1157(0x627)];_0xe7dae[_0x6f1157(0x646)](_0x472f39,{'x':_0x21cf2c,'y':_0x420134,'width':_0x265f0d[_0x6f1157(0x4ef)],'height':_0x265f0d[_0x6f1157(0x627)]}),_0x33da38=_0x420134-_0x5df838-0x5;}setEmpresaNombre&&(_0x33da38=_0x402d12(setEmpresaNombre,_0x33da38,_0x29fa79,0xb,'center')),_0x172dcb&&(_0x33da38=_0x402d12(_0x172dcb,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d))),setEmpresaEmail&&(_0x33da38=_0x402d12(setEmpresaEmail,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d))),setEmpresaTelefono&&(_0x33da38=_0x402d12(setEmpresaTelefono,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d))),setEmpresaSitioWeb&&(_0x33da38=_0x402d12(setEmpresaSitioWeb,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d)));}_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;if(setEmpresaRuc){const _0x580d89=_0x3787d1[_0x6f1157(0x6bb)](_0xc7c01a+':\x20'+setEmpresaRuc,0xb),_0x3ea74a=(_0x595df5-_0x580d89)/0x2;_0xe7dae['drawText'](_0xc7c01a+':\x20'+setEmpresaRuc,{'x':_0x3ea74a,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=0x9;}_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;if(_0xa6a3b8==0x1){const _0x3c8bc4=_0x3787d1[_0x6f1157(0x6bb)](_0x6f1157(0x777),0xb),_0x4bfbc9=(_0x595df5-_0x3c8bc4)/0x2;_0xe7dae['drawText'](_0x6f1157(0x777),{'x':_0x4bfbc9,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=0x9;}else{const _0x294a6f=_0x3787d1[_0x6f1157(0x6bb)](_0x56f627[_0x6f1157(0x3e9)](),0xb),_0x50daea=(_0x595df5-_0x294a6f)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x56f627[_0x6f1157(0x3e9)](),{'x':_0x50daea,'y':_0x33da38,'size':0xb,'font':_0x29fa79});if(setSerie&&setCorrelativo){_0x33da38-=_0x5df838;const _0x25fa91=_0x3787d1[_0x6f1157(0x6bb)](setSerie[_0x6f1157(0x3e9)]()+'\x20-\x20'+setCorrelativo,0xb),_0x428c3a=(_0x595df5-_0x25fa91)/0x2;_0xe7dae[_0x6f1157(0x3b0)](setSerie[_0x6f1157(0x3e9)]()+_0x6f1157(0x231)+setCorrelativo,{'x':_0x428c3a,'y':_0x33da38,'size':0xb,'font':_0x29fa79});}_0x33da38-=0x9;}_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;if(_0xa6a3b8==0x1){const _0x57429e=_0x3787d1[_0x6f1157(0x6bb)](_0x361df0,0xb),_0x346713=(_0x595df5-_0x57429e)/0x2;_0xe7dae['drawText'](_0x361df0,{'x':_0x346713,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=0x9,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;}const _0x33bdfd=(_0x595df5-_0x56bca3*0x2)*0.6;_0xa6a3b8!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x33da38=_0x30cabf(setClienteTipoDoc,setClienteNumDoc,_0x33da38,_0x3787d1,0x9,_0x33bdfd)),setClienteDenominacion&&(_0x33da38=_0x30cabf(_0x2bdc96,setClienteDenominacion,_0x33da38,_0x3787d1,0x9,_0x33bdfd)),setClienteDireccion&&(_0x33da38=_0x30cabf(_0x6f1157(0x5da),setClienteDireccion,_0x33da38,_0x3787d1,0x9,_0x33bdfd)),_0x59c858&&(_0x33da38=_0x30cabf(_0x6f1157(0x44d),_0x59c858,_0x33da38,_0x3787d1,0x9,_0x33bdfd)),_0x5363be&&(_0x33da38=_0x30cabf(_0x6f1157(0x597),_0x5363be,_0x33da38,_0x3787d1,0x9,_0x33bdfd)));_0x1495ea&&(_0x33da38=_0x30cabf(_0x6f1157(0x6a0),_0x1495ea,_0x33da38,_0x3787d1,0x9,_0x33bdfd));_0x84dcbc&&(_0x33da38=_0x30cabf(_0x6f1157(0x6da),_0x84dcbc,_0x33da38,_0x3787d1,0x9,_0x33bdfd));_0xa6a3b8==0x1&&(_0x33da38=_0x30cabf(_0x2bb54b,_0xfc1022,_0x33da38,_0x3787d1,0x9,_0x33bdfd),_0x33da38=_0x30cabf(_0x2bcc21,_0x1b9828,_0x33da38,_0x3787d1,0x9,_0x33bdfd));_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=_0x5df838;const _0x508801=[_0x6f1157(0x4b5),'CANT','PRECIO',_0x6f1157(0x7b5)];_0x33da38=_0x30e5cf(_0x508801,[],_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0x8,!![]),_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=_0x5df838;if(_0x2a5dea==0x1){const _0x46f713=[_0x6f1157(0x40d),_0x6f1157(0x3ec),parseFloat(_0x410187)[_0x6f1157(0x3ea)](0x2),parseFloat(_0x410187)[_0x6f1157(0x3ea)](0x2)];_0x33da38=_0x30e5cf([],_0x46f713,_0x33da38,_0x3787d1,0x7,_0x595df5,_0x56bca3,0xa,![]),_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38+_0x5df838);}else setProductos['forEach']((_0xf6010d,_0x13d167)=>{const _0x82877d=_0x6f1157;let {setDescripcion:_0x38ffc8,setCantidad:_0x304d90,setMtoPrecioUnitario:_0x438b3a,setTotal:_0x5ade1d,setDescuento:_0x3fd1fe,setMtoPrecioUnitario_final:_0x2faea8,setUnidad:_0x152a42,setTipAfeIgv:_0x19d968,setNotas:_0x51d569,setItemDescription:_0x334756,setMarca:_0xc54b44}=_0xf6010d;_0x3fd1fe[_0x82877d(0x296)]>0x0&&(_0x38ffc8+='\x20('+_0x3fd1fe[_0x82877d(0x296)]+_0x82877d(0x368)+_0x53ad0c+parseFloat(_0x2faea8)[_0x82877d(0x3ea)](0x2)+')');(setTipAfeImpGravadosGrat[_0x82877d(0x79e)](_0x1223c8=>_0x1223c8==_0x19d968)||setTipAfeImpInafectosGrat['some'](_0x1b15cb=>_0x1b15cb==_0x19d968)||setTipAfeImpExoneradosGrat[_0x82877d(0x79e)](_0x540993=>_0x540993==_0x19d968))&&(_0x438b3a=_0x2faea8,setTipAfeImpGravadosGrat[_0x82877d(0x79e)](_0x1986a0=>_0x1986a0==_0x19d968)&&(_0x38ffc8+=_0x82877d(0x324)),setTipAfeImpExoneradosGrat[_0x82877d(0x79e)](_0x4497d2=>_0x4497d2==_0x19d968)&&(_0x38ffc8+=_0x82877d(0x5f9)),setTipAfeImpInafectosGrat['some'](_0x75702a=>_0x75702a==_0x19d968)&&(_0x38ffc8+='\x20(Inafecto\x20Gratuito)'));let _0x20e3b5=products['find'](_0x2eb7ce=>_0x2eb7ce['id']==_0xf6010d['setIdProducto']);_0x56c483==0x1&&_0x20e3b5&&_0x20e3b5[_0x82877d(0x650)]&&(_0x38ffc8+='\x20|\x20'+_0x20e3b5[_0x82877d(0x650)]);_0x128cf8==0x1&&_0x20e3b5&&_0x20e3b5[_0x82877d(0x68f)]&&(_0x38ffc8+=_0x82877d(0x499)+_0x20e3b5[_0x82877d(0x68f)]);_0x304d90+='\x20('+_0x152a42+')';const _0xebc985=[_0x38ffc8,_0x304d90,parseFloat(_0x438b3a)[_0x82877d(0x3ea)](0x2),_0x5ade1d[_0x82877d(0x3ea)](0x2)];_0x33da38=_0x30e5cf([],_0xebc985,_0x33da38,_0x3787d1,0x7,_0x595df5,_0x56bca3,0xa,![]);if(_0x287ab6==0x1&&_0x334756!=''){const _0x46b4fd=_0x51d569[_0x82877d(0x2cd)]()?'\x0a':'';_0x51d569+=_0x46b4fd+_0x82877d(0x476)+_0x334756;}if(_0x3bf394==0x1&&_0xc54b44!=''){const _0x5f23bd=_0x51d569[_0x82877d(0x2cd)]()?'\x0a':'';_0x51d569+=_0x5f23bd+'Marca:\x20'+_0xc54b44;}const _0x4784c1=_0x595df5-0x2*_0x56bca3,_0x575718=_0x4784c1*0.4;if(_0x51d569){const _0x349109=0x7,_0x5e5b63=_0x56bca3,_0x2986a7=_0x575718,_0x39ba28=_0x349109*1.2,_0x3d5193=_0x51d569[_0x82877d(0x613)](/\r?\n/);let _0x2dfd43=[];_0x3d5193[_0x82877d(0x239)](_0x472030=>{const _0x59ddea=_0x3099b8('*\x20'+_0x472030,_0x2986a7,_0x3787d1,_0x349109);_0x2dfd43=_0x2dfd43['concat'](_0x59ddea);}),_0x2dfd43[_0x82877d(0x239)]((_0x1f4aec,_0x159de7)=>{const _0x2110b3=_0x82877d,_0x3fbb01=_0x33da38+0xf-(_0x159de7+0x1)*_0x39ba28;_0xe7dae[_0x2110b3(0x3b0)](_0x1f4aec,{'x':_0x5e5b63,'y':_0x3fbb01,'size':_0x349109,'font':_0x3787d1});}),_0x33da38-=_0x2dfd43[_0x82877d(0x517)]*_0x39ba28+0x5;}_0x515fc8(_0x56bca3,_0x595df5-_0x56bca3,_0x33da38+_0x5df838);});_0x33da38-=0x5;parseFloat(_0x1a78f6)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x793),_0x53ad0c+'\x20'+_0x1a78f6,_0x33da38,_0x3787d1,0x7));parseFloat(_0x3eb79e)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x661),_0x53ad0c+'\x20'+_0x3eb79e,_0x33da38,_0x3787d1,0x7));!setTipOpeExo[_0x6f1157(0x79e)](_0x162ab9=>_0x162ab9==setTipoOperacion)&&_0xa6a3b8!=0x1&&(parseFloat(_0x2d75f3)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x36c),_0x53ad0c+'\x20'+_0x2d75f3,_0x33da38,_0x3787d1,0x7)),parseFloat(_0x5b066d)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x23d),_0x53ad0c+'\x20'+_0x5b066d,_0x33da38,_0x3787d1,0x7)),parseFloat(_0x115c40)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x28e),_0x53ad0c+'\x20'+_0x115c40,_0x33da38,_0x3787d1,0x7)),parseFloat(_0x38dc5f)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x302),_0x53ad0c+'\x20'+_0x38dc5f,_0x33da38,_0x3787d1,0x7)),parseFloat(_0x5e384a)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x400),_0x53ad0c+'\x20'+_0x5e384a,_0x33da38,_0x3787d1,0x7)),_0x33da38=_0x1b8848('SUBTOTAL',_0x53ad0c+'\x20'+_0x2b7dc2,_0x33da38,_0x3787d1,0x7),_0x33da38=_0x1b8848(_0x6f1157(0x310),_0x53ad0c+'\x20'+_0x4f4fa6,_0x33da38,_0x3787d1,0x7));_0x33da38=_0x1b8848(_0x6f1157(0x37e),_0x53ad0c+'\x20'+_0x410187,_0x33da38,_0x29fa79,0x8);if(_0xa6a3b8!=0x1){if(_0x5cb6b6==0x1){_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;const _0x42e6a2='1001\x20Operación\x20Sujeta\x20a\x20Detracción',_0x4be513=_0x3787d1[_0x6f1157(0x6bb)](_0x42e6a2,0x8),_0x5321af=(_0x595df5-_0x4be513)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x42e6a2,{'x':_0x5321af,'y':_0x33da38,'size':0x8,'font':_0x29fa79}),_0x33da38-=_0x5df838+0x5,_0x33da38=_0x402d12('Bien\x20o\x20Servicio:\x20'+_0x1786e5+'\x20'+_0x2f9cd6,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d)),_0x33da38-=0x5,_0x33da38=_0x1b8848(_0x6f1157(0x6cc)+_0x37b9db+'%)',_0x53ad0c+'\x20'+_0x1d0995,_0x33da38,_0x3787d1,0x7);}_0x539dfd==0x1&&(_0x33da38=_0x1b8848(_0x6f1157(0x520)+_0x4897c+'%)',_0x53ad0c+'\x20'+_0x3e6ec2,_0x33da38,_0x3787d1,0x7));_0x33381c==0x1&&(_0x33da38=_0x1b8848(_0x6f1157(0x4f2)+_0x70ff92+'%)',_0x53ad0c+'\x20'+_0x59bfaa,_0x33da38,_0x3787d1,0x7));if(_0x406a75&&_0x406a75[_0x6f1157(0x692)]==!![]||_0x49669c&&_0x49669c[_0x6f1157(0x692)]==!![]){_0x33da38-=_0x5df838,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38+_0x5df838),_0x33da38=_0x402d12(_0x6f1157(0x2bd),_0x33da38,_0x3787d1,0x7),_0x33da38-=0x5;for(let _0x353b1b in _0x406a75['data']){const _0x4b216a=_0x406a75['data'][_0x353b1b];if(_0x4b216a&&typeof _0x4b216a==_0x6f1157(0x3b1)&&_0x6f1157(0x219)in _0x4b216a){const _0x324ba4=parseFloat(_0x4b216a[_0x6f1157(0x5a1)]);if(_0x324ba4>0x0){_0x33da38=_0x1b8848(_0x353b1b['toUpperCase'](),_0x53ad0c+'\x20'+_0x324ba4[_0x6f1157(0x3ea)](0x2),_0x33da38,_0x3787d1,0x7);if(_0x6f1157(0x568)in _0x4b216a&&_0x6f1157(0x734)in _0x4b216a){const _0x3087ca=_0x4b216a[_0x6f1157(0x568)],_0x66a56a=parseFloat(_0x4b216a['total_comision']);_0x3087ca!==undefined&&_0x66a56a!==undefined&&(_0x33da38=_0x1b8848(_0x6f1157(0x6a9)+_0x3087ca+'%)',_0x53ad0c+'\x20'+_0x66a56a[_0x6f1157(0x3ea)](0x2),_0x33da38,_0x3787d1,0x7));}if(_0x4b216a['banco']&&_0x4b216a[_0x6f1157(0x763)]!='0'){const _0x3b586d=myCompany[_0x6f1157(0x34b)]['find'](_0x20aa87=>_0x20aa87['setBankId']==_0x4b216a[_0x6f1157(0x763)]);_0x3b586d&&(_0x33da38=_0x1b8848(_0x6f1157(0x62d)+_0x3b586d[_0x6f1157(0x5bc)],'',_0x33da38,_0x3787d1,0x7));}_0x4b216a['nro_operacion']&&(_0x33da38=_0x1b8848(_0x6f1157(0x26b)+_0x4b216a[_0x6f1157(0x6c3)],'',_0x33da38,_0x3787d1,0x7));}}}const _0xbf341a=_0x406a75[_0x6f1157(0x257)][_0x6f1157(0x1d1)];parseFloat(_0xbf341a)>0x0&&(_0x33da38=_0x1b8848(_0x6f1157(0x726),_0x53ad0c+'\x20'+_0xbf341a,_0x33da38,_0x3787d1,0x7));}if(_0x93772e&&_0x93772e[_0x6f1157(0x692)]==!![]||_0x49669c&&_0x49669c[_0x6f1157(0x692)]==!![]){if(Array[_0x6f1157(0x69f)](_0x93772e[_0x6f1157(0x257)])&&_0x93772e[_0x6f1157(0x257)][_0x6f1157(0x517)]>0x0){_0x33da38-=_0x5df838,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38+_0x5df838),_0x33da38=_0x402d12(_0x6f1157(0x672),_0x33da38,_0x3787d1,0x7),_0x33da38-=0x5;let _0x1e8e33;_0x93772e['status']==!![]?_0x1e8e33=parseFloat(_0x410187):_0x1e8e33=_0x406a75['data'][_0x6f1157(0x22b)],_0x33da38=_0x1b8848(_0x6f1157(0x6bd),_0x53ad0c+'\x20'+_0x1e8e33,_0x33da38,_0x3787d1,0x7),_0x33da38=_0x1b8848('Nº\x20de\x20cuotas',_0x93772e[_0x6f1157(0x257)][_0x6f1157(0x517)]+_0x6f1157(0x43f),_0x33da38,_0x3787d1,0x7),_0x33da38=_0x402d12('Cronograma\x20de\x20Pagos',_0x33da38,_0x3787d1,0x7),_0x33da38-=0x5,_0x93772e[_0x6f1157(0x257)]['forEach'](_0x31e96a=>{const _0x5ccb9e=_0x6f1157;_0x33da38=_0x1b8848(_0x5ccb9e(0x519)+_0x31e96a[_0x5ccb9e(0x226)],_0x31e96a[_0x5ccb9e(0x3e7)]+_0x5ccb9e(0x78e)+parseFloat(_0x31e96a[_0x5ccb9e(0x219)])[_0x5ccb9e(0x3ea)](0x2),_0x33da38,_0x3787d1,0x7);});}}}_0x33da38-=_0x5df838,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38+_0x5df838),_0x33da38-=0x5;_0x33419d&&(_0x33da38=_0x402d12(_0x33419d,_0x33da38,_0x29fa79,0x8,_0x6f1157(0x32d)));if(_0xa6a3b8!=0x1){const _0x18959a=_0x6f1157(0x62c);if(setObservacion){_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;const _0x56677d=_0x3787d1[_0x6f1157(0x6bb)](_0x18959a,0x8),_0x4a5dec=(_0x595df5-_0x56677d)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x18959a,{'x':_0x4a5dec,'y':_0x33da38,'size':0x8,'font':_0x29fa79}),_0x33da38-=_0x5df838,_0x33da38=_0x402d12(setObservacion,_0x33da38,_0x3787d1,0x8,'center');}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;const _0x3116a4='AUTORIZADO\x20MEDIANTE',_0x159a66=_0x3787d1[_0x6f1157(0x6bb)](_0x3116a4,0x7),_0x40c2b1=(_0x595df5-_0x159a66)/0x2;_0xe7dae['drawText'](_0x3116a4,{'x':_0x40c2b1,'y':_0x33da38,'size':0x7,'font':_0x3787d1}),_0x33da38-=0x9;const _0x57a22a=_0x6f1157(0x642),_0x65928b=_0x3787d1[_0x6f1157(0x6bb)](_0x57a22a,0x7),_0x169af0=(_0x595df5-_0x65928b)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x57a22a,{'x':_0x169af0,'y':_0x33da38,'size':0x7,'font':_0x3787d1}),_0x33da38-=0x9;const _0x5e61ff=_0x6f1157(0x5c2),_0xc80394=_0x3787d1['widthOfTextAtSize'](_0x5e61ff,0x7),_0x20ebed=(_0x595df5-_0xc80394)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x5e61ff,{'x':_0x20ebed,'y':_0x33da38,'size':0x7,'font':_0x3787d1}),_0x33da38-=0x9;const _0x2096f4=_0x6f1157(0x622),_0x4c9251=_0x3787d1[_0x6f1157(0x6bb)](_0x2096f4,0x7),_0x183066=(_0x595df5-_0x4c9251)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x2096f4,{'x':_0x183066,'y':_0x33da38,'size':0x7,'font':_0x3787d1}),_0x33da38-=0x9;const _0x2994ce=_0x6f1157(0x241),_0x5f10e9=_0x3787d1[_0x6f1157(0x6bb)](_0x2994ce,0x7),_0xad7333=(_0x595df5-_0x5f10e9)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x2994ce,{'x':_0xad7333,'y':_0x33da38,'size':0x7,'font':_0x3787d1}),_0x33da38-=0x9;const _0x216bca=setUrlConsultasCpe,_0x2315ea=_0x3787d1['widthOfTextAtSize'](_0x216bca,0x7),_0x431386=(_0x595df5-_0x2315ea)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x216bca,{'x':_0x431386,'y':_0x33da38,'size':0x7,'font':_0x29fa79}),_0x33da38-=0x9;const _0x4628ce=[setEmpresaRuc,setSerie,setCorrelativo,_0x2d75f3>0x0?_0x2d75f3:null,_0x5b066d>0x0?_0x5b066d:null,_0x115c40>0x0?_0x115c40:null,_0x38dc5f>0x0?_0x38dc5f:null,_0x4f4fa6>0x0?_0x4f4fa6:null,_0x410187>0x0?_0x410187:null,setClienteNumDoc],_0x33c13a=_0x4628ce[_0x6f1157(0x1fc)](_0x2eae48=>_0x2eae48!==null)[_0x6f1157(0x711)]('|'),_0x48ee76=document[_0x6f1157(0x57a)](_0x6f1157(0x35d)),_0x44d008=new QRCode(_0x48ee76,{'text':_0x33c13a,'width':0x80,'height':0x80,'colorDark':_0x6f1157(0x5f5),'colorLight':_0x6f1157(0x2b3),'correctLevel':QRCode[_0x6f1157(0x54a)]['H']});await new Promise(_0x4cc3c2=>setTimeout(_0x4cc3c2,0x1f4));const _0x5117e8=_0x48ee76[_0x6f1157(0x794)](_0x6f1157(0x40b)),_0x13b05c=_0x5117e8['toDataURL'](_0x6f1157(0x20a)),_0x486487=atob(_0x13b05c[_0x6f1157(0x613)](',')[0x1]),_0x43cbaa=Uint8Array['from'](_0x486487,_0x52721a=>_0x52721a[_0x6f1157(0x5a7)](0x0)),_0x715eaf=await _0x51dd86[_0x6f1157(0x756)](_0x43cbaa),_0x2ffa5c=_0x715eaf[_0x6f1157(0x24d)](0.6),_0x17cfab=(_0x595df5-_0x2ffa5c[_0x6f1157(0x4ef)])/0x2,_0x4cfd7a=_0x33da38-_0x2ffa5c[_0x6f1157(0x627)];_0xe7dae['drawImage'](_0x715eaf,{'x':_0x17cfab,'y':_0x4cfd7a,'width':_0x2ffa5c[_0x6f1157(0x4ef)],'height':_0x2ffa5c[_0x6f1157(0x627)]}),_0x33da38=_0x4cfd7a-_0x5df838;}}_0xa6a3b8==0x1&&(_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838,_0x33da38=_0x30cabf(_0x6f1157(0x2af),_0x6f1157(0x6fd),_0x33da38,_0x3787d1,0x9,_0x33bdfd),_0x33da38=_0x30cabf(_0x6f1157(0x56d),'................................................',_0x33da38,_0x3787d1,0x9,_0x33bdfd),_0x33da38=_0x30cabf('Dirección','................................................',_0x33da38,_0x3787d1,0x9,_0x33bdfd),_0x33da38-=0x5),_0xa6a3b8!=0x1&&(setTipOpeSales[_0x6f1157(0x79e)](_0x49c572=>_0x49c572==setTipoOperacion)&&(_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838,_0x59a2e0!=_0x5154b9?(_0x33da38=_0x402d12(_0x2bf686,_0x33da38,_0x29fa79,0x8,_0x6f1157(0x32d)),_0x33da38=_0x402d12(_0x1b9828,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d)),_0x33da38=_0x402d12(_0x41b785,_0x33da38,_0x29fa79,0x8,'center'),_0x33da38=_0x402d12(_0x58f901,_0x33da38,_0x3787d1,0x8,'center')):(_0x33da38=_0x402d12(_0x17b88f,_0x33da38,_0x29fa79,0x8,_0x6f1157(0x32d)),_0x33da38=_0x402d12(_0x58f901,_0x33da38,_0x3787d1,0x8,_0x6f1157(0x32d)))),(setTipOpeQuotation[_0x6f1157(0x79e)](_0x6c8819=>_0x6c8819==setTipoOperacion)||setTipOpePurchaseOrder[_0x6f1157(0x79e)](_0x40ba56=>_0x40ba56==setTipoOperacion)||setTipOpeShippingGuide[_0x6f1157(0x79e)](_0x33c35c=>_0x33c35c==setTipoOperacion))&&(_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838,_0x33da38=_0x402d12(_0x2bf686,_0x33da38,_0x29fa79,0x8,_0x6f1157(0x32d)),_0x33da38=_0x402d12(_0x1b9828,_0x33da38,_0x3787d1,0x8,'center')),setFooter&&setTipOpeSales[_0x6f1157(0x79e)](_0x5e910d=>_0x5e910d==setTipoOperacion)&&(_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838,_0x33da38=_0x402d12(setFooter,_0x33da38,_0x29fa79,0x8,_0x6f1157(0x32d))));}else{if(setTipOpeOrders[_0x6f1157(0x79e)](_0x557ce9=>_0x557ce9==setTipoOperacion)){if(setLogoUrl){const _0x2be444=setLogoUrl[_0x6f1157(0x613)](',')[0x1],_0x3dabe4=Uint8Array[_0x6f1157(0x4fb)](atob(_0x2be444),_0x1316a1=>_0x1316a1[_0x6f1157(0x5a7)](0x0));let _0x4c4fde;try{_0x4c4fde=await _0x51dd86[_0x6f1157(0x756)](_0x3dabe4);}catch(_0x2ae17b){try{_0x4c4fde=await _0x51dd86[_0x6f1157(0x292)](_0x3dabe4);}catch(_0xbae408){throw new Error(_0x6f1157(0x5f6));}}const _0x66ecf5=_0x595df5*0.5,_0x505a05=_0x4c4fde[_0x6f1157(0x4ef)],_0x1a52c9=_0x66ecf5/_0x505a05,_0x20d7d4=_0x4c4fde[_0x6f1157(0x24d)](_0x1a52c9),_0x15eed1=(_0x595df5-_0x20d7d4[_0x6f1157(0x4ef)])/0x2,_0x5bdf21=_0x33da38-_0x20d7d4['height'];_0xe7dae['drawImage'](_0x4c4fde,{'x':_0x15eed1,'y':_0x5bdf21,'width':_0x20d7d4[_0x6f1157(0x4ef)],'height':_0x20d7d4[_0x6f1157(0x627)]}),_0x33da38=_0x5bdf21;}_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;const _0x45c0d3=_0x3787d1['widthOfTextAtSize'](_0x56f627[_0x6f1157(0x3e9)]()+_0x6f1157(0x231)+setSerie['toUpperCase'](),0xb),_0x4026e4=(_0x595df5-_0x45c0d3)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x56f627[_0x6f1157(0x3e9)]()+_0x6f1157(0x231)+setSerie[_0x6f1157(0x3e9)](),{'x':_0x4026e4,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=_0x5df838;const _0x16b157=_0x3787d1[_0x6f1157(0x6bb)](_0x6f1157(0x559)+setCorrelativo,0xb),_0x825765=(_0x595df5-_0x16b157)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x6f1157(0x559)+setCorrelativo,{'x':_0x825765,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=0x9,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5+_0x5df838;const _0x50c533=_0x3787d1[_0x6f1157(0x6bb)](_0x361df0+_0x6f1157(0x231)+_0xfc1022,0xb),_0x410a43=(_0x595df5-_0x50c533)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x361df0+_0x6f1157(0x231)+_0xfc1022,{'x':_0x410a43,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=_0x5df838;const _0x4715ee=_0x3787d1[_0x6f1157(0x6bb)](_0x6f1157(0x4d6)+_0x1b9828,0xb),_0x12b57=(_0x595df5-_0x4715ee)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x6f1157(0x4d6)+_0x1b9828,{'x':_0x12b57,'y':_0x33da38,'size':0xb,'font':_0x29fa79}),_0x33da38-=0x9,_0x515fc8(_0x56bca3,_0x4228a0-_0x56bca3,_0x33da38),_0x33da38-=0x5,_0x33da38=_0x34a13a(_0xe7dae,_0x6f1157(0x3f0),_0x6f1157(0x4b5),_0x33da38,_0x3787d1,0x9,_0x595df5,_0x56bca3),_0x33da38-=0x5,_0x515fc8(_0x56bca3,_0x595df5-_0x56bca3,_0x33da38),_0x33da38-=0x5,setProductos['forEach']((_0x2c5060,_0x534be7)=>{const _0x40b505=_0x6f1157;let {setDescripcion:_0x2fccb5,setCantidad:_0x2bb891,setMtoPrecioUnitario:_0xf8dd62,setTotal:_0x11660a,setDescuento:_0x53d9b1,setMtoPrecioUnitario_final:_0x52ae24,setUnidad:_0x5b3173,setTipAfeIgv:_0x2114df,setNotas:_0x5d006f}=_0x2c5060,_0x434992=products[_0x40b505(0x248)](_0x1b544b=>_0x1b544b['id']==_0x2c5060['setIdProducto']);_0x56c483==0x1&&_0x434992&&_0x434992[_0x40b505(0x650)]&&(_0x2fccb5+=_0x40b505(0x78e)+_0x434992[_0x40b505(0x650)]);_0x128cf8==0x1&&_0x434992&&_0x434992[_0x40b505(0x68f)]&&(_0x2fccb5+='\x20|\x20F.V.\x20'+_0x434992[_0x40b505(0x68f)]);_0x2bb891+='\x20('+_0x5b3173+')';const _0x2d0905=0x2;_0x33da38-=_0x2d0905,_0x33da38=_0x34a13a(_0xe7dae,_0x2bb891,_0x2fccb5,_0x33da38,_0x29fa79,0xb,_0x595df5,_0x56bca3);if(_0x5d006f){const _0x29a5ed=0x9,_0x7d16a3=_0x595df5-0x2*_0x56bca3,_0x2c11cd=_0x7d16a3*0.4,_0x5e2aab=_0x7d16a3*0.6,_0x35d95d=_0x56bca3+_0x2c11cd+0x5,_0x4d818e=_0x29a5ed*1.2,_0x30d965=_0x5d006f,_0x4e1e57=_0x30d965[_0x40b505(0x613)](/\r?\n/);let _0x23cd64=[];_0x4e1e57[_0x40b505(0x239)](_0x7658d2=>{const _0x2ef6ca=_0x40b505,_0x398313=_0x3099b8(_0x2ef6ca(0x69b)+_0x7658d2,_0x5e2aab-0x5,_0x3787d1,_0x29a5ed);_0x23cd64=_0x23cd64[_0x2ef6ca(0x721)](_0x398313);}),_0x23cd64['forEach']((_0x4b03f7,_0x259ad1)=>{const _0x14aad6=_0x40b505,_0x34b94b=_0x33da38-(_0x259ad1+0x1)*_0x4d818e;_0xe7dae[_0x14aad6(0x3b0)](_0x4b03f7,{'x':_0x35d95d,'y':_0x34b94b,'size':_0x29a5ed,'font':_0x3787d1});}),_0x33da38-=_0x23cd64[_0x40b505(0x517)]*_0x4d818e;}_0x33da38-=_0x5df838,_0x515fc8(_0x56bca3,_0x595df5-_0x56bca3,_0x33da38),_0x33da38-=0x5;}),_0x33da38-=_0x5df838;const _0x1a17c6=(_0x595df5-_0x56bca3*0x2)*0.6;_0x1495ea&&(_0x33da38=_0x30cabf(_0x6f1157(0x6a0),_0x1495ea,_0x33da38,_0x29fa79,0xb,_0x1a17c6)),_0x84dcbc&&(_0x33da38=_0x30cabf(_0x6f1157(0x6da),_0x84dcbc,_0x33da38,_0x29fa79,0xb,_0x1a17c6)),setClienteDenominacion&&(_0x33da38=_0x30cabf(_0x2bdc96,setClienteDenominacion[_0x6f1157(0x266)]()[_0x6f1157(0x3c8)](/(^|\s)\S/g,_0xa08a22=>_0xa08a22['toUpperCase']()),_0x33da38,_0x29fa79,0xb,_0x1a17c6));}}}else{if(_0x58dfe3=='a4'){const _0x331b7c=(_0x569d5e,_0x755a04,_0x4504f9)=>{const _0x4d0faa=_0x6f1157;if(!_0x569d5e)return console['error']('La\x20fuente\x20es\x20undefined\x20en\x20measureText'),0x0;return _0x569d5e[_0x4d0faa(0x6bb)](_0x755a04,_0x4504f9);},_0x132a6f=(_0x45db26,_0x4dc9f9,_0xb1a1a,_0xb8f869,_0x5387e9,_0x1331d2,_0x564deb,_0x18e4ad,_0x4882c8=_0x4dd29c)=>{const _0xcf3b1d=_0x6f1157;if(!_0x1331d2)return console['error'](_0xcf3b1d(0x278)),_0xb1a1a;const _0x47b19a=_0x45db26[_0xcf3b1d(0x613)]('\x20');let _0x40c48d='',_0x3ccdcc=_0xb1a1a;for(let _0x2b4bfe=0x0;_0x2b4bfe<_0x47b19a[_0xcf3b1d(0x517)];_0x2b4bfe++){const _0x4e814d=_0x40c48d+(_0x40c48d?'\x20':'')+_0x47b19a[_0x2b4bfe],_0x59d5d8=_0x1331d2['widthOfTextAtSize'](_0x4e814d,_0x564deb);_0x59d5d8>_0xb8f869?(_0xe7dae['drawText'](_0x40c48d,{'x':_0x4dc9f9,'y':_0x3ccdcc,'size':_0x564deb,'font':_0x1331d2,'color':_0x4882c8}),_0x3ccdcc-=_0x18e4ad,_0x40c48d=_0x47b19a[_0x2b4bfe]):_0x40c48d=_0x4e814d;}return _0x40c48d&&(_0xe7dae[_0xcf3b1d(0x3b0)](_0x40c48d,{'x':_0x4dc9f9,'y':_0x3ccdcc,'size':_0x564deb,'font':_0x1331d2,'color':_0x4882c8}),_0x3ccdcc-=_0x18e4ad),_0x3ccdcc;},_0x5083c1=(_0x35f2f1,_0x21cd09,_0x256e69,_0xc01597,_0x4781ee,_0x1e60dc,_0x1e01f8=0x9,_0x405735=0x3)=>{const _0x5a2884=_0x6f1157,_0x8a7f06=_0x1e60dc/0x2;_0xe7dae[_0x5a2884(0x57d)]({'x':_0x256e69,'y':_0xc01597+_0x8a7f06,'width':_0x4781ee-_0x405735,'height':_0x8a7f06,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1});const _0x2c5a3d=_0x331b7c(_0x3787d1,_0x35f2f1,_0x1e01f8),_0x2bea8b=_0x256e69+(_0x4781ee-_0x405735-_0x2c5a3d)/0x2,_0x29db23=_0xc01597+_0x8a7f06+(_0x8a7f06-_0x1e01f8)/0x2;_0xe7dae[_0x5a2884(0x3b0)](_0x35f2f1,{'x':_0x2bea8b,'y':_0x29db23,'size':_0x1e01f8,'font':_0x3787d1,'color':_0x1e5896}),_0xe7dae[_0x5a2884(0x57d)]({'x':_0x256e69,'y':_0xc01597,'width':_0x4781ee-_0x405735,'height':_0x8a7f06,'color':_0x1e5896,'borderColor':_0x86f521,'borderWidth':0x1});const _0x2091b0=_0x331b7c(_0x3787d1,_0x21cd09,_0x1e01f8),_0x3301d7=_0x256e69+(_0x4781ee-_0x405735-_0x2091b0)/0x2,_0x10ddf8=_0xc01597+(_0x8a7f06-_0x1e01f8)/0x2;_0xe7dae[_0x5a2884(0x3b0)](_0x21cd09,{'x':_0x3301d7,'y':_0x10ddf8,'size':_0x1e01f8,'font':_0x3787d1,'color':_0x4dd29c});},_0xa05cbf=(_0x2aa98c,_0x35ee1b,_0x50c834,_0x55d1f3,_0x3e0fd4,_0x17964c,_0x265cdf=0x9)=>{const _0x5d929c=_0x6f1157,_0x348e05=_0x17964c/0x2;_0xe7dae[_0x5d929c(0x57d)]({'x':_0x50c834,'y':_0x55d1f3+_0x348e05,'width':_0x3e0fd4,'height':_0x348e05,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1});const _0x242287=_0x331b7c(_0x3787d1,_0x2aa98c,_0x265cdf),_0x13b8fa=_0x50c834+(_0x3e0fd4-_0x242287)/0x2,_0xf28d34=_0x55d1f3+_0x348e05+(_0x348e05-_0x265cdf)/0x2;_0xe7dae[_0x5d929c(0x3b0)](_0x2aa98c,{'x':_0x13b8fa,'y':_0xf28d34,'size':_0x265cdf,'font':_0x3787d1,'color':_0x1e5896}),_0xe7dae[_0x5d929c(0x57d)]({'x':_0x50c834,'y':_0x55d1f3,'width':_0x3e0fd4,'height':_0x348e05,'color':_0x1e5896,'borderColor':_0x86f521,'borderWidth':0x1});const _0x3f574c=_0x331b7c(_0x29fa79,_0x35ee1b,_0x265cdf),_0x24e9f0=_0x50c834+(_0x3e0fd4-_0x3f574c)/0x2,_0x4afa62=_0x55d1f3+(_0x348e05-_0x265cdf)/0x2;_0xe7dae[_0x5d929c(0x3b0)](_0x35ee1b,{'x':_0x24e9f0,'y':_0x4afa62,'size':_0x265cdf,'font':_0x29fa79,'color':_0x4dd29c});},_0x23b421=(_0x4d4be1,_0x4ded1c,_0xf363b9,_0xd3f8ef,_0x4484b1,_0x5eb70e,_0x5e3dcf,_0x336c30,_0x2928cd=![],_0x3d6105=_0x6f1157(0x354))=>{const _0xbceb51=_0x6f1157,_0x32831a=_0x5eb70e-_0x5e3dcf*0x2,_0x52dc70=_0x32831a*0.1,_0x3da011=_0x32831a*0.1,_0x5bee36=_0x32831a*0.15,_0x552128=_0x32831a*0.35,_0x41fce5=_0x32831a*0.15,_0x2711ce=_0x32831a*0.15,_0x2a0fac=_0x5e3dcf,_0x18313a=_0x2a0fac+_0x52dc70,_0x5901c3=_0x18313a+_0x3da011,_0x853c43=_0x5901c3+_0x5bee36,_0x48d45c=_0x853c43+_0x552128,_0x3dce8b=_0x48d45c+_0x41fce5;if(_0x2928cd){_0xe7dae[_0xbceb51(0x57d)]({'x':_0x5e3dcf,'y':_0xf363b9,'width':_0x32831a,'height':_0x336c30,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1});const _0xa61c44=(_0x336c30-_0x4484b1)/0x2,[_0x599c66,_0x4ed4ed,_0x160236,_0x3f4240,_0x233690,_0x15cad4]=_0x4d4be1;return _0xe7dae[_0xbceb51(0x3b0)](String(_0x599c66),{'x':_0x5614c0(_0x599c66,_0xd3f8ef,_0x4484b1,_0x2a0fac,_0x52dc70),'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x4ed4ed),{'x':_0x5614c0(_0x4ed4ed,_0xd3f8ef,_0x4484b1,_0x18313a,_0x3da011),'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x160236),{'x':_0x5614c0(_0x160236,_0xd3f8ef,_0x4484b1,_0x5901c3,_0x5bee36),'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xe7dae['drawText'](String(_0x3f4240),{'x':_0x853c43+0x2,'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xe7dae['drawText'](String(_0x233690),{'x':_0x5614c0(_0x233690,_0xd3f8ef,_0x4484b1,_0x48d45c,_0x41fce5),'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x15cad4),{'x':_0x103a8e(_0x15cad4,_0xd3f8ef,_0x4484b1,_0x3dce8b,_0x2711ce)-0xa,'y':_0xf363b9+_0xa61c44,'size':_0x4484b1,'font':_0xd3f8ef,'color':_0x1e5896}),_0xf363b9-_0x336c30;}else{const [_0x4cf8cf,_0x434c19,_0x528f3e,_0x42653c,_0x3183d3,_0x5c3126]=_0x4ded1c;if(_0x3d6105==_0xbceb51(0x35a)&&_0x4ded1c[0x4]['trim']()==_0xbceb51(0x45b)+_0x53ad0c+')')_0xe7dae['drawText'](_0x33419d,{'x':_0x2a0fac+0xa,'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef});else{_0xe7dae[_0xbceb51(0x3b0)](String(_0x4cf8cf),{'x':_0x5614c0(_0x4cf8cf,_0xd3f8ef,_0x4484b1,_0x2a0fac,_0x52dc70),'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x434c19),{'x':_0x5614c0(_0x434c19,_0xd3f8ef,_0x4484b1,_0x18313a,_0x3da011),'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x528f3e),{'x':_0x5614c0(_0x528f3e,_0xd3f8ef,_0x4484b1,_0x5901c3,_0x5bee36),'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef});var _0x1fc2ca=_0x42653c?_0x61de07(_0x42653c,_0x853c43+0x2,_0xf363b9,_0x552128-0x4,_0xd3f8ef,_0x4484b1,_0x336c30):_0xf363b9;}return _0x3d6105=='totals'?_0xe7dae[_0xbceb51(0x3b0)](String(_0x3183d3),{'x':_0x103a8e(_0x3183d3,_0xd3f8ef,_0x4484b1,_0x48d45c,_0x41fce5)-0x8,'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef}):_0xe7dae[_0xbceb51(0x3b0)](String(_0x3183d3),{'x':_0x5614c0(_0x3183d3,_0xd3f8ef,_0x4484b1,_0x48d45c,_0x41fce5)-0x2,'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef}),_0xe7dae[_0xbceb51(0x3b0)](String(_0x5c3126),{'x':_0x103a8e(_0x5c3126,_0xd3f8ef,_0x4484b1,_0x3dce8b,_0x2711ce)-0xa,'y':_0xf363b9,'size':_0x4484b1,'font':_0xd3f8ef}),_0x3d6105==_0xbceb51(0x35a)&&_0x4ded1c[0x4][_0xbceb51(0x2cd)]()=='Total\x20('+_0x53ad0c+')'?_0xf363b9-_0x336c30:Math[_0xbceb51(0x4f5)](_0x1fc2ca!==undefined?_0x1fc2ca:_0xf363b9,_0xf363b9-_0x336c30);}};function _0x5614c0(_0x58e3ee,_0x345ae4,_0x4e4c56,_0x253413,_0xca9308){const _0x473b77=_0x6f1157,_0x100936=_0x345ae4[_0x473b77(0x6bb)](String(_0x58e3ee),_0x4e4c56);return _0x253413+(_0xca9308-_0x100936)/0x2;}function _0x103a8e(_0x27db0c,_0x3d1717,_0x45e583,_0x2992de,_0x4317a1){const _0x349959=_0x6f1157,_0x953c86=_0x3d1717[_0x349959(0x6bb)](String(_0x27db0c),_0x45e583);return _0x2992de+(_0x4317a1-_0x953c86);}function _0x61de07(_0x2d6f56,_0x35a2d2,_0x292675,_0x452a6e,_0x113831,_0x5a01c7,_0x49f9eb){const _0x56cc3c=_0x6f1157,_0xa5ad72=_0x2d6f56['split']('\x20');let _0xa9b1cc='',_0xa5d347=_0x292675;for(let _0x48e4e3=0x0;_0x48e4e3<_0xa5ad72[_0x56cc3c(0x517)];_0x48e4e3++){const _0xd43f64=_0xa9b1cc+(_0xa9b1cc?'\x20':'')+_0xa5ad72[_0x48e4e3];_0x113831[_0x56cc3c(0x6bb)](_0xd43f64,_0x5a01c7)>_0x452a6e?(_0xe7dae[_0x56cc3c(0x3b0)](_0xa9b1cc,{'x':_0x35a2d2,'y':_0xa5d347,'size':_0x5a01c7,'font':_0x113831}),_0xa5d347-=_0x49f9eb,_0xa9b1cc=_0xa5ad72[_0x48e4e3]):_0xa9b1cc=_0xd43f64;}return _0xa9b1cc&&(_0xe7dae['drawText'](_0xa9b1cc,{'x':_0x35a2d2,'y':_0xa5d347,'size':_0x5a01c7,'font':_0x113831}),_0xa5d347-=_0x49f9eb),_0xa5d347;}let _0x1438b6=0x3c,_0x906a60=(_0x595df5-_0x56bca3*0x2)*0.25,_0xda5c21=(_0x595df5-_0x56bca3*0x2)*0.5,_0x129954=(_0x595df5-_0x56bca3*0x2)*0.25,_0x5c841f=_0x56bca3,_0x2a8888=_0x56bca3+_0x906a60,_0x26f119=_0x56bca3+_0x906a60+_0xda5c21,_0x4e6978=_0x33da38-_0x1438b6;if(setLogoUrl)try{const _0x488639=setLogoUrl[_0x6f1157(0x613)](',')[0x1],_0xb8c377=Uint8Array[_0x6f1157(0x4fb)](atob(_0x488639),_0xa6b2ba=>_0xa6b2ba['charCodeAt'](0x0));let _0x10ebc6;try{_0x10ebc6=await _0x51dd86[_0x6f1157(0x756)](_0xb8c377);}catch(_0x2434e4){try{_0x10ebc6=await _0x51dd86[_0x6f1157(0x292)](_0xb8c377);}catch(_0x15f2ec){throw new Error(_0x6f1157(0x5f6));}}const _0x18d9ed=_0x906a60*0.8,_0x597098=_0x10ebc6[_0x6f1157(0x4ef)],_0x47b448=_0x18d9ed/_0x597098,_0x28cf30=_0x10ebc6[_0x6f1157(0x24d)](_0x47b448),_0xed1fbc=_0x5c841f+(_0x906a60-_0x28cf30[_0x6f1157(0x4ef)])/0x2,_0x5cbf1c=_0x4e6978+(_0x1438b6-_0x28cf30['height'])/0x2;_0xe7dae[_0x6f1157(0x646)](_0x10ebc6,{'x':_0xed1fbc,'y':_0x5cbf1c,'width':_0x28cf30[_0x6f1157(0x4ef)],'height':_0x28cf30['height']});}catch(_0x143a12){console['log'](_0x6f1157(0x363),_0x143a12);}let _0x240f85=_0x33da38-0xa;const _0x395208=0xc;setEmpresaNombre&&(_0x240f85=_0x132a6f(setEmpresaNombre,_0x2a8888,_0x240f85,_0xda5c21,_0x1438b6,_0x29fa79,0x9,_0x395208));_0x172dcb&&(_0x240f85=_0x132a6f(_0x172dcb,_0x2a8888,_0x240f85,_0xda5c21,_0x1438b6,_0x3787d1,0x8,_0x395208));setEmpresaEmail&&(_0x240f85=_0x132a6f(setEmpresaEmail,_0x2a8888,_0x240f85,_0xda5c21,_0x1438b6,_0x3787d1,0x8,_0x395208));setEmpresaTelefono&&(_0x240f85=_0x132a6f(setEmpresaTelefono,_0x2a8888,_0x240f85,_0xda5c21,_0x1438b6,_0x3787d1,0x8,_0x395208));setEmpresaSitioWeb&&(_0x240f85=_0x132a6f(setEmpresaSitioWeb,_0x2a8888,_0x240f85,_0xda5c21,_0x1438b6,_0x3787d1,0x8,_0x395208));const _0x6bdcb6=0x5;col3TopHeight=_0x1438b6*0.5,col3BottomHeight=_0x1438b6*0.5;const _0x3d4ad8=_0x4e6978+col3TopHeight+_0x6bdcb6;_0xa05cbf(_0x56f627?_0x56f627[_0x6f1157(0x3e9)]():'',setEmpresaRuc||'',_0x26f119,_0x3d4ad8,_0x129954,col3BottomHeight,0x9);const _0x4490bf=_0x129954*0.5,_0x46d4df=col3TopHeight;_0x5083c1(_0x6f1157(0x306),setSerie?setSerie[_0x6f1157(0x3e9)]():'',_0x26f119,_0x4e6978,_0x4490bf,_0x46d4df,0x9,0x5),_0x5083c1('Nº',setCorrelativo?String(setCorrelativo):'',_0x26f119+_0x4490bf,_0x4e6978,_0x4490bf,_0x46d4df,0x9,0x0),_0x33da38=_0x4e6978;const _0x2aa397=0x14;_0x33da38-=_0x2aa397;let _0x5d4e6a=0x64,_0x49eb81=_0x33da38-_0x5d4e6a,_0x160651=(_0x595df5-_0x56bca3*0x2)*0.75,_0x2bfddf=(_0x595df5-_0x56bca3*0x2)*0.25,_0x51352d=_0x56bca3,_0x251529=_0x56bca3+_0x160651;const _0x329720=0xe,_0x56638f=_0x160651*0.2;_0xe7dae['drawRectangle']({'x':_0x51352d,'y':_0x49eb81+(_0x5d4e6a-_0x329720),'width':_0x56638f,'height':_0x329720,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1});const _0x51e697=_0x6f1157(0x57e),_0x1c4bbf=0x9,_0x1b64d5=_0x331b7c(_0x3787d1,_0x51e697,_0x1c4bbf),_0x1ead0e=_0x51352d+(_0x56638f-_0x1b64d5)/0x2,_0xa2d2c=_0x49eb81+_0x5d4e6a-_0x329720+(_0x329720-_0x1c4bbf)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x51e697,{'x':_0x1ead0e,'y':_0xa2d2c,'size':_0x1c4bbf,'font':_0x3787d1,'color':_0x1e5896});const _0x2bf5ef=_0x5d4e6a-_0x329720;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x51352d,'y':_0x49eb81,'width':_0x160651-0x5,'height':_0x2bf5ef,'color':_0x1e5896,'borderColor':_0x86f521,'borderWidth':0x1});let _0xf035f1=_0x49eb81+_0x2bf5ef-0xa;const _0x28d18c=0xc,_0x4e61b2=_0x160651-0x5-0xa,_0x260ffb=_0x4e61b2*0.17,_0x579a76=_0x4e61b2*0.02,_0x1a8550=_0x4e61b2*0.81;function _0x16d7c6(_0x4ed928,_0x35560b,_0x1c77db,_0x22ecb5,_0x221e13,_0x1c5e4a,_0xa17980){const _0x1f474c=_0x6f1157,_0x1b047c=_0x4ed928[_0x1f474c(0x613)]('\x20');let _0x384778='',_0x46c4fe=_0x1c77db;for(let _0x131fdf=0x0;_0x131fdf<_0x1b047c[_0x1f474c(0x517)];_0x131fdf++){const _0x20b7af=_0x384778+(_0x384778?'\x20':'')+_0x1b047c[_0x131fdf];_0x221e13[_0x1f474c(0x6bb)](_0x20b7af,_0x1c5e4a)>_0x22ecb5?(_0xe7dae[_0x1f474c(0x3b0)](_0x384778,{'x':_0x35560b,'y':_0x46c4fe,'size':_0x1c5e4a,'font':_0x221e13,'color':_0xa17980}),_0x46c4fe-=_0x28d18c,_0x384778=_0x1b047c[_0x131fdf]):_0x384778=_0x20b7af;}return _0x384778&&(_0xe7dae[_0x1f474c(0x3b0)](_0x384778,{'x':_0x35560b,'y':_0x46c4fe,'size':_0x1c5e4a,'font':_0x221e13,'color':_0xa17980}),_0x46c4fe-=_0x28d18c),_0x46c4fe;}function _0x3ab056(_0xb34206,_0x5931f3){const _0x124ce1=_0x6f1157;_0xe7dae[_0x124ce1(0x3b0)](String(_0xb34206),{'x':_0x51352d+0x5,'y':_0xf035f1,'size':0x8,'font':_0x29fa79,'color':_0x4dd29c}),_0xe7dae[_0x124ce1(0x3b0)](':',{'x':_0x51352d+0x5+_0x260ffb,'y':_0xf035f1,'size':0x8,'font':_0x3787d1,'color':_0x4dd29c}),_0xf035f1=_0x16d7c6(String(_0x5931f3),_0x51352d+0x5+_0x260ffb+_0x579a76,_0xf035f1,_0x1a8550,_0x3787d1,0x8,_0x4dd29c);}setClienteTipoDoc&&setClienteNumDoc&&_0x3ab056(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x3ab056(_0x2bdc96,setClienteDenominacion);setClienteDireccion&&_0x3ab056(_0x6f1157(0x5da),setClienteDireccion);_0x59c858&&_0x3ab056('Teléfono',_0x59c858);_0x5363be&&_0x3ab056(_0x6f1157(0x597),_0x5363be);_0x1b9828&&_0x3ab056(_0x6f1157(0x72a),_0x1b9828);let _0x76f2ef=col3TopHeight;const _0xb7a1a9=0x5,_0x88159a=_0x49eb81+(_0x5d4e6a-_0x76f2ef);_0xa05cbf(_0x6f1157(0x6a0),_0x1495ea||'',_0x251529,_0x88159a,_0x2bfddf,_0x76f2ef,0x9);const _0x309166=_0x88159a-_0xb7a1a9-_0x76f2ef;let _0x4a11d5='';if(_0x406a75[_0x6f1157(0x692)])_0x4a11d5=_0x6f1157(0x571);if(_0x93772e[_0x6f1157(0x692)])_0x4a11d5=_0x6f1157(0x477);if(_0x49669c[_0x6f1157(0x692)])_0x4a11d5=_0x6f1157(0x4af);_0xa05cbf(_0x6f1157(0x379),''+_0x4a11d5,_0x251529,_0x309166,_0x2bfddf,_0x76f2ef,0x9);const _0x3202a8=_0x309166-_0xb7a1a9-_0x76f2ef;let _0x46cdb7=_0x46befa||'';_0xa05cbf(_0x6f1157(0x1cf),''+_0x46cdb7,_0x251529,_0x3202a8,_0x2bfddf,_0x76f2ef,0x9),_0x33da38=_0x49eb81,_0x33da38-=0x14;const _0x4b3f7d=_0x33da38,_0x11eb90=['CANTIDAD',_0x6f1157(0x637),_0x6f1157(0x76b),'DESCRIPCIÓN',_0x6f1157(0x6e5),'TOTAL'];_0x33da38=_0x23b421(_0x11eb90,[],_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xe,!![]);if(_0x2a5dea==0x1){const _0x442b61=['1',_0x6f1157(0x2b7),'',_0x6f1157(0x40d),parseFloat(_0x410187)[_0x6f1157(0x3ea)](0x2),parseFloat(_0x410187)[_0x6f1157(0x3ea)](0x2)];_0x33da38=_0x23b421([],_0x442b61,_0x33da38,_0x3787d1,0x8,_0x595df5,_0x56bca3,0xc,![]),_0x33da38-=0x5;}else setProductos[_0x6f1157(0x239)](_0x57bd32=>{const _0x7ec2ee=_0x6f1157;let {setCodProducto:setCodProducto='',setDescripcion:_0x1adc76,setCantidad:_0x504029,setMtoPrecioUnitario:_0xa0c16c,setTotal:_0x288b5d,setDescuento:_0x43b994,setMtoPrecioUnitario_final:_0xceb63e,setUnidad:_0x2b08a5,setTipAfeIgv:_0x580037,setNotas:_0x5dbb0e,setItemDescription:_0x599693,setMarca:_0x5791fd}=_0x57bd32;_0x43b994&&_0x43b994[_0x7ec2ee(0x296)]>0x0&&(_0x1adc76+='\x20('+_0x43b994[_0x7ec2ee(0x296)]+_0x7ec2ee(0x368)+_0x53ad0c+parseFloat(_0xceb63e)[_0x7ec2ee(0x3ea)](0x2)+')');(setTipAfeImpGravadosGrat[_0x7ec2ee(0x79e)](_0x31058a=>_0x31058a==_0x580037)||setTipAfeImpInafectosGrat[_0x7ec2ee(0x79e)](_0x337c50=>_0x337c50==_0x580037)||setTipAfeImpExoneradosGrat[_0x7ec2ee(0x79e)](_0x470366=>_0x470366==_0x580037))&&(_0xa0c16c=_0xceb63e,setTipAfeImpGravadosGrat['some'](_0x3ae9c8=>_0x3ae9c8==_0x580037)&&(_0x1adc76+=_0x7ec2ee(0x324)),setTipAfeImpExoneradosGrat[_0x7ec2ee(0x79e)](_0xede4b7=>_0xede4b7==_0x580037)&&(_0x1adc76+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x7ec2ee(0x79e)](_0x323ad0=>_0x323ad0==_0x580037)&&(_0x1adc76+=_0x7ec2ee(0x3a6)));_0x5dbb0e&&(_0x1adc76+=_0x7ec2ee(0x778)+_0x5dbb0e);_0x287ab6==0x1&&_0x599693!=''&&(_0x1adc76+=_0x7ec2ee(0x56f)+_0x599693);_0x3bf394==0x1&&_0x5791fd!=''&&(_0x1adc76+='\x20|\x20Marca:\x20'+_0x5791fd);let _0x4031f5=products[_0x7ec2ee(0x248)](_0x23d233=>_0x23d233['id']==_0x57bd32[_0x7ec2ee(0x448)]);_0x56c483==0x1&&_0x4031f5&&_0x4031f5[_0x7ec2ee(0x650)]&&(_0x1adc76+=_0x7ec2ee(0x78e)+_0x4031f5['setBatchName']);_0x128cf8==0x1&&_0x4031f5&&_0x4031f5[_0x7ec2ee(0x68f)]&&(_0x1adc76+=_0x7ec2ee(0x499)+_0x4031f5['setBatchExpirationDate']);const _0x378abb=[String(_0x504029||'1'),String(_0x2b08a5+'.'||''),String(setCodProducto),_0x1adc76,parseFloat(_0xa0c16c)[_0x7ec2ee(0x3ea)](0x2),parseFloat(_0x288b5d)[_0x7ec2ee(0x3ea)](0x2)];_0x33da38=_0x23b421([],_0x378abb,_0x33da38,_0x3787d1,0x8,_0x595df5,_0x56bca3,0xc,![]),_0x33da38-=0x5;});_0x33da38-=0xa;if(parseFloat(_0x1a78f6)>0x0){const _0x18329b=['','','','',_0x6f1157(0x5f8)+_0x53ad0c+')',''+_0x1a78f6];_0x33da38=_0x23b421([],_0x18329b,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(parseFloat(_0x3eb79e)>0x0){const _0x2cce8c=['','','','',_0x6f1157(0x479)+_0x53ad0c+')',''+_0x3eb79e];_0x33da38=_0x23b421([],_0x2cce8c,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x2d75f3)>0x0){const _0xc7acbc=['','','','',_0x6f1157(0x416)+_0x53ad0c+')',''+_0x2d75f3];_0x33da38=_0x23b421([],_0xc7acbc,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(parseFloat(_0x5b066d)>0x0){const _0x1817b8=['','','','',_0x6f1157(0x48c)+_0x53ad0c+')',''+_0x5b066d];_0x33da38=_0x23b421([],_0x1817b8,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(parseFloat(_0x115c40)>0x0){const _0x3050e6=['','','','',_0x6f1157(0x209)+_0x53ad0c+')',''+_0x115c40];_0x33da38=_0x23b421([],_0x3050e6,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(parseFloat(_0x38dc5f)>0x0){const _0x39f9f9=['','','','',_0x6f1157(0x447)+_0x53ad0c+')',''+_0x38dc5f];_0x33da38=_0x23b421([],_0x39f9f9,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],'totals'),_0x33da38-=0x2;}if(parseFloat(_0x5e384a)>0x0){const _0x1db94c=['','','','',_0x6f1157(0x5e2)+_0x53ad0c+')',''+_0x5e384a];_0x33da38=_0x23b421([],_0x1db94c,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],'totals'),_0x33da38-=0x2;}{const _0x4e5df0=['','','','',_0x6f1157(0x383)+_0x53ad0c+')',''+_0x2b7dc2];_0x33da38=_0x23b421([],_0x4e5df0,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],'totals'),_0x33da38-=0x2;}{const _0x40231d=['','','','',_0x6f1157(0x612)+_0x53ad0c+')',''+_0x4f4fa6];_0x33da38=_0x23b421([],_0x40231d,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}}{const _0x525576=['','','','',_0x6f1157(0x45b)+_0x53ad0c+')',''+_0x410187];_0x33da38=_0x23b421([],_0x525576,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(_0x5cb6b6==0x1){const _0x4aa320=['','','','',_0x6f1157(0x7a2)+_0x37b9db+_0x6f1157(0x38a)+_0x53ad0c+')',''+_0x1d0995];_0x33da38=_0x23b421([],_0x4aa320,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(_0x539dfd==0x1){const _0x2696bb=['','','','',_0x6f1157(0x604)+_0x4897c+_0x6f1157(0x38a)+_0x53ad0c+')',''+_0x3e6ec2];_0x33da38=_0x23b421([],_0x2696bb,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}if(_0x33381c==0x1){const _0x4397cd=['','','','',_0x6f1157(0x4df)+_0x70ff92+_0x6f1157(0x38a)+_0x53ad0c+')',''+_0x59bfaa];_0x33da38=_0x23b421([],_0x4397cd,_0x33da38,_0x29fa79,0x8,_0x595df5,_0x56bca3,0xc,![],_0x6f1157(0x35a)),_0x33da38-=0x2;}const _0x578046=_0x33da38,_0x32e53f=_0x595df5-_0x56bca3*0x2,_0x3ced26=_0x4b3f7d-_0x578046+0x3;_0xe7dae[_0x6f1157(0x7b1)]({'start':{'x':_0x56bca3,'y':_0x578046-0x3},'end':{'x':_0x56bca3,'y':_0x578046-0x3+_0x3ced26},'thickness':0x1,'color':_0x582992}),_0xe7dae[_0x6f1157(0x7b1)]({'start':{'x':_0x56bca3,'y':_0x578046-0x3},'end':{'x':_0x56bca3+_0x32e53f,'y':_0x578046-0x3},'thickness':0x1,'color':_0x582992}),_0xe7dae[_0x6f1157(0x7b1)]({'start':{'x':_0x56bca3+_0x32e53f,'y':_0x578046-0x3},'end':{'x':_0x56bca3+_0x32e53f,'y':_0x578046-0x3+_0x3ced26},'thickness':0x1,'color':_0x582992}),_0x33da38=_0x578046-0x3-0xa;const _0x7136a5=_0x56bca3+_0x32e53f*0.85;_0xe7dae[_0x6f1157(0x7b1)]({'start':{'x':_0x7136a5,'y':_0x4b3f7d},'end':{'x':_0x7136a5,'y':_0x578046-0x3},'thickness':0x1,'color':_0x582992});const _0x598ab1=_0x595df5-_0x56bca3*0x2,_0x7e2fa9=0x5,_0x42b98f=_0x598ab1-_0x7e2fa9,_0x3755f3=_0x42b98f*0.8,_0x1f79b8=_0x42b98f*0.2,_0x50c255=_0x56bca3,_0xf6d9a8=_0x50c255+_0x3755f3+_0x7e2fa9,_0x4658a4=_0x33da38,_0x5703b3=0xe,_0x233b16=0x5,_0x42626d=myCompany[_0x6f1157(0x34b)],_0x6cbc4a=Math[_0x6f1157(0x537)](_0x42626d['length']/0x2),_0x9d7e10=0xe,_0x2e60d2=_0x6cbc4a*_0x9d7e10,_0x1de4dc=_0x5703b3+_0x2e60d2;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x50c255,'y':_0x4658a4-_0x5703b3,'width':_0x3755f3,'height':_0x5703b3,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1});const _0x4e5de8='NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:',_0x2ad2b1=(_0x5703b3-0x8)/0x2;_0xe7dae[_0x6f1157(0x3b0)](_0x4e5de8,{'x':_0x50c255+_0x233b16,'y':_0x4658a4-_0x5703b3+_0x2ad2b1,'size':0x8,'font':_0x29fa79,'color':_0x1e5896});const _0x3c427e=(_0x378bc6,_0x1864b0=0x10)=>{const _0x456840=_0x6f1157;return _0x378bc6[_0x456840(0x517)]>_0x1864b0?_0x378bc6[_0x456840(0x74a)](0x0,_0x1864b0)+_0x456840(0x32a):_0x378bc6;},_0x32ef7c=_0x3755f3/0x4;for(let _0xb74236=0x0;_0xb74236<_0x6cbc4a;_0xb74236++){const _0x57de62=_0x42626d[0x2*_0xb74236],_0x3e9fb7=_0x42626d[0x2*_0xb74236+0x1],_0x34b0f3=_0x4658a4-_0x5703b3-_0xb74236*_0x9d7e10,_0x35efdd=(_0x9d7e10-0x8)/0x2;if(_0x57de62){const _0x694348=_0x3c427e(_0x57de62[_0x6f1157(0x5bc)]['toUpperCase']())+(_0x57de62[_0x6f1157(0x703)]==_0x6f1157(0x7a6)?_0x6f1157(0x6c2):'\x20('+_0x57de62[_0x6f1157(0x703)]+')'),_0x203e7f='N\x20'+_0x57de62[_0x6f1157(0x27a)];_0x61de07(_0x694348,_0x50c255+_0x233b16,_0x34b0f3-_0x9d7e10+_0x35efdd,_0x32ef7c-_0x233b16,_0x3787d1,0x8,_0x9d7e10),_0x61de07(_0x203e7f,_0x50c255+_0x32ef7c+0x2,_0x34b0f3-_0x9d7e10+_0x35efdd,_0x32ef7c-0x2,_0x3787d1,0x8,_0x9d7e10);}if(_0x3e9fb7){const _0x3299ab=_0x3c427e(_0x3e9fb7[_0x6f1157(0x5bc)]['toUpperCase']())+(_0x3e9fb7[_0x6f1157(0x703)]==_0x6f1157(0x7a6)?_0x6f1157(0x6c2):'\x20('+_0x3e9fb7[_0x6f1157(0x703)]+')'),_0x23ddc7='N\x20'+_0x3e9fb7['setBankNumber'];_0x61de07(_0x3299ab,_0x50c255+_0x32ef7c*0x2+0x2,_0x34b0f3-_0x9d7e10+_0x35efdd,_0x32ef7c-0x2,_0x3787d1,0x8,_0x9d7e10),_0x61de07(_0x23ddc7,_0x50c255+_0x32ef7c*0x3+0x2,_0x34b0f3-_0x9d7e10+_0x35efdd,_0x32ef7c-0x2,_0x3787d1,0x7,_0x9d7e10);}}const _0x5bae64=[setEmpresaRuc,setSerie,setCorrelativo,_0x2d75f3>0x0?_0x2d75f3:null,_0x5b066d>0x0?_0x5b066d:null,_0x115c40>0x0?_0x115c40:null,_0x38dc5f>0x0?_0x38dc5f:null,_0x4f4fa6>0x0?_0x4f4fa6:null,_0x410187>0x0?_0x410187:null,setClienteNumDoc],_0x591436=_0x5bae64[_0x6f1157(0x1fc)](_0x5d3e22=>_0x5d3e22!==null)[_0x6f1157(0x711)]('|'),_0x1189ca=document[_0x6f1157(0x57a)](_0x6f1157(0x35d));new QRCode(_0x1189ca,{'text':_0x591436,'width':0x80,'height':0x80,'colorDark':_0x6f1157(0x5f5),'colorLight':'#ffffff','correctLevel':QRCode[_0x6f1157(0x54a)]['H']}),await new Promise(_0x10331f=>setTimeout(_0x10331f,0x1f4));const _0x31550c=_0x1189ca[_0x6f1157(0x794)](_0x6f1157(0x40b)),_0x19ec64=_0x31550c[_0x6f1157(0x406)](_0x6f1157(0x20a)),_0x48127a=atob(_0x19ec64[_0x6f1157(0x613)](',')[0x1]),_0x1a3510=Uint8Array[_0x6f1157(0x4fb)](_0x48127a,_0x4b961d=>_0x4b961d[_0x6f1157(0x5a7)](0x0)),_0x338ee0=await _0x51dd86[_0x6f1157(0x756)](_0x1a3510),_0x1a16dd=_0x338ee0[_0x6f1157(0x24d)](0.8),_0x2351e0=_0xf6d9a8+_0x1f79b8-_0x1a16dd[_0x6f1157(0x4ef)],_0x4b6952=_0x4658a4-_0x1a16dd[_0x6f1157(0x627)];_0xe7dae[_0x6f1157(0x646)](_0x338ee0,{'x':_0x2351e0,'y':_0x4b6952,'width':_0x1a16dd[_0x6f1157(0x4ef)],'height':_0x1a16dd[_0x6f1157(0x627)]});const _0x502c01=Math[_0x6f1157(0x5b1)](_0x1de4dc,_0x1a16dd[_0x6f1157(0x627)]);_0xe7dae['drawRectangle']({'x':_0x50c255,'y':_0x4658a4-_0x502c01,'width':_0x3755f3,'height':_0x502c01,'borderColor':_0x86f521,'borderWidth':0x1}),_0x33da38=Math[_0x6f1157(0x4f5)](_0x4658a4-_0x502c01,_0x4b6952)-0x5;const _0x504e65=_0x595df5-_0x56bca3*0x2,_0x5f171d=0x5,_0x2621d8=_0x504e65-_0x5f171d,_0xaba572=_0x2621d8*0.8,_0x54353d=_0x2621d8*0.2,_0x4d66ff=_0x56bca3,_0x1d9a49=_0x4d66ff+_0xaba572+_0x5f171d,_0x2b34ec=_0x33da38,_0x4207dc=0x8,_0x474f32=0x5,_0x3c81c3=0xe,_0x449be1=_0xaba572/0x2;let _0x19bb56='',_0x160b03='',_0x4f80c2=[],_0x2e17bd=[];if(_0x49669c[_0x6f1157(0x692)]==!![]){_0x19bb56='FORMA\x20DE\x20PAGO:\x20CONTADO',_0x160b03=_0x6f1157(0x5d2);for(let _0x270d50 in _0x406a75[_0x6f1157(0x257)]){if(_0x270d50=='vuelto'||_0x270d50==_0x6f1157(0x22b))continue;const _0x259a98=_0x406a75[_0x6f1157(0x257)][_0x270d50];if(_0x259a98&&typeof _0x259a98==_0x6f1157(0x3b1)&&'monto'in _0x259a98){const _0x4e395d=parseFloat(_0x259a98[_0x6f1157(0x5a1)]);if(_0x4e395d>0x0){_0x4f80c2[_0x6f1157(0x48d)]({'desc':_0x270d50[_0x6f1157(0x3e9)](),'value':_0x53ad0c+'\x20'+_0x4e395d['toFixed'](0x2)});if(_0x6f1157(0x568)in _0x259a98&&_0x6f1157(0x734)in _0x259a98){const _0x481bdd=_0x259a98['porcentaje_comision'],_0x2d9f3c=parseFloat(_0x259a98[_0x6f1157(0x734)]);_0x481bdd!==undefined&&_0x2d9f3c!==undefined&&_0x4f80c2[_0x6f1157(0x48d)]({'desc':_0x6f1157(0x6a9)+_0x481bdd+'%)','value':_0x53ad0c+'\x20'+_0x2d9f3c['toFixed'](0x2)});}if(_0x259a98[_0x6f1157(0x763)]&&_0x259a98[_0x6f1157(0x763)]!='0'){const _0x890943=myCompany[_0x6f1157(0x34b)][_0x6f1157(0x248)](_0x1853ae=>_0x1853ae[_0x6f1157(0x3f9)]==_0x259a98['banco']);_0x890943&&_0x4f80c2[_0x6f1157(0x48d)]({'desc':'Banco:','value':_0x890943[_0x6f1157(0x5bc)]});}_0x259a98[_0x6f1157(0x6c3)]&&_0x4f80c2['push']({'desc':'Nº\x20Operación','value':_0x259a98[_0x6f1157(0x6c3)]});}}}parseFloat(_0x406a75[_0x6f1157(0x257)]['vuelto'])>0x0&&_0x4f80c2['push']({'desc':_0x6f1157(0x726),'value':_0x53ad0c+'\x20'+parseFloat(_0x406a75[_0x6f1157(0x257)]['vuelto'])['toFixed'](0x2)});let _0x38c2a6=_0x93772e['status']==!![]?parseFloat(_0x410187):parseFloat(_0x406a75[_0x6f1157(0x257)][_0x6f1157(0x22b)]);_0x2e17bd['push']({'desc':_0x6f1157(0x6bd),'value':_0x53ad0c+'\x20'+_0x38c2a6[_0x6f1157(0x3ea)](0x2)}),_0x2e17bd[_0x6f1157(0x48d)]({'desc':_0x6f1157(0x6c9),'value':_0x93772e['data'][_0x6f1157(0x517)]+'\x20cuotas'}),_0x2e17bd[_0x6f1157(0x48d)]({'desc':_0x6f1157(0x33e),'value':''}),_0x93772e[_0x6f1157(0x257)][_0x6f1157(0x239)](_0x533763=>{const _0x52703d=_0x6f1157;_0x2e17bd[_0x52703d(0x48d)]({'desc':_0x52703d(0x519)+_0x533763['cuota'],'value':_0x533763[_0x52703d(0x3e7)]+_0x52703d(0x78e)+parseFloat(_0x533763[_0x52703d(0x219)])['toFixed'](0x2)});});}else{if(_0x406a75[_0x6f1157(0x692)]==!![]){_0x19bb56='FORMA\x20DE\x20PAGO:\x20CONTADO',_0x160b03='';for(let _0x1e63d4 in _0x406a75['data']){if(_0x1e63d4==_0x6f1157(0x1d1)||_0x1e63d4==_0x6f1157(0x22b))continue;const _0x189e4d=_0x406a75[_0x6f1157(0x257)][_0x1e63d4];if(_0x189e4d&&typeof _0x189e4d=='object'&&'monto'in _0x189e4d){const _0x454673=parseFloat(_0x189e4d[_0x6f1157(0x5a1)]);if(_0x454673>0x0){_0x4f80c2[_0x6f1157(0x48d)]({'desc':_0x1e63d4[_0x6f1157(0x3e9)](),'value':_0x53ad0c+'\x20'+_0x454673[_0x6f1157(0x3ea)](0x2)});if(_0x6f1157(0x568)in _0x189e4d&&_0x6f1157(0x734)in _0x189e4d){const _0x1d20f3=_0x189e4d[_0x6f1157(0x568)],_0x33526e=parseFloat(_0x189e4d[_0x6f1157(0x734)]);_0x1d20f3!==undefined&&_0x33526e!==undefined&&_0x4f80c2[_0x6f1157(0x48d)]({'desc':'Comisión\x20('+_0x1d20f3+'%)','value':_0x53ad0c+'\x20'+_0x33526e[_0x6f1157(0x3ea)](0x2)});}if(_0x189e4d['banco']&&_0x189e4d[_0x6f1157(0x763)]!='0'){const _0x59e120=myCompany[_0x6f1157(0x34b)]['find'](_0x36f70a=>_0x36f70a[_0x6f1157(0x3f9)]==_0x189e4d[_0x6f1157(0x763)]);_0x59e120&&_0x4f80c2['push']({'desc':_0x6f1157(0x762),'value':_0x59e120['setBankName']});}_0x189e4d[_0x6f1157(0x6c3)]&&_0x4f80c2['push']({'desc':_0x6f1157(0x5c5),'value':_0x189e4d['nro_operacion']});}}}parseFloat(_0x406a75['data'][_0x6f1157(0x1d1)])>0x0&&_0x4f80c2[_0x6f1157(0x48d)]({'desc':_0x6f1157(0x726),'value':_0x53ad0c+'\x20'+parseFloat(_0x406a75['data'][_0x6f1157(0x1d1)])[_0x6f1157(0x3ea)](0x2)});}else{if(_0x93772e[_0x6f1157(0x692)]==!![]){_0x19bb56='FORMA\x20DE\x20PAGO:\x20CRÉDITO',_0x160b03='';let _0x2ae1bc=_0x93772e[_0x6f1157(0x692)]==!![]?parseFloat(_0x410187):parseFloat(_0x406a75[_0x6f1157(0x257)]['debe']);_0x4f80c2['push']({'desc':_0x6f1157(0x6bd),'value':_0x53ad0c+'\x20'+_0x2ae1bc[_0x6f1157(0x3ea)](0x2)}),_0x4f80c2[_0x6f1157(0x48d)]({'desc':'Nº\x20de\x20cuotas','value':_0x93772e['data'][_0x6f1157(0x517)]+_0x6f1157(0x43f)}),_0x4f80c2[_0x6f1157(0x48d)]({'desc':'Cronograma\x20de\x20Pagos','value':''}),_0x93772e[_0x6f1157(0x257)][_0x6f1157(0x239)](_0x18024f=>{const _0x3dc0b2=_0x6f1157;_0x4f80c2[_0x3dc0b2(0x48d)]({'desc':_0x3dc0b2(0x519)+_0x18024f[_0x3dc0b2(0x226)],'value':_0x18024f[_0x3dc0b2(0x3e7)]+_0x3dc0b2(0x78e)+parseFloat(_0x18024f[_0x3dc0b2(0x219)])['toFixed'](0x2)});});}}}const _0x481586=Math['max'](_0x4f80c2['length'],_0x2e17bd[_0x6f1157(0x517)]),_0x445671=_0x2b34ec-_0x329720-0xe;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x4d66ff,'y':_0x2b34ec-_0x329720,'width':_0xaba572,'height':_0x329720,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1}),_0xe7dae[_0x6f1157(0x3b0)](_0x19bb56,{'x':_0x4d66ff+_0x474f32,'y':_0x2b34ec-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x1e5896});_0x160b03&&_0xe7dae[_0x6f1157(0x3b0)](_0x160b03,{'x':_0x4d66ff+_0x449be1+_0x474f32,'y':_0x2b34ec-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x1e5896});const _0x57cdb7=_0x449be1/0x2,_0x1cc2eb=_0x449be1/0x2;for(let _0x105f66=0x0;_0x105f66<_0x481586;_0x105f66++){const _0x179b4=_0x445671-_0x105f66*_0x3c81c3+(_0x3c81c3-_0x4207dc)/0x2,_0x2334ec=_0x4f80c2[_0x105f66]||{'desc':'','value':''};_0xe7dae[_0x6f1157(0x3b0)](_0x2334ec[_0x6f1157(0x387)],{'x':_0x4d66ff+_0x474f32,'y':_0x179b4,'size':_0x4207dc,'font':_0x3787d1}),_0xe7dae[_0x6f1157(0x3b0)](_0x2334ec[_0x6f1157(0x4a7)],{'x':_0x4d66ff+_0x57cdb7+_0x474f32,'y':_0x179b4,'size':_0x4207dc,'font':_0x3787d1});if(_0x160b03){const _0x8f2ec2=_0x2e17bd[_0x105f66]||{'desc':'','value':''};_0xe7dae[_0x6f1157(0x3b0)](_0x8f2ec2['desc'],{'x':_0x4d66ff+_0x449be1+_0x474f32,'y':_0x179b4,'size':_0x4207dc,'font':_0x3787d1}),_0xe7dae['drawText'](_0x8f2ec2[_0x6f1157(0x4a7)],{'x':_0x4d66ff+_0x449be1+_0x1cc2eb+_0x474f32,'y':_0x179b4,'size':_0x4207dc,'font':_0x3787d1});}}const _0x43c18c=_0x329720+_0x481586*_0x3c81c3+0x4;if(_0x5cb6b6==0x1){const _0x92ca37=0xe,_0x42c575=_0x1d9a49,_0x2fefb5=_0x54353d,_0x5466b3=0xe,_0x518038=_0x474f32;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x42c575,'y':_0x2b34ec-_0x5466b3,'width':_0x2fefb5,'height':_0x5466b3,'color':_0x86f521,'borderColor':_0x86f521,'borderWidth':0x1}),_0xe7dae[_0x6f1157(0x3b0)]('DETRACCIÓN\x20('+_0x37b9db+'%)',{'x':_0x42c575+_0x518038,'y':_0x2b34ec-_0x5466b3+(_0x5466b3-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x1e5896});const _0x40cffa=_0x2fefb5-_0x518038*0x2;let _0x480151=_0x2b34ec-_0x5466b3-0xe;const _0xeefa31=['Total:\x20'+_0x53ad0c+'\x20'+_0x1d0995,'Bien\x20o\x20Servicio:\x20'+_0x1786e5+'\x20'+_0x2f9cd6,_0x6f1157(0x227)];let _0x4c44e3=_0x480151;for(let _0x310abc=0x0;_0x310abc<_0xeefa31[_0x6f1157(0x517)];_0x310abc++){_0x4c44e3=_0x61de07(_0xeefa31[_0x310abc],_0x42c575+_0x518038,_0x480151,_0x40cffa,_0x3787d1,_0x4207dc,_0x92ca37),_0x480151=_0x4c44e3-0x2;}const _0x4b3594=_0x2b34ec-_0x5466b3-0x4-_0x4c44e3,_0x568b57=_0x5466b3+0x4+_0x4b3594;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x42c575,'y':_0x2b34ec-_0x568b57,'width':_0x2fefb5,'height':_0x568b57,'borderColor':_0x86f521,'borderWidth':0x1});const _0xd1946f=Math['max'](_0x43c18c,_0x568b57);_0xe7dae[_0x6f1157(0x57d)]({'x':_0x4d66ff,'y':_0x2b34ec-_0xd1946f,'width':_0xaba572,'height':_0xd1946f,'borderColor':_0x86f521,'borderWidth':0x1}),_0x33da38=_0x2b34ec-_0xd1946f-0x5;}else _0xe7dae['drawRectangle']({'x':_0x4d66ff,'y':_0x2b34ec-_0x43c18c,'width':_0xaba572,'height':_0x43c18c,'borderColor':_0x86f521,'borderWidth':0x1}),_0x33da38=_0x2b34ec-_0x43c18c-0x5;const _0x5e6c32=_0xaba572+_0x54353d,_0x17409c=_0x5e6c32*0.4,_0x5284d5=_0x5e6c32*0.6;if(setObservacion!=''||_0x139472!=''){let _0x28a9be=_0x33da38;_0xe7dae['drawRectangle']({'x':_0x4d66ff,'y':_0x28a9be-_0x329720,'width':_0x5e6c32,'height':_0x329720,'color':_0x1e862c,'borderColor':_0x1e862c,'borderWidth':0x1}),_0xe7dae[_0x6f1157(0x3b0)](_0x6f1157(0x62c),{'x':_0x4d66ff+_0x474f32,'y':_0x28a9be-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x4dd29c}),_0xe7dae[_0x6f1157(0x3b0)](_0x2700b7,{'x':_0x4d66ff+_0x17409c+_0x474f32,'y':_0x28a9be-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x4dd29c});const _0x405b51=_0x28a9be-_0x329720-_0x261b21,_0x22c46f=_0x405b51-_0x4207dc;let _0x4a09c9=_0x61de07(setObservacion,_0x4d66ff+_0x474f32,_0x22c46f,_0x17409c-_0x474f32*0x2,_0x3787d1,_0x4207dc,_0x5df838),_0x396073=_0x405b51-_0x4a09c9,_0x4e60b0=_0x405b51;for(let _0x36590e=0x0;_0x36590e<_0x44aa55[_0x6f1157(0x517)];_0x36590e++){_0xe7dae['drawText'](_0x44aa55[_0x36590e],{'x':_0x4d66ff+_0x17409c+_0x474f32,'y':_0x4e60b0-(_0x5df838-_0x4207dc),'size':_0x4207dc,'font':_0x3787d1}),_0x4e60b0-=_0x5df838;}let _0x20de2e=_0x405b51-_0x4e60b0,_0x24d8ea=Math[_0x6f1157(0x5b1)](_0x396073,_0x20de2e),_0x57a9f4=_0x329720+_0x261b21+_0x24d8ea;_0xe7dae['drawRectangle']({'x':_0x4d66ff,'y':_0x28a9be-_0x57a9f4,'width':_0x5e6c32,'height':_0x57a9f4,'borderColor':_0x1e862c,'borderWidth':0x1}),_0x33da38=_0x28a9be-_0x57a9f4-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x2fea27=_0x33da38;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x4d66ff,'y':_0x2fea27-_0x329720,'width':_0x5e6c32,'height':_0x329720,'color':_0x1e862c,'borderColor':_0x1e862c,'borderWidth':0x1}),_0xe7dae[_0x6f1157(0x3b0)](_0x6f1157(0x1ec),{'x':_0x4d66ff+_0x474f32,'y':_0x2fea27-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x4dd29c}),_0xe7dae[_0x6f1157(0x3b0)](_0x6f1157(0x313),{'x':_0x4d66ff+_0x17409c+_0x474f32,'y':_0x2fea27-_0x329720+(_0x329720-_0x4207dc)/0x2,'size':_0x4207dc,'font':_0x29fa79,'color':_0x4dd29c});const _0x3576eb=setUrlConsultasCpe,_0x5e4abb='AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x39344a=_0x3576eb[_0x6f1157(0x613)]('\x0a'),_0x504567=_0x5e4abb[_0x6f1157(0x613)]('\x0a'),_0x479430=_0x39344a['length']*_0x5df838,_0x3fcfab=_0x504567['length']*_0x5df838,_0x24fef4=Math[_0x6f1157(0x5b1)](_0x479430,_0x3fcfab);let _0x38cc9f=_0x329720+_0x261b21+_0x24fef4;_0xe7dae[_0x6f1157(0x57d)]({'x':_0x4d66ff,'y':_0x2fea27-_0x38cc9f,'width':_0x5e6c32,'height':_0x38cc9f,'borderColor':_0x1e862c,'borderWidth':0x1});let _0x5b7d49=_0x2fea27-_0x38cc9f,_0x156440=_0x5b7d49+_0x479430,_0x95dc9e=_0x5b7d49+_0x3fcfab;for(let _0x52e1db=0x0;_0x52e1db<_0x39344a[_0x6f1157(0x517)];_0x52e1db++){_0xe7dae['drawText'](_0x39344a[_0x52e1db],{'x':_0x4d66ff+_0x474f32,'y':_0x156440-_0x52e1db*_0x5df838-(_0x5df838-_0x4207dc),'size':_0x4207dc,'font':_0x3787d1});}for(let _0x1f3cf6=0x0;_0x1f3cf6<_0x504567[_0x6f1157(0x517)];_0x1f3cf6++){_0xe7dae[_0x6f1157(0x3b0)](_0x504567[_0x1f3cf6],{'x':_0x4d66ff+_0x17409c+_0x474f32,'y':_0x95dc9e-_0x1f3cf6*_0x5df838-(_0x5df838-_0x4207dc),'size':_0x4207dc,'font':_0x3787d1});}_0x33da38=_0x2fea27-_0x38cc9f-0xa;}else _0x33da38-=0xa;}}return _0x33da38;}function imprimirPdf(){const _0xef553=_0x28d754,_0x38c139=document[_0xef553(0x5b3)]('windowId')[_0xef553(0x4a7)],{pdfGlobalPayload:_0x4a3b71,pdfGlobalBlob:_0x21cec6,pdfGlobalName:_0x1743fc}=getLastOperationGlobalData(_0x38c139);if(!_0x21cec6){ntfShow(_0xef553(0x5b0));return;}const _0x3da02b=URL[_0xef553(0x4f0)](_0x21cec6),_0x773df8=window['open'](_0x3da02b,_0xef553(0x2fe));_0x773df8[_0xef553(0x748)]=()=>{const _0x3a7a56=_0xef553;_0x773df8[_0x3a7a56(0x64d)](),_0x773df8[_0x3a7a56(0x56e)](),URL[_0x3a7a56(0x7a9)](_0x3da02b);};}function descargarPdf(){const _0x1f4679=_0x28d754,_0x3596e6=document[_0x1f4679(0x5b3)](_0x1f4679(0x788))[_0x1f4679(0x4a7)],{pdfGlobalPayload:_0x5c6168,pdfGlobalBlob:_0x447e66,pdfGlobalName:_0x3735f8}=getLastOperationGlobalData(_0x3596e6);if(!_0x447e66){ntfShow(_0x1f4679(0x5b0));return;}const _0x3ddf8a=URL[_0x1f4679(0x4f0)](_0x447e66),_0x5a4b57=document[_0x1f4679(0x57a)]('a');_0x5a4b57['href']=_0x3ddf8a,_0x5a4b57[_0x1f4679(0x624)]=_0x1f4679(0x7bb),_0x5a4b57[_0x1f4679(0x640)](),URL[_0x1f4679(0x7a9)](_0x3ddf8a);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0xe755a1,_0x4ad9b3=0x0){const _0x1da834=_0x28d754;document[_0x1da834(0x1e9)]('.tab-content')[_0x1da834(0x239)](_0x15901b=>_0x15901b[_0x1da834(0x501)]['remove'](_0x1da834(0x542)));const _0x32f558=document['querySelectorAll']('.'+_0xe755a1);_0x32f558[_0x1da834(0x239)](_0x136bb7=>_0x136bb7[_0x1da834(0x501)][_0x1da834(0x7bc)]('active'));const _0x938bc=_0xe755a1[_0x1da834(0x613)]('-')[0x1];document['getElementById'](_0x1da834(0x788))[_0x1da834(0x4a7)]=_0x938bc;const _0x3e5d95=document[_0x1da834(0x5b3)](_0x1da834(0x4c2));_0x3e5d95[_0x1da834(0x4a7)]=_0x1da834(0x6b8)+_0x938bc,await new Promise(_0x492b36=>setTimeout(_0x492b36,0x12c)),renderProducts();const _0x4eb23b=getValidatedWindowAndShift(_0x938bc),{currentWindowShift:_0x55a08e}=_0x4eb23b;if(_0x55a08e){const _0x53fc42=document[_0x1da834(0x5b3)]('setTipoOperacion-'+_0x938bc);if(_0x53fc42){const _0x2a78a9=_0x53fc42['value'];if(!setTipOpeOrders[_0x1da834(0x79e)](_0x4303e2=>_0x4303e2==_0x2a78a9)){let _0x73fbdc=null;for(const _0x32407d of setTipOpeOrders){const _0xe3f19=Array[_0x1da834(0x4fb)](_0x53fc42[_0x1da834(0x332)])[_0x1da834(0x79e)](_0x3f8188=>_0x3f8188[_0x1da834(0x4a7)]==_0x32407d);if(_0xe3f19){_0x73fbdc=_0x32407d;break;}}_0x73fbdc!==null&&(_0x53fc42['value']=_0x73fbdc);}}}parseInt(window_options[_0x938bc][_0x1da834(0x751)])!=0x1&&(window_options[_0x938bc][_0x1da834(0x673)]=obtener_fechaHora());const _0x35341e=document[_0x1da834(0x5b3)]('setTipoOperacion-'+_0x938bc)[_0x1da834(0x4a7)];await updateSerieOptions(_0x35341e,_0x938bc),_0x4ad9b3==0x1&&await setOrders(_0x938bc);}async function setOrders(_0x457f9a){const _0x2ee597=_0x28d754,_0x785da6=getValidatedWindowAndShift(_0x457f9a);if(!_0x785da6)return;const {windowObj:_0x451869,currentWindowShift:_0x53a803}=_0x785da6;if(_0x53a803){const _0x34814e=_0x53a803[_0x2ee597(0x4e4)],_0x22d9ac=_0x53a803[_0x2ee597(0x31d)]||[];console['log'](_0x2ee597(0x58f),_0x22d9ac);const _0x22fa2a=_0x22d9ac[_0x2ee597(0x79e)](_0x1fc517=>_0x1fc517[_0x2ee597(0x577)]==_0x34814e&&setTipOpeSales['some'](_0x1009ca=>_0x1009ca==_0x1fc517[_0x2ee597(0x6f1)]));if(!_0x22fa2a){await removeAllFromCart(_0x457f9a,0x1);const _0x544324=_0x22d9ac[_0x2ee597(0x1fc)](_0x18014e=>{const _0x10e581=_0x2ee597;return _0x18014e[_0x10e581(0x577)]==_0x34814e&&setTipOpeOrders[_0x10e581(0x79e)](_0x34fc36=>_0x34fc36==_0x18014e[_0x10e581(0x6f1)]);});for(const _0x1b02a0 of _0x544324){let _0x5aacd6=_0x1b02a0[_0x2ee597(0x51e)];if(Array['isArray'](_0x1b02a0[_0x2ee597(0x1c3)]))for(const _0x12defe of _0x1b02a0[_0x2ee597(0x1c3)]){if(carts[_0x457f9a]&&carts[_0x457f9a]['some'](_0x1d895f=>_0x1d895f[_0x2ee597(0x50f)]==_0x12defe['cartId']))continue;const _0x4ef7c0=products[_0x2ee597(0x248)](_0x9a6073=>_0x9a6073['id']==_0x12defe['setIdProducto']);_0x4ef7c0&&(await new Promise(_0x352976=>setTimeout(_0x352976,0x64)),addToCart(_0x4ef7c0,{'setValorCantidad':_0x12defe[_0x2ee597(0x3aa)],'setMtoPrecioUnitario_final':_0x12defe[_0x2ee597(0x75f)],'setTaxId':_0x12defe['setTaxId'],'setTipAfeIgv':_0x12defe[_0x2ee597(0x5be)],'setPorcentajeDesc':_0x12defe[_0x2ee597(0x296)],'setNotas':_0x12defe[_0x2ee597(0x31b)],'cartId':_0x12defe[_0x2ee597(0x50f)],'setWindowShiftId':_0x34814e,'setOrderId':_0x5aacd6,'setMtoPrecioUnitario_input':_0x12defe[_0x2ee597(0x7c0)],'setMtoPrecioCostoUnitario_input':_0x12defe[_0x2ee597(0x500)]},0x1,_0x457f9a));}}}}else{if(_0x451869[_0x2ee597(0x268)]==_0x2ee597(0x26e)){}}}function showModalWindowShift(){const _0x340d65=_0x28d754,_0xa1808a=document[_0x340d65(0x5b3)](_0x340d65(0x714)),_0x41cdd3=document[_0x340d65(0x5b3)](_0x340d65(0x704));_0xa1808a[_0x340d65(0x501)][_0x340d65(0x7bc)](_0x340d65(0x542)),_0x41cdd3[_0x340d65(0x4d1)][_0x340d65(0x746)]=_0x340d65(0x355);}function hideModalWindowShift(){const _0x1697b4=_0x28d754,_0x43767b=document[_0x1697b4(0x5b3)](_0x1697b4(0x714)),_0x189c6a=document[_0x1697b4(0x5b3)](_0x1697b4(0x704));_0x43767b[_0x1697b4(0x501)]['remove'](_0x1697b4(0x542)),_0x189c6a[_0x1697b4(0x4d1)][_0x1697b4(0x746)]=_0x1697b4(0x44a);}document['getElementById'](_0x28d754(0x54d))[_0x28d754(0x507)](_0x28d754(0x640),hideModalWindowShift),document[_0x28d754(0x5b3)](_0x28d754(0x704))[_0x28d754(0x507)](_0x28d754(0x640),_0x5414b5=>{const _0x59cab6=_0x28d754;_0x5414b5['target']==_0x5414b5[_0x59cab6(0x73b)]&&_0x5414b5[_0x59cab6(0x534)]();});function getValidatedWindowAndShift(_0x7a06a1){const _0x39c751=_0x28d754,_0x1c6408=myCompany[_0x39c751(0x369)][_0x39c751(0x248)](_0x2c3303=>_0x2c3303['setWindowId']==_0x7a06a1);if(!_0x1c6408)return null;!_0x1c6408['setShifts']&&(_0x1c6408['setShifts']=[]);const _0x404aa3=_0x1c6408[_0x39c751(0x709)][_0x39c751(0x248)](_0x5be357=>_0x5be357[_0x39c751(0x61e)]=='1');return{'windowObj':_0x1c6408,'currentWindowShift':_0x404aa3};}async function updateWindowShiftDisplay(_0x7ec289){const _0x343d8b=_0x28d754,_0x25b902=document[_0x343d8b(0x5b3)](_0x343d8b(0x4c6));_0x25b902[_0x343d8b(0x566)]='';const _0x6298b5=getValidatedWindowAndShift(_0x7ec289);if(!_0x6298b5)return;const {windowObj:_0x12641f,currentWindowShift:_0x4d1ddf}=_0x6298b5;if(!_0x4d1ddf){const _0x4cc483=_0x12641f;let _0x273eeb,_0x1e4df4;if(_0x4cc483[_0x343d8b(0x5cb)]==_0x343d8b(0x1ee))_0x273eeb=_0x343d8b(0x3cd),_0x1e4df4=_0x343d8b(0x2ca);else{if(_0x4cc483['setWindowType']==_0x343d8b(0x527))_0x273eeb='Aperturar\x20Mesa',_0x1e4df4=_0x343d8b(0x4cf);else{if(_0x4cc483[_0x343d8b(0x5cb)]==_0x343d8b(0x51f))_0x273eeb=_0x343d8b(0x70b),_0x1e4df4='./img/layout/icon-room.svg';else _0x4cc483[_0x343d8b(0x5cb)]==_0x343d8b(0x473)&&(_0x273eeb=_0x343d8b(0x71d),_0x1e4df4=_0x343d8b(0x2ca));}}const _0x3206ba=document[_0x343d8b(0x57a)](_0x343d8b(0x35d));_0x3206ba[_0x343d8b(0x78c)]=_0x343d8b(0x6d1);const _0x16f1be=document[_0x343d8b(0x57a)](_0x343d8b(0x35d));_0x16f1be[_0x343d8b(0x78c)]=_0x343d8b(0x2d3);const _0x5b9a89=document[_0x343d8b(0x57a)]('img');_0x5b9a89[_0x343d8b(0x78c)]=_0x343d8b(0x589),_0x5b9a89['src']=_0x1e4df4,_0x5b9a89['alt']=_0x273eeb,_0x16f1be[_0x343d8b(0x586)](_0x5b9a89);const _0x3c96c0=document[_0x343d8b(0x57a)](_0x343d8b(0x35d));_0x3c96c0[_0x343d8b(0x78c)]=_0x343d8b(0x470);const _0x1e9279=document[_0x343d8b(0x57a)]('h2');_0x1e9279[_0x343d8b(0x78c)]='shift-open-title',_0x1e9279['textContent']=_0x273eeb;const _0x340ab9=document[_0x343d8b(0x57a)](_0x343d8b(0x35d));_0x340ab9[_0x343d8b(0x78c)]=_0x343d8b(0x791);const _0x1eb886=document[_0x343d8b(0x57a)](_0x343d8b(0x267));_0x1eb886[_0x343d8b(0x78c)]=_0x343d8b(0x42a),_0x1eb886['id']='btnWindowShiftStart',_0x1eb886[_0x343d8b(0x68b)]=_0x343d8b(0x52f),_0x1eb886[_0x343d8b(0x507)](_0x343d8b(0x640),()=>openWindowShift(_0x7ec289)),_0x340ab9[_0x343d8b(0x586)](_0x1eb886),_0x3c96c0[_0x343d8b(0x586)](_0x1e9279),_0x3c96c0[_0x343d8b(0x586)](_0x340ab9),_0x3206ba[_0x343d8b(0x586)](_0x16f1be),_0x3206ba[_0x343d8b(0x586)](_0x3c96c0),_0x25b902[_0x343d8b(0x586)](_0x3206ba),showModalWindowShift();}else{}}async function openWindowShift(_0x34ccf0){const _0x252480=_0x28d754,_0x5907b0=document[_0x252480(0x5b3)]('btnWindowShiftStart');if(!_0x5907b0){console['error'](_0x252480(0x5d8));return;}const _0x48b525=getValidatedWindowAndShift(_0x34ccf0);if(!_0x48b525){ntfShow('Error.\x20La\x20ventana\x20no\x20existe.');return;}const {windowObj:_0x335f69,currentWindowShift:_0x328ff7}=_0x48b525;if(_0x328ff7){ntfShow(_0x252480(0x4fd));return;}_0x5907b0[_0x252480(0x5ab)]=!![],hideModalWindowShift(),showLoadingModal();const _0x4d8ee4=new Date(),_0x445c41='0000-00-00\x2000:00:00',_0x5d4415=generateUniqId();_0x335f69[_0x252480(0x709)]['push']({'setShiftId':_0x5d4415,'setShiftStatus':'1','setShiftDateStart':_0x4d8ee4,'setShiftDateEnd':_0x445c41,'setShiftUserEmail':myCompany[_0x252480(0x41a)]['setUserName']}),_0x335f69[_0x252480(0x268)]=_0x252480(0x63a),_0x335f69[_0x252480(0x3f4)]=nowWithMillisecondsForServer();const _0x2a5ef6=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2a5ef6),ntfShow(_0x252480(0x3f2)+_0x4d8ee4[_0x252480(0x37b)]()),await apiERPsyncWindows();const _0x5d20e1=_0x252480(0x6b8)+_0x34ccf0;await switchTab(_0x5d20e1,0x1),_0x5907b0[_0x252480(0x5ab)]=![],hideLoadingModal();}function getMaxWindowId(_0x89073f){const _0x21edff=_0x28d754,_0xf26b60=Object[_0x21edff(0x4a1)](_0x89073f);if(_0xf26b60[_0x21edff(0x517)]==0x0)return 0x0;return Math[_0x21edff(0x5b1)](..._0xf26b60[_0x21edff(0x6f6)](_0x1b5b92=>parseInt(_0x1b5b92,0xa)));}async function updateTab(_0x3188f5){return new Promise(async _0x2d3d05=>{const _0x595149=_0x8473,_0x300bf7=myCompany[_0x595149(0x369)][_0x595149(0x248)](_0x23e494=>_0x23e494[_0x595149(0x73a)]==_0x3188f5);if(!_0x300bf7){console['error']('No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20'+_0x3188f5),_0x2d3d05();return;}const _0x571c8e='tab-'+_0x3188f5,_0x1294c7=document['getElementById']('selectTab'),_0x529ffa=document[_0x595149(0x57a)](_0x595149(0x4d9));_0x529ffa['value']=_0x571c8e,_0x529ffa['textContent']=_0x300bf7['setWindowName'],_0x1294c7['appendChild'](_0x529ffa),await createFormElements(_0x571c8e),_0x2d3d05();});}async function addNewTab(_0x398de1){const _0x19dfa3=_0x28d754;if(parseFloat(_0x398de1)===0x0){ntfShow(_0x19dfa3(0x424));return;}let _0x409a31=_0x398de1;tabCount=parseFloat(_0x398de1),carts[_0x409a31]=[],window_options[_0x409a31]={};try{await createCartStore(_0x409a31),await updateTab(_0x409a31);}catch(_0x3f2090){console[_0x19dfa3(0x574)](_0x19dfa3(0x3ed),_0x3f2090);}}document['getElementById'](_0x28d754(0x5d1))['onchange']=_0xe9b185=>{const _0x2767e6=_0x28d754;itemsPerPage=parseInt(_0xe9b185[_0x2767e6(0x643)][_0x2767e6(0x4a7)],0xa),currentPage=0x1,renderProducts(searchInput[_0x2767e6(0x4a7)]);};function procesarProductos(_0x580c29){const _0x660f53=_0x28d754,_0x1827b0=parseFloat(_0x580c29[_0x660f53(0x65d)])||0x0,_0x58f976=_0x580c29[_0x660f53(0x2eb)],_0x3689f7=parseFloat(_0x580c29[_0x660f53(0x265)])||0x0,_0xf5631d=_0x1827b0/0x64,_0x1c98fe={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x5d0f14=[];for(const _0x5341f0 of _0x58f976){if(!_0x5341f0[_0x660f53(0x208)]||!_0x5341f0[_0x660f53(0x5be)])throw new Error('JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.');let {valorUnit:_0x270800,precioUnit:_0x1e2bf4,valorCantidad:_0x46b832,valorPorcentajeIgv:_0x4d256f,setTipAfeIgv:_0x10b396,setDescuento:_0x1b5626}=_0x5341f0;const _0x3171d0=_0x1b5626?.[_0x660f53(0x388)]||'',_0x3edced=_0x1b5626?.[_0x660f53(0x296)]||0x0;!_0x270800?_0x270800=setTipAfeImpGravados['some'](_0x4101fa=>_0x4101fa==_0x10b396)?_0x1e2bf4/(0x1+_0x4d256f/0x64):_0x1e2bf4:_0x1e2bf4=setTipAfeImpGravados[_0x660f53(0x79e)](_0x416457=>_0x416457==_0x10b396)?_0x270800+_0x270800*(_0x4d256f/0x64):_0x270800;let _0x1818e6=0x0,_0x583782=0x0,_0x53dcf5=0x0,_0xa737d8=0x0,_0x5a09b6=0x0,_0x5ab09c=0x0,_0x36a0f0=0x0,_0x1a0577=0x0,_0x42976d=0x0,_0xd00e7d=0x0,_0x2d2c46=0x0,_0x8b232c=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x660f53(0x79e)](_0x3b7b25=>_0x3b7b25==_0x10b396):_0x1818e6=_0x270800,_0x583782=0x0,_0x53dcf5=_0x1818e6*_0x46b832;_0x3edced>0x0&&(_0x1a0577=_0x3edced/0x64,_0x42976d=_0x53dcf5,_0xd00e7d=_0x42976d*_0x1a0577,_0x2d2c46=(_0x42976d+_0x42976d*(_0x4d256f/0x64))*_0x1a0577,_0x53dcf5-=_0xd00e7d,_0x1c98fe[_0x660f53(0x70c)]+=_0xd00e7d,_0x1c98fe[_0x660f53(0x3c4)]+=_0x2d2c46);_0xa737d8=_0x53dcf5,_0x5ab09c=_0xa737d8*(_0x4d256f/0x64),_0x5a09b6=_0x4d256f,_0x36a0f0=(_0x53dcf5+_0x5ab09c)/_0x46b832,_0x1c98fe[_0x660f53(0x457)]+=_0x53dcf5,_0x1c98fe[_0x660f53(0x297)]+=_0x5ab09c;break;case setTipAfeImpExonerados[_0x660f53(0x79e)](_0x3d5dff=>_0x3d5dff==_0x10b396)||setTipAfeImpInafectos[_0x660f53(0x79e)](_0x298621=>_0x298621==_0x10b396):_0x1818e6=_0x270800,_0x583782=0x0,_0x53dcf5=_0x1818e6*_0x46b832;_0x3edced>0x0&&(_0x1a0577=_0x3edced/0x64,_0x42976d=_0x53dcf5,_0xd00e7d=_0x42976d*_0x1a0577,_0x2d2c46=_0xd00e7d,_0x53dcf5-=_0xd00e7d,_0x1c98fe['setMtoDescItems']+=_0xd00e7d,_0x1c98fe[_0x660f53(0x3c4)]+=_0x2d2c46);_0xa737d8=_0x53dcf5,_0x5ab09c=0x0,_0x5a09b6=0x0,_0x36a0f0=(_0x53dcf5+_0x5ab09c)/_0x46b832;setTipAfeImpExonerados[_0x660f53(0x79e)](_0x28bb0f=>_0x28bb0f==_0x10b396)?_0x1c98fe['setMtoOperExoneradas']+=_0x53dcf5:_0x1c98fe[_0x660f53(0x61a)]+=_0x53dcf5;break;case setTipAfeImpGravadosGrat[_0x660f53(0x79e)](_0x585e7a=>_0x585e7a==_0x10b396):_0x1818e6=0x0,_0x583782=_0x270800,_0x53dcf5=_0x583782*_0x46b832,_0xa737d8=_0x53dcf5,_0x5ab09c=_0xa737d8*(_0x4d256f/0x64),_0x5a09b6=_0x4d256f,_0x36a0f0=0x0,_0x1c98fe[_0x660f53(0x320)]+=_0x53dcf5,_0x1c98fe['setMtoIGVGratuitas']+=_0x5ab09c;break;case setTipAfeImpExoneradosGrat[_0x660f53(0x79e)](_0x39de4a=>_0x39de4a==_0x10b396)||setTipAfeImpInafectosGrat[_0x660f53(0x79e)](_0x30ef58=>_0x30ef58==_0x10b396):_0x1818e6=0x0,_0x583782=_0x270800,_0x53dcf5=_0x583782*_0x46b832,_0xa737d8=_0x53dcf5,_0x5ab09c=0x0,_0x5a09b6=0x0,_0x36a0f0=0x0,_0x1c98fe[_0x660f53(0x320)]+=_0x53dcf5;break;default:console['error'](_0x660f53(0x601)+_0x10b396);continue;}_0x8b232c=_0x36a0f0*_0x46b832,_0x5d0f14['push']({'setMtoValorUnitario':_0x1818e6,'setMtoValorGratuito':_0x583782,'setMtoValorVenta':_0x53dcf5,'setMtoBaseIgv':_0xa737d8,'setPorcentajeIgv':_0x5a09b6,'setIgv':_0x5ab09c,'setTipAfeIgv':_0x10b396,'setTotalImpuestos':_0x5ab09c,'setMtoPrecioUnitario':_0x36a0f0,'setDescuento_setCodTipo':_0x3171d0,'setDescuento_setMontoBase':_0x42976d,'setDescuento_setFactor':_0x1a0577,'setDescuento_setMonto':_0xd00e7d,'setDescuento_setMonto_precio':_0x2d2c46,'setPorcentajeDesc':_0x3edced,'setTotal':_0x8b232c,'setMtoValorUnitario_final':_0x270800,'setMtoPrecioUnitario_final':_0x1e2bf4});}_0x1c98fe[_0x660f53(0x458)]=_0x1c98fe[_0x660f53(0x297)],_0x1c98fe[_0x660f53(0x4d7)]=_0x1c98fe[_0x660f53(0x457)]+_0x1c98fe[_0x660f53(0x2a7)]+_0x1c98fe[_0x660f53(0x61a)],_0x1c98fe[_0x660f53(0x506)]=_0x1c98fe['setValorVenta']+_0x1c98fe[_0x660f53(0x458)],_0x1c98fe[_0x660f53(0x6d8)]=_0x1c98fe[_0x660f53(0x506)];if(_0x3689f7>0x0){const _0x3aa9e4=_0x3689f7/(0x1+_0xf5631d),_0x1044a1=_0x3aa9e4*(_0x1c98fe['setMtoOperGravadas']/_0x1c98fe['setValorVenta']),_0x412cbe=_0x3689f7*(_0x1c98fe[_0x660f53(0x2a7)]/_0x1c98fe['setValorVenta']),_0x5bfa26=_0x3689f7*(_0x1c98fe[_0x660f53(0x61a)]/_0x1c98fe[_0x660f53(0x4d7)]);_0x1c98fe['setMtoOperGravadas']-=_0x1044a1,_0x1c98fe[_0x660f53(0x2a7)]-=_0x412cbe,_0x1c98fe['setMtoOperInafectas']-=_0x5bfa26,_0x1c98fe[_0x660f53(0x297)]=_0x1c98fe[_0x660f53(0x457)]*_0xf5631d,_0x1c98fe[_0x660f53(0x458)]=_0x1c98fe[_0x660f53(0x297)],_0x1c98fe['setValorVenta']=_0x1c98fe[_0x660f53(0x457)]+_0x1c98fe[_0x660f53(0x2a7)]+_0x1c98fe[_0x660f53(0x61a)],_0x1c98fe[_0x660f53(0x506)]=_0x1c98fe[_0x660f53(0x4d7)]+_0x1c98fe[_0x660f53(0x458)],_0x1c98fe['setMtoImpVenta']=_0x1c98fe[_0x660f53(0x506)];}return{'setInvoice':_0x1c98fe,'setInvoiceDetails':_0x5d0f14};}function selectAllChecks(_0x4cb8e3){const _0x312fc5=_0x28d754,_0x26f1f5=document[_0x312fc5(0x5b3)](_0x312fc5(0x5de)+_0x4cb8e3),_0x299dd1=_0x26f1f5[_0x312fc5(0x77b)],_0x251d88=document[_0x312fc5(0x1e9)]('.itemCheckbox-'+_0x4cb8e3);_0x251d88['forEach'](_0x4299b8=>{_0x4299b8['checked']=_0x299dd1,_0x4299b8['value']=_0x299dd1?0x1:0x0;}),carts[_0x4cb8e3][_0x312fc5(0x239)](_0x2d707c=>{const _0x5333bf=_0x312fc5;_0x2d707c[_0x5333bf(0x3ff)]=_0x299dd1?0x1:0x0;}),renderCart(_0x4cb8e3);}async function setPreAccount(_0x2137e4){const _0xbda4d5=_0x28d754;showLoadingModal(),await setBill(_0x2137e4);const _0x18d3a8=buildPayload(_0x2137e4),{pdfBlob:_0x21854a,pdfName:_0x4cb26d}=await generatePdf(_0x18d3a8,'tk','pdfCanvas',_0xbda4d5(0x4b7),0x1);hideLoadingModal(),setLastOperationGlobalData(_0x2137e4,{'pdfGlobalPayload':_0x18d3a8,'pdfGlobalBlob':_0x21854a,'pdfGlobalName':_0x4cb26d}),showModal();const _0x2917f6=getValidatedWindowAndShift(_0x2137e4);if(_0x2917f6){const {windowObj:_0x4f36b6,currentWindowShift:_0x214707}=_0x2917f6;if(_0x214707){_0x214707['setPreAccountDate']=new Date(),_0x4f36b6[_0xbda4d5(0x268)]=_0xbda4d5(0x475),_0x4f36b6[_0xbda4d5(0x3f4)]=nowWithMillisecondsForServer();const _0x3fbdfc=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3fbdfc),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x4fb691){const _0x328b9a=_0x28d754,_0x37cf6d=parseInt(_0x4fb691,0xa),_0xbcf17b=elementos[_0x328b9a(0x248)](_0x34b3e9=>_0x34b3e9['setWindowId']===_0x37cf6d);if(!_0xbcf17b)return console['warn'](_0x328b9a(0x610),_0x37cf6d);await clickMesa(_0xbcf17b,0x0),await setPreAccount(_0x4fb691);const _0x5f2661=document['getElementById'](_0x328b9a(0x670))[_0x328b9a(0x4a7)];handleTabSelection(_0x5f2661);}async function setBill(_0x576bbe){const _0x3b9a89=_0x28d754,_0x27f62b=document[_0x3b9a89(0x5b3)](_0x3b9a89(0x73f)+_0x576bbe);if(_0x27f62b){let _0x4cddd0=null;for(const _0x203f5e of setTipOpeSales){const _0x528c6c=Array[_0x3b9a89(0x4fb)](_0x27f62b[_0x3b9a89(0x332)])['some'](_0x3cfa9b=>_0x3cfa9b['value']==_0x203f5e);if(_0x528c6c){_0x4cddd0=_0x203f5e;break;}}_0x4cddd0!==null?(window_options[_0x576bbe][_0x3b9a89(0x6f1)]=_0x4cddd0,await updateSerieOptions(_0x4cddd0,_0x576bbe),renderCart(_0x576bbe)):console[_0x3b9a89(0x4e0)](_0x3b9a89(0x24f));}else console[_0x3b9a89(0x574)](_0x3b9a89(0x57f));}function renderCart(_0x5d83e1){const _0x1a695d=_0x28d754,_0xc0aab7=document[_0x1a695d(0x5b3)]('cart-'+_0x5d83e1),_0xb2f9cc=document['getElementById'](_0x1a695d(0x605)+_0x5d83e1),_0x53767e=document[_0x1a695d(0x5b3)](_0x1a695d(0x6f4)+_0x5d83e1),_0x4de4ff=document['getElementById'](_0x1a695d(0x3c3)+_0x5d83e1),_0x2f4955=document['getElementById'](_0x1a695d(0x356)+_0x5d83e1),_0x41b234=document[_0x1a695d(0x5b3)]('float-right-OpInafecta-'+_0x5d83e1),_0x40b4fb=document[_0x1a695d(0x5b3)](_0x1a695d(0x2a0)+_0x5d83e1),_0x275cd9=document[_0x1a695d(0x5b3)]('float-right-Subtotal-'+_0x5d83e1),_0x394d42=document['getElementById']('float-right-TotalIgv-'+_0x5d83e1),_0x449e85=document[_0x1a695d(0x5b3)](_0x1a695d(0x7b8)+_0x5d83e1),_0x244627=document['getElementById'](_0x1a695d(0x3e0)+_0x5d83e1);_0xc0aab7['innerHTML']='';const _0x48f083=carts[_0x5d83e1];let _0x37ae67,_0x2e9e5c;if(setTipOpeOrders[_0x1a695d(0x79e)](_0x4b29a1=>_0x4b29a1==window_options[_0x5d83e1]['setTipoOperacion']))_0x37ae67=_0x48f083[_0x1a695d(0x1fc)](_0x35abb3=>_0x35abb3[_0x1a695d(0x3ff)]==0x1&&_0x35abb3['setWindowShiftId']==''),_0x2e9e5c=myCompany[_0x1a695d(0x4ed)][_0x1a695d(0x1fc)](_0x39112f=>_0x39112f['setAccountingAccountType']==0x1);else setTipOpeSales['some'](_0x470271=>_0x470271==window_options[_0x5d83e1][_0x1a695d(0x6f1)])||setTipOpeQuotation[_0x1a695d(0x79e)](_0x418d01=>_0x418d01==window_options[_0x5d83e1]['setTipoOperacion'])||setTipOpeShippingGuide[_0x1a695d(0x79e)](_0x2653bf=>_0x2653bf==window_options[_0x5d83e1][_0x1a695d(0x6f1)])?(_0x37ae67=_0x48f083[_0x1a695d(0x1fc)](_0x4d8b70=>_0x4d8b70[_0x1a695d(0x3ff)]==0x1),_0x2e9e5c=myCompany[_0x1a695d(0x4ed)][_0x1a695d(0x1fc)](_0x303753=>_0x303753[_0x1a695d(0x5c3)]==0x1)):(_0x37ae67=_0x48f083[_0x1a695d(0x1fc)](_0x525b3a=>_0x525b3a[_0x1a695d(0x3ff)]==0x1),_0x2e9e5c=myCompany['setAccountingAccounts'][_0x1a695d(0x1fc)](_0x5ed94b=>_0x5ed94b[_0x1a695d(0x5c3)]==0x2));const _0xdcf4b=_0x37ae67[_0x1a695d(0x6f6)](_0x1e3a07=>({'valorUnit':_0x1e3a07[_0x1a695d(0x205)],'precioUnit':_0x1e3a07[_0x1a695d(0x75f)],'valorCantidad':_0x1e3a07[_0x1a695d(0x3aa)],'valorPorcentajeIgv':_0x1e3a07[_0x1a695d(0x70d)],'setTipAfeIgv':_0x1e3a07['setTipAfeIgv'],'setDescuento':{'setCodTipo':_0x1e3a07[_0x1a695d(0x538)]?.[_0x1a695d(0x388)]||'00','setPorcentajeDesc':_0x1e3a07[_0x1a695d(0x538)]?.['setPorcentajeDesc']||0x0}})),_0x2dd384=window_options[_0x5d83e1],_0x3d17f4=_0x2dd384[_0x1a695d(0x590)],{setInvoice:_0x454acf}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x1a695d(0x247)]['find'](_0x2a92a9=>_0x2a92a9[_0x1a695d(0x626)]==myCompany[_0x1a695d(0x491)])?.[_0x1a695d(0x59e)],'items':_0xdcf4b,'descuentoGlobalMonto':_0x3d17f4}),_0x2cedaf={..._0x2dd384,..._0x454acf};window_options[_0x5d83e1]=_0x2cedaf;const {setMtoOperGravadas:_0x32d6ca,setMtoOperExoneradas:_0x57fa55,setMtoOperInafectas:_0x271710,setValorVenta:_0x3340c1,setMtoIGV:_0x1c86b7,setMtoImpVenta:_0x144e52,setMtoOperGratuitas:_0x223afa,setMtoIGVGratuitas:_0x48062f,setMtoDescItems_precio:_0x1bd221}=_0x454acf,_0x29d3fd=document[_0x1a695d(0x5b3)](_0x1a695d(0x50d)+_0x5d83e1),_0x4daa57=_0x2dd384[_0x1a695d(0x6f1)];parseFloat(_0x48062f)>0x0&&(_0x4daa57=='3'||_0x4daa57=='4'||_0x4daa57=='7'||_0x4daa57=='11'||_0x4daa57=='14'||_0x4daa57=='17'||_0x4daa57=='18'||_0x4daa57=='21'||_0x4daa57=='24')?_0x29d3fd['classList'][_0x1a695d(0x656)](_0x1a695d(0x6e3)):_0x29d3fd[_0x1a695d(0x501)][_0x1a695d(0x7bc)]('d-none');const _0x2c2b8c=document[_0x1a695d(0x5b3)](_0x1a695d(0x5b2)+_0x5d83e1);parseFloat(_0x1bd221)>0x0?_0x2c2b8c['classList']['remove'](_0x1a695d(0x6e3)):_0x2c2b8c[_0x1a695d(0x501)]['add'](_0x1a695d(0x6e3));let _0x5d075f;parseInt(window_options[_0x5d83e1][_0x1a695d(0x713)])==0x1?_0x5d075f='':_0x5d075f=_0x1a695d(0x675);const _0x49c3e3=getUserPermissionApiERP(0xc);_0x48f083[_0x1a695d(0x239)]((_0x114269,_0x33430f)=>{const _0x53ba4b=_0x1a695d;let _0x56de48='';_0x114269[_0x53ba4b(0x577)]!=''&&(_0x56de48='hidden');const _0x7a943b=document['createElement'](_0x53ba4b(0x35d));_0x7a943b[_0x53ba4b(0x78c)]=_0x53ba4b(0x4c8);const _0x1bf198=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x1bf198[_0x53ba4b(0x78c)]='cart-item';const _0x4fbc0d=document[_0x53ba4b(0x57a)]('div');_0x4fbc0d['id']=_0x53ba4b(0x77c)+_0x5d83e1+'-'+_0x114269['id'];_0x114269[_0x53ba4b(0x771)]==0x1?_0x4fbc0d[_0x53ba4b(0x78c)]='cart-item-options':_0x4fbc0d[_0x53ba4b(0x78c)]='cart-item-options\x20d-none';const _0x2f58cc=createElement(_0x53ba4b(0x5e3),{'type':_0x53ba4b(0x36a),'class':_0x53ba4b(0x33f)+_0x5d83e1+'\x20'+_0x5d075f,'value':_0x114269[_0x53ba4b(0x3ff)],'events':{'click':_0x4376c9=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x3ff),_0x4376c9[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)])}});_0x114269[_0x53ba4b(0x3ff)]==0x1&&(_0x2f58cc[_0x53ba4b(0x77b)]=_0x53ba4b(0x77b));_0x1bf198['appendChild'](_0x2f58cc);const _0x4bdf3e=products[_0x53ba4b(0x248)](_0x5b210e=>_0x5b210e['id']==_0x114269['setIdProducto']);let _0x485de3='';if(_0x4bdf3e){const _0x48a68d=[];if(_0x4bdf3e['setCodProducto'])_0x48a68d[_0x53ba4b(0x48d)](_0x53ba4b(0x21d)+_0x4bdf3e['setCodProducto']);if(_0x4bdf3e['setItemDescription'])_0x48a68d[_0x53ba4b(0x48d)](''+_0x4bdf3e[_0x53ba4b(0x729)]);if(_0x4bdf3e[_0x53ba4b(0x650)])_0x48a68d['push'](''+_0x4bdf3e[_0x53ba4b(0x650)]);if(_0x4bdf3e[_0x53ba4b(0x68f)]){const _0x1e8f5f=_0x4bdf3e['setBatchExpirationDate'][_0x53ba4b(0x613)]('-'),_0x270a2e=_0x1e8f5f[0x2]+'/'+_0x1e8f5f[0x1]+'/'+_0x1e8f5f[0x0];_0x48a68d['push'](_0x53ba4b(0x76e)+_0x270a2e);}_0x485de3=_0x48a68d[_0x53ba4b(0x711)](_0x53ba4b(0x78e));}const _0x25cea4=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x25cea4['innerHTML']=_0x114269['setCodProducto']+'\x20-\x20'+_0x114269[_0x53ba4b(0x639)]+_0x53ba4b(0x293)+(_0x114269[_0x53ba4b(0x31b)]??'')+_0x53ba4b(0x2fa),_0x25cea4[_0x53ba4b(0x78c)]='input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40';if(_0x485de3)_0x25cea4[_0x53ba4b(0x1d9)](_0x53ba4b(0x524),_0x485de3);_0x1bf198[_0x53ba4b(0x586)](_0x25cea4);const _0x1580b1=document[_0x53ba4b(0x57a)](_0x53ba4b(0x71f));_0x1580b1[_0x53ba4b(0x4a7)]=_0x114269[_0x53ba4b(0x639)]||'',_0x1580b1[_0x53ba4b(0x78c)]=_0x53ba4b(0x6f9),_0x1580b1[_0x53ba4b(0x48e)]=_0x53ba4b(0x404),_0x1580b1[_0x53ba4b(0x252)]=_0x404825=>updateCartItem(_0x5d83e1,_0x33430f,'setDescripcion',_0x404825[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)]),_0x1bf198[_0x53ba4b(0x586)](_0x1580b1),_0x25cea4[_0x53ba4b(0x507)](_0x53ba4b(0x640),()=>{const _0x7af901=_0x53ba4b;_0x25cea4[_0x7af901(0x501)][_0x7af901(0x7bc)]('hidden'),_0x1580b1[_0x7af901(0x501)][_0x7af901(0x656)](_0x7af901(0x675)),_0x1580b1[_0x7af901(0x64d)]();}),_0x1580b1[_0x53ba4b(0x507)](_0x53ba4b(0x593),()=>{renderCart(_0x5d83e1);});const _0x415af6=document[_0x53ba4b(0x57a)](_0x53ba4b(0x267));_0x415af6['innerHTML']=_0x53ba4b(0x699),_0x415af6['id']=_0x53ba4b(0x2c3)+_0x5d83e1+'-'+_0x114269['id'],_0x415af6[_0x53ba4b(0x78c)]=_0x53ba4b(0x2a9)+_0x56de48,_0x415af6[_0x53ba4b(0x507)]('click',()=>{const _0x1f913c=_0x53ba4b,_0x30674c=_0x4fbc0d[_0x1f913c(0x501)][_0x1f913c(0x21f)](_0x1f913c(0x6e3));_0x30674c?(_0x4fbc0d['classList']['remove'](_0x1f913c(0x6e3)),_0x415af6['innerHTML']=_0x1f913c(0x531),updateCartItem(_0x5d83e1,_0x33430f,_0x1f913c(0x771),0x1)):(_0x4fbc0d['classList'][_0x1f913c(0x7bc)](_0x1f913c(0x6e3)),_0x415af6[_0x1f913c(0x566)]=_0x1f913c(0x699),updateCartItem(_0x5d83e1,_0x33430f,_0x1f913c(0x771),0x0));}),_0x1bf198['appendChild'](_0x415af6);const _0x82afe0=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x82afe0['className']=_0x53ba4b(0x422);const _0x366055=document[_0x53ba4b(0x57a)](_0x53ba4b(0x267));_0x366055['className']=_0x53ba4b(0x564)+_0x56de48,_0x366055[_0x53ba4b(0x566)]=_0x53ba4b(0x1c8),_0x366055[_0x53ba4b(0x290)]=()=>{const _0x18b20c=_0x53ba4b;let _0xd86caf=parseFloat(_0x114269['setCantidad'])||0x0;_0xd86caf<=0x1?_0xd86caf=Math['max'](0.1,_0xd86caf-0.1):_0xd86caf=Math[_0x18b20c(0x5b1)](0x0,_0xd86caf-0x1),_0x114269[_0x18b20c(0x3aa)]=_0xd86caf[_0x18b20c(0x3ea)](0x1),_0x4a900d[_0x18b20c(0x4a7)]=_0x114269['setCantidad']||0x0,updateCartItem(_0x5d83e1,_0x33430f,_0x18b20c(0x3aa),_0x114269[_0x18b20c(0x3aa)]);};const _0x4a900d=document[_0x53ba4b(0x57a)]('input');_0x114269[_0x53ba4b(0x577)]!=''&&(_0x4a900d[_0x53ba4b(0x5ef)]=!![]);_0x4a900d['type']=_0x53ba4b(0x775),_0x4a900d[_0x53ba4b(0x50c)]='0.1',_0x4a900d[_0x53ba4b(0x4f5)]=_0x53ba4b(0x4e2),_0x4a900d[_0x53ba4b(0x4a7)]=_0x114269[_0x53ba4b(0x3aa)]||0x0,_0x4a900d[_0x53ba4b(0x78c)]=_0x53ba4b(0x6ba),_0x4a900d[_0x53ba4b(0x252)]=_0x2fae9c=>{const _0x2c70b6=_0x53ba4b;var _0x45de90=parseInt(_0x49c3e3,0xa)||0x0,_0x41f493=Math[_0x2c70b6(0x284)](0xa,-_0x45de90);let _0x45128a=parseFloat(_0x2fae9c[_0x2c70b6(0x643)][_0x2c70b6(0x4a7)])||0x0;_0x45128a=_0x45128a<0x1?Math['max'](_0x41f493,_0x45128a):Math['max'](0x1,_0x45128a),_0x114269[_0x2c70b6(0x3aa)]=_0x45128a[_0x2c70b6(0x3ea)](_0x45de90),updateCartItem(_0x5d83e1,_0x33430f,_0x2c70b6(0x3aa),_0x114269[_0x2c70b6(0x3aa)]);};const _0x187a78=document[_0x53ba4b(0x57a)]('button');_0x187a78[_0x53ba4b(0x78c)]='btn\x20btn-none\x20'+_0x56de48,_0x187a78[_0x53ba4b(0x566)]=_0x53ba4b(0x77f),_0x187a78['onclick']=()=>{const _0x53e346=_0x53ba4b;let _0x9083d8=parseFloat(_0x114269[_0x53e346(0x3aa)])||0x0;_0x9083d8<0x1?_0x9083d8=_0x9083d8+0.1:_0x9083d8=_0x9083d8+0x1,_0x114269['setCantidad']=_0x9083d8['toFixed'](0x1),_0x4a900d[_0x53e346(0x4a7)]=_0x114269[_0x53e346(0x3aa)]||0x0,updateCartItem(_0x5d83e1,_0x33430f,_0x53e346(0x3aa),_0x114269['setCantidad']);},_0x82afe0[_0x53ba4b(0x586)](_0x366055),_0x82afe0[_0x53ba4b(0x586)](_0x4a900d),_0x82afe0[_0x53ba4b(0x586)](_0x187a78),_0x1bf198[_0x53ba4b(0x586)](_0x82afe0);const _0x425375=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x425375[_0x53ba4b(0x68b)]=''+(parseFloat(_0x114269[_0x53ba4b(0x389)])||0x0)[_0x53ba4b(0x3ea)](0x2),_0x425375[_0x53ba4b(0x78c)]='input_cart_setSubtotal\x20input-cart-size\x20div-width-20',_0x1bf198[_0x53ba4b(0x586)](_0x425375);const _0x5c575f=document['createElement']('button');_0x5c575f[_0x53ba4b(0x566)]=_0x53ba4b(0x79b),_0x5c575f[_0x53ba4b(0x78c)]=_0x53ba4b(0x747);_0x114269[_0x53ba4b(0x303)]!=''?_0x5c575f[_0x53ba4b(0x290)]=()=>removeFromCart(_0x5d83e1,_0x33430f,_0x114269[_0x53ba4b(0x303)]):_0x5c575f[_0x53ba4b(0x290)]=()=>removeFromCart(_0x5d83e1,_0x33430f);_0x1bf198['appendChild'](_0x5c575f);const _0xfc0052=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0xfc0052[_0x53ba4b(0x78c)]='div-width-50',_0xfc0052['style'][_0x53ba4b(0x385)]=_0x53ba4b(0x440);const _0xb765b3=document['createElement'](_0x53ba4b(0x71f));_0xb765b3[_0x53ba4b(0x4a7)]=_0x114269['setNotas']||'',_0xb765b3['className']=_0x53ba4b(0x441),_0xb765b3[_0x53ba4b(0x48e)]='Notas:',_0xb765b3['rows']=0x2,_0xb765b3[_0x53ba4b(0x252)]=_0x411496=>updateCartItem(_0x5d83e1,_0x33430f,'setNotas',_0x411496[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)]),_0xfc0052[_0x53ba4b(0x586)](_0xb765b3);const _0x201ca8=document[_0x53ba4b(0x57a)]('label');_0x201ca8['className']=_0x53ba4b(0x686),_0x201ca8['innerHTML']=_0x53ba4b(0x204),_0xfc0052[_0x53ba4b(0x586)](_0x201ca8);const _0x469cda=_0x2e9e5c,_0x21091e=createElement('select',{'class':_0x53ba4b(0x783),'events':{'change':_0x429512=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x44f),_0x429512[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)])}},_0x469cda[_0x53ba4b(0x6f6)](_0x355c4f=>createElement(_0x53ba4b(0x4d9),{'value':_0x355c4f[_0x53ba4b(0x44f)],'innerHTML':_0x355c4f[_0x53ba4b(0x4bc)]+_0x53ba4b(0x231)+_0x355c4f[_0x53ba4b(0x61c)]}))),_0x5e8304=_0x469cda[_0x53ba4b(0x79e)](_0x285caa=>_0x285caa[_0x53ba4b(0x44f)]==_0x114269[_0x53ba4b(0x44f)]);!_0x5e8304&&_0x469cda[_0x53ba4b(0x517)]>0x0&&(_0x114269[_0x53ba4b(0x44f)]=_0x469cda[0x0][_0x53ba4b(0x44f)]);_0x21091e[_0x53ba4b(0x4a7)]=_0x114269[_0x53ba4b(0x44f)],_0xfc0052[_0x53ba4b(0x586)](_0x21091e),_0x4fbc0d[_0x53ba4b(0x586)](_0xfc0052);const _0x574c0c=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x574c0c['className']=_0x53ba4b(0x49b),_0x574c0c[_0x53ba4b(0x4d1)][_0x53ba4b(0x385)]=_0x53ba4b(0x440);const _0x290a6a=document[_0x53ba4b(0x57a)](_0x53ba4b(0x532));_0x290a6a['className']=_0x53ba4b(0x686),_0x290a6a[_0x53ba4b(0x566)]=_0x53ba4b(0x697),_0x574c0c[_0x53ba4b(0x586)](_0x290a6a);const _0x379e50=document[_0x53ba4b(0x57a)](_0x53ba4b(0x5e3));_0x379e50[_0x53ba4b(0x322)]=_0x53ba4b(0x775),_0x379e50[_0x53ba4b(0x4a7)]=parseFloat(_0x114269[_0x53ba4b(0x7c0)])['toFixed'](0x2)||0x0,_0x379e50[_0x53ba4b(0x78c)]=_0x53ba4b(0x29d),_0x379e50[_0x53ba4b(0x252)]=_0x306b7d=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x7c0),_0x306b7d[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)]),_0x574c0c['appendChild'](_0x379e50);const _0x565ad7=document[_0x53ba4b(0x57a)](_0x53ba4b(0x532));_0x565ad7[_0x53ba4b(0x78c)]=_0x53ba4b(0x686),_0x565ad7[_0x53ba4b(0x566)]=_0x53ba4b(0x4f7),_0x574c0c[_0x53ba4b(0x586)](_0x565ad7);const _0xe6651e=document[_0x53ba4b(0x57a)]('input');_0xe6651e[_0x53ba4b(0x322)]='number',_0xe6651e['value']=_0x114269[_0x53ba4b(0x538)]['setPorcentajeDesc']||0x0,_0xe6651e[_0x53ba4b(0x78c)]='input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control',_0xe6651e[_0x53ba4b(0x252)]=_0x5826cc=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x296),_0x5826cc[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)]),_0x574c0c[_0x53ba4b(0x586)](_0xe6651e),_0x4fbc0d[_0x53ba4b(0x586)](_0x574c0c);const _0x186bda=document[_0x53ba4b(0x57a)](_0x53ba4b(0x35d));_0x186bda[_0x53ba4b(0x78c)]=_0x53ba4b(0x49b),_0x186bda[_0x53ba4b(0x4d1)][_0x53ba4b(0x385)]=_0x53ba4b(0x279);const _0x261f11=document[_0x53ba4b(0x57a)](_0x53ba4b(0x532));_0x261f11[_0x53ba4b(0x78c)]=_0x53ba4b(0x686),_0x261f11[_0x53ba4b(0x566)]='Costo\x20Unitario',_0x186bda[_0x53ba4b(0x586)](_0x261f11);const _0x1d18c9=document[_0x53ba4b(0x57a)]('input');_0x1d18c9[_0x53ba4b(0x322)]='number',_0x1d18c9[_0x53ba4b(0x4a7)]=parseFloat(_0x114269[_0x53ba4b(0x500)])[_0x53ba4b(0x3ea)](0x2)||0x0,_0x1d18c9[_0x53ba4b(0x78c)]=_0x53ba4b(0x4c1),_0x1d18c9[_0x53ba4b(0x252)]=_0x225e3e=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x500),_0x225e3e[_0x53ba4b(0x643)]['value']),_0x186bda[_0x53ba4b(0x586)](_0x1d18c9);const _0x10d87=document['createElement'](_0x53ba4b(0x532));_0x10d87[_0x53ba4b(0x78c)]=_0x53ba4b(0x686),_0x10d87[_0x53ba4b(0x566)]='Impuesto',_0x186bda[_0x53ba4b(0x586)](_0x10d87);const _0x2c16f9=myCompany['setImpuestos'],_0x119438=createElement(_0x53ba4b(0x6dc),{'class':_0x53ba4b(0x4f4),'events':{'change':_0x156cee=>updateCartItem(_0x5d83e1,_0x33430f,_0x53ba4b(0x5be),_0x156cee[_0x53ba4b(0x643)][_0x53ba4b(0x4a7)])}},_0x2c16f9[_0x53ba4b(0x6f6)](_0x569342=>createElement(_0x53ba4b(0x4d9),{'value':_0x569342[_0x53ba4b(0x626)],'innerHTML':_0x569342['setImpuestoName']+'\x20('+_0x569342[_0x53ba4b(0x59e)]+'%)'})));_0x119438[_0x53ba4b(0x4a7)]=_0x114269['setTaxId'],_0x186bda[_0x53ba4b(0x586)](_0x119438),_0x4fbc0d[_0x53ba4b(0x586)](_0x186bda),_0x7a943b[_0x53ba4b(0x586)](_0x1bf198),_0x7a943b[_0x53ba4b(0x586)](_0x4fbc0d),_0xc0aab7[_0x53ba4b(0x586)](_0x7a943b);});const _0x5454c9=getCurrencySymbol(_0x5d83e1);_0xb2f9cc[_0x1a695d(0x566)]=_0x1a695d(0x2c7)+_0x5d83e1+_0x1a695d(0x715)+(parseFloat(_0x3d17f4)||0x0)['toFixed'](0x2)+'\x22\x20class=\x22input-Descuento-Global\x22>',_0x53767e['textContent']=_0x5454c9+'\x20'+(parseFloat(_0x1bd221)||0x0)[_0x1a695d(0x3ea)](0x2),_0x4de4ff[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x32d6ca)||0x0)[_0x1a695d(0x3ea)](0x2),_0x2f4955[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x57fa55)||0x0)[_0x1a695d(0x3ea)](0x2),_0x41b234[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x271710)||0x0)[_0x1a695d(0x3ea)](0x2),_0x40b4fb['textContent']=_0x5454c9+'\x20'+(parseFloat(_0x223afa)||0x0)[_0x1a695d(0x3ea)](0x2),_0x275cd9[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x3340c1)||0x0)['toFixed'](0x2),_0x394d42[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x1c86b7)||0x0)[_0x1a695d(0x3ea)](0x2),_0x449e85[_0x1a695d(0x68b)]=_0x5454c9+'\x20'+(parseFloat(_0x48062f)||0x0)[_0x1a695d(0x3ea)](0x2),_0x244627['textContent']=_0x5454c9+'\x20'+(parseFloat(_0x144e52)||0x0)[_0x1a695d(0x3ea)](0x2);}function addToCart(_0x3e9565,_0x5da060=null,_0x39b315=0x0,_0x588b7f=0x0){const _0x22f8c3=_0x28d754;let _0xad72b4;_0x588b7f!=0x0?_0xad72b4=_0x588b7f:_0xad72b4=document[_0x22f8c3(0x5b3)]('windowId')[_0x22f8c3(0x4a7)];if(_0xad72b4<=0x0){ntfShow(_0x22f8c3(0x3ca));return;}if(!carts[_0xad72b4])carts[_0xad72b4]=[];const _0x4d113e=carts[_0xad72b4],_0x4ad465=document[_0x22f8c3(0x5b3)](_0x22f8c3(0x31a))['value'],_0x427957=myCompany[_0x22f8c3(0x709)],_0x28de6b=_0x427957[_0x22f8c3(0x248)](_0x4af1cb=>_0x4af1cb[_0x22f8c3(0x31a)]==_0x4ad465&&_0x4af1cb[_0x22f8c3(0x61e)]=='1'),_0xaa62e4=getUserPermissionApiERP(0xf);if(!_0x28de6b&&_0xaa62e4==0x1){updateShiftDisplay();return;}const _0x18f471=getUserPermissionApiERP(0x1);if(_0x3e9565['setInventariable']==0x1&&window_options[_0xad72b4][_0x22f8c3(0x1f5)]!=0x2&&_0x39b315==0x0&&_0x3e9565[_0x22f8c3(0x2d7)]!=0x1){const _0x158a0c=_0x3e9565[_0x22f8c3(0x68f)];if(_0x158a0c){const _0x524871=new Date(_0x158a0c),_0x2fcc8e=new Date();_0x2fcc8e[_0x22f8c3(0x305)](0x0,0x0,0x0,0x0);if(_0x524871<_0x2fcc8e){ntfShow(_0x22f8c3(0x52d),0x2,0x2);return;}}if(setTipOpeSales[_0x22f8c3(0x79e)](_0x38546e=>_0x38546e==window_options[_0xad72b4][_0x22f8c3(0x6f1)])&&_0x18f471==0x0){const _0x3c329b=document[_0x22f8c3(0x5b3)](_0x22f8c3(0x732))[_0x22f8c3(0x4a7)],_0x206c8e=_0x3e9565['sucursales'][_0x22f8c3(0x248)](_0x6228d2=>String(_0x6228d2[_0x22f8c3(0x20e)])==_0x3c329b),_0x5a0f17=_0x206c8e?parseFloat(_0x206c8e[_0x22f8c3(0x769)]):0x0;if(_0x5a0f17<=0x0){ntfShow('El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.',0x2,0x2);return;}const _0x4198ac=_0x3e9565[_0x22f8c3(0x448)],_0x37af57=parseFloat(_0x3e9565[_0x22f8c3(0x4de)])||0x1,_0x6cde5f=_0x5da060?parseFloat(_0x5da060['setValorCantidad'])||0x1:0x1;let _0x5c8aa5=_0x4d113e['reduce']((_0x1edd48,_0x44e111)=>{const _0x19cec6=_0x22f8c3,_0x1631d4=products[_0x19cec6(0x248)](_0x3116fc=>_0x3116fc['id']==_0x44e111[_0x19cec6(0x448)]);if(!_0x1631d4||_0x1631d4[_0x19cec6(0x448)]!=_0x4198ac)return _0x1edd48;const _0x2f8cc0=parseFloat(_0x1631d4[_0x19cec6(0x4de)])||0x1;return _0x1edd48+(parseFloat(_0x44e111['setCantidad'])||0x0)*_0x2f8cc0;},0x0);const _0x2e01f8=_0x5c8aa5+_0x6cde5f*_0x37af57;console[_0x22f8c3(0x5d6)](_0x22f8c3(0x49c),{'masterId':_0x4198ac,'stock':_0x5a0f17,'totalExistingBase':_0x5c8aa5,'addFactor':_0x37af57,'qtyToAdd':_0x6cde5f,'totalInBase':_0x2e01f8});if(_0x2e01f8>_0x5a0f17){ntfShow(_0x22f8c3(0x6a3),0x2,0x2);return;}}}let _0x34e40b,_0xad34a;setTipOpeOrders[_0x22f8c3(0x79e)](_0x2317a5=>_0x2317a5==window_options[_0xad72b4]['setTipoOperacion'])||setTipOpeSales[_0x22f8c3(0x79e)](_0x52821a=>_0x52821a==window_options[_0xad72b4]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x2f65c2=>_0x2f65c2==window_options[_0xad72b4]['setTipoOperacion'])||setTipOpeShippingGuide['some'](_0x50deef=>_0x50deef==window_options[_0xad72b4][_0x22f8c3(0x6f1)])?(_0x34e40b=myCompany[_0x22f8c3(0x4ed)]['filter'](_0x2850da=>_0x2850da[_0x22f8c3(0x5c3)]==0x1),_0xad34a=0x2):(_0x34e40b=myCompany[_0x22f8c3(0x4ed)]['filter'](_0x52230e=>_0x52230e['setAccountingAccountType']==0x2),_0xad34a=0x1);const _0x2bc5be=_0x34e40b[0x0]||{},_0x2454bc=_0x2bc5be['setAccountingAccountId']||'',_0x5257aa=_0x2bc5be[_0x22f8c3(0x4bc)]||'',_0x45d862=_0x2bc5be[_0x22f8c3(0x61c)]||'',_0x38a846=_0x2bc5be[_0x22f8c3(0x5c3)]||'';let _0x4f92cb=0x1,_0x3923de=0x0,_0x5bcdcb=0x0,_0x343a19=_0x3e9565[_0x22f8c3(0x626)],_0x37416b=myCompany['setImpuestos'][_0x22f8c3(0x248)](_0x50aea1=>_0x50aea1[_0x22f8c3(0x626)]==_0x343a19)?.[_0x22f8c3(0x486)],_0x41d470=0x0,_0x1fb160=0x0,_0x3fd433=0x0,_0x48c48a=0x0,_0x2eea04=0x0,_0x22b695=_0x3e9565[_0x22f8c3(0x31b)]??'';const _0x4caaca=document['getElementById'](_0x22f8c3(0x3a9)+_0xad72b4)['value'],_0x100c92=_0x3e9565['currency_data'][_0x22f8c3(0x248)](_0x15a4c3=>_0x15a4c3['currency']==_0x4caaca)||{};_0xad34a==0x1?(_0x3923de=_0x100c92['setMtoValorCostoUnitario']||0x0,_0x5bcdcb=_0x100c92['setMtoPrecioCostoUnitario']||0x0):(_0x3923de=_0x100c92[_0x22f8c3(0x2e4)]||0x0,_0x5bcdcb=_0x100c92['setMtoPrecioUnitario']||0x0);_0x1fb160=_0x100c92[_0x22f8c3(0x22f)]||0x0,_0x3fd433=_0x100c92[_0x22f8c3(0x25e)]||0x0,_0x48c48a=_0x100c92[_0x22f8c3(0x2e4)]||0x0,_0x2eea04=_0x100c92[_0x22f8c3(0x29b)]||0x0;let _0x360eeb=generateUniqId(),_0x23390b='',_0x3bca79='';_0x5da060&&(_0x4f92cb=_0x5da060[_0x22f8c3(0x56b)]??_0x4f92cb,_0x3923de=0x0,_0x5bcdcb=_0x5da060['setMtoPrecioUnitario_final'],_0x343a19=_0x5da060['setTaxId'],_0x37416b=_0x5da060[_0x22f8c3(0x5be)],_0x41d470=_0x5da060['setPorcentajeDesc'],_0x1fb160=_0x5da060[_0x22f8c3(0x7c0)]??_0x1fb160,_0x3fd433=_0x5da060['setMtoPrecioCostoUnitario_input']??_0x3fd433,_0x48c48a=0x0,_0x2eea04=0x0,_0x22b695=_0x5da060[_0x22f8c3(0x31b)],_0x360eeb=_0x5da060[_0x22f8c3(0x50f)]??_0x360eeb,_0x23390b=_0x5da060[_0x22f8c3(0x577)]??'',_0x3bca79=_0x5da060[_0x22f8c3(0x303)]??'');const _0x43af50=getUserPermissionApiERP(0x4),{currentWindowShift:_0x551176}=getValidatedWindowAndShift(_0xad72b4)||{},_0x1b02fc=_0x551176||_0x43af50==0x1?![]:_0x4d113e['find'](_0x2a75df=>_0x2a75df['setIdProducto']==_0x3e9565['id']),_0x2f66ce=[{'valorUnit':_0x1b02fc?_0x1b02fc[_0x22f8c3(0x205)]:_0x3923de,'precioUnit':_0x1b02fc?_0x1b02fc[_0x22f8c3(0x75f)]:_0x5bcdcb,'valorCantidad':_0x1b02fc?_0x1b02fc['setCantidad']+0x1:_0x4f92cb,'valorPorcentajeIgv':_0x1b02fc?_0x1b02fc[_0x22f8c3(0x70d)]:myCompany[_0x22f8c3(0x247)]['find'](_0x2df754=>_0x2df754[_0x22f8c3(0x626)]==_0x343a19)[_0x22f8c3(0x59e)],'setTipAfeIgv':_0x37416b,'setDescuento':{'setCodTipo':_0x1b02fc?.[_0x22f8c3(0x538)]?.['setCodTipo']||'00','setPorcentajeDesc':_0x1b02fc?.['setDescuento']?.[_0x22f8c3(0x296)]||_0x41d470}}],{setInvoiceDetails:_0xb7781a}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x22f8c3(0x247)][_0x22f8c3(0x248)](_0x829e3b=>_0x829e3b[_0x22f8c3(0x626)]==_0x343a19)[_0x22f8c3(0x59e)],'items':_0x2f66ce,'descuentoGlobalMonto':0x0}),_0x43e236=_0xb7781a[0x0];if(_0x1b02fc)_0x1b02fc['setCantidad']++,Object['assign'](_0x1b02fc,{'setMtoValorUnitario':_0x43e236[_0x22f8c3(0x2e4)],'setMtoValorGratuito':_0x43e236[_0x22f8c3(0x367)],'setMtoValorVenta':_0x43e236['setMtoValorVenta'],'setMtoBaseIgv':_0x43e236[_0x22f8c3(0x35f)],'setPorcentajeIgv':_0x43e236[_0x22f8c3(0x70d)],'setIgv':_0x43e236[_0x22f8c3(0x752)],'setTotalImpuestos':_0x43e236[_0x22f8c3(0x458)],'setMtoPrecioUnitario':_0x43e236['setMtoPrecioUnitario'],'setTotal':parseFloat(_0x43e236[_0x22f8c3(0x22f)])*parseFloat(_0x1b02fc[_0x22f8c3(0x3aa)]),'setMtoPrecioUnitario_final':_0x43e236['setMtoPrecioUnitario_final'],'setMtoValorUnitario_final':_0x43e236[_0x22f8c3(0x205)],'setMtoPrecioUnitario_input':_0xad34a==0x1?_0x1fb160:parseFloat(_0x43e236[_0x22f8c3(0x75f)])['toFixed'](0x2),'setMtoPrecioCostoUnitario_input':_0xad34a==0x1?parseFloat(_0x43e236[_0x22f8c3(0x75f)])[_0x22f8c3(0x3ea)](0x2):_0x3fd433,'setMtoValorUnitario_input':_0xad34a==0x1?_0x48c48a:parseFloat(_0x43e236['setMtoValorUnitario_final'])[_0x22f8c3(0x3ea)](0x2),'setMtoValorCostoUnitario_input':_0xad34a==0x1?parseFloat(_0x43e236['setMtoValorUnitario_final'])[_0x22f8c3(0x3ea)](0x2):_0x2eea04});else{let _0x371ae6=_0x3e9565['setDescripcion'];const _0x344220=parseInt(getUserPermissionApiERP(0x16));_0x344220==0x1?_0x371ae6=formatVariantName(_0x3e9565[_0x22f8c3(0x639)],_0x3e9565[_0x22f8c3(0x3d6)],0x1):_0x371ae6=formatVariantName(_0x3e9565['setDescripcion'],_0x3e9565['setItemVariantValues'],0x2),_0x4d113e['push']({'cartId':_0x360eeb,'setIdProducto':_0x3e9565['id'],'setCodProducto':_0x3e9565[_0x22f8c3(0x725)],'setDescripcion':_0x371ae6,'setItemDescription':_0x3e9565['setItemDescription'],'setUnidad':_0x3e9565[_0x22f8c3(0x238)],'setInventariable':_0x3e9565[_0x22f8c3(0x623)],'setMarca':_0x3e9565[_0x22f8c3(0x461)],'setCantidad':_0x4f92cb,'setMtoValorUnitario':_0x43e236['setMtoValorUnitario'],'setMtoValorGratuito':_0x43e236['setMtoValorGratuito'],'setMtoValorVenta':_0x43e236[_0x22f8c3(0x421)],'setMtoBaseIgv':_0x43e236['setMtoBaseIgv'],'setPorcentajeIgv':_0x43e236[_0x22f8c3(0x70d)],'setIgv':_0x43e236[_0x22f8c3(0x752)],'setTotalImpuestos':_0x43e236[_0x22f8c3(0x458)],'setMtoPrecioUnitario':_0x43e236[_0x22f8c3(0x22f)],'setTotal':parseFloat(_0x43e236[_0x22f8c3(0x22f)])*parseFloat(_0x4f92cb),'setMtoPrecioUnitario_final':_0x43e236[_0x22f8c3(0x75f)],'setMtoValorUnitario_final':_0x43e236[_0x22f8c3(0x205)],'setTaxId':_0x343a19,'setTipAfeIgv':_0x37416b,'setMtoPrecioUnitario_input':_0xad34a==0x1?_0x1fb160:parseFloat(_0x43e236[_0x22f8c3(0x75f)])[_0x22f8c3(0x3ea)](0x2),'setMtoPrecioCostoUnitario_input':_0xad34a==0x1?parseFloat(_0x43e236[_0x22f8c3(0x75f)])[_0x22f8c3(0x3ea)](0x2):_0x3fd433,'setMtoValorUnitario_input':_0xad34a==0x1?_0x48c48a:parseFloat(_0x43e236[_0x22f8c3(0x205)])['toFixed'](0x2),'setMtoValorCostoUnitario_input':_0xad34a==0x1?parseFloat(_0x43e236[_0x22f8c3(0x205)])[_0x22f8c3(0x3ea)](0x2):_0x2eea04,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x41d470},'setVisible':0x0,'setNotas':_0x22b695,'setChecked':0x1,'setWindowShiftId':_0x23390b,'setOrderId':_0x3bca79,'setAccountingAccountId':_0x2454bc,'setAccountingAccountCode':_0x5257aa,'setAccountingAccountName':_0x45d862,'setAccountingAccountType':_0x38a846,'setItemFree':_0x3e9565[_0x22f8c3(0x2d7)]??0x0});}saveCart(_0xad72b4)[_0x22f8c3(0x2c1)](()=>{const _0x5446ff=_0x22f8c3;renderCart(_0xad72b4);if(isMobile()){const _0x30cc0f=getUserPermissionApiERP(0x11);_0x30cc0f==0x1&&showRightSection(),_0x39b315==0x0&&ntfShow(_0x5446ff(0x1d7),0x1,0x2);}})[_0x22f8c3(0x480)](_0x32bf54=>{const _0x1aaf18=_0x22f8c3;console[_0x1aaf18(0x574)](_0x1aaf18(0x220),_0x32bf54);});}function calcFinalPrice(_0x1bf12c,_0x3d3afa,_0x3d2436){switch(_0x3d3afa){case 0x1:return _0x1bf12c*(0x1-_0x3d2436/0x64);case 0x2:return _0x1bf12c*(0x1+_0x3d2436/0x64);case 0x3:return _0x1bf12c-_0x3d2436;case 0x4:return _0x1bf12c+_0x3d2436;case 0x5:return _0x3d2436;default:return _0x1bf12c;}}function updateCartItem(_0xdf91c,_0x4f59a5,_0x4ca447,_0x1d80f7){const _0x344018=_0x28d754;let _0x5a2df2=_0x1d80f7;[_0x344018(0x3aa),_0x344018(0x2e4),'setMtoPrecioUnitario_input',_0x344018(0x500),_0x344018(0x296),_0x344018(0x3ff)][_0x344018(0x66a)](_0x4ca447)&&(_0x5a2df2=parseFloat(_0x5a2df2));const _0x2f3986=carts[_0xdf91c];if(!_0x2f3986||!_0x2f3986[_0x4f59a5]){console[_0x344018(0x574)](_0x344018(0x5c1)+_0xdf91c);return;}if(setTipOpeSales[_0x344018(0x79e)](_0x42b15d=>_0x42b15d==window_options[_0xdf91c][_0x344018(0x6f1)])){const _0x287750=getUserPermissionApiERP(0x1),_0x4bf773=_0x2f3986[_0x4f59a5];if(_0x287750==0x0&&_0x4bf773[_0x344018(0x623)]==0x1&&window_options[_0xdf91c]['setAttachEdit']!=0x2&&_0x4bf773[_0x344018(0x2d7)]!=0x1){const _0x13cccd=products['find'](_0xfed9e0=>_0xfed9e0['id']==_0x4bf773['setIdProducto']),_0x4f0454=_0x13cccd[_0x344018(0x448)],_0x5b19aa=document[_0x344018(0x5b3)](_0x344018(0x732))[_0x344018(0x4a7)],_0x591d4c=_0x13cccd[_0x344018(0x1d0)][_0x344018(0x248)](_0xd0421d=>String(_0xd0421d['setIdSucursal'])==_0x5b19aa),_0x271107=_0x591d4c?parseFloat(_0x591d4c[_0x344018(0x769)]):0x0,_0x31b87e=parseFloat(_0x13cccd[_0x344018(0x4de)])||0x1;let _0xb3ff1e=_0x2f3986['reduce']((_0x5a523a,_0x3351c6)=>{const _0x459ecc=_0x344018,_0xf104c=products[_0x459ecc(0x248)](_0x2736e3=>_0x2736e3['id']==_0x3351c6['setIdProducto']);if(!_0xf104c||_0xf104c[_0x459ecc(0x448)]!=_0x4f0454)return _0x5a523a;const _0x40860c=parseFloat(_0xf104c[_0x459ecc(0x4de)])||0x1;return _0x5a523a+(parseFloat(_0x3351c6[_0x459ecc(0x3aa)])||0x0)*_0x40860c;},0x0),_0x2e4f96=_0xb3ff1e;if(_0x4ca447==_0x344018(0x3aa)){const _0x3fc665=parseFloat(_0x4bf773[_0x344018(0x3aa)])||0x0;_0x2e4f96=_0xb3ff1e-_0x3fc665*_0x31b87e+_0x5a2df2*_0x31b87e;}console[_0x344018(0x5d6)](_0x344018(0x6c4),{'masterId':_0x4f0454,'stock':_0x271107,'totalExistingBase':_0xb3ff1e,'oldFactor':_0x31b87e,'oldCantidad':_0x4bf773[_0x344018(0x3aa)],'new_value':_0x5a2df2,'totalInBase':_0x2e4f96});if(_0x4ca447==_0x344018(0x3aa)&&_0x2e4f96>_0x271107){let _0x46b781=_0x2f3986[_0x344018(0x511)]((_0x2f0acb,_0x154aaf,_0x5a6f91)=>{const _0x38cccb=_0x344018;if(_0x5a6f91===_0x4f59a5)return _0x2f0acb;const _0x280214=products[_0x38cccb(0x248)](_0xfed10=>_0xfed10['id']==_0x154aaf[_0x38cccb(0x448)]);if(!_0x280214||_0x280214[_0x38cccb(0x448)]!=_0x4f0454)return _0x2f0acb;const _0x5bd584=parseFloat(_0x280214[_0x38cccb(0x4de)])||0x1;return _0x2f0acb+(parseFloat(_0x154aaf[_0x38cccb(0x3aa)])||0x0)*_0x5bd584;},0x0);const _0xb23d23=Math[_0x344018(0x5b1)](_0x271107-_0x46b781,0x0),_0x58bc12=_0xb23d23/_0x31b87e;console[_0x344018(0x5d6)](_0x344018(0x30a),{'availableInBase':_0xb23d23,'maxQty':_0x58bc12}),ntfShow(_0x344018(0x273)+_0xb23d23[_0x344018(0x3ea)](0x0)+_0x344018(0x341)+(_0x344018(0x358)+_0x58bc12[_0x344018(0x3ea)](0x2)+')\x20en\x20el\x20almacén.\x20')+_0x344018(0x52a)),_0x5a2df2=_0x58bc12;}if(_0x271107<=0x0){ntfShow(_0x344018(0x210));return;}}}if(_0x4ca447==_0x344018(0x5be)){_0x2f3986[_0x4f59a5][_0x344018(0x626)]=_0x5a2df2;const _0x5738c9=_0x5a2df2,_0x13fac7=myCompany[_0x344018(0x247)][_0x344018(0x248)](_0x406647=>_0x406647[_0x344018(0x626)]==_0x5738c9),_0x55d644=_0x13fac7?_0x13fac7[_0x344018(0x486)]:'',_0x111389=_0x13fac7?_0x13fac7[_0x344018(0x59e)]:'';_0x2f3986[_0x4f59a5]['setTipAfeIgv']=_0x55d644,_0x2f3986[_0x4f59a5][_0x344018(0x70d)]=_0x111389;}else{if(_0x4ca447=='setChecked')_0x2f3986[_0x4f59a5]['setChecked']=_0x2f3986[_0x4f59a5][_0x344018(0x3ff)]?0x0:0x1;else _0x4ca447==_0x344018(0x296)?(_0x2f3986[_0x4f59a5][_0x344018(0x538)]['setCodTipo']='00',_0x2f3986[_0x4f59a5][_0x344018(0x538)]['setPorcentajeDesc']=_0x5a2df2):_0x2f3986[_0x4f59a5][_0x4ca447]=_0x5a2df2;}if(_0x4ca447==_0x344018(0x44f)){const _0x279ec0=myCompany['setAccountingAccounts']['find'](_0x233e41=>_0x233e41['setAccountingAccountId']==_0x5a2df2);_0x2f3986[_0x4f59a5][_0x344018(0x4bc)]=_0x279ec0?_0x279ec0[_0x344018(0x4bc)]:'',_0x2f3986[_0x4f59a5][_0x344018(0x61c)]=_0x279ec0?_0x279ec0['setAccountingAccountName']:'',_0x2f3986[_0x4f59a5][_0x344018(0x5c3)]=_0x279ec0?_0x279ec0[_0x344018(0x5c3)]:'';}_0x4ca447==_0x344018(0x7c0)&&(_0x2f3986[_0x4f59a5][_0x344018(0x570)]=0x0);_0x4ca447==_0x344018(0x500)&&(_0x2f3986[_0x4f59a5][_0x344018(0x62e)]=0x0);let _0xbd7879;if(setTipOpeOrders['some'](_0x5d0096=>_0x5d0096==window_options[_0xdf91c][_0x344018(0x6f1)])||setTipOpeSales[_0x344018(0x79e)](_0x377fb2=>_0x377fb2==window_options[_0xdf91c][_0x344018(0x6f1)])||setTipOpeQuotation[_0x344018(0x79e)](_0x2bd139=>_0x2bd139==window_options[_0xdf91c][_0x344018(0x6f1)])||setTipOpeShippingGuide['some'](_0x12459f=>_0x12459f==window_options[_0xdf91c]['setTipoOperacion'])){_0xbd7879=0x2;if(_0x4ca447==_0x344018(0x3aa)){const _0x55ec0c=document['getElementById'](_0x344018(0x3a9)+_0xdf91c)['value'],_0x3eb901=products[_0x344018(0x248)](_0x1b5067=>_0x1b5067['id']==_0x2f3986[_0x4f59a5][_0x344018(0x448)]),_0x4eea30=_0x3eb901[_0x344018(0x38d)]['find'](_0x1569d9=>_0x1569d9[_0x344018(0x3b4)]==_0x55ec0c)||{},_0x1e730d=_0x4eea30[_0x344018(0x22f)]||0x0,_0x19619e=_0x4eea30[_0x344018(0x755)]||[],_0x567626=_0x2f3986[_0x4f59a5][_0x344018(0x3aa)],_0x5f54d5=_0x19619e[_0x344018(0x1fc)](_0x1aa36f=>_0x1aa36f['setPriceListType']==0x2),_0x1ca9ab=_0x5f54d5['find'](_0x552b47=>_0x567626>=_0x552b47[_0x344018(0x3ce)]&&_0x567626<=_0x552b47[_0x344018(0x3fd)]);if(_0x5f54d5['length']>0x0){let _0x1e2cf6;_0x1ca9ab?(_0x1e2cf6=calcFinalPrice(parseFloat(_0x1e730d),parseFloat(_0x1ca9ab[_0x344018(0x30b)]),parseFloat(_0x1ca9ab[_0x344018(0x618)])),ntfShow('Lista\x20de\x20Precios\x20aplicada:\x20'+_0x1ca9ab[_0x344018(0x3c9)],0x1,0x2)):_0x1e2cf6=_0x1e730d,_0x2f3986[_0x4f59a5][_0x344018(0x7c0)]=_0x1e2cf6,_0x2f3986[_0x4f59a5][_0x344018(0x570)]=0x0;}}}else _0xbd7879=0x1;_0xbd7879==0x1?_0x2f3986[_0x4f59a5]['setMtoPrecioUnitario_final']=_0x2f3986[_0x4f59a5][_0x344018(0x500)]:_0x2f3986[_0x4f59a5][_0x344018(0x75f)]=_0x2f3986[_0x4f59a5]['setMtoPrecioUnitario_input'];const _0x507c89=[{'valorUnit':0x0,'precioUnit':_0x2f3986[_0x4f59a5][_0x344018(0x75f)],'valorCantidad':_0x2f3986[_0x4f59a5][_0x344018(0x3aa)],'valorPorcentajeIgv':_0x2f3986[_0x4f59a5][_0x344018(0x70d)],'setTipAfeIgv':_0x2f3986[_0x4f59a5][_0x344018(0x5be)],'setDescuento':{'setCodTipo':_0x2f3986[_0x4f59a5][_0x344018(0x538)][_0x344018(0x388)],'setPorcentajeDesc':_0x2f3986[_0x4f59a5]['setDescuento'][_0x344018(0x296)]}}],{setInvoiceDetails:_0x47ecc3}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x344018(0x247)][_0x344018(0x248)](_0x49b52c=>_0x49b52c[_0x344018(0x626)]==_0x2f3986[_0x4f59a5][_0x344018(0x626)])[_0x344018(0x59e)],'items':_0x507c89,'descuentoGlobalMonto':0x0}),_0xa6c987=_0x47ecc3[0x0];_0x2f3986[_0x4f59a5][_0x344018(0x2e4)]=_0xa6c987['setMtoValorUnitario'],_0x2f3986[_0x4f59a5][_0x344018(0x367)]=_0xa6c987['setMtoValorGratuito'],_0x2f3986[_0x4f59a5][_0x344018(0x421)]=_0xa6c987['setMtoValorVenta'],_0x2f3986[_0x4f59a5][_0x344018(0x35f)]=_0xa6c987[_0x344018(0x35f)],_0x2f3986[_0x4f59a5][_0x344018(0x70d)]=_0xa6c987[_0x344018(0x70d)],_0x2f3986[_0x4f59a5][_0x344018(0x752)]=_0xa6c987[_0x344018(0x752)],_0x2f3986[_0x4f59a5][_0x344018(0x5be)]=_0xa6c987[_0x344018(0x5be)],_0x2f3986[_0x4f59a5]['setTotalImpuestos']=_0xa6c987[_0x344018(0x458)],_0x2f3986[_0x4f59a5][_0x344018(0x22f)]=_0xa6c987[_0x344018(0x22f)],_0x2f3986[_0x4f59a5][_0x344018(0x75f)]=_0xa6c987[_0x344018(0x75f)],_0x2f3986[_0x4f59a5][_0x344018(0x205)]=_0xa6c987[_0x344018(0x205)],_0x2f3986[_0x4f59a5][_0x344018(0x7c0)]=_0xbd7879==0x1?_0x2f3986[_0x4f59a5][_0x344018(0x7c0)]:_0xa6c987['setMtoPrecioUnitario_final'],_0x2f3986[_0x4f59a5][_0x344018(0x500)]=_0xbd7879==0x1?_0xa6c987[_0x344018(0x75f)]:_0x2f3986[_0x4f59a5][_0x344018(0x500)],_0x2f3986[_0x4f59a5][_0x344018(0x570)]=_0xbd7879==0x1?_0x2f3986[_0x4f59a5][_0x344018(0x570)]:_0xa6c987['setMtoValorUnitario_final'],_0x2f3986[_0x4f59a5]['setMtoValorCostoUnitario_input']=_0xbd7879==0x1?_0xa6c987[_0x344018(0x205)]:_0x2f3986[_0x4f59a5][_0x344018(0x62e)],_0x2f3986[_0x4f59a5]['setDescuento_setCodTipo']=_0xa6c987['setDescuento_setCodTipo'],_0x2f3986[_0x4f59a5][_0x344018(0x706)]=_0xa6c987[_0x344018(0x706)],_0x2f3986[_0x4f59a5]['setDescuento_setFactor']=_0xa6c987[_0x344018(0x5ba)],_0x2f3986[_0x4f59a5][_0x344018(0x255)]=_0xa6c987[_0x344018(0x255)],_0x2f3986[_0x4f59a5][_0x344018(0x536)]=_0xa6c987['setDescuento_setMonto_precio'],_0x2f3986[_0x4f59a5][_0x344018(0x296)]=_0xa6c987[_0x344018(0x296)],_0x2f3986[_0x4f59a5][_0x344018(0x389)]=_0xa6c987[_0x344018(0x389)],saveCart(_0xdf91c)['then'](()=>{const _0x2855a8=_0x344018;renderCart(_0xdf91c),console['log'](_0x2855a8(0x382)+_0xdf91c);})[_0x344018(0x480)](_0x37cdca=>{const _0x5e6c8a=_0x344018;console[_0x5e6c8a(0x574)](_0x5e6c8a(0x412),_0x37cdca);});}async function saveCart(_0x25b2d4){return new Promise((_0x2cc7a5,_0x13640b)=>{const _0x3c9d22=_0x8473;try{const _0x47722f=carts[_0x25b2d4]||[],_0x29553f='cart_'+_0x25b2d4;if(_0x47722f[_0x3c9d22(0x517)]===0x0){const _0x1419f1=db[_0x3c9d22(0x5df)]([_0x29553f],_0x3c9d22(0x579)),_0x5d7744=_0x1419f1['objectStore'](_0x29553f),_0x72d96f=_0x5d7744[_0x3c9d22(0x493)]();_0x72d96f[_0x3c9d22(0x485)]=async()=>{const _0x1d9b45=_0x3c9d22,_0x179d16=myCompany[_0x1d9b45(0x369)]['find'](_0x3681d7=>_0x3681d7['setWindowId']==_0x25b2d4);_0x179d16[_0x1d9b45(0x561)]=myCompany[_0x1d9b45(0x41a)][_0x1d9b45(0x561)],_0x179d16[_0x1d9b45(0x497)]=[],_0x179d16[_0x1d9b45(0x6bc)]=nowWithMillisecondsForServer();try{const _0x341628=await createCartStore('');await saveCompanyToIndexedDB(company,_0x341628),apiERPsyncWindowsCartTmp(),_0x2cc7a5();}catch(_0x1c8c93){console[_0x1d9b45(0x574)]('Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:',_0x1c8c93),_0x13640b(_0x1c8c93);}},_0x72d96f[_0x3c9d22(0x2f6)]=_0x263ccf=>{const _0x2ab6a8=_0x3c9d22;console[_0x2ab6a8(0x574)](_0x2ab6a8(0x244),_0x263ccf[_0x2ab6a8(0x643)][_0x2ab6a8(0x574)]),_0x13640b(_0x263ccf[_0x2ab6a8(0x643)][_0x2ab6a8(0x574)]);},_0x1419f1['onerror']=_0x2189e9=>{const _0x2f8462=_0x3c9d22;console[_0x2f8462(0x574)]('Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:',_0x2189e9[_0x2f8462(0x643)][_0x2f8462(0x574)]),_0x13640b(_0x2189e9[_0x2f8462(0x643)][_0x2f8462(0x574)]);};return;}const _0x1d14c2=db[_0x3c9d22(0x5df)]([_0x29553f],'readwrite'),_0x314140=_0x1d14c2[_0x3c9d22(0x36b)](_0x29553f);let _0x5c4b2e=0x0;_0x47722f[_0x3c9d22(0x239)]((_0x390a82,_0x17778a)=>{const _0x16cb57=_0x3c9d22,_0x4a4308=_0x314140[_0x16cb57(0x505)](_0x16cb57(0x50f)),_0x2357e7=_0x4a4308[_0x16cb57(0x72c)](_0x390a82[_0x16cb57(0x50f)]);_0x2357e7[_0x16cb57(0x485)]=async()=>{const _0x14c5ed=_0x16cb57;if(_0x2357e7[_0x14c5ed(0x44b)]){const _0x5c135f={..._0x2357e7[_0x14c5ed(0x44b)],..._0x390a82},_0x4c7432=_0x314140[_0x14c5ed(0x1ce)](_0x5c135f);_0x4c7432[_0x14c5ed(0x485)]=async()=>{const _0x18f5ea=_0x14c5ed;_0x47722f[_0x17778a]['id']=_0x5c135f['id'],_0x5c4b2e++;if(_0x5c4b2e==_0x47722f[_0x18f5ea(0x517)]){const _0x22844c=myCompany[_0x18f5ea(0x369)][_0x18f5ea(0x248)](_0x36bc8d=>_0x36bc8d['setWindowId']==_0x25b2d4);_0x22844c['setUserId']=myCompany[_0x18f5ea(0x41a)][_0x18f5ea(0x561)],_0x22844c[_0x18f5ea(0x497)]=_0x47722f,_0x22844c[_0x18f5ea(0x6bc)]=nowWithMillisecondsForServer();const _0x4af89f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4af89f),apiERPsyncWindowsCartTmp(),_0x2cc7a5();}};}else{const _0x1c5f8c=_0x314140[_0x14c5ed(0x7bc)](_0x390a82);_0x1c5f8c[_0x14c5ed(0x485)]=async _0x2704ce=>{const _0x45d74d=_0x14c5ed,_0x2baf75=_0x2704ce['target']['result'];_0x47722f[_0x17778a]['id']=_0x2baf75,_0x5c4b2e++;if(_0x5c4b2e==_0x47722f[_0x45d74d(0x517)]){const _0x341e67=myCompany[_0x45d74d(0x369)][_0x45d74d(0x248)](_0x25fa8b=>_0x25fa8b[_0x45d74d(0x73a)]==_0x25b2d4);_0x341e67[_0x45d74d(0x561)]=myCompany[_0x45d74d(0x41a)][_0x45d74d(0x561)],_0x341e67['setCartTmp']=_0x47722f,_0x341e67[_0x45d74d(0x6bc)]=nowWithMillisecondsForServer();const _0x129f2a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x129f2a),apiERPsyncWindowsCartTmp(),_0x2cc7a5();}};}},_0x2357e7['onerror']=_0xe0cf8e=>{const _0x522801=_0x16cb57;console[_0x522801(0x574)]('Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20'+_0x390a82[_0x522801(0x448)]+':',_0xe0cf8e['target']['error']),_0x13640b(_0xe0cf8e[_0x522801(0x643)]['error']);};}),_0x1d14c2[_0x3c9d22(0x47a)]=function(){console['log']('Carrito\x20guardado:\x20'+_0x25b2d4,_0x47722f);},_0x1d14c2[_0x3c9d22(0x2f6)]=function(_0x52d1de){const _0x4d7cf3=_0x3c9d22;console[_0x4d7cf3(0x574)]('Error\x20al\x20guardar\x20el\x20carrito.',_0x52d1de[_0x4d7cf3(0x643)][_0x4d7cf3(0x574)]),_0x13640b(_0x52d1de[_0x4d7cf3(0x643)][_0x4d7cf3(0x574)]);};}catch(_0x53fab2){_0x13640b(_0x53fab2);}});}async function removeFromCart(_0x589440,_0xdb804b,_0x42fe4e=''){const _0x42beea=_0x28d754,_0x2f784f=carts[_0x589440],_0x237d25=_0x2f784f[_0xdb804b];if(_0x42fe4e!=''){const _0x3859eb=_0x237d25[_0x42beea(0x577)],_0x1a2783=myCompany[_0x42beea(0x369)][_0x42beea(0x248)](_0x16cb07=>_0x16cb07['setWindowId']==_0x589440);if(_0x1a2783&&_0x1a2783['setShifts']){const _0x349f77=_0x1a2783[_0x42beea(0x709)][_0x42beea(0x248)](_0x569f37=>_0x569f37[_0x42beea(0x4e4)]==_0x3859eb);if(_0x349f77&&_0x349f77[_0x42beea(0x31d)]){const _0x24629a=_0x349f77[_0x42beea(0x31d)][_0x42beea(0x353)](_0x25dba2=>_0x25dba2[_0x42beea(0x51e)]==_0x42fe4e);if(_0x24629a!==-0x1){const _0x1c9901=_0x349f77[_0x42beea(0x31d)][_0x24629a];if(_0x1c9901[_0x42beea(0x1c3)]&&Array[_0x42beea(0x69f)](_0x1c9901['setProductos'])){const _0x2b3e02=_0x1c9901['setProductos'][_0x42beea(0x517)];_0x1c9901[_0x42beea(0x1c3)]=_0x1c9901['setProductos'][_0x42beea(0x1fc)](_0x837d0e=>_0x837d0e[_0x42beea(0x50f)]!=_0x237d25[_0x42beea(0x50f)]);if(_0x1c9901['setProductos'][_0x42beea(0x517)]<_0x2b3e02){const _0xae0851=_0x1c9901['setProductos'][_0x42beea(0x6f6)](_0x1ef979=>({'valorUnit':_0x1ef979[_0x42beea(0x205)],'precioUnit':_0x1ef979[_0x42beea(0x75f)],'valorCantidad':_0x1ef979[_0x42beea(0x3aa)],'valorPorcentajeIgv':_0x1ef979[_0x42beea(0x70d)],'setTipAfeIgv':_0x1ef979[_0x42beea(0x5be)],'setDescuento':{'setCodTipo':_0x1ef979[_0x42beea(0x538)]?.[_0x42beea(0x388)]||'00','setPorcentajeDesc':_0x1ef979[_0x42beea(0x538)]?.[_0x42beea(0x296)]||0x0}})),_0x13905d=_0x1c9901['setDescuentoGlobal_Monto']||0x0,{setInvoice:_0x2866aa}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x42beea(0x247)][_0x42beea(0x248)](_0x4d5462=>_0x4d5462[_0x42beea(0x626)]==myCompany[_0x42beea(0x491)])?.[_0x42beea(0x59e)],'items':_0xae0851,'descuentoGlobalMonto':_0x13905d});_0x1c9901['setAttachEdit']='2',_0x1c9901[_0x42beea(0x47e)]=new Date()[_0x42beea(0x365)](),Object[_0x42beea(0x49e)](_0x1c9901,_0x2866aa),await storeOfflineOperation(_0x1c9901,0x1);_0x1c9901[_0x42beea(0x1c3)][_0x42beea(0x517)]===0x0&&(_0x349f77[_0x42beea(0x31d)][_0x42beea(0x63d)](_0x24629a,0x1),console[_0x42beea(0x5d6)](_0x42beea(0x792)));_0x1a2783[_0x42beea(0x3f4)]=nowWithMillisecondsForServer();const _0x29791e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x29791e),apiERPsync(),console['log']('Product\x20Deleted\x20Order\x20successfully.');}else console[_0x42beea(0x4e0)](_0x42beea(0x2ae));}else console['warn'](_0x42beea(0x41b));}else console[_0x42beea(0x4e0)](_0x42beea(0x1dc));}else console[_0x42beea(0x4e0)]('Shift\x20not\x20found.');}else console[_0x42beea(0x4e0)]('Window\x20not\x20found.');}_0x2f784f['splice'](_0xdb804b,0x1);const _0x375081=_0x42beea(0x741)+_0x589440,_0x22bf6c=db[_0x42beea(0x5df)]([_0x375081],'readwrite'),_0x103fba=_0x22bf6c[_0x42beea(0x36b)](_0x375081);_0x103fba['delete'](_0x237d25['id']),_0x22bf6c[_0x42beea(0x47a)]=function(){const _0x11e76c=_0x42beea;console['log'](_0x11e76c(0x631)),saveCart(_0x589440)[_0x11e76c(0x2c1)](()=>{const _0x32d8f9=_0x11e76c;renderCart(_0x589440),console[_0x32d8f9(0x5d6)]('Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20'+_0x589440);})['catch'](_0x583e08=>{const _0x428564=_0x11e76c;console['error'](_0x428564(0x412),_0x583e08);});},_0x22bf6c['onerror']=function(_0x2b1157){const _0x416371=_0x42beea;console[_0x416371(0x574)](_0x416371(0x5fc),_0x2b1157['target'][_0x416371(0x574)]);};}function removeAllFromCart(_0x5204b0,_0x7da0ae=0x0){return new Promise((_0x154ff8,_0x49cc0f)=>{const _0x56923e=_0x8473;let _0x577a82;_0x7da0ae==0x1?_0x577a82=carts[_0x5204b0]['filter'](_0x10487a=>_0x10487a[_0x56923e(0x3ff)]==0x1):_0x577a82=getFilteredCart(_0x5204b0);const _0x1c0741=_0x56923e(0x741)+_0x5204b0,_0xba2034=db[_0x56923e(0x5df)]([_0x1c0741],'readwrite'),_0x6e78b9=_0xba2034[_0x56923e(0x36b)](_0x1c0741);_0x577a82[_0x56923e(0x239)](_0xdfa1e3=>{const _0x529677=_0x56923e;_0x6e78b9[_0x529677(0x539)](_0xdfa1e3['id']);}),_0xba2034[_0x56923e(0x47a)]=function(){const _0x18983d=_0x56923e;carts[_0x5204b0]=carts[_0x5204b0][_0x18983d(0x1fc)](_0x510118=>!_0x577a82[_0x18983d(0x79e)](_0x4677f5=>_0x4677f5[_0x18983d(0x50f)]==_0x510118['cartId'])),saveCart(_0x5204b0)[_0x18983d(0x2c1)](()=>{const _0xafca18=_0x18983d;renderCart(_0x5204b0),console[_0xafca18(0x5d6)](_0xafca18(0x382)+_0x5204b0);})['catch'](_0x643c56=>{const _0x32df9e=_0x18983d;console['error'](_0x32df9e(0x412),_0x643c56);}),_0x154ff8();},_0xba2034[_0x56923e(0x2f6)]=function(_0x299b8f){const _0x2d4f81=_0x56923e;console[_0x2d4f81(0x574)](_0x2d4f81(0x46f),_0x299b8f[_0x2d4f81(0x643)][_0x2d4f81(0x574)]),_0x49cc0f(_0x299b8f['target']['error']);};});}function saveWindowOptionsDB(_0x50377c){const _0x499c41=_0x28d754;return createCartStore('')[_0x499c41(0x2c1)](_0x584017=>{const _0x577b3c=_0x499c41,_0x402a35=window_options[_0x50377c],_0x2bdc4e=_0x577b3c(0x6b6)+_0x50377c,_0x58e52f=_0x584017[_0x577b3c(0x5df)]([_0x2bdc4e],_0x577b3c(0x579)),_0x58c307=_0x58e52f[_0x577b3c(0x36b)](_0x2bdc4e);return _0x58c307[_0x577b3c(0x1ce)]({'id':_0x50377c,..._0x402a35}),new Promise((_0x4fc80e,_0x1fdd41)=>{const _0x201438=_0x577b3c;_0x58e52f[_0x201438(0x47a)]=function(){const _0x470558=_0x201438;console['log']('Opciones\x20de\x20la\x20ventana\x20'+_0x50377c+_0x470558(0x5b4)),_0x4fc80e(_0x50377c);},_0x58e52f[_0x201438(0x2f6)]=function(_0x580aed){const _0x4d49e2=_0x201438;console[_0x4d49e2(0x574)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.',_0x580aed[_0x4d49e2(0x643)][_0x4d49e2(0x574)]),_0x1fdd41(_0x580aed[_0x4d49e2(0x643)][_0x4d49e2(0x574)]);};});})['then'](_0x4add06=>{return renderWindowOptions(_0x4add06),_0x4add06;})[_0x499c41(0x480)](_0x6fac36=>{const _0x56537d=_0x499c41;console[_0x56537d(0x574)](_0x56537d(0x5dd),_0x6fac36);throw _0x6fac36;});}function renderWindowOptions(_0x305d68){return new Promise(_0x1f6c51=>{const _0x49075a=_0x8473;document[_0x49075a(0x5b3)](_0x49075a(0x2f1)+_0x305d68)['value']=window_options[_0x305d68][_0x49075a(0x3fa)],document[_0x49075a(0x5b3)](_0x49075a(0x73f)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68][_0x49075a(0x6f1)],document['getElementById'](_0x49075a(0x446)+_0x305d68)['value']=window_options[_0x305d68]['setSerie'],document[_0x49075a(0x5b3)]('setCorrelativo-'+_0x305d68)['value']=window_options[_0x305d68][_0x49075a(0x360)],document['getElementById'](_0x49075a(0x3a9)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68][_0x49075a(0x68c)],document[_0x49075a(0x5b3)](_0x49075a(0x5f0)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68][_0x49075a(0x69a)],document['getElementById']('setClienteNumDoc-'+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68][_0x49075a(0x329)]??'',document[_0x49075a(0x5b3)](_0x49075a(0x6d3)+_0x305d68)['value']=window_options[_0x305d68]['setClienteDenominacion']??'',document[_0x49075a(0x5b3)](_0x49075a(0x319)+_0x305d68)['value']=window_options[_0x305d68][_0x49075a(0x3f5)]??'',document[_0x49075a(0x5b3)](_0x49075a(0x6d0)+_0x305d68)['value']=window_options[_0x305d68]['setCustomerPhone']??'',document[_0x49075a(0x5b3)](_0x49075a(0x75d)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68]['setCustomerEmail']??'',document[_0x49075a(0x5b3)](_0x49075a(0x3fc)+_0x305d68)['value']=window_options[_0x305d68][_0x49075a(0x673)],document[_0x49075a(0x5b3)](_0x49075a(0x71b)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68]['setSellerId'],document[_0x49075a(0x5b3)](_0x49075a(0x6b1)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68]['setDespacho'],document[_0x49075a(0x5b3)](_0x49075a(0x26d)+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68][_0x49075a(0x55e)]??'',document[_0x49075a(0x5b3)]('setAttachEdit-'+_0x305d68)[_0x49075a(0x4a7)]=window_options[_0x305d68]['setAttachEdit'],_0x1f6c51();});}async function updateWindowOption(_0x402ccb,_0x485dd7,_0x3bcdf1){const _0x6b62ff=_0x28d754;if(_0x485dd7==_0x6b62ff(0x3b6)){const _0x59605e=document['getElementById'](_0x6b62ff(0x5af)+_0x402ccb),_0xeb9963=_0x59605e[_0x6b62ff(0x332)][_0x59605e[_0x6b62ff(0x55f)]][_0x6b62ff(0x5c8)];window_options[_0x402ccb]['setDetraccionCodigoName']=_0xeb9963;}if(_0x485dd7==_0x6b62ff(0x1ed)){const _0x38c95e=document[_0x6b62ff(0x5b3)]('setVendedorCodigo-'+_0x402ccb),_0x18d0c6=_0x38c95e[_0x6b62ff(0x332)][_0x38c95e[_0x6b62ff(0x55f)]][_0x6b62ff(0x5c8)];window_options[_0x402ccb][_0x6b62ff(0x50e)]=_0x18d0c6;}_0x485dd7==_0x6b62ff(0x673)&&(window_options[_0x402ccb][_0x6b62ff(0x751)]=0x1),_0x485dd7==_0x6b62ff(0x360)&&(correlativeReadonly=0x1),_0x485dd7==_0x6b62ff(0x1f5)&&(_0x3bcdf1==0x1&&(correlativeReadonly=0x0)),window_options[_0x402ccb][_0x485dd7]=_0x3bcdf1,saveWindowOptionsDB(_0x402ccb);}function showModal(){const _0x47ef38=_0x28d754,_0x23cd85=document['getElementById'](_0x47ef38(0x5cd)),_0x589b81=document['getElementById'](_0x47ef38(0x7b3));_0x23cd85[_0x47ef38(0x501)][_0x47ef38(0x7bc)](_0x47ef38(0x542)),_0x589b81[_0x47ef38(0x4d1)][_0x47ef38(0x746)]=_0x47ef38(0x355);const _0x4be734=document['getElementById'](_0x47ef38(0x5d9)),_0x2a9450=document[_0x47ef38(0x5b3)]('btnModalNewOperation');if(!_0x4be734||!_0x2a9450){console[_0x47ef38(0x574)](_0x47ef38(0x4d3));return;}_0x4be734[_0x47ef38(0x225)](_0x4be734[_0x47ef38(0x308)](!![])),_0x2a9450['replaceWith'](_0x2a9450[_0x47ef38(0x308)](!![]));const _0x5b814d=document[_0x47ef38(0x5b3)]('closeModal'),_0x572010=document['getElementById'](_0x47ef38(0x780));_0x5b814d[_0x47ef38(0x507)](_0x47ef38(0x640),()=>hideModal()),_0x572010['addEventListener'](_0x47ef38(0x640),()=>hideModal());}function hideModal(){const _0xf5083=_0x28d754,_0x116e93=document[_0xf5083(0x5b3)](_0xf5083(0x5cd)),_0x4150e3=document[_0xf5083(0x5b3)](_0xf5083(0x7b3));_0x116e93['classList']['remove']('active'),_0x4150e3[_0xf5083(0x4d1)]['display']=_0xf5083(0x44a);}document[_0x28d754(0x5b3)]('modalOverlay')[_0x28d754(0x507)](_0x28d754(0x640),_0x18bedb=>{const _0x3633ee=_0x28d754;_0x18bedb[_0x3633ee(0x643)]==_0x18bedb[_0x3633ee(0x73b)]&&_0x18bedb[_0x3633ee(0x534)]();});function showModalPay(){const _0x1ed570=_0x28d754,_0x247657=document['getElementById'](_0x1ed570(0x397)),_0x4fd3cf=document[_0x1ed570(0x5b3)]('modalOverlayPay');_0x247657[_0x1ed570(0x501)]['add'](_0x1ed570(0x542)),_0x4fd3cf[_0x1ed570(0x4d1)][_0x1ed570(0x746)]=_0x1ed570(0x355);}function hideModalPay(){const _0x209f62=_0x28d754,_0x496986=document[_0x209f62(0x5b3)](_0x209f62(0x397)),_0x29a1c6=document[_0x209f62(0x5b3)](_0x209f62(0x774));_0x496986[_0x209f62(0x501)][_0x209f62(0x656)](_0x209f62(0x542)),_0x29a1c6[_0x209f62(0x4d1)][_0x209f62(0x746)]='none';}document['getElementById']('closeModalPay')[_0x28d754(0x507)](_0x28d754(0x640),hideModalPay),document['getElementById'](_0x28d754(0x774))[_0x28d754(0x507)](_0x28d754(0x640),_0x379289=>{const _0x523e46=_0x28d754;_0x379289[_0x523e46(0x643)]==_0x379289['currentTarget']&&_0x379289[_0x523e46(0x534)]();});async function showModalLayout(){const _0x4d8cd1=_0x28d754;showLoadingModal();const _0x292496=document[_0x4d8cd1(0x5b3)](_0x4d8cd1(0x31a))[_0x4d8cd1(0x4a7)],_0x2d716c=myCompany[_0x4d8cd1(0x2c2)],_0xc0c356=_0x2d716c[_0x4d8cd1(0x248)](_0x5506e3=>_0x5506e3[_0x4d8cd1(0x31a)]==_0x292496&&_0x5506e3[_0x4d8cd1(0x449)]==0x2),_0x239f60=getUserPermissionApiERP(0xd),_0x4fd8d0=_0xc0c356?0x1:0x0;if(_0x4fd8d0==0x1&&_0x239f60==0x1){const _0x39561=myCompany[_0x4d8cd1(0x369)];let _0x31dcd0=[];const _0x5032a2=_0xc0c356['setServerRoot'][_0x4d8cd1(0x3c8)](_0x4d8cd1(0x6c8),_0x4d8cd1(0x702));await new Promise((_0x35586d,_0x24f2a6)=>{const _0x5b7f16=_0x4d8cd1,_0x4803a6=document[_0x5b7f16(0x57a)](_0x5b7f16(0x3d5));_0x4803a6[_0x5b7f16(0x4d1)]['display']='none',_0x4803a6['src']=_0x5032a2,document[_0x5b7f16(0x553)][_0x5b7f16(0x586)](_0x4803a6);const _0x210a8a=setTimeout(()=>{const _0x459b7c=_0x5b7f16;hideLoadingModal(),window[_0x459b7c(0x689)](_0x459b7c(0x45d),_0x569889),document[_0x459b7c(0x553)][_0x459b7c(0x428)](_0x4803a6),_0x24f2a6('Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.');},0xbb8),_0x569889=function(_0x2a3f35){const _0x403657=_0x5b7f16,_0x12b8cc=_0x2a3f35[_0x403657(0x257)];if(!Array[_0x403657(0x69f)](_0x12b8cc)){hideLoadingModal(),console[_0x403657(0x574)](_0x403657(0x345)),clearTimeout(_0x210a8a),window[_0x403657(0x689)](_0x403657(0x45d),_0x569889),document['body'][_0x403657(0x428)](_0x4803a6),_0x24f2a6('Data\x20no\x20válida');return;}_0x31dcd0=_0x12b8cc['filter'](_0x2f576c=>!_0x39561[_0x403657(0x79e)](_0x258793=>_0x258793[_0x403657(0x73a)]==_0x2f576c['setWindowId'])),myCompany[_0x403657(0x369)]=_0x12b8cc,((async()=>{const _0x51fbd5=_0x403657,_0x1d3b08=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1d3b08);for(const _0x36388c of _0x31dcd0){await new Promise(_0x14b33e=>setTimeout(_0x14b33e,0x12c)),await createCartStore(_0x36388c[_0x51fbd5(0x73a)]);}console['log'](_0x51fbd5(0x1db)),clearTimeout(_0x210a8a),window[_0x51fbd5(0x689)]('message',_0x569889),document[_0x51fbd5(0x553)][_0x51fbd5(0x428)](_0x4803a6),_0x35586d();})());};window[_0x5b7f16(0x507)](_0x5b7f16(0x45d),_0x569889,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x53d00d=document[_0x4d8cd1(0x5b3)](_0x4d8cd1(0x27f)),_0x4db532=document[_0x4d8cd1(0x5b3)](_0x4d8cd1(0x653));_0x53d00d['classList']['add'](_0x4d8cd1(0x542)),_0x4db532[_0x4d8cd1(0x4d1)][_0x4d8cd1(0x746)]=_0x4d8cd1(0x355);const _0x53ac04=document[_0x4d8cd1(0x5b3)](_0x4d8cd1(0x670))[_0x4d8cd1(0x4a7)],_0x40d5f9=document['getElementById'](_0x4d8cd1(0x31a))[_0x4d8cd1(0x4a7)];cargarVentanas(_0x40d5f9,_0x53ac04),createTabsEnvironments();}function hideModalLayout(){const _0x13da73=_0x28d754,_0x27924e=document[_0x13da73(0x5b3)]('detalleModalLayout'),_0x21f44b=document['getElementById'](_0x13da73(0x653));_0x27924e['classList'][_0x13da73(0x656)](_0x13da73(0x542)),_0x21f44b[_0x13da73(0x4d1)]['display']=_0x13da73(0x44a);}document[_0x28d754(0x5b3)](_0x28d754(0x258))[_0x28d754(0x507)](_0x28d754(0x640),hideModalLayout),document[_0x28d754(0x5b3)](_0x28d754(0x653))['addEventListener'](_0x28d754(0x640),_0x554c98=>{const _0x81cbd4=_0x28d754;_0x554c98[_0x81cbd4(0x643)]==_0x554c98['currentTarget']&&_0x554c98['stopPropagation']();});function showModalOptions(){const _0x24f9a1=_0x28d754,_0x287037=document[_0x24f9a1(0x5b3)](_0x24f9a1(0x5ce)),_0x7ea077=document['getElementById'](_0x24f9a1(0x6ae));_0x287037[_0x24f9a1(0x501)][_0x24f9a1(0x7bc)](_0x24f9a1(0x542)),_0x7ea077[_0x24f9a1(0x4d1)][_0x24f9a1(0x746)]=_0x24f9a1(0x355);}function hideModalOptions(){const _0x2bcea1=_0x28d754,_0xa327a5=document[_0x2bcea1(0x5b3)](_0x2bcea1(0x5ce)),_0x236df8=document['getElementById'](_0x2bcea1(0x6ae));_0xa327a5['classList'][_0x2bcea1(0x656)]('active'),_0x236df8[_0x2bcea1(0x4d1)][_0x2bcea1(0x746)]='none';}document['getElementById']('modalOverlayOptions')['addEventListener']('click',_0x121204=>{const _0x50c7d1=_0x28d754;_0x121204[_0x50c7d1(0x643)]==_0x121204[_0x50c7d1(0x73b)]&&_0x121204[_0x50c7d1(0x534)]();});function showSection(_0x496550,_0x1926ac=''){const _0x4a2ccc=_0x28d754,_0xaf26ab=[_0x4a2ccc(0x6b3),_0x4a2ccc(0x2a4),_0x4a2ccc(0x740)];if(_0x496550==_0x4a2ccc(0x740)){setDivTotalPay(_0x1926ac),showModalPay();return;}if(_0x496550==_0x4a2ccc(0x2a4)){showModalOptions();return;}_0xaf26ab[_0x4a2ccc(0x239)](_0x558d20=>{const _0x1d89e5=_0x4a2ccc,_0x6931cb=document[_0x1d89e5(0x5b3)](_0x558d20);_0x6931cb?_0x558d20!==_0x1d89e5(0x740)&&_0x558d20!==_0x1d89e5(0x2a4)&&_0x6931cb[_0x1d89e5(0x501)][_0x1d89e5(0x430)](_0x1d89e5(0x675),_0x558d20!==_0x496550):console[_0x1d89e5(0x4e0)](_0x1d89e5(0x463)+_0x558d20+_0x1d89e5(0x7a5));});}function optionsPdf(_0x3444d0){const _0xe4165c=_0x28d754,_0x3a3e15=document[_0xe4165c(0x5b3)]('btnVisualizacion'),_0x50bf70=document['getElementById']('btnArchivosContables'),_0xf15419=document['getElementById'](_0xe4165c(0x259)),_0x5219f2=document[_0xe4165c(0x5b3)](_0xe4165c(0x685)),_0xd590af=document[_0xe4165c(0x5b3)]('archivos_contables'),_0x5e6a19=document['getElementById'](_0xe4165c(0x3a5));if(_0x3444d0==0x1)_0x3a3e15[_0xe4165c(0x501)][_0xe4165c(0x656)]('btnModal'),_0x3a3e15[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x645)),_0x50bf70['classList'][_0xe4165c(0x656)](_0xe4165c(0x645)),_0x50bf70[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0xf15419['classList'][_0xe4165c(0x656)](_0xe4165c(0x645)),_0xf15419[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0x5219f2[_0xe4165c(0x501)][_0xe4165c(0x656)](_0xe4165c(0x675)),_0xd590af['classList'][_0xe4165c(0x7bc)](_0xe4165c(0x675)),_0x5e6a19[_0xe4165c(0x501)]['add']('hidden');else _0x3444d0==0x2?(_0x3a3e15['classList'][_0xe4165c(0x656)](_0xe4165c(0x645)),_0x3a3e15[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0x50bf70[_0xe4165c(0x501)][_0xe4165c(0x656)](_0xe4165c(0x2db)),_0x50bf70['classList'][_0xe4165c(0x7bc)]('btnModalActive'),_0xf15419[_0xe4165c(0x501)]['remove']('btnModalActive'),_0xf15419['classList'][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0x5219f2[_0xe4165c(0x501)]['add'](_0xe4165c(0x675)),_0xd590af[_0xe4165c(0x501)][_0xe4165c(0x656)](_0xe4165c(0x675)),_0x5e6a19['classList'][_0xe4165c(0x7bc)](_0xe4165c(0x675))):(_0x3a3e15['classList']['remove'](_0xe4165c(0x645)),_0x3a3e15[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0x50bf70['classList'][_0xe4165c(0x656)]('btnModalActive'),_0x50bf70[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x2db)),_0xf15419[_0xe4165c(0x501)][_0xe4165c(0x656)]('btnModal'),_0xf15419[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x645)),_0x5219f2[_0xe4165c(0x501)][_0xe4165c(0x7bc)]('hidden'),_0xd590af[_0xe4165c(0x501)][_0xe4165c(0x7bc)](_0xe4165c(0x675)),_0x5e6a19[_0xe4165c(0x501)]['remove']('hidden'));}function updateSerieOptionsAttach(_0x5a374b,_0x5d540c){const _0x2c154a=_0x28d754,_0x151d19=document['getElementById'](_0x2c154a(0x4f1)+_0x5d540c);_0x151d19[_0x2c154a(0x566)]='';const _0x266d66=document[_0x2c154a(0x5b3)](_0x2c154a(0x31a))[_0x2c154a(0x4a7)],_0x36cfb8=myCompany[_0x2c154a(0x1d3)]['filter'](_0x485742=>_0x485742[_0x2c154a(0x321)]==_0x5a374b&&_0x485742[_0x2c154a(0x20e)]==_0x266d66);_0x36cfb8[_0x2c154a(0x239)](_0x1ccaef=>{const _0x35b120=_0x2c154a;_0x151d19[_0x35b120(0x586)](createElement('option',{'value':_0x1ccaef[_0x35b120(0x2b4)]},[_0x1ccaef[_0x35b120(0x2b4)]]));}),_0x36cfb8[_0x2c154a(0x517)]&&(_0x151d19[_0x2c154a(0x4a7)]=_0x36cfb8[0x0]['setSerie']),window_options[_0x5d540c][_0x2c154a(0x648)]=_0x5a374b;}async function consultAttach(_0x41cb99){const _0x513ea1=_0x28d754,_0x3ae956=document[_0x513ea1(0x5b3)](_0x513ea1(0x366)+_0x41cb99);if(!_0x3ae956){console[_0x513ea1(0x574)](_0x513ea1(0x381));return;}const _0x1863e0=document[_0x513ea1(0x5b3)](_0x513ea1(0x4c3)+_0x41cb99)[_0x513ea1(0x4a7)],_0x1d7a62=document[_0x513ea1(0x5b3)]('setAttachType-'+_0x41cb99)[_0x513ea1(0x4a7)],_0x241909=document[_0x513ea1(0x5b3)](_0x513ea1(0x4f1)+_0x41cb99)[_0x513ea1(0x4a7)],_0x3cba1a=document[_0x513ea1(0x5b3)](_0x513ea1(0x393)+_0x41cb99)['value'];_0x3ae956[_0x513ea1(0x5ab)]=!![],hideModalOptions(),showLoadingModal();try{const _0x403448=myCompany['setApiEndPoint'],_0x5d9a90={'apiPOS_getAttach':0x1,'setToken':myCompany['setAuthToken'],'setAttachEdit':_0x1863e0,'setAttachType':_0x1d7a62,'setAttachSeries':_0x241909,'setAttachNumber':_0x3cba1a},_0x38e09a=await fetch(_0x403448,{'method':_0x513ea1(0x654),'headers':{'Content-Type':_0x513ea1(0x418)},'body':JSON[_0x513ea1(0x43e)](_0x5d9a90)}),_0x102a77=await _0x38e09a[_0x513ea1(0x326)]();if(_0x102a77[_0x513ea1(0x5d5)]&&_0x102a77[_0x513ea1(0x45d)][_0x513ea1(0x41c)]){await removeAllFromCart(_0x41cb99);const _0x16fef3=_0x102a77[_0x513ea1(0x45d)][_0x513ea1(0x41c)],_0x61bbf5=_0x102a77[_0x513ea1(0x45d)][_0x513ea1(0x4a9)];(_0x1863e0==0x1||_0x1863e0==0x2)&&(window_options[_0x41cb99]['setTipoOperacion']=_0x16fef3[_0x513ea1(0x59c)],await updateSerieOptions(_0x16fef3[_0x513ea1(0x59c)],_0x41cb99),window_options[_0x41cb99][_0x513ea1(0x2b4)]=_0x16fef3[_0x513ea1(0x75e)],window_options[_0x41cb99][_0x513ea1(0x360)]=_0x16fef3[_0x513ea1(0x415)]);window_options[_0x41cb99][_0x513ea1(0x69a)]=_0x16fef3[_0x513ea1(0x641)],window_options[_0x41cb99][_0x513ea1(0x329)]=_0x16fef3[_0x513ea1(0x5eb)],window_options[_0x41cb99][_0x513ea1(0x4a5)]=_0x16fef3[_0x513ea1(0x498)],window_options[_0x41cb99][_0x513ea1(0x3f5)]=_0x16fef3[_0x513ea1(0x3f1)],window_options[_0x41cb99][_0x513ea1(0x68c)]=_0x16fef3[_0x513ea1(0x512)],window_options[_0x41cb99]['setObservacion']=_0x16fef3[_0x513ea1(0x3d4)];_0x1d7a62!=0x29&&(window_options[_0x41cb99][_0x513ea1(0x429)]=_0x16fef3[_0x513ea1(0x4b3)],document['getElementById'](_0x513ea1(0x732))['value']=_0x16fef3[_0x513ea1(0x732)],document[_0x513ea1(0x5b3)](_0x513ea1(0x732))['dispatchEvent'](new Event(_0x513ea1(0x494))));window_options[_0x41cb99][_0x513ea1(0x590)]=_0x16fef3['setReceiptDescGlobal'],window_options[_0x41cb99][_0x513ea1(0x43b)]=_0x16fef3[_0x513ea1(0x5fd)],window_options[_0x41cb99][_0x513ea1(0x44c)]=_0x61bbf5,await saveWindowOptionsDB(_0x41cb99);for(let _0x4ed6a9=0x0;_0x4ed6a9<_0x61bbf5[_0x513ea1(0x517)];_0x4ed6a9++){const _0x326391=_0x61bbf5[_0x4ed6a9],_0x39e1cb=products[_0x513ea1(0x248)](_0x4ab23e=>_0x4ab23e['id']==_0x326391[_0x513ea1(0x448)]);_0x39e1cb&&(await new Promise(_0x3125f=>setTimeout(_0x3125f,0x64)),addToCart(_0x39e1cb,{'setValorCantidad':_0x326391['setValorCantidad'],'setMtoPrecioUnitario_final':_0x326391[_0x513ea1(0x53e)],'setTaxId':_0x326391[_0x513ea1(0x626)],'setTipAfeIgv':_0x326391[_0x513ea1(0x5be)],'setPorcentajeDesc':_0x326391['setPorcentajeDesc'],'setNotas':_0x326391['setNotas'],'setMtoPrecioUnitario_input':_0x326391['setPrecioUnit'],'setMtoPrecioCostoUnitario_input':_0x326391[_0x513ea1(0x25e)]},0x1,_0x41cb99));}if([0x2,0x3][_0x513ea1(0x66a)](parseInt(_0x1863e0,0xa))){const _0x5b46d1=document['getElementById']('divAttachResult-'+_0x41cb99);_0x5b46d1[_0x513ea1(0x566)]='';const _0x5d3d88=document[_0x513ea1(0x57a)]('p');_0x5d3d88['id']=_0x513ea1(0x669)+_0x41cb99,_0x5d3d88[_0x513ea1(0x68b)]=_0x241909+'-'+_0x3cba1a,Object['assign'](_0x5d3d88[_0x513ea1(0x4d1)],{'display':_0x513ea1(0x43c),'alignItems':_0x513ea1(0x32d),'backgroundColor':_0x513ea1(0x29a),'color':_0x513ea1(0x547),'padding':_0x513ea1(0x2d8),'borderRadius':_0x513ea1(0x67f),'fontSize':_0x513ea1(0x334),'fontWeight':_0x513ea1(0x6fc),'margin':_0x513ea1(0x4b0)});const _0x6ead1c=document['createElement']('button');_0x6ead1c[_0x513ea1(0x68b)]='✕',Object[_0x513ea1(0x49e)](_0x6ead1c[_0x513ea1(0x4d1)],{'marginLeft':_0x513ea1(0x5b9),'background':_0x513ea1(0x5bf),'border':_0x513ea1(0x44a),'cursor':_0x513ea1(0x36d),'fontSize':_0x513ea1(0x334),'lineHeight':'1','color':_0x513ea1(0x509)}),_0x6ead1c[_0x513ea1(0x1d9)]('aria-label',_0x513ea1(0x240)),_0x6ead1c[_0x513ea1(0x507)](_0x513ea1(0x640),()=>{const _0x4097ef=_0x513ea1;window_options[_0x41cb99][_0x4097ef(0x43b)]='',window_options[_0x41cb99][_0x4097ef(0x44c)]=[],_0x5b46d1[_0x4097ef(0x566)]='',saveWindowOptionsDB(_0x41cb99);}),_0x5d3d88['appendChild'](_0x6ead1c),_0x5b46d1[_0x513ea1(0x586)](_0x5d3d88);}}else ntfShow(_0x513ea1(0x401)),console['log'](_0x513ea1(0x401));}catch(_0x5c8b81){ntfShow(_0x513ea1(0x3a7)),console[_0x513ea1(0x574)](_0x513ea1(0x46e),_0x5c8b81);}finally{_0x3ae956[_0x513ea1(0x5ab)]=![],hideLoadingModal();}}async function setPrintOnline(_0x3e090b,_0x4e1c73,_0x113279,_0xaa6f41=0x0){const _0xdc530f=_0x28d754,_0x485d22=document[_0xdc530f(0x5b3)](_0xdc530f(0x31a))['value'],_0x5c199b=myCompany[_0xdc530f(0x2c2)],_0x3a9f34=_0x5c199b[_0xdc530f(0x248)](_0x1bb1c0=>_0x1bb1c0[_0xdc530f(0x31a)]==_0x485d22&&_0x1bb1c0[_0xdc530f(0x449)]==0x1),_0x264fbb=getUserPermissionApiERP(0x6),_0x41a1ae=_0x3a9f34?0x1:0x0;if(!_0x4e1c73){ntfShow(_0xdc530f(0x5b0));return;}_0xaa6f41!=0x1&&hideModal();showLoadingModal();const _0x4e8e74=document['getElementById']('infoLoadingModal');_0x4e8e74['innerHTML']=_0xdc530f(0x557)+_0x3e090b+_0xdc530f(0x3e2);if(_0x41a1ae==0x1&&_0x264fbb==0x1){const _0x7755ba=_0xdc530f(0x218)+generateUUID(),_0x2884ab=document[_0xdc530f(0x57a)](_0xdc530f(0x3d5));_0x2884ab['name']=_0x7755ba,_0x2884ab[_0xdc530f(0x4d1)][_0xdc530f(0x746)]='none',document[_0xdc530f(0x553)][_0xdc530f(0x586)](_0x2884ab);const _0x57c090=document['createElement'](_0xdc530f(0x22e));_0x57c090['method']='POST',_0x57c090[_0xdc530f(0x63e)]=_0x3a9f34[_0xdc530f(0x6b4)],_0x57c090[_0xdc530f(0x1de)]=_0xdc530f(0x7b0),_0x57c090['target']=_0x2884ab[_0xdc530f(0x62b)];const _0x138b5e={'printData':JSON[_0xdc530f(0x43e)]({'setPrinterName':_0x3e090b,'setPdfName':_0x113279,'setPrint':0x1})};for(const _0x308e46 in _0x138b5e){const _0x11d5dc=document[_0xdc530f(0x57a)](_0xdc530f(0x5e3));_0x11d5dc[_0xdc530f(0x322)]=_0xdc530f(0x675),_0x11d5dc[_0xdc530f(0x62b)]=_0x308e46,_0x11d5dc[_0xdc530f(0x4a7)]=_0x138b5e[_0x308e46],_0x57c090[_0xdc530f(0x586)](_0x11d5dc);}const _0x4788e1=document[_0xdc530f(0x57a)](_0xdc530f(0x5e3));_0x4788e1[_0xdc530f(0x322)]=_0xdc530f(0x318),_0x4788e1[_0xdc530f(0x62b)]=_0xdc530f(0x2cf);const _0x237335=new File([_0x4e1c73],'documento.pdf',{'type':_0xdc530f(0x521)}),_0x2dd100=new DataTransfer();_0x2dd100['items'][_0xdc530f(0x7bc)](_0x237335),_0x4788e1[_0xdc530f(0x632)]=_0x2dd100['files'],_0x57c090[_0xdc530f(0x586)](_0x4788e1),document[_0xdc530f(0x553)]['appendChild'](_0x57c090),_0x57c090[_0xdc530f(0x7ae)](),document[_0xdc530f(0x553)][_0xdc530f(0x428)](_0x57c090),await new Promise(_0x1a0e40=>setTimeout(_0x1a0e40,0x4b0)),setTimeout(()=>{const _0x32d969=_0xdc530f;document[_0x32d969(0x553)][_0x32d969(0x428)](_0x2884ab);},0xaf0),hideLoadingModal(),_0xaa6f41!=0x1&&showModal();}else{if(!isOnline())return console[_0xdc530f(0x5d6)](_0xdc530f(0x49a)),null;const _0x54c19e={'setAuthToken':myCompany[_0xdc530f(0x523)],'setPrinterName':_0x3e090b,'setPdfName':_0x113279,'setBucketName':'luisitoprograma-pdf','setPrint':0x1},_0x4887ac=new FormData();_0x4887ac['append']('invoice',JSON[_0xdc530f(0x43e)](_0x54c19e));if(_0x4e1c73 instanceof Blob&&_0x4e1c73[_0xdc530f(0x5c7)]>0x0)_0x4887ac[_0xdc530f(0x787)](_0xdc530f(0x2cf),_0x4e1c73,_0xdc530f(0x7bb));else{console[_0xdc530f(0x574)](_0xdc530f(0x40f));return;}try{const _0x1cbce=await fetch(_0xdc530f(0x651),{'method':'POST','body':_0x4887ac});if(!_0x1cbce['ok'])throw new Error(_0xdc530f(0x528)+_0x1cbce['statusText']);const _0x4aa7c1=await _0x1cbce[_0xdc530f(0x326)]();if(!_0x4aa7c1[_0xdc530f(0x5d5)])throw new Error(_0x4aa7c1[_0xdc530f(0x45d)]||_0xdc530f(0x243));_0x4e8e74['innerHTML']=_0xdc530f(0x4f3);}catch(_0x498028){ntfShow(_0x498028);}finally{hideLoadingModal(),_0xaa6f41!=0x1&&showModal();}}}async function processPrints(_0x1d78e0){const _0x3c6445=_0x28d754;for(const _0x5b378a of _0x1d78e0){const {payloadComand:_0x436a1b}=_0x5b378a,{pdfBlob:_0x53dda7,pdfName:_0x1b5468}=await generatePdf(_0x436a1b,'tk',_0x3c6445(0x454),_0x3c6445(0x4b7)),_0x2cc096=_0x1b5468['replace'](_0x3c6445(0x2aa),'-'+_0x5b378a[_0x3c6445(0x3e8)]+_0x3c6445(0x2aa));await setPrintOnline(_0x5b378a[_0x3c6445(0x1e6)],_0x53dda7,_0x2cc096,0x1);}}function setPrinter(_0x123d1a,_0x1df558){const _0x2a1cd7=_0x28d754;document[_0x2a1cd7(0x5b3)](_0x2a1cd7(0x6ad))['textContent']=_0x1df558,document[_0x2a1cd7(0x5b3)](_0x2a1cd7(0x6ad))[_0x2a1cd7(0x1d9)]('data-printer',_0x123d1a);}async function generatePdfTk(){const _0x2c8805=_0x28d754,_0x366e83=document['getElementById']('windowId')[_0x2c8805(0x4a7)],{pdfGlobalPayload:_0x42e4b8,pdfGlobalBlob:_0x99555,pdfGlobalName:_0x105431}=getLastOperationGlobalData(_0x366e83),{pdfBlob:_0x19cad5,pdfName:_0x2f6a8f}=await generatePdf(_0x42e4b8,'tk',_0x2c8805(0x454),_0x2c8805(0x4b7));setLastOperationGlobalData(_0x366e83,{'pdfGlobalPayload':_0x42e4b8,'pdfGlobalBlob':_0x19cad5,'pdfGlobalName':_0x2f6a8f});}async function generatePdfA4(){const _0x3a117e=_0x28d754,_0x173b13=document[_0x3a117e(0x5b3)]('windowId')[_0x3a117e(0x4a7)],{pdfGlobalPayload:_0x5410e5,pdfGlobalBlob:_0x36827b,pdfGlobalName:_0x5e9937}=getLastOperationGlobalData(_0x173b13),{pdfBlob:_0x57ab36,pdfName:_0x5e52df}=await generatePdf(_0x5410e5,'a4',_0x3a117e(0x454),_0x3a117e(0x4b7));setLastOperationGlobalData(_0x173b13,{'pdfGlobalPayload':_0x5410e5,'pdfGlobalBlob':_0x57ab36,'pdfGlobalName':_0x5e52df});}function cargarVentanas(_0x4cc090,_0xa564aa){const _0x514110=_0x28d754,_0x18ad49=myCompany[_0x514110(0x369)][_0x514110(0x1fc)](_0x650115=>_0x650115[_0x514110(0x31a)]==_0x4cc090&&_0x650115[_0x514110(0x670)]==_0xa564aa),_0x115811=0x5,_0x3eb6d7=0x5,_0x42da79=0x5,_0x4a9714=0x5,_0x1825e1=0x78,_0x2ca97f=0x78;let _0x4c5117=_0x115811,_0x4ad2b0=_0x3eb6d7;!posicionesPorPiso[_0xa564aa]&&(posicionesPorPiso[_0xa564aa]={});const _0x1664e2=_0x18ad49[_0x514110(0x6f6)](_0x4bd39a=>{const _0x28cb78=_0x514110;posicionesPorPiso[_0xa564aa][_0x4bd39a[_0x28cb78(0x73a)]]?(_0x4bd39a['x']=posicionesPorPiso[_0xa564aa][_0x4bd39a[_0x28cb78(0x73a)]]['x'],_0x4bd39a['y']=posicionesPorPiso[_0xa564aa][_0x4bd39a[_0x28cb78(0x73a)]]['y']):(_0x4bd39a['x']=_0x4c5117,_0x4bd39a['y']=_0x4ad2b0,posicionesPorPiso[_0xa564aa][_0x4bd39a['setWindowId']]={'x':_0x4c5117,'y':_0x4ad2b0},_0x4c5117+=_0x1825e1+_0x42da79,_0x4c5117+_0x1825e1>layout_windows[_0x28cb78(0x25d)]&&(_0x4c5117=_0x115811,_0x4ad2b0+=_0x2ca97f+_0x4a9714));let _0x1b6945={'setWindowId':_0x4bd39a[_0x28cb78(0x73a)],'setWindowType':_0x4bd39a[_0x28cb78(0x5cb)],'setWindowName':_0x4bd39a[_0x28cb78(0x1c1)],'x':_0x4bd39a['x'],'y':_0x4bd39a['y'],'zona':_0x4bd39a['setFloorName'],'floorId':_0x4bd39a[_0x28cb78(0x670)]};return[_0x28cb78(0x1ee),_0x28cb78(0x527),'room','chair'][_0x28cb78(0x66a)](_0x4bd39a[_0x28cb78(0x5cb)])&&(_0x1b6945['setWindowTypeShape']=_0x4bd39a[_0x28cb78(0x6f5)]||_0x28cb78(0x5ad),_0x1b6945[_0x28cb78(0x268)]=_0x4bd39a[_0x28cb78(0x268)]||_0x28cb78(0x26e)),_0x1b6945;}),_0x191450=extraElements[_0x514110(0x1fc)](_0x3d10e8=>_0x3d10e8[_0x514110(0x5bb)]==_0xa564aa);elementos=[..._0x1664e2,..._0x191450],crearElementos();}function crearElementos(){const _0x15d314=_0x28d754,_0x145c1d=myCompany[_0x15d314(0x462)],_0x48e83a=myCompany[_0x15d314(0x770)]['find'](_0x4397a2=>_0x4397a2[_0x15d314(0x5ed)]==_0x145c1d),_0x18beee=_0x48e83a?_0x48e83a[_0x15d314(0x2ff)]:'';layout_windows[_0x15d314(0x566)]='',elementos[_0x15d314(0x239)](_0x2fef53=>{const _0x52b797=_0x15d314;let _0x34a2a9='',_0x3d5b77=0x0,_0x1a79e2=0x0,_0x345ee6;const _0x590983=getValidatedWindowAndShift(_0x2fef53[_0x52b797(0x73a)]);if(_0x590983){const {currentWindowShift:_0xf74cfe}=_0x590983;if(_0xf74cfe){if(_0x590983['windowObj'][_0x52b797(0x268)]=='collect')_0x34a2a9=_0x52b797(0x408)+formatShiftDate(_0xf74cfe[_0x52b797(0x3ab)]);else _0x590983['windowObj'][_0x52b797(0x268)]==_0x52b797(0x63a)&&(_0x34a2a9=_0x52b797(0x408)+formatShiftDate(_0xf74cfe[_0x52b797(0x616)]));const _0xc8a5e1=_0xf74cfe[_0x52b797(0x31d)]||[];_0x3d5b77=_0xc8a5e1[_0x52b797(0x1fc)](_0x2fda53=>setTipOpeOrders[_0x52b797(0x79e)](_0x354af9=>_0x354af9==_0x2fda53['setTipoOperacion']))['length'],_0x1a79e2=_0xc8a5e1[_0x52b797(0x511)]((_0x2bcfc2,_0x454d5)=>{const _0xde8ff3=_0x52b797,_0x4cf254=parseFloat(_0x454d5[_0xde8ff3(0x6d8)])||0x0;if(setTipOpeOrders[_0xde8ff3(0x79e)](_0x15cedf=>_0x15cedf==_0x454d5[_0xde8ff3(0x6f1)]))return _0x2bcfc2+_0x4cf254;if(setTipOpeSales[_0xde8ff3(0x79e)](_0x1eb638=>_0x1eb638==_0x454d5['setTipoOperacion']))return _0x2bcfc2-_0x4cf254;return _0x2bcfc2;},0x0);const _0x1a5d52=_0xf74cfe[_0x52b797(0x5c6)]||'',_0x158c11=myCompany[_0x52b797(0x70a)][_0x52b797(0x248)](_0x550f9e=>_0x550f9e[_0x52b797(0x281)]==_0x1a5d52);_0x345ee6=_0x158c11?_0x158c11[_0x52b797(0x451)]:'';}}const _0x175ad5=document[_0x52b797(0x57a)](_0x52b797(0x35d));_0x175ad5['id']=_0x52b797(0x481)+_0x2fef53[_0x52b797(0x73a)],_0x175ad5[_0x52b797(0x78c)]=_0x52b797(0x60a)+_0x2fef53[_0x52b797(0x268)]+'\x20draggable-'+_0x2fef53['setWindowTypeShape'],_0x175ad5[_0x52b797(0x4d1)][_0x52b797(0x4db)]=_0x2fef53['x']+'px',_0x175ad5[_0x52b797(0x4d1)][_0x52b797(0x649)]=_0x2fef53['y']+'px';let _0x14796d='';switch(_0x2fef53[_0x52b797(0x5cb)]){case'window':_0x14796d=_0x52b797(0x2ca);break;case'table':_0x14796d=_0x52b797(0x4cf);break;case _0x52b797(0x51f):_0x14796d=_0x52b797(0x413);break;case'chair':_0x14796d='./img/layout/icon-window.svg';break;case _0x52b797(0x28b):_0x14796d=_0x52b797(0x1c9);break;case'element-bathroom-men':_0x14796d=_0x52b797(0x331);break;case _0x52b797(0x45a):_0x14796d=_0x52b797(0x526);break;case _0x52b797(0x73d):_0x14796d='./img/layout/icon-bathroom-women.svg';break;case _0x52b797(0x361):_0x14796d=_0x52b797(0x587);break;case _0x52b797(0x270):_0x14796d=_0x52b797(0x3f7);break;case'element-fridge':_0x14796d='./img/layout/icon-fridge.svg';break;case _0x52b797(0x76f):_0x14796d=_0x52b797(0x2b5);break;case _0x52b797(0x37c):_0x14796d=_0x52b797(0x375);break;case _0x52b797(0x1f0):_0x14796d=_0x52b797(0x2b1);break;case _0x52b797(0x6a1):_0x14796d=_0x52b797(0x4a2);break;case _0x52b797(0x1df):_0x14796d='./img/layout/icon-vertical-line.svg';break;case _0x52b797(0x69e):_0x14796d='./img/layout/icon-waiter.svg';break;default:_0x14796d='./img/layout/icon-window.svg';}if(_0x2fef53[_0x52b797(0x268)]=='free'){let _0x57473d=_0x52b797(0x2ed)+_0x14796d+'\x22\x20alt=\x22'+_0x2fef53[_0x52b797(0x5cb)]+'\x22>';_0x175ad5[_0x52b797(0x566)]=_0x52b797(0x311)+_0x2fef53[_0x52b797(0x73a)]+_0x52b797(0x584)+_0x2fef53[_0x52b797(0x1c1)]+_0x52b797(0x274)+_0x57473d+'\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>';}else _0x175ad5[_0x52b797(0x566)]=_0x52b797(0x5d7)+_0x2fef53[_0x52b797(0x73a)]+_0x52b797(0x584)+_0x2fef53[_0x52b797(0x1c1)]+_0x52b797(0x6b9)+_0x2fef53[_0x52b797(0x73a)]+_0x52b797(0x3bb)+_0x345ee6+_0x52b797(0x58e)+_0x18beee+'\x20'+parseFloat(_0x1a79e2)[_0x52b797(0x3ea)](0x2)+'\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>'+_0x3d5b77+_0x52b797(0x529)+_0x34a2a9+_0x52b797(0x781);_0x175ad5[_0x52b797(0x344)][_0x52b797(0x73a)]=_0x2fef53[_0x52b797(0x73a)],layout_windows['appendChild'](_0x175ad5),addDragEvents(_0x175ad5);});}function checkCollision(_0x3d178a){const _0x48a148=_0x28d754,_0x42653e=parseInt(_0x3d178a[_0x48a148(0x4d1)][_0x48a148(0x4db)]),_0x5cc27b=parseInt(_0x3d178a['style'][_0x48a148(0x649)]),_0x1cf5d4=_0x3d178a['offsetWidth'],_0x437d24=_0x3d178a[_0x48a148(0x203)];let _0x5d1e84=![];const _0x4f0630=layout_windows[_0x48a148(0x1e9)](_0x48a148(0x5b5));return _0x4f0630[_0x48a148(0x239)](_0x2c1521=>{const _0x35ddb3=_0x48a148;if(_0x2c1521==_0x3d178a)return;const _0x115677=parseInt(_0x2c1521[_0x35ddb3(0x4d1)][_0x35ddb3(0x4db)]),_0x56e578=parseInt(_0x2c1521[_0x35ddb3(0x4d1)][_0x35ddb3(0x649)]),_0x51027c=_0x2c1521[_0x35ddb3(0x617)],_0x248244=_0x2c1521[_0x35ddb3(0x203)];_0x42653e<_0x115677+_0x51027c&&_0x42653e+_0x1cf5d4>_0x115677&&_0x5cc27b<_0x56e578+_0x248244&&_0x5cc27b+_0x437d24>_0x56e578&&(_0x5d1e84=!![]);}),_0x5d1e84;}function avoidOverlap(_0x194f7f){const _0x8d882f=_0x28d754;let _0x52f267=parseInt(_0x194f7f[_0x8d882f(0x4d1)][_0x8d882f(0x4db)]),_0x245bbd=parseInt(_0x194f7f[_0x8d882f(0x4d1)]['top']);const _0x187a6b=0xa;let _0x70e3dc=0x0;while(checkCollision(_0x194f7f)&&_0x70e3dc<0x64){_0x52f267+=_0x187a6b,_0x52f267+_0x194f7f['offsetWidth']>layout_windows[_0x8d882f(0x25d)]&&(_0x52f267=0x0,_0x245bbd+=_0x187a6b,_0x245bbd+_0x194f7f['offsetHeight']>layout_windows[_0x8d882f(0x216)]&&(_0x245bbd=0x0)),_0x194f7f[_0x8d882f(0x4d1)][_0x8d882f(0x4db)]=_0x52f267+'px',_0x194f7f[_0x8d882f(0x4d1)][_0x8d882f(0x649)]=_0x245bbd+'px',_0x70e3dc++;}}function constrainToBounds(_0x526441){const _0x3302be=_0x28d754;let _0x3f9102=parseInt(_0x526441[_0x3302be(0x4d1)][_0x3302be(0x4db)]),_0x43036a=parseInt(_0x526441[_0x3302be(0x4d1)][_0x3302be(0x649)]);const _0x34f41f=_0x526441[_0x3302be(0x617)],_0x33ded0=_0x526441[_0x3302be(0x203)];if(_0x3f9102<0x0)_0x3f9102=0x0;if(_0x43036a<0x0)_0x43036a=0x0;if(_0x3f9102+_0x34f41f>layout_windows['clientWidth'])_0x3f9102=layout_windows[_0x3302be(0x25d)]-_0x34f41f;if(_0x43036a+_0x33ded0>layout_windows['clientHeight'])_0x43036a=layout_windows[_0x3302be(0x216)]-_0x33ded0;_0x526441[_0x3302be(0x4d1)][_0x3302be(0x4db)]=_0x3f9102+'px',_0x526441['style'][_0x3302be(0x649)]=_0x43036a+'px';}function updateElementPosition(_0x2d6657){const _0x3da23b=_0x28d754,_0x42a395=parseInt(_0x2d6657[_0x3da23b(0x344)][_0x3da23b(0x73a)]),_0x58d920=elementos[_0x3da23b(0x248)](_0x20b13a=>_0x20b13a[_0x3da23b(0x73a)]==_0x42a395);if(_0x58d920){_0x58d920['x']=parseInt(_0x2d6657[_0x3da23b(0x4d1)][_0x3da23b(0x4db)]),_0x58d920['y']=parseInt(_0x2d6657[_0x3da23b(0x4d1)]['top']);posicionesPorPiso[_0x58d920['floorId']]&&(posicionesPorPiso[_0x58d920[_0x3da23b(0x5bb)]][_0x58d920[_0x3da23b(0x73a)]]={'x':_0x58d920['x'],'y':_0x58d920['y']});const _0x2ecf66=extraElements[_0x3da23b(0x353)](_0x56f7b7=>_0x56f7b7[_0x3da23b(0x73a)]==_0x42a395);_0x2ecf66!==-0x1&&(extraElements[_0x2ecf66]['x']=_0x58d920['x'],extraElements[_0x2ecf66]['y']=_0x58d920['y']),console[_0x3da23b(0x5d6)](_0x3da23b(0x253),_0x58d920[_0x3da23b(0x1c1)],'a',_0x58d920['x'],_0x58d920['y']);}}function addDragEvents(_0x489f4f){const _0x416a85=_0x28d754;_0x489f4f['addEventListener'](_0x416a85(0x640),function(_0x4de592){const _0x35b697=_0x416a85;if(editMode)return;if(_0x4de592[_0x35b697(0x643)][_0x35b697(0x5ee)](_0x35b697(0x348))||_0x4de592['target'][_0x35b697(0x5ee)]('.printer'))return;const _0x34d7a1=parseInt(_0x489f4f['dataset'][_0x35b697(0x73a)]),_0x3f01c4=elementos['find'](_0x4bb657=>_0x4bb657[_0x35b697(0x73a)]==_0x34d7a1);_0x3f01c4&&(_0x3f01c4[_0x35b697(0x5cb)]==_0x35b697(0x1ee)||_0x3f01c4[_0x35b697(0x5cb)]==_0x35b697(0x527)||_0x3f01c4[_0x35b697(0x5cb)]==_0x35b697(0x51f)||_0x3f01c4[_0x35b697(0x5cb)]=='chair')&&clickMesa(_0x3f01c4,0x1);}),_0x489f4f[_0x416a85(0x507)](_0x416a85(0x2d5),function(_0x3ecff1){const _0x111bb3=_0x416a85;if(!editMode)return;currentDrag=_0x489f4f,offsetX=_0x3ecff1[_0x111bb3(0x6a2)]-parseInt(_0x489f4f['style']['left']),offsetY=_0x3ecff1[_0x111bb3(0x20d)]-parseInt(_0x489f4f[_0x111bb3(0x4d1)][_0x111bb3(0x649)]),_0x489f4f['style'][_0x111bb3(0x4b8)]=0x3e8,dragStartX=_0x3ecff1[_0x111bb3(0x6a2)],dragStartY=_0x3ecff1[_0x111bb3(0x20d)],isDraggingMoved=![];}),document['addEventListener'](_0x416a85(0x459),function(_0x38811b){const _0x7e9278=_0x416a85;if(currentDrag&&editMode){const _0x5ea214=_0x38811b[_0x7e9278(0x6a2)]-offsetX,_0x106d69=_0x38811b[_0x7e9278(0x20d)]-offsetY;currentDrag['style'][_0x7e9278(0x4db)]=_0x5ea214+'px',currentDrag['style'][_0x7e9278(0x649)]=_0x106d69+'px',!isDraggingMoved&&(Math[_0x7e9278(0x4c0)](_0x38811b['clientX']-dragStartX)>0x5||Math[_0x7e9278(0x4c0)](_0x38811b[_0x7e9278(0x20d)]-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document[_0x416a85(0x507)](_0x416a85(0x4ae),function(_0x181f05){const _0x5e373b=_0x416a85;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x5e373b(0x4d1)]['zIndex']='',currentDrag=null);}),_0x489f4f[_0x416a85(0x507)](_0x416a85(0x6ca),function(_0x12f844){const _0x44108e=_0x416a85;if(!editMode)return;currentDrag=_0x489f4f;const _0x2f910f=_0x12f844[_0x44108e(0x2f4)][0x0];offsetX=_0x2f910f['clientX']-parseInt(_0x489f4f[_0x44108e(0x4d1)][_0x44108e(0x4db)]),offsetY=_0x2f910f['clientY']-parseInt(_0x489f4f['style'][_0x44108e(0x649)]),_0x489f4f['style'][_0x44108e(0x4b8)]=0x3e8,dragStartX=_0x2f910f[_0x44108e(0x6a2)],dragStartY=_0x2f910f[_0x44108e(0x20d)],isDraggingMoved=![],_0x12f844['preventDefault']();}),document[_0x416a85(0x507)](_0x416a85(0x1c6),function(_0x205d8c){const _0x35f8d5=_0x416a85;if(currentDrag&&editMode){const _0x1ec69c=_0x205d8c['touches'][0x0],_0x332159=_0x1ec69c['clientX']-offsetX,_0xff7a7a=_0x1ec69c[_0x35f8d5(0x20d)]-offsetY;currentDrag[_0x35f8d5(0x4d1)][_0x35f8d5(0x4db)]=_0x332159+'px',currentDrag[_0x35f8d5(0x4d1)]['top']=_0xff7a7a+'px',!isDraggingMoved&&(Math['abs'](_0x1ec69c[_0x35f8d5(0x6a2)]-dragStartX)>0x5||Math[_0x35f8d5(0x4c0)](_0x1ec69c['clientY']-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x205d8c[_0x35f8d5(0x7ab)]();}}),document[_0x416a85(0x507)](_0x416a85(0x32e),function(_0x126e80){const _0x1c53fe=_0x416a85;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x1c53fe(0x4d1)][_0x1c53fe(0x4b8)]='',currentDrag=null);});}async function clickMesa(_0x30d72d,_0x193578=0x1){const _0x5968d8=_0x28d754,_0x16613a=_0x30d72d[_0x5968d8(0x73a)],_0x147914=getValidatedWindowAndShift(_0x16613a),{currentWindowShift:_0x40fdd0}=_0x147914;if(!_0x40fdd0)updateWindowShiftDisplay(_0x16613a);else{const _0x1f3724='tab-'+_0x16613a;await switchTab(_0x1f3724,0x1);}_0x193578==0x1&&hideModalLayout();}function _0x1765(){const _0x38073c=['Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','021\x20-\x20Movimiento\x20de\x20carga','Desc.\x20Global\x20(','\x20(Exonerado\x20Gratuito)','promise','Apertura\x20de\x20Caja','Error\x20al\x20eliminar\x20producto:','setReceiptId','Monto\x20Inicial:','El\x20producto\x20\x22','float-right-OpInafecta-','TAX\x20Error:\x20','tabs-shift','Caja\x20Final:','Total\x20Retención\x20(','float-right-TotalDescuento-','setItemUnitAlias','No\x20se\x20encontraron\x20productos.','Serie\x20no\x20encontrada','active\x20tab-section-options-','draggable\x20draggable-element\x20draggable-','getFullYear','form-control\x20custom-input-cart-options\x20shift-close-input','Error\x20desconocido\x20al\x20actualizar\x20Data.','setUserDocNumber','Porcentaje\x20detracción','No\x20se\x20encontró\x20la\x20ventana','suggestion-item\x20no-result','IGV\x20(','split','DOSCIENTOS','N°\x20de\x20operación','setShiftDateStart','offsetWidth','setPriceListAdjustmentAmount','function','setMtoOperInafectas','shift-close-rightCol','setAccountingAccountName','Diferencial:','setShiftStatus','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','Error\x20Internet','div-totals-right-TotalIgv-','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','setInventariable','download','ONCE','setTaxId','height','021','mouseenter','form-control\x20custom-input-cart-options\x20shift-open-input','name','NOTAS:','Banco:\x20\x20','setMtoValorCostoUnitario_input','label-options','general-options-','Producto\x20eliminado','files','Error\x20al\x20guardar\x20Last\x20Correlative:','tabs-areas-responsive','readonly','removeProperty','U.\x20MEDIDA','resize','setDescripcion','occupied','col-md-6','products','splice','action','\x20!important;\x0a}\x0a','click','setReceiptClientDocType','RESOLUCION\x20NRO\x200340050005929/SUNAT','target','setClienteNumDoc-','btnModalActive','drawImage','./img/icon-reporte-ventas.svg','setAttachType','top','setCashInitial','Nota:','borderRadius','focus','audio/','Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','setBatchName','https://apierp.dev/api/print/send/','Registrar\x20Ingreso','modalOverlayLayout','POST','setCorrelativo-','remove','Delete','background','keypress','setRetencionPorcentaje','029','Liberar','setPorcentajeGeneralIgv','addEmailRecipient','pop','setCompanyWebsite','DESCUENTO\x20POR\x20ITEMS','\x20MILLONES','shift-open-label','Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.','d-flex\x20mb-3','input-setWindowName','active\x20tab-section-pay-','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','attached-label-','includes','034\x20-\x20Minerales\x20metálicos\x20no\x20auríferos','./img/icon-detalle-turno.svg','btnSaveOperacion\x20custom-input-btn-background\x20form-control','d-flex','nextElementSibling','setFloorId','tabs-home','Forma\x20de\x20Pago:\x20Crédito','setFechaHora','suggestions-container','hidden','setCompanyName','Eliminar\x20ventana','div-width-100\x20mb-2','011','Usuario\x20no\x20encontrado','setLocationMaps','No\x20se\x20encontró\x20producto\x20con\x20id\x20','fonts/Roboto/Roboto-Regular.ttf','cart-panel','0.25em','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','float-left-OpGratuita-','\x20para\x20completar\x20el\x20total.','controls','setShiftCount','visualizacion','label-cart','TRECE','credito','removeEventListener','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','textContent','setMoneda','Error\x20Inputs','countryList','setBatchExpirationDate','Total-','setCustomerAddress','status','setCustomerDocumentNumber','div-width-100\x20col-bt-left-padding','\x20input.input-array-method','emailRecipients','Precio\x20Unitario','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','setClienteTipoDoc','**\x20','payment-options-','setPayments','element-waiter','isArray','Fecha','element-vase','clientX','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','OCHOCIENTOS','010','setPaymentType','getSize','Error\x20Network.','Comisión\x20(','.custom-input-cart-setClienteDenominacion','tab-totales-','setTipoOperacionCodigo','defaultPrinter','modalOverlayOptions','Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.','Reporte\x20de\x20ventas','setDespacho-','Editar\x20ventana','div_section_products','setServerRoot','width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','window_options_','tabs-environments-container','tab-','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22','form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size','widthOfTextAtSize','setLastDateUpdateCartTmp','Total\x20Pendiente','020\x20-\x20Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles','Teléfono:','007','012\x20-\x20Intermediación\x20laboral\x20y\x20tercerización','\x20(Soles)','nro_operacion','[updateCartItem]','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','setSeriesNumber','./img/icon-shift-calendar.svg','saveWindows.php','Nº\x20de\x20cuotas','touchstart','445722BetKbJ','DETRACCIÓN\x20(','getPage','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','No\x20hay\x20resultados.','setCustomerPhone-','shift-open-container','img-create-window','setClienteDenominacion-','Cerrar\x20Turno','Error\x20convirtiendo\x20adjuntos\x20a\x20base64:','padding','getMinutes','setMtoImpVenta','016','Hora','string','select','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','NOVECIENTOS','PERCEPCIÓN','034','search_more_products','document','d-none','\x20para\x20la\x20variante\x20del\x20producto\x20','PRECIO\x20U.','DOCE','setSupplierDocumentNumber','navigationStart','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','method','whatsappRecipients','label-debe-vuelto','https://apierp.dev/api/layout/update/','divMarginTopAuto','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','toLocaleDateString','setTipoOperacion','custom-label-cart-options\x20div-width-25','sendEmail','float-right-TotalDescuentoItems-','setWindowTypeShape','map','chkDetraccion-','DOS','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','RUC\x20debe\x20tener\x2011\x20dígitos.','reject','500','................................................','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','Cliente/Proveedor\x20Requerido.','Error\x20en\x20envío\x20WhatsApp\x20API:','div-width-options\x20col-bt-padding-options','windowsState.php','setBankCurrency','modalOverlayWindowShift','layout-windows','setDescuento_setMontoBase','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','setTipoOperaciones','setShifts','setUsers','Check\x20In','setMtoDescItems','setPorcentajeIgv','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.','position:\x20relative;\x20height:\x20400px;','getUTCMinutes','join','setCajeroCodigo','setDividir','detalleModalWindowShift','\x22\x20value=\x22','CIENTO','{}.constructor(\x22return\x20this\x22)(\x20)','No\x20se\x20encontró\x20sucursal\x20','SESENTA','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2','setVendedorCodigo-','nextSibling','Ocupar\x20Sillón','037\x20-\x20Demás\x20servicios\x20gravados\x20con\x20el\x20IGV','textarea','flex','concat','closeModalOptions-','input-','data-printer','setCodProducto','Vuelto:','coords_input_','container-div-flex-2-','setItemDescription','Vendedor','waMessage','get','dispatchEvent','.emailDestination','Coordenadas\x20seleccionadas:\x20','floor','004\x20-\x20Recursos\x20hidrobiológicos','setWarehouseId','float-right-totals','total_comision','setShiftCashAmount','Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>','Error\x20saving\x20window\x20options\x20DB','DATOS\x20DE\x20DISTRIBUCIÓN','4MFXCfX','setWindowId','currentTarget','Obtener','element-bathroom-women','return\x20(function()\x20','setTipoOperacion-','div_section_pay','cart_','029\x20-\x20Algodón\x20en\x20rama\x20sin\x20desmontar','setRetencion','Conductor:','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.','display','input_cart_setButton\x20btn-none\x20div-width-5','onload','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','substring','<br>','form-control\x20custom-input-cart-options\x20shift-close-textarea','012','#fff','004','setBankType','setFechaHoraReadonly','setIgv','innerHeight','./img/icon-credito.svg','setPriceLists','embedPng','setCredentialsApiWAChatStatus','Registrar\x20Gasto','custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','Operación\x20Guardada\x20Correctamente.','info','Sillón','setCustomerEmail-','setReceiptSeries','setMtoPrecioUnitario_final','editado','setCollaboratorFullName','Banco:','banco','setConsumo','prepend','\x20input.input-array-totalcomision','btnShiftEnd','setDetraccionCodigoName','setSucursalStock','https://apierp.dev/api/apiPOS/get/','CÓDIGO','NUEVE','./img/icon-shift-close.svg','Vence:\x20','element-laptop','setMonedas','setVisible','ID\x20Shift\x20Empty','apply','modalOverlayPay','number','map_select_container_','PRE\x20CUENTA','\x20|\x20Notas:\x20','CINCO','marginTop','checked','cart-item-options-','searchInput','getUTCSeconds','<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>','btnModalNewOperation','</span>\x0a</div>\x0a</div>\x0a','001\x20-\x20Azúcar','input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','cash','UNO','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','append','windowId','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','shift-close-img','setCredentialsApiWAChat','className','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','\x20|\x20','setProperty','\x20CON\x20','shift-open-btnContainer','Order\x20removed\x20because\x20no\x20products\x20remained.','DESCUENTO\x20GLOBAL','querySelector','022','mouseleave','Contado\x20y\x20Crédito','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','setSucursalCodigo','.remove-recipient-btn','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','003','some','setEmailCredentialsHostSMTP','div-totals-right','div_section_left','Total\x20Detracción\x20(','DNI\x20debe\x20tener\x208\x20dígitos.','.input-array-comision','\x22\x20no\x20encontrada.','PEN','shift-open-row2','No\x20hay\x20impresoras','revokeObjectURL','icon-arrow-right\x20hidden','preventDefault','2065270PQYewS','custom-label-cart-options','submit','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','multipart/form-data','drawLine','SEIS','modalOverlay','setEmailCredentialsSenderName','TOTAL','getMonth','setCustomerPhone','float-right-TotalIgvGratuitas-','TRESCIENTOS','No\x20se\x20encontraron\x20datos.','documento.pdf','add','setDefaultNoteType','Medio\x20de\x20pago\x20para\x20ventana\x20','shift-close-label','setMtoPrecioUnitario_input','setWindowName','RUC','setProductos','borderBottomLeftRadius','class','touchmove','sendWhatsApp','<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>','./img/layout/icon-bar.svg','btnopt_precuenta-','Cliente','#emailRecipients\x20.emailDestination','custom-input-cart-options\x20form-control\x20div-width-25','put','Moneda','sucursales','vuelto','div-width-24\x20btnopt','setSeries','Sig>','fecha','shift-close-diffValue','Agregado\x20...','MIL','setAttribute','off','Windows\x20Update\x20Local\x20Successfully.','Order\x20not\x20found.','tabs-environments-btn','enctype','element-vertical-line','content','#FF5900','Vendedor:','shift-table-expenses','autocomplete','018\x20-\x20Embarcaciones\x20pesqueras','setPrinterName','Error\x20Update:','setPercepcionPorcentaje','querySelectorAll','col-xs-12','every','DATOS:','setSellerId','window','quantity','element-user','?text=','No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.','@s.whatsapp.net','unit','setAttachEdit','setCustomers','Ajustes\x20de\x20operación','search','https://apierp.dev/api/dni/','remove-btn','btn-options','filter','Serie\x20Incorrecta','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','div-group-container\x20div-width-100','btnShiftStart','div-width-30\x20col-bt-padding','setCashInitialInput','offsetHeight','Cuenta\x20Contable','setMtoValorUnitario_final','div-total-pay-','infoLoadingModal','valorCantidad','Op.\x20Inafectas\x20(','image/png','selectedCountry','product-container','clientY','setIdSucursal','<i\x20class=\x27bi\x20bi-search\x27></i>','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','Guardando\x20Correlativo\x20en\x20DB','Descuento\x20por\x20Items','Resultado','Ingresar\x20Ubicación','clientHeight','setEnvironmentName','iframePrint_','monto','drop','input-setWindowType','key','Cod:\x20','#products','contains','Error\x20al\x20guardar\x20el\x20carrito:','container-title-options-','0.00','\x20Seleccione:','TRES','replaceWith','cuota','Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción','setMedioPago-','Total\x20Comisión','application/json','debe','Error\x20Op.','015','form','setMtoPrecioUnitario','025\x20-\x20Fabricación\x20de\x20bienes\x20por\x20encargo','\x20-\x20','.layout-tab-panel','div-width-10\x20div_margen','006\x20-\x20Algodón','Error\x20Company\x20Data.','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','100%','setUnidad','forEach','dragover','costo','getUTCMonth','OP.\x20EXONERADAS','rows',',\x20a\x20continuación\x20adjuntamos:\x20\x0a','Desanexar\x20comprobante','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:','Error\x20WindowOp','Error\x20desconocido.','Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:','Detraccion','setFloorName','setImpuestos','find','GUARDAR','#080060','img-options-o','setLastCorrelative','scale','022\x20-\x20Otros\x20servicios\x20empresariales','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','.input-array-method','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','onchange','Posición\x20actualizada\x20de','product','setDescuento_setMonto','036\x20-\x20Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','data','closeModalLayout','btnOpciones','replaceChild','017','setPermissions','clientWidth','setMtoPrecioCostoUnitario','setCollaborators','shift-close-smallIcon','modalOverlayShift','setItemIsSold','div-text-debe-vuelto-','fill','descuentoGlobalMonto','toLowerCase','button','setWindowStatus','waFiles','previousElementSibling','Nº\x20Operación:\x20\x20','match','setObservacion-','free','now','element-clock','setPercepcionTotal','email','Sólo\x20quedan\x20','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','src','setSupplierAddress','offline_operations','La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText','5px','setBankNumber','img','input[type=\x22number\x22]','\x20payment-option-','backgroundImage','detalleModalLayout','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision','setUserEmail','Enter','Seleccione:','pow','fontkit','dni','COTIZAR','032\x20-\x20Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','Guardando\x20Correlativo\x20Offline\x20en\x20DB','Despachar','element-bar','CUARENTA','https://neg-img-recursos.s3.amazonaws.com/maps_icon.png','OP.\x20INAFECTAS','href','onclick','getContext','embedJpg','<span\x20class=\x22cart-product-note\x22>','setPaymentAmount','setCategoria','setPorcentajeDesc','setMtoIGV','QUINIENTOS','detalleModalCreateWindow','#f0f4f8','setMtoValorCostoUnitario','setCustomerEmail','input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','025','float-right-OpGratuita-','setSeriesCorrelativeInitial','SEISCIENTOS','Zona:','div_section_options','Shift\x20Save\x20Error:','032','setMtoOperExoneradas','setApiEndPoint','input_cart_moreOptionsButton\x20div-width-5\x20','.pdf','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','checkout-btn-','Product\x20not\x20found.','DNI\x20/\x20RUC','La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.','./img/layout/icon-user.svg','\x22\x20debe\x20tener\x20un\x20','#ffffff','setSerie','./img/layout/icon-laptop.svg','arrayBuffer','UND','startsWith','mt-3','setSupplierName','Conteo:','Error\x20al\x20actualizar\x20data\x20online:','Forma\x20de\x20Pago:\x20Contado','detalleModalShift','Porcentaje\x20retención','00/100','then','setPrintServers','productMoreOptionsButton-','026\x20-\x20Servicio\x20de\x20transporte\x20de\x20personas','borderTopLeftRadius','\x20input.input-array-comision','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','037','<div\x20style=\x22margin-top:5px;\x22>','./img/layout/icon-window.svg','constructor','float-left-TotalIgv-','trim','No\x20Despachar','pdfBlob','73tADQZY','tabs-icon-online','Exportación','shift-open-leftCol','charAt','mousedown','setCurrencyName','setItemFree','0.25em\x200.5em','cuotas-container-','div-width-35\x20col-bt-left-padding','btnModal','!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20','setTipoDocumentosCliente','precio','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','retencionPct-','.itemCheckbox-','setTipoOperacionName','shiftKey','setMtoValorUnitario','image/','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','nombres','Marca:<br>','.marca-label','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','items','container-title-options','<img\x20class=\x22icon-element\x22\x20src=\x22','audio','img-options','addElementControls','setTipoOperacionInvoice-','Dirección:','span','touches','Total\x20detracción','onerror','El\x20monto\x20debe\x20ser\x20exactamente\x20','setUserCodigo','setEmpresaRuc','</span>','001','setCredentialsApiWAChatPort','element-bathroom-men','_blank','setMonedaSimbol','layoutState','Total','OP.\x20GRATUITAS','setOrderId','getDocument','setHours','Serie','video/','cloneNode','shift-div-table\x20','[updateCartItem]\x20excede\x20stock','setPriceListAdjustmentType','011\x20-\x20Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','setAttachType-','VEINTI','IGV','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','bind','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','./img/icon-ingresos.svg','setImg','getBoundingClientRect','file','setClienteDireccion-','setBranchId','setNotas','.context-menu','setOrders','previewList','setMtoIGVGratuitas','setMtoOperGratuitas','setSerieTipo','type','./img/apiPOS.png','\x20(Gravado\x20Gratuito)','dragleave','json','trace','general-options\x20row','setClienteNumDoc','...','\x20cuota','parentNode','center','touchend','cart-item-principal-','Hola\x20','./img/layout/icon-bathroom-men.svg','options','Error\x20al\x20guardar\x20operación\x20offline:','0.9em','setToken','setEmailCredentialsId','Seleccione','active\x20tab-','(((.+)+)+)+$','#whatsappRecipients\x20.phoneNumber','\x20actualizado:','setCorrelativoInicial','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','Cronograma\x20de\x20Pagos','itemCheckbox-','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','\x20unidades\x20','efectivo','hasOwnProperty','dataset','Array\x20Windows\x20Error.','closeModalShift','.input-array-totalcomision','.menu-options','alt','setEmpresaNombre','setBankAccounts','float-left-TotalIgvGratuitas-','mixto','innerWidth','getDate','context-menu','setWarehouseStockMin','Error\x20al\x20guardar\x20datos:','findIndex','normal','block','float-right-OpExonerada-','035','(equiv.\x20','setBranchAddress','totals','Cajero','Estado\x20del\x20layout\x20guardado\x20correctamente.','div','position','setMtoBaseIgv','setCorrelativo','element-cashier','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','Error\x20al\x20cargar\x20logo:','tabindex','toISOString','btnsetAttach-','setMtoValorGratuito','%\x20Desc.\x20de\x20','setWindows','checkbox','objectStore','OP.\x20GRAVADAS','pointer','div-width-15','</div>','exception','padStart','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','waDropArea','Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:','./img/layout/icon-printer.svg','chkRetencion-','019','test','Forma\x20de\x20Pago','layout','toLocaleString','element-printer','isCommission','IMPORTE\x20TOTAL','shift-close-row1','shift-close-infoValue','No\x20se\x20encontró\x20el\x20botón','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','Subtotal\x20(','026','marginRight','VEINTE','desc','setCodTipo','setTotal','%)\x20(','tabs-newTab','Proveedor:','currency_data','./img/icon-shift-open.svg','cart-panel-','getUTCHours','\x22)\x27>','datetime-local','setAttachNumber-','\x20de\x20','selected','Detalle\x20de\x20Turno','detalleModalPay','.payment-option-','show_right_section','shift-close-infoLabel','container-div-flex-','.category-checkbox','./img/icon-shift-user.svg','.layout-tab-btn','Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.','slice','Pct-','float-left-','#pay-container-','Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.','opciones','\x20(Inafecto\x20Gratuito)','Error\x20en\x20la\x20solicitud','.select-button-pais-flag','setMoneda-','setCantidad','setPreAccountDate','20uDxkHE','shift-close-notaLabel','Estado\x20del\x20layout\x20cargado.','setBranches','drawText','object','container-section-options-','setEmailCredentials','currency','getUTCDate','setDetraccionCodigo','setDocumentType','setCashierId','tabs-orders','checkout-','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','Escribe\x20un\x20mensaje','Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:','shift-close-title','TIPO\x20OPERACIÓN:','div-width-10\x20col-bt-padding','flex-column\x20tab-content\x20active\x20tab-','d-flex\x20mb-3\x20','float-right-OpGravada-','setMtoDescItems_precio','Editar','setPermissionId','CUATROCIENTOS','replace','setPriceListName','Crea\x20tu\x20primera\x20ventana.','Comisión\x20%','payment-icon','Aperturar\x20Ventana','setPriceListRangeStart','Apertura','Aperturar\x20Turno','Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20','Error\x20al\x20procesar\x20adjuntos.','Error\x20al\x20guardar\x20el\x20layout:\x20','setNotes','iframe','setItemVariantValues','direccion','video','024','009','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','bi\x20bi-calendar\x20icon-pay-calendar','014\x20-\x20Carnes\x20y\x20despojos\x20comestibles','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','DIEZ','float-right-','Cliente:','\x20...</span>','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','shift-close-btn','Apertura:','Error\x20al\x20procesar\x20la\x20URL:','fechaVencimiento','setPrinterId','toUpperCase','toFixed','float-left-TotalDescuento-','1\x20UND','Error\x20al\x20crear\x20Window:','prototype','cart-item-principal\x20hidden','CANT','setReceiptClientAddress','Fecha\x20de\x20Apertura:\x20','DIECINUEVE','setLastDateUpdate','setClienteDireccion','wa-recipient-template','./img/layout/icon-clock.svg','div-totals-right-Subtotal-','setBankId','setTipoOperacionInvoice','setDetraccionTotal','setFechaHora-','setPriceListRangeEnd','insertBefore','setChecked','IGV\x20GRATUITAS','No\x20se\x20encontraron\x20resultados','children','CINCUENTA','Producto:','80792gZDsLA','toDataURL','shift-table\x20','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','single-select','element-fridge','canvas','keydown','Consumo','numero-cuotas-','PDF\x20Error.','setUserNombres','setMedioPago','Error\x20al\x20guardar\x20array','./img/layout/icon-room.svg','float-right','setReceiptNumber','Op.\x20Gravadas\x20(','round-small','application/json;\x20charset=utf-8','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','setUser_Local','Order\x20Products\x20not\x20found.','setReceipt','.btn-logout','036','Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.',':\x20stock\x20actualizado\x20de\x20','setMtoValorVenta','input-group\x20input_cart_setCantidad\x20div-width-30','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','WindowId\x20Error','shift-close-row2','location','DIECISÉIS','removeChild','setDespacho','shift-open-btn','setBranchDefault','Error\x20al\x20guardar\x20el\x20layout\x20online:','IGV\x20Gratuitas','shiftDetails','.whatsapp-recipient','toggle','\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','float-left-OpInafecta-','setEmailCredentialsPortSMTP','CATORCE','btnWindowSave','setPrinterAlias','div-width-25\x20col-bt-padding','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','payment-option\x20','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','setReceiptAttachId','inline-flex','Error\x20Push\x20Product!\x20','stringify','\x20cuotas','10px','input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control','Mensaje(s)\x20enviado(s)\x20correctamente.','https://wa.me/','Window\x20Creada\x20Correctamente.','Total\x20Efectivo:','setSerie-','Op.\x20Gratuitas\x20(','setIdProducto','setServerType','none','result','setReceiptAttachArray','Teléfono','setCompanyNameTrade','setAccountingAccountId','Opciones','setUserFullName','container-section-pay-','removePage','pdfCanvas','035\x20-\x20Bienes\x20exonerados\x20del\x20IGV','Op.\x20Exonerada','setMtoOperGravadas','setTotalImpuestos','mousemove','element-bathroom-unisex','Total\x20(','general-options','message','printerDropdown','Input\x20Coordenadas\x20no\x20válido.','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','setMarca','setCurrencyDefault','Sección\x20con\x20ID\x20\x22','SETECIENTOS','console','Stock\x20Actual:<br>','008','setPrinters','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','.email-recipient','Medio\x20de\x20pago\x20crédito\x20actualizado:','payment-credito','Guardando\x20Correlativo\x20en\x20Window\x20Options','Error\x20en\x20la\x20solicitud:','Error\x20al\x20eliminar\x20productos:','shift-open-rightCol','getUTCMilliseconds','\x200.00','chair','005','collect','Descripción:\x20','Crédito','SON\x20','Desc.\x20por\x20Items\x20(','oncomplete','timeOrigin','font-size:\x2014px;','lastChild','setLastFechaHora','backgroundColor','catch','element-','Email(s)\x20enviado(s)\x20correctamente.','close\x20closeModal\x20margin-left-auto','014','onsuccess','setImpuestoCode','./img/icon-flecha-inferior.svg','Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.','CERO','shift-close-container','\x20Y\x20','Op.\x20Exoneradas\x20(','push','placeholder','input-Descuento-Global-','TREINTA','setTaxIdDefault','https://','clear','change','52227fMFqpN','container-section-pay\x20row','setCartTmp','setReceiptClientName','\x20|\x20F.V.\x20','Error\x20Print\x20Offline.','div-width-25','[addToCart]','label-options\x20mb-2','assign','shift-close-info-col','color','keys','./img/layout/icon-vase.svg','url','apiPOSsendOffline','setClienteDenominacion','float-left','value','setPercepcion','setReceiptProducts','\x20sec','fonts/Roboto/Roboto-Light.ttf','container-section-options','setPaymentName','mouseup','Mixto','0.5em\x200','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Consultando\x20...</span>','relative','setDispatchType','Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.','DESCRIPCIÓN','./img/icon-ajustes-operacion.svg','1.5','zIndex','Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.','createTextNode','div_section_right','setAccountingAccountCode','Despachar\x20Después','shift-close-row5','float-left-OpExonerada-','abs','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','selectTab','setAttachEdit-','033\x20-\x20Espárragos','open','windowShiftContent','Tab','cart-item-principal','157023yRvanJ','statusText','<Ant','Monto','firstChild','setCashierName','./img/layout/icon-table.svg','tab-content\x20active\x20tab-','style','head','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','/login','setSuppliers','Mozo:\x20','setValorVenta','checkout','option','QUINCE','left','toString','017\x20-\x20Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos','setConversionFactor','Total\x20Percepción\x20(','warn','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','0.1','selectedCode','setShiftId','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','borderTopRightRadius','SIETE','float-left-OpGravada-','setCurrencySymbol','DETRACCIÓN','settings.html','image','setAccountingAccounts','#f7f7f7','width','createObjectURL','setAttachSeries-','PERCEPCIÓN\x20(','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>','input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','min','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','Desc.\x20(%)','razon_social','custom-checkbox','019\x20-\x20Arrendamiento\x20de\x20bienes\x20muebles','from','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.','PAGAR','getViewport','setMtoPrecioCostoUnitario_input','classList','setDocTypeName','Habitación','innerText','index','setSubTotal','addEventListener','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','#a00','toLocaleTimeString','dragenter','step','div-totals-right-TotalIgvGratuitas-','setSellerName','cartId','float-right-TotalIgv-','reduce','setReceiptCurrency','tabs-environments-separator','newElementType','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','flex-grow-1\x20cart-items-container','length','setCollaboratorId','Cuota\x20','039','</a>','setShiftDateEnd','setDetraccion','setIdOperation','room','RETENCIÓN\x20(','application/pdf','Placa:','setAuthToken','data-tooltip','addWhatsAppRecipient','./img/layout/icon-bathroom-unisex.svg','table','Error:\x20','\x20ped</span>\x0a<span\x20class=\x22time-text\x22>','Cantidad\x20ajustada\x20al\x20máximo.','marginLeft','./img/icon-gastos.svg','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','Proveedor','Guardar','origin','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','label','btnConsultar-','stopPropagation','120px','setDescuento_setMonto_precio','ceil','setDescuento','delete','div-width-25\x20btnopt\x20btnoptfirst','039\x20-\x20Minerales\x20no\x20metálicos','contado','setBranchName','setPrecioUnit','setCustomerName','.pagination','status-label-','active','all','float-left-totals','url(\x27','modalOverlayCreateWindow','#333','020','shift-close-btnRow','CorrectLevel','btnSaveOperacion-','getAttribute','closeModalWindowShift','./img/icon-contado.svg','033','getAll','Ventana','hiddenFrame_','body','\x20(master\x20','DNI','#f0f0f0','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','018','Nº\x20','tbody','015\x20-\x20Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal','border','Percepcion','setObservacion','selectedIndex','\x20select.select-array-bank','setUserId','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','Ejm:\x201','btn\x20btn-none\x20','Caja\x20Inicial:','innerHTML','random','porcentaje_comision','shift-close-infoRow\x20','5986tNAjib','setValorCantidad','create','Nom.\x20/\x20R.S.','print','\x20|\x20Descripción:\x20','setMtoValorUnitario_input','Contado','tabs-areas','btnopt_consumo-','error','setDetraccionPorcentaje','031','setWindowShiftId','FECHA:','readwrite','createElement','UN\x20MILLÓN','\x20input.input-array-operacion','drawRectangle','Datos\x20Generales','No\x20se\x20encontró\x20el\x20select','Mesa','setSeriesType','Vehículo:','pay-container-','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','Error\x20desconocido\x20al\x20guardar\x20el\x20layout.','appendChild','./img/layout/icon-cashier.svg','387vFVILU','shift-open-img','Error\x20Save\x20Data:','.suggestions-container','div-width-15\x20div_margen','btnopt_dividir-','<br>\x0a','allOperations:','setDescuentoGlobal_Monto','shift-close-infoSpan','Precio','blur','.layout-tabs-environments','important','div-width-100\x20col-bt-padding','Email','online','setItemBarCode','thead','Duplicar','setReceiptType','timing','setImpuestoValue','https://apierp.dev/api/windows/update/','setShiftNotes','monto_calc','030\x20-\x20Contratos\x20de\x20construcción','2245958ipqMGN','003\x20-\x20Alcohol\x20etílico','023\x20-\x20Leche','setUserCode','charCodeAt','\x20MIL','Muchas\x20gracias\x20por\x20su\x20compra','custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','disabled','elementos','square-small','Otros\x20medios\x20de\x20pago','detraccionCodigo-','No\x20hay\x20un\x20PDF\x20cargado.','max','div-totals-right-TotalDescItems-','getElementById','\x20guardadas.','.draggable','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','\x22,\x20\x22','setPaymentCode','0.5em','setDescuento_setFactor','floorId','setBankName','shift-open-title','setTipAfeIgv','transparent','setEmailCredentialsSenderPassword','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','REPRESENTACION\x20IMPRESA\x20DE','setAccountingAccountType','offline','Nº\x20Operación','setShiftUserEmail','size','text','Ajustes','float-left-TotalDescuentoItems-','setWindowType','clearRect','detalleModal','detalleModalOptions','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','tabIndex','itemsPerPageSelect','FORMA\x20DE\x20PAGO:\x20CRÉDITO','Total\x20percepción','span-options','success','log','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','No\x20se\x20encontró\x20el\x20botón.','closeModal','Dirección','DIECIOCHO','Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','itemCheckboxAll-','transaction','\x20min','active-payment','IGV\x20Gratuitas\x20(','input','btnOpciones-','setCollaboratorDocNumber','Cajero:','suggestions-','registerFontkit','VENDEDOR:','div-totals-right\x20d-none','setReceiptClientDocNumber','setRetencionTotal','setMonedaCodigo','closest','readOnly','setClienteTipoDoc-','payment-contado','Retencion','setDefaultNotes','render','#000000'];_0x1765=function(){return _0x38073c;};return _0x1765();}function toggleEditMode(){const _0x2f2ab5=_0x28d754;editMode=!editMode;const _0x4a7e87=document[_0x2f2ab5(0x5b3)]('tabs-editLayout');_0x4a7e87[_0x2f2ab5(0x68b)]=editMode?'Guardar':_0x2f2ab5(0x3c5);const _0x4d984a=document[_0x2f2ab5(0x5b3)](_0x2f2ab5(0x2f0));_0x4d984a&&(_0x4d984a[_0x2f2ab5(0x4d1)][_0x2f2ab5(0x746)]=editMode?_0x2f2ab5(0x355):'none'),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x38322a=_0x28d754;if(!editMode)return;const _0x784551=document[_0x38322a(0x5b3)](_0x38322a(0x514)),_0x40f3a8=_0x784551[_0x38322a(0x4a7)];let _0x3df141='';switch(_0x40f3a8){case _0x38322a(0x28b):_0x3df141='';break;case _0x38322a(0x2fd):_0x3df141='';break;case _0x38322a(0x45a):_0x3df141='';break;case _0x38322a(0x73d):_0x3df141='';break;case'element-cashier':_0x3df141='';break;case _0x38322a(0x270):_0x3df141='';break;case _0x38322a(0x40a):_0x3df141='';break;case _0x38322a(0x76f):_0x3df141='';break;case _0x38322a(0x37c):_0x3df141='';break;case _0x38322a(0x1f0):_0x3df141='';break;case _0x38322a(0x6a1):_0x3df141='';break;case _0x38322a(0x1df):_0x3df141='';break;case'element-waiter':_0x3df141='';break;default:_0x3df141='';}const _0x52c7dd=document[_0x38322a(0x5b3)](_0x38322a(0x670)),_0x183ae9=_0x52c7dd['value'],_0x25b30d=generateUniqId(),_0x12f309=0xa,_0x4c597e=0xa,_0x2184e2={'setWindowId':_0x25b30d,'setWindowType':_0x40f3a8,'setWindowName':_0x3df141,'x':_0x12f309,'y':_0x4c597e,'zona':_0x52c7dd[_0x38322a(0x332)][_0x52c7dd[_0x38322a(0x55f)]][_0x38322a(0x5c8)],'floorId':_0x183ae9};[_0x38322a(0x1ee),_0x38322a(0x527),_0x38322a(0x51f),_0x38322a(0x473)][_0x38322a(0x66a)](_0x40f3a8)&&(_0x2184e2['setWindowTypeShape']=_0x38322a(0x417),_0x2184e2[_0x38322a(0x268)]=_0x38322a(0x26e)),extraElements[_0x38322a(0x48d)](_0x2184e2),!posicionesPorPiso[_0x183ae9]&&(posicionesPorPiso[_0x183ae9]={}),posicionesPorPiso[_0x183ae9][_0x25b30d]={'x':_0x12f309,'y':_0x4c597e},cargarVentanas(myCompany['setBranches'][0x0][_0x38322a(0x31a)],_0x183ae9);}function saveLayoutState(){createCartStore('')['then'](_0x1c046a=>{const _0x3b3250=_0x8473,_0x3ded06=_0x1c046a['transaction']([_0x3b3250(0x300)],'readwrite'),_0x1b6d61=_0x3ded06['objectStore']('layoutState'),_0x507831={'id':'layout','elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x3d56e4=_0x1b6d61[_0x3b3250(0x1ce)](_0x507831);_0x3d56e4['onsuccess']=function(){const _0x38db3c=_0x3b3250;console[_0x38db3c(0x5d6)](_0x38db3c(0x35c));},_0x3d56e4[_0x3b3250(0x2f6)]=function(_0x4ae37e){const _0x430244=_0x3b3250;console[_0x430244(0x574)](_0x430244(0x3bd),_0x4ae37e[_0x430244(0x643)][_0x430244(0x574)]);};});}async function loadLayoutState(){const _0x4fa679=_0x28d754;try{const _0x56b6f0=await createCartStore(''),_0x2d36ac=await new Promise((_0x1e4f19,_0x143f70)=>{const _0x44b31f=_0x8473,_0x2ca2a5=_0x56b6f0['transaction'](['layoutState'],_0x44b31f(0x635)),_0x52c656=_0x2ca2a5[_0x44b31f(0x36b)](_0x44b31f(0x300)),_0x266613=_0x52c656['get'](_0x44b31f(0x37a));_0x266613[_0x44b31f(0x485)]=()=>_0x1e4f19(_0x266613[_0x44b31f(0x44b)]),_0x266613[_0x44b31f(0x2f6)]=_0x5d52ea=>_0x143f70(_0x5d52ea[_0x44b31f(0x643)]['error']);});_0x2d36ac&&(elementos=_0x2d36ac[_0x4fa679(0x5ac)]||[],extraElements=_0x2d36ac['extraElements']||[],posicionesPorPiso=_0x2d36ac['posicionesPorPiso']||{},console[_0x4fa679(0x5d6)](_0x4fa679(0x3ae)));}catch(_0x55d32b){console[_0x4fa679(0x574)](_0x4fa679(0x374),_0x55d32b);throw _0x55d32b;}}function saveLayoutOnline(){const _0x5b609f=_0x28d754;if(!isOnline()){console[_0x5b609f(0x5d6)](_0x5b609f(0x789));return;}let _0x541a81={'id':_0x5b609f(0x37a),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x316594={'layout':_0x541a81,'setToken':myCompany[_0x5b609f(0x523)]};fetch(_0x5b609f(0x6ed),{'method':'POST','headers':{'Content-Type':_0x5b609f(0x22a)},'body':JSON['stringify'](_0x316594)})['then'](_0x5caa1d=>{const _0x38db84=_0x5b609f;if(!_0x5caa1d['ok'])throw new Error(_0x38db84(0x3d3)+_0x5caa1d[_0x38db84(0x4ca)]);return _0x5caa1d[_0x38db84(0x326)]();})['then'](_0x4aefae=>{const _0x291747=_0x5b609f;if(!_0x4aefae['success'])throw new Error(_0x4aefae[_0x291747(0x45d)]||_0x291747(0x585));console[_0x291747(0x5d6)](_0x291747(0x5cf));})['catch'](_0x24ddbd=>{const _0x160aca=_0x5b609f;console[_0x160aca(0x574)](_0x160aca(0x42c),_0x24ddbd);});}function setActiveTab(_0xb681ac){const _0x38e474=_0x28d754,_0x6659e3=document['querySelectorAll'](_0x38e474(0x39e)),_0x2299e3=document[_0x38e474(0x1e9)](_0x38e474(0x232));_0x6659e3[_0x38e474(0x239)](_0x11e9b8=>{const _0x1b2647=_0x38e474;_0x11e9b8[_0x1b2647(0x54c)]('data-tab')===_0xb681ac?_0x11e9b8['classList'][_0x1b2647(0x7bc)](_0x1b2647(0x542)):_0x11e9b8[_0x1b2647(0x501)]['remove']('active');}),_0x2299e3[_0x38e474(0x239)](_0x30298e=>{const _0x565584=_0x38e474;_0x30298e['id']===_0x565584(0x6b8)+_0xb681ac?_0x30298e[_0x565584(0x501)]['add'](_0x565584(0x542)):_0x30298e[_0x565584(0x501)]['remove']('active');});}function _0x8473(_0x43076c,_0x8a514f){const _0x281fe1=_0x1765();return _0x8473=function(_0xb9741,_0x52d2d8){_0xb9741=_0xb9741-0x1c1;let _0x243877=_0x281fe1[_0xb9741];return _0x243877;},_0x8473(_0x43076c,_0x8a514f);}document[_0x28d754(0x1e9)](_0x28d754(0x39e))[_0x28d754(0x239)](_0x517182=>{const _0x50ae75=_0x28d754;_0x517182[_0x50ae75(0x507)](_0x50ae75(0x640),function(){const _0x345b8e=_0x50ae75,_0x19819d=this[_0x345b8e(0x54c)]('data-tab');setActiveTab(_0x19819d);});});function createTabsEnvironments(){const _0x2743a4=_0x28d754,_0x189ff9=document['querySelector'](_0x2743a4(0x594));_0x189ff9['innerHTML']='';const _0x3ea4da=document[_0x2743a4(0x57a)](_0x2743a4(0x35d));_0x3ea4da[_0x2743a4(0x78c)]=_0x2743a4(0x6b7);const _0x5e4679=document[_0x2743a4(0x5b3)]('setFloorId');if(!_0x5e4679){console['error'](_0x2743a4(0x61f));return;}const _0x784965=Array[_0x2743a4(0x4fb)](_0x5e4679['options']),_0x2a071d=_0x784965['find'](_0x560d51=>_0x560d51[_0x2743a4(0x395)])||_0x784965[0x0],_0x201d8b=document[_0x2743a4(0x57a)](_0x2743a4(0x267));_0x201d8b[_0x2743a4(0x78c)]='tabs-environments-btn\x20selected',_0x201d8b[_0x2743a4(0x68b)]=_0x2a071d[_0x2743a4(0x5c8)],_0x3ea4da[_0x2743a4(0x586)](_0x201d8b),_0x784965[_0x2743a4(0x239)](_0x3057e1=>{const _0x12663f=_0x2743a4;if(_0x3057e1===_0x2a071d)return;const _0x3bd0bb=document[_0x12663f(0x57a)](_0x12663f(0x2f3));_0x3bd0bb[_0x12663f(0x78c)]=_0x12663f(0x513),_0x3bd0bb[_0x12663f(0x68b)]='|',_0x3ea4da[_0x12663f(0x586)](_0x3bd0bb);const _0x10c9e=document[_0x12663f(0x57a)](_0x12663f(0x267));_0x10c9e[_0x12663f(0x78c)]=_0x12663f(0x1dd),_0x10c9e[_0x12663f(0x68b)]=_0x3057e1[_0x12663f(0x5c8)],_0x10c9e[_0x12663f(0x507)](_0x12663f(0x640),function(){const _0x5b2f54=_0x12663f;handleTabSelection(_0x3057e1[_0x5b2f54(0x4a7)]);}),_0x3ea4da[_0x12663f(0x586)](_0x10c9e);}),_0x189ff9['appendChild'](_0x3ea4da);}async function handleTabSelection(_0x51ccd5){const _0xed53f6=_0x28d754;hideModalLayout(),document['getElementById'](_0xed53f6(0x670))[_0xed53f6(0x4a7)]=_0x51ccd5,await changeEnvironments(_0x51ccd5),showModalLayout();}async function resetWindowPositions(_0x5aa357,_0x18ae54){const _0x5db643=_0x28d754,_0x1111f0=myCompany[_0x5db643(0x369)][_0x5db643(0x1fc)](_0x1072dc=>_0x1072dc[_0x5db643(0x31a)]==_0x5aa357&&_0x1072dc[_0x5db643(0x670)]==_0x18ae54);_0x1111f0[_0x5db643(0x239)](_0x4f6b0c=>{delete _0x4f6b0c['x'],delete _0x4f6b0c['y'];}),posicionesPorPiso[_0x18ae54]&&(_0x1111f0[_0x5db643(0x239)](_0x540171=>{const _0x386d1a=_0x5db643;delete posicionesPorPiso[_0x18ae54][_0x540171[_0x386d1a(0x73a)]];}),Object[_0x5db643(0x4a1)](posicionesPorPiso[_0x18ae54])[_0x5db643(0x517)]===0x0&&delete posicionesPorPiso[_0x18ae54]);}function openMenu(_0x2a4d91,_0x47def4){const _0x5a8f2e=_0x28d754,_0x524ee8=document[_0x5a8f2e(0x794)](_0x5a8f2e(0x31c));if(_0x524ee8)_0x524ee8[_0x5a8f2e(0x656)]();const {windowObj:_0x3e1040}=getValidatedWindowAndShift(_0x2a4d91),_0x2e033a=layout_windows,_0x1dbbc1=document[_0x5a8f2e(0x57a)]('ul');_0x1dbbc1[_0x5a8f2e(0x78c)]=_0x5a8f2e(0x350);const _0x122240=[];_0x3e1040[_0x5a8f2e(0x268)]!==_0x5a8f2e(0x26e)&&_0x122240[_0x5a8f2e(0x48d)]({'icon':'bi\x20bi-unlock','label':_0x5a8f2e(0x65c),'handler':releaseWindow});_0x122240['forEach'](({icon:_0xe8d51e,label:_0x55a153,handler:_0x387a46})=>{const _0x45d592=_0x5a8f2e,_0xb89b5f=document[_0x45d592(0x57a)]('li');_0xb89b5f[_0x45d592(0x566)]='<i\x20class=\x22'+_0xe8d51e+'\x22\x20style=\x22margin-right:8px;\x22></i>'+_0x55a153,_0xb89b5f[_0x45d592(0x507)](_0x45d592(0x640),_0x23fb48=>{const _0x5b04fc=_0x45d592;_0x23fb48[_0x5b04fc(0x534)](),_0x387a46(_0x2a4d91),_0x1dbbc1[_0x5b04fc(0x656)]();}),_0xb89b5f[_0x45d592(0x507)](_0x45d592(0x629),()=>_0xb89b5f[_0x45d592(0x4d1)][_0x45d592(0x658)]=_0x45d592(0x556)),_0xb89b5f['addEventListener'](_0x45d592(0x796),()=>_0xb89b5f[_0x45d592(0x4d1)][_0x45d592(0x658)]=''),_0x1dbbc1[_0x45d592(0x586)](_0xb89b5f);});const _0x4b248c=_0x2e033a[_0x5a8f2e(0x317)](),_0x1d40a5=_0x47def4['clientX']-_0x4b248c[_0x5a8f2e(0x4db)],_0x2921a6=_0x47def4[_0x5a8f2e(0x20d)]-_0x4b248c[_0x5a8f2e(0x649)];_0x1dbbc1['style'][_0x5a8f2e(0x4db)]=_0x1d40a5+'px',_0x1dbbc1['style'][_0x5a8f2e(0x649)]=_0x2921a6+'px',_0x2e033a[_0x5a8f2e(0x586)](_0x1dbbc1);const _0x55d811=_0xc72825=>{const _0x1e44b4=_0x5a8f2e;!_0x1dbbc1[_0x1e44b4(0x21f)](_0xc72825[_0x1e44b4(0x643)])&&(_0x1dbbc1[_0x1e44b4(0x656)](),document[_0x1e44b4(0x689)](_0x1e44b4(0x640),_0x55d811));};document[_0x5a8f2e(0x507)](_0x5a8f2e(0x640),_0x55d811);}function editWindow(_0x352985){const _0x13503f=_0x28d754;console[_0x13503f(0x5d6)](_0x13503f(0x6b2),_0x352985);}function deleteWindow(_0x31482f){const _0xd86b07=_0x28d754;console[_0xd86b07(0x5d6)](_0xd86b07(0x677),_0x31482f);}async function releaseWindow(_0x547bae){const _0xc3ea22=_0x28d754,_0x13253a=getValidatedWindowAndShift(_0x547bae),{windowObj:_0x4f7f85,currentWindowShift:_0x4f3ae4}=_0x13253a;if(_0x4f3ae4){_0x4f7f85[_0xc3ea22(0x3f4)]=nowWithMillisecondsForServer();const _0x497710=carts[_0x547bae]||[],_0x52a739=_0x497710[_0xc3ea22(0x79e)](_0x4e9f51=>_0x4e9f51[_0xc3ea22(0x303)]!='');if(!_0x52a739){_0x4f7f85[_0xc3ea22(0x268)]=_0xc3ea22(0x26e);const _0x18652b=new Date();_0x4f3ae4[_0xc3ea22(0x61e)]='0',_0x4f3ae4[_0xc3ea22(0x51c)]=_0x18652b,await apiERPsyncWindows();const _0x3a4898=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3a4898);const _0x12cc24=document[_0xc3ea22(0x5b3)]('setFloorId')[_0xc3ea22(0x4a7)];await handleTabSelection(_0x12cc24);}}}function showModalCreateWindow(){const _0x180113=_0x28d754;hideModalLayout();const _0x2c2e30=document['getElementById'](_0x180113(0x299)),_0x4fee16=document[_0x180113(0x5b3)](_0x180113(0x546));_0x2c2e30['classList']['add'](_0x180113(0x542)),_0x4fee16['style'][_0x180113(0x746)]=_0x180113(0x355);}function hideModalCreateWindow(){const _0x1b97cb=_0x28d754,_0x54558b=document[_0x1b97cb(0x5b3)](_0x1b97cb(0x299)),_0x36860b=document[_0x1b97cb(0x5b3)](_0x1b97cb(0x546));_0x54558b['classList'][_0x1b97cb(0x656)](_0x1b97cb(0x542)),_0x36860b[_0x1b97cb(0x4d1)][_0x1b97cb(0x746)]='none';}document[_0x28d754(0x5b3)]('closeModalCreateWindow')['addEventListener'](_0x28d754(0x640),hideModalCreateWindow),document['getElementById']('modalOverlayCreateWindow')[_0x28d754(0x507)](_0x28d754(0x640),_0x4a7967=>{const _0x3745c2=_0x28d754;_0x4a7967[_0x3745c2(0x643)]==_0x4a7967[_0x3745c2(0x73b)]&&_0x4a7967[_0x3745c2(0x534)]();});function showModalShift(){const _0x2ecd82=_0x28d754,_0x416136=document[_0x2ecd82(0x5b3)](_0x2ecd82(0x2be)),_0x480a92=document[_0x2ecd82(0x5b3)](_0x2ecd82(0x261));_0x416136[_0x2ecd82(0x501)][_0x2ecd82(0x7bc)](_0x2ecd82(0x542)),_0x480a92[_0x2ecd82(0x4d1)][_0x2ecd82(0x746)]='block';}function hideModalShift(){const _0x5b1a62=_0x28d754,_0x586aa8=document[_0x5b1a62(0x5b3)](_0x5b1a62(0x2be)),_0x26b8dd=document[_0x5b1a62(0x5b3)](_0x5b1a62(0x261));_0x586aa8[_0x5b1a62(0x501)][_0x5b1a62(0x656)]('active'),_0x26b8dd['style'][_0x5b1a62(0x746)]='none';}document['getElementById'](_0x28d754(0x346))['addEventListener'](_0x28d754(0x640),hideModalShift),document[_0x28d754(0x5b3)](_0x28d754(0x261))[_0x28d754(0x507)](_0x28d754(0x640),_0x561c96=>{const _0x5275b2=_0x28d754;_0x561c96[_0x5275b2(0x643)]==_0x561c96[_0x5275b2(0x73b)]&&_0x561c96[_0x5275b2(0x534)]();});async function updateShiftDisplay(){const _0x2ec000=_0x28d754;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.');return;}const _0x2b40ef=document[_0x2ec000(0x5b3)]('setBranchId')['value'],_0x48fa0b=document[_0x2ec000(0x5b3)]('shiftContent'),_0x118a45=myCompany[_0x2ec000(0x462)],_0x315ad4=myCompany[_0x2ec000(0x770)][_0x2ec000(0x248)](_0x5df2db=>_0x5df2db[_0x2ec000(0x5ed)]==_0x118a45),_0x14d786=_0x315ad4?_0x315ad4[_0x2ec000(0x2ff)]:'';_0x48fa0b['innerHTML']='';!myCompany['setShifts']&&(myCompany[_0x2ec000(0x709)]=[]);const _0x8dcb76=myCompany[_0x2ec000(0x709)],_0x47186d=_0x8dcb76['find'](_0xd6a8d9=>_0xd6a8d9['setBranchId']==_0x2b40ef&&_0xd6a8d9[_0x2ec000(0x61e)]=='1');if(!_0x47186d){const _0x4ad303=document[_0x2ec000(0x57a)]('div');_0x4ad303[_0x2ec000(0x78c)]='shift-open-container';const _0x28f471=document['createElement']('div');_0x28f471[_0x2ec000(0x78c)]=_0x2ec000(0x2d3);const _0x3eb73b=document[_0x2ec000(0x57a)](_0x2ec000(0x27b));_0x3eb73b['className']=_0x2ec000(0x589),_0x3eb73b[_0x2ec000(0x275)]=_0x2ec000(0x38e),_0x3eb73b['alt']=_0x2ec000(0x5fb),_0x28f471[_0x2ec000(0x586)](_0x3eb73b);const _0x4f9b74=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x4f9b74[_0x2ec000(0x78c)]='shift-open-rightCol';const _0x1cd964=document[_0x2ec000(0x57a)]('h2');_0x1cd964[_0x2ec000(0x78c)]=_0x2ec000(0x5bd),_0x1cd964[_0x2ec000(0x68b)]='Apertura\x20de\x20Caja';const _0x4816b7=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x4816b7[_0x2ec000(0x78c)]=_0x2ec000(0x7a7);const _0x18e613=document['createElement'](_0x2ec000(0x532));_0x18e613[_0x2ec000(0x78c)]=_0x2ec000(0x663),_0x18e613[_0x2ec000(0x68b)]=_0x2ec000(0x5fe);const _0x5c2fe2=document['createElement'](_0x2ec000(0x5e3));_0x5c2fe2[_0x2ec000(0x78c)]=_0x2ec000(0x62a),_0x5c2fe2[_0x2ec000(0x322)]=_0x2ec000(0x775),_0x5c2fe2['id']=_0x2ec000(0x202),_0x5c2fe2[_0x2ec000(0x48e)]=_0x14d786+_0x2ec000(0x472),_0x4816b7[_0x2ec000(0x586)](_0x18e613),_0x4816b7[_0x2ec000(0x586)](_0x5c2fe2);const _0x157283=document[_0x2ec000(0x57a)]('div');_0x157283['className']=_0x2ec000(0x791);const _0x1a1326=document[_0x2ec000(0x57a)]('button');_0x1a1326['className']=_0x2ec000(0x42a),_0x1a1326['id']='btnShiftStart',_0x1a1326['textContent']=_0x2ec000(0x3d0),_0x1a1326[_0x2ec000(0x290)]=openShift,_0x157283[_0x2ec000(0x586)](_0x1a1326),_0x4f9b74[_0x2ec000(0x586)](_0x1cd964),_0x4f9b74[_0x2ec000(0x586)](_0x4816b7),_0x4f9b74[_0x2ec000(0x586)](_0x157283),_0x4ad303[_0x2ec000(0x586)](_0x28f471),_0x4ad303[_0x2ec000(0x586)](_0x4f9b74),_0x48fa0b[_0x2ec000(0x586)](_0x4ad303);}else{const _0x431d89=getUserPermissionApiERP(0xa);let _0xd51e73='',_0x45eac3=[];showLoadingModal();if(_0x431d89==0x1)try{const _0x4e3d07=myCompany[_0x2ec000(0x2a8)],_0x11b627={'apiPOS_getShiftDetails':0x1,'setToken':myCompany[_0x2ec000(0x523)],'setShiftId':_0x47186d[_0x2ec000(0x4e4)]},_0x4029e3=await fetch(_0x4e3d07,{'method':_0x2ec000(0x654),'headers':{'Content-Type':_0x2ec000(0x418)},'body':JSON[_0x2ec000(0x43e)](_0x11b627)}),_0x59c090=await _0x4029e3[_0x2ec000(0x326)]();_0x59c090['success']&&_0x59c090[_0x2ec000(0x45d)][_0x2ec000(0x42e)]&&(_0x45eac3=_0x59c090[_0x2ec000(0x45d)][_0x2ec000(0x42e)]);}catch(_0x1f652f){ntfShow(_0x2ec000(0x3a7)),console['error'](_0x2ec000(0x46e),_0x1f652f);}else _0xd51e73=_0x2ec000(0x675);hideLoadingModal();const _0x4ad1a6=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x4ad1a6['className']=_0x2ec000(0x48a);const _0x46dc19=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x46dc19[_0x2ec000(0x78c)]=_0x2ec000(0x37f);const _0x32e1ea=document['createElement'](_0x2ec000(0x35d));_0x32e1ea[_0x2ec000(0x78c)]='shift-close-leftCol';const _0x2cb70e=document['createElement'](_0x2ec000(0x27b));_0x2cb70e[_0x2ec000(0x275)]=_0x2ec000(0x76d),_0x2cb70e[_0x2ec000(0x349)]='Cierre\x20de\x20Turno',_0x2cb70e[_0x2ec000(0x78c)]=_0x2ec000(0x78a),_0x32e1ea[_0x2ec000(0x586)](_0x2cb70e);const _0x1b1b0b=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x1b1b0b[_0x2ec000(0x78c)]=_0x2ec000(0x61b);const _0x51744a=document[_0x2ec000(0x57a)]('h2');_0x51744a[_0x2ec000(0x566)]='<strong>Cierre\x20de\x20Turno</strong>',_0x51744a['className']=_0x2ec000(0x3be),_0x1b1b0b[_0x2ec000(0x586)](_0x51744a),_0x46dc19[_0x2ec000(0x586)](_0x32e1ea),_0x46dc19[_0x2ec000(0x586)](_0x1b1b0b),_0x4ad1a6[_0x2ec000(0x586)](_0x46dc19);const _0x2879fe=document['createElement'](_0x2ec000(0x35d));_0x2879fe[_0x2ec000(0x78c)]=_0x2ec000(0x425);const _0x4452c4=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x4452c4[_0x2ec000(0x78c)]=_0x2ec000(0x49f);const _0x2683dd=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x2683dd[_0x2ec000(0x68b)]=_0x2ec000(0x5e6),_0x2683dd[_0x2ec000(0x78c)]=_0x2ec000(0x7bf),_0x4452c4[_0x2ec000(0x586)](_0x2683dd);const _0x6eef7c=document[_0x2ec000(0x57a)](_0x2ec000(0x27b));_0x6eef7c['src']=_0x2ec000(0x39d),_0x6eef7c[_0x2ec000(0x349)]=_0x2ec000(0x35b),_0x6eef7c[_0x2ec000(0x78c)]=_0x2ec000(0x260),_0x4452c4['appendChild'](_0x6eef7c);const _0x370f24=document['createElement']('span');_0x370f24[_0x2ec000(0x68b)]=myCompany[_0x2ec000(0x41a)][_0x2ec000(0x410)],_0x370f24[_0x2ec000(0x78c)]='shift-close-infoSpan',_0x4452c4[_0x2ec000(0x586)](_0x370f24);const _0x191961=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x191961[_0x2ec000(0x78c)]=_0x2ec000(0x49f);const _0x2b2e4e=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x2b2e4e[_0x2ec000(0x68b)]=_0x2ec000(0x3e5),_0x2b2e4e['className']='shift-close-label',_0x191961[_0x2ec000(0x586)](_0x2b2e4e);const _0x3b701d=document[_0x2ec000(0x57a)](_0x2ec000(0x27b));_0x3b701d[_0x2ec000(0x275)]=_0x2ec000(0x6c7),_0x3b701d[_0x2ec000(0x349)]=_0x2ec000(0x3cf),_0x3b701d[_0x2ec000(0x78c)]=_0x2ec000(0x260),_0x191961[_0x2ec000(0x586)](_0x3b701d);const _0x295313=new Date(_0x47186d[_0x2ec000(0x616)]),_0x541d7c=document[_0x2ec000(0x57a)](_0x2ec000(0x2f3));_0x541d7c[_0x2ec000(0x68b)]=_0x295313[_0x2ec000(0x37b)](),_0x541d7c['className']=_0x2ec000(0x591),_0x191961['appendChild'](_0x541d7c),_0x2879fe[_0x2ec000(0x586)](_0x4452c4),_0x2879fe[_0x2ec000(0x586)](_0x191961),_0x4ad1a6['appendChild'](_0x2879fe);const _0x4a6bbf=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x4a6bbf[_0x2ec000(0x78c)]=_0x2ec000(0x309)+_0xd51e73;const _0x37cb13=document[_0x2ec000(0x57a)](_0x2ec000(0x527));_0x37cb13[_0x2ec000(0x78c)]=_0x2ec000(0x407)+_0xd51e73,_0x37cb13[_0x2ec000(0x4d1)][_0x2ec000(0x4ef)]=_0x2ec000(0x237);const _0x50d97d=document[_0x2ec000(0x57a)](_0x2ec000(0x59a)),_0x3281d1=document[_0x2ec000(0x57a)]('tr'),_0x9592c2=['\x20','Ingresos','Egresos',_0x2ec000(0x214)];_0x9592c2[_0x2ec000(0x239)](_0x2aa81f=>{const _0x3e4290=_0x2ec000,_0x1897e4=document[_0x3e4290(0x57a)]('th');_0x2aa81f=='Egresos'&&(_0x1897e4['className']=_0x3e4290(0x1e3)),_0x1897e4[_0x3e4290(0x68b)]=_0x2aa81f,_0x3281d1[_0x3e4290(0x586)](_0x1897e4);}),_0x50d97d[_0x2ec000(0x586)](_0x3281d1),_0x37cb13[_0x2ec000(0x586)](_0x50d97d);const _0x4cfe18=document['createElement'](_0x2ec000(0x55a));function _0x1c27a4(_0x3b8486,_0x567756,_0x2b2331){const _0x131d80=_0x2ec000,_0x32011e=document[_0x131d80(0x57a)]('tr'),_0x27dd74=document[_0x131d80(0x57a)]('td');_0x27dd74[_0x131d80(0x68b)]=_0x3b8486;const _0x3525a5=document[_0x131d80(0x57a)]('td');_0x3525a5['textContent']=_0x567756;const _0x122730=document['createElement']('td');_0x122730[_0x131d80(0x78c)]=_0x131d80(0x1e3),_0x122730[_0x131d80(0x68b)]=_0x2b2331;const _0x5947c5=document['createElement']('td');return _0x5947c5[_0x131d80(0x68b)]=(parseFloat(_0x567756)-parseFloat(_0x2b2331))[_0x131d80(0x3ea)](0x2),_0x32011e['appendChild'](_0x27dd74),_0x32011e[_0x131d80(0x586)](_0x3525a5),_0x32011e[_0x131d80(0x586)](_0x122730),_0x32011e[_0x131d80(0x586)](_0x5947c5),_0x32011e;}let _0x4fc5cf=0x0,_0x1d13ee=0x0,_0x53074e=0x0,_0x293fc8=0x0;myCompany[_0x2ec000(0x69d)]['forEach'](_0x6bb952=>{const _0x2d521d=_0x2ec000;let _0x3887ce=_0x45eac3[_0x2d521d(0x1fc)](_0xa00525=>_0xa00525[_0x2d521d(0x6a6)]==0x1&&_0xa00525['setPaymentCode']==_0x6bb952[_0x2d521d(0x5b8)])[_0x2d521d(0x511)]((_0x212043,_0x488588)=>_0x212043+parseFloat(_0x488588[_0x2d521d(0x294)]),0x0),_0x20ea16=_0x45eac3[_0x2d521d(0x1fc)](_0x28192e=>_0x28192e[_0x2d521d(0x6a6)]==0x2&&_0x28192e[_0x2d521d(0x5b8)]==_0x6bb952[_0x2d521d(0x5b8)])[_0x2d521d(0x511)]((_0x2739f1,_0x2c90c5)=>_0x2739f1+parseFloat(_0x2c90c5[_0x2d521d(0x294)]),0x0);_0x4fc5cf+=_0x3887ce,_0x1d13ee+=_0x20ea16,(_0x6bb952[_0x2d521d(0x5b8)]==_0x2d521d(0x342)||_0x6bb952[_0x2d521d(0x5b8)]==_0x2d521d(0x784))&&(_0x53074e=_0x3887ce,_0x293fc8=_0x20ea16),(_0x6bb952[_0x2d521d(0x5b8)]==_0x2d521d(0x342)||_0x6bb952[_0x2d521d(0x5b8)]=='cash'||_0x3887ce>0x0||_0x20ea16>0x0)&&_0x4cfe18[_0x2d521d(0x586)](_0x1c27a4(_0x6bb952[_0x2d521d(0x4ad)],parseFloat(_0x3887ce)[_0x2d521d(0x3ea)](0x2),parseFloat(_0x20ea16)[_0x2d521d(0x3ea)](0x2)));});const _0x73aa93=_0x1c27a4(_0x2ec000(0x301),parseFloat(_0x4fc5cf)[_0x2ec000(0x3ea)](0x2),parseFloat(_0x1d13ee)['toFixed'](0x2));_0x73aa93[_0x2ec000(0x47d)][_0x2ec000(0x68b)]=(parseFloat(_0x4fc5cf)-parseFloat(_0x1d13ee))[_0x2ec000(0x3ea)](0x2),_0x4cfe18[_0x2ec000(0x586)](_0x73aa93),_0x37cb13[_0x2ec000(0x586)](_0x4cfe18),_0x4a6bbf[_0x2ec000(0x586)](_0x37cb13),_0x4ad1a6[_0x2ec000(0x586)](_0x4a6bbf);const _0x2b514d=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x2b514d['className']=_0x2ec000(0x569)+_0xd51e73;const _0x2b65aa=document['createElement'](_0x2ec000(0x35d));_0x2b65aa['className']=_0x2ec000(0x49f);const _0x2bea3c=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x2bea3c[_0x2ec000(0x68b)]=_0x2ec000(0x565),_0x2bea3c['className']=_0x2ec000(0x39a),_0x2b65aa[_0x2ec000(0x586)](_0x2bea3c);const _0x4e430b=document[_0x2ec000(0x57a)](_0x2ec000(0x2f3));_0x4e430b[_0x2ec000(0x68b)]=_0x14d786+'\x20'+parseFloat(_0x47186d[_0x2ec000(0x64a)])[_0x2ec000(0x3ea)](0x2),_0x4e430b[_0x2ec000(0x78c)]='shift-close-infoValue',_0x2b65aa[_0x2ec000(0x586)](_0x4e430b);const _0x7f3ff2=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x7f3ff2[_0x2ec000(0x78c)]=_0x2ec000(0x49f);const _0x3ba4a4=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x3ba4a4[_0x2ec000(0x68b)]=_0x2ec000(0x445),_0x3ba4a4[_0x2ec000(0x78c)]='shift-close-infoLabel',_0x7f3ff2['appendChild'](_0x3ba4a4);const _0x5ba389=_0x53074e-_0x293fc8,_0x1fc8bf=document[_0x2ec000(0x57a)](_0x2ec000(0x2f3));_0x1fc8bf[_0x2ec000(0x68b)]=_0x14d786+'\x20'+parseFloat(_0x5ba389)[_0x2ec000(0x3ea)](0x2),_0x1fc8bf['className']=_0x2ec000(0x380),_0x7f3ff2[_0x2ec000(0x586)](_0x1fc8bf),_0x2b514d[_0x2ec000(0x586)](_0x2b65aa),_0x2b514d[_0x2ec000(0x586)](_0x7f3ff2);const _0x27ea82=document[_0x2ec000(0x57a)]('div');_0x27ea82[_0x2ec000(0x78c)]=_0x2ec000(0x569)+_0xd51e73;const _0x43029d=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x43029d['className']=_0x2ec000(0x49f);const _0x55c81f=document['createElement']('label');_0x55c81f[_0x2ec000(0x68b)]=_0x2ec000(0x603),_0x55c81f[_0x2ec000(0x78c)]='shift-close-infoLabel',_0x43029d[_0x2ec000(0x586)](_0x55c81f);const _0x161e55=(parseFloat(_0x47186d[_0x2ec000(0x64a)])+parseFloat(_0x5ba389))[_0x2ec000(0x3ea)](0x2),_0x798daa=document[_0x2ec000(0x57a)](_0x2ec000(0x2f3));_0x798daa['textContent']=_0x14d786+'\x20'+_0x161e55,_0x798daa[_0x2ec000(0x78c)]=_0x2ec000(0x380);const _0x4990ed=document[_0x2ec000(0x57a)](_0x2ec000(0x5e3));_0x4990ed[_0x2ec000(0x322)]=_0x2ec000(0x675),_0x4990ed['id']='setShiftCashAmount',_0x4990ed[_0x2ec000(0x4a7)]=_0x161e55,_0x43029d['appendChild'](_0x798daa),_0x43029d[_0x2ec000(0x586)](_0x4990ed);const _0x1197a9=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x1197a9[_0x2ec000(0x78c)]=_0x2ec000(0x49f);const _0x23ba47=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x23ba47['textContent']=_0x2ec000(0x2bb),_0x23ba47[_0x2ec000(0x78c)]='shift-close-infoLabel',_0x1197a9[_0x2ec000(0x586)](_0x23ba47);const _0x1eb1e3=document[_0x2ec000(0x57a)](_0x2ec000(0x5e3));_0x1eb1e3[_0x2ec000(0x322)]=_0x2ec000(0x775),_0x1eb1e3['id']=_0x2ec000(0x684),_0x1eb1e3['className']=_0x2ec000(0x60c),_0x1197a9[_0x2ec000(0x586)](_0x1eb1e3),_0x27ea82[_0x2ec000(0x586)](_0x43029d),_0x27ea82[_0x2ec000(0x586)](_0x1197a9),_0x4ad1a6[_0x2ec000(0x586)](_0x2b514d),_0x4ad1a6[_0x2ec000(0x586)](_0x27ea82);const _0x2071c8=document['createElement'](_0x2ec000(0x35d));_0x2071c8[_0x2ec000(0x78c)]=_0x2ec000(0x4be);const _0x4f4017=document[_0x2ec000(0x57a)]('label');_0x4f4017[_0x2ec000(0x68b)]=_0x2ec000(0x64b),_0x4f4017[_0x2ec000(0x78c)]=_0x2ec000(0x3ad),_0x2071c8[_0x2ec000(0x586)](_0x4f4017);const _0x26e546=document[_0x2ec000(0x57a)]('textarea');_0x26e546[_0x2ec000(0x4d1)][_0x2ec000(0x4ef)]=_0x2ec000(0x237),_0x26e546['id']=_0x2ec000(0x5a0),_0x26e546[_0x2ec000(0x23e)]='2',_0x26e546[_0x2ec000(0x78c)]=_0x2ec000(0x74c),_0x2071c8[_0x2ec000(0x586)](_0x26e546);const _0x2bafff=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x2bafff[_0x2ec000(0x78c)]='shift-close-differentialRow\x20'+_0xd51e73;const _0x398aff=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x398aff['className']='shift-close-diff-col';const _0x4097c8=document[_0x2ec000(0x57a)](_0x2ec000(0x532));_0x4097c8[_0x2ec000(0x68b)]=_0x2ec000(0x61d),_0x4097c8[_0x2ec000(0x78c)]='shift-close-diffLabel',_0x398aff['appendChild'](_0x4097c8);const _0x366a4f=document['createElement'](_0x2ec000(0x35d));_0x366a4f['className']='shift-close-diff-col';const _0x4edfbe=document[_0x2ec000(0x57a)]('span');_0x4edfbe[_0x2ec000(0x68b)]=_0x14d786+_0x2ec000(0x472),_0x4edfbe[_0x2ec000(0x78c)]=_0x2ec000(0x1d6),_0x366a4f[_0x2ec000(0x586)](_0x4edfbe),_0x2bafff['appendChild'](_0x398aff),_0x2bafff[_0x2ec000(0x586)](_0x366a4f),_0x1eb1e3['addEventListener'](_0x2ec000(0x5e3),function(){const _0xc93890=_0x2ec000,_0x3a4a8e=parseFloat(_0x1eb1e3['value'])||0x0,_0xc273f6=_0x3a4a8e-_0x161e55;_0x4edfbe[_0xc93890(0x68b)]=_0x14d786+'\x20'+_0xc273f6[_0xc93890(0x3ea)](0x2);});const _0x5af293=document[_0x2ec000(0x57a)](_0x2ec000(0x35d));_0x5af293[_0x2ec000(0x78c)]=_0x2ec000(0x549);const _0x1cd270=document[_0x2ec000(0x57a)](_0x2ec000(0x267));_0x1cd270['id']=_0x2ec000(0x767),_0x1cd270[_0x2ec000(0x68b)]=_0x2ec000(0x6d4),_0x1cd270[_0x2ec000(0x78c)]=_0x2ec000(0x3e4),_0x1cd270[_0x2ec000(0x290)]=closeShift,_0x5af293[_0x2ec000(0x586)](_0x1cd270),_0x4ad1a6['appendChild'](_0x2071c8),_0x4ad1a6[_0x2ec000(0x586)](_0x2bafff),_0x4ad1a6[_0x2ec000(0x586)](_0x5af293),_0x48fa0b[_0x2ec000(0x586)](_0x4ad1a6);}showModalShift();}async function openShift(){const _0x1f3e0f=_0x28d754;if(!isOnline()){ntfShow(_0x1f3e0f(0x41f));return;}const _0x3ef24d=document[_0x1f3e0f(0x5b3)](_0x1f3e0f(0x200));if(!_0x3ef24d){console[_0x1f3e0f(0x574)](_0x1f3e0f(0x236));return;}_0x3ef24d[_0x1f3e0f(0x5ab)]=!![],hideModalShift(),showLoadingModal();const _0x3b0ab9=document[_0x1f3e0f(0x5b3)](_0x1f3e0f(0x202)),_0x50e1c4=_0x3b0ab9[_0x1f3e0f(0x4a7)];if(_0x50e1c4==''||isNaN(_0x50e1c4)){ntfShow(_0x1f3e0f(0x4b9)),_0x3ef24d[_0x1f3e0f(0x5ab)]=![],hideLoadingModal();return;}const _0x1b373c=document['getElementById'](_0x1f3e0f(0x31a))[_0x1f3e0f(0x4a7)],_0x336dd7=document['getElementById'](_0x1f3e0f(0x712))[_0x1f3e0f(0x4a7)],_0x12d302=parseFloat(_0x50e1c4),_0x236bf5=new Date();try{const _0x3727d6=myCompany[_0x1f3e0f(0x2a8)],_0x440709={'apiPOS_shift':0x1,'setToken':myCompany[_0x1f3e0f(0x523)],'setBranchId':_0x1b373c,'setCashierId':_0x336dd7,'setCashInitial':_0x12d302,'setShiftDateStart':_0x236bf5},_0x1d9b2e=await fetch(_0x3727d6,{'method':'POST','headers':{'Content-Type':_0x1f3e0f(0x418)},'body':JSON[_0x1f3e0f(0x43e)](_0x440709)}),_0x2a50ba=await _0x1d9b2e[_0x1f3e0f(0x326)]();if(_0x2a50ba[_0x1f3e0f(0x5d5)]&&_0x2a50ba['message']['setShiftId']){const _0x2d75b4=_0x2a50ba[_0x1f3e0f(0x45d)][_0x1f3e0f(0x4e4)];let _0xbb72=myCompany[_0x1f3e0f(0x709)][_0x1f3e0f(0x248)](_0x1cabe0=>_0x1cabe0[_0x1f3e0f(0x31a)]==_0x1b373c);_0xbb72?(_0xbb72[_0x1f3e0f(0x4e4)]=_0x2d75b4,_0xbb72[_0x1f3e0f(0x64a)]=_0x12d302,_0xbb72[_0x1f3e0f(0x61e)]='1',_0xbb72[_0x1f3e0f(0x616)]=_0x236bf5):myCompany[_0x1f3e0f(0x709)]['push']({'setShiftId':_0x2d75b4,'setCashInitial':_0x12d302,'setShiftStatus':'1','setShiftDateStart':_0x236bf5,'setBranchId':_0x1b373c});try{const _0xa7a825=await createCartStore('');await saveCompanyToIndexedDB(company,_0xa7a825),ntfShow(_0x1f3e0f(0x3d1)+_0x236bf5['toLocaleString']());}catch(_0x3b7eac){console[_0x1f3e0f(0x574)](_0x1f3e0f(0x2a5),_0x3b7eac);throw _0x3b7eac;}}else ntfShow(_0x1f3e0f(0x772)),console[_0x1f3e0f(0x5d6)](_0x1f3e0f(0x772));}catch(_0x4fc686){ntfShow('Error\x20en\x20la\x20solicitud'),console['error']('Error\x20en\x20la\x20solicitud:',_0x4fc686);}finally{_0x3ef24d[_0x1f3e0f(0x5ab)]=![],hideLoadingModal();}}async function closeShift(){const _0x5a634e=_0x28d754;if(!isOnline()){ntfShow(_0x5a634e(0x1fe));return;}const _0x57d339=document['getElementById'](_0x5a634e(0x767)),_0x595969=document[_0x5a634e(0x5b3)](_0x5a634e(0x684)),_0x110f01=document[_0x5a634e(0x5b3)](_0x5a634e(0x735)),_0x48f13f=document[_0x5a634e(0x5b3)](_0x5a634e(0x5a0));if(!_0x57d339){console[_0x5a634e(0x574)]('No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd');return;}_0x57d339[_0x5a634e(0x5ab)]=!![],hideModalShift(),showLoadingModal();const _0x5364ee=document[_0x5a634e(0x5b3)](_0x5a634e(0x31a))[_0x5a634e(0x4a7)];let _0x49e848=myCompany[_0x5a634e(0x709)][_0x5a634e(0x248)](_0x3fa1c9=>_0x3fa1c9['setBranchId']==_0x5364ee&&_0x3fa1c9[_0x5a634e(0x61e)]=='1');if(!_0x49e848){ntfShow('No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.'),_0x57d339[_0x5a634e(0x5ab)]=![],hideLoadingModal();return;}const _0x1f08b3=new Date();try{const _0x25a354=myCompany['setApiEndPoint'],_0x5b6b84={'apiPOS_shift':0x1,'setToken':myCompany[_0x5a634e(0x523)],'setShiftId':_0x49e848[_0x5a634e(0x4e4)],'setShiftDateEnd':_0x1f08b3,'setShiftCount':parseFloat(_0x595969[_0x5a634e(0x4a7)]),'setShiftCashAmount':parseFloat(_0x110f01[_0x5a634e(0x4a7)]),'setShiftNotes':_0x48f13f['value']},_0x282248=await fetch(_0x25a354,{'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x5a634e(0x43e)](_0x5b6b84)}),_0x4ae3d4=await _0x282248['json']();if(_0x4ae3d4[_0x5a634e(0x5d5)]&&_0x4ae3d4[_0x5a634e(0x45d)][_0x5a634e(0x4e4)]){_0x49e848[_0x5a634e(0x61e)]='0',_0x49e848[_0x5a634e(0x64a)]='',_0x49e848[_0x5a634e(0x4e4)]='',_0x49e848[_0x5a634e(0x616)]='';try{const _0x5abe24=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5abe24),ntfShow(_0x5a634e(0x6fe)+_0x1f08b3[_0x5a634e(0x37b)]()),hideModalShift();}catch(_0x4b36f1){console[_0x5a634e(0x574)](_0x5a634e(0x2a5),_0x4b36f1);throw _0x4b36f1;}}else ntfShow('ID\x20Shift\x20Empty'),console[_0x5a634e(0x5d6)](_0x5a634e(0x772));}catch(_0x18d773){ntfShow(_0x5a634e(0x3a7)),console[_0x5a634e(0x574)](_0x5a634e(0x46e),_0x18d773);}finally{_0x57d339[_0x5a634e(0x5ab)]=![],hideLoadingModal();}}async function changeEnvironments(_0x54ed7e){const _0x4e75de=_0x28d754;await loadLayoutState();const _0x2df195=_0x54ed7e,_0x5022f4=myCompany[_0x4e75de(0x369)]['filter'](_0x1f6026=>_0x1f6026[_0x4e75de(0x670)]==_0x2df195),_0x52bd87=document[_0x4e75de(0x5b3)](_0x4e75de(0x4c2));_0x52bd87[_0x4e75de(0x566)]='',_0x5022f4[_0x4e75de(0x239)](_0xba22fc=>{const _0x5d7138=_0x4e75de,_0x12c06b=document['createElement'](_0x5d7138(0x4d9));_0x12c06b[_0x5d7138(0x4a7)]=_0x5d7138(0x6b8)+_0xba22fc[_0x5d7138(0x73a)],_0x12c06b[_0x5d7138(0x68b)]=_0xba22fc[_0x5d7138(0x1c1)],_0x52bd87[_0x5d7138(0x586)](_0x12c06b);});const _0x5553a6=_0x52bd87[_0x4e75de(0x4a7)],_0x22a522=_0x5553a6[_0x4e75de(0x613)]('-')[0x1];document['getElementById'](_0x4e75de(0x788))[_0x4e75de(0x4a7)]=_0x22a522,await switchTab(_0x5553a6);}function initMapForWindow(_0x3e9880){const _0x1d27d8=_0x28d754;generateMap(_0x1d27d8(0x776)+_0x3e9880,{'mode':_0x1d27d8(0x409),'searchInput':!![],'iconUrl':_0x1d27d8(0x28d),'coordsInputId':_0x1d27d8(0x727)+_0x3e9880,'onSelect':(_0x12cd83,_0x2b2328)=>{const _0x13376e=_0x1d27d8,_0x36b006=document[_0x13376e(0x5b3)](_0x13376e(0x727)+_0x3e9880);_0x36b006?(_0x36b006[_0x13376e(0x4a7)]=_0x12cd83+','+_0x2b2328,console[_0x13376e(0x5d6)](_0x13376e(0x72f)+_0x12cd83+','+_0x2b2328),_0x36b006[_0x13376e(0x72d)](new Event(_0x13376e(0x494),{'bubbles':!![]}))):console[_0x13376e(0x5d6)](_0x13376e(0x45f));}});}document[_0x28d754(0x5b3)](_0x28d754(0x671))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x126124){const _0x2c6b59=_0x28d754;_0x126124[_0x2c6b59(0x7ab)]();const _0x4cc55e=myCompany['setApiEndPoint'];try{const _0x39da84=new URL(_0x4cc55e),_0x4caff0=_0x39da84[_0x2c6b59(0x530)],_0x5227b4=_0x4caff0+_0x2c6b59(0x4d4);window[_0x2c6b59(0x4c5)](_0x5227b4,_0x2c6b59(0x2fe));}catch(_0x2ecf95){console[_0x2c6b59(0x574)](_0x2c6b59(0x3e6),_0x2ecf95);}}),document[_0x28d754(0x5b3)](_0x28d754(0x602))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x205d3a){_0x205d3a['preventDefault'](),updateShiftDisplay();}),document[_0x28d754(0x5b3)](_0x28d754(0x38b))[_0x28d754(0x507)]('click',function(_0xf06658){const _0x460abb=_0x28d754;_0xf06658[_0x460abb(0x7ab)](),showModalCreateWindow();}),document[_0x28d754(0x5b3)](_0x28d754(0x3b9))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x505435){const _0x11e0c9=_0x28d754;_0x505435[_0x11e0c9(0x7ab)]();}),document['getElementById'](_0x28d754(0x572))['addEventListener']('click',function(_0x5c85df){const _0x4852b9=_0x28d754;_0x5c85df[_0x4852b9(0x7ab)](),showModalLayout();}),document[_0x28d754(0x5b3)](_0x28d754(0x634))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x3eb115){const _0x3e7b06=_0x28d754;_0x3eb115[_0x3e7b06(0x7ab)](),showModalLayout();}),document[_0x28d754(0x5b3)](_0x28d754(0x399))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x2ddd95){const _0x6f4f28=_0x28d754;_0x2ddd95[_0x6f4f28(0x7ab)](),showRightSection();}),document[_0x28d754(0x5b3)](_0x28d754(0x6e1))[_0x28d754(0x507)](_0x28d754(0x640),function(_0x7190c2){const _0xca6b2a=_0x28d754;_0x7190c2['preventDefault'](),showLeftSection(),showSection(_0xca6b2a(0x6b3));}),document['getElementById']('btnAddProduct')[_0x28d754(0x507)](_0x28d754(0x640),function(_0x1955a4){const _0x410c51=_0x28d754;_0x1955a4[_0x410c51(0x7ab)](),resetNewItemForm(),fileInput[_0x410c51(0x4a7)]='',uploadBtn[_0x410c51(0x5ab)]=!![],statusDiv[_0x410c51(0x68b)]='',progressBar[_0x410c51(0x4d1)][_0x410c51(0x746)]=_0x410c51(0x44a),progressBar['value']=0x0,showModalCreateItem(0x0);}),document[_0x28d754(0x5b3)]('btnAddProductFree')[_0x28d754(0x507)](_0x28d754(0x640),function(_0x47fd16){const _0x26f5f4=_0x28d754;_0x47fd16[_0x26f5f4(0x7ab)](),resetNewItemForm(),fileInput['value']='',uploadBtn[_0x26f5f4(0x5ab)]=!![],statusDiv['textContent']='',progressBar[_0x26f5f4(0x4d1)]['display']=_0x26f5f4(0x44a),progressBar[_0x26f5f4(0x4a7)]=0x0,showModalCreateItem(0x1);}),document[_0x28d754(0x5b3)]('tabs-editLayout')[_0x28d754(0x507)](_0x28d754(0x640),function(_0x5e74bc){const _0x35dd26=_0x28d754;_0x5e74bc[_0x35dd26(0x7ab)](),toggleEditMode();}),document[_0x28d754(0x5b3)]('input-setWindowType')[_0x28d754(0x507)](_0x28d754(0x494),function(_0x3cc60d){const _0x10096c=_0x28d754;_0x3cc60d[_0x10096c(0x7ab)]();const _0x1b104f=document[_0x10096c(0x5b3)](_0x10096c(0x6d2)),_0x2bd059=this['value'];let _0xd4f8=_0x10096c(0x2ca);if(_0x2bd059=='1')_0xd4f8=_0x10096c(0x2ca);else{if(_0x2bd059=='2')_0xd4f8=_0x10096c(0x4cf);else _0x2bd059=='3'&&(_0xd4f8=_0x10096c(0x413));}_0x1b104f[_0x10096c(0x275)]=_0xd4f8;}),document['getElementById'](_0x28d754(0x435))[_0x28d754(0x507)](_0x28d754(0x640),async function(_0x2a78dc){const _0x2fd5ee=_0x28d754;_0x2a78dc['preventDefault']();if(!isOnline()){ntfShow('No\x20hay\x20conexión\x20a\x20internet.');return;}this[_0x2fd5ee(0x5ab)]=!![],hideModalCreateWindow(),showLoadingModal();const _0x4a355e=document[_0x2fd5ee(0x5b3)](_0x2fd5ee(0x21b)),_0x215af3=document[_0x2fd5ee(0x5b3)](_0x2fd5ee(0x666)),_0x3551c9=document[_0x2fd5ee(0x5b3)]('setBranchId'),_0x735deb=document[_0x2fd5ee(0x5b3)]('setFloorId'),_0x5d16ff={'setAuthToken':myCompany['setAuthToken'],'setWindowType':_0x4a355e[_0x2fd5ee(0x4a7)],'setWindowName':_0x215af3[_0x2fd5ee(0x4a7)],'setBranchId':_0x3551c9['value'],'setEnvironmentId':_0x735deb[_0x2fd5ee(0x4a7)]};try{const _0x1d131c=await fetch('https://apierp.dev/api/windows/create/',{'method':_0x2fd5ee(0x654),'headers':{'Content-Type':_0x2fd5ee(0x22a)},'body':JSON[_0x2fd5ee(0x43e)](_0x5d16ff)});if(!_0x1d131c['ok']){hideLoadingModal(),this[_0x2fd5ee(0x5ab)]=![],ntfShow(_0x2fd5ee(0x528)+_0x1d131c[_0x2fd5ee(0x4ca)]),showModalCreateWindow();return;}const _0x4d3cbd=await _0x1d131c[_0x2fd5ee(0x326)]();if(!_0x4d3cbd[_0x2fd5ee(0x5d5)]){hideLoadingModal(),this['disabled']=![],ntfShow(_0x4d3cbd[_0x2fd5ee(0x45d)]||_0x2fd5ee(0x243)),showModalCreateWindow();return;}const _0x33d34f=_0x4d3cbd['message'];console['log'](_0x33d34f),myCompany[_0x2fd5ee(0x369)]['push'](_0x33d34f),await resetWindowPositions(_0x3551c9[_0x2fd5ee(0x4a7)],_0x735deb[_0x2fd5ee(0x4a7)]);const _0x39ecc0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x39ecc0),addNewTab(_0x33d34f[_0x2fd5ee(0x73a)]),hideLoadingModal(),this[_0x2fd5ee(0x5ab)]=![],_0x215af3[_0x2fd5ee(0x4a7)]='',ntfShow(_0x2fd5ee(0x444)),showModalLayout();}catch(_0x33c6c9){hideLoadingModal(),this[_0x2fd5ee(0x5ab)]=![],ntfShow(_0x2fd5ee(0x528)+_0x33c6c9[_0x2fd5ee(0x45d)]),showModalCreateWindow();}}),window['addEventListener'](_0x28d754(0x638),()=>{const _0xe4ad9=_0x28d754,_0x2e047a=window[_0xe4ad9(0x34e)];if(_0x2e047a!==lastWindowWidth){lastWindowWidth=_0x2e047a;if(isMobile())showLeftSection();else{const _0x2b4ddb=document[_0xe4ad9(0x5b3)](_0xe4ad9(0x7a1)),_0x1f47a8=document['getElementById'](_0xe4ad9(0x4bb));_0x2b4ddb[_0xe4ad9(0x4d1)][_0xe4ad9(0x78f)]('display',_0xe4ad9(0x720),_0xe4ad9(0x595)),_0x1f47a8[_0xe4ad9(0x4d1)][_0xe4ad9(0x78f)]('display',_0xe4ad9(0x720),'important');}}adjustHeight();}),window[_0x28d754(0x507)](_0x28d754(0x598),updateInternetIcon),window[_0x28d754(0x507)](_0x28d754(0x5c4),updateInternetIcon),window[_0x28d754(0x748)]=function(){const _0x4c0391=_0x28d754,_0x2e248c=0x1;loadLoginContent(_0x4c0391(0x323)),setUserNameGet(),setEventBtnAccess(),document[_0x4c0391(0x553)][_0x4c0391(0x507)](_0x4c0391(0x252),_0x1d1168=>{const _0x3b5103=_0x4c0391,_0x48f6ae=_0x1d1168[_0x3b5103(0x643)];if(_0x48f6ae['id']&&_0x48f6ae['id']['startsWith'](_0x3b5103(0x48f))){const _0x15148c=_0x48f6ae['id']['split']('-')[_0x3b5103(0x65f)]();let _0x1422ec=parseFloat(_0x48f6ae['value'])||0x0;isNaN(_0x1422ec)||_0x1422ec<0x0?_0x48f6ae[_0x3b5103(0x4a7)]=_0x3b5103(0x222):(_0x48f6ae[_0x3b5103(0x4a7)]=_0x1422ec[_0x3b5103(0x3ea)](0x2),_0x1422ec=_0x1422ec[_0x3b5103(0x3ea)](0x2)),window_options[_0x15148c][_0x3b5103(0x590)]=_0x1422ec,saveWindowOptionsDB(_0x15148c)['then'](()=>{renderCart(_0x15148c);})[_0x3b5103(0x480)](_0x3756c4=>{const _0x301f8b=_0x3b5103;console[_0x301f8b(0x574)](_0x301f8b(0x668),_0x3756c4);});}}),document[_0x4c0391(0x553)][_0x4c0391(0x507)](_0x4c0391(0x593),_0x2fc850=>{const _0x12809a=_0x4c0391,_0x3a2d64=_0x2fc850[_0x12809a(0x643)];if(_0x3a2d64['id']&&_0x3a2d64['id'][_0x12809a(0x2b8)](_0x12809a(0x48f))){const _0xc23a1=_0x3a2d64['id'][_0x12809a(0x613)]('-')[_0x12809a(0x65f)]();let _0xc933e0=parseFloat(_0x3a2d64[_0x12809a(0x4a7)])||0x0;isNaN(_0xc933e0)||_0xc933e0<0x0?_0x3a2d64[_0x12809a(0x4a7)]=_0x12809a(0x222):(_0x3a2d64[_0x12809a(0x4a7)]=_0xc933e0[_0x12809a(0x3ea)](0x2),_0xc933e0=_0xc933e0[_0x12809a(0x3ea)](0x2)),window_options[_0xc23a1][_0x12809a(0x590)]=_0xc933e0,saveWindowOptionsDB(_0xc23a1)[_0x12809a(0x2c1)](()=>{renderCart(_0xc23a1);})[_0x12809a(0x480)](_0x4a3ea0=>{const _0x26a4a8=_0x12809a;console[_0x26a4a8(0x574)](_0x26a4a8(0x668),_0x4a3ea0);});}},!![]);const _0x445ff4=document[_0x4c0391(0x794)](_0x4c0391(0x41d));_0x445ff4&&_0x445ff4[_0x4c0391(0x507)](_0x4c0391(0x640),function(){logoutReload(0x0,_0x2e248c);});let _0x5e6387=[];const _0x2f3be4=document[_0x4c0391(0x5b3)]('waFiles'),_0xb2ed28=document[_0x4c0391(0x5b3)](_0x4c0391(0x31e));_0x2f3be4[_0x4c0391(0x507)](_0x4c0391(0x494),()=>{const _0x5c520f=_0x4c0391;Array['from'](_0x2f3be4[_0x5c520f(0x632)])[_0x5c520f(0x239)](_0x15ac80=>{const _0x31cc44=_0x5c520f,_0x10bf76=Date['now']()+Math[_0x31cc44(0x567)]();_0x5e6387[_0x31cc44(0x48d)]({'file':_0x15ac80,'id':_0x10bf76});const _0xf0c382=document[_0x31cc44(0x57a)](_0x31cc44(0x35d));_0xf0c382[_0x31cc44(0x78c)]='preview-item',_0xf0c382[_0x31cc44(0x344)]['id']=_0x10bf76;if(_0x15ac80[_0x31cc44(0x322)][_0x31cc44(0x2b8)](_0x31cc44(0x2e5))){const _0x439777=document[_0x31cc44(0x57a)]('img');_0x439777[_0x31cc44(0x275)]=URL[_0x31cc44(0x4f0)](_0x15ac80),_0xf0c382[_0x31cc44(0x586)](_0x439777);}else{if(_0x15ac80[_0x31cc44(0x322)]['startsWith'](_0x31cc44(0x307))){const _0x3d1de0=document[_0x31cc44(0x57a)]('video');_0x3d1de0[_0x31cc44(0x275)]=URL[_0x31cc44(0x4f0)](_0x15ac80),_0x3d1de0['controls']=!![],_0xf0c382[_0x31cc44(0x586)](_0x3d1de0);}else _0xf0c382[_0x31cc44(0x566)]+=_0x31cc44(0x2c9)+_0x15ac80[_0x31cc44(0x62b)]+_0x31cc44(0x36f);}const _0x211222=document[_0x31cc44(0x57a)](_0x31cc44(0x267));_0x211222[_0x31cc44(0x68b)]='×',_0x211222[_0x31cc44(0x78c)]=_0x31cc44(0x1fa),_0x211222['onclick']=()=>{const _0x308f28=_0x31cc44,_0x1ef43a=_0x5e6387['findIndex'](_0x5594d2=>_0x5594d2['id']==_0x10bf76);if(_0x1ef43a>-0x1)_0x5e6387[_0x308f28(0x63d)](_0x1ef43a,0x1);_0xb2ed28['removeChild'](_0xf0c382);},_0xf0c382[_0x31cc44(0x586)](_0x211222),_0xb2ed28[_0x31cc44(0x586)](_0xf0c382);}),_0x2f3be4['value']='';});const _0x59ae87=document[_0x4c0391(0x5b3)](_0x4c0391(0x373)),_0x15e324=document['getElementById'](_0x4c0391(0x269));[_0x4c0391(0x50b),_0x4c0391(0x23a)][_0x4c0391(0x239)](_0xf07c85=>{const _0x33193f=_0x4c0391;_0x59ae87[_0x33193f(0x507)](_0xf07c85,_0x38cd97=>{const _0xee7ae1=_0x33193f;_0x38cd97['preventDefault'](),_0x59ae87[_0xee7ae1(0x501)]['add']('dragover');});}),[_0x4c0391(0x325),'drop']['forEach'](_0x4425e1=>{const _0x367924=_0x4c0391;_0x59ae87[_0x367924(0x507)](_0x4425e1,_0x4000ff=>{const _0x42b478=_0x367924;_0x4000ff['preventDefault'](),_0x59ae87[_0x42b478(0x501)][_0x42b478(0x656)](_0x42b478(0x23a));});}),_0x59ae87[_0x4c0391(0x507)](_0x4c0391(0x21a),_0x30a2c7=>{const _0x556aff=_0x4c0391,_0x5dbc06=Array[_0x556aff(0x4fb)](_0x30a2c7['dataTransfer'][_0x556aff(0x632)]);_0xde2a71(_0x5dbc06);}),_0x59ae87[_0x4c0391(0x507)](_0x4c0391(0x640),()=>_0x15e324['click']()),_0x15e324[_0x4c0391(0x507)](_0x4c0391(0x494),()=>{const _0x5e3004=_0x4c0391;_0xde2a71(Array['from'](_0x15e324[_0x5e3004(0x632)])),_0x15e324[_0x5e3004(0x4a7)]='';});function _0xde2a71(_0x44db8d){const _0x1ff8b0=_0x4c0391;_0x44db8d[_0x1ff8b0(0x239)](_0x1dee73=>{const _0x25f4e2=_0x1ff8b0,_0x20efa1=Date['now']()+Math[_0x25f4e2(0x567)]();_0x5e6387[_0x25f4e2(0x48d)]({'file':_0x1dee73,'id':_0x20efa1});const _0x20622b=document[_0x25f4e2(0x57a)]('div');_0x20622b[_0x25f4e2(0x78c)]='preview-item',_0x20622b['dataset']['id']=_0x20efa1;if(_0x1dee73[_0x25f4e2(0x322)][_0x25f4e2(0x2b8)]('image/')){const _0x1e2e12=document[_0x25f4e2(0x57a)](_0x25f4e2(0x27b));_0x1e2e12['src']=URL['createObjectURL'](_0x1dee73),_0x20622b['appendChild'](_0x1e2e12);}else{if(_0x1dee73[_0x25f4e2(0x322)][_0x25f4e2(0x2b8)]('video/')){const _0x2abe14=document[_0x25f4e2(0x57a)](_0x25f4e2(0x3d8));_0x2abe14[_0x25f4e2(0x275)]=URL[_0x25f4e2(0x4f0)](_0x1dee73),_0x2abe14[_0x25f4e2(0x683)]=!![],_0x20622b[_0x25f4e2(0x586)](_0x2abe14);}else{const _0x15bbc8=document[_0x25f4e2(0x57a)](_0x25f4e2(0x35d));_0x15bbc8[_0x25f4e2(0x68b)]=_0x1dee73[_0x25f4e2(0x62b)],_0x20622b['appendChild'](_0x15bbc8);}}const _0x2f9c92=document[_0x25f4e2(0x57a)](_0x25f4e2(0x267));_0x2f9c92[_0x25f4e2(0x78c)]=_0x25f4e2(0x1fa),_0x2f9c92['textContent']='×',_0x2f9c92[_0x25f4e2(0x290)]=()=>{const _0x2c02e7=_0x25f4e2,_0xe23b15=_0x5e6387[_0x2c02e7(0x353)](_0x2bf1ad=>_0x2bf1ad['id']===_0x20efa1);if(_0xe23b15>-0x1)_0x5e6387[_0x2c02e7(0x63d)](_0xe23b15,0x1);_0xb2ed28[_0x2c02e7(0x428)](_0x20622b);},_0x20622b[_0x25f4e2(0x586)](_0x2f9c92),_0xb2ed28[_0x25f4e2(0x586)](_0x20622b);});}const _0x271670=document[_0x4c0391(0x5b3)](_0x4c0391(0x6eb)),_0x202507=document[_0x4c0391(0x5b3)](_0x4c0391(0x3f6));if(_0x271670&&_0x202507){const _0xc7410d=_0x202507[_0x4c0391(0x1e0)][_0x4c0391(0x308)](!![]),_0x49b232=_0xc7410d[_0x4c0391(0x794)](_0x4c0391(0x42f));initCountrySelector(_0x49b232),_0x271670[_0x4c0391(0x586)](_0x49b232);}const _0x8f6835=document[_0x4c0391(0x5b3)](_0x4c0391(0x696)),_0x303e0a=document[_0x4c0391(0x5b3)]('email-recipient-template');if(_0x8f6835&&_0x303e0a){const _0x17740c=_0x303e0a[_0x4c0391(0x1e0)][_0x4c0391(0x308)](!![]),_0x4c514a=_0x17740c['querySelector'](_0x4c0391(0x46a));_0x8f6835['appendChild'](_0x4c514a);}const _0x2d6e85=document[_0x4c0391(0x5b3)](_0x4c0391(0x525));_0x2d6e85&&_0x2d6e85['addEventListener'](_0x4c0391(0x640),function(){const _0x129402=_0x4c0391,_0x346067=document[_0x129402(0x5b3)](_0x129402(0x6eb)),_0xe809c2=document['getElementById'](_0x129402(0x3f6));if(_0x346067&&_0xe809c2){const _0x55178a=_0xe809c2[_0x129402(0x1e0)]['cloneNode'](!![]),_0x8ed487=_0x55178a[_0x129402(0x794)](_0x129402(0x42f)),_0x511715=_0x8ed487[_0x129402(0x794)](_0x129402(0x79a));if(_0x511715)_0x511715[_0x129402(0x4d1)][_0x129402(0x746)]=_0x129402(0x43c);initCountrySelector(_0x8ed487),_0x511715&&_0x511715[_0x129402(0x507)](_0x129402(0x640),function(){const _0x3a85ea=_0x129402;_0x346067[_0x3a85ea(0x428)](_0x8ed487);}),_0x346067[_0x129402(0x586)](_0x8ed487);}});const _0x917aa8=document[_0x4c0391(0x5b3)](_0x4c0391(0x65e));_0x917aa8&&_0x917aa8['addEventListener'](_0x4c0391(0x640),function(){const _0x45fe28=_0x4c0391,_0x53710b=document[_0x45fe28(0x5b3)](_0x45fe28(0x696)),_0x507a15=document[_0x45fe28(0x5b3)]('email-recipient-template');if(_0x53710b&&_0x507a15){const _0x55f48a=_0x507a15['content'][_0x45fe28(0x308)](!![]),_0x55aa08=_0x55f48a[_0x45fe28(0x794)](_0x45fe28(0x46a)),_0x56ca0a=_0x55aa08[_0x45fe28(0x794)](_0x45fe28(0x79a));if(_0x56ca0a)_0x56ca0a['style']['display']=_0x45fe28(0x43c);_0x56ca0a&&_0x56ca0a[_0x45fe28(0x507)](_0x45fe28(0x640),function(){const _0x5c3e0f=_0x45fe28;_0x53710b[_0x5c3e0f(0x428)](_0x55aa08);}),_0x53710b[_0x45fe28(0x586)](_0x55aa08);}}),sendEmailButton&&sendEmailButton[_0x4c0391(0x507)](_0x4c0391(0x640),async function(){const _0x2b0927=_0x4c0391;sendEmailButton['disabled']=!![];if(!isOnline()){sendEmailButton[_0x2b0927(0x5ab)]=![],ntfShow('No\x20tienes\x20conexión\x20a\x20internet!',0x2,0x1);return;}const _0x46e8db=document['getElementById'](_0x2b0927(0x696)),_0x35d631=_0x46e8db[_0x2b0927(0x1e9)](_0x2b0927(0x72e)),_0x1898d1=[];for(const _0x3e744b of _0x35d631){const _0xd689e9=_0x3e744b[_0x2b0927(0x4a7)][_0x2b0927(0x2cd)]();if(!_0xd689e9){sendEmailButton[_0x2b0927(0x5ab)]=![],ntfShow(_0x2b0927(0x664),0x2,0x1);return;}_0x1898d1[_0x2b0927(0x48d)](_0xd689e9);}if(_0x1898d1[_0x2b0927(0x517)]===0x0){sendEmailButton[_0x2b0927(0x5ab)]=![],ntfShow(_0x2b0927(0x3de),0x2,0x1);return;}let _0x4df507=document['getElementById'](_0x2b0927(0x72b))[_0x2b0927(0x4a7)][_0x2b0927(0x2cd)]();if(!_0x4df507){alert(_0x2b0927(0x3bc));return;}_0x4df507=_0x4df507[_0x2b0927(0x3c8)](/\r\n|\n/g,_0x2b0927(0x74b));const _0x462120=parseInt(getUserPermissionApiERP(0x12)),_0x526557=myCompany[_0x2b0927(0x3b3)][_0x2b0927(0x248)](_0x57aff9=>_0x57aff9[_0x2b0927(0x336)]==_0x462120);if(!_0x526557){sendEmailButton[_0x2b0927(0x5ab)]=![],ntfShow(_0x2b0927(0x1f2));return;}const _0x498541=_0x526557[_0x2b0927(0x7b4)],_0x141c11=_0x526557['setEmailCredentialsSenderEmail'],_0x495a8f=_0x526557[_0x2b0927(0x5c0)],_0x5850e6=_0x526557[_0x2b0927(0x79f)],_0x19834d=_0x526557[_0x2b0927(0x433)],_0x457c7a=document['getElementById'](_0x2b0927(0x788))[_0x2b0927(0x4a7)],{pdfGlobalPayload:_0x320063,pdfGlobalBlob:_0x54848e,pdfGlobalName:_0x2bcb6c}=getLastOperationGlobalData(_0x457c7a),_0x4bdcbd=_0x320063[_0x2b0927(0x3b7)]+':\x20'+_0x320063[_0x2b0927(0x2b4)]+'-'+_0x320063[_0x2b0927(0x360)]+'\x20('+myCompany[_0x2b0927(0x676)]+'\x20)';if(!_0x54848e){sendEmailButton['disabled']=![],ntfShow('No\x20hay\x20comprobante\x20generado\x20para\x20enviar.',0x2,0x1);return;}let _0x551842=[];try{const _0x358598=await blobAStringBase64(_0x54848e);_0x551842[_0x2b0927(0x48d)]({'fileName':_0x2bcb6c,'fileBase64':_0x358598});for(const _0x50052b of _0x5e6387){const _0x410955=await blobAStringBase64(_0x50052b[_0x2b0927(0x318)]);_0x551842[_0x2b0927(0x48d)]({'fileName':_0x50052b['file'][_0x2b0927(0x62b)],'fileBase64':_0x410955});}}catch(_0x511ab9){console[_0x2b0927(0x574)](_0x2b0927(0x6d5),_0x511ab9),sendEmailButton[_0x2b0927(0x5ab)]=![],ntfShow(_0x2b0927(0x3d2),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany[_0x2b0927(0x523)],_0x498541,_0x141c11,_0x495a8f,_0x5850e6,_0x19834d,_0x1898d1,_0x4bdcbd,_0x4df507,_0x551842),hideLoadingModal(),showModal(),sendEmailButton[_0x2b0927(0x5ab)]=![],document['querySelectorAll'](_0x2b0927(0x1cc))[_0x2b0927(0x239)](_0x4dcaa9=>_0x4dcaa9[_0x2b0927(0x4a7)]=''),ntfShow(_0x2b0927(0x482),0x1,0x2);}catch(_0x1a6dca){console[_0x2b0927(0x574)]('Error\x20en\x20la\x20solicitud:',_0x1a6dca),ntfShow('Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.',0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton[_0x2b0927(0x5ab)]=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x4c0391(0x507)](_0x4c0391(0x640),async function(){const _0x4f664f=_0x4c0391,_0x29f989=document[_0x4f664f(0x5b3)](_0x4f664f(0x6eb)),_0x502b22=_0x29f989[_0x4f664f(0x1e9)](_0x4f664f(0x42f)),_0x1bd062=[];for(const _0x31f773 of _0x502b22){const _0x354d11=_0x31f773[_0x4f664f(0x794)](_0x4f664f(0x3a8)),_0x270456=_0x354d11['dataset'][_0x4f664f(0x4e3)]||'',_0x42736e=_0x31f773[_0x4f664f(0x794)]('.phoneNumber'),_0x40a3ad=_0x42736e[_0x4f664f(0x4a7)][_0x4f664f(0x2cd)]();if(!_0x40a3ad){ntfShow(_0x4f664f(0x3a4),0x2,0x1);return;}const _0x17adcb=_0x40a3ad[_0x4f664f(0x3c8)](/\D/g,'');_0x1bd062['push'](_0x270456+_0x17adcb);}if(_0x1bd062['length']===0x0){ntfShow('Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.',0x2,0x1);return;}let _0x291424=document[_0x4f664f(0x5b3)](_0x4f664f(0x72b))[_0x4f664f(0x4a7)][_0x4f664f(0x2cd)]();if(!_0x291424){alert(_0x4f664f(0x3bc));return;}const _0x4fdeed=parseInt(document[_0x4f664f(0x5b3)](_0x4f664f(0x78b))[_0x4f664f(0x4a7)],0xa),_0x15c4e6=getCredentialsApiWAChat(_0x4fdeed),_0x3793ee=_0x15c4e6?.[_0x4f664f(0x757)]??0x0;if(!(_0x3793ee==0x1&&_0x15c4e6)){for(const _0x281ff7 of _0x1bd062){const _0x270bd8=encodeURIComponent(_0x291424),_0x324332=_0x4f664f(0x443)+_0x281ff7+_0x4f664f(0x1f1)+_0x270bd8;window[_0x4f664f(0x4c5)](_0x324332,_0x4f664f(0x2fe));}ntfShow(_0x4f664f(0x39f),0x1,0x2);return;}const _0x24f5c0=document['getElementById']('windowId')[_0x4f664f(0x4a7)],{pdfGlobalPayload:_0x1baf60,pdfGlobalBlob:_0x15cf2a,pdfGlobalName:_0x522db0}=getLastOperationGlobalData(_0x24f5c0);if(!_0x15cf2a){hideLoadingModal(),showModal(),ntfShow(_0x4f664f(0x707),0x2,0x1);return;}const _0xe0d78a=_0x15c4e6['setCredentialsApiWAChatSubdomain'],_0x350ab3=_0x15c4e6[_0x4f664f(0x2fc)],_0x18a536=_0x4f664f(0x492)+_0xe0d78a+'/wa/'+_0x350ab3,_0x4ce9a5=[],_0x5558f9=new File([_0x15cf2a],_0x522db0,{'type':_0x4f664f(0x521)});_0x4ce9a5[_0x4f664f(0x48d)](_0x5558f9);for(const _0x447a04 of _0x5e6387){_0x4ce9a5[_0x4f664f(0x48d)](_0x447a04['file']);}try{hideModal(),showLoadingModal();if(_0x291424)for(const _0x42c468 of _0x1bd062){const _0x4deadd=_0x42c468+'@s.whatsapp.net';await sendMessageApiWAChat(_0x4fdeed,_0x4deadd,_0x4f664f(0x5c8),_0x291424);}const _0x5cf877=[];for(const _0x45e6d2 of _0x4ce9a5){const _0x3e3dab=new FormData();_0x3e3dab[_0x4f664f(0x787)](_0x4f664f(0x318),_0x45e6d2);const _0x2af801=await fetch(_0x18a536+'/upload',{'method':'POST','headers':{'x-auth-token':myCompany[_0x4f664f(0x523)]},'body':_0x3e3dab});if(!_0x2af801['ok']){const _0x1909aa=await _0x2af801['json']()['catch'](()=>({}));throw new Error(_0x1909aa['error']||'Error\x20subiendo\x20'+_0x45e6d2[_0x4f664f(0x62b)]+'\x20a\x20S3');}const {url:_0x3e2a70}=await _0x2af801['json']();let _0x4af203;if(_0x45e6d2[_0x4f664f(0x322)][_0x4f664f(0x2b8)](_0x4f664f(0x2e5)))_0x4af203=_0x4f664f(0x4ec);else{if(_0x45e6d2['type']['startsWith'](_0x4f664f(0x307)))_0x4af203=_0x4f664f(0x3d8);else _0x45e6d2['type'][_0x4f664f(0x2b8)](_0x4f664f(0x64e))?_0x4af203=_0x4f664f(0x2ee):_0x4af203=_0x4f664f(0x6e2);}_0x5cf877['push']({'url':_0x3e2a70,'name':_0x45e6d2[_0x4f664f(0x62b)],'mediaType':_0x4af203,'mimeType':_0x45e6d2['type']});}for(const _0x3c4933 of _0x1bd062){const _0x24937a=_0x3c4933+_0x4f664f(0x1f3);for(const _0x54149d of _0x5cf877){await sendMessageApiWAChat(_0x4fdeed,_0x24937a,_0x54149d['mediaType'],_0x54149d[_0x4f664f(0x4a3)],'',_0x54149d[_0x4f664f(0x62b)],_0x54149d['mimeType']);}}ntfShow(_0x4f664f(0x442),0x1,0x2);}catch(_0xcd7ce3){console[_0x4f664f(0x574)](_0x4f664f(0x700),_0xcd7ce3),ntfShow(_0xcd7ce3[_0x4f664f(0x45d)]||'Error\x20enviando\x20mensaje',0x2,0x2);}finally{document[_0x4f664f(0x1e9)](_0x4f664f(0x33a))[_0x4f664f(0x239)](_0x40d4=>_0x40d4[_0x4f664f(0x4a7)]=''),document[_0x4f664f(0x5b3)](_0x4f664f(0x72b))[_0x4f664f(0x4a7)]='',_0x5e6387=[];const _0x159780=document[_0x4f664f(0x5b3)](_0x4f664f(0x31e));_0x159780&&(_0x159780[_0x4f664f(0x566)]=''),hideLoadingModal(),showModal();}}),document[_0x4c0391(0x507)](_0x4c0391(0x640),function(_0x17f378){const _0x4db126=_0x4c0391;!_0x17f378['target'][_0x4db126(0x5ee)](_0x4db126(0x6aa))&&!_0x17f378[_0x4db126(0x643)]['closest'](_0x4db126(0x58b))&&document['querySelectorAll'](_0x4db126(0x58b))['forEach'](_0xa0f43c=>{const _0x160985=_0x4db126;_0xa0f43c[_0x160985(0x566)]='';});}),document[_0x4c0391(0x5b3)](_0x4c0391(0x31a))[_0x4c0391(0x507)](_0x4c0391(0x494),async function(){const _0x52d2f8=_0x4c0391,_0x56f1ac=parseInt(this[_0x52d2f8(0x4a7)]);myCompany[_0x52d2f8(0x42b)]=_0x56f1ac,saveCredentialsApiWAChatInCompany();const _0x444c2a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x444c2a),searchInput[_0x52d2f8(0x4a7)]='',cargarAlmacenes(_0x56f1ac),setTimeout(()=>{const _0x5bc974=_0x52d2f8;document['getElementById']('setWarehouseId')[_0x5bc974(0x72d)](new Event(_0x5bc974(0x494)));},0x64),cargarPisos(_0x56f1ac),setTimeout(()=>{const _0x5bea7f=_0x52d2f8;document['getElementById'](_0x5bea7f(0x670))[_0x5bea7f(0x72d)](new Event('change'));},0x64);const _0x47cf95=document[_0x52d2f8(0x5b3)](_0x52d2f8(0x788))[_0x52d2f8(0x4a7)];if(parseFloat(_0x47cf95)>0x0){const _0x171137=document[_0x52d2f8(0x5b3)](_0x52d2f8(0x73f)+_0x47cf95)['value'];await updateSerieOptions(_0x171137,_0x47cf95);}const _0x575095=myCompany[_0x52d2f8(0x468)][_0x52d2f8(0x1fc)](_0x49e16c=>_0x49e16c['setBranchId']==_0x56f1ac);if(_0x575095[_0x52d2f8(0x517)]===0x0)document['getElementById']('printerDropdown')['innerHTML']='',document[_0x52d2f8(0x5b3)](_0x52d2f8(0x6ad))[_0x52d2f8(0x68b)]=_0x52d2f8(0x7a8);else{const _0x1403c6=document[_0x52d2f8(0x5b3)](_0x52d2f8(0x6ad));_0x1403c6[_0x52d2f8(0x68b)]=_0x575095[0x0][_0x52d2f8(0x436)],_0x1403c6[_0x52d2f8(0x1d9)](_0x52d2f8(0x724),_0x575095[0x0][_0x52d2f8(0x1e6)]),_0x1403c6['addEventListener']('click',function(){const _0x3ba8a3=_0x52d2f8,_0x4e0ab3=document[_0x3ba8a3(0x5b3)]('windowId')[_0x3ba8a3(0x4a7)],{pdfGlobalPayload:_0x2b827c,pdfGlobalBlob:_0x4a8bbf,pdfGlobalName:_0x2b086f}=getLastOperationGlobalData(_0x4e0ab3);setPrintOnline(this[_0x3ba8a3(0x54c)](_0x3ba8a3(0x724)),_0x4a8bbf,_0x2b086f,0x0);});const _0x1fb87c=document['getElementById'](_0x52d2f8(0x45e));_0x1fb87c[_0x52d2f8(0x566)]='',_0x575095[_0x52d2f8(0x239)](_0x5c4af5=>{const _0x544a58=_0x52d2f8,_0x3086c6=document['createElement']('li');_0x3086c6[_0x544a58(0x566)]=_0x544a58(0x4e5)+_0x5c4af5['setPrinterName']+_0x544a58(0x5b7)+_0x5c4af5[_0x544a58(0x436)]+_0x544a58(0x391)+_0x5c4af5['setPrinterAlias']+_0x544a58(0x51b),_0x1fb87c[_0x544a58(0x586)](_0x3086c6);});}ntf_initNotifications(),apiERPsyncWindows();}),document[_0x4c0391(0x5b3)](_0x4c0391(0x732))[_0x4c0391(0x507)](_0x4c0391(0x494),function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document['getElementById']('setFloorId')[_0x4c0391(0x507)](_0x4c0391(0x494),function(_0x337288){const _0x3f6fc2=_0x4c0391,_0x2704aa=_0x337288[_0x3f6fc2(0x643)]['value'];changeEnvironments(_0x2704aa);}),loadCartAndSetTabCount(_0x2e248c);};