/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.2
*/

const _0xe31540=_0x2d15;(function(_0x5103a0,_0x406c8b){const _0x55b061=_0x2d15,_0x304f85=_0x5103a0();while(!![]){try{const _0x19980d=-parseInt(_0x55b061(0x20c))/0x1+-parseInt(_0x55b061(0x1be))/0x2+-parseInt(_0x55b061(0x21c))/0x3+-parseInt(_0x55b061(0x1d3))/0x4+parseInt(_0x55b061(0x2f6))/0x5+parseInt(_0x55b061(0x1fb))/0x6*(parseInt(_0x55b061(0x158))/0x7)+-parseInt(_0x55b061(0x27f))/0x8*(-parseInt(_0x55b061(0x20e))/0x9);if(_0x19980d===_0x406c8b)break;else _0x304f85['push'](_0x304f85['shift']());}catch(_0x25cc74){_0x304f85['push'](_0x304f85['shift']());}}}(_0x1b1f,0xecce6));const _0x3b72b3=(function(){let _0x126b1c=!![];return function(_0x30390f,_0x4d3f85){const _0x24da45=_0x126b1c?function(){const _0x4195dd=_0x2d15;if(_0x4d3f85){const _0x11dd68=_0x4d3f85[_0x4195dd(0x17d)](_0x30390f,arguments);return _0x4d3f85=null,_0x11dd68;}}:function(){};return _0x126b1c=![],_0x24da45;};}()),_0x147d84=_0x3b72b3(this,function(){const _0x33f574=_0x2d15;return _0x147d84[_0x33f574(0x2d4)]()[_0x33f574(0x289)]('(((.+)+)+)+$')[_0x33f574(0x2d4)]()[_0x33f574(0x371)](_0x147d84)[_0x33f574(0x289)](_0x33f574(0x334));});_0x147d84();function _0x2d15(_0x135e54,_0x4c2422){const _0x3e6a8e=_0x1b1f();return _0x2d15=function(_0x535964,_0x47b24f){_0x535964=_0x535964-0x153;let _0x48ff7a=_0x3e6a8e[_0x535964];return _0x48ff7a;},_0x2d15(_0x135e54,_0x4c2422);}const _0x47b24f=(function(){let _0x59b7df=!![];return function(_0x59374f,_0x20c8c0){const _0x2f7906=_0x59b7df?function(){const _0x2cacb4=_0x2d15;if(_0x20c8c0){const _0x8b230f=_0x20c8c0[_0x2cacb4(0x17d)](_0x59374f,arguments);return _0x20c8c0=null,_0x8b230f;}}:function(){};return _0x59b7df=![],_0x2f7906;};}()),_0x535964=_0x47b24f(this,function(){const _0x4948a5=_0x2d15,_0x409068=function(){const _0x440b63=_0x2d15;let _0x4ffcc7;try{_0x4ffcc7=Function('return\x20(function()\x20'+_0x440b63(0x29e)+');')();}catch(_0x1c4688){_0x4ffcc7=window;}return _0x4ffcc7;},_0x210acf=_0x409068(),_0xe3a19e=_0x210acf['console']=_0x210acf['console']||{},_0x2b5f10=['log',_0x4948a5(0x187),_0x4948a5(0x1ae),_0x4948a5(0x31c),_0x4948a5(0x284),_0x4948a5(0x19e),_0x4948a5(0x1a5)];for(let _0x255b6e=0x0;_0x255b6e<_0x2b5f10[_0x4948a5(0x36a)];_0x255b6e++){const _0x1e9f6d=_0x47b24f[_0x4948a5(0x371)][_0x4948a5(0x282)][_0x4948a5(0x326)](_0x47b24f),_0x51c017=_0x2b5f10[_0x255b6e],_0x2506d3=_0xe3a19e[_0x51c017]||_0x1e9f6d;_0x1e9f6d[_0x4948a5(0x211)]=_0x47b24f[_0x4948a5(0x326)](_0x47b24f),_0x1e9f6d[_0x4948a5(0x2d4)]=_0x2506d3[_0x4948a5(0x2d4)][_0x4948a5(0x326)](_0x2506d3),_0xe3a19e[_0x51c017]=_0x1e9f6d;}});_0x535964();let myCompany,db=null,dbPromise=null,db_name='apiERP',dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0xe31540(0x1da),_0xe31540(0x389),_0xe31540(0x192),_0xe31540(0x212),_0xe31540(0x37d),_0xe31540(0x2b7),_0xe31540(0x16f),'agosto',_0xe31540(0x338),_0xe31540(0x278),_0xe31540(0x387),_0xe31540(0x224)],gdfg5g='f34f',x45fgd='x3',xjehd78=_0xe31540(0x2d2),cxkdj4=_0xe31540(0x179),x87s8d=_0xe31540(0x354),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0xe31540(0x312),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0xe31540(0x1de),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d='x63s',xg123f=_0xe31540(0x2e4),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64='xtt3',x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0xe31540(0x2ef),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0xe31540(0x281),mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54=_0xe31540(0x1d7),x64x32x33=_0xe31540(0x302),kkx12='s',ak47r=_0xe31540(0x1cd),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0xe31540(0x36d),p34d9='d',kx32h='v',yx34l='p',pltbr=_0xe31540(0x285),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0xe31540(0x2c5),_0xe31540(0x245),'mx16',_0xe31540(0x228),_0xe31540(0x172),_0xe31540(0x36e),_0xe31540(0x328),_0xe31540(0x236),_0xe31540(0x348),_0xe31540(0x1dd),_0xe31540(0x37a)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0xe31540(0x1dc)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0xe31540(0x306),_0xe31540(0x168),_0xe31540(0x296),_0xe31540(0x261),_0xe31540(0x1f6),_0xe31540(0x24d)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseOrder=['48','49','50','51','52','53','54'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeShippingGuide=['55','56','57','58','59','60','61'],setTipOpeSales=setTipOpeSalesReceipt[_0xe31540(0x1dc)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0xe31540(0x1dc)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0xe31540(0x1dc)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation,setTipOpePurchaseOrder,setTipOpeShippingGuide),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0xc23f7d){const _0x48b901=_0xe31540;await apiERPgetWindows();const _0x3e8b12=document[_0x48b901(0x19d)](_0x48b901(0x184));if(_0x3e8b12[_0x48b901(0x350)][_0x48b901(0x1a9)]('active')){const _0x2b5581=document[_0x48b901(0x19d)](_0x48b901(0x30b))[_0x48b901(0x308)],_0x25f764=document[_0x48b901(0x19d)](_0x48b901(0x370))[_0x48b901(0x308)];cargarVentanas(_0x25f764,_0x2b5581),createTabsEnvironments();}if(Array[_0x48b901(0x1b4)](_0xc23f7d))for(const _0x3858c0 of _0xc23f7d){try{await setOrders(_0x3858c0);}catch(_0x200303){console['error']('Error\x20en\x20setOrders\x20para\x20windowId='+_0x3858c0+':',_0x200303);}}else console['warn'](_0x48b901(0x1c3),_0xc23f7d);}let socket;function conectarWebSocket(){const _0x4962f9=_0xe31540;if(socket&&socket[_0x4962f9(0x351)]!==WebSocket[_0x4962f9(0x195)]){console[_0x4962f9(0x2a9)](_0x4962f9(0x1fd));return;}const _0x450de0=myCompany[_0x4962f9(0x25c)];if(!_0x450de0){console[_0x4962f9(0x31c)]('No\x20hay\x20setAuthToken\x20para\x20WebSocket');return;}const _0x1f4ae4=location['protocol']===_0x4962f9(0x165)?_0x4962f9(0x262):'ws',_0x4c5491=_0x1f4ae4+_0x4962f9(0x18c)+encodeURIComponent(_0x450de0);socket=new WebSocket(_0x4c5491),socket[_0x4962f9(0x2bb)](_0x4962f9(0x181),()=>{const _0x20645c=_0x4962f9;console[_0x20645c(0x2a9)](_0x20645c(0x239));}),socket['addEventListener'](_0x4962f9(0x330),async _0x1bf218=>{const _0x49b01b=_0x4962f9;try{const _0x2f3428=JSON[_0x49b01b(0x264)](_0x1bf218['data']);if(_0x2f3428['type']===_0x49b01b(0x38c))console[_0x49b01b(0x2a9)](_0x49b01b(0x1ed)),await reloadWindowsAndLayout(_0x2f3428[_0x49b01b(0x373)]),ntfShow(_0x49b01b(0x196),0x1,0x2);else _0x2f3428['type']===_0x49b01b(0x34f)?(console[_0x49b01b(0x2a9)](_0x49b01b(0x23d)),updateLastCorrelativeOnline(_0x2f3428[_0x49b01b(0x373)]['setOperationType'],_0x2f3428[_0x49b01b(0x373)][_0x49b01b(0x1a2)])):console['log']('Mensaje\x20WS\x20no\x20reconocido:',_0x2f3428);}catch(_0x3d5629){console[_0x49b01b(0x31c)](_0x49b01b(0x253),_0x3d5629);}}),socket[_0x4962f9(0x2bb)](_0x4962f9(0x33d),_0x184e9d=>{const _0x591256=_0x4962f9;console['warn'](_0x591256(0x223),_0x184e9d['reason']),setTimeout(conectarWebSocket,0x3a98);}),socket['addEventListener'](_0x4962f9(0x31c),_0x449026=>{const _0x3e8b33=_0x4962f9;console['error'](_0x3e8b33(0x2d3),_0x449026);});}function isWebSocketActive(){const _0x68f26f=_0xe31540;return socket&&socket[_0x68f26f(0x351)]===WebSocket[_0x68f26f(0x1c9)];}function getQueryParam(_0x3ccae6){const _0x2e48c8=_0xe31540,_0x6206f4=new URLSearchParams(window['location'][_0x2e48c8(0x289)]);return _0x6206f4[_0x2e48c8(0x361)](_0x3ccae6);}function setUserNameGet(){const _0x1a2ea4=_0xe31540,_0x332a2f=getQueryParam(_0x1a2ea4(0x337)),_0x23e055=document[_0x1a2ea4(0x19d)](_0x1a2ea4(0x364));_0x332a2f&&_0x23e055&&(_0x23e055[_0x1a2ea4(0x308)]=_0x332a2f);}function generateUniqId(){const _0xf5a185=_0xe31540;return Date[_0xf5a185(0x35a)]()+'_'+Math[_0xf5a185(0x218)]()['toString'](0x24)['substr'](0x2,0x9);}var hasLocalStorage=(function(){const _0x10e202=_0xe31540;try{var _0x293800=_0x10e202(0x2f3);return localStorage[_0x10e202(0x39e)](_0x293800,_0x293800),localStorage[_0x10e202(0x242)](_0x293800),!![];}catch(_0xbafb1e){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function _0x1b1f(){const _0x3e4db7=['transaction','querySelectorAll','counter','querySelector','64system','setCustomers','assign','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','__test_ls__','size','setCompanyName','3288720UtvwoV','button','setCartTmpInitial','setCredentialsApiWAChat','setCorrelativo','src','widthOfTextAtSize','stringify','charCodeAt','location','maps','webkitRequestFullscreen','64x32xsystem','.autocomplete-wrapper','activeElement','push','E01','transform','value','coords','change','setFloorId','createIndex','values','Arrays\x20actualizados\x20para\x20windowId\x20','setCurrencyDefault','setAttachEdit','El\x20producto\x20\x22','32system','caption','getDate','sucursales','split','pos','object','setUsers','getClientRects','Error\x20cargando\x20Google\x20Maps\x20SDK','error','setImages','autocomplete-wrapper','locations','keys','svg','objectStore','setCredentialsApiWAChatSubdomain','Error\x20Update:','fullscreenElement','bind','slice','cl19','every','barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal','products','Products\x20Empty.','setUserId','uniqIdState','block','message','setInventariable','setImpuestoValue','includes','(((.+)+)+)+$','msRequestFullscreen','Procesamiento\x20de\x20datos\x20exitoso\x20...','username','septiembre','Delete','style','Error:\x20No\x20hay\x20ventanas\x20disponibles.','legs','close','setWindows','body','ntf-flotante-bottom',']\x20–\x20se\x20omite.','filename','Tab\x20count\x20inicializado\x20en:\x20','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','setUserEmail','Helvetica','d-none','co5','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setFloorName','result','header','alt','Acción\x20\x22','updateLastCorrelative','classList','readyState','onloadend','User\x20no\x20Logged!','x32','setImpuestos','onLine','getMonth','createObjectStore','No\x20se\x20pudo\x20eliminar\x20operación\x20procesada:\x20','now','⚠️\x20placePrediction\x20no\x20está\x20en\x20evt','checkout-btn-','Item','Products\x20Load.','setMtoPrecioUnitario','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','get','Sincronizando\x20','setCredentialsApiWAChatAlias','usuario','Revisar\x20lote','textContent','setCredentialsApiWAChatIdDefault','exitFullscreen','\x0a<h3\x20class=\x22infoItem-title\x22>','length','beforeend','SW\x20New\x20Version','pcrcl','ar10.5','route-cost','setBranchId','constructor','mimetype','data','register','https://apierp.dev/api/email/send/','setPriceLists','forEach','readonly','append','uy10','Error\x20al\x20enviar\x20correo:','Price:\x20','mayo','setFechaHora','setWarehouseName','\x22\x20expiró\x20el\x20','onsuccess','json','apiPOSsendOffline','detalleModalPay','POST','status','noviembre','select','febrero','setItemType','setClienteDenominacion','windowsUpdate','No\x20hay\x20notificaciones','Error\x20in\x20saving\x20to\x20store\x20','image/png','catch','serviceWorker','./img/product.png','setSellerName','none','topbar','ntf-flotante-orange','clear','map','Error:\x20Domain\x20not\x20registered.','fixed','.carousel-track','code','lat','setItem','setWarehouseId','\x20del\x20','img','Tab','setCartTmp','msExitFullscreen','mozCancelFullScreen','224ntiwDk','Error\x20guardando\x20operación:\x20','opacity','key','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','Error:\x20','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','windowIds\x20previamente\x20creados:','setWindowId','setCodeBarTypes','className','fetchFields','Company\x20Empty.','https:','company','ntf-notifications-list','MX20','coordsInputId','setSellerId','find','setBranchName','ntf-flotante-container','ntf-notification-dropdown','julio','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.3.2\x20...</span>','onerror','ar21','text','google','Bienvenido(a)\x20','embedJpg','success','controls','x64','rgba(0,\x200,\x200,\x200.5)','Map','preventDefault','apply','name','option','statusText','open','add','btnSaveOperacion-','detalleModalLayout','Error\x20en\x20la\x20solicitud:','setDespacho','warn','\x27\x20eliminada.','webkitExitFullscreen','reload','routes','://wss.apierp.dev/ws?token=','#container-section-pay-','documento.pdf','.dropdown-item-pais-flag','ntf-modal-actions','Modo\x20online\x20...','marzo','setMtoValorUnitario','navigator','CLOSED','✔️\x20¡Sincronizado!','setCompanyDoc','hidden','some','sort','async','TEXTAREA','getElementById','table','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setImg','setLayout','setOperationSeries','offsetWidth','https://apierp.dev/api/company/get/','trace','onSelect','resize','Backspace','contains','setEmpresaDomainWork','createElement','mode','setCompanyEmail','info','currency_data','head','Google\x20Maps\x20cargó,\x20pero\x20no\x20se\x20encontró\x20window.google.maps','click','setItemBarCode','isArray','window_options_','requestFullscreen','latLng','addPage','remove','9999',')\x20...','infoLoadingModal','getCurrentPosition','858358voJCXi','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','finally','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','&libraries=places&v=weekly','No\x20es\x20un\x20array\x20valido:','single-select','setMarca','delete','ntf-flotante-top','setUserName','OPEN','.<br>','login','setUsuarios','rgf4x32','No\x20hay\x20operaciones\x20para\x20sincronizar.','ntf-flotante-blue','itemModal','onclick','setUser_Local','2498336XyWgOC','setIdSucursal','absolute','day','33x54xsystem','setCompanyWebsite','serializeToString','enero','closest','concat','uy22','x64c','setWindowName','setCodeBarTypeId','setMoneda','260px','scale','Enter','Base\x20de\x20datos\x20abierta\x20correctamente.','reject','btn-details-ntf-variant','setTipoOperacion','TOP_LEFT','\x20de\x20...\x20)\x20...','setBranches','setIdProducto','Evento\x20windowsUpdate\x20recibido.','pricePerKm','.modal-close-carousel','setUnidadCodigo','setCollaborators','\x20km','DRIVING','position','filter','CO0','HTTP\x20','setCredentialsApiWAChatId','Generando\x20','state','356604Fpijfz','focus','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','TravelMode','createObjectURL','setCompanyPhone','display','setWarehouses','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','#detalleModalPay','\x22\x20para\x20registro\x20#','origin','https://ipapi.co/json/','flex','put','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','route','1704716NqjnCG','setItemUnitAlias','45WUByrq','32px','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','__proto__','abril','mozRequestFullScreen','has','Todos\x20los\x20campos\x20son\x20obligatorios.','Sincronización\x20completada\x20correctamente.','target','random','https://apierp.dev/api/apiPOS/get/','msFullscreenElement','useGeolocation','5124840pzRmhg','setDescuentoGlobal_Monto','onupgradeneeded','Ver\x20movimientos','div','disabled','embedPng','WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...','diciembre','setBatchExpirationDate','Generar\x20Orden\x20de\x20Compra','password','mx08','objectStoreNames','placePrediction','pop','.dropdown-list-pais-flag','DirectionsService','Company\x20Load\x20Error:','onstatechange','from','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','⚠️\x20place.location\x20indefinido','setWebhook','setMoneda-','Iniciando\x20sesión\x20...','co19','controllerchange','hostname','WebSocket\x20conectado.','setItemId','setMtoPrecioCostoUnitario','pdfBlob','Evento\x20updateLastCorrelative\x20recibido.','reduce','panTo','application/json;\x20charset=utf-8','setClienteNumDoc','removeItem','width','deleteObjectStore','S02','setShifts','.carousel-next','ObjectStore\x20\x27','8px','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','center','setCustomerEmail','UY0','readAsDataURL','setSuppliers','cart_','\x20operaciones\x20restantes...','CODE128','Error\x20procesando\x20mensaje\x20WS','ambientes','dataset','setBankAccounts','Company\x20Load.','setPrinters','Stock\x20mínimo:\x20','onupdatefound','\x27\x20creado\x20correctamente.','setAuthToken','createElementNS','active','defer','Error\x20al\x20enviar\x20operación\x20offline:','CL0','wss','then','parse','</h3><p>','Distance:\x20','\x20...','cloneNode','setSeries','function','892c0ae1aa021c31396d82f1','setMessage','animationend','distance','LatLng','getAll','Map\x20container\x20not\x20found','setImpuestoCode','type','application/pdf','input,\x20select,\x20button,\x20a:not(.payment-option)','unshift','Error\x20al\x20obtener\x20las\x20operaciones:\x20','octubre','importLibrary','setCompanyNameTrade','drawText','places','Obteniendo\x20Items\x20y\x20Presentaciones\x20(','getFullYear','4603336GBTcRA','</h3>\x0a','port','prototype','.autocomplete-wrapper\x20input','exception','lbtom','string','startsWith','setTaxId','search','ntfIndex','Products\x20Load\x20Error:','Plan\x20Impulsa','Error\x20Network.','setItemIsSold','resolve','Obteniendo\x20Items\x20y\x20Presentaciones\x20...','appendChild','ControlPosition','readwrite','stopPropagation','multi-markers','AR0','setZoom','windowId','searchInput','setProductos','setCustomerPhone','.product[tabindex=\x270\x27]','title','{}.constructor(\x22return\x20this\x22)(\x20)','setHours','min','setBatchName','drawImage','.modal-overlay-carousel','newItems','iconUrl','setPlanName','.carousel-prev','setUserFullName','log','tagName','controller','getItem','create','btn-access-login','][setItemImages][','https://apierp.dev/api/apiPOS/update/','setCompanyLogo','layoutState','toggle','setClienteDireccion','tabs-notifications','setDescripcion','junio','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','ntf-flotante-container-bottom','producto','addEventListener','setCodeBarTypeName','https://','cartId','currency','Directions\x20request\x20failed:','https://maps.googleapis.com/maps/api/js?key=','layout','payment-option','getContext','S01','setCodProducto','selectedCode','setCredentialsApiWAChatPort','backgroundColor','number','Stock\x20Actual:\x20','loadingModal','100%','trim','DirectionsRenderer','newItems[','oncomplete','xpos','Error\x20en\x20WebSocket','toString','toPlace','setConversionFactor','Error\x20al\x20guardar\x20el\x20layout:\x20','toFixed','offline_operations','save','geolocation','lng','id_registro','Error\x20desconocido\x20al\x20actualizar\x20Data.','setTipoOperacionInvoice','latitude','setBranchDefault','].setItemImages[','height','45x','innerHTML','toDataURL','Registrar\x20movimiento','Credenciales\x20no\x20encontradas','\x20-\x20','longitude'];_0x1b1f=function(){return _0x3e4db7;};return _0x1b1f();}function generateNumericUniqId(){const _0x5c1272=_0xe31540;if(!hasLocalStorage){var _0x59f34a=Date['now']();return _0x59f34a===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x59f34a,counter_mem=0x0),_0x59f34a*0x3e8+counter_mem;}var _0x52ceff=_0x5c1272(0x32e),_0x579e25;try{var _0xaa1712=localStorage[_0x5c1272(0x2ac)](_0x52ceff);_0x579e25=_0xaa1712?JSON[_0x5c1272(0x264)](_0xaa1712):{'lastTs':0x0,'counter':0x0},(typeof _0x579e25['lastTs']!==_0x5c1272(0x2ca)||typeof _0x579e25[_0x5c1272(0x2ed)]!=='number')&&(_0x579e25={'lastTs':0x0,'counter':0x0});}catch(_0x5ceb42){_0x579e25={'lastTs':0x0,'counter':0x0};}var _0x501278=Date['now']();_0x501278===_0x579e25['lastTs']?_0x579e25[_0x5c1272(0x2ed)]=(_0x579e25['counter']+0x1)%0x3e8:(_0x579e25['lastTs']=_0x501278,_0x579e25['counter']=0x0);var _0x28c8e9=_0x501278*0x3e8+_0x579e25['counter'];try{localStorage['setItem'](_0x52ceff,JSON[_0x5c1272(0x2fd)](_0x579e25));}catch(_0x43418e){}return _0x28c8e9;}function blobAStringBase64(_0x3236c1){return new Promise((_0x3e9d34,_0x5320e2)=>{const _0x13cf2f=_0x2d15,_0x5d6da5=new FileReader();_0x5d6da5[_0x13cf2f(0x352)]=()=>{const _0x3622b1=_0x13cf2f,_0x234563=_0x5d6da5['result'],_0x207d04=_0x234563[_0x3622b1(0x316)](',');if(_0x207d04['length']!==0x2)return _0x5320e2(new Error('Formato\x20inesperado\x20en\x20base64'));_0x3e9d34(_0x207d04[0x1]);},_0x5d6da5[_0x13cf2f(0x171)]=_0x209cbd=>_0x5320e2(_0x209cbd),_0x5d6da5[_0x13cf2f(0x24e)](_0x3236c1);});}async function generarBarcodeDataURL(_0x21f749,_0x2dc8c8){return new Promise((_0x381579,_0x278095)=>{const _0x11e0c7=_0x2d15,_0x23688f=myCompany[_0x11e0c7(0x161)][_0x11e0c7(0x16b)](_0x4c49b4=>_0x4c49b4[_0x11e0c7(0x1e0)]==_0x21f749),_0x63a396=_0x23688f?_0x23688f[_0x11e0c7(0x2bc)]:_0x11e0c7(0x252),_0x42b621=document[_0x11e0c7(0x25d)]('http://www.w3.org/2000/svg',_0x11e0c7(0x321));JsBarcode(_0x42b621,_0x2dc8c8,{'format':_0x63a396,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x3df318=new XMLSerializer()[_0x11e0c7(0x1d9)](_0x42b621),_0x594a9a=btoa(_0x3df318),_0x436586='data:image/svg+xml;base64,'+_0x594a9a,_0x2624d8=new Image();_0x2624d8['onload']=()=>{const _0x5eeab6=_0x11e0c7,_0x3eaef5=document['createElement']('canvas');_0x3eaef5[_0x5eeab6(0x243)]=_0x2624d8[_0x5eeab6(0x243)],_0x3eaef5['height']=_0x2624d8[_0x5eeab6(0x2e3)];const _0x3670f5=_0x3eaef5[_0x5eeab6(0x2c4)]('2d');_0x3670f5[_0x5eeab6(0x2a2)](_0x2624d8,0x0,0x0);const _0x429595=_0x3eaef5[_0x5eeab6(0x2e6)](_0x5eeab6(0x38f));_0x381579(_0x429595);},_0x2624d8[_0x11e0c7(0x171)]=_0x4c382b=>_0x278095(_0x4c382b),_0x2624d8[_0x11e0c7(0x2fb)]=_0x436586;});}async function generarStickersPDF(_0x211a63,_0x1d4139,_0x1192bc){const _0x1b2852=_0xe31540,{PDFDocument:_0x3c5dd5,StandardFonts:_0x5d11f6,rgb:_0x1799ae}=PDFLib,_0x50e9a9=products[_0x1b2852(0x16b)](_0x58331d=>_0x58331d['id']==_0x1192bc);if(!_0x50e9a9){console[_0x1b2852(0x31c)]('Producto\x20con\x20id\x20'+_0x1192bc+'\x20no\x20encontrado\x20en\x20products.');return;}const _0x4b6ae7=_0x50e9a9[_0x1b2852(0x2b6)][_0x1b2852(0x2ce)](),_0x1722ca=document['getElementById'](_0x1b2852(0x298))[_0x1b2852(0x308)],_0x124f00=document['getElementById'](_0x1b2852(0x234)+_0x1722ca)[_0x1b2852(0x308)],_0x1c26f2=(_0x50e9a9[_0x1b2852(0x1af)]||[])[_0x1b2852(0x16b)](_0x3d7a69=>_0x3d7a69[_0x1b2852(0x2bf)]==_0x124f00)||{},_0x5a7574=_0x1c26f2['setMtoPrecioCostoUnitario']||0x0,_0x229442=getCurrencySymbol(_0x1722ca),_0x3d9e5e=Number(_0x5a7574)||0x0,_0x5895a0=_0x229442+'\x20'+_0x3d9e5e[_0x1b2852(0x2d8)](0x2),_0x2a9a93=await _0x3c5dd5[_0x1b2852(0x2ad)](),_0x489754=_0x105a5c=>_0x105a5c*2.83465,_0x5b879a=_0x489754(0x70*0x2),_0x3582a4=_0x489754(40.8),_0xccd782=_0x2a9a93[_0x1b2852(0x1b8)]([_0x5b879a,_0x3582a4]),_0x22bfa1=await _0x2a9a93['embedFont'](_0x5d11f6[_0x1b2852(0x346)]),_0x193712=Array(0x2)['fill'](_0x1d4139),_0x4b1817=0x2,_0x439d5c=0x1,_0x5388dd=0xc,_0x2b0c58=_0x5b879a/_0x4b1817,_0x1da543=_0x3582a4/_0x439d5c;for(let _0x1190df=0x0;_0x1190df<0x2;_0x1190df++){const _0x5cb163=_0x193712[_0x1190df],_0x84ab56=await generarBarcodeDataURL(_0x211a63,_0x5cb163),_0x4dd989=_0x84ab56[_0x1b2852(0x316)](',')[0x1],_0xbcdbe4=Uint8Array[_0x1b2852(0x230)](atob(_0x4dd989),_0x13439d=>_0x13439d[_0x1b2852(0x2fe)](0x0));let _0xe20580;try{_0xe20580=await _0x2a9a93[_0x1b2852(0x222)](_0xbcdbe4);}catch{_0xe20580=await _0x2a9a93[_0x1b2852(0x176)](_0xbcdbe4);}const _0x2fb5f7=0x5,_0x28bf9f=_0x5388dd+0x4,_0x12e0db=_0x5388dd*0x2+0x4,_0x3a4caf=_0x4b6ae7,_0x84c690=_0x5895a0,_0x2da4ea=_0x1190df%_0x4b1817,_0x54ba16=_0x22bfa1[_0x1b2852(0x2fc)](_0x3a4caf,_0x5388dd),_0x43938f=_0x22bfa1['widthOfTextAtSize'](_0x84c690,_0x5388dd),_0x37676f=_0x2da4ea*_0x2b0c58+(_0x2b0c58-_0x54ba16)/0x2,_0x4bc9d8=_0x2da4ea*_0x2b0c58+(_0x2b0c58-_0x43938f)/0x2,_0x41d2fa=_0x1da543-_0x2fb5f7-_0x5388dd,_0xfcdfc5=_0x41d2fa-_0x5388dd-0x2;_0xccd782[_0x1b2852(0x27b)](_0x3a4caf,{'x':_0x37676f,'y':_0x41d2fa,'size':_0x5388dd,'font':_0x22bfa1,'color':_0x1799ae(0x0,0x0,0x0)}),_0xccd782[_0x1b2852(0x27b)](_0x84c690,{'x':_0x4bc9d8,'y':_0xfcdfc5,'size':_0x5388dd,'font':_0x22bfa1,'color':_0x1799ae(0x0,0x0,0x0)});const _0x519c6b=_0x2b0c58-_0x2fb5f7*0x2,_0x15bdc4=_0x1da543-_0x2fb5f7*0x2-_0x12e0db-_0x28bf9f,_0x9ef041=_0xe20580['width'],_0x2042f9=_0xe20580['height'],_0x1c6902=Math['min'](_0x519c6b/_0x9ef041,_0x15bdc4/_0x2042f9,0x1),_0x40e810=_0xe20580[_0x1b2852(0x1e3)](_0x1c6902),_0x3909ea=_0x2da4ea*_0x2b0c58+(_0x2b0c58-_0x40e810[_0x1b2852(0x243)])/0x2,_0x5f47a9=_0xfcdfc5-_0x40e810[_0x1b2852(0x2e3)]-0x4;_0xccd782['drawImage'](_0xe20580,{'x':_0x3909ea,'y':_0x5f47a9,'width':_0x40e810[_0x1b2852(0x243)],'height':_0x40e810[_0x1b2852(0x2e3)]});const _0x3c5c87=_0x22bfa1[_0x1b2852(0x2fc)](_0x5cb163,_0x5388dd),_0x3876fd=_0x2da4ea*_0x2b0c58+(_0x2b0c58-_0x3c5c87)/0x2,_0x5741eb=_0x5f47a9-_0x5388dd-0x2;_0xccd782[_0x1b2852(0x27b)](_0x5cb163,{'x':_0x3876fd,'y':_0x5741eb,'size':_0x5388dd,'font':_0x22bfa1,'color':_0x1799ae(0x0,0x0,0x0)});}const _0x4e7ff7=await _0x2a9a93[_0x1b2852(0x2da)](),_0x51e73d=new Blob([_0x4e7ff7],{'type':_0x1b2852(0x274)}),_0x38835a=URL[_0x1b2852(0x1ff)](_0x51e73d);window[_0x1b2852(0x181)](_0x38835a);}async function sendEmail(_0x58e5f3,_0x2b6942,_0x52625b,_0x512f4e,_0x29c6a6,_0x790b4a,_0xf5939c,_0x300a60,_0x19ea52,_0x57b37e){const _0xaeaaf2=_0xe31540;if(isOnline()){const _0x2847ec={'setAuthToken':_0x58e5f3,'senderName':_0x2b6942,'senderEmail':_0x52625b,'senderPassword':_0x512f4e,'smtpHost':_0x29c6a6,'smtpPort':_0x790b4a,'emailsDestination':_0xf5939c,'subject':_0x300a60,'message':_0x19ea52,'attachFiles':_0x57b37e};try{const _0x2b17a8=await fetch(_0xaeaaf2(0x375),{'method':_0xaeaaf2(0x385),'headers':{'Content-Type':_0xaeaaf2(0x240)},'body':JSON[_0xaeaaf2(0x2fd)](_0x2847ec)}),_0x4ae760=await _0x2b17a8[_0xaeaaf2(0x382)]();if(!_0x2b17a8['ok']||!_0x4ae760['success']){console[_0xaeaaf2(0x31c)](_0xaeaaf2(0x37b),_0x4ae760),ntfShow(_0xaeaaf2(0x360));return;}}catch(_0x49727f){console['error']('Error\x20en\x20la\x20solicitud:',_0x49727f);}}}function loadLoginContent(_0x5f145f){const _0x4f3c2f=_0xe31540,_0x4ac897=document[_0x4f3c2f(0x19d)]('login');_0x4ac897['innerHTML']=_0x4f3c2f(0x1c1)+_0x5f145f+'\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.3.2\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a';}function addNumber(_0x377669){const _0x4f5303=_0xe31540;document[_0x4f5303(0x19d)](_0x4f5303(0x227))[_0x4f5303(0x308)]+=_0x377669;}function deleteNumber(){const _0x37b8b9=_0xe31540;let _0x23a423=document[_0x37b8b9(0x19d)](_0x37b8b9(0x227));_0x23a423['value']=_0x23a423[_0x37b8b9(0x308)]['slice'](0x0,-0x1);}function togglePassword(){const _0x175466=_0xe31540;let _0x8f328c=document[_0x175466(0x19d)](_0x175466(0x227));_0x8f328c['type']=_0x8f328c[_0x175466(0x273)]==_0x175466(0x227)?_0x175466(0x173):_0x175466(0x227);}function setEventBtnAccess(){const _0x4efae1=_0xe31540,_0x1bc298=document[_0x4efae1(0x19d)](_0x4efae1(0x2ae));_0x1bc298[_0x4efae1(0x1d1)]=function(){acceder();};}function isOnline(){const _0x5b5477=_0xe31540;return window[_0x5b5477(0x194)][_0x5b5477(0x356)];}function showLoadingModal(){const _0x207905=_0xe31540,_0x5cff33=document[_0x207905(0x1ab)](_0x207905(0x220));_0x5cff33['id']='loadingModal',_0x5cff33[_0x207905(0x33a)][_0x207905(0x1f4)]=_0x207905(0x39a),_0x5cff33[_0x207905(0x33a)]['top']='0',_0x5cff33[_0x207905(0x33a)]['left']='0',_0x5cff33[_0x207905(0x33a)][_0x207905(0x243)]='100%',_0x5cff33['style'][_0x207905(0x2e3)]=_0x207905(0x2cd),_0x5cff33[_0x207905(0x33a)][_0x207905(0x2c9)]=_0x207905(0x17a),_0x5cff33['style'][_0x207905(0x201)]=_0x207905(0x208),_0x5cff33['style']['justifyContent']='center',_0x5cff33[_0x207905(0x33a)]['alignItems']=_0x207905(0x24b),_0x5cff33['style']['zIndex']=_0x207905(0x1ba),_0x5cff33[_0x207905(0x33a)][_0x207905(0x15a)]='1',_0x5cff33['style']['transition']=_0x207905(0x394),_0x5cff33[_0x207905(0x2e5)]=_0x207905(0x1bf),document[_0x207905(0x33f)][_0x207905(0x291)](_0x5cff33);}function hideLoadingModal(){const _0x4fd122=_0xe31540,_0x33ffd1=document[_0x4fd122(0x19d)](_0x4fd122(0x2cc));_0x33ffd1&&(_0x33ffd1[_0x4fd122(0x33a)][_0x4fd122(0x15a)]='0',_0x33ffd1['remove']());}function cargarAlmacenes(_0x4d1f76){const _0x2784cc=_0xe31540,_0x4669ba=document[_0x2784cc(0x19d)]('setWarehouseId');_0x4669ba['innerHTML']='';const _0xc48ade=company[0x0][_0x2784cc(0x1eb)][_0x2784cc(0x16b)](_0x5c0744=>_0x5c0744[_0x2784cc(0x370)]==_0x4d1f76);_0xc48ade&&_0xc48ade[_0x2784cc(0x202)][_0x2784cc(0x36a)]>0x0&&_0xc48ade[_0x2784cc(0x202)][_0x2784cc(0x377)](_0x54f60c=>{const _0x567950=_0x2784cc;let _0x42e66d=document[_0x567950(0x1ab)](_0x567950(0x17f));_0x42e66d[_0x567950(0x308)]=_0x54f60c['setWarehouseId'],_0x42e66d['textContent']=_0x54f60c[_0x567950(0x37f)],_0x4669ba[_0x567950(0x291)](_0x42e66d);});}function getAllWarehouses(){const _0x4d5594=_0xe31540,_0x4312fe=company[0x0][_0x4d5594(0x1eb)]||[],_0x3790a3=new Map();return _0x4312fe[_0x4d5594(0x377)](_0x3bc92a=>{const _0x15ec05=_0x4d5594;(_0x3bc92a[_0x15ec05(0x202)]||[])[_0x15ec05(0x377)](_0x1425f0=>{const _0x454122=_0x15ec05;!_0x3790a3[_0x454122(0x214)](_0x1425f0[_0x454122(0x39f)])&&_0x3790a3['set'](_0x1425f0[_0x454122(0x39f)],{'setWarehouseId':_0x1425f0[_0x454122(0x39f)],'setWarehouseName':_0x1425f0[_0x454122(0x37f)]+'\x20('+_0x3bc92a[_0x454122(0x16c)]+')'});});}),Array[_0x4d5594(0x230)](_0x3790a3[_0x4d5594(0x30d)]());}function cargarPisos(_0x24d23f){const _0x488247=_0xe31540,_0x2d68c8=company[0x0][_0x488247(0x33e)][_0x488247(0x1f5)](_0x275864=>_0x275864[_0x488247(0x370)]==_0x24d23f),_0x50050b={};_0x2d68c8['forEach'](_0x25b9ca=>{const _0x3465d7=_0x488247;_0x50050b[_0x25b9ca[_0x3465d7(0x30b)]]=_0x25b9ca[_0x3465d7(0x34a)];});const _0x3ad827=document['getElementById'](_0x488247(0x30b));_0x3ad827[_0x488247(0x2e5)]='';for(const _0x4b2a21 in _0x50050b){const _0x20b9fd=document[_0x488247(0x1ab)](_0x488247(0x17f));_0x20b9fd['value']=_0x4b2a21,_0x20b9fd[_0x488247(0x366)]=_0x50050b[_0x4b2a21],_0x3ad827[_0x488247(0x291)](_0x20b9fd);}}document[_0xe31540(0x19d)]('fullscreen-btn')['addEventListener'](_0xe31540(0x1b2),()=>{const _0x4676da=_0xe31540,_0x1fd202=document['documentElement'],_0x4a7395=document[_0x4676da(0x325)]||document['webkitFullscreenElement']||document['mozFullScreenElement']||document[_0x4676da(0x21a)];if(!_0x4a7395){if(_0x1fd202['requestFullscreen'])_0x1fd202[_0x4676da(0x1b6)]();else{if(_0x1fd202[_0x4676da(0x301)])_0x1fd202[_0x4676da(0x301)]();else{if(_0x1fd202[_0x4676da(0x213)])_0x1fd202[_0x4676da(0x213)]();else _0x1fd202[_0x4676da(0x335)]&&_0x1fd202[_0x4676da(0x335)]();}}}else{if(document[_0x4676da(0x368)])document[_0x4676da(0x368)]();else{if(document[_0x4676da(0x189)])document[_0x4676da(0x189)]();else{if(document[_0x4676da(0x157)])document['mozCancelFullScreen']();else document[_0x4676da(0x156)]&&document[_0x4676da(0x156)]();}}}});function openModalDetailsAndNtf(_0x12888e,_0x528254,_0x198de9=null){const _0x14d79d=_0xe31540,_0x53700f=products['find'](_0x199f26=>_0x199f26['id']==_0x12888e),_0x41517e=_0x53700f['id'],_0x3ad522=_0x53700f[_0x14d79d(0x2c6)],_0x46adea=_0x53700f[_0x14d79d(0x2b6)],_0x56a27c=_0x53700f[_0x14d79d(0x1b3)],_0x24749b=_0x53700f[_0x14d79d(0x1a0)]?.[_0x14d79d(0x2ce)]()||_0x14d79d(0x392),_0x434cc4=Array[_0x14d79d(0x1b4)](_0x53700f['setImages'])&&_0x53700f[_0x14d79d(0x31d)][_0x14d79d(0x36a)]>0x0?_0x53700f[_0x14d79d(0x31d)]:[{'setImageUrl':_0x24749b}],_0x55b654=_0x434cc4['map'](_0x2fb8bb=>_0x2fb8bb['setImageUrl']),_0x55238d=document[_0x14d79d(0x19d)]('itemModal'),_0xb4f922=_0x55238d[_0x14d79d(0x2ee)](_0x14d79d(0x39b)),_0x4498a8=_0x55238d[_0x14d79d(0x2ee)](_0x14d79d(0x1ef)),_0x4eb075=_0x55238d[_0x14d79d(0x2ee)](_0x14d79d(0x2a3)),_0x259ef1=document['getElementById']('sectionInfoItem'),_0x4418b8=_0x55238d[_0x14d79d(0x2ee)]('.carousel-prev'),_0x2df635=_0x55238d[_0x14d79d(0x2ee)](_0x14d79d(0x247));_0xb4f922['innerHTML']='',_0x55b654[_0x14d79d(0x377)](_0x282cbc=>{const _0x51e93c=_0x14d79d,_0x161508=document[_0x51e93c(0x1ab)](_0x51e93c(0x153));_0x161508[_0x51e93c(0x2fb)]=_0x282cbc,_0x161508[_0x51e93c(0x34d)]=_0x51e93c(0x35d),_0xb4f922[_0x51e93c(0x291)](_0x161508);});let _0x30c1f3=0x0;const _0x1ba143=_0x55b654['length'];function _0x235fa2(){const _0x40ba49=_0x14d79d;_0xb4f922['style'][_0x40ba49(0x307)]='translateX(-'+_0x30c1f3*0x64+'%)';}_0x55b654[_0x14d79d(0x377)](_0x80ea86=>{const _0x354e32=new Image();_0x354e32['src']=_0x80ea86;});_0x1ba143<=0x1?(_0x4418b8[_0x14d79d(0x33a)][_0x14d79d(0x201)]=_0x14d79d(0x394),_0x2df635['style'][_0x14d79d(0x201)]=_0x14d79d(0x394)):(_0x4418b8[_0x14d79d(0x33a)][_0x14d79d(0x201)]='',_0x2df635['style'][_0x14d79d(0x201)]='');_0x30c1f3=0x0,_0x235fa2();function _0x153379(_0x386e66){const _0x55544f=_0x14d79d;_0x386e66[_0x55544f(0x294)](),_0x30c1f3=(_0x30c1f3-0x1+_0x1ba143)%_0x1ba143,_0x235fa2();}function _0x16ebdc(_0x4b5896){const _0x1f93a0=_0x14d79d;_0x4b5896[_0x1f93a0(0x294)](),_0x30c1f3=(_0x30c1f3+0x1)%_0x1ba143,_0x235fa2();}_0x4418b8['replaceWith'](_0x4418b8[_0x14d79d(0x268)](!![])),_0x2df635['replaceWith'](_0x2df635['cloneNode'](!![]));const _0x2152e1=_0x55238d[_0x14d79d(0x2ee)](_0x14d79d(0x2a7)),_0x590f24=_0x55238d[_0x14d79d(0x2ee)]('.carousel-next');_0x2152e1[_0x14d79d(0x2bb)](_0x14d79d(0x1b2),_0x153379),_0x590f24['addEventListener'](_0x14d79d(0x1b2),_0x16ebdc),_0x4498a8[_0x14d79d(0x2bb)]('click',_0x1d3dd8=>{const _0x140970=_0x14d79d;_0x1d3dd8['stopPropagation'](),_0x55238d[_0x140970(0x33a)][_0x140970(0x201)]='none';}),_0x4eb075[_0x14d79d(0x2bb)](_0x14d79d(0x1b2),()=>{const _0x11f88c=_0x14d79d;_0x55238d[_0x11f88c(0x33a)]['display']=_0x11f88c(0x394);}),_0x55238d[_0x14d79d(0x33a)][_0x14d79d(0x201)]=_0x14d79d(0x208),_0x259ef1[_0x14d79d(0x2e5)]=_0x14d79d(0x369)+_0x3ad522+_0x14d79d(0x2e9)+_0x46adea+_0x14d79d(0x280);const _0x287f6c=document['createElement'](_0x14d79d(0x388));_0x287f6c[_0x14d79d(0x162)]=_0x14d79d(0x32a);const _0x11cbf5=document[_0x14d79d(0x1ab)](_0x14d79d(0x17f));_0x11cbf5[_0x14d79d(0x308)]='0',_0x11cbf5[_0x14d79d(0x366)]='Imprimir\x20Código\x20de\x20Barras',_0x287f6c[_0x14d79d(0x291)](_0x11cbf5),myCompany['setCodeBarTypes'][_0x14d79d(0x377)](_0x34ee4f=>{const _0x17c251=_0x14d79d,_0x31daf5=document['createElement'](_0x17c251(0x17f));_0x31daf5[_0x17c251(0x308)]=String(_0x34ee4f[_0x17c251(0x1e0)]),_0x31daf5['textContent']=_0x34ee4f[_0x17c251(0x2bc)],_0x287f6c[_0x17c251(0x291)](_0x31daf5);}),_0x287f6c[_0x14d79d(0x2bb)](_0x14d79d(0x30a),function(){const _0x39ce1f=_0x14d79d,_0x340bfb=parseInt(this[_0x39ce1f(0x308)],0xa);if(_0x340bfb===0x0)return;typeof _0x56a27c===_0x39ce1f(0x286)&&_0x56a27c['trim']()[_0x39ce1f(0x36a)]>=0x1?generarStickersPDF(_0x340bfb,_0x56a27c[_0x39ce1f(0x2ce)](),_0x12888e):(ntfShow(_0x39ce1f(0x203),0x2,0x2),this[_0x39ce1f(0x308)]='0');}),_0x259ef1['appendChild'](_0x287f6c);var _0x538091=document[_0x14d79d(0x1ab)](_0x14d79d(0x2f7));_0x538091['type']=_0x14d79d(0x2f7),_0x538091['className']=_0x14d79d(0x1e7),_0x538091[_0x14d79d(0x366)]='Agregar\x20Variantes',_0x538091['addEventListener'](_0x14d79d(0x1b2),function(){const _0x3f6753=_0x14d79d,_0x1ac111=document[_0x3f6753(0x19d)](_0x3f6753(0x1d0));_0x1ac111['style'][_0x3f6753(0x201)]=_0x3f6753(0x394),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x41517e),initializeFormInputsBasic(_0x41517e),initializeFormTax(_0x41517e),initializeFormCategoriesBrands(_0x41517e);}),_0x259ef1[_0x14d79d(0x291)](_0x538091);if(_0x198de9!=null){_0x259ef1['insertAdjacentHTML'](_0x14d79d(0x36b),'\x0a<h3>'+_0x198de9[_0x14d79d(0x29d)]+_0x14d79d(0x265)+_0x198de9['message']+'</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a');var _0x548754=document[_0x14d79d(0x19d)](_0x14d79d(0x190));_0x198de9[_0x14d79d(0x273)]===0x1&&[_0x14d79d(0x226),_0x14d79d(0x2e7),_0x14d79d(0x21f)][_0x14d79d(0x377)](function(_0x150312){const _0x21a5ca=_0x14d79d;var _0x36f882=document['createElement']('button');_0x36f882[_0x21a5ca(0x366)]=_0x150312,_0x36f882['addEventListener'](_0x21a5ca(0x1b2),function(){const _0xc6a39e=_0x21a5ca;console[_0xc6a39e(0x2a9)](_0xc6a39e(0x34e)+_0x150312+_0xc6a39e(0x205)+_0x198de9[_0xc6a39e(0x2dd)]);}),_0x548754[_0x21a5ca(0x291)](_0x36f882);}),_0x198de9['type']===0x2&&[_0x14d79d(0x365),'Eliminar\x20producto'][_0x14d79d(0x377)](function(_0x3ef9c7){const _0x282956=_0x14d79d;var _0x1ee1ce=document[_0x282956(0x1ab)](_0x282956(0x2f7));_0x1ee1ce[_0x282956(0x366)]=_0x3ef9c7,_0x1ee1ce[_0x282956(0x2bb)](_0x282956(0x1b2),function(){const _0x586507=_0x282956;console[_0x586507(0x2a9)](_0x586507(0x34e)+_0x3ef9c7+_0x586507(0x205)+_0x198de9[_0x586507(0x2dd)]);}),_0x548754[_0x282956(0x291)](_0x1ee1ce);});}}function ntf_formatDateDMY(_0x46053e){const _0x4d8732=_0xe31540;var _0xf00544=new Date(_0x46053e),_0x85c3b0=_0xf00544[_0x4d8732(0x314)](),_0xdf6953=_0xf00544[_0x4d8732(0x27e)](),_0x131ce2=monthsEspanish[_0xf00544[_0x4d8732(0x357)]()];return _0x85c3b0+'\x20de\x20'+_0x131ce2+_0x4d8732(0x3a0)+_0xdf6953;}function ntf_groupBy(_0x85e471,_0x31c256){const _0x2d5aee=_0xe31540;return _0x85e471[_0x2d5aee(0x23e)](function(_0x36051f,_0x3070af){var _0x1ebc44=_0x3070af[_0x31c256];return _0x36051f[_0x1ebc44]=_0x36051f[_0x1ebc44]||[],_0x36051f[_0x1ebc44]['push'](_0x3070af),_0x36051f;},{});}function ntf_isExpired(_0x566836){const _0x24c1ae=_0xe31540;if(!_0x566836)return![];var _0x4d362e=new Date();return _0x4d362e[_0x24c1ae(0x29f)](0x0,0x0,0x0,0x0),new Date(_0x566836)<=_0x4d362e;}function ntf_getNotifications(){const _0x2d0fe3=_0xe31540;var _0x1962db=parseInt(document['getElementById'](_0x2d0fe3(0x39f))[_0x2d0fe3(0x308)],0xa),_0x279318=ntf_groupBy(products,_0x2d0fe3(0x1ec)),_0x18ef9f=[];return Object[_0x2d0fe3(0x320)](_0x279318)[_0x2d0fe3(0x377)](function(_0x5ed8be){const _0x4eaf69=_0x2d0fe3;var _0x1abe4b=_0x279318[_0x5ed8be],_0x4d4d88=_0x1abe4b[0x0],_0x21b7f8=(_0x4d4d88[_0x4eaf69(0x315)]||[])[_0x4eaf69(0x16b)](function(_0x4fd032){const _0x4977a6=_0x4eaf69;return _0x4fd032[_0x4977a6(0x1d4)]==_0x1962db;});if(!_0x21b7f8)return;var _0x16594c=parseFloat(_0x21b7f8['setSucursalStock']),_0x25a953=parseFloat(_0x21b7f8['setWarehouseStockMin']);_0x4d4d88[_0x4eaf69(0x331)]==0x1&&_0x16594c<=_0x25a953&&_0x18ef9f['push']({'type':0x1,'id_registro':_0x4d4d88['id'],'title':_0x4eaf69(0x259)+_0x4d4d88[_0x4eaf69(0x2b6)],'message':'\x0aEl\x20producto\x20\x22'+_0x4d4d88[_0x4eaf69(0x2b6)]+_0x4eaf69(0x15e)+_0x25a953['toFixed'](0x3)+'<br>\x0aStock\x20Actual:\x20'+_0x16594c[_0x4eaf69(0x2d8)](0x3)+'\x0a','data':{'producto':_0x4d4d88,'stock':_0x16594c,'minStock':_0x25a953}}),_0x4d4d88[_0x4eaf69(0x225)]&&ntf_isExpired(_0x4d4d88[_0x4eaf69(0x225)])&&_0x18ef9f[_0x4eaf69(0x305)]({'type':0x2,'id_registro':_0x4d4d88['id'],'title':'Producto\x20vencido:\x20'+_0x4d4d88[_0x4eaf69(0x2b6)],'message':_0x4eaf69(0x311)+_0x4d4d88['setDescripcion']+_0x4eaf69(0x380)+ntf_formatDateDMY(_0x4d4d88[_0x4eaf69(0x225)])+_0x4eaf69(0x1ca)+_0x4eaf69(0x2cb)+_0x16594c[_0x4eaf69(0x2d8)](0x3),'data':{'producto':_0x4d4d88,'expiration':_0x4d4d88[_0x4eaf69(0x225)]}});}),_0x18ef9f;}function ntf_renderNotifications(){const _0x2731c2=_0xe31540;var _0xa3beef=ntf_getNotifications(),_0xbb82b8=document['getElementById'](_0x2731c2(0x167)),_0x471743=document[_0x2731c2(0x19d)]('ntf-notif-count');_0xbb82b8[_0x2731c2(0x2e5)]='',_0x471743[_0x2731c2(0x366)]=_0xa3beef[_0x2731c2(0x36a)];if(_0xa3beef[_0x2731c2(0x36a)]===0x0){var _0x57ceb5=document[_0x2731c2(0x1ab)]('li');_0x57ceb5['textContent']=_0x2731c2(0x38d),_0xbb82b8['appendChild'](_0x57ceb5);return;}_0xa3beef[_0x2731c2(0x377)](function(_0x4ae787,_0x485260){const _0x3d3096=_0x2731c2;var _0x2882e2=document['createElement']('li');_0x2882e2[_0x3d3096(0x366)]=_0x4ae787[_0x3d3096(0x29d)],_0x2882e2['setAttribute']('data-ntf-index',_0x485260),_0xbb82b8[_0x3d3096(0x291)](_0x2882e2);});}document[_0xe31540(0x19d)](_0xe31540(0x2b5))['addEventListener']('click',function(){const _0x27906e=_0xe31540;document['getElementById'](_0x27906e(0x16e))[_0x27906e(0x350)][_0x27906e(0x2b3)](_0x27906e(0x198)),ntf_renderNotifications();}),document[_0xe31540(0x19d)](_0xe31540(0x167))[_0xe31540(0x2bb)]('click',function(_0x26a712){const _0x20bf26=_0xe31540,_0x59d9d8=_0x26a712['target'][_0x20bf26(0x1db)]('li');if(!_0x59d9d8||!_0x59d9d8[_0x20bf26(0x255)][_0x20bf26(0x28a)])return;const _0x1fcfa6=ntf_getNotifications()[_0x59d9d8[_0x20bf26(0x255)]['ntfIndex']];document[_0x20bf26(0x19d)](_0x20bf26(0x2b5))['click'](),openModalDetailsAndNtf(_0x1fcfa6['data'][_0x20bf26(0x2ba)]['id'],_0x1fcfa6[_0x20bf26(0x273)],_0x1fcfa6);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x52e029,_0x4192b5=0x3,_0x29334c=0x1){const _0x231183=_0xe31540,_0x31329e=document[_0x231183(0x19d)](_0x231183(0x16d)),_0x3807e9=document[_0x231183(0x1ab)](_0x231183(0x220));let _0x24784f;if(_0x4192b5==0x1)_0x24784f='ntf-flotante-green';else _0x4192b5==0x2?_0x24784f=_0x231183(0x396):_0x24784f=_0x231183(0x1cf);let _0x236f8a;_0x29334c==0x1?(_0x236f8a=_0x231183(0x1c7),_0x31329e['classList']['add']('ntf-flotante-container-top'),_0x31329e[_0x231183(0x350)][_0x231183(0x1b9)](_0x231183(0x2b9))):(_0x236f8a=_0x231183(0x340),_0x31329e[_0x231183(0x350)]['add'](_0x231183(0x2b9)),_0x31329e[_0x231183(0x350)]['remove']('ntf-flotante-container-top')),_0x3807e9['className']='ntf-flotante-message\x20'+_0x24784f+'\x20'+_0x236f8a,_0x3807e9[_0x231183(0x366)]=_0x52e029,_0x31329e['appendChild'](_0x3807e9),_0x3807e9[_0x231183(0x2bb)](_0x231183(0x26d),()=>{const _0x1f5ba1=_0x231183;_0x3807e9[_0x1f5ba1(0x1b9)]();});}function openDatabase(){const _0x3b4de4=_0xe31540;if(db)return Promise[_0x3b4de4(0x28f)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5e7da4,_0x580da0)=>{const _0x4a4905=_0x3b4de4,_0x397838=indexedDB[_0x4a4905(0x181)](db_name);_0x397838[_0x4a4905(0x21e)]=function(_0x18f991){const _0x2eed14=_0x4a4905;db=_0x18f991[_0x2eed14(0x217)][_0x2eed14(0x34b)],console[_0x2eed14(0x2a9)]('Base\x20de\x20datos\x20creada\x20o\x20actualizada.');},_0x397838[_0x4a4905(0x381)]=function(_0xa56580){const _0x222a4f=_0x4a4905;db=_0xa56580[_0x222a4f(0x217)][_0x222a4f(0x34b)],console[_0x222a4f(0x2a9)](_0x222a4f(0x1e5)),_0x5e7da4(db),dbPromise=null;},_0x397838[_0x4a4905(0x171)]=function(_0x4bee4b){const _0x23dce3=_0x4a4905;console[_0x23dce3(0x31c)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x4bee4b['target'][_0x23dce3(0x31c)]),_0x580da0(_0x4bee4b[_0x23dce3(0x217)][_0x23dce3(0x31c)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x271c5b,_0x26b1b4=![]){const _0x12378e=_0xe31540;if(dbOperationInProgress)return Promise[_0x12378e(0x1e6)](_0x12378e(0x2f2));return dbOperationInProgress=!![],openDatabase()[_0x12378e(0x263)](_0x55ff90=>{const _0x44dfcd=_0x12378e,_0x37d81d=_0x44dfcd(0x32b),_0x1f2141=_0x44dfcd(0x166),_0x3e889f='offline_operations',_0x2bc39f=_0x44dfcd(0x2b2),_0x1ecedf=_0x271c5b?_0x44dfcd(0x250)+_0x271c5b:null,_0x44479d=_0x271c5b?_0x44dfcd(0x1b5)+_0x271c5b:null,_0x40c4e4=_0x26b1b4||!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x37d81d)||!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x1f2141)||!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x3e889f)||!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x2bc39f)||_0x271c5b&&(!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x1ecedf)||!_0x55ff90[_0x44dfcd(0x229)][_0x44dfcd(0x1a9)](_0x44479d));if(!_0x40c4e4)return dbOperationInProgress=![],Promise['resolve'](_0x55ff90);const _0x1627f6=_0x55ff90['version']+0x1;return _0x55ff90[_0x44dfcd(0x33d)](),new Promise((_0xc1b4f5,_0x22b12)=>{const _0x1162fd=_0x44dfcd,_0x211c67=indexedDB[_0x1162fd(0x181)](db_name,_0x1627f6);_0x211c67['onupgradeneeded']=function(_0x25361b){const _0x2fe9e0=_0x1162fd;db=_0x25361b[_0x2fe9e0(0x217)][_0x2fe9e0(0x34b)];if(_0x26b1b4)Array[_0x2fe9e0(0x230)](db[_0x2fe9e0(0x229)])[_0x2fe9e0(0x377)](_0x1472b8=>{const _0x52ce1f=_0x2fe9e0;_0x1472b8!==_0x3e889f&&(db[_0x52ce1f(0x244)](_0x1472b8),console[_0x52ce1f(0x2a9)]('ObjectStore\x20\x27'+_0x1472b8+_0x52ce1f(0x188)));}),console['log'](_0x2fe9e0(0x2b8));else{!db['objectStoreNames'][_0x2fe9e0(0x1a9)](_0x37d81d)&&(db[_0x2fe9e0(0x358)](_0x37d81d,{'keyPath':'id'}),console[_0x2fe9e0(0x2a9)](_0x2fe9e0(0x248)+_0x37d81d+_0x2fe9e0(0x25b)));!db[_0x2fe9e0(0x229)][_0x2fe9e0(0x1a9)](_0x1f2141)&&(db[_0x2fe9e0(0x358)](_0x1f2141,{'keyPath':'id','autoIncrement':!![]}),console[_0x2fe9e0(0x2a9)]('ObjectStore\x20\x27'+_0x1f2141+_0x2fe9e0(0x25b)));!db[_0x2fe9e0(0x229)][_0x2fe9e0(0x1a9)](_0x3e889f)&&(db[_0x2fe9e0(0x358)](_0x3e889f,{'keyPath':'id','autoIncrement':!![]}),console[_0x2fe9e0(0x2a9)]('ObjectStore\x20\x27'+_0x3e889f+'\x27\x20creado\x20correctamente.'));!db['objectStoreNames'][_0x2fe9e0(0x1a9)](_0x2bc39f)&&(db[_0x2fe9e0(0x358)](_0x2bc39f,{'keyPath':'id'}),console[_0x2fe9e0(0x2a9)]('ObjectStore\x20\x27'+_0x2bc39f+_0x2fe9e0(0x25b)));if(_0x271c5b){if(!db[_0x2fe9e0(0x229)]['contains'](_0x1ecedf)){const _0xb407c7=db[_0x2fe9e0(0x358)](_0x1ecedf,{'keyPath':'id','autoIncrement':!![]});_0xb407c7[_0x2fe9e0(0x30c)](_0x2fe9e0(0x2be),_0x2fe9e0(0x2be),{'unique':!![]}),console[_0x2fe9e0(0x2a9)]('ObjectStore\x20\x27'+_0x1ecedf+'\x27\x20creado\x20correctamente.');}!db[_0x2fe9e0(0x229)][_0x2fe9e0(0x1a9)](_0x44479d)&&(db[_0x2fe9e0(0x358)](_0x44479d,{'keyPath':'id','autoIncrement':!![]}),console[_0x2fe9e0(0x2a9)](_0x2fe9e0(0x248)+_0x44479d+_0x2fe9e0(0x25b)));}}},_0x211c67['onsuccess']=function(_0x5840f0){const _0x577b2a=_0x1162fd;db=_0x5840f0[_0x577b2a(0x217)][_0x577b2a(0x34b)],dbOperationInProgress=![],console['log'](_0x577b2a(0x15c)),_0xc1b4f5(db);},_0x211c67[_0x1162fd(0x171)]=function(_0x8fcbd2){const _0x3829e9=_0x1162fd;console[_0x3829e9(0x31c)](_0x3829e9(0x231),_0x8fcbd2[_0x3829e9(0x217)][_0x3829e9(0x31c)]),dbOperationInProgress=![],_0x22b12(_0x8fcbd2[_0x3829e9(0x217)][_0x3829e9(0x31c)]);};});})[_0x12378e(0x390)](_0x2c1aaf=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0x12378e(0x1c0)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x535824=_0xe31540;if(!isOnline())return Promise[_0x535824(0x28f)]();try{const _0x53c720=await createCartStore(''),_0x109ebd=_0x53c720[_0x535824(0x2eb)](_0x535824(0x2d9),_0x535824(0x378)),_0x5ca84e=_0x109ebd[_0x535824(0x322)](_0x535824(0x2d9)),_0x172862=await new Promise((_0x20578c,_0x583e02)=>{const _0x1f5f7e=_0x535824,_0x468fde=_0x5ca84e[_0x1f5f7e(0x270)]();_0x468fde['onsuccess']=()=>_0x20578c(_0x468fde[_0x1f5f7e(0x34b)]),_0x468fde[_0x1f5f7e(0x171)]=()=>_0x583e02(new Error(_0x1f5f7e(0x277)+_0x468fde[_0x1f5f7e(0x31c)]));}),_0x3d3369=_0x172862[_0x535824(0x1f5)](_0xdb40ed=>_0xdb40ed[_0x535824(0x383)]==0x1);if(_0x3d3369['length']===0x0){console[_0x535824(0x2a9)](_0x535824(0x1ce));return;}const _0x139df9=_0x3d3369[_0x535824(0x1f5)](_0x1bd953=>_0x1bd953[_0x535824(0x1e8)]==0x64),_0xcd054a=_0x3d3369[_0x535824(0x1f5)](_0x4e45db=>_0x4e45db[_0x535824(0x1e8)]!=0x64),_0x430d13=_0x1bf5f4=>_0x1bf5f4[_0x535824(0x19a)]((_0x541041,_0x32db31)=>{const _0x20e783=_0x535824,_0x560203=[0x1,0x2,0x3],_0xd572b5=_0x3b745b=>Array[_0x20e783(0x1b4)](_0x3b745b['newItems'])&&_0x3b745b[_0x20e783(0x2a4)][_0x20e783(0x199)](_0x4f7b3c=>_0x560203[_0x20e783(0x333)](_0x4f7b3c[_0x20e783(0x38a)])),_0x5e1e84=_0xd572b5(_0x541041),_0x122b98=_0xd572b5(_0x32db31);if(_0x5e1e84&&!_0x122b98)return-0x1;if(!_0x5e1e84&&_0x122b98)return 0x1;const _0x3bcdfd=Math[_0x20e783(0x2a0)](..._0x541041[_0x20e783(0x2a4)][_0x20e783(0x398)](_0x48f862=>_0x48f862[_0x20e783(0x38a)])),_0x57b49b=Math[_0x20e783(0x2a0)](..._0x32db31['newItems']['map'](_0x18d9a5=>_0x18d9a5['setItemType']));return _0x3bcdfd-_0x57b49b;}),_0x58541f=_0x139df9[_0x535824(0x1f5)](_0x127645=>Array[_0x535824(0x1b4)](_0x127645[_0x535824(0x2a4)])&&_0x127645[_0x535824(0x2a4)][_0x535824(0x329)](_0x17234d=>!_0x17234d[_0x535824(0x23a)])),_0x315005=_0x139df9['filter'](_0x38dd3c=>Array['isArray'](_0x38dd3c[_0x535824(0x2a4)])&&_0x38dd3c[_0x535824(0x2a4)][_0x535824(0x329)](_0x3ce977=>_0x3ce977[_0x535824(0x23a)]));_0x430d13(_0x58541f),_0x430d13(_0x315005);const _0x47ea63=[..._0x58541f,..._0x315005];function _0x47255f(_0x5cb369,_0xee29a0){return new Promise((_0x4a4576,_0x229536)=>{const _0x4a9da4=_0x2d15,_0x313c35=_0x5cb369[_0x4a9da4(0x2eb)](_0x4a9da4(0x2d9),'readwrite'),_0x23fe69=_0x313c35[_0x4a9da4(0x322)](_0x4a9da4(0x2d9)),_0x4c3852=_0x23fe69[_0x4a9da4(0x209)](_0xee29a0);_0x4c3852[_0x4a9da4(0x381)]=()=>_0x4a4576(),_0x4c3852[_0x4a9da4(0x171)]=_0x198b25=>_0x229536(new Error(_0x4a9da4(0x159)+_0x198b25['target']['error']));});}async function _0x3ae357(_0x4831d8){const _0x211058=_0x535824;for(const _0x484fc2 of _0x4831d8){_0x484fc2[_0x211058(0x1e8)]===0x64&&Array[_0x211058(0x1b4)](_0x484fc2[_0x211058(0x2a4)])&&_0x484fc2['newItems'][_0x211058(0x19a)]((_0x1cc5f0,_0x35015e)=>{const _0x22e77b=_0x211058,_0x3ca5e3=[0x1,0x2,0x3],_0x56d59a=_0x3ca5e3['includes'](_0x1cc5f0[_0x22e77b(0x38a)]),_0x33d3c4=_0x3ca5e3[_0x22e77b(0x333)](_0x35015e[_0x22e77b(0x38a)]);if(_0x56d59a&&!_0x33d3c4)return-0x1;if(!_0x56d59a&&_0x33d3c4)return 0x1;return _0x1cc5f0['setItemType']-_0x35015e[_0x22e77b(0x38a)];});const _0x24dd19=new FormData();_0x24dd19[_0x211058(0x379)]('invoice',JSON['stringify'](_0x484fc2));if(_0x484fc2['pdfBlob']instanceof Blob&&_0x484fc2[_0x211058(0x23c)][_0x211058(0x2f4)]>0x0)_0x24dd19['append'](_0x211058(0x23c),_0x484fc2['pdfBlob'],_0x211058(0x18e));else _0x484fc2[_0x211058(0x23c)]&&console[_0x211058(0x187)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x484fc2['setTipoOperacion']==0x64&&Array[_0x211058(0x1b4)](_0x484fc2[_0x211058(0x2a4)])&&_0x484fc2[_0x211058(0x2a4)][_0x211058(0x377)]((_0x512426,_0x474b40)=>{const _0x320913=_0x211058;Array[_0x320913(0x1b4)](_0x512426['setItemImages'])&&_0x512426['setItemImages'][_0x320913(0x377)]((_0x2cad0d,_0x2d6902)=>{const _0x139ccd=_0x320913;_0x2cad0d instanceof Blob&&_0x2cad0d[_0x139ccd(0x2f4)]>0x0?_0x24dd19[_0x139ccd(0x379)](_0x139ccd(0x2d0)+_0x474b40+_0x139ccd(0x2af)+_0x2d6902+']',_0x2cad0d,_0x2cad0d[_0x139ccd(0x17e)]):console[_0x139ccd(0x187)]('Imagen\x20inválida\x20en\x20newItems['+_0x474b40+_0x139ccd(0x2e2)+_0x2d6902+_0x139ccd(0x341));});});try{const _0x4e3d48=await fetch(_0x484fc2[_0x211058(0x233)],{'method':_0x211058(0x385),'body':_0x24dd19});if(!_0x4e3d48['ok'])throw new Error(_0x211058(0x1f7)+_0x4e3d48[_0x211058(0x386)]+'\x20–\x20'+_0x4e3d48[_0x211058(0x180)]);const _0x19b5e6=await _0x4e3d48[_0x211058(0x382)]();!_0x19b5e6['success']?_0x484fc2[_0x211058(0x26c)]=_0x19b5e6['message']||'Error\x20desconocido.':(_0x484fc2[_0x211058(0x383)]=0x0,delete _0x484fc2['setMessage']);}catch(_0x517003){console[_0x211058(0x31c)](_0x211058(0x260),_0x517003),_0x484fc2[_0x211058(0x26c)]=_0x517003[_0x211058(0x330)];}await _0x47255f(_0x53c720,_0x484fc2),_0x484fc2[_0x211058(0x1e8)]==0x64&&_0x484fc2[_0x211058(0x383)]==0x0&&await new Promise((_0x1b5c58,_0x4b6f14)=>{const _0xa24d85=_0x211058,_0x198264=_0x53c720[_0xa24d85(0x2eb)](_0xa24d85(0x2d9),'readwrite'),_0xa03a6=_0x198264['objectStore'](_0xa24d85(0x2d9)),_0x47fef1=_0xa03a6[_0xa24d85(0x1c6)](_0x484fc2['id']);_0x47fef1[_0xa24d85(0x381)]=()=>_0x1b5c58(),_0x47fef1['onerror']=_0x3fe842=>_0x4b6f14(new Error(_0xa24d85(0x359)+_0x3fe842[_0xa24d85(0x217)][_0xa24d85(0x31c)]));});}}_0x47ea63[_0x535824(0x36a)]&&(console[_0x535824(0x2a9)](_0x535824(0x362)+_0x47ea63[_0x535824(0x36a)]+'\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...'),await _0x3ae357(_0x47ea63)),_0xcd054a['length']&&(console[_0x535824(0x2a9)](_0x535824(0x362)+_0xcd054a[_0x535824(0x36a)]+_0x535824(0x251)),await _0x3ae357(_0xcd054a)),console[_0x535824(0x2a9)](_0x535824(0x216));}catch(_0x5bfd1e){console[_0x535824(0x31c)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x5bfd1e);}}function apiERPsaveOnline(_0x4ed6a5,_0x527663,_0xc40c35,_0x37c73e,_0x2fe940){const _0x4c296f=_0xe31540;if(!isOnline())return console[_0x4c296f(0x2a9)](_0x4c296f(0x28d)),Promise[_0x4c296f(0x1e6)](_0x4c296f(0x28d));const _0x104b5e={'setAuthToken':_0x4ed6a5,'setBranches':_0x527663,'setUsers':_0xc40c35,'setSeries':_0x37c73e,'setPrinters':_0x2fe940};return fetch(_0x4c296f(0x2b0),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4c296f(0x2fd)](_0x104b5e)})[_0x4c296f(0x263)](_0xde5afd=>{const _0x237c83=_0x4c296f;if(!_0xde5afd['ok'])throw new Error(_0x237c83(0x2d7)+_0xde5afd[_0x237c83(0x180)]);return _0xde5afd[_0x237c83(0x382)]();})[_0x4c296f(0x263)](_0x223c18=>{const _0x1b9d54=_0x4c296f;if(!_0x223c18[_0x1b9d54(0x177)])throw new Error(_0x223c18[_0x1b9d54(0x330)]||_0x1b9d54(0x2de));return console['log'](_0x1b9d54(0x19f)),_0x223c18;})[_0x4c296f(0x390)](_0x424e1c=>{const _0x3a0b64=_0x4c296f;console[_0x3a0b64(0x31c)]('Error\x20al\x20actualizar\x20data\x20online:',_0x424e1c);throw _0x424e1c;});}async function acceder(){const _0x4d43af=_0xe31540;if(!isOnline()){alert('Solo\x20necesitas\x20internet\x20para\x20acceder!');throw new Error(_0x4d43af(0x24a));}const _0x47d977=document[_0x4d43af(0x19d)](_0x4d43af(0x2ae)),_0x100fef=document[_0x4d43af(0x19d)](_0x4d43af(0x364))['value'],_0x77acde=document[_0x4d43af(0x19d)](_0x4d43af(0x227))[_0x4d43af(0x308)];_0x47d977[_0x4d43af(0x221)]=!![];if(!_0x100fef||!_0x77acde){alert(_0x4d43af(0x215)),_0x47d977['disabled']=![];return;}console[_0x4d43af(0x2a9)](_0x4d43af(0x191)),showLoadingModal();const _0x3502c7={'usuario':_0x100fef,'password':_0x77acde},_0x4aeebe=document[_0x4d43af(0x19d)](_0x4d43af(0x1bc));try{_0x4aeebe['innerHTML']=_0x4d43af(0x235);const _0x5beed8=await fetch(_0x4d43af(0x1a4),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x4d43af(0x2fd)](_0x3502c7)}),_0x59cd67=await _0x5beed8['json']();if(!(_0x59cd67[_0x4d43af(0x177)]&&Array['isArray'](_0x59cd67['message']))){alert(_0x59cd67[_0x4d43af(0x330)]),_0x47d977[_0x4d43af(0x221)]=![],hideLoadingModal();throw new Error(_0x59cd67[_0x4d43af(0x330)]);}const _0x3d0285=_0x59cd67[_0x4d43af(0x330)],{setApiEndPoint:_0xdc87f5,setAuthToken:_0x3536dd,setUser_Local:_0x30eac2}=_0x3d0285[0x0];_0x4aeebe[_0x4d43af(0x2e5)]='Inicio\x20de\x20sesión\x20exitoso\x20...',await new Promise(_0x162877=>setTimeout(_0x162877,0x3e8)),_0x4aeebe['innerHTML']='Obteniendo\x20datos\x20...';const _0x2e7892={'apiPOS_getAccessData':0x1,'setToken':_0x3536dd,'setUserLocalUserName':_0x30eac2[_0x4d43af(0x1c8)]},_0x22716b=await fetch(_0xdc87f5,{'method':_0x4d43af(0x385),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x4d43af(0x2fd)](_0x2e7892)}),_0x6c025a=await _0x22716b[_0x4d43af(0x382)]();if(!(_0x6c025a[_0x4d43af(0x177)]===!![])){_0x4aeebe[_0x4d43af(0x2e5)]=_0x4d43af(0x15d)+_0x6c025a[_0x4d43af(0x330)]+_0x4d43af(0x267),setTimeout(()=>location['reload'](),0x1388);return;}_0x3d0285[0x0][_0x4d43af(0x2b1)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x2b1)],_0x3d0285[0x0][_0x4d43af(0x197)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x197)],_0x3d0285[0x0][_0x4d43af(0x2f5)]=_0x6c025a['message'][_0x4d43af(0x2f5)],_0x3d0285[0x0][_0x4d43af(0x27a)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x27a)],_0x3d0285[0x0]['setCompanyAddress']=_0x6c025a[_0x4d43af(0x330)]['setCompanyAddress'],_0x3d0285[0x0][_0x4d43af(0x200)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x200)],_0x3d0285[0x0][_0x4d43af(0x1ad)]=_0x6c025a[_0x4d43af(0x330)]['setCompanyEmail'],_0x3d0285[0x0][_0x4d43af(0x1d8)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x1d8)],_0x3d0285[0x0]['setBranches']=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x1eb)],_0x3d0285[0x0][_0x4d43af(0x1cc)]=_0x6c025a['message']['setUsuarios'],_0x3d0285[0x0][_0x4d43af(0x269)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x269)],_0x3d0285[0x0][_0x4d43af(0x258)]=_0x6c025a[_0x4d43af(0x330)]['setPrinters'],_0x3d0285[0x0][_0x4d43af(0x30f)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x30f)],_0x3d0285[0x0][_0x4d43af(0x256)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x256)],_0x3d0285[0x0][_0x4d43af(0x2f0)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x2f0)],_0x3d0285[0x0]['setSuppliers']=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x24f)],_0x3d0285[0x0][_0x4d43af(0x246)]=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x246)],_0x3d0285[0x0]['setCollaborators']=_0x6c025a[_0x4d43af(0x330)][_0x4d43af(0x1f1)],_0x4aeebe[_0x4d43af(0x2e5)]=_0x4d43af(0x336),await new Promise(_0x21f3c4=>setTimeout(_0x21f3c4,0x3e8)),_0x4aeebe[_0x4d43af(0x2e5)]=_0x4d43af(0x290);async function _0x8b0ae(_0x53147d,_0x24fa15,_0xb28270){const _0x5d82f0=_0x4d43af,_0xdb11e8=0x3e8;let _0x172245=0x0,_0xc121a5=[];while(!![]){_0x4aeebe[_0x5d82f0(0x2e5)]=_0x5d82f0(0x27d)+_0x172245+_0x5d82f0(0x1ea);const _0x1c3075={'apiPOS_getItems':0x1,'setToken':_0x24fa15,'setUserLocalUserName':_0xb28270,'limit':_0xdb11e8,'offset':_0x172245},_0x26230a=await fetch(_0x53147d,{'method':'POST','headers':{'Content-Type':_0x5d82f0(0x240)},'body':JSON[_0x5d82f0(0x2fd)](_0x1c3075)}),_0x284cc8=await _0x26230a[_0x5d82f0(0x382)]();if(!_0x284cc8[_0x5d82f0(0x177)]||!Array['isArray'](_0x284cc8['message'][_0x5d82f0(0x29a)]))throw new Error(_0x284cc8[_0x5d82f0(0x330)]||'Error\x20al\x20obtener\x20items');const _0x5ec445=_0x284cc8[_0x5d82f0(0x330)][_0x5d82f0(0x29a)];_0xc121a5=_0xc121a5[_0x5d82f0(0x1dc)](_0x5ec445),_0x4aeebe['innerHTML']=_0x5d82f0(0x27d)+_0xc121a5[_0x5d82f0(0x36a)]+'\x20de\x20≥'+_0xdb11e8+_0x5d82f0(0x1bb);if(_0x5ec445[_0x5d82f0(0x36a)]<_0xdb11e8)break;_0x172245+=_0xdb11e8,await new Promise(_0x382d89=>setTimeout(_0x382d89,0xc8));}return _0xc121a5;}const _0x5bf726=await _0x8b0ae(_0xdc87f5,_0x3536dd,_0x30eac2[_0x4d43af(0x1c8)]),_0x247ffd=_0x5bf726['map'](_0x50f360=>{const _0x3606f4=_0x4d43af,_0x692b1c=_0x50f360['setId']||'',_0x257a3d=_0x50f360[_0x3606f4(0x1ec)]||'',_0x29e5c1=_0x50f360[_0x3606f4(0x38a)]||'1',_0x28bc88=_0x50f360[_0x3606f4(0x2c6)]||'',_0x554d2=_0x50f360[_0x3606f4(0x1b3)]||'',_0x35b0f9=_0x50f360['setDescripcion']||'',_0xff8145=_0x50f360['setItemDescription']||'',_0x9cf833=_0x50f360[_0x3606f4(0x1f0)]||'',_0x4553aa=_0x50f360['setUnidad']||'',_0x283dc9=_0x50f360[_0x3606f4(0x20d)]||'',_0x43c05f=_0x50f360[_0x3606f4(0x288)]||'',_0x1b0267=_0x3d0285[0x0]['setImpuestos'][_0x3606f4(0x16b)](_0x5335de=>_0x5335de['setTaxId']==_0x43c05f)?.[_0x3606f4(0x332)]||0x0,_0x10038d=_0x3d0285[0x0][_0x3606f4(0x355)][_0x3606f4(0x16b)](_0x51c5e2=>_0x51c5e2[_0x3606f4(0x288)]==_0x43c05f)?.[_0x3606f4(0x272)]||'',_0x220b0d=parseFloat(_0x50f360[_0x3606f4(0x331)])||0x1,_0x1184d4=_0x50f360['setCategoria']||'',_0x3426e6=_0x50f360[_0x3606f4(0x1c5)]||'',_0x9c4463=_0x50f360[_0x3606f4(0x1a0)]||'./img/product.png',_0x436939=_0x50f360[_0x3606f4(0x2d6)]||0x1,_0x5ebddb=_0x50f360[_0x3606f4(0x2a1)]||'',_0x4c8540=_0x50f360['setBatchExpirationDate']||'',_0x1d9a9a=(_0x50f360[_0x3606f4(0x1af)]||[])['map'](_0x4a8d33=>{const _0x23ab3c=_0x3606f4,_0x1367a0=parseFloat(_0x4a8d33[_0x23ab3c(0x193)])||0x0,_0x50fcae=parseFloat(_0x4a8d33[_0x23ab3c(0x35f)])||0x0,_0x344be9=parseFloat(_0x4a8d33['setMtoValorCostoUnitario'])||0x0,_0x1b54e0=parseFloat(_0x4a8d33[_0x23ab3c(0x23b)])||0x0,_0x5aab9a=_0x4a8d33[_0x23ab3c(0x376)]||[];let _0x1b22ed=0x0,_0x28f107=0x0;if(_0x1367a0>0x0)_0x1b22ed=_0x1367a0,_0x28f107=setTipAfeImpGravados[_0x23ab3c(0x199)](_0x12fe7a=>_0x12fe7a==_0x10038d)?_0x1367a0+_0x1367a0*_0x1b0267/0x64:_0x1367a0;else _0x50fcae>0x0&&(_0x28f107=_0x50fcae,_0x1b22ed=setTipAfeImpGravados[_0x23ab3c(0x199)](_0xee7a4d=>_0xee7a4d==_0x10038d)?_0x50fcae/(0x1+_0x1b0267/0x64):_0x50fcae);let _0x292bf7=0x0,_0x5e8878=0x0;if(_0x344be9>0x0)_0x292bf7=_0x344be9,_0x5e8878=setTipAfeImpGravados[_0x23ab3c(0x199)](_0x2c76e7=>_0x2c76e7==_0x10038d)?_0x344be9+_0x344be9*_0x1b0267/0x64:_0x344be9;else _0x1b54e0>0x0&&(_0x5e8878=_0x1b54e0,_0x292bf7=setTipAfeImpGravados[_0x23ab3c(0x199)](_0x6e6511=>_0x6e6511==_0x10038d)?_0x1b54e0/(0x1+_0x1b0267/0x64):_0x1b54e0);return{'currency':_0x4a8d33[_0x23ab3c(0x2bf)],'setMtoValorUnitario':_0x1b22ed,'setMtoPrecioUnitario':_0x28f107,'setMtoValorCostoUnitario':_0x292bf7,'setMtoPrecioCostoUnitario':_0x5e8878,'setPriceLists':_0x5aab9a};});if(_0x43c05f!==''&&_0x692b1c!==''&&_0x28bc88!==''&&_0x35b0f9!=='')return{'id':_0x692b1c,'setItemType':_0x29e5c1,'setIdProducto':_0x257a3d,'setCodProducto':_0x28bc88,'setItemBarCode':_0x554d2,'setDescripcion':_0x35b0f9,'setItemDescription':_0xff8145,'setUnidadCodigo':_0x9cf833,'setUnidad':_0x4553aa,'setItemUnitAlias':_0x283dc9,'setPorcentajeIgv':_0x1b0267,'setTaxId':_0x43c05f,'setTipAfeIgv':_0x10038d,'setInventariable':_0x220b0d,'setCategoria':_0x1184d4,'setMarca':_0x3426e6,'setImg':_0x9c4463,'setConversionFactor':_0x436939,'setBatchName':_0x5ebddb,'setBatchExpirationDate':_0x4c8540,'setItemIsBought':_0x50f360['setItemIsBought'],'setItemIsSold':_0x50f360[_0x3606f4(0x28e)],'sucursales':_0x50f360[_0x3606f4(0x315)]||[],'setPrinters':_0x50f360[_0x3606f4(0x258)]||[],'currency_data':_0x1d9a9a,'setImages':_0x50f360[_0x3606f4(0x31d)]||[],'setItemVariantValues':_0x50f360['setItemVariantValues']||[]};return null;})[_0x4d43af(0x1f5)](Boolean);_0x4aeebe['innerHTML']='Sincronizando\x20...',await new Promise(_0x30ea6f=>setTimeout(_0x30ea6f,0x3e8));const _0x24c89d=await createCartStore('');await clearAndStore(_0x24c89d,'products',_0x247ffd),await clearAndStore(_0x24c89d,_0x4d43af(0x2b2),[{'id':_0x4d43af(0x2c2),..._0x3d0285[0x0][_0x4d43af(0x1a1)]}]),await apiERPsaveOnline(_0x3536dd,_0x3d0285[0x0]['setBranches'],_0x3d0285[0x0][_0x4d43af(0x1cc)],_0x3d0285[0x0][_0x4d43af(0x269)],_0x3d0285[0x0][_0x4d43af(0x258)]);const _0x5b76b1=await fetch(_0x4d43af(0x219),{'method':_0x4d43af(0x385),'headers':{'Content-Type':_0x4d43af(0x240)},'body':JSON[_0x4d43af(0x2fd)]({'setAuthToken':_0x3536dd,'setUserId':_0x30eac2[_0x4d43af(0x32d)]})}),_0x5306d7=await _0x5b76b1[_0x4d43af(0x382)]();if(_0x5306d7[_0x4d43af(0x177)])_0x3d0285[0x0][_0x4d43af(0x33e)]=_0x5306d7[_0x4d43af(0x330)][_0x4d43af(0x33e)],_0x3d0285[0x0][_0x4d43af(0x319)]=_0x5306d7[_0x4d43af(0x330)][_0x4d43af(0x319)],_0x3d0285[0x0][_0x4d43af(0x258)]=_0x5306d7[_0x4d43af(0x330)][_0x4d43af(0x258)];else{console[_0x4d43af(0x31c)](_0x4d43af(0x324),_0x5306d7['message']);return;}await saveCompanyToIndexedDB(_0x3d0285,_0x24c89d);if(!_0x3d0285[0x0][_0x4d43af(0x33e)]||_0x3d0285[0x0]['setWindows']['length']===0x0){console[_0x4d43af(0x31c)](_0x4d43af(0x33b));return;}for(const _0x428805 of _0x3d0285[0x0]['setWindows']){await new Promise(_0x4e321f=>setTimeout(_0x4e321f,0x12c)),await createCartStore(_0x428805['setWindowId']),_0x4aeebe['innerHTML']=_0x4d43af(0x1f9)+_0x428805[_0x4d43af(0x1df)]+_0x4d43af(0x267);}_0x4aeebe['innerHTML']=_0x4d43af(0x175)+_0x30eac2['setUserNombres']+_0x4d43af(0x267),setTimeout(()=>location[_0x4d43af(0x18a)](),0x7d0);}catch(_0x1b77b8){console[_0x4d43af(0x31c)](_0x4d43af(0x185),_0x1b77b8),_0x47d977[_0x4d43af(0x221)]=![],hideLoadingModal(),alert(_0x1b77b8);throw _0x1b77b8;}}function clearAndStore(_0x8b401e,_0x485d7b,_0x33ed33){return new Promise((_0x1d556c,_0x35f375)=>{const _0x4ecc90=_0x2d15,_0x4c8ee6=_0x8b401e[_0x4ecc90(0x2eb)](_0x485d7b,_0x4ecc90(0x293)),_0x1c2e05=_0x4c8ee6['objectStore'](_0x485d7b),_0x4cbae3=_0x1c2e05[_0x4ecc90(0x397)]();_0x4cbae3[_0x4ecc90(0x381)]=()=>{const _0x1d0c8a=_0x4ecc90;_0x33ed33[_0x1d0c8a(0x377)](_0x24fc5b=>_0x1c2e05['put'](_0x24fc5b));},_0x4c8ee6[_0x4ecc90(0x2d1)]=()=>_0x1d556c(),_0x4c8ee6['onerror']=()=>_0x35f375(new Error(_0x4ecc90(0x38e)+_0x485d7b+'!'));});}async function logoutReload(_0x5b709c=0x0,_0x148b0d){const _0x170ebd=_0xe31540;if(_0x5b709c!=0x1){showLoadingModal();const _0xec54c4=document['getElementById'](_0x170ebd(0x1bc));_0xec54c4[_0x170ebd(0x2e5)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>';}_0x148b0d==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x170ebd(0x18a)]();}function registerServiceWorker(_0x19882d,_0x3417fd){const _0x392387=_0xe31540;_0x392387(0x391)in navigator&&navigator[_0x392387(0x391)][_0x392387(0x374)](_0x19882d)[_0x392387(0x263)](_0x4aaba1=>{const _0x269793=_0x392387;console['log']('SW\x20Success'),_0x4aaba1[_0x269793(0x25a)]=()=>{const _0x42efca=_0x269793,_0x1ac2d9=_0x4aaba1['installing'];_0x1ac2d9[_0x42efca(0x22f)]=()=>{const _0x5dd98d=_0x42efca;_0x1ac2d9[_0x5dd98d(0x1fa)]=='installed'&&navigator['serviceWorker'][_0x5dd98d(0x2ab)]&&console['log'](_0x5dd98d(0x36c));};},navigator[_0x269793(0x391)]['addEventListener'](_0x269793(0x237),()=>{const _0x115a66=_0x269793;showLoadingModal();const _0xcab724=document[_0x115a66(0x19d)]('infoLoadingModal');_0xcab724[_0x115a66(0x2e5)]=_0x115a66(0x170),logoutReload(0x1,_0x3417fd);});})[_0x392387(0x390)](_0x47443f=>console['error'](_0x392387(0x210),_0x47443f));}function isLoggedIn(_0xee6a77){const _0x599faf=_0xe31540;return _0xee6a77&&_0xee6a77[0x0]&&_0xee6a77[0x0][_0x599faf(0x1d2)];}function apiERPShowContent(){const _0x2d5bf2=_0xe31540;document[_0x2d5bf2(0x19d)](_0x2d5bf2(0x34c))[_0x2d5bf2(0x350)][_0x2d5bf2(0x1b9)](_0x2d5bf2(0x198)),document[_0x2d5bf2(0x19d)](_0x2d5bf2(0x317))[_0x2d5bf2(0x350)][_0x2d5bf2(0x1b9)](_0x2d5bf2(0x198)),document[_0x2d5bf2(0x19d)](_0x2d5bf2(0x1cb))[_0x2d5bf2(0x350)][_0x2d5bf2(0x182)](_0x2d5bf2(0x198));const _0x19c1af=document['getElementById'](_0x2d5bf2(0x395));_0x19c1af&&_0x19c1af[_0x2d5bf2(0x350)][_0x2d5bf2(0x1b9)](_0x2d5bf2(0x198));}function x64ctotalcal(){const _0x2090e1=_0xe31540;return window[_0x2090e1(0x2ff)][_0x2090e1(0x238)];}function x64btsparamnumber(_0x3af9cc){const _0x297661=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x3af9cc==_0x297661;}function x32btsfirefoxcalc(_0x504d73){const _0x43f102=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x504d73==_0x43f102;}function x64bitsdescitem(_0x80c877){const _0x380363=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x80c877==_0x380363;}function x43bitsdescglobal(_0x292f63){const _0x3ffe6c=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x292f63==_0x3ffe6c;}function x32bitsCompanyTkn(_0x3fdbfb){const _0x21baba=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x3fdbfb==_0x21baba;}function x64bitsparamnumber(_0x1554b0,_0x4b45c7){const _0x49782c=_0x4b45c7;return _0x1554b0==_0x49782c;}function activarRender(_0x120d2d){const _0x2762f8=_0xe31540,_0x20e05a=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x120d2d)];return _0x20e05a[_0x2762f8(0x333)](!![]);}function saveCompanyToIndexedDB(_0x4451c7,_0x2bd3dd){return new Promise((_0x2ed2b7,_0x4ea0f7)=>{const _0x5233fa=_0x2d15,_0x4fb357=_0x2bd3dd[_0x5233fa(0x2eb)](_0x5233fa(0x166),_0x5233fa(0x293)),_0x4500a2=_0x4fb357['objectStore']('company');_0x4500a2['clear'](),_0x4451c7[_0x5233fa(0x377)](_0x336863=>_0x4500a2['put'](_0x336863)),_0x4fb357[_0x5233fa(0x2d1)]=()=>_0x2ed2b7(),_0x4fb357[_0x5233fa(0x171)]=_0x32a37b=>_0x4ea0f7(_0x32a37b[_0x5233fa(0x217)][_0x5233fa(0x31c)]);});}function loadCompanyFromIndexedDB(_0x3766ab){return new Promise((_0x4003b3,_0x231082)=>{const _0x56d3e5=_0x2d15,_0xc153a7=_0x3766ab[_0x56d3e5(0x2eb)](_0x56d3e5(0x166),_0x56d3e5(0x378)),_0x1b378a=_0xc153a7['objectStore'](_0x56d3e5(0x166)),_0x2e5c50=_0x1b378a[_0x56d3e5(0x270)]();_0x2e5c50['onsuccess']=()=>_0x4003b3(_0x2e5c50[_0x56d3e5(0x34b)]),_0x2e5c50[_0x56d3e5(0x171)]=_0x4dc94e=>_0x231082(_0x4dc94e[_0x56d3e5(0x217)]['error']);});}async function initializeCompany(_0x3fc487){const _0x2fd14b=_0xe31540;try{const _0x4eda79=await loadCompanyFromIndexedDB(_0x3fc487);company=_0x4eda79,company[_0x2fd14b(0x36a)]>0x0?(console[_0x2fd14b(0x2a9)](_0x2fd14b(0x257)),myCompany=company[0x0]):console[_0x2fd14b(0x2a9)](_0x2fd14b(0x164));}catch(_0x573300){console[_0x2fd14b(0x31c)](_0x2fd14b(0x22e),_0x573300);}}function loadProductsFromIndexedDB(_0x4578f3){return new Promise((_0xcee471,_0x452fb9)=>{const _0x2a2731=_0x2d15,_0x1a8dec=_0x4578f3['transaction'](_0x2a2731(0x32b),_0x2a2731(0x378)),_0x50929b=_0x1a8dec[_0x2a2731(0x322)]('products'),_0x1aaa93=_0x50929b['getAll']();_0x1aaa93['onsuccess']=()=>_0xcee471(_0x1aaa93[_0x2a2731(0x34b)]),_0x1aaa93[_0x2a2731(0x171)]=_0x3614a1=>_0x452fb9(_0x3614a1['target'][_0x2a2731(0x31c)]);});}async function initializeProducts(_0x5ca0fe){const _0x9d42db=_0xe31540;try{const _0x145d3c=await loadProductsFromIndexedDB(_0x5ca0fe);products=_0x145d3c,products[_0x9d42db(0x36a)]>0x0?console[_0x9d42db(0x2a9)](_0x9d42db(0x35e)):console[_0x9d42db(0x2a9)](_0x9d42db(0x32c));}catch(_0x352bef){console[_0x9d42db(0x31c)](_0x9d42db(0x28b),_0x352bef);}}async function validateAccess(_0x5355b3){const _0x34a768=_0xe31540;await initializeCompany(_0x5355b3);if(!isLoggedIn(company))throw new Error(_0x34a768(0x353));if(!activarRender(company[0x0][_0x34a768(0x1aa)])){alert(_0x34a768(0x399));throw new Error(_0x34a768(0x399));}apiERPShowContent();}function initCountrySelector(_0x22143c){const _0xcdc0e5=_0xe31540,_0x20a8d2=_0x22143c[_0xcdc0e5(0x2ee)]('.select-button-pais-flag'),_0x43fb5e=_0x22143c[_0xcdc0e5(0x2ee)](_0xcdc0e5(0x22c));let _0x4bc970=_0x20a8d2[_0xcdc0e5(0x255)][_0xcdc0e5(0x2c7)]||'51';function _0x4710d6(){const _0xa72beb=_0xcdc0e5;_0x43fb5e[_0xa72beb(0x33a)][_0xa72beb(0x243)]=_0x20a8d2['offsetWidth']+'px';}_0x4710d6(),window[_0xcdc0e5(0x2bb)](_0xcdc0e5(0x1a7),_0x4710d6),_0x20a8d2[_0xcdc0e5(0x2bb)](_0xcdc0e5(0x1b2),function(_0x512595){const _0x25ad2b=_0xcdc0e5;_0x512595[_0x25ad2b(0x294)](),_0x4710d6();const _0x25ea10=_0x43fb5e[_0x25ad2b(0x33a)][_0x25ad2b(0x201)]==='block';document[_0x25ad2b(0x2ec)](_0x25ad2b(0x22c))[_0x25ad2b(0x377)](_0x1a7d4d=>{const _0x188184=_0x25ad2b;if(_0x1a7d4d!==_0x43fb5e)_0x1a7d4d['style'][_0x188184(0x201)]=_0x188184(0x394);}),_0x43fb5e['style']['display']=_0x25ea10?_0x25ad2b(0x394):_0x25ad2b(0x32f);}),_0x43fb5e[_0xcdc0e5(0x2ec)](_0xcdc0e5(0x18f))['forEach'](_0x2592a8=>{const _0x39c0bb=_0xcdc0e5;_0x2592a8[_0x39c0bb(0x2bb)](_0x39c0bb(0x1b2),function(_0x33670a){const _0x3a04f1=_0x39c0bb;_0x33670a[_0x3a04f1(0x294)](),_0x4bc970=this['dataset'][_0x3a04f1(0x39c)],_0x20a8d2['dataset'][_0x3a04f1(0x2c7)]=_0x4bc970,_0x20a8d2[_0x3a04f1(0x2e5)]=this['innerHTML'],_0x43fb5e[_0x3a04f1(0x33a)][_0x3a04f1(0x201)]=_0x3a04f1(0x394);});}),document[_0xcdc0e5(0x2bb)]('click',function(_0xe39c4f){const _0x17bba5=_0xcdc0e5;!_0x20a8d2[_0x17bba5(0x1a9)](_0xe39c4f['target'])&&!_0x43fb5e[_0x17bba5(0x1a9)](_0xe39c4f[_0x17bba5(0x217)])&&(_0x43fb5e[_0x17bba5(0x33a)][_0x17bba5(0x201)]=_0x17bba5(0x394));});}function getCredentialsApiWAChat(_0x4f4b6b){const _0x34e121=_0xe31540;return myCompany[_0x34e121(0x2f9)]['find'](_0x3d68f3=>_0x3d68f3[_0x34e121(0x1f8)]==_0x4f4b6b)||null;}async function sendMessageApiWAChat(_0x25cf1e,_0x38ee4d,_0x351d4b,_0x1de912,_0x1c5856,_0xc175fe,_0x4a1434){const _0x4e3f9d=_0xe31540,_0x5a74a7=getCredentialsApiWAChat(_0x25cf1e);if(!_0x5a74a7)return Promise[_0x4e3f9d(0x1e6)](new Error(_0x4e3f9d(0x2e8)));const _0x4ee686=_0x5a74a7[_0x4e3f9d(0x323)],_0x4a2212=_0x5a74a7[_0x4e3f9d(0x2c8)],_0x5ebe60={'type':_0x351d4b,'content':_0x1de912};if(_0x1c5856)_0x5ebe60[_0x4e3f9d(0x313)]=_0x1c5856;_0xc175fe&&(_0x5ebe60[_0x4e3f9d(0x342)]=_0xc175fe);_0x4a1434&&(_0x5ebe60[_0x4e3f9d(0x372)]=_0x4a1434);const _0x4cdd46=_0x4e3f9d(0x2bd)+_0x4ee686+'/wa/'+_0x4a2212+'/send',_0x2a00cf=await fetch(_0x4cdd46,{'method':_0x4e3f9d(0x385),'headers':{'Content-Type':'application/json','x-auth-token':myCompany[_0x4e3f9d(0x25c)]},'body':JSON['stringify']({'to':_0x38ee4d,'payload':_0x5ebe60})});if(!_0x2a00cf['ok']){const _0x4b3e45=await _0x2a00cf['json']()[_0x4e3f9d(0x390)](()=>({}));throw new Error(_0x4b3e45[_0x4e3f9d(0x31c)]||'Error\x20'+_0x2a00cf[_0x4e3f9d(0x386)]);}return _0x2a00cf[_0x4e3f9d(0x382)]();}async function saveCredentialsApiWAChatInCompany(){const _0x1ac74f=_0xe31540,_0x42083a=document[_0x1ac74f(0x19d)](_0x1ac74f(0x2f9)),_0x5141cf=_0x42083a[_0x1ac74f(0x308)],_0x28bce1=getCredentialsApiWAChat(_0x5141cf);_0x28bce1&&(myCompany[_0x1ac74f(0x367)]=_0x28bce1[_0x1ac74f(0x1f8)]);}function formatVariantName(_0x2e0a99,_0xe1e758,_0x4f914e){const _0x5b07ab=_0xe31540;let _0x245eee=String(_0x2e0a99||'')[_0x5b07ab(0x2ce)]();if(!_0xe1e758||typeof _0xe1e758!==_0x5b07ab(0x318)||_0xe1e758[_0x5b07ab(0x371)]!==Object||Object[_0x5b07ab(0x320)](_0xe1e758)[_0x5b07ab(0x36a)]===0x0)return _0x245eee;return Object[_0x5b07ab(0x320)](_0xe1e758)['forEach'](_0x12ca2e=>{const _0x43cef6=_0x5b07ab,_0x81e287=String(_0xe1e758[_0x12ca2e]||'')[_0x43cef6(0x2ce)]();if(!_0x81e287)return;if(_0x4f914e===0x1)_0x245eee+='\x20'+_0x12ca2e+'\x20'+_0x81e287;else _0x4f914e===0x2&&(_0x245eee+='\x20'+_0x81e287);}),_0x245eee;}async function fetchLocationByIP(){const _0x5f63eb=_0xe31540;try{const _0x47f755=await fetch(_0x5f63eb(0x207)),_0x480a63=await _0x47f755[_0x5f63eb(0x382)]();if(_0x480a63&&_0x480a63[_0x5f63eb(0x2e0)]&&_0x480a63[_0x5f63eb(0x2ea)])return{'lat':parseFloat(_0x480a63[_0x5f63eb(0x2e0)]),'lng':parseFloat(_0x480a63[_0x5f63eb(0x2ea)])};}catch(_0x282b75){console[_0x5f63eb(0x187)]('🌐\x20No\x20se\x20pudo\x20obtener\x20ubicación\x20por\x20IP',_0x282b75);}return null;}function loadGoogleMaps(_0x30e12f){return new Promise((_0x4d2f2e,_0x59863a)=>{const _0x108075=_0x2d15;if(window[_0x108075(0x174)]&&window[_0x108075(0x174)]['maps'])return _0x4d2f2e();const _0x49e8cf=document[_0x108075(0x1ab)]('script');_0x49e8cf[_0x108075(0x2fb)]=_0x108075(0x2c1)+encodeURIComponent(_0x30e12f)+_0x108075(0x1c2),_0x49e8cf[_0x108075(0x19b)]=!![],_0x49e8cf[_0x108075(0x25f)]=!![],_0x49e8cf['onload']=()=>{const _0x525659=_0x108075;window['google']&&window['google'][_0x525659(0x300)]?_0x4d2f2e():_0x59863a(new Error(_0x525659(0x1b1)));},_0x49e8cf[_0x108075(0x171)]=()=>_0x59863a(new Error(_0x108075(0x31b))),document[_0x108075(0x1b0)][_0x108075(0x291)](_0x49e8cf);});}function generateMap(_0x52b9c2,_0x49e761={}){const _0x4c2ff4=_0xe31540,_0x27d50f=typeof _0x52b9c2===_0x4c2ff4(0x286)?document[_0x4c2ff4(0x19d)](_0x52b9c2):_0x52b9c2;if(!_0x27d50f)throw new Error(_0x4c2ff4(0x271));const _0x3ea3e={'lat':0x0,'lng':0x0},_0x1f2eca=_0x49e761[_0x4c2ff4(0x21b)]!==![],_0x19d394=_0x49e761[_0x4c2ff4(0x1ac)]||_0x4c2ff4(0x1c4),_0x34b8e7=_0x49e761[_0x4c2ff4(0x169)],_0x5b7445=document[_0x4c2ff4(0x19d)](_0x49e761[_0x4c2ff4(0x169)]);_0x5b7445&&(_0x5b7445['value']='',_0x5b7445['dispatchEvent'](new Event(_0x4c2ff4(0x30a),{'bubbles':!![]})));let _0xcd573b,_0x1cba2f=[],_0x140706=null;function _0x30f350(_0x56e669,_0x1ec6ac=0xc){const _0x4f0ee8=_0x4c2ff4;_0xcd573b=new google[(_0x4f0ee8(0x300))][(_0x4f0ee8(0x17b))](_0x27d50f,{'center':_0x56e669,'zoom':_0x1ec6ac,'mapId':_0x4f0ee8(0x26b)}),_0x19d394===_0x4f0ee8(0x295)&&Array['isArray'](_0x49e761[_0x4f0ee8(0x31f)])&&_0x49e761['locations'][_0x4f0ee8(0x377)](_0x310d38=>_0x2170d5(_0x310d38)),_0x19d394===_0x4f0ee8(0x36f)&&_0x49e761[_0x4f0ee8(0x20b)]&&_0x1c5a61(_0x49e761[_0x4f0ee8(0x20b)][_0x4f0ee8(0x206)],_0x49e761[_0x4f0ee8(0x20b)]['destination']),_0x19d394===_0x4f0ee8(0x1c4)&&(_0xcd573b['addListener'](_0x4f0ee8(0x1b2),_0x329ef7=>_0x1776ef(_0x329ef7[_0x4f0ee8(0x1b7)])),_0x49e761['searchInput']&&((async()=>{const _0x22f428=_0x4f0ee8,{PlaceAutocompleteElement:_0x2be726}=await google[_0x22f428(0x300)]['importLibrary'](_0x22f428(0x27c)),_0x1ecc62=new _0x2be726(),_0x3174d7=document[_0x22f428(0x1ab)](_0x22f428(0x220));_0x3174d7[_0x22f428(0x350)]['add'](_0x22f428(0x31e)),Object[_0x22f428(0x2f1)](_0x3174d7[_0x22f428(0x33a)],{'position':_0x22f428(0x1d5),'top':_0x22f428(0x249),'left':_0x22f428(0x249),'zIndex':'5','width':_0x22f428(0x1e2)}),_0x3174d7[_0x22f428(0x291)](_0x1ecc62),_0xcd573b[_0x22f428(0x178)][google['maps'][_0x22f428(0x292)][_0x22f428(0x1e9)]]['push'](_0x3174d7),_0x1ecc62[_0x22f428(0x2bb)]('gmp-select',async _0x4f52bf=>{const _0x42ac82=_0x22f428;console[_0x42ac82(0x2a9)]('🔥\x20gmp-select\x20fired!',_0x4f52bf);if(!_0x4f52bf[_0x42ac82(0x22a)]){console['warn'](_0x42ac82(0x35b));return;}const _0x17c62f=_0x4f52bf['placePrediction'],_0x2a0159=_0x17c62f[_0x42ac82(0x2d5)]();await _0x2a0159[_0x42ac82(0x163)]({'fields':[_0x42ac82(0x2ff)]});const _0x628796=_0x2a0159['location'];if(!_0x628796){console['warn'](_0x42ac82(0x232));return;}_0xcd573b[_0x42ac82(0x23f)](_0x628796),_0xcd573b[_0x42ac82(0x297)](0x11),_0x1776ef(_0x628796);const _0x41c550=_0x34b8e7?document[_0x42ac82(0x19d)](_0x34b8e7):null;_0x41c550&&(_0x41c550[_0x42ac82(0x308)]=_0x628796[_0x42ac82(0x39d)]()+','+_0x628796['lng'](),_0x41c550['dispatchEvent'](new Event('change',{'bubbles':!![]})));});})()));}_0x1f2eca&&navigator[_0x4c2ff4(0x2db)]?navigator[_0x4c2ff4(0x2db)][_0x4c2ff4(0x1bd)](_0x35598e=>_0x30f350({'lat':_0x35598e[_0x4c2ff4(0x309)]['latitude'],'lng':_0x35598e[_0x4c2ff4(0x309)][_0x4c2ff4(0x2ea)]}),async()=>{const _0x441df0=await fetchLocationByIP();_0x30f350(_0x441df0||_0x3ea3e);}):((async()=>{const _0x3c5bbb=await fetchLocationByIP();_0x30f350(_0x3c5bbb||_0x3ea3e);})());async function _0x2170d5({lat:_0x24da05,lng:_0x13d9af,iconUrl:_0x2975a3,label:_0x2e98b1}){const _0x5e37fa=_0x4c2ff4,{AdvancedMarkerElement:_0x41f0a2}=await google[_0x5e37fa(0x300)][_0x5e37fa(0x279)]('marker'),_0x437705=new _0x41f0a2({'map':_0xcd573b,'position':{'lat':_0x24da05,'lng':_0x13d9af},'title':_0x2e98b1||'','content':_0x2975a3?((()=>{const _0x1cc8d7=_0x5e37fa,_0x2a721b=document[_0x1cc8d7(0x1ab)](_0x1cc8d7(0x153));return _0x2a721b[_0x1cc8d7(0x2fb)]=_0x2975a3,_0x2a721b[_0x1cc8d7(0x33a)][_0x1cc8d7(0x243)]='32px',_0x2a721b[_0x1cc8d7(0x33a)][_0x1cc8d7(0x2e3)]=_0x1cc8d7(0x20f),_0x2a721b;})()):undefined});return _0x1cba2f[_0x5e37fa(0x305)](_0x437705),_0x437705;}async function _0x1776ef(_0x3a2a2f,_0x5e0fab){const _0xc543d6=_0x4c2ff4,_0x33c90a=typeof _0x3a2a2f===_0xc543d6(0x2ca)&&typeof _0x5e0fab===_0xc543d6(0x2ca)?new google[(_0xc543d6(0x300))][(_0xc543d6(0x26f))](_0x3a2a2f,_0x5e0fab):_0x3a2a2f,_0xddf5f2=_0x33c90a[_0xc543d6(0x39d)](),_0x5f2243=_0x33c90a[_0xc543d6(0x2dc)]();_0x140706&&(_0x140706[_0xc543d6(0x398)]=null),_0x140706=await _0x2170d5({'lat':_0xddf5f2,'lng':_0x5f2243,'iconUrl':_0x49e761[_0xc543d6(0x2a5)]}),typeof _0x49e761[_0xc543d6(0x1a6)]===_0xc543d6(0x26a)&&_0x49e761['onSelect'](_0xddf5f2,_0x5f2243);}function _0x1c5a61(_0x42d69a,_0xeac344){const _0x76e7cc=_0x4c2ff4,_0x4191f9=new google[(_0x76e7cc(0x300))][(_0x76e7cc(0x22d))](),_0x5cdc29=new google[(_0x76e7cc(0x300))][(_0x76e7cc(0x2cf))]({'map':_0xcd573b});_0x4191f9[_0x76e7cc(0x20b)]({'origin':_0x42d69a,'destination':_0xeac344,'travelMode':google[_0x76e7cc(0x300)][_0x76e7cc(0x1fe)][_0x76e7cc(0x1f3)]},(_0x548421,_0xd15f41)=>{const _0x23471b=_0x76e7cc;if(_0xd15f41==='OK'){_0x5cdc29['setDirections'](_0x548421);if(_0x49e761[_0x23471b(0x1ee)]){const _0x173e07=_0x548421[_0x23471b(0x18b)][0x0][_0x23471b(0x33c)]['reduce']((_0x2efb11,_0x463480)=>_0x2efb11+_0x463480[_0x23471b(0x26e)][_0x23471b(0x308)],0x0),_0x455aa9=_0x173e07/0x3e8;console[_0x23471b(0x2a9)](_0x23471b(0x266)+_0x455aa9[_0x23471b(0x2d8)](0x2)+_0x23471b(0x1f2)),console[_0x23471b(0x2a9)](_0x23471b(0x37c)+(_0x455aa9*_0x49e761[_0x23471b(0x1ee)])[_0x23471b(0x2d8)](0x2));}}else console['error'](_0x23471b(0x2c0),_0xd15f41);});}return _0xcd573b;}async function loadCart(_0x30ea2d){const _0x5a0760=_0xe31540;try{const _0x51186b=await createCartStore(''),_0x23e5b8=[];await validateAccess(_0x51186b);const _0x54623b=company[0x0][_0x5a0760(0x1d2)],_0xe08b84=company[0x0]['setUsers'][_0x5a0760(0x16b)](_0x18b066=>_0x18b066[_0x5a0760(0x345)]==_0x54623b[_0x5a0760(0x1c8)]),_0x42f933=company[0x0][_0x5a0760(0x1eb)],_0x1f36f4=document['getElementById'](_0x5a0760(0x370));_0x1f36f4[_0x5a0760(0x2e5)]='';if(_0xe08b84&&_0xe08b84[_0x5a0760(0x1eb)]){const _0x447fff=_0x42f933['filter'](_0x29c0c6=>_0xe08b84[_0x5a0760(0x1eb)][_0x5a0760(0x199)](_0x27ef8a=>_0x27ef8a[_0x5a0760(0x370)]==_0x29c0c6[_0x5a0760(0x370)]));_0x447fff['forEach'](_0x3fcbaf=>{const _0x135e96=_0x5a0760,_0x289d41=document[_0x135e96(0x1ab)](_0x135e96(0x17f));_0x289d41['value']=_0x3fcbaf[_0x135e96(0x370)],_0x289d41[_0x135e96(0x366)]=_0x3fcbaf[_0x135e96(0x16c)],_0x1f36f4[_0x135e96(0x291)](_0x289d41);});}if(_0x30ea2d==0x1){const _0x320583=document[_0x5a0760(0x19d)]('setCajeroCodigo');_0x320583[_0x5a0760(0x2e5)]='';if(_0xe08b84){const _0x127671=document[_0x5a0760(0x1ab)]('option');_0x127671[_0x5a0760(0x308)]=_0xe08b84['setUserCode'],_0x127671[_0x5a0760(0x366)]=_0xe08b84[_0x5a0760(0x2a8)],_0x320583[_0x5a0760(0x291)](_0x127671);}const _0x125ac1=Array[_0x5a0760(0x230)](_0x51186b[_0x5a0760(0x229)])[_0x5a0760(0x1f5)](_0x935844=>_0x935844['startsWith']('window_options_'))[_0x5a0760(0x398)](_0x486b31=>{const _0x54925e=_0x5a0760,_0x5f1e24=_0x486b31[_0x54925e(0x316)]('_');return _0x5f1e24[_0x54925e(0x36a)]>=0x3?_0x5f1e24[0x2]:null;})['filter'](_0x5eaa53=>_0x5eaa53!==null);console[_0x5a0760(0x2a9)](_0x5a0760(0x15f),_0x125ac1);const _0x106b25=Array[_0x5a0760(0x230)](_0x51186b[_0x5a0760(0x229)])[_0x5a0760(0x1f5)](_0x4dde8d=>_0x4dde8d[_0x5a0760(0x287)](_0x5a0760(0x1b5)))[_0x5a0760(0x19a)]((_0x2c4151,_0xcff3d8)=>{const _0x55cdb5=_0x5a0760,_0x552106=parseInt(_0x2c4151[_0x55cdb5(0x316)]('_')['pop'](),0xa),_0x53b6f9=parseInt(_0xcff3d8['split']('_')[_0x55cdb5(0x22b)](),0xa);return _0x552106-_0x53b6f9;});for(const _0x3c1c8f of _0x106b25){const _0x565297=_0x3c1c8f['split']('_');if(_0x565297[_0x5a0760(0x36a)]<0x3){console[_0x5a0760(0x31c)]('Nombre\x20de\x20store\x20no\x20válido:\x20'+_0x3c1c8f);continue;}const _0x4a7262=_0x565297[0x2];if(_0x125ac1[_0x5a0760(0x333)](_0x4a7262)){const _0x2a80bb=new Promise((_0x3283fb,_0x1b469e)=>{const _0x182b06=_0x5a0760,_0x57d287=_0x51186b['transaction']([_0x3c1c8f],'readonly'),_0x46f777=_0x57d287[_0x182b06(0x322)](_0x3c1c8f),_0x13a5ff=_0x46f777['get'](_0x4a7262);_0x13a5ff[_0x182b06(0x381)]=function(_0x2853a5){const _0x3e9391=_0x182b06,_0x5591b2=_0x2853a5[_0x3e9391(0x217)][_0x3e9391(0x34b)];window_options[_0x4a7262]={},_0x5591b2&&(window_options[_0x4a7262]={'setTipoOperacionInvoice':_0x5591b2[_0x3e9391(0x2df)],'setTipoOperacion':_0x5591b2[_0x3e9391(0x1e8)],'setSerie':_0x5591b2['setSerie'],'setCorrelativo':_0x5591b2[_0x3e9391(0x2fa)],'setMoneda':_0x5591b2[_0x3e9391(0x1e1)],'setClienteTipoDoc':_0x5591b2['setClienteTipoDoc'],'setClienteNumDoc':_0x5591b2[_0x3e9391(0x241)],'setClienteDenominacion':_0x5591b2[_0x3e9391(0x38b)],'setClienteDireccion':_0x5591b2[_0x3e9391(0x2b4)],'setCustomerPhone':_0x5591b2[_0x3e9391(0x29b)],'setCustomerEmail':_0x5591b2[_0x3e9391(0x24c)],'setFechaHora':_0x5591b2[_0x3e9391(0x37e)],'setSellerId':_0x5591b2[_0x3e9391(0x16a)],'setSellerName':_0x5591b2[_0x3e9391(0x393)],'setDespacho':_0x5591b2[_0x3e9391(0x186)],'setObservacion':_0x5591b2['setObservacion'],'setDescuentoGlobal_Monto':_0x5591b2[_0x3e9391(0x21d)],'setAttachEdit':_0x5591b2[_0x3e9391(0x310)]},console[_0x3e9391(0x2a9)](_0x3e9391(0x30e)+_0x4a7262+':',_0x5591b2)),Promise[_0x3e9391(0x28f)](updateTab(_0x4a7262))[_0x3e9391(0x263)](_0x3283fb)['catch'](_0x22dce9=>{const _0x2046c0=_0x3e9391;console[_0x2046c0(0x31c)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x22dce9),_0x1b469e(_0x22dce9);});},_0x13a5ff[_0x182b06(0x171)]=function(_0x55c78e){const _0x3ca1fe=_0x182b06;console[_0x3ca1fe(0x31c)](_0x3ca1fe(0x349)+_0x4a7262+'.',_0x55c78e[_0x3ca1fe(0x217)]['error']),_0x1b469e(_0x55c78e[_0x3ca1fe(0x217)][_0x3ca1fe(0x31c)]);};});_0x23e5b8['push'](_0x2a80bb);}}const _0x355e46=Array['from'](_0x51186b[_0x5a0760(0x229)])['filter'](_0x518f31=>_0x518f31['startsWith'](_0x5a0760(0x250)))[_0x5a0760(0x19a)]((_0x41b8ea,_0x1e186e)=>{const _0x3729ba=_0x5a0760,_0x30b80b=parseInt(_0x41b8ea[_0x3729ba(0x316)]('_')['pop'](),0xa),_0x3320ba=parseInt(_0x1e186e['split']('_')[_0x3729ba(0x22b)](),0xa);return _0x30b80b-_0x3320ba;});for(const _0x51f371 of _0x355e46){const _0x3f9760=_0x51f371['split']('_')[0x1];!carts[_0x3f9760]&&(carts[_0x3f9760]=[]);const _0x32efbd=new Promise((_0x4fd5a5,_0x25f458)=>{const _0x1d3f65=_0x5a0760,_0x1126da=_0x51186b[_0x1d3f65(0x2eb)]([_0x51f371],_0x1d3f65(0x378)),_0x3372ba=_0x1126da[_0x1d3f65(0x322)](_0x51f371),_0x5513ee=_0x3372ba[_0x1d3f65(0x270)]();_0x5513ee[_0x1d3f65(0x381)]=async function(_0x1efb13){const _0x3e703e=_0x1d3f65,_0x6ed56=_0x1efb13[_0x3e703e(0x217)][_0x3e703e(0x34b)];carts[_0x3f9760][_0x3e703e(0x36a)]=0x0,_0x6ed56['forEach'](_0x34c84d=>carts[_0x3f9760][_0x3e703e(0x305)](_0x34c84d));const _0x367d27=myCompany[_0x3e703e(0x33e)]['find'](_0x30fdf5=>_0x30fdf5[_0x3e703e(0x160)]==_0x3f9760),_0x36cafa=Array[_0x3e703e(0x1b4)](_0x367d27[_0x3e703e(0x2f8)])?[..._0x367d27[_0x3e703e(0x2f8)]]:[];if(_0x36cafa[_0x3e703e(0x36a)]>0x0){carts[_0x3f9760]=_0x36cafa,_0x367d27[_0x3e703e(0x155)]=_0x36cafa,_0x367d27[_0x3e703e(0x2f8)]=[];try{const _0x462d7c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x462d7c),await saveCart(_0x3f9760),console[_0x3e703e(0x2a9)]('Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.');}catch(_0x226bec){console[_0x3e703e(0x31c)](_0x3e703e(0x344),_0x226bec);}}renderCart(_0x3f9760),_0x4fd5a5();},_0x5513ee[_0x1d3f65(0x171)]=function(_0x33a1cb){const _0x292f8e=_0x1d3f65;console[_0x292f8e(0x31c)](_0x292f8e(0x20a)+_0x3f9760+'.',_0x33a1cb['target'][_0x292f8e(0x31c)]),_0x25f458(_0x33a1cb['target']['error']);};});_0x23e5b8[_0x5a0760(0x305)](_0x32efbd);}}if(_0x30ea2d==0x2||_0x30ea2d==0x3||_0x30ea2d==0x4){const _0x280edd=document[_0x5a0760(0x19d)](_0x5a0760(0x2a6)),_0xb3066a=document['getElementById']('setCashierName');_0x280edd[_0x5a0760(0x2e5)]='',_0xb3066a['innerHTML']='',_0xe08b84&&(_0x280edd['innerHTML']=_0x5a0760(0x28c),_0xb3066a[_0x5a0760(0x2e5)]=_0xe08b84[_0x5a0760(0x2a8)]);}if(_0x30ea2d==0x1||_0x30ea2d==0x4){const _0x1b952e=myCompany[_0x5a0760(0x2f9)],_0x58efe4=document[_0x5a0760(0x19d)](_0x5a0760(0x2f9));_0x58efe4[_0x5a0760(0x2e5)]='',_0x1b952e[_0x5a0760(0x377)](_0x883881=>{const _0x2fcdbf=_0x5a0760,_0x4d1b7a=document[_0x2fcdbf(0x1ab)](_0x2fcdbf(0x17f));_0x4d1b7a[_0x2fcdbf(0x308)]=_0x883881[_0x2fcdbf(0x1f8)],_0x4d1b7a[_0x2fcdbf(0x366)]=_0x883881[_0x2fcdbf(0x363)]??_0x883881[_0x2fcdbf(0x2c8)],_0x58efe4[_0x2fcdbf(0x291)](_0x4d1b7a);}),myCompany?.['setCredentialsApiWAChatIdDefault']&&(_0x58efe4['value']=myCompany[_0x5a0760(0x367)]);}return await Promise['all'](_0x23e5b8),myCompany?.[_0x5a0760(0x2e1)]&&(document[_0x5a0760(0x19d)]('setBranchId')[_0x5a0760(0x308)]=company[0x0][_0x5a0760(0x2e1)]),document[_0x5a0760(0x19d)]('setBranchId')['dispatchEvent'](new Event('change')),_0x30ea2d==0x1&&(tabCount=getMaxWindowId(carts),console[_0x5a0760(0x2a9)](_0x5a0760(0x343)+tabCount)),_0x51186b;}catch(_0x171694){throw _0x171694;}}function loadCartAndSetTabCount(_0x26d491){const _0x4c770f=_0xe31540;loadCart(_0x26d491)[_0x4c770f(0x263)](async _0x16da45=>{const _0x1da5f7=_0x4c770f;await initializeProducts(_0x16da45);if(_0x26d491==0x1){if(isLoggedIn(company)){const _0x4e1c66=document['getElementById'](_0x1da5f7(0x298))[_0x1da5f7(0x308)];if(parseFloat(_0x4e1c66)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x208e75=myCompany['setWindows'][_0x1da5f7(0x398)](_0x112520=>_0x112520['setWindowId']);await reloadWindowsAndLayout(_0x208e75);}}loadGoogleMaps('AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0')[_0x1da5f7(0x263)](()=>{console['log']('Google\x20Maps\x20SDK\x20listo');})[_0x1da5f7(0x390)](_0x312014=>console[_0x1da5f7(0x31c)](_0x312014));}adjustHeight(),showLeftSection(),setActiveTab(_0x1da5f7(0x254)),document[_0x1da5f7(0x2bb)]('keydown',function(_0x1af609){const _0x1324f9=_0x1da5f7,_0x9498d5=document[_0x1324f9(0x19d)](_0x1324f9(0x298))[_0x1324f9(0x308)],_0xae5e6d=document['getElementById'](_0x1324f9(0x299)),_0x30edf8=document[_0x1324f9(0x2ec)](_0x1324f9(0x29c)),_0x10820c=document[_0x1324f9(0x19d)](_0x1324f9(0x35c)+_0x9498d5),_0x47479b=document[_0x1324f9(0x19d)](_0x1324f9(0x183)+_0x9498d5),_0x596257=document[_0x1324f9(0x19d)](_0x1324f9(0x384));function _0x34aada(_0x1b2c69){const _0x3ed313=_0x1324f9;return _0x1b2c69&&(_0x1b2c69[_0x3ed313(0x1a3)]>0x0||_0x1b2c69['offsetHeight']>0x0||_0x1b2c69[_0x3ed313(0x31a)]()[_0x3ed313(0x36a)]);}let _0xd687f3=[];if(_0x596257&&_0x596257[_0x1324f9(0x350)][_0x1324f9(0x1a9)](_0x1324f9(0x25e))){const _0x213398=_0x596257[_0x1324f9(0x2ec)]('.payment-option');_0x213398[_0x1324f9(0x377)](_0x346a54=>{const _0x362666=_0x1324f9;_0x34aada(_0x346a54)&&!_0x346a54['classList'][_0x362666(0x1a9)](_0x362666(0x347))&&_0xd687f3[_0x362666(0x305)](_0x346a54);});const _0x43ee1a=_0x596257[_0x1324f9(0x2ee)](_0x1324f9(0x18d)+_0x9498d5);if(_0x43ee1a){const _0x13df6d=_0x43ee1a['querySelectorAll'](_0x1324f9(0x275));_0x13df6d['forEach'](_0x3de2e0=>{const _0xe2814e=_0x1324f9;_0x34aada(_0x3de2e0)&&!_0x3de2e0[_0xe2814e(0x350)][_0xe2814e(0x1a9)](_0xe2814e(0x347))&&_0xd687f3[_0xe2814e(0x305)](_0x3de2e0);});}_0x47479b&&_0x34aada(_0x47479b)&&!_0x47479b[_0x1324f9(0x350)][_0x1324f9(0x1a9)](_0x1324f9(0x347))&&(!_0xd687f3['includes'](_0x47479b)&&_0xd687f3[_0x1324f9(0x305)](_0x47479b));const _0x1e47b2=_0x596257[_0x1324f9(0x2ee)](_0x1324f9(0x283));_0x1e47b2&&_0x34aada(_0x1e47b2)&&!_0xd687f3['includes'](_0x1e47b2)&&_0xd687f3[_0x1324f9(0x276)](_0x1e47b2);}else{_0xd687f3=[_0xae5e6d,..._0x30edf8];if(_0x10820c)_0xd687f3[_0x1324f9(0x305)](_0x10820c);}const _0x2b26e2=document[_0x1324f9(0x304)],_0x270da6=_0x2b26e2&&(_0x2b26e2[_0x1324f9(0x2aa)]=='INPUT'||_0x2b26e2[_0x1324f9(0x2aa)]==_0x1324f9(0x19c)||_0x2b26e2[_0x1324f9(0x1db)](_0x1324f9(0x303)));if(_0x596257&&_0x596257[_0x1324f9(0x350)][_0x1324f9(0x1a9)](_0x1324f9(0x25e))&&_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x1e4)){if(_0x2b26e2&&_0x2b26e2['classList'][_0x1324f9(0x1a9)](_0x1324f9(0x2c3))){_0x1af609[_0x1324f9(0x17c)](),_0x2b26e2[_0x1324f9(0x1b2)]();return;}}if(_0x596257&&_0x596257[_0x1324f9(0x350)]['contains'](_0x1324f9(0x25e))&&_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x154)){const _0x3d09c7=_0x596257[_0x1324f9(0x1a9)](_0x2b26e2),_0x331674=_0x2b26e2?.[_0x1324f9(0x1db)](_0x1324f9(0x303));if(!_0x3d09c7&&!_0x331674){_0x1af609[_0x1324f9(0x17c)]();_0xd687f3['length']>0x0&&_0xd687f3[0x0][_0x1324f9(0x1fc)]();return;}}if(_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x154)){_0x1af609[_0x1324f9(0x17c)]();if(_0xd687f3[_0x1324f9(0x36a)]==0x0)return;let _0x4d4b9a=_0xd687f3['indexOf'](_0x2b26e2);if(_0x4d4b9a==-0x1)_0x4d4b9a=-0x1;let _0x6214eb;_0x1af609['shiftKey']?_0x6214eb=_0x4d4b9a<=0x0?_0xd687f3['length']-0x1:_0x4d4b9a-0x1:_0x6214eb=_0x4d4b9a==_0xd687f3[_0x1324f9(0x36a)]-0x1?0x0:_0x4d4b9a+0x1;_0xd687f3[_0x6214eb][_0x1324f9(0x1fc)]();return;}(!_0x596257||!_0x596257[_0x1324f9(0x350)][_0x1324f9(0x1a9)](_0x1324f9(0x25e)))&&!_0x270da6&&!_0x2b26e2?.[_0x1324f9(0x1db)](_0x1324f9(0x204))&&(_0x1af609[_0x1324f9(0x15b)][_0x1324f9(0x36a)]==0x1||_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x1a8)||_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x339))&&(_0x1af609[_0x1324f9(0x17c)](),_0xae5e6d[_0x1324f9(0x1fc)](),_0x1af609[_0x1324f9(0x15b)]=='Backspace'||_0x1af609[_0x1324f9(0x15b)]==_0x1324f9(0x339)?_0xae5e6d[_0x1324f9(0x308)]=_0xae5e6d[_0x1324f9(0x308)][_0x1324f9(0x327)](0x0,-0x1):!_0xae5e6d[_0x1324f9(0x308)]?_0xae5e6d[_0x1324f9(0x308)]=_0x1af609['key']:_0xae5e6d['value']+=_0x1af609[_0x1324f9(0x15b)]);}),loadTaxData(),resetNewItemForm();}_0x26d491==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x26d491==0x3){const _0x5aaee2=document['getElementById']('setBranchId')['value'];fil_BranchesId[_0x1da5f7(0x305)](_0x5aaee2),updateDateRange(_0x1da5f7(0x1d6));}_0x26d491==0x4&&init();})['catch'](_0x287199=>{const _0x4127b9=_0x4c770f;console[_0x4127b9(0x31c)](_0x287199);})[_0x4c770f(0x1c0)](()=>{_0x26d491==0x1&&updateInternetIcon();let _0x37013e;(_0x26d491==0x1||_0x26d491==0x2||_0x26d491==0x3||_0x26d491==0x4)&&(_0x37013e='./app.js?v=4.3.2'),registerServiceWorker(_0x37013e,_0x26d491);});}