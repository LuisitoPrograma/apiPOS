/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.2
*/

const _0x527735=_0x6e02;(function(_0x515441,_0x2f96ba){const _0x50fabc=_0x6e02,_0x49549d=_0x515441();while(!![]){try{const _0x3b9539=parseInt(_0x50fabc(0xb5))/0x1*(parseInt(_0x50fabc(0x96))/0x2)+parseInt(_0x50fabc(0x95))/0x3+-parseInt(_0x50fabc(0xac))/0x4*(-parseInt(_0x50fabc(0xa9))/0x5)+parseInt(_0x50fabc(0xbb))/0x6+-parseInt(_0x50fabc(0xb9))/0x7*(-parseInt(_0x50fabc(0xb4))/0x8)+parseInt(_0x50fabc(0x98))/0x9+parseInt(_0x50fabc(0x97))/0xa*(-parseInt(_0x50fabc(0xb7))/0xb);if(_0x3b9539===_0x2f96ba)break;else _0x49549d['push'](_0x49549d['shift']());}catch(_0x1d0f02){_0x49549d['push'](_0x49549d['shift']());}}}(_0x14cb,0x63d8b));const selectCredentialsApiWAChat=document[_0x527735(0xbd)]('setCredentialsApiWAChat'),loginPanel=document[_0x527735(0xbd)](_0x527735(0x9d)),chatPanel=document[_0x527735(0xbd)](_0x527735(0x9e)),qrImg=document[_0x527735(0xbd)](_0x527735(0xc8)),overlay=document[_0x527735(0xbd)](_0x527735(0x8f));function _0x6e02(_0x341abc,_0x15f585){const _0x370067=_0x14cb();return _0x6e02=function(_0x5754de,_0x7bb535){_0x5754de=_0x5754de-0x8f;let _0x5d257c=_0x370067[_0x5754de];return _0x5d257c;},_0x6e02(_0x341abc,_0x15f585);}let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x28d0a9=_0x527735;loginPanel[_0x28d0a9(0xa7)][_0x28d0a9(0x9f)]=_0x28d0a9(0xce),chatPanel[_0x28d0a9(0xa7)][_0x28d0a9(0xb3)]=_0x28d0a9(0xbe);}function _0x14cb(){const _0x570fa7=['search','ya\x20conectado','includes','error','92424BDKQss','1038pgwaDX','8535670KDKxsb','7260129Bnduwi','value','prototype','{}.constructor(\x22return\x20this\x22)(\x20)','(((.+)+)+)+$','loginPanel','chatPanel','display','setWarehouseId','https://','__proto__','change','none','EnvironmentChangeComplete','setCredentialsApiWAChat','style','constructor','35KTVBGT','setCredentialsApiWAChatPort','log','132596HyKyAZ','bind','setCredentialsApiWAChatSubdomain','src','toString','trace','Credenciales\x20no\x20encontradas','visibility','36376qETQbT','1391unnXZf','/wa/','22obvBAL','length','35ZEBfmp','init','1811454eYlCre','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','getElementById','hidden','warn','setFloorId','toLowerCase','WarehouseChangeComplete','click','setBranchId','apply','addEventListener','onload','qr-img','console','json','setCredentialsApiWAChatStatus','table','dispatchEvent','flex','/qr','BranchChangeComplete','qr-overlay','status'];_0x14cb=function(){return _0x570fa7;};return _0x14cb();}function showChat(){const _0x2d61f8=_0x527735;loginPanel[_0x2d61f8(0xa7)]['display']=_0x2d61f8(0xa4),chatPanel[_0x2d61f8(0xa7)][_0x2d61f8(0xb3)]='visible';}async function initQRApiWAChat(_0x2fb728,_0x249f4e){const _0x4f1911=_0x527735,_0x4848b0=(function(){let _0x138916=!![];return function(_0x5a746a,_0x507077){const _0x5e575c=_0x138916?function(){const _0x299452=_0x6e02;if(_0x507077){const _0x2fbc0=_0x507077[_0x299452(0xc5)](_0x5a746a,arguments);return _0x507077=null,_0x2fbc0;}}:function(){};return _0x138916=![],_0x5e575c;};}()),_0x47554a=_0x4848b0(this,function(){const _0x2883b5=_0x6e02;return _0x47554a[_0x2883b5(0xb0)]()[_0x2883b5(0x91)](_0x2883b5(0x9c))['toString']()['constructor'](_0x47554a)['search'](_0x2883b5(0x9c));});_0x47554a();const _0x36f9cc=(function(){let _0x101918=!![];return function(_0xb9fe21,_0x554fba){const _0x4bcf37=_0x101918?function(){const _0x1f5167=_0x6e02;if(_0x554fba){const _0x5729e3=_0x554fba[_0x1f5167(0xc5)](_0xb9fe21,arguments);return _0x554fba=null,_0x5729e3;}}:function(){};return _0x101918=![],_0x4bcf37;};}()),_0x40b048=_0x36f9cc(this,function(){const _0x48f77a=_0x6e02,_0x414688=function(){const _0x24adf6=_0x6e02;let _0xac5428;try{_0xac5428=Function('return\x20(function()\x20'+_0x24adf6(0x9b)+');')();}catch(_0x56164e){_0xac5428=window;}return _0xac5428;},_0x401c09=_0x414688(),_0x54b5bd=_0x401c09[_0x48f77a(0xc9)]=_0x401c09[_0x48f77a(0xc9)]||{},_0x1a211f=[_0x48f77a(0xab),_0x48f77a(0xbf),'info','error','exception',_0x48f77a(0xcc),_0x48f77a(0xb1)];for(let _0x3516ef=0x0;_0x3516ef<_0x1a211f[_0x48f77a(0xb8)];_0x3516ef++){const _0xf2209=_0x36f9cc[_0x48f77a(0xa8)][_0x48f77a(0x9a)][_0x48f77a(0xad)](_0x36f9cc),_0x5e7459=_0x1a211f[_0x3516ef],_0x124d51=_0x54b5bd[_0x5e7459]||_0xf2209;_0xf2209[_0x48f77a(0xa2)]=_0x36f9cc['bind'](_0x36f9cc),_0xf2209[_0x48f77a(0xb0)]=_0x124d51[_0x48f77a(0xb0)]['bind'](_0x124d51),_0x54b5bd[_0x5e7459]=_0xf2209;}});_0x40b048();const _0x361dbb=selectCredentialsApiWAChat[_0x4f1911(0x99)],_0x48a531=getCredentialsApiWAChat(_0x361dbb);if(!_0x48a531){ntfShow(_0x4f1911(0xb2));return;}const _0x51dff8=_0x48a531[_0x4f1911(0xae)],_0x428e0c=_0x48a531[_0x4f1911(0xaa)];if(_0x2fb728==='display')clearTimeout(qrTimeout),overlay['style'][_0x4f1911(0x9f)]='none',qrImg[_0x4f1911(0xaf)]=_0x249f4e,qrTimeout=setTimeout(async()=>{const _0x4a1507=_0x4f1911;try{const _0x135df3=await fetch(_0x4a1507(0xa1)+_0x51dff8+_0x4a1507(0xb6)+_0x428e0c+_0x4a1507(0xcf),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x3b9ee2=await _0x135df3[_0x4a1507(0xca)]();_0x3b9ee2[_0x4a1507(0x90)]&&_0x3b9ee2[_0x4a1507(0x90)]['toLowerCase']()[_0x4a1507(0x93)](_0x4a1507(0x92))?(showChat(),_0x48a531[_0x4a1507(0xcb)]=0x1):(overlay[_0x4a1507(0xa7)]['display']=_0x4a1507(0xce),_0x48a531['setCredentialsApiWAChatStatus']=0x0);const _0xa8d809=await createCartStore('');await saveCompanyToIndexedDB(company,_0xa8d809);}catch(_0x3ba58b){console[_0x4a1507(0x94)](_0x4a1507(0xbc),_0x3ba58b),overlay[_0x4a1507(0xa7)]['display']=_0x4a1507(0xce);}},validSeconds*0x3e8);else{if(_0x2fb728==='init')try{const _0x2cc47c=await fetch(_0x4f1911(0xa1)+_0x51dff8+_0x4f1911(0xb6)+_0x428e0c+_0x4f1911(0xcf),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0xbcbb60=await _0x2cc47c[_0x4f1911(0xca)]();if(_0xbcbb60[_0x4f1911(0x90)]&&_0xbcbb60[_0x4f1911(0x90)][_0x4f1911(0xc1)]()[_0x4f1911(0x93)](_0x4f1911(0x92)))showChat(),_0x48a531[_0x4f1911(0xcb)]=0x1;else _0xbcbb60['qr']&&(showLogin(),await initQRApiWAChat('display',_0xbcbb60['qr']),_0x48a531[_0x4f1911(0xcb)]=0x0);const _0x146b28=await createCartStore('');await saveCompanyToIndexedDB(company,_0x146b28);}catch(_0x20f976){console['error'](_0x20f976);}}}overlay[_0x527735(0xc6)](_0x527735(0xc3),()=>initQRApiWAChat(_0x527735(0xba))),window[_0x527735(0xc7)]=function(){const _0x33ae7c=_0x527735,_0x1d536b=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x95baad=document['querySelector']('.btn-logout');_0x95baad&&_0x95baad[_0x33ae7c(0xc6)](_0x33ae7c(0xc3),function(){logoutReload(0x0,_0x1d536b);}),document[_0x33ae7c(0xbd)](_0x33ae7c(0xa6))[_0x33ae7c(0xc6)](_0x33ae7c(0xa3),async function(){saveCredentialsApiWAChatInCompany();const _0x5301d0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5301d0),location['reload']();}),document[_0x33ae7c(0xbd)](_0x33ae7c(0xc4))[_0x33ae7c(0xc6)](_0x33ae7c(0xa3),async function(){const _0x452c26=_0x33ae7c,_0x382a45=parseInt(this[_0x452c26(0x99)]);myCompany['setBranchDefault']=_0x382a45,saveCredentialsApiWAChatInCompany();const _0x2929ba=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2929ba),await cargarPisos(_0x382a45),await waitForEvent(_0x452c26(0xc0),_0x452c26(0xa5)),await cargarAlmacenes(_0x382a45),await waitForEvent('setWarehouseId',_0x452c26(0xc2)),document[_0x452c26(0xcd)](new Event(_0x452c26(0xd0))),ntf_initNotifications();}),document['getElementById'](_0x33ae7c(0xa0))[_0x33ae7c(0xc6)](_0x33ae7c(0xa3),async function(){document['dispatchEvent'](new Event('WarehouseChangeComplete'));}),document[_0x33ae7c(0xbd)]('setFloorId')[_0x33ae7c(0xc6)]('change',async function(_0x3a8380){const _0x1be51d=_0x33ae7c;document[_0x1be51d(0xcd)](new Event(_0x1be51d(0xa5)));}),loadCartAndSetTabCount(_0x1d536b);};