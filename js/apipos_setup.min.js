/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.0
*/

function _0x5af4(){const _0x23b23b=['enero','setCompanyDoc','https://','bind','Stock\x20m√≠nimo:\x20','controllerchange','function','number','mx16','google','keydown','.autocomplete-wrapper','disabled','canvas','counter','setTipoOperacion','img','455521qDwkel','reason','DirectionsService','setImages','xpos','msExitFullscreen','isArray','alt','setItemUnitAlias','TEXTAREA','fetchFields','hidden','No\x20hay\x20setAuthToken\x20para\x20WebSocket','mozFullScreenElement','setUserName','createObjectStore','setItemImages','setTipoOperacionInvoice','setPriceLists','dataset','Evento\x20windowsUpdate\x20recibido.','size','No\x20hay\x20operaciones\x20para\x20sincronizar.','createElement','btn-access-login','infoLoadingModal','setMtoPrecioCostoUnitario','https://apierp.dev/api/email/send/','El\x20producto\x20\x22','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','.<br>','message','serviceWorker','window_options_','destination','return\x20(function()\x20','style','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','setCodeBarTypeName','setConversionFactor','top','close','Eliminar\x20producto','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.3.0\x20...</span>','setCartTmpInitial','Todos\x20los\x20campos\x20son\x20obligatorios.','690596nVJieK','onclick','deleteObjectStore','\x0aEl\x20producto\x20\x22','POST','objectStore','setDespacho','stringify','createObjectURL','setDirections','every','newItems[','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','https://maps.googleapis.com/maps/api/js?key=','setSuppliers','justifyContent','delete','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','type','transition','setItem','apiERP','Nombre\x20de\x20store\x20no\x20v√°lido:\x20','lng','caption','data-ntf-index','documentElement','target','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','Formato\x20inesperado\x20en\x20base64','setCodProducto','places','setUnidad','panTo','setDescripcion','setCajeroCodigo','fullscreenElement','min','12CeYnzT','length','julio','45x','sucursales','push','offline_operations','https://ipapi.co/json/','<br>\x0aStock\x20Actual:\x20','protocol','setFloorName','pricePerKm','co19','querySelector','display','slice','preventDefault','Tab','installing','application/json;\x20charset=utf-8','üî•\x20gmp-select\x20fired!','dispatchEvent','setCompanyAddress','src','uniqIdState','multi-markers','charCodeAt','abril','ntf-notification-dropdown','offsetWidth','embedPng','\x0a<h3\x20class=\x22infoItem-title\x22>','DRIVING','port','Products\x20Empty.','setCompanyWebsite','setCompanyLogo','Price:\x20','useGeolocation','svg','setMessage','indexOf','setSerie','__proto__','.carousel-track','toFixed','now','setBranches','ar10.5','setClienteDireccion','exception','3UlqqXy','wss','state','readwrite','windowsUpdate','\x20de\x20','WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...','error','setWindows','finally','active','some','x64c','Directions\x20request\x20failed:','Error\x20Update:','Error:\x20','.carousel-prev','newItems','setCredentialsApiWAChatIdDefault','setBranchName','f34f','random','\x20-\x20','setClienteNumDoc','https://apierp.dev/api/apiPOS/update/','Modo\x20online\x20...','setFloorId','260px','single-select','btnSaveOperacion-','legs','64system','click','892c0ae1aa021c31396d82f1','split','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','setMoneda-','setZoom','setBranchDefault','Base\x20de\x20datos\x20abierta\x20correctamente.','Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!','constructor','setCredentialsApiWAChatPort','importLibrary','setOperationSeries','warn','uy10','find','position','setCompanyPhone','Sincronizando\x20','change','windowIds\x20previamente\x20creados:','Map','diciembre','mode','zIndex','https://apierp.dev/api/apiPOS/get/','topbar','string','ntf-flotante-container-bottom','create','INPUT','64x32xsystem','replaceWith','longitude','junio','ntfIndex','addEventListener','Inicio\x20de\x20sesi√≥n\x20exitoso\x20...','setCompanyName','setItemBarCode','pdfBlob','Error\x20procesando\x20mensaje\x20WS','CO0','width','latLng','9999','substr','Error\x20guardando\x20operaci√≥n:\x20','layoutState','Google\x20Maps\x20carg√≥,\x20pero\x20no\x20se\x20encontr√≥\x20window.google.maps','setUserFullName','async','addPage','invoice','login','Error\x20Network.','1358JUshmD','756750mbhAkc','setCollaborators','btn-details-ntf-variant','setDescuentoGlobal_Monto','reduce','\x20operaciones\x20restantes...','x32','currency','setItemType','route-cost','setSeries','catch','readAsDataURL','PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.','backgroundColor','setUser_Local','\x27\x20eliminada.','No\x20se\x20pudo\x20eliminar\x20operaci√≥n\x20procesada:\x20','TravelMode','getAll','pos','all','setBatchExpirationDate','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','175QRRiim','ntf-flotante-blue','AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0','focus','setWarehouseId','setWebhook','Error:\x20Domain\x20not\x20registered.','Products\x20Load.','{}.constructor(\x22return\x20this\x22)(\x20)','setItemIsBought','toDataURL','includes','alignItems','toPlace','setClienteTipoDoc','MX20','beforeend','Item','setItemId','prototype','header','101390HHnIWl','sectionInfoItem','className','search','setUserNombres','://wss.apierp.dev/ws?token=','webkitExitFullscreen','setPrinters','setMarca','pop','getDate','script','setSellerName','detalleModalPay','x64','input,\x20select,\x20button,\x20a:not(.payment-option)','appendChild','has','sort','concat','2UxpTHE','setUsuarios','setMtoValorCostoUnitario','Company\x20Load\x20Error:','flex','\x20no\x20encontrado\x20en\x20products.','checkout-btn-','startsWith','webkitRequestFullscreen','readonly','embedFont','reload','products','setCodeBarTypeId','height','.carousel-next','route','WebSocket\x20conectado.','value','Distance:\x20','barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal','100%','setImg','usuario','Delete','setFechaHora','insertAdjacentHTML','ntf-modal-actions','mayo','setCompanyNameTrade','apply','pcrcl','title','locations','onSelect','</h3>\x0a','Mensaje\x20WS\x20no\x20reconocido:','image/png','setWarehouses','mozRequestFullScreen','msFullscreenElement','32px','status','febrero','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','div','TOP_LEFT','webkitFullscreenElement','setCustomerEmail','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','setAuthToken','id_registro','body','Company\x20Load.','Producto\x20con\x20id\x20','data','coords','append','\x22\x20expir√≥\x20el\x20','3704xhYwoy','left','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20c√≥digo\x20de\x20barras.','setEmpresaDomainWork','xtt3','objectStoreNames','ntf-flotante-orange','setWarehouseStockMin','septiembre','Error\x20desconocido.','clear','\x27\x20creado\x20correctamente.','from','Tab\x20count\x20inicializado\x20en:\x20','then','origin','console','DirectionsRenderer','x63s','setBatchName','ntf-notifications-list','setCodeBarTypes','values','onerror','innerHTML','readyState','getElementById','forEach','Generar\x20Orden\x20de\x20Compra','onLine','installed','apiPOSsendOffline','CODE128','Map\x20container\x20not\x20found','onupdatefound','Obteniendo\x20Items\x20y\x20Presentaciones\x20...','setBankAccounts','\x20‚Äì\x20','removeItem','\x22\x20para\x20registro\x20#','setBranchId','block','lat','Revisar\x20lote','414JBCDoK','log','setPlanName','day','marker','][setItemImages][','setAttribute','filter','toString','setWarehouseName','Generando\x20','Ver\x20movimientos','selectedCode','setUserCode','loadingModal','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.3.0\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','mimetype','widthOfTextAtSize','OPEN','option','./img/product.png','iconUrl','onload','/wa/','searchInput','classList','controller','ObjectStore\x20\x27','map','ltop','unshift','code','lastTs','requestFullscreen','#container-section-pay-','table','closest','setTaxId','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','oncomplete','json','tagName','gmp-select','animationend','name','result','Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.','Enter','setProductos','Error\x20al\x20obtener\x20las\x20operaciones:\x20','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','setItemDescription','payment-option','getItem','ControlPosition','setCredentialsApiWAChat','Credenciales\x20no\x20encontradas','cart_','activeElement','textContent','tabs-notifications','\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20','SW\x20Success','location','setShifts','exitFullscreen','setInventariable','Error:\x20No\x20hay\x20ventanas\x20disponibles.','put','cloneNode','User\x20no\x20Logged!','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','drawText','Acci√≥n\x20\x22','.dropdown-list-pais-flag','204bZFXrJ','Error\x20en\x20setOrders\x20para\x20windowId=','get','serializeToString','ambientes','onsuccess','ntf-flotante-container-top','statusText','success','opacity','fullscreen-btn','setCompanyEmail','transaction','setCustomers','E01','remove','setCredentialsApiWAChatSubdomain','button','version','application/pdf','info','setCredentialsApiWAChatId','latitude','setLayout','Products\x20Load\x20Error:','Stock\x20Actual:\x20','resolve','querySelectorAll','setAttachEdit','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','Google\x20Maps\x20SDK\x20listo','setCurrencyDefault','trim','‚úîÔ∏è\x20¬°Sincronizado!','Company\x20Empty.','CLOSED','trace','getFullYear','Bienvenido(a)\x20','setItemVariantValues','application/json','\x20...','maps','open','.dropdown-item-pais-flag','add','].setItemImages[','stopPropagation','CL0','AR0','d-none','SW\x20New\x20Version','setMoneda','rgf4x32','none','currency_data','rgba(0,\x200,\x200,\x200.5)','setUserEmail','cartId','Error\x20desconocido\x20al\x20actualizar\x20Data.','company','setSellerId','ntf-flotante-message\x20','Error\x20cargando\x20Google\x20Maps\x20SDK','contains','reject','filename','setWindowId','Producto\x20vencido:\x20','Error\x20in\x20saving\x20to\x20store\x20','https:','coordsInputId','Imprimir\x20C√≥digo\x20de\x20Barras','\x20del\x20','Error\x20al\x20enviar\x20operaci√≥n\x20offline:','https://apierp.dev/api/company/get/','\x20km','setMtoPrecioUnitario','windowId','102713EqVjqv','&libraries=places&v=weekly','keys','password','\x0a<h3>','setUnidadCodigo','Imagen\x20inv√°lida\x20en\x20newItems[','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','./app.js?v=4.3.0','key','112139ugHJAk'];_0x5af4=function(){return _0x23b23b;};return _0x5af4();}const _0x34b79c=_0x537e;(function(_0x115d1a,_0x396d29){const _0x387181=_0x537e,_0xafae52=_0x115d1a();while(!![]){try{const _0x23394a=parseInt(_0x387181(0x24d))/0x1*(parseInt(_0x387181(0x142))/0x2)+-parseInt(_0x387181(0xa8))/0x3*(-parseInt(_0x387181(0x28d))/0x4)+-parseInt(_0x387181(0x101))/0x5*(parseInt(_0x387181(0x2b4))/0x6)+parseInt(_0x387181(0x119))/0x7*(-parseInt(_0x387181(0x17d))/0x8)+parseInt(_0x387181(0x1a9))/0x9*(parseInt(_0x387181(0x12e))/0xa)+-parseInt(_0x387181(0x25f))/0xb*(-parseInt(_0x387181(0x1f4))/0xc)+parseInt(_0x387181(0x243))/0xd*(-parseInt(_0x387181(0x100))/0xe);if(_0x23394a===_0x396d29)break;else _0xafae52['push'](_0xafae52['shift']());}catch(_0x249e05){_0xafae52['push'](_0xafae52['shift']());}}}(_0x5af4,0x5b6e1));const _0x3faac2=(function(){let _0x226325=!![];return function(_0x1a613b,_0x347b38){const _0x3f6dcb=_0x226325?function(){const _0x59eb77=_0x537e;if(_0x347b38){const _0x40d559=_0x347b38[_0x59eb77(0x160)](_0x1a613b,arguments);return _0x347b38=null,_0x40d559;}}:function(){};return _0x226325=![],_0x3f6dcb;};}()),_0x36c721=_0x3faac2(this,function(){const _0x37da74=_0x537e;return _0x36c721[_0x37da74(0x1b1)]()[_0x37da74(0x131)]('(((.+)+)+)+$')[_0x37da74(0x1b1)]()['constructor'](_0x36c721)[_0x37da74(0x131)]('(((.+)+)+)+$');});_0x36c721();const _0x3caf2d=(function(){let _0x4bd72a=!![];return function(_0x26379d,_0x100045){const _0x10cca6=_0x4bd72a?function(){if(_0x100045){const _0x4db0f3=_0x100045['apply'](_0x26379d,arguments);return _0x100045=null,_0x4db0f3;}}:function(){};return _0x4bd72a=![],_0x10cca6;};}()),_0x3fa8f1=_0x3caf2d(this,function(){const _0x1f9abc=_0x537e;let _0x1acd03;try{const _0x539e5e=Function(_0x1f9abc(0x282)+_0x1f9abc(0x121)+');');_0x1acd03=_0x539e5e();}catch(_0x3f9d7b){_0x1acd03=window;}const _0x29e0a1=_0x1acd03[_0x1f9abc(0x18d)]=_0x1acd03[_0x1f9abc(0x18d)]||{},_0xdd703=[_0x1f9abc(0x1aa),'warn',_0x1f9abc(0x208),'error',_0x1f9abc(0xa7),_0x1f9abc(0x1cc),_0x1f9abc(0x218)];for(let _0x35bd2e=0x0;_0x35bd2e<_0xdd703['length'];_0x35bd2e++){const _0x2eb3ac=_0x3caf2d['constructor'][_0x1f9abc(0x12c)][_0x1f9abc(0x251)](_0x3caf2d),_0x18a4d7=_0xdd703[_0x35bd2e],_0xebc3f4=_0x29e0a1[_0x18a4d7]||_0x2eb3ac;_0x2eb3ac[_0x1f9abc(0xa0)]=_0x3caf2d[_0x1f9abc(0x251)](_0x3caf2d),_0x2eb3ac['toString']=_0xebc3f4['toString'][_0x1f9abc(0x251)](_0xebc3f4),_0x29e0a1[_0x18a4d7]=_0x2eb3ac;}});_0x3fa8f1();let myCompany,db=null,dbPromise=null,db_name=_0x34b79c(0x2a3),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x34b79c(0x24e),_0x34b79c(0x16d),'marzo',_0x34b79c(0x2cf),_0x34b79c(0x15e),_0x34b79c(0xea),_0x34b79c(0x2b6),'agosto',_0x34b79c(0x185),'octubre','noviembre',_0x34b79c(0xde)],gdfg5g=_0x34b79c(0xbc),x45fgd='x3',xjehd78=_0x34b79c(0x263),cxkdj4=_0x34b79c(0x13c),x87s8d=_0x34b79c(0x107),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s='32system',kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x34b79c(0xb4),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x34b79c(0x18f),xg123f=_0x34b79c(0x2b7),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x34b79c(0x181),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x34b79c(0xc7),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x34b79c(0x2d5),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x34b79c(0x1c6),x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33=_0x34b79c(0xe7),kkx12='s',ak47r=_0x34b79c(0x229),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x34b79c(0x161),p34d9='d',kx32h='v',yx34l='p',pltbr='lbtom',setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10','S01','S02',_0x34b79c(0x256),'mx08','ar21',_0x34b79c(0xa5),'cl19',_0x34b79c(0x2c0),'co5','uy22',_0x34b79c(0xd6)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x34b79c(0x141)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x34b79c(0x202),_0x34b79c(0x128),_0x34b79c(0x225),_0x34b79c(0x224),_0x34b79c(0xf2),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt['concat'](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x34b79c(0x141)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x214209){const _0x22167c=_0x34b79c;await apiERPgetWindows();const _0x25fb3b=document[_0x22167c(0x197)]('detalleModalLayout');if(_0x25fb3b[_0x22167c(0x1c2)][_0x22167c(0x234)](_0x22167c(0xb2))){const _0x6f7a6c=document[_0x22167c(0x197)](_0x22167c(0xc2))[_0x22167c(0x154)],_0x30e464=document[_0x22167c(0x197)](_0x22167c(0x1a5))[_0x22167c(0x154)];cargarVentanas(_0x30e464,_0x6f7a6c),createTabsEnvironments();}if(Array[_0x22167c(0x265)](_0x214209))for(const _0x388082 of _0x214209){try{await setOrders(_0x388082);}catch(_0x3b8c13){console['error'](_0x22167c(0x1f5)+_0x388082+':',_0x3b8c13);}}else console[_0x22167c(0xd5)]('No\x20es\x20un\x20array\x20valido:',_0x214209);}let socket;function conectarWebSocket(){const _0x2c9e5b=_0x34b79c;if(socket&&socket[_0x2c9e5b(0x196)]!==WebSocket[_0x2c9e5b(0x217)]){console[_0x2c9e5b(0x1aa)](_0x2c9e5b(0x2aa));return;}const _0x36b09f=myCompany[_0x2c9e5b(0x174)];if(!_0x36b09f){console['error'](_0x2c9e5b(0x26b));return;}const _0x1bd353=location[_0x2c9e5b(0x2bd)]===_0x2c9e5b(0x23a)?_0x2c9e5b(0xa9):'ws',_0x1751e1=_0x1bd353+_0x2c9e5b(0x133)+encodeURIComponent(_0x36b09f);socket=new WebSocket(_0x1751e1),socket[_0x2c9e5b(0xec)](_0x2c9e5b(0x21f),()=>{const _0xb0f2b1=_0x2c9e5b;console['log'](_0xb0f2b1(0x153));}),socket[_0x2c9e5b(0xec)](_0x2c9e5b(0x27e),async _0x3d648e=>{const _0x7eddbe=_0x2c9e5b;try{const _0x77e51b=JSON['parse'](_0x3d648e[_0x7eddbe(0x179)]);if(_0x77e51b[_0x7eddbe(0x2a0)]===_0x7eddbe(0xac))console[_0x7eddbe(0x1aa)](_0x7eddbe(0x273)),await reloadWindowsAndLayout(_0x77e51b[_0x7eddbe(0x179)]),ntfShow(_0x7eddbe(0x215),0x1,0x2);else _0x77e51b['type']==='updateLastCorrelative'?(console['log']('Evento\x20updateLastCorrelative\x20recibido.'),updateLastCorrelativeOnline(_0x77e51b[_0x7eddbe(0x179)]['setOperationType'],_0x77e51b[_0x7eddbe(0x179)][_0x7eddbe(0xd4)])):console[_0x7eddbe(0x1aa)](_0x7eddbe(0x166),_0x77e51b);}catch(_0x4267aa){console[_0x7eddbe(0xaf)](_0x7eddbe(0xf1),_0x4267aa);}}),socket[_0x2c9e5b(0xec)](_0x2c9e5b(0x288),_0x3e75c3=>{const _0x73c4d0=_0x2c9e5b;console[_0x73c4d0(0xd5)](_0x73c4d0(0xae),_0x3e75c3[_0x73c4d0(0x260)]),setTimeout(conectarWebSocket,0x3a98);}),socket[_0x2c9e5b(0xec)](_0x2c9e5b(0xaf),_0x1961cd=>{const _0xbaedeb=_0x2c9e5b;console[_0xbaedeb(0xaf)]('Error\x20en\x20WebSocket',_0x1961cd);});}function isWebSocketActive(){const _0x2edd28=_0x34b79c;return socket&&socket['readyState']===WebSocket[_0x2edd28(0x1bb)];}function getQueryParam(_0x411b6b){const _0x260d2e=_0x34b79c,_0x4bcbbe=new URLSearchParams(window[_0x260d2e(0x1e8)]['search']);return _0x4bcbbe[_0x260d2e(0x1f6)](_0x411b6b);}function setUserNameGet(){const _0x40e004=_0x34b79c,_0x412222=getQueryParam('username'),_0x297a59=document[_0x40e004(0x197)](_0x40e004(0x159));_0x412222&&_0x297a59&&(_0x297a59[_0x40e004(0x154)]=_0x412222);}function generateUniqId(){const _0x27edae=_0x34b79c;return Date[_0x27edae(0xa3)]()+'_'+Math[_0x27edae(0xbd)]()['toString'](0x24)[_0x27edae(0xf6)](0x2,0x9);}var hasLocalStorage=(function(){const _0x2a0ee0=_0x34b79c;try{var _0x2c0a81='__test_ls__';return localStorage[_0x2a0ee0(0x2a2)](_0x2c0a81,_0x2c0a81),localStorage[_0x2a0ee0(0x1a3)](_0x2c0a81),!![];}catch(_0x25932d){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x1bc0e9=_0x34b79c;if(!hasLocalStorage){var _0x2177e1=Date['now']();return _0x2177e1===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x2177e1,counter_mem=0x0),_0x2177e1*0x3e8+counter_mem;}var _0x1826a6=_0x1bc0e9(0x2cc),_0x4aa19;try{var _0x3d4ae9=localStorage[_0x1bc0e9(0x1de)](_0x1826a6);_0x4aa19=_0x3d4ae9?JSON['parse'](_0x3d4ae9):{'lastTs':0x0,'counter':0x0},(typeof _0x4aa19['lastTs']!==_0x1bc0e9(0x255)||typeof _0x4aa19[_0x1bc0e9(0x25c)]!==_0x1bc0e9(0x255))&&(_0x4aa19={'lastTs':0x0,'counter':0x0});}catch(_0x4f697e){_0x4aa19={'lastTs':0x0,'counter':0x0};}var _0x3e718d=Date[_0x1bc0e9(0xa3)]();_0x3e718d===_0x4aa19[_0x1bc0e9(0x1c9)]?_0x4aa19[_0x1bc0e9(0x25c)]=(_0x4aa19[_0x1bc0e9(0x25c)]+0x1)%0x3e8:(_0x4aa19['lastTs']=_0x3e718d,_0x4aa19['counter']=0x0);var _0x250476=_0x3e718d*0x3e8+_0x4aa19[_0x1bc0e9(0x25c)];try{localStorage[_0x1bc0e9(0x2a2)](_0x1826a6,JSON[_0x1bc0e9(0x294)](_0x4aa19));}catch(_0xa9458b){}return _0x250476;}function blobAStringBase64(_0x28f48a){return new Promise((_0x4c2a4,_0x3e2372)=>{const _0x1bbbb7=_0x537e,_0xac4c97=new FileReader();_0xac4c97['onloadend']=()=>{const _0x43d082=_0x537e,_0x285679=_0xac4c97[_0x43d082(0x1d6)],_0x80e1ed=_0x285679['split'](',');if(_0x80e1ed[_0x43d082(0x2b5)]!==0x2)return _0x3e2372(new Error(_0x43d082(0x2ab)));_0x4c2a4(_0x80e1ed[0x1]);},_0xac4c97[_0x1bbbb7(0x194)]=_0x2554b4=>_0x3e2372(_0x2554b4),_0xac4c97[_0x1bbbb7(0x10d)](_0x28f48a);});}async function generarBarcodeDataURL(_0x29867b,_0x17fcc8){return new Promise((_0x396353,_0x2043e1)=>{const _0x13456c=_0x537e,_0x18061d=myCompany[_0x13456c(0x192)][_0x13456c(0xd7)](_0x119f35=>_0x119f35[_0x13456c(0x14f)]==_0x29867b),_0x3c6484=_0x18061d?_0x18061d[_0x13456c(0x285)]:_0x13456c(0x19d),_0x105826=document['createElementNS']('http://www.w3.org/2000/svg',_0x13456c(0x2db));JsBarcode(_0x105826,_0x17fcc8,{'format':_0x3c6484,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x39ba8b=new XMLSerializer()[_0x13456c(0x1f7)](_0x105826),_0x2ab698=btoa(_0x39ba8b),_0x5f0911='data:image/svg+xml;base64,'+_0x2ab698,_0x161c6c=new Image();_0x161c6c[_0x13456c(0x1bf)]=()=>{const _0x352c0a=_0x13456c,_0xa85443=document[_0x352c0a(0x276)](_0x352c0a(0x25b));_0xa85443[_0x352c0a(0xf3)]=_0x161c6c[_0x352c0a(0xf3)],_0xa85443['height']=_0x161c6c['height'];const _0x2467c3=_0xa85443['getContext']('2d');_0x2467c3['drawImage'](_0x161c6c,0x0,0x0);const _0x32f5f6=_0xa85443[_0x352c0a(0x123)](_0x352c0a(0x167));_0x396353(_0x32f5f6);},_0x161c6c[_0x13456c(0x194)]=_0x3b33f0=>_0x2043e1(_0x3b33f0),_0x161c6c[_0x13456c(0x2cb)]=_0x5f0911;});}async function generarStickersPDF(_0x5de37e,_0x381e3b,_0x574a14){const _0x51a771=_0x34b79c,{PDFDocument:_0x471811,StandardFonts:_0x3cb275,rgb:_0x5b2fda}=PDFLib,_0x55d10e=products[_0x51a771(0xd7)](_0x52d829=>_0x52d829['id']==_0x574a14);if(!_0x55d10e){console['error'](_0x51a771(0x178)+_0x574a14+_0x51a771(0x147));return;}const _0x341171=_0x55d10e['setDescripcion'][_0x51a771(0x214)](),_0x31c7b2=document[_0x51a771(0x197)](_0x51a771(0x242))[_0x51a771(0x154)],_0x383540=document[_0x51a771(0x197)](_0x51a771(0xcc)+_0x31c7b2)[_0x51a771(0x154)],_0x25c64f=(_0x55d10e[_0x51a771(0x22b)]||[])[_0x51a771(0xd7)](_0x1f252a=>_0x1f252a[_0x51a771(0x108)]==_0x383540)||{},_0x1418a6=_0x25c64f[_0x51a771(0x279)]||0x0,_0x4a03db=getCurrencySymbol(_0x31c7b2),_0x33871f=Number(_0x1418a6)||0x0,_0x2dcca0=_0x4a03db+'\x20'+_0x33871f[_0x51a771(0xa2)](0x2),_0x37c538=await _0x471811[_0x51a771(0xe5)](),_0x464fdd=_0x7eab16=>_0x7eab16*2.83465,_0x8bffd0=_0x464fdd(0x70*0x2),_0xec0e76=_0x464fdd(40.8),_0x21efaf=_0x37c538[_0x51a771(0xfc)]([_0x8bffd0,_0xec0e76]),_0x50051a=await _0x37c538[_0x51a771(0x14c)](_0x3cb275['Helvetica']),_0x52f025=Array(0x2)['fill'](_0x381e3b),_0x57b405=0x2,_0x1343a7=0x1,_0x31b3ab=0xc,_0x3408f5=_0x8bffd0/_0x57b405,_0x569aa0=_0xec0e76/_0x1343a7;for(let _0x5a19dc=0x0;_0x5a19dc<0x2;_0x5a19dc++){const _0xf95ee5=_0x52f025[_0x5a19dc],_0xaf796a=await generarBarcodeDataURL(_0x5de37e,_0xf95ee5),_0x4d9c48=_0xaf796a[_0x51a771(0xca)](',')[0x1],_0xe21d9d=Uint8Array[_0x51a771(0x189)](atob(_0x4d9c48),_0x1ca79f=>_0x1ca79f[_0x51a771(0x2ce)](0x0));let _0x5caac9;try{_0x5caac9=await _0x37c538[_0x51a771(0x2d2)](_0xe21d9d);}catch{_0x5caac9=await _0x37c538['embedJpg'](_0xe21d9d);}const _0x4b67c8=0x5,_0x218b74=_0x31b3ab+0x4,_0x40152b=_0x31b3ab*0x2+0x4,_0x39ef06=_0x341171,_0x3b9186=_0x2dcca0,_0xb5592d=_0x5a19dc%_0x57b405,_0x483e24=_0x50051a[_0x51a771(0x1ba)](_0x39ef06,_0x31b3ab),_0x183327=_0x50051a['widthOfTextAtSize'](_0x3b9186,_0x31b3ab),_0x25b4d5=_0xb5592d*_0x3408f5+(_0x3408f5-_0x483e24)/0x2,_0x4c3318=_0xb5592d*_0x3408f5+(_0x3408f5-_0x183327)/0x2,_0x4b7e8d=_0x569aa0-_0x4b67c8-_0x31b3ab,_0x64e873=_0x4b7e8d-_0x31b3ab-0x2;_0x21efaf[_0x51a771(0x1f1)](_0x39ef06,{'x':_0x25b4d5,'y':_0x4b7e8d,'size':_0x31b3ab,'font':_0x50051a,'color':_0x5b2fda(0x0,0x0,0x0)}),_0x21efaf[_0x51a771(0x1f1)](_0x3b9186,{'x':_0x4c3318,'y':_0x64e873,'size':_0x31b3ab,'font':_0x50051a,'color':_0x5b2fda(0x0,0x0,0x0)});const _0x5ce337=_0x3408f5-_0x4b67c8*0x2,_0x374b3d=_0x569aa0-_0x4b67c8*0x2-_0x40152b-_0x218b74,_0x4fc2b0=_0x5caac9[_0x51a771(0xf3)],_0x2bd2f6=_0x5caac9[_0x51a771(0x150)],_0x1bad03=Math['min'](_0x5ce337/_0x4fc2b0,_0x374b3d/_0x2bd2f6,0x1),_0x51fee6=_0x5caac9['scale'](_0x1bad03),_0x2fe2e6=_0xb5592d*_0x3408f5+(_0x3408f5-_0x51fee6[_0x51a771(0xf3)])/0x2,_0x5d0893=_0x64e873-_0x51fee6[_0x51a771(0x150)]-0x4;_0x21efaf['drawImage'](_0x5caac9,{'x':_0x2fe2e6,'y':_0x5d0893,'width':_0x51fee6[_0x51a771(0xf3)],'height':_0x51fee6[_0x51a771(0x150)]});const _0x50eb0d=_0x50051a[_0x51a771(0x1ba)](_0xf95ee5,_0x31b3ab),_0x48000=_0xb5592d*_0x3408f5+(_0x3408f5-_0x50eb0d)/0x2,_0xbd39d7=_0x5d0893-_0x31b3ab-0x2;_0x21efaf[_0x51a771(0x1f1)](_0xf95ee5,{'x':_0x48000,'y':_0xbd39d7,'size':_0x31b3ab,'font':_0x50051a,'color':_0x5b2fda(0x0,0x0,0x0)});}const _0x115496=await _0x37c538['save'](),_0x1995f9=new Blob([_0x115496],{'type':_0x51a771(0x207)}),_0x4adf22=URL[_0x51a771(0x295)](_0x1995f9);window[_0x51a771(0x21f)](_0x4adf22);}async function sendEmail(_0x2d3257,_0x325f40,_0x20399e,_0x4a7e5d,_0x6cb648,_0x15cfe8,_0x204ef6,_0x1137a4,_0x544ab3,_0xc9459){const _0x52e6b6=_0x34b79c;if(isOnline()){const _0x3321a3={'setAuthToken':_0x2d3257,'senderName':_0x325f40,'senderEmail':_0x20399e,'senderPassword':_0x4a7e5d,'smtpHost':_0x6cb648,'smtpPort':_0x15cfe8,'emailsDestination':_0x204ef6,'subject':_0x1137a4,'message':_0x544ab3,'attachFiles':_0xc9459};try{const _0x3a56ef=await fetch(_0x52e6b6(0x27a),{'method':'POST','headers':{'Content-Type':_0x52e6b6(0x2c7)},'body':JSON[_0x52e6b6(0x294)](_0x3321a3)}),_0x41d967=await _0x3a56ef['json']();if(!_0x3a56ef['ok']||!_0x41d967[_0x52e6b6(0x1fc)]){console[_0x52e6b6(0xaf)]('Error\x20al\x20enviar\x20correo:',_0x41d967),ntfShow(_0x52e6b6(0x1d7));return;}}catch(_0x584638){console['error']('Error\x20en\x20la\x20solicitud:',_0x584638);}}}function loadLoginContent(_0x5f581a){const _0x4d8968=_0x34b79c,_0x4c078c=document[_0x4d8968(0x197)](_0x4d8968(0xfe));_0x4c078c[_0x4d8968(0x195)]=_0x4d8968(0x118)+_0x5f581a+_0x4d8968(0x1b8);}function addNumber(_0x3247f8){const _0x294894=_0x34b79c;document[_0x294894(0x197)]('password')[_0x294894(0x154)]+=_0x3247f8;}function deleteNumber(){const _0x46e65e=_0x34b79c;let _0xbea6ea=document[_0x46e65e(0x197)](_0x46e65e(0x246));_0xbea6ea[_0x46e65e(0x154)]=_0xbea6ea[_0x46e65e(0x154)][_0x46e65e(0x2c3)](0x0,-0x1);}function togglePassword(){const _0x15ca58=_0x34b79c;let _0x8767e1=document[_0x15ca58(0x197)](_0x15ca58(0x246));_0x8767e1[_0x15ca58(0x2a0)]=_0x8767e1[_0x15ca58(0x2a0)]==_0x15ca58(0x246)?'text':_0x15ca58(0x246);}function _0x537e(_0x1559b8,_0x2552e4){const _0x24acea=_0x5af4();return _0x537e=function(_0x3fa8f1,_0x3caf2d){_0x3fa8f1=_0x3fa8f1-0xa0;let _0x5bd8b4=_0x24acea[_0x3fa8f1];return _0x5bd8b4;},_0x537e(_0x1559b8,_0x2552e4);}function setEventBtnAccess(){const _0x54a883=_0x34b79c,_0x1d493b=document[_0x54a883(0x197)](_0x54a883(0x277));_0x1d493b[_0x54a883(0x28e)]=function(){acceder();};}function isOnline(){const _0x6c64b4=_0x34b79c;return window['navigator'][_0x6c64b4(0x19a)];}function showLoadingModal(){const _0x52243b=_0x34b79c,_0x2d0b20=document[_0x52243b(0x276)](_0x52243b(0x16f));_0x2d0b20['id']='loadingModal',_0x2d0b20[_0x52243b(0x283)][_0x52243b(0xd8)]='fixed',_0x2d0b20[_0x52243b(0x283)][_0x52243b(0x287)]='0',_0x2d0b20[_0x52243b(0x283)][_0x52243b(0x17e)]='0',_0x2d0b20[_0x52243b(0x283)][_0x52243b(0xf3)]=_0x52243b(0x157),_0x2d0b20['style'][_0x52243b(0x150)]='100%',_0x2d0b20['style'][_0x52243b(0x10f)]=_0x52243b(0x22c),_0x2d0b20['style']['display']=_0x52243b(0x146),_0x2d0b20[_0x52243b(0x283)][_0x52243b(0x29c)]='center',_0x2d0b20['style'][_0x52243b(0x125)]='center',_0x2d0b20['style'][_0x52243b(0xe0)]=_0x52243b(0xf5),_0x2d0b20[_0x52243b(0x283)]['opacity']='1',_0x2d0b20[_0x52243b(0x283)][_0x52243b(0x2a1)]='none',_0x2d0b20[_0x52243b(0x195)]=_0x52243b(0x29e),document[_0x52243b(0x176)][_0x52243b(0x13e)](_0x2d0b20);}function hideLoadingModal(){const _0x390100=_0x34b79c,_0x147a9a=document[_0x390100(0x197)](_0x390100(0x1b7));_0x147a9a&&(_0x147a9a[_0x390100(0x283)][_0x390100(0x1fd)]='0',_0x147a9a[_0x390100(0x203)]());}function cargarAlmacenes(_0x550638){const _0x5eef9e=_0x34b79c,_0x2344e0=document[_0x5eef9e(0x197)]('setWarehouseId');_0x2344e0[_0x5eef9e(0x195)]='';const _0x5899ff=company[0x0][_0x5eef9e(0xa4)]['find'](_0x1f6512=>_0x1f6512['setBranchId']==_0x550638);_0x5899ff&&_0x5899ff[_0x5eef9e(0x168)]['length']>0x0&&_0x5899ff[_0x5eef9e(0x168)]['forEach'](_0x58952c=>{const _0x330a4a=_0x5eef9e;let _0x48a0c1=document[_0x330a4a(0x276)](_0x330a4a(0x1bc));_0x48a0c1['value']=_0x58952c[_0x330a4a(0x11d)],_0x48a0c1[_0x330a4a(0x1e4)]=_0x58952c[_0x330a4a(0x1b2)],_0x2344e0[_0x330a4a(0x13e)](_0x48a0c1);});}function getAllWarehouses(){const _0x20cdaa=_0x34b79c,_0x22e22b=company[0x0][_0x20cdaa(0xa4)]||[],_0x308807=new Map();return _0x22e22b[_0x20cdaa(0x198)](_0x5cb683=>{const _0x30c280=_0x20cdaa;(_0x5cb683[_0x30c280(0x168)]||[])[_0x30c280(0x198)](_0x9445c5=>{const _0x596747=_0x30c280;!_0x308807[_0x596747(0x13f)](_0x9445c5[_0x596747(0x11d)])&&_0x308807['set'](_0x9445c5['setWarehouseId'],{'setWarehouseId':_0x9445c5[_0x596747(0x11d)],'setWarehouseName':_0x9445c5[_0x596747(0x1b2)]+'\x20('+_0x5cb683[_0x596747(0xbb)]+')'});});}),Array[_0x20cdaa(0x189)](_0x308807[_0x20cdaa(0x193)]());}function cargarPisos(_0x18e869){const _0x99307c=_0x34b79c,_0x2855cf=company[0x0][_0x99307c(0xb0)][_0x99307c(0x1b0)](_0x29e4be=>_0x29e4be['setBranchId']==_0x18e869),_0x521343={};_0x2855cf[_0x99307c(0x198)](_0x3f4ed7=>{const _0x309de2=_0x99307c;_0x521343[_0x3f4ed7[_0x309de2(0xc2)]]=_0x3f4ed7[_0x309de2(0x2be)];});const _0x2b108a=document[_0x99307c(0x197)](_0x99307c(0xc2));_0x2b108a[_0x99307c(0x195)]='';for(const _0x139b66 in _0x521343){const _0x13ae8a=document[_0x99307c(0x276)]('option');_0x13ae8a[_0x99307c(0x154)]=_0x139b66,_0x13ae8a[_0x99307c(0x1e4)]=_0x521343[_0x139b66],_0x2b108a['appendChild'](_0x13ae8a);}}document[_0x34b79c(0x197)](_0x34b79c(0x1fe))[_0x34b79c(0xec)](_0x34b79c(0xc8),()=>{const _0x3fb957=_0x34b79c,_0x5c0a27=document[_0x3fb957(0x2a8)],_0x4eb007=document[_0x3fb957(0x2b2)]||document[_0x3fb957(0x171)]||document[_0x3fb957(0x26c)]||document[_0x3fb957(0x16a)];if(!_0x4eb007){if(_0x5c0a27[_0x3fb957(0x1ca)])_0x5c0a27[_0x3fb957(0x1ca)]();else{if(_0x5c0a27['webkitRequestFullscreen'])_0x5c0a27[_0x3fb957(0x14a)]();else{if(_0x5c0a27['mozRequestFullScreen'])_0x5c0a27[_0x3fb957(0x169)]();else _0x5c0a27['msRequestFullscreen']&&_0x5c0a27['msRequestFullscreen']();}}}else{if(document[_0x3fb957(0x1ea)])document[_0x3fb957(0x1ea)]();else{if(document[_0x3fb957(0x134)])document[_0x3fb957(0x134)]();else{if(document['mozCancelFullScreen'])document['mozCancelFullScreen']();else document[_0x3fb957(0x264)]&&document[_0x3fb957(0x264)]();}}}});function openModalDetailsAndNtf(_0x5cec20,_0x4d1dda,_0x59dc42=null){const _0x3ebea3=_0x34b79c,_0x1e0428=products['find'](_0x59c984=>_0x59c984['id']==_0x5cec20),_0x537faa=_0x1e0428['id'],_0x49e6bf=_0x1e0428[_0x3ebea3(0x2ac)],_0x326260=_0x1e0428[_0x3ebea3(0x2b0)],_0x4de9e0=_0x1e0428[_0x3ebea3(0xef)],_0x398bc8=_0x1e0428[_0x3ebea3(0x158)]?.['trim']()||_0x3ebea3(0x1bd),_0x576300=Array[_0x3ebea3(0x265)](_0x1e0428['setImages'])&&_0x1e0428[_0x3ebea3(0x262)][_0x3ebea3(0x2b5)]>0x0?_0x1e0428[_0x3ebea3(0x262)]:[{'setImageUrl':_0x398bc8}],_0x391d27=_0x576300[_0x3ebea3(0x1c5)](_0x4f3f2e=>_0x4f3f2e['setImageUrl']),_0x487b15=document[_0x3ebea3(0x197)]('itemModal'),_0x19a5ab=_0x487b15[_0x3ebea3(0x2c1)](_0x3ebea3(0xa1)),_0x55375b=_0x487b15['querySelector']('.modal-close-carousel'),_0x534f9f=_0x487b15[_0x3ebea3(0x2c1)]('.modal-overlay-carousel'),_0x2adc29=document[_0x3ebea3(0x197)](_0x3ebea3(0x12f)),_0x4c014d=_0x487b15[_0x3ebea3(0x2c1)]('.carousel-prev'),_0x2f6d70=_0x487b15['querySelector'](_0x3ebea3(0x151));_0x19a5ab[_0x3ebea3(0x195)]='',_0x391d27[_0x3ebea3(0x198)](_0x11ceff=>{const _0x3ff294=_0x3ebea3,_0x49a39d=document['createElement']('img');_0x49a39d['src']=_0x11ceff,_0x49a39d[_0x3ff294(0x266)]=_0x3ff294(0x12a),_0x19a5ab[_0x3ff294(0x13e)](_0x49a39d);});let _0x3a55ca=0x0;const _0x5a6d4c=_0x391d27[_0x3ebea3(0x2b5)];function _0xddc3b8(){const _0x496a64=_0x3ebea3;_0x19a5ab[_0x496a64(0x283)]['transform']='translateX(-'+_0x3a55ca*0x64+'%)';}_0x391d27['forEach'](_0x40ffb6=>{const _0x30bf38=_0x3ebea3,_0x35f1b8=new Image();_0x35f1b8[_0x30bf38(0x2cb)]=_0x40ffb6;});_0x5a6d4c<=0x1?(_0x4c014d[_0x3ebea3(0x283)]['display']=_0x3ebea3(0x22a),_0x2f6d70[_0x3ebea3(0x283)][_0x3ebea3(0x2c2)]='none'):(_0x4c014d[_0x3ebea3(0x283)][_0x3ebea3(0x2c2)]='',_0x2f6d70[_0x3ebea3(0x283)][_0x3ebea3(0x2c2)]='');_0x3a55ca=0x0,_0xddc3b8();function _0x158439(_0x1cfddd){const _0xd58e76=_0x3ebea3;_0x1cfddd[_0xd58e76(0x223)](),_0x3a55ca=(_0x3a55ca-0x1+_0x5a6d4c)%_0x5a6d4c,_0xddc3b8();}function _0x34e0f2(_0x1bc260){const _0x237e19=_0x3ebea3;_0x1bc260[_0x237e19(0x223)](),_0x3a55ca=(_0x3a55ca+0x1)%_0x5a6d4c,_0xddc3b8();}_0x4c014d[_0x3ebea3(0xe8)](_0x4c014d[_0x3ebea3(0x1ee)](!![])),_0x2f6d70['replaceWith'](_0x2f6d70[_0x3ebea3(0x1ee)](!![]));const _0x37a7dd=_0x487b15['querySelector'](_0x3ebea3(0xb8)),_0x2a2600=_0x487b15[_0x3ebea3(0x2c1)](_0x3ebea3(0x151));_0x37a7dd[_0x3ebea3(0xec)](_0x3ebea3(0xc8),_0x158439),_0x2a2600[_0x3ebea3(0xec)]('click',_0x34e0f2),_0x55375b[_0x3ebea3(0xec)](_0x3ebea3(0xc8),_0x40bfa7=>{const _0x57d507=_0x3ebea3;_0x40bfa7['stopPropagation'](),_0x487b15[_0x57d507(0x283)]['display']=_0x57d507(0x22a);}),_0x534f9f[_0x3ebea3(0xec)](_0x3ebea3(0xc8),()=>{const _0x337c38=_0x3ebea3;_0x487b15[_0x337c38(0x283)][_0x337c38(0x2c2)]=_0x337c38(0x22a);}),_0x487b15['style'][_0x3ebea3(0x2c2)]=_0x3ebea3(0x146),_0x2adc29['innerHTML']=_0x3ebea3(0x2d3)+_0x49e6bf+_0x3ebea3(0xbe)+_0x326260+_0x3ebea3(0x165);const _0x4dda37=document[_0x3ebea3(0x276)]('select');_0x4dda37[_0x3ebea3(0x130)]=_0x3ebea3(0x156);const _0x274291=document[_0x3ebea3(0x276)](_0x3ebea3(0x1bc));_0x274291[_0x3ebea3(0x154)]='0',_0x274291[_0x3ebea3(0x1e4)]=_0x3ebea3(0x23c),_0x4dda37[_0x3ebea3(0x13e)](_0x274291),myCompany['setCodeBarTypes'][_0x3ebea3(0x198)](_0x3bf2a6=>{const _0x4b147f=_0x3ebea3,_0x262a6e=document[_0x4b147f(0x276)](_0x4b147f(0x1bc));_0x262a6e[_0x4b147f(0x154)]=String(_0x3bf2a6[_0x4b147f(0x14f)]),_0x262a6e['textContent']=_0x3bf2a6['setCodeBarTypeName'],_0x4dda37[_0x4b147f(0x13e)](_0x262a6e);}),_0x4dda37[_0x3ebea3(0xec)]('change',function(){const _0x3c8d67=_0x3ebea3,_0x511b28=parseInt(this['value'],0xa);if(_0x511b28===0x0)return;typeof _0x4de9e0===_0x3c8d67(0xe3)&&_0x4de9e0['trim']()[_0x3c8d67(0x2b5)]>=0x1?generarStickersPDF(_0x511b28,_0x4de9e0[_0x3c8d67(0x214)](),_0x5cec20):(ntfShow(_0x3c8d67(0x17f),0x2,0x2),this['value']='0');}),_0x2adc29[_0x3ebea3(0x13e)](_0x4dda37);var _0x3dd60a=document[_0x3ebea3(0x276)](_0x3ebea3(0x205));_0x3dd60a[_0x3ebea3(0x2a0)]=_0x3ebea3(0x205),_0x3dd60a['className']=_0x3ebea3(0x103),_0x3dd60a['textContent']='Agregar\x20Variantes',_0x3dd60a[_0x3ebea3(0xec)](_0x3ebea3(0xc8),function(){const _0x4b6fe3=_0x3ebea3,_0x3052c1=document[_0x4b6fe3(0x197)]('itemModal');_0x3052c1[_0x4b6fe3(0x283)][_0x4b6fe3(0x2c2)]='none',showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x537faa),initializeFormInputsBasic(_0x537faa),initializeFormTax(_0x537faa),initializeFormCategoriesBrands(_0x537faa);}),_0x2adc29[_0x3ebea3(0x13e)](_0x3dd60a);if(_0x59dc42!=null){_0x2adc29[_0x3ebea3(0x15c)](_0x3ebea3(0x129),_0x3ebea3(0x247)+_0x59dc42['title']+'</h3><p>'+_0x59dc42[_0x3ebea3(0x27e)]+_0x3ebea3(0x299));var _0x28f861=document['getElementById'](_0x3ebea3(0x15d));_0x59dc42[_0x3ebea3(0x2a0)]===0x1&&[_0x3ebea3(0x199),'Registrar\x20movimiento',_0x3ebea3(0x1b4)]['forEach'](function(_0x4b77dd){const _0x25d618=_0x3ebea3;var _0x8e02ad=document[_0x25d618(0x276)](_0x25d618(0x205));_0x8e02ad[_0x25d618(0x1e4)]=_0x4b77dd,_0x8e02ad['addEventListener'](_0x25d618(0xc8),function(){const _0x53c414=_0x25d618;console['log'](_0x53c414(0x1f2)+_0x4b77dd+'\x22\x20para\x20registro\x20#'+_0x59dc42[_0x53c414(0x175)]);}),_0x28f861[_0x25d618(0x13e)](_0x8e02ad);}),_0x59dc42[_0x3ebea3(0x2a0)]===0x2&&[_0x3ebea3(0x1a8),_0x3ebea3(0x289)]['forEach'](function(_0x2e8127){const _0x4bee25=_0x3ebea3;var _0x34d473=document[_0x4bee25(0x276)]('button');_0x34d473[_0x4bee25(0x1e4)]=_0x2e8127,_0x34d473[_0x4bee25(0xec)]('click',function(){const _0x27c1b0=_0x4bee25;console['log'](_0x27c1b0(0x1f2)+_0x2e8127+_0x27c1b0(0x1a4)+_0x59dc42['id_registro']);}),_0x28f861[_0x4bee25(0x13e)](_0x34d473);});}}function ntf_formatDateDMY(_0x228228){const _0x4d697b=_0x34b79c;var _0x2baace=new Date(_0x228228),_0x297f92=_0x2baace[_0x4d697b(0x138)](),_0x4dc225=_0x2baace[_0x4d697b(0x219)](),_0x313300=monthsEspanish[_0x2baace['getMonth']()];return _0x297f92+_0x4d697b(0xad)+_0x313300+_0x4d697b(0x23d)+_0x4dc225;}function ntf_groupBy(_0x322ad0,_0x3611ca){const _0x237b48=_0x34b79c;return _0x322ad0[_0x237b48(0x105)](function(_0x11097d,_0x296b18){const _0x2209bd=_0x237b48;var _0x2c8e92=_0x296b18[_0x3611ca];return _0x11097d[_0x2c8e92]=_0x11097d[_0x2c8e92]||[],_0x11097d[_0x2c8e92][_0x2209bd(0x2b9)](_0x296b18),_0x11097d;},{});}function ntf_isExpired(_0xb8357d){if(!_0xb8357d)return![];var _0x1623e0=new Date();return _0x1623e0['setHours'](0x0,0x0,0x0,0x0),new Date(_0xb8357d)<=_0x1623e0;}function ntf_getNotifications(){const _0x1c8497=_0x34b79c;var _0x3eea27=parseInt(document[_0x1c8497(0x197)](_0x1c8497(0x11d))[_0x1c8497(0x154)],0xa),_0x206cbc=ntf_groupBy(products,'setIdProducto'),_0x26c859=[];return Object[_0x1c8497(0x245)](_0x206cbc)[_0x1c8497(0x198)](function(_0x264c65){const _0x1f9242=_0x1c8497;var _0x141c03=_0x206cbc[_0x264c65],_0x5aa5c6=_0x141c03[0x0],_0x3c1981=(_0x5aa5c6[_0x1f9242(0x2b8)]||[])['find'](function(_0x12164d){return _0x12164d['setIdSucursal']==_0x3eea27;});if(!_0x3c1981)return;var _0x54a16d=parseFloat(_0x3c1981['setSucursalStock']),_0x29e23c=parseFloat(_0x3c1981[_0x1f9242(0x184)]);_0x5aa5c6[_0x1f9242(0x1eb)]==0x1&&_0x54a16d<=_0x29e23c&&_0x26c859[_0x1f9242(0x2b9)]({'type':0x1,'id_registro':_0x5aa5c6['id'],'title':_0x1f9242(0x252)+_0x5aa5c6[_0x1f9242(0x2b0)],'message':_0x1f9242(0x290)+_0x5aa5c6[_0x1f9242(0x2b0)]+_0x1f9242(0x1e6)+_0x29e23c[_0x1f9242(0xa2)](0x3)+_0x1f9242(0x2bc)+_0x54a16d[_0x1f9242(0xa2)](0x3)+'\x0a','data':{'producto':_0x5aa5c6,'stock':_0x54a16d,'minStock':_0x29e23c}}),_0x5aa5c6[_0x1f9242(0x117)]&&ntf_isExpired(_0x5aa5c6[_0x1f9242(0x117)])&&_0x26c859[_0x1f9242(0x2b9)]({'type':0x2,'id_registro':_0x5aa5c6['id'],'title':_0x1f9242(0x238)+_0x5aa5c6['setDescripcion'],'message':_0x1f9242(0x27b)+_0x5aa5c6[_0x1f9242(0x2b0)]+_0x1f9242(0x17c)+ntf_formatDateDMY(_0x5aa5c6[_0x1f9242(0x117)])+_0x1f9242(0x27d)+_0x1f9242(0x20d)+_0x54a16d[_0x1f9242(0xa2)](0x3),'data':{'producto':_0x5aa5c6,'expiration':_0x5aa5c6[_0x1f9242(0x117)]}});}),_0x26c859;}function ntf_renderNotifications(){const _0x4d13c6=_0x34b79c;var _0x37ed27=ntf_getNotifications(),_0x44e78b=document[_0x4d13c6(0x197)](_0x4d13c6(0x191)),_0x1e80c4=document[_0x4d13c6(0x197)]('ntf-notif-count');_0x44e78b[_0x4d13c6(0x195)]='',_0x1e80c4[_0x4d13c6(0x1e4)]=_0x37ed27[_0x4d13c6(0x2b5)];if(_0x37ed27[_0x4d13c6(0x2b5)]===0x0){var _0x11cfa5=document[_0x4d13c6(0x276)]('li');_0x11cfa5[_0x4d13c6(0x1e4)]='No\x20hay\x20notificaciones',_0x44e78b[_0x4d13c6(0x13e)](_0x11cfa5);return;}_0x37ed27[_0x4d13c6(0x198)](function(_0x365f66,_0x527712){const _0x445d27=_0x4d13c6;var _0x2144d7=document[_0x445d27(0x276)]('li');_0x2144d7[_0x445d27(0x1e4)]=_0x365f66[_0x445d27(0x162)],_0x2144d7[_0x445d27(0x1af)](_0x445d27(0x2a7),_0x527712),_0x44e78b[_0x445d27(0x13e)](_0x2144d7);});}document['getElementById'](_0x34b79c(0x1e5))['addEventListener'](_0x34b79c(0xc8),function(){const _0x495069=_0x34b79c;document[_0x495069(0x197)](_0x495069(0x2d0))[_0x495069(0x1c2)]['toggle']('hidden'),ntf_renderNotifications();}),document[_0x34b79c(0x197)](_0x34b79c(0x191))['addEventListener'](_0x34b79c(0xc8),function(_0x2c8768){const _0x484e0d=_0x34b79c,_0x7e97d9=_0x2c8768[_0x484e0d(0x2a9)][_0x484e0d(0x1cd)]('li');if(!_0x7e97d9||!_0x7e97d9[_0x484e0d(0x272)][_0x484e0d(0xeb)])return;const _0x2c75b8=ntf_getNotifications()[_0x7e97d9[_0x484e0d(0x272)][_0x484e0d(0xeb)]];document[_0x484e0d(0x197)](_0x484e0d(0x1e5))[_0x484e0d(0xc8)](),openModalDetailsAndNtf(_0x2c75b8[_0x484e0d(0x179)]['producto']['id'],_0x2c75b8[_0x484e0d(0x2a0)],_0x2c75b8);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x41b7d5,_0x3b82e4=0x3,_0x2a29a4=0x1){const _0x123784=_0x34b79c,_0x4d307e=document['getElementById']('ntf-flotante-container'),_0x329277=document['createElement']('div');let _0x415c7b;if(_0x3b82e4==0x1)_0x415c7b='ntf-flotante-green';else _0x3b82e4==0x2?_0x415c7b=_0x123784(0x183):_0x415c7b=_0x123784(0x11a);let _0x2629c7;_0x2a29a4==0x1?(_0x2629c7='ntf-flotante-top',_0x4d307e[_0x123784(0x1c2)][_0x123784(0x221)](_0x123784(0x1fa)),_0x4d307e['classList'][_0x123784(0x203)](_0x123784(0xe4))):(_0x2629c7='ntf-flotante-bottom',_0x4d307e[_0x123784(0x1c2)][_0x123784(0x221)](_0x123784(0xe4)),_0x4d307e[_0x123784(0x1c2)][_0x123784(0x203)]('ntf-flotante-container-top')),_0x329277[_0x123784(0x130)]=_0x123784(0x232)+_0x415c7b+'\x20'+_0x2629c7,_0x329277[_0x123784(0x1e4)]=_0x41b7d5,_0x4d307e['appendChild'](_0x329277),_0x329277['addEventListener'](_0x123784(0x1d4),()=>{_0x329277['remove']();});}function openDatabase(){const _0x1db245=_0x34b79c;if(db)return Promise[_0x1db245(0x20e)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5e875,_0x28b48e)=>{const _0x5e0798=_0x1db245,_0x227dee=indexedDB[_0x5e0798(0x21f)](db_name);_0x227dee['onupgradeneeded']=function(_0x120754){const _0x3cd2cc=_0x5e0798;db=_0x120754[_0x3cd2cc(0x2a9)][_0x3cd2cc(0x1d6)],console[_0x3cd2cc(0x1aa)](_0x3cd2cc(0x1f0));},_0x227dee['onsuccess']=function(_0x1ac5a5){const _0x1eebff=_0x5e0798;db=_0x1ac5a5[_0x1eebff(0x2a9)][_0x1eebff(0x1d6)],console[_0x1eebff(0x1aa)](_0x1eebff(0xcf)),_0x5e875(db),dbPromise=null;},_0x227dee['onerror']=function(_0x19445e){const _0x1d18eb=_0x5e0798;console[_0x1d18eb(0xaf)](_0x1d18eb(0x29f),_0x19445e['target'][_0x1d18eb(0xaf)]),_0x28b48e(_0x19445e[_0x1d18eb(0x2a9)][_0x1d18eb(0xaf)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x59da55,_0x201a2c=![]){const _0xdaad07=_0x34b79c;if(dbOperationInProgress)return Promise[_0xdaad07(0x235)](_0xdaad07(0x173));return dbOperationInProgress=!![],openDatabase()['then'](_0x5f17fb=>{const _0x319d4f=_0xdaad07,_0x3120a0='products',_0xac668d=_0x319d4f(0x230),_0x426daf='offline_operations',_0x23ba04=_0x319d4f(0xf8),_0x1e6288=_0x59da55?'cart_'+_0x59da55:null,_0x12689e=_0x59da55?_0x319d4f(0x280)+_0x59da55:null,_0x4c5736=_0x201a2c||!_0x5f17fb[_0x319d4f(0x182)][_0x319d4f(0x234)](_0x3120a0)||!_0x5f17fb[_0x319d4f(0x182)][_0x319d4f(0x234)](_0xac668d)||!_0x5f17fb[_0x319d4f(0x182)]['contains'](_0x426daf)||!_0x5f17fb['objectStoreNames'][_0x319d4f(0x234)](_0x23ba04)||_0x59da55&&(!_0x5f17fb[_0x319d4f(0x182)][_0x319d4f(0x234)](_0x1e6288)||!_0x5f17fb[_0x319d4f(0x182)][_0x319d4f(0x234)](_0x12689e));if(!_0x4c5736)return dbOperationInProgress=![],Promise[_0x319d4f(0x20e)](_0x5f17fb);const _0x5f60fd=_0x5f17fb[_0x319d4f(0x206)]+0x1;return _0x5f17fb[_0x319d4f(0x288)](),new Promise((_0x3e7809,_0x590513)=>{const _0xe8da2=_0x319d4f,_0x35a471=indexedDB['open'](db_name,_0x5f60fd);_0x35a471['onupgradeneeded']=function(_0x1698ad){const _0x5bf7b3=_0x537e;db=_0x1698ad['target'][_0x5bf7b3(0x1d6)];if(_0x201a2c)Array['from'](db[_0x5bf7b3(0x182)])['forEach'](_0x35b4d9=>{const _0x38475b=_0x5bf7b3;_0x35b4d9!==_0x426daf&&(db[_0x38475b(0x28f)](_0x35b4d9),console['log'](_0x38475b(0x1c4)+_0x35b4d9+_0x38475b(0x111)));}),console[_0x5bf7b3(0x1aa)]('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db[_0x5bf7b3(0x182)][_0x5bf7b3(0x234)](_0x3120a0)&&(db[_0x5bf7b3(0x26e)](_0x3120a0,{'keyPath':'id'}),console[_0x5bf7b3(0x1aa)](_0x5bf7b3(0x1c4)+_0x3120a0+_0x5bf7b3(0x188)));!db[_0x5bf7b3(0x182)][_0x5bf7b3(0x234)](_0xac668d)&&(db[_0x5bf7b3(0x26e)](_0xac668d,{'keyPath':'id','autoIncrement':!![]}),console[_0x5bf7b3(0x1aa)](_0x5bf7b3(0x1c4)+_0xac668d+_0x5bf7b3(0x188)));!db['objectStoreNames'][_0x5bf7b3(0x234)](_0x426daf)&&(db['createObjectStore'](_0x426daf,{'keyPath':'id','autoIncrement':!![]}),console[_0x5bf7b3(0x1aa)]('ObjectStore\x20\x27'+_0x426daf+_0x5bf7b3(0x188)));!db[_0x5bf7b3(0x182)]['contains'](_0x23ba04)&&(db[_0x5bf7b3(0x26e)](_0x23ba04,{'keyPath':'id'}),console[_0x5bf7b3(0x1aa)](_0x5bf7b3(0x1c4)+_0x23ba04+_0x5bf7b3(0x188)));if(_0x59da55){if(!db['objectStoreNames'][_0x5bf7b3(0x234)](_0x1e6288)){const _0x8b69ee=db[_0x5bf7b3(0x26e)](_0x1e6288,{'keyPath':'id','autoIncrement':!![]});_0x8b69ee['createIndex']('cartId',_0x5bf7b3(0x22e),{'unique':!![]}),console[_0x5bf7b3(0x1aa)]('ObjectStore\x20\x27'+_0x1e6288+_0x5bf7b3(0x188));}!db[_0x5bf7b3(0x182)][_0x5bf7b3(0x234)](_0x12689e)&&(db[_0x5bf7b3(0x26e)](_0x12689e,{'keyPath':'id','autoIncrement':!![]}),console[_0x5bf7b3(0x1aa)](_0x5bf7b3(0x1c4)+_0x12689e+_0x5bf7b3(0x188)));}}},_0x35a471[_0xe8da2(0x1f9)]=function(_0x4c3aae){const _0x365964=_0xe8da2;db=_0x4c3aae[_0x365964(0x2a9)][_0x365964(0x1d6)],dbOperationInProgress=![],console['log'](_0x365964(0xcb)),_0x3e7809(db);},_0x35a471[_0xe8da2(0x194)]=function(_0x3c5fc8){const _0x48b56c=_0xe8da2;console[_0x48b56c(0xaf)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x3c5fc8['target']['error']),dbOperationInProgress=![],_0x590513(_0x3c5fc8[_0x48b56c(0x2a9)][_0x48b56c(0xaf)]);};});})[_0xdaad07(0x10c)](_0x1eb8d4=>{const _0x1df9b6=_0xdaad07;throw new Error(_0x1df9b6(0x27c));})['finally'](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x515326=_0x34b79c;if(!isOnline())return Promise[_0x515326(0x20e)]();try{const _0x5ede16=await createCartStore(''),_0x2835e8=_0x5ede16['transaction']('offline_operations',_0x515326(0x14b)),_0x45a7a9=_0x2835e8[_0x515326(0x292)]('offline_operations'),_0x26fcec=await new Promise((_0x36ed67,_0x266b9a)=>{const _0x5c56ad=_0x515326,_0x48cf4c=_0x45a7a9[_0x5c56ad(0x114)]();_0x48cf4c[_0x5c56ad(0x1f9)]=()=>_0x36ed67(_0x48cf4c[_0x5c56ad(0x1d6)]),_0x48cf4c[_0x5c56ad(0x194)]=()=>_0x266b9a(new Error(_0x5c56ad(0x1da)+_0x48cf4c[_0x5c56ad(0xaf)]));}),_0x1a2b7e=_0x26fcec[_0x515326(0x1b0)](_0x2ef25c=>_0x2ef25c[_0x515326(0x19c)]==0x1);if(_0x1a2b7e['length']===0x0){console[_0x515326(0x1aa)](_0x515326(0x275));return;}const _0x7f4431=_0x1a2b7e[_0x515326(0x1b0)](_0x2f45d0=>_0x2f45d0['setTipoOperacion']==0x64),_0x4f3a01=_0x1a2b7e[_0x515326(0x1b0)](_0xac513d=>_0xac513d[_0x515326(0x25d)]!=0x64),_0x2b5d27=_0x338316=>_0x338316[_0x515326(0x140)]((_0x29cb2d,_0x2b2def)=>{const _0x4d0ccc=_0x515326,_0x3d1f99=[0x1,0x2,0x3],_0x4c2f88=_0x54ca9a=>Array[_0x4d0ccc(0x265)](_0x54ca9a[_0x4d0ccc(0xb9)])&&_0x54ca9a[_0x4d0ccc(0xb9)]['some'](_0x55dc55=>_0x3d1f99[_0x4d0ccc(0x124)](_0x55dc55[_0x4d0ccc(0x109)])),_0x17f93d=_0x4c2f88(_0x29cb2d),_0x28a614=_0x4c2f88(_0x2b2def);if(_0x17f93d&&!_0x28a614)return-0x1;if(!_0x17f93d&&_0x28a614)return 0x1;const _0x2c09e8=Math['min'](..._0x29cb2d[_0x4d0ccc(0xb9)][_0x4d0ccc(0x1c5)](_0x3faaa0=>_0x3faaa0[_0x4d0ccc(0x109)])),_0x533d0f=Math[_0x4d0ccc(0x2b3)](..._0x2b2def[_0x4d0ccc(0xb9)][_0x4d0ccc(0x1c5)](_0x3fc062=>_0x3fc062['setItemType']));return _0x2c09e8-_0x533d0f;}),_0x5e6f96=_0x7f4431[_0x515326(0x1b0)](_0x304a28=>Array[_0x515326(0x265)](_0x304a28[_0x515326(0xb9)])&&_0x304a28[_0x515326(0xb9)][_0x515326(0x297)](_0x5e596c=>!_0x5e596c[_0x515326(0x12b)])),_0x124c68=_0x7f4431['filter'](_0x393fbe=>Array[_0x515326(0x265)](_0x393fbe[_0x515326(0xb9)])&&_0x393fbe['newItems']['every'](_0x46edf5=>_0x46edf5[_0x515326(0x12b)]));_0x2b5d27(_0x5e6f96),_0x2b5d27(_0x124c68);const _0x5b46c3=[..._0x5e6f96,..._0x124c68];function _0x89d4c9(_0x1cbb76,_0x2ec987){return new Promise((_0x118463,_0x31d504)=>{const _0x3d4e55=_0x537e,_0x2a57ba=_0x1cbb76['transaction']('offline_operations',_0x3d4e55(0xab)),_0x3a197b=_0x2a57ba['objectStore'](_0x3d4e55(0x2ba)),_0xc2133f=_0x3a197b['put'](_0x2ec987);_0xc2133f[_0x3d4e55(0x1f9)]=()=>_0x118463(),_0xc2133f[_0x3d4e55(0x194)]=_0xf7f05c=>_0x31d504(new Error(_0x3d4e55(0xf7)+_0xf7f05c[_0x3d4e55(0x2a9)]['error']));});}async function _0x26bc71(_0x4169ec){const _0x516559=_0x515326;for(const _0x3fb9ce of _0x4169ec){_0x3fb9ce[_0x516559(0x25d)]===0x64&&Array['isArray'](_0x3fb9ce['newItems'])&&_0x3fb9ce[_0x516559(0xb9)][_0x516559(0x140)]((_0x3716ad,_0x36ccf7)=>{const _0xf5060d=_0x516559,_0x5f53e5=[0x1,0x2,0x3],_0x5f3430=_0x5f53e5[_0xf5060d(0x124)](_0x3716ad[_0xf5060d(0x109)]),_0x3c1d75=_0x5f53e5[_0xf5060d(0x124)](_0x36ccf7[_0xf5060d(0x109)]);if(_0x5f3430&&!_0x3c1d75)return-0x1;if(!_0x5f3430&&_0x3c1d75)return 0x1;return _0x3716ad['setItemType']-_0x36ccf7[_0xf5060d(0x109)];});const _0xefd172=new FormData();_0xefd172[_0x516559(0x17b)](_0x516559(0xfd),JSON['stringify'](_0x3fb9ce));if(_0x3fb9ce[_0x516559(0xf0)]instanceof Blob&&_0x3fb9ce[_0x516559(0xf0)]['size']>0x0)_0xefd172[_0x516559(0x17b)](_0x516559(0xf0),_0x3fb9ce['pdfBlob'],'documento.pdf');else _0x3fb9ce[_0x516559(0xf0)]&&console['warn'](_0x516559(0x10e));_0x3fb9ce[_0x516559(0x25d)]==0x64&&Array['isArray'](_0x3fb9ce['newItems'])&&_0x3fb9ce['newItems']['forEach']((_0x127362,_0x81da2b)=>{const _0x5d2780=_0x516559;Array[_0x5d2780(0x265)](_0x127362['setItemImages'])&&_0x127362[_0x5d2780(0x26f)][_0x5d2780(0x198)]((_0x17a6d1,_0x206cb1)=>{const _0x5b1cfa=_0x5d2780;_0x17a6d1 instanceof Blob&&_0x17a6d1[_0x5b1cfa(0x274)]>0x0?_0xefd172['append'](_0x5b1cfa(0x298)+_0x81da2b+_0x5b1cfa(0x1ae)+_0x206cb1+']',_0x17a6d1,_0x17a6d1[_0x5b1cfa(0x1d5)]):console[_0x5b1cfa(0xd5)](_0x5b1cfa(0x249)+_0x81da2b+_0x5b1cfa(0x222)+_0x206cb1+']\x20‚Äì\x20se\x20omite.');});});try{const _0x514b86=await fetch(_0x3fb9ce[_0x516559(0x11e)],{'method':_0x516559(0x291),'body':_0xefd172});if(!_0x514b86['ok'])throw new Error('HTTP\x20'+_0x514b86[_0x516559(0x16c)]+_0x516559(0x1a2)+_0x514b86[_0x516559(0x1fb)]);const _0x106d65=await _0x514b86[_0x516559(0x1d1)]();!_0x106d65[_0x516559(0x1fc)]?_0x3fb9ce[_0x516559(0x2dc)]=_0x106d65[_0x516559(0x27e)]||_0x516559(0x186):(_0x3fb9ce[_0x516559(0x19c)]=0x0,delete _0x3fb9ce[_0x516559(0x2dc)]);}catch(_0x302c97){console[_0x516559(0xaf)](_0x516559(0x23e),_0x302c97),_0x3fb9ce[_0x516559(0x2dc)]=_0x302c97['message'];}await _0x89d4c9(_0x5ede16,_0x3fb9ce),_0x3fb9ce[_0x516559(0x25d)]==0x64&&_0x3fb9ce[_0x516559(0x19c)]==0x0&&await new Promise((_0x5dd251,_0x3d6e7d)=>{const _0x837182=_0x516559,_0x436b35=_0x5ede16['transaction'](_0x837182(0x2ba),_0x837182(0xab)),_0x4081b7=_0x436b35[_0x837182(0x292)](_0x837182(0x2ba)),_0xcdfc0b=_0x4081b7[_0x837182(0x29d)](_0x3fb9ce['id']);_0xcdfc0b[_0x837182(0x1f9)]=()=>_0x5dd251(),_0xcdfc0b[_0x837182(0x194)]=_0x1e7760=>_0x3d6e7d(new Error(_0x837182(0x112)+_0x1e7760[_0x837182(0x2a9)][_0x837182(0xaf)]));});}}_0x5b46c3[_0x515326(0x2b5)]&&(console[_0x515326(0x1aa)](_0x515326(0xda)+_0x5b46c3['length']+_0x515326(0x16e)),await _0x26bc71(_0x5b46c3)),_0x4f3a01[_0x515326(0x2b5)]&&(console['log']('Sincronizando\x20'+_0x4f3a01['length']+_0x515326(0x106)),await _0x26bc71(_0x4f3a01)),console[_0x515326(0x1aa)]('Sincronizaci√≥n\x20completada\x20correctamente.');}catch(_0x4cd572){console[_0x515326(0xaf)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x4cd572);}}function apiERPsaveOnline(_0x4d1212,_0x5b0f4d,_0x4d10f7,_0x400f9f,_0x2b0b2b){const _0x25b19f=_0x34b79c;if(!isOnline())return console['log'](_0x25b19f(0xff)),Promise['reject'](_0x25b19f(0xff));const _0x162225={'setAuthToken':_0x4d1212,'setBranches':_0x5b0f4d,'setUsers':_0x4d10f7,'setSeries':_0x400f9f,'setPrinters':_0x2b0b2b};return fetch(_0x25b19f(0xc0),{'method':_0x25b19f(0x291),'headers':{'Content-Type':_0x25b19f(0x21c)},'body':JSON[_0x25b19f(0x294)](_0x162225)})['then'](_0x284ff2=>{const _0x51918e=_0x25b19f;if(!_0x284ff2['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x284ff2[_0x51918e(0x1fb)]);return _0x284ff2[_0x51918e(0x1d1)]();})[_0x25b19f(0x18b)](_0x32d417=>{const _0x376917=_0x25b19f;if(!_0x32d417[_0x376917(0x1fc)])throw new Error(_0x32d417['message']||_0x376917(0x22f));return console[_0x376917(0x1aa)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x32d417;})[_0x25b19f(0x10c)](_0x13ed17=>{const _0x355199=_0x25b19f;console[_0x355199(0xaf)]('Error\x20al\x20actualizar\x20data\x20online:',_0x13ed17);throw _0x13ed17;});}async function acceder(){const _0x4fe0a2=_0x34b79c;if(!isOnline()){alert('Solo\x20necesitas\x20internet\x20para\x20acceder!');throw new Error(_0x4fe0a2(0xd0));}const _0x455145=document[_0x4fe0a2(0x197)](_0x4fe0a2(0x277)),_0x25aff3=document['getElementById'](_0x4fe0a2(0x159))[_0x4fe0a2(0x154)],_0x4bb0ba=document[_0x4fe0a2(0x197)](_0x4fe0a2(0x246))[_0x4fe0a2(0x154)];_0x455145[_0x4fe0a2(0x25a)]=!![];if(!_0x25aff3||!_0x4bb0ba){alert(_0x4fe0a2(0x28c)),_0x455145['disabled']=![];return;}console['log'](_0x4fe0a2(0xc1)),showLoadingModal();const _0x5b6104={'usuario':_0x25aff3,'password':_0x4bb0ba},_0x165147=document[_0x4fe0a2(0x197)](_0x4fe0a2(0x278));try{_0x165147['innerHTML']='Iniciando\x20sesi√≥n\x20...';const _0x182d9d=await fetch(_0x4fe0a2(0x23f),{'method':_0x4fe0a2(0x291),'headers':{'Content-Type':_0x4fe0a2(0x21c)},'body':JSON['stringify'](_0x5b6104)}),_0x14b784=await _0x182d9d[_0x4fe0a2(0x1d1)]();if(!(_0x14b784['success']&&Array[_0x4fe0a2(0x265)](_0x14b784[_0x4fe0a2(0x27e)]))){alert(_0x14b784[_0x4fe0a2(0x27e)]),_0x455145[_0x4fe0a2(0x25a)]=![],hideLoadingModal();throw new Error(_0x14b784[_0x4fe0a2(0x27e)]);}const _0xa739ba=_0x14b784[_0x4fe0a2(0x27e)],{setApiEndPoint:_0x26fe75,setAuthToken:_0x3fe3af,setUser_Local:_0x53857a}=_0xa739ba[0x0];_0x165147['innerHTML']=_0x4fe0a2(0xed),await new Promise(_0x5b9ad0=>setTimeout(_0x5b9ad0,0x3e8)),_0x165147[_0x4fe0a2(0x195)]='Obteniendo\x20datos\x20...';const _0x1f8853={'apiPOS_getAccessData':0x1,'setToken':_0x3fe3af,'setUserLocalUserName':_0x53857a[_0x4fe0a2(0x26d)]},_0x56ffae=await fetch(_0x26fe75,{'method':_0x4fe0a2(0x291),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x4fe0a2(0x294)](_0x1f8853)}),_0x1e61cc=await _0x56ffae[_0x4fe0a2(0x1d1)]();if(!(_0x1e61cc[_0x4fe0a2(0x1fc)]===!![])){_0x165147['innerHTML']=_0x4fe0a2(0xb7)+_0x1e61cc[_0x4fe0a2(0x27e)]+_0x4fe0a2(0x21d),setTimeout(()=>location['reload'](),0x1388);return;}_0xa739ba[0x0][_0x4fe0a2(0x2d8)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0x2d8)],_0xa739ba[0x0][_0x4fe0a2(0x24f)]=_0x1e61cc[_0x4fe0a2(0x27e)]['setCompanyDoc'],_0xa739ba[0x0][_0x4fe0a2(0xee)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0xee)],_0xa739ba[0x0][_0x4fe0a2(0x15f)]=_0x1e61cc[_0x4fe0a2(0x27e)]['setCompanyNameTrade'],_0xa739ba[0x0]['setCompanyAddress']=_0x1e61cc['message'][_0x4fe0a2(0x2ca)],_0xa739ba[0x0][_0x4fe0a2(0xd9)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0xd9)],_0xa739ba[0x0][_0x4fe0a2(0x1ff)]=_0x1e61cc['message']['setCompanyEmail'],_0xa739ba[0x0]['setCompanyWebsite']=_0x1e61cc['message'][_0x4fe0a2(0x2d7)],_0xa739ba[0x0][_0x4fe0a2(0xa4)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0xa4)],_0xa739ba[0x0]['setUsuarios']=_0x1e61cc['message'][_0x4fe0a2(0x143)],_0xa739ba[0x0][_0x4fe0a2(0x10b)]=_0x1e61cc['message'][_0x4fe0a2(0x10b)],_0xa739ba[0x0][_0x4fe0a2(0x135)]=_0x1e61cc['message'][_0x4fe0a2(0x135)],_0xa739ba[0x0]['setCurrencyDefault']=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0x213)],_0xa739ba[0x0]['setBankAccounts']=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0x1a1)],_0xa739ba[0x0][_0x4fe0a2(0x201)]=_0x1e61cc['message']['setCustomers'],_0xa739ba[0x0][_0x4fe0a2(0x29b)]=_0x1e61cc['message'][_0x4fe0a2(0x29b)],_0xa739ba[0x0][_0x4fe0a2(0x1e9)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0x1e9)],_0xa739ba[0x0][_0x4fe0a2(0x102)]=_0x1e61cc[_0x4fe0a2(0x27e)][_0x4fe0a2(0x102)],_0x165147[_0x4fe0a2(0x195)]='Procesamiento\x20de\x20datos\x20exitoso\x20...',await new Promise(_0x31aafd=>setTimeout(_0x31aafd,0x3e8)),_0x165147[_0x4fe0a2(0x195)]=_0x4fe0a2(0x1a0);const _0x1aa88a={'apiPOS_getItems':0x1,'setToken':_0x3fe3af,'setUserLocalUserName':_0x53857a[_0x4fe0a2(0x26d)]},_0x381038=await fetch(_0x26fe75,{'method':_0x4fe0a2(0x291),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x1aa88a)}),_0x126bba=await _0x381038[_0x4fe0a2(0x1d1)]();if(!(_0x126bba[_0x4fe0a2(0x1fc)]===!![])){_0x165147[_0x4fe0a2(0x195)]=_0x4fe0a2(0xb7)+_0x126bba[_0x4fe0a2(0x27e)]+_0x4fe0a2(0x21d),setTimeout(()=>location[_0x4fe0a2(0x14d)](),0x1388);return;}_0x165147[_0x4fe0a2(0x195)]='Sincronizando\x20...',await new Promise(_0x107584=>setTimeout(_0x107584,0x3e8));const _0x17f01e=_0x126bba['message'][_0x4fe0a2(0x1d9)][_0x4fe0a2(0x1c5)](_0x21c1ba=>{const _0x26d345=_0x4fe0a2,_0x28e552=_0x21c1ba['setId']||'',_0xb6de25=_0x21c1ba['setIdProducto']||'',_0x248731=_0x21c1ba[_0x26d345(0x109)]||'1',_0x354bc0=_0x21c1ba[_0x26d345(0x2ac)]||'',_0x165cc6=_0x21c1ba['setItemBarCode']||'',_0x14e793=_0x21c1ba['setDescripcion']||'',_0x1d99f2=_0x21c1ba[_0x26d345(0x1dc)]||'',_0x5f1ec6=_0x21c1ba[_0x26d345(0x248)]||'',_0x3b85bd=_0x21c1ba[_0x26d345(0x2ae)]||'',_0x5c740e=_0x21c1ba[_0x26d345(0x267)]||'',_0x4740d2=_0x21c1ba[_0x26d345(0x1ce)]||'',_0x5aff17=_0x21c1ba['setTipAfeIgv']||'10',_0x3ca468=_0xa739ba[0x0]['setImpuestos'][_0x26d345(0xd7)](_0x2f39ae=>_0x2f39ae['setTaxId']==_0x4740d2)?.['setImpuestoValue']||0x0,_0x5875bf=parseFloat(_0x21c1ba[_0x26d345(0x1eb)])||0x1,_0x436f89=_0x21c1ba['setCategoria']||'',_0x2c451c=_0x21c1ba[_0x26d345(0x136)]||'',_0x2d2ee5=_0x21c1ba[_0x26d345(0x158)]||'./img/product.png',_0xba0019=_0x21c1ba[_0x26d345(0x286)]||0x1,_0x42cf73=_0x21c1ba[_0x26d345(0x190)]||'',_0x10dbe9=_0x21c1ba[_0x26d345(0x117)]||'',_0x3fb05a=(_0x21c1ba[_0x26d345(0x22b)]||[])['map'](_0x8ff670=>{const _0x5a3e58=_0x26d345,_0x1c9607=parseFloat(_0x8ff670['setMtoValorUnitario'])||0x0,_0xe2b406=parseFloat(_0x8ff670[_0x5a3e58(0x241)])||0x0,_0x2e303d=parseFloat(_0x8ff670[_0x5a3e58(0x144)])||0x0,_0x5d39a0=parseFloat(_0x8ff670[_0x5a3e58(0x279)])||0x0,_0x286db9=_0x8ff670[_0x5a3e58(0x271)]||[];let _0x316d07=0x0,_0x3b12a4=0x0;if(_0x1c9607>0x0)_0x316d07=_0x1c9607,_0x3b12a4=setTipAfeImpGravados[_0x5a3e58(0xb3)](_0x4d27fd=>_0x4d27fd==_0x5aff17)?_0x1c9607+_0x1c9607*_0x3ca468/0x64:_0x1c9607;else _0xe2b406>0x0&&(_0x3b12a4=_0xe2b406,_0x316d07=setTipAfeImpGravados[_0x5a3e58(0xb3)](_0x15cbf1=>_0x15cbf1==_0x5aff17)?_0xe2b406/(0x1+_0x3ca468/0x64):_0xe2b406);let _0x294fa8=0x0,_0x16c9b9=0x0;if(_0x2e303d>0x0)_0x294fa8=_0x2e303d,_0x16c9b9=setTipAfeImpGravados[_0x5a3e58(0xb3)](_0x1312de=>_0x1312de==_0x5aff17)?_0x2e303d+_0x2e303d*_0x3ca468/0x64:_0x2e303d;else _0x5d39a0>0x0&&(_0x16c9b9=_0x5d39a0,_0x294fa8=setTipAfeImpGravados[_0x5a3e58(0xb3)](_0x42ac1c=>_0x42ac1c==_0x5aff17)?_0x5d39a0/(0x1+_0x3ca468/0x64):_0x5d39a0);return{'currency':_0x8ff670['currency'],'setMtoValorUnitario':_0x316d07,'setMtoPrecioUnitario':_0x3b12a4,'setMtoValorCostoUnitario':_0x294fa8,'setMtoPrecioCostoUnitario':_0x16c9b9,'setPriceLists':_0x286db9};});if(_0x4740d2!==''&&_0x28e552!==''&&_0x354bc0!==''&&_0x14e793!=='')return{'id':_0x28e552,'setItemType':_0x248731,'setIdProducto':_0xb6de25,'setCodProducto':_0x354bc0,'setItemBarCode':_0x165cc6,'setDescripcion':_0x14e793,'setItemDescription':_0x1d99f2,'setUnidadCodigo':_0x5f1ec6,'setUnidad':_0x3b85bd,'setItemUnitAlias':_0x5c740e,'setPorcentajeIgv':_0x3ca468,'setTaxId':_0x4740d2,'setTipAfeIgv':_0x5aff17,'setInventariable':_0x5875bf,'setCategoria':_0x436f89,'setMarca':_0x2c451c,'setImg':_0x2d2ee5,'setConversionFactor':_0xba0019,'setBatchName':_0x42cf73,'setBatchExpirationDate':_0x10dbe9,'setItemIsBought':_0x21c1ba[_0x26d345(0x122)],'setItemIsSold':_0x21c1ba['setItemIsSold'],'sucursales':_0x21c1ba[_0x26d345(0x2b8)]||[],'setPrinters':_0x21c1ba[_0x26d345(0x135)]||[],'currency_data':_0x3fb05a,'setImages':_0x21c1ba[_0x26d345(0x262)]||[],'setItemVariantValues':_0x21c1ba[_0x26d345(0x21b)]||[]};return null;})[_0x4fe0a2(0x1b0)](Boolean),_0x4396df=await createCartStore('');await clearAndStore(_0x4396df,_0x4fe0a2(0x14e),_0x17f01e),await clearAndStore(_0x4396df,_0x4fe0a2(0xf8),[{'id':'layout',..._0xa739ba[0x0][_0x4fe0a2(0x20b)]}]),await apiERPsaveOnline(_0x3fe3af,_0xa739ba[0x0][_0x4fe0a2(0xa4)],_0xa739ba[0x0][_0x4fe0a2(0x143)],_0xa739ba[0x0]['setSeries'],_0xa739ba[0x0][_0x4fe0a2(0x135)]);const _0x296495=await fetch(_0x4fe0a2(0xe1),{'method':_0x4fe0a2(0x291),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x4fe0a2(0x294)]({'setAuthToken':_0x3fe3af,'setUserId':_0x53857a['setUserId']})}),_0x385c2d=await _0x296495['json']();if(_0x385c2d['success'])_0xa739ba[0x0]['setWindows']=_0x385c2d[_0x4fe0a2(0x27e)]['setWindows'],_0xa739ba[0x0]['setUsers']=_0x385c2d[_0x4fe0a2(0x27e)]['setUsers'],_0xa739ba[0x0][_0x4fe0a2(0x135)]=_0x385c2d[_0x4fe0a2(0x27e)][_0x4fe0a2(0x135)];else{console[_0x4fe0a2(0xaf)](_0x4fe0a2(0xb6),_0x385c2d[_0x4fe0a2(0x27e)]);return;}await saveCompanyToIndexedDB(_0xa739ba,_0x4396df);if(!_0xa739ba[0x0][_0x4fe0a2(0xb0)]||_0xa739ba[0x0][_0x4fe0a2(0xb0)]['length']===0x0){console[_0x4fe0a2(0xaf)](_0x4fe0a2(0x1ec));return;}for(const _0x35472a of _0xa739ba[0x0][_0x4fe0a2(0xb0)]){await new Promise(_0x523439=>setTimeout(_0x523439,0x12c)),await createCartStore(_0x35472a[_0x4fe0a2(0x237)]),_0x165147[_0x4fe0a2(0x195)]=_0x4fe0a2(0x1b3)+_0x35472a['setWindowName']+'\x20...';}_0x165147['innerHTML']=_0x4fe0a2(0x21a)+_0x53857a[_0x4fe0a2(0x132)]+_0x4fe0a2(0x21d),setTimeout(()=>location[_0x4fe0a2(0x14d)](),0x7d0);}catch(_0x5e1db4){console[_0x4fe0a2(0xaf)]('Error\x20en\x20la\x20solicitud:',_0x5e1db4),_0x455145[_0x4fe0a2(0x25a)]=![],hideLoadingModal(),alert(_0x5e1db4);throw _0x5e1db4;}}function clearAndStore(_0xf4c7e6,_0xf66d8a,_0x83d909){return new Promise((_0x1c0e76,_0x17a7c5)=>{const _0x42d5ac=_0x537e,_0x33fc60=_0xf4c7e6[_0x42d5ac(0x200)](_0xf66d8a,_0x42d5ac(0xab)),_0x5de149=_0x33fc60[_0x42d5ac(0x292)](_0xf66d8a),_0x24cb35=_0x5de149[_0x42d5ac(0x187)]();_0x24cb35[_0x42d5ac(0x1f9)]=()=>{const _0x3054ea=_0x42d5ac;_0x83d909[_0x3054ea(0x198)](_0x13706b=>_0x5de149[_0x3054ea(0x1ed)](_0x13706b));},_0x33fc60[_0x42d5ac(0x1d0)]=()=>_0x1c0e76(),_0x33fc60[_0x42d5ac(0x194)]=()=>_0x17a7c5(new Error(_0x42d5ac(0x239)+_0xf66d8a+'!'));});}async function logoutReload(_0xc8cf0c=0x0,_0x4ccbe8){const _0xe75ca2=_0x34b79c;if(_0xc8cf0c!=0x1){showLoadingModal();const _0x226fa3=document[_0xe75ca2(0x197)]('infoLoadingModal');_0x226fa3['innerHTML']='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>';}_0x4ccbe8==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0x41e91c,_0x1ceaf9){const _0x1b218f=_0x34b79c;_0x1b218f(0x27f)in navigator&&navigator[_0x1b218f(0x27f)]['register'](_0x41e91c)[_0x1b218f(0x18b)](_0x537837=>{const _0x17b111=_0x1b218f;console[_0x17b111(0x1aa)](_0x17b111(0x1e7)),_0x537837[_0x17b111(0x19f)]=()=>{const _0x18ae08=_0x17b111,_0x1c7173=_0x537837[_0x18ae08(0x2c6)];_0x1c7173['onstatechange']=()=>{const _0x3a660a=_0x18ae08;_0x1c7173[_0x3a660a(0xaa)]==_0x3a660a(0x19b)&&navigator['serviceWorker'][_0x3a660a(0x1c3)]&&console[_0x3a660a(0x1aa)](_0x3a660a(0x227));};},navigator[_0x17b111(0x27f)][_0x17b111(0xec)](_0x17b111(0x253),()=>{const _0x348f0f=_0x17b111;showLoadingModal();const _0x1b0826=document[_0x348f0f(0x197)](_0x348f0f(0x278));_0x1b0826[_0x348f0f(0x195)]=_0x348f0f(0x28a),logoutReload(0x1,_0x1ceaf9);});})[_0x1b218f(0x10c)](_0x5e548b=>console[_0x1b218f(0xaf)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x5e548b));}function isLoggedIn(_0x4f2316){const _0x5569ba=_0x34b79c;return _0x4f2316&&_0x4f2316[0x0]&&_0x4f2316[0x0][_0x5569ba(0x110)];}function apiERPShowContent(){const _0xb29ca6=_0x34b79c;document[_0xb29ca6(0x197)](_0xb29ca6(0x12d))[_0xb29ca6(0x1c2)][_0xb29ca6(0x203)](_0xb29ca6(0x26a)),document['getElementById'](_0xb29ca6(0x115))[_0xb29ca6(0x1c2)]['remove'](_0xb29ca6(0x26a)),document['getElementById']('login')['classList'][_0xb29ca6(0x221)]('hidden');const _0x5179a9=document[_0xb29ca6(0x197)](_0xb29ca6(0xe2));_0x5179a9&&_0x5179a9[_0xb29ca6(0x1c2)][_0xb29ca6(0x203)](_0xb29ca6(0x26a));}function x64ctotalcal(){const _0xd4996f=_0x34b79c;return window[_0xd4996f(0x1e8)]['hostname'];}function x64btsparamnumber(_0x3fd26f){const _0x2b0f74=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x3fd26f==_0x2b0f74;}function x32btsfirefoxcalc(_0x59d247){const _0x535b68=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x59d247==_0x535b68;}function x64bitsdescitem(_0x5d313c){const _0x287d5f=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x5d313c==_0x287d5f;}function x43bitsdescglobal(_0x507a20){const _0x12037b=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x507a20==_0x12037b;}function x32bitsCompanyTkn(_0x590309){const _0x17dbc7=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x590309==_0x17dbc7;}function x64bitsparamnumber(_0x76691d,_0x13d5e1){const _0x325d11=_0x13d5e1;return _0x76691d==_0x325d11;}function activarRender(_0x32af47){const _0x15887d=_0x34b79c,_0x5f1b71=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x32af47)];return _0x5f1b71[_0x15887d(0x124)](!![]);}function saveCompanyToIndexedDB(_0x52ba92,_0x483aa9){return new Promise((_0x34ac46,_0x12692e)=>{const _0x69810f=_0x537e,_0x2235c1=_0x483aa9[_0x69810f(0x200)](_0x69810f(0x230),_0x69810f(0xab)),_0x566fbd=_0x2235c1['objectStore']('company');_0x566fbd['clear'](),_0x52ba92['forEach'](_0x589be6=>_0x566fbd[_0x69810f(0x1ed)](_0x589be6)),_0x2235c1[_0x69810f(0x1d0)]=()=>_0x34ac46(),_0x2235c1[_0x69810f(0x194)]=_0x482d9a=>_0x12692e(_0x482d9a[_0x69810f(0x2a9)]['error']);});}function loadCompanyFromIndexedDB(_0x523592){return new Promise((_0x1741b8,_0x365ae9)=>{const _0x388059=_0x537e,_0x698f1f=_0x523592[_0x388059(0x200)](_0x388059(0x230),_0x388059(0x14b)),_0x389de5=_0x698f1f[_0x388059(0x292)](_0x388059(0x230)),_0x2e4df6=_0x389de5[_0x388059(0x114)]();_0x2e4df6['onsuccess']=()=>_0x1741b8(_0x2e4df6[_0x388059(0x1d6)]),_0x2e4df6[_0x388059(0x194)]=_0x5ce184=>_0x365ae9(_0x5ce184['target'][_0x388059(0xaf)]);});}async function initializeCompany(_0x19b450){const _0x12adc6=_0x34b79c;try{const _0x17715b=await loadCompanyFromIndexedDB(_0x19b450);company=_0x17715b,company['length']>0x0?(console[_0x12adc6(0x1aa)](_0x12adc6(0x177)),myCompany=company[0x0]):console[_0x12adc6(0x1aa)](_0x12adc6(0x216));}catch(_0x332775){console[_0x12adc6(0xaf)](_0x12adc6(0x145),_0x332775);}}function loadProductsFromIndexedDB(_0x3d5eb9){return new Promise((_0x249f2d,_0x2bfd0c)=>{const _0x2dbb39=_0x537e,_0x30ffe8=_0x3d5eb9[_0x2dbb39(0x200)]('products',_0x2dbb39(0x14b)),_0x23c642=_0x30ffe8[_0x2dbb39(0x292)]('products'),_0x5dd9e7=_0x23c642[_0x2dbb39(0x114)]();_0x5dd9e7['onsuccess']=()=>_0x249f2d(_0x5dd9e7[_0x2dbb39(0x1d6)]),_0x5dd9e7[_0x2dbb39(0x194)]=_0x15689d=>_0x2bfd0c(_0x15689d[_0x2dbb39(0x2a9)]['error']);});}async function initializeProducts(_0x153f92){const _0x533ce8=_0x34b79c;try{const _0x4df589=await loadProductsFromIndexedDB(_0x153f92);products=_0x4df589,products[_0x533ce8(0x2b5)]>0x0?console[_0x533ce8(0x1aa)](_0x533ce8(0x120)):console[_0x533ce8(0x1aa)](_0x533ce8(0x2d6));}catch(_0x265b7e){console['error'](_0x533ce8(0x20c),_0x265b7e);}}async function validateAccess(_0x5e137d){const _0x2a0a01=_0x34b79c;await initializeCompany(_0x5e137d);if(!isLoggedIn(company))throw new Error(_0x2a0a01(0x1ef));if(!activarRender(company[0x0][_0x2a0a01(0x180)])){alert(_0x2a0a01(0x11f));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function initCountrySelector(_0x1c59bc){const _0x3f1c29=_0x34b79c,_0x295d40=_0x1c59bc[_0x3f1c29(0x2c1)]('.select-button-pais-flag'),_0x16aa25=_0x1c59bc[_0x3f1c29(0x2c1)](_0x3f1c29(0x1f3));let _0x57260a=_0x295d40[_0x3f1c29(0x272)]['selectedCode']||'51';function _0x511f0a(){const _0x5b024b=_0x3f1c29;_0x16aa25['style'][_0x5b024b(0xf3)]=_0x295d40[_0x5b024b(0x2d1)]+'px';}_0x511f0a(),window['addEventListener']('resize',_0x511f0a),_0x295d40[_0x3f1c29(0xec)]('click',function(_0x574396){const _0x3c7f1c=_0x3f1c29;_0x574396[_0x3c7f1c(0x223)](),_0x511f0a();const _0x44a69f=_0x16aa25[_0x3c7f1c(0x283)][_0x3c7f1c(0x2c2)]===_0x3c7f1c(0x1a6);document[_0x3c7f1c(0x20f)](_0x3c7f1c(0x1f3))[_0x3c7f1c(0x198)](_0x504f89=>{const _0x273d1c=_0x3c7f1c;if(_0x504f89!==_0x16aa25)_0x504f89[_0x273d1c(0x283)]['display']=_0x273d1c(0x22a);}),_0x16aa25[_0x3c7f1c(0x283)][_0x3c7f1c(0x2c2)]=_0x44a69f?_0x3c7f1c(0x22a):'block';}),_0x16aa25[_0x3f1c29(0x20f)](_0x3f1c29(0x220))['forEach'](_0x251089=>{const _0x1aca04=_0x3f1c29;_0x251089[_0x1aca04(0xec)](_0x1aca04(0xc8),function(_0x1642fe){const _0x11b200=_0x1aca04;_0x1642fe['stopPropagation'](),_0x57260a=this[_0x11b200(0x272)][_0x11b200(0x1c8)],_0x295d40[_0x11b200(0x272)][_0x11b200(0x1b5)]=_0x57260a,_0x295d40[_0x11b200(0x195)]=this[_0x11b200(0x195)],_0x16aa25[_0x11b200(0x283)][_0x11b200(0x2c2)]=_0x11b200(0x22a);});}),document['addEventListener'](_0x3f1c29(0xc8),function(_0x201bd0){const _0x238f55=_0x3f1c29;!_0x295d40['contains'](_0x201bd0[_0x238f55(0x2a9)])&&!_0x16aa25['contains'](_0x201bd0['target'])&&(_0x16aa25[_0x238f55(0x283)][_0x238f55(0x2c2)]=_0x238f55(0x22a));});}function getCredentialsApiWAChat(_0x5db456){const _0x5b07d3=_0x34b79c;return myCompany[_0x5b07d3(0x1e0)][_0x5b07d3(0xd7)](_0x4c4033=>_0x4c4033[_0x5b07d3(0x209)]==_0x5db456)||null;}async function sendMessageApiWAChat(_0x58cec0,_0x18e7ef,_0x5221e9,_0x4c7e77,_0x2578c9,_0x394025,_0x639467){const _0x42f20f=_0x34b79c,_0x297cf5=getCredentialsApiWAChat(_0x58cec0);if(!_0x297cf5)return Promise['reject'](new Error(_0x42f20f(0x1e1)));const _0x3e2e6d=_0x297cf5[_0x42f20f(0x204)],_0x254af7=_0x297cf5[_0x42f20f(0xd2)],_0x22bfe0={'type':_0x5221e9,'content':_0x4c7e77};if(_0x2578c9)_0x22bfe0[_0x42f20f(0x2a6)]=_0x2578c9;_0x394025&&(_0x22bfe0[_0x42f20f(0x236)]=_0x394025);_0x639467&&(_0x22bfe0[_0x42f20f(0x1b9)]=_0x639467);const _0x83bf58=_0x42f20f(0x250)+_0x3e2e6d+_0x42f20f(0x1c0)+_0x254af7+'/send',_0x3cc561=await fetch(_0x83bf58,{'method':_0x42f20f(0x291),'headers':{'Content-Type':_0x42f20f(0x21c),'x-auth-token':myCompany[_0x42f20f(0x174)]},'body':JSON[_0x42f20f(0x294)]({'to':_0x18e7ef,'payload':_0x22bfe0})});if(!_0x3cc561['ok']){const _0x2933a7=await _0x3cc561['json']()[_0x42f20f(0x10c)](()=>({}));throw new Error(_0x2933a7[_0x42f20f(0xaf)]||'Error\x20'+_0x3cc561[_0x42f20f(0x16c)]);}return _0x3cc561['json']();}async function saveCredentialsApiWAChatInCompany(){const _0x4840eb=_0x34b79c,_0x38936c=document[_0x4840eb(0x197)](_0x4840eb(0x1e0)),_0x3a00a0=_0x38936c[_0x4840eb(0x154)],_0x32b19e=getCredentialsApiWAChat(_0x3a00a0);_0x32b19e&&(myCompany['setCredentialsApiWAChatIdDefault']=_0x32b19e[_0x4840eb(0x209)]);}function formatVariantName(_0x31e387,_0x150b41,_0x2adf65){const _0x7965d=_0x34b79c;let _0x514589=String(_0x31e387||'')[_0x7965d(0x214)]();if(!_0x150b41||typeof _0x150b41!=='object'||_0x150b41[_0x7965d(0xd1)]!==Object||Object['keys'](_0x150b41)[_0x7965d(0x2b5)]===0x0)return _0x514589;return Object[_0x7965d(0x245)](_0x150b41)[_0x7965d(0x198)](_0x19dca3=>{const _0x40a2cb=String(_0x150b41[_0x19dca3]||'')['trim']();if(!_0x40a2cb)return;if(_0x2adf65===0x1)_0x514589+='\x20'+_0x19dca3+'\x20'+_0x40a2cb;else _0x2adf65===0x2&&(_0x514589+='\x20'+_0x40a2cb);}),_0x514589;}async function fetchLocationByIP(){const _0x4f0c75=_0x34b79c;try{const _0x20107b=await fetch(_0x4f0c75(0x2bb)),_0x262ba7=await _0x20107b[_0x4f0c75(0x1d1)]();if(_0x262ba7&&_0x262ba7[_0x4f0c75(0x20a)]&&_0x262ba7['longitude'])return{'lat':parseFloat(_0x262ba7[_0x4f0c75(0x20a)]),'lng':parseFloat(_0x262ba7[_0x4f0c75(0xe9)])};}catch(_0x44bb38){console['warn']('üåê\x20No\x20se\x20pudo\x20obtener\x20ubicaci√≥n\x20por\x20IP',_0x44bb38);}return null;}function loadGoogleMaps(_0x39a507){return new Promise((_0x47776d,_0x32b040)=>{const _0x3b27a5=_0x537e;if(window[_0x3b27a5(0x257)]&&window['google'][_0x3b27a5(0x21e)])return _0x47776d();const _0x5ccf2d=document['createElement'](_0x3b27a5(0x139));_0x5ccf2d[_0x3b27a5(0x2cb)]=_0x3b27a5(0x29a)+encodeURIComponent(_0x39a507)+_0x3b27a5(0x244),_0x5ccf2d[_0x3b27a5(0xfb)]=!![],_0x5ccf2d['defer']=!![],_0x5ccf2d[_0x3b27a5(0x1bf)]=()=>{const _0x254f9f=_0x3b27a5;window[_0x254f9f(0x257)]&&window['google']['maps']?_0x47776d():_0x32b040(new Error(_0x254f9f(0xf9)));},_0x5ccf2d[_0x3b27a5(0x194)]=()=>_0x32b040(new Error(_0x3b27a5(0x233))),document['head'][_0x3b27a5(0x13e)](_0x5ccf2d);});}function generateMap(_0x5af67e,_0x21bc69={}){const _0x1402e8=_0x34b79c,_0x55e036=typeof _0x5af67e===_0x1402e8(0xe3)?document[_0x1402e8(0x197)](_0x5af67e):_0x5af67e;if(!_0x55e036)throw new Error(_0x1402e8(0x19e));const _0x3ee731={'lat':0x0,'lng':0x0},_0x24a33f=_0x21bc69[_0x1402e8(0x2da)]!==![],_0xfba3f=_0x21bc69[_0x1402e8(0xdf)]||_0x1402e8(0xc4),_0x5a7883=_0x21bc69[_0x1402e8(0x23b)],_0x2af978=document[_0x1402e8(0x197)](_0x21bc69[_0x1402e8(0x23b)]);_0x2af978&&(_0x2af978['value']='',_0x2af978[_0x1402e8(0x2c9)](new Event(_0x1402e8(0xdb),{'bubbles':!![]})));let _0x10a8b1,_0x4b80c9=[],_0x87a3b2=null;function _0x5dfe0c(_0xf89e1d,_0x2f9bf3=0xc){const _0x55f22f=_0x1402e8;_0x10a8b1=new google[(_0x55f22f(0x21e))][(_0x55f22f(0xdd))](_0x55e036,{'center':_0xf89e1d,'zoom':_0x2f9bf3,'mapId':_0x55f22f(0xc9)}),_0xfba3f===_0x55f22f(0x2cd)&&Array['isArray'](_0x21bc69['locations'])&&_0x21bc69[_0x55f22f(0x163)][_0x55f22f(0x198)](_0x387dad=>_0x438fec(_0x387dad)),_0xfba3f===_0x55f22f(0x10a)&&_0x21bc69[_0x55f22f(0x152)]&&_0xf41283(_0x21bc69[_0x55f22f(0x152)][_0x55f22f(0x18c)],_0x21bc69['route'][_0x55f22f(0x281)]),_0xfba3f===_0x55f22f(0xc4)&&(_0x10a8b1['addListener']('click',_0x5cdfd8=>_0x7f0927(_0x5cdfd8[_0x55f22f(0xf4)])),_0x21bc69[_0x55f22f(0x1c1)]&&((async()=>{const _0x1d2fa0=_0x55f22f,{PlaceAutocompleteElement:_0x3eaccc}=await google['maps'][_0x1d2fa0(0xd3)](_0x1d2fa0(0x2ad)),_0x36f294=new _0x3eaccc(),_0x438be2=document['createElement']('div');_0x438be2[_0x1d2fa0(0x1c2)][_0x1d2fa0(0x221)]('autocomplete-wrapper'),Object['assign'](_0x438be2['style'],{'position':'absolute','top':'8px','left':'8px','zIndex':'5','width':_0x1d2fa0(0xc3)}),_0x438be2[_0x1d2fa0(0x13e)](_0x36f294),_0x10a8b1['controls'][google[_0x1d2fa0(0x21e)][_0x1d2fa0(0x1df)][_0x1d2fa0(0x170)]]['push'](_0x438be2),_0x36f294[_0x1d2fa0(0xec)](_0x1d2fa0(0x1d3),async _0x1ab77f=>{const _0x4afd73=_0x1d2fa0;console['log'](_0x4afd73(0x2c8),_0x1ab77f);if(!_0x1ab77f['placePrediction']){console['warn']('‚ö†Ô∏è\x20placePrediction\x20no\x20est√°\x20en\x20evt');return;}const _0x590faa=_0x1ab77f['placePrediction'],_0x4fe832=_0x590faa[_0x4afd73(0x126)]();await _0x4fe832[_0x4afd73(0x269)]({'fields':[_0x4afd73(0x1e8)]});const _0x282855=_0x4fe832['location'];if(!_0x282855){console[_0x4afd73(0xd5)]('‚ö†Ô∏è\x20place.location\x20indefinido');return;}_0x10a8b1[_0x4afd73(0x2af)](_0x282855),_0x10a8b1[_0x4afd73(0xcd)](0x11),_0x7f0927(_0x282855);const _0xd36784=_0x5a7883?document[_0x4afd73(0x197)](_0x5a7883):null;_0xd36784&&(_0xd36784['value']=_0x282855[_0x4afd73(0x1a7)]()+','+_0x282855[_0x4afd73(0x2a5)](),_0xd36784[_0x4afd73(0x2c9)](new Event(_0x4afd73(0xdb),{'bubbles':!![]})));});})()));}_0x24a33f&&navigator['geolocation']?navigator['geolocation']['getCurrentPosition'](_0x5069ff=>_0x5dfe0c({'lat':_0x5069ff['coords'][_0x1402e8(0x20a)],'lng':_0x5069ff[_0x1402e8(0x17a)]['longitude']}),async()=>{const _0x61d93a=await fetchLocationByIP();_0x5dfe0c(_0x61d93a||_0x3ee731);}):((async()=>{const _0x4ad1c7=await fetchLocationByIP();_0x5dfe0c(_0x4ad1c7||_0x3ee731);})());async function _0x438fec({lat:_0x19d504,lng:_0x49211c,iconUrl:_0x5e9a91,label:_0x412bbc}){const _0xb03159=_0x1402e8,{AdvancedMarkerElement:_0x500a1b}=await google[_0xb03159(0x21e)][_0xb03159(0xd3)](_0xb03159(0x1ad)),_0x45233e=new _0x500a1b({'map':_0x10a8b1,'position':{'lat':_0x19d504,'lng':_0x49211c},'title':_0x412bbc||'','content':_0x5e9a91?((()=>{const _0x45688d=_0xb03159,_0x3a0ea9=document[_0x45688d(0x276)](_0x45688d(0x25e));return _0x3a0ea9[_0x45688d(0x2cb)]=_0x5e9a91,_0x3a0ea9[_0x45688d(0x283)][_0x45688d(0xf3)]=_0x45688d(0x16b),_0x3a0ea9[_0x45688d(0x283)]['height']=_0x45688d(0x16b),_0x3a0ea9;})()):undefined});return _0x4b80c9[_0xb03159(0x2b9)](_0x45233e),_0x45233e;}async function _0x7f0927(_0x37e0e7,_0x404640){const _0x2d8a0b=_0x1402e8,_0x2bb0ab=typeof _0x37e0e7===_0x2d8a0b(0x255)&&typeof _0x404640===_0x2d8a0b(0x255)?new google[(_0x2d8a0b(0x21e))]['LatLng'](_0x37e0e7,_0x404640):_0x37e0e7,_0x1f0b32=_0x2bb0ab['lat'](),_0x24c47a=_0x2bb0ab[_0x2d8a0b(0x2a5)]();_0x87a3b2&&(_0x87a3b2['map']=null),_0x87a3b2=await _0x438fec({'lat':_0x1f0b32,'lng':_0x24c47a,'iconUrl':_0x21bc69[_0x2d8a0b(0x1be)]}),typeof _0x21bc69[_0x2d8a0b(0x164)]===_0x2d8a0b(0x254)&&_0x21bc69[_0x2d8a0b(0x164)](_0x1f0b32,_0x24c47a);}function _0xf41283(_0x1a6f9f,_0x2cd759){const _0x50e149=_0x1402e8,_0x8b9285=new google[(_0x50e149(0x21e))][(_0x50e149(0x261))](),_0x1065ea=new google[(_0x50e149(0x21e))][(_0x50e149(0x18e))]({'map':_0x10a8b1});_0x8b9285[_0x50e149(0x152)]({'origin':_0x1a6f9f,'destination':_0x2cd759,'travelMode':google['maps'][_0x50e149(0x113)][_0x50e149(0x2d4)]},(_0x474e75,_0xd23bbc)=>{const _0x415b32=_0x50e149;if(_0xd23bbc==='OK'){_0x1065ea[_0x415b32(0x296)](_0x474e75);if(_0x21bc69['pricePerKm']){const _0x16110a=_0x474e75['routes'][0x0][_0x415b32(0xc6)][_0x415b32(0x105)]((_0x19747a,_0x35f0f6)=>_0x19747a+_0x35f0f6['distance']['value'],0x0),_0x3a919e=_0x16110a/0x3e8;console[_0x415b32(0x1aa)](_0x415b32(0x155)+_0x3a919e[_0x415b32(0xa2)](0x2)+_0x415b32(0x240)),console['log'](_0x415b32(0x2d9)+(_0x3a919e*_0x21bc69[_0x415b32(0x2bf)])[_0x415b32(0xa2)](0x2));}}else console[_0x415b32(0xaf)](_0x415b32(0xb5),_0xd23bbc);});}return _0x10a8b1;}async function loadCart(_0x320919){const _0x1a3f8f=_0x34b79c;try{const _0x4d5be3=await createCartStore(''),_0x5c781d=[];await validateAccess(_0x4d5be3);const _0x495055=company[0x0]['setUser_Local'],_0x1ed23f=company[0x0]['setUsers']['find'](_0x39555a=>_0x39555a[_0x1a3f8f(0x22d)]==_0x495055[_0x1a3f8f(0x26d)]),_0x49edaf=company[0x0][_0x1a3f8f(0xa4)],_0x8f0211=document[_0x1a3f8f(0x197)](_0x1a3f8f(0x1a5));_0x8f0211[_0x1a3f8f(0x195)]='';if(_0x1ed23f&&_0x1ed23f[_0x1a3f8f(0xa4)]){const _0x52f6cb=_0x49edaf[_0x1a3f8f(0x1b0)](_0x482da6=>_0x1ed23f[_0x1a3f8f(0xa4)][_0x1a3f8f(0xb3)](_0x441f8d=>_0x441f8d['setBranchId']==_0x482da6[_0x1a3f8f(0x1a5)]));_0x52f6cb[_0x1a3f8f(0x198)](_0x531a23=>{const _0x58c71e=_0x1a3f8f,_0x2357b5=document['createElement'](_0x58c71e(0x1bc));_0x2357b5[_0x58c71e(0x154)]=_0x531a23[_0x58c71e(0x1a5)],_0x2357b5['textContent']=_0x531a23[_0x58c71e(0xbb)],_0x8f0211[_0x58c71e(0x13e)](_0x2357b5);});}if(_0x320919==0x1){const _0x5d1e0d=document[_0x1a3f8f(0x197)](_0x1a3f8f(0x2b1));_0x5d1e0d[_0x1a3f8f(0x195)]='';if(_0x1ed23f){const _0x17a5af=document[_0x1a3f8f(0x276)](_0x1a3f8f(0x1bc));_0x17a5af['value']=_0x1ed23f[_0x1a3f8f(0x1b6)],_0x17a5af[_0x1a3f8f(0x1e4)]=_0x1ed23f[_0x1a3f8f(0xfa)],_0x5d1e0d[_0x1a3f8f(0x13e)](_0x17a5af);}const _0x4440f1=Array['from'](_0x4d5be3['objectStoreNames'])[_0x1a3f8f(0x1b0)](_0x4c1b9a=>_0x4c1b9a[_0x1a3f8f(0x149)](_0x1a3f8f(0x280)))['map'](_0x8146e1=>{const _0x5b48d5=_0x1a3f8f,_0x3a1f8c=_0x8146e1['split']('_');return _0x3a1f8c[_0x5b48d5(0x2b5)]>=0x3?_0x3a1f8c[0x2]:null;})[_0x1a3f8f(0x1b0)](_0x21d138=>_0x21d138!==null);console[_0x1a3f8f(0x1aa)](_0x1a3f8f(0xdc),_0x4440f1);const _0x110c3e=Array[_0x1a3f8f(0x189)](_0x4d5be3[_0x1a3f8f(0x182)])[_0x1a3f8f(0x1b0)](_0x5dc0e7=>_0x5dc0e7['startsWith'](_0x1a3f8f(0x280)))[_0x1a3f8f(0x140)]((_0x27acb9,_0x8fdc8e)=>{const _0x665b5e=_0x1a3f8f,_0xa05f0f=parseInt(_0x27acb9[_0x665b5e(0xca)]('_')[_0x665b5e(0x137)](),0xa),_0x101e0d=parseInt(_0x8fdc8e[_0x665b5e(0xca)]('_')[_0x665b5e(0x137)](),0xa);return _0xa05f0f-_0x101e0d;});for(const _0x319843 of _0x110c3e){const _0xefd7bc=_0x319843[_0x1a3f8f(0xca)]('_');if(_0xefd7bc['length']<0x3){console[_0x1a3f8f(0xaf)](_0x1a3f8f(0x2a4)+_0x319843);continue;}const _0x309ba9=_0xefd7bc[0x2];if(_0x4440f1['includes'](_0x309ba9)){const _0x386eea=new Promise((_0x288f13,_0x3d5055)=>{const _0x5e19af=_0x1a3f8f,_0x207872=_0x4d5be3['transaction']([_0x319843],_0x5e19af(0x14b)),_0x25c23c=_0x207872[_0x5e19af(0x292)](_0x319843),_0x3a69e3=_0x25c23c['get'](_0x309ba9);_0x3a69e3[_0x5e19af(0x1f9)]=function(_0x80564){const _0x25a95b=_0x5e19af,_0x21c752=_0x80564[_0x25a95b(0x2a9)][_0x25a95b(0x1d6)];window_options[_0x309ba9]={},_0x21c752&&(window_options[_0x309ba9]={'setTipoOperacionInvoice':_0x21c752[_0x25a95b(0x270)],'setTipoOperacion':_0x21c752['setTipoOperacion'],'setSerie':_0x21c752[_0x25a95b(0x2de)],'setCorrelativo':_0x21c752['setCorrelativo'],'setMoneda':_0x21c752[_0x25a95b(0x228)],'setClienteTipoDoc':_0x21c752[_0x25a95b(0x127)],'setClienteNumDoc':_0x21c752[_0x25a95b(0xbf)],'setClienteDenominacion':_0x21c752['setClienteDenominacion'],'setClienteDireccion':_0x21c752[_0x25a95b(0xa6)],'setCustomerPhone':_0x21c752['setCustomerPhone'],'setCustomerEmail':_0x21c752[_0x25a95b(0x172)],'setFechaHora':_0x21c752[_0x25a95b(0x15b)],'setSellerId':_0x21c752[_0x25a95b(0x231)],'setSellerName':_0x21c752[_0x25a95b(0x13a)],'setDespacho':_0x21c752[_0x25a95b(0x293)],'setObservacion':_0x21c752['setObservacion'],'setDescuentoGlobal_Monto':_0x21c752[_0x25a95b(0x104)],'setAttachEdit':_0x21c752[_0x25a95b(0x210)]},console[_0x25a95b(0x1aa)]('Arrays\x20actualizados\x20para\x20windowId\x20'+_0x309ba9+':',_0x21c752)),Promise['resolve'](updateTab(_0x309ba9))['then'](_0x288f13)[_0x25a95b(0x10c)](_0x4a649a=>{const _0x5285ad=_0x25a95b;console[_0x5285ad(0xaf)](_0x5285ad(0x1db),_0x4a649a),_0x3d5055(_0x4a649a);});},_0x3a69e3[_0x5e19af(0x194)]=function(_0xe60dae){const _0x3a4efd=_0x5e19af;console['error'](_0x3a4efd(0x24a)+_0x309ba9+'.',_0xe60dae[_0x3a4efd(0x2a9)][_0x3a4efd(0xaf)]),_0x3d5055(_0xe60dae[_0x3a4efd(0x2a9)]['error']);};});_0x5c781d[_0x1a3f8f(0x2b9)](_0x386eea);}}const _0x4da078=Array['from'](_0x4d5be3[_0x1a3f8f(0x182)])['filter'](_0x51ae4f=>_0x51ae4f['startsWith'](_0x1a3f8f(0x1e2)))[_0x1a3f8f(0x140)]((_0x2e97df,_0x3d223d)=>{const _0x332fcb=_0x1a3f8f,_0x2bf655=parseInt(_0x2e97df[_0x332fcb(0xca)]('_')['pop'](),0xa),_0x3d5ac1=parseInt(_0x3d223d[_0x332fcb(0xca)]('_')[_0x332fcb(0x137)](),0xa);return _0x2bf655-_0x3d5ac1;});for(const _0x2ed0d4 of _0x4da078){const _0x2bf83b=_0x2ed0d4['split']('_')[0x1];!carts[_0x2bf83b]&&(carts[_0x2bf83b]=[]);const _0x26c084=new Promise((_0x54b000,_0x1bab23)=>{const _0xa656a6=_0x1a3f8f,_0x598a85=_0x4d5be3[_0xa656a6(0x200)]([_0x2ed0d4],_0xa656a6(0x14b)),_0x58179e=_0x598a85['objectStore'](_0x2ed0d4),_0x27beda=_0x58179e[_0xa656a6(0x114)]();_0x27beda[_0xa656a6(0x1f9)]=async function(_0x4f3f9e){const _0x131989=_0xa656a6,_0x11ffee=_0x4f3f9e[_0x131989(0x2a9)][_0x131989(0x1d6)];carts[_0x2bf83b][_0x131989(0x2b5)]=0x0,_0x11ffee[_0x131989(0x198)](_0x7db039=>carts[_0x2bf83b]['push'](_0x7db039));const _0x344704=myCompany['setWindows']['find'](_0x2c6e18=>_0x2c6e18[_0x131989(0x237)]==_0x2bf83b),_0x402c03=Array['isArray'](_0x344704[_0x131989(0x28b)])?[..._0x344704['setCartTmpInitial']]:[];if(_0x402c03[_0x131989(0x2b5)]>0x0){carts[_0x2bf83b]=_0x402c03,_0x344704['setCartTmp']=_0x402c03,_0x344704[_0x131989(0x28b)]=[];try{const _0x2d0d27=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2d0d27),await saveCart(_0x2bf83b),console[_0x131989(0x1aa)](_0x131989(0x284));}catch(_0x26c136){console[_0x131989(0xaf)](_0x131989(0x1cf),_0x26c136);}}renderCart(_0x2bf83b),_0x54b000();},_0x27beda['onerror']=function(_0x4e6947){const _0x22ef25=_0xa656a6;console['error'](_0x22ef25(0x211)+_0x2bf83b+'.',_0x4e6947[_0x22ef25(0x2a9)]['error']),_0x1bab23(_0x4e6947[_0x22ef25(0x2a9)][_0x22ef25(0xaf)]);};});_0x5c781d[_0x1a3f8f(0x2b9)](_0x26c084);}}if(_0x320919==0x2||_0x320919==0x3||_0x320919==0x4){const _0x3e015f=document[_0x1a3f8f(0x197)](_0x1a3f8f(0x1ab)),_0x50ac8e=document['getElementById']('setCashierName');_0x3e015f['innerHTML']='',_0x50ac8e[_0x1a3f8f(0x195)]='',_0x1ed23f&&(_0x3e015f[_0x1a3f8f(0x195)]='Plan\x20Impulsa',_0x50ac8e['innerHTML']=_0x1ed23f[_0x1a3f8f(0xfa)]);}if(_0x320919==0x1||_0x320919==0x4){const _0x2e46f9=myCompany[_0x1a3f8f(0x1e0)],_0xe21ae5=document[_0x1a3f8f(0x197)]('setCredentialsApiWAChat');_0xe21ae5[_0x1a3f8f(0x195)]='',_0x2e46f9['forEach'](_0x587d4d=>{const _0x565da2=_0x1a3f8f,_0x37948c=document[_0x565da2(0x276)](_0x565da2(0x1bc));_0x37948c['value']=_0x587d4d[_0x565da2(0x209)],_0x37948c[_0x565da2(0x1e4)]=_0x587d4d['setCredentialsApiWAChatAlias']??_0x587d4d['setCredentialsApiWAChatPort'],_0xe21ae5[_0x565da2(0x13e)](_0x37948c);}),myCompany?.['setCredentialsApiWAChatIdDefault']&&(_0xe21ae5['value']=myCompany[_0x1a3f8f(0xba)]);}return await Promise[_0x1a3f8f(0x116)](_0x5c781d),myCompany?.[_0x1a3f8f(0xce)]&&(document[_0x1a3f8f(0x197)]('setBranchId')['value']=company[0x0][_0x1a3f8f(0xce)]),document[_0x1a3f8f(0x197)](_0x1a3f8f(0x1a5))[_0x1a3f8f(0x2c9)](new Event(_0x1a3f8f(0xdb))),_0x320919==0x1&&(tabCount=getMaxWindowId(carts),console['log'](_0x1a3f8f(0x18a)+tabCount)),_0x4d5be3;}catch(_0x1620ab){throw _0x1620ab;}}function loadCartAndSetTabCount(_0x260721){const _0x3bd052=_0x34b79c;loadCart(_0x260721)[_0x3bd052(0x18b)](async _0x3f3b2d=>{const _0x55c96f=_0x3bd052;await initializeProducts(_0x3f3b2d);if(_0x260721==0x1){if(isLoggedIn(company)){const _0x3e0276=document[_0x55c96f(0x197)](_0x55c96f(0x242))['value'];if(parseFloat(_0x3e0276)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0xd8a8d1=myCompany['setWindows'][_0x55c96f(0x1c5)](_0x193b44=>_0x193b44[_0x55c96f(0x237)]);await reloadWindowsAndLayout(_0xd8a8d1);}}loadGoogleMaps(_0x55c96f(0x11b))[_0x55c96f(0x18b)](()=>{const _0x2cf87e=_0x55c96f;console[_0x2cf87e(0x1aa)](_0x2cf87e(0x212));})[_0x55c96f(0x10c)](_0x58ad13=>console[_0x55c96f(0xaf)](_0x58ad13));}adjustHeight(),showLeftSection(),setActiveTab(_0x55c96f(0x1f8)),document[_0x55c96f(0xec)](_0x55c96f(0x258),function(_0x483259){const _0x1dc2e3=_0x55c96f,_0x14d898=document[_0x1dc2e3(0x197)](_0x1dc2e3(0x242))[_0x1dc2e3(0x154)],_0xd62157=document['getElementById'](_0x1dc2e3(0x1c1)),_0x46d437=document[_0x1dc2e3(0x20f)]('.product[tabindex=\x270\x27]'),_0x195529=document[_0x1dc2e3(0x197)](_0x1dc2e3(0x148)+_0x14d898),_0x39a16d=document[_0x1dc2e3(0x197)](_0x1dc2e3(0xc5)+_0x14d898),_0x394c3b=document[_0x1dc2e3(0x197)](_0x1dc2e3(0x13b));function _0x35222c(_0x2abd29){const _0x2d35ad=_0x1dc2e3;return _0x2abd29&&(_0x2abd29[_0x2d35ad(0x2d1)]>0x0||_0x2abd29['offsetHeight']>0x0||_0x2abd29['getClientRects']()['length']);}let _0x5031ce=[];if(_0x394c3b&&_0x394c3b[_0x1dc2e3(0x1c2)][_0x1dc2e3(0x234)](_0x1dc2e3(0xb2))){const _0x3d4d94=_0x394c3b[_0x1dc2e3(0x20f)]('.payment-option');_0x3d4d94['forEach'](_0x422a61=>{const _0x1c5a9f=_0x1dc2e3;_0x35222c(_0x422a61)&&!_0x422a61['classList'][_0x1c5a9f(0x234)](_0x1c5a9f(0x226))&&_0x5031ce[_0x1c5a9f(0x2b9)](_0x422a61);});const _0x7c83ff=_0x394c3b['querySelector'](_0x1dc2e3(0x1cb)+_0x14d898);if(_0x7c83ff){const _0x55cd0d=_0x7c83ff[_0x1dc2e3(0x20f)](_0x1dc2e3(0x13d));_0x55cd0d['forEach'](_0x3dbfa7=>{const _0x380e47=_0x1dc2e3;_0x35222c(_0x3dbfa7)&&!_0x3dbfa7[_0x380e47(0x1c2)][_0x380e47(0x234)]('d-none')&&_0x5031ce['push'](_0x3dbfa7);});}_0x39a16d&&_0x35222c(_0x39a16d)&&!_0x39a16d[_0x1dc2e3(0x1c2)][_0x1dc2e3(0x234)]('d-none')&&(!_0x5031ce[_0x1dc2e3(0x124)](_0x39a16d)&&_0x5031ce[_0x1dc2e3(0x2b9)](_0x39a16d));const _0x330221=_0x394c3b[_0x1dc2e3(0x2c1)]('.autocomplete-wrapper\x20input');_0x330221&&_0x35222c(_0x330221)&&!_0x5031ce[_0x1dc2e3(0x124)](_0x330221)&&_0x5031ce[_0x1dc2e3(0x1c7)](_0x330221);}else{_0x5031ce=[_0xd62157,..._0x46d437];if(_0x195529)_0x5031ce[_0x1dc2e3(0x2b9)](_0x195529);}const _0x42059d=document[_0x1dc2e3(0x1e3)],_0x4eda38=_0x42059d&&(_0x42059d[_0x1dc2e3(0x1d2)]==_0x1dc2e3(0xe6)||_0x42059d['tagName']==_0x1dc2e3(0x268)||_0x42059d[_0x1dc2e3(0x1cd)](_0x1dc2e3(0x259)));if(_0x394c3b&&_0x394c3b[_0x1dc2e3(0x1c2)][_0x1dc2e3(0x234)]('active')&&_0x483259[_0x1dc2e3(0x24c)]==_0x1dc2e3(0x1d8)){if(_0x42059d&&_0x42059d[_0x1dc2e3(0x1c2)][_0x1dc2e3(0x234)](_0x1dc2e3(0x1dd))){_0x483259[_0x1dc2e3(0x2c4)](),_0x42059d[_0x1dc2e3(0xc8)]();return;}}if(_0x394c3b&&_0x394c3b[_0x1dc2e3(0x1c2)]['contains'](_0x1dc2e3(0xb2))&&_0x483259[_0x1dc2e3(0x24c)]==_0x1dc2e3(0x2c5)){const _0x1237ed=_0x394c3b['contains'](_0x42059d),_0x2ea9c2=_0x42059d?.[_0x1dc2e3(0x1cd)](_0x1dc2e3(0x259));if(!_0x1237ed&&!_0x2ea9c2){_0x483259[_0x1dc2e3(0x2c4)]();_0x5031ce[_0x1dc2e3(0x2b5)]>0x0&&_0x5031ce[0x0][_0x1dc2e3(0x11c)]();return;}}if(_0x483259[_0x1dc2e3(0x24c)]==_0x1dc2e3(0x2c5)){_0x483259[_0x1dc2e3(0x2c4)]();if(_0x5031ce['length']==0x0)return;let _0x4c55cf=_0x5031ce[_0x1dc2e3(0x2dd)](_0x42059d);if(_0x4c55cf==-0x1)_0x4c55cf=-0x1;let _0x1c3203;_0x483259['shiftKey']?_0x1c3203=_0x4c55cf<=0x0?_0x5031ce[_0x1dc2e3(0x2b5)]-0x1:_0x4c55cf-0x1:_0x1c3203=_0x4c55cf==_0x5031ce[_0x1dc2e3(0x2b5)]-0x1?0x0:_0x4c55cf+0x1;_0x5031ce[_0x1c3203][_0x1dc2e3(0x11c)]();return;}(!_0x394c3b||!_0x394c3b[_0x1dc2e3(0x1c2)][_0x1dc2e3(0x234)]('active'))&&!_0x4eda38&&!_0x42059d?.[_0x1dc2e3(0x1cd)]('#detalleModalPay')&&(_0x483259['key']['length']==0x1||_0x483259[_0x1dc2e3(0x24c)]=='Backspace'||_0x483259[_0x1dc2e3(0x24c)]=='Delete')&&(_0x483259[_0x1dc2e3(0x2c4)](),_0xd62157[_0x1dc2e3(0x11c)](),_0x483259[_0x1dc2e3(0x24c)]=='Backspace'||_0x483259['key']==_0x1dc2e3(0x15a)?_0xd62157[_0x1dc2e3(0x154)]=_0xd62157[_0x1dc2e3(0x154)][_0x1dc2e3(0x2c3)](0x0,-0x1):!_0xd62157[_0x1dc2e3(0x154)]?_0xd62157[_0x1dc2e3(0x154)]=_0x483259[_0x1dc2e3(0x24c)]:_0xd62157[_0x1dc2e3(0x154)]+=_0x483259[_0x1dc2e3(0x24c)]);}),loadTaxData(),resetNewItemForm();}_0x260721==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x260721==0x3){const _0x4f0f81=document[_0x55c96f(0x197)]('setBranchId')[_0x55c96f(0x154)];fil_BranchesId[_0x55c96f(0x2b9)](_0x4f0f81),updateDateRange(_0x55c96f(0x1ac));}_0x260721==0x4&&init();})[_0x3bd052(0x10c)](_0x30ed42=>{const _0x429582=_0x3bd052;console[_0x429582(0xaf)](_0x30ed42);})[_0x3bd052(0xb1)](()=>{const _0x5e0632=_0x3bd052;_0x260721==0x1&&updateInternetIcon();let _0x22b3ae;(_0x260721==0x1||_0x260721==0x2||_0x260721==0x3||_0x260721==0x4)&&(_0x22b3ae=_0x5e0632(0x24b)),registerServiceWorker(_0x22b3ae,_0x260721);});}