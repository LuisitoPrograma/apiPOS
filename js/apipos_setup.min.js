/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.6
*/

const _0xd7fbe1=_0x32e9;(function(_0x2b8128,_0x2ebe4c){const _0x477c4b=_0x32e9,_0x3457a4=_0x2b8128();while(!![]){try{const _0x1bc954=-parseInt(_0x477c4b(0x2e6))/0x1+parseInt(_0x477c4b(0x269))/0x2+parseInt(_0x477c4b(0x23f))/0x3+parseInt(_0x477c4b(0x209))/0x4+parseInt(_0x477c4b(0x197))/0x5*(parseInt(_0x477c4b(0x2de))/0x6)+parseInt(_0x477c4b(0x2df))/0x7+-parseInt(_0x477c4b(0x171))/0x8;if(_0x1bc954===_0x2ebe4c)break;else _0x3457a4['push'](_0x3457a4['shift']());}catch(_0x15ae38){_0x3457a4['push'](_0x3457a4['shift']());}}}(_0x20cc,0x1aead));const _0x2e85d4=(function(){let _0x339793=!![];return function(_0xdd5f31,_0x4eb119){const _0x53d7bb=_0x339793?function(){if(_0x4eb119){const _0x3c8670=_0x4eb119['apply'](_0xdd5f31,arguments);return _0x4eb119=null,_0x3c8670;}}:function(){};return _0x339793=![],_0x53d7bb;};}()),_0x406910=_0x2e85d4(this,function(){const _0x104638=_0x32e9;return _0x406910['toString']()[_0x104638(0x14c)]('(((.+)+)+)+$')[_0x104638(0x2e3)]()[_0x104638(0x1d0)](_0x406910)['search'](_0x104638(0x332));});_0x406910();const _0x52c355=(function(){let _0x283f3a=!![];return function(_0x4179f2,_0x1b2f3f){const _0x3676b4=_0x283f3a?function(){if(_0x1b2f3f){const _0xb117cb=_0x1b2f3f['apply'](_0x4179f2,arguments);return _0x1b2f3f=null,_0xb117cb;}}:function(){};return _0x283f3a=![],_0x3676b4;};}()),_0x247e37=_0x52c355(this,function(){const _0x5ee3c7=_0x32e9;let _0xbbce01;try{const _0x11e284=Function(_0x5ee3c7(0x2b3)+_0x5ee3c7(0x1fe)+');');_0xbbce01=_0x11e284();}catch(_0x92cc75){_0xbbce01=window;}const _0xa5d681=_0xbbce01[_0x5ee3c7(0x230)]=_0xbbce01['console']||{},_0x272fd6=[_0x5ee3c7(0x2ea),_0x5ee3c7(0x1d3),_0x5ee3c7(0x277),_0x5ee3c7(0x2b6),_0x5ee3c7(0x29f),_0x5ee3c7(0x163),_0x5ee3c7(0x26b)];for(let _0x52ba90=0x0;_0x52ba90<_0x272fd6[_0x5ee3c7(0x1c4)];_0x52ba90++){const _0x22f373=_0x52c355[_0x5ee3c7(0x1d0)][_0x5ee3c7(0x1e5)]['bind'](_0x52c355),_0x1ffcfb=_0x272fd6[_0x52ba90],_0x47b49a=_0xa5d681[_0x1ffcfb]||_0x22f373;_0x22f373[_0x5ee3c7(0x2c3)]=_0x52c355[_0x5ee3c7(0x160)](_0x52c355),_0x22f373[_0x5ee3c7(0x2e3)]=_0x47b49a[_0x5ee3c7(0x2e3)][_0x5ee3c7(0x160)](_0x47b49a),_0xa5d681[_0x1ffcfb]=_0x22f373;}});_0x247e37();let myCompany,db=null,dbPromise=null,db_name=_0xd7fbe1(0x24e),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0xd7fbe1(0x1cb),_0xd7fbe1(0x1f4),_0xd7fbe1(0x23a),_0xd7fbe1(0x1fc),_0xd7fbe1(0x323),_0xd7fbe1(0x25e),'julio',_0xd7fbe1(0x18f),_0xd7fbe1(0x373),_0xd7fbe1(0x15f),_0xd7fbe1(0x221),'diciembre'],gdfg5g=_0xd7fbe1(0x149),x45fgd='x3',xjehd78=_0xd7fbe1(0x1ce),cxkdj4='x64',x87s8d=_0xd7fbe1(0x33c),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0xd7fbe1(0x37e),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0xd7fbe1(0x31e),xg123f=_0xd7fbe1(0x27d),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0xd7fbe1(0x351),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr='64system',x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0xd7fbe1(0x1f6),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0xd7fbe1(0x1d2),x78xh='r',px32b='o',x64x44x54=_0xd7fbe1(0x147),x64x32x33=_0xd7fbe1(0x2d8),kkx12='s',ak47r='rgf4x32',d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0xd7fbe1(0x242),p34d9='d',kx32h='v',yx34l='p',pltbr=_0xd7fbe1(0x19d),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0xd7fbe1(0x30f),'S02',_0xd7fbe1(0x245),_0xd7fbe1(0x1cd),_0xd7fbe1(0x2c8),_0xd7fbe1(0x256),_0xd7fbe1(0x2ec),_0xd7fbe1(0x177),'co5','uy22',_0xd7fbe1(0x301)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0xd7fbe1(0x30c)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0xd7fbe1(0x300),_0xd7fbe1(0x28f),_0xd7fbe1(0x366),_0xd7fbe1(0x1a1),_0xd7fbe1(0x360),_0xd7fbe1(0x213)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0xd7fbe1(0x30c)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0xd7fbe1(0x30c)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0xd7fbe1(0x30c)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x19448d){const _0x15f299=_0xd7fbe1;await apiERPgetWindows();const _0xf23156=document['getElementById']('detalleModalLayout');if(_0xf23156[_0x15f299(0x26c)][_0x15f299(0x185)](_0x15f299(0x369))){const _0x542d35=document['getElementById'](_0x15f299(0x19c))[_0x15f299(0x31d)],_0x17509d=document[_0x15f299(0x348)]('setBranchId')[_0x15f299(0x31d)];cargarVentanas(_0x17509d,_0x542d35),createTabsEnvironments();}if(Array['isArray'](_0x19448d))for(const _0x47d114 of _0x19448d){try{await setOrders(_0x47d114);}catch(_0x245ea7){console[_0x15f299(0x2b6)]('Error\x20en\x20setOrders\x20para\x20windowId='+_0x47d114+':',_0x245ea7);}}else console[_0x15f299(0x1d3)](_0x15f299(0x20a),_0x19448d);}let socket;function conectarWebSocket(){const _0x262a28=_0xd7fbe1;if(socket&&socket[_0x262a28(0x1cc)]!==WebSocket['CLOSED']){console[_0x262a28(0x2ea)]('WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro');return;}const _0x36320a=myCompany[_0x262a28(0x14a)];if(!_0x36320a){console['error'](_0x262a28(0x335));return;}const _0x3ef0b8=location[_0x262a28(0x2f4)]===_0x262a28(0x32d)?'wss':'ws',_0x102635=_0x3ef0b8+_0x262a28(0x37a)+encodeURIComponent(_0x36320a);socket=new WebSocket(_0x102635),socket['addEventListener'](_0x262a28(0x371),()=>{const _0x43e520=_0x262a28;console[_0x43e520(0x2ea)]('WebSocket\x20conectado.');}),socket[_0x262a28(0x240)](_0x262a28(0x2b2),async _0x3ac606=>{const _0x2e2126=_0x262a28;try{const _0x22cca4=JSON['parse'](_0x3ac606[_0x2e2126(0x2d4)]);if(_0x22cca4[_0x2e2126(0x339)]===_0x2e2126(0x2bf))console[_0x2e2126(0x2ea)]('Evento\x20windowsUpdate\x20recibido.'),await reloadWindowsAndLayout(_0x22cca4[_0x2e2126(0x2d4)]),ntfShow(_0x2e2126(0x21a),0x1,0x2);else _0x22cca4[_0x2e2126(0x339)]===_0x2e2126(0x1b6)?(console[_0x2e2126(0x2ea)](_0x2e2126(0x1a6)),updateLastCorrelativeOnline(_0x22cca4[_0x2e2126(0x2d4)]['setOperationType'],_0x22cca4['data']['setOperationSeries'])):console[_0x2e2126(0x2ea)](_0x2e2126(0x36a),_0x22cca4);}catch(_0xecfed0){console[_0x2e2126(0x2b6)]('Error\x20procesando\x20mensaje\x20WS',_0xecfed0);}}),socket[_0x262a28(0x240)]('close',_0xe881f4=>{const _0x4c1a9a=_0x262a28;console[_0x4c1a9a(0x1d3)]('WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...',_0xe881f4[_0x4c1a9a(0x1ca)]),setTimeout(conectarWebSocket,0x3a98);}),socket['addEventListener'](_0x262a28(0x2b6),_0x265f41=>{const _0x416885=_0x262a28;console[_0x416885(0x2b6)](_0x416885(0x2e2),_0x265f41);});}function isWebSocketActive(){const _0x4c84db=_0xd7fbe1;return socket&&socket[_0x4c84db(0x1cc)]===WebSocket[_0x4c84db(0x329)];}function getQueryParam(_0x315d22){const _0x362469=_0xd7fbe1,_0x25d110=new URLSearchParams(window[_0x362469(0x20f)][_0x362469(0x14c)]);return _0x25d110[_0x362469(0x2c6)](_0x315d22);}function setUserNameGet(){const _0x1e0ad6=_0xd7fbe1,_0x1cc1b2=getQueryParam(_0x1e0ad6(0x172)),_0x1ea52a=document[_0x1e0ad6(0x348)](_0x1e0ad6(0x28c));_0x1cc1b2&&_0x1ea52a&&(_0x1ea52a['value']=_0x1cc1b2);}function generateUniqId(){const _0x188a55=_0xd7fbe1;return Date['now']()+'_'+Math[_0x188a55(0x1c2)]()['toString'](0x24)[_0x188a55(0x268)](0x2,0x9);}var hasLocalStorage=(function(){const _0x478d82=_0xd7fbe1;try{var _0x2060b9=_0x478d82(0x1e4);return localStorage[_0x478d82(0x2bd)](_0x2060b9,_0x2060b9),localStorage[_0x478d82(0x23b)](_0x2060b9),!![];}catch(_0x2e2a32){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x33c9f2=_0xd7fbe1;if(!hasLocalStorage){var _0x5d2912=Date[_0x33c9f2(0x376)]();return _0x5d2912===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x5d2912,counter_mem=0x0),_0x5d2912*0x3e8+counter_mem;}var _0x408d49=_0x33c9f2(0x295),_0x2d387f;try{var _0x30f706=localStorage[_0x33c9f2(0x1b1)](_0x408d49);_0x2d387f=_0x30f706?JSON[_0x33c9f2(0x1d6)](_0x30f706):{'lastTs':0x0,'counter':0x0},(typeof _0x2d387f['lastTs']!=='number'||typeof _0x2d387f['counter']!=='number')&&(_0x2d387f={'lastTs':0x0,'counter':0x0});}catch(_0xc109e7){_0x2d387f={'lastTs':0x0,'counter':0x0};}var _0x3b0199=Date[_0x33c9f2(0x376)]();_0x3b0199===_0x2d387f[_0x33c9f2(0x1dc)]?_0x2d387f[_0x33c9f2(0x266)]=(_0x2d387f[_0x33c9f2(0x266)]+0x1)%0x3e8:(_0x2d387f['lastTs']=_0x3b0199,_0x2d387f[_0x33c9f2(0x266)]=0x0);var _0x395661=_0x3b0199*0x3e8+_0x2d387f['counter'];try{localStorage[_0x33c9f2(0x2bd)](_0x408d49,JSON['stringify'](_0x2d387f));}catch(_0x1333c4){}return _0x395661;}function blobAStringBase64(_0x21aadf){return new Promise((_0x29256f,_0x380c78)=>{const _0x3c7c35=_0x32e9,_0x1b786f=new FileReader();_0x1b786f['onloadend']=()=>{const _0x5da6ef=_0x32e9,_0x9804c6=_0x1b786f['result'],_0x70415b=_0x9804c6[_0x5da6ef(0x1ac)](',');if(_0x70415b[_0x5da6ef(0x1c4)]!==0x2)return _0x380c78(new Error(_0x5da6ef(0x2b8)));_0x29256f(_0x70415b[0x1]);},_0x1b786f['onerror']=_0x2372a0=>_0x380c78(_0x2372a0),_0x1b786f[_0x3c7c35(0x280)](_0x21aadf);});}async function generarBarcodeDataURL(_0x31e416,_0x3f5190){return new Promise((_0x50d387,_0x35cd19)=>{const _0x461709=_0x32e9,_0x50781e=myCompany['setCodeBarTypes'][_0x461709(0x1e8)](_0x18cf55=>_0x18cf55[_0x461709(0x31f)]==_0x31e416),_0x4c87aa=_0x50781e?_0x50781e['setCodeBarTypeName']:_0x461709(0x2a8),_0x207f5c=document[_0x461709(0x1a9)](_0x461709(0x1b8),_0x461709(0x1be));JsBarcode(_0x207f5c,_0x3f5190,{'format':_0x4c87aa,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x7ae98f=new XMLSerializer()[_0x461709(0x22b)](_0x207f5c),_0xb0797a=btoa(_0x7ae98f),_0x34c809='data:image/svg+xml;base64,'+_0xb0797a,_0xca16c3=new Image();_0xca16c3[_0x461709(0x1b3)]=()=>{const _0x314901=_0x461709,_0x1bc0b8=document[_0x314901(0x25f)]('canvas');_0x1bc0b8['width']=_0xca16c3[_0x314901(0x17c)],_0x1bc0b8[_0x314901(0x16f)]=_0xca16c3['height'];const _0x32b569=_0x1bc0b8[_0x314901(0x17d)]('2d');_0x32b569[_0x314901(0x1c9)](_0xca16c3,0x0,0x0);const _0x183131=_0x1bc0b8[_0x314901(0x2db)](_0x314901(0x218));_0x50d387(_0x183131);},_0xca16c3[_0x461709(0x304)]=_0x9db1dc=>_0x35cd19(_0x9db1dc),_0xca16c3[_0x461709(0x361)]=_0x34c809;});}async function generarStickersPDF(_0x5d91b2,_0x24b412,_0x26da88){const _0x29b5e5=_0xd7fbe1,{PDFDocument:_0x6552d4,StandardFonts:_0x1f678a,rgb:_0x2305d7}=PDFLib,_0x3e550f=products[_0x29b5e5(0x1e8)](_0x30f196=>_0x30f196['id']==_0x26da88);if(!_0x3e550f){console[_0x29b5e5(0x2b6)](_0x29b5e5(0x262)+_0x26da88+'\x20no\x20encontrado\x20en\x20products.');return;}const _0x42d663=_0x3e550f[_0x29b5e5(0x29e)][_0x29b5e5(0x275)](),_0x1b7d31=document[_0x29b5e5(0x348)](_0x29b5e5(0x363))['value'],_0xa7b48e=document['getElementById']('setMoneda-'+_0x1b7d31)[_0x29b5e5(0x31d)],_0x12b4cf=(_0x3e550f[_0x29b5e5(0x330)]||[])[_0x29b5e5(0x1e8)](_0x25a170=>_0x25a170[_0x29b5e5(0x226)]==_0xa7b48e)||{},_0x4533ac=_0x12b4cf[_0x29b5e5(0x14f)]||0x0,_0x4abac8=getCurrencySymbol(_0x1b7d31),_0x2a9b38=Number(_0x4533ac)||0x0,_0x564473=_0x4abac8+'\x20'+_0x2a9b38[_0x29b5e5(0x18e)](0x2),_0x52e456=await _0x6552d4[_0x29b5e5(0x2f5)](),_0xdb4459=_0x1e61cc=>_0x1e61cc*2.83465,_0x358d27=_0xdb4459(0x70*0x2),_0x3dd73e=_0xdb4459(40.8),_0x5ec025=_0x52e456[_0x29b5e5(0x164)]([_0x358d27,_0x3dd73e]),_0x266f8d=await _0x52e456['embedFont'](_0x1f678a[_0x29b5e5(0x2cb)]),_0x48fe6d=Array(0x2)['fill'](_0x24b412),_0x5c56bc=0x2,_0xf56db8=0x1,_0x26ac40=0xc,_0x4d0fa6=_0x358d27/_0x5c56bc,_0x30759e=_0x3dd73e/_0xf56db8;for(let _0x4108b0=0x0;_0x4108b0<0x2;_0x4108b0++){const _0x58c678=_0x48fe6d[_0x4108b0],_0x3e6bc1=await generarBarcodeDataURL(_0x5d91b2,_0x58c678),_0xb48213=_0x3e6bc1[_0x29b5e5(0x1ac)](',')[0x1],_0x5f1d23=Uint8Array[_0x29b5e5(0x1fd)](atob(_0xb48213),_0x3aa412=>_0x3aa412[_0x29b5e5(0x2b4)](0x0));let _0x57ef5b;try{_0x57ef5b=await _0x52e456[_0x29b5e5(0x294)](_0x5f1d23);}catch{_0x57ef5b=await _0x52e456['embedJpg'](_0x5f1d23);}const _0x381654=0x5,_0x27cae5=_0x26ac40+0x4,_0x2f4f2e=_0x26ac40*0x2+0x4,_0x170976=_0x42d663,_0x3f7f45=_0x564473,_0x1dc15b=_0x4108b0%_0x5c56bc,_0x414a49=_0x266f8d[_0x29b5e5(0x1c8)](_0x170976,_0x26ac40),_0x579bad=_0x266f8d[_0x29b5e5(0x1c8)](_0x3f7f45,_0x26ac40),_0x3ea74e=_0x1dc15b*_0x4d0fa6+(_0x4d0fa6-_0x414a49)/0x2,_0x4a7c0a=_0x1dc15b*_0x4d0fa6+(_0x4d0fa6-_0x579bad)/0x2,_0x93bca1=_0x30759e-_0x381654-_0x26ac40,_0x1f9a33=_0x93bca1-_0x26ac40-0x2;_0x5ec025[_0x29b5e5(0x313)](_0x170976,{'x':_0x3ea74e,'y':_0x93bca1,'size':_0x26ac40,'font':_0x266f8d,'color':_0x2305d7(0x0,0x0,0x0)}),_0x5ec025[_0x29b5e5(0x313)](_0x3f7f45,{'x':_0x4a7c0a,'y':_0x1f9a33,'size':_0x26ac40,'font':_0x266f8d,'color':_0x2305d7(0x0,0x0,0x0)});const _0x1ffa05=_0x4d0fa6-_0x381654*0x2,_0x298a63=_0x30759e-_0x381654*0x2-_0x2f4f2e-_0x27cae5,_0x43f704=_0x57ef5b[_0x29b5e5(0x17c)],_0x27a13d=_0x57ef5b[_0x29b5e5(0x16f)],_0x1481d=Math[_0x29b5e5(0x279)](_0x1ffa05/_0x43f704,_0x298a63/_0x27a13d,0x1),_0x346490=_0x57ef5b['scale'](_0x1481d),_0x36ae2d=_0x1dc15b*_0x4d0fa6+(_0x4d0fa6-_0x346490[_0x29b5e5(0x17c)])/0x2,_0x2e8151=_0x1f9a33-_0x346490['height']-0x4;_0x5ec025[_0x29b5e5(0x1c9)](_0x57ef5b,{'x':_0x36ae2d,'y':_0x2e8151,'width':_0x346490[_0x29b5e5(0x17c)],'height':_0x346490[_0x29b5e5(0x16f)]});const _0x5bbdc3=_0x266f8d[_0x29b5e5(0x1c8)](_0x58c678,_0x26ac40),_0x5c6b39=_0x1dc15b*_0x4d0fa6+(_0x4d0fa6-_0x5bbdc3)/0x2,_0x1ac57a=_0x2e8151-_0x26ac40-0x2;_0x5ec025[_0x29b5e5(0x313)](_0x58c678,{'x':_0x5c6b39,'y':_0x1ac57a,'size':_0x26ac40,'font':_0x266f8d,'color':_0x2305d7(0x0,0x0,0x0)});}const _0x16e7b1=await _0x52e456[_0x29b5e5(0x1a4)](),_0x58f6a2=new Blob([_0x16e7b1],{'type':'application/pdf'}),_0x466c42=URL[_0x29b5e5(0x1df)](_0x58f6a2);window['open'](_0x466c42);}async function sendEmail(_0x470fe5,_0x2e779f,_0x1285b7,_0x2a2ed1,_0x20c482,_0x1bf9df,_0x3a9fb8,_0xd7967,_0x5e95a5,_0xfffa22){const _0x1561e2=_0xd7fbe1;if(isOnline()){const _0x85ceb1={'setAuthToken':_0x470fe5,'senderName':_0x2e779f,'senderEmail':_0x1285b7,'senderPassword':_0x2a2ed1,'smtpHost':_0x20c482,'smtpPort':_0x1bf9df,'emailsDestination':_0x3a9fb8,'subject':_0xd7967,'message':_0x5e95a5,'attachFiles':_0xfffa22};try{const _0x487f01=await fetch(_0x1561e2(0x328),{'method':_0x1561e2(0x2d9),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x1561e2(0x2af)](_0x85ceb1)}),_0x1875b1=await _0x487f01[_0x1561e2(0x16e)]();if(!_0x487f01['ok']||!_0x1875b1[_0x1561e2(0x2b1)]){console[_0x1561e2(0x2b6)](_0x1561e2(0x370),_0x1875b1),ntfShow(_0x1561e2(0x374));return;}}catch(_0x4abcd4){console[_0x1561e2(0x2b6)](_0x1561e2(0x24a),_0x4abcd4);}}}function loadLoginContent(_0x319e4e){const _0x3a593a=_0xd7fbe1,_0x211483=document[_0x3a593a(0x348)](_0x3a593a(0x34a));_0x211483['innerHTML']='\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22'+_0x319e4e+_0x3a593a(0x2bc);}function addNumber(_0x174403){const _0x11f6f6=_0xd7fbe1;document[_0x11f6f6(0x348)](_0x11f6f6(0x188))[_0x11f6f6(0x31d)]+=_0x174403;}function deleteNumber(){const _0x35142a=_0xd7fbe1;let _0x1fbb5d=document['getElementById']('password');_0x1fbb5d['value']=_0x1fbb5d[_0x35142a(0x31d)]['slice'](0x0,-0x1);}function togglePassword(){const _0xfbc5db=_0xd7fbe1;let _0x3c7e1a=document[_0xfbc5db(0x348)](_0xfbc5db(0x188));_0x3c7e1a[_0xfbc5db(0x339)]=_0x3c7e1a[_0xfbc5db(0x339)]==_0xfbc5db(0x188)?'text':_0xfbc5db(0x188);}function setEventBtnAccess(){const _0x58f0f7=_0xd7fbe1,_0x1d6faa=document['getElementById'](_0x58f0f7(0x194));_0x1d6faa[_0x58f0f7(0x2c2)]=function(){acceder();};}function isOnline(){const _0x6f7453=_0xd7fbe1;return window[_0x6f7453(0x1b7)][_0x6f7453(0x1b9)];}function showLoadingModal(){const _0x2a5f5b=_0xd7fbe1,_0xd5bc95=document[_0x2a5f5b(0x25f)](_0x2a5f5b(0x32e));_0xd5bc95['id']=_0x2a5f5b(0x19f),_0xd5bc95['style'][_0x2a5f5b(0x182)]='fixed',_0xd5bc95['style'][_0x2a5f5b(0x15b)]='0',_0xd5bc95['style']['left']='0',_0xd5bc95[_0x2a5f5b(0x159)][_0x2a5f5b(0x17c)]=_0x2a5f5b(0x27b),_0xd5bc95[_0x2a5f5b(0x159)][_0x2a5f5b(0x16f)]=_0x2a5f5b(0x27b),_0xd5bc95['style'][_0x2a5f5b(0x33b)]=_0x2a5f5b(0x2dd),_0xd5bc95['style'][_0x2a5f5b(0x2f2)]=_0x2a5f5b(0x285),_0xd5bc95[_0x2a5f5b(0x159)][_0x2a5f5b(0x37d)]=_0x2a5f5b(0x2aa),_0xd5bc95[_0x2a5f5b(0x159)][_0x2a5f5b(0x232)]=_0x2a5f5b(0x2aa),_0xd5bc95[_0x2a5f5b(0x159)][_0x2a5f5b(0x198)]='9999',_0xd5bc95['style']['opacity']='1',_0xd5bc95[_0x2a5f5b(0x159)]['transition']=_0x2a5f5b(0x359),_0xd5bc95[_0x2a5f5b(0x193)]=_0x2a5f5b(0x2f7),document[_0x2a5f5b(0x1f7)][_0x2a5f5b(0x347)](_0xd5bc95);}function hideLoadingModal(){const _0x5464a8=_0xd7fbe1,_0x450c20=document[_0x5464a8(0x348)](_0x5464a8(0x19f));_0x450c20&&(_0x450c20[_0x5464a8(0x159)]['opacity']='0',_0x450c20[_0x5464a8(0x208)]());}function cargarAlmacenes(_0x266c40){const _0x30a6f0=_0xd7fbe1,_0x3ccba2=document['getElementById'](_0x30a6f0(0x2f1));_0x3ccba2[_0x30a6f0(0x193)]='';const _0x3edafb=company[0x0][_0x30a6f0(0x31a)][_0x30a6f0(0x1e8)](_0x14ec5a=>_0x14ec5a[_0x30a6f0(0x33e)]==_0x266c40);_0x3edafb&&_0x3edafb[_0x30a6f0(0x337)][_0x30a6f0(0x1c4)]>0x0&&_0x3edafb[_0x30a6f0(0x337)][_0x30a6f0(0x206)](_0xb8534e=>{const _0x209634=_0x30a6f0;let _0xfbd2d5=document[_0x209634(0x25f)](_0x209634(0x272));_0xfbd2d5['value']=_0xb8534e[_0x209634(0x2f1)],_0xfbd2d5[_0x209634(0x204)]=_0xb8534e[_0x209634(0x1fb)],_0x3ccba2[_0x209634(0x347)](_0xfbd2d5);});}function getAllWarehouses(){const _0x4af4f3=_0xd7fbe1,_0x23fe93=company[0x0]['setBranches']||[],_0xff9885=new Map();return _0x23fe93[_0x4af4f3(0x206)](_0x41976f=>{const _0x764b28=_0x4af4f3;(_0x41976f[_0x764b28(0x337)]||[])[_0x764b28(0x206)](_0xe9f3b0=>{const _0x10c73e=_0x764b28;!_0xff9885[_0x10c73e(0x283)](_0xe9f3b0['setWarehouseId'])&&_0xff9885[_0x10c73e(0x367)](_0xe9f3b0['setWarehouseId'],{'setWarehouseId':_0xe9f3b0[_0x10c73e(0x2f1)],'setWarehouseName':_0xe9f3b0[_0x10c73e(0x1fb)]+'\x20('+_0x41976f['setBranchName']+')'});});}),Array[_0x4af4f3(0x1fd)](_0xff9885[_0x4af4f3(0x21c)]());}function _0x32e9(_0x22be7e,_0x38ddf4){const _0x20ed0e=_0x20cc();return _0x32e9=function(_0x247e37,_0x52c355){_0x247e37=_0x247e37-0x139;let _0x1d74bd=_0x20ed0e[_0x247e37];return _0x1d74bd;},_0x32e9(_0x22be7e,_0x38ddf4);}function cargarPisos(_0x50929f){const _0xce6456=_0xd7fbe1,_0x4148ae=company[0x0][_0xce6456(0x2a4)][_0xce6456(0x273)](_0x2ea2ea=>_0x2ea2ea[_0xce6456(0x33e)]==_0x50929f),_0x1de2cc={};_0x4148ae[_0xce6456(0x206)](_0x47cb6c=>{const _0xda4a63=_0xce6456;_0x1de2cc[_0x47cb6c['setFloorId']]=_0x47cb6c[_0xda4a63(0x199)];});const _0x1056c1=document[_0xce6456(0x348)]('setFloorId');_0x1056c1[_0xce6456(0x193)]='';for(const _0x24e57d in _0x1de2cc){const _0x938b6e=document[_0xce6456(0x25f)](_0xce6456(0x272));_0x938b6e[_0xce6456(0x31d)]=_0x24e57d,_0x938b6e[_0xce6456(0x204)]=_0x1de2cc[_0x24e57d],_0x1056c1[_0xce6456(0x347)](_0x938b6e);}}document[_0xd7fbe1(0x348)](_0xd7fbe1(0x239))[_0xd7fbe1(0x240)]('click',()=>{const _0x546a17=_0xd7fbe1,_0x2c4c18=document[_0x546a17(0x297)],_0xa42bd9=document['fullscreenElement']||document['webkitFullscreenElement']||document[_0x546a17(0x176)]||document[_0x546a17(0x346)];if(!_0xa42bd9){if(_0x2c4c18[_0x546a17(0x150)])_0x2c4c18['requestFullscreen']();else{if(_0x2c4c18[_0x546a17(0x364)])_0x2c4c18[_0x546a17(0x364)]();else{if(_0x2c4c18[_0x546a17(0x357)])_0x2c4c18[_0x546a17(0x357)]();else _0x2c4c18[_0x546a17(0x22a)]&&_0x2c4c18[_0x546a17(0x22a)]();}}}else{if(document[_0x546a17(0x2c1)])document[_0x546a17(0x2c1)]();else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else{if(document[_0x546a17(0x1d1)])document[_0x546a17(0x1d1)]();else document['msExitFullscreen']&&document[_0x546a17(0x238)]();}}}});function openModalDetailsAndNtf(_0x457d84,_0x37b8bc,_0x6779a=null){const _0x3f94b1=_0xd7fbe1,_0x2c139a=products['find'](_0x3c04a9=>_0x3c04a9['id']==_0x457d84),_0x331e7d=_0x2c139a['id'],_0x54b0db=_0x2c139a[_0x3f94b1(0x1da)],_0x29ebd3=_0x2c139a[_0x3f94b1(0x29e)],_0xb7c229=_0x2c139a[_0x3f94b1(0x36f)],_0x46bc07=_0x2c139a['setImg']?.[_0x3f94b1(0x275)]()||_0x3f94b1(0x20b),_0x13a54c=Array['isArray'](_0x2c139a[_0x3f94b1(0x18d)])&&_0x2c139a[_0x3f94b1(0x18d)][_0x3f94b1(0x1c4)]>0x0?_0x2c139a[_0x3f94b1(0x18d)]:[{'setImageUrl':_0x46bc07}],_0x9e14fa=_0x13a54c['map'](_0x3c717b=>_0x3c717b[_0x3f94b1(0x251)]),_0x2a6074=document[_0x3f94b1(0x348)](_0x3f94b1(0x1bc)),_0x2637a9=_0x2a6074[_0x3f94b1(0x260)](_0x3f94b1(0x1a7)),_0x3add39=_0x2a6074[_0x3f94b1(0x260)](_0x3f94b1(0x2ad)),_0x4a25a8=_0x2a6074[_0x3f94b1(0x260)]('.modal-overlay-carousel'),_0x93746e=document[_0x3f94b1(0x348)](_0x3f94b1(0x2fc)),_0x290857=_0x2a6074[_0x3f94b1(0x260)]('.carousel-prev'),_0xc888ff=_0x2a6074[_0x3f94b1(0x260)](_0x3f94b1(0x1e2));_0x2637a9[_0x3f94b1(0x193)]='',_0x9e14fa[_0x3f94b1(0x206)](_0x2049da=>{const _0x3f5c9b=_0x3f94b1,_0x77133b=document['createElement'](_0x3f5c9b(0x158));_0x77133b[_0x3f5c9b(0x361)]=_0x2049da,_0x77133b[_0x3f5c9b(0x1c1)]=_0x3f5c9b(0x27e),_0x2637a9['appendChild'](_0x77133b);});let _0x580225=0x0;const _0x138ce7=_0x9e14fa[_0x3f94b1(0x1c4)];function _0x3bbd02(){const _0xd3d969=_0x3f94b1;_0x2637a9[_0xd3d969(0x159)]['transform']=_0xd3d969(0x175)+_0x580225*0x64+'%)';}_0x9e14fa['forEach'](_0x34d91b=>{const _0x22affb=_0x3f94b1,_0x573274=new Image();_0x573274[_0x22affb(0x361)]=_0x34d91b;});_0x138ce7<=0x1?(_0x290857['style'][_0x3f94b1(0x2f2)]=_0x3f94b1(0x359),_0xc888ff[_0x3f94b1(0x159)]['display']=_0x3f94b1(0x359)):(_0x290857['style'][_0x3f94b1(0x2f2)]='',_0xc888ff[_0x3f94b1(0x159)][_0x3f94b1(0x2f2)]='');_0x580225=0x0,_0x3bbd02();function _0x45721d(_0xaa3469){_0xaa3469['stopPropagation'](),_0x580225=(_0x580225-0x1+_0x138ce7)%_0x138ce7,_0x3bbd02();}function _0x1845d4(_0x1c6dd5){_0x1c6dd5['stopPropagation'](),_0x580225=(_0x580225+0x1)%_0x138ce7,_0x3bbd02();}_0x290857[_0x3f94b1(0x214)](_0x290857[_0x3f94b1(0x207)](!![])),_0xc888ff['replaceWith'](_0xc888ff[_0x3f94b1(0x207)](!![]));const _0x405191=_0x2a6074[_0x3f94b1(0x260)](_0x3f94b1(0x2da)),_0x159029=_0x2a6074['querySelector'](_0x3f94b1(0x1e2));_0x405191[_0x3f94b1(0x240)](_0x3f94b1(0x15c),_0x45721d),_0x159029[_0x3f94b1(0x240)](_0x3f94b1(0x15c),_0x1845d4),_0x3add39[_0x3f94b1(0x240)](_0x3f94b1(0x15c),_0x5141ab=>{const _0x5b399c=_0x3f94b1;_0x5141ab['stopPropagation'](),_0x2a6074['style'][_0x5b399c(0x2f2)]='none';}),_0x4a25a8[_0x3f94b1(0x240)](_0x3f94b1(0x15c),()=>{const _0xe2381b=_0x3f94b1;_0x2a6074[_0xe2381b(0x159)][_0xe2381b(0x2f2)]='none';}),_0x2a6074['style'][_0x3f94b1(0x2f2)]=_0x3f94b1(0x285),_0x93746e[_0x3f94b1(0x193)]=_0x3f94b1(0x24d)+_0x54b0db+'\x20-\x20'+_0x29ebd3+_0x3f94b1(0x2ab);const _0xa3a871=document[_0x3f94b1(0x25f)](_0x3f94b1(0x1c7));_0xa3a871[_0x3f94b1(0x174)]='barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal';const _0x26149e=document[_0x3f94b1(0x25f)](_0x3f94b1(0x272));_0x26149e[_0x3f94b1(0x31d)]='0',_0x26149e['textContent']=_0x3f94b1(0x16b),_0xa3a871[_0x3f94b1(0x347)](_0x26149e),myCompany[_0x3f94b1(0x22d)][_0x3f94b1(0x206)](_0x34cc5d=>{const _0x39a648=_0x3f94b1,_0x556afb=document[_0x39a648(0x25f)]('option');_0x556afb[_0x39a648(0x31d)]=String(_0x34cc5d[_0x39a648(0x31f)]),_0x556afb[_0x39a648(0x204)]=_0x34cc5d[_0x39a648(0x1ed)],_0xa3a871[_0x39a648(0x347)](_0x556afb);}),_0xa3a871[_0x3f94b1(0x240)]('change',function(){const _0x2ec404=_0x3f94b1,_0x399418=parseInt(this['value'],0xa);if(_0x399418===0x0)return;typeof _0xb7c229===_0x2ec404(0x336)&&_0xb7c229[_0x2ec404(0x275)]()[_0x2ec404(0x1c4)]>=0x1?generarStickersPDF(_0x399418,_0xb7c229[_0x2ec404(0x275)](),_0x457d84):(ntfShow(_0x2ec404(0x157),0x2,0x2),this[_0x2ec404(0x31d)]='0');}),_0x93746e[_0x3f94b1(0x347)](_0xa3a871);var _0x5189fc=document['createElement'](_0x3f94b1(0x223));_0x5189fc[_0x3f94b1(0x339)]=_0x3f94b1(0x223),_0x5189fc['className']=_0x3f94b1(0x161),_0x5189fc['textContent']='Agregar\x20Variantes',_0x5189fc[_0x3f94b1(0x240)](_0x3f94b1(0x15c),function(){const _0x201829=_0x3f94b1,_0x1dccba=document['getElementById'](_0x201829(0x1bc));_0x1dccba[_0x201829(0x159)]['display']='none',showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x331e7d),initializeFormInputsBasic(_0x331e7d),initializeFormTax(_0x331e7d),initializeFormCategoriesBrands(_0x331e7d);}),_0x93746e[_0x3f94b1(0x347)](_0x5189fc);if(_0x6779a!=null){_0x93746e[_0x3f94b1(0x202)](_0x3f94b1(0x152),_0x3f94b1(0x235)+_0x6779a[_0x3f94b1(0x32b)]+'</h3><p>'+_0x6779a['message']+_0x3f94b1(0x1d8));var _0xd7e813=document[_0x3f94b1(0x348)](_0x3f94b1(0x1d9));_0x6779a[_0x3f94b1(0x339)]===0x1&&[_0x3f94b1(0x17b),_0x3f94b1(0x264),_0x3f94b1(0x311)]['forEach'](function(_0x5974dc){const _0x2cdfc3=_0x3f94b1;var _0x448cde=document[_0x2cdfc3(0x25f)](_0x2cdfc3(0x223));_0x448cde[_0x2cdfc3(0x204)]=_0x5974dc,_0x448cde[_0x2cdfc3(0x240)](_0x2cdfc3(0x15c),function(){const _0x118f07=_0x2cdfc3;console[_0x118f07(0x2ea)]('Acción\x20\x22'+_0x5974dc+'\x22\x20para\x20registro\x20#'+_0x6779a['id_registro']);}),_0xd7e813[_0x2cdfc3(0x347)](_0x448cde);}),_0x6779a['type']===0x2&&[_0x3f94b1(0x2f3),_0x3f94b1(0x350)][_0x3f94b1(0x206)](function(_0x5735a7){const _0x60c1e5=_0x3f94b1;var _0x1a44b6=document[_0x60c1e5(0x25f)](_0x60c1e5(0x223));_0x1a44b6['textContent']=_0x5735a7,_0x1a44b6[_0x60c1e5(0x240)]('click',function(){const _0x26014e=_0x60c1e5;console[_0x26014e(0x2ea)](_0x26014e(0x31c)+_0x5735a7+_0x26014e(0x343)+_0x6779a['id_registro']);}),_0xd7e813[_0x60c1e5(0x347)](_0x1a44b6);});}}function ntf_formatDateDMY(_0x25119c){const _0x3af464=_0xd7fbe1;var _0x2cff6c=new Date(_0x25119c),_0x395896=_0x2cff6c[_0x3af464(0x257)](),_0x1afd03=_0x2cff6c[_0x3af464(0x24b)](),_0x580949=monthsEspanish[_0x2cff6c[_0x3af464(0x143)]()];return _0x395896+'\x20de\x20'+_0x580949+_0x3af464(0x2d6)+_0x1afd03;}function ntf_groupBy(_0x264493,_0x27cffc){const _0x2d7a8f=_0xd7fbe1;return _0x264493[_0x2d7a8f(0x298)](function(_0x61bb4f,_0x41485a){const _0x566dc9=_0x2d7a8f;var _0x28c34e=_0x41485a[_0x27cffc];return _0x61bb4f[_0x28c34e]=_0x61bb4f[_0x28c34e]||[],_0x61bb4f[_0x28c34e][_0x566dc9(0x15a)](_0x41485a),_0x61bb4f;},{});}function ntf_isExpired(_0x1a7dab){if(!_0x1a7dab)return![];var _0x48937b=new Date();return _0x48937b['setHours'](0x0,0x0,0x0,0x0),new Date(_0x1a7dab)<=_0x48937b;}function ntf_getNotifications(){const _0x55cf4e=_0xd7fbe1;var _0x52c711=parseInt(document['getElementById'](_0x55cf4e(0x2f1))[_0x55cf4e(0x31d)],0xa),_0x4cb839=ntf_groupBy(products,_0x55cf4e(0x324)),_0x3e3a87=[];return Object[_0x55cf4e(0x2c0)](_0x4cb839)[_0x55cf4e(0x206)](function(_0x3b313b){const _0x286a94=_0x55cf4e;var _0x3abe12=_0x4cb839[_0x3b313b],_0x3d2d6b=_0x3abe12[0x0],_0x31362c=(_0x3d2d6b[_0x286a94(0x1bb)]||[])[_0x286a94(0x1e8)](function(_0x293be5){const _0x5879ef=_0x286a94;return _0x293be5[_0x5879ef(0x349)]==_0x52c711;});if(!_0x31362c)return;var _0x1e493e=parseFloat(_0x31362c[_0x286a94(0x29c)]),_0x4840f1=parseFloat(_0x31362c[_0x286a94(0x2d7)]);_0x3d2d6b['setInventariable']==0x1&&_0x1e493e<=_0x4840f1&&_0x3e3a87[_0x286a94(0x15a)]({'type':0x1,'id_registro':_0x3d2d6b['id'],'title':_0x286a94(0x1c6)+_0x3d2d6b[_0x286a94(0x29e)],'message':_0x286a94(0x2d3)+_0x3d2d6b[_0x286a94(0x29e)]+_0x286a94(0x365)+_0x4840f1[_0x286a94(0x18e)](0x3)+'<br>\x0aStock\x20Actual:\x20'+_0x1e493e[_0x286a94(0x18e)](0x3)+'\x0a','data':{'producto':_0x3d2d6b,'stock':_0x1e493e,'minStock':_0x4840f1}}),_0x3d2d6b[_0x286a94(0x284)]&&ntf_isExpired(_0x3d2d6b[_0x286a94(0x284)])&&_0x3e3a87[_0x286a94(0x15a)]({'type':0x2,'id_registro':_0x3d2d6b['id'],'title':_0x286a94(0x26f)+_0x3d2d6b[_0x286a94(0x29e)],'message':_0x286a94(0x378)+_0x3d2d6b[_0x286a94(0x29e)]+_0x286a94(0x292)+ntf_formatDateDMY(_0x3d2d6b['setBatchExpirationDate'])+_0x286a94(0x13a)+'Stock\x20Actual:\x20'+_0x1e493e[_0x286a94(0x18e)](0x3),'data':{'producto':_0x3d2d6b,'expiration':_0x3d2d6b['setBatchExpirationDate']}});}),_0x3e3a87;}function ntf_renderNotifications(){const _0x4d0044=_0xd7fbe1;var _0x33259c=ntf_getNotifications(),_0x2c768a=document['getElementById'](_0x4d0044(0x24c)),_0xa2ca8f=document[_0x4d0044(0x348)]('ntf-notif-count');_0x2c768a[_0x4d0044(0x193)]='',_0xa2ca8f[_0x4d0044(0x204)]=_0x33259c[_0x4d0044(0x1c4)];if(_0x33259c['length']===0x0){var _0x1e4406=document['createElement']('li');_0x1e4406[_0x4d0044(0x204)]=_0x4d0044(0x156),_0x2c768a[_0x4d0044(0x347)](_0x1e4406);return;}_0x33259c[_0x4d0044(0x206)](function(_0x521d66,_0x17fd0b){const _0x326515=_0x4d0044;var _0x315e9b=document[_0x326515(0x25f)]('li');_0x315e9b[_0x326515(0x204)]=_0x521d66[_0x326515(0x32b)],_0x315e9b[_0x326515(0x170)]('data-ntf-index',_0x17fd0b),_0x2c768a[_0x326515(0x347)](_0x315e9b);});}document[_0xd7fbe1(0x348)](_0xd7fbe1(0x36c))[_0xd7fbe1(0x240)]('click',function(){const _0x5365ea=_0xd7fbe1;document['getElementById'](_0x5365ea(0x18c))[_0x5365ea(0x26c)][_0x5365ea(0x22f)](_0x5365ea(0x217)),ntf_renderNotifications();}),document[_0xd7fbe1(0x348)]('ntf-notifications-list')[_0xd7fbe1(0x240)]('click',function(_0xe465a1){const _0x9ee2d0=_0xd7fbe1,_0x5a3517=_0xe465a1[_0x9ee2d0(0x2c5)]['closest']('li');if(!_0x5a3517||!_0x5a3517[_0x9ee2d0(0x236)]['ntfIndex'])return;const _0x19b19f=ntf_getNotifications()[_0x5a3517[_0x9ee2d0(0x236)][_0x9ee2d0(0x26e)]];document[_0x9ee2d0(0x348)](_0x9ee2d0(0x36c))[_0x9ee2d0(0x15c)](),openModalDetailsAndNtf(_0x19b19f[_0x9ee2d0(0x2d4)][_0x9ee2d0(0x22e)]['id'],_0x19b19f[_0x9ee2d0(0x339)],_0x19b19f);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x2c8cac,_0x53d436=0x3,_0x522718=0x1){const _0x156d31=_0xd7fbe1,_0x60ebfb=document[_0x156d31(0x348)](_0x156d31(0x246)),_0x212ab2=document[_0x156d31(0x25f)](_0x156d31(0x32e));let _0x49f888;if(_0x53d436==0x1)_0x49f888='ntf-flotante-green';else _0x53d436==0x2?_0x49f888='ntf-flotante-orange':_0x49f888=_0x156d31(0x1c3);let _0x30b682;_0x522718==0x1?(_0x30b682='ntf-flotante-top',_0x60ebfb[_0x156d31(0x26c)]['add'](_0x156d31(0x183)),_0x60ebfb[_0x156d31(0x26c)]['remove'](_0x156d31(0x18a))):(_0x30b682=_0x156d31(0x1ff),_0x60ebfb[_0x156d31(0x26c)]['add'](_0x156d31(0x18a)),_0x60ebfb[_0x156d31(0x26c)][_0x156d31(0x208)](_0x156d31(0x183))),_0x212ab2[_0x156d31(0x174)]='ntf-flotante-message\x20'+_0x49f888+'\x20'+_0x30b682,_0x212ab2[_0x156d31(0x204)]=_0x2c8cac,_0x60ebfb[_0x156d31(0x347)](_0x212ab2),_0x212ab2[_0x156d31(0x240)](_0x156d31(0x14e),()=>{const _0x5c9279=_0x156d31;_0x212ab2[_0x5c9279(0x208)]();});}function openDatabase(){const _0x5c32cc=_0xd7fbe1;if(db)return Promise[_0x5c32cc(0x327)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x7f2c78,_0x269265)=>{const _0x5358a9=_0x5c32cc,_0x1fb500=indexedDB[_0x5358a9(0x371)](db_name);_0x1fb500[_0x5358a9(0x186)]=function(_0x242b9d){const _0x195009=_0x5358a9;db=_0x242b9d[_0x195009(0x2c5)][_0x195009(0x212)],console[_0x195009(0x2ea)](_0x195009(0x258));},_0x1fb500['onsuccess']=function(_0xdb4eaa){const _0x1b2ce8=_0x5358a9;db=_0xdb4eaa['target'][_0x1b2ce8(0x212)],console[_0x1b2ce8(0x2ea)](_0x1b2ce8(0x28b)),_0x7f2c78(db),dbPromise=null;},_0x1fb500[_0x5358a9(0x304)]=function(_0x530e97){const _0x563c12=_0x5358a9;console[_0x563c12(0x2b6)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x530e97['target'][_0x563c12(0x2b6)]),_0x269265(_0x530e97[_0x563c12(0x2c5)]['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x37f324,_0x432b64=![]){const _0x153583=_0xd7fbe1;if(dbOperationInProgress)return Promise[_0x153583(0x2b9)](_0x153583(0x320));return dbOperationInProgress=!![],openDatabase()[_0x153583(0x16a)](_0x3930d5=>{const _0x4c44be=_0x153583,_0xc52330=_0x4c44be(0x28e),_0xd572f9=_0x4c44be(0x25b),_0x52a0e7='offline_operations',_0x1d6768=_0x4c44be(0x20d),_0x4f89b8=_0x37f324?'cart_'+_0x37f324:null,_0x56608b=_0x37f324?_0x4c44be(0x34e)+_0x37f324:null,_0x358b3a=_0x432b64||!_0x3930d5[_0x4c44be(0x2ff)][_0x4c44be(0x185)](_0xc52330)||!_0x3930d5[_0x4c44be(0x2ff)][_0x4c44be(0x185)](_0xd572f9)||!_0x3930d5['objectStoreNames'][_0x4c44be(0x185)](_0x52a0e7)||!_0x3930d5['objectStoreNames'][_0x4c44be(0x185)](_0x1d6768)||_0x37f324&&(!_0x3930d5[_0x4c44be(0x2ff)][_0x4c44be(0x185)](_0x4f89b8)||!_0x3930d5[_0x4c44be(0x2ff)]['contains'](_0x56608b));if(!_0x358b3a)return dbOperationInProgress=![],Promise['resolve'](_0x3930d5);const _0x3e16dc=_0x3930d5[_0x4c44be(0x1f0)]+0x1;return _0x3930d5[_0x4c44be(0x195)](),new Promise((_0x1d759c,_0x50a823)=>{const _0x2d6f1a=_0x4c44be,_0x1231f2=indexedDB[_0x2d6f1a(0x371)](db_name,_0x3e16dc);_0x1231f2[_0x2d6f1a(0x186)]=function(_0x229a94){const _0x33b474=_0x2d6f1a;db=_0x229a94[_0x33b474(0x2c5)]['result'];if(_0x432b64)Array[_0x33b474(0x1fd)](db[_0x33b474(0x2ff)])[_0x33b474(0x206)](_0x4629ad=>{const _0x4de463=_0x33b474;_0x4629ad!==_0x52a0e7&&(db['deleteObjectStore'](_0x4629ad),console[_0x4de463(0x2ea)]('ObjectStore\x20\x27'+_0x4629ad+_0x4de463(0x293)));}),console['log'](_0x33b474(0x2fe));else{!db[_0x33b474(0x2ff)][_0x33b474(0x185)](_0xc52330)&&(db['createObjectStore'](_0xc52330,{'keyPath':'id'}),console[_0x33b474(0x2ea)](_0x33b474(0x19e)+_0xc52330+_0x33b474(0x141)));!db['objectStoreNames'][_0x33b474(0x185)](_0xd572f9)&&(db[_0x33b474(0x219)](_0xd572f9,{'keyPath':'id','autoIncrement':!![]}),console[_0x33b474(0x2ea)](_0x33b474(0x19e)+_0xd572f9+_0x33b474(0x141)));!db[_0x33b474(0x2ff)][_0x33b474(0x185)](_0x52a0e7)&&(db[_0x33b474(0x219)](_0x52a0e7,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x33b474(0x19e)+_0x52a0e7+'\x27\x20creado\x20correctamente.'));!db[_0x33b474(0x2ff)][_0x33b474(0x185)](_0x1d6768)&&(db[_0x33b474(0x219)](_0x1d6768,{'keyPath':'id'}),console[_0x33b474(0x2ea)](_0x33b474(0x19e)+_0x1d6768+_0x33b474(0x141)));if(_0x37f324){if(!db[_0x33b474(0x2ff)][_0x33b474(0x185)](_0x4f89b8)){const _0x1a820a=db['createObjectStore'](_0x4f89b8,{'keyPath':'id','autoIncrement':!![]});_0x1a820a[_0x33b474(0x1a0)]('cartId',_0x33b474(0x1db),{'unique':!![]}),console['log']('ObjectStore\x20\x27'+_0x4f89b8+_0x33b474(0x141));}!db[_0x33b474(0x2ff)][_0x33b474(0x185)](_0x56608b)&&(db['createObjectStore'](_0x56608b,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x33b474(0x19e)+_0x56608b+_0x33b474(0x141)));}}},_0x1231f2['onsuccess']=function(_0x12db04){const _0x4f5ba7=_0x2d6f1a;db=_0x12db04['target'][_0x4f5ba7(0x212)],dbOperationInProgress=![],console['log']('Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.'),_0x1d759c(db);},_0x1231f2[_0x2d6f1a(0x304)]=function(_0x35b34a){const _0x40c043=_0x2d6f1a;console[_0x40c043(0x2b6)](_0x40c043(0x35c),_0x35b34a[_0x40c043(0x2c5)]['error']),dbOperationInProgress=![],_0x50a823(_0x35b34a[_0x40c043(0x2c5)]['error']);};});})['catch'](_0x1a0556=>{const _0x6a3c04=_0x153583;throw new Error(_0x6a3c04(0x1ba));})[_0x153583(0x2cf)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x27fbb6=_0xd7fbe1;if(!isOnline())return Promise[_0x27fbb6(0x327)]();try{const _0x59ce14=await createCartStore(''),_0x48273a=_0x59ce14[_0x27fbb6(0x302)](_0x27fbb6(0x145),_0x27fbb6(0x2e5)),_0xc7c8c7=_0x48273a[_0x27fbb6(0x23e)](_0x27fbb6(0x145)),_0x233575=await new Promise((_0x21bad7,_0x3a7dc9)=>{const _0x5652e9=_0x27fbb6,_0x23ccf4=_0xc7c8c7[_0x5652e9(0x1e9)]();_0x23ccf4[_0x5652e9(0x286)]=()=>_0x21bad7(_0x23ccf4[_0x5652e9(0x212)]),_0x23ccf4['onerror']=()=>_0x3a7dc9(new Error(_0x5652e9(0x2dc)+_0x23ccf4[_0x5652e9(0x2b6)]));}),_0x48f0bd=_0x233575[_0x27fbb6(0x273)](_0x157fbf=>_0x157fbf[_0x27fbb6(0x255)]==0x1);if(_0x48f0bd[_0x27fbb6(0x1c4)]===0x0){console['log']('No\x20hay\x20operaciones\x20para\x20sincronizar.');return;}const _0x4605fc=_0x48f0bd[_0x27fbb6(0x273)](_0x412b3b=>_0x412b3b[_0x27fbb6(0x210)]==0x64),_0x521e10=_0x48f0bd[_0x27fbb6(0x273)](_0x2f48b9=>_0x2f48b9[_0x27fbb6(0x210)]!=0x64),_0xce3655=_0x92e929=>_0x92e929['sort']((_0x1c3d4f,_0x19e945)=>{const _0x26801b=_0x27fbb6,_0x63d273=[0x1,0x2,0x3],_0x41f23a=_0x34641a=>Array['isArray'](_0x34641a[_0x26801b(0x14b)])&&_0x34641a[_0x26801b(0x14b)][_0x26801b(0x1ee)](_0x17ee45=>_0x63d273[_0x26801b(0x340)](_0x17ee45[_0x26801b(0x2fb)])),_0x317f32=_0x41f23a(_0x1c3d4f),_0x13adeb=_0x41f23a(_0x19e945);if(_0x317f32&&!_0x13adeb)return-0x1;if(!_0x317f32&&_0x13adeb)return 0x1;const _0x4b2a3b=Math[_0x26801b(0x279)](..._0x1c3d4f['newItems'][_0x26801b(0x24f)](_0x3d3807=>_0x3d3807['setItemType'])),_0xda72aa=Math['min'](..._0x19e945[_0x26801b(0x14b)][_0x26801b(0x24f)](_0x55cff7=>_0x55cff7[_0x26801b(0x2fb)]));return _0x4b2a3b-_0xda72aa;}),_0x4e3d87=_0x4605fc[_0x27fbb6(0x273)](_0x54ab17=>Array[_0x27fbb6(0x2cd)](_0x54ab17['newItems'])&&_0x54ab17[_0x27fbb6(0x14b)][_0x27fbb6(0x1a8)](_0x2bd092=>!_0x2bd092[_0x27fbb6(0x32a)])),_0x40519f=_0x4605fc[_0x27fbb6(0x273)](_0x2ffebc=>Array[_0x27fbb6(0x2cd)](_0x2ffebc[_0x27fbb6(0x14b)])&&_0x2ffebc['newItems']['every'](_0x2c24e3=>_0x2c24e3['setItemId']));_0xce3655(_0x4e3d87),_0xce3655(_0x40519f);const _0x104d43=[..._0x4e3d87,..._0x40519f];function _0x9a8430(_0x331ee7,_0x212e30){return new Promise((_0x470bac,_0x18d94d)=>{const _0x158162=_0x32e9,_0x37e4cb=_0x331ee7['transaction'](_0x158162(0x145),'readwrite'),_0x4edbc2=_0x37e4cb['objectStore'](_0x158162(0x145)),_0x4a45c7=_0x4edbc2[_0x158162(0x1d4)](_0x212e30);_0x4a45c7[_0x158162(0x286)]=()=>_0x470bac(),_0x4a45c7[_0x158162(0x304)]=_0x1f2b4b=>_0x18d94d(new Error(_0x158162(0x2c4)+_0x1f2b4b['target'][_0x158162(0x2b6)]));});}async function _0x34c9ef(_0x36629e){const _0x5e2b5e=_0x27fbb6;for(const _0x3e3d01 of _0x36629e){_0x3e3d01[_0x5e2b5e(0x210)]===0x64&&Array[_0x5e2b5e(0x2cd)](_0x3e3d01[_0x5e2b5e(0x14b)])&&_0x3e3d01[_0x5e2b5e(0x14b)][_0x5e2b5e(0x2b7)]((_0x14eba3,_0x3d0193)=>{const _0x642fb9=_0x5e2b5e,_0x4fc395=[0x1,0x2,0x3],_0xa342e7=_0x4fc395[_0x642fb9(0x340)](_0x14eba3[_0x642fb9(0x2fb)]),_0x40e8d4=_0x4fc395[_0x642fb9(0x340)](_0x3d0193[_0x642fb9(0x2fb)]);if(_0xa342e7&&!_0x40e8d4)return-0x1;if(!_0xa342e7&&_0x40e8d4)return 0x1;return _0x14eba3[_0x642fb9(0x2fb)]-_0x3d0193[_0x642fb9(0x2fb)];});const _0x295229=new FormData();_0x295229[_0x5e2b5e(0x228)](_0x5e2b5e(0x16d),JSON['stringify'](_0x3e3d01));if(_0x3e3d01[_0x5e2b5e(0x2be)]instanceof Blob&&_0x3e3d01[_0x5e2b5e(0x2be)]['size']>0x0)_0x295229[_0x5e2b5e(0x228)](_0x5e2b5e(0x2be),_0x3e3d01[_0x5e2b5e(0x2be)],_0x5e2b5e(0x312));else _0x3e3d01['pdfBlob']&&console[_0x5e2b5e(0x1d3)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x3e3d01[_0x5e2b5e(0x210)]==0x64&&Array[_0x5e2b5e(0x2cd)](_0x3e3d01[_0x5e2b5e(0x14b)])&&_0x3e3d01[_0x5e2b5e(0x14b)][_0x5e2b5e(0x206)]((_0x442e8d,_0x17eff2)=>{const _0x5127a8=_0x5e2b5e;Array['isArray'](_0x442e8d[_0x5127a8(0x247)])&&_0x442e8d[_0x5127a8(0x247)][_0x5127a8(0x206)]((_0x4c918e,_0x192a65)=>{const _0x7bf231=_0x5127a8;_0x4c918e instanceof Blob&&_0x4c918e[_0x7bf231(0x344)]>0x0?_0x295229[_0x7bf231(0x228)](_0x7bf231(0x2c7)+_0x17eff2+'][setItemImages]['+_0x192a65+']',_0x4c918e,_0x4c918e[_0x7bf231(0x291)]):console[_0x7bf231(0x1d3)](_0x7bf231(0x180)+_0x17eff2+_0x7bf231(0x178)+_0x192a65+']\x20–\x20se\x20omite.');});});try{const _0x1da43e=await fetch(_0x3e3d01['setWebhook'],{'method':_0x5e2b5e(0x2d9),'body':_0x295229});if(!_0x1da43e['ok'])throw new Error('HTTP\x20'+_0x1da43e['status']+'\x20–\x20'+_0x1da43e[_0x5e2b5e(0x2a1)]);const _0x5af0bf=await _0x1da43e[_0x5e2b5e(0x16e)]();!_0x5af0bf['success']?_0x3e3d01[_0x5e2b5e(0x274)]=_0x5af0bf[_0x5e2b5e(0x2b2)]||_0x5e2b5e(0x1ea):(_0x3e3d01[_0x5e2b5e(0x255)]=0x0,delete _0x3e3d01[_0x5e2b5e(0x274)]);}catch(_0x1761ac){console[_0x5e2b5e(0x2b6)](_0x5e2b5e(0x2a9),_0x1761ac),_0x3e3d01[_0x5e2b5e(0x274)]=_0x1761ac[_0x5e2b5e(0x2b2)];}await _0x9a8430(_0x59ce14,_0x3e3d01),_0x3e3d01[_0x5e2b5e(0x210)]===0x64&&_0x3e3d01[_0x5e2b5e(0x255)]===0x0&&await new Promise((_0xa3b6f2,_0x43a584)=>{const _0x47eadd=_0x5e2b5e,_0x563739=_0x59ce14[_0x47eadd(0x302)](_0x47eadd(0x145),_0x47eadd(0x1b5)),_0x1f8a9f=_0x563739[_0x47eadd(0x23e)](_0x47eadd(0x145)),_0x26b217=_0x1f8a9f['delete'](_0x3e3d01['id']);_0x26b217['onsuccess']=()=>_0xa3b6f2(),_0x26b217['onerror']=_0x409b89=>_0x43a584(new Error(_0x47eadd(0x35d)+_0x409b89[_0x47eadd(0x2c5)][_0x47eadd(0x2b6)]));});}}_0x104d43[_0x27fbb6(0x1c4)]&&(console[_0x27fbb6(0x2ea)](_0x27fbb6(0x1f1)+_0x104d43[_0x27fbb6(0x1c4)]+_0x27fbb6(0x189)),await _0x34c9ef(_0x104d43)),_0x521e10['length']&&(console['log'](_0x27fbb6(0x1f1)+_0x521e10[_0x27fbb6(0x1c4)]+_0x27fbb6(0x250)),await _0x34c9ef(_0x521e10)),console['log']('Sincronización\x20completada\x20correctamente.');}catch(_0x5f0925){console[_0x27fbb6(0x2b6)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x5f0925);}}function apiERPsaveOnline(_0x3ae87d,_0x9bd4cd,_0x64ce65,_0x3881e1,_0x1ce0c0){const _0x52331f=_0xd7fbe1;if(!isOnline())return console[_0x52331f(0x2ea)](_0x52331f(0x1aa)),Promise[_0x52331f(0x2b9)]('Error\x20Network.');const _0x5b0762={'setAuthToken':_0x3ae87d,'setBranches':_0x9bd4cd,'setUsers':_0x64ce65,'setSeries':_0x3881e1,'setPrinters':_0x1ce0c0};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':_0x52331f(0x2d9),'headers':{'Content-Type':_0x52331f(0x155)},'body':JSON[_0x52331f(0x2af)](_0x5b0762)})[_0x52331f(0x16a)](_0x9d2e76=>{const _0x167ad8=_0x52331f;if(!_0x9d2e76['ok'])throw new Error(_0x167ad8(0x244)+_0x9d2e76[_0x167ad8(0x2a1)]);return _0x9d2e76[_0x167ad8(0x16e)]();})[_0x52331f(0x16a)](_0x64048=>{const _0x9cbfbf=_0x52331f;if(!_0x64048[_0x9cbfbf(0x2b1)])throw new Error(_0x64048[_0x9cbfbf(0x2b2)]||_0x9cbfbf(0x37c));return console[_0x9cbfbf(0x2ea)](_0x9cbfbf(0x25a)),_0x64048;})[_0x52331f(0x1a2)](_0x1e1a0c=>{const _0x57e501=_0x52331f;console[_0x57e501(0x2b6)](_0x57e501(0x231),_0x1e1a0c);throw _0x1e1a0c;});}async function acceder(){const _0x351eba=_0xd7fbe1;if(!isOnline()){alert(_0x351eba(0x140));throw new Error(_0x351eba(0x334));}const _0x467ca1=document['getElementById'](_0x351eba(0x194)),_0x5e98c2=document[_0x351eba(0x348)](_0x351eba(0x28c))[_0x351eba(0x31d)],_0x5cd1ae=document[_0x351eba(0x348)](_0x351eba(0x188))[_0x351eba(0x31d)];_0x467ca1[_0x351eba(0x15d)]=!![];if(!_0x5e98c2||!_0x5cd1ae){alert(_0x351eba(0x2f6)),_0x467ca1[_0x351eba(0x15d)]=![];return;}console[_0x351eba(0x2ea)]('Modo\x20online\x20...'),showLoadingModal();const _0x5777d3={'usuario':_0x5e98c2,'password':_0x5cd1ae};try{const _0x5abc46=await fetch(_0x351eba(0x2d1),{'method':_0x351eba(0x2d9),'headers':{'Content-Type':_0x351eba(0x155)},'body':JSON[_0x351eba(0x2af)](_0x5777d3)}),_0x5e0552=await _0x5abc46['json']();if(!(_0x5e0552[_0x351eba(0x2b1)]&&Array[_0x351eba(0x2cd)](_0x5e0552[_0x351eba(0x2b2)]))){alert(_0x5e0552[_0x351eba(0x2b2)]),_0x467ca1[_0x351eba(0x15d)]=![],hideLoadingModal();throw new Error(_0x5e0552[_0x351eba(0x2b2)]);}const _0x2fd520=document[_0x351eba(0x348)](_0x351eba(0x252));_0x2fd520[_0x351eba(0x193)]=_0x351eba(0x19a);const _0xd32041=_0x5e0552[_0x351eba(0x2b2)],{setApiEndPoint:_0x118b4c,setAuthToken:_0x1e1c49,setUser_Local:_0xb2dd1d}=_0xd32041[0x0],_0x5aff2b={'apiPOS_getAccessData':0x1,'setToken':_0x1e1c49,'setUserLocalUserName':_0xb2dd1d[_0x351eba(0x1e1)]},_0x531277=await fetch(_0x118b4c,{'method':_0x351eba(0x2d9),'headers':{'Content-Type':_0x351eba(0x146)},'body':JSON[_0x351eba(0x2af)](_0x5aff2b)}),_0x3b8006=await _0x531277[_0x351eba(0x16e)]();if(!(_0x3b8006[_0x351eba(0x2b1)]===!![])){_0x2fd520[_0x351eba(0x193)]=_0x351eba(0x2a0)+_0x3b8006[_0x351eba(0x2b2)]+_0x351eba(0x1e0),setTimeout(()=>location[_0x351eba(0x1d5)](),0x1388);return;}_0x2fd520[_0x351eba(0x193)]=_0x351eba(0x32c);const _0x379338=_0x3b8006[_0x351eba(0x2b2)]['setProductos'][_0x351eba(0x24f)](_0x613694=>{const _0x48d4b8=_0x351eba,_0x572aa4=_0x613694[_0x48d4b8(0x20c)]||'',_0x4987ca=_0x613694['setIdProducto']||'',_0x246e1c=_0x613694[_0x48d4b8(0x2fb)]||'1',_0x458e46=_0x613694[_0x48d4b8(0x1da)]||'',_0x481005=_0x613694[_0x48d4b8(0x36f)]||'',_0x5dd2d7=_0x613694[_0x48d4b8(0x29e)]||'',_0x296ff4=_0x613694[_0x48d4b8(0x30b)]||'',_0x661f53=_0x613694[_0x48d4b8(0x2f9)]||'',_0x4db806=_0x613694[_0x48d4b8(0x2d5)]||'',_0x4c5b48=_0x613694['setItemUnitAlias']||'',_0x5eebba=_0x613694[_0x48d4b8(0x1de)]||'',_0xd5588b=_0x613694[_0x48d4b8(0x224)]||'10',_0x5bcfda=_0xd32041[0x0][_0x48d4b8(0x190)]['find'](_0x47ee3a=>_0x47ee3a[_0x48d4b8(0x1de)]==_0x5eebba)?.[_0x48d4b8(0x1ad)]||0x0,_0x1d8880=parseFloat(_0x613694[_0x48d4b8(0x2ee)])||0x1,_0x328017=_0x613694[_0x48d4b8(0x29b)]||'',_0x2b1379=_0x613694[_0x48d4b8(0x27c)]||'',_0xb0a7cd=_0x613694[_0x48d4b8(0x21f)]||_0x48d4b8(0x20b),_0x4665cf=_0x613694[_0x48d4b8(0x215)]||0x1,_0x53d76f=_0x613694[_0x48d4b8(0x341)]||'',_0xb58391=_0x613694[_0x48d4b8(0x284)]||'',_0x576ada=(_0x613694[_0x48d4b8(0x330)]||[])[_0x48d4b8(0x24f)](_0x3728b3=>{const _0x496d59=_0x48d4b8,_0x4170be=parseFloat(_0x3728b3['setMtoValorUnitario'])||0x0,_0x3259b8=parseFloat(_0x3728b3[_0x496d59(0x30d)])||0x0,_0x2c3d9e=parseFloat(_0x3728b3['setMtoValorCostoUnitario'])||0x0,_0x32dabf=parseFloat(_0x3728b3[_0x496d59(0x14f)])||0x0,_0x518bc3=_0x3728b3[_0x496d59(0x203)]||[];let _0xb3837a=0x0,_0x23b58f=0x0;if(_0x4170be>0x0)_0xb3837a=_0x4170be,_0x23b58f=setTipAfeImpGravados[_0x496d59(0x1ee)](_0x2580f2=>_0x2580f2==_0xd5588b)?_0x4170be+_0x4170be*_0x5bcfda/0x64:_0x4170be;else _0x3259b8>0x0&&(_0x23b58f=_0x3259b8,_0xb3837a=setTipAfeImpGravados[_0x496d59(0x1ee)](_0x2149dc=>_0x2149dc==_0xd5588b)?_0x3259b8/(0x1+_0x5bcfda/0x64):_0x3259b8);let _0x14ba4c=0x0,_0x5a6440=0x0;if(_0x2c3d9e>0x0)_0x14ba4c=_0x2c3d9e,_0x5a6440=setTipAfeImpGravados[_0x496d59(0x1ee)](_0x2d171b=>_0x2d171b==_0xd5588b)?_0x2c3d9e+_0x2c3d9e*_0x5bcfda/0x64:_0x2c3d9e;else _0x32dabf>0x0&&(_0x5a6440=_0x32dabf,_0x14ba4c=setTipAfeImpGravados[_0x496d59(0x1ee)](_0x27f1ea=>_0x27f1ea==_0xd5588b)?_0x32dabf/(0x1+_0x5bcfda/0x64):_0x32dabf);return{'currency':_0x3728b3[_0x496d59(0x226)],'setMtoValorUnitario':_0xb3837a,'setMtoPrecioUnitario':_0x23b58f,'setMtoValorCostoUnitario':_0x14ba4c,'setMtoPrecioCostoUnitario':_0x5a6440,'setPriceLists':_0x518bc3};});if(_0x5eebba!==''&&_0x572aa4!==''&&_0x458e46!==''&&_0x5dd2d7!=='')return{'id':_0x572aa4,'setItemType':_0x246e1c,'setIdProducto':_0x4987ca,'setCodProducto':_0x458e46,'setItemBarCode':_0x481005,'setDescripcion':_0x5dd2d7,'setItemDescription':_0x296ff4,'setUnidadCodigo':_0x661f53,'setUnidad':_0x4db806,'setItemUnitAlias':_0x4c5b48,'setPorcentajeIgv':_0x5bcfda,'setTaxId':_0x5eebba,'setTipAfeIgv':_0xd5588b,'setInventariable':_0x1d8880,'setCategoria':_0x328017,'setMarca':_0x2b1379,'setImg':_0xb0a7cd,'setConversionFactor':_0x4665cf,'setBatchName':_0x53d76f,'setBatchExpirationDate':_0xb58391,'setItemIsBought':_0x613694[_0x48d4b8(0x2bb)],'setItemIsSold':_0x613694['setItemIsSold'],'sucursales':_0x613694[_0x48d4b8(0x1bb)]||[],'setPrinters':_0x613694[_0x48d4b8(0x21e)]||[],'currency_data':_0x576ada,'setImages':_0x613694[_0x48d4b8(0x18d)]||[],'setItemVariantValues':_0x613694['setItemVariantValues']||[]};return null;})[_0x351eba(0x273)](Boolean);_0xd32041[0x0]['setCompanyLogo']=_0x3b8006[_0x351eba(0x2b2)]['setCompanyLogo'],_0xd32041[0x0]['setCompanyDoc']=_0x3b8006[_0x351eba(0x2b2)]['setCompanyDoc'],_0xd32041[0x0][_0x351eba(0x241)]=_0x3b8006['message'][_0x351eba(0x241)],_0xd32041[0x0][_0x351eba(0x1e3)]=_0x3b8006[_0x351eba(0x2b2)]['setCompanyNameTrade'],_0xd32041[0x0]['setCompanyAddress']=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x17a)],_0xd32041[0x0][_0x351eba(0x358)]=_0x3b8006[_0x351eba(0x2b2)]['setCompanyPhone'],_0xd32041[0x0][_0x351eba(0x2a6)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x2a6)],_0xd32041[0x0][_0x351eba(0x19b)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x19b)],_0xd32041[0x0][_0x351eba(0x31a)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x31a)],_0xd32041[0x0][_0x351eba(0x338)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x338)],_0xd32041[0x0][_0x351eba(0x1a5)]=_0x3b8006[_0x351eba(0x2b2)]['setSeries'],_0xd32041[0x0][_0x351eba(0x21e)]=_0x3b8006['message']['setPrinters'],_0xd32041[0x0][_0x351eba(0x2e9)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x2e9)],_0xd32041[0x0][_0x351eba(0x362)]=_0x3b8006['message'][_0x351eba(0x362)],_0xd32041[0x0][_0x351eba(0x1ab)]=_0x3b8006[_0x351eba(0x2b2)]['setCustomers'],_0xd32041[0x0][_0x351eba(0x154)]=_0x3b8006[_0x351eba(0x2b2)]['setSuppliers'],_0xd32041[0x0][_0x351eba(0x1f9)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x1f9)],_0xd32041[0x0][_0x351eba(0x1af)]=_0x3b8006[_0x351eba(0x2b2)][_0x351eba(0x1af)],_0x2fd520['innerHTML']=_0x351eba(0x267);const _0x2be925=await createCartStore('');await clearAndStore(_0x2be925,_0x351eba(0x28e),_0x379338),await clearAndStore(_0x2be925,_0x351eba(0x20d),[{'id':'layout',..._0xd32041[0x0][_0x351eba(0x2cc)]}]),await apiERPsaveOnline(_0x1e1c49,_0xd32041[0x0][_0x351eba(0x31a)],_0xd32041[0x0][_0x351eba(0x338)],_0xd32041[0x0][_0x351eba(0x1a5)],_0xd32041[0x0]['setPrinters']);const _0x1af777=await fetch(_0x351eba(0x1a3),{'method':_0x351eba(0x2d9),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x351eba(0x2af)]({'setAuthToken':_0x1e1c49,'setUserId':_0xb2dd1d['setUserId']})}),_0x12543e=await _0x1af777[_0x351eba(0x16e)]();if(_0x12543e['success'])_0xd32041[0x0][_0x351eba(0x2a4)]=_0x12543e['message'][_0x351eba(0x2a4)],_0xd32041[0x0][_0x351eba(0x26a)]=_0x12543e[_0x351eba(0x2b2)][_0x351eba(0x26a)],_0xd32041[0x0][_0x351eba(0x21e)]=_0x12543e[_0x351eba(0x2b2)][_0x351eba(0x21e)];else{console[_0x351eba(0x2b6)](_0x351eba(0x307),_0x12543e[_0x351eba(0x2b2)]);return;}await saveCompanyToIndexedDB(_0xd32041,_0x2be925);if(!_0xd32041[0x0][_0x351eba(0x2a4)]||_0xd32041[0x0][_0x351eba(0x2a4)][_0x351eba(0x1c4)]===0x0){console[_0x351eba(0x2b6)](_0x351eba(0x35a));return;}for(const _0x35de7e of _0xd32041[0x0][_0x351eba(0x2a4)]){await new Promise(_0x5585f1=>setTimeout(_0x5585f1,0x12c)),await createCartStore(_0x35de7e[_0x351eba(0x162)]),_0x2fd520[_0x351eba(0x193)]=_0x351eba(0x326)+_0x35de7e[_0x351eba(0x2f8)]+_0x351eba(0x1e0);}_0x2fd520[_0x351eba(0x193)]=_0x351eba(0x151)+_0xb2dd1d[_0x351eba(0x282)]+_0x351eba(0x1e0),setTimeout(()=>location['reload'](),0x7d0);}catch(_0x165d7b){console[_0x351eba(0x2b6)](_0x351eba(0x24a),_0x165d7b),_0x467ca1[_0x351eba(0x15d)]=![],hideLoadingModal(),alert(_0x165d7b);throw _0x165d7b;}}function clearAndStore(_0x40e143,_0x56a056,_0x54b231){return new Promise((_0x54aa96,_0x204fed)=>{const _0x12900a=_0x32e9,_0x498e9c=_0x40e143[_0x12900a(0x302)](_0x56a056,_0x12900a(0x1b5)),_0x36e19a=_0x498e9c[_0x12900a(0x23e)](_0x56a056),_0x2f2500=_0x36e19a[_0x12900a(0x379)]();_0x2f2500[_0x12900a(0x286)]=()=>{const _0x45feee=_0x12900a;_0x54b231[_0x45feee(0x206)](_0x18d491=>_0x36e19a[_0x45feee(0x1d4)](_0x18d491));},_0x498e9c['oncomplete']=()=>_0x54aa96(),_0x498e9c[_0x12900a(0x304)]=()=>_0x204fed(new Error(_0x12900a(0x25d)+_0x56a056+'!'));});}async function logoutReload(_0x17916b=0x0,_0x1a2ffc){const _0x64092d=_0xd7fbe1;if(_0x17916b!=0x1){showLoadingModal();const _0x5ce831=document['getElementById']('infoLoadingModal');_0x5ce831[_0x64092d(0x193)]=_0x64092d(0x377);}_0x1a2ffc==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x64092d(0x1d5)]();}function registerServiceWorker(_0xf662f3,_0x1bed10){const _0x2f17dc=_0xd7fbe1;'serviceWorker'in navigator&&navigator[_0x2f17dc(0x1ec)]['register'](_0xf662f3)[_0x2f17dc(0x16a)](_0x161b22=>{const _0x2c8487=_0x2f17dc;console[_0x2c8487(0x2ea)]('SW\x20Success'),_0x161b22[_0x2c8487(0x33a)]=()=>{const _0x30b1ed=_0x2c8487,_0x59fa70=_0x161b22[_0x30b1ed(0x270)];_0x59fa70[_0x30b1ed(0x322)]=()=>{const _0x4b7e37=_0x30b1ed;_0x59fa70[_0x4b7e37(0x229)]==_0x4b7e37(0x308)&&navigator[_0x4b7e37(0x1ec)]['controller']&&console[_0x4b7e37(0x2ea)]('SW\x20New\x20Version');};},navigator[_0x2c8487(0x1ec)]['addEventListener'](_0x2c8487(0x2e1),()=>{const _0x532162=_0x2c8487;showLoadingModal();const _0xb31153=document[_0x532162(0x348)]('infoLoadingModal');_0xb31153[_0x532162(0x193)]=_0x532162(0x353),logoutReload(0x1,_0x1bed10);});})[_0x2f17dc(0x1a2)](_0x3404cb=>console[_0x2f17dc(0x2b6)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x3404cb));}function isLoggedIn(_0x9e59b0){const _0x23a759=_0xd7fbe1;return _0x9e59b0&&_0x9e59b0[0x0]&&_0x9e59b0[0x0][_0x23a759(0x356)];}function apiERPShowContent(){const _0x2cf1ab=_0xd7fbe1;document[_0x2cf1ab(0x348)]('header')[_0x2cf1ab(0x26c)][_0x2cf1ab(0x208)](_0x2cf1ab(0x217)),document[_0x2cf1ab(0x348)]('pos')['classList'][_0x2cf1ab(0x208)](_0x2cf1ab(0x217)),document[_0x2cf1ab(0x348)](_0x2cf1ab(0x34a))[_0x2cf1ab(0x26c)][_0x2cf1ab(0x23c)](_0x2cf1ab(0x217));const _0x3cfe0b=document[_0x2cf1ab(0x348)](_0x2cf1ab(0x265));_0x3cfe0b&&_0x3cfe0b[_0x2cf1ab(0x26c)][_0x2cf1ab(0x208)](_0x2cf1ab(0x217));}function x64ctotalcal(){const _0x27c365=_0xd7fbe1;return window[_0x27c365(0x20f)][_0x27c365(0x13e)];}function x64btsparamnumber(_0x5daf21){const _0x258471=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x5daf21==_0x258471;}function x32btsfirefoxcalc(_0x188989){const _0x4328e9=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x188989==_0x4328e9;}function x64bitsdescitem(_0x4c33e8){const _0x522051=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x4c33e8==_0x522051;}function x43bitsdescglobal(_0x43a8da){const _0x255590=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x43a8da==_0x255590;}function x32bitsCompanyTkn(_0x4c3f4d){const _0x1de33b=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x4c3f4d==_0x1de33b;}function x64bitsparamnumber(_0x15fa5a,_0x3894c4){const _0x3afb3f=_0x3894c4;return _0x15fa5a==_0x3afb3f;}function activarRender(_0x37124f){const _0x150385=_0xd7fbe1,_0x2996d8=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x37124f)];return _0x2996d8[_0x150385(0x340)](!![]);}function saveCompanyToIndexedDB(_0x49fc6b,_0x34381b){return new Promise((_0x340032,_0x314a28)=>{const _0x54ab51=_0x32e9,_0x1aa451=_0x34381b[_0x54ab51(0x302)]('company','readwrite'),_0x3717c2=_0x1aa451[_0x54ab51(0x23e)](_0x54ab51(0x25b));_0x3717c2[_0x54ab51(0x379)](),_0x49fc6b[_0x54ab51(0x206)](_0x1bbdf7=>_0x3717c2[_0x54ab51(0x1d4)](_0x1bbdf7)),_0x1aa451[_0x54ab51(0x211)]=()=>_0x340032(),_0x1aa451['onerror']=_0x1e5d3e=>_0x314a28(_0x1e5d3e[_0x54ab51(0x2c5)][_0x54ab51(0x2b6)]);});}function loadCompanyFromIndexedDB(_0xe17712){return new Promise((_0x147a65,_0x241bd8)=>{const _0x52abe4=_0x32e9,_0x3be5f0=_0xe17712[_0x52abe4(0x302)]('company',_0x52abe4(0x2e5)),_0x4a1f18=_0x3be5f0[_0x52abe4(0x23e)](_0x52abe4(0x25b)),_0x3c6c51=_0x4a1f18[_0x52abe4(0x1e9)]();_0x3c6c51[_0x52abe4(0x286)]=()=>_0x147a65(_0x3c6c51[_0x52abe4(0x212)]),_0x3c6c51[_0x52abe4(0x304)]=_0x361137=>_0x241bd8(_0x361137[_0x52abe4(0x2c5)]['error']);});}function _0x20cc(){const _0x25db41=['.carousel-next','setCompanyNameTrade','__test_ls__','prototype','absolute','ControlPosition','find','getAll','Error\x20desconocido.','setClienteTipoDoc','serviceWorker','setCodeBarTypeName','some','day','version','Sincronizando\x20','cart_','checkout-btn-','febrero','searchInput','port','body','Products\x20Load\x20Error:','setShifts','status','setWarehouseName','abril','from','{}.constructor(\x22return\x20this\x22)(\x20)','ntf-flotante-bottom','Arrays\x20actualizados\x20para\x20windowId\x20','ambientes','insertAdjacentHTML','setPriceLists','textContent','AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0','forEach','cloneNode','remove','699276IGBLdb','No\x20es\x20un\x20array\x20valido:','./img/product.png','setId','layoutState','selectedCode','location','setTipoOperacion','oncomplete','result','UY0','replaceWith','setConversionFactor','Nombre\x20de\x20store\x20no\x20válido:\x20','hidden','image/png','createObjectStore','✔️\x20¡Sincronizado!','setUserFullName','values','pricePerKm','setPrinters','setImg','https://ipapi.co/json/','noviembre','legs','button','setTipAfeIgv','shiftKey','currency','TOP_LEFT','append','state','msRequestFullscreen','serializeToString','setCredentialsApiWAChatPort','setCodeBarTypes','producto','toggle','console','Error\x20al\x20actualizar\x20data\x20online:','alignItems','🌐\x20No\x20se\x20pudo\x20obtener\x20ubicación\x20por\x20IP','iconUrl','\x0a<h3>','dataset','origin','msExitFullscreen','fullscreen-btn','marzo','removeItem','add','INPUT','objectStore','494592DrZliF','addEventListener','setCompanyName','pcrcl','windowIds\x20previamente\x20creados:','Error\x20al\x20guardar\x20el\x20layout:\x20','mx16','ntf-flotante-container','setItemImages','setCredentialsApiWAChatAlias','autocomplete-wrapper','Error\x20en\x20la\x20solicitud:','getFullYear','ntf-notifications-list','\x0a<h3\x20class=\x22infoItem-title\x22>','apiERP','map','\x20operaciones\x20restantes...','setImageUrl','infoLoadingModal','setDirections','route-cost','apiPOSsendOffline','ar10.5','getDate','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','setDespacho','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','company','onSelect','Error\x20in\x20saving\x20to\x20store\x20','junio','createElement','querySelector','🔥\x20gmp-select\x20fired!','Producto\x20con\x20id\x20','lat','Registrar\x20movimiento','topbar','counter','Sincronizando\x20...','substr','402276MBYWNq','setUsers','trace','classList','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','ntfIndex','Producto\x20vencido:\x20','installing','distance','option','filter','setMessage','trim','Error\x20cargando\x20Google\x20Maps\x20SDK','info','multi-markers','min','route','100%','setMarca','45x','Item','32px','readAsDataURL','https://maps.googleapis.com/maps/api/js?key=','setUserNombres','has','setBatchExpirationDate','flex','onsuccess','setCartTmpInitial','latitude','single-select','btnSaveOperacion-','Base\x20de\x20datos\x20abierta\x20correctamente.','usuario','closest','products','MX20','setCartTmp','name','\x22\x20expiró\x20el\x20','\x27\x20eliminada.','embedPng','uniqIdState','stopPropagation','documentElement','reduce','User\x20no\x20Logged!','number','setCategoria','setSucursalStock','key','setDescripcion','exception','Error:\x20','statusText','d-none','head','setWindows','Google\x20Maps\x20cargó,\x20pero\x20no\x20se\x20encontró\x20window.google.maps','setCompanyEmail','\x20km','CODE128','Error\x20al\x20enviar\x20operación\x20offline:','center','</h3>\x0a','coords','.modal-close-carousel','importLibrary','stringify','./app.js?v=4.2.6','success','message','return\x20(function()\x20','charCodeAt','TravelMode','error','sort','Formato\x20inesperado\x20en\x20base64','reject','locations','setItemIsBought','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.2.6\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','setItem','pdfBlob','windowsUpdate','keys','exitFullscreen','onclick','__proto__','Error\x20guardando\x20operación:\x20','target','get','newItems[','ar21','dispatchEvent','useGeolocation','Helvetica','setLayout','isArray','slice','finally','/send','https://apierp.dev/api/company/get/','places','\x0aEl\x20producto\x20\x22','data','setUnidad','\x20del\x20','setWarehouseStockMin','64x32xsystem','POST','.carousel-prev','toDataURL','Error\x20al\x20obtener\x20las\x20operaciones:\x20','rgba(0,\x200,\x200,\x200.5)','168294RanSkB','1439949RWjKVN','indexOf','controllerchange','Error\x20en\x20WebSocket','toString','all','readonly','46704NUdUzi','setTipoOperacionInvoice','setCredentialsApiWAChat','setCurrencyDefault','log','#container-section-pay-','cl19','pop','setInventariable','setDescuentoGlobal_Monto','Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:','setWarehouseId','display','Revisar\x20lote','protocol','create','Todos\x20los\x20campos\x20son\x20obligatorios.','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','setWindowName','setUnidadCodigo','mode','setItemType','sectionInfoItem','code','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','objectStoreNames','E01','uy10','transaction','Google\x20Maps\x20SDK\x20listo','onerror','Tab','/wa/','Error\x20Update:','installed','assign','.payment-option','setItemDescription','concat','setMtoPrecioUnitario','setCashierName','S01','Price:\x20','Ver\x20movimientos','documento.pdf','drawText','setCustomerPhone','setClienteNumDoc','Delete','setCredentialsApiWAChatIdDefault','TEXTAREA','filename','setBranches','change','Acción\x20\x22','value','x63s','setCodeBarTypeId','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','.autocomplete-wrapper','onstatechange','mayo','setIdProducto','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','Generando\x20','resolve','https://apierp.dev/api/email/send/','OPEN','setItemId','title','Procesamiento\x20de\x20datos\x20exitoso\x20...','https:','div','.select-button-pais-flag','currency_data','unshift','(((.+)+)+)+$','keydown','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','No\x20hay\x20setAuthToken\x20para\x20WebSocket','string','setWarehouses','setUsuarios','type','onupdatefound','backgroundColor','x32','.autocomplete-wrapper\x20input','setBranchId','lng','includes','setBatchName','longitude','\x22\x20para\x20registro\x20#','size','Plan\x20Impulsa','msFullscreenElement','appendChild','getElementById','setIdSucursal','login','coordsInputId','maps','⚠️\x20place.location\x20indefinido','window_options_','geolocation','Eliminar\x20producto','xtt3','async','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.2.6\x20...</span>','addListener','setEmpresaDomainWork','setUser_Local','mozRequestFullScreen','setCompanyPhone','none','Error:\x20No\x20hay\x20ventanas\x20disponibles.','setCustomerEmail','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','No\x20se\x20pudo\x20eliminar\x20operación\x20procesada:\x20','Company\x20Load\x20Error:','block','CO0','src','setBankAccounts','windowId','webkitRequestFullscreen','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','AR0','set','Error:\x20Domain\x20not\x20registered.','active','Mensaje\x20WS\x20no\x20reconocido:','892c0ae1aa021c31396d82f1','tabs-notifications','setObservacion','260px','setItemBarCode','Error\x20al\x20enviar\x20correo:','open','querySelectorAll','septiembre','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','setClienteDenominacion','now','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','El\x20producto\x20\x22','clear','://wss.apierp.dev/ws?token=','offsetHeight','Error\x20desconocido\x20al\x20actualizar\x20Data.','justifyContent','32system','Backspace','.<br>','getClientRects','google','Products\x20Load.','hostname','offsetWidth','Solo\x20necesitas\x20internet\x20para\x20acceder!','\x27\x20creado\x20correctamente.','Map','getMonth','#detalleModalPay','offline_operations','application/json;\x20charset=utf-8','33x54xsystem','setAttachEdit','f34f','setAuthToken','newItems','search','focus','animationend','setMtoPrecioCostoUnitario','requestFullscreen','Bienvenido(a)\x20','beforeend','tagName','setSuppliers','application/json','No\x20hay\x20notificaciones','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','img','style','push','top','click','disabled','script','octubre','bind','btn-details-ntf-variant','setWindowId','table','addPage','routes','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','defer','setCorrelativo','setSellerId','then','Imprimir\x20Código\x20de\x20Barras','latLng','invoice','json','height','setAttribute','4940960GPcIWM','username','toPlace','className','translateX(-','mozFullScreenElement','co19','].setItemImages[','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','setCompanyAddress','Generar\x20Orden\x20de\x20Compra','width','getContext','controls','DRIVING','Imagen\x20inválida\x20en\x20newItems[','setBranchName','position','ntf-flotante-container-top','LatLng','contains','onupgradeneeded','Enter','password','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','ntf-flotante-container-bottom','setUserEmail','ntf-notification-dropdown','setImages','toFixed','agosto','setImpuestos','setSerie','setZoom','innerHTML','btn-access-login','close','Products\x20Empty.','5WzFwxd','zIndex','setFloorName','Inicio\x20de\x20sesión\x20exitoso\x20...','setCompanyWebsite','setFloorId','lbtom','ObjectStore\x20\x27','loadingModal','createIndex','CL0','catch','https://apierp.dev/api/apiPOS/get/','save','setSeries','Evento\x20updateLastCorrelative\x20recibido.','.carousel-track','every','createElementNS','Error\x20Network.','setCustomers','split','setImpuestoValue','.dropdown-list-pais-flag','setCollaborators','setCredentialsApiWAChatSubdomain','getItem','setClienteDireccion','onload','Error\x20','readwrite','updateLastCorrelative','navigator','http://www.w3.org/2000/svg','onLine','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','sucursales','itemModal','setBranchDefault','svg','8px','fetchFields','alt','random','ntf-flotante-blue','length','Credenciales\x20no\x20encontradas','Stock\x20mínimo:\x20','select','widthOfTextAtSize','drawImage','reason','enero','readyState','mx08','xpos','DirectionsService','constructor','mozCancelFullScreen','ltop','warn','put','reload','parse','setCredentialsApiWAChatId','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','ntf-modal-actions','setCodProducto','cartId','lastTs','preventDefault','setTaxId','createObjectURL','\x20...','setUserName'];_0x20cc=function(){return _0x25db41;};return _0x20cc();}async function initializeCompany(_0x29c3a7){const _0x32300f=_0xd7fbe1;try{const _0x80d7eb=await loadCompanyFromIndexedDB(_0x29c3a7);company=_0x80d7eb,company['length']>0x0?(console[_0x32300f(0x2ea)]('Company\x20Load.'),myCompany=company[0x0]):console[_0x32300f(0x2ea)]('Company\x20Empty.');}catch(_0xd754de){console[_0x32300f(0x2b6)](_0x32300f(0x35e),_0xd754de);}}function loadProductsFromIndexedDB(_0x28050d){return new Promise((_0x374fdc,_0x22a115)=>{const _0x34b043=_0x32e9,_0x3a002f=_0x28050d['transaction'](_0x34b043(0x28e),_0x34b043(0x2e5)),_0x31c031=_0x3a002f[_0x34b043(0x23e)](_0x34b043(0x28e)),_0x46f026=_0x31c031[_0x34b043(0x1e9)]();_0x46f026[_0x34b043(0x286)]=()=>_0x374fdc(_0x46f026[_0x34b043(0x212)]),_0x46f026[_0x34b043(0x304)]=_0x4312bd=>_0x22a115(_0x4312bd[_0x34b043(0x2c5)][_0x34b043(0x2b6)]);});}async function initializeProducts(_0x2c9098){const _0xc3a3f5=_0xd7fbe1;try{const _0x2edb94=await loadProductsFromIndexedDB(_0x2c9098);products=_0x2edb94,products[_0xc3a3f5(0x1c4)]>0x0?console[_0xc3a3f5(0x2ea)](_0xc3a3f5(0x13d)):console['log'](_0xc3a3f5(0x196));}catch(_0x10c5fc){console[_0xc3a3f5(0x2b6)](_0xc3a3f5(0x1f8),_0x10c5fc);}}async function validateAccess(_0x5f26c9){const _0x2760fa=_0xd7fbe1;await initializeCompany(_0x5f26c9);if(!isLoggedIn(company))throw new Error(_0x2760fa(0x299));if(!activarRender(company[0x0][_0x2760fa(0x355)])){alert(_0x2760fa(0x368));throw new Error(_0x2760fa(0x368));}apiERPShowContent();}function initCountrySelector(_0x3c9c3e){const _0x3bac4a=_0xd7fbe1,_0x1dc410=_0x3c9c3e[_0x3bac4a(0x260)](_0x3bac4a(0x32f)),_0x3cbdb6=_0x3c9c3e['querySelector'](_0x3bac4a(0x1ae));let _0x138afc=_0x1dc410[_0x3bac4a(0x236)][_0x3bac4a(0x20e)]||'51';function _0x498f5f(){const _0x83189d=_0x3bac4a;_0x3cbdb6['style'][_0x83189d(0x17c)]=_0x1dc410[_0x83189d(0x13f)]+'px';}_0x498f5f(),window['addEventListener']('resize',_0x498f5f),_0x1dc410['addEventListener']('click',function(_0x119155){const _0x1a82c2=_0x3bac4a;_0x119155[_0x1a82c2(0x296)](),_0x498f5f();const _0x25eb45=_0x3cbdb6['style'][_0x1a82c2(0x2f2)]===_0x1a82c2(0x35f);document[_0x1a82c2(0x372)](_0x1a82c2(0x1ae))[_0x1a82c2(0x206)](_0x5bd25b=>{const _0xf22655=_0x1a82c2;if(_0x5bd25b!==_0x3cbdb6)_0x5bd25b[_0xf22655(0x159)][_0xf22655(0x2f2)]=_0xf22655(0x359);}),_0x3cbdb6[_0x1a82c2(0x159)]['display']=_0x25eb45?_0x1a82c2(0x359):_0x1a82c2(0x35f);}),_0x3cbdb6[_0x3bac4a(0x372)]('.dropdown-item-pais-flag')['forEach'](_0x3f5a7c=>{const _0x4f8812=_0x3bac4a;_0x3f5a7c[_0x4f8812(0x240)](_0x4f8812(0x15c),function(_0x57b283){const _0x5857a5=_0x4f8812;_0x57b283[_0x5857a5(0x296)](),_0x138afc=this[_0x5857a5(0x236)][_0x5857a5(0x2fd)],_0x1dc410['dataset'][_0x5857a5(0x20e)]=_0x138afc,_0x1dc410[_0x5857a5(0x193)]=this[_0x5857a5(0x193)],_0x3cbdb6[_0x5857a5(0x159)][_0x5857a5(0x2f2)]=_0x5857a5(0x359);});}),document[_0x3bac4a(0x240)](_0x3bac4a(0x15c),function(_0xcc32f3){const _0x33981c=_0x3bac4a;!_0x1dc410[_0x33981c(0x185)](_0xcc32f3[_0x33981c(0x2c5)])&&!_0x3cbdb6[_0x33981c(0x185)](_0xcc32f3[_0x33981c(0x2c5)])&&(_0x3cbdb6[_0x33981c(0x159)]['display']=_0x33981c(0x359));});}function getCredentialsApiWAChat(_0x34e309){const _0x1f2c17=_0xd7fbe1;return myCompany[_0x1f2c17(0x2e8)][_0x1f2c17(0x1e8)](_0x43346d=>_0x43346d[_0x1f2c17(0x1d7)]==_0x34e309)||null;}async function sendMessageApiWAChat(_0x4e1718,_0x45c386,_0x3a61af,_0x11ef10,_0x381eec,_0x510226,_0x8c5359){const _0x25ad15=_0xd7fbe1,_0x20a7c1=getCredentialsApiWAChat(_0x4e1718);if(!_0x20a7c1)return Promise[_0x25ad15(0x2b9)](new Error(_0x25ad15(0x1c5)));const _0x1add77=_0x20a7c1[_0x25ad15(0x1b0)],_0x1003e8=_0x20a7c1[_0x25ad15(0x22c)],_0x1fabfe={'type':_0x3a61af,'content':_0x11ef10};if(_0x381eec)_0x1fabfe['caption']=_0x381eec;_0x510226&&(_0x1fabfe[_0x25ad15(0x319)]=_0x510226);_0x8c5359&&(_0x1fabfe['mimetype']=_0x8c5359);const _0x59fa76='https://'+_0x1add77+_0x25ad15(0x306)+_0x1003e8+_0x25ad15(0x2d0),_0x57663b=await fetch(_0x59fa76,{'method':_0x25ad15(0x2d9),'headers':{'Content-Type':_0x25ad15(0x155),'x-auth-token':myCompany['setAuthToken']},'body':JSON['stringify']({'to':_0x45c386,'payload':_0x1fabfe})});if(!_0x57663b['ok']){const _0x2d716b=await _0x57663b[_0x25ad15(0x16e)]()[_0x25ad15(0x1a2)](()=>({}));throw new Error(_0x2d716b['error']||_0x25ad15(0x1b4)+_0x57663b[_0x25ad15(0x1fa)]);}return _0x57663b['json']();}async function saveCredentialsApiWAChatInCompany(){const _0x4bfe80=_0xd7fbe1,_0x340026=document[_0x4bfe80(0x348)](_0x4bfe80(0x2e8)),_0x372700=_0x340026[_0x4bfe80(0x31d)],_0x313212=getCredentialsApiWAChat(_0x372700);_0x313212&&(myCompany[_0x4bfe80(0x317)]=_0x313212[_0x4bfe80(0x1d7)]);}function formatVariantName(_0x5a9172,_0x3d9815,_0x2dc5a5){const _0x199325=_0xd7fbe1;let _0x142e57=String(_0x5a9172||'')[_0x199325(0x275)]();return Object[_0x199325(0x2c0)](_0x3d9815)['forEach'](_0x4e8c6e=>{const _0xde13be=_0x199325,_0x216628=String(_0x3d9815[_0x4e8c6e]||'')[_0xde13be(0x275)]();if(!_0x216628)return;if(_0x2dc5a5===0x1)_0x142e57+='\x20'+_0x4e8c6e+'\x20'+_0x216628;else _0x2dc5a5===0x2&&(_0x142e57+='\x20'+_0x216628);}),_0x142e57;}async function fetchLocationByIP(){const _0x5d1284=_0xd7fbe1;try{const _0x3a845d=await fetch(_0x5d1284(0x220)),_0x1508ab=await _0x3a845d[_0x5d1284(0x16e)]();if(_0x1508ab&&_0x1508ab[_0x5d1284(0x288)]&&_0x1508ab[_0x5d1284(0x342)])return{'lat':parseFloat(_0x1508ab[_0x5d1284(0x288)]),'lng':parseFloat(_0x1508ab[_0x5d1284(0x342)])};}catch(_0x4d3673){console[_0x5d1284(0x1d3)](_0x5d1284(0x233),_0x4d3673);}return null;}function loadGoogleMaps(_0x4e3e62){return new Promise((_0x48ffba,_0x351523)=>{const _0x1c5827=_0x32e9;if(window['google']&&window[_0x1c5827(0x13c)][_0x1c5827(0x34c)])return _0x48ffba();const _0x18ea2e=document['createElement'](_0x1c5827(0x15e));_0x18ea2e[_0x1c5827(0x361)]=_0x1c5827(0x281)+encodeURIComponent(_0x4e3e62)+'&libraries=places&v=weekly',_0x18ea2e[_0x1c5827(0x352)]=!![],_0x18ea2e[_0x1c5827(0x167)]=!![],_0x18ea2e[_0x1c5827(0x1b3)]=()=>{const _0x4c7185=_0x1c5827;window[_0x4c7185(0x13c)]&&window[_0x4c7185(0x13c)]['maps']?_0x48ffba():_0x351523(new Error(_0x4c7185(0x2a5)));},_0x18ea2e[_0x1c5827(0x304)]=()=>_0x351523(new Error(_0x1c5827(0x276))),document[_0x1c5827(0x2a3)][_0x1c5827(0x347)](_0x18ea2e);});}function generateMap(_0x20309b,_0x23e9ed={}){const _0x3f1f71=_0xd7fbe1,_0x1401e8=typeof _0x20309b===_0x3f1f71(0x336)?document['getElementById'](_0x20309b):_0x20309b;if(!_0x1401e8)throw new Error('Map\x20container\x20not\x20found');const _0x415f1e={'lat':0x0,'lng':0x0},_0x319045=_0x23e9ed[_0x3f1f71(0x2ca)]!==![],_0x210134=_0x23e9ed[_0x3f1f71(0x2fa)]||'single-select',_0x2929b7=_0x23e9ed[_0x3f1f71(0x34b)],_0x5339d2=document['getElementById'](_0x23e9ed['coordsInputId']);_0x5339d2&&(_0x5339d2['value']='',_0x5339d2[_0x3f1f71(0x2c9)](new Event(_0x3f1f71(0x31b),{'bubbles':!![]})));let _0x3053b4,_0x40647e=[],_0x3d05f5=null;function _0x5423a5(_0x7e55e3,_0x5ec076=0xc){const _0x50ed06=_0x3f1f71;_0x3053b4=new google['maps'][(_0x50ed06(0x142))](_0x1401e8,{'center':_0x7e55e3,'zoom':_0x5ec076,'mapId':_0x50ed06(0x36b)}),_0x210134===_0x50ed06(0x278)&&Array[_0x50ed06(0x2cd)](_0x23e9ed[_0x50ed06(0x2ba)])&&_0x23e9ed[_0x50ed06(0x2ba)][_0x50ed06(0x206)](_0x1d06e6=>_0x1e66f3(_0x1d06e6)),_0x210134===_0x50ed06(0x254)&&_0x23e9ed[_0x50ed06(0x27a)]&&_0x1fcebe(_0x23e9ed[_0x50ed06(0x27a)][_0x50ed06(0x237)],_0x23e9ed[_0x50ed06(0x27a)]['destination']),_0x210134===_0x50ed06(0x289)&&(_0x3053b4[_0x50ed06(0x354)]('click',_0x302451=>_0x2de010(_0x302451[_0x50ed06(0x16c)])),_0x23e9ed[_0x50ed06(0x1f5)]&&((async()=>{const _0x427bd3=_0x50ed06,{PlaceAutocompleteElement:_0x5e3a13}=await google[_0x427bd3(0x34c)][_0x427bd3(0x2ae)](_0x427bd3(0x2d2)),_0x4f5434=new _0x5e3a13(),_0x189215=document[_0x427bd3(0x25f)](_0x427bd3(0x32e));_0x189215['classList'][_0x427bd3(0x23c)](_0x427bd3(0x249)),Object[_0x427bd3(0x309)](_0x189215[_0x427bd3(0x159)],{'position':_0x427bd3(0x1e6),'top':_0x427bd3(0x1bf),'left':_0x427bd3(0x1bf),'zIndex':'5','width':_0x427bd3(0x36e)}),_0x189215['appendChild'](_0x4f5434),_0x3053b4[_0x427bd3(0x17e)][google[_0x427bd3(0x34c)][_0x427bd3(0x1e7)][_0x427bd3(0x227)]][_0x427bd3(0x15a)](_0x189215),_0x4f5434['addEventListener']('gmp-select',async _0x249382=>{const _0x53d765=_0x427bd3;console[_0x53d765(0x2ea)](_0x53d765(0x261),_0x249382);if(!_0x249382['placePrediction']){console[_0x53d765(0x1d3)]('⚠️\x20placePrediction\x20no\x20está\x20en\x20evt');return;}const _0x20d97e=_0x249382['placePrediction'],_0x139e3a=_0x20d97e[_0x53d765(0x173)]();await _0x139e3a[_0x53d765(0x1c0)]({'fields':['location']});const _0x133f86=_0x139e3a['location'];if(!_0x133f86){console[_0x53d765(0x1d3)](_0x53d765(0x34d));return;}_0x3053b4['panTo'](_0x133f86),_0x3053b4[_0x53d765(0x192)](0x11),_0x2de010(_0x133f86);const _0x2340cc=_0x2929b7?document[_0x53d765(0x348)](_0x2929b7):null;_0x2340cc&&(_0x2340cc[_0x53d765(0x31d)]=_0x133f86[_0x53d765(0x263)]()+','+_0x133f86[_0x53d765(0x33f)](),_0x2340cc[_0x53d765(0x2c9)](new Event(_0x53d765(0x31b),{'bubbles':!![]})));});})()));}_0x319045&&navigator[_0x3f1f71(0x34f)]?navigator['geolocation']['getCurrentPosition'](_0x3ed453=>_0x5423a5({'lat':_0x3ed453[_0x3f1f71(0x2ac)]['latitude'],'lng':_0x3ed453[_0x3f1f71(0x2ac)][_0x3f1f71(0x342)]}),async()=>{const _0x188853=await fetchLocationByIP();_0x5423a5(_0x188853||_0x415f1e);}):((async()=>{const _0x30d606=await fetchLocationByIP();_0x5423a5(_0x30d606||_0x415f1e);})());async function _0x1e66f3({lat:_0x29286d,lng:_0x17dde9,iconUrl:_0x45b7ff,label:_0x7aab69}){const _0x1feb06=_0x3f1f71,{AdvancedMarkerElement:_0x11e5eb}=await google['maps']['importLibrary']('marker'),_0x443db5=new _0x11e5eb({'map':_0x3053b4,'position':{'lat':_0x29286d,'lng':_0x17dde9},'title':_0x7aab69||'','content':_0x45b7ff?((()=>{const _0x3a8cdc=_0x32e9,_0x478dcd=document[_0x3a8cdc(0x25f)](_0x3a8cdc(0x158));return _0x478dcd['src']=_0x45b7ff,_0x478dcd['style'][_0x3a8cdc(0x17c)]='32px',_0x478dcd[_0x3a8cdc(0x159)][_0x3a8cdc(0x16f)]=_0x3a8cdc(0x27f),_0x478dcd;})()):undefined});return _0x40647e[_0x1feb06(0x15a)](_0x443db5),_0x443db5;}async function _0x2de010(_0x7bdc35,_0x6e901b){const _0x223b7a=_0x3f1f71,_0x164746=typeof _0x7bdc35===_0x223b7a(0x29a)&&typeof _0x6e901b===_0x223b7a(0x29a)?new google[(_0x223b7a(0x34c))][(_0x223b7a(0x184))](_0x7bdc35,_0x6e901b):_0x7bdc35,_0x2b4884=_0x164746['lat'](),_0x19b8f2=_0x164746['lng']();_0x3d05f5&&(_0x3d05f5[_0x223b7a(0x24f)]=null),_0x3d05f5=await _0x1e66f3({'lat':_0x2b4884,'lng':_0x19b8f2,'iconUrl':_0x23e9ed[_0x223b7a(0x234)]}),typeof _0x23e9ed[_0x223b7a(0x25c)]==='function'&&_0x23e9ed[_0x223b7a(0x25c)](_0x2b4884,_0x19b8f2);}function _0x1fcebe(_0x2b2e48,_0x41524e){const _0x5bbfb1=_0x3f1f71,_0x107d9a=new google[(_0x5bbfb1(0x34c))][(_0x5bbfb1(0x1cf))](),_0x2be550=new google['maps']['DirectionsRenderer']({'map':_0x3053b4});_0x107d9a[_0x5bbfb1(0x27a)]({'origin':_0x2b2e48,'destination':_0x41524e,'travelMode':google[_0x5bbfb1(0x34c)][_0x5bbfb1(0x2b5)][_0x5bbfb1(0x17f)]},(_0x218e0b,_0x1804aa)=>{const _0x5a733f=_0x5bbfb1;if(_0x1804aa==='OK'){_0x2be550[_0x5a733f(0x253)](_0x218e0b);if(_0x23e9ed[_0x5a733f(0x21d)]){const _0x1261f2=_0x218e0b[_0x5a733f(0x165)][0x0][_0x5a733f(0x222)][_0x5a733f(0x298)]((_0x2530d8,_0x1e7d59)=>_0x2530d8+_0x1e7d59[_0x5a733f(0x271)]['value'],0x0),_0xa83242=_0x1261f2/0x3e8;console[_0x5a733f(0x2ea)]('Distance:\x20'+_0xa83242['toFixed'](0x2)+_0x5a733f(0x2a7)),console[_0x5a733f(0x2ea)](_0x5a733f(0x310)+(_0xa83242*_0x23e9ed['pricePerKm'])['toFixed'](0x2));}}else console[_0x5a733f(0x2b6)]('Directions\x20request\x20failed:',_0x1804aa);});}return _0x3053b4;}async function loadCart(_0x45d896){const _0x125d82=_0xd7fbe1;try{const _0x291955=await createCartStore(''),_0x1af144=[];await validateAccess(_0x291955);const _0x3d8e4e=company[0x0][_0x125d82(0x356)],_0xa9b133=company[0x0][_0x125d82(0x26a)][_0x125d82(0x1e8)](_0x20f6a2=>_0x20f6a2[_0x125d82(0x18b)]==_0x3d8e4e[_0x125d82(0x1e1)]),_0x2d5e69=company[0x0][_0x125d82(0x31a)],_0x27c181=document['getElementById'](_0x125d82(0x33e));_0x27c181['innerHTML']='';if(_0xa9b133&&_0xa9b133[_0x125d82(0x31a)]){const _0x90be2d=_0x2d5e69[_0x125d82(0x273)](_0x375b9d=>_0xa9b133[_0x125d82(0x31a)][_0x125d82(0x1ee)](_0x290311=>_0x290311[_0x125d82(0x33e)]==_0x375b9d[_0x125d82(0x33e)]));_0x90be2d[_0x125d82(0x206)](_0x25d8cd=>{const _0x45a257=_0x125d82,_0x3a7812=document[_0x45a257(0x25f)](_0x45a257(0x272));_0x3a7812['value']=_0x25d8cd[_0x45a257(0x33e)],_0x3a7812[_0x45a257(0x204)]=_0x25d8cd[_0x45a257(0x181)],_0x27c181[_0x45a257(0x347)](_0x3a7812);});}if(_0x45d896==0x1){const _0x269592=document[_0x125d82(0x348)]('setCajeroCodigo');_0x269592[_0x125d82(0x193)]='';if(_0xa9b133){const _0x1d9cef=document[_0x125d82(0x25f)]('option');_0x1d9cef['value']=_0xa9b133['setUserCode'],_0x1d9cef[_0x125d82(0x204)]=_0xa9b133[_0x125d82(0x21b)],_0x269592[_0x125d82(0x347)](_0x1d9cef);}const _0xcf040e=Array[_0x125d82(0x1fd)](_0x291955[_0x125d82(0x2ff)])[_0x125d82(0x273)](_0x68c440=>_0x68c440['startsWith'](_0x125d82(0x34e)))[_0x125d82(0x24f)](_0x132a45=>{const _0x15dd3d=_0x125d82,_0x140def=_0x132a45[_0x15dd3d(0x1ac)]('_');return _0x140def[_0x15dd3d(0x1c4)]>=0x3?_0x140def[0x2]:null;})['filter'](_0x40aea0=>_0x40aea0!==null);console[_0x125d82(0x2ea)](_0x125d82(0x243),_0xcf040e);const _0x11bb7b=Array[_0x125d82(0x1fd)](_0x291955['objectStoreNames'])[_0x125d82(0x273)](_0x31db54=>_0x31db54['startsWith'](_0x125d82(0x34e)))['sort']((_0x4e15f8,_0x1c4b1e)=>{const _0x196223=_0x125d82,_0x496af0=parseInt(_0x4e15f8[_0x196223(0x1ac)]('_')[_0x196223(0x2ed)](),0xa),_0x401b8c=parseInt(_0x1c4b1e[_0x196223(0x1ac)]('_')[_0x196223(0x2ed)](),0xa);return _0x496af0-_0x401b8c;});for(const _0x64430b of _0x11bb7b){const _0x450b3d=_0x64430b[_0x125d82(0x1ac)]('_');if(_0x450b3d[_0x125d82(0x1c4)]<0x3){console[_0x125d82(0x2b6)](_0x125d82(0x216)+_0x64430b);continue;}const _0x3c97ce=_0x450b3d[0x2];if(_0xcf040e[_0x125d82(0x340)](_0x3c97ce)){const _0x4f01bd=new Promise((_0x1e2861,_0x35095b)=>{const _0xedd376=_0x125d82,_0x102db9=_0x291955[_0xedd376(0x302)]([_0x64430b],_0xedd376(0x2e5)),_0x4a6d06=_0x102db9[_0xedd376(0x23e)](_0x64430b),_0x4a0bf7=_0x4a6d06[_0xedd376(0x2c6)](_0x3c97ce);_0x4a0bf7[_0xedd376(0x286)]=function(_0x24530c){const _0xf9799c=_0xedd376,_0x245c29=_0x24530c[_0xf9799c(0x2c5)][_0xf9799c(0x212)];window_options[_0x3c97ce]={},_0x245c29&&(window_options[_0x3c97ce]={'setTipoOperacionInvoice':_0x245c29[_0xf9799c(0x2e7)],'setTipoOperacion':_0x245c29['setTipoOperacion'],'setSerie':_0x245c29[_0xf9799c(0x191)],'setCorrelativo':_0x245c29[_0xf9799c(0x168)],'setMoneda':_0x245c29['setMoneda'],'setClienteTipoDoc':_0x245c29[_0xf9799c(0x1eb)],'setClienteNumDoc':_0x245c29[_0xf9799c(0x315)],'setClienteDenominacion':_0x245c29[_0xf9799c(0x375)],'setClienteDireccion':_0x245c29[_0xf9799c(0x1b2)],'setCustomerPhone':_0x245c29[_0xf9799c(0x314)],'setCustomerEmail':_0x245c29[_0xf9799c(0x35b)],'setFechaHora':_0x245c29['setFechaHora'],'setSellerId':_0x245c29[_0xf9799c(0x169)],'setSellerName':_0x245c29['setSellerName'],'setDespacho':_0x245c29[_0xf9799c(0x259)],'setObservacion':_0x245c29[_0xf9799c(0x36d)],'setDescuentoGlobal_Monto':_0x245c29[_0xf9799c(0x2ef)],'setAttachEdit':_0x245c29[_0xf9799c(0x148)]},console[_0xf9799c(0x2ea)](_0xf9799c(0x200)+_0x3c97ce+':',_0x245c29)),Promise[_0xf9799c(0x327)](updateTab(_0x3c97ce))[_0xf9799c(0x16a)](_0x1e2861)[_0xf9799c(0x1a2)](_0x3abd43=>{const _0x26fdaf=_0xf9799c;console[_0x26fdaf(0x2b6)](_0x26fdaf(0x166),_0x3abd43),_0x35095b(_0x3abd43);});},_0x4a0bf7['onerror']=function(_0xf41ea8){const _0x318a7e=_0xedd376;console[_0x318a7e(0x2b6)](_0x318a7e(0x325)+_0x3c97ce+'.',_0xf41ea8[_0x318a7e(0x2c5)]['error']),_0x35095b(_0xf41ea8[_0x318a7e(0x2c5)][_0x318a7e(0x2b6)]);};});_0x1af144[_0x125d82(0x15a)](_0x4f01bd);}}const _0x11af41=Array[_0x125d82(0x1fd)](_0x291955['objectStoreNames'])[_0x125d82(0x273)](_0x4fa26=>_0x4fa26['startsWith'](_0x125d82(0x1f2)))[_0x125d82(0x2b7)]((_0x539058,_0xd742e2)=>{const _0xbe7a6=_0x125d82,_0x29307f=parseInt(_0x539058[_0xbe7a6(0x1ac)]('_')['pop'](),0xa),_0x356664=parseInt(_0xd742e2[_0xbe7a6(0x1ac)]('_')['pop'](),0xa);return _0x29307f-_0x356664;});for(const _0x20ed57 of _0x11af41){const _0x23b7de=_0x20ed57[_0x125d82(0x1ac)]('_')[0x1];!carts[_0x23b7de]&&(carts[_0x23b7de]=[]);const _0x5cbb73=new Promise((_0x193e5c,_0x596186)=>{const _0x6cdc16=_0x125d82,_0x56b24e=_0x291955['transaction']([_0x20ed57],'readonly'),_0x2f122a=_0x56b24e['objectStore'](_0x20ed57),_0x38b1bc=_0x2f122a[_0x6cdc16(0x1e9)]();_0x38b1bc[_0x6cdc16(0x286)]=async function(_0x4717ff){const _0xe302d1=_0x6cdc16,_0x5ac611=_0x4717ff['target'][_0xe302d1(0x212)];carts[_0x23b7de][_0xe302d1(0x1c4)]=0x0,_0x5ac611[_0xe302d1(0x206)](_0x436a11=>carts[_0x23b7de][_0xe302d1(0x15a)](_0x436a11));const _0x284ea7=myCompany[_0xe302d1(0x2a4)]['find'](_0x49c9d8=>_0x49c9d8['setWindowId']==_0x23b7de),_0x2f624f=Array[_0xe302d1(0x2cd)](_0x284ea7['setCartTmpInitial'])?[..._0x284ea7[_0xe302d1(0x287)]]:[];if(_0x2f624f[_0xe302d1(0x1c4)]>0x0){carts[_0x23b7de]=_0x2f624f,_0x284ea7[_0xe302d1(0x290)]=_0x2f624f,_0x284ea7[_0xe302d1(0x287)]=[];try{const _0x479a3c=await createCartStore('');await saveCompanyToIndexedDB(company,_0x479a3c),await saveCart(_0x23b7de),console[_0xe302d1(0x2ea)](_0xe302d1(0x179));}catch(_0x260ed8){console[_0xe302d1(0x2b6)](_0xe302d1(0x2f0),_0x260ed8);}}renderCart(_0x23b7de),_0x193e5c();},_0x38b1bc[_0x6cdc16(0x304)]=function(_0x3e859d){const _0x20bf4a=_0x6cdc16;console[_0x20bf4a(0x2b6)](_0x20bf4a(0x26d)+_0x23b7de+'.',_0x3e859d['target'][_0x20bf4a(0x2b6)]),_0x596186(_0x3e859d[_0x20bf4a(0x2c5)][_0x20bf4a(0x2b6)]);};});_0x1af144['push'](_0x5cbb73);}}if(_0x45d896==0x2||_0x45d896==0x3||_0x45d896==0x4){const _0x3197a4=document[_0x125d82(0x348)]('setPlanName'),_0x14681b=document[_0x125d82(0x348)](_0x125d82(0x30e));_0x3197a4[_0x125d82(0x193)]='',_0x14681b[_0x125d82(0x193)]='',_0xa9b133&&(_0x3197a4[_0x125d82(0x193)]=_0x125d82(0x345),_0x14681b[_0x125d82(0x193)]=_0xa9b133[_0x125d82(0x21b)]);}if(_0x45d896==0x1||_0x45d896==0x4){const _0x39b176=myCompany[_0x125d82(0x2e8)],_0x5b8f11=document[_0x125d82(0x348)](_0x125d82(0x2e8));_0x5b8f11[_0x125d82(0x193)]='',_0x39b176['forEach'](_0x4f0285=>{const _0x3e743a=_0x125d82,_0x453d22=document['createElement'](_0x3e743a(0x272));_0x453d22[_0x3e743a(0x31d)]=_0x4f0285[_0x3e743a(0x1d7)],_0x453d22['textContent']=_0x4f0285[_0x3e743a(0x248)]??_0x4f0285[_0x3e743a(0x22c)],_0x5b8f11[_0x3e743a(0x347)](_0x453d22);}),myCompany?.[_0x125d82(0x317)]&&(_0x5b8f11['value']=myCompany[_0x125d82(0x317)]);}return await Promise[_0x125d82(0x2e4)](_0x1af144),myCompany?.[_0x125d82(0x1bd)]&&(document[_0x125d82(0x348)](_0x125d82(0x33e))[_0x125d82(0x31d)]=company[0x0][_0x125d82(0x1bd)]),document[_0x125d82(0x348)](_0x125d82(0x33e))[_0x125d82(0x2c9)](new Event(_0x125d82(0x31b))),_0x45d896==0x1&&(tabCount=getMaxWindowId(carts),console[_0x125d82(0x2ea)]('Tab\x20count\x20inicializado\x20en:\x20'+tabCount)),_0x291955;}catch(_0x231f44){throw _0x231f44;}}function loadCartAndSetTabCount(_0x5dd68b){const _0x10681f=_0xd7fbe1;loadCart(_0x5dd68b)[_0x10681f(0x16a)](async _0x52b121=>{const _0x3a8707=_0x10681f;await initializeProducts(_0x52b121);if(_0x5dd68b==0x1){if(isLoggedIn(company)){const _0xd13d55=document[_0x3a8707(0x348)]('windowId')[_0x3a8707(0x31d)];if(parseFloat(_0xd13d55)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x1d3675=myCompany['setWindows'][_0x3a8707(0x24f)](_0x29f764=>_0x29f764[_0x3a8707(0x162)]);await reloadWindowsAndLayout(_0x1d3675);}}loadGoogleMaps(_0x3a8707(0x205))[_0x3a8707(0x16a)](()=>{const _0x484a1d=_0x3a8707;console[_0x484a1d(0x2ea)](_0x484a1d(0x303));})['catch'](_0x4e24e0=>console[_0x3a8707(0x2b6)](_0x4e24e0));}adjustHeight(),showLeftSection(),setActiveTab(_0x3a8707(0x201)),document[_0x3a8707(0x240)](_0x3a8707(0x333),function(_0x4c7513){const _0x331564=_0x3a8707,_0x18d0a8=document['getElementById']('windowId')[_0x331564(0x31d)],_0x58dda8=document[_0x331564(0x348)](_0x331564(0x1f5)),_0x533e19=document[_0x331564(0x372)]('.product[tabindex=\x270\x27]'),_0x1970c2=document[_0x331564(0x348)](_0x331564(0x1f3)+_0x18d0a8),_0x557e00=document[_0x331564(0x348)](_0x331564(0x28a)+_0x18d0a8),_0x31a47b=document[_0x331564(0x348)]('detalleModalPay');function _0x3689ec(_0x42ebc9){const _0x179e78=_0x331564;return _0x42ebc9&&(_0x42ebc9['offsetWidth']>0x0||_0x42ebc9[_0x179e78(0x37b)]>0x0||_0x42ebc9[_0x179e78(0x13b)]()[_0x179e78(0x1c4)]);}let _0x5591e9=[];if(_0x31a47b&&_0x31a47b['classList'][_0x331564(0x185)]('active')){const _0x2663a6=_0x31a47b['querySelectorAll'](_0x331564(0x30a));_0x2663a6[_0x331564(0x206)](_0x5633a4=>{const _0x71d68a=_0x331564;_0x3689ec(_0x5633a4)&&!_0x5633a4['classList']['contains'](_0x71d68a(0x2a2))&&_0x5591e9[_0x71d68a(0x15a)](_0x5633a4);});const _0x2ce99e=_0x31a47b[_0x331564(0x260)](_0x331564(0x2eb)+_0x18d0a8);if(_0x2ce99e){const _0xfd71c0=_0x2ce99e['querySelectorAll']('input,\x20select,\x20button,\x20a:not(.payment-option)');_0xfd71c0[_0x331564(0x206)](_0x193ad4=>{const _0x4cd0bf=_0x331564;_0x3689ec(_0x193ad4)&&!_0x193ad4['classList'][_0x4cd0bf(0x185)](_0x4cd0bf(0x2a2))&&_0x5591e9[_0x4cd0bf(0x15a)](_0x193ad4);});}_0x557e00&&_0x3689ec(_0x557e00)&&!_0x557e00[_0x331564(0x26c)]['contains'](_0x331564(0x2a2))&&(!_0x5591e9['includes'](_0x557e00)&&_0x5591e9[_0x331564(0x15a)](_0x557e00));const _0x444d4d=_0x31a47b[_0x331564(0x260)](_0x331564(0x33d));_0x444d4d&&_0x3689ec(_0x444d4d)&&!_0x5591e9[_0x331564(0x340)](_0x444d4d)&&_0x5591e9[_0x331564(0x331)](_0x444d4d);}else{_0x5591e9=[_0x58dda8,..._0x533e19];if(_0x1970c2)_0x5591e9[_0x331564(0x15a)](_0x1970c2);}const _0x37433d=document['activeElement'],_0x1d6277=_0x37433d&&(_0x37433d['tagName']==_0x331564(0x23d)||_0x37433d[_0x331564(0x153)]==_0x331564(0x318)||_0x37433d[_0x331564(0x28d)](_0x331564(0x321)));if(_0x31a47b&&_0x31a47b[_0x331564(0x26c)][_0x331564(0x185)](_0x331564(0x369))&&_0x4c7513[_0x331564(0x29d)]==_0x331564(0x187)){if(_0x37433d&&_0x37433d['classList'][_0x331564(0x185)]('payment-option')){_0x4c7513[_0x331564(0x1dd)](),_0x37433d[_0x331564(0x15c)]();return;}}if(_0x31a47b&&_0x31a47b[_0x331564(0x26c)][_0x331564(0x185)]('active')&&_0x4c7513[_0x331564(0x29d)]==_0x331564(0x305)){const _0x470a70=_0x31a47b[_0x331564(0x185)](_0x37433d),_0x151a25=_0x37433d?.[_0x331564(0x28d)]('.autocomplete-wrapper');if(!_0x470a70&&!_0x151a25){_0x4c7513[_0x331564(0x1dd)]();_0x5591e9[_0x331564(0x1c4)]>0x0&&_0x5591e9[0x0]['focus']();return;}}if(_0x4c7513[_0x331564(0x29d)]==_0x331564(0x305)){_0x4c7513[_0x331564(0x1dd)]();if(_0x5591e9[_0x331564(0x1c4)]==0x0)return;let _0x47a96f=_0x5591e9[_0x331564(0x2e0)](_0x37433d);if(_0x47a96f==-0x1)_0x47a96f=-0x1;let _0x1e4432;_0x4c7513[_0x331564(0x225)]?_0x1e4432=_0x47a96f<=0x0?_0x5591e9[_0x331564(0x1c4)]-0x1:_0x47a96f-0x1:_0x1e4432=_0x47a96f==_0x5591e9[_0x331564(0x1c4)]-0x1?0x0:_0x47a96f+0x1;_0x5591e9[_0x1e4432][_0x331564(0x14d)]();return;}(!_0x31a47b||!_0x31a47b[_0x331564(0x26c)][_0x331564(0x185)](_0x331564(0x369)))&&!_0x1d6277&&!_0x37433d?.['closest'](_0x331564(0x144))&&(_0x4c7513[_0x331564(0x29d)]['length']==0x1||_0x4c7513[_0x331564(0x29d)]==_0x331564(0x139)||_0x4c7513['key']==_0x331564(0x316))&&(_0x4c7513[_0x331564(0x1dd)](),_0x58dda8[_0x331564(0x14d)](),_0x4c7513[_0x331564(0x29d)]==_0x331564(0x139)||_0x4c7513[_0x331564(0x29d)]==_0x331564(0x316)?_0x58dda8['value']=_0x58dda8[_0x331564(0x31d)][_0x331564(0x2ce)](0x0,-0x1):!_0x58dda8[_0x331564(0x31d)]?_0x58dda8[_0x331564(0x31d)]=_0x4c7513[_0x331564(0x29d)]:_0x58dda8['value']+=_0x4c7513[_0x331564(0x29d)]);}),loadTaxData(),resetNewItemForm();}_0x5dd68b==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x5dd68b==0x3){const _0x4792b9=document['getElementById'](_0x3a8707(0x33e))[_0x3a8707(0x31d)];fil_BranchesId[_0x3a8707(0x15a)](_0x4792b9),updateDateRange(_0x3a8707(0x1ef));}_0x5dd68b==0x4&&init();})['catch'](_0x33c5aa=>{console['error'](_0x33c5aa);})['finally'](()=>{const _0xd89e52=_0x10681f;_0x5dd68b==0x1&&updateInternetIcon();let _0x44a3d2;(_0x5dd68b==0x1||_0x5dd68b==0x2||_0x5dd68b==0x3||_0x5dd68b==0x4)&&(_0x44a3d2=_0xd89e52(0x2b0)),registerServiceWorker(_0x44a3d2,_0x5dd68b);});}