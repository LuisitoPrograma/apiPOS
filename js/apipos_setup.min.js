/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.4
*/

const _0xe4a87e=_0xdaea;(function(_0x16c0f7,_0x51d72b){const _0x47974c=_0xdaea,_0x63dff5=_0x16c0f7();while(!![]){try{const _0x29ff15=parseInt(_0x47974c(0x18e))/0x1*(parseInt(_0x47974c(0x255))/0x2)+parseInt(_0x47974c(0x263))/0x3+parseInt(_0x47974c(0x24d))/0x4+parseInt(_0x47974c(0x24b))/0x5+-parseInt(_0x47974c(0x2b8))/0x6+parseInt(_0x47974c(0x25c))/0x7+-parseInt(_0x47974c(0x15c))/0x8;if(_0x29ff15===_0x51d72b)break;else _0x63dff5['push'](_0x63dff5['shift']());}catch(_0x269907){_0x63dff5['push'](_0x63dff5['shift']());}}}(_0x967e,0xe8137));const _0x3e9036=(function(){let _0x3efbe8=!![];return function(_0x19c0db,_0x37f03d){const _0x36b112=_0x3efbe8?function(){const _0x48b6c3=_0xdaea;if(_0x37f03d){const _0x1a3f64=_0x37f03d[_0x48b6c3(0xd3)](_0x19c0db,arguments);return _0x37f03d=null,_0x1a3f64;}}:function(){};return _0x3efbe8=![],_0x36b112;};}()),_0x2c128f=_0x3e9036(this,function(){const _0x6df8e4=_0xdaea;return _0x2c128f[_0x6df8e4(0x112)]()['search']('(((.+)+)+)+$')[_0x6df8e4(0x112)]()[_0x6df8e4(0x258)](_0x2c128f)[_0x6df8e4(0x259)](_0x6df8e4(0x241));});_0x2c128f();const _0x34eaef=(function(){let _0x50f875=!![];return function(_0x10f925,_0x5cf6e2){const _0x1061fd=_0x50f875?function(){const _0xbc22e0=_0xdaea;if(_0x5cf6e2){const _0x1612ef=_0x5cf6e2[_0xbc22e0(0xd3)](_0x10f925,arguments);return _0x5cf6e2=null,_0x1612ef;}}:function(){};return _0x50f875=![],_0x1061fd;};}()),_0x2f8124=_0x34eaef(this,function(){const _0x181ac7=_0xdaea,_0x397864=function(){const _0x2e6523=_0xdaea;let _0x386e56;try{_0x386e56=Function(_0x2e6523(0x144)+_0x2e6523(0x16f)+');')();}catch(_0xd6fd6){_0x386e56=window;}return _0x386e56;},_0x4443fa=_0x397864(),_0x52fdea=_0x4443fa[_0x181ac7(0x106)]=_0x4443fa[_0x181ac7(0x106)]||{},_0x3ed92f=[_0x181ac7(0x242),_0x181ac7(0x196),_0x181ac7(0x199),_0x181ac7(0x1f0),_0x181ac7(0x1c7),_0x181ac7(0x161),_0x181ac7(0x2c8)];for(let _0x56b49f=0x0;_0x56b49f<_0x3ed92f[_0x181ac7(0x1a0)];_0x56b49f++){const _0x1f40bb=_0x34eaef[_0x181ac7(0x258)][_0x181ac7(0x2c3)][_0x181ac7(0x188)](_0x34eaef),_0x1516c8=_0x3ed92f[_0x56b49f],_0x19e242=_0x52fdea[_0x1516c8]||_0x1f40bb;_0x1f40bb[_0x181ac7(0x294)]=_0x34eaef[_0x181ac7(0x188)](_0x34eaef),_0x1f40bb[_0x181ac7(0x112)]=_0x19e242[_0x181ac7(0x112)]['bind'](_0x19e242),_0x52fdea[_0x1516c8]=_0x1f40bb;}});_0x2f8124();let myCompany,db=null,dbPromise=null,db_name=_0xe4a87e(0x249),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0xe4a87e(0x267),_0xe4a87e(0x11b),_0xe4a87e(0x183),_0xe4a87e(0x26a),_0xe4a87e(0x29d),_0xe4a87e(0x14e),_0xe4a87e(0x1ff),_0xe4a87e(0x202),_0xe4a87e(0x15f),_0xe4a87e(0x297),_0xe4a87e(0xcc),'diciembre'],gdfg5g=_0xe4a87e(0x1df),x45fgd='x3',xjehd78=_0xe4a87e(0xe5),cxkdj4=_0xe4a87e(0x20a),x87s8d=_0xe4a87e(0x193),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0xe4a87e(0x1cf),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0xe4a87e(0x2be),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0xe4a87e(0x16c),xg123f='45x',xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0xe4a87e(0x205),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0xe4a87e(0x201),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0xe4a87e(0x130),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0xe4a87e(0xc7),x78xh='r',px32b='o',x64x44x54=_0xe4a87e(0x1a6),x64x32x33=_0xe4a87e(0x10a),kkx12='s',ak47r=_0xe4a87e(0x170),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0xe4a87e(0x228),p34d9='d',kx32h='v',yx34l='p',pltbr=_0xe4a87e(0x2bd),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0xe4a87e(0x225),_0xe4a87e(0x200),_0xe4a87e(0x264),_0xe4a87e(0x24e),'ar21',_0xe4a87e(0x10b),'cl19','co19','co5',_0xe4a87e(0x2bf),'uy10'],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos['concat'](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20','E01',_0xe4a87e(0xe2),_0xe4a87e(0xc6),_0xe4a87e(0x10f),'CO0',_0xe4a87e(0x166)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0xe4a87e(0x1b2)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt['concat'](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0xe4a87e(0x1b2)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x4e837f){const _0x1bd3c7=_0xe4a87e;await apiERPgetWindows();const _0x1d913a=document['getElementById'](_0x1bd3c7(0x1ca));if(_0x1d913a[_0x1bd3c7(0x254)][_0x1bd3c7(0xce)](_0x1bd3c7(0x1d7))){const _0x46f03d=document[_0x1bd3c7(0x1f3)]('setFloorId')[_0x1bd3c7(0x1e5)],_0x303bd2=document['getElementById'](_0x1bd3c7(0x22c))[_0x1bd3c7(0x1e5)];cargarVentanas(_0x303bd2,_0x46f03d),createTabsEnvironments();}if(Array['isArray'](_0x4e837f))for(const _0x15c5ee of _0x4e837f){try{await setOrders(_0x15c5ee);}catch(_0x56d580){console['error']('Error\x20en\x20setOrders\x20para\x20windowId='+_0x15c5ee+':',_0x56d580);}}else console['warn'](_0x1bd3c7(0x2ba),_0x4e837f);}let socket;function conectarWebSocket(){const _0x1b46df=_0xe4a87e;if(socket&&socket[_0x1b46df(0x1ac)]!==WebSocket[_0x1b46df(0x18f)]){console[_0x1b46df(0x242)]('WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro');return;}const _0x8d95e9=myCompany['setAuthToken'];if(!_0x8d95e9){console[_0x1b46df(0x1f0)]('No\x20hay\x20setAuthToken\x20para\x20WebSocket');return;}const _0x59076e=location[_0x1b46df(0x2a2)]===_0x1b46df(0x142)?_0x1b46df(0x2bb):'ws',_0x263b3f=_0x59076e+'://wss.apierp.dev/ws?token='+encodeURIComponent(_0x8d95e9);socket=new WebSocket(_0x263b3f),socket[_0x1b46df(0x2cd)](_0x1b46df(0x165),()=>{const _0x2c7d1e=_0x1b46df;console[_0x2c7d1e(0x242)](_0x2c7d1e(0x1e2));}),socket[_0x1b46df(0x2cd)](_0x1b46df(0x172),async _0xae3cc1=>{const _0x38a12f=_0x1b46df;try{const _0x5013a3=JSON[_0x38a12f(0x138)](_0xae3cc1[_0x38a12f(0x1d2)]);if(_0x5013a3[_0x38a12f(0x295)]===_0x38a12f(0x15e))console['log'](_0x38a12f(0x213)),await reloadWindowsAndLayout(_0x5013a3['data']),ntfShow('✔️\x20¡Sincronizado!',0x1,0x2);else _0x5013a3[_0x38a12f(0x295)]===_0x38a12f(0x10c)?(console[_0x38a12f(0x242)]('Evento\x20updateLastCorrelative\x20recibido.'),updateLastCorrelativeOnline(_0x5013a3['data']['setOperationType'],_0x5013a3[_0x38a12f(0x1d2)][_0x38a12f(0x1e0)])):console['log'](_0x38a12f(0x101),_0x5013a3);}catch(_0x4931bd){console[_0x38a12f(0x1f0)](_0x38a12f(0xff),_0x4931bd);}}),socket[_0x1b46df(0x2cd)](_0x1b46df(0x281),_0x1c2991=>{const _0x53ff81=_0x1b46df;console[_0x53ff81(0x196)]('WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...',_0x1c2991[_0x53ff81(0x1ef)]),setTimeout(conectarWebSocket,0x3a98);}),socket[_0x1b46df(0x2cd)](_0x1b46df(0x1f0),_0x3a3868=>{const _0x89a140=_0x1b46df;console[_0x89a140(0x1f0)](_0x89a140(0x28f),_0x3a3868);});}function isWebSocketActive(){const _0x589dbf=_0xe4a87e;return socket&&socket['readyState']===WebSocket[_0x589dbf(0x1b9)];}function getQueryParam(_0x8f32ce){const _0x345c97=_0xe4a87e,_0x1aa8cf=new URLSearchParams(window['location'][_0x345c97(0x259)]);return _0x1aa8cf[_0x345c97(0x1ba)](_0x8f32ce);}function setUserNameGet(){const _0x58411b=_0xe4a87e,_0x26ffce=getQueryParam('username'),_0x4cead2=document[_0x58411b(0x1f3)](_0x58411b(0x1dc));_0x26ffce&&_0x4cead2&&(_0x4cead2[_0x58411b(0x1e5)]=_0x26ffce);}function generateUniqId(){const _0xb9107f=_0xe4a87e;return Date[_0xb9107f(0xe6)]()+'_'+Math[_0xb9107f(0x2b5)]()[_0xb9107f(0x112)](0x24)[_0xb9107f(0x278)](0x2,0x9);}var hasLocalStorage=(function(){const _0x47bce3=_0xe4a87e;try{var _0x153760=_0x47bce3(0x2a9);return localStorage[_0x47bce3(0xf3)](_0x153760,_0x153760),localStorage['removeItem'](_0x153760),!![];}catch(_0x4fe6b9){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x38a5f8=_0xe4a87e;if(!hasLocalStorage){var _0x58234e=Date[_0x38a5f8(0xe6)]();return _0x58234e===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x58234e,counter_mem=0x0),_0x58234e*0x3e8+counter_mem;}var _0x5b6315=_0x38a5f8(0x133),_0x27532f;try{var _0x533812=localStorage[_0x38a5f8(0x1f8)](_0x5b6315);_0x27532f=_0x533812?JSON[_0x38a5f8(0x138)](_0x533812):{'lastTs':0x0,'counter':0x0},(typeof _0x27532f[_0x38a5f8(0x298)]!==_0x38a5f8(0x1ad)||typeof _0x27532f[_0x38a5f8(0x115)]!=='number')&&(_0x27532f={'lastTs':0x0,'counter':0x0});}catch(_0x292d1f){_0x27532f={'lastTs':0x0,'counter':0x0};}var _0x1f9a94=Date[_0x38a5f8(0xe6)]();_0x1f9a94===_0x27532f['lastTs']?_0x27532f[_0x38a5f8(0x115)]=(_0x27532f['counter']+0x1)%0x3e8:(_0x27532f[_0x38a5f8(0x298)]=_0x1f9a94,_0x27532f[_0x38a5f8(0x115)]=0x0);var _0x170725=_0x1f9a94*0x3e8+_0x27532f[_0x38a5f8(0x115)];try{localStorage['setItem'](_0x5b6315,JSON[_0x38a5f8(0x2a4)](_0x27532f));}catch(_0x5eb202){}return _0x170725;}function blobAStringBase64(_0x1ee854){return new Promise((_0x461a3f,_0x37cdde)=>{const _0x3db6f5=_0xdaea,_0x4a49be=new FileReader();_0x4a49be[_0x3db6f5(0x1da)]=()=>{const _0x368d5f=_0x3db6f5,_0x59314f=_0x4a49be[_0x368d5f(0x123)],_0x2eee0a=_0x59314f['split'](',');if(_0x2eee0a[_0x368d5f(0x1a0)]!==0x2)return _0x37cdde(new Error('Formato\x20inesperado\x20en\x20base64'));_0x461a3f(_0x2eee0a[0x1]);},_0x4a49be[_0x3db6f5(0x1f4)]=_0x29c930=>_0x37cdde(_0x29c930),_0x4a49be['readAsDataURL'](_0x1ee854);});}async function generarBarcodeDataURL(_0x17fd94,_0xaf7184){return new Promise((_0x561933,_0x3ec029)=>{const _0x602473=_0xdaea,_0xabe3bb=myCompany[_0x602473(0x1a7)][_0x602473(0x16b)](_0x13a21b=>_0x13a21b[_0x602473(0x24f)]==_0x17fd94),_0x332486=_0xabe3bb?_0xabe3bb['setCodeBarTypeName']:_0x602473(0x2af),_0x216500=document[_0x602473(0x22e)](_0x602473(0x164),'svg');JsBarcode(_0x216500,_0xaf7184,{'format':_0x332486,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0xe366b6=new XMLSerializer()['serializeToString'](_0x216500),_0x454666=btoa(_0xe366b6),_0x1585f1=_0x602473(0x181)+_0x454666,_0x3cd285=new Image();_0x3cd285['onload']=()=>{const _0x2a6e4f=_0x602473,_0x4ed545=document['createElement'](_0x2a6e4f(0x237));_0x4ed545[_0x2a6e4f(0x2d6)]=_0x3cd285['width'],_0x4ed545['height']=_0x3cd285[_0x2a6e4f(0xe4)];const _0x4772f4=_0x4ed545[_0x2a6e4f(0x2c0)]('2d');_0x4772f4[_0x2a6e4f(0x186)](_0x3cd285,0x0,0x0);const _0x39266f=_0x4ed545[_0x2a6e4f(0xfe)]('image/png');_0x561933(_0x39266f);},_0x3cd285[_0x602473(0x1f4)]=_0x764808=>_0x3ec029(_0x764808),_0x3cd285[_0x602473(0x27d)]=_0x1585f1;});}async function generarStickersPDF(_0x12823d,_0x362879,_0x25cc99){const _0x2b1bfd=_0xe4a87e,{PDFDocument:_0x3e00d8,StandardFonts:_0x3630d8,rgb:_0x59cd66}=PDFLib,_0x374f9c=products['find'](_0x491754=>_0x491754['id']==_0x25cc99);if(!_0x374f9c){console['error'](_0x2b1bfd(0x114)+_0x25cc99+'\x20no\x20encontrado\x20en\x20products.');return;}const _0x504f58=_0x374f9c[_0x2b1bfd(0x15d)][_0x2b1bfd(0x265)](),_0x1fcf84=document['getElementById'](_0x2b1bfd(0x1bb))[_0x2b1bfd(0x1e5)],_0x30369a=document[_0x2b1bfd(0x1f3)](_0x2b1bfd(0x16a)+_0x1fcf84)['value'],_0x464e19=(_0x374f9c['currency_data']||[])[_0x2b1bfd(0x16b)](_0x46df14=>_0x46df14[_0x2b1bfd(0x109)]==_0x30369a)||{},_0xb1fac6=_0x464e19[_0x2b1bfd(0x248)]||0x0,_0x58445c=getCurrencySymbol(_0x1fcf84),_0x2870df=Number(_0xb1fac6)||0x0,_0x3319c0=_0x58445c+'\x20'+_0x2870df[_0x2b1bfd(0x11f)](0x2),_0x4f8b9d=await _0x3e00d8[_0x2b1bfd(0x269)](),_0x5dcf01=_0x175c54=>_0x175c54*2.83465,_0xa4d010=_0x5dcf01(0x70*0x2),_0x7336e0=_0x5dcf01(40.8),_0x51d15e=_0x4f8b9d['addPage']([_0xa4d010,_0x7336e0]),_0x26d172=await _0x4f8b9d[_0x2b1bfd(0x104)](_0x3630d8[_0x2b1bfd(0x195)]),_0x3abfbc=Array(0x2)['fill'](_0x362879),_0x564be6=0x2,_0x35dd3d=0x1,_0x4a968e=0xc,_0x547e4e=_0xa4d010/_0x564be6,_0x5908c9=_0x7336e0/_0x35dd3d;for(let _0x4310aa=0x0;_0x4310aa<0x2;_0x4310aa++){const _0x18d382=_0x3abfbc[_0x4310aa],_0x381309=await generarBarcodeDataURL(_0x12823d,_0x18d382),_0x309c6a=_0x381309[_0x2b1bfd(0x12c)](',')[0x1],_0x2a9a01=Uint8Array[_0x2b1bfd(0x12b)](atob(_0x309c6a),_0x16eb7b=>_0x16eb7b[_0x2b1bfd(0x2d1)](0x0));let _0x21dc21;try{_0x21dc21=await _0x4f8b9d[_0x2b1bfd(0x29a)](_0x2a9a01);}catch{_0x21dc21=await _0x4f8b9d['embedJpg'](_0x2a9a01);}const _0x4a1ee9=0x5,_0x49ccd2=_0x4a968e+0x4,_0x4a2113=_0x4a968e*0x2+0x4,_0x4ab58d=_0x504f58,_0x427921=_0x3319c0,_0x4fac68=_0x4310aa%_0x564be6,_0x30d9b7=_0x26d172[_0x2b1bfd(0x1d6)](_0x4ab58d,_0x4a968e),_0x3de54d=_0x26d172[_0x2b1bfd(0x1d6)](_0x427921,_0x4a968e),_0x113475=_0x4fac68*_0x547e4e+(_0x547e4e-_0x30d9b7)/0x2,_0xa29fc=_0x4fac68*_0x547e4e+(_0x547e4e-_0x3de54d)/0x2,_0x2c13c0=_0x5908c9-_0x4a1ee9-_0x4a968e,_0x1f99e6=_0x2c13c0-_0x4a968e-0x2;_0x51d15e[_0x2b1bfd(0x290)](_0x4ab58d,{'x':_0x113475,'y':_0x2c13c0,'size':_0x4a968e,'font':_0x26d172,'color':_0x59cd66(0x0,0x0,0x0)}),_0x51d15e[_0x2b1bfd(0x290)](_0x427921,{'x':_0xa29fc,'y':_0x1f99e6,'size':_0x4a968e,'font':_0x26d172,'color':_0x59cd66(0x0,0x0,0x0)});const _0x7a4fec=_0x547e4e-_0x4a1ee9*0x2,_0x79ac94=_0x5908c9-_0x4a1ee9*0x2-_0x4a2113-_0x49ccd2,_0xc9f289=_0x21dc21[_0x2b1bfd(0x2d6)],_0x453841=_0x21dc21[_0x2b1bfd(0xe4)],_0x30895a=Math[_0x2b1bfd(0x277)](_0x7a4fec/_0xc9f289,_0x79ac94/_0x453841,0x1),_0x3a28f5=_0x21dc21['scale'](_0x30895a),_0x34f9e6=_0x4fac68*_0x547e4e+(_0x547e4e-_0x3a28f5[_0x2b1bfd(0x2d6)])/0x2,_0x4e3ff3=_0x1f99e6-_0x3a28f5[_0x2b1bfd(0xe4)]-0x4;_0x51d15e['drawImage'](_0x21dc21,{'x':_0x34f9e6,'y':_0x4e3ff3,'width':_0x3a28f5[_0x2b1bfd(0x2d6)],'height':_0x3a28f5[_0x2b1bfd(0xe4)]});const _0xa10a0d=_0x26d172[_0x2b1bfd(0x1d6)](_0x18d382,_0x4a968e),_0x410b3d=_0x4fac68*_0x547e4e+(_0x547e4e-_0xa10a0d)/0x2,_0x4786c2=_0x4e3ff3-_0x4a968e-0x2;_0x51d15e[_0x2b1bfd(0x290)](_0x18d382,{'x':_0x410b3d,'y':_0x4786c2,'size':_0x4a968e,'font':_0x26d172,'color':_0x59cd66(0x0,0x0,0x0)});}const _0x40297c=await _0x4f8b9d[_0x2b1bfd(0x2b6)](),_0x1b6bab=new Blob([_0x40297c],{'type':'application/pdf'}),_0x583181=URL[_0x2b1bfd(0x1b5)](_0x1b6bab);window[_0x2b1bfd(0x165)](_0x583181);}async function sendEmail(_0x571649,_0x4efa9b,_0x37be7c,_0x2af62d,_0xa560d6,_0x133432,_0x8484b8,_0x585f1f,_0x2889e8,_0x1ee193){const _0x3962d5=_0xe4a87e;if(isOnline()){const _0x449ca1={'setAuthToken':_0x571649,'senderName':_0x4efa9b,'senderEmail':_0x37be7c,'senderPassword':_0x2af62d,'smtpHost':_0xa560d6,'smtpPort':_0x133432,'emailsDestination':_0x8484b8,'subject':_0x585f1f,'message':_0x2889e8,'attachFiles':_0x1ee193};try{const _0x5cf0cf=await fetch(_0x3962d5(0xed),{'method':_0x3962d5(0x296),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x449ca1)}),_0x536c46=await _0x5cf0cf[_0x3962d5(0x134)]();if(!_0x5cf0cf['ok']||!_0x536c46[_0x3962d5(0x14f)]){console[_0x3962d5(0x1f0)](_0x3962d5(0x2d2),_0x536c46),ntfShow(_0x3962d5(0x1a5));return;}}catch(_0x20c75f){console[_0x3962d5(0x1f0)](_0x3962d5(0x105),_0x20c75f);}}}function loadLoginContent(_0x1133f4){const _0x57fa0f=_0xe4a87e,_0x38ce32=document['getElementById'](_0x57fa0f(0x12d));_0x38ce32[_0x57fa0f(0x29c)]=_0x57fa0f(0x177)+_0x1133f4+_0x57fa0f(0xd6);}function addNumber(_0x174574){const _0x4f03cb=_0xe4a87e;document[_0x4f03cb(0x1f3)](_0x4f03cb(0xdd))[_0x4f03cb(0x1e5)]+=_0x174574;}function deleteNumber(){const _0x1876b9=_0xe4a87e;let _0x37b4d2=document['getElementById']('password');_0x37b4d2['value']=_0x37b4d2['value'][_0x1876b9(0x1bc)](0x0,-0x1);}function togglePassword(){const _0x569869=_0xe4a87e;let _0x5ddefd=document[_0x569869(0x1f3)](_0x569869(0xdd));_0x5ddefd[_0x569869(0x295)]=_0x5ddefd[_0x569869(0x295)]=='password'?_0x569869(0x116):_0x569869(0xdd);}function setEventBtnAccess(){const _0x5e0c04=_0xe4a87e,_0x2377d1=document[_0x5e0c04(0x1f3)](_0x5e0c04(0x150));_0x2377d1[_0x5e0c04(0x17a)]=function(){acceder();};}function isOnline(){const _0x2a0c09=_0xe4a87e;return window[_0x2a0c09(0x22a)][_0x2a0c09(0xf6)];}function showLoadingModal(){const _0x428f45=_0xe4a87e,_0x276a15=document['createElement']('div');_0x276a15['id']=_0x428f45(0x25f),_0x276a15[_0x428f45(0x103)][_0x428f45(0x111)]=_0x428f45(0x1b4),_0x276a15[_0x428f45(0x103)][_0x428f45(0x2c4)]='0',_0x276a15[_0x428f45(0x103)][_0x428f45(0x167)]='0',_0x276a15[_0x428f45(0x103)][_0x428f45(0x2d6)]='100%',_0x276a15[_0x428f45(0x103)][_0x428f45(0xe4)]=_0x428f45(0x217),_0x276a15['style'][_0x428f45(0x1a1)]=_0x428f45(0x1e7),_0x276a15[_0x428f45(0x103)][_0x428f45(0x272)]='flex',_0x276a15['style'][_0x428f45(0x208)]=_0x428f45(0x2b1),_0x276a15[_0x428f45(0x103)][_0x428f45(0x27c)]=_0x428f45(0x2b1),_0x276a15['style']['zIndex']='9999',_0x276a15[_0x428f45(0x103)][_0x428f45(0x16e)]='1',_0x276a15[_0x428f45(0x103)]['transition']=_0x428f45(0x245),_0x276a15[_0x428f45(0x29c)]=_0x428f45(0x2cf),document[_0x428f45(0xc8)][_0x428f45(0x18a)](_0x276a15);}function hideLoadingModal(){const _0x41e9cb=_0xe4a87e,_0x42ade2=document[_0x41e9cb(0x1f3)](_0x41e9cb(0x25f));_0x42ade2&&(_0x42ade2['style'][_0x41e9cb(0x16e)]='0',_0x42ade2[_0x41e9cb(0x219)]());}function cargarAlmacenes(_0x2051f6){const _0x24c060=_0xe4a87e,_0x35e059=document[_0x24c060(0x1f3)](_0x24c060(0xe1));_0x35e059['innerHTML']='';const _0x486c81=company[0x0][_0x24c060(0x29b)][_0x24c060(0x16b)](_0x3c762f=>_0x3c762f[_0x24c060(0x22c)]==_0x2051f6);_0x486c81&&_0x486c81[_0x24c060(0x1e8)][_0x24c060(0x1a0)]>0x0&&_0x486c81['setWarehouses'][_0x24c060(0x155)](_0x2ee0a7=>{const _0x3b2a2d=_0x24c060;let _0x364706=document[_0x3b2a2d(0x207)](_0x3b2a2d(0x1e1));_0x364706[_0x3b2a2d(0x1e5)]=_0x2ee0a7['setWarehouseId'],_0x364706[_0x3b2a2d(0x19e)]=_0x2ee0a7[_0x3b2a2d(0x160)],_0x35e059[_0x3b2a2d(0x18a)](_0x364706);});}function getAllWarehouses(){const _0x79167c=_0xe4a87e,_0x39b435=company[0x0][_0x79167c(0x29b)]||[],_0x19fd48=new Map();return _0x39b435['forEach'](_0x146432=>{const _0x364c65=_0x79167c;(_0x146432[_0x364c65(0x1e8)]||[])[_0x364c65(0x155)](_0x2c01cd=>{const _0x49b10a=_0x364c65;!_0x19fd48[_0x49b10a(0x139)](_0x2c01cd[_0x49b10a(0xe1)])&&_0x19fd48[_0x49b10a(0x1b3)](_0x2c01cd[_0x49b10a(0xe1)],{'setWarehouseId':_0x2c01cd['setWarehouseId'],'setWarehouseName':_0x2c01cd[_0x49b10a(0x160)]+'\x20('+_0x146432[_0x49b10a(0x124)]+')'});});}),Array[_0x79167c(0x12b)](_0x19fd48[_0x79167c(0x107)]());}function cargarPisos(_0xeb1add){const _0x26912a=_0xe4a87e,_0x438778=company[0x0][_0x26912a(0x291)][_0x26912a(0x19c)](_0x1702f3=>_0x1702f3[_0x26912a(0x22c)]==_0xeb1add),_0x3e56c1={};_0x438778[_0x26912a(0x155)](_0x25a649=>{_0x3e56c1[_0x25a649['setFloorId']]=_0x25a649['setFloorName'];});const _0x408d5d=document[_0x26912a(0x1f3)](_0x26912a(0x145));_0x408d5d[_0x26912a(0x29c)]='';for(const _0xcfde98 in _0x3e56c1){const _0x1cf3c2=document[_0x26912a(0x207)](_0x26912a(0x1e1));_0x1cf3c2[_0x26912a(0x1e5)]=_0xcfde98,_0x1cf3c2['textContent']=_0x3e56c1[_0xcfde98],_0x408d5d[_0x26912a(0x18a)](_0x1cf3c2);}}document['getElementById'](_0xe4a87e(0x1db))[_0xe4a87e(0x2cd)]('click',()=>{const _0x13e882=_0xe4a87e,_0x225207=document[_0x13e882(0x182)],_0x42176b=document[_0x13e882(0x159)]||document[_0x13e882(0x26d)]||document['mozFullScreenElement']||document[_0x13e882(0x279)];if(!_0x42176b){if(_0x225207[_0x13e882(0x1dd)])_0x225207[_0x13e882(0x1dd)]();else{if(_0x225207[_0x13e882(0x21f)])_0x225207[_0x13e882(0x21f)]();else{if(_0x225207[_0x13e882(0x1a9)])_0x225207[_0x13e882(0x1a9)]();else _0x225207[_0x13e882(0x22d)]&&_0x225207['msRequestFullscreen']();}}}else{if(document[_0x13e882(0x2c2)])document[_0x13e882(0x2c2)]();else{if(document['webkitExitFullscreen'])document[_0x13e882(0x223)]();else{if(document['mozCancelFullScreen'])document[_0x13e882(0x25e)]();else document[_0x13e882(0xd7)]&&document[_0x13e882(0xd7)]();}}}});function openModalDetailsAndNtf(_0x172fef,_0xcf4691,_0x7b48de=null){const _0x58a23e=_0xe4a87e,_0x398a6e=products[_0x58a23e(0x16b)](_0x4f2505=>_0x4f2505['id']==_0x172fef),_0x4e8dff=_0x398a6e['id'],_0x4a8c66=_0x398a6e[_0x58a23e(0x1e9)],_0x29f6d1=_0x398a6e[_0x58a23e(0x15d)],_0x274303=_0x398a6e[_0x58a23e(0xf2)],_0x3a1bbf=_0x398a6e['setImg']?.[_0x58a23e(0x265)]()||_0x58a23e(0x1f1),_0x9da707=Array['isArray'](_0x398a6e[_0x58a23e(0x1bd)])&&_0x398a6e[_0x58a23e(0x1bd)][_0x58a23e(0x1a0)]>0x0?_0x398a6e[_0x58a23e(0x1bd)]:[{'setImageUrl':_0x3a1bbf}],_0x2ccec7=_0x9da707[_0x58a23e(0xca)](_0x2a7901=>_0x2a7901[_0x58a23e(0x18d)]),_0x148535=document[_0x58a23e(0x1f3)](_0x58a23e(0x226)),_0x4ab2c3=_0x148535[_0x58a23e(0x163)](_0x58a23e(0xda)),_0x3f1903=_0x148535[_0x58a23e(0x163)](_0x58a23e(0x252)),_0x51d299=_0x148535[_0x58a23e(0x163)](_0x58a23e(0x251)),_0x1452a6=document[_0x58a23e(0x1f3)](_0x58a23e(0x2d7)),_0x1b4df6=_0x148535[_0x58a23e(0x163)](_0x58a23e(0xd4)),_0x113b2b=_0x148535['querySelector'](_0x58a23e(0x117));_0x4ab2c3[_0x58a23e(0x29c)]='',_0x2ccec7['forEach'](_0x1ef8b6=>{const _0x1355c4=_0x58a23e,_0x202ad1=document[_0x1355c4(0x207)]('img');_0x202ad1[_0x1355c4(0x27d)]=_0x1ef8b6,_0x202ad1[_0x1355c4(0x2a1)]=_0x1355c4(0x273),_0x4ab2c3[_0x1355c4(0x18a)](_0x202ad1);});let _0x38b1a5=0x0;const _0x397ad5=_0x2ccec7[_0x58a23e(0x1a0)];function _0x50ee40(){const _0x802f95=_0x58a23e;_0x4ab2c3['style'][_0x802f95(0x1fc)]='translateX(-'+_0x38b1a5*0x64+'%)';}_0x2ccec7[_0x58a23e(0x155)](_0x26a7b6=>{const _0x111815=new Image();_0x111815['src']=_0x26a7b6;});_0x397ad5<=0x1?(_0x1b4df6[_0x58a23e(0x103)][_0x58a23e(0x272)]=_0x58a23e(0x245),_0x113b2b[_0x58a23e(0x103)][_0x58a23e(0x272)]=_0x58a23e(0x245)):(_0x1b4df6[_0x58a23e(0x103)][_0x58a23e(0x272)]='',_0x113b2b['style'][_0x58a23e(0x272)]='');_0x38b1a5=0x0,_0x50ee40();function _0x46c419(_0x94e6ec){const _0x79d2e7=_0x58a23e;_0x94e6ec[_0x79d2e7(0x17d)](),_0x38b1a5=(_0x38b1a5-0x1+_0x397ad5)%_0x397ad5,_0x50ee40();}function _0x55c9d6(_0x53c75f){_0x53c75f['stopPropagation'](),_0x38b1a5=(_0x38b1a5+0x1)%_0x397ad5,_0x50ee40();}_0x1b4df6['replaceWith'](_0x1b4df6[_0x58a23e(0x285)](!![])),_0x113b2b[_0x58a23e(0x28e)](_0x113b2b[_0x58a23e(0x285)](!![]));const _0x17ebb4=_0x148535['querySelector']('.carousel-prev'),_0x465710=_0x148535['querySelector'](_0x58a23e(0x117));_0x17ebb4[_0x58a23e(0x2cd)]('click',_0x46c419),_0x465710['addEventListener']('click',_0x55c9d6),_0x3f1903['addEventListener'](_0x58a23e(0x229),_0x490136=>{const _0x43c5b1=_0x58a23e;_0x490136[_0x43c5b1(0x17d)](),_0x148535[_0x43c5b1(0x103)][_0x43c5b1(0x272)]=_0x43c5b1(0x245);}),_0x51d299[_0x58a23e(0x2cd)](_0x58a23e(0x229),()=>{const _0x56a149=_0x58a23e;_0x148535['style'][_0x56a149(0x272)]=_0x56a149(0x245);}),_0x148535['style'][_0x58a23e(0x272)]=_0x58a23e(0x23f),_0x1452a6[_0x58a23e(0x29c)]=_0x58a23e(0x274)+_0x4a8c66+_0x58a23e(0x238)+_0x29f6d1+_0x58a23e(0xdb);const _0x4d556f=document[_0x58a23e(0x207)](_0x58a23e(0x126));_0x4d556f[_0x58a23e(0x1ec)]=_0x58a23e(0xcf);const _0x5021d1=document[_0x58a23e(0x207)]('option');_0x5021d1[_0x58a23e(0x1e5)]='0',_0x5021d1[_0x58a23e(0x19e)]=_0x58a23e(0x12a),_0x4d556f[_0x58a23e(0x18a)](_0x5021d1),myCompany[_0x58a23e(0x1a7)][_0x58a23e(0x155)](_0x9e7e7a=>{const _0x54efdf=_0x58a23e,_0xca2ab9=document[_0x54efdf(0x207)](_0x54efdf(0x1e1));_0xca2ab9[_0x54efdf(0x1e5)]=String(_0x9e7e7a[_0x54efdf(0x24f)]),_0xca2ab9[_0x54efdf(0x19e)]=_0x9e7e7a[_0x54efdf(0x20b)],_0x4d556f[_0x54efdf(0x18a)](_0xca2ab9);}),_0x4d556f[_0x58a23e(0x2cd)](_0x58a23e(0x187),function(){const _0x139780=_0x58a23e,_0x16297e=parseInt(this[_0x139780(0x1e5)],0xa);if(_0x16297e===0x0)return;typeof _0x274303===_0x139780(0xf5)&&_0x274303[_0x139780(0x265)]()[_0x139780(0x1a0)]>=0x1?generarStickersPDF(_0x16297e,_0x274303[_0x139780(0x265)](),_0x172fef):(ntfShow(_0x139780(0x2ae),0x2,0x2),this[_0x139780(0x1e5)]='0');}),_0x1452a6['appendChild'](_0x4d556f);var _0x2403a6=document[_0x58a23e(0x207)](_0x58a23e(0x1d8));_0x2403a6[_0x58a23e(0x295)]=_0x58a23e(0x1d8),_0x2403a6['className']=_0x58a23e(0x169),_0x2403a6[_0x58a23e(0x19e)]=_0x58a23e(0x121),_0x2403a6['addEventListener'](_0x58a23e(0x229),function(){const _0x201409=_0x58a23e,_0x13b9af=document[_0x201409(0x1f3)](_0x201409(0x226));_0x13b9af[_0x201409(0x103)][_0x201409(0x272)]=_0x201409(0x245),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x4e8dff),initializeFormInputsBasic(_0x4e8dff),initializeFormTax(_0x4e8dff),initializeFormCategoriesBrands(_0x4e8dff);}),_0x1452a6['appendChild'](_0x2403a6);if(_0x7b48de!=null){_0x1452a6[_0x58a23e(0x25a)](_0x58a23e(0x275),_0x58a23e(0x24a)+_0x7b48de['title']+_0x58a23e(0x1d9)+_0x7b48de[_0x58a23e(0x172)]+_0x58a23e(0x256));var _0x3c3561=document[_0x58a23e(0x1f3)](_0x58a23e(0x27f));_0x7b48de[_0x58a23e(0x295)]===0x1&&[_0x58a23e(0x13b),_0x58a23e(0x19a),_0x58a23e(0x180)][_0x58a23e(0x155)](function(_0x3cac6d){const _0x4d770b=_0x58a23e;var _0x2e74c4=document[_0x4d770b(0x207)](_0x4d770b(0x1d8));_0x2e74c4['textContent']=_0x3cac6d,_0x2e74c4[_0x4d770b(0x2cd)](_0x4d770b(0x229),function(){const _0x324add=_0x4d770b;console['log'](_0x324add(0x2a6)+_0x3cac6d+_0x324add(0x135)+_0x7b48de['id_registro']);}),_0x3c3561['appendChild'](_0x2e74c4);}),_0x7b48de[_0x58a23e(0x295)]===0x2&&[_0x58a23e(0x209),_0x58a23e(0x17b)]['forEach'](function(_0x58aec0){const _0x920b8e=_0x58a23e;var _0x5474f8=document[_0x920b8e(0x207)](_0x920b8e(0x1d8));_0x5474f8[_0x920b8e(0x19e)]=_0x58aec0,_0x5474f8[_0x920b8e(0x2cd)]('click',function(){const _0x39588f=_0x920b8e;console[_0x39588f(0x242)](_0x39588f(0x2a6)+_0x58aec0+_0x39588f(0x135)+_0x7b48de[_0x39588f(0x16d)]);}),_0x3c3561[_0x920b8e(0x18a)](_0x5474f8);});}}function ntf_formatDateDMY(_0x88bdcb){const _0x12e79d=_0xe4a87e;var _0x52f23a=new Date(_0x88bdcb),_0x4834cd=_0x52f23a[_0x12e79d(0x1ab)](),_0x42b1cf=_0x52f23a[_0x12e79d(0x268)](),_0x878a2c=monthsEspanish[_0x52f23a['getMonth']()];return _0x4834cd+_0x12e79d(0x13a)+_0x878a2c+_0x12e79d(0x23c)+_0x42b1cf;}function ntf_groupBy(_0x565aad,_0x39dfee){const _0x270f6f=_0xe4a87e;return _0x565aad[_0x270f6f(0x19d)](function(_0x57677c,_0x346b6c){const _0xbb4f57=_0x270f6f;var _0x534fc7=_0x346b6c[_0x39dfee];return _0x57677c[_0x534fc7]=_0x57677c[_0x534fc7]||[],_0x57677c[_0x534fc7][_0xbb4f57(0x2d4)](_0x346b6c),_0x57677c;},{});}function ntf_isExpired(_0x5d526f){const _0x4ad156=_0xe4a87e;if(!_0x5d526f)return![];var _0x2f956c=new Date();return _0x2f956c[_0x4ad156(0x21d)](0x0,0x0,0x0,0x0),new Date(_0x5d526f)<=_0x2f956c;}function ntf_getNotifications(){const _0x525546=_0xe4a87e;var _0x8530b7=parseInt(document[_0x525546(0x1f3)](_0x525546(0xe1))[_0x525546(0x1e5)],0xa),_0xd93337=ntf_groupBy(products,_0x525546(0x13e)),_0x237bb8=[];return Object['keys'](_0xd93337)[_0x525546(0x155)](function(_0x367760){const _0x59f08e=_0x525546;var _0x469d5d=_0xd93337[_0x367760],_0x237797=_0x469d5d[0x0],_0x2e922c=(_0x237797[_0x59f08e(0x1a3)]||[])[_0x59f08e(0x16b)](function(_0x511d83){const _0x77f89=_0x59f08e;return _0x511d83[_0x77f89(0x212)]==_0x8530b7;});if(!_0x2e922c)return;var _0x3b645d=parseFloat(_0x2e922c[_0x59f08e(0x1f2)]),_0x27ddfa=parseFloat(_0x2e922c[_0x59f08e(0x2b3)]);_0x237797[_0x59f08e(0xc9)]==0x1&&_0x3b645d<=_0x27ddfa&&_0x237bb8[_0x59f08e(0x2d4)]({'type':0x1,'id_registro':_0x237797['id'],'title':_0x59f08e(0x14b)+_0x237797[_0x59f08e(0x15d)],'message':_0x59f08e(0x1f9)+_0x237797[_0x59f08e(0x15d)]+_0x59f08e(0x1d0)+_0x27ddfa[_0x59f08e(0x11f)](0x3)+_0x59f08e(0xe7)+_0x3b645d['toFixed'](0x3)+'\x0a','data':{'producto':_0x237797,'stock':_0x3b645d,'minStock':_0x27ddfa}}),_0x237797[_0x59f08e(0x151)]&&ntf_isExpired(_0x237797[_0x59f08e(0x151)])&&_0x237bb8['push']({'type':0x2,'id_registro':_0x237797['id'],'title':_0x59f08e(0x243)+_0x237797[_0x59f08e(0x15d)],'message':_0x59f08e(0x211)+_0x237797[_0x59f08e(0x15d)]+_0x59f08e(0x17e)+ntf_formatDateDMY(_0x237797[_0x59f08e(0x151)])+'.<br>'+_0x59f08e(0xf0)+_0x3b645d[_0x59f08e(0x11f)](0x3),'data':{'producto':_0x237797,'expiration':_0x237797[_0x59f08e(0x151)]}});}),_0x237bb8;}function ntf_renderNotifications(){const _0x7000ab=_0xe4a87e;var _0x3b04be=ntf_getNotifications(),_0x690ad3=document[_0x7000ab(0x1f3)](_0x7000ab(0x20c)),_0xac7fc5=document[_0x7000ab(0x1f3)](_0x7000ab(0x102));_0x690ad3[_0x7000ab(0x29c)]='',_0xac7fc5[_0x7000ab(0x19e)]=_0x3b04be[_0x7000ab(0x1a0)];if(_0x3b04be['length']===0x0){var _0x3f1d04=document[_0x7000ab(0x207)]('li');_0x3f1d04[_0x7000ab(0x19e)]='No\x20hay\x20notificaciones',_0x690ad3['appendChild'](_0x3f1d04);return;}_0x3b04be[_0x7000ab(0x155)](function(_0x54efa0,_0x1258f8){const _0x50b8c4=_0x7000ab;var _0x9f6ea5=document['createElement']('li');_0x9f6ea5[_0x50b8c4(0x19e)]=_0x54efa0[_0x50b8c4(0x179)],_0x9f6ea5[_0x50b8c4(0x288)](_0x50b8c4(0x192),_0x1258f8),_0x690ad3[_0x50b8c4(0x18a)](_0x9f6ea5);});}document[_0xe4a87e(0x1f3)](_0xe4a87e(0xde))[_0xe4a87e(0x2cd)](_0xe4a87e(0x229),function(){const _0x5771e8=_0xe4a87e;document[_0x5771e8(0x1f3)](_0x5771e8(0x29f))[_0x5771e8(0x254)][_0x5771e8(0x2a3)]('hidden'),ntf_renderNotifications();}),document[_0xe4a87e(0x1f3)](_0xe4a87e(0x20c))[_0xe4a87e(0x2cd)](_0xe4a87e(0x229),function(_0x4e849e){const _0x21a0a2=_0xe4a87e,_0x363772=_0x4e849e['target'][_0x21a0a2(0x293)]('li');if(!_0x363772||!_0x363772['dataset'][_0x21a0a2(0x2a7)])return;const _0x3e68fa=ntf_getNotifications()[_0x363772['dataset'][_0x21a0a2(0x2a7)]];document['getElementById']('tabs-notifications')[_0x21a0a2(0x229)](),openModalDetailsAndNtf(_0x3e68fa[_0x21a0a2(0x1d2)]['producto']['id'],_0x3e68fa[_0x21a0a2(0x295)],_0x3e68fa);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x5eb26b,_0x5cf6c1=0x3,_0x138656=0x1){const _0x4a91eb=_0xe4a87e,_0x2f0810=document[_0x4a91eb(0x1f3)]('ntf-flotante-container'),_0x5d9808=document[_0x4a91eb(0x207)](_0x4a91eb(0x28a));let _0x27aecb;if(_0x5cf6c1==0x1)_0x27aecb='ntf-flotante-green';else _0x5cf6c1==0x2?_0x27aecb=_0x4a91eb(0x1fa):_0x27aecb='ntf-flotante-blue';let _0x4342b0;_0x138656==0x1?(_0x4342b0=_0x4a91eb(0x26b),_0x2f0810[_0x4a91eb(0x254)]['add'](_0x4a91eb(0x14c)),_0x2f0810[_0x4a91eb(0x254)][_0x4a91eb(0x219)](_0x4a91eb(0x2b2))):(_0x4342b0=_0x4a91eb(0x244),_0x2f0810['classList'][_0x4a91eb(0x17c)](_0x4a91eb(0x2b2)),_0x2f0810['classList'][_0x4a91eb(0x219)]('ntf-flotante-container-top')),_0x5d9808[_0x4a91eb(0x1ec)]='ntf-flotante-message\x20'+_0x27aecb+'\x20'+_0x4342b0,_0x5d9808['textContent']=_0x5eb26b,_0x2f0810[_0x4a91eb(0x18a)](_0x5d9808),_0x5d9808[_0x4a91eb(0x2cd)](_0x4a91eb(0x10e),()=>{const _0x45f219=_0x4a91eb;_0x5d9808[_0x45f219(0x219)]();});}function openDatabase(){const _0x1f3fc4=_0xe4a87e;if(db)return Promise[_0x1f3fc4(0x2b9)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x1feef1,_0x412a98)=>{const _0x3b4d49=_0x1f3fc4,_0x5808cf=indexedDB[_0x3b4d49(0x165)](db_name);_0x5808cf[_0x3b4d49(0x153)]=function(_0x22469c){const _0x40768d=_0x3b4d49;db=_0x22469c[_0x40768d(0x284)]['result'],console[_0x40768d(0x242)](_0x40768d(0x21e));},_0x5808cf[_0x3b4d49(0x147)]=function(_0xa09a3d){const _0x1c921e=_0x3b4d49;db=_0xa09a3d[_0x1c921e(0x284)]['result'],console['log'](_0x1c921e(0x11a)),_0x1feef1(db),dbPromise=null;},_0x5808cf[_0x3b4d49(0x1f4)]=function(_0xc2e12d){const _0x384c0b=_0x3b4d49;console['error']('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0xc2e12d[_0x384c0b(0x284)][_0x384c0b(0x1f0)]),_0x412a98(_0xc2e12d[_0x384c0b(0x284)]['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x650eda,_0x1f1703=![]){const _0xea86a7=_0xe4a87e;if(dbOperationInProgress)return Promise['reject'](_0xea86a7(0x1d3));return dbOperationInProgress=!![],openDatabase()[_0xea86a7(0x232)](_0x34ca39=>{const _0xbe735c=_0xea86a7,_0x32f662=_0xbe735c(0x13c),_0x4c6009='company',_0x85a9b3='offline_operations',_0x473248=_0xbe735c(0xf8),_0xaa7238=_0x650eda?_0xbe735c(0xd1)+_0x650eda:null,_0x2506eb=_0x650eda?'window_options_'+_0x650eda:null,_0x260a56=_0x1f1703||!_0x34ca39[_0xbe735c(0x17f)][_0xbe735c(0xce)](_0x32f662)||!_0x34ca39[_0xbe735c(0x17f)][_0xbe735c(0xce)](_0x4c6009)||!_0x34ca39[_0xbe735c(0x17f)][_0xbe735c(0xce)](_0x85a9b3)||!_0x34ca39[_0xbe735c(0x17f)]['contains'](_0x473248)||_0x650eda&&(!_0x34ca39['objectStoreNames'][_0xbe735c(0xce)](_0xaa7238)||!_0x34ca39[_0xbe735c(0x17f)][_0xbe735c(0xce)](_0x2506eb));if(!_0x260a56)return dbOperationInProgress=![],Promise[_0xbe735c(0x2b9)](_0x34ca39);const _0x71ab49=_0x34ca39[_0xbe735c(0x2ce)]+0x1;return _0x34ca39[_0xbe735c(0x281)](),new Promise((_0x303346,_0x44ae2b)=>{const _0x2334e6=_0xbe735c,_0x383ba8=indexedDB[_0x2334e6(0x165)](db_name,_0x71ab49);_0x383ba8['onupgradeneeded']=function(_0x20389d){const _0x250bce=_0x2334e6;db=_0x20389d[_0x250bce(0x284)]['result'];if(_0x1f1703)Array[_0x250bce(0x12b)](db['objectStoreNames'])[_0x250bce(0x155)](_0x3b5097=>{const _0x18c9ba=_0x250bce;_0x3b5097!==_0x85a9b3&&(db[_0x18c9ba(0x2d0)](_0x3b5097),console['log'](_0x18c9ba(0x1c8)+_0x3b5097+_0x18c9ba(0x2c5)));}),console[_0x250bce(0x242)](_0x250bce(0x2c1));else{!db[_0x250bce(0x17f)][_0x250bce(0xce)](_0x32f662)&&(db[_0x250bce(0xd0)](_0x32f662,{'keyPath':'id'}),console[_0x250bce(0x242)]('ObjectStore\x20\x27'+_0x32f662+_0x250bce(0x23e)));!db[_0x250bce(0x17f)]['contains'](_0x4c6009)&&(db[_0x250bce(0xd0)](_0x4c6009,{'keyPath':'id','autoIncrement':!![]}),console[_0x250bce(0x242)](_0x250bce(0x1c8)+_0x4c6009+'\x27\x20creado\x20correctamente.'));!db['objectStoreNames']['contains'](_0x85a9b3)&&(db[_0x250bce(0xd0)](_0x85a9b3,{'keyPath':'id','autoIncrement':!![]}),console[_0x250bce(0x242)](_0x250bce(0x1c8)+_0x85a9b3+_0x250bce(0x23e)));!db[_0x250bce(0x17f)][_0x250bce(0xce)](_0x473248)&&(db[_0x250bce(0xd0)](_0x473248,{'keyPath':'id'}),console[_0x250bce(0x242)](_0x250bce(0x1c8)+_0x473248+'\x27\x20creado\x20correctamente.'));if(_0x650eda){if(!db[_0x250bce(0x17f)][_0x250bce(0xce)](_0xaa7238)){const _0x553f40=db[_0x250bce(0xd0)](_0xaa7238,{'keyPath':'id','autoIncrement':!![]});_0x553f40['createIndex'](_0x250bce(0x234),'cartId',{'unique':!![]}),console[_0x250bce(0x242)](_0x250bce(0x1c8)+_0xaa7238+_0x250bce(0x23e));}!db[_0x250bce(0x17f)]['contains'](_0x2506eb)&&(db[_0x250bce(0xd0)](_0x2506eb,{'keyPath':'id','autoIncrement':!![]}),console[_0x250bce(0x242)](_0x250bce(0x1c8)+_0x2506eb+_0x250bce(0x23e)));}}},_0x383ba8[_0x2334e6(0x147)]=function(_0x16a794){const _0x4d295d=_0x2334e6;db=_0x16a794[_0x4d295d(0x284)]['result'],dbOperationInProgress=![],console[_0x4d295d(0x242)]('Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.'),_0x303346(db);},_0x383ba8['onerror']=function(_0x4baaa4){const _0x8e6207=_0x2334e6;console['error'](_0x8e6207(0x108),_0x4baaa4[_0x8e6207(0x284)][_0x8e6207(0x1f0)]),dbOperationInProgress=![],_0x44ae2b(_0x4baaa4['target']['error']);};});})[_0xea86a7(0x204)](_0x57f6b5=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0xea86a7(0x21a)](()=>{dbOperationInProgress=![];});}function _0x967e(){const _0x2d8e2f=['Error\x20en\x20updateTab\x20o\x20renderWindowOptions','setItemIsSold','info','Registrar\x20movimiento','append','filter','reduce','textContent','objectStore','length','backgroundColor','Error\x20Update:','sucursales','\x20...','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','33x54xsystem','setCodeBarTypes','setSeries','mozRequestFullScreen','setCompanyAddress','getDate','readyState','number','newItems','application/json','setDescuentoGlobal_Monto','Error\x20','concat','set','fixed','createObjectURL','setItemImages','setTipoOperacionInvoice','setCartTmpInitial','OPEN','get','windowId','slice','setImages','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','Procesamiento\x20de\x20datos\x20exitoso\x20...','setId','Nombre\x20de\x20store\x20no\x20válido:\x20','put','installing','layout','Arrays\x20actualizados\x20para\x20windowId\x20','day','exception','ObjectStore\x20\x27','setCredentialsApiWAChat','detalleModalLayout','setMtoValorUnitario','offsetWidth','/wa/','ambientes','32system','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','controller','data','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','TEXTAREA','reload','widthOfTextAtSize','active','button','</h3><p>','onloadend','fullscreen-btn','usuario','requestFullscreen','activeElement','f34f','setOperationSeries','option','WebSocket\x20conectado.','Error\x20al\x20guardar\x20el\x20layout:\x20','setClienteTipoDoc','value','setPriceLists','rgba(0,\x200,\x200,\x200.5)','setWarehouses','setCodProducto','setCompanyEmail','SW\x20Success','className','onstatechange','documento.pdf','reason','error','./img/product.png','setSucursalStock','getElementById','onerror','searchInput','dataset','serviceWorker','getItem','\x0aEl\x20producto\x20\x22','ntf-flotante-orange','offsetHeight','transform','setUsuarios','setClienteNumDoc','julio','S02','64system','agosto','setCredentialsApiWAChatIdDefault','catch','xtt3','No\x20hay\x20operaciones\x20para\x20sincronizar.','createElement','justifyContent','Revisar\x20lote','x64','setCodeBarTypeName','ntf-notifications-list','setItemDescription','#container-section-pay-','setProductos','transaction','El\x20producto\x20\x22','setIdSucursal','Evento\x20windowsUpdate\x20recibido.','register','btnSaveOperacion-','installed','100%','Error\x20al\x20obtener\x20las\x20operaciones:\x20','remove','finally','Plan\x20Impulsa','Solo\x20necesitas\x20internet\x20para\x20acceder!','setHours','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','webkitRequestFullscreen','setCartTmp','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','oncomplete','webkitExitFullscreen','startsWith','S01','itemModal','setFechaHora','pcrcl','click','navigator','topbar','setBranchId','msRequestFullscreen','createElementNS','setUserNombres','Error\x20al\x20actualizar\x20data\x20online:','][setItemImages][','then','setTaxId','cartId','focus','setCustomerEmail','canvas','\x20-\x20','Error\x20al\x20enviar\x20operación\x20offline:','.dropdown-item-pais-flag','newItems[','\x20del\x20','Error\x20desconocido.','\x27\x20creado\x20correctamente.','flex','company','(((.+)+)+)+$','log','Producto\x20vencido:\x20','ntf-flotante-bottom','none','Enter','onupdatefound','setMtoPrecioCostoUnitario','apiERP','\x0a<h3>','1361695FJoGmz','setCategoria','5959812SmmlRj','mx08','setCodeBarTypeId','Error:\x20Domain\x20not\x20registered.','.modal-overlay-carousel','.modal-close-carousel','d-none','classList','153208zLqzqJ','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','readonly','constructor','search','insertAdjacentHTML','sort','3535742kXoXmu','Generando\x20','mozCancelFullScreen','loadingModal','setClienteDenominacion','some','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','1803537TzkpUv','mx16','trim','pos','enero','getFullYear','create','abril','ntf-flotante-top','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','webkitFullscreenElement','setCredentialsApiWAChatPort','INPUT','setUserCode','setSuppliers','display','Item','\x0a<h3\x20class=\x22infoItem-title\x22>','beforeend','setShifts','min','substr','msFullscreenElement','size','disabled','alignItems','src','setItemVariantValues','ntf-modal-actions','statusText','close','Company\x20Empty.','currency_data','target','cloneNode','setEmpresaDomainWork','setLayout','setAttribute','.dropdown-list-pais-flag','div','windowIds\x20previamente\x20creados:','every','shiftKey','replaceWith','Error\x20en\x20WebSocket','drawText','setWindows','setObservacion','closest','__proto__','type','POST','octubre','lastTs','Sincronizando\x20','embedPng','setBranches','innerHTML','mayo','setUserName','ntf-notification-dropdown','setAuthToken','alt','protocol','toggle','stringify','querySelectorAll','Acción\x20\x22','ntfIndex','setPlanName','__test_ls__','Error\x20desconocido\x20al\x20actualizar\x20Data.','setConversionFactor','offline_operations','setUserFullName','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','CODE128','key','center','ntf-flotante-container-bottom','setWarehouseStockMin','setBranchDefault','random','save','setImpuestos','7078800jJrTDG','resolve','No\x20es\x20un\x20array\x20valido:','wss','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','lbtom','x64c','uy22','getContext','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','exitFullscreen','prototype','top','\x27\x20eliminada.','application/json;\x20charset=utf-8','pop','trace','Bienvenido(a)\x20','./app.js?v=4.2.4','setMessage','Tab','addEventListener','version','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','deleteObjectStore','charCodeAt','Error\x20al\x20enviar\x20correo:','indexOf','push','selectedCode','width','sectionInfoItem','Products\x20Load.','AR0','ltop','body','setInventariable','map','setCompanyWebsite','noviembre','all','contains','barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal','createObjectStore','cart_','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.2.4\x20...</span>','apply','.carousel-prev','setCredentialsApiWAChatId','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.2.4\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','msExitFullscreen','setCajeroCodigo','setCollaborators','.carousel-track','</h3>\x0a','setSellerName','password','tabs-notifications','Inicio\x20de\x20sesión\x20exitoso\x20...','setCustomers','setWarehouseId','MX20','setImpuestoValue','height','xpos','now','<br>\x0aStock\x20Actual:\x20','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setMtoValorCostoUnitario','setItemId','getClientRects','setUsers','https://apierp.dev/api/email/send/','setPrinters','setCompanyLogo','Stock\x20Actual:\x20','setUserEmail','setItemBarCode','setItem','\x20–\x20','string','onLine','Error\x20guardando\x20operación:\x20','layoutState','Backspace','Products\x20Empty.','setImg','.product[tabindex=\x270\x27]','Error\x20Network.','toDataURL','Error\x20procesando\x20mensaje\x20WS','mimetype','Mensaje\x20WS\x20no\x20reconocido:','ntf-notif-count','style','embedFont','Error\x20en\x20la\x20solicitud:','console','values','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','currency','64x32xsystem','ar10.5','updateLastCorrelative','https://apierp.dev/api/company/get/','animationend','CL0','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','position','toString','getAll','Producto\x20con\x20id\x20','counter','text','.carousel-next','setWebhook','preventDefault','Base\x20de\x20datos\x20abierta\x20correctamente.','febrero','setItemType','/send','\x20operaciones\x20restantes...','toFixed','setWindowId','Agregar\x20Variantes','setCredentialsApiWAChatSubdomain','result','setBranchName','setCredentialsApiWAChatAlias','select','block','setBatchName','includes','Imprimir\x20Código\x20de\x20Barras','from','split','login','User\x20no\x20Logged!','setWindowName','port','Delete','.payment-option','uniqIdState','json','\x22\x20para\x20registro\x20#','setCompanyDoc','isArray','parse','has','\x20de\x20','Generar\x20Orden\x20de\x20Compra','products','Modo\x20online\x20...','setIdProducto','hidden','setSerie','setCurrencyDefault','https:','infoLoadingModal','return\x20(function()\x20','setFloorId','setAttachEdit','onsuccess','Tab\x20count\x20inicializado\x20en:\x20','setCompanyName','setItemIsBought','Stock\x20mínimo:\x20','ntf-flotante-container-top','Products\x20Load\x20Error:','junio','success','btn-access-login','setBatchExpirationDate','setUser_Local','onupgradeneeded','Error\x20in\x20saving\x20to\x20store\x20','forEach','reject','setTipoOperacion','input,\x20select,\x20button,\x20a:not(.payment-option)','fullscreenElement','pdfBlob','payment-option','6518384fDLsrz','setDescripcion','windowsUpdate','septiembre','setWarehouseName','table','setUnidad','querySelector','http://www.w3.org/2000/svg','open','UY0','left','SW\x20New\x20Version','btn-details-ntf-variant','setMoneda-','find','x63s','id_registro','opacity','{}.constructor(\x22return\x20this\x22)(\x20)','rgf4x32','setCorrelativo','message','keys','setBankAccounts','setTipAfeIgv','caption','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','status','title','onclick','Eliminar\x20producto','add','stopPropagation','\x22\x20expiró\x20el\x20','objectStoreNames','Ver\x20movimientos','data:image/svg+xml;base64,','documentElement','marzo','filename','readwrite','drawImage','change','bind','keydown','appendChild','Credenciales\x20no\x20encontradas','HTTP\x20','setImageUrl','1oKjmaz','CLOSED','setCompanyPhone','window_options_','data-ntf-index','x32','clear','Helvetica','warn'];_0x967e=function(){return _0x2d8e2f;};return _0x967e();}async function processOfflineOperations(){const _0x206236=_0xe4a87e;if(!isOnline())return Promise[_0x206236(0x2b9)]();try{const _0x4fdc09=await createCartStore(''),_0x5b40f1=_0x4fdc09[_0x206236(0x210)](_0x206236(0x2ac),'readonly'),_0x31559c=_0x5b40f1[_0x206236(0x19f)]('offline_operations'),_0x295ef4=await new Promise((_0x1dc251,_0x420734)=>{const _0x3021e0=_0x206236,_0x150d89=_0x31559c[_0x3021e0(0x113)]();_0x150d89[_0x3021e0(0x147)]=()=>_0x1dc251(_0x150d89[_0x3021e0(0x123)]),_0x150d89[_0x3021e0(0x1f4)]=()=>_0x420734(new Error(_0x3021e0(0x218)+_0x150d89[_0x3021e0(0x1f0)]));}),_0x104c04=_0x295ef4[_0x206236(0x19c)](_0x1044a8=>_0x1044a8['apiPOSsendOffline']==0x1);if(_0x104c04['length']===0x0){console['log'](_0x206236(0x206));return;}const _0x4bdf01=_0x104c04[_0x206236(0x19c)](_0x4d715c=>_0x4d715c[_0x206236(0x157)]==0x64),_0x57df19=_0x104c04[_0x206236(0x19c)](_0x452ce3=>_0x452ce3[_0x206236(0x157)]!=0x64),_0x5a4ae4=_0x32bdf6=>_0x32bdf6['sort']((_0x23fc96,_0x178f7a)=>{const _0x2d4e14=_0x206236,_0x327c9b=[0x1,0x2,0x3],_0x5398db=_0x1aaadd=>Array[_0x2d4e14(0x137)](_0x1aaadd['newItems'])&&_0x1aaadd[_0x2d4e14(0x1ae)]['some'](_0x34a2e5=>_0x327c9b[_0x2d4e14(0x129)](_0x34a2e5[_0x2d4e14(0x11c)])),_0x457fa2=_0x5398db(_0x23fc96),_0x567109=_0x5398db(_0x178f7a);if(_0x457fa2&&!_0x567109)return-0x1;if(!_0x457fa2&&_0x567109)return 0x1;const _0x1d5b00=Math['min'](..._0x23fc96[_0x2d4e14(0x1ae)]['map'](_0x40bffa=>_0x40bffa[_0x2d4e14(0x11c)])),_0x2baa8b=Math['min'](..._0x178f7a[_0x2d4e14(0x1ae)][_0x2d4e14(0xca)](_0x42e757=>_0x42e757[_0x2d4e14(0x11c)]));return _0x1d5b00-_0x2baa8b;}),_0x1a5791=_0x4bdf01[_0x206236(0x19c)](_0x4df9f6=>Array[_0x206236(0x137)](_0x4df9f6[_0x206236(0x1ae)])&&_0x4df9f6[_0x206236(0x1ae)][_0x206236(0x28c)](_0x1e3a2a=>!_0x1e3a2a[_0x206236(0xea)])),_0x4b6539=_0x4bdf01[_0x206236(0x19c)](_0x474c05=>Array['isArray'](_0x474c05[_0x206236(0x1ae)])&&_0x474c05[_0x206236(0x1ae)]['every'](_0x76c7d=>_0x76c7d[_0x206236(0xea)]));_0x5a4ae4(_0x1a5791),_0x5a4ae4(_0x4b6539);const _0x4497c5=[..._0x1a5791,..._0x4b6539];function _0x30338c(_0x53653d,_0x3e4ca8){return new Promise((_0x44cf62,_0x4bd666)=>{const _0xfb5769=_0xdaea,_0x34ab0e=_0x53653d['transaction']('offline_operations',_0xfb5769(0x185)),_0x444a7d=_0x34ab0e[_0xfb5769(0x19f)](_0xfb5769(0x2ac)),_0x4b2624=_0x444a7d[_0xfb5769(0x1c2)](_0x3e4ca8);_0x4b2624[_0xfb5769(0x147)]=()=>_0x44cf62(),_0x4b2624[_0xfb5769(0x1f4)]=_0x54809a=>_0x4bd666(new Error(_0xfb5769(0xf7)+_0x54809a[_0xfb5769(0x284)][_0xfb5769(0x1f0)]));});}async function _0x3a02b2(_0x31d35e){const _0x512bda=_0x206236;for(const _0x34c9db of _0x31d35e){_0x34c9db[_0x512bda(0x157)]===0x64&&Array[_0x512bda(0x137)](_0x34c9db['newItems'])&&_0x34c9db[_0x512bda(0x1ae)][_0x512bda(0x25b)]((_0x2df794,_0x35dd13)=>{const _0x30ac24=_0x512bda,_0x9421b0=[0x1,0x2,0x3],_0x4d08a2=_0x9421b0[_0x30ac24(0x129)](_0x2df794[_0x30ac24(0x11c)]),_0x5c81f8=_0x9421b0['includes'](_0x35dd13[_0x30ac24(0x11c)]);if(_0x4d08a2&&!_0x5c81f8)return-0x1;if(!_0x4d08a2&&_0x5c81f8)return 0x1;return _0x2df794[_0x30ac24(0x11c)]-_0x35dd13[_0x30ac24(0x11c)];});const _0x1d1e5d=new FormData();_0x1d1e5d['append']('invoice',JSON[_0x512bda(0x2a4)](_0x34c9db));if(_0x34c9db[_0x512bda(0x15a)]instanceof Blob&&_0x34c9db[_0x512bda(0x15a)][_0x512bda(0x27a)]>0x0)_0x1d1e5d['append']('pdfBlob',_0x34c9db[_0x512bda(0x15a)],_0x512bda(0x1ee));else _0x34c9db['pdfBlob']&&console[_0x512bda(0x196)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x34c9db[_0x512bda(0x157)]==0x64&&Array[_0x512bda(0x137)](_0x34c9db[_0x512bda(0x1ae)])&&_0x34c9db[_0x512bda(0x1ae)]['forEach']((_0x48bcdf,_0x3dd186)=>{const _0x51a16c=_0x512bda;Array[_0x51a16c(0x137)](_0x48bcdf['setItemImages'])&&_0x48bcdf[_0x51a16c(0x1b6)][_0x51a16c(0x155)]((_0x4d8d09,_0x2722ad)=>{const _0x4c71b3=_0x51a16c;_0x4d8d09 instanceof Blob&&_0x4d8d09[_0x4c71b3(0x27a)]>0x0?_0x1d1e5d[_0x4c71b3(0x19b)](_0x4c71b3(0x23b)+_0x3dd186+_0x4c71b3(0x231)+_0x2722ad+']',_0x4d8d09,_0x4d8d09['name']):console[_0x4c71b3(0x196)]('Imagen\x20inválida\x20en\x20newItems['+_0x3dd186+'].setItemImages['+_0x2722ad+']\x20–\x20se\x20omite.');});});try{const _0xa69a51=await fetch(_0x34c9db[_0x512bda(0x118)],{'method':'POST','body':_0x1d1e5d});if(!_0xa69a51['ok'])throw new Error(_0x512bda(0x18c)+_0xa69a51[_0x512bda(0x178)]+_0x512bda(0xf4)+_0xa69a51[_0x512bda(0x280)]);const _0x3d4597=await _0xa69a51[_0x512bda(0x134)]();!_0x3d4597[_0x512bda(0x14f)]?_0x34c9db[_0x512bda(0x2cb)]=_0x3d4597[_0x512bda(0x172)]||_0x512bda(0x23d):(_0x34c9db['apiPOSsendOffline']=0x0,delete _0x34c9db[_0x512bda(0x2cb)]);}catch(_0xd7f48){console[_0x512bda(0x1f0)](_0x512bda(0x239),_0xd7f48),_0x34c9db['setMessage']=_0xd7f48[_0x512bda(0x172)];}await _0x30338c(_0x4fdc09,_0x34c9db);}}_0x4497c5[_0x206236(0x1a0)]&&(console['log'](_0x206236(0x299)+_0x4497c5[_0x206236(0x1a0)]+_0x206236(0x262)),await _0x3a02b2(_0x4497c5)),_0x57df19[_0x206236(0x1a0)]&&(console[_0x206236(0x242)]('Sincronizando\x20'+_0x57df19[_0x206236(0x1a0)]+_0x206236(0x11e)),await _0x3a02b2(_0x57df19)),console['log']('Sincronización\x20completada\x20correctamente.');}catch(_0xd67244){console['error']('Error\x20al\x20procesar\x20operaciones\x20offline:',_0xd67244);}}function apiERPsaveOnline(_0xe7d561,_0x2f1e49,_0x21782b,_0x5b3384,_0x50b0cf){const _0xa374f3=_0xe4a87e;if(!isOnline())return console['log']('Error\x20Network.'),Promise['reject'](_0xa374f3(0xfd));const _0x7c1a9f={'setAuthToken':_0xe7d561,'setBranches':_0x2f1e49,'setUsers':_0x21782b,'setSeries':_0x5b3384,'setPrinters':_0x50b0cf};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':_0xa374f3(0x296),'headers':{'Content-Type':_0xa374f3(0x1af)},'body':JSON[_0xa374f3(0x2a4)](_0x7c1a9f)})[_0xa374f3(0x232)](_0x5e7ba1=>{const _0x15797c=_0xa374f3;if(!_0x5e7ba1['ok'])throw new Error(_0x15797c(0x1e3)+_0x5e7ba1[_0x15797c(0x280)]);return _0x5e7ba1[_0x15797c(0x134)]();})[_0xa374f3(0x232)](_0xeadf7f=>{const _0x4d0b60=_0xa374f3;if(!_0xeadf7f[_0x4d0b60(0x14f)])throw new Error(_0xeadf7f[_0x4d0b60(0x172)]||_0x4d0b60(0x2aa));return console[_0x4d0b60(0x242)](_0x4d0b60(0x2bc)),_0xeadf7f;})[_0xa374f3(0x204)](_0x78d292=>{const _0x5ccc63=_0xa374f3;console[_0x5ccc63(0x1f0)](_0x5ccc63(0x230),_0x78d292);throw _0x78d292;});}async function acceder(){const _0x2785d1=_0xe4a87e;if(!isOnline()){alert(_0x2785d1(0x21c));throw new Error('Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!');}const _0x947d1=document[_0x2785d1(0x1f3)](_0x2785d1(0x150)),_0x3e8568=document[_0x2785d1(0x1f3)]('usuario')[_0x2785d1(0x1e5)],_0x5f0848=document[_0x2785d1(0x1f3)](_0x2785d1(0xdd))['value'];_0x947d1[_0x2785d1(0x27b)]=!![];if(!_0x3e8568||!_0x5f0848){alert('Todos\x20los\x20campos\x20son\x20obligatorios.'),_0x947d1[_0x2785d1(0x27b)]=![];return;}console[_0x2785d1(0x242)](_0x2785d1(0x13d)),showLoadingModal();const _0x265caf={'usuario':_0x3e8568,'password':_0x5f0848};try{const _0x59d747=await fetch(_0x2785d1(0x10d),{'method':_0x2785d1(0x296),'headers':{'Content-Type':_0x2785d1(0x1af)},'body':JSON[_0x2785d1(0x2a4)](_0x265caf)}),_0x22fb4c=await _0x59d747['json']();if(!(_0x22fb4c[_0x2785d1(0x14f)]&&Array['isArray'](_0x22fb4c[_0x2785d1(0x172)]))){alert(_0x22fb4c[_0x2785d1(0x172)]),_0x947d1[_0x2785d1(0x27b)]=![],hideLoadingModal();throw new Error(_0x22fb4c[_0x2785d1(0x172)]);}const _0x186440=document[_0x2785d1(0x1f3)]('infoLoadingModal');_0x186440[_0x2785d1(0x29c)]=_0x2785d1(0xdf);const _0x41b8db=_0x22fb4c[_0x2785d1(0x172)],{setApiEndPoint:_0x57f77d,setAuthToken:_0x46f104,setUser_Local:_0x26320d}=_0x41b8db[0x0],_0x26c677={'apiPOS_getAccessData':0x1,'setToken':_0x46f104,'setUserLocalUserName':_0x26320d['setUserName']},_0x37082a=await fetch(_0x57f77d,{'method':_0x2785d1(0x296),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x26c677)}),_0x45ff74=await _0x37082a[_0x2785d1(0x134)]();if(!(_0x45ff74['success']===!![])){_0x186440[_0x2785d1(0x29c)]='Error:\x20'+_0x45ff74[_0x2785d1(0x172)]+_0x2785d1(0x1a4),setTimeout(()=>location['reload'](),0x1388);return;}_0x186440[_0x2785d1(0x29c)]=_0x2785d1(0x1bf);const _0x51c843=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x20f)]['map'](_0x55b743=>{const _0x39d330=_0x2785d1,_0x5a281e=_0x55b743[_0x39d330(0x1c0)]||'',_0x41edba=_0x55b743[_0x39d330(0x13e)]||'',_0x332bd3=_0x55b743[_0x39d330(0x11c)]||'1',_0x58edee=_0x55b743[_0x39d330(0x1e9)]||'',_0x1a21e5=_0x55b743[_0x39d330(0xf2)]||'',_0x39bbbf=_0x55b743[_0x39d330(0x15d)]||'',_0x42ac5f=_0x55b743[_0x39d330(0x20d)]||'',_0x2a4332=_0x55b743['setUnidadCodigo']||'',_0x27efed=_0x55b743[_0x39d330(0x162)]||'',_0x7eca9=_0x55b743['setItemUnitAlias']||'',_0x7d8412=_0x55b743[_0x39d330(0x233)]||'',_0x22be0d=_0x55b743[_0x39d330(0x175)]||'10',_0x247c39=_0x41b8db[0x0][_0x39d330(0x2b7)][_0x39d330(0x16b)](_0x15730d=>_0x15730d[_0x39d330(0x233)]==_0x7d8412)?.[_0x39d330(0xe3)]||0x0,_0xde499e=parseFloat(_0x55b743[_0x39d330(0xc9)])||0x1,_0x37ce81=_0x55b743[_0x39d330(0x24c)]||'',_0x7f2142=_0x55b743['setMarca']||'',_0x1741dc=_0x55b743[_0x39d330(0xfb)]||_0x39d330(0x1f1),_0x49f969=_0x55b743[_0x39d330(0x2ab)]||0x1,_0x42ac8c=_0x55b743[_0x39d330(0x128)]||'',_0x2f37d6=_0x55b743['setBatchExpirationDate']||'',_0x2563f4=(_0x55b743[_0x39d330(0x283)]||[])['map'](_0x5bb8c2=>{const _0x1b7374=_0x39d330,_0x9850d2=parseFloat(_0x5bb8c2[_0x1b7374(0x1cb)])||0x0,_0x51686d=parseFloat(_0x5bb8c2['setMtoPrecioUnitario'])||0x0,_0x1bfa11=parseFloat(_0x5bb8c2[_0x1b7374(0xe9)])||0x0,_0x31afb4=parseFloat(_0x5bb8c2[_0x1b7374(0x248)])||0x0,_0x5ef7f9=_0x5bb8c2[_0x1b7374(0x1e6)]||[];let _0x169e70=0x0,_0x2e3036=0x0;if(_0x9850d2>0x0)_0x169e70=_0x9850d2,_0x2e3036=setTipAfeImpGravados['some'](_0x3afac6=>_0x3afac6==_0x22be0d)?_0x9850d2+_0x9850d2*_0x247c39/0x64:_0x9850d2;else _0x51686d>0x0&&(_0x2e3036=_0x51686d,_0x169e70=setTipAfeImpGravados[_0x1b7374(0x261)](_0x31058d=>_0x31058d==_0x22be0d)?_0x51686d/(0x1+_0x247c39/0x64):_0x51686d);let _0x25abb1=0x0,_0x3ac4e2=0x0;if(_0x1bfa11>0x0)_0x25abb1=_0x1bfa11,_0x3ac4e2=setTipAfeImpGravados[_0x1b7374(0x261)](_0x33681=>_0x33681==_0x22be0d)?_0x1bfa11+_0x1bfa11*_0x247c39/0x64:_0x1bfa11;else _0x31afb4>0x0&&(_0x3ac4e2=_0x31afb4,_0x25abb1=setTipAfeImpGravados['some'](_0x21db3f=>_0x21db3f==_0x22be0d)?_0x31afb4/(0x1+_0x247c39/0x64):_0x31afb4);return{'currency':_0x5bb8c2[_0x1b7374(0x109)],'setMtoValorUnitario':_0x169e70,'setMtoPrecioUnitario':_0x2e3036,'setMtoValorCostoUnitario':_0x25abb1,'setMtoPrecioCostoUnitario':_0x3ac4e2,'setPriceLists':_0x5ef7f9};});if(_0x7d8412!==''&&_0x5a281e!==''&&_0x58edee!==''&&_0x39bbbf!=='')return{'id':_0x5a281e,'setItemType':_0x332bd3,'setIdProducto':_0x41edba,'setCodProducto':_0x58edee,'setItemBarCode':_0x1a21e5,'setDescripcion':_0x39bbbf,'setItemDescription':_0x42ac5f,'setUnidadCodigo':_0x2a4332,'setUnidad':_0x27efed,'setItemUnitAlias':_0x7eca9,'setPorcentajeIgv':_0x247c39,'setTaxId':_0x7d8412,'setTipAfeIgv':_0x22be0d,'setInventariable':_0xde499e,'setCategoria':_0x37ce81,'setMarca':_0x7f2142,'setImg':_0x1741dc,'setConversionFactor':_0x49f969,'setBatchName':_0x42ac8c,'setBatchExpirationDate':_0x2f37d6,'setItemIsBought':_0x55b743[_0x39d330(0x14a)],'setItemIsSold':_0x55b743[_0x39d330(0x198)],'sucursales':_0x55b743[_0x39d330(0x1a3)]||[],'setPrinters':_0x55b743[_0x39d330(0xee)]||[],'currency_data':_0x2563f4,'setImages':_0x55b743[_0x39d330(0x1bd)]||[],'setItemVariantValues':_0x55b743[_0x39d330(0x27e)]||[]};return null;})[_0x2785d1(0x19c)](Boolean);_0x41b8db[0x0][_0x2785d1(0xef)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0xef)],_0x41b8db[0x0][_0x2785d1(0x136)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x136)],_0x41b8db[0x0][_0x2785d1(0x149)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x149)],_0x41b8db[0x0]['setCompanyNameTrade']=_0x45ff74['message']['setCompanyNameTrade'],_0x41b8db[0x0][_0x2785d1(0x1aa)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x1aa)],_0x41b8db[0x0][_0x2785d1(0x190)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x190)],_0x41b8db[0x0][_0x2785d1(0x1ea)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x1ea)],_0x41b8db[0x0]['setCompanyWebsite']=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0xcb)],_0x41b8db[0x0][_0x2785d1(0x29b)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x29b)],_0x41b8db[0x0][_0x2785d1(0x1fd)]=_0x45ff74['message']['setUsuarios'],_0x41b8db[0x0]['setSeries']=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x1a8)],_0x41b8db[0x0]['setPrinters']=_0x45ff74[_0x2785d1(0x172)]['setPrinters'],_0x41b8db[0x0][_0x2785d1(0x141)]=_0x45ff74[_0x2785d1(0x172)]['setCurrencyDefault'],_0x41b8db[0x0][_0x2785d1(0x174)]=_0x45ff74['message']['setBankAccounts'],_0x41b8db[0x0][_0x2785d1(0xe0)]=_0x45ff74['message']['setCustomers'],_0x41b8db[0x0]['setSuppliers']=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x271)],_0x41b8db[0x0][_0x2785d1(0x276)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0x276)],_0x41b8db[0x0][_0x2785d1(0xd9)]=_0x45ff74[_0x2785d1(0x172)][_0x2785d1(0xd9)],_0x186440['innerHTML']='Sincronizando\x20...';const _0x55afce=await createCartStore('');await clearAndStore(_0x55afce,_0x2785d1(0x13c),_0x51c843),await clearAndStore(_0x55afce,_0x2785d1(0xf8),[{'id':_0x2785d1(0x1c4),..._0x41b8db[0x0][_0x2785d1(0x287)]}]),await apiERPsaveOnline(_0x46f104,_0x41b8db[0x0]['setBranches'],_0x41b8db[0x0][_0x2785d1(0x1fd)],_0x41b8db[0x0]['setSeries'],_0x41b8db[0x0][_0x2785d1(0xee)]);const _0x44c9d7=await fetch('https://apierp.dev/api/apiPOS/get/',{'method':_0x2785d1(0x296),'headers':{'Content-Type':_0x2785d1(0x2c6)},'body':JSON['stringify']({'setAuthToken':_0x46f104,'setUserId':_0x26320d['setUserId']})}),_0x352963=await _0x44c9d7['json']();if(_0x352963[_0x2785d1(0x14f)])_0x41b8db[0x0][_0x2785d1(0x291)]=_0x352963[_0x2785d1(0x172)][_0x2785d1(0x291)],_0x41b8db[0x0][_0x2785d1(0xec)]=_0x352963[_0x2785d1(0x172)]['setUsers'],_0x41b8db[0x0][_0x2785d1(0xee)]=_0x352963[_0x2785d1(0x172)][_0x2785d1(0xee)];else{console[_0x2785d1(0x1f0)](_0x2785d1(0x1a2),_0x352963[_0x2785d1(0x172)]);return;}await saveCompanyToIndexedDB(_0x41b8db,_0x55afce);if(!_0x41b8db[0x0][_0x2785d1(0x291)]||_0x41b8db[0x0][_0x2785d1(0x291)][_0x2785d1(0x1a0)]===0x0){console['error']('Error:\x20No\x20hay\x20ventanas\x20disponibles.');return;}for(const _0x3470c9 of _0x41b8db[0x0]['setWindows']){await new Promise(_0x488d5a=>setTimeout(_0x488d5a,0x12c)),await createCartStore(_0x3470c9[_0x2785d1(0x120)]),_0x186440[_0x2785d1(0x29c)]=_0x2785d1(0x25d)+_0x3470c9[_0x2785d1(0x12f)]+'\x20...';}_0x186440['innerHTML']=_0x2785d1(0x2c9)+_0x26320d[_0x2785d1(0x22f)]+_0x2785d1(0x1a4),setTimeout(()=>location[_0x2785d1(0x1d5)](),0x7d0);}catch(_0x941c5){console['error']('Error\x20en\x20la\x20solicitud:',_0x941c5),_0x947d1[_0x2785d1(0x27b)]=![],hideLoadingModal(),alert(_0x941c5);throw _0x941c5;}}function clearAndStore(_0x4a7ecc,_0x44f96a,_0x22d800){return new Promise((_0x1d2a96,_0x8bf5ce)=>{const _0x55e6c9=_0xdaea,_0x181fb0=_0x4a7ecc[_0x55e6c9(0x210)](_0x44f96a,_0x55e6c9(0x185)),_0x282c6d=_0x181fb0[_0x55e6c9(0x19f)](_0x44f96a),_0x2ad183=_0x282c6d['clear']();_0x2ad183[_0x55e6c9(0x147)]=()=>{const _0x4f5cc2=_0x55e6c9;_0x22d800[_0x4f5cc2(0x155)](_0x26e708=>_0x282c6d[_0x4f5cc2(0x1c2)](_0x26e708));},_0x181fb0[_0x55e6c9(0x222)]=()=>_0x1d2a96(),_0x181fb0[_0x55e6c9(0x1f4)]=()=>_0x8bf5ce(new Error(_0x55e6c9(0x154)+_0x44f96a+'!'));});}function _0xdaea(_0x145704,_0x55a668){const _0x276897=_0x967e();return _0xdaea=function(_0x2f8124,_0x34eaef){_0x2f8124=_0x2f8124-0xc5;let _0x4d7848=_0x276897[_0x2f8124];return _0x4d7848;},_0xdaea(_0x145704,_0x55a668);}async function logoutReload(_0x2501f1=0x0,_0x19903c){const _0xede310=_0xe4a87e;if(_0x2501f1!=0x1){showLoadingModal();const _0x246def=document[_0xede310(0x1f3)](_0xede310(0x143));_0x246def['innerHTML']=_0xede310(0x1be);}_0x19903c==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0xede310(0x1d5)]();}function registerServiceWorker(_0xad5cc9,_0x57cf20){const _0x1cbf17=_0xe4a87e;_0x1cbf17(0x1f7)in navigator&&navigator[_0x1cbf17(0x1f7)][_0x1cbf17(0x214)](_0xad5cc9)[_0x1cbf17(0x232)](_0x2b1984=>{const _0x2abe27=_0x1cbf17;console[_0x2abe27(0x242)](_0x2abe27(0x1eb)),_0x2b1984[_0x2abe27(0x247)]=()=>{const _0xf57eaf=_0x2abe27,_0x5a0744=_0x2b1984[_0xf57eaf(0x1c3)];_0x5a0744[_0xf57eaf(0x1ed)]=()=>{const _0x5d7a6c=_0xf57eaf;_0x5a0744['state']==_0x5d7a6c(0x216)&&navigator[_0x5d7a6c(0x1f7)][_0x5d7a6c(0x1d1)]&&console[_0x5d7a6c(0x242)](_0x5d7a6c(0x168));};},navigator[_0x2abe27(0x1f7)][_0x2abe27(0x2cd)]('controllerchange',()=>{const _0x3af5df=_0x2abe27;showLoadingModal();const _0x40dd73=document[_0x3af5df(0x1f3)]('infoLoadingModal');_0x40dd73[_0x3af5df(0x29c)]=_0x3af5df(0xd2),logoutReload(0x1,_0x57cf20);});})[_0x1cbf17(0x204)](_0x2dfbd5=>console['error'](_0x1cbf17(0x110),_0x2dfbd5));}function isLoggedIn(_0x156798){const _0x248f32=_0xe4a87e;return _0x156798&&_0x156798[0x0]&&_0x156798[0x0][_0x248f32(0x152)];}function apiERPShowContent(){const _0x2b236e=_0xe4a87e;document[_0x2b236e(0x1f3)]('header')[_0x2b236e(0x254)][_0x2b236e(0x219)]('hidden'),document['getElementById'](_0x2b236e(0x266))[_0x2b236e(0x254)][_0x2b236e(0x219)]('hidden'),document[_0x2b236e(0x1f3)](_0x2b236e(0x12d))[_0x2b236e(0x254)][_0x2b236e(0x17c)](_0x2b236e(0x13f));const _0x41e62e=document[_0x2b236e(0x1f3)](_0x2b236e(0x22b));_0x41e62e&&_0x41e62e['classList'][_0x2b236e(0x219)](_0x2b236e(0x13f));}function x64ctotalcal(){return window['location']['hostname'];}function x64btsparamnumber(_0x30840e){const _0x3b0e7b=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x30840e==_0x3b0e7b;}function x32btsfirefoxcalc(_0x510d7a){const _0x1d5ce9=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x510d7a==_0x1d5ce9;}function x64bitsdescitem(_0x2dcc7c){const _0x269166=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x2dcc7c==_0x269166;}function x43bitsdescglobal(_0x1bb662){const _0x25bbed=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x1bb662==_0x25bbed;}function x32bitsCompanyTkn(_0x135989){const _0x974307=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x135989==_0x974307;}function x64bitsparamnumber(_0x52fe82,_0x53c6e3){const _0x532d6c=_0x53c6e3;return _0x52fe82==_0x532d6c;}function activarRender(_0x35cbb7){const _0x41304a=_0xe4a87e,_0x27be06=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x35cbb7)];return _0x27be06[_0x41304a(0x129)](!![]);}function saveCompanyToIndexedDB(_0x128556,_0x1f0022){return new Promise((_0x37cb12,_0x313529)=>{const _0x22f0f2=_0xdaea,_0x48b1cd=_0x1f0022[_0x22f0f2(0x210)]('company',_0x22f0f2(0x185)),_0x138cd5=_0x48b1cd[_0x22f0f2(0x19f)](_0x22f0f2(0x240));_0x138cd5[_0x22f0f2(0x194)](),_0x128556['forEach'](_0x2c1f53=>_0x138cd5[_0x22f0f2(0x1c2)](_0x2c1f53)),_0x48b1cd[_0x22f0f2(0x222)]=()=>_0x37cb12(),_0x48b1cd[_0x22f0f2(0x1f4)]=_0x131290=>_0x313529(_0x131290[_0x22f0f2(0x284)][_0x22f0f2(0x1f0)]);});}function loadCompanyFromIndexedDB(_0x80fd79){return new Promise((_0x305797,_0x242c59)=>{const _0x48874d=_0xdaea,_0x46cd8e=_0x80fd79[_0x48874d(0x210)]('company',_0x48874d(0x257)),_0x942729=_0x46cd8e[_0x48874d(0x19f)]('company'),_0x8131f0=_0x942729['getAll']();_0x8131f0['onsuccess']=()=>_0x305797(_0x8131f0[_0x48874d(0x123)]),_0x8131f0['onerror']=_0x2ee504=>_0x242c59(_0x2ee504[_0x48874d(0x284)]['error']);});}async function initializeCompany(_0x4a709a){const _0x26c78f=_0xe4a87e;try{const _0x497dc0=await loadCompanyFromIndexedDB(_0x4a709a);company=_0x497dc0,company[_0x26c78f(0x1a0)]>0x0?(console[_0x26c78f(0x242)]('Company\x20Load.'),myCompany=company[0x0]):console[_0x26c78f(0x242)](_0x26c78f(0x282));}catch(_0x8e0ef1){console[_0x26c78f(0x1f0)]('Company\x20Load\x20Error:',_0x8e0ef1);}}function loadProductsFromIndexedDB(_0x537059){return new Promise((_0x3a11c0,_0x57ba94)=>{const _0x5494ea=_0xdaea,_0x325220=_0x537059[_0x5494ea(0x210)](_0x5494ea(0x13c),'readonly'),_0x88b82a=_0x325220['objectStore'](_0x5494ea(0x13c)),_0x459617=_0x88b82a[_0x5494ea(0x113)]();_0x459617[_0x5494ea(0x147)]=()=>_0x3a11c0(_0x459617[_0x5494ea(0x123)]),_0x459617['onerror']=_0x1128a6=>_0x57ba94(_0x1128a6[_0x5494ea(0x284)][_0x5494ea(0x1f0)]);});}async function initializeProducts(_0x3788bb){const _0x185447=_0xe4a87e;try{const _0x2bc29c=await loadProductsFromIndexedDB(_0x3788bb);products=_0x2bc29c,products[_0x185447(0x1a0)]>0x0?console[_0x185447(0x242)](_0x185447(0xc5)):console[_0x185447(0x242)](_0x185447(0xfa));}catch(_0x5a0627){console['error'](_0x185447(0x14d),_0x5a0627);}}async function validateAccess(_0x302f52){const _0x4f34df=_0xe4a87e;await initializeCompany(_0x302f52);if(!isLoggedIn(company))throw new Error(_0x4f34df(0x12e));if(!activarRender(company[0x0][_0x4f34df(0x286)])){alert('Error:\x20Domain\x20not\x20registered.');throw new Error(_0x4f34df(0x250));}apiERPShowContent();}function initCountrySelector(_0x320855){const _0x129a66=_0xe4a87e,_0x3e6adc=_0x320855[_0x129a66(0x163)]('.select-button-pais-flag'),_0x29dfd4=_0x320855[_0x129a66(0x163)](_0x129a66(0x289));let _0x39d9be=_0x3e6adc[_0x129a66(0x1f6)][_0x129a66(0x2d5)]||'51';function _0x54d825(){const _0xd1ea3e=_0x129a66;_0x29dfd4[_0xd1ea3e(0x103)]['width']=_0x3e6adc[_0xd1ea3e(0x1cc)]+'px';}_0x54d825(),window[_0x129a66(0x2cd)]('resize',_0x54d825),_0x3e6adc[_0x129a66(0x2cd)](_0x129a66(0x229),function(_0xffd747){const _0x3bc87e=_0x129a66;_0xffd747['stopPropagation'](),_0x54d825();const _0x4d738f=_0x29dfd4['style'][_0x3bc87e(0x272)]===_0x3bc87e(0x127);document[_0x3bc87e(0x2a5)](_0x3bc87e(0x289))['forEach'](_0x343632=>{const _0x396a3f=_0x3bc87e;if(_0x343632!==_0x29dfd4)_0x343632['style'][_0x396a3f(0x272)]='none';}),_0x29dfd4[_0x3bc87e(0x103)]['display']=_0x4d738f?_0x3bc87e(0x245):_0x3bc87e(0x127);}),_0x29dfd4['querySelectorAll'](_0x129a66(0x23a))[_0x129a66(0x155)](_0x5cbc63=>{const _0x5b2c8f=_0x129a66;_0x5cbc63[_0x5b2c8f(0x2cd)](_0x5b2c8f(0x229),function(_0x2b2701){const _0x10bf5b=_0x5b2c8f;_0x2b2701[_0x10bf5b(0x17d)](),_0x39d9be=this['dataset']['code'],_0x3e6adc[_0x10bf5b(0x1f6)][_0x10bf5b(0x2d5)]=_0x39d9be,_0x3e6adc[_0x10bf5b(0x29c)]=this[_0x10bf5b(0x29c)],_0x29dfd4[_0x10bf5b(0x103)][_0x10bf5b(0x272)]=_0x10bf5b(0x245);});}),document['addEventListener'](_0x129a66(0x229),function(_0x33a24d){const _0x397d38=_0x129a66;!_0x3e6adc[_0x397d38(0xce)](_0x33a24d[_0x397d38(0x284)])&&!_0x29dfd4[_0x397d38(0xce)](_0x33a24d['target'])&&(_0x29dfd4[_0x397d38(0x103)][_0x397d38(0x272)]=_0x397d38(0x245));});}function getCredentialsApiWAChat(_0x1e32ec){const _0x3ad02c=_0xe4a87e;return myCompany[_0x3ad02c(0x1c9)][_0x3ad02c(0x16b)](_0x4e2309=>_0x4e2309[_0x3ad02c(0xd5)]==_0x1e32ec)||null;}async function sendMessageApiWAChat(_0x29444a,_0x49d9c1,_0x3cec07,_0x363760,_0x2202ad,_0x26a1bf,_0x21f23f){const _0x26f91f=_0xe4a87e,_0x40e48a=getCredentialsApiWAChat(_0x29444a);if(!_0x40e48a)return Promise[_0x26f91f(0x156)](new Error(_0x26f91f(0x18b)));const _0x4dd393=_0x40e48a[_0x26f91f(0x122)],_0x530a6c=_0x40e48a[_0x26f91f(0x26e)],_0x5955b0={'type':_0x3cec07,'content':_0x363760};if(_0x2202ad)_0x5955b0[_0x26f91f(0x176)]=_0x2202ad;_0x26a1bf&&(_0x5955b0[_0x26f91f(0x184)]=_0x26a1bf);_0x21f23f&&(_0x5955b0[_0x26f91f(0x100)]=_0x21f23f);const _0x192af6='https://'+_0x4dd393+_0x26f91f(0x1cd)+_0x530a6c+_0x26f91f(0x11d),_0x2c389a=await fetch(_0x192af6,{'method':'POST','headers':{'Content-Type':_0x26f91f(0x1af),'x-auth-token':myCompany[_0x26f91f(0x2a0)]},'body':JSON[_0x26f91f(0x2a4)]({'to':_0x49d9c1,'payload':_0x5955b0})});if(!_0x2c389a['ok']){const _0x3fde37=await _0x2c389a[_0x26f91f(0x134)]()['catch'](()=>({}));throw new Error(_0x3fde37[_0x26f91f(0x1f0)]||_0x26f91f(0x1b1)+_0x2c389a['status']);}return _0x2c389a['json']();}async function saveCredentialsApiWAChatInCompany(){const _0x2ea920=_0xe4a87e,_0x451fae=document['getElementById']('setCredentialsApiWAChat'),_0x526fd2=_0x451fae['value'],_0x48bc73=getCredentialsApiWAChat(_0x526fd2);_0x48bc73&&(myCompany[_0x2ea920(0x203)]=_0x48bc73['setCredentialsApiWAChatId']);}function formatVariantName(_0x4c226d,_0x14eb0e,_0x394137){const _0x111e6a=_0xe4a87e;let _0x5afea7=String(_0x4c226d||'')['trim']();return Object[_0x111e6a(0x173)](_0x14eb0e)['forEach'](_0x55b879=>{const _0x887cbc=_0x111e6a,_0x431c0a=String(_0x14eb0e[_0x55b879]||'')[_0x887cbc(0x265)]();if(!_0x431c0a)return;if(_0x394137===0x1)_0x5afea7+='\x20'+_0x55b879+'\x20'+_0x431c0a;else _0x394137===0x2&&(_0x5afea7+='\x20'+_0x431c0a);}),_0x5afea7;}async function loadCart(_0x113966){const _0x52c7d7=_0xe4a87e;try{const _0x5e462c=await createCartStore(''),_0x340eac=[];await validateAccess(_0x5e462c);const _0x38886a=company[0x0][_0x52c7d7(0x152)],_0xe42dae=company[0x0][_0x52c7d7(0xec)][_0x52c7d7(0x16b)](_0x6f062d=>_0x6f062d[_0x52c7d7(0xf1)]==_0x38886a[_0x52c7d7(0x29e)]),_0x5a095e=company[0x0][_0x52c7d7(0x29b)],_0x230fa5=document['getElementById'](_0x52c7d7(0x22c));_0x230fa5['innerHTML']='';if(_0xe42dae&&_0xe42dae['setBranches']){const _0x124c10=_0x5a095e[_0x52c7d7(0x19c)](_0x1824b8=>_0xe42dae['setBranches']['some'](_0x44df11=>_0x44df11['setBranchId']==_0x1824b8[_0x52c7d7(0x22c)]));_0x124c10[_0x52c7d7(0x155)](_0x4466e1=>{const _0x1b53b7=_0x52c7d7,_0x1fa427=document[_0x1b53b7(0x207)](_0x1b53b7(0x1e1));_0x1fa427[_0x1b53b7(0x1e5)]=_0x4466e1['setBranchId'],_0x1fa427[_0x1b53b7(0x19e)]=_0x4466e1[_0x1b53b7(0x124)],_0x230fa5[_0x1b53b7(0x18a)](_0x1fa427);});}if(_0x113966==0x1){const _0x3e0746=document[_0x52c7d7(0x1f3)](_0x52c7d7(0xd8));_0x3e0746[_0x52c7d7(0x29c)]='';if(_0xe42dae){const _0x3f785a=document[_0x52c7d7(0x207)](_0x52c7d7(0x1e1));_0x3f785a[_0x52c7d7(0x1e5)]=_0xe42dae[_0x52c7d7(0x270)],_0x3f785a[_0x52c7d7(0x19e)]=_0xe42dae[_0x52c7d7(0x2ad)],_0x3e0746[_0x52c7d7(0x18a)](_0x3f785a);}const _0x346410=Array[_0x52c7d7(0x12b)](_0x5e462c[_0x52c7d7(0x17f)])[_0x52c7d7(0x19c)](_0xd68a02=>_0xd68a02['startsWith'](_0x52c7d7(0x191)))[_0x52c7d7(0xca)](_0xdd7b0e=>{const _0xcb5c58=_0x52c7d7,_0x5db269=_0xdd7b0e[_0xcb5c58(0x12c)]('_');return _0x5db269[_0xcb5c58(0x1a0)]>=0x3?_0x5db269[0x2]:null;})['filter'](_0x16fba4=>_0x16fba4!==null);console['log'](_0x52c7d7(0x28b),_0x346410);const _0x14c88f=Array['from'](_0x5e462c[_0x52c7d7(0x17f)])['filter'](_0x37e2b7=>_0x37e2b7[_0x52c7d7(0x224)](_0x52c7d7(0x191)))['sort']((_0x989604,_0x43156a)=>{const _0x24fb3c=_0x52c7d7,_0x6a626d=parseInt(_0x989604[_0x24fb3c(0x12c)]('_')[_0x24fb3c(0x2c7)](),0xa),_0x5e3b22=parseInt(_0x43156a[_0x24fb3c(0x12c)]('_')['pop'](),0xa);return _0x6a626d-_0x5e3b22;});for(const _0x5859ea of _0x14c88f){const _0x1f276c=_0x5859ea[_0x52c7d7(0x12c)]('_');if(_0x1f276c[_0x52c7d7(0x1a0)]<0x3){console[_0x52c7d7(0x1f0)](_0x52c7d7(0x1c1)+_0x5859ea);continue;}const _0x5e48fb=_0x1f276c[0x2];if(_0x346410[_0x52c7d7(0x129)](_0x5e48fb)){const _0x1945e3=new Promise((_0x95d72b,_0x180bcc)=>{const _0x1f42a7=_0x52c7d7,_0x1f7777=_0x5e462c[_0x1f42a7(0x210)]([_0x5859ea],_0x1f42a7(0x257)),_0x1179ed=_0x1f7777[_0x1f42a7(0x19f)](_0x5859ea),_0x26c2bc=_0x1179ed[_0x1f42a7(0x1ba)](_0x5e48fb);_0x26c2bc[_0x1f42a7(0x147)]=function(_0x27b333){const _0x2b6c7e=_0x1f42a7,_0x4b5487=_0x27b333[_0x2b6c7e(0x284)]['result'];window_options[_0x5e48fb]={},_0x4b5487&&(window_options[_0x5e48fb]={'setTipoOperacionInvoice':_0x4b5487[_0x2b6c7e(0x1b7)],'setTipoOperacion':_0x4b5487['setTipoOperacion'],'setSerie':_0x4b5487[_0x2b6c7e(0x140)],'setCorrelativo':_0x4b5487[_0x2b6c7e(0x171)],'setMoneda':_0x4b5487['setMoneda'],'setClienteTipoDoc':_0x4b5487[_0x2b6c7e(0x1e4)],'setClienteNumDoc':_0x4b5487[_0x2b6c7e(0x1fe)],'setClienteDenominacion':_0x4b5487[_0x2b6c7e(0x260)],'setClienteDireccion':_0x4b5487['setClienteDireccion'],'setCustomerPhone':_0x4b5487['setCustomerPhone'],'setCustomerEmail':_0x4b5487[_0x2b6c7e(0x236)],'setFechaHora':_0x4b5487[_0x2b6c7e(0x227)],'setSellerId':_0x4b5487['setSellerId'],'setSellerName':_0x4b5487[_0x2b6c7e(0xdc)],'setDespacho':_0x4b5487['setDespacho'],'setObservacion':_0x4b5487[_0x2b6c7e(0x292)],'setDescuentoGlobal_Monto':_0x4b5487[_0x2b6c7e(0x1b0)],'setAttachEdit':_0x4b5487[_0x2b6c7e(0x146)]},console[_0x2b6c7e(0x242)](_0x2b6c7e(0x1c5)+_0x5e48fb+':',_0x4b5487)),Promise[_0x2b6c7e(0x2b9)](updateTab(_0x5e48fb))[_0x2b6c7e(0x232)](_0x95d72b)['catch'](_0x2d621c=>{const _0x1e8c0d=_0x2b6c7e;console[_0x1e8c0d(0x1f0)](_0x1e8c0d(0x197),_0x2d621c),_0x180bcc(_0x2d621c);});},_0x26c2bc[_0x1f42a7(0x1f4)]=function(_0x406044){const _0x5cb7d9=_0x1f42a7;console[_0x5cb7d9(0x1f0)](_0x5cb7d9(0xe8)+_0x5e48fb+'.',_0x406044[_0x5cb7d9(0x284)][_0x5cb7d9(0x1f0)]),_0x180bcc(_0x406044[_0x5cb7d9(0x284)][_0x5cb7d9(0x1f0)]);};});_0x340eac['push'](_0x1945e3);}}const _0x10d58b=Array[_0x52c7d7(0x12b)](_0x5e462c['objectStoreNames'])['filter'](_0x165565=>_0x165565['startsWith']('cart_'))[_0x52c7d7(0x25b)]((_0x438cb3,_0xcb1f31)=>{const _0x3aa812=_0x52c7d7,_0x3d1eb1=parseInt(_0x438cb3[_0x3aa812(0x12c)]('_')[_0x3aa812(0x2c7)](),0xa),_0x43ed48=parseInt(_0xcb1f31[_0x3aa812(0x12c)]('_')[_0x3aa812(0x2c7)](),0xa);return _0x3d1eb1-_0x43ed48;});for(const _0x3814d7 of _0x10d58b){const _0xc3f495=_0x3814d7[_0x52c7d7(0x12c)]('_')[0x1];!carts[_0xc3f495]&&(carts[_0xc3f495]=[]);const _0x574672=new Promise((_0x3da668,_0xe84a43)=>{const _0xa4bffd=_0x52c7d7,_0x321a5e=_0x5e462c[_0xa4bffd(0x210)]([_0x3814d7],_0xa4bffd(0x257)),_0x40a770=_0x321a5e[_0xa4bffd(0x19f)](_0x3814d7),_0x22b599=_0x40a770[_0xa4bffd(0x113)]();_0x22b599[_0xa4bffd(0x147)]=async function(_0x23010c){const _0x29ad8b=_0xa4bffd,_0x204149=_0x23010c['target'][_0x29ad8b(0x123)];carts[_0xc3f495]['length']=0x0,_0x204149[_0x29ad8b(0x155)](_0x392242=>carts[_0xc3f495][_0x29ad8b(0x2d4)](_0x392242));const _0x264eb4=myCompany['setWindows']['find'](_0x3fba60=>_0x3fba60[_0x29ad8b(0x120)]==_0xc3f495),_0x4f5894=Array[_0x29ad8b(0x137)](_0x264eb4[_0x29ad8b(0x1b8)])?[..._0x264eb4[_0x29ad8b(0x1b8)]]:[];if(_0x4f5894[_0x29ad8b(0x1a0)]>0x0){carts[_0xc3f495]=_0x4f5894,_0x264eb4[_0x29ad8b(0x220)]=_0x4f5894,_0x264eb4[_0x29ad8b(0x1b8)]=[];try{const _0x5d65fb=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5d65fb),await saveCart(_0xc3f495),console['log'](_0x29ad8b(0x26c));}catch(_0x517a18){console['error']('Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:',_0x517a18);}}renderCart(_0xc3f495),_0x3da668();},_0x22b599[_0xa4bffd(0x1f4)]=function(_0x5026b5){const _0x49a77c=_0xa4bffd;console[_0x49a77c(0x1f0)](_0x49a77c(0x221)+_0xc3f495+'.',_0x5026b5[_0x49a77c(0x284)][_0x49a77c(0x1f0)]),_0xe84a43(_0x5026b5[_0x49a77c(0x284)][_0x49a77c(0x1f0)]);};});_0x340eac['push'](_0x574672);}}if(_0x113966==0x2||_0x113966==0x3||_0x113966==0x4){const _0xe83da5=document[_0x52c7d7(0x1f3)](_0x52c7d7(0x2a8)),_0x303ba9=document['getElementById']('setCashierName');_0xe83da5[_0x52c7d7(0x29c)]='',_0x303ba9[_0x52c7d7(0x29c)]='',_0xe42dae&&(_0xe83da5[_0x52c7d7(0x29c)]=_0x52c7d7(0x21b),_0x303ba9[_0x52c7d7(0x29c)]=_0xe42dae[_0x52c7d7(0x2ad)]);}if(_0x113966==0x1||_0x113966==0x4){const _0x43f28f=myCompany['setCredentialsApiWAChat'],_0x15f8fd=document[_0x52c7d7(0x1f3)](_0x52c7d7(0x1c9));_0x15f8fd['innerHTML']='',_0x43f28f[_0x52c7d7(0x155)](_0x370fc8=>{const _0x99b23e=_0x52c7d7,_0x39b2f5=document[_0x99b23e(0x207)](_0x99b23e(0x1e1));_0x39b2f5[_0x99b23e(0x1e5)]=_0x370fc8['setCredentialsApiWAChatId'],_0x39b2f5[_0x99b23e(0x19e)]=_0x370fc8[_0x99b23e(0x125)]??_0x370fc8[_0x99b23e(0x26e)],_0x15f8fd[_0x99b23e(0x18a)](_0x39b2f5);}),myCompany?.['setCredentialsApiWAChatIdDefault']&&(_0x15f8fd[_0x52c7d7(0x1e5)]=myCompany[_0x52c7d7(0x203)]);}return await Promise[_0x52c7d7(0xcd)](_0x340eac),myCompany?.['setBranchDefault']&&(document[_0x52c7d7(0x1f3)]('setBranchId')['value']=company[0x0][_0x52c7d7(0x2b4)]),document[_0x52c7d7(0x1f3)](_0x52c7d7(0x22c))['dispatchEvent'](new Event(_0x52c7d7(0x187))),_0x113966==0x1&&(tabCount=getMaxWindowId(carts),console[_0x52c7d7(0x242)](_0x52c7d7(0x148)+tabCount)),_0x5e462c;}catch(_0x372a8e){throw _0x372a8e;}}function loadCartAndSetTabCount(_0x342fde){const _0x5053f5=_0xe4a87e;loadCart(_0x342fde)[_0x5053f5(0x232)](async _0x56c467=>{const _0x17f9e3=_0x5053f5;await initializeProducts(_0x56c467);if(_0x342fde==0x1){if(isLoggedIn(company)){const _0x20820e=document[_0x17f9e3(0x1f3)](_0x17f9e3(0x1bb))[_0x17f9e3(0x1e5)];if(parseFloat(_0x20820e)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x4b7c4=myCompany[_0x17f9e3(0x291)]['map'](_0x2edd8a=>_0x2edd8a[_0x17f9e3(0x120)]);await reloadWindowsAndLayout(_0x4b7c4);}}}adjustHeight(),showLeftSection(),setActiveTab(_0x17f9e3(0x1ce)),document[_0x17f9e3(0x2cd)](_0x17f9e3(0x189),function(_0x5de79b){const _0x5baef2=_0x17f9e3,_0x23e6db=document[_0x5baef2(0x1f3)]('windowId')[_0x5baef2(0x1e5)],_0x33affb=document[_0x5baef2(0x1f3)](_0x5baef2(0x1f5)),_0x4d9c77=document['querySelectorAll'](_0x5baef2(0xfc)),_0x2c4063=document[_0x5baef2(0x1f3)]('checkout-btn-'+_0x23e6db),_0x384762=document[_0x5baef2(0x1f3)](_0x5baef2(0x215)+_0x23e6db),_0x297a4f=document[_0x5baef2(0x1f3)]('detalleModalPay');function _0x500e0c(_0x3c88d2){const _0x469ff1=_0x5baef2;return _0x3c88d2&&(_0x3c88d2[_0x469ff1(0x1cc)]>0x0||_0x3c88d2[_0x469ff1(0x1fb)]>0x0||_0x3c88d2[_0x469ff1(0xeb)]()['length']);}let _0x51ec52=[];if(_0x297a4f&&_0x297a4f[_0x5baef2(0x254)][_0x5baef2(0xce)](_0x5baef2(0x1d7))){const _0x1930ec=_0x297a4f[_0x5baef2(0x2a5)](_0x5baef2(0x132));_0x1930ec[_0x5baef2(0x155)](_0x300529=>{const _0x4c0c5b=_0x5baef2;_0x500e0c(_0x300529)&&!_0x300529[_0x4c0c5b(0x254)]['contains'](_0x4c0c5b(0x253))&&_0x51ec52['push'](_0x300529);});const _0x48705d=_0x297a4f[_0x5baef2(0x163)](_0x5baef2(0x20e)+_0x23e6db);if(_0x48705d){const _0x525954=_0x48705d[_0x5baef2(0x2a5)](_0x5baef2(0x158));_0x525954['forEach'](_0x5d10b7=>{const _0x264391=_0x5baef2;_0x500e0c(_0x5d10b7)&&!_0x5d10b7['classList'][_0x264391(0xce)](_0x264391(0x253))&&_0x51ec52[_0x264391(0x2d4)](_0x5d10b7);});}_0x384762&&_0x500e0c(_0x384762)&&!_0x384762[_0x5baef2(0x254)]['contains']('d-none')&&(!_0x51ec52[_0x5baef2(0x129)](_0x384762)&&_0x51ec52[_0x5baef2(0x2d4)](_0x384762));}else{_0x51ec52=[_0x33affb,..._0x4d9c77];if(_0x2c4063)_0x51ec52[_0x5baef2(0x2d4)](_0x2c4063);}const _0x48c2d0=document[_0x5baef2(0x1de)],_0x196604=_0x48c2d0&&(_0x48c2d0['tagName']==_0x5baef2(0x26f)||_0x48c2d0['tagName']==_0x5baef2(0x1d4));if(_0x297a4f&&_0x297a4f[_0x5baef2(0x254)]['contains'](_0x5baef2(0x1d7))&&_0x5de79b[_0x5baef2(0x2b0)]==_0x5baef2(0x246)){if(_0x48c2d0&&_0x48c2d0[_0x5baef2(0x254)][_0x5baef2(0xce)](_0x5baef2(0x15b))){_0x5de79b['preventDefault'](),_0x48c2d0[_0x5baef2(0x229)]();return;}}if(_0x297a4f&&_0x297a4f[_0x5baef2(0x254)][_0x5baef2(0xce)](_0x5baef2(0x1d7))&&_0x5de79b[_0x5baef2(0x2b0)]==_0x5baef2(0x2cc)&&!_0x297a4f[_0x5baef2(0xce)](_0x48c2d0)){_0x5de79b[_0x5baef2(0x119)]();_0x51ec52[_0x5baef2(0x1a0)]>0x0&&_0x51ec52[0x0][_0x5baef2(0x235)]();return;}if(_0x5de79b[_0x5baef2(0x2b0)]==_0x5baef2(0x2cc)){_0x5de79b['preventDefault']();if(_0x51ec52[_0x5baef2(0x1a0)]==0x0)return;let _0x27eabc=_0x51ec52[_0x5baef2(0x2d3)](_0x48c2d0);if(_0x27eabc==-0x1)_0x27eabc=-0x1;let _0x3a7442;_0x5de79b[_0x5baef2(0x28d)]?_0x3a7442=_0x27eabc<=0x0?_0x51ec52[_0x5baef2(0x1a0)]-0x1:_0x27eabc-0x1:_0x3a7442=_0x27eabc==_0x51ec52['length']-0x1?0x0:_0x27eabc+0x1;_0x51ec52[_0x3a7442]['focus']();return;}(!_0x297a4f||!_0x297a4f['classList'][_0x5baef2(0xce)](_0x5baef2(0x1d7)))&&!_0x196604&&(_0x5de79b[_0x5baef2(0x2b0)][_0x5baef2(0x1a0)]==0x1||_0x5de79b[_0x5baef2(0x2b0)]==_0x5baef2(0xf9)||_0x5de79b['key']=='Delete')&&(_0x5de79b[_0x5baef2(0x119)](),_0x33affb['focus'](),_0x5de79b[_0x5baef2(0x2b0)]==_0x5baef2(0xf9)||_0x5de79b['key']==_0x5baef2(0x131)?_0x33affb[_0x5baef2(0x1e5)]=_0x33affb['value'][_0x5baef2(0x1bc)](0x0,-0x1):!_0x33affb[_0x5baef2(0x1e5)]?_0x33affb[_0x5baef2(0x1e5)]=_0x5de79b['key']:_0x33affb[_0x5baef2(0x1e5)]+=_0x5de79b['key']);}),loadTaxData(),resetNewItemForm();}_0x342fde==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x342fde==0x3){const _0x7943=document[_0x17f9e3(0x1f3)](_0x17f9e3(0x22c))[_0x17f9e3(0x1e5)];fil_BranchesId['push'](_0x7943),updateDateRange(_0x17f9e3(0x1c6));}_0x342fde==0x4&&init();})['catch'](_0x1d0f2f=>{console['error'](_0x1d0f2f);})['finally'](()=>{const _0x45c1d5=_0x5053f5;_0x342fde==0x1&&updateInternetIcon();let _0x31df0c;(_0x342fde==0x1||_0x342fde==0x2||_0x342fde==0x3||_0x342fde==0x4)&&(_0x31df0c=_0x45c1d5(0x2ca)),registerServiceWorker(_0x31df0c,_0x342fde);});}