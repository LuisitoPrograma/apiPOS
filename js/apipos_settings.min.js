/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.7
*/

function _0x19f3(_0x587176,_0xee411b){var _0x49e948=_0xd118();return _0x19f3=function(_0x13d0cf,_0x3b328d){_0x13d0cf=_0x13d0cf-0x8d;var _0x14bf4d=_0x49e948[_0x13d0cf];return _0x14bf4d;},_0x19f3(_0x587176,_0xee411b);}var _0x348d72=_0x19f3;(function(_0x2ff3c9,_0x99eb7c){var _0x4e9d6c=_0x19f3,_0x35a324=_0x2ff3c9();while(!![]){try{var _0x13ac0a=parseInt(_0x4e9d6c(0xa2))/0x1*(parseInt(_0x4e9d6c(0xe0))/0x2)+parseInt(_0x4e9d6c(0xd6))/0x3+parseInt(_0x4e9d6c(0xc9))/0x4+-parseInt(_0x4e9d6c(0xfa))/0x5*(-parseInt(_0x4e9d6c(0x101))/0x6)+parseInt(_0x4e9d6c(0xd5))/0x7+-parseInt(_0x4e9d6c(0xb4))/0x8+-parseInt(_0x4e9d6c(0xf5))/0x9*(parseInt(_0x4e9d6c(0xb3))/0xa);if(_0x13ac0a===_0x99eb7c)break;else _0x35a324['push'](_0x35a324['shift']());}catch(_0x31607b){_0x35a324['push'](_0x35a324['shift']());}}}(_0xd118,0x56b70));var _0x42c230=(function(){var _0x114b57=!![];return function(_0x4d2e64,_0x194eed){var _0x213bd1=_0x114b57?function(){if(_0x194eed){var _0x474110=_0x194eed['apply'](_0x4d2e64,arguments);return _0x194eed=null,_0x474110;}}:function(){};return _0x114b57=![],_0x213bd1;};}()),_0x1eaf0c=_0x42c230(this,function(){var _0xd6df2b=_0x19f3;return _0x1eaf0c[_0xd6df2b(0xeb)]()[_0xd6df2b(0xe2)](_0xd6df2b(0xca))['toString']()[_0xd6df2b(0x8f)](_0x1eaf0c)[_0xd6df2b(0xe2)](_0xd6df2b(0xca));});_0x1eaf0c();var _0x3b328d=(function(){var _0x5448f0=!![];return function(_0x5617bb,_0xbacbad){var _0x4baa94=_0x5448f0?function(){var _0x4119cf=_0x19f3;if(_0xbacbad){var _0x5de5c9=_0xbacbad[_0x4119cf(0xcf)](_0x5617bb,arguments);return _0xbacbad=null,_0x5de5c9;}}:function(){};return _0x5448f0=![],_0x4baa94;};}()),_0x13d0cf=_0x3b328d(this,function(){var _0x4aa9bf=_0x19f3,_0x1cbd87;try{var _0x4838d1=Function('return\x20(function()\x20'+_0x4aa9bf(0xdb)+');');_0x1cbd87=_0x4838d1();}catch(_0x2c333f){_0x1cbd87=window;}var _0x3ae612=_0x1cbd87[_0x4aa9bf(0xf7)]=_0x1cbd87['console']||{},_0x17ba3a=[_0x4aa9bf(0xdf),_0x4aa9bf(0xc0),_0x4aa9bf(0xbc),_0x4aa9bf(0xb1),_0x4aa9bf(0xfe),_0x4aa9bf(0xb0),'trace'];for(var _0x2d0b5d=0x0;_0x2d0b5d<_0x17ba3a['length'];_0x2d0b5d++){var _0x4c5e81=_0x3b328d['constructor']['prototype'][_0x4aa9bf(0xee)](_0x3b328d),_0x10a0d2=_0x17ba3a[_0x2d0b5d],_0x2f1482=_0x3ae612[_0x10a0d2]||_0x4c5e81;_0x4c5e81[_0x4aa9bf(0xe4)]=_0x3b328d[_0x4aa9bf(0xee)](_0x3b328d),_0x4c5e81[_0x4aa9bf(0xeb)]=_0x2f1482[_0x4aa9bf(0xeb)]['bind'](_0x2f1482),_0x3ae612[_0x10a0d2]=_0x4c5e81;}});_0x13d0cf();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15,0x16];async function apiERPupdateUsersOnline(_0x4bceb0,_0x4899b4){var _0x180c22=_0x19f3;if(!isOnline())return console[_0x180c22(0xdf)](_0x180c22(0xab)),Promise[_0x180c22(0xe3)](_0x180c22(0xab));const _0x2dc022={'setAuthToken':_0x4bceb0,'setUsers':_0x4899b4};return fetch(_0x180c22(0xfd),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x180c22(0x99)](_0x2dc022)})[_0x180c22(0xb8)](_0x28e3ae=>{var _0x16c07b=_0x180c22;if(!_0x28e3ae['ok'])throw new Error(_0x16c07b(0x92)+_0x28e3ae[_0x16c07b(0xe6)]);return _0x28e3ae[_0x16c07b(0x108)]();})[_0x180c22(0xb8)](_0x504a50=>{var _0x4a7e10=_0x180c22;if(!_0x504a50[_0x4a7e10(0xea)])throw new Error(_0x504a50['message']||_0x4a7e10(0x100));return console[_0x4a7e10(0xdf)](_0x4a7e10(0xf8)),_0x504a50;})[_0x180c22(0xff)](_0xe084b0=>{var _0x41461c=_0x180c22;console[_0x41461c(0xb1)](_0x41461c(0xc3),_0xe084b0);throw _0xe084b0;});}async function apiERPsyncUsers(){var _0x5cd1c2=_0x19f3;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x5cd1c2(0x105)],company[0x0]['setUsers']));}function generatePermissionsPanel(_0x10f393){var _0x19c777=_0x19f3,_0x32d9f0=document[_0x19c777(0xbe)](_0x19c777(0x104));_0x32d9f0[_0x19c777(0xd7)]='';var _0x44478f=_0x10f393[0x0]&&_0x10f393[0x0][_0x19c777(0xd3)]||[],_0x1b1ea8=_0x10f393[0x0]&&_0x10f393[0x0][_0x19c777(0xa5)]||[];for(var _0x330966=0x0;_0x330966<_0x44478f[_0x19c777(0xb2)];_0x330966++){var _0x1a9514=_0x44478f[_0x330966],_0x408eca=document[_0x19c777(0xac)](_0x19c777(0xbf));_0x408eca[_0x19c777(0xd8)]='userPerm_container\x20border_blue',_0x408eca['id']=_0x19c777(0xf3)+_0x330966;var _0x2e5839=document[_0x19c777(0xac)]('h3');_0x2e5839[_0x19c777(0xd8)]=_0x19c777(0xdd),_0x2e5839['textContent']=_0x1a9514['setUserFullName']||_0x19c777(0x8d)+(_0x330966+0x1),_0x408eca['appendChild'](_0x2e5839);var _0x39d7fc=document['createElement'](_0x19c777(0xbf));_0x39d7fc[_0x19c777(0xd8)]=_0x19c777(0x97);for(var _0x231e46=0x0;_0x231e46<_0x1a9514[_0x19c777(0xd1)][_0x19c777(0xb2)];_0x231e46++){var _0x55c979=_0x1a9514['setPermissions'][_0x231e46],_0x4d12e9=document[_0x19c777(0xac)](_0x19c777(0xbf));_0x4d12e9[_0x19c777(0xd8)]=_0x19c777(0xae),_0x4d12e9[_0x19c777(0xcb)]['userIndex']=_0x330966,_0x4d12e9[_0x19c777(0xcb)]['permIndex']=_0x231e46;var _0x3cfaa8=Number(_0x55c979['setPermissionValue']),_0x6d4841=document[_0x19c777(0xac)]('select');_0x6d4841[_0x19c777(0xd8)]=_0x19c777(0xb5),_0x6d4841[_0x19c777(0x103)]=!![];if(BOOLEAN_PERMS[_0x19c777(0xd4)](_0x55c979[_0x19c777(0xa0)])!==-0x1){var _0x1b287b=document[_0x19c777(0xac)](_0x19c777(0xcc));_0x1b287b[_0x19c777(0xa6)]='0',_0x1b287b['textContent']=_0x55c979[_0x19c777(0xd2)],_0x6d4841[_0x19c777(0x9a)](_0x1b287b);var _0x251ab4=document[_0x19c777(0xac)](_0x19c777(0xcc));_0x251ab4[_0x19c777(0xa6)]='1',_0x251ab4['textContent']=_0x55c979[_0x19c777(0xc4)],_0x6d4841['appendChild'](_0x251ab4),_0x6d4841[_0x19c777(0xa6)]=String(_0x3cfaa8);}else{if(_0x55c979[_0x19c777(0xa0)]===0x9||_0x55c979['setPermissionId']===0xc||_0x55c979[_0x19c777(0xa0)]===0x12){if(_0x55c979[_0x19c777(0xa0)]===0x9){var _0xd32284=document[_0x19c777(0xac)]('option');_0xd32284[_0x19c777(0xa6)]='0',_0xd32284[_0x19c777(0xe9)]=_0x55c979['setPermissionNameFalse'],_0x6d4841[_0x19c777(0x9a)](_0xd32284);for(var _0x1a9e0=0x0;_0x1a9e0<_0x1b1ea8[_0x19c777(0xb2)];_0x1a9e0++){var _0xa24c64=_0x1b1ea8[_0x1a9e0],_0x1e1455=document['createElement']('option');_0x1e1455[_0x19c777(0xa6)]=String(_0xa24c64[_0x19c777(0xd9)]),_0x1e1455[_0x19c777(0xe9)]=_0xa24c64[_0x19c777(0x9c)],_0x6d4841[_0x19c777(0x9a)](_0x1e1455);}}if(_0x55c979['setPermissionId']===0xc)for(var _0x1a9e0=0x1;_0x1a9e0<=0x4;_0x1a9e0++){var _0xa24c64=_0x1a9e0,_0x1e1455=document['createElement'](_0x19c777(0xcc));_0x1e1455['value']=String(_0xa24c64),_0x1e1455['textContent']=_0x19c777(0xc8)+_0xa24c64,_0x6d4841[_0x19c777(0x9a)](_0x1e1455);}if(_0x55c979[_0x19c777(0xa0)]===0x12){var _0x150862=myCompany&&myCompany[_0x19c777(0xaf)]||[],_0xd32284=document['createElement']('option');_0xd32284[_0x19c777(0xa6)]='0',_0xd32284[_0x19c777(0xe9)]=_0x55c979[_0x19c777(0xd2)],_0x6d4841[_0x19c777(0x9a)](_0xd32284);for(var _0x1a9e0=0x0;_0x1a9e0<_0x150862[_0x19c777(0xb2)];_0x1a9e0++){var _0xa24c64=_0x150862[_0x1a9e0],_0x1e1455=document[_0x19c777(0xac)](_0x19c777(0xcc));_0x1e1455[_0x19c777(0xa6)]=String(_0xa24c64['setEmailCredentialsId']),_0x1e1455['textContent']=_0xa24c64['setEmailCredentialsSenderEmail'],_0x6d4841['appendChild'](_0x1e1455);}}_0x6d4841['value']=String(_0x3cfaa8);}}_0x4d12e9['appendChild'](_0x6d4841),_0x39d7fc[_0x19c777(0x9a)](_0x4d12e9);}_0x408eca['appendChild'](_0x39d7fc);var _0x2c7a3a=document[_0x19c777(0xac)](_0x19c777(0x91));_0x2c7a3a[_0x19c777(0xd8)]=_0x19c777(0xd0),_0x2c7a3a[_0x19c777(0xe9)]=_0x19c777(0x9f),_0x2c7a3a['dataset'][_0x19c777(0xa7)]=_0x330966;var _0x30d0b3=document['createElement'](_0x19c777(0x91));_0x30d0b3['className']=_0x19c777(0xfc),_0x30d0b3[_0x19c777(0xe9)]=_0x19c777(0xdc),_0x30d0b3[_0x19c777(0xcb)]['userIndex']=_0x330966,_0x30d0b3['style'][_0x19c777(0xce)]=_0x19c777(0xbb),_0x408eca[_0x19c777(0x9a)](_0x2c7a3a),_0x408eca['appendChild'](_0x30d0b3),_0x32d9f0['appendChild'](_0x408eca),_0x2c7a3a['addEventListener'](_0x19c777(0x8e),onEditClick),_0x30d0b3[_0x19c777(0xef)]('click',onSaveClick);}}function onEditClick(_0x44b7f3){var _0x27eada=_0x19f3,_0x5d1170=_0x44b7f3[_0x27eada(0xb6)][_0x27eada(0xcb)]['userIndex'],_0x3afc1a=document[_0x27eada(0xbe)](_0x27eada(0xf3)+_0x5d1170),_0x200d72=_0x3afc1a[_0x27eada(0xda)](_0x27eada(0xb5));for(var _0x2698ad=0x0;_0x2698ad<_0x200d72[_0x27eada(0xb2)];_0x2698ad++){_0x200d72[_0x2698ad]['disabled']=![];}_0x3afc1a[_0x27eada(0xf2)](_0x27eada(0xc5))[_0x27eada(0xad)][_0x27eada(0xce)]=_0x27eada(0xbb),_0x3afc1a[_0x27eada(0xf2)]('.userPerm_saveBtn')[_0x27eada(0xad)][_0x27eada(0xce)]=_0x27eada(0xe8),_0x3afc1a[_0x27eada(0xd8)]='userPerm_container\x20border_orange';}async function onSaveClick(_0x23e86c){var _0x514671=_0x19f3,_0x178ab7=_0x23e86c[_0x514671(0xb6)][_0x514671(0xcb)]['userIndex'],_0x101a47=document[_0x514671(0xbe)](_0x514671(0xf3)+_0x178ab7),_0x71ae88=_0x101a47[_0x514671(0xda)](_0x514671(0xae));for(var _0x4bf37b=0x0;_0x4bf37b<_0x71ae88['length'];_0x4bf37b++){var _0x10f83f=_0x71ae88[_0x4bf37b],_0x1e7cd4=parseInt(_0x10f83f[_0x514671(0xcb)][_0x514671(0xa7)],0xa),_0x17e664=parseInt(_0x10f83f[_0x514671(0xcb)]['permIndex'],0xa),_0x249b49=company[0x0][_0x514671(0xd3)][_0x1e7cd4][_0x514671(0xd1)][_0x17e664],_0x1a7542=_0x10f83f[_0x514671(0xda)]('userPerm_select')[0x0],_0x1fb64f=_0x1a7542[_0x514671(0xa6)];_0x249b49[_0x514671(0x9e)]=_0x1fb64f,_0x1a7542['disabled']=!![],company[0x0][_0x514671(0xd3)][_0x1e7cd4]['setLastDateUpdate']=new Date();}const _0x58c837=await createCartStore('');await saveCompanyToIndexedDB(company,_0x58c837),_0x101a47['querySelector'](_0x514671(0x94))[_0x514671(0xad)][_0x514671(0xce)]=_0x514671(0xbb),_0x101a47[_0x514671(0xf2)]('.userPerm_editBtn')[_0x514671(0xad)][_0x514671(0xce)]=_0x514671(0x102),_0x101a47[_0x514671(0xd8)]=_0x514671(0xec),apiERPsyncUsers();}function _0xd118(){var _0x4ee370=['Correlativo','bind','addEventListener','transaction','setFechaHora','querySelector','userPerm_container_','setWarehouseId','7077573YtKyKs','Error\x20leyendo\x20operaciones:','console','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','thead','1436255haoWgh','setBranchDefault','userPerm_saveBtn','https://apierp.dev/api/users/update/','exception','catch','Error\x20desconocido\x20al\x20actualizar\x20Data.','12xVKFyy','inline-block','disabled','panel_users','setAuthToken','apiPOSsendOffline','change','json','Usuario\x20','click','constructor','Motivo','button','Error\x20Sync:\x20','forEach','.userPerm_saveBtn','setCorrelativo','No\x20hay\x20operaciones\x20pendientes.','userPerm_list','tbody','stringify','appendChild','setFloorId','setTipoOperacionName','push','setPermissionValue','Editar','setPermissionId','setMessage','631877TWbukt','readwrite','dispatchEvent','setTipoOperaciones','value','userIndex','Error\x20eliminando\x20operación:','objectStore','offlineOps_table','Error\x20Network.','createElement','style','userPerm_item','setEmailCredentials','table','error','length','20ANSMFf','2164720vkQHPp','userPerm_select','target','./img/apiPOS.png','then','onsuccess','Serie','none','info','¿Estás\x20seguro\x20de\x20que\x20deseas\x20eliminar\x20esta\x20operación?','getElementById','div','warn','.btn-logout','readonly','Error\x20al\x20actualizar\x20data\x20online:','setPermissionNameTrue','.userPerm_editBtn','onload','Fecha','Número\x20de\x20Decimales:\x20','1317804TyJazn','(((.+)+)+)+$','dataset','option','complete','display','apply','userPerm_editBtn','setPermissions','setPermissionNameFalse','setUsers','indexOf','775446keMerP','1655880FLFJDw','innerHTML','className','setTipoOperacionCodigo','getElementsByClassName','{}.constructor(\x22return\x20this\x22)(\x20)','Guardar','userPerm_header','Eliminar','log','2nMpbim','offline_operations','search','reject','__proto__','setTipoOperacion','statusText','setSerie','block','textContent','success','toString','userPerm_container\x20border_blue'];_0xd118=function(){return _0x4ee370;};return _0xd118();}function deleteOfflineOperation(_0x583e36){var _0x2d7f91=_0x19f3;createCartStore('')['then'](function(_0x229241){var _0x599842=_0x19f3,_0x4b82c5=_0x229241[_0x599842(0xf0)](_0x599842(0xe1),_0x599842(0xa3)),_0x3bb09c=_0x4b82c5['objectStore'](_0x599842(0xe1));return _0x3bb09c['delete'](_0x583e36),_0x4b82c5[_0x599842(0xcd)];})[_0x2d7f91(0xb8)](function(){generateOfflineOperationsTable();})[_0x2d7f91(0xff)](function(_0x4d9a27){var _0x1dcc7a=_0x2d7f91;console[_0x1dcc7a(0xb1)](_0x1dcc7a(0xa8),_0x4d9a27);});}function generateOfflineOperationsTable(){var _0x14e959=_0x19f3,_0x35a86f=document['getElementById']('panel_operations');return _0x35a86f[_0x14e959(0xd7)]='',createCartStore('')['then'](function(_0x27870f){var _0x55b15c=_0x14e959,_0x4f28a7=_0x27870f[_0x55b15c(0xf0)](_0x55b15c(0xe1),_0x55b15c(0xc2)),_0x79b5f2=_0x4f28a7[_0x55b15c(0xa9)]('offline_operations');return new Promise(function(_0x3bc581,_0x4650a1){var _0xbdb68f=_0x55b15c,_0x1bba79=_0x79b5f2['getAll']();_0x1bba79[_0xbdb68f(0xb9)]=function(){_0x3bc581(_0x1bba79['result']);},_0x1bba79['onerror']=function(){var _0x393d43=_0xbdb68f;_0x4650a1(_0x1bba79[_0x393d43(0xb1)]);};});})[_0x14e959(0xb8)](function(_0x161e01){var _0x1b90b4=_0x14e959,_0x5d0463=[];for(var _0x25011b=0x0;_0x25011b<_0x161e01[_0x1b90b4(0xb2)];_0x25011b++){_0x161e01[_0x25011b][_0x1b90b4(0x106)]==0x1&&_0x5d0463[_0x1b90b4(0x9d)](_0x161e01[_0x25011b]);}if(_0x5d0463[_0x1b90b4(0xb2)]===0x0){_0x35a86f['textContent']=_0x1b90b4(0x96);return;}var _0x4b1584=document[_0x1b90b4(0xac)](_0x1b90b4(0xb0));_0x4b1584[_0x1b90b4(0xd8)]=_0x1b90b4(0xaa);var _0x62265f=document[_0x1b90b4(0xac)](_0x1b90b4(0xf9)),_0x5d8749=document['createElement']('tr');['Tipo',_0x1b90b4(0xba),_0x1b90b4(0xed),_0x1b90b4(0xc7),_0x1b90b4(0x90),'Acciones']['forEach'](function(_0xeada31){var _0x547ab4=_0x1b90b4,_0xf1b76e=document['createElement']('th');_0xf1b76e[_0x547ab4(0xe9)]=_0xeada31,_0x5d8749[_0x547ab4(0x9a)](_0xf1b76e);}),_0x62265f['appendChild'](_0x5d8749),_0x4b1584[_0x1b90b4(0x9a)](_0x62265f);var _0x3e5648=document[_0x1b90b4(0xac)](_0x1b90b4(0x98));_0x5d0463['forEach'](function(_0x31c66b){var _0x112063=_0x1b90b4,_0x120501=document[_0x112063(0xac)]('tr'),_0x559f11=[_0x31c66b[_0x112063(0xe5)],_0x31c66b[_0x112063(0xe7)],_0x31c66b[_0x112063(0x95)],_0x31c66b[_0x112063(0xf1)],_0x31c66b[_0x112063(0xa1)]||''];_0x559f11[_0x112063(0x93)](function(_0x3ac86b){var _0x77cd92=_0x112063,_0x13ceda=document[_0x77cd92(0xac)]('td');_0x13ceda['textContent']=_0x3ac86b,_0x120501[_0x77cd92(0x9a)](_0x13ceda);});var _0x40b30d=document[_0x112063(0xac)]('td'),_0x5f55fe=document[_0x112063(0xac)](_0x112063(0x91));_0x5f55fe[_0x112063(0xe9)]=_0x112063(0xde),_0x5f55fe['addEventListener'](_0x112063(0x8e),function(){var _0x45d101=_0x112063;confirm(_0x45d101(0xbd))&&deleteOfflineOperation(_0x31c66b['id']);}),_0x40b30d[_0x112063(0x9a)](_0x5f55fe),_0x120501[_0x112063(0x9a)](_0x40b30d),_0x3e5648['appendChild'](_0x120501);}),_0x4b1584[_0x1b90b4(0x9a)](_0x3e5648),_0x35a86f[_0x1b90b4(0x9a)](_0x4b1584);})[_0x14e959(0xff)](function(_0x1502c9){var _0x51ef6c=_0x14e959;console['error'](_0x51ef6c(0xf6),_0x1502c9),_0x35a86f[_0x51ef6c(0xe9)]='Error\x20cargando\x20operaciones.';});}window[_0x348d72(0xc6)]=function(){var _0x902ac3=_0x348d72;const _0xe0e508=0x2;loadLoginContent(_0x902ac3(0xb7)),setUserNameGet(),setEventBtnAccess();const _0x22f635=document[_0x902ac3(0xf2)](_0x902ac3(0xc1));_0x22f635&&_0x22f635[_0x902ac3(0xef)](_0x902ac3(0x8e),function(){logoutReload(0x0,_0xe0e508);}),document['getElementById']('setBranchId')[_0x902ac3(0xef)](_0x902ac3(0x107),async function(){var _0xefeae4=_0x902ac3;const _0x4998c0=parseInt(this[_0xefeae4(0xa6)]);company[0x0][_0xefeae4(0xfb)]=_0x4998c0;const _0x35da82=await createCartStore('');await saveCompanyToIndexedDB(company,_0x35da82),cargarAlmacenes(_0x4998c0),setTimeout(()=>{var _0x5b3b1a=_0xefeae4;document[_0x5b3b1a(0xbe)](_0x5b3b1a(0xf4))['dispatchEvent'](new Event(_0x5b3b1a(0x107)));},0x64),cargarPisos(_0x4998c0),setTimeout(()=>{var _0x481b13=_0xefeae4;document[_0x481b13(0xbe)](_0x481b13(0x9b))[_0x481b13(0xa4)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0xe0e508);};