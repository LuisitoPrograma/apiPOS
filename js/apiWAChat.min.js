/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.9
*/

const _0x433c05=_0xe1bc;(function(_0x2b7c59,_0xe70353){const _0xac69e0=_0xe1bc,_0x3e1f92=_0x2b7c59();while(!![]){try{const _0x2c6bdd=parseInt(_0xac69e0(0xc0))/0x1*(parseInt(_0xac69e0(0xd3))/0x2)+-parseInt(_0xac69e0(0xd4))/0x3+parseInt(_0xac69e0(0xb0))/0x4*(parseInt(_0xac69e0(0xa8))/0x5)+parseInt(_0xac69e0(0xde))/0x6*(-parseInt(_0xac69e0(0xa4))/0x7)+-parseInt(_0xac69e0(0xc2))/0x8*(parseInt(_0xac69e0(0xc7))/0x9)+-parseInt(_0xac69e0(0xdd))/0xa+-parseInt(_0xac69e0(0xab))/0xb*(-parseInt(_0xac69e0(0xd2))/0xc);if(_0x2c6bdd===_0xe70353)break;else _0x3e1f92['push'](_0x3e1f92['shift']());}catch(_0x3c71af){_0x3e1f92['push'](_0x3e1f92['shift']());}}}(_0x53d1,0x5d047));function _0xe1bc(_0x20a670,_0xb31f94){const _0x50ec2a=_0x53d1();return _0xe1bc=function(_0x1b7080,_0x5d52cf){_0x1b7080=_0x1b7080-0xa1;let _0x9ebaf6=_0x50ec2a[_0x1b7080];return _0x9ebaf6;},_0xe1bc(_0x20a670,_0xb31f94);}function _0x53d1(){const _0xbc68ee=['18950HmtLtg','console','table','5556243jKECUz','chatPanel','display','ya\x20conectado','length','676oiqPwb','includes','querySelector','return\x20(function()\x20','hidden','constructor','exception','search','setCredentialsApiWAChatSubdomain','onload','addEventListener','warn','then','catch','setFloorId','getElementById','345583rICDQK','setCredentialsApiWAChatIdDefault','163432PbVaIG','error','toString','qr-img','loginPanel','108iEqoeZ','json','dispatchEvent','value','setCredentialsApiWAChatPort','setWarehouseId','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','setAuthToken','flex','style','change','24AyOUgB','2SJvFni','2197164LdRanF','/qr','Credenciales\x20no\x20encontradas','{}.constructor(\x22return\x20this\x22)(\x20)','visibility','/wa/','apply','setBranchDefault','status','3950660ApiWbL','69348FPEnqr','prototype','toLowerCase','click','bind','log','.btn-logout','none','147wtoSDO','https://','qr-overlay','visible'];_0x53d1=function(){return _0xbc68ee;};return _0x53d1();}const _0x1c65db=(function(){let _0x147728=!![];return function(_0x32282b,_0x16171e){const _0x547192=_0x147728?function(){const _0x279eda=_0xe1bc;if(_0x16171e){const _0x3fff4c=_0x16171e[_0x279eda(0xda)](_0x32282b,arguments);return _0x16171e=null,_0x3fff4c;}}:function(){};return _0x147728=![],_0x547192;};}()),_0x5019ba=_0x1c65db(this,function(){const _0xa7e7db=_0xe1bc;return _0x5019ba[_0xa7e7db(0xc4)]()[_0xa7e7db(0xb7)]('(((.+)+)+)+$')[_0xa7e7db(0xc4)]()[_0xa7e7db(0xb5)](_0x5019ba)['search']('(((.+)+)+)+$');});_0x5019ba();const _0x5d52cf=(function(){let _0x5b3840=!![];return function(_0x955cfc,_0x300be5){const _0x55c232=_0x5b3840?function(){if(_0x300be5){const _0x3c8bb2=_0x300be5['apply'](_0x955cfc,arguments);return _0x300be5=null,_0x3c8bb2;}}:function(){};return _0x5b3840=![],_0x55c232;};}()),_0x1b7080=_0x5d52cf(this,function(){const _0x5689a5=_0xe1bc;let _0x5434f0;try{const _0x5e23c5=Function(_0x5689a5(0xb3)+_0x5689a5(0xd7)+');');_0x5434f0=_0x5e23c5();}catch(_0xa93aae){_0x5434f0=window;}const _0x4d51c3=_0x5434f0[_0x5689a5(0xa9)]=_0x5434f0[_0x5689a5(0xa9)]||{},_0x3d9dc0=[_0x5689a5(0xa1),_0x5689a5(0xbb),'info',_0x5689a5(0xc3),_0x5689a5(0xb6),_0x5689a5(0xaa),'trace'];for(let _0x4cf29c=0x0;_0x4cf29c<_0x3d9dc0[_0x5689a5(0xaf)];_0x4cf29c++){const _0x416a66=_0x5d52cf[_0x5689a5(0xb5)][_0x5689a5(0xdf)]['bind'](_0x5d52cf),_0xd0343a=_0x3d9dc0[_0x4cf29c],_0x53c60b=_0x4d51c3[_0xd0343a]||_0x416a66;_0x416a66['__proto__']=_0x5d52cf[_0x5689a5(0xe2)](_0x5d52cf),_0x416a66[_0x5689a5(0xc4)]=_0x53c60b[_0x5689a5(0xc4)][_0x5689a5(0xe2)](_0x53c60b),_0x4d51c3[_0xd0343a]=_0x416a66;}});_0x1b7080();const selectCredentialsApiWAChat=document[_0x433c05(0xbf)]('setCredentialsApiWAChat'),loginPanel=document[_0x433c05(0xbf)](_0x433c05(0xc6)),chatPanel=document[_0x433c05(0xbf)](_0x433c05(0xac)),qrImg=document['getElementById'](_0x433c05(0xc5)),overlay=document[_0x433c05(0xbf)](_0x433c05(0xa6));let qrTimeout;const validSeconds=0x14;function showLogin(){const _0x2588ed=_0x433c05;loginPanel[_0x2588ed(0xd0)][_0x2588ed(0xad)]='flex',chatPanel['style'][_0x2588ed(0xd8)]=_0x2588ed(0xb4);}function showChat(){const _0x4f620b=_0x433c05;loginPanel[_0x4f620b(0xd0)][_0x4f620b(0xad)]=_0x4f620b(0xa3),chatPanel[_0x4f620b(0xd0)][_0x4f620b(0xd8)]=_0x4f620b(0xa7);}function displayQR(_0x1569b3){const _0x3a72e7=_0x433c05,_0x583a94=selectCredentialsApiWAChat[_0x3a72e7(0xca)],_0x373629=getCredentialsApiWAChat(_0x583a94);if(_0x373629){const _0x44f350=_0x373629[_0x3a72e7(0xb8)],_0x2c78a2=_0x373629[_0x3a72e7(0xcb)];clearTimeout(qrTimeout),overlay[_0x3a72e7(0xd0)][_0x3a72e7(0xad)]=_0x3a72e7(0xa3),qrImg['src']=_0x1569b3,qrTimeout=setTimeout(()=>{const _0x530e82=_0x3a72e7;fetch(_0x530e82(0xa5)+_0x44f350+_0x530e82(0xd9)+_0x2c78a2+_0x530e82(0xd5),{'headers':{'x-auth-token':myCompany[_0x530e82(0xce)]}})[_0x530e82(0xbc)](_0x49db30=>_0x49db30['json']())['then'](_0x437e74=>{const _0xc9422c=_0x530e82;_0x437e74['status']&&_0x437e74[_0xc9422c(0xdc)][_0xc9422c(0xe0)]()['includes'](_0xc9422c(0xae))?showChat():overlay[_0xc9422c(0xd0)][_0xc9422c(0xad)]=_0xc9422c(0xcf);})['catch'](_0x1913f9=>{const _0x5bc758=_0x530e82;console['error'](_0x5bc758(0xcd),_0x1913f9),overlay['style'][_0x5bc758(0xad)]=_0x5bc758(0xcf);});},validSeconds*0x3e8);}else ntfShow(_0x3a72e7(0xd6));}function init(){const _0x457619=_0x433c05,_0x3a8773=selectCredentialsApiWAChat[_0x457619(0xca)],_0x5533a5=getCredentialsApiWAChat(_0x3a8773);if(_0x5533a5){const _0x255f5b=_0x5533a5['setCredentialsApiWAChatSubdomain'],_0x3323f9=_0x5533a5[_0x457619(0xcb)];fetch(_0x457619(0xa5)+_0x255f5b+'/wa/'+_0x3323f9+_0x457619(0xd5),{'headers':{'x-auth-token':myCompany[_0x457619(0xce)]}})[_0x457619(0xbc)](_0x204afc=>_0x204afc[_0x457619(0xc8)]())[_0x457619(0xbc)](_0x361f3c=>{const _0x203f7c=_0x457619;if(_0x361f3c[_0x203f7c(0xdc)]&&_0x361f3c[_0x203f7c(0xdc)][_0x203f7c(0xe0)]()[_0x203f7c(0xb1)](_0x203f7c(0xae)))showChat();else _0x361f3c['qr']&&(showLogin(),displayQR(_0x361f3c['qr']));})[_0x457619(0xbd)](console[_0x457619(0xc3)]);}else ntfShow(_0x457619(0xd6));}overlay[_0x433c05(0xba)](_0x433c05(0xe1),init),window[_0x433c05(0xb9)]=function(){const _0x50190b=_0x433c05,_0x13aa9a=0x4;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x1ebb14=document[_0x50190b(0xb2)](_0x50190b(0xa2));_0x1ebb14&&_0x1ebb14['addEventListener']('click',function(){logoutReload(0x0,_0x13aa9a);}),document[_0x50190b(0xbf)]('setBranchId')[_0x50190b(0xba)]('change',async function(){const _0x8cab6f=_0x50190b,_0x326ff5=parseInt(this[_0x8cab6f(0xca)]);myCompany[_0x8cab6f(0xdb)]=_0x326ff5;const _0x215d08=selectCredentialsApiWAChat[_0x8cab6f(0xca)];myCompany[_0x8cab6f(0xc1)]=_0x215d08;const _0x57aeaa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x57aeaa),cargarAlmacenes(_0x326ff5),setTimeout(()=>{const _0x5a8ab4=_0x8cab6f;document[_0x5a8ab4(0xbf)](_0x5a8ab4(0xcc))[_0x5a8ab4(0xc9)](new Event(_0x5a8ab4(0xd1)));},0x64),cargarPisos(_0x326ff5),setTimeout(()=>{const _0x55c12b=_0x8cab6f;document[_0x55c12b(0xbf)](_0x55c12b(0xbe))[_0x55c12b(0xc9)](new Event(_0x55c12b(0xd1)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x13aa9a);};