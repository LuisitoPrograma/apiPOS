/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.6
*/

var _0x44ffb7=_0x733e;(function(_0x25c0d4,_0x1d549a){var _0x31a756=_0x733e,_0x26f2bf=_0x25c0d4();while(!![]){try{var _0x5b9982=-parseInt(_0x31a756(0xd4))/0x1*(parseInt(_0x31a756(0x1e3))/0x2)+parseInt(_0x31a756(0x1b4))/0x3+-parseInt(_0x31a756(0x1d0))/0x4*(-parseInt(_0x31a756(0x137))/0x5)+parseInt(_0x31a756(0x18b))/0x6+-parseInt(_0x31a756(0x101))/0x7+-parseInt(_0x31a756(0x13a))/0x8+parseInt(_0x31a756(0x10d))/0x9;if(_0x5b9982===_0x1d549a)break;else _0x26f2bf['push'](_0x26f2bf['shift']());}catch(_0x14e0a8){_0x26f2bf['push'](_0x26f2bf['shift']());}}}(_0x27d4,0x3232e));function _0x733e(_0x197f6e,_0x5f0864){var _0x22f478=_0x27d4();return _0x733e=function(_0x4a3362,_0x2b3399){_0x4a3362=_0x4a3362-0xba;var _0x5b7440=_0x22f478[_0x4a3362];return _0x5b7440;},_0x733e(_0x197f6e,_0x5f0864);}var _0xbb8545=(function(){var _0x54eedc=!![];return function(_0x50f46b,_0x5da49a){var _0x25bf2b=_0x54eedc?function(){var _0x5ae27c=_0x733e;if(_0x5da49a){var _0x14c31b=_0x5da49a[_0x5ae27c(0x18e)](_0x50f46b,arguments);return _0x5da49a=null,_0x14c31b;}}:function(){};return _0x54eedc=![],_0x25bf2b;};}()),_0x400e0f=_0xbb8545(this,function(){var _0x3d71a6=_0x733e;return _0x400e0f[_0x3d71a6(0x170)]()[_0x3d71a6(0xe9)](_0x3d71a6(0x1f3))[_0x3d71a6(0x170)]()[_0x3d71a6(0x190)](_0x400e0f)[_0x3d71a6(0xe9)](_0x3d71a6(0x1f3));});_0x400e0f();var _0x2b3399=(function(){var _0x14af87=!![];return function(_0x15851a,_0x48e654){var _0x319a8e=_0x14af87?function(){var _0x5ca164=_0x733e;if(_0x48e654){var _0x4c7d5f=_0x48e654[_0x5ca164(0x18e)](_0x15851a,arguments);return _0x48e654=null,_0x4c7d5f;}}:function(){};return _0x14af87=![],_0x319a8e;};}()),_0x4a3362=_0x2b3399(this,function(){var _0x47c4c2=_0x733e,_0x451597=function(){var _0x3a713b=_0x733e,_0x195db8;try{_0x195db8=Function(_0x3a713b(0x191)+_0x3a713b(0x121)+');')();}catch(_0x200893){_0x195db8=window;}return _0x195db8;},_0x58400a=_0x451597(),_0x2bc28c=_0x58400a[_0x47c4c2(0x1ce)]=_0x58400a['console']||{},_0x25d4a1=[_0x47c4c2(0x10c),'warn',_0x47c4c2(0x1f5),_0x47c4c2(0xde),_0x47c4c2(0x1ad),_0x47c4c2(0x19f),_0x47c4c2(0x19e)];for(var _0x5b53bc=0x0;_0x5b53bc<_0x25d4a1['length'];_0x5b53bc++){var _0x5fee5a=_0x2b3399[_0x47c4c2(0x190)][_0x47c4c2(0x153)][_0x47c4c2(0xef)](_0x2b3399),_0x510477=_0x25d4a1[_0x5b53bc],_0x1b251d=_0x2bc28c[_0x510477]||_0x5fee5a;_0x5fee5a[_0x47c4c2(0xdd)]=_0x2b3399[_0x47c4c2(0xef)](_0x2b3399),_0x5fee5a[_0x47c4c2(0x170)]=_0x1b251d['toString'][_0x47c4c2(0xef)](_0x1b251d),_0x2bc28c[_0x510477]=_0x5fee5a;}});_0x4a3362();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x44ffb7(0xce)](_0x44ffb7(0xd3)),unitCount=0x0,branchesC=document[_0x44ffb7(0xce)](_0x44ffb7(0x10b)),prodC=document[_0x44ffb7(0xce)]('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x44ffb7(0xce)]('newItem_variants_forms'),vgC=document[_0x44ffb7(0xce)]('newItem_variant_groups');const fileInput=document[_0x44ffb7(0xce)](_0x44ffb7(0x1e0)),progressBar=document['getElementById']('progress'),statusDiv=document[_0x44ffb7(0xce)]('status'),uploadBtn=document[_0x44ffb7(0xce)](_0x44ffb7(0x1e4));let newItemsExcel=null;const itemWorker=new Worker(_0x44ffb7(0x1eb)),dropZone=document[_0x44ffb7(0xce)](_0x44ffb7(0x16b)),removeBtn=document['getElementById'](_0x44ffb7(0x138));function showModalCreateItem(_0x4b4e9d){var _0x6ebfed=_0x44ffb7;const _0x26f82c=document['getElementById']('detalleModalCreateItem'),_0x26157d=document[_0x6ebfed(0xce)](_0x6ebfed(0x128));_0x26f82c[_0x6ebfed(0x1a2)]['add'](_0x6ebfed(0x1a5)),_0x26157d[_0x6ebfed(0xda)][_0x6ebfed(0x1e2)]=_0x6ebfed(0x173);const _0x30d9a6=document[_0x6ebfed(0xce)](_0x6ebfed(0x154));_0x30d9a6[_0x6ebfed(0x164)]=parseInt(_0x4b4e9d),baseItem['setItemFree']=parseInt(_0x4b4e9d);const _0x2363d8=document[_0x6ebfed(0xce)](_0x6ebfed(0x1ba));_0x4b4e9d==0x0&&(_0x2363d8[_0x6ebfed(0x1d3)]=_0x6ebfed(0x182));_0x4b4e9d==0x1&&(_0x2363d8[_0x6ebfed(0x1d3)]=_0x6ebfed(0x174));const _0x4d8d9d=document['getElementsByClassName'](_0x6ebfed(0xcf));for(let _0x1b2e00=0x0;_0x1b2e00<_0x4d8d9d[_0x6ebfed(0x16d)];_0x1b2e00++){const _0x20dbd7=_0x4d8d9d[_0x1b2e00];if(_0x4b4e9d==0x0)_0x20dbd7[_0x6ebfed(0x1a2)][_0x6ebfed(0x129)]('hidden');else _0x4b4e9d==0x1&&_0x20dbd7[_0x6ebfed(0x1a2)][_0x6ebfed(0x108)](_0x6ebfed(0xd1));}}function hideModalCreateItem(){var _0x470c09=_0x44ffb7;const _0x559b06=document[_0x470c09(0xce)](_0x470c09(0x131)),_0x283c3a=document[_0x470c09(0xce)]('modalOverlayCreateItem');_0x559b06[_0x470c09(0x1a2)][_0x470c09(0x129)](_0x470c09(0x1a5)),_0x283c3a['style'][_0x470c09(0x1e2)]=_0x470c09(0x1c1);}document[_0x44ffb7(0xce)]('closeModalCreateItem')[_0x44ffb7(0x177)](_0x44ffb7(0x1c2),hideModalCreateItem),document[_0x44ffb7(0xce)]('modalOverlayCreateItem')['addEventListener'](_0x44ffb7(0x1c2),_0xfdcba=>{var _0x4be6d5=_0x44ffb7;_0xfdcba[_0x4be6d5(0x1aa)]==_0xfdcba[_0x4be6d5(0xe7)]&&_0xfdcba[_0x4be6d5(0x1e5)]();});function loadTaxData(){var _0x5c70aa=_0x44ffb7;const _0x193310=document[_0x5c70aa(0xce)](_0x5c70aa(0x203));_0x193310['innerHTML']='',company[0x0][_0x5c70aa(0x1c0)][_0x5c70aa(0xfd)](function(_0x53487d){var _0x210840=_0x5c70aa;const _0x36810f=document['createElement']('option');_0x36810f[_0x210840(0x164)]=_0x53487d[_0x210840(0xba)],_0x36810f[_0x210840(0x1d3)]=_0x53487d[_0x210840(0x1df)]+'\x20('+_0x53487d[_0x210840(0x162)]+'%)',_0x53487d[_0x210840(0xba)]==company[0x0][_0x210840(0x141)]&&(_0x36810f[_0x210840(0x1a7)]=!![]),_0x193310[_0x210840(0xf0)](_0x36810f);});}function uniqueValuesArray(_0xa2e33d,_0x155cd2,_0x145c6f){var _0x13a771=_0x44ffb7;const _0x4f24da=Array[_0x13a771(0x1a6)](new Set(_0x145c6f[_0x13a771(0x18c)](_0x5af487=>{var _0x5e9562=_0x13a771;const _0x5c9178=_0x5af487[_0xa2e33d];return typeof _0x5c9178===_0x5e9562(0x12e)?_0x5c9178[_0x5e9562(0x1c5)]():_0x5c9178;})['filter'](_0x24781a=>_0x24781a!=null&&_0x24781a!=='')));return _0x4f24da['map'](_0x3504d4=>{var _0x2fce18=_0x13a771;const _0x3aacb9=_0x145c6f[_0x2fce18(0xee)](_0x41f775=>_0x41f775[_0xa2e33d]===_0x3504d4),_0x37a425=_0x3aacb9&&_0x3aacb9[_0x155cd2]!=null?String(_0x3aacb9[_0x155cd2])[_0x2fce18(0x1c5)]():_0x3504d4;return{'setCode':_0x3504d4,'setName':_0x37a425};});}function fillSelect(_0x4b5b69,_0x8a8182,_0x5b0a70,_0x14af9b){var _0x3c71f0=_0x44ffb7;_0x4b5b69[_0x3c71f0(0x1d3)]='',_0x8a8182[_0x3c71f0(0xfd)](function(_0x492bb1){var _0x46e972=_0x3c71f0,_0x46feb8=new Option(_0x492bb1[_0x14af9b],_0x492bb1[_0x5b0a70]);_0x4b5b69[_0x46e972(0x108)](_0x46feb8);});}function initMulti(_0x33f914,_0x95dbd0){var _0x4473bf=_0x44ffb7,_0x17833c=document[_0x4473bf(0xce)](_0x33f914),_0x4032e9=_0x17833c['querySelector'](_0x4473bf(0x1ca)),_0x4c7ec9=_0x17833c[_0x4473bf(0xd7)](_0x4473bf(0xfa)),_0x1ed8ab=_0x17833c[_0x4473bf(0xd7)](_0x4473bf(0x1ff)),_0x237aac=_0x95dbd0['slice'](),_0x5b9412=[];let _0x551017=null,_0x5cbc23=![];function _0x18a1cc(){var _0x4aa6c1=_0x4473bf;const _0x48b170=_0x4032e9[_0x4aa6c1(0x164)][_0x4aa6c1(0x1c5)]();if(!_0x48b170)return;const _0x2b8d9e=_0x237aac[_0x4aa6c1(0xee)](_0x37547b=>_0x37547b[_0x4aa6c1(0x1d9)]['toLowerCase']()===_0x48b170['toLowerCase']());if(_0x2b8d9e)_0x5b9412[_0x4aa6c1(0x115)](_0x2b8d9e),_0x237aac[_0x4aa6c1(0x172)](_0x237aac[_0x4aa6c1(0x1fe)](_0x278478=>_0x278478['setCode']===_0x2b8d9e[_0x4aa6c1(0x181)]),0x1);else{const _0x3d787b=_0x5b9412[_0x4aa6c1(0x1ac)](_0x22123a=>_0x22123a[_0x4aa6c1(0x1d9)][_0x4aa6c1(0x1af)]()===_0x48b170[_0x4aa6c1(0x1af)]());!_0x3d787b&&_0x5b9412[_0x4aa6c1(0x115)]({'setCode':_0x48b170,'setName':_0x48b170});}_0x1ed582(),_0x555f68(),_0x4032e9[_0x4aa6c1(0x164)]='';}function _0x555f68(){var _0x4af7ee=_0x4473bf;_0x4c7ec9[_0x4af7ee(0x1d3)]='',_0x237aac[_0x4af7ee(0x1ee)](_0x2fb6ae=>_0x2fb6ae[_0x4af7ee(0x1d9)][_0x4af7ee(0x1af)]()[_0x4af7ee(0x134)](_0x4032e9[_0x4af7ee(0x164)][_0x4af7ee(0x1af)]()))[_0x4af7ee(0x146)](0x0,0x14)[_0x4af7ee(0xfd)](_0x182694=>{var _0x7ad8e5=_0x4af7ee,_0x189642=document[_0x7ad8e5(0x187)]('div');_0x189642['textContent']=_0x182694['setName'],_0x189642[_0x7ad8e5(0x143)][_0x7ad8e5(0xd0)]=_0x182694[_0x7ad8e5(0x181)],_0x4c7ec9['appendChild'](_0x189642),_0x189642[_0x7ad8e5(0x177)]('mousedown',()=>_0x5cbc23=!![]),_0x189642['addEventListener'](_0x7ad8e5(0x1c2),function(){var _0xc32fee=_0x7ad8e5;_0x5cbc23=![],_0x5b9412[_0xc32fee(0x115)](_0x182694),_0x237aac[_0xc32fee(0x172)](_0x237aac['findIndex'](_0x4f6dca=>_0x4f6dca['setCode']===_0x182694[_0xc32fee(0x181)]),0x1),_0x4032e9['value']='',_0x1ed582(),_0x555f68();});});}function _0x1ed582(){var _0x46caae=_0x4473bf;_0x1ed8ab[_0x46caae(0x1d3)]='',_0x5b9412[_0x46caae(0xfd)](_0xe4e18c=>{var _0x7d8471=_0x46caae,_0x430148=document[_0x7d8471(0x187)](_0x7d8471(0x144));_0x430148[_0x7d8471(0x16a)]=_0x7d8471(0x1c6),_0x430148[_0x7d8471(0xdc)]=_0xe4e18c[_0x7d8471(0x1d9)];var _0x45d3ad=document['createElement'](_0x7d8471(0xe1));_0x45d3ad[_0x7d8471(0x16a)]='remove-tag',_0x45d3ad[_0x7d8471(0xdc)]='×',_0x45d3ad[_0x7d8471(0x177)](_0x7d8471(0x1c2),function(){var _0x20edfc=_0x7d8471;_0x237aac['push'](_0xe4e18c);const _0x5a6064=_0x5b9412[_0x20edfc(0x1fe)](_0x423965=>_0x423965[_0x20edfc(0x181)]===_0xe4e18c[_0x20edfc(0x181)]);if(_0x5a6064>-0x1)_0x5b9412[_0x20edfc(0x172)](_0x5a6064,0x1);_0x1ed582(),_0x555f68();}),_0x430148[_0x7d8471(0xf0)](_0x45d3ad),_0x1ed8ab[_0x7d8471(0xf0)](_0x430148);}),_0x17833c[_0x46caae(0xf2)](new CustomEvent('selectionChange',{'detail':_0x5b9412,'bubbles':!![]}));}return _0x4032e9['addEventListener'](_0x4473bf(0x19b),function(){var _0x59591a=_0x4473bf;_0x551017&&(clearTimeout(_0x551017),_0x551017=null),_0x4c7ec9[_0x59591a(0x1a2)][_0x59591a(0x129)](_0x59591a(0x1ea));}),_0x4032e9[_0x4473bf(0x177)](_0x4473bf(0x1da),_0x555f68),_0x4032e9[_0x4473bf(0x177)](_0x4473bf(0x19c),function(_0xfb52ab){var _0x36340b=_0x4473bf;_0xfb52ab[_0x36340b(0x198)]===_0x36340b(0x1b0)&&(_0xfb52ab[_0x36340b(0x175)](),_0x18a1cc());}),_0x4032e9['addEventListener'](_0x4473bf(0x1a8),function(){if(_0x5cbc23)return;_0x551017=setTimeout(()=>{_0x18a1cc(),_0x551017=null;},0xc8);}),document[_0x4473bf(0x177)](_0x4473bf(0x1c2),function(_0x3259e3){var _0x5006a1=_0x4473bf;!_0x17833c[_0x5006a1(0x114)](_0x3259e3[_0x5006a1(0x1aa)])&&_0x4c7ec9[_0x5006a1(0x1a2)]['add'](_0x5006a1(0x1ea));}),_0x555f68(),_0x5b9412;}function getLastCode(_0x12d92f){var _0x6f6fe9=_0x44ffb7;const _0x18fc41=_0x12d92f[_0x6f6fe9(0x18c)](_0x13734f=>String(_0x13734f['setCodProducto'])[_0x6f6fe9(0x1c5)]())[_0x6f6fe9(0x1ee)](_0xd6437b=>_0xd6437b!=='');if(_0x18fc41['length']===0x0)return'';const _0x113b36=_0x18fc41[_0x6f6fe9(0x135)](_0x2281d6=>/^\d+$/[_0x6f6fe9(0x194)](_0x2281d6));if(_0x113b36){const _0x500dc4=_0x18fc41[_0x6f6fe9(0x18c)](Number),_0x222293=Math[_0x6f6fe9(0xf5)](..._0x500dc4);return String(_0x222293);}let _0x7c0602;if(typeof Intl!=='undefined'&&Intl['Collator']){const _0x8f04b2=new Intl[(_0x6f6fe9(0xbd))](undefined,{'numeric':!![],'sensitivity':_0x6f6fe9(0x14e)});_0x7c0602=_0x18fc41[_0x6f6fe9(0x146)]()['sort'](_0x8f04b2[_0x6f6fe9(0x180)]);}else{const _0x554ccb=_0x18fc41[_0x6f6fe9(0x135)](_0x1a3f88=>/^\d+$/[_0x6f6fe9(0x194)](_0x1a3f88));_0x554ccb?_0x7c0602=_0x18fc41[_0x6f6fe9(0x18c)](Number)['sort']((_0x3f3059,_0x38c0ce)=>_0x3f3059-_0x38c0ce)['map'](String):_0x7c0602=_0x18fc41['slice']()['sort']();}return _0x7c0602[_0x7c0602[_0x6f6fe9(0x16d)]-0x1];}function getNextCode(_0x470399){var _0x4be3cc=_0x44ffb7;const _0x129a22=getLastCode(_0x470399);if(!_0x129a22)return'';if(/^\d+$/[_0x4be3cc(0x194)](_0x129a22))return String(Number(_0x129a22)+0x1);const _0x136ede=_0x129a22[_0x4be3cc(0x1cb)](/^([A-Za-z]*)(\d+)$/);if(_0x136ede){const [,_0x831eef,_0x5c82bb]=_0x136ede,_0x427d12=String(Number(_0x5c82bb)+0x1)[_0x4be3cc(0x155)](_0x5c82bb[_0x4be3cc(0x16d)],'0');return _0x831eef+_0x427d12;}return _0x129a22;}document[_0x44ffb7(0xce)](_0x44ffb7(0xd8))[_0x44ffb7(0x177)](_0x44ffb7(0x1da),function(_0x3f6d3f){var _0x1e70da=_0x44ffb7;baseItem[_0x1e70da(0x158)]=_0x3f6d3f[_0x1e70da(0x1aa)][_0x1e70da(0x164)];}),document['getElementById'](_0x44ffb7(0x1e8))[_0x44ffb7(0x177)]('input',function(_0xf7a824){var _0x2c2aa8=_0x44ffb7;baseItem['setItemDescription']=_0xf7a824[_0x2c2aa8(0x1aa)][_0x2c2aa8(0x164)];}),document[_0x44ffb7(0xce)]('inputItemDateExpiry')['addEventListener']('input',function(_0x5505c0){var _0x2eceac=_0x44ffb7;baseItem[_0x2eceac(0x18f)]=_0x5505c0['target']['value'];}),document[_0x44ffb7(0xce)](_0x44ffb7(0x1c3))[_0x44ffb7(0x177)]('change',function(_0x56fff7){var _0x4b0130=_0x44ffb7;baseItem[_0x4b0130(0x152)]=_0x56fff7['target'][_0x4b0130(0x164)];}),document[_0x44ffb7(0xce)]('inputItemTax')[_0x44ffb7(0x177)](_0x44ffb7(0x1cd),function(_0x5ca53c){var _0x211a5f=_0x44ffb7;baseItem['setItemTaxId']=_0x5ca53c[_0x211a5f(0x1aa)]['value'];const _0x53aa30=_0x5ca53c['target'][_0x211a5f(0x164)],_0x486858=company[0x0]['setImpuestos'][_0x211a5f(0xee)](_0x506374=>_0x506374[_0x211a5f(0xba)]==_0x53aa30)?.[_0x211a5f(0x1f6)]||0x0,_0x112b6f=company[0x0][_0x211a5f(0x1c0)][_0x211a5f(0xee)](_0x29de01=>_0x29de01['setTaxId']==_0x53aa30)?.['setImpuestoValue']||0x0;baseItem[_0x211a5f(0x1a9)]=_0x486858,baseItem[_0x211a5f(0xfc)]=_0x112b6f;}),document['getElementById'](_0x44ffb7(0x1b7))[_0x44ffb7(0x177)](_0x44ffb7(0x1cd),function(_0x300da8){var _0x539e67=_0x44ffb7;baseItem[_0x539e67(0x12d)]=_0x300da8[_0x539e67(0x1aa)][_0x539e67(0x1fb)];}),document[_0x44ffb7(0xce)]('newItem_chk_sell')['addEventListener']('change',function(_0x335a1f){var _0x70c3a5=_0x44ffb7;baseItem[_0x70c3a5(0x145)]=_0x335a1f[_0x70c3a5(0x1aa)][_0x70c3a5(0x1fb)];}),document[_0x44ffb7(0xce)](_0x44ffb7(0xe5))[_0x44ffb7(0x177)](_0x44ffb7(0x1da),function(_0x46d66b){var _0x512c68=_0x44ffb7;baseItem[_0x512c68(0xc1)]=_0x46d66b[_0x512c68(0x1aa)][_0x512c68(0x164)];}),document[_0x44ffb7(0xce)](_0x44ffb7(0x197))[_0x44ffb7(0x177)](_0x44ffb7(0x1da),function(_0x51357a){var _0x5c6064=_0x44ffb7;baseItem[_0x5c6064(0x102)]=_0x51357a[_0x5c6064(0x1aa)][_0x5c6064(0x164)];}),document[_0x44ffb7(0xce)](_0x44ffb7(0x1f8))['addEventListener'](_0x44ffb7(0x1c2),function(){addUnit(),updateUnitsArray();}),document[_0x44ffb7(0xce)]('inputItemCode')[_0x44ffb7(0x177)](_0x44ffb7(0x1a8),function(){var _0x6675a1=_0x44ffb7;const _0x35b19f=this['value'][_0x6675a1(0x1c5)]();if(_0x35b19f==='')return;const _0x4fbb2d=products[_0x6675a1(0x1ac)](_0x1b96ba=>_0x1b96ba[_0x6675a1(0x14a)]==_0x35b19f),_0x20c66a=getLastCode(products);_0x4fbb2d?ntfShow(_0x6675a1(0xcc)+_0x20c66a,0x2,0x1):ntfShow(_0x6675a1(0x11a),0x1,0x1);});function removeImg(_0x5c647a){var _0x39a039=_0x44ffb7;currentImages[_0x5c647a]=null;var _0x532cbe=imgC[_0x39a039(0xd7)]('[data-idx=\x22'+_0x5c647a+'\x22]');_0x532cbe['innerHTML']='';var _0x328ea4=document['createElement'](_0x39a039(0x1da));_0x328ea4['type']=_0x39a039(0x18d),_0x328ea4['accept']=_0x39a039(0x1d8),_0x328ea4[_0x39a039(0xda)][_0x39a039(0x1e2)]=_0x39a039(0x1c1);var _0x1693f2=document[_0x39a039(0x187)]('span');_0x1693f2[_0x39a039(0xdc)]='+',_0x532cbe[_0x39a039(0xf0)](_0x328ea4),_0x532cbe[_0x39a039(0xf0)](_0x1693f2),_0x532cbe['addEventListener']('click',function(){_0x328ea4['click']();}),baseItem[_0x39a039(0x10a)]=currentImages[_0x39a039(0x1ee)](function(_0x26635f){return _0x26635f;});}function addUnit(_0x25b9f1,_0xa7f707,_0x3cb294,_0x5701af,_0x5b6c14,_0x253c80,_0x574936){var _0x2a7745=_0x44ffb7,_0x1e7c37=uniqueValuesArray(_0x2a7745(0x103),'setUnitName',myCompany['setUnits']);_0x25b9f1=_0x25b9f1||'',_0xa7f707=_0xa7f707||_0x1e7c37[0x3a]&&_0x1e7c37[0x3a]['setCode']||'',_0x3cb294=_0x3cb294!==undefined?_0x3cb294:0x1,_0x5701af=!!_0x5701af,_0x5b6c14=_0x5b6c14||'',_0x253c80=_0x253c80||'';var _0x47395c=unitCount++,_0x10f90d=document[_0x2a7745(0x187)](_0x2a7745(0x144));_0x10f90d[_0x2a7745(0x143)][_0x2a7745(0x176)]=_0x47395c,_0x10f90d[_0x2a7745(0x143)][_0x2a7745(0xca)]=_0x5701af,_0x10f90d['innerHTML']=_0x2a7745(0x112)+_0x47395c+'\x22\x20value=\x22'+_0x25b9f1+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x47395c+_0x2a7745(0xc8)+_0x47395c+_0x2a7745(0x10f)+_0x3cb294+'\x22\x20'+(_0x5701af?_0x2a7745(0xe2):'')+_0x2a7745(0x1e6)+_0x47395c+_0x2a7745(0x10f)+_0x5b6c14+_0x2a7745(0xf9)+_0x47395c+_0x2a7745(0x10f)+_0x253c80+_0x2a7745(0x1ae)+(_0x5701af?_0x2a7745(0x188):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x10f90d['querySelector'](_0x2a7745(0x14c)),_0x1e7c37,'setCode',_0x2a7745(0x1d9)),_0x10f90d[_0x2a7745(0xd7)](_0x2a7745(0x14c))[_0x2a7745(0x164)]=_0xa7f707,['unitAlias','unitSelect','eqInput',_0x2a7745(0x1c8),_0x2a7745(0x113)][_0x2a7745(0xfd)](function(_0x2f5aba){var _0x1fc2ba=_0x2a7745;_0x10f90d[_0x1fc2ba(0xd7)]('.'+_0x2f5aba)[_0x1fc2ba(0x177)]('input',function(){var _0x542b2d=_0x574936?+_0x574936['id']['split']('_')[0x1]:null;if(_0x574936)updateVariantUnits(_0x542b2d);else updateUnitsArray();});}),_0x10f90d['querySelector']('.removeUnit')['addEventListener'](_0x2a7745(0x1c2),function(){var _0x5b486b=_0x2a7745;_0x10f90d[_0x5b486b(0x129)]();var _0x42614d=_0x574936?+_0x574936['id']['split']('_')[0x1]:null;if(_0x574936)updateVariantUnits(_0x42614d);else updateUnitsArray();});var _0x44811a=_0x574936||document['getElementById'](_0x2a7745(0x157));_0x44811a['appendChild'](_0x10f90d);}function containerIdx(_0x4f1ab5){var _0x176e6e=_0x44ffb7;return+_0x4f1ab5['id'][_0x176e6e(0x150)]('_')[0x1];}function updateUnitsArray(){var _0x4607fb=_0x44ffb7,_0x152d58=[],_0x5d224d=Array[_0x4607fb(0x1a6)](document[_0x4607fb(0xbb)]('#newItem_units_container\x20>\x20div')),_0x3d5806=_0x5d224d['find'](_0x16ec48=>_0x16ec48[_0x4607fb(0x143)][_0x4607fb(0xca)]==='true'),_0x2c328e=_0x3d5806?+_0x3d5806[_0x4607fb(0xd7)](_0x4607fb(0xf6))[_0x4607fb(0x164)]:0x1;_0x5d224d[_0x4607fb(0xfd)](function(_0x35548e){var _0xdb6dc9=_0x4607fb,_0xb5aa94=+_0x35548e[_0xdb6dc9(0xd7)](_0xdb6dc9(0xf6))[_0xdb6dc9(0x164)]||0x0,_0x46b6e3=+_0x35548e[_0xdb6dc9(0xd7)]('.priceInput')[_0xdb6dc9(0x164)]||0x0,_0x19e899=+_0x35548e['querySelector']('.costInput')[_0xdb6dc9(0x164)]||0x0;_0x152d58[_0xdb6dc9(0x115)]({'setAlias':_0x35548e[_0xdb6dc9(0xd7)](_0xdb6dc9(0xe0))[_0xdb6dc9(0x164)][_0xdb6dc9(0x1c5)](),'setUnitCode':_0x35548e['querySelector'](_0xdb6dc9(0x14c))['value'],'setEquivalence':_0xb5aa94,'setFactor':_0x35548e[_0xdb6dc9(0x143)][_0xdb6dc9(0xca)]==='true'?0x1:_0xb5aa94==_0x2c328e?0x1:_0xb5aa94<_0x2c328e?_0x2c328e/_0xb5aa94:_0xb5aa94/_0x2c328e,'setPrice':_0x46b6e3,'setCost':_0x19e899,'setDefault':_0x35548e[_0xdb6dc9(0x143)][_0xdb6dc9(0xca)]==='true'?0x1:0x0});}),baseItem[_0x4607fb(0x13c)]=_0x152d58;}function updateBranches(){var _0x242c95=_0x44ffb7,_0x53edcb=[];document[_0x242c95(0xbb)](_0x242c95(0xc0))[_0x242c95(0xfd)](function(_0x3efcfd){var _0x1c48a5=_0x242c95,_0x53f334=_0x3efcfd[_0x1c48a5(0xd7)](_0x1c48a5(0xf1));if(_0x53f334['checked']){var _0x3424de=+_0x53f334['dataset']['id'],_0x4dec10=+_0x3efcfd['querySelector'](_0x1c48a5(0x193))[_0x1c48a5(0x164)],_0x1cf3cd=+_0x3efcfd[_0x1c48a5(0xd7)](_0x1c48a5(0x156))[_0x1c48a5(0x164)];_0x53edcb[_0x1c48a5(0x115)]({'setWarehouseCode':_0x3424de,'setStockInitial':_0x4dec10,'setStockMinimum':_0x1cf3cd});}}),baseItem['setItemWarehouses']=_0x53edcb;}document[_0x44ffb7(0xce)](_0x44ffb7(0xe3))[_0x44ffb7(0x177)](_0x44ffb7(0x1c2),function(){var _0x111339=_0x44ffb7,_0x10f7a4=Date['now'](),_0xc90fa8=document[_0x111339(0x187)]('div');_0xc90fa8[_0x111339(0x143)][_0x111339(0x176)]=_0x10f7a4,_0xc90fa8[_0x111339(0x1d3)]=_0x111339(0xcb)+_0x10f7a4+_0x111339(0x1bb)+_0x10f7a4+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x111339(0xf0)](_0xc90fa8),initProdSearch(_0xc90fa8[_0x111339(0xd7)](_0x111339(0xbc))),_0xc90fa8[_0x111339(0xd7)](_0x111339(0x130))['addEventListener'](_0x111339(0x1c2),function(){_0xc90fa8['remove'](),updateProdItems();}),_0xc90fa8['querySelector'](_0x111339(0x1d2))[_0x111339(0x177)](_0x111339(0x1da),updateProdItems),document[_0x111339(0xce)](_0x111339(0x1c4))[_0x111339(0x1a2)][_0x111339(0x1bd)]('newItem_title_table',!![]),document[_0x111339(0xce)]('newItem_title_table_cp')[_0x111339(0x1a2)]['toggle'](_0x111339(0x1ea),![]);});function initProdSearch(_0x1f3301,_0x5d5571){var _0x3544a9=_0x44ffb7,_0x258144=_0x1f3301[_0x3544a9(0xd7)]('.prodInput'),_0x4d187d=_0x1f3301[_0x3544a9(0xd7)](_0x3544a9(0xfa)),_0x3f3dea=_0x5d5571||null;if(_0x5d5571)_0x258144[_0x3544a9(0x164)]=_0x5d5571[_0x3544a9(0x1e1)];_0x258144[_0x3544a9(0x177)]('input',function(){var _0x51ad29=_0x3544a9,_0x56b5e4=_0x258144[_0x51ad29(0x164)]['toLowerCase']()[_0x51ad29(0x1c5)]();_0x4d187d['innerHTML']='';if(!_0x56b5e4)return;products['filter'](_0x596827=>_0x596827['setDescripcion'][_0x51ad29(0x1af)]()['includes'](_0x56b5e4))['slice'](0x0,0x14)[_0x51ad29(0xfd)](function(_0x4a3a6d){var _0x39f445=_0x51ad29,_0x4484a0=document[_0x39f445(0x187)](_0x39f445(0x144));_0x4484a0[_0x39f445(0xdc)]=_0x4a3a6d[_0x39f445(0x1d6)],_0x4484a0[_0x39f445(0x143)]['id']=_0x4a3a6d['id'],_0x4484a0[_0x39f445(0x143)]['name']=_0x4a3a6d[_0x39f445(0x1d6)],_0x4d187d[_0x39f445(0xf0)](_0x4484a0),_0x4484a0['addEventListener'](_0x39f445(0x1c2),function(){var _0x52af33=_0x39f445;_0x3f3dea={'id':_0x4a3a6d['id'],'name':_0x4a3a6d['setDescripcion']},_0x258144[_0x52af33(0x164)]=_0x4a3a6d[_0x52af33(0x1d6)],_0x4d187d[_0x52af33(0x1d3)]='';var _0x3a87d7=_0x1f3301['closest'](_0x52af33(0x17d));if(_0x3a87d7){var _0x3d33e6=+_0x3a87d7['id'][_0x52af33(0x150)]('_')[0x1];updateVariantComponents(_0x3d33e6);}else updateProdItems();});});}),_0x258144[_0x3544a9(0x177)]('focus',function(){var _0x28aca=_0x3544a9;_0x4d187d[_0x28aca(0x1a2)][_0x28aca(0x129)](_0x28aca(0x1ea));}),document[_0x3544a9(0x177)](_0x3544a9(0x1c2),function(_0x2cf8de){var _0x39733f=_0x3544a9;if(!_0x1f3301[_0x39733f(0x114)](_0x2cf8de[_0x39733f(0x1aa)]))_0x4d187d[_0x39733f(0x1a2)]['add']('newItem_hidden');}),Object[_0x3544a9(0xd5)](_0x1f3301,_0x3544a9(0x1e7),{'get':()=>_0x3f3dea});}function updateProdItems(){var _0x256b24=_0x44ffb7,_0x2a2261=[];Array['from'](prodC[_0x256b24(0x1b3)])[_0x256b24(0xfd)](function(_0x32a433){var _0x3e5f6a=_0x256b24,_0x425816=_0x32a433[_0x3e5f6a(0xd7)](_0x3e5f6a(0xbc));if(!_0x425816)return;var _0x8f994e=_0x32a433[_0x3e5f6a(0xd7)]('.prodQty'),_0x4028f2=_0x425816[_0x3e5f6a(0x1e7)];_0x4028f2&&_0x2a2261['push']({'setItemId':_0x4028f2['id'],'setDescripcion':_0x4028f2[_0x3e5f6a(0x1e1)],'setCantidad':+_0x8f994e[_0x3e5f6a(0x164)]});}),baseItem[_0x256b24(0xbe)]=_0x2a2261,_0x2a2261[_0x256b24(0x16d)]===0x0&&(document[_0x256b24(0xce)](_0x256b24(0x1c4))['classList'][_0x256b24(0x1bd)](_0x256b24(0x125),![]),document['getElementById'](_0x256b24(0x1c4))['classList'][_0x256b24(0x1bd)](_0x256b24(0x1ea),!![]));}document['getElementById']('newItem_btn_addVariantGroup')['addEventListener']('click',function(){var _0x54e0d6=_0x44ffb7,_0x2416f1=vgCount++,_0x237866=document[_0x54e0d6(0x187)](_0x54e0d6(0x144));_0x237866['dataset'][_0x54e0d6(0x176)]=_0x2416f1,_0x237866[_0x54e0d6(0x1d3)]=_0x54e0d6(0x105)+_0x2416f1+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x2416f1+'\x22>'+_0x54e0d6(0x139),vgC[_0x54e0d6(0xf0)](_0x237866),_0x237866[_0x54e0d6(0xd7)](_0x54e0d6(0x19a))[_0x54e0d6(0x177)]('blur',generateVariants),_0x237866['querySelector']('.vgVals')['addEventListener']('blur',generateVariants),_0x237866[_0x54e0d6(0xd7)](_0x54e0d6(0x11c))['addEventListener'](_0x54e0d6(0x1c2),function(){var _0x2a4f61=_0x54e0d6;_0x237866[_0x2a4f61(0x129)](),generateVariants();});});function generateVariants(){var _0x9edcd0=_0x44ffb7,_0x59ea0c=[];vgC[_0x9edcd0(0xbb)]('div')[_0x9edcd0(0xfd)](function(_0x26881c){var _0x3220f2=_0x9edcd0,_0x1aa23c=_0x26881c['querySelector'](_0x3220f2(0x19a))[_0x3220f2(0x164)]['trim'](),_0x37089f=_0x26881c[_0x3220f2(0xd7)](_0x3220f2(0xfe))[_0x3220f2(0x164)][_0x3220f2(0x150)](',')[_0x3220f2(0x18c)](_0x115447=>_0x115447[_0x3220f2(0x1c5)]())[_0x3220f2(0x1ee)](_0x2a3d7e=>_0x2a3d7e);if(_0x1aa23c&&_0x37089f[_0x3220f2(0x16d)])_0x59ea0c[_0x3220f2(0x115)]({'name':_0x1aa23c,'vals':_0x37089f});});var _0x3bbe87=[{}];_0x59ea0c[_0x9edcd0(0xfd)](function(_0x3c9c02){_0x3bbe87=_0x3bbe87['flatMap'](function(_0x150b26){return _0x3c9c02['vals']['map'](function(_0x320150){var _0x144975=_0x733e,_0x18abd2=Object[_0x144975(0xdb)]({},_0x150b26);return _0x18abd2[_0x3c9c02['name']]=_0x320150,_0x18abd2;});});}),newItems=[],varContainer[_0x9edcd0(0x1d3)]='',_0x3bbe87[_0x9edcd0(0xfd)](function(_0x30aaa8,_0x1edcae){var _0x5edaaa=_0x9edcd0,_0x56e9fd=JSON[_0x5edaaa(0x1d7)](JSON[_0x5edaaa(0x1a4)](baseItem));_0x56e9fd[_0x5edaaa(0x17c)]=_0x30aaa8,_0x56e9fd[_0x5edaaa(0x1b9)]=baseItem[_0x5edaaa(0x158)]+'\x20'+Object[_0x5edaaa(0x17b)](_0x30aaa8)[_0x5edaaa(0x18c)](_0x17df5b=>_0x17df5b[0x0]+'\x20'+_0x17df5b[0x1])[_0x5edaaa(0x1c7)]('\x20'),newItems[_0x5edaaa(0x115)](_0x56e9fd);var _0x12db39=document['createElement']('div');_0x12db39['classList'][_0x5edaaa(0x108)]('variantForm'),_0x12db39[_0x5edaaa(0x143)][_0x5edaaa(0x176)]=_0x1edcae,_0x12db39['innerHTML']=_0x5edaaa(0x12b)+_0x56e9fd[_0x5edaaa(0x1b9)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x56e9fd[_0x5edaaa(0xc1)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x56e9fd['setItemBarCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x56e9fd[_0x5edaaa(0x18f)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x1edcae+_0x5edaaa(0x132)+_0x1edcae+_0x5edaaa(0x14d)+_0x1edcae+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x5edaaa(0xf0)](_0x12db39),_0x12db39[_0x5edaaa(0xd7)](_0x5edaaa(0x1b2))[_0x5edaaa(0x177)](_0x5edaaa(0x1da),_0x3b14d6=>newItems[_0x1edcae][_0x5edaaa(0xc1)]=_0x3b14d6['target'][_0x5edaaa(0x164)]),_0x12db39[_0x5edaaa(0xd7)](_0x5edaaa(0xc3))[_0x5edaaa(0x177)](_0x5edaaa(0x1da),_0x481364=>newItems[_0x1edcae]['setItemBarCode']=_0x481364[_0x5edaaa(0x1aa)][_0x5edaaa(0x164)]),_0x12db39['querySelector'](_0x5edaaa(0xc6))[_0x5edaaa(0x177)]('change',_0x4ab384=>newItems[_0x1edcae][_0x5edaaa(0x18f)]=_0x4ab384[_0x5edaaa(0x1aa)][_0x5edaaa(0x164)]),initVariantUnits(_0x1edcae),initVariantComponents(_0x1edcae),initVariantBranches(_0x1edcae),_0x12db39[_0x5edaaa(0xd7)](_0x5edaaa(0x1cc))['addEventListener'](_0x5edaaa(0x1c2),function(){var _0x2dede5=_0x5edaaa,_0x36f166=+_0x12db39[_0x2dede5(0x143)][_0x2dede5(0x176)];newItems['splice'](_0x36f166,0x1),_0x12db39[_0x2dede5(0x129)](),document[_0x2dede5(0xbb)](_0x2dede5(0x189))[_0x2dede5(0xfd)](function(_0x54c3a8,_0x328c57){var _0x1b7810=_0x2dede5;_0x54c3a8[_0x1b7810(0x143)]['idx']=_0x328c57;});});});if(newItems[_0x9edcd0(0x16d)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x31c47c){var _0x59a414=_0x44ffb7,_0x15e5d1=document['getElementById'](_0x59a414(0xf3)+_0x31c47c+_0x59a414(0x192)),_0x11aa3e=[];Array[_0x59a414(0x1a6)](_0x15e5d1[_0x59a414(0x1b3)])[_0x59a414(0xfd)](function(_0x25279d){var _0x33ab1c=_0x59a414,_0x24c971=+_0x25279d[_0x33ab1c(0xd7)](_0x33ab1c(0xf6))[_0x33ab1c(0x164)]||0x0,_0x22064f=_0x25279d[_0x33ab1c(0xd7)](_0x33ab1c(0xe0))[_0x33ab1c(0x164)][_0x33ab1c(0x1c5)](),_0x3b738b=_0x25279d[_0x33ab1c(0xd7)]('.unitSelect')[_0x33ab1c(0x164)],_0x4d6a2e=+_0x25279d[_0x33ab1c(0xd7)](_0x33ab1c(0x148))[_0x33ab1c(0x164)]||0x0,_0x40e895=+_0x25279d[_0x33ab1c(0xd7)](_0x33ab1c(0x140))[_0x33ab1c(0x164)]||0x0,_0x4b87f0=_0x25279d[_0x33ab1c(0x143)]['default']===_0x33ab1c(0x14b),_0x3ef4a3=+_0x15e5d1[_0x33ab1c(0xd7)](_0x33ab1c(0x1dd))[_0x33ab1c(0x164)]||0x1,_0x16102d=_0x4b87f0?0x1:_0x24c971==_0x3ef4a3?0x1:_0x24c971<_0x3ef4a3?_0x3ef4a3/_0x24c971:_0x24c971/_0x3ef4a3;_0x11aa3e[_0x33ab1c(0x115)]({'setAlias':_0x22064f,'setUnitCode':_0x3b738b,'setEquivalence':_0x24c971,'setFactor':_0x16102d,'setPrice':_0x4d6a2e,'setCost':_0x40e895,'setDefault':_0x4b87f0?0x1:0x0});}),newItems[_0x31c47c][_0x59a414(0x13c)]=_0x11aa3e;}function initVariantUnits(_0x1cc070){var _0x4840d2=_0x44ffb7,_0x231a0a=document[_0x4840d2(0xce)](_0x4840d2(0xf3)+_0x1cc070+'_units_container');_0x231a0a[_0x4840d2(0x1d3)]='',newItems[_0x1cc070][_0x4840d2(0x13c)][_0x4840d2(0xfd)](function(_0x5d9445){var _0x30699d=_0x4840d2;addUnit(_0x5d9445[_0x30699d(0xc4)],_0x5d9445[_0x30699d(0x103)],_0x5d9445[_0x30699d(0x118)],_0x5d9445[_0x30699d(0xc9)],_0x5d9445[_0x30699d(0x17f)],_0x5d9445[_0x30699d(0x107)],_0x231a0a);}),_0x231a0a[_0x4840d2(0x1ec)][_0x4840d2(0xd7)]('.addVariantUnit')[_0x4840d2(0x177)]('click',function(){addUnit('','',0x1,![],'','',_0x231a0a),updateVariantUnits(_0x1cc070);});}function updateVariantUnits(_0xd6a41b){var _0x7f9912=_0x44ffb7,_0x4874fe=document[_0x7f9912(0xce)](_0x7f9912(0xf3)+_0xd6a41b+_0x7f9912(0x192)),_0x5ee40f=_0x4874fe['querySelector'](_0x7f9912(0x1dd)),_0x81fbb8=_0x5ee40f?+_0x5ee40f['value']:0x1,_0xe7c5e7=Array['from'](_0x4874fe['children'])[_0x7f9912(0x18c)](function(_0x77f470){var _0x477c56=_0x7f9912,_0x4e488b=_0x77f470['querySelector'](_0x477c56(0xe0))[_0x477c56(0x164)]['trim'](),_0x1aec96=_0x77f470[_0x477c56(0xd7)](_0x477c56(0x14c))['value'],_0x4066f6=+_0x77f470[_0x477c56(0xd7)]('.eqInput')[_0x477c56(0x164)]||0x0,_0x581282=+_0x77f470[_0x477c56(0xd7)](_0x477c56(0x148))['value']||0x0,_0x255813=+_0x77f470['querySelector'](_0x477c56(0x140))[_0x477c56(0x164)]||0x0,_0x4e8c5d=_0x77f470['dataset'][_0x477c56(0xca)]==='true';return{'setAlias':_0x4e488b,'setUnitCode':_0x1aec96,'setEquivalence':_0x4066f6,'setFactor':_0x4e8c5d?0x1:_0x4066f6==_0x81fbb8?0x1:_0x4066f6<_0x81fbb8?_0x81fbb8/_0x4066f6:_0x4066f6/_0x81fbb8,'setPrice':_0x581282,'setCost':_0x255813,'setDefault':_0x4e8c5d?0x1:0x0};});newItems[_0xd6a41b]['setItemUnits']=_0xe7c5e7;}function initVariantComponents(_0x4b560d){var _0x4c2806=_0x44ffb7,_0x489e56=document[_0x4c2806(0xce)]('variant_'+_0x4b560d+_0x4c2806(0xf8));_0x489e56[_0x4c2806(0x1d3)]='',newItems[_0x4b560d][_0x4c2806(0xbe)][_0x4c2806(0xfd)](function(_0x5eb154){var _0x5af3c5=_0x4c2806,_0x2870e2=document[_0x5af3c5(0x187)](_0x5af3c5(0x144)),_0x1769ef=Date['now']();_0x2870e2[_0x5af3c5(0x143)][_0x5af3c5(0x176)]=_0x1769ef,_0x2870e2[_0x5af3c5(0x1d3)]=_0x5af3c5(0x1fa)+_0x1769ef+_0x5af3c5(0xf4)+_0x5eb154[_0x5af3c5(0x15b)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x489e56[_0x5af3c5(0xf0)](_0x2870e2),initProdSearch(_0x2870e2[_0x5af3c5(0xd7)]('.prod_input_container'),{'id':_0x5eb154['setItemId'],'name':_0x5eb154['setDescripcion']}),_0x2870e2[_0x5af3c5(0xd7)]('.prodQty')[_0x5af3c5(0x177)](_0x5af3c5(0x1da),function(){updateVariantComponents(_0x4b560d);}),_0x2870e2[_0x5af3c5(0xd7)](_0x5af3c5(0x163))['addEventListener'](_0x5af3c5(0x1c2),function(){var _0x382ecc=_0x5af3c5;_0x2870e2[_0x382ecc(0x129)](),updateVariantComponents(_0x4b560d);});}),_0x489e56[_0x4c2806(0x1ec)]['querySelector']('.addVariantComp')[_0x4c2806(0x177)](_0x4c2806(0x1c2),function(){var _0x3e1928=_0x4c2806,_0x1a8f11=document[_0x3e1928(0x187)](_0x3e1928(0x144)),_0x19b245=Date['now']();_0x1a8f11[_0x3e1928(0x143)][_0x3e1928(0x176)]=_0x19b245,_0x1a8f11[_0x3e1928(0x1d3)]=_0x3e1928(0x1fa)+_0x19b245+_0x3e1928(0x11d),_0x489e56[_0x3e1928(0xf0)](_0x1a8f11),initProdSearch(_0x1a8f11[_0x3e1928(0xd7)](_0x3e1928(0xbc))),_0x1a8f11[_0x3e1928(0xd7)](_0x3e1928(0x1d2))[_0x3e1928(0x177)]('input',function(){updateVariantComponents(_0x4b560d);}),_0x1a8f11[_0x3e1928(0xd7)](_0x3e1928(0x163))[_0x3e1928(0x177)](_0x3e1928(0x1c2),function(){_0x1a8f11['remove'](),updateVariantComponents(_0x4b560d);});});}function updateVariantComponents(_0xfda3a8){var _0x44ad16=_0x44ffb7,_0x4f8a07=document[_0x44ad16(0xce)]('variant_'+_0xfda3a8+_0x44ad16(0xf8)),_0x480d99=Array['from'](_0x4f8a07[_0x44ad16(0x1b3)])[_0x44ad16(0x18c)](function(_0x500926){var _0x19abdf=_0x44ad16,_0x198e71=_0x500926[_0x19abdf(0xd7)](_0x19abdf(0xbc)),_0x2d992b=_0x198e71[_0x19abdf(0x1e7)],_0x51128c=+_0x500926[_0x19abdf(0xd7)](_0x19abdf(0x1d2))[_0x19abdf(0x164)]||0x0;return _0x2d992b?{'setItemId':_0x2d992b['id'],'setDescripcion':_0x2d992b[_0x19abdf(0x1e1)],'setCantidad':_0x51128c}:null;})[_0x44ad16(0x1ee)](_0x336451=>_0x336451);newItems[_0xfda3a8]['setItemComponents']=_0x480d99;}function initVariantBranches(_0x3e4e37){var _0x2fcf7a=_0x44ffb7;const _0xcc568c=getAllWarehouses();var _0x66277b=document[_0x2fcf7a(0xce)](_0x2fcf7a(0xf3)+_0x3e4e37+_0x2fcf7a(0x167));_0x66277b[_0x2fcf7a(0x1d3)]='',newItems[_0x3e4e37][_0x2fcf7a(0xc2)]['forEach'](function(_0x1343b4){var _0xaa773b=_0x2fcf7a,_0x228e02=_0xcc568c[_0xaa773b(0xee)](_0x47d13c=>_0x47d13c['setWarehouseId']==_0x1343b4[_0xaa773b(0x142)]),_0x497825=document[_0xaa773b(0x187)](_0xaa773b(0x144));_0x497825[_0xaa773b(0x1d3)]=_0xaa773b(0x1f0)+_0x1343b4[_0xaa773b(0x142)]+_0xaa773b(0x13b)+_0x228e02['setWarehouseName']+_0xaa773b(0xc7)+_0x1343b4[_0xaa773b(0x142)]+_0xaa773b(0x10f)+_0x1343b4[_0xaa773b(0x1ef)]+_0xaa773b(0x1fc)+_0x1343b4[_0xaa773b(0x142)]+_0xaa773b(0x10f)+_0x1343b4[_0xaa773b(0x183)]+'\x22>',_0x66277b[_0xaa773b(0xf0)](_0x497825),_0x497825['querySelectorAll'](_0xaa773b(0x1da))[_0xaa773b(0xfd)](function(_0x5c7968){var _0x5a99e3=_0xaa773b;_0x5c7968[_0x5a99e3(0x177)](_0x5a99e3(0x1da),function(){updateVariantBranches(_0x3e4e37);});});}),_0xcc568c[_0x2fcf7a(0xfd)](function(_0x121510){var _0xb3cc09=_0x2fcf7a;if(!newItems[_0x3e4e37][_0xb3cc09(0xc2)][_0xb3cc09(0xee)](_0xaab120=>_0xaab120[_0xb3cc09(0x142)]===_0x121510['setWarehouseId'])){var _0x527ff5=document['createElement'](_0xb3cc09(0x144));_0x527ff5['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x121510[_0xb3cc09(0x13f)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x121510[_0xb3cc09(0x15d)]+_0xb3cc09(0xc7)+_0x121510[_0xb3cc09(0x13f)]+_0xb3cc09(0x1fc)+_0x121510['setWarehouseId']+'\x22>',_0x66277b['appendChild'](_0x527ff5),_0x527ff5[_0xb3cc09(0xbb)](_0xb3cc09(0x1da))[_0xb3cc09(0xfd)](function(_0x1e5fe5){var _0x378bae=_0xb3cc09;_0x1e5fe5['addEventListener'](_0x378bae(0x1da),function(){updateVariantBranches(_0x3e4e37);});});}});}function updateVariantBranches(_0x1f53df){var _0x3816dc=_0x44ffb7,_0x285187=document[_0x3816dc(0xce)](_0x3816dc(0xf3)+_0x1f53df+'_branch_container'),_0x60e039=[];_0x285187['querySelectorAll'](_0x3816dc(0x144))['forEach'](function(_0xf77d66){var _0x1b0039=_0x3816dc,_0x122366=_0xf77d66['querySelector'](_0x1b0039(0xf1));if(_0x122366[_0x1b0039(0x1fb)]){var _0x212044=+_0x122366[_0x1b0039(0x143)]['id'],_0xa0cc1c=+_0xf77d66[_0x1b0039(0xd7)]('.branchInit')[_0x1b0039(0x164)]||0x0,_0x3a35ec=+_0xf77d66[_0x1b0039(0xd7)](_0x1b0039(0x156))[_0x1b0039(0x164)]||0x0;_0x60e039[_0x1b0039(0x115)]({'setWarehouseCode':_0x212044,'setStockInitial':_0xa0cc1c,'setStockMinimum':_0x3a35ec});}}),newItems[_0x1f53df]['setItemWarehouses']=_0x60e039;}async function storeOfflineProduct(_0x7b59c0){var _0x2d624f=_0x44ffb7;try{const _0x34dd20=await createCartStore(''),_0x24bd0d=_0x34dd20[_0x2d624f(0x1ab)](_0x2d624f(0x200),_0x2d624f(0x12c)),_0x51c95c=_0x24bd0d[_0x2d624f(0x100)](_0x2d624f(0x200));_0x51c95c[_0x2d624f(0x108)](_0x7b59c0),_0x24bd0d[_0x2d624f(0x201)]=()=>{var _0x2dd500=_0x2d624f;console['log'](_0x2dd500(0x1bc));},_0x24bd0d[_0x2d624f(0xe8)]=_0x2ad9f7=>{var _0x2def82=_0x2d624f;console[_0x2def82(0xde)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0x2ad9f7['target']['error']);};}catch(_0x226877){console[_0x2d624f(0xde)](_0x2d624f(0x147),_0x226877);}}document[_0x44ffb7(0xce)](_0x44ffb7(0x1dc))[_0x44ffb7(0x177)](_0x44ffb7(0x1c2),async function(_0x423da7){var _0x5b0b82=_0x44ffb7;_0x423da7[_0x5b0b82(0x175)]();const _0x39ac8f=document['getElementById'](_0x5b0b82(0xe5)),_0x28fd14=document['getElementById'](_0x5b0b82(0x154))[_0x5b0b82(0x164)];if(!_0x39ac8f[_0x5b0b82(0x164)][_0x5b0b82(0x1c5)]()&&_0x28fd14==0x0){ntfShow(_0x5b0b82(0x171),0x2,0x1);return;}_0x28fd14==0x1&&(_0x39ac8f[_0x5b0b82(0x164)]='',baseItem[_0x5b0b82(0xc1)]='');const _0x1a361d=document['getElementById'](_0x5b0b82(0xd8));if(!_0x1a361d[_0x5b0b82(0x164)][_0x5b0b82(0x1c5)]()){ntfShow(_0x5b0b82(0x16e),0x2,0x1);return;}const _0x293843=document[_0x5b0b82(0xce)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x5b0b82(0x16d)]===0x0&&(newItems=[baseItem]);const _0x462dbb=document[_0x5b0b82(0xce)](_0x5b0b82(0x104))[_0x5b0b82(0x164)],_0x1a20ca=window_options[_0x462dbb][_0x5b0b82(0x15a)],_0x32fff5=[];newItems[_0x5b0b82(0xfd)](_0x2d14cf=>{var _0x5afcae=_0x5b0b82;const _0x5436a1=generateNumericUniqId();_0x2d14cf[_0x5afcae(0x13c)][_0x5afcae(0xfd)](_0x350d02=>{var _0x32b9b2=_0x5afcae;const _0x13b5f3=generateNumericUniqId();_0x350d02[_0x32b9b2(0x1d5)]=_0x13b5f3;const _0x58b9cd={'id':_0x13b5f3,'setIdProducto':_0x5436a1,'setCodProducto':_0x2d14cf[_0x32b9b2(0xc1)],'setDescripcion':_0x2d14cf[_0x32b9b2(0x158)],'setItemDescription':_0x2d14cf[_0x32b9b2(0x18a)],'setBatchExpirationDate':_0x2d14cf['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x2d14cf[_0x32b9b2(0xcd)][0x0]||'','setMarca':_0x2d14cf[_0x32b9b2(0xea)][0x0]||'','setConversionFactor':parseFloat(_0x350d02[_0x32b9b2(0x199)]),'setImages':[],'setImg':_0x32b9b2(0x1f4),'setInventariable':0x1,'setItemIsBought':_0x2d14cf[_0x32b9b2(0x12d)]?0x1:0x0,'setItemIsSold':_0x2d14cf['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x2d14cf['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x2d14cf['setItemTaxId'],'setTipAfeIgv':_0x2d14cf[_0x32b9b2(0x1a9)],'setUnidad':_0x350d02[_0x32b9b2(0x103)],'setUnidadCodigo':_0x350d02[_0x32b9b2(0x103)],'setItemUnitAlias':_0x350d02['setAlias'],'currency_data':[{'currency':_0x1a20ca,'setMtoPrecioCostoUnitario':_0x350d02[_0x32b9b2(0x107)],'setMtoPrecioUnitario':_0x350d02['setPrice'],'setPriceLists':[]}],'sucursales':_0x2d14cf[_0x32b9b2(0xc2)]['map'](_0x2d84af=>({'setIdSucursal':_0x2d84af[_0x32b9b2(0x142)],'setSucursalStock':_0x2d84af[_0x32b9b2(0x1ef)]['toString'](),'setWarehouseStockMin':_0x2d84af[_0x32b9b2(0x183)][_0x32b9b2(0x170)]()})),'setItemFree':_0x2d14cf[_0x32b9b2(0x154)],'setItemBarCode':_0x2d14cf[_0x32b9b2(0x102)],'setItemBrands':_0x2d14cf[_0x32b9b2(0xea)][_0x32b9b2(0x146)](),'setItemCategories':_0x2d14cf[_0x32b9b2(0xcd)][_0x32b9b2(0x146)](),'setItemComponents':_0x2d14cf[_0x32b9b2(0xbe)][_0x32b9b2(0x18c)](_0x5a2787=>({..._0x5a2787})),'setItemImages':_0x2d14cf[_0x32b9b2(0x10a)][_0x32b9b2(0x146)](),'setItemVariantName':_0x2d14cf[_0x32b9b2(0x1b9)],'setItemVariantValues':{..._0x2d14cf['setItemVariantValues']}};_0x32fff5[_0x32b9b2(0x115)](_0x58b9cd),(_0x293843[_0x32b9b2(0x1fb)]||_0x28fd14==0x1)&&addToCart(_0x58b9cd);});}),console[_0x5b0b82(0x10c)](_0x5b0b82(0xec),newItems),await finalizeImport(_0x32fff5,newItems,![]);}),[_0x44ffb7(0x1d4),_0x44ffb7(0x1a3)]['forEach'](_0x4f13f9=>dropZone[_0x44ffb7(0x177)](_0x4f13f9,_0x3a1424=>{var _0x3b0691=_0x44ffb7;_0x3a1424['preventDefault'](),dropZone[_0x3b0691(0x1a2)][_0x3b0691(0x108)](_0x3b0691(0x1a3));})),[_0x44ffb7(0x16c),_0x44ffb7(0x17e)][_0x44ffb7(0xfd)](_0x280adb=>dropZone[_0x44ffb7(0x177)](_0x280adb,_0x3cc2c8=>{var _0xd2bbcf=_0x44ffb7;_0x3cc2c8[_0xd2bbcf(0x175)](),dropZone[_0xd2bbcf(0x1a2)]['remove'](_0xd2bbcf(0x1a3));})),dropZone[_0x44ffb7(0x177)](_0x44ffb7(0x17e),_0x57a08b=>{var _0x6a29c0=_0x44ffb7;const _0x231832=_0x57a08b[_0x6a29c0(0x116)]['files'][0x0];if(!_0x231832)return;fileInput[_0x6a29c0(0x1db)]=_0x57a08b[_0x6a29c0(0x116)][_0x6a29c0(0x1db)],dropZone['querySelector'](_0x6a29c0(0x124))['textContent']=_0x231832[_0x6a29c0(0x1e1)],removeBtn[_0x6a29c0(0xd1)]=![],fileInput[_0x6a29c0(0xf2)](new Event(_0x6a29c0(0x1cd)));}),removeBtn[_0x44ffb7(0x177)](_0x44ffb7(0x1c2),()=>{var _0x29b140=_0x44ffb7;fileInput[_0x29b140(0x164)]='',dropZone[_0x29b140(0xd7)](_0x29b140(0x124))[_0x29b140(0xdc)]=_0x29b140(0x1a0),removeBtn[_0x29b140(0xd1)]=!![],progressBar['style'][_0x29b140(0x1e2)]=_0x29b140(0x1c1),statusDiv[_0x29b140(0xdc)]='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x44ffb7(0xce)](_0x44ffb7(0xf7));exportBtn['addEventListener'](_0x44ffb7(0x1c2),onClickExportarItems);async function onClickExportarItems(){var _0x4a97c2=_0x44ffb7;if(!Array['isArray'](products)||!products['length']){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0xe1baae=await fetch('./excel/Plantilla-Items.xlsx');if(!_0xe1baae['ok'])throw new Error(_0x4a97c2(0x11b));const _0x24020e=await _0xe1baae[_0x4a97c2(0x186)](),_0x2c5175=document[_0x4a97c2(0xce)](_0x4a97c2(0x13f))[_0x4a97c2(0x164)];let _0x3ac598=products;const _0x1eeba6=getUserPermissionApiERP(0x2);_0x1eeba6==0x1&&(_0x3ac598=products[_0x4a97c2(0x1ee)](_0xb6795a=>Array[_0x4a97c2(0x1f9)](_0xb6795a[_0x4a97c2(0x117)])&&_0xb6795a[_0x4a97c2(0x117)][_0x4a97c2(0x1ac)](_0xf679fd=>String(_0xf679fd[_0x4a97c2(0x19d)])==String(_0x2c5175))));const _0x1fc38c=_0x3ac598[_0x4a97c2(0x17a)]((_0x142ce1,_0x4a491a)=>{var _0x5f58bc=_0x4a97c2;const _0x29168c=_0x4a491a[_0x5f58bc(0x1d1)];if(!_0x142ce1[_0x29168c])_0x142ce1[_0x29168c]=[];return _0x142ce1[_0x29168c][_0x5f58bc(0x115)](_0x4a491a),_0x142ce1;},{}),_0x1bd162=Object[_0x4a97c2(0x159)](_0x1fc38c)[_0x4a97c2(0x18c)](_0x113fcc=>{var _0x234abf=_0x4a97c2;const _0x547f3c=_0x113fcc[0x0],_0x4e17c6=_0x113fcc[0x1]||{},_0x45061c=_0x113fcc[0x2]||{};function _0x55f483(_0x42d8b8,_0x59a637,_0x55f539){var _0x58b0a6=_0x733e;if(!_0x42d8b8||!Array[_0x58b0a6(0x1f9)](_0x42d8b8[_0x58b0a6(0x1e9)]))return'';const _0x1900f0=_0x42d8b8[_0x58b0a6(0x1e9)][_0x58b0a6(0xee)](_0x2867ad=>_0x2867ad[_0x58b0a6(0xfb)]===_0x59a637);return _0x1900f0?_0x1900f0[_0x55f539]:'';}return{'id':_0x547f3c['setIdProducto'],'setItemType':_0x547f3c[_0x234abf(0x152)],'setCodProducto':_0x547f3c[_0x234abf(0x14a)],'setDescripcion':_0x547f3c[_0x234abf(0x1d6)],'setItemDescription':_0x547f3c[_0x234abf(0x18a)],'setItemIsSold':_0x547f3c[_0x234abf(0x145)],'setItemIsBought':_0x547f3c[_0x234abf(0x12d)],'setCategoria':_0x547f3c[_0x234abf(0x127)],'setMarca':_0x547f3c['setMarca'],'setTaxId':_0x547f3c[_0x234abf(0xba)],'setUnitId':_0x547f3c['id'],'setItemBarCode':_0x547f3c['setItemBarCode'],'setUnidadCodigo':_0x547f3c['setUnidadCodigo'],'setItemUnitAlias':_0x547f3c['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x55f483(_0x547f3c,_0x234abf(0x1fd),'setMtoPrecioUnitario'),'PEN_setMtoPrecioCostoUnitario':_0x55f483(_0x547f3c,_0x234abf(0x1fd),_0x234abf(0x1b1)),'USD_setMtoPrecioUnitario':_0x55f483(_0x547f3c,_0x234abf(0x179),_0x234abf(0xc5)),'USD_setMtoPrecioCostoUnitario':_0x55f483(_0x547f3c,_0x234abf(0x179),_0x234abf(0x1b1)),'setItemCommissionPercentage':_0x547f3c[_0x234abf(0x126)]?parseFloat(_0x547f3c[_0x234abf(0x126)]):'','setUnitId2':_0x4e17c6['id']??'','setItemBarCode2':_0x4e17c6[_0x234abf(0x102)]??'','setUnidadCodigo2':_0x4e17c6[_0x234abf(0x122)]??'','setItemUnitAlias2':_0x4e17c6['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x4e17c6['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x55f483(_0x4e17c6,_0x234abf(0x1fd),_0x234abf(0xc5))??'','PEN_setMtoPrecioCostoUnitario2':_0x55f483(_0x4e17c6,_0x234abf(0x1fd),_0x234abf(0x1b1))??'','USD_setMtoPrecioUnitario2':_0x55f483(_0x4e17c6,_0x234abf(0x179),_0x234abf(0xc5))??'','USD_setMtoPrecioCostoUnitario2':_0x55f483(_0x4e17c6,_0x234abf(0x179),_0x234abf(0x1b1))??'','setItemCommissionPercentage2':_0x4e17c6[_0x234abf(0x126)]?parseFloat(_0x4e17c6['setItemCommissionPercentage']):'','setUnitId3':_0x45061c['id']??'','setItemBarCode3':_0x45061c[_0x234abf(0x102)]??'','setUnidadCodigo3':_0x45061c['setUnidadCodigo']??'','setItemUnitAlias3':_0x45061c[_0x234abf(0xed)]??'','setUnidadEquivalencia3':_0x45061c[_0x234abf(0xdf)]??'','PEN_setMtoPrecioUnitario3':_0x55f483(_0x45061c,_0x234abf(0x1fd),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x55f483(_0x45061c,_0x234abf(0x1fd),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x55f483(_0x45061c,_0x234abf(0x179),_0x234abf(0xc5))??'','USD_setMtoPrecioCostoUnitario3':_0x55f483(_0x45061c,_0x234abf(0x179),_0x234abf(0x1b1))??'','setItemCommissionPercentage3':_0x45061c[_0x234abf(0x126)]?parseFloat(_0x45061c[_0x234abf(0x126)]):'','setInventariable':_0x547f3c[_0x234abf(0x11f)],'setSucursalStock':_0x1eeba6==0x1?_0x547f3c['sucursales'][_0x234abf(0xee)](_0x28ffcd=>String(_0x28ffcd[_0x234abf(0x19d)])==String(_0x2c5175))[_0x234abf(0x16f)]:'','setWarehouseStockMin':_0x1eeba6==0x1?_0x547f3c[_0x234abf(0x117)][_0x234abf(0xee)](_0x2a8bc3=>String(_0x2a8bc3[_0x234abf(0x19d)])==String(_0x2c5175))['setWarehouseStockMin']:'','setBatchName':_0x547f3c[_0x234abf(0xbf)],'setBatchExpirationDate':_0x547f3c[_0x234abf(0x1b8)],..._0x547f3c[_0x234abf(0x17c)]};});try{JSON[_0x4a97c2(0x1a4)](_0x1bd162);}catch(_0x461f8d){console[_0x4a97c2(0xde)](_0x4a97c2(0x1f7),_0x461f8d),ntfShow(_0x4a97c2(0x165));return;}statusDiv[_0x4a97c2(0xdc)]='Generando\x20Excel...',progressBar[_0x4a97c2(0xda)]['display']=_0x4a97c2(0x173),progressBar[_0x4a97c2(0x164)]=0x0,itemWorker['postMessage']({'action':_0x4a97c2(0x11e),'products':_0x1bd162,'plantillaBuf':_0x24020e},[_0x24020e]);}catch(_0x25baf1){console[_0x4a97c2(0xde)](_0x25baf1),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x25baf1[_0x4a97c2(0x14f)]);}}itemWorker[_0x44ffb7(0x1b5)]=({data:_0x31fe8f})=>{var _0x3ec5b6=_0x44ffb7;const {type:_0xa95c57,payload:_0x4f2e61}=_0x31fe8f;_0xa95c57===_0x3ec5b6(0x196)&&(progressBar[_0x3ec5b6(0xda)]['display']=_0x3ec5b6(0x173),progressBar[_0x3ec5b6(0x164)]=_0x4f2e61['percent'],statusDiv[_0x3ec5b6(0xdc)]=_0x4f2e61[_0x3ec5b6(0x14f)]);_0xa95c57===_0x3ec5b6(0x1b6)&&(newItemsExcel=_0x4f2e61[_0x3ec5b6(0x111)],statusDiv[_0x3ec5b6(0xdc)]='✅\x20'+newItemsExcel[_0x3ec5b6(0x16d)]+_0x3ec5b6(0x1cf),uploadBtn[_0x3ec5b6(0xe2)]=![],progressBar[_0x3ec5b6(0x164)]=0x64,console[_0x3ec5b6(0x10c)](newItemsExcel));_0xa95c57===_0x3ec5b6(0xde)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x4f2e61,progressBar['style']['display']='none');if(_0xa95c57===_0x3ec5b6(0x149)){const {wbout:_0x298b23,count:_0x1e9dbf}=_0x4f2e61,_0x3a4a3d=new Blob([_0x298b23],{'type':'application/octet-stream'}),_0x1409d8=URL[_0x3ec5b6(0xd2)](_0x3a4a3d),_0x3648e9=document[_0x3ec5b6(0x187)]('a'),_0xed59be=new Date()[_0x3ec5b6(0x120)]()[_0x3ec5b6(0x146)](0x0,0xa);_0x3648e9[_0x3ec5b6(0x1de)]='Plantilla-Items-Export-'+_0xed59be+'.xlsx',_0x3648e9[_0x3ec5b6(0x10e)]=_0x1409d8,_0x3648e9[_0x3ec5b6(0x1c2)](),URL['revokeObjectURL'](_0x1409d8),statusDiv[_0x3ec5b6(0xdc)]='✅\x20Exportación\x20completada:\x20'+_0x1e9dbf+'\x20items.',progressBar['style'][_0x3ec5b6(0x1e2)]=_0x3ec5b6(0x1c1);}},fileInput[_0x44ffb7(0x177)](_0x44ffb7(0x1cd),async _0x2ef615=>{var _0x586a53=_0x44ffb7;const _0xbebc7=_0x2ef615['target'][_0x586a53(0x1db)][0x0];if(!_0xbebc7)return;uploadBtn[_0x586a53(0xe2)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style'][_0x586a53(0x1e2)]='none',dropZone[_0x586a53(0xd7)](_0x586a53(0x124))[_0x586a53(0xdc)]=_0xbebc7[_0x586a53(0x1e1)],removeBtn['hidden']=![];try{const _0x28ade1=await _0xbebc7['arrayBuffer']();itemWorker[_0x586a53(0x15e)]({'action':_0x586a53(0x1a1),'buf':_0x28ade1,'maxRows':0x1388});}catch(_0xe76a49){statusDiv[_0x586a53(0xdc)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput['value']='';}}),uploadBtn[_0x44ffb7(0x177)](_0x44ffb7(0x1c2),async()=>{var _0x4e53d9=_0x44ffb7;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x34c9a2=document[_0x4e53d9(0xce)](_0x4e53d9(0x13f))[_0x4e53d9(0x164)],_0x754b5a=[];newItemsExcel[_0x4e53d9(0xfd)](_0x58f206=>{var _0xc00fe9=_0x4e53d9;const _0x278618=Boolean(_0x58f206[_0xc00fe9(0x166)]),_0x434b10=_0x278618?_0x58f206[_0xc00fe9(0x166)]:generateNumericUniqId();_0x58f206[_0xc00fe9(0xc2)]=[{'setStockInitial':_0x58f206[_0xc00fe9(0x1ef)],'setStockMinimum':_0x58f206[_0xc00fe9(0x183)],'setWarehouseCode':_0x34c9a2}],_0x58f206[_0xc00fe9(0x13c)][_0xc00fe9(0xfd)](_0x48872d=>{var _0x23652f=_0xc00fe9;const _0x1af196=Boolean(_0x48872d[_0x23652f(0x1d5)]),_0x19c0aa=_0x1af196?_0x48872d[_0x23652f(0x1d5)]:generateNumericUniqId();_0x48872d[_0x23652f(0x1d5)]=_0x19c0aa;const _0x804521=[];_0x804521[_0x23652f(0x115)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x48872d[_0x23652f(0x107)],'setMtoPrecioUnitario':_0x48872d['setPrice'],'setPriceLists':[]});const _0x49b1cc=_0x48872d[_0x23652f(0x184)]!=null&&_0x48872d[_0x23652f(0x151)]!=null&&(!isNaN(_0x48872d[_0x23652f(0x184)])||!isNaN(_0x48872d[_0x23652f(0x151)]));_0x49b1cc&&_0x804521[_0x23652f(0x115)]({'currency':_0x23652f(0x179),'setMtoPrecioCostoUnitario':_0x48872d[_0x23652f(0x184)],'setMtoPrecioUnitario':_0x48872d[_0x23652f(0x151)],'setPriceLists':[]});const _0x3b3cd2={'id':_0x19c0aa,'setIdProducto':_0x434b10,'setItemBarCode':_0x48872d[_0x23652f(0x102)],'setCodProducto':_0x58f206[_0x23652f(0xc1)],'setDescripcion':_0x58f206[_0x23652f(0x158)],'setItemDescription':_0x58f206['setItemDescription'],'setBatchExpirationDate':_0x58f206['setItemDateExpiry'],'setBatchName':_0x58f206[_0x23652f(0xbf)],'setItemIsSold':_0x58f206[_0x23652f(0x145)],'setItemIsBought':_0x58f206[_0x23652f(0x12d)],'setCategoria':_0x58f206[_0x23652f(0xcd)][0x0]||'','setMarca':_0x58f206[_0x23652f(0xea)][0x0]||'','setConversionFactor':parseFloat(_0x48872d[_0x23652f(0x199)]),'setImages':[],'setImg':_0x23652f(0x1f4),'setInventariable':_0x58f206[_0x23652f(0x1bf)],'setPorcentajeIgv':_0x58f206[_0x23652f(0xfc)],'setPrinters':[],'setTaxId':_0x58f206[_0x23652f(0xeb)],'setTipAfeIgv':_0x58f206[_0x23652f(0x1a9)],'setUnidad':_0x48872d[_0x23652f(0x103)],'setUnidadCodigo':_0x48872d[_0x23652f(0x103)],'setItemUnitAlias':_0x48872d[_0x23652f(0xc4)],'setItemCommissionPercentage':_0x48872d[_0x23652f(0x126)],'currency_data':_0x804521,'sucursales':_0x58f206[_0x23652f(0xc2)][_0x23652f(0x18c)](_0x35d520=>({'setIdSucursal':_0x35d520['setWarehouseCode'],'setSucursalStock':_0x35d520[_0x23652f(0x1ef)][_0x23652f(0x170)](),'setWarehouseStockMin':_0x35d520[_0x23652f(0x183)][_0x23652f(0x170)]()})),'setItemFree':_0x58f206[_0x23652f(0x154)],'setItemBrands':_0x58f206[_0x23652f(0xea)]['slice'](),'setItemCategories':_0x58f206['setItemCategories']['slice'](),'setItemComponents':_0x58f206[_0x23652f(0xbe)][_0x23652f(0x18c)](_0x1036f8=>({..._0x1036f8})),'setItemImages':_0x58f206[_0x23652f(0x10a)][_0x23652f(0x146)](),'setItemVariantName':_0x58f206[_0x23652f(0x1b9)],'setItemVariantValues':{..._0x58f206[_0x23652f(0x17c)]}},_0x23cdc4=products[_0x23652f(0x1fe)](_0x283f2b=>_0x283f2b['id']==_0x19c0aa&&_0x283f2b[_0x23652f(0x1d1)]==_0x434b10);_0x23cdc4>-0x1?Object[_0x23652f(0xdb)](products[_0x23cdc4],_0x3b3cd2):_0x754b5a[_0x23652f(0x115)](_0x3b3cd2);});}),console[_0x4e53d9(0x10c)](_0x4e53d9(0xec),newItemsExcel),await finalizeImport(_0x754b5a,newItemsExcel,!![]);});function initializeFormImages(){var _0x240092=_0x44ffb7;currentImages=Array(MAX_IMAGES)[_0x240092(0x133)](null),imgC[_0x240092(0x1d3)]='',baseItem[_0x240092(0x10a)]=[];for(var _0x2e3856=0x0;_0x2e3856<MAX_IMAGES;_0x2e3856++){(function(_0x3025c0){var _0x1c388f=_0x240092,_0x37cc9e=document[_0x1c388f(0x187)]('div');_0x37cc9e[_0x1c388f(0x16a)]=_0x1c388f(0x1f2),_0x37cc9e['dataset']['idx']=_0x3025c0;var _0x52898b=document[_0x1c388f(0x187)]('input');_0x52898b[_0x1c388f(0xff)]=_0x1c388f(0x18d),_0x52898b[_0x1c388f(0x178)]=_0x1c388f(0x1d8),_0x52898b[_0x1c388f(0xda)][_0x1c388f(0x1e2)]=_0x1c388f(0x1c1);var _0x4ffecb=document[_0x1c388f(0x187)](_0x1c388f(0xe1));_0x4ffecb[_0x1c388f(0xdc)]='+',_0x37cc9e['appendChild'](_0x52898b),_0x37cc9e[_0x1c388f(0xf0)](_0x4ffecb),imgC[_0x1c388f(0xf0)](_0x37cc9e),_0x37cc9e['addEventListener']('click',function(){var _0x56dfc8=_0x1c388f;_0x52898b[_0x56dfc8(0x1c2)]();}),_0x52898b[_0x1c388f(0x177)](_0x1c388f(0x1cd),function(_0x4e028d){var _0x190185=_0x1c388f,_0x2fbc23=_0x4e028d[_0x190185(0x1aa)][_0x190185(0x1db)][0x0];if(!_0x2fbc23)return removeImg(_0x3025c0);var _0x3243c5=new FileReader();_0x3243c5[_0x190185(0x161)]=function(_0x474708){var _0x2e07d0=_0x190185;_0x37cc9e[_0x2e07d0(0x1d3)]=_0x2e07d0(0x119)+_0x474708[_0x2e07d0(0x1aa)][_0x2e07d0(0x13d)]+'\x22>';var _0xdacc07=document[_0x2e07d0(0x187)](_0x2e07d0(0xe1));_0xdacc07[_0x2e07d0(0x16a)]=_0x2e07d0(0x129),_0xdacc07['textContent']='×',_0xdacc07[_0x2e07d0(0x177)](_0x2e07d0(0x1c2),function(_0x3e09ed){_0x3e09ed['stopPropagation'](),removeImg(_0x3025c0);}),_0x37cc9e[_0x2e07d0(0xf0)](_0xdacc07),currentImages[_0x3025c0]=_0x2fbc23,baseItem[_0x2e07d0(0x10a)]=currentImages[_0x2e07d0(0x1ee)](function(_0x52a61b){return _0x52a61b;});},_0x3243c5[_0x190185(0x13e)](_0x2fbc23);});}(_0x2e3856));}}function initializeFormIsSoldIsBought(_0x24321c=0x0){var _0x5f0920=_0x44ffb7;let _0x32cdcb,_0x1202af;if(_0x24321c!=0x0){const _0x224165=products[_0x5f0920(0xee)](_0x2db6d2=>_0x2db6d2['id']==_0x24321c);_0x32cdcb=_0x224165[_0x5f0920(0x12d)]==0x1||_0x224165[_0x5f0920(0x12d)]==!![]?!![]:![],_0x1202af=_0x224165[_0x5f0920(0x145)]==0x1||_0x224165[_0x5f0920(0x145)]==!![]?!![]:![];}else _0x32cdcb=!![],_0x1202af=!![];document['getElementById'](_0x5f0920(0x1b7))[_0x5f0920(0x1fb)]=_0x32cdcb,document[_0x5f0920(0xce)](_0x5f0920(0x1c9))[_0x5f0920(0x1fb)]=_0x1202af,baseItem[_0x5f0920(0x12d)]=_0x32cdcb,baseItem[_0x5f0920(0x145)]=_0x1202af;}function initializeFormInputsBasic(_0x559c91=0x0){var _0x22215f=_0x44ffb7;let _0x1b5473,_0x22bfb6,_0x4a8f1a,_0x45564d,_0x1e32f2,_0x551d75;if(_0x559c91!=0x0){const _0x272538=products[_0x22215f(0xee)](_0x4f342b=>_0x4f342b['id']==_0x559c91);_0x1b5473=_0x272538[_0x22215f(0x152)]??'1',_0x22bfb6=_0x272538[_0x22215f(0x14a)],_0x4a8f1a=_0x272538['setDescripcion'],_0x45564d=_0x272538['setItemDescription'],_0x1e32f2=_0x272538[_0x22215f(0x1b8)]??'',_0x551d75=_0x272538['setItemBarCode'];}else _0x1b5473='1',_0x22bfb6=getNextCode(products),_0x4a8f1a='',_0x45564d='',_0x1e32f2='',_0x551d75='';document[_0x22215f(0xce)]('inputItemType')[_0x22215f(0x164)]=_0x1b5473,document['getElementById'](_0x22215f(0xe5))[_0x22215f(0x164)]=_0x22bfb6,document[_0x22215f(0xce)](_0x22215f(0xd8))[_0x22215f(0x164)]=_0x4a8f1a,document[_0x22215f(0xce)](_0x22215f(0x1e8))[_0x22215f(0x164)]=_0x45564d,document[_0x22215f(0xce)](_0x22215f(0x160))[_0x22215f(0x164)]=_0x1e32f2,document[_0x22215f(0xce)](_0x22215f(0x197))['value']=_0x551d75,baseItem['setItemType']=_0x1b5473,baseItem[_0x22215f(0xc1)]=_0x22bfb6,baseItem[_0x22215f(0x158)]=_0x4a8f1a,baseItem['setItemDescription']=_0x45564d,baseItem[_0x22215f(0x18f)]=_0x1e32f2,baseItem['setItemBarCode']=_0x551d75,document[_0x22215f(0xce)](_0x22215f(0x110))[_0x22215f(0x1fb)]=![];}function initializeFormTax(_0x488ad9=0x0){var _0xb3c12e=_0x44ffb7;let _0x1b77ee;if(_0x488ad9!=0x0){const _0x170958=products[_0xb3c12e(0xee)](_0x403a5e=>_0x403a5e['id']==_0x488ad9);_0x1b77ee=_0x170958['setTaxId'];}else _0x1b77ee=myCompany[_0xb3c12e(0x141)];const _0x943d8b=document[_0xb3c12e(0xce)](_0xb3c12e(0x203));_0x943d8b[_0xb3c12e(0x164)]=_0x1b77ee,baseItem['setItemTaxId']=_0x1b77ee;const _0x218896=company[0x0][_0xb3c12e(0x1c0)]['find'](_0x3a1877=>_0x3a1877[_0xb3c12e(0xba)]==_0x1b77ee)?.[_0xb3c12e(0x1f6)]||0x0,_0x14e26e=company[0x0][_0xb3c12e(0x1c0)][_0xb3c12e(0xee)](_0xd10c0c=>_0xd10c0c[_0xb3c12e(0xba)]==_0x1b77ee)?.[_0xb3c12e(0x162)]||0x0;baseItem['setItemTaxCode']=_0x218896,baseItem[_0xb3c12e(0xfc)]=_0x14e26e;}function initializeFormCategoriesBrands(_0xbca750=0x0){var _0x19647d=_0x44ffb7;baseItem['setItemCategories']=[],baseItem['setItemBrands']=[],document[_0x19647d(0xd7)](_0x19647d(0x123))['innerHTML']='',document[_0x19647d(0xd7)](_0x19647d(0x15f))[_0x19647d(0x1d3)]='',document['querySelector'](_0x19647d(0x202))[_0x19647d(0x1d3)]='',document[_0x19647d(0xd7)](_0x19647d(0x1f1))[_0x19647d(0x1d3)]='';const _0x5d8a9d=myCompany['setItemCategories'][_0x19647d(0x18c)](_0x4d16af=>({'setCode':_0x4d16af['setItemCategoryName'],'setName':_0x4d16af[_0x19647d(0x136)]})),_0x15fa7d=myCompany[_0x19647d(0xea)][_0x19647d(0x18c)](_0xe54535=>({'setCode':_0xe54535[_0x19647d(0x169)],'setName':_0xe54535['setItemBrandName']}));initMulti('newItem_categories_select',_0x5d8a9d),initMulti(_0x19647d(0xd6),_0x15fa7d),document[_0x19647d(0xce)]('newItem_categories_select')[_0x19647d(0x177)]('selectionChange',function(_0x5be8d3){var _0x1bec8a=_0x19647d;baseItem['setItemCategories']=_0x5be8d3[_0x1bec8a(0x1ed)][_0x1bec8a(0x18c)](_0x56d12d=>_0x56d12d[_0x1bec8a(0x181)]);}),document[_0x19647d(0xce)](_0x19647d(0xd6))[_0x19647d(0x177)](_0x19647d(0xd9),function(_0x359e71){var _0x5427ff=_0x19647d;baseItem[_0x5427ff(0xea)]=_0x359e71[_0x5427ff(0x1ed)][_0x5427ff(0x18c)](_0x5b8522=>_0x5b8522[_0x5427ff(0x181)]);});if(_0xbca750!=0x0){const _0x2720f3=products['find'](_0x1cc69a=>_0x1cc69a['id']==_0xbca750);if(_0x2720f3['setCategoria']){const _0x2810ad=document['getElementById'](_0x19647d(0x12a)),_0x3efe5c=Array[_0x19647d(0x1a6)](_0x2810ad['querySelectorAll']('.options_list\x20div'))[_0x19647d(0xee)](_0x2bf858=>_0x2bf858['dataset']['code']==_0x2720f3[_0x19647d(0x127)]);_0x3efe5c&&_0x3efe5c[_0x19647d(0x1c2)]();}if(_0x2720f3[_0x19647d(0x185)]){const _0xf2da02=document[_0x19647d(0xce)](_0x19647d(0xd6)),_0x55a70c=Array[_0x19647d(0x1a6)](_0xf2da02[_0x19647d(0xbb)](_0x19647d(0xe4)))[_0x19647d(0xee)](_0x3f4cb5=>_0x3f4cb5[_0x19647d(0x143)][_0x19647d(0xd0)]==_0x2720f3[_0x19647d(0x185)]);_0x55a70c&&_0x55a70c[_0x19647d(0x1c2)]();}}}function initializeFormUnits(){var _0x408b85=_0x44ffb7;unitCount=0x0,document[_0x408b85(0xce)](_0x408b85(0x157))[_0x408b85(0x1d3)]='',baseItem[_0x408b85(0x13c)]=[];var _0x237f21=uniqueValuesArray(_0x408b85(0x103),_0x408b85(0x195),myCompany[_0x408b85(0x168)]);addUnit('',_0x237f21[0x3a]&&_0x237f21[0x3a][_0x408b85(0x181)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0xf5c713=_0x44ffb7;prodC[_0xf5c713(0x1d3)]='',baseItem[_0xf5c713(0xbe)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x18eb9c=_0x44ffb7;branchesC['innerHTML']='',baseItem[_0x18eb9c(0xc2)]=[];const _0x5eb9ee=getAllWarehouses();_0x5eb9ee[_0x18eb9c(0xfd)](function(_0x27d2e0){var _0x34357c=_0x18eb9c,_0x2c4188=document[_0x34357c(0x187)](_0x34357c(0x144));_0x2c4188[_0x34357c(0x1d3)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x34357c(0xe6)+_0x34357c(0x1be)+_0x27d2e0[_0x34357c(0x13f)]+_0x34357c(0x13b)+_0x27d2e0[_0x34357c(0x15d)]+'</label>'+_0x34357c(0x106)+_0x34357c(0xe6)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x27d2e0[_0x34357c(0x13f)]+'\x22>'+_0x34357c(0x106)+'<div\x20class=\x22newItem_col\x22>'+_0x34357c(0x15c)+_0x27d2e0['setWarehouseId']+'\x22>'+'</div>'+_0x34357c(0x106),branchesC[_0x34357c(0xf0)](_0x2c4188),_0x2c4188[_0x34357c(0xbb)]('input')[_0x34357c(0xfd)](function(_0x557eb2){var _0x53aba6=_0x34357c;_0x557eb2[_0x53aba6(0x177)](_0x53aba6(0x1da),updateBranches);});}),updateBranches();}function _0x27d4(){var _0x1c7e23=['newItem_btn_addProdItem','.options_list\x20div','inputItemCode','<div\x20class=\x22newItem_col\x22>','currentTarget','onerror','search','setItemBrands','setItemTaxId','Items\x20finales:','setItemUnitAlias','find','bind','appendChild','.branchChk','dispatchEvent','variant_','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','max','.eqInput','btnExportarItems','_comp_container','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','.options_list','currency','setItemTaxValue','forEach','.vgVals','type','objectStore','1332324BqPeRI','setItemBarCode','setUnitCode','windowId','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','</div>','setCost','add','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemImages','newItem_branches_container','log','2563821vbRHuM','href','\x22\x20value=\x22','newItem_addToCart','items','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','costInput','contains','push','dataTransfer','sucursales','setEquivalence','<img\x20src=\x22','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','.removeGroup','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','exportItems','setInventariable','toISOString','{}.constructor(\x22return\x20this\x22)(\x20)','setUnidadCodigo','#newItem_categories_select\x20.selected_tags','.drop-zone__prompt','newItem_title_table','setItemCommissionPercentage','setCategoria','modalOverlayCreateItem','remove','newItem_categories_select','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','readwrite','setItemIsBought','string','setWebhook','.removeProd','detalleModalCreateItem','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','fill','includes','every','setItemCategoryName','25RXxxHt','remove-file','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','312384dIvlVy','\x22\x20class=\x22branchChk\x22\x20checked>\x20','setItemUnits','result','readAsDataURL','setWarehouseId','.costInput','setTaxIdDefault','setWarehouseCode','dataset','div','setItemIsSold','slice','Error\x20al\x20procesar\x20la\x20operación:','.priceInput','exportDone','setCodProducto','true','.unitSelect','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','base','message','split','setPriceUSD','setItemType','prototype','setItemFree','padStart','.branchMin','newItem_units_container','setItemName','values','setMoneda','setCantidad','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setWarehouseName','postMessage','#newItem_categories_select\x20.options_list','inputItemDateExpiry','onload','setImpuestoValue','.removeCombo','value','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setItemId','_branch_container','setUnits','setItemBrandName','className','drop-zone','dragleave','length','Ingresa\x20el\x20nombre\x20del\x20item','setSucursalStock','toString','Ingresa\x20el\x20código\x20del\x20item','splice','block','Producto\x20Libre','preventDefault','idx','addEventListener','accept','USD','reduce','entries','setItemVariantValues','[id$=\x22_comp_container\x22]','drop','setPrice','compare','setCode','Nuevo\x20Producto','setStockMinimum','setCostUSD','setMarca','arrayBuffer','createElement','style=\x22display:none\x22','.variantForm','setItemDescription','620796sDenIo','map','file','apply','setItemDateExpiry','constructor','return\x20(function()\x20','_units_container','.branchInit','test','setUnitName','progress','inputItemBarCode','key','setFactor','.vgName','focus','keydown','setIdSucursal','trace','table','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','import','classList','dragover','stringify','active','from','selected','blur','setItemTaxCode','target','transaction','some','exception','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','toLowerCase','Enter','setMtoPrecioCostoUnitario','.variantCode','children','217053blmBPS','onmessage','done','newItem_chk_buy','setBatchExpirationDate','setItemVariantName','modalProductNewTitle','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','Producto\x20Guardado\x20Offline\x20Correctamente.','toggle','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setItemInventoriable','setImpuestos','none','click','inputItemType','newItem_title_table_cp','trim','tag','join','priceInput','newItem_chk_sell','.ms_input','match','.removeVariant','change','console','\x20items\x20procesados.','242660cZDJBX','setIdProducto','.prodQty','innerHTML','dragenter','setItemUnitId','setDescripcion','parse','image/*','setName','input','files','btnItemSave','div[data-default=\x22true\x22]\x20.eqInput','download','setImpuestoName','file-input','name','display','26FPTKIX','upload-btn','stopPropagation','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','selectedItem','inputItemDescription','currency_data','newItem_hidden','./js/apierp_item_wk.min.js','parentNode','detail','filter','setStockInitial','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','#newItem_brands_select\x20.options_list','image_box','(((.+)+)+)+$','./img/product.png','info','setImpuestoCode','ERROR:\x20plainProducts\x20no\x20serializable:','newItem_btn_addUnit','isArray','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','checked','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','PEN','findIndex','.selected_tags','offline_operations','oncomplete','#newItem_brands_select\x20.selected_tags','inputItemTax','setTaxId','querySelectorAll','.prod_input_container','Collator','setItemComponents','setBatchName','#newItem_branches_container\x20>\x20div','setItemCode','setItemWarehouses','.variantBarCode','setAlias','setMtoPrecioUnitario','.variantExpiry','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setDefault','default','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setItemCategories','getElementById','productType1','code','hidden','createObjectURL','newItem_images_container','25309BMlDtO','defineProperty','newItem_brands_select','querySelector','inputItemName','selectionChange','style','assign','textContent','__proto__','error','setConversionFactor','.unitAlias','span','disabled'];_0x27d4=function(){return _0x1c7e23;};return _0x27d4();}function initializeFormVariants(){var _0x25fd26=_0x44ffb7;baseItem[_0x25fd26(0x1b9)]='',baseItem['setItemVariantValues']={},vgC[_0x25fd26(0x1d3)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x4453b4,_0x3268a7,_0x17216c=![]){var _0x26ece2=_0x44ffb7;const _0x289b24=0xc8,_0x394396={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x26ece2(0x12f)]};for(let _0x3dc522=0x0;_0x3dc522<_0x3268a7[_0x26ece2(0x16d)];_0x3dc522+=_0x289b24){const _0x4f0841=_0x3268a7[_0x26ece2(0x146)](_0x3dc522,_0x3dc522+_0x289b24);await storeOfflineProduct({..._0x394396,'newItems':_0x4f0841});}products[_0x26ece2(0x115)](..._0x4453b4),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x26ece2(0x109)),_0x17216c?(fileInput[_0x26ece2(0x164)]='',uploadBtn[_0x26ece2(0xe2)]=!![],statusDiv[_0x26ece2(0xdc)]='',progressBar[_0x26ece2(0xda)][_0x26ece2(0x1e2)]='none',progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}