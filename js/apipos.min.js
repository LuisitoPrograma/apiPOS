/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.5
*/

const _0x773bc5=_0xd9f0;(function(_0x262c00,_0x212899){const _0x23d4c6=_0xd9f0,_0x3cb911=_0x262c00();while(!![]){try{const _0x1e0ea7=-parseInt(_0x23d4c6(0x3b4))/0x1+parseInt(_0x23d4c6(0x618))/0x2*(parseInt(_0x23d4c6(0x4e4))/0x3)+parseInt(_0x23d4c6(0x397))/0x4*(parseInt(_0x23d4c6(0x66d))/0x5)+parseInt(_0x23d4c6(0x3d6))/0x6+-parseInt(_0x23d4c6(0x227))/0x7+parseInt(_0x23d4c6(0x173))/0x8+-parseInt(_0x23d4c6(0x512))/0x9;if(_0x1e0ea7===_0x212899)break;else _0x3cb911['push'](_0x3cb911['shift']());}catch(_0x10835c){_0x3cb911['push'](_0x3cb911['shift']());}}}(_0x40f5,0x89fbb));const _0xe04d1f=(function(){let _0x2be181=!![];return function(_0x1a6d71,_0x43b5a7){const _0x1315ae=_0x2be181?function(){if(_0x43b5a7){const _0x24893c=_0x43b5a7['apply'](_0x1a6d71,arguments);return _0x43b5a7=null,_0x24893c;}}:function(){};return _0x2be181=![],_0x1315ae;};}()),_0x38d86e=_0xe04d1f(this,function(){const _0x588e0a=_0xd9f0;return _0x38d86e[_0x588e0a(0x106)]()['search'](_0x588e0a(0xde))[_0x588e0a(0x106)]()[_0x588e0a(0x2a0)](_0x38d86e)[_0x588e0a(0x30e)](_0x588e0a(0xde));});_0x38d86e();const _0xdaac60=(function(){let _0x3d40e0=!![];return function(_0x2090fb,_0xf5edb5){const _0x233ebc=_0x3d40e0?function(){const _0x5a5bf7=_0xd9f0;if(_0xf5edb5){const _0x298cd4=_0xf5edb5[_0x5a5bf7(0x119)](_0x2090fb,arguments);return _0xf5edb5=null,_0x298cd4;}}:function(){};return _0x3d40e0=![],_0x233ebc;};}()),_0x480147=_0xdaac60(this,function(){const _0x3449a0=_0xd9f0,_0x96f667=function(){const _0x21cfac=_0xd9f0;let _0x106993;try{_0x106993=Function(_0x21cfac(0x52c)+_0x21cfac(0x5df)+');')();}catch(_0x192d12){_0x106993=window;}return _0x106993;},_0x2d2bcc=_0x96f667(),_0x377c63=_0x2d2bcc[_0x3449a0(0x58f)]=_0x2d2bcc[_0x3449a0(0x58f)]||{},_0x4c8a0c=[_0x3449a0(0x415),_0x3449a0(0x13e),_0x3449a0(0x41a),_0x3449a0(0x47f),_0x3449a0(0x301),_0x3449a0(0x323),_0x3449a0(0x2d0)];for(let _0x5692a8=0x0;_0x5692a8<_0x4c8a0c['length'];_0x5692a8++){const _0x395dee=_0xdaac60[_0x3449a0(0x2a0)][_0x3449a0(0x3f3)][_0x3449a0(0x652)](_0xdaac60),_0x4b57e4=_0x4c8a0c[_0x5692a8],_0x4cfd62=_0x377c63[_0x4b57e4]||_0x395dee;_0x395dee['__proto__']=_0xdaac60['bind'](_0xdaac60),_0x395dee[_0x3449a0(0x106)]=_0x4cfd62[_0x3449a0(0x106)][_0x3449a0(0x652)](_0x4cfd62),_0x377c63[_0x4b57e4]=_0x395dee;}});_0x480147();const searchInput=document[_0x773bc5(0x536)]('searchInput');function _0x40f5(){const _0x171960=['shift-close-infoValue','0.1','Usuario\x20no\x20encontrado','COTIZAR','setMonedaName','FORMA\x20DE\x20PAGO:\x20CRÉDITO','get','Venta\x20Interna','IGV\x20Gratuitas','setCashInitial','setTaxId','alt','CUATRO','setShiftStatus','tabs-icon-online','detalleModalWindowShift','setBranchName','active\x20tab-section-pay-','bi\x20bi-calendar\x20icon-pay-calendar','setSubTotal','cart-item-options\x20d-none','7300548lMgGgc','input','dispatchEvent','setCashInitialInput','element-bathroom-men','setMtoValorGratuito','cuotas-container-','checked','mousedown','navmenu','005','visualizacion','index','reduce','No\x20se\x20encontraron\x20datos.','clientWidth','setTipoOperacionCodigo','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','getDate',')\x20en\x20almacén\x20','insertBefore','\x22\x20no\x20encontrada.','desc','button','Email','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','return\x20(function()\x20','render','off','setAccountingAccountType','Por\x20favor,\x20ingrese\x20un\x20número\x20de\x20whatsapp.','setFechaHora-','./img/layout/icon-cashier.svg','Window\x20not\x20found.','btnShiftEnd','innerHTML','getElementById','setCustomerEmail','shift-close-infoSpan','touchend','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','closest','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','setReceipt','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','./img/icon-contado-credito.svg','./img/layout/icon-table.svg','placeholder','Error\x20Internet','div_section_options','setDescuento_setCodTipo','setTipoOperacionName','016','./img/icon-reporte-ventas.svg','btnOpciones','shift-close-img','width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','\x22\x20value=\x22','div-width-30\x20col-bt-padding','btnSaveOperacion-','div-width-15','tabs-environments-btn\x20selected','.input-array-comision','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','container-section-pay\x20row','Error\x20Save\x20Data:','setClienteDireccion-','div-width-50','events','IGV','label-cart','setDetraccion','windowObj','setAttachEdit-','resultado','Sig>','Impuesto','mouseleave','Error\x20desconocido.','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','img-options','title','setTipAfeIgv','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','icon-arrow-right\x20hidden','src','setPaymentType','Alcohol\x20etílico','setReceiptId','tabs-environments-container','120px','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','https://luisitoprograma.com/api','open','ruc','round-small','shiftDetails','setCollaborators','Exportación','div-totals-right','head','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','.carousel-single-image','thead','fontkit','PERCEPCIÓN','setCustomerDocumentNumber','\x20input.input-array-method','DNI\x20debe\x20tener\x208\x20dígitos.','Reporte\x20de\x20ventas','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.','modalOverlayOptions','setMtoValorVenta','shift-open-title','\x20(*)\x20Nota:\x20','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','relative','setPrintServers','setLastCorrelative','No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20','online','setCompanyLogo','application/pdf','setPriceListAdjustmentAmount','console','</a>','./img/layout/icon-printer.svg','APLICAR:','fonts/Roboto/Roboto-Regular.ttf','debe','setPrinterName','OCHO','append','invoice','date','Zona:','setReceiptAttachArray','Barbero','createObjectURL','retencionTotal-','setNotas','shift-close-smallIcon','Comisión\x20mercantil','setClienteNumDoc','divs_payments\x20d-flex\x20flex-grow-1','/100','float-right-OpGratuita-','<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>','floor','Mesa','Error\x20Inputs','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','borderBottomRightRadius','href','setItemIsBought','setReceiptClientAddress','Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.','\x20draggable-','setCompanyName','draggable\x20draggable-element\x20draggable-','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','key','Total','019','defaultPrinter','Error\x20Print\x20Offline.','setClienteTipoDoc-','Pct-','./img/icon-detalle-turno.svg','custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','disabled','Subtotal\x20(','findIndex','Vendedor','CIENTO','\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','004','PAGAR','Duplicar','tabs-orders','element-printer','5px','setReceiptSeries','setSupplierDocumentNumber','setCustomers','.payment-option-','replaceChild','Detraccion','Leche','setPermissionValue','Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','cart-item','./img/icon-shift-calendar.svg','element-bar','Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>','Error\x20al\x20actualizar\x20data\x20online:','setSerie','tabs-environments-separator','length','setMtoPrecioUnitario_final','general-options\x20row','Habitación','1px\x20solid\x20#FF5900','setMtoValorUnitario_final','{}.constructor(\x22return\x20this\x22)(\x20)','payment-icon','setApiEndPoint','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','DESCRIPCIÓN','QUINCE','shift-open-img','Array\x20Windows\x20Error.','CINCUENTA','&times;','float-left-totals','setMtoDescItems_precio','cuota','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','json','razon_social','\x20del\x20','setEmailCredentialsSenderEmail','setFechaHoraReadonly','\x20(Soles)','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','target','setAccountingAccountCode','setWindowType','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','checkout-','0.00','setAttachSeries-','\x20(Inafecto\x20Gratuito)','Precio\x20Unitario','Total\x20Pendiente','\x20actualizado:','003','setDocTypeName','\x20input.input-array-totalcomision','onchange','div_section_right','Error\x20Op.','slice','Crea\x20tu\x20primera\x20ventana.','PERCEPCIÓN\x20(','shift-close-btn','setLastFechaHora','Total\x20Efectivo:','.custom-input-cart-setClienteDenominacion','Serie\x20no\x20encontrada','Error\x20desconocido\x20al\x20actualizar\x20Data.','</span>\x0a</label>','setPercepcion','float-right-','payment-contado','flex','Cajero\x20/\x20Vendedor:','setTipoDocCodigo','some','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','embedJpg','188ojZIWq','setCustomerEmail-','Fecha\x20de\x20Apertura:\x20','Contado','focus','innerText','setBatchName','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','RUC','sucursales','div-totals-right-TotalIgv-','setIdProducto','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','!</b><br><br>\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20<b>','closeModalShift','btnsetAttach-','setCustomerName','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','011','charCodeAt','custom-checkbox','application/json','Teléfono','data-tab','Comisión\x20(','setClienteTipoDoc','<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>','#ffffff','split','btnShiftStart','general-options-','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','N°\x20de\x20operación','.dropdown-item-pais-flag','catch','clientX','products','FINALIZAR\x20OPERACIÓN','Minerales\x20no\x20metálicos','imgSrc','IGV\x20GRATUITAS','Apertura:','007','Placa:','toISOString','https://apierp.dev/api/windows/update/','................................................','addElementControls','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','No\x20se\x20encontró\x20el\x20botón.','name','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','setLastDateUpdate','finally','setOrderId','keys','layout-windows','toLowerCase','bind','1001\x20Operación\x20Sujeta\x20a\x20Detracción','.tab-content','setDescuento','div-width-24\x20btnopt','Minerales\x20metálicos\x20no\x20auríferos','indexOf','concat','setDocumentType','tab-content\x20active\x20tab-','</span>','save','Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','querySelector','porcentaje_comision','d-none','.itemCheckbox-','setTipoOperacionInvoice','setConversionFactor','Error\x20al\x20procesar\x20la\x20URL:','revokeObjectURL','setAttachEdit','setSerieTipo','string','preventDefault','shift-close-diffValue','035','85mnlyvC','xxxxxxxxyxxxxxxx','Order\x20Products\x20not\x20found.','file','setSeriesCorrelativeInitial','setWindowStatus','padStart','<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20','setMtoBaseIgv','action','setDetraccionCodigoName','Estado\x20del\x20layout\x20cargado.','FECHA:','setPriceListType','.suggestions-container','setIdSucursal','./img/layout/icon-room.svg','DESCUENTO\x20GLOBAL','removeProperty','assign','shiftContent','setRetencion','filter','detraccionCodigo-','(((.+)+)+)+$','shift-close-container','detalleModalOptions','setPaymentCode','Error\x20en\x20la\x20solicitud:','flex-column\x20tab-content\x20active\x20tab-','div-group-container\x20div-width-100','block','vuelto','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt','windowId','%\x20Desc.\x20de\x20','setPrinterAlias','dataset','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','setDefaultNoteType','then','float-left-TotalDescuento-','PRECIO\x20U.','setWindowId','Cerrar\x20Turno','setOrders','shift-close-info-col','costo','\x20input.input-array-comision','031','options','Cajero:','020','shift-open-rightCol','Subtotal','form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size','Bien\x20inmueble\x20gravado\x20con\x20IGV','selectTab','display','UNO','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','input-setWindowName','setUserName','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','toString','U.\x20MEDIDA','OP.\x20EXONERADAS','setObservacion','#f0f0f0','tabs-editLayout','Seleccione:','setCashierName','./img/icon-flecha-inferior.svg','container-section-pay-','./img/product.png','detalleModal','stringify','setAttachNumber-','setMonedas','.<br><br>\x0a','%)\x20(','input-','tbody','apply','shift-open-btnContainer','setReceiptClientName','setConsumo','setImpuestoValue','cartId','parentNode','Bienes\x20exonerados\x20del\x20IGV','setCantidad','status-label-','TIPO\x20OPERACIÓN:','reject','Registrar\x20Gasto','getSize','marginRight','setBankAccounts','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.','borderBottomLeftRadius','setCompanyWebsite','setBankType','Nº\x20Operación:\x20\x20','float-right-Subtotal-','drawLine','setDetraccionPorcentaje','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion','float-left-OpInafecta-','\x20|\x20','hidden','direccion','Serie\x20Incorrecta','Percepcion','setPreAccountDate','cart-','Consumo','sendEmail','Op.\x20Inafectas\x20(','Product\x20not\x20found.','warn','efectivo','float-right-TotalDescuento-','div-text-debe-vuelto-','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','setBankId','luisitoprograma-pdf','payment-credito','\x20a\x20','(equiv.\x20','Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV','setClienteNumDoc-','030','Guardando\x20Correlativo\x20en\x20DB','setWindowTypeShape','form','closeModalPay','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.','left','setCorrelativo-','objectStore','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','color','Shift\x20Save\x20Error:','container-title-options','setSuppliers','setPermissionId','center','setMoneda','Forma\x20de\x20Pago','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:','.printer','closeModalOptions-','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','\x20para\x20la\x20variante\x20del\x20producto\x20','setSeriesType','setMarca','includes','.category-label','Order\x20removed\x20because\x20no\x20products\x20remained.','printerDropdown','setTipoDocumentosCliente','Desc.\x20Global\x20(','setCurrencySymbol','cart-panel','#f7f7f7','015','setCollaboratorId','Ejm:\x201','toFixed','setItemDescription','setPorcentajeDesc','Error\x20al\x20guardar\x20el\x20layout\x20online:','3538224SffPSn','Servicio\x20de\x20transporte\x20de\x20personas','setDescuento_setMonto_precio','\x20(master\x20','Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:','https://apierp.dev/api/apiPOS/get/','getBoundingClientRect','setPrinterId','Apertura\x20de\x20Caja','data-code','selectedIndex','Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal','div-width-10\x20col-bt-padding','div-width-100\x20col-bt-padding','textContent','status','marginLeft','setMtoPrecioCostoUnitario_input','setTipoOperacion-','setProductos','toDataURL','Costo','find','image/png','setCajeroCodigo','Teléfono:','setTipoOperacionInvoice-','removePage','setUserNombres','\x20guardadas.','IMPORTE\x20TOTAL','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','itemCheckbox-','setUsers','float-left-Subtotal-','Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.','WindowId\x20Error','shiftKey','product-zoom-area','Eliminar\x20ventana','btnModalNewOperation','statusText','Producto\x20variante\x20','036','setPrecioUnit','div_section_pay','setMtoDescItems','floorId','ONCE','setCustomerPhone','mousemove','Banco:\x20\x20','Agregado\x20...','suggestions-container','setMedioPago-','newElementType','Enter','selectedCountry','Oro\x20gravado\x20con\x20el\x20IGV','RETENCIÓN\x20(','shift-table\x20','CANT','splice','setImpuestos','.menu-options','setWarehouseStockMin','map','RESOLUCION\x20NRO\x200340050005929/SUNAT','toLocaleTimeString','VENDEDOR:','Error\x20al\x20eliminar\x20productos:','Embarcaciones\x20pesqueras','setBankName','PEN','shift-open-container','context-menu','./img/layout/icon-clock.svg','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','VEINTI','Retencion','input-setWindowType','setImg','tab-','\x20|\x20F.V.\x20','children','element-user','012','setChecked','detalleModalShift','setAttribute','Editar\x20ventana','remove','https://wa.me/','NOVECIENTOS','Error\x20Company\x20Data.','PRECIO','026','La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.','setIdOperation','div-totals-right-TotalIgvGratuitas-','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','nextSibling','div-width-35\x20col-bt-left-padding','shift-close-row2','./img/layout/icon-bathroom-unisex.svg','Error\x20saving\x20window\x20options\x20DB','height','setPayments','message','layoutState','documento.pdf','./img/layout/icon-vase.svg','Azúcar','product-content','stopPropagation','substring','setSellerId','value','div-totals-right-Subtotal-','018','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','rows','Guardar','closeModalWindowShift','occupied','\x20emitido\x20el\x20','pdfBlob','setUserId','fecha','setItemIsSold','./img/icon-contado.svg','float','items','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','setShiftDateStart','getHours','Producto\x20eliminado','element-waiter','setCashierId','quantity','btnSaveOperacion\x20custom-input-btn-background\x20form-control','justify-content-between','Vuelto:','Shift\x20not\x20found.','SESENTA','setCodProducto','currency','setMtoValorUnitario','setMtoValorCostoUnitario_input','div','Stock\x20Actual:<br>','OCHOCIENTOS','fill','El\x20producto\x20\x22','span-options','setPaymentAmount','setMtoOperGravadas','transaction','Order\x20not\x20found.','setImpuestoName','Total:\x20','phoneNumber','touchstart','modalOverlayCreateWindow','setDescuento_setMonto','.modal-overlay-carousel','shift-close-btnRow','\x20unidades\x20','setUserCode','div-width-15\x20div_margen','submit','credito','setPercepcionTotal','?text=','Error\x20al\x20guardar\x20Last\x20Correlative:','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','getAttribute','editado','DETRACCIÓN\x20(','element-cashier','2547335vVMRsx','Obtener','setTotal','total_comision','Total\x20Detracción\x20(','setDetraccionCodigo','setSerie-','AUTORIZADO\x20MEDIANTE','Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles','Data\x20no\x20válida','cloneNode','OP.\x20GRATUITAS','./img/layout/icon-user.svg','container-buttons','promise','setMtoOperGratuitas','Guardando\x20Correlativo\x20Offline\x20en\x20DB','setDescuento_setFactor','opciones','Dirección:','Total\x20(','Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.','<Ant','\x20CON\x20','setPriceLists','Egresos','div-width-25\x20col-bt-padding','setShiftCashAmount','element-clock','class','Movimiento\x20de\x20carga','allOperations:','btn-cart-pay','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','readonly','009','014','setMtoPrecioCostoUnitario','every','setMtoOperInafectas','forEach','setWarehouseId','contains','setReceiptDescGlobal','flex-grow-1\x20cart-items-container','Bien\x20o\x20Servicio:\x20','DESPACHO:','div-width-10\x20div_margen','right','number','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','setSupplierAddress','.draggable','\x20min','div-width-25','element-','setCategoria','022','\x20cuota','setBranchAddress','SIETE','setShiftId','Error\x20al\x20procesar\x20la\x20operación:','setMoneda-','TOTAL','Cliente','isArray','setWindowShiftId','element-bathroom-women','setPorcentajeGeneralIgv','btnopt_precuenta-','float-left','searchInput','setMtoImpVenta','No\x20hay\x20resultados.','Monto','add','setFechaHora','\x22\x20alt=\x22','modalOverlayShift','setSupplierName','NOVENTA','#pay-container-','1.5','Aperturar\x20Mesa','Sólo\x20quedan\x20','./img/icon-gastos.svg','\x20MILLONES','\x20(Exonerado\x20Gratuito)','.layout-tabs-environments','embedPng','col-xs-12','data-printer','setPaymentName','Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.','Contado\x20y\x20Crédito','Arena\x20y\x20piedra','url(\x27','./img/layout/icon-fridge.svg','setToken','nombres','./img/icon-settings.svg','Descuento\x20por\x20Items','float-right-totals','./img/icon-ajustes-operacion.svg','blur','drawImage','backgroundImage','https://apierp.dev/api/windows/create/','Op.\x20Gravada','No\x20se\x20encontraron\x20productos.','widthOfTextAtSize','Despachar\x20Después','setMtoPrecioUnitario_input','Muchas\x20gracias\x20por\x20su\x20compra','setUnidad','emailDestination','034','./img/layout/icon-vertical-line.svg','Detalle\x20de\x20Turno','shift-close-infoLabel','constructor','setImpuestoCode','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','setSucursalCodigo','\x20Y\x20','btnopt_dividir-','element-fridge','custom-label-cart-options','arrayBuffer','NUEVE','email','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2',':<br>','Total\x20percepción','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción','010','Porcentaje\x20retención','closeModal','setDespacho-','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','./img/layout/icon-laptop.svg','scale','<br>','none','OP.\x20GRAVADAS','detraccionPct-','setEmailCredentialsPortSMTP','\x22\x20class=\x22input-Descuento-Global\x22>','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','Error\x20al\x20guardar\x20el\x20carrito.','setNotes','Error\x20al\x20guardar\x20array','setCollaboratorDocNumber','shift-close-infoRow\x20','application/json;\x20charset=utf-8','input_cart_setButton\x20btn-none\x20div-width-5','Sección\x20con\x20ID\x20\x22','037','setValorCantidad','CINCO','window','custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','Maíz\x20amarillo\x20duro','Conductor:','setDespacho','setValorVenta','prepend','trace','div_section_products','files','detalleModalLayout','checkbox','sendWhatsApp','VEINTE','d-flex\x20mb-3\x20','modalOverlay','\x22,\x20\x22','./img/icon-credito.svg','No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.','Monto\x20Inicial:','setBankCurrency','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','\x20MIL','setEnvironmentName','DIECINUEVE','POST','Otros\x20servicios\x20empresariales','element-laptop','classList','label-options','\x20...</span>','suggestions-','marginTop','modalOverlayPay','033','position','collect','setMtoIGV','btn\x20btn-none\x20','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','setMtoPrecioUnitario','Error\x20al\x20guardar\x20el\x20carrito:','ID\x20Shift\x20Empty','important','cart-item-principal','room','test','hiddenFrame_','OCHENTA','#products','Error\x20en\x20la\x20solicitud','Cuota\x20','addEventListener','/login','QUINIENTOS','RETENCIÓN','exception','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','TRES','ceil','percepcionPct-','Backspace','setCustomerAddress','min','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.','saveWindows.php','valorCantidad','Operación\x20Guardada\x20Correctamente.','search','Producto:','IGV\x20Gratuitas\x20(','top','mt-3','setSeriesNumber','setBranchDefault','input[type=\x22number\x22]','infoLoadingModal','Tab','setMtoValorUnitario_input','setCorrelativo','setImageUrl','label','Descuento\x20Global','TAX\x20Error:\x20','CÓDIGO','\x20cuotas','Estado\x20del\x20layout\x20guardado\x20correctamente.','setWebhook','from','table','Opciones\x20de\x20la\x20ventana\x20','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt','container-title-options-','apiERP.dev/peru/consultas/cpe/','borderRadius','multipart/form-data','Nota:','SETENTA','dni','float-right-TotalIgvGratuitas-','./img/layout/icon-bathroom-women.svg','print','setPorcentajeIgv','div_section_left','Error\x20Push\x20Product!\x20','10px','Nº\x20','width','numero-cuotas-','btnopt_consumo-','push','clearRect','float-left-OpExonerada-','div-total-pay-','008','getPage','[addToCart]','chair','removeEventListener','div-width-100\x20col-bt-left-padding','<img\x20class=\x22icon-element\x22\x20src=\x22','setShiftNotes','toggle','MIL','Carnes\x20y\x20despojos\x20comestibles','select','Marca:<br>','charAt','Precio','apiPOSsendOffline','Diferencial:','all','setBatchExpirationDate','setShiftCount','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','ORDENAR','getFullYear','posicionesPorPiso','modalOverlayWindowShift','Caja\x20Final:','drawText','setReceiptClientDocType','shift-open-leftCol','input_cart_moreOptionsButton\x20div-width-5\x20','SEIS','CERO','Proveedor:','Resultado','https://apierp.dev/api/print/send/','setCurrencyDefault','Error\x20en\x20la\x20respuesta\x20del\x20servidor.','tabs-areas-responsive','setIgv','btnWindowSave','percepcionTotal-','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','Fecha','Algodón\x20en\x20rama\x20sin\x20desmontar','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','setReceiptCurrency','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','banco','setClienteDenominacion','CIEN','input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setAccountingAccountId','active','selected','object','No\x20se\x20encontró\x20sucursal\x20','className','Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.','NOTAS:','setAccountingAccountName','setImages','.carousel-prev','Vendedor:','borderTopLeftRadius','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22','setEmailCredentialsHostSMTP','setCollaboratorFullName','cart-panel\x20d-flex\x20flex-column\x20flex-grow-1','.category-checkbox','shift-close-notaLabel','setItemFree','btn-options','setSeries','shift-table-expenses','pop','<i\x20class=\x22','Total\x20Retención\x20(','contado','DOCE','setShiftDateEnd','method','Cierre\x20de\x20Turno','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','No\x20Despachar','appendChild','touches','shift-close-leftCol','setItemBarCode','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','onload','./img/apiPOS.png','181092tVLLLG','\x20!important;\x0a}\x0a','setWindowName','element-vertical-line','cart-item-options-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','setRetencionTotal','layout','setTotalImpuestos','startsWith','Ajustes\x20de\x20operación','step','container-section-options','result','_blank','setDescuentoGlobal_Monto','Total\x20retención','DIECISÉIS','No\x20se\x20encontró\x20el\x20select','shift-close-rightCol','innerWidth','Dirección','clientY','url(\x27./img/product.png\x27)','Error:\x20','setMtoOperExoneradas','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','btnConsultar-','setReceiptProducts','839148KwOOXx','setPercepcionPorcentaje','free','./img/layout/icon-window.svg','resize','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','setCompanyNameTrade','data','currency_data','https://apierp.dev/api/layout/update/','setVisible','Seleccione','Crédito','PDF\x20Error.','textarea','backgroundColor','offsetHeight','abs','Op.\x20Gratuita','#080060','setSucursalStock','div-totals-right-TotalDescItems-','lastChild','shift-close-label','Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20','product-container','getMonth','setAttachType-','021','#fff','general-options','keydown','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','Mozo:\x20','1868370owKqIo','offline_operations','Apertura','custom-input-cart-options\x20form-control\x20div-width-25','size','[updateCartItem]\x20excede\x20stock','\x20-\x20','./img/layout/icon-bar.svg','modalOverlayLayout','active\x20tab-section-options-','setMonedaSimbol','setClienteDireccion','setUserDocNumber','setVendedorCodigo-','monto_calc','getContext','getAll','Serie:','setEmailCredentialsId','float-left-','Nº\x20de\x20cuotas','Cod:\x20','\x20de\x20','\x22)\x27>','Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','Error\x20Network.','nro_operacion','prototype','drawRectangle','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','div-totals-right\x20d-none','setReceiptType','setServerRoot','Medio\x20de\x20pago\x20para\x20ventana\x20','Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.','tabs-environments-btn','tabIndex','\x20payment-option-','hasOwnProperty','TRECE','setPriceListRangeEnd','Banco:','d-flex\x20mb-3','tabs-home','PRE\x20CUENTA','null','span','DOS','tabs-icon-offline','shift-open-label','toUpperCase','keypress','setShifts','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','FORMA\x20DE\x20PAGO:\x20CONTADO','normal','.pdf','nextElementSibling','element-bathroom-unisex','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','Medio\x20de\x20pago\x20crédito\x20actualizado:','log','float-right-OpInafecta-','fonts/Roboto/Roboto-Light.ttf','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.','Nº\x20de\x20Cuotas:','info','padding','div-width-25\x20btnopt\x20btnoptfirst','Opciones','\x20para\x20completar\x20el\x20total.','change','setReceiptAttachId','readwrite','elementos','detalleModalCreateWindow','datos','text','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','.pagination','CATORCE','Ingresos','max','039','apellidos','Cajero','show_right_section','setRetencionPorcentaje','element-vase','\x20(Gravado\x20Gratuito)','setEmailCredentialsSenderPassword','col-md-6','Editar','setUserEmail','btnopt_facturar-','replace','DIECISIETE','random','025','mixto','registerFontkit','isCommission','.carousel-next','Total-','setDescripcion','RUC\x20debe\x20tener\x2011\x20dígitos.','toLocaleString','.layout-tab-btn','setCorrelativoInicial','window_options_','currentTarget','clientHeight','cart-item-principal-','monto','Window\x20Creada\x20Correctamente.','click','square-small','shift-close-title','SEISCIENTOS','[updateCartItem]','type','setAuthToken','setCodTipo','pay-container-','Nom.\x20/\x20R.S.','oncomplete','No\x20se\x20encontraron\x20resultados.','onerror','setBranches','closeModalLayout','onsuccess','join','No\x20se\x20encontró\x20producto\x20con\x20id\x20','setBranchId','Madera','setAccountingAccounts','btnModal','active-payment','Error\x20al\x20guardar\x20el\x20layout:\x20','cart_','offsetWidth','Contratos\x20de\x20construcción','\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>','onclick','.carousel-image-container','setObservacion-','setTipoOperaciones','setUser_Local','checkout','div-width-options\x20col-bt-padding-options','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','DATOS\x20DE\x20DISTRIBUCIÓN','Error\x20al\x20guardar\x20datos:','No\x20hay\x20un\x20PDF\x20cargado.','totals','Algodón','match','setCurrencyName','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','<br>Vence:\x20','style','canvas','iframe','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40','fechaVencimiento','Caja\x20Inicial:','error','setServerType','0000-00-00\x2000:00:00','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','zIndex','Vence:\x20','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','firstChild','DNI','DESCUENTO\x20POR\x20ITEMS','pdfCanvas','\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','getViewport','setCompanyPhone','El\x20monto\x20debe\x20ser\x20exactamente\x20','Posición\x20actualizada\x20de','setCustomerPhone-','00/100','029','setMtoValorCostoUnitario','100%','chkRetencion-','\x20sec','font-size:\x2014px;','</b>,\x20a\x20continuación\x20adjuntamos:<br>\x0a','float-left-TotalIgv-','Ocupar\x20Sillón','setProperty','tabs-shift','suggestion-item','createElement','Mozo','Otros\x20medios\x20de\x20pago','setInventariable','background','img','datetime-local','setReceiptNumber','Cronograma\x20de\x20Pagos','Recepcionista','setPermissions','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','checkout-btn-','bi\x20bi-unlock','label-debe-vuelto','label-options\x20mb-2','download','Porcentaje\x20detracción','No\x20hay\x20conexión\x20a\x20internet.','\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20','product','SETECIENTOS','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','\x200.00','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','Error\x20al\x20guardar\x20operación\x20offline:','extraElements','setWindows','removeChild','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','No\x20se\x20encontraron\x20resultados','tab-totales-','custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','DIEZ','Check\x20In','.marca-label','querySelectorAll','Por\x20favor,\x20ingrese\x20un\x20email','float-right-TotalDescuentoItems-','setTaxIdDefault','\x20select.select-array-bank','img-options-o','setDetraccionTotal','float-left-TotalDescuentoItems-','Cliente/Proveedor\x20Requerido.','Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.','shift-div-table\x20','put','cart-item-principal\x20hidden','CorrectLevel','setFloorId','shift-open-btn','autocomplete','setPrinters','chkDetraccion-','trim','cash','Cuenta\x20Contable','shift-close-row1','Hora','setMonedaCodigo','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2','CUATROCIENTOS','setClienteDenominacion-','pagination','body','Moneda','Op.\x20Inafecta','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','icon-arrow-right','...','33705BAdJcS','setDividir','replaceWith','mouseenter','btnModalActive','btnAddProductFree','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','001','active\x20tab-cp-','Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:','setTipoOperacion','Recursos\x20hidrobiológicos','option','Liberar','**\x20','success','cart-panel-','offline','1\x20UND','chkPercepcion-','input-Descuento-Global-','.input-array-totalcomision','Error\x20al\x20crear\x20Window:','unit','Total\x20Percepción\x20('];_0x40f5=function(){return _0x171960;};return _0x40f5();}function RefreshProductsToIndexedDB(){return new Promise((_0x18cb56,_0x551aff)=>{const _0xd4b33e=_0xd9f0;createCartStore('')[_0xd4b33e(0xee)](_0xbfa543=>{const _0x30ab72=_0xd4b33e,_0x476782=_0xbfa543['transaction']('products','readwrite'),_0x51761e=_0x476782[_0x30ab72(0x152)](_0x30ab72(0x63c)),_0x35e4ca=_0x51761e['clear']();_0x35e4ca[_0x30ab72(0x457)]=_0x466ac3=>_0x551aff(_0x466ac3[_0x30ab72(0x5f4)][_0x30ab72(0x47f)]),_0x35e4ca['onsuccess']=()=>{const _0x32f74c=_0x30ab72;products[_0x32f74c(0x24f)](_0x3e0300=>_0x51761e[_0x32f74c(0x4cc)](_0x3e0300));},_0x476782[_0x30ab72(0x455)]=()=>_0x18cb56(),_0x476782[_0x30ab72(0x457)]=_0x43a87a=>_0x551aff(_0x43a87a[_0x30ab72(0x5f4)][_0x30ab72(0x47f)]);})[_0xd4b33e(0x63a)](_0x84d990=>_0x551aff(new Error(_0xd4b33e(0x332)+_0x84d990)));});}function getUserPermissionApiERP(_0x28a7ea){const _0x641fc3=_0x773bc5,_0x3fa0fd=myCompany[_0x641fc3(0x46b)],_0x29cf30=myCompany[_0x641fc3(0x194)],_0x571557=_0x3fa0fd['setUserId'],_0x28bc65=_0x29cf30[_0x641fc3(0x189)](_0x3ea1fc=>_0x3ea1fc[_0x641fc3(0x1f2)]==_0x571557);if(!_0x28bc65)return console['warn'](_0x641fc3(0x4ff)),null;const _0xa9b4c6=_0x28bc65[_0x641fc3(0x4a7)]['find'](_0x182956=>_0x182956[_0x641fc3(0x158)]==_0x28a7ea);return _0xa9b4c6?_0xa9b4c6[_0x641fc3(0x5d0)]:null;}function getLoggedUserSeries(){const _0x1e2d7a=_0x773bc5,{setUser_Local:_0x1eea82,setUsers:_0x25933d}=myCompany;if(!_0x1eea82||!_0x25933d)return console[_0x1e2d7a(0x13e)](_0x1e2d7a(0x1d1)),null;const _0xd3c637=_0x1eea82['setUserId'],_0x3547fe=_0x25933d[_0x1e2d7a(0x189)](_0x472029=>_0x472029[_0x1e2d7a(0x1f2)]==_0xd3c637);if(!_0x3547fe)return console[_0x1e2d7a(0x13e)](_0x1e2d7a(0x4ff)),null;return _0x3547fe[_0x1e2d7a(0x384)];}async function renderProducts(_0x4ee5db=''){const _0x1c228d=_0x773bc5,_0xf4b41=document[_0x1c228d(0x536)](_0x1c228d(0x63c));_0xf4b41['innerHTML']='';if(products['length']==0x0){_0xf4b41[_0x1c228d(0x181)]=_0x1c228d(0x295);return;}const _0x3e248c=getUserPermissionApiERP(0x2),_0x2d840b=document[_0x1c228d(0x536)](_0x1c228d(0x250))[_0x1c228d(0x1e8)],_0xa5913e=_0x4ee5db[_0x1c228d(0x651)]()[_0x1c228d(0x634)]('\x20'),_0x31d75d=document[_0x1c228d(0x536)]('windowId')[_0x1c228d(0x1e8)];let _0x27f47e;setTipOpeOrders[_0x1c228d(0x615)](_0x564811=>_0x564811==window_options[_0x31d75d][_0x1c228d(0x4ee)])||setTipOpeSales[_0x1c228d(0x615)](_0x5b4cac=>_0x5b4cac==window_options[_0x31d75d][_0x1c228d(0x4ee)])||setTipOpeQuotation[_0x1c228d(0x615)](_0x4c30a4=>_0x4c30a4==window_options[_0x31d75d][_0x1c228d(0x4ee)])?_0x27f47e=0x2:_0x27f47e=0x1;const _0x5ca2de=products['filter'](_0x21450d=>{const _0x591a25=_0x1c228d,_0x87c946=[_0x21450d[_0x591a25(0x204)]||'',_0x21450d[_0x591a25(0x393)]||'',_0x21450d[_0x591a25(0x440)]||'',_0x21450d[_0x591a25(0x170)]||'',_0x21450d[_0x591a25(0x61e)]||''][_0x591a25(0xdc)](_0x108d7d=>_0x108d7d[_0x591a25(0x4d4)]()!=='')[_0x591a25(0x45b)]('\x20')[_0x591a25(0x651)](),_0x2763ad=_0xa5913e['every'](_0x4bd14a=>_0x87c946['includes'](_0x4bd14a)),_0xf30e60=selectedCategories['length']==0x0||selectedCategories[_0x591a25(0x163)](_0x21450d['setCategoria']),_0x36cd11=selectedMarcas[_0x591a25(0x5d9)]==0x0||selectedMarcas[_0x591a25(0x163)](_0x21450d[_0x591a25(0x162)]),_0x4f9d56=_0x3e248c==0x1?_0x21450d['sucursales']&&_0x21450d[_0x591a25(0x621)][_0x591a25(0x615)](_0x734b7=>String(_0x734b7[_0x591a25(0x67c)])==_0x2d840b):!![];let _0x1b440a=!![];return _0x27f47e==0x1?_0x1b440a=_0x21450d[_0x591a25(0x5ad)]==0x1:_0x1b440a=_0x21450d[_0x591a25(0x1f4)]==0x1,_0x2763ad&&_0xf30e60&&_0x36cd11&&_0x4f9d56&&_0x1b440a;}),_0x5419ac=Math[_0x1c228d(0x304)](_0x5ca2de[_0x1c228d(0x5d9)]/ itemsPerPage);_0x5419ac==0x0?currentPage=0x0:currentPage=Math[_0x1c228d(0x42a)](0x1,Math[_0x1c228d(0x308)](currentPage,_0x5419ac));const _0x2108c7=(currentPage-0x1)*itemsPerPage,_0x5f22cc=Math[_0x1c228d(0x308)](_0x2108c7+itemsPerPage,_0x5ca2de['length']),_0x1afa13=_0x5ca2de[_0x1c228d(0x605)](_0x2108c7,_0x5f22cc);renderProductItems(_0x1afa13),renderPaginationControls(_0x5419ac);}function renderProductItems(_0x448d36){const _0x6010ad=_0x773bc5,_0x456e9f=document['getElementById'](_0x6010ad(0x63c)),_0x5042ed=document[_0x6010ad(0x536)]('windowId')['value'];_0x456e9f['innerHTML']='';if(_0x448d36['length']==0x0){_0x456e9f['textContent']=_0x6010ad(0x295);return;}const _0x2459e8=document[_0x6010ad(0x536)](_0x6010ad(0x250))[_0x6010ad(0x1e8)],_0x2efa4f=window_options[_0x5042ed][_0x6010ad(0x15a)],_0x325212=getCurrencySymbol(_0x5042ed),_0xd890e2=getUserPermissionApiERP(0xb),_0x5d17ec=getUserPermissionApiERP(0x10);let _0x1102d6;setTipOpeOrders[_0x6010ad(0x615)](_0x3010d2=>_0x3010d2==window_options[_0x5042ed][_0x6010ad(0x4ee)])||setTipOpeSales[_0x6010ad(0x615)](_0xad9633=>_0xad9633==window_options[_0x5042ed][_0x6010ad(0x4ee)])||setTipOpeQuotation[_0x6010ad(0x615)](_0x4c4006=>_0x4c4006==window_options[_0x5042ed]['setTipoOperacion'])?_0x1102d6=0x2:_0x1102d6=0x1,_0x448d36['forEach'](_0x1497d3=>{const _0x492764=_0x6010ad,_0x46a935=document[_0x492764(0x49d)](_0x492764(0x208));_0x46a935[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x433),_0x492764(0x282),_0x492764(0x312)),_0x46a935[_0x492764(0x478)][_0x492764(0x2ec)]=_0x492764(0x587);const _0x28e04a=document[_0x492764(0x49d)](_0x492764(0x208));_0x28e04a[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x4b1));const _0x175094=(_0x1497d3[_0x492764(0x621)]||[])[_0x492764(0x189)](_0x5483b0=>_0x5483b0[_0x492764(0x67c)]==_0x2459e8);if(_0x175094){const _0x2d33f1=parseFloat(_0x175094[_0x492764(0x3c8)]),_0xb830c8=parseFloat(_0x175094[_0x492764(0x1b4)]);_0x1497d3[_0x492764(0x4a0)]==0x1&&_0x2d33f1<=_0xb830c8&&(_0x28e04a[_0x492764(0x478)]['border']=_0x492764(0x5dd),_0x28e04a['setAttribute'](_0x492764(0x563),'El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20'+_0xb830c8['toFixed'](0x3)+'\x20'+_0x1497d3['setUnidad']));}_0x28e04a[_0x492764(0x1cc)]('tabindex','0'),_0x28e04a[_0x492764(0x467)]=()=>addToCart(_0x1497d3),_0x28e04a[_0x492764(0x2fd)](_0x492764(0x3d3),_0x2e5b7f=>{const _0xfca67f=_0x492764;_0x2e5b7f[_0xfca67f(0x5b4)]==_0xfca67f(0x1ab)&&addToCart(_0x1497d3);});if(Array['isArray'](_0x1497d3[_0x492764(0x378)])&&_0x1497d3[_0x492764(0x378)][_0x492764(0x5d9)]>0x0){const _0x4d2a74=document[_0x492764(0x49d)](_0x492764(0x208));_0x4d2a74[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x199)),_0x4d2a74['onclick']=_0x4793ab=>{const _0x33e8bf=_0x492764;_0x4793ab[_0x33e8bf(0x1e5)](),openImageModal(_0x1497d3[_0x33e8bf(0x623)]);},_0x46a935['appendChild'](_0x4d2a74);}const _0x4a3698=document['createElement'](_0x492764(0x208));_0x4a3698[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x1e4));const _0x3ee85c=document['createElement'](_0x492764(0x208));_0x3ee85c[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x3cd));const _0x517743=document[_0x492764(0x49d)]('div');_0x517743[_0x492764(0x2e5)][_0x492764(0x273)](_0x492764(0x3cd),_0x492764(0x200));let _0x38dcb5=isOnline?_0x1497d3[_0x492764(0x1c4)]:_0x492764(0x110);_0x28e04a['style'][_0x492764(0x292)]=_0x492764(0x288)+_0x38dcb5+'\x27)',_0x28e04a[_0x492764(0x457)]=function(){const _0xe74f9e=_0x492764;_0x28e04a[_0xe74f9e(0x478)][_0xe74f9e(0x292)]=_0xe74f9e(0x3ae);};const _0x1b1f31=document[_0x492764(0x49d)]('h7');let _0x2fc8b0='';_0x1497d3[_0x492764(0x170)]!=''&&(_0x2fc8b0+=_0x492764(0x2b7)+_0x1497d3['setItemDescription']);if(_0x1497d3['setBatchExpirationDate']!=''){const _0xd8d605=_0x1497d3['setBatchExpirationDate'],_0x275185=_0xd8d605[_0x492764(0x634)]('-'),_0x4befca=_0x275185[0x2]+'/'+_0x275185[0x1]+'/'+_0x275185[0x0];_0x2fc8b0+=_0x492764(0x477)+_0x4befca;}_0x1497d3[_0x492764(0x61e)]!=''&&(_0x2fc8b0+=_0x492764(0x2b7)+_0x1497d3[_0x492764(0x61e)]);let _0x56e015=_0x1497d3[_0x492764(0x204)];_0x1497d3[_0x492764(0x393)]!=''&&(_0x56e015=_0x56e015+_0x492764(0x674)+_0x1497d3[_0x492764(0x393)]+'</span>');_0x1b1f31['innerHTML']=_0x56e015+_0x492764(0x2b7)+_0x1497d3[_0x492764(0x440)]+'\x20'+_0x2fc8b0;const _0x2f1596=_0x1497d3[_0x492764(0x3bc)][_0x492764(0x189)](_0x2f4dcd=>_0x2f4dcd[_0x492764(0x205)]==_0x2efa4f)||{};let _0x1e941f,_0x3dbb49,_0x80130c;_0x1102d6==0x1?(_0x1e941f=_0x5d17ec==0x1?'X':(parseFloat(_0x2f1596[_0x492764(0x24c)])||0x0)[_0x492764(0x16f)](0x2),_0x3dbb49=(parseFloat(_0x2f1596[_0x492764(0x2f1)])||0x0)[_0x492764(0x16f)](0x2),_0x80130c=_0x492764(0x34a)):(_0x1e941f=(parseFloat(_0x2f1596[_0x492764(0x2f1)])||0x0)[_0x492764(0x16f)](0x2),_0x3dbb49=_0x5d17ec==0x1?'X':(parseFloat(_0x2f1596[_0x492764(0x24c)])||0x0)[_0x492764(0x16f)](0x2),_0x80130c=_0x492764(0x188));const _0x334cec=document[_0x492764(0x49d)]('p');_0x334cec[_0x492764(0x535)]=_0x325212+'\x20'+_0x1e941f+'\x20('+_0x1497d3[_0x492764(0x29a)]+')';const _0x7fbba5=document[_0x492764(0x49d)]('h6');_0x7fbba5[_0x492764(0x535)]=_0x80130c+_0x492764(0x2ac)+_0x3dbb49,_0x517743[_0x492764(0x390)](_0x7fbba5);if(_0xd890e2==0x1){const _0x5b1f5d=_0x1497d3[_0x492764(0x621)]['find'](_0x225449=>String(_0x225449[_0x492764(0x67c)])==_0x2459e8),_0x323bee=_0x5b1f5d?parseFloat(_0x5b1f5d[_0x492764(0x3c8)]):0x0,_0x1343db=document['createElement']('h6');_0x1343db[_0x492764(0x535)]=_0x492764(0x209)+_0x323bee[_0x492764(0x16f)](0x2),_0x517743['appendChild'](_0x1343db);}const _0x27bce6=document[_0x492764(0x49d)]('h6');_0x27bce6[_0x492764(0x535)]=_0x492764(0x348)+_0x1497d3[_0x492764(0x162)],_0x517743[_0x492764(0x390)](_0x27bce6),_0x3ee85c[_0x492764(0x390)](_0x1b1f31),_0x1b1f31[_0x492764(0x2cf)](_0x334cec),_0x4a3698[_0x492764(0x390)](_0x3ee85c),_0x4a3698[_0x492764(0x390)](_0x517743),_0x28e04a[_0x492764(0x390)](_0x4a3698),_0x46a935[_0x492764(0x390)](_0x28e04a),_0x456e9f['appendChild'](_0x46a935);});}function openImageModal(_0x3f9b74){const _0x492a26=_0x773bc5,_0x487899=products[_0x492a26(0x189)](_0x2c3ee3=>_0x2c3ee3[_0x492a26(0x623)]==_0x3f9b74),_0x343a33=_0x487899['setImages'][_0x492a26(0x1b5)](_0x295d70=>_0x295d70[_0x492a26(0x31a)])||[],_0x20fc58=document[_0x492a26(0x536)]('imageModal'),_0xb75b1b=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x578));let _0x538401=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x379)),_0x3bdedb=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x43e));const _0x5782d2=_0x20fc58[_0x492a26(0x65f)]('.modal-close-carousel'),_0x25e037=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x218));let _0x54c18d=0x0;_0x343a33[_0x492a26(0x24f)](_0x16c700=>{const _0x4ae3c6=new Image();_0x4ae3c6['src']=_0x16c700;});_0x343a33['length']<=0x1?(_0x538401[_0x492a26(0x478)][_0x492a26(0x100)]='none',_0x3bdedb[_0x492a26(0x478)][_0x492a26(0x100)]='none'):(_0x538401[_0x492a26(0x478)][_0x492a26(0x100)]='',_0x3bdedb[_0x492a26(0x478)][_0x492a26(0x100)]='');function _0x58c7e5(){const _0xd6baa1=_0x492a26;_0xb75b1b[_0xd6baa1(0x567)]=_0x343a33[_0x54c18d];}function _0x3eda4b(_0x3f7e9d){const _0xc7f876=_0x492a26;_0x3f7e9d[_0xc7f876(0x1e5)](),_0x54c18d=(_0x54c18d-0x1+_0x343a33['length'])%_0x343a33['length'],_0x58c7e5();}function _0x19dcd5(_0x1c5739){const _0x5dd560=_0x492a26;_0x1c5739[_0x5dd560(0x1e5)](),_0x54c18d=(_0x54c18d+0x1)%_0x343a33[_0x5dd560(0x5d9)],_0x58c7e5();}_0x538401['replaceWith'](_0x538401['cloneNode'](!![])),_0x3bdedb[_0x492a26(0x4e6)](_0x3bdedb[_0x492a26(0x231)](!![])),_0x538401=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x379)),_0x3bdedb=_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x43e)),_0x538401[_0x492a26(0x2fd)](_0x492a26(0x44b),_0x3eda4b),_0x3bdedb['addEventListener']('click',_0x19dcd5),_0x5782d2[_0x492a26(0x467)]=_0x5af740=>{const _0x38de19=_0x492a26;_0x5af740[_0x38de19(0x1e5)](),_0x20fc58['style'][_0x38de19(0x100)]=_0x38de19(0x2b8);},_0x25e037[_0x492a26(0x467)]=_0x125118=>{const _0x20641d=_0x492a26;_0x20fc58[_0x20641d(0x478)][_0x20641d(0x100)]=_0x20641d(0x2b8);},_0x20fc58[_0x492a26(0x65f)](_0x492a26(0x468))[_0x492a26(0x467)]=_0x1679d4=>_0x1679d4[_0x492a26(0x1e5)](),_0x54c18d=0x0,_0x58c7e5(),_0x20fc58[_0x492a26(0x478)][_0x492a26(0x100)]=_0x492a26(0xe5);}function renderPaginationControls(_0xd21bef){const _0x3e70b2=_0x773bc5,_0x35d376=document['querySelector'](_0x3e70b2(0x2fa)),_0x5876c3=document[_0x3e70b2(0x49d)]('div');_0x5876c3[_0x3e70b2(0x374)]=_0x3e70b2(0x4dd);const _0x8bab45=document['createElement'](_0x3e70b2(0x529));_0x8bab45[_0x3e70b2(0x181)]=_0x3e70b2(0x23d),_0x8bab45['disabled']=currentPage<=0x1,_0x8bab45[_0x3e70b2(0x467)]=()=>{const _0x5aab5b=_0x3e70b2;currentPage=Math[_0x5aab5b(0x42a)](0x1,currentPage-0x1),renderProducts();},_0x5876c3['appendChild'](_0x8bab45);const _0x1385c9=document[_0x3e70b2(0x49d)](_0x3e70b2(0x406));_0xd21bef==0x0?_0x1385c9[_0x3e70b2(0x181)]=_0x3e70b2(0x271):_0x1385c9[_0x3e70b2(0x181)]=currentPage+_0x3e70b2(0x3ec)+_0xd21bef;_0x5876c3[_0x3e70b2(0x390)](_0x1385c9);const _0x2c5948=document[_0x3e70b2(0x49d)]('button');_0x2c5948[_0x3e70b2(0x181)]=_0x3e70b2(0x55d),_0x2c5948[_0x3e70b2(0x5bd)]=currentPage>=_0xd21bef,_0x2c5948['onclick']=()=>{const _0x312c7d=_0x3e70b2;currentPage=Math[_0x312c7d(0x308)](_0xd21bef,currentPage+0x1),renderProducts();},_0x5876c3[_0x3e70b2(0x390)](_0x2c5948);const _0x4de1b7=document[_0x3e70b2(0x65f)](_0x3e70b2(0x427));_0x4de1b7&&_0x4de1b7['remove'](),insertAfter(_0x5876c3,_0x35d376);}function initializeCategorys(){const _0x461fa4=_0x773bc5,_0x4cde55=document[_0x461fa4(0x536)](_0x461fa4(0x51b)),_0x5a8699=_0x4cde55['querySelector']('ul');_0x5a8699[_0x461fa4(0x535)]='';const _0x35873c=document[_0x461fa4(0x536)](_0x461fa4(0x250))[_0x461fa4(0x1e8)],_0x914f86=getUserPermissionApiERP(0x2),_0x58663f=products[_0x461fa4(0xdc)](_0x320b4c=>_0x914f86==0x1?_0x320b4c[_0x461fa4(0x621)]&&_0x320b4c[_0x461fa4(0x621)][_0x461fa4(0x615)](_0x108330=>String(_0x108330['setIdSucursal'])==_0x35873c):!![]);products_category=[...new Set(_0x58663f[_0x461fa4(0x1b5)](_0x14e52c=>_0x14e52c[_0x461fa4(0x25f)])[_0x461fa4(0xdc)](_0x139938=>_0x139938))],products_category[_0x461fa4(0x24f)](_0x3f5188=>{const _0x167b80=_0x461fa4,_0x415edc=document[_0x167b80(0x49d)]('li');_0x415edc[_0x167b80(0x535)]=_0x167b80(0x48a)+_0x3f5188+'\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22'+_0x3f5188+_0x167b80(0x3d4)+_0x3f5188+'</span>\x0a</label>',_0x5a8699['appendChild'](_0x415edc);}),products_marca=[...new Set(_0x58663f[_0x461fa4(0x1b5)](_0xb720f8=>_0xb720f8[_0x461fa4(0x162)])[_0x461fa4(0xdc)](_0x40a7f4=>_0x40a7f4))],products_marca['forEach'](_0x57b0e2=>{const _0x45288e=_0x461fa4,_0x49fb5e=document[_0x45288e(0x49d)]('li');_0x49fb5e[_0x45288e(0x535)]=_0x45288e(0x5c2)+_0x57b0e2+_0x45288e(0x5f7)+_0x57b0e2+_0x45288e(0x3d4)+_0x57b0e2+_0x45288e(0x60e),_0x5a8699['appendChild'](_0x49fb5e);}),_0x4cde55[_0x461fa4(0x2fd)](_0x461fa4(0x44b),_0x5d8e5c=>{const _0xf7b1c5=_0x461fa4,_0x3d5ec9=_0x5d8e5c[_0xf7b1c5(0x5f4)]['closest'](_0xf7b1c5(0x164));if(_0x3d5ec9){const _0x2aaa74=_0x3d5ec9['querySelector'](_0xf7b1c5(0x380));_0x2aaa74[_0xf7b1c5(0x519)]=!_0x2aaa74[_0xf7b1c5(0x519)];const _0x37398f=_0x2aaa74[_0xf7b1c5(0x1e8)],_0x46f24e=_0x3d5ec9[_0xf7b1c5(0x65f)](_0xf7b1c5(0x406));_0x2aaa74[_0xf7b1c5(0x519)]?(_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x154)]=_0xf7b1c5(0x3d1),_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x4a1)]='#FF5900',_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x41b)]=_0xf7b1c5(0x5c8),_0x46f24e['style'][_0xf7b1c5(0x328)]='5px',selectedCategories[_0xf7b1c5(0x338)](_0x37398f)):(_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x154)]='',_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x4a1)]='',_0x46f24e['style'][_0xf7b1c5(0x41b)]='',_0x46f24e[_0xf7b1c5(0x478)][_0xf7b1c5(0x328)]='',selectedCategories=selectedCategories[_0xf7b1c5(0xdc)](_0x34a6b8=>_0x34a6b8!==_0x37398f)),renderProducts(document['getElementById'](_0xf7b1c5(0x26f))[_0xf7b1c5(0x1e8)]),showSection('div_section_products'),showLeftSection();}const _0x56d60b=_0x5d8e5c['target'][_0xf7b1c5(0x53b)](_0xf7b1c5(0x4c0));if(_0x56d60b){const _0x1b1f11=_0x56d60b[_0xf7b1c5(0x65f)](_0xf7b1c5(0x380));_0x1b1f11[_0xf7b1c5(0x519)]=!_0x1b1f11[_0xf7b1c5(0x519)];const _0xa836a0=_0x1b1f11[_0xf7b1c5(0x1e8)],_0xfaef0e=_0x56d60b[_0xf7b1c5(0x65f)](_0xf7b1c5(0x406));_0x1b1f11[_0xf7b1c5(0x519)]?(_0xfaef0e[_0xf7b1c5(0x478)][_0xf7b1c5(0x154)]='#fff',_0xfaef0e[_0xf7b1c5(0x478)][_0xf7b1c5(0x4a1)]='#FF5900',_0xfaef0e[_0xf7b1c5(0x478)][_0xf7b1c5(0x41b)]=_0xf7b1c5(0x5c8),_0xfaef0e[_0xf7b1c5(0x478)][_0xf7b1c5(0x328)]=_0xf7b1c5(0x5c8),selectedMarcas[_0xf7b1c5(0x338)](_0xa836a0)):(_0xfaef0e[_0xf7b1c5(0x478)]['color']='',_0xfaef0e[_0xf7b1c5(0x478)]['background']='',_0xfaef0e['style']['padding']='',_0xfaef0e[_0xf7b1c5(0x478)][_0xf7b1c5(0x328)]='',selectedMarcas=selectedMarcas[_0xf7b1c5(0xdc)](_0x474fda=>_0x474fda!==_0xa836a0)),renderProducts(document[_0xf7b1c5(0x536)](_0xf7b1c5(0x26f))[_0xf7b1c5(0x1e8)]),showSection(_0xf7b1c5(0x2d1)),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window[_0x773bc5(0x3ab)],pdfGlobalPayload={},pdfGlobalBlob,pdfGlobalName,elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document['getElementById'](_0x773bc5(0x650));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document[_0x773bc5(0x49d)]('style');document[_0x773bc5(0x576)]['appendChild'](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document['getElementById'](_0x773bc5(0x1ac)),countryList=document[_0x773bc5(0x536)]('countryList'),sendEmailButton=document['getElementById'](_0x773bc5(0x13b)),sendWhatsAppButton=document[_0x773bc5(0x536)](_0x773bc5(0x2d5)),phoneNumberInput=document[_0x773bc5(0x536)](_0x773bc5(0x214)),emailDestinationInput=document[_0x773bc5(0x536)](_0x773bc5(0x29b));function createElement(_0x3371c8,_0x424f3f={},_0x4b5917=[]){const _0x40ba22=_0x773bc5,_0x4ac736=document[_0x40ba22(0x49d)](_0x3371c8);return Object['keys'](_0x424f3f)[_0x40ba22(0x24f)](_0x29608e=>{const _0x271f32=_0x40ba22;if(_0x29608e==_0x271f32(0x244))_0x4ac736[_0x271f32(0x374)]=_0x424f3f[_0x29608e];else{if(_0x29608e==_0x271f32(0x556))Object[_0x271f32(0x64f)](_0x424f3f[_0x29608e])[_0x271f32(0x24f)](_0xcfb0ab=>{_0x4ac736['addEventListener'](_0xcfb0ab,_0x424f3f[_0x29608e][_0xcfb0ab]);});else _0x29608e=='innerHTML'?_0x4ac736[_0x271f32(0x535)]=_0x424f3f[_0x29608e]:_0x4ac736[_0x271f32(0x1cc)](_0x29608e,_0x424f3f[_0x29608e]);}}),_0x4b5917[_0x40ba22(0x24f)](_0x12b7b2=>{const _0x2cf2b1=_0x40ba22;typeof _0x12b7b2==_0x2cf2b1(0x669)?_0x4ac736[_0x2cf2b1(0x390)](document['createTextNode'](_0x12b7b2)):_0x4ac736[_0x2cf2b1(0x390)](_0x12b7b2);}),_0x4ac736;}function styleHackHeader(_0x24f996,_0x5133a2){const _0x2d295b=_0x773bc5;styleSheet[_0x2d295b(0x61d)]=_0x2d295b(0x3f5)+_0x24f996+_0x2d295b(0x4b0)+_0x5133a2+_0x2d295b(0x398);}function setElementWidthImportant(_0x2c1576,_0x2d9854){const _0x239ce0=_0x773bc5,_0x133842=document[_0x239ce0(0x536)](_0x2c1576);_0x133842?_0x133842['style']['setProperty'](_0x239ce0(0x335),_0x2d9854,'important'):console[_0x239ce0(0x47f)](_0x239ce0(0x577)+_0x2c1576);}function resetElementWidth(_0x415985){const _0x47e723=_0x773bc5,_0x3aabf2=document[_0x47e723(0x536)](_0x415985);_0x3aabf2?_0x3aabf2['style'][_0x47e723(0x67f)](_0x47e723(0x335)):console[_0x47e723(0x47f)](_0x47e723(0x577)+_0x415985);}function isMobile(){const _0x207857=_0x773bc5;return window[_0x207857(0x3ab)]<=0x300;}function showLeftSection(){const _0x24ffe1=_0x773bc5;if(isMobile()){const _0x4e45ad=document[_0x24ffe1(0x536)]('div_section_left'),_0x2a5ec1=document['getElementById'](_0x24ffe1(0x603));_0x4e45ad[_0x24ffe1(0x478)][_0x24ffe1(0x49a)](_0x24ffe1(0x100),_0x24ffe1(0x612),'important'),_0x2a5ec1[_0x24ffe1(0x478)][_0x24ffe1(0x49a)](_0x24ffe1(0x100),_0x24ffe1(0x2b8),_0x24ffe1(0x2f4)),styleHackHeader(_0x24ffe1(0x56c),_0x24ffe1(0x56c));}}function showRightSection(){const _0x3f3bba=_0x773bc5;if(isMobile()){const _0x4af5a2=document[_0x3f3bba(0x536)](_0x3f3bba(0x331)),_0x12faa2=document['getElementById'](_0x3f3bba(0x603));_0x12faa2['style'][_0x3f3bba(0x49a)](_0x3f3bba(0x100),'flex',_0x3f3bba(0x2f4)),_0x4af5a2[_0x3f3bba(0x478)][_0x3f3bba(0x49a)](_0x3f3bba(0x100),_0x3f3bba(0x2b8),_0x3f3bba(0x2f4)),styleHackHeader('0','0');}}function adjustHeight(){const _0x5d72df=_0x773bc5,_0x42970c=document[_0x5d72df(0x536)]('div_sections');_0x42970c[_0x5d72df(0x478)]['height']=window['innerHeight']+'px';}function insertAfter(_0x29d77d,_0x1ae5ed){const _0x1f0f52=_0x773bc5;_0x1ae5ed[_0x1f0f52(0x11f)][_0x1f0f52(0x526)](_0x29d77d,_0x1ae5ed[_0x1f0f52(0x1d8)]);}function insertBefore(_0x430c57,_0x175b9c){const _0x24916a=_0x773bc5;_0x175b9c[_0x24916a(0x11f)][_0x24916a(0x526)](_0x430c57,_0x175b9c);}function updateInternetIcon(){const _0x1c7ac7=_0x773bc5,_0x5498c9=document[_0x1c7ac7(0x536)](_0x1c7ac7(0x50b)),_0x3e7a78=document[_0x1c7ac7(0x536)](_0x1c7ac7(0x408));isOnline()?(_0x5498c9[_0x1c7ac7(0x374)]=_0x1c7ac7(0x4e2),_0x3e7a78['className']=_0x1c7ac7(0x566),apiERPsync()):(_0x5498c9[_0x1c7ac7(0x374)]=_0x1c7ac7(0x566),_0x3e7a78['className']=_0x1c7ac7(0x4e2));}async function apiERPsyncWindows(){const _0x1c6869=_0x773bc5;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany['setAuthToken'],myCompany[_0x1c6869(0x4b8)]);const _0x2881e6=document[_0x1c6869(0x536)](_0x1c6869(0x45d))[_0x1c6869(0x1e8)],_0x148f44=myCompany['setPrintServers'],_0xa619f0=_0x148f44[_0x1c6869(0x189)](_0x3ecb18=>_0x3ecb18[_0x1c6869(0x45d)]==_0x2881e6&&_0x3ecb18[_0x1c6869(0x480)]==0x2),_0x52749c=getUserPermissionApiERP(0xd),_0x2e38f2=_0xa619f0?0x1:0x0;if(_0x2e38f2==0x1&&_0x52749c==0x1){const _0x242a6b=_0x1c6869(0x2f8)+generateUUID(),_0x108b41=document[_0x1c6869(0x49d)](_0x1c6869(0x47a));_0x108b41['name']=_0x242a6b,_0x108b41['style'][_0x1c6869(0x100)]=_0x1c6869(0x2b8),document[_0x1c6869(0x4de)][_0x1c6869(0x390)](_0x108b41);const _0x54aa81=document[_0x1c6869(0x49d)]('form');_0x54aa81[_0x1c6869(0x38c)]='POST',_0x54aa81['action']=_0xa619f0[_0x1c6869(0x3f8)],_0x54aa81['enctype']=_0x1c6869(0x329),_0x54aa81[_0x1c6869(0x5f4)]=_0x108b41['name'];const _0x12b43f={'setWindows':JSON['stringify'](myCompany['setWindows'])};for(const _0x1c6752 in _0x12b43f){const _0x5f2aba=document[_0x1c6869(0x49d)]('input');_0x5f2aba[_0x1c6869(0x450)]=_0x1c6869(0x134),_0x5f2aba['name']=_0x1c6752,_0x5f2aba[_0x1c6869(0x1e8)]=_0x12b43f[_0x1c6752],_0x54aa81[_0x1c6869(0x390)](_0x5f2aba);}document[_0x1c6869(0x4de)][_0x1c6869(0x390)](_0x54aa81),_0x54aa81[_0x1c6869(0x21d)](),document[_0x1c6869(0x4de)][_0x1c6869(0x4b9)](_0x54aa81),setTimeout(()=>{const _0x59be34=_0x1c6869;document[_0x59be34(0x4de)][_0x59be34(0x4b9)](_0x108b41);},0x1388);}}}async function apiERPsync(){await apiERPsyncWindows(),processOfflineOperations();}function obtener_fechaHora(){const _0x4b53de=_0x773bc5,_0x45e86c=new Date(),_0x589cb6=_0x45e86c[_0x4b53de(0x352)](),_0x30fcd0=String(_0x45e86c[_0x4b53de(0x3ce)]()+0x1)[_0x4b53de(0x673)](0x2,'0'),_0xaa7a7=String(_0x45e86c[_0x4b53de(0x524)]())[_0x4b53de(0x673)](0x2,'0'),_0x220194=String(_0x45e86c[_0x4b53de(0x1fa)]())[_0x4b53de(0x673)](0x2,'0'),_0x50a69c=String(_0x45e86c['getMinutes']())[_0x4b53de(0x673)](0x2,'0'),_0x4363df=_0x589cb6+'-'+_0x30fcd0+'-'+_0xaa7a7+'T'+_0x220194+':'+_0x50a69c;return _0x4363df;}async function createFormElements(_0x58b8ad){const _0x471f49=_0x773bc5,_0x21bd88=_0x58b8ad[_0x471f49(0x634)]('-')[0x1],_0x3d9009=document[_0x471f49(0x536)](_0x471f49(0x3d2)),_0x902b60=document[_0x471f49(0x536)](_0x471f49(0x16a)),_0xdd3604=document[_0x471f49(0x49d)]('div');_0xdd3604['id']='active\x20tab-'+_0x21bd88,_0xdd3604[_0x471f49(0x374)]=_0x471f49(0x65b)+_0x21bd88,_0x3d9009[_0x471f49(0x390)](_0xdd3604);const _0x31a087=document[_0x471f49(0x536)]('active\x20tab-'+_0x21bd88),_0x18f8b4=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x18f8b4['id']=_0x471f49(0x636)+_0x21bd88,_0x18f8b4[_0x471f49(0x374)]=_0x471f49(0x5db),_0x31a087[_0x471f49(0x390)](_0x18f8b4);const _0x466423=document['getElementById']('general-options-'+_0x21bd88),_0x566555=createElement('div',{'class':_0x471f49(0x1d9)}),_0x45310b=myCompany[_0x471f49(0x46a)][_0x471f49(0x1b5)](_0x2c1ccd=>{const _0x1cdc56=_0x471f49;return createElement(_0x1cdc56(0x4f0),{'value':_0x2c1ccd[_0x1cdc56(0x522)]},[_0x2c1ccd[_0x1cdc56(0x545)]]);}),_0x5d8008=createElement('select',{'id':_0x471f49(0x185)+_0x21bd88,'class':_0x471f49(0x394),'events':{'change':_0xcf9cb0=>{const _0x2fda0d=_0x471f49;updateSerieAndRenderCart(_0xcf9cb0[_0x2fda0d(0x5f4)]['value'],_0x21bd88);}}},_0x45310b);_0x566555[_0x471f49(0x390)](_0x5d8008),_0x466423[_0x471f49(0x390)](_0x566555);const _0x5a9698=createElement(_0x471f49(0x208),{'class':_0x471f49(0x54c)}),_0x614da8=createElement('select',{'id':'setSerie-'+_0x21bd88,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie'});_0x5a9698[_0x471f49(0x390)](_0x614da8),_0x466423[_0x471f49(0x390)](_0x5a9698);const _0x2bd7ac=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x2bd7ac[_0x471f49(0x374)]=_0x471f49(0x241);const _0x382720=document['createElement']('input');_0x382720['id']='setCorrelativo-'+_0x21bd88,_0x382720['type']=_0x471f49(0x258),_0x382720[_0x471f49(0x374)]=_0x471f49(0x248),_0x382720[_0x471f49(0x541)]=_0x471f49(0x16e),_0x382720[_0x471f49(0x602)]=_0x47e7d7=>updateWindowOption(_0x21bd88,_0x471f49(0x319),_0x47e7d7[_0x471f49(0x5f4)][_0x471f49(0x1e8)]),_0x2bd7ac[_0x471f49(0x390)](_0x382720),_0x466423[_0x471f49(0x390)](_0x2bd7ac);const _0x46e671=document['createElement'](_0x471f49(0x208));_0x46e671[_0x471f49(0x374)]=_0x471f49(0x17f);const _0x2adcc1=document[_0x471f49(0x49d)](_0x471f49(0x529));_0x2adcc1['id']='btnOpciones-'+_0x21bd88,_0x2adcc1[_0x471f49(0x450)]='button',_0x2adcc1[_0x471f49(0x535)]=_0x471f49(0x632),_0x2adcc1[_0x471f49(0x374)]=_0x471f49(0x476),_0x2adcc1[_0x471f49(0x467)]=()=>{const _0x170f91=_0x471f49;showSection(_0x170f91(0x543));},_0x46e671['appendChild'](_0x2adcc1),_0x466423[_0x471f49(0x390)](_0x46e671);const _0x4e2c98=myCompany[_0x471f49(0x114)][_0x471f49(0x1b5)](_0x70634d=>{const _0x428221=_0x471f49;return createElement('option',{'value':_0x70634d[_0x428221(0x4d9)]},[_0x70634d[_0x428221(0x4d9)]]);}),_0x136222=createElement(_0x471f49(0x347),{'id':'setMoneda-'+_0x21bd88,'class':_0x471f49(0x64b),'events':{'change':_0x3eb495=>updateChangeMoneda(_0x21bd88,_0x471f49(0x15a),_0x3eb495[_0x471f49(0x5f4)][_0x471f49(0x1e8)])}},_0x4e2c98),_0x9182d5=createElement('div',{'class':_0x471f49(0x1d9)},[_0x136222]);_0x466423[_0x471f49(0x390)](_0x9182d5);const _0x285a77=myCompany[_0x471f49(0x167)]['map'](_0xde1f34=>{const _0x35101d=_0x471f49;return createElement('option',{'value':_0xde1f34[_0x35101d(0x614)]},[_0xde1f34[_0x35101d(0x614)]]);}),_0x5172d6=createElement(_0x471f49(0x347),{'id':_0x471f49(0x5b9)+_0x21bd88,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','events':{'change':_0x5c37f4=>updateWindowOption(_0x21bd88,_0x471f49(0x631),_0x5c37f4['target'][_0x471f49(0x1e8)])}},_0x285a77),_0x3f8d9d=createElement(_0x471f49(0x208),{'class':_0x471f49(0x54c)},[_0x5172d6]);_0x466423[_0x471f49(0x390)](_0x3f8d9d);const _0x365147=document[_0x471f49(0x49d)]('div');_0x365147['className']='div-width-25\x20col-bt-padding';const _0x184a84=document[_0x471f49(0x49d)]('input');_0x184a84['id']=_0x471f49(0x149)+_0x21bd88,_0x184a84[_0x471f49(0x450)]=_0x471f49(0x425),_0x184a84['autocomplete']=_0x471f49(0x52e),_0x184a84[_0x471f49(0x541)]='Nº',_0x184a84[_0x471f49(0x374)]=_0x471f49(0x551),_0x184a84[_0x471f49(0x602)]=_0x507250=>updateWindowOption(_0x21bd88,_0x471f49(0x5a2),_0x507250[_0x471f49(0x5f4)][_0x471f49(0x1e8)]),_0x184a84[_0x471f49(0x2fd)](_0x471f49(0x40b),_0x5407e2=>{_0x5407e2['key']=='Enter'&&setupConsulta(_0x21bd88);}),_0x184a84[_0x471f49(0x2fd)](_0x471f49(0x513),async _0x584b7c=>{const _0x512416=_0x471f49,_0x37dba7=window_options[_0x21bd88],_0x1af147=_0x184a84[_0x512416(0x1e8)];_0x37dba7[_0x512416(0x4ee)]==0x4&&_0x37dba7[_0x512416(0x631)]==_0x512416(0x620)&&_0x1af147['length']==0xb&&(await updateWindowOption(_0x21bd88,'setClienteNumDoc',_0x1af147),setupConsulta(_0x21bd88));}),_0x184a84['addEventListener'](_0x471f49(0x3d3),_0x3d7be3=>{const _0x3fb7f4=_0x471f49;if(_0x3d7be3[_0x3fb7f4(0x5b4)]==_0x3fb7f4(0x306)||_0x3d7be3[_0x3fb7f4(0x5b4)]=='Delete'){const _0x278954=document['getElementById'](_0x3fb7f4(0x4dc)+_0x21bd88),_0xc206ec=document[_0x3fb7f4(0x536)]('setClienteDireccion-'+_0x21bd88);_0x278954&&(_0x278954[_0x3fb7f4(0x1e8)]='',window_options[_0x21bd88][_0x3fb7f4(0x36c)]=''),_0xc206ec&&(_0xc206ec[_0x3fb7f4(0x1e8)]='',window_options[_0x21bd88][_0x3fb7f4(0x3e1)]='');}}),_0x365147['appendChild'](_0x184a84),_0x466423['appendChild'](_0x365147);const _0x559639=document['createElement'](_0x471f49(0x208));_0x559639[_0x471f49(0x374)]=_0x471f49(0x17f);const _0x3c07e1=document[_0x471f49(0x49d)](_0x471f49(0x529));_0x3c07e1['id']=_0x471f49(0x3b2)+_0x21bd88,_0x3c07e1[_0x471f49(0x450)]=_0x471f49(0x529),_0x3c07e1[_0x471f49(0x535)]='<i\x20class=\x27bi\x20bi-search\x27></i>',_0x3c07e1['className']=_0x471f49(0x1c0),_0x3c07e1[_0x471f49(0x467)]=()=>setupConsulta(_0x21bd88),_0x559639['appendChild'](_0x3c07e1),_0x466423[_0x471f49(0x390)](_0x559639);const _0x226c0a=document['createElement']('div');_0x226c0a[_0x471f49(0x374)]=_0x471f49(0x341),_0x226c0a[_0x471f49(0x478)][_0x471f49(0x2ec)]=_0x471f49(0x587);const _0x28284e=document[_0x471f49(0x49d)](_0x471f49(0x513));_0x28284e['id']=_0x471f49(0x4dc)+_0x21bd88,_0x28284e['type']=_0x471f49(0x425),_0x28284e[_0x471f49(0x4d1)]=_0x471f49(0x52e),_0x28284e[_0x471f49(0x374)]=_0x471f49(0x131),_0x28284e[_0x471f49(0x602)]=_0x40a8f4=>updateWindowOption(_0x21bd88,_0x471f49(0x36c),_0x40a8f4[_0x471f49(0x5f4)][_0x471f49(0x1e8)]);const _0x47e756=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x47e756['id']=_0x471f49(0x2e8)+_0x21bd88,_0x47e756[_0x471f49(0x374)]=_0x471f49(0x1a8),_0x28284e[_0x471f49(0x2fd)]('keypress',_0x1e59aa=>{const _0x1b2223=_0x471f49;_0x1e59aa[_0x1b2223(0x5b4)]=='Enter'&&(setupConsulta(_0x21bd88),document['getElementById'](_0x1b2223(0x2e8)+_0x21bd88)[_0x1b2223(0x535)]='');}),_0x28284e[_0x471f49(0x2fd)](_0x471f49(0x3d3),function(_0x5e9846){const _0x3b0215=_0x471f49;_0x5e9846[_0x3b0215(0x5b4)]=='Tab'&&_0x47e756[_0x3b0215(0x1c7)]['length']>0x0&&(_0x5e9846[_0x3b0215(0x66a)](),_0x5e9846[_0x3b0215(0x1e5)](),_0x47e756['children'][0x0][_0x3b0215(0x61c)]());}),_0x226c0a[_0x471f49(0x390)](_0x28284e),_0x226c0a[_0x471f49(0x390)](_0x47e756),_0x466423[_0x471f49(0x390)](_0x226c0a),_0x28284e['addEventListener']('input',function(){const _0x44448b=_0x471f49,_0x2a5aa6=this[_0x44448b(0x1e8)][_0x44448b(0x4d4)]()[_0x44448b(0x651)]();_0x47e756[_0x44448b(0x535)]='';if(_0x2a5aa6['length']==0x0)return;const _0x2723c7=_0x2a5aa6[_0x44448b(0x634)](/\s+/)[_0x44448b(0xdc)](_0x1cb65d=>_0x1cb65d);let _0x24e6b1,_0x4ae505;setTipOpeOrders[_0x44448b(0x615)](_0x26520d=>_0x26520d==window_options[_0x21bd88]['setTipoOperacion'])||setTipOpeSales[_0x44448b(0x615)](_0x574dd4=>_0x574dd4==window_options[_0x21bd88][_0x44448b(0x4ee)])||setTipOpeQuotation[_0x44448b(0x615)](_0x2475db=>_0x2475db==window_options[_0x21bd88][_0x44448b(0x4ee)])?(_0x24e6b1=myCompany[_0x44448b(0x5cb)],_0x4ae505=_0x24e6b1['filter'](_0x402cd5=>{const _0x487083=_0x44448b,_0x5de34f=(_0x402cd5[_0x487083(0x628)]||'')['toLowerCase'](),_0x1da4cd=(_0x402cd5[_0x487083(0x57c)]||'')[_0x487083(0x651)](),_0x57c907=_0x5de34f+'\x20'+_0x1da4cd;return _0x2723c7[_0x487083(0x24d)](_0x1df4f4=>_0x57c907[_0x487083(0x163)](_0x1df4f4));})):(_0x24e6b1=myCompany[_0x44448b(0x157)],_0x4ae505=_0x24e6b1[_0x44448b(0xdc)](_0x391812=>{const _0x185371=_0x44448b,_0x3109ee=(_0x391812['setSupplierName']||'')[_0x185371(0x651)](),_0x5e062a=(_0x391812['setSupplierDocumentNumber']||'')[_0x185371(0x651)](),_0x4c20e4=_0x3109ee+'\x20'+_0x5e062a;return _0x2723c7[_0x185371(0x24d)](_0x30e11e=>_0x4c20e4[_0x185371(0x163)](_0x30e11e));}));if(_0x4ae505[_0x44448b(0x5d9)]>0x0)_0x4ae505[_0x44448b(0x24f)](_0x29e270=>{const _0x18f121=_0x44448b,_0x32c4eb=document[_0x18f121(0x49d)](_0x18f121(0x208));_0x32c4eb[_0x18f121(0x374)]=_0x18f121(0x49c);let _0x1a0395,_0x17998a,_0xc8d9cf;setTipOpeOrders[_0x18f121(0x615)](_0x27360c=>_0x27360c==window_options[_0x21bd88]['setTipoOperacion'])||setTipOpeSales[_0x18f121(0x615)](_0x3d2d79=>_0x3d2d79==window_options[_0x21bd88][_0x18f121(0x4ee)])||setTipOpeQuotation[_0x18f121(0x615)](_0x7a6138=>_0x7a6138==window_options[_0x21bd88][_0x18f121(0x4ee)])?(_0x1a0395=_0x29e270[_0x18f121(0x57c)],_0x17998a=_0x29e270[_0x18f121(0x628)],_0xc8d9cf=_0x29e270[_0x18f121(0x307)]):(_0x1a0395=_0x29e270[_0x18f121(0x5ca)],_0x17998a=_0x29e270[_0x18f121(0x277)],_0xc8d9cf=_0x29e270[_0x18f121(0x25a)]),_0x1a0395?_0x32c4eb[_0x18f121(0x181)]=_0x1a0395+_0x18f121(0x3dc)+_0x17998a:_0x32c4eb[_0x18f121(0x181)]=_0x17998a,_0x32c4eb[_0x18f121(0x3fc)]=0x0,_0x32c4eb['addEventListener'](_0x18f121(0x44b),()=>{const _0x1a6a44=_0x18f121;_0x28284e[_0x1a6a44(0x1e8)]=_0x17998a;const _0x34ac69=document[_0x1a6a44(0x536)](_0x1a6a44(0x149)+_0x21bd88),_0x4a562e=document['getElementById'](_0x1a6a44(0x554)+_0x21bd88);_0x34ac69&&(_0x34ac69['value']=_0x1a0395||''),_0x4a562e&&(_0x4a562e['value']=_0xc8d9cf||''),window_options[_0x21bd88][_0x1a6a44(0x36c)]=_0x17998a,window_options[_0x21bd88][_0x1a6a44(0x5a2)]=_0x1a0395,window_options[_0x21bd88][_0x1a6a44(0x3e1)]=_0xc8d9cf,saveWindowOptionsDB(_0x21bd88)[_0x1a6a44(0x63a)](_0x3cf018=>console[_0x1a6a44(0x47f)](_0x1a6a44(0x553),_0x3cf018)),_0x47e756['innerHTML']='';}),_0x32c4eb['addEventListener'](_0x18f121(0x3d3),function(_0x2f3e9e){const _0x3efa9a=_0x18f121;if(_0x2f3e9e[_0x3efa9a(0x5b4)]==_0x3efa9a(0x1ab))_0x2f3e9e[_0x3efa9a(0x1e5)](),this[_0x3efa9a(0x44b)]();else{if(_0x2f3e9e[_0x3efa9a(0x5b4)]==_0x3efa9a(0x317)){_0x2f3e9e['preventDefault'](),_0x2f3e9e[_0x3efa9a(0x1e5)]();if(_0x2f3e9e[_0x3efa9a(0x198)]){if(this==_0x47e756[_0x3efa9a(0x486)])_0x28284e[_0x3efa9a(0x61c)]();else{let _0x5491af=this['previousElementSibling'];if(_0x5491af)_0x5491af[_0x3efa9a(0x61c)]();}}else this[_0x3efa9a(0x411)]?this[_0x3efa9a(0x411)]['focus']():_0x28284e[_0x3efa9a(0x61c)]();}}}),_0x47e756[_0x18f121(0x390)](_0x32c4eb);});else{const _0xaf77e4=document[_0x44448b(0x49d)](_0x44448b(0x208));_0xaf77e4[_0x44448b(0x374)]='suggestion-item\x20no-result',_0xaf77e4[_0x44448b(0x181)]=_0x44448b(0x4bb),_0x47e756['appendChild'](_0xaf77e4);}});const _0x31d1e4=document['createElement'](_0x471f49(0x208));_0x31d1e4[_0x471f49(0x374)]=_0x471f49(0x341);const _0x58394e=document['createElement'](_0x471f49(0x513));_0x58394e['id']=_0x471f49(0x554)+_0x21bd88,_0x58394e[_0x471f49(0x450)]=_0x471f49(0x425),_0x58394e[_0x471f49(0x4d1)]=_0x471f49(0x52e),_0x58394e[_0x471f49(0x541)]=_0x471f49(0x23a),_0x58394e[_0x471f49(0x374)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2',_0x58394e[_0x471f49(0x602)]=_0x451b4a=>updateWindowOption(_0x21bd88,'setClienteDireccion',_0x451b4a[_0x471f49(0x5f4)]['value']),_0x31d1e4[_0x471f49(0x390)](_0x58394e),_0x466423[_0x471f49(0x390)](_0x31d1e4);const _0x386946=document[_0x471f49(0x49d)]('div');_0x386946[_0x471f49(0x374)]=_0x471f49(0x41c);const _0x4567a7=document[_0x471f49(0x49d)](_0x471f49(0x529));_0x4567a7['id']=_0x471f49(0x26d)+_0x21bd88,_0x4567a7[_0x471f49(0x450)]=_0x471f49(0x529),_0x4567a7['innerHTML']=_0x471f49(0x4a8),_0x4567a7['className']=_0x471f49(0xe7),_0x4567a7[_0x471f49(0x467)]=_0x278ce6=>setPreAccount(_0x21bd88),_0x4567a7[_0x471f49(0x478)][_0x471f49(0x37b)]=_0x471f49(0x5c8),_0x4567a7[_0x471f49(0x478)][_0x471f49(0x12a)]=_0x471f49(0x5c8),_0x386946[_0x471f49(0x390)](_0x4567a7),_0x466423[_0x471f49(0x390)](_0x386946);const _0x4dce76=document['createElement'](_0x471f49(0x208));_0x4dce76[_0x471f49(0x374)]=_0x471f49(0x656);const _0x434b4f=document['createElement'](_0x471f49(0x529));_0x434b4f['id']=_0x471f49(0x436)+_0x21bd88,_0x434b4f[_0x471f49(0x450)]=_0x471f49(0x529),_0x434b4f[_0x471f49(0x535)]='Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>',_0x434b4f[_0x471f49(0x374)]=_0x471f49(0x325),_0x434b4f[_0x471f49(0x467)]=()=>setBill(_0x21bd88),_0x4dce76[_0x471f49(0x390)](_0x434b4f),_0x466423[_0x471f49(0x390)](_0x4dce76);const _0x2d184d=document[_0x471f49(0x49d)]('div');_0x2d184d[_0x471f49(0x374)]=_0x471f49(0x656);const _0x175dc4=document['createElement']('button');_0x175dc4['id']=_0x471f49(0x337)+_0x21bd88,_0x175dc4[_0x471f49(0x450)]=_0x471f49(0x529),_0x175dc4[_0x471f49(0x535)]=_0x471f49(0x5d5),_0x175dc4[_0x471f49(0x374)]=_0x471f49(0x368);let _0x5a97a7=![];_0x175dc4[_0x471f49(0x467)]=()=>{const _0x25674d=_0x471f49;_0x5a97a7=!_0x5a97a7,_0x5a97a7?_0x175dc4['style']['backgroundColor']='#f7f7f7':_0x175dc4[_0x25674d(0x478)]['backgroundColor']='',updateWindowOption(_0x21bd88,'setConsumo',_0x5a97a7?0x1:0x0);},_0x2d184d[_0x471f49(0x390)](_0x175dc4),_0x466423['appendChild'](_0x2d184d);const _0xe9c9a0=document['createElement'](_0x471f49(0x208));_0xe9c9a0[_0x471f49(0x374)]=_0x471f49(0x656);const _0x42788c=document[_0x471f49(0x49d)](_0x471f49(0x529));_0x42788c['id']=_0x471f49(0x2a5)+_0x21bd88,_0x42788c[_0x471f49(0x450)]=_0x471f49(0x529),_0x42788c[_0x471f49(0x535)]=_0x471f49(0x53a),_0x42788c[_0x471f49(0x374)]=_0x471f49(0x39c);let _0x55248b=![];_0x42788c[_0x471f49(0x467)]=()=>{const _0x3592d3=_0x471f49,_0x4d12fd=document[_0x3592d3(0x536)]('cart-item-principal-'+_0x21bd88),_0x409abd=document[_0x3592d3(0x4c1)](_0x3592d3(0x662)+_0x21bd88);_0x409abd['forEach'](_0x298de2=>{const _0x10974e=_0x3592d3;_0x55248b?_0x298de2[_0x10974e(0x2e5)][_0x10974e(0x273)]('hidden'):_0x298de2[_0x10974e(0x2e5)]['remove'](_0x10974e(0x134));}),_0x55248b?(_0x42788c[_0x3592d3(0x478)][_0x3592d3(0x3c3)]='',_0x4d12fd[_0x3592d3(0x2e5)][_0x3592d3(0x273)](_0x3592d3(0x134))):(_0x42788c['style'][_0x3592d3(0x3c3)]=_0x3592d3(0x16b),_0x4d12fd['classList']['remove'](_0x3592d3(0x134))),_0x55248b=!_0x55248b,updateWindowOption(_0x21bd88,_0x3592d3(0x4e5),_0x55248b?0x1:0x0);},_0x42788c['style']['borderTopRightRadius']=_0x471f49(0x5c8),_0x42788c[_0x471f49(0x478)][_0x471f49(0x5ab)]=_0x471f49(0x5c8),_0xe9c9a0['appendChild'](_0x42788c),_0x466423[_0x471f49(0x390)](_0xe9c9a0);const _0x4ef064=document[_0x471f49(0x49d)]('div');_0x4ef064['id']=_0x471f49(0x448)+_0x21bd88,_0x4ef064[_0x471f49(0x374)]=_0x471f49(0x4cd),_0x4ef064[_0x471f49(0x478)][_0x471f49(0x4a1)]='#f7f7f7',_0x4ef064['style'][_0x471f49(0x2e9)]='0',_0x4ef064['style'][_0x471f49(0x183)]=_0x471f49(0x333);const _0x5f01c3=createElement(_0x471f49(0x513),{'type':_0x471f49(0x2d4),'id':'itemCheckboxAll-'+_0x21bd88,'value':0x0,'events':{'click':_0x1535d6=>selectAllChecks(_0x21bd88)}});_0x5f01c3[_0x471f49(0x478)][_0x471f49(0x2e9)]='8px',_0x4ef064[_0x471f49(0x390)](_0x5f01c3),_0x466423[_0x471f49(0x390)](_0x4ef064);const _0x1fbc97=document[_0x471f49(0x536)](_0x471f49(0x543)),_0x710053=document[_0x471f49(0x49d)]('div');_0x710053['id']='active\x20tab-section-options-'+_0x21bd88,_0x710053['className']=_0x471f49(0x65b)+_0x21bd88,_0x1fbc97[_0x471f49(0x390)](_0x710053);const _0x34de4d=document[_0x471f49(0x536)](_0x471f49(0x3df)+_0x21bd88),_0x3b0f16=document['createElement'](_0x471f49(0x208));_0x3b0f16['id']='container-section-options-'+_0x21bd88,_0x3b0f16[_0x471f49(0x374)]=_0x471f49(0x3a3),_0x34de4d[_0x471f49(0x390)](_0x3b0f16);const _0x1d0e7f=document[_0x471f49(0x49d)]('div');_0x1d0e7f['id']='container-title-options-'+_0x21bd88,_0x1d0e7f[_0x471f49(0x374)]=_0x471f49(0x156),_0x34de4d[_0x471f49(0x390)](_0x1d0e7f);const _0x15bb31=document['getElementById']('container-section-options-'+_0x21bd88),_0x20bbf7=createElement(_0x471f49(0x31b),{'class':_0x471f49(0x2e6)},[_0x471f49(0x123)]),_0x20ea8f=[{'value':'1','text':_0x471f49(0x504)},{'value':'3','text':_0x471f49(0x574)}][_0x471f49(0x1b5)](_0x33efaf=>createElement(_0x471f49(0x4f0),{'value':_0x33efaf[_0x471f49(0x1e8)]},[_0x33efaf[_0x471f49(0x425)]])),_0xa93436=createElement(_0x471f49(0x347),{'id':'setTipoOperacionInvoice-'+_0x21bd88,'class':_0x471f49(0x40d),'events':{'change':_0x4b0bd5=>updateWindowOption(_0x21bd88,_0x471f49(0x663),_0x4b0bd5['target']['value'])}},_0x20ea8f),_0x1aaefe=createElement('div',{'class':_0x471f49(0x46d)},[_0x20bbf7,_0xa93436]),_0x51f1c0=createElement(_0x471f49(0x31b),{'class':_0x471f49(0x2e6)},[_0x471f49(0x679)]),_0x73837a=createElement(_0x471f49(0x513),{'id':_0x471f49(0x531)+_0x21bd88,'type':_0x471f49(0x4a3),'class':_0x471f49(0x2ab),'events':{'change':_0x2de2fb=>updateWindowOption(_0x21bd88,_0x471f49(0x274),_0x2de2fb[_0x471f49(0x5f4)][_0x471f49(0x1e8)])}}),_0x56f719=createElement(_0x471f49(0x208),{'class':_0x471f49(0x46d)},[_0x51f1c0,_0x73837a]),_0x288c37=createElement(_0x471f49(0x208),{'class':'div-group-container\x20div-width-100'},[_0x1aaefe,_0x56f719]);_0x15bb31[_0x471f49(0x390)](_0x288c37);const _0x23eb0a=createElement('label',{'class':'label-options'},[_0x471f49(0x18c)]),_0x1fb2ed=createElement(_0x471f49(0x513),{'id':_0x471f49(0x48f)+_0x21bd88,'type':_0x471f49(0x425),'class':_0x471f49(0x222),'events':{'change':_0xa171ec=>updateWindowOption(_0x21bd88,'setCustomerPhone',_0xa171ec[_0x471f49(0x5f4)]['value'])}}),_0x1c1750=createElement(_0x471f49(0x208),{'class':_0x471f49(0x46d)},[_0x23eb0a,_0x1fb2ed]),_0x588e8b=createElement('label',{'class':_0x471f49(0x2e6)},['Email:']),_0x134d70=createElement(_0x471f49(0x513),{'id':'setCustomerEmail-'+_0x21bd88,'type':_0x471f49(0x2aa),'class':_0x471f49(0x1f8),'events':{'change':_0x4bff31=>updateWindowOption(_0x21bd88,'setCustomerEmail',_0x4bff31[_0x471f49(0x5f4)]['value'])}}),_0x37c961=createElement(_0x471f49(0x208),{'class':_0x471f49(0x46d)},[_0x588e8b,_0x134d70]),_0x289eec=createElement(_0x471f49(0x208),{'class':_0x471f49(0xe4)},[_0x1c1750,_0x37c961]);_0x15bb31['appendChild'](_0x289eec);const _0x3d2e83=createElement(_0x471f49(0x31b),{'class':'label-options'},[_0x471f49(0x1b8)]),_0x4c5272=myCompany[_0x471f49(0x573)][_0x471f49(0x1b5)](_0x110ff0=>createElement('option',{'value':_0x110ff0[_0x471f49(0x16d)]},[_0x110ff0[_0x471f49(0x37e)]])),_0x4faf19=createElement('select',{'id':_0x471f49(0x3e3)+_0x21bd88,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','events':{'change':_0x2246bc=>updateWindowOption(_0x21bd88,'setSellerId',_0x2246bc[_0x471f49(0x5f4)][_0x471f49(0x1e8)])}},_0x4c5272),_0x2e1860=createElement(_0x471f49(0x208),{'class':'div-width-options\x20col-bt-padding-options'},[_0x3d2e83,_0x4faf19]),_0x57e4f8=createElement(_0x471f49(0x31b),{'class':_0x471f49(0x2e6)},[_0x471f49(0x255)]),_0xf74416=[{'value':'1','text':'Despachar'},{'value':'2','text':_0x471f49(0x38f)},{'value':'3','text':_0x471f49(0x297)}][_0x471f49(0x1b5)](_0x4ef44a=>createElement(_0x471f49(0x4f0),{'value':_0x4ef44a[_0x471f49(0x1e8)]},[_0x4ef44a[_0x471f49(0x425)]])),_0x12fcc3=createElement(_0x471f49(0x347),{'id':'setDespacho-'+_0x21bd88,'class':_0x471f49(0x56d),'events':{'change':_0x214eaf=>updateWindowOption(_0x21bd88,_0x471f49(0x2cd),_0x214eaf['target'][_0x471f49(0x1e8)])}},_0xf74416),_0x22efab=createElement(_0x471f49(0x208),{'class':'div-width-options\x20col-bt-padding-options'},[_0x57e4f8,_0x12fcc3]),_0x110c06=createElement(_0x471f49(0x208),{'class':_0x471f49(0xe4)},[_0x2e1860,_0x22efab]);_0x15bb31['appendChild'](_0x110c06);const _0x4ec1c=createElement('label',{'class':'label-options'},[_0x471f49(0x592)]),_0x5ae85=createElement(_0x471f49(0x208),{'class':_0x471f49(0x180)}),_0x35157e=createElement(_0x471f49(0x513),{'type':'checkbox','id':_0x471f49(0x4d3)+_0x21bd88,'class':_0x471f49(0x62c),'events':{'change':_0x5a6d6d=>toggleTaxFields(_0x5a6d6d,_0x471f49(0x5ce),_0x21bd88)}}),_0x56b078=createElement(_0x471f49(0x31b),{'for':_0x471f49(0x4d3)+_0x21bd88,'class':_0x471f49(0x4ac)},['DETRACCIÓN']),_0x1c581d=createElement(_0x471f49(0x347),{'id':'detraccionCodigo-'+_0x21bd88,'class':_0x471f49(0x309),'events':{'change':_0x42064b=>updateWindowOption(_0x21bd88,_0x471f49(0x22c),_0x42064b['target'][_0x471f49(0x1e8)])}},[createElement(_0x471f49(0x4f0),{'value':'0'},[_0x471f49(0x10c)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x4eb)},[_0x471f49(0x1e3)]),createElement('option',{'value':_0x471f49(0x5ff)},[_0x471f49(0x569)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x5c3)},[_0x471f49(0x4ef)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x51c)},[_0x471f49(0x2cb)]),createElement(_0x471f49(0x4f0),{'value':'006'},[_0x471f49(0x473)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x642)},['Caña\x20de\x20azúcar']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x33c)},[_0x471f49(0x45e)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x24a)},[_0x471f49(0x287)]),createElement('option',{'value':_0x471f49(0x2b0)},[_0x471f49(0x3ee)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x62a)},[_0x471f49(0x148)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x1c9)},['Intermediación\x20laboral\x20y\x20tercerización']),createElement(_0x471f49(0x4f0),{'value':'013'},['Animales\x20vivos']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x24b)},[_0x471f49(0x346)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x16c)},[_0x471f49(0x17e)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x546)},['Aceite\x20de\x20pescado']),createElement(_0x471f49(0x4f0),{'value':'017'},['Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x1ea)},[_0x471f49(0x1ba)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x5b6)},['Arrendamiento\x20de\x20bienes\x20muebles']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0xfa)},[_0x471f49(0x22f)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x3d0)},[_0x471f49(0x245)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x260)},[_0x471f49(0x2e3)]),createElement(_0x471f49(0x4f0),{'value':'023'},[_0x471f49(0x5cf)]),createElement(_0x471f49(0x4f0),{'value':'024'},[_0x471f49(0x5a1)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x43a)},['Fabricación\x20de\x20bienes\x20por\x20encargo']),createElement('option',{'value':_0x471f49(0x1d3)},[_0x471f49(0x174)]),createElement('option',{'value':_0x471f49(0x491)},[_0x471f49(0x367)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x14a)},[_0x471f49(0x465)]),createElement('option',{'value':_0x471f49(0xf7)},[_0x471f49(0x1ad)]),createElement(_0x471f49(0x4f0),{'value':'032'},[_0x471f49(0x482)]),createElement('option',{'value':_0x471f49(0x2eb)},['Espárragos']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x29c)},[_0x471f49(0x657)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x66c)},[_0x471f49(0x120)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x19e)},[_0x471f49(0x1eb)]),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x2c6)},['Demás\x20servicios\x20gravados\x20con\x20el\x20IGV']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x42b)},[_0x471f49(0x63e)]),createElement('option',{'value':''},[_0x471f49(0xfe)])]),_0x41b11f=createElement(_0x471f49(0x513),{'type':'number','id':_0x471f49(0x2ba)+_0x21bd88,'class':_0x471f49(0x15f),'value':'','placeholder':_0x471f49(0x4ae),'events':{'change':_0x171f1f=>calculateTax(_0x471f49(0x5ce),_0x21bd88)}}),_0x13d495=createElement(_0x471f49(0x513),{'type':_0x471f49(0x425),'id':'detraccionTotal-'+_0x21bd88,'class':_0x471f49(0x15f),'readonly':!![],'placeholder':'Total\x20detracción'});_0x5ae85[_0x471f49(0x390)](_0x35157e),_0x5ae85['appendChild'](_0x56b078),_0x5ae85[_0x471f49(0x390)](_0x1c581d),_0x5ae85[_0x471f49(0x390)](_0x41b11f),_0x5ae85['appendChild'](_0x13d495);const _0x14cb18=createElement(_0x471f49(0x208),{'class':_0x471f49(0x180)}),_0x28e337=createElement(_0x471f49(0x513),{'type':_0x471f49(0x2d4),'id':_0x471f49(0x494)+_0x21bd88,'class':_0x471f49(0x62c),'events':{'change':_0x2b2b76=>toggleTaxFields(_0x2b2b76,'Retencion',_0x21bd88)}}),_0x1ebeb0=createElement(_0x471f49(0x31b),{'for':_0x471f49(0x494)+_0x21bd88,'class':'label-options\x20mb-2'},[_0x471f49(0x300)]),_0x386ed8=createElement(_0x471f49(0x513),{'type':'number','id':'retencionPct-'+_0x21bd88,'class':_0x471f49(0x15f),'value':'3','placeholder':_0x471f49(0x2b1),'events':{'change':_0x4aa78e=>calculateTax('Retencion',_0x21bd88)}}),_0x12b724=createElement(_0x471f49(0x513),{'type':_0x471f49(0x425),'id':_0x471f49(0x59e)+_0x21bd88,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','readonly':!![],'placeholder':_0x471f49(0x3a7)});_0x14cb18['appendChild'](_0x28e337),_0x14cb18['appendChild'](_0x1ebeb0),_0x14cb18['appendChild'](_0x386ed8),_0x14cb18[_0x471f49(0x390)](_0x12b724);const _0xee9285=createElement(_0x471f49(0x208),{'class':_0x471f49(0x180)}),_0x382045=createElement('input',{'type':_0x471f49(0x2d4),'id':_0x471f49(0x4f7)+_0x21bd88,'class':_0x471f49(0x62c),'events':{'change':_0x48473f=>toggleTaxFields(_0x48473f,_0x471f49(0x137),_0x21bd88)}}),_0x181a5b=createElement(_0x471f49(0x31b),{'for':_0x471f49(0x4f7)+_0x21bd88,'class':'label-options\x20mb-2'},[_0x471f49(0x57b)]),_0x371ab0=createElement(_0x471f49(0x513),{'type':_0x471f49(0x258),'id':_0x471f49(0x305)+_0x21bd88,'class':_0x471f49(0x15f),'value':'2','placeholder':'Porcentaje\x20percepción','events':{'change':_0x10ddce=>calculateTax('Percepcion',_0x21bd88)}}),_0x1171f7=createElement('input',{'type':_0x471f49(0x425),'id':_0x471f49(0x364)+_0x21bd88,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','readonly':!![],'placeholder':_0x471f49(0x2ad)});_0xee9285[_0x471f49(0x390)](_0x382045),_0xee9285[_0x471f49(0x390)](_0x181a5b),_0xee9285[_0x471f49(0x390)](_0x371ab0),_0xee9285[_0x471f49(0x390)](_0x1171f7);const _0x1c0c19=createElement(_0x471f49(0x31b),{'class':_0x471f49(0x2e6)},[_0x471f49(0x376)]),_0x59f902=createElement('textarea',{'id':_0x471f49(0x469)+_0x21bd88,'rows':0x4,'class':_0x471f49(0x4bd),'events':{'change':_0x47c759=>updateWindowOption(_0x21bd88,_0x471f49(0x109),_0x47c759[_0x471f49(0x5f4)][_0x471f49(0x1e8)])}}),_0x2fda17=createElement(_0x471f49(0x208),{'class':_0x471f49(0x46d)},[_0x1c0c19,_0x59f902]),_0x385f74=createElement('div',{'class':_0x471f49(0x46d)},[_0x4ec1c,_0x5ae85,_0x14cb18,_0xee9285]),_0x597423=createElement(_0x471f49(0x208),{'class':'div-group-container\x20div-width-100'},[_0x385f74,_0x2fda17]);_0x15bb31[_0x471f49(0x390)](_0x597423);const _0x9612d7=createElement(_0x471f49(0x4f0),{'value':'1'},[_0x471f49(0x5c5)]),_0x33b7bb=createElement(_0x471f49(0x4f0),{'value':'2'},[_0x471f49(0x434)]),_0x761100=createElement(_0x471f49(0x347),{'id':_0x471f49(0x55b)+_0x21bd88,'class':_0x471f49(0x47b),'events':{'change':_0x1536e5=>updateWindowOption(_0x21bd88,_0x471f49(0x667),_0x1536e5[_0x471f49(0x5f4)]['value'])}},[_0x9612d7,_0x33b7bb]),_0x52ecfb=createElement('option',{'value':'0','selected':!![]},[_0x471f49(0x3bf)]),_0x4d7eb7=myCompany['setTipoOperaciones'][_0x471f49(0x1b5)](_0x10e231=>createElement(_0x471f49(0x4f0),{'value':_0x10e231['setTipoOperacionCodigo']},[_0x10e231[_0x471f49(0x545)]])),_0x2ccd92=createElement(_0x471f49(0x347),{'id':_0x471f49(0x3cf)+_0x21bd88,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','events':{'change':_0x24142a=>updateSerieOptionsAttach(_0x24142a[_0x471f49(0x5f4)][_0x471f49(0x1e8)],_0x21bd88)}},[_0x52ecfb,..._0x4d7eb7]),_0x4df8fb=createElement(_0x471f49(0x347),{'id':_0x471f49(0x5fa)+_0x21bd88,'class':_0x471f49(0x565)}),_0x3247f4=createElement(_0x471f49(0x513),{'id':_0x471f49(0x113)+_0x21bd88,'type':_0x471f49(0x258),'class':_0x471f49(0x4da)}),_0x545e12=createElement('button',{'id':'btnsetAttach-'+_0x21bd88,'type':_0x471f49(0x529),'class':_0x471f49(0x2ae),'innerHTML':_0x471f49(0x228),'events':{'click':()=>consultAttach(_0x21bd88)}}),_0x1a9d46=createElement('div',{'class':'div-width-options\x20col-bt-padding-options'},[_0x761100,_0x2ccd92,_0x4df8fb,_0x3247f4,_0x545e12]),_0x266efb=createElement(_0x471f49(0x208),{'class':'div-group-container\x20div-width-100'},[_0x1a9d46]);_0x15bb31[_0x471f49(0x390)](_0x266efb);const _0x10a891=document['getElementById'](_0x471f49(0x326)+_0x21bd88),_0x20cf8e=createElement(_0x471f49(0x406),{'innerHTML':_0x471f49(0x5e8)}),_0x4c7953=createElement(_0x471f49(0x529),{'id':_0x471f49(0x15e)+_0x21bd88,'class':'close\x20closeModal\x20margin-left-auto','type':_0x471f49(0x529)},[_0x20cf8e]),_0x53b1f9=createElement(_0x471f49(0x208),{'class':_0x471f49(0x234)},[_0x4c7953]);_0x10a891[_0x471f49(0x390)](_0x53b1f9);const _0xea8804=createElement('img',{'class':_0x471f49(0x4c6),'src':_0x471f49(0x10e)}),_0x565c36=createElement(_0x471f49(0x406),{'class':_0x471f49(0x20d),'innerHTML':_0x471f49(0x41d)}),_0xeeda64=createElement(_0x471f49(0x529),{'class':'btn-options'},[_0xea8804,_0x565c36]);_0x10a891[_0x471f49(0x390)](_0xeeda64);const _0x16b941=createElement('img',{'class':'img-options','src':_0x471f49(0x28f)}),_0x9e4536=createElement(_0x471f49(0x529),{'class':_0x471f49(0x383)},[_0x16b941,_0x471f49(0x3a1)]);_0x10a891['appendChild'](_0x9e4536);const _0x577b93=createElement('img',{'class':_0x471f49(0x562),'src':_0x471f49(0x5bb)}),_0x54fe2f=createElement(_0x471f49(0x529),{'class':'btn-options'},[_0x577b93,_0x471f49(0x29e)]);_0x10a891[_0x471f49(0x390)](_0x54fe2f);const _0x219177=createElement(_0x471f49(0x4a2),{'class':_0x471f49(0x562),'src':'./img/icon-ingresos.svg'}),_0x571aad=createElement(_0x471f49(0x529),{'class':_0x471f49(0x383)},[_0x219177,'Registrar\x20Ingreso']);_0x10a891[_0x471f49(0x390)](_0x571aad);const _0x248f43=createElement('img',{'class':_0x471f49(0x562),'src':_0x471f49(0x27d)}),_0x58ca34=createElement(_0x471f49(0x529),{'class':_0x471f49(0x383)},[_0x248f43,_0x471f49(0x125)]);_0x10a891[_0x471f49(0x390)](_0x58ca34);const _0x18451b=createElement(_0x471f49(0x4a2),{'class':_0x471f49(0x562),'src':_0x471f49(0x547)}),_0x171ec1=createElement(_0x471f49(0x529),{'class':_0x471f49(0x383),'events':{'click':()=>{window['location']['href']='income.html';}}},[_0x18451b,_0x471f49(0x57f)]);_0x10a891[_0x471f49(0x390)](_0x171ec1);const _0x11c5f6=createElement(_0x471f49(0x4a2),{'class':'img-options','src':_0x471f49(0x28c)}),_0x1dbeb2=createElement(_0x471f49(0x529),{'class':_0x471f49(0x383),'events':{'click':()=>{const _0x1bbd94=_0x471f49;window['location'][_0x1bbd94(0x5ac)]='settings.html';}}},[_0x11c5f6,'Ajustes']);_0x10a891[_0x471f49(0x390)](_0x1dbeb2);const _0x1424af=document['createElement'](_0x471f49(0x208));_0x1424af['id']='active\x20tab-cp-'+_0x21bd88,_0x1424af['className']='tab-content\x20active\x20tab-'+_0x21bd88+'\x20flex-column\x20flex-grow-1',_0x902b60[_0x471f49(0x390)](_0x1424af);const _0x32d52f=document[_0x471f49(0x536)](_0x471f49(0x4ec)+_0x21bd88),_0x71e8dd=document['createElement'](_0x471f49(0x208));_0x71e8dd['id']=_0x471f49(0x4f4)+_0x21bd88,_0x71e8dd[_0x471f49(0x374)]=_0x471f49(0x37f),_0x32d52f[_0x471f49(0x390)](_0x71e8dd);const _0x1ef5c7=document[_0x471f49(0x536)](_0x471f49(0x4f4)+_0x21bd88),_0x39051a=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x39051a['id']=_0x471f49(0x139)+_0x21bd88,_0x39051a['className']=_0x471f49(0x253),_0x1ef5c7[_0x471f49(0x390)](_0x39051a);const _0x4886b1=document['getElementById']('divMarginTopAuto'),_0x34e762=document['createElement'](_0x471f49(0x208));_0x34e762['id']=_0x471f49(0x4bc)+_0x21bd88,_0x34e762[_0x471f49(0x374)]=_0x471f49(0xe3)+_0x21bd88,_0x4886b1[_0x471f49(0x390)](_0x34e762);const _0x4323ba=document[_0x471f49(0x536)](_0x471f49(0x4bc)+_0x21bd88),_0x55dcc1=document['createElement'](_0x471f49(0x208));_0x55dcc1['id']=_0x471f49(0x5f8)+_0x21bd88,_0x55dcc1[_0x471f49(0x374)]=_0x471f49(0x46c),_0x4323ba['appendChild'](_0x55dcc1);const _0x2cd1da=document[_0x471f49(0x536)](_0x471f49(0x5f8)+_0x21bd88),_0x181b81=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x181b81[_0x471f49(0x374)]='div-totals-right';const _0x1af02a=document[_0x471f49(0x49d)]('span');_0x1af02a[_0x471f49(0x374)]=_0x471f49(0x5e9),_0x1af02a['id']=_0x471f49(0xef)+_0x21bd88,_0x1af02a[_0x471f49(0x535)]=_0x471f49(0x31c);const _0xeaeca=document[_0x471f49(0x49d)](_0x471f49(0x406));_0xeaeca[_0x471f49(0x374)]=_0x471f49(0x28e),_0xeaeca['id']=_0x471f49(0x140)+_0x21bd88,_0xeaeca[_0x471f49(0x535)]='<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-'+_0x21bd88+'\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>',_0x181b81[_0x471f49(0x390)](_0x1af02a),_0x181b81[_0x471f49(0x390)](_0xeaeca),_0x2cd1da[_0x471f49(0x390)](_0x181b81);const _0x121ccf=document['createElement'](_0x471f49(0x208));_0x121ccf[_0x471f49(0x374)]=_0x471f49(0x575),_0x121ccf['id']=_0x471f49(0x3c9)+_0x21bd88;const _0x57daf5=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x57daf5[_0x471f49(0x374)]=_0x471f49(0x5e9),_0x57daf5['id']=_0x471f49(0x4c8)+_0x21bd88,_0x57daf5['innerHTML']=_0x471f49(0x28d);const _0x3f6025=document['createElement'](_0x471f49(0x406));_0x3f6025[_0x471f49(0x374)]=_0x471f49(0x28e),_0x3f6025['id']='float-right-TotalDescuentoItems-'+_0x21bd88,_0x3f6025[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x121ccf[_0x471f49(0x390)](_0x57daf5),_0x121ccf[_0x471f49(0x390)](_0x3f6025),_0x2cd1da[_0x471f49(0x390)](_0x121ccf);const _0x112033=document['createElement'](_0x471f49(0x208));_0x112033[_0x471f49(0x374)]=_0x471f49(0x3f6);const _0x118fd5=document['createElement']('span');_0x118fd5[_0x471f49(0x374)]='float-left-totals',_0x118fd5['id']='float-left-OpGravada-'+_0x21bd88,_0x118fd5[_0x471f49(0x535)]=_0x471f49(0x294);const _0xd7063=document['createElement']('span');_0xd7063[_0x471f49(0x374)]=_0x471f49(0x28e),_0xd7063['id']='float-right-OpGravada-'+_0x21bd88,_0xd7063[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x112033['appendChild'](_0x118fd5),_0x112033[_0x471f49(0x390)](_0xd7063),_0x2cd1da[_0x471f49(0x390)](_0x112033);const _0x4e9235=document['createElement'](_0x471f49(0x208));_0x4e9235[_0x471f49(0x374)]=_0x471f49(0x3f6);const _0x3c7900=document[_0x471f49(0x49d)]('span');_0x3c7900[_0x471f49(0x374)]='float-left-totals',_0x3c7900['id']=_0x471f49(0x33a)+_0x21bd88,_0x3c7900['innerHTML']='Op.\x20Exonerada';const _0x5985c0=document[_0x471f49(0x49d)]('span');_0x5985c0[_0x471f49(0x374)]='float-right-totals',_0x5985c0['id']='float-right-OpExonerada-'+_0x21bd88,_0x5985c0['innerHTML']=_0x471f49(0x5f9),_0x4e9235[_0x471f49(0x390)](_0x3c7900),_0x4e9235[_0x471f49(0x390)](_0x5985c0),_0x2cd1da[_0x471f49(0x390)](_0x4e9235);const _0x222773=document[_0x471f49(0x49d)]('div');_0x222773[_0x471f49(0x374)]='div-totals-right\x20d-none';const _0x123869=document['createElement'](_0x471f49(0x406));_0x123869[_0x471f49(0x374)]=_0x471f49(0x5e9),_0x123869['id']=_0x471f49(0x132)+_0x21bd88,_0x123869['innerHTML']=_0x471f49(0x4e0);const _0x53dc08=document['createElement'](_0x471f49(0x406));_0x53dc08[_0x471f49(0x374)]=_0x471f49(0x28e),_0x53dc08['id']=_0x471f49(0x416)+_0x21bd88,_0x53dc08[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x222773[_0x471f49(0x390)](_0x123869),_0x222773[_0x471f49(0x390)](_0x53dc08),_0x2cd1da[_0x471f49(0x390)](_0x222773);const _0x17e8c3=document['createElement'](_0x471f49(0x208));_0x17e8c3[_0x471f49(0x374)]=_0x471f49(0x3f6);const _0x42d753=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x42d753[_0x471f49(0x374)]=_0x471f49(0x5e9),_0x42d753['id']='float-left-OpGratuita-'+_0x21bd88,_0x42d753[_0x471f49(0x535)]=_0x471f49(0x3c6);const _0x3e953e=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x3e953e['className']=_0x471f49(0x28e),_0x3e953e['id']=_0x471f49(0x5a5)+_0x21bd88,_0x3e953e['innerHTML']=_0x471f49(0x5f9),_0x17e8c3[_0x471f49(0x390)](_0x42d753),_0x17e8c3['appendChild'](_0x3e953e),_0x2cd1da[_0x471f49(0x390)](_0x17e8c3);const _0x573352=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x573352[_0x471f49(0x374)]='div-totals-right',_0x573352['id']=_0x471f49(0x1e9)+_0x21bd88;const _0x1b07a2=document[_0x471f49(0x49d)]('span');_0x1b07a2['className']=_0x471f49(0x5e9),_0x1b07a2['id']=_0x471f49(0x195)+_0x21bd88,_0x1b07a2[_0x471f49(0x535)]=_0x471f49(0xfc);const _0x3bf5b2=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x3bf5b2['className']='float-right-totals',_0x3bf5b2['id']=_0x471f49(0x12e)+_0x21bd88,_0x3bf5b2[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x573352[_0x471f49(0x390)](_0x1b07a2),_0x573352[_0x471f49(0x390)](_0x3bf5b2),_0x2cd1da[_0x471f49(0x390)](_0x573352);const _0x260524=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x260524[_0x471f49(0x374)]=_0x471f49(0x575),_0x260524['id']='div-totals-right-TotalIgv-'+_0x21bd88;const _0x45cef2=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x45cef2[_0x471f49(0x374)]='float-left-totals',_0x45cef2['id']=_0x471f49(0x498)+_0x21bd88,_0x45cef2['innerHTML']=_0x471f49(0x557);const _0x565eaf=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x565eaf[_0x471f49(0x374)]=_0x471f49(0x28e),_0x565eaf['id']='float-right-TotalIgv-'+_0x21bd88,_0x565eaf['innerHTML']='0.00',_0x260524['appendChild'](_0x45cef2),_0x260524[_0x471f49(0x390)](_0x565eaf),_0x2cd1da[_0x471f49(0x390)](_0x260524);const _0x4dbe04=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x4dbe04[_0x471f49(0x374)]=_0x471f49(0x3f6),_0x4dbe04['id']=_0x471f49(0x1d6)+_0x21bd88;const _0x40993c=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x40993c[_0x471f49(0x374)]=_0x471f49(0x5e9),_0x40993c['id']='float-left-TotalIgvGratuitas-'+_0x21bd88,_0x40993c['innerHTML']=_0x471f49(0x505);const _0xfa6aa4=document[_0x471f49(0x49d)](_0x471f49(0x406));_0xfa6aa4['className']=_0x471f49(0x28e),_0xfa6aa4['id']=_0x471f49(0x32d)+_0x21bd88,_0xfa6aa4[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x4dbe04[_0x471f49(0x390)](_0x40993c),_0x4dbe04[_0x471f49(0x390)](_0xfa6aa4),_0x2cd1da[_0x471f49(0x390)](_0x4dbe04);const _0x4ea2ad=document[_0x471f49(0x49d)]('button');_0x4ea2ad['id']=_0x471f49(0x4a9)+_0x21bd88,_0x4ea2ad[_0x471f49(0x374)]=_0x471f49(0x247),_0x4ea2ad[_0x471f49(0x467)]=()=>validateOperation(_0x21bd88,_0x471f49(0x1a0));const _0x417fe2=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x417fe2[_0x471f49(0x374)]=_0x471f49(0x26e),_0x417fe2['id']=_0x471f49(0x3e9)+_0x21bd88,_0x417fe2['innerHTML']=_0x471f49(0x5c4);const _0x42a8c7=document[_0x471f49(0x49d)](_0x471f49(0x406));_0x42a8c7['className']='float-right',_0x42a8c7['id']=_0x471f49(0x610)+_0x21bd88,_0x42a8c7[_0x471f49(0x535)]=_0x471f49(0x5f9),_0x4ea2ad[_0x471f49(0x390)](_0x417fe2),_0x4ea2ad[_0x471f49(0x390)](_0x42a8c7),_0x2cd1da[_0x471f49(0x390)](_0x4ea2ad);const _0x1fb13a=document[_0x471f49(0x536)](_0x471f49(0x1a0)),_0x4ca366=document[_0x471f49(0x49d)](_0x471f49(0x208));_0x4ca366['id']=_0x471f49(0x50e)+_0x21bd88,_0x4ca366[_0x471f49(0x374)]='tab-content\x20active\x20tab-'+_0x21bd88,_0x1fb13a[_0x471f49(0x390)](_0x4ca366);const _0x436e20=document['getElementById'](_0x471f49(0x50e)+_0x21bd88),_0x87cea=document[_0x471f49(0x49d)]('div');_0x87cea['id']=_0x471f49(0x10f)+_0x21bd88,_0x87cea['className']=_0x471f49(0x552),_0x436e20[_0x471f49(0x390)](_0x87cea);const _0x2953bc=document[_0x471f49(0x536)](_0x471f49(0x10f)+_0x21bd88),_0x43f026=createElement('select',{'id':_0x471f49(0x1a9)+_0x21bd88,'class':_0x471f49(0x134),'events':{'change':_0x347036=>handlePaymentMethodChange(_0x347036,_0x21bd88)}},[createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x389)},['Contado']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x21e)},['Crédito']),createElement(_0x471f49(0x4f0),{'value':_0x471f49(0x43b)},[_0x471f49(0x286)])]),_0x147ae0=createElement(_0x471f49(0x208),{'class':_0x471f49(0x5a3),'id':'payment-options-'+_0x21bd88}),_0x12a5a4=[{'value':'contado','text':_0x471f49(0x61b),'className':'payment-contado','imgSrc':_0x471f49(0x1f5)},{'value':_0x471f49(0x21e),'text':_0x471f49(0x3c0),'className':_0x471f49(0x145),'imgSrc':_0x471f49(0x2da)},{'value':_0x471f49(0x43b),'text':'Contado\x20y\x20Crédito','className':'payment-mixto','imgSrc':_0x471f49(0x53f)}];_0x12a5a4[_0x471f49(0x24f)](_0x577654=>{const _0x4311bb=_0x471f49,_0x825bf0=createElement('a',{'href':'#','class':'payment-option\x20'+_0x577654['className']+_0x4311bb(0x3fd)+_0x21bd88,'events':{'click':_0x265f6f=>{const _0x231223=_0x4311bb;_0x265f6f[_0x231223(0x66a)](),document['getElementById'](_0x231223(0x1a9)+_0x21bd88)[_0x231223(0x1e8)]=_0x577654[_0x231223(0x1e8)],triggerChangeEventById('setMedioPago-'+_0x21bd88),updateActivePaymentOption(_0x21bd88,_0x577654[_0x231223(0x374)]);}}},[createElement('div',{},[_0x577654[_0x4311bb(0x425)]]),createElement(_0x4311bb(0x4a2),{'src':_0x577654[_0x4311bb(0x63f)],'alt':_0x577654[_0x4311bb(0x425)],'class':_0x4311bb(0x5e0)})]);_0x147ae0['appendChild'](_0x825bf0);});const _0x563508=createElement(_0x471f49(0x208),{'id':_0x471f49(0x33b)+_0x21bd88}),_0x353ffd=createElement(_0x471f49(0x208),{'id':'pay-container-'+_0x21bd88});_0x2953bc[_0x471f49(0x390)](_0x43f026),_0x2953bc[_0x471f49(0x390)](_0x147ae0),_0x2953bc[_0x471f49(0x390)](_0x563508),_0x2953bc['appendChild'](_0x353ffd);const _0x4fb649=document[_0x471f49(0x536)]('closeModalOptions-'+_0x21bd88);if(!_0x4fb649){console[_0x471f49(0x47f)](_0x471f49(0x4e1));return;}_0x4fb649[_0x471f49(0x4e6)](_0x4fb649[_0x471f49(0x231)](!![]));const _0x4efb39=document[_0x471f49(0x536)]('closeModalOptions-'+_0x21bd88);_0x4efb39[_0x471f49(0x2fd)]('click',()=>hideModalOptions());let _0x2f190d=_0x5d8008[_0x471f49(0xf8)][_0x5d8008[_0x471f49(0x17d)]]['value'],_0x1ac84d=null;for(const _0x5ac219 of setTipOpeSales){const _0x4ea465=Array[_0x471f49(0x322)](_0x5d8008['options'])['some'](_0x2a384a=>_0x2a384a['value']==_0x5ac219);if(_0x4ea465){_0x1ac84d=_0x5ac219;break;}}_0x1ac84d!==null&&(_0x2f190d=_0x1ac84d);const _0x3c8f36=getUserPermissionApiERP(0x9);parseInt(_0x3c8f36)>0x0&&(_0x2f190d=_0x3c8f36);const _0xaa314c=window_options[_0x21bd88]&&window_options[_0x21bd88][_0x471f49(0x4ee)]?window_options[_0x21bd88][_0x471f49(0x4ee)]:_0x2f190d;let _0xbeee5d=0x0;if(setTipOpeOrders[_0x471f49(0x615)](_0x431e6d=>_0x431e6d==_0xaa314c))_0xbeee5d=0x1;else{if(setTipOpeSales[_0x471f49(0x615)](_0x3ed8b8=>_0x3ed8b8==_0xaa314c))_0xbeee5d=0x2;else{if(setTipOpePurchases[_0x471f49(0x615)](_0x17856d=>_0x17856d==_0xaa314c))_0xbeee5d=0x3;else setTipOpeQuotation['some'](_0xbb079f=>_0xbb079f==_0xaa314c)&&(_0xbeee5d=0x4);}}const _0x712edb=myCompany['setDefaultNotes'][_0x471f49(0x189)](_0x47b110=>_0x47b110[_0x471f49(0xed)]==_0xbeee5d)?.['setDefaultNote']??'',_0x39776f=myCompany['setCollaborators']&&myCompany[_0x471f49(0x573)]['find'](_0x5accbf=>_0x5accbf[_0x471f49(0x2c1)]==myCompany[_0x471f49(0x46b)][_0x471f49(0x3e2)]),_0x1ee8aa=_0x39776f?_0x39776f[_0x471f49(0x16d)]:_0x4faf19[_0x471f49(0xf8)][_0x4faf19[_0x471f49(0x17d)]][_0x471f49(0x1e8)],_0x1d1ceb=obtener_fechaHora();await loadAndSaveOptionsWindow(_0xaa314c,window_options[_0x21bd88]&&window_options[_0x21bd88]['setSellerId']?window_options[_0x21bd88][_0x471f49(0x1e7)]:_0x1ee8aa,window_options[_0x21bd88]&&window_options[_0x21bd88]['setDespacho']?window_options[_0x21bd88][_0x471f49(0x2cd)]:_0x12fcc3[_0x471f49(0xf8)][_0x12fcc3[_0x471f49(0x17d)]]['value'],window_options[_0x21bd88]&&window_options[_0x21bd88][_0x471f49(0x663)]?window_options[_0x21bd88][_0x471f49(0x663)]:_0xa93436['options'][_0xa93436[_0x471f49(0x17d)]][_0x471f49(0x1e8)],window_options[_0x21bd88]&&window_options[_0x21bd88]['setFechaHora']?window_options[_0x21bd88]['setFechaHora']:_0x1d1ceb,window_options[_0x21bd88]&&window_options[_0x21bd88]['setObservacion']?window_options[_0x21bd88][_0x471f49(0x109)]:_0x712edb,window_options[_0x21bd88]&&window_options[_0x21bd88][_0x471f49(0x15a)]?window_options[_0x21bd88][_0x471f49(0x15a)]:myCompany[_0x471f49(0x35f)],window_options[_0x21bd88]&&window_options[_0x21bd88][_0x471f49(0x631)]?window_options[_0x21bd88][_0x471f49(0x631)]:_0x5172d6[_0x471f49(0xf8)][_0x5172d6[_0x471f49(0x17d)]][_0x471f49(0x1e8)],window_options[_0x21bd88]&&window_options[_0x21bd88]['setAttachEdit']?window_options[_0x21bd88][_0x471f49(0x667)]:_0x761100[_0x471f49(0xf8)][_0x761100[_0x471f49(0x17d)]]['value'],_0x21bd88),switchTab(_0x58b8ad);}async function loadAndSaveOptionsWindow(_0x4899dd,_0x21a1c9,_0x504779,_0x2252b8,_0x2c774a,_0x35c5f9,_0x5c65c4,_0xc75dfe,_0x564789,_0x1db03c){const _0x5d5b30=_0x773bc5,_0x4a2aa9=document[_0x5d5b30(0x536)](_0x5d5b30(0x185)+_0x1db03c);_0x4a2aa9[_0x5d5b30(0x1e8)]=_0x4899dd,window_options[_0x1db03c]['setTipoOperacion']=_0x4899dd;const _0x57cf99=document['getElementById'](_0x5d5b30(0x3e3)+_0x1db03c);_0x57cf99[_0x5d5b30(0x1e8)]=_0x21a1c9;const _0x2bf255=document['getElementById'](_0x5d5b30(0x3e3)+_0x1db03c),_0x5018fd=_0x2bf255[_0x5d5b30(0xf8)][_0x2bf255[_0x5d5b30(0x17d)]][_0x5d5b30(0x425)];window_options[_0x1db03c][_0x5d5b30(0x1e7)]=_0x21a1c9,window_options[_0x1db03c]['setSellerName']=_0x5018fd;const _0x4cb846=document['getElementById'](_0x5d5b30(0x2b3)+_0x1db03c);_0x4cb846[_0x5d5b30(0x1e8)]=_0x504779,window_options[_0x1db03c][_0x5d5b30(0x2cd)]=_0x504779;const _0x358003=document[_0x5d5b30(0x536)](_0x5d5b30(0x18d)+_0x1db03c);_0x358003[_0x5d5b30(0x1e8)]=_0x2252b8,window_options[_0x1db03c]['setTipoOperacionInvoice']=_0x2252b8;const _0x186954=document['getElementById'](_0x5d5b30(0x531)+_0x1db03c);_0x186954['value']=_0x2c774a,window_options[_0x1db03c][_0x5d5b30(0x274)]=_0x2c774a;const _0x531369=document[_0x5d5b30(0x536)](_0x5d5b30(0x469)+_0x1db03c);_0x531369[_0x5d5b30(0x1e8)]=_0x35c5f9,window_options[_0x1db03c][_0x5d5b30(0x109)]=_0x35c5f9;const _0xbc7e04=document['getElementById'](_0x5d5b30(0x266)+_0x1db03c);_0xbc7e04[_0x5d5b30(0x1e8)]=_0x5c65c4,window_options[_0x1db03c][_0x5d5b30(0x15a)]=_0x5c65c4;const _0xec4717=document['getElementById']('setClienteTipoDoc-'+_0x1db03c);_0xec4717[_0x5d5b30(0x1e8)]=_0xc75dfe,window_options[_0x1db03c][_0x5d5b30(0x631)]=_0xc75dfe;const _0x500696=document[_0x5d5b30(0x536)](_0x5d5b30(0x55b)+_0x1db03c);_0x500696[_0x5d5b30(0x1e8)]=_0x564789,window_options[_0x1db03c]['setAttachEdit']=_0x564789,await updateSerieOptions(_0x4899dd,_0x1db03c);}async function updateSerieAndRenderCart(_0x388dc1,_0x47240d){const _0x2c37fe=_0x773bc5;_0x388dc1==0x4&&(window_options[_0x47240d]['setClienteTipoDoc']=_0x2c37fe(0x620)),await updateSerieOptions(_0x388dc1,_0x47240d),renderCart(_0x47240d),renderProducts();}async function updateSerieOptions(_0x567ba3,_0x4611b3){return new Promise((_0x2f5660,_0x50f18c)=>{const _0x1ace02=_0xd9f0;window_options[_0x4611b3][_0x1ace02(0x4ee)]=_0x567ba3;let _0xa717f3=document[_0x1ace02(0x536)](_0x1ace02(0x22d)+_0x4611b3);const _0xba2f49=document[_0x1ace02(0x536)](_0x1ace02(0x151)+_0x4611b3),_0x2db50a=document['getElementById']('setClienteDenominacion-'+_0x4611b3);if(!_0xa717f3||!_0xba2f49||!_0x2db50a)return console[_0x1ace02(0x47f)](_0x1ace02(0x5a9)),_0x50f18c(_0x1ace02(0x5a9));_0xba2f49[_0x1ace02(0x1e8)]='';let _0x4b8b74;if(setTipOpeOrders[_0x1ace02(0x615)](_0x58d3d2=>_0x58d3d2==_0x567ba3)||setTipOpeSales['some'](_0x5ffffd=>_0x5ffffd==_0x567ba3)||setTipOpeQuotation[_0x1ace02(0x615)](_0x5a8816=>_0x5a8816==_0x567ba3))_0x4b8b74=document['createElement'](_0x1ace02(0x347)),_0x4b8b74['id']=_0xa717f3['id'],_0x4b8b74[_0x1ace02(0x374)]=_0x1ace02(0x580),_0x2db50a[_0x1ace02(0x541)]='Cliente:';else{if(setTipOpePurchases[_0x1ace02(0x615)](_0x1a9301=>_0x1a9301==_0x567ba3))_0x4b8b74=document[_0x1ace02(0x49d)](_0x1ace02(0x513)),_0x4b8b74[_0x1ace02(0x450)]=_0x1ace02(0x425),_0x4b8b74[_0x1ace02(0x541)]=_0x1ace02(0x3e7),_0x4b8b74['id']=_0xa717f3['id'],_0x4b8b74['className']=_0x1ace02(0x5ec),_0x2db50a['placeholder']=_0x1ace02(0x35c);else return console[_0x1ace02(0x47f)](_0x1ace02(0x604)),_0x50f18c('Error\x20Op.');}_0xa717f3[_0x1ace02(0x11f)][_0x1ace02(0x5cd)](_0x4b8b74,_0xa717f3),_0xa717f3=document[_0x1ace02(0x536)]('setSerie-'+_0x4611b3),_0xa717f3[_0x1ace02(0x2fd)](_0x1ace02(0x41f),function(_0x590ca4){const _0x50923a=_0x1ace02;updateCorrelativoOnSerieChange(_0x590ca4[_0x50923a(0x5f4)]['value'],_0x4611b3);});setTipOpeExo[_0x1ace02(0x615)](_0x16164c=>_0x16164c==_0x567ba3)?(document['getElementById'](_0x1ace02(0x1e9)+_0x4611b3)[_0x1ace02(0x2e5)][_0x1ace02(0x273)]('d-none'),document[_0x1ace02(0x536)](_0x1ace02(0x622)+_0x4611b3)[_0x1ace02(0x2e5)][_0x1ace02(0x273)](_0x1ace02(0x661)),document[_0x1ace02(0x536)](_0x1ace02(0x1d6)+_0x4611b3)[_0x1ace02(0x2e5)][_0x1ace02(0x273)](_0x1ace02(0x661))):(document['getElementById'](_0x1ace02(0x1e9)+_0x4611b3)[_0x1ace02(0x2e5)]['remove'](_0x1ace02(0x661)),document[_0x1ace02(0x536)]('div-totals-right-TotalIgv-'+_0x4611b3)['classList']['remove']('d-none'),document['getElementById'](_0x1ace02(0x1d6)+_0x4611b3)[_0x1ace02(0x2e5)][_0x1ace02(0x1ce)]('d-none'));changeLabelBtn(_0x4611b3,_0x567ba3);if(setTipOpeOrders[_0x1ace02(0x615)](_0x39ed98=>_0x39ed98==_0x567ba3)||setTipOpeSales['some'](_0x4dd0db=>_0x4dd0db==_0x567ba3)||setTipOpeQuotation[_0x1ace02(0x615)](_0x498524=>_0x498524==_0x567ba3)){const _0x3acd88=document[_0x1ace02(0x536)](_0x1ace02(0x45d))[_0x1ace02(0x1e8)],_0x4733f8=getUserPermissionApiERP(0x5);let _0x1efb16;if(_0x4733f8==0x1){const _0x37d0d0=getLoggedUserSeries();_0x1efb16=_0x37d0d0['filter'](_0x498985=>_0x498985[_0x1ace02(0x161)]==_0x567ba3&&String(_0x498985[_0x1ace02(0x45d)])==_0x3acd88);}else _0x1efb16=myCompany[_0x1ace02(0x384)][_0x1ace02(0xdc)](_0x4c4f97=>_0x4c4f97[_0x1ace02(0x668)]==_0x567ba3&&String(_0x4c4f97['setIdSucursal'])==_0x3acd88);_0x1efb16['forEach'](_0x34563a=>{const _0xff6ce7=_0x1ace02;_0x4733f8==0x1?_0xa717f3[_0xff6ce7(0x390)](createElement(_0xff6ce7(0x4f0),{'value':_0x34563a[_0xff6ce7(0x313)]},[_0x34563a['setSeriesNumber']])):_0xa717f3['appendChild'](createElement('option',{'value':_0x34563a['setSerie']},[_0x34563a[_0xff6ce7(0x5d7)]]));});let _0x5d9bb0='';_0x1efb16['length']&&(_0x4733f8==0x1?_0x5d9bb0=_0x1efb16[0x0]['setSeriesNumber']:_0x5d9bb0=_0x1efb16[0x0][_0x1ace02(0x5d7)],_0xa717f3[_0x1ace02(0x1e8)]=_0x5d9bb0),setTimeout(()=>{const _0x3de9e3=_0x1ace02;updateCorrelativoOnSerieChange(_0x5d9bb0,_0x4611b3)[_0x3de9e3(0xee)](()=>_0x2f5660())[_0x3de9e3(0x63a)](_0x3e6a30=>_0x50f18c(_0x3e6a30));},0x0);}else window_options[_0x4611b3][_0x1ace02(0x5d7)]='',window_options[_0x4611b3]['setCorrelativo']='',setTimeout(()=>{const _0x20ecdf=_0x1ace02;saveWindowOptionsDB(_0x4611b3)[_0x20ecdf(0xee)](()=>_0x2f5660())['catch'](_0x357701=>{const _0x56c48f=_0x20ecdf;console[_0x56c48f(0x47f)](_0x56c48f(0x1dc),_0x357701),_0x50f18c(_0x357701);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x188741,_0xdece03){const _0x82d97c=_0x773bc5,_0xb4378b=document['getElementById'](_0x82d97c(0x151)+_0xdece03);if(!_0xb4378b)throw new Error(_0x82d97c(0x365)+_0xdece03);window_options[_0xdece03]['setSerie']=_0x188741;const _0xab3368=window_options[_0xdece03]['setTipoOperacion'];window_options[_0xdece03][_0x82d97c(0x319)]='';if(setTipOpeOrders[_0x82d97c(0x615)](_0x37a679=>_0x37a679==_0xab3368)||setTipOpeSales[_0x82d97c(0x615)](_0x12027b=>_0x12027b==_0xab3368)||setTipOpeQuotation[_0x82d97c(0x615)](_0x4d7173=>_0x4d7173==_0xab3368)){const _0x370186=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x2aac3e,_0x3a48fe;if(_0x370186==0x1){const _0x475845=getLoggedUserSeries();_0x2aac3e=_0x475845[_0x82d97c(0x189)](_0x32941c=>_0x32941c[_0x82d97c(0x313)]==_0x188741),_0x3a48fe=_0x2aac3e?.[_0x82d97c(0x671)]??0x1;}else _0x2aac3e=myCompany[_0x82d97c(0x384)][_0x82d97c(0x189)](_0xdc3e16=>_0xdc3e16['setSerie']==_0x188741),_0x3a48fe=_0x2aac3e?.['setCorrelativoInicial']??0x1;_0xb4378b[_0x82d97c(0x1e8)]=_0x3a48fe,window_options[_0xdece03]['setCorrelativo']=_0x3a48fe;}try{await saveWindowOptionsDB(_0xdece03);}catch(_0x1ae940){console[_0x82d97c(0x47f)](_0x82d97c(0x1dc),_0x1ae940);throw _0x1ae940;}}function updateActivePaymentOption(_0x15ef12,_0x177140){const _0x38ae59=_0x773bc5;document[_0x38ae59(0x4c1)]('.payment-option-'+_0x15ef12)[_0x38ae59(0x24f)](_0xa9d015=>_0xa9d015[_0x38ae59(0x2e5)]['remove'](_0x38ae59(0x461))),document[_0x38ae59(0x65f)]('.'+_0x177140+_0x38ae59(0x5cc)+_0x15ef12)?.['classList'][_0x38ae59(0x273)](_0x38ae59(0x461));}function triggerChangeEventById(_0x366059){const _0x47998f=_0x773bc5,_0x571b9f=document[_0x47998f(0x536)](_0x366059);if(!_0x571b9f){console[_0x47998f(0x47f)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x366059);return;}const _0x3e8397=new Event(_0x47998f(0x41f),{'bubbles':!![],'cancelable':!![]});_0x571b9f[_0x47998f(0x514)](_0x3e8397);}async function updateChangeMoneda(_0x104370,_0x37e2f6,_0xe8461d){await updateWindowOption(_0x104370,_0x37e2f6,_0xe8461d),renderCart(_0x104370),renderProducts();}function getCurrencySymbol(_0x23ea4f){const _0x5db0b8=_0x773bc5,_0x414833=document[_0x5db0b8(0x536)](_0x5db0b8(0x266)+_0x23ea4f)['value'],_0x297b10=myCompany[_0x5db0b8(0x114)]['find'](_0x2baeee=>_0x2baeee[_0x5db0b8(0x4d9)]==_0x414833);return _0x297b10?_0x297b10['setMonedaSimbol']:'';}function changeLabelBtn(_0xfb9d1f,_0x2d98e7){const _0x2b8881=_0x773bc5;let _0x2f1815='';const _0x423f31=document[_0x2b8881(0x536)](_0x2b8881(0x3e9)+_0xfb9d1f);if(setTipOpeOrders[_0x2b8881(0x615)](_0x34a782=>_0x34a782==_0x2d98e7))_0x2f1815=_0x2b8881(0x351);else{if(setTipOpeSales[_0x2b8881(0x615)](_0x42be8e=>_0x42be8e==_0x2d98e7))_0x2f1815='PAGAR';else{if(setTipOpePurchases[_0x2b8881(0x615)](_0x344367=>_0x344367==_0x2d98e7))_0x2f1815='GUARDAR';else setTipOpeQuotation[_0x2b8881(0x615)](_0x5e90e5=>_0x5e90e5==_0x2d98e7)&&(_0x2f1815=_0x2b8881(0x500));}}_0x423f31['innerHTML']=_0x2f1815;}function setDivTotalPay(_0x1f5b17){const _0xa444d3=_0x773bc5,_0x39056f=document[_0xa444d3(0x536)](_0xa444d3(0x33b)+_0x1f5b17);_0x39056f[_0xa444d3(0x535)]='';const _0x5ab39c=document[_0xa444d3(0x536)](_0xa444d3(0x610)+_0x1f5b17)[_0xa444d3(0x181)],_0x33b6b1=createElement(_0xa444d3(0x31b),{'class':_0xa444d3(0x2a7),'style':_0xa444d3(0x54a),'innerHTML':_0xa444d3(0x5d1)+_0x5ab39c+'</span>'}),_0xd8057b=createElement('div',{'class':_0xa444d3(0x402)},[_0x33b6b1]);_0x39056f[_0xa444d3(0x390)](_0xd8057b);}function handlePaymentMethodChange(_0x30e4e6,_0x409e6d){const _0x3156de=_0x773bc5,_0x9599af=document[_0x3156de(0x536)](_0x3156de(0x453)+_0x409e6d);_0x9599af[_0x3156de(0x535)]='';const _0x48957d=_0x30e4e6['target'][_0x3156de(0x1e8)];!medio_pago[_0x409e6d]&&(medio_pago[_0x409e6d]={});if(_0x48957d=='contado')_0x9599af[_0x3156de(0x390)](createContadoForm(_0x409e6d)),medio_pago[_0x409e6d]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x48957d==_0x3156de(0x21e))_0x9599af['appendChild'](createCreditoForm(_0x409e6d)),medio_pago[_0x409e6d]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x48957d==_0x3156de(0x43b)&&(_0x9599af[_0x3156de(0x390)](createMixtoForm(_0x409e6d)),medio_pago[_0x409e6d]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x367493=createElement(_0x3156de(0x208),{'id':_0x3156de(0x141)+_0x409e6d},[]);_0x9599af[_0x3156de(0x390)](_0x367493);const _0x2deaf0=createElement(_0x3156de(0x529),{'id':'btnSaveOperacion-'+_0x409e6d,'class':_0x3156de(0x1ff),'type':_0x3156de(0x529),'events':{'click':()=>saveOperation(_0x409e6d)}},[_0x3156de(0x63d)]);_0x9599af[_0x3156de(0x390)](_0x2deaf0);}function createContadoForm(_0x4f0e88){const _0x5935ea=_0x773bc5,_0x4eb19c=createElement(_0x5935ea(0x208),{},[]),_0x572861=getTotalFromFloatRight(_0x4f0e88),_0x40ea17=myCompany[_0x5935ea(0x1de)],_0x4878bd={},_0x291d9e={};_0x40ea17[_0x5935ea(0x24f)]((_0x2a04cf,_0x2a243d)=>{const _0x4089a6=_0x5935ea,_0x3ae4db=_0x4089a6(0x117)+_0x2a04cf[_0x4089a6(0xe1)]+'-'+_0x4f0e88+'-'+_0x2a243d,_0x3fb237=createElement(_0x4089a6(0x208),{'class':'div-width-10\x20div_margen'},[]),_0xa444d=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x256)},[]),_0x18702c=createElement(_0x4089a6(0x31b),{'for':_0x3ae4db,'class':'custom-label-cart-options\x20div-width-25'},['\x20'+_0x2a04cf[_0x4089a6(0x284)]+':']),_0x1d232c=createElement(_0x4089a6(0x513),{'type':_0x4089a6(0x258),'id':_0x3ae4db,'placeholder':_0x4089a6(0x5f9),'class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','value':_0x2a04cf[_0x4089a6(0xe1)]==_0x4089a6(0x13f)||_0x2a04cf['setPaymentCode']==_0x4089a6(0x4d5)?_0x572861:'','events':{'input':_0x5cd277=>handleContadoInput(_0x5cd277,_0x4f0e88)}});_0x1d232c[_0x4089a6(0xeb)][_0x4089a6(0x38c)]=_0x2a04cf[_0x4089a6(0xe1)];const _0x4ab342=createElement('select',{'class':_0x4089a6(0x5bc),'events':{'change':_0xa617e8=>handleContadoInput(_0xa617e8,_0x4f0e88)}},[]),_0x11949c=myCompany['setBankAccounts'],_0x48d0ae=_0x11949c['filter'](_0x34f287=>_0x2a04cf[_0x4089a6(0xe1)]==_0x4089a6(0x13f)||_0x2a04cf[_0x4089a6(0xe1)]=='cash'?setBankTypeCashRegister[_0x4089a6(0x615)](_0x116ae4=>_0x116ae4==_0x34f287[_0x4089a6(0x12c)]):!setBankTypeCashRegister[_0x4089a6(0x615)](_0x1967c7=>_0x1967c7==_0x34f287[_0x4089a6(0x12c)]));_0x48d0ae[_0x4089a6(0x24f)](_0x5e6bc5=>{const _0x3806b7=_0x4089a6,_0x6a8cf9=createElement(_0x3806b7(0x4f0),{'value':_0x5e6bc5['setBankId']},[_0x5e6bc5['setBankName']]);_0x4ab342[_0x3806b7(0x390)](_0x6a8cf9);}),_0x4ab342[_0x4089a6(0xeb)][_0x4089a6(0x38c)]=_0x2a04cf[_0x4089a6(0xe1)];let _0x2012fc=null;_0x2a04cf['setPaymentCode']==_0x4089a6(0x13f)||_0x2a04cf[_0x4089a6(0xe1)]==_0x4089a6(0x4d5)?_0x2012fc=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x54e)},[]):_0x2012fc=createElement(_0x4089a6(0x513),{'type':_0x4089a6(0x425),'placeholder':_0x4089a6(0x638),'class':_0x4089a6(0x105),'events':{'input':_0xda1c78=>handleContadoInput(_0xda1c78,_0x4f0e88)}});_0x2012fc[_0x4089a6(0xeb)][_0x4089a6(0x38c)]=_0x2a04cf['setPaymentCode'];let _0x5a40ee=null,_0xebb35f=null,_0x4bb54f=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x25d)},[]),_0x32db58=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x54e)},[]);_0x2a04cf[_0x4089a6(0x43d)]=='1'?(_0x5a40ee=createElement(_0x4089a6(0x513),{'type':_0x4089a6(0x258),'placeholder':'Comisión\x20%','class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision'}),_0x5a40ee['dataset']['method']=_0x2a04cf[_0x4089a6(0xe1)],_0xebb35f=createElement(_0x4089a6(0x513),{'type':'number','placeholder':'Total\x20Comisión','class':_0x4089a6(0x53e),'readonly':!![]}),_0xebb35f[_0x4089a6(0xeb)][_0x4089a6(0x38c)]=_0x2a04cf[_0x4089a6(0xe1)],_0x5a40ee['addEventListener']('input',_0x45270c=>{const _0x1ac961=_0x4089a6,_0xce2e8c=parseFloat(_0x5a40ee[_0x1ac961(0x1e8)])||0x0,_0x373039=parseFloat(_0x1d232c['value'])||0x0;_0xebb35f[_0x1ac961(0x1e8)]=(_0xce2e8c/0x64*_0x373039)[_0x1ac961(0x16f)](0x2),handleContadoInput(_0x45270c,_0x4f0e88);})):(_0x5a40ee=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x25d)},[]),_0xebb35f=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x54e)},[]));let _0x214845='';_0x2a04cf[_0x4089a6(0xe1)]==_0x4089a6(0x13f)||_0x2a04cf[_0x4089a6(0xe1)]=='cash'?_0x214845='':_0x214845='d-none';const _0x41f275=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x2d7)+_0x214845},[_0x3fb237,_0x18702c,_0x1d232c,_0x4ab342,_0x2012fc,_0xa444d]);_0x4eb19c[_0x4089a6(0x390)](_0x41f275),_0x4878bd[_0x2a04cf['setPaymentCode']]=_0x41f275;if(_0x2a04cf['isCommission']=='1'){const _0x425730=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x256)},[]),_0x4b2190=createElement(_0x4089a6(0x208),{'class':'div-width-10\x20div_margen'},[]),_0x57ca4f=createElement(_0x4089a6(0x208),{'class':_0x4089a6(0x2d7)+_0x214845},[_0x425730,_0x4bb54f,_0x5a40ee,_0xebb35f,_0x32db58,_0x4b2190]);_0x4eb19c[_0x4089a6(0x390)](_0x57ca4f),_0x291d9e[_0x2a04cf[_0x4089a6(0xe1)]]=_0x57ca4f;}(_0x2a04cf[_0x4089a6(0xe1)]==_0x4089a6(0x13f)||_0x2a04cf['setPaymentCode']==_0x4089a6(0x4d5))&&setTimeout(()=>{const _0x55811e=_0x4089a6;_0x1d232c['dispatchEvent'](new Event(_0x55811e(0x513),{'bubbles':!![]}));});});const _0x1dab25=createElement(_0x5935ea(0x208),{'class':_0x5935ea(0x256)},[]),_0x11e66e=createElement(_0x5935ea(0x347),{'class':_0x5935ea(0x2ca),'events':{'change':_0x4ef899=>{const _0xda5b3f=_0x5935ea,_0x2dd20d=_0x4ef899[_0xda5b3f(0x5f4)]['value'];if(_0x2dd20d){const _0x1f3ec1=getTotalFromFloatRight(_0x4f0e88);Object['entries'](_0x4878bd)[_0xda5b3f(0x24f)](([_0x135c6d,_0x505765])=>{const _0x6170ff=_0xda5b3f,_0x4499cd=_0x505765['querySelector']('.input-array-method'),_0x333bd8=_0x291d9e[_0x135c6d];if(_0x135c6d===_0x2dd20d){_0x505765[_0x6170ff(0x2e5)][_0x6170ff(0x1ce)]('d-none');if(_0x333bd8)_0x333bd8[_0x6170ff(0x2e5)][_0x6170ff(0x1ce)](_0x6170ff(0x661));_0x4499cd[_0x6170ff(0x1e8)]=_0x1f3ec1[_0x6170ff(0x16f)](0x2),_0x4499cd['dispatchEvent'](new Event('input',{'bubbles':!![]})),_0x4499cd['focus']();}else{_0x4499cd&&(_0x4499cd[_0x6170ff(0x1e8)]='',_0x4499cd[_0x6170ff(0x514)](new Event('input',{'bubbles':!![]})));if(_0x333bd8){const _0x1f58fa=_0x333bd8[_0x6170ff(0x65f)](_0x6170ff(0x550)),_0x242f42=_0x333bd8[_0x6170ff(0x65f)](_0x6170ff(0x4f9));if(_0x1f58fa)_0x1f58fa['value']='';if(_0x242f42)_0x242f42[_0x6170ff(0x1e8)]='';}}});}_0x4ef899['target'][_0xda5b3f(0x1e8)]='';}}},[]),_0x4ba877=createElement('option',{'value':''},[_0x5935ea(0x49f)]);_0x11e66e[_0x5935ea(0x390)](_0x4ba877),_0x40ea17['forEach'](_0x4516a5=>{const _0x176677=_0x5935ea;if(!(_0x4516a5[_0x176677(0xe1)]==_0x176677(0x13f)||_0x4516a5[_0x176677(0xe1)]==_0x176677(0x4d5))){const _0x741d92=createElement(_0x176677(0x4f0),{'value':_0x4516a5[_0x176677(0xe1)]},[_0x4516a5[_0x176677(0x284)]]);_0x11e66e[_0x176677(0x390)](_0x741d92);}});const _0x727bac=createElement(_0x5935ea(0x208),{'class':_0x5935ea(0x402)},[_0x1dab25,_0x11e66e]);return _0x4eb19c[_0x5935ea(0x390)](_0x727bac),_0x4eb19c;}function handleContadoInput(_0x128de3,_0x5d15ff){const _0x335fe0=_0x773bc5,_0x5b9cb7=getTotalFromFloatRight(_0x5d15ff),_0x2ada5a=Array[_0x335fe0(0x322)](document[_0x335fe0(0x4c1)](_0x335fe0(0x279)+_0x5d15ff+_0x335fe0(0x57d))),_0x19a2c3=_0x2ada5a[_0x335fe0(0x51f)]((_0x25f01e,_0x24e36b)=>_0x25f01e+parseFloat(_0x24e36b['value']||0x0),0x0),_0x34dc34={};_0x2ada5a[_0x335fe0(0x24f)](_0x1ea178=>{const _0x593161=_0x335fe0,_0x37faa6=_0x1ea178[_0x593161(0xeb)]['method'][_0x593161(0x651)]();_0x34dc34[_0x37faa6]=parseFloat(_0x1ea178['value'])||0x0;});const _0x37c5e9={..._0x34dc34};if(_0x19a2c3>_0x5b9cb7){const _0x4122c0=_0x19a2c3-_0x5b9cb7,_0x144ba3=_0x2ada5a[_0x335fe0(0x189)](_0x28e9c9=>[_0x335fe0(0x13f),_0x335fe0(0x4d5)]['includes'](_0x28e9c9[_0x335fe0(0xeb)][_0x335fe0(0x38c)][_0x335fe0(0x651)]()));if(_0x144ba3){const _0x366485=_0x144ba3[_0x335fe0(0xeb)][_0x335fe0(0x38c)]['toLowerCase']();_0x37c5e9[_0x366485]=Math[_0x335fe0(0x42a)](0x0,_0x37c5e9[_0x366485]-_0x4122c0);}else{const _0x5a8fee=Object[_0x335fe0(0x64f)](_0x37c5e9)[0x0];_0x37c5e9[_0x5a8fee]=Math['max'](0x0,_0x37c5e9[_0x5a8fee]-_0x4122c0);}}if(medio_pago[_0x5d15ff][_0x335fe0(0x43b)]['status']&&_0x19a2c3>=_0x5b9cb7){_0x128de3[_0x335fe0(0x5f4)]['value']='',_0x128de3[_0x335fe0(0x5f4)]['dispatchEvent'](new Event(_0x335fe0(0x513),{'bubbles':!![]}));return;}const _0x145721=_0x5b9cb7-_0x19a2c3,_0xd7796d=Math['abs'](Math[_0x335fe0(0x308)](_0x145721,0x0)),_0x119069=Math['max'](_0x145721,0x0),_0xf4fd98={'total':_0x5b9cb7,'debe':_0x119069,'vuelto':_0xd7796d};_0x2ada5a[_0x335fe0(0x24f)](_0x46f8a2=>{const _0x32a260=_0x335fe0,_0x30e9bf=_0x46f8a2[_0x32a260(0xeb)]['method'][_0x32a260(0x651)](),_0x2008da=_0x34dc34[_0x30e9bf],_0x3fba6a=_0x37c5e9[_0x30e9bf];_0xf4fd98[_0x30e9bf]={'monto_calc':_0x2008da,'monto':_0x3fba6a};});const _0x1a04a5=Array[_0x335fe0(0x322)](document['querySelectorAll'](_0x335fe0(0x279)+_0x5d15ff+_0x335fe0(0x4c5)));_0x1a04a5['forEach'](_0x5987c4=>{const _0x50b913=_0x335fe0,_0x38ca2d=_0x5987c4[_0x50b913(0xeb)][_0x50b913(0x38c)]['toLowerCase']();if(!_0xf4fd98[_0x38ca2d])_0xf4fd98[_0x38ca2d]={};_0xf4fd98[_0x38ca2d][_0x50b913(0x36b)]=_0x5987c4[_0x50b913(0x1e8)];});const _0xb2fe1e=Array['from'](document['querySelectorAll']('#pay-container-'+_0x5d15ff+'\x20input.input-array-operacion'));_0xb2fe1e[_0x335fe0(0x24f)](_0x56961e=>{const _0x8adf3d=_0x335fe0,_0x9127bc=_0x56961e[_0x8adf3d(0xeb)][_0x8adf3d(0x38c)][_0x8adf3d(0x651)]();if(!_0xf4fd98[_0x9127bc])_0xf4fd98[_0x9127bc]={};_0xf4fd98[_0x9127bc][_0x8adf3d(0x3f2)]=_0x56961e[_0x8adf3d(0x1e8)];});const _0x1a1abb=Array[_0x335fe0(0x322)](document[_0x335fe0(0x4c1)]('#pay-container-'+_0x5d15ff+_0x335fe0(0xf6)));_0x1a1abb[_0x335fe0(0x24f)](_0x348f38=>{const _0x546fd3=_0x335fe0,_0x52d7f4=_0x348f38[_0x546fd3(0xeb)][_0x546fd3(0x38c)][_0x546fd3(0x651)]();if(!_0xf4fd98[_0x52d7f4])_0xf4fd98[_0x52d7f4]={};_0xf4fd98[_0x52d7f4][_0x546fd3(0x660)]=parseFloat(_0x348f38[_0x546fd3(0x1e8)]||0x0);});const _0x104f23=Array[_0x335fe0(0x322)](document[_0x335fe0(0x4c1)](_0x335fe0(0x279)+_0x5d15ff+_0x335fe0(0x601)));_0x104f23[_0x335fe0(0x24f)](_0x353e91=>{const _0x2f8bb4=_0x335fe0,_0x1900e8=_0x353e91['dataset'][_0x2f8bb4(0x38c)]['toLowerCase']();if(!_0xf4fd98[_0x1900e8])_0xf4fd98[_0x1900e8]={};_0xf4fd98[_0x1900e8]['total_comision']=parseFloat(_0x353e91[_0x2f8bb4(0x1e8)]||0x0);}),medio_pago[_0x5d15ff][_0x335fe0(0x389)]['data']=_0xf4fd98;const _0x13a539=getCurrencySymbol(_0x5d15ff);let _0x2eabf1=document[_0x335fe0(0x536)](_0x335fe0(0x122)+_0x5d15ff);if(!_0x2eabf1){_0x2eabf1=createElement('div',{'id':'status-label-'+_0x5d15ff,'class':_0x335fe0(0x4ab)});const _0x566be4=document[_0x335fe0(0x536)](_0x335fe0(0x141)+_0x5d15ff);_0x566be4[_0x335fe0(0x390)](_0x2eabf1);}_0x2eabf1[_0x335fe0(0x535)]=_0x145721>0x0?_0x335fe0(0x485)+_0x13a539+'\x20'+_0x119069['toFixed'](0x2)+'</span>':_0x335fe0(0x65e)+_0x13a539+'\x20'+_0xd7796d['toFixed'](0x2)+_0x335fe0(0x65c),_0x2eabf1['style'][_0x335fe0(0x154)]=_0x335fe0(0x3c7),console[_0x335fe0(0x415)](_0x335fe0(0x3f9)+_0x5d15ff+_0x335fe0(0x5fe),medio_pago[_0x5d15ff]);}function createCreditoForm(_0x54c292){const _0x3539e7=_0x773bc5,_0x159471=createElement(_0x3539e7(0x208),{},[]),_0x1aa69f=createElement('i',{'class':_0x3539e7(0x50f)}),_0xb84879=createElement(_0x3539e7(0x31b),{'for':_0x3539e7(0x336)+_0x54c292,'class':'custom-label-cart-options\x20div-width-25'},[_0x1aa69f,'\x20Seleccione:']),_0xd231df=createElement(_0x3539e7(0x347),{'id':_0x3539e7(0x336)+_0x54c292,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','events':{'change':_0x1c429e=>handleCuotasChange(_0x1c429e,_0x54c292)}},[createElement(_0x3539e7(0x4f0),{'value':'','disabled':!![],'selected':!![]},[_0x3539e7(0x419)]),...Array['from']({'length':0x18},(_0x1fc460,_0xc1bc9b)=>createElement(_0x3539e7(0x4f0),{'value':_0xc1bc9b+0x1},[_0xc1bc9b+0x1+_0x3539e7(0x261)+(_0xc1bc9b>0x0?'s':'')]))]),_0x5d6c04=createElement(_0x3539e7(0x208),{'class':'div-width-10\x20div_margen'}),_0x2bb713=createElement(_0x3539e7(0x208),{'class':_0x3539e7(0x21c)}),_0x403478=createElement(_0x3539e7(0x208),{'class':_0x3539e7(0x402)},[_0x5d6c04,_0xb84879,_0xd231df,_0x2bb713]);_0x159471[_0x3539e7(0x390)](_0x403478);const _0x5e8815=createElement(_0x3539e7(0x208),{'id':_0x3539e7(0x518)+_0x54c292});return _0x159471[_0x3539e7(0x390)](_0x5e8815),_0x159471;}function handleCuotasChange(_0x5d231c,_0x1fe335){const _0x221733=_0x773bc5,_0x3848cb=document[_0x221733(0x536)](_0x221733(0x518)+_0x1fe335);_0x3848cb[_0x221733(0x535)]='';const _0x1075c4=parseInt(_0x5d231c[_0x221733(0x5f4)][_0x221733(0x1e8)],0xa);medio_pago[_0x1fe335][_0x221733(0x21e)][_0x221733(0x3bb)]=[];const _0x246dba=parseFloat(getTotalFromFloatRight(_0x1fe335));let _0x26d19a=_0x246dba;if(medio_pago[_0x1fe335][_0x221733(0x43b)][_0x221733(0x182)]){const _0x7f89d1=Array[_0x221733(0x322)](document['querySelectorAll'](_0x221733(0x279)+_0x1fe335+_0x221733(0x57d))),_0x5f6640=_0x7f89d1['reduce']((_0x3622b1,_0x24759d)=>_0x3622b1+parseFloat(_0x24759d[_0x221733(0x1e8)]||0x0),0x0);if(_0x5f6640>=_0x246dba){_0x5d231c[_0x221733(0x5f4)][_0x221733(0x1e8)]='',_0x5d231c[_0x221733(0x5f4)][_0x221733(0x514)](new Event('input',{'bubbles':!![]}));return;}_0x26d19a=Math[_0x221733(0x42a)](_0x246dba-_0x5f6640,0x0);}let _0xd68515=Array(_0x1075c4)[_0x221733(0x20b)]()[_0x221733(0x1b5)]((_0x53dafa,_0x5ddc4f)=>({'cuota':_0x5ddc4f+0x1,'monto':parseFloat((_0x26d19a/_0x1075c4)[_0x221733(0x16f)](0x2)),'fechaVencimiento':'','editado':![]}));function _0x37b2bc(){const _0x28fe98=_0x221733;let _0x22231d=_0xd68515[_0x28fe98(0x51f)]((_0x1f64ff,_0x57bef5)=>_0x1f64ff+_0x57bef5[_0x28fe98(0x449)],0x0),_0x58ece1=_0x26d19a-_0x22231d,_0x1fc169=_0xd68515[_0x28fe98(0xdc)](_0x3e3d64=>!_0x3e3d64[_0x28fe98(0x224)]);if(_0x1fc169[_0x28fe98(0x5d9)]==0x0)return;let _0x564f6c=parseFloat((_0x58ece1/_0x1fc169[_0x28fe98(0x5d9)])['toFixed'](0x2)),_0xecd237=_0x58ece1-_0x564f6c*_0x1fc169['length'];_0x1fc169[_0x28fe98(0x24f)]((_0x3fbdeb,_0x5b51a5)=>{const _0x365c1e=_0x28fe98;_0x3fbdeb[_0x365c1e(0x449)]+=_0x564f6c,_0x5b51a5==_0x1fc169[_0x365c1e(0x5d9)]-0x1&&(_0x3fbdeb['monto']+=_0xecd237);}),_0x21019f(),medio_pago[_0x1fe335]['credito'][_0x28fe98(0x3bb)]=_0xd68515[_0x28fe98(0x1b5)](({cuota:_0x1cb9be,monto:_0x4a4ac8,fechaVencimiento:_0x3a027d})=>({'cuota':_0x1cb9be,'monto':_0x4a4ac8,'fechaVencimiento':_0x3a027d}));}function _0x21019f(){const _0x2472d4=_0x221733,_0x4c4c72=_0x3848cb[_0x2472d4(0x4c1)](_0x2472d4(0x315));_0x4c4c72[_0x2472d4(0x24f)]((_0x18b6b8,_0x5c6648)=>{const _0x4c185d=_0x2472d4;_0x18b6b8[_0x4c185d(0x1e8)]=_0xd68515[_0x5c6648][_0x4c185d(0x449)][_0x4c185d(0x16f)](0x2);});}function _0x216847(_0x5f3a4a,_0x580b64,_0x18010c){const _0x23eae7=_0x221733;if(_0x18010c=='monto'){let _0x3078d8=parseFloat(_0x580b64)||0x0,_0x5b23d3=_0xd68515[_0x23eae7(0x51f)]((_0x11064f,_0x4451b1,_0xf1a03f)=>{const _0x29686f=_0x23eae7;if(_0xf1a03f!==_0x5f3a4a-0x1&&_0x4451b1['editado'])return _0x11064f+_0x4451b1[_0x29686f(0x449)];return _0x11064f;},0x0);const _0x2f7f8e=parseFloat((_0x26d19a-_0x5b23d3)[_0x23eae7(0x16f)](0x2));let _0x2924b9=_0xd68515[_0x23eae7(0xdc)]((_0x329296,_0x1181a4)=>!_0x329296[_0x23eae7(0x224)]&&_0x1181a4!==_0x5f3a4a-0x1)[_0x23eae7(0x5d9)];if(_0x2924b9==0x0&&_0x3078d8!==_0x2f7f8e)ntfShow(_0x23eae7(0x48d)+_0x2f7f8e+_0x23eae7(0x41e)),_0x3078d8=_0x2f7f8e;else _0x3078d8>_0x2f7f8e&&(ntfShow(_0x23eae7(0xec)+_0x2f7f8e+'.'),_0x3078d8=_0x2f7f8e);_0xd68515[_0x5f3a4a-0x1][_0x23eae7(0x449)]=_0x3078d8,_0xd68515[_0x5f3a4a-0x1][_0x23eae7(0x224)]=!![];const _0x266fa2=_0x3848cb['querySelectorAll'](_0x23eae7(0x315));_0x266fa2[_0x5f3a4a-0x1]&&(_0x266fa2[_0x5f3a4a-0x1][_0x23eae7(0x1e8)]=_0x3078d8['toFixed'](0x2)),_0x37b2bc();}else _0x18010c==_0x23eae7(0x1f3)&&(_0xd68515[_0x5f3a4a-0x1][_0x23eae7(0x47d)]=_0x580b64);medio_pago[_0x1fe335][_0x23eae7(0x21e)][_0x23eae7(0x3bb)]=_0xd68515[_0x23eae7(0x1b5)](({cuota:_0x5849ee,monto:_0x5e367a,fechaVencimiento:_0x271553})=>({'cuota':_0x5849ee,'monto':_0x5e367a,'fechaVencimiento':_0x271553}));}for(let _0x425807=0x1;_0x425807<=_0x1075c4;_0x425807++){const _0x2f43ba=createElement(_0x221733(0x208),{'class':_0x221733(0x256)}),_0x3ad3fb=createElement('label',{'class':'custom-label-cart-options\x20div-width-25','style':_0x221733(0x496)},['Cuota\x20'+_0x425807+':\x20']),_0x4c7072=createElement('input',{'type':_0x221733(0x599),'class':_0x221733(0x3d9),'events':{'change':_0x3271b0=>_0x216847(_0x425807,_0x3271b0[_0x221733(0x5f4)][_0x221733(0x1e8)],_0x221733(0x1f3))}}),_0x4b4e4e=createElement('input',{'type':_0x221733(0x258),'class':_0x221733(0x3d9),'placeholder':_0x221733(0x272),'value':_0xd68515[_0x425807-0x1][_0x221733(0x449)],'events':{'change':_0x253902=>_0x216847(_0x425807,_0x253902[_0x221733(0x5f4)][_0x221733(0x1e8)],'monto')}}),_0x352da8=createElement(_0x221733(0x208),{'class':_0x221733(0x21c)}),_0xadd588=createElement(_0x221733(0x208),{'class':_0x221733(0x402)},[_0x2f43ba,_0x3ad3fb,_0x4c7072,_0x4b4e4e,_0x352da8]);_0x3848cb[_0x221733(0x390)](_0xadd588);}}function updateMedioPagoCredito(_0x11355a,_0x2ff319,_0x27ea97,_0x227b4d,_0x44d21c){const _0xa56b66=_0x773bc5;!medio_pago[_0x227b4d][_0xa56b66(0x21e)]['data'][_0x2ff319-0x1]&&(medio_pago[_0x227b4d][_0xa56b66(0x21e)][_0xa56b66(0x3bb)][_0x2ff319-0x1]={'cuota':_0x2ff319});if(_0x44d21c=='fecha')medio_pago[_0x227b4d]['credito'][_0xa56b66(0x3bb)][_0x2ff319-0x1][_0xa56b66(0x47d)]=_0x27ea97;else _0x44d21c==_0xa56b66(0x449)&&(medio_pago[_0x227b4d][_0xa56b66(0x21e)]['data'][_0x2ff319-0x1]['monto']=_0x27ea97);console[_0xa56b66(0x415)](_0xa56b66(0x414),medio_pago[_0x227b4d]);}function createMixtoForm(_0x20d1f1){const _0x17d62b=_0x773bc5,_0x23b95f=createElement(_0x17d62b(0x208),{},[]),_0x5970bc=createContadoForm(_0x20d1f1);_0x23b95f['appendChild'](_0x5970bc);const _0x25929f=createCreditoForm(_0x20d1f1);_0x23b95f['appendChild'](_0x25929f);let _0x3b3cbb=document[_0x17d62b(0x536)](_0x17d62b(0x122)+_0x20d1f1);return!_0x3b3cbb&&(_0x3b3cbb=createElement(_0x17d62b(0x208),{'id':_0x17d62b(0x122)+_0x20d1f1,'class':_0x17d62b(0x4ab)}),_0x23b95f[_0x17d62b(0x390)](_0x3b3cbb)),_0x23b95f;}function getTotalFromFloatRight(_0x115c95){const _0x34e445=_0x773bc5,_0x162f57=document[_0x34e445(0x536)](_0x34e445(0x610)+_0x115c95)['textContent'];return parseFloat(_0x162f57[_0x34e445(0x437)](/[S/$]/g,'')[_0x34e445(0x4d4)]());}function toggleTaxFields(_0x2235dd,_0x37ab1c,_0x2e9079){const _0x1e0a16=_0x773bc5,_0x49ab83=_0x2235dd[_0x1e0a16(0x5f4)][_0x1e0a16(0x519)];if(_0x37ab1c==_0x1e0a16(0x5ce)){const _0x5453ab=document['getElementById'](_0x1e0a16(0xdd)+_0x2e9079);_0x49ab83?(_0x5453ab['classList'][_0x1e0a16(0x1ce)]('hidden'),window_options[_0x2e9079]['setDetraccion']='1'):(_0x5453ab[_0x1e0a16(0x2e5)][_0x1e0a16(0x273)](_0x1e0a16(0x134)),_0x5453ab[_0x1e0a16(0x1e8)]='0',window_options[_0x2e9079][_0x1e0a16(0x559)]='0',window_options[_0x2e9079][_0x1e0a16(0x22c)]='',window_options[_0x2e9079][_0x1e0a16(0x130)]='0',window_options[_0x2e9079][_0x1e0a16(0x4c7)]='0');}const _0x4ab7e7=document['getElementById'](_0x37ab1c[_0x1e0a16(0x651)]()+_0x1e0a16(0x5ba)+_0x2e9079),_0xded07b=document['getElementById'](_0x37ab1c[_0x1e0a16(0x651)]()+_0x1e0a16(0x43f)+_0x2e9079);_0x4ab7e7&&_0xded07b&&(_0x49ab83?(_0x37ab1c=='Retencion'&&(window_options[_0x2e9079][_0x1e0a16(0xdb)]='1'),_0x37ab1c==_0x1e0a16(0x137)&&(window_options[_0x2e9079][_0x1e0a16(0x60f)]='1'),_0x4ab7e7[_0x1e0a16(0x2e5)][_0x1e0a16(0x1ce)](_0x1e0a16(0x134)),_0xded07b[_0x1e0a16(0x2e5)][_0x1e0a16(0x1ce)](_0x1e0a16(0x134)),calculateTax(_0x37ab1c,_0x2e9079)):(_0x37ab1c==_0x1e0a16(0x1c2)&&(window_options[_0x2e9079][_0x1e0a16(0xdb)]='0',window_options[_0x2e9079][_0x1e0a16(0x42f)]='0',window_options[_0x2e9079]['setRetencionTotal']='0'),_0x37ab1c==_0x1e0a16(0x137)&&(window_options[_0x2e9079]['setPercepcion']='0',window_options[_0x2e9079][_0x1e0a16(0x3b5)]='0',window_options[_0x2e9079][_0x1e0a16(0x21f)]='0'),saveWindowOptionsDB(_0x2e9079),_0x4ab7e7['classList'][_0x1e0a16(0x273)]('hidden'),_0xded07b[_0x1e0a16(0x2e5)][_0x1e0a16(0x273)]('hidden'),_0x4ab7e7[_0x1e0a16(0x1e8)]=_0x37ab1c==_0x1e0a16(0x1c2)?'3':_0x37ab1c==_0x1e0a16(0x137)?'2':'',_0xded07b[_0x1e0a16(0x1e8)]=''));}function calculateTax(_0x3b0273,_0x24ffa1){const _0x336437=_0x773bc5,_0x59a702=parseFloat(getTotalFromFloatRight(_0x24ffa1))||0x0,_0x35f9a0=document[_0x336437(0x536)](_0x3b0273[_0x336437(0x651)]()+'Pct-'+_0x24ffa1),_0x2ac51e=document[_0x336437(0x536)](_0x3b0273[_0x336437(0x651)]()+_0x336437(0x43f)+_0x24ffa1);if(_0x35f9a0&&_0x2ac51e){const _0x1f4038=parseFloat(_0x35f9a0[_0x336437(0x1e8)])||0x0,_0x594eff=_0x59a702*(_0x1f4038/0x64);_0x2ac51e[_0x336437(0x1e8)]=_0x594eff[_0x336437(0x16f)](0x2),_0x3b0273==_0x336437(0x5ce)&&(window_options[_0x24ffa1][_0x336437(0x130)]=_0x1f4038,window_options[_0x24ffa1][_0x336437(0x4c7)]=_0x594eff[_0x336437(0x16f)](0x2)),_0x3b0273=='Retencion'&&(window_options[_0x24ffa1][_0x336437(0x42f)]=_0x1f4038,window_options[_0x24ffa1][_0x336437(0x39d)]=_0x594eff[_0x336437(0x16f)](0x2)),_0x3b0273==_0x336437(0x137)&&(window_options[_0x24ffa1][_0x336437(0x3b5)]=_0x1f4038,window_options[_0x24ffa1][_0x336437(0x21f)]=_0x594eff[_0x336437(0x16f)](0x2)),saveWindowOptionsDB(_0x24ffa1);}}function setupConsulta(_0x288417){const _0x381b4c=_0x773bc5,_0xba6687=document[_0x381b4c(0x536)](_0x381b4c(0x3b2)+_0x288417),_0x207992=document[_0x381b4c(0x536)](_0x381b4c(0x5b9)+_0x288417),_0x4c0976=document['getElementById'](_0x381b4c(0x149)+_0x288417),_0x23dda8=document[_0x381b4c(0x536)](_0x381b4c(0x4dc)+_0x288417),_0x15c514=document[_0x381b4c(0x536)](_0x381b4c(0x554)+_0x288417);if(!_0xba6687||!_0x207992||!_0x4c0976||!_0x23dda8||!_0x15c514){console[_0x381b4c(0x47f)](_0x381b4c(0x3fa));return;}const _0x15db0f=_0x207992[_0x381b4c(0x1e8)],_0x3e5514=_0x4c0976[_0x381b4c(0x1e8)][_0x381b4c(0x4d4)](),_0x2bf489=_0x23dda8['value']['trim']()[_0x381b4c(0x651)](),_0x31f778=(_0x2f1e53,_0x5b105f)=>{return _0x2f1e53['reduce']((_0x114bd9,_0x150e5c)=>{const _0x57be30=_0xd9f0;let _0x20dac3,_0x49a1ba,_0x4b203c,_0xa01b2e,_0x21f5f3,_0x2206d3;_0x5b105f==0x1?(_0x20dac3=_0x114bd9[_0x57be30(0x57c)],_0x49a1ba=_0x150e5c[_0x57be30(0x57c)],_0x4b203c=_0x114bd9[_0x57be30(0x628)],_0xa01b2e=_0x150e5c[_0x57be30(0x628)],_0x21f5f3=_0x114bd9[_0x57be30(0x307)],_0x2206d3=_0x150e5c[_0x57be30(0x307)]):(_0x20dac3=_0x114bd9['setSupplierDocumentNumber'],_0x49a1ba=_0x150e5c['setSupplierDocumentNumber'],_0x4b203c=_0x114bd9[_0x57be30(0x277)],_0xa01b2e=_0x150e5c[_0x57be30(0x277)],_0x21f5f3=_0x114bd9[_0x57be30(0x25a)],_0x2206d3=_0x150e5c[_0x57be30(0x25a)]);const _0x33828b=[_0x20dac3,_0x4b203c,_0x21f5f3][_0x57be30(0xdc)](Boolean)[_0x57be30(0x5d9)],_0x559a1c=[_0x49a1ba,_0xa01b2e,_0x2206d3][_0x57be30(0xdc)](Boolean)['length'];return _0x559a1c>_0x33828b?_0x150e5c:_0x114bd9;},_0x2f1e53[0x0]);};let _0x2939ca,_0x542faf;setTipOpeOrders[_0x381b4c(0x615)](_0x52021b=>_0x52021b==window_options[_0x288417][_0x381b4c(0x4ee)])||setTipOpeSales[_0x381b4c(0x615)](_0x5dd409=>_0x5dd409==window_options[_0x288417]['setTipoOperacion'])||setTipOpeQuotation[_0x381b4c(0x615)](_0x2b2cb7=>_0x2b2cb7==window_options[_0x288417][_0x381b4c(0x4ee)])?(_0x542faf=0x1,_0x2939ca=myCompany[_0x381b4c(0x5cb)]):(_0x542faf=0x2,_0x2939ca=myCompany[_0x381b4c(0x157)]);if(_0x3e5514){let _0x478bd2;setTipOpeOrders['some'](_0x510c6c=>_0x510c6c==window_options[_0x288417]['setTipoOperacion'])||setTipOpeSales[_0x381b4c(0x615)](_0x20a548=>_0x20a548==window_options[_0x288417][_0x381b4c(0x4ee)])||setTipOpeQuotation[_0x381b4c(0x615)](_0x5edfe3=>_0x5edfe3==window_options[_0x288417][_0x381b4c(0x4ee)])?_0x478bd2=_0x2939ca[_0x381b4c(0xdc)](_0x119541=>_0x119541[_0x381b4c(0x57c)]==_0x3e5514):_0x478bd2=_0x2939ca[_0x381b4c(0xdc)](_0x45b1bd=>_0x45b1bd[_0x381b4c(0x5ca)]==_0x3e5514);if(_0x478bd2[_0x381b4c(0x5d9)]>0x0){const _0x9f0088=_0x31f778(_0x478bd2,_0x542faf);setTipOpeOrders['some'](_0x6ba14c=>_0x6ba14c==window_options[_0x288417]['setTipoOperacion'])||setTipOpeSales[_0x381b4c(0x615)](_0x1eb1e7=>_0x1eb1e7==window_options[_0x288417][_0x381b4c(0x4ee)])||setTipOpeQuotation[_0x381b4c(0x615)](_0x470923=>_0x470923==window_options[_0x288417][_0x381b4c(0x4ee)])?(_0x23dda8[_0x381b4c(0x1e8)]=_0x9f0088[_0x381b4c(0x628)]||'',_0x15c514[_0x381b4c(0x1e8)]=_0x9f0088[_0x381b4c(0x307)]||''):(_0x23dda8[_0x381b4c(0x1e8)]=_0x9f0088['setSupplierName']||'',_0x15c514[_0x381b4c(0x1e8)]=_0x9f0088[_0x381b4c(0x25a)]||'');window_options[_0x288417]['setClienteDenominacion']=_0x23dda8['value'],window_options[_0x288417][_0x381b4c(0x3e1)]=_0x15c514[_0x381b4c(0x1e8)],saveWindowOptionsDB(_0x288417)[_0x381b4c(0x63a)](_0x19797f=>console[_0x381b4c(0x47f)]('Error\x20al\x20guardar\x20datos:',_0x19797f));return;}isOnline()?_0x15db0f[_0x381b4c(0x651)]()==_0x381b4c(0x32c)&&_0x3e5514[_0x381b4c(0x5d9)]==0x8||_0x15db0f[_0x381b4c(0x651)]()==_0x381b4c(0x570)&&_0x3e5514[_0x381b4c(0x5d9)]==0xb?consultarAPI(_0x15db0f,_0x3e5514,_0x288417):ntfShow(_0x381b4c(0x637)):ntfShow(_0x381b4c(0x302));return;}if(_0x2bf489){const _0x18a842=_0x2bf489,_0x4c14ba=_0x2939ca[_0x381b4c(0xdc)](_0x575c54=>{const _0x316f69=_0x381b4c;let _0x1d4e30,_0x2ca564;setTipOpeOrders[_0x316f69(0x615)](_0x267aae=>_0x267aae==window_options[_0x288417][_0x316f69(0x4ee)])||setTipOpeSales['some'](_0x43e9d3=>_0x43e9d3==window_options[_0x288417][_0x316f69(0x4ee)])||setTipOpeQuotation[_0x316f69(0x615)](_0x1d3bae=>_0x1d3bae==window_options[_0x288417][_0x316f69(0x4ee)])?(_0x1d4e30=_0x575c54[_0x316f69(0x628)][_0x316f69(0x651)](),_0x2ca564=_0x575c54[_0x316f69(0x57c)]):(_0x1d4e30=_0x575c54[_0x316f69(0x277)][_0x316f69(0x651)](),_0x2ca564=_0x575c54[_0x316f69(0x5ca)]);const _0x1a45f0=_0x18a842[_0x316f69(0x634)](/\s+/),_0x51d887=_0x1a45f0[_0x316f69(0x24d)](_0x1b3a46=>_0x1d4e30['includes'](_0x1b3a46)),_0x1e0121=_0x2ca564[_0x316f69(0x163)](_0x18a842);return _0x51d887||_0x1e0121;});if(_0x4c14ba[_0x381b4c(0x5d9)]>0x0){const _0x3c5f2b=_0x31f778(_0x4c14ba,_0x542faf);setTipOpeOrders[_0x381b4c(0x615)](_0x2d7bb9=>_0x2d7bb9==window_options[_0x288417]['setTipoOperacion'])||setTipOpeSales[_0x381b4c(0x615)](_0x1a4360=>_0x1a4360==window_options[_0x288417][_0x381b4c(0x4ee)])||setTipOpeQuotation[_0x381b4c(0x615)](_0x2d4743=>_0x2d4743==window_options[_0x288417]['setTipoOperacion'])?(_0x4c0976['value']=_0x3c5f2b['setCustomerDocumentNumber']||'',_0x23dda8[_0x381b4c(0x1e8)]=_0x3c5f2b[_0x381b4c(0x628)]||'',_0x15c514['value']=_0x3c5f2b[_0x381b4c(0x307)]||''):(_0x4c0976['value']=_0x3c5f2b[_0x381b4c(0x5ca)]||'',_0x23dda8[_0x381b4c(0x1e8)]=_0x3c5f2b['setSupplierName']||'',_0x15c514[_0x381b4c(0x1e8)]=_0x3c5f2b[_0x381b4c(0x25a)]||'');window_options[_0x288417][_0x381b4c(0x5a2)]=_0x4c0976['value'],window_options[_0x288417][_0x381b4c(0x36c)]=_0x23dda8['value'],window_options[_0x288417][_0x381b4c(0x3e1)]=_0x15c514['value'],saveWindowOptionsDB(_0x288417)[_0x381b4c(0x63a)](_0x5f1839=>console['error'](_0x381b4c(0x470),_0x5f1839));return;}ntfShow(_0x381b4c(0x456));return;}ntfShow(_0x381b4c(0x4ca));}function consultarAPI(_0x6b5e17,_0x27de19,_0x16ee53){const _0x4d687b=_0x773bc5,_0x652c9b=document[_0x4d687b(0x536)]('btnConsultar-'+_0x16ee53),_0x4c9a8b=document[_0x4d687b(0x536)](_0x4d687b(0x4dc)+_0x16ee53),_0x3772b1=document['getElementById']('setClienteDireccion-'+_0x16ee53);_0x652c9b[_0x4d687b(0x5bd)]=!![],showLoadingModal();const _0x2fff80=_0x4d687b(0x56e),_0x1575b9='suscriptor-luisitoprograma',_0x331773=_0x2fff80+'/'+_0x6b5e17[_0x4d687b(0x651)]()+'/?'+_0x6b5e17[_0x4d687b(0x651)]()+'='+_0x27de19+'&token='+_0x1575b9;fetch(_0x331773)['then'](_0x5eb705=>{const _0x4d6126=_0x4d687b;if(!_0x5eb705['ok'])throw new Error(_0x4d6126(0x360));return _0x5eb705[_0x4d6126(0x5ed)]();})[_0x4d687b(0xee)](_0x10b2b7=>{const _0x511013=_0x4d687b;if(_0x10b2b7[_0x511013(0x55c)]==_0x511013(0x4f3)&&_0x10b2b7[_0x511013(0x424)][_0x511013(0x5d9)]>0x0){const _0x4efdec=_0x10b2b7[_0x511013(0x424)][0x0];if(_0x6b5e17=='RUC')_0x4c9a8b['value']=_0x4efdec[_0x511013(0x5ee)]||'',_0x3772b1[_0x511013(0x1e8)]=_0x4efdec['direccion']||'';else _0x6b5e17==_0x511013(0x487)&&(_0x4c9a8b[_0x511013(0x1e8)]=((_0x4efdec[_0x511013(0x28b)]||'')+'\x20'+(_0x4efdec[_0x511013(0x42c)]||''))[_0x511013(0x4d4)](),_0x3772b1[_0x511013(0x1e8)]=_0x4efdec[_0x511013(0x135)]||'');window_options[_0x16ee53]['setClienteDenominacion']=_0x4c9a8b['value'],window_options[_0x16ee53][_0x511013(0x3e1)]=_0x3772b1[_0x511013(0x1e8)],saveWindowOptionsDB(_0x16ee53)[_0x511013(0x63a)](_0x22d78c=>console[_0x511013(0x47f)](_0x511013(0x470),_0x22d78c));}else ntfShow(_0x511013(0x520));})[_0x4d687b(0x63a)](_0x2f8e38=>{const _0xc23190=_0x4d687b;console[_0xc23190(0x47f)]('Error\x20en\x20la\x20consulta:',_0x2f8e38),ntfShow(_0xc23190(0x375));})[_0x4d687b(0x64d)](()=>{_0x652c9b['disabled']=![],hideLoadingModal();});}async function getLastCorrelativeOffline(_0x434a27,_0x5e3134){const _0x476a4d=_0x773bc5,_0x42a648=await createCartStore(''),_0x48a7f4=_0x42a648[_0x476a4d(0x210)]('offline_operations','readonly'),_0xf12168=_0x48a7f4['objectStore'](_0x476a4d(0x3d7)),_0x1c7486=await new Promise((_0x17b3be,_0x288ba4)=>{const _0x1808f7=_0x476a4d,_0x4225b7=_0xf12168[_0x1808f7(0x3e6)]();_0x4225b7[_0x1808f7(0x45a)]=()=>_0x17b3be(_0x4225b7[_0x1808f7(0x3a4)]),_0x4225b7[_0x1808f7(0x457)]=()=>_0x288ba4(_0x4225b7[_0x1808f7(0x47f)]);}),_0x4cd2f2=myCompany[_0x476a4d(0x451)]||'',_0x369638=_0x1c7486[_0x476a4d(0xdc)](_0x2a14ec=>_0x2a14ec[_0x476a4d(0x4ee)]==_0x434a27&&_0x2a14ec[_0x476a4d(0x5d7)]==_0x5e3134&&_0x2a14ec[_0x476a4d(0x28a)]==_0x4cd2f2);if(_0x369638[_0x476a4d(0x5d9)]===0x0){const _0x4c5e64=parseInt(getUserPermissionApiERP(0x5));let _0x11b56a;if(_0x4c5e64==0x1){const _0x22a50a=getLoggedUserSeries();_0x11b56a=_0x22a50a[_0x476a4d(0x189)](_0x1a1280=>_0x1a1280[_0x476a4d(0x161)]==_0x434a27&&_0x1a1280['setSeriesNumber']==_0x5e3134);}else _0x11b56a=myCompany[_0x476a4d(0x384)][_0x476a4d(0x189)](_0x312615=>_0x312615[_0x476a4d(0x668)]==_0x434a27&&_0x312615[_0x476a4d(0x5d7)]==_0x5e3134);if(!_0x11b56a){ntfShow(_0x476a4d(0x136)),console[_0x476a4d(0x47f)](_0x476a4d(0x136));return;}let _0x4073f8;return _0x4c5e64==0x1?_0x4073f8=parseInt(_0x11b56a[_0x476a4d(0x671)],0xa):_0x4073f8=parseInt(_0x11b56a[_0x476a4d(0x444)],0xa),_0x4073f8;}let _0xb2f630=_0x369638[_0x476a4d(0x1b5)](_0x1c1e32=>Number(_0x1c1e32[_0x476a4d(0x319)])||0x0)[_0x476a4d(0x51f)]((_0x10cb5d,_0x149eaf)=>_0x149eaf>_0x10cb5d?_0x149eaf:_0x10cb5d,0x0);return _0xb2f630=parseInt(_0xb2f630,0xa),_0xb2f630+=0x1,_0xb2f630;}async function updateLastCorrelativeOnline(_0xe288c9,_0x497eb5){const _0x1cdd78=_0x773bc5;if(isOnline()){const _0x441a41=getUserPermissionApiERP(0x5);let _0x58f613;if(_0x441a41==0x1){const _0x1c459c=getLoggedUserSeries();_0x58f613=_0x1c459c['find'](_0x47da4a=>_0x47da4a[_0x1cdd78(0x161)]==_0xe288c9&&_0x47da4a[_0x1cdd78(0x313)]==_0x497eb5);}else _0x58f613=myCompany['setSeries'][_0x1cdd78(0x189)](_0x5449e2=>_0x5449e2['setSerieTipo']==_0xe288c9&&_0x5449e2[_0x1cdd78(0x5d7)]==_0x497eb5);if(!_0x58f613){ntfShow(_0x1cdd78(0x136)),console['error'](_0x1cdd78(0x136));return;}const _0x2461e6=myCompany[_0x1cdd78(0x5e1)],_0x570c15={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0x1cdd78(0x451)],'setReceiptType':_0xe288c9,'setReceiptSeries':_0x497eb5};try{const _0x2637c1=await fetch(_0x2461e6,{'method':_0x1cdd78(0x2e2),'headers':{'Content-Type':_0x1cdd78(0x2c3)},'body':JSON['stringify'](_0x570c15)}),_0x4bd7fc=await _0x2637c1[_0x1cdd78(0x5ed)]();if(_0x4bd7fc[_0x1cdd78(0x4f3)]&&_0x4bd7fc[_0x1cdd78(0x1df)][_0x1cdd78(0x589)]){let _0x211c71=parseInt(_0x4bd7fc['message'][_0x1cdd78(0x589)],0xa)||0x0,_0x3f3c67=parseInt(await getLastCorrelativeOffline(_0xe288c9,_0x497eb5),0xa)||0x0;_0x3f3c67>_0x211c71&&(_0x211c71=_0x3f3c67);_0x441a41==0x1?_0x58f613[_0x1cdd78(0x671)]=_0x211c71:_0x58f613[_0x1cdd78(0x444)]=_0x211c71;try{const _0x4b153e=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4b153e);const _0x3ecc47=document[_0x1cdd78(0x536)]('windowId')[_0x1cdd78(0x1e8)];window_options[_0x3ecc47][_0x1cdd78(0x319)]=_0x211c71,await saveWindowOptionsDB(_0x3ecc47),console['log'](_0x1cdd78(0x14b));}catch(_0x5dd685){console[_0x1cdd78(0x47f)]('Error\x20al\x20guardar\x20Last\x20Correlative:',_0x5dd685);throw _0x5dd685;}}}catch(_0x4912f0){console[_0x1cdd78(0x47f)](_0x1cdd78(0xe2),_0x4912f0);}}}async function processCorrelativoInicial(_0x1bb9bc,_0x289695,_0x57efa1){const _0x5a7ad6=_0x773bc5;let _0x5e7a26;const _0xa706e=getUserPermissionApiERP(0x5);let _0x59e00e;if(_0xa706e==0x1){const _0x439032=getLoggedUserSeries();_0x59e00e=_0x439032[_0x5a7ad6(0x189)](_0x18a68f=>_0x18a68f[_0x5a7ad6(0x161)]==_0x1bb9bc&&_0x18a68f['setSeriesNumber']==_0x289695),_0x5e7a26=_0x59e00e?_0x59e00e[_0x5a7ad6(0x671)]:0x1;}else _0x59e00e=myCompany['setSeries']['find'](_0x129db0=>_0x129db0[_0x5a7ad6(0x668)]==_0x1bb9bc&&_0x129db0[_0x5a7ad6(0x5d7)]==_0x289695),_0x5e7a26=_0x59e00e?_0x59e00e['setCorrelativoInicial']:0x1;if(_0x57efa1!==undefined){if(_0x59e00e){_0xa706e==0x1?_0x59e00e[_0x5a7ad6(0x671)]=_0x57efa1:_0x59e00e[_0x5a7ad6(0x444)]=_0x57efa1;try{const _0x39f142=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x39f142),_0x57efa1;}catch(_0x4e2f83){console[_0x5a7ad6(0x47f)]('Error\x20al\x20guardar\x20Last\x20Correlative:',_0x4e2f83);throw _0x4e2f83;}}else throw new Error(_0x5a7ad6(0x60c));}return _0x5e7a26;}function getFilteredCart(_0x12cbfa){const _0x13117c=_0x773bc5,_0x22d0d3=window_options[_0x12cbfa][_0x13117c(0x4ee)];if(setTipOpeOrders[_0x13117c(0x615)](_0x5cce85=>_0x5cce85==_0x22d0d3))return carts[_0x12cbfa][_0x13117c(0xdc)](_0x105b49=>_0x105b49[_0x13117c(0x1ca)]==0x1&&_0x105b49[_0x13117c(0x26a)]=='');else return setTipOpeSales[_0x13117c(0x615)](_0x2b7353=>_0x2b7353==_0x22d0d3)||setTipOpePurchases[_0x13117c(0x615)](_0x373486=>_0x373486==_0x22d0d3)||setTipOpeQuotation[_0x13117c(0x615)](_0x4b1d05=>_0x4b1d05==_0x22d0d3)?carts[_0x12cbfa][_0x13117c(0xdc)](_0x470b9e=>_0x470b9e[_0x13117c(0x1ca)]==0x1):[];}async function validateOperation(_0x3c6af2,_0x4e65ed=''){const _0x2ea6f9=_0x773bc5,_0x2bacbe=document[_0x2ea6f9(0x536)]('setBranchId'),_0x45da81=_0x2bacbe[_0x2ea6f9(0x1e8)],_0x3e443c=_0x2bacbe[_0x2ea6f9(0xf8)][_0x2bacbe['selectedIndex']][_0x2ea6f9(0x425)],_0x2e749e=document[_0x2ea6f9(0x536)]('setTipoOperacion-'+_0x3c6af2)['value'],_0x29f7a9=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x18d)+_0x3c6af2)['value'],_0x46d440=document['getElementById']('setSerie-'+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x377ced=document[_0x2ea6f9(0x536)]('setCorrelativo-'+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x492108=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x266)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x3d58fc=document['getElementById'](_0x2ea6f9(0x5b9)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x1ff222=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x149)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x18dd96=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x4dc)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x2e35aa=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x554)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x2a7b3d=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x531)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x1825db=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x3e3)+_0x3c6af2)['value'],_0xb17c37=document[_0x2ea6f9(0x536)](_0x2ea6f9(0x2b3)+_0x3c6af2)['value'],_0x314bf9=document['getElementById'](_0x2ea6f9(0x469)+_0x3c6af2)[_0x2ea6f9(0x1e8)],_0x593156=getTotalFromFloatRight(_0x3c6af2),_0x904d83=getFilteredCart(_0x3c6af2);if(!_0x2e749e||!_0x3d58fc)return ntfShow(_0x2ea6f9(0x142)),![];if(!setTipOpePurchaseReceipt[_0x2ea6f9(0x615)](_0x227490=>_0x227490==window_options[_0x3c6af2]['setTipoOperacion'])){if(!_0x46d440||!_0x377ced)return ntfShow('Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.'),![];if(!/^[A-Za-z0-9]{4}$/['test'](_0x46d440))return ntfShow(_0x2ea6f9(0x38e)),![];if(/ñ/i['test'](_0x46d440))return ntfShow(_0x2ea6f9(0x1d4)),![];if(window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]=='3'&&_0x46d440[_0x2ea6f9(0x349)](0x0)!=='B')return ntfShow(_0x2ea6f9(0x4ba)),![];if(window_options[_0x3c6af2]['setTipoOperacion']=='4'&&_0x46d440[_0x2ea6f9(0x349)](0x0)!=='F')return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.'),![];}if(setTipOpeSalesInvoice[_0x2ea6f9(0x615)](_0x2e7aec=>_0x2e7aec==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpePurchaseInvoice[_0x2ea6f9(0x615)](_0x50face=>_0x50face==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])){if(!_0x1ff222[_0x2ea6f9(0x4d4)]()||!_0x18dd96[_0x2ea6f9(0x4d4)]())return ntfShow(_0x2ea6f9(0x4c9)),![];if(window_options[_0x3c6af2]['setTipoOperacion']=='4'&&_0x3d58fc!=_0x2ea6f9(0x620))return ntfShow(_0x2ea6f9(0x418)),![];}if(setTipOpeSalesTicket[_0x2ea6f9(0x615)](_0x305b1c=>_0x305b1c==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpePurchaseTicket[_0x2ea6f9(0x615)](_0x4ebc3c=>_0x4ebc3c==window_options[_0x3c6af2]['setTipoOperacion'])){if(window_options[_0x3c6af2]['setTipoOperacion']=='3'&&_0x593156>=0x2bc){if(_0x3d58fc!=_0x2ea6f9(0x487)&&_0x3d58fc!=_0x2ea6f9(0x620)||!_0x1ff222[_0x2ea6f9(0x4d4)]()||!_0x18dd96[_0x2ea6f9(0x4d4)]())return ntfShow('Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.'),![];}}if(_0x1ff222[_0x2ea6f9(0x4d4)]()){if(_0x3d58fc=='DNI'&&!/^\d{8}$/[_0x2ea6f9(0x2f7)](_0x1ff222))return ntfShow(_0x2ea6f9(0x57e)),![];if(_0x3d58fc==_0x2ea6f9(0x620)&&!/^\d{11}$/['test'](_0x1ff222))return ntfShow(_0x2ea6f9(0x441)),![];if(!_0x18dd96[_0x2ea6f9(0x4d4)]())return ntfShow(_0x2ea6f9(0x46e)),![];}if(!Array['isArray'](_0x904d83)||_0x904d83[_0x2ea6f9(0x5d9)]==0x0)return ntfShow(_0x2ea6f9(0x2a2)),![];let _0x276c45;setTipOpeOrders[_0x2ea6f9(0x615)](_0x4d36a0=>_0x4d36a0==window_options[_0x3c6af2]['setTipoOperacion'])||setTipOpeSales['some'](_0x111739=>_0x111739==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpeQuotation[_0x2ea6f9(0x615)](_0xe48ea9=>_0xe48ea9==window_options[_0x3c6af2]['setTipoOperacion'])?_0x276c45=0x2:_0x276c45=0x1;for(var _0x45ca2a=0x0;_0x45ca2a<_0x904d83[_0x2ea6f9(0x5d9)];_0x45ca2a++){let _0x1426d9,_0x4b64c7;_0x276c45==0x1?(_0x1426d9=parseFloat(_0x904d83[_0x45ca2a][_0x2ea6f9(0x184)])||0x0,_0x4b64c7=_0x2ea6f9(0xf5)):(_0x1426d9=parseFloat(_0x904d83[_0x45ca2a]['setMtoPrecioUnitario_input'])||0x0,_0x4b64c7='precio');var _0x304ce9=_0x1426d9;if(_0x304ce9<=0x0)return ntfShow(_0x2ea6f9(0x20c)+(_0x904d83[_0x45ca2a]['setDescripcion']||_0x2ea6f9(0x405))+'\x22\x20debe\x20tener\x20un\x20'+_0x4b64c7+'\x20unitario\x20mayor\x20a\x200.'),![];}if(_0x4e65ed){const _0x5efeae=parseInt(getUserPermissionApiERP(0xe)),_0x51ed5c=parseInt(getUserPermissionApiERP(0x5));if((_0x51ed5c==0x0||_0x51ed5c==0x1&&((setTipOpeSalesTicket[_0x2ea6f9(0x615)](_0x260108=>_0x260108==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpeSalesInvoice[_0x2ea6f9(0x615)](_0x5a0ead=>_0x5a0ead==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]))&&_0x5efeae==0x0))&&window_options[_0x3c6af2][_0x2ea6f9(0x667)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x2ea6f9(0x615)](_0x40a492=>_0x40a492==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpeSales[_0x2ea6f9(0x615)](_0x574b81=>_0x574b81==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpeQuotation[_0x2ea6f9(0x615)](_0x19d021=>_0x19d021==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x3c6af2]['setTipoOperacion'],window_options[_0x3c6af2][_0x2ea6f9(0x5d7)]),hideLoadingModal();else{if(window_options[_0x3c6af2][_0x2ea6f9(0x667)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders[_0x2ea6f9(0x615)](_0x4f6280=>_0x4f6280==window_options[_0x3c6af2]['setTipoOperacion'])||setTipOpeSales['some'](_0x3e3f12=>_0x3e3f12==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpeQuotation[_0x2ea6f9(0x615)](_0x1e4f1b=>_0x1e4f1b==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]))){showLoadingModal();let _0x29657f=parseInt(await getLastCorrelativeOffline(window_options[_0x3c6af2][_0x2ea6f9(0x4ee)],window_options[_0x3c6af2][_0x2ea6f9(0x5d7)]),0xa)||0x0,_0xa196b4;if(_0x51ed5c==0x1){const _0x49fe1c=getLoggedUserSeries();_0xa196b4=_0x49fe1c[_0x2ea6f9(0x189)](_0x1a15fc=>_0x1a15fc[_0x2ea6f9(0x161)]==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]&&_0x1a15fc[_0x2ea6f9(0x313)]==window_options[_0x3c6af2][_0x2ea6f9(0x5d7)]);}else _0xa196b4=myCompany[_0x2ea6f9(0x384)]['find'](_0x14afeb=>_0x14afeb[_0x2ea6f9(0x668)]==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]&&_0x14afeb['setSerie']==window_options[_0x3c6af2][_0x2ea6f9(0x5d7)]);if(!_0xa196b4){ntfShow(_0x2ea6f9(0x136)),console[_0x2ea6f9(0x47f)](_0x2ea6f9(0x136));return;}_0x51ed5c==0x1?_0xa196b4[_0x2ea6f9(0x671)]=_0x29657f:_0xa196b4['setCorrelativoInicial']=_0x29657f;try{const _0x5020f3=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5020f3),window_options[_0x3c6af2][_0x2ea6f9(0x319)]=_0x29657f,await saveWindowOptionsDB(_0x3c6af2),console[_0x2ea6f9(0x415)](_0x2ea6f9(0x237));}catch(_0x3253cb){console[_0x2ea6f9(0x47f)](_0x2ea6f9(0x221),_0x3253cb);throw _0x3253cb;}hideLoadingModal();}}return(setTipOpeOrders[_0x2ea6f9(0x615)](_0x29bf61=>_0x29bf61==window_options[_0x3c6af2]['setTipoOperacion'])||setTipOpeQuotation[_0x2ea6f9(0x615)](_0x386dd1=>_0x386dd1==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]))&&saveOperation(_0x3c6af2),(setTipOpeSales[_0x2ea6f9(0x615)](_0x1505db=>_0x1505db==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)])||setTipOpePurchases[_0x2ea6f9(0x615)](_0x38c6d7=>_0x38c6d7==window_options[_0x3c6af2][_0x2ea6f9(0x4ee)]))&&(showSection(_0x4e65ed,_0x3c6af2),document['getElementById']('setMedioPago-'+_0x3c6af2)[_0x2ea6f9(0x1e8)]=_0x2ea6f9(0x389),triggerChangeEventById(_0x2ea6f9(0x1a9)+_0x3c6af2),updateActivePaymentOption(_0x3c6af2,_0x2ea6f9(0x611))),!![];}else return!![];}function buildPayload(_0xe3a4f2,_0x3e8007=''){const _0x1419ae=_0x773bc5;window_options[_0xe3a4f2][_0x1419ae(0x34b)]=0x1;const _0x14fd7e=myCompany[_0x1419ae(0x4b8)]['find'](_0x50110f=>_0x50110f[_0x1419ae(0xf1)]==_0xe3a4f2);window_options[_0xe3a4f2]['windowId']=_0xe3a4f2,window_options[_0xe3a4f2][_0x1419ae(0x399)]=_0x14fd7e[_0x1419ae(0x399)],window_options[_0xe3a4f2]['setWindowType']=_0x14fd7e['setWindowType'],window_options[_0xe3a4f2][_0x1419ae(0x2e0)]=_0x14fd7e['setFloorName'],window_options[_0xe3a4f2][_0x1419ae(0x1d5)]=generateUniqId(),window_options[_0xe3a4f2][_0x1419ae(0x609)]=new Date();parseInt(window_options[_0xe3a4f2][_0x1419ae(0x5f1)])!=0x1&&(window_options[_0xe3a4f2][_0x1419ae(0x274)]=obtener_fechaHora());const _0x24c185=getValidatedWindowAndShift(_0xe3a4f2)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x5c5c33,currentWindowShift:_0x62b35a}=_0x24c185,_0x4d1f5d=window_options[_0xe3a4f2],_0x1992a1=medio_pago[_0xe3a4f2];let _0x5b5cfb=getFilteredCart(_0xe3a4f2);_0x3e8007!=''&&(_0x5b5cfb=_0x5b5cfb[_0x1419ae(0xdc)](_0xd6d4ba=>{const _0x12ad43=_0x1419ae,_0x94a740=products['find'](_0x1a7151=>_0x1a7151['id']==_0xd6d4ba['setIdProducto']);return _0x94a740&&_0x94a740[_0x12ad43(0x4d2)]&&_0x94a740[_0x12ad43(0x4d2)]['some'](_0x21900a=>_0x21900a['setPrinterId']==_0x3e8007);}));const _0x2d47ac=document[_0x1419ae(0x536)](_0x1419ae(0x18b));if(!_0x2d47ac)return console[_0x1419ae(0x47f)](_0x1419ae(0x4ea)),null;const _0x2123b5=_0x2d47ac['value'],_0x5944d7=_0x2d47ac['options'][_0x2d47ac[_0x1419ae(0x17d)]]['text'],_0x269567=document[_0x1419ae(0x536)](_0x1419ae(0x45d));if(!_0x269567)return console[_0x1419ae(0x47f)](_0x1419ae(0x350)),null;const _0x54467b=_0x269567[_0x1419ae(0x1e8)],_0x1b9c69=myCompany['setBranches'][_0x1419ae(0x189)](_0x1b4874=>_0x1b4874[_0x1419ae(0x45d)]==_0x54467b)?.[_0x1419ae(0x50d)]||'',_0x623fe0=myCompany['setBranches'][_0x1419ae(0x189)](_0x226d84=>_0x226d84['setBranchId']==_0x54467b)?.[_0x1419ae(0x262)]||'',_0x14997a=document[_0x1419ae(0x536)](_0x1419ae(0x250));if(!_0x14997a)return console[_0x1419ae(0x47f)](_0x1419ae(0x52b)),null;const _0x29f655=_0x14997a[_0x1419ae(0x1e8)],_0x210124=_0x14997a[_0x1419ae(0xf8)][_0x14997a[_0x1419ae(0x17d)]]['text'],_0x28b6d5=_0x4d1f5d[_0x1419ae(0x15a)],_0x4e4d10=myCompany[_0x1419ae(0x114)][_0x1419ae(0x189)](_0x52e55f=>_0x52e55f[_0x1419ae(0x4d9)]==_0x28b6d5),_0x2abc0f=_0x4e4d10?_0x4e4d10[_0x1419ae(0x501)]:null,_0x5cb6b4=_0x4e4d10?_0x4e4d10[_0x1419ae(0x3e0)]:null,_0x349199=_0x4d1f5d[_0x1419ae(0x4ee)],_0x1aea80=myCompany[_0x1419ae(0x46a)]['find'](_0x258160=>_0x258160[_0x1419ae(0x522)]==_0x349199),_0x4347f1=_0x1aea80?_0x1aea80[_0x1419ae(0x545)]:null;!myCompany[_0x1419ae(0x40c)]&&(myCompany[_0x1419ae(0x40c)]=[]);const _0x5a8291=myCompany[_0x1419ae(0x40c)],_0x4d59d1=_0x5a8291['find'](_0x288c7a=>_0x288c7a[_0x1419ae(0x45d)]==_0x54467b&&_0x288c7a[_0x1419ae(0x50a)]=='1');return pdfGlobalPayload={..._0x4d1f5d,'setToken':myCompany[_0x1419ae(0x451)],'setWebhook':myCompany[_0x1419ae(0x321)],'setShiftId':_0x4d59d1?_0x4d59d1['setShiftId']:0x0,'setWindowShiftId':_0x62b35a?_0x62b35a[_0x1419ae(0x264)]:0x0,'setSucursalCodigo':_0x54467b,'setSucursalNombre':_0x1b9c69,'setBranchAddress':_0x623fe0,'setWarehouseId':_0x29f655,'setWarehouseName':_0x210124,'setCashierId':_0x2123b5,'setCashierName':_0x5944d7,'setProductos':_0x5b5cfb,'setMedioPago':_0x1992a1,'setDocumentType':_0x4347f1,'setCurrencyName':_0x2abc0f,'setCurrencySymbol':_0x5cb6b4},pdfGlobalPayload;}async function saveOperation(_0x1d0749){const _0x1b4978=_0x773bc5;let _0x2ac03c;(setTipOpeOrders['some'](_0x4bf6b1=>_0x4bf6b1==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeQuotation[_0x1b4978(0x615)](_0x4e5206=>_0x4e5206==window_options[_0x1d0749][_0x1b4978(0x4ee)]))&&(_0x2ac03c=document[_0x1b4978(0x536)](_0x1b4978(0x4a9)+_0x1d0749));(setTipOpeSales['some'](_0x49f48f=>_0x49f48f==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpePurchases['some'](_0x3e6a87=>_0x3e6a87==window_options[_0x1d0749]['setTipoOperacion']))&&(_0x2ac03c=document[_0x1b4978(0x536)](_0x1b4978(0x54d)+_0x1d0749));if(!_0x2ac03c){console[_0x1b4978(0x47f)](_0x1b4978(0x649));return;}_0x2ac03c[_0x1b4978(0x5bd)]=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x1d0749)){_0x2ac03c[_0x1b4978(0x5bd)]=![],hideLoadingModal(),showModalPay();return;}const _0x10c934=buildPayload(_0x1d0749);if(!_0x10c934){console[_0x1b4978(0x47f)]('Error\x20al\x20construir\x20el\x20payload.'),_0x2ac03c[_0x1b4978(0x5bd)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0x10c934);const _0x54aa88=[],_0x3ea1d9=_0x10c934[_0x1b4978(0x2a3)],_0xed560=myCompany[_0x1b4978(0x4d2)][_0x1b4978(0xdc)](_0x34ba11=>_0x34ba11[_0x1b4978(0x45d)]==_0x3ea1d9);setTipOpeOrders[_0x1b4978(0x615)](_0x313f17=>_0x313f17==window_options[_0x1d0749]['setTipoOperacion'])&&_0x10c934[_0x1b4978(0x186)][_0x1b4978(0x24f)](_0x4ef5d9=>{const _0x4c4e5b=_0x1b4978,_0x870a13=products[_0x4c4e5b(0x189)](_0x3f1705=>_0x3f1705['id']==_0x4ef5d9[_0x4c4e5b(0x623)]);if(_0x870a13?.['setPrinters']?.[_0x4c4e5b(0x5d9)]){const _0x4a8bb2=_0x870a13['setPrinters'][_0x4c4e5b(0xdc)](_0x559d0b=>_0xed560['some'](_0x29978c=>_0x29978c['setPrinterId']==_0x559d0b[_0x4c4e5b(0x17a)]));_0x4a8bb2[_0x4c4e5b(0x24f)](_0xbcb3b4=>{const _0x3d2a9a=_0x4c4e5b;!_0x54aa88[_0x3d2a9a(0x615)](_0x1a8a58=>_0x1a8a58[_0x3d2a9a(0x17a)]==_0xbcb3b4[_0x3d2a9a(0x17a)])&&_0x54aa88[_0x3d2a9a(0x338)]({..._0xbcb3b4,'payloadComand':buildPayload(_0x1d0749,_0xbcb3b4[_0x3d2a9a(0x17a)])});});}});let _0x33e79b;if(setTipOpeOrders[_0x1b4978(0x615)](_0x5a744b=>_0x5a744b==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeSales['some'](_0x5cdde9=>_0x5cdde9==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeQuotation[_0x1b4978(0x615)](_0xf9f25b=>_0xf9f25b==window_options[_0x1d0749][_0x1b4978(0x4ee)])){let _0xe13425=await processCorrelativoInicial(window_options[_0x1d0749][_0x1b4978(0x4ee)],window_options[_0x1d0749][_0x1b4978(0x5d7)]);_0xe13425=parseInt(_0xe13425,0xa)||0x0,_0x33e79b=_0xe13425;}const _0xd1f20d=window_options[_0x1d0749][_0x1b4978(0x667)]==0x2;!_0xd1f20d&&(setTipOpeOrders['some'](_0x33feac=>_0x33feac==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeSales[_0x1b4978(0x615)](_0x31fb5d=>_0x31fb5d==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeQuotation[_0x1b4978(0x615)](_0x431915=>_0x431915==window_options[_0x1d0749][_0x1b4978(0x4ee)]))&&(_0x33e79b+=0x1);if(window_options[_0x1d0749][_0x1b4978(0x2cd)]==0x1&&(setTipOpeSales[_0x1b4978(0x615)](_0x478892=>_0x478892==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpePurchases['some'](_0x5f5202=>_0x5f5202==window_options[_0x1d0749][_0x1b4978(0x4ee)]))){const _0xf15637=document[_0x1b4978(0x536)]('setWarehouseId')[_0x1b4978(0x1e8)],_0x8a4eff=carts[_0x1d0749],_0x8a3512=_0xd1f20d?window_options[_0x1d0749][_0x1b4978(0x59b)]:[];_0x8a4eff[_0x1b4978(0x24f)](_0xadc8eb=>{const _0xb6fb95=_0x1b4978;if(_0xadc8eb[_0xb6fb95(0x4a0)]!=0x1)return;const _0x31a0eb=products[_0xb6fb95(0x189)](_0x4f6838=>_0x4f6838['id']==_0xadc8eb[_0xb6fb95(0x623)]);if(!_0x31a0eb){console[_0xb6fb95(0x13e)](_0xb6fb95(0x45c)+_0xadc8eb[_0xb6fb95(0x623)]);return;}const _0x1363f6=parseFloat(_0x31a0eb[_0xb6fb95(0x664)]),_0x38146d=parseFloat(_0xadc8eb[_0xb6fb95(0x121)]);let _0x5b584c=0x0;if(_0xd1f20d){const _0xa0543d=_0x8a3512[_0xb6fb95(0x189)](_0x1ee5d2=>_0x1ee5d2['setIdProducto']==_0xadc8eb['setIdProducto']),_0x2a9db0=_0xa0543d?parseFloat(_0xa0543d['setValorCantidad']):0x0;setTipOpeSales[_0xb6fb95(0x615)](_0x25dadc=>_0x25dadc==window_options[_0x1d0749][_0xb6fb95(0x4ee)])&&(_0x5b584c=_0x2a9db0*_0x1363f6-_0x38146d*_0x1363f6),setTipOpePurchases['some'](_0x38af3a=>_0x38af3a==window_options[_0x1d0749][_0xb6fb95(0x4ee)])&&(_0x5b584c=_0x2a9db0*_0x1363f6+_0x38146d*_0x1363f6);}else setTipOpeSales['some'](_0x5b4b08=>_0x5b4b08==window_options[_0x1d0749][_0xb6fb95(0x4ee)])&&(_0x5b584c=-(_0x38146d*_0x1363f6)),setTipOpePurchases[_0xb6fb95(0x615)](_0x684ea8=>_0x684ea8==window_options[_0x1d0749][_0xb6fb95(0x4ee)])&&(_0x5b584c=_0x38146d*_0x1363f6);const _0x36543f=_0x31a0eb['setIdProducto'],_0x5cfc21=products[_0xb6fb95(0xdc)](_0x507ce3=>_0x507ce3['setIdProducto']==_0x36543f);_0x5cfc21['forEach'](_0x408345=>{const _0xb3d522=_0xb6fb95,_0x5a61c0=_0x408345[_0xb3d522(0x621)][_0xb3d522(0x189)](_0x171ec8=>_0x171ec8[_0xb3d522(0x67c)]==_0xf15637);if(!_0x5a61c0){console[_0xb3d522(0x13e)](_0xb3d522(0x373)+_0xf15637+_0xb3d522(0x160)+_0x408345['id']);return;}const _0xfa8d5a=parseFloat(_0x5a61c0[_0xb3d522(0x3c8)]),_0x26116a=_0xfa8d5a+_0x5b584c;_0x5a61c0['setSucursalStock']=_0x26116a,console[_0xb3d522(0x415)](_0xb3d522(0x19d)+_0x408345['id']+_0xb3d522(0x176)+_0x36543f+_0xb3d522(0x525)+_0xf15637+':\x20stock\x20actualizado\x20de\x20'+_0xfa8d5a+_0xb3d522(0x146)+_0x26116a);});});}if(setTipOpeOrders['some'](_0x589a16=>_0x589a16==window_options[_0x1d0749]['setTipoOperacion'])||setTipOpeSales['some'](_0x669859=>_0x669859==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeQuotation[_0x1b4978(0x615)](_0x54202b=>_0x54202b==window_options[_0x1d0749][_0x1b4978(0x4ee)])){let _0x1fce9d;!_0xd1f20d?_0x1fce9d=await processCorrelativoInicial(window_options[_0x1d0749]['setTipoOperacion'],window_options[_0x1d0749]['setSerie'],_0x33e79b):_0x1fce9d=_0x33e79b,window_options[_0x1d0749]['setCorrelativo']=parseInt(_0x1fce9d);}else window_options[_0x1d0749][_0x1b4978(0x319)]='';window_options[_0x1d0749][_0x1b4978(0x274)]=obtener_fechaHora(),window_options[_0x1d0749][_0x1b4978(0x5f1)]=0x0,window_options[_0x1d0749][_0x1b4978(0x2cd)]='1',window_options[_0x1d0749][_0x1b4978(0x663)]='1',window_options[_0x1d0749][_0x1b4978(0x3a6)]=0x0,window_options[_0x1d0749][_0x1b4978(0x667)]='1',correlativeReadonly=0x0,window_options[_0x1d0749][_0x1b4978(0x109)]='',medio_pago=[];const _0x4b89d4=getValidatedWindowAndShift(_0x1d0749),{windowObj:_0x5c6af1,currentWindowShift:_0x70229c}=_0x4b89d4;(!_0x70229c||!setTipOpeOrders['some'](_0x508cf7=>_0x508cf7==window_options[_0x1d0749][_0x1b4978(0x4ee)]))&&(window_options[_0x1d0749][_0x1b4978(0x5a2)]='',window_options[_0x1d0749][_0x1b4978(0x36c)]='',window_options[_0x1d0749]['setClienteDireccion']='',window_options[_0x1d0749]['setCustomerPhone']='',window_options[_0x1d0749][_0x1b4978(0x537)]='');if(_0x70229c){_0x5c6af1['setLastDateUpdate']=new Date();if(setTipOpeOrders['some'](_0x5c23e4=>_0x5c23e4==window_options[_0x1d0749][_0x1b4978(0x4ee)])||setTipOpeSales[_0x1b4978(0x615)](_0xf79d49=>_0xf79d49==window_options[_0x1d0749]['setTipoOperacion'])){!_0x70229c[_0x1b4978(0xf3)]&&(_0x70229c[_0x1b4978(0xf3)]=[]);let _0x12f02b=_0x10c934;delete _0x12f02b[_0x1b4978(0x1f1)],_0x70229c[_0x1b4978(0xf3)][_0x1b4978(0x338)](_0x12f02b),_0x5c6af1[_0x1b4978(0x672)]=_0x1b4978(0x1ef),_0x70229c['setPreAccountDate']='';}if(setTipOpeSales['some'](_0x1cc830=>_0x1cc830==window_options[_0x1d0749][_0x1b4978(0x4ee)])){const _0x4c360f=carts[_0x1d0749]||[],_0x486a8d=_0x4c360f[_0x1b4978(0x615)](_0x2f7147=>_0x2f7147[_0x1b4978(0x1ca)]==0x0);if(!_0x486a8d){_0x5c6af1[_0x1b4978(0x672)]=_0x1b4978(0x3b6);const _0x5aebc6=new Date();_0x70229c[_0x1b4978(0x50a)]='0',_0x70229c[_0x1b4978(0x38b)]=_0x5aebc6;}}const _0x40697d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x40697d);}for(let _0x4d1fb3=products[_0x1b4978(0x5d9)]-0x1;_0x4d1fb3>=0x0;_0x4d1fb3--){products[_0x4d1fb3][_0x1b4978(0x382)]==0x1&&products[_0x1b4978(0x1b1)](_0x4d1fb3,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x1d0749);}catch(_0x1f2530){_0x2ac03c[_0x1b4978(0x5bd)]=![],hideLoadingModal(),showModalPay(),console[_0x1b4978(0x47f)]('Error\x20WindowOp',_0x1f2530);return;}await removeAllFromCart(_0x1d0749),_0x2ac03c[_0x1b4978(0x5bd)]=![],hideLoadingModal(),showLeftSection();_0x54aa88['length']>0x0&&processPrints(_0x54aa88);const _0x275efe=getUserPermissionApiERP(0x3),_0x5a3d44=myCompany[_0x1b4978(0x46b)]['setUserCodigo'],_0x54ff86=myCompany[_0x1b4978(0x194)][_0x1b4978(0x189)](_0x2bfd3c=>_0x2bfd3c[_0x1b4978(0x21b)]==_0x5a3d44),_0x394cb7=_0x54ff86?.[_0x1b4978(0x458)][_0x1b4978(0x189)](_0xc1552e=>_0xc1552e['setBranchId']==_0x3ea1d9)?.[_0x1b4978(0x17a)]||0x0;if(setTipOpeSales[_0x1b4978(0x615)](_0xa36458=>_0xa36458==window_options[_0x1d0749][_0x1b4978(0x4ee)])&&_0x275efe==0x1&&_0x394cb7!=0x0){const _0x365dad=_0xed560[_0x1b4978(0x189)](_0xd7cfb=>_0xd7cfb[_0x1b4978(0x17a)]==_0x394cb7);_0x365dad&&setPrintOnline(_0x365dad[_0x1b4978(0x595)],pdfGlobalBlob,pdfGlobalName,0x0);}selectedCategories=[],selectedMarcas=[],document[_0x1b4978(0x536)](_0x1b4978(0x26f))['value']='',renderProducts(''),initializeCategorys(),await setOrders(_0x1d0749),apiERPsync();}catch(_0x45844b){_0x2ac03c[_0x1b4978(0x5bd)]=![],hideLoadingModal(),showModalPay(),console[_0x1b4978(0x47f)]('Error\x20Correlativo\x20Update',_0x45844b);return;}}async function storeOfflineOperation(_0xdc342e,_0x563b1c=0x0){const _0x528dc2=_0x773bc5;try{const _0x2913a3=await createCartStore('');if(_0x563b1c==0x0){const {pdfBlob:_0xf07309,pdfName:_0x5e9bde}=await generatePdf(_0xdc342e,'tk',_0x528dc2(0x489),_0x528dc2(0x27a));_0xdc342e[_0x528dc2(0x1f1)]=_0xf07309,pdfGlobalBlob=_0xf07309,pdfGlobalName=_0x5e9bde,!setTipOpeOrders['some'](_0x3e9572=>_0x3e9572==_0xdc342e[_0x528dc2(0x4ee)])&&showModal();}const _0x44ee20=_0x2913a3[_0x528dc2(0x210)](_0x528dc2(0x3d7),_0x528dc2(0x421)),_0x88c952=_0x44ee20['objectStore']('offline_operations');_0x88c952[_0x528dc2(0x273)](_0xdc342e),_0x44ee20[_0x528dc2(0x455)]=()=>{const _0x117ee4=_0x528dc2;console[_0x117ee4(0x415)](_0x117ee4(0x30d)),console[_0x117ee4(0x415)](_0xdc342e);},_0x44ee20['onerror']=_0x492dae=>{const _0x478b29=_0x528dc2;console[_0x478b29(0x47f)](_0x478b29(0x4b6),_0x492dae[_0x478b29(0x5f4)][_0x478b29(0x47f)]);};}catch(_0x16e581){console['error'](_0x528dc2(0x265),_0x16e581);}}function _0xd9f0(_0x103816,_0x1ce6cb){const _0x11ba22=_0x40f5();return _0xd9f0=function(_0x480147,_0xdaac60){_0x480147=_0x480147-0xdb;let _0x53506c=_0x11ba22[_0x480147];return _0x53506c;},_0xd9f0(_0x103816,_0x1ce6cb);}function getFormattedDate(_0x110321){const _0x4098a3=new Date(_0x110321);return _0x4098a3['toLocaleDateString']();}function getFormattedTime(_0x2dec20){const _0x1c5a2d=_0x773bc5,_0x2aefd5=new Date(_0x2dec20);return _0x2aefd5[_0x1c5a2d(0x1b7)]();}function getCurrentDateTime(){const _0x525a9a=_0x773bc5;return new Date()[_0x525a9a(0x644)]();}function sanitizeData(_0x38f2ed,_0x58db6a=_0x773bc5(0x669)){const _0x219849=_0x773bc5,_0x402198=_0x362b0c=>{const _0x4b4e11=_0xd9f0;if(_0x362b0c==null||_0x362b0c=='')return'';return _0x362b0c[_0x4b4e11(0x437)](/[\xC0-\xFF]/g,_0xbeec7f=>{const _0x3e57a7={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0x3e57a7[_0xbeec7f]||_0xbeec7f;});},_0x2f440e=_0x526d1f=>{return parseFloat(_0x526d1f)||0x0;},_0x6b514f=_0x134d28=>{const _0x2035c0=_0xd9f0;return _0x134d28[_0x2035c0(0x1b5)](_0x523042=>{if(typeof _0x523042=='object'&&_0x523042!==null)return sanitizeData(_0x523042,_0x58db6a);return sanitizeData(_0x523042,_0x58db6a);});};if(typeof _0x38f2ed==_0x219849(0x372)&&_0x38f2ed!==null){const _0xd4b93={};for(const _0x1df6be in _0x38f2ed){_0x38f2ed[_0x219849(0x3fe)](_0x1df6be)&&(_0xd4b93[_0x1df6be]=sanitizeData(_0x38f2ed[_0x1df6be],_0x58db6a));}return _0xd4b93;}if(Array['isArray'](_0x38f2ed))return _0x6b514f(_0x38f2ed);if(_0x58db6a==_0x219849(0x258)||_0x58db6a==_0x219849(0x1f6))return _0x2f440e(_0x38f2ed);return _0x402198(_0x38f2ed);}function getCurrentDate(){const _0x35feac=_0x773bc5,_0x3fc6ae=new Date();return _0x3fc6ae[_0x35feac(0x644)]();}function numeroALetras(_0x2812a0){const _0x2aeb30=_0x773bc5,_0x9f1ab3=['',_0x2aeb30(0x101),_0x2aeb30(0x407),_0x2aeb30(0x303),_0x2aeb30(0x509),_0x2aeb30(0x2c8),_0x2aeb30(0x35a),_0x2aeb30(0x263),_0x2aeb30(0x596),_0x2aeb30(0x2a9)],_0xe7a000=['',_0x2aeb30(0x4be),_0x2aeb30(0x2d6),'TREINTA','CUARENTA',_0x2aeb30(0x5e7),_0x2aeb30(0x203),_0x2aeb30(0x32b),_0x2aeb30(0x2f9),_0x2aeb30(0x278)],_0x2878d6=['',_0x2aeb30(0x5c1),'DOSCIENTOS','TRESCIENTOS',_0x2aeb30(0x4db),_0x2aeb30(0x2ff),_0x2aeb30(0x44e),_0x2aeb30(0x4b2),_0x2aeb30(0x20a),_0x2aeb30(0x1d0)];function _0x50e7d7(_0x7517dc){const _0x532d63=_0x2aeb30;if(_0x7517dc==0x0)return _0x532d63(0x35b);if(_0x7517dc==0x64)return _0x532d63(0x36d);if(_0x7517dc>=0x1&&_0x7517dc<=0x9)return _0x9f1ab3[_0x7517dc];if(_0x7517dc>=0xa&&_0x7517dc<=0x13){const _0x2d1ec2=[_0x532d63(0x4be),_0x532d63(0x1a3),_0x532d63(0x38a),_0x532d63(0x3ff),_0x532d63(0x428),_0x532d63(0x5e4),_0x532d63(0x3a8),_0x532d63(0x438),'DIECIOCHO',_0x532d63(0x2e1)];return _0x2d1ec2[_0x7517dc-0xa];}if(_0x7517dc>=0x14&&_0x7517dc<=0x1d){const _0x5cf0e9=_0x7517dc%0xa;return _0x532d63(0x1c1)+(_0x5cf0e9>0x0?_0x9f1ab3[_0x5cf0e9]:'');}if(_0x7517dc>=0x1e&&_0x7517dc<=0x63){const _0x1311b8=Math[_0x532d63(0x5a7)](_0x7517dc/0xa),_0x2a3b7d=_0x7517dc%0xa;return''+_0xe7a000[_0x1311b8]+(_0x2a3b7d>0x0?_0x532d63(0x2a4)+_0x9f1ab3[_0x2a3b7d]:'');}if(_0x7517dc>=0x64&&_0x7517dc<=0x3e7){const _0x18392c=Math[_0x532d63(0x5a7)](_0x7517dc/0x64),_0x25dc83=_0x7517dc%0x64;return''+_0x2878d6[_0x18392c]+(_0x25dc83>0x0?'\x20'+_0x50e7d7(_0x25dc83):'');}if(_0x7517dc>=0x3e8&&_0x7517dc<=0xf423f){const _0x4a2620=Math[_0x532d63(0x5a7)](_0x7517dc/0x3e8),_0x144aa5=_0x7517dc%0x3e8;return''+(_0x4a2620>0x1?_0x50e7d7(_0x4a2620)+_0x532d63(0x2df):_0x532d63(0x345))+(_0x144aa5>0x0?'\x20'+_0x50e7d7(_0x144aa5):'');}if(_0x7517dc>=0xf4240&&_0x7517dc<=0x3b9ac9ff){const _0x2634be=Math[_0x532d63(0x5a7)](_0x7517dc/0xf4240),_0x348086=_0x7517dc%0xf4240;return''+(_0x2634be>0x1?_0x50e7d7(_0x2634be)+_0x532d63(0x27e):'UN\x20MILLÓN')+(_0x348086>0x0?'\x20'+_0x50e7d7(_0x348086):'');}return'';}function _0x1c7402(_0x373520){const _0x39e63a=_0x2aeb30;return _0x373520>0x0?_0x373520+_0x39e63a(0x5a4):_0x39e63a(0x490);}const [_0x59fcd9,_0x542fb2]=_0x2812a0[_0x2aeb30(0x16f)](0x2)[_0x2aeb30(0x634)]('.')['map'](Number),_0x4369f8=_0x50e7d7(_0x59fcd9),_0x4f05b7=_0x1c7402(_0x542fb2);return'SON\x20'+_0x4369f8+_0x2aeb30(0x23e)+_0x4f05b7;}function formatShiftDate(_0x43dc21){const _0x337aa7=_0x773bc5,_0xb05cc9=new Date(_0x43dc21);if(isNaN(_0xb05cc9))return'';const _0x5bf089=new Date(),_0x1ec630=_0x5bf089-_0xb05cc9,_0x54bf81=Math[_0x337aa7(0x5a7)](_0x1ec630/0x3e8),_0x34afe3=Math[_0x337aa7(0x5a7)](_0x1ec630/0xea60),_0xd770ba=Math[_0x337aa7(0x5a7)](_0x1ec630/0x36ee80),_0x3595a7=Math['floor'](_0x1ec630/0x5265c00);if(_0x54bf81<0x3c)return _0x54bf81+_0x337aa7(0x495);else{if(_0x34afe3<0x3c)return _0x34afe3+_0x337aa7(0x25c);else{if(_0xd770ba<0x18){const _0xdd98ff=Math[_0x337aa7(0x5a7)](_0x1ec630%0x36ee80/0xea60);return _0xd770ba+'h\x20'+_0xdd98ff+_0x337aa7(0x308);}else{const _0x554cc5=Math[_0x337aa7(0x5a7)](_0x1ec630%0x5265c00/0x36ee80);return _0x3595a7+'d\x20'+_0x554cc5+'h';}}}}function generateUUID(){const _0x607df=_0x773bc5;return _0x607df(0x66e)[_0x607df(0x437)](/[xy]/g,function(_0x1a9681){const _0x3600cf=_0x607df,_0x27f6bf=Math[_0x3600cf(0x439)]()*0x10|0x0,_0x321357=_0x1a9681==='x'?_0x27f6bf:_0x27f6bf&0x3|0x8;return _0x321357['toString'](0x10);});}async function generatePdf(_0x37af27,_0x46add0='tk',_0x102a67='pdfCanvas',_0x37d880=_0x773bc5(0x27a),_0x38281e=0x0){const _0x873fbf=_0x773bc5,{PDFDocument:_0xe9f736,rgb:_0x5e3dd4}=PDFLib;try{const _0x22b327=await _0xe9f736['create'](),_0x309acc=window[_0x873fbf(0x57a)];_0x22b327[_0x873fbf(0x43c)](_0x309acc);const [_0x49849c,_0x51a401]=await Promise[_0x873fbf(0x34d)]([cargarFuente(_0x873fbf(0x417),_0x22b327),cargarFuente(_0x873fbf(0x593),_0x22b327)]);let _0x2aabcb,_0x538842;if(_0x46add0=='tk')_0x2aabcb=0xc8,_0x538842=0xbb8;else _0x46add0=='a4'&&(_0x2aabcb=0x24e,_0x538842=0x7d0);const _0x49ccb5=await procesarContenido(_0x22b327,_0x49849c,_0x51a401,_0x37af27,_0x2aabcb,_0x538842,_0x46add0,_0x5e3dd4,_0x38281e);let _0x26b7b7=_0x538842-_0x49ccb5;_0x46add0=='tk'&&(_0x22b327[_0x873fbf(0x18e)](0x0),await procesarContenido(_0x22b327,_0x49849c,_0x51a401,_0x37af27,_0x2aabcb,_0x26b7b7,_0x46add0,_0x5e3dd4,_0x38281e));_0x46add0=='a4'&&(_0x26b7b7<0x34a&&(_0x26b7b7=0x34a),_0x22b327['removePage'](0x0),await procesarContenido(_0x22b327,_0x49849c,_0x51a401,_0x37af27,_0x2aabcb,_0x26b7b7,_0x46add0,_0x5e3dd4,_0x38281e));const _0x3aa3ad=await _0x22b327[_0x873fbf(0x65d)](),_0x50ba21=new Blob([_0x3aa3ad],{'type':_0x873fbf(0x58d)}),_0x46a515=parseInt(_0x37af27[_0x873fbf(0x4ee)]),_0x4ef589=myCompany['setEmpresaRuc']+'-'+String(_0x46add0)[_0x873fbf(0x40a)]()+'-'+_0x46a515+'-'+_0x37af27[_0x873fbf(0x5d7)]+'-'+_0x37af27[_0x873fbf(0x319)]+_0x873fbf(0x410),_0x4acd7d=URL[_0x873fbf(0x59d)](_0x50ba21),_0x249dad=document['getElementById'](_0x102a67),_0x4c40a3=_0x249dad[_0x873fbf(0x3e5)]('2d'),_0x1e6ac2=await pdfjsLib['getDocument'](_0x4acd7d)[_0x873fbf(0x235)],_0x2a8f34=await _0x1e6ac2[_0x873fbf(0x33d)](0x1),_0x75e671=_0x2a8f34[_0x873fbf(0x48b)]({'scale':parseFloat(_0x37d880)});return _0x249dad[_0x873fbf(0x335)]=_0x75e671['width'],_0x249dad[_0x873fbf(0x1dd)]=_0x75e671[_0x873fbf(0x1dd)],_0x4c40a3[_0x873fbf(0x339)](0x0,0x0,_0x249dad[_0x873fbf(0x335)],_0x249dad[_0x873fbf(0x1dd)]),await _0x2a8f34[_0x873fbf(0x52d)]({'canvasContext':_0x4c40a3,'viewport':_0x75e671})[_0x873fbf(0x235)],URL['revokeObjectURL'](_0x4acd7d),{'pdfBlob':_0x50ba21,'pdfName':_0x4ef589};}catch(_0x549f1a){ntfShow(_0x549f1a,0x2,0x1);throw _0x549f1a;}}async function cargarFuente(_0x41af8d,_0x496dc2){const _0x5d49f3=_0x773bc5,_0x35efd0=await fetch(_0x41af8d)[_0x5d49f3(0xee)](_0x2eb698=>_0x2eb698[_0x5d49f3(0x2a8)]());return _0x496dc2['embedFont'](_0x35efd0);}async function procesarContenido(_0x40e980,_0x2a450f,_0x3f1429,_0x644de3,_0xd1181e,_0x3ca5f2,_0x135dc3='tk',_0x5cd9bc,_0x510502=0x0){const _0x37d677=_0x773bc5,_0x46f6b1=_0x40e980['addPage']([_0xd1181e,_0x3ca5f2]),{width:_0x25213b,height:_0x127636}=_0x46f6b1[_0x37d677(0x126)](),_0x4fb658=0xc,_0x2bb4e5=0x4,_0x7ee122=0xa;let _0x5bb1be=_0x127636-_0x7ee122,{setLogoUrl:setLogoUrl=myCompany[_0x37d677(0x58c)],setEmpresaRuc:setEmpresaRuc=myCompany['setEmpresaRuc'],setEmpresaNombre:setEmpresaNombre=myCompany['setEmpresaNombre'],setEmpresaTelefono:setEmpresaTelefono=myCompany[_0x37d677(0x48c)],setEmpresaEmail:setEmpresaEmail=myCompany['setCompanyEmail'],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x37d677(0x12b)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe=_0x37d677(0x327),setDespacho:setDespacho='',setFooter:setFooter=_0x37d677(0x299),setProductos:setProductos=[],..._0x3dc75d}=_0x644de3;_0x644de3=sanitizeData(_0x644de3,_0x37d677(0x258));const _0x26373b=_0x3dc75d[_0x37d677(0x262)],_0x47790a=_0x3dc75d['setCustomerPhone'],_0x164618=_0x3dc75d[_0x37d677(0x537)],_0x30ce71=_0x3dc75d['setWindowName'],_0x33c81b=_0x3dc75d[_0x37d677(0x5f6)];let _0x5079a0,_0x19f751;if(_0x33c81b=='window')_0x5079a0='Ventana',_0x19f751=_0x37d677(0x5c0);else{if(_0x33c81b==_0x37d677(0x323))_0x5079a0=_0x37d677(0x5a8),_0x19f751=_0x37d677(0x49e);else{if(_0x33c81b==_0x37d677(0x2f6))_0x5079a0=_0x37d677(0x5dc),_0x19f751=_0x37d677(0x4a6);else _0x33c81b==_0x37d677(0x33f)&&(_0x5079a0='Sillón',_0x19f751=_0x37d677(0x59c));}}const _0x19bc81=_0x3dc75d[_0x37d677(0x2e0)],_0xd20099=_0x3dc75d[_0x37d677(0x65a)],_0x2b52bb=_0x3dc75d[_0x37d677(0x169)],_0x38e5a2=_0x3dc75d[_0x37d677(0x475)],_0x48c987=(parseFloat(_0x3dc75d[_0x37d677(0x3a6)])||0x0)[_0x37d677(0x16f)](0x2),_0x16fa31=(parseFloat(_0x3dc75d[_0x37d677(0x5ea)])||0x0)[_0x37d677(0x16f)](0x2),_0x49f1d9=(parseFloat(_0x3dc75d[_0x37d677(0x20f)])||0x0)['toFixed'](0x2),_0x2b2631=(parseFloat(_0x3dc75d[_0x37d677(0x3b0)])||0x0)['toFixed'](0x2),_0x9f8ec0=(parseFloat(_0x3dc75d[_0x37d677(0x24e)])||0x0)[_0x37d677(0x16f)](0x2),_0x24a99d=(parseFloat(_0x3dc75d[_0x37d677(0x236)])||0x0)[_0x37d677(0x16f)](0x2),_0x39fb00=(parseFloat(_0x3dc75d[_0x37d677(0x2ce)])||0x0)['toFixed'](0x2),_0x5d7099=(parseFloat(_0x3dc75d['setMtoIGV'])||0x0)[_0x37d677(0x16f)](0x2),_0x52f1f4=(parseFloat(_0x3dc75d['setMtoIGVGratuitas'])||0x0)['toFixed'](0x2),_0x4ffd8d=(parseFloat(_0x3dc75d[_0x37d677(0x270)])||0x0)['toFixed'](0x2),_0x40d1a7=parseFloat(_0x3dc75d[_0x37d677(0x559)])||0x0;let _0x35de49,_0x42fc3a,_0x379386,_0x47dbb7;_0x40d1a7==0x1&&(_0x35de49=_0x3dc75d['setDetraccionCodigo']||'',_0x42fc3a=_0x3dc75d['setDetraccionCodigoName']||'',_0x379386=_0x3dc75d[_0x37d677(0x130)]||'0.00',_0x47dbb7=_0x3dc75d[_0x37d677(0x4c7)]||'0.00');const _0x5c299d=parseFloat(_0x3dc75d[_0x37d677(0xdb)])||0x0;let _0x15f626,_0x2e9f06;_0x5c299d==0x1&&(_0x15f626=_0x3dc75d[_0x37d677(0x42f)]||_0x37d677(0x5f9),_0x2e9f06=_0x3dc75d[_0x37d677(0x39d)]||_0x37d677(0x5f9));const _0x5b7dd2=parseFloat(_0x3dc75d[_0x37d677(0x60f)])||0x0;let _0x352007,_0x17cb43;_0x5b7dd2==0x1&&(_0x352007=_0x3dc75d[_0x37d677(0x3b5)]||_0x37d677(0x5f9),_0x17cb43=_0x3dc75d['setPercepcionTotal']||'0.00');const _0x2d4112=getFormattedDate(setFechaHora),_0xd25047=getFormattedTime(setFechaHora),_0x4c818b=myCompany[_0x37d677(0x600)],_0x456ce4=parseInt(_0x3dc75d[_0x37d677(0x11c)])||0x0,{contado:_0x2e20c3,credito:_0x2891cf,mixto:_0x4f8ae0}=_0x3dc75d['setMedioPago']||{},_0x54cd91=numeroALetras(parseFloat(_0x4ffd8d))+'\x20'+_0x38e5a2['toUpperCase'](),_0x3486d9=_0x37d677(0xf9),_0x36408c=_0x3dc75d[_0x37d677(0x1fd)],_0x4fee36=_0x3dc75d[_0x37d677(0x10d)],_0x572aa4=_0x37d677(0x37a),_0x26d44d=_0x3dc75d[_0x37d677(0x1e7)],_0x47f40a=_0x3dc75d['setSellerName'],_0x1e9ffe=_0x37d677(0x613);let _0x1281e1,_0x2202c3;if(setTipOpeOrders['some'](_0x4ed49f=>_0x4ed49f==setTipoOperacion)||setTipOpeQuotation['some'](_0x1939d1=>_0x1939d1==setTipoOperacion)||setTipOpeSales[_0x37d677(0x615)](_0x24b292=>_0x24b292==setTipoOperacion))_0x1281e1=_0x37d677(0x268),_0x2202c3=0x2;else setTipOpePurchases[_0x37d677(0x615)](_0x4d0c68=>_0x4d0c68==setTipoOperacion)&&(_0x1281e1='Proveedor',_0x2202c3=0x1);const _0x3f535f='Vehículo:',_0x4925d8='',_0x5c37a5=_0x37d677(0x643),_0x5cdb57='',_0x1338d0=_0x37d677(0x2cc),_0x1da164='',_0x33ea54=_0x37d677(0x59a),_0x1d00bf='';let _0xb46f5f='',_0x252e0e=[];_0x4925d8!=''&&(_0xb46f5f=_0x37d677(0x46f),_0x252e0e=[_0x3f535f+':\x20'+_0x4925d8,_0x5c37a5+':\x20'+_0x5cdb57,_0x1338d0+':\x20'+_0x1da164,_0x33ea54+':\x20'+_0x1d00bf]);const _0x445f74=getUserPermissionApiERP(0x7),_0x5a35ed=getUserPermissionApiERP(0x8),_0x343fa9=_0x5cd9bc(0x1,0.35,0x0),_0x37d0ed=_0x5cd9bc(0x1,0x1,0x1),_0x292dc8=_0x5cd9bc(0x0,0x0,0x0),_0x2709f8=_0x5cd9bc(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0x30b5e6=_0x5cd9bc(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x5bb1be-=_0x4fb658;if(_0x135dc3=='tk'){const _0x3b896b=(_0x4a20c3,_0x206408,_0x51f645,_0xb919fc=0.5,_0xd7f9e3=[0x1,0x3])=>{const _0x527072=_0x37d677;let _0x593bf0=_0x4a20c3,_0x13d5eb=_0xd7f9e3[0x0],_0xcc800e=_0xd7f9e3[0x1];while(_0x593bf0<_0x206408){_0x46f6b1[_0x527072(0x12f)]({'start':{'x':_0x593bf0,'y':_0x51f645},'end':{'x':_0x593bf0+_0x13d5eb,'y':_0x51f645},'thickness':_0xb919fc}),_0x593bf0+=_0x13d5eb+_0xcc800e;}};function _0x4246a6(_0x5889a0,_0x390c39,_0x34d3f9,_0x2aaed4,_0x907396=_0x37d677(0x150)){const _0x41045a=_0x37d677,_0x5395d7=_0x25213b-_0x7ee122*0x2,_0x5a38fc=_0x2aaed4+0x2,_0x4df38d=[],_0x17a065=_0x2847b2=>_0x34d3f9[_0x41045a(0x296)](_0x2847b2,_0x2aaed4);if(_0x5889a0[_0x41045a(0x658)]('\x20')==-0x1&&_0x17a065(_0x5889a0)>_0x5395d7){let _0x34feef=0x0,_0x2271a9='';for(let _0x4a9fec=0x0;_0x4a9fec<_0x5889a0[_0x41045a(0x5d9)];_0x4a9fec++){_0x2271a9+=_0x5889a0[_0x4a9fec];if(_0x17a065(_0x2271a9)>_0x5395d7){const _0x1ab0e5=_0x2271a9[_0x41045a(0x605)](0x0,-0x1);_0x4df38d['push'](_0x1ab0e5),_0x2271a9=_0x5889a0[_0x4a9fec];}}if(_0x2271a9)_0x4df38d[_0x41045a(0x338)](_0x2271a9);}else{const _0x4737d4=_0x5889a0['split']('\x20');let _0x33dc15='';for(let _0x4e4e07=0x0;_0x4e4e07<_0x4737d4[_0x41045a(0x5d9)];_0x4e4e07++){const _0x5a51c4=_0x33dc15+(_0x33dc15?'\x20':'')+_0x4737d4[_0x4e4e07];_0x17a065(_0x5a51c4)>_0x5395d7&&_0x33dc15?(_0x4df38d[_0x41045a(0x338)](_0x33dc15),_0x33dc15=_0x4737d4[_0x4e4e07]):_0x33dc15=_0x5a51c4;}if(_0x33dc15)_0x4df38d['push'](_0x33dc15);}return _0x4df38d[_0x41045a(0x24f)](_0x2ccb14=>{const _0x270ad2=_0x41045a,_0x5757db=_0x17a065(_0x2ccb14);let _0x54034a=_0x7ee122;if(_0x907396==_0x270ad2(0x159))_0x54034a=_0x7ee122+(_0x5395d7-_0x5757db)/0x2;else _0x907396==_0x270ad2(0x257)&&(_0x54034a=_0x7ee122+(_0x5395d7-_0x5757db));_0x46f6b1[_0x270ad2(0x356)](_0x2ccb14,{'x':_0x54034a,'y':_0x390c39,'size':_0x2aaed4,'font':_0x34d3f9}),_0x390c39-=_0x5a38fc;}),_0x390c39;}const _0x42b8c6=(_0x397e7c,_0x222387,_0x11d904,_0x2b76f3,_0x4e32c8,_0x449809)=>{const _0x5a4ea0=_0x37d677,_0x450aaa=(_0xd1181e-_0x7ee122*0x2)*0.3,_0x39cf21=(_0xd1181e-_0x7ee122*0x2)*0.1;_0x46f6b1[_0x5a4ea0(0x356)](String(_0x397e7c),{'x':_0x7ee122,'y':_0x11d904,'size':_0x4e32c8,'font':_0x2b76f3}),_0x46f6b1[_0x5a4ea0(0x356)](':',{'x':_0x7ee122+_0x450aaa,'y':_0x11d904,'size':_0x4e32c8,'font':_0x2b76f3});let _0x27fa85=_0x2a450f[_0x5a4ea0(0x296)](_0x222387,_0x4e32c8),_0x29821f=0x1;if(_0x27fa85>_0x449809){let _0x13b851=_0x222387[_0x5a4ea0(0x634)]('\x20'),_0x5614a5='',_0x3c33fb=_0x11d904;_0x13b851[_0x5a4ea0(0x24f)](_0xe6f1f4=>{const _0x5a0bf7=_0x5a4ea0;_0x2a450f[_0x5a0bf7(0x296)](_0x5614a5+'\x20'+_0xe6f1f4,_0x4e32c8)>_0x449809?(_0x46f6b1[_0x5a0bf7(0x356)](_0x5614a5,{'x':_0x7ee122+_0x450aaa+_0x39cf21,'y':_0x3c33fb,'size':_0x4e32c8,'font':_0x2b76f3}),_0x3c33fb-=_0x4fb658,_0x29821f++,_0x5614a5=_0xe6f1f4):_0x5614a5+=(_0x5614a5?'\x20':'')+_0xe6f1f4;}),_0x46f6b1[_0x5a4ea0(0x356)](_0x5614a5,{'x':_0x7ee122+_0x450aaa+_0x39cf21,'y':_0x3c33fb,'size':_0x4e32c8,'font':_0x2b76f3});}else _0x46f6b1[_0x5a4ea0(0x356)](String(_0x222387),{'x':_0x7ee122+_0x450aaa+_0x39cf21,'y':_0x11d904,'size':_0x4e32c8,'font':_0x2b76f3});return _0x11d904-_0x4fb658*_0x29821f;},_0x1d0b44=(_0x204d16,_0x536684,_0x1cf1ec,_0x247b26,_0x3574a5,_0x1c12dc,_0x7a9462,_0x37bbed,_0x18ca81=![])=>{const _0x5cf766=_0x37d677;_0x204d16=_0x204d16[_0x5cf766(0x1b5)](_0x11737a=>String(_0x11737a)),_0x536684=_0x536684[_0x5cf766(0x1b5)](_0x5cb15a=>String(_0x5cb15a));const _0x517fe7=(_0x1c12dc-_0x7a9462*0x2)*0.4,_0x17587a=(_0x1c12dc-_0x7a9462*0x2)*0.2,_0xe78a3a=(_0x1c12dc-_0x7a9462*0x2)*0.2,_0x51abd1=(_0x1c12dc-_0x7a9462*0x2)*0.2,_0x323136=(_0xcbf48e,_0x34d40d,_0x293a0a,_0x18e399,_0x181f55,_0x48c488)=>{const _0x247bbd=_0x5cf766;let _0x2d4415=_0x181f55['widthOfTextAtSize'](_0xcbf48e,_0x48c488),_0x5d2d63=0x1;if(_0x2d4415>_0x18e399){let _0x25345b=_0xcbf48e[_0x247bbd(0x634)]('\x20'),_0x44da81='',_0x41f07b=_0x293a0a;_0x25345b[_0x247bbd(0x24f)](_0x1cde17=>{const _0x2e8082=_0x247bbd;_0x181f55[_0x2e8082(0x296)](_0x44da81+'\x20'+_0x1cde17,_0x48c488)>_0x18e399?(_0x46f6b1['drawText'](_0x44da81,{'x':_0x34d40d,'y':_0x41f07b,'size':_0x48c488,'font':_0x181f55}),_0x41f07b-=_0x37bbed,_0x5d2d63++,_0x44da81=_0x1cde17):_0x44da81+=(_0x44da81?'\x20':'')+_0x1cde17;}),_0x46f6b1[_0x247bbd(0x356)](_0x44da81,{'x':_0x34d40d,'y':_0x41f07b,'size':_0x48c488,'font':_0x181f55});}else _0x46f6b1[_0x247bbd(0x356)](_0xcbf48e,{'x':_0x34d40d,'y':_0x293a0a,'size':_0x48c488,'font':_0x181f55});return _0x293a0a-_0x37bbed*_0x5d2d63;};if(_0x18ca81){_0x46f6b1[_0x5cf766(0x356)](String(_0x204d16[0x0]),{'x':_0x7a9462,'y':_0x1cf1ec,'size':_0x3574a5,'font':_0x247b26});const _0x53eab6=_0x7a9462+_0x517fe7+(_0x17587a-_0x247b26['widthOfTextAtSize'](String(_0x204d16[0x1]),_0x3574a5))/0x2,_0x46ac4d=_0x7a9462+_0x517fe7+_0x17587a+(_0xe78a3a-_0x247b26[_0x5cf766(0x296)](String(_0x204d16[0x2]),_0x3574a5))/0x2,_0x39cacd=_0x7a9462+_0x517fe7+_0x17587a+_0xe78a3a+(_0x51abd1-_0x247b26['widthOfTextAtSize'](String(_0x204d16[0x3]),_0x3574a5));return _0x46f6b1[_0x5cf766(0x356)](String(_0x204d16[0x1]),{'x':_0x53eab6,'y':_0x1cf1ec,'size':_0x3574a5,'font':_0x247b26}),_0x46f6b1[_0x5cf766(0x356)](String(_0x204d16[0x2]),{'x':_0x46ac4d,'y':_0x1cf1ec,'size':_0x3574a5,'font':_0x247b26}),_0x46f6b1[_0x5cf766(0x356)](String(_0x204d16[0x3]),{'x':_0x39cacd,'y':_0x1cf1ec,'size':_0x3574a5,'font':_0x247b26}),_0x1cf1ec-_0x37bbed;}else{let _0x39f978=_0x1cf1ec;_0x39f978=_0x323136(_0x536684[0x0],_0x7a9462,_0x39f978,_0x517fe7,_0x247b26,_0x3574a5);const _0x200f14=_0x1cf1ec-_0x39f978+_0x37bbed,_0x4f4ac6=_0x39f978+(_0x200f14-_0x37bbed)/0x2,_0x3bf85d=_0x200f14==_0x37bbed,_0x26b8c3=_0x3bf85d?_0x4f4ac6:_0x4f4ac6+_0x37bbed/0x2,_0x1f28f9=_0x7a9462+_0x517fe7+(_0x17587a-_0x247b26[_0x5cf766(0x296)](_0x536684[0x1],_0x3574a5))/0x2,_0x464d34=_0x7a9462+_0x517fe7+_0x17587a+(_0xe78a3a-_0x247b26[_0x5cf766(0x296)](_0x536684[0x2],_0x3574a5))/0x2,_0x4bf77b=_0x7a9462+_0x517fe7+_0x17587a+_0xe78a3a+(_0x51abd1-_0x247b26['widthOfTextAtSize'](_0x536684[0x3],_0x3574a5));return _0x46f6b1['drawText'](String(_0x536684[0x1]),{'x':_0x1f28f9,'y':_0x26b8c3,'size':_0x3574a5,'font':_0x247b26}),_0x46f6b1[_0x5cf766(0x356)](String(_0x536684[0x2]),{'x':_0x464d34,'y':_0x26b8c3,'size':_0x3574a5,'font':_0x247b26}),_0x46f6b1[_0x5cf766(0x356)](String(_0x536684[0x3]),{'x':_0x4bf77b,'y':_0x26b8c3,'size':_0x3574a5,'font':_0x247b26}),_0x39f978-_0x37bbed;}},_0x14b4e2=(_0x4d8fcb,_0x1ec224,_0x368ed3,_0x3dd0e6,_0x287f85)=>{const _0x2bc625=_0x37d677;_0x46f6b1[_0x2bc625(0x356)](String(_0x4d8fcb),{'x':_0x7ee122,'y':_0x368ed3,'size':_0x287f85,'font':_0x3dd0e6});const _0x154c59=_0xd1181e-_0x7ee122-_0x2a450f[_0x2bc625(0x296)](_0x1ec224,_0x287f85);return _0x46f6b1['drawText'](String(_0x1ec224),{'x':_0x154c59,'y':_0x368ed3,'size':_0x287f85,'font':_0x3dd0e6}),_0x368ed3-_0x4fb658;};function _0x1f7665(_0x18d31d,_0x5e731c,_0x32401d,_0x3693a3,_0x3d87ff,_0x492788,_0x32b269,_0x167984){const _0x376fe5=_0x37d677,_0x4f151c=_0x32b269-0x2*_0x167984,_0x57956a=_0x4f151c*0.4,_0x2fb03f=_0x4f151c*0.6,_0x253c3c=_0x492788*1.2,_0x1f20fa=_0x3d87ff===_0x3f1429&&_0x492788===0xb;function _0x53b0d0(_0x5e2593,_0x2ae68e,_0x4daaf2,_0x19cd55){const _0x2b2cf6=_0xd9f0,_0x3cb63e=_0x5e2593[_0x2b2cf6(0x634)]('\x20');let _0x116d8b=[],_0x5a87ed='';_0x3cb63e['forEach'](_0x291226=>{const _0x4e41c0=_0x2b2cf6,_0x114708=_0x5a87ed?_0x5a87ed+'\x20'+_0x291226:_0x291226;if(_0x4daaf2['widthOfTextAtSize'](_0x114708,_0x19cd55)<=_0x2ae68e)_0x5a87ed=_0x114708;else{if(_0x5a87ed)_0x116d8b[_0x4e41c0(0x338)](_0x5a87ed);_0x5a87ed=_0x291226;}});if(_0x5a87ed)_0x116d8b[_0x2b2cf6(0x338)](_0x5a87ed);return _0x116d8b;}let _0x4f882d=[];if(_0x1f20fa){const _0x26489a=_0x5e731c[_0x376fe5(0x474)](/^(.*?)\s*(\([^)]*\))$/);_0x26489a?_0x4f882d=[{'quantity':_0x26489a[0x1][_0x376fe5(0x4d4)](),'unit':_0x26489a[0x2][_0x376fe5(0x4d4)]()}]:_0x4f882d=_0x53b0d0(_0x5e731c,_0x57956a,_0x3d87ff,_0x492788);}else _0x4f882d=_0x53b0d0(_0x5e731c,_0x57956a,_0x3d87ff,_0x492788);const _0x457fbd=_0x53b0d0(_0x32401d,_0x2fb03f,_0x3d87ff,_0x492788),_0x422ede=Math['max'](_0x4f882d[_0x376fe5(0x5d9)],_0x457fbd[_0x376fe5(0x5d9)]),_0x17cde5=_0x4f882d[_0x376fe5(0x5d9)]*_0x253c3c,_0x5ccf49=_0x457fbd['length']*_0x253c3c,_0x19b76d=(_0x422ede*_0x253c3c-_0x17cde5)/0x2,_0x3f80e3=(_0x422ede*_0x253c3c-_0x5ccf49)/0x2;return _0x4f882d[_0x376fe5(0x24f)]((_0x1910be,_0xb32451)=>{const _0xd169c6=_0x376fe5,_0x4dc7e2=_0x3693a3-_0x19b76d-(_0xb32451+0x1)*_0x253c3c;let _0x3c1b5b;if(_0x1f20fa&&typeof _0x1910be===_0xd169c6(0x372)&&_0x1910be[_0xd169c6(0x1fe)]!==undefined){const _0xb71d9a=_0x3f1429[_0xd169c6(0x296)](_0x1910be[_0xd169c6(0x1fe)],0xb),_0x5bf0d9=_0x2a450f[_0xd169c6(0x296)](_0x1910be[_0xd169c6(0x4fb)],0x9),_0x267902=0x2,_0x5b6684=_0xb71d9a+_0x267902+_0x5bf0d9;_0x3c1b5b=_0x167984+(_0x57956a-_0x5b6684)/0x2,_0x18d31d['drawText'](_0x1910be[_0xd169c6(0x1fe)],{'x':_0x3c1b5b,'y':_0x4dc7e2,'size':0xb,'font':_0x3f1429});const _0x28f5b0=0x2;_0x18d31d[_0xd169c6(0x356)](_0x1910be[_0xd169c6(0x4fb)],{'x':_0x3c1b5b+_0xb71d9a+_0x267902,'y':_0x4dc7e2+(0xb-0x9)-_0x28f5b0,'size':0x9,'font':_0x2a450f});}else{const _0x493fd3=_0x3d87ff[_0xd169c6(0x296)](_0x1910be,_0x492788);_0x3c1b5b=_0x167984+(_0x57956a-_0x493fd3)/0x2,_0x18d31d[_0xd169c6(0x356)](_0x1910be,{'x':_0x3c1b5b,'y':_0x4dc7e2,'size':_0x492788,'font':_0x3d87ff});}}),_0x457fbd['forEach']((_0x262372,_0x1153d9)=>{const _0x2e5d69=_0x376fe5,_0x8a6676=_0x3693a3-_0x3f80e3-(_0x1153d9+0x1)*_0x253c3c;let _0x1801aa;if(_0x1f20fa)_0x1801aa=_0x167984+_0x57956a+0x5;else{const _0x5d0e3e=_0x3d87ff[_0x2e5d69(0x296)](_0x262372,_0x492788);_0x1801aa=_0x167984+_0x57956a+(_0x2fb03f-_0x5d0e3e)/0x2;}_0x18d31d[_0x2e5d69(0x356)](_0x262372,{'x':_0x1801aa,'y':_0x8a6676,'size':_0x492788,'font':_0x3d87ff});}),_0x3693a3-_0x422ede*_0x253c3c;}function _0x331c9e(_0x51ef18,_0x18374a,_0x57c1f3,_0x6576c3){const _0x38708c=_0x37d677,_0x42b715=_0x51ef18[_0x38708c(0x634)]('\x20');let _0x1f33e1=[],_0x4cca06='';_0x42b715['forEach'](_0x3771f7=>{const _0x45dcea=_0x38708c,_0x2c76ba=_0x4cca06?_0x4cca06+'\x20'+_0x3771f7:_0x3771f7;if(_0x57c1f3[_0x45dcea(0x296)](_0x2c76ba,_0x6576c3)<=_0x18374a)_0x4cca06=_0x2c76ba;else{if(_0x4cca06)_0x1f33e1[_0x45dcea(0x338)](_0x4cca06);_0x4cca06=_0x3771f7;}});if(_0x4cca06)_0x1f33e1['push'](_0x4cca06);return _0x1f33e1;}if(setTipOpeSales[_0x37d677(0x615)](_0x1b46bd=>_0x1b46bd==setTipoOperacion)||setTipOpePurchases[_0x37d677(0x615)](_0x5b6ce2=>_0x5b6ce2==setTipoOperacion)||setTipOpeQuotation[_0x37d677(0x615)](_0xe88352=>_0xe88352==setTipoOperacion)||_0x510502==0x1){if(_0x510502==0x1){if(setLogoUrl){const _0x26a739=setLogoUrl[_0x37d677(0x634)](',')[0x1],_0x5d2145=Uint8Array[_0x37d677(0x322)](atob(_0x26a739),_0xc6b094=>_0xc6b094['charCodeAt'](0x0));let _0x620ebe;try{_0x620ebe=await _0x40e980[_0x37d677(0x281)](_0x5d2145);}catch(_0x28bddd){try{_0x620ebe=await _0x40e980[_0x37d677(0x617)](_0x5d2145);}catch(_0x29a7a2){throw new Error(_0x37d677(0x561));}}const _0x4a68a1=_0xd1181e*0.5,_0x5dcb3c=_0x620ebe[_0x37d677(0x335)],_0x36d718=_0x4a68a1/_0x5dcb3c,_0x24138a=_0x620ebe[_0x37d677(0x2b6)](_0x36d718),_0x36e683=(_0xd1181e-_0x24138a[_0x37d677(0x335)])/0x2,_0x423830=_0x5bb1be-_0x24138a[_0x37d677(0x1dd)];_0x46f6b1['drawImage'](_0x620ebe,{'x':_0x36e683,'y':_0x423830,'width':_0x24138a['width'],'height':_0x24138a[_0x37d677(0x1dd)]}),_0x5bb1be=_0x423830;}}if(_0x510502!=0x1){if(setLogoUrl){const _0x20f833=setLogoUrl[_0x37d677(0x634)](',')[0x1],_0x341294=Uint8Array[_0x37d677(0x322)](atob(_0x20f833),_0x350e51=>_0x350e51[_0x37d677(0x62b)](0x0));let _0x15be1b;try{_0x15be1b=await _0x40e980[_0x37d677(0x281)](_0x341294);}catch(_0x2802e7){try{_0x15be1b=await _0x40e980[_0x37d677(0x617)](_0x341294);}catch(_0x3b838f){throw new Error(_0x37d677(0x561));}}const _0x3b4140=_0xd1181e*0.5,_0x19c619=_0x15be1b['width'],_0x59be5b=_0x3b4140/_0x19c619,_0x227d91=_0x15be1b[_0x37d677(0x2b6)](_0x59be5b),_0x4b41bd=(_0xd1181e-_0x227d91[_0x37d677(0x335)])/0x2,_0x1df919=_0x5bb1be-_0x227d91[_0x37d677(0x1dd)];_0x46f6b1[_0x37d677(0x291)](_0x15be1b,{'x':_0x4b41bd,'y':_0x1df919,'width':_0x227d91[_0x37d677(0x335)],'height':_0x227d91['height']}),_0x5bb1be=_0x1df919-_0x4fb658-0x5;}setEmpresaNombre&&(_0x5bb1be=_0x4246a6(setEmpresaNombre,_0x5bb1be,_0x3f1429,0xb,'center')),_0x26373b&&(_0x5bb1be=_0x4246a6(_0x26373b,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159))),setEmpresaEmail&&(_0x5bb1be=_0x4246a6(setEmpresaEmail,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159))),setEmpresaTelefono&&(_0x5bb1be=_0x4246a6(setEmpresaTelefono,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159))),setEmpresaSitioWeb&&(_0x5bb1be=_0x4246a6(setEmpresaSitioWeb,_0x5bb1be,_0x2a450f,0x8,'center'));}_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;if(setEmpresaRuc){const _0x47179f=_0x2a450f[_0x37d677(0x296)](_0x4c818b+':\x20'+setEmpresaRuc,0xb),_0x176e14=(_0xd1181e-_0x47179f)/0x2;_0x46f6b1['drawText'](_0x4c818b+':\x20'+setEmpresaRuc,{'x':_0x176e14,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=0x9;}_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;if(_0x510502==0x1){const _0xa6008d=_0x2a450f[_0x37d677(0x296)](_0x37d677(0x404),0xb),_0x23b42f=(_0xd1181e-_0xa6008d)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x37d677(0x404),{'x':_0x23b42f,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=0x9;}else{const _0x27f2d3=_0x2a450f[_0x37d677(0x296)](_0xd20099[_0x37d677(0x40a)](),0xb),_0x3260e8=(_0xd1181e-_0x27f2d3)/0x2;_0x46f6b1[_0x37d677(0x356)](_0xd20099[_0x37d677(0x40a)](),{'x':_0x3260e8,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429});if(setSerie&&setCorrelativo){_0x5bb1be-=_0x4fb658;const _0x810b0=_0x2a450f[_0x37d677(0x296)](setSerie[_0x37d677(0x40a)]()+_0x37d677(0x3dc)+setCorrelativo,0xb),_0x191db7=(_0xd1181e-_0x810b0)/0x2;_0x46f6b1['drawText'](setSerie['toUpperCase']()+'\x20-\x20'+setCorrelativo,{'x':_0x191db7,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429});}_0x5bb1be-=0x9;}_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;if(_0x510502==0x1){const _0x4eb71e=_0x2a450f['widthOfTextAtSize'](_0x19bc81,0xb),_0x4d0e53=(_0xd1181e-_0x4eb71e)/0x2;_0x46f6b1['drawText'](_0x19bc81,{'x':_0x4d0e53,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=0x9,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;}const _0x3aaf5a=(_0xd1181e-_0x7ee122*0x2)*0.6;_0x510502!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x5bb1be=_0x42b8c6(setClienteTipoDoc,setClienteNumDoc,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a)),setClienteDenominacion&&(_0x5bb1be=_0x42b8c6(_0x1281e1,setClienteDenominacion,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a)),setClienteDireccion&&(_0x5bb1be=_0x42b8c6(_0x37d677(0x3ac),setClienteDireccion,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a)),_0x47790a&&(_0x5bb1be=_0x42b8c6('Teléfono',_0x47790a,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a)),_0x164618&&(_0x5bb1be=_0x42b8c6(_0x37d677(0x52a),_0x164618,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a)));_0x2d4112&&(_0x5bb1be=_0x42b8c6(_0x37d677(0x366),_0x2d4112,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a));_0xd25047&&(_0x5bb1be=_0x42b8c6('Hora',_0xd25047,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a));_0x510502==0x1&&(_0x5bb1be=_0x42b8c6(_0x5079a0,_0x30ce71,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a),_0x5bb1be=_0x42b8c6(_0x19f751,_0x47f40a,_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a));_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=_0x4fb658;const _0x370153=[_0x37d677(0x5e3),_0x37d677(0x1b0),_0x37d677(0x1d2),_0x37d677(0x267)];_0x5bb1be=_0x1d0b44(_0x370153,[],_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0x8,!![]),_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=_0x4fb658;if(_0x456ce4==0x1){const _0x4c4191=['Consumo',_0x37d677(0x4f6),parseFloat(_0x4ffd8d)[_0x37d677(0x16f)](0x2),parseFloat(_0x4ffd8d)[_0x37d677(0x16f)](0x2)];_0x5bb1be=_0x1d0b44([],_0x4c4191,_0x5bb1be,_0x2a450f,0x7,_0xd1181e,_0x7ee122,0xa,![]),_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be+_0x4fb658);}else setProductos[_0x37d677(0x24f)]((_0x3c80e8,_0x16e862)=>{const _0x5b1301=_0x37d677;let {setDescripcion:_0x2b22fa,setCantidad:_0x4e64de,setMtoPrecioUnitario:_0x3881d2,setTotal:_0x3780f1,setDescuento:_0x57f1b7,setMtoPrecioUnitario_final:_0x6af07,setUnidad:_0x54d51d,setTipAfeIgv:_0x295615,setNotas:_0x543459}=_0x3c80e8;_0x57f1b7['setPorcentajeDesc']>0x0&&(_0x2b22fa+='\x20('+_0x57f1b7[_0x5b1301(0x171)]+'%\x20Desc.\x20de\x20'+_0x2b52bb+parseFloat(_0x6af07)[_0x5b1301(0x16f)](0x2)+')');(setTipAfeImpGravadosGrat['some'](_0x48f5f8=>_0x48f5f8==_0x295615)||setTipAfeImpInafectosGrat[_0x5b1301(0x615)](_0x2d1ab3=>_0x2d1ab3==_0x295615)||setTipAfeImpExoneradosGrat['some'](_0x1e40f3=>_0x1e40f3==_0x295615))&&(_0x3881d2=_0x6af07,setTipAfeImpGravadosGrat['some'](_0x51b36e=>_0x51b36e==_0x295615)&&(_0x2b22fa+=_0x5b1301(0x431)),setTipAfeImpExoneradosGrat['some'](_0x84f14f=>_0x84f14f==_0x295615)&&(_0x2b22fa+=_0x5b1301(0x27f)),setTipAfeImpInafectosGrat['some'](_0x285b47=>_0x285b47==_0x295615)&&(_0x2b22fa+=_0x5b1301(0x5fb)));let _0x3ce384=products[_0x5b1301(0x189)](_0xef5ae6=>_0xef5ae6['id']==_0x3c80e8[_0x5b1301(0x623)]);_0x445f74==0x1&&_0x3ce384&&_0x3ce384[_0x5b1301(0x61e)]&&(_0x2b22fa+=_0x5b1301(0x133)+_0x3ce384['setBatchName']);_0x5a35ed==0x1&&_0x3ce384&&_0x3ce384[_0x5b1301(0x34e)]&&(_0x2b22fa+='\x20|\x20F.V.\x20'+_0x3ce384[_0x5b1301(0x34e)]);_0x4e64de+='\x20('+_0x54d51d+')';const _0x2197ce=[_0x2b22fa,_0x4e64de,parseFloat(_0x3881d2)[_0x5b1301(0x16f)](0x2),_0x3780f1[_0x5b1301(0x16f)](0x2)];_0x5bb1be=_0x1d0b44([],_0x2197ce,_0x5bb1be,_0x2a450f,0x7,_0xd1181e,_0x7ee122,0xa,![]);const _0x35ad40=_0xd1181e-0x2*_0x7ee122,_0x490e5d=_0x35ad40*0.4;if(_0x543459){const _0x33fc7c=0x7,_0x439146=_0x7ee122,_0x2342b8=_0x490e5d,_0x28e097=_0x33fc7c*1.2,_0x305e1f=_0x543459[_0x5b1301(0x634)](/\r?\n/);let _0x3d448e=[];_0x305e1f[_0x5b1301(0x24f)](_0x239e0f=>{const _0xabe113=_0x5b1301,_0x33896a=_0x331c9e(_0xabe113(0x4f2)+_0x239e0f,_0x2342b8,_0x2a450f,_0x33fc7c);_0x3d448e=_0x3d448e[_0xabe113(0x659)](_0x33896a);}),_0x3d448e['forEach']((_0x1c128f,_0x9c3b30)=>{const _0x377962=_0x5bb1be+0xf-(_0x9c3b30+0x1)*_0x28e097;_0x46f6b1['drawText'](_0x1c128f,{'x':_0x439146,'y':_0x377962,'size':_0x33fc7c,'font':_0x2a450f});}),_0x5bb1be-=_0x3d448e['length']*_0x28e097+0x5;}_0x3b896b(_0x7ee122,_0xd1181e-_0x7ee122,_0x5bb1be+_0x4fb658);});_0x5bb1be-=0x5;parseFloat(_0x48c987)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x67e),_0x2b52bb+'\x20'+_0x48c987,_0x5bb1be,_0x2a450f,0x7));parseFloat(_0x16fa31)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x488),_0x2b52bb+'\x20'+_0x16fa31,_0x5bb1be,_0x2a450f,0x7));!setTipOpeExo[_0x37d677(0x615)](_0x3aa0e3=>_0x3aa0e3==setTipoOperacion)&&_0x510502!=0x1&&(parseFloat(_0x49f1d9)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x2b9),_0x2b52bb+'\x20'+_0x49f1d9,_0x5bb1be,_0x2a450f,0x7)),parseFloat(_0x2b2631)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x108),_0x2b52bb+'\x20'+_0x2b2631,_0x5bb1be,_0x2a450f,0x7)),parseFloat(_0x9f8ec0)>0x0&&(_0x5bb1be=_0x14b4e2('OP.\x20INAFECTAS',_0x2b52bb+'\x20'+_0x9f8ec0,_0x5bb1be,_0x2a450f,0x7)),parseFloat(_0x24a99d)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x232),_0x2b52bb+'\x20'+_0x24a99d,_0x5bb1be,_0x2a450f,0x7)),parseFloat(_0x52f1f4)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x640),_0x2b52bb+'\x20'+_0x52f1f4,_0x5bb1be,_0x2a450f,0x7)),_0x5bb1be=_0x14b4e2('SUBTOTAL',_0x2b52bb+'\x20'+_0x39fb00,_0x5bb1be,_0x2a450f,0x7),_0x5bb1be=_0x14b4e2(_0x37d677(0x557),_0x2b52bb+'\x20'+_0x5d7099,_0x5bb1be,_0x2a450f,0x7));_0x5bb1be=_0x14b4e2(_0x37d677(0x191),_0x2b52bb+'\x20'+_0x4ffd8d,_0x5bb1be,_0x3f1429,0x8);if(_0x510502!=0x1){if(_0x40d1a7==0x1){_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;const _0x843d87=_0x37d677(0x653),_0x3e0d41=_0x2a450f[_0x37d677(0x296)](_0x843d87,0x8),_0x327d81=(_0xd1181e-_0x3e0d41)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x843d87,{'x':_0x327d81,'y':_0x5bb1be,'size':0x8,'font':_0x3f1429}),_0x5bb1be-=_0x4fb658+0x5,_0x5bb1be=_0x4246a6(_0x37d677(0x254)+_0x35de49+'\x20'+_0x42fc3a,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159)),_0x5bb1be-=0x5,_0x5bb1be=_0x14b4e2(_0x37d677(0x225)+_0x379386+'%)',_0x2b52bb+'\x20'+_0x47dbb7,_0x5bb1be,_0x2a450f,0x7);}_0x5c299d==0x1&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x1ae)+_0x15f626+'%)',_0x2b52bb+'\x20'+_0x2e9f06,_0x5bb1be,_0x2a450f,0x7));_0x5b7dd2==0x1&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x607)+_0x352007+'%)',_0x2b52bb+'\x20'+_0x17cb43,_0x5bb1be,_0x2a450f,0x7));if(_0x2e20c3&&_0x2e20c3['status']==!![]||_0x4f8ae0&&_0x4f8ae0[_0x37d677(0x182)]==!![]){_0x5bb1be-=_0x4fb658,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be+_0x4fb658),_0x5bb1be=_0x4246a6('Forma\x20de\x20Pago:\x20Contado',_0x5bb1be,_0x2a450f,0x7),_0x5bb1be-=0x5;for(let _0x2d4000 in _0x2e20c3[_0x37d677(0x3bb)]){const _0x52aeaa=_0x2e20c3[_0x37d677(0x3bb)][_0x2d4000];if(_0x52aeaa&&typeof _0x52aeaa==_0x37d677(0x372)&&_0x37d677(0x449)in _0x52aeaa){const _0x5856a7=parseFloat(_0x52aeaa[_0x37d677(0x3e4)]);if(_0x5856a7>0x0){_0x5bb1be=_0x14b4e2(_0x2d4000[_0x37d677(0x40a)](),_0x2b52bb+'\x20'+_0x5856a7[_0x37d677(0x16f)](0x2),_0x5bb1be,_0x2a450f,0x7);if(_0x37d677(0x660)in _0x52aeaa&&_0x37d677(0x22a)in _0x52aeaa){const _0x40e0e1=_0x52aeaa['porcentaje_comision'],_0xd72a33=parseFloat(_0x52aeaa[_0x37d677(0x22a)]);_0x40e0e1!==undefined&&_0xd72a33!==undefined&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x630)+_0x40e0e1+'%)',_0x2b52bb+'\x20'+_0xd72a33[_0x37d677(0x16f)](0x2),_0x5bb1be,_0x2a450f,0x7));}if(_0x52aeaa[_0x37d677(0x36b)]&&_0x52aeaa[_0x37d677(0x36b)]!='0'){const _0x24789=myCompany[_0x37d677(0x128)][_0x37d677(0x189)](_0x5590ae=>_0x5590ae[_0x37d677(0x143)]==_0x52aeaa[_0x37d677(0x36b)]);_0x24789&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x1a6)+_0x24789[_0x37d677(0x1bb)],'',_0x5bb1be,_0x2a450f,0x7));}_0x52aeaa[_0x37d677(0x3f2)]&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x12d)+_0x52aeaa[_0x37d677(0x3f2)],'',_0x5bb1be,_0x2a450f,0x7));}}}const _0x5a6a9d=_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0xe6)];parseFloat(_0x5a6a9d)>0x0&&(_0x5bb1be=_0x14b4e2(_0x37d677(0x201),_0x2b52bb+'\x20'+_0x5a6a9d,_0x5bb1be,_0x2a450f,0x7));}if(_0x2891cf&&_0x2891cf['status']==!![]||_0x4f8ae0&&_0x4f8ae0['status']==!![]){if(Array['isArray'](_0x2891cf[_0x37d677(0x3bb)])&&_0x2891cf[_0x37d677(0x3bb)][_0x37d677(0x5d9)]>0x0){_0x5bb1be-=_0x4fb658,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be+_0x4fb658),_0x5bb1be=_0x4246a6('Forma\x20de\x20Pago:\x20Crédito',_0x5bb1be,_0x2a450f,0x7),_0x5bb1be-=0x5;let _0x433279;_0x2891cf[_0x37d677(0x182)]==!![]?_0x433279=parseFloat(_0x4ffd8d):_0x433279=_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0x594)],_0x5bb1be=_0x14b4e2('Total\x20Pendiente',_0x2b52bb+'\x20'+_0x433279,_0x5bb1be,_0x2a450f,0x7),_0x5bb1be=_0x14b4e2(_0x37d677(0x3ea),_0x2891cf[_0x37d677(0x3bb)][_0x37d677(0x5d9)]+_0x37d677(0x31f),_0x5bb1be,_0x2a450f,0x7),_0x5bb1be=_0x4246a6(_0x37d677(0x4a5),_0x5bb1be,_0x2a450f,0x7),_0x5bb1be-=0x5,_0x2891cf[_0x37d677(0x3bb)][_0x37d677(0x24f)](_0x31c0ee=>{const _0x51eb3d=_0x37d677;_0x5bb1be=_0x14b4e2('Cuota\x20'+_0x31c0ee[_0x51eb3d(0x5eb)],_0x31c0ee[_0x51eb3d(0x47d)]+_0x51eb3d(0x133)+parseFloat(_0x31c0ee['monto'])[_0x51eb3d(0x16f)](0x2),_0x5bb1be,_0x2a450f,0x7);});}}}_0x5bb1be-=_0x4fb658,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be+_0x4fb658),_0x5bb1be-=0x5;_0x54cd91&&(_0x5bb1be=_0x4246a6(_0x54cd91,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159)));if(_0x510502!=0x1){const _0x3b2c78=_0x37d677(0x376);if(setObservacion){_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;const _0x5b6ee4=_0x2a450f['widthOfTextAtSize'](_0x3b2c78,0x8),_0x410e69=(_0xd1181e-_0x5b6ee4)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x3b2c78,{'x':_0x410e69,'y':_0x5bb1be,'size':0x8,'font':_0x3f1429}),_0x5bb1be-=_0x4fb658,_0x5bb1be=_0x4246a6(setObservacion,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159));}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;const _0x9e526a=_0x37d677(0x22e),_0x43aa94=_0x2a450f[_0x37d677(0x296)](_0x9e526a,0x7),_0x11d624=(_0xd1181e-_0x43aa94)/0x2;_0x46f6b1['drawText'](_0x9e526a,{'x':_0x11d624,'y':_0x5bb1be,'size':0x7,'font':_0x2a450f}),_0x5bb1be-=0x9;const _0x4ecb55=_0x37d677(0x1b6),_0x2499e6=_0x2a450f[_0x37d677(0x296)](_0x4ecb55,0x7),_0x2e3a03=(_0xd1181e-_0x2499e6)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x4ecb55,{'x':_0x2e3a03,'y':_0x5bb1be,'size':0x7,'font':_0x2a450f}),_0x5bb1be-=0x9;const _0x373234='REPRESENTACION\x20IMPRESA\x20DE',_0x46f1db=_0x2a450f[_0x37d677(0x296)](_0x373234,0x7),_0x4e4962=(_0xd1181e-_0x46f1db)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x373234,{'x':_0x4e4962,'y':_0x5bb1be,'size':0x7,'font':_0x2a450f}),_0x5bb1be-=0x9;const _0x31a35b=_0x37d677(0x624),_0x15c922=_0x2a450f[_0x37d677(0x296)](_0x31a35b,0x7),_0x9e1ecf=(_0xd1181e-_0x15c922)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x31a35b,{'x':_0x9e1ecf,'y':_0x5bb1be,'size':0x7,'font':_0x2a450f}),_0x5bb1be-=0x9;const _0x3c3b8c=_0x37d677(0x15c),_0x424f1f=_0x2a450f[_0x37d677(0x296)](_0x3c3b8c,0x7),_0x3d1b68=(_0xd1181e-_0x424f1f)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x3c3b8c,{'x':_0x3d1b68,'y':_0x5bb1be,'size':0x7,'font':_0x2a450f}),_0x5bb1be-=0x9;const _0x4ef55c=setUrlConsultasCpe,_0x5e5581=_0x2a450f[_0x37d677(0x296)](_0x4ef55c,0x7),_0x46e59b=(_0xd1181e-_0x5e5581)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x4ef55c,{'x':_0x46e59b,'y':_0x5bb1be,'size':0x7,'font':_0x3f1429}),_0x5bb1be-=0x9;const _0x5b2875=[setEmpresaRuc,setSerie,setCorrelativo,_0x49f1d9>0x0?_0x49f1d9:null,_0x2b2631>0x0?_0x2b2631:null,_0x9f8ec0>0x0?_0x9f8ec0:null,_0x24a99d>0x0?_0x24a99d:null,_0x5d7099>0x0?_0x5d7099:null,_0x4ffd8d>0x0?_0x4ffd8d:null,setClienteNumDoc],_0x4a165d=_0x5b2875[_0x37d677(0xdc)](_0x5b693d=>_0x5b693d!==null)[_0x37d677(0x45b)]('|'),_0xd20fbf=document['createElement']('div'),_0x57bd3f=new QRCode(_0xd20fbf,{'text':_0x4a165d,'width':0x80,'height':0x80,'colorDark':'#000000','colorLight':_0x37d677(0x633),'correctLevel':QRCode[_0x37d677(0x4ce)]['H']});await new Promise(_0x1a826e=>setTimeout(_0x1a826e,0x1f4));const _0x3ede77=_0xd20fbf[_0x37d677(0x65f)](_0x37d677(0x479)),_0x5a5da8=_0x3ede77['toDataURL']('image/png'),_0x21b532=atob(_0x5a5da8[_0x37d677(0x634)](',')[0x1]),_0x13484f=Uint8Array['from'](_0x21b532,_0x27ae12=>_0x27ae12[_0x37d677(0x62b)](0x0)),_0x18239e=await _0x40e980[_0x37d677(0x281)](_0x13484f),_0x48b473=_0x18239e[_0x37d677(0x2b6)](0.6),_0x3819e9=(_0xd1181e-_0x48b473[_0x37d677(0x335)])/0x2,_0x589ebd=_0x5bb1be-_0x48b473[_0x37d677(0x1dd)];_0x46f6b1[_0x37d677(0x291)](_0x18239e,{'x':_0x3819e9,'y':_0x589ebd,'width':_0x48b473[_0x37d677(0x335)],'height':_0x48b473[_0x37d677(0x1dd)]}),_0x5bb1be=_0x589ebd-_0x4fb658;}}_0x510502==0x1&&(_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658,_0x5bb1be=_0x42b8c6('DNI\x20/\x20RUC',_0x37d677(0x646),_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a),_0x5bb1be=_0x42b8c6(_0x37d677(0x454),_0x37d677(0x646),_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a),_0x5bb1be=_0x42b8c6(_0x37d677(0x3ac),_0x37d677(0x646),_0x5bb1be,_0x2a450f,0x9,_0x3aaf5a),_0x5bb1be-=0x5),_0x510502!=0x1&&(setTipOpeSales[_0x37d677(0x615)](_0x10bdc7=>_0x10bdc7==setTipoOperacion)&&(_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658,_0x36408c!=_0x26d44d?(_0x5bb1be=_0x4246a6(_0x572aa4,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159)),_0x5bb1be=_0x4246a6(_0x47f40a,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159)),_0x5bb1be=_0x4246a6(_0x3486d9,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159)),_0x5bb1be=_0x4246a6(_0x4fee36,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159))):(_0x5bb1be=_0x4246a6(_0x1e9ffe,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159)),_0x5bb1be=_0x4246a6(_0x4fee36,_0x5bb1be,_0x2a450f,0x8,'center'))),setTipOpeQuotation[_0x37d677(0x615)](_0x4c3229=>_0x4c3229==setTipoOperacion)&&(_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658,_0x5bb1be=_0x4246a6(_0x572aa4,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159)),_0x5bb1be=_0x4246a6(_0x47f40a,_0x5bb1be,_0x2a450f,0x8,_0x37d677(0x159))),setFooter&&setTipOpeSales[_0x37d677(0x615)](_0x858d83=>_0x858d83==setTipoOperacion)&&(_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658,_0x5bb1be=_0x4246a6(setFooter,_0x5bb1be,_0x3f1429,0x8,_0x37d677(0x159))));}else{if(setTipOpeOrders['some'](_0x56a954=>_0x56a954==setTipoOperacion)){if(setLogoUrl){const _0x4043bb=setLogoUrl[_0x37d677(0x634)](',')[0x1],_0x52d3a0=Uint8Array[_0x37d677(0x322)](atob(_0x4043bb),_0x430763=>_0x430763[_0x37d677(0x62b)](0x0));let _0x4072fe;try{_0x4072fe=await _0x40e980[_0x37d677(0x281)](_0x52d3a0);}catch(_0x4dd7dd){try{_0x4072fe=await _0x40e980[_0x37d677(0x617)](_0x52d3a0);}catch(_0x354bb7){throw new Error(_0x37d677(0x561));}}const _0xa5bc9d=_0xd1181e*0.5,_0x2bd64c=_0x4072fe[_0x37d677(0x335)],_0x25feec=_0xa5bc9d/_0x2bd64c,_0x2293bd=_0x4072fe[_0x37d677(0x2b6)](_0x25feec),_0x2403bf=(_0xd1181e-_0x2293bd[_0x37d677(0x335)])/0x2,_0x525021=_0x5bb1be-_0x2293bd[_0x37d677(0x1dd)];_0x46f6b1[_0x37d677(0x291)](_0x4072fe,{'x':_0x2403bf,'y':_0x525021,'width':_0x2293bd[_0x37d677(0x335)],'height':_0x2293bd[_0x37d677(0x1dd)]}),_0x5bb1be=_0x525021;}_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;const _0x502c40=_0x2a450f[_0x37d677(0x296)](_0xd20099[_0x37d677(0x40a)]()+'\x20-\x20'+setSerie[_0x37d677(0x40a)](),0xb),_0x402dfb=(_0xd1181e-_0x502c40)/0x2;_0x46f6b1['drawText'](_0xd20099[_0x37d677(0x40a)]()+_0x37d677(0x3dc)+setSerie[_0x37d677(0x40a)](),{'x':_0x402dfb,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=_0x4fb658;const _0x28454b=_0x2a450f[_0x37d677(0x296)](_0x37d677(0x334)+setCorrelativo,0xb),_0xb2bc46=(_0xd1181e-_0x28454b)/0x2;_0x46f6b1[_0x37d677(0x356)]('Nº\x20'+setCorrelativo,{'x':_0xb2bc46,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=0x9,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5+_0x4fb658;const _0x45068e=_0x2a450f[_0x37d677(0x296)](_0x19bc81+_0x37d677(0x3dc)+_0x30ce71,0xb),_0x3dcbb9=(_0xd1181e-_0x45068e)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x19bc81+_0x37d677(0x3dc)+_0x30ce71,{'x':_0x3dcbb9,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=_0x4fb658;const _0x58f763=_0x2a450f[_0x37d677(0x296)](_0x37d677(0x3d5)+_0x47f40a,0xb),_0xce3f39=(_0xd1181e-_0x58f763)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x37d677(0x3d5)+_0x47f40a,{'x':_0xce3f39,'y':_0x5bb1be,'size':0xb,'font':_0x3f1429}),_0x5bb1be-=0x9,_0x3b896b(_0x7ee122,_0x25213b-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5,_0x5bb1be=_0x1f7665(_0x46f6b1,_0x37d677(0x1b0),'DESCRIPCIÓN',_0x5bb1be,_0x2a450f,0x9,_0xd1181e,_0x7ee122),_0x5bb1be-=0x5,_0x3b896b(_0x7ee122,_0xd1181e-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5,setProductos['forEach']((_0x136d81,_0x16a6a8)=>{const _0x1a7600=_0x37d677;let {setDescripcion:_0x7db8f9,setCantidad:_0x21cb1b,setMtoPrecioUnitario:_0x30fdbc,setTotal:_0x957eee,setDescuento:_0x2558ef,setMtoPrecioUnitario_final:_0x3958c6,setUnidad:_0x41b57b,setTipAfeIgv:_0x3133c8,setNotas:_0x2e2474}=_0x136d81,_0x5aab26=products[_0x1a7600(0x189)](_0x1f5164=>_0x1f5164['id']==_0x136d81['setIdProducto']);_0x445f74==0x1&&_0x5aab26&&_0x5aab26[_0x1a7600(0x61e)]&&(_0x7db8f9+='\x20|\x20'+_0x5aab26[_0x1a7600(0x61e)]);_0x5a35ed==0x1&&_0x5aab26&&_0x5aab26['setBatchExpirationDate']&&(_0x7db8f9+=_0x1a7600(0x1c6)+_0x5aab26[_0x1a7600(0x34e)]);_0x21cb1b+='\x20('+_0x41b57b+')';const _0x4eb27b=0x2;_0x5bb1be-=_0x4eb27b,_0x5bb1be=_0x1f7665(_0x46f6b1,_0x21cb1b,_0x7db8f9,_0x5bb1be,_0x3f1429,0xb,_0xd1181e,_0x7ee122);if(_0x2e2474){const _0x2703c1=0x9,_0x5dd03d=_0xd1181e-0x2*_0x7ee122,_0x1e384a=_0x5dd03d*0.4,_0x579088=_0x5dd03d*0.6,_0x9e8efb=_0x7ee122+_0x1e384a+0x5,_0x569466=_0x2703c1*1.2,_0x346e9b=_0x2e2474,_0x20dee5=_0x346e9b[_0x1a7600(0x634)](/\r?\n/);let _0x2d35aa=[];_0x20dee5[_0x1a7600(0x24f)](_0xddfbaf=>{const _0x66768d=_0x1a7600,_0x424cf7=_0x331c9e(_0x66768d(0x4f2)+_0xddfbaf,_0x579088-0x5,_0x2a450f,_0x2703c1);_0x2d35aa=_0x2d35aa[_0x66768d(0x659)](_0x424cf7);}),_0x2d35aa['forEach']((_0x4116f8,_0xcc3905)=>{const _0x1da207=_0x1a7600,_0x3fd15e=_0x5bb1be-(_0xcc3905+0x1)*_0x569466;_0x46f6b1[_0x1da207(0x356)](_0x4116f8,{'x':_0x9e8efb,'y':_0x3fd15e,'size':_0x2703c1,'font':_0x2a450f});}),_0x5bb1be-=_0x2d35aa[_0x1a7600(0x5d9)]*_0x569466;}_0x5bb1be-=_0x4fb658,_0x3b896b(_0x7ee122,_0xd1181e-_0x7ee122,_0x5bb1be),_0x5bb1be-=0x5;}),_0x5bb1be-=_0x4fb658;const _0x4b471d=(_0xd1181e-_0x7ee122*0x2)*0.6;_0x2d4112&&(_0x5bb1be=_0x42b8c6(_0x37d677(0x366),_0x2d4112,_0x5bb1be,_0x3f1429,0xb,_0x4b471d)),_0xd25047&&(_0x5bb1be=_0x42b8c6(_0x37d677(0x4d8),_0xd25047,_0x5bb1be,_0x3f1429,0xb,_0x4b471d)),setClienteDenominacion&&(_0x5bb1be=_0x42b8c6(_0x1281e1,setClienteDenominacion[_0x37d677(0x651)]()[_0x37d677(0x437)](/(^|\s)\S/g,_0x175a2b=>_0x175a2b[_0x37d677(0x40a)]()),_0x5bb1be,_0x3f1429,0xb,_0x4b471d));}}}else{if(_0x135dc3=='a4'){const _0x241284=(_0x5d0e5e,_0x5a65f0,_0x2365cb)=>{const _0x338968=_0x37d677;if(!_0x5d0e5e)return console[_0x338968(0x47f)]('La\x20fuente\x20es\x20undefined\x20en\x20measureText'),0x0;return _0x5d0e5e[_0x338968(0x296)](_0x5a65f0,_0x2365cb);},_0x28cb4f=(_0x1ce2d1,_0x37c029,_0x1f3e06,_0x1fea36,_0xda991e,_0x43fb99,_0x2321d0,_0x153dd7,_0x5c3d66=_0x292dc8)=>{const _0x476e64=_0x37d677;if(!_0x43fb99)return console[_0x476e64(0x47f)]('La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText'),_0x1f3e06;const _0x503c68=_0x1ce2d1[_0x476e64(0x634)]('\x20');let _0x193ec7='',_0x4bc56a=_0x1f3e06;for(let _0x51f0f9=0x0;_0x51f0f9<_0x503c68[_0x476e64(0x5d9)];_0x51f0f9++){const _0x56da08=_0x193ec7+(_0x193ec7?'\x20':'')+_0x503c68[_0x51f0f9],_0x1e1d8b=_0x43fb99['widthOfTextAtSize'](_0x56da08,_0x2321d0);_0x1e1d8b>_0x1fea36?(_0x46f6b1[_0x476e64(0x356)](_0x193ec7,{'x':_0x37c029,'y':_0x4bc56a,'size':_0x2321d0,'font':_0x43fb99,'color':_0x5c3d66}),_0x4bc56a-=_0x153dd7,_0x193ec7=_0x503c68[_0x51f0f9]):_0x193ec7=_0x56da08;}return _0x193ec7&&(_0x46f6b1[_0x476e64(0x356)](_0x193ec7,{'x':_0x37c029,'y':_0x4bc56a,'size':_0x2321d0,'font':_0x43fb99,'color':_0x5c3d66}),_0x4bc56a-=_0x153dd7),_0x4bc56a;},_0x3aa091=(_0x1467f0,_0x1517a7,_0x5840a0,_0x18943d,_0xc08e92,_0x19f448,_0xfb5436=0x9,_0x598e15=0x3)=>{const _0x1bb44c=_0x37d677,_0xd0da99=_0x19f448/0x2;_0x46f6b1[_0x1bb44c(0x3f4)]({'x':_0x5840a0,'y':_0x18943d+_0xd0da99,'width':_0xc08e92-_0x598e15,'height':_0xd0da99,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x5ecec3=_0x241284(_0x2a450f,_0x1467f0,_0xfb5436),_0x1730ea=_0x5840a0+(_0xc08e92-_0x598e15-_0x5ecec3)/0x2,_0x52d308=_0x18943d+_0xd0da99+(_0xd0da99-_0xfb5436)/0x2;_0x46f6b1[_0x1bb44c(0x356)](_0x1467f0,{'x':_0x1730ea,'y':_0x52d308,'size':_0xfb5436,'font':_0x2a450f,'color':_0x37d0ed}),_0x46f6b1[_0x1bb44c(0x3f4)]({'x':_0x5840a0,'y':_0x18943d,'width':_0xc08e92-_0x598e15,'height':_0xd0da99,'color':_0x37d0ed,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x404658=_0x241284(_0x2a450f,_0x1517a7,_0xfb5436),_0x258ac4=_0x5840a0+(_0xc08e92-_0x598e15-_0x404658)/0x2,_0x1ce75c=_0x18943d+(_0xd0da99-_0xfb5436)/0x2;_0x46f6b1[_0x1bb44c(0x356)](_0x1517a7,{'x':_0x258ac4,'y':_0x1ce75c,'size':_0xfb5436,'font':_0x2a450f,'color':_0x292dc8});},_0x3444f3=(_0x5e999b,_0x2d271b,_0x54c555,_0x2d940d,_0x145237,_0x5f150e,_0x483ac4=0x9)=>{const _0x3ee87e=_0x37d677,_0x173585=_0x5f150e/0x2;_0x46f6b1['drawRectangle']({'x':_0x54c555,'y':_0x2d940d+_0x173585,'width':_0x145237,'height':_0x173585,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x2f5936=_0x241284(_0x2a450f,_0x5e999b,_0x483ac4),_0xef4165=_0x54c555+(_0x145237-_0x2f5936)/0x2,_0x5a323a=_0x2d940d+_0x173585+(_0x173585-_0x483ac4)/0x2;_0x46f6b1[_0x3ee87e(0x356)](_0x5e999b,{'x':_0xef4165,'y':_0x5a323a,'size':_0x483ac4,'font':_0x2a450f,'color':_0x37d0ed}),_0x46f6b1[_0x3ee87e(0x3f4)]({'x':_0x54c555,'y':_0x2d940d,'width':_0x145237,'height':_0x173585,'color':_0x37d0ed,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x201bd4=_0x241284(_0x3f1429,_0x2d271b,_0x483ac4),_0x4e2830=_0x54c555+(_0x145237-_0x201bd4)/0x2,_0x3ea4dc=_0x2d940d+(_0x173585-_0x483ac4)/0x2;_0x46f6b1[_0x3ee87e(0x356)](_0x2d271b,{'x':_0x4e2830,'y':_0x3ea4dc,'size':_0x483ac4,'font':_0x3f1429,'color':_0x292dc8});},_0x4975b1=(_0x2bffa2,_0x29815b,_0x3054b2,_0x213dd7,_0x3071d8,_0x5ada88,_0x296cdf,_0x5bb268,_0x2e9c63=![],_0x5377d4=_0x37d677(0x40f))=>{const _0x1e2da5=_0x37d677,_0x35ffd0=_0x5ada88-_0x296cdf*0x2,_0x441bdd=_0x35ffd0*0.1,_0x27d47e=_0x35ffd0*0.1,_0x34f703=_0x35ffd0*0.15,_0x3dde93=_0x35ffd0*0.35,_0xf93a92=_0x35ffd0*0.15,_0x58bf05=_0x35ffd0*0.15,_0x115da4=_0x296cdf,_0x48d355=_0x115da4+_0x441bdd,_0x433e92=_0x48d355+_0x27d47e,_0xa55a49=_0x433e92+_0x34f703,_0x4928fb=_0xa55a49+_0x3dde93,_0x3d630c=_0x4928fb+_0xf93a92;if(_0x2e9c63){_0x46f6b1[_0x1e2da5(0x3f4)]({'x':_0x296cdf,'y':_0x3054b2,'width':_0x35ffd0,'height':_0x5bb268,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x2643ad=(_0x5bb268-_0x3071d8)/0x2,[_0x5ed43f,_0x268e6d,_0x1d2cf8,_0x5258c5,_0x209658,_0x67fb4f]=_0x2bffa2;return _0x46f6b1[_0x1e2da5(0x356)](String(_0x5ed43f),{'x':_0x102847(_0x5ed43f,_0x213dd7,_0x3071d8,_0x115da4,_0x441bdd),'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x46f6b1[_0x1e2da5(0x356)](String(_0x268e6d),{'x':_0x102847(_0x268e6d,_0x213dd7,_0x3071d8,_0x48d355,_0x27d47e),'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x46f6b1[_0x1e2da5(0x356)](String(_0x1d2cf8),{'x':_0x102847(_0x1d2cf8,_0x213dd7,_0x3071d8,_0x433e92,_0x34f703),'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x46f6b1[_0x1e2da5(0x356)](String(_0x5258c5),{'x':_0xa55a49+0x2,'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x46f6b1['drawText'](String(_0x209658),{'x':_0x102847(_0x209658,_0x213dd7,_0x3071d8,_0x4928fb,_0xf93a92),'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x46f6b1[_0x1e2da5(0x356)](String(_0x67fb4f),{'x':_0x2cc28c(_0x67fb4f,_0x213dd7,_0x3071d8,_0x3d630c,_0x58bf05)-0xa,'y':_0x3054b2+_0x2643ad,'size':_0x3071d8,'font':_0x213dd7,'color':_0x37d0ed}),_0x3054b2-_0x5bb268;}else{const [_0x50038e,_0x4cbdb7,_0x107f4f,_0x2cb0b4,_0x1db46a,_0x5d28db]=_0x29815b;if(_0x5377d4==_0x1e2da5(0x472)&&_0x29815b[0x4][_0x1e2da5(0x4d4)]()=='Total\x20('+_0x2b52bb+')')_0x46f6b1[_0x1e2da5(0x356)](_0x54cd91,{'x':_0x115da4+0xa,'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7});else{_0x46f6b1[_0x1e2da5(0x356)](String(_0x50038e),{'x':_0x102847(_0x50038e,_0x213dd7,_0x3071d8,_0x115da4,_0x441bdd),'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7}),_0x46f6b1['drawText'](String(_0x4cbdb7),{'x':_0x102847(_0x4cbdb7,_0x213dd7,_0x3071d8,_0x48d355,_0x27d47e),'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7}),_0x46f6b1[_0x1e2da5(0x356)](String(_0x107f4f),{'x':_0x102847(_0x107f4f,_0x213dd7,_0x3071d8,_0x433e92,_0x34f703),'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7});var _0x584c88=_0x2cb0b4?_0x518f35(_0x2cb0b4,_0xa55a49+0x2,_0x3054b2,_0x3dde93-0x4,_0x213dd7,_0x3071d8,_0x5bb268):_0x3054b2;}return _0x5377d4==_0x1e2da5(0x472)?_0x46f6b1[_0x1e2da5(0x356)](String(_0x1db46a),{'x':_0x2cc28c(_0x1db46a,_0x213dd7,_0x3071d8,_0x4928fb,_0xf93a92)-0x8,'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7}):_0x46f6b1[_0x1e2da5(0x356)](String(_0x1db46a),{'x':_0x102847(_0x1db46a,_0x213dd7,_0x3071d8,_0x4928fb,_0xf93a92)-0x2,'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7}),_0x46f6b1['drawText'](String(_0x5d28db),{'x':_0x2cc28c(_0x5d28db,_0x213dd7,_0x3071d8,_0x3d630c,_0x58bf05)-0xa,'y':_0x3054b2,'size':_0x3071d8,'font':_0x213dd7}),_0x5377d4==_0x1e2da5(0x472)&&_0x29815b[0x4][_0x1e2da5(0x4d4)]()=='Total\x20('+_0x2b52bb+')'?_0x3054b2-_0x5bb268:Math['min'](_0x584c88!==undefined?_0x584c88:_0x3054b2,_0x3054b2-_0x5bb268);}};function _0x102847(_0x5d3615,_0x2e59dc,_0x4ca1e4,_0x128c57,_0x1e7f08){const _0x410d53=_0x37d677,_0x3b1bae=_0x2e59dc[_0x410d53(0x296)](String(_0x5d3615),_0x4ca1e4);return _0x128c57+(_0x1e7f08-_0x3b1bae)/0x2;}function _0x2cc28c(_0x270753,_0xbd0ee1,_0x56acb7,_0x76d25e,_0x1176dd){const _0xfaf693=_0x37d677,_0x3ef4e7=_0xbd0ee1[_0xfaf693(0x296)](String(_0x270753),_0x56acb7);return _0x76d25e+(_0x1176dd-_0x3ef4e7);}function _0x518f35(_0x87a53c,_0x3b7af4,_0x7f6929,_0x2e572c,_0x2a36ef,_0x48c74e,_0x4c2902){const _0x479c53=_0x37d677,_0x1439a9=_0x87a53c['split']('\x20');let _0x1d4694='',_0x3936d4=_0x7f6929;for(let _0x500b0d=0x0;_0x500b0d<_0x1439a9[_0x479c53(0x5d9)];_0x500b0d++){const _0x1cabc7=_0x1d4694+(_0x1d4694?'\x20':'')+_0x1439a9[_0x500b0d];_0x2a36ef[_0x479c53(0x296)](_0x1cabc7,_0x48c74e)>_0x2e572c?(_0x46f6b1[_0x479c53(0x356)](_0x1d4694,{'x':_0x3b7af4,'y':_0x3936d4,'size':_0x48c74e,'font':_0x2a36ef}),_0x3936d4-=_0x4c2902,_0x1d4694=_0x1439a9[_0x500b0d]):_0x1d4694=_0x1cabc7;}return _0x1d4694&&(_0x46f6b1[_0x479c53(0x356)](_0x1d4694,{'x':_0x3b7af4,'y':_0x3936d4,'size':_0x48c74e,'font':_0x2a36ef}),_0x3936d4-=_0x4c2902),_0x3936d4;}let _0x38a035=0x3c,_0xb137c7=(_0xd1181e-_0x7ee122*0x2)*0.25,_0x1a43cf=(_0xd1181e-_0x7ee122*0x2)*0.5,_0xa0582f=(_0xd1181e-_0x7ee122*0x2)*0.25,_0x50f7e7=_0x7ee122,_0x2638a9=_0x7ee122+_0xb137c7,_0x26cff1=_0x7ee122+_0xb137c7+_0x1a43cf,_0x5d577a=_0x5bb1be-_0x38a035;if(setLogoUrl)try{const _0x31d2a1=setLogoUrl['split'](',')[0x1],_0x3f2365=Uint8Array[_0x37d677(0x322)](atob(_0x31d2a1),_0x195329=>_0x195329[_0x37d677(0x62b)](0x0));let _0x31b333;try{_0x31b333=await _0x40e980[_0x37d677(0x281)](_0x3f2365);}catch(_0x17b286){try{_0x31b333=await _0x40e980[_0x37d677(0x617)](_0x3f2365);}catch(_0x5784ed){throw new Error(_0x37d677(0x561));}}const _0x1c0d13=_0xb137c7*0.6,_0x120e13=_0x31b333[_0x37d677(0x335)],_0x169b45=_0x1c0d13/_0x120e13,_0x8213dc=_0x31b333[_0x37d677(0x2b6)](_0x169b45),_0x16502d=_0x50f7e7+(_0xb137c7-_0x8213dc[_0x37d677(0x335)])/0x2,_0xf0db27=_0x5d577a+(_0x38a035-_0x8213dc['height'])/0x2;_0x46f6b1[_0x37d677(0x291)](_0x31b333,{'x':_0x16502d,'y':_0xf0db27,'width':_0x8213dc[_0x37d677(0x335)],'height':_0x8213dc['height']});}catch(_0x26968f){console[_0x37d677(0x415)]('Error\x20al\x20cargar\x20logo:',_0x26968f);}let _0x413121=_0x5bb1be-0xa;const _0x2958e6=0xc;setEmpresaNombre&&(_0x413121=_0x28cb4f(setEmpresaNombre,_0x2638a9,_0x413121,_0x1a43cf,_0x38a035,_0x3f1429,0x9,_0x2958e6));_0x26373b&&(_0x413121=_0x28cb4f(_0x26373b,_0x2638a9,_0x413121,_0x1a43cf,_0x38a035,_0x2a450f,0x8,_0x2958e6));setEmpresaEmail&&(_0x413121=_0x28cb4f(setEmpresaEmail,_0x2638a9,_0x413121,_0x1a43cf,_0x38a035,_0x2a450f,0x8,_0x2958e6));setEmpresaTelefono&&(_0x413121=_0x28cb4f(setEmpresaTelefono,_0x2638a9,_0x413121,_0x1a43cf,_0x38a035,_0x2a450f,0x8,_0x2958e6));setEmpresaSitioWeb&&(_0x413121=_0x28cb4f(setEmpresaSitioWeb,_0x2638a9,_0x413121,_0x1a43cf,_0x38a035,_0x2a450f,0x8,_0x2958e6));const _0x58c053=0x5;col3TopHeight=_0x38a035*0.5,col3BottomHeight=_0x38a035*0.5;const _0x586ae7=_0x5d577a+col3TopHeight+_0x58c053;_0x3444f3(_0xd20099?_0xd20099[_0x37d677(0x40a)]():'',setEmpresaRuc||'',_0x26cff1,_0x586ae7,_0xa0582f,col3BottomHeight,0x9);const _0x1b53f4=_0xa0582f*0.5,_0x36fc10=col3TopHeight;_0x3aa091('Serie',setSerie?setSerie[_0x37d677(0x40a)]():'',_0x26cff1,_0x5d577a,_0x1b53f4,_0x36fc10,0x9,0x5),_0x3aa091('Nº',setCorrelativo?String(setCorrelativo):'',_0x26cff1+_0x1b53f4,_0x5d577a,_0x1b53f4,_0x36fc10,0x9,0x0),_0x5bb1be=_0x5d577a;const _0x5ad8b4=0x14;_0x5bb1be-=_0x5ad8b4;let _0x9f2fca=0x64,_0xb6f9=_0x5bb1be-_0x9f2fca,_0x25caba=(_0xd1181e-_0x7ee122*0x2)*0.75,_0x3a1996=(_0xd1181e-_0x7ee122*0x2)*0.25,_0x2702d4=_0x7ee122,_0xea4b60=_0x7ee122+_0x25caba;const _0x3eb379=0xe,_0x4e3a45=_0x25caba*0.2;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x2702d4,'y':_0xb6f9+(_0x9f2fca-_0x3eb379),'width':_0x4e3a45,'height':_0x3eb379,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x26f839='Datos\x20Generales',_0x5f16d8=0x9,_0x354b97=_0x241284(_0x2a450f,_0x26f839,_0x5f16d8),_0x4b5ba1=_0x2702d4+(_0x4e3a45-_0x354b97)/0x2,_0x13c7e5=_0xb6f9+_0x9f2fca-_0x3eb379+(_0x3eb379-_0x5f16d8)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x26f839,{'x':_0x4b5ba1,'y':_0x13c7e5,'size':_0x5f16d8,'font':_0x2a450f,'color':_0x37d0ed});const _0x37b459=_0x9f2fca-_0x3eb379;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x2702d4,'y':_0xb6f9,'width':_0x25caba-0x5,'height':_0x37b459,'color':_0x37d0ed,'borderColor':_0x343fa9,'borderWidth':0x1});let _0x110d2=_0xb6f9+_0x37b459-0xa;const _0x5e0b90=0xc,_0x377614=_0x25caba-0x5-0xa,_0x54bdc5=_0x377614*0.17,_0x4fc197=_0x377614*0.02,_0x138f1a=_0x377614*0.81;function _0x331aab(_0x4e809c,_0xcf5b56,_0x2ec0c9,_0x22c435,_0x4682c4,_0x1ee7af,_0x2831ad){const _0x305762=_0x37d677,_0x434661=_0x4e809c['split']('\x20');let _0x51fced='',_0xccac60=_0x2ec0c9;for(let _0x2487fe=0x0;_0x2487fe<_0x434661[_0x305762(0x5d9)];_0x2487fe++){const _0x1d5fef=_0x51fced+(_0x51fced?'\x20':'')+_0x434661[_0x2487fe];_0x4682c4[_0x305762(0x296)](_0x1d5fef,_0x1ee7af)>_0x22c435?(_0x46f6b1['drawText'](_0x51fced,{'x':_0xcf5b56,'y':_0xccac60,'size':_0x1ee7af,'font':_0x4682c4,'color':_0x2831ad}),_0xccac60-=_0x5e0b90,_0x51fced=_0x434661[_0x2487fe]):_0x51fced=_0x1d5fef;}return _0x51fced&&(_0x46f6b1[_0x305762(0x356)](_0x51fced,{'x':_0xcf5b56,'y':_0xccac60,'size':_0x1ee7af,'font':_0x4682c4,'color':_0x2831ad}),_0xccac60-=_0x5e0b90),_0xccac60;}function _0x2e53a3(_0x24ae8e,_0x32c4c9){const _0x2d69ee=_0x37d677;_0x46f6b1[_0x2d69ee(0x356)](String(_0x24ae8e),{'x':_0x2702d4+0x5,'y':_0x110d2,'size':0x8,'font':_0x3f1429,'color':_0x292dc8}),_0x46f6b1[_0x2d69ee(0x356)](':',{'x':_0x2702d4+0x5+_0x54bdc5,'y':_0x110d2,'size':0x8,'font':_0x2a450f,'color':_0x292dc8}),_0x110d2=_0x331aab(String(_0x32c4c9),_0x2702d4+0x5+_0x54bdc5+_0x4fc197,_0x110d2,_0x138f1a,_0x2a450f,0x8,_0x292dc8);}setClienteTipoDoc&&setClienteNumDoc&&_0x2e53a3(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x2e53a3(_0x1281e1,setClienteDenominacion);setClienteDireccion&&_0x2e53a3(_0x37d677(0x3ac),setClienteDireccion);_0x47790a&&_0x2e53a3(_0x37d677(0x62e),_0x47790a);_0x164618&&_0x2e53a3(_0x37d677(0x52a),_0x164618);_0x47f40a&&_0x2e53a3('Vendedor',_0x47f40a);let _0x1e7931=col3TopHeight;const _0x5cb238=0x5,_0x19f6e0=_0xb6f9+(_0x9f2fca-_0x1e7931);_0x3444f3('Fecha',_0x2d4112||'',_0xea4b60,_0x19f6e0,_0x3a1996,_0x1e7931,0x9);const _0x20b1a1=_0x19f6e0-_0x5cb238-_0x1e7931;let _0x1e4e28='';if(_0x2e20c3[_0x37d677(0x182)])_0x1e4e28='Contado';if(_0x2891cf['status'])_0x1e4e28=_0x37d677(0x3c0);if(_0x4f8ae0[_0x37d677(0x182)])_0x1e4e28='Mixto';_0x3444f3(_0x37d677(0x15b),''+_0x1e4e28,_0xea4b60,_0x20b1a1,_0x3a1996,_0x1e7931,0x9);const _0x466306=_0x20b1a1-_0x5cb238-_0x1e7931;let _0xd3a21c=_0x38e5a2||'';_0x3444f3(_0x37d677(0x4df),''+_0xd3a21c,_0xea4b60,_0x466306,_0x3a1996,_0x1e7931,0x9),_0x5bb1be=_0xb6f9,_0x5bb1be-=0x14;const _0x225b11=_0x5bb1be,_0x426db5=['CANTIDAD',_0x37d677(0x107),_0x37d677(0x31e),_0x37d677(0x5e3),_0x37d677(0xf0),'TOTAL'];_0x5bb1be=_0x4975b1(_0x426db5,[],_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xe,!![]);if(_0x456ce4==0x1){const _0xff20e5=['1','UND','',_0x37d677(0x13a),parseFloat(_0x4ffd8d)[_0x37d677(0x16f)](0x2),parseFloat(_0x4ffd8d)['toFixed'](0x2)];_0x5bb1be=_0x4975b1([],_0xff20e5,_0x5bb1be,_0x2a450f,0x8,_0xd1181e,_0x7ee122,0xc,![]),_0x5bb1be-=0x5;}else setProductos[_0x37d677(0x24f)](_0x4887bf=>{const _0x56082e=_0x37d677;let {setCodProducto:setCodProducto='',setDescripcion:_0x36fb87,setCantidad:_0x2fad76,setMtoPrecioUnitario:_0x5bf405,setTotal:_0x11356d,setDescuento:_0x3cfeb5,setMtoPrecioUnitario_final:_0x326e5f,setUnidad:_0x204db4,setTipAfeIgv:_0x4fa4a3,setNotas:_0x79a87d}=_0x4887bf;_0x3cfeb5&&_0x3cfeb5['setPorcentajeDesc']>0x0&&(_0x36fb87+='\x20('+_0x3cfeb5['setPorcentajeDesc']+_0x56082e(0xe9)+_0x2b52bb+parseFloat(_0x326e5f)[_0x56082e(0x16f)](0x2)+')');(setTipAfeImpGravadosGrat[_0x56082e(0x615)](_0x21f14d=>_0x21f14d==_0x4fa4a3)||setTipAfeImpInafectosGrat[_0x56082e(0x615)](_0xcfb43d=>_0xcfb43d==_0x4fa4a3)||setTipAfeImpExoneradosGrat[_0x56082e(0x615)](_0x3b20f0=>_0x3b20f0==_0x4fa4a3))&&(_0x5bf405=_0x326e5f,setTipAfeImpGravadosGrat[_0x56082e(0x615)](_0x307306=>_0x307306==_0x4fa4a3)&&(_0x36fb87+=_0x56082e(0x431)),setTipAfeImpExoneradosGrat[_0x56082e(0x615)](_0x5f2423=>_0x5f2423==_0x4fa4a3)&&(_0x36fb87+=_0x56082e(0x27f)),setTipAfeImpInafectosGrat[_0x56082e(0x615)](_0x538d47=>_0x538d47==_0x4fa4a3)&&(_0x36fb87+=_0x56082e(0x5fb)));_0x79a87d&&(_0x36fb87+=_0x56082e(0x585)+_0x79a87d);let _0x28df74=products[_0x56082e(0x189)](_0x356b92=>_0x356b92['id']==_0x4887bf['setIdProducto']);_0x445f74==0x1&&_0x28df74&&_0x28df74[_0x56082e(0x61e)]&&(_0x36fb87+=_0x56082e(0x133)+_0x28df74[_0x56082e(0x61e)]);_0x5a35ed==0x1&&_0x28df74&&_0x28df74['setBatchExpirationDate']&&(_0x36fb87+=_0x56082e(0x1c6)+_0x28df74[_0x56082e(0x34e)]);const _0x59c89d=[String(_0x2fad76||'1'),String(_0x204db4+'.'||''),String(setCodProducto),_0x36fb87,parseFloat(_0x5bf405)[_0x56082e(0x16f)](0x2),parseFloat(_0x11356d)[_0x56082e(0x16f)](0x2)];_0x5bb1be=_0x4975b1([],_0x59c89d,_0x5bb1be,_0x2a450f,0x8,_0xd1181e,_0x7ee122,0xc,![]),_0x5bb1be-=0x5;});_0x5bb1be-=0xa;if(parseFloat(_0x48c987)>0x0){const _0x363a2e=['','','','',_0x37d677(0x168)+_0x2b52bb+')',''+_0x48c987];_0x5bb1be=_0x4975b1([],_0x363a2e,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(parseFloat(_0x16fa31)>0x0){const _0x5ca383=['','','','','Desc.\x20por\x20Items\x20('+_0x2b52bb+')',''+_0x16fa31];_0x5bb1be=_0x4975b1([],_0x5ca383,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x49f1d9)>0x0){const _0x1fba0a=['','','','','Op.\x20Gravadas\x20('+_0x2b52bb+')',''+_0x49f1d9];_0x5bb1be=_0x4975b1([],_0x1fba0a,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],'totals'),_0x5bb1be-=0x2;}if(parseFloat(_0x2b2631)>0x0){const _0x51957b=['','','','','Op.\x20Exoneradas\x20('+_0x2b52bb+')',''+_0x2b2631];_0x5bb1be=_0x4975b1([],_0x51957b,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(parseFloat(_0x9f8ec0)>0x0){const _0x5dafa5=['','','','',_0x37d677(0x13c)+_0x2b52bb+')',''+_0x9f8ec0];_0x5bb1be=_0x4975b1([],_0x5dafa5,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(parseFloat(_0x24a99d)>0x0){const _0x3e3554=['','','','','Op.\x20Gratuitas\x20('+_0x2b52bb+')',''+_0x24a99d];_0x5bb1be=_0x4975b1([],_0x3e3554,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(parseFloat(_0x52f1f4)>0x0){const _0x36130a=['','','','',_0x37d677(0x310)+_0x2b52bb+')',''+_0x52f1f4];_0x5bb1be=_0x4975b1([],_0x36130a,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],'totals'),_0x5bb1be-=0x2;}{const _0x2f3ef6=['','','','',_0x37d677(0x5be)+_0x2b52bb+')',''+_0x39fb00];_0x5bb1be=_0x4975b1([],_0x2f3ef6,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}{const _0x443cda=['','','','','IGV\x20('+_0x2b52bb+')',''+_0x5d7099];_0x5bb1be=_0x4975b1([],_0x443cda,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}}{const _0x4f85df=['','','','',_0x37d677(0x23b)+_0x2b52bb+')',''+_0x4ffd8d];_0x5bb1be=_0x4975b1([],_0x4f85df,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(_0x40d1a7==0x1){const _0x3e0c7d=['','','','',_0x37d677(0x22b)+_0x379386+_0x37d677(0x116)+_0x2b52bb+')',''+_0x47dbb7];_0x5bb1be=_0x4975b1([],_0x3e0c7d,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],'totals'),_0x5bb1be-=0x2;}if(_0x5c299d==0x1){const _0x15fcab=['','','','',_0x37d677(0x388)+_0x15f626+_0x37d677(0x116)+_0x2b52bb+')',''+_0x2e9f06];_0x5bb1be=_0x4975b1([],_0x15fcab,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],_0x37d677(0x472)),_0x5bb1be-=0x2;}if(_0x5b7dd2==0x1){const _0x541dc5=['','','','',_0x37d677(0x4fc)+_0x352007+_0x37d677(0x116)+_0x2b52bb+')',''+_0x17cb43];_0x5bb1be=_0x4975b1([],_0x541dc5,_0x5bb1be,_0x3f1429,0x8,_0xd1181e,_0x7ee122,0xc,![],'totals'),_0x5bb1be-=0x2;}const _0x4bcf05=_0x5bb1be,_0x407bf0=_0xd1181e-_0x7ee122*0x2,_0x5819fa=_0x225b11-_0x4bcf05+0x3;_0x46f6b1['drawLine']({'start':{'x':_0x7ee122,'y':_0x4bcf05-0x3},'end':{'x':_0x7ee122,'y':_0x4bcf05-0x3+_0x5819fa},'thickness':0x1,'color':_0x30b5e6}),_0x46f6b1[_0x37d677(0x12f)]({'start':{'x':_0x7ee122,'y':_0x4bcf05-0x3},'end':{'x':_0x7ee122+_0x407bf0,'y':_0x4bcf05-0x3},'thickness':0x1,'color':_0x30b5e6}),_0x46f6b1[_0x37d677(0x12f)]({'start':{'x':_0x7ee122+_0x407bf0,'y':_0x4bcf05-0x3},'end':{'x':_0x7ee122+_0x407bf0,'y':_0x4bcf05-0x3+_0x5819fa},'thickness':0x1,'color':_0x30b5e6}),_0x5bb1be=_0x4bcf05-0x3-0xa;const _0x3d2b4d=_0x7ee122+_0x407bf0*0.85;_0x46f6b1[_0x37d677(0x12f)]({'start':{'x':_0x3d2b4d,'y':_0x225b11},'end':{'x':_0x3d2b4d,'y':_0x4bcf05-0x3},'thickness':0x1,'color':_0x30b5e6});const _0x27a41b=_0xd1181e-_0x7ee122*0x2,_0x299834=0x5,_0x3a51f1=_0x27a41b-_0x299834,_0x3eff74=_0x3a51f1*0.8,_0x125634=_0x3a51f1*0.2,_0x1c8e9c=_0x7ee122,_0x1463a4=_0x1c8e9c+_0x3eff74+_0x299834,_0x3e6e8b=_0x5bb1be,_0x22e7f8=0xe,_0x10426c=0x5,_0x257cd9=myCompany['setBankAccounts'],_0x525c42=Math[_0x37d677(0x304)](_0x257cd9[_0x37d677(0x5d9)]/0x2),_0x24b603=0xe,_0x170d45=_0x525c42*_0x24b603,_0x10e4db=_0x22e7f8+_0x170d45;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x1c8e9c,'y':_0x3e6e8b-_0x22e7f8,'width':_0x3eff74,'height':_0x22e7f8,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x2f7592='NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:',_0x2ea5e7=(_0x22e7f8-0x8)/0x2;_0x46f6b1[_0x37d677(0x356)](_0x2f7592,{'x':_0x1c8e9c+_0x10426c,'y':_0x3e6e8b-_0x22e7f8+_0x2ea5e7,'size':0x8,'font':_0x3f1429,'color':_0x37d0ed});const _0x5a124d=(_0x58a5e3,_0x30eab5=0x10)=>{const _0x1266ff=_0x37d677;return _0x58a5e3[_0x1266ff(0x5d9)]>_0x30eab5?_0x58a5e3[_0x1266ff(0x1e6)](0x0,_0x30eab5)+_0x1266ff(0x4e3):_0x58a5e3;},_0x1fc0ae=_0x3eff74/0x4;for(let _0x5493af=0x0;_0x5493af<_0x525c42;_0x5493af++){const _0x5317ed=_0x257cd9[0x2*_0x5493af],_0x3f0981=_0x257cd9[0x2*_0x5493af+0x1],_0x90612b=_0x3e6e8b-_0x22e7f8-_0x5493af*_0x24b603,_0x2ee5b7=(_0x24b603-0x8)/0x2;if(_0x5317ed){const _0x1cdf08=_0x5a124d(_0x5317ed['setBankName'][_0x37d677(0x40a)]())+(_0x5317ed['setBankCurrency']==_0x37d677(0x1bc)?_0x37d677(0x5f2):'\x20('+_0x5317ed[_0x37d677(0x2dd)]+')'),_0x30318a='N\x20'+_0x5317ed['setBankNumber'];_0x518f35(_0x1cdf08,_0x1c8e9c+_0x10426c,_0x90612b-_0x24b603+_0x2ee5b7,_0x1fc0ae-_0x10426c,_0x2a450f,0x8,_0x24b603),_0x518f35(_0x30318a,_0x1c8e9c+_0x1fc0ae+0x2,_0x90612b-_0x24b603+_0x2ee5b7,_0x1fc0ae-0x2,_0x2a450f,0x8,_0x24b603);}if(_0x3f0981){const _0x76c372=_0x5a124d(_0x3f0981['setBankName'][_0x37d677(0x40a)]())+(_0x3f0981[_0x37d677(0x2dd)]=='PEN'?_0x37d677(0x5f2):'\x20('+_0x3f0981[_0x37d677(0x2dd)]+')'),_0x13c435='N\x20'+_0x3f0981['setBankNumber'];_0x518f35(_0x76c372,_0x1c8e9c+_0x1fc0ae*0x2+0x2,_0x90612b-_0x24b603+_0x2ee5b7,_0x1fc0ae-0x2,_0x2a450f,0x8,_0x24b603),_0x518f35(_0x13c435,_0x1c8e9c+_0x1fc0ae*0x3+0x2,_0x90612b-_0x24b603+_0x2ee5b7,_0x1fc0ae-0x2,_0x2a450f,0x7,_0x24b603);}}const _0x389a1d=[setEmpresaRuc,setSerie,setCorrelativo,_0x49f1d9>0x0?_0x49f1d9:null,_0x2b2631>0x0?_0x2b2631:null,_0x9f8ec0>0x0?_0x9f8ec0:null,_0x24a99d>0x0?_0x24a99d:null,_0x5d7099>0x0?_0x5d7099:null,_0x4ffd8d>0x0?_0x4ffd8d:null,setClienteNumDoc],_0x27ec45=_0x389a1d[_0x37d677(0xdc)](_0x13c803=>_0x13c803!==null)[_0x37d677(0x45b)]('|'),_0x5bcb9e=document['createElement'](_0x37d677(0x208));new QRCode(_0x5bcb9e,{'text':_0x27ec45,'width':0x80,'height':0x80,'colorDark':'#000000','colorLight':'#ffffff','correctLevel':QRCode['CorrectLevel']['H']}),await new Promise(_0x3262d0=>setTimeout(_0x3262d0,0x1f4));const _0x38e004=_0x5bcb9e['querySelector'](_0x37d677(0x479)),_0x2cf071=_0x38e004[_0x37d677(0x187)](_0x37d677(0x18a)),_0x1b64ba=atob(_0x2cf071[_0x37d677(0x634)](',')[0x1]),_0x2d797e=Uint8Array[_0x37d677(0x322)](_0x1b64ba,_0x49fa3a=>_0x49fa3a['charCodeAt'](0x0)),_0x535a22=await _0x40e980[_0x37d677(0x281)](_0x2d797e),_0x50041c=_0x535a22[_0x37d677(0x2b6)](0.8),_0x893d=_0x1463a4+_0x125634-_0x50041c[_0x37d677(0x335)],_0x2b8158=_0x3e6e8b-_0x50041c[_0x37d677(0x1dd)];_0x46f6b1[_0x37d677(0x291)](_0x535a22,{'x':_0x893d,'y':_0x2b8158,'width':_0x50041c[_0x37d677(0x335)],'height':_0x50041c[_0x37d677(0x1dd)]});const _0x4e23a9=Math[_0x37d677(0x42a)](_0x10e4db,_0x50041c[_0x37d677(0x1dd)]);_0x46f6b1['drawRectangle']({'x':_0x1c8e9c,'y':_0x3e6e8b-_0x4e23a9,'width':_0x3eff74,'height':_0x4e23a9,'borderColor':_0x343fa9,'borderWidth':0x1}),_0x5bb1be=Math['min'](_0x3e6e8b-_0x4e23a9,_0x2b8158)-0x5;const _0x226c23=_0xd1181e-_0x7ee122*0x2,_0x2ad7a7=0x5,_0x4bd233=_0x226c23-_0x2ad7a7,_0x2fa5c4=_0x4bd233*0.8,_0x186e95=_0x4bd233*0.2,_0x8347ee=_0x7ee122,_0x249f37=_0x8347ee+_0x2fa5c4+_0x2ad7a7,_0x19f54e=_0x5bb1be,_0x207963=0x8,_0x4d6b34=0x5,_0x3065a5=0xe,_0x57c17f=_0x2fa5c4/0x2;let _0x3fc044='',_0x1f1600='',_0xc9ca70=[],_0x2d4968=[];if(_0x4f8ae0[_0x37d677(0x182)]==!![]){_0x3fc044=_0x37d677(0x40e),_0x1f1600=_0x37d677(0x502);for(let _0xb6d858 in _0x2e20c3[_0x37d677(0x3bb)]){if(_0xb6d858==_0x37d677(0xe6)||_0xb6d858==_0x37d677(0x594))continue;const _0x5a0e0a=_0x2e20c3[_0x37d677(0x3bb)][_0xb6d858];if(_0x5a0e0a&&typeof _0x5a0e0a==_0x37d677(0x372)&&_0x37d677(0x449)in _0x5a0e0a){const _0x2ec81d=parseFloat(_0x5a0e0a[_0x37d677(0x3e4)]);if(_0x2ec81d>0x0){_0xc9ca70['push']({'desc':_0xb6d858['toUpperCase'](),'value':_0x2b52bb+'\x20'+_0x2ec81d[_0x37d677(0x16f)](0x2)});if('porcentaje_comision'in _0x5a0e0a&&_0x37d677(0x22a)in _0x5a0e0a){const _0x2ee893=_0x5a0e0a[_0x37d677(0x660)],_0x20e731=parseFloat(_0x5a0e0a['total_comision']);_0x2ee893!==undefined&&_0x20e731!==undefined&&_0xc9ca70[_0x37d677(0x338)]({'desc':_0x37d677(0x630)+_0x2ee893+'%)','value':_0x2b52bb+'\x20'+_0x20e731[_0x37d677(0x16f)](0x2)});}if(_0x5a0e0a[_0x37d677(0x36b)]&&_0x5a0e0a[_0x37d677(0x36b)]!='0'){const _0x5113fa=myCompany['setBankAccounts'][_0x37d677(0x189)](_0x13d55a=>_0x13d55a[_0x37d677(0x143)]==_0x5a0e0a[_0x37d677(0x36b)]);_0x5113fa&&_0xc9ca70['push']({'desc':_0x37d677(0x401),'value':_0x5113fa[_0x37d677(0x1bb)]});}_0x5a0e0a[_0x37d677(0x3f2)]&&_0xc9ca70['push']({'desc':'Nº\x20Operación','value':_0x5a0e0a[_0x37d677(0x3f2)]});}}}parseFloat(_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0xe6)])>0x0&&_0xc9ca70['push']({'desc':'Vuelto:','value':_0x2b52bb+'\x20'+parseFloat(_0x2e20c3['data'][_0x37d677(0xe6)])[_0x37d677(0x16f)](0x2)});let _0x23bc39=_0x2891cf[_0x37d677(0x182)]==!![]?parseFloat(_0x4ffd8d):parseFloat(_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0x594)]);_0x2d4968[_0x37d677(0x338)]({'desc':_0x37d677(0x5fd),'value':_0x2b52bb+'\x20'+_0x23bc39['toFixed'](0x2)}),_0x2d4968[_0x37d677(0x338)]({'desc':_0x37d677(0x3ea),'value':_0x2891cf['data'][_0x37d677(0x5d9)]+_0x37d677(0x31f)}),_0x2d4968['push']({'desc':_0x37d677(0x4a5),'value':''}),_0x2891cf[_0x37d677(0x3bb)][_0x37d677(0x24f)](_0x5c5b33=>{const _0x5b45d9=_0x37d677;_0x2d4968[_0x5b45d9(0x338)]({'desc':_0x5b45d9(0x2fc)+_0x5c5b33[_0x5b45d9(0x5eb)],'value':_0x5c5b33['fechaVencimiento']+_0x5b45d9(0x133)+parseFloat(_0x5c5b33[_0x5b45d9(0x449)])[_0x5b45d9(0x16f)](0x2)});});}else{if(_0x2e20c3[_0x37d677(0x182)]==!![]){_0x3fc044=_0x37d677(0x40e),_0x1f1600='';for(let _0x2acf67 in _0x2e20c3[_0x37d677(0x3bb)]){if(_0x2acf67==_0x37d677(0xe6)||_0x2acf67==_0x37d677(0x594))continue;const _0x41e4fd=_0x2e20c3[_0x37d677(0x3bb)][_0x2acf67];if(_0x41e4fd&&typeof _0x41e4fd==_0x37d677(0x372)&&_0x37d677(0x449)in _0x41e4fd){const _0xcc6250=parseFloat(_0x41e4fd[_0x37d677(0x3e4)]);if(_0xcc6250>0x0){_0xc9ca70['push']({'desc':_0x2acf67[_0x37d677(0x40a)](),'value':_0x2b52bb+'\x20'+_0xcc6250[_0x37d677(0x16f)](0x2)});if(_0x37d677(0x660)in _0x41e4fd&&'total_comision'in _0x41e4fd){const _0x5ceac1=_0x41e4fd[_0x37d677(0x660)],_0x52eed7=parseFloat(_0x41e4fd['total_comision']);_0x5ceac1!==undefined&&_0x52eed7!==undefined&&_0xc9ca70[_0x37d677(0x338)]({'desc':_0x37d677(0x630)+_0x5ceac1+'%)','value':_0x2b52bb+'\x20'+_0x52eed7[_0x37d677(0x16f)](0x2)});}if(_0x41e4fd[_0x37d677(0x36b)]&&_0x41e4fd[_0x37d677(0x36b)]!='0'){const _0x4a1ff5=myCompany[_0x37d677(0x128)]['find'](_0x28c9fc=>_0x28c9fc[_0x37d677(0x143)]==_0x41e4fd['banco']);_0x4a1ff5&&_0xc9ca70[_0x37d677(0x338)]({'desc':_0x37d677(0x401),'value':_0x4a1ff5[_0x37d677(0x1bb)]});}_0x41e4fd['nro_operacion']&&_0xc9ca70[_0x37d677(0x338)]({'desc':'Nº\x20Operación','value':_0x41e4fd['nro_operacion']});}}}parseFloat(_0x2e20c3['data'][_0x37d677(0xe6)])>0x0&&_0xc9ca70['push']({'desc':_0x37d677(0x201),'value':_0x2b52bb+'\x20'+parseFloat(_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0xe6)])[_0x37d677(0x16f)](0x2)});}else{if(_0x2891cf[_0x37d677(0x182)]==!![]){_0x3fc044=_0x37d677(0x502),_0x1f1600='';let _0x6c4dc3=_0x2891cf[_0x37d677(0x182)]==!![]?parseFloat(_0x4ffd8d):parseFloat(_0x2e20c3[_0x37d677(0x3bb)][_0x37d677(0x594)]);_0xc9ca70[_0x37d677(0x338)]({'desc':_0x37d677(0x5fd),'value':_0x2b52bb+'\x20'+_0x6c4dc3['toFixed'](0x2)}),_0xc9ca70['push']({'desc':'Nº\x20de\x20cuotas','value':_0x2891cf['data']['length']+_0x37d677(0x31f)}),_0xc9ca70[_0x37d677(0x338)]({'desc':_0x37d677(0x4a5),'value':''}),_0x2891cf['data'][_0x37d677(0x24f)](_0x4583cb=>{const _0x4208ff=_0x37d677;_0xc9ca70[_0x4208ff(0x338)]({'desc':_0x4208ff(0x2fc)+_0x4583cb[_0x4208ff(0x5eb)],'value':_0x4583cb[_0x4208ff(0x47d)]+_0x4208ff(0x133)+parseFloat(_0x4583cb[_0x4208ff(0x449)])['toFixed'](0x2)});});}}}const _0x2eb590=Math[_0x37d677(0x42a)](_0xc9ca70[_0x37d677(0x5d9)],_0x2d4968['length']),_0xea898a=_0x19f54e-_0x3eb379-0xe;_0x46f6b1['drawRectangle']({'x':_0x8347ee,'y':_0x19f54e-_0x3eb379,'width':_0x2fa5c4,'height':_0x3eb379,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1}),_0x46f6b1[_0x37d677(0x356)](_0x3fc044,{'x':_0x8347ee+_0x4d6b34,'y':_0x19f54e-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x37d0ed});_0x1f1600&&_0x46f6b1[_0x37d677(0x356)](_0x1f1600,{'x':_0x8347ee+_0x57c17f+_0x4d6b34,'y':_0x19f54e-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x37d0ed});const _0x1a84c8=_0x57c17f/0x2,_0x471af8=_0x57c17f/0x2;for(let _0x583d42=0x0;_0x583d42<_0x2eb590;_0x583d42++){const _0x51e3d4=_0xea898a-_0x583d42*_0x3065a5+(_0x3065a5-_0x207963)/0x2,_0x4e4b1f=_0xc9ca70[_0x583d42]||{'desc':'','value':''};_0x46f6b1[_0x37d677(0x356)](_0x4e4b1f[_0x37d677(0x528)],{'x':_0x8347ee+_0x4d6b34,'y':_0x51e3d4,'size':_0x207963,'font':_0x2a450f}),_0x46f6b1[_0x37d677(0x356)](_0x4e4b1f[_0x37d677(0x1e8)],{'x':_0x8347ee+_0x1a84c8+_0x4d6b34,'y':_0x51e3d4,'size':_0x207963,'font':_0x2a450f});if(_0x1f1600){const _0xa2c50e=_0x2d4968[_0x583d42]||{'desc':'','value':''};_0x46f6b1[_0x37d677(0x356)](_0xa2c50e[_0x37d677(0x528)],{'x':_0x8347ee+_0x57c17f+_0x4d6b34,'y':_0x51e3d4,'size':_0x207963,'font':_0x2a450f}),_0x46f6b1[_0x37d677(0x356)](_0xa2c50e[_0x37d677(0x1e8)],{'x':_0x8347ee+_0x57c17f+_0x471af8+_0x4d6b34,'y':_0x51e3d4,'size':_0x207963,'font':_0x2a450f});}}const _0x29e795=_0x3eb379+_0x2eb590*_0x3065a5+0x4;if(_0x40d1a7==0x1){const _0x4f0fd9=0xe,_0x3c1cc5=_0x249f37,_0x1996ed=_0x186e95,_0x13eb93=0xe,_0x31b66c=_0x4d6b34;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x3c1cc5,'y':_0x19f54e-_0x13eb93,'width':_0x1996ed,'height':_0x13eb93,'color':_0x343fa9,'borderColor':_0x343fa9,'borderWidth':0x1}),_0x46f6b1['drawText'](_0x37d677(0x225)+_0x379386+'%)',{'x':_0x3c1cc5+_0x31b66c,'y':_0x19f54e-_0x13eb93+(_0x13eb93-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x37d0ed});const _0x7b85b4=_0x1996ed-_0x31b66c*0x2;let _0x58f3cc=_0x19f54e-_0x13eb93-0xe;const _0x5aaeca=[_0x37d677(0x213)+_0x2b52bb+'\x20'+_0x47dbb7,'Bien\x20o\x20Servicio:\x20'+_0x35de49+'\x20'+_0x42fc3a,_0x37d677(0x2af)];let _0x2bd834=_0x58f3cc;for(let _0x1f7779=0x0;_0x1f7779<_0x5aaeca[_0x37d677(0x5d9)];_0x1f7779++){_0x2bd834=_0x518f35(_0x5aaeca[_0x1f7779],_0x3c1cc5+_0x31b66c,_0x58f3cc,_0x7b85b4,_0x2a450f,_0x207963,_0x4f0fd9),_0x58f3cc=_0x2bd834-0x2;}const _0x1caa17=_0x19f54e-_0x13eb93-0x4-_0x2bd834,_0x2e3f51=_0x13eb93+0x4+_0x1caa17;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x3c1cc5,'y':_0x19f54e-_0x2e3f51,'width':_0x1996ed,'height':_0x2e3f51,'borderColor':_0x343fa9,'borderWidth':0x1});const _0x1e4aeb=Math[_0x37d677(0x42a)](_0x29e795,_0x2e3f51);_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x8347ee,'y':_0x19f54e-_0x1e4aeb,'width':_0x2fa5c4,'height':_0x1e4aeb,'borderColor':_0x343fa9,'borderWidth':0x1}),_0x5bb1be=_0x19f54e-_0x1e4aeb-0x5;}else _0x46f6b1[_0x37d677(0x3f4)]({'x':_0x8347ee,'y':_0x19f54e-_0x29e795,'width':_0x2fa5c4,'height':_0x29e795,'borderColor':_0x343fa9,'borderWidth':0x1}),_0x5bb1be=_0x19f54e-_0x29e795-0x5;const _0x504f3f=_0x2fa5c4+_0x186e95,_0x108961=_0x504f3f*0.4,_0x35c94d=_0x504f3f*0.6;if(setObservacion!=''||_0x4925d8!=''){let _0x463511=_0x5bb1be;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x8347ee,'y':_0x463511-_0x3eb379,'width':_0x504f3f,'height':_0x3eb379,'color':_0x2709f8,'borderColor':_0x2709f8,'borderWidth':0x1}),_0x46f6b1[_0x37d677(0x356)]('NOTAS:',{'x':_0x8347ee+_0x4d6b34,'y':_0x463511-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x292dc8}),_0x46f6b1[_0x37d677(0x356)](_0xb46f5f,{'x':_0x8347ee+_0x108961+_0x4d6b34,'y':_0x463511-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x292dc8});const _0x4569a1=_0x463511-_0x3eb379-_0x2bb4e5,_0x13b02d=_0x4569a1-_0x207963;let _0x860ab6=_0x518f35(setObservacion,_0x8347ee+_0x4d6b34,_0x13b02d,_0x108961-_0x4d6b34*0x2,_0x2a450f,_0x207963,_0x4fb658),_0x5ba869=_0x4569a1-_0x860ab6,_0x1af8ea=_0x4569a1;for(let _0x50c15d=0x0;_0x50c15d<_0x252e0e[_0x37d677(0x5d9)];_0x50c15d++){_0x46f6b1[_0x37d677(0x356)](_0x252e0e[_0x50c15d],{'x':_0x8347ee+_0x108961+_0x4d6b34,'y':_0x1af8ea-(_0x4fb658-_0x207963),'size':_0x207963,'font':_0x2a450f}),_0x1af8ea-=_0x4fb658;}let _0x3df3e1=_0x4569a1-_0x1af8ea,_0x70bdf3=Math['max'](_0x5ba869,_0x3df3e1),_0x5e15a7=_0x3eb379+_0x2bb4e5+_0x70bdf3;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x8347ee,'y':_0x463511-_0x5e15a7,'width':_0x504f3f,'height':_0x5e15a7,'borderColor':_0x2709f8,'borderWidth':0x1}),_0x5bb1be=_0x463511-_0x5e15a7-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x236f22=_0x5bb1be;_0x46f6b1[_0x37d677(0x3f4)]({'x':_0x8347ee,'y':_0x236f22-_0x3eb379,'width':_0x504f3f,'height':_0x3eb379,'color':_0x2709f8,'borderColor':_0x2709f8,'borderWidth':0x1}),_0x46f6b1[_0x37d677(0x356)]('DATOS:',{'x':_0x8347ee+_0x4d6b34,'y':_0x236f22-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x292dc8}),_0x46f6b1[_0x37d677(0x356)](_0x37d677(0x36a),{'x':_0x8347ee+_0x108961+_0x4d6b34,'y':_0x236f22-_0x3eb379+(_0x3eb379-_0x207963)/0x2,'size':_0x207963,'font':_0x3f1429,'color':_0x292dc8});const _0xa3f2f8=setUrlConsultasCpe,_0x572e11='AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x2a884d=_0xa3f2f8[_0x37d677(0x634)]('\x0a'),_0x5a2548=_0x572e11['split']('\x0a'),_0x2e1f61=_0x2a884d[_0x37d677(0x5d9)]*_0x4fb658,_0x5864f1=_0x5a2548[_0x37d677(0x5d9)]*_0x4fb658,_0x50942b=Math['max'](_0x2e1f61,_0x5864f1);let _0x5630fb=_0x3eb379+_0x2bb4e5+_0x50942b;_0x46f6b1['drawRectangle']({'x':_0x8347ee,'y':_0x236f22-_0x5630fb,'width':_0x504f3f,'height':_0x5630fb,'borderColor':_0x2709f8,'borderWidth':0x1});let _0x1526f1=_0x236f22-_0x5630fb,_0x279cea=_0x1526f1+_0x2e1f61,_0x56e14d=_0x1526f1+_0x5864f1;for(let _0x14135e=0x0;_0x14135e<_0x2a884d[_0x37d677(0x5d9)];_0x14135e++){_0x46f6b1[_0x37d677(0x356)](_0x2a884d[_0x14135e],{'x':_0x8347ee+_0x4d6b34,'y':_0x279cea-_0x14135e*_0x4fb658-(_0x4fb658-_0x207963),'size':_0x207963,'font':_0x2a450f});}for(let _0x2312d3=0x0;_0x2312d3<_0x5a2548[_0x37d677(0x5d9)];_0x2312d3++){_0x46f6b1['drawText'](_0x5a2548[_0x2312d3],{'x':_0x8347ee+_0x108961+_0x4d6b34,'y':_0x56e14d-_0x2312d3*_0x4fb658-(_0x4fb658-_0x207963),'size':_0x207963,'font':_0x2a450f});}_0x5bb1be=_0x236f22-_0x5630fb-0xa;}else _0x5bb1be-=0xa;}}return _0x5bb1be;}function imprimirPdf(){const _0x26467e=_0x773bc5;if(!pdfGlobalBlob){ntfShow(_0x26467e(0x471));return;}const _0xb92cbb=URL[_0x26467e(0x59d)](pdfGlobalBlob),_0x5130a6=window['open'](_0xb92cbb,_0x26467e(0x3a5));_0x5130a6[_0x26467e(0x395)]=()=>{const _0x2dacd5=_0x26467e;_0x5130a6['focus'](),_0x5130a6[_0x2dacd5(0x32f)](),URL['revokeObjectURL'](_0xb92cbb);};}function descargarPdf(){const _0xfcca67=_0x773bc5;if(!pdfGlobalBlob)return ntfShow(_0xfcca67(0x471));const _0x37df92=URL[_0xfcca67(0x59d)](pdfGlobalBlob),_0x56b31e=document[_0xfcca67(0x49d)]('a');_0x56b31e[_0xfcca67(0x5ac)]=_0x37df92,_0x56b31e[_0xfcca67(0x4ad)]='documento.pdf',_0x56b31e[_0xfcca67(0x44b)](),URL[_0xfcca67(0x666)](_0x37df92);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0x422e88,_0x4545dd=0x0){const _0x4eb354=_0x773bc5;document['querySelectorAll'](_0x4eb354(0x654))[_0x4eb354(0x24f)](_0x13c4b5=>_0x13c4b5['classList']['remove'](_0x4eb354(0x370)));const _0x5c2f8a=document['querySelectorAll']('.'+_0x422e88);_0x5c2f8a[_0x4eb354(0x24f)](_0x2617e6=>_0x2617e6[_0x4eb354(0x2e5)][_0x4eb354(0x273)](_0x4eb354(0x370)));const _0x13fe5c=_0x422e88[_0x4eb354(0x634)]('-')[0x1];document['getElementById'](_0x4eb354(0xe8))[_0x4eb354(0x1e8)]=_0x13fe5c;const _0x465234=document['getElementById'](_0x4eb354(0xff));_0x465234['value']='tab-'+_0x13fe5c,await new Promise(_0x2753cd=>setTimeout(_0x2753cd,0x12c)),renderProducts();const _0x2dc1f6=getValidatedWindowAndShift(_0x13fe5c),{currentWindowShift:_0x200d77}=_0x2dc1f6;if(_0x200d77){const _0x1ec516=document['getElementById'](_0x4eb354(0x185)+_0x13fe5c);if(_0x1ec516){const _0x41cb95=_0x1ec516[_0x4eb354(0x1e8)];if(!setTipOpeOrders[_0x4eb354(0x615)](_0x5c31f0=>_0x5c31f0==_0x41cb95)){let _0x438e4f=null;for(const _0x58addb of setTipOpeOrders){const _0x1a139e=Array['from'](_0x1ec516[_0x4eb354(0xf8)])[_0x4eb354(0x615)](_0x2c2205=>_0x2c2205['value']==_0x58addb);if(_0x1a139e){_0x438e4f=_0x58addb;break;}}_0x438e4f!==null&&(_0x1ec516[_0x4eb354(0x1e8)]=_0x438e4f);}}}parseInt(window_options[_0x13fe5c][_0x4eb354(0x5f1)])!=0x1&&(window_options[_0x13fe5c]['setFechaHora']=obtener_fechaHora());const _0x261689=document['getElementById'](_0x4eb354(0x185)+_0x13fe5c)[_0x4eb354(0x1e8)];await updateSerieOptions(_0x261689,_0x13fe5c),_0x4545dd==0x1&&await setOrders(_0x13fe5c);}async function setOrders(_0x236275){const _0x1082ad=_0x773bc5,_0x1c3aed=getValidatedWindowAndShift(_0x236275);if(!_0x1c3aed)return;const {windowObj:_0x4b2596,currentWindowShift:_0x3acf4f}=_0x1c3aed;if(_0x3acf4f){const _0x2f218a=_0x3acf4f[_0x1082ad(0x264)],_0x22a311=_0x3acf4f['setOrders']||[];console[_0x1082ad(0x415)](_0x1082ad(0x246),_0x22a311);const _0x3d9bce=_0x22a311['some'](_0xd64a4b=>_0xd64a4b['setWindowShiftId']==_0x2f218a&&setTipOpeSales[_0x1082ad(0x615)](_0x340352=>_0x340352==_0xd64a4b[_0x1082ad(0x4ee)]));if(!_0x3d9bce){await removeAllFromCart(_0x236275,0x1);const _0x3455ab=_0x22a311[_0x1082ad(0xdc)](_0x34f2e0=>{const _0x1e7415=_0x1082ad;return _0x34f2e0['setWindowShiftId']==_0x2f218a&&setTipOpeOrders['some'](_0x5de320=>_0x5de320==_0x34f2e0[_0x1e7415(0x4ee)]);});for(const _0x3f36c5 of _0x3455ab){let _0xe9b09e=_0x3f36c5[_0x1082ad(0x1d5)];if(Array[_0x1082ad(0x269)](_0x3f36c5['setProductos']))for(const _0x3846d3 of _0x3f36c5['setProductos']){if(carts[_0x236275]&&carts[_0x236275]['some'](_0x3e20c4=>_0x3e20c4[_0x1082ad(0x11e)]==_0x3846d3[_0x1082ad(0x11e)]))continue;const _0x47e5f5=products[_0x1082ad(0x189)](_0x132f10=>_0x132f10['id']==_0x3846d3[_0x1082ad(0x623)]);_0x47e5f5&&(await new Promise(_0x1d940a=>setTimeout(_0x1d940a,0x64)),addToCart(_0x47e5f5,{'setValorCantidad':_0x3846d3[_0x1082ad(0x121)],'setMtoPrecioUnitario_final':_0x3846d3[_0x1082ad(0x5da)],'setTaxId':_0x3846d3['setTaxId'],'setTipAfeIgv':_0x3846d3[_0x1082ad(0x564)],'setPorcentajeDesc':_0x3846d3[_0x1082ad(0x171)],'setNotas':_0x3846d3['setNotas'],'cartId':_0x3846d3['cartId'],'setWindowShiftId':_0x2f218a,'setOrderId':_0xe9b09e,'setMtoPrecioUnitario_input':_0x3846d3[_0x1082ad(0x298)],'setMtoPrecioCostoUnitario_input':_0x3846d3['setMtoPrecioCostoUnitario_input']},0x1));}}}}else _0x4b2596['setWindowStatus']==_0x1082ad(0x3b6)&&await removeAllFromCart(_0x236275,0x1);}function showModalWindowShift(){const _0x57b7ce=_0x773bc5,_0x1c5080=document[_0x57b7ce(0x536)]('detalleModalWindowShift'),_0x5b7b23=document[_0x57b7ce(0x536)](_0x57b7ce(0x354));_0x1c5080[_0x57b7ce(0x2e5)][_0x57b7ce(0x273)](_0x57b7ce(0x370)),_0x5b7b23[_0x57b7ce(0x478)]['display']=_0x57b7ce(0xe5);}function hideModalWindowShift(){const _0x2ed1aa=_0x773bc5,_0x2ad3d8=document[_0x2ed1aa(0x536)](_0x2ed1aa(0x50c)),_0x1ed4b4=document[_0x2ed1aa(0x536)](_0x2ed1aa(0x354));_0x2ad3d8[_0x2ed1aa(0x2e5)]['remove'](_0x2ed1aa(0x370)),_0x1ed4b4[_0x2ed1aa(0x478)][_0x2ed1aa(0x100)]='none';}document[_0x773bc5(0x536)](_0x773bc5(0x1ee))['addEventListener']('click',hideModalWindowShift),document[_0x773bc5(0x536)](_0x773bc5(0x354))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),_0x36423c=>{const _0x4fc107=_0x773bc5;_0x36423c[_0x4fc107(0x5f4)]==_0x36423c[_0x4fc107(0x446)]&&_0x36423c[_0x4fc107(0x1e5)]();});function getValidatedWindowAndShift(_0x50e1fb){const _0x4ccf2e=_0x773bc5,_0x2d6bf4=myCompany['setWindows'][_0x4ccf2e(0x189)](_0x134765=>_0x134765[_0x4ccf2e(0xf1)]==_0x50e1fb);if(!_0x2d6bf4)return null;!_0x2d6bf4['setShifts']&&(_0x2d6bf4[_0x4ccf2e(0x40c)]=[]);const _0x36d9e2=_0x2d6bf4[_0x4ccf2e(0x40c)]['find'](_0x182be5=>_0x182be5[_0x4ccf2e(0x50a)]=='1');return{'windowObj':_0x2d6bf4,'currentWindowShift':_0x36d9e2};}async function updateWindowShiftDisplay(_0x439970){const _0xdc7c4c=_0x773bc5,_0x1c5d3e=document[_0xdc7c4c(0x536)]('windowShiftContent');_0x1c5d3e['innerHTML']='';const _0x43e833=getValidatedWindowAndShift(_0x439970);if(!_0x43e833)return;const {windowObj:_0x570ca5,currentWindowShift:_0x929e6a}=_0x43e833;if(!_0x929e6a){const _0x1675f1=_0x570ca5;let _0x55854a,_0x52328a;if(_0x1675f1[_0xdc7c4c(0x5f6)]==_0xdc7c4c(0x2c9))_0x55854a='Aperturar\x20Ventana',_0x52328a=_0xdc7c4c(0x3b7);else{if(_0x1675f1[_0xdc7c4c(0x5f6)]=='table')_0x55854a=_0xdc7c4c(0x27b),_0x52328a=_0xdc7c4c(0x540);else{if(_0x1675f1[_0xdc7c4c(0x5f6)]=='room')_0x55854a=_0xdc7c4c(0x4bf),_0x52328a=_0xdc7c4c(0x67d);else _0x1675f1[_0xdc7c4c(0x5f6)]==_0xdc7c4c(0x33f)&&(_0x55854a=_0xdc7c4c(0x499),_0x52328a='./img/layout/icon-window.svg');}}const _0x47ef0e=document[_0xdc7c4c(0x49d)](_0xdc7c4c(0x208));_0x47ef0e[_0xdc7c4c(0x374)]=_0xdc7c4c(0x1bd);const _0x383080=document[_0xdc7c4c(0x49d)](_0xdc7c4c(0x208));_0x383080[_0xdc7c4c(0x374)]=_0xdc7c4c(0x358);const _0x3f6cb=document[_0xdc7c4c(0x49d)](_0xdc7c4c(0x4a2));_0x3f6cb['className']=_0xdc7c4c(0x5e5),_0x3f6cb[_0xdc7c4c(0x567)]=_0x52328a,_0x3f6cb[_0xdc7c4c(0x508)]=_0x55854a,_0x383080['appendChild'](_0x3f6cb);const _0x165e35=document[_0xdc7c4c(0x49d)](_0xdc7c4c(0x208));_0x165e35[_0xdc7c4c(0x374)]=_0xdc7c4c(0xfb);const _0x32b0fe=document[_0xdc7c4c(0x49d)]('h2');_0x32b0fe['className']=_0xdc7c4c(0x584),_0x32b0fe[_0xdc7c4c(0x181)]=_0x55854a;const _0x3a0d6d=document[_0xdc7c4c(0x49d)](_0xdc7c4c(0x208));_0x3a0d6d[_0xdc7c4c(0x374)]=_0xdc7c4c(0x11a);const _0x49171e=document['createElement'](_0xdc7c4c(0x529));_0x49171e[_0xdc7c4c(0x374)]=_0xdc7c4c(0x4d0),_0x49171e['id']='btnWindowShiftStart',_0x49171e['textContent']=_0xdc7c4c(0x1ed),_0x49171e[_0xdc7c4c(0x2fd)](_0xdc7c4c(0x44b),()=>openWindowShift(_0x439970)),_0x3a0d6d[_0xdc7c4c(0x390)](_0x49171e),_0x165e35[_0xdc7c4c(0x390)](_0x32b0fe),_0x165e35[_0xdc7c4c(0x390)](_0x3a0d6d),_0x47ef0e['appendChild'](_0x383080),_0x47ef0e[_0xdc7c4c(0x390)](_0x165e35),_0x1c5d3e['appendChild'](_0x47ef0e),showModalWindowShift();}else{}}async function openWindowShift(_0x22403e){const _0x215e16=_0x773bc5,_0x17f05e=document[_0x215e16(0x536)]('btnWindowShiftStart');if(!_0x17f05e){console[_0x215e16(0x47f)](_0x215e16(0x649));return;}const _0x365268=getValidatedWindowAndShift(_0x22403e);if(!_0x365268){ntfShow('Error.\x20La\x20ventana\x20no\x20existe.');return;}const {windowObj:_0x2c496b,currentWindowShift:_0x2a5653}=_0x365268;if(_0x2a5653){ntfShow(_0x215e16(0x23c));return;}_0x17f05e[_0x215e16(0x5bd)]=!![],hideModalWindowShift(),showLoadingModal();const _0x1e1a7a=new Date(),_0x46c023=_0x215e16(0x481),_0x14bf40=generateUniqId();_0x2c496b[_0x215e16(0x40c)]['push']({'setShiftId':_0x14bf40,'setShiftStatus':'1','setShiftDateStart':_0x1e1a7a,'setShiftDateEnd':_0x46c023,'setShiftUserEmail':myCompany[_0x215e16(0x46b)][_0x215e16(0x104)]}),_0x2c496b[_0x215e16(0x672)]=_0x215e16(0x1ef),_0x2c496b[_0x215e16(0x64c)]=new Date();const _0x527cf9=await createCartStore('');await saveCompanyToIndexedDB(company,_0x527cf9),ntfShow(_0x215e16(0x61a)+_0x1e1a7a['toLocaleString']()),await apiERPsyncWindows();const _0x576c4f='tab-'+_0x22403e;await switchTab(_0x576c4f,0x1),_0x17f05e[_0x215e16(0x5bd)]=![],hideLoadingModal();}function getMaxWindowId(_0x171803){const _0x5e918d=_0x773bc5,_0x11a729=Object[_0x5e918d(0x64f)](_0x171803);if(_0x11a729[_0x5e918d(0x5d9)]==0x0)return 0x0;return Math[_0x5e918d(0x42a)](..._0x11a729['map'](_0x5b3933=>parseInt(_0x5b3933,0xa)));}function updateTab(_0x49eeb1){return new Promise(_0x5902b4=>{const _0x47d7b2=_0xd9f0,_0x1d2e17=myCompany[_0x47d7b2(0x4b8)]['find'](_0x424518=>_0x424518[_0x47d7b2(0xf1)]==_0x49eeb1);if(!_0x1d2e17){console[_0x47d7b2(0x47f)](_0x47d7b2(0x58a)+_0x49eeb1),_0x5902b4();return;}const _0x1dc509=_0x47d7b2(0x1c5)+_0x49eeb1,_0x19d7ad=document[_0x47d7b2(0x536)]('selectTab'),_0x3953d2=document[_0x47d7b2(0x49d)](_0x47d7b2(0x4f0));_0x3953d2[_0x47d7b2(0x1e8)]=_0x1dc509,_0x3953d2[_0x47d7b2(0x181)]=_0x1d2e17[_0x47d7b2(0x399)],_0x19d7ad[_0x47d7b2(0x390)](_0x3953d2),createFormElements(_0x1dc509),_0x5902b4();});}async function addNewTab(_0x5a90b7){const _0x3f064a=_0x773bc5;if(parseFloat(_0x5a90b7)===0x0){ntfShow(_0x3f064a(0x197));return;}let _0x33d80d=_0x5a90b7;tabCount=parseFloat(_0x5a90b7),carts[_0x33d80d]=[],window_options[_0x33d80d]={};try{await createCartStore(_0x33d80d),await updateTab(_0x33d80d);}catch(_0x2bc8fd){console[_0x3f064a(0x47f)](_0x3f064a(0x4fa),_0x2bc8fd);}}searchInput[_0x773bc5(0x2fd)](_0x773bc5(0x513),()=>{const _0x4bd257=_0x773bc5,_0x193e5d=searchInput[_0x4bd257(0x1e8)];renderProducts(_0x193e5d);}),document[_0x773bc5(0x536)]('itemsPerPageSelect')[_0x773bc5(0x602)]=_0x578ad2=>{const _0x23069f=_0x773bc5;itemsPerPage=parseInt(_0x578ad2[_0x23069f(0x5f4)][_0x23069f(0x1e8)],0xa),currentPage=0x1,renderProducts(searchInput[_0x23069f(0x1e8)]);};function procesarProductos(_0x491e5e){const _0x36aa7b=_0x773bc5,_0x3ec8bd=parseFloat(_0x491e5e[_0x36aa7b(0x26c)])||0x0,_0x298a89=_0x491e5e[_0x36aa7b(0x1f7)],_0x24ea32=parseFloat(_0x491e5e['descuentoGlobalMonto'])||0x0,_0x1151fc=_0x3ec8bd/0x64,_0x25cfc3={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x5927cd=[];for(const _0xdd4335 of _0x298a89){if(!_0xdd4335[_0x36aa7b(0x30c)]||!_0xdd4335[_0x36aa7b(0x564)])throw new Error(_0x36aa7b(0x30a));let {valorUnit:_0x3fa9aa,precioUnit:_0x22cffd,valorCantidad:_0x3887c3,valorPorcentajeIgv:_0x5e6330,setTipAfeIgv:_0x56fdca,setDescuento:_0x516a63}=_0xdd4335;const _0x42da11=_0x516a63?.[_0x36aa7b(0x452)]||'',_0x449c9b=_0x516a63?.['setPorcentajeDesc']||0x0;!_0x3fa9aa?_0x3fa9aa=setTipAfeImpGravados['some'](_0x1df6aa=>_0x1df6aa==_0x56fdca)?_0x22cffd/(0x1+_0x5e6330/0x64):_0x22cffd:_0x22cffd=setTipAfeImpGravados[_0x36aa7b(0x615)](_0xee0c4b=>_0xee0c4b==_0x56fdca)?_0x3fa9aa+_0x3fa9aa*(_0x5e6330/0x64):_0x3fa9aa;let _0xfe967e=0x0,_0x36f550=0x0,_0x29625e=0x0,_0x40160b=0x0,_0x507afc=0x0,_0x3c4f54=0x0,_0x580d7c=0x0,_0x2bce4e=0x0,_0x126cc5=0x0,_0x57d066=0x0,_0x1ece9b=0x0,_0x48ba96=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x36aa7b(0x615)](_0x3956fe=>_0x3956fe==_0x56fdca):_0xfe967e=_0x3fa9aa,_0x36f550=0x0,_0x29625e=_0xfe967e*_0x3887c3;_0x449c9b>0x0&&(_0x2bce4e=_0x449c9b/0x64,_0x126cc5=_0x29625e,_0x57d066=_0x126cc5*_0x2bce4e,_0x1ece9b=(_0x126cc5+_0x126cc5*(_0x5e6330/0x64))*_0x2bce4e,_0x29625e-=_0x57d066,_0x25cfc3[_0x36aa7b(0x1a1)]+=_0x57d066,_0x25cfc3[_0x36aa7b(0x5ea)]+=_0x1ece9b);_0x40160b=_0x29625e,_0x3c4f54=_0x40160b*(_0x5e6330/0x64),_0x507afc=_0x5e6330,_0x580d7c=(_0x29625e+_0x3c4f54)/_0x3887c3,_0x25cfc3[_0x36aa7b(0x20f)]+=_0x29625e,_0x25cfc3['setMtoIGV']+=_0x3c4f54;break;case setTipAfeImpExonerados[_0x36aa7b(0x615)](_0xbfe529=>_0xbfe529==_0x56fdca)||setTipAfeImpInafectos[_0x36aa7b(0x615)](_0x12eff2=>_0x12eff2==_0x56fdca):_0xfe967e=_0x3fa9aa,_0x36f550=0x0,_0x29625e=_0xfe967e*_0x3887c3;_0x449c9b>0x0&&(_0x2bce4e=_0x449c9b/0x64,_0x126cc5=_0x29625e,_0x57d066=_0x126cc5*_0x2bce4e,_0x1ece9b=_0x57d066,_0x29625e-=_0x57d066,_0x25cfc3[_0x36aa7b(0x1a1)]+=_0x57d066,_0x25cfc3['setMtoDescItems_precio']+=_0x1ece9b);_0x40160b=_0x29625e,_0x3c4f54=0x0,_0x507afc=0x0,_0x580d7c=(_0x29625e+_0x3c4f54)/_0x3887c3;setTipAfeImpExonerados[_0x36aa7b(0x615)](_0x4693d4=>_0x4693d4==_0x56fdca)?_0x25cfc3['setMtoOperExoneradas']+=_0x29625e:_0x25cfc3[_0x36aa7b(0x24e)]+=_0x29625e;break;case setTipAfeImpGravadosGrat[_0x36aa7b(0x615)](_0x2431d1=>_0x2431d1==_0x56fdca):_0xfe967e=0x0,_0x36f550=_0x3fa9aa,_0x29625e=_0x36f550*_0x3887c3,_0x40160b=_0x29625e,_0x3c4f54=_0x40160b*(_0x5e6330/0x64),_0x507afc=_0x5e6330,_0x580d7c=0x0,_0x25cfc3[_0x36aa7b(0x236)]+=_0x29625e,_0x25cfc3['setMtoIGVGratuitas']+=_0x3c4f54;break;case setTipAfeImpExoneradosGrat[_0x36aa7b(0x615)](_0x58ed77=>_0x58ed77==_0x56fdca)||setTipAfeImpInafectosGrat[_0x36aa7b(0x615)](_0x3df11f=>_0x3df11f==_0x56fdca):_0xfe967e=0x0,_0x36f550=_0x3fa9aa,_0x29625e=_0x36f550*_0x3887c3,_0x40160b=_0x29625e,_0x3c4f54=0x0,_0x507afc=0x0,_0x580d7c=0x0,_0x25cfc3[_0x36aa7b(0x236)]+=_0x29625e;break;default:console[_0x36aa7b(0x47f)](_0x36aa7b(0x31d)+_0x56fdca);continue;}_0x48ba96=_0x580d7c*_0x3887c3,_0x5927cd['push']({'setMtoValorUnitario':_0xfe967e,'setMtoValorGratuito':_0x36f550,'setMtoValorVenta':_0x29625e,'setMtoBaseIgv':_0x40160b,'setPorcentajeIgv':_0x507afc,'setIgv':_0x3c4f54,'setTipAfeIgv':_0x56fdca,'setTotalImpuestos':_0x3c4f54,'setMtoPrecioUnitario':_0x580d7c,'setDescuento_setCodTipo':_0x42da11,'setDescuento_setMontoBase':_0x126cc5,'setDescuento_setFactor':_0x2bce4e,'setDescuento_setMonto':_0x57d066,'setDescuento_setMonto_precio':_0x1ece9b,'setPorcentajeDesc':_0x449c9b,'setTotal':_0x48ba96,'setMtoValorUnitario_final':_0x3fa9aa,'setMtoPrecioUnitario_final':_0x22cffd});}_0x25cfc3[_0x36aa7b(0x39f)]=_0x25cfc3[_0x36aa7b(0x2ee)],_0x25cfc3[_0x36aa7b(0x2ce)]=_0x25cfc3['setMtoOperGravadas']+_0x25cfc3['setMtoOperExoneradas']+_0x25cfc3[_0x36aa7b(0x24e)],_0x25cfc3['setSubTotal']=_0x25cfc3[_0x36aa7b(0x2ce)]+_0x25cfc3['setTotalImpuestos'],_0x25cfc3[_0x36aa7b(0x270)]=_0x25cfc3[_0x36aa7b(0x510)];if(_0x24ea32>0x0){const _0x51c5f8=_0x24ea32/(0x1+_0x1151fc),_0x3a32e9=_0x51c5f8*(_0x25cfc3[_0x36aa7b(0x20f)]/_0x25cfc3[_0x36aa7b(0x2ce)]),_0x3023fb=_0x24ea32*(_0x25cfc3[_0x36aa7b(0x3b0)]/_0x25cfc3[_0x36aa7b(0x2ce)]),_0x3342e2=_0x24ea32*(_0x25cfc3[_0x36aa7b(0x24e)]/_0x25cfc3['setValorVenta']);_0x25cfc3[_0x36aa7b(0x20f)]-=_0x3a32e9,_0x25cfc3[_0x36aa7b(0x3b0)]-=_0x3023fb,_0x25cfc3[_0x36aa7b(0x24e)]-=_0x3342e2,_0x25cfc3[_0x36aa7b(0x2ee)]=_0x25cfc3[_0x36aa7b(0x20f)]*_0x1151fc,_0x25cfc3['setTotalImpuestos']=_0x25cfc3[_0x36aa7b(0x2ee)],_0x25cfc3['setValorVenta']=_0x25cfc3[_0x36aa7b(0x20f)]+_0x25cfc3['setMtoOperExoneradas']+_0x25cfc3[_0x36aa7b(0x24e)],_0x25cfc3[_0x36aa7b(0x510)]=_0x25cfc3[_0x36aa7b(0x2ce)]+_0x25cfc3[_0x36aa7b(0x39f)],_0x25cfc3['setMtoImpVenta']=_0x25cfc3[_0x36aa7b(0x510)];}return{'setInvoice':_0x25cfc3,'setInvoiceDetails':_0x5927cd};}function selectAllChecks(_0x50f90f){const _0x43740f=_0x773bc5,_0x53a82d=document[_0x43740f(0x536)]('itemCheckboxAll-'+_0x50f90f),_0x4c2596=_0x53a82d[_0x43740f(0x519)],_0x17b455=document['querySelectorAll']('.itemCheckbox-'+_0x50f90f);_0x17b455[_0x43740f(0x24f)](_0x310732=>{const _0x18f679=_0x43740f;_0x310732[_0x18f679(0x519)]=_0x4c2596,_0x310732[_0x18f679(0x1e8)]=_0x4c2596?0x1:0x0;}),carts[_0x50f90f][_0x43740f(0x24f)](_0x425ef6=>{_0x425ef6['setChecked']=_0x4c2596?0x1:0x0;}),renderCart(_0x50f90f);}async function setPreAccount(_0xcfc406){const _0x5a6928=_0x773bc5;showLoadingModal(),await setBill(_0xcfc406);const _0x3acebb=buildPayload(_0xcfc406),{pdfBlob:_0xad0d7a,pdfName:_0x5a82d5}=await generatePdf(_0x3acebb,'tk',_0x5a6928(0x489),_0x5a6928(0x27a),0x1);hideLoadingModal(),pdfGlobalBlob=_0xad0d7a,pdfGlobalName=_0x5a82d5,showModal();const _0x5e6ffe=getValidatedWindowAndShift(_0xcfc406);if(_0x5e6ffe){const {windowObj:_0x523f4e,currentWindowShift:_0x4e3ea3}=_0x5e6ffe;if(_0x4e3ea3){_0x4e3ea3[_0x5a6928(0x138)]=new Date(),_0x523f4e[_0x5a6928(0x672)]='collect',_0x523f4e['setLastDateUpdate']=new Date();const _0x2df6fa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2df6fa),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x4b652c){const _0xb1a85c=_0x773bc5,_0x34c942=parseInt(_0x4b652c,0xa),_0x12ff3c=elementos[_0xb1a85c(0x189)](_0x4d7f9f=>_0x4d7f9f[_0xb1a85c(0xf1)]===_0x34c942);if(!_0x12ff3c)return console[_0xb1a85c(0x13e)]('No\x20se\x20encontró\x20la\x20ventana',_0x34c942);await clickMesa(_0x12ff3c,0x0),await setPreAccount(_0x4b652c);const _0x1f6219=document[_0xb1a85c(0x536)](_0xb1a85c(0x4cf))['value'];handleTabSelection(_0x1f6219);}async function setBill(_0x523082){const _0x9923b0=_0x773bc5,_0x11f8c1=document[_0x9923b0(0x536)](_0x9923b0(0x185)+_0x523082);if(_0x11f8c1){let _0x1cf1e2=null;for(const _0x3b6b11 of setTipOpeSales){const _0x122577=Array[_0x9923b0(0x322)](_0x11f8c1[_0x9923b0(0xf8)])[_0x9923b0(0x615)](_0x5f43ff=>_0x5f43ff[_0x9923b0(0x1e8)]==_0x3b6b11);if(_0x122577){_0x1cf1e2=_0x3b6b11;break;}}_0x1cf1e2!==null?(window_options[_0x523082]['setTipoOperacion']=_0x1cf1e2,await updateSerieOptions(_0x1cf1e2,_0x523082),renderCart(_0x523082)):console[_0x9923b0(0x13e)](_0x9923b0(0x192));}else console[_0x9923b0(0x47f)](_0x9923b0(0x3a9));}function renderCart(_0x5d471f){const _0x3d374f=_0x773bc5,_0x11ff41=document[_0x3d374f(0x536)](_0x3d374f(0x139)+_0x5d471f),_0x414a7d=document[_0x3d374f(0x536)](_0x3d374f(0x140)+_0x5d471f),_0x1a8fc8=document[_0x3d374f(0x536)](_0x3d374f(0x4c3)+_0x5d471f),_0x110e90=document[_0x3d374f(0x536)]('float-right-OpGravada-'+_0x5d471f),_0x110fa4=document[_0x3d374f(0x536)]('float-right-OpExonerada-'+_0x5d471f),_0x52a177=document['getElementById']('float-right-OpInafecta-'+_0x5d471f),_0x411415=document['getElementById'](_0x3d374f(0x5a5)+_0x5d471f),_0x5c734d=document[_0x3d374f(0x536)]('float-right-Subtotal-'+_0x5d471f),_0x318d80=document[_0x3d374f(0x536)]('float-right-TotalIgv-'+_0x5d471f),_0x55b252=document[_0x3d374f(0x536)]('float-right-TotalIgvGratuitas-'+_0x5d471f),_0x1b00f1=document[_0x3d374f(0x536)](_0x3d374f(0x610)+_0x5d471f);_0x11ff41[_0x3d374f(0x535)]='';const _0x3ead07=carts[_0x5d471f];let _0x197ddc,_0x41652f;if(setTipOpeOrders[_0x3d374f(0x615)](_0x46850a=>_0x46850a==window_options[_0x5d471f][_0x3d374f(0x4ee)]))_0x197ddc=_0x3ead07['filter'](_0x5ac5a8=>_0x5ac5a8['setChecked']==0x1&&_0x5ac5a8['setWindowShiftId']==''),_0x41652f=myCompany[_0x3d374f(0x45f)][_0x3d374f(0xdc)](_0x507ee8=>_0x507ee8['setAccountingAccountType']==0x1);else{if(setTipOpeSales[_0x3d374f(0x615)](_0x3c1045=>_0x3c1045==window_options[_0x5d471f]['setTipoOperacion'])||setTipOpeQuotation[_0x3d374f(0x615)](_0x500f57=>_0x500f57==window_options[_0x5d471f][_0x3d374f(0x4ee)]))_0x197ddc=_0x3ead07['filter'](_0x3a1086=>_0x3a1086['setChecked']==0x1),_0x41652f=myCompany[_0x3d374f(0x45f)]['filter'](_0x35ea4f=>_0x35ea4f[_0x3d374f(0x52f)]==0x1);else setTipOpePurchases[_0x3d374f(0x615)](_0x29eab2=>_0x29eab2==window_options[_0x5d471f][_0x3d374f(0x4ee)])&&(_0x197ddc=_0x3ead07[_0x3d374f(0xdc)](_0x1769b2=>_0x1769b2[_0x3d374f(0x1ca)]==0x1),_0x41652f=myCompany[_0x3d374f(0x45f)]['filter'](_0x42deff=>_0x42deff[_0x3d374f(0x52f)]==0x2));}const _0x2b64b4=_0x197ddc[_0x3d374f(0x1b5)](_0x15225e=>({'valorUnit':_0x15225e[_0x3d374f(0x5de)],'precioUnit':_0x15225e['setMtoPrecioUnitario_final'],'valorCantidad':_0x15225e[_0x3d374f(0x121)],'valorPorcentajeIgv':_0x15225e[_0x3d374f(0x330)],'setTipAfeIgv':_0x15225e[_0x3d374f(0x564)],'setDescuento':{'setCodTipo':_0x15225e[_0x3d374f(0x655)]?.[_0x3d374f(0x452)]||'00','setPorcentajeDesc':_0x15225e[_0x3d374f(0x655)]?.['setPorcentajeDesc']||0x0}})),_0x23d552=window_options[_0x5d471f],_0x2e6c4c=_0x23d552[_0x3d374f(0x3a6)],{setInvoice:_0x987953}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x3d374f(0x1b2)][_0x3d374f(0x189)](_0x4a3033=>_0x4a3033['setTaxId']==myCompany[_0x3d374f(0x4c4)])?.[_0x3d374f(0x11d)],'items':_0x2b64b4,'descuentoGlobalMonto':_0x2e6c4c}),_0xa0dcf7={..._0x23d552,..._0x987953};window_options[_0x5d471f]=_0xa0dcf7;const {setMtoOperGravadas:_0x681992,setMtoOperExoneradas:_0x4e3f0b,setMtoOperInafectas:_0x5b0341,setValorVenta:_0x2fb892,setMtoIGV:_0x51669b,setMtoImpVenta:_0x117525,setMtoOperGratuitas:_0x2170f7,setMtoIGVGratuitas:_0x5c869b,setMtoDescItems_precio:_0x50f0a9}=_0x987953,_0x45f43c=document[_0x3d374f(0x536)](_0x3d374f(0x1d6)+_0x5d471f),_0x9ab0bc=_0x23d552[_0x3d374f(0x4ee)];parseFloat(_0x5c869b)>0x0&&(_0x9ab0bc=='3'||_0x9ab0bc=='4'||_0x9ab0bc=='7'||_0x9ab0bc=='11'||_0x9ab0bc=='14'||_0x9ab0bc=='17'||_0x9ab0bc=='18'||_0x9ab0bc=='21'||_0x9ab0bc=='24')?_0x45f43c[_0x3d374f(0x2e5)][_0x3d374f(0x1ce)]('d-none'):_0x45f43c[_0x3d374f(0x2e5)]['add'](_0x3d374f(0x661));const _0x9679c2=document[_0x3d374f(0x536)](_0x3d374f(0x3c9)+_0x5d471f);parseFloat(_0x50f0a9)>0x0?_0x9679c2[_0x3d374f(0x2e5)][_0x3d374f(0x1ce)]('d-none'):_0x9679c2[_0x3d374f(0x2e5)][_0x3d374f(0x273)](_0x3d374f(0x661));let _0x310432;parseInt(window_options[_0x5d471f][_0x3d374f(0x4e5)])==0x1?_0x310432='':_0x310432='hidden';const _0x3ebe6f=getUserPermissionApiERP(0xc);_0x3ead07[_0x3d374f(0x24f)]((_0x3af117,_0x89e2f8)=>{const _0x55900e=_0x3d374f;let _0x3d1851='';_0x3af117['setWindowShiftId']!=''&&(_0x3d1851='hidden');const _0x2b6cfa=document[_0x55900e(0x49d)](_0x55900e(0x208));_0x2b6cfa[_0x55900e(0x374)]=_0x55900e(0x2f5);const _0x5d3f28=document[_0x55900e(0x49d)](_0x55900e(0x208));_0x5d3f28[_0x55900e(0x374)]=_0x55900e(0x5d2);const _0x28c72e=document[_0x55900e(0x49d)](_0x55900e(0x208));_0x28c72e['id']=_0x55900e(0x39b)+_0x5d471f+'-'+_0x3af117['id'];_0x3af117[_0x55900e(0x3be)]==0x1?_0x28c72e[_0x55900e(0x374)]='cart-item-options':_0x28c72e[_0x55900e(0x374)]=_0x55900e(0x511);const _0x4edd9b=createElement(_0x55900e(0x513),{'type':'checkbox','class':_0x55900e(0x193)+_0x5d471f+'\x20'+_0x310432,'value':_0x3af117[_0x55900e(0x1ca)],'events':{'click':_0x251b48=>updateCartItem(_0x5d471f,_0x89e2f8,_0x55900e(0x1ca),_0x251b48[_0x55900e(0x5f4)]['value'])}});_0x3af117['setChecked']==0x1&&(_0x4edd9b[_0x55900e(0x519)]='checked');_0x5d3f28[_0x55900e(0x390)](_0x4edd9b);const _0x43f036=products['find'](_0x1a2c60=>_0x1a2c60['id']==_0x3af117[_0x55900e(0x623)]);let _0x35cf8d='';if(_0x43f036){const _0x16dcf7=[];if(_0x43f036[_0x55900e(0x204)])_0x16dcf7['push'](_0x55900e(0x3eb)+_0x43f036[_0x55900e(0x204)]);if(_0x43f036[_0x55900e(0x170)])_0x16dcf7[_0x55900e(0x338)](''+_0x43f036[_0x55900e(0x170)]);if(_0x43f036[_0x55900e(0x61e)])_0x16dcf7[_0x55900e(0x338)](''+_0x43f036[_0x55900e(0x61e)]);if(_0x43f036[_0x55900e(0x34e)]){const _0x3c32d5=_0x43f036[_0x55900e(0x34e)][_0x55900e(0x634)]('-'),_0x46b0f6=_0x3c32d5[0x2]+'/'+_0x3c32d5[0x1]+'/'+_0x3c32d5[0x0];_0x16dcf7[_0x55900e(0x338)](_0x55900e(0x484)+_0x46b0f6);}_0x35cf8d=_0x16dcf7[_0x55900e(0x45b)](_0x55900e(0x133));}const _0x339803=document['createElement'](_0x55900e(0x208));_0x339803['innerHTML']=_0x3af117[_0x55900e(0x204)]+_0x55900e(0x3dc)+_0x3af117[_0x55900e(0x440)]+'<span\x20class=\x22cart-product-note\x22>'+(_0x3af117[_0x55900e(0x59f)]??'')+'</span>',_0x339803[_0x55900e(0x374)]=_0x55900e(0x47c);if(_0x35cf8d)_0x339803[_0x55900e(0x1cc)]('data-tooltip',_0x35cf8d);_0x5d3f28[_0x55900e(0x390)](_0x339803);const _0x43b035=document[_0x55900e(0x49d)](_0x55900e(0x3c2));_0x43b035[_0x55900e(0x1e8)]=_0x3af117[_0x55900e(0x440)]||'',_0x43b035[_0x55900e(0x374)]=_0x55900e(0x153),_0x43b035[_0x55900e(0x541)]=_0x55900e(0x30f),_0x43b035[_0x55900e(0x602)]=_0xb488f5=>updateCartItem(_0x5d471f,_0x89e2f8,_0x55900e(0x440),_0xb488f5[_0x55900e(0x5f4)][_0x55900e(0x1e8)]),_0x5d3f28[_0x55900e(0x390)](_0x43b035),_0x339803[_0x55900e(0x2fd)](_0x55900e(0x44b),()=>{const _0x294526=_0x55900e;_0x339803['classList']['add'](_0x294526(0x134)),_0x43b035['classList']['remove'](_0x294526(0x134)),_0x43b035[_0x294526(0x61c)]();}),_0x43b035[_0x55900e(0x2fd)]('blur',()=>{renderCart(_0x5d471f);});const _0xb1ec71=document['createElement'](_0x55900e(0x529));_0xb1ec71['innerHTML']='<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>',_0xb1ec71['id']='productMoreOptionsButton-'+_0x5d471f+'-'+_0x3af117['id'],_0xb1ec71[_0x55900e(0x374)]=_0x55900e(0x359)+_0x3d1851,_0xb1ec71['addEventListener'](_0x55900e(0x44b),()=>{const _0x48d0e2=_0x55900e,_0xaad00e=_0x28c72e[_0x48d0e2(0x2e5)][_0x48d0e2(0x251)](_0x48d0e2(0x661));_0xaad00e?(_0x28c72e[_0x48d0e2(0x2e5)][_0x48d0e2(0x1ce)]('d-none'),_0xb1ec71[_0x48d0e2(0x535)]=_0x48d0e2(0x61f),updateCartItem(_0x5d471f,_0x89e2f8,_0x48d0e2(0x3be),0x1)):(_0x28c72e[_0x48d0e2(0x2e5)][_0x48d0e2(0x273)](_0x48d0e2(0x661)),_0xb1ec71[_0x48d0e2(0x535)]=_0x48d0e2(0x102),updateCartItem(_0x5d471f,_0x89e2f8,_0x48d0e2(0x3be),0x0));}),_0x5d3f28[_0x55900e(0x390)](_0xb1ec71);const _0x2c9e7b=document[_0x55900e(0x49d)]('div');_0x2c9e7b[_0x55900e(0x374)]='input-group\x20input_cart_setCantidad\x20div-width-30';const _0x57fbcc=document[_0x55900e(0x49d)](_0x55900e(0x529));_0x57fbcc[_0x55900e(0x374)]='btn\x20btn-none\x20'+_0x3d1851,_0x57fbcc[_0x55900e(0x535)]=_0x55900e(0x5a6),_0x57fbcc['onclick']=()=>{const _0x281bae=_0x55900e;let _0x1aa3d5=parseFloat(_0x3af117['setCantidad'])||0x0;_0x1aa3d5<=0x1?_0x1aa3d5=Math[_0x281bae(0x42a)](0.1,_0x1aa3d5-0.1):_0x1aa3d5=Math[_0x281bae(0x42a)](0x0,_0x1aa3d5-0x1),_0x3af117['setCantidad']=_0x1aa3d5[_0x281bae(0x16f)](0x1),_0x51ca2d[_0x281bae(0x1e8)]=_0x3af117[_0x281bae(0x121)]||0x0,updateCartItem(_0x5d471f,_0x89e2f8,_0x281bae(0x121),_0x3af117[_0x281bae(0x121)]);};const _0x51ca2d=document[_0x55900e(0x49d)](_0x55900e(0x513));_0x3af117['setWindowShiftId']!=''&&(_0x51ca2d['readOnly']=!![]);_0x51ca2d['type']='number',_0x51ca2d[_0x55900e(0x3a2)]='0.1',_0x51ca2d[_0x55900e(0x308)]=_0x55900e(0x4fe),_0x51ca2d[_0x55900e(0x1e8)]=_0x3af117[_0x55900e(0x121)]||0x0,_0x51ca2d['className']=_0x55900e(0xfd),_0x51ca2d[_0x55900e(0x602)]=_0x321b67=>{const _0x202481=_0x55900e;var _0xbad339=parseInt(_0x3ebe6f,0xa)||0x0,_0x314724=Math['pow'](0xa,-_0xbad339);let _0x44d431=parseFloat(_0x321b67['target']['value'])||0x0;_0x44d431=_0x44d431<0x1?Math['max'](_0x314724,_0x44d431):Math[_0x202481(0x42a)](0x1,_0x44d431),_0x3af117['setCantidad']=_0x44d431[_0x202481(0x16f)](_0xbad339),updateCartItem(_0x5d471f,_0x89e2f8,_0x202481(0x121),_0x3af117[_0x202481(0x121)]);};const _0x4aa77c=document[_0x55900e(0x49d)](_0x55900e(0x529));_0x4aa77c[_0x55900e(0x374)]=_0x55900e(0x2ef)+_0x3d1851,_0x4aa77c[_0x55900e(0x535)]='<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>',_0x4aa77c[_0x55900e(0x467)]=()=>{const _0x117c3c=_0x55900e;let _0x267ab2=parseFloat(_0x3af117['setCantidad'])||0x0;_0x267ab2<0x1?_0x267ab2=_0x267ab2+0.1:_0x267ab2=_0x267ab2+0x1,_0x3af117[_0x117c3c(0x121)]=_0x267ab2[_0x117c3c(0x16f)](0x1),_0x51ca2d[_0x117c3c(0x1e8)]=_0x3af117[_0x117c3c(0x121)]||0x0,updateCartItem(_0x5d471f,_0x89e2f8,'setCantidad',_0x3af117[_0x117c3c(0x121)]);},_0x2c9e7b[_0x55900e(0x390)](_0x57fbcc),_0x2c9e7b['appendChild'](_0x51ca2d),_0x2c9e7b[_0x55900e(0x390)](_0x4aa77c),_0x5d3f28[_0x55900e(0x390)](_0x2c9e7b);const _0x471b41=document[_0x55900e(0x49d)](_0x55900e(0x208));_0x471b41[_0x55900e(0x181)]=''+(parseFloat(_0x3af117[_0x55900e(0x229)])||0x0)['toFixed'](0x2),_0x471b41[_0x55900e(0x374)]='input_cart_setSubtotal\x20input-cart-size\x20div-width-20',_0x5d3f28[_0x55900e(0x390)](_0x471b41);const _0xc9c0b0=document['createElement'](_0x55900e(0x529));_0xc9c0b0[_0x55900e(0x535)]=_0x55900e(0x2f0),_0xc9c0b0[_0x55900e(0x374)]=_0x55900e(0x2c4);_0x3af117[_0x55900e(0x64e)]!=''?_0xc9c0b0['onclick']=()=>removeFromCart(_0x5d471f,_0x89e2f8,_0x3af117[_0x55900e(0x64e)]):_0xc9c0b0[_0x55900e(0x467)]=()=>removeFromCart(_0x5d471f,_0x89e2f8);_0x5d3f28['appendChild'](_0xc9c0b0);const _0x405946=document[_0x55900e(0x49d)](_0x55900e(0x208));_0x405946[_0x55900e(0x374)]=_0x55900e(0x555),_0x405946['style'][_0x55900e(0x127)]='10px';const _0x589e68=document[_0x55900e(0x49d)](_0x55900e(0x3c2));_0x589e68[_0x55900e(0x1e8)]=_0x3af117['setNotas']||'',_0x589e68[_0x55900e(0x374)]='input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control',_0x589e68[_0x55900e(0x541)]='Notas:',_0x589e68[_0x55900e(0x1ec)]=0x2,_0x589e68['onchange']=_0x2aa323=>updateCartItem(_0x5d471f,_0x89e2f8,'setNotas',_0x2aa323[_0x55900e(0x5f4)][_0x55900e(0x1e8)]),_0x405946[_0x55900e(0x390)](_0x589e68);const _0x3a2203=document['createElement']('label');_0x3a2203[_0x55900e(0x374)]=_0x55900e(0x558),_0x3a2203[_0x55900e(0x535)]=_0x55900e(0x4d6),_0x405946[_0x55900e(0x390)](_0x3a2203);const _0x3bd080=_0x41652f,_0x4e06dc=createElement(_0x55900e(0x347),{'class':'input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','events':{'change':_0x277528=>updateCartItem(_0x5d471f,_0x89e2f8,_0x55900e(0x36f),_0x277528['target'][_0x55900e(0x1e8)])}},_0x3bd080['map'](_0xf7f3d4=>createElement(_0x55900e(0x4f0),{'value':_0xf7f3d4['setAccountingAccountId'],'innerHTML':_0xf7f3d4[_0x55900e(0x5f5)]+_0x55900e(0x3dc)+_0xf7f3d4['setAccountingAccountName']}))),_0x3968be=_0x3bd080['some'](_0x4d03c2=>_0x4d03c2[_0x55900e(0x36f)]==_0x3af117['setAccountingAccountId']);!_0x3968be&&_0x3bd080['length']>0x0&&(_0x3af117[_0x55900e(0x36f)]=_0x3bd080[0x0][_0x55900e(0x36f)]);_0x4e06dc[_0x55900e(0x1e8)]=_0x3af117[_0x55900e(0x36f)],_0x405946[_0x55900e(0x390)](_0x4e06dc),_0x28c72e[_0x55900e(0x390)](_0x405946);const _0x3db833=document['createElement'](_0x55900e(0x208));_0x3db833[_0x55900e(0x374)]=_0x55900e(0x25d),_0x3db833[_0x55900e(0x478)][_0x55900e(0x127)]='10px';const _0x3d287b=document[_0x55900e(0x49d)](_0x55900e(0x31b));_0x3d287b[_0x55900e(0x374)]='label-cart',_0x3d287b['innerHTML']=_0x55900e(0x5fc),_0x3db833[_0x55900e(0x390)](_0x3d287b);const _0xe099d0=document[_0x55900e(0x49d)](_0x55900e(0x513));_0xe099d0[_0x55900e(0x450)]='number',_0xe099d0['value']=parseFloat(_0x3af117[_0x55900e(0x298)])[_0x55900e(0x16f)](0x2)||0x0,_0xe099d0[_0x55900e(0x374)]=_0x55900e(0x36e),_0xe099d0[_0x55900e(0x602)]=_0x1cb52f=>updateCartItem(_0x5d471f,_0x89e2f8,'setMtoPrecioUnitario_input',_0x1cb52f[_0x55900e(0x5f4)]['value']),_0x3db833['appendChild'](_0xe099d0);const _0x5274d6=document[_0x55900e(0x49d)](_0x55900e(0x31b));_0x5274d6[_0x55900e(0x374)]=_0x55900e(0x558),_0x5274d6[_0x55900e(0x535)]='Desc.\x20(%)',_0x3db833[_0x55900e(0x390)](_0x5274d6);const _0x4c2963=document[_0x55900e(0x49d)](_0x55900e(0x513));_0x4c2963[_0x55900e(0x450)]=_0x55900e(0x258),_0x4c2963[_0x55900e(0x1e8)]=_0x3af117[_0x55900e(0x655)][_0x55900e(0x171)]||0x0,_0x4c2963[_0x55900e(0x374)]='input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control',_0x4c2963[_0x55900e(0x602)]=_0x455d79=>updateCartItem(_0x5d471f,_0x89e2f8,'setPorcentajeDesc',_0x455d79[_0x55900e(0x5f4)][_0x55900e(0x1e8)]),_0x3db833['appendChild'](_0x4c2963),_0x28c72e[_0x55900e(0x390)](_0x3db833);const _0x50e5a5=document['createElement']('div');_0x50e5a5[_0x55900e(0x374)]=_0x55900e(0x25d),_0x50e5a5[_0x55900e(0x478)]['marginRight']=_0x55900e(0x5c8);const _0x2ae252=document['createElement'](_0x55900e(0x31b));_0x2ae252['className']=_0x55900e(0x558),_0x2ae252[_0x55900e(0x535)]='Costo\x20Unitario',_0x50e5a5[_0x55900e(0x390)](_0x2ae252);const _0x1a83ec=document[_0x55900e(0x49d)](_0x55900e(0x513));_0x1a83ec[_0x55900e(0x450)]=_0x55900e(0x258),_0x1a83ec['value']=parseFloat(_0x3af117[_0x55900e(0x184)])[_0x55900e(0x16f)](0x2)||0x0,_0x1a83ec['className']=_0x55900e(0x5aa),_0x1a83ec['onchange']=_0xc74250=>updateCartItem(_0x5d471f,_0x89e2f8,_0x55900e(0x184),_0xc74250[_0x55900e(0x5f4)][_0x55900e(0x1e8)]),_0x50e5a5[_0x55900e(0x390)](_0x1a83ec);const _0x19aeb0=document['createElement'](_0x55900e(0x31b));_0x19aeb0[_0x55900e(0x374)]=_0x55900e(0x558),_0x19aeb0[_0x55900e(0x535)]=_0x55900e(0x55e),_0x50e5a5[_0x55900e(0x390)](_0x19aeb0);const _0x5843fa=myCompany['setImpuestos'],_0xb9b8b3=createElement(_0x55900e(0x347),{'class':'input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','events':{'change':_0x1ebff2=>updateCartItem(_0x5d471f,_0x89e2f8,_0x55900e(0x564),_0x1ebff2[_0x55900e(0x5f4)][_0x55900e(0x1e8)])}},_0x5843fa[_0x55900e(0x1b5)](_0x23d9da=>createElement('option',{'value':_0x23d9da[_0x55900e(0x507)],'innerHTML':_0x23d9da[_0x55900e(0x212)]+'\x20('+_0x23d9da['setImpuestoValue']+'%)'})));_0xb9b8b3['value']=_0x3af117[_0x55900e(0x507)],_0x50e5a5[_0x55900e(0x390)](_0xb9b8b3),_0x28c72e[_0x55900e(0x390)](_0x50e5a5),_0x2b6cfa[_0x55900e(0x390)](_0x5d3f28),_0x2b6cfa[_0x55900e(0x390)](_0x28c72e),_0x11ff41['appendChild'](_0x2b6cfa);});const _0x56eef1=getCurrencySymbol(_0x5d471f);_0x414a7d[_0x3d374f(0x535)]=_0x3d374f(0x2de)+_0x5d471f+_0x3d374f(0x54b)+(parseFloat(_0x2e6c4c)||0x0)['toFixed'](0x2)+_0x3d374f(0x2bc),_0x1a8fc8[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x50f0a9)||0x0)[_0x3d374f(0x16f)](0x2),_0x110e90[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x681992)||0x0)[_0x3d374f(0x16f)](0x2),_0x110fa4[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x4e3f0b)||0x0)[_0x3d374f(0x16f)](0x2),_0x52a177[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x5b0341)||0x0)[_0x3d374f(0x16f)](0x2),_0x411415[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x2170f7)||0x0)['toFixed'](0x2),_0x5c734d[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x2fb892)||0x0)[_0x3d374f(0x16f)](0x2),_0x318d80[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x51669b)||0x0)['toFixed'](0x2),_0x55b252[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x5c869b)||0x0)['toFixed'](0x2),_0x1b00f1[_0x3d374f(0x181)]=_0x56eef1+'\x20'+(parseFloat(_0x117525)||0x0)[_0x3d374f(0x16f)](0x2);}function addToCart(_0xe960ce,_0x420702=null,_0x2e65f8=0x0){const _0x260090=_0x773bc5,_0x2e51d1=document['getElementById'](_0x260090(0xe8))[_0x260090(0x1e8)];if(_0x2e51d1<=0x0){ntfShow(_0x260090(0x606));return;}if(!carts[_0x2e51d1])carts[_0x2e51d1]=[];const _0x54801d=carts[_0x2e51d1],_0x49e089=document[_0x260090(0x536)](_0x260090(0x45d))[_0x260090(0x1e8)],_0x5235ac=myCompany['setShifts'],_0x5c6a3b=_0x5235ac['find'](_0x3eba8a=>_0x3eba8a['setBranchId']==_0x49e089&&_0x3eba8a[_0x260090(0x50a)]=='1'),_0x1d1880=getUserPermissionApiERP(0xf);if(!_0x5c6a3b&&_0x1d1880==0x1){updateShiftDisplay();return;}const _0x5d3ece=getUserPermissionApiERP(0x1);if(setTipOpeSales[_0x260090(0x615)](_0x2efe4d=>_0x2efe4d==window_options[_0x2e51d1][_0x260090(0x4ee)])&&_0x5d3ece==0x0&&_0xe960ce[_0x260090(0x4a0)]==0x1&&window_options[_0x2e51d1][_0x260090(0x667)]!=0x2&&_0x2e65f8==0x0){const _0x55b0e5=document['getElementById'](_0x260090(0x250))[_0x260090(0x1e8)],_0x4a6de5=_0xe960ce['sucursales']['find'](_0x37201c=>String(_0x37201c[_0x260090(0x67c)])==_0x55b0e5),_0x2e6df0=_0x4a6de5?parseFloat(_0x4a6de5[_0x260090(0x3c8)]):0x0;if(_0x2e6df0<=0x0){ntfShow(_0x260090(0x2b4));return;}const _0x5bd5fd=_0xe960ce[_0x260090(0x623)],_0x26c6c0=parseFloat(_0xe960ce['setConversionFactor'])||0x1,_0x1bbbc8=_0x420702?parseFloat(_0x420702[_0x260090(0x2c7)])||0x1:0x1;let _0x1eba33=_0x54801d[_0x260090(0x51f)]((_0x5e2e11,_0x9e110c)=>{const _0x5da1c9=_0x260090,_0x419fde=products['find'](_0x101597=>_0x101597['id']==_0x9e110c[_0x5da1c9(0x623)]);if(!_0x419fde||_0x419fde['setIdProducto']!=_0x5bd5fd)return _0x5e2e11;const _0x56bdbf=parseFloat(_0x419fde['setConversionFactor'])||0x1;return _0x5e2e11+(parseFloat(_0x9e110c[_0x5da1c9(0x121)])||0x0)*_0x56bdbf;},0x0);const _0x588f8d=_0x1eba33+_0x1bbbc8*_0x26c6c0;console[_0x260090(0x415)](_0x260090(0x33e),{'masterId':_0x5bd5fd,'stock':_0x2e6df0,'totalExistingBase':_0x1eba33,'addFactor':_0x26c6c0,'qtyToAdd':_0x1bbbc8,'totalInBase':_0x588f8d});if(_0x588f8d>_0x2e6df0){ntfShow(_0x260090(0x648));return;}}let _0x242716,_0x3d1224;setTipOpeOrders[_0x260090(0x615)](_0x1cbe60=>_0x1cbe60==window_options[_0x2e51d1][_0x260090(0x4ee)])||setTipOpeSales[_0x260090(0x615)](_0x3134b5=>_0x3134b5==window_options[_0x2e51d1][_0x260090(0x4ee)])||setTipOpeQuotation[_0x260090(0x615)](_0x4aee8c=>_0x4aee8c==window_options[_0x2e51d1][_0x260090(0x4ee)])?(_0x242716=myCompany['setAccountingAccounts'][_0x260090(0xdc)](_0x578f7a=>_0x578f7a[_0x260090(0x52f)]==0x1),_0x3d1224=0x2):(_0x242716=myCompany[_0x260090(0x45f)][_0x260090(0xdc)](_0xed1634=>_0xed1634[_0x260090(0x52f)]==0x2),_0x3d1224=0x1);const _0xedbfe8=_0x242716[0x0]||{},_0x37fc76=_0xedbfe8['setAccountingAccountId']||'',_0x55e172=_0xedbfe8[_0x260090(0x5f5)]||'',_0xfc4ae8=_0xedbfe8[_0x260090(0x377)]||'',_0xa26b88=_0xedbfe8[_0x260090(0x52f)]||'';let _0x504ea3=0x1,_0x157fad=0x0,_0x4315fc=0x0,_0x72e209=_0xe960ce['setTaxId'],_0x295042=myCompany[_0x260090(0x1b2)][_0x260090(0x189)](_0x10f64a=>_0x10f64a[_0x260090(0x507)]==_0x72e209)?.[_0x260090(0x2a1)],_0x3a509f=0x0,_0x11e46e=0x0,_0x481636=0x0,_0x48a7de=0x0,_0x40231d=0x0,_0x3063d5=_0xe960ce[_0x260090(0x59f)];const _0x3e5e5a=document[_0x260090(0x536)](_0x260090(0x266)+_0x2e51d1)['value'],_0x19dfda=_0xe960ce[_0x260090(0x3bc)][_0x260090(0x189)](_0x423004=>_0x423004[_0x260090(0x205)]==_0x3e5e5a)||{};_0x3d1224==0x1?(_0x157fad=_0x19dfda[_0x260090(0x492)]||0x0,_0x4315fc=_0x19dfda['setMtoPrecioCostoUnitario']||0x0):(_0x157fad=_0x19dfda[_0x260090(0x206)]||0x0,_0x4315fc=_0x19dfda[_0x260090(0x2f1)]||0x0);_0x11e46e=_0x19dfda['setMtoPrecioUnitario']||0x0,_0x481636=_0x19dfda[_0x260090(0x24c)]||0x0,_0x48a7de=_0x19dfda[_0x260090(0x206)]||0x0,_0x40231d=_0x19dfda['setMtoValorCostoUnitario']||0x0;let _0x4c2260=generateUniqId(),_0x32c327='',_0x9581d4='';_0x420702&&(_0x504ea3=_0x420702['setValorCantidad']??_0x504ea3,_0x157fad=0x0,_0x4315fc=_0x420702[_0x260090(0x5da)],_0x72e209=_0x420702[_0x260090(0x507)],_0x295042=_0x420702[_0x260090(0x564)],_0x3a509f=_0x420702[_0x260090(0x171)],_0x11e46e=_0x420702[_0x260090(0x298)]??_0x11e46e,_0x481636=_0x420702[_0x260090(0x184)]??_0x481636,_0x48a7de=0x0,_0x40231d=0x0,_0x3063d5=_0x420702[_0x260090(0x59f)],_0x4c2260=_0x420702[_0x260090(0x11e)]??_0x4c2260,_0x32c327=_0x420702['setWindowShiftId']??'',_0x9581d4=_0x420702[_0x260090(0x64e)]??'');const _0x6b38f5=getUserPermissionApiERP(0x4),{currentWindowShift:_0xddc078}=getValidatedWindowAndShift(_0x2e51d1)||{},_0x18b493=_0xddc078||_0x6b38f5==0x1?![]:_0x54801d[_0x260090(0x189)](_0x225df5=>_0x225df5[_0x260090(0x623)]==_0xe960ce['id']),_0x2764cf=[{'valorUnit':_0x18b493?_0x18b493[_0x260090(0x5de)]:_0x157fad,'precioUnit':_0x18b493?_0x18b493['setMtoPrecioUnitario_final']:_0x4315fc,'valorCantidad':_0x18b493?_0x18b493[_0x260090(0x121)]+0x1:_0x504ea3,'valorPorcentajeIgv':_0x18b493?_0x18b493[_0x260090(0x330)]:myCompany[_0x260090(0x1b2)]['find'](_0x347b80=>_0x347b80[_0x260090(0x507)]==_0x72e209)['setImpuestoValue'],'setTipAfeIgv':_0x295042,'setDescuento':{'setCodTipo':_0x18b493?.[_0x260090(0x655)]?.['setCodTipo']||'00','setPorcentajeDesc':_0x18b493?.[_0x260090(0x655)]?.[_0x260090(0x171)]||_0x3a509f}}],{setInvoiceDetails:_0x8a957a}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x260090(0x1b2)][_0x260090(0x189)](_0x4a4eb3=>_0x4a4eb3[_0x260090(0x507)]==_0x72e209)[_0x260090(0x11d)],'items':_0x2764cf,'descuentoGlobalMonto':0x0}),_0x367025=_0x8a957a[0x0];_0x18b493?(_0x18b493[_0x260090(0x121)]++,Object[_0x260090(0x680)](_0x18b493,{'setMtoValorUnitario':_0x367025[_0x260090(0x206)],'setMtoValorGratuito':_0x367025[_0x260090(0x517)],'setMtoValorVenta':_0x367025['setMtoValorVenta'],'setMtoBaseIgv':_0x367025[_0x260090(0x675)],'setPorcentajeIgv':_0x367025[_0x260090(0x330)],'setIgv':_0x367025[_0x260090(0x362)],'setTotalImpuestos':_0x367025[_0x260090(0x39f)],'setMtoPrecioUnitario':_0x367025['setMtoPrecioUnitario'],'setTotal':parseFloat(_0x367025[_0x260090(0x2f1)])*parseFloat(_0x18b493[_0x260090(0x121)]),'setMtoPrecioUnitario_final':_0x367025[_0x260090(0x5da)],'setMtoValorUnitario_final':_0x367025[_0x260090(0x5de)],'setMtoPrecioUnitario_input':_0x3d1224==0x1?_0x11e46e:parseFloat(_0x367025[_0x260090(0x5da)])[_0x260090(0x16f)](0x2),'setMtoPrecioCostoUnitario_input':_0x3d1224==0x1?parseFloat(_0x367025[_0x260090(0x5da)])[_0x260090(0x16f)](0x2):_0x481636,'setMtoValorUnitario_input':_0x3d1224==0x1?_0x48a7de:parseFloat(_0x367025['setMtoValorUnitario_final'])[_0x260090(0x16f)](0x2),'setMtoValorCostoUnitario_input':_0x3d1224==0x1?parseFloat(_0x367025[_0x260090(0x5de)])['toFixed'](0x2):_0x40231d})):_0x54801d[_0x260090(0x338)]({'cartId':_0x4c2260,'setIdProducto':_0xe960ce['id'],'setCodProducto':_0xe960ce['setCodProducto'],'setDescripcion':_0xe960ce[_0x260090(0x440)],'setUnidad':_0xe960ce[_0x260090(0x29a)],'setInventariable':_0xe960ce['setInventariable'],'setMarca':_0xe960ce[_0x260090(0x162)],'setCantidad':_0x504ea3,'setMtoValorUnitario':_0x367025[_0x260090(0x206)],'setMtoValorGratuito':_0x367025[_0x260090(0x517)],'setMtoValorVenta':_0x367025[_0x260090(0x583)],'setMtoBaseIgv':_0x367025['setMtoBaseIgv'],'setPorcentajeIgv':_0x367025[_0x260090(0x330)],'setIgv':_0x367025['setIgv'],'setTotalImpuestos':_0x367025[_0x260090(0x39f)],'setMtoPrecioUnitario':_0x367025[_0x260090(0x2f1)],'setTotal':parseFloat(_0x367025[_0x260090(0x2f1)])*parseFloat(_0x504ea3),'setMtoPrecioUnitario_final':_0x367025[_0x260090(0x5da)],'setMtoValorUnitario_final':_0x367025[_0x260090(0x5de)],'setTaxId':_0x72e209,'setTipAfeIgv':_0x295042,'setMtoPrecioUnitario_input':_0x3d1224==0x1?_0x11e46e:parseFloat(_0x367025[_0x260090(0x5da)])['toFixed'](0x2),'setMtoPrecioCostoUnitario_input':_0x3d1224==0x1?parseFloat(_0x367025[_0x260090(0x5da)])[_0x260090(0x16f)](0x2):_0x481636,'setMtoValorUnitario_input':_0x3d1224==0x1?_0x48a7de:parseFloat(_0x367025['setMtoValorUnitario_final'])[_0x260090(0x16f)](0x2),'setMtoValorCostoUnitario_input':_0x3d1224==0x1?parseFloat(_0x367025['setMtoValorUnitario_final'])[_0x260090(0x16f)](0x2):_0x40231d,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x3a509f},'setVisible':0x0,'setNotas':_0x3063d5,'setChecked':0x1,'setWindowShiftId':_0x32c327,'setOrderId':_0x9581d4,'setAccountingAccountId':_0x37fc76,'setAccountingAccountCode':_0x55e172,'setAccountingAccountName':_0xfc4ae8,'setAccountingAccountType':_0xa26b88}),saveCart(_0x2e51d1)[_0x260090(0xee)](()=>{const _0x599b9e=_0x260090;renderCart(_0x2e51d1);if(isMobile()){const _0x224e19=getUserPermissionApiERP(0x11);_0x224e19==0x1&&showRightSection(),ntfShow(_0x599b9e(0x1a7),0x1,0x2);}})[_0x260090(0x63a)](_0x37992b=>{const _0x3f9253=_0x260090;console[_0x3f9253(0x47f)](_0x3f9253(0x2f2),_0x37992b);});}function calcFinalPrice(_0x54ae9f,_0x2fdd0a,_0x5184db){switch(_0x2fdd0a){case 0x1:return _0x54ae9f*(0x1-_0x5184db/0x64);case 0x2:return _0x54ae9f*(0x1+_0x5184db/0x64);case 0x3:return _0x54ae9f-_0x5184db;case 0x4:return _0x54ae9f+_0x5184db;case 0x5:return _0x5184db;default:return _0x54ae9f;}}function updateCartItem(_0x3e7a3f,_0x3088cd,_0x3d5a4b,_0x3c4b3a){const _0x38a737=_0x773bc5;let _0x9e0795=_0x3c4b3a;['setCantidad',_0x38a737(0x206),'setMtoPrecioUnitario_input',_0x38a737(0x184),'setPorcentajeDesc',_0x38a737(0x1ca)][_0x38a737(0x163)](_0x3d5a4b)&&(_0x9e0795=parseFloat(_0x9e0795));const _0x42a9dd=carts[_0x3e7a3f];if(!_0x42a9dd||!_0x42a9dd[_0x3088cd]){console[_0x38a737(0x47f)](_0x38a737(0x259)+_0x3e7a3f);return;}if(setTipOpeSales[_0x38a737(0x615)](_0xb533af=>_0xb533af==window_options[_0x3e7a3f][_0x38a737(0x4ee)])){const _0x148e2b=getUserPermissionApiERP(0x1),_0x566dc5=_0x42a9dd[_0x3088cd];if(_0x148e2b==0x0&&_0x566dc5[_0x38a737(0x4a0)]==0x1&&window_options[_0x3e7a3f][_0x38a737(0x667)]!=0x2){const _0x22d89b=products['find'](_0x5ac1fe=>_0x5ac1fe['id']==_0x566dc5[_0x38a737(0x623)]),_0x570b9d=_0x22d89b['setIdProducto'],_0x334a99=document['getElementById'](_0x38a737(0x250))['value'],_0x151df9=_0x22d89b[_0x38a737(0x621)][_0x38a737(0x189)](_0x8ada45=>String(_0x8ada45[_0x38a737(0x67c)])==_0x334a99),_0x1467dd=_0x151df9?parseFloat(_0x151df9[_0x38a737(0x3c8)]):0x0,_0x35f87f=parseFloat(_0x22d89b[_0x38a737(0x664)])||0x1;let _0x4d9ff7=_0x42a9dd[_0x38a737(0x51f)]((_0x24f6e9,_0x23f9c7)=>{const _0x4f176c=_0x38a737,_0x26db97=products['find'](_0x2c533d=>_0x2c533d['id']==_0x23f9c7[_0x4f176c(0x623)]);if(!_0x26db97||_0x26db97[_0x4f176c(0x623)]!=_0x570b9d)return _0x24f6e9;const _0x944160=parseFloat(_0x26db97[_0x4f176c(0x664)])||0x1;return _0x24f6e9+(parseFloat(_0x23f9c7[_0x4f176c(0x121)])||0x0)*_0x944160;},0x0),_0x37ac87=_0x4d9ff7;if(_0x3d5a4b=='setCantidad'){const _0x493d5e=parseFloat(_0x566dc5['setCantidad'])||0x0;_0x37ac87=_0x4d9ff7-_0x493d5e*_0x35f87f+_0x9e0795*_0x35f87f;}console[_0x38a737(0x415)](_0x38a737(0x44f),{'masterId':_0x570b9d,'stock':_0x1467dd,'totalExistingBase':_0x4d9ff7,'oldFactor':_0x35f87f,'oldCantidad':_0x566dc5['setCantidad'],'new_value':_0x9e0795,'totalInBase':_0x37ac87});if(_0x3d5a4b==_0x38a737(0x121)&&_0x37ac87>_0x1467dd){let _0x51830c=_0x42a9dd['reduce']((_0x3bf98d,_0x11725,_0x53f93f)=>{const _0x159f71=_0x38a737;if(_0x53f93f===_0x3088cd)return _0x3bf98d;const _0xbdcd25=products[_0x159f71(0x189)](_0x325dfd=>_0x325dfd['id']==_0x11725[_0x159f71(0x623)]);if(!_0xbdcd25||_0xbdcd25[_0x159f71(0x623)]!=_0x570b9d)return _0x3bf98d;const _0x281f89=parseFloat(_0xbdcd25['setConversionFactor'])||0x1;return _0x3bf98d+(parseFloat(_0x11725['setCantidad'])||0x0)*_0x281f89;},0x0);const _0x2ff36d=Math[_0x38a737(0x42a)](_0x1467dd-_0x51830c,0x0),_0x6ac28f=_0x2ff36d/_0x35f87f;console[_0x38a737(0x415)](_0x38a737(0x3db),{'availableInBase':_0x2ff36d,'maxQty':_0x6ac28f}),ntfShow(_0x38a737(0x27c)+_0x2ff36d[_0x38a737(0x16f)](0x0)+_0x38a737(0x21a)+(_0x38a737(0x147)+_0x6ac28f[_0x38a737(0x16f)](0x2)+')\x20en\x20el\x20almacén.\x20')+'Cantidad\x20ajustada\x20al\x20máximo.'),_0x9e0795=_0x6ac28f;}if(_0x1467dd<=0x0){ntfShow(_0x38a737(0x2b4));return;}}}if(_0x3d5a4b==_0x38a737(0x564)){_0x42a9dd[_0x3088cd][_0x38a737(0x507)]=_0x9e0795;const _0x24ff20=_0x9e0795,_0x5bea81=myCompany[_0x38a737(0x1b2)][_0x38a737(0x189)](_0x2da74b=>_0x2da74b['setTaxId']==_0x24ff20),_0x493c5b=_0x5bea81?_0x5bea81['setImpuestoCode']:'',_0xe3baf8=_0x5bea81?_0x5bea81['setImpuestoValue']:'';_0x42a9dd[_0x3088cd][_0x38a737(0x564)]=_0x493c5b,_0x42a9dd[_0x3088cd][_0x38a737(0x330)]=_0xe3baf8;}else{if(_0x3d5a4b=='setChecked')_0x42a9dd[_0x3088cd]['setChecked']=_0x42a9dd[_0x3088cd][_0x38a737(0x1ca)]?0x0:0x1;else _0x3d5a4b==_0x38a737(0x171)?(_0x42a9dd[_0x3088cd][_0x38a737(0x655)][_0x38a737(0x452)]='00',_0x42a9dd[_0x3088cd][_0x38a737(0x655)][_0x38a737(0x171)]=_0x9e0795):_0x42a9dd[_0x3088cd][_0x3d5a4b]=_0x9e0795;}if(_0x3d5a4b=='setAccountingAccountId'){const _0x2c7460=myCompany[_0x38a737(0x45f)]['find'](_0x5af216=>_0x5af216['setAccountingAccountId']==_0x9e0795);_0x42a9dd[_0x3088cd][_0x38a737(0x5f5)]=_0x2c7460?_0x2c7460[_0x38a737(0x5f5)]:'',_0x42a9dd[_0x3088cd][_0x38a737(0x377)]=_0x2c7460?_0x2c7460[_0x38a737(0x377)]:'',_0x42a9dd[_0x3088cd][_0x38a737(0x52f)]=_0x2c7460?_0x2c7460[_0x38a737(0x52f)]:'';}_0x3d5a4b==_0x38a737(0x298)&&(_0x42a9dd[_0x3088cd][_0x38a737(0x318)]=0x0);_0x3d5a4b==_0x38a737(0x184)&&(_0x42a9dd[_0x3088cd][_0x38a737(0x207)]=0x0);let _0x5395b3;if(setTipOpeOrders['some'](_0xe4ce36=>_0xe4ce36==window_options[_0x3e7a3f][_0x38a737(0x4ee)])||setTipOpeSales[_0x38a737(0x615)](_0x1b830a=>_0x1b830a==window_options[_0x3e7a3f][_0x38a737(0x4ee)])||setTipOpeQuotation[_0x38a737(0x615)](_0x1cc6f4=>_0x1cc6f4==window_options[_0x3e7a3f][_0x38a737(0x4ee)])){_0x5395b3=0x2;if(_0x3d5a4b==_0x38a737(0x121)){const _0x5a6531=document[_0x38a737(0x536)]('setMoneda-'+_0x3e7a3f)[_0x38a737(0x1e8)],_0x3ad6e7=products[_0x38a737(0x189)](_0x266fbf=>_0x266fbf['id']==_0x42a9dd[_0x3088cd][_0x38a737(0x623)]),_0x521689=_0x3ad6e7[_0x38a737(0x3bc)][_0x38a737(0x189)](_0x485f4b=>_0x485f4b[_0x38a737(0x205)]==_0x5a6531)||{},_0x589d83=_0x521689['setMtoPrecioUnitario']||0x0,_0x842c71=_0x521689[_0x38a737(0x23f)]||[],_0x331fc4=_0x42a9dd[_0x3088cd][_0x38a737(0x121)],_0xa414fe=_0x842c71['filter'](_0xe05d97=>_0xe05d97[_0x38a737(0x67a)]==0x2),_0x518a4c=_0xa414fe[_0x38a737(0x189)](_0x42c6b4=>_0x331fc4>=_0x42c6b4['setPriceListRangeStart']&&_0x331fc4<=_0x42c6b4[_0x38a737(0x400)]);if(_0xa414fe[_0x38a737(0x5d9)]>0x0){let _0x33250f;_0x518a4c?_0x33250f=calcFinalPrice(_0x589d83,_0x518a4c['setPriceListAdjustmentType'],_0x518a4c[_0x38a737(0x58e)]):_0x33250f=_0x589d83,_0x42a9dd[_0x3088cd][_0x38a737(0x298)]=_0x33250f,_0x42a9dd[_0x3088cd][_0x38a737(0x318)]=0x0;}}}else _0x5395b3=0x1;_0x5395b3==0x1?_0x42a9dd[_0x3088cd][_0x38a737(0x5da)]=_0x42a9dd[_0x3088cd][_0x38a737(0x184)]:_0x42a9dd[_0x3088cd][_0x38a737(0x5da)]=_0x42a9dd[_0x3088cd][_0x38a737(0x298)];const _0x32e0f9=[{'valorUnit':0x0,'precioUnit':_0x42a9dd[_0x3088cd]['setMtoPrecioUnitario_final'],'valorCantidad':_0x42a9dd[_0x3088cd]['setCantidad'],'valorPorcentajeIgv':_0x42a9dd[_0x3088cd]['setPorcentajeIgv'],'setTipAfeIgv':_0x42a9dd[_0x3088cd][_0x38a737(0x564)],'setDescuento':{'setCodTipo':_0x42a9dd[_0x3088cd][_0x38a737(0x655)][_0x38a737(0x452)],'setPorcentajeDesc':_0x42a9dd[_0x3088cd][_0x38a737(0x655)][_0x38a737(0x171)]}}],{setInvoiceDetails:_0x4967c8}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x38a737(0x1b2)]['find'](_0x6f48ff=>_0x6f48ff[_0x38a737(0x507)]==_0x42a9dd[_0x3088cd][_0x38a737(0x507)])[_0x38a737(0x11d)],'items':_0x32e0f9,'descuentoGlobalMonto':0x0}),_0x3c6322=_0x4967c8[0x0];_0x42a9dd[_0x3088cd][_0x38a737(0x206)]=_0x3c6322[_0x38a737(0x206)],_0x42a9dd[_0x3088cd][_0x38a737(0x517)]=_0x3c6322[_0x38a737(0x517)],_0x42a9dd[_0x3088cd][_0x38a737(0x583)]=_0x3c6322['setMtoValorVenta'],_0x42a9dd[_0x3088cd][_0x38a737(0x675)]=_0x3c6322['setMtoBaseIgv'],_0x42a9dd[_0x3088cd][_0x38a737(0x330)]=_0x3c6322[_0x38a737(0x330)],_0x42a9dd[_0x3088cd][_0x38a737(0x362)]=_0x3c6322[_0x38a737(0x362)],_0x42a9dd[_0x3088cd][_0x38a737(0x564)]=_0x3c6322[_0x38a737(0x564)],_0x42a9dd[_0x3088cd][_0x38a737(0x39f)]=_0x3c6322[_0x38a737(0x39f)],_0x42a9dd[_0x3088cd][_0x38a737(0x2f1)]=_0x3c6322[_0x38a737(0x2f1)],_0x42a9dd[_0x3088cd][_0x38a737(0x5da)]=_0x3c6322[_0x38a737(0x5da)],_0x42a9dd[_0x3088cd]['setMtoValorUnitario_final']=_0x3c6322[_0x38a737(0x5de)],_0x42a9dd[_0x3088cd][_0x38a737(0x298)]=_0x5395b3==0x1?_0x42a9dd[_0x3088cd]['setMtoPrecioUnitario_input']:_0x3c6322[_0x38a737(0x5da)],_0x42a9dd[_0x3088cd][_0x38a737(0x184)]=_0x5395b3==0x1?_0x3c6322[_0x38a737(0x5da)]:_0x42a9dd[_0x3088cd][_0x38a737(0x184)],_0x42a9dd[_0x3088cd][_0x38a737(0x318)]=_0x5395b3==0x1?_0x42a9dd[_0x3088cd]['setMtoValorUnitario_input']:_0x3c6322[_0x38a737(0x5de)],_0x42a9dd[_0x3088cd][_0x38a737(0x207)]=_0x5395b3==0x1?_0x3c6322[_0x38a737(0x5de)]:_0x42a9dd[_0x3088cd][_0x38a737(0x207)],_0x42a9dd[_0x3088cd][_0x38a737(0x544)]=_0x3c6322[_0x38a737(0x544)],_0x42a9dd[_0x3088cd]['setDescuento_setMontoBase']=_0x3c6322['setDescuento_setMontoBase'],_0x42a9dd[_0x3088cd]['setDescuento_setFactor']=_0x3c6322[_0x38a737(0x238)],_0x42a9dd[_0x3088cd][_0x38a737(0x217)]=_0x3c6322['setDescuento_setMonto'],_0x42a9dd[_0x3088cd][_0x38a737(0x175)]=_0x3c6322[_0x38a737(0x175)],_0x42a9dd[_0x3088cd][_0x38a737(0x171)]=_0x3c6322[_0x38a737(0x171)],_0x42a9dd[_0x3088cd]['setTotal']=_0x3c6322[_0x38a737(0x229)],saveCart(_0x3e7a3f)[_0x38a737(0xee)](()=>{const _0x489b69=_0x38a737;renderCart(_0x3e7a3f),console[_0x489b69(0x415)](_0x489b69(0x3b1)+_0x3e7a3f);})['catch'](_0x23ab10=>{const _0x4ad6ae=_0x38a737;console['error'](_0x4ad6ae(0x2c0),_0x23ab10);});}function saveCart(_0x868c7a){return new Promise((_0x3c9628,_0x51ccbe)=>{const _0x4d4fcc=_0xd9f0;try{const _0xdf3588=carts[_0x868c7a],_0x3d51b9=_0x4d4fcc(0x463)+_0x868c7a,_0x181f2e=db[_0x4d4fcc(0x210)]([_0x3d51b9],_0x4d4fcc(0x421)),_0x2962ab=_0x181f2e[_0x4d4fcc(0x152)](_0x3d51b9);let _0x43e62=0x0;_0xdf3588[_0x4d4fcc(0x24f)]((_0x1686aa,_0x35ab69)=>{const _0x807fdf=_0x4d4fcc,_0x217a27=_0x2962ab[_0x807fdf(0x51e)]('cartId'),_0x19a1fc=_0x217a27[_0x807fdf(0x503)](_0x1686aa[_0x807fdf(0x11e)]);_0x19a1fc[_0x807fdf(0x45a)]=()=>{const _0x51ef84=_0x807fdf;if(_0x19a1fc[_0x51ef84(0x3a4)]){const _0x475ae5={..._0x19a1fc[_0x51ef84(0x3a4)],..._0x1686aa},_0x80ec4=_0x2962ab[_0x51ef84(0x4cc)](_0x475ae5);_0x80ec4[_0x51ef84(0x45a)]=()=>{const _0x652ebf=_0x51ef84;_0xdf3588[_0x35ab69]['id']=_0x475ae5['id'],_0x43e62++,_0x43e62==_0xdf3588[_0x652ebf(0x5d9)]&&_0x3c9628();};}else{const _0x16b2a3=_0x2962ab['add'](_0x1686aa);_0x16b2a3[_0x51ef84(0x45a)]=_0x407570=>{const _0x5f11a2=_0x51ef84,_0x428acf=_0x407570[_0x5f11a2(0x5f4)]['result'];_0xdf3588[_0x35ab69]['id']=_0x428acf,_0x43e62++,_0x43e62==_0xdf3588[_0x5f11a2(0x5d9)]&&_0x3c9628();};}},_0x19a1fc[_0x807fdf(0x457)]=_0x222b69=>{const _0x908cd7=_0x807fdf;console[_0x908cd7(0x47f)](_0x908cd7(0x3cc)+_0x1686aa[_0x908cd7(0x623)]+':',_0x222b69[_0x908cd7(0x5f4)]['error']),_0x51ccbe(_0x222b69[_0x908cd7(0x5f4)][_0x908cd7(0x47f)]);};}),_0x181f2e[_0x4d4fcc(0x455)]=function(){console['log']('Carrito\x20guardado:\x20'+_0x868c7a,_0xdf3588);},_0x181f2e['onerror']=function(_0x586fe0){const _0x412162=_0x4d4fcc;console[_0x412162(0x47f)](_0x412162(0x2be),_0x586fe0[_0x412162(0x5f4)][_0x412162(0x47f)]),_0x51ccbe(_0x586fe0[_0x412162(0x5f4)][_0x412162(0x47f)]);};}catch(_0x31ff1a){_0x51ccbe(_0x31ff1a);}});}async function removeFromCart(_0x9df720,_0xd993b2,_0x5dd025=''){const _0x2e8579=_0x773bc5,_0x5592c7=carts[_0x9df720],_0x2e86de=_0x5592c7[_0xd993b2];if(_0x5dd025!=''){const _0x4a42f1=_0x2e86de[_0x2e8579(0x26a)],_0x41bce2=myCompany[_0x2e8579(0x4b8)][_0x2e8579(0x189)](_0x34b094=>_0x34b094[_0x2e8579(0xf1)]==_0x9df720);if(_0x41bce2&&_0x41bce2['setShifts']){const _0x45ae9a=_0x41bce2[_0x2e8579(0x40c)][_0x2e8579(0x189)](_0x4f632e=>_0x4f632e[_0x2e8579(0x264)]==_0x4a42f1);if(_0x45ae9a&&_0x45ae9a[_0x2e8579(0xf3)]){const _0x17e64c=_0x45ae9a['setOrders'][_0x2e8579(0x5bf)](_0x349aa8=>_0x349aa8[_0x2e8579(0x1d5)]==_0x5dd025);if(_0x17e64c!==-0x1){const _0x34a28d=_0x45ae9a[_0x2e8579(0xf3)][_0x17e64c];if(_0x34a28d[_0x2e8579(0x186)]&&Array[_0x2e8579(0x269)](_0x34a28d[_0x2e8579(0x186)])){const _0x5758e3=_0x34a28d[_0x2e8579(0x186)]['length'];_0x34a28d[_0x2e8579(0x186)]=_0x34a28d[_0x2e8579(0x186)][_0x2e8579(0xdc)](_0x42857a=>_0x42857a[_0x2e8579(0x11e)]!=_0x2e86de[_0x2e8579(0x11e)]);if(_0x34a28d[_0x2e8579(0x186)]['length']<_0x5758e3){const _0x2994f8=_0x34a28d[_0x2e8579(0x186)][_0x2e8579(0x1b5)](_0x613c9a=>({'valorUnit':_0x613c9a[_0x2e8579(0x5de)],'precioUnit':_0x613c9a[_0x2e8579(0x5da)],'valorCantidad':_0x613c9a[_0x2e8579(0x121)],'valorPorcentajeIgv':_0x613c9a['setPorcentajeIgv'],'setTipAfeIgv':_0x613c9a[_0x2e8579(0x564)],'setDescuento':{'setCodTipo':_0x613c9a[_0x2e8579(0x655)]?.[_0x2e8579(0x452)]||'00','setPorcentajeDesc':_0x613c9a[_0x2e8579(0x655)]?.[_0x2e8579(0x171)]||0x0}})),_0x10816c=_0x34a28d['setDescuentoGlobal_Monto']||0x0,{setInvoice:_0x304d83}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x2e8579(0x1b2)][_0x2e8579(0x189)](_0x1c4b05=>_0x1c4b05[_0x2e8579(0x507)]==myCompany[_0x2e8579(0x4c4)])?.[_0x2e8579(0x11d)],'items':_0x2994f8,'descuentoGlobalMonto':_0x10816c});_0x34a28d['setAttachEdit']='2',_0x34a28d['setLastFechaHora']=new Date()[_0x2e8579(0x644)](),Object[_0x2e8579(0x680)](_0x34a28d,_0x304d83),await storeOfflineOperation(_0x34a28d,0x1);_0x34a28d[_0x2e8579(0x186)][_0x2e8579(0x5d9)]===0x0&&(_0x45ae9a[_0x2e8579(0xf3)][_0x2e8579(0x1b1)](_0x17e64c,0x1),console[_0x2e8579(0x415)](_0x2e8579(0x165)));_0x41bce2['setLastDateUpdate']=new Date();const _0xb2a44d=await createCartStore('');await saveCompanyToIndexedDB(company,_0xb2a44d),apiERPsync(),console[_0x2e8579(0x415)]('Product\x20Deleted\x20Order\x20successfully.');}else console['warn'](_0x2e8579(0x13d));}else console['warn'](_0x2e8579(0x66f));}else console[_0x2e8579(0x13e)](_0x2e8579(0x211));}else console[_0x2e8579(0x13e)](_0x2e8579(0x202));}else console[_0x2e8579(0x13e)](_0x2e8579(0x533));}_0x5592c7[_0x2e8579(0x1b1)](_0xd993b2,0x1);const _0x468ecb=_0x2e8579(0x463)+_0x9df720,_0x25c593=db[_0x2e8579(0x210)]([_0x468ecb],_0x2e8579(0x421)),_0x75cf69=_0x25c593[_0x2e8579(0x152)](_0x468ecb);_0x75cf69['delete'](_0x2e86de['id']),_0x25c593[_0x2e8579(0x455)]=function(){const _0x32608d=_0x2e8579;console[_0x32608d(0x415)](_0x32608d(0x1fb)),renderCart(_0x9df720);},_0x25c593[_0x2e8579(0x457)]=function(_0x9932b6){const _0x267a0f=_0x2e8579;console['error']('Error\x20al\x20eliminar\x20producto:',_0x9932b6['target'][_0x267a0f(0x47f)]);};}function removeAllFromCart(_0x45d90f,_0x1de87f=0x0){return new Promise((_0x4fc053,_0x1d7483)=>{const _0x2f007b=_0xd9f0;let _0x978ab4;_0x1de87f==0x1?_0x978ab4=carts[_0x45d90f][_0x2f007b(0xdc)](_0x45140f=>_0x45140f['setChecked']==0x1):_0x978ab4=getFilteredCart(_0x45d90f);const _0xbb20ad=_0x2f007b(0x463)+_0x45d90f,_0x740406=db['transaction']([_0xbb20ad],'readwrite'),_0x2b2da2=_0x740406[_0x2f007b(0x152)](_0xbb20ad);_0x978ab4['forEach'](_0x38d24d=>{_0x2b2da2['delete'](_0x38d24d['id']);}),_0x740406['oncomplete']=function(){const _0x162734=_0x2f007b;carts[_0x45d90f]=carts[_0x45d90f][_0x162734(0xdc)](_0x38ecfd=>!_0x978ab4[_0x162734(0x615)](_0x391c06=>_0x391c06[_0x162734(0x11e)]==_0x38ecfd['cartId'])),renderCart(_0x45d90f),_0x4fc053();},_0x740406[_0x2f007b(0x457)]=function(_0x189bfc){const _0x32cc13=_0x2f007b;console[_0x32cc13(0x47f)](_0x32cc13(0x1b9),_0x189bfc[_0x32cc13(0x5f4)][_0x32cc13(0x47f)]),_0x1d7483(_0x189bfc[_0x32cc13(0x5f4)][_0x32cc13(0x47f)]);};});}function saveWindowOptionsDB(_0x9fa37a){const _0x543927=_0x773bc5;return createCartStore('')['then'](_0x98d1ec=>{const _0x4ed169=_0xd9f0,_0x4e9139=window_options[_0x9fa37a],_0x88ce2e=_0x4ed169(0x445)+_0x9fa37a,_0x593a5e=_0x98d1ec[_0x4ed169(0x210)]([_0x88ce2e],_0x4ed169(0x421)),_0x317ae7=_0x593a5e['objectStore'](_0x88ce2e);return _0x317ae7[_0x4ed169(0x4cc)]({'id':_0x9fa37a,..._0x4e9139}),new Promise((_0x5710bc,_0x372235)=>{const _0xdf46af=_0x4ed169;_0x593a5e[_0xdf46af(0x455)]=function(){const _0x547afb=_0xdf46af;console[_0x547afb(0x415)](_0x547afb(0x324)+_0x9fa37a+_0x547afb(0x190)),_0x5710bc(_0x9fa37a);},_0x593a5e[_0xdf46af(0x457)]=function(_0x597a8c){const _0x393e11=_0xdf46af;console[_0x393e11(0x47f)](_0x393e11(0x129),_0x597a8c[_0x393e11(0x5f4)][_0x393e11(0x47f)]),_0x372235(_0x597a8c['target'][_0x393e11(0x47f)]);};});})[_0x543927(0xee)](_0x165926=>{return renderWindowOptions(_0x165926),_0x165926;})[_0x543927(0x63a)](_0x3b2eef=>{const _0x3e8895=_0x543927;console['error'](_0x3e8895(0x3f0),_0x3b2eef);throw _0x3b2eef;});}function renderWindowOptions(_0x4add3f){return new Promise(_0x227414=>{const _0x28cbc6=_0xd9f0;document[_0x28cbc6(0x536)](_0x28cbc6(0x18d)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x663)],document['getElementById']('setTipoOperacion-'+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x4ee)],document[_0x28cbc6(0x536)](_0x28cbc6(0x22d)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f]['setSerie'],document[_0x28cbc6(0x536)](_0x28cbc6(0x151)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x319)],document[_0x28cbc6(0x536)](_0x28cbc6(0x266)+_0x4add3f)['value']=window_options[_0x4add3f][_0x28cbc6(0x15a)],document[_0x28cbc6(0x536)]('setClienteTipoDoc-'+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x631)],document[_0x28cbc6(0x536)](_0x28cbc6(0x149)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x5a2)]??'',document['getElementById'](_0x28cbc6(0x4dc)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x36c)]??'',document[_0x28cbc6(0x536)](_0x28cbc6(0x554)+_0x4add3f)['value']=window_options[_0x4add3f]['setClienteDireccion']??'',document[_0x28cbc6(0x536)](_0x28cbc6(0x48f)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x1a4)]??'',document[_0x28cbc6(0x536)](_0x28cbc6(0x619)+_0x4add3f)['value']=window_options[_0x4add3f]['setCustomerEmail']??'',document[_0x28cbc6(0x536)]('setFechaHora-'+_0x4add3f)['value']=window_options[_0x4add3f][_0x28cbc6(0x274)],document[_0x28cbc6(0x536)]('setVendedorCodigo-'+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x1e7)],document['getElementById'](_0x28cbc6(0x2b3)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x2cd)],document[_0x28cbc6(0x536)](_0x28cbc6(0x469)+_0x4add3f)['value']=window_options[_0x4add3f]['setObservacion']??'',document[_0x28cbc6(0x536)](_0x28cbc6(0x55b)+_0x4add3f)[_0x28cbc6(0x1e8)]=window_options[_0x4add3f][_0x28cbc6(0x667)],_0x227414();});}async function updateWindowOption(_0x2f149c,_0x519d12,_0x45126d){const _0x369515=_0x773bc5;if(_0x519d12==_0x369515(0x22c)){const _0x3051e3=document['getElementById'](_0x369515(0xdd)+_0x2f149c),_0x258c1e=_0x3051e3[_0x369515(0xf8)][_0x3051e3[_0x369515(0x17d)]][_0x369515(0x425)];window_options[_0x2f149c][_0x369515(0x677)]=_0x258c1e;}if(_0x519d12==_0x369515(0x1e7)){const _0x5ec3bf=document[_0x369515(0x536)](_0x369515(0x3e3)+_0x2f149c),_0x4760c9=_0x5ec3bf[_0x369515(0xf8)][_0x5ec3bf['selectedIndex']]['text'];window_options[_0x2f149c]['setSellerName']=_0x4760c9;}_0x519d12==_0x369515(0x274)&&(window_options[_0x2f149c][_0x369515(0x5f1)]=0x1),_0x519d12==_0x369515(0x319)&&(correlativeReadonly=0x1),_0x519d12==_0x369515(0x667)&&(_0x45126d==0x1&&(correlativeReadonly=0x0)),window_options[_0x2f149c][_0x519d12]=_0x45126d,saveWindowOptionsDB(_0x2f149c);}function showModal(){const _0x355739=_0x773bc5,_0x2abcea=document[_0x355739(0x536)](_0x355739(0x111)),_0x5f1e23=document[_0x355739(0x536)](_0x355739(0x2d8));_0x2abcea[_0x355739(0x2e5)][_0x355739(0x273)]('active'),_0x5f1e23[_0x355739(0x478)][_0x355739(0x100)]=_0x355739(0xe5);const _0x52443b=document[_0x355739(0x536)]('closeModal'),_0x41eb0a=document[_0x355739(0x536)](_0x355739(0x19b));if(!_0x52443b||!_0x41eb0a){console['error']('No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.');return;}_0x52443b[_0x355739(0x4e6)](_0x52443b[_0x355739(0x231)](!![])),_0x41eb0a[_0x355739(0x4e6)](_0x41eb0a[_0x355739(0x231)](!![]));const _0x478639=document[_0x355739(0x536)](_0x355739(0x2b2)),_0x555380=document[_0x355739(0x536)]('btnModalNewOperation');_0x478639[_0x355739(0x2fd)](_0x355739(0x44b),()=>hideModal()),_0x555380[_0x355739(0x2fd)](_0x355739(0x44b),()=>hideModal());}function hideModal(){const _0x111a25=_0x773bc5,_0xa65ce8=document[_0x111a25(0x536)]('detalleModal'),_0x397b5f=document[_0x111a25(0x536)]('modalOverlay');_0xa65ce8[_0x111a25(0x2e5)][_0x111a25(0x1ce)](_0x111a25(0x370)),_0x397b5f[_0x111a25(0x478)]['display']=_0x111a25(0x2b8);}document[_0x773bc5(0x536)](_0x773bc5(0x2d8))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),_0x48e56c=>{const _0x3decc1=_0x773bc5;_0x48e56c[_0x3decc1(0x5f4)]==_0x48e56c[_0x3decc1(0x446)]&&_0x48e56c[_0x3decc1(0x1e5)]();});function showModalPay(){const _0xd7bbd6=_0x773bc5,_0x23d519=document[_0xd7bbd6(0x536)]('detalleModalPay'),_0x2f41cf=document['getElementById'](_0xd7bbd6(0x2ea));_0x23d519[_0xd7bbd6(0x2e5)][_0xd7bbd6(0x273)](_0xd7bbd6(0x370)),_0x2f41cf[_0xd7bbd6(0x478)][_0xd7bbd6(0x100)]=_0xd7bbd6(0xe5);}function hideModalPay(){const _0x4aacde=_0x773bc5,_0x4e8933=document['getElementById']('detalleModalPay'),_0x42de41=document[_0x4aacde(0x536)](_0x4aacde(0x2ea));_0x4e8933[_0x4aacde(0x2e5)]['remove']('active'),_0x42de41[_0x4aacde(0x478)][_0x4aacde(0x100)]='none';}document[_0x773bc5(0x536)](_0x773bc5(0x14e))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),hideModalPay),document['getElementById']('modalOverlayPay')[_0x773bc5(0x2fd)]('click',_0x17d00b=>{const _0x34e1e9=_0x773bc5;_0x17d00b[_0x34e1e9(0x5f4)]==_0x17d00b[_0x34e1e9(0x446)]&&_0x17d00b['stopPropagation']();});async function showModalLayout(){const _0x191d48=_0x773bc5;showLoadingModal();const _0x3e47f7=document[_0x191d48(0x536)]('setBranchId')[_0x191d48(0x1e8)],_0x527283=myCompany[_0x191d48(0x588)],_0x347628=_0x527283[_0x191d48(0x189)](_0x826239=>_0x826239[_0x191d48(0x45d)]==_0x3e47f7&&_0x826239[_0x191d48(0x480)]==0x2),_0x478f1a=getUserPermissionApiERP(0xd),_0x2afdac=_0x347628?0x1:0x0,_0x5635ea=myCompany[_0x191d48(0x4b8)];let _0x30ea6f=[];if(_0x2afdac==0x1&&_0x478f1a==0x1){const _0xa59d18=_0x347628[_0x191d48(0x3f8)]['replace'](_0x191d48(0x30b),'windowsState.php');await new Promise((_0xe37630,_0x5f29e2)=>{const _0x1db4d=_0x191d48,_0x23a169=document[_0x1db4d(0x49d)](_0x1db4d(0x47a));_0x23a169[_0x1db4d(0x478)]['display']=_0x1db4d(0x2b8),_0x23a169['src']=_0xa59d18,document[_0x1db4d(0x4de)][_0x1db4d(0x390)](_0x23a169);const _0x3cb551=setTimeout(()=>{const _0x432e9b=_0x1db4d;hideLoadingModal(),window[_0x432e9b(0x340)](_0x432e9b(0x1df),_0x1f4f6d),document[_0x432e9b(0x4de)][_0x432e9b(0x4b9)](_0x23a169),_0x5f29e2(_0x432e9b(0x5af));},0xbb8),_0x1f4f6d=function(_0x191cbc){const _0xf9be59=_0x1db4d,_0x226b99=_0x191cbc[_0xf9be59(0x3bb)];if(!Array[_0xf9be59(0x269)](_0x226b99)){hideLoadingModal(),console[_0xf9be59(0x47f)](_0xf9be59(0x5e6)),clearTimeout(_0x3cb551),window[_0xf9be59(0x340)](_0xf9be59(0x1df),_0x1f4f6d),document['body'][_0xf9be59(0x4b9)](_0x23a169),_0x5f29e2(_0xf9be59(0x230));return;}_0x30ea6f=_0x226b99['filter'](_0x1dd24c=>!_0x5635ea[_0xf9be59(0x615)](_0x56fd62=>_0x56fd62['setWindowId']==_0x1dd24c['setWindowId'])),myCompany['setWindows']=_0x226b99,((async()=>{const _0x245722=_0xf9be59,_0x3d20d4=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3d20d4);for(const _0x24724e of _0x30ea6f){await new Promise(_0x15b7cf=>setTimeout(_0x15b7cf,0x12c)),await createCartStore(_0x24724e['setWindowId']);}console[_0x245722(0x415)]('Windows\x20Update\x20Local\x20Successfully.'),clearTimeout(_0x3cb551),window[_0x245722(0x340)](_0x245722(0x1df),_0x1f4f6d),document['body'][_0x245722(0x4b9)](_0x23a169),_0xe37630();})());};window['addEventListener'](_0x1db4d(0x1df),_0x1f4f6d,![]);});}else{if(!isOnline()){hideLoadingModal(),ntfShow(_0x191d48(0x542)),console[_0x191d48(0x47f)](_0x191d48(0x542));return;}const _0x194234=await fetch(_0x191d48(0x178),{'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x191d48(0x112)]({'setAuthToken':myCompany[_0x191d48(0x451)],'apiPOS_getWindows':0x1})}),_0x2d261c=await _0x194234[_0x191d48(0x5ed)]();if(_0x2d261c[_0x191d48(0x4f3)]){const _0x49a92b=_0x2d261c[_0x191d48(0x1df)][_0x191d48(0x4b8)];_0x30ea6f=_0x49a92b[_0x191d48(0xdc)](_0x43d325=>!_0x5635ea[_0x191d48(0x615)](_0x412319=>_0x412319[_0x191d48(0xf1)]==_0x43d325['setWindowId'])),myCompany[_0x191d48(0x4b8)]=_0x49a92b;}else{hideLoadingModal(),ntfShow(_0x2d261c[_0x191d48(0x1df)]),console['error']('Error\x20Update:',_0x2d261c[_0x191d48(0x1df)]);return;}const _0x1bee0a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1bee0a);for(const _0xe0c4f5 of _0x30ea6f){await new Promise(_0x34c6a9=>setTimeout(_0x34c6a9,0x12c)),await createCartStore(_0xe0c4f5[_0x191d48(0xf1)]);}}hideLoadingModal();const _0x58cb58=document[_0x191d48(0x536)](_0x191d48(0x2d3)),_0x237b95=document[_0x191d48(0x536)](_0x191d48(0x3de));_0x58cb58['classList'][_0x191d48(0x273)](_0x191d48(0x370)),_0x237b95[_0x191d48(0x478)]['display']=_0x191d48(0xe5);const _0x4271d6=document[_0x191d48(0x536)](_0x191d48(0x4cf))['value'],_0x10a678=document[_0x191d48(0x536)](_0x191d48(0x45d))['value'];cargarVentanas(_0x10a678,_0x4271d6),createTabsEnvironments();}function hideModalLayout(){const _0x2a3020=_0x773bc5,_0x9edb1d=document[_0x2a3020(0x536)](_0x2a3020(0x2d3)),_0x133144=document[_0x2a3020(0x536)](_0x2a3020(0x3de));_0x9edb1d[_0x2a3020(0x2e5)]['remove'](_0x2a3020(0x370)),_0x133144['style'][_0x2a3020(0x100)]=_0x2a3020(0x2b8);}document['getElementById'](_0x773bc5(0x459))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),hideModalLayout),document[_0x773bc5(0x536)](_0x773bc5(0x3de))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),_0x222a83=>{const _0x1fe739=_0x773bc5;_0x222a83[_0x1fe739(0x5f4)]==_0x222a83['currentTarget']&&_0x222a83['stopPropagation']();});function showModalOptions(){const _0xa30b8=_0x773bc5,_0x153e75=document[_0xa30b8(0x536)](_0xa30b8(0xe0)),_0x463659=document[_0xa30b8(0x536)](_0xa30b8(0x582));_0x153e75[_0xa30b8(0x2e5)][_0xa30b8(0x273)](_0xa30b8(0x370)),_0x463659[_0xa30b8(0x478)]['display']=_0xa30b8(0xe5);}function hideModalOptions(){const _0x35f0be=_0x773bc5,_0x569cad=document[_0x35f0be(0x536)]('detalleModalOptions'),_0x747f75=document[_0x35f0be(0x536)](_0x35f0be(0x582));_0x569cad['classList'][_0x35f0be(0x1ce)]('active'),_0x747f75[_0x35f0be(0x478)]['display']='none';}document[_0x773bc5(0x536)](_0x773bc5(0x582))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),_0xf37047=>{const _0x11150b=_0x773bc5;_0xf37047['target']==_0xf37047['currentTarget']&&_0xf37047[_0x11150b(0x1e5)]();});function showSection(_0x1178b8,_0x28ec51=''){const _0x69e3cf=_0x773bc5,_0x363bcb=[_0x69e3cf(0x2d1),'div_section_options',_0x69e3cf(0x1a0)];if(_0x1178b8==_0x69e3cf(0x1a0)){setDivTotalPay(_0x28ec51),showModalPay();return;}if(_0x1178b8==_0x69e3cf(0x543)){showModalOptions();return;}_0x363bcb[_0x69e3cf(0x24f)](_0x4116f0=>{const _0x38efac=_0x69e3cf,_0x5cea20=document['getElementById'](_0x4116f0);_0x5cea20?_0x4116f0!==_0x38efac(0x1a0)&&_0x4116f0!==_0x38efac(0x543)&&_0x5cea20[_0x38efac(0x2e5)][_0x38efac(0x344)]('hidden',_0x4116f0!==_0x1178b8):console[_0x38efac(0x13e)](_0x38efac(0x2c5)+_0x4116f0+_0x38efac(0x527));});}function optionsPdf(_0x332114){const _0x247e96=_0x773bc5,_0x1bbbbb=document['getElementById']('btnVisualizacion'),_0x40950c=document[_0x247e96(0x536)]('btnArchivosContables'),_0x5ef49c=document[_0x247e96(0x536)](_0x247e96(0x548)),_0xa641b=document[_0x247e96(0x536)](_0x247e96(0x51d)),_0x5ac0e8=document[_0x247e96(0x536)]('archivos_contables'),_0x167224=document[_0x247e96(0x536)](_0x247e96(0x239));if(_0x332114==0x1)_0x1bbbbb['classList'][_0x247e96(0x1ce)](_0x247e96(0x460)),_0x1bbbbb[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x4e8)),_0x40950c['classList']['remove'](_0x247e96(0x4e8)),_0x40950c['classList']['add']('btnModal'),_0x5ef49c[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x4e8)),_0x5ef49c[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x460)),_0xa641b['classList'][_0x247e96(0x1ce)]('hidden'),_0x5ac0e8[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x134)),_0x167224[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x134));else _0x332114==0x2?(_0x1bbbbb[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x4e8)),_0x1bbbbb['classList'][_0x247e96(0x273)](_0x247e96(0x460)),_0x40950c[_0x247e96(0x2e5)]['remove'](_0x247e96(0x460)),_0x40950c[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x4e8)),_0x5ef49c[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x4e8)),_0x5ef49c['classList'][_0x247e96(0x273)](_0x247e96(0x460)),_0xa641b[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x134)),_0x5ac0e8['classList'][_0x247e96(0x1ce)](_0x247e96(0x134)),_0x167224[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x134))):(_0x1bbbbb[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x4e8)),_0x1bbbbb[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x460)),_0x40950c[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x4e8)),_0x40950c['classList'][_0x247e96(0x273)](_0x247e96(0x460)),_0x5ef49c[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x460)),_0x5ef49c[_0x247e96(0x2e5)][_0x247e96(0x273)](_0x247e96(0x4e8)),_0xa641b['classList']['add'](_0x247e96(0x134)),_0x5ac0e8[_0x247e96(0x2e5)][_0x247e96(0x273)]('hidden'),_0x167224[_0x247e96(0x2e5)][_0x247e96(0x1ce)](_0x247e96(0x134)));}function updateSerieOptionsAttach(_0x3ed4fe,_0x4b73f4){const _0x11de13=_0x773bc5,_0x166d01=document[_0x11de13(0x536)](_0x11de13(0x5fa)+_0x4b73f4);_0x166d01[_0x11de13(0x535)]='';const _0x10ebae=document[_0x11de13(0x536)](_0x11de13(0x45d))['value'],_0x385550=myCompany['setSeries'][_0x11de13(0xdc)](_0x4ec924=>_0x4ec924[_0x11de13(0x668)]==_0x3ed4fe&&_0x4ec924[_0x11de13(0x67c)]==_0x10ebae);_0x385550[_0x11de13(0x24f)](_0x3a011f=>{const _0x35fd3e=_0x11de13;_0x166d01[_0x35fd3e(0x390)](createElement('option',{'value':_0x3a011f['setSerie']},[_0x3a011f[_0x35fd3e(0x5d7)]]));}),_0x385550['length']&&(_0x166d01[_0x11de13(0x1e8)]=_0x385550[0x0]['setSerie']),window_options[_0x4b73f4]['setAttachType']=_0x3ed4fe;}async function consultAttach(_0x410974){const _0x4eba8b=_0x773bc5,_0x14847c=document['getElementById'](_0x4eba8b(0x627)+_0x410974);if(!_0x14847c){console[_0x4eba8b(0x47f)]('No\x20se\x20encontró\x20el\x20botón');return;}const _0x3e5611=document[_0x4eba8b(0x536)](_0x4eba8b(0x55b)+_0x410974)[_0x4eba8b(0x1e8)],_0x3a58ee=document[_0x4eba8b(0x536)](_0x4eba8b(0x3cf)+_0x410974)[_0x4eba8b(0x1e8)],_0x57efb4=document[_0x4eba8b(0x536)]('setAttachSeries-'+_0x410974)[_0x4eba8b(0x1e8)],_0x4da13d=document[_0x4eba8b(0x536)](_0x4eba8b(0x113)+_0x410974)[_0x4eba8b(0x1e8)];_0x14847c[_0x4eba8b(0x5bd)]=!![],hideModalOptions(),showLoadingModal();try{const _0x3badc6=myCompany['setApiEndPoint'],_0x261203={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x4eba8b(0x451)],'setAttachEdit':_0x3e5611,'setAttachType':_0x3a58ee,'setAttachSeries':_0x57efb4,'setAttachNumber':_0x4da13d},_0x309363=await fetch(_0x3badc6,{'method':_0x4eba8b(0x2e2),'headers':{'Content-Type':_0x4eba8b(0x2c3)},'body':JSON[_0x4eba8b(0x112)](_0x261203)}),_0x5aa8dc=await _0x309363[_0x4eba8b(0x5ed)]();if(_0x5aa8dc['success']&&_0x5aa8dc['message'][_0x4eba8b(0x53d)]){await removeAllFromCart(_0x410974);const _0x11ded9=_0x5aa8dc[_0x4eba8b(0x1df)][_0x4eba8b(0x53d)],_0x4ddc2b=_0x5aa8dc[_0x4eba8b(0x1df)][_0x4eba8b(0x3b3)];(_0x3e5611==0x1||_0x3e5611==0x2)&&(window_options[_0x410974]['setTipoOperacion']=_0x11ded9[_0x4eba8b(0x3f7)],await updateSerieOptions(_0x11ded9[_0x4eba8b(0x3f7)],_0x410974),window_options[_0x410974][_0x4eba8b(0x5d7)]=_0x11ded9[_0x4eba8b(0x5c9)],window_options[_0x410974]['setCorrelativo']=_0x11ded9[_0x4eba8b(0x4a4)]);window_options[_0x410974]['setClienteTipoDoc']=_0x11ded9[_0x4eba8b(0x357)],window_options[_0x410974][_0x4eba8b(0x5a2)]=_0x11ded9['setReceiptClientDocNumber'],window_options[_0x410974][_0x4eba8b(0x36c)]=_0x11ded9[_0x4eba8b(0x11b)],window_options[_0x410974][_0x4eba8b(0x3e1)]=_0x11ded9[_0x4eba8b(0x5ae)],window_options[_0x410974][_0x4eba8b(0x15a)]=_0x11ded9[_0x4eba8b(0x369)],window_options[_0x410974]['setObservacion']=_0x11ded9[_0x4eba8b(0x2bf)],window_options[_0x410974][_0x4eba8b(0x2cd)]=_0x11ded9['setDispatchType'],window_options[_0x410974][_0x4eba8b(0x420)]=_0x11ded9[_0x4eba8b(0x56a)],window_options[_0x410974][_0x4eba8b(0x59b)]=_0x4ddc2b,document[_0x4eba8b(0x536)](_0x4eba8b(0x250))[_0x4eba8b(0x1e8)]=_0x11ded9[_0x4eba8b(0x250)],document[_0x4eba8b(0x536)](_0x4eba8b(0x250))[_0x4eba8b(0x514)](new Event(_0x4eba8b(0x41f))),window_options[_0x410974][_0x4eba8b(0x3a6)]=_0x11ded9[_0x4eba8b(0x252)],await saveWindowOptionsDB(_0x410974);for(let _0x3f3982=0x0;_0x3f3982<_0x4ddc2b[_0x4eba8b(0x5d9)];_0x3f3982++){const _0x44c51a=_0x4ddc2b[_0x3f3982],_0x55e98a=products[_0x4eba8b(0x189)](_0x3dd7dd=>_0x3dd7dd['id']==_0x44c51a[_0x4eba8b(0x623)]);_0x55e98a&&(await new Promise(_0xa79dc6=>setTimeout(_0xa79dc6,0x64)),addToCart(_0x55e98a,{'setValorCantidad':_0x44c51a[_0x4eba8b(0x2c7)],'setMtoPrecioUnitario_final':_0x44c51a[_0x4eba8b(0x19f)],'setTaxId':_0x44c51a[_0x4eba8b(0x507)],'setTipAfeIgv':_0x44c51a['setTipAfeIgv'],'setPorcentajeDesc':_0x44c51a[_0x4eba8b(0x171)],'setNotas':_0x44c51a[_0x4eba8b(0x59f)],'setMtoPrecioUnitario_input':_0x44c51a[_0x4eba8b(0x19f)],'setMtoPrecioCostoUnitario_input':_0x44c51a[_0x4eba8b(0x24c)]},0x1));}}else ntfShow(_0x4eba8b(0x4bb)),console[_0x4eba8b(0x415)](_0x4eba8b(0x4bb));}catch(_0x2e993d){ntfShow(_0x4eba8b(0x2fb)),console[_0x4eba8b(0x47f)](_0x4eba8b(0xe2),_0x2e993d);}finally{_0x14847c[_0x4eba8b(0x5bd)]=![],hideLoadingModal();}}async function setPrintOnline(_0x1e4da6,_0x40e216,_0x455845,_0x1126b1=0x0){const _0x2f0975=_0x773bc5,_0x507955=document[_0x2f0975(0x536)](_0x2f0975(0x45d))[_0x2f0975(0x1e8)],_0x1937e8=myCompany[_0x2f0975(0x588)],_0x58781e=_0x1937e8[_0x2f0975(0x189)](_0x3395eb=>_0x3395eb['setBranchId']==_0x507955&&_0x3395eb[_0x2f0975(0x480)]==0x1),_0x50a69e=getUserPermissionApiERP(0x6),_0x38ba87=_0x58781e?0x1:0x0;if(!_0x40e216){ntfShow('No\x20hay\x20un\x20PDF\x20cargado.');return;}_0x1126b1!=0x1&&hideModal();showLoadingModal();const _0xb7db27=document[_0x2f0975(0x536)](_0x2f0975(0x316));_0xb7db27[_0x2f0975(0x535)]=_0x2f0975(0x5b3)+_0x1e4da6+_0x2f0975(0x2e7);if(_0x38ba87==0x1&&_0x50a69e==0x1){const _0x11d69e='iframePrint_'+generateUUID(),_0xe039bb=document[_0x2f0975(0x49d)](_0x2f0975(0x47a));_0xe039bb[_0x2f0975(0x64a)]=_0x11d69e,_0xe039bb[_0x2f0975(0x478)][_0x2f0975(0x100)]=_0x2f0975(0x2b8),document[_0x2f0975(0x4de)][_0x2f0975(0x390)](_0xe039bb);const _0x375f21=document[_0x2f0975(0x49d)](_0x2f0975(0x14d));_0x375f21['method']=_0x2f0975(0x2e2),_0x375f21[_0x2f0975(0x676)]=_0x58781e[_0x2f0975(0x3f8)],_0x375f21['enctype']='multipart/form-data',_0x375f21[_0x2f0975(0x5f4)]=_0xe039bb[_0x2f0975(0x64a)];const _0x1cfa9b={'printData':JSON[_0x2f0975(0x112)]({'setPrinterName':_0x1e4da6,'setPdfName':_0x455845,'setPrint':0x1})};for(const _0x2e66f0 in _0x1cfa9b){const _0x44c965=document[_0x2f0975(0x49d)]('input');_0x44c965['type']='hidden',_0x44c965[_0x2f0975(0x64a)]=_0x2e66f0,_0x44c965['value']=_0x1cfa9b[_0x2e66f0],_0x375f21[_0x2f0975(0x390)](_0x44c965);}const _0x3fdcda=document['createElement'](_0x2f0975(0x513));_0x3fdcda['type']=_0x2f0975(0x670),_0x3fdcda[_0x2f0975(0x64a)]=_0x2f0975(0x1f1);const _0x199a25=new File([_0x40e216],'documento.pdf',{'type':_0x2f0975(0x58d)}),_0x1095cd=new DataTransfer();_0x1095cd[_0x2f0975(0x1f7)][_0x2f0975(0x273)](_0x199a25),_0x3fdcda[_0x2f0975(0x2d2)]=_0x1095cd[_0x2f0975(0x2d2)],_0x375f21[_0x2f0975(0x390)](_0x3fdcda),document['body']['appendChild'](_0x375f21),_0x375f21['submit'](),document[_0x2f0975(0x4de)]['removeChild'](_0x375f21),await new Promise(_0x2554c5=>setTimeout(_0x2554c5,0x4b0)),setTimeout(()=>{const _0x3cfdcb=_0x2f0975;document[_0x3cfdcb(0x4de)][_0x3cfdcb(0x4b9)](_0xe039bb);},0xaf0),hideLoadingModal(),_0x1126b1!=0x1&&showModal();}else{if(!isOnline())return console[_0x2f0975(0x415)](_0x2f0975(0x5b8)),null;const _0x265c7a={'setAuthToken':myCompany[_0x2f0975(0x451)],'setPrinterName':_0x1e4da6,'setPdfName':_0x455845,'setBucketName':_0x2f0975(0x144),'setPrint':0x1},_0x583666=new FormData();_0x583666[_0x2f0975(0x597)](_0x2f0975(0x598),JSON[_0x2f0975(0x112)](_0x265c7a));if(_0x40e216 instanceof Blob&&_0x40e216[_0x2f0975(0x3da)]>0x0)_0x583666[_0x2f0975(0x597)](_0x2f0975(0x1f1),_0x40e216,_0x2f0975(0x1e1));else{console[_0x2f0975(0x47f)](_0x2f0975(0x3c1));return;}try{const _0x17f6c7=await fetch(_0x2f0975(0x35e),{'method':'POST','body':_0x583666});if(!_0x17f6c7['ok'])throw new Error(_0x2f0975(0x3af)+_0x17f6c7[_0x2f0975(0x19c)]);const _0x35891f=await _0x17f6c7[_0x2f0975(0x5ed)]();if(!_0x35891f[_0x2f0975(0x4f3)])throw new Error(_0x35891f['message']||_0x2f0975(0x560));_0xb7db27[_0x2f0975(0x535)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>';}catch(_0x57a781){ntfShow(_0x57a781);}finally{hideLoadingModal(),_0x1126b1!=0x1&&showModal();}}}async function processPrints(_0x265add){const _0x7bbec8=_0x773bc5;for(const _0x52a2bf of _0x265add){const {payloadComand:_0x3f1bf4}=_0x52a2bf,{pdfBlob:_0x54e8d3,pdfName:_0xaf0466}=await generatePdf(_0x3f1bf4,'tk',_0x7bbec8(0x489),_0x7bbec8(0x27a)),_0x16cc5e=_0xaf0466[_0x7bbec8(0x437)]('.pdf','-'+_0x52a2bf[_0x7bbec8(0x17a)]+_0x7bbec8(0x410));await setPrintOnline(_0x52a2bf[_0x7bbec8(0x595)],_0x54e8d3,_0x16cc5e,0x1);}}function setPrinter(_0xd2f7d6,_0x2dee2a){const _0x1baa3f=_0x773bc5;document['getElementById'](_0x1baa3f(0x5b7))['textContent']=_0x2dee2a,document[_0x1baa3f(0x536)](_0x1baa3f(0x5b7))[_0x1baa3f(0x1cc)](_0x1baa3f(0x283),_0xd2f7d6);}async function generatePdfTk(){const _0x35506a=_0x773bc5,{pdfBlob:_0x59ad7f,pdfName:_0x660dbd}=await generatePdf(pdfGlobalPayload,'tk',_0x35506a(0x489),_0x35506a(0x27a));pdfGlobalBlob=_0x59ad7f,pdfGlobalName=_0x660dbd;}async function generatePdfA4(){const _0x18b3a6=_0x773bc5,{pdfBlob:_0x2c7dab,pdfName:_0x10f95b}=await generatePdf(pdfGlobalPayload,'a4',_0x18b3a6(0x489),_0x18b3a6(0x27a));pdfGlobalBlob=_0x2c7dab,pdfGlobalName=_0x10f95b;}async function apiERPupdateOnline(_0x2cf66b,_0x749b0){const _0x4d998c=_0x773bc5;if(!isOnline())return console[_0x4d998c(0x415)](_0x4d998c(0x3f1)),Promise[_0x4d998c(0x124)](_0x4d998c(0x3f1));const _0x220347={'setAuthToken':_0x2cf66b,'setWindows':_0x749b0};return fetch(_0x4d998c(0x645),{'method':_0x4d998c(0x2e2),'headers':{'Content-Type':_0x4d998c(0x62d)},'body':JSON[_0x4d998c(0x112)](_0x220347)})['then'](_0x2a1d19=>{const _0xc1d409=_0x4d998c;if(!_0x2a1d19['ok'])throw new Error(_0xc1d409(0x462)+_0x2a1d19['statusText']);return _0x2a1d19[_0xc1d409(0x5ed)]();})['then'](_0x46292d=>{const _0x15fc76=_0x4d998c;if(!_0x46292d[_0x15fc76(0x4f3)])throw new Error(_0x46292d[_0x15fc76(0x1df)]||_0x15fc76(0x60d));return console[_0x15fc76(0x415)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x46292d;})[_0x4d998c(0x63a)](_0x4d3b9d=>{const _0x1fe033=_0x4d998c;console['error'](_0x1fe033(0x5d6),_0x4d3b9d);throw _0x4d3b9d;});}function cargarVentanas(_0x122ed9,_0x5d2af4){const _0x58235e=_0x773bc5,_0x3abafe=myCompany['setWindows'][_0x58235e(0xdc)](_0x36f5d4=>_0x36f5d4[_0x58235e(0x45d)]==_0x122ed9&&_0x36f5d4[_0x58235e(0x4cf)]==_0x5d2af4),_0x5cd9ed=0x5,_0x50027b=0x5,_0x70eb37=0x5,_0x34df7d=0x5,_0x572f75=0x78,_0x28b44d=0x78;let _0x4b82a0=_0x5cd9ed,_0x185ef6=_0x50027b;!posicionesPorPiso[_0x5d2af4]&&(posicionesPorPiso[_0x5d2af4]={});const _0x39861e=_0x3abafe[_0x58235e(0x1b5)](_0x3b9a34=>{const _0x4e716b=_0x58235e;posicionesPorPiso[_0x5d2af4][_0x3b9a34[_0x4e716b(0xf1)]]?(_0x3b9a34['x']=posicionesPorPiso[_0x5d2af4][_0x3b9a34['setWindowId']]['x'],_0x3b9a34['y']=posicionesPorPiso[_0x5d2af4][_0x3b9a34[_0x4e716b(0xf1)]]['y']):(_0x3b9a34['x']=_0x4b82a0,_0x3b9a34['y']=_0x185ef6,posicionesPorPiso[_0x5d2af4][_0x3b9a34['setWindowId']]={'x':_0x4b82a0,'y':_0x185ef6},_0x4b82a0+=_0x572f75+_0x70eb37,_0x4b82a0+_0x572f75>layout_windows[_0x4e716b(0x521)]&&(_0x4b82a0=_0x5cd9ed,_0x185ef6+=_0x28b44d+_0x34df7d));let _0x162007={'setWindowId':_0x3b9a34[_0x4e716b(0xf1)],'setWindowType':_0x3b9a34[_0x4e716b(0x5f6)],'setWindowName':_0x3b9a34[_0x4e716b(0x399)],'x':_0x3b9a34['x'],'y':_0x3b9a34['y'],'zona':_0x3b9a34['setFloorName'],'floorId':_0x3b9a34['setFloorId']};return[_0x4e716b(0x2c9),_0x4e716b(0x323),_0x4e716b(0x2f6),_0x4e716b(0x33f)][_0x4e716b(0x163)](_0x3b9a34[_0x4e716b(0x5f6)])&&(_0x162007[_0x4e716b(0x14c)]=_0x3b9a34[_0x4e716b(0x14c)]||_0x4e716b(0x44c),_0x162007[_0x4e716b(0x672)]=_0x3b9a34['setWindowStatus']||_0x4e716b(0x3b6)),_0x162007;}),_0x10bdbc=extraElements[_0x58235e(0xdc)](_0x4b2ee6=>_0x4b2ee6[_0x58235e(0x1a2)]==_0x5d2af4);elementos=[..._0x39861e,..._0x10bdbc],crearElementos();}function crearElementos(){const _0x215f57=_0x773bc5,_0x52eba6=myCompany[_0x215f57(0x35f)],_0x15906f=myCompany[_0x215f57(0x114)][_0x215f57(0x189)](_0x21e6c1=>_0x21e6c1[_0x215f57(0x4d9)]==_0x52eba6),_0x31aa2c=_0x15906f?_0x15906f['setMonedaSimbol']:'';layout_windows[_0x215f57(0x535)]='',elementos[_0x215f57(0x24f)](_0x2e9000=>{const _0x5ed529=_0x215f57;let _0x7b72a0='',_0xbed23f=0x0,_0x2c899b=0x0,_0x466e78;const _0x51f9b7=getValidatedWindowAndShift(_0x2e9000[_0x5ed529(0xf1)]);if(_0x51f9b7){const {currentWindowShift:_0x501a72}=_0x51f9b7;if(_0x501a72){if(_0x51f9b7[_0x5ed529(0x55a)]['setWindowStatus']==_0x5ed529(0x2ed))_0x7b72a0=_0x5ed529(0x3b9)+formatShiftDate(_0x501a72['setPreAccountDate']);else _0x51f9b7[_0x5ed529(0x55a)][_0x5ed529(0x672)]==_0x5ed529(0x1ef)&&(_0x7b72a0=_0x5ed529(0x3b9)+formatShiftDate(_0x501a72[_0x5ed529(0x1f9)]));const _0x4bc552=_0x501a72['setOrders']||[];_0xbed23f=_0x4bc552[_0x5ed529(0xdc)](_0x4c9957=>setTipOpeOrders[_0x5ed529(0x615)](_0x2a2653=>_0x2a2653==_0x4c9957[_0x5ed529(0x4ee)]))[_0x5ed529(0x5d9)],_0x2c899b=_0x4bc552[_0x5ed529(0x51f)]((_0x43a066,_0x453dd3)=>{const _0x218fd7=_0x5ed529,_0xc5c03=parseFloat(_0x453dd3['setMtoImpVenta'])||0x0;if(setTipOpeOrders['some'](_0x42c389=>_0x42c389==_0x453dd3['setTipoOperacion']))return _0x43a066+_0xc5c03;if(setTipOpeSales['some'](_0x54b612=>_0x54b612==_0x453dd3[_0x218fd7(0x4ee)]))return _0x43a066-_0xc5c03;return _0x43a066;},0x0);const _0x3bb799=_0x501a72['setShiftUserEmail']||'',_0x157636=myCompany[_0x5ed529(0x194)][_0x5ed529(0x189)](_0x502982=>_0x502982[_0x5ed529(0x435)]==_0x3bb799);_0x466e78=_0x157636?_0x157636['setUserFullName']:'';}}const _0x176ff1=document[_0x5ed529(0x49d)]('div');_0x176ff1['id']=_0x5ed529(0x25e)+_0x2e9000[_0x5ed529(0xf1)],_0x176ff1[_0x5ed529(0x374)]=_0x5ed529(0x5b2)+_0x2e9000[_0x5ed529(0x672)]+_0x5ed529(0x5b0)+_0x2e9000[_0x5ed529(0x14c)],_0x176ff1[_0x5ed529(0x478)]['left']=_0x2e9000['x']+'px',_0x176ff1[_0x5ed529(0x478)][_0x5ed529(0x311)]=_0x2e9000['y']+'px';let _0x5df6a1='';switch(_0x2e9000[_0x5ed529(0x5f6)]){case _0x5ed529(0x2c9):_0x5df6a1=_0x5ed529(0x3b7);break;case _0x5ed529(0x323):_0x5df6a1='./img/layout/icon-table.svg';break;case _0x5ed529(0x2f6):_0x5df6a1=_0x5ed529(0x67d);break;case _0x5ed529(0x33f):_0x5df6a1=_0x5ed529(0x3b7);break;case _0x5ed529(0x5d4):_0x5df6a1=_0x5ed529(0x3dd);break;case'element-bathroom-men':_0x5df6a1='./img/layout/icon-bathroom-men.svg';break;case'element-bathroom-unisex':_0x5df6a1=_0x5ed529(0x1db);break;case _0x5ed529(0x26b):_0x5df6a1=_0x5ed529(0x32e);break;case _0x5ed529(0x226):_0x5df6a1=_0x5ed529(0x532);break;case _0x5ed529(0x243):_0x5df6a1=_0x5ed529(0x1bf);break;case'element-fridge':_0x5df6a1=_0x5ed529(0x289);break;case _0x5ed529(0x2e4):_0x5df6a1=_0x5ed529(0x2b5);break;case'element-printer':_0x5df6a1=_0x5ed529(0x591);break;case _0x5ed529(0x1c8):_0x5df6a1=_0x5ed529(0x233);break;case _0x5ed529(0x430):_0x5df6a1=_0x5ed529(0x1e2);break;case _0x5ed529(0x39a):_0x5df6a1=_0x5ed529(0x29d);break;case _0x5ed529(0x1fc):_0x5df6a1='./img/layout/icon-waiter.svg';break;default:_0x5df6a1=_0x5ed529(0x3b7);}if(_0x2e9000[_0x5ed529(0x672)]==_0x5ed529(0x3b6)){let _0x4ab867=_0x5ed529(0x342)+_0x5df6a1+_0x5ed529(0x275)+_0x2e9000[_0x5ed529(0x5f6)]+'\x22>';_0x176ff1[_0x5ed529(0x535)]=_0x5ed529(0x3ef)+_0x2e9000[_0x5ed529(0xf1)]+_0x5ed529(0x4b5)+_0x2e9000[_0x5ed529(0x399)]+_0x5ed529(0x629)+_0x4ab867+_0x5ed529(0x466);}else _0x176ff1[_0x5ed529(0x535)]=_0x5ed529(0x1d7)+_0x2e9000['setWindowId']+_0x5ed529(0x4b5)+_0x2e9000[_0x5ed529(0x399)]+_0x5ed529(0x37c)+_0x2e9000[_0x5ed529(0xf1)]+_0x5ed529(0x586)+_0x466e78+'<br>\x0a'+_0x31aa2c+'\x20'+parseFloat(_0x2c899b)[_0x5ed529(0x16f)](0x2)+'\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>'+_0xbed23f+'\x20ped</span>\x0a<span\x20class=\x22time-text\x22>'+_0x7b72a0+'</span>\x0a</div>\x0a</div>\x0a';_0x176ff1[_0x5ed529(0xeb)]['setWindowId']=_0x2e9000[_0x5ed529(0xf1)],layout_windows[_0x5ed529(0x390)](_0x176ff1),addDragEvents(_0x176ff1);});}function checkCollision(_0xdb684b){const _0x18f67d=_0x773bc5,_0x54947b=parseInt(_0xdb684b[_0x18f67d(0x478)][_0x18f67d(0x150)]),_0x4de89e=parseInt(_0xdb684b['style'][_0x18f67d(0x311)]),_0x22f716=_0xdb684b[_0x18f67d(0x464)],_0x266ee3=_0xdb684b[_0x18f67d(0x3c4)];let _0x2e654b=![];const _0x160787=layout_windows['querySelectorAll'](_0x18f67d(0x25b));return _0x160787[_0x18f67d(0x24f)](_0x3dd630=>{const _0x3148f2=_0x18f67d;if(_0x3dd630==_0xdb684b)return;const _0x5672c1=parseInt(_0x3dd630[_0x3148f2(0x478)][_0x3148f2(0x150)]),_0x42e121=parseInt(_0x3dd630[_0x3148f2(0x478)][_0x3148f2(0x311)]),_0x172b9d=_0x3dd630['offsetWidth'],_0x5a837a=_0x3dd630[_0x3148f2(0x3c4)];_0x54947b<_0x5672c1+_0x172b9d&&_0x54947b+_0x22f716>_0x5672c1&&_0x4de89e<_0x42e121+_0x5a837a&&_0x4de89e+_0x266ee3>_0x42e121&&(_0x2e654b=!![]);}),_0x2e654b;}function avoidOverlap(_0x56969d){const _0x125dd7=_0x773bc5;let _0x672691=parseInt(_0x56969d[_0x125dd7(0x478)]['left']),_0x2d7c18=parseInt(_0x56969d[_0x125dd7(0x478)][_0x125dd7(0x311)]);const _0x48db75=0xa;let _0x4add47=0x0;while(checkCollision(_0x56969d)&&_0x4add47<0x64){_0x672691+=_0x48db75,_0x672691+_0x56969d[_0x125dd7(0x464)]>layout_windows[_0x125dd7(0x521)]&&(_0x672691=0x0,_0x2d7c18+=_0x48db75,_0x2d7c18+_0x56969d[_0x125dd7(0x3c4)]>layout_windows[_0x125dd7(0x447)]&&(_0x2d7c18=0x0)),_0x56969d[_0x125dd7(0x478)][_0x125dd7(0x150)]=_0x672691+'px',_0x56969d[_0x125dd7(0x478)]['top']=_0x2d7c18+'px',_0x4add47++;}}function constrainToBounds(_0x28c080){const _0x19a9a5=_0x773bc5;let _0x584f3c=parseInt(_0x28c080[_0x19a9a5(0x478)][_0x19a9a5(0x150)]),_0x4efaee=parseInt(_0x28c080[_0x19a9a5(0x478)][_0x19a9a5(0x311)]);const _0x33d7f1=_0x28c080[_0x19a9a5(0x464)],_0x26bf37=_0x28c080[_0x19a9a5(0x3c4)];if(_0x584f3c<0x0)_0x584f3c=0x0;if(_0x4efaee<0x0)_0x4efaee=0x0;if(_0x584f3c+_0x33d7f1>layout_windows['clientWidth'])_0x584f3c=layout_windows['clientWidth']-_0x33d7f1;if(_0x4efaee+_0x26bf37>layout_windows[_0x19a9a5(0x447)])_0x4efaee=layout_windows[_0x19a9a5(0x447)]-_0x26bf37;_0x28c080[_0x19a9a5(0x478)][_0x19a9a5(0x150)]=_0x584f3c+'px',_0x28c080[_0x19a9a5(0x478)]['top']=_0x4efaee+'px';}function updateElementPosition(_0x180574){const _0x1db435=_0x773bc5,_0x42df8a=parseInt(_0x180574['dataset'][_0x1db435(0xf1)]),_0x5f4f54=elementos[_0x1db435(0x189)](_0x325d4d=>_0x325d4d[_0x1db435(0xf1)]==_0x42df8a);if(_0x5f4f54){_0x5f4f54['x']=parseInt(_0x180574[_0x1db435(0x478)][_0x1db435(0x150)]),_0x5f4f54['y']=parseInt(_0x180574[_0x1db435(0x478)]['top']);posicionesPorPiso[_0x5f4f54[_0x1db435(0x1a2)]]&&(posicionesPorPiso[_0x5f4f54[_0x1db435(0x1a2)]][_0x5f4f54[_0x1db435(0xf1)]]={'x':_0x5f4f54['x'],'y':_0x5f4f54['y']});const _0x4931fa=extraElements[_0x1db435(0x5bf)](_0x507f5b=>_0x507f5b[_0x1db435(0xf1)]==_0x42df8a);_0x4931fa!==-0x1&&(extraElements[_0x4931fa]['x']=_0x5f4f54['x'],extraElements[_0x4931fa]['y']=_0x5f4f54['y']),console[_0x1db435(0x415)](_0x1db435(0x48e),_0x5f4f54[_0x1db435(0x399)],'a',_0x5f4f54['x'],_0x5f4f54['y']);}}function addDragEvents(_0x24e3f9){const _0x58ceef=_0x773bc5;_0x24e3f9[_0x58ceef(0x2fd)]('click',function(_0x160793){const _0x3514b3=_0x58ceef;if(editMode)return;if(_0x160793[_0x3514b3(0x5f4)]['closest'](_0x3514b3(0x1b3))||_0x160793['target'][_0x3514b3(0x53b)](_0x3514b3(0x15d)))return;const _0x4bd9e7=parseInt(_0x24e3f9['dataset']['setWindowId']),_0x9e331f=elementos['find'](_0x159e06=>_0x159e06['setWindowId']==_0x4bd9e7);_0x9e331f&&(_0x9e331f[_0x3514b3(0x5f6)]==_0x3514b3(0x2c9)||_0x9e331f[_0x3514b3(0x5f6)]==_0x3514b3(0x323)||_0x9e331f[_0x3514b3(0x5f6)]=='room'||_0x9e331f['setWindowType']=='chair')&&clickMesa(_0x9e331f,0x1);}),_0x24e3f9[_0x58ceef(0x2fd)](_0x58ceef(0x51a),function(_0x2f37fd){const _0x482e35=_0x58ceef;if(!editMode)return;currentDrag=_0x24e3f9,offsetX=_0x2f37fd[_0x482e35(0x63b)]-parseInt(_0x24e3f9['style']['left']),offsetY=_0x2f37fd[_0x482e35(0x3ad)]-parseInt(_0x24e3f9[_0x482e35(0x478)]['top']),_0x24e3f9[_0x482e35(0x478)][_0x482e35(0x483)]=0x3e8,dragStartX=_0x2f37fd[_0x482e35(0x63b)],dragStartY=_0x2f37fd['clientY'],isDraggingMoved=![];}),document[_0x58ceef(0x2fd)](_0x58ceef(0x1a5),function(_0x474825){const _0x4012ba=_0x58ceef;if(currentDrag&&editMode){const _0x3f281f=_0x474825['clientX']-offsetX,_0x4f288c=_0x474825['clientY']-offsetY;currentDrag[_0x4012ba(0x478)][_0x4012ba(0x150)]=_0x3f281f+'px',currentDrag[_0x4012ba(0x478)][_0x4012ba(0x311)]=_0x4f288c+'px',!isDraggingMoved&&(Math[_0x4012ba(0x3c5)](_0x474825[_0x4012ba(0x63b)]-dragStartX)>0x5||Math['abs'](_0x474825[_0x4012ba(0x3ad)]-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document[_0x58ceef(0x2fd)]('mouseup',function(_0x2e261d){currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag['style']['zIndex']='',currentDrag=null);}),_0x24e3f9[_0x58ceef(0x2fd)](_0x58ceef(0x215),function(_0x36b484){const _0x4c8fb0=_0x58ceef;if(!editMode)return;currentDrag=_0x24e3f9;const _0x1d346f=_0x36b484['touches'][0x0];offsetX=_0x1d346f[_0x4c8fb0(0x63b)]-parseInt(_0x24e3f9[_0x4c8fb0(0x478)][_0x4c8fb0(0x150)]),offsetY=_0x1d346f['clientY']-parseInt(_0x24e3f9['style']['top']),_0x24e3f9['style'][_0x4c8fb0(0x483)]=0x3e8,dragStartX=_0x1d346f['clientX'],dragStartY=_0x1d346f[_0x4c8fb0(0x3ad)],isDraggingMoved=![],_0x36b484[_0x4c8fb0(0x66a)]();}),document['addEventListener']('touchmove',function(_0x5e2d0c){const _0xd60b2a=_0x58ceef;if(currentDrag&&editMode){const _0x3a8b24=_0x5e2d0c[_0xd60b2a(0x391)][0x0],_0x204df3=_0x3a8b24['clientX']-offsetX,_0x5116a0=_0x3a8b24[_0xd60b2a(0x3ad)]-offsetY;currentDrag['style'][_0xd60b2a(0x150)]=_0x204df3+'px',currentDrag['style'][_0xd60b2a(0x311)]=_0x5116a0+'px',!isDraggingMoved&&(Math[_0xd60b2a(0x3c5)](_0x3a8b24['clientX']-dragStartX)>0x5||Math[_0xd60b2a(0x3c5)](_0x3a8b24[_0xd60b2a(0x3ad)]-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x5e2d0c['preventDefault']();}}),document[_0x58ceef(0x2fd)](_0x58ceef(0x539),function(_0x55c98c){const _0x9403c3=_0x58ceef;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x9403c3(0x478)][_0x9403c3(0x483)]='',currentDrag=null);});}async function clickMesa(_0x124643,_0x4f99fc=0x1){const _0x7a78aa=_0x773bc5,_0x1efb0c=_0x124643[_0x7a78aa(0xf1)],_0x28b26e=getValidatedWindowAndShift(_0x1efb0c),{currentWindowShift:_0x5a3f96}=_0x28b26e;if(!_0x5a3f96)updateWindowShiftDisplay(_0x1efb0c);else{const _0x4fcf24=_0x7a78aa(0x1c5)+_0x1efb0c;await switchTab(_0x4fcf24,0x1);}_0x4f99fc==0x1&&hideModalLayout();}function toggleEditMode(){const _0x1e8d27=_0x773bc5;editMode=!editMode;const _0x170dc7=document[_0x1e8d27(0x536)](_0x1e8d27(0x10b));_0x170dc7[_0x1e8d27(0x181)]=editMode?_0x1e8d27(0x1ed):'Editar';const _0x5bdeee=document['getElementById'](_0x1e8d27(0x647));_0x5bdeee&&(_0x5bdeee[_0x1e8d27(0x478)]['display']=editMode?'block':_0x1e8d27(0x2b8)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x254a1a=_0x773bc5;if(!editMode)return;const _0x7f1593=document['getElementById'](_0x254a1a(0x1aa)),_0x2828df=_0x7f1593[_0x254a1a(0x1e8)];let _0xcdc25f='';switch(_0x2828df){case _0x254a1a(0x5d4):_0xcdc25f='';break;case _0x254a1a(0x516):_0xcdc25f='';break;case _0x254a1a(0x412):_0xcdc25f='';break;case'element-bathroom-women':_0xcdc25f='';break;case'element-cashier':_0xcdc25f='';break;case'element-clock':_0xcdc25f='';break;case _0x254a1a(0x2a6):_0xcdc25f='';break;case _0x254a1a(0x2e4):_0xcdc25f='';break;case _0x254a1a(0x5c7):_0xcdc25f='';break;case _0x254a1a(0x1c8):_0xcdc25f='';break;case _0x254a1a(0x430):_0xcdc25f='';break;case _0x254a1a(0x39a):_0xcdc25f='';break;case _0x254a1a(0x1fc):_0xcdc25f='';break;default:_0xcdc25f='';}const _0x160197=document[_0x254a1a(0x536)]('setFloorId'),_0x13d2d2=_0x160197[_0x254a1a(0x1e8)],_0x2f5496=generateUniqId(),_0x4d03a0=0xa,_0x5abea3=0xa,_0x3719cc={'setWindowId':_0x2f5496,'setWindowType':_0x2828df,'setWindowName':_0xcdc25f,'x':_0x4d03a0,'y':_0x5abea3,'zona':_0x160197[_0x254a1a(0xf8)][_0x160197[_0x254a1a(0x17d)]][_0x254a1a(0x425)],'floorId':_0x13d2d2};[_0x254a1a(0x2c9),_0x254a1a(0x323),'room',_0x254a1a(0x33f)][_0x254a1a(0x163)](_0x2828df)&&(_0x3719cc['setWindowTypeShape']=_0x254a1a(0x571),_0x3719cc[_0x254a1a(0x672)]='free'),extraElements['push'](_0x3719cc),!posicionesPorPiso[_0x13d2d2]&&(posicionesPorPiso[_0x13d2d2]={}),posicionesPorPiso[_0x13d2d2][_0x2f5496]={'x':_0x4d03a0,'y':_0x5abea3},cargarVentanas(myCompany[_0x254a1a(0x458)][0x0][_0x254a1a(0x45d)],_0x13d2d2);}function saveLayoutState(){const _0x1fdb09=_0x773bc5;createCartStore('')[_0x1fdb09(0xee)](_0x4967eb=>{const _0x3eb818=_0x1fdb09,_0x78dee5=_0x4967eb[_0x3eb818(0x210)]([_0x3eb818(0x1e0)],_0x3eb818(0x421)),_0x30958c=_0x78dee5['objectStore'](_0x3eb818(0x1e0)),_0x20b378={'id':'layout','elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x2e2296=_0x30958c[_0x3eb818(0x4cc)](_0x20b378);_0x2e2296[_0x3eb818(0x45a)]=function(){const _0x56fb62=_0x3eb818;console[_0x56fb62(0x415)](_0x56fb62(0x320));},_0x2e2296[_0x3eb818(0x457)]=function(_0x351145){const _0x53d327=_0x3eb818;console[_0x53d327(0x47f)](_0x53d327(0x4ed),_0x351145['target']['error']);};});}async function loadLayoutState(){const _0x21762f=_0x773bc5;try{const _0x1c2bcd=await createCartStore(''),_0x29a3d5=await new Promise((_0x4c8641,_0x1cdc40)=>{const _0x4ca2c0=_0xd9f0,_0x2d29d4=_0x1c2bcd[_0x4ca2c0(0x210)](['layoutState'],_0x4ca2c0(0x249)),_0x5cc100=_0x2d29d4[_0x4ca2c0(0x152)](_0x4ca2c0(0x1e0)),_0x5e6b00=_0x5cc100[_0x4ca2c0(0x503)](_0x4ca2c0(0x39e));_0x5e6b00[_0x4ca2c0(0x45a)]=()=>_0x4c8641(_0x5e6b00[_0x4ca2c0(0x3a4)]),_0x5e6b00[_0x4ca2c0(0x457)]=_0x136d4b=>_0x1cdc40(_0x136d4b[_0x4ca2c0(0x5f4)][_0x4ca2c0(0x47f)]);});_0x29a3d5&&(elementos=_0x29a3d5[_0x21762f(0x422)]||[],extraElements=_0x29a3d5[_0x21762f(0x4b7)]||[],posicionesPorPiso=_0x29a3d5[_0x21762f(0x353)]||{},console[_0x21762f(0x415)](_0x21762f(0x678)));}catch(_0xfb83f6){console['error'](_0x21762f(0x177),_0xfb83f6);throw _0xfb83f6;}}function saveLayoutOnline(){const _0x5f5bbc=_0x773bc5;if(!isOnline()){console[_0x5f5bbc(0x415)](_0x5f5bbc(0x2bd));return;}let _0x50e4dd={'id':_0x5f5bbc(0x39e),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x9b24c3={'layout':_0x50e4dd,'setToken':myCompany[_0x5f5bbc(0x451)]};fetch(_0x5f5bbc(0x3bd),{'method':_0x5f5bbc(0x2e2),'headers':{'Content-Type':_0x5f5bbc(0x62d)},'body':JSON['stringify'](_0x9b24c3)})[_0x5f5bbc(0xee)](_0x4e0694=>{const _0x19c583=_0x5f5bbc;if(!_0x4e0694['ok'])throw new Error(_0x19c583(0x462)+_0x4e0694[_0x19c583(0x19c)]);return _0x4e0694['json']();})[_0x5f5bbc(0xee)](_0x1bc80c=>{const _0x45ba3e=_0x5f5bbc;if(!_0x1bc80c[_0x45ba3e(0x4f3)])throw new Error(_0x1bc80c['message']||'Error\x20desconocido\x20al\x20guardar\x20el\x20layout.');console[_0x45ba3e(0x415)](_0x45ba3e(0x5f3));})[_0x5f5bbc(0x63a)](_0x25fb7c=>{const _0x15ec0b=_0x5f5bbc;console['error'](_0x15ec0b(0x172),_0x25fb7c);});}function setActiveTab(_0x160b65){const _0x2dbb04=_0x773bc5,_0x11d3f1=document['querySelectorAll'](_0x2dbb04(0x443)),_0x6c5fba=document[_0x2dbb04(0x4c1)]('.layout-tab-panel');_0x11d3f1[_0x2dbb04(0x24f)](_0x400471=>{const _0x5b2cc9=_0x2dbb04;_0x400471[_0x5b2cc9(0x223)](_0x5b2cc9(0x62f))===_0x160b65?_0x400471[_0x5b2cc9(0x2e5)][_0x5b2cc9(0x273)]('active'):_0x400471['classList'][_0x5b2cc9(0x1ce)](_0x5b2cc9(0x370));}),_0x6c5fba[_0x2dbb04(0x24f)](_0x1c0ae6=>{const _0x11ccfc=_0x2dbb04;_0x1c0ae6['id']===_0x11ccfc(0x1c5)+_0x160b65?_0x1c0ae6['classList'][_0x11ccfc(0x273)]('active'):_0x1c0ae6['classList'][_0x11ccfc(0x1ce)](_0x11ccfc(0x370));});}document['querySelectorAll'](_0x773bc5(0x443))[_0x773bc5(0x24f)](_0x4c9599=>{const _0x5a9088=_0x773bc5;_0x4c9599['addEventListener'](_0x5a9088(0x44b),function(){const _0x6c7437=_0x5a9088,_0x46d266=this[_0x6c7437(0x223)](_0x6c7437(0x62f));setActiveTab(_0x46d266);});});function createTabsEnvironments(){const _0x3b2862=_0x773bc5,_0x5a93de=document[_0x3b2862(0x65f)](_0x3b2862(0x280));_0x5a93de[_0x3b2862(0x535)]='';const _0x335696=document[_0x3b2862(0x49d)](_0x3b2862(0x208));_0x335696['className']=_0x3b2862(0x56b);const _0x2baacd=document['getElementById']('setFloorId');if(!_0x2baacd){console[_0x3b2862(0x47f)](_0x3b2862(0x523));return;}const _0x2141fd=Array[_0x3b2862(0x322)](_0x2baacd[_0x3b2862(0xf8)]),_0x9b7d92=_0x2141fd[_0x3b2862(0x189)](_0x2a992a=>_0x2a992a[_0x3b2862(0x371)])||_0x2141fd[0x0],_0x320020=document[_0x3b2862(0x49d)](_0x3b2862(0x529));_0x320020[_0x3b2862(0x374)]=_0x3b2862(0x54f),_0x320020[_0x3b2862(0x181)]=_0x9b7d92[_0x3b2862(0x425)],_0x335696[_0x3b2862(0x390)](_0x320020),_0x2141fd['forEach'](_0x3fc4b9=>{const _0x20df97=_0x3b2862;if(_0x3fc4b9===_0x9b7d92)return;const _0x1a426a=document[_0x20df97(0x49d)](_0x20df97(0x406));_0x1a426a[_0x20df97(0x374)]=_0x20df97(0x5d8),_0x1a426a[_0x20df97(0x181)]='|',_0x335696[_0x20df97(0x390)](_0x1a426a);const _0x5a70f1=document[_0x20df97(0x49d)]('button');_0x5a70f1[_0x20df97(0x374)]=_0x20df97(0x3fb),_0x5a70f1[_0x20df97(0x181)]=_0x3fc4b9[_0x20df97(0x425)],_0x5a70f1[_0x20df97(0x2fd)](_0x20df97(0x44b),function(){const _0x13e5bf=_0x20df97;handleTabSelection(_0x3fc4b9[_0x13e5bf(0x1e8)]);}),_0x335696['appendChild'](_0x5a70f1);}),_0x5a93de[_0x3b2862(0x390)](_0x335696);}async function handleTabSelection(_0x25c640){const _0x371670=_0x773bc5;hideModalLayout(),document['getElementById'](_0x371670(0x4cf))[_0x371670(0x1e8)]=_0x25c640,await changeEnvironments(_0x25c640),showModalLayout();}async function resetWindowPositions(_0x283127,_0x15a7cd){const _0x3caf02=_0x773bc5,_0x5593a4=myCompany[_0x3caf02(0x4b8)][_0x3caf02(0xdc)](_0x353b27=>_0x353b27[_0x3caf02(0x45d)]==_0x283127&&_0x353b27[_0x3caf02(0x4cf)]==_0x15a7cd);_0x5593a4[_0x3caf02(0x24f)](_0x3bed21=>{delete _0x3bed21['x'],delete _0x3bed21['y'];}),posicionesPorPiso[_0x15a7cd]&&(_0x5593a4['forEach'](_0x1137ec=>{delete posicionesPorPiso[_0x15a7cd][_0x1137ec['setWindowId']];}),Object[_0x3caf02(0x64f)](posicionesPorPiso[_0x15a7cd])['length']===0x0&&delete posicionesPorPiso[_0x15a7cd]);}function openMenu(_0x45c313,_0x4cfe14){const _0x23ac09=_0x773bc5,_0x4b6c30=document['querySelector']('.context-menu');if(_0x4b6c30)_0x4b6c30[_0x23ac09(0x1ce)]();const {windowObj:_0x2ef1ec}=getValidatedWindowAndShift(_0x45c313),_0x2efb7d=layout_windows,_0x4bd814=document['createElement']('ul');_0x4bd814[_0x23ac09(0x374)]=_0x23ac09(0x1be);const _0x2cb7a7=[];_0x2ef1ec['setWindowStatus']!==_0x23ac09(0x3b6)&&_0x2cb7a7['push']({'icon':_0x23ac09(0x4aa),'label':_0x23ac09(0x4f1),'handler':releaseWindow});_0x2cb7a7[_0x23ac09(0x24f)](({icon:_0x124470,label:_0x3bfece,handler:_0x48d2e2})=>{const _0x54fbbe=_0x23ac09,_0x5bc7cb=document[_0x54fbbe(0x49d)]('li');_0x5bc7cb[_0x54fbbe(0x535)]=_0x54fbbe(0x387)+_0x124470+'\x22\x20style=\x22margin-right:8px;\x22></i>'+_0x3bfece,_0x5bc7cb[_0x54fbbe(0x2fd)](_0x54fbbe(0x44b),_0x471867=>{const _0x47c6e0=_0x54fbbe;_0x471867[_0x47c6e0(0x1e5)](),_0x48d2e2(_0x45c313),_0x4bd814[_0x47c6e0(0x1ce)]();}),_0x5bc7cb[_0x54fbbe(0x2fd)](_0x54fbbe(0x4e7),()=>_0x5bc7cb[_0x54fbbe(0x478)][_0x54fbbe(0x4a1)]=_0x54fbbe(0x10a)),_0x5bc7cb[_0x54fbbe(0x2fd)](_0x54fbbe(0x55f),()=>_0x5bc7cb[_0x54fbbe(0x478)][_0x54fbbe(0x4a1)]=''),_0x4bd814['appendChild'](_0x5bc7cb);});const _0x50d7f0=_0x2efb7d[_0x23ac09(0x179)](),_0xa7b4e0=_0x4cfe14[_0x23ac09(0x63b)]-_0x50d7f0[_0x23ac09(0x150)],_0x3a4add=_0x4cfe14[_0x23ac09(0x3ad)]-_0x50d7f0[_0x23ac09(0x311)];_0x4bd814[_0x23ac09(0x478)][_0x23ac09(0x150)]=_0xa7b4e0+'px',_0x4bd814['style'][_0x23ac09(0x311)]=_0x3a4add+'px',_0x2efb7d['appendChild'](_0x4bd814);const _0x3c8451=_0x4c924c=>{const _0x26565b=_0x23ac09;!_0x4bd814[_0x26565b(0x251)](_0x4c924c[_0x26565b(0x5f4)])&&(_0x4bd814['remove'](),document[_0x26565b(0x340)](_0x26565b(0x44b),_0x3c8451));};document[_0x23ac09(0x2fd)](_0x23ac09(0x44b),_0x3c8451);}function editWindow(_0xddd587){const _0x2a87b4=_0x773bc5;console[_0x2a87b4(0x415)](_0x2a87b4(0x1cd),_0xddd587);}function deleteWindow(_0x553881){const _0x2c7169=_0x773bc5;console['log'](_0x2c7169(0x19a),_0x553881);}async function releaseWindow(_0x38166a){const _0x461229=_0x773bc5,_0xffec5e=getValidatedWindowAndShift(_0x38166a),{windowObj:_0x3cd31a,currentWindowShift:_0x5a0e28}=_0xffec5e;if(_0x5a0e28){_0x3cd31a['setLastDateUpdate']=new Date();const _0x3d7485=carts[_0x38166a]||[],_0x52f4be=_0x3d7485[_0x461229(0x615)](_0x2226df=>_0x2226df[_0x461229(0x64e)]!='');if(!_0x52f4be){_0x3cd31a[_0x461229(0x672)]=_0x461229(0x3b6);const _0x559bca=new Date();_0x5a0e28['setShiftStatus']='0',_0x5a0e28['setShiftDateEnd']=_0x559bca,await apiERPsyncWindows();const _0x26c021=await createCartStore('');await saveCompanyToIndexedDB(company,_0x26c021);const _0x355987=document[_0x461229(0x536)](_0x461229(0x4cf))['value'];await handleTabSelection(_0x355987);}}}function showModalCreateWindow(){const _0x450c42=_0x773bc5;hideModalLayout();const _0x5387ab=document[_0x450c42(0x536)](_0x450c42(0x423)),_0x4584a9=document[_0x450c42(0x536)]('modalOverlayCreateWindow');_0x5387ab['classList'][_0x450c42(0x273)](_0x450c42(0x370)),_0x4584a9['style'][_0x450c42(0x100)]=_0x450c42(0xe5);}function hideModalCreateWindow(){const _0x1a1775=_0x773bc5,_0x15ec80=document[_0x1a1775(0x536)](_0x1a1775(0x423)),_0x1f9a3b=document[_0x1a1775(0x536)](_0x1a1775(0x216));_0x15ec80[_0x1a1775(0x2e5)][_0x1a1775(0x1ce)](_0x1a1775(0x370)),_0x1f9a3b['style'][_0x1a1775(0x100)]=_0x1a1775(0x2b8);}document[_0x773bc5(0x536)]('closeModalCreateWindow')[_0x773bc5(0x2fd)]('click',hideModalCreateWindow),document[_0x773bc5(0x536)]('modalOverlayCreateWindow')[_0x773bc5(0x2fd)]('click',_0x5b8f9b=>{const _0x3a9ae8=_0x773bc5;_0x5b8f9b[_0x3a9ae8(0x5f4)]==_0x5b8f9b[_0x3a9ae8(0x446)]&&_0x5b8f9b[_0x3a9ae8(0x1e5)]();});function showModalShift(){const _0x3b53fd=_0x773bc5,_0x2d379a=document['getElementById'](_0x3b53fd(0x1cb)),_0x4c93bb=document[_0x3b53fd(0x536)](_0x3b53fd(0x276));_0x2d379a[_0x3b53fd(0x2e5)][_0x3b53fd(0x273)]('active'),_0x4c93bb[_0x3b53fd(0x478)][_0x3b53fd(0x100)]=_0x3b53fd(0xe5);}function hideModalShift(){const _0x10db3c=_0x773bc5,_0x34869b=document[_0x10db3c(0x536)](_0x10db3c(0x1cb)),_0x152a2e=document[_0x10db3c(0x536)](_0x10db3c(0x276));_0x34869b[_0x10db3c(0x2e5)][_0x10db3c(0x1ce)](_0x10db3c(0x370)),_0x152a2e[_0x10db3c(0x478)][_0x10db3c(0x100)]=_0x10db3c(0x2b8);}document[_0x773bc5(0x536)](_0x773bc5(0x626))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),hideModalShift),document[_0x773bc5(0x536)]('modalOverlayShift')[_0x773bc5(0x2fd)](_0x773bc5(0x44b),_0x5eadcf=>{const _0x248e96=_0x773bc5;_0x5eadcf[_0x248e96(0x5f4)]==_0x5eadcf[_0x248e96(0x446)]&&_0x5eadcf[_0x248e96(0x1e5)]();});async function updateShiftDisplay(){const _0x124f1b=_0x773bc5;if(!isOnline()){ntfShow(_0x124f1b(0x196));return;}const _0x27d996=document['getElementById']('setBranchId')[_0x124f1b(0x1e8)],_0x28fc71=document[_0x124f1b(0x536)](_0x124f1b(0x681)),_0x2b23f8=myCompany[_0x124f1b(0x35f)],_0x30d953=myCompany[_0x124f1b(0x114)][_0x124f1b(0x189)](_0x18f902=>_0x18f902[_0x124f1b(0x4d9)]==_0x2b23f8),_0x24eeaa=_0x30d953?_0x30d953[_0x124f1b(0x3e0)]:'';_0x28fc71['innerHTML']='';!myCompany[_0x124f1b(0x40c)]&&(myCompany['setShifts']=[]);const _0x1c3bb6=myCompany[_0x124f1b(0x40c)],_0x5326ce=_0x1c3bb6[_0x124f1b(0x189)](_0x41f4d2=>_0x41f4d2['setBranchId']==_0x27d996&&_0x41f4d2['setShiftStatus']=='1');if(!_0x5326ce){const _0x27c394=document[_0x124f1b(0x49d)]('div');_0x27c394[_0x124f1b(0x374)]=_0x124f1b(0x1bd);const _0x4bdbe7=document[_0x124f1b(0x49d)]('div');_0x4bdbe7[_0x124f1b(0x374)]='shift-open-leftCol';const _0x58c0cc=document[_0x124f1b(0x49d)]('img');_0x58c0cc['className']='shift-open-img',_0x58c0cc['src']='./img/icon-shift-open.svg',_0x58c0cc[_0x124f1b(0x508)]='Apertura\x20de\x20Caja',_0x4bdbe7[_0x124f1b(0x390)](_0x58c0cc);const _0x5d617e=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x5d617e[_0x124f1b(0x374)]=_0x124f1b(0xfb);const _0x3bc58d=document[_0x124f1b(0x49d)]('h2');_0x3bc58d[_0x124f1b(0x374)]=_0x124f1b(0x584),_0x3bc58d['textContent']=_0x124f1b(0x17b);const _0x105c19=document['createElement']('div');_0x105c19[_0x124f1b(0x374)]='shift-open-row2';const _0x5a66d4=document[_0x124f1b(0x49d)](_0x124f1b(0x31b));_0x5a66d4[_0x124f1b(0x374)]=_0x124f1b(0x409),_0x5a66d4[_0x124f1b(0x181)]=_0x124f1b(0x2dc);const _0x361632=document[_0x124f1b(0x49d)](_0x124f1b(0x513));_0x361632[_0x124f1b(0x374)]='form-control\x20custom-input-cart-options\x20shift-open-input',_0x361632[_0x124f1b(0x450)]=_0x124f1b(0x258),_0x361632['id']=_0x124f1b(0x515),_0x361632[_0x124f1b(0x541)]=_0x24eeaa+_0x124f1b(0x4b4),_0x105c19['appendChild'](_0x5a66d4),_0x105c19[_0x124f1b(0x390)](_0x361632);const _0x523078=document[_0x124f1b(0x49d)]('div');_0x523078[_0x124f1b(0x374)]=_0x124f1b(0x11a);const _0x3b33c6=document[_0x124f1b(0x49d)](_0x124f1b(0x529));_0x3b33c6[_0x124f1b(0x374)]=_0x124f1b(0x4d0),_0x3b33c6['id']='btnShiftStart',_0x3b33c6[_0x124f1b(0x181)]='Aperturar\x20Turno',_0x3b33c6['onclick']=openShift,_0x523078[_0x124f1b(0x390)](_0x3b33c6),_0x5d617e[_0x124f1b(0x390)](_0x3bc58d),_0x5d617e[_0x124f1b(0x390)](_0x105c19),_0x5d617e[_0x124f1b(0x390)](_0x523078),_0x27c394[_0x124f1b(0x390)](_0x4bdbe7),_0x27c394[_0x124f1b(0x390)](_0x5d617e),_0x28fc71[_0x124f1b(0x390)](_0x27c394);}else{const _0x457392=getUserPermissionApiERP(0xa);let _0x3e5ed6='',_0x5aaf04=[];showLoadingModal();if(_0x457392==0x1)try{const _0x470db2=myCompany[_0x124f1b(0x5e1)],_0x22cb4b={'apiPOS_getShiftDetails':0x1,'setToken':myCompany[_0x124f1b(0x451)],'setShiftId':_0x5326ce[_0x124f1b(0x264)]},_0x49ce57=await fetch(_0x470db2,{'method':'POST','headers':{'Content-Type':_0x124f1b(0x2c3)},'body':JSON[_0x124f1b(0x112)](_0x22cb4b)}),_0x7ae810=await _0x49ce57[_0x124f1b(0x5ed)]();_0x7ae810['success']&&_0x7ae810['message'][_0x124f1b(0x572)]&&(_0x5aaf04=_0x7ae810[_0x124f1b(0x1df)][_0x124f1b(0x572)]);}catch(_0x2d4eee){ntfShow(_0x124f1b(0x2fb)),console[_0x124f1b(0x47f)]('Error\x20en\x20la\x20solicitud:',_0x2d4eee);}else _0x3e5ed6='hidden';hideLoadingModal();const _0x43de83=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x43de83[_0x124f1b(0x374)]=_0x124f1b(0xdf);const _0x5b8020=document[_0x124f1b(0x49d)]('div');_0x5b8020['className']=_0x124f1b(0x4d7);const _0x13cb0c=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x13cb0c[_0x124f1b(0x374)]=_0x124f1b(0x392);const _0x27423e=document[_0x124f1b(0x49d)](_0x124f1b(0x4a2));_0x27423e[_0x124f1b(0x567)]='./img/icon-shift-close.svg',_0x27423e['alt']=_0x124f1b(0x38d),_0x27423e[_0x124f1b(0x374)]=_0x124f1b(0x549),_0x13cb0c['appendChild'](_0x27423e);const _0x4c3732=document[_0x124f1b(0x49d)]('div');_0x4c3732['className']=_0x124f1b(0x3aa);const _0x5c5078=document[_0x124f1b(0x49d)]('h2');_0x5c5078[_0x124f1b(0x535)]='<strong>Cierre\x20de\x20Turno</strong>',_0x5c5078[_0x124f1b(0x374)]=_0x124f1b(0x44d),_0x4c3732[_0x124f1b(0x390)](_0x5c5078),_0x5b8020['appendChild'](_0x13cb0c),_0x5b8020[_0x124f1b(0x390)](_0x4c3732),_0x43de83[_0x124f1b(0x390)](_0x5b8020);const _0x340986=document[_0x124f1b(0x49d)]('div');_0x340986[_0x124f1b(0x374)]=_0x124f1b(0x1da);const _0x7978fd=document['createElement']('div');_0x7978fd[_0x124f1b(0x374)]='shift-close-info-col';const _0x2fbf1e=document['createElement']('label');_0x2fbf1e[_0x124f1b(0x181)]=_0x124f1b(0xf9),_0x2fbf1e[_0x124f1b(0x374)]=_0x124f1b(0x3cb),_0x7978fd['appendChild'](_0x2fbf1e);const _0x16b3da=document[_0x124f1b(0x49d)](_0x124f1b(0x4a2));_0x16b3da[_0x124f1b(0x567)]='./img/icon-shift-user.svg',_0x16b3da[_0x124f1b(0x508)]=_0x124f1b(0x42d),_0x16b3da[_0x124f1b(0x374)]=_0x124f1b(0x5a0),_0x7978fd[_0x124f1b(0x390)](_0x16b3da);const _0x32a00e=document[_0x124f1b(0x49d)]('span');_0x32a00e[_0x124f1b(0x181)]=myCompany[_0x124f1b(0x46b)][_0x124f1b(0x18f)],_0x32a00e['className']=_0x124f1b(0x538),_0x7978fd[_0x124f1b(0x390)](_0x32a00e);const _0x43c06f=document[_0x124f1b(0x49d)]('div');_0x43c06f['className']=_0x124f1b(0xf4);const _0x5082a1=document['createElement'](_0x124f1b(0x31b));_0x5082a1[_0x124f1b(0x181)]=_0x124f1b(0x641),_0x5082a1[_0x124f1b(0x374)]='shift-close-label',_0x43c06f[_0x124f1b(0x390)](_0x5082a1);const _0x3b9cbe=document[_0x124f1b(0x49d)](_0x124f1b(0x4a2));_0x3b9cbe['src']=_0x124f1b(0x5d3),_0x3b9cbe['alt']=_0x124f1b(0x3d8),_0x3b9cbe[_0x124f1b(0x374)]=_0x124f1b(0x5a0),_0x43c06f[_0x124f1b(0x390)](_0x3b9cbe);const _0x451cf3=new Date(_0x5326ce[_0x124f1b(0x1f9)]),_0x1c8ac0=document[_0x124f1b(0x49d)]('span');_0x1c8ac0[_0x124f1b(0x181)]=_0x451cf3[_0x124f1b(0x442)](),_0x1c8ac0['className']=_0x124f1b(0x538),_0x43c06f[_0x124f1b(0x390)](_0x1c8ac0),_0x340986[_0x124f1b(0x390)](_0x7978fd),_0x340986[_0x124f1b(0x390)](_0x43c06f),_0x43de83[_0x124f1b(0x390)](_0x340986);const _0x544185=document['createElement'](_0x124f1b(0x208));_0x544185[_0x124f1b(0x374)]=_0x124f1b(0x4cb)+_0x3e5ed6;const _0x337ca7=document[_0x124f1b(0x49d)](_0x124f1b(0x323));_0x337ca7[_0x124f1b(0x374)]=_0x124f1b(0x1af)+_0x3e5ed6,_0x337ca7[_0x124f1b(0x478)][_0x124f1b(0x335)]=_0x124f1b(0x493);const _0xe10876=document[_0x124f1b(0x49d)](_0x124f1b(0x579)),_0x4d1a39=document[_0x124f1b(0x49d)]('tr'),_0x56a07b=['\x20',_0x124f1b(0x429),_0x124f1b(0x240),_0x124f1b(0x35d)];_0x56a07b[_0x124f1b(0x24f)](_0x43cf4f=>{const _0x49597c=_0x124f1b,_0x4597d5=document['createElement']('th');_0x43cf4f==_0x49597c(0x240)&&(_0x4597d5[_0x49597c(0x374)]='shift-table-expenses'),_0x4597d5[_0x49597c(0x181)]=_0x43cf4f,_0x4d1a39[_0x49597c(0x390)](_0x4597d5);}),_0xe10876['appendChild'](_0x4d1a39),_0x337ca7['appendChild'](_0xe10876);const _0x463ddf=document['createElement'](_0x124f1b(0x118));function _0x295b88(_0x50ecff,_0x2f1d55,_0x37758a){const _0x216340=_0x124f1b,_0x4f55ca=document[_0x216340(0x49d)]('tr'),_0x17dae8=document[_0x216340(0x49d)]('td');_0x17dae8[_0x216340(0x181)]=_0x50ecff;const _0x41be21=document[_0x216340(0x49d)]('td');_0x41be21[_0x216340(0x181)]=_0x2f1d55;const _0x56aea2=document[_0x216340(0x49d)]('td');_0x56aea2[_0x216340(0x374)]=_0x216340(0x385),_0x56aea2['textContent']=_0x37758a;const _0x5a6f96=document[_0x216340(0x49d)]('td');return _0x5a6f96[_0x216340(0x181)]=(parseFloat(_0x2f1d55)-parseFloat(_0x37758a))[_0x216340(0x16f)](0x2),_0x4f55ca[_0x216340(0x390)](_0x17dae8),_0x4f55ca[_0x216340(0x390)](_0x41be21),_0x4f55ca['appendChild'](_0x56aea2),_0x4f55ca['appendChild'](_0x5a6f96),_0x4f55ca;}let _0x313645=0x0,_0x1e219d=0x0,_0x899154=0x0,_0x1c8a70=0x0;myCompany['setPayments']['forEach'](_0x20217f=>{const _0x5292c5=_0x124f1b;let _0x134416=_0x5aaf04[_0x5292c5(0xdc)](_0x3f8136=>_0x3f8136['setPaymentType']==0x1&&_0x3f8136[_0x5292c5(0xe1)]==_0x20217f[_0x5292c5(0xe1)])[_0x5292c5(0x51f)]((_0x3ae752,_0x14ed9b)=>_0x3ae752+parseFloat(_0x14ed9b[_0x5292c5(0x20e)]),0x0),_0x491ada=_0x5aaf04[_0x5292c5(0xdc)](_0x4cde36=>_0x4cde36[_0x5292c5(0x568)]==0x2&&_0x4cde36[_0x5292c5(0xe1)]==_0x20217f['setPaymentCode'])[_0x5292c5(0x51f)]((_0x3b49c5,_0x4f6f3e)=>_0x3b49c5+parseFloat(_0x4f6f3e[_0x5292c5(0x20e)]),0x0);_0x313645+=_0x134416,_0x1e219d+=_0x491ada,(_0x20217f[_0x5292c5(0xe1)]=='efectivo'||_0x20217f['setPaymentCode']=='cash')&&(_0x899154=_0x134416,_0x1c8a70=_0x491ada),(_0x20217f[_0x5292c5(0xe1)]==_0x5292c5(0x13f)||_0x20217f[_0x5292c5(0xe1)]==_0x5292c5(0x4d5)||_0x134416>0x0||_0x491ada>0x0)&&_0x463ddf[_0x5292c5(0x390)](_0x295b88(_0x20217f[_0x5292c5(0x284)],parseFloat(_0x134416)[_0x5292c5(0x16f)](0x2),parseFloat(_0x491ada)['toFixed'](0x2)));});const _0x155193=_0x295b88(_0x124f1b(0x5b5),parseFloat(_0x313645)[_0x124f1b(0x16f)](0x2),parseFloat(_0x1e219d)[_0x124f1b(0x16f)](0x2));_0x155193[_0x124f1b(0x3ca)]['textContent']=(parseFloat(_0x313645)-parseFloat(_0x1e219d))[_0x124f1b(0x16f)](0x2),_0x463ddf[_0x124f1b(0x390)](_0x155193),_0x337ca7[_0x124f1b(0x390)](_0x463ddf),_0x544185[_0x124f1b(0x390)](_0x337ca7),_0x43de83['appendChild'](_0x544185);const _0x4c5687=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x4c5687[_0x124f1b(0x374)]=_0x124f1b(0x2c2)+_0x3e5ed6;const _0x2831ac=document[_0x124f1b(0x49d)]('div');_0x2831ac[_0x124f1b(0x374)]=_0x124f1b(0xf4);const _0x50add8=document['createElement'](_0x124f1b(0x31b));_0x50add8[_0x124f1b(0x181)]=_0x124f1b(0x47e),_0x50add8[_0x124f1b(0x374)]=_0x124f1b(0x29f),_0x2831ac['appendChild'](_0x50add8);const _0x4f5a46=document[_0x124f1b(0x49d)](_0x124f1b(0x406));_0x4f5a46[_0x124f1b(0x181)]=_0x24eeaa+'\x20'+parseFloat(_0x5326ce[_0x124f1b(0x506)])['toFixed'](0x2),_0x4f5a46[_0x124f1b(0x374)]=_0x124f1b(0x4fd),_0x2831ac[_0x124f1b(0x390)](_0x4f5a46);const _0x2fb707=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x2fb707['className']='shift-close-info-col';const _0x47ffe9=document['createElement']('label');_0x47ffe9['textContent']=_0x124f1b(0x60a),_0x47ffe9['className']=_0x124f1b(0x29f),_0x2fb707['appendChild'](_0x47ffe9);const _0x60d1a4=_0x899154-_0x1c8a70,_0xc5f708=document['createElement'](_0x124f1b(0x406));_0xc5f708[_0x124f1b(0x181)]=_0x24eeaa+'\x20'+parseFloat(_0x60d1a4)[_0x124f1b(0x16f)](0x2),_0xc5f708[_0x124f1b(0x374)]=_0x124f1b(0x4fd),_0x2fb707['appendChild'](_0xc5f708),_0x4c5687[_0x124f1b(0x390)](_0x2831ac),_0x4c5687[_0x124f1b(0x390)](_0x2fb707);const _0x5bb46f=document['createElement'](_0x124f1b(0x208));_0x5bb46f[_0x124f1b(0x374)]=_0x124f1b(0x2c2)+_0x3e5ed6;const _0x53a5f6=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x53a5f6['className']='shift-close-info-col';const _0x29c578=document['createElement']('label');_0x29c578['textContent']=_0x124f1b(0x355),_0x29c578[_0x124f1b(0x374)]=_0x124f1b(0x29f),_0x53a5f6[_0x124f1b(0x390)](_0x29c578);const _0x473df6=(parseFloat(_0x5326ce[_0x124f1b(0x506)])+parseFloat(_0x60d1a4))[_0x124f1b(0x16f)](0x2),_0x655b72=document['createElement'](_0x124f1b(0x406));_0x655b72['textContent']=_0x24eeaa+'\x20'+_0x473df6,_0x655b72[_0x124f1b(0x374)]=_0x124f1b(0x4fd);const _0x6c6dba=document[_0x124f1b(0x49d)](_0x124f1b(0x513));_0x6c6dba['type']=_0x124f1b(0x134),_0x6c6dba['id']=_0x124f1b(0x242),_0x6c6dba['value']=_0x473df6,_0x53a5f6[_0x124f1b(0x390)](_0x655b72),_0x53a5f6[_0x124f1b(0x390)](_0x6c6dba);const _0x343a90=document[_0x124f1b(0x49d)]('div');_0x343a90['className']=_0x124f1b(0xf4);const _0x325e8c=document[_0x124f1b(0x49d)](_0x124f1b(0x31b));_0x325e8c[_0x124f1b(0x181)]='Conteo:',_0x325e8c[_0x124f1b(0x374)]=_0x124f1b(0x29f),_0x343a90['appendChild'](_0x325e8c);const _0x2d1a21=document[_0x124f1b(0x49d)]('input');_0x2d1a21[_0x124f1b(0x450)]=_0x124f1b(0x258),_0x2d1a21['id']=_0x124f1b(0x34f),_0x2d1a21[_0x124f1b(0x374)]='form-control\x20custom-input-cart-options\x20shift-close-input',_0x343a90[_0x124f1b(0x390)](_0x2d1a21),_0x5bb46f[_0x124f1b(0x390)](_0x53a5f6),_0x5bb46f['appendChild'](_0x343a90),_0x43de83[_0x124f1b(0x390)](_0x4c5687),_0x43de83[_0x124f1b(0x390)](_0x5bb46f);const _0x3727b7=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x3727b7['className']='shift-close-row5';const _0x4784ae=document['createElement'](_0x124f1b(0x31b));_0x4784ae['textContent']=_0x124f1b(0x32a),_0x4784ae[_0x124f1b(0x374)]=_0x124f1b(0x381),_0x3727b7['appendChild'](_0x4784ae);const _0x48fd94=document[_0x124f1b(0x49d)](_0x124f1b(0x3c2));_0x48fd94[_0x124f1b(0x478)][_0x124f1b(0x335)]=_0x124f1b(0x493),_0x48fd94['id']=_0x124f1b(0x343),_0x48fd94[_0x124f1b(0x1ec)]='2',_0x48fd94[_0x124f1b(0x374)]='form-control\x20custom-input-cart-options\x20shift-close-textarea',_0x3727b7[_0x124f1b(0x390)](_0x48fd94);const _0x3693cd=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x3693cd[_0x124f1b(0x374)]='shift-close-differentialRow\x20'+_0x3e5ed6;const _0x3a2b30=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x3a2b30['className']='shift-close-diff-col';const _0x4fbc89=document[_0x124f1b(0x49d)](_0x124f1b(0x31b));_0x4fbc89[_0x124f1b(0x181)]=_0x124f1b(0x34c),_0x4fbc89[_0x124f1b(0x374)]='shift-close-diffLabel',_0x3a2b30['appendChild'](_0x4fbc89);const _0x4dede8=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x4dede8['className']='shift-close-diff-col';const _0x1e31c1=document[_0x124f1b(0x49d)](_0x124f1b(0x406));_0x1e31c1[_0x124f1b(0x181)]=_0x24eeaa+'\x200.00',_0x1e31c1[_0x124f1b(0x374)]=_0x124f1b(0x66b),_0x4dede8[_0x124f1b(0x390)](_0x1e31c1),_0x3693cd[_0x124f1b(0x390)](_0x3a2b30),_0x3693cd[_0x124f1b(0x390)](_0x4dede8),_0x2d1a21[_0x124f1b(0x2fd)](_0x124f1b(0x513),function(){const _0x5908f5=_0x124f1b,_0x432fe0=parseFloat(_0x2d1a21[_0x5908f5(0x1e8)])||0x0,_0xf6e20d=_0x432fe0-_0x473df6;_0x1e31c1[_0x5908f5(0x181)]=_0x24eeaa+'\x20'+_0xf6e20d[_0x5908f5(0x16f)](0x2);});const _0x28765a=document[_0x124f1b(0x49d)](_0x124f1b(0x208));_0x28765a[_0x124f1b(0x374)]=_0x124f1b(0x219);const _0xe9b5e7=document['createElement'](_0x124f1b(0x529));_0xe9b5e7['id']='btnShiftEnd',_0xe9b5e7[_0x124f1b(0x181)]=_0x124f1b(0xf2),_0xe9b5e7['className']=_0x124f1b(0x608),_0xe9b5e7[_0x124f1b(0x467)]=closeShift,_0x28765a[_0x124f1b(0x390)](_0xe9b5e7),_0x43de83[_0x124f1b(0x390)](_0x3727b7),_0x43de83[_0x124f1b(0x390)](_0x3693cd),_0x43de83['appendChild'](_0x28765a),_0x28fc71[_0x124f1b(0x390)](_0x43de83);}showModalShift();}async function openShift(){const _0x217f71=_0x773bc5;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.');return;}const _0x1317e4=document[_0x217f71(0x536)](_0x217f71(0x635));if(!_0x1317e4){console[_0x217f71(0x47f)](_0x217f71(0x5e2));return;}_0x1317e4[_0x217f71(0x5bd)]=!![],hideModalShift(),showLoadingModal();const _0x38f1ee=document[_0x217f71(0x536)](_0x217f71(0x515)),_0x5ad998=_0x38f1ee[_0x217f71(0x1e8)];if(_0x5ad998==''||isNaN(_0x5ad998)){ntfShow(_0x217f71(0x285)),_0x1317e4[_0x217f71(0x5bd)]=![],hideLoadingModal();return;}const _0x4eeca6=document[_0x217f71(0x536)](_0x217f71(0x45d))[_0x217f71(0x1e8)],_0x33317f=document[_0x217f71(0x536)]('setCajeroCodigo')[_0x217f71(0x1e8)],_0x54ee3a=parseFloat(_0x5ad998),_0x16fbca=new Date();try{const _0x54e8fb=myCompany['setApiEndPoint'],_0x196de7={'apiPOS_shift':0x1,'setToken':myCompany[_0x217f71(0x451)],'setBranchId':_0x4eeca6,'setCashierId':_0x33317f,'setCashInitial':_0x54ee3a,'setShiftDateStart':_0x16fbca},_0x19257d=await fetch(_0x54e8fb,{'method':'POST','headers':{'Content-Type':_0x217f71(0x2c3)},'body':JSON[_0x217f71(0x112)](_0x196de7)}),_0x49b18e=await _0x19257d[_0x217f71(0x5ed)]();if(_0x49b18e[_0x217f71(0x4f3)]&&_0x49b18e['message'][_0x217f71(0x264)]){const _0x3f3152=_0x49b18e['message']['setShiftId'];let _0x29a3e7=myCompany[_0x217f71(0x40c)][_0x217f71(0x189)](_0x5dc3f0=>_0x5dc3f0[_0x217f71(0x45d)]==_0x4eeca6);_0x29a3e7?(_0x29a3e7['setShiftId']=_0x3f3152,_0x29a3e7[_0x217f71(0x506)]=_0x54ee3a,_0x29a3e7[_0x217f71(0x50a)]='1',_0x29a3e7[_0x217f71(0x1f9)]=_0x16fbca):myCompany[_0x217f71(0x40c)][_0x217f71(0x338)]({'setShiftId':_0x3f3152,'setCashInitial':_0x54ee3a,'setShiftStatus':'1','setShiftDateStart':_0x16fbca,'setBranchId':_0x4eeca6});try{const _0x5053a8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5053a8),ntfShow('Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20'+_0x16fbca[_0x217f71(0x442)]());}catch(_0x144d21){console[_0x217f71(0x47f)](_0x217f71(0x155),_0x144d21);throw _0x144d21;}}else ntfShow(_0x217f71(0x2f3)),console[_0x217f71(0x415)](_0x217f71(0x2f3));}catch(_0x54e299){ntfShow(_0x217f71(0x2fb)),console[_0x217f71(0x47f)](_0x217f71(0xe2),_0x54e299);}finally{_0x1317e4[_0x217f71(0x5bd)]=![],hideLoadingModal();}}async function closeShift(){const _0x591a2=_0x773bc5;if(!isOnline()){ntfShow(_0x591a2(0x53c));return;}const _0x1e0d48=document[_0x591a2(0x536)](_0x591a2(0x534)),_0x28fc36=document['getElementById'](_0x591a2(0x34f)),_0x3130bd=document[_0x591a2(0x536)]('setShiftCashAmount'),_0x1203b8=document[_0x591a2(0x536)](_0x591a2(0x343));if(!_0x1e0d48){console[_0x591a2(0x47f)]('No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd');return;}_0x1e0d48[_0x591a2(0x5bd)]=!![],hideModalShift(),showLoadingModal();const _0x157d32=document['getElementById']('setBranchId')[_0x591a2(0x1e8)];let _0x5a6f7f=myCompany[_0x591a2(0x40c)][_0x591a2(0x189)](_0x19e05f=>_0x19e05f[_0x591a2(0x45d)]==_0x157d32&&_0x19e05f[_0x591a2(0x50a)]=='1');if(!_0x5a6f7f){ntfShow(_0x591a2(0x581)),_0x1e0d48[_0x591a2(0x5bd)]=![],hideLoadingModal();return;}const _0x523707=new Date();try{const _0x2850d4=myCompany[_0x591a2(0x5e1)],_0x4bb250={'apiPOS_shift':0x1,'setToken':myCompany['setAuthToken'],'setShiftId':_0x5a6f7f[_0x591a2(0x264)],'setShiftDateEnd':_0x523707,'setShiftCount':parseFloat(_0x28fc36[_0x591a2(0x1e8)]),'setShiftCashAmount':parseFloat(_0x3130bd[_0x591a2(0x1e8)]),'setShiftNotes':_0x1203b8[_0x591a2(0x1e8)]},_0x2c81f9=await fetch(_0x2850d4,{'method':'POST','headers':{'Content-Type':_0x591a2(0x2c3)},'body':JSON[_0x591a2(0x112)](_0x4bb250)}),_0x1d5a3f=await _0x2c81f9[_0x591a2(0x5ed)]();if(_0x1d5a3f[_0x591a2(0x4f3)]&&_0x1d5a3f[_0x591a2(0x1df)][_0x591a2(0x264)]){_0x5a6f7f[_0x591a2(0x50a)]='0',_0x5a6f7f['setCashInitial']='',_0x5a6f7f[_0x591a2(0x264)]='',_0x5a6f7f['setShiftDateStart']='';try{const _0x3747c8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3747c8),ntfShow(_0x591a2(0x616)+_0x523707['toLocaleString']()),hideModalShift();}catch(_0x5e5187){console[_0x591a2(0x47f)](_0x591a2(0x155),_0x5e5187);throw _0x5e5187;}}else ntfShow(_0x591a2(0x2f3)),console['log']('ID\x20Shift\x20Empty');}catch(_0x3a68c6){ntfShow('Error\x20en\x20la\x20solicitud'),console['error'](_0x591a2(0xe2),_0x3a68c6);}finally{_0x1e0d48[_0x591a2(0x5bd)]=![],hideLoadingModal();}}async function changeEnvironments(_0x16f66e){const _0xade6e8=_0x773bc5;await loadLayoutState();const _0x5735d2=_0x16f66e,_0x32b848=myCompany[_0xade6e8(0x4b8)][_0xade6e8(0xdc)](_0x190bf2=>_0x190bf2[_0xade6e8(0x4cf)]==_0x5735d2),_0x11c087=document[_0xade6e8(0x536)](_0xade6e8(0xff));_0x11c087[_0xade6e8(0x535)]='',_0x32b848['forEach'](_0x14d80d=>{const _0x503843=_0xade6e8,_0x12f149=document[_0x503843(0x49d)]('option');_0x12f149[_0x503843(0x1e8)]=_0x503843(0x1c5)+_0x14d80d['setWindowId'],_0x12f149[_0x503843(0x181)]=_0x14d80d['setWindowName'],_0x11c087[_0x503843(0x390)](_0x12f149);});const _0x38b82d=_0x11c087['value'],_0x2f621f=_0x38b82d[_0xade6e8(0x634)]('-')[0x1];document['getElementById'](_0xade6e8(0xe8))['value']=_0x2f621f,switchTab(_0x38b82d);}document['getElementById'](_0x773bc5(0x403))[_0x773bc5(0x2fd)]('click',function(_0xc06159){const _0x4535aa=_0x773bc5;_0xc06159[_0x4535aa(0x66a)]();const _0x2282e9=myCompany['setApiEndPoint'];try{const _0x566976=new URL(_0x2282e9),_0x5b5e11=_0x566976['origin'],_0x30aeb5=_0x5b5e11+_0x4535aa(0x2fe);window['open'](_0x30aeb5,_0x4535aa(0x3a5));}catch(_0x3a89c4){console[_0x4535aa(0x47f)](_0x4535aa(0x665),_0x3a89c4);}}),document[_0x773bc5(0x536)](_0x773bc5(0x49b))[_0x773bc5(0x2fd)]('click',function(_0x4756f1){_0x4756f1['preventDefault'](),updateShiftDisplay();}),document[_0x773bc5(0x536)]('tabs-newTab')[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x3e0e88){const _0x15cb1a=_0x773bc5;_0x3e0e88[_0x15cb1a(0x66a)](),showModalCreateWindow();}),document[_0x773bc5(0x536)](_0x773bc5(0x5c6))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x518f70){const _0x6625b7=_0x773bc5;_0x518f70[_0x6625b7(0x66a)]();}),document['getElementById']('tabs-areas')[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x1b6174){_0x1b6174['preventDefault'](),showModalLayout();}),document[_0x773bc5(0x536)](_0x773bc5(0x361))[_0x773bc5(0x2fd)]('click',function(_0x4c17da){_0x4c17da['preventDefault'](),showModalLayout();}),document['getElementById'](_0x773bc5(0x42e))['addEventListener'](_0x773bc5(0x44b),function(_0x125c2a){const _0xbba9c1=_0x773bc5;_0x125c2a[_0xbba9c1(0x66a)](),showRightSection();}),document[_0x773bc5(0x536)]('search_more_products')[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x545033){const _0x40eeac=_0x773bc5;_0x545033[_0x40eeac(0x66a)](),showLeftSection(),showSection('div_section_products');}),document[_0x773bc5(0x536)]('btnAddProduct')['addEventListener'](_0x773bc5(0x44b),function(_0x1b44f2){const _0x54794=_0x773bc5;_0x1b44f2[_0x54794(0x66a)](),showModalCreateItem(0x0);}),document[_0x773bc5(0x536)](_0x773bc5(0x4e9))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x4bade8){const _0x19b250=_0x773bc5;_0x4bade8[_0x19b250(0x66a)](),showModalCreateItem(0x1);}),document['getElementById'](_0x773bc5(0x10b))[_0x773bc5(0x2fd)](_0x773bc5(0x44b),function(_0x5cd32f){const _0x10ec00=_0x773bc5;_0x5cd32f[_0x10ec00(0x66a)](),toggleEditMode();}),document['getElementById'](_0x773bc5(0x1c3))[_0x773bc5(0x2fd)](_0x773bc5(0x41f),function(_0xaa78d7){const _0x36e32a=_0x773bc5;_0xaa78d7[_0x36e32a(0x66a)]();const _0x8d37c2=document[_0x36e32a(0x536)]('img-create-window'),_0x131b8f=this[_0x36e32a(0x1e8)];let _0x39e270=_0x36e32a(0x3b7);if(_0x131b8f=='1')_0x39e270=_0x36e32a(0x3b7);else{if(_0x131b8f=='2')_0x39e270=_0x36e32a(0x540);else _0x131b8f=='3'&&(_0x39e270=_0x36e32a(0x67d));}_0x8d37c2['src']=_0x39e270;}),document[_0x773bc5(0x536)](_0x773bc5(0x363))[_0x773bc5(0x2fd)]('click',async function(_0x1719e5){const _0x28b48c=_0x773bc5;_0x1719e5['preventDefault']();if(!isOnline()){ntfShow(_0x28b48c(0x4af));return;}this['disabled']=!![],hideModalCreateWindow(),showLoadingModal();const _0x124004=document[_0x28b48c(0x536)]('input-setWindowType'),_0x48eb5a=document[_0x28b48c(0x536)](_0x28b48c(0x103)),_0x506d2f=document[_0x28b48c(0x536)]('setBranchId'),_0x11b375=document[_0x28b48c(0x536)](_0x28b48c(0x4cf)),_0x1b11fe={'setAuthToken':myCompany[_0x28b48c(0x451)],'setWindowType':_0x124004[_0x28b48c(0x1e8)],'setWindowName':_0x48eb5a[_0x28b48c(0x1e8)],'setBranchId':_0x506d2f['value'],'setEnvironmentId':_0x11b375['value']};try{const _0xb4e9ee=await fetch(_0x28b48c(0x293),{'method':_0x28b48c(0x2e2),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x1b11fe)});if(!_0xb4e9ee['ok']){hideLoadingModal(),this['disabled']=![],ntfShow('Error:\x20'+_0xb4e9ee[_0x28b48c(0x19c)]),showModalCreateWindow();return;}const _0x46fac7=await _0xb4e9ee[_0x28b48c(0x5ed)]();if(!_0x46fac7[_0x28b48c(0x4f3)]){hideLoadingModal(),this[_0x28b48c(0x5bd)]=![],ntfShow(_0x46fac7['message']||_0x28b48c(0x560)),showModalCreateWindow();return;}const _0x3abdf6=_0x46fac7[_0x28b48c(0x1df)];console[_0x28b48c(0x415)](_0x3abdf6),myCompany[_0x28b48c(0x4b8)][_0x28b48c(0x338)](_0x3abdf6),await resetWindowPositions(_0x506d2f[_0x28b48c(0x1e8)],_0x11b375['value']);const _0x3f1793=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3f1793),addNewTab(_0x3abdf6[_0x28b48c(0xf1)]),hideLoadingModal(),this['disabled']=![],_0x48eb5a[_0x28b48c(0x1e8)]='',ntfShow(_0x28b48c(0x44a)),showModalLayout();}catch(_0x21bc32){hideLoadingModal(),this[_0x28b48c(0x5bd)]=![],ntfShow(_0x28b48c(0x3af)+_0x21bc32[_0x28b48c(0x1df)]),showModalCreateWindow();}}),window[_0x773bc5(0x2fd)](_0x773bc5(0x3b8),()=>{const _0x7e5336=_0x773bc5,_0x7d8005=window[_0x7e5336(0x3ab)];if(_0x7d8005!==lastWindowWidth){lastWindowWidth=_0x7d8005;if(isMobile())showLeftSection();else{const _0x2fd049=document[_0x7e5336(0x536)](_0x7e5336(0x331)),_0x40d9c8=document['getElementById'](_0x7e5336(0x603));_0x2fd049[_0x7e5336(0x478)]['setProperty'](_0x7e5336(0x100),'flex',_0x7e5336(0x2f4)),_0x40d9c8[_0x7e5336(0x478)][_0x7e5336(0x49a)](_0x7e5336(0x100),_0x7e5336(0x612),_0x7e5336(0x2f4));}}adjustHeight();}),window[_0x773bc5(0x2fd)](_0x773bc5(0x58b),updateInternetIcon),window[_0x773bc5(0x2fd)](_0x773bc5(0x4f5),updateInternetIcon),window[_0x773bc5(0x395)]=function(){const _0xfb24ad=_0x773bc5,_0x34c953=0x1;loadLoginContent(_0xfb24ad(0x396)),setUserNameGet(),setEventBtnAccess(),document[_0xfb24ad(0x4de)][_0xfb24ad(0x2fd)](_0xfb24ad(0x602),_0x47fc41=>{const _0x277e13=_0xfb24ad,_0x32c069=_0x47fc41[_0x277e13(0x5f4)];if(_0x32c069['id']&&_0x32c069['id']['startsWith'](_0x277e13(0x4f8))){const _0x3277af=_0x32c069['id']['split']('-')[_0x277e13(0x386)]();let _0x295171=parseFloat(_0x32c069[_0x277e13(0x1e8)])||0x0;isNaN(_0x295171)||_0x295171<0x0?_0x32c069[_0x277e13(0x1e8)]=_0x277e13(0x5f9):(_0x32c069[_0x277e13(0x1e8)]=_0x295171[_0x277e13(0x16f)](0x2),_0x295171=_0x295171['toFixed'](0x2)),window_options[_0x3277af][_0x277e13(0x3a6)]=_0x295171,saveWindowOptionsDB(_0x3277af)[_0x277e13(0xee)](()=>{renderCart(_0x3277af);})[_0x277e13(0x63a)](_0xc1692c=>{const _0xf956c=_0x277e13;console[_0xf956c(0x47f)](_0xf956c(0x426),_0xc1692c);});}}),document[_0xfb24ad(0x4de)][_0xfb24ad(0x2fd)](_0xfb24ad(0x290),_0x92f5eb=>{const _0x22dbe8=_0xfb24ad,_0x5475c9=_0x92f5eb[_0x22dbe8(0x5f4)];if(_0x5475c9['id']&&_0x5475c9['id'][_0x22dbe8(0x3a0)](_0x22dbe8(0x4f8))){const _0x4bc73a=_0x5475c9['id'][_0x22dbe8(0x634)]('-')[_0x22dbe8(0x386)]();let _0x1ac7cc=parseFloat(_0x5475c9['value'])||0x0;isNaN(_0x1ac7cc)||_0x1ac7cc<0x0?_0x5475c9['value']=_0x22dbe8(0x5f9):(_0x5475c9[_0x22dbe8(0x1e8)]=_0x1ac7cc[_0x22dbe8(0x16f)](0x2),_0x1ac7cc=_0x1ac7cc['toFixed'](0x2)),window_options[_0x4bc73a][_0x22dbe8(0x3a6)]=_0x1ac7cc,saveWindowOptionsDB(_0x4bc73a)[_0x22dbe8(0xee)](()=>{renderCart(_0x4bc73a);})['catch'](_0x378a40=>{const _0xc2699d=_0x22dbe8;console['error'](_0xc2699d(0x426),_0x378a40);});}},!![]);const _0x44a4a9=document[_0xfb24ad(0x65f)]('.btn-logout');_0x44a4a9&&_0x44a4a9[_0xfb24ad(0x2fd)]('click',function(){logoutReload(0x0,_0x34c953);}),selectedCountry&&(selectedCountry[_0xfb24ad(0x2fd)](_0xfb24ad(0x44b),function(){const _0x132aab=_0xfb24ad;countryList[_0x132aab(0x478)]['display']=countryList[_0x132aab(0x478)][_0x132aab(0x100)]==_0x132aab(0xe5)?_0x132aab(0x2b8):_0x132aab(0xe5);}),document[_0xfb24ad(0x4c1)](_0xfb24ad(0x639))[_0xfb24ad(0x24f)](_0x4326d7=>{const _0xc67dd8=_0xfb24ad;_0x4326d7[_0xc67dd8(0x2fd)](_0xc67dd8(0x44b),function(){const _0x168d6c=_0xc67dd8;selectedCode=this[_0x168d6c(0x223)](_0x168d6c(0x17c)),selectedCountry[_0x168d6c(0x535)]=''+this[_0x168d6c(0x535)],countryList[_0x168d6c(0x478)][_0x168d6c(0x100)]=_0x168d6c(0x2b8);});})),sendEmailButton&&emailDestinationInput&&sendEmailButton[_0xfb24ad(0x2fd)](_0xfb24ad(0x44b),async function(){const _0x464c45=_0xfb24ad;sendEmailButton[_0x464c45(0x5bd)]=!![];if(!isOnline()){sendEmailButton[_0x464c45(0x5bd)]=![],ntfShow('No\x20tienes\x20conexión\x20a\x20internet!',0x2,0x1);return;}let _0x30aed6=emailDestinationInput[_0x464c45(0x1e8)][_0x464c45(0x4d4)]();if(_0x30aed6==''){sendEmailButton[_0x464c45(0x5bd)]=![],ntfShow(_0x464c45(0x4c2),0x2,0x1);return;}const _0x56b339=parseInt(getUserPermissionApiERP(0x12)),_0x2ee995=myCompany['setEmailCredentials']['find'](_0x2efcb7=>_0x2efcb7[_0x464c45(0x3e8)]==_0x56b339);if(!_0x2ee995){sendEmailButton[_0x464c45(0x5bd)]=![],ntfShow(_0x464c45(0x2db));return;}const _0x21ed04=_0x2ee995['setEmailCredentialsSenderName'],_0xd8a0ed=_0x2ee995[_0x464c45(0x5f0)],_0x22e8e8=_0x2ee995[_0x464c45(0x432)],_0x94e31c=_0x2ee995[_0x464c45(0x37d)],_0x4c0152=_0x2ee995[_0x464c45(0x2bb)];if(!pdfGlobalBlob){sendEmailButton[_0x464c45(0x5bd)]=![],ntfShow(_0x464c45(0x413),0x2,0x1);return;}const _0x55178d=await blobAStringBase64(pdfGlobalBlob),_0x434e05=[{'fileName':pdfGlobalName,'fileBase64':_0x55178d}],_0x206c6a=[];_0x206c6a[_0x464c45(0x338)](_0x30aed6);const _0x27b42c=pdfGlobalPayload[_0x464c45(0x274)],_0x530d9c=new Date(_0x27b42c),_0x5379b0=_0x530d9c[_0x464c45(0x524)](),_0x45430d=monthsEspanish[_0x530d9c[_0x464c45(0x3ce)]()],_0x5418ee=_0x530d9c[_0x464c45(0x352)](),_0x3d691c=_0x5379b0+_0x464c45(0x3ec)+_0x45430d+_0x464c45(0x5ef)+_0x5418ee,_0xfd841a=pdfGlobalPayload[_0x464c45(0x65a)]+':\x20'+pdfGlobalPayload[_0x464c45(0x5d7)]+'-'+pdfGlobalPayload[_0x464c45(0x319)]+'\x20('+myCompany[_0x464c45(0x5b1)]+'\x20)',_0x543bc='\x0a<b>Hola\x20'+pdfGlobalPayload[_0x464c45(0x36c)]+_0x464c45(0x625)+myCompany[_0x464c45(0x3ba)]+_0x464c45(0x497)+pdfGlobalPayload['setDocumentType']+':\x20'+pdfGlobalPayload[_0x464c45(0x5d7)]+'-'+pdfGlobalPayload['setCorrelativo']+_0x464c45(0x1f0)+_0x3d691c+_0x464c45(0x115);try{hideModal(),showLoadingModal(),await sendEmail(myCompany['setAuthToken'],_0x21ed04,_0xd8a0ed,_0x22e8e8,_0x94e31c,_0x4c0152,_0x206c6a,_0xfd841a,_0x543bc,_0x434e05),hideLoadingModal(),showModal(),sendEmailButton[_0x464c45(0x5bd)]=![];}catch(_0x566442){console[_0x464c45(0x47f)](_0x464c45(0xe2),_0x566442),ntfShow(_0x464c45(0x14f),0x2,0x1),sendEmailButton[_0x464c45(0x5bd)]=![];}}),sendWhatsAppButton&&phoneNumberInput&&sendWhatsAppButton[_0xfb24ad(0x2fd)](_0xfb24ad(0x44b),function(){const _0x4d8f76=_0xfb24ad;let _0x41aef1=phoneNumberInput[_0x4d8f76(0x1e8)][_0x4d8f76(0x4d4)]();if(_0x41aef1==''){ntfShow(_0x4d8f76(0x530));return;}let _0x4143b0=encodeURIComponent(''),_0x4b6f06=_0x4d8f76(0x1cf)+selectedCode+_0x41aef1+_0x4d8f76(0x220)+_0x4143b0;window[_0x4d8f76(0x56f)](_0x4b6f06,_0x4d8f76(0x3a5));}),document[_0xfb24ad(0x2fd)](_0xfb24ad(0x44b),function(_0xde1051){const _0x2c3fd9=_0xfb24ad;!selectedCountry[_0x2c3fd9(0x251)](_0xde1051[_0x2c3fd9(0x5f4)])&&!countryList[_0x2c3fd9(0x251)](_0xde1051[_0x2c3fd9(0x5f4)])&&(countryList[_0x2c3fd9(0x478)][_0x2c3fd9(0x100)]='none'),!_0xde1051['target'][_0x2c3fd9(0x53b)](_0x2c3fd9(0x60b))&&!_0xde1051['target'][_0x2c3fd9(0x53b)](_0x2c3fd9(0x67b))&&document[_0x2c3fd9(0x4c1)](_0x2c3fd9(0x67b))['forEach'](_0x2584a1=>{const _0x3696a6=_0x2c3fd9;_0x2584a1[_0x3696a6(0x535)]='';});}),document['getElementById'](_0xfb24ad(0x45d))[_0xfb24ad(0x2fd)](_0xfb24ad(0x41f),async function(){const _0x51cf42=_0xfb24ad,_0x2045eb=parseInt(this['value']);myCompany[_0x51cf42(0x314)]=_0x2045eb;const _0xce7a0b=await createCartStore('');await saveCompanyToIndexedDB(company,_0xce7a0b),document[_0x51cf42(0x536)](_0x51cf42(0x26f))['value']='',cargarAlmacenes(_0x2045eb),setTimeout(()=>{const _0x48e815=_0x51cf42;document[_0x48e815(0x536)](_0x48e815(0x250))['dispatchEvent'](new Event(_0x48e815(0x41f)));},0x64),cargarPisos(_0x2045eb),setTimeout(()=>{const _0x40840d=_0x51cf42;document[_0x40840d(0x536)](_0x40840d(0x4cf))['dispatchEvent'](new Event(_0x40840d(0x41f)));},0x64);const _0x47acc2=document[_0x51cf42(0x536)](_0x51cf42(0xe8))[_0x51cf42(0x1e8)];if(parseFloat(_0x47acc2)>0x0){const _0x2b97b8=document[_0x51cf42(0x536)]('setTipoOperacion-'+_0x47acc2)[_0x51cf42(0x1e8)];await updateSerieOptions(_0x2b97b8,_0x47acc2);}const _0x3e5aa5=myCompany[_0x51cf42(0x4d2)][_0x51cf42(0xdc)](_0x218c45=>_0x218c45[_0x51cf42(0x45d)]==_0x2045eb);if(_0x3e5aa5[_0x51cf42(0x5d9)]===0x0)document[_0x51cf42(0x536)](_0x51cf42(0x166))[_0x51cf42(0x535)]='',document[_0x51cf42(0x536)](_0x51cf42(0x5b7))[_0x51cf42(0x181)]='No\x20hay\x20impresoras';else{const _0x361d18=document[_0x51cf42(0x536)]('defaultPrinter');_0x361d18['textContent']=_0x3e5aa5[0x0]['setPrinterAlias'],_0x361d18[_0x51cf42(0x1cc)](_0x51cf42(0x283),_0x3e5aa5[0x0][_0x51cf42(0x595)]),_0x361d18[_0x51cf42(0x2fd)]('click',function(){setPrintOnline(this['getAttribute']('data-printer'),pdfGlobalBlob,pdfGlobalName,0x0);});const _0xf4bad8=document[_0x51cf42(0x536)](_0x51cf42(0x166));_0xf4bad8[_0x51cf42(0x535)]='',_0x3e5aa5[_0x51cf42(0x24f)](_0x3b8b75=>{const _0x12fbe5=_0x51cf42,_0x521bb8=document[_0x12fbe5(0x49d)]('li');_0x521bb8['innerHTML']=_0x12fbe5(0x4b3)+_0x3b8b75['setPrinterName']+_0x12fbe5(0x2d9)+_0x3b8b75['setPrinterAlias']+_0x12fbe5(0x3ed)+_0x3b8b75[_0x12fbe5(0xea)]+_0x12fbe5(0x590),_0xf4bad8[_0x12fbe5(0x390)](_0x521bb8);});}ntf_initNotifications(),apiERPsyncWindows();}),document['getElementById'](_0xfb24ad(0x250))[_0xfb24ad(0x2fd)](_0xfb24ad(0x41f),function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document[_0xfb24ad(0x536)](_0xfb24ad(0x4cf))['addEventListener'](_0xfb24ad(0x41f),function(_0x394fc8){const _0x19c5e7=_0xfb24ad,_0x56ce25=_0x394fc8[_0x19c5e7(0x5f4)][_0x19c5e7(0x1e8)];changeEnvironments(_0x56ce25);}),loadCartAndSetTabCount(_0x34c953);};