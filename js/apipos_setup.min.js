/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.2
*/

const _0x215d4a=_0x1306;(function(_0x38c43a,_0x3c6413){const _0x25e991=_0x1306,_0x2aebd5=_0x38c43a();while(!![]){try{const _0x2b6670=parseInt(_0x25e991(0x2c3))/0x1*(-parseInt(_0x25e991(0x25e))/0x2)+parseInt(_0x25e991(0x2a8))/0x3+parseInt(_0x25e991(0x2b1))/0x4*(-parseInt(_0x25e991(0x216))/0x5)+parseInt(_0x25e991(0x283))/0x6*(parseInt(_0x25e991(0x2fd))/0x7)+parseInt(_0x25e991(0x256))/0x8*(-parseInt(_0x25e991(0x1e9))/0x9)+-parseInt(_0x25e991(0x2ae))/0xa+parseInt(_0x25e991(0x2ba))/0xb;if(_0x2b6670===_0x3c6413)break;else _0x2aebd5['push'](_0x2aebd5['shift']());}catch(_0x2994ef){_0x2aebd5['push'](_0x2aebd5['shift']());}}}(_0x659f,0x67f24));const _0xb26ff2=(function(){let _0x5e7708=!![];return function(_0x5a6c6c,_0x2cf886){const _0x2d4705=_0x5e7708?function(){const _0x4b627b=_0x1306;if(_0x2cf886){const _0xf47f77=_0x2cf886[_0x4b627b(0x20f)](_0x5a6c6c,arguments);return _0x2cf886=null,_0xf47f77;}}:function(){};return _0x5e7708=![],_0x2d4705;};}()),_0x32d72e=_0xb26ff2(this,function(){const _0x374407=_0x1306;return _0x32d72e['toString']()[_0x374407(0x250)]('(((.+)+)+)+$')['toString']()[_0x374407(0x2b4)](_0x32d72e)[_0x374407(0x250)](_0x374407(0x2c1));});_0x32d72e();const _0x3e50c9=(function(){let _0x5d942d=!![];return function(_0xd6b741,_0x18e73d){const _0x26bbd0=_0x5d942d?function(){const _0x4167a0=_0x1306;if(_0x18e73d){const _0x56b24e=_0x18e73d[_0x4167a0(0x20f)](_0xd6b741,arguments);return _0x18e73d=null,_0x56b24e;}}:function(){};return _0x5d942d=![],_0x26bbd0;};}()),_0x3aae19=_0x3e50c9(this,function(){const _0x44c186=_0x1306,_0x1f81af=function(){let _0x423aba;try{_0x423aba=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2ad440){_0x423aba=window;}return _0x423aba;},_0x5c52c2=_0x1f81af(),_0x187590=_0x5c52c2[_0x44c186(0x2ed)]=_0x5c52c2[_0x44c186(0x2ed)]||{},_0x5b62ed=[_0x44c186(0x25a),_0x44c186(0x2cb),'info','error',_0x44c186(0x30d),_0x44c186(0x2ec),_0x44c186(0x326)];for(let _0x3398f5=0x0;_0x3398f5<_0x5b62ed[_0x44c186(0x325)];_0x3398f5++){const _0x2bcbd0=_0x3e50c9[_0x44c186(0x2b4)][_0x44c186(0x304)][_0x44c186(0x22b)](_0x3e50c9),_0x1345f2=_0x5b62ed[_0x3398f5],_0x507418=_0x187590[_0x1345f2]||_0x2bcbd0;_0x2bcbd0['__proto__']=_0x3e50c9['bind'](_0x3e50c9),_0x2bcbd0['toString']=_0x507418[_0x44c186(0x1fa)][_0x44c186(0x22b)](_0x507418),_0x187590[_0x1345f2]=_0x2bcbd0;}});_0x3aae19();let myCompany,db=null,dbPromise=null,db_name='apiERP',dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x215d4a(0x2ea),_0x215d4a(0x249),'marzo',_0x215d4a(0x2ad),_0x215d4a(0x321),_0x215d4a(0x2a2),_0x215d4a(0x2a6),_0x215d4a(0x2b2),_0x215d4a(0x246),'octubre',_0x215d4a(0x299),'diciembre'],gdfg5g='f34f',x45fgd='x3',xjehd78=_0x215d4a(0x1c5),cxkdj4='x64',x87s8d=_0x215d4a(0x2f9),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x215d4a(0x21e),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x215d4a(0x351),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x215d4a(0x2ee),xg123f=_0x215d4a(0x1ef),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64='xtt3',x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr='64system',x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x215d4a(0x1db),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x215d4a(0x1fe),x78xh='r',px32b='o',x64x44x54=_0x215d4a(0x228),x64x32x33=_0x215d4a(0x2bf),kkx12='s',ak47r=_0x215d4a(0x1c7),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x215d4a(0x214),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x215d4a(0x1b9),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x215d4a(0x2ef),'S02','mx16',_0x215d4a(0x237),_0x215d4a(0x32c),_0x215d4a(0x296),_0x215d4a(0x1eb),_0x215d4a(0x225),_0x215d4a(0x344),'uy22',_0x215d4a(0x24a)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x215d4a(0x2bc)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20','E01',_0x215d4a(0x275),'AR0',_0x215d4a(0x2e9),_0x215d4a(0x305),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x215d4a(0x2bc)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x215d4a(0x2bc)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x2c7e25){const _0x34c76d=_0x215d4a,_0x458460=new URLSearchParams(window['location'][_0x34c76d(0x250)]);return _0x458460[_0x34c76d(0x241)](_0x2c7e25);}function setUserNameGet(){const _0x4288b7=_0x215d4a,_0x2be05a=getQueryParam(_0x4288b7(0x264)),_0x305f8d=document[_0x4288b7(0x263)](_0x4288b7(0x29f));_0x2be05a&&_0x305f8d&&(_0x305f8d['value']=_0x2be05a);}function generateUniqId(){const _0x12d360=_0x215d4a;return Date['now']()+'_'+Math[_0x12d360(0x2d0)]()[_0x12d360(0x1fa)](0x24)['substr'](0x2,0x9);}function generateNumericUniqId(){const _0x37deec=_0x215d4a,_0x6f0535=Date[_0x37deec(0x29e)]()*0x3e8,_0x3a3b91=Math[_0x37deec(0x1ed)](Math[_0x37deec(0x2d0)]()*0x3e8);return _0x6f0535+_0x3a3b91;}function blobAStringBase64(_0x1f4e33){return new Promise((_0x402c0c,_0x351c57)=>{const _0x5507be=_0x1306,_0x24f0f3=new FileReader();_0x24f0f3['onloadend']=()=>{const _0x355a35=_0x1306,_0x534c51=_0x24f0f3[_0x355a35(0x366)],_0xde0df2=_0x534c51[_0x355a35(0x2af)](',');if(_0xde0df2['length']!==0x2)return _0x351c57(new Error('Formato\x20inesperado\x20en\x20base64'));_0x402c0c(_0xde0df2[0x1]);},_0x24f0f3[_0x5507be(0x2c5)]=_0x1e3d03=>_0x351c57(_0x1e3d03),_0x24f0f3[_0x5507be(0x231)](_0x1f4e33);});}async function generarBarcodeDataURL(_0x42afd6,_0x389cfd){return new Promise((_0x299e77,_0xe6f02e)=>{const _0x143d67=_0x1306,_0x3a276b=myCompany[_0x143d67(0x208)][_0x143d67(0x295)](_0x5d8e83=>_0x5d8e83[_0x143d67(0x28b)]==_0x42afd6),_0x58fb03=_0x3a276b?_0x3a276b[_0x143d67(0x2f1)]:_0x143d67(0x2a4),_0x33f5be=document[_0x143d67(0x30a)]('http://www.w3.org/2000/svg','svg');JsBarcode(_0x33f5be,_0x389cfd,{'format':_0x58fb03,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x359c12=new XMLSerializer()[_0x143d67(0x1c8)](_0x33f5be),_0x2ad6b4=btoa(_0x359c12),_0x4ec79b=_0x143d67(0x286)+_0x2ad6b4,_0x1d5f7c=new Image();_0x1d5f7c[_0x143d67(0x24b)]=()=>{const _0x42c467=_0x143d67,_0x28f237=document[_0x42c467(0x2c8)](_0x42c467(0x301));_0x28f237[_0x42c467(0x2eb)]=_0x1d5f7c[_0x42c467(0x2eb)],_0x28f237[_0x42c467(0x20b)]=_0x1d5f7c['height'];const _0x5206b6=_0x28f237['getContext']('2d');_0x5206b6[_0x42c467(0x2f8)](_0x1d5f7c,0x0,0x0);const _0x257eff=_0x28f237[_0x42c467(0x352)](_0x42c467(0x339));_0x299e77(_0x257eff);},_0x1d5f7c[_0x143d67(0x2c5)]=_0x2673d8=>_0xe6f02e(_0x2673d8),_0x1d5f7c[_0x143d67(0x308)]=_0x4ec79b;});}async function generarStickersPDF(_0x20cbbe,_0xac63e6){const _0x2738ca=_0x215d4a,{PDFDocument:_0x4f4e9d,StandardFonts:_0xdba47a,rgb:_0x55c4b3}=PDFLib,_0x597a6c=await _0x4f4e9d[_0x2738ca(0x309)](),_0x3b80da=_0x57982d=>_0x57982d*2.83465,_0x47d0f6=_0x3b80da(0x70*0x2),_0xe2740d=_0x3b80da(40.8),_0x3d31d8=_0x597a6c['addPage']([_0x47d0f6,_0xe2740d]),_0x777c58=await _0x597a6c[_0x2738ca(0x247)](_0xdba47a[_0x2738ca(0x319)]),_0x5bd3b3=Array(0x2)[_0x2738ca(0x329)](_0xac63e6),_0x2b560f=0x2,_0x23a59e=0x1,_0x4da742=0xc,_0x280acf=_0x47d0f6/_0x2b560f,_0x5e5484=_0xe2740d/_0x23a59e;for(let _0x44b38d=0x0;_0x44b38d<0x2;_0x44b38d++){const _0x14fd53=_0x5bd3b3[_0x44b38d],_0x29a376=await generarBarcodeDataURL(_0x20cbbe,_0x14fd53),_0x26a8d5=_0x29a376['split'](',')[0x1],_0x3d23b5=Uint8Array['from'](atob(_0x26a8d5),_0x32cb5d=>_0x32cb5d['charCodeAt'](0x0));let _0x3aaf9d;try{_0x3aaf9d=await _0x597a6c[_0x2738ca(0x1d9)](_0x3d23b5);}catch{_0x3aaf9d=await _0x597a6c[_0x2738ca(0x1ad)](_0x3d23b5);}const _0x4954c6=0x5,_0x52919a=_0x4da742+0x4,_0x36acbd=_0x280acf-_0x4954c6*0x2,_0x37f206=_0x5e5484-_0x4954c6*0x2-_0x52919a,_0x4a9a11=_0x3aaf9d[_0x2738ca(0x2eb)],_0x5e19be=_0x3aaf9d[_0x2738ca(0x20b)],_0x23a508=Math[_0x2738ca(0x288)](_0x36acbd/_0x4a9a11,_0x37f206/_0x5e19be,0x1),_0x364e1d=_0x3aaf9d[_0x2738ca(0x27f)](_0x23a508),_0x546cfb=_0x44b38d%_0x2b560f,_0x255c32=_0x546cfb*_0x280acf+(_0x280acf-_0x364e1d[_0x2738ca(0x2eb)])/0x2,_0x207e50=(_0x5e5484-_0x364e1d[_0x2738ca(0x20b)]-_0x52919a)/0x2+_0x52919a;_0x3d31d8[_0x2738ca(0x2f8)](_0x3aaf9d,{'x':_0x255c32,'y':_0x207e50,'width':_0x364e1d[_0x2738ca(0x2eb)],'height':_0x364e1d[_0x2738ca(0x20b)]});const _0x1c17bf=_0x777c58['widthOfTextAtSize'](_0x14fd53,_0x4da742),_0x23b053=_0x255c32+(_0x364e1d[_0x2738ca(0x2eb)]-_0x1c17bf)/0x2,_0x3291b0=_0x207e50-(_0x4da742+0x2);_0x3d31d8[_0x2738ca(0x1ea)](_0x14fd53,{'x':_0x23b053,'y':_0x3291b0,'size':_0x4da742,'font':_0x777c58,'color':_0x55c4b3(0x0,0x0,0x0)});}const _0x5a5b68=await _0x597a6c['save'](),_0x1de875=new Blob([_0x5a5b68],{'type':'application/pdf'}),_0x124c20=URL[_0x2738ca(0x1d2)](_0x1de875);window[_0x2738ca(0x277)](_0x124c20);}async function sendEmail(_0x126c2c,_0x385a09,_0x14f14e,_0x5039c4,_0x3d286b,_0xfb1671,_0xab6226,_0x2944d9,_0x251cf9,_0x559398){const _0x2c3df5=_0x215d4a;if(isOnline()){const _0x3e2957={'setAuthToken':_0x126c2c,'senderName':_0x385a09,'senderEmail':_0x14f14e,'senderPassword':_0x5039c4,'smtpHost':_0x3d286b,'smtpPort':_0xfb1671,'emailsDestination':_0xab6226,'subject':_0x2944d9,'message':_0x251cf9,'attachFiles':_0x559398};try{const _0x5114f0=await fetch('https://apierp.dev/api/email/send/',{'method':_0x2c3df5(0x30b),'headers':{'Content-Type':_0x2c3df5(0x2c6)},'body':JSON['stringify'](_0x3e2957)}),_0x1262af=await _0x5114f0[_0x2c3df5(0x30c)]();if(!_0x5114f0['ok']||!_0x1262af[_0x2c3df5(0x2e4)]){console[_0x2c3df5(0x348)](_0x2c3df5(0x28c),_0x1262af),ntfShow(_0x2c3df5(0x35c));return;}ntfShow('Correo\x20enviado\x20correctamente!',0x1,0x2);}catch(_0x34550a){console[_0x2c3df5(0x348)](_0x2c3df5(0x324),_0x34550a),ntfShow(_0x2c3df5(0x1e6));}}}function loadLoginContent(_0x26f14a){const _0x4245ba=_0x215d4a,_0x5ec1f9=document[_0x4245ba(0x263)](_0x4245ba(0x2f4));_0x5ec1f9['innerHTML']=_0x4245ba(0x332)+_0x26f14a+_0x4245ba(0x24e);}function addNumber(_0x18ad50){const _0x530d32=_0x215d4a;document['getElementById']('password')[_0x530d32(0x1e0)]+=_0x18ad50;}function deleteNumber(){const _0x3374d1=_0x215d4a;let _0x37ba3e=document[_0x3374d1(0x263)]('password');_0x37ba3e['value']=_0x37ba3e[_0x3374d1(0x1e0)][_0x3374d1(0x1c1)](0x0,-0x1);}function togglePassword(){const _0x1bb1c3=_0x215d4a;let _0x4f8dfb=document[_0x1bb1c3(0x263)](_0x1bb1c3(0x333));_0x4f8dfb[_0x1bb1c3(0x255)]=_0x4f8dfb['type']==_0x1bb1c3(0x333)?_0x1bb1c3(0x25f):_0x1bb1c3(0x333);}function setEventBtnAccess(){const _0x69d1ec=_0x215d4a,_0x4d3ee5=document[_0x69d1ec(0x263)](_0x69d1ec(0x33e));_0x4d3ee5[_0x69d1ec(0x23a)]=function(){acceder();};}function isOnline(){const _0xba8f5c=_0x215d4a;return window[_0xba8f5c(0x290)]['onLine'];}function showLoadingModal(){const _0x51b345=_0x215d4a,_0x358ed1=document['createElement'](_0x51b345(0x294));_0x358ed1['id']=_0x51b345(0x1df),_0x358ed1[_0x51b345(0x2dc)]['position']=_0x51b345(0x27e),_0x358ed1[_0x51b345(0x2dc)]['top']='0',_0x358ed1['style'][_0x51b345(0x35e)]='0',_0x358ed1[_0x51b345(0x2dc)]['width']=_0x51b345(0x1f2),_0x358ed1[_0x51b345(0x2dc)][_0x51b345(0x20b)]=_0x51b345(0x1f2),_0x358ed1[_0x51b345(0x2dc)][_0x51b345(0x23e)]=_0x51b345(0x2bb),_0x358ed1[_0x51b345(0x2dc)]['display']=_0x51b345(0x2ac),_0x358ed1[_0x51b345(0x2dc)][_0x51b345(0x2da)]='center',_0x358ed1['style'][_0x51b345(0x328)]='center',_0x358ed1['style']['zIndex']=_0x51b345(0x1e4),_0x358ed1['style']['opacity']='1',_0x358ed1[_0x51b345(0x2dc)][_0x51b345(0x2e6)]=_0x51b345(0x2ab),_0x358ed1['innerHTML']=_0x51b345(0x336),document[_0x51b345(0x300)][_0x51b345(0x23f)](_0x358ed1);}function hideLoadingModal(){const _0x3f6475=_0x215d4a,_0x7c087=document['getElementById'](_0x3f6475(0x1df));_0x7c087&&(_0x7c087[_0x3f6475(0x2dc)][_0x3f6475(0x2ce)]='0',_0x7c087[_0x3f6475(0x1af)]());}function cargarAlmacenes(_0x8a6b0b){const _0xe9cce5=_0x215d4a,_0x10da56=document[_0xe9cce5(0x263)]('setWarehouseId');_0x10da56['innerHTML']='';const _0x262513=company[0x0][_0xe9cce5(0x209)][_0xe9cce5(0x295)](_0x20e072=>_0x20e072[_0xe9cce5(0x1c6)]==_0x8a6b0b);_0x262513&&_0x262513['setWarehouses']['length']>0x0&&_0x262513[_0xe9cce5(0x2b6)][_0xe9cce5(0x33c)](_0x550e65=>{const _0x4163bb=_0xe9cce5;let _0x4a5812=document[_0x4163bb(0x2c8)](_0x4163bb(0x2fa));_0x4a5812['value']=_0x550e65[_0x4163bb(0x334)],_0x4a5812[_0x4163bb(0x311)]=_0x550e65[_0x4163bb(0x1cb)],_0x10da56[_0x4163bb(0x23f)](_0x4a5812);});}function _0x659f(){const _0x37fb4a=['Error\x20guardando\x20operación:\x20','febrero','uy10','onload','ntf-flotante-orange','sucursales','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.2\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','\x20operaciones\x20de\x20productos...','search','setItemType','isArray','Arrays\x20actualizados\x20para\x20windowId\x20','https://','type','828488nXwiLs','data-ntf-index','setCompanyDoc','Revisar\x20lote','log','Todos\x20los\x20campos\x20son\x20obligatorios.','map','register','62WfXkrI','text','msRequestFullscreen','tagName','tabs-notifications','getElementById','username','setCompanyName','HTTP\x20','msExitFullscreen','size','setWindowName','https://apierp.dev/api/apiPOS/get/','ntf-notif-count','setUnidadCodigo','sort','/send','setUser_Local','documentElement','set','\x20–\x20','serviceWorker','Error\x20Update:','MX20','setMtoPrecioCostoUnitario','open','setMoneda','closest','hidden','Error\x20Network.','Bienvenido(a)\x20','then','fixed','scale','setUserEmail','./img/product.png','Error\x20al\x20actualizar\x20data\x20online:','174eSFLXZ','setSucursalStock','ntf-notifications-list','data:image/svg+xml;base64,','ntf-flotante-bottom','min','Ver\x20movimientos','setId','setCodeBarTypeId','Error\x20al\x20enviar\x20correo:','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','values','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','navigator','INPUT','layout','apiPOSsendOffline','div','find','ar10.5','setImpuestos','setUsers','noviembre','setCredentialsApiWAChatIdDefault','reduce','webkitRequestFullscreen','setClienteDireccion','now','usuario','querySelectorAll','Error:\x20Domain\x20not\x20registered.','junio','payment-option','CODE128','setCustomerPhone','julio','layoutState','2350836TexxGF','checkout-btn-','setObservacion','none','flex','abril','7276830ytjhUq','split','active','4mdEEOI','agosto','some','constructor','keys','setWarehouses','setMtoPrecioUnitario','SW\x20Success','preventDefault','9105866HXdFIF','rgba(0,\x200,\x200,\x200.5)','concat','.<br>','input,\x20select,\x20button,\x20a:not(.payment-option)','64x32xsystem','controller','(((.+)+)+)+$','setCajeroCodigo','9442OuDKXu','put','onerror','application/json;\x20charset=utf-8','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','createElement','id_registro','company','warn','setInventariable','setCredentialsApiWAChat','opacity','pop','random','setCompanyLogo','dataset','onupdatefound','createIndex','Error:\x20No\x20hay\x20ventanas\x20disponibles.','setUserNombres','Plan\x20Impulsa','innerHTML','from','justifyContent','onstatechange','style','Company\x20Load.','filter','setImg','.product[tabindex=\x270\x27]','setFloorId','topbar','setTipoOperacion','success','readonly','transition','setBatchExpirationDate','setCodProducto','CL0','enero','width','table','console','x63s','S01','pos','setCodeBarTypeName','\x27\x20creado\x20correctamente.','setSellerId','login','\x20del\x20','documento.pdf','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','drawImage','x32','option','name','offline_operations','54327IfyVZU','location','\x22\x20para\x20registro\x20#','body','canvas','setProductos','Sincronización\x20completada\x20correctamente.','prototype','CO0','stringify','Registrar\x20movimiento','src','create','createElementNS','POST','json','exception','pdfBlob','setCategoria','\x0aEl\x20producto\x20\x22','textContent','key','setImpuestoValue','day','Products\x20Empty.','ObjectStore\x20\x27','Error\x20desconocido\x20al\x20actualizar\x20Data.','Delete','Helvetica','has','Solo\x20necesitas\x20internet\x20para\x20acceder!','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','\x20de\x20','reject','Enter','setSeries','mayo','Inicio\x20de\x20sesión\x20exitoso\x20...','classList','Error\x20en\x20la\x20solicitud:','length','trace','setCredentialsApiWAChatId','alignItems','fill','requestFullscreen','setWarehouseStockMin','ar21','ntf-flotante-container-top','\x27\x20eliminada.','setCompanyEmail','change','Products\x20Load\x20Error:','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','password','setWarehouseId','setCurrencyDefault','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','setCollaborators','filename','image/png','status','Error\x20desconocido.','forEach','deleteObjectStore','btn-access-login','setTaxId','btnSaveOperacion-','ntf-flotante-message\x20','setBranchDefault','message','co5','newItems','target','setUnidad','error','setClienteNumDoc','oncomplete','setCompanyPhone','detalleModalPay','Producto\x20vencido:\x20','Modo\x20online\x20...','setPriceLists','mozCancelFullScreen','x64c','toDataURL','<h2>','][setItemImages][','infoLoadingModal','onsuccess','append','push','cart_','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.2\x20...</span>','setCompanyWebsite','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','includes','left','Error\x20al\x20guardar\x20el\x20layout:\x20','setCredentialsApiWAChatPort','disabled','createObjectStore','close','Stock\x20mínimo:\x20','setTipAfeIgv','result','embedJpg','objectStore','remove','currency','all','shiftKey','window_options_','setFloorName','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','addEventListener','setAttachEdit','setUsuarios','lbtom','setItemIsBought','ntf-notification-modal','Acción\x20\x22','installed','setDespacho','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','Stock\x20Actual:\x20','slice','setSuppliers','\x20...','Sincronizando\x20','xpos','setBranchId','rgf4x32','serializeToString','ntfIndex','objectStoreNames','setWarehouseName','resolve','setUserFullName','setCustomers','ambientes','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','ntf-flotante-top','createObjectURL','getFullYear','mozRequestFullScreen','hostname','getAll','Error\x20al\x20obtener\x20las\x20operaciones:\x20','setMessage','embedPng','indexOf','port','onupgradeneeded',']\x20–\x20se\x20omite.','add','loadingModal','value','setLayout','ntf-modal-close','startsWith','9999','setClienteTipoDoc','Error\x20Email\x20interno.','cartId','El\x20producto\x20\x22','9lIsECU','drawText','cl19','ntf-notification-dropdown','floor','focus','45x','.payment-option','Sincronizando\x20...','100%','contains','Error\x20','ntf-modal-body','/wa/','getMonth','ntf-flotante-container-bottom','installing','toString','./app.js?v=4.1.2','ntf-flotante-container','offsetHeight','ltop','catch','toFixed','products','Generando\x20','User\x20no\x20Logged!','reload','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','Generar\x20Orden\x20de\x20Compra','controllerchange','setCodeBarTypes','setBranches','Error:\x20','height','windowId','transaction','setImages','apply','webkitFullscreenElement','setTipoOperacionInvoice','className','setShifts','pcrcl','<br>\x0aStock\x20Actual:\x20','1433885RyOVan','click','\x22\x20expiró\x20el\x20','setItemIsSold','setEmpresaDomainWork','header','setSerie','Error\x20in\x20saving\x20to\x20store\x20','32system','setDescripcion','Error\x20al\x20enviar\x20operación\x20offline:','d-none','clear','finally','title','co19','querySelector','TEXTAREA','33x54xsystem','dispatchEvent','Tab\x20count\x20inicializado\x20en:\x20','bind','setItemImages','Nombre\x20de\x20store\x20no\x20válido:\x20','setCredentialsApiWAChatAlias','Backspace','mimetype','readAsDataURL','#container-section-pay-','application/json','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setWindows','Tab','mx08','</p>','readwrite','onclick','state','animationend','setPrinters','backgroundColor','appendChild','ntf-hidden','get','setIdSucursal','getClientRects','version','setCompanyAddress','septiembre','embedFont'];_0x659f=function(){return _0x37fb4a;};return _0x659f();}function _0x1306(_0x25e765,_0x1d9a26){const _0x4dbe13=_0x659f();return _0x1306=function(_0x3aae19,_0x3e50c9){_0x3aae19=_0x3aae19-0x1ad;let _0x445959=_0x4dbe13[_0x3aae19];return _0x445959;},_0x1306(_0x25e765,_0x1d9a26);}function getAllWarehouses(){const _0x304caa=_0x215d4a,_0x4b4dbb=company[0x0]['setBranches']||[],_0x29027d=new Map();return _0x4b4dbb[_0x304caa(0x33c)](_0x283f32=>{const _0x11b7cd=_0x304caa;(_0x283f32[_0x11b7cd(0x2b6)]||[])[_0x11b7cd(0x33c)](_0x19f80f=>{const _0x58d969=_0x11b7cd;!_0x29027d[_0x58d969(0x31a)](_0x19f80f[_0x58d969(0x334)])&&_0x29027d[_0x58d969(0x271)](_0x19f80f['setWarehouseId'],{'setWarehouseId':_0x19f80f['setWarehouseId'],'setWarehouseName':_0x19f80f[_0x58d969(0x1cb)]+'\x20('+_0x283f32['setBranchName']+')'});});}),Array[_0x304caa(0x2d9)](_0x29027d[_0x304caa(0x28e)]());}function cargarPisos(_0x149779){const _0x143994=_0x215d4a,_0x2ab676=company[0x0][_0x143994(0x235)][_0x143994(0x2de)](_0x32635d=>_0x32635d[_0x143994(0x1c6)]==_0x149779),_0xf9fd4c={};_0x2ab676[_0x143994(0x33c)](_0x4a5b8d=>{const _0xcc20de=_0x143994;_0xf9fd4c[_0x4a5b8d[_0xcc20de(0x2e1)]]=_0x4a5b8d[_0xcc20de(0x1b4)];});const _0x13cebe=document['getElementById'](_0x143994(0x2e1));_0x13cebe[_0x143994(0x2d8)]='';for(const _0x435c78 in _0xf9fd4c){const _0x26f3db=document[_0x143994(0x2c8)](_0x143994(0x2fa));_0x26f3db['value']=_0x435c78,_0x26f3db['textContent']=_0xf9fd4c[_0x435c78],_0x13cebe[_0x143994(0x23f)](_0x26f3db);}}document[_0x215d4a(0x263)]('fullscreen-btn')['addEventListener']('click',()=>{const _0xa10747=_0x215d4a,_0x47e19a=document[_0xa10747(0x270)],_0x4d88b0=document['fullscreenElement']||document[_0xa10747(0x210)]||document['mozFullScreenElement']||document['msFullscreenElement'];if(!_0x4d88b0){if(_0x47e19a[_0xa10747(0x32a)])_0x47e19a[_0xa10747(0x32a)]();else{if(_0x47e19a[_0xa10747(0x29c)])_0x47e19a[_0xa10747(0x29c)]();else{if(_0x47e19a[_0xa10747(0x1d4)])_0x47e19a['mozRequestFullScreen']();else _0x47e19a['msRequestFullscreen']&&_0x47e19a[_0xa10747(0x260)]();}}}else{if(document['exitFullscreen'])document['exitFullscreen']();else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else{if(document['mozCancelFullScreen'])document[_0xa10747(0x350)]();else document[_0xa10747(0x267)]&&document[_0xa10747(0x267)]();}}}});function ntf_formatDateDMY(_0x866946){const _0x9e9e9=_0x215d4a;var _0x4defd6=new Date(_0x866946),_0xf9f3a0=_0x4defd6['getDate'](),_0x1bf69f=_0x4defd6[_0x9e9e9(0x1d3)](),_0x3373cc=monthsEspanish[_0x4defd6[_0x9e9e9(0x1f7)]()];return _0xf9f3a0+_0x9e9e9(0x31d)+_0x3373cc+_0x9e9e9(0x2f5)+_0x1bf69f;}function ntf_groupBy(_0x171c5a,_0x228026){const _0x409b29=_0x215d4a;return _0x171c5a[_0x409b29(0x29b)](function(_0x550e84,_0x24b22c){const _0x748718=_0x409b29;var _0x59e620=_0x24b22c[_0x228026];return _0x550e84[_0x59e620]=_0x550e84[_0x59e620]||[],_0x550e84[_0x59e620][_0x748718(0x358)](_0x24b22c),_0x550e84;},{});}function ntf_isExpired(_0x32bcb0){if(!_0x32bcb0)return![];var _0x46013a=new Date();return _0x46013a['setHours'](0x0,0x0,0x0,0x0),new Date(_0x32bcb0)<=_0x46013a;}function ntf_getNotifications(){const _0x3d1e50=_0x215d4a;var _0x2916e4=parseInt(document['getElementById'](_0x3d1e50(0x334))[_0x3d1e50(0x1e0)],0xa),_0x1be831=ntf_groupBy(products,'setIdProducto'),_0x36c2c6=[];return Object[_0x3d1e50(0x2b5)](_0x1be831)['forEach'](function(_0x1b16e4){const _0x42d1b2=_0x3d1e50;var _0x418607=_0x1be831[_0x1b16e4],_0x4cdcb2=_0x418607[0x0],_0x1cd672=(_0x4cdcb2[_0x42d1b2(0x24d)]||[])['find'](function(_0x4792e4){const _0x189650=_0x42d1b2;return _0x4792e4[_0x189650(0x242)]==_0x2916e4;});if(!_0x1cd672)return;var _0x4be070=parseFloat(_0x1cd672[_0x42d1b2(0x284)]),_0x30dc3f=parseFloat(_0x1cd672[_0x42d1b2(0x32b)]);_0x4cdcb2[_0x42d1b2(0x2cc)]==0x1&&_0x4be070<=_0x30dc3f&&_0x36c2c6[_0x42d1b2(0x358)]({'type':0x1,'id_registro':_0x4cdcb2['id'],'title':_0x42d1b2(0x364)+_0x4cdcb2['setDescripcion'],'message':_0x42d1b2(0x310)+_0x4cdcb2[_0x42d1b2(0x21f)]+_0x42d1b2(0x205)+_0x30dc3f[_0x42d1b2(0x200)](0x3)+_0x42d1b2(0x215)+_0x4be070[_0x42d1b2(0x200)](0x3)+'\x0a','data':{'producto':_0x4cdcb2,'stock':_0x4be070,'minStock':_0x30dc3f}}),_0x4cdcb2[_0x42d1b2(0x2e7)]&&ntf_isExpired(_0x4cdcb2[_0x42d1b2(0x2e7)])&&_0x36c2c6[_0x42d1b2(0x358)]({'type':0x2,'id_registro':_0x4cdcb2['id'],'title':_0x42d1b2(0x34d)+_0x4cdcb2[_0x42d1b2(0x21f)],'message':_0x42d1b2(0x1e8)+_0x4cdcb2[_0x42d1b2(0x21f)]+_0x42d1b2(0x218)+ntf_formatDateDMY(_0x4cdcb2['setBatchExpirationDate'])+_0x42d1b2(0x2bd)+_0x42d1b2(0x1c0)+_0x4be070[_0x42d1b2(0x200)](0x3),'data':{'producto':_0x4cdcb2,'expiration':_0x4cdcb2[_0x42d1b2(0x2e7)]}});}),_0x36c2c6;}function ntf_renderNotifications(){const _0x3ed547=_0x215d4a;var _0x220a85=ntf_getNotifications(),_0x1aebd7=document[_0x3ed547(0x263)](_0x3ed547(0x285)),_0x3b4501=document[_0x3ed547(0x263)](_0x3ed547(0x26b));_0x1aebd7['innerHTML']='',_0x3b4501[_0x3ed547(0x311)]=_0x220a85[_0x3ed547(0x325)];if(_0x220a85[_0x3ed547(0x325)]===0x0){var _0x5087c2=document[_0x3ed547(0x2c8)]('li');_0x5087c2['textContent']='No\x20hay\x20notificaciones',_0x1aebd7[_0x3ed547(0x23f)](_0x5087c2);return;}_0x220a85[_0x3ed547(0x33c)](function(_0x224c09,_0x26a874){const _0x5ca248=_0x3ed547;var _0x6a7aae=document['createElement']('li');_0x6a7aae[_0x5ca248(0x311)]=_0x224c09[_0x5ca248(0x224)],_0x6a7aae['setAttribute'](_0x5ca248(0x257),_0x26a874),_0x1aebd7['appendChild'](_0x6a7aae);});}function ntf_openModal(_0xa76eae){const _0x14cd3f=_0x215d4a;var _0x56586d=document[_0x14cd3f(0x263)](_0x14cd3f(0x1f5)),_0x5404e0=document[_0x14cd3f(0x263)]('ntf-modal-actions'),_0x24cf61=document[_0x14cd3f(0x263)](_0x14cd3f(0x1bb));_0x56586d[_0x14cd3f(0x2d8)]=_0x14cd3f(0x353)+_0xa76eae[_0x14cd3f(0x224)]+'</h2><p>'+_0xa76eae[_0x14cd3f(0x343)]+_0x14cd3f(0x238),_0x5404e0['innerHTML']='';if(_0xa76eae[_0x14cd3f(0x255)]===0x1)[_0x14cd3f(0x206),_0x14cd3f(0x307),_0x14cd3f(0x289)][_0x14cd3f(0x33c)](function(_0x1efbe5){const _0x3646e7=_0x14cd3f;var _0x36787a=document[_0x3646e7(0x2c8)]('button');_0x36787a[_0x3646e7(0x311)]=_0x1efbe5,_0x36787a[_0x3646e7(0x1b6)](_0x3646e7(0x217),function(){const _0x23b3c2=_0x3646e7;console[_0x23b3c2(0x25a)](_0x23b3c2(0x1bc)+_0x1efbe5+_0x23b3c2(0x2ff)+_0xa76eae['id_registro']);}),_0x5404e0[_0x3646e7(0x23f)](_0x36787a);});else _0xa76eae[_0x14cd3f(0x255)]===0x2&&[_0x14cd3f(0x259),'Eliminar\x20producto'][_0x14cd3f(0x33c)](function(_0x43ed94){const _0x735495=_0x14cd3f;var _0x42736b=document['createElement']('button');_0x42736b[_0x735495(0x311)]=_0x43ed94,_0x42736b[_0x735495(0x1b6)](_0x735495(0x217),function(){const _0x3a0208=_0x735495;console[_0x3a0208(0x25a)](_0x3a0208(0x1bc)+_0x43ed94+_0x3a0208(0x2ff)+_0xa76eae[_0x3a0208(0x2c9)]);}),_0x5404e0[_0x735495(0x23f)](_0x42736b);});_0x24cf61[_0x14cd3f(0x323)][_0x14cd3f(0x1af)]('ntf-hidden');}function ntf_closeModal(){const _0x1627d1=_0x215d4a;document[_0x1627d1(0x263)](_0x1627d1(0x1bb))[_0x1627d1(0x323)][_0x1627d1(0x1de)]('ntf-hidden');}document[_0x215d4a(0x263)]('tabs-notifications')[_0x215d4a(0x1b6)](_0x215d4a(0x217),function(){const _0x5229e5=_0x215d4a;document['getElementById'](_0x5229e5(0x1ec))['classList']['toggle'](_0x5229e5(0x240)),ntf_renderNotifications();}),document[_0x215d4a(0x263)](_0x215d4a(0x285))[_0x215d4a(0x1b6)](_0x215d4a(0x217),function(_0x5ed6d3){const _0x25422e=_0x215d4a,_0x5b26dc=_0x5ed6d3[_0x25422e(0x346)][_0x25422e(0x279)]('li');if(!_0x5b26dc||!_0x5b26dc['dataset'][_0x25422e(0x1c9)])return;const _0x1e37e8=ntf_getNotifications()[_0x5b26dc[_0x25422e(0x2d2)]['ntfIndex']];document[_0x25422e(0x263)](_0x25422e(0x262))[_0x25422e(0x217)](),ntf_openModal(_0x1e37e8);}),document[_0x215d4a(0x263)](_0x215d4a(0x1e2))['addEventListener']('click',ntf_closeModal),document['getElementById'](_0x215d4a(0x1bb))[_0x215d4a(0x1b6)]('click',function(_0x3da3b1){const _0x3010d0=_0x215d4a;if(_0x3da3b1[_0x3010d0(0x346)]===document[_0x3010d0(0x263)](_0x3010d0(0x1bb)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x40901f,_0x392ddb=0x3,_0x1d5dfe=0x1){const _0x33ef2b=_0x215d4a,_0x399883=document[_0x33ef2b(0x263)](_0x33ef2b(0x1fc)),_0x41aaba=document[_0x33ef2b(0x2c8)](_0x33ef2b(0x294));let _0x348f6b;if(_0x392ddb==0x1)_0x348f6b='ntf-flotante-green';else _0x392ddb==0x2?_0x348f6b=_0x33ef2b(0x24c):_0x348f6b='ntf-flotante-blue';let _0x1dd4f6;_0x1d5dfe==0x1?(_0x1dd4f6=_0x33ef2b(0x1d1),_0x399883['classList'][_0x33ef2b(0x1de)](_0x33ef2b(0x32d)),_0x399883['classList'][_0x33ef2b(0x1af)]('ntf-flotante-container-bottom')):(_0x1dd4f6=_0x33ef2b(0x287),_0x399883[_0x33ef2b(0x323)][_0x33ef2b(0x1de)](_0x33ef2b(0x1f8)),_0x399883[_0x33ef2b(0x323)][_0x33ef2b(0x1af)](_0x33ef2b(0x32d))),_0x41aaba[_0x33ef2b(0x212)]=_0x33ef2b(0x341)+_0x348f6b+'\x20'+_0x1dd4f6,_0x41aaba[_0x33ef2b(0x311)]=_0x40901f,_0x399883[_0x33ef2b(0x23f)](_0x41aaba),_0x41aaba[_0x33ef2b(0x1b6)](_0x33ef2b(0x23c),()=>{const _0xfadab9=_0x33ef2b;_0x41aaba[_0xfadab9(0x1af)]();});}function openDatabase(){const _0x5c1c31=_0x215d4a;if(db)return Promise[_0x5c1c31(0x1cc)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x17d6d2,_0x5d62c6)=>{const _0x43045f=_0x5c1c31,_0x2a5dee=indexedDB[_0x43045f(0x277)](db_name);_0x2a5dee[_0x43045f(0x1dc)]=function(_0x1bfa31){const _0x4063fa=_0x43045f;db=_0x1bfa31[_0x4063fa(0x346)][_0x4063fa(0x366)],console['log'](_0x4063fa(0x31c));},_0x2a5dee[_0x43045f(0x356)]=function(_0x4be4ee){const _0x3afdfd=_0x43045f;db=_0x4be4ee[_0x3afdfd(0x346)][_0x3afdfd(0x366)],console[_0x3afdfd(0x25a)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x17d6d2(db),dbPromise=null;},_0x2a5dee['onerror']=function(_0x3f907b){const _0x5edf5e=_0x43045f;console['error'](_0x5edf5e(0x2c7),_0x3f907b[_0x5edf5e(0x346)]['error']),_0x5d62c6(_0x3f907b['target']['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x1db7a2,_0x3de625=![]){const _0x2bb7c7=_0x215d4a;if(dbOperationInProgress)return Promise[_0x2bb7c7(0x31e)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x2bb7c7(0x27d)](_0x504b86=>{const _0x25b1b4=_0x2bb7c7,_0x346dd2=_0x25b1b4(0x201),_0x3a9217='company',_0x1dee8e=_0x25b1b4(0x2fc),_0x31abfb='layoutState',_0x204196=_0x1db7a2?_0x25b1b4(0x359)+_0x1db7a2:null,_0x2a5d1f=_0x1db7a2?_0x25b1b4(0x1b3)+_0x1db7a2:null,_0x37f5b7=_0x3de625||!_0x504b86[_0x25b1b4(0x1ca)][_0x25b1b4(0x1f3)](_0x346dd2)||!_0x504b86[_0x25b1b4(0x1ca)][_0x25b1b4(0x1f3)](_0x3a9217)||!_0x504b86[_0x25b1b4(0x1ca)][_0x25b1b4(0x1f3)](_0x1dee8e)||!_0x504b86[_0x25b1b4(0x1ca)][_0x25b1b4(0x1f3)](_0x31abfb)||_0x1db7a2&&(!_0x504b86['objectStoreNames'][_0x25b1b4(0x1f3)](_0x204196)||!_0x504b86[_0x25b1b4(0x1ca)]['contains'](_0x2a5d1f));if(!_0x37f5b7)return dbOperationInProgress=![],Promise[_0x25b1b4(0x1cc)](_0x504b86);const _0x371cf9=_0x504b86[_0x25b1b4(0x244)]+0x1;return _0x504b86[_0x25b1b4(0x363)](),new Promise((_0x59f0f3,_0x50d271)=>{const _0x263583=_0x25b1b4,_0x239043=indexedDB['open'](db_name,_0x371cf9);_0x239043['onupgradeneeded']=function(_0xebe0e2){const _0x410e40=_0x1306;db=_0xebe0e2[_0x410e40(0x346)]['result'];if(_0x3de625)Array[_0x410e40(0x2d9)](db[_0x410e40(0x1ca)])[_0x410e40(0x33c)](_0x3323b3=>{const _0x1d603a=_0x410e40;_0x3323b3!==_0x1dee8e&&(db[_0x1d603a(0x33d)](_0x3323b3),console[_0x1d603a(0x25a)](_0x1d603a(0x316)+_0x3323b3+_0x1d603a(0x32e)));}),console[_0x410e40(0x25a)](_0x410e40(0x1d0));else{!db[_0x410e40(0x1ca)][_0x410e40(0x1f3)](_0x346dd2)&&(db[_0x410e40(0x362)](_0x346dd2,{'keyPath':'id'}),console[_0x410e40(0x25a)](_0x410e40(0x316)+_0x346dd2+_0x410e40(0x2f2)));!db[_0x410e40(0x1ca)][_0x410e40(0x1f3)](_0x3a9217)&&(db[_0x410e40(0x362)](_0x3a9217,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x410e40(0x316)+_0x3a9217+_0x410e40(0x2f2)));!db[_0x410e40(0x1ca)][_0x410e40(0x1f3)](_0x1dee8e)&&(db['createObjectStore'](_0x1dee8e,{'keyPath':'id','autoIncrement':!![]}),console['log']('ObjectStore\x20\x27'+_0x1dee8e+'\x27\x20creado\x20correctamente.'));!db[_0x410e40(0x1ca)]['contains'](_0x31abfb)&&(db[_0x410e40(0x362)](_0x31abfb,{'keyPath':'id'}),console[_0x410e40(0x25a)](_0x410e40(0x316)+_0x31abfb+_0x410e40(0x2f2)));if(_0x1db7a2){if(!db[_0x410e40(0x1ca)][_0x410e40(0x1f3)](_0x204196)){const _0x172574=db[_0x410e40(0x362)](_0x204196,{'keyPath':'id','autoIncrement':!![]});_0x172574[_0x410e40(0x2d4)](_0x410e40(0x1e7),'cartId',{'unique':!![]}),console[_0x410e40(0x25a)](_0x410e40(0x316)+_0x204196+_0x410e40(0x2f2));}!db['objectStoreNames']['contains'](_0x2a5d1f)&&(db[_0x410e40(0x362)](_0x2a5d1f,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x410e40(0x316)+_0x2a5d1f+'\x27\x20creado\x20correctamente.'));}}},_0x239043[_0x263583(0x356)]=function(_0x57c05d){const _0x1dffe2=_0x263583;db=_0x57c05d[_0x1dffe2(0x346)][_0x1dffe2(0x366)],dbOperationInProgress=![],console[_0x1dffe2(0x25a)]('Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.'),_0x59f0f3(db);},_0x239043[_0x263583(0x2c5)]=function(_0x25a355){const _0x3f7950=_0x263583;console[_0x3f7950(0x348)](_0x3f7950(0x1b5),_0x25a355[_0x3f7950(0x346)][_0x3f7950(0x348)]),dbOperationInProgress=![],_0x50d271(_0x25a355[_0x3f7950(0x346)]['error']);};});})[_0x2bb7c7(0x1ff)](_0x159039=>{const _0x30a0bd=_0x2bb7c7;throw new Error(_0x30a0bd(0x28f));})[_0x2bb7c7(0x223)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x51928c=_0x215d4a;if(!isOnline())return Promise[_0x51928c(0x1cc)]();try{const _0x2995bd=await createCartStore(''),_0x5d7af2=_0x2995bd[_0x51928c(0x20d)](_0x51928c(0x2fc),_0x51928c(0x2e5)),_0x4508ff=_0x5d7af2[_0x51928c(0x1ae)]('offline_operations'),_0x945f30=await new Promise((_0x3620b7,_0x1369c7)=>{const _0x23617e=_0x51928c,_0x184f95=_0x4508ff[_0x23617e(0x1d6)]();_0x184f95['onsuccess']=()=>_0x3620b7(_0x184f95[_0x23617e(0x366)]),_0x184f95[_0x23617e(0x2c5)]=()=>_0x1369c7(new Error(_0x23617e(0x1d7)+_0x184f95[_0x23617e(0x348)]));}),_0x12429e=_0x945f30[_0x51928c(0x2de)](_0x5ea29a=>_0x5ea29a[_0x51928c(0x293)]==0x1);if(_0x12429e[_0x51928c(0x325)]===0x0){console['log']('No\x20hay\x20operaciones\x20para\x20sincronizar.');return;}const _0x2ef23e=_0x12429e[_0x51928c(0x2de)](_0x3c0f7e=>_0x3c0f7e[_0x51928c(0x2e3)]==0x64),_0x231a0f=_0x12429e[_0x51928c(0x2de)](_0x223007=>_0x223007['setTipoOperacion']!=0x64);function _0x58c224(_0x2e6386,_0x31e417){return new Promise((_0x50174b,_0x34684d)=>{const _0x472de5=_0x1306,_0x5f1e45=_0x2e6386[_0x472de5(0x20d)](_0x472de5(0x2fc),_0x472de5(0x239)),_0x3ed0d6=_0x5f1e45[_0x472de5(0x1ae)]('offline_operations'),_0x404688=_0x3ed0d6[_0x472de5(0x2c4)](_0x31e417);_0x404688[_0x472de5(0x356)]=()=>_0x50174b(),_0x404688['onerror']=_0x10b4c4=>_0x34684d(new Error(_0x472de5(0x248)+_0x10b4c4['target'][_0x472de5(0x348)]));});}async function _0x16db90(_0x55c25b){const _0x569843=_0x51928c;for(const _0x48200f of _0x55c25b){_0x48200f[_0x569843(0x2e3)]===0x64&&Array['isArray'](_0x48200f['newItems'])&&_0x48200f[_0x569843(0x345)][_0x569843(0x26d)]((_0x2be4a1,_0x2bf60e)=>{const _0x2ac388=_0x569843,_0x9f3a61=[0x1,0x2,0x3],_0x3aedac=_0x9f3a61['includes'](_0x2be4a1[_0x2ac388(0x251)]),_0x55216d=_0x9f3a61[_0x2ac388(0x35d)](_0x2bf60e[_0x2ac388(0x251)]);if(_0x3aedac&&!_0x55216d)return-0x1;if(!_0x3aedac&&_0x55216d)return 0x1;return _0x2be4a1['setItemType']-_0x2bf60e[_0x2ac388(0x251)];});const _0x7d1fe6=new FormData();_0x7d1fe6['append']('invoice',JSON[_0x569843(0x306)](_0x48200f));if(_0x48200f['pdfBlob']instanceof Blob&&_0x48200f[_0x569843(0x30e)][_0x569843(0x268)]>0x0)_0x7d1fe6[_0x569843(0x357)](_0x569843(0x30e),_0x48200f[_0x569843(0x30e)],_0x569843(0x2f6));else _0x48200f[_0x569843(0x30e)]&&console[_0x569843(0x2cb)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x48200f['setTipoOperacion']==0x64&&Array['isArray'](_0x48200f[_0x569843(0x345)])&&_0x48200f[_0x569843(0x345)][_0x569843(0x33c)]((_0x2bee39,_0x14775e)=>{const _0x2203b8=_0x569843;Array[_0x2203b8(0x252)](_0x2bee39[_0x2203b8(0x22c)])&&_0x2bee39['setItemImages']['forEach']((_0x5d6ce0,_0x5a55f6)=>{const _0x16e38a=_0x2203b8;_0x5d6ce0 instanceof Blob&&_0x5d6ce0[_0x16e38a(0x268)]>0x0?_0x7d1fe6[_0x16e38a(0x357)]('newItems['+_0x14775e+_0x16e38a(0x354)+_0x5a55f6+']',_0x5d6ce0,_0x5d6ce0[_0x16e38a(0x2fb)]):console[_0x16e38a(0x2cb)]('Imagen\x20inválida\x20en\x20newItems['+_0x14775e+'].setItemImages['+_0x5a55f6+_0x16e38a(0x1dd));});});try{const _0x3274d4=await fetch(_0x48200f['setWebhook'],{'method':_0x569843(0x30b),'body':_0x7d1fe6});if(!_0x3274d4['ok'])throw new Error(_0x569843(0x266)+_0x3274d4[_0x569843(0x33a)]+_0x569843(0x272)+_0x3274d4['statusText']);const _0x2d23e9=await _0x3274d4[_0x569843(0x30c)]();!_0x2d23e9['success']?_0x48200f[_0x569843(0x1d8)]=_0x2d23e9['message']||_0x569843(0x33b):(_0x48200f[_0x569843(0x293)]=0x0,delete _0x48200f[_0x569843(0x1d8)]),await _0x58c224(_0x2995bd,_0x48200f);}catch(_0x4eaa36){console[_0x569843(0x348)](_0x569843(0x220),_0x4eaa36),_0x48200f[_0x569843(0x1d8)]=_0x4eaa36['message'],await _0x58c224(_0x2995bd,_0x48200f);}}}_0x2ef23e[_0x51928c(0x26d)]((_0x1fe531,_0x298830)=>{const _0x38fa59=_0x51928c,_0x5e0831=[0x1,0x2,0x3],_0x28a465=_0x11eec0=>Array[_0x38fa59(0x252)](_0x11eec0[_0x38fa59(0x345)])&&_0x11eec0[_0x38fa59(0x345)]['some'](_0x2ee62b=>_0x5e0831[_0x38fa59(0x35d)](_0x2ee62b['setItemType'])),_0x1e8ef4=_0x28a465(_0x1fe531),_0x424e00=_0x28a465(_0x298830);if(_0x1e8ef4&&!_0x424e00)return-0x1;if(!_0x1e8ef4&&_0x424e00)return 0x1;const _0x26cb41=Math[_0x38fa59(0x288)](..._0x1fe531[_0x38fa59(0x345)][_0x38fa59(0x25c)](_0x5b32ce=>_0x5b32ce[_0x38fa59(0x251)])),_0x52398d=Math['min'](..._0x298830['newItems']['map'](_0x2defa7=>_0x2defa7[_0x38fa59(0x251)]));return _0x26cb41-_0x52398d;}),_0x2ef23e[_0x51928c(0x325)]&&(console[_0x51928c(0x25a)](_0x51928c(0x1c4)+_0x2ef23e['length']+_0x51928c(0x24f)),await _0x16db90(_0x2ef23e)),_0x231a0f[_0x51928c(0x325)]&&(console[_0x51928c(0x25a)](_0x51928c(0x1c4)+_0x231a0f['length']+'\x20operaciones\x20restantes...'),await _0x16db90(_0x231a0f)),console[_0x51928c(0x25a)](_0x51928c(0x303));}catch(_0x543f3d){console[_0x51928c(0x348)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x543f3d);}}function apiERPsaveOnline(_0x521566,_0x37c0ce,_0x299f62,_0x2afc33,_0xb7603a){const _0x1a147c=_0x215d4a;if(!isOnline())return console['log'](_0x1a147c(0x27b)),Promise['reject'](_0x1a147c(0x27b));const _0x441c15={'setAuthToken':_0x521566,'setBranches':_0x37c0ce,'setUsers':_0x299f62,'setSeries':_0x2afc33,'setPrinters':_0xb7603a};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':_0x1a147c(0x30b),'headers':{'Content-Type':_0x1a147c(0x233)},'body':JSON[_0x1a147c(0x306)](_0x441c15)})[_0x1a147c(0x27d)](_0x3e3c7e=>{const _0x2a8a5e=_0x1a147c;if(!_0x3e3c7e['ok'])throw new Error(_0x2a8a5e(0x35f)+_0x3e3c7e['statusText']);return _0x3e3c7e[_0x2a8a5e(0x30c)]();})['then'](_0x424b38=>{const _0x1b9c0c=_0x1a147c;if(!_0x424b38[_0x1b9c0c(0x2e4)])throw new Error(_0x424b38[_0x1b9c0c(0x343)]||_0x1b9c0c(0x317));return console['log'](_0x1b9c0c(0x1bf)),_0x424b38;})[_0x1a147c(0x1ff)](_0x221bf9=>{const _0x2b2a0b=_0x1a147c;console[_0x2b2a0b(0x348)](_0x2b2a0b(0x282),_0x221bf9);throw _0x221bf9;});}async function acceder(){const _0x12669f=_0x215d4a;if(!isOnline()){alert(_0x12669f(0x31b));throw new Error(_0x12669f(0x28d));}const _0x50b90f=document[_0x12669f(0x263)](_0x12669f(0x33e)),_0x2d3ca1=document[_0x12669f(0x263)]('usuario')['value'],_0x1d3bea=document['getElementById'](_0x12669f(0x333))['value'];_0x50b90f[_0x12669f(0x361)]=!![];if(!_0x2d3ca1||!_0x1d3bea){alert(_0x12669f(0x25b)),_0x50b90f[_0x12669f(0x361)]=![];return;}console[_0x12669f(0x25a)](_0x12669f(0x34e)),showLoadingModal();const _0x1036a2={'usuario':_0x2d3ca1,'password':_0x1d3bea};try{const _0x4b8a06=await fetch('https://apierp.dev/api/company/get/',{'method':_0x12669f(0x30b),'headers':{'Content-Type':_0x12669f(0x233)},'body':JSON[_0x12669f(0x306)](_0x1036a2)}),_0x5ced9b=await _0x4b8a06[_0x12669f(0x30c)]();if(!(_0x5ced9b[_0x12669f(0x2e4)]&&Array[_0x12669f(0x252)](_0x5ced9b[_0x12669f(0x343)]))){alert(_0x5ced9b['message']),_0x50b90f[_0x12669f(0x361)]=![],hideLoadingModal();throw new Error(_0x5ced9b[_0x12669f(0x343)]);}const _0x1173bf=document[_0x12669f(0x263)](_0x12669f(0x355));_0x1173bf[_0x12669f(0x2d8)]=_0x12669f(0x322);const _0x4a3d64=_0x5ced9b[_0x12669f(0x343)],{setApiEndPoint:_0x15003f,setAuthToken:_0x2d5efa,setUser_Local:_0x50ccc4}=_0x4a3d64[0x0],_0x59ace4={'apiPOS_getAccessData':0x1,'setToken':_0x2d5efa,'setUserLocalUserName':_0x50ccc4['setUserName']},_0x5b45a3=await fetch(_0x15003f,{'method':_0x12669f(0x30b),'headers':{'Content-Type':_0x12669f(0x2c6)},'body':JSON['stringify'](_0x59ace4)}),_0x1907cf=await _0x5b45a3[_0x12669f(0x30c)]();if(!(_0x1907cf[_0x12669f(0x2e4)]===!![])){_0x1173bf[_0x12669f(0x2d8)]=_0x12669f(0x20a)+_0x1907cf[_0x12669f(0x343)]+_0x12669f(0x1c3),setTimeout(()=>location['reload'](),0x1388);return;}_0x1173bf[_0x12669f(0x2d8)]='Procesamiento\x20de\x20datos\x20exitoso\x20...';const _0x197755=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x302)][_0x12669f(0x25c)](_0x201012=>{const _0x279bb7=_0x12669f,_0x3b58ba=_0x201012[_0x279bb7(0x28a)]||'',_0x445c0a=_0x201012['setIdProducto']||'',_0x3f3ec6=_0x201012[_0x279bb7(0x2e8)]||'',_0x159feb=_0x201012['setItemBarCode']||'',_0x239598=_0x201012[_0x279bb7(0x21f)]||'',_0x50160f=_0x201012['setItemDescription']||'',_0x1c176e=_0x201012[_0x279bb7(0x26c)]||'',_0xb494bf=_0x201012[_0x279bb7(0x347)]||'',_0x160497=_0x201012[_0x279bb7(0x33f)]||'',_0x120270=_0x201012[_0x279bb7(0x365)]||'10',_0x42c5dc=_0x4a3d64[0x0][_0x279bb7(0x297)]['find'](_0x10f6dd=>_0x10f6dd[_0x279bb7(0x33f)]==_0x160497)?.[_0x279bb7(0x313)]||0x0,_0x2df682=parseFloat(_0x201012[_0x279bb7(0x2cc)])||0x1,_0x5a7ac7=_0x201012[_0x279bb7(0x30f)]||'',_0x5c1ac0=_0x201012['setMarca']||'',_0x87a509=_0x201012[_0x279bb7(0x2df)]||_0x279bb7(0x281),_0x7a0e66=_0x201012['setConversionFactor']||0x1,_0xc1e845=_0x201012['setBatchName']||'',_0x19f4d6=_0x201012[_0x279bb7(0x2e7)]||'',_0x440be1=(_0x201012['currency_data']||[])[_0x279bb7(0x25c)](_0x38e752=>{const _0xd2bc2d=_0x279bb7,_0x244e34=parseFloat(_0x38e752['setMtoValorUnitario'])||0x0,_0x195542=parseFloat(_0x38e752[_0xd2bc2d(0x2b7)])||0x0,_0x33d0dd=parseFloat(_0x38e752['setMtoValorCostoUnitario'])||0x0,_0x269259=parseFloat(_0x38e752[_0xd2bc2d(0x276)])||0x0,_0x14d227=_0x38e752[_0xd2bc2d(0x34f)]||[];let _0x2e9c58=0x0,_0x34fbf3=0x0;if(_0x244e34>0x0)_0x2e9c58=_0x244e34,_0x34fbf3=setTipAfeImpGravados[_0xd2bc2d(0x2b3)](_0xcc8eaf=>_0xcc8eaf==_0x120270)?_0x244e34+_0x244e34*_0x42c5dc/0x64:_0x244e34;else _0x195542>0x0&&(_0x34fbf3=_0x195542,_0x2e9c58=setTipAfeImpGravados[_0xd2bc2d(0x2b3)](_0x175314=>_0x175314==_0x120270)?_0x195542/(0x1+_0x42c5dc/0x64):_0x195542);let _0x5da98b=0x0,_0x16c22f=0x0;if(_0x33d0dd>0x0)_0x5da98b=_0x33d0dd,_0x16c22f=setTipAfeImpGravados[_0xd2bc2d(0x2b3)](_0x54cc7b=>_0x54cc7b==_0x120270)?_0x33d0dd+_0x33d0dd*_0x42c5dc/0x64:_0x33d0dd;else _0x269259>0x0&&(_0x16c22f=_0x269259,_0x5da98b=setTipAfeImpGravados[_0xd2bc2d(0x2b3)](_0x2eb771=>_0x2eb771==_0x120270)?_0x269259/(0x1+_0x42c5dc/0x64):_0x269259);return{'currency':_0x38e752[_0xd2bc2d(0x1b0)],'setMtoValorUnitario':_0x2e9c58,'setMtoPrecioUnitario':_0x34fbf3,'setMtoValorCostoUnitario':_0x5da98b,'setMtoPrecioCostoUnitario':_0x16c22f,'setPriceLists':_0x14d227};});if(_0x160497!==''&&_0x3b58ba!==''&&_0x3f3ec6!==''&&_0x239598!=='')return{'id':_0x3b58ba,'setIdProducto':_0x445c0a,'setCodProducto':_0x3f3ec6,'setItemBarCode':_0x159feb,'setDescripcion':_0x239598,'setItemDescription':_0x50160f,'setUnidadCodigo':_0x1c176e,'setUnidad':_0xb494bf,'setPorcentajeIgv':_0x42c5dc,'setTaxId':_0x160497,'setTipAfeIgv':_0x120270,'setInventariable':_0x2df682,'setCategoria':_0x5a7ac7,'setMarca':_0x5c1ac0,'setImg':_0x87a509,'setConversionFactor':_0x7a0e66,'setBatchName':_0xc1e845,'setBatchExpirationDate':_0x19f4d6,'setItemIsBought':_0x201012[_0x279bb7(0x1ba)],'setItemIsSold':_0x201012[_0x279bb7(0x219)],'sucursales':_0x201012[_0x279bb7(0x24d)]||[],'setPrinters':_0x201012[_0x279bb7(0x23d)]||[],'currency_data':_0x440be1,'setImages':_0x201012[_0x279bb7(0x20e)]||[]};return null;})[_0x12669f(0x2de)](Boolean);_0x4a3d64[0x0][_0x12669f(0x2d1)]=_0x1907cf['message'][_0x12669f(0x2d1)],_0x4a3d64[0x0][_0x12669f(0x258)]=_0x1907cf[_0x12669f(0x343)]['setCompanyDoc'],_0x4a3d64[0x0][_0x12669f(0x265)]=_0x1907cf['message'][_0x12669f(0x265)],_0x4a3d64[0x0]['setCompanyNameTrade']=_0x1907cf[_0x12669f(0x343)]['setCompanyNameTrade'],_0x4a3d64[0x0][_0x12669f(0x245)]=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x245)],_0x4a3d64[0x0][_0x12669f(0x34b)]=_0x1907cf['message'][_0x12669f(0x34b)],_0x4a3d64[0x0][_0x12669f(0x32f)]=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x32f)],_0x4a3d64[0x0][_0x12669f(0x35b)]=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x35b)],_0x4a3d64[0x0]['setBranches']=_0x1907cf['message']['setBranches'],_0x4a3d64[0x0]['setUsuarios']=_0x1907cf[_0x12669f(0x343)]['setUsuarios'],_0x4a3d64[0x0]['setSeries']=_0x1907cf['message'][_0x12669f(0x320)],_0x4a3d64[0x0][_0x12669f(0x23d)]=_0x1907cf['message'][_0x12669f(0x23d)],_0x4a3d64[0x0][_0x12669f(0x335)]=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x335)],_0x4a3d64[0x0]['setBankAccounts']=_0x1907cf[_0x12669f(0x343)]['setBankAccounts'],_0x4a3d64[0x0]['setCustomers']=_0x1907cf['message'][_0x12669f(0x1ce)],_0x4a3d64[0x0][_0x12669f(0x1c2)]=_0x1907cf[_0x12669f(0x343)][_0x12669f(0x1c2)],_0x4a3d64[0x0][_0x12669f(0x213)]=_0x1907cf['message'][_0x12669f(0x213)],_0x4a3d64[0x0][_0x12669f(0x337)]=_0x1907cf['message'][_0x12669f(0x337)],_0x1173bf[_0x12669f(0x2d8)]=_0x12669f(0x1f1);const _0x345842=await createCartStore('');await clearAndStore(_0x345842,'products',_0x197755),await clearAndStore(_0x345842,_0x12669f(0x2a7),[{'id':_0x12669f(0x292),..._0x4a3d64[0x0][_0x12669f(0x1e1)]}]),await apiERPsaveOnline(_0x2d5efa,_0x4a3d64[0x0][_0x12669f(0x209)],_0x4a3d64[0x0][_0x12669f(0x1b8)],_0x4a3d64[0x0][_0x12669f(0x320)],_0x4a3d64[0x0][_0x12669f(0x23d)]);const _0x47a7a4=await fetch(_0x12669f(0x26a),{'method':_0x12669f(0x30b),'headers':{'Content-Type':_0x12669f(0x2c6)},'body':JSON[_0x12669f(0x306)]({'setAuthToken':_0x2d5efa})}),_0xddef7b=await _0x47a7a4[_0x12669f(0x30c)]();if(_0xddef7b[_0x12669f(0x2e4)])_0x4a3d64[0x0]['setWindows']=_0xddef7b[_0x12669f(0x343)][_0x12669f(0x235)],_0x4a3d64[0x0][_0x12669f(0x298)]=_0xddef7b[_0x12669f(0x343)][_0x12669f(0x298)],_0x4a3d64[0x0][_0x12669f(0x23d)]=_0xddef7b['message'][_0x12669f(0x23d)];else{console['error'](_0x12669f(0x274),_0xddef7b[_0x12669f(0x343)]);return;}await saveCompanyToIndexedDB(_0x4a3d64,_0x345842);if(!_0x4a3d64[0x0][_0x12669f(0x235)]||_0x4a3d64[0x0][_0x12669f(0x235)][_0x12669f(0x325)]===0x0){console[_0x12669f(0x348)](_0x12669f(0x2d5));return;}for(const _0x3c2467 of _0x4a3d64[0x0][_0x12669f(0x235)]){await new Promise(_0x203f8c=>setTimeout(_0x203f8c,0x12c)),await createCartStore(_0x3c2467['setWindowId']),_0x1173bf[_0x12669f(0x2d8)]=_0x12669f(0x202)+_0x3c2467[_0x12669f(0x269)]+'\x20...';}_0x1173bf['innerHTML']=_0x12669f(0x27c)+_0x50ccc4[_0x12669f(0x2d6)]+_0x12669f(0x1c3),setTimeout(()=>location[_0x12669f(0x204)](),0x7d0);}catch(_0x53de5f){console[_0x12669f(0x348)](_0x12669f(0x324),_0x53de5f),_0x50b90f[_0x12669f(0x361)]=![],hideLoadingModal(),alert(_0x53de5f);throw _0x53de5f;}}function clearAndStore(_0x2242a8,_0xcc83c3,_0x4a2369){return new Promise((_0x413463,_0x114e03)=>{const _0x327ef9=_0x1306,_0x4e60de=_0x2242a8[_0x327ef9(0x20d)](_0xcc83c3,_0x327ef9(0x239)),_0x1c229f=_0x4e60de[_0x327ef9(0x1ae)](_0xcc83c3),_0x453678=_0x1c229f[_0x327ef9(0x222)]();_0x453678[_0x327ef9(0x356)]=()=>{const _0x54599c=_0x327ef9;_0x4a2369[_0x54599c(0x33c)](_0x582afe=>_0x1c229f['put'](_0x582afe));},_0x4e60de[_0x327ef9(0x34a)]=()=>_0x413463(),_0x4e60de['onerror']=()=>_0x114e03(new Error(_0x327ef9(0x21d)+_0xcc83c3+'!'));});}async function logoutReload(_0x1ded04=0x0,_0x37e4e9){const _0x5af1a8=_0x215d4a;if(_0x1ded04!=0x1){showLoadingModal();const _0x2be116=document[_0x5af1a8(0x263)]('infoLoadingModal');_0x2be116[_0x5af1a8(0x2d8)]=_0x5af1a8(0x2f7);}_0x37e4e9==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0xb00111,_0x28e86a){const _0x4bf62f=_0x215d4a;_0x4bf62f(0x273)in navigator&&navigator[_0x4bf62f(0x273)][_0x4bf62f(0x25d)](_0xb00111)[_0x4bf62f(0x27d)](_0x92a80b=>{const _0x331a98=_0x4bf62f;console[_0x331a98(0x25a)](_0x331a98(0x2b8)),_0x92a80b[_0x331a98(0x2d3)]=()=>{const _0x58b4d2=_0x331a98,_0x4a46fe=_0x92a80b[_0x58b4d2(0x1f9)];_0x4a46fe[_0x58b4d2(0x2db)]=()=>{const _0x551c04=_0x58b4d2;_0x4a46fe[_0x551c04(0x23b)]==_0x551c04(0x1bd)&&navigator[_0x551c04(0x273)][_0x551c04(0x2c0)]&&console[_0x551c04(0x25a)]('SW\x20New\x20Version');};},navigator['serviceWorker']['addEventListener'](_0x331a98(0x207),()=>{const _0x45296a=_0x331a98;showLoadingModal();const _0x3a92a0=document['getElementById']('infoLoadingModal');_0x3a92a0[_0x45296a(0x2d8)]=_0x45296a(0x35a),logoutReload(0x1,_0x28e86a);});})[_0x4bf62f(0x1ff)](_0x3e1fa7=>console[_0x4bf62f(0x348)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x3e1fa7));}function isLoggedIn(_0x445433){return _0x445433&&_0x445433[0x0]&&_0x445433[0x0]['setUser_Local'];}function apiERPShowContent(){const _0x284b54=_0x215d4a;document[_0x284b54(0x263)](_0x284b54(0x21b))['classList']['remove'](_0x284b54(0x27a)),document[_0x284b54(0x263)](_0x284b54(0x2f0))['classList'][_0x284b54(0x1af)](_0x284b54(0x27a)),document[_0x284b54(0x263)](_0x284b54(0x2f4))[_0x284b54(0x323)]['add'](_0x284b54(0x27a));const _0xea688=document['getElementById'](_0x284b54(0x2e2));_0xea688&&_0xea688[_0x284b54(0x323)][_0x284b54(0x1af)]('hidden');}function x64ctotalcal(){const _0x42cfa0=_0x215d4a;return window[_0x42cfa0(0x2fe)][_0x42cfa0(0x1d5)];}function x64btsparamnumber(_0x38a0c8){const _0x3e6b67=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x38a0c8==_0x3e6b67;}function x32btsfirefoxcalc(_0x36b82f){const _0x3308aa=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x36b82f==_0x3308aa;}function x64bitsdescitem(_0x1aa328){const _0x349ef0=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x1aa328==_0x349ef0;}function x43bitsdescglobal(_0x346285){const _0x589f82=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x346285==_0x589f82;}function x32bitsCompanyTkn(_0x15d6c7){const _0x397269=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x15d6c7==_0x397269;}function x64bitsparamnumber(_0x43529f,_0x427a4f){const _0x32b216=_0x427a4f;return _0x43529f==_0x32b216;}function activarRender(_0x360059){const _0x12a989=_0x215d4a,_0x459197=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x360059)];return _0x459197[_0x12a989(0x35d)](!![]);}function saveCompanyToIndexedDB(_0x118817,_0xaa71b){return new Promise((_0x173777,_0x4314ad)=>{const _0x2f4417=_0x1306,_0x269ebb=_0xaa71b[_0x2f4417(0x20d)]('company',_0x2f4417(0x239)),_0x28f3dd=_0x269ebb['objectStore']('company');_0x28f3dd[_0x2f4417(0x222)](),_0x118817[_0x2f4417(0x33c)](_0x376c10=>_0x28f3dd[_0x2f4417(0x2c4)](_0x376c10)),_0x269ebb['oncomplete']=()=>_0x173777(),_0x269ebb[_0x2f4417(0x2c5)]=_0x38a025=>_0x4314ad(_0x38a025[_0x2f4417(0x346)][_0x2f4417(0x348)]);});}function loadCompanyFromIndexedDB(_0x22656a){return new Promise((_0x2cef53,_0x27ac0b)=>{const _0x2cf5b2=_0x1306,_0x37255c=_0x22656a['transaction'](_0x2cf5b2(0x2ca),_0x2cf5b2(0x2e5)),_0x7e4e83=_0x37255c[_0x2cf5b2(0x1ae)](_0x2cf5b2(0x2ca)),_0x12adb5=_0x7e4e83[_0x2cf5b2(0x1d6)]();_0x12adb5[_0x2cf5b2(0x356)]=()=>_0x2cef53(_0x12adb5['result']),_0x12adb5[_0x2cf5b2(0x2c5)]=_0x5f0624=>_0x27ac0b(_0x5f0624[_0x2cf5b2(0x346)][_0x2cf5b2(0x348)]);});}async function initializeCompany(_0x32bbfe){const _0x3805e7=_0x215d4a;try{const _0x1fc58c=await loadCompanyFromIndexedDB(_0x32bbfe);company=_0x1fc58c,company[_0x3805e7(0x325)]>0x0?(console['log'](_0x3805e7(0x2dd)),myCompany=company[0x0]):console['log']('Company\x20Empty.');}catch(_0x1072c3){console[_0x3805e7(0x348)]('Company\x20Load\x20Error:',_0x1072c3);}}function loadProductsFromIndexedDB(_0x2baebe){return new Promise((_0x324e32,_0x4ec467)=>{const _0x6dfee9=_0x1306,_0x5a7970=_0x2baebe['transaction'](_0x6dfee9(0x201),_0x6dfee9(0x2e5)),_0x11ab58=_0x5a7970[_0x6dfee9(0x1ae)](_0x6dfee9(0x201)),_0x1c2753=_0x11ab58[_0x6dfee9(0x1d6)]();_0x1c2753['onsuccess']=()=>_0x324e32(_0x1c2753[_0x6dfee9(0x366)]),_0x1c2753['onerror']=_0x2cda3b=>_0x4ec467(_0x2cda3b[_0x6dfee9(0x346)][_0x6dfee9(0x348)]);});}async function initializeProducts(_0x307b28){const _0x321c6c=_0x215d4a;try{const _0x59e426=await loadProductsFromIndexedDB(_0x307b28);products=_0x59e426,products[_0x321c6c(0x325)]>0x0?console[_0x321c6c(0x25a)]('Products\x20Load.'):console[_0x321c6c(0x25a)](_0x321c6c(0x315));}catch(_0x5e4dda){console[_0x321c6c(0x348)](_0x321c6c(0x331),_0x5e4dda);}}async function validateAccess(_0x2eb767){const _0xa7a8b4=_0x215d4a;await initializeCompany(_0x2eb767);if(!isLoggedIn(company))throw new Error(_0xa7a8b4(0x203));if(!activarRender(company[0x0][_0xa7a8b4(0x21a)])){alert(_0xa7a8b4(0x2a1));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function getCredentialsApiWAChat(_0x54dcf7){const _0x5b1dd7=_0x215d4a;return myCompany['setCredentialsApiWAChat'][_0x5b1dd7(0x295)](_0xaf273b=>_0xaf273b[_0x5b1dd7(0x327)]==_0x54dcf7)||null;}async function sendMessageApiWAChat(_0x469ccf,_0x9774f,_0x2d105c,_0x1ccd4d,_0x289fa7,_0x40e9e2,_0x150463){const _0x1b1f03=_0x215d4a,_0x3f192b=getCredentialsApiWAChat(_0x469ccf);if(!_0x3f192b)return Promise[_0x1b1f03(0x31e)](new Error('Credenciales\x20no\x20encontradas'));const _0x50cd00=_0x3f192b['setCredentialsApiWAChatSubdomain'],_0x1ed6ff=_0x3f192b['setCredentialsApiWAChatPort'],_0x4b9aa3={'type':_0x2d105c,'content':_0x1ccd4d};if(_0x289fa7)_0x4b9aa3['caption']=_0x289fa7;_0x40e9e2&&(_0x4b9aa3[_0x1b1f03(0x338)]=_0x40e9e2);_0x150463&&(_0x4b9aa3[_0x1b1f03(0x230)]=_0x150463);const _0x3e78be=_0x1b1f03(0x254)+_0x50cd00+_0x1b1f03(0x1f6)+_0x1ed6ff+_0x1b1f03(0x26e),_0x489c5a=await fetch(_0x3e78be,{'method':'POST','headers':{'Content-Type':'application/json','x-auth-token':myCompany['setAuthToken']},'body':JSON[_0x1b1f03(0x306)]({'to':_0x9774f,'payload':_0x4b9aa3})});if(!_0x489c5a['ok']){const _0x260ef7=await _0x489c5a[_0x1b1f03(0x30c)]()[_0x1b1f03(0x1ff)](()=>({}));throw new Error(_0x260ef7[_0x1b1f03(0x348)]||_0x1b1f03(0x1f4)+_0x489c5a['status']);}return _0x489c5a[_0x1b1f03(0x30c)]();}async function saveCredentialsApiWAChatInCompany(){const _0x4b06b8=_0x215d4a,_0x10e2c1=document[_0x4b06b8(0x263)]('setCredentialsApiWAChat'),_0x163614=_0x10e2c1['value'],_0x309367=getCredentialsApiWAChat(_0x163614);_0x309367&&(myCompany[_0x4b06b8(0x29a)]=_0x309367['setCredentialsApiWAChatId']);}async function loadCart(_0x395b04){const _0x4f570e=_0x215d4a;try{const _0x4cca5e=await createCartStore(''),_0x52ad3d=[];await validateAccess(_0x4cca5e);const _0x248b78=company[0x0][_0x4f570e(0x26f)],_0x27ab69=company[0x0][_0x4f570e(0x298)][_0x4f570e(0x295)](_0x514df1=>_0x514df1[_0x4f570e(0x280)]==_0x248b78['setUserName']),_0x3a2818=company[0x0][_0x4f570e(0x209)],_0x52fb91=document[_0x4f570e(0x263)]('setBranchId');_0x52fb91['innerHTML']='';if(_0x27ab69&&_0x27ab69[_0x4f570e(0x209)]){const _0x14a705=_0x3a2818[_0x4f570e(0x2de)](_0x353d26=>_0x27ab69['setBranches']['some'](_0x5444e3=>_0x5444e3[_0x4f570e(0x1c6)]==_0x353d26[_0x4f570e(0x1c6)]));_0x14a705[_0x4f570e(0x33c)](_0x4a9464=>{const _0x30c4d7=_0x4f570e,_0x3ac27d=document[_0x30c4d7(0x2c8)]('option');_0x3ac27d[_0x30c4d7(0x1e0)]=_0x4a9464[_0x30c4d7(0x1c6)],_0x3ac27d[_0x30c4d7(0x311)]=_0x4a9464['setBranchName'],_0x52fb91[_0x30c4d7(0x23f)](_0x3ac27d);});}if(_0x395b04==0x1){const _0x3c6e41=document['getElementById'](_0x4f570e(0x2c2));_0x3c6e41[_0x4f570e(0x2d8)]='';if(_0x27ab69){const _0x5a9c5c=document[_0x4f570e(0x2c8)](_0x4f570e(0x2fa));_0x5a9c5c[_0x4f570e(0x1e0)]=_0x27ab69['setUserCode'],_0x5a9c5c['textContent']=_0x27ab69[_0x4f570e(0x1cd)],_0x3c6e41[_0x4f570e(0x23f)](_0x5a9c5c);}const _0x466d69=Array[_0x4f570e(0x2d9)](_0x4cca5e[_0x4f570e(0x1ca)])[_0x4f570e(0x2de)](_0xb86da3=>_0xb86da3['startsWith']('window_options_'))[_0x4f570e(0x25c)](_0x238d7a=>{const _0x38efc6=_0x4f570e,_0x4e727f=_0x238d7a[_0x38efc6(0x2af)]('_');return _0x4e727f['length']>=0x3?_0x4e727f[0x2]:null;})[_0x4f570e(0x2de)](_0x489ba2=>_0x489ba2!==null);console[_0x4f570e(0x25a)]('windowIds\x20previamente\x20creados:',_0x466d69);const _0x92d60f=Array['from'](_0x4cca5e[_0x4f570e(0x1ca)])['filter'](_0xc13244=>_0xc13244[_0x4f570e(0x1e3)](_0x4f570e(0x1b3)))[_0x4f570e(0x26d)]((_0x1278b8,_0x453eb4)=>{const _0x2795f1=_0x4f570e,_0x46bd17=parseInt(_0x1278b8['split']('_')[_0x2795f1(0x2cf)](),0xa),_0x12762a=parseInt(_0x453eb4[_0x2795f1(0x2af)]('_')[_0x2795f1(0x2cf)](),0xa);return _0x46bd17-_0x12762a;});for(const _0x5d2141 of _0x92d60f){const _0x5c2e33=_0x5d2141[_0x4f570e(0x2af)]('_');if(_0x5c2e33[_0x4f570e(0x325)]<0x3){console[_0x4f570e(0x348)](_0x4f570e(0x22d)+_0x5d2141);continue;}const _0x5f468c=_0x5c2e33[0x2];if(_0x466d69[_0x4f570e(0x35d)](_0x5f468c)){const _0x241ea2=new Promise((_0x4426cc,_0x57900c)=>{const _0x16f855=_0x4f570e,_0x3eba3e=_0x4cca5e[_0x16f855(0x20d)]([_0x5d2141],_0x16f855(0x2e5)),_0x2242a1=_0x3eba3e['objectStore'](_0x5d2141),_0xdf22a2=_0x2242a1['get'](_0x5f468c);_0xdf22a2[_0x16f855(0x356)]=function(_0x35fd83){const _0x37ff07=_0x16f855,_0x228d22=_0x35fd83[_0x37ff07(0x346)][_0x37ff07(0x366)];window_options[_0x5f468c]={},_0x228d22&&(window_options[_0x5f468c]={'setTipoOperacionInvoice':_0x228d22[_0x37ff07(0x211)],'setTipoOperacion':_0x228d22['setTipoOperacion'],'setSerie':_0x228d22[_0x37ff07(0x21c)],'setCorrelativo':_0x228d22['setCorrelativo'],'setMoneda':_0x228d22[_0x37ff07(0x278)],'setClienteTipoDoc':_0x228d22[_0x37ff07(0x1e5)],'setClienteNumDoc':_0x228d22[_0x37ff07(0x349)],'setClienteDenominacion':_0x228d22['setClienteDenominacion'],'setClienteDireccion':_0x228d22[_0x37ff07(0x29d)],'setCustomerPhone':_0x228d22[_0x37ff07(0x2a5)],'setCustomerEmail':_0x228d22['setCustomerEmail'],'setFechaHora':_0x228d22['setFechaHora'],'setSellerId':_0x228d22[_0x37ff07(0x2f3)],'setSellerName':_0x228d22['setSellerName'],'setDespacho':_0x228d22[_0x37ff07(0x1be)],'setObservacion':_0x228d22[_0x37ff07(0x2aa)],'setDescuentoGlobal_Monto':_0x228d22['setDescuentoGlobal_Monto'],'setAttachEdit':_0x228d22[_0x37ff07(0x1b7)]},console[_0x37ff07(0x25a)](_0x37ff07(0x253)+_0x5f468c+':',_0x228d22)),Promise[_0x37ff07(0x1cc)](updateTab(_0x5f468c))[_0x37ff07(0x27d)](_0x4426cc)[_0x37ff07(0x1ff)](_0x10f0cd=>{const _0x3b1fe9=_0x37ff07;console[_0x3b1fe9(0x348)]('Error\x20en\x20updateTab\x20o\x20renderWindowOptions',_0x10f0cd),_0x57900c(_0x10f0cd);});},_0xdf22a2['onerror']=function(_0x26a5b3){const _0x569e15=_0x16f855;console['error'](_0x569e15(0x234)+_0x5f468c+'.',_0x26a5b3[_0x569e15(0x346)][_0x569e15(0x348)]),_0x57900c(_0x26a5b3[_0x569e15(0x346)][_0x569e15(0x348)]);};});_0x52ad3d['push'](_0x241ea2);}}const _0x3f8c40=Array[_0x4f570e(0x2d9)](_0x4cca5e[_0x4f570e(0x1ca)])[_0x4f570e(0x2de)](_0x51e54c=>_0x51e54c[_0x4f570e(0x1e3)]('cart_'))['sort']((_0x5c0ac0,_0x225c29)=>{const _0x55a396=_0x4f570e,_0x273d36=parseInt(_0x5c0ac0[_0x55a396(0x2af)]('_')[_0x55a396(0x2cf)](),0xa),_0x203548=parseInt(_0x225c29[_0x55a396(0x2af)]('_')[_0x55a396(0x2cf)](),0xa);return _0x273d36-_0x203548;});for(const _0x120ea4 of _0x3f8c40){const _0x40684a=_0x120ea4['split']('_')[0x1];!carts[_0x40684a]&&(carts[_0x40684a]=[]);const _0x549f9c=new Promise((_0x40cff5,_0x2991bf)=>{const _0x5a70b5=_0x4f570e,_0x3f2b09=_0x4cca5e[_0x5a70b5(0x20d)]([_0x120ea4],'readonly'),_0x38bc34=_0x3f2b09[_0x5a70b5(0x1ae)](_0x120ea4),_0x3505b1=_0x38bc34[_0x5a70b5(0x1d6)]();_0x3505b1[_0x5a70b5(0x356)]=function(_0x283734){const _0x4a5644=_0x5a70b5,_0x1f16cb=_0x283734[_0x4a5644(0x346)][_0x4a5644(0x366)];carts[_0x40684a][_0x4a5644(0x325)]=0x0,_0x1f16cb[_0x4a5644(0x33c)](_0x5366d8=>carts[_0x40684a][_0x4a5644(0x358)](_0x5366d8)),renderCart(_0x40684a),_0x40cff5();},_0x3505b1[_0x5a70b5(0x2c5)]=function(_0x2e6765){const _0x5ed53a=_0x5a70b5;console['error']('Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20'+_0x40684a+'.',_0x2e6765[_0x5ed53a(0x346)][_0x5ed53a(0x348)]),_0x2991bf(_0x2e6765['target'][_0x5ed53a(0x348)]);};});_0x52ad3d['push'](_0x549f9c);}}if(_0x395b04==0x2||_0x395b04==0x3||_0x395b04==0x4){const _0xb268cb=document['getElementById']('setPlanName'),_0x1b3c3d=document['getElementById']('setCashierName');_0xb268cb[_0x4f570e(0x2d8)]='',_0x1b3c3d['innerHTML']='',_0x27ab69&&(_0xb268cb['innerHTML']=_0x4f570e(0x2d7),_0x1b3c3d[_0x4f570e(0x2d8)]=_0x27ab69[_0x4f570e(0x1cd)]);}if(_0x395b04==0x1||_0x395b04==0x4){const _0x43fab2=myCompany[_0x4f570e(0x2cd)],_0x3146bb=document[_0x4f570e(0x263)](_0x4f570e(0x2cd));_0x3146bb[_0x4f570e(0x2d8)]='',_0x43fab2['forEach'](_0x23dffb=>{const _0xe78157=_0x4f570e,_0xec0e1=document[_0xe78157(0x2c8)](_0xe78157(0x2fa));_0xec0e1[_0xe78157(0x1e0)]=_0x23dffb[_0xe78157(0x327)],_0xec0e1[_0xe78157(0x311)]=_0x23dffb[_0xe78157(0x22e)]??_0x23dffb[_0xe78157(0x360)],_0x3146bb['appendChild'](_0xec0e1);}),myCompany?.[_0x4f570e(0x29a)]&&(_0x3146bb[_0x4f570e(0x1e0)]=myCompany['setCredentialsApiWAChatIdDefault']);}return await Promise[_0x4f570e(0x1b1)](_0x52ad3d),myCompany?.['setBranchDefault']&&(document[_0x4f570e(0x263)](_0x4f570e(0x1c6))[_0x4f570e(0x1e0)]=company[0x0][_0x4f570e(0x342)]),document[_0x4f570e(0x263)](_0x4f570e(0x1c6))[_0x4f570e(0x229)](new Event(_0x4f570e(0x330))),_0x395b04==0x1&&(tabCount=getMaxWindowId(carts),console[_0x4f570e(0x25a)](_0x4f570e(0x22a)+tabCount)),_0x4cca5e;}catch(_0x23a3bc){throw _0x23a3bc;}}function loadCartAndSetTabCount(_0x2d8417){const _0xed749c=_0x215d4a;loadCart(_0x2d8417)[_0xed749c(0x27d)](async _0x480441=>{const _0xfa49=_0xed749c;await initializeProducts(_0x480441);if(_0x2d8417==0x1){if(isLoggedIn(company)){const _0x41f032=document[_0xfa49(0x263)]('windowId')[_0xfa49(0x1e0)];parseFloat(_0x41f032)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0xfa49(0x1cf)),document['addEventListener']('keydown',function(_0x4c3194){const _0x59347a=_0xfa49,_0x15c262=document[_0x59347a(0x263)](_0x59347a(0x20c))[_0x59347a(0x1e0)],_0x2e5834=document[_0x59347a(0x263)]('searchInput'),_0x5d155a=document[_0x59347a(0x2a0)](_0x59347a(0x2e0)),_0x4c0dae=document[_0x59347a(0x263)](_0x59347a(0x2a9)+_0x15c262),_0xa56e18=document[_0x59347a(0x263)](_0x59347a(0x340)+_0x15c262),_0x47dbe7=document[_0x59347a(0x263)](_0x59347a(0x34c));function _0x2d8098(_0x5d2645){const _0x67f40e=_0x59347a;return _0x5d2645&&(_0x5d2645['offsetWidth']>0x0||_0x5d2645[_0x67f40e(0x1fd)]>0x0||_0x5d2645[_0x67f40e(0x243)]()[_0x67f40e(0x325)]);}let _0x52880b=[];if(_0x47dbe7&&_0x47dbe7['classList'][_0x59347a(0x1f3)]('active')){const _0x527d10=_0x47dbe7[_0x59347a(0x2a0)](_0x59347a(0x1f0));_0x527d10[_0x59347a(0x33c)](_0x14139d=>{const _0x2c7175=_0x59347a;_0x2d8098(_0x14139d)&&!_0x14139d[_0x2c7175(0x323)][_0x2c7175(0x1f3)](_0x2c7175(0x221))&&_0x52880b[_0x2c7175(0x358)](_0x14139d);});const _0x55b06e=_0x47dbe7[_0x59347a(0x226)](_0x59347a(0x232)+_0x15c262);if(_0x55b06e){const _0x4606d0=_0x55b06e[_0x59347a(0x2a0)](_0x59347a(0x2be));_0x4606d0['forEach'](_0x1c18f8=>{const _0x544e47=_0x59347a;_0x2d8098(_0x1c18f8)&&!_0x1c18f8['classList'][_0x544e47(0x1f3)](_0x544e47(0x221))&&_0x52880b[_0x544e47(0x358)](_0x1c18f8);});}_0xa56e18&&_0x2d8098(_0xa56e18)&&!_0xa56e18['classList'][_0x59347a(0x1f3)]('d-none')&&(!_0x52880b[_0x59347a(0x35d)](_0xa56e18)&&_0x52880b[_0x59347a(0x358)](_0xa56e18));}else{_0x52880b=[_0x2e5834,..._0x5d155a];if(_0x4c0dae)_0x52880b['push'](_0x4c0dae);}const _0x3cfa42=document['activeElement'],_0x378153=_0x3cfa42&&(_0x3cfa42[_0x59347a(0x261)]==_0x59347a(0x291)||_0x3cfa42[_0x59347a(0x261)]==_0x59347a(0x227));if(_0x47dbe7&&_0x47dbe7['classList'][_0x59347a(0x1f3)](_0x59347a(0x2b0))&&_0x4c3194[_0x59347a(0x312)]==_0x59347a(0x31f)){if(_0x3cfa42&&_0x3cfa42[_0x59347a(0x323)][_0x59347a(0x1f3)](_0x59347a(0x2a3))){_0x4c3194[_0x59347a(0x2b9)](),_0x3cfa42[_0x59347a(0x217)]();return;}}if(_0x47dbe7&&_0x47dbe7[_0x59347a(0x323)][_0x59347a(0x1f3)](_0x59347a(0x2b0))&&_0x4c3194[_0x59347a(0x312)]==_0x59347a(0x236)&&!_0x47dbe7[_0x59347a(0x1f3)](_0x3cfa42)){_0x4c3194[_0x59347a(0x2b9)]();_0x52880b[_0x59347a(0x325)]>0x0&&_0x52880b[0x0][_0x59347a(0x1ee)]();return;}if(_0x4c3194[_0x59347a(0x312)]==_0x59347a(0x236)){_0x4c3194[_0x59347a(0x2b9)]();if(_0x52880b[_0x59347a(0x325)]==0x0)return;let _0x5101ce=_0x52880b[_0x59347a(0x1da)](_0x3cfa42);if(_0x5101ce==-0x1)_0x5101ce=-0x1;let _0x24786c;_0x4c3194[_0x59347a(0x1b2)]?_0x24786c=_0x5101ce<=0x0?_0x52880b[_0x59347a(0x325)]-0x1:_0x5101ce-0x1:_0x24786c=_0x5101ce==_0x52880b[_0x59347a(0x325)]-0x1?0x0:_0x5101ce+0x1;_0x52880b[_0x24786c][_0x59347a(0x1ee)]();return;}(!_0x47dbe7||!_0x47dbe7[_0x59347a(0x323)][_0x59347a(0x1f3)]('active'))&&!_0x378153&&(_0x4c3194['key'][_0x59347a(0x325)]==0x1||_0x4c3194[_0x59347a(0x312)]==_0x59347a(0x22f)||_0x4c3194['key']==_0x59347a(0x318))&&(_0x4c3194['preventDefault'](),_0x2e5834[_0x59347a(0x1ee)](),_0x4c3194[_0x59347a(0x312)]=='Backspace'||_0x4c3194[_0x59347a(0x312)]=='Delete'?_0x2e5834[_0x59347a(0x1e0)]=_0x2e5834[_0x59347a(0x1e0)][_0x59347a(0x1c1)](0x0,-0x1):!_0x2e5834[_0x59347a(0x1e0)]?_0x2e5834[_0x59347a(0x1e0)]=_0x4c3194[_0x59347a(0x312)]:_0x2e5834['value']+=_0x4c3194[_0x59347a(0x312)]);}),loadTaxData(),resetNewItemForm();}_0x2d8417==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x2d8417==0x3){const _0x2a1905=document[_0xfa49(0x263)](_0xfa49(0x1c6))[_0xfa49(0x1e0)];fil_BranchesId['push'](_0x2a1905),updateDateRange(_0xfa49(0x314));}_0x2d8417==0x4&&init();})[_0xed749c(0x1ff)](_0x459bd1=>{const _0x348274=_0xed749c;console[_0x348274(0x348)](_0x459bd1);})[_0xed749c(0x223)](()=>{const _0xb3692a=_0xed749c;_0x2d8417==0x1&&updateInternetIcon();let _0x22baae;(_0x2d8417==0x1||_0x2d8417==0x2||_0x2d8417==0x3||_0x2d8417==0x4)&&(_0x22baae=_0xb3692a(0x1fb)),registerServiceWorker(_0x22baae,_0x2d8417);});}