/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.6
*/

function _0x43ec(){const _0xd28598=['4oWtSJW','pdf_url','Error\x20al\x20solicitar\x20reporte','add','length','Total','setOperationTypeSpan','btnExport','&tipo=','setOperationCurrency','getElementById','divChartIncome','value','label','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','filter-end','setOperationPaymentStatusColor','tagName','top','(((.+)+)+)+$','display','line',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','addEventListener','exportReport','pageX','remove','category','scrollLeft','sales','catch','apply','btn\x20btn-sm\x20btn-outline\x20ms-2','createObjectURL','setTipoComprobante','Costo','document','Modo\x20de\x20exportación\x20desconocido:','Ventas','width','getDay','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','145967cRgQZt','setOption','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','valueDesc','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','producto','setDate','EnvironmentChangeComplete','.xlsx','#00AEEF','#pagination-income','setOperationPaymentStatusName','querySelectorAll','bind','getHours','pedido','stringify','{b}:\x20{d}%','querySelector','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','onerror','exception','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','log','change','setOperationDateTime','click','setOperationDetailQuantity','cost','</td>\x0a<td>','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','contains','getMonth','classList','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','json','Selecciona\x20ambas\x20fechas','\x2000:00:00','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','name','active','Error\x20al\x20exportar.','email','Error\x20al\x20enviar\x20por\x20WhatsApp.','application/json','#080060','getFullYear','bar','info','no-reply@miempresa.com','\x0a</td>\x0a<td></td>\x0a','PASSWORD123','setOperationId','setDescripcion','</td>\x0a','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','currency',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','day','\x20-\x20','bottom','onload','setOperationDetailUnitCost','entries','console','1389084ZFmeyg','total','setWarehouseId','map','substring','week','products','2333575EODUVu','productName','\x22>\x0a','getDate',';\x22>\x0a','height','middle','statusText','BranchChangeComplete','filter','dataset_raw','reduce','./img/apiPOS.png','https://fasyb.com/api/pdf/proxy/?file=','none','setOperationTotal','\x20al\x20','\x0a<td\x20class=\x22td-bg-none\x22>','btn\x20btn-sm\x20btn-outline\x20me-2','preventDefault','#FF5900',';\x20color:\x20','setSeries','target','setOperationPaymentStatus','#00bb2d','application/octet-stream','400px','setFloorId','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','\x22\x20no\x20existe.','Contenedor\x20','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','postMessage','incomes','Siguiente\x20&raquo;','mousemove','innerHTML','toFixed','factura','apply-filter','recibo','search','whatsapp','filter-start','result','Error\x20','block','setOperationItems','https://fasyb.com/api/venta/view/?id=','item','axis','setOperationType','{}.constructor(\x22return\x20this\x22)(\x20)','9363276oqJghn','sort','500px','setTipoOperacionCodigo','setApiEndPoint','4808888vtOdAA','profit','className','onclick','center','.modal-content','valor_unitario','setBranchId','Error\x20WA:','\x0a</td>\x0a','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','then','detalle','No\x20se\x20encontró\x20información\x20de\x20ingresos','Invalid\x20range\x20type','getAttribute','10734KChUXM','50%','toString','textContent','filtrar','setOperationDetailUnitPresentationId','\x20tbody','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setTipoOperacionName','getMinutes','values','toISOString','data-value','status','POST','\x20no\x20existe','filterModal','Error\x20al\x20aplicar\x20filtro','date-range-label-icon','appendChild','setSerie','return\x20(function()\x20','2404476SAbmtw','Mi\x20Empresa','dynamicContent','hide','1883YTveGA','smtp.miempresa.com','setOperationDetailTotal','setBranchDefault','dataset_','fechaISO','#reporte-income-products','href','Export\x20WK\x20Error:','setCustomerId','setOperationCustomerId','style','year','divChartCustomer','from','</td>\x0a</tr>','WarehouseChangeComplete','ceil','isArray','&laquo;\x20Anterior','forEach','push','split','concat','cantidad','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','success','round','Error\x20al\x20cargar\x20el\x20detalle:','mouseup','offsetLeft','100%','createElement','slice','init','warn','modalOverlayViewDetails','detalleModal','btn-outline','customerName','\x2023:59:59','find','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','pie','data','application/json;\x20charset=utf-8','error','setOperationSeries','padStart','#reporte-income-customers','readAsDataURL','#pagination-customers','setOperationCustomerName','revokeObjectURL','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','YOUR_WA_CRED_ID','...','mousedown','download','Reporte\x20','assign','closeModalViewDetails','customers','constructor','dispatchEvent','mouseleave'];_0x43ec=function(){return _0xd28598;};return _0x43ec();}const _0x3344d0=_0x1c0a;(function(_0x15692f,_0x36e05){const _0x307fce=_0x1c0a,_0x49615b=_0x15692f();while(!![]){try{const _0xf94db2=parseInt(_0x307fce(0x1a8))/0x1*(-parseInt(_0x307fce(0x17e))/0x2)+-parseInt(_0x307fce(0x1e9))/0x3+parseInt(_0x307fce(0x138))/0x4+parseInt(_0x307fce(0x1f0))/0x5+-parseInt(_0x307fce(0x122))/0x6*(-parseInt(_0x307fce(0x13c))/0x7)+parseInt(_0x307fce(0x112))/0x8+-parseInt(_0x307fce(0x10d))/0x9;if(_0xf94db2===_0x36e05)break;else _0x49615b['push'](_0x49615b['shift']());}catch(_0x377ee6){_0x49615b['push'](_0x49615b['shift']());}}}(_0x43ec,0x56a2c));const _0x3eb524=(function(){let _0xaab3ef=!![];return function(_0x423cad,_0x119ac6){const _0x3b0218=_0xaab3ef?function(){const _0x207048=_0x1c0a;if(_0x119ac6){const _0x24d0d9=_0x119ac6[_0x207048(0x19d)](_0x423cad,arguments);return _0x119ac6=null,_0x24d0d9;}}:function(){};return _0xaab3ef=![],_0x3b0218;};}()),_0x2b4ece=_0x3eb524(this,function(){const _0x1c5f2e=_0x1c0a;return _0x2b4ece[_0x1c5f2e(0x124)]()['search']('(((.+)+)+)+$')[_0x1c5f2e(0x124)]()['constructor'](_0x2b4ece)[_0x1c5f2e(0x21a)](_0x1c5f2e(0x191));});_0x2b4ece();const _0x1ae34a=(function(){let _0x13598d=!![];return function(_0x262887,_0x58be43){const _0x3a5cb4=_0x13598d?function(){const _0x8f2c8c=_0x1c0a;if(_0x58be43){const _0x576a77=_0x58be43[_0x8f2c8c(0x19d)](_0x262887,arguments);return _0x58be43=null,_0x576a77;}}:function(){};return _0x13598d=![],_0x3a5cb4;};}()),_0x8de703=_0x1ae34a(this,function(){const _0x582d72=_0x1c0a;let _0x35659b;try{const _0x14cc61=Function(_0x582d72(0x137)+_0x582d72(0x225)+');');_0x35659b=_0x14cc61();}catch(_0x37f06a){_0x35659b=window;}const _0x31e7a2=_0x35659b[_0x582d72(0x1e8)]=_0x35659b[_0x582d72(0x1e8)]||{},_0x2cf68f=[_0x582d72(0x1bf),_0x582d72(0x15f),_0x582d72(0x1d8),_0x582d72(0x16a),_0x582d72(0x1bd),'table','trace'];for(let _0x3f6159=0x0;_0x3f6159<_0x2cf68f[_0x582d72(0x182)];_0x3f6159++){const _0x3dafd8=_0x1ae34a[_0x582d72(0x17b)]['prototype'][_0x582d72(0x1b5)](_0x1ae34a),_0x5018e2=_0x2cf68f[_0x3f6159],_0x304c27=_0x31e7a2[_0x5018e2]||_0x3dafd8;_0x3dafd8['__proto__']=_0x1ae34a[_0x582d72(0x1b5)](_0x1ae34a),_0x3dafd8['toString']=_0x304c27[_0x582d72(0x124)][_0x582d72(0x1b5)](_0x304c27),_0x31e7a2[_0x5018e2]=_0x3dafd8;}});_0x8de703();let arrayIncomes;const fil_init_dates=document[_0x3344d0(0x188)](_0x3344d0(0x134)),label=document['getElementById']('date-range-label'),options=document['getElementById']('date-range-options'),divChartIncome=document['getElementById'](_0x3344d0(0x189)),divChartItem=document[_0x3344d0(0x188)]('divChartItem'),divChartCustomer=document[_0x3344d0(0x188)](_0x3344d0(0x149));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x3075bf){const _0x2825fb=_0x3344d0,{containerId:_0x217db4,rawData:_0x484862,groupField:_0x1c3bed,groupValues:_0x8916d2,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x4038ee,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x2825fb(0x1ab),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x2bde9c,height:_0x37fb22}=_0x3075bf,_0x516723=document['getElementById'](_0x217db4);if(!_0x516723){console[_0x2825fb(0x16a)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x217db4+_0x2825fb(0x20e));return;}if(_0x2bde9c)_0x516723['style'][_0x2825fb(0x1a5)]=_0x2bde9c;if(_0x37fb22)_0x516723['style'][_0x2825fb(0x1f5)]=_0x37fb22;const _0x52a879=echarts[_0x2825fb(0x15e)](_0x516723),_0xc78223=[],_0x21fa1a=[];_0x8916d2[_0x2825fb(0x150)]((_0xa44773,_0x1a4861)=>{const _0x38f528=_0x2825fb,_0x1157e8=_0x38f528(0x140)+_0xa44773,_0x17c108=(_0x3075bf['additionalFilters']||[])[_0x38f528(0x153)]([{'dimension':_0x1c3bed,'=':_0xa44773}]);_0xc78223[_0x38f528(0x151)]({'id':_0x1157e8,'fromDatasetId':_0x38f528(0x1fa),'transform':{'type':_0x38f528(0x1f9),'config':{'and':_0x17c108}}}),_0x21fa1a[_0x38f528(0x151)]({'type':chartType,'datasetId':_0x1157e8,'name':_0xa44773,...chartType===_0x38f528(0x1d7)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x1a4861]||undefined},...chartType===_0x38f528(0x193)&&{'showSymbol':![]},'encode':_0x4038ee});});const _0x246529={'animationDuration':animationDuration,'dataset':[{'id':_0x2825fb(0x1fa),'source':_0x484862},..._0xc78223],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x2825fb(0x223)},'xAxis':Object[_0x2825fb(0x178)]({'type':_0x2825fb(0x199),'nameLocation':_0x2825fb(0x1f6)},xAxisConfig),'yAxis':Object[_0x2825fb(0x178)]({'name':_0x4038ee['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x21fa1a};_0x52a879[_0x2825fb(0x1a9)](_0x246529);}function _0x1c0a(_0x491320,_0x3a8239){const _0xc06e0=_0x43ec();return _0x1c0a=function(_0x8de703,_0x1ae34a){_0x8de703=_0x8de703-0x10d;let _0x177e34=_0xc06e0[_0x8de703];return _0x177e34;},_0x1c0a(_0x491320,_0x3a8239);}function generatePieChart({containerId:_0x35fec3,data:_0x44d904,nameField:_0x2c35d5,valueField:_0x3e5aa4,title:title='',titlePosition:titlePosition=_0x3344d0(0x190),showTitle:showTitle=!![],width:_0x25878c,height:_0x5f29bf}){const _0x27ba48=_0x3344d0,_0x32a281=document[_0x27ba48(0x188)](_0x35fec3);if(!_0x32a281)return console[_0x27ba48(0x16a)](_0x27ba48(0x20f)+_0x35fec3+_0x27ba48(0x131));if(_0x25878c)_0x32a281[_0x27ba48(0x147)][_0x27ba48(0x1a5)]=_0x25878c;if(_0x5f29bf)_0x32a281[_0x27ba48(0x147)]['height']=_0x5f29bf;const _0x37c724=echarts[_0x27ba48(0x15e)](_0x32a281),_0x47c391=_0x44d904[_0x27ba48(0x1fb)]((_0x45cb1b,_0x43b7d0)=>{const _0x1a28e7=_0x27ba48,_0x5ada00=_0x43b7d0[_0x2c35d5],_0x42e7db=_0x43b7d0[_0x3e5aa4];let _0x471ffc=_0x45cb1b['find'](_0x3e6d99=>_0x3e6d99[_0x1a28e7(0x1cf)]===_0x5ada00);return!_0x471ffc&&(_0x471ffc={'name':_0x5ada00,'value':0x0},_0x45cb1b[_0x1a28e7(0x151)](_0x471ffc)),_0x471ffc[_0x1a28e7(0x18a)]+=_0x42e7db,_0x45cb1b;},[]);let _0x100719;showTitle?(_0x100719={'text':title,'left':_0x27ba48(0x116)},titlePosition===_0x27ba48(0x1e4)?_0x100719[_0x27ba48(0x1e4)]=0x0:_0x100719[_0x27ba48(0x190)]=0x0):_0x100719={'show':![]};const _0x322eff={'title':_0x100719,'tooltip':{'trigger':_0x27ba48(0x222)},'series':[{'type':_0x27ba48(0x167),'radius':_0x27ba48(0x123),'data':_0x47c391,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x27ba48(0x1b9)}}]};_0x37c724['setOption'](_0x322eff);}function generateHorizontalBarChart({containerId:_0x1d7be4,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x3344d0(0x190),showTitle:showTitle=!![],colors:colors=[],width:_0x12b81a,height:_0x4c5357,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x2fa662=_0x3344d0,_0x473236=document[_0x2fa662(0x188)](_0x1d7be4);if(!_0x473236)return console[_0x2fa662(0x16a)](_0x2fa662(0x20f)+_0x1d7be4+'\x20no\x20existe');if(_0x12b81a)_0x473236[_0x2fa662(0x147)][_0x2fa662(0x1a5)]=_0x12b81a;if(_0x4c5357)_0x473236[_0x2fa662(0x147)][_0x2fa662(0x1f5)]=_0x4c5357;const _0x5e7e05=echarts['init'](_0x473236),_0x2eaed6=showTitle?{'text':title,'left':_0x2fa662(0x116),...titlePosition===_0x2fa662(0x1e4)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x2fa662(0x1e4)?_0x2eaed6['bottom']=0x0:_0x2eaed6['top']=0x0;const _0x55270f={'title':_0x2eaed6,'tooltip':{'trigger':'axis','axisPointer':{'type':'shadow'}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object['assign']({'type':_0x2fa662(0x18a),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':'category','data':categories},yAxisConfig),'series':series['map']((_0x3a210b,_0x4eb8ee)=>({'type':_0x2fa662(0x1d7),'name':_0x3a210b[_0x2fa662(0x1cf)],'data':_0x3a210b[_0x2fa662(0x168)],'itemStyle':{'color':colors[_0x4eb8ee]||undefined}}))};_0x5e7e05[_0x2fa662(0x1a9)](_0x55270f);}function showModalViewDetails(){const _0x1a3425=_0x3344d0,_0x400a05=document[_0x1a3425(0x188)](_0x1a3425(0x161)),_0x4eb7eb=document[_0x1a3425(0x188)](_0x1a3425(0x160));_0x400a05['classList'][_0x1a3425(0x181)]('active'),_0x4eb7eb['style'][_0x1a3425(0x192)]=_0x1a3425(0x21f);}function hideModalViewDetails(){const _0x1903f3=_0x3344d0,_0x56d381=document[_0x1903f3(0x188)](_0x1903f3(0x161)),_0x29baa8=document['getElementById'](_0x1903f3(0x160));_0x56d381[_0x1903f3(0x1c9)][_0x1903f3(0x198)](_0x1903f3(0x1d0)),_0x29baa8[_0x1903f3(0x147)][_0x1903f3(0x192)]=_0x1903f3(0x1fe);const _0x19b2c6=document[_0x1903f3(0x188)](_0x1903f3(0x13a));_0x19b2c6[_0x1903f3(0x215)]=_0x1903f3(0x166);}document[_0x3344d0(0x188)]('closeModalViewDetails')['addEventListener'](_0x3344d0(0x1c2),hideModalViewDetails),document[_0x3344d0(0x188)]('modalOverlayViewDetails')[_0x3344d0(0x195)](_0x3344d0(0x1c2),hideModalViewDetails);function verDetalle(_0x487211,_0x4af37a){const _0x4ac8f5=_0x3344d0;fetch(_0x4ac8f5(0x221)+_0x487211+_0x4ac8f5(0x186)+_0x4af37a)[_0x4ac8f5(0x11d)](_0x1f74eb=>{const _0x5eae87=_0x4ac8f5;if(!_0x1f74eb['ok'])throw new Error(_0x5eae87(0x21e)+_0x1f74eb[_0x5eae87(0x12f)]+':\x20'+_0x1f74eb[_0x5eae87(0x1f7)]);return _0x1f74eb['json']();})['then'](_0x22fc18=>{const _0x1f81d7=_0x4ac8f5;if(_0x22fc18[_0x1f81d7(0x156)]){const _0x48b35f=document['getElementById'](_0x1f81d7(0x13a));if(_0x4af37a===_0x1f81d7(0x11e)){let _0x119a29='';_0x22fc18[_0x1f81d7(0x168)][_0x1f81d7(0x150)](_0x74d79b=>{const _0x5b48ef=_0x1f81d7;_0x119a29+='\x0a<tr>\x0a<td>'+_0x74d79b[_0x5b48ef(0x1ad)]+_0x5b48ef(0x1c5)+_0x74d79b[_0x5b48ef(0x154)]+'</td>\x0a<td>'+_0x74d79b[_0x5b48ef(0x118)]+'</td>\x0a<td>'+_0x74d79b[_0x5b48ef(0x1ea)]+_0x5b48ef(0x14b);}),document[_0x1f81d7(0x188)]('detalleTablaBody')[_0x1f81d7(0x215)]=_0x119a29;}else{if(_0x4af37a==='pdf'){const _0x1b87a4=_0x1f81d7(0x1fd)+encodeURIComponent(_0x22fc18[_0x1f81d7(0x17f)]),_0x5e3373=document[_0x1f81d7(0x1ba)](_0x1f81d7(0x117));_0x48b35f[_0x1f81d7(0x215)]='\x0a<iframe\x20src=\x22'+_0x1b87a4+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x1f81d7(0x188)](_0x1f81d7(0x179))['addEventListener']('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x22fc18[_0x1f81d7(0x16a)]||_0x1f81d7(0x18c));})['catch'](_0x10316c=>{const _0x73fe09=_0x4ac8f5;console[_0x73fe09(0x16a)](_0x73fe09(0x158),_0x10316c),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}label[_0x3344d0(0x195)](_0x3344d0(0x1c2),()=>{const _0x1658e0=_0x3344d0;options[_0x1658e0(0x147)][_0x1658e0(0x192)]=options[_0x1658e0(0x147)]['display']===_0x1658e0(0x1fe)?_0x1658e0(0x21f):_0x1658e0(0x1fe);}),options[_0x3344d0(0x195)](_0x3344d0(0x1c2),_0x1846ff=>{const _0x23834d=_0x3344d0;if(_0x1846ff[_0x23834d(0x207)]&&_0x1846ff['target'][_0x23834d(0x18f)]==='LI'){const _0x457765=_0x1846ff[_0x23834d(0x207)][_0x23834d(0x121)](_0x23834d(0x12e));updateDateRange(_0x457765),options[_0x23834d(0x147)][_0x23834d(0x192)]=_0x23834d(0x1fe);}}),document[_0x3344d0(0x195)]('click',_0x5c06d9=>{const _0x46bc86=_0x3344d0;!label[_0x46bc86(0x1c7)](_0x5c06d9[_0x46bc86(0x207)])&&!options[_0x46bc86(0x1c7)](_0x5c06d9['target'])&&(options[_0x46bc86(0x147)]['display']=_0x46bc86(0x1fe));});function formatDateToYmdHis(_0x30b503){const _0x63b52d=_0x3344d0,_0x2eb48d=_0x30b503[_0x63b52d(0x1d6)](),_0x42a0a2=String(_0x30b503[_0x63b52d(0x1c8)]()+0x1)[_0x63b52d(0x16c)](0x2,'0'),_0x5c4551=String(_0x30b503['getDate']())[_0x63b52d(0x16c)](0x2,'0'),_0x476dc5=String(_0x30b503[_0x63b52d(0x1b6)]())[_0x63b52d(0x16c)](0x2,'0'),_0x272de0=String(_0x30b503[_0x63b52d(0x12b)]())[_0x63b52d(0x16c)](0x2,'0'),_0x3e25d3=String(_0x30b503['getSeconds']())['padStart'](0x2,'0');return _0x2eb48d+'-'+_0x42a0a2+'-'+_0x5c4551+'\x20'+_0x476dc5+':'+_0x272de0+':'+_0x3e25d3;}function getDateRange(_0x2f6be3){const _0x5cdf28=_0x3344d0,_0x1c8420=new Date();let _0x189326,_0x171c52;switch(_0x2f6be3){case'day':_0x189326=new Date(_0x1c8420['getFullYear'](),_0x1c8420[_0x5cdf28(0x1c8)](),_0x1c8420['getDate'](),0x0,0x0,0x0),_0x171c52=new Date(_0x1c8420[_0x5cdf28(0x1d6)](),_0x1c8420[_0x5cdf28(0x1c8)](),_0x1c8420[_0x5cdf28(0x1f3)](),0x17,0x3b,0x3b),label[_0x5cdf28(0x215)]=_0x5cdf28(0x1ce);break;case _0x5cdf28(0x1ee):const _0x13a45d=_0x1c8420[_0x5cdf28(0x1a6)](),_0x2a0bc6=new Date(_0x1c8420);_0x2a0bc6['setDate'](_0x1c8420[_0x5cdf28(0x1f3)]()-_0x13a45d+(_0x13a45d===0x0?-0x6:0x1));const _0x4d67db=new Date(_0x2a0bc6);_0x4d67db[_0x5cdf28(0x1ae)](_0x2a0bc6[_0x5cdf28(0x1f3)]()+0x6),_0x189326=new Date(_0x2a0bc6[_0x5cdf28(0x1d6)](),_0x2a0bc6[_0x5cdf28(0x1c8)](),_0x2a0bc6[_0x5cdf28(0x1f3)](),0x0,0x0,0x0),_0x171c52=new Date(_0x4d67db['getFullYear'](),_0x4d67db['getMonth'](),_0x4d67db[_0x5cdf28(0x1f3)](),0x17,0x3b,0x3b),label[_0x5cdf28(0x215)]=_0x5cdf28(0x1ac);break;case'month':_0x189326=new Date(_0x1c8420['getFullYear'](),_0x1c8420[_0x5cdf28(0x1c8)](),0x1,0x0,0x0,0x0),_0x171c52=new Date(_0x1c8420[_0x5cdf28(0x1d6)](),_0x1c8420[_0x5cdf28(0x1c8)]()+0x1,0x0,0x17,0x3b,0x3b),label['innerHTML']='del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x5cdf28(0x148):_0x189326=new Date(_0x1c8420[_0x5cdf28(0x1d6)](),0x0,0x1,0x0,0x0,0x0),_0x171c52=new Date(_0x1c8420[_0x5cdf28(0x1d6)](),0xb,0x1f,0x17,0x3b,0x3b),label['innerHTML']='del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;default:label['innerHTML']='';throw new Error(_0x5cdf28(0x120));}return{'startDateFormatted':formatDateToYmdHis(_0x189326),'endDateFormatted':formatDateToYmdHis(_0x171c52)};}function updateDateRange(_0x1f14cb=_0x3344d0(0x1e2)){const _0x41c939=_0x3344d0;if(_0x1f14cb==_0x41c939(0x126)){}else{const {startDateFormatted:_0xd433e2,endDateFormatted:_0x368430}=getDateRange(_0x1f14cb);fil_date_start=_0xd433e2,fil_date_end=_0x368430,consultIncomeReport();}}const tableWrappers=document[_0x3344d0(0x1b4)]('.table-wrapper');tableWrappers[_0x3344d0(0x150)](_0x4d237c=>{const _0x39f5d9=_0x3344d0;let _0x3a88e4=![],_0x529fbd,_0x45062a;_0x4d237c['addEventListener'](_0x39f5d9(0x175),_0x202d85=>{const _0x75ba11=_0x39f5d9;_0x3a88e4=!![],_0x529fbd=_0x202d85[_0x75ba11(0x197)]-_0x4d237c['offsetLeft'],_0x45062a=_0x4d237c['scrollLeft'];}),_0x4d237c[_0x39f5d9(0x195)](_0x39f5d9(0x17d),()=>{_0x3a88e4=![];}),_0x4d237c['addEventListener'](_0x39f5d9(0x159),()=>{_0x3a88e4=![];}),_0x4d237c[_0x39f5d9(0x195)](_0x39f5d9(0x214),_0x25fc53=>{const _0x598c8d=_0x39f5d9;if(!_0x3a88e4)return;_0x25fc53['preventDefault']();const _0x3e2e0e=_0x25fc53[_0x598c8d(0x197)]-_0x4d237c[_0x598c8d(0x15a)],_0x4b769c=(_0x3e2e0e-_0x529fbd)*0x2;_0x4d237c[_0x598c8d(0x19a)]=_0x45062a-_0x4b769c;});});async function consultIncomeReport(){const _0x765aba=_0x3344d0;showLoadingModal();const _0x53a327={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x4c0358=await fetch(myCompany[_0x765aba(0x111)],{'method':'POST','headers':{'Content-Type':_0x765aba(0x169)},'body':JSON['stringify'](_0x53a327)}),{success:_0x48f339,message:_0xccadc7}=await _0x4c0358[_0x765aba(0x1cb)]();if(!_0x48f339||!Array[_0x765aba(0x14e)](_0xccadc7[_0x765aba(0x212)])){ntfShow(_0x765aba(0x11f)),console[_0x765aba(0x1bf)](_0xccadc7);return;}const _0x2f85a8=_0xccadc7[_0x765aba(0x212)],_0x42b764=myCompany['setCustomers'][_0x765aba(0x1fb)]((_0x2f8f87,_0x26ab12)=>(_0x2f8f87[_0x26ab12[_0x765aba(0x145)]]=_0x26ab12['setCustomerName'],_0x2f8f87),{}),_0x5dd1dd=myCompany['setTipoOperaciones'][_0x765aba(0x1fb)]((_0x2d7ec2,_0x3a2728)=>(_0x2d7ec2[_0x3a2728[_0x765aba(0x110)]]=_0x3a2728[_0x765aba(0x12a)],_0x2d7ec2),{}),_0x2fb510=myCompany[_0x765aba(0x206)]['reduce']((_0x512a2b,_0x58fd1f)=>(_0x512a2b[_0x58fd1f['ID_SERIE']]=_0x58fd1f[_0x765aba(0x136)],_0x512a2b),{});arrayIncomes=_0x2f85a8[_0x765aba(0x1ec)](_0x406886=>{const _0x52aef7=_0x765aba,_0x170f20=_0x406886['setOperationItems']['reduce']((_0x4f9072,_0x3025b2)=>_0x4f9072+Number(_0x3025b2['setOperationDetailTotal']),0x0),_0x251fd8=_0x5dd1dd[_0x406886['setOperationType']]||_0x406886[_0x52aef7(0x224)],_0x3812a6=_0x2fb510[_0x406886['setOperationSeries']]||_0x406886[_0x52aef7(0x16b)],_0x2c3120=_0x42b764[_0x406886[_0x52aef7(0x146)]]||_0x406886[_0x52aef7(0x146)],_0x131741=_0x406886[_0x52aef7(0x208)]==0x1?_0x52aef7(0x209):_0x52aef7(0x204),_0x5268de=_0x406886[_0x52aef7(0x208)]==0x1?'Pagado':'Pendiente',_0x315b2e=_0x406886[_0x52aef7(0x224)]==0x1?_0x52aef7(0x1b7):_0x406886[_0x52aef7(0x224)]==0x2?_0x52aef7(0x219):_0x406886[_0x52aef7(0x224)]==0x3?'boleta':_0x406886[_0x52aef7(0x224)]==0x4?_0x52aef7(0x217):_0x52aef7(0x219);return{'setOperationId':_0x406886[_0x52aef7(0x1dc)],'setOperationType':_0x251fd8,'setOperationTypeSpan':_0x315b2e,'setOperationSeries':_0x3812a6+'-'+_0x406886['setOperationNumber'],'setOperationCustomerName':_0x2c3120,'setOperationDateTime':_0x406886[_0x52aef7(0x1c1)],'setOperationPaymentStatusColor':_0x131741,'setOperationPaymentStatusName':_0x5268de,'setOperationCurrency':_0x406886[_0x52aef7(0x187)],'setOperationTotal':_0x170f20};});const _0x3f79be=_0x2f85a8['flatMap'](_0x509647=>_0x509647[_0x765aba(0x220)][_0x765aba(0x1ec)](_0x2e5c74=>({'item':_0x2e5c74,'moneda':_0x509647[_0x765aba(0x187)]})))['reduce']((_0x3b8969,{item:_0x58cc14,moneda:_0x14438b})=>{const _0x5376d6=_0x765aba,_0x16b8cc=products[_0x5376d6(0x165)](_0x38694a=>_0x38694a['id']==_0x58cc14[_0x5376d6(0x127)]),_0x5ccf2d=_0x16b8cc?_0x16b8cc[_0x5376d6(0x1dd)]:'Sin\x20descripción',_0xb49d46=_0x5ccf2d+'|'+_0x14438b,_0xf9f021=Number(_0x58cc14[_0x5376d6(0x13e)]),_0xab86a1=Number(_0x58cc14[_0x5376d6(0x1e6)])*Number(_0x58cc14[_0x5376d6(0x1c3)]);return!_0x3b8969[_0xb49d46]&&(_0x3b8969[_0xb49d46]={'productName':_0x5ccf2d,'currency':_0x14438b,'sales':0x0,'cost':0x0}),_0x3b8969[_0xb49d46][_0x5376d6(0x19b)]+=_0xf9f021,_0x3b8969[_0xb49d46][_0x5376d6(0x1c4)]+=_0xab86a1,_0x3b8969;},{}),_0x5b9ac7=Object[_0x765aba(0x12c)](_0x3f79be)[_0x765aba(0x1ec)](_0x94b696=>({'productName':_0x94b696[_0x765aba(0x1f1)],'currency':_0x94b696[_0x765aba(0x1e0)],'sales':Math['round'](_0x94b696[_0x765aba(0x19b)]*0x64)/0x64,'cost':Math[_0x765aba(0x157)](_0x94b696[_0x765aba(0x1c4)]*0x64)/0x64,'profit':Math[_0x765aba(0x157)]((_0x94b696[_0x765aba(0x19b)]-_0x94b696[_0x765aba(0x1c4)])*0x64)/0x64})),_0x4e9d33=_0x2f85a8[_0x765aba(0x1fb)]((_0x31890b,_0x404320)=>{const _0x5c7d5a=_0x765aba,_0x314af8=_0x42b764[_0x404320['setOperationCustomerId']]||_0x404320[_0x5c7d5a(0x146)],_0x307299=_0x404320['setOperationCurrency'],_0x53e5dd=_0x314af8+'|'+_0x307299,_0x414d65=_0x404320[_0x5c7d5a(0x220)][_0x5c7d5a(0x1fb)]((_0x4544e6,_0x4fc35b)=>_0x4544e6+Number(_0x4fc35b[_0x5c7d5a(0x13e)]),0x0),_0x659811=_0x404320[_0x5c7d5a(0x220)][_0x5c7d5a(0x1fb)]((_0x1d3f50,_0x2121a4)=>_0x1d3f50+Number(_0x2121a4[_0x5c7d5a(0x1e6)])*Number(_0x2121a4[_0x5c7d5a(0x1c3)]),0x0);return!_0x31890b[_0x53e5dd]&&(_0x31890b[_0x53e5dd]={'customerName':_0x314af8,'currency':_0x307299,'sales':0x0,'cost':0x0}),_0x31890b[_0x53e5dd][_0x5c7d5a(0x19b)]+=_0x414d65,_0x31890b[_0x53e5dd][_0x5c7d5a(0x1c4)]+=_0x659811,_0x31890b;},{}),_0x347cb1=Object[_0x765aba(0x12c)](_0x4e9d33)[_0x765aba(0x1ec)](_0x288f5c=>({'customerName':_0x288f5c[_0x765aba(0x163)],'currency':_0x288f5c['currency'],'sales':Math[_0x765aba(0x157)](_0x288f5c[_0x765aba(0x19b)]*0x64)/0x64,'cost':Math[_0x765aba(0x157)](_0x288f5c['cost']*0x64)/0x64,'profit':Math[_0x765aba(0x157)]((_0x288f5c['sales']-_0x288f5c[_0x765aba(0x1c4)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x765aba(0x212)),renderTable(_0x5b9ac7,currentPageProducts,'products'),renderTable(_0x347cb1,currentPageCustomers,_0x765aba(0x17a));const _0x5342b7=arrayIncomes[_0x765aba(0x1ec)](_0x568b2b=>({'fechaISO':_0x568b2b['setOperationDateTime'][_0x765aba(0x152)]('\x20')[0x0],'setTipoComprobante':_0x568b2b['setOperationType'],'setOperationCurrency':_0x568b2b[_0x765aba(0x187)],'Total':Math[_0x765aba(0x157)](_0x568b2b[_0x765aba(0x1ff)]*0x64)/0x64})),_0x53d0a0=_0x5342b7[_0x765aba(0x1fb)]((_0x35aff5,_0x314873)=>{const _0x3480da=_0x765aba,_0x18e054=_0x314873[_0x3480da(0x141)]+'|'+_0x314873[_0x3480da(0x1a0)]+'|'+_0x314873[_0x3480da(0x187)];if(!_0x35aff5[_0x18e054])_0x35aff5[_0x18e054]={..._0x314873,'Total':0x0};return _0x35aff5[_0x18e054][_0x3480da(0x183)]+=_0x314873[_0x3480da(0x183)],_0x35aff5;},{}),_0x1afe76=Object[_0x765aba(0x12c)](_0x53d0a0)[_0x765aba(0x1ec)](_0x308fa1=>({'fechaISO':_0x308fa1[_0x765aba(0x141)],'setTipoComprobante':_0x308fa1[_0x765aba(0x1a0)]+'\x20('+_0x308fa1[_0x765aba(0x187)]+')','Total':Math['round'](_0x308fa1['Total']*0x64)/0x64})),_0x3bfca8=[...new Set(_0x1afe76[_0x765aba(0x1ec)](_0x478f0f=>_0x478f0f['setTipoComprobante']))],_0x218d95=Array[_0x765aba(0x14a)](new Set(_0x1afe76[_0x765aba(0x1ec)](_0x1b3739=>_0x1b3739['fechaISO'])))[_0x765aba(0x10e)]((_0x36471d,_0x1dec0a)=>new Date(_0x36471d)-new Date(_0x1dec0a));_0x1afe76[_0x765aba(0x182)]>0x0?generateFilterTransformChart({'containerId':'divChartIncome','rawData':_0x1afe76,'groupField':_0x765aba(0x1a0),'groupValues':_0x3bfca8,'seriesType':_0x765aba(0x1d7),'chartType':'bar','colors':[_0x765aba(0x204),'#080060'],'encode':{'x':_0x765aba(0x141),'y':_0x765aba(0x183),'label':[_0x765aba(0x1a0),_0x765aba(0x183)],'itemName':_0x765aba(0x141),'tooltip':[_0x765aba(0x183)]},'xAxisConfig':{'type':_0x765aba(0x199),'data':_0x218d95,'axisLabel':{'formatter':_0x45dfaf=>{const _0xe10adc=_0x765aba,[_0x576de4,_0x5dc08f,_0x24b416]=_0x45dfaf[_0xe10adc(0x152)]('-');return _0x24b416+'/'+_0x5dc08f+'/'+_0x576de4;}}},'title':'Evolución\x20de\x20Ventas','width':_0x765aba(0x15b),'height':_0x765aba(0x10f)}):divChartIncome[_0x765aba(0x215)]='';_0x5b9ac7[_0x765aba(0x182)]>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x5b9ac7[_0x765aba(0x1ec)](_0x249b2f=>{const _0x19f5e3=_0x765aba,_0x593021='('+_0x249b2f['currency']+')\x20'+_0x249b2f[_0x19f5e3(0x1f1)];return _0x593021[_0x19f5e3(0x182)]>0xf?_0x593021[_0x19f5e3(0x1ed)](0x0,0xf)+_0x19f5e3(0x174):_0x593021;}),'series':[{'name':_0x765aba(0x1a4),'data':_0x5b9ac7[_0x765aba(0x1ec)](_0x4a6d02=>_0x4a6d02[_0x765aba(0x19b)])},{'name':_0x765aba(0x1a1),'data':_0x5b9ac7[_0x765aba(0x1ec)](_0x3ac5d4=>_0x3ac5d4[_0x765aba(0x1c4)])},{'name':'Ganancia','data':_0x5b9ac7['map'](_0xe4d78d=>_0xe4d78d[_0x765aba(0x113)])}],'title':'Ventas\x20por\x20Producto','titlePosition':_0x765aba(0x1e4),'showTitle':![],'colors':[_0x765aba(0x204),_0x765aba(0x1d5),_0x765aba(0x1b1)],'width':_0x765aba(0x15b),'height':_0x765aba(0x20b)}):divChartItem[_0x765aba(0x215)]='';if(_0x347cb1[_0x765aba(0x182)]>0x0){const _0x74d1e4=_0x347cb1[_0x765aba(0x1ec)](_0x29b1fe=>({'label':_0x29b1fe[_0x765aba(0x163)]+'\x20('+_0x29b1fe[_0x765aba(0x1e0)]+')','sales':_0x29b1fe[_0x765aba(0x19b)]}));generatePieChart({'containerId':_0x765aba(0x149),'data':_0x74d1e4,'nameField':_0x765aba(0x18b),'valueField':_0x765aba(0x19b),'title':'Ventas\x20por\x20Cliente','titlePosition':_0x765aba(0x190),'showTitle':![],'width':_0x765aba(0x10f),'height':_0x765aba(0x10f)});}else divChartCustomer[_0x765aba(0x215)]='';}catch(_0x5a4b6e){ntfShow(_0x765aba(0x180)),console[_0x765aba(0x16a)](_0x5a4b6e);}finally{hideLoadingModal();}}function renderTable(_0x4b2cb9,_0x214126=0x1,_0x163bd0=_0x3344d0(0x212)){const _0x48b813=_0x3344d0;currentPage=_0x214126;const _0x4b7e2d=_0x163bd0===_0x48b813(0x212)?'#reporte-income':_0x163bd0===_0x48b813(0x1ef)?_0x48b813(0x142):_0x48b813(0x16d),_0x55427c=_0x163bd0===_0x48b813(0x212)?per_page:_0x163bd0===_0x48b813(0x1ef)?per_page_products:per_page_customers,_0x483d8c=document['querySelector'](_0x4b7e2d+_0x48b813(0x128));_0x483d8c['innerHTML']='';const _0x4bf99c=(_0x214126-0x1)*_0x55427c,_0x509430=_0x4b2cb9[_0x48b813(0x15d)](_0x4bf99c,_0x4bf99c+_0x55427c);if(_0x163bd0===_0x48b813(0x212)){_0x509430[_0x48b813(0x150)](_0x5d69df=>{const _0x4b9b0a=_0x48b813,_0x34101e=document[_0x4b9b0a(0x15c)]('tr');_0x34101e['innerHTML']=_0x4b9b0a(0x155)+_0x5d69df[_0x4b9b0a(0x184)]+_0x4b9b0a(0x1f2)+_0x5d69df['setOperationType']+_0x4b9b0a(0x1a7)+(_0x5d69df[_0x4b9b0a(0x16b)]||'')+_0x4b9b0a(0x1c5)+(_0x5d69df[_0x4b9b0a(0x170)]||'')+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+_0x5d69df[_0x4b9b0a(0x1c1)]+_0x4b9b0a(0x1be)+_0x5d69df[_0x4b9b0a(0x18e)]+_0x4b9b0a(0x205)+_0x5d69df[_0x4b9b0a(0x18e)]+_0x4b9b0a(0x1f4)+_0x5d69df[_0x4b9b0a(0x1b3)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x5d69df['setOperationCurrency']+_0x4b9b0a(0x1c6)+_0x5d69df[_0x4b9b0a(0x1ff)][_0x4b9b0a(0x216)](0x2)+_0x4b9b0a(0x129)+_0x5d69df['setOperationId']+_0x4b9b0a(0x1e1)+_0x5d69df[_0x4b9b0a(0x1dc)]+_0x4b9b0a(0x194),_0x483d8c[_0x4b9b0a(0x135)](_0x34101e);});const _0x5f0f9c=_0x4b2cb9['reduce']((_0x45e73e,_0x18d86d)=>{const _0x19a6f4=_0x48b813,_0x1e8bfa=_0x18d86d[_0x19a6f4(0x187)];return _0x45e73e[_0x1e8bfa]=(_0x45e73e[_0x1e8bfa]||0x0)+Number(_0x18d86d[_0x19a6f4(0x1ff)]),_0x45e73e;},{});Object[_0x48b813(0x1e7)](_0x5f0f9c)[_0x48b813(0x150)](([_0x1c121e,_0x2832fd])=>{const _0x3cd9cc=_0x48b813,_0x55fbeb=document[_0x3cd9cc(0x15c)]('tr');_0x55fbeb['innerHTML']=_0x3cd9cc(0x210)+_0x1c121e+_0x3cd9cc(0x20d)+(Math[_0x3cd9cc(0x157)](_0x2832fd*0x64)/0x64)[_0x3cd9cc(0x216)](0x2)+_0x3cd9cc(0x1da),_0x483d8c[_0x3cd9cc(0x135)](_0x55fbeb);}),renderPagination(_0x4b2cb9,_0x214126,_0x163bd0);}if(_0x163bd0==='products'){_0x509430[_0x48b813(0x150)](_0x318b7a=>{const _0x13aae7=_0x48b813,_0x499f02=document[_0x13aae7(0x15c)]('tr');_0x499f02[_0x13aae7(0x215)]=_0x13aae7(0x201)+_0x318b7a[_0x13aae7(0x1f1)]+_0x13aae7(0x1df)+_0x318b7a['currency']+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x318b7a['sales']['toFixed'](0x2)+_0x13aae7(0x11c)+_0x318b7a[_0x13aae7(0x1c4)]['toFixed'](0x2)+_0x13aae7(0x11c)+_0x318b7a[_0x13aae7(0x113)][_0x13aae7(0x216)](0x2)+_0x13aae7(0x1de),_0x483d8c[_0x13aae7(0x135)](_0x499f02);});const _0x21ecbc=_0x4b2cb9[_0x48b813(0x1fb)]((_0x39d1b2,_0x52e8ff)=>{const _0x5b75af=_0x48b813,_0x109dc9=_0x52e8ff[_0x5b75af(0x1e0)];if(!_0x39d1b2[_0x109dc9])_0x39d1b2[_0x109dc9]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x39d1b2[_0x109dc9][_0x5b75af(0x19b)]+=_0x52e8ff[_0x5b75af(0x19b)],_0x39d1b2[_0x109dc9]['cost']+=_0x52e8ff[_0x5b75af(0x1c4)],_0x39d1b2[_0x109dc9][_0x5b75af(0x113)]+=_0x52e8ff[_0x5b75af(0x113)],_0x39d1b2;},{});Object[_0x48b813(0x1e7)](_0x21ecbc)[_0x48b813(0x150)](([_0x96322c,_0x3edc47])=>{const _0xddb441=_0x48b813,_0x4591ee=document[_0xddb441(0x15c)]('tr');_0x4591ee[_0xddb441(0x215)]='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x96322c+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math['round'](_0x3edc47[_0xddb441(0x19b)]*0x64)/0x64)[_0xddb441(0x216)](0x2)+_0xddb441(0x1ca)+(Math[_0xddb441(0x157)](_0x3edc47[_0xddb441(0x1c4)]*0x64)/0x64)[_0xddb441(0x216)](0x2)+_0xddb441(0x1ca)+(Math['round'](_0x3edc47[_0xddb441(0x113)]*0x64)/0x64)['toFixed'](0x2)+_0xddb441(0x11b),_0x483d8c[_0xddb441(0x135)](_0x4591ee);}),renderPagination(_0x4b2cb9,_0x214126,_0x163bd0);}if(_0x163bd0===_0x48b813(0x17a)){_0x509430['forEach'](_0x2ce446=>{const _0x2c73e1=_0x48b813,_0x5a9b21=document[_0x2c73e1(0x15c)]('tr');_0x5a9b21['innerHTML']=_0x2c73e1(0x201)+_0x2ce446[_0x2c73e1(0x163)]+_0x2c73e1(0x1df)+_0x2ce446[_0x2c73e1(0x1e0)]+_0x2c73e1(0x11c)+_0x2ce446['sales'][_0x2c73e1(0x216)](0x2)+_0x2c73e1(0x11c)+_0x2ce446[_0x2c73e1(0x1c4)]['toFixed'](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x2ce446['profit'][_0x2c73e1(0x216)](0x2)+_0x2c73e1(0x1de),_0x483d8c[_0x2c73e1(0x135)](_0x5a9b21);});const _0x1baea8=_0x4b2cb9['reduce']((_0x1a1626,_0x1f81d6)=>{const _0x591e9d=_0x48b813,_0x1b1937=_0x1f81d6[_0x591e9d(0x1e0)];return!_0x1a1626[_0x1b1937]&&(_0x1a1626[_0x1b1937]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x1a1626[_0x1b1937]['sales']+=_0x1f81d6[_0x591e9d(0x19b)],_0x1a1626[_0x1b1937]['cost']+=_0x1f81d6[_0x591e9d(0x1c4)],_0x1a1626[_0x1b1937][_0x591e9d(0x113)]+=_0x1f81d6['profit'],_0x1a1626;},{});Object['entries'](_0x1baea8)[_0x48b813(0x150)](([_0x223f5a,_0x3919d4])=>{const _0x396886=_0x48b813,_0x1a5caa=document[_0x396886(0x15c)]('tr');_0x1a5caa[_0x396886(0x215)]=_0x396886(0x1aa)+_0x223f5a+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x396886(0x157)](_0x3919d4[_0x396886(0x19b)]*0x64)/0x64)['toFixed'](0x2)+_0x396886(0x1ca)+(Math[_0x396886(0x157)](_0x3919d4[_0x396886(0x1c4)]*0x64)/0x64)[_0x396886(0x216)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x396886(0x157)](_0x3919d4[_0x396886(0x113)]*0x64)/0x64)[_0x396886(0x216)](0x2)+_0x396886(0x11b),_0x483d8c['appendChild'](_0x1a5caa);}),renderPagination(_0x4b2cb9,_0x214126,_0x163bd0);}}function renderPagination(_0x16867f,_0x18822c,_0x4230dd=_0x3344d0(0x212)){const _0x392d0e=_0x3344d0,_0x2767d5=_0x4230dd===_0x392d0e(0x212)?document[_0x392d0e(0x1ba)](_0x392d0e(0x1b2)):_0x4230dd===_0x392d0e(0x1ef)?document[_0x392d0e(0x1ba)]('#pagination-products'):document[_0x392d0e(0x1ba)](_0x392d0e(0x16f)),_0x21b341=_0x4230dd===_0x392d0e(0x212)?per_page:_0x4230dd===_0x392d0e(0x1ef)?per_page_products:per_page_customers;_0x2767d5[_0x392d0e(0x215)]='';const _0x427d79=Math[_0x392d0e(0x14d)](_0x16867f[_0x392d0e(0x182)]/_0x21b341),_0x1307be=document[_0x392d0e(0x15c)]('a');_0x1307be[_0x392d0e(0x143)]='#',_0x1307be['className']=_0x392d0e(0x202),_0x1307be[_0x392d0e(0x215)]=_0x392d0e(0x14f),_0x1307be[_0x392d0e(0x115)]=_0x26ac20=>{const _0x4441f8=_0x392d0e;_0x26ac20[_0x4441f8(0x203)]();if(_0x18822c>0x1)renderTable(_0x16867f,_0x18822c-0x1,_0x4230dd);},_0x2767d5[_0x392d0e(0x135)](_0x1307be);for(let _0x5542dd=0x1;_0x5542dd<=_0x427d79;_0x5542dd++){const _0x21a548=document['createElement']('a');_0x21a548[_0x392d0e(0x143)]='#',_0x21a548[_0x392d0e(0x114)]='btn\x20btn-sm\x20'+(_0x5542dd===_0x18822c?'btn-outline-primary':_0x392d0e(0x162)),_0x21a548[_0x392d0e(0x125)]=_0x5542dd,_0x21a548['onclick']=_0x1b8d41=>{const _0x2bc2e9=_0x392d0e;_0x1b8d41[_0x2bc2e9(0x203)](),renderTable(_0x16867f,_0x5542dd,_0x4230dd);},_0x2767d5['appendChild'](_0x21a548);}const _0x57485e=document[_0x392d0e(0x15c)]('a');_0x57485e[_0x392d0e(0x143)]='#',_0x57485e[_0x392d0e(0x114)]=_0x392d0e(0x19e),_0x57485e[_0x392d0e(0x215)]=_0x392d0e(0x213),_0x57485e[_0x392d0e(0x115)]=_0x41872c=>{const _0x248bbb=_0x392d0e;_0x41872c[_0x248bbb(0x203)]();if(_0x18822c<_0x427d79)renderTable(_0x16867f,_0x18822c+0x1,_0x4230dd);},_0x2767d5[_0x392d0e(0x135)](_0x57485e);}document['getElementById'](_0x3344d0(0x218))[_0x3344d0(0x195)]('click',async()=>{const _0x3dd926=_0x3344d0,_0x5b0939=document[_0x3dd926(0x188)](_0x3dd926(0x21c))[_0x3dd926(0x18a)],_0xfa69d4=document['getElementById'](_0x3dd926(0x18d))[_0x3dd926(0x18a)];if(!_0x5b0939||!_0xfa69d4)return alert(_0x3dd926(0x1cc));const _0x314a90=document['getElementById'](_0x3dd926(0x132)),_0x6ccc7b=bootstrap['Modal']['getInstance'](_0x314a90);_0x6ccc7b[_0x3dd926(0x13b)](),showLoadingModal();try{const _0x5c0ca6={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0x5b0939+_0x3dd926(0x1cd),'dateTo':_0xfa69d4+_0x3dd926(0x164),'clientIds':[],'operationTypes':[]},_0x118d88=await fetch(myCompany[_0x3dd926(0x111)],{'method':_0x3dd926(0x130),'headers':{'Content-Type':_0x3dd926(0x1d4)},'body':JSON[_0x3dd926(0x1b8)](_0x5c0ca6)}),{success:_0x10ccc7,message:_0x2b6a76}=await _0x118d88[_0x3dd926(0x1cb)]();if(!_0x10ccc7)throw new Error(_0x2b6a76);_0x2b6a76[_0x3dd926(0x212)],await consultIncomeReport();}catch(_0x505361){ntfShow(_0x3dd926(0x133)),console[_0x3dd926(0x16a)](_0x505361);}finally{hideLoadingModal();}});let currentExportMode='download';const WA_CRED_ID=_0x3344d0(0x173),WA_DEST_NUMBER='51954738620',EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME=_0x3344d0(0x139),EMAIL_SENDER_ADDR=_0x3344d0(0x1d9),EMAIL_SENDER_PASS=_0x3344d0(0x1db),EMAIL_SMTP_HOST=_0x3344d0(0x13d),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker['onmessage']=({data:_0x17c7c9})=>{const _0x141b15=_0x3344d0,{type:_0x3b0fd3,payload:_0x3b42df,reportType:_0x2372c8}=_0x17c7c9;if(_0x3b0fd3==='exportDone'){const _0x593471=new Blob([_0x3b42df],{'type':_0x141b15(0x20a)}),_0x1acc15=new Date()[_0x141b15(0x12d)]()['slice'](0x0,0xa),_0x5104e0=_0x2372c8+'_'+_0x1acc15+_0x141b15(0x1b0),_0x3bf2bf=_0x48879b=>new Promise((_0x22c73f,_0xb4e9f9)=>{const _0x56bec3=_0x141b15,_0x1b5db6=new FileReader();_0x1b5db6[_0x56bec3(0x1bc)]=()=>_0xb4e9f9(_0x1b5db6[_0x56bec3(0x16a)]),_0x1b5db6['onload']=()=>_0x22c73f(_0x1b5db6[_0x56bec3(0x21d)][_0x56bec3(0x152)](',')[0x1]),_0x1b5db6[_0x56bec3(0x16e)](_0x48879b);});switch(currentExportMode){case _0x141b15(0x176):{const _0x5a857d=URL[_0x141b15(0x19f)](_0x593471),_0x461def=document[_0x141b15(0x15c)]('a');_0x461def[_0x141b15(0x143)]=_0x5a857d,_0x461def[_0x141b15(0x176)]=_0x5104e0,_0x461def['click'](),URL[_0x141b15(0x171)](_0x5a857d);}break;case _0x141b15(0x21b):{_0x3bf2bf(_0x593471)[_0x141b15(0x11d)](_0x1e0d6a=>{const _0x5d632f=_0x141b15;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x5d632f(0x1a2),_0x1e0d6a,_0x5d632f(0x177)+_0x2372c8+'\x20al\x20'+_0x1acc15,_0x5104e0,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x5d632f(0x19c)](_0x544d30=>{const _0x2c5089=_0x5d632f;console[_0x2c5089(0x16a)](_0x2c5089(0x11a),_0x544d30),ntfShow(_0x2c5089(0x1d3));});});}break;case _0x141b15(0x1d2):{_0x3bf2bf(_0x593471)[_0x141b15(0x11d)](_0x1886b7=>{const _0x3c552f=_0x141b15;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x3c552f(0x177)+_0x2372c8+'\x20-\x20'+_0x1acc15,_0x3c552f(0x172),[{'filename':_0x5104e0,'content':_0x1886b7,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;case'both':{_0x3bf2bf(_0x593471)[_0x141b15(0x11d)](_0x3d6192=>{const _0xd41d40=_0x141b15;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x3d6192,_0xd41d40(0x177)+_0x2372c8+_0xd41d40(0x200)+_0x1acc15,_0x5104e0,_0xd41d40(0x1bb))[_0xd41d40(0x19c)](_0x474dce=>console[_0xd41d40(0x16a)](_0xd41d40(0x11a),_0x474dce)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0xd41d40(0x177)+_0x2372c8+_0xd41d40(0x1e3)+_0x1acc15,_0xd41d40(0x172),[{'filename':_0x5104e0,'content':_0x3d6192,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console[_0x141b15(0x16a)](_0x141b15(0x1a3),currentExportMode);}}_0x3b0fd3===_0x141b15(0x16a)&&(console[_0x141b15(0x16a)](_0x141b15(0x144),_0x3b42df),ntfShow(_0x141b15(0x1d1)));},document['getElementById'](_0x3344d0(0x185))[_0x3344d0(0x195)]('click',()=>{const _0x1801be=_0x3344d0;onClickExport(_0x1801be(0x176));});function onClickExport(_0x2097c3=_0x3344d0(0x176)){const _0x144299=_0x3344d0;if(!Array[_0x144299(0x14e)](arrayIncomes)||!arrayIncomes[_0x144299(0x182)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');currentExportMode=_0x2097c3;const _0x55f3b0=arrayIncomes[_0x144299(0x1ec)](_0x158d6d=>{const _0x18fff4=_0x144299,[_0xb44132]=_0x158d6d[_0x18fff4(0x1c1)][_0x18fff4(0x152)]('\x20'),[_0x2e9941,_0x572e6,_0x5b2b3f]=_0xb44132[_0x18fff4(0x152)]('-');return{'Periodo':''+_0x2e9941+_0x572e6,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x5b2b3f+'/'+_0x572e6+'/'+_0x2e9941,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x158d6d[_0x18fff4(0x187)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x144299(0x211)]({'action':_0x144299(0x196),'reportType':'PLE_Ventas','report':_0x55f3b0});}window[_0x3344d0(0x1e5)]=function(){const _0x2626eb=_0x3344d0,_0x31d94f=0x3;loadLoginContent(_0x2626eb(0x1fc)),setUserNameGet(),setEventBtnAccess();const _0x5abf2d=document[_0x2626eb(0x1ba)]('.btn-logout');_0x5abf2d&&_0x5abf2d[_0x2626eb(0x195)](_0x2626eb(0x1c2),function(){logoutReload(0x0,_0x31d94f);}),document['getElementById'](_0x2626eb(0x119))['addEventListener'](_0x2626eb(0x1c0),async function(){const _0x34aa91=_0x2626eb,_0x495671=parseInt(this['value']);myCompany[_0x34aa91(0x13f)]=_0x495671;const _0x2f6013=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2f6013),await cargarPisos(_0x495671),await waitForEvent('setFloorId',_0x34aa91(0x1af)),await cargarAlmacenes(_0x495671),await waitForEvent(_0x34aa91(0x1eb),_0x34aa91(0x14c)),document['dispatchEvent'](new Event(_0x34aa91(0x1f8))),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x34aa91(0x151)](_0x495671),consultIncomeReport();}),document[_0x2626eb(0x188)](_0x2626eb(0x1eb))[_0x2626eb(0x195)](_0x2626eb(0x1c0),async function(){const _0x10d6b0=_0x2626eb;document[_0x10d6b0(0x17c)](new Event(_0x10d6b0(0x14c)));}),document[_0x2626eb(0x188)](_0x2626eb(0x20c))[_0x2626eb(0x195)](_0x2626eb(0x1c0),async function(_0xf62773){const _0x5b70ea=_0x2626eb;document['dispatchEvent'](new Event(_0x5b70ea(0x1af)));}),loadCartAndSetTabCount(_0x31d94f);};