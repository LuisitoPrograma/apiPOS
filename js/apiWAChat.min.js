/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.0
*/

const _0x3c26f8=_0xc265;(function(_0x1e3e9,_0x36ebfe){const _0x313b8f=_0xc265,_0x135cf7=_0x1e3e9();while(!![]){try{const _0xca97bf=parseInt(_0x313b8f(0x18e))/0x1*(parseInt(_0x313b8f(0x195))/0x2)+-parseInt(_0x313b8f(0x1a6))/0x3*(-parseInt(_0x313b8f(0x1ad))/0x4)+-parseInt(_0x313b8f(0x1a2))/0x5*(-parseInt(_0x313b8f(0x1a8))/0x6)+-parseInt(_0x313b8f(0x177))/0x7*(parseInt(_0x313b8f(0x175))/0x8)+parseInt(_0x313b8f(0x17c))/0x9+-parseInt(_0x313b8f(0x17d))/0xa*(parseInt(_0x313b8f(0x1a1))/0xb)+-parseInt(_0x313b8f(0x193))/0xc;if(_0xca97bf===_0x36ebfe)break;else _0x135cf7['push'](_0x135cf7['shift']());}catch(_0x5bcf36){_0x135cf7['push'](_0x135cf7['shift']());}}}(_0x2ba7,0x8e814));const _0x52dd93=(function(){let _0x67c65a=!![];return function(_0x3cf790,_0x507aa1){const _0x1e25d4=_0x67c65a?function(){if(_0x507aa1){const _0x23b84f=_0x507aa1['apply'](_0x3cf790,arguments);return _0x507aa1=null,_0x23b84f;}}:function(){};return _0x67c65a=![],_0x1e25d4;};}()),_0xeb1e1c=_0x52dd93(this,function(){const _0x2dc092=_0xc265;return _0xeb1e1c[_0x2dc092(0x1a3)]()[_0x2dc092(0x19e)](_0x2dc092(0x18c))[_0x2dc092(0x1a3)]()['constructor'](_0xeb1e1c)[_0x2dc092(0x19e)](_0x2dc092(0x18c));});_0xeb1e1c();const _0x29c058=(function(){let _0x9f75f9=!![];return function(_0x4f85e6,_0x570e02){const _0x584c60=_0x9f75f9?function(){const _0x4f94e5=_0xc265;if(_0x570e02){const _0x4efe29=_0x570e02[_0x4f94e5(0x19c)](_0x4f85e6,arguments);return _0x570e02=null,_0x4efe29;}}:function(){};return _0x9f75f9=![],_0x584c60;};}()),_0x4597a0=_0x29c058(this,function(){const _0x7c2e3e=_0xc265;let _0x49a51e;try{const _0x5b0f29=Function('return\x20(function()\x20'+_0x7c2e3e(0x199)+');');_0x49a51e=_0x5b0f29();}catch(_0x16d068){_0x49a51e=window;}const _0x312159=_0x49a51e['console']=_0x49a51e[_0x7c2e3e(0x187)]||{},_0x3f6e17=[_0x7c2e3e(0x188),'warn',_0x7c2e3e(0x1a4),_0x7c2e3e(0x18b),_0x7c2e3e(0x176),_0x7c2e3e(0x194),_0x7c2e3e(0x198)];for(let _0x53b097=0x0;_0x53b097<_0x3f6e17['length'];_0x53b097++){const _0x1ef8ec=_0x29c058[_0x7c2e3e(0x172)]['prototype']['bind'](_0x29c058),_0x2835f1=_0x3f6e17[_0x53b097],_0x191f05=_0x312159[_0x2835f1]||_0x1ef8ec;_0x1ef8ec[_0x7c2e3e(0x17f)]=_0x29c058[_0x7c2e3e(0x191)](_0x29c058),_0x1ef8ec[_0x7c2e3e(0x1a3)]=_0x191f05[_0x7c2e3e(0x1a3)]['bind'](_0x191f05),_0x312159[_0x2835f1]=_0x1ef8ec;}});_0x4597a0();const selectCredentialsApiWAChat=document['getElementById'](_0x3c26f8(0x16e)),loginPanel=document[_0x3c26f8(0x170)](_0x3c26f8(0x17b)),chatPanel=document['getElementById'](_0x3c26f8(0x18a)),qrImg=document['getElementById'](_0x3c26f8(0x184)),overlay=document['getElementById'](_0x3c26f8(0x183));function _0xc265(_0x2067f3,_0x180c42){const _0x593df3=_0x2ba7();return _0xc265=function(_0x4597a0,_0x29c058){_0x4597a0=_0x4597a0-0x16b;let _0x2e28fc=_0x593df3[_0x4597a0];return _0x2e28fc;},_0xc265(_0x2067f3,_0x180c42);}let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x54ddc6=_0x3c26f8;loginPanel[_0x54ddc6(0x17a)][_0x54ddc6(0x18d)]=_0x54ddc6(0x189),chatPanel[_0x54ddc6(0x17a)][_0x54ddc6(0x173)]='hidden';}function showChat(){const _0x255be5=_0x3c26f8;loginPanel[_0x255be5(0x17a)][_0x255be5(0x18d)]='none',chatPanel[_0x255be5(0x17a)][_0x255be5(0x173)]=_0x255be5(0x197);}function _0x2ba7(){const _0x304e4e=['setFloorId','constructor','visibility','setCredentialsApiWAChatPort','8qIfuvx','exception','6529474uQQyzS','includes','toLowerCase','style','loginPanel','759699nSosXv','8866360bvKiJd','json','__proto__','status','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','ya\x20conectado','qr-overlay','qr-img','click','none','console','log','flex','chatPanel','error','(((.+)+)+)+$','display','39426kMFCbg','setCredentialsApiWAChatStatus','then','bind','addEventListener','584544weFohO','table','10NkQhHI','setAuthToken','visible','trace','{}.constructor(\x22return\x20this\x22)(\x20)','dispatchEvent','./img/apiPOS.png','apply','setBranchId','search','setBranchDefault','onload','11wyqPLz','12030swceyO','toString','info','value','3GHtpZg','querySelector','2796kzUzxY','catch','setCredentialsApiWAChatSubdomain','/wa/','/qr','4196372DqumeR','https://','.btn-logout','setWarehouseId','Credenciales\x20no\x20encontradas','change','setCredentialsApiWAChat','src','getElementById'];_0x2ba7=function(){return _0x304e4e;};return _0x2ba7();}async function displayQR(_0x2b5788){const _0xf2e3e1=_0x3c26f8,_0x3ff2a5=selectCredentialsApiWAChat[_0xf2e3e1(0x1a5)],_0x11b014=getCredentialsApiWAChat(_0x3ff2a5);if(_0x11b014){const _0x271836=_0x11b014[_0xf2e3e1(0x1aa)],_0x49a2fc=_0x11b014[_0xf2e3e1(0x174)];clearTimeout(qrTimeout),overlay['style'][_0xf2e3e1(0x18d)]=_0xf2e3e1(0x186),qrImg[_0xf2e3e1(0x16f)]=_0x2b5788,qrTimeout=setTimeout(()=>{const _0xd6abf5=_0xf2e3e1;fetch(_0xd6abf5(0x1ae)+_0x271836+_0xd6abf5(0x1ab)+_0x49a2fc+_0xd6abf5(0x1ac),{'headers':{'x-auth-token':myCompany[_0xd6abf5(0x196)]}})[_0xd6abf5(0x190)](async _0x460f15=>_0x460f15[_0xd6abf5(0x17e)]())[_0xd6abf5(0x190)](async _0x27a65c=>{const _0xd1abbc=_0xd6abf5;_0x27a65c[_0xd1abbc(0x180)]&&_0x27a65c[_0xd1abbc(0x180)][_0xd1abbc(0x179)]()[_0xd1abbc(0x178)]('ya\x20conectado')?(showChat(),_0x11b014[_0xd1abbc(0x18f)]=0x1):(overlay['style']['display']='flex',_0x11b014[_0xd1abbc(0x18f)]=0x0);const _0x1c78be=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1c78be);})[_0xd6abf5(0x1a9)](_0x2cc136=>{const _0x42c7b5=_0xd6abf5;console['error'](_0x42c7b5(0x181),_0x2cc136),overlay[_0x42c7b5(0x17a)][_0x42c7b5(0x18d)]=_0x42c7b5(0x189);});},validSeconds*0x3e8);}else ntfShow(_0xf2e3e1(0x16c));}async function init(){const _0x2c4eb9=_0x3c26f8,_0x301590=selectCredentialsApiWAChat[_0x2c4eb9(0x1a5)],_0x42efd2=getCredentialsApiWAChat(_0x301590);if(_0x42efd2){const _0x38db77=_0x42efd2[_0x2c4eb9(0x1aa)],_0x2cb3a0=_0x42efd2['setCredentialsApiWAChatPort'];fetch(_0x2c4eb9(0x1ae)+_0x38db77+_0x2c4eb9(0x1ab)+_0x2cb3a0+_0x2c4eb9(0x1ac),{'headers':{'x-auth-token':myCompany[_0x2c4eb9(0x196)]}})[_0x2c4eb9(0x190)](async _0x567412=>_0x567412['json']())[_0x2c4eb9(0x190)](async _0x463a39=>{const _0x19c056=_0x2c4eb9;if(_0x463a39[_0x19c056(0x180)]&&_0x463a39[_0x19c056(0x180)][_0x19c056(0x179)]()[_0x19c056(0x178)](_0x19c056(0x182)))showChat(),_0x42efd2[_0x19c056(0x18f)]=0x1;else _0x463a39['qr']&&(showLogin(),displayQR(_0x463a39['qr']),_0x42efd2['setCredentialsApiWAChatStatus']=0x0);const _0x3f0e83=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3f0e83);})['catch'](console[_0x2c4eb9(0x18b)]);}else ntfShow(_0x2c4eb9(0x16c));}overlay[_0x3c26f8(0x192)](_0x3c26f8(0x185),init),window[_0x3c26f8(0x1a0)]=function(){const _0x260432=_0x3c26f8,_0x29301c=0x4;loadLoginContent(_0x260432(0x19b)),setUserNameGet(),setEventBtnAccess();const _0x34aab0=document[_0x260432(0x1a7)](_0x260432(0x1af));_0x34aab0&&_0x34aab0[_0x260432(0x192)]('click',function(){logoutReload(0x0,_0x29301c);}),document[_0x260432(0x170)](_0x260432(0x19d))['addEventListener'](_0x260432(0x16d),async function(){const _0x5d1adc=_0x260432,_0x8d37ed=parseInt(this['value']);myCompany[_0x5d1adc(0x19f)]=_0x8d37ed,saveCredentialsApiWAChatInCompany();const _0x13ae19=await createCartStore('');await saveCompanyToIndexedDB(company,_0x13ae19),cargarAlmacenes(_0x8d37ed),setTimeout(()=>{const _0x3c4096=_0x5d1adc;document[_0x3c4096(0x170)](_0x3c4096(0x16b))['dispatchEvent'](new Event(_0x3c4096(0x16d)));},0x64),cargarPisos(_0x8d37ed),setTimeout(()=>{const _0x3a24bf=_0x5d1adc;document[_0x3a24bf(0x170)](_0x3a24bf(0x171))[_0x3a24bf(0x19a)](new Event(_0x3a24bf(0x16d)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x29301c);};