/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.8
*/

var _0x130412=_0x7293;(function(_0x4d3056,_0x3dcadf){var _0x40d418=_0x7293,_0x216d54=_0x4d3056();while(!![]){try{var _0x5bcc32=parseInt(_0x40d418(0x283))/0x1*(parseInt(_0x40d418(0x206))/0x2)+-parseInt(_0x40d418(0x1f9))/0x3+-parseInt(_0x40d418(0x216))/0x4+parseInt(_0x40d418(0x27f))/0x5*(-parseInt(_0x40d418(0x28d))/0x6)+parseInt(_0x40d418(0x20e))/0x7+parseInt(_0x40d418(0x262))/0x8+-parseInt(_0x40d418(0x1bb))/0x9;if(_0x5bcc32===_0x3dcadf)break;else _0x216d54['push'](_0x216d54['shift']());}catch(_0x34d575){_0x216d54['push'](_0x216d54['shift']());}}}(_0x5bd6,0x761ed));var _0x4672fd=(function(){var _0x2aec43=!![];return function(_0x2703c7,_0x5a41c4){var _0x2e9323=_0x2aec43?function(){var _0xad6b1c=_0x7293;if(_0x5a41c4){var _0x36df69=_0x5a41c4[_0xad6b1c(0x1a3)](_0x2703c7,arguments);return _0x5a41c4=null,_0x36df69;}}:function(){};return _0x2aec43=![],_0x2e9323;};}()),_0x2a783a=_0x4672fd(this,function(){var _0x385d8e=_0x7293;return _0x2a783a[_0x385d8e(0x1d8)]()[_0x385d8e(0x242)](_0x385d8e(0x265))[_0x385d8e(0x1d8)]()[_0x385d8e(0x1da)](_0x2a783a)[_0x385d8e(0x242)]('(((.+)+)+)+$');});_0x2a783a();var _0x18f1d3=(function(){var _0x20a3ac=!![];return function(_0x38446a,_0x45eb38){var _0x3924da=_0x20a3ac?function(){var _0x297aee=_0x7293;if(_0x45eb38){var _0x15e028=_0x45eb38[_0x297aee(0x1a3)](_0x38446a,arguments);return _0x45eb38=null,_0x15e028;}}:function(){};return _0x20a3ac=![],_0x3924da;};}()),_0xc4e909=_0x18f1d3(this,function(){var _0x42c4ec=_0x7293,_0x2251ae;try{var _0x243355=Function(_0x42c4ec(0x2b1)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2251ae=_0x243355();}catch(_0x5d911e){_0x2251ae=window;}var _0x98abcb=_0x2251ae[_0x42c4ec(0x2a1)]=_0x2251ae[_0x42c4ec(0x2a1)]||{},_0x7673a7=[_0x42c4ec(0x1e8),_0x42c4ec(0x24f),_0x42c4ec(0x25e),'error',_0x42c4ec(0x1ef),_0x42c4ec(0x1bf),'trace'];for(var _0x62ca72=0x0;_0x62ca72<_0x7673a7['length'];_0x62ca72++){var _0x19ceca=_0x18f1d3[_0x42c4ec(0x1da)][_0x42c4ec(0x1d2)]['bind'](_0x18f1d3),_0x26daec=_0x7673a7[_0x62ca72],_0x321c3c=_0x98abcb[_0x26daec]||_0x19ceca;_0x19ceca[_0x42c4ec(0x277)]=_0x18f1d3['bind'](_0x18f1d3),_0x19ceca['toString']=_0x321c3c[_0x42c4ec(0x1d8)]['bind'](_0x321c3c),_0x98abcb[_0x26daec]=_0x19ceca;}});_0xc4e909();function _0x7293(_0x528e04,_0x1f5d95){var _0x3bb75c=_0x5bd6();return _0x7293=function(_0xc4e909,_0x18f1d3){_0xc4e909=_0xc4e909-0x19c;var _0x163331=_0x3bb75c[_0xc4e909];return _0x163331;},_0x7293(_0x528e04,_0x1f5d95);}var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x130412(0x248)](_0x130412(0x20a)),unitCount=0x0,branchesC=document['getElementById'](_0x130412(0x1a9)),prodC=document['getElementById'](_0x130412(0x20f)),vgCount=0x0,varContainer=document[_0x130412(0x248)]('newItem_variants_forms'),vgC=document[_0x130412(0x248)](_0x130412(0x1c3));const fileInput=document[_0x130412(0x248)]('file-input'),progressBar=document[_0x130412(0x248)](_0x130412(0x19e)),statusDiv=document['getElementById'](_0x130412(0x28e)),uploadBtn=document[_0x130412(0x248)](_0x130412(0x299));let newItemsExcel=null;const itemWorker=new Worker(_0x130412(0x28f)),dropZone=document[_0x130412(0x248)]('drop-zone'),removeBtn=document['getElementById'](_0x130412(0x220));function showModalCreateItem(_0x583c69){var _0x19451a=_0x130412;const _0x17da92=document[_0x19451a(0x248)](_0x19451a(0x1cd)),_0x28bd02=document[_0x19451a(0x248)](_0x19451a(0x1f1));_0x17da92[_0x19451a(0x2a5)][_0x19451a(0x2a2)](_0x19451a(0x273)),_0x28bd02['style'][_0x19451a(0x27d)]=_0x19451a(0x2b7);const _0xb8822b=document[_0x19451a(0x248)](_0x19451a(0x26b));_0xb8822b[_0x19451a(0x1e5)]=parseInt(_0x583c69),baseItem[_0x19451a(0x26b)]=parseInt(_0x583c69);const _0x135bd2=document['getElementById'](_0x19451a(0x20c));_0x583c69==0x0&&(_0x135bd2[_0x19451a(0x253)]=_0x19451a(0x1ff));_0x583c69==0x1&&(_0x135bd2[_0x19451a(0x253)]='Producto\x20Libre');const _0x3d8611=document[_0x19451a(0x284)]('productType1');for(let _0x1b829d=0x0;_0x1b829d<_0x3d8611['length'];_0x1b829d++){const _0x4ead51=_0x3d8611[_0x1b829d];if(_0x583c69==0x0)_0x4ead51[_0x19451a(0x2a5)][_0x19451a(0x1ec)](_0x19451a(0x203));else _0x583c69==0x1&&_0x4ead51[_0x19451a(0x2a5)]['add'](_0x19451a(0x203));}}function hideModalCreateItem(){var _0x47e5fa=_0x130412;const _0x1491fc=document[_0x47e5fa(0x248)](_0x47e5fa(0x1cd)),_0x50f2b3=document[_0x47e5fa(0x248)](_0x47e5fa(0x1f1));_0x1491fc['classList']['remove'](_0x47e5fa(0x273)),_0x50f2b3[_0x47e5fa(0x1be)][_0x47e5fa(0x27d)]=_0x47e5fa(0x269);}document[_0x130412(0x248)]('closeModalCreateItem')[_0x130412(0x222)](_0x130412(0x1eb),hideModalCreateItem),document[_0x130412(0x248)](_0x130412(0x1f1))['addEventListener']('click',_0x5e4ea7=>{var _0x37a337=_0x130412;_0x5e4ea7[_0x37a337(0x295)]==_0x5e4ea7[_0x37a337(0x268)]&&_0x5e4ea7[_0x37a337(0x23c)]();});function loadTaxData(){var _0x42a2b4=_0x130412;const _0x4f5593=document['getElementById']('inputItemTax');_0x4f5593[_0x42a2b4(0x253)]='',company[0x0][_0x42a2b4(0x1b0)][_0x42a2b4(0x1d6)](function(_0x2129a0){var _0x5a36ac=_0x42a2b4;const _0x307114=document[_0x5a36ac(0x213)](_0x5a36ac(0x257));_0x307114[_0x5a36ac(0x1e5)]=_0x2129a0[_0x5a36ac(0x1ad)],_0x307114['innerHTML']=_0x2129a0[_0x5a36ac(0x1d3)]+'\x20('+_0x2129a0['setImpuestoValue']+'%)',_0x2129a0['setTaxId']==company[0x0]['setTaxIdDefault']&&(_0x307114[_0x5a36ac(0x1fd)]=!![]),_0x4f5593['appendChild'](_0x307114);});}function uniqueValuesArray(_0x327753,_0x18206f,_0x353789){var _0x31b2ce=_0x130412;const _0x460f1b=Array[_0x31b2ce(0x271)](new Set(_0x353789[_0x31b2ce(0x27b)](_0x518c12=>{var _0x4ec46d=_0x31b2ce;const _0x371e1f=_0x518c12[_0x327753];return typeof _0x371e1f===_0x4ec46d(0x1b1)?_0x371e1f[_0x4ec46d(0x285)]():_0x371e1f;})[_0x31b2ce(0x1b4)](_0x16bcaf=>_0x16bcaf!=null&&_0x16bcaf!=='')));return _0x460f1b[_0x31b2ce(0x27b)](_0x384192=>{var _0x11f68b=_0x31b2ce;const _0x4b29c6=_0x353789[_0x11f68b(0x281)](_0x15ab1b=>_0x15ab1b[_0x327753]===_0x384192),_0x2e38e0=_0x4b29c6&&_0x4b29c6[_0x18206f]!=null?String(_0x4b29c6[_0x18206f])[_0x11f68b(0x285)]():_0x384192;return{'setCode':_0x384192,'setName':_0x2e38e0};});}function fillSelect(_0x20043a,_0x3162f0,_0x3cd7f2,_0x5625b4){var _0x9a6029=_0x130412;_0x20043a[_0x9a6029(0x253)]='',_0x3162f0[_0x9a6029(0x1d6)](function(_0xf9ad67){var _0x55c406=new Option(_0xf9ad67[_0x5625b4],_0xf9ad67[_0x3cd7f2]);_0x20043a['add'](_0x55c406);});}function initMulti(_0x32d460,_0x4d8eee){var _0x1b773a=_0x130412,_0x2ef770=document[_0x1b773a(0x248)](_0x32d460),_0xc6f376=_0x2ef770[_0x1b773a(0x1bc)]('.ms_input'),_0x5ead3d=_0x2ef770[_0x1b773a(0x1bc)]('.options_list'),_0x4fa59d=_0x2ef770[_0x1b773a(0x1bc)]('.selected_tags'),_0x22d658=_0x4d8eee[_0x1b773a(0x1e9)](),_0x4beede=[];function _0x40fc9f(){var _0x479705=_0x1b773a;_0x5ead3d[_0x479705(0x253)]='',_0x22d658[_0x479705(0x1b4)](function(_0x15c0f1){var _0x1c8b02=_0x479705;return _0x15c0f1[_0x1c8b02(0x293)][_0x1c8b02(0x28a)]()[_0x1c8b02(0x207)](_0xc6f376[_0x1c8b02(0x1e5)]['toLowerCase']())!==-0x1;})[_0x479705(0x1d6)](function(_0x36c55f){var _0x102813=_0x479705,_0x535538=document[_0x102813(0x213)](_0x102813(0x1aa));_0x535538[_0x102813(0x250)]=_0x36c55f[_0x102813(0x293)],_0x535538[_0x102813(0x1ba)][_0x102813(0x1c8)]=_0x36c55f['setCode'],_0x5ead3d['appendChild'](_0x535538),_0x535538['addEventListener']('click',function(){var _0x2bc6f7=_0x102813;_0x4beede[_0x2bc6f7(0x1d5)](_0x36c55f),_0x22d658[_0x2bc6f7(0x2ae)](_0x22d658[_0x2bc6f7(0x256)](function(_0x1cf93c){var _0x5cd12a=_0x2bc6f7;return _0x1cf93c[_0x5cd12a(0x19c)]===_0x36c55f['setCode'];}),0x1),_0xc6f376[_0x2bc6f7(0x1e5)]='',_0x22a22b(),_0x40fc9f();});});}function _0x22a22b(){var _0x5de4fd=_0x1b773a;_0x4fa59d[_0x5de4fd(0x253)]='',_0x4beede[_0x5de4fd(0x1d6)](function(_0x38b3c1){var _0x314769=_0x5de4fd,_0x36b896=document[_0x314769(0x213)](_0x314769(0x1aa));_0x36b896[_0x314769(0x1c9)]=_0x314769(0x215),_0x36b896['textContent']=_0x38b3c1[_0x314769(0x293)];var _0x270e8f=document[_0x314769(0x213)]('span');_0x270e8f[_0x314769(0x1c9)]=_0x314769(0x214),_0x270e8f[_0x314769(0x250)]='×',_0x270e8f['addEventListener'](_0x314769(0x1eb),function(){var _0x124548=_0x314769;_0x22d658[_0x124548(0x1d5)](_0x38b3c1);const _0x71dea=_0x4beede[_0x124548(0x256)](function(_0x58d0e9){var _0x5f1bed=_0x124548;return _0x58d0e9[_0x5f1bed(0x19c)]===_0x38b3c1[_0x5f1bed(0x19c)];});if(_0x71dea>-0x1)_0x4beede[_0x124548(0x2ae)](_0x71dea,0x1);_0x22a22b(),_0x40fc9f();}),_0x36b896[_0x314769(0x2b4)](_0x270e8f),_0x4fa59d[_0x314769(0x2b4)](_0x36b896);}),_0x2ef770[_0x5de4fd(0x1cb)](new CustomEvent(_0x5de4fd(0x25a),{'bubbles':!![]}));}return _0xc6f376[_0x1b773a(0x222)]('focus',function(){var _0x2fa78c=_0x1b773a;_0x5ead3d[_0x2fa78c(0x2a5)][_0x2fa78c(0x1ec)](_0x2fa78c(0x2a6));}),_0xc6f376['addEventListener'](_0x1b773a(0x294),_0x40fc9f),_0xc6f376[_0x1b773a(0x222)](_0x1b773a(0x254),function(_0x1ccda6){var _0x31c8d9=_0x1b773a;if(_0x1ccda6[_0x31c8d9(0x278)]==='Enter'){_0x1ccda6[_0x31c8d9(0x264)]();const _0x23e4e4=_0xc6f376[_0x31c8d9(0x1e5)][_0x31c8d9(0x285)]();if(!_0x23e4e4)return;const _0x22b5f6=_0x4beede[_0x31c8d9(0x2b0)](_0x495b31=>_0x495b31[_0x31c8d9(0x293)]===_0x23e4e4),_0x2354fd=_0x22d658[_0x31c8d9(0x2b0)](_0x450aa9=>_0x450aa9['setName']===_0x23e4e4);if(!_0x22b5f6&&!_0x2354fd){const _0x2ab3db={'setCode':_0x23e4e4,'setName':_0x23e4e4};_0x4beede[_0x31c8d9(0x1d5)](_0x2ab3db),_0x22a22b(),_0x40fc9f();}_0xc6f376[_0x31c8d9(0x1e5)]='';}}),document[_0x1b773a(0x222)]('click',function(_0x557325){var _0x5f363c=_0x1b773a;if(!_0x2ef770['contains'](_0x557325[_0x5f363c(0x295)]))_0x5ead3d['classList'][_0x5f363c(0x2a2)](_0x5f363c(0x2a6));}),_0x40fc9f(),_0x4beede;}function getLastCode(_0x16548c){var _0x31beb2=_0x130412;const _0x34f84a=_0x16548c[_0x31beb2(0x27b)](_0xbeb364=>String(_0xbeb364[_0x31beb2(0x1f7)])[_0x31beb2(0x285)]())['filter'](_0x46e7b2=>_0x46e7b2!=='');if(_0x34f84a[_0x31beb2(0x23e)]===0x0)return'';const _0x3a185b=_0x34f84a['every'](_0x2a3a70=>/^\d+$/[_0x31beb2(0x1df)](_0x2a3a70));if(_0x3a185b){const _0x5772f3=_0x34f84a[_0x31beb2(0x27b)](Number),_0x4224a4=Math[_0x31beb2(0x22e)](..._0x5772f3);return String(_0x4224a4);}let _0x10b08a;if(typeof Intl!==_0x31beb2(0x2ba)&&Intl[_0x31beb2(0x275)]){const _0x5a37df=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x31beb2(0x249)});_0x10b08a=_0x34f84a[_0x31beb2(0x1e9)]()[_0x31beb2(0x1c5)](_0x5a37df[_0x31beb2(0x1f3)]);}else{const _0x7f501f=_0x34f84a[_0x31beb2(0x25d)](_0x5adf99=>/^\d+$/[_0x31beb2(0x1df)](_0x5adf99));_0x7f501f?_0x10b08a=_0x34f84a[_0x31beb2(0x27b)](Number)[_0x31beb2(0x1c5)]((_0x2ec97c,_0x85b2e)=>_0x2ec97c-_0x85b2e)[_0x31beb2(0x27b)](String):_0x10b08a=_0x34f84a[_0x31beb2(0x1e9)]()[_0x31beb2(0x1c5)]();}return _0x10b08a[_0x10b08a[_0x31beb2(0x23e)]-0x1];}function getNextCode(_0x1aa48d){var _0x24e9b9=_0x130412;const _0xf5a9f8=getLastCode(_0x1aa48d);if(!_0xf5a9f8)return'';if(/^\d+$/['test'](_0xf5a9f8))return String(Number(_0xf5a9f8)+0x1);const _0x2cb86a=_0xf5a9f8[_0x24e9b9(0x1b3)](/^([A-Za-z]*)(\d+)$/);if(_0x2cb86a){const [,_0x4e4586,_0x348b02]=_0x2cb86a,_0x386743=String(Number(_0x348b02)+0x1)[_0x24e9b9(0x1d0)](_0x348b02[_0x24e9b9(0x23e)],'0');return _0x4e4586+_0x386743;}return _0xf5a9f8;}document['getElementById']('inputItemName')[_0x130412(0x222)](_0x130412(0x294),function(_0x249f1d){var _0x328413=_0x130412;baseItem[_0x328413(0x1c7)]=_0x249f1d[_0x328413(0x295)][_0x328413(0x1e5)];}),document['getElementById']('inputItemDescription')[_0x130412(0x222)](_0x130412(0x294),function(_0x28a63b){var _0x53738f=_0x130412;baseItem[_0x53738f(0x22d)]=_0x28a63b[_0x53738f(0x295)][_0x53738f(0x1e5)];}),document['getElementById']('inputItemDateExpiry')[_0x130412(0x222)](_0x130412(0x294),function(_0xa4dc1e){var _0x31ccc3=_0x130412;baseItem[_0x31ccc3(0x24d)]=_0xa4dc1e['target'][_0x31ccc3(0x1e5)];}),document[_0x130412(0x248)](_0x130412(0x234))[_0x130412(0x222)](_0x130412(0x2ab),function(_0x5f505f){var _0x3cc999=_0x130412;baseItem[_0x3cc999(0x1dc)]=_0x5f505f['target'][_0x3cc999(0x1e5)];}),document['getElementById']('inputItemTax')[_0x130412(0x222)]('change',function(_0x108c0a){var _0x34dfcb=_0x130412;baseItem[_0x34dfcb(0x25b)]=_0x108c0a[_0x34dfcb(0x295)][_0x34dfcb(0x1e5)];const _0x5a18d0=_0x108c0a[_0x34dfcb(0x295)]['value'],_0x309e9e=company[0x0][_0x34dfcb(0x1b0)][_0x34dfcb(0x281)](_0x3f2682=>_0x3f2682['setTaxId']==_0x5a18d0)?.['setImpuestoCode']||0x0,_0x2f47c2=company[0x0][_0x34dfcb(0x1b0)][_0x34dfcb(0x281)](_0x37022a=>_0x37022a[_0x34dfcb(0x1ad)]==_0x5a18d0)?.[_0x34dfcb(0x1d9)]||0x0;baseItem[_0x34dfcb(0x1c0)]=_0x309e9e,baseItem['setItemTaxValue']=_0x2f47c2;}),document['getElementById'](_0x130412(0x296))[_0x130412(0x222)](_0x130412(0x2ab),function(_0x5226d9){var _0x598755=_0x130412;baseItem[_0x598755(0x287)]=_0x5226d9[_0x598755(0x295)]['checked'];}),document['getElementById'](_0x130412(0x27a))[_0x130412(0x222)](_0x130412(0x2ab),function(_0xf7d945){var _0x198e07=_0x130412;baseItem[_0x198e07(0x1fa)]=_0xf7d945['target'][_0x198e07(0x217)];}),document['getElementById'](_0x130412(0x1cf))[_0x130412(0x222)](_0x130412(0x294),function(_0x43bff9){var _0x5d02c1=_0x130412;baseItem[_0x5d02c1(0x21d)]=_0x43bff9['target']['value'];}),document[_0x130412(0x248)](_0x130412(0x211))[_0x130412(0x222)]('input',function(_0x195cf3){var _0x422904=_0x130412;baseItem[_0x422904(0x27c)]=_0x195cf3[_0x422904(0x295)][_0x422904(0x1e5)];}),document['getElementById']('newItem_btn_addUnit')[_0x130412(0x222)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x130412(0x248)](_0x130412(0x1cf))[_0x130412(0x222)](_0x130412(0x19f),function(){var _0x511bc7=_0x130412;const _0x252b8e=this[_0x511bc7(0x1e5)][_0x511bc7(0x285)]();if(_0x252b8e==='')return;const _0x5d54b4=products[_0x511bc7(0x2b0)](_0x584b9b=>_0x584b9b[_0x511bc7(0x1f7)]==_0x252b8e),_0x4e3565=getLastCode(products);_0x5d54b4?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x4e3565,0x2,0x1):ntfShow(_0x511bc7(0x1e6),0x1,0x1);});function removeImg(_0x3a873a){var _0x43647e=_0x130412;currentImages[_0x3a873a]=null;var _0x104b89=imgC['querySelector'](_0x43647e(0x252)+_0x3a873a+'\x22]');_0x104b89[_0x43647e(0x253)]='';var _0x4132e8=document['createElement'](_0x43647e(0x294));_0x4132e8[_0x43647e(0x28b)]='file',_0x4132e8[_0x43647e(0x1c1)]=_0x43647e(0x1b5),_0x4132e8[_0x43647e(0x1be)][_0x43647e(0x27d)]='none';var _0x47b965=document[_0x43647e(0x213)](_0x43647e(0x19d));_0x47b965['textContent']='+',_0x104b89[_0x43647e(0x2b4)](_0x4132e8),_0x104b89['appendChild'](_0x47b965),_0x104b89['addEventListener']('click',function(){var _0x1095ae=_0x43647e;_0x4132e8[_0x1095ae(0x1eb)]();}),baseItem[_0x43647e(0x1a2)]=currentImages[_0x43647e(0x1b4)](function(_0x27074c){return _0x27074c;});}function addUnit(_0x36c839,_0x2e0048,_0x294f3c,_0x49330d,_0x234848,_0x220264,_0x38a5ac){var _0x342a10=_0x130412,_0x10f0c2=uniqueValuesArray(_0x342a10(0x247),_0x342a10(0x247),products);_0x36c839=_0x36c839||'',_0x2e0048=_0x2e0048||_0x10f0c2[0x0]&&_0x10f0c2[0x0][_0x342a10(0x19c)]||'',_0x294f3c=_0x294f3c!==undefined?_0x294f3c:0x1,_0x49330d=!!_0x49330d,_0x234848=_0x234848||'',_0x220264=_0x220264||'';var _0x173949=unitCount++,_0x43b262=document[_0x342a10(0x213)](_0x342a10(0x1aa));_0x43b262['dataset']['idx']=_0x173949,_0x43b262[_0x342a10(0x1ba)][_0x342a10(0x1c4)]=_0x49330d,_0x43b262[_0x342a10(0x253)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x173949+_0x342a10(0x2aa)+_0x36c839+_0x342a10(0x1af)+_0x173949+_0x342a10(0x23b)+_0x173949+_0x342a10(0x2aa)+_0x294f3c+'\x22\x20'+(_0x49330d?_0x342a10(0x204):'')+_0x342a10(0x1fb)+_0x173949+_0x342a10(0x2aa)+_0x234848+_0x342a10(0x1a5)+_0x173949+_0x342a10(0x2aa)+_0x220264+_0x342a10(0x1a8)+(_0x49330d?'style=\x22display:none\x22':'')+_0x342a10(0x1f4),fillSelect(_0x43b262['querySelector'](_0x342a10(0x205)),_0x10f0c2,_0x342a10(0x19c),_0x342a10(0x293)),_0x43b262['querySelector']('.unitSelect')[_0x342a10(0x1e5)]=_0x2e0048,[_0x342a10(0x1e7),_0x342a10(0x246),_0x342a10(0x21a),_0x342a10(0x22c),_0x342a10(0x282)][_0x342a10(0x1d6)](function(_0x1f81b4){var _0x45505f=_0x342a10;_0x43b262[_0x45505f(0x1bc)]('.'+_0x1f81b4)[_0x45505f(0x222)](_0x45505f(0x294),function(){var _0x2036be=_0x45505f,_0x11c1cc=_0x38a5ac?+_0x38a5ac['id'][_0x2036be(0x29e)]('_')[0x1]:null;if(_0x38a5ac)updateVariantUnits(_0x11c1cc);else updateUnitsArray();});}),_0x43b262[_0x342a10(0x1bc)](_0x342a10(0x2bb))['addEventListener'](_0x342a10(0x1eb),function(){var _0x1b42c3=_0x342a10;_0x43b262[_0x1b42c3(0x1ec)]();var _0xd3e493=_0x38a5ac?+_0x38a5ac['id'][_0x1b42c3(0x29e)]('_')[0x1]:null;if(_0x38a5ac)updateVariantUnits(_0xd3e493);else updateUnitsArray();});var _0x1875d0=_0x38a5ac||document[_0x342a10(0x248)](_0x342a10(0x270));_0x1875d0['appendChild'](_0x43b262);}function containerIdx(_0x11be7e){var _0x460b06=_0x130412;return+_0x11be7e['id'][_0x460b06(0x29e)]('_')[0x1];}function _0x5bd6(){var _0x6e5e5b=['upload-btn','Error\x20al\x20procesar\x20la\x20operación:','Ingresa\x20el\x20nombre\x20del\x20item','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','files','split','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','.branchMin','console','add','#newItem_units_container\x20>\x20div','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','classList','newItem_hidden','.removeVariant','Error\x20al\x20guardar\x20Producto\x20Offline:','.vgVals','\x22\x20value=\x22','change','#newItem_brands_select\x20.selected_tags','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','splice','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','some','return\x20(function()\x20','dataTransfer','now','appendChild','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','drop','block','<div\x20class=\x22newItem_col\x22>','querySelectorAll','undefined','.removeUnit','</label>','oncomplete','name','setCode','span','progress','blur','setAlias','result','setItemImages','apply','inputItemName','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','defineProperty','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','newItem_branches_container','div','setItemTaxValue','setMarca','setTaxId','#newItem_branches_container\x20>\x20div','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setImpuestos','string','setItemVariantName','match','filter','image/*','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','image_box','newItem_btn_addVariantGroup','[id$=\x22_comp_container\x22]','dataset','1611144AntyxM','querySelector','\x22\x20class=\x22branchChk\x22\x20checked>\x20','style','table','setItemTaxCode','accept','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','newItem_variant_groups','default','sort','setUnitCode','setItemName','code','className','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','dispatchEvent','.vgName','detalleModalCreateItem','setDescripcion','inputItemCode','padStart','setItemVariantValues','prototype','setImpuestoName','idx','push','forEach','newItem_brands_select','toString','setImpuestoValue','constructor','setFactor','setItemType','setStockMinimum','windowId','test','.addVariantComp','setMoneda','message','.removeProd','❌\x20Error:\x20','value','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','unitAlias','log','slice','postMessage','click','remove','Producto\x20Guardado\x20Offline\x20Correctamente.','fill','exception','.prod_input_container','modalOverlayCreateItem','\x20items\x20procesados.','compare','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','error','#newItem_categories_select\x20.selected_tags','setCodProducto','onload','2530188KuDmaF','setItemIsSold','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','.removeCombo','selected','onmessage','Nuevo\x20Producto','dragenter','setItemBrands','setItemWarehouses','hidden','disabled','.unitSelect','622840pNgiiy','indexOf','setPrice','_branch_container','newItem_images_container','parse','modalProductNewTitle','setCost','5648034MUZprQ','newItem_proditems_container','children','inputItemBarCode','setWarehouseName','createElement','remove-tag','tag','2225832jLmEgD','checked','file','selectedItem','eqInput','.branchChk','newItem_btn_addProdItem','setItemCode','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','.variantCode','remove-file','dragover','addEventListener','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','100','arrayBuffer','_units_container','setWarehouseCode','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','join','setItemInventoriable','#newItem_brands_select\x20.options_list','priceInput','setItemDescription','max','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','toggle','setItemCategories','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.options_list','inputItemType','variantForm','#newItem_categories_select\x20.options_list','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','Ingresa\x20el\x20código\x20del\x20item','setTaxIdDefault','setWarehouseId','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','stopPropagation','<img\x20src=\x22','length','flatMap','setItemUnits','.unitAlias','search','variant_','.costInput','offline_operations','unitSelect','setUnidad','getElementById','base','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','true','.drop-zone__prompt','setItemDateExpiry','.variantExpiry','warn','textContent','contains','[data-idx=\x22','innerHTML','keydown','setDefault','findIndex','option','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','.removeGroup','selectionChange','setItemTaxId','objectStore','every','info','setUnitPresentationId','newItem_title_table_cp','_comp_container','4203536pozrmT','inputItemTax','preventDefault','(((.+)+)+)+$','</div>','.branchInit','currentTarget','none','.prodQty','setItemFree','setEquivalence','\x22\x20class=\x22branchChk\x22>\x20','setCantidad','setItemComponents','newItem_units_container','from','setImpuestoCode','active','.priceInput','Collator','done','__proto__','key','setItemId','newItem_chk_sell','map','setItemBarCode','display','.prodInput','5vjUIcs','setStockInitial','find','costInput','3tKhuIW','getElementsByClassName','trim','onerror','setItemIsBought','parentNode','.eqInput','toLowerCase','type','includes','1223238ZThELb','status','./js/apierp_item_wk.min.js','percent','setAuthToken','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setName','input','target','newItem_chk_buy','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','closest'];_0x5bd6=function(){return _0x6e5e5b;};return _0x5bd6();}function updateUnitsArray(){var _0x2e527d=_0x130412,_0x523354=[],_0xa12c41=Array[_0x2e527d(0x271)](document[_0x2e527d(0x2b9)](_0x2e527d(0x2a3))),_0xf1ad91=_0xa12c41['find'](_0x351e1c=>_0x351e1c[_0x2e527d(0x1ba)][_0x2e527d(0x1c4)]===_0x2e527d(0x24b)),_0x5a34fe=_0xf1ad91?+_0xf1ad91[_0x2e527d(0x1bc)]('.eqInput')[_0x2e527d(0x1e5)]:0x1;_0xa12c41[_0x2e527d(0x1d6)](function(_0x43cf9f){var _0x18aca2=_0x2e527d,_0x540c0d=+_0x43cf9f[_0x18aca2(0x1bc)](_0x18aca2(0x289))[_0x18aca2(0x1e5)]||0x0,_0x2e7e9c=+_0x43cf9f[_0x18aca2(0x1bc)](_0x18aca2(0x274))[_0x18aca2(0x1e5)]||0x0,_0x428495=+_0x43cf9f[_0x18aca2(0x1bc)]('.costInput')['value']||0x0;_0x523354[_0x18aca2(0x1d5)]({'setAlias':_0x43cf9f['querySelector'](_0x18aca2(0x241))[_0x18aca2(0x1e5)][_0x18aca2(0x285)](),'setUnitCode':_0x43cf9f[_0x18aca2(0x1bc)]('.unitSelect')[_0x18aca2(0x1e5)],'setEquivalence':_0x540c0d,'setFactor':_0x43cf9f[_0x18aca2(0x1ba)][_0x18aca2(0x1c4)]===_0x18aca2(0x24b)?0x1:_0x540c0d==_0x5a34fe?0x1:_0x540c0d<_0x5a34fe?_0x5a34fe/_0x540c0d:_0x540c0d/_0x5a34fe,'setPrice':_0x2e7e9c,'setCost':_0x428495,'setDefault':_0x43cf9f[_0x18aca2(0x1ba)][_0x18aca2(0x1c4)]===_0x18aca2(0x24b)?0x1:0x0});}),baseItem[_0x2e527d(0x240)]=_0x523354;}function updateBranches(){var _0x3e61c8=_0x130412,_0x262a91=[];document['querySelectorAll'](_0x3e61c8(0x1ae))[_0x3e61c8(0x1d6)](function(_0x248046){var _0x6ce8d2=_0x3e61c8,_0x633e8d=_0x248046[_0x6ce8d2(0x1bc)](_0x6ce8d2(0x21b));if(_0x633e8d['checked']){var _0x259028=+_0x633e8d['dataset']['id'],_0x38867c=+_0x248046[_0x6ce8d2(0x1bc)](_0x6ce8d2(0x267))['value'],_0x14fbf7=+_0x248046[_0x6ce8d2(0x1bc)]('.branchMin')[_0x6ce8d2(0x1e5)];_0x262a91[_0x6ce8d2(0x1d5)]({'setWarehouseCode':_0x259028,'setStockInitial':_0x38867c,'setStockMinimum':_0x14fbf7});}}),baseItem[_0x3e61c8(0x202)]=_0x262a91;}document[_0x130412(0x248)](_0x130412(0x21c))[_0x130412(0x222)](_0x130412(0x1eb),function(){var _0x5f5120=_0x130412,_0x56da05=Date[_0x5f5120(0x2b3)](),_0x370362=document['createElement']('div');_0x370362[_0x5f5120(0x1ba)][_0x5f5120(0x1d4)]=_0x56da05,_0x370362[_0x5f5120(0x253)]=_0x5f5120(0x22f)+_0x56da05+_0x5f5120(0x223)+_0x56da05+_0x5f5120(0x292),prodC['appendChild'](_0x370362),initProdSearch(_0x370362[_0x5f5120(0x1bc)](_0x5f5120(0x1f0))),_0x370362[_0x5f5120(0x1bc)](_0x5f5120(0x1e3))['addEventListener'](_0x5f5120(0x1eb),function(){var _0x419e06=_0x5f5120;_0x370362[_0x419e06(0x1ec)](),updateProdItems();}),_0x370362[_0x5f5120(0x1bc)]('.prodQty')[_0x5f5120(0x222)](_0x5f5120(0x294),updateProdItems),document[_0x5f5120(0x248)]('newItem_title_table_cp')[_0x5f5120(0x2a5)][_0x5f5120(0x230)]('newItem_title_table',!![]),document[_0x5f5120(0x248)]('newItem_title_table_cp')[_0x5f5120(0x2a5)]['toggle']('newItem_hidden',![]);});function initProdSearch(_0x3f66d9,_0x2f0a65){var _0x556b7e=_0x130412,_0x375b0b=_0x3f66d9[_0x556b7e(0x1bc)](_0x556b7e(0x27e)),_0x173908=_0x3f66d9[_0x556b7e(0x1bc)](_0x556b7e(0x233)),_0x394324=_0x2f0a65||null;if(_0x2f0a65)_0x375b0b['value']=_0x2f0a65[_0x556b7e(0x2be)];_0x375b0b['addEventListener'](_0x556b7e(0x294),function(){var _0x3f3e33=_0x556b7e,_0x45ea02=_0x375b0b[_0x3f3e33(0x1e5)][_0x3f3e33(0x28a)]()[_0x3f3e33(0x285)]();_0x173908[_0x3f3e33(0x253)]='';if(!_0x45ea02)return;products[_0x3f3e33(0x1b4)](_0x473c6f=>_0x473c6f['setDescripcion']['toLowerCase']()[_0x3f3e33(0x28c)](_0x45ea02))[_0x3f3e33(0x1e9)](0x0,0x14)[_0x3f3e33(0x1d6)](function(_0x584fe9){var _0x3672c4=_0x3f3e33,_0x16b494=document[_0x3672c4(0x213)]('div');_0x16b494['textContent']=_0x584fe9[_0x3672c4(0x1ce)],_0x16b494['dataset']['id']=_0x584fe9['id'],_0x16b494[_0x3672c4(0x1ba)][_0x3672c4(0x2be)]=_0x584fe9[_0x3672c4(0x1ce)],_0x173908[_0x3672c4(0x2b4)](_0x16b494),_0x16b494[_0x3672c4(0x222)](_0x3672c4(0x1eb),function(){var _0xbb298d=_0x3672c4;_0x394324={'id':_0x584fe9['id'],'name':_0x584fe9[_0xbb298d(0x1ce)]},_0x375b0b[_0xbb298d(0x1e5)]=_0x584fe9[_0xbb298d(0x1ce)],_0x173908['innerHTML']='';var _0x5bf372=_0x3f66d9[_0xbb298d(0x298)](_0xbb298d(0x1b9));if(_0x5bf372){var _0x1143b1=+_0x5bf372['id'][_0xbb298d(0x29e)]('_')[0x1];updateVariantComponents(_0x1143b1);}else updateProdItems();});});}),_0x375b0b[_0x556b7e(0x222)]('focus',function(){var _0x24cd00=_0x556b7e;_0x173908['classList'][_0x24cd00(0x1ec)](_0x24cd00(0x2a6));}),document[_0x556b7e(0x222)]('click',function(_0x346d02){var _0x55b7b5=_0x556b7e;if(!_0x3f66d9[_0x55b7b5(0x251)](_0x346d02[_0x55b7b5(0x295)]))_0x173908[_0x55b7b5(0x2a5)][_0x55b7b5(0x2a2)](_0x55b7b5(0x2a6));}),Object[_0x556b7e(0x1a7)](_0x3f66d9,_0x556b7e(0x219),{'get':()=>_0x394324});}function updateProdItems(){var _0x182116=_0x130412,_0x2b44a8=[];Array[_0x182116(0x271)](prodC[_0x182116(0x210)])['forEach'](function(_0x76e3ad){var _0x4ce63d=_0x182116,_0x48c9eb=_0x76e3ad[_0x4ce63d(0x1bc)](_0x4ce63d(0x1f0));if(!_0x48c9eb)return;var _0x22ee02=_0x76e3ad[_0x4ce63d(0x1bc)](_0x4ce63d(0x26a)),_0x313346=_0x48c9eb[_0x4ce63d(0x219)];_0x313346&&_0x2b44a8[_0x4ce63d(0x1d5)]({'setItemId':_0x313346['id'],'setDescripcion':_0x313346['name'],'setCantidad':+_0x22ee02[_0x4ce63d(0x1e5)]});}),baseItem['setItemComponents']=_0x2b44a8,_0x2b44a8[_0x182116(0x23e)]===0x0&&(document[_0x182116(0x248)](_0x182116(0x260))[_0x182116(0x2a5)][_0x182116(0x230)]('newItem_title_table',![]),document[_0x182116(0x248)](_0x182116(0x260))[_0x182116(0x2a5)][_0x182116(0x230)](_0x182116(0x2a6),!![]));}document[_0x130412(0x248)](_0x130412(0x1b8))[_0x130412(0x222)](_0x130412(0x1eb),function(){var _0x2927d6=_0x130412,_0x1c167b=vgCount++,_0x147a60=document['createElement'](_0x2927d6(0x1aa));_0x147a60[_0x2927d6(0x1ba)][_0x2927d6(0x1d4)]=_0x1c167b,_0x147a60['innerHTML']=_0x2927d6(0x2af)+_0x1c167b+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x1c167b+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x2927d6(0x2b4)](_0x147a60),_0x147a60[_0x2927d6(0x1bc)](_0x2927d6(0x1cc))[_0x2927d6(0x222)]('blur',generateVariants),_0x147a60[_0x2927d6(0x1bc)]('.vgVals')[_0x2927d6(0x222)]('blur',generateVariants),_0x147a60['querySelector'](_0x2927d6(0x259))['addEventListener']('click',function(){var _0x2b5369=_0x2927d6;_0x147a60[_0x2b5369(0x1ec)](),generateVariants();});});function generateVariants(){var _0x573323=_0x130412,_0x210040=[];vgC['querySelectorAll'](_0x573323(0x1aa))[_0x573323(0x1d6)](function(_0x3a0db1){var _0x5a6243=_0x573323,_0x34f2d7=_0x3a0db1[_0x5a6243(0x1bc)](_0x5a6243(0x1cc))[_0x5a6243(0x1e5)][_0x5a6243(0x285)](),_0x51b572=_0x3a0db1[_0x5a6243(0x1bc)](_0x5a6243(0x2a9))[_0x5a6243(0x1e5)][_0x5a6243(0x29e)](',')[_0x5a6243(0x27b)](_0x1882d6=>_0x1882d6[_0x5a6243(0x285)]())[_0x5a6243(0x1b4)](_0x56918d=>_0x56918d);if(_0x34f2d7&&_0x51b572['length'])_0x210040[_0x5a6243(0x1d5)]({'name':_0x34f2d7,'vals':_0x51b572});});var _0x2ab439=[{}];_0x210040[_0x573323(0x1d6)](function(_0x4338e4){var _0x1b66fe=_0x573323;_0x2ab439=_0x2ab439[_0x1b66fe(0x23f)](function(_0x551271){var _0x10158e=_0x1b66fe;return _0x4338e4['vals'][_0x10158e(0x27b)](function(_0x4e83ea){var _0x6236df=_0x10158e,_0x157090=Object['assign']({},_0x551271);return _0x157090[_0x4338e4[_0x6236df(0x2be)]]=_0x4e83ea,_0x157090;});});}),newItems=[],varContainer[_0x573323(0x253)]='',_0x2ab439[_0x573323(0x1d6)](function(_0x3a11fe,_0x55ceac){var _0x2cb851=_0x573323,_0x90c5e7=JSON[_0x2cb851(0x20b)](JSON['stringify'](baseItem));_0x90c5e7[_0x2cb851(0x1d1)]=_0x3a11fe,_0x90c5e7[_0x2cb851(0x1b2)]=baseItem[_0x2cb851(0x1c7)]+'\x20'+Object['entries'](_0x3a11fe)[_0x2cb851(0x27b)](_0x413bab=>_0x413bab[0x0]+'\x20'+_0x413bab[0x1])[_0x2cb851(0x229)]('\x20'),newItems[_0x2cb851(0x1d5)](_0x90c5e7);var _0x240148=document[_0x2cb851(0x213)](_0x2cb851(0x1aa));_0x240148[_0x2cb851(0x2a5)][_0x2cb851(0x2a2)](_0x2cb851(0x235)),_0x240148[_0x2cb851(0x1ba)][_0x2cb851(0x1d4)]=_0x55ceac,_0x240148[_0x2cb851(0x253)]=_0x2cb851(0x1b6)+_0x90c5e7[_0x2cb851(0x1b2)]+_0x2cb851(0x1a6)+_0x90c5e7['setItemCode']+_0x2cb851(0x29c)+_0x90c5e7[_0x2cb851(0x27c)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x90c5e7['setItemDateExpiry']+_0x2cb851(0x1ca)+_0x55ceac+_0x2cb851(0x2ad)+_0x55ceac+_0x2cb851(0x1c2)+_0x55ceac+_0x2cb851(0x2b5),varContainer[_0x2cb851(0x2b4)](_0x240148),_0x240148['querySelector'](_0x2cb851(0x21f))[_0x2cb851(0x222)](_0x2cb851(0x294),_0x2ce519=>newItems[_0x55ceac][_0x2cb851(0x21d)]=_0x2ce519['target'][_0x2cb851(0x1e5)]),_0x240148[_0x2cb851(0x1bc)]('.variantBarCode')[_0x2cb851(0x222)]('input',_0x4e762d=>newItems[_0x55ceac][_0x2cb851(0x27c)]=_0x4e762d[_0x2cb851(0x295)][_0x2cb851(0x1e5)]),_0x240148[_0x2cb851(0x1bc)](_0x2cb851(0x24e))['addEventListener'](_0x2cb851(0x2ab),_0xa136f7=>newItems[_0x55ceac]['setItemDateExpiry']=_0xa136f7[_0x2cb851(0x295)]['value']),initVariantUnits(_0x55ceac),initVariantComponents(_0x55ceac),initVariantBranches(_0x55ceac),_0x240148['querySelector'](_0x2cb851(0x2a7))['addEventListener']('click',function(){var _0x2a2af6=_0x2cb851,_0x516ec0=+_0x240148['dataset'][_0x2a2af6(0x1d4)];newItems['splice'](_0x516ec0,0x1),_0x240148[_0x2a2af6(0x1ec)](),document[_0x2a2af6(0x2b9)]('.variantForm')[_0x2a2af6(0x1d6)](function(_0x309948,_0x1d6aae){var _0x5c615a=_0x2a2af6;_0x309948[_0x5c615a(0x1ba)][_0x5c615a(0x1d4)]=_0x1d6aae;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0xb6ff71){var _0x5875c2=_0x130412,_0x176d62=document[_0x5875c2(0x248)](_0x5875c2(0x243)+_0xb6ff71+_0x5875c2(0x226)),_0x3b252a=[];Array[_0x5875c2(0x271)](_0x176d62[_0x5875c2(0x210)])[_0x5875c2(0x1d6)](function(_0x30ef3c){var _0x408c23=_0x5875c2,_0x2e9b20=+_0x30ef3c[_0x408c23(0x1bc)](_0x408c23(0x289))['value']||0x0,_0x167d30=_0x30ef3c[_0x408c23(0x1bc)]('.unitAlias')['value']['trim'](),_0x3c7d3b=_0x30ef3c[_0x408c23(0x1bc)](_0x408c23(0x205))['value'],_0x1be29e=+_0x30ef3c[_0x408c23(0x1bc)](_0x408c23(0x274))['value']||0x0,_0x1772d5=+_0x30ef3c['querySelector']('.costInput')[_0x408c23(0x1e5)]||0x0,_0x2e29e2=_0x30ef3c[_0x408c23(0x1ba)][_0x408c23(0x1c4)]===_0x408c23(0x24b),_0x3786bd=+_0x176d62['querySelector']('div[data-default=\x22true\x22]\x20.eqInput')[_0x408c23(0x1e5)]||0x1,_0x2cc19e=_0x2e29e2?0x1:_0x2e9b20==_0x3786bd?0x1:_0x2e9b20<_0x3786bd?_0x3786bd/_0x2e9b20:_0x2e9b20/_0x3786bd;_0x3b252a['push']({'setAlias':_0x167d30,'setUnitCode':_0x3c7d3b,'setEquivalence':_0x2e9b20,'setFactor':_0x2cc19e,'setPrice':_0x1be29e,'setCost':_0x1772d5,'setDefault':_0x2e29e2?0x1:0x0});}),newItems[_0xb6ff71][_0x5875c2(0x240)]=_0x3b252a;}function initVariantUnits(_0x787fbf){var _0x4e6e4b=_0x130412,_0x4d7647=document['getElementById'](_0x4e6e4b(0x243)+_0x787fbf+_0x4e6e4b(0x226));_0x4d7647[_0x4e6e4b(0x253)]='',newItems[_0x787fbf]['setItemUnits'][_0x4e6e4b(0x1d6)](function(_0x2ed0e8){var _0x24447d=_0x4e6e4b;addUnit(_0x2ed0e8[_0x24447d(0x1a0)],_0x2ed0e8[_0x24447d(0x1c6)],_0x2ed0e8[_0x24447d(0x26c)],_0x2ed0e8[_0x24447d(0x255)],_0x2ed0e8['setPrice'],_0x2ed0e8[_0x24447d(0x20d)],_0x4d7647);}),_0x4d7647['parentNode'][_0x4e6e4b(0x1bc)]('.addVariantUnit')['addEventListener'](_0x4e6e4b(0x1eb),function(){addUnit('','',0x1,![],'','',_0x4d7647),updateVariantUnits(_0x787fbf);});}function updateVariantUnits(_0x5371a9){var _0x2781c1=_0x130412,_0x17bef6=document[_0x2781c1(0x248)]('variant_'+_0x5371a9+_0x2781c1(0x226)),_0x422004=_0x17bef6[_0x2781c1(0x1bc)]('div[data-default=\x22true\x22]\x20.eqInput'),_0x64a674=_0x422004?+_0x422004[_0x2781c1(0x1e5)]:0x1,_0x532918=Array[_0x2781c1(0x271)](_0x17bef6['children'])[_0x2781c1(0x27b)](function(_0x415c68){var _0x4b260b=_0x2781c1,_0x35cf90=_0x415c68[_0x4b260b(0x1bc)](_0x4b260b(0x241))[_0x4b260b(0x1e5)][_0x4b260b(0x285)](),_0x5715b4=_0x415c68[_0x4b260b(0x1bc)](_0x4b260b(0x205))[_0x4b260b(0x1e5)],_0x532abb=+_0x415c68[_0x4b260b(0x1bc)](_0x4b260b(0x289))[_0x4b260b(0x1e5)]||0x0,_0x23d5e1=+_0x415c68[_0x4b260b(0x1bc)]('.priceInput')['value']||0x0,_0x2881d2=+_0x415c68[_0x4b260b(0x1bc)](_0x4b260b(0x244))[_0x4b260b(0x1e5)]||0x0,_0x5b5f4c=_0x415c68[_0x4b260b(0x1ba)][_0x4b260b(0x1c4)]==='true';return{'setAlias':_0x35cf90,'setUnitCode':_0x5715b4,'setEquivalence':_0x532abb,'setFactor':_0x5b5f4c?0x1:_0x532abb==_0x64a674?0x1:_0x532abb<_0x64a674?_0x64a674/_0x532abb:_0x532abb/_0x64a674,'setPrice':_0x23d5e1,'setCost':_0x2881d2,'setDefault':_0x5b5f4c?0x1:0x0};});newItems[_0x5371a9][_0x2781c1(0x240)]=_0x532918;}function initVariantComponents(_0x20c77e){var _0x5126a8=_0x130412,_0x3fd854=document[_0x5126a8(0x248)]('variant_'+_0x20c77e+'_comp_container');_0x3fd854[_0x5126a8(0x253)]='',newItems[_0x20c77e][_0x5126a8(0x26f)][_0x5126a8(0x1d6)](function(_0x4e07a0){var _0x4a976f=_0x5126a8,_0x417d9a=document['createElement']('div'),_0x327b71=Date[_0x4a976f(0x2b3)]();_0x417d9a[_0x4a976f(0x1ba)]['idx']=_0x327b71,_0x417d9a['innerHTML']=_0x4a976f(0x228)+_0x327b71+_0x4a976f(0x2a4)+_0x4e07a0[_0x4a976f(0x26e)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3fd854[_0x4a976f(0x2b4)](_0x417d9a),initProdSearch(_0x417d9a[_0x4a976f(0x1bc)]('.prod_input_container'),{'id':_0x4e07a0[_0x4a976f(0x279)],'name':_0x4e07a0[_0x4a976f(0x1ce)]}),_0x417d9a[_0x4a976f(0x1bc)]('.prodQty')[_0x4a976f(0x222)](_0x4a976f(0x294),function(){updateVariantComponents(_0x20c77e);}),_0x417d9a[_0x4a976f(0x1bc)](_0x4a976f(0x1fc))[_0x4a976f(0x222)](_0x4a976f(0x1eb),function(){var _0x54fd38=_0x4a976f;_0x417d9a[_0x54fd38(0x1ec)](),updateVariantComponents(_0x20c77e);});}),_0x3fd854[_0x5126a8(0x288)][_0x5126a8(0x1bc)](_0x5126a8(0x1e0))[_0x5126a8(0x222)](_0x5126a8(0x1eb),function(){var _0x1dc677=_0x5126a8,_0x502d8c=document[_0x1dc677(0x213)](_0x1dc677(0x1aa)),_0x46e7f6=Date[_0x1dc677(0x2b3)]();_0x502d8c[_0x1dc677(0x1ba)][_0x1dc677(0x1d4)]=_0x46e7f6,_0x502d8c[_0x1dc677(0x253)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x46e7f6+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3fd854['appendChild'](_0x502d8c),initProdSearch(_0x502d8c[_0x1dc677(0x1bc)](_0x1dc677(0x1f0))),_0x502d8c[_0x1dc677(0x1bc)]('.prodQty')[_0x1dc677(0x222)](_0x1dc677(0x294),function(){updateVariantComponents(_0x20c77e);}),_0x502d8c[_0x1dc677(0x1bc)](_0x1dc677(0x1fc))[_0x1dc677(0x222)]('click',function(){var _0x20374f=_0x1dc677;_0x502d8c[_0x20374f(0x1ec)](),updateVariantComponents(_0x20c77e);});});}function updateVariantComponents(_0x397c88){var _0x2214d4=_0x130412,_0x23a46d=document[_0x2214d4(0x248)]('variant_'+_0x397c88+_0x2214d4(0x261)),_0x38c785=Array['from'](_0x23a46d['children'])[_0x2214d4(0x27b)](function(_0x3acadc){var _0x44dd22=_0x2214d4,_0x28ea0f=_0x3acadc[_0x44dd22(0x1bc)](_0x44dd22(0x1f0)),_0x438d16=_0x28ea0f[_0x44dd22(0x219)],_0xd91c5e=+_0x3acadc[_0x44dd22(0x1bc)](_0x44dd22(0x26a))[_0x44dd22(0x1e5)]||0x0;return _0x438d16?{'setItemId':_0x438d16['id'],'setDescripcion':_0x438d16[_0x44dd22(0x2be)],'setCantidad':_0xd91c5e}:null;})['filter'](_0x4fad3f=>_0x4fad3f);newItems[_0x397c88][_0x2214d4(0x26f)]=_0x38c785;}function initVariantBranches(_0x1cbdd0){var _0x3fd52e=_0x130412;const _0x3d8f9a=getAllWarehouses();var _0x3d0309=document[_0x3fd52e(0x248)](_0x3fd52e(0x243)+_0x1cbdd0+'_branch_container');_0x3d0309[_0x3fd52e(0x253)]='',newItems[_0x1cbdd0][_0x3fd52e(0x202)][_0x3fd52e(0x1d6)](function(_0x5d041a){var _0x54b37d=_0x3fd52e,_0xe1a660=_0x3d8f9a[_0x54b37d(0x281)](_0x249502=>_0x249502[_0x54b37d(0x23a)]==_0x5d041a[_0x54b37d(0x227)]),_0x6566b7=document[_0x54b37d(0x213)](_0x54b37d(0x1aa));_0x6566b7[_0x54b37d(0x253)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x5d041a[_0x54b37d(0x227)]+_0x54b37d(0x1bd)+_0xe1a660['setWarehouseName']+_0x54b37d(0x232)+_0x5d041a[_0x54b37d(0x227)]+'\x22\x20value=\x22'+_0x5d041a['setStockInitial']+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x5d041a[_0x54b37d(0x227)]+_0x54b37d(0x2aa)+_0x5d041a[_0x54b37d(0x1dd)]+'\x22>',_0x3d0309[_0x54b37d(0x2b4)](_0x6566b7),_0x6566b7[_0x54b37d(0x2b9)]('input')[_0x54b37d(0x1d6)](function(_0xc85bf2){var _0x1f08b1=_0x54b37d;_0xc85bf2[_0x1f08b1(0x222)](_0x1f08b1(0x294),function(){updateVariantBranches(_0x1cbdd0);});});}),_0x3d8f9a[_0x3fd52e(0x1d6)](function(_0x562c06){var _0x1c86ed=_0x3fd52e;if(!newItems[_0x1cbdd0][_0x1c86ed(0x202)]['find'](_0x128156=>_0x128156[_0x1c86ed(0x227)]===_0x562c06[_0x1c86ed(0x23a)])){var _0x5cdd94=document[_0x1c86ed(0x213)](_0x1c86ed(0x1aa));_0x5cdd94[_0x1c86ed(0x253)]=_0x1c86ed(0x237)+_0x562c06[_0x1c86ed(0x23a)]+_0x1c86ed(0x26d)+_0x562c06[_0x1c86ed(0x212)]+_0x1c86ed(0x232)+_0x562c06[_0x1c86ed(0x23a)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x562c06['setWarehouseId']+'\x22>',_0x3d0309['appendChild'](_0x5cdd94),_0x5cdd94[_0x1c86ed(0x2b9)](_0x1c86ed(0x294))['forEach'](function(_0x529c03){var _0x2fec0c=_0x1c86ed;_0x529c03[_0x2fec0c(0x222)](_0x2fec0c(0x294),function(){updateVariantBranches(_0x1cbdd0);});});}});}function updateVariantBranches(_0x18d3de){var _0x883f32=_0x130412,_0x1a4545=document[_0x883f32(0x248)](_0x883f32(0x243)+_0x18d3de+_0x883f32(0x209)),_0x423ec6=[];_0x1a4545[_0x883f32(0x2b9)](_0x883f32(0x1aa))[_0x883f32(0x1d6)](function(_0x11c886){var _0x44feef=_0x883f32,_0x2ccf79=_0x11c886['querySelector']('.branchChk');if(_0x2ccf79[_0x44feef(0x217)]){var _0x270101=+_0x2ccf79[_0x44feef(0x1ba)]['id'],_0x303add=+_0x11c886[_0x44feef(0x1bc)](_0x44feef(0x267))[_0x44feef(0x1e5)]||0x0,_0x18778e=+_0x11c886['querySelector'](_0x44feef(0x2a0))['value']||0x0;_0x423ec6['push']({'setWarehouseCode':_0x270101,'setStockInitial':_0x303add,'setStockMinimum':_0x18778e});}}),newItems[_0x18d3de][_0x883f32(0x202)]=_0x423ec6;}async function storeOfflineProduct(_0x3549ce){var _0x30c1b0=_0x130412;try{const _0x3070bd=await createCartStore(''),_0x9b3e77=_0x3070bd['transaction'](_0x30c1b0(0x245),'readwrite'),_0x317d8b=_0x9b3e77[_0x30c1b0(0x25c)](_0x30c1b0(0x245));_0x317d8b['add'](_0x3549ce),_0x9b3e77[_0x30c1b0(0x2bd)]=()=>{var _0x2f232a=_0x30c1b0;console[_0x2f232a(0x1e8)](_0x2f232a(0x1ed));},_0x9b3e77[_0x30c1b0(0x286)]=_0x1f5dbc=>{var _0x35ed3=_0x30c1b0;console[_0x35ed3(0x1f5)](_0x35ed3(0x2a8),_0x1f5dbc[_0x35ed3(0x295)]['error']);};}catch(_0x775af5){console[_0x30c1b0(0x1f5)](_0x30c1b0(0x29a),_0x775af5);}}document['getElementById']('btnItemSave')['addEventListener'](_0x130412(0x1eb),async function(_0x5f3d94){var _0x3bc39a=_0x130412;_0x5f3d94[_0x3bc39a(0x264)]();const _0x191c66=document[_0x3bc39a(0x248)](_0x3bc39a(0x1cf)),_0x3a155c=document[_0x3bc39a(0x248)](_0x3bc39a(0x26b))['value'];if(!_0x191c66[_0x3bc39a(0x1e5)][_0x3bc39a(0x285)]()&&_0x3a155c==0x0){ntfShow(_0x3bc39a(0x238),0x2,0x1);return;}_0x3a155c==0x1&&(_0x191c66[_0x3bc39a(0x1e5)]='',baseItem[_0x3bc39a(0x21d)]='');const _0x382663=document['getElementById']('inputItemName');if(!_0x382663[_0x3bc39a(0x1e5)]['trim']()){ntfShow(_0x3bc39a(0x29b),0x2,0x1);return;}const _0xe75019=document['getElementById']('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x3bc39a(0x23e)]===0x0&&(newItems=[baseItem]);const _0x3fa313=document[_0x3bc39a(0x248)](_0x3bc39a(0x1de))[_0x3bc39a(0x1e5)],_0xd304c6=window_options[_0x3fa313][_0x3bc39a(0x1e1)];let _0x51a00c=generateNumericUniqId()*0x64+0x1f4,_0x14c1fc=generateNumericUniqId()*0xa;const _0xc4659f=[];newItems[_0x3bc39a(0x1d6)](_0x3b1567=>{var _0x10f00f=_0x3bc39a;const _0x453c8f=++_0x14c1fc;_0x3b1567[_0x10f00f(0x240)][_0x10f00f(0x1d6)](_0x1bc441=>{var _0x4060a6=_0x10f00f;const _0x48308b=++_0x51a00c;_0x1bc441[_0x4060a6(0x25f)]=_0x48308b;const _0xe99a30={'id':_0x48308b,'setIdProducto':_0x453c8f,'setCodProducto':_0x3b1567[_0x4060a6(0x21d)],'setDescripcion':_0x3b1567[_0x4060a6(0x1b2)]!=''?_0x3b1567[_0x4060a6(0x1b2)]:_0x3b1567['setItemName'],'setItemDescription':_0x3b1567[_0x4060a6(0x22d)],'setBatchExpirationDate':_0x3b1567['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x3b1567[_0x4060a6(0x231)][0x0]||'','setMarca':_0x3b1567[_0x4060a6(0x201)][0x0]||'','setConversionFactor':parseFloat(_0x1bc441['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x3b1567[_0x4060a6(0x287)]?0x1:0x0,'setItemIsSold':_0x3b1567[_0x4060a6(0x1fa)]?0x1:0x0,'setPorcentajeIgv':_0x3b1567[_0x4060a6(0x1ab)],'setPrinters':[],'setTaxId':_0x3b1567[_0x4060a6(0x25b)],'setTipAfeIgv':_0x3b1567[_0x4060a6(0x1c0)],'setUnidad':_0x1bc441[_0x4060a6(0x1c6)],'setUnidadCodigo':_0x1bc441[_0x4060a6(0x1c6)],'setItemUnitAlias':_0x1bc441[_0x4060a6(0x1a0)],'currency_data':[{'currency':_0xd304c6,'setMtoPrecioCostoUnitario':_0x1bc441['setCost'],'setMtoPrecioUnitario':_0x1bc441[_0x4060a6(0x208)],'setPriceLists':[]}],'sucursales':_0x3b1567[_0x4060a6(0x202)][_0x4060a6(0x27b)](_0x185603=>({'setIdSucursal':_0x185603['setWarehouseCode'],'setSucursalStock':_0x185603[_0x4060a6(0x280)]['toString'](),'setWarehouseStockMin':_0x185603[_0x4060a6(0x1dd)][_0x4060a6(0x1d8)]()})),'setItemFree':_0x3b1567[_0x4060a6(0x26b)],'setItemBarCode':_0x3b1567[_0x4060a6(0x27c)],'setItemBrands':_0x3b1567[_0x4060a6(0x201)][_0x4060a6(0x1e9)](),'setItemCategories':_0x3b1567[_0x4060a6(0x231)][_0x4060a6(0x1e9)](),'setItemComponents':_0x3b1567[_0x4060a6(0x26f)][_0x4060a6(0x27b)](_0x50ca52=>({..._0x50ca52})),'setItemImages':_0x3b1567[_0x4060a6(0x1a2)]['slice'](),'setItemVariantName':_0x3b1567[_0x4060a6(0x1b2)],'setItemVariantValues':{..._0x3b1567[_0x4060a6(0x1d1)]}};_0xc4659f[_0x4060a6(0x1d5)](_0xe99a30),(_0xe75019[_0x4060a6(0x217)]||_0x3a155c==0x1)&&addToCart(_0xe99a30);});}),console[_0x3bc39a(0x1e8)]('Items\x20finales:',newItems),await finalizeImport(_0xc4659f,newItems,![]);}),[_0x130412(0x200),_0x130412(0x221)]['forEach'](_0x1620f9=>dropZone[_0x130412(0x222)](_0x1620f9,_0x340ca0=>{var _0x4b7f78=_0x130412;_0x340ca0[_0x4b7f78(0x264)](),dropZone['classList'][_0x4b7f78(0x2a2)](_0x4b7f78(0x221));})),['dragleave',_0x130412(0x2b6)][_0x130412(0x1d6)](_0x53acfd=>dropZone[_0x130412(0x222)](_0x53acfd,_0x366614=>{var _0x370b4d=_0x130412;_0x366614['preventDefault'](),dropZone[_0x370b4d(0x2a5)][_0x370b4d(0x1ec)]('dragover');})),dropZone['addEventListener'](_0x130412(0x2b6),_0x1071f1=>{var _0x3b3bc9=_0x130412;const _0x2e0590=_0x1071f1[_0x3b3bc9(0x2b2)][_0x3b3bc9(0x29d)][0x0];if(!_0x2e0590)return;fileInput['files']=_0x1071f1[_0x3b3bc9(0x2b2)]['files'],dropZone[_0x3b3bc9(0x1bc)](_0x3b3bc9(0x24c))['textContent']=_0x2e0590[_0x3b3bc9(0x2be)],removeBtn[_0x3b3bc9(0x203)]=![],fileInput[_0x3b3bc9(0x1cb)](new Event(_0x3b3bc9(0x2ab)));}),removeBtn[_0x130412(0x222)](_0x130412(0x1eb),()=>{var _0x55bbbb=_0x130412;fileInput['value']='',dropZone[_0x55bbbb(0x1bc)](_0x55bbbb(0x24c))[_0x55bbbb(0x250)]=_0x55bbbb(0x258),removeBtn[_0x55bbbb(0x203)]=!![],progressBar[_0x55bbbb(0x1be)][_0x55bbbb(0x27d)]='none',statusDiv[_0x55bbbb(0x250)]='',uploadBtn['disabled']=!![];}),itemWorker[_0x130412(0x1fe)]=({data:_0xaefaaa})=>{var _0xfbfb8a=_0x130412;const {type:_0x197646,payload:_0x1b4980}=_0xaefaaa;_0x197646===_0xfbfb8a(0x19e)&&(progressBar[_0xfbfb8a(0x1be)][_0xfbfb8a(0x27d)]=_0xfbfb8a(0x2b7),progressBar[_0xfbfb8a(0x1e5)]=_0x1b4980[_0xfbfb8a(0x290)],statusDiv[_0xfbfb8a(0x250)]=_0x1b4980[_0xfbfb8a(0x1e2)]),_0x197646===_0xfbfb8a(0x276)&&(newItemsExcel=_0x1b4980['items'],statusDiv[_0xfbfb8a(0x250)]='✅\x20'+newItemsExcel[_0xfbfb8a(0x23e)]+_0xfbfb8a(0x1f2),uploadBtn['disabled']=![],progressBar[_0xfbfb8a(0x1e5)]=0x64,console['log'](newItemsExcel)),_0x197646===_0xfbfb8a(0x1f5)&&(statusDiv[_0xfbfb8a(0x250)]=_0xfbfb8a(0x1e4)+_0x1b4980,progressBar[_0xfbfb8a(0x1be)][_0xfbfb8a(0x27d)]='none');},fileInput[_0x130412(0x222)](_0x130412(0x2ab),async _0x6cc781=>{var _0x343d3d=_0x130412;const _0x412a3a=_0x6cc781[_0x343d3d(0x295)][_0x343d3d(0x29d)][0x0];if(!_0x412a3a)return;uploadBtn[_0x343d3d(0x204)]=!![],newItemsExcel=null,statusDiv[_0x343d3d(0x250)]='',progressBar[_0x343d3d(0x1be)][_0x343d3d(0x27d)]=_0x343d3d(0x269),dropZone['querySelector']('.drop-zone__prompt')[_0x343d3d(0x250)]=_0x412a3a['name'],removeBtn[_0x343d3d(0x203)]=![];try{const _0x3fc5fd=await _0x412a3a[_0x343d3d(0x225)]();itemWorker[_0x343d3d(0x1ea)]({'buf':_0x3fc5fd,'maxRows':0x1388});}catch(_0x26dd29){statusDiv['textContent']='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0x343d3d(0x1e5)]='';}}),uploadBtn[_0x130412(0x222)](_0x130412(0x1eb),async()=>{var _0x297e41=_0x130412;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x5e8263=document[_0x297e41(0x248)](_0x297e41(0x1de))[_0x297e41(0x1e5)],_0x4fc4b7=window_options[_0x5e8263]['setMoneda'],_0x4a69d0=document['getElementById'](_0x297e41(0x23a))[_0x297e41(0x1e5)];let _0xc8bf6=generateNumericUniqId()*0x64+0x1f4,_0x196b5b=generateNumericUniqId()*0xa;const _0x1f3d62=[];newItemsExcel[_0x297e41(0x1d6)](_0x310165=>{var _0x31a3bb=_0x297e41;const _0x48ca1b=++_0x196b5b;_0x310165[_0x31a3bb(0x202)]=[{'setStockInitial':_0x310165[_0x31a3bb(0x280)],'setStockMinimum':_0x310165[_0x31a3bb(0x1dd)],'setWarehouseCode':_0x4a69d0}],_0x310165[_0x31a3bb(0x240)]['forEach'](_0xfaf9c7=>{var _0x5a7c1c=_0x31a3bb;const _0x4d2d4a=++_0xc8bf6;_0xfaf9c7['setUnitPresentationId']=_0x4d2d4a;const _0x418143={'id':_0x4d2d4a,'setIdProducto':_0x48ca1b,'setCodProducto':_0x310165['setItemCode'],'setDescripcion':_0x310165[_0x5a7c1c(0x1b2)]||_0x310165[_0x5a7c1c(0x1c7)],'setItemDescription':_0x310165[_0x5a7c1c(0x22d)],'setBatchExpirationDate':_0x310165[_0x5a7c1c(0x24d)],'setBatchName':'','setCategoria':_0x310165[_0x5a7c1c(0x231)][0x0]||'','setMarca':_0x310165[_0x5a7c1c(0x201)][0x0]||'','setConversionFactor':parseFloat(_0xfaf9c7[_0x5a7c1c(0x1db)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x310165[_0x5a7c1c(0x22a)]?0x1:0x0,'setItemIsBought':_0x310165[_0x5a7c1c(0x287)]?0x1:0x0,'setItemIsSold':_0x310165[_0x5a7c1c(0x1fa)]?0x1:0x0,'setPorcentajeIgv':_0x310165['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x310165[_0x5a7c1c(0x25b)],'setTipAfeIgv':_0x310165[_0x5a7c1c(0x1c0)],'setUnidad':_0xfaf9c7['setUnitCode'],'setUnidadCodigo':_0xfaf9c7[_0x5a7c1c(0x1c6)],'currency_data':[{'currency':_0x4fc4b7,'setMtoPrecioCostoUnitario':_0xfaf9c7[_0x5a7c1c(0x20d)],'setMtoPrecioUnitario':_0xfaf9c7[_0x5a7c1c(0x208)],'setPriceLists':[]}],'sucursales':_0x310165[_0x5a7c1c(0x202)][_0x5a7c1c(0x27b)](_0x542857=>({'setIdSucursal':_0x542857[_0x5a7c1c(0x227)],'setSucursalStock':_0x542857['setStockInitial'][_0x5a7c1c(0x1d8)](),'setWarehouseStockMin':_0x542857[_0x5a7c1c(0x1dd)][_0x5a7c1c(0x1d8)]()})),'setItemFree':_0x310165[_0x5a7c1c(0x26b)],'setItemBarCode':_0x310165[_0x5a7c1c(0x27c)],'setItemBrands':_0x310165[_0x5a7c1c(0x201)][_0x5a7c1c(0x1e9)](),'setItemCategories':_0x310165[_0x5a7c1c(0x231)][_0x5a7c1c(0x1e9)](),'setItemComponents':_0x310165[_0x5a7c1c(0x26f)][_0x5a7c1c(0x27b)](_0x36bbb9=>({..._0x36bbb9})),'setItemImages':_0x310165[_0x5a7c1c(0x1a2)][_0x5a7c1c(0x1e9)](),'setItemVariantName':_0x310165['setItemVariantName'],'setItemVariantValues':{..._0x310165[_0x5a7c1c(0x1d1)]}};_0x1f3d62[_0x5a7c1c(0x1d5)](_0x418143);});}),console['log']('Items\x20finales:',newItems),await finalizeImport(_0x1f3d62,newItemsExcel,!![]);});function initializeFormImages(){var _0x3266fd=_0x130412;currentImages=Array(MAX_IMAGES)[_0x3266fd(0x1ee)](null),imgC['innerHTML']='',baseItem[_0x3266fd(0x1a2)]=[];for(var _0x2348af=0x0;_0x2348af<MAX_IMAGES;_0x2348af++){(function(_0x5f2b0e){var _0x477a21=_0x3266fd,_0x5047ba=document[_0x477a21(0x213)](_0x477a21(0x1aa));_0x5047ba[_0x477a21(0x1c9)]=_0x477a21(0x1b7),_0x5047ba[_0x477a21(0x1ba)][_0x477a21(0x1d4)]=_0x5f2b0e;var _0x38f425=document[_0x477a21(0x213)]('input');_0x38f425[_0x477a21(0x28b)]=_0x477a21(0x218),_0x38f425[_0x477a21(0x1c1)]=_0x477a21(0x1b5),_0x38f425['style'][_0x477a21(0x27d)]=_0x477a21(0x269);var _0x218874=document[_0x477a21(0x213)](_0x477a21(0x19d));_0x218874['textContent']='+',_0x5047ba[_0x477a21(0x2b4)](_0x38f425),_0x5047ba['appendChild'](_0x218874),imgC['appendChild'](_0x5047ba),_0x5047ba['addEventListener']('click',function(){var _0x99c586=_0x477a21;_0x38f425[_0x99c586(0x1eb)]();}),_0x38f425[_0x477a21(0x222)](_0x477a21(0x2ab),function(_0x398eff){var _0x4476f0=_0x477a21,_0x5a6594=_0x398eff[_0x4476f0(0x295)]['files'][0x0];if(!_0x5a6594)return removeImg(_0x5f2b0e);var _0x24a51e=new FileReader();_0x24a51e[_0x4476f0(0x1f8)]=function(_0x5c7589){var _0x5649f4=_0x4476f0;_0x5047ba[_0x5649f4(0x253)]=_0x5649f4(0x23d)+_0x5c7589[_0x5649f4(0x295)][_0x5649f4(0x1a1)]+'\x22>';var _0x34d586=document[_0x5649f4(0x213)]('span');_0x34d586[_0x5649f4(0x1c9)]=_0x5649f4(0x1ec),_0x34d586[_0x5649f4(0x250)]='×',_0x34d586['addEventListener'](_0x5649f4(0x1eb),function(_0x3d4caa){_0x3d4caa['stopPropagation'](),removeImg(_0x5f2b0e);}),_0x5047ba[_0x5649f4(0x2b4)](_0x34d586),currentImages[_0x5f2b0e]=_0x5a6594,baseItem[_0x5649f4(0x1a2)]=currentImages[_0x5649f4(0x1b4)](function(_0x102181){return _0x102181;});},_0x24a51e['readAsDataURL'](_0x5a6594);});}(_0x2348af));}}function initializeFormIsSoldIsBought(){var _0x496aed=_0x130412;document[_0x496aed(0x248)](_0x496aed(0x296))[_0x496aed(0x217)]=!![],document[_0x496aed(0x248)](_0x496aed(0x27a))[_0x496aed(0x217)]=!![],baseItem['setItemIsBought']=!![],baseItem[_0x496aed(0x1fa)]=!![];}function initializeFormInputsBasic(){var _0xba8fad=_0x130412;document[_0xba8fad(0x248)](_0xba8fad(0x234))[_0xba8fad(0x1e5)]='1',document['getElementById'](_0xba8fad(0x1cf))[_0xba8fad(0x1e5)]=getNextCode(products),document[_0xba8fad(0x248)](_0xba8fad(0x1a4))[_0xba8fad(0x1e5)]='',document[_0xba8fad(0x248)]('inputItemDescription')[_0xba8fad(0x1e5)]='',document[_0xba8fad(0x248)]('inputItemDateExpiry')[_0xba8fad(0x1e5)]='',document[_0xba8fad(0x248)]('inputItemBarCode')[_0xba8fad(0x1e5)]='',baseItem[_0xba8fad(0x1dc)]='1',baseItem[_0xba8fad(0x21d)]=getNextCode(products),baseItem['setItemName']='',baseItem[_0xba8fad(0x22d)]='',baseItem[_0xba8fad(0x24d)]='',baseItem[_0xba8fad(0x27c)]='',document[_0xba8fad(0x248)]('newItem_addToCart')[_0xba8fad(0x217)]=![];}function initializeFormTax(){var _0x541db4=_0x130412;const _0x29841c=myCompany[_0x541db4(0x239)],_0x4f1d64=document[_0x541db4(0x248)](_0x541db4(0x263));_0x4f1d64[_0x541db4(0x1e5)]=_0x29841c,baseItem[_0x541db4(0x25b)]=_0x29841c;const _0x3acb9c=company[0x0][_0x541db4(0x1b0)][_0x541db4(0x281)](_0xb5ab3=>_0xb5ab3[_0x541db4(0x1ad)]==_0x29841c)?.[_0x541db4(0x272)]||0x0,_0xe37e8=company[0x0][_0x541db4(0x1b0)]['find'](_0x3d1b59=>_0x3d1b59['setTaxId']==_0x29841c)?.[_0x541db4(0x1d9)]||0x0;baseItem['setItemTaxCode']=_0x3acb9c,baseItem['setItemTaxValue']=_0xe37e8;}function initializeFormCategoriesBrands(){var _0x255f11=_0x130412;baseItem[_0x255f11(0x231)]=[],baseItem[_0x255f11(0x201)]=[],document[_0x255f11(0x1bc)](_0x255f11(0x1f6))[_0x255f11(0x253)]='',document[_0x255f11(0x1bc)](_0x255f11(0x236))[_0x255f11(0x253)]='',document[_0x255f11(0x1bc)](_0x255f11(0x2ac))['innerHTML']='',document[_0x255f11(0x1bc)](_0x255f11(0x22b))[_0x255f11(0x253)]='';const _0x45040c=uniqueValuesArray('setCategoria','setCategoria',products),_0x2f860d=uniqueValuesArray('setMarca',_0x255f11(0x1ac),products),_0x4525ca=initMulti('newItem_categories_select',_0x45040c),_0x559ea1=initMulti('newItem_brands_select',_0x2f860d);document[_0x255f11(0x248)]('newItem_categories_select')['addEventListener'](_0x255f11(0x25a),function(_0x5d7382){var _0x3e14a1=_0x255f11;baseItem[_0x3e14a1(0x231)]=_0x4525ca[_0x3e14a1(0x27b)](_0x4c99b4=>_0x4c99b4[_0x3e14a1(0x19c)]);}),document[_0x255f11(0x248)](_0x255f11(0x1d7))[_0x255f11(0x222)]('selectionChange',function(_0x21133f){var _0x234488=_0x255f11;baseItem[_0x234488(0x201)]=_0x559ea1['map'](_0x59d24d=>_0x59d24d[_0x234488(0x19c)]);});}function initializeFormUnits(){var _0x533d14=_0x130412;unitCount=0x0,document[_0x533d14(0x248)](_0x533d14(0x270))[_0x533d14(0x253)]='',baseItem['setItemUnits']=[];var _0x5388b1=uniqueValuesArray('setUnidad',_0x533d14(0x247),products);addUnit('',_0x5388b1[0x0]&&_0x5388b1[0x0][_0x533d14(0x19c)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x304bee=_0x130412;prodC[_0x304bee(0x253)]='',baseItem[_0x304bee(0x26f)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x1c07a4=_0x130412;branchesC[_0x1c07a4(0x253)]='',baseItem[_0x1c07a4(0x202)]=[];const _0x5612d9=getAllWarehouses();_0x5612d9[_0x1c07a4(0x1d6)](function(_0x2a913d){var _0xd9209d=_0x1c07a4,_0x1afcd6=document[_0xd9209d(0x213)](_0xd9209d(0x1aa));_0x1afcd6[_0xd9209d(0x253)]=_0xd9209d(0x21e)+'<div\x20class=\x22newItem_col\x22>'+_0xd9209d(0x297)+_0x2a913d[_0xd9209d(0x23a)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x2a913d[_0xd9209d(0x212)]+_0xd9209d(0x2bc)+_0xd9209d(0x266)+'<div\x20class=\x22newItem_col\x22>'+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x2a913d[_0xd9209d(0x23a)]+'\x22>'+_0xd9209d(0x266)+_0xd9209d(0x2b8)+_0xd9209d(0x29f)+_0x2a913d['setWarehouseId']+'\x22>'+_0xd9209d(0x266)+_0xd9209d(0x266),branchesC[_0xd9209d(0x2b4)](_0x1afcd6),_0x1afcd6['querySelectorAll'](_0xd9209d(0x294))[_0xd9209d(0x1d6)](function(_0x385ae7){var _0x2e57f3=_0xd9209d;_0x385ae7['addEventListener'](_0x2e57f3(0x294),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x34c7c7=_0x130412;baseItem[_0x34c7c7(0x1b2)]='',baseItem[_0x34c7c7(0x1d1)]={},vgC['innerHTML']='',varContainer[_0x34c7c7(0x253)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x250e10,_0x247e1c,_0x1061dc=![]){var _0x4f0f0e=_0x130412;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x4f0f0e(0x224),'setToken':company[0x0][_0x4f0f0e(0x291)],'setWebhook':company[0x0]['setWebhook'],'newItems':_0x247e1c}),products[_0x4f0f0e(0x1d5)](..._0x250e10),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x4f0f0e(0x24a)),_0x1061dc?(fileInput[_0x4f0f0e(0x1e5)]='',uploadBtn['disabled']=!![],statusDiv[_0x4f0f0e(0x250)]='',progressBar[_0x4f0f0e(0x1be)][_0x4f0f0e(0x27d)]=_0x4f0f0e(0x269),progressBar[_0x4f0f0e(0x1e5)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}