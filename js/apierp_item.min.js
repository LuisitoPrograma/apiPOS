/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.4
*/

var _0xaab265=_0x1abb;function _0x4584(){var _0x5082ed=['remove-file','getElementsByClassName','.vgName','splice','#newItem_branches_container\x20>\x20div','.branchChk','exportDone','entries','some','.removeCombo','setConversionFactor','findIndex','.unitSelect','from','setDefault','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','variant_','Error\x20al\x20procesar\x20la\x20operación:','querySelectorAll','defineProperty','setItemVariantName','6RwRuEL','focus','\x22\x20class=\x22branchChk\x22>\x20','dragenter','setTaxId','onload','_comp_container','closeModalCreateItem','[id$=\x22_comp_container\x22]','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','search','102467453cqegYp','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','sucursales','./excel/Plantilla-Items.xlsx','detail','setItemIsBought','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','target','isArray','Items\x20finales:','setWarehouseName','4421070iylvPi','Ingresa\x20el\x20código\x20del\x20item','newItem_btn_addUnit','compare','closest','exception','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','table','status','Producto\x20Guardado\x20Offline\x20Correctamente.','setName','Nuevo\x20Producto','setWarehouseCode','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','textContent','none','accept','.ms_input','sort','setItemComponents','selected','transaction','split','newItem_title_table','file-input','classList','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','inputItemName','setImpuestoValue','true','disabled','(((.+)+)+)+$','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','unitSelect','undefined','name','newItem_btn_addProdItem','costInput','exportItems','setItemUnitId','7945LnyyGw','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','ERROR:\x20plainProducts\x20no\x20serializable:','constructor','setCodProducto','currency_data','remove','apply','setStockMinimum','setItemBarCode','push','image_box','newItem_brands_select','setItemBrandName','onmessage','Generando\x20Excel...','inputItemBarCode','\x22\x20value=\x22','USD','children','innerHTML','block','createElement','newItem_title_table_cp','stringify','setItemTaxCode','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setDescripcion','display','\x20items\x20procesados.','.drop-zone__prompt','click','newItem_addToCart','currentTarget','_units_container','24oGKwbJ','setSucursalStock','.branchMin','type','.prodQty','setItemUnits','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','file','inputItemDescription','#newItem_brands_select\x20.selected_tags','setImpuestoCode','setTaxIdDefault','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setStockInitial','toString','div[data-default=\x22true\x22]\x20.eqInput','No\x20hay\x20items\x20para\x20exportar.','./js/apierp_item_wk.min.js','setUnidadCodigo','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','download','toggle','createObjectURL','<img\x20src=\x22','inputItemType','setItemId','drop','setItemIsSold','setItemFree','filter','setUnitName','PEN','forEach','setMtoPrecioUnitario','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','.prodInput','image/*','getElementById','fill','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','items','.variantCode','Ingresa\x20el\x20nombre\x20del\x20item','dragover','style','arrayBuffer','files','padStart','setItemName','includes','./img/product.png','unitAlias','2856520fiQWsl','newItem_images_container','className','Enter','modalProductNewTitle','setWarehouseStockMin','parentNode','setAlias','inputItemDateExpiry','setCost','upload-btn','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','setMarca','addEventListener','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','windowId','onerror','setWarehouseId','setItemWarehouses','</div>','style=\x22display:none\x22','error','setPrice','btnExportarItems','setItemCategoryName','dataset','readAsDataURL','value','setItemDescription','offline_operations','import','trace','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','10uMhfaT','.unitAlias','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemTaxValue','.costInput','bind','.options_list','toISOString','console','inputItemCode','setItemCategories','tag','.priceInput','change','drop-zone','dispatchEvent','now','#newItem_categories_select\x20.options_list','querySelector','readwrite','default','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','setItemImages','3659468DarRlr','revokeObjectURL','.removeUnit','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','base','find','7486435DCPedg','stopPropagation','.removeProd','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','hidden','log','newItem_proditems_container','setUnitCode','newItem_units_container','.eqInput','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Producto\x20Libre','every','setCode','newItem_hidden','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setMoneda','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','done','.branchInit','return\x20(function()\x20','newItem_branches_container','slice','selectionChange','setItemTaxId','idx','\x22\x20class=\x22branchChk\x22\x20checked>\x20','progress','newItem_chk_buy','selectedItem','setItemCode','setAuthToken','.removeVariant','setMtoPrecioCostoUnitario','add','.vgVals','setItemBrands','test','modalOverlayCreateItem','length','.addVariantUnit','setItemInventoriable','<div\x20class=\x22newItem_col\x22>','__proto__','message','trim','dataTransfer','oncomplete','❌\x20Error:\x20','map','setItemVariantValues','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','dragleave','input','parse','mousedown','.prod_input_container','996189NsrEAK','warn','appendChild','div','blur','setCantidad','.options_list\x20div','setBatchName','btnItemSave','setCostUSD','[data-idx=\x22','5796nDTZne','_branch_container','setIdSucursal','setPriceUSD','contains','\x20items.','application/octet-stream','setBatchExpirationDate','Collator','setItemDateExpiry','setImpuestos','prototype','toLowerCase','info','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','join','string','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','detalleModalCreateItem','span','checked','code','.variantExpiry','preventDefault','inputItemTax','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','href','.removeGroup','setItemType','.variantBarCode','newItem_categories_select','variantForm','setCategoria'];_0x4584=function(){return _0x5082ed;};return _0x4584();}(function(_0x1094a9,_0x459cbb){var _0xae759c=_0x1abb,_0xf0d503=_0x1094a9();while(!![]){try{var _0x4ec102=-parseInt(_0xae759c(0x230))/0x1+-parseInt(_0xae759c(0x1b9))/0x2+parseInt(_0xae759c(0x122))/0x3*(-parseInt(_0xae759c(0x1f1))/0x4)+-parseInt(_0xae759c(0x1f7))/0x5+parseInt(_0xae759c(0x23b))/0x6*(-parseInt(_0xae759c(0x161))/0x7)+-parseInt(_0xae759c(0x184))/0x8*(parseInt(_0xae759c(0x139))/0x9)+parseInt(_0xae759c(0x1da))/0xa*(parseInt(_0xae759c(0x12e))/0xb);if(_0x4ec102===_0x459cbb)break;else _0xf0d503['push'](_0xf0d503['shift']());}catch(_0x2b4beb){_0xf0d503['push'](_0xf0d503['shift']());}}}(_0x4584,0xf2975));var _0x225562=(function(){var _0x58d0aa=!![];return function(_0x5ccf83,_0x320b10){var _0x59d7d5=_0x58d0aa?function(){var _0x2192e7=_0x1abb;if(_0x320b10){var _0x2e495a=_0x320b10[_0x2192e7(0x168)](_0x5ccf83,arguments);return _0x320b10=null,_0x2e495a;}}:function(){};return _0x58d0aa=![],_0x59d7d5;};}()),_0x22f810=_0x225562(this,function(){var _0x297c17=_0x1abb;return _0x22f810[_0x297c17(0x192)]()[_0x297c17(0x12d)]('(((.+)+)+)+$')[_0x297c17(0x192)]()['constructor'](_0x22f810)['search'](_0x297c17(0x158));});_0x22f810();var _0x2cbd57=(function(){var _0x462e0a=!![];return function(_0x23ff80,_0x50ed0e){var _0x25c1de=_0x462e0a?function(){var _0xa3cc42=_0x1abb;if(_0x50ed0e){var _0x1bf4a2=_0x50ed0e[_0xa3cc42(0x168)](_0x23ff80,arguments);return _0x50ed0e=null,_0x1bf4a2;}}:function(){};return _0x462e0a=![],_0x25c1de;};}()),_0x45ff91=_0x2cbd57(this,function(){var _0x40f344=_0x1abb,_0x3e342e=function(){var _0xf0f5d8=_0x1abb,_0x3e513b;try{_0x3e513b=Function(_0xf0f5d8(0x20b)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x577feb){_0x3e513b=window;}return _0x3e513b;},_0x142384=_0x3e342e(),_0x3958bf=_0x142384[_0x40f344(0x1e2)]=_0x142384[_0x40f344(0x1e2)]||{},_0x6dd855=[_0x40f344(0x1fc),_0x40f344(0x231),_0x40f344(0x248),_0x40f344(0x1ce),_0x40f344(0x13e),_0x40f344(0x140),_0x40f344(0x1d8)];for(var _0x59ba7f=0x0;_0x59ba7f<_0x6dd855[_0x40f344(0x21e)];_0x59ba7f++){var _0xd9703b=_0x2cbd57[_0x40f344(0x164)][_0x40f344(0x246)][_0x40f344(0x1df)](_0x2cbd57),_0x230f7a=_0x6dd855[_0x59ba7f],_0x2a4bc8=_0x3958bf[_0x230f7a]||_0xd9703b;_0xd9703b[_0x40f344(0x222)]=_0x2cbd57['bind'](_0x2cbd57),_0xd9703b[_0x40f344(0x192)]=_0x2a4bc8[_0x40f344(0x192)]['bind'](_0x2a4bc8),_0x3958bf[_0x230f7a]=_0xd9703b;}});_0x45ff91();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0xaab265(0x1aa)](_0xaab265(0x1ba)),unitCount=0x0,branchesC=document[_0xaab265(0x1aa)](_0xaab265(0x20c)),prodC=document[_0xaab265(0x1aa)](_0xaab265(0x1fd)),vgCount=0x0,varContainer=document['getElementById']('newItem_variants_forms'),vgC=document['getElementById']('newItem_variant_groups');const fileInput=document[_0xaab265(0x1aa)](_0xaab265(0x151)),progressBar=document['getElementById'](_0xaab265(0x212)),statusDiv=document['getElementById'](_0xaab265(0x141)),uploadBtn=document[_0xaab265(0x1aa)](_0xaab265(0x1c3));let newItemsExcel=null;const itemWorker=new Worker(_0xaab265(0x195)),dropZone=document[_0xaab265(0x1aa)](_0xaab265(0x1e8)),removeBtn=document[_0xaab265(0x1aa)](_0xaab265(0x10d));function showModalCreateItem(_0x39f468){var _0x1b1ca7=_0xaab265;const _0x1b328b=document[_0x1b1ca7(0x1aa)]('detalleModalCreateItem'),_0x5a2696=document[_0x1b1ca7(0x1aa)](_0x1b1ca7(0x21d));_0x1b328b[_0x1b1ca7(0x152)][_0x1b1ca7(0x219)]('active'),_0x5a2696[_0x1b1ca7(0x1b1)]['display']=_0x1b1ca7(0x176);const _0x5aff5d=document[_0x1b1ca7(0x1aa)]('setItemFree');_0x5aff5d['value']=parseInt(_0x39f468),baseItem[_0x1b1ca7(0x1a1)]=parseInt(_0x39f468);const _0x33dc63=document[_0x1b1ca7(0x1aa)](_0x1b1ca7(0x1bd));_0x39f468==0x0&&(_0x33dc63[_0x1b1ca7(0x175)]=_0x1b1ca7(0x144));_0x39f468==0x1&&(_0x33dc63[_0x1b1ca7(0x175)]=_0x1b1ca7(0x202));const _0x539e03=document[_0x1b1ca7(0x10e)]('productType1');for(let _0xc6d0fc=0x0;_0xc6d0fc<_0x539e03[_0x1b1ca7(0x21e)];_0xc6d0fc++){const _0x482f1b=_0x539e03[_0xc6d0fc];if(_0x39f468==0x0)_0x482f1b['classList'][_0x1b1ca7(0x167)](_0x1b1ca7(0x1fb));else _0x39f468==0x1&&_0x482f1b[_0x1b1ca7(0x152)][_0x1b1ca7(0x219)](_0x1b1ca7(0x1fb));}}function hideModalCreateItem(){var _0x5f41d6=_0xaab265;const _0x114cba=document[_0x5f41d6(0x1aa)](_0x5f41d6(0x24d)),_0x47c50f=document[_0x5f41d6(0x1aa)](_0x5f41d6(0x21d));_0x114cba['classList'][_0x5f41d6(0x167)]('active'),_0x47c50f['style']['display']='none';}document[_0xaab265(0x1aa)](_0xaab265(0x129))[_0xaab265(0x1c6)]('click',hideModalCreateItem),document['getElementById'](_0xaab265(0x21d))['addEventListener'](_0xaab265(0x180),_0x59ab78=>{var _0x1f7696=_0xaab265;_0x59ab78['target']==_0x59ab78[_0x1f7696(0x182)]&&_0x59ab78[_0x1f7696(0x1f8)]();});function loadTaxData(){var _0x2a3b2a=_0xaab265;const _0x5f5c05=document[_0x2a3b2a(0x1aa)]('inputItemTax');_0x5f5c05[_0x2a3b2a(0x175)]='',company[0x0][_0x2a3b2a(0x245)][_0x2a3b2a(0x1a5)](function(_0xc8357){var _0x2560fc=_0x2a3b2a;const _0x26f5a2=document[_0x2560fc(0x177)]('option');_0x26f5a2['value']=_0xc8357[_0x2560fc(0x126)],_0x26f5a2['innerHTML']=_0xc8357['setImpuestoName']+'\x20('+_0xc8357[_0x2560fc(0x155)]+'%)',_0xc8357[_0x2560fc(0x126)]==company[0x0][_0x2560fc(0x18f)]&&(_0x26f5a2[_0x2560fc(0x14d)]=!![]),_0x5f5c05['appendChild'](_0x26f5a2);});}function uniqueValuesArray(_0xc0ee72,_0x4f91fb,_0x251f79){var _0x4c613d=_0xaab265;const _0x511c48=Array['from'](new Set(_0x251f79[_0x4c613d(0x228)](_0x8e74d8=>{var _0x5814d4=_0x4c613d;const _0x18753b=_0x8e74d8[_0xc0ee72];return typeof _0x18753b===_0x5814d4(0x24b)?_0x18753b[_0x5814d4(0x224)]():_0x18753b;})[_0x4c613d(0x1a2)](_0x21c90f=>_0x21c90f!=null&&_0x21c90f!=='')));return _0x511c48[_0x4c613d(0x228)](_0x3c51b3=>{var _0x4481d2=_0x4c613d;const _0x5d58d8=_0x251f79[_0x4481d2(0x1f6)](_0x439b3c=>_0x439b3c[_0xc0ee72]===_0x3c51b3),_0x4e845a=_0x5d58d8&&_0x5d58d8[_0x4f91fb]!=null?String(_0x5d58d8[_0x4f91fb])['trim']():_0x3c51b3;return{'setCode':_0x3c51b3,'setName':_0x4e845a};});}function fillSelect(_0x32627e,_0x1b6bb4,_0x4848fc,_0x56a206){var _0x6c63fc=_0xaab265;_0x32627e[_0x6c63fc(0x175)]='',_0x1b6bb4['forEach'](function(_0x1827e2){var _0x1eeddf=_0x6c63fc,_0xa6dd3e=new Option(_0x1827e2[_0x56a206],_0x1827e2[_0x4848fc]);_0x32627e[_0x1eeddf(0x219)](_0xa6dd3e);});}function initMulti(_0x1b910b,_0x5f8a70){var _0x24badc=_0xaab265,_0x1b666d=document[_0x24badc(0x1aa)](_0x1b910b),_0x576363=_0x1b666d['querySelector'](_0x24badc(0x14a)),_0x32858a=_0x1b666d['querySelector'](_0x24badc(0x1e0)),_0x16ab25=_0x1b666d['querySelector']('.selected_tags'),_0x4b4ef3=_0x5f8a70[_0x24badc(0x20d)](),_0x5d2fc7=[];let _0x4bf7a4=null,_0x3e817f=![];function _0x50a2bb(){var _0x1ce23e=_0x24badc;const _0x458348=_0x576363[_0x1ce23e(0x1d4)][_0x1ce23e(0x224)]();if(!_0x458348)return;const _0x257232=_0x4b4ef3[_0x1ce23e(0x1f6)](_0x3ebf21=>_0x3ebf21['setName'][_0x1ce23e(0x247)]()===_0x458348[_0x1ce23e(0x247)]());if(_0x257232)_0x5d2fc7['push'](_0x257232),_0x4b4ef3['splice'](_0x4b4ef3[_0x1ce23e(0x118)](_0x3e2750=>_0x3e2750[_0x1ce23e(0x204)]===_0x257232['setCode']),0x1);else{const _0x9bb4b2=_0x5d2fc7[_0x1ce23e(0x115)](_0x71ef83=>_0x71ef83[_0x1ce23e(0x143)][_0x1ce23e(0x247)]()===_0x458348[_0x1ce23e(0x247)]());!_0x9bb4b2&&_0x5d2fc7[_0x1ce23e(0x16b)]({'setCode':_0x458348,'setName':_0x458348});}_0xd3ec62(),_0x52f440(),_0x576363['value']='';}function _0x52f440(){var _0x335782=_0x24badc;_0x32858a['innerHTML']='',_0x4b4ef3[_0x335782(0x1a2)](_0x2273f5=>_0x2273f5['setName'][_0x335782(0x247)]()[_0x335782(0x1b6)](_0x576363[_0x335782(0x1d4)][_0x335782(0x247)]()))[_0x335782(0x20d)](0x0,0x14)[_0x335782(0x1a5)](_0x4a5c50=>{var _0x13be90=_0x335782,_0x270fda=document[_0x13be90(0x177)](_0x13be90(0x233));_0x270fda[_0x13be90(0x147)]=_0x4a5c50[_0x13be90(0x143)],_0x270fda[_0x13be90(0x1d2)]['code']=_0x4a5c50[_0x13be90(0x204)],_0x32858a[_0x13be90(0x232)](_0x270fda),_0x270fda[_0x13be90(0x1c6)](_0x13be90(0x22e),()=>_0x3e817f=!![]),_0x270fda[_0x13be90(0x1c6)](_0x13be90(0x180),function(){var _0x23d1b7=_0x13be90;_0x3e817f=![],_0x5d2fc7['push'](_0x4a5c50),_0x4b4ef3[_0x23d1b7(0x110)](_0x4b4ef3[_0x23d1b7(0x118)](_0x43db5c=>_0x43db5c[_0x23d1b7(0x204)]===_0x4a5c50[_0x23d1b7(0x204)]),0x1),_0x576363[_0x23d1b7(0x1d4)]='',_0xd3ec62(),_0x52f440();});});}function _0xd3ec62(){var _0x42c18b=_0x24badc;_0x16ab25[_0x42c18b(0x175)]='',_0x5d2fc7['forEach'](_0x15dfc0=>{var _0x51f6aa=_0x42c18b,_0x32d101=document[_0x51f6aa(0x177)](_0x51f6aa(0x233));_0x32d101[_0x51f6aa(0x1bb)]=_0x51f6aa(0x1e5),_0x32d101[_0x51f6aa(0x147)]=_0x15dfc0[_0x51f6aa(0x143)];var _0x31bf0d=document[_0x51f6aa(0x177)]('span');_0x31bf0d[_0x51f6aa(0x1bb)]='remove-tag',_0x31bf0d[_0x51f6aa(0x147)]='×',_0x31bf0d['addEventListener'](_0x51f6aa(0x180),function(){var _0xc14d3c=_0x51f6aa;_0x4b4ef3[_0xc14d3c(0x16b)](_0x15dfc0);const _0x5038f7=_0x5d2fc7[_0xc14d3c(0x118)](_0x2d4848=>_0x2d4848['setCode']===_0x15dfc0[_0xc14d3c(0x204)]);if(_0x5038f7>-0x1)_0x5d2fc7[_0xc14d3c(0x110)](_0x5038f7,0x1);_0xd3ec62(),_0x52f440();}),_0x32d101['appendChild'](_0x31bf0d),_0x16ab25[_0x51f6aa(0x232)](_0x32d101);}),_0x1b666d[_0x42c18b(0x1e9)](new CustomEvent(_0x42c18b(0x20e),{'detail':_0x5d2fc7,'bubbles':!![]}));}return _0x576363[_0x24badc(0x1c6)](_0x24badc(0x123),function(){var _0x31a9e0=_0x24badc;_0x4bf7a4&&(clearTimeout(_0x4bf7a4),_0x4bf7a4=null),_0x32858a[_0x31a9e0(0x152)][_0x31a9e0(0x167)]('newItem_hidden');}),_0x576363['addEventListener']('input',_0x52f440),_0x576363['addEventListener']('keydown',function(_0x459074){var _0x4b7718=_0x24badc;_0x459074['key']===_0x4b7718(0x1bc)&&(_0x459074['preventDefault'](),_0x50a2bb());}),_0x576363[_0x24badc(0x1c6)]('blur',function(){if(_0x3e817f)return;_0x4bf7a4=setTimeout(()=>{_0x50a2bb(),_0x4bf7a4=null;},0xc8);}),document['addEventListener'](_0x24badc(0x180),function(_0x1f7dff){var _0x2db6fa=_0x24badc;!_0x1b666d[_0x2db6fa(0x23f)](_0x1f7dff['target'])&&_0x32858a[_0x2db6fa(0x152)][_0x2db6fa(0x219)](_0x2db6fa(0x205));}),_0x52f440(),_0x5d2fc7;}function getLastCode(_0x5d6c0b){var _0xd64f77=_0xaab265;const _0x1d7750=_0x5d6c0b['map'](_0x414497=>String(_0x414497[_0xd64f77(0x165)])[_0xd64f77(0x224)]())[_0xd64f77(0x1a2)](_0x4dbfef=>_0x4dbfef!=='');if(_0x1d7750['length']===0x0)return'';const _0x5405b1=_0x1d7750[_0xd64f77(0x203)](_0x467053=>/^\d+$/[_0xd64f77(0x21c)](_0x467053));if(_0x5405b1){const _0x4be6a4=_0x1d7750['map'](Number),_0x3edff2=Math['max'](..._0x4be6a4);return String(_0x3edff2);}let _0x1904a1;if(typeof Intl!==_0xd64f77(0x15b)&&Intl[_0xd64f77(0x243)]){const _0x246123=new Intl[(_0xd64f77(0x243))](undefined,{'numeric':!![],'sensitivity':_0xd64f77(0x1f5)});_0x1904a1=_0x1d7750[_0xd64f77(0x20d)]()[_0xd64f77(0x14b)](_0x246123[_0xd64f77(0x13c)]);}else{const _0x54b3c8=_0x1d7750[_0xd64f77(0x203)](_0x3d0b31=>/^\d+$/[_0xd64f77(0x21c)](_0x3d0b31));_0x54b3c8?_0x1904a1=_0x1d7750[_0xd64f77(0x228)](Number)[_0xd64f77(0x14b)]((_0x10bfc6,_0x31575f)=>_0x10bfc6-_0x31575f)[_0xd64f77(0x228)](String):_0x1904a1=_0x1d7750[_0xd64f77(0x20d)]()[_0xd64f77(0x14b)]();}return _0x1904a1[_0x1904a1['length']-0x1];}function getNextCode(_0x4221cd){var _0x5b61a5=_0xaab265;const _0x3802d8=getLastCode(_0x4221cd);if(!_0x3802d8)return'';if(/^\d+$/[_0x5b61a5(0x21c)](_0x3802d8))return String(Number(_0x3802d8)+0x1);const _0x2d115c=_0x3802d8['match'](/^([A-Za-z]*)(\d+)$/);if(_0x2d115c){const [,_0x4c2a51,_0x346954]=_0x2d115c,_0x3587fe=String(Number(_0x346954)+0x1)[_0x5b61a5(0x1b4)](_0x346954[_0x5b61a5(0x21e)],'0');return _0x4c2a51+_0x3587fe;}return _0x3802d8;}document['getElementById']('inputItemName')[_0xaab265(0x1c6)](_0xaab265(0x22c),function(_0x52c2be){var _0x199aee=_0xaab265;baseItem[_0x199aee(0x1b5)]=_0x52c2be[_0x199aee(0x135)][_0x199aee(0x1d4)];}),document[_0xaab265(0x1aa)](_0xaab265(0x18c))[_0xaab265(0x1c6)](_0xaab265(0x22c),function(_0x5ecee4){var _0x224b9d=_0xaab265;baseItem[_0x224b9d(0x1d5)]=_0x5ecee4[_0x224b9d(0x135)][_0x224b9d(0x1d4)];}),document[_0xaab265(0x1aa)](_0xaab265(0x1c1))[_0xaab265(0x1c6)]('input',function(_0x431ab2){var _0x20167a=_0xaab265;baseItem[_0x20167a(0x244)]=_0x431ab2[_0x20167a(0x135)][_0x20167a(0x1d4)];}),document[_0xaab265(0x1aa)](_0xaab265(0x19d))['addEventListener'](_0xaab265(0x1e7),function(_0x1fb000){var _0x2fa04c=_0xaab265;baseItem[_0x2fa04c(0x108)]=_0x1fb000[_0x2fa04c(0x135)]['value'];}),document[_0xaab265(0x1aa)](_0xaab265(0x104))['addEventListener'](_0xaab265(0x1e7),function(_0x31b30a){var _0x441ae3=_0xaab265;baseItem[_0x441ae3(0x20f)]=_0x31b30a[_0x441ae3(0x135)][_0x441ae3(0x1d4)];const _0x2a7d24=_0x31b30a[_0x441ae3(0x135)][_0x441ae3(0x1d4)],_0x4a8320=company[0x0][_0x441ae3(0x245)][_0x441ae3(0x1f6)](_0x49cc72=>_0x49cc72['setTaxId']==_0x2a7d24)?.[_0x441ae3(0x18e)]||0x0,_0x465a27=company[0x0][_0x441ae3(0x245)][_0x441ae3(0x1f6)](_0x39646f=>_0x39646f[_0x441ae3(0x126)]==_0x2a7d24)?.['setImpuestoValue']||0x0;baseItem[_0x441ae3(0x17a)]=_0x4a8320,baseItem['setItemTaxValue']=_0x465a27;}),document[_0xaab265(0x1aa)](_0xaab265(0x213))['addEventListener'](_0xaab265(0x1e7),function(_0xd017cc){var _0x26211f=_0xaab265;baseItem[_0x26211f(0x133)]=_0xd017cc[_0x26211f(0x135)]['checked'];}),document[_0xaab265(0x1aa)]('newItem_chk_sell')[_0xaab265(0x1c6)](_0xaab265(0x1e7),function(_0x2f2fe5){var _0x3e571d=_0xaab265;baseItem[_0x3e571d(0x1a0)]=_0x2f2fe5[_0x3e571d(0x135)][_0x3e571d(0x24f)];}),document[_0xaab265(0x1aa)](_0xaab265(0x1e3))[_0xaab265(0x1c6)](_0xaab265(0x22c),function(_0x1c89d2){var _0x12b0f2=_0xaab265;baseItem[_0x12b0f2(0x215)]=_0x1c89d2[_0x12b0f2(0x135)][_0x12b0f2(0x1d4)];}),document['getElementById'](_0xaab265(0x171))['addEventListener'](_0xaab265(0x22c),function(_0x5d932b){var _0x1db1c8=_0xaab265;baseItem[_0x1db1c8(0x16a)]=_0x5d932b['target'][_0x1db1c8(0x1d4)];}),document[_0xaab265(0x1aa)](_0xaab265(0x13b))[_0xaab265(0x1c6)]('click',function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0xaab265(0x1e3))['addEventListener']('blur',function(){var _0x3fb0cc=_0xaab265;const _0xfd3754=this[_0x3fb0cc(0x1d4)]['trim']();if(_0xfd3754==='')return;const _0x4e2350=products[_0x3fb0cc(0x115)](_0x151f0a=>_0x151f0a[_0x3fb0cc(0x165)]==_0xfd3754),_0x5e9179=getLastCode(products);_0x4e2350?ntfShow(_0x3fb0cc(0x190)+_0x5e9179,0x2,0x1):ntfShow(_0x3fb0cc(0x201),0x1,0x1);});function removeImg(_0x52484e){var _0x5667ce=_0xaab265;currentImages[_0x52484e]=null;var _0x49dfe7=imgC[_0x5667ce(0x1ec)](_0x5667ce(0x23a)+_0x52484e+'\x22]');_0x49dfe7['innerHTML']='';var _0x1120ef=document['createElement']('input');_0x1120ef['type']=_0x5667ce(0x18b),_0x1120ef[_0x5667ce(0x149)]=_0x5667ce(0x1a9),_0x1120ef[_0x5667ce(0x1b1)]['display']=_0x5667ce(0x148);var _0x55cfed=document['createElement'](_0x5667ce(0x24e));_0x55cfed[_0x5667ce(0x147)]='+',_0x49dfe7[_0x5667ce(0x232)](_0x1120ef),_0x49dfe7['appendChild'](_0x55cfed),_0x49dfe7['addEventListener']('click',function(){_0x1120ef['click']();}),baseItem[_0x5667ce(0x1f0)]=currentImages[_0x5667ce(0x1a2)](function(_0x31ff83){return _0x31ff83;});}function addUnit(_0x3173e1,_0xdd9fbf,_0x3d752d,_0x406e09,_0x537dbf,_0x1ee237,_0x3e6278){var _0x4875b0=_0xaab265,_0x58c5c8=uniqueValuesArray(_0x4875b0(0x1fe),_0x4875b0(0x1a3),myCompany['setUnits']);_0x3173e1=_0x3173e1||'',_0xdd9fbf=_0xdd9fbf||_0x58c5c8[0x3a]&&_0x58c5c8[0x3a][_0x4875b0(0x204)]||'',_0x3d752d=_0x3d752d!==undefined?_0x3d752d:0x1,_0x406e09=!!_0x406e09,_0x537dbf=_0x537dbf||'',_0x1ee237=_0x1ee237||'';var _0xf37109=unitCount++,_0x45545c=document[_0x4875b0(0x177)]('div');_0x45545c[_0x4875b0(0x1d2)][_0x4875b0(0x210)]=_0xf37109,_0x45545c[_0x4875b0(0x1d2)][_0x4875b0(0x1ee)]=_0x406e09,_0x45545c[_0x4875b0(0x175)]=_0x4875b0(0x1a7)+_0xf37109+'\x22\x20value=\x22'+_0x3173e1+_0x4875b0(0x206)+_0xf37109+_0x4875b0(0x22a)+_0xf37109+_0x4875b0(0x172)+_0x3d752d+'\x22\x20'+(_0x406e09?_0x4875b0(0x157):'')+_0x4875b0(0x12c)+_0xf37109+_0x4875b0(0x172)+_0x537dbf+_0x4875b0(0x162)+_0xf37109+_0x4875b0(0x172)+_0x1ee237+_0x4875b0(0x12b)+(_0x406e09?_0x4875b0(0x1cd):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x45545c['querySelector'](_0x4875b0(0x119)),_0x58c5c8,'setCode',_0x4875b0(0x143)),_0x45545c[_0x4875b0(0x1ec)]('.unitSelect')['value']=_0xdd9fbf,[_0x4875b0(0x1b8),_0x4875b0(0x15a),'eqInput','priceInput',_0x4875b0(0x15e)]['forEach'](function(_0xf34b24){var _0x1cb089=_0x4875b0;_0x45545c[_0x1cb089(0x1ec)]('.'+_0xf34b24)[_0x1cb089(0x1c6)](_0x1cb089(0x22c),function(){var _0x256904=_0x1cb089,_0x56446d=_0x3e6278?+_0x3e6278['id'][_0x256904(0x14f)]('_')[0x1]:null;if(_0x3e6278)updateVariantUnits(_0x56446d);else updateUnitsArray();});}),_0x45545c['querySelector'](_0x4875b0(0x1f3))[_0x4875b0(0x1c6)](_0x4875b0(0x180),function(){var _0x10b457=_0x4875b0;_0x45545c[_0x10b457(0x167)]();var _0x4d55e1=_0x3e6278?+_0x3e6278['id']['split']('_')[0x1]:null;if(_0x3e6278)updateVariantUnits(_0x4d55e1);else updateUnitsArray();});var _0x5094f7=_0x3e6278||document[_0x4875b0(0x1aa)](_0x4875b0(0x1ff));_0x5094f7['appendChild'](_0x45545c);}function containerIdx(_0x4c4a4d){var _0x319e30=_0xaab265;return+_0x4c4a4d['id'][_0x319e30(0x14f)]('_')[0x1];}function updateUnitsArray(){var _0x373a7f=_0xaab265,_0x12adaf=[],_0x1f0b96=Array[_0x373a7f(0x11a)](document[_0x373a7f(0x11f)]('#newItem_units_container\x20>\x20div')),_0x2375d1=_0x1f0b96[_0x373a7f(0x1f6)](_0x34b371=>_0x34b371[_0x373a7f(0x1d2)]['default']==='true'),_0x57d39d=_0x2375d1?+_0x2375d1['querySelector'](_0x373a7f(0x200))[_0x373a7f(0x1d4)]:0x1;_0x1f0b96['forEach'](function(_0x2a10b0){var _0x40cbfa=_0x373a7f,_0x2e89cf=+_0x2a10b0[_0x40cbfa(0x1ec)](_0x40cbfa(0x200))[_0x40cbfa(0x1d4)]||0x0,_0x4caad1=+_0x2a10b0[_0x40cbfa(0x1ec)](_0x40cbfa(0x1e6))['value']||0x0,_0x1dad2d=+_0x2a10b0[_0x40cbfa(0x1ec)](_0x40cbfa(0x1de))['value']||0x0;_0x12adaf[_0x40cbfa(0x16b)]({'setAlias':_0x2a10b0[_0x40cbfa(0x1ec)]('.unitAlias')[_0x40cbfa(0x1d4)]['trim'](),'setUnitCode':_0x2a10b0[_0x40cbfa(0x1ec)]('.unitSelect')[_0x40cbfa(0x1d4)],'setEquivalence':_0x2e89cf,'setFactor':_0x2a10b0[_0x40cbfa(0x1d2)][_0x40cbfa(0x1ee)]===_0x40cbfa(0x156)?0x1:_0x2e89cf==_0x57d39d?0x1:_0x2e89cf<_0x57d39d?_0x57d39d/_0x2e89cf:_0x2e89cf/_0x57d39d,'setPrice':_0x4caad1,'setCost':_0x1dad2d,'setDefault':_0x2a10b0[_0x40cbfa(0x1d2)][_0x40cbfa(0x1ee)]===_0x40cbfa(0x156)?0x1:0x0});}),baseItem[_0x373a7f(0x189)]=_0x12adaf;}function updateBranches(){var _0x5ec389=_0xaab265,_0x1c1bb4=[];document['querySelectorAll'](_0x5ec389(0x111))[_0x5ec389(0x1a5)](function(_0x1ed275){var _0x1714bf=_0x5ec389,_0x4660e3=_0x1ed275[_0x1714bf(0x1ec)](_0x1714bf(0x112));if(_0x4660e3[_0x1714bf(0x24f)]){var _0xe993bb=+_0x4660e3[_0x1714bf(0x1d2)]['id'],_0xafb836=+_0x1ed275[_0x1714bf(0x1ec)](_0x1714bf(0x20a))[_0x1714bf(0x1d4)],_0x56203c=+_0x1ed275[_0x1714bf(0x1ec)](_0x1714bf(0x186))[_0x1714bf(0x1d4)];_0x1c1bb4[_0x1714bf(0x16b)]({'setWarehouseCode':_0xe993bb,'setStockInitial':_0xafb836,'setStockMinimum':_0x56203c});}}),baseItem['setItemWarehouses']=_0x1c1bb4;}document[_0xaab265(0x1aa)](_0xaab265(0x15d))['addEventListener'](_0xaab265(0x180),function(){var _0x66e027=_0xaab265,_0x48048b=Date['now'](),_0x3e9595=document[_0x66e027(0x177)]('div');_0x3e9595[_0x66e027(0x1d2)][_0x66e027(0x210)]=_0x48048b,_0x3e9595[_0x66e027(0x175)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x48048b+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x48048b+_0x66e027(0x1c7),prodC[_0x66e027(0x232)](_0x3e9595),initProdSearch(_0x3e9595[_0x66e027(0x1ec)]('.prod_input_container')),_0x3e9595[_0x66e027(0x1ec)](_0x66e027(0x1f9))['addEventListener'](_0x66e027(0x180),function(){var _0x36028d=_0x66e027;_0x3e9595[_0x36028d(0x167)](),updateProdItems();}),_0x3e9595[_0x66e027(0x1ec)](_0x66e027(0x188))['addEventListener'](_0x66e027(0x22c),updateProdItems),document[_0x66e027(0x1aa)](_0x66e027(0x178))['classList'][_0x66e027(0x19a)](_0x66e027(0x150),!![]),document['getElementById'](_0x66e027(0x178))[_0x66e027(0x152)][_0x66e027(0x19a)](_0x66e027(0x205),![]);});function initProdSearch(_0x174e1c,_0x4063a2){var _0x5ba525=_0xaab265,_0x17b7fb=_0x174e1c[_0x5ba525(0x1ec)](_0x5ba525(0x1a8)),_0x431857=_0x174e1c[_0x5ba525(0x1ec)](_0x5ba525(0x1e0)),_0x458b7e=_0x4063a2||null;if(_0x4063a2)_0x17b7fb[_0x5ba525(0x1d4)]=_0x4063a2['name'];_0x17b7fb['addEventListener'](_0x5ba525(0x22c),function(){var _0x1a1f06=_0x5ba525,_0x3f73aa=_0x17b7fb[_0x1a1f06(0x1d4)][_0x1a1f06(0x247)]()[_0x1a1f06(0x224)]();_0x431857['innerHTML']='';if(!_0x3f73aa)return;products[_0x1a1f06(0x1a2)](_0x5e97b2=>_0x5e97b2[_0x1a1f06(0x17c)]['toLowerCase']()['includes'](_0x3f73aa))[_0x1a1f06(0x20d)](0x0,0x14)['forEach'](function(_0x50ae0e){var _0x499764=_0x1a1f06,_0x37e5bb=document[_0x499764(0x177)](_0x499764(0x233));_0x37e5bb[_0x499764(0x147)]=_0x50ae0e[_0x499764(0x17c)],_0x37e5bb['dataset']['id']=_0x50ae0e['id'],_0x37e5bb[_0x499764(0x1d2)]['name']=_0x50ae0e[_0x499764(0x17c)],_0x431857[_0x499764(0x232)](_0x37e5bb),_0x37e5bb[_0x499764(0x1c6)](_0x499764(0x180),function(){var _0x21378b=_0x499764;_0x458b7e={'id':_0x50ae0e['id'],'name':_0x50ae0e[_0x21378b(0x17c)]},_0x17b7fb[_0x21378b(0x1d4)]=_0x50ae0e[_0x21378b(0x17c)],_0x431857[_0x21378b(0x175)]='';var _0x3de63b=_0x174e1c[_0x21378b(0x13d)](_0x21378b(0x12a));if(_0x3de63b){var _0x14afdc=+_0x3de63b['id'][_0x21378b(0x14f)]('_')[0x1];updateVariantComponents(_0x14afdc);}else updateProdItems();});});}),_0x17b7fb['addEventListener']('focus',function(){var _0x49a952=_0x5ba525;_0x431857[_0x49a952(0x152)][_0x49a952(0x167)](_0x49a952(0x205));}),document[_0x5ba525(0x1c6)]('click',function(_0x2f6ec4){var _0x728280=_0x5ba525;if(!_0x174e1c[_0x728280(0x23f)](_0x2f6ec4[_0x728280(0x135)]))_0x431857[_0x728280(0x152)][_0x728280(0x219)](_0x728280(0x205));}),Object[_0x5ba525(0x120)](_0x174e1c,_0x5ba525(0x214),{'get':()=>_0x458b7e});}function _0x1abb(_0x1f37a0,_0x1b8430){var _0x24bae4=_0x4584();return _0x1abb=function(_0x45ff91,_0x2cbd57){_0x45ff91=_0x45ff91-0x104;var _0x3b1c06=_0x24bae4[_0x45ff91];return _0x3b1c06;},_0x1abb(_0x1f37a0,_0x1b8430);}function updateProdItems(){var _0x50ea0e=_0xaab265,_0xc413b2=[];Array['from'](prodC['children'])[_0x50ea0e(0x1a5)](function(_0x304d9e){var _0x839dde=_0x50ea0e,_0xcc23f1=_0x304d9e[_0x839dde(0x1ec)](_0x839dde(0x22f));if(!_0xcc23f1)return;var _0x76d267=_0x304d9e['querySelector'](_0x839dde(0x188)),_0x23f0db=_0xcc23f1[_0x839dde(0x214)];_0x23f0db&&_0xc413b2[_0x839dde(0x16b)]({'setItemId':_0x23f0db['id'],'setDescripcion':_0x23f0db[_0x839dde(0x15c)],'setCantidad':+_0x76d267[_0x839dde(0x1d4)]});}),baseItem[_0x50ea0e(0x14c)]=_0xc413b2,_0xc413b2['length']===0x0&&(document[_0x50ea0e(0x1aa)](_0x50ea0e(0x178))[_0x50ea0e(0x152)][_0x50ea0e(0x19a)](_0x50ea0e(0x150),![]),document['getElementById'](_0x50ea0e(0x178))[_0x50ea0e(0x152)]['toggle']('newItem_hidden',!![]));}document['getElementById']('newItem_btn_addVariantGroup')[_0xaab265(0x1c6)]('click',function(){var _0x1f735a=_0xaab265,_0xbd6b90=vgCount++,_0x16de8f=document[_0x1f735a(0x177)](_0x1f735a(0x233));_0x16de8f[_0x1f735a(0x1d2)][_0x1f735a(0x210)]=_0xbd6b90,_0x16de8f[_0x1f735a(0x175)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0xbd6b90+'\x22>'+_0x1f735a(0x1ef)+_0xbd6b90+'\x22>'+_0x1f735a(0x17b),vgC[_0x1f735a(0x232)](_0x16de8f),_0x16de8f[_0x1f735a(0x1ec)](_0x1f735a(0x10f))['addEventListener'](_0x1f735a(0x234),generateVariants),_0x16de8f['querySelector'](_0x1f735a(0x21a))[_0x1f735a(0x1c6)](_0x1f735a(0x234),generateVariants),_0x16de8f['querySelector'](_0x1f735a(0x107))['addEventListener'](_0x1f735a(0x180),function(){var _0x3452c7=_0x1f735a;_0x16de8f[_0x3452c7(0x167)](),generateVariants();});});function generateVariants(){var _0x27b9bc=_0xaab265,_0x2e21a4=[];vgC['querySelectorAll']('div')[_0x27b9bc(0x1a5)](function(_0x88a8f4){var _0x47b0bc=_0x27b9bc,_0x18286a=_0x88a8f4[_0x47b0bc(0x1ec)]('.vgName')[_0x47b0bc(0x1d4)]['trim'](),_0x4e2127=_0x88a8f4[_0x47b0bc(0x1ec)](_0x47b0bc(0x21a))[_0x47b0bc(0x1d4)][_0x47b0bc(0x14f)](',')[_0x47b0bc(0x228)](_0x21d409=>_0x21d409[_0x47b0bc(0x224)]())['filter'](_0x368d75=>_0x368d75);if(_0x18286a&&_0x4e2127[_0x47b0bc(0x21e)])_0x2e21a4[_0x47b0bc(0x16b)]({'name':_0x18286a,'vals':_0x4e2127});});var _0x3cfae4=[{}];_0x2e21a4[_0x27b9bc(0x1a5)](function(_0x404c53){_0x3cfae4=_0x3cfae4['flatMap'](function(_0x219cd4){return _0x404c53['vals']['map'](function(_0x8c99ef){var _0x115196=_0x1abb,_0x1a6039=Object['assign']({},_0x219cd4);return _0x1a6039[_0x404c53[_0x115196(0x15c)]]=_0x8c99ef,_0x1a6039;});});}),newItems=[],varContainer[_0x27b9bc(0x175)]='',_0x3cfae4['forEach'](function(_0xf19ccf,_0x77a912){var _0x21d811=_0x27b9bc,_0x299ae9=JSON[_0x21d811(0x22d)](JSON['stringify'](baseItem));_0x299ae9[_0x21d811(0x229)]=_0xf19ccf,_0x299ae9[_0x21d811(0x121)]=baseItem['setItemName']+'\x20'+Object[_0x21d811(0x114)](_0xf19ccf)[_0x21d811(0x228)](_0xdc82f0=>_0xdc82f0[0x0]+'\x20'+_0xdc82f0[0x1])[_0x21d811(0x24a)]('\x20'),newItems['push'](_0x299ae9);var _0x1962b6=document['createElement'](_0x21d811(0x233));_0x1962b6[_0x21d811(0x152)][_0x21d811(0x219)](_0x21d811(0x10b)),_0x1962b6[_0x21d811(0x1d2)][_0x21d811(0x210)]=_0x77a912,_0x1962b6[_0x21d811(0x175)]=_0x21d811(0x1ac)+_0x299ae9[_0x21d811(0x121)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x299ae9[_0x21d811(0x215)]+_0x21d811(0x105)+_0x299ae9[_0x21d811(0x16a)]+_0x21d811(0x1fa)+_0x299ae9[_0x21d811(0x244)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x77a912+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x77a912+_0x21d811(0x18a)+_0x77a912+_0x21d811(0x197),varContainer[_0x21d811(0x232)](_0x1962b6),_0x1962b6['querySelector'](_0x21d811(0x1ae))[_0x21d811(0x1c6)](_0x21d811(0x22c),_0x234dc8=>newItems[_0x77a912][_0x21d811(0x215)]=_0x234dc8['target'][_0x21d811(0x1d4)]),_0x1962b6[_0x21d811(0x1ec)](_0x21d811(0x109))[_0x21d811(0x1c6)](_0x21d811(0x22c),_0x2067f6=>newItems[_0x77a912][_0x21d811(0x16a)]=_0x2067f6[_0x21d811(0x135)][_0x21d811(0x1d4)]),_0x1962b6[_0x21d811(0x1ec)](_0x21d811(0x251))[_0x21d811(0x1c6)](_0x21d811(0x1e7),_0x27c7ea=>newItems[_0x77a912][_0x21d811(0x244)]=_0x27c7ea['target'][_0x21d811(0x1d4)]),initVariantUnits(_0x77a912),initVariantComponents(_0x77a912),initVariantBranches(_0x77a912),_0x1962b6[_0x21d811(0x1ec)](_0x21d811(0x217))[_0x21d811(0x1c6)](_0x21d811(0x180),function(){var _0x324241=_0x21d811,_0x4d8243=+_0x1962b6[_0x324241(0x1d2)]['idx'];newItems[_0x324241(0x110)](_0x4d8243,0x1),_0x1962b6[_0x324241(0x167)](),document[_0x324241(0x11f)]('.variantForm')[_0x324241(0x1a5)](function(_0x48de17,_0x1b7ac0){var _0x466c1a=_0x324241;_0x48de17['dataset'][_0x466c1a(0x210)]=_0x1b7ac0;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x149c1d){var _0x533f64=_0xaab265,_0x5c3c3d=document[_0x533f64(0x1aa)](_0x533f64(0x11d)+_0x149c1d+_0x533f64(0x183)),_0x418cb4=[];Array[_0x533f64(0x11a)](_0x5c3c3d[_0x533f64(0x174)])[_0x533f64(0x1a5)](function(_0x23243b){var _0x34db68=_0x533f64,_0x31250e=+_0x23243b[_0x34db68(0x1ec)](_0x34db68(0x200))[_0x34db68(0x1d4)]||0x0,_0x7b355=_0x23243b[_0x34db68(0x1ec)](_0x34db68(0x1db))[_0x34db68(0x1d4)][_0x34db68(0x224)](),_0x2234a4=_0x23243b[_0x34db68(0x1ec)](_0x34db68(0x119))[_0x34db68(0x1d4)],_0x181a20=+_0x23243b[_0x34db68(0x1ec)](_0x34db68(0x1e6))[_0x34db68(0x1d4)]||0x0,_0x3a2e9c=+_0x23243b[_0x34db68(0x1ec)](_0x34db68(0x1de))[_0x34db68(0x1d4)]||0x0,_0x28c970=_0x23243b['dataset'][_0x34db68(0x1ee)]==='true',_0x7e2537=+_0x5c3c3d['querySelector'](_0x34db68(0x193))[_0x34db68(0x1d4)]||0x1,_0x5af9d1=_0x28c970?0x1:_0x31250e==_0x7e2537?0x1:_0x31250e<_0x7e2537?_0x7e2537/_0x31250e:_0x31250e/_0x7e2537;_0x418cb4['push']({'setAlias':_0x7b355,'setUnitCode':_0x2234a4,'setEquivalence':_0x31250e,'setFactor':_0x5af9d1,'setPrice':_0x181a20,'setCost':_0x3a2e9c,'setDefault':_0x28c970?0x1:0x0});}),newItems[_0x149c1d][_0x533f64(0x189)]=_0x418cb4;}function initVariantUnits(_0x1784ce){var _0x1b2084=_0xaab265,_0x26276b=document['getElementById']('variant_'+_0x1784ce+_0x1b2084(0x183));_0x26276b[_0x1b2084(0x175)]='',newItems[_0x1784ce][_0x1b2084(0x189)][_0x1b2084(0x1a5)](function(_0x458ab6){var _0x4417b7=_0x1b2084;addUnit(_0x458ab6[_0x4417b7(0x1c0)],_0x458ab6[_0x4417b7(0x1fe)],_0x458ab6['setEquivalence'],_0x458ab6[_0x4417b7(0x11b)],_0x458ab6[_0x4417b7(0x1cf)],_0x458ab6['setCost'],_0x26276b);}),_0x26276b[_0x1b2084(0x1bf)][_0x1b2084(0x1ec)](_0x1b2084(0x21f))[_0x1b2084(0x1c6)](_0x1b2084(0x180),function(){addUnit('','',0x1,![],'','',_0x26276b),updateVariantUnits(_0x1784ce);});}function updateVariantUnits(_0x5eeaa8){var _0x2f2307=_0xaab265,_0x37b719=document[_0x2f2307(0x1aa)](_0x2f2307(0x11d)+_0x5eeaa8+_0x2f2307(0x183)),_0x411c65=_0x37b719['querySelector'](_0x2f2307(0x193)),_0x3e77f1=_0x411c65?+_0x411c65['value']:0x1,_0x1e2e28=Array['from'](_0x37b719[_0x2f2307(0x174)])[_0x2f2307(0x228)](function(_0x2be250){var _0xcc6e90=_0x2f2307,_0x4bf855=_0x2be250[_0xcc6e90(0x1ec)](_0xcc6e90(0x1db))[_0xcc6e90(0x1d4)][_0xcc6e90(0x224)](),_0x35d298=_0x2be250[_0xcc6e90(0x1ec)](_0xcc6e90(0x119))[_0xcc6e90(0x1d4)],_0x250b64=+_0x2be250[_0xcc6e90(0x1ec)](_0xcc6e90(0x200))[_0xcc6e90(0x1d4)]||0x0,_0x41b80d=+_0x2be250[_0xcc6e90(0x1ec)](_0xcc6e90(0x1e6))[_0xcc6e90(0x1d4)]||0x0,_0x4759f6=+_0x2be250['querySelector']('.costInput')[_0xcc6e90(0x1d4)]||0x0,_0x33f141=_0x2be250[_0xcc6e90(0x1d2)][_0xcc6e90(0x1ee)]===_0xcc6e90(0x156);return{'setAlias':_0x4bf855,'setUnitCode':_0x35d298,'setEquivalence':_0x250b64,'setFactor':_0x33f141?0x1:_0x250b64==_0x3e77f1?0x1:_0x250b64<_0x3e77f1?_0x3e77f1/_0x250b64:_0x250b64/_0x3e77f1,'setPrice':_0x41b80d,'setCost':_0x4759f6,'setDefault':_0x33f141?0x1:0x0};});newItems[_0x5eeaa8]['setItemUnits']=_0x1e2e28;}function initVariantComponents(_0x585992){var _0x55901f=_0xaab265,_0x2d3d9d=document[_0x55901f(0x1aa)]('variant_'+_0x585992+_0x55901f(0x128));_0x2d3d9d[_0x55901f(0x175)]='',newItems[_0x585992][_0x55901f(0x14c)][_0x55901f(0x1a5)](function(_0x88921c){var _0x40af25=_0x55901f,_0xf88160=document['createElement'](_0x40af25(0x233)),_0x47d592=Date['now']();_0xf88160[_0x40af25(0x1d2)][_0x40af25(0x210)]=_0x47d592,_0xf88160[_0x40af25(0x175)]=_0x40af25(0x159)+_0x47d592+_0x40af25(0x198)+_0x88921c[_0x40af25(0x235)]+_0x40af25(0x1f4),_0x2d3d9d[_0x40af25(0x232)](_0xf88160),initProdSearch(_0xf88160[_0x40af25(0x1ec)](_0x40af25(0x22f)),{'id':_0x88921c['setItemId'],'name':_0x88921c['setDescripcion']}),_0xf88160[_0x40af25(0x1ec)](_0x40af25(0x188))[_0x40af25(0x1c6)](_0x40af25(0x22c),function(){updateVariantComponents(_0x585992);}),_0xf88160['querySelector'](_0x40af25(0x116))['addEventListener'](_0x40af25(0x180),function(){var _0x5bb39d=_0x40af25;_0xf88160[_0x5bb39d(0x167)](),updateVariantComponents(_0x585992);});}),_0x2d3d9d[_0x55901f(0x1bf)][_0x55901f(0x1ec)]('.addVariantComp')[_0x55901f(0x1c6)](_0x55901f(0x180),function(){var _0x5a6f0e=_0x55901f,_0x534a62=document['createElement']('div'),_0x5dc83c=Date[_0x5a6f0e(0x1ea)]();_0x534a62[_0x5a6f0e(0x1d2)][_0x5a6f0e(0x210)]=_0x5dc83c,_0x534a62[_0x5a6f0e(0x175)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x5dc83c+_0x5a6f0e(0x1d9),_0x2d3d9d[_0x5a6f0e(0x232)](_0x534a62),initProdSearch(_0x534a62[_0x5a6f0e(0x1ec)](_0x5a6f0e(0x22f))),_0x534a62['querySelector'](_0x5a6f0e(0x188))['addEventListener'](_0x5a6f0e(0x22c),function(){updateVariantComponents(_0x585992);}),_0x534a62[_0x5a6f0e(0x1ec)](_0x5a6f0e(0x116))[_0x5a6f0e(0x1c6)](_0x5a6f0e(0x180),function(){var _0x1b749b=_0x5a6f0e;_0x534a62[_0x1b749b(0x167)](),updateVariantComponents(_0x585992);});});}function updateVariantComponents(_0x47618c){var _0x140941=_0xaab265,_0x1a4dd6=document[_0x140941(0x1aa)](_0x140941(0x11d)+_0x47618c+_0x140941(0x128)),_0x291719=Array[_0x140941(0x11a)](_0x1a4dd6[_0x140941(0x174)])['map'](function(_0x2fb28e){var _0x51f09c=_0x140941,_0x4201e5=_0x2fb28e[_0x51f09c(0x1ec)]('.prod_input_container'),_0xa220b4=_0x4201e5['selectedItem'],_0xcc72cb=+_0x2fb28e[_0x51f09c(0x1ec)]('.prodQty')['value']||0x0;return _0xa220b4?{'setItemId':_0xa220b4['id'],'setDescripcion':_0xa220b4[_0x51f09c(0x15c)],'setCantidad':_0xcc72cb}:null;})[_0x140941(0x1a2)](_0x45b5dd=>_0x45b5dd);newItems[_0x47618c][_0x140941(0x14c)]=_0x291719;}function initVariantBranches(_0x3bb9aa){var _0x1c91b0=_0xaab265;const _0xbf45cf=getAllWarehouses();var _0x31d3ba=document[_0x1c91b0(0x1aa)](_0x1c91b0(0x11d)+_0x3bb9aa+_0x1c91b0(0x23c));_0x31d3ba['innerHTML']='',newItems[_0x3bb9aa][_0x1c91b0(0x1cb)]['forEach'](function(_0x275c67){var _0x5900c5=_0x1c91b0,_0x3f83e0=_0xbf45cf[_0x5900c5(0x1f6)](_0x2892ef=>_0x2892ef[_0x5900c5(0x1ca)]==_0x275c67[_0x5900c5(0x145)]),_0x426f0b=document[_0x5900c5(0x177)](_0x5900c5(0x233));_0x426f0b[_0x5900c5(0x175)]=_0x5900c5(0x12f)+_0x275c67[_0x5900c5(0x145)]+_0x5900c5(0x211)+_0x3f83e0[_0x5900c5(0x138)]+_0x5900c5(0x134)+_0x275c67[_0x5900c5(0x145)]+_0x5900c5(0x172)+_0x275c67['setStockInitial']+_0x5900c5(0x208)+_0x275c67['setWarehouseCode']+_0x5900c5(0x172)+_0x275c67[_0x5900c5(0x169)]+'\x22>',_0x31d3ba[_0x5900c5(0x232)](_0x426f0b),_0x426f0b[_0x5900c5(0x11f)]('input')[_0x5900c5(0x1a5)](function(_0x57a3de){var _0x419c0c=_0x5900c5;_0x57a3de[_0x419c0c(0x1c6)](_0x419c0c(0x22c),function(){updateVariantBranches(_0x3bb9aa);});});}),_0xbf45cf[_0x1c91b0(0x1a5)](function(_0x525d9c){var _0x5524f1=_0x1c91b0;if(!newItems[_0x3bb9aa][_0x5524f1(0x1cb)][_0x5524f1(0x1f6)](_0x1d9231=>_0x1d9231[_0x5524f1(0x145)]===_0x525d9c[_0x5524f1(0x1ca)])){var _0x3ac599=document[_0x5524f1(0x177)](_0x5524f1(0x233));_0x3ac599[_0x5524f1(0x175)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x525d9c[_0x5524f1(0x1ca)]+_0x5524f1(0x124)+_0x525d9c['setWarehouseName']+_0x5524f1(0x134)+_0x525d9c['setWarehouseId']+_0x5524f1(0x208)+_0x525d9c[_0x5524f1(0x1ca)]+'\x22>',_0x31d3ba[_0x5524f1(0x232)](_0x3ac599),_0x3ac599[_0x5524f1(0x11f)](_0x5524f1(0x22c))[_0x5524f1(0x1a5)](function(_0x9db790){var _0x52579d=_0x5524f1;_0x9db790[_0x52579d(0x1c6)](_0x52579d(0x22c),function(){updateVariantBranches(_0x3bb9aa);});});}});}function updateVariantBranches(_0x1620d6){var _0x37524b=_0xaab265,_0x464e69=document['getElementById']('variant_'+_0x1620d6+'_branch_container'),_0x338114=[];_0x464e69[_0x37524b(0x11f)](_0x37524b(0x233))[_0x37524b(0x1a5)](function(_0x4dc251){var _0x2ad641=_0x37524b,_0x593706=_0x4dc251[_0x2ad641(0x1ec)](_0x2ad641(0x112));if(_0x593706['checked']){var _0x29e9dc=+_0x593706[_0x2ad641(0x1d2)]['id'],_0x521ad5=+_0x4dc251[_0x2ad641(0x1ec)]('.branchInit')[_0x2ad641(0x1d4)]||0x0,_0x590cd3=+_0x4dc251['querySelector'](_0x2ad641(0x186))[_0x2ad641(0x1d4)]||0x0;_0x338114[_0x2ad641(0x16b)]({'setWarehouseCode':_0x29e9dc,'setStockInitial':_0x521ad5,'setStockMinimum':_0x590cd3});}}),newItems[_0x1620d6][_0x37524b(0x1cb)]=_0x338114;}async function storeOfflineProduct(_0x5207e2){var _0x3a38ed=_0xaab265;try{const _0x35fae6=await createCartStore(''),_0x1cfbd0=_0x35fae6[_0x3a38ed(0x14e)](_0x3a38ed(0x1d6),_0x3a38ed(0x1ed)),_0x1e2f6b=_0x1cfbd0['objectStore'](_0x3a38ed(0x1d6));_0x1e2f6b['add'](_0x5207e2),_0x1cfbd0[_0x3a38ed(0x226)]=()=>{var _0x34c1c9=_0x3a38ed;console[_0x34c1c9(0x1fc)](_0x34c1c9(0x142));},_0x1cfbd0[_0x3a38ed(0x1c9)]=_0xb4dc32=>{var _0x125f87=_0x3a38ed;console[_0x125f87(0x1ce)]('Error\x20al\x20guardar\x20Producto\x20Offline:',_0xb4dc32[_0x125f87(0x135)][_0x125f87(0x1ce)]);};}catch(_0x60b689){console[_0x3a38ed(0x1ce)](_0x3a38ed(0x11e),_0x60b689);}}document[_0xaab265(0x1aa)](_0xaab265(0x238))[_0xaab265(0x1c6)]('click',async function(_0x3884bf){var _0x61049e=_0xaab265;_0x3884bf[_0x61049e(0x252)]();const _0x5f2e3f=document[_0x61049e(0x1aa)](_0x61049e(0x1e3)),_0x372fb6=document[_0x61049e(0x1aa)]('setItemFree')[_0x61049e(0x1d4)];if(!_0x5f2e3f['value'][_0x61049e(0x224)]()&&_0x372fb6==0x0){ntfShow(_0x61049e(0x13a),0x2,0x1);return;}_0x372fb6==0x1&&(_0x5f2e3f[_0x61049e(0x1d4)]='',baseItem[_0x61049e(0x215)]='');const _0x23a829=document[_0x61049e(0x1aa)](_0x61049e(0x154));if(!_0x23a829[_0x61049e(0x1d4)][_0x61049e(0x224)]()){ntfShow(_0x61049e(0x1af),0x2,0x1);return;}const _0xc7f759=document['getElementById'](_0x61049e(0x181));hideModalCreateItem(),showLoadingModal();newItems[_0x61049e(0x21e)]===0x0&&(newItems=[baseItem]);const _0x564bee=document[_0x61049e(0x1aa)](_0x61049e(0x1c8))['value'],_0x419967=window_options[_0x564bee][_0x61049e(0x207)],_0x537b80=[];newItems['forEach'](_0x5aab6e=>{var _0x4b589c=_0x61049e;const _0x53b3a8=generateNumericUniqId();_0x5aab6e['setItemUnits'][_0x4b589c(0x1a5)](_0x278888=>{var _0x17ebca=_0x4b589c;const _0x14b0dc=generateNumericUniqId();_0x278888[_0x17ebca(0x160)]=_0x14b0dc;const _0x522b09={'id':_0x14b0dc,'setIdProducto':_0x53b3a8,'setCodProducto':_0x5aab6e[_0x17ebca(0x215)],'setDescripcion':_0x5aab6e[_0x17ebca(0x1b5)],'setItemDescription':_0x5aab6e[_0x17ebca(0x1d5)],'setBatchExpirationDate':_0x5aab6e[_0x17ebca(0x244)],'setBatchName':'','setCategoria':_0x5aab6e[_0x17ebca(0x1e4)][0x0]||'','setMarca':_0x5aab6e[_0x17ebca(0x21b)][0x0]||'','setConversionFactor':parseFloat(_0x278888['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x5aab6e[_0x17ebca(0x133)]?0x1:0x0,'setItemIsSold':_0x5aab6e[_0x17ebca(0x1a0)]?0x1:0x0,'setPorcentajeIgv':_0x5aab6e[_0x17ebca(0x1dd)],'setPrinters':[],'setTaxId':_0x5aab6e[_0x17ebca(0x20f)],'setTipAfeIgv':_0x5aab6e[_0x17ebca(0x17a)],'setUnidad':_0x278888['setUnitCode'],'setUnidadCodigo':_0x278888[_0x17ebca(0x1fe)],'setItemUnitAlias':_0x278888[_0x17ebca(0x1c0)],'currency_data':[{'currency':_0x419967,'setMtoPrecioCostoUnitario':_0x278888[_0x17ebca(0x1c2)],'setMtoPrecioUnitario':_0x278888['setPrice'],'setPriceLists':[]}],'sucursales':_0x5aab6e[_0x17ebca(0x1cb)][_0x17ebca(0x228)](_0x20d793=>({'setIdSucursal':_0x20d793[_0x17ebca(0x145)],'setSucursalStock':_0x20d793[_0x17ebca(0x191)]['toString'](),'setWarehouseStockMin':_0x20d793[_0x17ebca(0x169)][_0x17ebca(0x192)]()})),'setItemFree':_0x5aab6e[_0x17ebca(0x1a1)],'setItemBarCode':_0x5aab6e['setItemBarCode'],'setItemBrands':_0x5aab6e[_0x17ebca(0x21b)][_0x17ebca(0x20d)](),'setItemCategories':_0x5aab6e[_0x17ebca(0x1e4)][_0x17ebca(0x20d)](),'setItemComponents':_0x5aab6e[_0x17ebca(0x14c)][_0x17ebca(0x228)](_0x30044a=>({..._0x30044a})),'setItemImages':_0x5aab6e[_0x17ebca(0x1f0)][_0x17ebca(0x20d)](),'setItemVariantName':_0x5aab6e[_0x17ebca(0x121)],'setItemVariantValues':{..._0x5aab6e['setItemVariantValues']}};_0x537b80['push'](_0x522b09),(_0xc7f759[_0x17ebca(0x24f)]||_0x372fb6==0x1)&&addToCart(_0x522b09);});}),console[_0x61049e(0x1fc)](_0x61049e(0x137),newItems),await finalizeImport(_0x537b80,newItems,![]);}),[_0xaab265(0x125),'dragover'][_0xaab265(0x1a5)](_0x3b9583=>dropZone['addEventListener'](_0x3b9583,_0x5650e4=>{var _0x433a04=_0xaab265;_0x5650e4[_0x433a04(0x252)](),dropZone[_0x433a04(0x152)][_0x433a04(0x219)](_0x433a04(0x1b0));})),[_0xaab265(0x22b),_0xaab265(0x19f)][_0xaab265(0x1a5)](_0x3f4e01=>dropZone[_0xaab265(0x1c6)](_0x3f4e01,_0x5a5bd8=>{var _0x51ae7d=_0xaab265;_0x5a5bd8[_0x51ae7d(0x252)](),dropZone[_0x51ae7d(0x152)][_0x51ae7d(0x167)](_0x51ae7d(0x1b0));})),dropZone['addEventListener'](_0xaab265(0x19f),_0x502bc5=>{var _0x3bc93a=_0xaab265;const _0x50353e=_0x502bc5['dataTransfer']['files'][0x0];if(!_0x50353e)return;fileInput['files']=_0x502bc5[_0x3bc93a(0x225)][_0x3bc93a(0x1b3)],dropZone[_0x3bc93a(0x1ec)]('.drop-zone__prompt')[_0x3bc93a(0x147)]=_0x50353e[_0x3bc93a(0x15c)],removeBtn[_0x3bc93a(0x1fb)]=![],fileInput[_0x3bc93a(0x1e9)](new Event(_0x3bc93a(0x1e7)));}),removeBtn['addEventListener'](_0xaab265(0x180),()=>{var _0x14ff9b=_0xaab265;fileInput['value']='',dropZone['querySelector'](_0x14ff9b(0x17f))[_0x14ff9b(0x147)]=_0x14ff9b(0x153),removeBtn[_0x14ff9b(0x1fb)]=!![],progressBar[_0x14ff9b(0x1b1)][_0x14ff9b(0x17d)]=_0x14ff9b(0x148),statusDiv[_0x14ff9b(0x147)]='',uploadBtn[_0x14ff9b(0x157)]=!![];});const exportBtn=document[_0xaab265(0x1aa)](_0xaab265(0x1d0));exportBtn[_0xaab265(0x1c6)](_0xaab265(0x180),onClickExportarItems);async function onClickExportarItems(){var _0x34c813=_0xaab265;if(!Array[_0x34c813(0x136)](products)||!products[_0x34c813(0x21e)]){ntfShow(_0x34c813(0x194));return;}try{const _0x97ef4c=await fetch(_0x34c813(0x131));if(!_0x97ef4c['ok'])throw new Error(_0x34c813(0x13f));const _0x1c6e62=await _0x97ef4c[_0x34c813(0x1b2)](),_0x2ab872=document[_0x34c813(0x1aa)](_0x34c813(0x1ca))[_0x34c813(0x1d4)];let _0x4661c9=products;const _0x3511a8=getUserPermissionApiERP(0x2);_0x3511a8==0x1&&(_0x4661c9=products[_0x34c813(0x1a2)](_0x5520e0=>Array[_0x34c813(0x136)](_0x5520e0[_0x34c813(0x130)])&&_0x5520e0[_0x34c813(0x130)][_0x34c813(0x115)](_0x5bb1f8=>String(_0x5bb1f8[_0x34c813(0x23d)])==String(_0x2ab872))));const _0x5d23b4=_0x4661c9['reduce']((_0x458fea,_0x46053b)=>{var _0x19c327=_0x34c813;const _0x1af6c9=_0x46053b['setIdProducto'];if(!_0x458fea[_0x1af6c9])_0x458fea[_0x1af6c9]=[];return _0x458fea[_0x1af6c9][_0x19c327(0x16b)](_0x46053b),_0x458fea;},{}),_0x25f97c=Object['values'](_0x5d23b4)[_0x34c813(0x228)](_0x57e541=>{var _0x2a596e=_0x34c813;const _0x3bac47=_0x57e541[0x0],_0x115035=_0x57e541[0x1]||{},_0x52616a=_0x57e541[0x2]||{};function _0x4ce3af(_0x50711a,_0x2916a7,_0x47ec96){var _0x41414c=_0x1abb;if(!_0x50711a||!Array[_0x41414c(0x136)](_0x50711a[_0x41414c(0x166)]))return'';const _0x35b402=_0x50711a[_0x41414c(0x166)]['find'](_0x3ef851=>_0x3ef851['currency']===_0x2916a7);return _0x35b402?_0x35b402[_0x47ec96]:'';}return{'id':_0x3bac47['setIdProducto'],'setItemType':_0x3bac47[_0x2a596e(0x108)],'setCodProducto':_0x3bac47[_0x2a596e(0x165)],'setDescripcion':_0x3bac47[_0x2a596e(0x17c)],'setItemDescription':_0x3bac47[_0x2a596e(0x1d5)],'setCategoria':_0x3bac47[_0x2a596e(0x10c)],'setMarca':_0x3bac47[_0x2a596e(0x1c5)],'setTaxId':_0x3bac47['setTaxId'],'setUnitId':_0x3bac47['id'],'setItemBarCode':_0x3bac47[_0x2a596e(0x16a)],'setUnidadCodigo':_0x3bac47[_0x2a596e(0x196)],'setItemUnitAlias':_0x3bac47['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x4ce3af(_0x3bac47,_0x2a596e(0x1a4),_0x2a596e(0x1a6)),'PEN_setMtoPrecioCostoUnitario':_0x4ce3af(_0x3bac47,_0x2a596e(0x1a4),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x4ce3af(_0x3bac47,_0x2a596e(0x173),_0x2a596e(0x1a6)),'USD_setMtoPrecioCostoUnitario':_0x4ce3af(_0x3bac47,_0x2a596e(0x173),_0x2a596e(0x218)),'setUnitId2':_0x115035['id']??'','setItemBarCode2':_0x115035['setItemBarCode']??'','setUnidadCodigo2':_0x115035['setUnidadCodigo']??'','setItemUnitAlias2':_0x115035['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x115035[_0x2a596e(0x117)]??'','PEN_setMtoPrecioUnitario2':_0x4ce3af(_0x115035,'PEN',_0x2a596e(0x1a6))??'','PEN_setMtoPrecioCostoUnitario2':_0x4ce3af(_0x115035,'PEN','setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x4ce3af(_0x115035,'USD',_0x2a596e(0x1a6))??'','USD_setMtoPrecioCostoUnitario2':_0x4ce3af(_0x115035,'USD','setMtoPrecioCostoUnitario')??'','setUnitId3':_0x52616a['id']??'','setItemBarCode3':_0x52616a[_0x2a596e(0x16a)]??'','setUnidadCodigo3':_0x52616a[_0x2a596e(0x196)]??'','setItemUnitAlias3':_0x52616a['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x52616a[_0x2a596e(0x117)]??'','PEN_setMtoPrecioUnitario3':_0x4ce3af(_0x52616a,'PEN',_0x2a596e(0x1a6))??'','PEN_setMtoPrecioCostoUnitario3':_0x4ce3af(_0x52616a,'PEN',_0x2a596e(0x218))??'','USD_setMtoPrecioUnitario3':_0x4ce3af(_0x52616a,_0x2a596e(0x173),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x4ce3af(_0x52616a,_0x2a596e(0x173),'setMtoPrecioCostoUnitario')??'','setInventariable':_0x3bac47['setInventariable'],'setSucursalStock':_0x3511a8==0x1?_0x3bac47[_0x2a596e(0x130)]['find'](_0x6ce94b=>String(_0x6ce94b[_0x2a596e(0x23d)])==String(_0x2ab872))[_0x2a596e(0x185)]:'','setWarehouseStockMin':_0x3511a8==0x1?_0x3bac47[_0x2a596e(0x130)][_0x2a596e(0x1f6)](_0x4f6583=>String(_0x4f6583[_0x2a596e(0x23d)])==String(_0x2ab872))[_0x2a596e(0x1be)]:'','setBatchName':_0x3bac47[_0x2a596e(0x237)],'setBatchExpirationDate':_0x3bac47[_0x2a596e(0x242)],..._0x3bac47[_0x2a596e(0x229)]};});try{JSON[_0x34c813(0x179)](_0x25f97c);}catch(_0xef9676){console[_0x34c813(0x1ce)](_0x34c813(0x163),_0xef9676),ntfShow(_0x34c813(0x1c4));return;}statusDiv['textContent']=_0x34c813(0x170),progressBar[_0x34c813(0x1b1)][_0x34c813(0x17d)]=_0x34c813(0x176),progressBar[_0x34c813(0x1d4)]=0x0,itemWorker['postMessage']({'action':_0x34c813(0x15f),'products':_0x25f97c,'plantillaBuf':_0x1c6e62},[_0x1c6e62]);}catch(_0x54bb15){console[_0x34c813(0x1ce)](_0x54bb15),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x54bb15[_0x34c813(0x223)]);}}itemWorker[_0xaab265(0x16f)]=({data:_0x53d946})=>{var _0x4f82ee=_0xaab265;const {type:_0xaf838b,payload:_0x34b82f}=_0x53d946;_0xaf838b==='progress'&&(progressBar[_0x4f82ee(0x1b1)][_0x4f82ee(0x17d)]='block',progressBar[_0x4f82ee(0x1d4)]=_0x34b82f['percent'],statusDiv[_0x4f82ee(0x147)]=_0x34b82f['message']);_0xaf838b===_0x4f82ee(0x209)&&(newItemsExcel=_0x34b82f[_0x4f82ee(0x1ad)],statusDiv[_0x4f82ee(0x147)]='✅\x20'+newItemsExcel[_0x4f82ee(0x21e)]+_0x4f82ee(0x17e),uploadBtn[_0x4f82ee(0x157)]=![],progressBar[_0x4f82ee(0x1d4)]=0x64,console[_0x4f82ee(0x1fc)](newItemsExcel));_0xaf838b===_0x4f82ee(0x1ce)&&(statusDiv[_0x4f82ee(0x147)]=_0x4f82ee(0x227)+_0x34b82f,progressBar[_0x4f82ee(0x1b1)][_0x4f82ee(0x17d)]='none');if(_0xaf838b===_0x4f82ee(0x113)){const {wbout:_0x662178,count:_0x404272}=_0x34b82f,_0x1e84c5=new Blob([_0x662178],{'type':_0x4f82ee(0x241)}),_0x821038=URL[_0x4f82ee(0x19b)](_0x1e84c5),_0x46618b=document[_0x4f82ee(0x177)]('a'),_0x33320a=new Date()[_0x4f82ee(0x1e1)]()[_0x4f82ee(0x20d)](0x0,0xa);_0x46618b[_0x4f82ee(0x199)]='Plantilla-Items-Export-'+_0x33320a+'.xlsx',_0x46618b[_0x4f82ee(0x106)]=_0x821038,_0x46618b[_0x4f82ee(0x180)](),URL[_0x4f82ee(0x1f2)](_0x821038),statusDiv[_0x4f82ee(0x147)]='✅\x20Exportación\x20completada:\x20'+_0x404272+_0x4f82ee(0x240),progressBar[_0x4f82ee(0x1b1)][_0x4f82ee(0x17d)]=_0x4f82ee(0x148);}},fileInput[_0xaab265(0x1c6)](_0xaab265(0x1e7),async _0x3ac0ab=>{var _0x1a1c87=_0xaab265;const _0x1c96f8=_0x3ac0ab[_0x1a1c87(0x135)][_0x1a1c87(0x1b3)][0x0];if(!_0x1c96f8)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x1a1c87(0x1b1)][_0x1a1c87(0x17d)]=_0x1a1c87(0x148),dropZone['querySelector']('.drop-zone__prompt')['textContent']=_0x1c96f8['name'],removeBtn[_0x1a1c87(0x1fb)]=![];try{const _0x1a205b=await _0x1c96f8[_0x1a1c87(0x1b2)]();itemWorker['postMessage']({'action':_0x1a1c87(0x1d7),'buf':_0x1a205b,'maxRows':0x1388});}catch(_0x2c4cdd){statusDiv[_0x1a1c87(0x147)]=_0x1a1c87(0x146);}finally{fileInput[_0x1a1c87(0x1d4)]='';}}),uploadBtn[_0xaab265(0x1c6)](_0xaab265(0x180),async()=>{var _0x183bd1=_0xaab265;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x29e647=document[_0x183bd1(0x1aa)](_0x183bd1(0x1ca))[_0x183bd1(0x1d4)],_0x4a8f93=[];newItemsExcel['forEach'](_0x28276a=>{var _0xcf4b9e=_0x183bd1;const _0x2f89d4=Boolean(_0x28276a[_0xcf4b9e(0x19e)]),_0x401b4b=_0x2f89d4?_0x28276a[_0xcf4b9e(0x19e)]:generateNumericUniqId();_0x28276a[_0xcf4b9e(0x1cb)]=[{'setStockInitial':_0x28276a['setStockInitial'],'setStockMinimum':_0x28276a[_0xcf4b9e(0x169)],'setWarehouseCode':_0x29e647}],_0x28276a[_0xcf4b9e(0x189)][_0xcf4b9e(0x1a5)](_0x56b070=>{var _0x5d794c=_0xcf4b9e;const _0x4d8db1=Boolean(_0x56b070[_0x5d794c(0x160)]),_0x2da64f=_0x4d8db1?_0x56b070[_0x5d794c(0x160)]:generateNumericUniqId();_0x56b070['setItemUnitId']=_0x2da64f;const _0x1072a7=[];_0x1072a7['push']({'currency':_0x5d794c(0x1a4),'setMtoPrecioCostoUnitario':_0x56b070[_0x5d794c(0x1c2)],'setMtoPrecioUnitario':_0x56b070[_0x5d794c(0x1cf)],'setPriceLists':[]});const _0x530ee3=_0x56b070['setCostUSD']!=null&&_0x56b070[_0x5d794c(0x23e)]!=null&&(!isNaN(_0x56b070[_0x5d794c(0x239)])||!isNaN(_0x56b070[_0x5d794c(0x23e)]));_0x530ee3&&_0x1072a7[_0x5d794c(0x16b)]({'currency':_0x5d794c(0x173),'setMtoPrecioCostoUnitario':_0x56b070['setCostUSD'],'setMtoPrecioUnitario':_0x56b070['setPriceUSD'],'setPriceLists':[]});const _0x3aab73={'id':_0x2da64f,'setIdProducto':_0x401b4b,'setItemBarCode':_0x56b070[_0x5d794c(0x16a)],'setCodProducto':_0x28276a[_0x5d794c(0x215)],'setDescripcion':_0x28276a[_0x5d794c(0x1b5)],'setItemDescription':_0x28276a[_0x5d794c(0x1d5)],'setBatchExpirationDate':_0x28276a[_0x5d794c(0x244)],'setBatchName':_0x28276a[_0x5d794c(0x237)],'setCategoria':_0x28276a[_0x5d794c(0x1e4)][0x0]||'','setMarca':_0x28276a[_0x5d794c(0x21b)][0x0]||'','setConversionFactor':parseFloat(_0x56b070['setFactor']),'setImages':[],'setImg':_0x5d794c(0x1b7),'setInventariable':_0x28276a[_0x5d794c(0x220)],'setItemIsBought':_0x28276a[_0x5d794c(0x133)],'setItemIsSold':_0x28276a[_0x5d794c(0x1a0)],'setPorcentajeIgv':_0x28276a['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x28276a[_0x5d794c(0x20f)],'setTipAfeIgv':_0x28276a['setItemTaxCode'],'setUnidad':_0x56b070[_0x5d794c(0x1fe)],'setUnidadCodigo':_0x56b070[_0x5d794c(0x1fe)],'setItemUnitAlias':_0x56b070[_0x5d794c(0x1c0)],'currency_data':_0x1072a7,'sucursales':_0x28276a['setItemWarehouses'][_0x5d794c(0x228)](_0x2bf619=>({'setIdSucursal':_0x2bf619[_0x5d794c(0x145)],'setSucursalStock':_0x2bf619[_0x5d794c(0x191)]['toString'](),'setWarehouseStockMin':_0x2bf619[_0x5d794c(0x169)][_0x5d794c(0x192)]()})),'setItemFree':_0x28276a[_0x5d794c(0x1a1)],'setItemBrands':_0x28276a[_0x5d794c(0x21b)]['slice'](),'setItemCategories':_0x28276a[_0x5d794c(0x1e4)]['slice'](),'setItemComponents':_0x28276a[_0x5d794c(0x14c)][_0x5d794c(0x228)](_0x51bd5f=>({..._0x51bd5f})),'setItemImages':_0x28276a['setItemImages'][_0x5d794c(0x20d)](),'setItemVariantName':_0x28276a[_0x5d794c(0x121)],'setItemVariantValues':{..._0x28276a['setItemVariantValues']}},_0x5d37ff=products['findIndex'](_0x777dbc=>_0x777dbc['id']==_0x2da64f&&_0x777dbc['setIdProducto']==_0x401b4b);_0x5d37ff>-0x1?Object['assign'](products[_0x5d37ff],_0x3aab73):_0x4a8f93[_0x5d794c(0x16b)](_0x3aab73);});}),console['log'](_0x183bd1(0x137),newItemsExcel),await finalizeImport(_0x4a8f93,newItemsExcel,!![]);});function initializeFormImages(){var _0xcce8db=_0xaab265;currentImages=Array(MAX_IMAGES)[_0xcce8db(0x1ab)](null),imgC[_0xcce8db(0x175)]='',baseItem['setItemImages']=[];for(var _0x2d60fc=0x0;_0x2d60fc<MAX_IMAGES;_0x2d60fc++){(function(_0x5a3fdb){var _0x112e3e=_0xcce8db,_0x79a2=document[_0x112e3e(0x177)](_0x112e3e(0x233));_0x79a2[_0x112e3e(0x1bb)]=_0x112e3e(0x16c),_0x79a2[_0x112e3e(0x1d2)][_0x112e3e(0x210)]=_0x5a3fdb;var _0x3e06fe=document['createElement']('input');_0x3e06fe[_0x112e3e(0x187)]=_0x112e3e(0x18b),_0x3e06fe[_0x112e3e(0x149)]=_0x112e3e(0x1a9),_0x3e06fe['style'][_0x112e3e(0x17d)]='none';var _0xd51f40=document[_0x112e3e(0x177)](_0x112e3e(0x24e));_0xd51f40['textContent']='+',_0x79a2[_0x112e3e(0x232)](_0x3e06fe),_0x79a2[_0x112e3e(0x232)](_0xd51f40),imgC[_0x112e3e(0x232)](_0x79a2),_0x79a2[_0x112e3e(0x1c6)]('click',function(){var _0x2c2595=_0x112e3e;_0x3e06fe[_0x2c2595(0x180)]();}),_0x3e06fe['addEventListener'](_0x112e3e(0x1e7),function(_0x59f44d){var _0x4d7a55=_0x112e3e,_0x35bd01=_0x59f44d['target'][_0x4d7a55(0x1b3)][0x0];if(!_0x35bd01)return removeImg(_0x5a3fdb);var _0x33ca04=new FileReader();_0x33ca04[_0x4d7a55(0x127)]=function(_0x2f0860){var _0x236120=_0x4d7a55;_0x79a2[_0x236120(0x175)]=_0x236120(0x19c)+_0x2f0860['target']['result']+'\x22>';var _0x3ba872=document[_0x236120(0x177)](_0x236120(0x24e));_0x3ba872[_0x236120(0x1bb)]=_0x236120(0x167),_0x3ba872[_0x236120(0x147)]='×',_0x3ba872[_0x236120(0x1c6)]('click',function(_0x1614d5){var _0xf5c78a=_0x236120;_0x1614d5[_0xf5c78a(0x1f8)](),removeImg(_0x5a3fdb);}),_0x79a2[_0x236120(0x232)](_0x3ba872),currentImages[_0x5a3fdb]=_0x35bd01,baseItem[_0x236120(0x1f0)]=currentImages[_0x236120(0x1a2)](function(_0x41c8a1){return _0x41c8a1;});},_0x33ca04[_0x4d7a55(0x1d3)](_0x35bd01);});}(_0x2d60fc));}}function initializeFormIsSoldIsBought(_0x222c28=0x0){var _0x806a22=_0xaab265;let _0x411083,_0xdba7fb;if(_0x222c28!=0x0){const _0x478024=products['find'](_0x312faa=>_0x312faa['id']==_0x222c28);_0x411083=_0x478024[_0x806a22(0x133)]==0x1||_0x478024[_0x806a22(0x133)]==!![]?!![]:![],_0xdba7fb=_0x478024[_0x806a22(0x1a0)]==0x1||_0x478024[_0x806a22(0x1a0)]==!![]?!![]:![];}else _0x411083=!![],_0xdba7fb=!![];document[_0x806a22(0x1aa)](_0x806a22(0x213))['checked']=_0x411083,document[_0x806a22(0x1aa)]('newItem_chk_sell')['checked']=_0xdba7fb,baseItem['setItemIsBought']=_0x411083,baseItem[_0x806a22(0x1a0)]=_0xdba7fb;}function initializeFormInputsBasic(_0x3bc852=0x0){var _0x3e93d0=_0xaab265;let _0x445a17,_0x946427,_0x24acc6,_0x312996,_0x393268,_0x314f84;if(_0x3bc852!=0x0){const _0x5c0850=products[_0x3e93d0(0x1f6)](_0x16f4e0=>_0x16f4e0['id']==_0x3bc852);_0x445a17=_0x5c0850[_0x3e93d0(0x108)]??'1',_0x946427=_0x5c0850[_0x3e93d0(0x165)],_0x24acc6=_0x5c0850[_0x3e93d0(0x17c)],_0x312996=_0x5c0850[_0x3e93d0(0x1d5)],_0x393268=_0x5c0850['setBatchExpirationDate']??'',_0x314f84=_0x5c0850[_0x3e93d0(0x16a)];}else _0x445a17='1',_0x946427=getNextCode(products),_0x24acc6='',_0x312996='',_0x393268='',_0x314f84='';document[_0x3e93d0(0x1aa)](_0x3e93d0(0x19d))[_0x3e93d0(0x1d4)]=_0x445a17,document[_0x3e93d0(0x1aa)](_0x3e93d0(0x1e3))['value']=_0x946427,document['getElementById'](_0x3e93d0(0x154))[_0x3e93d0(0x1d4)]=_0x24acc6,document[_0x3e93d0(0x1aa)]('inputItemDescription')[_0x3e93d0(0x1d4)]=_0x312996,document[_0x3e93d0(0x1aa)](_0x3e93d0(0x1c1))['value']=_0x393268,document[_0x3e93d0(0x1aa)](_0x3e93d0(0x171))[_0x3e93d0(0x1d4)]=_0x314f84,baseItem[_0x3e93d0(0x108)]=_0x445a17,baseItem[_0x3e93d0(0x215)]=_0x946427,baseItem[_0x3e93d0(0x1b5)]=_0x24acc6,baseItem[_0x3e93d0(0x1d5)]=_0x312996,baseItem[_0x3e93d0(0x244)]=_0x393268,baseItem[_0x3e93d0(0x16a)]=_0x314f84,document[_0x3e93d0(0x1aa)](_0x3e93d0(0x181))[_0x3e93d0(0x24f)]=![];}function initializeFormTax(_0x20c0fd=0x0){var _0x3b039e=_0xaab265;let _0x291ee4;if(_0x20c0fd!=0x0){const _0x448651=products['find'](_0x28780c=>_0x28780c['id']==_0x20c0fd);_0x291ee4=_0x448651[_0x3b039e(0x126)];}else _0x291ee4=myCompany[_0x3b039e(0x18f)];const _0x2a02e8=document[_0x3b039e(0x1aa)](_0x3b039e(0x104));_0x2a02e8[_0x3b039e(0x1d4)]=_0x291ee4,baseItem['setItemTaxId']=_0x291ee4;const _0x27a598=company[0x0][_0x3b039e(0x245)]['find'](_0x264f0b=>_0x264f0b[_0x3b039e(0x126)]==_0x291ee4)?.[_0x3b039e(0x18e)]||0x0,_0x5be210=company[0x0]['setImpuestos'][_0x3b039e(0x1f6)](_0x3ab658=>_0x3ab658['setTaxId']==_0x291ee4)?.[_0x3b039e(0x155)]||0x0;baseItem['setItemTaxCode']=_0x27a598,baseItem[_0x3b039e(0x1dd)]=_0x5be210;}function initializeFormCategoriesBrands(_0x1908ff=0x0){var _0x17208c=_0xaab265;baseItem['setItemCategories']=[],baseItem['setItemBrands']=[],document[_0x17208c(0x1ec)]('#newItem_categories_select\x20.selected_tags')[_0x17208c(0x175)]='',document[_0x17208c(0x1ec)](_0x17208c(0x1eb))['innerHTML']='',document['querySelector'](_0x17208c(0x18d))[_0x17208c(0x175)]='',document[_0x17208c(0x1ec)]('#newItem_brands_select\x20.options_list')[_0x17208c(0x175)]='';const _0x2ba4af=myCompany['setItemCategories']['map'](_0x6b4f1e=>({'setCode':_0x6b4f1e[_0x17208c(0x1d1)],'setName':_0x6b4f1e[_0x17208c(0x1d1)]})),_0x486efe=myCompany['setItemBrands'][_0x17208c(0x228)](_0x3b4450=>({'setCode':_0x3b4450['setItemBrandName'],'setName':_0x3b4450[_0x17208c(0x16e)]}));initMulti(_0x17208c(0x10a),_0x2ba4af),initMulti('newItem_brands_select',_0x486efe),document['getElementById']('newItem_categories_select')[_0x17208c(0x1c6)](_0x17208c(0x20e),function(_0x578c06){var _0x4fcd18=_0x17208c;baseItem['setItemCategories']=_0x578c06[_0x4fcd18(0x132)][_0x4fcd18(0x228)](_0x6fd945=>_0x6fd945['setCode']);}),document['getElementById'](_0x17208c(0x16d))[_0x17208c(0x1c6)](_0x17208c(0x20e),function(_0x52ad16){var _0x388e4e=_0x17208c;baseItem[_0x388e4e(0x21b)]=_0x52ad16['detail']['map'](_0x334e10=>_0x334e10['setCode']);});if(_0x1908ff!=0x0){const _0x4e9492=products[_0x17208c(0x1f6)](_0x24dc62=>_0x24dc62['id']==_0x1908ff);if(_0x4e9492[_0x17208c(0x10c)]){const _0x34b518=document['getElementById'](_0x17208c(0x10a)),_0x57f17d=Array[_0x17208c(0x11a)](_0x34b518[_0x17208c(0x11f)](_0x17208c(0x236)))[_0x17208c(0x1f6)](_0x12ec6c=>_0x12ec6c[_0x17208c(0x1d2)][_0x17208c(0x250)]==_0x4e9492[_0x17208c(0x10c)]);_0x57f17d&&_0x57f17d['click']();}if(_0x4e9492['setMarca']){const _0x39b2e2=document[_0x17208c(0x1aa)](_0x17208c(0x16d)),_0x114463=Array[_0x17208c(0x11a)](_0x39b2e2['querySelectorAll'](_0x17208c(0x236)))['find'](_0x26c9f2=>_0x26c9f2[_0x17208c(0x1d2)][_0x17208c(0x250)]==_0x4e9492[_0x17208c(0x1c5)]);_0x114463&&_0x114463[_0x17208c(0x180)]();}}}function initializeFormUnits(){var _0xf8217d=_0xaab265;unitCount=0x0,document[_0xf8217d(0x1aa)]('newItem_units_container')[_0xf8217d(0x175)]='',baseItem[_0xf8217d(0x189)]=[];var _0x296452=uniqueValuesArray(_0xf8217d(0x1fe),_0xf8217d(0x1a3),myCompany['setUnits']);addUnit('',_0x296452[0x3a]&&_0x296452[0x3a][_0xf8217d(0x204)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x5bbd68=_0xaab265;prodC['innerHTML']='',baseItem[_0x5bbd68(0x14c)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x35c772=_0xaab265;branchesC['innerHTML']='',baseItem[_0x35c772(0x1cb)]=[];const _0x15477f=getAllWarehouses();_0x15477f[_0x35c772(0x1a5)](function(_0x46d9f4){var _0x137675=_0x35c772,_0x50a49b=document[_0x137675(0x177)](_0x137675(0x233));_0x50a49b[_0x137675(0x175)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+_0x137675(0x249)+_0x46d9f4[_0x137675(0x1ca)]+_0x137675(0x211)+_0x46d9f4['setWarehouseName']+'</label>'+_0x137675(0x1cc)+_0x137675(0x221)+_0x137675(0x11c)+_0x46d9f4['setWarehouseId']+'\x22>'+_0x137675(0x1cc)+_0x137675(0x221)+_0x137675(0x24c)+_0x46d9f4[_0x137675(0x1ca)]+'\x22>'+_0x137675(0x1cc)+_0x137675(0x1cc),branchesC[_0x137675(0x232)](_0x50a49b),_0x50a49b['querySelectorAll'](_0x137675(0x22c))[_0x137675(0x1a5)](function(_0x5dac75){_0x5dac75['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x1a832a=_0xaab265;baseItem[_0x1a832a(0x121)]='',baseItem[_0x1a832a(0x229)]={},vgC[_0x1a832a(0x175)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x29ce3a,_0x3bc19c,_0xfbbc9a=![]){var _0x1286a7=_0xaab265;const _0x4724a6=0xc8,_0x3be638={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x1286a7(0x216)],'setWebhook':company[0x0]['setWebhook']};for(let _0x392b27=0x0;_0x392b27<_0x3bc19c[_0x1286a7(0x21e)];_0x392b27+=_0x4724a6){const _0x1f5850=_0x3bc19c[_0x1286a7(0x20d)](_0x392b27,_0x392b27+_0x4724a6);await storeOfflineProduct({..._0x3be638,'newItems':_0x1f5850});}products['push'](..._0x29ce3a),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x1286a7(0x1dc)),_0xfbbc9a?(fileInput['value']='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0x1286a7(0x1b1)][_0x1286a7(0x17d)]=_0x1286a7(0x148),progressBar[_0x1286a7(0x1d4)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}