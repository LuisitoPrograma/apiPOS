/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.3
*/

var _0x108230=_0x2c17;(function(_0x58951f,_0x1e5e2f){var _0x13d4a0=_0x2c17,_0x23aea1=_0x58951f();while(!![]){try{var _0x5eb73d=-parseInt(_0x13d4a0(0x17d))/0x1*(-parseInt(_0x13d4a0(0x243))/0x2)+parseInt(_0x13d4a0(0x146))/0x3+parseInt(_0x13d4a0(0x13b))/0x4*(-parseInt(_0x13d4a0(0x236))/0x5)+parseInt(_0x13d4a0(0x1cc))/0x6+-parseInt(_0x13d4a0(0x22c))/0x7*(-parseInt(_0x13d4a0(0x199))/0x8)+-parseInt(_0x13d4a0(0x1c9))/0x9*(-parseInt(_0x13d4a0(0x1c7))/0xa)+parseInt(_0x13d4a0(0x1b9))/0xb*(-parseInt(_0x13d4a0(0x193))/0xc);if(_0x5eb73d===_0x1e5e2f)break;else _0x23aea1['push'](_0x23aea1['shift']());}catch(_0x10b3ba){_0x23aea1['push'](_0x23aea1['shift']());}}}(_0x43f3,0x9559d));var _0x24ea1a=(function(){var _0x1138e4=!![];return function(_0x3db65c,_0x14ec80){var _0x5a3f3b=_0x1138e4?function(){if(_0x14ec80){var _0x20db74=_0x14ec80['apply'](_0x3db65c,arguments);return _0x14ec80=null,_0x20db74;}}:function(){};return _0x1138e4=![],_0x5a3f3b;};}()),_0x27e59b=_0x24ea1a(this,function(){var _0x5dc5ac=_0x2c17;return _0x27e59b[_0x5dc5ac(0x196)]()[_0x5dc5ac(0x145)](_0x5dc5ac(0x1a3))[_0x5dc5ac(0x196)]()[_0x5dc5ac(0x18d)](_0x27e59b)['search']('(((.+)+)+)+$');});_0x27e59b();var _0xd72372=(function(){var _0x123484=!![];return function(_0x591cad,_0x3b6dd6){var _0x2ed0f9=_0x123484?function(){var _0x3e2bd7=_0x2c17;if(_0x3b6dd6){var _0x32014e=_0x3b6dd6[_0x3e2bd7(0x1c3)](_0x591cad,arguments);return _0x3b6dd6=null,_0x32014e;}}:function(){};return _0x123484=![],_0x2ed0f9;};}()),_0xef68ec=_0xd72372(this,function(){var _0x46f1b0=_0x2c17,_0x554769=function(){var _0xe398ff=_0x2c17,_0x5b56a3;try{_0x5b56a3=Function(_0xe398ff(0x138)+_0xe398ff(0x13a)+');')();}catch(_0x3292ef){_0x5b56a3=window;}return _0x5b56a3;},_0xd958ce=_0x554769(),_0x530a96=_0xd958ce[_0x46f1b0(0x1fc)]=_0xd958ce[_0x46f1b0(0x1fc)]||{},_0x463a3f=['log',_0x46f1b0(0x1f3),_0x46f1b0(0x180),_0x46f1b0(0x152),'exception',_0x46f1b0(0x24f),'trace'];for(var _0x3bc02a=0x0;_0x3bc02a<_0x463a3f[_0x46f1b0(0x1d7)];_0x3bc02a++){var _0x2a9b11=_0xd72372['constructor'][_0x46f1b0(0x144)][_0x46f1b0(0x202)](_0xd72372),_0x2d2464=_0x463a3f[_0x3bc02a],_0x5595c4=_0x530a96[_0x2d2464]||_0x2a9b11;_0x2a9b11[_0x46f1b0(0x1bf)]=_0xd72372[_0x46f1b0(0x202)](_0xd72372),_0x2a9b11[_0x46f1b0(0x196)]=_0x5595c4[_0x46f1b0(0x196)][_0x46f1b0(0x202)](_0x5595c4),_0x530a96[_0x2d2464]=_0x2a9b11;}});_0xef68ec();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x108230(0x1e7)),unitCount=0x0,branchesC=document[_0x108230(0x17c)](_0x108230(0x206)),prodC=document[_0x108230(0x17c)](_0x108230(0x1e4)),vgCount=0x0,varContainer=document['getElementById'](_0x108230(0x1a9)),vgC=document['getElementById'](_0x108230(0x1bc));const fileInput=document['getElementById']('file-input'),progressBar=document[_0x108230(0x17c)](_0x108230(0x174)),statusDiv=document['getElementById'](_0x108230(0x23d)),uploadBtn=document[_0x108230(0x17c)](_0x108230(0x256));let newItemsExcel=null;const itemWorker=new Worker(_0x108230(0x20d)),dropZone=document[_0x108230(0x17c)](_0x108230(0x223)),removeBtn=document['getElementById'](_0x108230(0x1ca));function showModalCreateItem(_0x412e05){var _0x15aacf=_0x108230;const _0x245868=document['getElementById'](_0x15aacf(0x240)),_0x52b26f=document[_0x15aacf(0x17c)]('modalOverlayCreateItem');_0x245868[_0x15aacf(0x1ab)][_0x15aacf(0x1da)](_0x15aacf(0x1bb)),_0x52b26f['style'][_0x15aacf(0x14d)]=_0x15aacf(0x1f6);const _0x2251f5=document[_0x15aacf(0x17c)](_0x15aacf(0x1e6));_0x2251f5[_0x15aacf(0x22a)]=parseInt(_0x412e05),baseItem['setItemFree']=parseInt(_0x412e05);const _0x195fa8=document[_0x15aacf(0x17c)](_0x15aacf(0x210));_0x412e05==0x0&&(_0x195fa8[_0x15aacf(0x12e)]=_0x15aacf(0x24c));_0x412e05==0x1&&(_0x195fa8[_0x15aacf(0x12e)]=_0x15aacf(0x13d));const _0x156cd0=document[_0x15aacf(0x1cd)](_0x15aacf(0x21b));for(let _0x288fda=0x0;_0x288fda<_0x156cd0[_0x15aacf(0x1d7)];_0x288fda++){const _0x28f819=_0x156cd0[_0x288fda];if(_0x412e05==0x0)_0x28f819[_0x15aacf(0x1ab)][_0x15aacf(0x12f)](_0x15aacf(0x15f));else _0x412e05==0x1&&_0x28f819[_0x15aacf(0x1ab)]['add'](_0x15aacf(0x15f));}}function hideModalCreateItem(){var _0x5731f6=_0x108230;const _0x40c1a1=document[_0x5731f6(0x17c)](_0x5731f6(0x240)),_0x3c5a67=document['getElementById'](_0x5731f6(0x18a));_0x40c1a1['classList'][_0x5731f6(0x12f)](_0x5731f6(0x1bb)),_0x3c5a67['style'][_0x5731f6(0x14d)]=_0x5731f6(0x1af);}document['getElementById']('closeModalCreateItem')[_0x108230(0x1ec)](_0x108230(0x1a1),hideModalCreateItem),document[_0x108230(0x17c)](_0x108230(0x18a))[_0x108230(0x1ec)](_0x108230(0x1a1),_0x30d75d=>{var _0x5cc049=_0x108230;_0x30d75d[_0x5cc049(0x1a7)]==_0x30d75d[_0x5cc049(0x183)]&&_0x30d75d['stopPropagation']();});function loadTaxData(){var _0x5ad2f6=_0x108230;const _0x57d182=document[_0x5ad2f6(0x17c)](_0x5ad2f6(0x1ce));_0x57d182[_0x5ad2f6(0x12e)]='',company[0x0]['setImpuestos'][_0x5ad2f6(0x1df)](function(_0x7789ce){var _0x141e92=_0x5ad2f6;const _0x1d6d44=document['createElement'](_0x141e92(0x148));_0x1d6d44[_0x141e92(0x22a)]=_0x7789ce[_0x141e92(0x19e)],_0x1d6d44[_0x141e92(0x12e)]=_0x7789ce[_0x141e92(0x166)]+'\x20('+_0x7789ce[_0x141e92(0x228)]+'%)',_0x7789ce[_0x141e92(0x19e)]==company[0x0][_0x141e92(0x1a2)]&&(_0x1d6d44['selected']=!![]),_0x57d182['appendChild'](_0x1d6d44);});}function uniqueValuesArray(_0x123f6f,_0x21d34c,_0x289cb2){var _0x5a8b26=_0x108230;const _0x52be08=Array['from'](new Set(_0x289cb2['map'](_0x48be53=>{var _0xb6c0d8=_0x2c17;const _0x524bcb=_0x48be53[_0x123f6f];return typeof _0x524bcb==='string'?_0x524bcb[_0xb6c0d8(0x23a)]():_0x524bcb;})[_0x5a8b26(0x191)](_0x16180a=>_0x16180a!=null&&_0x16180a!=='')));return _0x52be08[_0x5a8b26(0x1c0)](_0x334a4d=>{var _0x460437=_0x5a8b26;const _0x5eccc2=_0x289cb2[_0x460437(0x13e)](_0x486a5c=>_0x486a5c[_0x123f6f]===_0x334a4d),_0x3e21dd=_0x5eccc2&&_0x5eccc2[_0x21d34c]!=null?String(_0x5eccc2[_0x21d34c])['trim']():_0x334a4d;return{'setCode':_0x334a4d,'setName':_0x3e21dd};});}function fillSelect(_0x3e8682,_0x1018a6,_0x59cf1e,_0x5c6b62){var _0x370ecd=_0x108230;_0x3e8682['innerHTML']='',_0x1018a6[_0x370ecd(0x1df)](function(_0xbb6875){var _0x4de0cb=_0x370ecd,_0x46fc14=new Option(_0xbb6875[_0x5c6b62],_0xbb6875[_0x59cf1e]);_0x3e8682[_0x4de0cb(0x1da)](_0x46fc14);});}function initMulti(_0x537e6c,_0xf3defc){var _0x48c2ab=_0x108230,_0x1af1c7=document['getElementById'](_0x537e6c),_0x5b799c=_0x1af1c7['querySelector'](_0x48c2ab(0x219)),_0xd86fa2=_0x1af1c7[_0x48c2ab(0x20a)]('.options_list'),_0x58bbd0=_0x1af1c7[_0x48c2ab(0x20a)](_0x48c2ab(0x238)),_0x5ed403=_0xf3defc['slice'](),_0x36a619=[];function _0x5163a2(){var _0x3199f7=_0x48c2ab;_0xd86fa2[_0x3199f7(0x12e)]='',_0x5ed403['filter'](function(_0x35dfe5){var _0x50fec3=_0x3199f7;return _0x35dfe5[_0x50fec3(0x1d4)]['toLowerCase']()[_0x50fec3(0x182)](_0x5b799c[_0x50fec3(0x22a)][_0x50fec3(0x1d8)]())!==-0x1;})[_0x3199f7(0x1df)](function(_0x59e535){var _0x27a20e=_0x3199f7,_0x47ad78=document[_0x27a20e(0x21f)](_0x27a20e(0x1b0));_0x47ad78['textContent']=_0x59e535[_0x27a20e(0x1d4)],_0x47ad78[_0x27a20e(0x23c)][_0x27a20e(0x16d)]=_0x59e535[_0x27a20e(0x246)],_0xd86fa2[_0x27a20e(0x1aa)](_0x47ad78),_0x47ad78[_0x27a20e(0x1ec)](_0x27a20e(0x1a1),function(){var _0x3a9382=_0x27a20e;_0x36a619[_0x3a9382(0x1d5)](_0x59e535),_0x5ed403[_0x3a9382(0x1a4)](_0x5ed403[_0x3a9382(0x155)](function(_0x39f965){return _0x39f965['setCode']===_0x59e535['setCode'];}),0x1),_0x5b799c['value']='',_0x12febf(),_0x5163a2();});});}function _0x12febf(){var _0x6bad36=_0x48c2ab;_0x58bbd0['innerHTML']='',_0x36a619[_0x6bad36(0x1df)](function(_0x268db1){var _0x26e41a=_0x6bad36,_0x457002=document[_0x26e41a(0x21f)](_0x26e41a(0x1b0));_0x457002['className']=_0x26e41a(0x229),_0x457002[_0x26e41a(0x1b8)]=_0x268db1[_0x26e41a(0x1d4)];var _0x292449=document[_0x26e41a(0x21f)](_0x26e41a(0x157));_0x292449[_0x26e41a(0x136)]=_0x26e41a(0x257),_0x292449[_0x26e41a(0x1b8)]='×',_0x292449[_0x26e41a(0x1ec)](_0x26e41a(0x1a1),function(){var _0x161493=_0x26e41a;_0x5ed403[_0x161493(0x1d5)](_0x268db1);const _0x51f103=_0x36a619[_0x161493(0x155)](function(_0x59d3d7){var _0x571e62=_0x161493;return _0x59d3d7[_0x571e62(0x246)]===_0x268db1[_0x571e62(0x246)];});if(_0x51f103>-0x1)_0x36a619[_0x161493(0x1a4)](_0x51f103,0x1);_0x12febf(),_0x5163a2();}),_0x457002['appendChild'](_0x292449),_0x58bbd0[_0x26e41a(0x1aa)](_0x457002);}),_0x1af1c7[_0x6bad36(0x1c6)](new CustomEvent(_0x6bad36(0x1e0),{'bubbles':!![]}));}return _0x5b799c[_0x48c2ab(0x1ec)](_0x48c2ab(0x24d),function(){var _0x2cca8a=_0x48c2ab;_0xd86fa2[_0x2cca8a(0x1ab)][_0x2cca8a(0x12f)](_0x2cca8a(0x1d2));}),_0x5b799c[_0x48c2ab(0x1ec)](_0x48c2ab(0x211),_0x5163a2),_0x5b799c[_0x48c2ab(0x1ec)](_0x48c2ab(0x245),function(_0x534ed7){var _0xb02c90=_0x48c2ab;if(_0x534ed7[_0xb02c90(0x131)]===_0xb02c90(0x224)){_0x534ed7[_0xb02c90(0x1f5)]();const _0x403338=_0x5b799c['value']['trim']();if(!_0x403338)return;const _0x3333d5=_0x36a619[_0xb02c90(0x14f)](_0x291f0e=>_0x291f0e[_0xb02c90(0x1d4)]===_0x403338),_0x54507f=_0x5ed403[_0xb02c90(0x14f)](_0xff6d7f=>_0xff6d7f[_0xb02c90(0x1d4)]===_0x403338);if(!_0x3333d5&&!_0x54507f){const _0x45d8f9={'setCode':_0x403338,'setName':_0x403338};_0x36a619[_0xb02c90(0x1d5)](_0x45d8f9),_0x12febf(),_0x5163a2();}_0x5b799c[_0xb02c90(0x22a)]='';}}),document['addEventListener']('click',function(_0x973558){var _0x47b3c5=_0x48c2ab;if(!_0x1af1c7[_0x47b3c5(0x204)](_0x973558['target']))_0xd86fa2[_0x47b3c5(0x1ab)][_0x47b3c5(0x1da)](_0x47b3c5(0x1d2));}),_0x5163a2(),_0x36a619;}function getLastCode(_0x41db51){var _0xbafb7=_0x108230;const _0x9cb622=_0x41db51[_0xbafb7(0x1c0)](_0x2973d2=>String(_0x2973d2[_0xbafb7(0x1d9)])[_0xbafb7(0x23a)]())[_0xbafb7(0x191)](_0x23bf2e=>_0x23bf2e!=='');if(_0x9cb622[_0xbafb7(0x1d7)]===0x0)return'';const _0x4629a5=_0x9cb622['every'](_0xc0da72=>/^\d+$/['test'](_0xc0da72));if(_0x4629a5){const _0x4484e5=_0x9cb622[_0xbafb7(0x1c0)](Number),_0x4ed8f3=Math[_0xbafb7(0x151)](..._0x4484e5);return String(_0x4ed8f3);}let _0x2afa2d;if(typeof Intl!==_0xbafb7(0x24b)&&Intl[_0xbafb7(0x161)]){const _0xea2237=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':'base'});_0x2afa2d=_0x9cb622[_0xbafb7(0x209)]()[_0xbafb7(0x22e)](_0xea2237['compare']);}else{const _0x276a72=_0x9cb622[_0xbafb7(0x14e)](_0x2f7bf5=>/^\d+$/['test'](_0x2f7bf5));_0x276a72?_0x2afa2d=_0x9cb622['map'](Number)['sort']((_0x583b5c,_0x44d57c)=>_0x583b5c-_0x44d57c)['map'](String):_0x2afa2d=_0x9cb622[_0xbafb7(0x209)]()[_0xbafb7(0x22e)]();}return _0x2afa2d[_0x2afa2d[_0xbafb7(0x1d7)]-0x1];}function getNextCode(_0x26657d){var _0xd6228b=_0x108230;const _0xa46b3a=getLastCode(_0x26657d);if(!_0xa46b3a)return'';if(/^\d+$/[_0xd6228b(0x1b4)](_0xa46b3a))return String(Number(_0xa46b3a)+0x1);const _0x2f7f27=_0xa46b3a[_0xd6228b(0x169)](/^([A-Za-z]*)(\d+)$/);if(_0x2f7f27){const [,_0x3c0ea6,_0x25ff1d]=_0x2f7f27,_0x375c23=String(Number(_0x25ff1d)+0x1)['padStart'](_0x25ff1d['length'],'0');return _0x3c0ea6+_0x375c23;}return _0xa46b3a;}document[_0x108230(0x17c)](_0x108230(0x17b))['addEventListener'](_0x108230(0x211),function(_0x3044e4){var _0x243b96=_0x108230;baseItem[_0x243b96(0x208)]=_0x3044e4['target'][_0x243b96(0x22a)];}),document[_0x108230(0x17c)](_0x108230(0x1ea))[_0x108230(0x1ec)](_0x108230(0x211),function(_0x589e4c){var _0x295e1a=_0x108230;baseItem[_0x295e1a(0x18f)]=_0x589e4c[_0x295e1a(0x1a7)][_0x295e1a(0x22a)];}),document[_0x108230(0x17c)](_0x108230(0x255))['addEventListener'](_0x108230(0x211),function(_0x147779){var _0x172736=_0x108230;baseItem[_0x172736(0x18c)]=_0x147779['target'][_0x172736(0x22a)];}),document[_0x108230(0x17c)](_0x108230(0x176))[_0x108230(0x1ec)](_0x108230(0x242),function(_0x503e4f){var _0x5cecbb=_0x108230;baseItem[_0x5cecbb(0x130)]=_0x503e4f[_0x5cecbb(0x1a7)]['value'];}),document[_0x108230(0x17c)](_0x108230(0x1ce))['addEventListener'](_0x108230(0x242),function(_0x23aef9){var _0x49d686=_0x108230;baseItem['setItemTaxId']=_0x23aef9[_0x49d686(0x1a7)][_0x49d686(0x22a)];const _0x27d9e8=_0x23aef9[_0x49d686(0x1a7)][_0x49d686(0x22a)],_0x2bd53d=company[0x0]['setImpuestos'][_0x49d686(0x13e)](_0x594868=>_0x594868[_0x49d686(0x19e)]==_0x27d9e8)?.['setImpuestoCode']||0x0,_0x24ed87=company[0x0][_0x49d686(0x254)][_0x49d686(0x13e)](_0x52f21e=>_0x52f21e['setTaxId']==_0x27d9e8)?.[_0x49d686(0x228)]||0x0;baseItem[_0x49d686(0x1d6)]=_0x2bd53d,baseItem[_0x49d686(0x213)]=_0x24ed87;}),document[_0x108230(0x17c)](_0x108230(0x220))['addEventListener'](_0x108230(0x242),function(_0x4c8271){var _0x800bae=_0x108230;baseItem['setItemIsBought']=_0x4c8271[_0x800bae(0x1a7)]['checked'];}),document['getElementById'](_0x108230(0x1f0))[_0x108230(0x1ec)]('change',function(_0x115cd7){var _0x5bf3e9=_0x108230;baseItem[_0x5bf3e9(0x233)]=_0x115cd7['target']['checked'];}),document[_0x108230(0x17c)](_0x108230(0x1c1))[_0x108230(0x1ec)](_0x108230(0x211),function(_0x384467){var _0xfd7636=_0x108230;baseItem[_0xfd7636(0x140)]=_0x384467[_0xfd7636(0x1a7)][_0xfd7636(0x22a)];}),document[_0x108230(0x17c)](_0x108230(0x190))[_0x108230(0x1ec)](_0x108230(0x211),function(_0x268b4a){var _0x2b89a3=_0x108230;baseItem[_0x2b89a3(0x239)]=_0x268b4a[_0x2b89a3(0x1a7)][_0x2b89a3(0x22a)];}),document[_0x108230(0x17c)](_0x108230(0x234))[_0x108230(0x1ec)](_0x108230(0x1a1),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x108230(0x1c1))[_0x108230(0x1ec)]('blur',function(){var _0x38e32f=_0x108230;const _0x53281e=this[_0x38e32f(0x22a)]['trim']();if(_0x53281e==='')return;const _0x1a7086=products['some'](_0x3f17c=>_0x3f17c[_0x38e32f(0x1d9)]==_0x53281e),_0x32e1cc=getLastCode(products);_0x1a7086?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x32e1cc,0x2,0x1):ntfShow(_0x38e32f(0x1ed),0x1,0x1);});function removeImg(_0xf00179){var _0x3a60be=_0x108230;currentImages[_0xf00179]=null;var _0x50c23b=imgC['querySelector']('[data-idx=\x22'+_0xf00179+'\x22]');_0x50c23b['innerHTML']='';var _0x2f92d4=document[_0x3a60be(0x21f)]('input');_0x2f92d4['type']='file',_0x2f92d4[_0x3a60be(0x1ad)]=_0x3a60be(0x1e3),_0x2f92d4['style'][_0x3a60be(0x14d)]=_0x3a60be(0x1af);var _0x1b73e1=document['createElement'](_0x3a60be(0x157));_0x1b73e1[_0x3a60be(0x1b8)]='+',_0x50c23b['appendChild'](_0x2f92d4),_0x50c23b[_0x3a60be(0x1aa)](_0x1b73e1),_0x50c23b[_0x3a60be(0x1ec)](_0x3a60be(0x1a1),function(){_0x2f92d4['click']();}),baseItem[_0x3a60be(0x163)]=currentImages['filter'](function(_0x15e7f0){return _0x15e7f0;});}function addUnit(_0x148fc3,_0x10a079,_0x460a64,_0x10b45b,_0x40b5d6,_0x385a7c,_0x19f832){var _0x39344b=_0x108230,_0x3a442c=uniqueValuesArray(_0x39344b(0x1dc),_0x39344b(0x1dc),products);_0x148fc3=_0x148fc3||'',_0x10a079=_0x10a079||_0x3a442c[0x0]&&_0x3a442c[0x0][_0x39344b(0x246)]||'',_0x460a64=_0x460a64!==undefined?_0x460a64:0x1,_0x10b45b=!!_0x10b45b,_0x40b5d6=_0x40b5d6||'',_0x385a7c=_0x385a7c||'';var _0xeb092a=unitCount++,_0x1d4561=document[_0x39344b(0x21f)](_0x39344b(0x1b0));_0x1d4561['dataset'][_0x39344b(0x162)]=_0xeb092a,_0x1d4561[_0x39344b(0x23c)][_0x39344b(0x1db)]=_0x10b45b,_0x1d4561[_0x39344b(0x12e)]=_0x39344b(0x156)+_0xeb092a+_0x39344b(0x16a)+_0x148fc3+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0xeb092a+_0x39344b(0x1e8)+_0xeb092a+_0x39344b(0x16a)+_0x460a64+'\x22\x20'+(_0x10b45b?_0x39344b(0x1cb):'')+_0x39344b(0x14a)+_0xeb092a+_0x39344b(0x16a)+_0x40b5d6+_0x39344b(0x1ac)+_0xeb092a+'\x22\x20value=\x22'+_0x385a7c+_0x39344b(0x178)+(_0x10b45b?_0x39344b(0x170):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x1d4561[_0x39344b(0x20a)](_0x39344b(0x1f9)),_0x3a442c,_0x39344b(0x246),_0x39344b(0x1d4)),_0x1d4561[_0x39344b(0x20a)]('.unitSelect')[_0x39344b(0x22a)]=_0x10a079,[_0x39344b(0x207),'unitSelect',_0x39344b(0x16f),_0x39344b(0x195),_0x39344b(0x173)][_0x39344b(0x1df)](function(_0xea938f){var _0x98c600=_0x39344b;_0x1d4561['querySelector']('.'+_0xea938f)[_0x98c600(0x1ec)](_0x98c600(0x211),function(){var _0x534065=_0x98c600,_0x59eb18=_0x19f832?+_0x19f832['id'][_0x534065(0x1f1)]('_')[0x1]:null;if(_0x19f832)updateVariantUnits(_0x59eb18);else updateUnitsArray();});}),_0x1d4561[_0x39344b(0x20a)]('.removeUnit')[_0x39344b(0x1ec)](_0x39344b(0x1a1),function(){var _0x2a80ef=_0x39344b;_0x1d4561[_0x2a80ef(0x12f)]();var _0x67e9fa=_0x19f832?+_0x19f832['id'][_0x2a80ef(0x1f1)]('_')[0x1]:null;if(_0x19f832)updateVariantUnits(_0x67e9fa);else updateUnitsArray();});var _0x4394ac=_0x19f832||document['getElementById'](_0x39344b(0x251));_0x4394ac[_0x39344b(0x1aa)](_0x1d4561);}function containerIdx(_0x59780b){return+_0x59780b['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x19cd82=_0x108230,_0x516ad8=[],_0x4adbfd=Array[_0x19cd82(0x1ba)](document[_0x19cd82(0x222)](_0x19cd82(0x22f))),_0x34587e=_0x4adbfd['find'](_0x26e650=>_0x26e650[_0x19cd82(0x23c)][_0x19cd82(0x1db)]===_0x19cd82(0x205)),_0x50181f=_0x34587e?+_0x34587e['querySelector'](_0x19cd82(0x189))[_0x19cd82(0x22a)]:0x1;_0x4adbfd[_0x19cd82(0x1df)](function(_0x2f7c0a){var _0x2c1fcd=_0x19cd82,_0x16bea6=+_0x2f7c0a['querySelector'](_0x2c1fcd(0x189))['value']||0x0,_0x3cbb8e=+_0x2f7c0a[_0x2c1fcd(0x20a)]('.priceInput')[_0x2c1fcd(0x22a)]||0x0,_0x1b8f4d=+_0x2f7c0a[_0x2c1fcd(0x20a)](_0x2c1fcd(0x154))[_0x2c1fcd(0x22a)]||0x0;_0x516ad8[_0x2c1fcd(0x1d5)]({'setAlias':_0x2f7c0a[_0x2c1fcd(0x20a)](_0x2c1fcd(0x1dd))[_0x2c1fcd(0x22a)][_0x2c1fcd(0x23a)](),'setUnitCode':_0x2f7c0a[_0x2c1fcd(0x20a)](_0x2c1fcd(0x1f9))['value'],'setEquivalence':_0x16bea6,'setFactor':_0x2f7c0a[_0x2c1fcd(0x23c)][_0x2c1fcd(0x1db)]===_0x2c1fcd(0x205)?0x1:_0x16bea6==_0x50181f?0x1:_0x16bea6<_0x50181f?_0x50181f/_0x16bea6:_0x16bea6/_0x50181f,'setPrice':_0x3cbb8e,'setCost':_0x1b8f4d,'setDefault':_0x2f7c0a['dataset'][_0x2c1fcd(0x1db)]===_0x2c1fcd(0x205)?0x1:0x0});}),baseItem[_0x19cd82(0x192)]=_0x516ad8;}function updateBranches(){var _0x2e08c1=_0x108230,_0x54f76f=[];document[_0x2e08c1(0x222)](_0x2e08c1(0x1b5))[_0x2e08c1(0x1df)](function(_0x136c2f){var _0x2ad69e=_0x2e08c1,_0x572bdc=_0x136c2f[_0x2ad69e(0x20a)]('.branchChk');if(_0x572bdc[_0x2ad69e(0x23e)]){var _0x2ada27=+_0x572bdc[_0x2ad69e(0x23c)]['id'],_0x589535=+_0x136c2f[_0x2ad69e(0x20a)](_0x2ad69e(0x1e5))['value'],_0x274448=+_0x136c2f[_0x2ad69e(0x20a)](_0x2ad69e(0x165))['value'];_0x54f76f[_0x2ad69e(0x1d5)]({'setWarehouseCode':_0x2ada27,'setStockInitial':_0x589535,'setStockMinimum':_0x274448});}}),baseItem['setItemWarehouses']=_0x54f76f;}document['getElementById']('newItem_btn_addProdItem')[_0x108230(0x1ec)](_0x108230(0x1a1),function(){var _0x4c58cb=_0x108230,_0x13b384=Date[_0x4c58cb(0x16c)](),_0x87d41e=document[_0x4c58cb(0x21f)](_0x4c58cb(0x1b0));_0x87d41e[_0x4c58cb(0x23c)][_0x4c58cb(0x162)]=_0x13b384,_0x87d41e[_0x4c58cb(0x12e)]=_0x4c58cb(0x23f)+_0x13b384+_0x4c58cb(0x1c2)+_0x13b384+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x87d41e),initProdSearch(_0x87d41e[_0x4c58cb(0x20a)](_0x4c58cb(0x1fd))),_0x87d41e[_0x4c58cb(0x20a)]('.removeProd')[_0x4c58cb(0x1ec)](_0x4c58cb(0x1a1),function(){_0x87d41e['remove'](),updateProdItems();}),_0x87d41e['querySelector'](_0x4c58cb(0x1d3))[_0x4c58cb(0x1ec)]('input',updateProdItems),document[_0x4c58cb(0x17c)](_0x4c58cb(0x217))[_0x4c58cb(0x1ab)]['toggle']('newItem_title_table',!![]),document[_0x4c58cb(0x17c)](_0x4c58cb(0x217))[_0x4c58cb(0x1ab)]['toggle']('newItem_hidden',![]);});function initProdSearch(_0xd5c477,_0x2dce49){var _0x2dfb17=_0x108230,_0x3fe714=_0xd5c477[_0x2dfb17(0x20a)](_0x2dfb17(0x132)),_0x199f64=_0xd5c477['querySelector'](_0x2dfb17(0x1b7)),_0x1f2cb0=_0x2dce49||null;if(_0x2dce49)_0x3fe714[_0x2dfb17(0x22a)]=_0x2dce49['name'];_0x3fe714['addEventListener'](_0x2dfb17(0x211),function(){var _0x1926ca=_0x2dfb17,_0x55fd2c=_0x3fe714[_0x1926ca(0x22a)][_0x1926ca(0x1d8)]()[_0x1926ca(0x23a)]();_0x199f64[_0x1926ca(0x12e)]='';if(!_0x55fd2c)return;products[_0x1926ca(0x191)](_0x17c3cc=>_0x17c3cc[_0x1926ca(0x1a5)][_0x1926ca(0x1d8)]()[_0x1926ca(0x150)](_0x55fd2c))[_0x1926ca(0x209)](0x0,0x14)[_0x1926ca(0x1df)](function(_0x23f980){var _0x468cfa=_0x1926ca,_0x410ffb=document[_0x468cfa(0x21f)](_0x468cfa(0x1b0));_0x410ffb[_0x468cfa(0x1b8)]=_0x23f980['setDescripcion'],_0x410ffb['dataset']['id']=_0x23f980['id'],_0x410ffb[_0x468cfa(0x23c)][_0x468cfa(0x1a0)]=_0x23f980[_0x468cfa(0x1a5)],_0x199f64[_0x468cfa(0x1aa)](_0x410ffb),_0x410ffb[_0x468cfa(0x1ec)](_0x468cfa(0x1a1),function(){var _0xddf44a=_0x468cfa;_0x1f2cb0={'id':_0x23f980['id'],'name':_0x23f980[_0xddf44a(0x1a5)]},_0x3fe714[_0xddf44a(0x22a)]=_0x23f980[_0xddf44a(0x1a5)],_0x199f64[_0xddf44a(0x12e)]='';var _0x400703=_0xd5c477[_0xddf44a(0x22d)](_0xddf44a(0x1bd));if(_0x400703){var _0xa9a755=+_0x400703['id'][_0xddf44a(0x1f1)]('_')[0x1];updateVariantComponents(_0xa9a755);}else updateProdItems();});});}),_0x3fe714[_0x2dfb17(0x1ec)](_0x2dfb17(0x24d),function(){var _0x39d538=_0x2dfb17;_0x199f64[_0x39d538(0x1ab)][_0x39d538(0x12f)](_0x39d538(0x1d2));}),document['addEventListener'](_0x2dfb17(0x1a1),function(_0x446b92){var _0x1943b9=_0x2dfb17;if(!_0xd5c477[_0x1943b9(0x204)](_0x446b92[_0x1943b9(0x1a7)]))_0x199f64[_0x1943b9(0x1ab)][_0x1943b9(0x1da)](_0x1943b9(0x1d2));}),Object[_0x2dfb17(0x1b6)](_0xd5c477,'selectedItem',{'get':()=>_0x1f2cb0});}function updateProdItems(){var _0x4e4bb4=_0x108230,_0x4cad96=[];Array[_0x4e4bb4(0x1ba)](prodC['children'])[_0x4e4bb4(0x1df)](function(_0x339a09){var _0x323104=_0x4e4bb4,_0x39ff15=_0x339a09[_0x323104(0x20a)](_0x323104(0x1fd));if(!_0x39ff15)return;var _0x30aace=_0x339a09[_0x323104(0x20a)](_0x323104(0x1d3)),_0x4fc312=_0x39ff15[_0x323104(0x1b2)];_0x4fc312&&_0x4cad96['push']({'setItemId':_0x4fc312['id'],'setDescripcion':_0x4fc312[_0x323104(0x1a0)],'setCantidad':+_0x30aace['value']});}),baseItem[_0x4e4bb4(0x201)]=_0x4cad96,_0x4cad96[_0x4e4bb4(0x1d7)]===0x0&&(document[_0x4e4bb4(0x17c)](_0x4e4bb4(0x217))[_0x4e4bb4(0x1ab)]['toggle'](_0x4e4bb4(0x1a6),![]),document['getElementById'](_0x4e4bb4(0x217))[_0x4e4bb4(0x1ab)][_0x4e4bb4(0x179)](_0x4e4bb4(0x1d2),!![]));}document[_0x108230(0x17c)](_0x108230(0x187))['addEventListener'](_0x108230(0x1a1),function(){var _0x732c88=_0x108230,_0x1388f0=vgCount++,_0x33d143=document['createElement']('div');_0x33d143['dataset'][_0x732c88(0x162)]=_0x1388f0,_0x33d143[_0x732c88(0x12e)]=_0x732c88(0x1e1)+_0x1388f0+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x1388f0+'\x22>'+_0x732c88(0x244),vgC[_0x732c88(0x1aa)](_0x33d143),_0x33d143[_0x732c88(0x20a)](_0x732c88(0x1d0))['addEventListener'](_0x732c88(0x177),generateVariants),_0x33d143[_0x732c88(0x20a)]('.vgVals')['addEventListener'](_0x732c88(0x177),generateVariants),_0x33d143[_0x732c88(0x20a)](_0x732c88(0x1fe))[_0x732c88(0x1ec)]('click',function(){_0x33d143['remove'](),generateVariants();});});function _0x2c17(_0x277e2e,_0x2250d2){var _0x4eae44=_0x43f3();return _0x2c17=function(_0xef68ec,_0xd72372){_0xef68ec=_0xef68ec-0x12d;var _0x5bb1e3=_0x4eae44[_0xef68ec];return _0x5bb1e3;},_0x2c17(_0x277e2e,_0x2250d2);}function generateVariants(){var _0x59c7a0=_0x108230,_0x8065ec=[];vgC[_0x59c7a0(0x222)](_0x59c7a0(0x1b0))['forEach'](function(_0xa14520){var _0x137fd3=_0x59c7a0,_0x5c204d=_0xa14520[_0x137fd3(0x20a)](_0x137fd3(0x1d0))[_0x137fd3(0x22a)][_0x137fd3(0x23a)](),_0x135103=_0xa14520[_0x137fd3(0x20a)]('.vgVals')[_0x137fd3(0x22a)][_0x137fd3(0x1f1)](',')[_0x137fd3(0x1c0)](_0x50cac2=>_0x50cac2['trim']())[_0x137fd3(0x191)](_0x1a462e=>_0x1a462e);if(_0x5c204d&&_0x135103[_0x137fd3(0x1d7)])_0x8065ec[_0x137fd3(0x1d5)]({'name':_0x5c204d,'vals':_0x135103});});var _0x3b91d4=[{}];_0x8065ec[_0x59c7a0(0x1df)](function(_0x5a34c8){var _0x4b51d3=_0x59c7a0;_0x3b91d4=_0x3b91d4[_0x4b51d3(0x23b)](function(_0x56e375){var _0x383e40=_0x4b51d3;return _0x5a34c8[_0x383e40(0x168)][_0x383e40(0x1c0)](function(_0x4f5cd1){var _0x56d963=_0x383e40,_0x46d355=Object['assign']({},_0x56e375);return _0x46d355[_0x5a34c8[_0x56d963(0x1a0)]]=_0x4f5cd1,_0x46d355;});});}),newItems=[],varContainer[_0x59c7a0(0x12e)]='',_0x3b91d4[_0x59c7a0(0x1df)](function(_0x10263d,_0x1a055c){var _0x423440=_0x59c7a0,_0x120ad0=JSON['parse'](JSON[_0x423440(0x149)](baseItem));_0x120ad0[_0x423440(0x164)]=_0x10263d,_0x120ad0[_0x423440(0x134)]=baseItem[_0x423440(0x208)]+'\x20'+Object[_0x423440(0x1de)](_0x10263d)[_0x423440(0x1c0)](_0x5cf2e8=>_0x5cf2e8[0x0]+'\x20'+_0x5cf2e8[0x1])['join']('\x20'),newItems[_0x423440(0x1d5)](_0x120ad0);var _0x21eeed=document[_0x423440(0x21f)]('div');_0x21eeed[_0x423440(0x1ab)][_0x423440(0x1da)](_0x423440(0x20b)),_0x21eeed['dataset']['idx']=_0x1a055c,_0x21eeed[_0x423440(0x12e)]=_0x423440(0x1f7)+_0x120ad0[_0x423440(0x134)]+_0x423440(0x252)+_0x120ad0[_0x423440(0x140)]+_0x423440(0x215)+_0x120ad0[_0x423440(0x239)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x120ad0[_0x423440(0x18c)]+_0x423440(0x14c)+_0x1a055c+_0x423440(0x1e2)+_0x1a055c+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x1a055c+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x423440(0x1aa)](_0x21eeed),_0x21eeed['querySelector'](_0x423440(0x19d))[_0x423440(0x1ec)](_0x423440(0x211),_0x2924ff=>newItems[_0x1a055c][_0x423440(0x140)]=_0x2924ff[_0x423440(0x1a7)][_0x423440(0x22a)]),_0x21eeed['querySelector'](_0x423440(0x237))[_0x423440(0x1ec)](_0x423440(0x211),_0x28d958=>newItems[_0x1a055c][_0x423440(0x239)]=_0x28d958[_0x423440(0x1a7)][_0x423440(0x22a)]),_0x21eeed[_0x423440(0x20a)](_0x423440(0x141))[_0x423440(0x1ec)](_0x423440(0x242),_0x19cd4c=>newItems[_0x1a055c][_0x423440(0x18c)]=_0x19cd4c['target'][_0x423440(0x22a)]),initVariantUnits(_0x1a055c),initVariantComponents(_0x1a055c),initVariantBranches(_0x1a055c),_0x21eeed[_0x423440(0x20a)]('.removeVariant')[_0x423440(0x1ec)]('click',function(){var _0x5ad9e5=_0x423440,_0x11e2a7=+_0x21eeed[_0x5ad9e5(0x23c)][_0x5ad9e5(0x162)];newItems[_0x5ad9e5(0x1a4)](_0x11e2a7,0x1),_0x21eeed[_0x5ad9e5(0x12f)](),document[_0x5ad9e5(0x222)](_0x5ad9e5(0x18e))[_0x5ad9e5(0x1df)](function(_0x890e01,_0x22cd42){var _0x480740=_0x5ad9e5;_0x890e01[_0x480740(0x23c)][_0x480740(0x162)]=_0x22cd42;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x7a57b6){var _0x3186bd=_0x108230,_0x1a2104=document[_0x3186bd(0x17c)](_0x3186bd(0x17a)+_0x7a57b6+_0x3186bd(0x24a)),_0x15ebcb=[];Array[_0x3186bd(0x1ba)](_0x1a2104[_0x3186bd(0x235)])['forEach'](function(_0x2dc795){var _0x4f6e8a=_0x3186bd,_0x4354cd=+_0x2dc795['querySelector'](_0x4f6e8a(0x189))[_0x4f6e8a(0x22a)]||0x0,_0x26bae9=_0x2dc795[_0x4f6e8a(0x20a)](_0x4f6e8a(0x1dd))[_0x4f6e8a(0x22a)]['trim'](),_0x55827c=_0x2dc795[_0x4f6e8a(0x20a)](_0x4f6e8a(0x1f9))[_0x4f6e8a(0x22a)],_0x2cd6bf=+_0x2dc795[_0x4f6e8a(0x20a)](_0x4f6e8a(0x230))[_0x4f6e8a(0x22a)]||0x0,_0x65dc32=+_0x2dc795['querySelector']('.costInput')['value']||0x0,_0x402d56=_0x2dc795[_0x4f6e8a(0x23c)][_0x4f6e8a(0x1db)]==='true',_0x224db2=+_0x1a2104[_0x4f6e8a(0x20a)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x4f6e8a(0x22a)]||0x1,_0x295d15=_0x402d56?0x1:_0x4354cd==_0x224db2?0x1:_0x4354cd<_0x224db2?_0x224db2/_0x4354cd:_0x4354cd/_0x224db2;_0x15ebcb[_0x4f6e8a(0x1d5)]({'setAlias':_0x26bae9,'setUnitCode':_0x55827c,'setEquivalence':_0x4354cd,'setFactor':_0x295d15,'setPrice':_0x2cd6bf,'setCost':_0x65dc32,'setDefault':_0x402d56?0x1:0x0});}),newItems[_0x7a57b6]['setItemUnits']=_0x15ebcb;}function initVariantUnits(_0x326552){var _0x27666f=_0x108230,_0x2e1619=document['getElementById']('variant_'+_0x326552+_0x27666f(0x24a));_0x2e1619[_0x27666f(0x12e)]='',newItems[_0x326552][_0x27666f(0x192)][_0x27666f(0x1df)](function(_0xfd0830){var _0x5a61fd=_0x27666f;addUnit(_0xfd0830[_0x5a61fd(0x20c)],_0xfd0830[_0x5a61fd(0x15c)],_0xfd0830[_0x5a61fd(0x227)],_0xfd0830['setDefault'],_0xfd0830[_0x5a61fd(0x13f)],_0xfd0830[_0x5a61fd(0x1f4)],_0x2e1619);}),_0x2e1619[_0x27666f(0x181)]['querySelector'](_0x27666f(0x171))[_0x27666f(0x1ec)]('click',function(){addUnit('','',0x1,![],'','',_0x2e1619),updateVariantUnits(_0x326552);});}function updateVariantUnits(_0x34fc19){var _0x164d10=_0x108230,_0x5a7f4b=document[_0x164d10(0x17c)](_0x164d10(0x17a)+_0x34fc19+_0x164d10(0x24a)),_0x8f6865=_0x5a7f4b['querySelector'](_0x164d10(0x158)),_0x3a326d=_0x8f6865?+_0x8f6865[_0x164d10(0x22a)]:0x1,_0x55ac86=Array[_0x164d10(0x1ba)](_0x5a7f4b[_0x164d10(0x235)])[_0x164d10(0x1c0)](function(_0xcc4f76){var _0x2318a3=_0x164d10,_0x3c82da=_0xcc4f76[_0x2318a3(0x20a)](_0x2318a3(0x1dd))[_0x2318a3(0x22a)][_0x2318a3(0x23a)](),_0x212ae9=_0xcc4f76[_0x2318a3(0x20a)](_0x2318a3(0x1f9))['value'],_0x8097ff=+_0xcc4f76[_0x2318a3(0x20a)]('.eqInput')[_0x2318a3(0x22a)]||0x0,_0x303dcf=+_0xcc4f76[_0x2318a3(0x20a)](_0x2318a3(0x230))[_0x2318a3(0x22a)]||0x0,_0x4f65a5=+_0xcc4f76[_0x2318a3(0x20a)](_0x2318a3(0x154))['value']||0x0,_0x4ff06a=_0xcc4f76[_0x2318a3(0x23c)][_0x2318a3(0x1db)]===_0x2318a3(0x205);return{'setAlias':_0x3c82da,'setUnitCode':_0x212ae9,'setEquivalence':_0x8097ff,'setFactor':_0x4ff06a?0x1:_0x8097ff==_0x3a326d?0x1:_0x8097ff<_0x3a326d?_0x3a326d/_0x8097ff:_0x8097ff/_0x3a326d,'setPrice':_0x303dcf,'setCost':_0x4f65a5,'setDefault':_0x4ff06a?0x1:0x0};});newItems[_0x34fc19][_0x164d10(0x192)]=_0x55ac86;}function initVariantComponents(_0x143bf0){var _0x39de81=_0x108230,_0x526d3f=document[_0x39de81(0x17c)](_0x39de81(0x17a)+_0x143bf0+'_comp_container');_0x526d3f[_0x39de81(0x12e)]='',newItems[_0x143bf0]['setItemComponents']['forEach'](function(_0x5f23d6){var _0x2a28f3=_0x39de81,_0x366ef8=document['createElement'](_0x2a28f3(0x1b0)),_0x1ce3b1=Date[_0x2a28f3(0x16c)]();_0x366ef8['dataset'][_0x2a28f3(0x162)]=_0x1ce3b1,_0x366ef8[_0x2a28f3(0x12e)]=_0x2a28f3(0x1ef)+_0x1ce3b1+_0x2a28f3(0x188)+_0x5f23d6[_0x2a28f3(0x218)]+_0x2a28f3(0x1ee),_0x526d3f[_0x2a28f3(0x1aa)](_0x366ef8),initProdSearch(_0x366ef8[_0x2a28f3(0x20a)](_0x2a28f3(0x1fd)),{'id':_0x5f23d6[_0x2a28f3(0x214)],'name':_0x5f23d6['setDescripcion']}),_0x366ef8[_0x2a28f3(0x20a)]('.prodQty')[_0x2a28f3(0x1ec)](_0x2a28f3(0x211),function(){updateVariantComponents(_0x143bf0);}),_0x366ef8[_0x2a28f3(0x20a)]('.removeCombo')[_0x2a28f3(0x1ec)]('click',function(){var _0x30a1fb=_0x2a28f3;_0x366ef8[_0x30a1fb(0x12f)](),updateVariantComponents(_0x143bf0);});}),_0x526d3f[_0x39de81(0x181)][_0x39de81(0x20a)]('.addVariantComp')[_0x39de81(0x1ec)](_0x39de81(0x1a1),function(){var _0x29e32f=_0x39de81,_0xccefe3=document[_0x29e32f(0x21f)](_0x29e32f(0x1b0)),_0xfbbb63=Date[_0x29e32f(0x16c)]();_0xccefe3[_0x29e32f(0x23c)][_0x29e32f(0x162)]=_0xfbbb63,_0xccefe3[_0x29e32f(0x12e)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0xfbbb63+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x526d3f[_0x29e32f(0x1aa)](_0xccefe3),initProdSearch(_0xccefe3['querySelector'](_0x29e32f(0x1fd))),_0xccefe3[_0x29e32f(0x20a)](_0x29e32f(0x1d3))[_0x29e32f(0x1ec)](_0x29e32f(0x211),function(){updateVariantComponents(_0x143bf0);}),_0xccefe3[_0x29e32f(0x20a)](_0x29e32f(0x19f))[_0x29e32f(0x1ec)](_0x29e32f(0x1a1),function(){var _0x17610d=_0x29e32f;_0xccefe3[_0x17610d(0x12f)](),updateVariantComponents(_0x143bf0);});});}function updateVariantComponents(_0x306236){var _0x34fbb6=_0x108230,_0x483325=document[_0x34fbb6(0x17c)](_0x34fbb6(0x17a)+_0x306236+'_comp_container'),_0x287225=Array[_0x34fbb6(0x1ba)](_0x483325[_0x34fbb6(0x235)])[_0x34fbb6(0x1c0)](function(_0x1c72b7){var _0x1fe04b=_0x34fbb6,_0x48f7b2=_0x1c72b7[_0x1fe04b(0x20a)](_0x1fe04b(0x1fd)),_0x1a1f46=_0x48f7b2[_0x1fe04b(0x1b2)],_0x1a364a=+_0x1c72b7['querySelector'](_0x1fe04b(0x1d3))[_0x1fe04b(0x22a)]||0x0;return _0x1a1f46?{'setItemId':_0x1a1f46['id'],'setDescripcion':_0x1a1f46[_0x1fe04b(0x1a0)],'setCantidad':_0x1a364a}:null;})['filter'](_0x25df21=>_0x25df21);newItems[_0x306236][_0x34fbb6(0x201)]=_0x287225;}function initVariantBranches(_0x4aca86){var _0x2c0ca0=_0x108230;const _0x2f7672=getAllWarehouses();var _0x806d06=document[_0x2c0ca0(0x17c)](_0x2c0ca0(0x17a)+_0x4aca86+_0x2c0ca0(0x24e));_0x806d06['innerHTML']='',newItems[_0x4aca86][_0x2c0ca0(0x21a)][_0x2c0ca0(0x1df)](function(_0x88c008){var _0x1aec92=_0x2c0ca0,_0x2e5e0a=_0x2f7672[_0x1aec92(0x13e)](_0x141396=>_0x141396[_0x1aec92(0x225)]==_0x88c008[_0x1aec92(0x1ae)]),_0x530512=document['createElement']('div');_0x530512[_0x1aec92(0x12e)]=_0x1aec92(0x1f8)+_0x88c008[_0x1aec92(0x1ae)]+_0x1aec92(0x167)+_0x2e5e0a[_0x1aec92(0x139)]+_0x1aec92(0x186)+_0x88c008[_0x1aec92(0x1ae)]+'\x22\x20value=\x22'+_0x88c008[_0x1aec92(0x1fb)]+_0x1aec92(0x1a8)+_0x88c008[_0x1aec92(0x1ae)]+_0x1aec92(0x16a)+_0x88c008[_0x1aec92(0x13c)]+'\x22>',_0x806d06[_0x1aec92(0x1aa)](_0x530512),_0x530512[_0x1aec92(0x222)]('input')[_0x1aec92(0x1df)](function(_0x4b210f){var _0xab5b5f=_0x1aec92;_0x4b210f[_0xab5b5f(0x1ec)](_0xab5b5f(0x211),function(){updateVariantBranches(_0x4aca86);});});}),_0x2f7672['forEach'](function(_0x3489c5){var _0x5e78b8=_0x2c0ca0;if(!newItems[_0x4aca86][_0x5e78b8(0x21a)][_0x5e78b8(0x13e)](_0x2c6cc0=>_0x2c6cc0[_0x5e78b8(0x1ae)]===_0x3489c5[_0x5e78b8(0x225)])){var _0x1e3e7c=document[_0x5e78b8(0x21f)](_0x5e78b8(0x1b0));_0x1e3e7c['innerHTML']=_0x5e78b8(0x1f8)+_0x3489c5[_0x5e78b8(0x225)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x3489c5[_0x5e78b8(0x139)]+_0x5e78b8(0x186)+_0x3489c5[_0x5e78b8(0x225)]+_0x5e78b8(0x1a8)+_0x3489c5[_0x5e78b8(0x225)]+'\x22>',_0x806d06[_0x5e78b8(0x1aa)](_0x1e3e7c),_0x1e3e7c[_0x5e78b8(0x222)](_0x5e78b8(0x211))[_0x5e78b8(0x1df)](function(_0x332165){var _0x5207be=_0x5e78b8;_0x332165[_0x5207be(0x1ec)](_0x5207be(0x211),function(){updateVariantBranches(_0x4aca86);});});}});}function updateVariantBranches(_0x11b473){var _0x50e704=_0x108230,_0x243d4d=document['getElementById'](_0x50e704(0x17a)+_0x11b473+_0x50e704(0x24e)),_0x3f51ab=[];_0x243d4d['querySelectorAll']('div')[_0x50e704(0x1df)](function(_0x1e59c8){var _0x1ba3cb=_0x50e704,_0x274878=_0x1e59c8[_0x1ba3cb(0x20a)](_0x1ba3cb(0x1c8));if(_0x274878[_0x1ba3cb(0x23e)]){var _0x320725=+_0x274878[_0x1ba3cb(0x23c)]['id'],_0x492bd8=+_0x1e59c8[_0x1ba3cb(0x20a)]('.branchInit')[_0x1ba3cb(0x22a)]||0x0,_0x49e743=+_0x1e59c8[_0x1ba3cb(0x20a)](_0x1ba3cb(0x165))[_0x1ba3cb(0x22a)]||0x0;_0x3f51ab[_0x1ba3cb(0x1d5)]({'setWarehouseCode':_0x320725,'setStockInitial':_0x492bd8,'setStockMinimum':_0x49e743});}}),newItems[_0x11b473]['setItemWarehouses']=_0x3f51ab;}async function storeOfflineProduct(_0x1a0b0b){var _0x5ae9b4=_0x108230;try{const _0x3eb071=await createCartStore(''),_0x211bcb=_0x3eb071['transaction'](_0x5ae9b4(0x143),_0x5ae9b4(0x1f2)),_0x17b5c3=_0x211bcb[_0x5ae9b4(0x185)]('offline_operations');_0x17b5c3['add'](_0x1a0b0b),_0x211bcb[_0x5ae9b4(0x232)]=()=>{var _0x4e56d3=_0x5ae9b4;console['log'](_0x4e56d3(0x172));},_0x211bcb[_0x5ae9b4(0x1d1)]=_0x1ebc8f=>{var _0x170eec=_0x5ae9b4;console[_0x170eec(0x152)](_0x170eec(0x248),_0x1ebc8f[_0x170eec(0x1a7)][_0x170eec(0x152)]);};}catch(_0xfe4f73){console[_0x5ae9b4(0x152)](_0x5ae9b4(0x147),_0xfe4f73);}}document['getElementById']('btnItemSave')['addEventListener'](_0x108230(0x1a1),async function(_0x11ff1e){var _0x22f6a3=_0x108230;_0x11ff1e[_0x22f6a3(0x1f5)]();const _0x5b524c=document[_0x22f6a3(0x17c)](_0x22f6a3(0x1c1)),_0x34d21f=document['getElementById'](_0x22f6a3(0x1e6))['value'];if(!_0x5b524c[_0x22f6a3(0x22a)][_0x22f6a3(0x23a)]()&&_0x34d21f==0x0){ntfShow(_0x22f6a3(0x241),0x2,0x1);return;}_0x34d21f==0x1&&(_0x5b524c[_0x22f6a3(0x22a)]='',baseItem[_0x22f6a3(0x140)]='');const _0x3665f7=document[_0x22f6a3(0x17c)]('inputItemName');if(!_0x3665f7[_0x22f6a3(0x22a)][_0x22f6a3(0x23a)]()){ntfShow(_0x22f6a3(0x17e),0x2,0x1);return;}const _0x1d93e8=document[_0x22f6a3(0x17c)]('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x4ac14e=document[_0x22f6a3(0x17c)](_0x22f6a3(0x1c4))[_0x22f6a3(0x22a)],_0x5b3727=window_options[_0x4ac14e][_0x22f6a3(0x253)];let _0x429d6a=generateNumericUniqId()*0x64+0x1f4,_0x585eed=generateNumericUniqId()*0xa;const _0x40340d=[];newItems[_0x22f6a3(0x1df)](_0x57fd6e=>{var _0x4d148f=_0x22f6a3;const _0x2361f3=++_0x585eed;_0x57fd6e[_0x4d148f(0x192)][_0x4d148f(0x1df)](_0x433bf0=>{var _0x1c438d=_0x4d148f;const _0x2a53e1=++_0x429d6a;_0x433bf0[_0x1c438d(0x21e)]=_0x2a53e1;const _0x48b064={'id':_0x2a53e1,'setIdProducto':_0x2361f3,'setCodProducto':_0x57fd6e[_0x1c438d(0x140)],'setDescripcion':_0x57fd6e['setItemVariantName']!=''?_0x57fd6e[_0x1c438d(0x134)]:_0x57fd6e['setItemName'],'setItemDescription':_0x57fd6e[_0x1c438d(0x18f)],'setBatchExpirationDate':_0x57fd6e[_0x1c438d(0x18c)],'setBatchName':'','setCategoria':_0x57fd6e[_0x1c438d(0x197)][0x0]||'','setMarca':_0x57fd6e[_0x1c438d(0x184)][0x0]||'','setConversionFactor':parseFloat(_0x433bf0[_0x1c438d(0x21c)]),'setImages':[],'setImg':_0x1c438d(0x15b),'setInventariable':0x1,'setItemIsBought':_0x57fd6e['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x57fd6e[_0x1c438d(0x233)]?0x1:0x0,'setPorcentajeIgv':_0x57fd6e[_0x1c438d(0x213)],'setPrinters':[],'setTaxId':_0x57fd6e[_0x1c438d(0x198)],'setTipAfeIgv':_0x57fd6e[_0x1c438d(0x1d6)],'setUnidad':_0x433bf0['setUnitCode'],'setUnidadCodigo':_0x433bf0[_0x1c438d(0x15c)],'currency_data':[{'currency':_0x5b3727,'setMtoPrecioCostoUnitario':_0x433bf0[_0x1c438d(0x1f4)],'setMtoPrecioUnitario':_0x433bf0[_0x1c438d(0x13f)],'setPriceLists':[]}],'sucursales':_0x57fd6e[_0x1c438d(0x21a)][_0x1c438d(0x1c0)](_0xb914b7=>({'setIdSucursal':_0xb914b7[_0x1c438d(0x1ae)],'setSucursalStock':_0xb914b7[_0x1c438d(0x1fb)][_0x1c438d(0x196)](),'setWarehouseStockMin':_0xb914b7[_0x1c438d(0x13c)][_0x1c438d(0x196)]()})),'setItemFree':_0x57fd6e[_0x1c438d(0x1e6)],'setItemBarCode':_0x57fd6e[_0x1c438d(0x239)],'setItemBrands':_0x57fd6e['setItemBrands'][_0x1c438d(0x209)](),'setItemCategories':_0x57fd6e[_0x1c438d(0x197)][_0x1c438d(0x209)](),'setItemComponents':_0x57fd6e[_0x1c438d(0x201)]['map'](_0x958b43=>({..._0x958b43})),'setItemImages':_0x57fd6e['setItemImages'][_0x1c438d(0x209)](),'setItemVariantName':_0x57fd6e[_0x1c438d(0x134)],'setItemVariantValues':{..._0x57fd6e['setItemVariantValues']}};_0x40340d['push'](_0x48b064),(_0x1d93e8['checked']||_0x34d21f==0x1)&&addToCart(_0x48b064);});}),console[_0x22f6a3(0x15d)](_0x22f6a3(0x12d),newItems),await finalizeImport(_0x40340d,newItems,![]);}),[_0x108230(0x16e),_0x108230(0x226)][_0x108230(0x1df)](_0x49cef0=>dropZone[_0x108230(0x1ec)](_0x49cef0,_0x346478=>{var _0x5cebfc=_0x108230;_0x346478[_0x5cebfc(0x1f5)](),dropZone[_0x5cebfc(0x1ab)]['add'](_0x5cebfc(0x226));})),['dragleave','drop'][_0x108230(0x1df)](_0x26838b=>dropZone['addEventListener'](_0x26838b,_0x27ab12=>{var _0xc7a420=_0x108230;_0x27ab12[_0xc7a420(0x1f5)](),dropZone[_0xc7a420(0x1ab)]['remove'](_0xc7a420(0x226));})),dropZone[_0x108230(0x1ec)](_0x108230(0x135),_0x3c9bde=>{var _0x203b94=_0x108230;const _0x59dd0d=_0x3c9bde[_0x203b94(0x1e9)]['files'][0x0];if(!_0x59dd0d)return;fileInput[_0x203b94(0x21d)]=_0x3c9bde['dataTransfer'][_0x203b94(0x21d)],dropZone[_0x203b94(0x20a)]('.drop-zone__prompt')[_0x203b94(0x1b8)]=_0x59dd0d[_0x203b94(0x1a0)],removeBtn[_0x203b94(0x15f)]=![],fileInput[_0x203b94(0x1c6)](new Event(_0x203b94(0x242)));}),removeBtn[_0x108230(0x1ec)](_0x108230(0x1a1),()=>{var _0x2f6fa7=_0x108230;fileInput[_0x2f6fa7(0x22a)]='',dropZone[_0x2f6fa7(0x20a)](_0x2f6fa7(0x1ff))[_0x2f6fa7(0x1b8)]=_0x2f6fa7(0x203),removeBtn[_0x2f6fa7(0x15f)]=!![],progressBar[_0x2f6fa7(0x19a)][_0x2f6fa7(0x14d)]=_0x2f6fa7(0x1af),statusDiv[_0x2f6fa7(0x1b8)]='',uploadBtn['disabled']=!![];}),itemWorker[_0x108230(0x1fa)]=({data:_0x448b03})=>{var _0x241fb3=_0x108230;const {type:_0x2bc5f4,payload:_0x58cc54}=_0x448b03;_0x2bc5f4===_0x241fb3(0x174)&&(progressBar[_0x241fb3(0x19a)]['display']='block',progressBar[_0x241fb3(0x22a)]=_0x58cc54['percent'],statusDiv['textContent']=_0x58cc54[_0x241fb3(0x1cf)]),_0x2bc5f4===_0x241fb3(0x194)&&(newItemsExcel=_0x58cc54[_0x241fb3(0x250)],statusDiv[_0x241fb3(0x1b8)]='✅\x20'+newItemsExcel[_0x241fb3(0x1d7)]+_0x241fb3(0x15e),uploadBtn['disabled']=![],progressBar['value']=0x64,console['log'](newItemsExcel)),_0x2bc5f4===_0x241fb3(0x152)&&(statusDiv[_0x241fb3(0x1b8)]=_0x241fb3(0x160)+_0x58cc54,progressBar[_0x241fb3(0x19a)]['display']=_0x241fb3(0x1af));},fileInput[_0x108230(0x1ec)]('change',async _0x2cd4de=>{var _0x4d1219=_0x108230;const _0x4f3150=_0x2cd4de[_0x4d1219(0x1a7)][_0x4d1219(0x21d)][0x0];if(!_0x4f3150)return;uploadBtn[_0x4d1219(0x1cb)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style'][_0x4d1219(0x14d)]=_0x4d1219(0x1af),dropZone[_0x4d1219(0x20a)](_0x4d1219(0x1ff))['textContent']=_0x4f3150[_0x4d1219(0x1a0)],removeBtn[_0x4d1219(0x15f)]=![];try{const _0x5098fe=await _0x4f3150[_0x4d1219(0x159)]();itemWorker['postMessage']({'buf':_0x5098fe,'maxRows':0x1388});}catch(_0x496593){statusDiv[_0x4d1219(0x1b8)]=_0x4d1219(0x17f);}finally{fileInput[_0x4d1219(0x22a)]='';}}),uploadBtn[_0x108230(0x1ec)](_0x108230(0x1a1),async()=>{var _0x3ee7e5=_0x108230;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x1e5a2a=document[_0x3ee7e5(0x17c)](_0x3ee7e5(0x1c4))[_0x3ee7e5(0x22a)],_0x146139=window_options[_0x1e5a2a][_0x3ee7e5(0x253)],_0x10c298=document['getElementById'](_0x3ee7e5(0x225))[_0x3ee7e5(0x22a)];let _0x1b7429=generateNumericUniqId()*0x64+0x1f4,_0x2d9758=generateNumericUniqId()*0xa;const _0x2a2d0c=[];newItemsExcel[_0x3ee7e5(0x1df)](_0x2a3159=>{var _0x24363e=_0x3ee7e5;const _0x1b2f02=++_0x2d9758;_0x2a3159[_0x24363e(0x21a)]=[{'setStockInitial':_0x2a3159[_0x24363e(0x1fb)],'setStockMinimum':_0x2a3159['setStockMinimum'],'setWarehouseCode':_0x10c298}],_0x2a3159[_0x24363e(0x192)][_0x24363e(0x1df)](_0x20f073=>{var _0x4bd156=_0x24363e;const _0x24a4f1=++_0x1b7429;_0x20f073[_0x4bd156(0x21e)]=_0x24a4f1;const _0xffa92c={'id':_0x24a4f1,'setIdProducto':_0x1b2f02,'setCodProducto':_0x2a3159['setItemCode'],'setDescripcion':_0x2a3159[_0x4bd156(0x134)]||_0x2a3159['setItemName'],'setItemDescription':_0x2a3159[_0x4bd156(0x18f)],'setBatchExpirationDate':_0x2a3159['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x2a3159[_0x4bd156(0x197)][0x0]||'','setMarca':_0x2a3159[_0x4bd156(0x184)][0x0]||'','setConversionFactor':parseFloat(_0x20f073[_0x4bd156(0x21c)]),'setImages':[],'setImg':_0x4bd156(0x15b),'setInventariable':_0x2a3159[_0x4bd156(0x20f)]?0x1:0x0,'setItemIsBought':_0x2a3159[_0x4bd156(0x22b)]?0x1:0x0,'setItemIsSold':_0x2a3159['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x2a3159[_0x4bd156(0x213)],'setPrinters':[],'setTaxId':_0x2a3159['setItemTaxId'],'setTipAfeIgv':_0x2a3159[_0x4bd156(0x1d6)],'setUnidad':_0x20f073[_0x4bd156(0x15c)],'setUnidadCodigo':_0x20f073[_0x4bd156(0x15c)],'currency_data':[{'currency':_0x146139,'setMtoPrecioCostoUnitario':_0x20f073[_0x4bd156(0x1f4)],'setMtoPrecioUnitario':_0x20f073[_0x4bd156(0x13f)],'setPriceLists':[]}],'sucursales':_0x2a3159[_0x4bd156(0x21a)][_0x4bd156(0x1c0)](_0x4769b1=>({'setIdSucursal':_0x4769b1[_0x4bd156(0x1ae)],'setSucursalStock':_0x4769b1[_0x4bd156(0x1fb)][_0x4bd156(0x196)](),'setWarehouseStockMin':_0x4769b1[_0x4bd156(0x13c)][_0x4bd156(0x196)]()})),'setItemFree':_0x2a3159['setItemFree'],'setItemBarCode':_0x2a3159['setItemBarCode'],'setItemBrands':_0x2a3159[_0x4bd156(0x184)][_0x4bd156(0x209)](),'setItemCategories':_0x2a3159[_0x4bd156(0x197)]['slice'](),'setItemComponents':_0x2a3159[_0x4bd156(0x201)][_0x4bd156(0x1c0)](_0x562120=>({..._0x562120})),'setItemImages':_0x2a3159[_0x4bd156(0x163)][_0x4bd156(0x209)](),'setItemVariantName':_0x2a3159['setItemVariantName'],'setItemVariantValues':{..._0x2a3159[_0x4bd156(0x164)]}};_0x2a2d0c[_0x4bd156(0x1d5)](_0xffa92c);});}),console[_0x3ee7e5(0x15d)](_0x3ee7e5(0x12d),newItems),await finalizeImport(_0x2a2d0c,newItemsExcel,!![]);});function initializeFormImages(){var _0x2d0c30=_0x108230;currentImages=Array(MAX_IMAGES)[_0x2d0c30(0x1be)](null),imgC[_0x2d0c30(0x12e)]='',baseItem[_0x2d0c30(0x163)]=[];for(var _0x3a4dec=0x0;_0x3a4dec<MAX_IMAGES;_0x3a4dec++){(function(_0x1c88f3){var _0x4498df=_0x2d0c30,_0x3e0f4f=document[_0x4498df(0x21f)](_0x4498df(0x1b0));_0x3e0f4f[_0x4498df(0x136)]='image_box',_0x3e0f4f[_0x4498df(0x23c)][_0x4498df(0x162)]=_0x1c88f3;var _0x5e3245=document[_0x4498df(0x21f)](_0x4498df(0x211));_0x5e3245[_0x4498df(0x216)]=_0x4498df(0x200),_0x5e3245['accept']=_0x4498df(0x1e3),_0x5e3245[_0x4498df(0x19a)][_0x4498df(0x14d)]=_0x4498df(0x1af);var _0x228143=document['createElement']('span');_0x228143[_0x4498df(0x1b8)]='+',_0x3e0f4f[_0x4498df(0x1aa)](_0x5e3245),_0x3e0f4f[_0x4498df(0x1aa)](_0x228143),imgC['appendChild'](_0x3e0f4f),_0x3e0f4f[_0x4498df(0x1ec)](_0x4498df(0x1a1),function(){var _0x1bb515=_0x4498df;_0x5e3245[_0x1bb515(0x1a1)]();}),_0x5e3245[_0x4498df(0x1ec)](_0x4498df(0x242),function(_0x13bfec){var _0x41ef21=_0x4498df,_0x2be1bd=_0x13bfec['target'][_0x41ef21(0x21d)][0x0];if(!_0x2be1bd)return removeImg(_0x1c88f3);var _0x4dfe4b=new FileReader();_0x4dfe4b['onload']=function(_0x2f2303){var _0x1ee0cf=_0x41ef21;_0x3e0f4f[_0x1ee0cf(0x12e)]=_0x1ee0cf(0x15a)+_0x2f2303['target'][_0x1ee0cf(0x19c)]+'\x22>';var _0x3fd0d0=document[_0x1ee0cf(0x21f)](_0x1ee0cf(0x157));_0x3fd0d0['className']=_0x1ee0cf(0x12f),_0x3fd0d0[_0x1ee0cf(0x1b8)]='×',_0x3fd0d0[_0x1ee0cf(0x1ec)](_0x1ee0cf(0x1a1),function(_0x3d48b0){var _0x5ca8df=_0x1ee0cf;_0x3d48b0[_0x5ca8df(0x14b)](),removeImg(_0x1c88f3);}),_0x3e0f4f['appendChild'](_0x3fd0d0),currentImages[_0x1c88f3]=_0x2be1bd,baseItem[_0x1ee0cf(0x163)]=currentImages['filter'](function(_0x51d5a9){return _0x51d5a9;});},_0x4dfe4b[_0x41ef21(0x247)](_0x2be1bd);});}(_0x3a4dec));}}function initializeFormIsSoldIsBought(){var _0x4c7923=_0x108230;document[_0x4c7923(0x17c)](_0x4c7923(0x220))['checked']=!![],document[_0x4c7923(0x17c)](_0x4c7923(0x1f0))[_0x4c7923(0x23e)]=!![],baseItem['setItemIsBought']=!![],baseItem[_0x4c7923(0x233)]=!![];}function initializeFormInputsBasic(){var _0x468b71=_0x108230;document[_0x468b71(0x17c)](_0x468b71(0x176))[_0x468b71(0x22a)]='1',document[_0x468b71(0x17c)](_0x468b71(0x1c1))[_0x468b71(0x22a)]=getNextCode(products),document['getElementById'](_0x468b71(0x17b))[_0x468b71(0x22a)]='',document['getElementById']('inputItemDescription')[_0x468b71(0x22a)]='',document[_0x468b71(0x17c)](_0x468b71(0x255))[_0x468b71(0x22a)]='',document[_0x468b71(0x17c)](_0x468b71(0x190))[_0x468b71(0x22a)]='',baseItem[_0x468b71(0x130)]='1',baseItem[_0x468b71(0x140)]=getNextCode(products),baseItem[_0x468b71(0x208)]='',baseItem[_0x468b71(0x18f)]='',baseItem[_0x468b71(0x18c)]='',baseItem[_0x468b71(0x239)]='',document[_0x468b71(0x17c)](_0x468b71(0x20e))[_0x468b71(0x23e)]=![];}function initializeFormTax(){var _0x5372ea=_0x108230;const _0x563722=myCompany[_0x5372ea(0x1a2)],_0x3f6881=document['getElementById']('inputItemTax');_0x3f6881[_0x5372ea(0x22a)]=_0x563722,baseItem['setItemTaxId']=_0x563722;const _0x53542c=company[0x0]['setImpuestos'][_0x5372ea(0x13e)](_0xc5eb5b=>_0xc5eb5b[_0x5372ea(0x19e)]==_0x563722)?.[_0x5372ea(0x1eb)]||0x0,_0x378194=company[0x0][_0x5372ea(0x254)][_0x5372ea(0x13e)](_0x4a68a6=>_0x4a68a6[_0x5372ea(0x19e)]==_0x563722)?.[_0x5372ea(0x228)]||0x0;baseItem['setItemTaxCode']=_0x53542c,baseItem['setItemTaxValue']=_0x378194;}function initializeFormCategoriesBrands(){var _0x2a2e2d=_0x108230;baseItem['setItemCategories']=[],baseItem[_0x2a2e2d(0x184)]=[],document['querySelector'](_0x2a2e2d(0x133))[_0x2a2e2d(0x12e)]='',document[_0x2a2e2d(0x20a)](_0x2a2e2d(0x153))[_0x2a2e2d(0x12e)]='',document['querySelector']('#newItem_brands_select\x20.selected_tags')[_0x2a2e2d(0x12e)]='',document[_0x2a2e2d(0x20a)](_0x2a2e2d(0x18b))['innerHTML']='';const _0x28f886=uniqueValuesArray(_0x2a2e2d(0x249),_0x2a2e2d(0x249),products),_0x2f8184=uniqueValuesArray(_0x2a2e2d(0x142),_0x2a2e2d(0x142),products),_0xbbd027=initMulti(_0x2a2e2d(0x212),_0x28f886),_0xebe0b6=initMulti(_0x2a2e2d(0x1b3),_0x2f8184);document[_0x2a2e2d(0x17c)](_0x2a2e2d(0x212))['addEventListener'](_0x2a2e2d(0x1e0),function(_0x204259){var _0xcadbf5=_0x2a2e2d;baseItem['setItemCategories']=_0xbbd027[_0xcadbf5(0x1c0)](_0x53a9d7=>_0x53a9d7[_0xcadbf5(0x246)]);}),document[_0x2a2e2d(0x17c)](_0x2a2e2d(0x1b3))['addEventListener']('selectionChange',function(_0x47ccc6){var _0x4a1847=_0x2a2e2d;baseItem[_0x4a1847(0x184)]=_0xebe0b6[_0x4a1847(0x1c0)](_0x47cc6c=>_0x47cc6c[_0x4a1847(0x246)]);});}function initializeFormUnits(){var _0x11449e=_0x108230;unitCount=0x0,document[_0x11449e(0x17c)](_0x11449e(0x251))[_0x11449e(0x12e)]='',baseItem[_0x11449e(0x192)]=[];var _0x50e5f5=uniqueValuesArray('setUnidad',_0x11449e(0x1dc),products);addUnit('',_0x50e5f5[0x0]&&_0x50e5f5[0x0]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x34e77a=_0x108230;prodC[_0x34e77a(0x12e)]='',baseItem['setItemComponents']=[],updateProdItems();}function initializeFormWarehouses(){var _0x10af0a=_0x108230;branchesC[_0x10af0a(0x12e)]='',baseItem[_0x10af0a(0x21a)]=[];const _0x43b6c8=getAllWarehouses();_0x43b6c8[_0x10af0a(0x1df)](function(_0x3d7bcd){var _0x43c50f=_0x10af0a,_0x50a10a=document[_0x43c50f(0x21f)](_0x43c50f(0x1b0));_0x50a10a['innerHTML']=_0x43c50f(0x16b)+_0x43c50f(0x19b)+'<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x3d7bcd[_0x43c50f(0x225)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x3d7bcd['setWarehouseName']+'</label>'+_0x43c50f(0x175)+_0x43c50f(0x19b)+_0x43c50f(0x137)+_0x3d7bcd[_0x43c50f(0x225)]+'\x22>'+_0x43c50f(0x175)+_0x43c50f(0x19b)+_0x43c50f(0x221)+_0x3d7bcd['setWarehouseId']+'\x22>'+_0x43c50f(0x175)+_0x43c50f(0x175),branchesC[_0x43c50f(0x1aa)](_0x50a10a),_0x50a10a[_0x43c50f(0x222)](_0x43c50f(0x211))[_0x43c50f(0x1df)](function(_0x152a72){var _0x2e2b3e=_0x43c50f;_0x152a72[_0x2e2b3e(0x1ec)](_0x2e2b3e(0x211),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x6850a8=_0x108230;baseItem[_0x6850a8(0x134)]='',baseItem[_0x6850a8(0x164)]={},vgC['innerHTML']='',varContainer[_0x6850a8(0x12e)]='',vgCount=0x0,newItems=[baseItem];}function _0x43f3(){var _0x460fd6=['setImpuestoCode','addEventListener','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_chk_sell','split','readwrite','warn','setCost','preventDefault','block','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','.unitSelect','onmessage','setStockInitial','console','.prod_input_container','.removeGroup','.drop-zone__prompt','file','setItemComponents','bind','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','contains','true','newItem_branches_container','unitAlias','setItemName','slice','querySelector','variantForm','setAlias','./js/apierp_item_wk.min.js','newItem_addToCart','setItemInventoriable','modalProductNewTitle','input','newItem_categories_select','setItemTaxValue','setItemId','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','type','newItem_title_table_cp','setCantidad','.ms_input','setItemWarehouses','productType1','setFactor','files','setUnitPresentationId','createElement','newItem_chk_buy','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','querySelectorAll','drop-zone','Enter','setWarehouseId','dragover','setEquivalence','setImpuestoValue','tag','value','setItemIsBought','49yQGdFX','closest','sort','#newItem_units_container\x20>\x20div','.priceInput','setAuthToken','oncomplete','setItemIsSold','newItem_btn_addUnit','children','1970560NbaWOf','.variantBarCode','.selected_tags','setItemBarCode','trim','flatMap','dataset','status','checked','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','detalleModalCreateItem','Ingresa\x20el\x20código\x20del\x20item','change','166304HOpCti','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','keydown','setCode','readAsDataURL','Error\x20al\x20guardar\x20Producto\x20Offline:','setCategoria','_units_container','undefined','Nuevo\x20Producto','focus','_branch_container','table','items','newItem_units_container','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setMoneda','setImpuestos','inputItemDateExpiry','upload-btn','remove-tag','Items\x20finales:','innerHTML','remove','setItemType','key','.prodInput','#newItem_categories_select\x20.selected_tags','setItemVariantName','drop','className','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','return\x20(function()\x20','setWarehouseName','{}.constructor(\x22return\x20this\x22)(\x20)','8vuzJHq','setStockMinimum','Producto\x20Libre','find','setPrice','setItemCode','.variantExpiry','setMarca','offline_operations','prototype','search','1851075KfKDjg','Error\x20al\x20procesar\x20la\x20operación:','option','stringify','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','stopPropagation','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','display','every','some','includes','max','error','#newItem_categories_select\x20.options_list','.costInput','findIndex','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','span','div[data-default=\x22true\x22]\x20.eqInput','arrayBuffer','<img\x20src=\x22','./img/product.png','setUnitCode','log','\x20items\x20procesados.','hidden','❌\x20Error:\x20','Collator','idx','setItemImages','setItemVariantValues','.branchMin','setImpuestoName','\x22\x20class=\x22branchChk\x22\x20checked>\x20','vals','match','\x22\x20value=\x22','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','now','code','dragenter','eqInput','style=\x22display:none\x22','.addVariantUnit','Producto\x20Guardado\x20Offline\x20Correctamente.','costInput','progress','</div>','inputItemType','blur','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','toggle','variant_','inputItemName','getElementById','5apbmug','Ingresa\x20el\x20nombre\x20del\x20item','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','info','parentNode','indexOf','currentTarget','setItemBrands','objectStore','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','newItem_btn_addVariantGroup','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','.eqInput','modalOverlayCreateItem','#newItem_brands_select\x20.options_list','setItemDateExpiry','constructor','.variantForm','setItemDescription','inputItemBarCode','filter','setItemUnits','24gzJwJt','done','priceInput','toString','setItemCategories','setItemTaxId','916904eWVAyK','style','<div\x20class=\x22newItem_col\x22>','result','.variantCode','setTaxId','.removeCombo','name','click','setTaxIdDefault','(((.+)+)+)+$','splice','setDescripcion','newItem_title_table','target','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','newItem_variants_forms','appendChild','classList','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','accept','setWarehouseCode','none','div','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','selectedItem','newItem_brands_select','test','#newItem_branches_container\x20>\x20div','defineProperty','.options_list','textContent','13555058ingEFS','from','active','newItem_variant_groups','[id$=\x22_comp_container\x22]','fill','__proto__','map','inputItemCode','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','apply','windowId','100','dispatchEvent','6059870wCQvef','.branchChk','18gocucz','remove-file','disabled','4904826dUIgfs','getElementsByClassName','inputItemTax','message','.vgName','onerror','newItem_hidden','.prodQty','setName','push','setItemTaxCode','length','toLowerCase','setCodProducto','add','default','setUnidad','.unitAlias','entries','forEach','selectionChange','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','image/*','newItem_proditems_container','.branchInit','setItemFree','newItem_images_container','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','dataTransfer','inputItemDescription'];_0x43f3=function(){return _0x460fd6;};return _0x43f3();}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x47c7cd,_0x3dcfd5,_0xd4c1b5=![]){var _0xe73380=_0x108230;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0xe73380(0x1c5),'setToken':company[0x0][_0xe73380(0x231)],'setWebhook':company[0x0]['setWebhook'],'newItems':_0x3dcfd5}),products[_0xe73380(0x1d5)](..._0x47c7cd),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0xe73380(0x1b1)),_0xd4c1b5?(fileInput['value']='',uploadBtn[_0xe73380(0x1cb)]=!![],statusDiv[_0xe73380(0x1b8)]='',progressBar['style'][_0xe73380(0x14d)]=_0xe73380(0x1af),progressBar[_0xe73380(0x22a)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}