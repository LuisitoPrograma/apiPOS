/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.1
*/

const _0x70978=_0x24a5;(function(_0xf9c62a,_0x170c90){const _0x200220=_0x24a5,_0x56685a=_0xf9c62a();while(!![]){try{const _0x2aaa29=parseInt(_0x200220(0xea))/0x1+-parseInt(_0x200220(0xe4))/0x2*(-parseInt(_0x200220(0xcc))/0x3)+parseInt(_0x200220(0xd9))/0x4*(-parseInt(_0x200220(0xcf))/0x5)+-parseInt(_0x200220(0xd1))/0x6+-parseInt(_0x200220(0xf9))/0x7+-parseInt(_0x200220(0xc7))/0x8+parseInt(_0x200220(0xd4))/0x9;if(_0x2aaa29===_0x170c90)break;else _0x56685a['push'](_0x56685a['shift']());}catch(_0x5c4582){_0x56685a['push'](_0x56685a['shift']());}}}(_0x4370,0x52478));const _0x2229f3=(function(){let _0x3daff4=!![];return function(_0x4bf75a,_0x2f4f86){const _0x36fcb7=_0x3daff4?function(){const _0x364e9a=_0x24a5;if(_0x2f4f86){const _0x1e69b6=_0x2f4f86[_0x364e9a(0xf8)](_0x4bf75a,arguments);return _0x2f4f86=null,_0x1e69b6;}}:function(){};return _0x3daff4=![],_0x36fcb7;};}()),_0x105c4a=_0x2229f3(this,function(){const _0x5a9069=_0x24a5;return _0x105c4a[_0x5a9069(0xc8)]()[_0x5a9069(0xdd)]('(((.+)+)+)+$')[_0x5a9069(0xc8)]()[_0x5a9069(0xc0)](_0x105c4a)[_0x5a9069(0xdd)]('(((.+)+)+)+$');});function _0x24a5(_0x915fa5,_0x4f7cc6){const _0x3a03ce=_0x4370();return _0x24a5=function(_0x5ab964,_0x18f6a8){_0x5ab964=_0x5ab964-0xbc;let _0x4914a7=_0x3a03ce[_0x5ab964];return _0x4914a7;},_0x24a5(_0x915fa5,_0x4f7cc6);}_0x105c4a();const _0x18f6a8=(function(){let _0x5c7a7b=!![];return function(_0x41eeac,_0x1ae6bd){const _0x3c33cf=_0x5c7a7b?function(){const _0x2ffcf5=_0x24a5;if(_0x1ae6bd){const _0x1872bd=_0x1ae6bd[_0x2ffcf5(0xf8)](_0x41eeac,arguments);return _0x1ae6bd=null,_0x1872bd;}}:function(){};return _0x5c7a7b=![],_0x3c33cf;};}()),_0x5ab964=_0x18f6a8(this,function(){const _0x46997d=_0x24a5,_0x1ecaf0=function(){const _0x5f1c84=_0x24a5;let _0x5e90ca;try{_0x5e90ca=Function(_0x5f1c84(0xc4)+_0x5f1c84(0xdf)+');')();}catch(_0x4c5fc1){_0x5e90ca=window;}return _0x5e90ca;},_0x262d08=_0x1ecaf0(),_0xcd2d80=_0x262d08[_0x46997d(0xf3)]=_0x262d08[_0x46997d(0xf3)]||{},_0x5845f2=[_0x46997d(0xdb),_0x46997d(0xca),_0x46997d(0xc9),_0x46997d(0xe6),'exception','table',_0x46997d(0xd3)];for(let _0x58c2d9=0x0;_0x58c2d9<_0x5845f2[_0x46997d(0xcd)];_0x58c2d9++){const _0x1b7a6a=_0x18f6a8[_0x46997d(0xc0)]['prototype'][_0x46997d(0xe2)](_0x18f6a8),_0x5339ab=_0x5845f2[_0x58c2d9],_0x105a39=_0xcd2d80[_0x5339ab]||_0x1b7a6a;_0x1b7a6a['__proto__']=_0x18f6a8['bind'](_0x18f6a8),_0x1b7a6a[_0x46997d(0xc8)]=_0x105a39[_0x46997d(0xc8)][_0x46997d(0xe2)](_0x105a39),_0xcd2d80[_0x5339ab]=_0x1b7a6a;}});_0x5ab964();const selectCredentialsApiWAChat=document['getElementById'](_0x70978(0xe0)),loginPanel=document['getElementById'](_0x70978(0xe9)),chatPanel=document[_0x70978(0xf0)](_0x70978(0xf2)),qrImg=document['getElementById'](_0x70978(0xee)),overlay=document[_0x70978(0xf0)](_0x70978(0xe7));function _0x4370(){const _0x11fbf1=['11281950QbTWHS','none','/qr','onload','/wa/','7724wWIdnL','flex','log','addEventListener','search','setCredentialsApiWAChatStatus','{}.constructor(\x22return\x20this\x22)(\x20)','setCredentialsApiWAChat','https://','bind','includes','4TBNFyZ','json','error','qr-overlay','setCredentialsApiWAChatSubdomain','loginPanel','555780hbJWjz','visible','setCredentialsApiWAChatPort','setWarehouseId','qr-img','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','getElementById','value','chatPanel','console','ya\x20conectado','toLowerCase','status','display','apply','3884440uBdrLU','click','setBranchDefault','setAuthToken','src','constructor','change','then','catch','return\x20(function()\x20','setFloorId','Credenciales\x20no\x20encontradas','5076960lNoEyK','toString','info','warn','visibility','348453GQCkHD','length','hidden','1285BCBiFs','querySelector','112854tSraCi','style','trace'];_0x4370=function(){return _0x11fbf1;};return _0x4370();}let qrTimeout;const validSeconds=0xa;function showLogin(){const _0xd9de12=_0x70978;loginPanel[_0xd9de12(0xd2)][_0xd9de12(0xf7)]=_0xd9de12(0xda),chatPanel[_0xd9de12(0xd2)][_0xd9de12(0xcb)]=_0xd9de12(0xce);}function showChat(){const _0x2188c8=_0x70978;loginPanel['style'][_0x2188c8(0xf7)]=_0x2188c8(0xd5),chatPanel[_0x2188c8(0xd2)]['visibility']=_0x2188c8(0xeb);}async function displayQR(_0x481e3c){const _0x18777d=_0x70978,_0x4a1f43=selectCredentialsApiWAChat['value'],_0x474370=getCredentialsApiWAChat(_0x4a1f43);if(_0x474370){const _0x46591d=_0x474370[_0x18777d(0xe8)],_0x4a764d=_0x474370[_0x18777d(0xec)];clearTimeout(qrTimeout),overlay['style']['display']='none',qrImg[_0x18777d(0xbf)]=_0x481e3c,qrTimeout=setTimeout(()=>{const _0x5185bd=_0x18777d;fetch(_0x5185bd(0xe1)+_0x46591d+_0x5185bd(0xd8)+_0x4a764d+_0x5185bd(0xd6),{'headers':{'x-auth-token':myCompany[_0x5185bd(0xbe)]}})[_0x5185bd(0xc2)](async _0x330ddd=>_0x330ddd[_0x5185bd(0xe5)]())[_0x5185bd(0xc2)](async _0x21b133=>{const _0x36df5c=_0x5185bd;_0x21b133[_0x36df5c(0xf6)]&&_0x21b133[_0x36df5c(0xf6)]['toLowerCase']()[_0x36df5c(0xe3)](_0x36df5c(0xf4))?(showChat(),_0x474370[_0x36df5c(0xde)]=0x1):(overlay[_0x36df5c(0xd2)][_0x36df5c(0xf7)]=_0x36df5c(0xda),_0x474370[_0x36df5c(0xde)]=0x0);const _0x4b33d1=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4b33d1);})[_0x5185bd(0xc3)](_0x2161cf=>{const _0x102a67=_0x5185bd;console[_0x102a67(0xe6)](_0x102a67(0xef),_0x2161cf),overlay[_0x102a67(0xd2)][_0x102a67(0xf7)]=_0x102a67(0xda);});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}async function init(){const _0x1b17b5=_0x70978,_0x5de163=selectCredentialsApiWAChat['value'],_0xb65332=getCredentialsApiWAChat(_0x5de163);if(_0xb65332){const _0x48ee2c=_0xb65332['setCredentialsApiWAChatSubdomain'],_0x51d7ab=_0xb65332[_0x1b17b5(0xec)];fetch(_0x1b17b5(0xe1)+_0x48ee2c+_0x1b17b5(0xd8)+_0x51d7ab+_0x1b17b5(0xd6),{'headers':{'x-auth-token':myCompany[_0x1b17b5(0xbe)]}})[_0x1b17b5(0xc2)](async _0x1626a8=>_0x1626a8['json']())['then'](async _0x5ed28e=>{const _0xf647f2=_0x1b17b5;if(_0x5ed28e[_0xf647f2(0xf6)]&&_0x5ed28e[_0xf647f2(0xf6)][_0xf647f2(0xf5)]()[_0xf647f2(0xe3)](_0xf647f2(0xf4)))showChat(),_0xb65332[_0xf647f2(0xde)]=0x1;else _0x5ed28e['qr']&&(showLogin(),displayQR(_0x5ed28e['qr']),_0xb65332['setCredentialsApiWAChatStatus']=0x0);const _0x514736=await createCartStore('');await saveCompanyToIndexedDB(company,_0x514736);})[_0x1b17b5(0xc3)](console[_0x1b17b5(0xe6)]);}else ntfShow(_0x1b17b5(0xc6));}overlay[_0x70978(0xdc)](_0x70978(0xbc),init),window[_0x70978(0xd7)]=function(){const _0x497ea3=_0x70978,_0x35d54a=0x4;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x43e2ed=document[_0x497ea3(0xd0)]('.btn-logout');_0x43e2ed&&_0x43e2ed[_0x497ea3(0xdc)](_0x497ea3(0xbc),function(){logoutReload(0x0,_0x35d54a);}),document[_0x497ea3(0xf0)]('setBranchId')[_0x497ea3(0xdc)](_0x497ea3(0xc1),async function(){const _0x381e62=_0x497ea3,_0x259c58=parseInt(this[_0x381e62(0xf1)]);myCompany[_0x381e62(0xbd)]=_0x259c58,saveCredentialsApiWAChatInCompany();const _0x376ec2=await createCartStore('');await saveCompanyToIndexedDB(company,_0x376ec2),cargarAlmacenes(_0x259c58),setTimeout(()=>{const _0x5ad2e0=_0x381e62;document['getElementById'](_0x5ad2e0(0xed))['dispatchEvent'](new Event(_0x5ad2e0(0xc1)));},0x64),cargarPisos(_0x259c58),setTimeout(()=>{const _0x310432=_0x381e62;document['getElementById'](_0x310432(0xc5))['dispatchEvent'](new Event(_0x310432(0xc1)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x35d54a);};