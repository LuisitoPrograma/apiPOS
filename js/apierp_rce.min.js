/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.8
*/

const _0x4f8340=_0x1c72;(function(_0x552e75,_0x359882){const _0x2f7f75=_0x1c72,_0x2762bd=_0x552e75();while(!![]){try{const _0xbaedb=-parseInt(_0x2f7f75(0x127))/0x1*(parseInt(_0x2f7f75(0x146))/0x2)+parseInt(_0x2f7f75(0xad))/0x3+parseInt(_0x2f7f75(0xa9))/0x4+parseInt(_0x2f7f75(0xe2))/0x5+-parseInt(_0x2f7f75(0x13e))/0x6*(-parseInt(_0x2f7f75(0xa4))/0x7)+-parseInt(_0x2f7f75(0xf7))/0x8*(parseInt(_0x2f7f75(0xa1))/0x9)+parseInt(_0x2f7f75(0x155))/0xa*(parseInt(_0x2f7f75(0x15f))/0xb);if(_0xbaedb===_0x359882)break;else _0x2762bd['push'](_0x2762bd['shift']());}catch(_0x149566){_0x2762bd['push'](_0x2762bd['shift']());}}}(_0x13e3,0xf1cf6));const _0x54ca08=(function(){let _0x425695=!![];return function(_0x4dd111,_0x1830e5){const _0x50bbf6=_0x425695?function(){const _0x4f7e70=_0x1c72;if(_0x1830e5){const _0x5e5adb=_0x1830e5[_0x4f7e70(0x109)](_0x4dd111,arguments);return _0x1830e5=null,_0x5e5adb;}}:function(){};return _0x425695=![],_0x50bbf6;};}()),_0x598f00=_0x54ca08(this,function(){const _0x16ac62=_0x1c72;return _0x598f00['toString']()[_0x16ac62(0xc0)](_0x16ac62(0xf3))[_0x16ac62(0x166)]()[_0x16ac62(0xa6)](_0x598f00)[_0x16ac62(0xc0)]('(((.+)+)+)+$');});_0x598f00();function _0x13e3(){const _0xc555d4=['classList','dataset_raw','forEach','trace','payload','\x0a<tr>\x0a<td>','pdf','setSeries','setOperationType','height','querySelectorAll','label','#pagination-income','slice','2541414zjnyKs','then','none','pageX','https://fasyb.com/api/venta/view/?id=','exportDone','btn\x20btn-sm\x20btn-outline\x20ms-2','offsetLeft','3582xwXWhE','setOperationItems','setCustomerName','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','postMessage','axis','Selecciona\x20ambas\x20fechas','data','table','mousemove','#FF5900','onmessage','__proto__','status','setFloorId','20NqglIB','setBranchDefault','log','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','customerName','prototype','setOperationCustomerId','valor_unitario','setOperationId','toFixed','9111608DAUHBm','RCE','change','remove','error','exception','productName','toString','Error\x20al\x20aplicar\x20filtro','setOperationSeries','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','.table-wrapper','application/json','scrollLeft','width','setOperationDetailUnitCost','getElementById','push','map','href','&tipo=','#080060','flatMap','return\x20(function()\x20','style','cost','line','concat','appendChild','preventDefault','bottom','#00bb2d','5584086DmpHbq','filterModal','reduce','7GdabBM','ID_SERIE','constructor','value','./img/apiPOS.png','2322516VjLiqJ','download','detalle','setOperationDetailQuantity','1064184WBkNyd','#pagination-products','bind','addEventListener','Pendiente','400px','center','detalleModal','Contenedor\x20','split','currency','Sin\x20descripci贸n','mousedown','filter','shadow','setTipoComprobante','detalleTablaBody','revokeObjectURL','#reporte-income-products','search','substring','setOperationCurrency','setOperationDateTime','isArray','{}.constructor(\x22return\x20this\x22)(\x20)','setBranchId','console','setOperationPaymentStatus','dispatchEvent','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','\x0a<iframe\x20src=\x22','assign','</td>\x0a<td>','https://fasyb.com/api/pdf/proxy/?file=','top','from','getInstance','Error\x20al\x20cargar\x20el\x20detalle.','500px','innerHTML','catch','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','exportReport','#00AEEF','...','setApiEndPoint','Total','.btn-logout','className','setOperationPaymentStatusColor','closeModalViewDetails','sort','setTipoOperacionCodigo','4867595jopdjy','click','modalOverlayViewDetails','bar','setOperationDetailTotal','filter-start',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','POST','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','setOperationTypeSpan','profit',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','producto','createObjectURL','name','100%','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','(((.+)+)+)+$',';\x22>\x0a','textContent','recibo','24huVJnt','mouseleave','\x2023:59:59','mouseup','fechaISO',';\x20color:\x20','length','application/json;\x20charset=utf-8','\x20no\x20existe','No\x20se\x20encontr贸\x20informaci贸n\x20de\x20ingresos','createElement','\x20tbody','Evoluci贸n\x20de\x20Ventas','boleta','setOperationTotal','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','Siguiente\x20&raquo;','ceil','apply','setOption','divChartIncome','json','Ventas\x20por\x20Cliente','Error\x20','Error\x20al\x20exportar.','setOperationNumber','display','incomes','round','sales','products','statusText','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','querySelector','setOperationCustomerName','active','warn','Export\x20WK\x20Error:','dataset_','stringify','Costo','init','setCustomers','setWarehouseId','setOperationPaymentStatusName','dynamicContent','info','#reporte-income-customers','635yvwJmL','middle','values','factura','find','category','add','btn-outline-primary','Error\x20al\x20cargar\x20el\x20detalle:'];_0x13e3=function(){return _0xc555d4;};return _0x13e3();}const _0x38f6d1=(function(){let _0x1d6797=!![];return function(_0xde1efe,_0x1d3142){const _0xbfcb5a=_0x1d6797?function(){const _0x5a40df=_0x1c72;if(_0x1d3142){const _0xd3734d=_0x1d3142[_0x5a40df(0x109)](_0xde1efe,arguments);return _0x1d3142=null,_0xd3734d;}}:function(){};return _0x1d6797=![],_0xbfcb5a;};}()),_0x186984=_0x38f6d1(this,function(){const _0x1f08a1=_0x1c72,_0x11d486=function(){const _0x2652c5=_0x1c72;let _0x13eff5;try{_0x13eff5=Function(_0x2652c5(0x98)+_0x2652c5(0xc5)+');')();}catch(_0x40ddc8){_0x13eff5=window;}return _0x13eff5;},_0x3e037c=_0x11d486(),_0x139f40=_0x3e037c[_0x1f08a1(0xc7)]=_0x3e037c[_0x1f08a1(0xc7)]||{},_0x2b2dc1=[_0x1f08a1(0x157),_0x1f08a1(0x11b),_0x1f08a1(0x125),_0x1f08a1(0x163),_0x1f08a1(0x164),_0x1f08a1(0x14e),_0x1f08a1(0x133)];for(let _0x2e27d6=0x0;_0x2e27d6<_0x2b2dc1[_0x1f08a1(0xfd)];_0x2e27d6++){const _0x40a63d=_0x38f6d1[_0x1f08a1(0xa6)][_0x1f08a1(0x15a)][_0x1f08a1(0xaf)](_0x38f6d1),_0x1cc914=_0x2b2dc1[_0x2e27d6],_0x985977=_0x139f40[_0x1cc914]||_0x40a63d;_0x40a63d[_0x1f08a1(0x152)]=_0x38f6d1[_0x1f08a1(0xaf)](_0x38f6d1),_0x40a63d[_0x1f08a1(0x166)]=_0x985977[_0x1f08a1(0x166)][_0x1f08a1(0xaf)](_0x985977),_0x139f40[_0x1cc914]=_0x40a63d;}});_0x186984();let arrayIncomes;const divChartIncome=document['getElementById'](_0x4f8340(0x10b));function _0x1c72(_0x1cac32,_0x407096){const _0x1475a4=_0x13e3();return _0x1c72=function(_0x186984,_0x38f6d1){_0x186984=_0x186984-0x95;let _0x4f1e3e=_0x1475a4[_0x186984];return _0x4f1e3e;},_0x1c72(_0x1cac32,_0x407096);}let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x478413){const _0x92a664=_0x4f8340,{containerId:_0x4c9fc8,rawData:_0x27ca3f,groupField:_0x697262,groupValues:_0x343abf,seriesType:seriesType=_0x92a664(0x9b),chartType:chartType=seriesType,encode:_0x543a1b,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder='valueDesc',xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x2b93fc,height:_0x4ed87e}=_0x478413,_0x14c635=document[_0x92a664(0x16f)](_0x4c9fc8);if(!_0x14c635){console[_0x92a664(0x163)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x4c9fc8+'\x22\x20no\x20existe.');return;}if(_0x2b93fc)_0x14c635[_0x92a664(0x99)]['width']=_0x2b93fc;if(_0x4ed87e)_0x14c635[_0x92a664(0x99)][_0x92a664(0x139)]=_0x4ed87e;const _0x5bda09=echarts[_0x92a664(0x120)](_0x14c635),_0x132cda=[],_0x1c4d81=[];_0x343abf[_0x92a664(0x132)]((_0x2758b6,_0x4fcde5)=>{const _0x4a7afc=_0x92a664,_0x7869c6=_0x4a7afc(0x11d)+_0x2758b6,_0x5b1a44=(_0x478413['additionalFilters']||[])[_0x4a7afc(0x9c)]([{'dimension':_0x697262,'=':_0x2758b6}]);_0x132cda[_0x4a7afc(0x170)]({'id':_0x7869c6,'fromDatasetId':_0x4a7afc(0x131),'transform':{'type':_0x4a7afc(0xba),'config':{'and':_0x5b1a44}}}),_0x1c4d81[_0x4a7afc(0x170)]({'type':chartType,'datasetId':_0x7869c6,'name':_0x2758b6,...chartType===_0x4a7afc(0xe5)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x4fcde5]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x543a1b});});const _0x59694c={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x27ca3f},..._0x132cda],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x92a664(0x14b)},'xAxis':Object[_0x92a664(0xcc)]({'type':_0x92a664(0x12c),'nameLocation':_0x92a664(0x128)},xAxisConfig),'yAxis':Object[_0x92a664(0xcc)]({'name':_0x543a1b['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x1c4d81};_0x5bda09[_0x92a664(0x10a)](_0x59694c);}function generatePieChart({containerId:_0x5ac41d,data:_0x347a60,nameField:_0x1330a8,valueField:_0x1cf52f,title:title='',titlePosition:titlePosition=_0x4f8340(0xcf),showTitle:showTitle=!![],width:_0x9f5c08,height:_0x6c483c}){const _0x16ae07=_0x4f8340,_0x1e7567=document[_0x16ae07(0x16f)](_0x5ac41d);if(!_0x1e7567)return console[_0x16ae07(0x163)](_0x16ae07(0xb5)+_0x5ac41d+_0x16ae07(0xff));if(_0x9f5c08)_0x1e7567[_0x16ae07(0x99)][_0x16ae07(0x16d)]=_0x9f5c08;if(_0x6c483c)_0x1e7567['style'][_0x16ae07(0x139)]=_0x6c483c;const _0x43ead4=echarts[_0x16ae07(0x120)](_0x1e7567),_0x55f331=_0x347a60[_0x16ae07(0xa3)]((_0xfb4af3,_0x2a0723)=>{const _0x2cc006=_0x16ae07,_0xd9340a=_0x2a0723[_0x1330a8],_0x352eb4=_0x2a0723[_0x1cf52f];let _0x22d3f5=_0xfb4af3[_0x2cc006(0x12b)](_0x546d4d=>_0x546d4d[_0x2cc006(0xf0)]===_0xd9340a);return!_0x22d3f5&&(_0x22d3f5={'name':_0xd9340a,'value':0x0},_0xfb4af3[_0x2cc006(0x170)](_0x22d3f5)),_0x22d3f5[_0x2cc006(0xa7)]+=_0x352eb4,_0xfb4af3;},[]);let _0x2a2488;showTitle?(_0x2a2488={'text':title,'left':_0x16ae07(0xb3)},titlePosition===_0x16ae07(0x9f)?_0x2a2488[_0x16ae07(0x9f)]=0x0:_0x2a2488[_0x16ae07(0xcf)]=0x0):_0x2a2488={'show':![]};const _0x36169f={'title':_0x2a2488,'tooltip':{'trigger':'item'},'series':[{'type':'pie','radius':'50%','data':_0x55f331,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':'{b}:\x20{d}%'}}]};_0x43ead4[_0x16ae07(0x10a)](_0x36169f);}function generateHorizontalBarChart({containerId:_0x176c67,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x4f8340(0xcf),showTitle:showTitle=!![],colors:colors=[],width:_0x16a2d9,height:_0x414189,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x165505=_0x4f8340,_0x1503a4=document[_0x165505(0x16f)](_0x176c67);if(!_0x1503a4)return console[_0x165505(0x163)](_0x165505(0xb5)+_0x176c67+_0x165505(0xff));if(_0x16a2d9)_0x1503a4[_0x165505(0x99)][_0x165505(0x16d)]=_0x16a2d9;if(_0x414189)_0x1503a4[_0x165505(0x99)][_0x165505(0x139)]=_0x414189;const _0xdb2fb7=echarts[_0x165505(0x120)](_0x1503a4),_0x2ee6be=showTitle?{'text':title,'left':_0x165505(0xb3),...titlePosition===_0x165505(0x9f)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x165505(0x9f)?_0x2ee6be[_0x165505(0x9f)]=0x0:_0x2ee6be[_0x165505(0xcf)]=0x0;const _0x2ce57d={'title':_0x2ee6be,'tooltip':{'trigger':_0x165505(0x14b),'axisPointer':{'type':_0x165505(0xbb)}},'legend':{},'grid':Object[_0x165505(0xcc)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x165505(0xcc)]({'type':_0x165505(0xa7),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x165505(0x12c),'data':categories},yAxisConfig),'series':series['map']((_0x32fdee,_0x315471)=>({'type':_0x165505(0xe5),'name':_0x32fdee[_0x165505(0xf0)],'data':_0x32fdee['data'],'itemStyle':{'color':colors[_0x315471]||undefined}}))};_0xdb2fb7[_0x165505(0x10a)](_0x2ce57d);}function showModalViewDetails(){const _0x54ff31=_0x4f8340,_0x35f5b4=document[_0x54ff31(0x16f)]('detalleModal'),_0x36aac4=document['getElementById'](_0x54ff31(0xe4));_0x35f5b4[_0x54ff31(0x130)][_0x54ff31(0x12d)](_0x54ff31(0x11a)),_0x36aac4[_0x54ff31(0x99)]['display']='block';}function hideModalViewDetails(){const _0x1a0849=_0x4f8340,_0x1f91f1=document[_0x1a0849(0x16f)](_0x1a0849(0xb4)),_0x961c17=document[_0x1a0849(0x16f)](_0x1a0849(0xe4));_0x1f91f1['classList'][_0x1a0849(0x162)](_0x1a0849(0x11a)),_0x961c17[_0x1a0849(0x99)][_0x1a0849(0x111)]=_0x1a0849(0x140);const _0x424c4a=document['getElementById']('dynamicContent');_0x424c4a[_0x1a0849(0xd4)]=_0x1a0849(0xf2);}document[_0x4f8340(0x16f)](_0x4f8340(0xdf))[_0x4f8340(0xb0)](_0x4f8340(0xe3),hideModalViewDetails),document[_0x4f8340(0x16f)](_0x4f8340(0xe4))[_0x4f8340(0xb0)](_0x4f8340(0xe3),hideModalViewDetails);function verDetalle(_0x6a122,_0x27bca9){const _0x7288c6=_0x4f8340;fetch(_0x7288c6(0x142)+_0x6a122+_0x7288c6(0x95)+_0x27bca9)[_0x7288c6(0x13f)](_0x2870b9=>{const _0x2c1634=_0x7288c6;if(!_0x2870b9['ok'])throw new Error(_0x2c1634(0x10e)+_0x2870b9[_0x2c1634(0x153)]+':\x20'+_0x2870b9[_0x2c1634(0x116)]);return _0x2870b9[_0x2c1634(0x10c)]();})[_0x7288c6(0x13f)](_0x209b30=>{const _0x122175=_0x7288c6;if(_0x209b30['success']){const _0x1ea490=document[_0x122175(0x16f)](_0x122175(0x124));if(_0x27bca9===_0x122175(0xab)){let _0x5b737e='';_0x209b30[_0x122175(0x14d)][_0x122175(0x132)](_0x1acdd4=>{const _0x8993cb=_0x122175;_0x5b737e+=_0x8993cb(0x135)+_0x1acdd4[_0x8993cb(0xee)]+_0x8993cb(0xcd)+_0x1acdd4['cantidad']+_0x8993cb(0xcd)+_0x1acdd4[_0x8993cb(0x15c)]+_0x8993cb(0xcd)+_0x1acdd4['total']+'</td>\x0a</tr>';}),document['getElementById'](_0x122175(0xbd))[_0x122175(0xd4)]=_0x5b737e;}else{if(_0x27bca9===_0x122175(0x136)){const _0x45369f=_0x122175(0xce)+encodeURIComponent(_0x209b30['pdf_url']),_0x1a6a33=document[_0x122175(0x118)]('.modal-content');_0x1ea490[_0x122175(0xd4)]=_0x122175(0xcb)+_0x45369f+_0x122175(0xea),document['getElementById'](_0x122175(0xdf))['addEventListener']('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x209b30[_0x122175(0x163)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})[_0x7288c6(0xd5)](_0x30c104=>{const _0x4f9c29=_0x7288c6;console['error'](_0x4f9c29(0x12f),_0x30c104),alert(_0x4f9c29(0xd2));});}const tableWrappers=document[_0x4f8340(0x13a)](_0x4f8340(0x16a));tableWrappers[_0x4f8340(0x132)](_0x3bfc1b=>{const _0x473049=_0x4f8340;let _0x88602b=![],_0x2fafe3,_0x4ab6a7;_0x3bfc1b['addEventListener'](_0x473049(0xb9),_0x2311e4=>{const _0x1df97d=_0x473049;_0x88602b=!![],_0x2fafe3=_0x2311e4['pageX']-_0x3bfc1b[_0x1df97d(0x145)],_0x4ab6a7=_0x3bfc1b[_0x1df97d(0x16c)];}),_0x3bfc1b[_0x473049(0xb0)](_0x473049(0xf8),()=>{_0x88602b=![];}),_0x3bfc1b[_0x473049(0xb0)](_0x473049(0xfa),()=>{_0x88602b=![];}),_0x3bfc1b[_0x473049(0xb0)](_0x473049(0x14f),_0x4df705=>{const _0x441ca7=_0x473049;if(!_0x88602b)return;_0x4df705[_0x441ca7(0x9e)]();const _0x3a9e34=_0x4df705[_0x441ca7(0x141)]-_0x3bfc1b[_0x441ca7(0x145)],_0x43e404=(_0x3a9e34-_0x2fafe3)*0x2;_0x3bfc1b['scrollLeft']=_0x4ab6a7-_0x43e404;});});async function consultIncomeReport(){const _0x230374=_0x4f8340;showLoadingModal();const _0x1b296f={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x58b16f=await fetch(myCompany[_0x230374(0xda)],{'method':_0x230374(0xe9),'headers':{'Content-Type':_0x230374(0xfe)},'body':JSON[_0x230374(0x11e)](_0x1b296f)}),{success:_0x540de5,message:_0x1d6b19}=await _0x58b16f[_0x230374(0x10c)]();if(!_0x540de5||!Array[_0x230374(0xc4)](_0x1d6b19[_0x230374(0x112)])){ntfShow(_0x230374(0x100)),console[_0x230374(0x157)](_0x1d6b19);return;}const _0x28e282=_0x1d6b19[_0x230374(0x112)],_0x4d8e56=myCompany[_0x230374(0x121)][_0x230374(0xa3)]((_0x243d8a,_0x50b28f)=>(_0x243d8a[_0x50b28f['setCustomerId']]=_0x50b28f[_0x230374(0x148)],_0x243d8a),{}),_0x1d828a=myCompany['setTipoOperaciones'][_0x230374(0xa3)]((_0x2f43a2,_0x247b76)=>(_0x2f43a2[_0x247b76[_0x230374(0xe1)]]=_0x247b76['setTipoOperacionName'],_0x2f43a2),{}),_0x3edc9d=myCompany[_0x230374(0x137)][_0x230374(0xa3)]((_0x27e042,_0x41f719)=>(_0x27e042[_0x41f719[_0x230374(0xa5)]]=_0x41f719['setSerie'],_0x27e042),{});arrayIncomes=_0x28e282[_0x230374(0x171)](_0x59f000=>{const _0x36b8aa=_0x230374,_0x7dc555=_0x59f000[_0x36b8aa(0x147)]['reduce']((_0x2e1625,_0x5a9f18)=>_0x2e1625+Number(_0x5a9f18[_0x36b8aa(0xe6)]),0x0),_0x76aee=_0x1d828a[_0x59f000['setOperationType']]||_0x59f000[_0x36b8aa(0x138)],_0x446978=_0x3edc9d[_0x59f000[_0x36b8aa(0x168)]]||_0x59f000[_0x36b8aa(0x168)],_0x3a18fb=_0x4d8e56[_0x59f000[_0x36b8aa(0x15b)]]||_0x59f000['setOperationCustomerId'],_0x4bf592=_0x59f000['setOperationPaymentStatus']==0x1?_0x36b8aa(0xa0):'#FF5900',_0x44ee47=_0x59f000[_0x36b8aa(0xc8)]==0x1?'Pagado':_0x36b8aa(0xb1),_0x3c661b=_0x59f000[_0x36b8aa(0x138)]==0x1?'pedido':_0x59f000[_0x36b8aa(0x138)]==0x2?_0x36b8aa(0xf6):_0x59f000[_0x36b8aa(0x138)]==0x3?_0x36b8aa(0x104):_0x59f000[_0x36b8aa(0x138)]==0x4?_0x36b8aa(0x12a):_0x36b8aa(0xf6);return{'setOperationId':_0x59f000[_0x36b8aa(0x15d)],'setOperationType':_0x76aee,'setOperationTypeSpan':_0x3c661b,'setOperationSeries':_0x446978+'-'+_0x59f000[_0x36b8aa(0x110)],'setOperationCustomerName':_0x3a18fb,'setOperationDateTime':_0x59f000[_0x36b8aa(0xc3)],'setOperationPaymentStatusColor':_0x4bf592,'setOperationPaymentStatusName':_0x44ee47,'setOperationCurrency':_0x59f000['setOperationCurrency'],'setOperationTotal':_0x7dc555};});const _0x37f8da=_0x28e282[_0x230374(0x97)](_0x3a8260=>_0x3a8260[_0x230374(0x147)][_0x230374(0x171)](_0x15ab08=>({'item':_0x15ab08,'moneda':_0x3a8260[_0x230374(0xc2)]})))[_0x230374(0xa3)]((_0x1074f6,{item:_0x3b22b5,moneda:_0x3c9eae})=>{const _0x8ce90a=_0x230374,_0x49f885=products[_0x8ce90a(0x12b)](_0x5e31e1=>_0x5e31e1['id']==_0x3b22b5['setOperationDetailUnitPresentationId']),_0x46f1a9=_0x49f885?_0x49f885['setDescripcion']:_0x8ce90a(0xb8),_0x5bc953=_0x46f1a9+'|'+_0x3c9eae,_0x19cc3d=Number(_0x3b22b5[_0x8ce90a(0xe6)]),_0x442756=Number(_0x3b22b5[_0x8ce90a(0x16e)])*Number(_0x3b22b5[_0x8ce90a(0xac)]);return!_0x1074f6[_0x5bc953]&&(_0x1074f6[_0x5bc953]={'productName':_0x46f1a9,'currency':_0x3c9eae,'sales':0x0,'cost':0x0}),_0x1074f6[_0x5bc953]['sales']+=_0x19cc3d,_0x1074f6[_0x5bc953][_0x8ce90a(0x9a)]+=_0x442756,_0x1074f6;},{}),_0x3dc307=Object[_0x230374(0x129)](_0x37f8da)[_0x230374(0x171)](_0x270ff7=>({'productName':_0x270ff7[_0x230374(0x165)],'currency':_0x270ff7['currency'],'sales':Math[_0x230374(0x113)](_0x270ff7['sales']*0x64)/0x64,'cost':Math[_0x230374(0x113)](_0x270ff7['cost']*0x64)/0x64,'profit':Math[_0x230374(0x113)]((_0x270ff7[_0x230374(0x114)]-_0x270ff7[_0x230374(0x9a)])*0x64)/0x64})),_0x51f656=_0x28e282['reduce']((_0x24479d,_0x5d53cf)=>{const _0x2fded3=_0x230374,_0x4ce34e=_0x4d8e56[_0x5d53cf[_0x2fded3(0x15b)]]||_0x5d53cf[_0x2fded3(0x15b)],_0x1d86dc=_0x5d53cf[_0x2fded3(0xc2)],_0x1c32e1=_0x4ce34e+'|'+_0x1d86dc,_0x35ee0d=_0x5d53cf[_0x2fded3(0x147)][_0x2fded3(0xa3)]((_0x27fe5f,_0x3f5e29)=>_0x27fe5f+Number(_0x3f5e29[_0x2fded3(0xe6)]),0x0),_0xa7a8f=_0x5d53cf[_0x2fded3(0x147)][_0x2fded3(0xa3)]((_0x4d1e1c,_0x565a7f)=>_0x4d1e1c+Number(_0x565a7f['setOperationDetailUnitCost'])*Number(_0x565a7f[_0x2fded3(0xac)]),0x0);return!_0x24479d[_0x1c32e1]&&(_0x24479d[_0x1c32e1]={'customerName':_0x4ce34e,'currency':_0x1d86dc,'sales':0x0,'cost':0x0}),_0x24479d[_0x1c32e1]['sales']+=_0x35ee0d,_0x24479d[_0x1c32e1][_0x2fded3(0x9a)]+=_0xa7a8f,_0x24479d;},{}),_0x4ee0fe=Object[_0x230374(0x129)](_0x51f656)['map'](_0x10c01b=>({'customerName':_0x10c01b['customerName'],'currency':_0x10c01b[_0x230374(0xb7)],'sales':Math['round'](_0x10c01b[_0x230374(0x114)]*0x64)/0x64,'cost':Math[_0x230374(0x113)](_0x10c01b[_0x230374(0x9a)]*0x64)/0x64,'profit':Math[_0x230374(0x113)]((_0x10c01b[_0x230374(0x114)]-_0x10c01b['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x230374(0x112)),renderTable(_0x3dc307,currentPageProducts,_0x230374(0x115)),renderTable(_0x4ee0fe,currentPageCustomers,'customers');const _0x391859=arrayIncomes[_0x230374(0x171)](_0x419d00=>({'fechaISO':_0x419d00[_0x230374(0xc3)]['split']('\x20')[0x0],'setTipoComprobante':_0x419d00[_0x230374(0x138)],'setOperationCurrency':_0x419d00['setOperationCurrency'],'Total':Math['round'](_0x419d00[_0x230374(0x105)]*0x64)/0x64})),_0x5bad44=_0x391859[_0x230374(0xa3)]((_0x3a5fa6,_0x2aa939)=>{const _0x1ec2e9=_0x230374,_0x22f6a6=_0x2aa939[_0x1ec2e9(0xfb)]+'|'+_0x2aa939['setTipoComprobante']+'|'+_0x2aa939['setOperationCurrency'];if(!_0x3a5fa6[_0x22f6a6])_0x3a5fa6[_0x22f6a6]={..._0x2aa939,'Total':0x0};return _0x3a5fa6[_0x22f6a6]['Total']+=_0x2aa939[_0x1ec2e9(0xdb)],_0x3a5fa6;},{}),_0x2f71f0=Object[_0x230374(0x129)](_0x5bad44)[_0x230374(0x171)](_0x5508a5=>({'fechaISO':_0x5508a5[_0x230374(0xfb)],'setTipoComprobante':_0x5508a5['setTipoComprobante']+'\x20('+_0x5508a5[_0x230374(0xc2)]+')','Total':Math[_0x230374(0x113)](_0x5508a5[_0x230374(0xdb)]*0x64)/0x64})),_0x1ef04c=[...new Set(_0x2f71f0[_0x230374(0x171)](_0x1d911c=>_0x1d911c[_0x230374(0xbc)]))],_0xde6fe5=Array[_0x230374(0xd0)](new Set(_0x2f71f0[_0x230374(0x171)](_0xac095e=>_0xac095e[_0x230374(0xfb)])))[_0x230374(0xe0)]((_0x4157d5,_0x1dbec5)=>new Date(_0x4157d5)-new Date(_0x1dbec5));_0x2f71f0[_0x230374(0xfd)]>0x0?generateFilterTransformChart({'containerId':_0x230374(0x10b),'rawData':_0x2f71f0,'groupField':_0x230374(0xbc),'groupValues':_0x1ef04c,'seriesType':_0x230374(0xe5),'chartType':_0x230374(0xe5),'colors':[_0x230374(0x150),'#080060'],'encode':{'x':_0x230374(0xfb),'y':_0x230374(0xdb),'label':[_0x230374(0xbc),_0x230374(0xdb)],'itemName':'fechaISO','tooltip':[_0x230374(0xdb)]},'xAxisConfig':{'type':_0x230374(0x12c),'data':_0xde6fe5,'axisLabel':{'formatter':_0x45b450=>{const _0x4b5834=_0x230374,[_0x11ec3d,_0x54c2ef,_0x17012f]=_0x45b450[_0x4b5834(0xb6)]('-');return _0x17012f+'/'+_0x54c2ef+'/'+_0x11ec3d;}}},'title':_0x230374(0x103),'width':_0x230374(0xf1),'height':_0x230374(0xd3)}):divChartIncome[_0x230374(0xd4)]='';_0x3dc307[_0x230374(0xfd)]>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x3dc307[_0x230374(0x171)](_0x49f92c=>{const _0x43baac=_0x230374,_0x3434d7='('+_0x49f92c[_0x43baac(0xb7)]+')\x20'+_0x49f92c[_0x43baac(0x165)];return _0x3434d7[_0x43baac(0xfd)]>0xf?_0x3434d7[_0x43baac(0xc1)](0x0,0xf)+_0x43baac(0xd9):_0x3434d7;}),'series':[{'name':'Ventas','data':_0x3dc307[_0x230374(0x171)](_0x3fb1d0=>_0x3fb1d0[_0x230374(0x114)])},{'name':_0x230374(0x11f),'data':_0x3dc307[_0x230374(0x171)](_0x34bfb0=>_0x34bfb0[_0x230374(0x9a)])},{'name':'Ganancia','data':_0x3dc307[_0x230374(0x171)](_0x5c32c2=>_0x5c32c2[_0x230374(0xec)])}],'title':'Ventas\x20por\x20Producto','titlePosition':'bottom','showTitle':![],'colors':['#FF5900',_0x230374(0x96),_0x230374(0xd8)],'width':_0x230374(0xf1),'height':_0x230374(0xb2)}):divChartItem[_0x230374(0xd4)]='';if(_0x4ee0fe['length']>0x0){const _0x2379b0=_0x4ee0fe[_0x230374(0x171)](_0x1d0078=>({'label':_0x1d0078[_0x230374(0x159)]+'\x20('+_0x1d0078[_0x230374(0xb7)]+')','sales':_0x1d0078[_0x230374(0x114)]}));generatePieChart({'containerId':'divChartCustomer','data':_0x2379b0,'nameField':_0x230374(0x13b),'valueField':_0x230374(0x114),'title':_0x230374(0x10d),'titlePosition':_0x230374(0xcf),'showTitle':![],'width':'500px','height':'500px'});}else divChartCustomer[_0x230374(0xd4)]='';}catch(_0x1a4348){ntfShow('Error\x20al\x20solicitar\x20reporte'),console['error'](_0x1a4348);}finally{hideLoadingModal();}}function renderTable(_0x5b7c33,_0x53766c=0x1,_0x1573e7='incomes'){const _0x275058=_0x4f8340;currentPage=_0x53766c;const _0x2a0470=_0x1573e7===_0x275058(0x112)?'#reporte-income':_0x1573e7===_0x275058(0x115)?_0x275058(0xbf):_0x275058(0x126),_0x1fa405=_0x1573e7==='incomes'?per_page:_0x1573e7===_0x275058(0x115)?per_page_products:per_page_customers,_0x397afe=document[_0x275058(0x118)](_0x2a0470+_0x275058(0x102));_0x397afe[_0x275058(0xd4)]='';const _0x133a84=(_0x53766c-0x1)*_0x1fa405,_0x3192e4=_0x5b7c33['slice'](_0x133a84,_0x133a84+_0x1fa405);if(_0x1573e7===_0x275058(0x112)){_0x3192e4[_0x275058(0x132)](_0x363e02=>{const _0x386c8f=_0x275058,_0x95d916=document[_0x386c8f(0x101)]('tr');_0x95d916[_0x386c8f(0xd4)]='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x363e02[_0x386c8f(0xeb)]+'\x22>\x0a'+_0x363e02[_0x386c8f(0x138)]+_0x386c8f(0xd6)+(_0x363e02['setOperationSeries']||'')+'</td>\x0a<td>'+(_0x363e02[_0x386c8f(0x119)]||'')+_0x386c8f(0xca)+_0x363e02[_0x386c8f(0xc3)]+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20'+_0x363e02[_0x386c8f(0xde)]+_0x386c8f(0xfc)+_0x363e02[_0x386c8f(0xde)]+_0x386c8f(0xf4)+_0x363e02[_0x386c8f(0x123)]+_0x386c8f(0x106)+_0x363e02[_0x386c8f(0xc2)]+_0x386c8f(0x149)+_0x363e02[_0x386c8f(0x105)][_0x386c8f(0x15e)](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x363e02[_0x386c8f(0x15d)]+_0x386c8f(0xed)+_0x363e02['setOperationId']+_0x386c8f(0xe8),_0x397afe[_0x386c8f(0x9d)](_0x95d916);});const _0x2db8ab=_0x5b7c33[_0x275058(0xa3)]((_0x5d51a4,_0x157688)=>{const _0x2ed1c6=_0x275058,_0x1558b5=_0x157688[_0x2ed1c6(0xc2)];return _0x5d51a4[_0x1558b5]=(_0x5d51a4[_0x1558b5]||0x0)+Number(_0x157688[_0x2ed1c6(0x105)]),_0x5d51a4;},{});Object['entries'](_0x2db8ab)[_0x275058(0x132)](([_0x1ab4aa,_0x1257dd])=>{const _0x17eefb=_0x275058,_0xebaa6b=document['createElement']('tr');_0xebaa6b[_0x17eefb(0xd4)]=_0x17eefb(0x158)+_0x1ab4aa+_0x17eefb(0x117)+(Math[_0x17eefb(0x113)](_0x1257dd*0x64)/0x64)['toFixed'](0x2)+'\x0a</td>\x0a<td></td>\x0a',_0x397afe['appendChild'](_0xebaa6b);}),renderPagination(_0x5b7c33,_0x53766c,_0x1573e7);}}function renderPagination(_0x52c643,_0x3413aa,_0x10f06f=_0x4f8340(0x112)){const _0x6f7fef=_0x4f8340,_0x463b11=_0x10f06f===_0x6f7fef(0x112)?document[_0x6f7fef(0x118)](_0x6f7fef(0x13c)):_0x10f06f==='products'?document['querySelector'](_0x6f7fef(0xae)):document[_0x6f7fef(0x118)]('#pagination-customers'),_0x15a60e=_0x10f06f===_0x6f7fef(0x112)?per_page:_0x10f06f===_0x6f7fef(0x115)?per_page_products:per_page_customers;_0x463b11[_0x6f7fef(0xd4)]='';const _0x4590dd=Math[_0x6f7fef(0x108)](_0x52c643['length']/_0x15a60e),_0x4e8d6b=document[_0x6f7fef(0x101)]('a');_0x4e8d6b[_0x6f7fef(0x172)]='#',_0x4e8d6b[_0x6f7fef(0xdd)]='btn\x20btn-sm\x20btn-outline\x20me-2',_0x4e8d6b[_0x6f7fef(0xd4)]='&laquo;\x20Anterior',_0x4e8d6b['onclick']=_0x44a148=>{_0x44a148['preventDefault']();if(_0x3413aa>0x1)renderTable(_0x52c643,_0x3413aa-0x1,_0x10f06f);},_0x463b11[_0x6f7fef(0x9d)](_0x4e8d6b);for(let _0x2fcf37=0x1;_0x2fcf37<=_0x4590dd;_0x2fcf37++){const _0x2b20a0=document[_0x6f7fef(0x101)]('a');_0x2b20a0['href']='#',_0x2b20a0[_0x6f7fef(0xdd)]='btn\x20btn-sm\x20'+(_0x2fcf37===_0x3413aa?_0x6f7fef(0x12e):'btn-outline'),_0x2b20a0[_0x6f7fef(0xf5)]=_0x2fcf37,_0x2b20a0['onclick']=_0x49a3df=>{_0x49a3df['preventDefault'](),renderTable(_0x52c643,_0x2fcf37,_0x10f06f);},_0x463b11[_0x6f7fef(0x9d)](_0x2b20a0);}const _0x3e5518=document['createElement']('a');_0x3e5518[_0x6f7fef(0x172)]='#',_0x3e5518[_0x6f7fef(0xdd)]=_0x6f7fef(0x144),_0x3e5518[_0x6f7fef(0xd4)]=_0x6f7fef(0x107),_0x3e5518['onclick']=_0x3e621c=>{const _0x187b28=_0x6f7fef;_0x3e621c[_0x187b28(0x9e)]();if(_0x3413aa<_0x4590dd)renderTable(_0x52c643,_0x3413aa+0x1,_0x10f06f);},_0x463b11[_0x6f7fef(0x9d)](_0x3e5518);}document[_0x4f8340(0x16f)]('apply-filter')[_0x4f8340(0xb0)](_0x4f8340(0xe3),async()=>{const _0x1579c5=_0x4f8340,_0xff2aef=document[_0x1579c5(0x16f)](_0x1579c5(0xe7))[_0x1579c5(0xa7)],_0x13bd56=document[_0x1579c5(0x16f)]('filter-end')['value'];if(!_0xff2aef||!_0x13bd56)return alert(_0x1579c5(0x14c));const _0x12815b=document[_0x1579c5(0x16f)](_0x1579c5(0xa2)),_0x311253=bootstrap['Modal'][_0x1579c5(0xd1)](_0x12815b);_0x311253['hide'](),showLoadingModal();try{const _0x5d3fbf={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0xff2aef+'\x2000:00:00','dateTo':_0x13bd56+_0x1579c5(0xf9),'clientIds':[],'operationTypes':[]},_0x561704=await fetch(myCompany['setApiEndPoint'],{'method':'POST','headers':{'Content-Type':_0x1579c5(0x16b)},'body':JSON[_0x1579c5(0x11e)](_0x5d3fbf)}),{success:_0x3497d9,message:_0x15aa9e}=await _0x561704[_0x1579c5(0x10c)]();if(!_0x3497d9)throw new Error(_0x15aa9e);_0x15aa9e[_0x1579c5(0x112)],await consultIncomeReport();}catch(_0x233a4a){ntfShow(_0x1579c5(0x167)),console[_0x1579c5(0x163)](_0x233a4a);}finally{hideLoadingModal();}});const reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker[_0x4f8340(0x151)]=({data:_0x443a2f})=>{const _0x3911a7=_0x4f8340,{type:_0x2d2d00,payload:_0x347514,reportType:_0x44749f}=_0x443a2f;if(_0x2d2d00===_0x3911a7(0x143)){const _0x4afb77=new Blob([_0x443a2f[_0x3911a7(0x134)]],{'type':'application/octet-stream'}),_0xb45d64=URL[_0x3911a7(0xef)](_0x4afb77),_0x401e1d=document[_0x3911a7(0x101)]('a'),_0x311805=new Date()['toISOString']()[_0x3911a7(0x13d)](0x0,0xa);_0x401e1d['href']=_0xb45d64,_0x401e1d[_0x3911a7(0xaa)]=_0x44749f+'_'+_0x311805+'.xlsx',_0x401e1d[_0x3911a7(0xe3)](),URL[_0x3911a7(0xbe)](_0xb45d64);}_0x2d2d00===_0x3911a7(0x163)&&(console[_0x3911a7(0x163)](_0x3911a7(0x11c),_0x347514),ntfShow(_0x3911a7(0x10f)));},document[_0x4f8340(0x16f)]('btnExport')[_0x4f8340(0xb0)](_0x4f8340(0xe3),onClickExport);function onClickExport(){const _0x498e7d=_0x4f8340;if(!Array['isArray'](arrayIncomes)||!arrayIncomes['length'])return ntfShow(_0x498e7d(0x169));const _0x98984f=arrayIncomes[_0x498e7d(0x171)](_0xb2fb9d=>{const _0x56c21a=_0x498e7d,[_0x38c4bd]=_0xb2fb9d[_0x56c21a(0xc3)][_0x56c21a(0xb6)]('\x20'),[_0x2228f6,_0x3d86d0,_0x3361a3]=_0x38c4bd[_0x56c21a(0xb6)]('-');return{'Periodo':''+_0x2228f6+_0x3d86d0,'CorrelativoCUO':'','FechaEmision':_0x3361a3+'/'+_0x3d86d0+'/'+_0x2228f6,'FechaVencimiento':'','TipoComprobante':_0xb2fb9d[_0x56c21a(0xeb)],'SerieNumero':_0xb2fb9d[_0x56c21a(0x168)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0xb2fb9d[_0x56c21a(0x119)],'BaseImponible':'','IGV':'','TotalVenta':_0xb2fb9d[_0x56c21a(0x105)],'Moneda':_0xb2fb9d[_0x56c21a(0xc2)],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x498e7d(0x14a)]({'action':_0x498e7d(0xd7),'reportType':_0x498e7d(0x160),'report':_0x98984f});}window['onload']=function(){const _0x312268=_0x4f8340,_0x39e10f=0x6;loadLoginContent(_0x312268(0xa8)),setUserNameGet(),setEventBtnAccess();const _0x1720a1=document['querySelector'](_0x312268(0xdc));_0x1720a1&&_0x1720a1[_0x312268(0xb0)]('click',function(){logoutReload(0x0,_0x39e10f);}),document[_0x312268(0x16f)](_0x312268(0xc6))[_0x312268(0xb0)](_0x312268(0x161),async function(){const _0xd9b499=_0x312268,_0x58a24e=parseInt(this[_0xd9b499(0xa7)]);myCompany[_0xd9b499(0x156)]=_0x58a24e;const _0x2692c4=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2692c4),cargarAlmacenes(_0x58a24e),setTimeout(()=>{const _0x556a8a=_0xd9b499;document['getElementById'](_0x556a8a(0x122))[_0x556a8a(0xc9)](new Event(_0x556a8a(0x161)));},0x64),cargarPisos(_0x58a24e),setTimeout(()=>{const _0x2d16a7=_0xd9b499;document['getElementById'](_0x2d16a7(0x154))['dispatchEvent'](new Event(_0x2d16a7(0x161)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0xd9b499(0x170)](_0x58a24e),consultIncomeReport();}),loadCartAndSetTabCount(_0x39e10f);};