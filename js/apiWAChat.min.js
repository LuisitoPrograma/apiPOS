/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.0
*/

const _0x10baf3=_0x1a47;(function(_0x29693b,_0x2d3058){const _0x48a6d3=_0x1a47,_0x1ea1f6=_0x29693b();while(!![]){try{const _0x28fc22=-parseInt(_0x48a6d3(0x152))/0x1+-parseInt(_0x48a6d3(0x156))/0x2*(-parseInt(_0x48a6d3(0x131))/0x3)+-parseInt(_0x48a6d3(0x141))/0x4*(-parseInt(_0x48a6d3(0x15e))/0x5)+parseInt(_0x48a6d3(0x138))/0x6*(parseInt(_0x48a6d3(0x15b))/0x7)+parseInt(_0x48a6d3(0x159))/0x8*(parseInt(_0x48a6d3(0x130))/0x9)+-parseInt(_0x48a6d3(0x164))/0xa+-parseInt(_0x48a6d3(0x135))/0xb;if(_0x28fc22===_0x2d3058)break;else _0x1ea1f6['push'](_0x1ea1f6['shift']());}catch(_0x520a49){_0x1ea1f6['push'](_0x1ea1f6['shift']());}}}(_0x35c0,0x52595));const _0x1253f1=(function(){let _0x5b19b2=!![];return function(_0x3b238c,_0xbfaa3e){const _0x4eb016=_0x5b19b2?function(){if(_0xbfaa3e){const _0x3477dc=_0xbfaa3e['apply'](_0x3b238c,arguments);return _0xbfaa3e=null,_0x3477dc;}}:function(){};return _0x5b19b2=![],_0x4eb016;};}()),_0x324826=_0x1253f1(this,function(){const _0x2ebb9e=_0x1a47;return _0x324826[_0x2ebb9e(0x147)]()[_0x2ebb9e(0x157)](_0x2ebb9e(0x139))[_0x2ebb9e(0x147)]()[_0x2ebb9e(0x14c)](_0x324826)[_0x2ebb9e(0x157)]('(((.+)+)+)+$');});function _0x35c0(){const _0x51db0d=['hidden','5682600KmIcIt','9iORQTq','error','/qr','style','9581748xgFmZb','{}.constructor(\x22return\x20this\x22)(\x20)','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','1752VEqxlE','(((.+)+)+)+$','setAuthToken','./img/apiPOS.png','dispatchEvent','toLowerCase','catch','getElementById','apply','388iGiDYG','trace','setCredentialsApiWAChat','setCredentialsApiWAChatSubdomain','log','visible','toString','change','flex','display','value','constructor','bind','qr-img','Credenciales\x20no\x20encontradas','ya\x20conectado','status','236840HKiWqu','none','length','.btn-logout','304058vUoBYa','search','prototype','8ZBkQhr','setBranchDefault','14889prOWMR','info','chatPanel','4355RGrmBc','then','setCredentialsApiWAChatPort','src','click','includes','3478490orHSTd','visibility','table','/wa/','json','addEventListener'];_0x35c0=function(){return _0x51db0d;};return _0x35c0();}_0x324826();const _0x262f86=(function(){let _0x437ecb=!![];return function(_0x2745b4,_0xa5c4e){const _0x5129f4=_0x437ecb?function(){const _0x9f31a1=_0x1a47;if(_0xa5c4e){const _0x3ce166=_0xa5c4e[_0x9f31a1(0x140)](_0x2745b4,arguments);return _0xa5c4e=null,_0x3ce166;}}:function(){};return _0x437ecb=![],_0x5129f4;};}()),_0x5b163d=_0x262f86(this,function(){const _0x5381be=_0x1a47;let _0x2eef57;try{const _0x22f88d=Function('return\x20(function()\x20'+_0x5381be(0x136)+');');_0x2eef57=_0x22f88d();}catch(_0x261fd3){_0x2eef57=window;}const _0x195f95=_0x2eef57['console']=_0x2eef57['console']||{},_0xc4f2ff=[_0x5381be(0x145),'warn',_0x5381be(0x15c),_0x5381be(0x132),'exception',_0x5381be(0x12b),_0x5381be(0x142)];for(let _0x46eb53=0x0;_0x46eb53<_0xc4f2ff[_0x5381be(0x154)];_0x46eb53++){const _0x1ffc46=_0x262f86[_0x5381be(0x14c)][_0x5381be(0x158)][_0x5381be(0x14d)](_0x262f86),_0x4ba2e1=_0xc4f2ff[_0x46eb53],_0x4f51bf=_0x195f95[_0x4ba2e1]||_0x1ffc46;_0x1ffc46['__proto__']=_0x262f86[_0x5381be(0x14d)](_0x262f86),_0x1ffc46[_0x5381be(0x147)]=_0x4f51bf[_0x5381be(0x147)][_0x5381be(0x14d)](_0x4f51bf),_0x195f95[_0x4ba2e1]=_0x1ffc46;}});_0x5b163d();const selectCredentialsApiWAChat=document['getElementById'](_0x10baf3(0x143)),loginPanel=document[_0x10baf3(0x13f)]('loginPanel'),chatPanel=document[_0x10baf3(0x13f)](_0x10baf3(0x15d)),qrImg=document[_0x10baf3(0x13f)](_0x10baf3(0x14e)),overlay=document[_0x10baf3(0x13f)]('qr-overlay');let qrTimeout;function _0x1a47(_0x5ce1c8,_0x2e7846){const _0x3e4a64=_0x35c0();return _0x1a47=function(_0x5b163d,_0x262f86){_0x5b163d=_0x5b163d-0x12b;let _0x273942=_0x3e4a64[_0x5b163d];return _0x273942;},_0x1a47(_0x5ce1c8,_0x2e7846);}const validSeconds=0x14;function showLogin(){const _0x59c0e1=_0x10baf3;loginPanel[_0x59c0e1(0x134)]['display']='flex',chatPanel[_0x59c0e1(0x134)][_0x59c0e1(0x165)]=_0x59c0e1(0x12f);}function showChat(){const _0x347238=_0x10baf3;loginPanel[_0x347238(0x134)]['display']='none',chatPanel[_0x347238(0x134)][_0x347238(0x165)]=_0x347238(0x146);}function displayQR(_0x38565c){const _0x20cc48=_0x10baf3,_0xc8c8f6=selectCredentialsApiWAChat['value'],_0x50be6f=getCredentialsApiWAChat(_0xc8c8f6);if(_0x50be6f){const _0x5d82f7=_0x50be6f[_0x20cc48(0x144)],_0x9c8f32=_0x50be6f['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay['style'][_0x20cc48(0x14a)]=_0x20cc48(0x153),qrImg[_0x20cc48(0x161)]=_0x38565c,qrTimeout=setTimeout(()=>{const _0x344d0f=_0x20cc48;fetch('https://'+_0x5d82f7+_0x344d0f(0x12c)+_0x9c8f32+'/qr',{'headers':{'x-auth-token':myCompany[_0x344d0f(0x13a)]}})[_0x344d0f(0x15f)](_0x34de34=>_0x34de34['json']())[_0x344d0f(0x15f)](_0x2eb0f4=>{const _0x2d82f1=_0x344d0f;_0x2eb0f4[_0x2d82f1(0x151)]&&_0x2eb0f4[_0x2d82f1(0x151)][_0x2d82f1(0x13d)]()[_0x2d82f1(0x163)](_0x2d82f1(0x150))?showChat():overlay[_0x2d82f1(0x134)]['display']='flex';})[_0x344d0f(0x13e)](_0x5895c0=>{const _0x52f9d8=_0x344d0f;console[_0x52f9d8(0x132)](_0x52f9d8(0x137),_0x5895c0),overlay['style'][_0x52f9d8(0x14a)]=_0x52f9d8(0x149);});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}function init(){const _0x38d185=_0x10baf3,_0x30aa78=selectCredentialsApiWAChat['value'],_0x12f299=getCredentialsApiWAChat(_0x30aa78);if(_0x12f299){const _0x2f3e79=_0x12f299[_0x38d185(0x144)],_0x136cbb=_0x12f299[_0x38d185(0x160)];fetch('https://'+_0x2f3e79+_0x38d185(0x12c)+_0x136cbb+_0x38d185(0x133),{'headers':{'x-auth-token':myCompany[_0x38d185(0x13a)]}})[_0x38d185(0x15f)](_0xb838e2=>_0xb838e2[_0x38d185(0x12d)]())['then'](_0x2f6048=>{const _0x3964ee=_0x38d185;if(_0x2f6048['status']&&_0x2f6048[_0x3964ee(0x151)][_0x3964ee(0x13d)]()[_0x3964ee(0x163)](_0x3964ee(0x150)))showChat();else _0x2f6048['qr']&&(showLogin(),displayQR(_0x2f6048['qr']));})['catch'](console[_0x38d185(0x132)]);}else ntfShow(_0x38d185(0x14f));}overlay[_0x10baf3(0x12e)](_0x10baf3(0x162),init),window['onload']=function(){const _0xdacfd=_0x10baf3,_0x107e39=0x4;loadLoginContent(_0xdacfd(0x13b)),setUserNameGet(),setEventBtnAccess();const _0x2a9ac3=document['querySelector'](_0xdacfd(0x155));_0x2a9ac3&&_0x2a9ac3[_0xdacfd(0x12e)](_0xdacfd(0x162),function(){logoutReload(0x0,_0x107e39);}),document[_0xdacfd(0x13f)]('setBranchId')[_0xdacfd(0x12e)]('change',async function(){const _0x16d30d=_0xdacfd,_0x1fa672=parseInt(this[_0x16d30d(0x14b)]);myCompany[_0x16d30d(0x15a)]=_0x1fa672,saveCredentialsApiWAChatInCompany();const _0x3a52e6=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3a52e6),cargarAlmacenes(_0x1fa672),setTimeout(()=>{const _0x27d61f=_0x16d30d;document[_0x27d61f(0x13f)]('setWarehouseId')[_0x27d61f(0x13c)](new Event(_0x27d61f(0x148)));},0x64),cargarPisos(_0x1fa672),setTimeout(()=>{const _0xd816cd=_0x16d30d;document[_0xd816cd(0x13f)]('setFloorId')['dispatchEvent'](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x107e39);};