/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.2
*/

var _0x21dfd7=_0x410c;(function(_0x408c63,_0x19f042){var _0x551e56=_0x410c,_0x585bbf=_0x408c63();while(!![]){try{var _0x21a4bd=-parseInt(_0x551e56(0x1d2))/0x1+parseInt(_0x551e56(0x212))/0x2+-parseInt(_0x551e56(0x19d))/0x3*(-parseInt(_0x551e56(0x1a5))/0x4)+-parseInt(_0x551e56(0x203))/0x5+-parseInt(_0x551e56(0xd6))/0x6*(parseInt(_0x551e56(0x150))/0x7)+-parseInt(_0x551e56(0x16c))/0x8+parseInt(_0x551e56(0x170))/0x9*(parseInt(_0x551e56(0x15c))/0xa);if(_0x21a4bd===_0x19f042)break;else _0x585bbf['push'](_0x585bbf['shift']());}catch(_0x5901a6){_0x585bbf['push'](_0x585bbf['shift']());}}}(_0x94c9,0xbd905));var _0x4cba98=(function(){var _0x3ca127=!![];return function(_0x5017d7,_0x2b086d){var _0x34aef2=_0x3ca127?function(){var _0x1562ed=_0x410c;if(_0x2b086d){var _0x1e3bf8=_0x2b086d[_0x1562ed(0xe6)](_0x5017d7,arguments);return _0x2b086d=null,_0x1e3bf8;}}:function(){};return _0x3ca127=![],_0x34aef2;};}()),_0x2dbbe1=_0x4cba98(this,function(){var _0x46dc5c=_0x410c;return _0x2dbbe1['toString']()[_0x46dc5c(0x20d)](_0x46dc5c(0x129))[_0x46dc5c(0x154)]()[_0x46dc5c(0x13a)](_0x2dbbe1)[_0x46dc5c(0x20d)](_0x46dc5c(0x129));});_0x2dbbe1();var _0x5343bf=(function(){var _0x4b8c7e=!![];return function(_0x3cb59c,_0x555559){var _0xda0db3=_0x4b8c7e?function(){if(_0x555559){var _0x24228f=_0x555559['apply'](_0x3cb59c,arguments);return _0x555559=null,_0x24228f;}}:function(){};return _0x4b8c7e=![],_0xda0db3;};}()),_0x2b0303=_0x5343bf(this,function(){var _0xf574c8=_0x410c,_0x249356;try{var _0x4cc0b3=Function(_0xf574c8(0x11f)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x249356=_0x4cc0b3();}catch(_0x6467a0){_0x249356=window;}var _0x480aae=_0x249356['console']=_0x249356[_0xf574c8(0xc3)]||{},_0x399f1e=['log',_0xf574c8(0x1de),_0xf574c8(0x1d3),_0xf574c8(0x1a3),_0xf574c8(0xe3),_0xf574c8(0x1b5),_0xf574c8(0x1c8)];for(var _0x5b86e0=0x0;_0x5b86e0<_0x399f1e[_0xf574c8(0x179)];_0x5b86e0++){var _0x4c63e6=_0x5343bf[_0xf574c8(0x13a)][_0xf574c8(0x137)]['bind'](_0x5343bf),_0x4c1a7a=_0x399f1e[_0x5b86e0],_0x2e131d=_0x480aae[_0x4c1a7a]||_0x4c63e6;_0x4c63e6[_0xf574c8(0xd0)]=_0x5343bf[_0xf574c8(0x106)](_0x5343bf),_0x4c63e6[_0xf574c8(0x154)]=_0x2e131d[_0xf574c8(0x154)][_0xf574c8(0x106)](_0x2e131d),_0x480aae[_0x4c1a7a]=_0x4c63e6;}});_0x2b0303();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x21dfd7(0x131)](_0x21dfd7(0x1f7)),unitCount=0x0,branchesC=document[_0x21dfd7(0x131)](_0x21dfd7(0xce)),prodC=document[_0x21dfd7(0x131)](_0x21dfd7(0x10f)),vgCount=0x0,varContainer=document['getElementById'](_0x21dfd7(0x12e)),vgC=document[_0x21dfd7(0x131)](_0x21dfd7(0x1e7));const fileInput=document['getElementById'](_0x21dfd7(0x161)),progressBar=document[_0x21dfd7(0x131)](_0x21dfd7(0x1d0)),statusDiv=document[_0x21dfd7(0x131)](_0x21dfd7(0x1e3)),uploadBtn=document[_0x21dfd7(0x131)](_0x21dfd7(0x213));let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document[_0x21dfd7(0x131)]('drop-zone'),removeBtn=document[_0x21dfd7(0x131)](_0x21dfd7(0x146));function showModalCreateItem(_0x26825a){var _0x155f92=_0x21dfd7;const _0xa71f0=document[_0x155f92(0x131)]('detalleModalCreateItem'),_0x388fe1=document[_0x155f92(0x131)](_0x155f92(0xe8));_0xa71f0[_0x155f92(0x101)][_0x155f92(0x10a)]('active'),_0x388fe1[_0x155f92(0x1f0)][_0x155f92(0x19c)]=_0x155f92(0x168);const _0x47f78b=document['getElementById'](_0x155f92(0x1fe));_0x47f78b[_0x155f92(0x197)]=parseInt(_0x26825a),baseItem[_0x155f92(0x1fe)]=parseInt(_0x26825a);const _0x9dfce0=document[_0x155f92(0x131)](_0x155f92(0x20c));_0x26825a==0x0&&(_0x9dfce0[_0x155f92(0x18a)]=_0x155f92(0x1f3));_0x26825a==0x1&&(_0x9dfce0[_0x155f92(0x18a)]=_0x155f92(0x11a));const _0x25e091=document[_0x155f92(0x1d7)](_0x155f92(0x1b7));for(let _0x62f46c=0x0;_0x62f46c<_0x25e091[_0x155f92(0x179)];_0x62f46c++){const _0x30fa6a=_0x25e091[_0x62f46c];if(_0x26825a==0x0)_0x30fa6a[_0x155f92(0x101)][_0x155f92(0x123)]('hidden');else _0x26825a==0x1&&_0x30fa6a['classList']['add']('hidden');}}function hideModalCreateItem(){var _0x2259f9=_0x21dfd7;const _0x3a0940=document['getElementById'](_0x2259f9(0x16e)),_0x4ed3c2=document[_0x2259f9(0x131)](_0x2259f9(0xe8));_0x3a0940[_0x2259f9(0x101)][_0x2259f9(0x123)](_0x2259f9(0x120)),_0x4ed3c2[_0x2259f9(0x1f0)]['display']=_0x2259f9(0x126);}document[_0x21dfd7(0x131)](_0x21dfd7(0x160))['addEventListener']('click',hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x21dfd7(0x1e8)](_0x21dfd7(0x1be),_0x1fb64e=>{var _0xdb9017=_0x21dfd7;_0x1fb64e[_0xdb9017(0x136)]==_0x1fb64e['currentTarget']&&_0x1fb64e[_0xdb9017(0x13d)]();});function loadTaxData(){var _0x930ebd=_0x21dfd7;const _0x17117c=document['getElementById'](_0x930ebd(0x1e0));_0x17117c[_0x930ebd(0x18a)]='',company[0x0][_0x930ebd(0x1a6)][_0x930ebd(0x148)](function(_0x2fd7c3){var _0x32497a=_0x930ebd;const _0xffd721=document['createElement'](_0x32497a(0x1f8));_0xffd721[_0x32497a(0x197)]=_0x2fd7c3['setTaxId'],_0xffd721['innerHTML']=_0x2fd7c3[_0x32497a(0x166)]+'\x20('+_0x2fd7c3['setImpuestoValue']+'%)',_0x2fd7c3[_0x32497a(0x1fb)]==company[0x0][_0x32497a(0x175)]&&(_0xffd721[_0x32497a(0xd2)]=!![]),_0x17117c[_0x32497a(0xeb)](_0xffd721);});}function uniqueValuesArray(_0x571dd7,_0x5ad6df,_0x5cc342){var _0x429087=_0x21dfd7;const _0x4acada=Array[_0x429087(0x128)](new Set(_0x5cc342['map'](_0x3644a5=>{var _0xa3e70f=_0x429087;const _0x27b18c=_0x3644a5[_0x571dd7];return typeof _0x27b18c===_0xa3e70f(0x17d)?_0x27b18c[_0xa3e70f(0x1cd)]():_0x27b18c;})[_0x429087(0x1bf)](_0x2b683f=>_0x2b683f!=null&&_0x2b683f!=='')));return _0x4acada['map'](_0x6243bd=>{var _0xce19d=_0x429087;const _0x36e350=_0x5cc342[_0xce19d(0x1b2)](_0x3f5765=>_0x3f5765[_0x571dd7]===_0x6243bd),_0x22373b=_0x36e350&&_0x36e350[_0x5ad6df]!=null?String(_0x36e350[_0x5ad6df])[_0xce19d(0x1cd)]():_0x6243bd;return{'setCode':_0x6243bd,'setName':_0x22373b};});}function fillSelect(_0x5dd867,_0x8b6536,_0x447383,_0x8a7090){var _0x510a76=_0x21dfd7;_0x5dd867[_0x510a76(0x18a)]='',_0x8b6536[_0x510a76(0x148)](function(_0x5c1c7e){var _0xa85699=_0x510a76,_0x2d42e7=new Option(_0x5c1c7e[_0x8a7090],_0x5c1c7e[_0x447383]);_0x5dd867[_0xa85699(0x10a)](_0x2d42e7);});}function initMulti(_0x22254b,_0x4c9db4){var _0x4483b1=_0x21dfd7,_0x375d88=document['getElementById'](_0x22254b),_0x31c2d8=_0x375d88[_0x4483b1(0x1a2)](_0x4483b1(0x1c1)),_0x5e5825=_0x375d88[_0x4483b1(0x1a2)](_0x4483b1(0x17f)),_0x36b43f=_0x375d88[_0x4483b1(0x1a2)](_0x4483b1(0x14d)),_0x3797ef=_0x4c9db4[_0x4483b1(0x1c9)](),_0x360f00=[];let _0x19173d=null,_0x34b3c6=![];function _0x50d02f(){var _0x455336=_0x4483b1;const _0x2efce2=_0x31c2d8[_0x455336(0x197)][_0x455336(0x1cd)]();if(!_0x2efce2)return;const _0x27a118=_0x3797ef[_0x455336(0x1b2)](_0x1f349c=>_0x1f349c[_0x455336(0x12d)]['toLowerCase']()===_0x2efce2[_0x455336(0x103)]());if(_0x27a118)_0x360f00[_0x455336(0x1a4)](_0x27a118),_0x3797ef[_0x455336(0x214)](_0x3797ef[_0x455336(0xc9)](_0xe6ed59=>_0xe6ed59[_0x455336(0xea)]===_0x27a118[_0x455336(0xea)]),0x1);else{const _0x4393c2=_0x360f00[_0x455336(0x1c5)](_0x3534b9=>_0x3534b9[_0x455336(0x12d)][_0x455336(0x103)]()===_0x2efce2[_0x455336(0x103)]());!_0x4393c2&&_0x360f00['push']({'setCode':_0x2efce2,'setName':_0x2efce2});}_0x3f6d47(),_0x19fab6(),_0x31c2d8['value']='';}function _0x19fab6(){var _0x13c8ad=_0x4483b1;_0x5e5825['innerHTML']='',_0x3797ef[_0x13c8ad(0x1bf)](_0x233df4=>_0x233df4[_0x13c8ad(0x12d)]['toLowerCase']()[_0x13c8ad(0x155)](_0x31c2d8[_0x13c8ad(0x197)]['toLowerCase']()))[_0x13c8ad(0x1c9)](0x0,0x14)[_0x13c8ad(0x148)](_0x17fbc8=>{var _0x41f0fd=_0x13c8ad,_0x16ca29=document['createElement']('div');_0x16ca29[_0x41f0fd(0x1f2)]=_0x17fbc8[_0x41f0fd(0x12d)],_0x16ca29[_0x41f0fd(0x139)][_0x41f0fd(0x14e)]=_0x17fbc8[_0x41f0fd(0xea)],_0x5e5825[_0x41f0fd(0xeb)](_0x16ca29),_0x16ca29[_0x41f0fd(0x1e8)](_0x41f0fd(0x194),()=>_0x34b3c6=!![]),_0x16ca29[_0x41f0fd(0x1e8)](_0x41f0fd(0x1be),function(){var _0x5cb9a6=_0x41f0fd;_0x34b3c6=![],_0x360f00[_0x5cb9a6(0x1a4)](_0x17fbc8),_0x3797ef[_0x5cb9a6(0x214)](_0x3797ef[_0x5cb9a6(0xc9)](_0x508e96=>_0x508e96['setCode']===_0x17fbc8[_0x5cb9a6(0xea)]),0x1),_0x31c2d8['value']='',_0x3f6d47(),_0x19fab6();});});}function _0x3f6d47(){var _0x392995=_0x4483b1;_0x36b43f['innerHTML']='',_0x360f00[_0x392995(0x148)](_0xe6a341=>{var _0x41544f=_0x392995,_0x371031=document[_0x41544f(0xf5)](_0x41544f(0xd7));_0x371031[_0x41544f(0x169)]=_0x41544f(0x1ac),_0x371031[_0x41544f(0x1f2)]=_0xe6a341[_0x41544f(0x12d)];var _0x4af32d=document[_0x41544f(0xf5)](_0x41544f(0x145));_0x4af32d[_0x41544f(0x169)]=_0x41544f(0xf9),_0x4af32d['textContent']='×',_0x4af32d[_0x41544f(0x1e8)](_0x41544f(0x1be),function(){var _0x267cfc=_0x41544f;_0x3797ef[_0x267cfc(0x1a4)](_0xe6a341);const _0x3245b3=_0x360f00[_0x267cfc(0xc9)](_0x5bdbdb=>_0x5bdbdb[_0x267cfc(0xea)]===_0xe6a341['setCode']);if(_0x3245b3>-0x1)_0x360f00[_0x267cfc(0x214)](_0x3245b3,0x1);_0x3f6d47(),_0x19fab6();}),_0x371031[_0x41544f(0xeb)](_0x4af32d),_0x36b43f[_0x41544f(0xeb)](_0x371031);}),_0x375d88[_0x392995(0x1fa)](new CustomEvent(_0x392995(0x1db),{'detail':_0x360f00,'bubbles':!![]}));}return _0x31c2d8[_0x4483b1(0x1e8)](_0x4483b1(0x12f),function(){var _0x10f9c3=_0x4483b1;_0x19173d&&(clearTimeout(_0x19173d),_0x19173d=null),_0x5e5825[_0x10f9c3(0x101)][_0x10f9c3(0x123)](_0x10f9c3(0x1cc));}),_0x31c2d8[_0x4483b1(0x1e8)](_0x4483b1(0x218),_0x19fab6),_0x31c2d8[_0x4483b1(0x1e8)](_0x4483b1(0xfc),function(_0x50a9b9){var _0x512e6e=_0x4483b1;_0x50a9b9[_0x512e6e(0x14c)]===_0x512e6e(0x118)&&(_0x50a9b9[_0x512e6e(0x1fc)](),_0x50d02f());}),_0x31c2d8[_0x4483b1(0x1e8)](_0x4483b1(0x1ee),function(){if(_0x34b3c6)return;_0x19173d=setTimeout(()=>{_0x50d02f(),_0x19173d=null;},0xc8);}),document[_0x4483b1(0x1e8)]('click',function(_0x5a8749){var _0x2cd375=_0x4483b1;!_0x375d88[_0x2cd375(0x20a)](_0x5a8749[_0x2cd375(0x136)])&&_0x5e5825[_0x2cd375(0x101)][_0x2cd375(0x10a)](_0x2cd375(0x1cc));}),_0x19fab6(),_0x360f00;}function getLastCode(_0x9466c9){var _0x246c3c=_0x21dfd7;const _0x3aa9fc=_0x9466c9[_0x246c3c(0x1da)](_0x41b929=>String(_0x41b929[_0x246c3c(0xd1)])[_0x246c3c(0x1cd)]())[_0x246c3c(0x1bf)](_0x5dd8bf=>_0x5dd8bf!=='');if(_0x3aa9fc['length']===0x0)return'';const _0x31efae=_0x3aa9fc[_0x246c3c(0x114)](_0x4f9f83=>/^\d+$/['test'](_0x4f9f83));if(_0x31efae){const _0x531608=_0x3aa9fc[_0x246c3c(0x1da)](Number),_0x461056=Math['max'](..._0x531608);return String(_0x461056);}let _0x453946;if(typeof Intl!=='undefined'&&Intl[_0x246c3c(0xc0)]){const _0x19e0f9=new Intl[(_0x246c3c(0xc0))](undefined,{'numeric':!![],'sensitivity':_0x246c3c(0x173)});_0x453946=_0x3aa9fc['slice']()[_0x246c3c(0x16a)](_0x19e0f9['compare']);}else{const _0x478ca2=_0x3aa9fc[_0x246c3c(0x114)](_0x544eff=>/^\d+$/[_0x246c3c(0x15a)](_0x544eff));_0x478ca2?_0x453946=_0x3aa9fc[_0x246c3c(0x1da)](Number)[_0x246c3c(0x16a)]((_0xae2f57,_0x1f8fb7)=>_0xae2f57-_0x1f8fb7)['map'](String):_0x453946=_0x3aa9fc[_0x246c3c(0x1c9)]()[_0x246c3c(0x16a)]();}return _0x453946[_0x453946[_0x246c3c(0x179)]-0x1];}function getNextCode(_0x3ece97){var _0x4c8560=_0x21dfd7;const _0x5420e4=getLastCode(_0x3ece97);if(!_0x5420e4)return'';if(/^\d+$/['test'](_0x5420e4))return String(Number(_0x5420e4)+0x1);const _0x8b88ea=_0x5420e4[_0x4c8560(0x1a8)](/^([A-Za-z]*)(\d+)$/);if(_0x8b88ea){const [,_0x55fe6e,_0xcd545c]=_0x8b88ea,_0x5925cd=String(Number(_0xcd545c)+0x1)[_0x4c8560(0x13f)](_0xcd545c[_0x4c8560(0x179)],'0');return _0x55fe6e+_0x5925cd;}return _0x5420e4;}document[_0x21dfd7(0x131)](_0x21dfd7(0x1cb))['addEventListener'](_0x21dfd7(0x218),function(_0x1ae67d){var _0x4080ba=_0x21dfd7;baseItem[_0x4080ba(0x192)]=_0x1ae67d[_0x4080ba(0x136)]['value'];}),document['getElementById'](_0x21dfd7(0x1ca))[_0x21dfd7(0x1e8)]('input',function(_0x4d4a1f){var _0x281bd6=_0x21dfd7;baseItem[_0x281bd6(0x112)]=_0x4d4a1f[_0x281bd6(0x136)][_0x281bd6(0x197)];}),document[_0x21dfd7(0x131)]('inputItemDateExpiry')[_0x21dfd7(0x1e8)](_0x21dfd7(0x218),function(_0x4767ae){var _0x23578f=_0x21dfd7;baseItem[_0x23578f(0x152)]=_0x4767ae['target'][_0x23578f(0x197)];}),document[_0x21dfd7(0x131)](_0x21dfd7(0x162))[_0x21dfd7(0x1e8)](_0x21dfd7(0x18b),function(_0x18d771){var _0x339425=_0x21dfd7;baseItem[_0x339425(0x159)]=_0x18d771[_0x339425(0x136)][_0x339425(0x197)];}),document[_0x21dfd7(0x131)](_0x21dfd7(0x1e0))[_0x21dfd7(0x1e8)](_0x21dfd7(0x18b),function(_0x592d3d){var _0x4056b1=_0x21dfd7;baseItem[_0x4056b1(0x132)]=_0x592d3d['target']['value'];const _0x537be9=_0x592d3d[_0x4056b1(0x136)]['value'],_0xe7adfe=company[0x0]['setImpuestos'][_0x4056b1(0x1b2)](_0x2f5a21=>_0x2f5a21[_0x4056b1(0x1fb)]==_0x537be9)?.[_0x4056b1(0xfd)]||0x0,_0x1c077f=company[0x0]['setImpuestos'][_0x4056b1(0x1b2)](_0x2ee474=>_0x2ee474['setTaxId']==_0x537be9)?.[_0x4056b1(0x1a1)]||0x0;baseItem[_0x4056b1(0x1d6)]=_0xe7adfe,baseItem[_0x4056b1(0x1bc)]=_0x1c077f;}),document[_0x21dfd7(0x131)](_0x21dfd7(0x10d))[_0x21dfd7(0x1e8)](_0x21dfd7(0x18b),function(_0x38af69){var _0x1d3524=_0x21dfd7;baseItem[_0x1d3524(0x1b0)]=_0x38af69[_0x1d3524(0x136)][_0x1d3524(0x17b)];}),document[_0x21dfd7(0x131)](_0x21dfd7(0x196))[_0x21dfd7(0x1e8)]('change',function(_0x1688e6){var _0x5352b6=_0x21dfd7;baseItem[_0x5352b6(0x142)]=_0x1688e6[_0x5352b6(0x136)][_0x5352b6(0x17b)];}),document['getElementById']('inputItemCode')[_0x21dfd7(0x1e8)]('input',function(_0xfe3b31){var _0x358515=_0x21dfd7;baseItem[_0x358515(0x138)]=_0xfe3b31[_0x358515(0x136)][_0x358515(0x197)];}),document[_0x21dfd7(0x131)](_0x21dfd7(0x10c))[_0x21dfd7(0x1e8)](_0x21dfd7(0x218),function(_0x27d82e){var _0x354087=_0x21dfd7;baseItem['setItemBarCode']=_0x27d82e[_0x354087(0x136)][_0x354087(0x197)];}),document['getElementById'](_0x21dfd7(0xf8))[_0x21dfd7(0x1e8)](_0x21dfd7(0x1be),function(){addUnit(),updateUnitsArray();}),document[_0x21dfd7(0x131)]('inputItemCode')[_0x21dfd7(0x1e8)](_0x21dfd7(0x1ee),function(){var _0x1f390d=_0x21dfd7;const _0x1f57da=this[_0x1f390d(0x197)][_0x1f390d(0x1cd)]();if(_0x1f57da==='')return;const _0x81f9b2=products[_0x1f390d(0x1c5)](_0x5dff8f=>_0x5dff8f[_0x1f390d(0xd1)]==_0x1f57da),_0x869fe1=getLastCode(products);_0x81f9b2?ntfShow(_0x1f390d(0x1e1)+_0x869fe1,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x33afaa){var _0x480307=_0x21dfd7;currentImages[_0x33afaa]=null;var _0x19fa45=imgC['querySelector'](_0x480307(0x1c6)+_0x33afaa+'\x22]');_0x19fa45[_0x480307(0x18a)]='';var _0x2e7b36=document[_0x480307(0xf5)](_0x480307(0x218));_0x2e7b36[_0x480307(0x11e)]=_0x480307(0x181),_0x2e7b36[_0x480307(0x164)]='image/*',_0x2e7b36[_0x480307(0x1f0)][_0x480307(0x19c)]=_0x480307(0x126);var _0x5410c9=document['createElement'](_0x480307(0x145));_0x5410c9[_0x480307(0x1f2)]='+',_0x19fa45[_0x480307(0xeb)](_0x2e7b36),_0x19fa45['appendChild'](_0x5410c9),_0x19fa45[_0x480307(0x1e8)](_0x480307(0x1be),function(){var _0x44a22d=_0x480307;_0x2e7b36[_0x44a22d(0x1be)]();}),baseItem['setItemImages']=currentImages[_0x480307(0x1bf)](function(_0x290a5b){return _0x290a5b;});}function addUnit(_0x3665b1,_0x5b7efd,_0x1983d0,_0x24188d,_0x46c78b,_0x2bda2f,_0x158082){var _0x4960bf=_0x21dfd7,_0x35fd13=uniqueValuesArray(_0x4960bf(0x16b),_0x4960bf(0x18e),myCompany[_0x4960bf(0x115)]);_0x3665b1=_0x3665b1||'',_0x5b7efd=_0x5b7efd||_0x35fd13[0x3a]&&_0x35fd13[0x3a]['setCode']||'',_0x1983d0=_0x1983d0!==undefined?_0x1983d0:0x1,_0x24188d=!!_0x24188d,_0x46c78b=_0x46c78b||'',_0x2bda2f=_0x2bda2f||'';var _0x539cd5=unitCount++,_0x496ec1=document[_0x4960bf(0xf5)](_0x4960bf(0xd7));_0x496ec1['dataset'][_0x4960bf(0x1c2)]=_0x539cd5,_0x496ec1['dataset']['default']=_0x24188d,_0x496ec1['innerHTML']='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x539cd5+_0x4960bf(0x1ff)+_0x3665b1+_0x4960bf(0x119)+_0x539cd5+_0x4960bf(0xca)+_0x539cd5+_0x4960bf(0x1ff)+_0x1983d0+'\x22\x20'+(_0x24188d?_0x4960bf(0x1d5):'')+_0x4960bf(0x1a0)+_0x539cd5+'\x22\x20value=\x22'+_0x46c78b+_0x4960bf(0x180)+_0x539cd5+_0x4960bf(0x1ff)+_0x2bda2f+_0x4960bf(0x133)+(_0x24188d?_0x4960bf(0x1d1):'')+_0x4960bf(0x11b),fillSelect(_0x496ec1['querySelector'](_0x4960bf(0x19a)),_0x35fd13,_0x4960bf(0xea),_0x4960bf(0x12d)),_0x496ec1[_0x4960bf(0x1a2)]('.unitSelect')[_0x4960bf(0x197)]=_0x5b7efd,[_0x4960bf(0x1df),_0x4960bf(0x143),_0x4960bf(0x110),_0x4960bf(0x195),_0x4960bf(0xc2)][_0x4960bf(0x148)](function(_0x33b3b0){var _0x1da4c6=_0x4960bf;_0x496ec1[_0x1da4c6(0x1a2)]('.'+_0x33b3b0)['addEventListener'](_0x1da4c6(0x218),function(){var _0x552164=_0x158082?+_0x158082['id']['split']('_')[0x1]:null;if(_0x158082)updateVariantUnits(_0x552164);else updateUnitsArray();});}),_0x496ec1['querySelector'](_0x4960bf(0x1f1))['addEventListener']('click',function(){var _0x41551c=_0x4960bf;_0x496ec1[_0x41551c(0x123)]();var _0x13dcb6=_0x158082?+_0x158082['id'][_0x41551c(0x202)]('_')[0x1]:null;if(_0x158082)updateVariantUnits(_0x13dcb6);else updateUnitsArray();});var _0x47579b=_0x158082||document['getElementById']('newItem_units_container');_0x47579b[_0x4960bf(0xeb)](_0x496ec1);}function containerIdx(_0x503340){var _0x4ae2ea=_0x21dfd7;return+_0x503340['id'][_0x4ae2ea(0x202)]('_')[0x1];}function updateUnitsArray(){var _0x51435d=_0x21dfd7,_0x2a016c=[],_0x3fd934=Array[_0x51435d(0x128)](document[_0x51435d(0x210)](_0x51435d(0x151))),_0x3a4a21=_0x3fd934[_0x51435d(0x1b2)](_0x3bd3de=>_0x3bd3de['dataset'][_0x51435d(0x178)]===_0x51435d(0x1dd)),_0x5dc59f=_0x3a4a21?+_0x3a4a21[_0x51435d(0x1a2)](_0x51435d(0x190))[_0x51435d(0x197)]:0x1;_0x3fd934[_0x51435d(0x148)](function(_0x29c0ba){var _0x539a5d=_0x51435d,_0x2d1252=+_0x29c0ba[_0x539a5d(0x1a2)](_0x539a5d(0x190))['value']||0x0,_0xfaa84c=+_0x29c0ba[_0x539a5d(0x1a2)](_0x539a5d(0x127))['value']||0x0,_0x45296a=+_0x29c0ba[_0x539a5d(0x1a2)](_0x539a5d(0x217))[_0x539a5d(0x197)]||0x0;_0x2a016c[_0x539a5d(0x1a4)]({'setAlias':_0x29c0ba[_0x539a5d(0x1a2)](_0x539a5d(0x200))['value'][_0x539a5d(0x1cd)](),'setUnitCode':_0x29c0ba[_0x539a5d(0x1a2)](_0x539a5d(0x19a))[_0x539a5d(0x197)],'setEquivalence':_0x2d1252,'setFactor':_0x29c0ba[_0x539a5d(0x139)][_0x539a5d(0x178)]===_0x539a5d(0x1dd)?0x1:_0x2d1252==_0x5dc59f?0x1:_0x2d1252<_0x5dc59f?_0x5dc59f/_0x2d1252:_0x2d1252/_0x5dc59f,'setPrice':_0xfaa84c,'setCost':_0x45296a,'setDefault':_0x29c0ba[_0x539a5d(0x139)][_0x539a5d(0x178)]==='true'?0x1:0x0});}),baseItem[_0x51435d(0x189)]=_0x2a016c;}function updateBranches(){var _0x2529d6=_0x21dfd7,_0x7ff1f8=[];document[_0x2529d6(0x210)]('#newItem_branches_container\x20>\x20div')[_0x2529d6(0x148)](function(_0x18f9fa){var _0x3b875f=_0x2529d6,_0x28e7f9=_0x18f9fa[_0x3b875f(0x1a2)]('.branchChk');if(_0x28e7f9[_0x3b875f(0x17b)]){var _0x261bd7=+_0x28e7f9[_0x3b875f(0x139)]['id'],_0x3ec6b9=+_0x18f9fa[_0x3b875f(0x1a2)](_0x3b875f(0x17a))[_0x3b875f(0x197)],_0x3a1f8a=+_0x18f9fa[_0x3b875f(0x1a2)](_0x3b875f(0x10b))[_0x3b875f(0x197)];_0x7ff1f8[_0x3b875f(0x1a4)]({'setWarehouseCode':_0x261bd7,'setStockInitial':_0x3ec6b9,'setStockMinimum':_0x3a1f8a});}}),baseItem[_0x2529d6(0x183)]=_0x7ff1f8;}document[_0x21dfd7(0x131)](_0x21dfd7(0xda))[_0x21dfd7(0x1e8)](_0x21dfd7(0x1be),function(){var _0x4ac4e6=_0x21dfd7,_0x1e728f=Date['now'](),_0x368053=document[_0x4ac4e6(0xf5)](_0x4ac4e6(0xd7));_0x368053['dataset'][_0x4ac4e6(0x1c2)]=_0x1e728f,_0x368053['innerHTML']=_0x4ac4e6(0x1a9)+_0x1e728f+_0x4ac4e6(0x12a)+_0x1e728f+_0x4ac4e6(0x1b3),prodC[_0x4ac4e6(0xeb)](_0x368053),initProdSearch(_0x368053[_0x4ac4e6(0x1a2)](_0x4ac4e6(0xf0))),_0x368053['querySelector'](_0x4ac4e6(0x1e4))[_0x4ac4e6(0x1e8)](_0x4ac4e6(0x1be),function(){var _0xe526b4=_0x4ac4e6;_0x368053[_0xe526b4(0x123)](),updateProdItems();}),_0x368053['querySelector'](_0x4ac4e6(0x1e2))[_0x4ac4e6(0x1e8)](_0x4ac4e6(0x218),updateProdItems),document[_0x4ac4e6(0x131)]('newItem_title_table_cp')[_0x4ac4e6(0x101)][_0x4ac4e6(0x167)](_0x4ac4e6(0x1e9),!![]),document[_0x4ac4e6(0x131)](_0x4ac4e6(0x1cf))[_0x4ac4e6(0x101)][_0x4ac4e6(0x167)](_0x4ac4e6(0x1cc),![]);});function initProdSearch(_0x3b2eed,_0x1b1e49){var _0x166e71=_0x21dfd7,_0x3cdd8b=_0x3b2eed[_0x166e71(0x1a2)](_0x166e71(0x182)),_0x4599a3=_0x3b2eed[_0x166e71(0x1a2)](_0x166e71(0x17f)),_0x1c529e=_0x1b1e49||null;if(_0x1b1e49)_0x3cdd8b['value']=_0x1b1e49[_0x166e71(0x198)];_0x3cdd8b[_0x166e71(0x1e8)](_0x166e71(0x218),function(){var _0x5ef2a5=_0x166e71,_0x1edffc=_0x3cdd8b[_0x5ef2a5(0x197)][_0x5ef2a5(0x103)]()[_0x5ef2a5(0x1cd)]();_0x4599a3['innerHTML']='';if(!_0x1edffc)return;products[_0x5ef2a5(0x1bf)](_0x475faf=>_0x475faf[_0x5ef2a5(0x104)][_0x5ef2a5(0x103)]()[_0x5ef2a5(0x155)](_0x1edffc))[_0x5ef2a5(0x1c9)](0x0,0x14)['forEach'](function(_0x212902){var _0x1cde80=_0x5ef2a5,_0x4ab093=document['createElement'](_0x1cde80(0xd7));_0x4ab093[_0x1cde80(0x1f2)]=_0x212902[_0x1cde80(0x104)],_0x4ab093[_0x1cde80(0x139)]['id']=_0x212902['id'],_0x4ab093['dataset'][_0x1cde80(0x198)]=_0x212902[_0x1cde80(0x104)],_0x4599a3[_0x1cde80(0xeb)](_0x4ab093),_0x4ab093[_0x1cde80(0x1e8)](_0x1cde80(0x1be),function(){var _0xe5fb07=_0x1cde80;_0x1c529e={'id':_0x212902['id'],'name':_0x212902[_0xe5fb07(0x104)]},_0x3cdd8b['value']=_0x212902[_0xe5fb07(0x104)],_0x4599a3[_0xe5fb07(0x18a)]='';var _0x55048b=_0x3b2eed[_0xe5fb07(0x100)](_0xe5fb07(0xd4));if(_0x55048b){var _0x2f1976=+_0x55048b['id'][_0xe5fb07(0x202)]('_')[0x1];updateVariantComponents(_0x2f1976);}else updateProdItems();});});}),_0x3cdd8b[_0x166e71(0x1e8)]('focus',function(){var _0xe6e6ac=_0x166e71;_0x4599a3['classList'][_0xe6e6ac(0x123)](_0xe6e6ac(0x1cc));}),document[_0x166e71(0x1e8)](_0x166e71(0x1be),function(_0x1c9a48){var _0x58bc7b=_0x166e71;if(!_0x3b2eed[_0x58bc7b(0x20a)](_0x1c9a48[_0x58bc7b(0x136)]))_0x4599a3[_0x58bc7b(0x101)]['add'](_0x58bc7b(0x1cc));}),Object[_0x166e71(0x18f)](_0x3b2eed,_0x166e71(0x157),{'get':()=>_0x1c529e});}function updateProdItems(){var _0x16fb67=_0x21dfd7,_0xa34b83=[];Array[_0x16fb67(0x128)](prodC['children'])[_0x16fb67(0x148)](function(_0x433ae0){var _0x39e172=_0x16fb67,_0x246bec=_0x433ae0[_0x39e172(0x1a2)](_0x39e172(0xf0));if(!_0x246bec)return;var _0x19056f=_0x433ae0[_0x39e172(0x1a2)](_0x39e172(0x1e2)),_0x3d1b2b=_0x246bec['selectedItem'];_0x3d1b2b&&_0xa34b83[_0x39e172(0x1a4)]({'setItemId':_0x3d1b2b['id'],'setDescripcion':_0x3d1b2b[_0x39e172(0x198)],'setCantidad':+_0x19056f[_0x39e172(0x197)]});}),baseItem[_0x16fb67(0x208)]=_0xa34b83,_0xa34b83[_0x16fb67(0x179)]===0x0&&(document[_0x16fb67(0x131)]('newItem_title_table_cp')[_0x16fb67(0x101)][_0x16fb67(0x167)](_0x16fb67(0x1e9),![]),document[_0x16fb67(0x131)]('newItem_title_table_cp')[_0x16fb67(0x101)][_0x16fb67(0x167)]('newItem_hidden',!![]));}document['getElementById'](_0x21dfd7(0xcb))['addEventListener'](_0x21dfd7(0x1be),function(){var _0x5b24c3=_0x21dfd7,_0x4c8800=vgCount++,_0xcb61c8=document[_0x5b24c3(0xf5)](_0x5b24c3(0xd7));_0xcb61c8[_0x5b24c3(0x139)][_0x5b24c3(0x1c2)]=_0x4c8800,_0xcb61c8[_0x5b24c3(0x18a)]='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x4c8800+'\x22>'+_0x5b24c3(0x204)+_0x4c8800+'\x22>'+_0x5b24c3(0xff),vgC[_0x5b24c3(0xeb)](_0xcb61c8),_0xcb61c8[_0x5b24c3(0x1a2)]('.vgName')[_0x5b24c3(0x1e8)](_0x5b24c3(0x1ee),generateVariants),_0xcb61c8[_0x5b24c3(0x1a2)](_0x5b24c3(0xc5))[_0x5b24c3(0x1e8)]('blur',generateVariants),_0xcb61c8[_0x5b24c3(0x1a2)](_0x5b24c3(0x1d4))[_0x5b24c3(0x1e8)]('click',function(){var _0x2092a9=_0x5b24c3;_0xcb61c8[_0x2092a9(0x123)](),generateVariants();});});function generateVariants(){var _0x3a98f3=_0x21dfd7,_0x1b3ed5=[];vgC[_0x3a98f3(0x210)]('div')[_0x3a98f3(0x148)](function(_0x1b96d9){var _0x3f0f4a=_0x3a98f3,_0x58fe80=_0x1b96d9[_0x3f0f4a(0x1a2)]('.vgName')[_0x3f0f4a(0x197)][_0x3f0f4a(0x1cd)](),_0x36c58a=_0x1b96d9[_0x3f0f4a(0x1a2)]('.vgVals')['value']['split'](',')[_0x3f0f4a(0x1da)](_0x17ec2d=>_0x17ec2d[_0x3f0f4a(0x1cd)]())['filter'](_0x345ee9=>_0x345ee9);if(_0x58fe80&&_0x36c58a[_0x3f0f4a(0x179)])_0x1b3ed5[_0x3f0f4a(0x1a4)]({'name':_0x58fe80,'vals':_0x36c58a});});var _0x12f814=[{}];_0x1b3ed5['forEach'](function(_0x569cba){var _0xad40a=_0x3a98f3;_0x12f814=_0x12f814[_0xad40a(0x1c0)](function(_0x59ba8a){var _0x26b02d=_0xad40a;return _0x569cba[_0x26b02d(0x18d)][_0x26b02d(0x1da)](function(_0x305f46){var _0x50823b=_0x26b02d,_0x2291fd=Object[_0x50823b(0x134)]({},_0x59ba8a);return _0x2291fd[_0x569cba[_0x50823b(0x198)]]=_0x305f46,_0x2291fd;});});}),newItems=[],varContainer[_0x3a98f3(0x18a)]='',_0x12f814[_0x3a98f3(0x148)](function(_0x4fce98,_0x539f65){var _0x432f88=_0x3a98f3,_0x286ec2=JSON[_0x432f88(0x15f)](JSON[_0x432f88(0x1b8)](baseItem));_0x286ec2[_0x432f88(0x1ab)]=_0x4fce98,_0x286ec2[_0x432f88(0x185)]=baseItem[_0x432f88(0x192)]+'\x20'+Object['entries'](_0x4fce98)[_0x432f88(0x1da)](_0x29ae2b=>_0x29ae2b[0x0]+'\x20'+_0x29ae2b[0x1])[_0x432f88(0x1f9)]('\x20'),newItems['push'](_0x286ec2);var _0x6b22e4=document[_0x432f88(0xf5)](_0x432f88(0xd7));_0x6b22e4['classList']['add'](_0x432f88(0x144)),_0x6b22e4[_0x432f88(0x139)][_0x432f88(0x1c2)]=_0x539f65,_0x6b22e4[_0x432f88(0x18a)]=_0x432f88(0x1ce)+_0x286ec2[_0x432f88(0x185)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x286ec2[_0x432f88(0x138)]+_0x432f88(0x10e)+_0x286ec2[_0x432f88(0x12c)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x286ec2[_0x432f88(0x152)]+_0x432f88(0xde)+_0x539f65+_0x432f88(0x199)+_0x539f65+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x539f65+_0x432f88(0x209),varContainer[_0x432f88(0xeb)](_0x6b22e4),_0x6b22e4[_0x432f88(0x1a2)]('.variantCode')[_0x432f88(0x1e8)](_0x432f88(0x218),_0x57144f=>newItems[_0x539f65][_0x432f88(0x138)]=_0x57144f[_0x432f88(0x136)][_0x432f88(0x197)]),_0x6b22e4[_0x432f88(0x1a2)]('.variantBarCode')[_0x432f88(0x1e8)](_0x432f88(0x218),_0x3e630d=>newItems[_0x539f65][_0x432f88(0x12c)]=_0x3e630d[_0x432f88(0x136)][_0x432f88(0x197)]),_0x6b22e4['querySelector'](_0x432f88(0x141))[_0x432f88(0x1e8)](_0x432f88(0x18b),_0x544f05=>newItems[_0x539f65][_0x432f88(0x152)]=_0x544f05['target'][_0x432f88(0x197)]),initVariantUnits(_0x539f65),initVariantComponents(_0x539f65),initVariantBranches(_0x539f65),_0x6b22e4['querySelector']('.removeVariant')[_0x432f88(0x1e8)](_0x432f88(0x1be),function(){var _0x8233f1=_0x432f88,_0xcb29ad=+_0x6b22e4[_0x8233f1(0x139)]['idx'];newItems[_0x8233f1(0x214)](_0xcb29ad,0x1),_0x6b22e4[_0x8233f1(0x123)](),document[_0x8233f1(0x210)](_0x8233f1(0x205))[_0x8233f1(0x148)](function(_0x566c02,_0x448dac){var _0x2db6b8=_0x8233f1;_0x566c02['dataset'][_0x2db6b8(0x1c2)]=_0x448dac;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x340de9){var _0x47f898=_0x21dfd7,_0x21a999=document[_0x47f898(0x131)](_0x47f898(0x1ba)+_0x340de9+'_units_container'),_0x10ddf1=[];Array[_0x47f898(0x128)](_0x21a999['children'])['forEach'](function(_0x2a4084){var _0x3780f1=_0x47f898,_0x121055=+_0x2a4084[_0x3780f1(0x1a2)]('.eqInput')[_0x3780f1(0x197)]||0x0,_0x201303=_0x2a4084[_0x3780f1(0x1a2)](_0x3780f1(0x200))[_0x3780f1(0x197)][_0x3780f1(0x1cd)](),_0xd1dbfd=_0x2a4084[_0x3780f1(0x1a2)]('.unitSelect')[_0x3780f1(0x197)],_0x149b24=+_0x2a4084[_0x3780f1(0x1a2)](_0x3780f1(0x127))[_0x3780f1(0x197)]||0x0,_0x2a0dc1=+_0x2a4084[_0x3780f1(0x1a2)](_0x3780f1(0x217))[_0x3780f1(0x197)]||0x0,_0x297bfa=_0x2a4084[_0x3780f1(0x139)][_0x3780f1(0x178)]===_0x3780f1(0x1dd),_0x274002=+_0x21a999[_0x3780f1(0x1a2)](_0x3780f1(0x1ef))[_0x3780f1(0x197)]||0x1,_0x3269c8=_0x297bfa?0x1:_0x121055==_0x274002?0x1:_0x121055<_0x274002?_0x274002/_0x121055:_0x121055/_0x274002;_0x10ddf1[_0x3780f1(0x1a4)]({'setAlias':_0x201303,'setUnitCode':_0xd1dbfd,'setEquivalence':_0x121055,'setFactor':_0x3269c8,'setPrice':_0x149b24,'setCost':_0x2a0dc1,'setDefault':_0x297bfa?0x1:0x0});}),newItems[_0x340de9]['setItemUnits']=_0x10ddf1;}function initVariantUnits(_0x41e509){var _0x2db0ba=_0x21dfd7,_0x5206e3=document[_0x2db0ba(0x131)](_0x2db0ba(0x1ba)+_0x41e509+_0x2db0ba(0x184));_0x5206e3['innerHTML']='',newItems[_0x41e509][_0x2db0ba(0x189)][_0x2db0ba(0x148)](function(_0x3800e9){var _0x3f15f5=_0x2db0ba;addUnit(_0x3800e9[_0x3f15f5(0xee)],_0x3800e9[_0x3f15f5(0x16b)],_0x3800e9[_0x3f15f5(0x11c)],_0x3800e9['setDefault'],_0x3800e9['setPrice'],_0x3800e9[_0x3f15f5(0x20b)],_0x5206e3);}),_0x5206e3['parentNode'][_0x2db0ba(0x1a2)](_0x2db0ba(0xc6))['addEventListener'](_0x2db0ba(0x1be),function(){addUnit('','',0x1,![],'','',_0x5206e3),updateVariantUnits(_0x41e509);});}function updateVariantUnits(_0x5053eb){var _0x43e0d9=_0x21dfd7,_0x6b71dc=document[_0x43e0d9(0x131)](_0x43e0d9(0x1ba)+_0x5053eb+'_units_container'),_0x42104b=_0x6b71dc[_0x43e0d9(0x1a2)](_0x43e0d9(0x1ef)),_0xca3587=_0x42104b?+_0x42104b['value']:0x1,_0x1e1056=Array[_0x43e0d9(0x128)](_0x6b71dc['children'])[_0x43e0d9(0x1da)](function(_0x20450a){var _0x5bfd7d=_0x43e0d9,_0x4996aa=_0x20450a[_0x5bfd7d(0x1a2)]('.unitAlias')['value']['trim'](),_0x1efb58=_0x20450a['querySelector'](_0x5bfd7d(0x19a))[_0x5bfd7d(0x197)],_0x18b8f1=+_0x20450a[_0x5bfd7d(0x1a2)](_0x5bfd7d(0x190))[_0x5bfd7d(0x197)]||0x0,_0x3dfe3e=+_0x20450a[_0x5bfd7d(0x1a2)]('.priceInput')['value']||0x0,_0xfeacb4=+_0x20450a['querySelector'](_0x5bfd7d(0x217))['value']||0x0,_0x598818=_0x20450a[_0x5bfd7d(0x139)][_0x5bfd7d(0x178)]==='true';return{'setAlias':_0x4996aa,'setUnitCode':_0x1efb58,'setEquivalence':_0x18b8f1,'setFactor':_0x598818?0x1:_0x18b8f1==_0xca3587?0x1:_0x18b8f1<_0xca3587?_0xca3587/_0x18b8f1:_0x18b8f1/_0xca3587,'setPrice':_0x3dfe3e,'setCost':_0xfeacb4,'setDefault':_0x598818?0x1:0x0};});newItems[_0x5053eb][_0x43e0d9(0x189)]=_0x1e1056;}function initVariantComponents(_0x2159b2){var _0x559c80=_0x21dfd7,_0x329671=document[_0x559c80(0x131)](_0x559c80(0x1ba)+_0x2159b2+_0x559c80(0xe7));_0x329671['innerHTML']='',newItems[_0x2159b2][_0x559c80(0x208)][_0x559c80(0x148)](function(_0x2cf951){var _0x51def2=_0x559c80,_0x41d71b=document[_0x51def2(0xf5)](_0x51def2(0xd7)),_0x47454a=Date['now']();_0x41d71b['dataset'][_0x51def2(0x1c2)]=_0x47454a,_0x41d71b['innerHTML']=_0x51def2(0xd3)+_0x47454a+_0x51def2(0xdd)+_0x2cf951[_0x51def2(0x13c)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x329671[_0x51def2(0xeb)](_0x41d71b),initProdSearch(_0x41d71b[_0x51def2(0x1a2)](_0x51def2(0xf0)),{'id':_0x2cf951['setItemId'],'name':_0x2cf951[_0x51def2(0x104)]}),_0x41d71b[_0x51def2(0x1a2)](_0x51def2(0x1e2))[_0x51def2(0x1e8)]('input',function(){updateVariantComponents(_0x2159b2);}),_0x41d71b[_0x51def2(0x1a2)]('.removeCombo')[_0x51def2(0x1e8)](_0x51def2(0x1be),function(){var _0x58fe62=_0x51def2;_0x41d71b[_0x58fe62(0x123)](),updateVariantComponents(_0x2159b2);});}),_0x329671[_0x559c80(0x163)][_0x559c80(0x1a2)](_0x559c80(0x107))[_0x559c80(0x1e8)](_0x559c80(0x1be),function(){var _0x19707f=_0x559c80,_0x346f75=document[_0x19707f(0xf5)](_0x19707f(0xd7)),_0x4a5a84=Date[_0x19707f(0x19b)]();_0x346f75['dataset']['idx']=_0x4a5a84,_0x346f75[_0x19707f(0x18a)]=_0x19707f(0xd3)+_0x4a5a84+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x329671[_0x19707f(0xeb)](_0x346f75),initProdSearch(_0x346f75[_0x19707f(0x1a2)](_0x19707f(0xf0))),_0x346f75['querySelector'](_0x19707f(0x1e2))[_0x19707f(0x1e8)](_0x19707f(0x218),function(){updateVariantComponents(_0x2159b2);}),_0x346f75['querySelector'](_0x19707f(0xe2))[_0x19707f(0x1e8)](_0x19707f(0x1be),function(){_0x346f75['remove'](),updateVariantComponents(_0x2159b2);});});}function updateVariantComponents(_0x5c1f16){var _0x1d2b3e=_0x21dfd7,_0x20e870=document[_0x1d2b3e(0x131)]('variant_'+_0x5c1f16+_0x1d2b3e(0xe7)),_0x320cc8=Array[_0x1d2b3e(0x128)](_0x20e870[_0x1d2b3e(0x191)])[_0x1d2b3e(0x1da)](function(_0x5559e0){var _0x354866=_0x1d2b3e,_0x5cc824=_0x5559e0[_0x354866(0x1a2)]('.prod_input_container'),_0x9e721a=_0x5cc824[_0x354866(0x157)],_0x262b38=+_0x5559e0[_0x354866(0x1a2)](_0x354866(0x1e2))[_0x354866(0x197)]||0x0;return _0x9e721a?{'setItemId':_0x9e721a['id'],'setDescripcion':_0x9e721a['name'],'setCantidad':_0x262b38}:null;})['filter'](_0x4dd3b1=>_0x4dd3b1);newItems[_0x5c1f16]['setItemComponents']=_0x320cc8;}function initVariantBranches(_0x526306){var _0x39a5b0=_0x21dfd7;const _0x5033ac=getAllWarehouses();var _0x320c1e=document['getElementById'](_0x39a5b0(0x1ba)+_0x526306+_0x39a5b0(0x186));_0x320c1e[_0x39a5b0(0x18a)]='',newItems[_0x526306][_0x39a5b0(0x183)][_0x39a5b0(0x148)](function(_0x3bb81f){var _0x13e6b5=_0x39a5b0,_0x4f97d3=_0x5033ac[_0x13e6b5(0x1b2)](_0x259355=>_0x259355[_0x13e6b5(0x1c7)]==_0x3bb81f[_0x13e6b5(0x125)]),_0x1bc792=document[_0x13e6b5(0xf5)]('div');_0x1bc792[_0x13e6b5(0x18a)]=_0x13e6b5(0xf7)+_0x3bb81f[_0x13e6b5(0x125)]+_0x13e6b5(0x1c3)+_0x4f97d3['setWarehouseName']+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x3bb81f[_0x13e6b5(0x125)]+_0x13e6b5(0x1ff)+_0x3bb81f[_0x13e6b5(0x211)]+_0x13e6b5(0x11d)+_0x3bb81f[_0x13e6b5(0x125)]+_0x13e6b5(0x1ff)+_0x3bb81f[_0x13e6b5(0x122)]+'\x22>',_0x320c1e[_0x13e6b5(0xeb)](_0x1bc792),_0x1bc792['querySelectorAll'](_0x13e6b5(0x218))[_0x13e6b5(0x148)](function(_0x990796){var _0x5c6262=_0x13e6b5;_0x990796[_0x5c6262(0x1e8)](_0x5c6262(0x218),function(){updateVariantBranches(_0x526306);});});}),_0x5033ac['forEach'](function(_0x36a2ac){var _0x2ded27=_0x39a5b0;if(!newItems[_0x526306]['setItemWarehouses'][_0x2ded27(0x1b2)](_0x468409=>_0x468409[_0x2ded27(0x125)]===_0x36a2ac[_0x2ded27(0x1c7)])){var _0x3ebf24=document[_0x2ded27(0xf5)]('div');_0x3ebf24['innerHTML']=_0x2ded27(0xf7)+_0x36a2ac[_0x2ded27(0x1c7)]+'\x22\x20class=\x22branchChk\x22>\x20'+_0x36a2ac[_0x2ded27(0x1a7)]+_0x2ded27(0x1f4)+_0x36a2ac['setWarehouseId']+_0x2ded27(0x11d)+_0x36a2ac[_0x2ded27(0x1c7)]+'\x22>',_0x320c1e[_0x2ded27(0xeb)](_0x3ebf24),_0x3ebf24[_0x2ded27(0x210)](_0x2ded27(0x218))[_0x2ded27(0x148)](function(_0x5b018c){var _0xc26929=_0x2ded27;_0x5b018c[_0xc26929(0x1e8)](_0xc26929(0x218),function(){updateVariantBranches(_0x526306);});});}});}function _0x94c9(){var _0x2c9242=['match','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','files','setItemVariantValues','tag','Error\x20al\x20procesar\x20la\x20operación:','fill','image/*','setItemIsBought','setItemUnitId','find','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setItemCategoryName','table','setItemId','productType1','stringify','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','variant_','setPriceUSD','setItemTaxValue','inputItemCode','click','filter','flatMap','.ms_input','idx','\x22\x20class=\x22branchChk\x22\x20checked>\x20','detail','some','[data-idx=\x22','setWarehouseId','trace','slice','inputItemDescription','inputItemName','newItem_hidden','trim','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','newItem_title_table_cp','progress','style=\x22display:none\x22','1515477YKujNw','info','.removeGroup','disabled','setItemTaxCode','getElementsByClassName','setItemImages','./excel/Plantilla-Items.xlsx','map','selectionChange','setMtoPrecioCostoUnitario','true','warn','unitAlias','inputItemTax','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','.prodQty','status','.removeProd','ERROR:\x20plainProducts\x20no\x20serializable:','<img\x20src=\x22','newItem_variant_groups','addEventListener','newItem_title_table','dragenter','Producto\x20Guardado\x20Offline\x20Correctamente.','.drop-zone__prompt','download','blur','div[data-default=\x22true\x22]\x20.eqInput','style','.removeUnit','textContent','Nuevo\x20Producto','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','newItem_categories_select','href','newItem_images_container','option','join','dispatchEvent','setTaxId','preventDefault','createObjectURL','setItemFree','\x22\x20value=\x22','.unitAlias','transaction','split','4981580HUvyEY','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','.variantForm','offline_operations','newItem_brands_select','setItemComponents','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','contains','setCost','modalProductNewTitle','search','setBatchExpirationDate','.options_list\x20div','querySelectorAll','setStockInitial','1047906OxMocu','upload-btn','splice','<div\x20class=\x22newItem_col\x22>','currency_data','.costInput','input','#newItem_categories_select\x20.selected_tags','setItemCommissionPercentage','image_box','Collator','setFactor','costInput','console','btnItemSave','.vgVals','.addVariantUnit','items','arrayBuffer','findIndex','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','newItem_btn_addVariantGroup','#newItem_brands_select\x20.options_list','setIdProducto','newItem_branches_container','Ingresa\x20el\x20código\x20del\x20item','__proto__','setCodProducto','selected','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','[id$=\x22_comp_container\x22]','onload','6LslqaN','div','Error\x20al\x20guardar\x20Producto\x20Offline:','toISOString','newItem_btn_addProdItem','setItemBrands','currency','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','log','setWarehouseStockMin','setItemCategories','.removeCombo','exception','setItemBrandName','message','apply','_comp_container','modalOverlayCreateItem','done','setCode','appendChild','dragleave','setMtoPrecioUnitario','setAlias','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','.prod_input_container','objectStore','windowId','result','exportItems','createElement','setIdSucursal','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','newItem_btn_addUnit','remove-tag','setConversionFactor','Generando\x20Excel...','keydown','setImpuestoCode','</div>','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','closest','classList','sucursales','toLowerCase','setDescripcion','postMessage','bind','.addVariantComp','setCostUSD','\x20items\x20procesados.','add','.branchMin','inputItemBarCode','newItem_chk_buy','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','newItem_proditems_container','eqInput','</label>','setItemDescription','setMarca','every','setUnits','setItemInventoriable','❌\x20Error:\x20','Enter','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','Producto\x20Libre','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setEquivalence','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','type','return\x20(function()\x20','active','onerror','setStockMinimum','remove','setBatchName','setWarehouseCode','none','.priceInput','from','(((.+)+)+)+$','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','oncomplete','setItemBarCode','setName','newItem_variants_forms','focus','values','getElementById','setItemTaxId','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','assign','Items\x20finales:','target','prototype','setItemCode','dataset','constructor','\x20items.','setCantidad','stopPropagation','.branchChk','padStart','readAsDataURL','.variantExpiry','setItemIsSold','unitSelect','variantForm','span','remove-file','newItem_addToCart','forEach','application/octet-stream','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','./img/product.png','key','.selected_tags','code','#newItem_brands_select\x20.selected_tags','10493084FMTuzK','#newItem_units_container\x20>\x20div','setItemDateExpiry','setWebhook','toString','includes','USD','selectedItem','btnExportarItems','setItemType','test','setItemUnitAlias','30jUQGTj','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','Error\x20al\x20obtener\x20la\x20plantilla:\x20','parse','closeModalCreateItem','file-input','inputItemType','parentNode','accept','onmessage','setImpuestoName','toggle','block','className','sort','setUnitCode','8639848bpkTJB','dataTransfer','detalleModalCreateItem','setCategoria','13626738ZsxAYr','dragover','PEN','base','isArray','setTaxIdDefault','import','#newItem_categories_select\x20.options_list','default','length','.branchInit','checked','hidden','string','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','.options_list','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','file','.prodInput','setItemWarehouses','_units_container','setItemVariantName','_branch_container','✅\x20Exportación\x20completada:\x20','setUnidadCodigo','setItemUnits','innerHTML','change','exportDone','vals','setUnitName','defineProperty','.eqInput','children','setItemName','setMoneda','mousedown','priceInput','newItem_chk_sell','value','name','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','.unitSelect','now','display','816yVEvTG','setInventariable','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setImpuestoValue','querySelector','error','push','11780aEoPsa','setImpuestos','setWarehouseName'];_0x94c9=function(){return _0x2c9242;};return _0x94c9();}function updateVariantBranches(_0x519f02){var _0x5a1837=_0x21dfd7,_0x5017f6=document[_0x5a1837(0x131)](_0x5a1837(0x1ba)+_0x519f02+_0x5a1837(0x186)),_0x195c73=[];_0x5017f6[_0x5a1837(0x210)](_0x5a1837(0xd7))[_0x5a1837(0x148)](function(_0x4e90dc){var _0x340ab5=_0x5a1837,_0x31bfe4=_0x4e90dc[_0x340ab5(0x1a2)](_0x340ab5(0x13e));if(_0x31bfe4[_0x340ab5(0x17b)]){var _0x116786=+_0x31bfe4[_0x340ab5(0x139)]['id'],_0x11ffa4=+_0x4e90dc[_0x340ab5(0x1a2)](_0x340ab5(0x17a))[_0x340ab5(0x197)]||0x0,_0x38912e=+_0x4e90dc['querySelector'](_0x340ab5(0x10b))[_0x340ab5(0x197)]||0x0;_0x195c73[_0x340ab5(0x1a4)]({'setWarehouseCode':_0x116786,'setStockInitial':_0x11ffa4,'setStockMinimum':_0x38912e});}}),newItems[_0x519f02][_0x5a1837(0x183)]=_0x195c73;}async function storeOfflineProduct(_0x399adb){var _0xdfbea9=_0x21dfd7;try{const _0x244259=await createCartStore(''),_0x251d77=_0x244259[_0xdfbea9(0x201)]('offline_operations','readwrite'),_0x4f92f4=_0x251d77[_0xdfbea9(0xf1)](_0xdfbea9(0x206));_0x4f92f4[_0xdfbea9(0x10a)](_0x399adb),_0x251d77[_0xdfbea9(0x12b)]=()=>{var _0x360157=_0xdfbea9;console[_0x360157(0xdf)](_0x360157(0x1eb));},_0x251d77[_0xdfbea9(0x121)]=_0x479c3b=>{var _0x510e46=_0xdfbea9;console[_0x510e46(0x1a3)](_0x510e46(0xd8),_0x479c3b[_0x510e46(0x136)][_0x510e46(0x1a3)]);};}catch(_0x40c7c7){console[_0xdfbea9(0x1a3)](_0xdfbea9(0x1ad),_0x40c7c7);}}document[_0x21dfd7(0x131)](_0x21dfd7(0xc4))['addEventListener'](_0x21dfd7(0x1be),async function(_0x4e2c12){var _0x43eb69=_0x21dfd7;_0x4e2c12[_0x43eb69(0x1fc)]();const _0x4f89b3=document[_0x43eb69(0x131)](_0x43eb69(0x1bd)),_0x5cf1e6=document['getElementById'](_0x43eb69(0x1fe))[_0x43eb69(0x197)];if(!_0x4f89b3[_0x43eb69(0x197)][_0x43eb69(0x1cd)]()&&_0x5cf1e6==0x0){ntfShow(_0x43eb69(0xcf),0x2,0x1);return;}_0x5cf1e6==0x1&&(_0x4f89b3[_0x43eb69(0x197)]='',baseItem[_0x43eb69(0x138)]='');const _0x3781be=document[_0x43eb69(0x131)](_0x43eb69(0x1cb));if(!_0x3781be[_0x43eb69(0x197)][_0x43eb69(0x1cd)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x49ea17=document['getElementById']('newItem_addToCart');hideModalCreateItem(),showLoadingModal();newItems[_0x43eb69(0x179)]===0x0&&(newItems=[baseItem]);const _0x4dda0b=document[_0x43eb69(0x131)](_0x43eb69(0xf2))[_0x43eb69(0x197)],_0x4c216e=window_options[_0x4dda0b][_0x43eb69(0x193)],_0x201a5c=[];newItems['forEach'](_0x282018=>{var _0x34d9db=_0x43eb69;const _0x36dd21=generateNumericUniqId();_0x282018[_0x34d9db(0x189)][_0x34d9db(0x148)](_0x38059c=>{var _0x4773a9=_0x34d9db;const _0x3ba49f=generateNumericUniqId();_0x38059c[_0x4773a9(0x1b1)]=_0x3ba49f;const _0x579331={'id':_0x3ba49f,'setIdProducto':_0x36dd21,'setCodProducto':_0x282018[_0x4773a9(0x138)],'setDescripcion':_0x282018[_0x4773a9(0x192)],'setItemDescription':_0x282018[_0x4773a9(0x112)],'setBatchExpirationDate':_0x282018[_0x4773a9(0x152)],'setBatchName':'','setCategoria':_0x282018['setItemCategories'][0x0]||'','setMarca':_0x282018[_0x4773a9(0xdb)][0x0]||'','setConversionFactor':parseFloat(_0x38059c[_0x4773a9(0xc1)]),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x282018[_0x4773a9(0x1b0)]?0x1:0x0,'setItemIsSold':_0x282018[_0x4773a9(0x142)]?0x1:0x0,'setPorcentajeIgv':_0x282018[_0x4773a9(0x1bc)],'setPrinters':[],'setTaxId':_0x282018[_0x4773a9(0x132)],'setTipAfeIgv':_0x282018[_0x4773a9(0x1d6)],'setUnidad':_0x38059c[_0x4773a9(0x16b)],'setUnidadCodigo':_0x38059c[_0x4773a9(0x16b)],'setItemUnitAlias':_0x38059c[_0x4773a9(0xee)],'currency_data':[{'currency':_0x4c216e,'setMtoPrecioCostoUnitario':_0x38059c[_0x4773a9(0x20b)],'setMtoPrecioUnitario':_0x38059c['setPrice'],'setPriceLists':[]}],'sucursales':_0x282018[_0x4773a9(0x183)][_0x4773a9(0x1da)](_0x5dcd83=>({'setIdSucursal':_0x5dcd83[_0x4773a9(0x125)],'setSucursalStock':_0x5dcd83['setStockInitial'][_0x4773a9(0x154)](),'setWarehouseStockMin':_0x5dcd83[_0x4773a9(0x122)][_0x4773a9(0x154)]()})),'setItemFree':_0x282018[_0x4773a9(0x1fe)],'setItemBarCode':_0x282018['setItemBarCode'],'setItemBrands':_0x282018[_0x4773a9(0xdb)][_0x4773a9(0x1c9)](),'setItemCategories':_0x282018[_0x4773a9(0xe1)][_0x4773a9(0x1c9)](),'setItemComponents':_0x282018[_0x4773a9(0x208)][_0x4773a9(0x1da)](_0x194186=>({..._0x194186})),'setItemImages':_0x282018[_0x4773a9(0x1d8)][_0x4773a9(0x1c9)](),'setItemVariantName':_0x282018['setItemVariantName'],'setItemVariantValues':{..._0x282018[_0x4773a9(0x1ab)]}};_0x201a5c[_0x4773a9(0x1a4)](_0x579331),(_0x49ea17['checked']||_0x5cf1e6==0x1)&&addToCart(_0x579331);});}),console[_0x43eb69(0xdf)](_0x43eb69(0x135),newItems),await finalizeImport(_0x201a5c,newItems,![]);}),[_0x21dfd7(0x1ea),_0x21dfd7(0x171)][_0x21dfd7(0x148)](_0x447f5e=>dropZone[_0x21dfd7(0x1e8)](_0x447f5e,_0x344bfb=>{var _0x50ebcd=_0x21dfd7;_0x344bfb['preventDefault'](),dropZone[_0x50ebcd(0x101)]['add']('dragover');})),[_0x21dfd7(0xec),'drop'][_0x21dfd7(0x148)](_0x564b05=>dropZone['addEventListener'](_0x564b05,_0x1cc5e6=>{var _0x98ed50=_0x21dfd7;_0x1cc5e6[_0x98ed50(0x1fc)](),dropZone[_0x98ed50(0x101)][_0x98ed50(0x123)]('dragover');})),dropZone[_0x21dfd7(0x1e8)]('drop',_0x578a1a=>{var _0x17dc50=_0x21dfd7;const _0x2b466a=_0x578a1a[_0x17dc50(0x16d)][_0x17dc50(0x1aa)][0x0];if(!_0x2b466a)return;fileInput[_0x17dc50(0x1aa)]=_0x578a1a[_0x17dc50(0x16d)]['files'],dropZone[_0x17dc50(0x1a2)](_0x17dc50(0x1ec))['textContent']=_0x2b466a[_0x17dc50(0x198)],removeBtn[_0x17dc50(0x17c)]=![],fileInput[_0x17dc50(0x1fa)](new Event('change'));}),removeBtn['addEventListener']('click',()=>{var _0x3bf68d=_0x21dfd7;fileInput[_0x3bf68d(0x197)]='',dropZone[_0x3bf68d(0x1a2)](_0x3bf68d(0x1ec))[_0x3bf68d(0x1f2)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x3bf68d(0x17c)]=!![],progressBar['style'][_0x3bf68d(0x19c)]=_0x3bf68d(0x126),statusDiv[_0x3bf68d(0x1f2)]='',uploadBtn[_0x3bf68d(0x1d5)]=!![];});function _0x410c(_0x131344,_0xbc0b8){var _0x38adf0=_0x94c9();return _0x410c=function(_0x2b0303,_0x5343bf){_0x2b0303=_0x2b0303-0xbe;var _0x22feef=_0x38adf0[_0x2b0303];return _0x22feef;},_0x410c(_0x131344,_0xbc0b8);}const exportBtn=document[_0x21dfd7(0x131)](_0x21dfd7(0x158));exportBtn['addEventListener'](_0x21dfd7(0x1be),onClickExportarItems);async function onClickExportarItems(){var _0x456482=_0x21dfd7;if(!Array['isArray'](products)||!products[_0x456482(0x179)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x3d5ebe=await fetch(_0x456482(0x1d9));if(!_0x3d5ebe['ok'])throw new Error(_0x456482(0x1b9));const _0x4179ca=await _0x3d5ebe['arrayBuffer'](),_0x58d83c=document['getElementById'](_0x456482(0x1c7))[_0x456482(0x197)];let _0x41cd69=products;const _0x209da7=getUserPermissionApiERP(0x2);_0x209da7==0x1&&(_0x41cd69=products['filter'](_0x235b06=>Array[_0x456482(0x174)](_0x235b06[_0x456482(0x102)])&&_0x235b06['sucursales'][_0x456482(0x1c5)](_0x52fbdd=>String(_0x52fbdd[_0x456482(0xf6)])==String(_0x58d83c))));const _0x3f2703=_0x41cd69['reduce']((_0x1dd63a,_0x3c1115)=>{var _0x19b8c5=_0x456482;const _0x3fb97c=_0x3c1115['setIdProducto'];if(!_0x1dd63a[_0x3fb97c])_0x1dd63a[_0x3fb97c]=[];return _0x1dd63a[_0x3fb97c][_0x19b8c5(0x1a4)](_0x3c1115),_0x1dd63a;},{}),_0x186883=Object[_0x456482(0x130)](_0x3f2703)[_0x456482(0x1da)](_0x3976f2=>{var _0xca58e8=_0x456482;const _0x5296a8=_0x3976f2[0x0],_0x5bed0f=_0x3976f2[0x1]||{},_0x557077=_0x3976f2[0x2]||{};function _0x552bc7(_0x2142e2,_0x52d508,_0x5246c9){var _0x19d8f7=_0x410c;if(!_0x2142e2||!Array[_0x19d8f7(0x174)](_0x2142e2['currency_data']))return'';const _0x5d3bce=_0x2142e2[_0x19d8f7(0x216)][_0x19d8f7(0x1b2)](_0xf748bd=>_0xf748bd[_0x19d8f7(0xdc)]===_0x52d508);return _0x5d3bce?_0x5d3bce[_0x5246c9]:'';}return{'id':_0x5296a8[_0xca58e8(0xcd)],'setItemType':_0x5296a8[_0xca58e8(0x159)],'setCodProducto':_0x5296a8[_0xca58e8(0xd1)],'setDescripcion':_0x5296a8[_0xca58e8(0x104)],'setItemDescription':_0x5296a8['setItemDescription'],'setItemIsSold':_0x5296a8['setItemIsSold'],'setItemIsBought':_0x5296a8[_0xca58e8(0x1b0)],'setCategoria':_0x5296a8['setCategoria'],'setMarca':_0x5296a8['setMarca'],'setTaxId':_0x5296a8[_0xca58e8(0x1fb)],'setUnitId':_0x5296a8['id'],'setItemBarCode':_0x5296a8['setItemBarCode'],'setUnidadCodigo':_0x5296a8['setUnidadCodigo'],'setItemUnitAlias':_0x5296a8['setItemUnitAlias']??'','PEN_setMtoPrecioUnitario':_0x552bc7(_0x5296a8,_0xca58e8(0x172),_0xca58e8(0xed)),'PEN_setMtoPrecioCostoUnitario':_0x552bc7(_0x5296a8,_0xca58e8(0x172),_0xca58e8(0x1dc)),'USD_setMtoPrecioUnitario':_0x552bc7(_0x5296a8,_0xca58e8(0x156),_0xca58e8(0xed)),'USD_setMtoPrecioCostoUnitario':_0x552bc7(_0x5296a8,_0xca58e8(0x156),_0xca58e8(0x1dc)),'setItemCommissionPercentage':_0x5296a8[_0xca58e8(0xbe)]?parseFloat(_0x5296a8['setItemCommissionPercentage']):'','setUnitId2':_0x5bed0f['id']??'','setItemBarCode2':_0x5bed0f[_0xca58e8(0x12c)]??'','setUnidadCodigo2':_0x5bed0f[_0xca58e8(0x188)]??'','setItemUnitAlias2':_0x5bed0f['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x5bed0f[_0xca58e8(0xfa)]??'','PEN_setMtoPrecioUnitario2':_0x552bc7(_0x5bed0f,'PEN',_0xca58e8(0xed))??'','PEN_setMtoPrecioCostoUnitario2':_0x552bc7(_0x5bed0f,_0xca58e8(0x172),_0xca58e8(0x1dc))??'','USD_setMtoPrecioUnitario2':_0x552bc7(_0x5bed0f,_0xca58e8(0x156),_0xca58e8(0xed))??'','USD_setMtoPrecioCostoUnitario2':_0x552bc7(_0x5bed0f,_0xca58e8(0x156),_0xca58e8(0x1dc))??'','setItemCommissionPercentage2':_0x5bed0f[_0xca58e8(0xbe)]?parseFloat(_0x5bed0f[_0xca58e8(0xbe)]):'','setUnitId3':_0x557077['id']??'','setItemBarCode3':_0x557077[_0xca58e8(0x12c)]??'','setUnidadCodigo3':_0x557077['setUnidadCodigo']??'','setItemUnitAlias3':_0x557077[_0xca58e8(0x15b)]??'','setUnidadEquivalencia3':_0x557077[_0xca58e8(0xfa)]??'','PEN_setMtoPrecioUnitario3':_0x552bc7(_0x557077,'PEN',_0xca58e8(0xed))??'','PEN_setMtoPrecioCostoUnitario3':_0x552bc7(_0x557077,_0xca58e8(0x172),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x552bc7(_0x557077,'USD','setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario3':_0x552bc7(_0x557077,_0xca58e8(0x156),_0xca58e8(0x1dc))??'','setItemCommissionPercentage3':_0x557077[_0xca58e8(0xbe)]?parseFloat(_0x557077[_0xca58e8(0xbe)]):'','setInventariable':_0x5296a8[_0xca58e8(0x19e)],'setSucursalStock':_0x209da7==0x1?_0x5296a8[_0xca58e8(0x102)][_0xca58e8(0x1b2)](_0x3e868d=>String(_0x3e868d[_0xca58e8(0xf6)])==String(_0x58d83c))['setSucursalStock']:'','setWarehouseStockMin':_0x209da7==0x1?_0x5296a8[_0xca58e8(0x102)][_0xca58e8(0x1b2)](_0x4cf8c0=>String(_0x4cf8c0[_0xca58e8(0xf6)])==String(_0x58d83c))[_0xca58e8(0xe0)]:'','setBatchName':_0x5296a8['setBatchName'],'setBatchExpirationDate':_0x5296a8[_0xca58e8(0x20e)],..._0x5296a8[_0xca58e8(0x1ab)]};});try{JSON[_0x456482(0x1b8)](_0x186883);}catch(_0x2ae7fd){console[_0x456482(0x1a3)](_0x456482(0x1e5),_0x2ae7fd),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x456482(0x1f2)]=_0x456482(0xfb),progressBar[_0x456482(0x1f0)][_0x456482(0x19c)]=_0x456482(0x168),progressBar[_0x456482(0x197)]=0x0,itemWorker[_0x456482(0x105)]({'action':_0x456482(0xf4),'products':_0x186883,'plantillaBuf':_0x4179ca},[_0x4179ca]);}catch(_0x2017b0){console[_0x456482(0x1a3)](_0x2017b0),ntfShow(_0x456482(0x15e)+_0x2017b0[_0x456482(0xe5)]);}}itemWorker[_0x21dfd7(0x165)]=({data:_0xef7871})=>{var _0x4d519b=_0x21dfd7;const {type:_0x56971e,payload:_0x22c508}=_0xef7871;_0x56971e===_0x4d519b(0x1d0)&&(progressBar[_0x4d519b(0x1f0)]['display']=_0x4d519b(0x168),progressBar[_0x4d519b(0x197)]=_0x22c508['percent'],statusDiv['textContent']=_0x22c508['message']);_0x56971e===_0x4d519b(0xe9)&&(newItemsExcel=_0x22c508[_0x4d519b(0xc7)],statusDiv[_0x4d519b(0x1f2)]='✅\x20'+newItemsExcel[_0x4d519b(0x179)]+_0x4d519b(0x109),uploadBtn[_0x4d519b(0x1d5)]=![],progressBar['value']=0x64,console[_0x4d519b(0xdf)](newItemsExcel));_0x56971e===_0x4d519b(0x1a3)&&(statusDiv[_0x4d519b(0x1f2)]=_0x4d519b(0x117)+_0x22c508,progressBar[_0x4d519b(0x1f0)][_0x4d519b(0x19c)]=_0x4d519b(0x126));if(_0x56971e===_0x4d519b(0x18c)){const {wbout:_0x2a2f5d,count:_0x35c3cd}=_0x22c508,_0x2b1850=new Blob([_0x2a2f5d],{'type':_0x4d519b(0x149)}),_0x24f5a0=URL[_0x4d519b(0x1fd)](_0x2b1850),_0x3da6eb=document[_0x4d519b(0xf5)]('a'),_0x3a196f=new Date()[_0x4d519b(0xd9)]()['slice'](0x0,0xa);_0x3da6eb[_0x4d519b(0x1ed)]='Plantilla-Items-Export-'+_0x3a196f+'.xlsx',_0x3da6eb[_0x4d519b(0x1f6)]=_0x24f5a0,_0x3da6eb[_0x4d519b(0x1be)](),URL['revokeObjectURL'](_0x24f5a0),statusDiv[_0x4d519b(0x1f2)]=_0x4d519b(0x187)+_0x35c3cd+_0x4d519b(0x13b),progressBar[_0x4d519b(0x1f0)][_0x4d519b(0x19c)]='none';}},fileInput['addEventListener'](_0x21dfd7(0x18b),async _0x321d9f=>{var _0x3147df=_0x21dfd7;const _0x53d93e=_0x321d9f[_0x3147df(0x136)]['files'][0x0];if(!_0x53d93e)return;uploadBtn[_0x3147df(0x1d5)]=!![],newItemsExcel=null,statusDiv[_0x3147df(0x1f2)]='',progressBar['style'][_0x3147df(0x19c)]=_0x3147df(0x126),dropZone[_0x3147df(0x1a2)]('.drop-zone__prompt')[_0x3147df(0x1f2)]=_0x53d93e[_0x3147df(0x198)],removeBtn['hidden']=![];try{const _0x154fe2=await _0x53d93e[_0x3147df(0xc8)]();itemWorker[_0x3147df(0x105)]({'action':_0x3147df(0x176),'buf':_0x154fe2,'maxRows':0x1388});}catch(_0x58d066){statusDiv[_0x3147df(0x1f2)]=_0x3147df(0x15d);}finally{fileInput[_0x3147df(0x197)]='';}}),uploadBtn[_0x21dfd7(0x1e8)](_0x21dfd7(0x1be),async()=>{var _0x1656c4=_0x21dfd7;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x565bce=document[_0x1656c4(0x131)](_0x1656c4(0x1c7))[_0x1656c4(0x197)],_0x215882=[];newItemsExcel['forEach'](_0x45e00a=>{var _0x410117=_0x1656c4;const _0x22be73=Boolean(_0x45e00a['setItemId']),_0x14aafc=_0x22be73?_0x45e00a[_0x410117(0x1b6)]:generateNumericUniqId();_0x45e00a['setItemWarehouses']=[{'setStockInitial':_0x45e00a[_0x410117(0x211)],'setStockMinimum':_0x45e00a[_0x410117(0x122)],'setWarehouseCode':_0x565bce}],_0x45e00a[_0x410117(0x189)][_0x410117(0x148)](_0x4a4ea6=>{var _0x583635=_0x410117;const _0x4fc053=Boolean(_0x4a4ea6['setItemUnitId']),_0x3c868c=_0x4fc053?_0x4a4ea6[_0x583635(0x1b1)]:generateNumericUniqId();_0x4a4ea6[_0x583635(0x1b1)]=_0x3c868c;const _0x385b9d=[];_0x385b9d[_0x583635(0x1a4)]({'currency':_0x583635(0x172),'setMtoPrecioCostoUnitario':_0x4a4ea6[_0x583635(0x20b)],'setMtoPrecioUnitario':_0x4a4ea6['setPrice'],'setPriceLists':[]});const _0x2d0787=_0x4a4ea6['setCostUSD']!=null&&_0x4a4ea6['setPriceUSD']!=null&&(!isNaN(_0x4a4ea6[_0x583635(0x108)])||!isNaN(_0x4a4ea6[_0x583635(0x1bb)]));_0x2d0787&&_0x385b9d[_0x583635(0x1a4)]({'currency':_0x583635(0x156),'setMtoPrecioCostoUnitario':_0x4a4ea6[_0x583635(0x108)],'setMtoPrecioUnitario':_0x4a4ea6[_0x583635(0x1bb)],'setPriceLists':[]});const _0x5f259c={'id':_0x3c868c,'setIdProducto':_0x14aafc,'setItemBarCode':_0x4a4ea6[_0x583635(0x12c)],'setCodProducto':_0x45e00a['setItemCode'],'setDescripcion':_0x45e00a['setItemName'],'setItemDescription':_0x45e00a[_0x583635(0x112)],'setBatchExpirationDate':_0x45e00a[_0x583635(0x152)],'setBatchName':_0x45e00a[_0x583635(0x124)],'setItemIsSold':_0x45e00a[_0x583635(0x142)],'setItemIsBought':_0x45e00a[_0x583635(0x1b0)],'setCategoria':_0x45e00a[_0x583635(0xe1)][0x0]||'','setMarca':_0x45e00a[_0x583635(0xdb)][0x0]||'','setConversionFactor':parseFloat(_0x4a4ea6[_0x583635(0xc1)]),'setImages':[],'setImg':_0x583635(0x14b),'setInventariable':_0x45e00a[_0x583635(0x116)],'setPorcentajeIgv':_0x45e00a[_0x583635(0x1bc)],'setPrinters':[],'setTaxId':_0x45e00a[_0x583635(0x132)],'setTipAfeIgv':_0x45e00a[_0x583635(0x1d6)],'setUnidad':_0x4a4ea6[_0x583635(0x16b)],'setUnidadCodigo':_0x4a4ea6[_0x583635(0x16b)],'setItemUnitAlias':_0x4a4ea6[_0x583635(0xee)],'setItemCommissionPercentage':_0x4a4ea6[_0x583635(0xbe)],'currency_data':_0x385b9d,'sucursales':_0x45e00a[_0x583635(0x183)]['map'](_0x2461e7=>({'setIdSucursal':_0x2461e7[_0x583635(0x125)],'setSucursalStock':_0x2461e7[_0x583635(0x211)][_0x583635(0x154)](),'setWarehouseStockMin':_0x2461e7[_0x583635(0x122)][_0x583635(0x154)]()})),'setItemFree':_0x45e00a[_0x583635(0x1fe)],'setItemBrands':_0x45e00a[_0x583635(0xdb)][_0x583635(0x1c9)](),'setItemCategories':_0x45e00a[_0x583635(0xe1)][_0x583635(0x1c9)](),'setItemComponents':_0x45e00a[_0x583635(0x208)][_0x583635(0x1da)](_0x10139c=>({..._0x10139c})),'setItemImages':_0x45e00a['setItemImages']['slice'](),'setItemVariantName':_0x45e00a[_0x583635(0x185)],'setItemVariantValues':{..._0x45e00a[_0x583635(0x1ab)]}},_0x26bd2c=products[_0x583635(0xc9)](_0x2856fc=>_0x2856fc['id']==_0x3c868c&&_0x2856fc[_0x583635(0xcd)]==_0x14aafc);_0x26bd2c>-0x1?Object[_0x583635(0x134)](products[_0x26bd2c],_0x5f259c):_0x215882[_0x583635(0x1a4)](_0x5f259c);});}),console[_0x1656c4(0xdf)](_0x1656c4(0x135),newItemsExcel),await finalizeImport(_0x215882,newItemsExcel,!![]);});function initializeFormImages(){var _0x11c480=_0x21dfd7;currentImages=Array(MAX_IMAGES)[_0x11c480(0x1ae)](null),imgC[_0x11c480(0x18a)]='',baseItem[_0x11c480(0x1d8)]=[];for(var _0x57f532=0x0;_0x57f532<MAX_IMAGES;_0x57f532++){(function(_0x21abab){var _0x5781ba=_0x11c480,_0x3233ab=document[_0x5781ba(0xf5)](_0x5781ba(0xd7));_0x3233ab[_0x5781ba(0x169)]=_0x5781ba(0xbf),_0x3233ab[_0x5781ba(0x139)][_0x5781ba(0x1c2)]=_0x21abab;var _0x33b622=document[_0x5781ba(0xf5)](_0x5781ba(0x218));_0x33b622['type']=_0x5781ba(0x181),_0x33b622[_0x5781ba(0x164)]=_0x5781ba(0x1af),_0x33b622[_0x5781ba(0x1f0)]['display']='none';var _0x5ec1ee=document[_0x5781ba(0xf5)](_0x5781ba(0x145));_0x5ec1ee[_0x5781ba(0x1f2)]='+',_0x3233ab[_0x5781ba(0xeb)](_0x33b622),_0x3233ab[_0x5781ba(0xeb)](_0x5ec1ee),imgC['appendChild'](_0x3233ab),_0x3233ab[_0x5781ba(0x1e8)]('click',function(){var _0x206558=_0x5781ba;_0x33b622[_0x206558(0x1be)]();}),_0x33b622[_0x5781ba(0x1e8)](_0x5781ba(0x18b),function(_0x4bf607){var _0x3e959a=_0x5781ba,_0x34ef70=_0x4bf607[_0x3e959a(0x136)][_0x3e959a(0x1aa)][0x0];if(!_0x34ef70)return removeImg(_0x21abab);var _0x2e9e5c=new FileReader();_0x2e9e5c[_0x3e959a(0xd5)]=function(_0x427da1){var _0x2dd24a=_0x3e959a;_0x3233ab[_0x2dd24a(0x18a)]=_0x2dd24a(0x1e6)+_0x427da1[_0x2dd24a(0x136)][_0x2dd24a(0xf3)]+'\x22>';var _0x48d6dc=document[_0x2dd24a(0xf5)](_0x2dd24a(0x145));_0x48d6dc['className']=_0x2dd24a(0x123),_0x48d6dc[_0x2dd24a(0x1f2)]='×',_0x48d6dc['addEventListener'](_0x2dd24a(0x1be),function(_0x50fce8){_0x50fce8['stopPropagation'](),removeImg(_0x21abab);}),_0x3233ab[_0x2dd24a(0xeb)](_0x48d6dc),currentImages[_0x21abab]=_0x34ef70,baseItem[_0x2dd24a(0x1d8)]=currentImages[_0x2dd24a(0x1bf)](function(_0x196c42){return _0x196c42;});},_0x2e9e5c[_0x3e959a(0x140)](_0x34ef70);});}(_0x57f532));}}function initializeFormIsSoldIsBought(_0x13651c=0x0){var _0x3f7d71=_0x21dfd7;let _0x4edf9d,_0x389861;if(_0x13651c!=0x0){const _0x220c30=products[_0x3f7d71(0x1b2)](_0x55b45e=>_0x55b45e['id']==_0x13651c);_0x4edf9d=_0x220c30[_0x3f7d71(0x1b0)]==0x1||_0x220c30['setItemIsBought']==!![]?!![]:![],_0x389861=_0x220c30['setItemIsSold']==0x1||_0x220c30['setItemIsSold']==!![]?!![]:![];}else _0x4edf9d=!![],_0x389861=!![];document[_0x3f7d71(0x131)](_0x3f7d71(0x10d))[_0x3f7d71(0x17b)]=_0x4edf9d,document[_0x3f7d71(0x131)]('newItem_chk_sell')[_0x3f7d71(0x17b)]=_0x389861,baseItem[_0x3f7d71(0x1b0)]=_0x4edf9d,baseItem[_0x3f7d71(0x142)]=_0x389861;}function initializeFormInputsBasic(_0x2573ac=0x0){var _0x39756e=_0x21dfd7;let _0x2ca7a7,_0x51a2c2,_0x279012,_0x5bbcbb,_0x4965c4,_0x3c439a;if(_0x2573ac!=0x0){const _0x442d81=products[_0x39756e(0x1b2)](_0xc14b83=>_0xc14b83['id']==_0x2573ac);_0x2ca7a7=_0x442d81[_0x39756e(0x159)]??'1',_0x51a2c2=_0x442d81[_0x39756e(0xd1)],_0x279012=_0x442d81[_0x39756e(0x104)],_0x5bbcbb=_0x442d81['setItemDescription'],_0x4965c4=_0x442d81['setBatchExpirationDate']??'',_0x3c439a=_0x442d81[_0x39756e(0x12c)];}else _0x2ca7a7='1',_0x51a2c2=getNextCode(products),_0x279012='',_0x5bbcbb='',_0x4965c4='',_0x3c439a='';document['getElementById'](_0x39756e(0x162))['value']=_0x2ca7a7,document[_0x39756e(0x131)](_0x39756e(0x1bd))['value']=_0x51a2c2,document[_0x39756e(0x131)]('inputItemName')[_0x39756e(0x197)]=_0x279012,document[_0x39756e(0x131)](_0x39756e(0x1ca))[_0x39756e(0x197)]=_0x5bbcbb,document[_0x39756e(0x131)]('inputItemDateExpiry')['value']=_0x4965c4,document['getElementById'](_0x39756e(0x10c))[_0x39756e(0x197)]=_0x3c439a,baseItem[_0x39756e(0x159)]=_0x2ca7a7,baseItem['setItemCode']=_0x51a2c2,baseItem[_0x39756e(0x192)]=_0x279012,baseItem[_0x39756e(0x112)]=_0x5bbcbb,baseItem[_0x39756e(0x152)]=_0x4965c4,baseItem[_0x39756e(0x12c)]=_0x3c439a,document['getElementById'](_0x39756e(0x147))[_0x39756e(0x17b)]=![];}function initializeFormTax(_0x3dc085=0x0){var _0xf42e6=_0x21dfd7;let _0x4e5df8;if(_0x3dc085!=0x0){const _0x34858d=products[_0xf42e6(0x1b2)](_0x3f21cb=>_0x3f21cb['id']==_0x3dc085);_0x4e5df8=_0x34858d[_0xf42e6(0x1fb)];}else _0x4e5df8=myCompany[_0xf42e6(0x175)];const _0x2dcbf5=document[_0xf42e6(0x131)]('inputItemTax');_0x2dcbf5[_0xf42e6(0x197)]=_0x4e5df8,baseItem[_0xf42e6(0x132)]=_0x4e5df8;const _0xd0442e=company[0x0][_0xf42e6(0x1a6)][_0xf42e6(0x1b2)](_0x1cca80=>_0x1cca80[_0xf42e6(0x1fb)]==_0x4e5df8)?.[_0xf42e6(0xfd)]||0x0,_0x195704=company[0x0][_0xf42e6(0x1a6)][_0xf42e6(0x1b2)](_0x13d8cb=>_0x13d8cb[_0xf42e6(0x1fb)]==_0x4e5df8)?.[_0xf42e6(0x1a1)]||0x0;baseItem['setItemTaxCode']=_0xd0442e,baseItem[_0xf42e6(0x1bc)]=_0x195704;}function initializeFormCategoriesBrands(_0x2f2ef5=0x0){var _0x4e9a1f=_0x21dfd7;baseItem[_0x4e9a1f(0xe1)]=[],baseItem['setItemBrands']=[],document[_0x4e9a1f(0x1a2)](_0x4e9a1f(0x219))[_0x4e9a1f(0x18a)]='',document[_0x4e9a1f(0x1a2)](_0x4e9a1f(0x177))[_0x4e9a1f(0x18a)]='',document['querySelector'](_0x4e9a1f(0x14f))['innerHTML']='',document[_0x4e9a1f(0x1a2)](_0x4e9a1f(0xcc))[_0x4e9a1f(0x18a)]='';const _0x207554=myCompany[_0x4e9a1f(0xe1)][_0x4e9a1f(0x1da)](_0x20a029=>({'setCode':_0x20a029[_0x4e9a1f(0x1b4)],'setName':_0x20a029['setItemCategoryName']})),_0x3c0679=myCompany['setItemBrands'][_0x4e9a1f(0x1da)](_0x1ead60=>({'setCode':_0x1ead60[_0x4e9a1f(0xe4)],'setName':_0x1ead60['setItemBrandName']}));initMulti(_0x4e9a1f(0x1f5),_0x207554),initMulti(_0x4e9a1f(0x207),_0x3c0679),document[_0x4e9a1f(0x131)]('newItem_categories_select')[_0x4e9a1f(0x1e8)]('selectionChange',function(_0x235b53){var _0x4af278=_0x4e9a1f;baseItem['setItemCategories']=_0x235b53[_0x4af278(0x1c4)]['map'](_0x39647f=>_0x39647f[_0x4af278(0xea)]);}),document[_0x4e9a1f(0x131)](_0x4e9a1f(0x207))['addEventListener'](_0x4e9a1f(0x1db),function(_0x4e0a7a){var _0x24d2e7=_0x4e9a1f;baseItem[_0x24d2e7(0xdb)]=_0x4e0a7a[_0x24d2e7(0x1c4)][_0x24d2e7(0x1da)](_0x1b00d4=>_0x1b00d4[_0x24d2e7(0xea)]);});if(_0x2f2ef5!=0x0){const _0xf023bd=products[_0x4e9a1f(0x1b2)](_0x188234=>_0x188234['id']==_0x2f2ef5);if(_0xf023bd[_0x4e9a1f(0x16f)]){const _0x3558d6=document[_0x4e9a1f(0x131)](_0x4e9a1f(0x1f5)),_0x231530=Array[_0x4e9a1f(0x128)](_0x3558d6[_0x4e9a1f(0x210)](_0x4e9a1f(0x20f)))[_0x4e9a1f(0x1b2)](_0xe8038e=>_0xe8038e['dataset'][_0x4e9a1f(0x14e)]==_0xf023bd[_0x4e9a1f(0x16f)]);_0x231530&&_0x231530['click']();}if(_0xf023bd['setMarca']){const _0x588cee=document[_0x4e9a1f(0x131)](_0x4e9a1f(0x207)),_0x5b233a=Array[_0x4e9a1f(0x128)](_0x588cee['querySelectorAll']('.options_list\x20div'))[_0x4e9a1f(0x1b2)](_0x16e8da=>_0x16e8da[_0x4e9a1f(0x139)]['code']==_0xf023bd[_0x4e9a1f(0x113)]);_0x5b233a&&_0x5b233a[_0x4e9a1f(0x1be)]();}}}function initializeFormUnits(){var _0x4c4d36=_0x21dfd7;unitCount=0x0,document['getElementById']('newItem_units_container')[_0x4c4d36(0x18a)]='',baseItem['setItemUnits']=[];var _0x357023=uniqueValuesArray(_0x4c4d36(0x16b),'setUnitName',myCompany[_0x4c4d36(0x115)]);addUnit('',_0x357023[0x3a]&&_0x357023[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x19f689=_0x21dfd7;prodC['innerHTML']='',baseItem[_0x19f689(0x208)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x570faa=_0x21dfd7;branchesC[_0x570faa(0x18a)]='',baseItem[_0x570faa(0x183)]=[];const _0x382d7f=getAllWarehouses();_0x382d7f[_0x570faa(0x148)](function(_0xb02575){var _0x26f054=_0x570faa,_0x16d43e=document[_0x26f054(0xf5)](_0x26f054(0xd7));_0x16d43e[_0x26f054(0x18a)]=_0x26f054(0xef)+_0x26f054(0x215)+_0x26f054(0x19f)+_0xb02575[_0x26f054(0x1c7)]+_0x26f054(0x1c3)+_0xb02575['setWarehouseName']+_0x26f054(0x111)+_0x26f054(0xfe)+'<div\x20class=\x22newItem_col\x22>'+_0x26f054(0x14a)+_0xb02575[_0x26f054(0x1c7)]+'\x22>'+_0x26f054(0xfe)+_0x26f054(0x215)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0xb02575[_0x26f054(0x1c7)]+'\x22>'+_0x26f054(0xfe)+_0x26f054(0xfe),branchesC[_0x26f054(0xeb)](_0x16d43e),_0x16d43e[_0x26f054(0x210)](_0x26f054(0x218))[_0x26f054(0x148)](function(_0xac7e53){var _0x257e93=_0x26f054;_0xac7e53[_0x257e93(0x1e8)]('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x3f6d2e=_0x21dfd7;baseItem[_0x3f6d2e(0x185)]='',baseItem[_0x3f6d2e(0x1ab)]={},vgC['innerHTML']='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x3d2f8d,_0x3646a6,_0x5521f6=![]){var _0x35eee2=_0x21dfd7;const _0x47d965=0xc8,_0x2fca80={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x35eee2(0x153)]};for(let _0x100c75=0x0;_0x100c75<_0x3646a6['length'];_0x100c75+=_0x47d965){const _0x184c2d=_0x3646a6[_0x35eee2(0x1c9)](_0x100c75,_0x100c75+_0x47d965);await storeOfflineProduct({..._0x2fca80,'newItems':_0x184c2d});}products[_0x35eee2(0x1a4)](..._0x3d2f8d),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x35eee2(0x17e)),_0x5521f6?(fileInput[_0x35eee2(0x197)]='',uploadBtn[_0x35eee2(0x1d5)]=!![],statusDiv['textContent']='',progressBar[_0x35eee2(0x1f0)][_0x35eee2(0x19c)]=_0x35eee2(0x126),progressBar[_0x35eee2(0x197)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}