/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.9
*/

const _0x385260=_0x3366;(function(_0x4d1220,_0x3fcc48){const _0x11b2f1=_0x3366,_0x1f005f=_0x4d1220();while(!![]){try{const _0x22590d=parseInt(_0x11b2f1(0x1cc))/0x1*(parseInt(_0x11b2f1(0x17c))/0x2)+parseInt(_0x11b2f1(0x1d7))/0x3*(-parseInt(_0x11b2f1(0x18a))/0x4)+-parseInt(_0x11b2f1(0x172))/0x5+parseInt(_0x11b2f1(0x173))/0x6+parseInt(_0x11b2f1(0x16c))/0x7*(parseInt(_0x11b2f1(0x171))/0x8)+-parseInt(_0x11b2f1(0x1c5))/0x9*(-parseInt(_0x11b2f1(0x193))/0xa)+-parseInt(_0x11b2f1(0x1ea))/0xb;if(_0x22590d===_0x3fcc48)break;else _0x1f005f['push'](_0x1f005f['shift']());}catch(_0x456878){_0x1f005f['push'](_0x1f005f['shift']());}}}(_0x1c1e,0x7ef00));function _0x1c1e(){const _0x561956=['innerHTML','\x2023:59:59','20734SbOLAY','setDescripcion','fill_remove-tag','week','activeElement','{}.constructor(\x22return\x20this\x22)(\x20)','constructor','date-range-label-icon','classList','target','month','padStart','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','\x2000:00:00','140572eeNbTV','getMonth','pdfCanvas','onerror','setMtoPrecioUnitario_input','Error\x20generando\x20PDF:','error','setWarehouseId','active','1050SasmkN','setFloorId','filter-end','includes','application/octet-stream','date-range-options','.fill_ms-input','Mi\x20Empresa','push','exception','setMtoValorGratuito','dispatchEvent','setAccountingAccountCode','smtp.miempresa.com','setTotalImpuestos','setVisible','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','detalleModalOptions','toString','year','setOperationId','Export\x20WK\x20Error:','href','Modo\x20de\x20exportación\x20desconocido:','postMessage','CustomersId:','getElementById','.fill_ms-suggestions','fill-apply-filter','setPorcentajeIgv','slice','whatsapp','(((.+)+)+)+$','search','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','\x20al\x20','filter-start','day','EnvironmentChangeComplete','setCodProducto','className','setUnidad','no-reply@miempresa.com','100%','setCodTipo','split','setDescuento','warn','setMtoValorUnitario_input','setAccountingAccountName','27891AFxVHD','document','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','download','getFullYear','Reporte\x20','getMinutes','61sNkLET','500px','cartId','setMtoBaseIgv','.xlsx','setPorcentajeDesc','setDate','./js/apierp_export_wk.min.js','date-range-label','exportDone','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','42DPTsQx','Operación\x20con\x20ID\x20','BranchesId:','length','readAsDataURL','tagName','log','click','value','setChecked','setNotas','createElement','btn-filter-modal','Selecciona\x20ambas\x20fechas','dataset','display','setMarca','map','currentTarget','6807735maKgRP','blur','change','filtrar','input','btnExport','getAttribute','\x22>&times;</span>','.btn-logout','bind','51954738620','1.5','setTipAfeIgv','toLowerCase','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','block','modalOverlayOptions','textContent','exportReport','filter','info','toISOString','none','setItemFree','console','Invalid\x20range\x20type','querySelector','span','.fill_ms-selected-tags','onload','add','getDate','setInventariable','forEach','style','catch','WarehouseChangeComplete','addEventListener','parentElement','setItemDescription','result','setMtoValorVenta','apply','contains','15743hFUnRR','return\x20(function()\x20','setCantidad','stopPropagation','then','2088ncIrCd','2792180ybdzBm','3866928vIbQXe','Error\x20al\x20enviar\x20por\x20WhatsApp.','fill_ms-tag','YOUR_WA_CRED_ID','trim','\x20no\x20encontrada.','onmessage'];_0x1c1e=function(){return _0x561956;};return _0x1c1e();}const _0x35878d=(function(){let _0x274c78=!![];return function(_0x4d8fae,_0x361943){const _0x3d8db6=_0x274c78?function(){const _0x1a3f8a=_0x3366;if(_0x361943){const _0x5f1f36=_0x361943[_0x1a3f8a(0x16a)](_0x4d8fae,arguments);return _0x361943=null,_0x5f1f36;}}:function(){};return _0x274c78=![],_0x3d8db6;};}()),_0x512445=_0x35878d(this,function(){const _0x12d808=_0x3366;return _0x512445[_0x12d808(0x1a5)]()['search'](_0x12d808(0x1b3))[_0x12d808(0x1a5)]()[_0x12d808(0x182)](_0x512445)[_0x12d808(0x1b4)](_0x12d808(0x1b3));});_0x512445();const _0xf90a75=(function(){let _0x2faa98=!![];return function(_0x1e5cb5,_0x530f6a){const _0x5ebb79=_0x2faa98?function(){if(_0x530f6a){const _0x3eb4f9=_0x530f6a['apply'](_0x1e5cb5,arguments);return _0x530f6a=null,_0x3eb4f9;}}:function(){};return _0x2faa98=![],_0x5ebb79;};}()),_0x4978d8=_0xf90a75(this,function(){const _0x4bea53=_0x3366;let _0x5d49ad;try{const _0x380f35=Function(_0x4bea53(0x16d)+_0x4bea53(0x181)+');');_0x5d49ad=_0x380f35();}catch(_0x29261a){_0x5d49ad=window;}const _0x465603=_0x5d49ad[_0x4bea53(0x158)]=_0x5d49ad[_0x4bea53(0x158)]||{},_0x13e0a2=[_0x4bea53(0x1dd),_0x4bea53(0x1c2),_0x4bea53(0x154),_0x4bea53(0x190),_0x4bea53(0x19c),'table','trace'];for(let _0xa915c2=0x0;_0xa915c2<_0x13e0a2[_0x4bea53(0x1da)];_0xa915c2++){const _0x5600fe=_0xf90a75[_0x4bea53(0x182)]['prototype'][_0x4bea53(0x149)](_0xf90a75),_0x4acf74=_0x13e0a2[_0xa915c2],_0x32c32b=_0x465603[_0x4acf74]||_0x5600fe;_0x5600fe['__proto__']=_0xf90a75[_0x4bea53(0x149)](_0xf90a75),_0x5600fe[_0x4bea53(0x1a5)]=_0x32c32b['toString']['bind'](_0x32c32b),_0x465603[_0x4acf74]=_0x5600fe;}});_0x4978d8();const fil_init_dates=document[_0x385260(0x1ad)](_0x385260(0x183)),label=document['getElementById'](_0x385260(0x1d4)),options=document['getElementById'](_0x385260(0x198));document[_0x385260(0x1ad)](_0x385260(0x1e3))[_0x385260(0x165)](_0x385260(0x1de),_0x4cac91=>{showModalOptions();});function showModalOptions(){const _0x3738bc=_0x385260,_0x4e8e43=document[_0x3738bc(0x1ad)](_0x3738bc(0x1a4)),_0x62f16b=document[_0x3738bc(0x1ad)](_0x3738bc(0x150));_0x4e8e43[_0x3738bc(0x184)][_0x3738bc(0x15e)](_0x3738bc(0x192)),_0x62f16b['style'][_0x3738bc(0x1e6)]=_0x3738bc(0x14f);}function hideModalOptions(){const _0x552f1c=_0x385260,_0x47847b=document[_0x552f1c(0x1ad)]('detalleModalOptions'),_0x4997bb=document[_0x552f1c(0x1ad)](_0x552f1c(0x150));_0x47847b[_0x552f1c(0x184)]['remove'](_0x552f1c(0x192)),_0x4997bb[_0x552f1c(0x162)]['display']=_0x552f1c(0x156);}document[_0x385260(0x1ad)]('closeModalOptions')[_0x385260(0x165)](_0x385260(0x1de),hideModalOptions),document['getElementById'](_0x385260(0x150))['addEventListener'](_0x385260(0x1de),_0x22b364=>{const _0x43d5c9=_0x385260;_0x22b364[_0x43d5c9(0x185)]==_0x22b364[_0x43d5c9(0x1e9)]&&_0x22b364[_0x43d5c9(0x16f)]();});function fill_initMultiSelect({containerSelector:_0x19d0da,dataSource:_0x5841fe,mapItem:_0x16720e,filterArray:_0x42252d}){const _0x379407=_0x385260,_0x53e60f=document[_0x379407(0x15a)](_0x19d0da),_0x53c5d5=_0x53e60f['querySelector'](_0x379407(0x199)),_0x22f600=_0x53e60f[_0x379407(0x15a)](_0x379407(0x1ae)),_0x523545=_0x53e60f[_0x379407(0x15a)](_0x379407(0x15c));function _0x5bab0e(){const _0x1ece09=_0x379407,_0x5c12f3=_0x53c5d5[_0x1ece09(0x1df)][_0x1ece09(0x177)]()[_0x1ece09(0x14d)]();_0x22f600[_0x1ece09(0x17a)]='';if(!_0x5c12f3)return;const _0x19f9ec=_0x5841fe[_0x1ece09(0x153)](_0x45e3b7=>{const _0x1d3f4d=_0x1ece09,{id:_0x3acb50,text:_0x29c887}=_0x16720e(_0x45e3b7);return _0x29c887[_0x1d3f4d(0x14d)]()[_0x1d3f4d(0x196)](_0x5c12f3)&&!_0x42252d['includes'](_0x3acb50);})['slice'](0x0,0xa);_0x19f9ec[_0x1ece09(0x161)](_0x1eb17c=>{const _0x34f9fd=_0x1ece09,{id:_0x597e08,text:_0x198a30}=_0x16720e(_0x1eb17c),_0x391406=document[_0x34f9fd(0x1e2)]('li');_0x391406[_0x34f9fd(0x151)]=_0x198a30,_0x391406[_0x34f9fd(0x1e5)]['id']=_0x597e08,_0x22f600['appendChild'](_0x391406);});}function _0x3f72d5(_0x3a902b,_0x1ed837){const _0x261fef=_0x379407;_0x42252d[_0x261fef(0x19b)](_0x3a902b);const _0x34e579=document[_0x261fef(0x1e2)](_0x261fef(0x15b));_0x34e579[_0x261fef(0x1bb)]=_0x261fef(0x175),_0x34e579[_0x261fef(0x17a)]=_0x1ed837+'\x20<span\x20class=\x22fill_remove-tag\x22\x20data-id=\x22'+_0x3a902b+_0x261fef(0x147),_0x523545['appendChild'](_0x34e579);}_0x22f600[_0x379407(0x165)]('mousedown',_0x355f72=>{const _0x5d763f=_0x379407;if(_0x355f72[_0x5d763f(0x185)][_0x5d763f(0x1dc)]!=='LI')return;const _0x50b9cc=Number(_0x355f72['target'][_0x5d763f(0x1e5)]['id']),_0x247c41=_0x355f72['target'][_0x5d763f(0x151)];_0x3f72d5(_0x50b9cc,_0x247c41),_0x53c5d5[_0x5d763f(0x1df)]='',_0x22f600[_0x5d763f(0x17a)]='',_0x355f72['preventDefault']();}),_0x523545[_0x379407(0x165)]('click',_0x238023=>{const _0x1f8bec=_0x379407;if(!_0x238023[_0x1f8bec(0x185)][_0x1f8bec(0x184)]['contains'](_0x1f8bec(0x17e)))return;const _0x401a31=parseInt(_0x238023[_0x1f8bec(0x185)]['dataset']['id'],0xa),_0x454af7=_0x42252d['indexOf'](_0x401a31);if(_0x454af7>-0x1)_0x42252d['splice'](_0x454af7,0x1);_0x238023[_0x1f8bec(0x185)][_0x1f8bec(0x166)]['remove']();}),_0x53c5d5[_0x379407(0x165)](_0x379407(0x144),_0x5bab0e),_0x53c5d5[_0x379407(0x165)](_0x379407(0x1eb),()=>{setTimeout(()=>{const _0xcf069f=_0x3366;!_0x53e60f[_0xcf069f(0x16b)](document[_0xcf069f(0x180)])&&(_0x22f600[_0xcf069f(0x17a)]='');},0x64);});}document[_0x385260(0x1ad)](_0x385260(0x1af))[_0x385260(0x165)](_0x385260(0x1de),async()=>{const _0x47beec=_0x385260,_0x85d40e=document[_0x47beec(0x1ad)](_0x47beec(0x1b7))['value'],_0x5eb090=document['getElementById'](_0x47beec(0x195))[_0x47beec(0x1df)];if(!_0x85d40e||!_0x5eb090)return alert(_0x47beec(0x1e4));hideModalOptions(),fil_date_start=_0x85d40e+_0x47beec(0x189),fil_date_end=_0x5eb090+_0x47beec(0x17b),console[_0x47beec(0x1dd)](_0x47beec(0x1ac),fil_CustomersId),console['log']('OperationsType:',fil_OperationsType),console[_0x47beec(0x1dd)](_0x47beec(0x1d9),fil_BranchesId),consultIncomeReport('100%',_0x47beec(0x1cd),_0x47beec(0x1be),'500px',_0x47beec(0x1be),_0x47beec(0x1cd));}),label[_0x385260(0x165)]('click',()=>{const _0x296afe=_0x385260;options[_0x296afe(0x162)][_0x296afe(0x1e6)]=options[_0x296afe(0x162)][_0x296afe(0x1e6)]===_0x296afe(0x156)?_0x296afe(0x14f):_0x296afe(0x156);}),options['addEventListener'](_0x385260(0x1de),_0x2caedb=>{const _0x29dd03=_0x385260;if(_0x2caedb['target']&&_0x2caedb[_0x29dd03(0x185)][_0x29dd03(0x1dc)]==='LI'){const _0x4fcf3a=_0x2caedb[_0x29dd03(0x185)][_0x29dd03(0x146)]('data-value');updateDateRange(_0x4fcf3a),options['style']['display']='none';}}),document[_0x385260(0x165)]('click',_0x1100a8=>{const _0x410bcc=_0x385260;!label[_0x410bcc(0x16b)](_0x1100a8['target'])&&!options[_0x410bcc(0x16b)](_0x1100a8['target'])&&(options[_0x410bcc(0x162)][_0x410bcc(0x1e6)]=_0x410bcc(0x156));});function formatDateToYmdHis(_0x2eb9e5){const _0x4b2a9f=_0x385260,_0x3f6fdb=_0x2eb9e5[_0x4b2a9f(0x1c9)](),_0x284c5d=String(_0x2eb9e5['getMonth']()+0x1)[_0x4b2a9f(0x187)](0x2,'0'),_0x2ad8a2=String(_0x2eb9e5[_0x4b2a9f(0x15f)]())['padStart'](0x2,'0'),_0x543736=String(_0x2eb9e5['getHours']())[_0x4b2a9f(0x187)](0x2,'0'),_0xa78aa1=String(_0x2eb9e5[_0x4b2a9f(0x1cb)]())[_0x4b2a9f(0x187)](0x2,'0'),_0x457a9a=String(_0x2eb9e5['getSeconds']())[_0x4b2a9f(0x187)](0x2,'0');return _0x3f6fdb+'-'+_0x284c5d+'-'+_0x2ad8a2+'\x20'+_0x543736+':'+_0xa78aa1+':'+_0x457a9a;}function getDateRange(_0x29adff){const _0x4efb42=_0x385260,_0x35760b=new Date();let _0xa58164,_0x2bc9b3;switch(_0x29adff){case'day':_0xa58164=new Date(_0x35760b[_0x4efb42(0x1c9)](),_0x35760b[_0x4efb42(0x18b)](),_0x35760b[_0x4efb42(0x15f)](),0x0,0x0,0x0),_0x2bc9b3=new Date(_0x35760b['getFullYear'](),_0x35760b[_0x4efb42(0x18b)](),_0x35760b[_0x4efb42(0x15f)](),0x17,0x3b,0x3b),label[_0x4efb42(0x17a)]=_0x4efb42(0x14e);break;case _0x4efb42(0x17f):const _0x2627e4=_0x35760b['getDay'](),_0x95091d=new Date(_0x35760b);_0x95091d['setDate'](_0x35760b[_0x4efb42(0x15f)]()-_0x2627e4+(_0x2627e4===0x0?-0x6:0x1));const _0x186e1a=new Date(_0x95091d);_0x186e1a[_0x4efb42(0x1d2)](_0x95091d[_0x4efb42(0x15f)]()+0x6),_0xa58164=new Date(_0x95091d['getFullYear'](),_0x95091d['getMonth'](),_0x95091d[_0x4efb42(0x15f)](),0x0,0x0,0x0),_0x2bc9b3=new Date(_0x186e1a[_0x4efb42(0x1c9)](),_0x186e1a['getMonth'](),_0x186e1a[_0x4efb42(0x15f)](),0x17,0x3b,0x3b),label[_0x4efb42(0x17a)]=_0x4efb42(0x1d6);break;case _0x4efb42(0x186):_0xa58164=new Date(_0x35760b[_0x4efb42(0x1c9)](),_0x35760b[_0x4efb42(0x18b)](),0x1,0x0,0x0,0x0),_0x2bc9b3=new Date(_0x35760b['getFullYear'](),_0x35760b['getMonth']()+0x1,0x0,0x17,0x3b,0x3b),label[_0x4efb42(0x17a)]='del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x4efb42(0x1a6):_0xa58164=new Date(_0x35760b[_0x4efb42(0x1c9)](),0x0,0x1,0x0,0x0,0x0),_0x2bc9b3=new Date(_0x35760b[_0x4efb42(0x1c9)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x4efb42(0x17a)]=_0x4efb42(0x188);break;default:label[_0x4efb42(0x17a)]='';throw new Error(_0x4efb42(0x159));}return{'startDateFormatted':formatDateToYmdHis(_0xa58164),'endDateFormatted':formatDateToYmdHis(_0x2bc9b3)};}function updateDateRange(_0x183851=_0x385260(0x1b8)){const _0x23bf6b=_0x385260;if(_0x183851==_0x23bf6b(0x1ed)){}else{const {startDateFormatted:_0x3d48a8,endDateFormatted:_0x11daea}=getDateRange(_0x183851);fil_date_start=_0x3d48a8,fil_date_end=_0x11daea,consultIncomeReport(_0x23bf6b(0x1be),_0x23bf6b(0x1cd),_0x23bf6b(0x1be),'500px',_0x23bf6b(0x1be),_0x23bf6b(0x1cd));}}async function setOptionsReport(_0x24ef5d){const _0x30bbf0=_0x385260,_0x3722e5=arrayIncomes['find'](_0x59d45e=>_0x59d45e[_0x30bbf0(0x1a7)]==_0x24ef5d);if(!_0x3722e5){console[_0x30bbf0(0x190)](_0x30bbf0(0x1d8)+_0x24ef5d+_0x30bbf0(0x178));return;}const [_0x26a644]=buildIncomePayloads([_0x3722e5]);console[_0x30bbf0(0x1dd)](_0x26a644);try{const {pdfBlob:_0x3fbc60,pdfName:_0x1c56be}=await generatePdf(_0x26a644,'tk',_0x30bbf0(0x18c),_0x30bbf0(0x14b)),_0x4d6607=0x1;setLastOperationGlobalData(_0x4d6607,{'pdfGlobalPayload':_0x26a644,'pdfGlobalBlob':_0x3fbc60,'pdfGlobalName':_0x1c56be}),showModal();}catch(_0x46c7d2){console[_0x30bbf0(0x190)](_0x30bbf0(0x18f),_0x46c7d2);}}function buildIncomePayloads(_0x406fad){const _0x35a07d=_0x385260;return _0x406fad[_0x35a07d(0x1e8)](_0x16612b=>{const _0x39dbff=_0x35a07d,{setOperationId:_0x387656,setOperationDateTime:_0x40035d,setOperationType:_0x2e010b,setOperationSeries:_0xa84e54,setOperationTotal:_0x4b8a44,setOperationCurrency:_0x409815,setOperationCustomerName:_0x31b69d,setOperationPaymentStatusName:_0x43828a,setOperationPaymentStatusColor:_0x40e027,setOperationItems:setOperationItems=[]}=_0x16612b,_0x370979=new Date(_0x40035d),_0x2a437e=_0x370979[_0x39dbff(0x155)]()[_0x39dbff(0x1c0)]('T')[0x0],_0x5dc57f=_0x370979['toTimeString']()[_0x39dbff(0x1c0)]('\x20')[0x0],[_0x1193e5,_0x1db42e]=(_0xa84e54||'')[_0x39dbff(0x1c0)]('-'),_0x1eafb3=Number(_0x1db42e)||0x0,_0x45c43d=setOperationItems[_0x39dbff(0x1e8)](_0x323d39=>({'cartId':_0x323d39[_0x39dbff(0x1ce)]||'','id':_0x323d39['id']||0x0,'setAccountingAccountCode':_0x323d39[_0x39dbff(0x19f)]||'','setAccountingAccountId':_0x323d39['setAccountingAccountId']||0x0,'setAccountingAccountName':_0x323d39[_0x39dbff(0x1c4)]||'','setAccountingAccountType':_0x323d39['setAccountingAccountType']||0x0,'setCantidad':_0x323d39[_0x39dbff(0x16e)]||0x0,'setChecked':_0x323d39[_0x39dbff(0x1e0)]||0x0,'setCodProducto':_0x323d39[_0x39dbff(0x1ba)]||'','setDescripcion':_0x323d39[_0x39dbff(0x17d)]||'','setDescuento':{'setCodTipo':_0x323d39[_0x39dbff(0x1c1)]&&_0x323d39[_0x39dbff(0x1c1)][_0x39dbff(0x1bf)]||'','setPorcentajeDesc':_0x323d39[_0x39dbff(0x1c1)]&&_0x323d39[_0x39dbff(0x1c1)][_0x39dbff(0x1d1)]||0x0},'setIdProducto':_0x323d39['setIdProducto']||0x0,'setIgv':_0x323d39['setIgv']||0x0,'setInventariable':_0x323d39[_0x39dbff(0x160)]||0x0,'setItemDescription':_0x323d39[_0x39dbff(0x167)]||'','setItemFree':_0x323d39[_0x39dbff(0x157)]||0x0,'setMarca':_0x323d39[_0x39dbff(0x1e7)]||'','setMtoBaseIgv':_0x323d39[_0x39dbff(0x1cf)]||0x0,'setMtoPrecioCostoUnitario_input':_0x323d39['setMtoPrecioCostoUnitario_input']||0x0,'setMtoPrecioUnitario':_0x323d39['setMtoPrecioUnitario']||0x0,'setMtoPrecioUnitario_final':_0x323d39['setMtoPrecioUnitario_final']||0x0,'setMtoPrecioUnitario_input':_0x323d39[_0x39dbff(0x18e)]||'','setMtoValorCostoUnitario_input':_0x323d39['setMtoValorCostoUnitario_input']||0x0,'setMtoValorGratuito':_0x323d39[_0x39dbff(0x19d)]||0x0,'setMtoValorUnitario':_0x323d39['setMtoValorUnitario']||0x0,'setMtoValorUnitario_final':_0x323d39['setMtoValorUnitario_final']||0x0,'setMtoValorUnitario_input':_0x323d39[_0x39dbff(0x1c3)]||'','setMtoValorVenta':_0x323d39[_0x39dbff(0x169)]||0x0,'setNotas':_0x323d39[_0x39dbff(0x1e1)]||'','setOrderId':_0x323d39['setOrderId']||'','setPorcentajeIgv':_0x323d39[_0x39dbff(0x1b0)]||0x0,'setTaxId':_0x323d39['setTaxId']||0x0,'setTipAfeIgv':_0x323d39[_0x39dbff(0x14c)]||'','setTotal':_0x323d39['setTotal']||0x0,'setTotalImpuestos':_0x323d39[_0x39dbff(0x1a1)]||0x0,'setUnidad':_0x323d39[_0x39dbff(0x1bc)]||'','setVisible':_0x323d39[_0x39dbff(0x1a2)]||0x0,'setWindowShiftId':_0x323d39['setWindowShiftId']||''}));return{'apiPOSsendOffline':0x0,'id':_0x387656,'setAttachEdit':'1','setBranchAddress':'','setCashierId':'','setCashierName':'','setClientSupplierDistrict':'','setClienteDenominacion':_0x31b69d||'','setClienteDireccion':'','setClienteNumDoc':'','setClienteTipoDoc':'','setSerie':_0x1193e5||'','setCorrelativo':_0x1eafb3,'setCurrencyName':_0x409815||'','setCurrencySymbol':'','setCustomerEmail':'','setCustomerPhone':'','setDescuentoGlobal_Monto':'','setDespacho':'','setDetraccion':'','setDetraccionCodigo':'','setDetraccionCodigoName':'','setDetraccionPorcentaje':'','setDetraccionTotal':'','setDocumentType':_0x2e010b||'','setEnvironmentName':'','setFechaHora':_0x2a437e+'T'+_0x5dc57f,'setFechaHoraReadonly':'','setIdOperation':'','setLastFechaHora':new Date(),'setMedioPago':{'contado':{'data':{},'status':![]},'credito':{'data':null,'status':![]},'mixto':{'data':null,'status':![]}},'setMoneda':_0x409815||'','setMtoDescItems':0x0,'setMtoDescItems_precio':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setMtoImpVenta':_0x4b8a44||0x0,'setMtoOperExoneradas':0x0,'setMtoOperGratuitas':0x0,'setMtoOperGravadas':0x0,'setMtoOperInafectas':0x0,'setObservacion':'','setOperationDateExpiration':'','setOperationDateTransfer':'','setOperationDriverCertificate':'','setOperationDriverDocNumber':'','setOperationDriverDocType':'','setOperationDriverId':'','setOperationDriverLicense':'','setOperationDriverName':'','setOperationMaintenanceNextDate':'','setOperationMileage':'','setOperationOrderType':'','setOperationPlaceArrivalAddress':'','setOperationPlaceArrivalCode':'','setOperationPlaceArrivalDistrict':'','setOperationPlaceArrivalId':'','setOperationPlaceStartAddress':'','setOperationPlaceStartCode':'','setOperationPlaceStartDistrict':'','setOperationPlaceStartId':'','setOperationTransferReason':'','setOperationTransportationMode':'','setOperationVehicleBrand':'','setOperationVehicleId':'','setOperationVehicleName':'','setOperationVehiclePlate':'','setPercepcion':'','setPercepcionPorcentaje':'','setPercepcionTotal':'','setProductos':_0x45c43d,'setRetencion':'','setRetencionPorcentaje':'','setRetencionTotal':'','setSellerId':'','setSellerName':'','setShiftId':'','setSubTotal':0x0,'setSucursalCodigo':'','setSucursalNombre':'','setTipoOperacion':'2','setTipoOperacionInvoice':'1','setToken':'','setTotalImpuestos':0x0,'setValorVenta':0x0,'setWarehouseId':'','setWarehouseName':'','setWebhook':'','setWindowName':'','setWindowShiftId':'','setWindowType':'','windowId':'1'};});}let currentExportMode=_0x385260(0x1c8);const WA_CRED_ID=_0x385260(0x176),WA_DEST_NUMBER=_0x385260(0x14a),EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME=_0x385260(0x19a),EMAIL_SENDER_ADDR=_0x385260(0x1bd),EMAIL_SENDER_PASS='PASSWORD123',EMAIL_SMTP_HOST=_0x385260(0x1a0),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0x385260(0x1d3));reportWorker[_0x385260(0x179)]=({data:_0x569490})=>{const _0x41d9ec=_0x385260,{type:_0x30e150,payload:_0x894759,reportType:_0x4941b6}=_0x569490;if(_0x30e150===_0x41d9ec(0x1d5)){const _0x26dca9=new Blob([_0x894759],{'type':_0x41d9ec(0x197)}),_0x4ac6e7=new Date()['toISOString']()[_0x41d9ec(0x1b1)](0x0,0xa),_0x10ef8b=_0x4941b6+'_'+_0x4ac6e7+_0x41d9ec(0x1d0),_0x5c6c7e=_0x35738f=>new Promise((_0x46d8d4,_0x49fd50)=>{const _0x555d89=_0x41d9ec,_0x2af50f=new FileReader();_0x2af50f[_0x555d89(0x18d)]=()=>_0x49fd50(_0x2af50f[_0x555d89(0x190)]),_0x2af50f[_0x555d89(0x15d)]=()=>_0x46d8d4(_0x2af50f[_0x555d89(0x168)][_0x555d89(0x1c0)](',')[0x1]),_0x2af50f[_0x555d89(0x1db)](_0x35738f);});switch(currentExportMode){case _0x41d9ec(0x1c8):{const _0x48db3d=URL['createObjectURL'](_0x26dca9),_0x2877bf=document[_0x41d9ec(0x1e2)]('a');_0x2877bf[_0x41d9ec(0x1a9)]=_0x48db3d,_0x2877bf[_0x41d9ec(0x1c8)]=_0x10ef8b,_0x2877bf[_0x41d9ec(0x1de)](),URL['revokeObjectURL'](_0x48db3d);}break;case _0x41d9ec(0x1b2):{_0x5c6c7e(_0x26dca9)['then'](_0x4bfc60=>{const _0xee8bb7=_0x41d9ec;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0xee8bb7(0x1c6),_0x4bfc60,'Reporte\x20'+_0x4941b6+_0xee8bb7(0x1b6)+_0x4ac6e7,_0x10ef8b,_0xee8bb7(0x1a3))[_0xee8bb7(0x163)](_0x3ddedd=>{const _0x3d676e=_0xee8bb7;console[_0x3d676e(0x190)]('Error\x20WA:',_0x3ddedd),ntfShow(_0x3d676e(0x174));});});}break;case'email':{_0x5c6c7e(_0x26dca9)[_0x41d9ec(0x170)](_0x3eeb90=>{const _0x159bb7=_0x41d9ec;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x4941b6+'\x20-\x20'+_0x4ac6e7,_0x159bb7(0x1b5),[{'filename':_0x10ef8b,'content':_0x3eeb90,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;case'both':{_0x5c6c7e(_0x26dca9)['then'](_0x18ad62=>{const _0x267d95=_0x41d9ec;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x267d95(0x1c6),_0x18ad62,_0x267d95(0x1ca)+_0x4941b6+_0x267d95(0x1b6)+_0x4ac6e7,_0x10ef8b,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')['catch'](_0x1c6bed=>console[_0x267d95(0x190)]('Error\x20WA:',_0x1c6bed)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x267d95(0x1ca)+_0x4941b6+'\x20-\x20'+_0x4ac6e7,_0x267d95(0x1b5),[{'filename':_0x10ef8b,'content':_0x18ad62,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console['error'](_0x41d9ec(0x1aa),currentExportMode);}}_0x30e150===_0x41d9ec(0x190)&&(console[_0x41d9ec(0x190)](_0x41d9ec(0x1a8),_0x894759),ntfShow('Error\x20al\x20exportar.'));},document[_0x385260(0x1ad)](_0x385260(0x145))[_0x385260(0x165)](_0x385260(0x1de),()=>{const _0x1b0cb4=_0x385260;onClickExport(_0x1b0cb4(0x1c8));});function _0x3366(_0xfc6c93,_0x2eb52f){const _0x4a9c20=_0x1c1e();return _0x3366=function(_0x4978d8,_0xf90a75){_0x4978d8=_0x4978d8-0x144;let _0x69f6cd=_0x4a9c20[_0x4978d8];return _0x69f6cd;},_0x3366(_0xfc6c93,_0x2eb52f);}function onClickExport(_0x2fa399=_0x385260(0x1c8)){const _0x29be35=_0x385260;if(!Array['isArray'](arrayIncomes)||!arrayIncomes[_0x29be35(0x1da)])return ntfShow(_0x29be35(0x1c7));currentExportMode=_0x2fa399;const _0x5e15f1=arrayIncomes[_0x29be35(0x1e8)](_0x5352c7=>{const _0x2fb2fa=_0x29be35,[_0x4d5ae1]=_0x5352c7['setOperationDateTime'][_0x2fb2fa(0x1c0)]('\x20'),[_0x627229,_0x9216a6,_0x29dadf]=_0x4d5ae1['split']('-');return{'Periodo':''+_0x627229+_0x9216a6,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x29dadf+'/'+_0x9216a6+'/'+_0x627229,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x5352c7['setOperationCurrency'],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x29be35(0x1ab)]({'action':_0x29be35(0x152),'reportType':'PLE_Ventas','report':_0x5e15f1});}window[_0x385260(0x15d)]=function(){const _0x3cbf52=_0x385260,_0x3ebacd=0x3;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x5ed2ef=document[_0x3cbf52(0x15a)](_0x3cbf52(0x148));_0x5ed2ef&&_0x5ed2ef[_0x3cbf52(0x165)]('click',function(){logoutReload(0x0,_0x3ebacd);}),document['getElementById']('setBranchId')[_0x3cbf52(0x165)](_0x3cbf52(0x1ec),async function(){const _0x546862=_0x3cbf52,_0x53a9b7=parseInt(this[_0x546862(0x1df)]);myCompany['setBranchDefault']=_0x53a9b7;const _0xc66f52=await createCartStore('');await saveCompanyToIndexedDB(company,_0xc66f52),await cargarPisos(_0x53a9b7),await waitForEvent(_0x546862(0x194),_0x546862(0x1b9)),await cargarAlmacenes(_0x53a9b7),await waitForEvent(_0x546862(0x191),_0x546862(0x164)),document[_0x546862(0x19e)](new Event('BranchChangeComplete')),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x546862(0x19b)](_0x53a9b7),consultIncomeReport(_0x546862(0x1be),_0x546862(0x1cd),_0x546862(0x1be),_0x546862(0x1cd),_0x546862(0x1be),'500px');}),document['getElementById'](_0x3cbf52(0x191))['addEventListener'](_0x3cbf52(0x1ec),async function(){const _0x2d1cd2=_0x3cbf52;document[_0x2d1cd2(0x19e)](new Event(_0x2d1cd2(0x164)));}),document[_0x3cbf52(0x1ad)](_0x3cbf52(0x194))['addEventListener'](_0x3cbf52(0x1ec),async function(_0x2da7ac){const _0x502e63=_0x3cbf52;document['dispatchEvent'](new Event(_0x502e63(0x1b9)));}),loadCartAndSetTabCount(_0x3ebacd);};