/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.7
*/

var _0x9d1244=_0x57d6;(function(_0x4f58d3,_0x24e65a){var _0x45df8b=_0x57d6,_0x360fbf=_0x4f58d3();while(!![]){try{var _0x2a5a3c=parseInt(_0x45df8b(0x1dd))/0x1*(parseInt(_0x45df8b(0x295))/0x2)+parseInt(_0x45df8b(0x17b))/0x3+parseInt(_0x45df8b(0x266))/0x4+-parseInt(_0x45df8b(0x224))/0x5*(parseInt(_0x45df8b(0x232))/0x6)+-parseInt(_0x45df8b(0x19e))/0x7*(-parseInt(_0x45df8b(0x275))/0x8)+parseInt(_0x45df8b(0x25a))/0x9+-parseInt(_0x45df8b(0x1e7))/0xa;if(_0x2a5a3c===_0x24e65a)break;else _0x360fbf['push'](_0x360fbf['shift']());}catch(_0x1c3d7a){_0x360fbf['push'](_0x360fbf['shift']());}}}(_0x88c5,0x928a8));var _0x7a0e57=(function(){var _0x13fefd=!![];return function(_0xa96ec6,_0x35bd27){var _0x62b797=_0x13fefd?function(){if(_0x35bd27){var _0x2894af=_0x35bd27['apply'](_0xa96ec6,arguments);return _0x35bd27=null,_0x2894af;}}:function(){};return _0x13fefd=![],_0x62b797;};}()),_0x53fb6d=_0x7a0e57(this,function(){var _0x35cb3a=_0x57d6;return _0x53fb6d['toString']()['search'](_0x35cb3a(0x233))[_0x35cb3a(0x257)]()[_0x35cb3a(0x205)](_0x53fb6d)[_0x35cb3a(0x1f9)](_0x35cb3a(0x233));});_0x53fb6d();var _0x2e490f=(function(){var _0x5be22a=!![];return function(_0x45025e,_0x4c9c18){var _0x4b8f39=_0x5be22a?function(){var _0x382e9b=_0x57d6;if(_0x4c9c18){var _0x3a738a=_0x4c9c18[_0x382e9b(0x235)](_0x45025e,arguments);return _0x4c9c18=null,_0x3a738a;}}:function(){};return _0x5be22a=![],_0x4b8f39;};}()),_0x4c7791=_0x2e490f(this,function(){var _0x52f333=_0x57d6,_0x3afe9d;try{var _0x1b7154=Function(_0x52f333(0x292)+_0x52f333(0x265)+');');_0x3afe9d=_0x1b7154();}catch(_0xd493b8){_0x3afe9d=window;}var _0x7b87ba=_0x3afe9d[_0x52f333(0x1ac)]=_0x3afe9d[_0x52f333(0x1ac)]||{},_0x491b21=[_0x52f333(0x24f),'warn',_0x52f333(0x297),'error',_0x52f333(0x1c8),_0x52f333(0x1a3),_0x52f333(0x1af)];for(var _0xba2aba=0x0;_0xba2aba<_0x491b21['length'];_0xba2aba++){var _0x17f9ff=_0x2e490f[_0x52f333(0x205)][_0x52f333(0x200)]['bind'](_0x2e490f),_0x342513=_0x491b21[_0xba2aba],_0x59953c=_0x7b87ba[_0x342513]||_0x17f9ff;_0x17f9ff[_0x52f333(0x1a0)]=_0x2e490f[_0x52f333(0x186)](_0x2e490f),_0x17f9ff[_0x52f333(0x257)]=_0x59953c[_0x52f333(0x257)]['bind'](_0x59953c),_0x7b87ba[_0x342513]=_0x17f9ff;}});_0x4c7791();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x9d1244(0x1fc)](_0x9d1244(0x24a)),unitCount=0x0,branchesC=document[_0x9d1244(0x1fc)](_0x9d1244(0x294)),prodC=document['getElementById'](_0x9d1244(0x20d)),vgCount=0x0,varContainer=document[_0x9d1244(0x1fc)](_0x9d1244(0x2a5)),vgC=document[_0x9d1244(0x1fc)]('newItem_variant_groups');const fileInput=document[_0x9d1244(0x1fc)](_0x9d1244(0x1cd)),progressBar=document[_0x9d1244(0x1fc)]('progress'),statusDiv=document['getElementById']('status'),uploadBtn=document[_0x9d1244(0x1fc)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x9d1244(0x271)),dropZone=document[_0x9d1244(0x1fc)]('drop-zone'),removeBtn=document[_0x9d1244(0x1fc)](_0x9d1244(0x17e));function showModalCreateItem(_0x35b97b){var _0x491ce3=_0x9d1244;const _0xfcf66f=document[_0x491ce3(0x1fc)](_0x491ce3(0x273)),_0x5bcf73=document[_0x491ce3(0x1fc)]('modalOverlayCreateItem');_0xfcf66f[_0x491ce3(0x1ed)][_0x491ce3(0x27d)](_0x491ce3(0x28d)),_0x5bcf73['style'][_0x491ce3(0x262)]=_0x491ce3(0x296);const _0x40c8f=document[_0x491ce3(0x1fc)]('setItemFree');_0x40c8f['value']=parseInt(_0x35b97b),baseItem[_0x491ce3(0x17d)]=parseInt(_0x35b97b);const _0x5cf9cf=document['getElementById'](_0x491ce3(0x226));_0x35b97b==0x0&&(_0x5cf9cf['innerHTML']='Nuevo\x20Producto');_0x35b97b==0x1&&(_0x5cf9cf[_0x491ce3(0x234)]=_0x491ce3(0x1ce));const _0x17a4ff=document[_0x491ce3(0x255)](_0x491ce3(0x1fa));for(let _0x19a450=0x0;_0x19a450<_0x17a4ff[_0x491ce3(0x1f0)];_0x19a450++){const _0xbbad7f=_0x17a4ff[_0x19a450];if(_0x35b97b==0x0)_0xbbad7f[_0x491ce3(0x1ed)][_0x491ce3(0x1fe)]('hidden');else _0x35b97b==0x1&&_0xbbad7f[_0x491ce3(0x1ed)][_0x491ce3(0x27d)]('hidden');}}function hideModalCreateItem(){var _0x48d16f=_0x9d1244;const _0x4f7e71=document['getElementById'](_0x48d16f(0x273)),_0x31be2f=document['getElementById']('modalOverlayCreateItem');_0x4f7e71[_0x48d16f(0x1ed)][_0x48d16f(0x1fe)](_0x48d16f(0x28d)),_0x31be2f[_0x48d16f(0x1f1)][_0x48d16f(0x262)]='none';}document['getElementById'](_0x9d1244(0x1b4))[_0x9d1244(0x29f)](_0x9d1244(0x1de),hideModalCreateItem),document['getElementById'](_0x9d1244(0x182))['addEventListener'](_0x9d1244(0x1de),_0x249b00=>{var _0x5b2ba1=_0x9d1244;_0x249b00['target']==_0x249b00[_0x5b2ba1(0x289)]&&_0x249b00[_0x5b2ba1(0x1be)]();});function loadTaxData(){var _0x28cde1=_0x9d1244;const _0x55faa7=document[_0x28cde1(0x1fc)](_0x28cde1(0x26c));_0x55faa7[_0x28cde1(0x234)]='',company[0x0][_0x28cde1(0x24d)][_0x28cde1(0x1c9)](function(_0x4a5903){var _0x560c55=_0x28cde1;const _0x36d1e6=document['createElement'](_0x560c55(0x206));_0x36d1e6['value']=_0x4a5903[_0x560c55(0x23c)],_0x36d1e6[_0x560c55(0x234)]=_0x4a5903['setImpuestoName']+'\x20('+_0x4a5903[_0x560c55(0x22c)]+'%)',_0x4a5903[_0x560c55(0x23c)]==company[0x0][_0x560c55(0x199)]&&(_0x36d1e6[_0x560c55(0x27f)]=!![]),_0x55faa7[_0x560c55(0x21d)](_0x36d1e6);});}function uniqueValuesArray(_0x2683e7,_0x1ca78f,_0x14d1e4){var _0xdd6609=_0x9d1244;const _0x45a426=Array[_0xdd6609(0x221)](new Set(_0x14d1e4[_0xdd6609(0x1aa)](_0x332038=>{var _0x1b350a=_0xdd6609;const _0x4068b5=_0x332038[_0x2683e7];return typeof _0x4068b5==='string'?_0x4068b5[_0x1b350a(0x23a)]():_0x4068b5;})['filter'](_0x244583=>_0x244583!=null&&_0x244583!=='')));return _0x45a426['map'](_0x225a38=>{var _0x51d013=_0xdd6609;const _0x54a0b3=_0x14d1e4[_0x51d013(0x191)](_0x527412=>_0x527412[_0x2683e7]===_0x225a38),_0x240bfb=_0x54a0b3&&_0x54a0b3[_0x1ca78f]!=null?String(_0x54a0b3[_0x1ca78f])[_0x51d013(0x23a)]():_0x225a38;return{'setCode':_0x225a38,'setName':_0x240bfb};});}function fillSelect(_0x5af7e3,_0x21b962,_0x2fbd3c,_0x4f57b3){var _0x519f63=_0x9d1244;_0x5af7e3[_0x519f63(0x234)]='',_0x21b962['forEach'](function(_0x1dfcc3){var _0x451e04=_0x519f63,_0x5c5795=new Option(_0x1dfcc3[_0x4f57b3],_0x1dfcc3[_0x2fbd3c]);_0x5af7e3[_0x451e04(0x27d)](_0x5c5795);});}function initMulti(_0x354d72,_0x494648){var _0x54c4f5=_0x9d1244,_0x41ad7d=document[_0x54c4f5(0x1fc)](_0x354d72),_0x40abfe=_0x41ad7d[_0x54c4f5(0x1db)](_0x54c4f5(0x244)),_0x181cb6=_0x41ad7d[_0x54c4f5(0x1db)](_0x54c4f5(0x1ca)),_0x1faeae=_0x41ad7d[_0x54c4f5(0x1db)](_0x54c4f5(0x188)),_0x488f78=_0x494648[_0x54c4f5(0x222)](),_0x344ee8=[];function _0x5e320b(){var _0x4fed9d=_0x54c4f5;_0x181cb6[_0x4fed9d(0x234)]='',_0x488f78['filter'](function(_0x58831a){var _0x38eafa=_0x4fed9d;return _0x58831a['setName']['toLowerCase']()['indexOf'](_0x40abfe['value'][_0x38eafa(0x181)]())!==-0x1;})[_0x4fed9d(0x1c9)](function(_0x26cb85){var _0x5ee378=_0x4fed9d,_0x279f4b=document[_0x5ee378(0x290)](_0x5ee378(0x21b));_0x279f4b[_0x5ee378(0x1f2)]=_0x26cb85['setName'],_0x279f4b['dataset'][_0x5ee378(0x253)]=_0x26cb85['setCode'],_0x181cb6[_0x5ee378(0x21d)](_0x279f4b),_0x279f4b[_0x5ee378(0x29f)](_0x5ee378(0x1de),function(){var _0xa5a7ea=_0x5ee378;_0x344ee8[_0xa5a7ea(0x1d0)](_0x26cb85),_0x488f78[_0xa5a7ea(0x18f)](_0x488f78['findIndex'](function(_0x4ed7e2){var _0x56b08f=_0xa5a7ea;return _0x4ed7e2[_0x56b08f(0x286)]===_0x26cb85[_0x56b08f(0x286)];}),0x1),_0x40abfe['value']='',_0x34aea2(),_0x5e320b();});});}function _0x34aea2(){var _0x19e74c=_0x54c4f5;_0x1faeae[_0x19e74c(0x234)]='',_0x344ee8['forEach'](function(_0x775ff8){var _0x4f76cb=_0x19e74c,_0x16cf64=document[_0x4f76cb(0x290)](_0x4f76cb(0x21b));_0x16cf64[_0x4f76cb(0x293)]='tag',_0x16cf64[_0x4f76cb(0x1f2)]=_0x775ff8['setName'];var _0x4ba1c7=document['createElement'](_0x4f76cb(0x259));_0x4ba1c7['className']=_0x4f76cb(0x17c),_0x4ba1c7[_0x4f76cb(0x1f2)]='×',_0x4ba1c7['addEventListener'](_0x4f76cb(0x1de),function(){var _0x1442c1=_0x4f76cb;_0x488f78[_0x1442c1(0x1d0)](_0x775ff8);const _0x4b2644=_0x344ee8[_0x1442c1(0x211)](function(_0x49fb25){var _0x6bf813=_0x1442c1;return _0x49fb25[_0x6bf813(0x286)]===_0x775ff8['setCode'];});if(_0x4b2644>-0x1)_0x344ee8[_0x1442c1(0x18f)](_0x4b2644,0x1);_0x34aea2(),_0x5e320b();}),_0x16cf64['appendChild'](_0x4ba1c7),_0x1faeae[_0x4f76cb(0x21d)](_0x16cf64);}),_0x41ad7d['dispatchEvent'](new CustomEvent('selectionChange',{'bubbles':!![]}));}return _0x40abfe[_0x54c4f5(0x29f)](_0x54c4f5(0x1ee),function(){var _0x10bf3e=_0x54c4f5;_0x181cb6['classList'][_0x10bf3e(0x1fe)]('newItem_hidden');}),_0x40abfe[_0x54c4f5(0x29f)](_0x54c4f5(0x21f),_0x5e320b),_0x40abfe['addEventListener'](_0x54c4f5(0x187),function(_0x4fc4f8){var _0x49aa45=_0x54c4f5;if(_0x4fc4f8['key']===_0x49aa45(0x194)){_0x4fc4f8['preventDefault']();const _0x6bf505=_0x40abfe[_0x49aa45(0x1f8)][_0x49aa45(0x23a)]();if(!_0x6bf505)return;const _0x48e336=_0x344ee8[_0x49aa45(0x195)](_0xc56461=>_0xc56461[_0x49aa45(0x1ef)]===_0x6bf505),_0x2e427f=_0x488f78[_0x49aa45(0x195)](_0xc981e5=>_0xc981e5['setName']===_0x6bf505);if(!_0x48e336&&!_0x2e427f){const _0x5bca3f={'setCode':_0x6bf505,'setName':_0x6bf505};_0x344ee8['push'](_0x5bca3f),_0x34aea2(),_0x5e320b();}_0x40abfe[_0x49aa45(0x1f8)]='';}}),document[_0x54c4f5(0x29f)]('click',function(_0x1b0bd3){var _0x36cf93=_0x54c4f5;if(!_0x41ad7d[_0x36cf93(0x22b)](_0x1b0bd3[_0x36cf93(0x19f)]))_0x181cb6['classList'][_0x36cf93(0x27d)](_0x36cf93(0x2a2));}),_0x5e320b(),_0x344ee8;}function getLastCode(_0x51a073){var _0x357739=_0x9d1244;const _0x21b449=_0x51a073[_0x357739(0x1aa)](_0x14f609=>String(_0x14f609[_0x357739(0x1bd)])[_0x357739(0x23a)]())['filter'](_0x22b14a=>_0x22b14a!=='');if(_0x21b449[_0x357739(0x1f0)]===0x0)return'';const _0x2b3c37=_0x21b449[_0x357739(0x279)](_0x235d52=>/^\d+$/[_0x357739(0x23e)](_0x235d52));if(_0x2b3c37){const _0x281c15=_0x21b449['map'](Number),_0x11ad24=Math[_0x357739(0x229)](..._0x281c15);return String(_0x11ad24);}let _0x1da1f9;if(typeof Intl!==_0x357739(0x2a1)&&Intl[_0x357739(0x219)]){const _0xa7a392=new Intl[(_0x357739(0x219))](undefined,{'numeric':!![],'sensitivity':_0x357739(0x285)});_0x1da1f9=_0x21b449[_0x357739(0x222)]()[_0x357739(0x1a5)](_0xa7a392[_0x357739(0x29b)]);}else{const _0x289ad3=_0x21b449['every'](_0x496cbd=>/^\d+$/['test'](_0x496cbd));_0x289ad3?_0x1da1f9=_0x21b449[_0x357739(0x1aa)](Number)['sort']((_0x3ad3ea,_0x381550)=>_0x3ad3ea-_0x381550)[_0x357739(0x1aa)](String):_0x1da1f9=_0x21b449[_0x357739(0x222)]()[_0x357739(0x1a5)]();}return _0x1da1f9[_0x1da1f9[_0x357739(0x1f0)]-0x1];}function _0x88c5(){var _0x47abdb=['change','#newItem_brands_select\x20.selected_tags','.branchChk','dataTransfer','files','newItem_proditems_container','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','findIndex','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','file','type','join','Ingresa\x20el\x20código\x20del\x20item','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','[id$=\x22_comp_container\x22]','Collator','</div>','div','filter','appendChild','newItem_btn_addProdItem','input','setAlias','from','slice','inputItemType','54975stAMdz','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','modalProductNewTitle','setItemCategories','image_box','max','newItem_chk_sell','contains','setImpuestoValue','entries','split','fill','.costInput','stringify','240QcHUub','(((.+)+)+)+$','innerHTML','apply','setCategoria','setMoneda','now','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','trim','eqInput','setTaxId','dragenter','test','hidden','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','setItemTaxId','Producto\x20Guardado\x20Offline\x20Correctamente.','setUnidad','.ms_input','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','100','idx','\x22\x20class=\x22branchChk\x22\x20checked>\x20','[data-idx=\x22','newItem_images_container','setUnitCode','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setImpuestos','checked','log','setDescripcion','parentNode','blur','code','setWarehouseId','getElementsByClassName','.removeGroup','toString','setFactor','span','4576284SvJvsS','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','_branch_container','dataset','inputItemName','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','❌\x20Error:\x20','setItemIsBought','display','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','result','{}.constructor(\x22return\x20this\x22)(\x20)','1656548gixXGM','_units_container','setEquivalence','.removeCombo','children','\x22\x20class=\x22branchChk\x22>\x20','inputItemTax','.removeProd','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','.vgVals','.branchInit','./js/apierp_item_wk.min.js','readwrite','detalleModalCreateItem','.priceInput','8WwNYaI','accept','newItem_title_table_cp','none','every','.addVariantUnit','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','newItem_btn_addVariantGroup','add','setItemBrands','selected','div[data-default=\x22true\x22]\x20.eqInput','#newItem_categories_select\x20.options_list','Items\x20finales:','#newItem_branches_container\x20>\x20div','setWarehouseName','base','setCode','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','true','currentTarget','setImpuestoCode','<div\x20class=\x22newItem_col\x22>','percent','active','.unitAlias','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','createElement','setItemUnits','return\x20(function()\x20','className','newItem_branches_container','1086218ZzufgA','block','info','unitAlias','includes','btnItemSave','compare','setItemComponents','dragleave','error','addEventListener','setItemVariantValues','undefined','newItem_hidden','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','querySelectorAll','newItem_variants_forms','offline_operations','inputItemDateExpiry','.variantCode','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setMarca','newItem_chk_buy','arrayBuffer','1764sDOjXa','remove-tag','setItemFree','remove-file','assign','done','toLowerCase','modalOverlayCreateItem','readAsDataURL','<img\x20src=\x22','setItemBarCode','bind','keydown','.selected_tags','variant_','Error\x20al\x20guardar\x20Producto\x20Offline:','.prodQty','inputItemBarCode','priceInput','setWebhook','splice','disabled','find','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','name','Enter','some','setItemImages','.vgName','.branchMin','setTaxIdDefault','.variantExpiry','newItem_brands_select','selectedItem','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','7603484zmUecS','target','__proto__','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','newItem_title_table','table','.unitSelect','sort','inputItemCode','setItemVariantName','setItemTaxValue','setItemWarehouses','map','match','console','\x22\x20value=\x22','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','trace','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','image/*','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','setStockInitial','closeModalCreateItem','newItem_categories_select','_comp_container','selectionChange','setUnitPresentationId','setStockMinimum','setWarehouseCode','setCost','newItem_btn_addUnit','setCodProducto','stopPropagation','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','toggle','setItemId','.prod_input_container','.drop-zone__prompt','windowId','dispatchEvent','.eqInput','.addVariantComp','exception','forEach','.options_list','.removeVariant','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','file-input','Producto\x20Libre','setItemDescription','push','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','</label>','style=\x22display:none\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','oncomplete','default','setItemTaxCode','closest','onmessage','newItem_addToCart','querySelector','#newItem_units_container\x20>\x20div','2epTfkd','click','vals','dragover','flatMap','setDefault','variantForm','.variantForm','onerror','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','20555990KwQbRD','objectStore','setItemIsSold','setItemInventoriable','progress','newItem_units_container','classList','focus','setName','length','style','textContent','Error\x20al\x20procesar\x20la\x20operación:','setItemCode','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','drop','setItemName','value','search','productType1','setPrice','getElementById','setCantidad','remove','./img/product.png','prototype','padStart','setItemDateExpiry','inputItemDescription','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','constructor','option','setItemType'];_0x88c5=function(){return _0x47abdb;};return _0x88c5();}function getNextCode(_0x348181){var _0x55e08d=_0x9d1244;const _0xe53d0b=getLastCode(_0x348181);if(!_0xe53d0b)return'';if(/^\d+$/['test'](_0xe53d0b))return String(Number(_0xe53d0b)+0x1);const _0x58f5f4=_0xe53d0b[_0x55e08d(0x1ab)](/^([A-Za-z]*)(\d+)$/);if(_0x58f5f4){const [,_0x545d64,_0x7ec7f5]=_0x58f5f4,_0x17c72b=String(Number(_0x7ec7f5)+0x1)[_0x55e08d(0x201)](_0x7ec7f5[_0x55e08d(0x1f0)],'0');return _0x545d64+_0x17c72b;}return _0xe53d0b;}document[_0x9d1244(0x1fc)](_0x9d1244(0x25e))[_0x9d1244(0x29f)](_0x9d1244(0x21f),function(_0x4037e1){var _0x44aed2=_0x9d1244;baseItem[_0x44aed2(0x1f7)]=_0x4037e1['target']['value'];}),document[_0x9d1244(0x1fc)]('inputItemDescription')[_0x9d1244(0x29f)](_0x9d1244(0x21f),function(_0x357d13){var _0x1d9e4b=_0x9d1244;baseItem[_0x1d9e4b(0x1cf)]=_0x357d13[_0x1d9e4b(0x19f)]['value'];}),document[_0x9d1244(0x1fc)](_0x9d1244(0x175))['addEventListener'](_0x9d1244(0x21f),function(_0x1b64c2){baseItem['setItemDateExpiry']=_0x1b64c2['target']['value'];}),document[_0x9d1244(0x1fc)]('inputItemType')[_0x9d1244(0x29f)]('change',function(_0x5e97f6){var _0x5cc3c2=_0x9d1244;baseItem[_0x5cc3c2(0x207)]=_0x5e97f6['target'][_0x5cc3c2(0x1f8)];}),document[_0x9d1244(0x1fc)](_0x9d1244(0x26c))[_0x9d1244(0x29f)]('change',function(_0x269dc4){var _0x17817f=_0x9d1244;baseItem[_0x17817f(0x241)]=_0x269dc4[_0x17817f(0x19f)]['value'];const _0x234ce4=_0x269dc4[_0x17817f(0x19f)][_0x17817f(0x1f8)],_0x1ef460=company[0x0][_0x17817f(0x24d)]['find'](_0x41b6f2=>_0x41b6f2[_0x17817f(0x23c)]==_0x234ce4)?.[_0x17817f(0x28a)]||0x0,_0x246af2=company[0x0][_0x17817f(0x24d)]['find'](_0x356184=>_0x356184[_0x17817f(0x23c)]==_0x234ce4)?.[_0x17817f(0x22c)]||0x0;baseItem['setItemTaxCode']=_0x1ef460,baseItem[_0x17817f(0x1a8)]=_0x246af2;}),document[_0x9d1244(0x1fc)]('newItem_chk_buy')[_0x9d1244(0x29f)](_0x9d1244(0x208),function(_0xdc45ef){var _0x1e9c28=_0x9d1244;baseItem['setItemIsBought']=_0xdc45ef['target'][_0x1e9c28(0x24e)];}),document[_0x9d1244(0x1fc)]('newItem_chk_sell')[_0x9d1244(0x29f)](_0x9d1244(0x208),function(_0x2bfc58){var _0x36e66b=_0x9d1244;baseItem[_0x36e66b(0x1e9)]=_0x2bfc58['target']['checked'];}),document[_0x9d1244(0x1fc)](_0x9d1244(0x1a6))['addEventListener'](_0x9d1244(0x21f),function(_0x2f28c0){var _0xc970f2=_0x9d1244;baseItem[_0xc970f2(0x1f4)]=_0x2f28c0[_0xc970f2(0x19f)][_0xc970f2(0x1f8)];}),document['getElementById'](_0x9d1244(0x18c))[_0x9d1244(0x29f)]('input',function(_0x32fb90){var _0x1d97aa=_0x9d1244;baseItem[_0x1d97aa(0x185)]=_0x32fb90[_0x1d97aa(0x19f)][_0x1d97aa(0x1f8)];}),document['getElementById'](_0x9d1244(0x1bc))[_0x9d1244(0x29f)](_0x9d1244(0x1de),function(){addUnit(),updateUnitsArray();}),document[_0x9d1244(0x1fc)]('inputItemCode')['addEventListener'](_0x9d1244(0x252),function(){var _0x523890=_0x9d1244;const _0x2d696c=this[_0x523890(0x1f8)][_0x523890(0x23a)]();if(_0x2d696c==='')return;const _0x2b154c=products[_0x523890(0x195)](_0x183305=>_0x183305[_0x523890(0x1bd)]==_0x2d696c),_0x42e32b=getLastCode(products);_0x2b154c?ntfShow(_0x523890(0x25b)+_0x42e32b,0x2,0x1):ntfShow(_0x523890(0x263),0x1,0x1);});function removeImg(_0x4bb1c9){var _0x39536b=_0x9d1244;currentImages[_0x4bb1c9]=null;var _0x31a866=imgC['querySelector'](_0x39536b(0x249)+_0x4bb1c9+'\x22]');_0x31a866[_0x39536b(0x234)]='';var _0x1a3254=document['createElement']('input');_0x1a3254['type']=_0x39536b(0x213),_0x1a3254[_0x39536b(0x276)]='image/*',_0x1a3254[_0x39536b(0x1f1)][_0x39536b(0x262)]=_0x39536b(0x278);var _0x3c5914=document[_0x39536b(0x290)](_0x39536b(0x259));_0x3c5914[_0x39536b(0x1f2)]='+',_0x31a866[_0x39536b(0x21d)](_0x1a3254),_0x31a866[_0x39536b(0x21d)](_0x3c5914),_0x31a866[_0x39536b(0x29f)](_0x39536b(0x1de),function(){_0x1a3254['click']();}),baseItem['setItemImages']=currentImages[_0x39536b(0x21c)](function(_0x15ede0){return _0x15ede0;});}function addUnit(_0x5cf3ff,_0x489648,_0x16603e,_0x12041b,_0x1b6ea4,_0x24d617,_0x2329ad){var _0x5e90d0=_0x9d1244,_0x28bcd8=uniqueValuesArray(_0x5e90d0(0x243),_0x5e90d0(0x243),products);_0x5cf3ff=_0x5cf3ff||'',_0x489648=_0x489648||_0x28bcd8[0x0]&&_0x28bcd8[0x0][_0x5e90d0(0x286)]||'',_0x16603e=_0x16603e!==undefined?_0x16603e:0x1,_0x12041b=!!_0x12041b,_0x1b6ea4=_0x1b6ea4||'',_0x24d617=_0x24d617||'';var _0x1d8ea4=unitCount++,_0x3d0def=document[_0x5e90d0(0x290)](_0x5e90d0(0x21b));_0x3d0def[_0x5e90d0(0x25d)][_0x5e90d0(0x247)]=_0x1d8ea4,_0x3d0def[_0x5e90d0(0x25d)][_0x5e90d0(0x1d6)]=_0x12041b,_0x3d0def['innerHTML']=_0x5e90d0(0x1cc)+_0x1d8ea4+_0x5e90d0(0x1ad)+_0x5cf3ff+_0x5e90d0(0x20f)+_0x1d8ea4+_0x5e90d0(0x28f)+_0x1d8ea4+_0x5e90d0(0x1ad)+_0x16603e+'\x22\x20'+(_0x12041b?_0x5e90d0(0x190):'')+_0x5e90d0(0x1b0)+_0x1d8ea4+_0x5e90d0(0x1ad)+_0x1b6ea4+_0x5e90d0(0x210)+_0x1d8ea4+_0x5e90d0(0x1ad)+_0x24d617+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x12041b?_0x5e90d0(0x1d3):'')+_0x5e90d0(0x192),fillSelect(_0x3d0def[_0x5e90d0(0x1db)](_0x5e90d0(0x1a4)),_0x28bcd8,_0x5e90d0(0x286),_0x5e90d0(0x1ef)),_0x3d0def[_0x5e90d0(0x1db)](_0x5e90d0(0x1a4))[_0x5e90d0(0x1f8)]=_0x489648,[_0x5e90d0(0x298),'unitSelect',_0x5e90d0(0x23b),_0x5e90d0(0x18d),'costInput'][_0x5e90d0(0x1c9)](function(_0x15d40){var _0x4ca9c2=_0x5e90d0;_0x3d0def['querySelector']('.'+_0x15d40)[_0x4ca9c2(0x29f)](_0x4ca9c2(0x21f),function(){var _0x48172c=_0x2329ad?+_0x2329ad['id']['split']('_')[0x1]:null;if(_0x2329ad)updateVariantUnits(_0x48172c);else updateUnitsArray();});}),_0x3d0def[_0x5e90d0(0x1db)]('.removeUnit')[_0x5e90d0(0x29f)](_0x5e90d0(0x1de),function(){var _0x1de86f=_0x5e90d0;_0x3d0def[_0x1de86f(0x1fe)]();var _0x44d648=_0x2329ad?+_0x2329ad['id']['split']('_')[0x1]:null;if(_0x2329ad)updateVariantUnits(_0x44d648);else updateUnitsArray();});var _0x525ddb=_0x2329ad||document[_0x5e90d0(0x1fc)](_0x5e90d0(0x1ec));_0x525ddb[_0x5e90d0(0x21d)](_0x3d0def);}function containerIdx(_0x4f2f62){var _0x529bdc=_0x9d1244;return+_0x4f2f62['id'][_0x529bdc(0x22e)]('_')[0x1];}function updateUnitsArray(){var _0x244a05=_0x9d1244,_0x220f4a=[],_0x3ec5e2=Array['from'](document[_0x244a05(0x2a4)](_0x244a05(0x1dc))),_0x3a1e84=_0x3ec5e2[_0x244a05(0x191)](_0x5ad9cc=>_0x5ad9cc[_0x244a05(0x25d)][_0x244a05(0x1d6)]===_0x244a05(0x288)),_0x293e3c=_0x3a1e84?+_0x3a1e84[_0x244a05(0x1db)](_0x244a05(0x1c6))[_0x244a05(0x1f8)]:0x1;_0x3ec5e2[_0x244a05(0x1c9)](function(_0x460c04){var _0xb1dec7=_0x244a05,_0xba2bc0=+_0x460c04[_0xb1dec7(0x1db)](_0xb1dec7(0x1c6))[_0xb1dec7(0x1f8)]||0x0,_0x48fd48=+_0x460c04[_0xb1dec7(0x1db)](_0xb1dec7(0x274))[_0xb1dec7(0x1f8)]||0x0,_0x1a46bf=+_0x460c04[_0xb1dec7(0x1db)](_0xb1dec7(0x230))[_0xb1dec7(0x1f8)]||0x0;_0x220f4a[_0xb1dec7(0x1d0)]({'setAlias':_0x460c04[_0xb1dec7(0x1db)](_0xb1dec7(0x28e))[_0xb1dec7(0x1f8)]['trim'](),'setUnitCode':_0x460c04[_0xb1dec7(0x1db)](_0xb1dec7(0x1a4))[_0xb1dec7(0x1f8)],'setEquivalence':_0xba2bc0,'setFactor':_0x460c04[_0xb1dec7(0x25d)][_0xb1dec7(0x1d6)]===_0xb1dec7(0x288)?0x1:_0xba2bc0==_0x293e3c?0x1:_0xba2bc0<_0x293e3c?_0x293e3c/_0xba2bc0:_0xba2bc0/_0x293e3c,'setPrice':_0x48fd48,'setCost':_0x1a46bf,'setDefault':_0x460c04[_0xb1dec7(0x25d)][_0xb1dec7(0x1d6)]===_0xb1dec7(0x288)?0x1:0x0});}),baseItem[_0x244a05(0x291)]=_0x220f4a;}function updateBranches(){var _0x8d3c96=_0x9d1244,_0x2ca92f=[];document[_0x8d3c96(0x2a4)](_0x8d3c96(0x283))['forEach'](function(_0x563439){var _0x1fbba6=_0x8d3c96,_0xdd8abc=_0x563439[_0x1fbba6(0x1db)]('.branchChk');if(_0xdd8abc[_0x1fbba6(0x24e)]){var _0x306b85=+_0xdd8abc[_0x1fbba6(0x25d)]['id'],_0x2f90f4=+_0x563439[_0x1fbba6(0x1db)](_0x1fbba6(0x270))['value'],_0x54ef9a=+_0x563439[_0x1fbba6(0x1db)](_0x1fbba6(0x198))[_0x1fbba6(0x1f8)];_0x2ca92f[_0x1fbba6(0x1d0)]({'setWarehouseCode':_0x306b85,'setStockInitial':_0x2f90f4,'setStockMinimum':_0x54ef9a});}}),baseItem[_0x8d3c96(0x1a9)]=_0x2ca92f;}document[_0x9d1244(0x1fc)](_0x9d1244(0x21e))[_0x9d1244(0x29f)]('click',function(){var _0x5d2bc2=_0x9d1244,_0x3c39c3=Date[_0x5d2bc2(0x238)](),_0x4828ec=document[_0x5d2bc2(0x290)]('div');_0x4828ec[_0x5d2bc2(0x25d)]['idx']=_0x3c39c3,_0x4828ec[_0x5d2bc2(0x234)]=_0x5d2bc2(0x212)+_0x3c39c3+_0x5d2bc2(0x26e)+_0x3c39c3+_0x5d2bc2(0x287),prodC[_0x5d2bc2(0x21d)](_0x4828ec),initProdSearch(_0x4828ec[_0x5d2bc2(0x1db)](_0x5d2bc2(0x1c2))),_0x4828ec[_0x5d2bc2(0x1db)](_0x5d2bc2(0x26d))[_0x5d2bc2(0x29f)]('click',function(){var _0x12fc02=_0x5d2bc2;_0x4828ec[_0x12fc02(0x1fe)](),updateProdItems();}),_0x4828ec['querySelector'](_0x5d2bc2(0x18b))['addEventListener'](_0x5d2bc2(0x21f),updateProdItems),document[_0x5d2bc2(0x1fc)](_0x5d2bc2(0x277))['classList'][_0x5d2bc2(0x1c0)](_0x5d2bc2(0x1a2),!![]),document[_0x5d2bc2(0x1fc)](_0x5d2bc2(0x277))[_0x5d2bc2(0x1ed)][_0x5d2bc2(0x1c0)](_0x5d2bc2(0x2a2),![]);});function initProdSearch(_0x3720fd,_0x77d261){var _0x9698f=_0x9d1244,_0x579da8=_0x3720fd[_0x9698f(0x1db)]('.prodInput'),_0x337c35=_0x3720fd[_0x9698f(0x1db)](_0x9698f(0x1ca)),_0x1e9b45=_0x77d261||null;if(_0x77d261)_0x579da8[_0x9698f(0x1f8)]=_0x77d261[_0x9698f(0x193)];_0x579da8[_0x9698f(0x29f)]('input',function(){var _0x3eb483=_0x9698f,_0x233fa4=_0x579da8['value'][_0x3eb483(0x181)]()[_0x3eb483(0x23a)]();_0x337c35[_0x3eb483(0x234)]='';if(!_0x233fa4)return;products[_0x3eb483(0x21c)](_0x20c346=>_0x20c346['setDescripcion']['toLowerCase']()[_0x3eb483(0x299)](_0x233fa4))[_0x3eb483(0x222)](0x0,0x14)['forEach'](function(_0x2fe6e6){var _0x1e87b7=_0x3eb483,_0x41ef36=document[_0x1e87b7(0x290)](_0x1e87b7(0x21b));_0x41ef36['textContent']=_0x2fe6e6[_0x1e87b7(0x250)],_0x41ef36[_0x1e87b7(0x25d)]['id']=_0x2fe6e6['id'],_0x41ef36[_0x1e87b7(0x25d)][_0x1e87b7(0x193)]=_0x2fe6e6[_0x1e87b7(0x250)],_0x337c35[_0x1e87b7(0x21d)](_0x41ef36),_0x41ef36['addEventListener'](_0x1e87b7(0x1de),function(){var _0xf5e678=_0x1e87b7;_0x1e9b45={'id':_0x2fe6e6['id'],'name':_0x2fe6e6[_0xf5e678(0x250)]},_0x579da8[_0xf5e678(0x1f8)]=_0x2fe6e6[_0xf5e678(0x250)],_0x337c35[_0xf5e678(0x234)]='';var _0x2936d8=_0x3720fd[_0xf5e678(0x1d8)](_0xf5e678(0x218));if(_0x2936d8){var _0x5a4059=+_0x2936d8['id']['split']('_')[0x1];updateVariantComponents(_0x5a4059);}else updateProdItems();});});}),_0x579da8[_0x9698f(0x29f)](_0x9698f(0x1ee),function(){var _0x5596df=_0x9698f;_0x337c35[_0x5596df(0x1ed)][_0x5596df(0x1fe)]('newItem_hidden');}),document[_0x9698f(0x29f)](_0x9698f(0x1de),function(_0x52faaf){var _0x1e7910=_0x9698f;if(!_0x3720fd[_0x1e7910(0x22b)](_0x52faaf[_0x1e7910(0x19f)]))_0x337c35[_0x1e7910(0x1ed)][_0x1e7910(0x27d)](_0x1e7910(0x2a2));}),Object['defineProperty'](_0x3720fd,_0x9698f(0x19c),{'get':()=>_0x1e9b45});}function updateProdItems(){var _0x58ee88=_0x9d1244,_0x52e55a=[];Array[_0x58ee88(0x221)](prodC[_0x58ee88(0x26a)])[_0x58ee88(0x1c9)](function(_0x34e0e5){var _0x12c9ed=_0x58ee88,_0x112e57=_0x34e0e5[_0x12c9ed(0x1db)](_0x12c9ed(0x1c2));if(!_0x112e57)return;var _0x33e94f=_0x34e0e5[_0x12c9ed(0x1db)](_0x12c9ed(0x18b)),_0x30682e=_0x112e57[_0x12c9ed(0x19c)];_0x30682e&&_0x52e55a[_0x12c9ed(0x1d0)]({'setItemId':_0x30682e['id'],'setDescripcion':_0x30682e['name'],'setCantidad':+_0x33e94f[_0x12c9ed(0x1f8)]});}),baseItem[_0x58ee88(0x29c)]=_0x52e55a,_0x52e55a[_0x58ee88(0x1f0)]===0x0&&(document[_0x58ee88(0x1fc)](_0x58ee88(0x277))[_0x58ee88(0x1ed)][_0x58ee88(0x1c0)](_0x58ee88(0x1a2),![]),document[_0x58ee88(0x1fc)](_0x58ee88(0x277))[_0x58ee88(0x1ed)][_0x58ee88(0x1c0)](_0x58ee88(0x2a2),!![]));}document[_0x9d1244(0x1fc)](_0x9d1244(0x27c))[_0x9d1244(0x29f)]('click',function(){var _0x84be77=_0x9d1244,_0x11ef68=vgCount++,_0x19706c=document[_0x84be77(0x290)](_0x84be77(0x21b));_0x19706c['dataset']['idx']=_0x11ef68,_0x19706c[_0x84be77(0x234)]=_0x84be77(0x1a1)+_0x11ef68+'\x22>'+_0x84be77(0x1ae)+_0x11ef68+'\x22>'+_0x84be77(0x25f),vgC[_0x84be77(0x21d)](_0x19706c),_0x19706c[_0x84be77(0x1db)](_0x84be77(0x197))[_0x84be77(0x29f)](_0x84be77(0x252),generateVariants),_0x19706c[_0x84be77(0x1db)](_0x84be77(0x26f))[_0x84be77(0x29f)](_0x84be77(0x252),generateVariants),_0x19706c[_0x84be77(0x1db)](_0x84be77(0x256))['addEventListener'](_0x84be77(0x1de),function(){var _0x3e4d71=_0x84be77;_0x19706c[_0x3e4d71(0x1fe)](),generateVariants();});});function generateVariants(){var _0x534829=_0x9d1244,_0x553c9a=[];vgC[_0x534829(0x2a4)](_0x534829(0x21b))[_0x534829(0x1c9)](function(_0x1dd439){var _0x562a8f=_0x534829,_0xaccefc=_0x1dd439[_0x562a8f(0x1db)](_0x562a8f(0x197))[_0x562a8f(0x1f8)][_0x562a8f(0x23a)](),_0x58b3b1=_0x1dd439['querySelector'](_0x562a8f(0x26f))[_0x562a8f(0x1f8)]['split'](',')[_0x562a8f(0x1aa)](_0x4bbae1=>_0x4bbae1[_0x562a8f(0x23a)]())[_0x562a8f(0x21c)](_0x12b3ad=>_0x12b3ad);if(_0xaccefc&&_0x58b3b1[_0x562a8f(0x1f0)])_0x553c9a['push']({'name':_0xaccefc,'vals':_0x58b3b1});});var _0x2d2644=[{}];_0x553c9a[_0x534829(0x1c9)](function(_0x3df2a6){var _0xb6d3de=_0x534829;_0x2d2644=_0x2d2644[_0xb6d3de(0x1e1)](function(_0x3f919b){var _0x29c236=_0xb6d3de;return _0x3df2a6[_0x29c236(0x1df)][_0x29c236(0x1aa)](function(_0x3f2937){var _0x2313e9=_0x29c236,_0x8d3ddf=Object[_0x2313e9(0x17f)]({},_0x3f919b);return _0x8d3ddf[_0x3df2a6[_0x2313e9(0x193)]]=_0x3f2937,_0x8d3ddf;});});}),newItems=[],varContainer['innerHTML']='',_0x2d2644[_0x534829(0x1c9)](function(_0x335a3a,_0x937b3b){var _0x62e3e9=_0x534829,_0x1b86b6=JSON['parse'](JSON[_0x62e3e9(0x231)](baseItem));_0x1b86b6[_0x62e3e9(0x2a0)]=_0x335a3a,_0x1b86b6[_0x62e3e9(0x1a7)]=baseItem[_0x62e3e9(0x1f7)]+'\x20'+Object[_0x62e3e9(0x22d)](_0x335a3a)[_0x62e3e9(0x1aa)](_0x179a9f=>_0x179a9f[0x0]+'\x20'+_0x179a9f[0x1])[_0x62e3e9(0x215)]('\x20'),newItems[_0x62e3e9(0x1d0)](_0x1b86b6);var _0xb727f0=document[_0x62e3e9(0x290)](_0x62e3e9(0x21b));_0xb727f0[_0x62e3e9(0x1ed)][_0x62e3e9(0x27d)](_0x62e3e9(0x1e3)),_0xb727f0[_0x62e3e9(0x25d)][_0x62e3e9(0x247)]=_0x937b3b,_0xb727f0[_0x62e3e9(0x234)]=_0x62e3e9(0x1b2)+_0x1b86b6[_0x62e3e9(0x1a7)]+_0x62e3e9(0x24c)+_0x1b86b6[_0x62e3e9(0x1f4)]+_0x62e3e9(0x1d1)+_0x1b86b6[_0x62e3e9(0x185)]+_0x62e3e9(0x240)+_0x1b86b6[_0x62e3e9(0x202)]+_0x62e3e9(0x239)+_0x937b3b+_0x62e3e9(0x245)+_0x937b3b+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x937b3b+_0x62e3e9(0x1e6),varContainer[_0x62e3e9(0x21d)](_0xb727f0),_0xb727f0[_0x62e3e9(0x1db)](_0x62e3e9(0x176))['addEventListener'](_0x62e3e9(0x21f),_0x3078cc=>newItems[_0x937b3b][_0x62e3e9(0x1f4)]=_0x3078cc[_0x62e3e9(0x19f)]['value']),_0xb727f0[_0x62e3e9(0x1db)]('.variantBarCode')['addEventListener'](_0x62e3e9(0x21f),_0x1d64ab=>newItems[_0x937b3b][_0x62e3e9(0x185)]=_0x1d64ab[_0x62e3e9(0x19f)][_0x62e3e9(0x1f8)]),_0xb727f0[_0x62e3e9(0x1db)](_0x62e3e9(0x19a))[_0x62e3e9(0x29f)](_0x62e3e9(0x208),_0x44afe9=>newItems[_0x937b3b][_0x62e3e9(0x202)]=_0x44afe9[_0x62e3e9(0x19f)][_0x62e3e9(0x1f8)]),initVariantUnits(_0x937b3b),initVariantComponents(_0x937b3b),initVariantBranches(_0x937b3b),_0xb727f0[_0x62e3e9(0x1db)](_0x62e3e9(0x1cb))[_0x62e3e9(0x29f)](_0x62e3e9(0x1de),function(){var _0x10c022=_0x62e3e9,_0x3c94e3=+_0xb727f0[_0x10c022(0x25d)][_0x10c022(0x247)];newItems[_0x10c022(0x18f)](_0x3c94e3,0x1),_0xb727f0[_0x10c022(0x1fe)](),document[_0x10c022(0x2a4)](_0x10c022(0x1e4))[_0x10c022(0x1c9)](function(_0x20fd03,_0x103c96){var _0x4edbb6=_0x10c022;_0x20fd03[_0x4edbb6(0x25d)][_0x4edbb6(0x247)]=_0x103c96;});});});if(newItems[_0x534829(0x1f0)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3c17fc){var _0x234548=_0x9d1244,_0x44272d=document[_0x234548(0x1fc)](_0x234548(0x189)+_0x3c17fc+_0x234548(0x267)),_0x5a2b79=[];Array[_0x234548(0x221)](_0x44272d[_0x234548(0x26a)])['forEach'](function(_0x5c51bb){var _0x5510ae=_0x234548,_0x4acb9b=+_0x5c51bb[_0x5510ae(0x1db)](_0x5510ae(0x1c6))['value']||0x0,_0x5d2312=_0x5c51bb[_0x5510ae(0x1db)](_0x5510ae(0x28e))[_0x5510ae(0x1f8)]['trim'](),_0x1e4050=_0x5c51bb[_0x5510ae(0x1db)]('.unitSelect')[_0x5510ae(0x1f8)],_0x1cad84=+_0x5c51bb['querySelector'](_0x5510ae(0x274))[_0x5510ae(0x1f8)]||0x0,_0x1077ef=+_0x5c51bb[_0x5510ae(0x1db)](_0x5510ae(0x230))[_0x5510ae(0x1f8)]||0x0,_0x43584d=_0x5c51bb['dataset']['default']===_0x5510ae(0x288),_0x5371a0=+_0x44272d[_0x5510ae(0x1db)](_0x5510ae(0x280))[_0x5510ae(0x1f8)]||0x1,_0x26670b=_0x43584d?0x1:_0x4acb9b==_0x5371a0?0x1:_0x4acb9b<_0x5371a0?_0x5371a0/_0x4acb9b:_0x4acb9b/_0x5371a0;_0x5a2b79[_0x5510ae(0x1d0)]({'setAlias':_0x5d2312,'setUnitCode':_0x1e4050,'setEquivalence':_0x4acb9b,'setFactor':_0x26670b,'setPrice':_0x1cad84,'setCost':_0x1077ef,'setDefault':_0x43584d?0x1:0x0});}),newItems[_0x3c17fc][_0x234548(0x291)]=_0x5a2b79;}function _0x57d6(_0x4de54b,_0x3b4781){var _0x45f797=_0x88c5();return _0x57d6=function(_0x4c7791,_0x2e490f){_0x4c7791=_0x4c7791-0x174;var _0x254d33=_0x45f797[_0x4c7791];return _0x254d33;},_0x57d6(_0x4de54b,_0x3b4781);}function initVariantUnits(_0x49dd06){var _0x2b24c1=_0x9d1244,_0x5af8b8=document[_0x2b24c1(0x1fc)](_0x2b24c1(0x189)+_0x49dd06+'_units_container');_0x5af8b8[_0x2b24c1(0x234)]='',newItems[_0x49dd06][_0x2b24c1(0x291)]['forEach'](function(_0x48b65a){var _0x22118d=_0x2b24c1;addUnit(_0x48b65a[_0x22118d(0x220)],_0x48b65a['setUnitCode'],_0x48b65a[_0x22118d(0x268)],_0x48b65a[_0x22118d(0x1e2)],_0x48b65a[_0x22118d(0x1fb)],_0x48b65a[_0x22118d(0x1bb)],_0x5af8b8);}),_0x5af8b8[_0x2b24c1(0x251)][_0x2b24c1(0x1db)](_0x2b24c1(0x27a))['addEventListener'](_0x2b24c1(0x1de),function(){addUnit('','',0x1,![],'','',_0x5af8b8),updateVariantUnits(_0x49dd06);});}function updateVariantUnits(_0x14cae5){var _0x3a7a9c=_0x9d1244,_0x2e5ee9=document['getElementById'](_0x3a7a9c(0x189)+_0x14cae5+_0x3a7a9c(0x267)),_0x28f573=_0x2e5ee9['querySelector'](_0x3a7a9c(0x280)),_0x1d4e65=_0x28f573?+_0x28f573[_0x3a7a9c(0x1f8)]:0x1,_0x120aef=Array['from'](_0x2e5ee9[_0x3a7a9c(0x26a)])[_0x3a7a9c(0x1aa)](function(_0x3ef4c3){var _0x64a0b6=_0x3a7a9c,_0xd9b736=_0x3ef4c3['querySelector'](_0x64a0b6(0x28e))['value'][_0x64a0b6(0x23a)](),_0x35790e=_0x3ef4c3[_0x64a0b6(0x1db)](_0x64a0b6(0x1a4))['value'],_0xa0d6d2=+_0x3ef4c3[_0x64a0b6(0x1db)](_0x64a0b6(0x1c6))[_0x64a0b6(0x1f8)]||0x0,_0x33e0e3=+_0x3ef4c3[_0x64a0b6(0x1db)]('.priceInput')[_0x64a0b6(0x1f8)]||0x0,_0x1e5265=+_0x3ef4c3['querySelector'](_0x64a0b6(0x230))[_0x64a0b6(0x1f8)]||0x0,_0xd8f92=_0x3ef4c3[_0x64a0b6(0x25d)][_0x64a0b6(0x1d6)]==='true';return{'setAlias':_0xd9b736,'setUnitCode':_0x35790e,'setEquivalence':_0xa0d6d2,'setFactor':_0xd8f92?0x1:_0xa0d6d2==_0x1d4e65?0x1:_0xa0d6d2<_0x1d4e65?_0x1d4e65/_0xa0d6d2:_0xa0d6d2/_0x1d4e65,'setPrice':_0x33e0e3,'setCost':_0x1e5265,'setDefault':_0xd8f92?0x1:0x0};});newItems[_0x14cae5][_0x3a7a9c(0x291)]=_0x120aef;}function initVariantComponents(_0x492fac){var _0x41ab6e=_0x9d1244,_0x31fc59=document[_0x41ab6e(0x1fc)]('variant_'+_0x492fac+'_comp_container');_0x31fc59['innerHTML']='',newItems[_0x492fac]['setItemComponents'][_0x41ab6e(0x1c9)](function(_0x285dd1){var _0xd65557=_0x41ab6e,_0x5a621d=document['createElement']('div'),_0x3fdbd1=Date[_0xd65557(0x238)]();_0x5a621d['dataset']['idx']=_0x3fdbd1,_0x5a621d['innerHTML']='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x3fdbd1+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22'+_0x285dd1[_0xd65557(0x1fd)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x31fc59['appendChild'](_0x5a621d),initProdSearch(_0x5a621d[_0xd65557(0x1db)]('.prod_input_container'),{'id':_0x285dd1[_0xd65557(0x1c1)],'name':_0x285dd1[_0xd65557(0x250)]}),_0x5a621d[_0xd65557(0x1db)]('.prodQty')[_0xd65557(0x29f)](_0xd65557(0x21f),function(){updateVariantComponents(_0x492fac);}),_0x5a621d['querySelector'](_0xd65557(0x269))[_0xd65557(0x29f)](_0xd65557(0x1de),function(){var _0x568486=_0xd65557;_0x5a621d[_0x568486(0x1fe)](),updateVariantComponents(_0x492fac);});}),_0x31fc59[_0x41ab6e(0x251)][_0x41ab6e(0x1db)](_0x41ab6e(0x1c7))[_0x41ab6e(0x29f)]('click',function(){var _0x178b7e=_0x41ab6e,_0x20165b=document[_0x178b7e(0x290)](_0x178b7e(0x21b)),_0x2e4bb8=Date[_0x178b7e(0x238)]();_0x20165b['dataset'][_0x178b7e(0x247)]=_0x2e4bb8,_0x20165b[_0x178b7e(0x234)]=_0x178b7e(0x27b)+_0x2e4bb8+_0x178b7e(0x19d),_0x31fc59[_0x178b7e(0x21d)](_0x20165b),initProdSearch(_0x20165b['querySelector']('.prod_input_container')),_0x20165b[_0x178b7e(0x1db)](_0x178b7e(0x18b))['addEventListener'](_0x178b7e(0x21f),function(){updateVariantComponents(_0x492fac);}),_0x20165b[_0x178b7e(0x1db)](_0x178b7e(0x269))['addEventListener']('click',function(){var _0x347be7=_0x178b7e;_0x20165b[_0x347be7(0x1fe)](),updateVariantComponents(_0x492fac);});});}function updateVariantComponents(_0x3c4a1c){var _0x2ece45=_0x9d1244,_0x400a5f=document['getElementById'](_0x2ece45(0x189)+_0x3c4a1c+_0x2ece45(0x1b6)),_0x4d68aa=Array[_0x2ece45(0x221)](_0x400a5f[_0x2ece45(0x26a)])[_0x2ece45(0x1aa)](function(_0x1fd284){var _0x2c9e32=_0x2ece45,_0x11cbb6=_0x1fd284[_0x2c9e32(0x1db)](_0x2c9e32(0x1c2)),_0x466ba6=_0x11cbb6['selectedItem'],_0x49a046=+_0x1fd284['querySelector'](_0x2c9e32(0x18b))[_0x2c9e32(0x1f8)]||0x0;return _0x466ba6?{'setItemId':_0x466ba6['id'],'setDescripcion':_0x466ba6[_0x2c9e32(0x193)],'setCantidad':_0x49a046}:null;})[_0x2ece45(0x21c)](_0x4dff33=>_0x4dff33);newItems[_0x3c4a1c][_0x2ece45(0x29c)]=_0x4d68aa;}function initVariantBranches(_0x343a77){var _0x37fa89=_0x9d1244;const _0x53d548=getAllWarehouses();var _0x152152=document[_0x37fa89(0x1fc)](_0x37fa89(0x189)+_0x343a77+_0x37fa89(0x25c));_0x152152[_0x37fa89(0x234)]='',newItems[_0x343a77][_0x37fa89(0x1a9)][_0x37fa89(0x1c9)](function(_0x20d6f5){var _0x21da7b=_0x37fa89,_0x890e85=_0x53d548[_0x21da7b(0x191)](_0x1072e4=>_0x1072e4['setWarehouseId']==_0x20d6f5[_0x21da7b(0x1ba)]),_0x46eeae=document[_0x21da7b(0x290)](_0x21da7b(0x21b));_0x46eeae['innerHTML']=_0x21da7b(0x204)+_0x20d6f5[_0x21da7b(0x1ba)]+_0x21da7b(0x248)+_0x890e85[_0x21da7b(0x284)]+_0x21da7b(0x1bf)+_0x20d6f5[_0x21da7b(0x1ba)]+_0x21da7b(0x1ad)+_0x20d6f5[_0x21da7b(0x1b3)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x20d6f5[_0x21da7b(0x1ba)]+_0x21da7b(0x1ad)+_0x20d6f5[_0x21da7b(0x1b9)]+'\x22>',_0x152152[_0x21da7b(0x21d)](_0x46eeae),_0x46eeae[_0x21da7b(0x2a4)]('input')['forEach'](function(_0x531b4b){var _0x35e31e=_0x21da7b;_0x531b4b['addEventListener'](_0x35e31e(0x21f),function(){updateVariantBranches(_0x343a77);});});}),_0x53d548[_0x37fa89(0x1c9)](function(_0x3bc637){var _0x27c75b=_0x37fa89;if(!newItems[_0x343a77][_0x27c75b(0x1a9)][_0x27c75b(0x191)](_0x5d07cc=>_0x5d07cc[_0x27c75b(0x1ba)]===_0x3bc637[_0x27c75b(0x254)])){var _0x39f146=document['createElement'](_0x27c75b(0x21b));_0x39f146[_0x27c75b(0x234)]=_0x27c75b(0x204)+_0x3bc637[_0x27c75b(0x254)]+_0x27c75b(0x26b)+_0x3bc637[_0x27c75b(0x284)]+_0x27c75b(0x1bf)+_0x3bc637[_0x27c75b(0x254)]+_0x27c75b(0x1d4)+_0x3bc637[_0x27c75b(0x254)]+'\x22>',_0x152152[_0x27c75b(0x21d)](_0x39f146),_0x39f146[_0x27c75b(0x2a4)]('input')[_0x27c75b(0x1c9)](function(_0x1fc262){var _0x1d6e5c=_0x27c75b;_0x1fc262[_0x1d6e5c(0x29f)](_0x1d6e5c(0x21f),function(){updateVariantBranches(_0x343a77);});});}});}function updateVariantBranches(_0x3bd224){var _0x5f1bd7=_0x9d1244,_0x4a79b5=document[_0x5f1bd7(0x1fc)](_0x5f1bd7(0x189)+_0x3bd224+'_branch_container'),_0x33a33b=[];_0x4a79b5[_0x5f1bd7(0x2a4)](_0x5f1bd7(0x21b))[_0x5f1bd7(0x1c9)](function(_0x53ed87){var _0x4016e2=_0x5f1bd7,_0x4d3385=_0x53ed87[_0x4016e2(0x1db)](_0x4016e2(0x20a));if(_0x4d3385[_0x4016e2(0x24e)]){var _0x3c9dd6=+_0x4d3385[_0x4016e2(0x25d)]['id'],_0x2e38cc=+_0x53ed87[_0x4016e2(0x1db)](_0x4016e2(0x270))[_0x4016e2(0x1f8)]||0x0,_0x2787af=+_0x53ed87['querySelector'](_0x4016e2(0x198))[_0x4016e2(0x1f8)]||0x0;_0x33a33b[_0x4016e2(0x1d0)]({'setWarehouseCode':_0x3c9dd6,'setStockInitial':_0x2e38cc,'setStockMinimum':_0x2787af});}}),newItems[_0x3bd224]['setItemWarehouses']=_0x33a33b;}async function storeOfflineProduct(_0x15135f){var _0xc135f6=_0x9d1244;try{const _0x1f4ad6=await createCartStore(''),_0x424083=_0x1f4ad6['transaction'](_0xc135f6(0x174),_0xc135f6(0x272)),_0x40a0c6=_0x424083[_0xc135f6(0x1e8)]('offline_operations');_0x40a0c6[_0xc135f6(0x27d)](_0x15135f),_0x424083[_0xc135f6(0x1d5)]=()=>{var _0x348290=_0xc135f6;console[_0x348290(0x24f)](_0x348290(0x242));},_0x424083[_0xc135f6(0x1e5)]=_0xc7af5e=>{var _0x38c3ce=_0xc135f6;console[_0x38c3ce(0x29e)](_0x38c3ce(0x18a),_0xc7af5e[_0x38c3ce(0x19f)]['error']);};}catch(_0x53f77){console['error'](_0xc135f6(0x1f3),_0x53f77);}}document['getElementById'](_0x9d1244(0x29a))[_0x9d1244(0x29f)](_0x9d1244(0x1de),async function(_0x42bd15){var _0x2e41bf=_0x9d1244;_0x42bd15['preventDefault']();const _0x33428c=document[_0x2e41bf(0x1fc)](_0x2e41bf(0x1a6)),_0x1b50ab=document['getElementById'](_0x2e41bf(0x17d))[_0x2e41bf(0x1f8)];if(!_0x33428c[_0x2e41bf(0x1f8)][_0x2e41bf(0x23a)]()&&_0x1b50ab==0x0){ntfShow(_0x2e41bf(0x216),0x2,0x1);return;}_0x1b50ab==0x1&&(_0x33428c[_0x2e41bf(0x1f8)]='',baseItem[_0x2e41bf(0x1f4)]='');const _0x4d853d=document['getElementById']('inputItemName');if(!_0x4d853d[_0x2e41bf(0x1f8)]['trim']()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x2c43c3=document[_0x2e41bf(0x1fc)](_0x2e41bf(0x1da));hideModalCreateItem(),showLoadingModal();newItems[_0x2e41bf(0x1f0)]===0x0&&(newItems=[baseItem]);const _0x55a0ac=document[_0x2e41bf(0x1fc)]('windowId')[_0x2e41bf(0x1f8)],_0xa1be55=window_options[_0x55a0ac][_0x2e41bf(0x237)];let _0x3c36e2=generateNumericUniqId()*0x64+0x1f4,_0x5dffaa=generateNumericUniqId()*0xa;const _0x302b92=[];newItems['forEach'](_0x30c06e=>{var _0x4d3f42=_0x2e41bf;const _0x145d32=++_0x5dffaa;_0x30c06e[_0x4d3f42(0x291)]['forEach'](_0x347021=>{var _0x3e2158=_0x4d3f42;const _0x898ca0=++_0x3c36e2;_0x347021['setUnitPresentationId']=_0x898ca0;const _0x3d31ae={'id':_0x898ca0,'setIdProducto':_0x145d32,'setCodProducto':_0x30c06e[_0x3e2158(0x1f4)],'setDescripcion':_0x30c06e['setItemVariantName']!=''?_0x30c06e[_0x3e2158(0x1a7)]:_0x30c06e[_0x3e2158(0x1f7)],'setItemDescription':_0x30c06e['setItemDescription'],'setBatchExpirationDate':_0x30c06e[_0x3e2158(0x202)],'setBatchName':'','setCategoria':_0x30c06e[_0x3e2158(0x227)][0x0]||'','setMarca':_0x30c06e[_0x3e2158(0x27e)][0x0]||'','setConversionFactor':parseFloat(_0x347021[_0x3e2158(0x258)]),'setImages':[],'setImg':_0x3e2158(0x1ff),'setInventariable':0x1,'setItemIsBought':_0x30c06e[_0x3e2158(0x261)]?0x1:0x0,'setItemIsSold':_0x30c06e[_0x3e2158(0x1e9)]?0x1:0x0,'setPorcentajeIgv':_0x30c06e[_0x3e2158(0x1a8)],'setPrinters':[],'setTaxId':_0x30c06e[_0x3e2158(0x241)],'setTipAfeIgv':_0x30c06e[_0x3e2158(0x1d7)],'setUnidad':_0x347021[_0x3e2158(0x24b)],'setUnidadCodigo':_0x347021[_0x3e2158(0x24b)],'setItemUnitAlias':_0x347021[_0x3e2158(0x220)],'currency_data':[{'currency':_0xa1be55,'setMtoPrecioCostoUnitario':_0x347021[_0x3e2158(0x1bb)],'setMtoPrecioUnitario':_0x347021[_0x3e2158(0x1fb)],'setPriceLists':[]}],'sucursales':_0x30c06e[_0x3e2158(0x1a9)][_0x3e2158(0x1aa)](_0x1b2182=>({'setIdSucursal':_0x1b2182[_0x3e2158(0x1ba)],'setSucursalStock':_0x1b2182['setStockInitial']['toString'](),'setWarehouseStockMin':_0x1b2182[_0x3e2158(0x1b9)][_0x3e2158(0x257)]()})),'setItemFree':_0x30c06e[_0x3e2158(0x17d)],'setItemBarCode':_0x30c06e[_0x3e2158(0x185)],'setItemBrands':_0x30c06e[_0x3e2158(0x27e)][_0x3e2158(0x222)](),'setItemCategories':_0x30c06e[_0x3e2158(0x227)][_0x3e2158(0x222)](),'setItemComponents':_0x30c06e[_0x3e2158(0x29c)][_0x3e2158(0x1aa)](_0x50ddbb=>({..._0x50ddbb})),'setItemImages':_0x30c06e['setItemImages'][_0x3e2158(0x222)](),'setItemVariantName':_0x30c06e['setItemVariantName'],'setItemVariantValues':{..._0x30c06e[_0x3e2158(0x2a0)]}};_0x302b92['push'](_0x3d31ae),(_0x2c43c3[_0x3e2158(0x24e)]||_0x1b50ab==0x1)&&addToCart(_0x3d31ae);});}),console[_0x2e41bf(0x24f)](_0x2e41bf(0x282),newItems),await finalizeImport(_0x302b92,newItems,![]);}),[_0x9d1244(0x23d),'dragover'][_0x9d1244(0x1c9)](_0x1ccf23=>dropZone[_0x9d1244(0x29f)](_0x1ccf23,_0x3308b0=>{var _0x2919f5=_0x9d1244;_0x3308b0['preventDefault'](),dropZone[_0x2919f5(0x1ed)][_0x2919f5(0x27d)](_0x2919f5(0x1e0));})),[_0x9d1244(0x29d),'drop'][_0x9d1244(0x1c9)](_0x2529b5=>dropZone[_0x9d1244(0x29f)](_0x2529b5,_0x17187b=>{var _0x721461=_0x9d1244;_0x17187b['preventDefault'](),dropZone[_0x721461(0x1ed)]['remove'](_0x721461(0x1e0));})),dropZone[_0x9d1244(0x29f)](_0x9d1244(0x1f6),_0x1ac90d=>{var _0x5489d0=_0x9d1244;const _0x57a752=_0x1ac90d[_0x5489d0(0x20b)][_0x5489d0(0x20c)][0x0];if(!_0x57a752)return;fileInput[_0x5489d0(0x20c)]=_0x1ac90d['dataTransfer'][_0x5489d0(0x20c)],dropZone[_0x5489d0(0x1db)](_0x5489d0(0x1c3))['textContent']=_0x57a752[_0x5489d0(0x193)],removeBtn[_0x5489d0(0x23f)]=![],fileInput[_0x5489d0(0x1c5)](new Event(_0x5489d0(0x208)));}),removeBtn['addEventListener'](_0x9d1244(0x1de),()=>{var _0x46a803=_0x9d1244;fileInput['value']='',dropZone['querySelector']('.drop-zone__prompt')[_0x46a803(0x1f2)]=_0x46a803(0x177),removeBtn[_0x46a803(0x23f)]=!![],progressBar[_0x46a803(0x1f1)]['display']=_0x46a803(0x278),statusDiv[_0x46a803(0x1f2)]='',uploadBtn[_0x46a803(0x190)]=!![];}),itemWorker[_0x9d1244(0x1d9)]=({data:_0x1b23db})=>{var _0x30fdc3=_0x9d1244;const {type:_0x1664fd,payload:_0x425f16}=_0x1b23db;_0x1664fd===_0x30fdc3(0x1eb)&&(progressBar[_0x30fdc3(0x1f1)][_0x30fdc3(0x262)]=_0x30fdc3(0x296),progressBar['value']=_0x425f16[_0x30fdc3(0x28c)],statusDiv[_0x30fdc3(0x1f2)]=_0x425f16['message']),_0x1664fd===_0x30fdc3(0x180)&&(newItemsExcel=_0x425f16['items'],statusDiv['textContent']='✅\x20'+newItemsExcel['length']+'\x20items\x20procesados.',uploadBtn[_0x30fdc3(0x190)]=![],progressBar[_0x30fdc3(0x1f8)]=0x64,console[_0x30fdc3(0x24f)](newItemsExcel)),_0x1664fd===_0x30fdc3(0x29e)&&(statusDiv[_0x30fdc3(0x1f2)]=_0x30fdc3(0x260)+_0x425f16,progressBar[_0x30fdc3(0x1f1)]['display']='none');},fileInput[_0x9d1244(0x29f)](_0x9d1244(0x208),async _0x1c67e5=>{var _0x45283c=_0x9d1244;const _0x3800da=_0x1c67e5[_0x45283c(0x19f)][_0x45283c(0x20c)][0x0];if(!_0x3800da)return;uploadBtn[_0x45283c(0x190)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar[_0x45283c(0x1f1)][_0x45283c(0x262)]=_0x45283c(0x278),dropZone[_0x45283c(0x1db)](_0x45283c(0x1c3))[_0x45283c(0x1f2)]=_0x3800da[_0x45283c(0x193)],removeBtn[_0x45283c(0x23f)]=![];try{const _0x5c20c3=await _0x3800da[_0x45283c(0x17a)]();itemWorker['postMessage']({'buf':_0x5c20c3,'maxRows':0x1388});}catch(_0x2d9469){statusDiv[_0x45283c(0x1f2)]=_0x45283c(0x20e);}finally{fileInput['value']='';}}),uploadBtn[_0x9d1244(0x29f)](_0x9d1244(0x1de),async()=>{var _0x578806=_0x9d1244;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3258fe=document[_0x578806(0x1fc)](_0x578806(0x1c4))[_0x578806(0x1f8)],_0x439995=window_options[_0x3258fe][_0x578806(0x237)],_0x3e078c=document[_0x578806(0x1fc)](_0x578806(0x254))[_0x578806(0x1f8)];let _0x3c0361=generateNumericUniqId()*0x64+0x1f4,_0x2debf1=generateNumericUniqId()*0xa;const _0x4284a8=[];newItemsExcel['forEach'](_0x49678f=>{var _0x477b6b=_0x578806;const _0x4fc8ac=++_0x2debf1;_0x49678f['setItemWarehouses']=[{'setStockInitial':_0x49678f[_0x477b6b(0x1b3)],'setStockMinimum':_0x49678f[_0x477b6b(0x1b9)],'setWarehouseCode':_0x3e078c}],_0x49678f['setItemUnits'][_0x477b6b(0x1c9)](_0x3852a9=>{var _0x22b519=_0x477b6b;const _0x3e2cf4=++_0x3c0361;_0x3852a9[_0x22b519(0x1b8)]=_0x3e2cf4;const _0x57ca25={'id':_0x3e2cf4,'setIdProducto':_0x4fc8ac,'setCodProducto':_0x49678f['setItemCode'],'setDescripcion':_0x49678f[_0x22b519(0x1a7)]||_0x49678f[_0x22b519(0x1f7)],'setItemDescription':_0x49678f[_0x22b519(0x1cf)],'setBatchExpirationDate':_0x49678f[_0x22b519(0x202)],'setBatchName':'','setCategoria':_0x49678f['setItemCategories'][0x0]||'','setMarca':_0x49678f['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x3852a9[_0x22b519(0x258)]),'setImages':[],'setImg':_0x22b519(0x1ff),'setInventariable':_0x49678f[_0x22b519(0x1ea)]?0x1:0x0,'setItemIsBought':_0x49678f[_0x22b519(0x261)]?0x1:0x0,'setItemIsSold':_0x49678f[_0x22b519(0x1e9)]?0x1:0x0,'setPorcentajeIgv':_0x49678f[_0x22b519(0x1a8)],'setPrinters':[],'setTaxId':_0x49678f[_0x22b519(0x241)],'setTipAfeIgv':_0x49678f[_0x22b519(0x1d7)],'setUnidad':_0x3852a9[_0x22b519(0x24b)],'setUnidadCodigo':_0x3852a9['setUnitCode'],'currency_data':[{'currency':_0x439995,'setMtoPrecioCostoUnitario':_0x3852a9[_0x22b519(0x1bb)],'setMtoPrecioUnitario':_0x3852a9[_0x22b519(0x1fb)],'setPriceLists':[]}],'sucursales':_0x49678f['setItemWarehouses'][_0x22b519(0x1aa)](_0x430fc7=>({'setIdSucursal':_0x430fc7[_0x22b519(0x1ba)],'setSucursalStock':_0x430fc7['setStockInitial'][_0x22b519(0x257)](),'setWarehouseStockMin':_0x430fc7[_0x22b519(0x1b9)][_0x22b519(0x257)]()})),'setItemFree':_0x49678f[_0x22b519(0x17d)],'setItemBarCode':_0x49678f[_0x22b519(0x185)],'setItemBrands':_0x49678f[_0x22b519(0x27e)][_0x22b519(0x222)](),'setItemCategories':_0x49678f['setItemCategories'][_0x22b519(0x222)](),'setItemComponents':_0x49678f[_0x22b519(0x29c)]['map'](_0x499d5b=>({..._0x499d5b})),'setItemImages':_0x49678f[_0x22b519(0x196)][_0x22b519(0x222)](),'setItemVariantName':_0x49678f[_0x22b519(0x1a7)],'setItemVariantValues':{..._0x49678f[_0x22b519(0x2a0)]}};_0x4284a8[_0x22b519(0x1d0)](_0x57ca25);});}),console['log'](_0x578806(0x282),newItems),await finalizeImport(_0x4284a8,newItemsExcel,!![]);});function initializeFormImages(){var _0x1e302c=_0x9d1244;currentImages=Array(MAX_IMAGES)[_0x1e302c(0x22f)](null),imgC[_0x1e302c(0x234)]='',baseItem[_0x1e302c(0x196)]=[];for(var _0x415ac0=0x0;_0x415ac0<MAX_IMAGES;_0x415ac0++){(function(_0x3301b9){var _0x13e025=_0x1e302c,_0xb7a326=document[_0x13e025(0x290)](_0x13e025(0x21b));_0xb7a326[_0x13e025(0x293)]=_0x13e025(0x228),_0xb7a326[_0x13e025(0x25d)][_0x13e025(0x247)]=_0x3301b9;var _0x40d549=document[_0x13e025(0x290)](_0x13e025(0x21f));_0x40d549[_0x13e025(0x214)]=_0x13e025(0x213),_0x40d549[_0x13e025(0x276)]=_0x13e025(0x1b1),_0x40d549[_0x13e025(0x1f1)][_0x13e025(0x262)]=_0x13e025(0x278);var _0x5dcf36=document[_0x13e025(0x290)](_0x13e025(0x259));_0x5dcf36[_0x13e025(0x1f2)]='+',_0xb7a326[_0x13e025(0x21d)](_0x40d549),_0xb7a326[_0x13e025(0x21d)](_0x5dcf36),imgC['appendChild'](_0xb7a326),_0xb7a326['addEventListener']('click',function(){var _0x19e17d=_0x13e025;_0x40d549[_0x19e17d(0x1de)]();}),_0x40d549[_0x13e025(0x29f)](_0x13e025(0x208),function(_0xe960ac){var _0x22009c=_0x13e025,_0x27fb80=_0xe960ac[_0x22009c(0x19f)]['files'][0x0];if(!_0x27fb80)return removeImg(_0x3301b9);var _0xb253fc=new FileReader();_0xb253fc['onload']=function(_0x3e461c){var _0x6d3ce=_0x22009c;_0xb7a326[_0x6d3ce(0x234)]=_0x6d3ce(0x184)+_0x3e461c[_0x6d3ce(0x19f)][_0x6d3ce(0x264)]+'\x22>';var _0x4495fb=document[_0x6d3ce(0x290)](_0x6d3ce(0x259));_0x4495fb['className']=_0x6d3ce(0x1fe),_0x4495fb[_0x6d3ce(0x1f2)]='×',_0x4495fb[_0x6d3ce(0x29f)](_0x6d3ce(0x1de),function(_0x5750b9){var _0x232608=_0x6d3ce;_0x5750b9[_0x232608(0x1be)](),removeImg(_0x3301b9);}),_0xb7a326['appendChild'](_0x4495fb),currentImages[_0x3301b9]=_0x27fb80,baseItem['setItemImages']=currentImages[_0x6d3ce(0x21c)](function(_0xf52753){return _0xf52753;});},_0xb253fc[_0x22009c(0x183)](_0x27fb80);});}(_0x415ac0));}}function initializeFormIsSoldIsBought(){var _0x288fd8=_0x9d1244;document[_0x288fd8(0x1fc)](_0x288fd8(0x179))['checked']=!![],document['getElementById'](_0x288fd8(0x22a))['checked']=!![],baseItem[_0x288fd8(0x261)]=!![],baseItem[_0x288fd8(0x1e9)]=!![];}function initializeFormInputsBasic(){var _0x22a58b=_0x9d1244;document[_0x22a58b(0x1fc)](_0x22a58b(0x223))[_0x22a58b(0x1f8)]='1',document['getElementById'](_0x22a58b(0x1a6))[_0x22a58b(0x1f8)]=getNextCode(products),document[_0x22a58b(0x1fc)]('inputItemName')[_0x22a58b(0x1f8)]='',document[_0x22a58b(0x1fc)](_0x22a58b(0x203))[_0x22a58b(0x1f8)]='',document['getElementById']('inputItemDateExpiry')['value']='',document['getElementById'](_0x22a58b(0x18c))[_0x22a58b(0x1f8)]='',baseItem[_0x22a58b(0x207)]='1',baseItem['setItemCode']=getNextCode(products),baseItem['setItemName']='',baseItem[_0x22a58b(0x1cf)]='',baseItem[_0x22a58b(0x202)]='',baseItem['setItemBarCode']='',document[_0x22a58b(0x1fc)](_0x22a58b(0x1da))[_0x22a58b(0x24e)]=![];}function initializeFormTax(){var _0x5a7ab6=_0x9d1244;const _0x23b927=myCompany['setTaxIdDefault'],_0x731ef1=document['getElementById'](_0x5a7ab6(0x26c));_0x731ef1['value']=_0x23b927,baseItem['setItemTaxId']=_0x23b927;const _0x130826=company[0x0][_0x5a7ab6(0x24d)][_0x5a7ab6(0x191)](_0x2d300e=>_0x2d300e[_0x5a7ab6(0x23c)]==_0x23b927)?.[_0x5a7ab6(0x28a)]||0x0,_0x17e54a=company[0x0]['setImpuestos'][_0x5a7ab6(0x191)](_0x5e6825=>_0x5e6825[_0x5a7ab6(0x23c)]==_0x23b927)?.[_0x5a7ab6(0x22c)]||0x0;baseItem[_0x5a7ab6(0x1d7)]=_0x130826,baseItem[_0x5a7ab6(0x1a8)]=_0x17e54a;}function initializeFormCategoriesBrands(){var _0xfc7ac2=_0x9d1244;baseItem['setItemCategories']=[],baseItem['setItemBrands']=[],document[_0xfc7ac2(0x1db)]('#newItem_categories_select\x20.selected_tags')['innerHTML']='',document[_0xfc7ac2(0x1db)](_0xfc7ac2(0x281))[_0xfc7ac2(0x234)]='',document['querySelector'](_0xfc7ac2(0x209))['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.options_list')[_0xfc7ac2(0x234)]='';const _0x1babaf=uniqueValuesArray('setCategoria',_0xfc7ac2(0x236),products),_0x103b24=uniqueValuesArray('setMarca',_0xfc7ac2(0x178),products),_0x3d98a6=initMulti('newItem_categories_select',_0x1babaf),_0x49dcc2=initMulti(_0xfc7ac2(0x19b),_0x103b24);document['getElementById'](_0xfc7ac2(0x1b5))[_0xfc7ac2(0x29f)](_0xfc7ac2(0x1b7),function(_0x71caee){var _0x127625=_0xfc7ac2;baseItem[_0x127625(0x227)]=_0x3d98a6['map'](_0x484627=>_0x484627[_0x127625(0x286)]);}),document[_0xfc7ac2(0x1fc)](_0xfc7ac2(0x19b))[_0xfc7ac2(0x29f)](_0xfc7ac2(0x1b7),function(_0x24051c){var _0x3ed47b=_0xfc7ac2;baseItem[_0x3ed47b(0x27e)]=_0x49dcc2[_0x3ed47b(0x1aa)](_0x2f72a1=>_0x2f72a1['setCode']);});}function initializeFormUnits(){var _0x17be11=_0x9d1244;unitCount=0x0,document[_0x17be11(0x1fc)](_0x17be11(0x1ec))[_0x17be11(0x234)]='',baseItem[_0x17be11(0x291)]=[];var _0x3b6e8f=uniqueValuesArray(_0x17be11(0x243),_0x17be11(0x243),products);addUnit('',_0x3b6e8f[0x0]&&_0x3b6e8f[0x0][_0x17be11(0x286)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x4a100d=_0x9d1244;prodC['innerHTML']='',baseItem[_0x4a100d(0x29c)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x13010e=_0x9d1244;branchesC['innerHTML']='',baseItem[_0x13010e(0x1a9)]=[];const _0x5811a4=getAllWarehouses();_0x5811a4[_0x13010e(0x1c9)](function(_0x2c53bd){var _0x37bd7b=_0x13010e,_0x2da3f5=document[_0x37bd7b(0x290)](_0x37bd7b(0x21b));_0x2da3f5[_0x37bd7b(0x234)]=_0x37bd7b(0x217)+'<div\x20class=\x22newItem_col\x22>'+_0x37bd7b(0x2a3)+_0x2c53bd[_0x37bd7b(0x254)]+_0x37bd7b(0x248)+_0x2c53bd[_0x37bd7b(0x284)]+_0x37bd7b(0x1d2)+_0x37bd7b(0x21a)+_0x37bd7b(0x28b)+_0x37bd7b(0x1f5)+_0x2c53bd[_0x37bd7b(0x254)]+'\x22>'+_0x37bd7b(0x21a)+_0x37bd7b(0x28b)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x2c53bd[_0x37bd7b(0x254)]+'\x22>'+_0x37bd7b(0x21a)+_0x37bd7b(0x21a),branchesC[_0x37bd7b(0x21d)](_0x2da3f5),_0x2da3f5[_0x37bd7b(0x2a4)](_0x37bd7b(0x21f))[_0x37bd7b(0x1c9)](function(_0x588802){var _0x2492b3=_0x37bd7b;_0x588802[_0x2492b3(0x29f)](_0x2492b3(0x21f),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5533b2=_0x9d1244;baseItem['setItemVariantName']='',baseItem[_0x5533b2(0x2a0)]={},vgC['innerHTML']='',varContainer[_0x5533b2(0x234)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x220835,_0x33e350,_0x41d011=![]){var _0x382a20=_0x9d1244;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x382a20(0x246),'setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0][_0x382a20(0x18e)],'newItems':_0x33e350}),products[_0x382a20(0x1d0)](..._0x220835),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x382a20(0x225)),_0x41d011?(fileInput['value']='',uploadBtn[_0x382a20(0x190)]=!![],statusDiv[_0x382a20(0x1f2)]='',progressBar[_0x382a20(0x1f1)][_0x382a20(0x262)]=_0x382a20(0x278),progressBar[_0x382a20(0x1f8)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}