/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.8
*/

const _0xa166df=_0x1bd3;(function(_0x3c0dec,_0x5d198b){const _0x214b8f=_0x1bd3,_0x4d0200=_0x3c0dec();while(!![]){try{const _0x2cd48e=-parseInt(_0x214b8f(0x1f1))/0x1+parseInt(_0x214b8f(0x1d7))/0x2+-parseInt(_0x214b8f(0x149))/0x3+-parseInt(_0x214b8f(0x9f))/0x4*(parseInt(_0x214b8f(0x1f4))/0x5)+parseInt(_0x214b8f(0x104))/0x6*(-parseInt(_0x214b8f(0x18b))/0x7)+parseInt(_0x214b8f(0x229))/0x8+-parseInt(_0x214b8f(0x126))/0x9*(-parseInt(_0x214b8f(0x79))/0xa);if(_0x2cd48e===_0x5d198b)break;else _0x4d0200['push'](_0x4d0200['shift']());}catch(_0x387d20){_0x4d0200['push'](_0x4d0200['shift']());}}}(_0x2fbe,0xe14bd));const _0x1290af=(function(){let _0x3069f8=!![];return function(_0x404803,_0x39ac90){const _0x5e6442=_0x3069f8?function(){const _0x202e7f=_0x1bd3;if(_0x39ac90){const _0x3facd0=_0x39ac90[_0x202e7f(0x75)](_0x404803,arguments);return _0x39ac90=null,_0x3facd0;}}:function(){};return _0x3069f8=![],_0x5e6442;};}()),_0x20f0a2=_0x1290af(this,function(){const _0x130f81=_0x1bd3;return _0x20f0a2[_0x130f81(0xba)]()[_0x130f81(0x160)](_0x130f81(0x1df))['toString']()['constructor'](_0x20f0a2)[_0x130f81(0x160)](_0x130f81(0x1df));});_0x20f0a2();const _0x37fdfe=(function(){let _0x5d64f5=!![];return function(_0x4bf7ed,_0x539a19){const _0x1e4dc5=_0x5d64f5?function(){const _0x35a501=_0x1bd3;if(_0x539a19){const _0x500350=_0x539a19[_0x35a501(0x75)](_0x4bf7ed,arguments);return _0x539a19=null,_0x500350;}}:function(){};return _0x5d64f5=![],_0x1e4dc5;};}()),_0x4676c8=_0x37fdfe(this,function(){const _0x2c0db9=_0x1bd3,_0x197257=function(){const _0x117130=_0x1bd3;let _0x3eb10d;try{_0x3eb10d=Function(_0x117130(0x1b8)+_0x117130(0x166)+');')();}catch(_0x210ed4){_0x3eb10d=window;}return _0x3eb10d;},_0x40df6d=_0x197257(),_0x5ce210=_0x40df6d['console']=_0x40df6d['console']||{},_0x48bea4=['log','warn',_0x2c0db9(0x222),'error',_0x2c0db9(0xb4),'table',_0x2c0db9(0x132)];for(let _0x445d27=0x0;_0x445d27<_0x48bea4[_0x2c0db9(0x203)];_0x445d27++){const _0x22b27a=_0x37fdfe[_0x2c0db9(0x105)][_0x2c0db9(0xd8)][_0x2c0db9(0xa1)](_0x37fdfe),_0x519d7e=_0x48bea4[_0x445d27],_0x4bb805=_0x5ce210[_0x519d7e]||_0x22b27a;_0x22b27a['__proto__']=_0x37fdfe[_0x2c0db9(0xa1)](_0x37fdfe),_0x22b27a[_0x2c0db9(0xba)]=_0x4bb805[_0x2c0db9(0xba)][_0x2c0db9(0xa1)](_0x4bb805),_0x5ce210[_0x519d7e]=_0x22b27a;}});_0x4676c8();let myCompany,db=null,dbPromise=null,db_name=_0xa166df(0x139),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero',_0xa166df(0xdd),_0xa166df(0xe2),_0xa166df(0x128),_0xa166df(0xcd),_0xa166df(0x1ae),_0xa166df(0x7a),_0xa166df(0x1d2),_0xa166df(0x1c7),_0xa166df(0x195),_0xa166df(0x1c3),_0xa166df(0x77)],gdfg5g=_0xa166df(0xe4),x45fgd='x3',xjehd78=_0xa166df(0x1f5),cxkdj4=_0xa166df(0x150),x87s8d=_0xa166df(0x10f),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0xa166df(0x220),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0xa166df(0x91),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0xa166df(0x206),xg123f=_0xa166df(0x202),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0xa166df(0x1d0),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0xa166df(0x201),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0xa166df(0x72),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0xa166df(0x1ca),x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33='64x32xsystem',kkx12='s',ak47r=_0xa166df(0x9c),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0xa166df(0x1a3),p34d9='d',kx32h='v',yx34l='p',pltbr=_0xa166df(0x73),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0xa166df(0xb5),'S02',_0xa166df(0x165),_0xa166df(0xdb),_0xa166df(0x110),_0xa166df(0xad),'cl19',_0xa166df(0xf9),_0xa166df(0xfd),'uy22',_0xa166df(0x1ab)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0xa166df(0x19a)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0xa166df(0xee),_0xa166df(0x9d),_0xa166df(0x1bf),_0xa166df(0x214),_0xa166df(0x1e8),_0xa166df(0x11e)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0xa166df(0x19a)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0xa166df(0x19a)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders['concat'](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0xd4713a){const _0xa0a95b=_0xa166df,_0x453d73=new URLSearchParams(window[_0xa0a95b(0x1e4)][_0xa0a95b(0x160)]);return _0x453d73['get'](_0xd4713a);}function setUserNameGet(){const _0x564c6b=_0xa166df,_0x33d3f2=getQueryParam(_0x564c6b(0x194)),_0x45abb6=document['getElementById'](_0x564c6b(0xa8));_0x33d3f2&&_0x45abb6&&(_0x45abb6[_0x564c6b(0x158)]=_0x33d3f2);}function generateUniqId(){const _0x5189b9=_0xa166df;return Date[_0x5189b9(0x11d)]()+'_'+Math[_0x5189b9(0xcc)]()[_0x5189b9(0xba)](0x24)[_0x5189b9(0x1a0)](0x2,0x9);}function generateNumericUniqId(){const _0x13a7f2=_0xa166df,_0x4ce291=Date[_0x13a7f2(0x11d)]()*0x3e8,_0x495aa2=Math[_0x13a7f2(0xe1)](Math['random']()*0x3e8);return _0x4ce291+_0x495aa2;}function blobAStringBase64(_0x5f31c4){return new Promise((_0x491ea5,_0x175a65)=>{const _0x830481=_0x1bd3,_0x1bbd8a=new FileReader();_0x1bbd8a['onloadend']=()=>{const _0x27e294=_0x1bd3,_0x50214c=_0x1bbd8a[_0x27e294(0x1f8)],_0x279d79=_0x50214c[_0x27e294(0xec)](',');if(_0x279d79[_0x27e294(0x203)]!==0x2)return _0x175a65(new Error(_0x27e294(0xbd)));_0x491ea5(_0x279d79[0x1]);},_0x1bbd8a[_0x830481(0x221)]=_0x2d38d7=>_0x175a65(_0x2d38d7),_0x1bbd8a[_0x830481(0x144)](_0x5f31c4);});}async function generarBarcodeDataURL(_0x3cecc8,_0x244879){return new Promise((_0x4c33d1,_0x368506)=>{const _0x1371dd=_0x1bd3,_0x2aab00=myCompany[_0x1371dd(0x159)]['find'](_0x26e646=>_0x26e646[_0x1371dd(0xb2)]==_0x3cecc8),_0x40ed43=_0x2aab00?_0x2aab00[_0x1371dd(0x84)]:_0x1371dd(0x116),_0x245a93=document['createElementNS'](_0x1371dd(0x16b),_0x1371dd(0x226));JsBarcode(_0x245a93,_0x244879,{'format':_0x40ed43,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x11ac70=new XMLSerializer()[_0x1371dd(0x100)](_0x245a93),_0x3439d0=btoa(_0x11ac70),_0x1d3a4b=_0x1371dd(0xf1)+_0x3439d0,_0x4e3cbe=new Image();_0x4e3cbe[_0x1371dd(0x153)]=()=>{const _0xae32d8=_0x1371dd,_0x3d4795=document[_0xae32d8(0x1af)](_0xae32d8(0x22c));_0x3d4795[_0xae32d8(0x1e6)]=_0x4e3cbe[_0xae32d8(0x1e6)],_0x3d4795[_0xae32d8(0xf5)]=_0x4e3cbe[_0xae32d8(0xf5)];const _0x32a72a=_0x3d4795[_0xae32d8(0x125)]('2d');_0x32a72a['drawImage'](_0x4e3cbe,0x0,0x0);const _0x3923b3=_0x3d4795[_0xae32d8(0x20e)]('image/png');_0x4c33d1(_0x3923b3);},_0x4e3cbe[_0x1371dd(0x221)]=_0x477bfe=>_0x368506(_0x477bfe),_0x4e3cbe['src']=_0x1d3a4b;});}async function generarStickersPDF(_0x5cc310,_0x31bfd4){const _0x346a3b=_0xa166df,{PDFDocument:_0x28afba,StandardFonts:_0x3d29d9,rgb:_0x247b4c}=PDFLib,_0x249066=await _0x28afba[_0x346a3b(0x1f9)](),_0x3b4a0d=_0x15069d=>_0x15069d*2.83465,_0x1c29e3=_0x3b4a0d(0x70*0x2),_0x33c6fe=_0x3b4a0d(40.8),_0x22a020=_0x249066[_0x346a3b(0x1c5)]([_0x1c29e3,_0x33c6fe]),_0xad15ff=await _0x249066['embedFont'](_0x3d29d9[_0x346a3b(0x10e)]),_0x5100ba=Array(0x2)['fill'](_0x31bfd4),_0x519dba=0x2,_0x33ddb4=0x1,_0x1ee4e9=0xc,_0x2cc840=_0x1c29e3/_0x519dba,_0x1280da=_0x33c6fe/_0x33ddb4;for(let _0x5259c4=0x0;_0x5259c4<0x2;_0x5259c4++){const _0x179bcc=_0x5100ba[_0x5259c4],_0x13950e=await generarBarcodeDataURL(_0x5cc310,_0x179bcc),_0xb1ae8d=_0x13950e[_0x346a3b(0xec)](',')[0x1],_0x3f7f5e=Uint8Array[_0x346a3b(0x130)](atob(_0xb1ae8d),_0x3cc389=>_0x3cc389['charCodeAt'](0x0));let _0x41f859;try{_0x41f859=await _0x249066[_0x346a3b(0x11b)](_0x3f7f5e);}catch{_0x41f859=await _0x249066['embedJpg'](_0x3f7f5e);}const _0x2d8a86=0x5,_0x369ebd=_0x1ee4e9+0x4,_0x399229=_0x2cc840-_0x2d8a86*0x2,_0x404e2f=_0x1280da-_0x2d8a86*0x2-_0x369ebd,_0x26eb41=_0x41f859[_0x346a3b(0x1e6)],_0x46105b=_0x41f859[_0x346a3b(0xf5)],_0x3f0ae6=Math[_0x346a3b(0x19b)](_0x399229/_0x26eb41,_0x404e2f/_0x46105b,0x1),_0x11efd6=_0x41f859['scale'](_0x3f0ae6),_0x56ed46=_0x5259c4%_0x519dba,_0x211b4c=_0x56ed46*_0x2cc840+(_0x2cc840-_0x11efd6[_0x346a3b(0x1e6)])/0x2,_0xb63b10=(_0x1280da-_0x11efd6[_0x346a3b(0xf5)]-_0x369ebd)/0x2+_0x369ebd;_0x22a020[_0x346a3b(0xe3)](_0x41f859,{'x':_0x211b4c,'y':_0xb63b10,'width':_0x11efd6['width'],'height':_0x11efd6[_0x346a3b(0xf5)]});const _0xc7bcb7=_0xad15ff['widthOfTextAtSize'](_0x179bcc,_0x1ee4e9),_0x3cae9f=_0x211b4c+(_0x11efd6[_0x346a3b(0x1e6)]-_0xc7bcb7)/0x2,_0x289ff2=_0xb63b10-(_0x1ee4e9+0x2);_0x22a020['drawText'](_0x179bcc,{'x':_0x3cae9f,'y':_0x289ff2,'size':_0x1ee4e9,'font':_0xad15ff,'color':_0x247b4c(0x0,0x0,0x0)});}const _0x255e4c=await _0x249066[_0x346a3b(0x131)](),_0x1b83b9=new Blob([_0x255e4c],{'type':'application/pdf'}),_0x5743e4=URL[_0x346a3b(0xd1)](_0x1b83b9);window['open'](_0x5743e4);}async function sendEmail(_0x42c9b4,_0x1bbc62,_0x3dc783,_0x20dac1,_0x20251e,_0x4ec07f,_0x3a2478,_0x5cb7b2,_0x516739,_0x4d1fe7){const _0x2adc74=_0xa166df;if(isOnline()){const _0x10fd19={'setAuthToken':_0x42c9b4,'senderName':_0x1bbc62,'senderEmail':_0x3dc783,'senderPassword':_0x20dac1,'smtpHost':_0x20251e,'smtpPort':_0x4ec07f,'emailsDestination':_0x3a2478,'subject':_0x5cb7b2,'message':_0x516739,'attachFiles':_0x4d1fe7};try{const _0x3ab74e=await fetch(_0x2adc74(0x1ef),{'method':_0x2adc74(0x1e3),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x10fd19)}),_0x220081=await _0x3ab74e[_0x2adc74(0x10d)]();if(!_0x3ab74e['ok']||!_0x220081[_0x2adc74(0x169)]){console[_0x2adc74(0x7b)](_0x2adc74(0x7f),_0x220081),ntfShow('Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}ntfShow(_0x2adc74(0x120));}catch(_0x49d2b1){console[_0x2adc74(0x7b)](_0x2adc74(0xf2),_0x49d2b1),ntfShow(_0x2adc74(0x13d));}}}function loadLoginContent(_0x264b2e){const _0x49a64e=_0xa166df,_0x2fd951=document[_0x49a64e(0x1a7)](_0x49a64e(0xcb));_0x2fd951[_0x49a64e(0x1cc)]=_0x49a64e(0x1da)+_0x264b2e+_0x49a64e(0x102);}function addNumber(_0x28aeca){const _0xbd068b=_0xa166df;document[_0xbd068b(0x1a7)](_0xbd068b(0xa7))[_0xbd068b(0x158)]+=_0x28aeca;}function deleteNumber(){const _0x35b33a=_0xa166df;let _0x4f558a=document['getElementById'](_0x35b33a(0xa7));_0x4f558a[_0x35b33a(0x158)]=_0x4f558a['value']['slice'](0x0,-0x1);}function togglePassword(){const _0x2bddba=_0xa166df;let _0x2e4dbe=document[_0x2bddba(0x1a7)](_0x2bddba(0xa7));_0x2e4dbe['type']=_0x2e4dbe[_0x2bddba(0x1c6)]==_0x2bddba(0xa7)?_0x2bddba(0x14f):'password';}function setEventBtnAccess(){const _0x163386=_0xa166df,_0x5da840=document[_0x163386(0x1a7)](_0x163386(0x1ec));_0x5da840[_0x163386(0xdc)]=function(){acceder();};}function isOnline(){const _0x3a88df=_0xa166df;return window[_0x3a88df(0x151)][_0x3a88df(0xa4)];}function showLoadingModal(){const _0x524c6f=_0xa166df,_0x17356b=document[_0x524c6f(0x1af)](_0x524c6f(0x176));_0x17356b['id']='loadingModal',_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0xac)]='fixed',_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0x1fb)]='0',_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0x13b)]='0',_0x17356b['style'][_0x524c6f(0x1e6)]=_0x524c6f(0x123),_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0xf5)]='100%',_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0x18f)]=_0x524c6f(0x16c),_0x17356b[_0x524c6f(0xfe)]['display']=_0x524c6f(0x1ad),_0x17356b['style']['justifyContent']=_0x524c6f(0xb3),_0x17356b['style']['alignItems']='center',_0x17356b['style'][_0x524c6f(0x148)]=_0x524c6f(0x192),_0x17356b[_0x524c6f(0xfe)][_0x524c6f(0x1d9)]='1',_0x17356b[_0x524c6f(0xfe)]['transition']=_0x524c6f(0x20a),_0x17356b[_0x524c6f(0x1cc)]='\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a',document[_0x524c6f(0xca)][_0x524c6f(0x1fa)](_0x17356b);}function hideLoadingModal(){const _0x9cc6bf=_0xa166df,_0x487d6d=document['getElementById']('loadingModal');_0x487d6d&&(_0x487d6d['style'][_0x9cc6bf(0x1d9)]='0',_0x487d6d['remove']());}function cargarAlmacenes(_0x5692f2){const _0x501f73=_0xa166df,_0x2d6b97=document[_0x501f73(0x1a7)]('setWarehouseId');_0x2d6b97[_0x501f73(0x1cc)]='';const _0x4e1e40=company[0x0]['setBranches'][_0x501f73(0x96)](_0x1458c1=>_0x1458c1['setBranchId']==_0x5692f2);_0x4e1e40&&_0x4e1e40['setWarehouses'][_0x501f73(0x203)]>0x0&&_0x4e1e40[_0x501f73(0x1dd)]['forEach'](_0x255960=>{const _0x5e7593=_0x501f73;let _0x588785=document[_0x5e7593(0x1af)]('option');_0x588785['value']=_0x255960[_0x5e7593(0x1bb)],_0x588785['textContent']=_0x255960[_0x5e7593(0x114)],_0x2d6b97[_0x5e7593(0x1fa)](_0x588785);});}function getAllWarehouses(){const _0x42d4d8=_0xa166df,_0x4a6c20=company[0x0][_0x42d4d8(0x1cd)]||[],_0x4a0e18=new Map();return _0x4a6c20[_0x42d4d8(0x140)](_0x46f2bc=>{const _0x55f39e=_0x42d4d8;(_0x46f2bc[_0x55f39e(0x1dd)]||[])[_0x55f39e(0x140)](_0x61f9c4=>{const _0x385c8f=_0x55f39e;!_0x4a0e18[_0x385c8f(0x174)](_0x61f9c4['setWarehouseId'])&&_0x4a0e18['set'](_0x61f9c4[_0x385c8f(0x1bb)],{'setWarehouseId':_0x61f9c4[_0x385c8f(0x1bb)],'setWarehouseName':_0x61f9c4['setWarehouseName']+'\x20('+_0x46f2bc[_0x385c8f(0x19d)]+')'});});}),Array[_0x42d4d8(0x130)](_0x4a0e18[_0x42d4d8(0x1eb)]());}function cargarPisos(_0x5705b0){const _0x13c459=_0xa166df,_0x5c22d0=company[0x0][_0x13c459(0x1a8)][_0x13c459(0xfa)](_0x41a937=>_0x41a937[_0x13c459(0x1b0)]==_0x5705b0),_0x4a80bd={};_0x5c22d0[_0x13c459(0x140)](_0x425a0b=>{const _0x38ae0f=_0x13c459;_0x4a80bd[_0x425a0b[_0x38ae0f(0xa5)]]=_0x425a0b[_0x38ae0f(0x1c2)];});const _0x19d7d0=document[_0x13c459(0x1a7)](_0x13c459(0xa5));_0x19d7d0[_0x13c459(0x1cc)]='';for(const _0x1329db in _0x4a80bd){const _0x1368ef=document[_0x13c459(0x1af)](_0x13c459(0x83));_0x1368ef[_0x13c459(0x158)]=_0x1329db,_0x1368ef[_0x13c459(0xda)]=_0x4a80bd[_0x1329db],_0x19d7d0[_0x13c459(0x1fa)](_0x1368ef);}}document[_0xa166df(0x1a7)]('fullscreen-btn')[_0xa166df(0xcf)](_0xa166df(0x1dc),()=>{const _0x2a0bc3=_0xa166df,_0x2be373=document[_0x2a0bc3(0x111)],_0x4a7e33=document[_0x2a0bc3(0x177)]||document[_0x2a0bc3(0x133)]||document[_0x2a0bc3(0x17d)]||document[_0x2a0bc3(0x19c)];if(!_0x4a7e33){if(_0x2be373['requestFullscreen'])_0x2be373[_0x2a0bc3(0x1d8)]();else{if(_0x2be373[_0x2a0bc3(0x21b)])_0x2be373[_0x2a0bc3(0x21b)]();else{if(_0x2be373['mozRequestFullScreen'])_0x2be373[_0x2a0bc3(0xd5)]();else _0x2be373[_0x2a0bc3(0x134)]&&_0x2be373[_0x2a0bc3(0x134)]();}}}else{if(document[_0x2a0bc3(0x12e)])document[_0x2a0bc3(0x12e)]();else{if(document[_0x2a0bc3(0xc8)])document[_0x2a0bc3(0xc8)]();else{if(document[_0x2a0bc3(0x103)])document[_0x2a0bc3(0x103)]();else document[_0x2a0bc3(0x175)]&&document[_0x2a0bc3(0x175)]();}}}});function ntf_formatDateDMY(_0x38f57e){const _0x266b24=_0xa166df;var _0x41c4fd=new Date(_0x38f57e),_0x4601e0=_0x41c4fd[_0x266b24(0x187)](),_0xed1dbe=_0x41c4fd[_0x266b24(0x14a)](),_0x45383b=monthsEspanish[_0x41c4fd['getMonth']()];return _0x4601e0+'\x20de\x20'+_0x45383b+_0x266b24(0xa2)+_0xed1dbe;}function ntf_groupBy(_0x1ab4f1,_0x3e0ae1){const _0x343d23=_0xa166df;return _0x1ab4f1[_0x343d23(0x16d)](function(_0x53a869,_0x7dbadd){const _0x2e76d2=_0x343d23;var _0x3fdbc6=_0x7dbadd[_0x3e0ae1];return _0x53a869[_0x3fdbc6]=_0x53a869[_0x3fdbc6]||[],_0x53a869[_0x3fdbc6][_0x2e76d2(0x198)](_0x7dbadd),_0x53a869;},{});}function ntf_isExpired(_0x2d62ef){const _0x3d389b=_0xa166df;if(!_0x2d62ef)return![];var _0x5eb842=new Date();return _0x5eb842[_0x3d389b(0x147)](0x0,0x0,0x0,0x0),new Date(_0x2d62ef)<=_0x5eb842;}function ntf_getNotifications(){const _0x5e30fa=_0xa166df;var _0x397c64=parseInt(document['getElementById']('setWarehouseId')[_0x5e30fa(0x158)],0xa),_0x28b84f=ntf_groupBy(products,_0x5e30fa(0x1c1)),_0x176d42=[];return Object[_0x5e30fa(0x172)](_0x28b84f)['forEach'](function(_0x2264e6){const _0x3e0a44=_0x5e30fa;var _0xc7d25d=_0x28b84f[_0x2264e6],_0x2dfa09=_0xc7d25d[0x0],_0x1ff54a=(_0x2dfa09[_0x3e0a44(0x162)]||[])['find'](function(_0x45f033){const _0x206120=_0x3e0a44;return _0x45f033[_0x206120(0x15a)]==_0x397c64;});if(!_0x1ff54a)return;var _0x5d56c9=parseFloat(_0x1ff54a[_0x3e0a44(0xfb)]),_0x2971a0=parseFloat(_0x1ff54a[_0x3e0a44(0xe9)]);_0x2dfa09['setInventariable']==0x1&&_0x5d56c9<=_0x2971a0&&_0x176d42['push']({'type':0x1,'id_registro':_0x2dfa09['id'],'title':_0x3e0a44(0x1ce)+_0x2dfa09['setDescripcion'],'message':'\x0aEl\x20producto\x20\x22'+_0x2dfa09[_0x3e0a44(0xd7)]+_0x3e0a44(0x213)+_0x2971a0[_0x3e0a44(0x14e)](0x3)+_0x3e0a44(0x22d)+_0x5d56c9[_0x3e0a44(0x14e)](0x3)+'\x0a','data':{'producto':_0x2dfa09,'stock':_0x5d56c9,'minStock':_0x2971a0}}),_0x2dfa09[_0x3e0a44(0x12a)]&&ntf_isExpired(_0x2dfa09['setBatchExpirationDate'])&&_0x176d42[_0x3e0a44(0x198)]({'type':0x2,'id_registro':_0x2dfa09['id'],'title':_0x3e0a44(0x107)+_0x2dfa09[_0x3e0a44(0xd7)],'message':_0x3e0a44(0x171)+_0x2dfa09[_0x3e0a44(0xd7)]+_0x3e0a44(0xeb)+ntf_formatDateDMY(_0x2dfa09['setBatchExpirationDate'])+_0x3e0a44(0x170)+_0x3e0a44(0x8b)+_0x5d56c9['toFixed'](0x3),'data':{'producto':_0x2dfa09,'expiration':_0x2dfa09[_0x3e0a44(0x12a)]}});}),_0x176d42;}function ntf_renderNotifications(){const _0x52332e=_0xa166df;var _0x216632=ntf_getNotifications(),_0x459b16=document[_0x52332e(0x1a7)](_0x52332e(0x1de)),_0x487205=document['getElementById']('ntf-notif-count');_0x459b16[_0x52332e(0x1cc)]='',_0x487205[_0x52332e(0xda)]=_0x216632[_0x52332e(0x203)];if(_0x216632[_0x52332e(0x203)]===0x0){var _0x499429=document[_0x52332e(0x1af)]('li');_0x499429[_0x52332e(0xda)]=_0x52332e(0x188),_0x459b16[_0x52332e(0x1fa)](_0x499429);return;}_0x216632[_0x52332e(0x140)](function(_0x5376ee,_0x7c139){const _0x261195=_0x52332e;var _0x3a814f=document[_0x261195(0x1af)]('li');_0x3a814f['textContent']=_0x5376ee[_0x261195(0x1ac)],_0x3a814f[_0x261195(0x224)](_0x261195(0x1b2),_0x7c139),_0x459b16[_0x261195(0x1fa)](_0x3a814f);});}function ntf_openModal(_0x256d12){const _0x3834f3=_0xa166df;var _0x496a55=document[_0x3834f3(0x1a7)](_0x3834f3(0x156)),_0x2ebca3=document['getElementById'](_0x3834f3(0x13c)),_0x2c9120=document['getElementById'](_0x3834f3(0x17f));_0x496a55['innerHTML']=_0x3834f3(0xdf)+_0x256d12[_0x3834f3(0x1ac)]+_0x3834f3(0x11f)+_0x256d12[_0x3834f3(0x190)]+_0x3834f3(0xc9),_0x2ebca3['innerHTML']='';if(_0x256d12[_0x3834f3(0x1c6)]===0x1)[_0x3834f3(0xb6),_0x3834f3(0x227),'Ver\x20movimientos'][_0x3834f3(0x140)](function(_0x4d8b1c){const _0x2a7b35=_0x3834f3;var _0x45150a=document[_0x2a7b35(0x1af)]('button');_0x45150a['textContent']=_0x4d8b1c,_0x45150a[_0x2a7b35(0xcf)](_0x2a7b35(0x1dc),function(){const _0xf93cf9=_0x2a7b35;console[_0xf93cf9(0xbe)]('Acción\x20\x22'+_0x4d8b1c+'\x22\x20para\x20registro\x20#'+_0x256d12['id_registro']);}),_0x2ebca3[_0x2a7b35(0x1fa)](_0x45150a);});else _0x256d12[_0x3834f3(0x1c6)]===0x2&&[_0x3834f3(0x12d),_0x3834f3(0x1a9)]['forEach'](function(_0x187542){const _0x23ed34=_0x3834f3;var _0x3343b1=document[_0x23ed34(0x1af)](_0x23ed34(0x196));_0x3343b1[_0x23ed34(0xda)]=_0x187542,_0x3343b1[_0x23ed34(0xcf)](_0x23ed34(0x1dc),function(){const _0x4766ae=_0x23ed34;console[_0x4766ae(0xbe)](_0x4766ae(0x17e)+_0x187542+'\x22\x20para\x20registro\x20#'+_0x256d12[_0x4766ae(0x199)]);}),_0x2ebca3[_0x23ed34(0x1fa)](_0x3343b1);});_0x2c9120[_0x3834f3(0x205)][_0x3834f3(0x204)](_0x3834f3(0x18e));}function ntf_closeModal(){const _0x483059=_0xa166df;document[_0x483059(0x1a7)]('ntf-notification-modal')[_0x483059(0x205)]['add'](_0x483059(0x18e));}document['getElementById']('tabs-notifications')[_0xa166df(0xcf)](_0xa166df(0x1dc),function(){const _0x10e812=_0xa166df;document[_0x10e812(0x1a7)]('ntf-notification-dropdown')[_0x10e812(0x205)]['toggle'](_0x10e812(0x18e)),ntf_renderNotifications();}),document[_0xa166df(0x1a7)](_0xa166df(0x1de))[_0xa166df(0xcf)]('click',function(_0xececd0){const _0x47f630=_0xa166df,_0x2deeb0=_0xececd0[_0x47f630(0x19f)][_0x47f630(0x1f6)]('li');if(!_0x2deeb0||!_0x2deeb0[_0x47f630(0x112)][_0x47f630(0x18d)])return;const _0x30e426=ntf_getNotifications()[_0x2deeb0[_0x47f630(0x112)]['ntfIndex']];document[_0x47f630(0x1a7)](_0x47f630(0xae))[_0x47f630(0x1dc)](),ntf_openModal(_0x30e426);}),document[_0xa166df(0x1a7)](_0xa166df(0x215))['addEventListener'](_0xa166df(0x1dc),ntf_closeModal),document[_0xa166df(0x1a7)](_0xa166df(0x17f))[_0xa166df(0xcf)](_0xa166df(0x1dc),function(_0x3166d6){const _0x398866=_0xa166df;if(_0x3166d6[_0x398866(0x19f)]===document[_0x398866(0x1a7)](_0x398866(0x17f)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x4cdebd,_0x4c776c=0x3,_0x11f063=0x1){const _0x1c0641=_0xa166df,_0xe87c09=document[_0x1c0641(0x1a7)]('ntf-flotante-container'),_0x5d92c4=document[_0x1c0641(0x1af)](_0x1c0641(0x176));let _0x225451;if(_0x4c776c==0x1)_0x225451=_0x1c0641(0x11a);else _0x4c776c==0x2?_0x225451=_0x1c0641(0x142):_0x225451=_0x1c0641(0x164);let _0x3e6770;_0x11f063==0x1?(_0x3e6770=_0x1c0641(0x95),_0xe87c09['classList'][_0x1c0641(0x11c)](_0x1c0641(0xd9)),_0xe87c09[_0x1c0641(0x205)][_0x1c0641(0x204)](_0x1c0641(0x138))):(_0x3e6770=_0x1c0641(0x14d),_0xe87c09['classList']['add'](_0x1c0641(0x138)),_0xe87c09[_0x1c0641(0x205)][_0x1c0641(0x204)](_0x1c0641(0xd9))),_0x5d92c4[_0x1c0641(0x21f)]=_0x1c0641(0x157)+_0x225451+'\x20'+_0x3e6770,_0x5d92c4[_0x1c0641(0xda)]=_0x4cdebd,_0xe87c09[_0x1c0641(0x1fa)](_0x5d92c4),_0x5d92c4[_0x1c0641(0xcf)]('animationend',()=>{const _0x1564e9=_0x1c0641;_0x5d92c4[_0x1564e9(0x204)]();});}function openDatabase(){if(db)return Promise['resolve'](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x5b0b6a,_0x3b0331)=>{const _0x54b914=_0x1bd3,_0x4528b8=indexedDB[_0x54b914(0x18a)](db_name);_0x4528b8[_0x54b914(0x1e7)]=function(_0x1bf837){const _0x19ff07=_0x54b914;db=_0x1bf837[_0x19ff07(0x19f)]['result'],console['log'](_0x19ff07(0xb0));},_0x4528b8[_0x54b914(0x16f)]=function(_0x4d5cb2){const _0x491183=_0x54b914;db=_0x4d5cb2[_0x491183(0x19f)][_0x491183(0x1f8)],console[_0x491183(0xbe)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x5b0b6a(db),dbPromise=null;},_0x4528b8[_0x54b914(0x221)]=function(_0xa6319f){const _0x16c439=_0x54b914;console[_0x16c439(0x7b)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0xa6319f[_0x16c439(0x19f)]['error']),_0x3b0331(_0xa6319f[_0x16c439(0x19f)][_0x16c439(0x7b)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x57bcf8,_0x445124=![]){const _0x58ba1a=_0xa166df;if(dbOperationInProgress)return Promise[_0x58ba1a(0x1e2)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x58ba1a(0x1b1)](_0x36a143=>{const _0x2bec80=_0x58ba1a,_0xb12547=_0x2bec80(0x6d),_0x49f291=_0x2bec80(0xc4),_0x39a168=_0x2bec80(0x15c),_0x56552e=_0x2bec80(0x18c),_0xdce847=_0x57bcf8?_0x2bec80(0x161)+_0x57bcf8:null,_0x48f467=_0x57bcf8?_0x2bec80(0xd0)+_0x57bcf8:null,_0x13401f=_0x445124||!_0x36a143[_0x2bec80(0xa6)][_0x2bec80(0x1b9)](_0xb12547)||!_0x36a143[_0x2bec80(0xa6)][_0x2bec80(0x1b9)](_0x49f291)||!_0x36a143[_0x2bec80(0xa6)]['contains'](_0x39a168)||!_0x36a143[_0x2bec80(0xa6)]['contains'](_0x56552e)||_0x57bcf8&&(!_0x36a143['objectStoreNames'][_0x2bec80(0x1b9)](_0xdce847)||!_0x36a143['objectStoreNames'][_0x2bec80(0x1b9)](_0x48f467));if(!_0x13401f)return dbOperationInProgress=![],Promise[_0x2bec80(0x129)](_0x36a143);const _0x5c6bef=_0x36a143[_0x2bec80(0x1b5)]+0x1;return _0x36a143['close'](),new Promise((_0x52f358,_0x5c42fa)=>{const _0x225959=_0x2bec80,_0x22cc25=indexedDB[_0x225959(0x18a)](db_name,_0x5c6bef);_0x22cc25[_0x225959(0x1e7)]=function(_0x55288c){const _0x37a3d6=_0x225959;db=_0x55288c[_0x37a3d6(0x19f)][_0x37a3d6(0x1f8)];if(_0x445124)Array[_0x37a3d6(0x130)](db['objectStoreNames'])[_0x37a3d6(0x140)](_0x3391fd=>{const _0x48c169=_0x37a3d6;_0x3391fd!==_0x39a168&&(db[_0x48c169(0x87)](_0x3391fd),console[_0x48c169(0xbe)](_0x48c169(0x1bc)+_0x3391fd+_0x48c169(0x163)));}),console['log']('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db['objectStoreNames'][_0x37a3d6(0x1b9)](_0xb12547)&&(db[_0x37a3d6(0xf7)](_0xb12547,{'keyPath':'id'}),console[_0x37a3d6(0xbe)](_0x37a3d6(0x1bc)+_0xb12547+_0x37a3d6(0x1f0)));!db[_0x37a3d6(0xa6)][_0x37a3d6(0x1b9)](_0x49f291)&&(db[_0x37a3d6(0xf7)](_0x49f291,{'keyPath':'id','autoIncrement':!![]}),console[_0x37a3d6(0xbe)](_0x37a3d6(0x1bc)+_0x49f291+_0x37a3d6(0x1f0)));!db[_0x37a3d6(0xa6)][_0x37a3d6(0x1b9)](_0x39a168)&&(db['createObjectStore'](_0x39a168,{'keyPath':'id','autoIncrement':!![]}),console[_0x37a3d6(0xbe)](_0x37a3d6(0x1bc)+_0x39a168+_0x37a3d6(0x1f0)));!db[_0x37a3d6(0xa6)]['contains'](_0x56552e)&&(db['createObjectStore'](_0x56552e,{'keyPath':'id'}),console[_0x37a3d6(0xbe)](_0x37a3d6(0x1bc)+_0x56552e+_0x37a3d6(0x1f0)));if(_0x57bcf8){if(!db[_0x37a3d6(0xa6)]['contains'](_0xdce847)){const _0x180ad7=db[_0x37a3d6(0xf7)](_0xdce847,{'keyPath':'id','autoIncrement':!![]});_0x180ad7['createIndex'](_0x37a3d6(0x127),'cartId',{'unique':!![]}),console[_0x37a3d6(0xbe)]('ObjectStore\x20\x27'+_0xdce847+'\x27\x20creado\x20correctamente.');}!db['objectStoreNames'][_0x37a3d6(0x1b9)](_0x48f467)&&(db['createObjectStore'](_0x48f467,{'keyPath':'id','autoIncrement':!![]}),console[_0x37a3d6(0xbe)]('ObjectStore\x20\x27'+_0x48f467+_0x37a3d6(0x1f0)));}}},_0x22cc25[_0x225959(0x16f)]=function(_0x570839){const _0x29453d=_0x225959;db=_0x570839[_0x29453d(0x19f)][_0x29453d(0x1f8)],dbOperationInProgress=![],console[_0x29453d(0xbe)](_0x29453d(0x137)),_0x52f358(db);},_0x22cc25[_0x225959(0x221)]=function(_0x163dc6){const _0x2dc7de=_0x225959;console[_0x2dc7de(0x7b)](_0x2dc7de(0x20b),_0x163dc6[_0x2dc7de(0x19f)][_0x2dc7de(0x7b)]),dbOperationInProgress=![],_0x5c42fa(_0x163dc6[_0x2dc7de(0x19f)][_0x2dc7de(0x7b)]);};});})[_0x58ba1a(0xe5)](_0x193a93=>{const _0x4b4706=_0x58ba1a;throw new Error(_0x4b4706(0xef));})[_0x58ba1a(0x211)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x203be3=_0xa166df;if(!isOnline())return Promise[_0x203be3(0x129)]();try{const _0x5820ce=await createCartStore(''),_0x271e65=_0x5820ce[_0x203be3(0x1aa)](_0x203be3(0x15c),_0x203be3(0x1b4)),_0x559055=_0x271e65[_0x203be3(0x9a)]('offline_operations'),_0x295399=await new Promise((_0x18cdbb,_0x198202)=>{const _0x17b72f=_0x203be3,_0x3d8b64=_0x559055[_0x17b72f(0x209)]();_0x3d8b64[_0x17b72f(0x16f)]=()=>_0x18cdbb(_0x3d8b64[_0x17b72f(0x1f8)]),_0x3d8b64[_0x17b72f(0x221)]=()=>_0x198202(new Error(_0x17b72f(0x98)+_0x3d8b64[_0x17b72f(0x7b)]));}),_0x95ecd0=_0x295399[_0x203be3(0xfa)](_0x19b36c=>_0x19b36c[_0x203be3(0x1d5)]==0x1);if(_0x95ecd0[_0x203be3(0x203)]===0x0){console[_0x203be3(0xbe)](_0x203be3(0x13e));return;}const _0x5c8fa9=_0x95ecd0[_0x203be3(0xfa)](_0x1d6b82=>_0x1d6b82['setTipoOperacion']==0x64),_0x556ed2=_0x95ecd0['filter'](_0x47bffc=>_0x47bffc[_0x203be3(0x1cb)]!=0x64);function _0x205e70(_0x3a5bad,_0x2b26ae){return new Promise((_0x2b37f2,_0x3646b9)=>{const _0x19e4ea=_0x1bd3,_0x3a8409=_0x3a5bad['transaction']('offline_operations',_0x19e4ea(0x1a6)),_0x36b392=_0x3a8409['objectStore'](_0x19e4ea(0x15c)),_0x290bad=_0x36b392[_0x19e4ea(0x1cf)](_0x2b26ae);_0x290bad[_0x19e4ea(0x16f)]=()=>_0x2b37f2(),_0x290bad['onerror']=_0x1ed395=>_0x3646b9(new Error(_0x19e4ea(0x108)+_0x1ed395['target'][_0x19e4ea(0x7b)]));});}async function _0x468692(_0x20ba6b){const _0x36ae3f=_0x203be3;for(const _0x3055cf of _0x20ba6b){_0x3055cf['setTipoOperacion']===0x64&&Array[_0x36ae3f(0x167)](_0x3055cf['newItems'])&&_0x3055cf[_0x36ae3f(0xc6)][_0x36ae3f(0x9e)]((_0x37fe7e,_0x1d705e)=>{const _0x22aadd=_0x36ae3f,_0x211c87=[0x1,0x2,0x3],_0x12ce94=_0x211c87['includes'](_0x37fe7e['setItemType']),_0x55311e=_0x211c87[_0x22aadd(0xc0)](_0x1d705e[_0x22aadd(0x145)]);if(_0x12ce94&&!_0x55311e)return-0x1;if(!_0x12ce94&&_0x55311e)return 0x1;return _0x37fe7e[_0x22aadd(0x145)]-_0x1d705e[_0x22aadd(0x145)];});const _0x22d449=new FormData();_0x22d449['append'](_0x36ae3f(0x193),JSON[_0x36ae3f(0xaa)](_0x3055cf));if(_0x3055cf[_0x36ae3f(0xe7)]instanceof Blob&&_0x3055cf[_0x36ae3f(0xe7)]['size']>0x0)_0x22d449[_0x36ae3f(0x7d)](_0x36ae3f(0xe7),_0x3055cf['pdfBlob'],_0x36ae3f(0x90));else _0x3055cf[_0x36ae3f(0xe7)]&&console[_0x36ae3f(0x1b7)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x3055cf[_0x36ae3f(0x1cb)]==0x64&&Array['isArray'](_0x3055cf[_0x36ae3f(0xc6)])&&_0x3055cf[_0x36ae3f(0xc6)][_0x36ae3f(0x140)]((_0x1e740d,_0x1d454a)=>{const _0x156561=_0x36ae3f;Array['isArray'](_0x1e740d[_0x156561(0xb9)])&&_0x1e740d[_0x156561(0xb9)]['forEach']((_0x5123fb,_0xafb0e4)=>{const _0x4b2f6c=_0x156561;_0x5123fb instanceof Blob&&_0x5123fb[_0x4b2f6c(0x74)]>0x0?_0x22d449['append'](_0x4b2f6c(0x12c)+_0x1d454a+'][setItemImages]['+_0xafb0e4+']',_0x5123fb,_0x5123fb[_0x4b2f6c(0x1b3)]):console[_0x4b2f6c(0x1b7)]('Imagen\x20inválida\x20en\x20newItems['+_0x1d454a+_0x4b2f6c(0xb8)+_0xafb0e4+_0x4b2f6c(0x113));});});try{const _0x3468eb=await fetch(_0x3055cf[_0x36ae3f(0x8d)],{'method':_0x36ae3f(0x1e3),'body':_0x22d449});if(!_0x3468eb['ok'])throw new Error(_0x36ae3f(0x15d)+_0x3468eb['status']+'\x20–\x20'+_0x3468eb['statusText']);const _0x58fc8c=await _0x3468eb['json']();!_0x58fc8c[_0x36ae3f(0x169)]?_0x3055cf[_0x36ae3f(0x8f)]=_0x58fc8c[_0x36ae3f(0x190)]||_0x36ae3f(0x183):(_0x3055cf[_0x36ae3f(0x1d5)]=0x0,delete _0x3055cf[_0x36ae3f(0x8f)]),await _0x205e70(_0x5820ce,_0x3055cf);}catch(_0x207fc9){console['error']('Error\x20al\x20enviar\x20operación\x20offline:',_0x207fc9),_0x3055cf[_0x36ae3f(0x8f)]=_0x207fc9[_0x36ae3f(0x190)],await _0x205e70(_0x5820ce,_0x3055cf);}}}_0x5c8fa9['sort']((_0x19e531,_0x5007eb)=>{const _0x10a703=_0x203be3,_0x5ef5d3=[0x1,0x2,0x3],_0x3a34fa=_0x16289e=>Array[_0x10a703(0x167)](_0x16289e['newItems'])&&_0x16289e[_0x10a703(0xc6)][_0x10a703(0xa3)](_0x5bee1a=>_0x5ef5d3[_0x10a703(0xc0)](_0x5bee1a['setItemType'])),_0x85a530=_0x3a34fa(_0x19e531),_0x18fafc=_0x3a34fa(_0x5007eb);if(_0x85a530&&!_0x18fafc)return-0x1;if(!_0x85a530&&_0x18fafc)return 0x1;const _0x17998b=Math['min'](..._0x19e531[_0x10a703(0xc6)][_0x10a703(0x180)](_0x4410c7=>_0x4410c7['setItemType'])),_0xc60924=Math['min'](..._0x5007eb[_0x10a703(0xc6)][_0x10a703(0x180)](_0x39d7da=>_0x39d7da[_0x10a703(0x145)]));return _0x17998b-_0xc60924;}),_0x5c8fa9[_0x203be3(0x203)]&&(console[_0x203be3(0xbe)](_0x203be3(0x9b)+_0x5c8fa9[_0x203be3(0x203)]+_0x203be3(0x1fd)),await _0x468692(_0x5c8fa9)),_0x556ed2[_0x203be3(0x203)]&&(console['log']('Sincronizando\x20'+_0x556ed2[_0x203be3(0x203)]+'\x20operaciones\x20restantes...'),await _0x468692(_0x556ed2)),console[_0x203be3(0xbe)](_0x203be3(0x71));}catch(_0x4ef862){console[_0x203be3(0x7b)](_0x203be3(0x223),_0x4ef862);}}function apiERPsaveOnline(_0x586d82,_0x312044,_0x124817,_0x58ec11,_0x38aea7){const _0x510eea=_0xa166df;if(!isOnline())return console[_0x510eea(0xbe)](_0x510eea(0x6e)),Promise[_0x510eea(0x1e2)](_0x510eea(0x6e));const _0x3ee81d={'setAuthToken':_0x586d82,'setBranches':_0x312044,'setUsers':_0x124817,'setSeries':_0x58ec11,'setPrinters':_0x38aea7};return fetch(_0x510eea(0x208),{'method':_0x510eea(0x1e3),'headers':{'Content-Type':_0x510eea(0x219)},'body':JSON[_0x510eea(0xaa)](_0x3ee81d)})[_0x510eea(0x1b1)](_0x3ba37c=>{const _0x5c7e36=_0x510eea;if(!_0x3ba37c['ok'])throw new Error(_0x5c7e36(0x218)+_0x3ba37c[_0x5c7e36(0xe0)]);return _0x3ba37c['json']();})[_0x510eea(0x1b1)](_0x2806ed=>{const _0x12ce43=_0x510eea;if(!_0x2806ed[_0x12ce43(0x169)])throw new Error(_0x2806ed['message']||_0x12ce43(0x1ed));return console['log'](_0x12ce43(0xab)),_0x2806ed;})[_0x510eea(0xe5)](_0x3cb06d=>{console['error']('Error\x20al\x20actualizar\x20data\x20online:',_0x3cb06d);throw _0x3cb06d;});}async function acceder(){const _0x1c32ff=_0xa166df;if(!isOnline()){alert(_0x1c32ff(0x146));throw new Error(_0x1c32ff(0x191));}const _0x3bb0d9=document[_0x1c32ff(0x1a7)]('btn-access-login'),_0x1733cf=document[_0x1c32ff(0x1a7)](_0x1c32ff(0xa8))['value'],_0x4e8952=document[_0x1c32ff(0x1a7)](_0x1c32ff(0xa7))['value'];_0x3bb0d9[_0x1c32ff(0x154)]=!![];if(!_0x1733cf||!_0x4e8952){alert('Todos\x20los\x20campos\x20son\x20obligatorios.'),_0x3bb0d9[_0x1c32ff(0x154)]=![];return;}console[_0x1c32ff(0xbe)](_0x1c32ff(0x16a)),showLoadingModal();const _0x27c3bf={'usuario':_0x1733cf,'password':_0x4e8952};try{const _0x14ca52=await fetch('https://apierp.dev/api/company/get/',{'method':_0x1c32ff(0x1e3),'headers':{'Content-Type':_0x1c32ff(0x219)},'body':JSON[_0x1c32ff(0xaa)](_0x27c3bf)}),_0x2cbf6a=await _0x14ca52['json']();if(!(_0x2cbf6a[_0x1c32ff(0x169)]&&Array[_0x1c32ff(0x167)](_0x2cbf6a[_0x1c32ff(0x190)]))){alert(_0x2cbf6a['message']),_0x3bb0d9['disabled']=![],hideLoadingModal();throw new Error(_0x2cbf6a[_0x1c32ff(0x190)]);}const _0x3a2810=document[_0x1c32ff(0x1a7)](_0x1c32ff(0x81));_0x3a2810[_0x1c32ff(0x1cc)]='Inicio\x20de\x20sesión\x20exitoso\x20...';const _0x5b2e2e=_0x2cbf6a[_0x1c32ff(0x190)],{setApiEndPoint:_0x1b00cb,setAuthToken:_0x29874f,setUser_Local:_0x2f994a}=_0x5b2e2e[0x0],_0x2a9136={'apiPOS_getAccessData':0x1,'setToken':_0x29874f,'setUserLocalUserName':_0x2f994a[_0x1c32ff(0x8a)]},_0x24a728=await fetch(_0x1b00cb,{'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x1c32ff(0xaa)](_0x2a9136)}),_0x153105=await _0x24a728[_0x1c32ff(0x10d)]();if(!(_0x153105[_0x1c32ff(0x169)]===!![])){_0x3a2810[_0x1c32ff(0x1cc)]=_0x1c32ff(0x22b)+_0x153105[_0x1c32ff(0x190)]+_0x1c32ff(0x1ba),setTimeout(()=>location[_0x1c32ff(0x10b)](),0x1388);return;}_0x3a2810['innerHTML']=_0x1c32ff(0x14c);const _0x3d3caa=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1a4)]['map'](_0x1f6e95=>{const _0x590391=_0x1c32ff,_0xcabceb=_0x1f6e95[_0x590391(0x6f)]||'',_0x4da308=_0x1f6e95[_0x590391(0x1c1)]||'',_0x4c733b=_0x1f6e95['setCodProducto']||'',_0x187c0f=_0x1f6e95[_0x590391(0x93)]||'',_0x1dd5b5=_0x1f6e95[_0x590391(0xd7)]||'',_0x5f9559=_0x1f6e95[_0x590391(0xf6)]||'',_0x461da6=_0x1f6e95[_0x590391(0xbc)]||'',_0x3d2bdf=_0x1f6e95[_0x590391(0x22e)]||'',_0x108d63=_0x1f6e95['setTaxId']||'',_0x48efd0=_0x1f6e95[_0x590391(0x20c)]||'10',_0x511e96=_0x5b2e2e[0x0][_0x590391(0x76)]['find'](_0x13ff42=>_0x13ff42[_0x590391(0x225)]==_0x108d63)?.[_0x590391(0xf4)]||0x0,_0x57e481=parseFloat(_0x1f6e95['setInventariable'])||0x1,_0x421f59=_0x1f6e95['setCategoria']||'',_0x32896b=_0x1f6e95[_0x590391(0x181)]||'',_0x5d4bcc=_0x1f6e95[_0x590391(0xc2)]||_0x590391(0x1be),_0x1ac062=_0x1f6e95[_0x590391(0x1db)]||0x1,_0x2756fe=_0x1f6e95[_0x590391(0x1d6)]||'',_0x5e8285=_0x1f6e95[_0x590391(0x12a)]||'',_0x1c3636=(_0x1f6e95[_0x590391(0x152)]||[])[_0x590391(0x180)](_0x2533ac=>{const _0x2d1807=_0x590391,_0x9a6b5c=parseFloat(_0x2533ac[_0x2d1807(0x109)])||0x0,_0x2569b1=parseFloat(_0x2533ac[_0x2d1807(0x17c)])||0x0,_0x2e77f9=parseFloat(_0x2533ac[_0x2d1807(0xde)])||0x0,_0x5d92d4=parseFloat(_0x2533ac[_0x2d1807(0x200)])||0x0,_0x4a39f3=_0x2533ac[_0x2d1807(0x118)]||[];let _0x1e32f3=0x0,_0x1d3719=0x0;if(_0x9a6b5c>0x0)_0x1e32f3=_0x9a6b5c,_0x1d3719=setTipAfeImpGravados[_0x2d1807(0xa3)](_0x2809ab=>_0x2809ab==_0x48efd0)?_0x9a6b5c+_0x9a6b5c*_0x511e96/0x64:_0x9a6b5c;else _0x2569b1>0x0&&(_0x1d3719=_0x2569b1,_0x1e32f3=setTipAfeImpGravados[_0x2d1807(0xa3)](_0x187b63=>_0x187b63==_0x48efd0)?_0x2569b1/(0x1+_0x511e96/0x64):_0x2569b1);let _0x3f031c=0x0,_0x4e5c65=0x0;if(_0x2e77f9>0x0)_0x3f031c=_0x2e77f9,_0x4e5c65=setTipAfeImpGravados[_0x2d1807(0xa3)](_0x349751=>_0x349751==_0x48efd0)?_0x2e77f9+_0x2e77f9*_0x511e96/0x64:_0x2e77f9;else _0x5d92d4>0x0&&(_0x4e5c65=_0x5d92d4,_0x3f031c=setTipAfeImpGravados[_0x2d1807(0xa3)](_0x30d137=>_0x30d137==_0x48efd0)?_0x5d92d4/(0x1+_0x511e96/0x64):_0x5d92d4);return{'currency':_0x2533ac[_0x2d1807(0x1ee)],'setMtoValorUnitario':_0x1e32f3,'setMtoPrecioUnitario':_0x1d3719,'setMtoValorCostoUnitario':_0x3f031c,'setMtoPrecioCostoUnitario':_0x4e5c65,'setPriceLists':_0x4a39f3};});if(_0x108d63!==''&&_0xcabceb!==''&&_0x4c733b!==''&&_0x1dd5b5!=='')return{'id':_0xcabceb,'setIdProducto':_0x4da308,'setCodProducto':_0x4c733b,'setItemBarCode':_0x187c0f,'setDescripcion':_0x1dd5b5,'setItemDescription':_0x5f9559,'setUnidadCodigo':_0x461da6,'setUnidad':_0x3d2bdf,'setPorcentajeIgv':_0x511e96,'setTaxId':_0x108d63,'setTipAfeIgv':_0x48efd0,'setInventariable':_0x57e481,'setCategoria':_0x421f59,'setMarca':_0x32896b,'setImg':_0x5d4bcc,'setConversionFactor':_0x1ac062,'setBatchName':_0x2756fe,'setBatchExpirationDate':_0x5e8285,'setItemIsBought':_0x1f6e95['setItemIsBought'],'setItemIsSold':_0x1f6e95['setItemIsSold'],'sucursales':_0x1f6e95[_0x590391(0x162)]||[],'setPrinters':_0x1f6e95[_0x590391(0x124)]||[],'currency_data':_0x1c3636,'setImages':_0x1f6e95['setImages']||[]};return null;})[_0x1c32ff(0xfa)](Boolean);_0x5b2e2e[0x0]['setCompanyLogo']=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1e0)],_0x5b2e2e[0x0]['setCompanyDoc']=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x10a)],_0x5b2e2e[0x0][_0x1c32ff(0xfc)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0xfc)],_0x5b2e2e[0x0]['setCompanyNameTrade']=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1d3)],_0x5b2e2e[0x0][_0x1c32ff(0xa0)]=_0x153105[_0x1c32ff(0x190)]['setCompanyAddress'],_0x5b2e2e[0x0][_0x1c32ff(0x210)]=_0x153105['message']['setCompanyPhone'],_0x5b2e2e[0x0][_0x1c32ff(0x92)]=_0x153105[_0x1c32ff(0x190)]['setCompanyEmail'],_0x5b2e2e[0x0][_0x1c32ff(0x85)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x85)],_0x5b2e2e[0x0][_0x1c32ff(0x1cd)]=_0x153105['message'][_0x1c32ff(0x1cd)],_0x5b2e2e[0x0][_0x1c32ff(0x1fc)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1fc)],_0x5b2e2e[0x0][_0x1c32ff(0x1b6)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1b6)],_0x5b2e2e[0x0][_0x1c32ff(0x124)]=_0x153105['message'][_0x1c32ff(0x124)],_0x5b2e2e[0x0][_0x1c32ff(0x6c)]=_0x153105[_0x1c32ff(0x190)]['setCurrencyDefault'],_0x5b2e2e[0x0][_0x1c32ff(0xd2)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0xd2)],_0x5b2e2e[0x0]['setCustomers']=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x1bd)],_0x5b2e2e[0x0][_0x1c32ff(0x1a1)]=_0x153105[_0x1c32ff(0x190)]['setSuppliers'],_0x5b2e2e[0x0][_0x1c32ff(0x21c)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x21c)],_0x5b2e2e[0x0][_0x1c32ff(0x135)]=_0x153105[_0x1c32ff(0x190)][_0x1c32ff(0x135)],_0x3a2810[_0x1c32ff(0x1cc)]='Sincronizando\x20...';const _0xb0901f=await createCartStore('');await clearAndStore(_0xb0901f,_0x1c32ff(0x6d),_0x3d3caa),await clearAndStore(_0xb0901f,_0x1c32ff(0x18c),[{'id':'layout',..._0x5b2e2e[0x0][_0x1c32ff(0xaf)]}]),await apiERPsaveOnline(_0x29874f,_0x5b2e2e[0x0][_0x1c32ff(0x1cd)],_0x5b2e2e[0x0][_0x1c32ff(0x1fc)],_0x5b2e2e[0x0][_0x1c32ff(0x1b6)],_0x5b2e2e[0x0][_0x1c32ff(0x124)]);const _0x59d9e0=await fetch(_0x1c32ff(0x1c4),{'method':_0x1c32ff(0x1e3),'headers':{'Content-Type':_0x1c32ff(0x22a)},'body':JSON[_0x1c32ff(0xaa)]({'setAuthToken':_0x29874f})}),_0x586717=await _0x59d9e0[_0x1c32ff(0x10d)]();if(_0x586717['success'])_0x5b2e2e[0x0][_0x1c32ff(0x1a8)]=_0x586717['message']['setWindows'],_0x5b2e2e[0x0][_0x1c32ff(0xce)]=_0x586717[_0x1c32ff(0x190)][_0x1c32ff(0xce)],_0x5b2e2e[0x0]['setPrinters']=_0x586717[_0x1c32ff(0x190)][_0x1c32ff(0x124)];else{console['error'](_0x1c32ff(0x20d),_0x586717['message']);return;}await saveCompanyToIndexedDB(_0x5b2e2e,_0xb0901f);if(!_0x5b2e2e[0x0][_0x1c32ff(0x1a8)]||_0x5b2e2e[0x0][_0x1c32ff(0x1a8)]['length']===0x0){console['error'](_0x1c32ff(0x143));return;}for(const _0x20bdbc of _0x5b2e2e[0x0][_0x1c32ff(0x1a8)]){await new Promise(_0xee1999=>setTimeout(_0xee1999,0x12c)),await createCartStore(_0x20bdbc[_0x1c32ff(0x88)]),_0x3a2810[_0x1c32ff(0x1cc)]='Generando\x20'+_0x20bdbc[_0x1c32ff(0x216)]+_0x1c32ff(0x1ba);}_0x3a2810[_0x1c32ff(0x1cc)]=_0x1c32ff(0x173)+_0x2f994a[_0x1c32ff(0x1f2)]+_0x1c32ff(0x1ba),setTimeout(()=>location[_0x1c32ff(0x10b)](),0x7d0);}catch(_0x2f978){console[_0x1c32ff(0x7b)](_0x1c32ff(0xf2),_0x2f978),_0x3bb0d9[_0x1c32ff(0x154)]=![],hideLoadingModal(),alert(_0x2f978);throw _0x2f978;}}function clearAndStore(_0xb6c2b1,_0x54eba0,_0x22e345){return new Promise((_0x4c3b8c,_0x46da1a)=>{const _0x397f14=_0x1bd3,_0x1503c2=_0xb6c2b1['transaction'](_0x54eba0,'readwrite'),_0x3d3804=_0x1503c2[_0x397f14(0x9a)](_0x54eba0),_0xea611f=_0x3d3804['clear']();_0xea611f[_0x397f14(0x16f)]=()=>{const _0x1b1bb1=_0x397f14;_0x22e345[_0x1b1bb1(0x140)](_0x29f236=>_0x3d3804['put'](_0x29f236));},_0x1503c2[_0x397f14(0xe8)]=()=>_0x4c3b8c(),_0x1503c2[_0x397f14(0x221)]=()=>_0x46da1a(new Error(_0x397f14(0x94)+_0x54eba0+'!'));});}async function logoutReload(_0x53f5f4=0x0,_0x10b8ca){const _0x357d5e=_0xa166df;if(_0x53f5f4!=0x1){showLoadingModal();const _0x3d777d=document[_0x357d5e(0x1a7)]('infoLoadingModal');_0x3d777d[_0x357d5e(0x1cc)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>';}_0x10b8ca==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x357d5e(0x10b)]();}function registerServiceWorker(_0x3b912f,_0x25bd98){const _0x2937f1=_0xa166df;_0x2937f1(0x1d4)in navigator&&navigator['serviceWorker'][_0x2937f1(0xf0)](_0x3b912f)[_0x2937f1(0x1b1)](_0x19a46e=>{const _0x35c168=_0x2937f1;console['log'](_0x35c168(0x1ff)),_0x19a46e[_0x35c168(0x80)]=()=>{const _0xd8fbea=_0x35c168,_0x57cda6=_0x19a46e[_0xd8fbea(0x207)];_0x57cda6[_0xd8fbea(0xf8)]=()=>{const _0x33d08b=_0xd8fbea;_0x57cda6[_0x33d08b(0x8e)]==_0x33d08b(0x13a)&&navigator[_0x33d08b(0x1d4)]['controller']&&console[_0x33d08b(0xbe)](_0x33d08b(0xbf));};},navigator[_0x35c168(0x1d4)][_0x35c168(0xcf)](_0x35c168(0x217),()=>{const _0x54dad=_0x35c168;showLoadingModal();const _0xe9379a=document[_0x54dad(0x1a7)]('infoLoadingModal');_0xe9379a[_0x54dad(0x1cc)]=_0x54dad(0x228),logoutReload(0x1,_0x25bd98);});})[_0x2937f1(0xe5)](_0x4a3e1e=>console[_0x2937f1(0x7b)](_0x2937f1(0x119),_0x4a3e1e));}function isLoggedIn(_0x54fc89){const _0x51eba1=_0xa166df;return _0x54fc89&&_0x54fc89[0x0]&&_0x54fc89[0x0][_0x51eba1(0x10c)];}function apiERPShowContent(){const _0x36843b=_0xa166df;document['getElementById'](_0x36843b(0x12b))['classList'][_0x36843b(0x204)](_0x36843b(0xe6)),document[_0x36843b(0x1a7)](_0x36843b(0x21e))[_0x36843b(0x205)][_0x36843b(0x204)](_0x36843b(0xe6)),document['getElementById'](_0x36843b(0xcb))[_0x36843b(0x205)][_0x36843b(0x11c)](_0x36843b(0xe6));const _0x23fa53=document['getElementById'](_0x36843b(0xf3));_0x23fa53&&_0x23fa53['classList']['remove'](_0x36843b(0xe6));}function x64ctotalcal(){const _0x1bd7d7=_0xa166df;return window[_0x1bd7d7(0x1e4)][_0x1bd7d7(0x7e)];}function _0x1bd3(_0x55515c,_0x11d602){const _0x1c7b91=_0x2fbe();return _0x1bd3=function(_0x4676c8,_0x37fdfe){_0x4676c8=_0x4676c8-0x6c;let _0x4cdbc6=_0x1c7b91[_0x4676c8];return _0x4cdbc6;},_0x1bd3(_0x55515c,_0x11d602);}function x64btsparamnumber(_0x2a0682){const _0x57a2d7=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x2a0682==_0x57a2d7;}function x32btsfirefoxcalc(_0x52f42d){const _0xc0a43c=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x52f42d==_0xc0a43c;}function x64bitsdescitem(_0x3f5a81){const _0x1edff8=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x3f5a81==_0x1edff8;}function x43bitsdescglobal(_0xb561a4){const _0x21d273=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0xb561a4==_0x21d273;}function x32bitsCompanyTkn(_0x563190){const _0x2c138f=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x563190==_0x2c138f;}function x64bitsparamnumber(_0x8f7ce9,_0x2828a8){const _0x38908f=_0x2828a8;return _0x8f7ce9==_0x38908f;}function activarRender(_0x37c3e7){const _0xe3b3d5=_0xa166df,_0x4ecfa3=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x37c3e7)];return _0x4ecfa3[_0xe3b3d5(0xc0)](!![]);}function saveCompanyToIndexedDB(_0x2dda35,_0x1d7f99){return new Promise((_0x2fdcaa,_0x477e94)=>{const _0x6c6333=_0x1bd3,_0x4c36c9=_0x1d7f99[_0x6c6333(0x1aa)](_0x6c6333(0xc4),_0x6c6333(0x1a6)),_0x429af5=_0x4c36c9['objectStore'](_0x6c6333(0xc4));_0x429af5[_0x6c6333(0x136)](),_0x2dda35[_0x6c6333(0x140)](_0x3a2bdc=>_0x429af5['put'](_0x3a2bdc)),_0x4c36c9[_0x6c6333(0xe8)]=()=>_0x2fdcaa(),_0x4c36c9[_0x6c6333(0x221)]=_0x517c08=>_0x477e94(_0x517c08[_0x6c6333(0x19f)][_0x6c6333(0x7b)]);});}function loadCompanyFromIndexedDB(_0x239686){return new Promise((_0x287c24,_0x43c45a)=>{const _0x164013=_0x1bd3,_0x52aaff=_0x239686[_0x164013(0x1aa)](_0x164013(0xc4),_0x164013(0x1b4)),_0x42595=_0x52aaff['objectStore'](_0x164013(0xc4)),_0x28efff=_0x42595[_0x164013(0x209)]();_0x28efff[_0x164013(0x16f)]=()=>_0x287c24(_0x28efff[_0x164013(0x1f8)]),_0x28efff[_0x164013(0x221)]=_0x4b2a70=>_0x43c45a(_0x4b2a70[_0x164013(0x19f)]['error']);});}async function initializeCompany(_0x418f14){const _0x34cefb=_0xa166df;try{const _0x45460b=await loadCompanyFromIndexedDB(_0x418f14);company=_0x45460b,company['length']>0x0?(console[_0x34cefb(0xbe)](_0x34cefb(0x1d1)),myCompany=company[0x0]):console['log'](_0x34cefb(0x184));}catch(_0x3f2757){console[_0x34cefb(0x7b)]('Company\x20Load\x20Error:',_0x3f2757);}}function loadProductsFromIndexedDB(_0x453a90){return new Promise((_0x194eb1,_0x26d298)=>{const _0x2f19e6=_0x1bd3,_0x228615=_0x453a90[_0x2f19e6(0x1aa)]('products',_0x2f19e6(0x1b4)),_0x44890a=_0x228615[_0x2f19e6(0x9a)](_0x2f19e6(0x6d)),_0x18d47a=_0x44890a[_0x2f19e6(0x209)]();_0x18d47a[_0x2f19e6(0x16f)]=()=>_0x194eb1(_0x18d47a[_0x2f19e6(0x1f8)]),_0x18d47a[_0x2f19e6(0x221)]=_0x13d767=>_0x26d298(_0x13d767[_0x2f19e6(0x19f)][_0x2f19e6(0x7b)]);});}async function initializeProducts(_0x40d3cd){const _0x560118=_0xa166df;try{const _0x1ce8f8=await loadProductsFromIndexedDB(_0x40d3cd);products=_0x1ce8f8,products['length']>0x0?console[_0x560118(0xbe)](_0x560118(0x70)):console['log']('Products\x20Empty.');}catch(_0x17452a){console[_0x560118(0x7b)](_0x560118(0xed),_0x17452a);}}async function validateAccess(_0x1adf2a){const _0x1a457a=_0xa166df;await initializeCompany(_0x1adf2a);if(!isLoggedIn(company))throw new Error(_0x1a457a(0x7c));if(!activarRender(company[0x0][_0x1a457a(0x1c8)])){alert('Error:\x20Domain\x20not\x20registered.');throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}async function loadCart(_0x58e030){const _0x30ae6b=_0xa166df;try{const _0x2f9305=await createCartStore(''),_0x1175e4=[];await validateAccess(_0x2f9305);const _0x8ff9fc=company[0x0][_0x30ae6b(0x10c)],_0x509f05=company[0x0][_0x30ae6b(0xce)][_0x30ae6b(0x96)](_0x2c5358=>_0x2c5358[_0x30ae6b(0x14b)]==_0x8ff9fc[_0x30ae6b(0x8a)]),_0x240bb2=company[0x0][_0x30ae6b(0x1cd)],_0x20894c=document[_0x30ae6b(0x1a7)](_0x30ae6b(0x1b0));_0x20894c[_0x30ae6b(0x1cc)]='';if(_0x509f05&&_0x509f05[_0x30ae6b(0x1cd)]){const _0xcd7786=_0x240bb2[_0x30ae6b(0xfa)](_0x433665=>_0x509f05[_0x30ae6b(0x1cd)][_0x30ae6b(0xa3)](_0x491202=>_0x491202[_0x30ae6b(0x1b0)]==_0x433665['setBranchId']));_0xcd7786[_0x30ae6b(0x140)](_0x263ff3=>{const _0x1c15df=_0x30ae6b,_0x44b518=document[_0x1c15df(0x1af)](_0x1c15df(0x83));_0x44b518[_0x1c15df(0x158)]=_0x263ff3[_0x1c15df(0x1b0)],_0x44b518[_0x1c15df(0xda)]=_0x263ff3[_0x1c15df(0x19d)],_0x20894c[_0x1c15df(0x1fa)](_0x44b518);});}if(_0x58e030==0x1){const _0x36ff99=document[_0x30ae6b(0x1a7)](_0x30ae6b(0x182));_0x36ff99[_0x30ae6b(0x1cc)]='';if(_0x509f05){const _0x200dfb=document[_0x30ae6b(0x1af)](_0x30ae6b(0x83));_0x200dfb[_0x30ae6b(0x158)]=_0x509f05[_0x30ae6b(0x155)],_0x200dfb[_0x30ae6b(0xda)]=_0x509f05[_0x30ae6b(0x197)],_0x36ff99[_0x30ae6b(0x1fa)](_0x200dfb);}const _0x709799=Array['from'](_0x2f9305[_0x30ae6b(0xa6)])['filter'](_0x9b9b44=>_0x9b9b44[_0x30ae6b(0x21a)](_0x30ae6b(0xd0)))[_0x30ae6b(0x180)](_0x5573f9=>{const _0x51b152=_0x30ae6b,_0x19904b=_0x5573f9['split']('_');return _0x19904b[_0x51b152(0x203)]>=0x3?_0x19904b[0x2]:null;})[_0x30ae6b(0xfa)](_0x18af72=>_0x18af72!==null);console[_0x30ae6b(0xbe)]('windowIds\x20previamente\x20creados:',_0x709799);const _0x1ae6f0=Array[_0x30ae6b(0x130)](_0x2f9305[_0x30ae6b(0xa6)])[_0x30ae6b(0xfa)](_0x4e9403=>_0x4e9403[_0x30ae6b(0x21a)](_0x30ae6b(0xd0)))['sort']((_0xc3aa83,_0x38fee3)=>{const _0xa9566f=_0x30ae6b,_0x5a756d=parseInt(_0xc3aa83[_0xa9566f(0xec)]('_')[_0xa9566f(0x82)](),0xa),_0x24ce2e=parseInt(_0x38fee3[_0xa9566f(0xec)]('_')[_0xa9566f(0x82)](),0xa);return _0x5a756d-_0x24ce2e;});for(const _0x36f932 of _0x1ae6f0){const _0x4079ed=_0x36f932['split']('_');if(_0x4079ed['length']<0x3){console[_0x30ae6b(0x7b)](_0x30ae6b(0xc1)+_0x36f932);continue;}const _0x583f4a=_0x4079ed[0x2];if(_0x709799[_0x30ae6b(0xc0)](_0x583f4a)){const _0x5a7d00=new Promise((_0x3cfa4f,_0x20aabb)=>{const _0x37a024=_0x30ae6b,_0x4f6f67=_0x2f9305[_0x37a024(0x1aa)]([_0x36f932],_0x37a024(0x1b4)),_0x26e83a=_0x4f6f67[_0x37a024(0x9a)](_0x36f932),_0x513332=_0x26e83a[_0x37a024(0x1a2)](_0x583f4a);_0x513332[_0x37a024(0x16f)]=function(_0xd75b1a){const _0xe54e8b=_0x37a024,_0xcef019=_0xd75b1a[_0xe54e8b(0x19f)][_0xe54e8b(0x1f8)];window_options[_0x583f4a]={},_0xcef019&&(window_options[_0x583f4a]={'setTipoOperacionInvoice':_0xcef019[_0xe54e8b(0x15e)],'setTipoOperacion':_0xcef019[_0xe54e8b(0x1cb)],'setSerie':_0xcef019[_0xe54e8b(0x106)],'setCorrelativo':_0xcef019[_0xe54e8b(0x178)],'setMoneda':_0xcef019['setMoneda'],'setClienteTipoDoc':_0xcef019[_0xe54e8b(0x20f)],'setClienteNumDoc':_0xcef019[_0xe54e8b(0x1fe)],'setClienteDenominacion':_0xcef019['setClienteDenominacion'],'setClienteDireccion':_0xcef019[_0xe54e8b(0x168)],'setCustomerPhone':_0xcef019[_0xe54e8b(0x115)],'setCustomerEmail':_0xcef019[_0xe54e8b(0x21d)],'setFechaHora':_0xcef019[_0xe54e8b(0x189)],'setSellerId':_0xcef019[_0xe54e8b(0x19e)],'setSellerName':_0xcef019['setSellerName'],'setDespacho':_0xcef019[_0xe54e8b(0x17a)],'setObservacion':_0xcef019[_0xe54e8b(0x13f)],'setDescuentoGlobal_Monto':_0xcef019[_0xe54e8b(0xea)],'setAttachEdit':_0xcef019['setAttachEdit']},console['log']('Arrays\x20actualizados\x20para\x20windowId\x20'+_0x583f4a+':',_0xcef019)),Promise[_0xe54e8b(0x129)](updateTab(_0x583f4a))[_0xe54e8b(0x1b1)](_0x3cfa4f)[_0xe54e8b(0xe5)](_0x3a15db=>{const _0x47287f=_0xe54e8b;console[_0x47287f(0x7b)](_0x47287f(0x212),_0x3a15db),_0x20aabb(_0x3a15db);});},_0x513332['onerror']=function(_0x1d2b16){const _0x4ac886=_0x37a024;console[_0x4ac886(0x7b)](_0x4ac886(0x1ea)+_0x583f4a+'.',_0x1d2b16[_0x4ac886(0x19f)][_0x4ac886(0x7b)]),_0x20aabb(_0x1d2b16[_0x4ac886(0x19f)][_0x4ac886(0x7b)]);};});_0x1175e4[_0x30ae6b(0x198)](_0x5a7d00);}}const _0x2989f5=Array[_0x30ae6b(0x130)](_0x2f9305['objectStoreNames'])[_0x30ae6b(0xfa)](_0x152df2=>_0x152df2[_0x30ae6b(0x21a)](_0x30ae6b(0x161)))[_0x30ae6b(0x9e)]((_0x5eb9d0,_0x27a725)=>{const _0x573538=_0x30ae6b,_0x497155=parseInt(_0x5eb9d0[_0x573538(0xec)]('_')[_0x573538(0x82)](),0xa),_0x5e8612=parseInt(_0x27a725['split']('_')['pop'](),0xa);return _0x497155-_0x5e8612;});for(const _0x2b6d3b of _0x2989f5){const _0x576927=_0x2b6d3b[_0x30ae6b(0xec)]('_')[0x1];!carts[_0x576927]&&(carts[_0x576927]=[]);const _0x5b54ec=new Promise((_0x539a80,_0x92f5fb)=>{const _0x413a96=_0x30ae6b,_0x254832=_0x2f9305[_0x413a96(0x1aa)]([_0x2b6d3b],_0x413a96(0x1b4)),_0x5accd1=_0x254832['objectStore'](_0x2b6d3b),_0x34d010=_0x5accd1['getAll']();_0x34d010[_0x413a96(0x16f)]=function(_0x31f3d9){const _0x46f93b=_0x413a96,_0x51e4fb=_0x31f3d9['target']['result'];carts[_0x576927][_0x46f93b(0x203)]=0x0,_0x51e4fb['forEach'](_0x5d64ca=>carts[_0x576927]['push'](_0x5d64ca)),renderCart(_0x576927),_0x539a80();},_0x34d010['onerror']=function(_0x4f90dc){const _0x5cf9f7=_0x413a96;console['error'](_0x5cf9f7(0x1c0)+_0x576927+'.',_0x4f90dc[_0x5cf9f7(0x19f)]['error']),_0x92f5fb(_0x4f90dc[_0x5cf9f7(0x19f)][_0x5cf9f7(0x7b)]);};});_0x1175e4[_0x30ae6b(0x198)](_0x5b54ec);}}if(_0x58e030==0x2||_0x58e030==0x3){const _0x212457=document['getElementById'](_0x30ae6b(0x1e5)),_0x3a6fa8=document[_0x30ae6b(0x1a7)](_0x30ae6b(0x1c9));_0x212457[_0x30ae6b(0x1cc)]='',_0x3a6fa8[_0x30ae6b(0x1cc)]='',_0x509f05&&(_0x212457[_0x30ae6b(0x1cc)]=_0x30ae6b(0x141),_0x3a6fa8[_0x30ae6b(0x1cc)]=_0x509f05['setUserFullName']);}return _0x58e030==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable()),await Promise['all'](_0x1175e4),company[0x0]?.['setBranchDefault']&&(document['getElementById'](_0x30ae6b(0x1b0))[_0x30ae6b(0x158)]=company[0x0][_0x30ae6b(0x97)]),document[_0x30ae6b(0x1a7)](_0x30ae6b(0x1b0))[_0x30ae6b(0x15f)](new Event(_0x30ae6b(0xb1))),_0x58e030==0x1&&(tabCount=getMaxWindowId(carts),console[_0x30ae6b(0xbe)](_0x30ae6b(0xb7)+tabCount)),_0x2f9305;}catch(_0x15493e){throw _0x15493e;}}function _0x2fbe(){const _0x38552f=['querySelector','objectStore','Sincronizando\x20','rgf4x32','MX20','sort','8300bMHDzA','setCompanyAddress','bind','\x20del\x20','some','onLine','setFloorId','objectStoreNames','password','usuario','Enter','stringify','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','position','ar10.5','tabs-notifications','setLayout','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','change','setCodeBarTypeId','center','exception','S01','Generar\x20Orden\x20de\x20Compra','Tab\x20count\x20inicializado\x20en:\x20','].setItemImages[','setItemImages','toString','Delete','setUnidadCodigo','Formato\x20inesperado\x20en\x20base64','log','SW\x20New\x20Version','includes','Nombre\x20de\x20store\x20no\x20válido:\x20','setImg','TEXTAREA','company','shiftKey','newItems','INPUT','webkitExitFullscreen','</p>','body','login','random','mayo','setUsers','addEventListener','window_options_','createObjectURL','setBankAccounts','./app.js?v=4.0.8','tagName','mozRequestFullScreen','indexOf','setDescripcion','prototype','ntf-flotante-container-top','textContent','mx08','onclick','febrero','setMtoValorCostoUnitario','<h2>','statusText','floor','marzo','drawImage','f34f','catch','hidden','pdfBlob','oncomplete','setWarehouseStockMin','setDescuentoGlobal_Monto','\x22\x20expiró\x20el\x20','split','Products\x20Load\x20Error:','E01','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','register','data:image/svg+xml;base64,','Error\x20en\x20la\x20solicitud:','topbar','setImpuestoValue','height','setItemDescription','createObjectStore','onstatechange','co19','filter','setSucursalStock','setCompanyName','co5','style','day','serializeToString','activeElement','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.0.8\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','mozCancelFullScreen','78zLYjGe','constructor','setSerie','Producto\x20vencido:\x20','Error\x20guardando\x20operación:\x20','setMtoValorUnitario','setCompanyDoc','reload','setUser_Local','json','Helvetica','x32','ar21','documentElement','dataset',']\x20–\x20se\x20omite.','setWarehouseName','setCustomerPhone','CODE128','ambientes','setPriceLists','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','ntf-flotante-green','embedPng','add','now','UY0','</h2><p>','Correo\x20enviado\x20correctamente!','focus','searchInput','100%','setPrinters','getContext','9VzsrPQ','cartId','abril','resolve','setBatchExpirationDate','header','newItems[','Revisar\x20lote','exitFullscreen','btnSaveOperacion-','from','save','trace','webkitFullscreenElement','msRequestFullscreen','setCollaborators','clear','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','ntf-flotante-container-bottom','apiERP','installed','left','ntf-modal-actions','Error\x20Email\x20interno.','No\x20hay\x20operaciones\x20para\x20sincronizar.','setObservacion','forEach','Plan\x20Impulsa','ntf-flotante-orange','Error:\x20No\x20hay\x20ventanas\x20disponibles.','readAsDataURL','setItemType','Solo\x20necesitas\x20internet\x20para\x20acceder!','setHours','zIndex','1411836wGwdAh','getFullYear','setUserEmail','Procesamiento\x20de\x20datos\x20exitoso\x20...','ntf-flotante-bottom','toFixed','text','x64','navigator','currency_data','onload','disabled','setUserCode','ntf-modal-body','ntf-flotante-message\x20','value','setCodeBarTypes','setIdSucursal','payment-option','offline_operations','HTTP\x20','setTipoOperacionInvoice','dispatchEvent','search','cart_','sucursales','\x27\x20eliminada.','ntf-flotante-blue','mx16','{}.constructor(\x22return\x20this\x22)(\x20)','isArray','setClienteDireccion','success','Modo\x20online\x20...','http://www.w3.org/2000/svg','rgba(0,\x200,\x200,\x200.5)','reduce','active','onsuccess','.<br>','El\x20producto\x20\x22','keys','Bienvenido(a)\x20','has','msExitFullscreen','div','fullscreenElement','setCorrelativo','querySelectorAll','setDespacho','offsetHeight','setMtoPrecioUnitario','mozFullScreenElement','Acción\x20\x22','ntf-notification-modal','map','setMarca','setCajeroCodigo','Error\x20desconocido.','Company\x20Empty.','detalleModalPay','Backspace','getDate','No\x20hay\x20notificaciones','setFechaHora','open','902797DBepAr','layoutState','ntfIndex','ntf-hidden','backgroundColor','message','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','9999','invoice','username','octubre','button','setUserFullName','push','id_registro','concat','min','msFullscreenElement','setBranchName','setSellerId','target','substr','setSuppliers','get','pcrcl','setProductos','Tab','readwrite','getElementById','setWindows','Eliminar\x20producto','transaction','uy10','title','flex','junio','createElement','setBranchId','then','data-ntf-index','name','readonly','version','setSeries','warn','return\x20(function()\x20','contains','\x20...','setWarehouseId','ObjectStore\x20\x27','setCustomers','./img/product.png','AR0','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','setIdProducto','setFloorName','noviembre','https://apierp.dev/api/apiPOS/get/','addPage','type','septiembre','setEmpresaDomainWork','setCashierName','ltop','setTipoOperacion','innerHTML','setBranches','Stock\x20mínimo:\x20','put','xtt3','Company\x20Load.','agosto','setCompanyNameTrade','serviceWorker','apiPOSsendOffline','setBatchName','2008732AWfJPo','requestFullscreen','opacity','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','setConversionFactor','click','setWarehouses','ntf-notifications-list','(((.+)+)+)+$','setCompanyLogo','#container-section-pay-','reject','POST','location','setPlanName','width','onupgradeneeded','CO0','key','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','values','btn-access-login','Error\x20desconocido\x20al\x20actualizar\x20Data.','currency','https://apierp.dev/api/email/send/','\x27\x20creado\x20correctamente.','214251lIJxtO','setUserNombres','getClientRects','3310hwxBoj','xpos','closest','windowId','result','create','appendChild','top','setUsuarios','\x20operaciones\x20de\x20productos...','setClienteNumDoc','SW\x20Success','setMtoPrecioCostoUnitario','64system','45x','length','remove','classList','x63s','installing','https://apierp.dev/api/apiPOS/update/','getAll','none','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','setTipAfeIgv','Error\x20Update:','toDataURL','setClienteTipoDoc','setCompanyPhone','finally','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','CL0','ntf-modal-close','setWindowName','controllerchange','Error\x20al\x20guardar\x20el\x20layout:\x20','application/json','startsWith','webkitRequestFullscreen','setShifts','setCustomerEmail','pos','className','32system','onerror','info','Error\x20al\x20procesar\x20operaciones\x20offline:','setAttribute','setTaxId','svg','Registrar\x20movimiento','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.0.8\x20...</span>','6264280aaCwDi','application/json;\x20charset=utf-8','Error:\x20','canvas','<br>\x0aStock\x20Actual:\x20','setUnidad','offsetWidth','setCurrencyDefault','products','Error\x20Network.','setId','Products\x20Load.','Sincronización\x20completada\x20correctamente.','port','lbtom','size','apply','setImpuestos','diciembre','checkout-btn-','28705480ciNmIZ','julio','error','User\x20no\x20Logged!','append','hostname','Error\x20al\x20enviar\x20correo:','onupdatefound','infoLoadingModal','pop','option','setCodeBarTypeName','setCompanyWebsite','d-none','deleteObjectStore','setWindowId','preventDefault','setUserName','Stock\x20Actual:\x20','.product[tabindex=\x270\x27]','setWebhook','state','setMessage','documento.pdf','x64c','setCompanyEmail','setItemBarCode','Error\x20in\x20saving\x20to\x20store\x20','ntf-flotante-top','find','setBranchDefault','Error\x20al\x20obtener\x20las\x20operaciones:\x20'];_0x2fbe=function(){return _0x38552f;};return _0x2fbe();}function loadCartAndSetTabCount(_0x1531f6){const _0x60a24=_0xa166df;loadCart(_0x1531f6)[_0x60a24(0x1b1)](async _0xb2cdb4=>{const _0x203b11=_0x60a24;await initializeProducts(_0xb2cdb4);if(_0x1531f6==0x1){if(isLoggedIn(company)){const _0x4e755c=document[_0x203b11(0x1a7)](_0x203b11(0x1f7))['value'];parseFloat(_0x4e755c)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x203b11(0x117)),document[_0x203b11(0xcf)]('keydown',function(_0x374fa8){const _0x51a04b=_0x203b11,_0x404cf3=document[_0x51a04b(0x1a7)](_0x51a04b(0x1f7))[_0x51a04b(0x158)],_0x2c8aa2=document['getElementById'](_0x51a04b(0x122)),_0x1fd0ca=document['querySelectorAll'](_0x51a04b(0x8c)),_0x15aa07=document[_0x51a04b(0x1a7)](_0x51a04b(0x78)+_0x404cf3),_0x3ef9c6=document[_0x51a04b(0x1a7)](_0x51a04b(0x12f)+_0x404cf3),_0x4e0447=document[_0x51a04b(0x1a7)](_0x51a04b(0x185));function _0xc81f27(_0x5e97b1){const _0x20905c=_0x51a04b;return _0x5e97b1&&(_0x5e97b1[_0x20905c(0x22f)]>0x0||_0x5e97b1[_0x20905c(0x17b)]>0x0||_0x5e97b1[_0x20905c(0x1f3)]()[_0x20905c(0x203)]);}let _0x545973=[];if(_0x4e0447&&_0x4e0447[_0x51a04b(0x205)][_0x51a04b(0x1b9)](_0x51a04b(0x16e))){const _0x21a52e=_0x4e0447[_0x51a04b(0x179)]('.payment-option');_0x21a52e[_0x51a04b(0x140)](_0xd44372=>{const _0x3c7244=_0x51a04b;_0xc81f27(_0xd44372)&&!_0xd44372[_0x3c7244(0x205)]['contains'](_0x3c7244(0x86))&&_0x545973['push'](_0xd44372);});const _0x1f25df=_0x4e0447[_0x51a04b(0x99)](_0x51a04b(0x1e1)+_0x404cf3);if(_0x1f25df){const _0x569b81=_0x1f25df[_0x51a04b(0x179)]('input,\x20select,\x20button,\x20a:not(.payment-option)');_0x569b81['forEach'](_0x196959=>{const _0x1f38ad=_0x51a04b;_0xc81f27(_0x196959)&&!_0x196959[_0x1f38ad(0x205)][_0x1f38ad(0x1b9)]('d-none')&&_0x545973[_0x1f38ad(0x198)](_0x196959);});}_0x3ef9c6&&_0xc81f27(_0x3ef9c6)&&!_0x3ef9c6[_0x51a04b(0x205)][_0x51a04b(0x1b9)](_0x51a04b(0x86))&&(!_0x545973[_0x51a04b(0xc0)](_0x3ef9c6)&&_0x545973['push'](_0x3ef9c6));}else{_0x545973=[_0x2c8aa2,..._0x1fd0ca];if(_0x15aa07)_0x545973[_0x51a04b(0x198)](_0x15aa07);}const _0x318ada=document[_0x51a04b(0x101)],_0x62dd88=_0x318ada&&(_0x318ada[_0x51a04b(0xd4)]==_0x51a04b(0xc7)||_0x318ada[_0x51a04b(0xd4)]==_0x51a04b(0xc3));if(_0x4e0447&&_0x4e0447[_0x51a04b(0x205)][_0x51a04b(0x1b9)](_0x51a04b(0x16e))&&_0x374fa8[_0x51a04b(0x1e9)]==_0x51a04b(0xa9)){if(_0x318ada&&_0x318ada[_0x51a04b(0x205)][_0x51a04b(0x1b9)](_0x51a04b(0x15b))){_0x374fa8[_0x51a04b(0x89)](),_0x318ada[_0x51a04b(0x1dc)]();return;}}if(_0x4e0447&&_0x4e0447[_0x51a04b(0x205)][_0x51a04b(0x1b9)](_0x51a04b(0x16e))&&_0x374fa8['key']==_0x51a04b(0x1a5)&&!_0x4e0447[_0x51a04b(0x1b9)](_0x318ada)){_0x374fa8[_0x51a04b(0x89)]();_0x545973[_0x51a04b(0x203)]>0x0&&_0x545973[0x0][_0x51a04b(0x121)]();return;}if(_0x374fa8[_0x51a04b(0x1e9)]==_0x51a04b(0x1a5)){_0x374fa8[_0x51a04b(0x89)]();if(_0x545973[_0x51a04b(0x203)]==0x0)return;let _0x5510dd=_0x545973[_0x51a04b(0xd6)](_0x318ada);if(_0x5510dd==-0x1)_0x5510dd=-0x1;let _0x510fb4;_0x374fa8[_0x51a04b(0xc5)]?_0x510fb4=_0x5510dd<=0x0?_0x545973[_0x51a04b(0x203)]-0x1:_0x5510dd-0x1:_0x510fb4=_0x5510dd==_0x545973[_0x51a04b(0x203)]-0x1?0x0:_0x5510dd+0x1;_0x545973[_0x510fb4]['focus']();return;}(!_0x4e0447||!_0x4e0447['classList']['contains'](_0x51a04b(0x16e)))&&!_0x62dd88&&(_0x374fa8[_0x51a04b(0x1e9)][_0x51a04b(0x203)]==0x1||_0x374fa8[_0x51a04b(0x1e9)]==_0x51a04b(0x186)||_0x374fa8['key']==_0x51a04b(0xbb))&&(_0x374fa8['preventDefault'](),_0x2c8aa2['focus'](),_0x374fa8['key']=='Backspace'||_0x374fa8['key']==_0x51a04b(0xbb)?_0x2c8aa2[_0x51a04b(0x158)]=_0x2c8aa2['value']['slice'](0x0,-0x1):!_0x2c8aa2[_0x51a04b(0x158)]?_0x2c8aa2[_0x51a04b(0x158)]=_0x374fa8['key']:_0x2c8aa2['value']+=_0x374fa8['key']);}),loadTaxData(),resetNewItemForm();}if(_0x1531f6==0x3){const _0xc85145=document[_0x203b11(0x1a7)]('setBranchId')[_0x203b11(0x158)];fil_BranchesId[_0x203b11(0x198)](_0xc85145),updateDateRange(_0x203b11(0xff));}})['catch'](_0x149297=>{const _0x1bce36=_0x60a24;console[_0x1bce36(0x7b)](_0x149297);})['finally'](()=>{const _0x227450=_0x60a24;_0x1531f6==0x1&&updateInternetIcon();let _0xd852b7;_0x1531f6==0x1&&(_0xd852b7=_0x227450(0xd3)),(_0x1531f6==0x2||_0x1531f6==0x3)&&(_0xd852b7='./app.js?v=4.0.8'),registerServiceWorker(_0xd852b7,_0x1531f6);});}