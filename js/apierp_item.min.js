/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.1
*/

var _0x30cf12=_0x18c6;(function(_0x27208b,_0x4baf0e){var _0x5f4802=_0x18c6,_0x144c81=_0x27208b();while(!![]){try{var _0x1ae4d5=parseInt(_0x5f4802(0x15c))/0x1*(-parseInt(_0x5f4802(0x133))/0x2)+-parseInt(_0x5f4802(0x157))/0x3+-parseInt(_0x5f4802(0x1a1))/0x4*(-parseInt(_0x5f4802(0xb6))/0x5)+parseInt(_0x5f4802(0x188))/0x6+parseInt(_0x5f4802(0x194))/0x7+parseInt(_0x5f4802(0x87))/0x8*(-parseInt(_0x5f4802(0x16f))/0x9)+parseInt(_0x5f4802(0xbe))/0xa*(parseInt(_0x5f4802(0x113))/0xb);if(_0x1ae4d5===_0x4baf0e)break;else _0x144c81['push'](_0x144c81['shift']());}catch(_0x566468){_0x144c81['push'](_0x144c81['shift']());}}}(_0x5e83,0x2cc2b));var _0x39ab8c=(function(){var _0x288d91=!![];return function(_0x3a6283,_0x3ff819){var _0x3d525d=_0x288d91?function(){var _0x1f3118=_0x18c6;if(_0x3ff819){var _0x5932af=_0x3ff819[_0x1f3118(0x118)](_0x3a6283,arguments);return _0x3ff819=null,_0x5932af;}}:function(){};return _0x288d91=![],_0x3d525d;};}()),_0x36bc68=_0x39ab8c(this,function(){var _0x2d7b53=_0x18c6;return _0x36bc68[_0x2d7b53(0x10a)]()[_0x2d7b53(0x110)](_0x2d7b53(0x149))['toString']()[_0x2d7b53(0x10e)](_0x36bc68)[_0x2d7b53(0x110)]('(((.+)+)+)+$');});_0x36bc68();var _0x151365=(function(){var _0x5a65af=!![];return function(_0x24dbce,_0x3e256c){var _0x1e592c=_0x5a65af?function(){var _0x5681aa=_0x18c6;if(_0x3e256c){var _0x37e737=_0x3e256c[_0x5681aa(0x118)](_0x24dbce,arguments);return _0x3e256c=null,_0x37e737;}}:function(){};return _0x5a65af=![],_0x1e592c;};}()),_0x257869=_0x151365(this,function(){var _0x1f319a=_0x18c6,_0x422357=function(){var _0x45b100=_0x18c6,_0x544e67;try{_0x544e67=Function(_0x45b100(0xd1)+_0x45b100(0xd9)+');')();}catch(_0x368426){_0x544e67=window;}return _0x544e67;},_0x2833b9=_0x422357(),_0x2b8ab8=_0x2833b9[_0x1f319a(0x76)]=_0x2833b9[_0x1f319a(0x76)]||{},_0x6f10f6=[_0x1f319a(0xcb),'warn',_0x1f319a(0x1ad),'error',_0x1f319a(0x8c),_0x1f319a(0xc1),_0x1f319a(0x126)];for(var _0xd129ef=0x0;_0xd129ef<_0x6f10f6[_0x1f319a(0x134)];_0xd129ef++){var _0x4ee870=_0x151365[_0x1f319a(0x10e)][_0x1f319a(0x155)][_0x1f319a(0xd0)](_0x151365),_0x1b2250=_0x6f10f6[_0xd129ef],_0x20a8c8=_0x2b8ab8[_0x1b2250]||_0x4ee870;_0x4ee870[_0x1f319a(0x111)]=_0x151365[_0x1f319a(0xd0)](_0x151365),_0x4ee870[_0x1f319a(0x10a)]=_0x20a8c8['toString'][_0x1f319a(0xd0)](_0x20a8c8),_0x2b8ab8[_0x1b2250]=_0x4ee870;}});_0x257869();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById'](_0x30cf12(0x8f)),unitCount=0x0,branchesC=document[_0x30cf12(0xbd)](_0x30cf12(0x15d)),prodC=document['getElementById'](_0x30cf12(0xf4)),vgCount=0x0,varContainer=document['getElementById']('newItem_variants_forms'),vgC=document['getElementById']('newItem_variant_groups');const fileInput=document[_0x30cf12(0xbd)](_0x30cf12(0xbb)),progressBar=document[_0x30cf12(0xbd)](_0x30cf12(0x137)),statusDiv=document[_0x30cf12(0xbd)](_0x30cf12(0xca)),uploadBtn=document[_0x30cf12(0xbd)](_0x30cf12(0x1ab));let newItemsExcel=null;const itemWorker=new Worker(_0x30cf12(0x125)),dropZone=document['getElementById'](_0x30cf12(0x104)),removeBtn=document['getElementById'](_0x30cf12(0x6d));function showModalCreateItem(_0x459e71){var _0x3e7bc7=_0x30cf12;const _0x22efe2=document['getElementById'](_0x3e7bc7(0x11a)),_0x4fbe31=document[_0x3e7bc7(0xbd)](_0x3e7bc7(0x13c));_0x22efe2[_0x3e7bc7(0x167)]['add'](_0x3e7bc7(0xe9)),_0x4fbe31[_0x3e7bc7(0xc2)][_0x3e7bc7(0x148)]='block';const _0x48d912=document[_0x3e7bc7(0xbd)](_0x3e7bc7(0x164));_0x48d912[_0x3e7bc7(0xae)]=parseInt(_0x459e71),baseItem[_0x3e7bc7(0x164)]=parseInt(_0x459e71);const _0x341770=document[_0x3e7bc7(0xbd)](_0x3e7bc7(0x145));_0x459e71==0x0&&(_0x341770[_0x3e7bc7(0xeb)]=_0x3e7bc7(0x83));_0x459e71==0x1&&(_0x341770[_0x3e7bc7(0xeb)]=_0x3e7bc7(0x131));const _0xdb47d2=document[_0x3e7bc7(0x1b0)](_0x3e7bc7(0x100));for(let _0x5e370c=0x0;_0x5e370c<_0xdb47d2[_0x3e7bc7(0x134)];_0x5e370c++){const _0x1392bd=_0xdb47d2[_0x5e370c];if(_0x459e71==0x0)_0x1392bd[_0x3e7bc7(0x167)][_0x3e7bc7(0xcd)](_0x3e7bc7(0x176));else _0x459e71==0x1&&_0x1392bd[_0x3e7bc7(0x167)][_0x3e7bc7(0xe0)]('hidden');}}function hideModalCreateItem(){var _0x3c255b=_0x30cf12;const _0x3ce054=document['getElementById'](_0x3c255b(0x11a)),_0x251ffe=document[_0x3c255b(0xbd)](_0x3c255b(0x13c));_0x3ce054[_0x3c255b(0x167)][_0x3c255b(0xcd)](_0x3c255b(0xe9)),_0x251ffe[_0x3c255b(0xc2)][_0x3c255b(0x148)]='none';}document[_0x30cf12(0xbd)]('closeModalCreateItem')['addEventListener'](_0x30cf12(0x135),hideModalCreateItem),document[_0x30cf12(0xbd)](_0x30cf12(0x13c))[_0x30cf12(0xb1)](_0x30cf12(0x135),_0x2ad0b4=>{var _0x5e313b=_0x30cf12;_0x2ad0b4[_0x5e313b(0x174)]==_0x2ad0b4['currentTarget']&&_0x2ad0b4[_0x5e313b(0x1a6)]();});function loadTaxData(){var _0x432f3e=_0x30cf12;const _0x4e4f13=document[_0x432f3e(0xbd)](_0x432f3e(0x11b));_0x4e4f13[_0x432f3e(0xeb)]='',company[0x0][_0x432f3e(0x16b)][_0x432f3e(0x116)](function(_0x2df5db){var _0x24877=_0x432f3e;const _0x3f2797=document['createElement'](_0x24877(0x1b3));_0x3f2797[_0x24877(0xae)]=_0x2df5db[_0x24877(0x183)],_0x3f2797[_0x24877(0xeb)]=_0x2df5db[_0x24877(0x151)]+'\x20('+_0x2df5db[_0x24877(0x140)]+'%)',_0x2df5db[_0x24877(0x183)]==company[0x0]['setTaxIdDefault']&&(_0x3f2797['selected']=!![]),_0x4e4f13[_0x24877(0xc8)](_0x3f2797);});}function uniqueValuesArray(_0x7fee13,_0x516a66,_0x547763){var _0x53e836=_0x30cf12;const _0x3d1e1c=Array[_0x53e836(0x7f)](new Set(_0x547763[_0x53e836(0xee)](_0x466309=>{var _0x2b0ebd=_0x53e836;const _0x32412f=_0x466309[_0x7fee13];return typeof _0x32412f===_0x2b0ebd(0x14a)?_0x32412f[_0x2b0ebd(0xb4)]():_0x32412f;})[_0x53e836(0x73)](_0x1272fb=>_0x1272fb!=null&&_0x1272fb!=='')));return _0x3d1e1c[_0x53e836(0xee)](_0x21a102=>{var _0x2c87f6=_0x53e836;const _0x445c95=_0x547763[_0x2c87f6(0xdd)](_0x3d72a3=>_0x3d72a3[_0x7fee13]===_0x21a102),_0x252c4d=_0x445c95&&_0x445c95[_0x516a66]!=null?String(_0x445c95[_0x516a66])[_0x2c87f6(0xb4)]():_0x21a102;return{'setCode':_0x21a102,'setName':_0x252c4d};});}function fillSelect(_0x1724bc,_0x128c38,_0x961808,_0x4d1576){var _0x269db0=_0x30cf12;_0x1724bc[_0x269db0(0xeb)]='',_0x128c38[_0x269db0(0x116)](function(_0x7948e2){var _0x10a970=_0x269db0,_0x4b7a3f=new Option(_0x7948e2[_0x4d1576],_0x7948e2[_0x961808]);_0x1724bc[_0x10a970(0xe0)](_0x4b7a3f);});}function initMulti(_0x2032bb,_0x3542ae){var _0x23a664=_0x30cf12,_0x249d02=document[_0x23a664(0xbd)](_0x2032bb),_0x3c9ddb=_0x249d02[_0x23a664(0x165)](_0x23a664(0x80)),_0x278c92=_0x249d02[_0x23a664(0x165)]('.options_list'),_0x23b079=_0x249d02[_0x23a664(0x165)](_0x23a664(0xa8)),_0x5d721a=_0x3542ae[_0x23a664(0xc4)](),_0x398115=[];let _0x34d9db=null,_0x50dcd=![];function _0x31a328(){var _0x232868=_0x23a664;const _0x36a9fb=_0x3c9ddb[_0x232868(0xae)][_0x232868(0xb4)]();if(!_0x36a9fb)return;const _0x12edec=_0x5d721a[_0x232868(0xdd)](_0x289a7d=>_0x289a7d[_0x232868(0x77)][_0x232868(0x84)]()===_0x36a9fb['toLowerCase']());if(_0x12edec)_0x398115[_0x232868(0x14f)](_0x12edec),_0x5d721a[_0x232868(0xe4)](_0x5d721a[_0x232868(0x13f)](_0x23b56b=>_0x23b56b['setCode']===_0x12edec[_0x232868(0x127)]),0x1);else{const _0x785a62=_0x398115[_0x232868(0x191)](_0x326aec=>_0x326aec[_0x232868(0x77)][_0x232868(0x84)]()===_0x36a9fb['toLowerCase']());!_0x785a62&&_0x398115[_0x232868(0x14f)]({'setCode':_0x36a9fb,'setName':_0x36a9fb});}_0x531600(),_0x59fbaa(),_0x3c9ddb[_0x232868(0xae)]='';}function _0x59fbaa(){var _0x593850=_0x23a664;_0x278c92[_0x593850(0xeb)]='',_0x5d721a[_0x593850(0x73)](_0x30d4f2=>_0x30d4f2[_0x593850(0x77)]['toLowerCase']()[_0x593850(0xe6)](_0x3c9ddb[_0x593850(0xae)][_0x593850(0x84)]()))[_0x593850(0xc4)](0x0,0x14)[_0x593850(0x116)](_0x2b49dd=>{var _0x3d2208=_0x593850,_0x2a64bf=document[_0x3d2208(0xd3)](_0x3d2208(0x89));_0x2a64bf['textContent']=_0x2b49dd[_0x3d2208(0x77)],_0x2a64bf['dataset'][_0x3d2208(0xa1)]=_0x2b49dd[_0x3d2208(0x127)],_0x278c92[_0x3d2208(0xc8)](_0x2a64bf),_0x2a64bf[_0x3d2208(0xb1)]('mousedown',()=>_0x50dcd=!![]),_0x2a64bf[_0x3d2208(0xb1)](_0x3d2208(0x135),function(){var _0xac82c0=_0x3d2208;_0x50dcd=![],_0x398115[_0xac82c0(0x14f)](_0x2b49dd),_0x5d721a['splice'](_0x5d721a[_0xac82c0(0x13f)](_0x1df0e0=>_0x1df0e0['setCode']===_0x2b49dd[_0xac82c0(0x127)]),0x1),_0x3c9ddb[_0xac82c0(0xae)]='',_0x531600(),_0x59fbaa();});});}function _0x531600(){var _0x2c799b=_0x23a664;_0x23b079['innerHTML']='',_0x398115[_0x2c799b(0x116)](_0x17b030=>{var _0x5b9927=_0x2c799b,_0x20be68=document[_0x5b9927(0xd3)](_0x5b9927(0x89));_0x20be68[_0x5b9927(0x72)]=_0x5b9927(0x117),_0x20be68[_0x5b9927(0x181)]=_0x17b030[_0x5b9927(0x77)];var _0x3b4b5a=document[_0x5b9927(0xd3)](_0x5b9927(0xea));_0x3b4b5a[_0x5b9927(0x72)]=_0x5b9927(0x8a),_0x3b4b5a[_0x5b9927(0x181)]='×',_0x3b4b5a[_0x5b9927(0xb1)](_0x5b9927(0x135),function(){var _0x12a063=_0x5b9927;_0x5d721a['push'](_0x17b030);const _0x33d29b=_0x398115['findIndex'](_0x44d0d2=>_0x44d0d2[_0x12a063(0x127)]===_0x17b030['setCode']);if(_0x33d29b>-0x1)_0x398115[_0x12a063(0xe4)](_0x33d29b,0x1);_0x531600(),_0x59fbaa();}),_0x20be68['appendChild'](_0x3b4b5a),_0x23b079[_0x5b9927(0xc8)](_0x20be68);}),_0x249d02['dispatchEvent'](new CustomEvent(_0x2c799b(0x119),{'detail':_0x398115,'bubbles':!![]}));}return _0x3c9ddb[_0x23a664(0xb1)]('focus',function(){var _0x458002=_0x23a664;_0x34d9db&&(clearTimeout(_0x34d9db),_0x34d9db=null),_0x278c92['classList'][_0x458002(0xcd)]('newItem_hidden');}),_0x3c9ddb[_0x23a664(0xb1)](_0x23a664(0x106),_0x59fbaa),_0x3c9ddb[_0x23a664(0xb1)]('keydown',function(_0x3054db){var _0xe62c31=_0x23a664;_0x3054db[_0xe62c31(0x108)]===_0xe62c31(0x18f)&&(_0x3054db[_0xe62c31(0x19b)](),_0x31a328());}),_0x3c9ddb['addEventListener'](_0x23a664(0x9f),function(){if(_0x50dcd)return;_0x34d9db=setTimeout(()=>{_0x31a328(),_0x34d9db=null;},0xc8);}),document['addEventListener'](_0x23a664(0x135),function(_0x5f2162){var _0x31598b=_0x23a664;!_0x249d02[_0x31598b(0x12e)](_0x5f2162[_0x31598b(0x174)])&&_0x278c92['classList'][_0x31598b(0xe0)](_0x31598b(0xde));}),_0x59fbaa(),_0x398115;}function getLastCode(_0x147c75){var _0x1972ff=_0x30cf12;const _0x34f9a9=_0x147c75[_0x1972ff(0xee)](_0x46bbbb=>String(_0x46bbbb['setCodProducto'])[_0x1972ff(0xb4)]())[_0x1972ff(0x73)](_0xa23728=>_0xa23728!=='');if(_0x34f9a9[_0x1972ff(0x134)]===0x0)return'';const _0x4f92f5=_0x34f9a9['every'](_0x557016=>/^\d+$/[_0x1972ff(0x18b)](_0x557016));if(_0x4f92f5){const _0x277dba=_0x34f9a9[_0x1972ff(0xee)](Number),_0xaa3d39=Math[_0x1972ff(0x1b1)](..._0x277dba);return String(_0xaa3d39);}let _0x3fa492;if(typeof Intl!==_0x1972ff(0xda)&&Intl[_0x1972ff(0xf2)]){const _0x18ab4c=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x1972ff(0xdc)});_0x3fa492=_0x34f9a9['slice']()['sort'](_0x18ab4c[_0x1972ff(0xce)]);}else{const _0xc6d910=_0x34f9a9[_0x1972ff(0xaa)](_0x3f29dd=>/^\d+$/[_0x1972ff(0x18b)](_0x3f29dd));_0xc6d910?_0x3fa492=_0x34f9a9[_0x1972ff(0xee)](Number)['sort']((_0x37380b,_0x38af31)=>_0x37380b-_0x38af31)[_0x1972ff(0xee)](String):_0x3fa492=_0x34f9a9[_0x1972ff(0xc4)]()[_0x1972ff(0xd6)]();}return _0x3fa492[_0x3fa492[_0x1972ff(0x134)]-0x1];}function getNextCode(_0xd15bd0){var _0x4f7f6a=_0x30cf12;const _0x2cac17=getLastCode(_0xd15bd0);if(!_0x2cac17)return'';if(/^\d+$/[_0x4f7f6a(0x18b)](_0x2cac17))return String(Number(_0x2cac17)+0x1);const _0x54e10d=_0x2cac17[_0x4f7f6a(0x82)](/^([A-Za-z]*)(\d+)$/);if(_0x54e10d){const [,_0x36d78f,_0x4818f4]=_0x54e10d,_0x52fd68=String(Number(_0x4818f4)+0x1)[_0x4f7f6a(0x10f)](_0x4818f4[_0x4f7f6a(0x134)],'0');return _0x36d78f+_0x52fd68;}return _0x2cac17;}document[_0x30cf12(0xbd)](_0x30cf12(0x190))['addEventListener'](_0x30cf12(0x106),function(_0x1f7755){var _0x38efbd=_0x30cf12;baseItem[_0x38efbd(0x12c)]=_0x1f7755[_0x38efbd(0x174)][_0x38efbd(0xae)];}),document[_0x30cf12(0xbd)]('inputItemDescription')[_0x30cf12(0xb1)](_0x30cf12(0x106),function(_0x576efa){var _0x3d8f8a=_0x30cf12;baseItem[_0x3d8f8a(0x1ae)]=_0x576efa[_0x3d8f8a(0x174)][_0x3d8f8a(0xae)];}),document[_0x30cf12(0xbd)](_0x30cf12(0x8d))[_0x30cf12(0xb1)](_0x30cf12(0x106),function(_0xba207e){var _0x1bd84a=_0x30cf12;baseItem[_0x1bd84a(0x92)]=_0xba207e[_0x1bd84a(0x174)][_0x1bd84a(0xae)];}),document[_0x30cf12(0xbd)]('inputItemType')[_0x30cf12(0xb1)](_0x30cf12(0xfd),function(_0x484e0b){var _0x3b3a03=_0x30cf12;baseItem[_0x3b3a03(0x75)]=_0x484e0b['target']['value'];}),document['getElementById'](_0x30cf12(0x11b))[_0x30cf12(0xb1)]('change',function(_0x4a5640){var _0x791213=_0x30cf12;baseItem[_0x791213(0x142)]=_0x4a5640[_0x791213(0x174)][_0x791213(0xae)];const _0x26717f=_0x4a5640[_0x791213(0x174)]['value'],_0x20daa4=company[0x0][_0x791213(0x16b)][_0x791213(0xdd)](_0x27553b=>_0x27553b[_0x791213(0x183)]==_0x26717f)?.[_0x791213(0xe5)]||0x0,_0x693ba4=company[0x0][_0x791213(0x16b)][_0x791213(0xdd)](_0x3813f3=>_0x3813f3['setTaxId']==_0x26717f)?.['setImpuestoValue']||0x0;baseItem[_0x791213(0x90)]=_0x20daa4,baseItem[_0x791213(0x15a)]=_0x693ba4;}),document[_0x30cf12(0xbd)](_0x30cf12(0x16c))[_0x30cf12(0xb1)](_0x30cf12(0xfd),function(_0x360b60){var _0x169e11=_0x30cf12;baseItem[_0x169e11(0xf7)]=_0x360b60[_0x169e11(0x174)][_0x169e11(0x196)];}),document[_0x30cf12(0xbd)](_0x30cf12(0x199))['addEventListener'](_0x30cf12(0xfd),function(_0x5ea036){var _0x4e6ed3=_0x30cf12;baseItem[_0x4e6ed3(0x184)]=_0x5ea036[_0x4e6ed3(0x174)]['checked'];}),document['getElementById']('inputItemCode')[_0x30cf12(0xb1)](_0x30cf12(0x106),function(_0x36decb){var _0x5e498c=_0x30cf12;baseItem[_0x5e498c(0x130)]=_0x36decb['target']['value'];}),document[_0x30cf12(0xbd)](_0x30cf12(0x95))[_0x30cf12(0xb1)](_0x30cf12(0x106),function(_0x566a7d){var _0x218f4a=_0x30cf12;baseItem[_0x218f4a(0x10d)]=_0x566a7d[_0x218f4a(0x174)][_0x218f4a(0xae)];}),document[_0x30cf12(0xbd)](_0x30cf12(0xac))[_0x30cf12(0xb1)](_0x30cf12(0x135),function(){addUnit(),updateUnitsArray();}),document['getElementById']('inputItemCode')[_0x30cf12(0xb1)](_0x30cf12(0x9f),function(){var _0x3c975f=_0x30cf12;const _0x58c231=this['value'][_0x3c975f(0xb4)]();if(_0x58c231==='')return;const _0x490e77=products[_0x3c975f(0x191)](_0xcd407e=>_0xcd407e[_0x3c975f(0x120)]==_0x58c231),_0x3af2ce=getLastCode(products);_0x490e77?ntfShow(_0x3c975f(0x1a8)+_0x3af2ce,0x2,0x1):ntfShow(_0x3c975f(0xc6),0x1,0x1);});function removeImg(_0x27f429){var _0x4742a2=_0x30cf12;currentImages[_0x27f429]=null;var _0x2a1ff1=imgC['querySelector'](_0x4742a2(0xa0)+_0x27f429+'\x22]');_0x2a1ff1[_0x4742a2(0xeb)]='';var _0x14241b=document[_0x4742a2(0xd3)](_0x4742a2(0x106));_0x14241b[_0x4742a2(0x152)]=_0x4742a2(0x102),_0x14241b[_0x4742a2(0x18a)]=_0x4742a2(0x74),_0x14241b['style'][_0x4742a2(0x148)]=_0x4742a2(0xed);var _0x49e244=document[_0x4742a2(0xd3)](_0x4742a2(0xea));_0x49e244[_0x4742a2(0x181)]='+',_0x2a1ff1[_0x4742a2(0xc8)](_0x14241b),_0x2a1ff1[_0x4742a2(0xc8)](_0x49e244),_0x2a1ff1[_0x4742a2(0xb1)](_0x4742a2(0x135),function(){var _0x4a7ca6=_0x4742a2;_0x14241b[_0x4a7ca6(0x135)]();}),baseItem[_0x4742a2(0x96)]=currentImages[_0x4742a2(0x73)](function(_0x4e17f9){return _0x4e17f9;});}function addUnit(_0x90ad94,_0x3011c8,_0x200239,_0x294fc5,_0x472d97,_0x5c5135,_0x1cac19){var _0x560f9e=_0x30cf12,_0x3af1c3=uniqueValuesArray(_0x560f9e(0x15f),_0x560f9e(0x1af),myCompany['setUnits']);_0x90ad94=_0x90ad94||'',_0x3011c8=_0x3011c8||_0x3af1c3[0x3a]&&_0x3af1c3[0x3a]['setCode']||'',_0x200239=_0x200239!==undefined?_0x200239:0x1,_0x294fc5=!!_0x294fc5,_0x472d97=_0x472d97||'',_0x5c5135=_0x5c5135||'';var _0x20c86a=unitCount++,_0x479a36=document['createElement']('div');_0x479a36[_0x560f9e(0x18e)]['idx']=_0x20c86a,_0x479a36[_0x560f9e(0x18e)][_0x560f9e(0xe3)]=_0x294fc5,_0x479a36[_0x560f9e(0xeb)]=_0x560f9e(0x1ac)+_0x20c86a+_0x560f9e(0xd2)+_0x90ad94+_0x560f9e(0x1a7)+_0x20c86a+_0x560f9e(0x6e)+_0x20c86a+'\x22\x20value=\x22'+_0x200239+'\x22\x20'+(_0x294fc5?_0x560f9e(0x162):'')+_0x560f9e(0x18d)+_0x20c86a+'\x22\x20value=\x22'+_0x472d97+_0x560f9e(0x143)+_0x20c86a+'\x22\x20value=\x22'+_0x5c5135+_0x560f9e(0x91)+(_0x294fc5?'style=\x22display:none\x22':'')+_0x560f9e(0x146),fillSelect(_0x479a36[_0x560f9e(0x165)](_0x560f9e(0x13b)),_0x3af1c3,_0x560f9e(0x127),_0x560f9e(0x77)),_0x479a36[_0x560f9e(0x165)](_0x560f9e(0x13b))[_0x560f9e(0xae)]=_0x3011c8,['unitAlias',_0x560f9e(0x17b),'eqInput','priceInput',_0x560f9e(0x14c)][_0x560f9e(0x116)](function(_0x3259b2){var _0x4393b1=_0x560f9e;_0x479a36[_0x4393b1(0x165)]('.'+_0x3259b2)[_0x4393b1(0xb1)](_0x4393b1(0x106),function(){var _0x53e5ca=_0x4393b1,_0x27f33d=_0x1cac19?+_0x1cac19['id'][_0x53e5ca(0xc5)]('_')[0x1]:null;if(_0x1cac19)updateVariantUnits(_0x27f33d);else updateUnitsArray();});}),_0x479a36['querySelector'](_0x560f9e(0x97))[_0x560f9e(0xb1)](_0x560f9e(0x135),function(){var _0x275ab6=_0x560f9e;_0x479a36[_0x275ab6(0xcd)]();var _0x1228ef=_0x1cac19?+_0x1cac19['id'][_0x275ab6(0xc5)]('_')[0x1]:null;if(_0x1cac19)updateVariantUnits(_0x1228ef);else updateUnitsArray();});var _0x394fad=_0x1cac19||document['getElementById'](_0x560f9e(0x19e));_0x394fad[_0x560f9e(0xc8)](_0x479a36);}function containerIdx(_0x349888){var _0x294951=_0x30cf12;return+_0x349888['id'][_0x294951(0xc5)]('_')[0x1];}function updateUnitsArray(){var _0xbe71eb=_0x30cf12,_0x310fd3=[],_0x4fccb6=Array['from'](document['querySelectorAll'](_0xbe71eb(0x186))),_0x116a8a=_0x4fccb6[_0xbe71eb(0xdd)](_0x3df3e2=>_0x3df3e2[_0xbe71eb(0x18e)][_0xbe71eb(0xe3)]==='true'),_0x5d743f=_0x116a8a?+_0x116a8a[_0xbe71eb(0x165)](_0xbe71eb(0x17c))[_0xbe71eb(0xae)]:0x1;_0x4fccb6['forEach'](function(_0x3cf229){var _0x3204a9=_0xbe71eb,_0x552730=+_0x3cf229[_0x3204a9(0x165)](_0x3204a9(0x17c))[_0x3204a9(0xae)]||0x0,_0x46005f=+_0x3cf229['querySelector'](_0x3204a9(0xfc))['value']||0x0,_0x31b856=+_0x3cf229[_0x3204a9(0x165)]('.costInput')['value']||0x0;_0x310fd3[_0x3204a9(0x14f)]({'setAlias':_0x3cf229['querySelector'](_0x3204a9(0x1a2))[_0x3204a9(0xae)][_0x3204a9(0xb4)](),'setUnitCode':_0x3cf229[_0x3204a9(0x165)](_0x3204a9(0x13b))[_0x3204a9(0xae)],'setEquivalence':_0x552730,'setFactor':_0x3cf229[_0x3204a9(0x18e)][_0x3204a9(0xe3)]==='true'?0x1:_0x552730==_0x5d743f?0x1:_0x552730<_0x5d743f?_0x5d743f/_0x552730:_0x552730/_0x5d743f,'setPrice':_0x46005f,'setCost':_0x31b856,'setDefault':_0x3cf229[_0x3204a9(0x18e)][_0x3204a9(0xe3)]===_0x3204a9(0xd4)?0x1:0x0});}),baseItem[_0xbe71eb(0xcf)]=_0x310fd3;}function updateBranches(){var _0x4e544f=_0x30cf12,_0x3e8dbc=[];document[_0x4e544f(0x1b2)](_0x4e544f(0x1b4))[_0x4e544f(0x116)](function(_0x1593a7){var _0x1cffa5=_0x4e544f,_0x37288d=_0x1593a7[_0x1cffa5(0x165)](_0x1cffa5(0x121));if(_0x37288d[_0x1cffa5(0x196)]){var _0x338e17=+_0x37288d[_0x1cffa5(0x18e)]['id'],_0x30958c=+_0x1593a7[_0x1cffa5(0x165)](_0x1cffa5(0x189))[_0x1cffa5(0xae)],_0x7bb5d3=+_0x1593a7[_0x1cffa5(0x165)](_0x1cffa5(0x11c))[_0x1cffa5(0xae)];_0x3e8dbc['push']({'setWarehouseCode':_0x338e17,'setStockInitial':_0x30958c,'setStockMinimum':_0x7bb5d3});}}),baseItem['setItemWarehouses']=_0x3e8dbc;}document[_0x30cf12(0xbd)](_0x30cf12(0x153))['addEventListener'](_0x30cf12(0x135),function(){var _0x1ee268=_0x30cf12,_0x759819=Date[_0x1ee268(0x172)](),_0x1af2ed=document['createElement'](_0x1ee268(0x89));_0x1af2ed[_0x1ee268(0x18e)]['idx']=_0x759819,_0x1af2ed['innerHTML']=_0x1ee268(0xfa)+_0x759819+_0x1ee268(0x198)+_0x759819+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x1af2ed),initProdSearch(_0x1af2ed[_0x1ee268(0x165)]('.prod_input_container')),_0x1af2ed['querySelector'](_0x1ee268(0x68))['addEventListener']('click',function(){var _0x4c6b1c=_0x1ee268;_0x1af2ed[_0x4c6b1c(0xcd)](),updateProdItems();}),_0x1af2ed[_0x1ee268(0x165)](_0x1ee268(0x12f))[_0x1ee268(0xb1)](_0x1ee268(0x106),updateProdItems),document['getElementById'](_0x1ee268(0x14d))[_0x1ee268(0x167)][_0x1ee268(0xb9)](_0x1ee268(0x14b),!![]),document[_0x1ee268(0xbd)](_0x1ee268(0x14d))[_0x1ee268(0x167)]['toggle'](_0x1ee268(0xde),![]);});function initProdSearch(_0x4e02a9,_0x569eab){var _0x1d4f9a=_0x30cf12,_0x11fa71=_0x4e02a9[_0x1d4f9a(0x165)](_0x1d4f9a(0x9c)),_0x323690=_0x4e02a9[_0x1d4f9a(0x165)]('.options_list'),_0x5b96ca=_0x569eab||null;if(_0x569eab)_0x11fa71[_0x1d4f9a(0xae)]=_0x569eab[_0x1d4f9a(0x7e)];_0x11fa71[_0x1d4f9a(0xb1)](_0x1d4f9a(0x106),function(){var _0x248cf5=_0x1d4f9a,_0x380c17=_0x11fa71[_0x248cf5(0xae)]['toLowerCase']()['trim']();_0x323690[_0x248cf5(0xeb)]='';if(!_0x380c17)return;products[_0x248cf5(0x73)](_0x4c2517=>_0x4c2517[_0x248cf5(0xa9)][_0x248cf5(0x84)]()['includes'](_0x380c17))[_0x248cf5(0xc4)](0x0,0x14)[_0x248cf5(0x116)](function(_0x425f23){var _0x440ae9=_0x248cf5,_0x2ae17=document[_0x440ae9(0xd3)](_0x440ae9(0x89));_0x2ae17[_0x440ae9(0x181)]=_0x425f23['setDescripcion'],_0x2ae17[_0x440ae9(0x18e)]['id']=_0x425f23['id'],_0x2ae17[_0x440ae9(0x18e)][_0x440ae9(0x7e)]=_0x425f23['setDescripcion'],_0x323690[_0x440ae9(0xc8)](_0x2ae17),_0x2ae17['addEventListener'](_0x440ae9(0x135),function(){var _0x4e176=_0x440ae9;_0x5b96ca={'id':_0x425f23['id'],'name':_0x425f23[_0x4e176(0xa9)]},_0x11fa71[_0x4e176(0xae)]=_0x425f23['setDescripcion'],_0x323690[_0x4e176(0xeb)]='';var _0x578887=_0x4e02a9[_0x4e176(0xb2)](_0x4e176(0x15e));if(_0x578887){var _0x4995da=+_0x578887['id'][_0x4e176(0xc5)]('_')[0x1];updateVariantComponents(_0x4995da);}else updateProdItems();});});}),_0x11fa71['addEventListener'](_0x1d4f9a(0xf9),function(){var _0x335f69=_0x1d4f9a;_0x323690['classList'][_0x335f69(0xcd)](_0x335f69(0xde));}),document[_0x1d4f9a(0xb1)]('click',function(_0xc3fab6){var _0x4a3876=_0x1d4f9a;if(!_0x4e02a9['contains'](_0xc3fab6[_0x4a3876(0x174)]))_0x323690[_0x4a3876(0x167)]['add'](_0x4a3876(0xde));}),Object[_0x1d4f9a(0x78)](_0x4e02a9,_0x1d4f9a(0xab),{'get':()=>_0x5b96ca});}function updateProdItems(){var _0x4182cb=_0x30cf12,_0x235856=[];Array[_0x4182cb(0x7f)](prodC['children'])[_0x4182cb(0x116)](function(_0x44a4bd){var _0x1b8b86=_0x4182cb,_0x12b8c9=_0x44a4bd[_0x1b8b86(0x165)]('.prod_input_container');if(!_0x12b8c9)return;var _0x5347cd=_0x44a4bd['querySelector'](_0x1b8b86(0x12f)),_0x5a002c=_0x12b8c9[_0x1b8b86(0xab)];_0x5a002c&&_0x235856[_0x1b8b86(0x14f)]({'setItemId':_0x5a002c['id'],'setDescripcion':_0x5a002c['name'],'setCantidad':+_0x5347cd[_0x1b8b86(0xae)]});}),baseItem[_0x4182cb(0xa6)]=_0x235856,_0x235856['length']===0x0&&(document['getElementById'](_0x4182cb(0x14d))[_0x4182cb(0x167)][_0x4182cb(0xb9)](_0x4182cb(0x14b),![]),document[_0x4182cb(0xbd)]('newItem_title_table_cp')['classList'][_0x4182cb(0xb9)]('newItem_hidden',!![]));}document[_0x30cf12(0xbd)](_0x30cf12(0x173))[_0x30cf12(0xb1)](_0x30cf12(0x135),function(){var _0x38feab=_0x30cf12,_0x5c6df6=vgCount++,_0xa102aa=document[_0x38feab(0xd3)](_0x38feab(0x89));_0xa102aa[_0x38feab(0x18e)][_0x38feab(0xc0)]=_0x5c6df6,_0xa102aa[_0x38feab(0xeb)]=_0x38feab(0xd7)+_0x5c6df6+'\x22>'+'<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22'+_0x5c6df6+'\x22>'+_0x38feab(0x7b),vgC[_0x38feab(0xc8)](_0xa102aa),_0xa102aa[_0x38feab(0x165)]('.vgName')[_0x38feab(0xb1)](_0x38feab(0x9f),generateVariants),_0xa102aa[_0x38feab(0x165)](_0x38feab(0xc9))[_0x38feab(0xb1)](_0x38feab(0x9f),generateVariants),_0xa102aa[_0x38feab(0x165)](_0x38feab(0x114))['addEventListener'](_0x38feab(0x135),function(){_0xa102aa['remove'](),generateVariants();});});function generateVariants(){var _0x27a846=_0x30cf12,_0x239750=[];vgC[_0x27a846(0x1b2)]('div')['forEach'](function(_0x59a1eb){var _0x33db26=_0x27a846,_0x3e68fa=_0x59a1eb[_0x33db26(0x165)](_0x33db26(0x1b5))['value'][_0x33db26(0xb4)](),_0xd3f869=_0x59a1eb['querySelector']('.vgVals')[_0x33db26(0xae)][_0x33db26(0xc5)](',')[_0x33db26(0xee)](_0x37c4fd=>_0x37c4fd[_0x33db26(0xb4)]())['filter'](_0x4acef6=>_0x4acef6);if(_0x3e68fa&&_0xd3f869['length'])_0x239750['push']({'name':_0x3e68fa,'vals':_0xd3f869});});var _0x1c13fb=[{}];_0x239750[_0x27a846(0x116)](function(_0x1aba7e){var _0xfdef7c=_0x27a846;_0x1c13fb=_0x1c13fb[_0xfdef7c(0x1a0)](function(_0x1ec05f){var _0x40c68a=_0xfdef7c;return _0x1aba7e[_0x40c68a(0x18c)][_0x40c68a(0xee)](function(_0x32642d){var _0x418f5=_0x40c68a,_0x9b39ea=Object[_0x418f5(0xff)]({},_0x1ec05f);return _0x9b39ea[_0x1aba7e[_0x418f5(0x7e)]]=_0x32642d,_0x9b39ea;});});}),newItems=[],varContainer[_0x27a846(0xeb)]='',_0x1c13fb[_0x27a846(0x116)](function(_0x55e094,_0x5f4aa5){var _0x5ef558=_0x27a846,_0x5025c5=JSON[_0x5ef558(0xa3)](JSON[_0x5ef558(0x12d)](baseItem));_0x5025c5[_0x5ef558(0x158)]=_0x55e094,_0x5025c5[_0x5ef558(0xef)]=baseItem[_0x5ef558(0x12c)]+'\x20'+Object[_0x5ef558(0xd8)](_0x55e094)['map'](_0x4deda4=>_0x4deda4[0x0]+'\x20'+_0x4deda4[0x1])[_0x5ef558(0x12b)]('\x20'),newItems[_0x5ef558(0x14f)](_0x5025c5);var _0x298d1a=document[_0x5ef558(0xd3)]('div');_0x298d1a[_0x5ef558(0x167)][_0x5ef558(0xe0)](_0x5ef558(0x12a)),_0x298d1a[_0x5ef558(0x18e)]['idx']=_0x5f4aa5,_0x298d1a[_0x5ef558(0xeb)]=_0x5ef558(0xb0)+_0x5025c5[_0x5ef558(0xef)]+_0x5ef558(0x156)+_0x5025c5[_0x5ef558(0x130)]+_0x5ef558(0x182)+_0x5025c5[_0x5ef558(0x10d)]+_0x5ef558(0x10b)+_0x5025c5[_0x5ef558(0x92)]+_0x5ef558(0x11e)+_0x5f4aa5+_0x5ef558(0x71)+_0x5f4aa5+_0x5ef558(0xf5)+_0x5f4aa5+_0x5ef558(0x14e),varContainer['appendChild'](_0x298d1a),_0x298d1a[_0x5ef558(0x165)]('.variantCode')[_0x5ef558(0xb1)](_0x5ef558(0x106),_0x264ed9=>newItems[_0x5f4aa5]['setItemCode']=_0x264ed9[_0x5ef558(0x174)][_0x5ef558(0xae)]),_0x298d1a[_0x5ef558(0x165)](_0x5ef558(0x66))[_0x5ef558(0xb1)](_0x5ef558(0x106),_0x2167ab=>newItems[_0x5f4aa5]['setItemBarCode']=_0x2167ab[_0x5ef558(0x174)][_0x5ef558(0xae)]),_0x298d1a['querySelector'](_0x5ef558(0x17a))[_0x5ef558(0xb1)](_0x5ef558(0xfd),_0x3b1c55=>newItems[_0x5f4aa5][_0x5ef558(0x92)]=_0x3b1c55[_0x5ef558(0x174)][_0x5ef558(0xae)]),initVariantUnits(_0x5f4aa5),initVariantComponents(_0x5f4aa5),initVariantBranches(_0x5f4aa5),_0x298d1a[_0x5ef558(0x165)](_0x5ef558(0x13d))[_0x5ef558(0xb1)](_0x5ef558(0x135),function(){var _0x7d1b4b=_0x5ef558,_0x12240f=+_0x298d1a[_0x7d1b4b(0x18e)][_0x7d1b4b(0xc0)];newItems[_0x7d1b4b(0xe4)](_0x12240f,0x1),_0x298d1a['remove'](),document[_0x7d1b4b(0x1b2)](_0x7d1b4b(0xec))['forEach'](function(_0x4fea87,_0x318e76){var _0x110771=_0x7d1b4b;_0x4fea87[_0x110771(0x18e)][_0x110771(0xc0)]=_0x318e76;});});});if(newItems[_0x27a846(0x134)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x481168){var _0x3e30a1=_0x30cf12,_0xb50536=document[_0x3e30a1(0xbd)](_0x3e30a1(0xdf)+_0x481168+_0x3e30a1(0x17d)),_0x507f00=[];Array[_0x3e30a1(0x7f)](_0xb50536[_0x3e30a1(0x70)])[_0x3e30a1(0x116)](function(_0x39fc61){var _0x295771=_0x3e30a1,_0x306143=+_0x39fc61['querySelector'](_0x295771(0x17c))[_0x295771(0xae)]||0x0,_0x47fade=_0x39fc61['querySelector']('.unitAlias')[_0x295771(0xae)][_0x295771(0xb4)](),_0x572e15=_0x39fc61[_0x295771(0x165)](_0x295771(0x13b))[_0x295771(0xae)],_0x1e27be=+_0x39fc61[_0x295771(0x165)]('.priceInput')[_0x295771(0xae)]||0x0,_0x44472b=+_0x39fc61[_0x295771(0x165)](_0x295771(0x85))[_0x295771(0xae)]||0x0,_0xc54ab8=_0x39fc61[_0x295771(0x18e)][_0x295771(0xe3)]===_0x295771(0xd4),_0x25be9f=+_0xb50536['querySelector'](_0x295771(0x195))['value']||0x1,_0x2bd04e=_0xc54ab8?0x1:_0x306143==_0x25be9f?0x1:_0x306143<_0x25be9f?_0x25be9f/_0x306143:_0x306143/_0x25be9f;_0x507f00[_0x295771(0x14f)]({'setAlias':_0x47fade,'setUnitCode':_0x572e15,'setEquivalence':_0x306143,'setFactor':_0x2bd04e,'setPrice':_0x1e27be,'setCost':_0x44472b,'setDefault':_0xc54ab8?0x1:0x0});}),newItems[_0x481168][_0x3e30a1(0xcf)]=_0x507f00;}function initVariantUnits(_0x7b184a){var _0x5d4d4f=_0x30cf12,_0x14286a=document[_0x5d4d4f(0xbd)](_0x5d4d4f(0xdf)+_0x7b184a+_0x5d4d4f(0x17d));_0x14286a[_0x5d4d4f(0xeb)]='',newItems[_0x7b184a]['setItemUnits'][_0x5d4d4f(0x116)](function(_0x2611a6){var _0x71d856=_0x5d4d4f;addUnit(_0x2611a6[_0x71d856(0xb5)],_0x2611a6[_0x71d856(0x15f)],_0x2611a6[_0x71d856(0x169)],_0x2611a6[_0x71d856(0xd5)],_0x2611a6[_0x71d856(0x161)],_0x2611a6['setCost'],_0x14286a);}),_0x14286a[_0x5d4d4f(0x9b)][_0x5d4d4f(0x165)](_0x5d4d4f(0x171))[_0x5d4d4f(0xb1)]('click',function(){addUnit('','',0x1,![],'','',_0x14286a),updateVariantUnits(_0x7b184a);});}function updateVariantUnits(_0x55a5af){var _0x5928c4=_0x30cf12,_0x387448=document[_0x5928c4(0xbd)](_0x5928c4(0xdf)+_0x55a5af+'_units_container'),_0x2281b5=_0x387448[_0x5928c4(0x165)](_0x5928c4(0x195)),_0x5b6a88=_0x2281b5?+_0x2281b5[_0x5928c4(0xae)]:0x1,_0x1ef7c3=Array[_0x5928c4(0x7f)](_0x387448['children'])[_0x5928c4(0xee)](function(_0x485931){var _0x13b50d=_0x5928c4,_0x4f57ea=_0x485931['querySelector'](_0x13b50d(0x1a2))[_0x13b50d(0xae)]['trim'](),_0x180733=_0x485931['querySelector']('.unitSelect')['value'],_0x3a5612=+_0x485931[_0x13b50d(0x165)]('.eqInput')[_0x13b50d(0xae)]||0x0,_0x321319=+_0x485931[_0x13b50d(0x165)]('.priceInput')[_0x13b50d(0xae)]||0x0,_0x320318=+_0x485931[_0x13b50d(0x165)]('.costInput')[_0x13b50d(0xae)]||0x0,_0x264506=_0x485931[_0x13b50d(0x18e)][_0x13b50d(0xe3)]==='true';return{'setAlias':_0x4f57ea,'setUnitCode':_0x180733,'setEquivalence':_0x3a5612,'setFactor':_0x264506?0x1:_0x3a5612==_0x5b6a88?0x1:_0x3a5612<_0x5b6a88?_0x5b6a88/_0x3a5612:_0x3a5612/_0x5b6a88,'setPrice':_0x321319,'setCost':_0x320318,'setDefault':_0x264506?0x1:0x0};});newItems[_0x55a5af][_0x5928c4(0xcf)]=_0x1ef7c3;}function initVariantComponents(_0x3cc987){var _0x21ecac=_0x30cf12,_0x222321=document[_0x21ecac(0xbd)](_0x21ecac(0xdf)+_0x3cc987+_0x21ecac(0xbc));_0x222321['innerHTML']='',newItems[_0x3cc987][_0x21ecac(0xa6)][_0x21ecac(0x116)](function(_0x2bc06c){var _0x115559=_0x21ecac,_0xe9b5e1=document['createElement'](_0x115559(0x89)),_0x486cb1=Date['now']();_0xe9b5e1[_0x115559(0x18e)][_0x115559(0xc0)]=_0x486cb1,_0xe9b5e1[_0x115559(0xeb)]=_0x115559(0xb8)+_0x486cb1+_0x115559(0x7c)+_0x2bc06c[_0x115559(0x16a)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x222321['appendChild'](_0xe9b5e1),initProdSearch(_0xe9b5e1[_0x115559(0x165)](_0x115559(0x175)),{'id':_0x2bc06c[_0x115559(0x139)],'name':_0x2bc06c['setDescripcion']}),_0xe9b5e1[_0x115559(0x165)](_0x115559(0x12f))[_0x115559(0xb1)](_0x115559(0x106),function(){updateVariantComponents(_0x3cc987);}),_0xe9b5e1['querySelector'](_0x115559(0x9d))[_0x115559(0xb1)](_0x115559(0x135),function(){var _0x414c99=_0x115559;_0xe9b5e1[_0x414c99(0xcd)](),updateVariantComponents(_0x3cc987);});}),_0x222321[_0x21ecac(0x9b)][_0x21ecac(0x165)]('.addVariantComp')[_0x21ecac(0xb1)](_0x21ecac(0x135),function(){var _0x34ba51=_0x21ecac,_0x278ddc=document[_0x34ba51(0xd3)](_0x34ba51(0x89)),_0x57e714=Date[_0x34ba51(0x172)]();_0x278ddc[_0x34ba51(0x18e)][_0x34ba51(0xc0)]=_0x57e714,_0x278ddc[_0x34ba51(0xeb)]=_0x34ba51(0xb8)+_0x57e714+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x222321[_0x34ba51(0xc8)](_0x278ddc),initProdSearch(_0x278ddc[_0x34ba51(0x165)]('.prod_input_container')),_0x278ddc[_0x34ba51(0x165)](_0x34ba51(0x12f))[_0x34ba51(0xb1)](_0x34ba51(0x106),function(){updateVariantComponents(_0x3cc987);}),_0x278ddc[_0x34ba51(0x165)](_0x34ba51(0x9d))[_0x34ba51(0xb1)](_0x34ba51(0x135),function(){var _0x2f6401=_0x34ba51;_0x278ddc[_0x2f6401(0xcd)](),updateVariantComponents(_0x3cc987);});});}function updateVariantComponents(_0x3a53b7){var _0x4f3044=_0x30cf12,_0x3a4302=document[_0x4f3044(0xbd)]('variant_'+_0x3a53b7+_0x4f3044(0xbc)),_0x26c757=Array[_0x4f3044(0x7f)](_0x3a4302[_0x4f3044(0x70)])[_0x4f3044(0xee)](function(_0x556349){var _0x53ea71=_0x4f3044,_0x2fb00d=_0x556349[_0x53ea71(0x165)](_0x53ea71(0x175)),_0x26f05b=_0x2fb00d[_0x53ea71(0xab)],_0x3fcfaa=+_0x556349[_0x53ea71(0x165)]('.prodQty')[_0x53ea71(0xae)]||0x0;return _0x26f05b?{'setItemId':_0x26f05b['id'],'setDescripcion':_0x26f05b[_0x53ea71(0x7e)],'setCantidad':_0x3fcfaa}:null;})[_0x4f3044(0x73)](_0xa3cf99=>_0xa3cf99);newItems[_0x3a53b7][_0x4f3044(0xa6)]=_0x26c757;}function initVariantBranches(_0x517ffc){var _0x4e2301=_0x30cf12;const _0x253df3=getAllWarehouses();var _0x298b56=document[_0x4e2301(0xbd)](_0x4e2301(0xdf)+_0x517ffc+_0x4e2301(0x128));_0x298b56[_0x4e2301(0xeb)]='',newItems[_0x517ffc][_0x4e2301(0x79)][_0x4e2301(0x116)](function(_0x471685){var _0x241056=_0x4e2301,_0xd911f9=_0x253df3[_0x241056(0xdd)](_0x522e77=>_0x522e77['setWarehouseId']==_0x471685[_0x241056(0x107)]),_0x70846b=document[_0x241056(0xd3)](_0x241056(0x89));_0x70846b[_0x241056(0xeb)]=_0x241056(0x103)+_0x471685[_0x241056(0x107)]+_0x241056(0x1a9)+_0xd911f9[_0x241056(0xad)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x471685[_0x241056(0x107)]+_0x241056(0xd2)+_0x471685[_0x241056(0x67)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x471685[_0x241056(0x107)]+_0x241056(0xd2)+_0x471685[_0x241056(0x15b)]+'\x22>',_0x298b56['appendChild'](_0x70846b),_0x70846b['querySelectorAll']('input')['forEach'](function(_0x44dcad){var _0x453445=_0x241056;_0x44dcad[_0x453445(0xb1)]('input',function(){updateVariantBranches(_0x517ffc);});});}),_0x253df3[_0x4e2301(0x116)](function(_0x140746){var _0x308fbf=_0x4e2301;if(!newItems[_0x517ffc][_0x308fbf(0x79)]['find'](_0x177143=>_0x177143['setWarehouseCode']===_0x140746[_0x308fbf(0xdb)])){var _0x39cdb1=document[_0x308fbf(0xd3)](_0x308fbf(0x89));_0x39cdb1['innerHTML']=_0x308fbf(0x103)+_0x140746[_0x308fbf(0xdb)]+_0x308fbf(0x138)+_0x140746[_0x308fbf(0xad)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x140746[_0x308fbf(0xdb)]+_0x308fbf(0x180)+_0x140746[_0x308fbf(0xdb)]+'\x22>',_0x298b56[_0x308fbf(0xc8)](_0x39cdb1),_0x39cdb1['querySelectorAll']('input')[_0x308fbf(0x116)](function(_0x193029){var _0x372090=_0x308fbf;_0x193029[_0x372090(0xb1)]('input',function(){updateVariantBranches(_0x517ffc);});});}});}function updateVariantBranches(_0x146c14){var _0x53e19d=_0x30cf12,_0x6ef7d0=document[_0x53e19d(0xbd)]('variant_'+_0x146c14+_0x53e19d(0x128)),_0x545301=[];_0x6ef7d0[_0x53e19d(0x1b2)](_0x53e19d(0x89))['forEach'](function(_0x567958){var _0x2c3b5b=_0x53e19d,_0xca14f0=_0x567958[_0x2c3b5b(0x165)](_0x2c3b5b(0x121));if(_0xca14f0[_0x2c3b5b(0x196)]){var _0x40c9df=+_0xca14f0[_0x2c3b5b(0x18e)]['id'],_0x4748cc=+_0x567958['querySelector'](_0x2c3b5b(0x189))[_0x2c3b5b(0xae)]||0x0,_0xea1053=+_0x567958[_0x2c3b5b(0x165)]('.branchMin')[_0x2c3b5b(0xae)]||0x0;_0x545301['push']({'setWarehouseCode':_0x40c9df,'setStockInitial':_0x4748cc,'setStockMinimum':_0xea1053});}}),newItems[_0x146c14]['setItemWarehouses']=_0x545301;}async function storeOfflineProduct(_0x4e23d0){var _0xa62496=_0x30cf12;try{const _0x5b5a55=await createCartStore(''),_0x27ee20=_0x5b5a55[_0xa62496(0x6a)](_0xa62496(0x160),_0xa62496(0x6b)),_0x2cb8aa=_0x27ee20[_0xa62496(0xa7)]('offline_operations');_0x2cb8aa['add'](_0x4e23d0),_0x27ee20[_0xa62496(0x101)]=()=>{var _0x3a6d2b=_0xa62496;console[_0x3a6d2b(0xcb)]('Producto\x20Guardado\x20Offline\x20Correctamente.');},_0x27ee20['onerror']=_0x542382=>{var _0x31fef8=_0xa62496;console['error'](_0x31fef8(0x166),_0x542382[_0x31fef8(0x174)]['error']);};}catch(_0x1c97c8){console[_0xa62496(0x168)]('Error\x20al\x20procesar\x20la\x20operación:',_0x1c97c8);}}document[_0x30cf12(0xbd)]('btnItemSave')['addEventListener'](_0x30cf12(0x135),async function(_0x489f6f){var _0x12aaed=_0x30cf12;_0x489f6f[_0x12aaed(0x19b)]();const _0x3589f1=document[_0x12aaed(0xbd)](_0x12aaed(0x1a4)),_0x3418d9=document[_0x12aaed(0xbd)](_0x12aaed(0x164))[_0x12aaed(0xae)];if(!_0x3589f1[_0x12aaed(0xae)][_0x12aaed(0xb4)]()&&_0x3418d9==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x3418d9==0x1&&(_0x3589f1[_0x12aaed(0xae)]='',baseItem[_0x12aaed(0x130)]='');const _0x1020b9=document[_0x12aaed(0xbd)]('inputItemName');if(!_0x1020b9[_0x12aaed(0xae)]['trim']()){ntfShow(_0x12aaed(0x123),0x2,0x1);return;}const _0x1fe339=document['getElementById'](_0x12aaed(0x105));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x496412=document['getElementById'](_0x12aaed(0x129))[_0x12aaed(0xae)],_0x447c04=window_options[_0x496412]['setMoneda'],_0x548287=[];newItems[_0x12aaed(0x116)](_0x5c1fe1=>{var _0x18d348=_0x12aaed;const _0x3d032d=generateNumericUniqId();_0x5c1fe1[_0x18d348(0xcf)][_0x18d348(0x116)](_0x4d9319=>{var _0x5d81af=_0x18d348;const _0x41c7b4=generateNumericUniqId();_0x4d9319[_0x5d81af(0x147)]=_0x41c7b4;const _0x50d378={'id':_0x41c7b4,'setIdProducto':_0x3d032d,'setCodProducto':_0x5c1fe1['setItemCode'],'setDescripcion':_0x5c1fe1['setItemName'],'setItemDescription':_0x5c1fe1[_0x5d81af(0x1ae)],'setBatchExpirationDate':_0x5c1fe1['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x5c1fe1[_0x5d81af(0x19d)][0x0]||'','setMarca':_0x5c1fe1['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x4d9319['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x5c1fe1[_0x5d81af(0xf7)]?0x1:0x0,'setItemIsSold':_0x5c1fe1[_0x5d81af(0x184)]?0x1:0x0,'setPorcentajeIgv':_0x5c1fe1[_0x5d81af(0x15a)],'setPrinters':[],'setTaxId':_0x5c1fe1[_0x5d81af(0x142)],'setTipAfeIgv':_0x5c1fe1['setItemTaxCode'],'setUnidad':_0x4d9319['setUnitCode'],'setUnidadCodigo':_0x4d9319['setUnitCode'],'setItemUnitAlias':_0x4d9319[_0x5d81af(0xb5)],'currency_data':[{'currency':_0x447c04,'setMtoPrecioCostoUnitario':_0x4d9319[_0x5d81af(0x122)],'setMtoPrecioUnitario':_0x4d9319[_0x5d81af(0x161)],'setPriceLists':[]}],'sucursales':_0x5c1fe1['setItemWarehouses'][_0x5d81af(0xee)](_0xc85d54=>({'setIdSucursal':_0xc85d54['setWarehouseCode'],'setSucursalStock':_0xc85d54['setStockInitial'][_0x5d81af(0x10a)](),'setWarehouseStockMin':_0xc85d54[_0x5d81af(0x15b)][_0x5d81af(0x10a)]()})),'setItemFree':_0x5c1fe1[_0x5d81af(0x164)],'setItemBarCode':_0x5c1fe1[_0x5d81af(0x10d)],'setItemBrands':_0x5c1fe1[_0x5d81af(0xe7)][_0x5d81af(0xc4)](),'setItemCategories':_0x5c1fe1['setItemCategories']['slice'](),'setItemComponents':_0x5c1fe1[_0x5d81af(0xa6)][_0x5d81af(0xee)](_0xfe08be=>({..._0xfe08be})),'setItemImages':_0x5c1fe1[_0x5d81af(0x96)][_0x5d81af(0xc4)](),'setItemVariantName':_0x5c1fe1[_0x5d81af(0xef)],'setItemVariantValues':{..._0x5c1fe1['setItemVariantValues']}};_0x548287[_0x5d81af(0x14f)](_0x50d378),(_0x1fe339[_0x5d81af(0x196)]||_0x3418d9==0x1)&&addToCart(_0x50d378);});}),console[_0x12aaed(0xcb)](_0x12aaed(0x1aa),newItems),await finalizeImport(_0x548287,newItems,![]);}),[_0x30cf12(0xf0),_0x30cf12(0x1a3)][_0x30cf12(0x116)](_0x54e795=>dropZone[_0x30cf12(0xb1)](_0x54e795,_0x4c1d34=>{var _0x3e1ff2=_0x30cf12;_0x4c1d34[_0x3e1ff2(0x19b)](),dropZone[_0x3e1ff2(0x167)][_0x3e1ff2(0xe0)](_0x3e1ff2(0x1a3));})),[_0x30cf12(0x141),_0x30cf12(0x124)][_0x30cf12(0x116)](_0x459416=>dropZone[_0x30cf12(0xb1)](_0x459416,_0x5b6140=>{var _0x30abcc=_0x30cf12;_0x5b6140[_0x30abcc(0x19b)](),dropZone['classList']['remove'](_0x30abcc(0x1a3));})),dropZone[_0x30cf12(0xb1)](_0x30cf12(0x124),_0x547b72=>{var _0xb3809=_0x30cf12;const _0x2b980b=_0x547b72[_0xb3809(0x11d)][_0xb3809(0x6c)][0x0];if(!_0x2b980b)return;fileInput[_0xb3809(0x6c)]=_0x547b72[_0xb3809(0x11d)][_0xb3809(0x6c)],dropZone['querySelector'](_0xb3809(0xbf))['textContent']=_0x2b980b[_0xb3809(0x7e)],removeBtn['hidden']=![],fileInput[_0xb3809(0x19c)](new Event('change'));}),removeBtn['addEventListener'](_0x30cf12(0x135),()=>{var _0x1b76a7=_0x30cf12;fileInput[_0x1b76a7(0xae)]='',dropZone[_0x1b76a7(0x165)](_0x1b76a7(0xbf))[_0x1b76a7(0x181)]=_0x1b76a7(0x81),removeBtn['hidden']=!![],progressBar[_0x1b76a7(0xc2)]['display']=_0x1b76a7(0xed),statusDiv[_0x1b76a7(0x181)]='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x30cf12(0xbd)](_0x30cf12(0xe1));exportBtn[_0x30cf12(0xb1)](_0x30cf12(0x135),onClickExportarItems);function _0x18c6(_0x227207,_0x38389f){var _0x525910=_0x5e83();return _0x18c6=function(_0x257869,_0x151365){_0x257869=_0x257869-0x66;var _0x36aeb7=_0x525910[_0x257869];return _0x36aeb7;},_0x18c6(_0x227207,_0x38389f);}function _0x5e83(){var _0x2b1896=['.addVariantUnit','now','newItem_btn_addVariantGroup','target','.prod_input_container','hidden','download','sucursales','done','.variantExpiry','unitSelect','.eqInput','_units_container','fill','result','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','textContent','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setTaxId','setItemIsSold','setUnidadCodigo','#newItem_units_container\x20>\x20div','arrayBuffer','502686LajftA','.branchInit','accept','test','vals','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','dataset','Enter','inputItemName','some','detail','values','5831aYfUFc','div[data-default=\x22true\x22]\x20.eqInput','checked','onload','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','newItem_chk_sell','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','preventDefault','dispatchEvent','setItemCategories','newItem_units_container','100','flatMap','48dKuHYU','.unitAlias','dragover','inputItemCode','setPriceUSD','stopPropagation','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','\x22\x20class=\x22branchChk\x22\x20checked>\x20','Items\x20finales:','upload-btn','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','info','setItemDescription','setUnitName','getElementsByClassName','max','querySelectorAll','option','#newItem_branches_container\x20>\x20div','.vgName','.variantBarCode','setStockInitial','.removeProd','setWebhook','transaction','readwrite','files','remove-file','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setCategoria','children','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','className','filter','image/*','setItemType','console','setName','defineProperty','setItemWarehouses','setUnits','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','newItem_brands_select','name','from','.ms_input','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','match','Nuevo\x20Producto','toLowerCase','.costInput','setAuthToken','5408DzaRCY','postMessage','div','remove-tag','setBatchExpirationDate','exception','inputItemDateExpiry','USD','newItem_images_container','setItemTaxCode','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setItemDateExpiry','block','PEN','inputItemBarCode','setItemImages','.removeUnit','setItemBrandName','./img/product.png','\x20items.','parentNode','.prodInput','.removeCombo','exportDone','blur','[data-idx=\x22','code','newItem_categories_select','parse','currency_data','setMtoPrecioUnitario','setItemComponents','objectStore','.selected_tags','setDescripcion','every','selectedItem','newItem_btn_addUnit','setWarehouseName','value','setConversionFactor','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','addEventListener','closest','setItemInventoriable','trim','setAlias','99885uFwwcM','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','toggle','setMarca','file-input','_comp_container','getElementById','180zlIyiA','.drop-zone__prompt','idx','table','style','setMtoPrecioCostoUnitario','slice','split','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','reduce','appendChild','.vgVals','status','log','setCostUSD','remove','compare','setItemUnits','bind','return\x20(function()\x20','\x22\x20value=\x22','createElement','true','setDefault','sort','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','entries','{}.constructor(\x22return\x20this\x22)(\x20)','undefined','setWarehouseId','base','find','newItem_hidden','variant_','add','btnExportarItems','Error\x20al\x20obtener\x20la\x20plantilla:\x20','default','splice','setImpuestoCode','includes','setItemBrands','setTaxIdDefault','active','span','innerHTML','.variantForm','none','map','setItemVariantName','dragenter','items','Collator','readAsDataURL','newItem_proditems_container','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','setWarehouseStockMin','setItemIsBought','exportItems','focus','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setBatchName','.priceInput','change','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','assign','productType1','oncomplete','file','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','drop-zone','newItem_addToCart','input','setWarehouseCode','key','isArray','toString','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','ERROR:\x20plainProducts\x20no\x20serializable:','setItemBarCode','constructor','padStart','search','__proto__','setIdProducto','248237jEqCDt','.removeGroup','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','forEach','tag','apply','selectionChange','detalleModalCreateItem','inputItemTax','.branchMin','dataTransfer','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','setItemCommissionPercentage','setCodProducto','.branchChk','setCost','Ingresa\x20el\x20nombre\x20del\x20item','drop','./js/apierp_item_wk.min.js','trace','setCode','_branch_container','windowId','variantForm','join','setItemName','stringify','contains','.prodQty','setItemCode','Producto\x20Libre','#newItem_brands_select\x20.selected_tags','365858AbUwxB','length','click','.xlsx','progress','\x22\x20class=\x22branchChk\x22>\x20','setItemId','setIdSucursal','.unitSelect','modalOverlayCreateItem','.removeVariant','<div\x20class=\x22newItem_col\x22>','findIndex','setImpuestoValue','dragleave','setItemTaxId','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','#newItem_categories_select\x20.options_list','modalProductNewTitle','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setItemUnitId','display','(((.+)+)+)+$','string','newItem_title_table','costInput','newItem_title_table_cp','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','push','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setImpuestoName','type','newItem_btn_addProdItem','.options_list\x20div','prototype','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','671004tgkJHy','setItemVariantValues','message','setItemTaxValue','setStockMinimum','1pXvhKD','newItem_branches_container','[id$=\x22_comp_container\x22]','setUnitCode','offline_operations','setPrice','disabled','setItemCategoryName','setItemFree','querySelector','Error\x20al\x20guardar\x20Producto\x20Offline:','classList','error','setEquivalence','setCantidad','setImpuestos','newItem_chk_buy','setItemUnitAlias','</div>','1872vfKqnO','toISOString'];_0x5e83=function(){return _0x2b1896;};return _0x5e83();}async function onClickExportarItems(){var _0x144a62=_0x30cf12;if(!Array[_0x144a62(0x109)](products)||!products[_0x144a62(0x134)]){ntfShow('No\x20hay\x20items\x20para\x20exportar.');return;}try{const _0x5da23a=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x5da23a['ok'])throw new Error('No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.');const _0x5f0de6=await _0x5da23a['arrayBuffer'](),_0x3aac90=document[_0x144a62(0xbd)]('setWarehouseId')[_0x144a62(0xae)];let _0x404d9d=products;const _0x11dc55=getUserPermissionApiERP(0x2);_0x11dc55==0x1&&(_0x404d9d=products['filter'](_0x2ee718=>Array[_0x144a62(0x109)](_0x2ee718['sucursales'])&&_0x2ee718[_0x144a62(0x178)][_0x144a62(0x191)](_0x31fcd2=>String(_0x31fcd2[_0x144a62(0x13a)])==String(_0x3aac90))));const _0x411071=_0x404d9d[_0x144a62(0xc7)]((_0x52b4aa,_0x192292)=>{var _0x123adf=_0x144a62;const _0x29d0f6=_0x192292[_0x123adf(0x112)];if(!_0x52b4aa[_0x29d0f6])_0x52b4aa[_0x29d0f6]=[];return _0x52b4aa[_0x29d0f6]['push'](_0x192292),_0x52b4aa;},{}),_0x5da992=Object[_0x144a62(0x193)](_0x411071)['map'](_0x25dc15=>{var _0x11ebe5=_0x144a62;const _0x22003a=_0x25dc15[0x0],_0x296798=_0x25dc15[0x1]||{},_0x2d6736=_0x25dc15[0x2]||{};function _0x3cabf7(_0x382a6b,_0x26d499,_0x39f2ee){var _0x5c82a7=_0x18c6;if(!_0x382a6b||!Array[_0x5c82a7(0x109)](_0x382a6b[_0x5c82a7(0xa4)]))return'';const _0x47cf28=_0x382a6b['currency_data'][_0x5c82a7(0xdd)](_0x421520=>_0x421520['currency']===_0x26d499);return _0x47cf28?_0x47cf28[_0x39f2ee]:'';}return{'id':_0x22003a[_0x11ebe5(0x112)],'setItemType':_0x22003a[_0x11ebe5(0x75)],'setCodProducto':_0x22003a[_0x11ebe5(0x120)],'setDescripcion':_0x22003a['setDescripcion'],'setItemDescription':_0x22003a[_0x11ebe5(0x1ae)],'setItemIsSold':_0x22003a['setItemIsSold'],'setItemIsBought':_0x22003a[_0x11ebe5(0xf7)],'setCategoria':_0x22003a[_0x11ebe5(0x6f)],'setMarca':_0x22003a[_0x11ebe5(0xba)],'setTaxId':_0x22003a[_0x11ebe5(0x183)],'setUnitId':_0x22003a['id'],'setItemBarCode':_0x22003a[_0x11ebe5(0x10d)],'setUnidadCodigo':_0x22003a[_0x11ebe5(0x185)],'setItemUnitAlias':_0x22003a[_0x11ebe5(0x16d)]??'','PEN_setMtoPrecioUnitario':_0x3cabf7(_0x22003a,_0x11ebe5(0x94),_0x11ebe5(0xa5)),'PEN_setMtoPrecioCostoUnitario':_0x3cabf7(_0x22003a,_0x11ebe5(0x94),_0x11ebe5(0xc3)),'USD_setMtoPrecioUnitario':_0x3cabf7(_0x22003a,_0x11ebe5(0x8e),_0x11ebe5(0xa5)),'USD_setMtoPrecioCostoUnitario':_0x3cabf7(_0x22003a,_0x11ebe5(0x8e),'setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x22003a[_0x11ebe5(0x11f)]?parseFloat(_0x22003a[_0x11ebe5(0x11f)]):'','setUnitId2':_0x296798['id']??'','setItemBarCode2':_0x296798[_0x11ebe5(0x10d)]??'','setUnidadCodigo2':_0x296798['setUnidadCodigo']??'','setItemUnitAlias2':_0x296798[_0x11ebe5(0x16d)]??'','setUnidadEquivalencia2':_0x296798[_0x11ebe5(0xaf)]??'','PEN_setMtoPrecioUnitario2':_0x3cabf7(_0x296798,_0x11ebe5(0x94),_0x11ebe5(0xa5))??'','PEN_setMtoPrecioCostoUnitario2':_0x3cabf7(_0x296798,_0x11ebe5(0x94),_0x11ebe5(0xc3))??'','USD_setMtoPrecioUnitario2':_0x3cabf7(_0x296798,'USD',_0x11ebe5(0xa5))??'','USD_setMtoPrecioCostoUnitario2':_0x3cabf7(_0x296798,_0x11ebe5(0x8e),_0x11ebe5(0xc3))??'','setItemCommissionPercentage2':_0x296798[_0x11ebe5(0x11f)]?parseFloat(_0x296798[_0x11ebe5(0x11f)]):'','setUnitId3':_0x2d6736['id']??'','setItemBarCode3':_0x2d6736[_0x11ebe5(0x10d)]??'','setUnidadCodigo3':_0x2d6736[_0x11ebe5(0x185)]??'','setItemUnitAlias3':_0x2d6736[_0x11ebe5(0x16d)]??'','setUnidadEquivalencia3':_0x2d6736[_0x11ebe5(0xaf)]??'','PEN_setMtoPrecioUnitario3':_0x3cabf7(_0x2d6736,'PEN',_0x11ebe5(0xa5))??'','PEN_setMtoPrecioCostoUnitario3':_0x3cabf7(_0x2d6736,_0x11ebe5(0x94),_0x11ebe5(0xc3))??'','USD_setMtoPrecioUnitario3':_0x3cabf7(_0x2d6736,_0x11ebe5(0x8e),_0x11ebe5(0xa5))??'','USD_setMtoPrecioCostoUnitario3':_0x3cabf7(_0x2d6736,'USD',_0x11ebe5(0xc3))??'','setItemCommissionPercentage3':_0x2d6736[_0x11ebe5(0x11f)]?parseFloat(_0x2d6736['setItemCommissionPercentage']):'','setInventariable':_0x22003a['setInventariable'],'setSucursalStock':_0x11dc55==0x1?_0x22003a[_0x11ebe5(0x178)][_0x11ebe5(0xdd)](_0x43ac22=>String(_0x43ac22[_0x11ebe5(0x13a)])==String(_0x3aac90))['setSucursalStock']:'','setWarehouseStockMin':_0x11dc55==0x1?_0x22003a['sucursales'][_0x11ebe5(0xdd)](_0x1bf89b=>String(_0x1bf89b[_0x11ebe5(0x13a)])==String(_0x3aac90))[_0x11ebe5(0xf6)]:'','setBatchName':_0x22003a[_0x11ebe5(0xfb)],'setBatchExpirationDate':_0x22003a[_0x11ebe5(0x8b)],..._0x22003a[_0x11ebe5(0x158)]};});try{JSON[_0x144a62(0x12d)](_0x5da992);}catch(_0x11a95c){console[_0x144a62(0x168)](_0x144a62(0x10c),_0x11a95c),ntfShow(_0x144a62(0xfe));return;}statusDiv[_0x144a62(0x181)]='Generando\x20Excel...',progressBar['style'][_0x144a62(0x148)]=_0x144a62(0x93),progressBar[_0x144a62(0xae)]=0x0,itemWorker[_0x144a62(0x88)]({'action':_0x144a62(0xf8),'products':_0x5da992,'plantillaBuf':_0x5f0de6},[_0x5f0de6]);}catch(_0x4e523d){console[_0x144a62(0x168)](_0x4e523d),ntfShow(_0x144a62(0xe2)+_0x4e523d['message']);}}itemWorker['onmessage']=({data:_0x1cee9d})=>{var _0xfb6e4=_0x30cf12;const {type:_0x256856,payload:_0x293e40}=_0x1cee9d;_0x256856===_0xfb6e4(0x137)&&(progressBar[_0xfb6e4(0xc2)][_0xfb6e4(0x148)]=_0xfb6e4(0x93),progressBar[_0xfb6e4(0xae)]=_0x293e40['percent'],statusDiv[_0xfb6e4(0x181)]=_0x293e40[_0xfb6e4(0x159)]);_0x256856===_0xfb6e4(0x179)&&(newItemsExcel=_0x293e40[_0xfb6e4(0xf1)],statusDiv['textContent']='✅\x20'+newItemsExcel[_0xfb6e4(0x134)]+'\x20items\x20procesados.',uploadBtn[_0xfb6e4(0x162)]=![],progressBar[_0xfb6e4(0xae)]=0x64,console[_0xfb6e4(0xcb)](newItemsExcel));_0x256856===_0xfb6e4(0x168)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x293e40,progressBar['style']['display']=_0xfb6e4(0xed));if(_0x256856===_0xfb6e4(0x9e)){const {wbout:_0x308720,count:_0x1b31ba}=_0x293e40,_0x58f5bf=new Blob([_0x308720],{'type':'application/octet-stream'}),_0x52fb0f=URL['createObjectURL'](_0x58f5bf),_0x1be045=document[_0xfb6e4(0xd3)]('a'),_0xed7168=new Date()[_0xfb6e4(0x170)]()['slice'](0x0,0xa);_0x1be045[_0xfb6e4(0x177)]='Plantilla-Items-Export-'+_0xed7168+_0xfb6e4(0x136),_0x1be045['href']=_0x52fb0f,_0x1be045[_0xfb6e4(0x135)](),URL['revokeObjectURL'](_0x52fb0f),statusDiv[_0xfb6e4(0x181)]='✅\x20Exportación\x20completada:\x20'+_0x1b31ba+_0xfb6e4(0x9a),progressBar[_0xfb6e4(0xc2)]['display']=_0xfb6e4(0xed);}},fileInput[_0x30cf12(0xb1)](_0x30cf12(0xfd),async _0x85c758=>{var _0x3b7efb=_0x30cf12;const _0x225c38=_0x85c758[_0x3b7efb(0x174)][_0x3b7efb(0x6c)][0x0];if(!_0x225c38)return;uploadBtn[_0x3b7efb(0x162)]=!![],newItemsExcel=null,statusDiv[_0x3b7efb(0x181)]='',progressBar['style'][_0x3b7efb(0x148)]=_0x3b7efb(0xed),dropZone[_0x3b7efb(0x165)](_0x3b7efb(0xbf))[_0x3b7efb(0x181)]=_0x225c38['name'],removeBtn[_0x3b7efb(0x176)]=![];try{const _0x6453cc=await _0x225c38[_0x3b7efb(0x187)]();itemWorker[_0x3b7efb(0x88)]({'action':'import','buf':_0x6453cc,'maxRows':0x1388});}catch(_0x12ec75){statusDiv[_0x3b7efb(0x181)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput['value']='';}}),uploadBtn[_0x30cf12(0xb1)](_0x30cf12(0x135),async()=>{var _0xf032d4=_0x30cf12;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x95a85a=document[_0xf032d4(0xbd)](_0xf032d4(0xdb))[_0xf032d4(0xae)],_0x454219=[];newItemsExcel[_0xf032d4(0x116)](_0x5e0ab3=>{var _0x469f8f=_0xf032d4;const _0x3d67bf=Boolean(_0x5e0ab3['setItemId']),_0x5eb8d0=_0x3d67bf?_0x5e0ab3[_0x469f8f(0x139)]:generateNumericUniqId();_0x5e0ab3['setItemWarehouses']=[{'setStockInitial':_0x5e0ab3[_0x469f8f(0x67)],'setStockMinimum':_0x5e0ab3['setStockMinimum'],'setWarehouseCode':_0x95a85a}],_0x5e0ab3[_0x469f8f(0xcf)][_0x469f8f(0x116)](_0x3cd7fa=>{var _0x63fb50=_0x469f8f;const _0x50c1ba=Boolean(_0x3cd7fa[_0x63fb50(0x147)]),_0x2de6f5=_0x50c1ba?_0x3cd7fa[_0x63fb50(0x147)]:generateNumericUniqId();_0x3cd7fa[_0x63fb50(0x147)]=_0x2de6f5;const _0x1b63ef=[];_0x1b63ef[_0x63fb50(0x14f)]({'currency':_0x63fb50(0x94),'setMtoPrecioCostoUnitario':_0x3cd7fa[_0x63fb50(0x122)],'setMtoPrecioUnitario':_0x3cd7fa[_0x63fb50(0x161)],'setPriceLists':[]});const _0x129d09=_0x3cd7fa[_0x63fb50(0xcc)]!=null&&_0x3cd7fa['setPriceUSD']!=null&&(!isNaN(_0x3cd7fa['setCostUSD'])||!isNaN(_0x3cd7fa[_0x63fb50(0x1a5)]));_0x129d09&&_0x1b63ef[_0x63fb50(0x14f)]({'currency':_0x63fb50(0x8e),'setMtoPrecioCostoUnitario':_0x3cd7fa[_0x63fb50(0xcc)],'setMtoPrecioUnitario':_0x3cd7fa[_0x63fb50(0x1a5)],'setPriceLists':[]});const _0x26baaf={'id':_0x2de6f5,'setIdProducto':_0x5eb8d0,'setItemBarCode':_0x3cd7fa['setItemBarCode'],'setCodProducto':_0x5e0ab3[_0x63fb50(0x130)],'setDescripcion':_0x5e0ab3[_0x63fb50(0x12c)],'setItemDescription':_0x5e0ab3[_0x63fb50(0x1ae)],'setBatchExpirationDate':_0x5e0ab3[_0x63fb50(0x92)],'setBatchName':_0x5e0ab3[_0x63fb50(0xfb)],'setItemIsSold':_0x5e0ab3[_0x63fb50(0x184)],'setItemIsBought':_0x5e0ab3[_0x63fb50(0xf7)],'setCategoria':_0x5e0ab3['setItemCategories'][0x0]||'','setMarca':_0x5e0ab3[_0x63fb50(0xe7)][0x0]||'','setConversionFactor':parseFloat(_0x3cd7fa['setFactor']),'setImages':[],'setImg':_0x63fb50(0x99),'setInventariable':_0x5e0ab3[_0x63fb50(0xb3)],'setPorcentajeIgv':_0x5e0ab3['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x5e0ab3[_0x63fb50(0x142)],'setTipAfeIgv':_0x5e0ab3[_0x63fb50(0x90)],'setUnidad':_0x3cd7fa[_0x63fb50(0x15f)],'setUnidadCodigo':_0x3cd7fa['setUnitCode'],'setItemUnitAlias':_0x3cd7fa[_0x63fb50(0xb5)],'setItemCommissionPercentage':_0x3cd7fa[_0x63fb50(0x11f)],'currency_data':_0x1b63ef,'sucursales':_0x5e0ab3['setItemWarehouses'][_0x63fb50(0xee)](_0x13c1a5=>({'setIdSucursal':_0x13c1a5[_0x63fb50(0x107)],'setSucursalStock':_0x13c1a5[_0x63fb50(0x67)][_0x63fb50(0x10a)](),'setWarehouseStockMin':_0x13c1a5[_0x63fb50(0x15b)][_0x63fb50(0x10a)]()})),'setItemFree':_0x5e0ab3[_0x63fb50(0x164)],'setItemBrands':_0x5e0ab3['setItemBrands'][_0x63fb50(0xc4)](),'setItemCategories':_0x5e0ab3[_0x63fb50(0x19d)][_0x63fb50(0xc4)](),'setItemComponents':_0x5e0ab3[_0x63fb50(0xa6)]['map'](_0x4af1eb=>({..._0x4af1eb})),'setItemImages':_0x5e0ab3['setItemImages'][_0x63fb50(0xc4)](),'setItemVariantName':_0x5e0ab3[_0x63fb50(0xef)],'setItemVariantValues':{..._0x5e0ab3['setItemVariantValues']}},_0x1bf3d7=products['findIndex'](_0x36cd94=>_0x36cd94['id']==_0x2de6f5&&_0x36cd94[_0x63fb50(0x112)]==_0x5eb8d0);_0x1bf3d7>-0x1?Object[_0x63fb50(0xff)](products[_0x1bf3d7],_0x26baaf):_0x454219[_0x63fb50(0x14f)](_0x26baaf);});}),console[_0xf032d4(0xcb)](_0xf032d4(0x1aa),newItemsExcel),await finalizeImport(_0x454219,newItemsExcel,!![]);});function initializeFormImages(){var _0x4fcc4b=_0x30cf12;currentImages=Array(MAX_IMAGES)[_0x4fcc4b(0x17e)](null),imgC['innerHTML']='',baseItem[_0x4fcc4b(0x96)]=[];for(var _0x23f31a=0x0;_0x23f31a<MAX_IMAGES;_0x23f31a++){(function(_0x554880){var _0xea1e0e=_0x4fcc4b,_0x1718a3=document[_0xea1e0e(0xd3)]('div');_0x1718a3[_0xea1e0e(0x72)]='image_box',_0x1718a3[_0xea1e0e(0x18e)][_0xea1e0e(0xc0)]=_0x554880;var _0x3a83ca=document['createElement'](_0xea1e0e(0x106));_0x3a83ca[_0xea1e0e(0x152)]=_0xea1e0e(0x102),_0x3a83ca[_0xea1e0e(0x18a)]=_0xea1e0e(0x74),_0x3a83ca[_0xea1e0e(0xc2)][_0xea1e0e(0x148)]=_0xea1e0e(0xed);var _0x2a6df3=document['createElement'](_0xea1e0e(0xea));_0x2a6df3[_0xea1e0e(0x181)]='+',_0x1718a3[_0xea1e0e(0xc8)](_0x3a83ca),_0x1718a3[_0xea1e0e(0xc8)](_0x2a6df3),imgC[_0xea1e0e(0xc8)](_0x1718a3),_0x1718a3['addEventListener'](_0xea1e0e(0x135),function(){var _0x4a1d01=_0xea1e0e;_0x3a83ca[_0x4a1d01(0x135)]();}),_0x3a83ca[_0xea1e0e(0xb1)](_0xea1e0e(0xfd),function(_0x2821d8){var _0x5e0290=_0xea1e0e,_0x15e545=_0x2821d8[_0x5e0290(0x174)]['files'][0x0];if(!_0x15e545)return removeImg(_0x554880);var _0x5c9ded=new FileReader();_0x5c9ded[_0x5e0290(0x197)]=function(_0x1393aa){var _0x6ff2db=_0x5e0290;_0x1718a3[_0x6ff2db(0xeb)]='<img\x20src=\x22'+_0x1393aa[_0x6ff2db(0x174)][_0x6ff2db(0x17f)]+'\x22>';var _0x11a39b=document[_0x6ff2db(0xd3)](_0x6ff2db(0xea));_0x11a39b[_0x6ff2db(0x72)]='remove',_0x11a39b['textContent']='×',_0x11a39b[_0x6ff2db(0xb1)](_0x6ff2db(0x135),function(_0x48f891){var _0x42fef8=_0x6ff2db;_0x48f891[_0x42fef8(0x1a6)](),removeImg(_0x554880);}),_0x1718a3[_0x6ff2db(0xc8)](_0x11a39b),currentImages[_0x554880]=_0x15e545,baseItem[_0x6ff2db(0x96)]=currentImages[_0x6ff2db(0x73)](function(_0x289ec4){return _0x289ec4;});},_0x5c9ded[_0x5e0290(0xf3)](_0x15e545);});}(_0x23f31a));}}function initializeFormIsSoldIsBought(_0x40d82a=0x0){var _0x49b947=_0x30cf12;let _0x322224,_0x513858;if(_0x40d82a!=0x0){const _0x2ac96d=products[_0x49b947(0xdd)](_0x315ea2=>_0x315ea2['id']==_0x40d82a);_0x322224=_0x2ac96d['setItemIsBought']==0x1||_0x2ac96d[_0x49b947(0xf7)]==!![]?!![]:![],_0x513858=_0x2ac96d[_0x49b947(0x184)]==0x1||_0x2ac96d['setItemIsSold']==!![]?!![]:![];}else _0x322224=!![],_0x513858=!![];document['getElementById'](_0x49b947(0x16c))[_0x49b947(0x196)]=_0x322224,document[_0x49b947(0xbd)]('newItem_chk_sell')[_0x49b947(0x196)]=_0x513858,baseItem[_0x49b947(0xf7)]=_0x322224,baseItem['setItemIsSold']=_0x513858;}function initializeFormInputsBasic(_0x5ec53b=0x0){var _0x4be35e=_0x30cf12;let _0x47142e,_0x1d252c,_0x259e84,_0x41ac01,_0x3ee04e,_0x255739;if(_0x5ec53b!=0x0){const _0xeaf505=products[_0x4be35e(0xdd)](_0x4c0f5e=>_0x4c0f5e['id']==_0x5ec53b);_0x47142e=_0xeaf505[_0x4be35e(0x75)]??'1',_0x1d252c=_0xeaf505[_0x4be35e(0x120)],_0x259e84=_0xeaf505[_0x4be35e(0xa9)],_0x41ac01=_0xeaf505['setItemDescription'],_0x3ee04e=_0xeaf505[_0x4be35e(0x8b)]??'',_0x255739=_0xeaf505[_0x4be35e(0x10d)];}else _0x47142e='1',_0x1d252c=getNextCode(products),_0x259e84='',_0x41ac01='',_0x3ee04e='',_0x255739='';document['getElementById']('inputItemType')[_0x4be35e(0xae)]=_0x47142e,document['getElementById'](_0x4be35e(0x1a4))[_0x4be35e(0xae)]=_0x1d252c,document[_0x4be35e(0xbd)](_0x4be35e(0x190))[_0x4be35e(0xae)]=_0x259e84,document[_0x4be35e(0xbd)]('inputItemDescription')['value']=_0x41ac01,document[_0x4be35e(0xbd)](_0x4be35e(0x8d))[_0x4be35e(0xae)]=_0x3ee04e,document[_0x4be35e(0xbd)](_0x4be35e(0x95))['value']=_0x255739,baseItem[_0x4be35e(0x75)]=_0x47142e,baseItem[_0x4be35e(0x130)]=_0x1d252c,baseItem[_0x4be35e(0x12c)]=_0x259e84,baseItem[_0x4be35e(0x1ae)]=_0x41ac01,baseItem[_0x4be35e(0x92)]=_0x3ee04e,baseItem['setItemBarCode']=_0x255739,document[_0x4be35e(0xbd)](_0x4be35e(0x105))['checked']=![];}function initializeFormTax(_0x2058fc=0x0){var _0x1d265c=_0x30cf12;let _0x282c2d;if(_0x2058fc!=0x0){const _0x2be6fe=products[_0x1d265c(0xdd)](_0x5f338f=>_0x5f338f['id']==_0x2058fc);_0x282c2d=_0x2be6fe['setTaxId'];}else _0x282c2d=myCompany[_0x1d265c(0xe8)];const _0x23c557=document[_0x1d265c(0xbd)](_0x1d265c(0x11b));_0x23c557[_0x1d265c(0xae)]=_0x282c2d,baseItem[_0x1d265c(0x142)]=_0x282c2d;const _0x5b45d3=company[0x0][_0x1d265c(0x16b)][_0x1d265c(0xdd)](_0x251945=>_0x251945[_0x1d265c(0x183)]==_0x282c2d)?.['setImpuestoCode']||0x0,_0x2193bc=company[0x0][_0x1d265c(0x16b)]['find'](_0x5de2a1=>_0x5de2a1['setTaxId']==_0x282c2d)?.[_0x1d265c(0x140)]||0x0;baseItem[_0x1d265c(0x90)]=_0x5b45d3,baseItem[_0x1d265c(0x15a)]=_0x2193bc;}function initializeFormCategoriesBrands(_0x4a7648=0x0){var _0xd86ab4=_0x30cf12;baseItem['setItemCategories']=[],baseItem[_0xd86ab4(0xe7)]=[],document[_0xd86ab4(0x165)]('#newItem_categories_select\x20.selected_tags')[_0xd86ab4(0xeb)]='',document[_0xd86ab4(0x165)](_0xd86ab4(0x144))[_0xd86ab4(0xeb)]='',document[_0xd86ab4(0x165)](_0xd86ab4(0x132))[_0xd86ab4(0xeb)]='',document[_0xd86ab4(0x165)]('#newItem_brands_select\x20.options_list')[_0xd86ab4(0xeb)]='';const _0x55f659=myCompany['setItemCategories'][_0xd86ab4(0xee)](_0x443ae8=>({'setCode':_0x443ae8['setItemCategoryName'],'setName':_0x443ae8[_0xd86ab4(0x163)]})),_0x37a742=myCompany[_0xd86ab4(0xe7)][_0xd86ab4(0xee)](_0xd6c2ae=>({'setCode':_0xd6c2ae['setItemBrandName'],'setName':_0xd6c2ae[_0xd86ab4(0x98)]}));initMulti('newItem_categories_select',_0x55f659),initMulti(_0xd86ab4(0x7d),_0x37a742),document[_0xd86ab4(0xbd)]('newItem_categories_select')['addEventListener'](_0xd86ab4(0x119),function(_0xdd34b0){var _0x2c7817=_0xd86ab4;baseItem[_0x2c7817(0x19d)]=_0xdd34b0[_0x2c7817(0x192)]['map'](_0x2427d4=>_0x2427d4[_0x2c7817(0x127)]);}),document[_0xd86ab4(0xbd)](_0xd86ab4(0x7d))[_0xd86ab4(0xb1)](_0xd86ab4(0x119),function(_0x1e5e1a){var _0x1354d6=_0xd86ab4;baseItem[_0x1354d6(0xe7)]=_0x1e5e1a['detail'][_0x1354d6(0xee)](_0x288701=>_0x288701['setCode']);});if(_0x4a7648!=0x0){const _0x594dbe=products[_0xd86ab4(0xdd)](_0x47fcf5=>_0x47fcf5['id']==_0x4a7648);if(_0x594dbe['setCategoria']){const _0x20f9b6=document[_0xd86ab4(0xbd)](_0xd86ab4(0xa2)),_0x4aa351=Array[_0xd86ab4(0x7f)](_0x20f9b6[_0xd86ab4(0x1b2)](_0xd86ab4(0x154)))[_0xd86ab4(0xdd)](_0x236dae=>_0x236dae[_0xd86ab4(0x18e)][_0xd86ab4(0xa1)]==_0x594dbe['setCategoria']);_0x4aa351&&_0x4aa351[_0xd86ab4(0x135)]();}if(_0x594dbe[_0xd86ab4(0xba)]){const _0x765ab7=document[_0xd86ab4(0xbd)]('newItem_brands_select'),_0x4c801a=Array[_0xd86ab4(0x7f)](_0x765ab7['querySelectorAll']('.options_list\x20div'))[_0xd86ab4(0xdd)](_0x1c444d=>_0x1c444d[_0xd86ab4(0x18e)][_0xd86ab4(0xa1)]==_0x594dbe['setMarca']);_0x4c801a&&_0x4c801a['click']();}}}function initializeFormUnits(){var _0x4f822b=_0x30cf12;unitCount=0x0,document[_0x4f822b(0xbd)](_0x4f822b(0x19e))[_0x4f822b(0xeb)]='',baseItem[_0x4f822b(0xcf)]=[];var _0x164508=uniqueValuesArray(_0x4f822b(0x15f),'setUnitName',myCompany[_0x4f822b(0x7a)]);addUnit('',_0x164508[0x3a]&&_0x164508[0x3a][_0x4f822b(0x127)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x46b21a=_0x30cf12;prodC[_0x46b21a(0xeb)]='',baseItem[_0x46b21a(0xa6)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x13f336=_0x30cf12;branchesC[_0x13f336(0xeb)]='',baseItem[_0x13f336(0x79)]=[];const _0xcb6dd2=getAllWarehouses();_0xcb6dd2[_0x13f336(0x116)](function(_0x129b0b){var _0x20960a=_0x13f336,_0x77ea0c=document['createElement'](_0x20960a(0x89));_0x77ea0c[_0x20960a(0xeb)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+_0x20960a(0x13e)+_0x20960a(0x19a)+_0x129b0b[_0x20960a(0xdb)]+_0x20960a(0x1a9)+_0x129b0b[_0x20960a(0xad)]+'</label>'+_0x20960a(0x16e)+_0x20960a(0x13e)+_0x20960a(0x115)+_0x129b0b[_0x20960a(0xdb)]+'\x22>'+'</div>'+_0x20960a(0x13e)+_0x20960a(0xb7)+_0x129b0b[_0x20960a(0xdb)]+'\x22>'+_0x20960a(0x16e)+_0x20960a(0x16e),branchesC['appendChild'](_0x77ea0c),_0x77ea0c[_0x20960a(0x1b2)]('input')['forEach'](function(_0x2b6572){var _0x358221=_0x20960a;_0x2b6572[_0x358221(0xb1)](_0x358221(0x106),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x4cbd45=_0x30cf12;baseItem[_0x4cbd45(0xef)]='',baseItem['setItemVariantValues']={},vgC[_0x4cbd45(0xeb)]='',varContainer[_0x4cbd45(0xeb)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x916892,_0x4cb83e,_0xcd7bda=![]){var _0x5a6ff2=_0x30cf12;const _0x3bc72d=0xc8,_0x5060c0={'apiPOSsendOffline':'1','setTipoOperacion':_0x5a6ff2(0x19f),'setToken':company[0x0][_0x5a6ff2(0x86)],'setWebhook':company[0x0][_0x5a6ff2(0x69)]};for(let _0x2125b7=0x0;_0x2125b7<_0x4cb83e['length'];_0x2125b7+=_0x3bc72d){const _0x31868b=_0x4cb83e[_0x5a6ff2(0xc4)](_0x2125b7,_0x2125b7+_0x3bc72d);await storeOfflineProduct({..._0x5060c0,'newItems':_0x31868b});}products[_0x5a6ff2(0x14f)](..._0x916892),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x5a6ff2(0x150)),_0xcd7bda?(fileInput[_0x5a6ff2(0xae)]='',uploadBtn['disabled']=!![],statusDiv[_0x5a6ff2(0x181)]='',progressBar['style']['display']=_0x5a6ff2(0xed),progressBar[_0x5a6ff2(0xae)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}