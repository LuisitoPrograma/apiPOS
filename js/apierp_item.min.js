/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.3
*/

var _0x22f53d=_0x361a;(function(_0x2ae3f1,_0x4b602a){var _0x4cbb8d=_0x361a,_0x578fe7=_0x2ae3f1();while(!![]){try{var _0x58141b=-parseInt(_0x4cbb8d(0x144))/0x1+parseInt(_0x4cbb8d(0x1cf))/0x2+-parseInt(_0x4cbb8d(0x164))/0x3*(-parseInt(_0x4cbb8d(0x151))/0x4)+parseInt(_0x4cbb8d(0x19b))/0x5*(parseInt(_0x4cbb8d(0x139))/0x6)+parseInt(_0x4cbb8d(0x1ae))/0x7*(-parseInt(_0x4cbb8d(0x266))/0x8)+parseInt(_0x4cbb8d(0x183))/0x9+-parseInt(_0x4cbb8d(0x1b0))/0xa*(-parseInt(_0x4cbb8d(0x182))/0xb);if(_0x58141b===_0x4b602a)break;else _0x578fe7['push'](_0x578fe7['shift']());}catch(_0x441d10){_0x578fe7['push'](_0x578fe7['shift']());}}}(_0x54a9,0x3d716));var _0x21275a=(function(){var _0x4b5484=!![];return function(_0x25e524,_0x3af7b2){var _0x2676d3=_0x4b5484?function(){if(_0x3af7b2){var _0x4cffa2=_0x3af7b2['apply'](_0x25e524,arguments);return _0x3af7b2=null,_0x4cffa2;}}:function(){};return _0x4b5484=![],_0x2676d3;};}()),_0xc14068=_0x21275a(this,function(){var _0x1b9c5d=_0x361a;return _0xc14068[_0x1b9c5d(0x1b3)]()[_0x1b9c5d(0x161)]('(((.+)+)+)+$')[_0x1b9c5d(0x1b3)]()[_0x1b9c5d(0x136)](_0xc14068)[_0x1b9c5d(0x161)]('(((.+)+)+)+$');});_0xc14068();var _0x432957=(function(){var _0x21b508=!![];return function(_0x1a447d,_0x5474ca){var _0x1c2a64=_0x21b508?function(){var _0x13fd79=_0x361a;if(_0x5474ca){var _0x1fe169=_0x5474ca[_0x13fd79(0x23e)](_0x1a447d,arguments);return _0x5474ca=null,_0x1fe169;}}:function(){};return _0x21b508=![],_0x1c2a64;};}()),_0xb9caff=_0x432957(this,function(){var _0x50c15d=_0x361a,_0x452ef3;try{var _0x431bc7=Function(_0x50c15d(0x14f)+_0x50c15d(0x12b)+');');_0x452ef3=_0x431bc7();}catch(_0x23328b){_0x452ef3=window;}var _0x39cbd1=_0x452ef3['console']=_0x452ef3[_0x50c15d(0x1ba)]||{},_0xa16320=[_0x50c15d(0x14c),_0x50c15d(0x16b),_0x50c15d(0x25d),_0x50c15d(0x221),_0x50c15d(0x1f1),_0x50c15d(0x1fc),'trace'];for(var _0x390b37=0x0;_0x390b37<_0xa16320['length'];_0x390b37++){var _0x47c008=_0x432957['constructor']['prototype'][_0x50c15d(0x204)](_0x432957),_0x238b38=_0xa16320[_0x390b37],_0x5d8221=_0x39cbd1[_0x238b38]||_0x47c008;_0x47c008['__proto__']=_0x432957[_0x50c15d(0x204)](_0x432957),_0x47c008[_0x50c15d(0x1b3)]=_0x5d8221[_0x50c15d(0x1b3)]['bind'](_0x5d8221),_0x39cbd1[_0x238b38]=_0x47c008;}});_0xb9caff();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x22f53d(0x18f)](_0x22f53d(0x201)),unitCount=0x0,branchesC=document[_0x22f53d(0x18f)]('newItem_branches_container'),prodC=document[_0x22f53d(0x18f)]('newItem_proditems_container'),vgCount=0x0,varContainer=document['getElementById'](_0x22f53d(0x208)),vgC=document[_0x22f53d(0x18f)](_0x22f53d(0x154));const fileInput=document[_0x22f53d(0x18f)](_0x22f53d(0x245)),progressBar=document['getElementById'](_0x22f53d(0x1d1)),statusDiv=document['getElementById'](_0x22f53d(0x15f)),uploadBtn=document[_0x22f53d(0x18f)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker('./js/apierp_item_wk.min.js'),dropZone=document['getElementById'](_0x22f53d(0x138)),removeBtn=document[_0x22f53d(0x18f)]('remove-file');function showModalCreateItem(_0x1ce7ab){var _0x2ab5eb=_0x22f53d;const _0x2d918e=document[_0x2ab5eb(0x18f)](_0x2ab5eb(0x13c)),_0x193af1=document[_0x2ab5eb(0x18f)](_0x2ab5eb(0x1ab));_0x2d918e[_0x2ab5eb(0x1e3)][_0x2ab5eb(0x176)](_0x2ab5eb(0x118)),_0x193af1[_0x2ab5eb(0x21e)][_0x2ab5eb(0x1e0)]='block';const _0x157d10=document[_0x2ab5eb(0x18f)](_0x2ab5eb(0x11a));_0x157d10[_0x2ab5eb(0x16d)]=parseInt(_0x1ce7ab),baseItem['setItemFree']=parseInt(_0x1ce7ab);const _0x4c94f2=document['getElementById']('modalProductNewTitle');_0x1ce7ab==0x0&&(_0x4c94f2['innerHTML']=_0x2ab5eb(0x141));_0x1ce7ab==0x1&&(_0x4c94f2[_0x2ab5eb(0x15a)]=_0x2ab5eb(0x140));const _0x331224=document[_0x2ab5eb(0x169)](_0x2ab5eb(0x1b7));for(let _0x1acadf=0x0;_0x1acadf<_0x331224[_0x2ab5eb(0x269)];_0x1acadf++){const _0x2c782c=_0x331224[_0x1acadf];if(_0x1ce7ab==0x0)_0x2c782c[_0x2ab5eb(0x1e3)][_0x2ab5eb(0x200)](_0x2ab5eb(0x1f5));else _0x1ce7ab==0x1&&_0x2c782c[_0x2ab5eb(0x1e3)]['add'](_0x2ab5eb(0x1f5));}}function hideModalCreateItem(){var _0x5e14a2=_0x22f53d;const _0x5e2639=document[_0x5e14a2(0x18f)](_0x5e14a2(0x13c)),_0x1e0888=document['getElementById']('modalOverlayCreateItem');_0x5e2639[_0x5e14a2(0x1e3)]['remove']('active'),_0x1e0888[_0x5e14a2(0x21e)][_0x5e14a2(0x1e0)]='none';}document[_0x22f53d(0x18f)](_0x22f53d(0x23c))[_0x22f53d(0x1c4)](_0x22f53d(0x23a),hideModalCreateItem),document['getElementById'](_0x22f53d(0x1ab))[_0x22f53d(0x1c4)](_0x22f53d(0x23a),_0x9c841=>{var _0x11fa76=_0x22f53d;_0x9c841[_0x11fa76(0x21b)]==_0x9c841[_0x11fa76(0x1bb)]&&_0x9c841['stopPropagation']();});function loadTaxData(){var _0x342626=_0x22f53d;const _0x4ce6bf=document[_0x342626(0x18f)](_0x342626(0x146));_0x4ce6bf[_0x342626(0x15a)]='',company[0x0][_0x342626(0x124)]['forEach'](function(_0xd6eb1f){var _0x29ee15=_0x342626;const _0x557ff1=document[_0x29ee15(0x13a)](_0x29ee15(0x224));_0x557ff1[_0x29ee15(0x16d)]=_0xd6eb1f['setTaxId'],_0x557ff1['innerHTML']=_0xd6eb1f[_0x29ee15(0x1c8)]+'\x20('+_0xd6eb1f['setImpuestoValue']+'%)',_0xd6eb1f[_0x29ee15(0x23d)]==company[0x0]['setTaxIdDefault']&&(_0x557ff1[_0x29ee15(0x247)]=!![]),_0x4ce6bf[_0x29ee15(0x1d7)](_0x557ff1);});}function uniqueValuesArray(_0x5b5b77,_0x2b38c2,_0x493d03){var _0x7360d=_0x22f53d;const _0x473300=Array[_0x7360d(0x127)](new Set(_0x493d03[_0x7360d(0x1c2)](_0x462c84=>{var _0x4f0f9c=_0x7360d;const _0x13a0a6=_0x462c84[_0x5b5b77];return typeof _0x13a0a6===_0x4f0f9c(0x203)?_0x13a0a6['trim']():_0x13a0a6;})[_0x7360d(0x165)](_0x39c51e=>_0x39c51e!=null&&_0x39c51e!=='')));return _0x473300[_0x7360d(0x1c2)](_0x109b35=>{var _0x21670a=_0x7360d;const _0x1afc1f=_0x493d03['find'](_0x291e50=>_0x291e50[_0x5b5b77]===_0x109b35),_0x4fd24f=_0x1afc1f&&_0x1afc1f[_0x2b38c2]!=null?String(_0x1afc1f[_0x2b38c2])[_0x21670a(0x14d)]():_0x109b35;return{'setCode':_0x109b35,'setName':_0x4fd24f};});}function fillSelect(_0x254df8,_0x46f62f,_0x13e6ed,_0x555b30){var _0x4cb549=_0x22f53d;_0x254df8[_0x4cb549(0x15a)]='',_0x46f62f[_0x4cb549(0x135)](function(_0x325077){var _0xa33411=_0x4cb549,_0x52b9a9=new Option(_0x325077[_0x555b30],_0x325077[_0x13e6ed]);_0x254df8[_0xa33411(0x176)](_0x52b9a9);});}function initMulti(_0x5ced3e,_0x28d5a2){var _0x225d46=_0x22f53d,_0x1691ba=document['getElementById'](_0x5ced3e),_0x51513e=_0x1691ba[_0x225d46(0x15b)]('.ms_input'),_0x42910f=_0x1691ba[_0x225d46(0x15b)](_0x225d46(0x153)),_0x549be5=_0x1691ba[_0x225d46(0x15b)](_0x225d46(0x248)),_0x446c0f=_0x28d5a2[_0x225d46(0x18a)](),_0x4ad270=[];let _0x197b25=null,_0x579f73=![];function _0x1e44ca(){var _0x3dd928=_0x225d46;const _0x59769b=_0x51513e[_0x3dd928(0x16d)][_0x3dd928(0x14d)]();if(!_0x59769b)return;const _0x171f9b=_0x446c0f[_0x3dd928(0x1a9)](_0x6a3d34=>_0x6a3d34[_0x3dd928(0x125)]['toLowerCase']()===_0x59769b[_0x3dd928(0x267)]());if(_0x171f9b)_0x4ad270[_0x3dd928(0x13b)](_0x171f9b),_0x446c0f[_0x3dd928(0x198)](_0x446c0f[_0x3dd928(0x233)](_0x348bb9=>_0x348bb9[_0x3dd928(0x196)]===_0x171f9b[_0x3dd928(0x196)]),0x1);else{const _0x36cf5d=_0x4ad270[_0x3dd928(0x214)](_0x44607b=>_0x44607b[_0x3dd928(0x125)][_0x3dd928(0x267)]()===_0x59769b['toLowerCase']());!_0x36cf5d&&_0x4ad270[_0x3dd928(0x13b)]({'setCode':_0x59769b,'setName':_0x59769b});}_0x374fea(),_0x16f37c(),_0x51513e['value']='';}function _0x16f37c(){var _0x3da541=_0x225d46;_0x42910f[_0x3da541(0x15a)]='',_0x446c0f[_0x3da541(0x165)](_0x4a4d44=>_0x4a4d44[_0x3da541(0x125)]['toLowerCase']()['includes'](_0x51513e[_0x3da541(0x16d)][_0x3da541(0x267)]()))[_0x3da541(0x18a)](0x0,0x14)['forEach'](_0x1f05d3=>{var _0x1f4b92=_0x3da541,_0x5ef2c7=document['createElement'](_0x1f4b92(0x131));_0x5ef2c7['textContent']=_0x1f05d3['setName'],_0x5ef2c7['dataset'][_0x1f4b92(0x148)]=_0x1f05d3[_0x1f4b92(0x196)],_0x42910f['appendChild'](_0x5ef2c7),_0x5ef2c7[_0x1f4b92(0x1c4)](_0x1f4b92(0x17a),()=>_0x579f73=!![]),_0x5ef2c7['addEventListener'](_0x1f4b92(0x23a),function(){var _0x5a81a0=_0x1f4b92;_0x579f73=![],_0x4ad270[_0x5a81a0(0x13b)](_0x1f05d3),_0x446c0f[_0x5a81a0(0x198)](_0x446c0f['findIndex'](_0x5a6b92=>_0x5a6b92[_0x5a81a0(0x196)]===_0x1f05d3[_0x5a81a0(0x196)]),0x1),_0x51513e[_0x5a81a0(0x16d)]='',_0x374fea(),_0x16f37c();});});}function _0x374fea(){var _0x88930b=_0x225d46;_0x549be5[_0x88930b(0x15a)]='',_0x4ad270['forEach'](_0x12437b=>{var _0x5f3489=_0x88930b,_0x42b1ab=document['createElement'](_0x5f3489(0x131));_0x42b1ab[_0x5f3489(0x194)]='tag',_0x42b1ab[_0x5f3489(0x1ff)]=_0x12437b[_0x5f3489(0x125)];var _0x53987e=document['createElement'](_0x5f3489(0x246));_0x53987e['className']='remove-tag',_0x53987e[_0x5f3489(0x1ff)]='×',_0x53987e[_0x5f3489(0x1c4)](_0x5f3489(0x23a),function(){var _0xd82cd3=_0x5f3489;_0x446c0f[_0xd82cd3(0x13b)](_0x12437b);const _0x1622da=_0x4ad270[_0xd82cd3(0x233)](_0x577d57=>_0x577d57[_0xd82cd3(0x196)]===_0x12437b[_0xd82cd3(0x196)]);if(_0x1622da>-0x1)_0x4ad270[_0xd82cd3(0x198)](_0x1622da,0x1);_0x374fea(),_0x16f37c();}),_0x42b1ab[_0x5f3489(0x1d7)](_0x53987e),_0x549be5[_0x5f3489(0x1d7)](_0x42b1ab);}),_0x1691ba[_0x88930b(0x180)](new CustomEvent(_0x88930b(0x1b5),{'detail':_0x4ad270,'bubbles':!![]}));}return _0x51513e['addEventListener'](_0x225d46(0x14a),function(){var _0x57fa58=_0x225d46;_0x197b25&&(clearTimeout(_0x197b25),_0x197b25=null),_0x42910f['classList'][_0x57fa58(0x200)]('newItem_hidden');}),_0x51513e[_0x225d46(0x1c4)](_0x225d46(0x223),_0x16f37c),_0x51513e['addEventListener'](_0x225d46(0x1e2),function(_0x22de76){var _0x5e0760=_0x225d46;_0x22de76[_0x5e0760(0x240)]==='Enter'&&(_0x22de76[_0x5e0760(0x215)](),_0x1e44ca());}),_0x51513e[_0x225d46(0x1c4)](_0x225d46(0x1f8),function(){if(_0x579f73)return;_0x197b25=setTimeout(()=>{_0x1e44ca(),_0x197b25=null;},0xc8);}),document['addEventListener'](_0x225d46(0x23a),function(_0x5a42d0){var _0xfddfb2=_0x225d46;!_0x1691ba[_0xfddfb2(0x147)](_0x5a42d0[_0xfddfb2(0x21b)])&&_0x42910f[_0xfddfb2(0x1e3)][_0xfddfb2(0x176)](_0xfddfb2(0x1b6));}),_0x16f37c(),_0x4ad270;}function getLastCode(_0x540bd7){var _0x3a4d34=_0x22f53d;const _0x57d0af=_0x540bd7[_0x3a4d34(0x1c2)](_0x32b99a=>String(_0x32b99a[_0x3a4d34(0x1c6)])[_0x3a4d34(0x14d)]())[_0x3a4d34(0x165)](_0x498a00=>_0x498a00!=='');if(_0x57d0af['length']===0x0)return'';const _0xacd04e=_0x57d0af[_0x3a4d34(0x1db)](_0x4fce7e=>/^\d+$/['test'](_0x4fce7e));if(_0xacd04e){const _0x4c6776=_0x57d0af['map'](Number),_0x5af89c=Math[_0x3a4d34(0x1b4)](..._0x4c6776);return String(_0x5af89c);}let _0x4ea02d;if(typeof Intl!==_0x3a4d34(0x132)&&Intl[_0x3a4d34(0x13d)]){const _0xa04bfc=new Intl[(_0x3a4d34(0x13d))](undefined,{'numeric':!![],'sensitivity':'base'});_0x4ea02d=_0x57d0af['slice']()[_0x3a4d34(0x158)](_0xa04bfc[_0x3a4d34(0x167)]);}else{const _0x595d38=_0x57d0af[_0x3a4d34(0x1db)](_0x4c6b2b=>/^\d+$/[_0x3a4d34(0x1cb)](_0x4c6b2b));_0x595d38?_0x4ea02d=_0x57d0af[_0x3a4d34(0x1c2)](Number)[_0x3a4d34(0x158)]((_0x5f4862,_0x42b1aa)=>_0x5f4862-_0x42b1aa)['map'](String):_0x4ea02d=_0x57d0af[_0x3a4d34(0x18a)]()['sort']();}return _0x4ea02d[_0x4ea02d['length']-0x1];}function getNextCode(_0x23e737){var _0x4586e6=_0x22f53d;const _0x3fe3ea=getLastCode(_0x23e737);if(!_0x3fe3ea)return'';if(/^\d+$/[_0x4586e6(0x1cb)](_0x3fe3ea))return String(Number(_0x3fe3ea)+0x1);const _0x44b23a=_0x3fe3ea[_0x4586e6(0x1c0)](/^([A-Za-z]*)(\d+)$/);if(_0x44b23a){const [,_0x44c4ad,_0x14a050]=_0x44b23a,_0x5ec189=String(Number(_0x14a050)+0x1)[_0x4586e6(0x17f)](_0x14a050[_0x4586e6(0x269)],'0');return _0x44c4ad+_0x5ec189;}return _0x3fe3ea;}document[_0x22f53d(0x18f)](_0x22f53d(0x11c))[_0x22f53d(0x1c4)](_0x22f53d(0x223),function(_0x34277a){var _0x31b6ee=_0x22f53d;baseItem[_0x31b6ee(0x1d8)]=_0x34277a['target'][_0x31b6ee(0x16d)];}),document[_0x22f53d(0x18f)](_0x22f53d(0x20d))[_0x22f53d(0x1c4)](_0x22f53d(0x223),function(_0x5ca10b){var _0x520ad5=_0x22f53d;baseItem[_0x520ad5(0x21f)]=_0x5ca10b[_0x520ad5(0x21b)][_0x520ad5(0x16d)];}),document['getElementById'](_0x22f53d(0x24d))['addEventListener'](_0x22f53d(0x223),function(_0x29d5c2){var _0x101711=_0x22f53d;baseItem[_0x101711(0x1d5)]=_0x29d5c2['target']['value'];}),document[_0x22f53d(0x18f)](_0x22f53d(0x1a7))[_0x22f53d(0x1c4)](_0x22f53d(0x191),function(_0x8d746f){var _0x5a8577=_0x22f53d;baseItem[_0x5a8577(0x19e)]=_0x8d746f[_0x5a8577(0x21b)][_0x5a8577(0x16d)];}),document['getElementById']('inputItemTax')[_0x22f53d(0x1c4)](_0x22f53d(0x191),function(_0x4a5e93){var _0x5d94de=_0x22f53d;baseItem[_0x5d94de(0x133)]=_0x4a5e93[_0x5d94de(0x21b)][_0x5d94de(0x16d)];const _0x8d8427=_0x4a5e93['target'][_0x5d94de(0x16d)],_0x22ce92=company[0x0][_0x5d94de(0x124)][_0x5d94de(0x1a9)](_0x135fd5=>_0x135fd5['setTaxId']==_0x8d8427)?.['setImpuestoCode']||0x0,_0x49b266=company[0x0][_0x5d94de(0x124)][_0x5d94de(0x1a9)](_0x531980=>_0x531980[_0x5d94de(0x23d)]==_0x8d8427)?.[_0x5d94de(0x18c)]||0x0;baseItem[_0x5d94de(0x1aa)]=_0x22ce92,baseItem[_0x5d94de(0x251)]=_0x49b266;}),document[_0x22f53d(0x18f)](_0x22f53d(0x1f2))[_0x22f53d(0x1c4)](_0x22f53d(0x191),function(_0x36c449){baseItem['setItemIsBought']=_0x36c449['target']['checked'];}),document[_0x22f53d(0x18f)](_0x22f53d(0x12e))[_0x22f53d(0x1c4)](_0x22f53d(0x191),function(_0x280bd8){var _0x1eb050=_0x22f53d;baseItem['setItemIsSold']=_0x280bd8[_0x1eb050(0x21b)][_0x1eb050(0x220)];}),document[_0x22f53d(0x18f)](_0x22f53d(0x19f))[_0x22f53d(0x1c4)](_0x22f53d(0x223),function(_0x2a28d2){var _0x4d68a6=_0x22f53d;baseItem['setItemCode']=_0x2a28d2[_0x4d68a6(0x21b)][_0x4d68a6(0x16d)];}),document[_0x22f53d(0x18f)](_0x22f53d(0x1ac))[_0x22f53d(0x1c4)](_0x22f53d(0x223),function(_0x17d7cd){var _0x289dc3=_0x22f53d;baseItem[_0x289dc3(0x213)]=_0x17d7cd[_0x289dc3(0x21b)][_0x289dc3(0x16d)];}),document[_0x22f53d(0x18f)](_0x22f53d(0x259))[_0x22f53d(0x1c4)](_0x22f53d(0x23a),function(){addUnit(),updateUnitsArray();}),document['getElementById'](_0x22f53d(0x19f))['addEventListener'](_0x22f53d(0x1f8),function(){var _0x3a2209=_0x22f53d;const _0x1a9c9b=this[_0x3a2209(0x16d)]['trim']();if(_0x1a9c9b==='')return;const _0x763b4b=products['some'](_0x2a11e5=>_0x2a11e5['setCodProducto']==_0x1a9c9b),_0x3caf80=getLastCode(products);_0x763b4b?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x3caf80,0x2,0x1):ntfShow(_0x3a2209(0x22a),0x1,0x1);});function removeImg(_0x382865){var _0x2da1ce=_0x22f53d;currentImages[_0x382865]=null;var _0x4c82d3=imgC['querySelector'](_0x2da1ce(0x17b)+_0x382865+'\x22]');_0x4c82d3['innerHTML']='';var _0x40405f=document[_0x2da1ce(0x13a)](_0x2da1ce(0x223));_0x40405f[_0x2da1ce(0x193)]=_0x2da1ce(0x1df),_0x40405f[_0x2da1ce(0x18d)]=_0x2da1ce(0x264),_0x40405f[_0x2da1ce(0x21e)][_0x2da1ce(0x1e0)]=_0x2da1ce(0x25b);var _0x2844a1=document[_0x2da1ce(0x13a)]('span');_0x2844a1[_0x2da1ce(0x1ff)]='+',_0x4c82d3[_0x2da1ce(0x1d7)](_0x40405f),_0x4c82d3['appendChild'](_0x2844a1),_0x4c82d3[_0x2da1ce(0x1c4)](_0x2da1ce(0x23a),function(){var _0x28dcee=_0x2da1ce;_0x40405f[_0x28dcee(0x23a)]();}),baseItem['setItemImages']=currentImages['filter'](function(_0x57a322){return _0x57a322;});}function addUnit(_0x1a8912,_0x453bb4,_0x137135,_0x5279e8,_0x3e2b4e,_0x415a59,_0x2f7633){var _0xdf4812=_0x22f53d,_0x52f658=uniqueValuesArray('setUnitCode',_0xdf4812(0x263),myCompany[_0xdf4812(0x12a)]);_0x1a8912=_0x1a8912||'',_0x453bb4=_0x453bb4||_0x52f658[0x3a]&&_0x52f658[0x3a][_0xdf4812(0x196)]||'',_0x137135=_0x137135!==undefined?_0x137135:0x1,_0x5279e8=!!_0x5279e8,_0x3e2b4e=_0x3e2b4e||'',_0x415a59=_0x415a59||'';var _0x345fe4=unitCount++,_0x5e634f=document[_0xdf4812(0x13a)]('div');_0x5e634f[_0xdf4812(0x1be)][_0xdf4812(0x160)]=_0x345fe4,_0x5e634f[_0xdf4812(0x1be)]['default']=_0x5279e8,_0x5e634f[_0xdf4812(0x15a)]=_0xdf4812(0x1a8)+_0x345fe4+_0xdf4812(0x25c)+_0x1a8912+_0xdf4812(0x1e7)+_0x345fe4+_0xdf4812(0x1f9)+_0x345fe4+_0xdf4812(0x25c)+_0x137135+'\x22\x20'+(_0x5279e8?'disabled':'')+_0xdf4812(0x227)+_0x345fe4+_0xdf4812(0x25c)+_0x3e2b4e+_0xdf4812(0x1e5)+_0x345fe4+_0xdf4812(0x25c)+_0x415a59+_0xdf4812(0x1e8)+(_0x5279e8?_0xdf4812(0x268):'')+_0xdf4812(0x1f3),fillSelect(_0x5e634f[_0xdf4812(0x15b)](_0xdf4812(0x155)),_0x52f658,_0xdf4812(0x196),_0xdf4812(0x125)),_0x5e634f[_0xdf4812(0x15b)](_0xdf4812(0x155))[_0xdf4812(0x16d)]=_0x453bb4,['unitAlias',_0xdf4812(0x1a0),_0xdf4812(0x1fe),'priceInput','costInput'][_0xdf4812(0x135)](function(_0x144ed1){var _0x12f6ff=_0xdf4812;_0x5e634f[_0x12f6ff(0x15b)]('.'+_0x144ed1)['addEventListener'](_0x12f6ff(0x223),function(){var _0xaa9c=_0x2f7633?+_0x2f7633['id']['split']('_')[0x1]:null;if(_0x2f7633)updateVariantUnits(_0xaa9c);else updateUnitsArray();});}),_0x5e634f[_0xdf4812(0x15b)](_0xdf4812(0x177))[_0xdf4812(0x1c4)]('click',function(){var _0x32d581=_0xdf4812;_0x5e634f[_0x32d581(0x200)]();var _0x18b406=_0x2f7633?+_0x2f7633['id'][_0x32d581(0x236)]('_')[0x1]:null;if(_0x2f7633)updateVariantUnits(_0x18b406);else updateUnitsArray();});var _0xd2d448=_0x2f7633||document[_0xdf4812(0x18f)](_0xdf4812(0x20b));_0xd2d448[_0xdf4812(0x1d7)](_0x5e634f);}function containerIdx(_0x550778){return+_0x550778['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x46fc50=_0x22f53d,_0x20ed46=[],_0x47b9e4=Array[_0x46fc50(0x127)](document['querySelectorAll']('#newItem_units_container\x20>\x20div')),_0x3ba13b=_0x47b9e4['find'](_0x340b00=>_0x340b00[_0x46fc50(0x1be)]['default']==='true'),_0x94f793=_0x3ba13b?+_0x3ba13b[_0x46fc50(0x15b)]('.eqInput')[_0x46fc50(0x16d)]:0x1;_0x47b9e4[_0x46fc50(0x135)](function(_0xb8a6b6){var _0x39e1c4=_0x46fc50,_0xa195ac=+_0xb8a6b6[_0x39e1c4(0x15b)](_0x39e1c4(0x1f4))[_0x39e1c4(0x16d)]||0x0,_0x47abf8=+_0xb8a6b6[_0x39e1c4(0x15b)](_0x39e1c4(0x258))[_0x39e1c4(0x16d)]||0x0,_0x319548=+_0xb8a6b6[_0x39e1c4(0x15b)](_0x39e1c4(0x11f))[_0x39e1c4(0x16d)]||0x0;_0x20ed46[_0x39e1c4(0x13b)]({'setAlias':_0xb8a6b6[_0x39e1c4(0x15b)](_0x39e1c4(0x145))[_0x39e1c4(0x16d)]['trim'](),'setUnitCode':_0xb8a6b6[_0x39e1c4(0x15b)](_0x39e1c4(0x155))[_0x39e1c4(0x16d)],'setEquivalence':_0xa195ac,'setFactor':_0xb8a6b6[_0x39e1c4(0x1be)]['default']===_0x39e1c4(0x1a5)?0x1:_0xa195ac==_0x94f793?0x1:_0xa195ac<_0x94f793?_0x94f793/_0xa195ac:_0xa195ac/_0x94f793,'setPrice':_0x47abf8,'setCost':_0x319548,'setDefault':_0xb8a6b6[_0x39e1c4(0x1be)][_0x39e1c4(0x22f)]===_0x39e1c4(0x1a5)?0x1:0x0});}),baseItem[_0x46fc50(0x142)]=_0x20ed46;}function updateBranches(){var _0x2c12cc=_0x22f53d,_0x38904f=[];document[_0x2c12cc(0x211)]('#newItem_branches_container\x20>\x20div')[_0x2c12cc(0x135)](function(_0x1e5a97){var _0x50cd73=_0x2c12cc,_0x457321=_0x1e5a97['querySelector'](_0x50cd73(0x1f6));if(_0x457321[_0x50cd73(0x220)]){var _0x105258=+_0x457321['dataset']['id'],_0x4d3ee7=+_0x1e5a97[_0x50cd73(0x15b)](_0x50cd73(0x181))['value'],_0x5e8976=+_0x1e5a97['querySelector'](_0x50cd73(0x218))[_0x50cd73(0x16d)];_0x38904f[_0x50cd73(0x13b)]({'setWarehouseCode':_0x105258,'setStockInitial':_0x4d3ee7,'setStockMinimum':_0x5e8976});}}),baseItem[_0x2c12cc(0x256)]=_0x38904f;}document[_0x22f53d(0x18f)](_0x22f53d(0x1f0))['addEventListener'](_0x22f53d(0x23a),function(){var _0x55261d=_0x22f53d,_0x1d6deb=Date['now'](),_0x5bd194=document[_0x55261d(0x13a)](_0x55261d(0x131));_0x5bd194['dataset'][_0x55261d(0x160)]=_0x1d6deb,_0x5bd194[_0x55261d(0x15a)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x1d6deb+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x1d6deb+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC['appendChild'](_0x5bd194),initProdSearch(_0x5bd194[_0x55261d(0x15b)](_0x55261d(0x1ea))),_0x5bd194[_0x55261d(0x15b)](_0x55261d(0x1d3))[_0x55261d(0x1c4)]('click',function(){_0x5bd194['remove'](),updateProdItems();}),_0x5bd194[_0x55261d(0x15b)](_0x55261d(0x260))[_0x55261d(0x1c4)](_0x55261d(0x223),updateProdItems),document[_0x55261d(0x18f)](_0x55261d(0x1de))['classList'][_0x55261d(0x1fb)](_0x55261d(0x1b8),!![]),document[_0x55261d(0x18f)](_0x55261d(0x1de))[_0x55261d(0x1e3)][_0x55261d(0x1fb)]('newItem_hidden',![]);});function initProdSearch(_0x180605,_0x1716c3){var _0x618e24=_0x22f53d,_0x572a55=_0x180605[_0x618e24(0x15b)]('.prodInput'),_0x51208a=_0x180605[_0x618e24(0x15b)]('.options_list'),_0x5ad215=_0x1716c3||null;if(_0x1716c3)_0x572a55[_0x618e24(0x16d)]=_0x1716c3[_0x618e24(0x11d)];_0x572a55['addEventListener'](_0x618e24(0x223),function(){var _0xdf43f9=_0x618e24,_0x4412ca=_0x572a55['value']['toLowerCase']()['trim']();_0x51208a['innerHTML']='';if(!_0x4412ca)return;products[_0xdf43f9(0x165)](_0x2373c5=>_0x2373c5[_0xdf43f9(0x238)][_0xdf43f9(0x267)]()[_0xdf43f9(0x243)](_0x4412ca))['slice'](0x0,0x14)['forEach'](function(_0x56cc34){var _0x37670e=_0xdf43f9,_0x13eb89=document['createElement'](_0x37670e(0x131));_0x13eb89[_0x37670e(0x1ff)]=_0x56cc34[_0x37670e(0x238)],_0x13eb89[_0x37670e(0x1be)]['id']=_0x56cc34['id'],_0x13eb89[_0x37670e(0x1be)]['name']=_0x56cc34['setDescripcion'],_0x51208a[_0x37670e(0x1d7)](_0x13eb89),_0x13eb89['addEventListener'](_0x37670e(0x23a),function(){var _0x200677=_0x37670e;_0x5ad215={'id':_0x56cc34['id'],'name':_0x56cc34[_0x200677(0x238)]},_0x572a55[_0x200677(0x16d)]=_0x56cc34[_0x200677(0x238)],_0x51208a[_0x200677(0x15a)]='';var _0x5a04e8=_0x180605[_0x200677(0x1eb)](_0x200677(0x166));if(_0x5a04e8){var _0x4c6452=+_0x5a04e8['id']['split']('_')[0x1];updateVariantComponents(_0x4c6452);}else updateProdItems();});});}),_0x572a55[_0x618e24(0x1c4)](_0x618e24(0x14a),function(){var _0x3252d1=_0x618e24;_0x51208a[_0x3252d1(0x1e3)][_0x3252d1(0x200)](_0x3252d1(0x1b6));}),document[_0x618e24(0x1c4)]('click',function(_0x5ec90b){var _0x1ec4e8=_0x618e24;if(!_0x180605[_0x1ec4e8(0x147)](_0x5ec90b[_0x1ec4e8(0x21b)]))_0x51208a[_0x1ec4e8(0x1e3)][_0x1ec4e8(0x176)](_0x1ec4e8(0x1b6));}),Object[_0x618e24(0x22e)](_0x180605,_0x618e24(0x17e),{'get':()=>_0x5ad215});}function updateProdItems(){var _0x3a9d35=_0x22f53d,_0x28f912=[];Array[_0x3a9d35(0x127)](prodC[_0x3a9d35(0x206)])[_0x3a9d35(0x135)](function(_0x55c878){var _0x39e442=_0x3a9d35,_0x47ce40=_0x55c878[_0x39e442(0x15b)]('.prod_input_container');if(!_0x47ce40)return;var _0x2502f3=_0x55c878[_0x39e442(0x15b)](_0x39e442(0x260)),_0x3a9829=_0x47ce40[_0x39e442(0x17e)];_0x3a9829&&_0x28f912[_0x39e442(0x13b)]({'setItemId':_0x3a9829['id'],'setDescripcion':_0x3a9829['name'],'setCantidad':+_0x2502f3[_0x39e442(0x16d)]});}),baseItem[_0x3a9d35(0x1d9)]=_0x28f912,_0x28f912['length']===0x0&&(document[_0x3a9d35(0x18f)](_0x3a9d35(0x1de))[_0x3a9d35(0x1e3)][_0x3a9d35(0x1fb)](_0x3a9d35(0x1b8),![]),document[_0x3a9d35(0x18f)](_0x3a9d35(0x1de))[_0x3a9d35(0x1e3)]['toggle']('newItem_hidden',!![]));}document[_0x22f53d(0x18f)](_0x22f53d(0x1bd))[_0x22f53d(0x1c4)](_0x22f53d(0x23a),function(){var _0x5d55ff=_0x22f53d,_0x2c6e74=vgCount++,_0x1635e4=document[_0x5d55ff(0x13a)]('div');_0x1635e4['dataset'][_0x5d55ff(0x160)]=_0x2c6e74,_0x1635e4[_0x5d55ff(0x15a)]=_0x5d55ff(0x18e)+_0x2c6e74+'\x22>'+_0x5d55ff(0x22b)+_0x2c6e74+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x5d55ff(0x1d7)](_0x1635e4),_0x1635e4['querySelector']('.vgName')[_0x5d55ff(0x1c4)](_0x5d55ff(0x1f8),generateVariants),_0x1635e4[_0x5d55ff(0x15b)](_0x5d55ff(0x163))[_0x5d55ff(0x1c4)](_0x5d55ff(0x1f8),generateVariants),_0x1635e4[_0x5d55ff(0x15b)]('.removeGroup')['addEventListener'](_0x5d55ff(0x23a),function(){var _0x1ae3ae=_0x5d55ff;_0x1635e4[_0x1ae3ae(0x200)](),generateVariants();});});function generateVariants(){var _0x1f38fd=_0x22f53d,_0x153c52=[];vgC[_0x1f38fd(0x211)]('div')[_0x1f38fd(0x135)](function(_0x4c16da){var _0x323849=_0x1f38fd,_0x2a9fad=_0x4c16da[_0x323849(0x15b)](_0x323849(0x24e))['value']['trim'](),_0x1529ab=_0x4c16da[_0x323849(0x15b)](_0x323849(0x163))[_0x323849(0x16d)][_0x323849(0x236)](',')['map'](_0x515613=>_0x515613[_0x323849(0x14d)]())['filter'](_0x36991d=>_0x36991d);if(_0x2a9fad&&_0x1529ab['length'])_0x153c52[_0x323849(0x13b)]({'name':_0x2a9fad,'vals':_0x1529ab});});var _0x5505e4=[{}];_0x153c52[_0x1f38fd(0x135)](function(_0x47e829){_0x5505e4=_0x5505e4['flatMap'](function(_0x34e018){var _0x4c9dae=_0x361a;return _0x47e829[_0x4c9dae(0x119)][_0x4c9dae(0x1c2)](function(_0x4a280e){var _0xdc8bf8=_0x4c9dae,_0x27a701=Object['assign']({},_0x34e018);return _0x27a701[_0x47e829[_0xdc8bf8(0x11d)]]=_0x4a280e,_0x27a701;});});}),newItems=[],varContainer['innerHTML']='',_0x5505e4[_0x1f38fd(0x135)](function(_0x16a9f3,_0x567ef5){var _0x5f4f09=_0x1f38fd,_0x5a7748=JSON[_0x5f4f09(0x26a)](JSON[_0x5f4f09(0x25f)](baseItem));_0x5a7748[_0x5f4f09(0x1b2)]=_0x16a9f3,_0x5a7748['setItemVariantName']=baseItem[_0x5f4f09(0x1d8)]+'\x20'+Object['entries'](_0x16a9f3)['map'](_0x58a259=>_0x58a259[0x0]+'\x20'+_0x58a259[0x1])['join']('\x20'),newItems[_0x5f4f09(0x13b)](_0x5a7748);var _0x3731ee=document['createElement'](_0x5f4f09(0x131));_0x3731ee[_0x5f4f09(0x1e3)][_0x5f4f09(0x176)](_0x5f4f09(0x172)),_0x3731ee[_0x5f4f09(0x1be)]['idx']=_0x567ef5,_0x3731ee['innerHTML']=_0x5f4f09(0x20e)+_0x5a7748[_0x5f4f09(0x150)]+_0x5f4f09(0x170)+_0x5a7748[_0x5f4f09(0x1fd)]+_0x5f4f09(0x128)+_0x5a7748[_0x5f4f09(0x213)]+_0x5f4f09(0x1a1)+_0x5a7748[_0x5f4f09(0x1d5)]+_0x5f4f09(0x1a4)+_0x567ef5+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x567ef5+_0x5f4f09(0x11b)+_0x567ef5+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x3731ee),_0x3731ee[_0x5f4f09(0x15b)]('.variantCode')['addEventListener']('input',_0x436463=>newItems[_0x567ef5][_0x5f4f09(0x1fd)]=_0x436463[_0x5f4f09(0x21b)][_0x5f4f09(0x16d)]),_0x3731ee[_0x5f4f09(0x15b)]('.variantBarCode')[_0x5f4f09(0x1c4)](_0x5f4f09(0x223),_0x39dc89=>newItems[_0x567ef5][_0x5f4f09(0x213)]=_0x39dc89[_0x5f4f09(0x21b)][_0x5f4f09(0x16d)]),_0x3731ee['querySelector'](_0x5f4f09(0x249))[_0x5f4f09(0x1c4)](_0x5f4f09(0x191),_0x45a8f4=>newItems[_0x567ef5]['setItemDateExpiry']=_0x45a8f4[_0x5f4f09(0x21b)]['value']),initVariantUnits(_0x567ef5),initVariantComponents(_0x567ef5),initVariantBranches(_0x567ef5),_0x3731ee[_0x5f4f09(0x15b)](_0x5f4f09(0x185))['addEventListener'](_0x5f4f09(0x23a),function(){var _0x3faf94=_0x5f4f09,_0x264ab5=+_0x3731ee[_0x3faf94(0x1be)][_0x3faf94(0x160)];newItems[_0x3faf94(0x198)](_0x264ab5,0x1),_0x3731ee[_0x3faf94(0x200)](),document[_0x3faf94(0x211)]('.variantForm')['forEach'](function(_0xaec166,_0x11a9ff){var _0x4694db=_0x3faf94;_0xaec166['dataset'][_0x4694db(0x160)]=_0x11a9ff;});});});if(newItems[_0x1f38fd(0x269)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0xfd400a){var _0x3edf89=_0x22f53d,_0x44e953=document['getElementById']('variant_'+_0xfd400a+_0x3edf89(0x257)),_0x5135db=[];Array[_0x3edf89(0x127)](_0x44e953[_0x3edf89(0x206)])[_0x3edf89(0x135)](function(_0x15dbbd){var _0x184add=_0x3edf89,_0x55f2c0=+_0x15dbbd[_0x184add(0x15b)](_0x184add(0x1f4))[_0x184add(0x16d)]||0x0,_0x162062=_0x15dbbd['querySelector'](_0x184add(0x145))[_0x184add(0x16d)][_0x184add(0x14d)](),_0x1db331=_0x15dbbd[_0x184add(0x15b)](_0x184add(0x155))['value'],_0x2d51fa=+_0x15dbbd[_0x184add(0x15b)]('.priceInput')[_0x184add(0x16d)]||0x0,_0x3ae571=+_0x15dbbd[_0x184add(0x15b)](_0x184add(0x11f))[_0x184add(0x16d)]||0x0,_0x3dfb90=_0x15dbbd[_0x184add(0x1be)]['default']==='true',_0x22785f=+_0x44e953[_0x184add(0x15b)]('div[data-default=\x22true\x22]\x20.eqInput')['value']||0x1,_0x184789=_0x3dfb90?0x1:_0x55f2c0==_0x22785f?0x1:_0x55f2c0<_0x22785f?_0x22785f/_0x55f2c0:_0x55f2c0/_0x22785f;_0x5135db[_0x184add(0x13b)]({'setAlias':_0x162062,'setUnitCode':_0x1db331,'setEquivalence':_0x55f2c0,'setFactor':_0x184789,'setPrice':_0x2d51fa,'setCost':_0x3ae571,'setDefault':_0x3dfb90?0x1:0x0});}),newItems[_0xfd400a][_0x3edf89(0x142)]=_0x5135db;}function initVariantUnits(_0x5d2400){var _0x1dd2f6=_0x22f53d,_0x564814=document['getElementById'](_0x1dd2f6(0x1d0)+_0x5d2400+_0x1dd2f6(0x257));_0x564814[_0x1dd2f6(0x15a)]='',newItems[_0x5d2400][_0x1dd2f6(0x142)][_0x1dd2f6(0x135)](function(_0x1df22e){var _0x4483b7=_0x1dd2f6;addUnit(_0x1df22e[_0x4483b7(0x20a)],_0x1df22e[_0x4483b7(0x1af)],_0x1df22e['setEquivalence'],_0x1df22e[_0x4483b7(0x16c)],_0x1df22e[_0x4483b7(0x195)],_0x1df22e[_0x4483b7(0x24f)],_0x564814);}),_0x564814['parentNode'][_0x1dd2f6(0x15b)](_0x1dd2f6(0x21a))['addEventListener']('click',function(){addUnit('','',0x1,![],'','',_0x564814),updateVariantUnits(_0x5d2400);});}function updateVariantUnits(_0x175679){var _0x4224c7=_0x22f53d,_0x2914df=document[_0x4224c7(0x18f)](_0x4224c7(0x1d0)+_0x175679+_0x4224c7(0x257)),_0x4fd83e=_0x2914df[_0x4224c7(0x15b)](_0x4224c7(0x19d)),_0x10ee68=_0x4fd83e?+_0x4fd83e[_0x4224c7(0x16d)]:0x1,_0x46c49a=Array[_0x4224c7(0x127)](_0x2914df[_0x4224c7(0x206)])[_0x4224c7(0x1c2)](function(_0x58e77f){var _0x553530=_0x4224c7,_0x42eab8=_0x58e77f['querySelector']('.unitAlias')[_0x553530(0x16d)][_0x553530(0x14d)](),_0x238d84=_0x58e77f['querySelector'](_0x553530(0x155))[_0x553530(0x16d)],_0x44d6b4=+_0x58e77f[_0x553530(0x15b)](_0x553530(0x1f4))[_0x553530(0x16d)]||0x0,_0x414e77=+_0x58e77f[_0x553530(0x15b)](_0x553530(0x258))[_0x553530(0x16d)]||0x0,_0x2e8641=+_0x58e77f['querySelector'](_0x553530(0x11f))[_0x553530(0x16d)]||0x0,_0x144348=_0x58e77f[_0x553530(0x1be)][_0x553530(0x22f)]===_0x553530(0x1a5);return{'setAlias':_0x42eab8,'setUnitCode':_0x238d84,'setEquivalence':_0x44d6b4,'setFactor':_0x144348?0x1:_0x44d6b4==_0x10ee68?0x1:_0x44d6b4<_0x10ee68?_0x10ee68/_0x44d6b4:_0x44d6b4/_0x10ee68,'setPrice':_0x414e77,'setCost':_0x2e8641,'setDefault':_0x144348?0x1:0x0};});newItems[_0x175679]['setItemUnits']=_0x46c49a;}function initVariantComponents(_0x4a3e32){var _0x19871a=_0x22f53d,_0x330170=document[_0x19871a(0x18f)](_0x19871a(0x1d0)+_0x4a3e32+_0x19871a(0x14e));_0x330170[_0x19871a(0x15a)]='',newItems[_0x4a3e32][_0x19871a(0x1d9)][_0x19871a(0x135)](function(_0x8650e2){var _0x51d909=_0x19871a,_0x48ae9c=document[_0x51d909(0x13a)](_0x51d909(0x131)),_0x29ac9f=Date[_0x51d909(0x241)]();_0x48ae9c[_0x51d909(0x1be)][_0x51d909(0x160)]=_0x29ac9f,_0x48ae9c[_0x51d909(0x15a)]=_0x51d909(0x121)+_0x29ac9f+_0x51d909(0x22d)+_0x8650e2[_0x51d909(0x15d)]+_0x51d909(0x225),_0x330170[_0x51d909(0x1d7)](_0x48ae9c),initProdSearch(_0x48ae9c['querySelector']('.prod_input_container'),{'id':_0x8650e2[_0x51d909(0x16e)],'name':_0x8650e2[_0x51d909(0x238)]}),_0x48ae9c[_0x51d909(0x15b)](_0x51d909(0x260))[_0x51d909(0x1c4)](_0x51d909(0x223),function(){updateVariantComponents(_0x4a3e32);}),_0x48ae9c[_0x51d909(0x15b)](_0x51d909(0x217))['addEventListener'](_0x51d909(0x23a),function(){var _0xa1f107=_0x51d909;_0x48ae9c[_0xa1f107(0x200)](),updateVariantComponents(_0x4a3e32);});}),_0x330170['parentNode'][_0x19871a(0x15b)](_0x19871a(0x1c5))[_0x19871a(0x1c4)](_0x19871a(0x23a),function(){var _0x106e7b=_0x19871a,_0x3c3b9c=document[_0x106e7b(0x13a)](_0x106e7b(0x131)),_0x3cd2fb=Date['now']();_0x3c3b9c[_0x106e7b(0x1be)]['idx']=_0x3cd2fb,_0x3c3b9c['innerHTML']=_0x106e7b(0x121)+_0x3cd2fb+_0x106e7b(0x1c3),_0x330170['appendChild'](_0x3c3b9c),initProdSearch(_0x3c3b9c[_0x106e7b(0x15b)](_0x106e7b(0x1ea))),_0x3c3b9c[_0x106e7b(0x15b)](_0x106e7b(0x260))[_0x106e7b(0x1c4)](_0x106e7b(0x223),function(){updateVariantComponents(_0x4a3e32);}),_0x3c3b9c[_0x106e7b(0x15b)](_0x106e7b(0x217))[_0x106e7b(0x1c4)](_0x106e7b(0x23a),function(){var _0x6f9c61=_0x106e7b;_0x3c3b9c[_0x6f9c61(0x200)](),updateVariantComponents(_0x4a3e32);});});}function updateVariantComponents(_0xd608a){var _0x215dfd=_0x22f53d,_0x59ae8c=document[_0x215dfd(0x18f)](_0x215dfd(0x1d0)+_0xd608a+_0x215dfd(0x14e)),_0x42145f=Array[_0x215dfd(0x127)](_0x59ae8c[_0x215dfd(0x206)])['map'](function(_0x31bdf4){var _0x196279=_0x215dfd,_0x583869=_0x31bdf4[_0x196279(0x15b)](_0x196279(0x1ea)),_0x484be9=_0x583869[_0x196279(0x17e)],_0x172a05=+_0x31bdf4['querySelector'](_0x196279(0x260))[_0x196279(0x16d)]||0x0;return _0x484be9?{'setItemId':_0x484be9['id'],'setDescripcion':_0x484be9[_0x196279(0x11d)],'setCantidad':_0x172a05}:null;})[_0x215dfd(0x165)](_0x344118=>_0x344118);newItems[_0xd608a][_0x215dfd(0x1d9)]=_0x42145f;}function initVariantBranches(_0x1ad1ec){var _0x1af667=_0x22f53d;const _0x2b3d02=getAllWarehouses();var _0x18a9cc=document[_0x1af667(0x18f)](_0x1af667(0x1d0)+_0x1ad1ec+_0x1af667(0x19a));_0x18a9cc[_0x1af667(0x15a)]='',newItems[_0x1ad1ec][_0x1af667(0x256)][_0x1af667(0x135)](function(_0x2caf82){var _0x590391=_0x1af667,_0xff399b=_0x2b3d02[_0x590391(0x1a9)](_0x3f2e2f=>_0x3f2e2f[_0x590391(0x1c1)]==_0x2caf82[_0x590391(0x25e)]),_0x493717=document['createElement'](_0x590391(0x131));_0x493717['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x2caf82['setWarehouseCode']+_0x590391(0x234)+_0xff399b[_0x590391(0x188)]+_0x590391(0x230)+_0x2caf82[_0x590391(0x25e)]+_0x590391(0x25c)+_0x2caf82['setStockInitial']+_0x590391(0x254)+_0x2caf82[_0x590391(0x25e)]+'\x22\x20value=\x22'+_0x2caf82[_0x590391(0x159)]+'\x22>',_0x18a9cc[_0x590391(0x1d7)](_0x493717),_0x493717[_0x590391(0x211)]('input')[_0x590391(0x135)](function(_0xc4e22){var _0x1346c5=_0x590391;_0xc4e22[_0x1346c5(0x1c4)](_0x1346c5(0x223),function(){updateVariantBranches(_0x1ad1ec);});});}),_0x2b3d02[_0x1af667(0x135)](function(_0x264267){var _0x38002f=_0x1af667;if(!newItems[_0x1ad1ec]['setItemWarehouses']['find'](_0x5ac909=>_0x5ac909[_0x38002f(0x25e)]===_0x264267[_0x38002f(0x1c1)])){var _0x251c9f=document[_0x38002f(0x13a)]('div');_0x251c9f[_0x38002f(0x15a)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x264267[_0x38002f(0x1c1)]+_0x38002f(0x1bc)+_0x264267[_0x38002f(0x188)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x264267[_0x38002f(0x1c1)]+_0x38002f(0x254)+_0x264267[_0x38002f(0x1c1)]+'\x22>',_0x18a9cc[_0x38002f(0x1d7)](_0x251c9f),_0x251c9f[_0x38002f(0x211)](_0x38002f(0x223))[_0x38002f(0x135)](function(_0x1aaa52){var _0x4fd3cf=_0x38002f;_0x1aaa52[_0x4fd3cf(0x1c4)](_0x4fd3cf(0x223),function(){updateVariantBranches(_0x1ad1ec);});});}});}function updateVariantBranches(_0x22a539){var _0x2b3d06=_0x22f53d,_0x1e21de=document[_0x2b3d06(0x18f)](_0x2b3d06(0x1d0)+_0x22a539+'_branch_container'),_0x163c6f=[];_0x1e21de['querySelectorAll'](_0x2b3d06(0x131))[_0x2b3d06(0x135)](function(_0x4e879){var _0x3cc326=_0x2b3d06,_0x182247=_0x4e879[_0x3cc326(0x15b)](_0x3cc326(0x1f6));if(_0x182247[_0x3cc326(0x220)]){var _0x101e45=+_0x182247[_0x3cc326(0x1be)]['id'],_0x2af088=+_0x4e879[_0x3cc326(0x15b)](_0x3cc326(0x181))[_0x3cc326(0x16d)]||0x0,_0x41d875=+_0x4e879[_0x3cc326(0x15b)](_0x3cc326(0x218))[_0x3cc326(0x16d)]||0x0;_0x163c6f[_0x3cc326(0x13b)]({'setWarehouseCode':_0x101e45,'setStockInitial':_0x2af088,'setStockMinimum':_0x41d875});}}),newItems[_0x22a539][_0x2b3d06(0x256)]=_0x163c6f;}async function storeOfflineProduct(_0x1614d3){var _0x87132=_0x22f53d;try{const _0x309412=await createCartStore(''),_0x413da6=_0x309412[_0x87132(0x1ad)](_0x87132(0x222),_0x87132(0x21c)),_0x1c3153=_0x413da6[_0x87132(0x178)](_0x87132(0x222));_0x1c3153[_0x87132(0x176)](_0x1614d3),_0x413da6[_0x87132(0x173)]=()=>{var _0x28a176=_0x87132;console[_0x28a176(0x14c)](_0x28a176(0x262));},_0x413da6[_0x87132(0x149)]=_0xf8f8b8=>{var _0x2b69d9=_0x87132;console['error'](_0x2b69d9(0x15e),_0xf8f8b8[_0x2b69d9(0x21b)][_0x2b69d9(0x221)]);};}catch(_0x12ee67){console[_0x87132(0x221)](_0x87132(0x1c9),_0x12ee67);}}document[_0x22f53d(0x18f)]('btnItemSave')['addEventListener'](_0x22f53d(0x23a),async function(_0x4927f9){var _0x2183d5=_0x22f53d;_0x4927f9[_0x2183d5(0x215)]();const _0xebfa45=document[_0x2183d5(0x18f)](_0x2183d5(0x19f)),_0x31a8e9=document[_0x2183d5(0x18f)](_0x2183d5(0x11a))['value'];if(!_0xebfa45[_0x2183d5(0x16d)][_0x2183d5(0x14d)]()&&_0x31a8e9==0x0){ntfShow(_0x2183d5(0x1ce),0x2,0x1);return;}_0x31a8e9==0x1&&(_0xebfa45['value']='',baseItem[_0x2183d5(0x1fd)]='');const _0x591b42=document[_0x2183d5(0x18f)](_0x2183d5(0x11c));if(!_0x591b42[_0x2183d5(0x16d)][_0x2183d5(0x14d)]()){ntfShow(_0x2183d5(0x1b9),0x2,0x1);return;}const _0x5da13d=document[_0x2183d5(0x18f)](_0x2183d5(0x212));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x523838=document['getElementById'](_0x2183d5(0x1b1))[_0x2183d5(0x16d)],_0x13b33a=window_options[_0x523838][_0x2183d5(0x134)],_0x57a077=[];newItems[_0x2183d5(0x135)](_0x5cd7ed=>{var _0x2e6d0c=_0x2183d5;const _0x58501e=generateNumericUniqId();_0x5cd7ed[_0x2e6d0c(0x142)][_0x2e6d0c(0x135)](_0x447c67=>{var _0x568785=_0x2e6d0c;const _0x549200=generateNumericUniqId();_0x447c67['setItemUnitId']=_0x549200;const _0x3489ac={'id':_0x549200,'setIdProducto':_0x58501e,'setCodProducto':_0x5cd7ed['setItemCode'],'setDescripcion':_0x5cd7ed['setItemName'],'setItemDescription':_0x5cd7ed[_0x568785(0x21f)],'setBatchExpirationDate':_0x5cd7ed[_0x568785(0x1d5)],'setBatchName':'','setCategoria':_0x5cd7ed[_0x568785(0x242)][0x0]||'','setMarca':_0x5cd7ed['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x447c67['setFactor']),'setImages':[],'setImg':_0x568785(0x228),'setInventariable':0x1,'setItemIsBought':_0x5cd7ed[_0x568785(0x1d2)]?0x1:0x0,'setItemIsSold':_0x5cd7ed[_0x568785(0x202)]?0x1:0x0,'setPorcentajeIgv':_0x5cd7ed['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x5cd7ed[_0x568785(0x133)],'setTipAfeIgv':_0x5cd7ed[_0x568785(0x1aa)],'setUnidad':_0x447c67['setUnitCode'],'setUnidadCodigo':_0x447c67[_0x568785(0x1af)],'setItemUnitAlias':_0x447c67['setAlias'],'currency_data':[{'currency':_0x13b33a,'setMtoPrecioCostoUnitario':_0x447c67[_0x568785(0x24f)],'setMtoPrecioUnitario':_0x447c67[_0x568785(0x195)],'setPriceLists':[]}],'sucursales':_0x5cd7ed[_0x568785(0x256)]['map'](_0x5d929d=>({'setIdSucursal':_0x5d929d[_0x568785(0x25e)],'setSucursalStock':_0x5d929d[_0x568785(0x143)]['toString'](),'setWarehouseStockMin':_0x5d929d[_0x568785(0x159)][_0x568785(0x1b3)]()})),'setItemFree':_0x5cd7ed[_0x568785(0x11a)],'setItemBarCode':_0x5cd7ed['setItemBarCode'],'setItemBrands':_0x5cd7ed[_0x568785(0x1da)][_0x568785(0x18a)](),'setItemCategories':_0x5cd7ed[_0x568785(0x242)][_0x568785(0x18a)](),'setItemComponents':_0x5cd7ed[_0x568785(0x1d9)][_0x568785(0x1c2)](_0x367781=>({..._0x367781})),'setItemImages':_0x5cd7ed[_0x568785(0x16f)]['slice'](),'setItemVariantName':_0x5cd7ed[_0x568785(0x150)],'setItemVariantValues':{..._0x5cd7ed['setItemVariantValues']}};_0x57a077['push'](_0x3489ac),(_0x5da13d[_0x568785(0x220)]||_0x31a8e9==0x1)&&addToCart(_0x3489ac);});}),console[_0x2183d5(0x14c)](_0x2183d5(0x11e),newItems),await finalizeImport(_0x57a077,newItems,![]);}),['dragenter',_0x22f53d(0x129)][_0x22f53d(0x135)](_0x227c07=>dropZone[_0x22f53d(0x1c4)](_0x227c07,_0x3c0a0b=>{var _0x16abc0=_0x22f53d;_0x3c0a0b['preventDefault'](),dropZone[_0x16abc0(0x1e3)][_0x16abc0(0x176)](_0x16abc0(0x129));})),['dragleave','drop'][_0x22f53d(0x135)](_0x382daf=>dropZone['addEventListener'](_0x382daf,_0x351c31=>{var _0x428d1b=_0x22f53d;_0x351c31[_0x428d1b(0x215)](),dropZone[_0x428d1b(0x1e3)]['remove'](_0x428d1b(0x129));})),dropZone[_0x22f53d(0x1c4)](_0x22f53d(0x1bf),_0x56a5d9=>{var _0x41e3bf=_0x22f53d;const _0x4ae827=_0x56a5d9[_0x41e3bf(0x199)]['files'][0x0];if(!_0x4ae827)return;fileInput[_0x41e3bf(0x265)]=_0x56a5d9[_0x41e3bf(0x199)]['files'],dropZone['querySelector'](_0x41e3bf(0x1ef))['textContent']=_0x4ae827[_0x41e3bf(0x11d)],removeBtn[_0x41e3bf(0x1f5)]=![],fileInput['dispatchEvent'](new Event('change'));}),removeBtn[_0x22f53d(0x1c4)](_0x22f53d(0x23a),()=>{var _0x20531a=_0x22f53d;fileInput['value']='',dropZone[_0x20531a(0x15b)](_0x20531a(0x1ef))[_0x20531a(0x1ff)]='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x20531a(0x1f5)]=!![],progressBar[_0x20531a(0x21e)][_0x20531a(0x1e0)]=_0x20531a(0x25b),statusDiv[_0x20531a(0x1ff)]='',uploadBtn[_0x20531a(0x1ec)]=!![];});const exportBtn=document[_0x22f53d(0x18f)](_0x22f53d(0x1e4));exportBtn[_0x22f53d(0x1c4)](_0x22f53d(0x23a),onClickExportarItems);async function onClickExportarItems(){var _0xc58fb1=_0x22f53d;if(!Array['isArray'](products)||!products['length']){ntfShow(_0xc58fb1(0x126));return;}try{const _0x504ce0=await fetch(_0xc58fb1(0x1ca));if(!_0x504ce0['ok'])throw new Error(_0xc58fb1(0x1e9));const _0x5c4278=await _0x504ce0[_0xc58fb1(0x162)](),_0x1ca34d=document[_0xc58fb1(0x18f)](_0xc58fb1(0x1c1))['value'];let _0x4b3f26=products;const _0x2cd424=getUserPermissionApiERP(0x2);_0x2cd424==0x1&&(_0x4b3f26=products[_0xc58fb1(0x165)](_0x45099c=>Array[_0xc58fb1(0x252)](_0x45099c[_0xc58fb1(0x24b)])&&_0x45099c['sucursales'][_0xc58fb1(0x214)](_0x473102=>String(_0x473102[_0xc58fb1(0x1a2)])==String(_0x1ca34d))));const _0x1df4cc=_0x4b3f26[_0xc58fb1(0x255)]((_0x549246,_0x1d4303)=>{var _0x27eea2=_0xc58fb1;const _0x1b436d=_0x1d4303['setIdProducto'];if(!_0x549246[_0x1b436d])_0x549246[_0x1b436d]=[];return _0x549246[_0x1b436d][_0x27eea2(0x13b)](_0x1d4303),_0x549246;},{}),_0x3ede4f=Object[_0xc58fb1(0x1fa)](_0x1df4cc)[_0xc58fb1(0x1c2)](_0x20fd78=>{var _0x1affb7=_0xc58fb1;const _0x4d5cbe=_0x20fd78[0x0],_0x16476b=_0x20fd78[0x1]||{},_0x901d4a=_0x20fd78[0x2]||{};function _0x22e36a(_0x217b74,_0x306e34,_0xddea07){var _0x14868b=_0x361a;if(!_0x217b74||!Array[_0x14868b(0x252)](_0x217b74[_0x14868b(0x23f)]))return'';const _0x6d6a3f=_0x217b74[_0x14868b(0x23f)][_0x14868b(0x1a9)](_0x11b437=>_0x11b437[_0x14868b(0x152)]===_0x306e34);return _0x6d6a3f?_0x6d6a3f[_0xddea07]:'';}return{'id':_0x4d5cbe[_0x1affb7(0x21d)],'setItemType':_0x4d5cbe[_0x1affb7(0x19e)],'setCodProducto':_0x4d5cbe[_0x1affb7(0x1c6)],'setDescripcion':_0x4d5cbe[_0x1affb7(0x238)],'setItemDescription':_0x4d5cbe[_0x1affb7(0x21f)],'setItemIsSold':_0x4d5cbe['setItemIsSold'],'setItemIsBought':_0x4d5cbe[_0x1affb7(0x1d2)],'setCategoria':_0x4d5cbe[_0x1affb7(0x13f)],'setMarca':_0x4d5cbe[_0x1affb7(0x20c)],'setTaxId':_0x4d5cbe['setTaxId'],'setUnitId':_0x4d5cbe['id'],'setItemBarCode':_0x4d5cbe[_0x1affb7(0x213)],'setUnidadCodigo':_0x4d5cbe[_0x1affb7(0x171)],'setItemUnitAlias':_0x4d5cbe[_0x1affb7(0x1d4)]??'','PEN_setMtoPrecioUnitario':_0x22e36a(_0x4d5cbe,_0x1affb7(0x157),_0x1affb7(0x210)),'PEN_setMtoPrecioCostoUnitario':_0x22e36a(_0x4d5cbe,_0x1affb7(0x157),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x22e36a(_0x4d5cbe,'USD',_0x1affb7(0x210)),'USD_setMtoPrecioCostoUnitario':_0x22e36a(_0x4d5cbe,_0x1affb7(0x23b),_0x1affb7(0x18b)),'setItemCommissionPercentage':_0x4d5cbe[_0x1affb7(0x229)]?parseFloat(_0x4d5cbe['setItemCommissionPercentage']):'','setUnitId2':_0x16476b['id']??'','setItemBarCode2':_0x16476b['setItemBarCode']??'','setUnidadCodigo2':_0x16476b[_0x1affb7(0x171)]??'','setItemUnitAlias2':_0x16476b['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x16476b[_0x1affb7(0x120)]??'','PEN_setMtoPrecioUnitario2':_0x22e36a(_0x16476b,_0x1affb7(0x157),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x22e36a(_0x16476b,_0x1affb7(0x157),_0x1affb7(0x18b))??'','USD_setMtoPrecioUnitario2':_0x22e36a(_0x16476b,_0x1affb7(0x23b),_0x1affb7(0x210))??'','USD_setMtoPrecioCostoUnitario2':_0x22e36a(_0x16476b,_0x1affb7(0x23b),_0x1affb7(0x18b))??'','setItemCommissionPercentage2':_0x16476b[_0x1affb7(0x229)]?parseFloat(_0x16476b[_0x1affb7(0x229)]):'','setUnitId3':_0x901d4a['id']??'','setItemBarCode3':_0x901d4a[_0x1affb7(0x213)]??'','setUnidadCodigo3':_0x901d4a[_0x1affb7(0x171)]??'','setItemUnitAlias3':_0x901d4a['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x901d4a[_0x1affb7(0x120)]??'','PEN_setMtoPrecioUnitario3':_0x22e36a(_0x901d4a,_0x1affb7(0x157),_0x1affb7(0x210))??'','PEN_setMtoPrecioCostoUnitario3':_0x22e36a(_0x901d4a,_0x1affb7(0x157),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario3':_0x22e36a(_0x901d4a,_0x1affb7(0x23b),_0x1affb7(0x210))??'','USD_setMtoPrecioCostoUnitario3':_0x22e36a(_0x901d4a,_0x1affb7(0x23b),_0x1affb7(0x18b))??'','setItemCommissionPercentage3':_0x901d4a['setItemCommissionPercentage']?parseFloat(_0x901d4a[_0x1affb7(0x229)]):'','setInventariable':_0x4d5cbe[_0x1affb7(0x253)],'setSucursalStock':_0x2cd424==0x1?_0x4d5cbe[_0x1affb7(0x24b)]['find'](_0x4444dd=>String(_0x4444dd[_0x1affb7(0x1a2)])==String(_0x1ca34d))[_0x1affb7(0x197)]:'','setWarehouseStockMin':_0x2cd424==0x1?_0x4d5cbe['sucursales'][_0x1affb7(0x1a9)](_0x58f2e4=>String(_0x58f2e4[_0x1affb7(0x1a2)])==String(_0x1ca34d))[_0x1affb7(0x192)]:'','setBatchName':_0x4d5cbe[_0x1affb7(0x189)],'setBatchExpirationDate':_0x4d5cbe[_0x1affb7(0x1a6)],..._0x4d5cbe[_0x1affb7(0x1b2)]};});try{JSON['stringify'](_0x3ede4f);}catch(_0x5960d4){console[_0xc58fb1(0x221)](_0xc58fb1(0x137),_0x5960d4),ntfShow(_0xc58fb1(0x231));return;}statusDiv[_0xc58fb1(0x1ff)]=_0xc58fb1(0x22c),progressBar[_0xc58fb1(0x21e)][_0xc58fb1(0x1e0)]=_0xc58fb1(0x19c),progressBar['value']=0x0,itemWorker[_0xc58fb1(0x24a)]({'action':_0xc58fb1(0x1dc),'products':_0x3ede4f,'plantillaBuf':_0x5c4278},[_0x5c4278]);}catch(_0x5ef9e1){console[_0xc58fb1(0x221)](_0x5ef9e1),ntfShow(_0xc58fb1(0x184)+_0x5ef9e1[_0xc58fb1(0x261)]);}}itemWorker['onmessage']=({data:_0x338ea1})=>{var _0x3f5425=_0x22f53d;const {type:_0x1832e1,payload:_0xcdd7ba}=_0x338ea1;_0x1832e1===_0x3f5425(0x1d1)&&(progressBar[_0x3f5425(0x21e)][_0x3f5425(0x1e0)]='block',progressBar[_0x3f5425(0x16d)]=_0xcdd7ba[_0x3f5425(0x1ed)],statusDiv['textContent']=_0xcdd7ba[_0x3f5425(0x261)]);_0x1832e1===_0x3f5425(0x122)&&(newItemsExcel=_0xcdd7ba[_0x3f5425(0x1c7)],statusDiv[_0x3f5425(0x1ff)]='✅\x20'+newItemsExcel[_0x3f5425(0x269)]+_0x3f5425(0x1ee),uploadBtn[_0x3f5425(0x1ec)]=![],progressBar[_0x3f5425(0x16d)]=0x64,console[_0x3f5425(0x14c)](newItemsExcel));_0x1832e1===_0x3f5425(0x221)&&(statusDiv[_0x3f5425(0x1ff)]=_0x3f5425(0x14b)+_0xcdd7ba,progressBar[_0x3f5425(0x21e)]['display']=_0x3f5425(0x25b));if(_0x1832e1===_0x3f5425(0x24c)){const {wbout:_0x44a7a5,count:_0x4e52d1}=_0xcdd7ba,_0x20bff9=new Blob([_0x44a7a5],{'type':_0x3f5425(0x190)}),_0x537f9b=URL[_0x3f5425(0x250)](_0x20bff9),_0x2ad08d=document[_0x3f5425(0x13a)]('a'),_0x4638a8=new Date()[_0x3f5425(0x244)]()[_0x3f5425(0x18a)](0x0,0xa);_0x2ad08d[_0x3f5425(0x13e)]=_0x3f5425(0x130)+_0x4638a8+_0x3f5425(0x1f7),_0x2ad08d['href']=_0x537f9b,_0x2ad08d[_0x3f5425(0x23a)](),URL['revokeObjectURL'](_0x537f9b),statusDiv[_0x3f5425(0x1ff)]='✅\x20Exportación\x20completada:\x20'+_0x4e52d1+'\x20items.',progressBar[_0x3f5425(0x21e)][_0x3f5425(0x1e0)]=_0x3f5425(0x25b);}},fileInput[_0x22f53d(0x1c4)](_0x22f53d(0x191),async _0x2d96b5=>{var _0x2b1eda=_0x22f53d;const _0x29d451=_0x2d96b5[_0x2b1eda(0x21b)]['files'][0x0];if(!_0x29d451)return;uploadBtn[_0x2b1eda(0x1ec)]=!![],newItemsExcel=null,statusDiv[_0x2b1eda(0x1ff)]='',progressBar['style'][_0x2b1eda(0x1e0)]=_0x2b1eda(0x25b),dropZone[_0x2b1eda(0x15b)](_0x2b1eda(0x1ef))[_0x2b1eda(0x1ff)]=_0x29d451[_0x2b1eda(0x11d)],removeBtn[_0x2b1eda(0x1f5)]=![];try{const _0x3ad565=await _0x29d451['arrayBuffer']();itemWorker['postMessage']({'action':_0x2b1eda(0x1a3),'buf':_0x3ad565,'maxRows':0x1388});}catch(_0x2b7fd1){statusDiv[_0x2b1eda(0x1ff)]=_0x2b1eda(0x17d);}finally{fileInput[_0x2b1eda(0x16d)]='';}}),uploadBtn[_0x22f53d(0x1c4)](_0x22f53d(0x23a),async()=>{var _0x5f3a32=_0x22f53d;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3eca99=document[_0x5f3a32(0x18f)](_0x5f3a32(0x1c1))[_0x5f3a32(0x16d)],_0x3feeae=[];newItemsExcel['forEach'](_0x89f0fd=>{var _0x3fcd55=_0x5f3a32;const _0x47cf48=Boolean(_0x89f0fd[_0x3fcd55(0x16e)]),_0xaaf228=_0x47cf48?_0x89f0fd[_0x3fcd55(0x16e)]:generateNumericUniqId();_0x89f0fd['setItemWarehouses']=[{'setStockInitial':_0x89f0fd['setStockInitial'],'setStockMinimum':_0x89f0fd['setStockMinimum'],'setWarehouseCode':_0x3eca99}],_0x89f0fd['setItemUnits']['forEach'](_0x333848=>{var _0x5e3fb9=_0x3fcd55;const _0x349d8a=Boolean(_0x333848[_0x5e3fb9(0x25a)]),_0x401d37=_0x349d8a?_0x333848['setItemUnitId']:generateNumericUniqId();_0x333848[_0x5e3fb9(0x25a)]=_0x401d37;const _0x4d27ce=[];_0x4d27ce[_0x5e3fb9(0x13b)]({'currency':_0x5e3fb9(0x157),'setMtoPrecioCostoUnitario':_0x333848[_0x5e3fb9(0x24f)],'setMtoPrecioUnitario':_0x333848[_0x5e3fb9(0x195)],'setPriceLists':[]});const _0x30e42=_0x333848['setCostUSD']!=null&&_0x333848[_0x5e3fb9(0x219)]!=null&&(!isNaN(_0x333848[_0x5e3fb9(0x209)])||!isNaN(_0x333848[_0x5e3fb9(0x219)]));_0x30e42&&_0x4d27ce[_0x5e3fb9(0x13b)]({'currency':_0x5e3fb9(0x23b),'setMtoPrecioCostoUnitario':_0x333848[_0x5e3fb9(0x209)],'setMtoPrecioUnitario':_0x333848['setPriceUSD'],'setPriceLists':[]});const _0xa146ab={'id':_0x401d37,'setIdProducto':_0xaaf228,'setItemBarCode':_0x333848['setItemBarCode'],'setCodProducto':_0x89f0fd[_0x5e3fb9(0x1fd)],'setDescripcion':_0x89f0fd[_0x5e3fb9(0x1d8)],'setItemDescription':_0x89f0fd[_0x5e3fb9(0x21f)],'setBatchExpirationDate':_0x89f0fd[_0x5e3fb9(0x1d5)],'setBatchName':_0x89f0fd[_0x5e3fb9(0x189)],'setItemIsSold':_0x89f0fd[_0x5e3fb9(0x202)],'setItemIsBought':_0x89f0fd['setItemIsBought'],'setCategoria':_0x89f0fd[_0x5e3fb9(0x242)][0x0]||'','setMarca':_0x89f0fd[_0x5e3fb9(0x1da)][0x0]||'','setConversionFactor':parseFloat(_0x333848[_0x5e3fb9(0x1cc)]),'setImages':[],'setImg':_0x5e3fb9(0x228),'setInventariable':_0x89f0fd[_0x5e3fb9(0x12f)],'setPorcentajeIgv':_0x89f0fd[_0x5e3fb9(0x251)],'setPrinters':[],'setTaxId':_0x89f0fd[_0x5e3fb9(0x133)],'setTipAfeIgv':_0x89f0fd[_0x5e3fb9(0x1aa)],'setUnidad':_0x333848[_0x5e3fb9(0x1af)],'setUnidadCodigo':_0x333848[_0x5e3fb9(0x1af)],'setItemUnitAlias':_0x333848['setAlias'],'setItemCommissionPercentage':_0x333848[_0x5e3fb9(0x229)],'currency_data':_0x4d27ce,'sucursales':_0x89f0fd['setItemWarehouses'][_0x5e3fb9(0x1c2)](_0x11db1b=>({'setIdSucursal':_0x11db1b[_0x5e3fb9(0x25e)],'setSucursalStock':_0x11db1b['setStockInitial'][_0x5e3fb9(0x1b3)](),'setWarehouseStockMin':_0x11db1b[_0x5e3fb9(0x159)][_0x5e3fb9(0x1b3)]()})),'setItemFree':_0x89f0fd[_0x5e3fb9(0x11a)],'setItemBrands':_0x89f0fd[_0x5e3fb9(0x1da)][_0x5e3fb9(0x18a)](),'setItemCategories':_0x89f0fd[_0x5e3fb9(0x242)][_0x5e3fb9(0x18a)](),'setItemComponents':_0x89f0fd[_0x5e3fb9(0x1d9)][_0x5e3fb9(0x1c2)](_0x4916f3=>({..._0x4916f3})),'setItemImages':_0x89f0fd[_0x5e3fb9(0x16f)]['slice'](),'setItemVariantName':_0x89f0fd['setItemVariantName'],'setItemVariantValues':{..._0x89f0fd[_0x5e3fb9(0x1b2)]}},_0x49c2fa=products['findIndex'](_0xc29cbe=>_0xc29cbe['id']==_0x401d37&&_0xc29cbe['setIdProducto']==_0xaaf228);_0x49c2fa>-0x1?Object[_0x5e3fb9(0x1d6)](products[_0x49c2fa],_0xa146ab):_0x3feeae[_0x5e3fb9(0x13b)](_0xa146ab);});}),console['log'](_0x5f3a32(0x11e),newItemsExcel),await finalizeImport(_0x3feeae,newItemsExcel,!![]);});function initializeFormImages(){var _0x5d3235=_0x22f53d;currentImages=Array(MAX_IMAGES)[_0x5d3235(0x239)](null),imgC['innerHTML']='',baseItem['setItemImages']=[];for(var _0xa5ce0=0x0;_0xa5ce0<MAX_IMAGES;_0xa5ce0++){(function(_0x59b268){var _0x2c74df=_0x5d3235,_0x1406a4=document[_0x2c74df(0x13a)]('div');_0x1406a4[_0x2c74df(0x194)]=_0x2c74df(0x205),_0x1406a4[_0x2c74df(0x1be)]['idx']=_0x59b268;var _0x14e09=document['createElement'](_0x2c74df(0x223));_0x14e09[_0x2c74df(0x193)]=_0x2c74df(0x1df),_0x14e09[_0x2c74df(0x18d)]=_0x2c74df(0x264),_0x14e09[_0x2c74df(0x21e)][_0x2c74df(0x1e0)]=_0x2c74df(0x25b);var _0x2d2d12=document[_0x2c74df(0x13a)](_0x2c74df(0x246));_0x2d2d12[_0x2c74df(0x1ff)]='+',_0x1406a4['appendChild'](_0x14e09),_0x1406a4[_0x2c74df(0x1d7)](_0x2d2d12),imgC[_0x2c74df(0x1d7)](_0x1406a4),_0x1406a4['addEventListener'](_0x2c74df(0x23a),function(){_0x14e09['click']();}),_0x14e09['addEventListener']('change',function(_0x5cedec){var _0x1bf048=_0x2c74df,_0x1c1724=_0x5cedec['target'][_0x1bf048(0x265)][0x0];if(!_0x1c1724)return removeImg(_0x59b268);var _0x3bd580=new FileReader();_0x3bd580[_0x1bf048(0x175)]=function(_0x74fd94){var _0x3ab06b=_0x1bf048;_0x1406a4[_0x3ab06b(0x15a)]=_0x3ab06b(0x17c)+_0x74fd94[_0x3ab06b(0x21b)][_0x3ab06b(0x123)]+'\x22>';var _0x8c20f7=document[_0x3ab06b(0x13a)]('span');_0x8c20f7[_0x3ab06b(0x194)]=_0x3ab06b(0x200),_0x8c20f7['textContent']='×',_0x8c20f7[_0x3ab06b(0x1c4)](_0x3ab06b(0x23a),function(_0x406bd9){var _0x2d9e66=_0x3ab06b;_0x406bd9[_0x2d9e66(0x1e6)](),removeImg(_0x59b268);}),_0x1406a4[_0x3ab06b(0x1d7)](_0x8c20f7),currentImages[_0x59b268]=_0x1c1724,baseItem[_0x3ab06b(0x16f)]=currentImages[_0x3ab06b(0x165)](function(_0x3dab35){return _0x3dab35;});},_0x3bd580[_0x1bf048(0x1e1)](_0x1c1724);});}(_0xa5ce0));}}function initializeFormIsSoldIsBought(_0x35760a=0x0){var _0x55e7ec=_0x22f53d;let _0x1c93d7,_0xe7af1e;if(_0x35760a!=0x0){const _0x5aa9e7=products[_0x55e7ec(0x1a9)](_0x93bffa=>_0x93bffa['id']==_0x35760a);_0x1c93d7=_0x5aa9e7[_0x55e7ec(0x1d2)]==0x1||_0x5aa9e7[_0x55e7ec(0x1d2)]==!![]?!![]:![],_0xe7af1e=_0x5aa9e7[_0x55e7ec(0x202)]==0x1||_0x5aa9e7[_0x55e7ec(0x202)]==!![]?!![]:![];}else _0x1c93d7=!![],_0xe7af1e=!![];document[_0x55e7ec(0x18f)]('newItem_chk_buy')[_0x55e7ec(0x220)]=_0x1c93d7,document[_0x55e7ec(0x18f)](_0x55e7ec(0x12e))[_0x55e7ec(0x220)]=_0xe7af1e,baseItem[_0x55e7ec(0x1d2)]=_0x1c93d7,baseItem[_0x55e7ec(0x202)]=_0xe7af1e;}function initializeFormInputsBasic(_0x42feea=0x0){var _0x59db04=_0x22f53d;let _0x5e5767,_0x36407b,_0x145a43,_0x55ff77,_0x78e6fb,_0xc85557;if(_0x42feea!=0x0){const _0x18cda0=products[_0x59db04(0x1a9)](_0x4b0a08=>_0x4b0a08['id']==_0x42feea);_0x5e5767=_0x18cda0[_0x59db04(0x19e)]??'1',_0x36407b=_0x18cda0[_0x59db04(0x1c6)],_0x145a43=_0x18cda0[_0x59db04(0x238)],_0x55ff77=_0x18cda0[_0x59db04(0x21f)],_0x78e6fb=_0x18cda0['setBatchExpirationDate']??'',_0xc85557=_0x18cda0[_0x59db04(0x213)];}else _0x5e5767='1',_0x36407b=getNextCode(products),_0x145a43='',_0x55ff77='',_0x78e6fb='',_0xc85557='';document['getElementById'](_0x59db04(0x1a7))[_0x59db04(0x16d)]=_0x5e5767,document['getElementById'](_0x59db04(0x19f))['value']=_0x36407b,document[_0x59db04(0x18f)](_0x59db04(0x11c))['value']=_0x145a43,document[_0x59db04(0x18f)]('inputItemDescription')[_0x59db04(0x16d)]=_0x55ff77,document['getElementById'](_0x59db04(0x24d))[_0x59db04(0x16d)]=_0x78e6fb,document[_0x59db04(0x18f)]('inputItemBarCode')['value']=_0xc85557,baseItem[_0x59db04(0x19e)]=_0x5e5767,baseItem[_0x59db04(0x1fd)]=_0x36407b,baseItem['setItemName']=_0x145a43,baseItem[_0x59db04(0x21f)]=_0x55ff77,baseItem[_0x59db04(0x1d5)]=_0x78e6fb,baseItem['setItemBarCode']=_0xc85557,document[_0x59db04(0x18f)](_0x59db04(0x212))[_0x59db04(0x220)]=![];}function initializeFormTax(_0x52e819=0x0){var _0x3bcc92=_0x22f53d;let _0x3ad051;if(_0x52e819!=0x0){const _0x2cce6d=products['find'](_0x7f29eb=>_0x7f29eb['id']==_0x52e819);_0x3ad051=_0x2cce6d[_0x3bcc92(0x23d)];}else _0x3ad051=myCompany[_0x3bcc92(0x26b)];const _0x3cc1fb=document['getElementById'](_0x3bcc92(0x146));_0x3cc1fb[_0x3bcc92(0x16d)]=_0x3ad051,baseItem[_0x3bcc92(0x133)]=_0x3ad051;const _0x47442e=company[0x0]['setImpuestos']['find'](_0x243879=>_0x243879[_0x3bcc92(0x23d)]==_0x3ad051)?.[_0x3bcc92(0x168)]||0x0,_0x3c6b91=company[0x0][_0x3bcc92(0x124)][_0x3bcc92(0x1a9)](_0x2bb7f3=>_0x2bb7f3[_0x3bcc92(0x23d)]==_0x3ad051)?.[_0x3bcc92(0x18c)]||0x0;baseItem[_0x3bcc92(0x1aa)]=_0x47442e,baseItem[_0x3bcc92(0x251)]=_0x3c6b91;}function initializeFormCategoriesBrands(_0x3e8003=0x0){var _0x243790=_0x22f53d;baseItem['setItemCategories']=[],baseItem['setItemBrands']=[],document[_0x243790(0x15b)](_0x243790(0x207))[_0x243790(0x15a)]='',document['querySelector'](_0x243790(0x216))[_0x243790(0x15a)]='',document['querySelector'](_0x243790(0x20f))[_0x243790(0x15a)]='',document[_0x243790(0x15b)](_0x243790(0x15c))['innerHTML']='';const _0x247fac=myCompany[_0x243790(0x242)]['map'](_0x1e9b08=>({'setCode':_0x1e9b08[_0x243790(0x186)],'setName':_0x1e9b08[_0x243790(0x186)]})),_0x20fba3=myCompany[_0x243790(0x1da)][_0x243790(0x1c2)](_0x2eb85b=>({'setCode':_0x2eb85b['setItemBrandName'],'setName':_0x2eb85b[_0x243790(0x16a)]}));initMulti(_0x243790(0x237),_0x247fac),initMulti('newItem_brands_select',_0x20fba3),document[_0x243790(0x18f)](_0x243790(0x237))[_0x243790(0x1c4)]('selectionChange',function(_0x48eed3){var _0x32eae8=_0x243790;baseItem[_0x32eae8(0x242)]=_0x48eed3[_0x32eae8(0x226)][_0x32eae8(0x1c2)](_0x26a117=>_0x26a117[_0x32eae8(0x196)]);}),document[_0x243790(0x18f)](_0x243790(0x12c))['addEventListener'](_0x243790(0x1b5),function(_0x3e4796){var _0x2be649=_0x243790;baseItem[_0x2be649(0x1da)]=_0x3e4796[_0x2be649(0x226)][_0x2be649(0x1c2)](_0x39f0b9=>_0x39f0b9[_0x2be649(0x196)]);});if(_0x3e8003!=0x0){const _0x107de5=products[_0x243790(0x1a9)](_0x4e83d1=>_0x4e83d1['id']==_0x3e8003);if(_0x107de5[_0x243790(0x13f)]){const _0x35ff53=document[_0x243790(0x18f)](_0x243790(0x237)),_0x115578=Array[_0x243790(0x127)](_0x35ff53[_0x243790(0x211)](_0x243790(0x235)))['find'](_0x3c6588=>_0x3c6588[_0x243790(0x1be)][_0x243790(0x148)]==_0x107de5[_0x243790(0x13f)]);_0x115578&&_0x115578['click']();}if(_0x107de5[_0x243790(0x20c)]){const _0x4abcd2=document[_0x243790(0x18f)]('newItem_brands_select'),_0x433ddb=Array[_0x243790(0x127)](_0x4abcd2[_0x243790(0x211)]('.options_list\x20div'))['find'](_0x395e3c=>_0x395e3c['dataset'][_0x243790(0x148)]==_0x107de5['setMarca']);_0x433ddb&&_0x433ddb[_0x243790(0x23a)]();}}}function _0x54a9(){var _0x243d63=['vals','setItemFree','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','inputItemName','name','Items\x20finales:','.costInput','setConversionFactor','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','done','result','setImpuestos','setName','No\x20hay\x20items\x20para\x20exportar.','from','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','dragover','setUnits','{}.constructor(\x22return\x20this\x22)(\x20)','newItem_brands_select','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','newItem_chk_sell','setItemInventoriable','Plantilla-Items-Export-','div','undefined','setItemTaxId','setMoneda','forEach','constructor','ERROR:\x20plainProducts\x20no\x20serializable:','drop-zone','48VLjgJg','createElement','push','detalleModalCreateItem','Collator','download','setCategoria','Producto\x20Libre','Nuevo\x20Producto','setItemUnits','setStockInitial','464197mqVcnY','.unitAlias','inputItemTax','contains','code','onerror','focus','❌\x20Error:\x20','log','trim','_comp_container','return\x20(function()\x20','setItemVariantName','44272gUKDWw','currency','.options_list','newItem_variant_groups','.unitSelect','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','PEN','sort','setStockMinimum','innerHTML','querySelector','#newItem_brands_select\x20.options_list','setCantidad','Error\x20al\x20guardar\x20Producto\x20Offline:','status','idx','search','arrayBuffer','.vgVals','18wXjUOq','filter','[id$=\x22_comp_container\x22]','compare','setImpuestoCode','getElementsByClassName','setItemBrandName','warn','setDefault','value','setItemId','setItemImages','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setUnidadCodigo','variantForm','oncomplete','setAuthToken','onload','add','.removeUnit','objectStore','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','mousedown','[data-idx=\x22','<img\x20src=\x22','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','selectedItem','padStart','dispatchEvent','.branchInit','807444EbzuTz','1396161tjHlKa','Error\x20al\x20obtener\x20la\x20plantilla:\x20','.removeVariant','setItemCategoryName','</div>','setWarehouseName','setBatchName','slice','setMtoPrecioCostoUnitario','setImpuestoValue','accept','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','getElementById','application/octet-stream','change','setWarehouseStockMin','type','className','setPrice','setCode','setSucursalStock','splice','dataTransfer','_branch_container','147640VLUYqf','block','div[data-default=\x22true\x22]\x20.eqInput','setItemType','inputItemCode','unitSelect','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','setIdSucursal','import','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','true','setBatchExpirationDate','inputItemType','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','find','setItemTaxCode','modalOverlayCreateItem','inputItemBarCode','transaction','448QBdMZM','setUnitCode','70qiuyDU','windowId','setItemVariantValues','toString','max','selectionChange','newItem_hidden','productType1','newItem_title_table','Ingresa\x20el\x20nombre\x20del\x20item','console','currentTarget','\x22\x20class=\x22branchChk\x22>\x20','newItem_btn_addVariantGroup','dataset','drop','match','setWarehouseId','map','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','addEventListener','.addVariantComp','setCodProducto','items','setImpuestoName','Error\x20al\x20procesar\x20la\x20operación:','./excel/Plantilla-Items.xlsx','test','setFactor','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','Ingresa\x20el\x20código\x20del\x20item','460204OfFrfi','variant_','progress','setItemIsBought','.removeProd','setItemUnitAlias','setItemDateExpiry','assign','appendChild','setItemName','setItemComponents','setItemBrands','every','exportItems','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','newItem_title_table_cp','file','display','readAsDataURL','keydown','classList','btnExportarItems','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','stopPropagation','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','.prod_input_container','closest','disabled','percent','\x20items\x20procesados.','.drop-zone__prompt','newItem_btn_addProdItem','exception','newItem_chk_buy','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','.eqInput','hidden','.branchChk','.xlsx','blur','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','values','toggle','table','setItemCode','eqInput','textContent','remove','newItem_images_container','setItemIsSold','string','bind','image_box','children','#newItem_categories_select\x20.selected_tags','newItem_variants_forms','setCostUSD','setAlias','newItem_units_container','setMarca','inputItemDescription','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','#newItem_brands_select\x20.selected_tags','setMtoPrecioUnitario','querySelectorAll','newItem_addToCart','setItemBarCode','some','preventDefault','#newItem_categories_select\x20.options_list','.removeCombo','.branchMin','setPriceUSD','.addVariantUnit','target','readwrite','setIdProducto','style','setItemDescription','checked','error','offline_operations','input','option','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','detail','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','./img/product.png','setItemCommissionPercentage','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','Generando\x20Excel...','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','defineProperty','default','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','100','findIndex','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.options_list\x20div','split','newItem_categories_select','setDescripcion','fill','click','USD','closeModalCreateItem','setTaxId','apply','currency_data','key','now','setItemCategories','includes','toISOString','file-input','span','selected','.selected_tags','.variantExpiry','postMessage','sucursales','exportDone','inputItemDateExpiry','.vgName','setCost','createObjectURL','setItemTaxValue','isArray','setInventariable','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','reduce','setItemWarehouses','_units_container','.priceInput','newItem_btn_addUnit','setItemUnitId','none','\x22\x20value=\x22','info','setWarehouseCode','stringify','.prodQty','message','Producto\x20Guardado\x20Offline\x20Correctamente.','setUnitName','image/*','files','60728BMzDbj','toLowerCase','style=\x22display:none\x22','length','parse','setTaxIdDefault','active'];_0x54a9=function(){return _0x243d63;};return _0x54a9();}function _0x361a(_0x2a0ed4,_0x392717){var _0x45e8c2=_0x54a9();return _0x361a=function(_0xb9caff,_0x432957){_0xb9caff=_0xb9caff-0x118;var _0x20cc61=_0x45e8c2[_0xb9caff];return _0x20cc61;},_0x361a(_0x2a0ed4,_0x392717);}function initializeFormUnits(){var _0x3bfbe5=_0x22f53d;unitCount=0x0,document[_0x3bfbe5(0x18f)](_0x3bfbe5(0x20b))[_0x3bfbe5(0x15a)]='',baseItem[_0x3bfbe5(0x142)]=[];var _0x11ef1e=uniqueValuesArray(_0x3bfbe5(0x1af),_0x3bfbe5(0x263),myCompany[_0x3bfbe5(0x12a)]);addUnit('',_0x11ef1e[0x3a]&&_0x11ef1e[0x3a][_0x3bfbe5(0x196)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x298fb3=_0x22f53d;prodC[_0x298fb3(0x15a)]='',baseItem[_0x298fb3(0x1d9)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x358ea7=_0x22f53d;branchesC[_0x358ea7(0x15a)]='',baseItem[_0x358ea7(0x256)]=[];const _0x2b8bf8=getAllWarehouses();_0x2b8bf8['forEach'](function(_0x3014e0){var _0x3b35e9=_0x358ea7,_0x4b4385=document[_0x3b35e9(0x13a)](_0x3b35e9(0x131));_0x4b4385[_0x3b35e9(0x15a)]=_0x3b35e9(0x156)+'<div\x20class=\x22newItem_col\x22>'+_0x3b35e9(0x179)+_0x3014e0[_0x3b35e9(0x1c1)]+_0x3b35e9(0x234)+_0x3014e0[_0x3b35e9(0x188)]+'</label>'+_0x3b35e9(0x187)+'<div\x20class=\x22newItem_col\x22>'+_0x3b35e9(0x12d)+_0x3014e0[_0x3b35e9(0x1c1)]+'\x22>'+'</div>'+'<div\x20class=\x22newItem_col\x22>'+_0x3b35e9(0x1dd)+_0x3014e0[_0x3b35e9(0x1c1)]+'\x22>'+'</div>'+_0x3b35e9(0x187),branchesC[_0x3b35e9(0x1d7)](_0x4b4385),_0x4b4385['querySelectorAll'](_0x3b35e9(0x223))[_0x3b35e9(0x135)](function(_0x5a977e){var _0x530160=_0x3b35e9;_0x5a977e[_0x530160(0x1c4)](_0x530160(0x223),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x468365=_0x22f53d;baseItem[_0x468365(0x150)]='',baseItem['setItemVariantValues']={},vgC[_0x468365(0x15a)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x57aadd,_0x30fded,_0x1d3583=![]){var _0x649e7d=_0x22f53d;const _0x2eb371=0xc8,_0x41d11b={'apiPOSsendOffline':'1','setTipoOperacion':_0x649e7d(0x232),'setToken':company[0x0][_0x649e7d(0x174)],'setWebhook':company[0x0]['setWebhook']};for(let _0x403be5=0x0;_0x403be5<_0x30fded[_0x649e7d(0x269)];_0x403be5+=_0x2eb371){const _0x3cc2af=_0x30fded['slice'](_0x403be5,_0x403be5+_0x2eb371);await storeOfflineProduct({..._0x41d11b,'newItems':_0x3cc2af});}products['push'](..._0x57aadd),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x649e7d(0x1cd)),_0x1d3583?(fileInput[_0x649e7d(0x16d)]='',uploadBtn[_0x649e7d(0x1ec)]=!![],statusDiv[_0x649e7d(0x1ff)]='',progressBar['style']['display']=_0x649e7d(0x25b),progressBar[_0x649e7d(0x16d)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}