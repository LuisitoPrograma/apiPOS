/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.4
*/

var _0x49d0fa=_0x9e60;(function(_0x347323,_0x551d8b){var _0x31fbda=_0x9e60,_0x3617e7=_0x347323();while(!![]){try{var _0x179424=-parseInt(_0x31fbda(0x1fb))/0x1*(parseInt(_0x31fbda(0x297))/0x2)+parseInt(_0x31fbda(0x1e8))/0x3*(-parseInt(_0x31fbda(0x1df))/0x4)+parseInt(_0x31fbda(0x27a))/0x5*(parseInt(_0x31fbda(0x1d1))/0x6)+parseInt(_0x31fbda(0x205))/0x7+-parseInt(_0x31fbda(0x276))/0x8*(parseInt(_0x31fbda(0x189))/0x9)+-parseInt(_0x31fbda(0x253))/0xa*(-parseInt(_0x31fbda(0x26f))/0xb)+-parseInt(_0x31fbda(0x1c6))/0xc;if(_0x179424===_0x551d8b)break;else _0x3617e7['push'](_0x3617e7['shift']());}catch(_0x37775d){_0x3617e7['push'](_0x3617e7['shift']());}}}(_0x224e,0xa97b2));var _0x26651e=(function(){var _0x2ac443=!![];return function(_0x4f8da2,_0x27d43a){var _0x534346=_0x2ac443?function(){var _0x433279=_0x9e60;if(_0x27d43a){var _0x444320=_0x27d43a[_0x433279(0x257)](_0x4f8da2,arguments);return _0x27d43a=null,_0x444320;}}:function(){};return _0x2ac443=![],_0x534346;};}()),_0x395e03=_0x26651e(this,function(){var _0x44fe9d=_0x9e60;return _0x395e03[_0x44fe9d(0x1c2)]()['search'](_0x44fe9d(0x238))[_0x44fe9d(0x1c2)]()[_0x44fe9d(0x194)](_0x395e03)[_0x44fe9d(0x277)](_0x44fe9d(0x238));});_0x395e03();var _0x4be113=(function(){var _0x2b0105=!![];return function(_0x486de4,_0x563da0){var _0x1b2945=_0x2b0105?function(){var _0x45f484=_0x9e60;if(_0x563da0){var _0x34310f=_0x563da0[_0x45f484(0x257)](_0x486de4,arguments);return _0x563da0=null,_0x34310f;}}:function(){};return _0x2b0105=![],_0x1b2945;};}()),_0x52100d=_0x4be113(this,function(){var _0x6521a=_0x9e60,_0x38e8c4=function(){var _0x39a270=_0x9e60,_0x57c392;try{_0x57c392=Function(_0x39a270(0x298)+_0x39a270(0x1be)+');')();}catch(_0x517221){_0x57c392=window;}return _0x57c392;},_0x3e78f9=_0x38e8c4(),_0x43fee7=_0x3e78f9[_0x6521a(0x1e3)]=_0x3e78f9[_0x6521a(0x1e3)]||{},_0x2ca751=[_0x6521a(0x1fa),_0x6521a(0x281),_0x6521a(0x185),'error',_0x6521a(0x1f4),_0x6521a(0x268),_0x6521a(0x1a0)];for(var _0x342833=0x0;_0x342833<_0x2ca751['length'];_0x342833++){var _0xb2fb59=_0x4be113['constructor'][_0x6521a(0x21e)][_0x6521a(0x203)](_0x4be113),_0x1b4d76=_0x2ca751[_0x342833],_0x6536cf=_0x43fee7[_0x1b4d76]||_0xb2fb59;_0xb2fb59['__proto__']=_0x4be113[_0x6521a(0x203)](_0x4be113),_0xb2fb59[_0x6521a(0x1c2)]=_0x6536cf[_0x6521a(0x1c2)][_0x6521a(0x203)](_0x6536cf),_0x43fee7[_0x1b4d76]=_0xb2fb59;}});_0x52100d();var newItems=[],baseItem={'setItemType':'1','setItemCode':'','setItemBarCode':'','setItemName':'','setItemDescription':'','setItemFree':0x0,'setItemTaxId':'','setItemTaxCode':'','setItemTaxValue':'','setItemDateExpiry':'','setItemIsBought':!![],'setItemIsSold':!![],'setItemImages':[],'setItemCategories':[],'setItemBrands':[],'setItemWarehouses':[],'setItemUnits':[],'setItemComponents':[],'setItemVariantName':'','setItemVariantValues':{}},MAX_IMAGES=0x4,currentImages=Array(MAX_IMAGES)['fill'](null),imgC=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x221)),unitCount=0x0,branchesC=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x199)),prodC=document[_0x49d0fa(0x1cb)]('newItem_proditems_container'),vgCount=0x0,varContainer=document['getElementById']('newItem_variants_forms'),vgC=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x24d));const fileInput=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x28d)),progressBar=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x293)),statusDiv=document[_0x49d0fa(0x1cb)]('status'),uploadBtn=document[_0x49d0fa(0x1cb)]('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x49d0fa(0x285)),dropZone=document['getElementById'](_0x49d0fa(0x262)),removeBtn=document[_0x49d0fa(0x1cb)](_0x49d0fa(0x1e7));function showModalCreateItem(_0x4ce6fb){var _0x456fca=_0x49d0fa;const _0x4e3622=document[_0x456fca(0x1cb)](_0x456fca(0x20f)),_0x2db8ed=document[_0x456fca(0x1cb)](_0x456fca(0x1eb));_0x4e3622['classList'][_0x456fca(0x246)](_0x456fca(0x1b3)),_0x2db8ed['style'][_0x456fca(0x23f)]=_0x456fca(0x1a6);const _0x307fb5=document[_0x456fca(0x1cb)](_0x456fca(0x1a5));_0x307fb5[_0x456fca(0x1f3)]=parseInt(_0x4ce6fb),baseItem['setItemFree']=parseInt(_0x4ce6fb);const _0x8f9531=document[_0x456fca(0x1cb)](_0x456fca(0x25e));_0x4ce6fb==0x0&&(_0x8f9531['innerHTML']=_0x456fca(0x216));_0x4ce6fb==0x1&&(_0x8f9531[_0x456fca(0x249)]=_0x456fca(0x1ee));const _0x500b2b=document[_0x456fca(0x220)](_0x456fca(0x187));for(let _0x1d11be=0x0;_0x1d11be<_0x500b2b['length'];_0x1d11be++){const _0x51ec40=_0x500b2b[_0x1d11be];if(_0x4ce6fb==0x0)_0x51ec40['classList']['remove']('hidden');else _0x4ce6fb==0x1&&_0x51ec40['classList']['add'](_0x456fca(0x26e));}}function hideModalCreateItem(){var _0x51adc6=_0x49d0fa;const _0x3f5594=document[_0x51adc6(0x1cb)]('detalleModalCreateItem'),_0x76224=document[_0x51adc6(0x1cb)](_0x51adc6(0x1eb));_0x3f5594[_0x51adc6(0x1d9)][_0x51adc6(0x1c3)](_0x51adc6(0x1b3)),_0x76224[_0x51adc6(0x209)][_0x51adc6(0x23f)]=_0x51adc6(0x273);}document[_0x49d0fa(0x1cb)](_0x49d0fa(0x1ef))[_0x49d0fa(0x21d)](_0x49d0fa(0x24e),hideModalCreateItem),document[_0x49d0fa(0x1cb)](_0x49d0fa(0x1eb))[_0x49d0fa(0x21d)](_0x49d0fa(0x24e),_0x5041fd=>{var _0x14aeea=_0x49d0fa;_0x5041fd[_0x14aeea(0x19e)]==_0x5041fd[_0x14aeea(0x245)]&&_0x5041fd[_0x14aeea(0x1b5)]();});function loadTaxData(){var _0x1642b8=_0x49d0fa;const _0x552bd1=document[_0x1642b8(0x1cb)](_0x1642b8(0x27d));_0x552bd1[_0x1642b8(0x249)]='',company[0x0]['setImpuestos'][_0x1642b8(0x1d6)](function(_0x16c229){var _0x296b4c=_0x1642b8;const _0x34f1bb=document['createElement'](_0x296b4c(0x1b0));_0x34f1bb[_0x296b4c(0x1f3)]=_0x16c229[_0x296b4c(0x1ff)],_0x34f1bb[_0x296b4c(0x249)]=_0x16c229[_0x296b4c(0x1f9)]+'\x20('+_0x16c229[_0x296b4c(0x1d5)]+'%)',_0x16c229[_0x296b4c(0x1ff)]==company[0x0][_0x296b4c(0x27b)]&&(_0x34f1bb[_0x296b4c(0x195)]=!![]),_0x552bd1[_0x296b4c(0x25b)](_0x34f1bb);});}function uniqueValuesArray(_0x1e82de,_0x30ab37,_0x1f50e2){var _0x57fd3c=_0x49d0fa;const _0x18a44f=Array[_0x57fd3c(0x287)](new Set(_0x1f50e2[_0x57fd3c(0x259)](_0x3898ce=>{var _0x5d5ae0=_0x57fd3c;const _0x22a41a=_0x3898ce[_0x1e82de];return typeof _0x22a41a===_0x5d5ae0(0x251)?_0x22a41a['trim']():_0x22a41a;})['filter'](_0x46b71a=>_0x46b71a!=null&&_0x46b71a!=='')));return _0x18a44f[_0x57fd3c(0x259)](_0x9bcde5=>{var _0x54bad7=_0x57fd3c;const _0x24d721=_0x1f50e2[_0x54bad7(0x1d3)](_0x19e533=>_0x19e533[_0x1e82de]===_0x9bcde5),_0x14f504=_0x24d721&&_0x24d721[_0x30ab37]!=null?String(_0x24d721[_0x30ab37])['trim']():_0x9bcde5;return{'setCode':_0x9bcde5,'setName':_0x14f504};});}function fillSelect(_0x5e148c,_0x26cdd9,_0xfc1aa9,_0x310c69){var _0x5158bd=_0x49d0fa;_0x5e148c[_0x5158bd(0x249)]='',_0x26cdd9['forEach'](function(_0x506081){var _0xc4e34d=_0x5158bd,_0x40ce05=new Option(_0x506081[_0x310c69],_0x506081[_0xfc1aa9]);_0x5e148c[_0xc4e34d(0x246)](_0x40ce05);});}function initMulti(_0x5a92b9,_0x57f5e5){var _0x4444df=_0x49d0fa,_0x4b3ba4=document[_0x4444df(0x1cb)](_0x5a92b9),_0x31448d=_0x4b3ba4[_0x4444df(0x197)](_0x4444df(0x267)),_0x524f86=_0x4b3ba4[_0x4444df(0x197)](_0x4444df(0x19c)),_0x1b3dab=_0x4b3ba4[_0x4444df(0x197)](_0x4444df(0x1e1)),_0xfcfb07=_0x57f5e5['slice'](),_0x2aab2b=[];function _0x12a157(){var _0xeaa481=_0x4444df;_0x524f86[_0xeaa481(0x249)]='',_0xfcfb07[_0xeaa481(0x290)](function(_0x17ba83){var _0x55219c=_0xeaa481;return _0x17ba83['setName'][_0x55219c(0x237)]()[_0x55219c(0x23e)](_0x31448d[_0x55219c(0x1f3)]['toLowerCase']())!==-0x1;})['forEach'](function(_0x504e47){var _0x1b3230=_0xeaa481,_0x4f2b29=document[_0x1b3230(0x19f)](_0x1b3230(0x27f));_0x4f2b29['textContent']=_0x504e47['setName'],_0x4f2b29[_0x1b3230(0x1ac)][_0x1b3230(0x198)]=_0x504e47[_0x1b3230(0x226)],_0x524f86[_0x1b3230(0x25b)](_0x4f2b29),_0x4f2b29[_0x1b3230(0x21d)](_0x1b3230(0x24e),function(){var _0x21a0a7=_0x1b3230;_0x2aab2b['push'](_0x504e47),_0xfcfb07[_0x21a0a7(0x289)](_0xfcfb07[_0x21a0a7(0x1dd)](function(_0x161878){var _0x255a8c=_0x21a0a7;return _0x161878[_0x255a8c(0x226)]===_0x504e47[_0x255a8c(0x226)];}),0x1),_0x31448d[_0x21a0a7(0x1f3)]='',_0x5f1534(),_0x12a157();});});}function _0x5f1534(){var _0x18181c=_0x4444df;_0x1b3dab[_0x18181c(0x249)]='',_0x2aab2b[_0x18181c(0x1d6)](function(_0x1be0a2){var _0x58fbdf=_0x18181c,_0x14b1ee=document[_0x58fbdf(0x19f)]('div');_0x14b1ee[_0x58fbdf(0x1a7)]=_0x58fbdf(0x20d),_0x14b1ee[_0x58fbdf(0x20a)]=_0x1be0a2[_0x58fbdf(0x1e5)];var _0x4399ff=document[_0x58fbdf(0x19f)](_0x58fbdf(0x22f));_0x4399ff['className']=_0x58fbdf(0x26b),_0x4399ff[_0x58fbdf(0x20a)]='×',_0x4399ff[_0x58fbdf(0x21d)](_0x58fbdf(0x24e),function(){var _0x594da3=_0x58fbdf;_0xfcfb07['push'](_0x1be0a2);const _0x4343d9=_0x2aab2b[_0x594da3(0x1dd)](function(_0x4a851f){var _0x410670=_0x594da3;return _0x4a851f[_0x410670(0x226)]===_0x1be0a2[_0x410670(0x226)];});if(_0x4343d9>-0x1)_0x2aab2b[_0x594da3(0x289)](_0x4343d9,0x1);_0x5f1534(),_0x12a157();}),_0x14b1ee[_0x58fbdf(0x25b)](_0x4399ff),_0x1b3dab[_0x58fbdf(0x25b)](_0x14b1ee);}),_0x4b3ba4['dispatchEvent'](new CustomEvent(_0x18181c(0x279),{'bubbles':!![]}));}return _0x31448d['addEventListener'](_0x4444df(0x250),function(){var _0x317647=_0x4444df;_0x524f86['classList'][_0x317647(0x1c3)](_0x317647(0x1af));}),_0x31448d[_0x4444df(0x21d)](_0x4444df(0x1da),_0x12a157),_0x31448d[_0x4444df(0x21d)](_0x4444df(0x1e9),function(_0x476f1f){var _0x2a3b1d=_0x4444df;if(_0x476f1f['key']==='Enter'){_0x476f1f[_0x2a3b1d(0x196)]();const _0x49043c=_0x31448d[_0x2a3b1d(0x1f3)]['trim']();if(!_0x49043c)return;const _0xdcd29c=_0x2aab2b[_0x2a3b1d(0x1ca)](_0x40ca17=>_0x40ca17[_0x2a3b1d(0x1e5)]===_0x49043c),_0x264177=_0xfcfb07[_0x2a3b1d(0x1ca)](_0x14497c=>_0x14497c[_0x2a3b1d(0x1e5)]===_0x49043c);if(!_0xdcd29c&&!_0x264177){const _0x7ba3d0={'setCode':_0x49043c,'setName':_0x49043c};_0x2aab2b[_0x2a3b1d(0x1f2)](_0x7ba3d0),_0x5f1534(),_0x12a157();}_0x31448d[_0x2a3b1d(0x1f3)]='';}}),document[_0x4444df(0x21d)](_0x4444df(0x24e),function(_0x48d046){var _0x20793e=_0x4444df;if(!_0x4b3ba4[_0x20793e(0x28f)](_0x48d046[_0x20793e(0x19e)]))_0x524f86[_0x20793e(0x1d9)][_0x20793e(0x246)](_0x20793e(0x1af));}),_0x12a157(),_0x2aab2b;}function _0x224e(){var _0x25cb9a=['\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','variant_','now','info','change','productType1','setItemWarehouses','36DtDGbj','oncomplete','join','setImpuestoCode','setDefault','inputItemCode','\x22\x20class=\x22branchChk\x22>\x20','stringify','setStockMinimum','file','costInput','constructor','selected','preventDefault','querySelector','code','newItem_branches_container','_comp_container','type','.options_list','inputItemBarCode','target','createElement','trace','name','priceInput','every','.prodInput','setItemFree','block','className','Producto\x20Guardado\x20Offline\x20Correctamente.','length','flatMap','_branch_container','dataset','setItemDateExpiry','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','newItem_hidden','option','parentNode','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','active','newItem_btn_addVariantGroup','stopPropagation','setItemTaxCode','setAlias','setItemCode','setWarehouseId','setCodProducto','idx','sort','setItemTaxValue','{}.constructor(\x22return\x20this\x22)(\x20)','setCost','inputItemType','files','toString','remove','Collator','unitAlias','7205832jULEBf','setItemBarCode','setItemVariantValues','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','some','getElementById','Ingresa\x20el\x20nombre\x20del\x20item','undefined','eqInput','done','.branchInit','6DKQHfH','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','find','newItem_title_table','setImpuestoValue','forEach','.priceInput','true','classList','input','setItemImages','children','findIndex','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','21408GULbDN','arrayBuffer','.selected_tags','.unitAlias','console','setItemName','setName','100','remove-file','681qJWcVz','keydown','setMoneda','modalOverlayCreateItem','postMessage','setItemComponents','Producto\x20Libre','closeModalCreateItem','#newItem_branches_container\x20>\x20div','image/*','push','value','exception','dragover','setFactor','onmessage','div[data-default=\x22true\x22]\x20.eqInput','setImpuestoName','log','5LuZdAs','message','setUnidad','.prodQty','setTaxId','percent','setUnitCode','Error\x20al\x20guardar\x20Producto\x20Offline:','bind','setEquivalence','9003183GQVOPV','./img/product.png','disabled','Items\x20finales:','style','textContent','setAuthToken','readwrite','tag','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','detalleModalCreateItem','setPrice','.removeGroup','dragenter','objectStore','setItemType','base','Nuevo\x20Producto','.variantBarCode','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','Ingresa\x20el\x20código\x20del\x20item','setItemTaxId','setItemVariantName','addEventListener','prototype','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','getElementsByClassName','newItem_images_container','.vgName','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','\x22\x20value=\x22','variantForm','setCode','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','test','assign','accept','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.removeCombo','.costInput','<img\x20src=\x22','span','.branchMin','trim','windowId','checked','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','setWarehouseCode','❌\x20Error:\x20','toLowerCase','(((.+)+)+)+$','.variantExpiry','setWarehouseName','setItemId','closest','setItemIsSold','indexOf','display','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','toggle','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','.variantForm','image_box','currentTarget','add','setItemDescription','parse','innerHTML','.vgVals','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','default','newItem_variant_groups','click','onload','focus','string','entries','9217510yzmPzt','result','.prod_input_container','newItem_btn_addUnit','apply','inputItemName','map','newItem_btn_addProdItem','appendChild','.eqInput','setWebhook','modalProductNewTitle','blur','.addVariantComp','setStockInitial','drop-zone','setItemIsBought','newItem_title_table_cp','.addVariantUnit','drop','.ms_input','table','_units_container','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','remove-tag','newItem_chk_sell','inputItemDescription','hidden','11aQSaFg','onerror','setCantidad','btnItemSave','none','inputItemDateExpiry','setDescripcion','463056bgCOfu','search','newItem_units_container','selectionChange','6299335wmjPOe','setTaxIdDefault','items','inputItemTax','.variantCode','div','dataTransfer','warn','.unitSelect','.drop-zone__prompt','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','./js/apierp_item_wk.min.js','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','from','querySelectorAll','splice','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','selectedItem','slice','file-input','setItemUnits','contains','filter','setItemCategories','style=\x22display:none\x22','progress','split','.removeVariant','setItemBrands','290670dSEIHn','return\x20(function()\x20','Error\x20al\x20procesar\x20la\x20operación:','[data-idx=\x22','compare','error'];_0x224e=function(){return _0x25cb9a;};return _0x224e();}document[_0x49d0fa(0x1cb)]('inputItemName')[_0x49d0fa(0x21d)]('input',function(_0x3fe650){var _0x19ac68=_0x49d0fa;baseItem[_0x19ac68(0x1e4)]=_0x3fe650[_0x19ac68(0x19e)]['value'];}),document['getElementById'](_0x49d0fa(0x26d))['addEventListener'](_0x49d0fa(0x1da),function(_0x287161){var _0x3678ab=_0x49d0fa;baseItem[_0x3678ab(0x247)]=_0x287161[_0x3678ab(0x19e)][_0x3678ab(0x1f3)];}),document[_0x49d0fa(0x1cb)](_0x49d0fa(0x274))[_0x49d0fa(0x21d)](_0x49d0fa(0x1da),function(_0x45b1cc){var _0x226059=_0x49d0fa;baseItem[_0x226059(0x1ad)]=_0x45b1cc['target'][_0x226059(0x1f3)];}),document['getElementById'](_0x49d0fa(0x1c0))['addEventListener'](_0x49d0fa(0x186),function(_0x19fd24){var _0x5be6bc=_0x49d0fa;baseItem[_0x5be6bc(0x214)]=_0x19fd24['target']['value'];}),document['getElementById'](_0x49d0fa(0x27d))['addEventListener'](_0x49d0fa(0x186),function(_0x3b16fc){var _0x344c1c=_0x49d0fa;baseItem[_0x344c1c(0x21b)]=_0x3b16fc['target'][_0x344c1c(0x1f3)];const _0xd9607d=_0x3b16fc[_0x344c1c(0x19e)][_0x344c1c(0x1f3)],_0x4ce9f7=company[0x0]['setImpuestos'][_0x344c1c(0x1d3)](_0x59028b=>_0x59028b['setTaxId']==_0xd9607d)?.[_0x344c1c(0x18c)]||0x0,_0x4fcc07=company[0x0]['setImpuestos'][_0x344c1c(0x1d3)](_0x23ed1b=>_0x23ed1b[_0x344c1c(0x1ff)]==_0xd9607d)?.[_0x344c1c(0x1d5)]||0x0;baseItem[_0x344c1c(0x1b6)]=_0x4ce9f7,baseItem[_0x344c1c(0x1bd)]=_0x4fcc07;}),document[_0x49d0fa(0x1cb)]('newItem_chk_buy')['addEventListener'](_0x49d0fa(0x186),function(_0x15ccb6){var _0xed7170=_0x49d0fa;baseItem[_0xed7170(0x263)]=_0x15ccb6[_0xed7170(0x19e)][_0xed7170(0x233)];}),document[_0x49d0fa(0x1cb)](_0x49d0fa(0x26c))['addEventListener'](_0x49d0fa(0x186),function(_0x5d3988){var _0x4d07a0=_0x49d0fa;baseItem[_0x4d07a0(0x23d)]=_0x5d3988[_0x4d07a0(0x19e)]['checked'];}),document[_0x49d0fa(0x1cb)]('inputItemCode')[_0x49d0fa(0x21d)](_0x49d0fa(0x1da),function(_0x52f223){var _0x123211=_0x49d0fa;baseItem['setItemCode']=_0x52f223[_0x123211(0x19e)][_0x123211(0x1f3)];}),document[_0x49d0fa(0x1cb)](_0x49d0fa(0x19d))[_0x49d0fa(0x21d)](_0x49d0fa(0x1da),function(_0x1d3822){var _0x4f93dd=_0x49d0fa;baseItem[_0x4f93dd(0x1c7)]=_0x1d3822[_0x4f93dd(0x19e)][_0x4f93dd(0x1f3)];}),document[_0x49d0fa(0x1cb)](_0x49d0fa(0x256))[_0x49d0fa(0x21d)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x49d0fa(0x1cb)]('inputItemCode')[_0x49d0fa(0x21d)](_0x49d0fa(0x25f),function(){var _0x2e20e2=_0x49d0fa;const _0x5b35b2=this[_0x2e20e2(0x1f3)][_0x2e20e2(0x231)]();if(_0x5b35b2==='')return;const _0x410138=products['some'](_0x44fd27=>_0x44fd27[_0x2e20e2(0x1ba)]==_0x5b35b2),_0x27cac7=products[_0x2e20e2(0x259)](_0xf2520=>String(_0xf2520[_0x2e20e2(0x1ba)])[_0x2e20e2(0x231)]())['filter'](_0x4526bf=>_0x4526bf!==''),_0x1ddff0=_0x27cac7[_0x2e20e2(0x1a3)](_0x548bf7=>/^\d+$/[_0x2e20e2(0x228)](_0x548bf7));let _0x578e0c;if(_0x1ddff0){const _0x5cafba=_0x27cac7[_0x2e20e2(0x259)](Number),_0x468499=Math['max'](..._0x5cafba);_0x578e0c=String(_0x468499);}else{let _0x2748c8;if(typeof Intl!==_0x2e20e2(0x1cd)&&Intl['Collator']){const _0x27211e=new Intl[(_0x2e20e2(0x1c4))](undefined,{'numeric':!![],'sensitivity':_0x2e20e2(0x215)});_0x2748c8=_0x27cac7[_0x2e20e2(0x28c)]()[_0x2e20e2(0x1bc)](_0x27211e[_0x2e20e2(0x29b)]);}else{const _0x5d9036=_0x27cac7[_0x2e20e2(0x1a3)](_0x328fb3=>/^\d+$/[_0x2e20e2(0x228)](_0x328fb3));_0x5d9036?_0x2748c8=_0x27cac7[_0x2e20e2(0x259)](Number)[_0x2e20e2(0x1bc)]((_0x2bbed8,_0x9263c4)=>_0x2bbed8-_0x9263c4)[_0x2e20e2(0x259)](String):_0x2748c8=_0x27cac7[_0x2e20e2(0x28c)]()[_0x2e20e2(0x1bc)]();}_0x578e0c=_0x2748c8[_0x2748c8[_0x2e20e2(0x1a9)]-0x1];}_0x410138?ntfShow(_0x2e20e2(0x284)+_0x578e0c,0x2,0x1):ntfShow(_0x2e20e2(0x219),0x1,0x1);});function removeImg(_0x1556f1){var _0x54de9b=_0x49d0fa;currentImages[_0x1556f1]=null;var _0xd13feb=imgC[_0x54de9b(0x197)](_0x54de9b(0x29a)+_0x1556f1+'\x22]');_0xd13feb['innerHTML']='';var _0x49c3e3=document[_0x54de9b(0x19f)](_0x54de9b(0x1da));_0x49c3e3[_0x54de9b(0x19b)]=_0x54de9b(0x192),_0x49c3e3[_0x54de9b(0x22a)]=_0x54de9b(0x1f1),_0x49c3e3[_0x54de9b(0x209)][_0x54de9b(0x23f)]='none';var _0x1fc823=document['createElement'](_0x54de9b(0x22f));_0x1fc823[_0x54de9b(0x20a)]='+',_0xd13feb[_0x54de9b(0x25b)](_0x49c3e3),_0xd13feb[_0x54de9b(0x25b)](_0x1fc823),_0xd13feb[_0x54de9b(0x21d)](_0x54de9b(0x24e),function(){var _0x5cd89b=_0x54de9b;_0x49c3e3[_0x5cd89b(0x24e)]();}),baseItem[_0x54de9b(0x1db)]=currentImages[_0x54de9b(0x290)](function(_0xc15df8){return _0xc15df8;});}for(var i=0x0;i<MAX_IMAGES;i++){(function(_0x139270){var _0x2c5870=_0x49d0fa,_0xad7817=document['createElement']('div');_0xad7817[_0x2c5870(0x1a7)]=_0x2c5870(0x244),_0xad7817['dataset']['idx']=_0x139270;var _0x339b11=document[_0x2c5870(0x19f)](_0x2c5870(0x1da));_0x339b11[_0x2c5870(0x19b)]=_0x2c5870(0x192),_0x339b11[_0x2c5870(0x22a)]=_0x2c5870(0x1f1),_0x339b11[_0x2c5870(0x209)][_0x2c5870(0x23f)]=_0x2c5870(0x273);var _0xfc0f7=document[_0x2c5870(0x19f)](_0x2c5870(0x22f));_0xfc0f7['textContent']='+',_0xad7817[_0x2c5870(0x25b)](_0x339b11),_0xad7817['appendChild'](_0xfc0f7),imgC[_0x2c5870(0x25b)](_0xad7817),_0xad7817[_0x2c5870(0x21d)](_0x2c5870(0x24e),function(){var _0x37ff65=_0x2c5870;_0x339b11[_0x37ff65(0x24e)]();}),_0x339b11[_0x2c5870(0x21d)](_0x2c5870(0x186),function(_0x5a3b01){var _0x37533d=_0x2c5870,_0x5ace39=_0x5a3b01[_0x37533d(0x19e)][_0x37533d(0x1c1)][0x0];if(!_0x5ace39)return removeImg(_0x139270);var _0x57781d=new FileReader();_0x57781d[_0x37533d(0x24f)]=function(_0xf6ed04){var _0x268997=_0x37533d;_0xad7817[_0x268997(0x249)]=_0x268997(0x22e)+_0xf6ed04[_0x268997(0x19e)][_0x268997(0x254)]+'\x22>';var _0xf7ac06=document['createElement']('span');_0xf7ac06[_0x268997(0x1a7)]=_0x268997(0x1c3),_0xf7ac06[_0x268997(0x20a)]='×',_0xf7ac06['addEventListener'](_0x268997(0x24e),function(_0x3a38a3){var _0x420c35=_0x268997;_0x3a38a3[_0x420c35(0x1b5)](),removeImg(_0x139270);}),_0xad7817[_0x268997(0x25b)](_0xf7ac06),currentImages[_0x139270]=_0x5ace39,baseItem[_0x268997(0x1db)]=currentImages[_0x268997(0x290)](function(_0x696204){return _0x696204;});},_0x57781d['readAsDataURL'](_0x5ace39);});}(i));}function addUnit(_0x5dca55,_0x31d967,_0x4d9580,_0x46f09f,_0x40b6b0,_0x192e0a,_0x3c265c){var _0x5b5b2d=_0x49d0fa,_0x4cd0d8=uniqueValuesArray(_0x5b5b2d(0x1fd),_0x5b5b2d(0x1fd),products);_0x5dca55=_0x5dca55||'',_0x31d967=_0x31d967||_0x4cd0d8[0x0]&&_0x4cd0d8[0x0]['setCode']||'',_0x4d9580=_0x4d9580!==undefined?_0x4d9580:0x1,_0x46f09f=!!_0x46f09f,_0x40b6b0=_0x40b6b0||'',_0x192e0a=_0x192e0a||'';var _0xa2dd25=unitCount++,_0x1cb68b=document[_0x5b5b2d(0x19f)](_0x5b5b2d(0x27f));_0x1cb68b[_0x5b5b2d(0x1ac)]['idx']=_0xa2dd25,_0x1cb68b['dataset'][_0x5b5b2d(0x24c)]=_0x46f09f,_0x1cb68b[_0x5b5b2d(0x249)]=_0x5b5b2d(0x234)+_0xa2dd25+'\x22\x20value=\x22'+_0x5dca55+_0x5b5b2d(0x223)+_0xa2dd25+_0x5b5b2d(0x182)+_0xa2dd25+'\x22\x20value=\x22'+_0x4d9580+'\x22\x20'+(_0x46f09f?_0x5b5b2d(0x207):'')+_0x5b5b2d(0x1de)+_0xa2dd25+_0x5b5b2d(0x224)+_0x40b6b0+_0x5b5b2d(0x20e)+_0xa2dd25+_0x5b5b2d(0x224)+_0x192e0a+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x46f09f?_0x5b5b2d(0x292):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0x1cb68b[_0x5b5b2d(0x197)](_0x5b5b2d(0x282)),_0x4cd0d8,_0x5b5b2d(0x226),_0x5b5b2d(0x1e5)),_0x1cb68b['querySelector'](_0x5b5b2d(0x282))['value']=_0x31d967,[_0x5b5b2d(0x1c5),'unitSelect',_0x5b5b2d(0x1ce),_0x5b5b2d(0x1a2),_0x5b5b2d(0x193)][_0x5b5b2d(0x1d6)](function(_0x15ac20){var _0xec2552=_0x5b5b2d;_0x1cb68b['querySelector']('.'+_0x15ac20)[_0xec2552(0x21d)](_0xec2552(0x1da),function(){var _0x50bd9a=_0x3c265c?+_0x3c265c['id']['split']('_')[0x1]:null;if(_0x3c265c)updateVariantUnits(_0x50bd9a);else updateUnitsArray();});}),_0x1cb68b[_0x5b5b2d(0x197)]('.removeUnit')[_0x5b5b2d(0x21d)](_0x5b5b2d(0x24e),function(){var _0x13751b=_0x5b5b2d;_0x1cb68b[_0x13751b(0x1c3)]();var _0x4d3773=_0x3c265c?+_0x3c265c['id'][_0x13751b(0x294)]('_')[0x1]:null;if(_0x3c265c)updateVariantUnits(_0x4d3773);else updateUnitsArray();});var _0x31dfda=_0x3c265c||document[_0x5b5b2d(0x1cb)](_0x5b5b2d(0x278));_0x31dfda[_0x5b5b2d(0x25b)](_0x1cb68b);}function containerIdx(_0x26d27e){var _0x161a23=_0x49d0fa;return+_0x26d27e['id'][_0x161a23(0x294)]('_')[0x1];}function updateUnitsArray(){var _0x2bb846=_0x49d0fa,_0x10b83e=[],_0x65360=Array[_0x2bb846(0x287)](document[_0x2bb846(0x288)]('#newItem_units_container\x20>\x20div')),_0x5f1106=_0x65360['find'](_0x547b3c=>_0x547b3c[_0x2bb846(0x1ac)][_0x2bb846(0x24c)]===_0x2bb846(0x1d8)),_0x1cc8aa=_0x5f1106?+_0x5f1106[_0x2bb846(0x197)](_0x2bb846(0x25c))[_0x2bb846(0x1f3)]:0x1;_0x65360[_0x2bb846(0x1d6)](function(_0x32d55c){var _0x68a8a=_0x2bb846,_0x396876=+_0x32d55c[_0x68a8a(0x197)](_0x68a8a(0x25c))[_0x68a8a(0x1f3)]||0x0,_0x1aa0f7=+_0x32d55c[_0x68a8a(0x197)]('.priceInput')[_0x68a8a(0x1f3)]||0x0,_0x6d1676=+_0x32d55c[_0x68a8a(0x197)](_0x68a8a(0x22d))[_0x68a8a(0x1f3)]||0x0;_0x10b83e['push']({'setAlias':_0x32d55c['querySelector']('.unitAlias')['value'][_0x68a8a(0x231)](),'setUnitCode':_0x32d55c[_0x68a8a(0x197)](_0x68a8a(0x282))['value'],'setEquivalence':_0x396876,'setFactor':_0x32d55c[_0x68a8a(0x1ac)][_0x68a8a(0x24c)]===_0x68a8a(0x1d8)?0x1:_0x396876==_0x1cc8aa?0x1:_0x396876<_0x1cc8aa?_0x1cc8aa/_0x396876:_0x396876/_0x1cc8aa,'setPrice':_0x1aa0f7,'setCost':_0x6d1676,'setDefault':_0x32d55c[_0x68a8a(0x1ac)]['default']===_0x68a8a(0x1d8)?0x1:0x0});}),baseItem[_0x2bb846(0x28e)]=_0x10b83e;}function updateBranches(){var _0x120b77=_0x49d0fa,_0x8efe60=[];document['querySelectorAll'](_0x120b77(0x1f0))[_0x120b77(0x1d6)](function(_0x5eed42){var _0x53120b=_0x120b77,_0x4165a2=_0x5eed42['querySelector']('.branchChk');if(_0x4165a2[_0x53120b(0x233)]){var _0x76bb7e=+_0x4165a2['dataset']['id'],_0x10ed09=+_0x5eed42['querySelector'](_0x53120b(0x1d0))[_0x53120b(0x1f3)],_0x2e5298=+_0x5eed42[_0x53120b(0x197)](_0x53120b(0x230))['value'];_0x8efe60[_0x53120b(0x1f2)]({'setWarehouseCode':_0x76bb7e,'setStockInitial':_0x10ed09,'setStockMinimum':_0x2e5298});}}),baseItem[_0x120b77(0x188)]=_0x8efe60;}document['getElementById'](_0x49d0fa(0x25a))[_0x49d0fa(0x21d)](_0x49d0fa(0x24e),function(){var _0x3efad7=_0x49d0fa,_0x4ea158=Date['now'](),_0x39dca8=document[_0x3efad7(0x19f)]('div');_0x39dca8[_0x3efad7(0x1ac)][_0x3efad7(0x1bb)]=_0x4ea158,_0x39dca8[_0x3efad7(0x249)]=_0x3efad7(0x218)+_0x4ea158+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x4ea158+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x3efad7(0x25b)](_0x39dca8),initProdSearch(_0x39dca8[_0x3efad7(0x197)]('.prod_input_container')),_0x39dca8[_0x3efad7(0x197)]('.removeProd')[_0x3efad7(0x21d)](_0x3efad7(0x24e),function(){var _0x509738=_0x3efad7;_0x39dca8[_0x509738(0x1c3)](),updateProdItems();}),_0x39dca8['querySelector'](_0x3efad7(0x1fe))['addEventListener'](_0x3efad7(0x1da),updateProdItems),document[_0x3efad7(0x1cb)](_0x3efad7(0x264))['classList'][_0x3efad7(0x241)](_0x3efad7(0x1d4),!![]),document[_0x3efad7(0x1cb)]('newItem_title_table_cp')[_0x3efad7(0x1d9)]['toggle'](_0x3efad7(0x1af),![]);});function initProdSearch(_0x49e4e0,_0x56146c){var _0x9ad74=_0x49d0fa,_0x21c480=_0x49e4e0[_0x9ad74(0x197)](_0x9ad74(0x1a4)),_0x5f26cf=_0x49e4e0['querySelector'](_0x9ad74(0x19c)),_0x2fc1e3=_0x56146c||null;if(_0x56146c)_0x21c480[_0x9ad74(0x1f3)]=_0x56146c[_0x9ad74(0x1a1)];_0x21c480[_0x9ad74(0x21d)](_0x9ad74(0x1da),function(){var _0x18fc9c=_0x9ad74,_0x162da1=_0x21c480['value'][_0x18fc9c(0x237)]()[_0x18fc9c(0x231)]();_0x5f26cf['innerHTML']='';if(!_0x162da1)return;products[_0x18fc9c(0x290)](_0x3c290a=>_0x3c290a[_0x18fc9c(0x275)][_0x18fc9c(0x237)]()['includes'](_0x162da1))[_0x18fc9c(0x28c)](0x0,0x14)['forEach'](function(_0x269d50){var _0x3bc976=_0x18fc9c,_0x325a1e=document[_0x3bc976(0x19f)](_0x3bc976(0x27f));_0x325a1e[_0x3bc976(0x20a)]=_0x269d50['setDescripcion'],_0x325a1e[_0x3bc976(0x1ac)]['id']=_0x269d50['id'],_0x325a1e[_0x3bc976(0x1ac)][_0x3bc976(0x1a1)]=_0x269d50[_0x3bc976(0x275)],_0x5f26cf[_0x3bc976(0x25b)](_0x325a1e),_0x325a1e[_0x3bc976(0x21d)](_0x3bc976(0x24e),function(){var _0x5ebea6=_0x3bc976;_0x2fc1e3={'id':_0x269d50['id'],'name':_0x269d50[_0x5ebea6(0x275)]},_0x21c480[_0x5ebea6(0x1f3)]=_0x269d50[_0x5ebea6(0x275)],_0x5f26cf[_0x5ebea6(0x249)]='';var _0x6b5f31=_0x49e4e0[_0x5ebea6(0x23c)]('[id$=\x22_comp_container\x22]');if(_0x6b5f31){var _0x5359b3=+_0x6b5f31['id'][_0x5ebea6(0x294)]('_')[0x1];updateVariantComponents(_0x5359b3);}else updateProdItems();});});}),_0x21c480[_0x9ad74(0x21d)](_0x9ad74(0x250),function(){var _0x419ca8=_0x9ad74;_0x5f26cf[_0x419ca8(0x1d9)][_0x419ca8(0x1c3)](_0x419ca8(0x1af));}),document[_0x9ad74(0x21d)](_0x9ad74(0x24e),function(_0x42f541){var _0x488e66=_0x9ad74;if(!_0x49e4e0[_0x488e66(0x28f)](_0x42f541['target']))_0x5f26cf['classList']['add']('newItem_hidden');}),Object['defineProperty'](_0x49e4e0,_0x9ad74(0x28b),{'get':()=>_0x2fc1e3});}function updateProdItems(){var _0x50b81d=_0x49d0fa,_0x3450d9=[];Array[_0x50b81d(0x287)](prodC[_0x50b81d(0x1dc)])[_0x50b81d(0x1d6)](function(_0x4d7814){var _0x9182e9=_0x50b81d,_0x5c9487=_0x4d7814['querySelector'](_0x9182e9(0x255));if(!_0x5c9487)return;var _0xa9d2bd=_0x4d7814['querySelector']('.prodQty'),_0x5c9d7d=_0x5c9487[_0x9182e9(0x28b)];_0x5c9d7d&&_0x3450d9['push']({'setItemId':_0x5c9d7d['id'],'setDescripcion':_0x5c9d7d[_0x9182e9(0x1a1)],'setCantidad':+_0xa9d2bd[_0x9182e9(0x1f3)]});}),baseItem[_0x50b81d(0x1ed)]=_0x3450d9,_0x3450d9[_0x50b81d(0x1a9)]===0x0&&(document[_0x50b81d(0x1cb)](_0x50b81d(0x264))[_0x50b81d(0x1d9)][_0x50b81d(0x241)]('newItem_title_table',![]),document[_0x50b81d(0x1cb)](_0x50b81d(0x264))[_0x50b81d(0x1d9)][_0x50b81d(0x241)](_0x50b81d(0x1af),!![]));}document[_0x49d0fa(0x1cb)](_0x49d0fa(0x1b4))[_0x49d0fa(0x21d)](_0x49d0fa(0x24e),function(){var _0x57cc26=_0x49d0fa,_0x549385=vgCount++,_0x5ec6d2=document[_0x57cc26(0x19f)](_0x57cc26(0x27f));_0x5ec6d2['dataset'][_0x57cc26(0x1bb)]=_0x549385,_0x5ec6d2[_0x57cc26(0x249)]=_0x57cc26(0x1b2)+_0x549385+'\x22>'+_0x57cc26(0x227)+_0x549385+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x57cc26(0x25b)](_0x5ec6d2),_0x5ec6d2[_0x57cc26(0x197)](_0x57cc26(0x222))[_0x57cc26(0x21d)]('blur',generateVariants),_0x5ec6d2['querySelector'](_0x57cc26(0x24a))[_0x57cc26(0x21d)](_0x57cc26(0x25f),generateVariants),_0x5ec6d2[_0x57cc26(0x197)](_0x57cc26(0x211))[_0x57cc26(0x21d)](_0x57cc26(0x24e),function(){var _0x3c92a9=_0x57cc26;_0x5ec6d2[_0x3c92a9(0x1c3)](),generateVariants();});});function generateVariants(){var _0x3d2955=_0x49d0fa,_0x5b6885=[];vgC[_0x3d2955(0x288)]('div')[_0x3d2955(0x1d6)](function(_0x32de83){var _0x115052=_0x3d2955,_0x422941=_0x32de83[_0x115052(0x197)]('.vgName')['value']['trim'](),_0x4030b3=_0x32de83[_0x115052(0x197)](_0x115052(0x24a))[_0x115052(0x1f3)][_0x115052(0x294)](',')['map'](_0x338f0c=>_0x338f0c['trim']())[_0x115052(0x290)](_0x24aa72=>_0x24aa72);if(_0x422941&&_0x4030b3[_0x115052(0x1a9)])_0x5b6885['push']({'name':_0x422941,'vals':_0x4030b3});});var _0xb1f5f7=[{}];_0x5b6885[_0x3d2955(0x1d6)](function(_0x58ff60){var _0x5bf429=_0x3d2955;_0xb1f5f7=_0xb1f5f7[_0x5bf429(0x1aa)](function(_0x24d951){return _0x58ff60['vals']['map'](function(_0x3c02e2){var _0x344532=_0x9e60,_0x2d0740=Object[_0x344532(0x229)]({},_0x24d951);return _0x2d0740[_0x58ff60[_0x344532(0x1a1)]]=_0x3c02e2,_0x2d0740;});});}),newItems=[],varContainer[_0x3d2955(0x249)]='',_0xb1f5f7[_0x3d2955(0x1d6)](function(_0x26eb3d,_0x53fb7d){var _0x2dc43d=_0x3d2955,_0x36cde4=JSON[_0x2dc43d(0x248)](JSON[_0x2dc43d(0x190)](baseItem));_0x36cde4['setItemVariantValues']=_0x26eb3d,_0x36cde4[_0x2dc43d(0x21c)]=baseItem[_0x2dc43d(0x1e4)]+'\x20'+Object[_0x2dc43d(0x252)](_0x26eb3d)[_0x2dc43d(0x259)](_0x511dd9=>_0x511dd9[0x0]+'\x20'+_0x511dd9[0x1])[_0x2dc43d(0x18b)]('\x20'),newItems[_0x2dc43d(0x1f2)](_0x36cde4);var _0x400fbd=document['createElement'](_0x2dc43d(0x27f));_0x400fbd[_0x2dc43d(0x1d9)][_0x2dc43d(0x246)](_0x2dc43d(0x225)),_0x400fbd[_0x2dc43d(0x1ac)]['idx']=_0x53fb7d,_0x400fbd[_0x2dc43d(0x249)]=_0x2dc43d(0x28a)+_0x36cde4[_0x2dc43d(0x21c)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x36cde4[_0x2dc43d(0x1b8)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x36cde4[_0x2dc43d(0x1c7)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x36cde4['setItemDateExpiry']+_0x2dc43d(0x1ae)+_0x53fb7d+_0x2dc43d(0x1d2)+_0x53fb7d+'_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_'+_0x53fb7d+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x2dc43d(0x25b)](_0x400fbd),_0x400fbd['querySelector'](_0x2dc43d(0x27e))['addEventListener'](_0x2dc43d(0x1da),_0x168f1f=>newItems[_0x53fb7d][_0x2dc43d(0x1b8)]=_0x168f1f[_0x2dc43d(0x19e)][_0x2dc43d(0x1f3)]),_0x400fbd[_0x2dc43d(0x197)](_0x2dc43d(0x217))['addEventListener'](_0x2dc43d(0x1da),_0x30199c=>newItems[_0x53fb7d][_0x2dc43d(0x1c7)]=_0x30199c[_0x2dc43d(0x19e)][_0x2dc43d(0x1f3)]),_0x400fbd[_0x2dc43d(0x197)](_0x2dc43d(0x239))['addEventListener'](_0x2dc43d(0x186),_0x539d4e=>newItems[_0x53fb7d][_0x2dc43d(0x1ad)]=_0x539d4e[_0x2dc43d(0x19e)][_0x2dc43d(0x1f3)]),initVariantUnits(_0x53fb7d),initVariantComponents(_0x53fb7d),initVariantBranches(_0x53fb7d),_0x400fbd[_0x2dc43d(0x197)](_0x2dc43d(0x295))[_0x2dc43d(0x21d)]('click',function(){var _0x432c47=_0x2dc43d,_0x17a7a1=+_0x400fbd[_0x432c47(0x1ac)]['idx'];newItems[_0x432c47(0x289)](_0x17a7a1,0x1),_0x400fbd[_0x432c47(0x1c3)](),document[_0x432c47(0x288)](_0x432c47(0x243))[_0x432c47(0x1d6)](function(_0x5de7f8,_0x265ba7){_0x5de7f8['dataset']['idx']=_0x265ba7;});});});if(newItems[_0x3d2955(0x1a9)]===0x0)newItems=[baseItem];}function clearAllVariants(){var _0x9bd67a=_0x49d0fa;vgC['innerHTML']='',varContainer[_0x9bd67a(0x249)]='',vgCount=0x0,newItems=[baseItem];}function updateVariantUnits(_0x4e4560){var _0x67a710=_0x49d0fa,_0x4fb0cb=document['getElementById'](_0x67a710(0x183)+_0x4e4560+'_units_container'),_0x30dba8=[];Array[_0x67a710(0x287)](_0x4fb0cb[_0x67a710(0x1dc)])['forEach'](function(_0x40e9f9){var _0x6dee06=_0x67a710,_0x5c412e=+_0x40e9f9[_0x6dee06(0x197)](_0x6dee06(0x25c))[_0x6dee06(0x1f3)]||0x0,_0x5db5a4=_0x40e9f9[_0x6dee06(0x197)]('.unitAlias')['value'][_0x6dee06(0x231)](),_0x2d2100=_0x40e9f9[_0x6dee06(0x197)]('.unitSelect')[_0x6dee06(0x1f3)],_0xde664e=+_0x40e9f9[_0x6dee06(0x197)]('.priceInput')[_0x6dee06(0x1f3)]||0x0,_0x517418=+_0x40e9f9[_0x6dee06(0x197)](_0x6dee06(0x22d))[_0x6dee06(0x1f3)]||0x0,_0x1ca094=_0x40e9f9[_0x6dee06(0x1ac)][_0x6dee06(0x24c)]==='true',_0x1f27c4=+_0x4fb0cb[_0x6dee06(0x197)](_0x6dee06(0x1f8))[_0x6dee06(0x1f3)]||0x1,_0x134add=_0x1ca094?0x1:_0x5c412e==_0x1f27c4?0x1:_0x5c412e<_0x1f27c4?_0x1f27c4/_0x5c412e:_0x5c412e/_0x1f27c4;_0x30dba8['push']({'setAlias':_0x5db5a4,'setUnitCode':_0x2d2100,'setEquivalence':_0x5c412e,'setFactor':_0x134add,'setPrice':_0xde664e,'setCost':_0x517418,'setDefault':_0x1ca094?0x1:0x0});}),newItems[_0x4e4560][_0x67a710(0x28e)]=_0x30dba8;}function initVariantUnits(_0x233b18){var _0x4ab963=_0x49d0fa,_0x1f1cc9=document[_0x4ab963(0x1cb)](_0x4ab963(0x183)+_0x233b18+_0x4ab963(0x269));_0x1f1cc9[_0x4ab963(0x249)]='',newItems[_0x233b18][_0x4ab963(0x28e)]['forEach'](function(_0x4f69f2){var _0x3062bd=_0x4ab963;addUnit(_0x4f69f2[_0x3062bd(0x1b7)],_0x4f69f2['setUnitCode'],_0x4f69f2[_0x3062bd(0x204)],_0x4f69f2[_0x3062bd(0x18d)],_0x4f69f2[_0x3062bd(0x210)],_0x4f69f2[_0x3062bd(0x1bf)],_0x1f1cc9);}),_0x1f1cc9[_0x4ab963(0x1b1)][_0x4ab963(0x197)](_0x4ab963(0x265))[_0x4ab963(0x21d)](_0x4ab963(0x24e),function(){addUnit('','',0x1,![],'','',_0x1f1cc9),updateVariantUnits(_0x233b18);});}function updateVariantUnits(_0x557ebb){var _0x471a12=_0x49d0fa,_0x122208=document[_0x471a12(0x1cb)](_0x471a12(0x183)+_0x557ebb+_0x471a12(0x269)),_0x42ae90=_0x122208[_0x471a12(0x197)](_0x471a12(0x1f8)),_0x34c97c=_0x42ae90?+_0x42ae90[_0x471a12(0x1f3)]:0x1,_0x4d5d16=Array[_0x471a12(0x287)](_0x122208[_0x471a12(0x1dc)])[_0x471a12(0x259)](function(_0xbf6664){var _0x709fb9=_0x471a12,_0x45cb12=_0xbf6664['querySelector'](_0x709fb9(0x1e2))[_0x709fb9(0x1f3)][_0x709fb9(0x231)](),_0x3e4f63=_0xbf6664[_0x709fb9(0x197)](_0x709fb9(0x282))[_0x709fb9(0x1f3)],_0x197551=+_0xbf6664['querySelector'](_0x709fb9(0x25c))[_0x709fb9(0x1f3)]||0x0,_0x5963ee=+_0xbf6664[_0x709fb9(0x197)](_0x709fb9(0x1d7))['value']||0x0,_0x2398e0=+_0xbf6664[_0x709fb9(0x197)](_0x709fb9(0x22d))[_0x709fb9(0x1f3)]||0x0,_0x2dfc2b=_0xbf6664[_0x709fb9(0x1ac)][_0x709fb9(0x24c)]==='true';return{'setAlias':_0x45cb12,'setUnitCode':_0x3e4f63,'setEquivalence':_0x197551,'setFactor':_0x2dfc2b?0x1:_0x197551==_0x34c97c?0x1:_0x197551<_0x34c97c?_0x34c97c/_0x197551:_0x197551/_0x34c97c,'setPrice':_0x5963ee,'setCost':_0x2398e0,'setDefault':_0x2dfc2b?0x1:0x0};});newItems[_0x557ebb][_0x471a12(0x28e)]=_0x4d5d16;}function initVariantComponents(_0x35d439){var _0x2488d2=_0x49d0fa,_0x2abc95=document[_0x2488d2(0x1cb)](_0x2488d2(0x183)+_0x35d439+'_comp_container');_0x2abc95['innerHTML']='',newItems[_0x35d439][_0x2488d2(0x1ed)][_0x2488d2(0x1d6)](function(_0x475898){var _0x3bd0c7=_0x2488d2,_0x216931=document[_0x3bd0c7(0x19f)](_0x3bd0c7(0x27f)),_0xd70803=Date['now']();_0x216931[_0x3bd0c7(0x1ac)][_0x3bd0c7(0x1bb)]=_0xd70803,_0x216931[_0x3bd0c7(0x249)]=_0x3bd0c7(0x1c9)+_0xd70803+_0x3bd0c7(0x286)+_0x475898[_0x3bd0c7(0x271)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x2abc95['appendChild'](_0x216931),initProdSearch(_0x216931[_0x3bd0c7(0x197)](_0x3bd0c7(0x255)),{'id':_0x475898[_0x3bd0c7(0x23b)],'name':_0x475898[_0x3bd0c7(0x275)]}),_0x216931[_0x3bd0c7(0x197)](_0x3bd0c7(0x1fe))[_0x3bd0c7(0x21d)](_0x3bd0c7(0x1da),function(){updateVariantComponents(_0x35d439);}),_0x216931[_0x3bd0c7(0x197)](_0x3bd0c7(0x22c))[_0x3bd0c7(0x21d)]('click',function(){var _0x2f98c2=_0x3bd0c7;_0x216931[_0x2f98c2(0x1c3)](),updateVariantComponents(_0x35d439);});}),_0x2abc95[_0x2488d2(0x1b1)][_0x2488d2(0x197)](_0x2488d2(0x260))[_0x2488d2(0x21d)]('click',function(){var _0xdbf718=_0x2488d2,_0x507ffb=document[_0xdbf718(0x19f)]('div'),_0xbb6775=Date[_0xdbf718(0x184)]();_0x507ffb['dataset']['idx']=_0xbb6775,_0x507ffb[_0xdbf718(0x249)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0xbb6775+_0xdbf718(0x242),_0x2abc95[_0xdbf718(0x25b)](_0x507ffb),initProdSearch(_0x507ffb['querySelector'](_0xdbf718(0x255))),_0x507ffb['querySelector'](_0xdbf718(0x1fe))[_0xdbf718(0x21d)](_0xdbf718(0x1da),function(){updateVariantComponents(_0x35d439);}),_0x507ffb[_0xdbf718(0x197)](_0xdbf718(0x22c))[_0xdbf718(0x21d)](_0xdbf718(0x24e),function(){var _0x23bda1=_0xdbf718;_0x507ffb[_0x23bda1(0x1c3)](),updateVariantComponents(_0x35d439);});});}function updateVariantComponents(_0x57b9b8){var _0x1f67a4=_0x49d0fa,_0x3104a8=document[_0x1f67a4(0x1cb)](_0x1f67a4(0x183)+_0x57b9b8+_0x1f67a4(0x19a)),_0x5454a0=Array[_0x1f67a4(0x287)](_0x3104a8[_0x1f67a4(0x1dc)])['map'](function(_0x44cf15){var _0x4ff29d=_0x1f67a4,_0x4fc9b8=_0x44cf15[_0x4ff29d(0x197)](_0x4ff29d(0x255)),_0x4c69ab=_0x4fc9b8[_0x4ff29d(0x28b)],_0x3a20ac=+_0x44cf15['querySelector'](_0x4ff29d(0x1fe))[_0x4ff29d(0x1f3)]||0x0;return _0x4c69ab?{'setItemId':_0x4c69ab['id'],'setDescripcion':_0x4c69ab[_0x4ff29d(0x1a1)],'setCantidad':_0x3a20ac}:null;})[_0x1f67a4(0x290)](_0x1a0588=>_0x1a0588);newItems[_0x57b9b8][_0x1f67a4(0x1ed)]=_0x5454a0;}function _0x9e60(_0x46959d,_0x2fd22f){var _0x44db97=_0x224e();return _0x9e60=function(_0x52100d,_0x4be113){_0x52100d=_0x52100d-0x181;var _0x532ca8=_0x44db97[_0x52100d];return _0x532ca8;},_0x9e60(_0x46959d,_0x2fd22f);}function initVariantBranches(_0x3c8130){var _0x1088f7=_0x49d0fa;const _0x42d683=getAllWarehouses();var _0x3e18ac=document[_0x1088f7(0x1cb)](_0x1088f7(0x183)+_0x3c8130+_0x1088f7(0x1ab));_0x3e18ac[_0x1088f7(0x249)]='',newItems[_0x3c8130][_0x1088f7(0x188)][_0x1088f7(0x1d6)](function(_0x41711f){var _0x32aa49=_0x1088f7,_0x201a4f=_0x42d683['find'](_0x3ea4e2=>_0x3ea4e2[_0x32aa49(0x1b9)]==_0x41711f['setWarehouseCode']),_0x143cf2=document[_0x32aa49(0x19f)](_0x32aa49(0x27f));_0x143cf2[_0x32aa49(0x249)]=_0x32aa49(0x26a)+_0x41711f['setWarehouseCode']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x201a4f[_0x32aa49(0x23a)]+_0x32aa49(0x24b)+_0x41711f['setWarehouseCode']+_0x32aa49(0x224)+_0x41711f[_0x32aa49(0x261)]+_0x32aa49(0x22b)+_0x41711f[_0x32aa49(0x235)]+_0x32aa49(0x224)+_0x41711f[_0x32aa49(0x191)]+'\x22>',_0x3e18ac[_0x32aa49(0x25b)](_0x143cf2),_0x143cf2[_0x32aa49(0x288)]('input')[_0x32aa49(0x1d6)](function(_0x4a68f2){var _0x2f580e=_0x32aa49;_0x4a68f2[_0x2f580e(0x21d)]('input',function(){updateVariantBranches(_0x3c8130);});});}),_0x42d683['forEach'](function(_0x615b98){var _0x26d202=_0x1088f7;if(!newItems[_0x3c8130][_0x26d202(0x188)][_0x26d202(0x1d3)](_0x3222ae=>_0x3222ae['setWarehouseCode']===_0x615b98[_0x26d202(0x1b9)])){var _0x9262a5=document[_0x26d202(0x19f)](_0x26d202(0x27f));_0x9262a5[_0x26d202(0x249)]=_0x26d202(0x26a)+_0x615b98[_0x26d202(0x1b9)]+_0x26d202(0x18f)+_0x615b98['setWarehouseName']+_0x26d202(0x24b)+_0x615b98[_0x26d202(0x1b9)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x615b98['setWarehouseId']+'\x22>',_0x3e18ac['appendChild'](_0x9262a5),_0x9262a5['querySelectorAll']('input')[_0x26d202(0x1d6)](function(_0xa432c7){var _0x525a12=_0x26d202;_0xa432c7[_0x525a12(0x21d)]('input',function(){updateVariantBranches(_0x3c8130);});});}});}function updateVariantBranches(_0x3f3e2c){var _0x1789fb=_0x49d0fa,_0x16629e=document[_0x1789fb(0x1cb)]('variant_'+_0x3f3e2c+_0x1789fb(0x1ab)),_0x25cdc8=[];_0x16629e[_0x1789fb(0x288)]('div')[_0x1789fb(0x1d6)](function(_0x18353b){var _0x476d77=_0x1789fb,_0x40abe9=_0x18353b[_0x476d77(0x197)]('.branchChk');if(_0x40abe9[_0x476d77(0x233)]){var _0x4b041c=+_0x40abe9['dataset']['id'],_0xbbd7cf=+_0x18353b[_0x476d77(0x197)](_0x476d77(0x1d0))[_0x476d77(0x1f3)]||0x0,_0x5e53b2=+_0x18353b['querySelector'](_0x476d77(0x230))['value']||0x0;_0x25cdc8[_0x476d77(0x1f2)]({'setWarehouseCode':_0x4b041c,'setStockInitial':_0xbbd7cf,'setStockMinimum':_0x5e53b2});}}),newItems[_0x3f3e2c][_0x1789fb(0x188)]=_0x25cdc8;}async function storeOfflineProduct(_0x38e97f){var _0x1a6858=_0x49d0fa;try{const _0x517482=await createCartStore(''),_0x22d5ba=_0x517482['transaction']('offline_operations',_0x1a6858(0x20c)),_0x4f9918=_0x22d5ba[_0x1a6858(0x213)]('offline_operations');_0x4f9918[_0x1a6858(0x246)](_0x38e97f),_0x22d5ba[_0x1a6858(0x18a)]=()=>{var _0x58615d=_0x1a6858;console[_0x58615d(0x1fa)](_0x58615d(0x1a8));},_0x22d5ba[_0x1a6858(0x270)]=_0x409873=>{var _0x79600e=_0x1a6858;console['error'](_0x79600e(0x202),_0x409873[_0x79600e(0x19e)][_0x79600e(0x181)]);};}catch(_0x4db5c7){console[_0x1a6858(0x181)](_0x1a6858(0x299),_0x4db5c7);}}document[_0x49d0fa(0x1cb)](_0x49d0fa(0x272))['addEventListener'](_0x49d0fa(0x24e),async function(_0x121653){var _0x33c1da=_0x49d0fa;_0x121653[_0x33c1da(0x196)]();const _0x38b8ac=document[_0x33c1da(0x1cb)](_0x33c1da(0x18e)),_0x22b8f7=document[_0x33c1da(0x1cb)](_0x33c1da(0x1a5))[_0x33c1da(0x1f3)];if(!_0x38b8ac[_0x33c1da(0x1f3)]['trim']()&&_0x22b8f7==0x0){ntfShow(_0x33c1da(0x21a),0x2,0x1);return;}const _0xd0f02d=document[_0x33c1da(0x1cb)]('inputItemName');if(!_0xd0f02d[_0x33c1da(0x1f3)][_0x33c1da(0x231)]()){ntfShow(_0x33c1da(0x1cc),0x2,0x1);return;}hideModalCreateItem(),showLoadingModal();newItems[_0x33c1da(0x1a9)]===0x0&&(newItems=[baseItem]);const _0x2e6404=document['getElementById'](_0x33c1da(0x232))[_0x33c1da(0x1f3)],_0x36d7a7=window_options[_0x2e6404][_0x33c1da(0x1ea)];let _0xa10145=generateNumericUniqId()*0x64+0x1f4,_0x3536bc=generateNumericUniqId()*0xa;const _0x5b19e9=[];newItems[_0x33c1da(0x1d6)](_0x5d3ebe=>{var _0x1d6b6f=_0x33c1da;const _0x240799=++_0x3536bc;_0x5d3ebe[_0x1d6b6f(0x28e)][_0x1d6b6f(0x1d6)](_0x1ed410=>{var _0x28c807=_0x1d6b6f;const _0x33151b=++_0xa10145;_0x1ed410['setUnitPresentationId']=_0x33151b;const _0x21c798={'id':_0x33151b,'setIdProducto':_0x240799,'setCodProducto':_0x5d3ebe[_0x28c807(0x1b8)],'setDescripcion':_0x5d3ebe['setItemVariantName']!=''?_0x5d3ebe[_0x28c807(0x21c)]:_0x5d3ebe[_0x28c807(0x1e4)],'setItemDescription':_0x5d3ebe[_0x28c807(0x247)],'setBatchExpirationDate':_0x5d3ebe[_0x28c807(0x1ad)],'setBatchName':'','setCategoria':_0x5d3ebe[_0x28c807(0x291)][0x0]||'','setMarca':_0x5d3ebe[_0x28c807(0x296)][0x0]||'','setConversionFactor':parseFloat(_0x1ed410[_0x28c807(0x1f6)]),'setImages':[],'setImg':_0x28c807(0x206),'setInventariable':0x1,'setItemIsBought':_0x5d3ebe[_0x28c807(0x263)]?0x1:0x0,'setItemIsSold':_0x5d3ebe[_0x28c807(0x23d)]?0x1:0x0,'setPorcentajeIgv':_0x5d3ebe[_0x28c807(0x1bd)],'setPrinters':[],'setTaxId':_0x5d3ebe['setItemTaxId'],'setTipAfeIgv':_0x5d3ebe[_0x28c807(0x1b6)],'setUnidad':_0x1ed410[_0x28c807(0x201)],'setUnidadCodigo':_0x1ed410[_0x28c807(0x201)],'currency_data':[{'currency':_0x36d7a7,'setMtoPrecioCostoUnitario':_0x1ed410[_0x28c807(0x1bf)],'setMtoPrecioUnitario':_0x1ed410[_0x28c807(0x210)],'setPriceLists':[]}],'sucursales':_0x5d3ebe[_0x28c807(0x188)][_0x28c807(0x259)](_0x3beccd=>({'setIdSucursal':_0x3beccd[_0x28c807(0x235)],'setSucursalStock':_0x3beccd[_0x28c807(0x261)][_0x28c807(0x1c2)](),'setWarehouseStockMin':_0x3beccd['setStockMinimum'][_0x28c807(0x1c2)]()})),'setItemFree':_0x5d3ebe[_0x28c807(0x1a5)],'setItemBarCode':_0x5d3ebe['setItemBarCode'],'setItemBrands':_0x5d3ebe[_0x28c807(0x296)][_0x28c807(0x28c)](),'setItemCategories':_0x5d3ebe[_0x28c807(0x291)][_0x28c807(0x28c)](),'setItemComponents':_0x5d3ebe['setItemComponents'][_0x28c807(0x259)](_0x192eb4=>({..._0x192eb4})),'setItemImages':_0x5d3ebe['setItemImages'][_0x28c807(0x28c)](),'setItemVariantName':_0x5d3ebe[_0x28c807(0x21c)],'setItemVariantValues':{..._0x5d3ebe[_0x28c807(0x1c8)]}};_0x5b19e9['push'](_0x21c798),addToCart(_0x21c798);});}),console[_0x33c1da(0x1fa)](_0x33c1da(0x208),newItems),await finalizeImport(_0x5b19e9,newItems,![]);}),[_0x49d0fa(0x212),_0x49d0fa(0x1f5)][_0x49d0fa(0x1d6)](_0x2c1502=>dropZone[_0x49d0fa(0x21d)](_0x2c1502,_0x1432a2=>{var _0x313864=_0x49d0fa;_0x1432a2[_0x313864(0x196)](),dropZone[_0x313864(0x1d9)][_0x313864(0x246)](_0x313864(0x1f5));})),['dragleave',_0x49d0fa(0x266)][_0x49d0fa(0x1d6)](_0x48aa8f=>dropZone['addEventListener'](_0x48aa8f,_0x3f2d44=>{var _0x519460=_0x49d0fa;_0x3f2d44[_0x519460(0x196)](),dropZone[_0x519460(0x1d9)][_0x519460(0x1c3)]('dragover');})),dropZone['addEventListener'](_0x49d0fa(0x266),_0x3180d0=>{var _0x20a297=_0x49d0fa;const _0x1b9737=_0x3180d0[_0x20a297(0x280)][_0x20a297(0x1c1)][0x0];if(!_0x1b9737)return;fileInput[_0x20a297(0x1c1)]=_0x3180d0[_0x20a297(0x280)]['files'],dropZone['querySelector'](_0x20a297(0x283))['textContent']=_0x1b9737[_0x20a297(0x1a1)],removeBtn['hidden']=![],fileInput['dispatchEvent'](new Event('change'));}),removeBtn[_0x49d0fa(0x21d)](_0x49d0fa(0x24e),()=>{var _0x11b608=_0x49d0fa;fileInput['value']='',dropZone[_0x11b608(0x197)](_0x11b608(0x283))['textContent']='Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar',removeBtn[_0x11b608(0x26e)]=!![],progressBar[_0x11b608(0x209)][_0x11b608(0x23f)]=_0x11b608(0x273),statusDiv['textContent']='',uploadBtn['disabled']=!![];}),itemWorker[_0x49d0fa(0x1f7)]=({data:_0x594e9a})=>{var _0x1c4820=_0x49d0fa;const {type:_0x5c8dc1,payload:_0x52e71b}=_0x594e9a;_0x5c8dc1===_0x1c4820(0x293)&&(progressBar[_0x1c4820(0x209)][_0x1c4820(0x23f)]=_0x1c4820(0x1a6),progressBar[_0x1c4820(0x1f3)]=_0x52e71b[_0x1c4820(0x200)],statusDiv[_0x1c4820(0x20a)]=_0x52e71b[_0x1c4820(0x1fc)]),_0x5c8dc1===_0x1c4820(0x1cf)&&(newItemsExcel=_0x52e71b[_0x1c4820(0x27c)],statusDiv[_0x1c4820(0x20a)]='✅\x20'+newItemsExcel['length']+'\x20items\x20procesados.',uploadBtn[_0x1c4820(0x207)]=![],progressBar['value']=0x64,console[_0x1c4820(0x1fa)](newItemsExcel)),_0x5c8dc1===_0x1c4820(0x181)&&(statusDiv['textContent']=_0x1c4820(0x236)+_0x52e71b,progressBar['style']['display']=_0x1c4820(0x273));},fileInput['addEventListener'](_0x49d0fa(0x186),async _0x17e22f=>{var _0x4e28f5=_0x49d0fa;const _0x55cd21=_0x17e22f[_0x4e28f5(0x19e)][_0x4e28f5(0x1c1)][0x0];if(!_0x55cd21)return;uploadBtn[_0x4e28f5(0x207)]=!![],newItemsExcel=null,statusDiv['textContent']='',progressBar['style']['display']='none',dropZone[_0x4e28f5(0x197)](_0x4e28f5(0x283))['textContent']=_0x55cd21[_0x4e28f5(0x1a1)],removeBtn[_0x4e28f5(0x26e)]=![];try{const _0x3cca32=await _0x55cd21[_0x4e28f5(0x1e0)]();itemWorker[_0x4e28f5(0x1ec)]({'buf':_0x3cca32,'maxRows':0x1388});}catch(_0x432423){statusDiv[_0x4e28f5(0x20a)]=_0x4e28f5(0x21f);}finally{fileInput['value']='';}}),uploadBtn[_0x49d0fa(0x21d)]('click',async()=>{var _0x5b3a41=_0x49d0fa;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x469612=document[_0x5b3a41(0x1cb)](_0x5b3a41(0x232))['value'],_0x179950=window_options[_0x469612]['setMoneda'],_0x2a0564=document['getElementById']('setWarehouseId')[_0x5b3a41(0x1f3)];let _0x54589d=generateNumericUniqId()*0x64+0x1f4,_0x3e612a=generateNumericUniqId()*0xa;const _0xc50a32=[];newItemsExcel[_0x5b3a41(0x1d6)](_0x11c883=>{var _0x5106a4=_0x5b3a41;const _0x23f9bf=++_0x3e612a;_0x11c883[_0x5106a4(0x188)]=[{'setStockInitial':_0x11c883[_0x5106a4(0x261)],'setStockMinimum':_0x11c883['setStockMinimum'],'setWarehouseCode':_0x2a0564}],_0x11c883[_0x5106a4(0x28e)]['forEach'](_0x3cc6e3=>{var _0x20f356=_0x5106a4;const _0x18ce93=++_0x54589d;_0x3cc6e3['setUnitPresentationId']=_0x18ce93;const _0x1603e8={'id':_0x18ce93,'setIdProducto':_0x23f9bf,'setCodProducto':_0x11c883[_0x20f356(0x1b8)],'setDescripcion':_0x11c883[_0x20f356(0x21c)]||_0x11c883[_0x20f356(0x1e4)],'setItemDescription':_0x11c883['setItemDescription'],'setBatchExpirationDate':_0x11c883[_0x20f356(0x1ad)],'setBatchName':'','setCategoria':_0x11c883['setItemCategories'][0x0]||'','setMarca':_0x11c883[_0x20f356(0x296)][0x0]||'','setConversionFactor':parseFloat(_0x3cc6e3[_0x20f356(0x1f6)]),'setImages':[],'setImg':_0x20f356(0x206),'setInventariable':_0x11c883['setItemInventoriable']?0x1:0x0,'setItemIsBought':_0x11c883[_0x20f356(0x263)]?0x1:0x0,'setItemIsSold':_0x11c883[_0x20f356(0x23d)]?0x1:0x0,'setPorcentajeIgv':_0x11c883[_0x20f356(0x1bd)],'setPrinters':[],'setTaxId':_0x11c883[_0x20f356(0x21b)],'setTipAfeIgv':_0x11c883[_0x20f356(0x1b6)],'setUnidad':_0x3cc6e3[_0x20f356(0x201)],'setUnidadCodigo':_0x3cc6e3['setUnitCode'],'currency_data':[{'currency':_0x179950,'setMtoPrecioCostoUnitario':_0x3cc6e3[_0x20f356(0x1bf)],'setMtoPrecioUnitario':_0x3cc6e3[_0x20f356(0x210)],'setPriceLists':[]}],'sucursales':_0x11c883[_0x20f356(0x188)][_0x20f356(0x259)](_0x240370=>({'setIdSucursal':_0x240370[_0x20f356(0x235)],'setSucursalStock':_0x240370[_0x20f356(0x261)][_0x20f356(0x1c2)](),'setWarehouseStockMin':_0x240370[_0x20f356(0x191)][_0x20f356(0x1c2)]()})),'setItemFree':_0x11c883[_0x20f356(0x1a5)],'setItemBarCode':_0x11c883[_0x20f356(0x1c7)],'setItemBrands':_0x11c883['setItemBrands'][_0x20f356(0x28c)](),'setItemCategories':_0x11c883['setItemCategories'][_0x20f356(0x28c)](),'setItemComponents':_0x11c883[_0x20f356(0x1ed)][_0x20f356(0x259)](_0x568106=>({..._0x568106})),'setItemImages':_0x11c883[_0x20f356(0x1db)][_0x20f356(0x28c)](),'setItemVariantName':_0x11c883['setItemVariantName'],'setItemVariantValues':{..._0x11c883['setItemVariantValues']}};_0xc50a32['push'](_0x1603e8);});}),console[_0x5b3a41(0x1fa)](_0x5b3a41(0x208),newItems),await finalizeImport(_0xc50a32,newItemsExcel,!![]);});async function finalizeImport(_0x3d514e,_0x340a85,_0x1c35a8=![]){var _0x362d4f=_0x49d0fa;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x362d4f(0x1e6),'setToken':company[0x0][_0x362d4f(0x20b)],'setWebhook':company[0x0][_0x362d4f(0x25d)],'newItems':_0x340a85}),products['push'](..._0x3d514e),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x362d4f(0x240)),_0x1c35a8?(fileInput[_0x362d4f(0x1f3)]='',uploadBtn['disabled']=!![],statusDiv['textContent']='',progressBar[_0x362d4f(0x209)][_0x362d4f(0x23f)]=_0x362d4f(0x273),progressBar['value']=0x0):(document[_0x362d4f(0x1cb)](_0x362d4f(0x18e))[_0x362d4f(0x1f3)]='',document[_0x362d4f(0x1cb)](_0x362d4f(0x258))[_0x362d4f(0x1f3)]='',document[_0x362d4f(0x1cb)](_0x362d4f(0x274))['value']='',document['getElementById'](_0x362d4f(0x19d))[_0x362d4f(0x1f3)]='',clearAllVariants()),renderProducts(),processOfflineOperations();}