/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.2
*/

const _0x460ba4=_0x59d5;(function(_0x2624eb,_0x56cdcb){const _0x3c56e7=_0x59d5,_0x550742=_0x2624eb();while(!![]){try{const _0x27a3df=-parseInt(_0x3c56e7(0x19a))/0x1*(-parseInt(_0x3c56e7(0x1e5))/0x2)+parseInt(_0x3c56e7(0x1ea))/0x3+parseInt(_0x3c56e7(0x200))/0x4+-parseInt(_0x3c56e7(0x131))/0x5+parseInt(_0x3c56e7(0x141))/0x6+-parseInt(_0x3c56e7(0x134))/0x7*(parseInt(_0x3c56e7(0x197))/0x8)+-parseInt(_0x3c56e7(0x1a5))/0x9*(-parseInt(_0x3c56e7(0x14a))/0xa);if(_0x27a3df===_0x56cdcb)break;else _0x550742['push'](_0x550742['shift']());}catch(_0x2337b7){_0x550742['push'](_0x550742['shift']());}}}(_0x2391,0xc60b9));function _0x2391(){const _0x556464=['document','exportDone','YOUR_EMAIL_AUTH_TOKEN','Selecciona\x20ambas\x20fechas','querySelector','400px','filter-start','.btn-logout','style','#pagination-income','length','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setOperationDetailUnitPresentationId','preventDefault','\x0a</td>\x0a<td></td>\x0a','target','scrollLeft','return\x20(function()\x20','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','modalOverlayViewDetails','cantidad','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','filter','setTipoComprobante','setOperationPaymentStatusName','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','https://fasyb.com/api/pdf/proxy/?file=','dynamicContent','day','YOUR_WA_CRED_ID','setCustomerId','</td>\x0a<td>','Error\x20al\x20cargar\x20el\x20detalle.','category','then','#00AEEF','concat','\x0a<td\x20class=\x22td-bg-none\x22>','values','100%','date-range-label-icon','padStart','https://fasyb.com/api/venta/view/?id=','axis','Error\x20al\x20enviar\x20por\x20WhatsApp.','whatsapp','setOption','</td>\x0a</tr>','console','log','sort','11602208lrdUpY','Error\x20al\x20solicitar\x20reporte','./js/apierp_export_wk.min.js','5zHbGEK','getAttribute','week','mousedown','setOperationDateTime','customerName','offsetLeft','pie','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','block','setOperationDetailUnitCost','198yisoAG','.xlsx','forEach','currency','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','&tipo=','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','getFullYear','onload','products','data-value','btn-outline','setCustomers','Reporte\x20','href','bar','Sin\x20descripción','closeModalViewDetails','hide','#080060','ID_SERIE','detalleTablaBody','className','shadow','entries','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','middle','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','btn-outline-primary','Ventas','setOperationSeries','setOperationItems','search','label','value','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','download','push','getElementById','Costo','customers','error','profit','500px','PLE_Ventas','contains','appendChild','flatMap','toString','setOperationPaymentStatusColor','split','sales','exception','getHours','application/json;\x20charset=utf-8','setTipoOperacionName','isArray','result','{}.constructor(\x22return\x20this\x22)(\x20)','dataset_raw','Contenedor\x20','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','display','Ganancia','29130YrovEv','Error\x20WA:','email','setDate','\x20tbody','1896543zUJMKb','PASSWORD123','setOperationId','filterModal','reduce','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','width','tagName','date-range-label','remove','setOperationCustomerId','\x20-\x20','getMonth','find','pageX','both','Invalid\x20range\x20type','getSeconds','51954738620','\x0a<tr>\x0a<td>','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','Ventas\x20por\x20Producto','18312tUeQGT','classList','setOperationDetailTotal','innerHTML','createElement','warn','postMessage','cost','Total','getDate','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','Error\x20','#reporte-income-customers','toISOString','{b}:\x20{d}%','pdf','height','getDay','valueDesc','setOperationTotal','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setTipoOperaciones','./img/apiPOS.png','name','divChartItem','success','\x20no\x20existe','data','Evolución\x20de\x20Ventas','recibo','Error\x20al\x20aplicar\x20filtro','querySelectorAll','setAuthToken','setBranchDefault','change','\x22\x20no\x20existe.','setOperationCurrency','status','setOperationCustomerName','add','total','#reporte-income','setOperationPaymentStatus','\x22>\x0a','divChartCustomer','setOperationType','map','round','\x0a<iframe\x20src=\x22','dataset_','filter-end','table','slice','pedido','mousemove','Mi\x20Empresa','POST','assign','year','Pagado','top','factura','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','btn\x20btn-sm\x20','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','#00bb2d','(((.+)+)+)+$','btn\x20btn-sm\x20btn-outline\x20me-2','bottom','Export\x20WK\x20Error:','\x0a</td>\x0a','1691015EwxJYL','pdf_url','setCustomerName','7xWxqTb','setSerie','.table-wrapper','line','onerror','setOperationTypeSpan','exportReport','json','createObjectURL','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','prototype','No\x20se\x20encontró\x20información\x20de\x20ingresos','info','3810588TbnuXb','productName','click','#FF5900','onclick','fechaISO','apply-filter','active','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','570450ZcXFFb','init','incomes','setSeries','toFixed','setBranchId','center','addEventListener','stringify','getMinutes','setOperationDetailQuantity','smtp.miempresa.com','revokeObjectURL','none','detalleModal','readAsDataURL','Modo\x20de\x20exportación\x20desconocido:','setWarehouseId','</td>\x0a','statusText','catch','\x2000:00:00','bind','luispurizaca.1908@gmail.com','divChartIncome','ceil'];_0x2391=function(){return _0x556464;};return _0x2391();}const _0xd41df2=(function(){let _0x51b2c4=!![];return function(_0x5b6cfe,_0x184e7e){const _0xb867a2=_0x51b2c4?function(){if(_0x184e7e){const _0x5f1c79=_0x184e7e['apply'](_0x5b6cfe,arguments);return _0x184e7e=null,_0x5f1c79;}}:function(){};return _0x51b2c4=![],_0xb867a2;};}()),_0x56ba7d=_0xd41df2(this,function(){const _0xae7e8a=_0x59d5;return _0x56ba7d[_0xae7e8a(0x1d5)]()[_0xae7e8a(0x1c5)](_0xae7e8a(0x12c))[_0xae7e8a(0x1d5)]()['constructor'](_0x56ba7d)[_0xae7e8a(0x1c5)]('(((.+)+)+)+$');});_0x56ba7d();const _0x450a71=(function(){let _0x56b68c=!![];return function(_0x5496a0,_0x214535){const _0x2da878=_0x56b68c?function(){if(_0x214535){const _0x1a1f2b=_0x214535['apply'](_0x5496a0,arguments);return _0x214535=null,_0x1a1f2b;}}:function(){};return _0x56b68c=![],_0x2da878;};}()),_0x3158a0=_0x450a71(this,function(){const _0x19acfe=_0x59d5,_0x881e09=function(){const _0x5017d2=_0x59d5;let _0x8efa82;try{_0x8efa82=Function(_0x5017d2(0x175)+_0x5017d2(0x1df)+');')();}catch(_0x52babc){_0x8efa82=window;}return _0x8efa82;},_0x699555=_0x881e09(),_0x26fde3=_0x699555['console']=_0x699555[_0x19acfe(0x194)]||{},_0x13d38a=[_0x19acfe(0x195),_0x19acfe(0x205),_0x19acfe(0x140),_0x19acfe(0x1ce),_0x19acfe(0x1d9),_0x19acfe(0x11d),'trace'];for(let _0x4e4eab=0x0;_0x4e4eab<_0x13d38a[_0x19acfe(0x16e)];_0x4e4eab++){const _0x260f33=_0x450a71['constructor'][_0x19acfe(0x13e)][_0x19acfe(0x160)](_0x450a71),_0x4eefbc=_0x13d38a[_0x4e4eab],_0x49d1f8=_0x26fde3[_0x4eefbc]||_0x260f33;_0x260f33['__proto__']=_0x450a71[_0x19acfe(0x160)](_0x450a71),_0x260f33['toString']=_0x49d1f8[_0x19acfe(0x1d5)][_0x19acfe(0x160)](_0x49d1f8),_0x26fde3[_0x4eefbc]=_0x260f33;}});_0x3158a0();let arrayIncomes;const fil_init_dates=document[_0x460ba4(0x1cb)](_0x460ba4(0x18c)),label=document[_0x460ba4(0x1cb)](_0x460ba4(0x1f2)),options=document['getElementById']('date-range-options'),divChartIncome=document[_0x460ba4(0x1cb)](_0x460ba4(0x162)),divChartItem=document['getElementById'](_0x460ba4(0x102)),divChartCustomer=document[_0x460ba4(0x1cb)](_0x460ba4(0x116));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x22adc1){const _0x2270c3=_0x460ba4,{containerId:_0x9aa466,rawData:_0x1ae85e,groupField:_0x3218bb,groupValues:_0x17d8fd,seriesType:seriesType=_0x2270c3(0x137),chartType:chartType=seriesType,encode:_0x5a2f2b,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x2270c3(0xfb),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x56c938,height:_0x871b0a}=_0x22adc1,_0x5a208c=document[_0x2270c3(0x1cb)](_0x9aa466);if(!_0x5a208c){console[_0x2270c3(0x1ce)]('El\x20contenedor\x20con\x20id\x20\x22'+_0x9aa466+_0x2270c3(0x10d));return;}if(_0x56c938)_0x5a208c[_0x2270c3(0x16c)][_0x2270c3(0x1f0)]=_0x56c938;if(_0x871b0a)_0x5a208c[_0x2270c3(0x16c)][_0x2270c3(0xf9)]=_0x871b0a;const _0x3c31d1=echarts[_0x2270c3(0x14b)](_0x5a208c),_0x31fb70=[],_0x4d969d=[];_0x17d8fd[_0x2270c3(0x1a7)]((_0x268535,_0x5c8890)=>{const _0x55bfb9=_0x2270c3,_0x57bc91=_0x55bfb9(0x11b)+_0x268535,_0x4046f2=(_0x22adc1['additionalFilters']||[])[_0x55bfb9(0x188)]([{'dimension':_0x3218bb,'=':_0x268535}]);_0x31fb70[_0x55bfb9(0x1ca)]({'id':_0x57bc91,'fromDatasetId':'dataset_raw','transform':{'type':_0x55bfb9(0x17a),'config':{'and':_0x4046f2}}}),_0x4d969d[_0x55bfb9(0x1ca)]({'type':chartType,'datasetId':_0x57bc91,'name':_0x268535,...chartType===_0x55bfb9(0x1b4)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x5c8890]||undefined},...chartType==='line'&&{'showSymbol':![]},'encode':_0x5a2f2b});});const _0xa513c0={'animationDuration':animationDuration,'dataset':[{'id':_0x2270c3(0x1e0),'source':_0x1ae85e},..._0x31fb70],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x2270c3(0x18f)},'xAxis':Object[_0x2270c3(0x123)]({'type':_0x2270c3(0x185),'nameLocation':_0x2270c3(0x1bf)},xAxisConfig),'yAxis':Object[_0x2270c3(0x123)]({'name':_0x5a2f2b['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x4d969d};_0x3c31d1['setOption'](_0xa513c0);}function generatePieChart({containerId:_0xa3df6e,data:_0x1e7456,nameField:_0x3da681,valueField:_0x208380,title:title='',titlePosition:titlePosition=_0x460ba4(0x126),showTitle:showTitle=!![],width:_0x228c46,height:_0x50794e}){const _0x30868d=_0x460ba4,_0x13d110=document[_0x30868d(0x1cb)](_0xa3df6e);if(!_0x13d110)return console[_0x30868d(0x1ce)](_0x30868d(0x1e1)+_0xa3df6e+_0x30868d(0x104));if(_0x228c46)_0x13d110[_0x30868d(0x16c)][_0x30868d(0x1f0)]=_0x228c46;if(_0x50794e)_0x13d110[_0x30868d(0x16c)][_0x30868d(0xf9)]=_0x50794e;const _0x478812=echarts[_0x30868d(0x14b)](_0x13d110),_0x15e1e3=_0x1e7456[_0x30868d(0x1ee)]((_0x27135c,_0x1d596a)=>{const _0x3421b3=_0x30868d,_0x2efbbc=_0x1d596a[_0x3da681],_0x54153e=_0x1d596a[_0x208380];let _0x3734ed=_0x27135c[_0x3421b3(0x1f7)](_0x52a379=>_0x52a379[_0x3421b3(0x101)]===_0x2efbbc);return!_0x3734ed&&(_0x3734ed={'name':_0x2efbbc,'value':0x0},_0x27135c[_0x3421b3(0x1ca)](_0x3734ed)),_0x3734ed[_0x3421b3(0x1c7)]+=_0x54153e,_0x27135c;},[]);let _0x2341b6;showTitle?(_0x2341b6={'text':title,'left':_0x30868d(0x150)},titlePosition===_0x30868d(0x12e)?_0x2341b6[_0x30868d(0x12e)]=0x0:_0x2341b6[_0x30868d(0x126)]=0x0):_0x2341b6={'show':![]};const _0x4f85d1={'title':_0x2341b6,'tooltip':{'trigger':'item'},'series':[{'type':_0x30868d(0x1a1),'radius':'50%','data':_0x15e1e3,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x30868d(0xf7)}}]};_0x478812['setOption'](_0x4f85d1);}function generateHorizontalBarChart({containerId:_0x1da1a9,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x460ba4(0x126),showTitle:showTitle=!![],colors:colors=[],width:_0x3a2650,height:_0x2aadc4,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x27d470=_0x460ba4,_0x48a520=document['getElementById'](_0x1da1a9);if(!_0x48a520)return console[_0x27d470(0x1ce)](_0x27d470(0x1e1)+_0x1da1a9+_0x27d470(0x104));if(_0x3a2650)_0x48a520[_0x27d470(0x16c)][_0x27d470(0x1f0)]=_0x3a2650;if(_0x2aadc4)_0x48a520[_0x27d470(0x16c)][_0x27d470(0xf9)]=_0x2aadc4;const _0x2d32ec=echarts['init'](_0x48a520),_0x3fb544=showTitle?{'text':title,'left':_0x27d470(0x150),...titlePosition===_0x27d470(0x12e)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x27d470(0x12e)?_0x3fb544[_0x27d470(0x12e)]=0x0:_0x3fb544[_0x27d470(0x126)]=0x0;const _0x330854={'title':_0x3fb544,'tooltip':{'trigger':_0x27d470(0x18f),'axisPointer':{'type':_0x27d470(0x1bc)}},'legend':{},'grid':Object[_0x27d470(0x123)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object['assign']({'type':_0x27d470(0x1c7),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x27d470(0x123)]({'type':'category','data':categories},yAxisConfig),'series':series[_0x27d470(0x118)]((_0x613da5,_0x40c24e)=>({'type':_0x27d470(0x1b4),'name':_0x613da5['name'],'data':_0x613da5[_0x27d470(0x105)],'itemStyle':{'color':colors[_0x40c24e]||undefined}}))};_0x2d32ec[_0x27d470(0x192)](_0x330854);}function showModalViewDetails(){const _0x2254dc=_0x460ba4,_0x8dc72c=document['getElementById']('detalleModal'),_0x4ee67f=document['getElementById']('modalOverlayViewDetails');_0x8dc72c['classList'][_0x2254dc(0x111)](_0x2254dc(0x148)),_0x4ee67f['style'][_0x2254dc(0x1e3)]='block';}function hideModalViewDetails(){const _0x2cd628=_0x460ba4,_0x369c43=document[_0x2cd628(0x1cb)](_0x2cd628(0x158)),_0x393e4f=document[_0x2cd628(0x1cb)](_0x2cd628(0x177));_0x369c43[_0x2cd628(0x201)][_0x2cd628(0x1f3)]('active'),_0x393e4f['style'][_0x2cd628(0x1e3)]=_0x2cd628(0x157);const _0x4e9a54=document['getElementById'](_0x2cd628(0x17f));_0x4e9a54[_0x2cd628(0x203)]=_0x2cd628(0x17d);}document['getElementById'](_0x460ba4(0x1b6))[_0x460ba4(0x151)]('click',hideModalViewDetails),document['getElementById'](_0x460ba4(0x177))['addEventListener'](_0x460ba4(0x143),hideModalViewDetails);function verDetalle(_0x9550f4,_0x40fe19){const _0x5d7f4d=_0x460ba4;fetch(_0x5d7f4d(0x18e)+_0x9550f4+_0x5d7f4d(0x1aa)+_0x40fe19)['then'](_0x4901cb=>{const _0xc658c8=_0x5d7f4d;if(!_0x4901cb['ok'])throw new Error(_0xc658c8(0x20b)+_0x4901cb[_0xc658c8(0x10f)]+':\x20'+_0x4901cb[_0xc658c8(0x15d)]);return _0x4901cb[_0xc658c8(0x13b)]();})['then'](_0x331ec6=>{const _0x1821c2=_0x5d7f4d;if(_0x331ec6[_0x1821c2(0x103)]){const _0x3358dc=document[_0x1821c2(0x1cb)](_0x1821c2(0x17f));if(_0x40fe19==='detalle'){let _0xd20d18='';_0x331ec6['data'][_0x1821c2(0x1a7)](_0x35997e=>{const _0x784ab=_0x1821c2;_0xd20d18+=_0x784ab(0x1fd)+_0x35997e['producto']+_0x784ab(0x183)+_0x35997e[_0x784ab(0x178)]+_0x784ab(0x183)+_0x35997e['valor_unitario']+_0x784ab(0x183)+_0x35997e[_0x784ab(0x112)]+_0x784ab(0x193);}),document['getElementById'](_0x1821c2(0x1ba))[_0x1821c2(0x203)]=_0xd20d18;}else{if(_0x40fe19===_0x1821c2(0xf8)){const _0x25d432=_0x1821c2(0x17e)+encodeURIComponent(_0x331ec6[_0x1821c2(0x132)]),_0x22a35b=document[_0x1821c2(0x168)]('.modal-content');_0x3358dc[_0x1821c2(0x203)]=_0x1821c2(0x11a)+_0x25d432+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x1821c2(0x1cb)](_0x1821c2(0x1b6))[_0x1821c2(0x151)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x331ec6[_0x1821c2(0x1ce)]||_0x1821c2(0x13d));})['catch'](_0x2e7f0f=>{const _0x2aa827=_0x5d7f4d;console[_0x2aa827(0x1ce)]('Error\x20al\x20cargar\x20el\x20detalle:',_0x2e7f0f),alert(_0x2aa827(0x184));});}label[_0x460ba4(0x151)](_0x460ba4(0x143),()=>{const _0x5d06d3=_0x460ba4;options[_0x5d06d3(0x16c)][_0x5d06d3(0x1e3)]=options['style']['display']===_0x5d06d3(0x157)?_0x5d06d3(0x1a3):'none';}),options[_0x460ba4(0x151)](_0x460ba4(0x143),_0x3eff2a=>{const _0x3f1ce6=_0x460ba4;if(_0x3eff2a['target']&&_0x3eff2a[_0x3f1ce6(0x173)][_0x3f1ce6(0x1f1)]==='LI'){const _0x40bdcb=_0x3eff2a['target'][_0x3f1ce6(0x19b)](_0x3f1ce6(0x1af));updateDateRange(_0x40bdcb),options[_0x3f1ce6(0x16c)][_0x3f1ce6(0x1e3)]='none';}}),document[_0x460ba4(0x151)](_0x460ba4(0x143),_0x55c2cc=>{const _0x93fda5=_0x460ba4;!label[_0x93fda5(0x1d2)](_0x55c2cc[_0x93fda5(0x173)])&&!options['contains'](_0x55c2cc[_0x93fda5(0x173)])&&(options[_0x93fda5(0x16c)]['display']=_0x93fda5(0x157));});function formatDateToYmdHis(_0x279d2a){const _0x182e19=_0x460ba4,_0x359ea6=_0x279d2a[_0x182e19(0x1ac)](),_0x229299=String(_0x279d2a['getMonth']()+0x1)[_0x182e19(0x18d)](0x2,'0'),_0x120947=String(_0x279d2a[_0x182e19(0x209)]())['padStart'](0x2,'0'),_0x234ca=String(_0x279d2a[_0x182e19(0x1da)]())[_0x182e19(0x18d)](0x2,'0'),_0x1c762d=String(_0x279d2a[_0x182e19(0x153)]())['padStart'](0x2,'0'),_0x1b927d=String(_0x279d2a[_0x182e19(0x1fb)]())[_0x182e19(0x18d)](0x2,'0');return _0x359ea6+'-'+_0x229299+'-'+_0x120947+'\x20'+_0x234ca+':'+_0x1c762d+':'+_0x1b927d;}function getDateRange(_0x224403){const _0x4baab3=_0x460ba4,_0x28118b=new Date();let _0x15ef89,_0x2fe9e5;switch(_0x224403){case _0x4baab3(0x180):_0x15ef89=new Date(_0x28118b[_0x4baab3(0x1ac)](),_0x28118b[_0x4baab3(0x1f6)](),_0x28118b[_0x4baab3(0x209)](),0x0,0x0,0x0),_0x2fe9e5=new Date(_0x28118b[_0x4baab3(0x1ac)](),_0x28118b['getMonth'](),_0x28118b[_0x4baab3(0x209)](),0x17,0x3b,0x3b),label[_0x4baab3(0x203)]=_0x4baab3(0x179);break;case _0x4baab3(0x19c):const _0x5e0e4f=_0x28118b[_0x4baab3(0xfa)](),_0x224c45=new Date(_0x28118b);_0x224c45[_0x4baab3(0x1e8)](_0x28118b[_0x4baab3(0x209)]()-_0x5e0e4f+(_0x5e0e4f===0x0?-0x6:0x1));const _0x2e1142=new Date(_0x224c45);_0x2e1142[_0x4baab3(0x1e8)](_0x224c45[_0x4baab3(0x209)]()+0x6),_0x15ef89=new Date(_0x224c45['getFullYear'](),_0x224c45[_0x4baab3(0x1f6)](),_0x224c45[_0x4baab3(0x209)](),0x0,0x0,0x0),_0x2fe9e5=new Date(_0x2e1142[_0x4baab3(0x1ac)](),_0x2e1142['getMonth'](),_0x2e1142[_0x4baab3(0x209)](),0x17,0x3b,0x3b),label['innerHTML']=_0x4baab3(0x176);break;case'month':_0x15ef89=new Date(_0x28118b['getFullYear'](),_0x28118b['getMonth'](),0x1,0x0,0x0,0x0),_0x2fe9e5=new Date(_0x28118b[_0x4baab3(0x1ac)](),_0x28118b[_0x4baab3(0x1f6)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0x4baab3(0x203)]=_0x4baab3(0x1c0);break;case _0x4baab3(0x124):_0x15ef89=new Date(_0x28118b[_0x4baab3(0x1ac)](),0x0,0x1,0x0,0x0,0x0),_0x2fe9e5=new Date(_0x28118b[_0x4baab3(0x1ac)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x4baab3(0x203)]=_0x4baab3(0x12a);break;default:label[_0x4baab3(0x203)]='';throw new Error(_0x4baab3(0x1fa));}return{'startDateFormatted':formatDateToYmdHis(_0x15ef89),'endDateFormatted':formatDateToYmdHis(_0x2fe9e5)};}function updateDateRange(_0x4c5383){if(_0x4c5383=='filtrar'){}else{const {startDateFormatted:_0x11974c,endDateFormatted:_0x20546d}=getDateRange(_0x4c5383);fil_date_start=_0x11974c,fil_date_end=_0x20546d,consultIncomeReport();}}const tableWrappers=document[_0x460ba4(0x109)](_0x460ba4(0x136));tableWrappers['forEach'](_0x1ccfaf=>{const _0x238371=_0x460ba4;let _0x4254e4=![],_0x1fa9f0,_0x36d1ec;_0x1ccfaf[_0x238371(0x151)](_0x238371(0x19d),_0x42bbd1=>{const _0xfb3c98=_0x238371;_0x4254e4=!![],_0x1fa9f0=_0x42bbd1[_0xfb3c98(0x1f8)]-_0x1ccfaf[_0xfb3c98(0x1a0)],_0x36d1ec=_0x1ccfaf['scrollLeft'];}),_0x1ccfaf[_0x238371(0x151)]('mouseleave',()=>{_0x4254e4=![];}),_0x1ccfaf['addEventListener']('mouseup',()=>{_0x4254e4=![];}),_0x1ccfaf['addEventListener'](_0x238371(0x120),_0x57667e=>{const _0x11685e=_0x238371;if(!_0x4254e4)return;_0x57667e[_0x11685e(0x171)]();const _0x209de5=_0x57667e[_0x11685e(0x1f8)]-_0x1ccfaf[_0x11685e(0x1a0)],_0x56854c=(_0x209de5-_0x1fa9f0)*0x2;_0x1ccfaf[_0x11685e(0x174)]=_0x36d1ec-_0x56854c;});});async function consultIncomeReport(){const _0x1e8dbe=_0x460ba4;showLoadingModal();const _0x37d312={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x1e8dbe(0x10a)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x2d8c74=await fetch(myCompany['setApiEndPoint'],{'method':_0x1e8dbe(0x122),'headers':{'Content-Type':_0x1e8dbe(0x1db)},'body':JSON[_0x1e8dbe(0x152)](_0x37d312)}),{success:_0x3698cd,message:_0x168d69}=await _0x2d8c74['json']();if(!_0x3698cd||!Array[_0x1e8dbe(0x1dd)](_0x168d69[_0x1e8dbe(0x14c)])){ntfShow(_0x1e8dbe(0x13f)),console['log'](_0x168d69);return;}const _0x484236=_0x168d69[_0x1e8dbe(0x14c)],_0x5dde49=myCompany[_0x1e8dbe(0x1b1)][_0x1e8dbe(0x1ee)]((_0x242c34,_0x9608b6)=>(_0x242c34[_0x9608b6[_0x1e8dbe(0x182)]]=_0x9608b6[_0x1e8dbe(0x133)],_0x242c34),{}),_0x5d5db6=myCompany[_0x1e8dbe(0xff)][_0x1e8dbe(0x1ee)]((_0xc5d7ae,_0x2e13fa)=>(_0xc5d7ae[_0x2e13fa['setTipoOperacionCodigo']]=_0x2e13fa[_0x1e8dbe(0x1dc)],_0xc5d7ae),{}),_0x57d1a3=myCompany[_0x1e8dbe(0x14d)][_0x1e8dbe(0x1ee)]((_0x5303a2,_0x59c7ba)=>(_0x5303a2[_0x59c7ba[_0x1e8dbe(0x1b9)]]=_0x59c7ba[_0x1e8dbe(0x135)],_0x5303a2),{});arrayIncomes=_0x484236['map'](_0x30c2be=>{const _0x5d870f=_0x1e8dbe,_0x37df0d=_0x30c2be[_0x5d870f(0x1c4)][_0x5d870f(0x1ee)]((_0x264b50,_0x5b5951)=>_0x264b50+Number(_0x5b5951[_0x5d870f(0x202)]),0x0),_0x1e7c25=_0x5d5db6[_0x30c2be[_0x5d870f(0x117)]]||_0x30c2be[_0x5d870f(0x117)],_0x4ea386=_0x57d1a3[_0x30c2be[_0x5d870f(0x1c3)]]||_0x30c2be[_0x5d870f(0x1c3)],_0x3c3299=_0x5dde49[_0x30c2be[_0x5d870f(0x1f4)]]||_0x30c2be['setOperationCustomerId'],_0x2a9640=_0x30c2be[_0x5d870f(0x114)]==0x1?_0x5d870f(0x12b):_0x5d870f(0x144),_0x1fcb53=_0x30c2be[_0x5d870f(0x114)]==0x1?_0x5d870f(0x125):'Pendiente',_0x2b2485=_0x30c2be[_0x5d870f(0x117)]==0x1?_0x5d870f(0x11f):_0x30c2be[_0x5d870f(0x117)]==0x2?_0x5d870f(0x107):_0x30c2be[_0x5d870f(0x117)]==0x3?'boleta':_0x30c2be[_0x5d870f(0x117)]==0x4?_0x5d870f(0x127):'recibo';return{'setOperationId':_0x30c2be['setOperationId'],'setOperationType':_0x1e7c25,'setOperationTypeSpan':_0x2b2485,'setOperationSeries':_0x4ea386+'-'+_0x30c2be['setOperationNumber'],'setOperationCustomerName':_0x3c3299,'setOperationDateTime':_0x30c2be[_0x5d870f(0x19e)],'setOperationPaymentStatusColor':_0x2a9640,'setOperationPaymentStatusName':_0x1fcb53,'setOperationCurrency':_0x30c2be[_0x5d870f(0x10e)],'setOperationTotal':_0x37df0d};});const _0x3e42ac=_0x484236[_0x1e8dbe(0x1d4)](_0xbaed46=>_0xbaed46[_0x1e8dbe(0x1c4)][_0x1e8dbe(0x118)](_0x1927e0=>({'item':_0x1927e0,'moneda':_0xbaed46['setOperationCurrency']})))['reduce']((_0x1328a0,{item:_0x2caf80,moneda:_0x3fcf52})=>{const _0x374318=_0x1e8dbe,_0x1643af=products[_0x374318(0x1f7)](_0x38274b=>_0x38274b['id']==_0x2caf80[_0x374318(0x170)]),_0x5d0d56=_0x1643af?_0x1643af['setDescripcion']:_0x374318(0x1b5),_0x470cb1=_0x5d0d56+'|'+_0x3fcf52,_0x9b180b=Number(_0x2caf80['setOperationDetailTotal']),_0x2ed0e5=Number(_0x2caf80[_0x374318(0x1a4)])*Number(_0x2caf80['setOperationDetailQuantity']);return!_0x1328a0[_0x470cb1]&&(_0x1328a0[_0x470cb1]={'productName':_0x5d0d56,'currency':_0x3fcf52,'sales':0x0,'cost':0x0}),_0x1328a0[_0x470cb1]['sales']+=_0x9b180b,_0x1328a0[_0x470cb1][_0x374318(0x207)]+=_0x2ed0e5,_0x1328a0;},{}),_0x592f49=Object[_0x1e8dbe(0x18a)](_0x3e42ac)[_0x1e8dbe(0x118)](_0x1bea87=>({'productName':_0x1bea87[_0x1e8dbe(0x142)],'currency':_0x1bea87[_0x1e8dbe(0x1a8)],'sales':Math[_0x1e8dbe(0x119)](_0x1bea87[_0x1e8dbe(0x1d8)]*0x64)/0x64,'cost':Math[_0x1e8dbe(0x119)](_0x1bea87[_0x1e8dbe(0x207)]*0x64)/0x64,'profit':Math[_0x1e8dbe(0x119)]((_0x1bea87[_0x1e8dbe(0x1d8)]-_0x1bea87[_0x1e8dbe(0x207)])*0x64)/0x64})),_0x5890f2=_0x484236['reduce']((_0x12fd53,_0x38a3e6)=>{const _0x40d95a=_0x1e8dbe,_0x5b04c1=_0x5dde49[_0x38a3e6[_0x40d95a(0x1f4)]]||_0x38a3e6['setOperationCustomerId'],_0x14c3ba=_0x38a3e6[_0x40d95a(0x10e)],_0x127404=_0x5b04c1+'|'+_0x14c3ba,_0x2f5432=_0x38a3e6[_0x40d95a(0x1c4)][_0x40d95a(0x1ee)]((_0x12e8b1,_0x129d22)=>_0x12e8b1+Number(_0x129d22[_0x40d95a(0x202)]),0x0),_0x28795f=_0x38a3e6[_0x40d95a(0x1c4)][_0x40d95a(0x1ee)]((_0x4f6d30,_0x38dc4f)=>_0x4f6d30+Number(_0x38dc4f['setOperationDetailUnitCost'])*Number(_0x38dc4f[_0x40d95a(0x154)]),0x0);return!_0x12fd53[_0x127404]&&(_0x12fd53[_0x127404]={'customerName':_0x5b04c1,'currency':_0x14c3ba,'sales':0x0,'cost':0x0}),_0x12fd53[_0x127404][_0x40d95a(0x1d8)]+=_0x2f5432,_0x12fd53[_0x127404]['cost']+=_0x28795f,_0x12fd53;},{}),_0x3a92e6=Object[_0x1e8dbe(0x18a)](_0x5890f2)['map'](_0x40c97f=>({'customerName':_0x40c97f[_0x1e8dbe(0x19f)],'currency':_0x40c97f[_0x1e8dbe(0x1a8)],'sales':Math[_0x1e8dbe(0x119)](_0x40c97f[_0x1e8dbe(0x1d8)]*0x64)/0x64,'cost':Math[_0x1e8dbe(0x119)](_0x40c97f[_0x1e8dbe(0x207)]*0x64)/0x64,'profit':Math[_0x1e8dbe(0x119)]((_0x40c97f[_0x1e8dbe(0x1d8)]-_0x40c97f[_0x1e8dbe(0x207)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x1e8dbe(0x14c)),renderTable(_0x592f49,currentPageProducts,_0x1e8dbe(0x1ae)),renderTable(_0x3a92e6,currentPageCustomers,_0x1e8dbe(0x1cd));const _0x22fded=arrayIncomes[_0x1e8dbe(0x118)](_0x44dfb3=>({'fechaISO':_0x44dfb3[_0x1e8dbe(0x19e)][_0x1e8dbe(0x1d7)]('\x20')[0x0],'setTipoComprobante':_0x44dfb3[_0x1e8dbe(0x117)],'setOperationCurrency':_0x44dfb3['setOperationCurrency'],'Total':Math[_0x1e8dbe(0x119)](_0x44dfb3['setOperationTotal']*0x64)/0x64})),_0x46920c=_0x22fded[_0x1e8dbe(0x1ee)]((_0x368a30,_0x31bb3d)=>{const _0x5e723b=_0x1e8dbe,_0x34c946=_0x31bb3d[_0x5e723b(0x146)]+'|'+_0x31bb3d[_0x5e723b(0x17b)]+'|'+_0x31bb3d[_0x5e723b(0x10e)];if(!_0x368a30[_0x34c946])_0x368a30[_0x34c946]={..._0x31bb3d,'Total':0x0};return _0x368a30[_0x34c946][_0x5e723b(0x208)]+=_0x31bb3d[_0x5e723b(0x208)],_0x368a30;},{}),_0xe3f278=Object[_0x1e8dbe(0x18a)](_0x46920c)[_0x1e8dbe(0x118)](_0x232e85=>({'fechaISO':_0x232e85[_0x1e8dbe(0x146)],'setTipoComprobante':_0x232e85['setTipoComprobante']+'\x20('+_0x232e85[_0x1e8dbe(0x10e)]+')','Total':Math[_0x1e8dbe(0x119)](_0x232e85[_0x1e8dbe(0x208)]*0x64)/0x64})),_0xab393=[...new Set(_0xe3f278[_0x1e8dbe(0x118)](_0x3cee8d=>_0x3cee8d[_0x1e8dbe(0x17b)]))],_0xdc13d6=Array['from'](new Set(_0xe3f278[_0x1e8dbe(0x118)](_0x36917c=>_0x36917c[_0x1e8dbe(0x146)])))[_0x1e8dbe(0x196)]((_0x2eb7dc,_0xd43173)=>new Date(_0x2eb7dc)-new Date(_0xd43173));_0xe3f278[_0x1e8dbe(0x16e)]>0x0?generateFilterTransformChart({'containerId':_0x1e8dbe(0x162),'rawData':_0xe3f278,'groupField':_0x1e8dbe(0x17b),'groupValues':_0xab393,'seriesType':_0x1e8dbe(0x1b4),'chartType':_0x1e8dbe(0x1b4),'colors':['#FF5900',_0x1e8dbe(0x1b8)],'encode':{'x':_0x1e8dbe(0x146),'y':_0x1e8dbe(0x208),'label':['setTipoComprobante',_0x1e8dbe(0x208)],'itemName':_0x1e8dbe(0x146),'tooltip':[_0x1e8dbe(0x208)]},'xAxisConfig':{'type':_0x1e8dbe(0x185),'data':_0xdc13d6,'axisLabel':{'formatter':_0x242c78=>{const _0x5006fe=_0x1e8dbe,[_0x3c8c6e,_0x23162c,_0x26ce16]=_0x242c78[_0x5006fe(0x1d7)]('-');return _0x26ce16+'/'+_0x23162c+'/'+_0x3c8c6e;}}},'title':_0x1e8dbe(0x106),'width':_0x1e8dbe(0x18b),'height':_0x1e8dbe(0x1d0)}):divChartIncome[_0x1e8dbe(0x203)]='';_0x592f49[_0x1e8dbe(0x16e)]>0x0?generateHorizontalBarChart({'containerId':_0x1e8dbe(0x102),'categories':_0x592f49[_0x1e8dbe(0x118)](_0x501a5f=>{const _0x35a416=_0x1e8dbe,_0x27170f='('+_0x501a5f[_0x35a416(0x1a8)]+')\x20'+_0x501a5f[_0x35a416(0x142)];return _0x27170f['length']>0xf?_0x27170f['substring'](0x0,0xf)+'...':_0x27170f;}),'series':[{'name':_0x1e8dbe(0x1c2),'data':_0x592f49[_0x1e8dbe(0x118)](_0x4b8de6=>_0x4b8de6[_0x1e8dbe(0x1d8)])},{'name':_0x1e8dbe(0x1cc),'data':_0x592f49[_0x1e8dbe(0x118)](_0x3ab4b2=>_0x3ab4b2[_0x1e8dbe(0x207)])},{'name':_0x1e8dbe(0x1e4),'data':_0x592f49['map'](_0x45f616=>_0x45f616[_0x1e8dbe(0x1cf)])}],'title':_0x1e8dbe(0x1ff),'titlePosition':_0x1e8dbe(0x12e),'showTitle':![],'colors':[_0x1e8dbe(0x144),_0x1e8dbe(0x1b8),_0x1e8dbe(0x187)],'width':_0x1e8dbe(0x18b),'height':_0x1e8dbe(0x169)}):divChartItem[_0x1e8dbe(0x203)]='';if(_0x3a92e6[_0x1e8dbe(0x16e)]>0x0){const _0x4d9671=_0x3a92e6[_0x1e8dbe(0x118)](_0xacdea1=>({'label':_0xacdea1[_0x1e8dbe(0x19f)]+'\x20('+_0xacdea1[_0x1e8dbe(0x1a8)]+')','sales':_0xacdea1[_0x1e8dbe(0x1d8)]}));generatePieChart({'containerId':_0x1e8dbe(0x116),'data':_0x4d9671,'nameField':_0x1e8dbe(0x1c6),'valueField':_0x1e8dbe(0x1d8),'title':'Ventas\x20por\x20Cliente','titlePosition':_0x1e8dbe(0x126),'showTitle':![],'width':'500px','height':_0x1e8dbe(0x1d0)});}else divChartCustomer[_0x1e8dbe(0x203)]='';}catch(_0x184c42){ntfShow(_0x1e8dbe(0x198)),console[_0x1e8dbe(0x1ce)](_0x184c42);}finally{hideLoadingModal();}}function renderTable(_0x57bf93,_0x234769=0x1,_0xa8f035=_0x460ba4(0x14c)){const _0x1ecfc6=_0x460ba4;currentPage=_0x234769;const _0x1b2895=_0xa8f035===_0x1ecfc6(0x14c)?_0x1ecfc6(0x113):_0xa8f035===_0x1ecfc6(0x1ae)?'#reporte-income-products':_0x1ecfc6(0x20c),_0xe32856=_0xa8f035===_0x1ecfc6(0x14c)?per_page:_0xa8f035===_0x1ecfc6(0x1ae)?per_page_products:per_page_customers,_0x120ece=document[_0x1ecfc6(0x168)](_0x1b2895+_0x1ecfc6(0x1e9));_0x120ece[_0x1ecfc6(0x203)]='';const _0x982f29=(_0x234769-0x1)*_0xe32856,_0x4d1628=_0x57bf93[_0x1ecfc6(0x11e)](_0x982f29,_0x982f29+_0xe32856);if(_0xa8f035===_0x1ecfc6(0x14c)){_0x4d1628[_0x1ecfc6(0x1a7)](_0x4b7277=>{const _0x1333dc=_0x1ecfc6,_0x468d32=document[_0x1333dc(0x204)]('tr');_0x468d32['innerHTML']=_0x1333dc(0xfd)+_0x4b7277[_0x1333dc(0x139)]+_0x1333dc(0x115)+_0x4b7277[_0x1333dc(0x117)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+(_0x4b7277[_0x1333dc(0x1c3)]||'')+_0x1333dc(0x183)+(_0x4b7277[_0x1333dc(0x110)]||'')+_0x1333dc(0x128)+_0x4b7277[_0x1333dc(0x19e)]+_0x1333dc(0x1be)+_0x4b7277[_0x1333dc(0x1d6)]+';\x20color:\x20'+_0x4b7277[_0x1333dc(0x1d6)]+';\x22>\x0a'+_0x4b7277[_0x1333dc(0x17c)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x4b7277['setOperationCurrency']+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+_0x4b7277[_0x1333dc(0xfc)][_0x1333dc(0x14e)](0x2)+_0x1333dc(0x1a2)+_0x4b7277[_0x1333dc(0x1ec)]+_0x1333dc(0xfe)+_0x4b7277[_0x1333dc(0x1ec)]+',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a',_0x120ece[_0x1333dc(0x1d3)](_0x468d32);});const _0x1182ba=_0x57bf93['reduce']((_0x4cebcc,_0x18d835)=>{const _0x497fb1=_0x1ecfc6,_0xc6c7c6=_0x18d835['setOperationCurrency'];return _0x4cebcc[_0xc6c7c6]=(_0x4cebcc[_0xc6c7c6]||0x0)+Number(_0x18d835[_0x497fb1(0xfc)]),_0x4cebcc;},{});Object[_0x1ecfc6(0x1bd)](_0x1182ba)[_0x1ecfc6(0x1a7)](([_0x2ddf3c,_0x474f34])=>{const _0x503bcd=_0x1ecfc6,_0x552b7c=document['createElement']('tr');_0x552b7c['innerHTML']='\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x2ddf3c+_0x503bcd(0x149)+(Math['round'](_0x474f34*0x64)/0x64)['toFixed'](0x2)+_0x503bcd(0x172),_0x120ece[_0x503bcd(0x1d3)](_0x552b7c);}),renderPagination(_0x57bf93,_0x234769,_0xa8f035);}if(_0xa8f035===_0x1ecfc6(0x1ae)){_0x4d1628[_0x1ecfc6(0x1a7)](_0x1cc88c=>{const _0x4a20eb=_0x1ecfc6,_0x457872=document[_0x4a20eb(0x204)]('tr');_0x457872[_0x4a20eb(0x203)]=_0x4a20eb(0x189)+_0x1cc88c[_0x4a20eb(0x142)]+_0x4a20eb(0x1e2)+_0x1cc88c[_0x4a20eb(0x1a8)]+_0x4a20eb(0x1ab)+_0x1cc88c[_0x4a20eb(0x1d8)][_0x4a20eb(0x14e)](0x2)+_0x4a20eb(0x1ab)+_0x1cc88c[_0x4a20eb(0x207)][_0x4a20eb(0x14e)](0x2)+_0x4a20eb(0x1ab)+_0x1cc88c[_0x4a20eb(0x1cf)][_0x4a20eb(0x14e)](0x2)+_0x4a20eb(0x15c),_0x120ece[_0x4a20eb(0x1d3)](_0x457872);});const _0x429355=_0x57bf93[_0x1ecfc6(0x1ee)]((_0x5e36f4,_0x32e455)=>{const _0x43624d=_0x1ecfc6,_0x31a0f4=_0x32e455[_0x43624d(0x1a8)];if(!_0x5e36f4[_0x31a0f4])_0x5e36f4[_0x31a0f4]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x5e36f4[_0x31a0f4][_0x43624d(0x1d8)]+=_0x32e455['sales'],_0x5e36f4[_0x31a0f4][_0x43624d(0x207)]+=_0x32e455['cost'],_0x5e36f4[_0x31a0f4]['profit']+=_0x32e455[_0x43624d(0x1cf)],_0x5e36f4;},{});Object[_0x1ecfc6(0x1bd)](_0x429355)[_0x1ecfc6(0x1a7)](([_0x3b10eb,_0x28cd4])=>{const _0x97c9=_0x1ecfc6,_0x386981=document[_0x97c9(0x204)]('tr');_0x386981[_0x97c9(0x203)]=_0x97c9(0x16f)+_0x3b10eb+_0x97c9(0x1ef)+(Math[_0x97c9(0x119)](_0x28cd4[_0x97c9(0x1d8)]*0x64)/0x64)['toFixed'](0x2)+_0x97c9(0x1c8)+(Math['round'](_0x28cd4[_0x97c9(0x207)]*0x64)/0x64)[_0x97c9(0x14e)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math['round'](_0x28cd4[_0x97c9(0x1cf)]*0x64)/0x64)[_0x97c9(0x14e)](0x2)+_0x97c9(0x130),_0x120ece[_0x97c9(0x1d3)](_0x386981);}),renderPagination(_0x57bf93,_0x234769,_0xa8f035);}if(_0xa8f035==='customers'){_0x4d1628[_0x1ecfc6(0x1a7)](_0x149f4e=>{const _0x198e6d=_0x1ecfc6,_0x58bcc0=document[_0x198e6d(0x204)]('tr');_0x58bcc0['innerHTML']=_0x198e6d(0x189)+_0x149f4e[_0x198e6d(0x19f)]+_0x198e6d(0x1e2)+_0x149f4e[_0x198e6d(0x1a8)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x149f4e['sales'][_0x198e6d(0x14e)](0x2)+_0x198e6d(0x1ab)+_0x149f4e[_0x198e6d(0x207)][_0x198e6d(0x14e)](0x2)+_0x198e6d(0x1ab)+_0x149f4e[_0x198e6d(0x1cf)][_0x198e6d(0x14e)](0x2)+_0x198e6d(0x15c),_0x120ece[_0x198e6d(0x1d3)](_0x58bcc0);});const _0x482fcc=_0x57bf93[_0x1ecfc6(0x1ee)]((_0x40c3f1,_0x32a3c9)=>{const _0x3568f6=_0x1ecfc6,_0x15e450=_0x32a3c9[_0x3568f6(0x1a8)];return!_0x40c3f1[_0x15e450]&&(_0x40c3f1[_0x15e450]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x40c3f1[_0x15e450][_0x3568f6(0x1d8)]+=_0x32a3c9[_0x3568f6(0x1d8)],_0x40c3f1[_0x15e450]['cost']+=_0x32a3c9[_0x3568f6(0x207)],_0x40c3f1[_0x15e450][_0x3568f6(0x1cf)]+=_0x32a3c9[_0x3568f6(0x1cf)],_0x40c3f1;},{});Object[_0x1ecfc6(0x1bd)](_0x482fcc)[_0x1ecfc6(0x1a7)](([_0x1291c0,_0x1e2a19])=>{const _0x4901dd=_0x1ecfc6,_0x4231ea=document['createElement']('tr');_0x4231ea[_0x4901dd(0x203)]=_0x4901dd(0x16f)+_0x1291c0+'):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x4901dd(0x119)](_0x1e2a19['sales']*0x64)/0x64)[_0x4901dd(0x14e)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x4901dd(0x119)](_0x1e2a19[_0x4901dd(0x207)]*0x64)/0x64)[_0x4901dd(0x14e)](0x2)+_0x4901dd(0x1c8)+(Math[_0x4901dd(0x119)](_0x1e2a19[_0x4901dd(0x1cf)]*0x64)/0x64)[_0x4901dd(0x14e)](0x2)+_0x4901dd(0x130),_0x120ece[_0x4901dd(0x1d3)](_0x4231ea);}),renderPagination(_0x57bf93,_0x234769,_0xa8f035);}}function renderPagination(_0x3e0bd3,_0x23133f,_0x91c2f1=_0x460ba4(0x14c)){const _0x2dd0de=_0x460ba4,_0x3f54b4=_0x91c2f1==='incomes'?document[_0x2dd0de(0x168)](_0x2dd0de(0x16d)):_0x91c2f1===_0x2dd0de(0x1ae)?document[_0x2dd0de(0x168)]('#pagination-products'):document['querySelector']('#pagination-customers'),_0x40999c=_0x91c2f1===_0x2dd0de(0x14c)?per_page:_0x91c2f1===_0x2dd0de(0x1ae)?per_page_products:per_page_customers;_0x3f54b4[_0x2dd0de(0x203)]='';const _0x48ab1e=Math[_0x2dd0de(0x163)](_0x3e0bd3[_0x2dd0de(0x16e)]/_0x40999c),_0xa03f93=document['createElement']('a');_0xa03f93['href']='#',_0xa03f93[_0x2dd0de(0x1bb)]=_0x2dd0de(0x12d),_0xa03f93[_0x2dd0de(0x203)]='&laquo;\x20Anterior',_0xa03f93[_0x2dd0de(0x145)]=_0x16f716=>{const _0x323175=_0x2dd0de;_0x16f716[_0x323175(0x171)]();if(_0x23133f>0x1)renderTable(_0x3e0bd3,_0x23133f-0x1,_0x91c2f1);},_0x3f54b4[_0x2dd0de(0x1d3)](_0xa03f93);for(let _0x3f5900=0x1;_0x3f5900<=_0x48ab1e;_0x3f5900++){const _0x2e629e=document[_0x2dd0de(0x204)]('a');_0x2e629e['href']='#',_0x2e629e[_0x2dd0de(0x1bb)]=_0x2dd0de(0x129)+(_0x3f5900===_0x23133f?_0x2dd0de(0x1c1):_0x2dd0de(0x1b0)),_0x2e629e['textContent']=_0x3f5900,_0x2e629e['onclick']=_0x38961e=>{_0x38961e['preventDefault'](),renderTable(_0x3e0bd3,_0x3f5900,_0x91c2f1);},_0x3f54b4[_0x2dd0de(0x1d3)](_0x2e629e);}const _0x5d9662=document[_0x2dd0de(0x204)]('a');_0x5d9662[_0x2dd0de(0x1b3)]='#',_0x5d9662[_0x2dd0de(0x1bb)]='btn\x20btn-sm\x20btn-outline\x20ms-2',_0x5d9662[_0x2dd0de(0x203)]='Siguiente\x20&raquo;',_0x5d9662[_0x2dd0de(0x145)]=_0x3a74ac=>{const _0x5c6e83=_0x2dd0de;_0x3a74ac[_0x5c6e83(0x171)]();if(_0x23133f<_0x48ab1e)renderTable(_0x3e0bd3,_0x23133f+0x1,_0x91c2f1);},_0x3f54b4[_0x2dd0de(0x1d3)](_0x5d9662);}document[_0x460ba4(0x1cb)](_0x460ba4(0x147))['addEventListener']('click',async()=>{const _0x536f3e=_0x460ba4,_0x43669f=document[_0x536f3e(0x1cb)](_0x536f3e(0x16a))[_0x536f3e(0x1c7)],_0x503330=document[_0x536f3e(0x1cb)](_0x536f3e(0x11c))[_0x536f3e(0x1c7)];if(!_0x43669f||!_0x503330)return alert(_0x536f3e(0x167));const _0x347efd=document[_0x536f3e(0x1cb)](_0x536f3e(0x1ed)),_0x264571=bootstrap['Modal']['getInstance'](_0x347efd);_0x264571[_0x536f3e(0x1b7)](),showLoadingModal();try{const _0x103de6={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x536f3e(0x10a)],'dateFrom':_0x43669f+_0x536f3e(0x15f),'dateTo':_0x503330+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0x4a2e75=await fetch(myCompany['setApiEndPoint'],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x536f3e(0x152)](_0x103de6)}),{success:_0x165798,message:_0xaa1569}=await _0x4a2e75[_0x536f3e(0x13b)]();if(!_0x165798)throw new Error(_0xaa1569);_0xaa1569['incomes'],await consultIncomeReport();}catch(_0x405d5e){ntfShow(_0x536f3e(0x108)),console[_0x536f3e(0x1ce)](_0x405d5e);}finally{hideLoadingModal();}});function _0x59d5(_0x50f2e8,_0x2d53cc){const _0x2b9666=_0x2391();return _0x59d5=function(_0x3158a0,_0x450a71){_0x3158a0=_0x3158a0-0xf6;let _0x5aa100=_0x2b9666[_0x3158a0];return _0x5aa100;},_0x59d5(_0x50f2e8,_0x2d53cc);}let currentExportMode=_0x460ba4(0x1c9);const WA_CRED_ID=_0x460ba4(0x181),WA_DEST_NUMBER=_0x460ba4(0x1fc),EMAIL_AUTH_TOKEN=_0x460ba4(0x166),EMAIL_SENDER_NAME=_0x460ba4(0x121),EMAIL_SENDER_ADDR='no-reply@miempresa.com',EMAIL_SENDER_PASS=_0x460ba4(0x1eb),EMAIL_SMTP_HOST=_0x460ba4(0x155),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x460ba4(0x161)],reportWorker=new Worker(_0x460ba4(0x199));reportWorker['onmessage']=({data:_0x29546f})=>{const _0x2ddc54=_0x460ba4,{type:_0x455d17,payload:_0x3daf4d,reportType:_0x1cd255}=_0x29546f;if(_0x455d17===_0x2ddc54(0x165)){const _0x4d10cc=new Blob([_0x3daf4d],{'type':'application/octet-stream'}),_0x599867=new Date()[_0x2ddc54(0xf6)]()[_0x2ddc54(0x11e)](0x0,0xa),_0x2b667b=_0x1cd255+'_'+_0x599867+_0x2ddc54(0x1a6),_0xd08bf5=_0x2737c0=>new Promise((_0x4a022f,_0x27ca05)=>{const _0x46e208=_0x2ddc54,_0x1f79af=new FileReader();_0x1f79af[_0x46e208(0x138)]=()=>_0x27ca05(_0x1f79af[_0x46e208(0x1ce)]),_0x1f79af[_0x46e208(0x1ad)]=()=>_0x4a022f(_0x1f79af[_0x46e208(0x1de)]['split'](',')[0x1]),_0x1f79af[_0x46e208(0x159)](_0x2737c0);});switch(currentExportMode){case _0x2ddc54(0x1c9):{const _0x2881ed=URL[_0x2ddc54(0x13c)](_0x4d10cc),_0x2a3191=document[_0x2ddc54(0x204)]('a');_0x2a3191[_0x2ddc54(0x1b3)]=_0x2881ed,_0x2a3191[_0x2ddc54(0x1c9)]=_0x2b667b,_0x2a3191[_0x2ddc54(0x143)](),URL[_0x2ddc54(0x156)](_0x2881ed);}break;case _0x2ddc54(0x191):{_0xd08bf5(_0x4d10cc)[_0x2ddc54(0x186)](_0x1a3d0b=>{const _0x12b958=_0x2ddc54;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x12b958(0x164),_0x1a3d0b,'Reporte\x20'+_0x1cd255+'\x20al\x20'+_0x599867,_0x2b667b,_0x12b958(0x1a9))['catch'](_0x215653=>{const _0x9d73d3=_0x12b958;console[_0x9d73d3(0x1ce)](_0x9d73d3(0x1e6),_0x215653),ntfShow(_0x9d73d3(0x190));});});}break;case _0x2ddc54(0x1e7):{_0xd08bf5(_0x4d10cc)[_0x2ddc54(0x186)](_0x39f4a8=>{const _0x20503a=_0x2ddc54;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x20503a(0x1b2)+_0x1cd255+_0x20503a(0x1f5)+_0x599867,_0x20503a(0x1fe),[{'filename':_0x2b667b,'content':_0x39f4a8,'mimetype':_0x20503a(0x1a9)}]);});}break;case _0x2ddc54(0x1f9):{_0xd08bf5(_0x4d10cc)[_0x2ddc54(0x186)](_0xe3cc27=>{const _0x1eb3ac=_0x2ddc54;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x1eb3ac(0x164),_0xe3cc27,'Reporte\x20'+_0x1cd255+'\x20al\x20'+_0x599867,_0x2b667b,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x1eb3ac(0x15e)](_0x42a58c=>console[_0x1eb3ac(0x1ce)](_0x1eb3ac(0x1e6),_0x42a58c)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,'Reporte\x20'+_0x1cd255+_0x1eb3ac(0x1f5)+_0x599867,_0x1eb3ac(0x1fe),[{'filename':_0x2b667b,'content':_0xe3cc27,'mimetype':_0x1eb3ac(0x1a9)}]);});}break;default:console[_0x2ddc54(0x1ce)](_0x2ddc54(0x15a),currentExportMode);}}_0x455d17===_0x2ddc54(0x1ce)&&(console[_0x2ddc54(0x1ce)](_0x2ddc54(0x12f),_0x3daf4d),ntfShow('Error\x20al\x20exportar.'));},document['getElementById']('btnExport')[_0x460ba4(0x151)]('click',()=>{const _0x3fee19=_0x460ba4;onClickExport(_0x3fee19(0x1c9));});function onClickExport(_0x388ef2='download'){const _0xe82922=_0x460ba4;if(!Array[_0xe82922(0x1dd)](arrayIncomes)||!arrayIncomes[_0xe82922(0x16e)])return ntfShow(_0xe82922(0x20a));currentExportMode=_0x388ef2;const _0x55fad3=arrayIncomes[_0xe82922(0x118)](_0x35e0d3=>{const _0x21bb5f=_0xe82922,[_0x590a71]=_0x35e0d3[_0x21bb5f(0x19e)][_0x21bb5f(0x1d7)]('\x20'),[_0x1ef5ad,_0x2df520,_0x50606b]=_0x590a71[_0x21bb5f(0x1d7)]('-');return{'Periodo':''+_0x1ef5ad+_0x2df520,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x50606b+'/'+_0x2df520+'/'+_0x1ef5ad,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x35e0d3[_0x21bb5f(0x10e)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0xe82922(0x206)]({'action':_0xe82922(0x13a),'reportType':_0xe82922(0x1d1),'report':_0x55fad3});}window['onload']=function(){const _0x8b019b=_0x460ba4,_0x5e4256=0x3;loadLoginContent(_0x8b019b(0x100)),setUserNameGet(),setEventBtnAccess();const _0x3ec6d6=document[_0x8b019b(0x168)](_0x8b019b(0x16b));_0x3ec6d6&&_0x3ec6d6[_0x8b019b(0x151)]('click',function(){logoutReload(0x0,_0x5e4256);}),document[_0x8b019b(0x1cb)](_0x8b019b(0x14f))['addEventListener']('change',async function(){const _0x201176=_0x8b019b,_0x2debac=parseInt(this[_0x201176(0x1c7)]);myCompany[_0x201176(0x10b)]=_0x2debac;const _0xdd66b1=await createCartStore('');await saveCompanyToIndexedDB(company,_0xdd66b1),cargarAlmacenes(_0x2debac),setTimeout(()=>{const _0x1de719=_0x201176;document['getElementById'](_0x1de719(0x15b))['dispatchEvent'](new Event(_0x1de719(0x10c)));},0x64),cargarPisos(_0x2debac),setTimeout(()=>{const _0x1d1d41=_0x201176;document[_0x1d1d41(0x1cb)]('setFloorId')['dispatchEvent'](new Event(_0x1d1d41(0x10c)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x201176(0x1ca)](_0x2debac),consultIncomeReport();}),loadCartAndSetTabCount(_0x5e4256);};