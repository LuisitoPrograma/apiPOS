<!DOCTYPE html>
<html lang="es">
<head>

<!-- METAS BASICOS -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- TITLE -->
<title>Pipelines</title>

<!-- DESCRIPCION -->
<meta name="description" content="API de Whatsapp con Inteligencia Artificial">

<!-- OPEN GRAPH METADATA FOR SOCIAL SHARING -->
<meta property="og:image" content="./img/apiPOS.png">
<meta property="og:image:width" content="800">
<meta property="og:image:height" content="564">
<meta property="og:image:alt" content="API de Whatsapp con Inteligencia Artificial">

<!-- TWITTER CARD METADATA -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="./img/apiPOS.png">
<meta name="twitter:image:alt" content="API de Whatsapp con Inteligencia Artificial">
<meta name="twitter:image:width" content="800">
<meta name="twitter:image:height" content="564">

<!-- FAVICONS DINAMICOS-->
<link rel="icon" type="image/png" sizes="36x36" href="./img/icon/android-icon-36x36.png">
<link rel="icon" type="image/png" sizes="48x48" href="./img/icon/android-icon-48x48.png">
<link rel="icon" type="image/png" sizes="72x72" href="./img/icon/android-icon-72x72.png">
<link rel="icon" type="image/png" sizes="96x96" href="./img/icon/android-icon-96x96.png">
<link rel="icon" type="image/png" sizes="144x144" href="./img/icon/android-icon-144x144.png">
<link rel="icon" type="image/png" sizes="192x192" href="./img/icon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="./img/icon/android-icon-512x512.png">
<link rel="apple-touch-icon" sizes="57x57" href="./img/icon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="./img/icon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="./img/icon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="./img/icon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="./img/icon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="./img/icon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="./img/icon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="./img/icon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="./img/icon/apple-icon-180x180.png">
<link rel="apple-touch-icon" sizes="192x192" href="./img/icon/apple-icon-192x192.png">
<link rel="icon" type="image/png" sizes="16x16" href="./img/icon/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="./img/icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="./img/icon/favicon-96x96.png">
<meta name="msapplication-TileImage" content="./img/icon/ms-icon-144x144.png">
<link rel="manifest" href="./manifest.json">
<meta name="msapplication-TileColor" content="#080060">
<meta name="theme-color" content="#080060">
<meta name="msapplication-config" content="./browserconfig.xml">
<link href="./css/bootstrap.min.css" rel="stylesheet">
<link href="./css/bootstrap-icons.css" rel="stylesheet">
<link href="./css/apierp.min.css?v=5.2.6" rel="stylesheet">
<link href="./css/apipos.min.css?v=5.2.6" rel="stylesheet">
<link href="./css/apierp_header.css?v=5.2.6" rel="stylesheet">
<link href="./css/apipos_login.css?v=5.2.6" rel="stylesheet">
<link href="./css/apierp_pipeline.css?v=5.2.6" rel="stylesheet">
<link href="./css/pdf_viewer.min.css" rel="stylesheet">
<script src="./js/echarts.min.js"></script>
</head>
<body>

<!-- MODAL NOTIFICATIONS -->
<div id="modalOverlayNotifications" class="modalOverlay"></div>
<div id="detalleModalNotifications" class="modal">
<div class="modal-content" style="border: none;">
<div class="container-buttons">
<button id="closeModalNotifications" type="button" class="close closeModal margin-left-auto">
<span>&times;</span>
</button>
</div>
<div class="dynamicContent">
<div class="carousel">
<button class="carousel-prev"><img src="./img/icon-arrow-left-blue.svg" alt="icon-arrow-right-blue" class="img-search-more-products"></button>
<div class="carousel-track-wrapper">
<div class="carousel-track"></div>
</div>
<button class="carousel-next"><img src="./img/icon-arrow-left-blue.svg" alt="icon-arrow-right-blue" class="img-search-more-products"></button>
</div>
<div id="sectionInfoItem"></div>
</div>
</div>
</div>

<!-- LOGIN -->
<section id="login" style="padding: 0; margin: 0;"></section>

<!-- HEADER -->
<header id="header" class="header dark-background d-flex flex-column hidden"></header>
<header id="topbar" class="topbar hidden"></header>

<!-- MAIN -->
<main>
<div id="pos" class="container hidden">

<!-- RESOURCES -->
<div class="ntf-notification-wrapper hidden">
<a href="javascript:void(0)" id="tabs-notifications" class="ntf-bell">
<img src="./img/icon-notification.svg" alt="icon-notifications" class="img-tab-home">
<span id="ntf-notif-count" class="ntf-badge">0</span>
</a>
<div id="ntf-notification-dropdown" class="ntf-dropdown ntf-hidden">
<ul id="ntf-notifications-list"></ul>
</div>
</div>
<button id="fullscreen-btn" class="custom-input-cart-options form-control hidden" type="button">
<img src="./img/icon-fullscreen.svg" alt="icon-areas" class="img-tab-home">
</button>
<select id="setBranchId" class="hidden"></select>
<select id="setWarehouseId" class="hidden"></select>
<select id="setFloorId" class="hidden"></select>
<span id="setPlanName" class="plan-title element-header-response hidden"></span>
<span id="setCashierName" class="user-name element-header-response hidden"></span>

<!-- PIPELINES -->
<div class="pipeline_app_container">
<!-- Header mejorado -->
<header class="pipeline_header">
<div class="pipeline_header_content">
<div class="pipeline_logo_section">
<div class="pipeline_logo">EM</div>
<div class="pipeline_header_titles">
<h1>Gestión de Leads</h1>
<h2>Pipeline CRM - Sucursal Principal</h2>
</div>
</div>
<div class="pipeline_header_actions">
<button class="pipeline_btn_secondary" id="pipeline_add_etapa_btn" title="Añadir nueva etapa">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Añadir Etapa
</button>
</div>
</div>
</header>

<!-- Pipeline container -->
<main class="pipeline_container" id="pipeline_container">
<!-- Las etapas se generarán dinámicamente aquí -->
</main>
</div>

<!-- Modal de Etapa -->
<div id="pipeline_etapa_modal" class="pipeline_modal">
<div class="pipeline_modal_content">
<span class="pipeline_close" onclick="pipeline_cerrar_modal('pipeline_etapa_modal')">&times;</span>
<div class="pipeline_modal_header">
<h2 class="pipeline_modal_title" id="pipeline_modal_title">Nueva Etapa</h2>
</div>
<div class="pipeline_modal_content_scroll">
<form id="pipeline_etapa_form" class="pipeline_space_y_4">
<input type="hidden" id="pipeline_etapa_id">
<div class="pipeline_form_group">
<label for="pipeline_etapa_nombre">Nombre de la Etapa:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M3 7a2 2 0 0 1 2-2h4l2 2h6a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="text" id="pipeline_etapa_nombre" required placeholder="Ej: Nuevo Lead">
</div>
</div>
<div class="pipeline_form_group">
<label for="pipeline_etapa_color">Color de la Etapa:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="color" id="pipeline_etapa_color" value="#6366f1">
</div>
</div>
<button type="submit" class="pipeline_btn_primary pipeline_w_full">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M5 13l4 4L19 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Guardar Etapa
</button>
</form>
</div>
</div>
</div>

<!-- Modal de Ticket -->
<div id="pipeline_ticket_modal" class="pipeline_modal">
<div class="pipeline_modal_content">
<span class="pipeline_close" onclick="pipeline_cerrar_modal('pipeline_ticket_modal')">&times;</span>
<div class="pipeline_modal_header">
<h2 class="pipeline_modal_title" id="pipeline_ticket_modal_title">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
<path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Nuevo Ticket</span>
</h2>
</div>
<div class="pipeline_modal_body">
<nav class="pipeline_modal_sidebar" id="pipeline_modal_sidebar_menu">
<button class="pipeline_tab_button active" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_info', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Información Principal
</button>
<button class="pipeline_tab_button" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_tareas', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Tareas y Checklist
</button>
<button class="pipeline_tab_button" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_reuniones', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Reuniones / Citas
</button>
<button class="pipeline_tab_button" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_etiquetas', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Etiquetas
</button>
<button class="pipeline_tab_button" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_comentarios', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Comentarios
</button>
<button class="pipeline_tab_button" onclick="pipeline_mostrar_seccion('pipeline_modal_seccion_final', this)">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="display: inline-block; margin-right: 0.5rem;">
<path d="M5 13l4 4L19 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Finalizar
</button>
</nav>

<div class="pipeline_modal_content_scroll">
<form id="pipeline_ticket_form">
<input type="hidden" id="pipeline_ticket_id">
<input type="hidden" id="pipeline_ticket_etapa_id">

<!-- Sección Información Principal -->
<div id="pipeline_modal_seccion_info" class="pipeline_modal_section active">
<div class="pipeline_form_group">
<label for="pipeline_ticket_nombre">Nombre del Ticket:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M3 7a2 2 0 0 1 2-2h4l2 2h6a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="text" id="pipeline_ticket_nombre" required placeholder="Ej: Lead que Arregla celulares">
</div>
</div>

<div class="pipeline_form_group">
<label for="pipeline_ticket_descripcion">Descripción:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M8 7h8M8 12h8M8 17h5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<textarea id="pipeline_ticket_descripcion" rows="3" placeholder="Detalle las tareas y objetivos del ticket."></textarea>
</div>
</div>

<div class="pipeline_two_columns">
<div class="pipeline_form_group">
<label for="pipeline_ticket_agregado_por">Agregado por (Múltiple):</label>
<div class="pipeline_custom_multi_select" id="pipeline_multi_select_agregado_por">
<span class="pipeline_input_icon" style="margin-top: 2px;">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zM4 20a8 8 0 0 1 16 0" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<div class="pipeline_select_tags_container"></div>
</div>
<input type="hidden" id="pipeline_ticket_agregado_por_ids" value="">
</div>

<div class="pipeline_form_group">
<label for="pipeline_ticket_cliente">Cliente o contacto (Múltiple):</label>
<div class="pipeline_custom_multi_select" id="pipeline_multi_select_cliente">
<span class="pipeline_input_icon" style="margin-top: 2px;">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM4 21v-2a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<div class="pipeline_select_tags_container"></div>
</div>
<input type="hidden" id="pipeline_ticket_cliente_ids" value="">
</div>
</div>

<div class="pipeline_form_group">
<label for="pipeline_ticket_responsables">Responsable(s) (Múltiple):</label>
<div class="pipeline_custom_multi_select" id="pipeline_multi_select_responsables">
<span class="pipeline_input_icon" style="margin-top: 2px;">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zM20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<div class="pipeline_select_tags_container"></div>
</div>
<input type="hidden" id="pipeline_ticket_responsables_ids" value="">
</div>
</div>

<!-- Sección Tareas -->
<div id="pipeline_modal_seccion_tareas" class="pipeline_modal_section">
<h3>Tareas y Checklist</h3>
<div class="pipeline_form_group" id="pipeline_tasklist_container">
<div class="pipeline_progress_label">
<span>Progreso de Tareas:</span>
<span id="pipeline_task_progress_percent">0%</span>
</div>
<div class="pipeline_task_progress_bar">
<div id="pipeline_task_progress_bar_indicator" class="pipeline_task_progress_indicator" style="width: 0%;"></div>
</div>

<div class="pipeline_task_input_row" style="margin-top: 1rem; display: flex; gap: 0.5rem; align-items: center;">
<input type="text" id="pipeline_nueva_tarea_nombre" placeholder="Descripción de la tarea" style="flex: 1; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md);">
<input type="date" id="pipeline_nueva_tarea_fecha" title="Fecha límite" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md);">
<div class="pipeline_custom_multi_select" id="pipeline_nueva_tarea_responsables" style="flex: 1; border: 1px solid #e2e8f0; min-height: 2.5rem; padding: 0.375rem;">
<div class="pipeline_select_tags_container"></div>
</div>
<input type="hidden" id="pipeline_nueva_tarea_responsables_ids">
<button type="button" id="pipeline_agregar_tarea_btn" class="pipeline_btn_primary" style="padding: 0.5rem 0.75rem;" title="Agregar tarea">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none">
<path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
</div>

<div id="pipeline_task_list" class="pipeline_task_list">
<p style="color: var(--pipeline_text_secondary); font-size: 0.875rem; text-align: center; padding: 1rem 0;" id="pipeline_no_tasks_message">No hay tareas aún. ¡¡Agrega la primera!</p>
</div>
</div>
</div>

<!-- Sección Reuniones -->
<div id="pipeline_modal_seccion_reuniones" class="pipeline_modal_section">
<h3>Reuniones y Citas</h3>
<div class="pipeline_form_group" id="pipeline_reuniones_container">
<div class="pipeline_task_input_row" style="margin-top: 1rem; display: flex; gap: 0.5rem; align-items: center;">
<input type="datetime-local" id="pipeline_nueva_reunion_fecha_hora" placeholder="Fecha y hora de la reunión" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md);">
<div class="pipeline_custom_multi_select" id="pipeline_nueva_reunion_responsables" style="flex: 1; border: 1px solid #e2e8f0; min-height: 2.5rem; padding: 0.375rem;">
<div class="pipeline_select_tags_container"></div>
</div>
<input type="hidden" id="pipeline_nueva_reunion_responsables_ids">
<button type="button" id="pipeline_agregar_reunion_btn" class="pipeline_btn_primary" style="padding: 0.5rem 0.75rem;" title="Agregar reunión">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none">
<path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
</div>
<div id="pipeline_reunion_list" class="pipeline_task_list">
<p style="color: var(--pipeline_text_secondary); font-size: 0.875rem; text-align: center; padding: 1rem 0;" id="pipeline_no_reuniones_message">No hay reuniones programadas.</p>
</div>
</div>
</div>

<!-- Sección Etiquetas -->
<div id="pipeline_modal_seccion_etiquetas" class="pipeline_modal_section">
<h3>Etiquetas y Referencias</h3>
<div class="pipeline_form_group" id="pipeline_etiquetas_container">
<div class="pipeline_task_input_row" style="margin-top: 1rem; display: flex; gap: 0.5rem; align-items: center;">
<input type="text" id="pipeline_nueva_etiqueta_nombre" placeholder="Nombre de la persona referida" style="flex: 1; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md);">
<input type="color" id="pipeline_nueva_etiqueta_color" value="#fbbf24" style="width: 3rem; height: 2.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md); padding: 0.25rem;">
<button type="button" id="pipeline_agregar_etiqueta_btn" class="pipeline_btn_primary" style="padding: 0.5rem 0.75rem;" title="Agregar etiqueta">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none">
<path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
</div>
<div id="pipeline_etiqueta_list" style="margin-top: 1rem;">
<p style="color: var(--pipeline_text_secondary); font-size: 0.875rem; text-align: center; padding: 1rem 0;" id="pipeline_no_etiquetas_message">No hay etiquetas.</p>
</div>
</div>
</div>

<!-- Sección Comentarios -->
<div id="pipeline_modal_seccion_comentarios" class="pipeline_modal_section">
<h3>Comentarios y Log de Actividad</h3>
<div class="pipeline_form_group" id="pipeline_comentarios_container">
<div class="pipeline_task_input_row" style="margin-top: 1rem; display: flex; gap: 0.5rem;">
<textarea id="pipeline_nuevo_comentario" rows="2" placeholder="Agrega un comentario..." style="flex: 1; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md); resize: vertical; min-height: 60px;"></textarea>
<button type="button" id="pipeline_agregar_comentario_btn" class="pipeline_btn_primary" style="padding: 0.5rem 0.75rem; align-self: flex-start;" title="Agregar comentario">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none">
<path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</button>
</div>
<div id="pipeline_comentario_list" class="pipeline_task_list">
<p style="color: var(--pipeline_text_secondary); font-size: 0.875rem; text-align: center; padding: 1rem 0;" id="pipeline_no_comentarios_message">No hay comentarios aún.</p>
</div>
</div>
</div>

<!-- Sección Final -->
<div id="pipeline_modal_seccion_final" class="pipeline_modal_section">
<h3>Plazos y Cierre</h3>

<div class="pipeline_form_group">
<label>Fechas y Plazos:</label>
<div class="pipeline_two_columns" style="border: 1px solid #e2e8f0; border-radius: var(--pipeline_radius_md); padding: 1rem; background: #f8fafc;">
<div class="pipeline_form_group">
<label for="pipeline_ticket_fecha_creacion">Fecha Creación:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M8 7h8M8 12h8M8 17h8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="datetime-local" id="pipeline_ticket_fecha_creacion">
</div>
</div>
<div class="pipeline_form_group">
<label for="pipeline_ticket_fecha_inicio">Fecha Inicio:</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M8 7h8M8 12h8M8 17h8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="date" id="pipeline_ticket_fecha_inicio">
</div>
</div>
<div class="pipeline_form_group">
<label for="pipeline_ticket_fecha_vencimiento">Fecha Vencimiento (Plazo):</label>
<div class="pipeline_input_with_icon">
<span class="pipeline_input_icon">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M8 7h8M8 12h8M8 17h8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</span>
<input type="date" id="pipeline_ticket_fecha_vencimiento" required>
</div>
</div>
</div>

<div style="display: flex; justify-content: space-between; align-items: center; padding-top: 0.75rem; border-top: 1px solid #e2e8f0; margin-top: 0.75rem;">
<span id="pipeline_plazo_status" style="font-weight: 700; font-size: 0.875rem;"></span>
<label style="display: flex; align-items: center; gap: 0.5rem; font-weight: 600; color: var(--pipeline_text_primary); margin-bottom: 0;">
<input type="checkbox" id="pipeline_ticket_completado" style="width: auto; margin: 0;">
¿Completado?
</label>
</div>
</div>

<button type="submit" id="pipeline_guardar_ticket_btn" class="pipeline_btn_primary pipeline_w_full">
<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
<path d="M5 13l4 4L19 7" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
Guardar Ticket
</button>
</div>
</form>
</div>
</div>
</div>
</div>

<!-- Modal de Confirmación -->
<div id="pipeline_confirm_modal" class="pipeline_modal">
<div class="pipeline_modal_content" style="max-width: 400px;">
<span class="pipeline_close" onclick="pipeline_cerrar_modal('pipeline_confirm_modal')">&times;</span>
<div class="pipeline_modal_header">
<h2 class="pipeline_modal_title" id="pipeline_confirm_modal_title">Confirmar acción</h2>
</div>
<div class="pipeline_modal_content_scroll">
<p id="pipeline_confirm_modal_message" style="margin-bottom: 1.5rem; color: var(--pipeline_text_secondary);">¿Estás seguro de que deseas realizar esta acción?</p>
<div style="display: flex; gap: 1rem; justify-content: center;">
<button id="pipeline_confirm_cancel_btn" class="pipeline_btn_secondary">Cancelar</button>
<button id="pipeline_confirm_ok_btn" class="pipeline_btn_primary">Aceptar</button>
</div>
</div>
</div>
</div>
</div>
</main>

<!-- ALERTS -->
<div id="ntf-flotante-container"></div>

<!-- SCRIPTS -->
<script src="./js/apierp_main.js?v=5.2.6"></script>
<script src="./js/bootstrap.bundle.min.js"></script>
<script src="./js/pos-main.js"></script>
<script src="./js/setup-pdf-lib.min.js"></script>
<script src="./js/pdf-lib.min.js"></script>
<script src="./js/fontkit.umd.min.js"></script>
<script src="./js/qrcode.min.js"></script>
<script src="./js/app_pdf.min.js"></script>
<script src="./js/pos.js"></script>
<script src="./js/apipos_setup.min.js?v=5.2.6"></script>
<script src="./js/apierp_header.js"></script>
<script src="./js/apierp_crm.min.js?v=5.2.6"></script>
</body>
</html>