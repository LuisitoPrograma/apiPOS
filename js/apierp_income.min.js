/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.0
*/

const _0x2eeb41=_0x4c52;(function(_0x55ff5b,_0x9042d4){const _0x33d04e=_0x4c52,_0x4d1c40=_0x55ff5b();while(!![]){try{const _0x57a093=parseInt(_0x33d04e(0x213))/0x1*(-parseInt(_0x33d04e(0x1bc))/0x2)+-parseInt(_0x33d04e(0x205))/0x3*(parseInt(_0x33d04e(0x2c5))/0x4)+-parseInt(_0x33d04e(0x29a))/0x5*(parseInt(_0x33d04e(0x1f0))/0x6)+-parseInt(_0x33d04e(0x218))/0x7*(-parseInt(_0x33d04e(0x221))/0x8)+parseInt(_0x33d04e(0x2ca))/0x9*(parseInt(_0x33d04e(0x1e7))/0xa)+parseInt(_0x33d04e(0x23d))/0xb+-parseInt(_0x33d04e(0x2b3))/0xc*(-parseInt(_0x33d04e(0x2c3))/0xd);if(_0x57a093===_0x9042d4)break;else _0x4d1c40['push'](_0x4d1c40['shift']());}catch(_0x356d0d){_0x4d1c40['push'](_0x4d1c40['shift']());}}}(_0x3bfa,0x241d3));const _0x424bbb=(function(){let _0x5b0486=!![];return function(_0x3ebbe5,_0x587080){const _0x5226ee=_0x5b0486?function(){const _0x2e942b=_0x4c52;if(_0x587080){const _0x9ec64e=_0x587080[_0x2e942b(0x28d)](_0x3ebbe5,arguments);return _0x587080=null,_0x9ec64e;}}:function(){};return _0x5b0486=![],_0x5226ee;};}()),_0x2c00ca=_0x424bbb(this,function(){const _0x33e11c=_0x4c52;return _0x2c00ca[_0x33e11c(0x273)]()[_0x33e11c(0x22a)]('(((.+)+)+)+$')['toString']()[_0x33e11c(0x23c)](_0x2c00ca)[_0x33e11c(0x22a)](_0x33e11c(0x2a7));});_0x2c00ca();const _0x4f775c=(function(){let _0x394f99=!![];return function(_0x1ec2a0,_0x215f8f){const _0x3c05c0=_0x394f99?function(){const _0x44376=_0x4c52;if(_0x215f8f){const _0x51daf7=_0x215f8f[_0x44376(0x28d)](_0x1ec2a0,arguments);return _0x215f8f=null,_0x51daf7;}}:function(){};return _0x394f99=![],_0x3c05c0;};}()),_0x225535=_0x4f775c(this,function(){const _0x422274=_0x4c52;let _0x14dd6e;try{const _0x560bee=Function(_0x422274(0x1fe)+_0x422274(0x2ac)+');');_0x14dd6e=_0x560bee();}catch(_0x3785fd){_0x14dd6e=window;}const _0x88be88=_0x14dd6e['console']=_0x14dd6e[_0x422274(0x228)]||{},_0x3a1742=[_0x422274(0x25d),_0x422274(0x1c3),'info','error',_0x422274(0x2a1),_0x422274(0x2af),'trace'];for(let _0x5d6dd8=0x0;_0x5d6dd8<_0x3a1742[_0x422274(0x233)];_0x5d6dd8++){const _0x228120=_0x4f775c[_0x422274(0x23c)][_0x422274(0x287)][_0x422274(0x259)](_0x4f775c),_0x393815=_0x3a1742[_0x5d6dd8],_0x5cb47c=_0x88be88[_0x393815]||_0x228120;_0x228120[_0x422274(0x20d)]=_0x4f775c[_0x422274(0x259)](_0x4f775c),_0x228120[_0x422274(0x273)]=_0x5cb47c[_0x422274(0x273)][_0x422274(0x259)](_0x5cb47c),_0x88be88[_0x393815]=_0x228120;}});_0x225535();let arrayIncomes;const fil_init_dates=document[_0x2eeb41(0x247)]('date-range-label-icon'),label=document['getElementById'](_0x2eeb41(0x1bd)),options=document[_0x2eeb41(0x247)](_0x2eeb41(0x27b)),divChartIncome=document['getElementById'](_0x2eeb41(0x21d)),divChartItem=document[_0x2eeb41(0x247)](_0x2eeb41(0x1e1)),divChartCustomer=document[_0x2eeb41(0x247)](_0x2eeb41(0x1b9));function _0x3bfa(){const _0x387545=['\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','apply-filter','getElementById','setDate','getDay','getAttribute','Mi\x20Empresa','getFullYear','del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','setCustomers','btn-outline-primary','getSeconds','scrollLeft','...','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','closeModalViewDetails','getMonth','isArray','setCustomerName','bind','setApiEndPoint','preventDefault','Pendiente','log','Ventas\x20por\x20Producto','profit','#00AEEF','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','split','Reporte\x20','setBranchDefault','cost','Invalid\x20range\x20type','download','target','Costo','\x20no\x20existe','./img/apiPOS.png','</td>\x0a<td>','</td>\x0a','category','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','total','exportReport','mouseup','toString','getDate','setAuthToken','values','setOperationDetailUnitCost','toFixed','YOUR_EMAIL_AUTH_TOKEN','setFloorId','date-range-options','querySelectorAll','setTipoOperacionCodigo','exportDone','.btn-logout','result','Export\x20WK\x20Error:','setOperationNumber','readAsDataURL','\x22\x20no\x20existe.','Ventas','createObjectURL','prototype','onclick',';\x22>\x0a','.modal-content','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setOperationPaymentStatusName','apply','Pagado','\x20-\x20',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setOperationCurrency','Siguiente\x20&raquo;','change','Error\x20al\x20enviar\x20por\x20WhatsApp.','Total','setOption','top','valueDesc','./js/apierp_export_wk.min.js','40juREbO','btn\x20btn-sm\x20btn-outline\x20ms-2','status','data','then','#00bb2d','assign','exception','Contenedor\x20','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>','btn\x20btn-sm\x20','style','display','(((.+)+)+)+$','No\x20se\x20encontró\x20información\x20de\x20ingresos','stringify','mousemove','setOperationCustomerName','{}.constructor(\x22return\x20this\x22)(\x20)','Error\x20WA:','sales','table','push','setOperationTypeSpan','shadow','2302764DupYNE','de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','line','customerName','Sin\x20descripción','offsetLeft','flatMap','Modo\x20de\x20exportación\x20desconocido:','setTipoOperaciones','Ventas\x20por\x20Cliente','href','dispatchEvent','setOperationCustomerId','PLE_Ventas','revokeObjectURL','El\x20contenedor\x20con\x20id\x20\x22','13NfhOSA','setOperationId','7132SSSCsV','\x22>\x0a','map','catch','Error\x20','36TkOsGc','setOperationPaymentStatus','week','none','#FF5900','detalle','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','createElement','\x0a</td>\x0a','\x2023:59:59','init','#080060','application/octet-stream','divChartCustomer','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','954pbdOBm','date-range-label','block','querySelector','PASSWORD123','application/json;\x20charset=utf-8','\x0a</td>\x0a<td></td>\x0a','warn','&laquo;\x20Anterior','filter','dataset_raw','getMinutes','https://fasyb.com/api/pdf/proxy/?file=','\x2000:00:00','setOperationDetailTotal','textContent','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','slice','setOperationType','height','Ganancia','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','setOperationTotal','cantidad','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','padStart','https://fasyb.com/api/venta/view/?id=','POST','innerHTML','no-reply@miempresa.com','Error\x20al\x20solicitar\x20reporte','onload','pedido','getInstance','btn-outline','setTipoOperacionName','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','divChartItem','100%','{b}:\x20{d}%','hide','find','setOperationDetailUnitPresentationId','22570FYPHKf','contains','recibo','currency','YOUR_WA_CRED_ID','fechaISO','error','active','bar','106716uazHvs','#reporte-income-products','setDescripcion','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','pie','btnExport','setOperationDetailQuantity','value','json','productName','\x0a<td\x20class=\x22td-bg-none\x22>','toISOString','bottom','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','return\x20(function()\x20','Evolución\x20de\x20Ventas','classList','additionalFilters','modalOverlayViewDetails','year','Error\x20al\x20aplicar\x20filtro','456gXVdEt','detalleModal','</td>\x0a</tr>','email','setBranchId','filter-start','name','width','__proto__','setOperationSeries','detalleTablaBody','.xlsx','reduce','middle','5YYqnMZ','round','entries','remove','&tipo=','1763433AgxXWn','Error\x20al\x20exportar.','400px','whatsapp','both','divChartIncome','pageX','postMessage','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','8wfUqmt','setOperationDateTime','center','incomes','customers','producto','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','console','Error\x20al\x20cargar\x20el\x20detalle.','search','dynamicContent','statusText','\x0a<iframe\x20src=\x22','Modal','mousedown','ceil','factura','dataset_','length','#pagination-customers','forEach','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','addEventListener','.table-wrapper','btn\x20btn-sm\x20btn-outline\x20me-2','appendChild','setOperationItems','constructor','1218448PuevGl','\x20tbody','filtrar','products','#reporte-income','setTipoComprobante','click','className'];_0x3bfa=function(){return _0x387545;};return _0x3bfa();}let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x5d79f9){const _0x5b2089=_0x2eeb41,{containerId:_0x4c5e03,rawData:_0x3f00e0,groupField:_0x281a7e,groupValues:_0x23f126,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x3eb565,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x5b2089(0x298),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x292904,height:_0x1c7977}=_0x5d79f9,_0x21d2af=document['getElementById'](_0x4c5e03);if(!_0x21d2af){console[_0x5b2089(0x1ed)](_0x5b2089(0x2c2)+_0x4c5e03+_0x5b2089(0x284));return;}if(_0x292904)_0x21d2af[_0x5b2089(0x2a5)][_0x5b2089(0x20c)]=_0x292904;if(_0x1c7977)_0x21d2af[_0x5b2089(0x2a5)][_0x5b2089(0x1cf)]=_0x1c7977;const _0x187dea=echarts[_0x5b2089(0x1b6)](_0x21d2af),_0x23cbd6=[],_0x3dec7f=[];_0x23f126['forEach']((_0xebf4d1,_0x243a51)=>{const _0x49cd30=_0x5b2089,_0x545718=_0x49cd30(0x232)+_0xebf4d1,_0x1dfb6f=(_0x5d79f9[_0x49cd30(0x201)]||[])['concat']([{'dimension':_0x281a7e,'=':_0xebf4d1}]);_0x23cbd6[_0x49cd30(0x2b0)]({'id':_0x545718,'fromDatasetId':_0x49cd30(0x1c6),'transform':{'type':_0x49cd30(0x1c5),'config':{'and':_0x1dfb6f}}}),_0x3dec7f[_0x49cd30(0x2b0)]({'type':chartType,'datasetId':_0x545718,'name':_0xebf4d1,...chartType===_0x49cd30(0x1ef)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x243a51]||undefined},...chartType===_0x49cd30(0x2b5)&&{'showSymbol':![]},'encode':_0x3eb565});});const _0x1f9d0c={'animationDuration':animationDuration,'dataset':[{'id':_0x5b2089(0x1c6),'source':_0x3f00e0},..._0x23cbd6],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x5b2089(0x2a0)]({'type':_0x5b2089(0x26e),'nameLocation':_0x5b2089(0x212)},xAxisConfig),'yAxis':Object['assign']({'name':_0x3eb565['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x3dec7f};_0x187dea[_0x5b2089(0x296)](_0x1f9d0c);}function generatePieChart({containerId:_0x318cac,data:_0x498f24,nameField:_0x1a70d4,valueField:_0x535918,title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],width:_0x46b393,height:_0x45cb41}){const _0x58a066=_0x2eeb41,_0x59c57c=document['getElementById'](_0x318cac);if(!_0x59c57c)return console[_0x58a066(0x1ed)]('Contenedor\x20'+_0x318cac+'\x20no\x20existe');if(_0x46b393)_0x59c57c[_0x58a066(0x2a5)][_0x58a066(0x20c)]=_0x46b393;if(_0x45cb41)_0x59c57c[_0x58a066(0x2a5)][_0x58a066(0x1cf)]=_0x45cb41;const _0x4db59c=echarts['init'](_0x59c57c),_0x115926=_0x498f24[_0x58a066(0x211)]((_0xb2b495,_0x296bfe)=>{const _0x4116c8=_0x58a066,_0x41cc31=_0x296bfe[_0x1a70d4],_0xad65b=_0x296bfe[_0x535918];let _0x4981af=_0xb2b495['find'](_0x2c7310=>_0x2c7310[_0x4116c8(0x20b)]===_0x41cc31);return!_0x4981af&&(_0x4981af={'name':_0x41cc31,'value':0x0},_0xb2b495['push'](_0x4981af)),_0x4981af['value']+=_0xad65b,_0xb2b495;},[]);let _0x396829;showTitle?(_0x396829={'text':title,'left':_0x58a066(0x223)},titlePosition===_0x58a066(0x1fc)?_0x396829[_0x58a066(0x1fc)]=0x0:_0x396829['top']=0x0):_0x396829={'show':![]};const _0x401f93={'title':_0x396829,'tooltip':{'trigger':'item'},'series':[{'type':_0x58a066(0x1f4),'radius':'50%','data':_0x115926,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x58a066(0x1e3)}}]};_0x4db59c[_0x58a066(0x296)](_0x401f93);}function generateHorizontalBarChart({containerId:_0x4dbf08,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x2eeb41(0x297),showTitle:showTitle=!![],colors:colors=[],width:_0x1f3f29,height:_0xe1038d,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x2e19ff=_0x2eeb41,_0x3f7a2a=document[_0x2e19ff(0x247)](_0x4dbf08);if(!_0x3f7a2a)return console['error'](_0x2e19ff(0x2a2)+_0x4dbf08+_0x2e19ff(0x26a));if(_0x1f3f29)_0x3f7a2a[_0x2e19ff(0x2a5)]['width']=_0x1f3f29;if(_0xe1038d)_0x3f7a2a[_0x2e19ff(0x2a5)]['height']=_0xe1038d;const _0x40614d=echarts[_0x2e19ff(0x1b6)](_0x3f7a2a),_0x4bbbcc=showTitle?{'text':title,'left':'center',...titlePosition==='bottom'?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x2e19ff(0x1fc)?_0x4bbbcc[_0x2e19ff(0x1fc)]=0x0:_0x4bbbcc['top']=0x0;const _0x47ec0b={'title':_0x4bbbcc,'tooltip':{'trigger':'axis','axisPointer':{'type':_0x2e19ff(0x2b2)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x2e19ff(0x2a0)]({'type':'value','boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x2e19ff(0x2a0)]({'type':'category','data':categories},yAxisConfig),'series':series[_0x2e19ff(0x2c7)]((_0x69de17,_0x28bc0a)=>({'type':_0x2e19ff(0x1ef),'name':_0x69de17[_0x2e19ff(0x20b)],'data':_0x69de17[_0x2e19ff(0x29d)],'itemStyle':{'color':colors[_0x28bc0a]||undefined}}))};_0x40614d['setOption'](_0x47ec0b);}function showModalViewDetails(){const _0x28e7ea=_0x2eeb41,_0x387e7f=document[_0x28e7ea(0x247)](_0x28e7ea(0x206)),_0x27b24b=document[_0x28e7ea(0x247)]('modalOverlayViewDetails');_0x387e7f['classList']['add']('active'),_0x27b24b[_0x28e7ea(0x2a5)][_0x28e7ea(0x2a6)]=_0x28e7ea(0x1be);}function hideModalViewDetails(){const _0xc98b1d=_0x2eeb41,_0x51ab16=document[_0xc98b1d(0x247)](_0xc98b1d(0x206)),_0x49b327=document[_0xc98b1d(0x247)](_0xc98b1d(0x202));_0x51ab16[_0xc98b1d(0x200)][_0xc98b1d(0x216)](_0xc98b1d(0x1ee)),_0x49b327[_0xc98b1d(0x2a5)]['display']=_0xc98b1d(0x1af);const _0x450582=document[_0xc98b1d(0x247)](_0xc98b1d(0x22b));_0x450582[_0xc98b1d(0x1d8)]=_0xc98b1d(0x1d4);}document[_0x2eeb41(0x247)](_0x2eeb41(0x255))[_0x2eeb41(0x237)](_0x2eeb41(0x243),hideModalViewDetails),document['getElementById'](_0x2eeb41(0x202))[_0x2eeb41(0x237)](_0x2eeb41(0x243),hideModalViewDetails);function verDetalle(_0x200cfa,_0x47981e){const _0x5a75a4=_0x2eeb41;fetch(_0x5a75a4(0x1d6)+_0x200cfa+_0x5a75a4(0x217)+_0x47981e)[_0x5a75a4(0x29e)](_0x19ac67=>{const _0x2310de=_0x5a75a4;if(!_0x19ac67['ok'])throw new Error(_0x2310de(0x2c9)+_0x19ac67[_0x2310de(0x29c)]+':\x20'+_0x19ac67[_0x2310de(0x22c)]);return _0x19ac67[_0x2310de(0x1f8)]();})[_0x5a75a4(0x29e)](_0x1e10c1=>{const _0x56fcc2=_0x5a75a4;if(_0x1e10c1['success']){const _0x121068=document[_0x56fcc2(0x247)](_0x56fcc2(0x22b));if(_0x47981e===_0x56fcc2(0x1b1)){let _0x17e9b0='';_0x1e10c1[_0x56fcc2(0x29d)][_0x56fcc2(0x235)](_0x3f4177=>{const _0x492c77=_0x56fcc2;_0x17e9b0+='\x0a<tr>\x0a<td>'+_0x3f4177[_0x492c77(0x226)]+_0x492c77(0x26c)+_0x3f4177[_0x492c77(0x1d3)]+_0x492c77(0x26c)+_0x3f4177['valor_unitario']+'</td>\x0a<td>'+_0x3f4177[_0x492c77(0x270)]+_0x492c77(0x207);}),document[_0x56fcc2(0x247)](_0x56fcc2(0x20f))[_0x56fcc2(0x1d8)]=_0x17e9b0;}else{if(_0x47981e==='pdf'){const _0x305583=_0x56fcc2(0x1c8)+encodeURIComponent(_0x1e10c1['pdf_url']),_0x440050=document[_0x56fcc2(0x1bf)](_0x56fcc2(0x28a));_0x121068[_0x56fcc2(0x1d8)]=_0x56fcc2(0x22d)+_0x305583+'\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a',document[_0x56fcc2(0x247)](_0x56fcc2(0x255))[_0x56fcc2(0x237)]('click',hideModalViewDetails);}}showModalViewDetails();}else alert(_0x1e10c1[_0x56fcc2(0x1ed)]||_0x56fcc2(0x1b2));})[_0x5a75a4(0x2c8)](_0x32cbd2=>{const _0x1badd1=_0x5a75a4;console[_0x1badd1(0x1ed)]('Error\x20al\x20cargar\x20el\x20detalle:',_0x32cbd2),alert(_0x1badd1(0x229));});}label[_0x2eeb41(0x237)](_0x2eeb41(0x243),()=>{const _0x5b8d69=_0x2eeb41;options[_0x5b8d69(0x2a5)][_0x5b8d69(0x2a6)]=options[_0x5b8d69(0x2a5)][_0x5b8d69(0x2a6)]==='none'?_0x5b8d69(0x1be):_0x5b8d69(0x1af);}),options[_0x2eeb41(0x237)](_0x2eeb41(0x243),_0x3a6565=>{const _0x2c4623=_0x2eeb41;if(_0x3a6565[_0x2c4623(0x268)]&&_0x3a6565[_0x2c4623(0x268)]['tagName']==='LI'){const _0x23b61e=_0x3a6565[_0x2c4623(0x268)][_0x2c4623(0x24a)]('data-value');updateDateRange(_0x23b61e),options[_0x2c4623(0x2a5)][_0x2c4623(0x2a6)]=_0x2c4623(0x1af);}}),document[_0x2eeb41(0x237)]('click',_0x437766=>{const _0xa2b399=_0x2eeb41;!label['contains'](_0x437766[_0xa2b399(0x268)])&&!options[_0xa2b399(0x1e8)](_0x437766[_0xa2b399(0x268)])&&(options[_0xa2b399(0x2a5)][_0xa2b399(0x2a6)]=_0xa2b399(0x1af));});function formatDateToYmdHis(_0x4590ae){const _0x564822=_0x2eeb41,_0x5a2181=_0x4590ae[_0x564822(0x24c)](),_0x28cc2a=String(_0x4590ae[_0x564822(0x256)]()+0x1)[_0x564822(0x1d5)](0x2,'0'),_0x536f9d=String(_0x4590ae['getDate']())[_0x564822(0x1d5)](0x2,'0'),_0x594628=String(_0x4590ae['getHours']())['padStart'](0x2,'0'),_0x40afaa=String(_0x4590ae[_0x564822(0x1c7)]())[_0x564822(0x1d5)](0x2,'0'),_0x29b3e6=String(_0x4590ae[_0x564822(0x251)]())[_0x564822(0x1d5)](0x2,'0');return _0x5a2181+'-'+_0x28cc2a+'-'+_0x536f9d+'\x20'+_0x594628+':'+_0x40afaa+':'+_0x29b3e6;}function getDateRange(_0x842b5b){const _0x59d705=_0x2eeb41,_0x2c36d3=new Date();let _0x35d3f0,_0x510132;switch(_0x842b5b){case'day':_0x35d3f0=new Date(_0x2c36d3[_0x59d705(0x24c)](),_0x2c36d3[_0x59d705(0x256)](),_0x2c36d3[_0x59d705(0x274)](),0x0,0x0,0x0),_0x510132=new Date(_0x2c36d3[_0x59d705(0x24c)](),_0x2c36d3[_0x59d705(0x256)](),_0x2c36d3[_0x59d705(0x274)](),0x17,0x3b,0x3b),label[_0x59d705(0x1d8)]='del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0x59d705(0x1ae):const _0x3f3f3e=_0x2c36d3[_0x59d705(0x249)](),_0x1a9a35=new Date(_0x2c36d3);_0x1a9a35[_0x59d705(0x248)](_0x2c36d3['getDate']()-_0x3f3f3e+(_0x3f3f3e===0x0?-0x6:0x1));const _0x3d69d6=new Date(_0x1a9a35);_0x3d69d6[_0x59d705(0x248)](_0x1a9a35[_0x59d705(0x274)]()+0x6),_0x35d3f0=new Date(_0x1a9a35[_0x59d705(0x24c)](),_0x1a9a35['getMonth'](),_0x1a9a35[_0x59d705(0x274)](),0x0,0x0,0x0),_0x510132=new Date(_0x3d69d6[_0x59d705(0x24c)](),_0x3d69d6[_0x59d705(0x256)](),_0x3d69d6[_0x59d705(0x274)](),0x17,0x3b,0x3b),label[_0x59d705(0x1d8)]=_0x59d705(0x2b4);break;case'month':_0x35d3f0=new Date(_0x2c36d3[_0x59d705(0x24c)](),_0x2c36d3[_0x59d705(0x256)](),0x1,0x0,0x0,0x0),_0x510132=new Date(_0x2c36d3[_0x59d705(0x24c)](),_0x2c36d3[_0x59d705(0x256)]()+0x1,0x0,0x17,0x3b,0x3b),label['innerHTML']=_0x59d705(0x24d);break;case _0x59d705(0x203):_0x35d3f0=new Date(_0x2c36d3[_0x59d705(0x24c)](),0x0,0x1,0x0,0x0,0x0),_0x510132=new Date(_0x2c36d3[_0x59d705(0x24c)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0x59d705(0x1d8)]=_0x59d705(0x261);break;default:label['innerHTML']='';throw new Error(_0x59d705(0x266));}return{'startDateFormatted':formatDateToYmdHis(_0x35d3f0),'endDateFormatted':formatDateToYmdHis(_0x510132)};}function updateDateRange(_0x100180){const _0x5cc7aa=_0x2eeb41;if(_0x100180==_0x5cc7aa(0x23f)){}else{const {startDateFormatted:_0x260254,endDateFormatted:_0x3358eb}=getDateRange(_0x100180);fil_date_start=_0x260254,fil_date_end=_0x3358eb,consultIncomeReport();}}const tableWrappers=document[_0x2eeb41(0x27c)](_0x2eeb41(0x238));function _0x4c52(_0x30758d,_0x580ca0){const _0x30cf9c=_0x3bfa();return _0x4c52=function(_0x225535,_0x4f775c){_0x225535=_0x225535-0x1ad;let _0x29df79=_0x30cf9c[_0x225535];return _0x29df79;},_0x4c52(_0x30758d,_0x580ca0);}tableWrappers[_0x2eeb41(0x235)](_0x2ff9dd=>{const _0x48c9e3=_0x2eeb41;let _0x4afa2f=![],_0x42f205,_0x29a946;_0x2ff9dd[_0x48c9e3(0x237)](_0x48c9e3(0x22f),_0x372287=>{const _0x107822=_0x48c9e3;_0x4afa2f=!![],_0x42f205=_0x372287[_0x107822(0x21e)]-_0x2ff9dd[_0x107822(0x2b8)],_0x29a946=_0x2ff9dd['scrollLeft'];}),_0x2ff9dd[_0x48c9e3(0x237)]('mouseleave',()=>{_0x4afa2f=![];}),_0x2ff9dd['addEventListener'](_0x48c9e3(0x272),()=>{_0x4afa2f=![];}),_0x2ff9dd[_0x48c9e3(0x237)](_0x48c9e3(0x2aa),_0x2eaa6a=>{const _0xd9dea6=_0x48c9e3;if(!_0x4afa2f)return;_0x2eaa6a[_0xd9dea6(0x25b)]();const _0x2cdba9=_0x2eaa6a['pageX']-_0x2ff9dd[_0xd9dea6(0x2b8)],_0x326add=(_0x2cdba9-_0x42f205)*0x2;_0x2ff9dd[_0xd9dea6(0x252)]=_0x29a946-_0x326add;});});async function consultIncomeReport(){const _0xc39d29=_0x2eeb41;showLoadingModal();const _0x5a84fa={'apiPOS_getIncome':0x1,'setToken':myCompany[_0xc39d29(0x275)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x2c071a=await fetch(myCompany[_0xc39d29(0x25a)],{'method':_0xc39d29(0x1d7),'headers':{'Content-Type':_0xc39d29(0x1c1)},'body':JSON[_0xc39d29(0x2a9)](_0x5a84fa)}),{success:_0x39fb4d,message:_0x4dfecd}=await _0x2c071a[_0xc39d29(0x1f8)]();if(!_0x39fb4d||!Array[_0xc39d29(0x257)](_0x4dfecd[_0xc39d29(0x224)])){ntfShow(_0xc39d29(0x2a8)),console[_0xc39d29(0x25d)](_0x4dfecd);return;}const _0x47fdb7=_0x4dfecd[_0xc39d29(0x224)],_0x342a1f=myCompany[_0xc39d29(0x24f)][_0xc39d29(0x211)]((_0x32fad4,_0x34b2c2)=>(_0x32fad4[_0x34b2c2['setCustomerId']]=_0x34b2c2[_0xc39d29(0x258)],_0x32fad4),{}),_0x11a83e=myCompany[_0xc39d29(0x2bb)]['reduce']((_0x12486c,_0x18a3df)=>(_0x12486c[_0x18a3df[_0xc39d29(0x27d)]]=_0x18a3df[_0xc39d29(0x1df)],_0x12486c),{}),_0x553278=myCompany['setSeries'][_0xc39d29(0x211)]((_0x3c1d50,_0x3e7f51)=>(_0x3c1d50[_0x3e7f51['ID_SERIE']]=_0x3e7f51['setSerie'],_0x3c1d50),{});arrayIncomes=_0x47fdb7[_0xc39d29(0x2c7)](_0x125038=>{const _0x4e955f=_0xc39d29,_0xea96f5=_0x125038[_0x4e955f(0x23b)][_0x4e955f(0x211)]((_0x6011f9,_0x4725ff)=>_0x6011f9+Number(_0x4725ff[_0x4e955f(0x1ca)]),0x0),_0x33406f=_0x11a83e[_0x125038[_0x4e955f(0x1ce)]]||_0x125038['setOperationType'],_0x185717=_0x553278[_0x125038[_0x4e955f(0x20e)]]||_0x125038[_0x4e955f(0x20e)],_0x3fb990=_0x342a1f[_0x125038[_0x4e955f(0x2bf)]]||_0x125038[_0x4e955f(0x2bf)],_0x507267=_0x125038[_0x4e955f(0x1ad)]==0x1?_0x4e955f(0x29f):_0x4e955f(0x1b0),_0x234522=_0x125038[_0x4e955f(0x1ad)]==0x1?_0x4e955f(0x28e):_0x4e955f(0x25c),_0x5010fe=_0x125038[_0x4e955f(0x1ce)]==0x1?_0x4e955f(0x1dc):_0x125038[_0x4e955f(0x1ce)]==0x2?_0x4e955f(0x1e9):_0x125038[_0x4e955f(0x1ce)]==0x3?'boleta':_0x125038['setOperationType']==0x4?_0x4e955f(0x231):_0x4e955f(0x1e9);return{'setOperationId':_0x125038[_0x4e955f(0x2c4)],'setOperationType':_0x33406f,'setOperationTypeSpan':_0x5010fe,'setOperationSeries':_0x185717+'-'+_0x125038[_0x4e955f(0x282)],'setOperationCustomerName':_0x3fb990,'setOperationDateTime':_0x125038[_0x4e955f(0x222)],'setOperationPaymentStatusColor':_0x507267,'setOperationPaymentStatusName':_0x234522,'setOperationCurrency':_0x125038['setOperationCurrency'],'setOperationTotal':_0xea96f5};});const _0x2f520c=_0x47fdb7[_0xc39d29(0x2b9)](_0x2b631a=>_0x2b631a[_0xc39d29(0x23b)][_0xc39d29(0x2c7)](_0x1e77f5=>({'item':_0x1e77f5,'moneda':_0x2b631a[_0xc39d29(0x291)]})))['reduce']((_0xe5d86c,{item:_0x5a7394,moneda:_0x3b3409})=>{const _0x18d2ff=_0xc39d29,_0xfef128=products[_0x18d2ff(0x1e5)](_0x5b676c=>_0x5b676c['id']==_0x5a7394[_0x18d2ff(0x1e6)]),_0x1a196d=_0xfef128?_0xfef128[_0x18d2ff(0x1f2)]:_0x18d2ff(0x2b7),_0x2a7de1=_0x1a196d+'|'+_0x3b3409,_0x33d577=Number(_0x5a7394[_0x18d2ff(0x1ca)]),_0xb5b5df=Number(_0x5a7394[_0x18d2ff(0x277)])*Number(_0x5a7394[_0x18d2ff(0x1f6)]);return!_0xe5d86c[_0x2a7de1]&&(_0xe5d86c[_0x2a7de1]={'productName':_0x1a196d,'currency':_0x3b3409,'sales':0x0,'cost':0x0}),_0xe5d86c[_0x2a7de1][_0x18d2ff(0x2ae)]+=_0x33d577,_0xe5d86c[_0x2a7de1][_0x18d2ff(0x265)]+=_0xb5b5df,_0xe5d86c;},{}),_0x2f619c=Object[_0xc39d29(0x276)](_0x2f520c)[_0xc39d29(0x2c7)](_0x14df3f=>({'productName':_0x14df3f[_0xc39d29(0x1f9)],'currency':_0x14df3f[_0xc39d29(0x1ea)],'sales':Math[_0xc39d29(0x214)](_0x14df3f[_0xc39d29(0x2ae)]*0x64)/0x64,'cost':Math[_0xc39d29(0x214)](_0x14df3f[_0xc39d29(0x265)]*0x64)/0x64,'profit':Math['round']((_0x14df3f['sales']-_0x14df3f[_0xc39d29(0x265)])*0x64)/0x64})),_0x1542c4=_0x47fdb7[_0xc39d29(0x211)]((_0x549bb5,_0x4ad228)=>{const _0x1e4443=_0xc39d29,_0xa79f13=_0x342a1f[_0x4ad228['setOperationCustomerId']]||_0x4ad228['setOperationCustomerId'],_0x4b9e72=_0x4ad228[_0x1e4443(0x291)],_0x5dccc3=_0xa79f13+'|'+_0x4b9e72,_0x1b6fff=_0x4ad228[_0x1e4443(0x23b)][_0x1e4443(0x211)]((_0x275fe8,_0x33b4d3)=>_0x275fe8+Number(_0x33b4d3['setOperationDetailTotal']),0x0),_0x333942=_0x4ad228[_0x1e4443(0x23b)][_0x1e4443(0x211)]((_0x11cb5d,_0x16eb53)=>_0x11cb5d+Number(_0x16eb53[_0x1e4443(0x277)])*Number(_0x16eb53[_0x1e4443(0x1f6)]),0x0);return!_0x549bb5[_0x5dccc3]&&(_0x549bb5[_0x5dccc3]={'customerName':_0xa79f13,'currency':_0x4b9e72,'sales':0x0,'cost':0x0}),_0x549bb5[_0x5dccc3]['sales']+=_0x1b6fff,_0x549bb5[_0x5dccc3][_0x1e4443(0x265)]+=_0x333942,_0x549bb5;},{}),_0x3b167e=Object[_0xc39d29(0x276)](_0x1542c4)['map'](_0x3f0589=>({'customerName':_0x3f0589[_0xc39d29(0x2b6)],'currency':_0x3f0589[_0xc39d29(0x1ea)],'sales':Math[_0xc39d29(0x214)](_0x3f0589[_0xc39d29(0x2ae)]*0x64)/0x64,'cost':Math[_0xc39d29(0x214)](_0x3f0589[_0xc39d29(0x265)]*0x64)/0x64,'profit':Math[_0xc39d29(0x214)]((_0x3f0589[_0xc39d29(0x2ae)]-_0x3f0589['cost'])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0xc39d29(0x224)),renderTable(_0x2f619c,currentPageProducts,'products'),renderTable(_0x3b167e,currentPageCustomers,'customers');const _0xe66e0f=arrayIncomes[_0xc39d29(0x2c7)](_0x13816e=>({'fechaISO':_0x13816e['setOperationDateTime'][_0xc39d29(0x262)]('\x20')[0x0],'setTipoComprobante':_0x13816e[_0xc39d29(0x1ce)],'setOperationCurrency':_0x13816e['setOperationCurrency'],'Total':Math[_0xc39d29(0x214)](_0x13816e[_0xc39d29(0x1d2)]*0x64)/0x64})),_0xc1061c=_0xe66e0f[_0xc39d29(0x211)]((_0x26355a,_0x5554c7)=>{const _0x5e91f5=_0xc39d29,_0x44fc31=_0x5554c7[_0x5e91f5(0x1ec)]+'|'+_0x5554c7[_0x5e91f5(0x242)]+'|'+_0x5554c7['setOperationCurrency'];if(!_0x26355a[_0x44fc31])_0x26355a[_0x44fc31]={..._0x5554c7,'Total':0x0};return _0x26355a[_0x44fc31][_0x5e91f5(0x295)]+=_0x5554c7['Total'],_0x26355a;},{}),_0x1a38f0=Object[_0xc39d29(0x276)](_0xc1061c)[_0xc39d29(0x2c7)](_0x5db5e6=>({'fechaISO':_0x5db5e6['fechaISO'],'setTipoComprobante':_0x5db5e6['setTipoComprobante']+'\x20('+_0x5db5e6[_0xc39d29(0x291)]+')','Total':Math[_0xc39d29(0x214)](_0x5db5e6[_0xc39d29(0x295)]*0x64)/0x64})),_0x53ffaa=[...new Set(_0x1a38f0[_0xc39d29(0x2c7)](_0x10959e=>_0x10959e[_0xc39d29(0x242)]))],_0x52f9f7=Array['from'](new Set(_0x1a38f0[_0xc39d29(0x2c7)](_0x2425a6=>_0x2425a6[_0xc39d29(0x1ec)])))['sort']((_0x425853,_0x4751bb)=>new Date(_0x425853)-new Date(_0x4751bb));_0x1a38f0['length']>0x0?generateFilterTransformChart({'containerId':_0xc39d29(0x21d),'rawData':_0x1a38f0,'groupField':_0xc39d29(0x242),'groupValues':_0x53ffaa,'seriesType':_0xc39d29(0x1ef),'chartType':_0xc39d29(0x1ef),'colors':[_0xc39d29(0x1b0),_0xc39d29(0x1b7)],'encode':{'x':_0xc39d29(0x1ec),'y':_0xc39d29(0x295),'label':[_0xc39d29(0x242),_0xc39d29(0x295)],'itemName':_0xc39d29(0x1ec),'tooltip':[_0xc39d29(0x295)]},'xAxisConfig':{'type':'category','data':_0x52f9f7,'axisLabel':{'formatter':_0x5e0c68=>{const [_0xd36b45,_0x27503d,_0x47b10c]=_0x5e0c68['split']('-');return _0x47b10c+'/'+_0x27503d+'/'+_0xd36b45;}}},'title':_0xc39d29(0x1ff),'width':_0xc39d29(0x1e2),'height':'500px'}):divChartIncome[_0xc39d29(0x1d8)]='';_0x2f619c[_0xc39d29(0x233)]>0x0?generateHorizontalBarChart({'containerId':_0xc39d29(0x1e1),'categories':_0x2f619c[_0xc39d29(0x2c7)](_0x2c731d=>{const _0x4d9b9b=_0xc39d29,_0x4c14a6='('+_0x2c731d['currency']+')\x20'+_0x2c731d['productName'];return _0x4c14a6[_0x4d9b9b(0x233)]>0xf?_0x4c14a6['substring'](0x0,0xf)+_0x4d9b9b(0x253):_0x4c14a6;}),'series':[{'name':_0xc39d29(0x285),'data':_0x2f619c[_0xc39d29(0x2c7)](_0x394bb6=>_0x394bb6[_0xc39d29(0x2ae)])},{'name':_0xc39d29(0x269),'data':_0x2f619c[_0xc39d29(0x2c7)](_0x133a11=>_0x133a11['cost'])},{'name':_0xc39d29(0x1d0),'data':_0x2f619c[_0xc39d29(0x2c7)](_0x200d5b=>_0x200d5b['profit'])}],'title':_0xc39d29(0x25e),'titlePosition':'bottom','showTitle':![],'colors':['#FF5900',_0xc39d29(0x1b7),_0xc39d29(0x260)],'width':_0xc39d29(0x1e2),'height':_0xc39d29(0x21a)}):divChartItem[_0xc39d29(0x1d8)]='';if(_0x3b167e[_0xc39d29(0x233)]>0x0){const _0x3edf8e=_0x3b167e[_0xc39d29(0x2c7)](_0x327b16=>({'label':_0x327b16[_0xc39d29(0x2b6)]+'\x20('+_0x327b16[_0xc39d29(0x1ea)]+')','sales':_0x327b16[_0xc39d29(0x2ae)]}));generatePieChart({'containerId':_0xc39d29(0x1b9),'data':_0x3edf8e,'nameField':'label','valueField':'sales','title':_0xc39d29(0x2bc),'titlePosition':_0xc39d29(0x297),'showTitle':![],'width':'500px','height':'500px'});}else divChartCustomer[_0xc39d29(0x1d8)]='';}catch(_0x55ddf2){ntfShow(_0xc39d29(0x1da)),console['error'](_0x55ddf2);}finally{hideLoadingModal();}}function renderTable(_0x32c329,_0x5c4892=0x1,_0x4b6a25=_0x2eeb41(0x224)){const _0x20ff25=_0x2eeb41;currentPage=_0x5c4892;const _0x5441b7=_0x4b6a25==='incomes'?_0x20ff25(0x241):_0x4b6a25===_0x20ff25(0x240)?_0x20ff25(0x1f1):'#reporte-income-customers',_0x3b36d7=_0x4b6a25===_0x20ff25(0x224)?per_page:_0x4b6a25==='products'?per_page_products:per_page_customers,_0x14e6c5=document[_0x20ff25(0x1bf)](_0x5441b7+_0x20ff25(0x23e));_0x14e6c5[_0x20ff25(0x1d8)]='';const _0x37a5a5=(_0x5c4892-0x1)*_0x3b36d7,_0x232faf=_0x32c329[_0x20ff25(0x1cd)](_0x37a5a5,_0x37a5a5+_0x3b36d7);if(_0x4b6a25===_0x20ff25(0x224)){_0x232faf[_0x20ff25(0x235)](_0x21bf0a=>{const _0x14e6b1=_0x20ff25,_0xa4fc73=document[_0x14e6b1(0x1b3)]('tr');_0xa4fc73[_0x14e6b1(0x1d8)]=_0x14e6b1(0x236)+_0x21bf0a[_0x14e6b1(0x2b1)]+_0x14e6b1(0x2c6)+_0x21bf0a[_0x14e6b1(0x1ce)]+_0x14e6b1(0x1d1)+(_0x21bf0a[_0x14e6b1(0x20e)]||'')+_0x14e6b1(0x26c)+(_0x21bf0a[_0x14e6b1(0x2ab)]||'')+_0x14e6b1(0x220)+_0x21bf0a['setOperationDateTime']+_0x14e6b1(0x1cc)+_0x21bf0a['setOperationPaymentStatusColor']+';\x20color:\x20'+_0x21bf0a['setOperationPaymentStatusColor']+_0x14e6b1(0x289)+_0x21bf0a[_0x14e6b1(0x28c)]+_0x14e6b1(0x254)+_0x21bf0a[_0x14e6b1(0x291)]+_0x14e6b1(0x26f)+_0x21bf0a['setOperationTotal']['toFixed'](0x2)+_0x14e6b1(0x28b)+_0x21bf0a['setOperationId']+_0x14e6b1(0x290)+_0x21bf0a[_0x14e6b1(0x2c4)]+_0x14e6b1(0x1bb),_0x14e6c5['appendChild'](_0xa4fc73);});const _0x2686c8=_0x32c329['reduce']((_0x52efb8,_0x1c0365)=>{const _0x3c5d4e=_0x20ff25,_0x146171=_0x1c0365[_0x3c5d4e(0x291)];return _0x52efb8[_0x146171]=(_0x52efb8[_0x146171]||0x0)+Number(_0x1c0365['setOperationTotal']),_0x52efb8;},{});Object['entries'](_0x2686c8)[_0x20ff25(0x235)](([_0x73446a,_0x4c37bc])=>{const _0x2a0a65=_0x20ff25,_0x4fd3c8=document['createElement']('tr');_0x4fd3c8[_0x2a0a65(0x1d8)]=_0x2a0a65(0x245)+_0x73446a+_0x2a0a65(0x1e0)+(Math[_0x2a0a65(0x214)](_0x4c37bc*0x64)/0x64)['toFixed'](0x2)+_0x2a0a65(0x1c2),_0x14e6c5['appendChild'](_0x4fd3c8);}),renderPagination(_0x32c329,_0x5c4892,_0x4b6a25);}if(_0x4b6a25==='products'){_0x232faf[_0x20ff25(0x235)](_0x60d9d9=>{const _0x352e0b=_0x20ff25,_0x2a7e85=document[_0x352e0b(0x1b3)]('tr');_0x2a7e85[_0x352e0b(0x1d8)]=_0x352e0b(0x1fa)+_0x60d9d9['productName']+_0x352e0b(0x2a3)+_0x60d9d9[_0x352e0b(0x1ea)]+_0x352e0b(0x227)+_0x60d9d9[_0x352e0b(0x2ae)]['toFixed'](0x2)+_0x352e0b(0x227)+_0x60d9d9[_0x352e0b(0x265)][_0x352e0b(0x278)](0x2)+_0x352e0b(0x227)+_0x60d9d9['profit'][_0x352e0b(0x278)](0x2)+_0x352e0b(0x26d),_0x14e6c5[_0x352e0b(0x23a)](_0x2a7e85);});const _0x481fc0=_0x32c329[_0x20ff25(0x211)]((_0x3a6dca,_0x5d0385)=>{const _0x31cb1e=_0x20ff25,_0x486805=_0x5d0385[_0x31cb1e(0x1ea)];if(!_0x3a6dca[_0x486805])_0x3a6dca[_0x486805]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x3a6dca[_0x486805]['sales']+=_0x5d0385[_0x31cb1e(0x2ae)],_0x3a6dca[_0x486805][_0x31cb1e(0x265)]+=_0x5d0385[_0x31cb1e(0x265)],_0x3a6dca[_0x486805][_0x31cb1e(0x25f)]+=_0x5d0385['profit'],_0x3a6dca;},{});Object[_0x20ff25(0x215)](_0x481fc0)[_0x20ff25(0x235)](([_0x1117a0,_0x262e35])=>{const _0x4eaaf8=_0x20ff25,_0x5ac818=document[_0x4eaaf8(0x1b3)]('tr');_0x5ac818[_0x4eaaf8(0x1d8)]=_0x4eaaf8(0x1fd)+_0x1117a0+_0x4eaaf8(0x1f3)+(Math[_0x4eaaf8(0x214)](_0x262e35['sales']*0x64)/0x64)[_0x4eaaf8(0x278)](0x2)+_0x4eaaf8(0x1ba)+(Math[_0x4eaaf8(0x214)](_0x262e35[_0x4eaaf8(0x265)]*0x64)/0x64)[_0x4eaaf8(0x278)](0x2)+_0x4eaaf8(0x1ba)+(Math[_0x4eaaf8(0x214)](_0x262e35[_0x4eaaf8(0x25f)]*0x64)/0x64)['toFixed'](0x2)+_0x4eaaf8(0x1b4),_0x14e6c5[_0x4eaaf8(0x23a)](_0x5ac818);}),renderPagination(_0x32c329,_0x5c4892,_0x4b6a25);}if(_0x4b6a25===_0x20ff25(0x225)){_0x232faf[_0x20ff25(0x235)](_0x3025b4=>{const _0x11b4bd=_0x20ff25,_0x1c1f64=document[_0x11b4bd(0x1b3)]('tr');_0x1c1f64['innerHTML']=_0x11b4bd(0x1fa)+_0x3025b4[_0x11b4bd(0x2b6)]+_0x11b4bd(0x2a3)+_0x3025b4[_0x11b4bd(0x1ea)]+_0x11b4bd(0x227)+_0x3025b4[_0x11b4bd(0x2ae)]['toFixed'](0x2)+_0x11b4bd(0x227)+_0x3025b4['cost']['toFixed'](0x2)+_0x11b4bd(0x227)+_0x3025b4['profit']['toFixed'](0x2)+_0x11b4bd(0x26d),_0x14e6c5['appendChild'](_0x1c1f64);});const _0x237d8f=_0x32c329[_0x20ff25(0x211)]((_0x5244c0,_0x41326f)=>{const _0x72217f=_0x20ff25,_0x35e319=_0x41326f[_0x72217f(0x1ea)];return!_0x5244c0[_0x35e319]&&(_0x5244c0[_0x35e319]={'sales':0x0,'cost':0x0,'profit':0x0}),_0x5244c0[_0x35e319][_0x72217f(0x2ae)]+=_0x41326f[_0x72217f(0x2ae)],_0x5244c0[_0x35e319][_0x72217f(0x265)]+=_0x41326f[_0x72217f(0x265)],_0x5244c0[_0x35e319][_0x72217f(0x25f)]+=_0x41326f[_0x72217f(0x25f)],_0x5244c0;},{});Object[_0x20ff25(0x215)](_0x237d8f)[_0x20ff25(0x235)](([_0x4437f1,_0x20a9a4])=>{const _0x484341=_0x20ff25,_0x42b5e6=document[_0x484341(0x1b3)]('tr');_0x42b5e6[_0x484341(0x1d8)]='\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x4437f1+_0x484341(0x1f3)+(Math[_0x484341(0x214)](_0x20a9a4['sales']*0x64)/0x64)[_0x484341(0x278)](0x2)+'\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x484341(0x214)](_0x20a9a4[_0x484341(0x265)]*0x64)/0x64)[_0x484341(0x278)](0x2)+_0x484341(0x1ba)+(Math[_0x484341(0x214)](_0x20a9a4[_0x484341(0x25f)]*0x64)/0x64)[_0x484341(0x278)](0x2)+'\x0a</td>\x0a',_0x14e6c5[_0x484341(0x23a)](_0x42b5e6);}),renderPagination(_0x32c329,_0x5c4892,_0x4b6a25);}}function renderPagination(_0x41d4bb,_0x5f40c3,_0x569a7f=_0x2eeb41(0x224)){const _0x297931=_0x2eeb41,_0x55f4b4=_0x569a7f===_0x297931(0x224)?document['querySelector']('#pagination-income'):_0x569a7f==='products'?document[_0x297931(0x1bf)]('#pagination-products'):document[_0x297931(0x1bf)](_0x297931(0x234)),_0x51e5a7=_0x569a7f===_0x297931(0x224)?per_page:_0x569a7f===_0x297931(0x240)?per_page_products:per_page_customers;_0x55f4b4[_0x297931(0x1d8)]='';const _0x232d4d=Math[_0x297931(0x230)](_0x41d4bb[_0x297931(0x233)]/_0x51e5a7),_0x4f133d=document[_0x297931(0x1b3)]('a');_0x4f133d[_0x297931(0x2bd)]='#',_0x4f133d[_0x297931(0x244)]=_0x297931(0x239),_0x4f133d[_0x297931(0x1d8)]=_0x297931(0x1c4),_0x4f133d[_0x297931(0x288)]=_0x534c80=>{_0x534c80['preventDefault']();if(_0x5f40c3>0x1)renderTable(_0x41d4bb,_0x5f40c3-0x1,_0x569a7f);},_0x55f4b4[_0x297931(0x23a)](_0x4f133d);for(let _0x398cd5=0x1;_0x398cd5<=_0x232d4d;_0x398cd5++){const _0x4325d8=document[_0x297931(0x1b3)]('a');_0x4325d8[_0x297931(0x2bd)]='#',_0x4325d8['className']=_0x297931(0x2a4)+(_0x398cd5===_0x5f40c3?_0x297931(0x250):_0x297931(0x1de)),_0x4325d8[_0x297931(0x1cb)]=_0x398cd5,_0x4325d8['onclick']=_0x1944cc=>{const _0x48b6b3=_0x297931;_0x1944cc[_0x48b6b3(0x25b)](),renderTable(_0x41d4bb,_0x398cd5,_0x569a7f);},_0x55f4b4[_0x297931(0x23a)](_0x4325d8);}const _0x7ef77e=document[_0x297931(0x1b3)]('a');_0x7ef77e[_0x297931(0x2bd)]='#',_0x7ef77e[_0x297931(0x244)]=_0x297931(0x29b),_0x7ef77e['innerHTML']=_0x297931(0x292),_0x7ef77e[_0x297931(0x288)]=_0x3b246d=>{_0x3b246d['preventDefault']();if(_0x5f40c3<_0x232d4d)renderTable(_0x41d4bb,_0x5f40c3+0x1,_0x569a7f);},_0x55f4b4[_0x297931(0x23a)](_0x7ef77e);}document[_0x2eeb41(0x247)](_0x2eeb41(0x246))['addEventListener']('click',async()=>{const _0x41655c=_0x2eeb41,_0x1d6954=document[_0x41655c(0x247)](_0x41655c(0x20a))[_0x41655c(0x1f7)],_0x193c36=document[_0x41655c(0x247)]('filter-end')[_0x41655c(0x1f7)];if(!_0x1d6954||!_0x193c36)return alert('Selecciona\x20ambas\x20fechas');const _0x889883=document['getElementById']('filterModal'),_0x2c6ee9=bootstrap[_0x41655c(0x22e)][_0x41655c(0x1dd)](_0x889883);_0x2c6ee9[_0x41655c(0x1e4)](),showLoadingModal();try{const _0x4c57e5={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x41655c(0x275)],'dateFrom':_0x1d6954+_0x41655c(0x1c9),'dateTo':_0x193c36+_0x41655c(0x1b5),'clientIds':[],'operationTypes':[]},_0x2d9109=await fetch(myCompany[_0x41655c(0x25a)],{'method':_0x41655c(0x1d7),'headers':{'Content-Type':'application/json'},'body':JSON[_0x41655c(0x2a9)](_0x4c57e5)}),{success:_0x402120,message:_0x223346}=await _0x2d9109[_0x41655c(0x1f8)]();if(!_0x402120)throw new Error(_0x223346);_0x223346[_0x41655c(0x224)],await consultIncomeReport();}catch(_0x728fb0){ntfShow(_0x41655c(0x204)),console[_0x41655c(0x1ed)](_0x728fb0);}finally{hideLoadingModal();}});let currentExportMode=_0x2eeb41(0x267);const WA_CRED_ID=_0x2eeb41(0x1eb),WA_DEST_NUMBER='51954738620',EMAIL_AUTH_TOKEN=_0x2eeb41(0x279),EMAIL_SENDER_NAME=_0x2eeb41(0x24b),EMAIL_SENDER_ADDR=_0x2eeb41(0x1d9),EMAIL_SENDER_PASS=_0x2eeb41(0x1c0),EMAIL_SMTP_HOST='smtp.miempresa.com',EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=['luispurizaca.1908@gmail.com'],reportWorker=new Worker(_0x2eeb41(0x299));reportWorker['onmessage']=({data:_0x256ce3})=>{const _0xfd390d=_0x2eeb41,{type:_0x28ad13,payload:_0x1b84ef,reportType:_0x3095fa}=_0x256ce3;if(_0x28ad13===_0xfd390d(0x27e)){const _0x1495e7=new Blob([_0x1b84ef],{'type':_0xfd390d(0x1b8)}),_0x5b8dd5=new Date()[_0xfd390d(0x1fb)]()['slice'](0x0,0xa),_0x4738f5=_0x3095fa+'_'+_0x5b8dd5+_0xfd390d(0x210),_0x169b83=_0x307611=>new Promise((_0x1bb1d4,_0x47ee00)=>{const _0x4e9612=_0xfd390d,_0x1db164=new FileReader();_0x1db164['onerror']=()=>_0x47ee00(_0x1db164[_0x4e9612(0x1ed)]),_0x1db164['onload']=()=>_0x1bb1d4(_0x1db164[_0x4e9612(0x280)][_0x4e9612(0x262)](',')[0x1]),_0x1db164[_0x4e9612(0x283)](_0x307611);});switch(currentExportMode){case _0xfd390d(0x267):{const _0x5a1a61=URL[_0xfd390d(0x286)](_0x1495e7),_0x4035df=document[_0xfd390d(0x1b3)]('a');_0x4035df[_0xfd390d(0x2bd)]=_0x5a1a61,_0x4035df[_0xfd390d(0x267)]=_0x4738f5,_0x4035df[_0xfd390d(0x243)](),URL[_0xfd390d(0x2c1)](_0x5a1a61);}break;case _0xfd390d(0x21b):{_0x169b83(_0x1495e7)[_0xfd390d(0x29e)](_0x4f0e77=>{const _0x2f10ee=_0xfd390d;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x4f0e77,_0x2f10ee(0x263)+_0x3095fa+'\x20al\x20'+_0x5b8dd5,_0x4738f5,_0x2f10ee(0x24e))[_0x2f10ee(0x2c8)](_0x4fbfec=>{const _0x3ed2b6=_0x2f10ee;console['error'](_0x3ed2b6(0x2ad),_0x4fbfec),ntfShow(_0x3ed2b6(0x294));});});}break;case _0xfd390d(0x208):{_0x169b83(_0x1495e7)[_0xfd390d(0x29e)](_0x678c2f=>{const _0x178cd0=_0xfd390d;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x178cd0(0x263)+_0x3095fa+_0x178cd0(0x28f)+_0x5b8dd5,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x4738f5,'content':_0x678c2f,'mimetype':_0x178cd0(0x24e)}]);});}break;case _0xfd390d(0x21c):{_0x169b83(_0x1495e7)[_0xfd390d(0x29e)](_0x368fc1=>{const _0x47de34=_0xfd390d;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,'document',_0x368fc1,_0x47de34(0x263)+_0x3095fa+'\x20al\x20'+_0x5b8dd5,_0x4738f5,_0x47de34(0x24e))[_0x47de34(0x2c8)](_0x41dae9=>console[_0x47de34(0x1ed)](_0x47de34(0x2ad),_0x41dae9)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x47de34(0x263)+_0x3095fa+_0x47de34(0x28f)+_0x5b8dd5,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x4738f5,'content':_0x368fc1,'mimetype':_0x47de34(0x24e)}]);});}break;default:console[_0xfd390d(0x1ed)](_0xfd390d(0x2ba),currentExportMode);}}_0x28ad13==='error'&&(console[_0xfd390d(0x1ed)](_0xfd390d(0x281),_0x1b84ef),ntfShow(_0xfd390d(0x219)));},document['getElementById'](_0x2eeb41(0x1f5))['addEventListener'](_0x2eeb41(0x243),()=>{const _0x4ea508=_0x2eeb41;onClickExport(_0x4ea508(0x267));});function onClickExport(_0x267cf1=_0x2eeb41(0x267)){const _0x32d446=_0x2eeb41;if(!Array[_0x32d446(0x257)](arrayIncomes)||!arrayIncomes[_0x32d446(0x233)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');currentExportMode=_0x267cf1;const _0x468c80=arrayIncomes['map'](_0x5b6d76=>{const _0x5a9cd9=_0x32d446,[_0x1a4fe6]=_0x5b6d76[_0x5a9cd9(0x222)][_0x5a9cd9(0x262)]('\x20'),[_0x20e8fc,_0xf9903b,_0x2afcbf]=_0x1a4fe6[_0x5a9cd9(0x262)]('-');return{'Periodo':''+_0x20e8fc+_0xf9903b,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x2afcbf+'/'+_0xf9903b+'/'+_0x20e8fc,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x5b6d76[_0x5a9cd9(0x291)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x32d446(0x21f)]({'action':_0x32d446(0x271),'reportType':_0x32d446(0x2c0),'report':_0x468c80});}window[_0x2eeb41(0x1db)]=function(){const _0x4ed9e4=_0x2eeb41,_0x27fd51=0x3;loadLoginContent(_0x4ed9e4(0x26b)),setUserNameGet(),setEventBtnAccess();const _0x12b4ec=document[_0x4ed9e4(0x1bf)](_0x4ed9e4(0x27f));_0x12b4ec&&_0x12b4ec[_0x4ed9e4(0x237)]('click',function(){logoutReload(0x0,_0x27fd51);}),document['getElementById'](_0x4ed9e4(0x209))[_0x4ed9e4(0x237)]('change',async function(){const _0x2c35d7=_0x4ed9e4,_0x2be65d=parseInt(this[_0x2c35d7(0x1f7)]);myCompany[_0x2c35d7(0x264)]=_0x2be65d;const _0x4c4c95=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4c4c95),cargarAlmacenes(_0x2be65d),setTimeout(()=>{const _0x830df6=_0x2c35d7;document['getElementById']('setWarehouseId')[_0x830df6(0x2be)](new Event(_0x830df6(0x293)));},0x64),cargarPisos(_0x2be65d),setTimeout(()=>{const _0x4feeb9=_0x2c35d7;document[_0x4feeb9(0x247)](_0x4feeb9(0x27a))[_0x4feeb9(0x2be)](new Event('change'));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x2c35d7(0x2b0)](_0x2be65d),consultIncomeReport();}),loadCartAndSetTabCount(_0x27fd51);};