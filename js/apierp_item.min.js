/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.2
*/

var _0x4aefc6=_0x4ff4;(function(_0x4fc1fc,_0x19385d){var _0x5e0773=_0x4ff4,_0x231a1b=_0x4fc1fc();while(!![]){try{var _0x4e98c4=parseInt(_0x5e0773(0x172))/0x1*(parseInt(_0x5e0773(0x1a4))/0x2)+-parseInt(_0x5e0773(0x12e))/0x3*(-parseInt(_0x5e0773(0x252))/0x4)+parseInt(_0x5e0773(0x159))/0x5+-parseInt(_0x5e0773(0x1fc))/0x6*(parseInt(_0x5e0773(0x136))/0x7)+parseInt(_0x5e0773(0x26f))/0x8*(-parseInt(_0x5e0773(0x1ab))/0x9)+-parseInt(_0x5e0773(0x270))/0xa*(parseInt(_0x5e0773(0x243))/0xb)+parseInt(_0x5e0773(0x17d))/0xc;if(_0x4e98c4===_0x19385d)break;else _0x231a1b['push'](_0x231a1b['shift']());}catch(_0x4aeaef){_0x231a1b['push'](_0x231a1b['shift']());}}}(_0x5ea2,0x72e62));var _0x143784=(function(){var _0x63b369=!![];return function(_0x1c3b1c,_0x1be880){var _0x23e5c3=_0x63b369?function(){var _0x52d332=_0x4ff4;if(_0x1be880){var _0x5d2214=_0x1be880[_0x52d332(0x13f)](_0x1c3b1c,arguments);return _0x1be880=null,_0x5d2214;}}:function(){};return _0x63b369=![],_0x23e5c3;};}()),_0x49d624=_0x143784(this,function(){var _0x4cee44=_0x4ff4;return _0x49d624[_0x4cee44(0x189)]()[_0x4cee44(0x21d)](_0x4cee44(0x230))[_0x4cee44(0x189)]()[_0x4cee44(0x1db)](_0x49d624)[_0x4cee44(0x21d)](_0x4cee44(0x230));});_0x49d624();var _0x160920=(function(){var _0x270713=!![];return function(_0x56633a,_0x4105ee){var _0x14902b=_0x270713?function(){if(_0x4105ee){var _0x9a8fa0=_0x4105ee['apply'](_0x56633a,arguments);return _0x4105ee=null,_0x9a8fa0;}}:function(){};return _0x270713=![],_0x14902b;};}()),_0x56a400=_0x160920(this,function(){var _0x3f3b6e=_0x4ff4,_0x907545=function(){var _0x3ec1e8=_0x4ff4,_0x28b4f6;try{_0x28b4f6=Function(_0x3ec1e8(0x25f)+_0x3ec1e8(0x24c)+');')();}catch(_0x39bb72){_0x28b4f6=window;}return _0x28b4f6;},_0x1df85e=_0x907545(),_0x3de4c4=_0x1df85e[_0x3f3b6e(0x135)]=_0x1df85e[_0x3f3b6e(0x135)]||{},_0x403f5d=['log',_0x3f3b6e(0x19d),'info',_0x3f3b6e(0x23a),_0x3f3b6e(0x14c),_0x3f3b6e(0x17f),'trace'];for(var _0x53b85e=0x0;_0x53b85e<_0x403f5d[_0x3f3b6e(0x1de)];_0x53b85e++){var _0x51603c=_0x160920['constructor'][_0x3f3b6e(0x22a)]['bind'](_0x160920),_0x199db8=_0x403f5d[_0x53b85e],_0x418363=_0x3de4c4[_0x199db8]||_0x51603c;_0x51603c['__proto__']=_0x160920[_0x3f3b6e(0x1c3)](_0x160920),_0x51603c[_0x3f3b6e(0x189)]=_0x418363[_0x3f3b6e(0x189)]['bind'](_0x418363),_0x3de4c4[_0x199db8]=_0x51603c;}});_0x56a400();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x4aefc6(0x1d7)]('newItem_images_container'),unitCount=0x0,branchesC=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x256)),prodC=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x236)),vgCount=0x0,varContainer=document[_0x4aefc6(0x1d7)]('newItem_variants_forms'),vgC=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x272));const fileInput=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x265)),progressBar=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x1fd)),statusDiv=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x266)),uploadBtn=document['getElementById']('upload-btn');let newItemsExcel=null;const itemWorker=new Worker(_0x4aefc6(0x16d)),dropZone=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x142)),removeBtn=document[_0x4aefc6(0x1d7)](_0x4aefc6(0x1f0));function showModalCreateItem(_0x1e9c59){var _0x191127=_0x4aefc6;const _0xd5bd8a=document[_0x191127(0x1d7)](_0x191127(0x14e)),_0xbc8de2=document['getElementById'](_0x191127(0x210));_0xd5bd8a[_0x191127(0x1ff)][_0x191127(0x169)](_0x191127(0x18c)),_0xbc8de2['style']['display']=_0x191127(0x21b);const _0x2b0654=document['getElementById'](_0x191127(0x244));_0x2b0654['value']=parseInt(_0x1e9c59),baseItem[_0x191127(0x244)]=parseInt(_0x1e9c59);const _0x535108=document[_0x191127(0x1d7)]('modalProductNewTitle');_0x1e9c59==0x0&&(_0x535108[_0x191127(0x1ae)]=_0x191127(0x198));_0x1e9c59==0x1&&(_0x535108['innerHTML']=_0x191127(0x1dc));const _0x4e65fb=document['getElementsByClassName']('productType1');for(let _0x18c6f9=0x0;_0x18c6f9<_0x4e65fb[_0x191127(0x1de)];_0x18c6f9++){const _0x3d2446=_0x4e65fb[_0x18c6f9];if(_0x1e9c59==0x0)_0x3d2446['classList'][_0x191127(0x16b)](_0x191127(0x17a));else _0x1e9c59==0x1&&_0x3d2446['classList'][_0x191127(0x169)](_0x191127(0x17a));}}function hideModalCreateItem(){var _0xad14bd=_0x4aefc6;const _0x40fcc5=document['getElementById']('detalleModalCreateItem'),_0x159d89=document[_0xad14bd(0x1d7)](_0xad14bd(0x210));_0x40fcc5[_0xad14bd(0x1ff)][_0xad14bd(0x16b)](_0xad14bd(0x18c)),_0x159d89['style'][_0xad14bd(0x179)]=_0xad14bd(0x185);}document[_0x4aefc6(0x1d7)]('closeModalCreateItem')[_0x4aefc6(0x232)](_0x4aefc6(0x218),hideModalCreateItem),document['getElementById']('modalOverlayCreateItem')[_0x4aefc6(0x232)]('click',_0x4bac66=>{var _0x40c013=_0x4aefc6;_0x4bac66['target']==_0x4bac66['currentTarget']&&_0x4bac66[_0x40c013(0x221)]();});function _0x4ff4(_0x26747a,_0x7b93e7){var _0xaeb2b7=_0x5ea2();return _0x4ff4=function(_0x56a400,_0x160920){_0x56a400=_0x56a400-0x12a;var _0x3dc874=_0xaeb2b7[_0x56a400];return _0x3dc874;},_0x4ff4(_0x26747a,_0x7b93e7);}function loadTaxData(){var _0x3bf459=_0x4aefc6;const _0x28499a=document[_0x3bf459(0x1d7)](_0x3bf459(0x1b3));_0x28499a[_0x3bf459(0x1ae)]='',company[0x0][_0x3bf459(0x22c)][_0x3bf459(0x197)](function(_0x36425d){var _0x39a1eb=_0x3bf459;const _0x54f653=document[_0x39a1eb(0x161)](_0x39a1eb(0x26a));_0x54f653[_0x39a1eb(0x1c8)]=_0x36425d['setTaxId'],_0x54f653['innerHTML']=_0x36425d[_0x39a1eb(0x223)]+'\x20('+_0x36425d[_0x39a1eb(0x19b)]+'%)',_0x36425d[_0x39a1eb(0x217)]==company[0x0][_0x39a1eb(0x1f7)]&&(_0x54f653[_0x39a1eb(0x187)]=!![]),_0x28499a['appendChild'](_0x54f653);});}function uniqueValuesArray(_0x581112,_0x5872a1,_0x15475a){var _0x538135=_0x4aefc6;const _0x3d5f29=Array[_0x538135(0x260)](new Set(_0x15475a['map'](_0x46404f=>{var _0x25c13b=_0x538135;const _0x22074f=_0x46404f[_0x581112];return typeof _0x22074f===_0x25c13b(0x133)?_0x22074f[_0x25c13b(0x1d4)]():_0x22074f;})[_0x538135(0x255)](_0x4547b3=>_0x4547b3!=null&&_0x4547b3!=='')));return _0x3d5f29[_0x538135(0x240)](_0x375750=>{var _0x56f0e7=_0x538135;const _0xbe3ae4=_0x15475a[_0x56f0e7(0x211)](_0x3f6eb1=>_0x3f6eb1[_0x581112]===_0x375750),_0x12225e=_0xbe3ae4&&_0xbe3ae4[_0x5872a1]!=null?String(_0xbe3ae4[_0x5872a1])[_0x56f0e7(0x1d4)]():_0x375750;return{'setCode':_0x375750,'setName':_0x12225e};});}function fillSelect(_0x155f9c,_0xc4a0f7,_0xe6612c,_0x270b80){_0x155f9c['innerHTML']='',_0xc4a0f7['forEach'](function(_0x3f1822){var _0x1eba87=_0x4ff4,_0x2c8750=new Option(_0x3f1822[_0x270b80],_0x3f1822[_0xe6612c]);_0x155f9c[_0x1eba87(0x169)](_0x2c8750);});}function initMulti(_0x2b6665,_0x407454){var _0x42f42d=_0x4aefc6,_0x571644=document[_0x42f42d(0x1d7)](_0x2b6665),_0x73fa4d=_0x571644[_0x42f42d(0x181)](_0x42f42d(0x1f8)),_0x44d01b=_0x571644[_0x42f42d(0x181)](_0x42f42d(0x241)),_0xffb9a3=_0x571644[_0x42f42d(0x181)](_0x42f42d(0x1e2)),_0x2204e0=_0x407454[_0x42f42d(0x1bd)](),_0x5883a2=[];function _0x36f01a(){var _0x243106=_0x42f42d;_0x44d01b[_0x243106(0x1ae)]='',_0x2204e0[_0x243106(0x255)](function(_0x6c8c9a){var _0x1986ea=_0x243106;return _0x6c8c9a[_0x1986ea(0x24f)][_0x1986ea(0x257)]()[_0x1986ea(0x226)](_0x73fa4d[_0x1986ea(0x1c8)][_0x1986ea(0x257)]())!==-0x1;})[_0x243106(0x197)](function(_0x3c2e93){var _0x312666=_0x243106,_0x22668a=document['createElement'](_0x312666(0x1ad));_0x22668a[_0x312666(0x235)]=_0x3c2e93['setName'],_0x22668a[_0x312666(0x182)]['code']=_0x3c2e93['setCode'],_0x44d01b[_0x312666(0x144)](_0x22668a),_0x22668a[_0x312666(0x232)](_0x312666(0x218),function(){var _0x57e3c7=_0x312666;_0x5883a2[_0x57e3c7(0x202)](_0x3c2e93),_0x2204e0[_0x57e3c7(0x213)](_0x2204e0[_0x57e3c7(0x259)](function(_0x164629){var _0x235a84=_0x57e3c7;return _0x164629[_0x235a84(0x1d5)]===_0x3c2e93[_0x235a84(0x1d5)];}),0x1),_0x73fa4d[_0x57e3c7(0x1c8)]='',_0x164eb0(),_0x36f01a();});});}function _0x164eb0(){var _0xcfcbdd=_0x42f42d;_0xffb9a3['innerHTML']='',_0x5883a2['forEach'](function(_0x2b2c2b){var _0x246d74=_0x4ff4,_0x3af51e=document[_0x246d74(0x161)](_0x246d74(0x1ad));_0x3af51e['className']='tag',_0x3af51e[_0x246d74(0x235)]=_0x2b2c2b[_0x246d74(0x24f)];var _0x483d45=document[_0x246d74(0x161)]('span');_0x483d45['className']=_0x246d74(0x12f),_0x483d45[_0x246d74(0x235)]='×',_0x483d45[_0x246d74(0x232)](_0x246d74(0x218),function(){var _0x5db158=_0x246d74;_0x2204e0[_0x5db158(0x202)](_0x2b2c2b);const _0x5bd5fa=_0x5883a2[_0x5db158(0x259)](function(_0x5ac3b0){return _0x5ac3b0['setCode']===_0x2b2c2b['setCode'];});if(_0x5bd5fa>-0x1)_0x5883a2[_0x5db158(0x213)](_0x5bd5fa,0x1);_0x164eb0(),_0x36f01a();}),_0x3af51e[_0x246d74(0x144)](_0x483d45),_0xffb9a3[_0x246d74(0x144)](_0x3af51e);}),_0x571644[_0xcfcbdd(0x1f6)](new CustomEvent(_0xcfcbdd(0x147),{'detail':_0x5883a2,'bubbles':!![]}));}return _0x73fa4d[_0x42f42d(0x232)](_0x42f42d(0x1fe),function(){var _0x5bf817=_0x42f42d;_0x44d01b[_0x5bf817(0x1ff)][_0x5bf817(0x16b)](_0x5bf817(0x167));}),_0x73fa4d['addEventListener'](_0x42f42d(0x251),_0x36f01a),_0x73fa4d[_0x42f42d(0x232)](_0x42f42d(0x248),function(_0x4919cd){var _0x4561c6=_0x42f42d;if(_0x4919cd['key']===_0x4561c6(0x1bf)){_0x4919cd[_0x4561c6(0x231)]();const _0x1a93b5=_0x73fa4d[_0x4561c6(0x1c8)]['trim']();if(!_0x1a93b5)return;const _0xbaabc8=_0x5883a2[_0x4561c6(0x160)](_0xfbe0fd=>_0xfbe0fd[_0x4561c6(0x24f)]===_0x1a93b5),_0x27ec13=_0x2204e0[_0x4561c6(0x160)](_0x162edd=>_0x162edd[_0x4561c6(0x24f)]===_0x1a93b5);if(!_0xbaabc8&&!_0x27ec13){const _0x562dc4={'setCode':_0x1a93b5,'setName':_0x1a93b5};_0x5883a2[_0x4561c6(0x202)](_0x562dc4),_0x164eb0(),_0x36f01a();}_0x73fa4d[_0x4561c6(0x1c8)]='';}}),document[_0x42f42d(0x232)](_0x42f42d(0x218),function(_0xd37bf2){var _0x5306d1=_0x42f42d;if(!_0x571644[_0x5306d1(0x278)](_0xd37bf2[_0x5306d1(0x1a5)]))_0x44d01b[_0x5306d1(0x1ff)][_0x5306d1(0x169)]('newItem_hidden');}),_0x36f01a(),_0x5883a2;}function getLastCode(_0x24fe2d){var _0x250879=_0x4aefc6;const _0x5e0368=_0x24fe2d[_0x250879(0x240)](_0x3b3e09=>String(_0x3b3e09[_0x250879(0x24b)])[_0x250879(0x1d4)]())[_0x250879(0x255)](_0x22d04c=>_0x22d04c!=='');if(_0x5e0368['length']===0x0)return'';const _0x2c062b=_0x5e0368['every'](_0x36baa4=>/^\d+$/['test'](_0x36baa4));if(_0x2c062b){const _0x2a15af=_0x5e0368[_0x250879(0x240)](Number),_0x4bd805=Math['max'](..._0x2a15af);return String(_0x4bd805);}let _0x4492fb;if(typeof Intl!==_0x250879(0x139)&&Intl[_0x250879(0x188)]){const _0x821878=new Intl[(_0x250879(0x188))](undefined,{'numeric':!![],'sensitivity':_0x250879(0x23b)});_0x4492fb=_0x5e0368['slice']()[_0x250879(0x234)](_0x821878[_0x250879(0x23c)]);}else{const _0x148c05=_0x5e0368[_0x250879(0x1a7)](_0x189628=>/^\d+$/['test'](_0x189628));_0x148c05?_0x4492fb=_0x5e0368[_0x250879(0x240)](Number)[_0x250879(0x234)]((_0x3bb500,_0x46731b)=>_0x3bb500-_0x46731b)['map'](String):_0x4492fb=_0x5e0368[_0x250879(0x1bd)]()[_0x250879(0x234)]();}return _0x4492fb[_0x4492fb[_0x250879(0x1de)]-0x1];}function getNextCode(_0x3958fa){var _0x19f727=_0x4aefc6;const _0x1f9331=getLastCode(_0x3958fa);if(!_0x1f9331)return'';if(/^\d+$/[_0x19f727(0x1e1)](_0x1f9331))return String(Number(_0x1f9331)+0x1);const _0x366e1f=_0x1f9331[_0x19f727(0x173)](/^([A-Za-z]*)(\d+)$/);if(_0x366e1f){const [,_0x2b4ff8,_0x5202f9]=_0x366e1f,_0x37b4bb=String(Number(_0x5202f9)+0x1)[_0x19f727(0x1b6)](_0x5202f9[_0x19f727(0x1de)],'0');return _0x2b4ff8+_0x37b4bb;}return _0x1f9331;}function _0x5ea2(){var _0x4a0e12=['Error\x20al\x20guardar\x20Producto\x20Offline:','href','files','.addVariantUnit','remove-file','.branchMin','setWarehouseCode','setItemVariantName','setItemCategories','.unitAlias','dispatchEvent','setTaxIdDefault','.ms_input','now','readAsDataURL','setItemDescription','228CCLNCW','progress','focus','classList','oncomplete','.branchInit','push','USD','setItemTaxId','setItemIsSold','isArray','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','.removeGroup','children','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','revokeObjectURL','currency','inputItemBarCode','setAlias','modalOverlayCreateItem','find','Ingresa\x20el\x20nombre\x20del\x20item','splice','\x22\x20class=\x22branchChk\x22>\x20','setUnidadCodigo','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','setTaxId','click','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','objectStore','block','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','search','setImpuestoCode','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setUnitName','stopPropagation','newItem_btn_addVariantGroup','setImpuestoName','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','exportItems','indexOf','setConversionFactor','arrayBuffer','unitSelect','prototype','transaction','setImpuestos','setMtoPrecioUnitario','.variantExpiry','_units_container','(((.+)+)+)+$','preventDefault','addEventListener','toggle','sort','textContent','newItem_proditems_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','error','base','compare','setUnits','newItem_title_table','setWarehouseName','map','.options_list','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','291665XdLMyB','setItemFree','setSucursalStock','newItem_chk_buy','.drop-zone__prompt','keydown','join','newItem_chk_sell','setCodProducto','{}.constructor(\x22return\x20this\x22)(\x20)','offline_operations','setItemUnits','setName','setWarehouseId','input','4mqhFAS','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setItemBarCode','filter','newItem_branches_container','toLowerCase','setAuthToken','findIndex','exportDone','setBatchName','setItemBrands','setItemCode','download','return\x20(function()\x20','from','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','newItem_title_table_cp','vals','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','file-input','status','values','setItemInventoriable','onerror','option','.costInput','name','setItemComponents','setBatchExpirationDate','88UDXhNX','130fcvGkK','setUnitCode','newItem_variant_groups','drop','idx','type','.removeProd','.xlsx','contains','disabled','setWebhook','.vgName','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setCantidad','520209zFrydS','remove-tag','setItemImages','fill','setDescripcion','string','default','console','70798mjqVYb','</div>','setItemId','undefined','Generando\x20Excel...','message','result','priceInput','\x22\x20value=\x22','apply','newItem_brands_select','_comp_container','drop-zone','includes','appendChild','.prodInput','Error\x20al\x20procesar\x20la\x20operación:','selectionChange','dragleave','style=\x22display:none\x22','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','setItemWarehouses','exception','entries','detalleModalCreateItem','done','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','</label>','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','style','setItemTaxCode','inputItemType','setMarca','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','./img/product.png','262955hKgedH','items','setItemVariantValues','inputItemDescription','#newItem_units_container\x20>\x20div','.unitSelect','setCost','some','createElement','#newItem_categories_select\x20.options_list','span','log','_branch_container','setPrice','newItem_hidden','ERROR:\x20plainProducts\x20no\x20serializable:','add','setIdSucursal','remove','newItem_addToCart','./js/apierp_item_wk.min.js','setCostUSD','setItemUnitId','split','windowId','25249rDJVYh','match','inputItemDateExpiry','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','variant_','Producto\x20Guardado\x20Offline\x20Correctamente.','.removeUnit','display','hidden','dragenter','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','12657660kaalQe','No\x20hay\x20items\x20para\x20exportar.','table','./excel/Plantilla-Items.xlsx','querySelector','dataset','percent','.variantForm','none','.branchChk','selected','Collator','toString','variantForm','setStockInitial','active','blur','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','true','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','newItem_categories_select','eqInput','setMtoPrecioCostoUnitario','setStockMinimum','currency_data','inputItemName','forEach','Nuevo\x20Producto','code','#newItem_brands_select\x20.selected_tags','setImpuestoValue','setFactor','warn','.vgVals','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemTaxValue','reduce','btnExportarItems','6CECkkj','target','Error\x20al\x20obtener\x20la\x20plantilla:\x20','every','dataTransfer','.variantCode','Items\x20finales:','128367iSNkqC','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','div','innerHTML','setEquivalence','change','<img\x20src=\x22','selectedItem','inputItemTax','postMessage','className','padStart','Ingresa\x20el\x20código\x20del\x20item','.priceInput','.removeCombo','querySelectorAll','dragover','<div\x20class=\x22newItem_col\x22>','slice','setItemName','Enter','accept','setItemType','div[data-default=\x22true\x22]\x20.eqInput','bind','\x20items.','PEN','.prod_input_container','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','value','[data-idx=\x22','newItem_units_container','setMoneda','setItemDateExpiry','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setCategoria','.eqInput','parse','inputItemCode','.options_list\x20div','onload','trim','setCode','setItemIsBought','getElementById','checked','assign','unitAlias','constructor','Producto\x20Libre','createObjectURL','length','detail','image_box','test','.selected_tags','flatMap','.prodQty','setPriceUSD','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','setIdProducto','sucursales','parentNode','\x20items\x20procesados.','#newItem_categories_select\x20.selected_tags'];_0x5ea2=function(){return _0x4a0e12;};return _0x5ea2();}document[_0x4aefc6(0x1d7)](_0x4aefc6(0x196))[_0x4aefc6(0x232)](_0x4aefc6(0x251),function(_0x16b544){var _0x2ab842=_0x4aefc6;baseItem['setItemName']=_0x16b544[_0x2ab842(0x1a5)][_0x2ab842(0x1c8)];}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x15c))[_0x4aefc6(0x232)](_0x4aefc6(0x251),function(_0x2ebed2){var _0x12860e=_0x4aefc6;baseItem['setItemDescription']=_0x2ebed2[_0x12860e(0x1a5)][_0x12860e(0x1c8)];}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x174))['addEventListener'](_0x4aefc6(0x251),function(_0x338a57){var _0x53d552=_0x4aefc6;baseItem[_0x53d552(0x1cc)]=_0x338a57[_0x53d552(0x1a5)][_0x53d552(0x1c8)];}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x155))[_0x4aefc6(0x232)](_0x4aefc6(0x1b0),function(_0x195a18){var _0x423a30=_0x4aefc6;baseItem[_0x423a30(0x1c1)]=_0x195a18[_0x423a30(0x1a5)][_0x423a30(0x1c8)];}),document[_0x4aefc6(0x1d7)]('inputItemTax')[_0x4aefc6(0x232)]('change',function(_0x23ddf0){var _0x4e7995=_0x4aefc6;baseItem['setItemTaxId']=_0x23ddf0[_0x4e7995(0x1a5)]['value'];const _0x5d709f=_0x23ddf0[_0x4e7995(0x1a5)][_0x4e7995(0x1c8)],_0x2d7c79=company[0x0][_0x4e7995(0x22c)][_0x4e7995(0x211)](_0x4ed609=>_0x4ed609['setTaxId']==_0x5d709f)?.[_0x4e7995(0x21e)]||0x0,_0x19f370=company[0x0]['setImpuestos']['find'](_0x32f377=>_0x32f377[_0x4e7995(0x217)]==_0x5d709f)?.['setImpuestoValue']||0x0;baseItem[_0x4e7995(0x154)]=_0x2d7c79,baseItem[_0x4e7995(0x1a1)]=_0x19f370;}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x246))[_0x4aefc6(0x232)]('change',function(_0x35f54f){var _0x323c9c=_0x4aefc6;baseItem[_0x323c9c(0x1d6)]=_0x35f54f[_0x323c9c(0x1a5)][_0x323c9c(0x1d8)];}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x24a))[_0x4aefc6(0x232)]('change',function(_0x5673e8){var _0x294ce6=_0x4aefc6;baseItem['setItemIsSold']=_0x5673e8[_0x294ce6(0x1a5)][_0x294ce6(0x1d8)];}),document[_0x4aefc6(0x1d7)]('inputItemCode')[_0x4aefc6(0x232)]('input',function(_0x32ec52){var _0x5c8d21=_0x4aefc6;baseItem[_0x5c8d21(0x25d)]=_0x32ec52[_0x5c8d21(0x1a5)][_0x5c8d21(0x1c8)];}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x20e))[_0x4aefc6(0x232)](_0x4aefc6(0x251),function(_0x17da2a){var _0x480b93=_0x4aefc6;baseItem['setItemBarCode']=_0x17da2a[_0x480b93(0x1a5)]['value'];}),document[_0x4aefc6(0x1d7)]('newItem_btn_addUnit')['addEventListener']('click',function(){addUnit(),updateUnitsArray();}),document[_0x4aefc6(0x1d7)](_0x4aefc6(0x1d1))[_0x4aefc6(0x232)](_0x4aefc6(0x18d),function(){var _0x36b555=_0x4aefc6;const _0x170d9a=this[_0x36b555(0x1c8)]['trim']();if(_0x170d9a==='')return;const _0x1dde27=products['some'](_0x24c332=>_0x24c332['setCodProducto']==_0x170d9a),_0x5cef93=getLastCode(products);_0x1dde27?ntfShow(_0x36b555(0x253)+_0x5cef93,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x57ceaf){var _0x3de01e=_0x4aefc6;currentImages[_0x57ceaf]=null;var _0xe33767=imgC[_0x3de01e(0x181)](_0x3de01e(0x1c9)+_0x57ceaf+'\x22]');_0xe33767['innerHTML']='';var _0x188c1f=document['createElement'](_0x3de01e(0x251));_0x188c1f[_0x3de01e(0x275)]='file',_0x188c1f[_0x3de01e(0x1c0)]='image/*',_0x188c1f[_0x3de01e(0x153)]['display']=_0x3de01e(0x185);var _0x3d72a6=document[_0x3de01e(0x161)]('span');_0x3d72a6['textContent']='+',_0xe33767[_0x3de01e(0x144)](_0x188c1f),_0xe33767[_0x3de01e(0x144)](_0x3d72a6),_0xe33767[_0x3de01e(0x232)](_0x3de01e(0x218),function(){_0x188c1f['click']();}),baseItem[_0x3de01e(0x130)]=currentImages[_0x3de01e(0x255)](function(_0x35555e){return _0x35555e;});}function addUnit(_0x52cee8,_0x33a798,_0x32fdb2,_0x33a7f1,_0x56a7f4,_0x382761,_0x4f71ad){var _0x55bc70=_0x4aefc6,_0x5d4c6d=uniqueValuesArray(_0x55bc70(0x271),_0x55bc70(0x220),myCompany['setUnits']);_0x52cee8=_0x52cee8||'',_0x33a798=_0x33a798||_0x5d4c6d[0x3a]&&_0x5d4c6d[0x3a][_0x55bc70(0x1d5)]||'',_0x32fdb2=_0x32fdb2!==undefined?_0x32fdb2:0x1,_0x33a7f1=!!_0x33a7f1,_0x56a7f4=_0x56a7f4||'',_0x382761=_0x382761||'';var _0x31f7ec=unitCount++,_0xc31e60=document['createElement'](_0x55bc70(0x1ad));_0xc31e60['dataset'][_0x55bc70(0x274)]=_0x31f7ec,_0xc31e60['dataset'][_0x55bc70(0x134)]=_0x33a7f1,_0xc31e60[_0x55bc70(0x1ae)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x31f7ec+_0x55bc70(0x13e)+_0x52cee8+_0x55bc70(0x17c)+_0x31f7ec+_0x55bc70(0x21c)+_0x31f7ec+_0x55bc70(0x13e)+_0x32fdb2+'\x22\x20'+(_0x33a7f1?'disabled':'')+_0x55bc70(0x18e)+_0x31f7ec+'\x22\x20value=\x22'+_0x56a7f4+_0x55bc70(0x239)+_0x31f7ec+_0x55bc70(0x13e)+_0x382761+_0x55bc70(0x19f)+(_0x33a7f1?_0x55bc70(0x149):'')+'>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>',fillSelect(_0xc31e60['querySelector'](_0x55bc70(0x15e)),_0x5d4c6d,_0x55bc70(0x1d5),_0x55bc70(0x24f)),_0xc31e60[_0x55bc70(0x181)]('.unitSelect')[_0x55bc70(0x1c8)]=_0x33a798,[_0x55bc70(0x1da),_0x55bc70(0x229),_0x55bc70(0x192),_0x55bc70(0x13d),'costInput'][_0x55bc70(0x197)](function(_0x883dee){var _0x36aded=_0x55bc70;_0xc31e60[_0x36aded(0x181)]('.'+_0x883dee)[_0x36aded(0x232)](_0x36aded(0x251),function(){var _0x311f72=_0x36aded,_0x3ba52b=_0x4f71ad?+_0x4f71ad['id'][_0x311f72(0x170)]('_')[0x1]:null;if(_0x4f71ad)updateVariantUnits(_0x3ba52b);else updateUnitsArray();});}),_0xc31e60['querySelector'](_0x55bc70(0x178))[_0x55bc70(0x232)](_0x55bc70(0x218),function(){var _0x1c3e44=_0x55bc70;_0xc31e60[_0x1c3e44(0x16b)]();var _0x17e49e=_0x4f71ad?+_0x4f71ad['id'][_0x1c3e44(0x170)]('_')[0x1]:null;if(_0x4f71ad)updateVariantUnits(_0x17e49e);else updateUnitsArray();});var _0x458628=_0x4f71ad||document[_0x55bc70(0x1d7)](_0x55bc70(0x1ca));_0x458628[_0x55bc70(0x144)](_0xc31e60);}function containerIdx(_0xcef585){var _0x10f9a1=_0x4aefc6;return+_0xcef585['id'][_0x10f9a1(0x170)]('_')[0x1];}function updateUnitsArray(){var _0x4274b9=_0x4aefc6,_0x5a1d17=[],_0x30683b=Array[_0x4274b9(0x260)](document[_0x4274b9(0x1ba)](_0x4274b9(0x15d))),_0x64fa50=_0x30683b['find'](_0x3104ad=>_0x3104ad[_0x4274b9(0x182)]['default']===_0x4274b9(0x18f)),_0x388cfe=_0x64fa50?+_0x64fa50[_0x4274b9(0x181)](_0x4274b9(0x1cf))['value']:0x1;_0x30683b[_0x4274b9(0x197)](function(_0x43f8a4){var _0x2f71b4=_0x4274b9,_0x361797=+_0x43f8a4[_0x2f71b4(0x181)](_0x2f71b4(0x1cf))['value']||0x0,_0x26cf58=+_0x43f8a4[_0x2f71b4(0x181)](_0x2f71b4(0x1b8))[_0x2f71b4(0x1c8)]||0x0,_0x5ebebc=+_0x43f8a4[_0x2f71b4(0x181)](_0x2f71b4(0x26b))[_0x2f71b4(0x1c8)]||0x0;_0x5a1d17[_0x2f71b4(0x202)]({'setAlias':_0x43f8a4[_0x2f71b4(0x181)](_0x2f71b4(0x1f5))[_0x2f71b4(0x1c8)][_0x2f71b4(0x1d4)](),'setUnitCode':_0x43f8a4[_0x2f71b4(0x181)]('.unitSelect')[_0x2f71b4(0x1c8)],'setEquivalence':_0x361797,'setFactor':_0x43f8a4[_0x2f71b4(0x182)]['default']===_0x2f71b4(0x18f)?0x1:_0x361797==_0x388cfe?0x1:_0x361797<_0x388cfe?_0x388cfe/_0x361797:_0x361797/_0x388cfe,'setPrice':_0x26cf58,'setCost':_0x5ebebc,'setDefault':_0x43f8a4[_0x2f71b4(0x182)][_0x2f71b4(0x134)]===_0x2f71b4(0x18f)?0x1:0x0});}),baseItem[_0x4274b9(0x24e)]=_0x5a1d17;}function updateBranches(){var _0x4fc1bf=_0x4aefc6,_0x1d96f5=[];document[_0x4fc1bf(0x1ba)]('#newItem_branches_container\x20>\x20div')[_0x4fc1bf(0x197)](function(_0x2d12a1){var _0x26b88b=_0x4fc1bf,_0x1b6c1d=_0x2d12a1[_0x26b88b(0x181)](_0x26b88b(0x186));if(_0x1b6c1d[_0x26b88b(0x1d8)]){var _0x5aa0ee=+_0x1b6c1d[_0x26b88b(0x182)]['id'],_0xb2eba4=+_0x2d12a1[_0x26b88b(0x181)](_0x26b88b(0x201))['value'],_0x1b51af=+_0x2d12a1[_0x26b88b(0x181)](_0x26b88b(0x1f1))['value'];_0x1d96f5[_0x26b88b(0x202)]({'setWarehouseCode':_0x5aa0ee,'setStockInitial':_0xb2eba4,'setStockMinimum':_0x1b51af});}}),baseItem[_0x4fc1bf(0x14b)]=_0x1d96f5;}document[_0x4aefc6(0x1d7)]('newItem_btn_addProdItem')[_0x4aefc6(0x232)](_0x4aefc6(0x218),function(){var _0x2f2731=_0x4aefc6,_0xcc961e=Date[_0x2f2731(0x1f9)](),_0x2b5fd2=document[_0x2f2731(0x161)]('div');_0x2b5fd2[_0x2f2731(0x182)]['idx']=_0xcc961e,_0x2b5fd2[_0x2f2731(0x1ae)]=_0x2f2731(0x1cd)+_0xcc961e+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0xcc961e+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x2f2731(0x144)](_0x2b5fd2),initProdSearch(_0x2b5fd2[_0x2f2731(0x181)](_0x2f2731(0x1c6))),_0x2b5fd2['querySelector'](_0x2f2731(0x276))[_0x2f2731(0x232)]('click',function(){var _0x2b9d82=_0x2f2731;_0x2b5fd2[_0x2b9d82(0x16b)](),updateProdItems();}),_0x2b5fd2[_0x2f2731(0x181)]('.prodQty')[_0x2f2731(0x232)](_0x2f2731(0x251),updateProdItems),document[_0x2f2731(0x1d7)]('newItem_title_table_cp')['classList']['toggle'](_0x2f2731(0x23e),!![]),document[_0x2f2731(0x1d7)]('newItem_title_table_cp')[_0x2f2731(0x1ff)]['toggle'](_0x2f2731(0x167),![]);});function initProdSearch(_0x2189c6,_0x1b1697){var _0x5b147c=_0x4aefc6,_0x18c361=_0x2189c6[_0x5b147c(0x181)](_0x5b147c(0x145)),_0x3d98e3=_0x2189c6[_0x5b147c(0x181)]('.options_list'),_0x12d960=_0x1b1697||null;if(_0x1b1697)_0x18c361[_0x5b147c(0x1c8)]=_0x1b1697['name'];_0x18c361[_0x5b147c(0x232)]('input',function(){var _0x381f57=_0x5b147c,_0x26ec8a=_0x18c361[_0x381f57(0x1c8)]['toLowerCase']()['trim']();_0x3d98e3[_0x381f57(0x1ae)]='';if(!_0x26ec8a)return;products[_0x381f57(0x255)](_0x2f0685=>_0x2f0685[_0x381f57(0x132)][_0x381f57(0x257)]()[_0x381f57(0x143)](_0x26ec8a))[_0x381f57(0x1bd)](0x0,0x14)[_0x381f57(0x197)](function(_0x227038){var _0x576956=_0x381f57,_0x4763c4=document[_0x576956(0x161)]('div');_0x4763c4[_0x576956(0x235)]=_0x227038[_0x576956(0x132)],_0x4763c4[_0x576956(0x182)]['id']=_0x227038['id'],_0x4763c4['dataset'][_0x576956(0x26c)]=_0x227038[_0x576956(0x132)],_0x3d98e3['appendChild'](_0x4763c4),_0x4763c4['addEventListener'](_0x576956(0x218),function(){var _0x400dba=_0x576956;_0x12d960={'id':_0x227038['id'],'name':_0x227038[_0x400dba(0x132)]},_0x18c361[_0x400dba(0x1c8)]=_0x227038[_0x400dba(0x132)],_0x3d98e3[_0x400dba(0x1ae)]='';var _0x301d1f=_0x2189c6['closest']('[id$=\x22_comp_container\x22]');if(_0x301d1f){var _0x4ff2fa=+_0x301d1f['id']['split']('_')[0x1];updateVariantComponents(_0x4ff2fa);}else updateProdItems();});});}),_0x18c361[_0x5b147c(0x232)](_0x5b147c(0x1fe),function(){var _0x23657e=_0x5b147c;_0x3d98e3[_0x23657e(0x1ff)]['remove'](_0x23657e(0x167));}),document['addEventListener'](_0x5b147c(0x218),function(_0x1e688c){var _0x22e98b=_0x5b147c;if(!_0x2189c6[_0x22e98b(0x278)](_0x1e688c['target']))_0x3d98e3[_0x22e98b(0x1ff)]['add'](_0x22e98b(0x167));}),Object['defineProperty'](_0x2189c6,_0x5b147c(0x1b2),{'get':()=>_0x12d960});}function updateProdItems(){var _0x4f2589=_0x4aefc6,_0x2b2f79=[];Array[_0x4f2589(0x260)](prodC[_0x4f2589(0x20a)])['forEach'](function(_0x2f3d60){var _0x8063c4=_0x4f2589,_0x95b2f0=_0x2f3d60[_0x8063c4(0x181)](_0x8063c4(0x1c6));if(!_0x95b2f0)return;var _0x52d2e3=_0x2f3d60[_0x8063c4(0x181)](_0x8063c4(0x1e4)),_0x219ab4=_0x95b2f0['selectedItem'];_0x219ab4&&_0x2b2f79[_0x8063c4(0x202)]({'setItemId':_0x219ab4['id'],'setDescripcion':_0x219ab4[_0x8063c4(0x26c)],'setCantidad':+_0x52d2e3['value']});}),baseItem['setItemComponents']=_0x2b2f79,_0x2b2f79[_0x4f2589(0x1de)]===0x0&&(document[_0x4f2589(0x1d7)](_0x4f2589(0x262))[_0x4f2589(0x1ff)][_0x4f2589(0x233)](_0x4f2589(0x23e),![]),document[_0x4f2589(0x1d7)](_0x4f2589(0x262))[_0x4f2589(0x1ff)][_0x4f2589(0x233)]('newItem_hidden',!![]));}document[_0x4aefc6(0x1d7)](_0x4aefc6(0x222))['addEventListener'](_0x4aefc6(0x218),function(){var _0xd3e148=_0x4aefc6,_0x1e5d93=vgCount++,_0x2c22dd=document[_0xd3e148(0x161)](_0xd3e148(0x1ad));_0x2c22dd['dataset'][_0xd3e148(0x274)]=_0x1e5d93,_0x2c22dd['innerHTML']='<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22'+_0x1e5d93+'\x22>'+_0xd3e148(0x224)+_0x1e5d93+'\x22>'+_0xd3e148(0x157),vgC[_0xd3e148(0x144)](_0x2c22dd),_0x2c22dd[_0xd3e148(0x181)]('.vgName')[_0xd3e148(0x232)](_0xd3e148(0x18d),generateVariants),_0x2c22dd[_0xd3e148(0x181)](_0xd3e148(0x19e))['addEventListener'](_0xd3e148(0x18d),generateVariants),_0x2c22dd['querySelector'](_0xd3e148(0x209))[_0xd3e148(0x232)](_0xd3e148(0x218),function(){var _0x1c8f81=_0xd3e148;_0x2c22dd[_0x1c8f81(0x16b)](),generateVariants();});});function generateVariants(){var _0x3cb97b=_0x4aefc6,_0x517296=[];vgC[_0x3cb97b(0x1ba)](_0x3cb97b(0x1ad))[_0x3cb97b(0x197)](function(_0x589944){var _0x1735d5=_0x3cb97b,_0x1bf9bc=_0x589944[_0x1735d5(0x181)](_0x1735d5(0x12b))['value'][_0x1735d5(0x1d4)](),_0x20c993=_0x589944[_0x1735d5(0x181)](_0x1735d5(0x19e))['value'][_0x1735d5(0x170)](',')[_0x1735d5(0x240)](_0x130849=>_0x130849[_0x1735d5(0x1d4)]())['filter'](_0x485e17=>_0x485e17);if(_0x1bf9bc&&_0x20c993[_0x1735d5(0x1de)])_0x517296[_0x1735d5(0x202)]({'name':_0x1bf9bc,'vals':_0x20c993});});var _0x3474c2=[{}];_0x517296[_0x3cb97b(0x197)](function(_0x5f1598){var _0x506848=_0x3cb97b;_0x3474c2=_0x3474c2[_0x506848(0x1e3)](function(_0x534e3f){var _0x15de6c=_0x506848;return _0x5f1598[_0x15de6c(0x263)][_0x15de6c(0x240)](function(_0x15f38f){var _0x5902df=_0x15de6c,_0x320ffc=Object[_0x5902df(0x1d9)]({},_0x534e3f);return _0x320ffc[_0x5f1598[_0x5902df(0x26c)]]=_0x15f38f,_0x320ffc;});});}),newItems=[],varContainer[_0x3cb97b(0x1ae)]='',_0x3474c2['forEach'](function(_0x3a9fb2,_0x2a22ac){var _0x1e23a3=_0x3cb97b,_0x2fcde5=JSON[_0x1e23a3(0x1d0)](JSON['stringify'](baseItem));_0x2fcde5[_0x1e23a3(0x15b)]=_0x3a9fb2,_0x2fcde5[_0x1e23a3(0x1f3)]=baseItem[_0x1e23a3(0x1be)]+'\x20'+Object[_0x1e23a3(0x14d)](_0x3a9fb2)[_0x1e23a3(0x240)](_0x24b5a5=>_0x24b5a5[0x0]+'\x20'+_0x24b5a5[0x1])[_0x1e23a3(0x249)]('\x20'),newItems['push'](_0x2fcde5);var _0xbc0bcc=document[_0x1e23a3(0x161)](_0x1e23a3(0x1ad));_0xbc0bcc[_0x1e23a3(0x1ff)][_0x1e23a3(0x169)](_0x1e23a3(0x18a)),_0xbc0bcc[_0x1e23a3(0x182)][_0x1e23a3(0x274)]=_0x2a22ac,_0xbc0bcc['innerHTML']=_0x1e23a3(0x219)+_0x2fcde5[_0x1e23a3(0x1f3)]+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x2fcde5[_0x1e23a3(0x25d)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x2fcde5[_0x1e23a3(0x254)]+_0x1e23a3(0x264)+_0x2fcde5[_0x1e23a3(0x1cc)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x2a22ac+_0x1e23a3(0x1ac)+_0x2a22ac+_0x1e23a3(0x152)+_0x2a22ac+_0x1e23a3(0x261),varContainer[_0x1e23a3(0x144)](_0xbc0bcc),_0xbc0bcc[_0x1e23a3(0x181)](_0x1e23a3(0x1a9))['addEventListener'](_0x1e23a3(0x251),_0x3fce5d=>newItems[_0x2a22ac][_0x1e23a3(0x25d)]=_0x3fce5d['target'][_0x1e23a3(0x1c8)]),_0xbc0bcc[_0x1e23a3(0x181)]('.variantBarCode')[_0x1e23a3(0x232)](_0x1e23a3(0x251),_0x106a58=>newItems[_0x2a22ac]['setItemBarCode']=_0x106a58[_0x1e23a3(0x1a5)][_0x1e23a3(0x1c8)]),_0xbc0bcc[_0x1e23a3(0x181)](_0x1e23a3(0x22e))[_0x1e23a3(0x232)](_0x1e23a3(0x1b0),_0x554e92=>newItems[_0x2a22ac][_0x1e23a3(0x1cc)]=_0x554e92[_0x1e23a3(0x1a5)][_0x1e23a3(0x1c8)]),initVariantUnits(_0x2a22ac),initVariantComponents(_0x2a22ac),initVariantBranches(_0x2a22ac),_0xbc0bcc[_0x1e23a3(0x181)]('.removeVariant')[_0x1e23a3(0x232)](_0x1e23a3(0x218),function(){var _0x1e13b6=_0x1e23a3,_0x46f176=+_0xbc0bcc[_0x1e13b6(0x182)][_0x1e13b6(0x274)];newItems[_0x1e13b6(0x213)](_0x46f176,0x1),_0xbc0bcc[_0x1e13b6(0x16b)](),document['querySelectorAll'](_0x1e13b6(0x184))[_0x1e13b6(0x197)](function(_0x5ba8f9,_0x102d20){var _0x231c12=_0x1e13b6;_0x5ba8f9[_0x231c12(0x182)]['idx']=_0x102d20;});});});if(newItems[_0x3cb97b(0x1de)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x171bd3){var _0x192f9a=_0x4aefc6,_0x1f3376=document[_0x192f9a(0x1d7)](_0x192f9a(0x176)+_0x171bd3+_0x192f9a(0x22f)),_0x3ee996=[];Array[_0x192f9a(0x260)](_0x1f3376[_0x192f9a(0x20a)])['forEach'](function(_0x550687){var _0x579254=_0x192f9a,_0x2c256b=+_0x550687[_0x579254(0x181)](_0x579254(0x1cf))[_0x579254(0x1c8)]||0x0,_0x1cb339=_0x550687[_0x579254(0x181)](_0x579254(0x1f5))[_0x579254(0x1c8)][_0x579254(0x1d4)](),_0xb541ca=_0x550687[_0x579254(0x181)]('.unitSelect')[_0x579254(0x1c8)],_0x226d22=+_0x550687['querySelector'](_0x579254(0x1b8))[_0x579254(0x1c8)]||0x0,_0x525e4a=+_0x550687[_0x579254(0x181)](_0x579254(0x26b))['value']||0x0,_0x2cc708=_0x550687[_0x579254(0x182)][_0x579254(0x134)]===_0x579254(0x18f),_0x425814=+_0x1f3376['querySelector']('div[data-default=\x22true\x22]\x20.eqInput')['value']||0x1,_0x4cd52f=_0x2cc708?0x1:_0x2c256b==_0x425814?0x1:_0x2c256b<_0x425814?_0x425814/_0x2c256b:_0x2c256b/_0x425814;_0x3ee996['push']({'setAlias':_0x1cb339,'setUnitCode':_0xb541ca,'setEquivalence':_0x2c256b,'setFactor':_0x4cd52f,'setPrice':_0x226d22,'setCost':_0x525e4a,'setDefault':_0x2cc708?0x1:0x0});}),newItems[_0x171bd3][_0x192f9a(0x24e)]=_0x3ee996;}function initVariantUnits(_0x28ca79){var _0x53ca9a=_0x4aefc6,_0x27a365=document[_0x53ca9a(0x1d7)](_0x53ca9a(0x176)+_0x28ca79+_0x53ca9a(0x22f));_0x27a365[_0x53ca9a(0x1ae)]='',newItems[_0x28ca79][_0x53ca9a(0x24e)][_0x53ca9a(0x197)](function(_0x1aa516){var _0x27e6c7=_0x53ca9a;addUnit(_0x1aa516[_0x27e6c7(0x20f)],_0x1aa516[_0x27e6c7(0x271)],_0x1aa516[_0x27e6c7(0x1af)],_0x1aa516['setDefault'],_0x1aa516['setPrice'],_0x1aa516[_0x27e6c7(0x15f)],_0x27a365);}),_0x27a365[_0x53ca9a(0x1e9)]['querySelector'](_0x53ca9a(0x1ef))[_0x53ca9a(0x232)](_0x53ca9a(0x218),function(){addUnit('','',0x1,![],'','',_0x27a365),updateVariantUnits(_0x28ca79);});}function updateVariantUnits(_0x4e549a){var _0x1d5ed3=_0x4aefc6,_0x4b0c99=document[_0x1d5ed3(0x1d7)](_0x1d5ed3(0x176)+_0x4e549a+_0x1d5ed3(0x22f)),_0x5a054c=_0x4b0c99[_0x1d5ed3(0x181)](_0x1d5ed3(0x1c2)),_0x2be9ad=_0x5a054c?+_0x5a054c[_0x1d5ed3(0x1c8)]:0x1,_0xce61dc=Array[_0x1d5ed3(0x260)](_0x4b0c99[_0x1d5ed3(0x20a)])[_0x1d5ed3(0x240)](function(_0x93b832){var _0x109109=_0x1d5ed3,_0x337148=_0x93b832['querySelector'](_0x109109(0x1f5))['value'][_0x109109(0x1d4)](),_0xd6232a=_0x93b832[_0x109109(0x181)](_0x109109(0x15e))['value'],_0x4c101b=+_0x93b832[_0x109109(0x181)](_0x109109(0x1cf))[_0x109109(0x1c8)]||0x0,_0x198812=+_0x93b832[_0x109109(0x181)](_0x109109(0x1b8))[_0x109109(0x1c8)]||0x0,_0x4152d7=+_0x93b832[_0x109109(0x181)](_0x109109(0x26b))[_0x109109(0x1c8)]||0x0,_0x5565e4=_0x93b832[_0x109109(0x182)][_0x109109(0x134)]==='true';return{'setAlias':_0x337148,'setUnitCode':_0xd6232a,'setEquivalence':_0x4c101b,'setFactor':_0x5565e4?0x1:_0x4c101b==_0x2be9ad?0x1:_0x4c101b<_0x2be9ad?_0x2be9ad/_0x4c101b:_0x4c101b/_0x2be9ad,'setPrice':_0x198812,'setCost':_0x4152d7,'setDefault':_0x5565e4?0x1:0x0};});newItems[_0x4e549a][_0x1d5ed3(0x24e)]=_0xce61dc;}function initVariantComponents(_0xfc728b){var _0x48ebeb=_0x4aefc6,_0x51d5ab=document[_0x48ebeb(0x1d7)](_0x48ebeb(0x176)+_0xfc728b+_0x48ebeb(0x141));_0x51d5ab[_0x48ebeb(0x1ae)]='',newItems[_0xfc728b]['setItemComponents'][_0x48ebeb(0x197)](function(_0x1caf15){var _0x578a03=_0x48ebeb,_0x50f47f=document[_0x578a03(0x161)](_0x578a03(0x1ad)),_0x5d9c8b=Date[_0x578a03(0x1f9)]();_0x50f47f['dataset'][_0x578a03(0x274)]=_0x5d9c8b,_0x50f47f['innerHTML']=_0x578a03(0x175)+_0x5d9c8b+_0x578a03(0x242)+_0x1caf15[_0x578a03(0x12d)]+_0x578a03(0x20b),_0x51d5ab['appendChild'](_0x50f47f),initProdSearch(_0x50f47f[_0x578a03(0x181)]('.prod_input_container'),{'id':_0x1caf15[_0x578a03(0x138)],'name':_0x1caf15[_0x578a03(0x132)]}),_0x50f47f['querySelector']('.prodQty')[_0x578a03(0x232)](_0x578a03(0x251),function(){updateVariantComponents(_0xfc728b);}),_0x50f47f[_0x578a03(0x181)](_0x578a03(0x1b9))[_0x578a03(0x232)](_0x578a03(0x218),function(){var _0xab32fa=_0x578a03;_0x50f47f[_0xab32fa(0x16b)](),updateVariantComponents(_0xfc728b);});}),_0x51d5ab[_0x48ebeb(0x1e9)][_0x48ebeb(0x181)]('.addVariantComp')[_0x48ebeb(0x232)](_0x48ebeb(0x218),function(){var _0x23d6cd=_0x48ebeb,_0x4b866d=document[_0x23d6cd(0x161)](_0x23d6cd(0x1ad)),_0x1454ec=Date['now']();_0x4b866d['dataset']['idx']=_0x1454ec,_0x4b866d[_0x23d6cd(0x1ae)]=_0x23d6cd(0x175)+_0x1454ec+_0x23d6cd(0x12c),_0x51d5ab[_0x23d6cd(0x144)](_0x4b866d),initProdSearch(_0x4b866d[_0x23d6cd(0x181)]('.prod_input_container')),_0x4b866d[_0x23d6cd(0x181)]('.prodQty')[_0x23d6cd(0x232)](_0x23d6cd(0x251),function(){updateVariantComponents(_0xfc728b);}),_0x4b866d[_0x23d6cd(0x181)](_0x23d6cd(0x1b9))[_0x23d6cd(0x232)]('click',function(){var _0xbc6038=_0x23d6cd;_0x4b866d[_0xbc6038(0x16b)](),updateVariantComponents(_0xfc728b);});});}function updateVariantComponents(_0x13d56e){var _0x2bd07e=_0x4aefc6,_0x247052=document[_0x2bd07e(0x1d7)](_0x2bd07e(0x176)+_0x13d56e+_0x2bd07e(0x141)),_0x53df1b=Array['from'](_0x247052[_0x2bd07e(0x20a)])[_0x2bd07e(0x240)](function(_0x953e96){var _0x14694f=_0x2bd07e,_0x26d798=_0x953e96[_0x14694f(0x181)](_0x14694f(0x1c6)),_0x34ac84=_0x26d798[_0x14694f(0x1b2)],_0xc4951d=+_0x953e96['querySelector'](_0x14694f(0x1e4))[_0x14694f(0x1c8)]||0x0;return _0x34ac84?{'setItemId':_0x34ac84['id'],'setDescripcion':_0x34ac84[_0x14694f(0x26c)],'setCantidad':_0xc4951d}:null;})['filter'](_0x58885c=>_0x58885c);newItems[_0x13d56e][_0x2bd07e(0x26d)]=_0x53df1b;}function initVariantBranches(_0x2b2fa0){var _0x4d662d=_0x4aefc6;const _0x21e3ac=getAllWarehouses();var _0x54ce82=document['getElementById'](_0x4d662d(0x176)+_0x2b2fa0+_0x4d662d(0x165));_0x54ce82[_0x4d662d(0x1ae)]='',newItems[_0x2b2fa0][_0x4d662d(0x14b)][_0x4d662d(0x197)](function(_0x4fe880){var _0x2fccb7=_0x4d662d,_0x44187d=_0x21e3ac[_0x2fccb7(0x211)](_0x4817b7=>_0x4817b7[_0x2fccb7(0x250)]==_0x4fe880[_0x2fccb7(0x1f2)]),_0x1bc058=document[_0x2fccb7(0x161)](_0x2fccb7(0x1ad));_0x1bc058[_0x2fccb7(0x1ae)]=_0x2fccb7(0x238)+_0x4fe880[_0x2fccb7(0x1f2)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x44187d[_0x2fccb7(0x23f)]+_0x2fccb7(0x190)+_0x4fe880[_0x2fccb7(0x1f2)]+_0x2fccb7(0x13e)+_0x4fe880[_0x2fccb7(0x18b)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x4fe880['setWarehouseCode']+_0x2fccb7(0x13e)+_0x4fe880[_0x2fccb7(0x194)]+'\x22>',_0x54ce82[_0x2fccb7(0x144)](_0x1bc058),_0x1bc058[_0x2fccb7(0x1ba)](_0x2fccb7(0x251))[_0x2fccb7(0x197)](function(_0x424ad1){var _0x42f71a=_0x2fccb7;_0x424ad1[_0x42f71a(0x232)](_0x42f71a(0x251),function(){updateVariantBranches(_0x2b2fa0);});});}),_0x21e3ac['forEach'](function(_0x57b732){var _0x575fee=_0x4d662d;if(!newItems[_0x2b2fa0]['setItemWarehouses'][_0x575fee(0x211)](_0x4d2ed8=>_0x4d2ed8[_0x575fee(0x1f2)]===_0x57b732[_0x575fee(0x250)])){var _0x164d44=document[_0x575fee(0x161)](_0x575fee(0x1ad));_0x164d44['innerHTML']=_0x575fee(0x238)+_0x57b732['setWarehouseId']+_0x575fee(0x214)+_0x57b732[_0x575fee(0x23f)]+_0x575fee(0x190)+_0x57b732['setWarehouseId']+_0x575fee(0x216)+_0x57b732[_0x575fee(0x250)]+'\x22>',_0x54ce82[_0x575fee(0x144)](_0x164d44),_0x164d44['querySelectorAll'](_0x575fee(0x251))['forEach'](function(_0x30aa6b){var _0x19d231=_0x575fee;_0x30aa6b['addEventListener'](_0x19d231(0x251),function(){updateVariantBranches(_0x2b2fa0);});});}});}function updateVariantBranches(_0x1b7edb){var _0x41ed8d=_0x4aefc6,_0x3fba36=document[_0x41ed8d(0x1d7)](_0x41ed8d(0x176)+_0x1b7edb+_0x41ed8d(0x165)),_0x1c5d8f=[];_0x3fba36['querySelectorAll'](_0x41ed8d(0x1ad))[_0x41ed8d(0x197)](function(_0x29590c){var _0x33a3f6=_0x41ed8d,_0xc7a24b=_0x29590c[_0x33a3f6(0x181)](_0x33a3f6(0x186));if(_0xc7a24b['checked']){var _0x2a89b1=+_0xc7a24b[_0x33a3f6(0x182)]['id'],_0x26e971=+_0x29590c[_0x33a3f6(0x181)](_0x33a3f6(0x201))[_0x33a3f6(0x1c8)]||0x0,_0x1d4339=+_0x29590c[_0x33a3f6(0x181)]('.branchMin')[_0x33a3f6(0x1c8)]||0x0;_0x1c5d8f['push']({'setWarehouseCode':_0x2a89b1,'setStockInitial':_0x26e971,'setStockMinimum':_0x1d4339});}}),newItems[_0x1b7edb][_0x41ed8d(0x14b)]=_0x1c5d8f;}async function storeOfflineProduct(_0x180aa2){var _0x2057e2=_0x4aefc6;try{const _0x5ae063=await createCartStore(''),_0x140463=_0x5ae063[_0x2057e2(0x22b)](_0x2057e2(0x24d),'readwrite'),_0x3b18a3=_0x140463[_0x2057e2(0x21a)](_0x2057e2(0x24d));_0x3b18a3[_0x2057e2(0x169)](_0x180aa2),_0x140463[_0x2057e2(0x200)]=()=>{var _0x251d95=_0x2057e2;console[_0x251d95(0x164)](_0x251d95(0x177));},_0x140463[_0x2057e2(0x269)]=_0x139331=>{var _0x4e5d3e=_0x2057e2;console[_0x4e5d3e(0x23a)](_0x4e5d3e(0x1ec),_0x139331[_0x4e5d3e(0x1a5)][_0x4e5d3e(0x23a)]);};}catch(_0x391479){console[_0x2057e2(0x23a)](_0x2057e2(0x146),_0x391479);}}document[_0x4aefc6(0x1d7)]('btnItemSave')[_0x4aefc6(0x232)](_0x4aefc6(0x218),async function(_0xbb8d08){var _0x147044=_0x4aefc6;_0xbb8d08[_0x147044(0x231)]();const _0x4decf2=document[_0x147044(0x1d7)](_0x147044(0x1d1)),_0x36ab8b=document[_0x147044(0x1d7)](_0x147044(0x244))[_0x147044(0x1c8)];if(!_0x4decf2['value'][_0x147044(0x1d4)]()&&_0x36ab8b==0x0){ntfShow(_0x147044(0x1b7),0x2,0x1);return;}_0x36ab8b==0x1&&(_0x4decf2[_0x147044(0x1c8)]='',baseItem[_0x147044(0x25d)]='');const _0x50d3b0=document['getElementById'](_0x147044(0x196));if(!_0x50d3b0[_0x147044(0x1c8)][_0x147044(0x1d4)]()){ntfShow(_0x147044(0x212),0x2,0x1);return;}const _0x291e69=document['getElementById'](_0x147044(0x16c));hideModalCreateItem(),showLoadingModal();newItems[_0x147044(0x1de)]===0x0&&(newItems=[baseItem]);const _0x2e56dc=document[_0x147044(0x1d7)](_0x147044(0x171))['value'],_0x5dbb91=window_options[_0x2e56dc][_0x147044(0x1cb)],_0x5bc0b9=[];newItems[_0x147044(0x197)](_0x4f066d=>{var _0x2bc39d=_0x147044;const _0x29f530=generateNumericUniqId();_0x4f066d[_0x2bc39d(0x24e)][_0x2bc39d(0x197)](_0xab9e5a=>{var _0x1053d2=_0x2bc39d;const _0x304db5=generateNumericUniqId();_0xab9e5a[_0x1053d2(0x16f)]=_0x304db5;const _0xaa6c42={'id':_0x304db5,'setIdProducto':_0x29f530,'setCodProducto':_0x4f066d[_0x1053d2(0x25d)],'setDescripcion':_0x4f066d[_0x1053d2(0x1be)],'setItemDescription':_0x4f066d[_0x1053d2(0x1fb)],'setBatchExpirationDate':_0x4f066d['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x4f066d[_0x1053d2(0x1f4)][0x0]||'','setMarca':_0x4f066d[_0x1053d2(0x25c)][0x0]||'','setConversionFactor':parseFloat(_0xab9e5a[_0x1053d2(0x19c)]),'setImages':[],'setImg':_0x1053d2(0x158),'setInventariable':0x1,'setItemIsBought':_0x4f066d['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x4f066d[_0x1053d2(0x205)]?0x1:0x0,'setPorcentajeIgv':_0x4f066d['setItemTaxValue'],'setPrinters':[],'setTaxId':_0x4f066d[_0x1053d2(0x204)],'setTipAfeIgv':_0x4f066d[_0x1053d2(0x154)],'setUnidad':_0xab9e5a[_0x1053d2(0x271)],'setUnidadCodigo':_0xab9e5a['setUnitCode'],'setItemUnitAlias':_0xab9e5a[_0x1053d2(0x20f)],'currency_data':[{'currency':_0x5dbb91,'setMtoPrecioCostoUnitario':_0xab9e5a[_0x1053d2(0x15f)],'setMtoPrecioUnitario':_0xab9e5a[_0x1053d2(0x166)],'setPriceLists':[]}],'sucursales':_0x4f066d[_0x1053d2(0x14b)][_0x1053d2(0x240)](_0x88fb49=>({'setIdSucursal':_0x88fb49[_0x1053d2(0x1f2)],'setSucursalStock':_0x88fb49[_0x1053d2(0x18b)]['toString'](),'setWarehouseStockMin':_0x88fb49[_0x1053d2(0x194)][_0x1053d2(0x189)]()})),'setItemFree':_0x4f066d['setItemFree'],'setItemBarCode':_0x4f066d[_0x1053d2(0x254)],'setItemBrands':_0x4f066d[_0x1053d2(0x25c)][_0x1053d2(0x1bd)](),'setItemCategories':_0x4f066d['setItemCategories'][_0x1053d2(0x1bd)](),'setItemComponents':_0x4f066d['setItemComponents'][_0x1053d2(0x240)](_0x39f5ef=>({..._0x39f5ef})),'setItemImages':_0x4f066d[_0x1053d2(0x130)][_0x1053d2(0x1bd)](),'setItemVariantName':_0x4f066d[_0x1053d2(0x1f3)],'setItemVariantValues':{..._0x4f066d[_0x1053d2(0x15b)]}};_0x5bc0b9['push'](_0xaa6c42),(_0x291e69[_0x1053d2(0x1d8)]||_0x36ab8b==0x1)&&addToCart(_0xaa6c42);});}),console[_0x147044(0x164)](_0x147044(0x1aa),newItems),await finalizeImport(_0x5bc0b9,newItems,![]);}),[_0x4aefc6(0x17b),_0x4aefc6(0x1bb)]['forEach'](_0x12db88=>dropZone['addEventListener'](_0x12db88,_0x21b819=>{var _0x544c9f=_0x4aefc6;_0x21b819[_0x544c9f(0x231)](),dropZone[_0x544c9f(0x1ff)][_0x544c9f(0x169)]('dragover');})),[_0x4aefc6(0x148),'drop']['forEach'](_0x4ea862=>dropZone[_0x4aefc6(0x232)](_0x4ea862,_0x1a1e7b=>{var _0x27ed61=_0x4aefc6;_0x1a1e7b[_0x27ed61(0x231)](),dropZone[_0x27ed61(0x1ff)][_0x27ed61(0x16b)](_0x27ed61(0x1bb));})),dropZone[_0x4aefc6(0x232)](_0x4aefc6(0x273),_0x2d84c4=>{var _0x574f3c=_0x4aefc6;const _0x1a5510=_0x2d84c4['dataTransfer'][_0x574f3c(0x1ee)][0x0];if(!_0x1a5510)return;fileInput['files']=_0x2d84c4[_0x574f3c(0x1a8)][_0x574f3c(0x1ee)],dropZone[_0x574f3c(0x181)]('.drop-zone__prompt')['textContent']=_0x1a5510[_0x574f3c(0x26c)],removeBtn[_0x574f3c(0x17a)]=![],fileInput['dispatchEvent'](new Event(_0x574f3c(0x1b0)));}),removeBtn['addEventListener']('click',()=>{var _0x2991f5=_0x4aefc6;fileInput['value']='',dropZone[_0x2991f5(0x181)](_0x2991f5(0x247))[_0x2991f5(0x235)]=_0x2991f5(0x1e6),removeBtn[_0x2991f5(0x17a)]=!![],progressBar['style'][_0x2991f5(0x179)]=_0x2991f5(0x185),statusDiv['textContent']='',uploadBtn[_0x2991f5(0x279)]=!![];});const exportBtn=document['getElementById'](_0x4aefc6(0x1a3));exportBtn['addEventListener']('click',onClickExportarItems);async function onClickExportarItems(){var _0x21f75e=_0x4aefc6;if(!Array[_0x21f75e(0x206)](products)||!products['length']){ntfShow(_0x21f75e(0x17e));return;}try{const _0x119362=await fetch(_0x21f75e(0x180));if(!_0x119362['ok'])throw new Error(_0x21f75e(0x150));const _0x42c707=await _0x119362[_0x21f75e(0x228)](),_0x546c53=document[_0x21f75e(0x1d7)](_0x21f75e(0x250))['value'],_0x4517a2=products[_0x21f75e(0x255)](_0x212494=>Array[_0x21f75e(0x206)](_0x212494[_0x21f75e(0x1e8)])&&_0x212494[_0x21f75e(0x1e8)][_0x21f75e(0x160)](_0x566db4=>String(_0x566db4['setIdSucursal'])==String(_0x546c53))),_0x4a5aa9=_0x4517a2[_0x21f75e(0x1a2)]((_0x1c7cf6,_0x3a0504)=>{var _0x483d39=_0x21f75e;const _0x2421db=_0x3a0504[_0x483d39(0x1e7)];if(!_0x1c7cf6[_0x2421db])_0x1c7cf6[_0x2421db]=[];return _0x1c7cf6[_0x2421db]['push'](_0x3a0504),_0x1c7cf6;},{}),_0x27ab58=Object[_0x21f75e(0x267)](_0x4a5aa9)[_0x21f75e(0x240)](_0x4cf375=>{var _0x157f07=_0x21f75e;const _0x5a8d63=_0x4cf375[0x0],_0x1fbff7=_0x4cf375[0x1]||{};function _0x34acc9(_0x38e77e,_0x5e8579,_0x5ac1ea){var _0x84ef32=_0x4ff4;if(!_0x38e77e||!Array[_0x84ef32(0x206)](_0x38e77e[_0x84ef32(0x195)]))return'';const _0x28712e=_0x38e77e[_0x84ef32(0x195)]['find'](_0x56dce4=>_0x56dce4[_0x84ef32(0x20d)]===_0x5e8579);return _0x28712e?_0x28712e[_0x5ac1ea]:'';}return{'id':_0x5a8d63[_0x157f07(0x1e7)],'setItemType':_0x5a8d63['setItemType'],'setCodProducto':_0x5a8d63['setCodProducto'],'setDescripcion':_0x5a8d63[_0x157f07(0x132)],'setItemDescription':_0x5a8d63[_0x157f07(0x1fb)],'setCategoria':_0x5a8d63[_0x157f07(0x1ce)],'setMarca':_0x5a8d63[_0x157f07(0x156)],'setTaxId':_0x5a8d63[_0x157f07(0x217)],'setUnitId':_0x5a8d63['id'],'setItemBarCode':_0x5a8d63[_0x157f07(0x254)],'setUnidadCodigo':_0x5a8d63['setUnidadCodigo'],'PEN_setMtoPrecioUnitario':_0x34acc9(_0x5a8d63,_0x157f07(0x1c5),_0x157f07(0x22d)),'PEN_setMtoPrecioCostoUnitario':_0x34acc9(_0x5a8d63,_0x157f07(0x1c5),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x34acc9(_0x5a8d63,_0x157f07(0x203),_0x157f07(0x22d)),'USD_setMtoPrecioCostoUnitario':_0x34acc9(_0x5a8d63,_0x157f07(0x203),_0x157f07(0x193)),'setUnitId2':_0x1fbff7['id']??'','setItemBarCode2':_0x1fbff7[_0x157f07(0x254)]??'','setUnidadCodigo2':_0x1fbff7[_0x157f07(0x215)]??'','setUnidadEquivalencia2':_0x1fbff7[_0x157f07(0x227)]??'','PEN_setMtoPrecioUnitario2':_0x34acc9(_0x1fbff7,_0x157f07(0x1c5),_0x157f07(0x22d))??'','PEN_setMtoPrecioCostoUnitario2':_0x34acc9(_0x1fbff7,'PEN',_0x157f07(0x193))??'','USD_setMtoPrecioUnitario2':_0x34acc9(_0x1fbff7,_0x157f07(0x203),_0x157f07(0x22d))??'','USD_setMtoPrecioCostoUnitario2':_0x34acc9(_0x1fbff7,_0x157f07(0x203),'setMtoPrecioCostoUnitario')??'','setInventariable':_0x5a8d63['setInventariable'],'setSucursalStock':_0x5a8d63[_0x157f07(0x1e8)][_0x157f07(0x211)](_0x4a95c8=>String(_0x4a95c8['setIdSucursal'])==String(_0x546c53))[_0x157f07(0x245)],'setWarehouseStockMin':_0x5a8d63[_0x157f07(0x1e8)]['find'](_0x47ff49=>String(_0x47ff49[_0x157f07(0x16a)])==String(_0x546c53))['setWarehouseStockMin'],'setBatchName':_0x5a8d63['setBatchName'],'setBatchExpirationDate':_0x5a8d63[_0x157f07(0x26e)],..._0x5a8d63[_0x157f07(0x15b)]};});try{JSON['stringify'](_0x27ab58);}catch(_0x392988){console[_0x21f75e(0x23a)](_0x21f75e(0x168),_0x392988),ntfShow(_0x21f75e(0x207));return;}statusDiv[_0x21f75e(0x235)]=_0x21f75e(0x13a),progressBar['style'][_0x21f75e(0x179)]=_0x21f75e(0x21b),progressBar['value']=0x0,itemWorker[_0x21f75e(0x1b4)]({'action':_0x21f75e(0x225),'products':_0x27ab58,'plantillaBuf':_0x42c707},[_0x42c707]);}catch(_0x4991b2){console[_0x21f75e(0x23a)](_0x4991b2),ntfShow(_0x21f75e(0x1a6)+_0x4991b2[_0x21f75e(0x13b)]);}}itemWorker['onmessage']=({data:_0x2c8ae9})=>{var _0xcf707e=_0x4aefc6;const {type:_0x1ac27e,payload:_0x2e4bde}=_0x2c8ae9;_0x1ac27e===_0xcf707e(0x1fd)&&(progressBar[_0xcf707e(0x153)][_0xcf707e(0x179)]=_0xcf707e(0x21b),progressBar['value']=_0x2e4bde[_0xcf707e(0x183)],statusDiv['textContent']=_0x2e4bde[_0xcf707e(0x13b)]);_0x1ac27e===_0xcf707e(0x14f)&&(newItemsExcel=_0x2e4bde[_0xcf707e(0x15a)],statusDiv[_0xcf707e(0x235)]='✅\x20'+newItemsExcel[_0xcf707e(0x1de)]+_0xcf707e(0x1ea),uploadBtn[_0xcf707e(0x279)]=![],progressBar[_0xcf707e(0x1c8)]=0x64,console[_0xcf707e(0x164)](newItemsExcel));_0x1ac27e==='error'&&(statusDiv[_0xcf707e(0x235)]='❌\x20Error:\x20'+_0x2e4bde,progressBar['style']['display']=_0xcf707e(0x185));if(_0x1ac27e===_0xcf707e(0x25a)){const {wbout:_0x3f8b30,count:_0x39d3f3}=_0x2e4bde,_0x324530=new Blob([_0x3f8b30],{'type':'application/octet-stream'}),_0x2ae040=URL[_0xcf707e(0x1dd)](_0x324530),_0x5c3050=document[_0xcf707e(0x161)]('a'),_0x2ef3b7=new Date()['toISOString']()[_0xcf707e(0x1bd)](0x0,0xa);_0x5c3050[_0xcf707e(0x25e)]='Plantilla-Items-Export-'+_0x2ef3b7+_0xcf707e(0x277),_0x5c3050[_0xcf707e(0x1ed)]=_0x2ae040,_0x5c3050[_0xcf707e(0x218)](),URL[_0xcf707e(0x20c)](_0x2ae040),statusDiv[_0xcf707e(0x235)]='✅\x20Exportación\x20completada:\x20'+_0x39d3f3+_0xcf707e(0x1c4),progressBar[_0xcf707e(0x153)][_0xcf707e(0x179)]=_0xcf707e(0x185);}},fileInput[_0x4aefc6(0x232)](_0x4aefc6(0x1b0),async _0x330b86=>{var _0x56cb7e=_0x4aefc6;const _0x455d28=_0x330b86['target'][_0x56cb7e(0x1ee)][0x0];if(!_0x455d28)return;uploadBtn[_0x56cb7e(0x279)]=!![],newItemsExcel=null,statusDiv[_0x56cb7e(0x235)]='',progressBar[_0x56cb7e(0x153)][_0x56cb7e(0x179)]='none',dropZone[_0x56cb7e(0x181)](_0x56cb7e(0x247))[_0x56cb7e(0x235)]=_0x455d28['name'],removeBtn['hidden']=![];try{const _0x1640bf=await _0x455d28[_0x56cb7e(0x228)]();itemWorker[_0x56cb7e(0x1b4)]({'action':'import','buf':_0x1640bf,'maxRows':0x1388});}catch(_0x265fd3){statusDiv[_0x56cb7e(0x235)]=_0x56cb7e(0x21f);}finally{fileInput[_0x56cb7e(0x1c8)]='';}}),uploadBtn[_0x4aefc6(0x232)](_0x4aefc6(0x218),async()=>{var _0x42efbd=_0x4aefc6;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0xbc846e=document['getElementById'](_0x42efbd(0x250))[_0x42efbd(0x1c8)],_0x3c9c88=[];newItemsExcel[_0x42efbd(0x197)](_0x16c44b=>{var _0x5cecc4=_0x42efbd;const _0x535fd2=Boolean(_0x16c44b[_0x5cecc4(0x138)]),_0x2b911f=_0x535fd2?_0x16c44b[_0x5cecc4(0x138)]:generateNumericUniqId();_0x16c44b[_0x5cecc4(0x14b)]=[{'setStockInitial':_0x16c44b[_0x5cecc4(0x18b)],'setStockMinimum':_0x16c44b[_0x5cecc4(0x194)],'setWarehouseCode':_0xbc846e}],_0x16c44b[_0x5cecc4(0x24e)][_0x5cecc4(0x197)](_0x2c91b5=>{var _0x78ff7c=_0x5cecc4;const _0x5cda62=Boolean(_0x2c91b5[_0x78ff7c(0x16f)]),_0x266682=_0x5cda62?_0x2c91b5[_0x78ff7c(0x16f)]:generateNumericUniqId();_0x2c91b5[_0x78ff7c(0x16f)]=_0x266682;const _0x5568c4=[];_0x5568c4[_0x78ff7c(0x202)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x2c91b5[_0x78ff7c(0x15f)],'setMtoPrecioUnitario':_0x2c91b5['setPrice'],'setPriceLists':[]});const _0x72f47a=_0x2c91b5[_0x78ff7c(0x16e)]!=null&&_0x2c91b5[_0x78ff7c(0x1e5)]!=null&&(!isNaN(_0x2c91b5[_0x78ff7c(0x16e)])||!isNaN(_0x2c91b5[_0x78ff7c(0x1e5)]));_0x72f47a&&_0x5568c4[_0x78ff7c(0x202)]({'currency':_0x78ff7c(0x203),'setMtoPrecioCostoUnitario':_0x2c91b5[_0x78ff7c(0x16e)],'setMtoPrecioUnitario':_0x2c91b5[_0x78ff7c(0x1e5)],'setPriceLists':[]});const _0x75438f={'id':_0x266682,'setIdProducto':_0x2b911f,'setItemBarCode':_0x2c91b5['setItemBarCode'],'setCodProducto':_0x16c44b['setItemCode'],'setDescripcion':_0x16c44b[_0x78ff7c(0x1be)],'setItemDescription':_0x16c44b['setItemDescription'],'setBatchExpirationDate':_0x16c44b[_0x78ff7c(0x1cc)],'setBatchName':_0x16c44b[_0x78ff7c(0x25b)],'setCategoria':_0x16c44b[_0x78ff7c(0x1f4)][0x0]||'','setMarca':_0x16c44b['setItemBrands'][0x0]||'','setConversionFactor':parseFloat(_0x2c91b5[_0x78ff7c(0x19c)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x16c44b[_0x78ff7c(0x268)],'setItemIsBought':_0x16c44b[_0x78ff7c(0x1d6)],'setItemIsSold':_0x16c44b[_0x78ff7c(0x205)],'setPorcentajeIgv':_0x16c44b[_0x78ff7c(0x1a1)],'setPrinters':[],'setTaxId':_0x16c44b[_0x78ff7c(0x204)],'setTipAfeIgv':_0x16c44b[_0x78ff7c(0x154)],'setUnidad':_0x2c91b5[_0x78ff7c(0x271)],'setUnidadCodigo':_0x2c91b5['setUnitCode'],'setItemUnitAlias':_0x2c91b5[_0x78ff7c(0x20f)],'currency_data':_0x5568c4,'sucursales':_0x16c44b[_0x78ff7c(0x14b)][_0x78ff7c(0x240)](_0x176c8b=>({'setIdSucursal':_0x176c8b[_0x78ff7c(0x1f2)],'setSucursalStock':_0x176c8b['setStockInitial'][_0x78ff7c(0x189)](),'setWarehouseStockMin':_0x176c8b['setStockMinimum'][_0x78ff7c(0x189)]()})),'setItemFree':_0x16c44b[_0x78ff7c(0x244)],'setItemBrands':_0x16c44b['setItemBrands'][_0x78ff7c(0x1bd)](),'setItemCategories':_0x16c44b[_0x78ff7c(0x1f4)][_0x78ff7c(0x1bd)](),'setItemComponents':_0x16c44b[_0x78ff7c(0x26d)][_0x78ff7c(0x240)](_0x1fa18b=>({..._0x1fa18b})),'setItemImages':_0x16c44b[_0x78ff7c(0x130)][_0x78ff7c(0x1bd)](),'setItemVariantName':_0x16c44b[_0x78ff7c(0x1f3)],'setItemVariantValues':{..._0x16c44b[_0x78ff7c(0x15b)]}},_0x3a716a=products['findIndex'](_0x13438a=>_0x13438a['id']==_0x266682&&_0x13438a['setIdProducto']==_0x2b911f);_0x3a716a>-0x1?Object[_0x78ff7c(0x1d9)](products[_0x3a716a],_0x75438f):_0x3c9c88[_0x78ff7c(0x202)](_0x75438f);});}),console[_0x42efbd(0x164)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x3c9c88,newItemsExcel,!![]);});function initializeFormImages(){var _0x2e1bed=_0x4aefc6;currentImages=Array(MAX_IMAGES)[_0x2e1bed(0x131)](null),imgC['innerHTML']='',baseItem['setItemImages']=[];for(var _0x510bea=0x0;_0x510bea<MAX_IMAGES;_0x510bea++){(function(_0xa1e006){var _0x5ddc86=_0x2e1bed,_0x342eea=document[_0x5ddc86(0x161)](_0x5ddc86(0x1ad));_0x342eea['className']=_0x5ddc86(0x1e0),_0x342eea[_0x5ddc86(0x182)][_0x5ddc86(0x274)]=_0xa1e006;var _0x127e9c=document[_0x5ddc86(0x161)](_0x5ddc86(0x251));_0x127e9c[_0x5ddc86(0x275)]='file',_0x127e9c[_0x5ddc86(0x1c0)]='image/*',_0x127e9c[_0x5ddc86(0x153)]['display']=_0x5ddc86(0x185);var _0x399c8b=document[_0x5ddc86(0x161)](_0x5ddc86(0x163));_0x399c8b[_0x5ddc86(0x235)]='+',_0x342eea[_0x5ddc86(0x144)](_0x127e9c),_0x342eea['appendChild'](_0x399c8b),imgC[_0x5ddc86(0x144)](_0x342eea),_0x342eea[_0x5ddc86(0x232)](_0x5ddc86(0x218),function(){var _0x535d85=_0x5ddc86;_0x127e9c[_0x535d85(0x218)]();}),_0x127e9c[_0x5ddc86(0x232)](_0x5ddc86(0x1b0),function(_0x267a3b){var _0xdeb401=_0x5ddc86,_0x27f1f3=_0x267a3b[_0xdeb401(0x1a5)][_0xdeb401(0x1ee)][0x0];if(!_0x27f1f3)return removeImg(_0xa1e006);var _0x65d753=new FileReader();_0x65d753[_0xdeb401(0x1d3)]=function(_0x2349e3){var _0x598c81=_0xdeb401;_0x342eea[_0x598c81(0x1ae)]=_0x598c81(0x1b1)+_0x2349e3[_0x598c81(0x1a5)][_0x598c81(0x13c)]+'\x22>';var _0x321c40=document[_0x598c81(0x161)]('span');_0x321c40[_0x598c81(0x1b5)]=_0x598c81(0x16b),_0x321c40[_0x598c81(0x235)]='×',_0x321c40['addEventListener'](_0x598c81(0x218),function(_0x81b9bf){var _0x3bda94=_0x598c81;_0x81b9bf[_0x3bda94(0x221)](),removeImg(_0xa1e006);}),_0x342eea['appendChild'](_0x321c40),currentImages[_0xa1e006]=_0x27f1f3,baseItem[_0x598c81(0x130)]=currentImages['filter'](function(_0x5908aa){return _0x5908aa;});},_0x65d753[_0xdeb401(0x1fa)](_0x27f1f3);});}(_0x510bea));}}function initializeFormIsSoldIsBought(_0x5b811d=0x0){var _0x1924a6=_0x4aefc6;let _0x1ce64a,_0x3b2a1b;if(_0x5b811d!=0x0){const _0x1a156b=products[_0x1924a6(0x211)](_0xb6e982=>_0xb6e982['id']==_0x5b811d);_0x1ce64a=_0x1a156b[_0x1924a6(0x1d6)]==0x1||_0x1a156b['setItemIsBought']==!![]?!![]:![],_0x3b2a1b=_0x1a156b[_0x1924a6(0x205)]==0x1||_0x1a156b[_0x1924a6(0x205)]==!![]?!![]:![];}else _0x1ce64a=!![],_0x3b2a1b=!![];document[_0x1924a6(0x1d7)]('newItem_chk_buy')[_0x1924a6(0x1d8)]=_0x1ce64a,document[_0x1924a6(0x1d7)](_0x1924a6(0x24a))[_0x1924a6(0x1d8)]=_0x3b2a1b,baseItem[_0x1924a6(0x1d6)]=_0x1ce64a,baseItem[_0x1924a6(0x205)]=_0x3b2a1b;}function initializeFormInputsBasic(_0x3344eb=0x0){var _0x44dec2=_0x4aefc6;let _0xf12515,_0x31fbd8,_0x470b84,_0x3d4a33,_0x16f1ed,_0x10e45c;if(_0x3344eb!=0x0){const _0x1d10b5=products[_0x44dec2(0x211)](_0x33f8bd=>_0x33f8bd['id']==_0x3344eb);_0xf12515=_0x1d10b5[_0x44dec2(0x1c1)]??'1',_0x31fbd8=_0x1d10b5[_0x44dec2(0x24b)],_0x470b84=_0x1d10b5[_0x44dec2(0x132)],_0x3d4a33=_0x1d10b5[_0x44dec2(0x1fb)],_0x16f1ed=_0x1d10b5[_0x44dec2(0x26e)]??'',_0x10e45c=_0x1d10b5['setItemBarCode'];}else _0xf12515='1',_0x31fbd8=getNextCode(products),_0x470b84='',_0x3d4a33='',_0x16f1ed='',_0x10e45c='';document[_0x44dec2(0x1d7)](_0x44dec2(0x155))[_0x44dec2(0x1c8)]=_0xf12515,document[_0x44dec2(0x1d7)](_0x44dec2(0x1d1))[_0x44dec2(0x1c8)]=_0x31fbd8,document['getElementById'](_0x44dec2(0x196))[_0x44dec2(0x1c8)]=_0x470b84,document[_0x44dec2(0x1d7)]('inputItemDescription')['value']=_0x3d4a33,document[_0x44dec2(0x1d7)](_0x44dec2(0x174))[_0x44dec2(0x1c8)]=_0x16f1ed,document[_0x44dec2(0x1d7)]('inputItemBarCode')[_0x44dec2(0x1c8)]=_0x10e45c,baseItem[_0x44dec2(0x1c1)]=_0xf12515,baseItem['setItemCode']=_0x31fbd8,baseItem[_0x44dec2(0x1be)]=_0x470b84,baseItem[_0x44dec2(0x1fb)]=_0x3d4a33,baseItem[_0x44dec2(0x1cc)]=_0x16f1ed,baseItem['setItemBarCode']=_0x10e45c,document[_0x44dec2(0x1d7)](_0x44dec2(0x16c))[_0x44dec2(0x1d8)]=![];}function initializeFormTax(_0x472f38=0x0){var _0x2b15cf=_0x4aefc6;let _0x278a0f;if(_0x472f38!=0x0){const _0x43849c=products[_0x2b15cf(0x211)](_0x2406e2=>_0x2406e2['id']==_0x472f38);_0x278a0f=_0x43849c[_0x2b15cf(0x217)];}else _0x278a0f=myCompany[_0x2b15cf(0x1f7)];const _0x473888=document[_0x2b15cf(0x1d7)](_0x2b15cf(0x1b3));_0x473888[_0x2b15cf(0x1c8)]=_0x278a0f,baseItem[_0x2b15cf(0x204)]=_0x278a0f;const _0x5b8750=company[0x0][_0x2b15cf(0x22c)]['find'](_0x3b8979=>_0x3b8979[_0x2b15cf(0x217)]==_0x278a0f)?.['setImpuestoCode']||0x0,_0x75fe37=company[0x0][_0x2b15cf(0x22c)][_0x2b15cf(0x211)](_0x608e1d=>_0x608e1d[_0x2b15cf(0x217)]==_0x278a0f)?.['setImpuestoValue']||0x0;baseItem[_0x2b15cf(0x154)]=_0x5b8750,baseItem[_0x2b15cf(0x1a1)]=_0x75fe37;}function initializeFormCategoriesBrands(_0x221021=0x0){var _0x56615d=_0x4aefc6;baseItem['setItemCategories']=[],baseItem[_0x56615d(0x25c)]=[],document['querySelector'](_0x56615d(0x1eb))[_0x56615d(0x1ae)]='',document[_0x56615d(0x181)](_0x56615d(0x162))[_0x56615d(0x1ae)]='',document['querySelector'](_0x56615d(0x19a))[_0x56615d(0x1ae)]='',document['querySelector']('#newItem_brands_select\x20.options_list')[_0x56615d(0x1ae)]='';const _0x335d36=uniqueValuesArray('setCategoria',_0x56615d(0x1ce),products),_0x309364=uniqueValuesArray(_0x56615d(0x156),_0x56615d(0x156),products);initMulti(_0x56615d(0x191),_0x335d36),initMulti(_0x56615d(0x140),_0x309364),document[_0x56615d(0x1d7)]('newItem_categories_select')[_0x56615d(0x232)]('selectionChange',function(_0x50f782){var _0x25ca24=_0x56615d;baseItem[_0x25ca24(0x1f4)]=_0x50f782[_0x25ca24(0x1df)][_0x25ca24(0x240)](_0x184565=>_0x184565[_0x25ca24(0x1d5)]);}),document[_0x56615d(0x1d7)](_0x56615d(0x140))[_0x56615d(0x232)]('selectionChange',function(_0x122d0b){var _0x57a462=_0x56615d;baseItem['setItemBrands']=_0x122d0b[_0x57a462(0x1df)]['map'](_0x55109e=>_0x55109e[_0x57a462(0x1d5)]);});if(_0x221021!=0x0){const _0x2345c7=products[_0x56615d(0x211)](_0x42c4ea=>_0x42c4ea['id']==_0x221021);if(_0x2345c7[_0x56615d(0x1ce)]){const _0xe31287=document[_0x56615d(0x1d7)]('newItem_categories_select'),_0x25f06c=Array['from'](_0xe31287['querySelectorAll']('.options_list\x20div'))[_0x56615d(0x211)](_0x3588e0=>_0x3588e0[_0x56615d(0x182)][_0x56615d(0x199)]==_0x2345c7[_0x56615d(0x1ce)]);_0x25f06c&&_0x25f06c[_0x56615d(0x218)]();}if(_0x2345c7[_0x56615d(0x156)]){const _0x4ae362=document[_0x56615d(0x1d7)]('newItem_brands_select'),_0x51134e=Array[_0x56615d(0x260)](_0x4ae362[_0x56615d(0x1ba)](_0x56615d(0x1d2)))[_0x56615d(0x211)](_0xfa4695=>_0xfa4695['dataset'][_0x56615d(0x199)]==_0x2345c7['setMarca']);_0x51134e&&_0x51134e[_0x56615d(0x218)]();}}}function initializeFormUnits(){var _0x55dbec=_0x4aefc6;unitCount=0x0,document['getElementById'](_0x55dbec(0x1ca))[_0x55dbec(0x1ae)]='',baseItem[_0x55dbec(0x24e)]=[];var _0x5de6b8=uniqueValuesArray(_0x55dbec(0x271),_0x55dbec(0x220),myCompany[_0x55dbec(0x23d)]);addUnit('',_0x5de6b8[0x3a]&&_0x5de6b8[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x329744=_0x4aefc6;prodC['innerHTML']='',baseItem[_0x329744(0x26d)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2a017c=_0x4aefc6;branchesC['innerHTML']='',baseItem[_0x2a017c(0x14b)]=[];const _0x4d896e=getAllWarehouses();_0x4d896e[_0x2a017c(0x197)](function(_0x19498a){var _0x5c2578=_0x2a017c,_0x3eb190=document['createElement'](_0x5c2578(0x1ad));_0x3eb190[_0x5c2578(0x1ae)]=_0x5c2578(0x1c7)+_0x5c2578(0x1bc)+_0x5c2578(0x208)+_0x19498a[_0x5c2578(0x250)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x19498a[_0x5c2578(0x23f)]+_0x5c2578(0x151)+_0x5c2578(0x137)+'<div\x20class=\x22newItem_col\x22>'+_0x5c2578(0x237)+_0x19498a[_0x5c2578(0x250)]+'\x22>'+_0x5c2578(0x137)+'<div\x20class=\x22newItem_col\x22>'+_0x5c2578(0x14a)+_0x19498a[_0x5c2578(0x250)]+'\x22>'+'</div>'+_0x5c2578(0x137),branchesC[_0x5c2578(0x144)](_0x3eb190),_0x3eb190[_0x5c2578(0x1ba)](_0x5c2578(0x251))[_0x5c2578(0x197)](function(_0x260dc6){_0x260dc6['addEventListener']('input',updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0xc9d62=_0x4aefc6;baseItem[_0xc9d62(0x1f3)]='',baseItem[_0xc9d62(0x15b)]={},vgC[_0xc9d62(0x1ae)]='',varContainer[_0xc9d62(0x1ae)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x5128bb,_0x24ccda,_0x344d50=![]){var _0x22a4bc=_0x4aefc6;const _0x51471d=0xc8,_0x1dd350={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0][_0x22a4bc(0x258)],'setWebhook':company[0x0][_0x22a4bc(0x12a)]};for(let _0xcdf6c5=0x0;_0xcdf6c5<_0x24ccda[_0x22a4bc(0x1de)];_0xcdf6c5+=_0x51471d){const _0x59ee1f=_0x24ccda[_0x22a4bc(0x1bd)](_0xcdf6c5,_0xcdf6c5+_0x51471d);await storeOfflineProduct({..._0x1dd350,'newItems':_0x59ee1f});}products[_0x22a4bc(0x202)](..._0x5128bb),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x22a4bc(0x1a0)),_0x344d50?(fileInput[_0x22a4bc(0x1c8)]='',uploadBtn[_0x22a4bc(0x279)]=!![],statusDiv[_0x22a4bc(0x235)]='',progressBar[_0x22a4bc(0x153)][_0x22a4bc(0x179)]=_0x22a4bc(0x185),progressBar[_0x22a4bc(0x1c8)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}