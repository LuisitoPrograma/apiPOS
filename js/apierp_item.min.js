/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.1
*/

var _0x5e183d=_0x2330;(function(_0x2ffbac,_0x22f6b9){var _0x50348b=_0x2330,_0x1f6472=_0x2ffbac();while(!![]){try{var _0x343da3=parseInt(_0x50348b(0x279))/0x1+-parseInt(_0x50348b(0x298))/0x2*(parseInt(_0x50348b(0x1d0))/0x3)+parseInt(_0x50348b(0x29a))/0x4*(-parseInt(_0x50348b(0x1b1))/0x5)+parseInt(_0x50348b(0x1e6))/0x6+parseInt(_0x50348b(0x217))/0x7+-parseInt(_0x50348b(0x2ad))/0x8+-parseInt(_0x50348b(0x2ac))/0x9*(-parseInt(_0x50348b(0x224))/0xa);if(_0x343da3===_0x22f6b9)break;else _0x1f6472['push'](_0x1f6472['shift']());}catch(_0x14abf8){_0x1f6472['push'](_0x1f6472['shift']());}}}(_0x7e40,0xae02d));var _0x4e0e7f=(function(){var _0x4dd178=!![];return function(_0x444263,_0x50410f){var _0x46b21e=_0x4dd178?function(){var _0x354e1f=_0x2330;if(_0x50410f){var _0x3a73fe=_0x50410f[_0x354e1f(0x2aa)](_0x444263,arguments);return _0x50410f=null,_0x3a73fe;}}:function(){};return _0x4dd178=![],_0x46b21e;};}()),_0x5a0e74=_0x4e0e7f(this,function(){var _0x5471eb=_0x2330;return _0x5a0e74[_0x5471eb(0x21a)]()[_0x5471eb(0x1c5)](_0x5471eb(0x209))[_0x5471eb(0x21a)]()[_0x5471eb(0x2c5)](_0x5a0e74)[_0x5471eb(0x1c5)]('(((.+)+)+)+$');});_0x5a0e74();var _0x373e55=(function(){var _0x1b7bac=!![];return function(_0x44030d,_0x5e57b1){var _0x11635d=_0x1b7bac?function(){var _0x20f035=_0x2330;if(_0x5e57b1){var _0x51f0e7=_0x5e57b1[_0x20f035(0x2aa)](_0x44030d,arguments);return _0x5e57b1=null,_0x51f0e7;}}:function(){};return _0x1b7bac=![],_0x11635d;};}()),_0x381ac6=_0x373e55(this,function(){var _0x42a11f=_0x2330,_0x5d96a7=function(){var _0x1f6fe8=_0x2330,_0x43854d;try{_0x43854d=Function('return\x20(function()\x20'+_0x1f6fe8(0x22b)+');')();}catch(_0x2e9337){_0x43854d=window;}return _0x43854d;},_0x1b42b0=_0x5d96a7(),_0x5e26c4=_0x1b42b0[_0x42a11f(0x27a)]=_0x1b42b0[_0x42a11f(0x27a)]||{},_0xd5707e=[_0x42a11f(0x1c7),_0x42a11f(0x1dc),_0x42a11f(0x246),_0x42a11f(0x1ea),_0x42a11f(0x244),'table',_0x42a11f(0x1ca)];for(var _0x346ab2=0x0;_0x346ab2<_0xd5707e[_0x42a11f(0x219)];_0x346ab2++){var _0x3de9cd=_0x373e55[_0x42a11f(0x2c5)][_0x42a11f(0x1a9)][_0x42a11f(0x1db)](_0x373e55),_0x6d964a=_0xd5707e[_0x346ab2],_0x598902=_0x5e26c4[_0x6d964a]||_0x3de9cd;_0x3de9cd[_0x42a11f(0x258)]=_0x373e55[_0x42a11f(0x1db)](_0x373e55),_0x3de9cd['toString']=_0x598902['toString'][_0x42a11f(0x1db)](_0x598902),_0x5e26c4[_0x6d964a]=_0x3de9cd;}});_0x381ac6();function _0x7e40(){var _0x17e389=['active','span','setItemIsBought','join','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','slice','Error\x20al\x20guardar\x20Producto\x20Offline:','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','modalOverlayCreateItem','dragenter','children','\x22\x20value=\x22','click','newItem_chk_buy','__proto__','setCode','dataTransfer','setItemWarehouses','indexOf','setItemId','setWarehouseName','setItemIsSold','.variantForm','newItem_chk_sell','undefined','setUnitCode','setItemVariantName','</div>','setItemFree','compare','querySelector','setItemBrands','status','add','USD','setTaxIdDefault','max','./img/product.png','change','.options_list\x20div','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','dataset','progress','modalProductNewTitle','.removeCombo','postMessage','closest','307755SuWTSe','console','some','inputItemCode','setItemComponents','Ingresa\x20el\x20código\x20del\x20item','inputItemType','inputItemBarCode','div','#newItem_units_container\x20>\x20div','string','setItemName','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','default','setMoneda','_units_container','code','arrayBuffer','split','eqInput','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','upload-btn','forEach','setBatchExpirationDate','newItem_units_container','.vgName','.prodQty','classList','innerHTML','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','accept','6388EReGqt','inputItemTax','303488AWwkhD','newItem_categories_select','setItemDateExpiry','hidden','productType1','oncomplete','[id$=\x22_comp_container\x22]','stopPropagation','image/*','setFactor','selected','.removeVariant','filter','newItem_btn_addProdItem','setPriceUSD','div[data-default=\x22true\x22]\x20.eqInput','apply','setWarehouseCode','177183zHFuWD','8159896DIFnIF','file-input','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x20items\x20procesados.','setItemImages','setItemType','inputItemName','currentTarget','blur','setBatchName','remove-file','focus','from','getElementsByClassName','className','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','setUnitName','input','setAlias','onload','setUnits','now','setStockInitial','.costInput','constructor','toLowerCase','.unitAlias','[data-idx=\x22','setTaxId','#newItem_brands_select\x20.options_list','selectedItem','splice','<div\x20class=\x22newItem_col\x22>','addEventListener','newItem_variants_forms','.ms_input','#newItem_branches_container\x20>\x20div','offline_operations','.drop-zone__prompt','onerror','Nuevo\x20Producto','setCostUSD','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22\x20class=\x22branchChk\x22>\x20','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','drop','closeModalCreateItem','setItemTaxId','getElementById','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','contains','newItem_btn_addUnit','prototype','setWebhook','.addVariantComp','setImpuestos','Collator','setItemUnits','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','90ekJAMg','setDefault','inputItemDateExpiry','textContent','message','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','match','done','idx','.unitSelect','Ingresa\x20el\x20nombre\x20del\x20item','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','100','.prod_input_container','padStart','./js/apierp_item_wk.min.js','setItemDescription','❌\x20Error:\x20','setEquivalence','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','search','querySelectorAll','log','display','sort','trace','_comp_container','.vgVals','trim','test','objectStore','687XUzSwl','onmessage','Items\x20finales:','selectionChange','_branch_container','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','setMarca','dragover','setName','#newItem_categories_select\x20.selected_tags','.branchMin','bind','warn','find','result','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','.variantCode','setWarehouseId','style','preventDefault','none','keydown','5316396xQeViY','\x22\x20class=\x22branchChk\x22\x20checked>\x20','newItem_images_container','setItemVariantValues','error','setUnitPresentationId','.eqInput','setItemCode','items','setCategoria','drop-zone','name','setAuthToken','.options_list','unitSelect','variant_','setCost','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','newItem_brands_select','setItemBarCode','setItemTaxValue','true','setItemInventoriable','priceInput','checked','setImpuestoCode','remove','newItem_proditems_container','toggle','newItem_title_table_cp','disabled','every','appendChild','setItemCategories','variantForm','(((.+)+)+)+$','files','inputItemDescription','.priceInput','.removeProd','setDescripcion','type','.addVariantUnit','#newItem_brands_select\x20.selected_tags','createElement','target','value','file','findIndex','7565348KlvGRy','newItem_addToCart','length','toString','detalleModalCreateItem','setPrice','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','<img\x20src=\x22','btnItemSave','base','.branchInit','newItem_title_table','setCantidad','790zGdfeI','setStockMinimum','image_box','.removeUnit','.selected_tags','defineProperty','readAsDataURL','{}.constructor(\x22return\x20this\x22)(\x20)','.branchChk','map','.removeGroup','setItemTaxCode','remove-tag','dispatchEvent','parentNode','setImpuestoValue','newItem_hidden','#newItem_categories_select\x20.options_list','costInput','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','Producto\x20Guardado\x20Offline\x20Correctamente.','vals','percent','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','push','windowId','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','.variantExpiry','transaction','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','flatMap','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','exception','setCodProducto','info','assign','parse','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'];_0x7e40=function(){return _0x17e389;};return _0x7e40();}var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x5e183d(0x1a5)](_0x5e183d(0x1e8)),unitCount=0x0,branchesC=document[_0x5e183d(0x1a5)]('newItem_branches_container'),prodC=document['getElementById'](_0x5e183d(0x201)),vgCount=0x0,varContainer=document[_0x5e183d(0x1a5)](_0x5e183d(0x2cf)),vgC=document[_0x5e183d(0x1a5)]('newItem_variant_groups');const fileInput=document[_0x5e183d(0x1a5)](_0x5e183d(0x2ae)),progressBar=document[_0x5e183d(0x1a5)](_0x5e183d(0x274)),statusDiv=document[_0x5e183d(0x1a5)](_0x5e183d(0x26a)),uploadBtn=document[_0x5e183d(0x1a5)](_0x5e183d(0x28e));let newItemsExcel=null;const itemWorker=new Worker(_0x5e183d(0x1c0)),dropZone=document['getElementById'](_0x5e183d(0x1f0)),removeBtn=document[_0x5e183d(0x1a5)](_0x5e183d(0x2b7));function showModalCreateItem(_0x33d36c){var _0xcdbbed=_0x5e183d;const _0x58620a=document[_0xcdbbed(0x1a5)](_0xcdbbed(0x21b)),_0x1e68a8=document[_0xcdbbed(0x1a5)](_0xcdbbed(0x252));_0x58620a[_0xcdbbed(0x294)][_0xcdbbed(0x26b)](_0xcdbbed(0x24a)),_0x1e68a8[_0xcdbbed(0x1e2)][_0xcdbbed(0x1c8)]='block';const _0x4f5859=document[_0xcdbbed(0x1a5)](_0xcdbbed(0x266));_0x4f5859[_0xcdbbed(0x214)]=parseInt(_0x33d36c),baseItem[_0xcdbbed(0x266)]=parseInt(_0x33d36c);const _0x6381d0=document[_0xcdbbed(0x1a5)](_0xcdbbed(0x275));_0x33d36c==0x0&&(_0x6381d0[_0xcdbbed(0x295)]=_0xcdbbed(0x2d5));_0x33d36c==0x1&&(_0x6381d0['innerHTML']='Producto\x20Libre');const _0x2d9805=document[_0xcdbbed(0x2ba)](_0xcdbbed(0x29e));for(let _0x2471d2=0x0;_0x2471d2<_0x2d9805['length'];_0x2471d2++){const _0x2170af=_0x2d9805[_0x2471d2];if(_0x33d36c==0x0)_0x2170af[_0xcdbbed(0x294)][_0xcdbbed(0x200)](_0xcdbbed(0x29d));else _0x33d36c==0x1&&_0x2170af[_0xcdbbed(0x294)][_0xcdbbed(0x26b)]('hidden');}}function hideModalCreateItem(){var _0x3407f4=_0x5e183d;const _0x2812b7=document['getElementById'](_0x3407f4(0x21b)),_0xdc6272=document[_0x3407f4(0x1a5)](_0x3407f4(0x252));_0x2812b7[_0x3407f4(0x294)]['remove']('active'),_0xdc6272[_0x3407f4(0x1e2)][_0x3407f4(0x1c8)]=_0x3407f4(0x1e4);}document[_0x5e183d(0x1a5)](_0x5e183d(0x1a3))[_0x5e183d(0x2ce)]('click',hideModalCreateItem),document[_0x5e183d(0x1a5)](_0x5e183d(0x252))[_0x5e183d(0x2ce)](_0x5e183d(0x256),_0x1419c7=>{var _0x50cfb9=_0x5e183d;_0x1419c7[_0x50cfb9(0x213)]==_0x1419c7[_0x50cfb9(0x2b4)]&&_0x1419c7[_0x50cfb9(0x2a1)]();});function loadTaxData(){var _0x132180=_0x5e183d;const _0xb94123=document[_0x132180(0x1a5)](_0x132180(0x299));_0xb94123[_0x132180(0x295)]='',company[0x0][_0x132180(0x1ac)]['forEach'](function(_0x47eab0){var _0x1614bb=_0x132180;const _0x5590c8=document[_0x1614bb(0x212)]('option');_0x5590c8['value']=_0x47eab0[_0x1614bb(0x2c9)],_0x5590c8[_0x1614bb(0x295)]=_0x47eab0['setImpuestoName']+'\x20('+_0x47eab0[_0x1614bb(0x233)]+'%)',_0x47eab0[_0x1614bb(0x2c9)]==company[0x0][_0x1614bb(0x26d)]&&(_0x5590c8[_0x1614bb(0x2a4)]=!![]),_0xb94123[_0x1614bb(0x206)](_0x5590c8);});}function uniqueValuesArray(_0x4f805e,_0x5e1c15,_0x36d0fa){var _0x131804=_0x5e183d;const _0x182f07=Array[_0x131804(0x2b9)](new Set(_0x36d0fa[_0x131804(0x22d)](_0x4f75c0=>{var _0x4a9d65=_0x131804;const _0x545fc2=_0x4f75c0[_0x4f805e];return typeof _0x545fc2===_0x4a9d65(0x283)?_0x545fc2[_0x4a9d65(0x1cd)]():_0x545fc2;})['filter'](_0x37b59e=>_0x37b59e!=null&&_0x37b59e!=='')));return _0x182f07[_0x131804(0x22d)](_0x36095d=>{var _0x52aec8=_0x131804;const _0x1e3d0d=_0x36d0fa[_0x52aec8(0x1dd)](_0x24ea7a=>_0x24ea7a[_0x4f805e]===_0x36095d),_0x3fe1d0=_0x1e3d0d&&_0x1e3d0d[_0x5e1c15]!=null?String(_0x1e3d0d[_0x5e1c15])['trim']():_0x36095d;return{'setCode':_0x36095d,'setName':_0x3fe1d0};});}function fillSelect(_0x224c18,_0x414f5d,_0x319231,_0x155c5f){var _0x1cfa85=_0x5e183d;_0x224c18['innerHTML']='',_0x414f5d[_0x1cfa85(0x28f)](function(_0x40e7e9){var _0x2a6a1f=_0x1cfa85,_0x185081=new Option(_0x40e7e9[_0x155c5f],_0x40e7e9[_0x319231]);_0x224c18[_0x2a6a1f(0x26b)](_0x185081);});}function initMulti(_0x431836,_0x529a9c){var _0x409143=_0x5e183d,_0x56b8bf=document[_0x409143(0x1a5)](_0x431836),_0x291334=_0x56b8bf[_0x409143(0x268)](_0x409143(0x2d0)),_0x164fce=_0x56b8bf[_0x409143(0x268)](_0x409143(0x1f3)),_0xaf4c8c=_0x56b8bf[_0x409143(0x268)](_0x409143(0x228)),_0x263540=_0x529a9c[_0x409143(0x24f)](),_0x793f2a=[];function _0x27840c(){var _0x1f2619=_0x409143;_0x164fce[_0x1f2619(0x295)]='',_0x263540[_0x1f2619(0x2a6)](function(_0x7cdf14){var _0x104888=_0x1f2619;return _0x7cdf14['setName'][_0x104888(0x2c6)]()[_0x104888(0x25c)](_0x291334[_0x104888(0x214)][_0x104888(0x2c6)]())!==-0x1;})[_0x1f2619(0x28f)](function(_0xfd3333){var _0x13f1ab=_0x1f2619,_0x51c253=document[_0x13f1ab(0x212)](_0x13f1ab(0x281));_0x51c253[_0x13f1ab(0x1b4)]=_0xfd3333[_0x13f1ab(0x1d8)],_0x51c253[_0x13f1ab(0x273)][_0x13f1ab(0x289)]=_0xfd3333[_0x13f1ab(0x259)],_0x164fce['appendChild'](_0x51c253),_0x51c253[_0x13f1ab(0x2ce)]('click',function(){var _0x20568c=_0x13f1ab;_0x793f2a[_0x20568c(0x23c)](_0xfd3333),_0x263540['splice'](_0x263540[_0x20568c(0x216)](function(_0x27aa50){var _0x4ea5e3=_0x20568c;return _0x27aa50[_0x4ea5e3(0x259)]===_0xfd3333[_0x4ea5e3(0x259)];}),0x1),_0x291334[_0x20568c(0x214)]='',_0x400294(),_0x27840c();});});}function _0x400294(){var _0x21b815=_0x409143;_0xaf4c8c[_0x21b815(0x295)]='',_0x793f2a[_0x21b815(0x28f)](function(_0x4b9a32){var _0x327be3=_0x21b815,_0x456546=document[_0x327be3(0x212)](_0x327be3(0x281));_0x456546[_0x327be3(0x2bb)]='tag',_0x456546[_0x327be3(0x1b4)]=_0x4b9a32[_0x327be3(0x1d8)];var _0x289e0e=document['createElement'](_0x327be3(0x24b));_0x289e0e['className']=_0x327be3(0x230),_0x289e0e['textContent']='×',_0x289e0e['addEventListener'](_0x327be3(0x256),function(){var _0x17f3ee=_0x327be3;_0x263540[_0x17f3ee(0x23c)](_0x4b9a32);const _0x12930e=_0x793f2a[_0x17f3ee(0x216)](function(_0x1f550d){var _0x2eceb9=_0x17f3ee;return _0x1f550d[_0x2eceb9(0x259)]===_0x4b9a32['setCode'];});if(_0x12930e>-0x1)_0x793f2a[_0x17f3ee(0x2cc)](_0x12930e,0x1);_0x400294(),_0x27840c();}),_0x456546[_0x327be3(0x206)](_0x289e0e),_0xaf4c8c[_0x327be3(0x206)](_0x456546);}),_0x56b8bf[_0x21b815(0x231)](new CustomEvent(_0x21b815(0x1d3),{'bubbles':!![]}));}return _0x291334['addEventListener'](_0x409143(0x2b8),function(){var _0x17400c=_0x409143;_0x164fce[_0x17400c(0x294)][_0x17400c(0x200)]('newItem_hidden');}),_0x291334[_0x409143(0x2ce)](_0x409143(0x2be),_0x27840c),_0x291334[_0x409143(0x2ce)](_0x409143(0x1e5),function(_0x409bf9){var _0x3a0f15=_0x409143;if(_0x409bf9['key']==='Enter'){_0x409bf9[_0x3a0f15(0x1e3)]();const _0xf64c00=_0x291334[_0x3a0f15(0x214)][_0x3a0f15(0x1cd)]();if(!_0xf64c00)return;const _0x23815e=_0x793f2a[_0x3a0f15(0x27b)](_0xc63140=>_0xc63140['setName']===_0xf64c00),_0x421094=_0x263540[_0x3a0f15(0x27b)](_0x1972d9=>_0x1972d9[_0x3a0f15(0x1d8)]===_0xf64c00);if(!_0x23815e&&!_0x421094){const _0x357917={'setCode':_0xf64c00,'setName':_0xf64c00};_0x793f2a['push'](_0x357917),_0x400294(),_0x27840c();}_0x291334[_0x3a0f15(0x214)]='';}}),document['addEventListener']('click',function(_0x34c9e0){var _0x94d869=_0x409143;if(!_0x56b8bf['contains'](_0x34c9e0[_0x94d869(0x213)]))_0x164fce['classList'][_0x94d869(0x26b)](_0x94d869(0x234));}),_0x27840c(),_0x793f2a;}function getLastCode(_0x3ee564){var _0x13f875=_0x5e183d;const _0x371b0a=_0x3ee564[_0x13f875(0x22d)](_0x35bf24=>String(_0x35bf24[_0x13f875(0x245)])[_0x13f875(0x1cd)]())[_0x13f875(0x2a6)](_0x20e6a9=>_0x20e6a9!=='');if(_0x371b0a[_0x13f875(0x219)]===0x0)return'';const _0x3da7f2=_0x371b0a[_0x13f875(0x205)](_0x24bcbf=>/^\d+$/[_0x13f875(0x1ce)](_0x24bcbf));if(_0x3da7f2){const _0x158eb8=_0x371b0a[_0x13f875(0x22d)](Number),_0x21aec7=Math[_0x13f875(0x26e)](..._0x158eb8);return String(_0x21aec7);}let _0x5d9780;if(typeof Intl!==_0x13f875(0x262)&&Intl[_0x13f875(0x1ad)]){const _0x416b48=new Intl['Collator'](undefined,{'numeric':!![],'sensitivity':_0x13f875(0x220)});_0x5d9780=_0x371b0a[_0x13f875(0x24f)]()[_0x13f875(0x1c9)](_0x416b48[_0x13f875(0x267)]);}else{const _0x525fc4=_0x371b0a[_0x13f875(0x205)](_0x45f27a=>/^\d+$/[_0x13f875(0x1ce)](_0x45f27a));_0x525fc4?_0x5d9780=_0x371b0a[_0x13f875(0x22d)](Number)[_0x13f875(0x1c9)]((_0x14b5d8,_0x512a39)=>_0x14b5d8-_0x512a39)[_0x13f875(0x22d)](String):_0x5d9780=_0x371b0a['slice']()['sort']();}return _0x5d9780[_0x5d9780[_0x13f875(0x219)]-0x1];}function getNextCode(_0x5434b5){var _0x5e47c1=_0x5e183d;const _0x458cee=getLastCode(_0x5434b5);if(!_0x458cee)return'';if(/^\d+$/[_0x5e47c1(0x1ce)](_0x458cee))return String(Number(_0x458cee)+0x1);const _0x57b019=_0x458cee[_0x5e47c1(0x1b7)](/^([A-Za-z]*)(\d+)$/);if(_0x57b019){const [,_0x4b5879,_0x419ee4]=_0x57b019,_0x15a318=String(Number(_0x419ee4)+0x1)[_0x5e47c1(0x1bf)](_0x419ee4[_0x5e47c1(0x219)],'0');return _0x4b5879+_0x15a318;}return _0x458cee;}document[_0x5e183d(0x1a5)](_0x5e183d(0x2b3))[_0x5e183d(0x2ce)]('input',function(_0x5f48f2){var _0x436b8b=_0x5e183d;baseItem['setItemName']=_0x5f48f2[_0x436b8b(0x213)][_0x436b8b(0x214)];}),document['getElementById'](_0x5e183d(0x20b))[_0x5e183d(0x2ce)](_0x5e183d(0x2be),function(_0xcdf82a){var _0x57ade0=_0x5e183d;baseItem[_0x57ade0(0x1c1)]=_0xcdf82a[_0x57ade0(0x213)]['value'];}),document[_0x5e183d(0x1a5)](_0x5e183d(0x1b3))['addEventListener'](_0x5e183d(0x2be),function(_0x19c6a9){var _0x56e5e9=_0x5e183d;baseItem['setItemDateExpiry']=_0x19c6a9[_0x56e5e9(0x213)][_0x56e5e9(0x214)];}),document[_0x5e183d(0x1a5)](_0x5e183d(0x27f))[_0x5e183d(0x2ce)](_0x5e183d(0x270),function(_0x3f278c){var _0x27a347=_0x5e183d;baseItem[_0x27a347(0x2b2)]=_0x3f278c[_0x27a347(0x213)][_0x27a347(0x214)];}),document['getElementById']('inputItemTax')[_0x5e183d(0x2ce)]('change',function(_0x4706fe){var _0x4b30bb=_0x5e183d;baseItem[_0x4b30bb(0x1a4)]=_0x4706fe['target']['value'];const _0x4a05c9=_0x4706fe[_0x4b30bb(0x213)]['value'],_0x22fabc=company[0x0][_0x4b30bb(0x1ac)]['find'](_0x243e82=>_0x243e82[_0x4b30bb(0x2c9)]==_0x4a05c9)?.[_0x4b30bb(0x1ff)]||0x0,_0x452375=company[0x0]['setImpuestos'][_0x4b30bb(0x1dd)](_0x376738=>_0x376738[_0x4b30bb(0x2c9)]==_0x4a05c9)?.['setImpuestoValue']||0x0;baseItem['setItemTaxCode']=_0x22fabc,baseItem[_0x4b30bb(0x1fa)]=_0x452375;}),document['getElementById']('newItem_chk_buy')['addEventListener'](_0x5e183d(0x270),function(_0x1126d9){var _0x4485ad=_0x5e183d;baseItem['setItemIsBought']=_0x1126d9[_0x4485ad(0x213)][_0x4485ad(0x1fe)];}),document['getElementById'](_0x5e183d(0x261))['addEventListener'](_0x5e183d(0x270),function(_0x280d47){var _0x5a47e1=_0x5e183d;baseItem[_0x5a47e1(0x25f)]=_0x280d47[_0x5a47e1(0x213)][_0x5a47e1(0x1fe)];}),document[_0x5e183d(0x1a5)](_0x5e183d(0x27c))[_0x5e183d(0x2ce)](_0x5e183d(0x2be),function(_0x2d4822){var _0x4a22ec=_0x5e183d;baseItem[_0x4a22ec(0x1ed)]=_0x2d4822['target']['value'];}),document[_0x5e183d(0x1a5)](_0x5e183d(0x280))[_0x5e183d(0x2ce)](_0x5e183d(0x2be),function(_0x58acf2){var _0x530fff=_0x5e183d;baseItem[_0x530fff(0x1f9)]=_0x58acf2[_0x530fff(0x213)][_0x530fff(0x214)];}),document[_0x5e183d(0x1a5)](_0x5e183d(0x1a8))[_0x5e183d(0x2ce)](_0x5e183d(0x256),function(){addUnit(),updateUnitsArray();}),document[_0x5e183d(0x1a5)](_0x5e183d(0x27c))['addEventListener'](_0x5e183d(0x2b5),function(){var _0x105b57=_0x5e183d;const _0x105acc=this[_0x105b57(0x214)][_0x105b57(0x1cd)]();if(_0x105acc==='')return;const _0xf97d25=products['some'](_0x262caf=>_0x262caf[_0x105b57(0x245)]==_0x105acc),_0x231a67=getLastCode(products);_0xf97d25?ntfShow('El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20'+_0x231a67,0x2,0x1):ntfShow('¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!',0x1,0x1);});function removeImg(_0x307a84){var _0x242a38=_0x5e183d;currentImages[_0x307a84]=null;var _0x51c65b=imgC['querySelector'](_0x242a38(0x2c8)+_0x307a84+'\x22]');_0x51c65b[_0x242a38(0x295)]='';var _0x59b483=document[_0x242a38(0x212)](_0x242a38(0x2be));_0x59b483[_0x242a38(0x20f)]=_0x242a38(0x215),_0x59b483[_0x242a38(0x297)]=_0x242a38(0x2a2),_0x59b483['style']['display']=_0x242a38(0x1e4);var _0x1679ca=document['createElement'](_0x242a38(0x24b));_0x1679ca[_0x242a38(0x1b4)]='+',_0x51c65b[_0x242a38(0x206)](_0x59b483),_0x51c65b['appendChild'](_0x1679ca),_0x51c65b[_0x242a38(0x2ce)](_0x242a38(0x256),function(){var _0x516b7f=_0x242a38;_0x59b483[_0x516b7f(0x256)]();}),baseItem[_0x242a38(0x2b1)]=currentImages[_0x242a38(0x2a6)](function(_0x5eed0f){return _0x5eed0f;});}function addUnit(_0x2ee642,_0x26c03d,_0x275379,_0x3f93fe,_0x30f886,_0x58a967,_0x44ef34){var _0x199dad=_0x5e183d,_0x55e274=uniqueValuesArray(_0x199dad(0x263),_0x199dad(0x2bd),myCompany['setUnits']);_0x2ee642=_0x2ee642||'',_0x26c03d=_0x26c03d||_0x55e274[0x3a]&&_0x55e274[0x3a][_0x199dad(0x259)]||'',_0x275379=_0x275379!==undefined?_0x275379:0x1,_0x3f93fe=!!_0x3f93fe,_0x30f886=_0x30f886||'',_0x58a967=_0x58a967||'';var _0x4376f4=unitCount++,_0x3263f9=document[_0x199dad(0x212)]('div');_0x3263f9['dataset'][_0x199dad(0x1b9)]=_0x4376f4,_0x3263f9[_0x199dad(0x273)][_0x199dad(0x286)]=_0x3f93fe,_0x3263f9[_0x199dad(0x295)]='<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22'+_0x4376f4+_0x199dad(0x255)+_0x2ee642+_0x199dad(0x1d5)+_0x4376f4+_0x199dad(0x1af)+_0x4376f4+_0x199dad(0x255)+_0x275379+'\x22\x20'+(_0x3f93fe?_0x199dad(0x204):'')+_0x199dad(0x1c4)+_0x4376f4+_0x199dad(0x255)+_0x30f886+_0x199dad(0x28d)+_0x4376f4+'\x22\x20value=\x22'+_0x58a967+_0x199dad(0x1a6)+(_0x3f93fe?'style=\x22display:none\x22':'')+_0x199dad(0x1b6),fillSelect(_0x3263f9['querySelector'](_0x199dad(0x1ba)),_0x55e274,'setCode',_0x199dad(0x1d8)),_0x3263f9['querySelector'](_0x199dad(0x1ba))['value']=_0x26c03d,['unitAlias',_0x199dad(0x1f4),_0x199dad(0x28c),_0x199dad(0x1fd),_0x199dad(0x236)][_0x199dad(0x28f)](function(_0x1728e6){var _0x39884c=_0x199dad;_0x3263f9['querySelector']('.'+_0x1728e6)[_0x39884c(0x2ce)]('input',function(){var _0x54101c=_0x39884c,_0x2a23c5=_0x44ef34?+_0x44ef34['id'][_0x54101c(0x28b)]('_')[0x1]:null;if(_0x44ef34)updateVariantUnits(_0x2a23c5);else updateUnitsArray();});}),_0x3263f9[_0x199dad(0x268)](_0x199dad(0x227))[_0x199dad(0x2ce)]('click',function(){var _0x366f02=_0x199dad;_0x3263f9['remove']();var _0x32f6f0=_0x44ef34?+_0x44ef34['id'][_0x366f02(0x28b)]('_')[0x1]:null;if(_0x44ef34)updateVariantUnits(_0x32f6f0);else updateUnitsArray();});var _0x492781=_0x44ef34||document[_0x199dad(0x1a5)]('newItem_units_container');_0x492781[_0x199dad(0x206)](_0x3263f9);}function containerIdx(_0x2bc4c0){var _0x593421=_0x5e183d;return+_0x2bc4c0['id'][_0x593421(0x28b)]('_')[0x1];}function updateUnitsArray(){var _0x561870=_0x5e183d,_0xb0b7d8=[],_0x3e9a8b=Array[_0x561870(0x2b9)](document[_0x561870(0x1c6)](_0x561870(0x282))),_0x105c26=_0x3e9a8b[_0x561870(0x1dd)](_0x27152e=>_0x27152e[_0x561870(0x273)]['default']===_0x561870(0x1fb)),_0x70546c=_0x105c26?+_0x105c26['querySelector'](_0x561870(0x1ec))[_0x561870(0x214)]:0x1;_0x3e9a8b[_0x561870(0x28f)](function(_0x207727){var _0x407c60=_0x561870,_0x120a3a=+_0x207727['querySelector'](_0x407c60(0x1ec))[_0x407c60(0x214)]||0x0,_0x4856a6=+_0x207727[_0x407c60(0x268)](_0x407c60(0x20c))[_0x407c60(0x214)]||0x0,_0x4f1843=+_0x207727[_0x407c60(0x268)](_0x407c60(0x2c4))[_0x407c60(0x214)]||0x0;_0xb0b7d8[_0x407c60(0x23c)]({'setAlias':_0x207727[_0x407c60(0x268)](_0x407c60(0x2c7))[_0x407c60(0x214)]['trim'](),'setUnitCode':_0x207727[_0x407c60(0x268)]('.unitSelect')[_0x407c60(0x214)],'setEquivalence':_0x120a3a,'setFactor':_0x207727[_0x407c60(0x273)][_0x407c60(0x286)]===_0x407c60(0x1fb)?0x1:_0x120a3a==_0x70546c?0x1:_0x120a3a<_0x70546c?_0x70546c/_0x120a3a:_0x120a3a/_0x70546c,'setPrice':_0x4856a6,'setCost':_0x4f1843,'setDefault':_0x207727[_0x407c60(0x273)][_0x407c60(0x286)]===_0x407c60(0x1fb)?0x1:0x0});}),baseItem[_0x561870(0x1ae)]=_0xb0b7d8;}function updateBranches(){var _0x327c7d=_0x5e183d,_0x338a1a=[];document[_0x327c7d(0x1c6)](_0x327c7d(0x2d1))[_0x327c7d(0x28f)](function(_0x59a1e0){var _0x2be227=_0x327c7d,_0x326bf9=_0x59a1e0[_0x2be227(0x268)](_0x2be227(0x22c));if(_0x326bf9['checked']){var _0x210c00=+_0x326bf9[_0x2be227(0x273)]['id'],_0x26c1f5=+_0x59a1e0[_0x2be227(0x268)](_0x2be227(0x221))[_0x2be227(0x214)],_0x58f2ef=+_0x59a1e0['querySelector'](_0x2be227(0x1da))[_0x2be227(0x214)];_0x338a1a[_0x2be227(0x23c)]({'setWarehouseCode':_0x210c00,'setStockInitial':_0x26c1f5,'setStockMinimum':_0x58f2ef});}}),baseItem[_0x327c7d(0x25b)]=_0x338a1a;}document[_0x5e183d(0x1a5)](_0x5e183d(0x2a7))['addEventListener'](_0x5e183d(0x256),function(){var _0x6a3f62=_0x5e183d,_0x1c03a8=Date[_0x6a3f62(0x2c2)](),_0x520b52=document[_0x6a3f62(0x212)](_0x6a3f62(0x281));_0x520b52[_0x6a3f62(0x273)]['idx']=_0x1c03a8,_0x520b52[_0x6a3f62(0x295)]=_0x6a3f62(0x2af)+_0x1c03a8+_0x6a3f62(0x1f7)+_0x1c03a8+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x6a3f62(0x206)](_0x520b52),initProdSearch(_0x520b52['querySelector'](_0x6a3f62(0x1be))),_0x520b52['querySelector'](_0x6a3f62(0x20d))[_0x6a3f62(0x2ce)](_0x6a3f62(0x256),function(){_0x520b52['remove'](),updateProdItems();}),_0x520b52[_0x6a3f62(0x268)]('.prodQty')[_0x6a3f62(0x2ce)](_0x6a3f62(0x2be),updateProdItems),document[_0x6a3f62(0x1a5)]('newItem_title_table_cp')[_0x6a3f62(0x294)][_0x6a3f62(0x202)](_0x6a3f62(0x222),!![]),document['getElementById']('newItem_title_table_cp')[_0x6a3f62(0x294)][_0x6a3f62(0x202)](_0x6a3f62(0x234),![]);});function initProdSearch(_0x58f622,_0x2a893c){var _0x5afbc3=_0x5e183d,_0x5cbf86=_0x58f622['querySelector']('.prodInput'),_0x32bc06=_0x58f622[_0x5afbc3(0x268)](_0x5afbc3(0x1f3)),_0x310c5f=_0x2a893c||null;if(_0x2a893c)_0x5cbf86['value']=_0x2a893c[_0x5afbc3(0x1f1)];_0x5cbf86[_0x5afbc3(0x2ce)](_0x5afbc3(0x2be),function(){var _0x3718c9=_0x5afbc3,_0x56555b=_0x5cbf86[_0x3718c9(0x214)][_0x3718c9(0x2c6)]()[_0x3718c9(0x1cd)]();_0x32bc06[_0x3718c9(0x295)]='';if(!_0x56555b)return;products['filter'](_0x48d2c2=>_0x48d2c2[_0x3718c9(0x20e)]['toLowerCase']()['includes'](_0x56555b))[_0x3718c9(0x24f)](0x0,0x14)[_0x3718c9(0x28f)](function(_0xab7df7){var _0x14be1c=_0x3718c9,_0x2a05a4=document[_0x14be1c(0x212)]('div');_0x2a05a4[_0x14be1c(0x1b4)]=_0xab7df7[_0x14be1c(0x20e)],_0x2a05a4['dataset']['id']=_0xab7df7['id'],_0x2a05a4['dataset'][_0x14be1c(0x1f1)]=_0xab7df7[_0x14be1c(0x20e)],_0x32bc06[_0x14be1c(0x206)](_0x2a05a4),_0x2a05a4[_0x14be1c(0x2ce)](_0x14be1c(0x256),function(){var _0x39851d=_0x14be1c;_0x310c5f={'id':_0xab7df7['id'],'name':_0xab7df7[_0x39851d(0x20e)]},_0x5cbf86[_0x39851d(0x214)]=_0xab7df7[_0x39851d(0x20e)],_0x32bc06['innerHTML']='';var _0x3edc8b=_0x58f622[_0x39851d(0x278)](_0x39851d(0x2a0));if(_0x3edc8b){var _0x1d1ffc=+_0x3edc8b['id'][_0x39851d(0x28b)]('_')[0x1];updateVariantComponents(_0x1d1ffc);}else updateProdItems();});});}),_0x5cbf86[_0x5afbc3(0x2ce)]('focus',function(){var _0x277608=_0x5afbc3;_0x32bc06[_0x277608(0x294)][_0x277608(0x200)](_0x277608(0x234));}),document['addEventListener'](_0x5afbc3(0x256),function(_0x1f7dc7){var _0x404fdb=_0x5afbc3;if(!_0x58f622[_0x404fdb(0x1a7)](_0x1f7dc7[_0x404fdb(0x213)]))_0x32bc06[_0x404fdb(0x294)][_0x404fdb(0x26b)](_0x404fdb(0x234));}),Object[_0x5afbc3(0x229)](_0x58f622,_0x5afbc3(0x2cb),{'get':()=>_0x310c5f});}function updateProdItems(){var _0x1d246b=_0x5e183d,_0x2c6895=[];Array[_0x1d246b(0x2b9)](prodC['children'])[_0x1d246b(0x28f)](function(_0x3e670d){var _0x4bfcfc=_0x1d246b,_0x346ff0=_0x3e670d[_0x4bfcfc(0x268)](_0x4bfcfc(0x1be));if(!_0x346ff0)return;var _0x4b304e=_0x3e670d['querySelector'](_0x4bfcfc(0x293)),_0x4fd44d=_0x346ff0[_0x4bfcfc(0x2cb)];_0x4fd44d&&_0x2c6895[_0x4bfcfc(0x23c)]({'setItemId':_0x4fd44d['id'],'setDescripcion':_0x4fd44d[_0x4bfcfc(0x1f1)],'setCantidad':+_0x4b304e['value']});}),baseItem['setItemComponents']=_0x2c6895,_0x2c6895[_0x1d246b(0x219)]===0x0&&(document['getElementById'](_0x1d246b(0x203))['classList'][_0x1d246b(0x202)](_0x1d246b(0x222),![]),document[_0x1d246b(0x1a5)](_0x1d246b(0x203))[_0x1d246b(0x294)]['toggle'](_0x1d246b(0x234),!![]));}document[_0x5e183d(0x1a5)]('newItem_btn_addVariantGroup')[_0x5e183d(0x2ce)](_0x5e183d(0x256),function(){var _0x2bb6f1=_0x5e183d,_0x434e6b=vgCount++,_0x236182=document[_0x2bb6f1(0x212)](_0x2bb6f1(0x281));_0x236182[_0x2bb6f1(0x273)][_0x2bb6f1(0x1b9)]=_0x434e6b,_0x236182[_0x2bb6f1(0x295)]=_0x2bb6f1(0x241)+_0x434e6b+'\x22>'+_0x2bb6f1(0x243)+_0x434e6b+'\x22>'+_0x2bb6f1(0x23b),vgC[_0x2bb6f1(0x206)](_0x236182),_0x236182[_0x2bb6f1(0x268)](_0x2bb6f1(0x292))[_0x2bb6f1(0x2ce)](_0x2bb6f1(0x2b5),generateVariants),_0x236182[_0x2bb6f1(0x268)](_0x2bb6f1(0x1cc))[_0x2bb6f1(0x2ce)]('blur',generateVariants),_0x236182[_0x2bb6f1(0x268)](_0x2bb6f1(0x22e))[_0x2bb6f1(0x2ce)](_0x2bb6f1(0x256),function(){var _0x19783f=_0x2bb6f1;_0x236182[_0x19783f(0x200)](),generateVariants();});});function generateVariants(){var _0x2c6364=_0x5e183d,_0x3cbfa0=[];vgC[_0x2c6364(0x1c6)](_0x2c6364(0x281))[_0x2c6364(0x28f)](function(_0x1b4b48){var _0x18b350=_0x2c6364,_0xce88b4=_0x1b4b48[_0x18b350(0x268)](_0x18b350(0x292))[_0x18b350(0x214)][_0x18b350(0x1cd)](),_0x2164c0=_0x1b4b48[_0x18b350(0x268)](_0x18b350(0x1cc))[_0x18b350(0x214)][_0x18b350(0x28b)](',')[_0x18b350(0x22d)](_0x1f939d=>_0x1f939d[_0x18b350(0x1cd)]())[_0x18b350(0x2a6)](_0x79350e=>_0x79350e);if(_0xce88b4&&_0x2164c0[_0x18b350(0x219)])_0x3cbfa0[_0x18b350(0x23c)]({'name':_0xce88b4,'vals':_0x2164c0});});var _0x4185e3=[{}];_0x3cbfa0['forEach'](function(_0x478ddf){var _0x3ad646=_0x2c6364;_0x4185e3=_0x4185e3[_0x3ad646(0x242)](function(_0x145970){var _0x2c58b2=_0x3ad646;return _0x478ddf[_0x2c58b2(0x239)][_0x2c58b2(0x22d)](function(_0x4a496d){var _0x586721=_0x2c58b2,_0x2bd837=Object[_0x586721(0x247)]({},_0x145970);return _0x2bd837[_0x478ddf[_0x586721(0x1f1)]]=_0x4a496d,_0x2bd837;});});}),newItems=[],varContainer['innerHTML']='',_0x4185e3[_0x2c6364(0x28f)](function(_0x50fad2,_0x27d99a){var _0x4e269f=_0x2c6364,_0x3f1c7b=JSON[_0x4e269f(0x248)](JSON['stringify'](baseItem));_0x3f1c7b[_0x4e269f(0x1e9)]=_0x50fad2,_0x3f1c7b[_0x4e269f(0x264)]=baseItem[_0x4e269f(0x284)]+'\x20'+Object['entries'](_0x50fad2)[_0x4e269f(0x22d)](_0x3437f0=>_0x3437f0[0x0]+'\x20'+_0x3437f0[0x1])[_0x4e269f(0x24d)]('\x20'),newItems[_0x4e269f(0x23c)](_0x3f1c7b);var _0x1cef27=document[_0x4e269f(0x212)](_0x4e269f(0x281));_0x1cef27[_0x4e269f(0x294)][_0x4e269f(0x26b)](_0x4e269f(0x208)),_0x1cef27['dataset'][_0x4e269f(0x1b9)]=_0x27d99a,_0x1cef27[_0x4e269f(0x295)]=_0x4e269f(0x1df)+_0x3f1c7b['setItemVariantName']+'</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22'+_0x3f1c7b[_0x4e269f(0x1ed)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x3f1c7b[_0x4e269f(0x1f9)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x3f1c7b['setItemDateExpiry']+_0x4e269f(0x23e)+_0x27d99a+_0x4e269f(0x2d7)+_0x27d99a+_0x4e269f(0x2d9)+_0x27d99a+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x1cef27),_0x1cef27['querySelector'](_0x4e269f(0x1e0))['addEventListener'](_0x4e269f(0x2be),_0x568f22=>newItems[_0x27d99a]['setItemCode']=_0x568f22[_0x4e269f(0x213)]['value']),_0x1cef27[_0x4e269f(0x268)]('.variantBarCode')[_0x4e269f(0x2ce)](_0x4e269f(0x2be),_0x219869=>newItems[_0x27d99a][_0x4e269f(0x1f9)]=_0x219869[_0x4e269f(0x213)][_0x4e269f(0x214)]),_0x1cef27['querySelector'](_0x4e269f(0x23f))[_0x4e269f(0x2ce)](_0x4e269f(0x270),_0x3816fc=>newItems[_0x27d99a][_0x4e269f(0x29c)]=_0x3816fc[_0x4e269f(0x213)][_0x4e269f(0x214)]),initVariantUnits(_0x27d99a),initVariantComponents(_0x27d99a),initVariantBranches(_0x27d99a),_0x1cef27[_0x4e269f(0x268)](_0x4e269f(0x2a5))[_0x4e269f(0x2ce)](_0x4e269f(0x256),function(){var _0x405aae=_0x4e269f,_0x46605c=+_0x1cef27['dataset'][_0x405aae(0x1b9)];newItems[_0x405aae(0x2cc)](_0x46605c,0x1),_0x1cef27[_0x405aae(0x200)](),document[_0x405aae(0x1c6)](_0x405aae(0x260))[_0x405aae(0x28f)](function(_0x471015,_0x5e516e){var _0x53221c=_0x405aae;_0x471015[_0x53221c(0x273)]['idx']=_0x5e516e;});});});if(newItems['length']===0x0)newItems=[baseItem];}function updateVariantUnits(_0x3a43bf){var _0x278584=_0x5e183d,_0x3d7943=document[_0x278584(0x1a5)](_0x278584(0x1f5)+_0x3a43bf+_0x278584(0x288)),_0x2e8dc4=[];Array[_0x278584(0x2b9)](_0x3d7943['children'])[_0x278584(0x28f)](function(_0x386e69){var _0x378a18=_0x278584,_0x5d993f=+_0x386e69[_0x378a18(0x268)]('.eqInput')[_0x378a18(0x214)]||0x0,_0x170aed=_0x386e69[_0x378a18(0x268)](_0x378a18(0x2c7))[_0x378a18(0x214)]['trim'](),_0x4bab33=_0x386e69[_0x378a18(0x268)]('.unitSelect')[_0x378a18(0x214)],_0x167ea9=+_0x386e69['querySelector'](_0x378a18(0x20c))['value']||0x0,_0x2d3bcf=+_0x386e69[_0x378a18(0x268)](_0x378a18(0x2c4))['value']||0x0,_0x2d0fea=_0x386e69[_0x378a18(0x273)][_0x378a18(0x286)]===_0x378a18(0x1fb),_0x5375bd=+_0x3d7943[_0x378a18(0x268)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x378a18(0x214)]||0x1,_0x4c0b48=_0x2d0fea?0x1:_0x5d993f==_0x5375bd?0x1:_0x5d993f<_0x5375bd?_0x5375bd/_0x5d993f:_0x5d993f/_0x5375bd;_0x2e8dc4[_0x378a18(0x23c)]({'setAlias':_0x170aed,'setUnitCode':_0x4bab33,'setEquivalence':_0x5d993f,'setFactor':_0x4c0b48,'setPrice':_0x167ea9,'setCost':_0x2d3bcf,'setDefault':_0x2d0fea?0x1:0x0});}),newItems[_0x3a43bf][_0x278584(0x1ae)]=_0x2e8dc4;}function initVariantUnits(_0x50600e){var _0x5d18bc=_0x5e183d,_0x53b1b2=document[_0x5d18bc(0x1a5)](_0x5d18bc(0x1f5)+_0x50600e+_0x5d18bc(0x288));_0x53b1b2['innerHTML']='',newItems[_0x50600e][_0x5d18bc(0x1ae)][_0x5d18bc(0x28f)](function(_0x3345f0){var _0xd69a9c=_0x5d18bc;addUnit(_0x3345f0[_0xd69a9c(0x2bf)],_0x3345f0[_0xd69a9c(0x263)],_0x3345f0[_0xd69a9c(0x1c3)],_0x3345f0[_0xd69a9c(0x1b2)],_0x3345f0[_0xd69a9c(0x21c)],_0x3345f0['setCost'],_0x53b1b2);}),_0x53b1b2['parentNode'][_0x5d18bc(0x268)](_0x5d18bc(0x210))[_0x5d18bc(0x2ce)]('click',function(){addUnit('','',0x1,![],'','',_0x53b1b2),updateVariantUnits(_0x50600e);});}function updateVariantUnits(_0x3f1ad0){var _0x5d5a96=_0x5e183d,_0x14f5aa=document[_0x5d5a96(0x1a5)](_0x5d5a96(0x1f5)+_0x3f1ad0+'_units_container'),_0x270612=_0x14f5aa[_0x5d5a96(0x268)](_0x5d5a96(0x2a9)),_0x4fb853=_0x270612?+_0x270612[_0x5d5a96(0x214)]:0x1,_0x5e1aee=Array['from'](_0x14f5aa[_0x5d5a96(0x254)])[_0x5d5a96(0x22d)](function(_0x3dc309){var _0x38ab59=_0x5d5a96,_0x1ffc33=_0x3dc309[_0x38ab59(0x268)](_0x38ab59(0x2c7))[_0x38ab59(0x214)]['trim'](),_0x33ef11=_0x3dc309[_0x38ab59(0x268)]('.unitSelect')[_0x38ab59(0x214)],_0x2e3213=+_0x3dc309[_0x38ab59(0x268)](_0x38ab59(0x1ec))[_0x38ab59(0x214)]||0x0,_0x5d3b9a=+_0x3dc309[_0x38ab59(0x268)](_0x38ab59(0x20c))['value']||0x0,_0x1ba0b8=+_0x3dc309[_0x38ab59(0x268)](_0x38ab59(0x2c4))['value']||0x0,_0x2c235e=_0x3dc309[_0x38ab59(0x273)]['default']===_0x38ab59(0x1fb);return{'setAlias':_0x1ffc33,'setUnitCode':_0x33ef11,'setEquivalence':_0x2e3213,'setFactor':_0x2c235e?0x1:_0x2e3213==_0x4fb853?0x1:_0x2e3213<_0x4fb853?_0x4fb853/_0x2e3213:_0x2e3213/_0x4fb853,'setPrice':_0x5d3b9a,'setCost':_0x1ba0b8,'setDefault':_0x2c235e?0x1:0x0};});newItems[_0x3f1ad0][_0x5d5a96(0x1ae)]=_0x5e1aee;}function initVariantComponents(_0x2736da){var _0xff0675=_0x5e183d,_0x3cf03b=document['getElementById'](_0xff0675(0x1f5)+_0x2736da+_0xff0675(0x1cb));_0x3cf03b['innerHTML']='',newItems[_0x2736da]['setItemComponents'][_0xff0675(0x28f)](function(_0x40947f){var _0x39e17c=_0xff0675,_0x1c666c=document[_0x39e17c(0x212)](_0x39e17c(0x281)),_0x4ac7a6=Date[_0x39e17c(0x2c2)]();_0x1c666c[_0x39e17c(0x273)][_0x39e17c(0x1b9)]=_0x4ac7a6,_0x1c666c[_0x39e17c(0x295)]=_0x39e17c(0x251)+_0x4ac7a6+_0x39e17c(0x1b0)+_0x40947f[_0x39e17c(0x223)]+_0x39e17c(0x285),_0x3cf03b[_0x39e17c(0x206)](_0x1c666c),initProdSearch(_0x1c666c[_0x39e17c(0x268)]('.prod_input_container'),{'id':_0x40947f[_0x39e17c(0x25d)],'name':_0x40947f[_0x39e17c(0x20e)]}),_0x1c666c[_0x39e17c(0x268)](_0x39e17c(0x293))[_0x39e17c(0x2ce)]('input',function(){updateVariantComponents(_0x2736da);}),_0x1c666c[_0x39e17c(0x268)](_0x39e17c(0x276))[_0x39e17c(0x2ce)](_0x39e17c(0x256),function(){_0x1c666c['remove'](),updateVariantComponents(_0x2736da);});}),_0x3cf03b[_0xff0675(0x232)]['querySelector'](_0xff0675(0x1ab))['addEventListener']('click',function(){var _0x104ddc=_0xff0675,_0x3c1e91=document[_0x104ddc(0x212)]('div'),_0x4948d9=Date[_0x104ddc(0x2c2)]();_0x3c1e91[_0x104ddc(0x273)][_0x104ddc(0x1b9)]=_0x4948d9,_0x3c1e91[_0x104ddc(0x295)]='\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x4948d9+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x3cf03b['appendChild'](_0x3c1e91),initProdSearch(_0x3c1e91['querySelector'](_0x104ddc(0x1be))),_0x3c1e91[_0x104ddc(0x268)](_0x104ddc(0x293))['addEventListener']('input',function(){updateVariantComponents(_0x2736da);}),_0x3c1e91[_0x104ddc(0x268)](_0x104ddc(0x276))[_0x104ddc(0x2ce)](_0x104ddc(0x256),function(){var _0xe5590a=_0x104ddc;_0x3c1e91[_0xe5590a(0x200)](),updateVariantComponents(_0x2736da);});});}function updateVariantComponents(_0x5191ca){var _0x31ccbb=_0x5e183d,_0x559b6d=document[_0x31ccbb(0x1a5)](_0x31ccbb(0x1f5)+_0x5191ca+'_comp_container'),_0x4de340=Array[_0x31ccbb(0x2b9)](_0x559b6d[_0x31ccbb(0x254)])[_0x31ccbb(0x22d)](function(_0x5bc2a5){var _0x58c77c=_0x31ccbb,_0x2f17b3=_0x5bc2a5['querySelector'](_0x58c77c(0x1be)),_0x235809=_0x2f17b3[_0x58c77c(0x2cb)],_0x4e2887=+_0x5bc2a5[_0x58c77c(0x268)](_0x58c77c(0x293))[_0x58c77c(0x214)]||0x0;return _0x235809?{'setItemId':_0x235809['id'],'setDescripcion':_0x235809['name'],'setCantidad':_0x4e2887}:null;})[_0x31ccbb(0x2a6)](_0x5ed224=>_0x5ed224);newItems[_0x5191ca][_0x31ccbb(0x27d)]=_0x4de340;}function initVariantBranches(_0x22a01a){var _0x22d2b2=_0x5e183d;const _0x3c86cb=getAllWarehouses();var _0x4b1154=document[_0x22d2b2(0x1a5)]('variant_'+_0x22a01a+_0x22d2b2(0x1d4));_0x4b1154[_0x22d2b2(0x295)]='',newItems[_0x22a01a][_0x22d2b2(0x25b)]['forEach'](function(_0x19854b){var _0x2fe43d=_0x22d2b2,_0x1ad623=_0x3c86cb[_0x2fe43d(0x1dd)](_0x33c948=>_0x33c948['setWarehouseId']==_0x19854b['setWarehouseCode']),_0x145a58=document[_0x2fe43d(0x212)]('div');_0x145a58['innerHTML']=_0x2fe43d(0x296)+_0x19854b['setWarehouseCode']+_0x2fe43d(0x1e7)+_0x1ad623[_0x2fe43d(0x25e)]+_0x2fe43d(0x21d)+_0x19854b[_0x2fe43d(0x2ab)]+_0x2fe43d(0x255)+_0x19854b['setStockInitial']+_0x2fe43d(0x249)+_0x19854b['setWarehouseCode']+_0x2fe43d(0x255)+_0x19854b[_0x2fe43d(0x225)]+'\x22>',_0x4b1154[_0x2fe43d(0x206)](_0x145a58),_0x145a58['querySelectorAll'](_0x2fe43d(0x2be))[_0x2fe43d(0x28f)](function(_0x3c2c78){var _0x1290b2=_0x2fe43d;_0x3c2c78[_0x1290b2(0x2ce)](_0x1290b2(0x2be),function(){updateVariantBranches(_0x22a01a);});});}),_0x3c86cb[_0x22d2b2(0x28f)](function(_0x1434dc){var _0x4c4e6e=_0x22d2b2;if(!newItems[_0x22a01a][_0x4c4e6e(0x25b)][_0x4c4e6e(0x1dd)](_0x1854c4=>_0x1854c4[_0x4c4e6e(0x2ab)]===_0x1434dc[_0x4c4e6e(0x1e1)])){var _0x3a4e28=document[_0x4c4e6e(0x212)](_0x4c4e6e(0x281));_0x3a4e28[_0x4c4e6e(0x295)]='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x1434dc[_0x4c4e6e(0x1e1)]+_0x4c4e6e(0x2d8)+_0x1434dc[_0x4c4e6e(0x25e)]+_0x4c4e6e(0x21d)+_0x1434dc[_0x4c4e6e(0x1e1)]+_0x4c4e6e(0x249)+_0x1434dc[_0x4c4e6e(0x1e1)]+'\x22>',_0x4b1154[_0x4c4e6e(0x206)](_0x3a4e28),_0x3a4e28[_0x4c4e6e(0x1c6)](_0x4c4e6e(0x2be))['forEach'](function(_0x3ce431){var _0x272dd8=_0x4c4e6e;_0x3ce431[_0x272dd8(0x2ce)]('input',function(){updateVariantBranches(_0x22a01a);});});}});}function updateVariantBranches(_0x481328){var _0x922083=_0x5e183d,_0x28def7=document[_0x922083(0x1a5)](_0x922083(0x1f5)+_0x481328+_0x922083(0x1d4)),_0xa4da87=[];_0x28def7[_0x922083(0x1c6)]('div')['forEach'](function(_0x4a1277){var _0x3d8196=_0x922083,_0x1e8021=_0x4a1277[_0x3d8196(0x268)](_0x3d8196(0x22c));if(_0x1e8021[_0x3d8196(0x1fe)]){var _0x1daf07=+_0x1e8021[_0x3d8196(0x273)]['id'],_0x23ff6d=+_0x4a1277[_0x3d8196(0x268)](_0x3d8196(0x221))[_0x3d8196(0x214)]||0x0,_0x1db249=+_0x4a1277[_0x3d8196(0x268)](_0x3d8196(0x1da))['value']||0x0;_0xa4da87[_0x3d8196(0x23c)]({'setWarehouseCode':_0x1daf07,'setStockInitial':_0x23ff6d,'setStockMinimum':_0x1db249});}}),newItems[_0x481328][_0x922083(0x25b)]=_0xa4da87;}async function storeOfflineProduct(_0x140097){var _0x5e6625=_0x5e183d;try{const _0x1b3026=await createCartStore(''),_0x5e1ba5=_0x1b3026[_0x5e6625(0x240)](_0x5e6625(0x2d2),'readwrite'),_0x561b34=_0x5e1ba5[_0x5e6625(0x1cf)](_0x5e6625(0x2d2));_0x561b34[_0x5e6625(0x26b)](_0x140097),_0x5e1ba5[_0x5e6625(0x29f)]=()=>{var _0x156ef1=_0x5e6625;console['log'](_0x156ef1(0x238));},_0x5e1ba5[_0x5e6625(0x2d4)]=_0x4b529c=>{var _0x2158a6=_0x5e6625;console['error'](_0x2158a6(0x250),_0x4b529c[_0x2158a6(0x213)][_0x2158a6(0x1ea)]);};}catch(_0x3bc2a1){console[_0x5e6625(0x1ea)]('Error\x20al\x20procesar\x20la\x20operación:',_0x3bc2a1);}}document['getElementById'](_0x5e183d(0x21f))[_0x5e183d(0x2ce)](_0x5e183d(0x256),async function(_0x7f5f6e){var _0x23faba=_0x5e183d;_0x7f5f6e[_0x23faba(0x1e3)]();const _0x20c80e=document['getElementById'](_0x23faba(0x27c)),_0x298652=document[_0x23faba(0x1a5)](_0x23faba(0x266))[_0x23faba(0x214)];if(!_0x20c80e[_0x23faba(0x214)][_0x23faba(0x1cd)]()&&_0x298652==0x0){ntfShow(_0x23faba(0x27e),0x2,0x1);return;}_0x298652==0x1&&(_0x20c80e[_0x23faba(0x214)]='',baseItem[_0x23faba(0x1ed)]='');const _0x306bed=document[_0x23faba(0x1a5)](_0x23faba(0x2b3));if(!_0x306bed[_0x23faba(0x214)]['trim']()){ntfShow(_0x23faba(0x1bb),0x2,0x1);return;}const _0x54fad2=document[_0x23faba(0x1a5)](_0x23faba(0x218));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x2c919f=document[_0x23faba(0x1a5)](_0x23faba(0x23d))[_0x23faba(0x214)],_0x5680bb=window_options[_0x2c919f][_0x23faba(0x287)],_0x48450f=[];newItems['forEach'](_0x54f560=>{var _0x2ce5cc=_0x23faba;const _0x9e05c1=generateNumericUniqId();_0x54f560[_0x2ce5cc(0x1ae)][_0x2ce5cc(0x28f)](_0x4adedb=>{var _0x38ea26=_0x2ce5cc;const _0xfed17e=generateNumericUniqId();_0x4adedb[_0x38ea26(0x1eb)]=_0xfed17e;const _0xb0a097={'id':_0xfed17e,'setIdProducto':_0x9e05c1,'setCodProducto':_0x54f560['setItemCode'],'setDescripcion':_0x54f560[_0x38ea26(0x264)]!=''?_0x54f560[_0x38ea26(0x264)]:_0x54f560[_0x38ea26(0x284)],'setItemDescription':_0x54f560[_0x38ea26(0x1c1)],'setBatchExpirationDate':_0x54f560['setItemDateExpiry'],'setBatchName':'','setCategoria':_0x54f560[_0x38ea26(0x207)][0x0]||'','setMarca':_0x54f560[_0x38ea26(0x269)][0x0]||'','setConversionFactor':parseFloat(_0x4adedb[_0x38ea26(0x2a3)]),'setImages':[],'setImg':_0x38ea26(0x26f),'setInventariable':0x1,'setItemIsBought':_0x54f560[_0x38ea26(0x24c)]?0x1:0x0,'setItemIsSold':_0x54f560['setItemIsSold']?0x1:0x0,'setPorcentajeIgv':_0x54f560[_0x38ea26(0x1fa)],'setPrinters':[],'setTaxId':_0x54f560[_0x38ea26(0x1a4)],'setTipAfeIgv':_0x54f560[_0x38ea26(0x22f)],'setUnidad':_0x4adedb[_0x38ea26(0x263)],'setUnidadCodigo':_0x4adedb['setUnitCode'],'setItemUnitAlias':_0x4adedb[_0x38ea26(0x2bf)],'currency_data':[{'currency':_0x5680bb,'setMtoPrecioCostoUnitario':_0x4adedb['setCost'],'setMtoPrecioUnitario':_0x4adedb['setPrice'],'setPriceLists':[]}],'sucursales':_0x54f560[_0x38ea26(0x25b)][_0x38ea26(0x22d)](_0x6eb615=>({'setIdSucursal':_0x6eb615[_0x38ea26(0x2ab)],'setSucursalStock':_0x6eb615['setStockInitial'][_0x38ea26(0x21a)](),'setWarehouseStockMin':_0x6eb615[_0x38ea26(0x225)][_0x38ea26(0x21a)]()})),'setItemFree':_0x54f560[_0x38ea26(0x266)],'setItemBarCode':_0x54f560[_0x38ea26(0x1f9)],'setItemBrands':_0x54f560[_0x38ea26(0x269)][_0x38ea26(0x24f)](),'setItemCategories':_0x54f560[_0x38ea26(0x207)][_0x38ea26(0x24f)](),'setItemComponents':_0x54f560[_0x38ea26(0x27d)]['map'](_0x7c7b98=>({..._0x7c7b98})),'setItemImages':_0x54f560[_0x38ea26(0x2b1)][_0x38ea26(0x24f)](),'setItemVariantName':_0x54f560[_0x38ea26(0x264)],'setItemVariantValues':{..._0x54f560[_0x38ea26(0x1e9)]}};_0x48450f[_0x38ea26(0x23c)](_0xb0a097),(_0x54fad2[_0x38ea26(0x1fe)]||_0x298652==0x1)&&addToCart(_0xb0a097);});}),console['log']('Items\x20finales:',newItems),await finalizeImport(_0x48450f,newItems,![]);}),[_0x5e183d(0x253),'dragover'][_0x5e183d(0x28f)](_0x49cc3c=>dropZone[_0x5e183d(0x2ce)](_0x49cc3c,_0x3c7780=>{var _0x4b45f6=_0x5e183d;_0x3c7780[_0x4b45f6(0x1e3)](),dropZone[_0x4b45f6(0x294)][_0x4b45f6(0x26b)](_0x4b45f6(0x1d7));})),['dragleave',_0x5e183d(0x2da)][_0x5e183d(0x28f)](_0x362a14=>dropZone[_0x5e183d(0x2ce)](_0x362a14,_0x114c0a=>{var _0x124c91=_0x5e183d;_0x114c0a['preventDefault'](),dropZone[_0x124c91(0x294)]['remove'](_0x124c91(0x1d7));})),dropZone['addEventListener'](_0x5e183d(0x2da),_0x5d40d0=>{var _0x24756b=_0x5e183d;const _0x2d1293=_0x5d40d0[_0x24756b(0x25a)][_0x24756b(0x20a)][0x0];if(!_0x2d1293)return;fileInput[_0x24756b(0x20a)]=_0x5d40d0[_0x24756b(0x25a)][_0x24756b(0x20a)],dropZone[_0x24756b(0x268)]('.drop-zone__prompt')['textContent']=_0x2d1293[_0x24756b(0x1f1)],removeBtn[_0x24756b(0x29d)]=![],fileInput[_0x24756b(0x231)](new Event(_0x24756b(0x270)));}),removeBtn[_0x5e183d(0x2ce)](_0x5e183d(0x256),()=>{var _0x4396cc=_0x5e183d;fileInput[_0x4396cc(0x214)]='',dropZone['querySelector'](_0x4396cc(0x2d3))['textContent']=_0x4396cc(0x272),removeBtn[_0x4396cc(0x29d)]=!![],progressBar[_0x4396cc(0x1e2)]['display']=_0x4396cc(0x1e4),statusDiv[_0x4396cc(0x1b4)]='',uploadBtn[_0x4396cc(0x204)]=!![];}),itemWorker[_0x5e183d(0x1d1)]=({data:_0x14f76d})=>{var _0x4e8ed4=_0x5e183d;const {type:_0x3ffd7a,payload:_0x4c8a48}=_0x14f76d;_0x3ffd7a===_0x4e8ed4(0x274)&&(progressBar[_0x4e8ed4(0x1e2)][_0x4e8ed4(0x1c8)]='block',progressBar[_0x4e8ed4(0x214)]=_0x4c8a48[_0x4e8ed4(0x23a)],statusDiv['textContent']=_0x4c8a48[_0x4e8ed4(0x1b5)]),_0x3ffd7a===_0x4e8ed4(0x1b8)&&(newItemsExcel=_0x4c8a48[_0x4e8ed4(0x1ee)],statusDiv[_0x4e8ed4(0x1b4)]='✅\x20'+newItemsExcel[_0x4e8ed4(0x219)]+_0x4e8ed4(0x2b0),uploadBtn['disabled']=![],progressBar['value']=0x64,console['log'](newItemsExcel)),_0x3ffd7a===_0x4e8ed4(0x1ea)&&(statusDiv[_0x4e8ed4(0x1b4)]=_0x4e8ed4(0x1c2)+_0x4c8a48,progressBar[_0x4e8ed4(0x1e2)]['display']='none');},fileInput[_0x5e183d(0x2ce)](_0x5e183d(0x270),async _0x321510=>{var _0x4f4da3=_0x5e183d;const _0x2f2edc=_0x321510[_0x4f4da3(0x213)]['files'][0x0];if(!_0x2f2edc)return;uploadBtn[_0x4f4da3(0x204)]=!![],newItemsExcel=null,statusDiv[_0x4f4da3(0x1b4)]='',progressBar[_0x4f4da3(0x1e2)][_0x4f4da3(0x1c8)]='none',dropZone['querySelector'](_0x4f4da3(0x2d3))[_0x4f4da3(0x1b4)]=_0x2f2edc[_0x4f4da3(0x1f1)],removeBtn[_0x4f4da3(0x29d)]=![];try{const _0x102ecf=await _0x2f2edc[_0x4f4da3(0x28a)]();itemWorker[_0x4f4da3(0x277)]({'buf':_0x102ecf,'maxRows':0x1388});}catch(_0x5e575b){statusDiv[_0x4f4da3(0x1b4)]=_0x4f4da3(0x1bc);}finally{fileInput[_0x4f4da3(0x214)]='';}}),uploadBtn[_0x5e183d(0x2ce)](_0x5e183d(0x256),async()=>{var _0x2e6c68=_0x5e183d;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x53cbaf=document[_0x2e6c68(0x1a5)](_0x2e6c68(0x1e1))['value'],_0x15a512=[];newItemsExcel[_0x2e6c68(0x28f)](_0x49a927=>{var _0x45cccf=_0x2e6c68;const _0xf22d8e=generateNumericUniqId();_0x49a927[_0x45cccf(0x25b)]=[{'setStockInitial':_0x49a927[_0x45cccf(0x2c3)],'setStockMinimum':_0x49a927[_0x45cccf(0x225)],'setWarehouseCode':_0x53cbaf}],_0x49a927[_0x45cccf(0x1ae)][_0x45cccf(0x28f)](_0x4b8de7=>{var _0x204995=_0x45cccf;const _0x1b6e3d=generateNumericUniqId();_0x4b8de7[_0x204995(0x1eb)]=_0x1b6e3d;const _0x48bce7=[];_0x48bce7[_0x204995(0x23c)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x4b8de7[_0x204995(0x1f6)],'setMtoPrecioUnitario':_0x4b8de7[_0x204995(0x21c)],'setPriceLists':[]});const _0x6f378f=_0x4b8de7[_0x204995(0x2d6)]!=null&&_0x4b8de7[_0x204995(0x2a8)]!=null&&(!isNaN(_0x4b8de7[_0x204995(0x2d6)])||!isNaN(_0x4b8de7[_0x204995(0x2a8)]));_0x6f378f&&_0x48bce7[_0x204995(0x23c)]({'currency':_0x204995(0x26c),'setMtoPrecioCostoUnitario':_0x4b8de7[_0x204995(0x2d6)],'setMtoPrecioUnitario':_0x4b8de7[_0x204995(0x2a8)],'setPriceLists':[]});const _0x5f5d81={'id':_0x1b6e3d,'setIdProducto':_0xf22d8e,'setCodProducto':_0x49a927['setItemCode'],'setDescripcion':_0x49a927[_0x204995(0x264)]||_0x49a927[_0x204995(0x284)],'setItemDescription':_0x49a927[_0x204995(0x1c1)],'setBatchExpirationDate':_0x49a927['setItemDateExpiry'],'setBatchName':_0x49a927[_0x204995(0x2b6)],'setCategoria':_0x49a927['setItemCategories'][0x0]||'','setMarca':_0x49a927[_0x204995(0x269)][0x0]||'','setConversionFactor':parseFloat(_0x4b8de7[_0x204995(0x2a3)]),'setImages':[],'setImg':'./img/product.png','setInventariable':_0x49a927[_0x204995(0x1fc)],'setItemIsBought':_0x49a927[_0x204995(0x24c)],'setItemIsSold':_0x49a927['setItemIsSold'],'setPorcentajeIgv':_0x49a927[_0x204995(0x1fa)],'setPrinters':[],'setTaxId':_0x49a927[_0x204995(0x1a4)],'setTipAfeIgv':_0x49a927['setItemTaxCode'],'setUnidad':_0x4b8de7['setUnitCode'],'setUnidadCodigo':_0x4b8de7[_0x204995(0x263)],'setItemUnitAlias':_0x4b8de7[_0x204995(0x2bf)],'currency_data':_0x48bce7,'sucursales':_0x49a927[_0x204995(0x25b)][_0x204995(0x22d)](_0x44fbf7=>({'setIdSucursal':_0x44fbf7[_0x204995(0x2ab)],'setSucursalStock':_0x44fbf7[_0x204995(0x2c3)][_0x204995(0x21a)](),'setWarehouseStockMin':_0x44fbf7[_0x204995(0x225)][_0x204995(0x21a)]()})),'setItemFree':_0x49a927['setItemFree'],'setItemBarCode':_0x49a927[_0x204995(0x1f9)],'setItemBrands':_0x49a927[_0x204995(0x269)][_0x204995(0x24f)](),'setItemCategories':_0x49a927['setItemCategories'][_0x204995(0x24f)](),'setItemComponents':_0x49a927[_0x204995(0x27d)][_0x204995(0x22d)](_0x20c7a0=>({..._0x20c7a0})),'setItemImages':_0x49a927[_0x204995(0x2b1)][_0x204995(0x24f)](),'setItemVariantName':_0x49a927[_0x204995(0x264)],'setItemVariantValues':{..._0x49a927[_0x204995(0x1e9)]}};_0x15a512[_0x204995(0x23c)](_0x5f5d81);});}),console[_0x2e6c68(0x1c7)](_0x2e6c68(0x1d2),newItems),await finalizeImport(_0x15a512,newItemsExcel,!![]);});function initializeFormImages(){var _0x23e5e1=_0x5e183d;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x23e5e1(0x295)]='',baseItem[_0x23e5e1(0x2b1)]=[];for(var _0x301a72=0x0;_0x301a72<MAX_IMAGES;_0x301a72++){(function(_0x2b233a){var _0x4e3878=_0x23e5e1,_0x512500=document[_0x4e3878(0x212)]('div');_0x512500['className']=_0x4e3878(0x226),_0x512500[_0x4e3878(0x273)][_0x4e3878(0x1b9)]=_0x2b233a;var _0x38dfd3=document[_0x4e3878(0x212)](_0x4e3878(0x2be));_0x38dfd3['type']=_0x4e3878(0x215),_0x38dfd3[_0x4e3878(0x297)]='image/*',_0x38dfd3['style'][_0x4e3878(0x1c8)]=_0x4e3878(0x1e4);var _0xc2da4a=document[_0x4e3878(0x212)](_0x4e3878(0x24b));_0xc2da4a[_0x4e3878(0x1b4)]='+',_0x512500['appendChild'](_0x38dfd3),_0x512500[_0x4e3878(0x206)](_0xc2da4a),imgC[_0x4e3878(0x206)](_0x512500),_0x512500[_0x4e3878(0x2ce)](_0x4e3878(0x256),function(){var _0x3707c5=_0x4e3878;_0x38dfd3[_0x3707c5(0x256)]();}),_0x38dfd3[_0x4e3878(0x2ce)](_0x4e3878(0x270),function(_0x8f9b8d){var _0x427822=_0x4e3878,_0x1b2097=_0x8f9b8d[_0x427822(0x213)][_0x427822(0x20a)][0x0];if(!_0x1b2097)return removeImg(_0x2b233a);var _0x1ef3c8=new FileReader();_0x1ef3c8[_0x427822(0x2c0)]=function(_0x5ce2ea){var _0x5d1aa4=_0x427822;_0x512500[_0x5d1aa4(0x295)]=_0x5d1aa4(0x21e)+_0x5ce2ea[_0x5d1aa4(0x213)][_0x5d1aa4(0x1de)]+'\x22>';var _0x35833f=document[_0x5d1aa4(0x212)](_0x5d1aa4(0x24b));_0x35833f[_0x5d1aa4(0x2bb)]=_0x5d1aa4(0x200),_0x35833f[_0x5d1aa4(0x1b4)]='×',_0x35833f['addEventListener'](_0x5d1aa4(0x256),function(_0xee561f){var _0x12ab1f=_0x5d1aa4;_0xee561f[_0x12ab1f(0x2a1)](),removeImg(_0x2b233a);}),_0x512500['appendChild'](_0x35833f),currentImages[_0x2b233a]=_0x1b2097,baseItem[_0x5d1aa4(0x2b1)]=currentImages[_0x5d1aa4(0x2a6)](function(_0x26a524){return _0x26a524;});},_0x1ef3c8[_0x427822(0x22a)](_0x1b2097);});}(_0x301a72));}}function initializeFormIsSoldIsBought(_0x3f7efe=0x0){var _0x5ecf72=_0x5e183d;let _0x4371df,_0x121e59;if(_0x3f7efe!=0x0){const _0x5b71b1=products[_0x5ecf72(0x1dd)](_0x22bbe1=>_0x22bbe1['id']==_0x3f7efe);_0x4371df=_0x5b71b1[_0x5ecf72(0x24c)]==0x1||_0x5b71b1[_0x5ecf72(0x24c)]==!![]?!![]:![],_0x121e59=_0x5b71b1['setItemIsSold']==0x1||_0x5b71b1[_0x5ecf72(0x25f)]==!![]?!![]:![];}else _0x4371df=!![],_0x121e59=!![];document[_0x5ecf72(0x1a5)](_0x5ecf72(0x257))[_0x5ecf72(0x1fe)]=_0x4371df,document[_0x5ecf72(0x1a5)](_0x5ecf72(0x261))[_0x5ecf72(0x1fe)]=_0x121e59,baseItem['setItemIsBought']=_0x4371df,baseItem[_0x5ecf72(0x25f)]=_0x121e59;}function initializeFormInputsBasic(_0x4658d3=0x0){var _0x26e9c6=_0x5e183d;let _0xeeb4ed,_0x3d595e,_0x5dc510,_0x344be4,_0xfcb6d8,_0x5bc7e6;if(_0x4658d3!=0x0){const _0x21c151=products[_0x26e9c6(0x1dd)](_0x58faea=>_0x58faea['id']==_0x4658d3);_0xeeb4ed=_0x21c151['setItemType']??'1',_0x3d595e=_0x21c151[_0x26e9c6(0x245)],_0x5dc510=_0x21c151[_0x26e9c6(0x20e)],_0x344be4=_0x21c151[_0x26e9c6(0x1c1)],_0xfcb6d8=_0x21c151[_0x26e9c6(0x290)]??'',_0x5bc7e6=_0x21c151[_0x26e9c6(0x1f9)];}else _0xeeb4ed='1',_0x3d595e=getNextCode(products),_0x5dc510='',_0x344be4='',_0xfcb6d8='',_0x5bc7e6='';document[_0x26e9c6(0x1a5)](_0x26e9c6(0x27f))[_0x26e9c6(0x214)]=_0xeeb4ed,document[_0x26e9c6(0x1a5)](_0x26e9c6(0x27c))[_0x26e9c6(0x214)]=_0x3d595e,document[_0x26e9c6(0x1a5)](_0x26e9c6(0x2b3))['value']=_0x5dc510,document[_0x26e9c6(0x1a5)](_0x26e9c6(0x20b))[_0x26e9c6(0x214)]=_0x344be4,document['getElementById'](_0x26e9c6(0x1b3))[_0x26e9c6(0x214)]=_0xfcb6d8,document[_0x26e9c6(0x1a5)](_0x26e9c6(0x280))['value']=_0x5bc7e6,baseItem[_0x26e9c6(0x2b2)]=_0xeeb4ed,baseItem[_0x26e9c6(0x1ed)]=_0x3d595e,baseItem['setItemName']=_0x5dc510,baseItem[_0x26e9c6(0x1c1)]=_0x344be4,baseItem[_0x26e9c6(0x29c)]=_0xfcb6d8,baseItem[_0x26e9c6(0x1f9)]=_0x5bc7e6,document[_0x26e9c6(0x1a5)]('newItem_addToCart')[_0x26e9c6(0x1fe)]=![];}function initializeFormTax(_0x1a5382=0x0){var _0x4ee51d=_0x5e183d;let _0x524691;if(_0x1a5382!=0x0){const _0x243daf=products[_0x4ee51d(0x1dd)](_0x5ca914=>_0x5ca914['id']==_0x1a5382);_0x524691=_0x243daf[_0x4ee51d(0x2c9)];}else _0x524691=myCompany[_0x4ee51d(0x26d)];const _0x3d6c01=document[_0x4ee51d(0x1a5)]('inputItemTax');_0x3d6c01[_0x4ee51d(0x214)]=_0x524691,baseItem[_0x4ee51d(0x1a4)]=_0x524691;const _0x58472a=company[0x0][_0x4ee51d(0x1ac)][_0x4ee51d(0x1dd)](_0x40893a=>_0x40893a[_0x4ee51d(0x2c9)]==_0x524691)?.[_0x4ee51d(0x1ff)]||0x0,_0x2d66ac=company[0x0]['setImpuestos'][_0x4ee51d(0x1dd)](_0x2e749a=>_0x2e749a[_0x4ee51d(0x2c9)]==_0x524691)?.[_0x4ee51d(0x233)]||0x0;baseItem[_0x4ee51d(0x22f)]=_0x58472a,baseItem['setItemTaxValue']=_0x2d66ac;}function _0x2330(_0x6aebf1,_0x145899){var _0x3ed887=_0x7e40();return _0x2330=function(_0x381ac6,_0x373e55){_0x381ac6=_0x381ac6-0x1a3;var _0x4a0325=_0x3ed887[_0x381ac6];return _0x4a0325;},_0x2330(_0x6aebf1,_0x145899);}function initializeFormCategoriesBrands(_0x118e4a=0x0){var _0x2c4fa0=_0x5e183d;baseItem[_0x2c4fa0(0x207)]=[],baseItem[_0x2c4fa0(0x269)]=[],document['querySelector'](_0x2c4fa0(0x1d9))[_0x2c4fa0(0x295)]='',document[_0x2c4fa0(0x268)](_0x2c4fa0(0x235))[_0x2c4fa0(0x295)]='',document[_0x2c4fa0(0x268)](_0x2c4fa0(0x211))[_0x2c4fa0(0x295)]='',document[_0x2c4fa0(0x268)](_0x2c4fa0(0x2ca))[_0x2c4fa0(0x295)]='';const _0x1dd0af=uniqueValuesArray(_0x2c4fa0(0x1ef),_0x2c4fa0(0x1ef),products),_0x46b491=uniqueValuesArray(_0x2c4fa0(0x1d6),'setMarca',products),_0x54a6a7=initMulti(_0x2c4fa0(0x29b),_0x1dd0af),_0x5c5af7=initMulti(_0x2c4fa0(0x1f8),_0x46b491);document[_0x2c4fa0(0x1a5)](_0x2c4fa0(0x29b))['addEventListener']('selectionChange',function(_0x176970){var _0x3b9940=_0x2c4fa0;baseItem['setItemCategories']=_0x54a6a7[_0x3b9940(0x22d)](_0xb7d6e6=>_0xb7d6e6[_0x3b9940(0x259)]);}),document[_0x2c4fa0(0x1a5)](_0x2c4fa0(0x1f8))['addEventListener']('selectionChange',function(_0x3b21c1){var _0x2f77b2=_0x2c4fa0;baseItem[_0x2f77b2(0x269)]=_0x5c5af7['map'](_0x3f913a=>_0x3f913a[_0x2f77b2(0x259)]);});if(_0x118e4a!=0x0){const _0x267aa2=products['find'](_0x59a34a=>_0x59a34a['id']==_0x118e4a);if(_0x267aa2[_0x2c4fa0(0x1ef)]){const _0x34736a=document[_0x2c4fa0(0x1a5)](_0x2c4fa0(0x29b)),_0x35b1ab=Array['from'](_0x34736a[_0x2c4fa0(0x1c6)]('.options_list\x20div'))[_0x2c4fa0(0x1dd)](_0x187d5b=>_0x187d5b[_0x2c4fa0(0x273)][_0x2c4fa0(0x289)]==_0x267aa2[_0x2c4fa0(0x1ef)]);_0x35b1ab&&_0x35b1ab[_0x2c4fa0(0x256)]();}if(_0x267aa2['setMarca']){const _0x31c311=document[_0x2c4fa0(0x1a5)]('newItem_brands_select'),_0x57e3d5=Array[_0x2c4fa0(0x2b9)](_0x31c311[_0x2c4fa0(0x1c6)](_0x2c4fa0(0x271)))[_0x2c4fa0(0x1dd)](_0x50326b=>_0x50326b['dataset'][_0x2c4fa0(0x289)]==_0x267aa2[_0x2c4fa0(0x1d6)]);_0x57e3d5&&_0x57e3d5[_0x2c4fa0(0x256)]();}}}function initializeFormUnits(){var _0x384639=_0x5e183d;unitCount=0x0,document['getElementById'](_0x384639(0x291))[_0x384639(0x295)]='',baseItem[_0x384639(0x1ae)]=[];var _0x1362a7=uniqueValuesArray('setUnitCode',_0x384639(0x2bd),myCompany[_0x384639(0x2c1)]);addUnit('',_0x1362a7[0x3a]&&_0x1362a7[0x3a][_0x384639(0x259)],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x2d254b=_0x5e183d;prodC['innerHTML']='',baseItem[_0x2d254b(0x27d)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x2f243e=_0x5e183d;branchesC[_0x2f243e(0x295)]='',baseItem[_0x2f243e(0x25b)]=[];const _0x207ae2=getAllWarehouses();_0x207ae2[_0x2f243e(0x28f)](function(_0x3e2f78){var _0x4092e8=_0x2f243e,_0x5f0df1=document['createElement'](_0x4092e8(0x281));_0x5f0df1[_0x4092e8(0x295)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+_0x4092e8(0x2bc)+_0x3e2f78[_0x4092e8(0x1e1)]+_0x4092e8(0x1e7)+_0x3e2f78[_0x4092e8(0x25e)]+'</label>'+_0x4092e8(0x265)+'<div\x20class=\x22newItem_col\x22>'+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x3e2f78[_0x4092e8(0x1e1)]+'\x22>'+_0x4092e8(0x265)+_0x4092e8(0x2cd)+_0x4092e8(0x237)+_0x3e2f78['setWarehouseId']+'\x22>'+'</div>'+_0x4092e8(0x265),branchesC[_0x4092e8(0x206)](_0x5f0df1),_0x5f0df1[_0x4092e8(0x1c6)](_0x4092e8(0x2be))[_0x4092e8(0x28f)](function(_0x1e1df0){var _0x190bee=_0x4092e8;_0x1e1df0[_0x190bee(0x2ce)](_0x190bee(0x2be),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x8fce96=_0x5e183d;baseItem['setItemVariantName']='',baseItem[_0x8fce96(0x1e9)]={},vgC[_0x8fce96(0x295)]='',varContainer[_0x8fce96(0x295)]='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x24d03d,_0x25abbe,_0x8dc201=![]){var _0x2e62df=_0x5e183d;await storeOfflineProduct({'apiPOSsendOffline':'1','setTipoOperacion':_0x2e62df(0x1bd),'setToken':company[0x0][_0x2e62df(0x1f2)],'setWebhook':company[0x0][_0x2e62df(0x1aa)],'newItems':_0x25abbe}),products[_0x2e62df(0x23c)](..._0x24d03d),await RefreshProductsToIndexedDB(),hideLoadingModal(),ntfShow(_0x2e62df(0x24e)),_0x8dc201?(fileInput[_0x2e62df(0x214)]='',uploadBtn['disabled']=!![],statusDiv[_0x2e62df(0x1b4)]='',progressBar[_0x2e62df(0x1e2)][_0x2e62df(0x1c8)]=_0x2e62df(0x1e4),progressBar['value']=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}