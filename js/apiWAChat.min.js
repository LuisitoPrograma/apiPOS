/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.8
*/

const _0xc40b9d=_0x2e98;function _0x2e98(_0x5e921a,_0x10f1ea){const _0x2d4736=_0x1953();return _0x2e98=function(_0x431487,_0x2875e9){_0x431487=_0x431487-0x12f;let _0x3ce37a=_0x2d4736[_0x431487];return _0x3ce37a;},_0x2e98(_0x5e921a,_0x10f1ea);}(function(_0x41a586,_0x2e59a8){const _0x3b3238=_0x2e98,_0x24716e=_0x41a586();while(!![]){try{const _0x94ecea=parseInt(_0x3b3238(0x14b))/0x1+-parseInt(_0x3b3238(0x15a))/0x2+-parseInt(_0x3b3238(0x13c))/0x3*(-parseInt(_0x3b3238(0x150))/0x4)+parseInt(_0x3b3238(0x159))/0x5*(-parseInt(_0x3b3238(0x173))/0x6)+parseInt(_0x3b3238(0x161))/0x7*(parseInt(_0x3b3238(0x171))/0x8)+-parseInt(_0x3b3238(0x172))/0x9*(parseInt(_0x3b3238(0x15e))/0xa)+parseInt(_0x3b3238(0x12f))/0xb;if(_0x94ecea===_0x2e59a8)break;else _0x24716e['push'](_0x24716e['shift']());}catch(_0x484e22){_0x24716e['push'](_0x24716e['shift']());}}}(_0x1953,0x38643));const selectCredentialsApiWAChat=document['getElementById'](_0xc40b9d(0x148)),loginPanel=document[_0xc40b9d(0x152)](_0xc40b9d(0x14a)),chatPanel=document[_0xc40b9d(0x152)](_0xc40b9d(0x160)),qrImg=document['getElementById'](_0xc40b9d(0x16e)),overlay=document[_0xc40b9d(0x152)](_0xc40b9d(0x141));let qrTimeout;function _0x1953(){const _0x2cf241=['apply','change','https://','flex','dispatchEvent','setCredentialsApiWAChatStatus','BranchChangeComplete','qr-img','table','includes','8eVNTws','27VKWVQH','2766iEvORf','setCredentialsApiWAChatPort','setFloorId','reload','setCredentialsApiWAChatSubdomain','1693593mjYawe','onload','constructor','return\x20(function()\x20','bind','WarehouseChangeComplete','setBranchId','setBranchDefault','setAuthToken','EnvironmentChangeComplete','toLowerCase','__proto__','json','1082619mZBBFq','.btn-logout','style','hidden','visibility','qr-overlay','visible','querySelector','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','prototype','addEventListener','./img/apiPOS.png','setCredentialsApiWAChat','src','loginPanel','136760kRYMlG','value','error','none','log','4kCZUVT','/qr','getElementById','setWarehouseId','exception','ya\x20conectado','(((.+)+)+)+$','display','status','895HvnbFh','881942brCXJh','click','console','search','86910KzzYah','warn','chatPanel','902622dgDBVK','info','init','/wa/','length','toString'];_0x1953=function(){return _0x2cf241;};return _0x1953();}const validSeconds=0xa;function showLogin(){const _0x1ccb59=_0xc40b9d;loginPanel[_0x1ccb59(0x13e)][_0x1ccb59(0x157)]=_0x1ccb59(0x16a),chatPanel['style']['visibility']=_0x1ccb59(0x13f);}function showChat(){const _0x1b9fd3=_0xc40b9d;loginPanel[_0x1b9fd3(0x13e)][_0x1b9fd3(0x157)]=_0x1b9fd3(0x14e),chatPanel[_0x1b9fd3(0x13e)][_0x1b9fd3(0x140)]=_0x1b9fd3(0x142);}async function initQRApiWAChat(_0x16a934,_0x28ac51){const _0x5dbedd=_0xc40b9d,_0x4f1347=(function(){let _0x2a5acf=!![];return function(_0x50e7ec,_0xea21bf){const _0x55faa8=_0x2a5acf?function(){const _0x4f1079=_0x2e98;if(_0xea21bf){const _0x2e5121=_0xea21bf[_0x4f1079(0x167)](_0x50e7ec,arguments);return _0xea21bf=null,_0x2e5121;}}:function(){};return _0x2a5acf=![],_0x55faa8;};}()),_0x584ac3=_0x4f1347(this,function(){const _0x24a25f=_0x2e98;return _0x584ac3['toString']()[_0x24a25f(0x15d)](_0x24a25f(0x156))['toString']()['constructor'](_0x584ac3)[_0x24a25f(0x15d)]('(((.+)+)+)+$');});_0x584ac3();const _0x4fe845=(function(){let _0x338f61=!![];return function(_0x55ab75,_0x54bf6d){const _0x203efb=_0x338f61?function(){if(_0x54bf6d){const _0x3aeb5a=_0x54bf6d['apply'](_0x55ab75,arguments);return _0x54bf6d=null,_0x3aeb5a;}}:function(){};return _0x338f61=![],_0x203efb;};}()),_0x357f49=_0x4fe845(this,function(){const _0x5102ff=_0x2e98,_0x981265=function(){const _0x191196=_0x2e98;let _0x501d23;try{_0x501d23=Function(_0x191196(0x132)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xdf5db0){_0x501d23=window;}return _0x501d23;},_0x416cf1=_0x981265(),_0x7263e3=_0x416cf1['console']=_0x416cf1[_0x5102ff(0x15c)]||{},_0x1d6121=[_0x5102ff(0x14f),_0x5102ff(0x15f),_0x5102ff(0x162),_0x5102ff(0x14d),_0x5102ff(0x154),_0x5102ff(0x16f),'trace'];for(let _0x33f9e2=0x0;_0x33f9e2<_0x1d6121[_0x5102ff(0x165)];_0x33f9e2++){const _0x3d4b0e=_0x4fe845[_0x5102ff(0x131)][_0x5102ff(0x145)][_0x5102ff(0x133)](_0x4fe845),_0x57657e=_0x1d6121[_0x33f9e2],_0x14db22=_0x7263e3[_0x57657e]||_0x3d4b0e;_0x3d4b0e[_0x5102ff(0x13a)]=_0x4fe845[_0x5102ff(0x133)](_0x4fe845),_0x3d4b0e[_0x5102ff(0x166)]=_0x14db22[_0x5102ff(0x166)]['bind'](_0x14db22),_0x7263e3[_0x57657e]=_0x3d4b0e;}});_0x357f49();const _0x4d6320=selectCredentialsApiWAChat[_0x5dbedd(0x14c)],_0x4719dc=getCredentialsApiWAChat(_0x4d6320);if(!_0x4719dc){ntfShow('Credenciales\x20no\x20encontradas');return;}const _0x37f4f6=_0x4719dc[_0x5dbedd(0x177)],_0x41183e=_0x4719dc[_0x5dbedd(0x174)];if(_0x16a934==='display')clearTimeout(qrTimeout),overlay['style'][_0x5dbedd(0x157)]=_0x5dbedd(0x14e),qrImg[_0x5dbedd(0x149)]=_0x28ac51,qrTimeout=setTimeout(async()=>{const _0x439a8d=_0x5dbedd;try{const _0x485eac=await fetch(_0x439a8d(0x169)+_0x37f4f6+_0x439a8d(0x164)+_0x41183e+_0x439a8d(0x151),{'headers':{'x-auth-token':myCompany[_0x439a8d(0x137)]}}),_0x1d21e2=await _0x485eac[_0x439a8d(0x13b)]();_0x1d21e2[_0x439a8d(0x158)]&&_0x1d21e2[_0x439a8d(0x158)]['toLowerCase']()['includes']('ya\x20conectado')?(showChat(),_0x4719dc['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x439a8d(0x13e)]['display']=_0x439a8d(0x16a),_0x4719dc[_0x439a8d(0x16c)]=0x0);const _0x3d7adf=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3d7adf);}catch(_0x42516a){console[_0x439a8d(0x14d)](_0x439a8d(0x144),_0x42516a),overlay[_0x439a8d(0x13e)][_0x439a8d(0x157)]='flex';}},validSeconds*0x3e8);else{if(_0x16a934===_0x5dbedd(0x163))try{const _0x1a15ec=await fetch(_0x5dbedd(0x169)+_0x37f4f6+_0x5dbedd(0x164)+_0x41183e+_0x5dbedd(0x151),{'headers':{'x-auth-token':myCompany[_0x5dbedd(0x137)]}}),_0x531ef2=await _0x1a15ec[_0x5dbedd(0x13b)]();if(_0x531ef2[_0x5dbedd(0x158)]&&_0x531ef2[_0x5dbedd(0x158)][_0x5dbedd(0x139)]()[_0x5dbedd(0x170)](_0x5dbedd(0x155)))showChat(),_0x4719dc[_0x5dbedd(0x16c)]=0x1;else _0x531ef2['qr']&&(showLogin(),await initQRApiWAChat('display',_0x531ef2['qr']),_0x4719dc[_0x5dbedd(0x16c)]=0x0);const _0x395249=await createCartStore('');await saveCompanyToIndexedDB(company,_0x395249);}catch(_0x88a10){console[_0x5dbedd(0x14d)](_0x88a10);}}}overlay['addEventListener'](_0xc40b9d(0x15b),()=>initQRApiWAChat(_0xc40b9d(0x163))),window[_0xc40b9d(0x130)]=function(){const _0xf9f9ca=_0xc40b9d,_0x17cfa4=0x4;loadLoginContent(_0xf9f9ca(0x147)),setUserNameGet(),setEventBtnAccess();const _0x2e9fb7=document[_0xf9f9ca(0x143)](_0xf9f9ca(0x13d));_0x2e9fb7&&_0x2e9fb7[_0xf9f9ca(0x146)](_0xf9f9ca(0x15b),function(){logoutReload(0x0,_0x17cfa4);}),document[_0xf9f9ca(0x152)]('setCredentialsApiWAChat')[_0xf9f9ca(0x146)]('change',async function(){const _0x12ce3a=_0xf9f9ca;saveCredentialsApiWAChatInCompany();const _0x455551=await createCartStore('');await saveCompanyToIndexedDB(company,_0x455551),location[_0x12ce3a(0x176)]();}),document[_0xf9f9ca(0x152)](_0xf9f9ca(0x135))[_0xf9f9ca(0x146)]('change',async function(){const _0x545868=_0xf9f9ca,_0x29644b=parseInt(this[_0x545868(0x14c)]);myCompany[_0x545868(0x136)]=_0x29644b,saveCredentialsApiWAChatInCompany();const _0x12a5ed=await createCartStore('');await saveCompanyToIndexedDB(company,_0x12a5ed),await cargarPisos(_0x29644b),await waitForEvent(_0x545868(0x175),_0x545868(0x138)),await cargarAlmacenes(_0x29644b),await waitForEvent(_0x545868(0x153),_0x545868(0x134)),document[_0x545868(0x16b)](new Event(_0x545868(0x16d))),ntf_initNotifications();}),document[_0xf9f9ca(0x152)](_0xf9f9ca(0x153))[_0xf9f9ca(0x146)](_0xf9f9ca(0x168),async function(){const _0xe0192d=_0xf9f9ca;document[_0xe0192d(0x16b)](new Event(_0xe0192d(0x134)));}),document['getElementById']('setFloorId')[_0xf9f9ca(0x146)](_0xf9f9ca(0x168),async function(_0x43e19c){const _0x520448=_0xf9f9ca;document[_0x520448(0x16b)](new Event('EnvironmentChangeComplete'));}),loadCartAndSetTabCount(_0x17cfa4);};