/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.5
*/

function _0xbe19(){const _0x563b2a=['dispatchEvent','qr-overlay','(((.+)+)+)+$','querySelector','1773877mymklj','includes','13078668CkQVnj','flex','5EjjngD','./img/apiPOS.png','table','json','setWarehouseId','trace','none','error','status','constructor','15cnYiZV','length','setCredentialsApiWAChatPort','style','Credenciales\x20no\x20encontradas','ya\x20conectado','hidden','44OoaWbV','addEventListener','.btn-logout','value','click','https://','visibility','toString','bind','setAuthToken','8117810ZKmgOU','warn','change','toLowerCase','/wa/','info','then','{}.constructor(\x22return\x20this\x22)(\x20)','search','193786IKMVIB','11jEuodk','setCredentialsApiWAChatSubdomain','90864JfXHpM','prototype','setFloorId','exception','setBranchId','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','26QEUYsd','setCredentialsApiWAChatStatus','display','/qr','apply','onload','chatPanel','catch','719172YZSGPJ','getElementById','369upKPBZ','78405lQpqXl'];_0xbe19=function(){return _0x563b2a;};return _0xbe19();}const _0x4f378b=_0x2893;(function(_0x3f16b5,_0x1db108){const _0x5d3946=_0x2893,_0x2a8bc4=_0x3f16b5();while(!![]){try{const _0xa8ad59=parseInt(_0x5d3946(0x9a))/0x1*(parseInt(_0x5d3946(0xbe))/0x2)+parseInt(_0x5d3946(0xd2))/0x3*(-parseInt(_0x5d3946(0xab))/0x4)+-parseInt(_0x5d3946(0xa4))/0x5*(parseInt(_0x5d3946(0xcf))/0x6)+-parseInt(_0x5d3946(0xd7))/0x7+-parseInt(_0x5d3946(0xc1))/0x8*(parseInt(_0x5d3946(0xd1))/0x9)+-parseInt(_0x5d3946(0xb5))/0xa*(parseInt(_0x5d3946(0xbf))/0xb)+parseInt(_0x5d3946(0xd9))/0xc*(parseInt(_0x5d3946(0xc7))/0xd);if(_0xa8ad59===_0x1db108)break;else _0x2a8bc4['push'](_0x2a8bc4['shift']());}catch(_0x248077){_0x2a8bc4['push'](_0x2a8bc4['shift']());}}}(_0xbe19,0x76b9e));const _0x156035=(function(){let _0xca0e3b=!![];return function(_0x23be21,_0x35d1c5){const _0x28d25a=_0xca0e3b?function(){const _0x42c757=_0x2893;if(_0x35d1c5){const _0x15c485=_0x35d1c5[_0x42c757(0xcb)](_0x23be21,arguments);return _0x35d1c5=null,_0x15c485;}}:function(){};return _0xca0e3b=![],_0x28d25a;};}()),_0x5580d0=_0x156035(this,function(){const _0x20d645=_0x2893;return _0x5580d0[_0x20d645(0xb2)]()[_0x20d645(0xbd)](_0x20d645(0xd5))[_0x20d645(0xb2)]()[_0x20d645(0xa3)](_0x5580d0)['search'](_0x20d645(0xd5));});_0x5580d0();const _0x4df9e9=(function(){let _0x1b4176=!![];return function(_0x25841b,_0x140050){const _0x5e616a=_0x1b4176?function(){const _0x137ea8=_0x2893;if(_0x140050){const _0x25f7d1=_0x140050[_0x137ea8(0xcb)](_0x25841b,arguments);return _0x140050=null,_0x25f7d1;}}:function(){};return _0x1b4176=![],_0x5e616a;};}()),_0x109ddf=_0x4df9e9(this,function(){const _0x307d04=_0x2893,_0x592709=function(){const _0x38d147=_0x2893;let _0x544bcd;try{_0x544bcd=Function('return\x20(function()\x20'+_0x38d147(0xbc)+');')();}catch(_0x5d267b){_0x544bcd=window;}return _0x544bcd;},_0xa113d=_0x592709(),_0x261d11=_0xa113d['console']=_0xa113d['console']||{},_0x4d02ff=['log',_0x307d04(0xb6),_0x307d04(0xba),'error',_0x307d04(0xc4),_0x307d04(0x9c),_0x307d04(0x9f)];for(let _0x26c7e6=0x0;_0x26c7e6<_0x4d02ff[_0x307d04(0xa5)];_0x26c7e6++){const _0x293874=_0x4df9e9['constructor'][_0x307d04(0xc2)][_0x307d04(0xb3)](_0x4df9e9),_0x49ad0d=_0x4d02ff[_0x26c7e6],_0x37f76d=_0x261d11[_0x49ad0d]||_0x293874;_0x293874['__proto__']=_0x4df9e9[_0x307d04(0xb3)](_0x4df9e9),_0x293874[_0x307d04(0xb2)]=_0x37f76d[_0x307d04(0xb2)][_0x307d04(0xb3)](_0x37f76d),_0x261d11[_0x49ad0d]=_0x293874;}});_0x109ddf();const selectCredentialsApiWAChat=document['getElementById']('setCredentialsApiWAChat'),loginPanel=document[_0x4f378b(0xd0)]('loginPanel'),chatPanel=document[_0x4f378b(0xd0)](_0x4f378b(0xcd)),qrImg=document[_0x4f378b(0xd0)]('qr-img'),overlay=document[_0x4f378b(0xd0)](_0x4f378b(0xd4));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x50a0d1=_0x4f378b;loginPanel[_0x50a0d1(0xa7)][_0x50a0d1(0xc9)]='flex',chatPanel[_0x50a0d1(0xa7)][_0x50a0d1(0xb1)]=_0x50a0d1(0xaa);}function _0x2893(_0xeeba6d,_0x213e28){const _0xe547da=_0xbe19();return _0x2893=function(_0x109ddf,_0x4df9e9){_0x109ddf=_0x109ddf-0x99;let _0x3bb6c6=_0xe547da[_0x109ddf];return _0x3bb6c6;},_0x2893(_0xeeba6d,_0x213e28);}function showChat(){const _0x5592d9=_0x4f378b;loginPanel['style']['display']=_0x5592d9(0xa0),chatPanel[_0x5592d9(0xa7)][_0x5592d9(0xb1)]='visible';}async function displayQR(_0x3c1781){const _0xf006a1=_0x4f378b,_0x2e02a8=selectCredentialsApiWAChat[_0xf006a1(0xae)],_0x339a7c=getCredentialsApiWAChat(_0x2e02a8);if(_0x339a7c){const _0x22d43b=_0x339a7c[_0xf006a1(0xc0)],_0x153e9f=_0x339a7c['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay[_0xf006a1(0xa7)][_0xf006a1(0xc9)]='none',qrImg['src']=_0x3c1781,qrTimeout=setTimeout(()=>{const _0x164c33=_0xf006a1;fetch(_0x164c33(0xb0)+_0x22d43b+_0x164c33(0xb9)+_0x153e9f+_0x164c33(0xca),{'headers':{'x-auth-token':myCompany[_0x164c33(0xb4)]}})['then'](async _0x1ad030=>_0x1ad030[_0x164c33(0x9d)]())[_0x164c33(0xbb)](async _0x347d79=>{const _0x5696e4=_0x164c33;_0x347d79[_0x5696e4(0xa2)]&&_0x347d79['status'][_0x5696e4(0xb8)]()[_0x5696e4(0xd8)](_0x5696e4(0xa9))?(showChat(),_0x339a7c[_0x5696e4(0xc8)]=0x1):(overlay[_0x5696e4(0xa7)][_0x5696e4(0xc9)]=_0x5696e4(0x99),_0x339a7c['setCredentialsApiWAChatStatus']=0x0);const _0xb848d7=await createCartStore('');await saveCompanyToIndexedDB(company,_0xb848d7);})['catch'](_0x5bc462=>{const _0x53758c=_0x164c33;console['error'](_0x53758c(0xc6),_0x5bc462),overlay[_0x53758c(0xa7)]['display']=_0x53758c(0x99);});},validSeconds*0x3e8);}else ntfShow(_0xf006a1(0xa8));}async function init(){const _0x3c4828=_0x4f378b,_0x669475=selectCredentialsApiWAChat[_0x3c4828(0xae)],_0x8888a6=getCredentialsApiWAChat(_0x669475);if(_0x8888a6){const _0x4df76e=_0x8888a6['setCredentialsApiWAChatSubdomain'],_0x3fdbcd=_0x8888a6[_0x3c4828(0xa6)];fetch(_0x3c4828(0xb0)+_0x4df76e+'/wa/'+_0x3fdbcd+_0x3c4828(0xca),{'headers':{'x-auth-token':myCompany[_0x3c4828(0xb4)]}})[_0x3c4828(0xbb)](async _0x6c1213=>_0x6c1213[_0x3c4828(0x9d)]())['then'](async _0x31086a=>{const _0x1b7bad=_0x3c4828;if(_0x31086a[_0x1b7bad(0xa2)]&&_0x31086a[_0x1b7bad(0xa2)][_0x1b7bad(0xb8)]()[_0x1b7bad(0xd8)](_0x1b7bad(0xa9)))showChat(),_0x8888a6[_0x1b7bad(0xc8)]=0x1;else _0x31086a['qr']&&(showLogin(),displayQR(_0x31086a['qr']),_0x8888a6[_0x1b7bad(0xc8)]=0x0);const _0x5d2b6a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5d2b6a);})[_0x3c4828(0xce)](console[_0x3c4828(0xa1)]);}else ntfShow(_0x3c4828(0xa8));}overlay[_0x4f378b(0xac)](_0x4f378b(0xaf),init),window[_0x4f378b(0xcc)]=function(){const _0x5834b0=_0x4f378b,_0x8a4f67=0x4;loadLoginContent(_0x5834b0(0x9b)),setUserNameGet(),setEventBtnAccess();const _0x46cc7b=document[_0x5834b0(0xd6)](_0x5834b0(0xad));_0x46cc7b&&_0x46cc7b[_0x5834b0(0xac)](_0x5834b0(0xaf),function(){logoutReload(0x0,_0x8a4f67);}),document[_0x5834b0(0xd0)](_0x5834b0(0xc5))['addEventListener']('change',async function(){const _0x2fe2b9=_0x5834b0,_0x533827=parseInt(this[_0x2fe2b9(0xae)]);myCompany['setBranchDefault']=_0x533827,saveCredentialsApiWAChatInCompany();const _0x54f735=await createCartStore('');await saveCompanyToIndexedDB(company,_0x54f735),cargarAlmacenes(_0x533827),setTimeout(()=>{const _0x179423=_0x2fe2b9;document[_0x179423(0xd0)](_0x179423(0x9e))[_0x179423(0xd3)](new Event(_0x179423(0xb7)));},0x64),cargarPisos(_0x533827),setTimeout(()=>{const _0x13b88b=_0x2fe2b9;document[_0x13b88b(0xd0)](_0x13b88b(0xc3))[_0x13b88b(0xd3)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x8a4f67);};