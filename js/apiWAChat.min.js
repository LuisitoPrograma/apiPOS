/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.9
*/

const _0x5232ad=_0x1a5c;(function(_0x2cdc55,_0x270611){const _0x21cde2=_0x1a5c,_0x11ab76=_0x2cdc55();while(!![]){try{const _0x59b07f=parseInt(_0x21cde2(0x1cb))/0x1*(parseInt(_0x21cde2(0x1e4))/0x2)+-parseInt(_0x21cde2(0x1c4))/0x3+-parseInt(_0x21cde2(0x1fc))/0x4+-parseInt(_0x21cde2(0x1c8))/0x5*(-parseInt(_0x21cde2(0x1dc))/0x6)+-parseInt(_0x21cde2(0x1c5))/0x7*(parseInt(_0x21cde2(0x1eb))/0x8)+-parseInt(_0x21cde2(0x1f0))/0x9*(-parseInt(_0x21cde2(0x1e0))/0xa)+-parseInt(_0x21cde2(0x1e5))/0xb;if(_0x59b07f===_0x270611)break;else _0x11ab76['push'](_0x11ab76['shift']());}catch(_0x2d1453){_0x11ab76['push'](_0x11ab76['shift']());}}}(_0x502f,0x81b23));const selectCredentialsApiWAChat=document['getElementById'](_0x5232ad(0x1d6)),loginPanel=document[_0x5232ad(0x1fa)](_0x5232ad(0x206)),chatPanel=document[_0x5232ad(0x1fa)](_0x5232ad(0x1d2)),qrImg=document[_0x5232ad(0x1fa)](_0x5232ad(0x1de)),overlay=document[_0x5232ad(0x1fa)](_0x5232ad(0x205));let qrTimeout;const validSeconds=0xa;function _0x1a5c(_0x4c28d2,_0x5e20a5){const _0x47f84a=_0x502f();return _0x1a5c=function(_0x3fc237,_0xbbc6a7){_0x3fc237=_0x3fc237-0x1c1;let _0x505331=_0x47f84a[_0x3fc237];return _0x505331;},_0x1a5c(_0x4c28d2,_0x5e20a5);}function showLogin(){const _0x16e2f4=_0x5232ad;loginPanel[_0x16e2f4(0x1f7)]['display']=_0x16e2f4(0x202),chatPanel[_0x16e2f4(0x1f7)][_0x16e2f4(0x1c6)]=_0x16e2f4(0x1d8);}function showChat(){const _0x1934f9=_0x5232ad;loginPanel[_0x1934f9(0x1f7)]['display']=_0x1934f9(0x1f3),chatPanel[_0x1934f9(0x1f7)][_0x1934f9(0x1c6)]=_0x1934f9(0x1d3);}async function initQRApiWAChat(_0x2a2d7c,_0x4aae1f){const _0x18d31a=_0x5232ad,_0x1e318f=(function(){let _0x587942=!![];return function(_0x5e7e9f,_0x16f01f){const _0x18a076=_0x587942?function(){const _0x24b30d=_0x1a5c;if(_0x16f01f){const _0x379850=_0x16f01f[_0x24b30d(0x1cd)](_0x5e7e9f,arguments);return _0x16f01f=null,_0x379850;}}:function(){};return _0x587942=![],_0x18a076;};}()),_0x141031=_0x1e318f(this,function(){const _0xf7f34b=_0x1a5c;return _0x141031[_0xf7f34b(0x1c2)]()[_0xf7f34b(0x1ea)](_0xf7f34b(0x204))[_0xf7f34b(0x1c2)]()['constructor'](_0x141031)[_0xf7f34b(0x1ea)](_0xf7f34b(0x204));});_0x141031();const _0x49f5b2=(function(){let _0x36ca6f=!![];return function(_0x577f7c,_0x8e8d4e){const _0x229507=_0x36ca6f?function(){const _0x2823eb=_0x1a5c;if(_0x8e8d4e){const _0x5ebf8f=_0x8e8d4e[_0x2823eb(0x1cd)](_0x577f7c,arguments);return _0x8e8d4e=null,_0x5ebf8f;}}:function(){};return _0x36ca6f=![],_0x229507;};}()),_0x4ef722=_0x49f5b2(this,function(){const _0x56e58f=_0x1a5c,_0x21a288=function(){const _0x28662c=_0x1a5c;let _0xf44524;try{_0xf44524=Function(_0x28662c(0x1e8)+_0x28662c(0x1ca)+');')();}catch(_0x31308e){_0xf44524=window;}return _0xf44524;},_0x56168d=_0x21a288(),_0x277d90=_0x56168d['console']=_0x56168d['console']||{},_0x3f7344=[_0x56e58f(0x1f4),_0x56e58f(0x1fd),_0x56e58f(0x1ec),_0x56e58f(0x1c3),'exception',_0x56e58f(0x1ed),_0x56e58f(0x1dd)];for(let _0x296c27=0x0;_0x296c27<_0x3f7344[_0x56e58f(0x1d4)];_0x296c27++){const _0x772c2c=_0x49f5b2[_0x56e58f(0x1d9)][_0x56e58f(0x1cf)][_0x56e58f(0x203)](_0x49f5b2),_0x5692ec=_0x3f7344[_0x296c27],_0x3bd684=_0x277d90[_0x5692ec]||_0x772c2c;_0x772c2c[_0x56e58f(0x200)]=_0x49f5b2[_0x56e58f(0x203)](_0x49f5b2),_0x772c2c['toString']=_0x3bd684[_0x56e58f(0x1c2)][_0x56e58f(0x203)](_0x3bd684),_0x277d90[_0x5692ec]=_0x772c2c;}});_0x4ef722();const _0x47a16e=selectCredentialsApiWAChat['value'],_0xa8fe4e=getCredentialsApiWAChat(_0x47a16e);if(!_0xa8fe4e){ntfShow(_0x18d31a(0x1f9));return;}const _0x4542ce=_0xa8fe4e['setCredentialsApiWAChatSubdomain'],_0x4f9037=_0xa8fe4e[_0x18d31a(0x1f8)];if(_0x2a2d7c===_0x18d31a(0x1cc))clearTimeout(qrTimeout),overlay[_0x18d31a(0x1f7)][_0x18d31a(0x1cc)]=_0x18d31a(0x1f3),qrImg[_0x18d31a(0x1d0)]=_0x4aae1f,qrTimeout=setTimeout(async()=>{const _0x55a2e3=_0x18d31a;try{const _0x18a47b=await fetch(_0x55a2e3(0x1e7)+_0x4542ce+_0x55a2e3(0x1fe)+_0x4f9037+'/qr',{'headers':{'x-auth-token':myCompany[_0x55a2e3(0x1f5)]}}),_0x9be925=await _0x18a47b[_0x55a2e3(0x1fb)]();_0x9be925[_0x55a2e3(0x201)]&&_0x9be925[_0x55a2e3(0x201)][_0x55a2e3(0x1df)]()[_0x55a2e3(0x1ef)]('ya\x20conectado')?(showChat(),_0xa8fe4e[_0x55a2e3(0x1d1)]=0x1):(overlay[_0x55a2e3(0x1f7)][_0x55a2e3(0x1cc)]=_0x55a2e3(0x202),_0xa8fe4e['setCredentialsApiWAChatStatus']=0x0);const _0x5982fa=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5982fa);}catch(_0x1aac3a){console[_0x55a2e3(0x1c3)](_0x55a2e3(0x1c7),_0x1aac3a),overlay[_0x55a2e3(0x1f7)][_0x55a2e3(0x1cc)]='flex';}},validSeconds*0x3e8);else{if(_0x2a2d7c==='init')try{const _0x235a5e=await fetch(_0x18d31a(0x1e7)+_0x4542ce+_0x18d31a(0x1fe)+_0x4f9037+_0x18d31a(0x1e2),{'headers':{'x-auth-token':myCompany[_0x18d31a(0x1f5)]}}),_0x413741=await _0x235a5e[_0x18d31a(0x1fb)]();if(_0x413741['status']&&_0x413741[_0x18d31a(0x201)][_0x18d31a(0x1df)]()[_0x18d31a(0x1ef)](_0x18d31a(0x1f1)))showChat(),_0xa8fe4e[_0x18d31a(0x1d1)]=0x1;else _0x413741['qr']&&(showLogin(),await initQRApiWAChat(_0x18d31a(0x1cc),_0x413741['qr']),_0xa8fe4e[_0x18d31a(0x1d1)]=0x0);const _0x65f0cc=await createCartStore('');await saveCompanyToIndexedDB(company,_0x65f0cc);}catch(_0x3f2b0a){console[_0x18d31a(0x1c3)](_0x3f2b0a);}}}function _0x502f(){const _0x42f67e=['setCredentialsApiWAChatStatus','chatPanel','visible','length','./img/apiPOS.png','setCredentialsApiWAChat','setFloorId','hidden','constructor','querySelector','click','6GexXGk','trace','qr-img','toLowerCase','40fkgEzY','change','/qr','BranchChangeComplete','2884IbtFut','4674703dSqjls','setWarehouseId','https://','return\x20(function()\x20','setBranchId','search','56nqVKJF','info','table','addEventListener','includes','1619118ehEwQf','ya\x20conectado','WarehouseChangeComplete','none','log','setAuthToken','init','style','setCredentialsApiWAChatPort','Credenciales\x20no\x20encontradas','getElementById','json','3173436eDbmiw','warn','/wa/','dispatchEvent','__proto__','status','flex','bind','(((.+)+)+)+$','qr-overlay','loginPanel','value','toString','error','671547oytTdX','606438TcEzEK','visibility','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','4679620vokhhk','EnvironmentChangeComplete','{}.constructor(\x22return\x20this\x22)(\x20)','641SQvdEo','display','apply','.btn-logout','prototype','src'];_0x502f=function(){return _0x42f67e;};return _0x502f();}overlay[_0x5232ad(0x1ee)](_0x5232ad(0x1db),()=>initQRApiWAChat(_0x5232ad(0x1f6))),window['onload']=function(){const _0x98f616=_0x5232ad,_0x11b691=0x4;loadLoginContent(_0x98f616(0x1d5)),setUserNameGet(),setEventBtnAccess();const _0x583214=document[_0x98f616(0x1da)](_0x98f616(0x1ce));_0x583214&&_0x583214[_0x98f616(0x1ee)]('click',function(){logoutReload(0x0,_0x11b691);}),document[_0x98f616(0x1fa)](_0x98f616(0x1e9))[_0x98f616(0x1ee)](_0x98f616(0x1e1),async function(){const _0x5db9ff=_0x98f616,_0x2f67c7=parseInt(this[_0x5db9ff(0x1c1)]);myCompany['setBranchDefault']=_0x2f67c7,saveCredentialsApiWAChatInCompany();const _0x6a3633=await createCartStore('');await saveCompanyToIndexedDB(company,_0x6a3633),await cargarPisos(_0x2f67c7),await waitForEvent('setFloorId',_0x5db9ff(0x1c9)),await cargarAlmacenes(_0x2f67c7),await waitForEvent(_0x5db9ff(0x1e6),_0x5db9ff(0x1f2)),document[_0x5db9ff(0x1ff)](new Event(_0x5db9ff(0x1e3))),ntf_initNotifications();}),document['getElementById']('setWarehouseId')['addEventListener']('change',async function(){const _0x1b9c55=_0x98f616;document[_0x1b9c55(0x1ff)](new Event(_0x1b9c55(0x1f2)));}),document[_0x98f616(0x1fa)](_0x98f616(0x1d7))[_0x98f616(0x1ee)](_0x98f616(0x1e1),async function(_0x1efa5c){const _0x481f53=_0x98f616;document[_0x481f53(0x1ff)](new Event(_0x481f53(0x1c9)));}),loadCartAndSetTabCount(_0x11b691);};