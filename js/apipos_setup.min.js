/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.3
*/

const _0x2611c9=_0x3acd;(function(_0x147204,_0x31af6b){const _0x42d56a=_0x3acd,_0x127408=_0x147204();while(!![]){try{const _0x43c2de=parseInt(_0x42d56a(0x211))/0x1+-parseInt(_0x42d56a(0x274))/0x2*(parseInt(_0x42d56a(0x350))/0x3)+-parseInt(_0x42d56a(0x203))/0x4+parseInt(_0x42d56a(0x34a))/0x5*(-parseInt(_0x42d56a(0x28e))/0x6)+-parseInt(_0x42d56a(0x29a))/0x7+parseInt(_0x42d56a(0x2d8))/0x8+-parseInt(_0x42d56a(0x2ec))/0x9*(-parseInt(_0x42d56a(0x20d))/0xa);if(_0x43c2de===_0x31af6b)break;else _0x127408['push'](_0x127408['shift']());}catch(_0x566d42){_0x127408['push'](_0x127408['shift']());}}}(_0x3116,0xa9e79));const _0x3b64d1=(function(){let _0x23e9ee=!![];return function(_0x32af9b,_0x49f03){const _0x2daa58=_0x23e9ee?function(){const _0x32308d=_0x3acd;if(_0x49f03){const _0x5ec439=_0x49f03[_0x32308d(0x342)](_0x32af9b,arguments);return _0x49f03=null,_0x5ec439;}}:function(){};return _0x23e9ee=![],_0x2daa58;};}()),_0x7e9f44=_0x3b64d1(this,function(){const _0x54e557=_0x3acd;return _0x7e9f44['toString']()[_0x54e557(0x1d9)](_0x54e557(0x315))['toString']()['constructor'](_0x7e9f44)[_0x54e557(0x1d9)](_0x54e557(0x315));});_0x7e9f44();const _0x357dff=(function(){let _0x119021=!![];return function(_0x3e1604,_0x3373c8){const _0x1ff866=_0x119021?function(){const _0x19dc8c=_0x3acd;if(_0x3373c8){const _0x7760fa=_0x3373c8[_0x19dc8c(0x342)](_0x3e1604,arguments);return _0x3373c8=null,_0x7760fa;}}:function(){};return _0x119021=![],_0x1ff866;};}()),_0x17fec4=_0x357dff(this,function(){const _0x48ff39=_0x3acd;let _0x1cf78c;try{const _0x34a4a4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1cf78c=_0x34a4a4();}catch(_0x9b5745){_0x1cf78c=window;}const _0x324009=_0x1cf78c[_0x48ff39(0x1b8)]=_0x1cf78c['console']||{},_0x224f06=[_0x48ff39(0x300),_0x48ff39(0x2a7),_0x48ff39(0x21c),_0x48ff39(0x2b2),'exception',_0x48ff39(0x1d5),'trace'];for(let _0x458a90=0x0;_0x458a90<_0x224f06['length'];_0x458a90++){const _0x2313e4=_0x357dff[_0x48ff39(0x297)][_0x48ff39(0x309)][_0x48ff39(0x321)](_0x357dff),_0xa488b2=_0x224f06[_0x458a90],_0x25c914=_0x324009[_0xa488b2]||_0x2313e4;_0x2313e4[_0x48ff39(0x2de)]=_0x357dff[_0x48ff39(0x321)](_0x357dff),_0x2313e4[_0x48ff39(0x28b)]=_0x25c914[_0x48ff39(0x28b)][_0x48ff39(0x321)](_0x25c914),_0x324009[_0xa488b2]=_0x2313e4;}});_0x17fec4();let myCompany,db=null,dbPromise=null,db_name=_0x2611c9(0x279),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x2611c9(0x33c),_0x2611c9(0x1c3),_0x2611c9(0x24d),_0x2611c9(0x325),_0x2611c9(0x1bc),_0x2611c9(0x1b4),_0x2611c9(0x1e2),_0x2611c9(0x24c),_0x2611c9(0x308),_0x2611c9(0x218),_0x2611c9(0x208),_0x2611c9(0x1f4)],gdfg5g=_0x2611c9(0x1e5),x45fgd='x3',xjehd78='xpos',cxkdj4=_0x2611c9(0x2c3),x87s8d=_0x2611c9(0x326),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x2611c9(0x217),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu='x64c',px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d='x63s',xg123f=_0x2611c9(0x2c5),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x2611c9(0x2fd),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x2611c9(0x2ba),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89='port',mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x2611c9(0x349),x78xh='r',px32b='o',x64x44x54=_0x2611c9(0x2e4),x64x32x33='64x32xsystem',kkx12='s',ak47r=_0x2611c9(0x1f0),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x2611c9(0x206),p34d9='d',kx32h='v',yx34l='p',pltbr='lbtom',setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x2611c9(0x2b7),_0x2611c9(0x219),_0x2611c9(0x31c),_0x2611c9(0x2ca),_0x2611c9(0x1f2),_0x2611c9(0x295),_0x2611c9(0x1be),'co19','co5',_0x2611c9(0x30e),'uy10'],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos['concat'](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x2611c9(0x1ef),_0x2611c9(0x1d0),_0x2611c9(0x1bb),_0x2611c9(0x2f3),'CO0',_0x2611c9(0x355)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt['concat'](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x2611c9(0x1bd)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];function getQueryParam(_0x2e9ca0){const _0x5373be=_0x2611c9,_0x378e05=new URLSearchParams(window[_0x5373be(0x247)][_0x5373be(0x1d9)]);return _0x378e05['get'](_0x2e9ca0);}function setUserNameGet(){const _0x46f41b=_0x2611c9,_0x5f40cb=getQueryParam('username'),_0x219ab5=document[_0x46f41b(0x225)](_0x46f41b(0x2db));_0x5f40cb&&_0x219ab5&&(_0x219ab5[_0x46f41b(0x237)]=_0x5f40cb);}function generateUniqId(){const _0x4edb1b=_0x2611c9;return Date[_0x4edb1b(0x2a2)]()+'_'+Math[_0x4edb1b(0x287)]()[_0x4edb1b(0x28b)](0x24)[_0x4edb1b(0x2d9)](0x2,0x9);}function generateNumericUniqId(){const _0x4b496f=_0x2611c9,_0x23e41c=Date[_0x4b496f(0x2a2)]()*0x3e8,_0x1d9f81=Math['floor'](Math[_0x4b496f(0x287)]()*0x3e8);return _0x23e41c+_0x1d9f81;}function blobAStringBase64(_0x5dcae8){return new Promise((_0x12f8e0,_0x5a85f4)=>{const _0x1a773f=_0x3acd,_0x5afceb=new FileReader();_0x5afceb[_0x1a773f(0x2d6)]=()=>{const _0x2b2a84=_0x1a773f,_0x1ad2fa=_0x5afceb[_0x2b2a84(0x202)],_0x5a1d92=_0x1ad2fa['split'](',');if(_0x5a1d92[_0x2b2a84(0x2b9)]!==0x2)return _0x5a85f4(new Error(_0x2b2a84(0x298)));_0x12f8e0(_0x5a1d92[0x1]);},_0x5afceb[_0x1a773f(0x250)]=_0x3f6410=>_0x5a85f4(_0x3f6410),_0x5afceb[_0x1a773f(0x2d5)](_0x5dcae8);});}async function generarBarcodeDataURL(_0x520678,_0x5d6d9c){return new Promise((_0x24ec4c,_0x39fd9f)=>{const _0x4b2630=_0x3acd,_0x1f7e54=myCompany[_0x4b2630(0x358)]['find'](_0x3fa537=>_0x3fa537[_0x4b2630(0x293)]==_0x520678),_0x1bd9fb=_0x1f7e54?_0x1f7e54[_0x4b2630(0x1d4)]:_0x4b2630(0x29b),_0x2f9e68=document[_0x4b2630(0x2e1)](_0x4b2630(0x1a3),'svg');JsBarcode(_0x2f9e68,_0x5d6d9c,{'format':_0x1bd9fb,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x1c8c7a=new XMLSerializer()[_0x4b2630(0x222)](_0x2f9e68),_0x6af772=btoa(_0x1c8c7a),_0x2e6872='data:image/svg+xml;base64,'+_0x6af772,_0x3dd1b1=new Image();_0x3dd1b1['onload']=()=>{const _0x19dcdc=_0x4b2630,_0x3f386d=document[_0x19dcdc(0x31f)](_0x19dcdc(0x265));_0x3f386d[_0x19dcdc(0x251)]=_0x3dd1b1[_0x19dcdc(0x251)],_0x3f386d[_0x19dcdc(0x30d)]=_0x3dd1b1[_0x19dcdc(0x30d)];const _0x58bf9f=_0x3f386d[_0x19dcdc(0x1f9)]('2d');_0x58bf9f[_0x19dcdc(0x229)](_0x3dd1b1,0x0,0x0);const _0x3de096=_0x3f386d['toDataURL'](_0x19dcdc(0x2f4));_0x24ec4c(_0x3de096);},_0x3dd1b1[_0x4b2630(0x250)]=_0x4f669f=>_0x39fd9f(_0x4f669f),_0x3dd1b1[_0x4b2630(0x2e6)]=_0x2e6872;});}async function generarStickersPDF(_0x1b7631,_0x3f350a){const _0x38a2b5=_0x2611c9,{PDFDocument:_0x98df7e,StandardFonts:_0x2f186b,rgb:_0x37af4d}=PDFLib,_0x39b077=await _0x98df7e[_0x38a2b5(0x1ad)](),_0x55d03c=_0x15a1ae=>_0x15a1ae*2.83465,_0x4567e3=_0x55d03c(0x70*0x2),_0x519b15=_0x55d03c(40.8),_0xf9de20=_0x39b077[_0x38a2b5(0x197)]([_0x4567e3,_0x519b15]),_0x1d2809=await _0x39b077[_0x38a2b5(0x313)](_0x2f186b[_0x38a2b5(0x310)]),_0x21ce61=Array(0x2)['fill'](_0x3f350a),_0x1ff200=0x2,_0x4a39b7=0x1,_0x24f728=0xc,_0x17ee6e=_0x4567e3/_0x1ff200,_0x419c5e=_0x519b15/_0x4a39b7;for(let _0x54a97a=0x0;_0x54a97a<0x2;_0x54a97a++){const _0x5b0864=_0x21ce61[_0x54a97a],_0x2ade4c=await generarBarcodeDataURL(_0x1b7631,_0x5b0864),_0x20dfe0=_0x2ade4c[_0x38a2b5(0x1c8)](',')[0x1],_0x33fd07=Uint8Array[_0x38a2b5(0x253)](atob(_0x20dfe0),_0xdb4051=>_0xdb4051[_0x38a2b5(0x280)](0x0));let _0x786141;try{_0x786141=await _0x39b077['embedPng'](_0x33fd07);}catch{_0x786141=await _0x39b077[_0x38a2b5(0x317)](_0x33fd07);}const _0x1b5ef3=0x5,_0x2545eb=_0x24f728+0x4,_0x2c6fb=_0x17ee6e-_0x1b5ef3*0x2,_0x2134cc=_0x419c5e-_0x1b5ef3*0x2-_0x2545eb,_0x5ef245=_0x786141[_0x38a2b5(0x251)],_0x201ce2=_0x786141[_0x38a2b5(0x30d)],_0x367157=Math['min'](_0x2c6fb/_0x5ef245,_0x2134cc/_0x201ce2,0x1),_0x240dc3=_0x786141[_0x38a2b5(0x1b1)](_0x367157),_0x441a1b=_0x54a97a%_0x1ff200,_0x1a5bcf=_0x441a1b*_0x17ee6e+(_0x17ee6e-_0x240dc3[_0x38a2b5(0x251)])/0x2,_0x540108=(_0x419c5e-_0x240dc3['height']-_0x2545eb)/0x2+_0x2545eb;_0xf9de20[_0x38a2b5(0x229)](_0x786141,{'x':_0x1a5bcf,'y':_0x540108,'width':_0x240dc3[_0x38a2b5(0x251)],'height':_0x240dc3[_0x38a2b5(0x30d)]});const _0x1e0ffe=_0x1d2809[_0x38a2b5(0x1f3)](_0x5b0864,_0x24f728),_0x1650d8=_0x1a5bcf+(_0x240dc3[_0x38a2b5(0x251)]-_0x1e0ffe)/0x2,_0x2e1ca1=_0x540108-(_0x24f728+0x2);_0xf9de20[_0x38a2b5(0x1d3)](_0x5b0864,{'x':_0x1650d8,'y':_0x2e1ca1,'size':_0x24f728,'font':_0x1d2809,'color':_0x37af4d(0x0,0x0,0x0)});}const _0x5af301=await _0x39b077[_0x38a2b5(0x267)](),_0x2e2707=new Blob([_0x5af301],{'type':_0x38a2b5(0x25e)}),_0x18f084=URL['createObjectURL'](_0x2e2707);window[_0x38a2b5(0x359)](_0x18f084);}async function sendEmail(_0x1f54a4,_0x28066a,_0x48d4d2,_0x58477c,_0x28e5ce,_0x277943,_0xebac86,_0x5405b8,_0x4596ba,_0x82eaac){const _0x563512=_0x2611c9;if(isOnline()){const _0x60b6a7={'setAuthToken':_0x1f54a4,'senderName':_0x28066a,'senderEmail':_0x48d4d2,'senderPassword':_0x58477c,'smtpHost':_0x28e5ce,'smtpPort':_0x277943,'emailsDestination':_0xebac86,'subject':_0x5405b8,'message':_0x4596ba,'attachFiles':_0x82eaac};try{const _0x3bc4a0=await fetch(_0x563512(0x2ab),{'method':_0x563512(0x20f),'headers':{'Content-Type':_0x563512(0x2d1)},'body':JSON[_0x563512(0x21d)](_0x60b6a7)}),_0x7012e3=await _0x3bc4a0['json']();if(!_0x3bc4a0['ok']||!_0x7012e3[_0x563512(0x22c)]){console[_0x563512(0x2b2)](_0x563512(0x304),_0x7012e3),ntfShow(_0x563512(0x24a));return;}}catch(_0x85caaa){console[_0x563512(0x2b2)](_0x563512(0x22f),_0x85caaa);}}}function loadLoginContent(_0x5a5387){const _0x1c9022=_0x2611c9,_0x395b0d=document[_0x1c9022(0x225)](_0x1c9022(0x230));_0x395b0d[_0x1c9022(0x1d1)]=_0x1c9022(0x33f)+_0x5a5387+_0x1c9022(0x2bb);}function addNumber(_0x2187e5){const _0x223f69=_0x2611c9;document[_0x223f69(0x225)](_0x223f69(0x2cf))[_0x223f69(0x237)]+=_0x2187e5;}function deleteNumber(){const _0x4226d8=_0x2611c9;let _0x59a814=document[_0x4226d8(0x225)](_0x4226d8(0x2cf));_0x59a814['value']=_0x59a814[_0x4226d8(0x237)][_0x4226d8(0x232)](0x0,-0x1);}function togglePassword(){const _0x4d56f5=_0x2611c9;let _0x33b375=document['getElementById'](_0x4d56f5(0x2cf));_0x33b375[_0x4d56f5(0x2c2)]=_0x33b375[_0x4d56f5(0x2c2)]==_0x4d56f5(0x2cf)?_0x4d56f5(0x18f):_0x4d56f5(0x2cf);}function setEventBtnAccess(){const _0x152825=_0x2611c9,_0x2042fe=document[_0x152825(0x225)]('btn-access-login');_0x2042fe[_0x152825(0x328)]=function(){acceder();};}function isOnline(){const _0x40c1be=_0x2611c9;return window['navigator'][_0x40c1be(0x2b0)];}function showLoadingModal(){const _0x460d69=_0x2611c9,_0x99b7bf=document[_0x460d69(0x31f)](_0x460d69(0x257));_0x99b7bf['id']='loadingModal',_0x99b7bf['style'][_0x460d69(0x339)]=_0x460d69(0x335),_0x99b7bf[_0x460d69(0x30b)]['top']='0',_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x21b)]='0',_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x251)]=_0x460d69(0x18d),_0x99b7bf['style']['height']=_0x460d69(0x18d),_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x2b1)]=_0x460d69(0x2cb),_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x2b3)]=_0x460d69(0x2ce),_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x1aa)]='center',_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x281)]=_0x460d69(0x20c),_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x24f)]='9999',_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x1dd)]='1',_0x99b7bf[_0x460d69(0x30b)][_0x460d69(0x319)]='none',_0x99b7bf[_0x460d69(0x1d1)]=_0x460d69(0x271),document['body'][_0x460d69(0x192)](_0x99b7bf);}function hideLoadingModal(){const _0x4718d7=_0x2611c9,_0x34fad3=document[_0x4718d7(0x225)](_0x4718d7(0x2df));_0x34fad3&&(_0x34fad3[_0x4718d7(0x30b)][_0x4718d7(0x1dd)]='0',_0x34fad3[_0x4718d7(0x191)]());}function cargarAlmacenes(_0x2bf59d){const _0x201e5b=_0x2611c9,_0x3fbe41=document[_0x201e5b(0x225)](_0x201e5b(0x24b));_0x3fbe41[_0x201e5b(0x1d1)]='';const _0x5c0c8a=company[0x0][_0x201e5b(0x23e)]['find'](_0x54d2c8=>_0x54d2c8[_0x201e5b(0x19f)]==_0x2bf59d);_0x5c0c8a&&_0x5c0c8a[_0x201e5b(0x215)][_0x201e5b(0x2b9)]>0x0&&_0x5c0c8a[_0x201e5b(0x215)][_0x201e5b(0x1e7)](_0x22a567=>{const _0x41bc23=_0x201e5b;let _0x3163c7=document[_0x41bc23(0x31f)]('option');_0x3163c7[_0x41bc23(0x237)]=_0x22a567[_0x41bc23(0x24b)],_0x3163c7[_0x41bc23(0x285)]=_0x22a567[_0x41bc23(0x201)],_0x3fbe41[_0x41bc23(0x192)](_0x3163c7);});}function getAllWarehouses(){const _0x33f23e=_0x2611c9,_0x248261=company[0x0][_0x33f23e(0x23e)]||[],_0x350feb=new Map();return _0x248261[_0x33f23e(0x1e7)](_0x241458=>{const _0x3f737e=_0x33f23e;(_0x241458[_0x3f737e(0x215)]||[])[_0x3f737e(0x1e7)](_0x2c5ca4=>{const _0x59b374=_0x3f737e;!_0x350feb[_0x59b374(0x2a5)](_0x2c5ca4[_0x59b374(0x24b)])&&_0x350feb[_0x59b374(0x322)](_0x2c5ca4[_0x59b374(0x24b)],{'setWarehouseId':_0x2c5ca4[_0x59b374(0x24b)],'setWarehouseName':_0x2c5ca4['setWarehouseName']+'\x20('+_0x241458[_0x59b374(0x25c)]+')'});});}),Array[_0x33f23e(0x253)](_0x350feb['values']());}function cargarPisos(_0xb7d8f8){const _0x4292b0=_0x2611c9,_0x38c9ad=company[0x0]['setWindows'][_0x4292b0(0x2fb)](_0x577eed=>_0x577eed[_0x4292b0(0x19f)]==_0xb7d8f8),_0x5c104a={};_0x38c9ad[_0x4292b0(0x1e7)](_0x1030cc=>{const _0x3bb39a=_0x4292b0;_0x5c104a[_0x1030cc['setFloorId']]=_0x1030cc[_0x3bb39a(0x2f1)];});const _0x5adda1=document[_0x4292b0(0x225)](_0x4292b0(0x258));_0x5adda1[_0x4292b0(0x1d1)]='';for(const _0x54a683 in _0x5c104a){const _0x150b15=document['createElement'](_0x4292b0(0x1c4));_0x150b15['value']=_0x54a683,_0x150b15['textContent']=_0x5c104a[_0x54a683],_0x5adda1[_0x4292b0(0x192)](_0x150b15);}}document[_0x2611c9(0x225)](_0x2611c9(0x231))['addEventListener'](_0x2611c9(0x2d4),()=>{const _0xd96b0b=_0x2611c9,_0x240ef9=document[_0xd96b0b(0x243)],_0x2122f3=document[_0xd96b0b(0x341)]||document[_0xd96b0b(0x35c)]||document[_0xd96b0b(0x1c0)]||document['msFullscreenElement'];if(!_0x2122f3){if(_0x240ef9['requestFullscreen'])_0x240ef9[_0xd96b0b(0x27e)]();else{if(_0x240ef9[_0xd96b0b(0x29e)])_0x240ef9[_0xd96b0b(0x29e)]();else{if(_0x240ef9[_0xd96b0b(0x19b)])_0x240ef9[_0xd96b0b(0x19b)]();else _0x240ef9[_0xd96b0b(0x1f1)]&&_0x240ef9[_0xd96b0b(0x1f1)]();}}}else{if(document[_0xd96b0b(0x252)])document[_0xd96b0b(0x252)]();else{if(document[_0xd96b0b(0x2f7)])document[_0xd96b0b(0x2f7)]();else{if(document[_0xd96b0b(0x1af)])document['mozCancelFullScreen']();else document[_0xd96b0b(0x1fe)]&&document[_0xd96b0b(0x1fe)]();}}}});function ntf_formatDateDMY(_0xaf620e){const _0x497936=_0x2611c9;var _0x3774d5=new Date(_0xaf620e),_0x243b04=_0x3774d5[_0x497936(0x228)](),_0x4a0472=_0x3774d5['getFullYear'](),_0x21018e=monthsEspanish[_0x3774d5[_0x497936(0x1dc)]()];return _0x243b04+_0x497936(0x1a1)+_0x21018e+_0x497936(0x23c)+_0x4a0472;}function ntf_groupBy(_0x2a948a,_0x240f37){const _0x73f04e=_0x2611c9;return _0x2a948a[_0x73f04e(0x18e)](function(_0x23b190,_0x1437d3){const _0x1aedaf=_0x73f04e;var _0x3d0991=_0x1437d3[_0x240f37];return _0x23b190[_0x3d0991]=_0x23b190[_0x3d0991]||[],_0x23b190[_0x3d0991][_0x1aedaf(0x214)](_0x1437d3),_0x23b190;},{});}function ntf_isExpired(_0x5e878d){const _0x278e79=_0x2611c9;if(!_0x5e878d)return![];var _0x5dccb2=new Date();return _0x5dccb2[_0x278e79(0x1f6)](0x0,0x0,0x0,0x0),new Date(_0x5e878d)<=_0x5dccb2;}function ntf_getNotifications(){const _0x21245f=_0x2611c9;var _0x5d1507=parseInt(document[_0x21245f(0x225)](_0x21245f(0x24b))['value'],0xa),_0xc978b6=ntf_groupBy(products,_0x21245f(0x1e0)),_0x25c31f=[];return Object[_0x21245f(0x1ed)](_0xc978b6)[_0x21245f(0x1e7)](function(_0x504be4){const _0x35afff=_0x21245f;var _0x1758fc=_0xc978b6[_0x504be4],_0xa100e=_0x1758fc[0x0],_0x25caf9=(_0xa100e[_0x35afff(0x294)]||[])[_0x35afff(0x2b5)](function(_0x3ffcea){const _0x2c036b=_0x35afff;return _0x3ffcea[_0x2c036b(0x266)]==_0x5d1507;});if(!_0x25caf9)return;var _0x2c9b88=parseFloat(_0x25caf9[_0x35afff(0x1f7)]),_0x40fbee=parseFloat(_0x25caf9[_0x35afff(0x2a6)]);_0xa100e[_0x35afff(0x2dd)]==0x1&&_0x2c9b88<=_0x40fbee&&_0x25c31f[_0x35afff(0x214)]({'type':0x1,'id_registro':_0xa100e['id'],'title':_0x35afff(0x26e)+_0xa100e['setDescripcion'],'message':_0x35afff(0x1cc)+_0xa100e[_0x35afff(0x1b9)]+'\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20'+_0x40fbee[_0x35afff(0x32a)](0x3)+'<br>\x0aStock\x20Actual:\x20'+_0x2c9b88[_0x35afff(0x32a)](0x3)+'\x0a','data':{'producto':_0xa100e,'stock':_0x2c9b88,'minStock':_0x40fbee}}),_0xa100e['setBatchExpirationDate']&&ntf_isExpired(_0xa100e['setBatchExpirationDate'])&&_0x25c31f['push']({'type':0x2,'id_registro':_0xa100e['id'],'title':'Producto\x20vencido:\x20'+_0xa100e[_0x35afff(0x1b9)],'message':'El\x20producto\x20\x22'+_0xa100e[_0x35afff(0x1b9)]+_0x35afff(0x316)+ntf_formatDateDMY(_0xa100e[_0x35afff(0x356)])+_0x35afff(0x2c4)+_0x35afff(0x270)+_0x2c9b88['toFixed'](0x3),'data':{'producto':_0xa100e,'expiration':_0xa100e[_0x35afff(0x356)]}});}),_0x25c31f;}function ntf_renderNotifications(){const _0x59a545=_0x2611c9;var _0x232c61=ntf_getNotifications(),_0x47ae21=document[_0x59a545(0x225)](_0x59a545(0x2e3)),_0xe7fbfc=document['getElementById'](_0x59a545(0x33b));_0x47ae21[_0x59a545(0x1d1)]='',_0xe7fbfc['textContent']=_0x232c61[_0x59a545(0x2b9)];if(_0x232c61[_0x59a545(0x2b9)]===0x0){var _0x203a8b=document['createElement']('li');_0x203a8b[_0x59a545(0x285)]=_0x59a545(0x2e5),_0x47ae21[_0x59a545(0x192)](_0x203a8b);return;}_0x232c61['forEach'](function(_0x34bcf0,_0x3595a5){const _0x387e3e=_0x59a545;var _0xb14702=document[_0x387e3e(0x31f)]('li');_0xb14702[_0x387e3e(0x285)]=_0x34bcf0[_0x387e3e(0x1e6)],_0xb14702[_0x387e3e(0x2eb)](_0x387e3e(0x263),_0x3595a5),_0x47ae21['appendChild'](_0xb14702);});}function ntf_openModal(_0x44a194){const _0x1b97d9=_0x2611c9;var _0x54842b=document[_0x1b97d9(0x225)](_0x1b97d9(0x1db)),_0x413235=document['getElementById'](_0x1b97d9(0x344)),_0x16db9e=document['getElementById'](_0x1b97d9(0x33d));_0x54842b[_0x1b97d9(0x1d1)]='<h2>'+_0x44a194[_0x1b97d9(0x1e6)]+'</h2><p>'+_0x44a194[_0x1b97d9(0x291)]+'</p>',_0x413235[_0x1b97d9(0x1d1)]='';if(_0x44a194[_0x1b97d9(0x2c2)]===0x1)['Generar\x20Orden\x20de\x20Compra',_0x1b97d9(0x1b7),_0x1b97d9(0x2f0)][_0x1b97d9(0x1e7)](function(_0x1f274c){const _0x5c277d=_0x1b97d9;var _0x3fbef1=document[_0x5c277d(0x31f)](_0x5c277d(0x1a9));_0x3fbef1[_0x5c277d(0x285)]=_0x1f274c,_0x3fbef1[_0x5c277d(0x240)](_0x5c277d(0x2d4),function(){const _0x246f28=_0x5c277d;console['log'](_0x246f28(0x275)+_0x1f274c+'\x22\x20para\x20registro\x20#'+_0x44a194[_0x246f28(0x284)]);}),_0x413235[_0x5c277d(0x192)](_0x3fbef1);});else _0x44a194['type']===0x2&&[_0x1b97d9(0x277),'Eliminar\x20producto'][_0x1b97d9(0x1e7)](function(_0x437cf5){const _0x44273b=_0x1b97d9;var _0x2a200d=document[_0x44273b(0x31f)](_0x44273b(0x1a9));_0x2a200d[_0x44273b(0x285)]=_0x437cf5,_0x2a200d['addEventListener']('click',function(){const _0x555796=_0x44273b;console[_0x555796(0x300)]('Acción\x20\x22'+_0x437cf5+_0x555796(0x245)+_0x44a194['id_registro']);}),_0x413235[_0x44273b(0x192)](_0x2a200d);});_0x16db9e[_0x1b97d9(0x20e)][_0x1b97d9(0x191)](_0x1b97d9(0x346));}function ntf_closeModal(){const _0x35291f=_0x2611c9;document[_0x35291f(0x225)](_0x35291f(0x33d))[_0x35291f(0x20e)][_0x35291f(0x26d)](_0x35291f(0x346));}document[_0x2611c9(0x225)]('tabs-notifications')[_0x2611c9(0x240)]('click',function(){const _0x166508=_0x2611c9;document[_0x166508(0x225)](_0x166508(0x35b))['classList'][_0x166508(0x1e8)](_0x166508(0x346)),ntf_renderNotifications();}),document[_0x2611c9(0x225)](_0x2611c9(0x2e3))[_0x2611c9(0x240)](_0x2611c9(0x2d4),function(_0x264505){const _0x37ce8e=_0x2611c9,_0x4ba2f8=_0x264505[_0x37ce8e(0x334)][_0x37ce8e(0x31a)]('li');if(!_0x4ba2f8||!_0x4ba2f8[_0x37ce8e(0x246)][_0x37ce8e(0x1ab)])return;const _0x262cab=ntf_getNotifications()[_0x4ba2f8[_0x37ce8e(0x246)][_0x37ce8e(0x1ab)]];document[_0x37ce8e(0x225)]('tabs-notifications')[_0x37ce8e(0x2d4)](),ntf_openModal(_0x262cab);}),document[_0x2611c9(0x225)](_0x2611c9(0x1d7))[_0x2611c9(0x240)]('click',ntf_closeModal),document[_0x2611c9(0x225)](_0x2611c9(0x33d))[_0x2611c9(0x240)](_0x2611c9(0x2d4),function(_0xae9fd0){const _0x109054=_0x2611c9;if(_0xae9fd0['target']===document[_0x109054(0x225)](_0x109054(0x33d)))ntf_closeModal();});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x2af40d,_0xcdb9b8=0x3,_0x58380b=0x1){const _0xcc7ce6=_0x2611c9,_0x43d163=document['getElementById']('ntf-flotante-container'),_0x5b7459=document[_0xcc7ce6(0x31f)](_0xcc7ce6(0x257));let _0x4cad67;if(_0xcdb9b8==0x1)_0x4cad67=_0xcc7ce6(0x301);else _0xcdb9b8==0x2?_0x4cad67=_0xcc7ce6(0x2d3):_0x4cad67=_0xcc7ce6(0x1e4);let _0x55a2a7;_0x58380b==0x1?(_0x55a2a7=_0xcc7ce6(0x29c),_0x43d163[_0xcc7ce6(0x20e)][_0xcc7ce6(0x26d)](_0xcc7ce6(0x35a)),_0x43d163[_0xcc7ce6(0x20e)][_0xcc7ce6(0x191)](_0xcc7ce6(0x19e))):(_0x55a2a7=_0xcc7ce6(0x312),_0x43d163[_0xcc7ce6(0x20e)][_0xcc7ce6(0x26d)](_0xcc7ce6(0x19e)),_0x43d163[_0xcc7ce6(0x20e)][_0xcc7ce6(0x191)](_0xcc7ce6(0x35a))),_0x5b7459['className']=_0xcc7ce6(0x24e)+_0x4cad67+'\x20'+_0x55a2a7,_0x5b7459[_0xcc7ce6(0x285)]=_0x2af40d,_0x43d163['appendChild'](_0x5b7459),_0x5b7459[_0xcc7ce6(0x240)](_0xcc7ce6(0x198),()=>{const _0x4bd26c=_0xcc7ce6;_0x5b7459[_0x4bd26c(0x191)]();});}function openDatabase(){const _0x14eb6b=_0x2611c9;if(db)return Promise[_0x14eb6b(0x209)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x431267,_0x55771c)=>{const _0x3a1a0c=_0x14eb6b,_0x4913bc=indexedDB['open'](db_name);_0x4913bc[_0x3a1a0c(0x31d)]=function(_0x22e40c){const _0x36ce20=_0x3a1a0c;db=_0x22e40c['target'][_0x36ce20(0x202)],console[_0x36ce20(0x300)](_0x36ce20(0x27f));},_0x4913bc[_0x3a1a0c(0x345)]=function(_0x762b7a){const _0x15957a=_0x3a1a0c;db=_0x762b7a[_0x15957a(0x334)][_0x15957a(0x202)],console['log']('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x431267(db),dbPromise=null;},_0x4913bc[_0x3a1a0c(0x250)]=function(_0x509a58){const _0x5f2e4b=_0x3a1a0c;console['error'](_0x5f2e4b(0x2a8),_0x509a58['target'][_0x5f2e4b(0x2b2)]),_0x55771c(_0x509a58[_0x5f2e4b(0x334)]['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x17e1ab,_0x6efaee=![]){const _0x1cf93b=_0x2611c9;if(dbOperationInProgress)return Promise[_0x1cf93b(0x1eb)](_0x1cf93b(0x35d));return dbOperationInProgress=!![],openDatabase()[_0x1cf93b(0x1e1)](_0x224487=>{const _0x212636=_0x1cf93b,_0x4f508f=_0x212636(0x254),_0x30eac8=_0x212636(0x1cb),_0x23cc68=_0x212636(0x2cc),_0x227d47=_0x212636(0x1f5),_0x391476=_0x17e1ab?_0x212636(0x2d2)+_0x17e1ab:null,_0x19911a=_0x17e1ab?_0x212636(0x23a)+_0x17e1ab:null,_0x4a9d4a=_0x6efaee||!_0x224487[_0x212636(0x256)][_0x212636(0x2fc)](_0x4f508f)||!_0x224487[_0x212636(0x256)][_0x212636(0x2fc)](_0x30eac8)||!_0x224487['objectStoreNames'][_0x212636(0x2fc)](_0x23cc68)||!_0x224487['objectStoreNames']['contains'](_0x227d47)||_0x17e1ab&&(!_0x224487['objectStoreNames'][_0x212636(0x2fc)](_0x391476)||!_0x224487[_0x212636(0x256)][_0x212636(0x2fc)](_0x19911a));if(!_0x4a9d4a)return dbOperationInProgress=![],Promise[_0x212636(0x209)](_0x224487);const _0x245f6e=_0x224487[_0x212636(0x357)]+0x1;return _0x224487['close'](),new Promise((_0x5c23b7,_0x3809e9)=>{const _0x312d8a=_0x212636,_0x1ca508=indexedDB[_0x312d8a(0x359)](db_name,_0x245f6e);_0x1ca508[_0x312d8a(0x31d)]=function(_0x4bceff){const _0x391294=_0x312d8a;db=_0x4bceff[_0x391294(0x334)]['result'];if(_0x6efaee)Array[_0x391294(0x253)](db['objectStoreNames'])['forEach'](_0x4529e8=>{const _0x51351b=_0x391294;_0x4529e8!==_0x23cc68&&(db[_0x51351b(0x1df)](_0x4529e8),console['log'](_0x51351b(0x34b)+_0x4529e8+'\x27\x20eliminada.'));}),console['log']('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db['objectStoreNames'][_0x391294(0x2fc)](_0x4f508f)&&(db[_0x391294(0x1c7)](_0x4f508f,{'keyPath':'id'}),console[_0x391294(0x300)](_0x391294(0x34b)+_0x4f508f+_0x391294(0x26c)));!db[_0x391294(0x256)]['contains'](_0x30eac8)&&(db[_0x391294(0x1c7)](_0x30eac8,{'keyPath':'id','autoIncrement':!![]}),console['log']('ObjectStore\x20\x27'+_0x30eac8+'\x27\x20creado\x20correctamente.'));!db[_0x391294(0x256)]['contains'](_0x23cc68)&&(db['createObjectStore'](_0x23cc68,{'keyPath':'id','autoIncrement':!![]}),console[_0x391294(0x300)](_0x391294(0x34b)+_0x23cc68+_0x391294(0x26c)));!db[_0x391294(0x256)]['contains'](_0x227d47)&&(db[_0x391294(0x1c7)](_0x227d47,{'keyPath':'id'}),console[_0x391294(0x300)](_0x391294(0x34b)+_0x227d47+'\x27\x20creado\x20correctamente.'));if(_0x17e1ab){if(!db[_0x391294(0x256)]['contains'](_0x391476)){const _0x2b003a=db[_0x391294(0x1c7)](_0x391476,{'keyPath':'id','autoIncrement':!![]});_0x2b003a[_0x391294(0x269)](_0x391294(0x290),_0x391294(0x290),{'unique':!![]}),console[_0x391294(0x300)](_0x391294(0x34b)+_0x391476+_0x391294(0x26c));}!db[_0x391294(0x256)]['contains'](_0x19911a)&&(db[_0x391294(0x1c7)](_0x19911a,{'keyPath':'id','autoIncrement':!![]}),console[_0x391294(0x300)](_0x391294(0x34b)+_0x19911a+_0x391294(0x26c)));}}},_0x1ca508[_0x312d8a(0x345)]=function(_0x1fc1b5){const _0x2e6b61=_0x312d8a;db=_0x1fc1b5[_0x2e6b61(0x334)]['result'],dbOperationInProgress=![],console[_0x2e6b61(0x300)](_0x2e6b61(0x318)),_0x5c23b7(db);},_0x1ca508[_0x312d8a(0x250)]=function(_0x49c0c5){const _0x32ae40=_0x312d8a;console['error']('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:',_0x49c0c5['target'][_0x32ae40(0x2b2)]),dbOperationInProgress=![],_0x3809e9(_0x49c0c5['target'][_0x32ae40(0x2b2)]);};});})[_0x1cf93b(0x1c5)](_0x5db0b5=>{const _0x3e75d3=_0x1cf93b;throw new Error(_0x3e75d3(0x2e0));})[_0x1cf93b(0x2ea)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x4337d9=_0x2611c9;if(!isOnline())return Promise[_0x4337d9(0x209)]();try{const _0x42a245=await createCartStore(''),_0x13980a=_0x42a245[_0x4337d9(0x286)](_0x4337d9(0x2cc),_0x4337d9(0x2b4)),_0x10e289=_0x13980a[_0x4337d9(0x1ae)](_0x4337d9(0x2cc)),_0x2d3f7f=await new Promise((_0x40f6ad,_0x42f353)=>{const _0x21c673=_0x4337d9,_0x32f817=_0x10e289[_0x21c673(0x352)]();_0x32f817[_0x21c673(0x345)]=()=>_0x40f6ad(_0x32f817[_0x21c673(0x202)]),_0x32f817[_0x21c673(0x250)]=()=>_0x42f353(new Error(_0x21c673(0x2a1)+_0x32f817[_0x21c673(0x2b2)]));}),_0x42589b=_0x2d3f7f[_0x4337d9(0x2fb)](_0x5ec4dd=>_0x5ec4dd['apiPOSsendOffline']==0x1);if(_0x42589b['length']===0x0){console[_0x4337d9(0x300)](_0x4337d9(0x2d7));return;}const _0x37d050=_0x42589b[_0x4337d9(0x2fb)](_0x33a4ff=>_0x33a4ff[_0x4337d9(0x1da)]==0x64),_0x32f125=_0x42589b[_0x4337d9(0x2fb)](_0x1dfb32=>_0x1dfb32[_0x4337d9(0x1da)]!=0x64);function _0x26d1de(_0x2ab1ad,_0x4de74f){return new Promise((_0x4530c6,_0x134018)=>{const _0x17a155=_0x3acd,_0x40e7f9=_0x2ab1ad[_0x17a155(0x286)](_0x17a155(0x2cc),'readwrite'),_0x45bc76=_0x40e7f9[_0x17a155(0x1ae)](_0x17a155(0x2cc)),_0x7569d2=_0x45bc76[_0x17a155(0x27a)](_0x4de74f);_0x7569d2[_0x17a155(0x345)]=()=>_0x4530c6(),_0x7569d2['onerror']=_0x226d54=>_0x134018(new Error(_0x17a155(0x248)+_0x226d54[_0x17a155(0x334)][_0x17a155(0x2b2)]));});}async function _0x31cfb0(_0x2d645e){const _0xba0100=_0x4337d9;for(const _0x85ab27 of _0x2d645e){_0x85ab27[_0xba0100(0x1da)]===0x64&&Array[_0xba0100(0x1cd)](_0x85ab27[_0xba0100(0x2c6)])&&_0x85ab27[_0xba0100(0x2c6)][_0xba0100(0x2f5)]((_0x31bee8,_0x369112)=>{const _0x1c7633=_0xba0100,_0x33fdde=[0x1,0x2,0x3],_0x2704c0=_0x33fdde[_0x1c7633(0x29f)](_0x31bee8['setItemType']),_0x399d72=_0x33fdde[_0x1c7633(0x29f)](_0x369112[_0x1c7633(0x2c1)]);if(_0x2704c0&&!_0x399d72)return-0x1;if(!_0x2704c0&&_0x399d72)return 0x1;return _0x31bee8[_0x1c7633(0x2c1)]-_0x369112[_0x1c7633(0x2c1)];});const _0x527b80=new FormData();_0x527b80[_0xba0100(0x2fe)]('invoice',JSON[_0xba0100(0x21d)](_0x85ab27));if(_0x85ab27[_0xba0100(0x241)]instanceof Blob&&_0x85ab27[_0xba0100(0x241)]['size']>0x0)_0x527b80[_0xba0100(0x2fe)]('pdfBlob',_0x85ab27[_0xba0100(0x241)],_0xba0100(0x260));else _0x85ab27['pdfBlob']&&console[_0xba0100(0x2a7)](_0xba0100(0x2c9));_0x85ab27['setTipoOperacion']==0x64&&Array[_0xba0100(0x1cd)](_0x85ab27['newItems'])&&_0x85ab27['newItems'][_0xba0100(0x1e7)]((_0x27443d,_0x4687dc)=>{const _0x464680=_0xba0100;Array[_0x464680(0x1cd)](_0x27443d['setItemImages'])&&_0x27443d[_0x464680(0x22b)][_0x464680(0x1e7)]((_0x3ac06a,_0x4ababd)=>{const _0x592b13=_0x464680;_0x3ac06a instanceof Blob&&_0x3ac06a['size']>0x0?_0x527b80[_0x592b13(0x2fe)]('newItems['+_0x4687dc+_0x592b13(0x1d2)+_0x4ababd+']',_0x3ac06a,_0x3ac06a[_0x592b13(0x1ea)]):console[_0x592b13(0x2a7)](_0x592b13(0x1ee)+_0x4687dc+_0x592b13(0x2ad)+_0x4ababd+_0x592b13(0x227));});});try{const _0x27cb1a=await fetch(_0x85ab27[_0xba0100(0x2f6)],{'method':'POST','body':_0x527b80});if(!_0x27cb1a['ok'])throw new Error(_0xba0100(0x2f8)+_0x27cb1a['status']+_0xba0100(0x27c)+_0x27cb1a[_0xba0100(0x30a)]);const _0x508095=await _0x27cb1a['json']();!_0x508095['success']?_0x85ab27['setMessage']=_0x508095[_0xba0100(0x291)]||_0xba0100(0x233):(_0x85ab27['apiPOSsendOffline']=0x0,delete _0x85ab27[_0xba0100(0x29d)]),await _0x26d1de(_0x42a245,_0x85ab27);}catch(_0xc4f7ff){console[_0xba0100(0x2b2)]('Error\x20al\x20enviar\x20operación\x20offline:',_0xc4f7ff),_0x85ab27['setMessage']=_0xc4f7ff[_0xba0100(0x291)],await _0x26d1de(_0x42a245,_0x85ab27);}}}_0x37d050[_0x4337d9(0x2f5)]((_0x53c718,_0x30c73b)=>{const _0x10671d=_0x4337d9,_0x4784d6=[0x1,0x2,0x3],_0x5e4d68=_0x9a6f0f=>Array['isArray'](_0x9a6f0f[_0x10671d(0x2c6)])&&_0x9a6f0f[_0x10671d(0x2c6)][_0x10671d(0x1e9)](_0x2cb733=>_0x4784d6[_0x10671d(0x29f)](_0x2cb733[_0x10671d(0x2c1)])),_0x5cd119=_0x5e4d68(_0x53c718),_0x35f056=_0x5e4d68(_0x30c73b);if(_0x5cd119&&!_0x35f056)return-0x1;if(!_0x5cd119&&_0x35f056)return 0x1;const _0x14281f=Math[_0x10671d(0x1f8)](..._0x53c718[_0x10671d(0x2c6)]['map'](_0x26fbc8=>_0x26fbc8[_0x10671d(0x2c1)])),_0x2389d7=Math[_0x10671d(0x1f8)](..._0x30c73b[_0x10671d(0x2c6)][_0x10671d(0x242)](_0x187c89=>_0x187c89['setItemType']));return _0x14281f-_0x2389d7;}),_0x37d050[_0x4337d9(0x2b9)]&&(console[_0x4337d9(0x300)]('Sincronizando\x20'+_0x37d050['length']+'\x20operaciones\x20de\x20productos...'),await _0x31cfb0(_0x37d050)),_0x32f125[_0x4337d9(0x2b9)]&&(console['log'](_0x4337d9(0x1a4)+_0x32f125[_0x4337d9(0x2b9)]+'\x20operaciones\x20restantes...'),await _0x31cfb0(_0x32f125)),console[_0x4337d9(0x300)](_0x4337d9(0x332));}catch(_0x29d9ac){console['error'](_0x4337d9(0x1fc),_0x29d9ac);}}function apiERPsaveOnline(_0x10f7e2,_0x269630,_0x186e1e,_0x4efc09,_0x140d82){const _0xa567f7=_0x2611c9;if(!isOnline())return console['log']('Error\x20Network.'),Promise[_0xa567f7(0x1eb)](_0xa567f7(0x190));const _0x48b70d={'setAuthToken':_0x10f7e2,'setBranches':_0x269630,'setUsers':_0x186e1e,'setSeries':_0x4efc09,'setPrinters':_0x140d82};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0xa567f7(0x21d)](_0x48b70d)})['then'](_0x1f38f2=>{const _0x1b27e4=_0xa567f7;if(!_0x1f38f2['ok'])throw new Error(_0x1b27e4(0x329)+_0x1f38f2['statusText']);return _0x1f38f2[_0x1b27e4(0x216)]();})[_0xa567f7(0x1e1)](_0x26a635=>{const _0x4f35ed=_0xa567f7;if(!_0x26a635['success'])throw new Error(_0x26a635[_0x4f35ed(0x291)]||_0x4f35ed(0x2a4));return console[_0x4f35ed(0x300)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x26a635;})[_0xa567f7(0x1c5)](_0x54a821=>{const _0x104f9a=_0xa567f7;console[_0x104f9a(0x2b2)](_0x104f9a(0x327),_0x54a821);throw _0x54a821;});}async function acceder(){const _0x5b6461=_0x2611c9;if(!isOnline()){alert(_0x5b6461(0x212));throw new Error(_0x5b6461(0x220));}const _0x5bdb55=document[_0x5b6461(0x225)]('btn-access-login'),_0x1a6ba9=document[_0x5b6461(0x225)](_0x5b6461(0x2db))[_0x5b6461(0x237)],_0x554a4e=document[_0x5b6461(0x225)](_0x5b6461(0x2cf))[_0x5b6461(0x237)];_0x5bdb55[_0x5b6461(0x21f)]=!![];if(!_0x1a6ba9||!_0x554a4e){alert(_0x5b6461(0x296)),_0x5bdb55[_0x5b6461(0x21f)]=![];return;}console[_0x5b6461(0x300)]('Modo\x20online\x20...'),showLoadingModal();const _0x23e4ab={'usuario':_0x1a6ba9,'password':_0x554a4e};try{const _0x40aa03=await fetch(_0x5b6461(0x238),{'method':_0x5b6461(0x20f),'headers':{'Content-Type':'application/json'},'body':JSON[_0x5b6461(0x21d)](_0x23e4ab)}),_0x4c1fef=await _0x40aa03['json']();if(!(_0x4c1fef[_0x5b6461(0x22c)]&&Array['isArray'](_0x4c1fef[_0x5b6461(0x291)]))){alert(_0x4c1fef[_0x5b6461(0x291)]),_0x5bdb55[_0x5b6461(0x21f)]=![],hideLoadingModal();throw new Error(_0x4c1fef['message']);}const _0x40b551=document[_0x5b6461(0x225)](_0x5b6461(0x1b5));_0x40b551[_0x5b6461(0x1d1)]=_0x5b6461(0x307);const _0x4003a9=_0x4c1fef[_0x5b6461(0x291)],{setApiEndPoint:_0x31cc1e,setAuthToken:_0x531ff9,setUser_Local:_0x47c7ee}=_0x4003a9[0x0],_0x38b9b1={'apiPOS_getAccessData':0x1,'setToken':_0x531ff9,'setUserLocalUserName':_0x47c7ee['setUserName']},_0x357b37=await fetch(_0x31cc1e,{'method':_0x5b6461(0x20f),'headers':{'Content-Type':_0x5b6461(0x2d1)},'body':JSON[_0x5b6461(0x21d)](_0x38b9b1)}),_0x12d6e2=await _0x357b37[_0x5b6461(0x216)]();if(!(_0x12d6e2[_0x5b6461(0x22c)]===!![])){_0x40b551[_0x5b6461(0x1d1)]=_0x5b6461(0x259)+_0x12d6e2[_0x5b6461(0x291)]+_0x5b6461(0x30c),setTimeout(()=>location[_0x5b6461(0x26b)](),0x1388);return;}_0x40b551[_0x5b6461(0x1d1)]='Procesamiento\x20de\x20datos\x20exitoso\x20...';const _0x76d707=_0x12d6e2[_0x5b6461(0x291)]['setProductos'][_0x5b6461(0x242)](_0x23d96e=>{const _0x50d86f=_0x5b6461,_0x2f4ea6=_0x23d96e[_0x50d86f(0x1e3)]||'',_0x2edc90=_0x23d96e[_0x50d86f(0x1e0)]||'',_0x6f53f4=_0x23d96e['setCodProducto']||'',_0x2a56ef=_0x23d96e[_0x50d86f(0x204)]||'',_0x217cd1=_0x23d96e[_0x50d86f(0x1b9)]||'',_0x9e540f=_0x23d96e[_0x50d86f(0x288)]||'',_0x421143=_0x23d96e[_0x50d86f(0x354)]||'',_0x244468=_0x23d96e[_0x50d86f(0x351)]||'',_0x2d4479=_0x23d96e[_0x50d86f(0x226)]||'',_0x11a142=_0x23d96e[_0x50d86f(0x199)]||'10',_0x3a97af=_0x4003a9[0x0][_0x50d86f(0x264)][_0x50d86f(0x2b5)](_0x3f23dd=>_0x3f23dd[_0x50d86f(0x226)]==_0x2d4479)?.[_0x50d86f(0x205)]||0x0,_0x5a4143=parseFloat(_0x23d96e['setInventariable'])||0x1,_0x42e34d=_0x23d96e[_0x50d86f(0x28c)]||'',_0x133685=_0x23d96e[_0x50d86f(0x207)]||'',_0x884131=_0x23d96e[_0x50d86f(0x2fa)]||_0x50d86f(0x1d8),_0x3335bb=_0x23d96e[_0x50d86f(0x262)]||0x1,_0x52f0f7=_0x23d96e[_0x50d86f(0x221)]||'',_0xb504c9=_0x23d96e[_0x50d86f(0x356)]||'',_0x589b5d=(_0x23d96e['currency_data']||[])[_0x50d86f(0x242)](_0x374a7b=>{const _0x52d08d=_0x50d86f,_0x5afc73=parseFloat(_0x374a7b[_0x52d08d(0x306)])||0x0,_0x386533=parseFloat(_0x374a7b[_0x52d08d(0x28a)])||0x0,_0x2afba2=parseFloat(_0x374a7b[_0x52d08d(0x1fd)])||0x0,_0x54e932=parseFloat(_0x374a7b[_0x52d08d(0x314)])||0x0,_0x3c5eb0=_0x374a7b[_0x52d08d(0x305)]||[];let _0xe4b21c=0x0,_0x3d502b=0x0;if(_0x5afc73>0x0)_0xe4b21c=_0x5afc73,_0x3d502b=setTipAfeImpGravados['some'](_0x370c11=>_0x370c11==_0x11a142)?_0x5afc73+_0x5afc73*_0x3a97af/0x64:_0x5afc73;else _0x386533>0x0&&(_0x3d502b=_0x386533,_0xe4b21c=setTipAfeImpGravados[_0x52d08d(0x1e9)](_0x39436b=>_0x39436b==_0x11a142)?_0x386533/(0x1+_0x3a97af/0x64):_0x386533);let _0x58993d=0x0,_0x5eb843=0x0;if(_0x2afba2>0x0)_0x58993d=_0x2afba2,_0x5eb843=setTipAfeImpGravados[_0x52d08d(0x1e9)](_0x3d2a44=>_0x3d2a44==_0x11a142)?_0x2afba2+_0x2afba2*_0x3a97af/0x64:_0x2afba2;else _0x54e932>0x0&&(_0x5eb843=_0x54e932,_0x58993d=setTipAfeImpGravados['some'](_0x1c573d=>_0x1c573d==_0x11a142)?_0x54e932/(0x1+_0x3a97af/0x64):_0x54e932);return{'currency':_0x374a7b['currency'],'setMtoValorUnitario':_0xe4b21c,'setMtoPrecioUnitario':_0x3d502b,'setMtoValorCostoUnitario':_0x58993d,'setMtoPrecioCostoUnitario':_0x5eb843,'setPriceLists':_0x3c5eb0};});if(_0x2d4479!==''&&_0x2f4ea6!==''&&_0x6f53f4!==''&&_0x217cd1!=='')return{'id':_0x2f4ea6,'setIdProducto':_0x2edc90,'setCodProducto':_0x6f53f4,'setItemBarCode':_0x2a56ef,'setDescripcion':_0x217cd1,'setItemDescription':_0x9e540f,'setUnidadCodigo':_0x421143,'setUnidad':_0x244468,'setPorcentajeIgv':_0x3a97af,'setTaxId':_0x2d4479,'setTipAfeIgv':_0x11a142,'setInventariable':_0x5a4143,'setCategoria':_0x42e34d,'setMarca':_0x133685,'setImg':_0x884131,'setConversionFactor':_0x3335bb,'setBatchName':_0x52f0f7,'setBatchExpirationDate':_0xb504c9,'setItemIsBought':_0x23d96e[_0x50d86f(0x32d)],'setItemIsSold':_0x23d96e[_0x50d86f(0x2ff)],'sucursales':_0x23d96e[_0x50d86f(0x294)]||[],'setPrinters':_0x23d96e[_0x50d86f(0x22a)]||[],'currency_data':_0x589b5d,'setImages':_0x23d96e[_0x50d86f(0x2b8)]||[]};return null;})[_0x5b6461(0x2fb)](Boolean);_0x4003a9[0x0]['setCompanyLogo']=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x2ac)],_0x4003a9[0x0][_0x5b6461(0x268)]=_0x12d6e2[_0x5b6461(0x291)]['setCompanyDoc'],_0x4003a9[0x0][_0x5b6461(0x1a0)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x1a0)],_0x4003a9[0x0][_0x5b6461(0x278)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x278)],_0x4003a9[0x0][_0x5b6461(0x282)]=_0x12d6e2['message'][_0x5b6461(0x282)],_0x4003a9[0x0][_0x5b6461(0x21e)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x21e)],_0x4003a9[0x0][_0x5b6461(0x239)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x239)],_0x4003a9[0x0][_0x5b6461(0x213)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x213)],_0x4003a9[0x0][_0x5b6461(0x23e)]=_0x12d6e2[_0x5b6461(0x291)]['setBranches'],_0x4003a9[0x0][_0x5b6461(0x2e2)]=_0x12d6e2['message'][_0x5b6461(0x2e2)],_0x4003a9[0x0]['setSeries']=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x302)],_0x4003a9[0x0]['setPrinters']=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x22a)],_0x4003a9[0x0][_0x5b6461(0x292)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x292)],_0x4003a9[0x0]['setBankAccounts']=_0x12d6e2['message'][_0x5b6461(0x210)],_0x4003a9[0x0][_0x5b6461(0x2bc)]=_0x12d6e2['message'][_0x5b6461(0x2bc)],_0x4003a9[0x0][_0x5b6461(0x2af)]=_0x12d6e2[_0x5b6461(0x291)][_0x5b6461(0x2af)],_0x4003a9[0x0][_0x5b6461(0x2ed)]=_0x12d6e2[_0x5b6461(0x291)]['setShifts'],_0x4003a9[0x0][_0x5b6461(0x1c1)]=_0x12d6e2[_0x5b6461(0x291)]['setCollaborators'],_0x40b551[_0x5b6461(0x1d1)]=_0x5b6461(0x20b);const _0x309ea1=await createCartStore('');await clearAndStore(_0x309ea1,_0x5b6461(0x254),_0x76d707),await clearAndStore(_0x309ea1,_0x5b6461(0x1f5),[{'id':_0x5b6461(0x236),..._0x4003a9[0x0][_0x5b6461(0x34e)]}]),await apiERPsaveOnline(_0x531ff9,_0x4003a9[0x0][_0x5b6461(0x23e)],_0x4003a9[0x0][_0x5b6461(0x2e2)],_0x4003a9[0x0][_0x5b6461(0x302)],_0x4003a9[0x0][_0x5b6461(0x22a)]);const _0x1ca438=await fetch(_0x5b6461(0x299),{'method':_0x5b6461(0x20f),'headers':{'Content-Type':_0x5b6461(0x2d1)},'body':JSON['stringify']({'setAuthToken':_0x531ff9})}),_0x278c5f=await _0x1ca438[_0x5b6461(0x216)]();if(_0x278c5f[_0x5b6461(0x22c)])_0x4003a9[0x0][_0x5b6461(0x2bd)]=_0x278c5f['message'][_0x5b6461(0x2bd)],_0x4003a9[0x0][_0x5b6461(0x1ac)]=_0x278c5f[_0x5b6461(0x291)][_0x5b6461(0x1ac)],_0x4003a9[0x0][_0x5b6461(0x22a)]=_0x278c5f['message'][_0x5b6461(0x22a)];else{console['error'](_0x5b6461(0x323),_0x278c5f[_0x5b6461(0x291)]);return;}await saveCompanyToIndexedDB(_0x4003a9,_0x309ea1);if(!_0x4003a9[0x0][_0x5b6461(0x2bd)]||_0x4003a9[0x0][_0x5b6461(0x2bd)]['length']===0x0){console[_0x5b6461(0x2b2)](_0x5b6461(0x2da));return;}for(const _0x2ce2c2 of _0x4003a9[0x0][_0x5b6461(0x2bd)]){await new Promise(_0x22b1eb=>setTimeout(_0x22b1eb,0x12c)),await createCartStore(_0x2ce2c2[_0x5b6461(0x353)]),_0x40b551[_0x5b6461(0x1d1)]=_0x5b6461(0x20a)+_0x2ce2c2[_0x5b6461(0x1c6)]+'\x20...';}_0x40b551[_0x5b6461(0x1d1)]='Bienvenido(a)\x20'+_0x47c7ee[_0x5b6461(0x343)]+'\x20...',setTimeout(()=>location[_0x5b6461(0x26b)](),0x7d0);}catch(_0xd56115){console[_0x5b6461(0x2b2)]('Error\x20en\x20la\x20solicitud:',_0xd56115),_0x5bdb55['disabled']=![],hideLoadingModal(),alert(_0xd56115);throw _0xd56115;}}function clearAndStore(_0x544d4a,_0x4ca42e,_0x53bfb9){return new Promise((_0x25a89,_0x53a9ec)=>{const _0x2da91d=_0x3acd,_0xf99e94=_0x544d4a[_0x2da91d(0x286)](_0x4ca42e,_0x2da91d(0x2ef)),_0x497cc7=_0xf99e94[_0x2da91d(0x1ae)](_0x4ca42e),_0x50d25c=_0x497cc7[_0x2da91d(0x27d)]();_0x50d25c[_0x2da91d(0x345)]=()=>{const _0x193106=_0x2da91d;_0x53bfb9[_0x193106(0x1e7)](_0x247816=>_0x497cc7['put'](_0x247816));},_0xf99e94[_0x2da91d(0x2be)]=()=>_0x25a89(),_0xf99e94[_0x2da91d(0x250)]=()=>_0x53a9ec(new Error(_0x2da91d(0x244)+_0x4ca42e+'!'));});}function _0x3116(){const _0x5417e1=['setCredentialsApiWAChatIdDefault','setMoneda','setItemType','type','x64','.<br>','45x','newItems','day','setAuthToken','PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.','mx08','rgba(0,\x200,\x200,\x200.5)','offline_operations','Delete','flex','password','detalleModalPay','application/json;\x20charset=utf-8','cart_','ntf-flotante-orange','click','readAsDataURL','onloadend','No\x20hay\x20operaciones\x20para\x20sincronizar.','1261752nqjHBI','substr','Error:\x20No\x20hay\x20ventanas\x20disponibles.','usuario','TEXTAREA','setInventariable','__proto__','loadingModal','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','createElementNS','setUsuarios','ntf-notifications-list','33x54xsystem','No\x20hay\x20notificaciones','src','Credenciales\x20no\x20encontradas','installing','setCorrelativo','finally','setAttribute','13130109vgVJxy','setShifts','SW\x20Success','readwrite','Ver\x20movimientos','setFloorName','setUserName','CL0','image/png','sort','setWebhook','webkitExitFullscreen','HTTP\x20','getClientRects','setImg','filter','contains','xtt3','append','setItemIsSold','log','ntf-flotante-green','setSeries','https://','Error\x20al\x20enviar\x20correo:','setPriceLists','setMtoValorUnitario','Inicio\x20de\x20sesión\x20exitoso\x20...','septiembre','prototype','statusText','style','\x20...','height','uy22','Arrays\x20actualizados\x20para\x20windowId\x20','Helvetica','Products\x20Empty.','ntf-flotante-bottom','embedFont','setMtoPrecioCostoUnitario','(((.+)+)+)+$','\x22\x20expiró\x20el\x20','embedJpg','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','transition','closest','setSellerName','mx16','onupgradeneeded','change','createElement','resize','bind','set','Error\x20Update:','ambientes','abril','x32','Error\x20al\x20actualizar\x20data\x20online:','onclick','Error\x20al\x20guardar\x20el\x20layout:\x20','toFixed','Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20','setFechaHora','setItemIsBought','active','windowId','.payment-option','installed','Sincronización\x20completada\x20correctamente.','indexOf','target','fixed','selectedCode','block','setCashierName','position','setAttachEdit','ntf-notif-count','enero','ntf-notification-modal','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesión\x20...</span>','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','.dropdown-list-pais-flag','fullscreenElement','apply','setUserNombres','ntf-modal-actions','onsuccess','ntf-hidden','state','onstatechange','ltop','665knMXzc','ObjectStore\x20\x27','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','offsetHeight','setLayout','preventDefault','3045DjNkjf','setUnidad','getAll','setWindowId','setUnidadCodigo','UY0','setBatchExpirationDate','version','setCodeBarTypes','open','ntf-flotante-container-top','ntf-notification-dropdown','webkitFullscreenElement','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','SW\x20New\x20Version','setCredentialsApiWAChatSubdomain','100%','reduce','text','Error\x20Network.','remove','appendChild','Plan\x20Impulsa','setObservacion','.select-button-pais-flag','.dropdown-item-pais-flag','addPage','animationend','setTipAfeIgv','Backspace','mozRequestFullScreen','setClienteDireccion','Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20','ntf-flotante-container-bottom','setBranchId','setCompanyName','\x20de\x20','tagName','http://www.w3.org/2000/svg','Sincronizando\x20','key','querySelector','Products\x20Load\x20Error:','.product[tabindex=\x270\x27]','button','justifyContent','ntfIndex','setUsers','create','objectStore','mozCancelFullScreen','dispatchEvent','scale','setSerie','pop','junio','infoLoadingModal','focus','Registrar\x20movimiento','console','setDescripcion','setClienteDenominacion','AR0','mayo','concat','cl19','setDespacho','mozFullScreenElement','setCollaborators','stopPropagation','febrero','option','catch','setWindowName','createObjectStore','split','#container-section-pay-','setCredentialsApiWAChat','company','\x0aEl\x20producto\x20\x22','isArray','setCajeroCodigo','hidden','MX20','innerHTML','][setItemImages][','drawText','setCodeBarTypeName','table','keydown','ntf-modal-close','./img/product.png','search','setTipoOperacion','ntf-modal-body','getMonth','opacity','onupdatefound','deleteObjectStore','setIdProducto','then','julio','setId','ntf-flotante-blue','f34f','title','forEach','toggle','some','name','reject','Error\x20','keys','Imagen\x20inválida\x20en\x20newItems[','E01','rgf4x32','msRequestFullscreen','ar21','widthOfTextAtSize','diciembre','layoutState','setHours','setSucursalStock','min','getContext','windowIds\x20previamente\x20creados:','controller','Error\x20al\x20procesar\x20operaciones\x20offline:','setMtoValorCostoUnitario','msExitFullscreen','startsWith','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','setWarehouseName','result','5092692xWYWFw','setItemBarCode','setImpuestoValue','pcrcl','setMarca','noviembre','resolve','Generando\x20','Sincronizando\x20...','center','30wpGICy','classList','POST','setBankAccounts','507983Ymqrvt','Solo\x20necesitas\x20internet\x20para\x20acceder!','setCompanyWebsite','push','setWarehouses','json','32system','octubre','S02','setCredentialsApiWAChatAlias','left','info','stringify','setCompanyPhone','disabled','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','setBatchName','serializeToString','Tab','get','getElementById','setTaxId',']\x20–\x20se\x20omite.','getDate','drawImage','setPrinters','setItemImages','success','topbar','Company\x20Load\x20Error:','Error\x20en\x20la\x20solicitud:','login','fullscreen-btn','slice','Error\x20desconocido.','offsetWidth','shiftKey','layout','value','https://apierp.dev/api/company/get/','setCompanyEmail','window_options_','setClienteTipoDoc','\x20del\x20','searchInput','setBranches','filename','addEventListener','pdfBlob','map','documentElement','Error\x20in\x20saving\x20to\x20store\x20','\x22\x20para\x20registro\x20#','dataset','location','Error\x20guardando\x20operación:\x20','d-none','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','setWarehouseId','agosto','marzo','ntf-flotante-message\x20','zIndex','onerror','width','exitFullscreen','from','products','setCredentialsApiWAChatPort','objectStoreNames','div','setFloorId','Error:\x20','Company\x20Empty.','Company\x20Load.','setBranchName','Nombre\x20de\x20store\x20no\x20válido:\x20','application/pdf','none','documento.pdf','all','setConversionFactor','data-ntf-index','setImpuestos','canvas','setIdSucursal','save','setCompanyDoc','createIndex','register','reload','\x27\x20creado\x20correctamente.','add','Stock\x20mínimo:\x20','setSellerId','Stock\x20Actual:\x20','\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a','input,\x20select,\x20button,\x20a:not(.payment-option)','setDescuentoGlobal_Monto','1192yRVjlM','Acción\x20\x22','Error:\x20Domain\x20not\x20registered.','Revisar\x20lote','setCompanyNameTrade','apiERP','put','setCustomerEmail','\x20–\x20','clear','requestFullscreen','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','charCodeAt','alignItems','setCompanyAddress','setUserFullName','id_registro','textContent','transaction','random','setItemDescription','setTipoOperacionInvoice','setMtoPrecioUnitario','toString','setCategoria','setCustomerPhone','60942STOSdJ','setCredentialsApiWAChatId','cartId','message','setCurrencyDefault','setCodeBarTypeId','sucursales','ar10.5','Todos\x20los\x20campos\x20son\x20obligatorios.','constructor','Formato\x20inesperado\x20en\x20base64','https://apierp.dev/api/apiPOS/get/','7822374jQuyfO','CODE128','ntf-flotante-top','setMessage','webkitRequestFullscreen','includes','serviceWorker','Error\x20al\x20obtener\x20las\x20operaciones:\x20','now','pos','Error\x20desconocido\x20al\x20actualizar\x20Data.','has','setWarehouseStockMin','warn','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:','/send','Enter','https://apierp.dev/api/email/send/','setCompanyLogo','].setItemImages[','querySelectorAll','setSuppliers','onLine','backgroundColor','error','display','readonly','find','./app.js?v=4.1.3','S01','setImages','length','64system','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.1.3\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','setCustomers','setWindows','oncomplete'];_0x3116=function(){return _0x5417e1;};return _0x3116();}async function logoutReload(_0xb9c876=0x0,_0x2d19e4){const _0x80b720=_0x2611c9;if(_0xb9c876!=0x1){showLoadingModal();const _0x3ec388=document[_0x80b720(0x225)](_0x80b720(0x1b5));_0x3ec388[_0x80b720(0x1d1)]=_0x80b720(0x33e);}_0x2d19e4==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}function registerServiceWorker(_0x5019a4,_0x374331){const _0x5b9d50=_0x2611c9;'serviceWorker'in navigator&&navigator[_0x5b9d50(0x2a0)][_0x5b9d50(0x26a)](_0x5019a4)[_0x5b9d50(0x1e1)](_0xaebfcb=>{const _0x1810de=_0x5b9d50;console[_0x1810de(0x300)](_0x1810de(0x2ee)),_0xaebfcb[_0x1810de(0x1de)]=()=>{const _0x252938=_0x1810de,_0x1d9f16=_0xaebfcb[_0x252938(0x2e8)];_0x1d9f16[_0x252938(0x348)]=()=>{const _0x256bc2=_0x252938;_0x1d9f16[_0x256bc2(0x347)]==_0x256bc2(0x331)&&navigator['serviceWorker'][_0x256bc2(0x1fb)]&&console[_0x256bc2(0x300)](_0x256bc2(0x18b));};},navigator[_0x1810de(0x2a0)][_0x1810de(0x240)]('controllerchange',()=>{const _0x5043fe=_0x1810de;showLoadingModal();const _0x5c133d=document[_0x5043fe(0x225)](_0x5043fe(0x1b5));_0x5c133d[_0x5043fe(0x1d1)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.1.3\x20...</span>',logoutReload(0x1,_0x374331);});})[_0x5b9d50(0x1c5)](_0x36f0ff=>console[_0x5b9d50(0x2b2)](_0x5b9d50(0x200),_0x36f0ff));}function isLoggedIn(_0x23cbb4){return _0x23cbb4&&_0x23cbb4[0x0]&&_0x23cbb4[0x0]['setUser_Local'];}function _0x3acd(_0x39cebe,_0x21fb62){const _0x425755=_0x3116();return _0x3acd=function(_0x17fec4,_0x357dff){_0x17fec4=_0x17fec4-0x18b;let _0x2de86e=_0x425755[_0x17fec4];return _0x2de86e;},_0x3acd(_0x39cebe,_0x21fb62);}function apiERPShowContent(){const _0x1aa5f5=_0x2611c9;document[_0x1aa5f5(0x225)]('header')['classList'][_0x1aa5f5(0x191)](_0x1aa5f5(0x1cf)),document[_0x1aa5f5(0x225)](_0x1aa5f5(0x2a3))['classList'][_0x1aa5f5(0x191)](_0x1aa5f5(0x1cf)),document['getElementById'](_0x1aa5f5(0x230))[_0x1aa5f5(0x20e)]['add'](_0x1aa5f5(0x1cf));const _0x51b2d6=document[_0x1aa5f5(0x225)](_0x1aa5f5(0x22d));_0x51b2d6&&_0x51b2d6[_0x1aa5f5(0x20e)][_0x1aa5f5(0x191)](_0x1aa5f5(0x1cf));}function x64ctotalcal(){const _0x50985f=_0x2611c9;return window[_0x50985f(0x247)]['hostname'];}function x64btsparamnumber(_0x594070){const _0x25dfd2=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x594070==_0x25dfd2;}function x32btsfirefoxcalc(_0x308f05){const _0x2fa50d=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x308f05==_0x2fa50d;}function x64bitsdescitem(_0x336779){const _0x3bc4f8=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x336779==_0x3bc4f8;}function x43bitsdescglobal(_0x11dadc){const _0x1c7eae=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x11dadc==_0x1c7eae;}function x32bitsCompanyTkn(_0x3f71d4){const _0x904a58=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x3f71d4==_0x904a58;}function x64bitsparamnumber(_0x32ee62,_0x17373e){const _0x2d368c=_0x17373e;return _0x32ee62==_0x2d368c;}function activarRender(_0x514d61){const _0x329801=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x514d61)];return _0x329801['includes'](!![]);}function saveCompanyToIndexedDB(_0x34b4d6,_0x3b3db5){return new Promise((_0x16c9da,_0x3569ec)=>{const _0x1f7b5c=_0x3acd,_0xcb7aef=_0x3b3db5[_0x1f7b5c(0x286)]('company',_0x1f7b5c(0x2ef)),_0x185302=_0xcb7aef['objectStore']('company');_0x185302[_0x1f7b5c(0x27d)](),_0x34b4d6[_0x1f7b5c(0x1e7)](_0x3b4bd5=>_0x185302['put'](_0x3b4bd5)),_0xcb7aef['oncomplete']=()=>_0x16c9da(),_0xcb7aef[_0x1f7b5c(0x250)]=_0x32587b=>_0x3569ec(_0x32587b[_0x1f7b5c(0x334)][_0x1f7b5c(0x2b2)]);});}function loadCompanyFromIndexedDB(_0x4339e4){return new Promise((_0x3b62b2,_0x1c2bc4)=>{const _0x3e7998=_0x3acd,_0xe9b431=_0x4339e4['transaction']('company',_0x3e7998(0x2b4)),_0x36f815=_0xe9b431['objectStore']('company'),_0x3d5525=_0x36f815['getAll']();_0x3d5525[_0x3e7998(0x345)]=()=>_0x3b62b2(_0x3d5525['result']),_0x3d5525[_0x3e7998(0x250)]=_0x50f2da=>_0x1c2bc4(_0x50f2da[_0x3e7998(0x334)][_0x3e7998(0x2b2)]);});}async function initializeCompany(_0x41c7ee){const _0x5b7f48=_0x2611c9;try{const _0x1514a7=await loadCompanyFromIndexedDB(_0x41c7ee);company=_0x1514a7,company['length']>0x0?(console[_0x5b7f48(0x300)](_0x5b7f48(0x25b)),myCompany=company[0x0]):console[_0x5b7f48(0x300)](_0x5b7f48(0x25a));}catch(_0xd93cd8){console[_0x5b7f48(0x2b2)](_0x5b7f48(0x22e),_0xd93cd8);}}function loadProductsFromIndexedDB(_0x58c4dd){return new Promise((_0x4bad72,_0x17aeaa)=>{const _0x28a52c=_0x3acd,_0x383dde=_0x58c4dd[_0x28a52c(0x286)]('products',_0x28a52c(0x2b4)),_0x117e1a=_0x383dde[_0x28a52c(0x1ae)](_0x28a52c(0x254)),_0x21a6a0=_0x117e1a[_0x28a52c(0x352)]();_0x21a6a0['onsuccess']=()=>_0x4bad72(_0x21a6a0['result']),_0x21a6a0[_0x28a52c(0x250)]=_0x1c4e6d=>_0x17aeaa(_0x1c4e6d[_0x28a52c(0x334)][_0x28a52c(0x2b2)]);});}async function initializeProducts(_0x30c83e){const _0x5d16bf=_0x2611c9;try{const _0x3ec955=await loadProductsFromIndexedDB(_0x30c83e);products=_0x3ec955,products[_0x5d16bf(0x2b9)]>0x0?console[_0x5d16bf(0x300)]('Products\x20Load.'):console['log'](_0x5d16bf(0x311));}catch(_0x244c7f){console[_0x5d16bf(0x2b2)](_0x5d16bf(0x1a7),_0x244c7f);}}async function validateAccess(_0x3a8409){const _0x1eace8=_0x2611c9;await initializeCompany(_0x3a8409);if(!isLoggedIn(company))throw new Error('User\x20no\x20Logged!');if(!activarRender(company[0x0]['setEmpresaDomainWork'])){alert(_0x1eace8(0x276));throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function initCountrySelector(_0x5d8b11){const _0x503a9e=_0x2611c9,_0x1813ff=_0x5d8b11['querySelector'](_0x503a9e(0x195)),_0x2ec285=_0x5d8b11[_0x503a9e(0x1a6)](_0x503a9e(0x340));let _0x163223=_0x1813ff[_0x503a9e(0x246)][_0x503a9e(0x336)]||'51';function _0x32fb1b(){_0x2ec285['style']['width']=_0x1813ff['offsetWidth']+'px';}_0x32fb1b(),window[_0x503a9e(0x240)](_0x503a9e(0x320),_0x32fb1b),_0x1813ff[_0x503a9e(0x240)](_0x503a9e(0x2d4),function(_0x5a06e5){const _0x2c1a17=_0x503a9e;_0x5a06e5[_0x2c1a17(0x1c2)](),_0x32fb1b();const _0x115963=_0x2ec285[_0x2c1a17(0x30b)]['display']===_0x2c1a17(0x337);document[_0x2c1a17(0x2ae)](_0x2c1a17(0x340))[_0x2c1a17(0x1e7)](_0x296e1c=>{const _0x5817de=_0x2c1a17;if(_0x296e1c!==_0x2ec285)_0x296e1c[_0x5817de(0x30b)][_0x5817de(0x2b3)]=_0x5817de(0x25f);}),_0x2ec285['style']['display']=_0x115963?_0x2c1a17(0x25f):'block';}),_0x2ec285[_0x503a9e(0x2ae)](_0x503a9e(0x196))[_0x503a9e(0x1e7)](_0x57f4d0=>{const _0x450c88=_0x503a9e;_0x57f4d0['addEventListener'](_0x450c88(0x2d4),function(_0x3fc025){const _0x55fedf=_0x450c88;_0x3fc025[_0x55fedf(0x1c2)](),_0x163223=this[_0x55fedf(0x246)]['code'],_0x1813ff[_0x55fedf(0x246)][_0x55fedf(0x336)]=_0x163223,_0x1813ff[_0x55fedf(0x1d1)]=this[_0x55fedf(0x1d1)],_0x2ec285[_0x55fedf(0x30b)][_0x55fedf(0x2b3)]=_0x55fedf(0x25f);});}),document['addEventListener']('click',function(_0x2a6184){const _0x456f56=_0x503a9e;!_0x1813ff[_0x456f56(0x2fc)](_0x2a6184['target'])&&!_0x2ec285[_0x456f56(0x2fc)](_0x2a6184[_0x456f56(0x334)])&&(_0x2ec285[_0x456f56(0x30b)][_0x456f56(0x2b3)]=_0x456f56(0x25f));});}function getCredentialsApiWAChat(_0x5504b0){return myCompany['setCredentialsApiWAChat']['find'](_0x57eaa0=>_0x57eaa0['setCredentialsApiWAChatId']==_0x5504b0)||null;}async function sendMessageApiWAChat(_0x31dc9e,_0x571330,_0xd84562,_0x536cad,_0x447f1b,_0x58a567,_0x5242ce){const _0x355f90=_0x2611c9,_0x503d0a=getCredentialsApiWAChat(_0x31dc9e);if(!_0x503d0a)return Promise[_0x355f90(0x1eb)](new Error(_0x355f90(0x2e7)));const _0x3cbf0c=_0x503d0a[_0x355f90(0x18c)],_0x53d9ac=_0x503d0a[_0x355f90(0x255)],_0x4b906f={'type':_0xd84562,'content':_0x536cad};if(_0x447f1b)_0x4b906f['caption']=_0x447f1b;_0x58a567&&(_0x4b906f[_0x355f90(0x23f)]=_0x58a567);_0x5242ce&&(_0x4b906f['mimetype']=_0x5242ce);const _0x290142=_0x355f90(0x303)+_0x3cbf0c+'/wa/'+_0x53d9ac+_0x355f90(0x2a9),_0x20439b=await fetch(_0x290142,{'method':_0x355f90(0x20f),'headers':{'Content-Type':'application/json','x-auth-token':myCompany[_0x355f90(0x2c8)]},'body':JSON[_0x355f90(0x21d)]({'to':_0x571330,'payload':_0x4b906f})});if(!_0x20439b['ok']){const _0x293692=await _0x20439b[_0x355f90(0x216)]()[_0x355f90(0x1c5)](()=>({}));throw new Error(_0x293692['error']||_0x355f90(0x1ec)+_0x20439b['status']);}return _0x20439b[_0x355f90(0x216)]();}async function saveCredentialsApiWAChatInCompany(){const _0x33cdb2=_0x2611c9,_0x245e5a=document[_0x33cdb2(0x225)]('setCredentialsApiWAChat'),_0x100b61=_0x245e5a['value'],_0x186a91=getCredentialsApiWAChat(_0x100b61);_0x186a91&&(myCompany[_0x33cdb2(0x2bf)]=_0x186a91[_0x33cdb2(0x28f)]);}async function loadCart(_0x29db18){const _0x1189f2=_0x2611c9;try{const _0x2dddb6=await createCartStore(''),_0x3c4dbf=[];await validateAccess(_0x2dddb6);const _0x2bc1ae=company[0x0]['setUser_Local'],_0x51b1bc=company[0x0]['setUsers']['find'](_0x4734eb=>_0x4734eb['setUserEmail']==_0x2bc1ae[_0x1189f2(0x2f2)]),_0x11bf88=company[0x0][_0x1189f2(0x23e)],_0x170a18=document[_0x1189f2(0x225)](_0x1189f2(0x19f));_0x170a18[_0x1189f2(0x1d1)]='';if(_0x51b1bc&&_0x51b1bc[_0x1189f2(0x23e)]){const _0x147564=_0x11bf88[_0x1189f2(0x2fb)](_0x2f8e7f=>_0x51b1bc[_0x1189f2(0x23e)][_0x1189f2(0x1e9)](_0x495547=>_0x495547['setBranchId']==_0x2f8e7f['setBranchId']));_0x147564[_0x1189f2(0x1e7)](_0x5abf12=>{const _0x1ac362=_0x1189f2,_0x56b24c=document['createElement'](_0x1ac362(0x1c4));_0x56b24c[_0x1ac362(0x237)]=_0x5abf12[_0x1ac362(0x19f)],_0x56b24c['textContent']=_0x5abf12[_0x1ac362(0x25c)],_0x170a18[_0x1ac362(0x192)](_0x56b24c);});}if(_0x29db18==0x1){const _0x4c333f=document[_0x1189f2(0x225)](_0x1189f2(0x1ce));_0x4c333f[_0x1189f2(0x1d1)]='';if(_0x51b1bc){const _0x3374cd=document['createElement'](_0x1189f2(0x1c4));_0x3374cd[_0x1189f2(0x237)]=_0x51b1bc['setUserCode'],_0x3374cd[_0x1189f2(0x285)]=_0x51b1bc[_0x1189f2(0x283)],_0x4c333f[_0x1189f2(0x192)](_0x3374cd);}const _0x25d96e=Array[_0x1189f2(0x253)](_0x2dddb6[_0x1189f2(0x256)])[_0x1189f2(0x2fb)](_0x789969=>_0x789969[_0x1189f2(0x1ff)](_0x1189f2(0x23a)))[_0x1189f2(0x242)](_0xd3eef7=>{const _0x6745ee=_0xd3eef7['split']('_');return _0x6745ee['length']>=0x3?_0x6745ee[0x2]:null;})['filter'](_0x2c2164=>_0x2c2164!==null);console['log'](_0x1189f2(0x1fa),_0x25d96e);const _0x499c2f=Array[_0x1189f2(0x253)](_0x2dddb6['objectStoreNames'])[_0x1189f2(0x2fb)](_0x5748c7=>_0x5748c7['startsWith'](_0x1189f2(0x23a)))['sort']((_0x3e8abb,_0x4c83cf)=>{const _0x37eff1=_0x1189f2,_0x2efff1=parseInt(_0x3e8abb['split']('_')[_0x37eff1(0x1b3)](),0xa),_0x144b0f=parseInt(_0x4c83cf[_0x37eff1(0x1c8)]('_')[_0x37eff1(0x1b3)](),0xa);return _0x2efff1-_0x144b0f;});for(const _0x428d79 of _0x499c2f){const _0x4e9262=_0x428d79['split']('_');if(_0x4e9262[_0x1189f2(0x2b9)]<0x3){console[_0x1189f2(0x2b2)](_0x1189f2(0x25d)+_0x428d79);continue;}const _0xa78f5=_0x4e9262[0x2];if(_0x25d96e[_0x1189f2(0x29f)](_0xa78f5)){const _0x419d31=new Promise((_0x14b4d7,_0x19f428)=>{const _0x17fe9c=_0x1189f2,_0x531705=_0x2dddb6[_0x17fe9c(0x286)]([_0x428d79],_0x17fe9c(0x2b4)),_0x2e637e=_0x531705[_0x17fe9c(0x1ae)](_0x428d79),_0x16dad0=_0x2e637e[_0x17fe9c(0x224)](_0xa78f5);_0x16dad0[_0x17fe9c(0x345)]=function(_0x5ef07f){const _0x5c3d5a=_0x17fe9c,_0x56885b=_0x5ef07f[_0x5c3d5a(0x334)][_0x5c3d5a(0x202)];window_options[_0xa78f5]={},_0x56885b&&(window_options[_0xa78f5]={'setTipoOperacionInvoice':_0x56885b[_0x5c3d5a(0x289)],'setTipoOperacion':_0x56885b[_0x5c3d5a(0x1da)],'setSerie':_0x56885b[_0x5c3d5a(0x1b2)],'setCorrelativo':_0x56885b[_0x5c3d5a(0x2e9)],'setMoneda':_0x56885b[_0x5c3d5a(0x2c0)],'setClienteTipoDoc':_0x56885b[_0x5c3d5a(0x23b)],'setClienteNumDoc':_0x56885b['setClienteNumDoc'],'setClienteDenominacion':_0x56885b[_0x5c3d5a(0x1ba)],'setClienteDireccion':_0x56885b[_0x5c3d5a(0x19c)],'setCustomerPhone':_0x56885b[_0x5c3d5a(0x28d)],'setCustomerEmail':_0x56885b[_0x5c3d5a(0x27b)],'setFechaHora':_0x56885b[_0x5c3d5a(0x32c)],'setSellerId':_0x56885b[_0x5c3d5a(0x26f)],'setSellerName':_0x56885b[_0x5c3d5a(0x31b)],'setDespacho':_0x56885b[_0x5c3d5a(0x1bf)],'setObservacion':_0x56885b[_0x5c3d5a(0x194)],'setDescuentoGlobal_Monto':_0x56885b[_0x5c3d5a(0x273)],'setAttachEdit':_0x56885b[_0x5c3d5a(0x33a)]},console['log'](_0x5c3d5a(0x30f)+_0xa78f5+':',_0x56885b)),Promise['resolve'](updateTab(_0xa78f5))[_0x5c3d5a(0x1e1)](_0x14b4d7)[_0x5c3d5a(0x1c5)](_0x2b6179=>{const _0x29147b=_0x5c3d5a;console[_0x29147b(0x2b2)](_0x29147b(0x34c),_0x2b6179),_0x19f428(_0x2b6179);});},_0x16dad0[_0x17fe9c(0x250)]=function(_0x5bf202){const _0x4955e9=_0x17fe9c;console[_0x4955e9(0x2b2)](_0x4955e9(0x32b)+_0xa78f5+'.',_0x5bf202[_0x4955e9(0x334)][_0x4955e9(0x2b2)]),_0x19f428(_0x5bf202[_0x4955e9(0x334)]['error']);};});_0x3c4dbf[_0x1189f2(0x214)](_0x419d31);}}const _0x13946e=Array[_0x1189f2(0x253)](_0x2dddb6['objectStoreNames'])[_0x1189f2(0x2fb)](_0x1f3b2a=>_0x1f3b2a[_0x1189f2(0x1ff)](_0x1189f2(0x2d2)))[_0x1189f2(0x2f5)]((_0x3ae507,_0x2f6af6)=>{const _0x4ad8c9=_0x1189f2,_0x22c802=parseInt(_0x3ae507[_0x4ad8c9(0x1c8)]('_')[_0x4ad8c9(0x1b3)](),0xa),_0x266157=parseInt(_0x2f6af6[_0x4ad8c9(0x1c8)]('_')[_0x4ad8c9(0x1b3)](),0xa);return _0x22c802-_0x266157;});for(const _0x392023 of _0x13946e){const _0x584dca=_0x392023[_0x1189f2(0x1c8)]('_')[0x1];!carts[_0x584dca]&&(carts[_0x584dca]=[]);const _0x555904=new Promise((_0x3cac07,_0x2d234c)=>{const _0x342c7a=_0x1189f2,_0x18d7a2=_0x2dddb6['transaction']([_0x392023],_0x342c7a(0x2b4)),_0x5f11df=_0x18d7a2[_0x342c7a(0x1ae)](_0x392023),_0x394eca=_0x5f11df[_0x342c7a(0x352)]();_0x394eca[_0x342c7a(0x345)]=function(_0x424fc6){const _0x169324=_0x342c7a,_0x1e726e=_0x424fc6[_0x169324(0x334)]['result'];carts[_0x584dca]['length']=0x0,_0x1e726e[_0x169324(0x1e7)](_0x4e7c65=>carts[_0x584dca][_0x169324(0x214)](_0x4e7c65)),renderCart(_0x584dca),_0x3cac07();},_0x394eca[_0x342c7a(0x250)]=function(_0x349977){const _0x141589=_0x342c7a;console[_0x141589(0x2b2)](_0x141589(0x19d)+_0x584dca+'.',_0x349977['target']['error']),_0x2d234c(_0x349977[_0x141589(0x334)][_0x141589(0x2b2)]);};});_0x3c4dbf[_0x1189f2(0x214)](_0x555904);}}if(_0x29db18==0x2||_0x29db18==0x3||_0x29db18==0x4){const _0x1f0244=document['getElementById']('setPlanName'),_0x2740a7=document[_0x1189f2(0x225)](_0x1189f2(0x338));_0x1f0244['innerHTML']='',_0x2740a7[_0x1189f2(0x1d1)]='',_0x51b1bc&&(_0x1f0244[_0x1189f2(0x1d1)]=_0x1189f2(0x193),_0x2740a7[_0x1189f2(0x1d1)]=_0x51b1bc[_0x1189f2(0x283)]);}if(_0x29db18==0x1||_0x29db18==0x4){const _0x35919f=myCompany[_0x1189f2(0x1ca)],_0x56331b=document[_0x1189f2(0x225)](_0x1189f2(0x1ca));_0x56331b['innerHTML']='',_0x35919f['forEach'](_0x585008=>{const _0xe42ec7=_0x1189f2,_0x3ed75d=document['createElement'](_0xe42ec7(0x1c4));_0x3ed75d[_0xe42ec7(0x237)]=_0x585008['setCredentialsApiWAChatId'],_0x3ed75d['textContent']=_0x585008[_0xe42ec7(0x21a)]??_0x585008[_0xe42ec7(0x255)],_0x56331b['appendChild'](_0x3ed75d);}),myCompany?.['setCredentialsApiWAChatIdDefault']&&(_0x56331b['value']=myCompany[_0x1189f2(0x2bf)]);}return await Promise[_0x1189f2(0x261)](_0x3c4dbf),myCompany?.['setBranchDefault']&&(document[_0x1189f2(0x225)]('setBranchId')[_0x1189f2(0x237)]=company[0x0]['setBranchDefault']),document['getElementById'](_0x1189f2(0x19f))[_0x1189f2(0x1b0)](new Event(_0x1189f2(0x31e))),_0x29db18==0x1&&(tabCount=getMaxWindowId(carts),console[_0x1189f2(0x300)]('Tab\x20count\x20inicializado\x20en:\x20'+tabCount)),_0x2dddb6;}catch(_0x297046){throw _0x297046;}}function loadCartAndSetTabCount(_0xa5eb0){const _0x117f10=_0x2611c9;loadCart(_0xa5eb0)['then'](async _0x4704df=>{const _0x2c0a6b=_0x3acd;await initializeProducts(_0x4704df);if(_0xa5eb0==0x1){if(isLoggedIn(company)){const _0x41d20e=document[_0x2c0a6b(0x225)]('windowId')[_0x2c0a6b(0x237)];parseFloat(_0x41d20e)>0x0&&(await renderProducts(),initializeCategorys());}adjustHeight(),showLeftSection(),setActiveTab(_0x2c0a6b(0x324)),document[_0x2c0a6b(0x240)](_0x2c0a6b(0x1d6),function(_0x5859c0){const _0x400b54=_0x2c0a6b,_0x56f8fb=document[_0x400b54(0x225)](_0x400b54(0x32f))[_0x400b54(0x237)],_0x1696a1=document[_0x400b54(0x225)](_0x400b54(0x23d)),_0x308523=document['querySelectorAll'](_0x400b54(0x1a8)),_0x1aa5de=document[_0x400b54(0x225)]('checkout-btn-'+_0x56f8fb),_0x21ceeb=document[_0x400b54(0x225)]('btnSaveOperacion-'+_0x56f8fb),_0x27e575=document['getElementById'](_0x400b54(0x2d0));function _0x43af7d(_0x21c451){const _0x3455f4=_0x400b54;return _0x21c451&&(_0x21c451[_0x3455f4(0x234)]>0x0||_0x21c451[_0x3455f4(0x34d)]>0x0||_0x21c451[_0x3455f4(0x2f9)]()[_0x3455f4(0x2b9)]);}let _0x12e6e4=[];if(_0x27e575&&_0x27e575[_0x400b54(0x20e)]['contains'](_0x400b54(0x32e))){const _0x24718a=_0x27e575[_0x400b54(0x2ae)](_0x400b54(0x330));_0x24718a[_0x400b54(0x1e7)](_0x3d6301=>{const _0x160aa6=_0x400b54;_0x43af7d(_0x3d6301)&&!_0x3d6301[_0x160aa6(0x20e)][_0x160aa6(0x2fc)](_0x160aa6(0x249))&&_0x12e6e4[_0x160aa6(0x214)](_0x3d6301);});const _0x1ab200=_0x27e575[_0x400b54(0x1a6)](_0x400b54(0x1c9)+_0x56f8fb);if(_0x1ab200){const _0x271080=_0x1ab200[_0x400b54(0x2ae)](_0x400b54(0x272));_0x271080[_0x400b54(0x1e7)](_0x89968=>{const _0x479ea5=_0x400b54;_0x43af7d(_0x89968)&&!_0x89968[_0x479ea5(0x20e)][_0x479ea5(0x2fc)](_0x479ea5(0x249))&&_0x12e6e4[_0x479ea5(0x214)](_0x89968);});}_0x21ceeb&&_0x43af7d(_0x21ceeb)&&!_0x21ceeb[_0x400b54(0x20e)][_0x400b54(0x2fc)]('d-none')&&(!_0x12e6e4[_0x400b54(0x29f)](_0x21ceeb)&&_0x12e6e4['push'](_0x21ceeb));}else{_0x12e6e4=[_0x1696a1,..._0x308523];if(_0x1aa5de)_0x12e6e4[_0x400b54(0x214)](_0x1aa5de);}const _0x529bf2=document['activeElement'],_0x4473b6=_0x529bf2&&(_0x529bf2[_0x400b54(0x1a2)]=='INPUT'||_0x529bf2[_0x400b54(0x1a2)]==_0x400b54(0x2dc));if(_0x27e575&&_0x27e575[_0x400b54(0x20e)][_0x400b54(0x2fc)](_0x400b54(0x32e))&&_0x5859c0[_0x400b54(0x1a5)]==_0x400b54(0x2aa)){if(_0x529bf2&&_0x529bf2[_0x400b54(0x20e)][_0x400b54(0x2fc)]('payment-option')){_0x5859c0['preventDefault'](),_0x529bf2[_0x400b54(0x2d4)]();return;}}if(_0x27e575&&_0x27e575[_0x400b54(0x20e)][_0x400b54(0x2fc)](_0x400b54(0x32e))&&_0x5859c0[_0x400b54(0x1a5)]==_0x400b54(0x223)&&!_0x27e575[_0x400b54(0x2fc)](_0x529bf2)){_0x5859c0[_0x400b54(0x34f)]();_0x12e6e4['length']>0x0&&_0x12e6e4[0x0][_0x400b54(0x1b6)]();return;}if(_0x5859c0['key']==_0x400b54(0x223)){_0x5859c0[_0x400b54(0x34f)]();if(_0x12e6e4[_0x400b54(0x2b9)]==0x0)return;let _0x42d996=_0x12e6e4[_0x400b54(0x333)](_0x529bf2);if(_0x42d996==-0x1)_0x42d996=-0x1;let _0x2b5fc1;_0x5859c0[_0x400b54(0x235)]?_0x2b5fc1=_0x42d996<=0x0?_0x12e6e4['length']-0x1:_0x42d996-0x1:_0x2b5fc1=_0x42d996==_0x12e6e4[_0x400b54(0x2b9)]-0x1?0x0:_0x42d996+0x1;_0x12e6e4[_0x2b5fc1][_0x400b54(0x1b6)]();return;}(!_0x27e575||!_0x27e575[_0x400b54(0x20e)]['contains'](_0x400b54(0x32e)))&&!_0x4473b6&&(_0x5859c0[_0x400b54(0x1a5)][_0x400b54(0x2b9)]==0x1||_0x5859c0[_0x400b54(0x1a5)]=='Backspace'||_0x5859c0[_0x400b54(0x1a5)]==_0x400b54(0x2cd))&&(_0x5859c0[_0x400b54(0x34f)](),_0x1696a1['focus'](),_0x5859c0[_0x400b54(0x1a5)]==_0x400b54(0x19a)||_0x5859c0[_0x400b54(0x1a5)]==_0x400b54(0x2cd)?_0x1696a1[_0x400b54(0x237)]=_0x1696a1[_0x400b54(0x237)]['slice'](0x0,-0x1):!_0x1696a1[_0x400b54(0x237)]?_0x1696a1['value']=_0x5859c0[_0x400b54(0x1a5)]:_0x1696a1['value']+=_0x5859c0[_0x400b54(0x1a5)]);}),loadTaxData(),resetNewItemForm();}_0xa5eb0==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0xa5eb0==0x3){const _0x41f23c=document[_0x2c0a6b(0x225)](_0x2c0a6b(0x19f))[_0x2c0a6b(0x237)];fil_BranchesId[_0x2c0a6b(0x214)](_0x41f23c),updateDateRange(_0x2c0a6b(0x2c7));}_0xa5eb0==0x4&&init();})[_0x117f10(0x1c5)](_0x314d17=>{console['error'](_0x314d17);})[_0x117f10(0x2ea)](()=>{const _0x593879=_0x117f10;_0xa5eb0==0x1&&updateInternetIcon();let _0x41a998;(_0xa5eb0==0x1||_0xa5eb0==0x2||_0xa5eb0==0x3||_0xa5eb0==0x4)&&(_0x41a998=_0x593879(0x2b6)),registerServiceWorker(_0x41a998,_0xa5eb0);});}