/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.0.5
*/

var _0x2e2084=_0x54e8;(function(_0x3688ce,_0x1ae328){var _0x1b19b5=_0x54e8,_0x1555ce=_0x3688ce();while(!![]){try{var _0x7e6fa0=parseInt(_0x1b19b5(0xe4))/0x1*(parseInt(_0x1b19b5(0xbd))/0x2)+-parseInt(_0x1b19b5(0x195))/0x3+parseInt(_0x1b19b5(0xb8))/0x4*(-parseInt(_0x1b19b5(0x12a))/0x5)+-parseInt(_0x1b19b5(0x126))/0x6+-parseInt(_0x1b19b5(0xe3))/0x7*(parseInt(_0x1b19b5(0x8b))/0x8)+parseInt(_0x1b19b5(0x16a))/0x9*(parseInt(_0x1b19b5(0xa3))/0xa)+parseInt(_0x1b19b5(0xde))/0xb;if(_0x7e6fa0===_0x1ae328)break;else _0x1555ce['push'](_0x1555ce['shift']());}catch(_0x1cc0d1){_0x1555ce['push'](_0x1555ce['shift']());}}}(_0x3b84,0x7e76e));var _0x3bed65=(function(){var _0x576eb5=!![];return function(_0x44c916,_0x480dd0){var _0x53672e=_0x576eb5?function(){if(_0x480dd0){var _0x200ba3=_0x480dd0['apply'](_0x44c916,arguments);return _0x480dd0=null,_0x200ba3;}}:function(){};return _0x576eb5=![],_0x53672e;};}()),_0x54c67d=_0x3bed65(this,function(){var _0x4472ee=_0x54e8;return _0x54c67d[_0x4472ee(0xa4)]()[_0x4472ee(0x91)]('(((.+)+)+)+$')[_0x4472ee(0xa4)]()[_0x4472ee(0xd4)](_0x54c67d)['search']('(((.+)+)+)+$');});_0x54c67d();var _0x1938ba=(function(){var _0x4af9f5=!![];return function(_0x512cc0,_0x20b3ee){var _0x1fd20f=_0x4af9f5?function(){if(_0x20b3ee){var _0x577a5c=_0x20b3ee['apply'](_0x512cc0,arguments);return _0x20b3ee=null,_0x577a5c;}}:function(){};return _0x4af9f5=![],_0x1fd20f;};}()),_0x13ebcd=_0x1938ba(this,function(){var _0x3db26e=_0x54e8,_0x2e0c3f;try{var _0x5aa4ed=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2e0c3f=_0x5aa4ed();}catch(_0x5d23e3){_0x2e0c3f=window;}var _0x46e06e=_0x2e0c3f[_0x3db26e(0x6f)]=_0x2e0c3f[_0x3db26e(0x6f)]||{},_0xe91be=['log',_0x3db26e(0x152),'info',_0x3db26e(0x68),_0x3db26e(0x119),'table',_0x3db26e(0xe0)];for(var _0xd4ba12=0x0;_0xd4ba12<_0xe91be[_0x3db26e(0x143)];_0xd4ba12++){var _0x55427a=_0x1938ba['constructor'][_0x3db26e(0x17d)][_0x3db26e(0x171)](_0x1938ba),_0x5c4eba=_0xe91be[_0xd4ba12],_0x5abe88=_0x46e06e[_0x5c4eba]||_0x55427a;_0x55427a['__proto__']=_0x1938ba['bind'](_0x1938ba),_0x55427a[_0x3db26e(0xa4)]=_0x5abe88[_0x3db26e(0xa4)]['bind'](_0x5abe88),_0x46e06e[_0x5c4eba]=_0x55427a;}});_0x13ebcd();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document['getElementById']('newItem_images_container'),unitCount=0x0,branchesC=document['getElementById'](_0x2e2084(0x138)),prodC=document[_0x2e2084(0xba)](_0x2e2084(0x105)),vgCount=0x0,varContainer=document[_0x2e2084(0xba)](_0x2e2084(0xeb)),vgC=document[_0x2e2084(0xba)](_0x2e2084(0xec));function _0x3b84(){var _0x2c70ae=['.options_list\x20div','setDefault','setItemId','progress','#newItem_categories_select\x20.selected_tags','dragenter','focus','className','newItem_brands_select','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','setWarehouseId','getElementsByClassName','true','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','createObjectURL','Ingresa\x20el\x20nombre\x20del\x20item','❌\x20Error:\x20','USD','setTaxIdDefault','340636nwsiaE','setItemBrandName','getElementById','inputItemDescription','setConversionFactor','6AKVbYG','.selected_tags','reduce','createElement','setMtoPrecioCostoUnitario','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','drop-zone','setBatchExpirationDate','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','map','querySelectorAll','none','default','./excel/Plantilla-Items.xlsx','hidden','split','splice','setItemDateExpiry','productType1','newItem_btn_addUnit','setItemUnitAlias','btnItemSave','constructor','.variantForm','setItemBrands','vals','display','.variantBarCode','add','classList','setItemCommissionPercentage','<div\x20class=\x22newItem_col\x22>','23102354YIJmUH','.ms_input','trace','#newItem_categories_select\x20.options_list','eqInput','721WKSjdD','116705vbYMPQ','.branchInit','children','span','join','\x22\x20value=\x22','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','newItem_variants_forms','newItem_variant_groups','.prodQty','.removeGroup','setPrice','target','newItem_chk_sell','Error\x20al\x20guardar\x20Producto\x20Offline:','drop','.variantCode','newItem_btn_addVariantGroup','stopPropagation','.removeProd','setItemImages','image_box','every','detalleModalCreateItem','log','onload','selectedItem','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','parentNode','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','setTaxId','modalOverlayCreateItem','newItem_proditems_container','setPriceUSD','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setSucursalStock','image/*','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','.branchChk','.unitSelect','selectionChange','textContent','setWarehouseCode','div','.unitAlias','setCategoria','#newItem_brands_select\x20.selected_tags','.removeUnit','No\x20hay\x20items\x20para\x20exportar.','setCost','newItem_units_container','exception','newItem_title_table','mousedown','remove-tag','.priceInput','upload-btn','percent','block','closeModalCreateItem','setImpuestoCode','test','setItemName','.vgVals','2383236qdJsqN','setCodProducto','inputItemCode','done','30yUZjwC','newItem_hidden','_units_container','setItemWarehouses','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','onmessage','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','setItemFree','sort','keydown','PEN','setAuthToken','setIdProducto','inputItemBarCode','newItem_branches_container','\x22\x20class=\x22branchChk\x22\x20checked>\x20','fill','file-input','result','unitAlias','unitSelect','\x20items.','newItem_chk_buy','newItem_title_table_cp','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','length','parse','setUnitCode','.removeCombo','setFactor','appendChild','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','100','push','.costInput','setStockMinimum','message','type','dragleave','code','warn','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','setInventariable','setItemTaxCode','setImpuestoValue','.removeVariant','input','entries','objectStore','includes','detail','#newItem_brands_select\x20.options_list','active','setItemInventoriable','setItemUnitId','Nuevo\x20Producto','.vgName','.prod_input_container','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','setItemComponents','setUnitName','undefined','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','9xMMzlz','setMoneda','values','</div>','_comp_container','findIndex','toISOString','bind','setWebhook','name','setStockInitial','setAlias','setUnits','setItemTaxId','setWarehouseStockMin','arrayBuffer','.addVariantUnit','setIdSucursal','selected','prototype','setMarca','isArray','forEach','key','files','inputItemTax','Producto\x20Libre','checked','setEquivalence','trim','stringify','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','Collator','value','now','readwrite','\x22\x20class=\x22branchChk\x22>\x20','currentTarget','dataTransfer','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','dataset','click','2227728fyafYG','inputItemType','setCode','inputItemName','setItemCategories','filter','some','setItemVariantValues','assign','currency_data','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','blur','transaction','Ingresa\x20el\x20código\x20del\x20item','setCantidad','innerHTML','setItemBarCode','toLowerCase','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','.drop-zone__prompt','sucursales','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','setItemUnits','setItemCode','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','import','.branchMin','closest','setImpuestos','setName','newItem_addToCart','tag','download','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','div[data-default=\x22true\x22]\x20.eqInput','./js/apierp_item_wk.min.js','exportDone','compare','error','setMtoPrecioUnitario','modalProductNewTitle','Items\x20finales:','newItem_categories_select','setItemIsSold','setDescripcion','console','setItemType','querySelector','variant_','flatMap','setItemDescription','Producto\x20Guardado\x20Offline\x20Correctamente.','preventDefault','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','accept','slice','inputItemDateExpiry','idx','Generando\x20Excel...','setUnidadCodigo','dragover','windowId','btnExportarItems','base','_branch_container','change','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','style=\x22display:none\x22','dispatchEvent','✅\x20Exportación\x20completada:\x20','contains','.eqInput','file','22112EbVJeo','setItemCategoryName','revokeObjectURL','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setWarehouseName','setItemIsBought','search','setImpuestoName','find','from','remove-file','variantForm','addEventListener','disabled','setItemVariantName','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setBatchName','setItemTaxValue','remove','style','toggle','./img/product.png','.options_list','application/octet-stream','30970awlreM','toString'];_0x3b84=function(){return _0x2c70ae;};return _0x3b84();}const fileInput=document[_0x2e2084(0xba)](_0x2e2084(0x13b)),progressBar=document[_0x2e2084(0xba)](_0x2e2084(0xa8)),statusDiv=document[_0x2e2084(0xba)]('status'),uploadBtn=document['getElementById'](_0x2e2084(0x11e));let newItemsExcel=null;const itemWorker=new Worker(_0x2e2084(0x1b8)),dropZone=document[_0x2e2084(0xba)](_0x2e2084(0xc3)),removeBtn=document[_0x2e2084(0xba)](_0x2e2084(0x95));function showModalCreateItem(_0x5a90e3){var _0x85b2c8=_0x2e2084;const _0x206ee2=document[_0x85b2c8(0xba)](_0x85b2c8(0xfb)),_0x517bf4=document[_0x85b2c8(0xba)](_0x85b2c8(0x104));_0x206ee2[_0x85b2c8(0xdb)][_0x85b2c8(0xda)](_0x85b2c8(0x15e)),_0x517bf4[_0x85b2c8(0x9e)][_0x85b2c8(0xd8)]=_0x85b2c8(0x120);const _0x2be318=document[_0x85b2c8(0xba)](_0x85b2c8(0x131));_0x2be318[_0x85b2c8(0x18c)]=parseInt(_0x5a90e3),baseItem['setItemFree']=parseInt(_0x5a90e3);const _0x293997=document['getElementById'](_0x85b2c8(0x6a));_0x5a90e3==0x0&&(_0x293997[_0x85b2c8(0x1a4)]=_0x85b2c8(0x161));_0x5a90e3==0x1&&(_0x293997[_0x85b2c8(0x1a4)]=_0x85b2c8(0x184));const _0x3b5d56=document[_0x85b2c8(0xb0)](_0x85b2c8(0xd0));for(let _0x45b580=0x0;_0x45b580<_0x3b5d56[_0x85b2c8(0x143)];_0x45b580++){const _0x39437d=_0x3b5d56[_0x45b580];if(_0x5a90e3==0x0)_0x39437d['classList'][_0x85b2c8(0x9d)](_0x85b2c8(0xcc));else _0x5a90e3==0x1&&_0x39437d[_0x85b2c8(0xdb)][_0x85b2c8(0xda)](_0x85b2c8(0xcc));}}function hideModalCreateItem(){var _0x5b8110=_0x2e2084;const _0x431c30=document[_0x5b8110(0xba)](_0x5b8110(0xfb)),_0x3a45c0=document[_0x5b8110(0xba)](_0x5b8110(0x104));_0x431c30[_0x5b8110(0xdb)][_0x5b8110(0x9d)](_0x5b8110(0x15e)),_0x3a45c0[_0x5b8110(0x9e)][_0x5b8110(0xd8)]=_0x5b8110(0xc9);}function _0x54e8(_0x3cbc01,_0x1310ff){var _0x12c506=_0x3b84();return _0x54e8=function(_0x13ebcd,_0x1938ba){_0x13ebcd=_0x13ebcd-0x66;var _0x87c333=_0x12c506[_0x13ebcd];return _0x87c333;},_0x54e8(_0x3cbc01,_0x1310ff);}document[_0x2e2084(0xba)](_0x2e2084(0x121))[_0x2e2084(0x97)](_0x2e2084(0x194),hideModalCreateItem),document[_0x2e2084(0xba)]('modalOverlayCreateItem')[_0x2e2084(0x97)]('click',_0x8c4a60=>{var _0x157892=_0x2e2084;_0x8c4a60[_0x157892(0xf0)]==_0x8c4a60[_0x157892(0x190)]&&_0x8c4a60['stopPropagation']();});function loadTaxData(){var _0x4e964e=_0x2e2084;const _0x56b47c=document[_0x4e964e(0xba)](_0x4e964e(0x183));_0x56b47c[_0x4e964e(0x1a4)]='',company[0x0][_0x4e964e(0x1b1)][_0x4e964e(0x180)](function(_0x498723){var _0x157324=_0x4e964e;const _0x530750=document[_0x157324(0xc0)]('option');_0x530750[_0x157324(0x18c)]=_0x498723[_0x157324(0x103)],_0x530750[_0x157324(0x1a4)]=_0x498723[_0x157324(0x92)]+'\x20('+_0x498723[_0x157324(0x156)]+'%)',_0x498723[_0x157324(0x103)]==company[0x0][_0x157324(0xb7)]&&(_0x530750[_0x157324(0x17c)]=!![]),_0x56b47c[_0x157324(0x148)](_0x530750);});}function uniqueValuesArray(_0x69003d,_0x534b49,_0x4d4efc){var _0x1652ad=_0x2e2084;const _0x4da5ee=Array[_0x1652ad(0x94)](new Set(_0x4d4efc[_0x1652ad(0xc7)](_0x362cba=>{var _0x2c98eb=_0x1652ad;const _0x2dce68=_0x362cba[_0x69003d];return typeof _0x2dce68==='string'?_0x2dce68[_0x2c98eb(0x187)]():_0x2dce68;})['filter'](_0x2c381c=>_0x2c381c!=null&&_0x2c381c!=='')));return _0x4da5ee[_0x1652ad(0xc7)](_0x2195b4=>{var _0x1e6df9=_0x1652ad;const _0x1d0301=_0x4d4efc[_0x1e6df9(0x93)](_0xff3b72=>_0xff3b72[_0x69003d]===_0x2195b4),_0x41a05c=_0x1d0301&&_0x1d0301[_0x534b49]!=null?String(_0x1d0301[_0x534b49])[_0x1e6df9(0x187)]():_0x2195b4;return{'setCode':_0x2195b4,'setName':_0x41a05c};});}function fillSelect(_0xb1a006,_0x1f17da,_0x15c51f,_0x3c7963){_0xb1a006['innerHTML']='',_0x1f17da['forEach'](function(_0x494cd2){var _0x4eeb88=_0x54e8,_0x432a9f=new Option(_0x494cd2[_0x3c7963],_0x494cd2[_0x15c51f]);_0xb1a006[_0x4eeb88(0xda)](_0x432a9f);});}function initMulti(_0x1587da,_0x3f276a){var _0x2f3aab=_0x2e2084,_0x3a417d=document[_0x2f3aab(0xba)](_0x1587da),_0xa49af6=_0x3a417d[_0x2f3aab(0x71)](_0x2f3aab(0xdf)),_0x2b5862=_0x3a417d[_0x2f3aab(0x71)](_0x2f3aab(0xa1)),_0x2d5210=_0x3a417d[_0x2f3aab(0x71)](_0x2f3aab(0xbe)),_0x591353=_0x3f276a['slice'](),_0x55889f=[];let _0x1819fa=null,_0x3f7ec3=![];function _0x8e9237(){var _0x45209b=_0x2f3aab;const _0x2e8156=_0xa49af6[_0x45209b(0x18c)][_0x45209b(0x187)]();if(!_0x2e8156)return;const _0x120fee=_0x591353[_0x45209b(0x93)](_0x5cb89d=>_0x5cb89d[_0x45209b(0x1b2)]['toLowerCase']()===_0x2e8156['toLowerCase']());if(_0x120fee)_0x55889f[_0x45209b(0x14b)](_0x120fee),_0x591353[_0x45209b(0xce)](_0x591353[_0x45209b(0x16f)](_0x42016d=>_0x42016d['setCode']===_0x120fee[_0x45209b(0x197)]),0x1);else{const _0x5d3c34=_0x55889f['some'](_0x5f2b32=>_0x5f2b32['setName'][_0x45209b(0x1a6)]()===_0x2e8156[_0x45209b(0x1a6)]());!_0x5d3c34&&_0x55889f['push']({'setCode':_0x2e8156,'setName':_0x2e8156});}_0x1b7257(),_0x4325fb(),_0xa49af6['value']='';}function _0x4325fb(){var _0x5f4188=_0x2f3aab;_0x2b5862[_0x5f4188(0x1a4)]='',_0x591353['filter'](_0x2448e1=>_0x2448e1[_0x5f4188(0x1b2)][_0x5f4188(0x1a6)]()[_0x5f4188(0x15b)](_0xa49af6[_0x5f4188(0x18c)]['toLowerCase']()))[_0x5f4188(0x79)](0x0,0x14)[_0x5f4188(0x180)](_0x57a3ed=>{var _0x3499e8=_0x5f4188,_0x56b3bb=document[_0x3499e8(0xc0)](_0x3499e8(0x111));_0x56b3bb[_0x3499e8(0x10f)]=_0x57a3ed[_0x3499e8(0x1b2)],_0x56b3bb[_0x3499e8(0x193)][_0x3499e8(0x151)]=_0x57a3ed[_0x3499e8(0x197)],_0x2b5862[_0x3499e8(0x148)](_0x56b3bb),_0x56b3bb[_0x3499e8(0x97)](_0x3499e8(0x11b),()=>_0x3f7ec3=!![]),_0x56b3bb[_0x3499e8(0x97)](_0x3499e8(0x194),function(){var _0x53a4b1=_0x3499e8;_0x3f7ec3=![],_0x55889f[_0x53a4b1(0x14b)](_0x57a3ed),_0x591353[_0x53a4b1(0xce)](_0x591353[_0x53a4b1(0x16f)](_0x405fa4=>_0x405fa4[_0x53a4b1(0x197)]===_0x57a3ed[_0x53a4b1(0x197)]),0x1),_0xa49af6[_0x53a4b1(0x18c)]='',_0x1b7257(),_0x4325fb();});});}function _0x1b7257(){var _0x17ca25=_0x2f3aab;_0x2d5210[_0x17ca25(0x1a4)]='',_0x55889f['forEach'](_0x5ab66f=>{var _0x2d8a64=_0x17ca25,_0x506745=document['createElement'](_0x2d8a64(0x111));_0x506745[_0x2d8a64(0xac)]=_0x2d8a64(0x1b4),_0x506745[_0x2d8a64(0x10f)]=_0x5ab66f[_0x2d8a64(0x1b2)];var _0x22a135=document[_0x2d8a64(0xc0)](_0x2d8a64(0xe7));_0x22a135['className']=_0x2d8a64(0x11c),_0x22a135['textContent']='×',_0x22a135['addEventListener'](_0x2d8a64(0x194),function(){var _0x240e48=_0x2d8a64;_0x591353[_0x240e48(0x14b)](_0x5ab66f);const _0x560f34=_0x55889f['findIndex'](_0x414768=>_0x414768[_0x240e48(0x197)]===_0x5ab66f[_0x240e48(0x197)]);if(_0x560f34>-0x1)_0x55889f[_0x240e48(0xce)](_0x560f34,0x1);_0x1b7257(),_0x4325fb();}),_0x506745[_0x2d8a64(0x148)](_0x22a135),_0x2d5210[_0x2d8a64(0x148)](_0x506745);}),_0x3a417d[_0x17ca25(0x86)](new CustomEvent('selectionChange',{'detail':_0x55889f,'bubbles':!![]}));}return _0xa49af6[_0x2f3aab(0x97)](_0x2f3aab(0xab),function(){var _0x4459e1=_0x2f3aab;_0x1819fa&&(clearTimeout(_0x1819fa),_0x1819fa=null),_0x2b5862[_0x4459e1(0xdb)][_0x4459e1(0x9d)](_0x4459e1(0x12b));}),_0xa49af6[_0x2f3aab(0x97)]('input',_0x4325fb),_0xa49af6[_0x2f3aab(0x97)](_0x2f3aab(0x133),function(_0xae0ab1){var _0x195188=_0x2f3aab;_0xae0ab1[_0x195188(0x181)]==='Enter'&&(_0xae0ab1['preventDefault'](),_0x8e9237());}),_0xa49af6[_0x2f3aab(0x97)]('blur',function(){if(_0x3f7ec3)return;_0x1819fa=setTimeout(()=>{_0x8e9237(),_0x1819fa=null;},0xc8);}),document['addEventListener']('click',function(_0x2c0d8f){var _0x26b36e=_0x2f3aab;!_0x3a417d[_0x26b36e(0x88)](_0x2c0d8f[_0x26b36e(0xf0)])&&_0x2b5862['classList'][_0x26b36e(0xda)]('newItem_hidden');}),_0x4325fb(),_0x55889f;}function getLastCode(_0x1f1c60){var _0x1c3d8e=_0x2e2084;const _0x4665c6=_0x1f1c60['map'](_0x3817f8=>String(_0x3817f8[_0x1c3d8e(0x127)])[_0x1c3d8e(0x187)]())['filter'](_0xe01a30=>_0xe01a30!=='');if(_0x4665c6[_0x1c3d8e(0x143)]===0x0)return'';const _0x18895c=_0x4665c6[_0x1c3d8e(0xfa)](_0x943d6e=>/^\d+$/[_0x1c3d8e(0x123)](_0x943d6e));if(_0x18895c){const _0x25dd3e=_0x4665c6[_0x1c3d8e(0xc7)](Number),_0x390a8e=Math['max'](..._0x25dd3e);return String(_0x390a8e);}let _0x352867;if(typeof Intl!==_0x1c3d8e(0x168)&&Intl[_0x1c3d8e(0x18b)]){const _0x4a316a=new Intl[(_0x1c3d8e(0x18b))](undefined,{'numeric':!![],'sensitivity':_0x1c3d8e(0x81)});_0x352867=_0x4665c6[_0x1c3d8e(0x79)]()[_0x1c3d8e(0x132)](_0x4a316a[_0x1c3d8e(0x67)]);}else{const _0x3e6669=_0x4665c6['every'](_0x27ce06=>/^\d+$/[_0x1c3d8e(0x123)](_0x27ce06));_0x3e6669?_0x352867=_0x4665c6[_0x1c3d8e(0xc7)](Number)[_0x1c3d8e(0x132)]((_0x12c677,_0x34595a)=>_0x12c677-_0x34595a)[_0x1c3d8e(0xc7)](String):_0x352867=_0x4665c6[_0x1c3d8e(0x79)]()[_0x1c3d8e(0x132)]();}return _0x352867[_0x352867[_0x1c3d8e(0x143)]-0x1];}function getNextCode(_0x10712a){var _0x2d663b=_0x2e2084;const _0x3c98c6=getLastCode(_0x10712a);if(!_0x3c98c6)return'';if(/^\d+$/[_0x2d663b(0x123)](_0x3c98c6))return String(Number(_0x3c98c6)+0x1);const _0xdb68f=_0x3c98c6['match'](/^([A-Za-z]*)(\d+)$/);if(_0xdb68f){const [,_0x36ac57,_0x494720]=_0xdb68f,_0x29bb90=String(Number(_0x494720)+0x1)['padStart'](_0x494720[_0x2d663b(0x143)],'0');return _0x36ac57+_0x29bb90;}return _0x3c98c6;}document[_0x2e2084(0xba)](_0x2e2084(0x198))[_0x2e2084(0x97)](_0x2e2084(0x158),function(_0xd96cc){var _0x2f7a32=_0x2e2084;baseItem[_0x2f7a32(0x124)]=_0xd96cc[_0x2f7a32(0xf0)][_0x2f7a32(0x18c)];}),document[_0x2e2084(0xba)]('inputItemDescription')[_0x2e2084(0x97)]('input',function(_0x4882ce){var _0x101c8a=_0x2e2084;baseItem[_0x101c8a(0x74)]=_0x4882ce[_0x101c8a(0xf0)][_0x101c8a(0x18c)];}),document['getElementById']('inputItemDateExpiry')[_0x2e2084(0x97)](_0x2e2084(0x158),function(_0x382ce9){var _0x2d13d5=_0x2e2084;baseItem[_0x2d13d5(0xcf)]=_0x382ce9[_0x2d13d5(0xf0)][_0x2d13d5(0x18c)];}),document[_0x2e2084(0xba)](_0x2e2084(0x196))[_0x2e2084(0x97)](_0x2e2084(0x83),function(_0x337cf7){var _0x2b719e=_0x2e2084;baseItem[_0x2b719e(0x70)]=_0x337cf7[_0x2b719e(0xf0)][_0x2b719e(0x18c)];}),document[_0x2e2084(0xba)](_0x2e2084(0x183))['addEventListener'](_0x2e2084(0x83),function(_0x2f9e5d){var _0x166b27=_0x2e2084;baseItem['setItemTaxId']=_0x2f9e5d[_0x166b27(0xf0)][_0x166b27(0x18c)];const _0x583910=_0x2f9e5d['target'][_0x166b27(0x18c)],_0x3949d7=company[0x0][_0x166b27(0x1b1)][_0x166b27(0x93)](_0x3efc21=>_0x3efc21[_0x166b27(0x103)]==_0x583910)?.[_0x166b27(0x122)]||0x0,_0xcb0d79=company[0x0][_0x166b27(0x1b1)][_0x166b27(0x93)](_0xa39fdc=>_0xa39fdc['setTaxId']==_0x583910)?.[_0x166b27(0x156)]||0x0;baseItem[_0x166b27(0x155)]=_0x3949d7,baseItem[_0x166b27(0x9c)]=_0xcb0d79;}),document[_0x2e2084(0xba)](_0x2e2084(0x140))['addEventListener']('change',function(_0x115cfa){var _0x59b23a=_0x2e2084;baseItem[_0x59b23a(0x90)]=_0x115cfa[_0x59b23a(0xf0)]['checked'];}),document[_0x2e2084(0xba)](_0x2e2084(0xf1))['addEventListener'](_0x2e2084(0x83),function(_0x81118c){var _0x35c0e3=_0x2e2084;baseItem[_0x35c0e3(0x6d)]=_0x81118c['target']['checked'];}),document[_0x2e2084(0xba)](_0x2e2084(0x128))[_0x2e2084(0x97)](_0x2e2084(0x158),function(_0x2a5948){var _0x391cd9=_0x2e2084;baseItem['setItemCode']=_0x2a5948[_0x391cd9(0xf0)][_0x391cd9(0x18c)];}),document[_0x2e2084(0xba)](_0x2e2084(0x137))[_0x2e2084(0x97)](_0x2e2084(0x158),function(_0x2a1a98){var _0x565bcf=_0x2e2084;baseItem['setItemBarCode']=_0x2a1a98['target'][_0x565bcf(0x18c)];}),document[_0x2e2084(0xba)](_0x2e2084(0xd1))[_0x2e2084(0x97)](_0x2e2084(0x194),function(){addUnit(),updateUnitsArray();}),document[_0x2e2084(0xba)](_0x2e2084(0x128))['addEventListener'](_0x2e2084(0x1a0),function(){var _0x837f06=_0x2e2084;const _0x11a10e=this[_0x837f06(0x18c)]['trim']();if(_0x11a10e==='')return;const _0x156a7b=products['some'](_0x17d2ea=>_0x17d2ea['setCodProducto']==_0x11a10e),_0x32ebbc=getLastCode(products);_0x156a7b?ntfShow(_0x837f06(0x12e)+_0x32ebbc,0x2,0x1):ntfShow(_0x837f06(0x189),0x1,0x1);});function removeImg(_0x482e71){var _0x201299=_0x2e2084;currentImages[_0x482e71]=null;var _0x24a98a=imgC[_0x201299(0x71)]('[data-idx=\x22'+_0x482e71+'\x22]');_0x24a98a['innerHTML']='';var _0x123bcd=document[_0x201299(0xc0)](_0x201299(0x158));_0x123bcd[_0x201299(0x14f)]='file',_0x123bcd['accept']=_0x201299(0x109),_0x123bcd[_0x201299(0x9e)][_0x201299(0xd8)]=_0x201299(0xc9);var _0x327b07=document['createElement'](_0x201299(0xe7));_0x327b07[_0x201299(0x10f)]='+',_0x24a98a[_0x201299(0x148)](_0x123bcd),_0x24a98a[_0x201299(0x148)](_0x327b07),_0x24a98a[_0x201299(0x97)](_0x201299(0x194),function(){var _0x4c0ff2=_0x201299;_0x123bcd[_0x4c0ff2(0x194)]();}),baseItem[_0x201299(0xf8)]=currentImages[_0x201299(0x19a)](function(_0x2a142c){return _0x2a142c;});}function addUnit(_0x54b109,_0x79a8ea,_0x569864,_0xa62130,_0x37242b,_0x38054b,_0x32ed9d){var _0x1295ec=_0x2e2084,_0x461234=uniqueValuesArray('setUnitCode',_0x1295ec(0x167),myCompany[_0x1295ec(0x176)]);_0x54b109=_0x54b109||'',_0x79a8ea=_0x79a8ea||_0x461234[0x3a]&&_0x461234[0x3a][_0x1295ec(0x197)]||'',_0x569864=_0x569864!==undefined?_0x569864:0x1,_0xa62130=!!_0xa62130,_0x37242b=_0x37242b||'',_0x38054b=_0x38054b||'';var _0x39e40a=unitCount++,_0x126657=document[_0x1295ec(0xc0)](_0x1295ec(0x111));_0x126657['dataset']['idx']=_0x39e40a,_0x126657['dataset']['default']=_0xa62130,_0x126657[_0x1295ec(0x1a4)]=_0x1295ec(0x1b6)+_0x39e40a+_0x1295ec(0xe9)+_0x54b109+_0x1295ec(0x100)+_0x39e40a+_0x1295ec(0x8e)+_0x39e40a+_0x1295ec(0xe9)+_0x569864+'\x22\x20'+(_0xa62130?_0x1295ec(0x98):'')+_0x1295ec(0x1aa)+_0x39e40a+_0x1295ec(0xe9)+_0x37242b+_0x1295ec(0x142)+_0x39e40a+_0x1295ec(0xe9)+_0x38054b+_0x1295ec(0x130)+(_0xa62130?_0x1295ec(0x85):'')+_0x1295ec(0x153),fillSelect(_0x126657['querySelector'](_0x1295ec(0x10d)),_0x461234,'setCode','setName'),_0x126657[_0x1295ec(0x71)](_0x1295ec(0x10d))[_0x1295ec(0x18c)]=_0x79a8ea,[_0x1295ec(0x13d),_0x1295ec(0x13e),_0x1295ec(0xe2),'priceInput','costInput'][_0x1295ec(0x180)](function(_0x29d1df){var _0x3d81a4=_0x1295ec;_0x126657['querySelector']('.'+_0x29d1df)['addEventListener'](_0x3d81a4(0x158),function(){var _0x5cd795=_0x32ed9d?+_0x32ed9d['id']['split']('_')[0x1]:null;if(_0x32ed9d)updateVariantUnits(_0x5cd795);else updateUnitsArray();});}),_0x126657[_0x1295ec(0x71)](_0x1295ec(0x115))[_0x1295ec(0x97)](_0x1295ec(0x194),function(){var _0x1c21ad=_0x1295ec;_0x126657[_0x1c21ad(0x9d)]();var _0x53aaa0=_0x32ed9d?+_0x32ed9d['id'][_0x1c21ad(0xcd)]('_')[0x1]:null;if(_0x32ed9d)updateVariantUnits(_0x53aaa0);else updateUnitsArray();});var _0x3b0950=_0x32ed9d||document[_0x1295ec(0xba)](_0x1295ec(0x118));_0x3b0950[_0x1295ec(0x148)](_0x126657);}function containerIdx(_0x2f5b77){var _0x48ea22=_0x2e2084;return+_0x2f5b77['id'][_0x48ea22(0xcd)]('_')[0x1];}function updateUnitsArray(){var _0x5166bd=_0x2e2084,_0x389bb5=[],_0x2b513c=Array[_0x5166bd(0x94)](document[_0x5166bd(0xc8)]('#newItem_units_container\x20>\x20div')),_0x3d976b=_0x2b513c[_0x5166bd(0x93)](_0x132880=>_0x132880[_0x5166bd(0x193)][_0x5166bd(0xca)]===_0x5166bd(0xb1)),_0x34808f=_0x3d976b?+_0x3d976b['querySelector']('.eqInput')[_0x5166bd(0x18c)]:0x1;_0x2b513c[_0x5166bd(0x180)](function(_0x5ba4c0){var _0x2f64a2=_0x5166bd,_0x3d9c3c=+_0x5ba4c0[_0x2f64a2(0x71)](_0x2f64a2(0x89))[_0x2f64a2(0x18c)]||0x0,_0x194f7e=+_0x5ba4c0['querySelector'](_0x2f64a2(0x11d))[_0x2f64a2(0x18c)]||0x0,_0x405b95=+_0x5ba4c0[_0x2f64a2(0x71)](_0x2f64a2(0x14c))['value']||0x0;_0x389bb5[_0x2f64a2(0x14b)]({'setAlias':_0x5ba4c0['querySelector'](_0x2f64a2(0x112))['value'][_0x2f64a2(0x187)](),'setUnitCode':_0x5ba4c0['querySelector'](_0x2f64a2(0x10d))[_0x2f64a2(0x18c)],'setEquivalence':_0x3d9c3c,'setFactor':_0x5ba4c0[_0x2f64a2(0x193)][_0x2f64a2(0xca)]===_0x2f64a2(0xb1)?0x1:_0x3d9c3c==_0x34808f?0x1:_0x3d9c3c<_0x34808f?_0x34808f/_0x3d9c3c:_0x3d9c3c/_0x34808f,'setPrice':_0x194f7e,'setCost':_0x405b95,'setDefault':_0x5ba4c0[_0x2f64a2(0x193)]['default']==='true'?0x1:0x0});}),baseItem[_0x5166bd(0x1ab)]=_0x389bb5;}function updateBranches(){var _0x355ab2=_0x2e2084,_0x215498=[];document[_0x355ab2(0xc8)]('#newItem_branches_container\x20>\x20div')[_0x355ab2(0x180)](function(_0x2de0f3){var _0x216676=_0x355ab2,_0x3dd531=_0x2de0f3[_0x216676(0x71)]('.branchChk');if(_0x3dd531[_0x216676(0x185)]){var _0x1eaa26=+_0x3dd531[_0x216676(0x193)]['id'],_0xcb36ec=+_0x2de0f3['querySelector']('.branchInit')['value'],_0xf8f24a=+_0x2de0f3['querySelector'](_0x216676(0x1af))[_0x216676(0x18c)];_0x215498['push']({'setWarehouseCode':_0x1eaa26,'setStockInitial':_0xcb36ec,'setStockMinimum':_0xf8f24a});}}),baseItem[_0x355ab2(0x12d)]=_0x215498;}document[_0x2e2084(0xba)]('newItem_btn_addProdItem')['addEventListener'](_0x2e2084(0x194),function(){var _0x294202=_0x2e2084,_0x20b592=Date[_0x294202(0x18d)](),_0x1b2973=document[_0x294202(0xc0)](_0x294202(0x111));_0x1b2973[_0x294202(0x193)][_0x294202(0x7b)]=_0x20b592,_0x1b2973['innerHTML']=_0x294202(0x9a)+_0x20b592+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22'+_0x20b592+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x294202(0x148)](_0x1b2973),initProdSearch(_0x1b2973['querySelector'](_0x294202(0x163))),_0x1b2973[_0x294202(0x71)](_0x294202(0xf7))[_0x294202(0x97)](_0x294202(0x194),function(){_0x1b2973['remove'](),updateProdItems();}),_0x1b2973[_0x294202(0x71)](_0x294202(0xed))[_0x294202(0x97)](_0x294202(0x158),updateProdItems),document[_0x294202(0xba)](_0x294202(0x141))[_0x294202(0xdb)][_0x294202(0x9f)](_0x294202(0x11a),!![]),document[_0x294202(0xba)](_0x294202(0x141))[_0x294202(0xdb)][_0x294202(0x9f)](_0x294202(0x12b),![]);});function initProdSearch(_0x4faa93,_0xe38f7f){var _0x43d99e=_0x2e2084,_0xde132=_0x4faa93[_0x43d99e(0x71)]('.prodInput'),_0x4a83d9=_0x4faa93[_0x43d99e(0x71)](_0x43d99e(0xa1)),_0x35768b=_0xe38f7f||null;if(_0xe38f7f)_0xde132[_0x43d99e(0x18c)]=_0xe38f7f[_0x43d99e(0x173)];_0xde132[_0x43d99e(0x97)](_0x43d99e(0x158),function(){var _0x317f6a=_0x43d99e,_0x534b7e=_0xde132[_0x317f6a(0x18c)][_0x317f6a(0x1a6)]()[_0x317f6a(0x187)]();_0x4a83d9[_0x317f6a(0x1a4)]='';if(!_0x534b7e)return;products[_0x317f6a(0x19a)](_0xc03fe7=>_0xc03fe7['setDescripcion'][_0x317f6a(0x1a6)]()[_0x317f6a(0x15b)](_0x534b7e))[_0x317f6a(0x79)](0x0,0x14)['forEach'](function(_0x2559dd){var _0x13d3c8=_0x317f6a,_0x32965e=document[_0x13d3c8(0xc0)](_0x13d3c8(0x111));_0x32965e['textContent']=_0x2559dd['setDescripcion'],_0x32965e[_0x13d3c8(0x193)]['id']=_0x2559dd['id'],_0x32965e[_0x13d3c8(0x193)][_0x13d3c8(0x173)]=_0x2559dd['setDescripcion'],_0x4a83d9[_0x13d3c8(0x148)](_0x32965e),_0x32965e['addEventListener'](_0x13d3c8(0x194),function(){var _0x4b6fb1=_0x13d3c8;_0x35768b={'id':_0x2559dd['id'],'name':_0x2559dd[_0x4b6fb1(0x6e)]},_0xde132['value']=_0x2559dd['setDescripcion'],_0x4a83d9[_0x4b6fb1(0x1a4)]='';var _0x2423ff=_0x4faa93[_0x4b6fb1(0x1b0)]('[id$=\x22_comp_container\x22]');if(_0x2423ff){var _0x3af948=+_0x2423ff['id'][_0x4b6fb1(0xcd)]('_')[0x1];updateVariantComponents(_0x3af948);}else updateProdItems();});});}),_0xde132[_0x43d99e(0x97)](_0x43d99e(0xab),function(){var _0x2ea878=_0x43d99e;_0x4a83d9[_0x2ea878(0xdb)][_0x2ea878(0x9d)]('newItem_hidden');}),document['addEventListener'](_0x43d99e(0x194),function(_0x3d026f){var _0x142dfe=_0x43d99e;if(!_0x4faa93[_0x142dfe(0x88)](_0x3d026f[_0x142dfe(0xf0)]))_0x4a83d9[_0x142dfe(0xdb)][_0x142dfe(0xda)](_0x142dfe(0x12b));}),Object['defineProperty'](_0x4faa93,_0x43d99e(0xfe),{'get':()=>_0x35768b});}function updateProdItems(){var _0x526bb9=_0x2e2084,_0x530989=[];Array[_0x526bb9(0x94)](prodC[_0x526bb9(0xe6)])['forEach'](function(_0x6c2747){var _0x12814a=_0x526bb9,_0x53e987=_0x6c2747['querySelector'](_0x12814a(0x163));if(!_0x53e987)return;var _0x33a4cc=_0x6c2747[_0x12814a(0x71)]('.prodQty'),_0x57b0c3=_0x53e987[_0x12814a(0xfe)];_0x57b0c3&&_0x530989['push']({'setItemId':_0x57b0c3['id'],'setDescripcion':_0x57b0c3[_0x12814a(0x173)],'setCantidad':+_0x33a4cc[_0x12814a(0x18c)]});}),baseItem[_0x526bb9(0x166)]=_0x530989,_0x530989[_0x526bb9(0x143)]===0x0&&(document['getElementById'](_0x526bb9(0x141))['classList'][_0x526bb9(0x9f)](_0x526bb9(0x11a),![]),document['getElementById'](_0x526bb9(0x141))[_0x526bb9(0xdb)]['toggle'](_0x526bb9(0x12b),!![]));}document['getElementById'](_0x2e2084(0xf5))[_0x2e2084(0x97)](_0x2e2084(0x194),function(){var _0x5ada7b=_0x2e2084,_0x1a8715=vgCount++,_0x311cbc=document[_0x5ada7b(0xc0)](_0x5ada7b(0x111));_0x311cbc[_0x5ada7b(0x193)][_0x5ada7b(0x7b)]=_0x1a8715,_0x311cbc[_0x5ada7b(0x1a4)]=_0x5ada7b(0x19f)+_0x1a8715+'\x22>'+_0x5ada7b(0xc5)+_0x1a8715+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC[_0x5ada7b(0x148)](_0x311cbc),_0x311cbc[_0x5ada7b(0x71)](_0x5ada7b(0x162))[_0x5ada7b(0x97)](_0x5ada7b(0x1a0),generateVariants),_0x311cbc['querySelector'](_0x5ada7b(0x125))[_0x5ada7b(0x97)](_0x5ada7b(0x1a0),generateVariants),_0x311cbc[_0x5ada7b(0x71)](_0x5ada7b(0xee))[_0x5ada7b(0x97)](_0x5ada7b(0x194),function(){_0x311cbc['remove'](),generateVariants();});});function generateVariants(){var _0xfffa19=_0x2e2084,_0x2f9533=[];vgC['querySelectorAll'](_0xfffa19(0x111))[_0xfffa19(0x180)](function(_0x5bdbac){var _0x31fa1b=_0xfffa19,_0x177e59=_0x5bdbac['querySelector'](_0x31fa1b(0x162))['value'][_0x31fa1b(0x187)](),_0x420551=_0x5bdbac['querySelector'](_0x31fa1b(0x125))[_0x31fa1b(0x18c)][_0x31fa1b(0xcd)](',')[_0x31fa1b(0xc7)](_0x24ef7c=>_0x24ef7c['trim']())['filter'](_0x203c37=>_0x203c37);if(_0x177e59&&_0x420551[_0x31fa1b(0x143)])_0x2f9533[_0x31fa1b(0x14b)]({'name':_0x177e59,'vals':_0x420551});});var _0x5b63db=[{}];_0x2f9533[_0xfffa19(0x180)](function(_0x435ab0){var _0x356f01=_0xfffa19;_0x5b63db=_0x5b63db[_0x356f01(0x73)](function(_0x44d3b4){var _0x2ebfbc=_0x356f01;return _0x435ab0[_0x2ebfbc(0xd7)]['map'](function(_0x5652c0){var _0x5232c9=_0x2ebfbc,_0x19dcf3=Object[_0x5232c9(0x19d)]({},_0x44d3b4);return _0x19dcf3[_0x435ab0[_0x5232c9(0x173)]]=_0x5652c0,_0x19dcf3;});});}),newItems=[],varContainer['innerHTML']='',_0x5b63db[_0xfffa19(0x180)](function(_0x3140ef,_0x5999cb){var _0x43d3c2=_0xfffa19,_0x48cce4=JSON[_0x43d3c2(0x144)](JSON[_0x43d3c2(0x188)](baseItem));_0x48cce4[_0x43d3c2(0x19c)]=_0x3140ef,_0x48cce4[_0x43d3c2(0x99)]=baseItem[_0x43d3c2(0x124)]+'\x20'+Object[_0x43d3c2(0x159)](_0x3140ef)[_0x43d3c2(0xc7)](_0x1ab596=>_0x1ab596[0x0]+'\x20'+_0x1ab596[0x1])[_0x43d3c2(0xe8)]('\x20'),newItems[_0x43d3c2(0x14b)](_0x48cce4);var _0x244089=document[_0x43d3c2(0xc0)](_0x43d3c2(0x111));_0x244089[_0x43d3c2(0xdb)]['add'](_0x43d3c2(0x96)),_0x244089[_0x43d3c2(0x193)][_0x43d3c2(0x7b)]=_0x5999cb,_0x244089[_0x43d3c2(0x1a4)]=_0x43d3c2(0x149)+_0x48cce4[_0x43d3c2(0x99)]+_0x43d3c2(0xea)+_0x48cce4[_0x43d3c2(0x1ac)]+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22'+_0x48cce4['setItemBarCode']+_0x43d3c2(0xae)+_0x48cce4[_0x43d3c2(0xcf)]+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x5999cb+_0x43d3c2(0x77)+_0x5999cb+_0x43d3c2(0x169)+_0x5999cb+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer[_0x43d3c2(0x148)](_0x244089),_0x244089['querySelector'](_0x43d3c2(0xf4))[_0x43d3c2(0x97)](_0x43d3c2(0x158),_0x4e754b=>newItems[_0x5999cb]['setItemCode']=_0x4e754b['target'][_0x43d3c2(0x18c)]),_0x244089[_0x43d3c2(0x71)](_0x43d3c2(0xd9))[_0x43d3c2(0x97)](_0x43d3c2(0x158),_0x4e8767=>newItems[_0x5999cb][_0x43d3c2(0x1a5)]=_0x4e8767['target'][_0x43d3c2(0x18c)]),_0x244089[_0x43d3c2(0x71)]('.variantExpiry')[_0x43d3c2(0x97)]('change',_0x445bf9=>newItems[_0x5999cb][_0x43d3c2(0xcf)]=_0x445bf9['target'][_0x43d3c2(0x18c)]),initVariantUnits(_0x5999cb),initVariantComponents(_0x5999cb),initVariantBranches(_0x5999cb),_0x244089[_0x43d3c2(0x71)](_0x43d3c2(0x157))[_0x43d3c2(0x97)](_0x43d3c2(0x194),function(){var _0x568184=_0x43d3c2,_0x405459=+_0x244089['dataset'][_0x568184(0x7b)];newItems[_0x568184(0xce)](_0x405459,0x1),_0x244089[_0x568184(0x9d)](),document[_0x568184(0xc8)](_0x568184(0xd5))[_0x568184(0x180)](function(_0x55dcdf,_0x272569){var _0xe3369c=_0x568184;_0x55dcdf[_0xe3369c(0x193)][_0xe3369c(0x7b)]=_0x272569;});});});if(newItems[_0xfffa19(0x143)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x17618b){var _0x246c8f=_0x2e2084,_0x378434=document['getElementById'](_0x246c8f(0x72)+_0x17618b+_0x246c8f(0x12c)),_0x311663=[];Array[_0x246c8f(0x94)](_0x378434['children'])[_0x246c8f(0x180)](function(_0x2a364a){var _0x5eae4a=_0x246c8f,_0x26c790=+_0x2a364a['querySelector'](_0x5eae4a(0x89))[_0x5eae4a(0x18c)]||0x0,_0x409c75=_0x2a364a[_0x5eae4a(0x71)](_0x5eae4a(0x112))['value'][_0x5eae4a(0x187)](),_0x1dd31d=_0x2a364a[_0x5eae4a(0x71)]('.unitSelect')['value'],_0x57e229=+_0x2a364a[_0x5eae4a(0x71)](_0x5eae4a(0x11d))['value']||0x0,_0x607692=+_0x2a364a[_0x5eae4a(0x71)](_0x5eae4a(0x14c))[_0x5eae4a(0x18c)]||0x0,_0x3b3059=_0x2a364a[_0x5eae4a(0x193)][_0x5eae4a(0xca)]===_0x5eae4a(0xb1),_0x55f40a=+_0x378434[_0x5eae4a(0x71)](_0x5eae4a(0x1b7))[_0x5eae4a(0x18c)]||0x1,_0x3b6f28=_0x3b3059?0x1:_0x26c790==_0x55f40a?0x1:_0x26c790<_0x55f40a?_0x55f40a/_0x26c790:_0x26c790/_0x55f40a;_0x311663[_0x5eae4a(0x14b)]({'setAlias':_0x409c75,'setUnitCode':_0x1dd31d,'setEquivalence':_0x26c790,'setFactor':_0x3b6f28,'setPrice':_0x57e229,'setCost':_0x607692,'setDefault':_0x3b3059?0x1:0x0});}),newItems[_0x17618b][_0x246c8f(0x1ab)]=_0x311663;}function initVariantUnits(_0x3eeb31){var _0x7c9526=_0x2e2084,_0x223e16=document[_0x7c9526(0xba)](_0x7c9526(0x72)+_0x3eeb31+_0x7c9526(0x12c));_0x223e16[_0x7c9526(0x1a4)]='',newItems[_0x3eeb31][_0x7c9526(0x1ab)]['forEach'](function(_0x926980){var _0x184841=_0x7c9526;addUnit(_0x926980[_0x184841(0x175)],_0x926980[_0x184841(0x145)],_0x926980[_0x184841(0x186)],_0x926980[_0x184841(0xa6)],_0x926980[_0x184841(0xef)],_0x926980[_0x184841(0x117)],_0x223e16);}),_0x223e16['parentNode'][_0x7c9526(0x71)](_0x7c9526(0x17a))[_0x7c9526(0x97)](_0x7c9526(0x194),function(){addUnit('','',0x1,![],'','',_0x223e16),updateVariantUnits(_0x3eeb31);});}function updateVariantUnits(_0x2fa67d){var _0x9fe5ae=_0x2e2084,_0x1cba36=document[_0x9fe5ae(0xba)](_0x9fe5ae(0x72)+_0x2fa67d+_0x9fe5ae(0x12c)),_0x3b0526=_0x1cba36[_0x9fe5ae(0x71)](_0x9fe5ae(0x1b7)),_0x18a9f7=_0x3b0526?+_0x3b0526[_0x9fe5ae(0x18c)]:0x1,_0x461a22=Array[_0x9fe5ae(0x94)](_0x1cba36[_0x9fe5ae(0xe6)])[_0x9fe5ae(0xc7)](function(_0x4e6391){var _0x6fdc42=_0x9fe5ae,_0xa7e8cf=_0x4e6391[_0x6fdc42(0x71)]('.unitAlias')['value'][_0x6fdc42(0x187)](),_0x25bf2a=_0x4e6391['querySelector'](_0x6fdc42(0x10d))[_0x6fdc42(0x18c)],_0x9e4e58=+_0x4e6391[_0x6fdc42(0x71)](_0x6fdc42(0x89))[_0x6fdc42(0x18c)]||0x0,_0x5078ca=+_0x4e6391['querySelector'](_0x6fdc42(0x11d))[_0x6fdc42(0x18c)]||0x0,_0x56ae9b=+_0x4e6391[_0x6fdc42(0x71)]('.costInput')[_0x6fdc42(0x18c)]||0x0,_0x3d8c52=_0x4e6391['dataset'][_0x6fdc42(0xca)]===_0x6fdc42(0xb1);return{'setAlias':_0xa7e8cf,'setUnitCode':_0x25bf2a,'setEquivalence':_0x9e4e58,'setFactor':_0x3d8c52?0x1:_0x9e4e58==_0x18a9f7?0x1:_0x9e4e58<_0x18a9f7?_0x18a9f7/_0x9e4e58:_0x9e4e58/_0x18a9f7,'setPrice':_0x5078ca,'setCost':_0x56ae9b,'setDefault':_0x3d8c52?0x1:0x0};});newItems[_0x2fa67d][_0x9fe5ae(0x1ab)]=_0x461a22;}function initVariantComponents(_0x5adcbe){var _0x397195=_0x2e2084,_0x464917=document[_0x397195(0xba)](_0x397195(0x72)+_0x5adcbe+'_comp_container');_0x464917[_0x397195(0x1a4)]='',newItems[_0x5adcbe][_0x397195(0x166)][_0x397195(0x180)](function(_0x1f532f){var _0xef5284=_0x397195,_0x201816=document[_0xef5284(0xc0)](_0xef5284(0x111)),_0x444aa5=Date[_0xef5284(0x18d)]();_0x201816['dataset']['idx']=_0x444aa5,_0x201816['innerHTML']=_0xef5284(0x107)+_0x444aa5+_0xef5284(0xc2)+_0x1f532f[_0xef5284(0x1a3)]+_0xef5284(0x192),_0x464917[_0xef5284(0x148)](_0x201816),initProdSearch(_0x201816[_0xef5284(0x71)](_0xef5284(0x163)),{'id':_0x1f532f[_0xef5284(0xa7)],'name':_0x1f532f[_0xef5284(0x6e)]}),_0x201816['querySelector']('.prodQty')['addEventListener'](_0xef5284(0x158),function(){updateVariantComponents(_0x5adcbe);}),_0x201816[_0xef5284(0x71)](_0xef5284(0x146))[_0xef5284(0x97)](_0xef5284(0x194),function(){var _0x5a5d7f=_0xef5284;_0x201816[_0x5a5d7f(0x9d)](),updateVariantComponents(_0x5adcbe);});}),_0x464917[_0x397195(0x101)]['querySelector']('.addVariantComp')[_0x397195(0x97)](_0x397195(0x194),function(){var _0x25552c=_0x397195,_0x402b99=document['createElement'](_0x25552c(0x111)),_0x28eb71=Date[_0x25552c(0x18d)]();_0x402b99['dataset'][_0x25552c(0x7b)]=_0x28eb71,_0x402b99['innerHTML']=_0x25552c(0x107)+_0x28eb71+_0x25552c(0x84),_0x464917['appendChild'](_0x402b99),initProdSearch(_0x402b99['querySelector'](_0x25552c(0x163))),_0x402b99['querySelector'](_0x25552c(0xed))['addEventListener'](_0x25552c(0x158),function(){updateVariantComponents(_0x5adcbe);}),_0x402b99[_0x25552c(0x71)](_0x25552c(0x146))[_0x25552c(0x97)](_0x25552c(0x194),function(){var _0x36ca4e=_0x25552c;_0x402b99[_0x36ca4e(0x9d)](),updateVariantComponents(_0x5adcbe);});});}function updateVariantComponents(_0x2ed40e){var _0x3214bc=_0x2e2084,_0x2c1716=document[_0x3214bc(0xba)]('variant_'+_0x2ed40e+_0x3214bc(0x16e)),_0x1952b0=Array[_0x3214bc(0x94)](_0x2c1716[_0x3214bc(0xe6)])['map'](function(_0x4dbc9f){var _0xac655e=_0x3214bc,_0x315688=_0x4dbc9f['querySelector']('.prod_input_container'),_0x2dd24e=_0x315688[_0xac655e(0xfe)],_0x52b621=+_0x4dbc9f[_0xac655e(0x71)]('.prodQty')[_0xac655e(0x18c)]||0x0;return _0x2dd24e?{'setItemId':_0x2dd24e['id'],'setDescripcion':_0x2dd24e[_0xac655e(0x173)],'setCantidad':_0x52b621}:null;})[_0x3214bc(0x19a)](_0x26eca5=>_0x26eca5);newItems[_0x2ed40e][_0x3214bc(0x166)]=_0x1952b0;}function initVariantBranches(_0x1403f8){var _0x20a5a5=_0x2e2084;const _0x303fa8=getAllWarehouses();var _0x120803=document['getElementById']('variant_'+_0x1403f8+_0x20a5a5(0x82));_0x120803['innerHTML']='',newItems[_0x1403f8]['setItemWarehouses'][_0x20a5a5(0x180)](function(_0x1d7073){var _0x5e43e5=_0x20a5a5,_0x1e84e0=_0x303fa8[_0x5e43e5(0x93)](_0x2a19ba=>_0x2a19ba['setWarehouseId']==_0x1d7073[_0x5e43e5(0x110)]),_0x37cd61=document[_0x5e43e5(0xc0)]('div');_0x37cd61[_0x5e43e5(0x1a4)]=_0x5e43e5(0x102)+_0x1d7073[_0x5e43e5(0x110)]+_0x5e43e5(0x139)+_0x1e84e0[_0x5e43e5(0x8f)]+_0x5e43e5(0x10b)+_0x1d7073[_0x5e43e5(0x110)]+_0x5e43e5(0xe9)+_0x1d7073[_0x5e43e5(0x174)]+_0x5e43e5(0xc6)+_0x1d7073[_0x5e43e5(0x110)]+'\x22\x20value=\x22'+_0x1d7073['setStockMinimum']+'\x22>',_0x120803[_0x5e43e5(0x148)](_0x37cd61),_0x37cd61[_0x5e43e5(0xc8)]('input')[_0x5e43e5(0x180)](function(_0xb8bc8f){var _0x56187c=_0x5e43e5;_0xb8bc8f['addEventListener'](_0x56187c(0x158),function(){updateVariantBranches(_0x1403f8);});});}),_0x303fa8[_0x20a5a5(0x180)](function(_0x10f94d){var _0x22320d=_0x20a5a5;if(!newItems[_0x1403f8]['setItemWarehouses'][_0x22320d(0x93)](_0x3e11f6=>_0x3e11f6[_0x22320d(0x110)]===_0x10f94d[_0x22320d(0xaf)])){var _0x4ac0e8=document['createElement'](_0x22320d(0x111));_0x4ac0e8[_0x22320d(0x1a4)]=_0x22320d(0x102)+_0x10f94d['setWarehouseId']+_0x22320d(0x18f)+_0x10f94d['setWarehouseName']+_0x22320d(0x10b)+_0x10f94d[_0x22320d(0xaf)]+_0x22320d(0xc6)+_0x10f94d[_0x22320d(0xaf)]+'\x22>',_0x120803['appendChild'](_0x4ac0e8),_0x4ac0e8['querySelectorAll'](_0x22320d(0x158))['forEach'](function(_0x1fdc48){var _0xf528a2=_0x22320d;_0x1fdc48[_0xf528a2(0x97)](_0xf528a2(0x158),function(){updateVariantBranches(_0x1403f8);});});}});}function updateVariantBranches(_0x1771d9){var _0x49a266=_0x2e2084,_0x5b40b6=document[_0x49a266(0xba)](_0x49a266(0x72)+_0x1771d9+_0x49a266(0x82)),_0x2eb714=[];_0x5b40b6[_0x49a266(0xc8)]('div')[_0x49a266(0x180)](function(_0xf69d34){var _0x5ac35a=_0x49a266,_0x175dc2=_0xf69d34[_0x5ac35a(0x71)](_0x5ac35a(0x10c));if(_0x175dc2['checked']){var _0x28eb27=+_0x175dc2['dataset']['id'],_0x16cbd8=+_0xf69d34[_0x5ac35a(0x71)](_0x5ac35a(0xe5))[_0x5ac35a(0x18c)]||0x0,_0xd056de=+_0xf69d34[_0x5ac35a(0x71)]('.branchMin')[_0x5ac35a(0x18c)]||0x0;_0x2eb714['push']({'setWarehouseCode':_0x28eb27,'setStockInitial':_0x16cbd8,'setStockMinimum':_0xd056de});}}),newItems[_0x1771d9][_0x49a266(0x12d)]=_0x2eb714;}async function storeOfflineProduct(_0xd54d7a){var _0x4b72cb=_0x2e2084;try{const _0xc4a6e=await createCartStore(''),_0x3bd28c=_0xc4a6e[_0x4b72cb(0x1a1)]('offline_operations',_0x4b72cb(0x18e)),_0x43b7d3=_0x3bd28c[_0x4b72cb(0x15a)]('offline_operations');_0x43b7d3[_0x4b72cb(0xda)](_0xd54d7a),_0x3bd28c['oncomplete']=()=>{var _0x2546b6=_0x4b72cb;console[_0x2546b6(0xfc)](_0x2546b6(0x75));},_0x3bd28c['onerror']=_0x59834a=>{var _0x576838=_0x4b72cb;console['error'](_0x576838(0xf2),_0x59834a[_0x576838(0xf0)][_0x576838(0x68)]);};}catch(_0x1065d){console['error']('Error\x20al\x20procesar\x20la\x20operación:',_0x1065d);}}document[_0x2e2084(0xba)](_0x2e2084(0xd3))[_0x2e2084(0x97)](_0x2e2084(0x194),async function(_0x249c76){var _0x1498b2=_0x2e2084;_0x249c76[_0x1498b2(0x76)]();const _0x5b55e7=document[_0x1498b2(0xba)](_0x1498b2(0x128)),_0x1233c2=document['getElementById']('setItemFree')['value'];if(!_0x5b55e7['value'][_0x1498b2(0x187)]()&&_0x1233c2==0x0){ntfShow(_0x1498b2(0x1a2),0x2,0x1);return;}_0x1233c2==0x1&&(_0x5b55e7['value']='',baseItem[_0x1498b2(0x1ac)]='');const _0x189cfa=document['getElementById'](_0x1498b2(0x198));if(!_0x189cfa[_0x1498b2(0x18c)]['trim']()){ntfShow(_0x1498b2(0xb4),0x2,0x1);return;}const _0x243ca3=document[_0x1498b2(0xba)](_0x1498b2(0x1b3));hideModalCreateItem(),showLoadingModal();newItems[_0x1498b2(0x143)]===0x0&&(newItems=[baseItem]);const _0x292b82=document[_0x1498b2(0xba)](_0x1498b2(0x7f))[_0x1498b2(0x18c)],_0x1f6888=window_options[_0x292b82][_0x1498b2(0x16b)],_0x249781=[];newItems[_0x1498b2(0x180)](_0x56b355=>{var _0x36b6af=_0x1498b2;const _0x437858=generateNumericUniqId();_0x56b355['setItemUnits'][_0x36b6af(0x180)](_0x54a173=>{var _0x146b1c=_0x36b6af;const _0x3bd48b=generateNumericUniqId();_0x54a173[_0x146b1c(0x160)]=_0x3bd48b;const _0x56227c={'id':_0x3bd48b,'setIdProducto':_0x437858,'setCodProducto':_0x56b355[_0x146b1c(0x1ac)],'setDescripcion':_0x56b355['setItemName'],'setItemDescription':_0x56b355[_0x146b1c(0x74)],'setBatchExpirationDate':_0x56b355[_0x146b1c(0xcf)],'setBatchName':'','setCategoria':_0x56b355[_0x146b1c(0x199)][0x0]||'','setMarca':_0x56b355[_0x146b1c(0xd6)][0x0]||'','setConversionFactor':parseFloat(_0x54a173['setFactor']),'setImages':[],'setImg':'./img/product.png','setInventariable':0x1,'setItemIsBought':_0x56b355['setItemIsBought']?0x1:0x0,'setItemIsSold':_0x56b355[_0x146b1c(0x6d)]?0x1:0x0,'setPorcentajeIgv':_0x56b355[_0x146b1c(0x9c)],'setPrinters':[],'setTaxId':_0x56b355[_0x146b1c(0x177)],'setTipAfeIgv':_0x56b355[_0x146b1c(0x155)],'setUnidad':_0x54a173[_0x146b1c(0x145)],'setUnidadCodigo':_0x54a173[_0x146b1c(0x145)],'setItemUnitAlias':_0x54a173[_0x146b1c(0x175)],'currency_data':[{'currency':_0x1f6888,'setMtoPrecioCostoUnitario':_0x54a173[_0x146b1c(0x117)],'setMtoPrecioUnitario':_0x54a173[_0x146b1c(0xef)],'setPriceLists':[]}],'sucursales':_0x56b355[_0x146b1c(0x12d)]['map'](_0x2a596d=>({'setIdSucursal':_0x2a596d[_0x146b1c(0x110)],'setSucursalStock':_0x2a596d[_0x146b1c(0x174)][_0x146b1c(0xa4)](),'setWarehouseStockMin':_0x2a596d[_0x146b1c(0x14d)][_0x146b1c(0xa4)]()})),'setItemFree':_0x56b355['setItemFree'],'setItemBarCode':_0x56b355[_0x146b1c(0x1a5)],'setItemBrands':_0x56b355['setItemBrands'][_0x146b1c(0x79)](),'setItemCategories':_0x56b355[_0x146b1c(0x199)][_0x146b1c(0x79)](),'setItemComponents':_0x56b355[_0x146b1c(0x166)][_0x146b1c(0xc7)](_0x5342a8=>({..._0x5342a8})),'setItemImages':_0x56b355['setItemImages'][_0x146b1c(0x79)](),'setItemVariantName':_0x56b355[_0x146b1c(0x99)],'setItemVariantValues':{..._0x56b355[_0x146b1c(0x19c)]}};_0x249781['push'](_0x56227c),(_0x243ca3['checked']||_0x1233c2==0x1)&&addToCart(_0x56227c);});}),console['log'](_0x1498b2(0x6b),newItems),await finalizeImport(_0x249781,newItems,![]);}),[_0x2e2084(0xaa),_0x2e2084(0x7e)][_0x2e2084(0x180)](_0x26df8c=>dropZone[_0x2e2084(0x97)](_0x26df8c,_0x2132e8=>{var _0x4ac420=_0x2e2084;_0x2132e8['preventDefault'](),dropZone[_0x4ac420(0xdb)]['add']('dragover');})),[_0x2e2084(0x150),_0x2e2084(0xf3)][_0x2e2084(0x180)](_0x19a68b=>dropZone[_0x2e2084(0x97)](_0x19a68b,_0x5894a2=>{var _0x44a386=_0x2e2084;_0x5894a2['preventDefault'](),dropZone['classList'][_0x44a386(0x9d)](_0x44a386(0x7e));})),dropZone[_0x2e2084(0x97)](_0x2e2084(0xf3),_0x4593d0=>{var _0x1df7c1=_0x2e2084;const _0x28ea42=_0x4593d0['dataTransfer'][_0x1df7c1(0x182)][0x0];if(!_0x28ea42)return;fileInput[_0x1df7c1(0x182)]=_0x4593d0[_0x1df7c1(0x191)][_0x1df7c1(0x182)],dropZone['querySelector'](_0x1df7c1(0x1a8))[_0x1df7c1(0x10f)]=_0x28ea42[_0x1df7c1(0x173)],removeBtn['hidden']=![],fileInput['dispatchEvent'](new Event(_0x1df7c1(0x83)));}),removeBtn['addEventListener']('click',()=>{var _0x299ff9=_0x2e2084;fileInput[_0x299ff9(0x18c)]='',dropZone[_0x299ff9(0x71)](_0x299ff9(0x1a8))[_0x299ff9(0x10f)]=_0x299ff9(0x1a7),removeBtn[_0x299ff9(0xcc)]=!![],progressBar['style'][_0x299ff9(0xd8)]=_0x299ff9(0xc9),statusDiv[_0x299ff9(0x10f)]='',uploadBtn[_0x299ff9(0x98)]=!![];});const exportBtn=document[_0x2e2084(0xba)](_0x2e2084(0x80));exportBtn[_0x2e2084(0x97)](_0x2e2084(0x194),onClickExportarItems);async function onClickExportarItems(){var _0x36870c=_0x2e2084;if(!Array[_0x36870c(0x17f)](products)||!products[_0x36870c(0x143)]){ntfShow(_0x36870c(0x116));return;}try{const _0x3dd14e=await fetch(_0x36870c(0xcb));if(!_0x3dd14e['ok'])throw new Error(_0x36870c(0x165));const _0x3d304c=await _0x3dd14e[_0x36870c(0x179)](),_0x11698d=document[_0x36870c(0xba)]('setWarehouseId')[_0x36870c(0x18c)];let _0x58a7c1=products;const _0x182295=getUserPermissionApiERP(0x2);_0x182295==0x1&&(_0x58a7c1=products[_0x36870c(0x19a)](_0x576bdd=>Array[_0x36870c(0x17f)](_0x576bdd[_0x36870c(0x1a9)])&&_0x576bdd[_0x36870c(0x1a9)][_0x36870c(0x19b)](_0x1896d3=>String(_0x1896d3[_0x36870c(0x17b)])==String(_0x11698d))));const _0x4ee3d2=_0x58a7c1[_0x36870c(0xbf)]((_0x10dced,_0x1dc77e)=>{var _0x199f11=_0x36870c;const _0x161338=_0x1dc77e[_0x199f11(0x136)];if(!_0x10dced[_0x161338])_0x10dced[_0x161338]=[];return _0x10dced[_0x161338][_0x199f11(0x14b)](_0x1dc77e),_0x10dced;},{}),_0x43cc95=Object[_0x36870c(0x16c)](_0x4ee3d2)[_0x36870c(0xc7)](_0x433bc5=>{var _0x1c2c2a=_0x36870c;const _0x203e55=_0x433bc5[0x0],_0x111541=_0x433bc5[0x1]||{},_0x1c0b8a=_0x433bc5[0x2]||{};function _0x291942(_0x128d25,_0x917bec,_0x1a29b2){var _0x5f4a78=_0x54e8;if(!_0x128d25||!Array[_0x5f4a78(0x17f)](_0x128d25[_0x5f4a78(0x19e)]))return'';const _0x4cb789=_0x128d25[_0x5f4a78(0x19e)]['find'](_0x2b94bc=>_0x2b94bc['currency']===_0x917bec);return _0x4cb789?_0x4cb789[_0x1a29b2]:'';}return{'id':_0x203e55[_0x1c2c2a(0x136)],'setItemType':_0x203e55[_0x1c2c2a(0x70)],'setCodProducto':_0x203e55[_0x1c2c2a(0x127)],'setDescripcion':_0x203e55[_0x1c2c2a(0x6e)],'setItemDescription':_0x203e55[_0x1c2c2a(0x74)],'setItemIsSold':_0x203e55[_0x1c2c2a(0x6d)],'setItemIsBought':_0x203e55[_0x1c2c2a(0x90)],'setCategoria':_0x203e55[_0x1c2c2a(0x113)],'setMarca':_0x203e55['setMarca'],'setTaxId':_0x203e55[_0x1c2c2a(0x103)],'setUnitId':_0x203e55['id'],'setItemBarCode':_0x203e55['setItemBarCode'],'setUnidadCodigo':_0x203e55['setUnidadCodigo'],'setItemUnitAlias':_0x203e55[_0x1c2c2a(0xd2)]??'','PEN_setMtoPrecioUnitario':_0x291942(_0x203e55,'PEN',_0x1c2c2a(0x69)),'PEN_setMtoPrecioCostoUnitario':_0x291942(_0x203e55,_0x1c2c2a(0x134),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x291942(_0x203e55,_0x1c2c2a(0xb6),'setMtoPrecioUnitario'),'USD_setMtoPrecioCostoUnitario':_0x291942(_0x203e55,_0x1c2c2a(0xb6),'setMtoPrecioCostoUnitario'),'setItemCommissionPercentage':_0x203e55[_0x1c2c2a(0xdc)]?parseFloat(_0x203e55['setItemCommissionPercentage']):'','setUnitId2':_0x111541['id']??'','setItemBarCode2':_0x111541['setItemBarCode']??'','setUnidadCodigo2':_0x111541[_0x1c2c2a(0x7d)]??'','setItemUnitAlias2':_0x111541['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x111541['setConversionFactor']??'','PEN_setMtoPrecioUnitario2':_0x291942(_0x111541,'PEN','setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario2':_0x291942(_0x111541,_0x1c2c2a(0x134),_0x1c2c2a(0xc1))??'','USD_setMtoPrecioUnitario2':_0x291942(_0x111541,_0x1c2c2a(0xb6),'setMtoPrecioUnitario')??'','USD_setMtoPrecioCostoUnitario2':_0x291942(_0x111541,'USD',_0x1c2c2a(0xc1))??'','setItemCommissionPercentage2':_0x111541[_0x1c2c2a(0xdc)]?parseFloat(_0x111541[_0x1c2c2a(0xdc)]):'','setUnitId3':_0x1c0b8a['id']??'','setItemBarCode3':_0x1c0b8a[_0x1c2c2a(0x1a5)]??'','setUnidadCodigo3':_0x1c0b8a[_0x1c2c2a(0x7d)]??'','setItemUnitAlias3':_0x1c0b8a[_0x1c2c2a(0xd2)]??'','setUnidadEquivalencia3':_0x1c0b8a[_0x1c2c2a(0xbc)]??'','PEN_setMtoPrecioUnitario3':_0x291942(_0x1c0b8a,_0x1c2c2a(0x134),'setMtoPrecioUnitario')??'','PEN_setMtoPrecioCostoUnitario3':_0x291942(_0x1c0b8a,_0x1c2c2a(0x134),_0x1c2c2a(0xc1))??'','USD_setMtoPrecioUnitario3':_0x291942(_0x1c0b8a,_0x1c2c2a(0xb6),_0x1c2c2a(0x69))??'','USD_setMtoPrecioCostoUnitario3':_0x291942(_0x1c0b8a,_0x1c2c2a(0xb6),_0x1c2c2a(0xc1))??'','setItemCommissionPercentage3':_0x1c0b8a[_0x1c2c2a(0xdc)]?parseFloat(_0x1c0b8a[_0x1c2c2a(0xdc)]):'','setInventariable':_0x203e55[_0x1c2c2a(0x154)],'setSucursalStock':_0x182295==0x1?_0x203e55[_0x1c2c2a(0x1a9)]['find'](_0x122dd3=>String(_0x122dd3[_0x1c2c2a(0x17b)])==String(_0x11698d))[_0x1c2c2a(0x108)]:'','setWarehouseStockMin':_0x182295==0x1?_0x203e55[_0x1c2c2a(0x1a9)][_0x1c2c2a(0x93)](_0x271cda=>String(_0x271cda['setIdSucursal'])==String(_0x11698d))[_0x1c2c2a(0x178)]:'','setBatchName':_0x203e55[_0x1c2c2a(0x9b)],'setBatchExpirationDate':_0x203e55[_0x1c2c2a(0xc4)],..._0x203e55[_0x1c2c2a(0x19c)]};});try{JSON[_0x36870c(0x188)](_0x43cc95);}catch(_0x229033){console[_0x36870c(0x68)]('ERROR:\x20plainProducts\x20no\x20serializable:',_0x229033),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv[_0x36870c(0x10f)]=_0x36870c(0x7c),progressBar[_0x36870c(0x9e)][_0x36870c(0xd8)]=_0x36870c(0x120),progressBar['value']=0x0,itemWorker['postMessage']({'action':'exportItems','products':_0x43cc95,'plantillaBuf':_0x3d304c},[_0x3d304c]);}catch(_0x2e80e9){console[_0x36870c(0x68)](_0x2e80e9),ntfShow('Error\x20al\x20obtener\x20la\x20plantilla:\x20'+_0x2e80e9['message']);}}itemWorker[_0x2e2084(0x12f)]=({data:_0x305e24})=>{var _0x592715=_0x2e2084;const {type:_0x58907a,payload:_0x4738de}=_0x305e24;_0x58907a===_0x592715(0xa8)&&(progressBar[_0x592715(0x9e)][_0x592715(0xd8)]=_0x592715(0x120),progressBar[_0x592715(0x18c)]=_0x4738de[_0x592715(0x11f)],statusDiv[_0x592715(0x10f)]=_0x4738de[_0x592715(0x14e)]);_0x58907a===_0x592715(0x129)&&(newItemsExcel=_0x4738de['items'],statusDiv[_0x592715(0x10f)]='✅\x20'+newItemsExcel[_0x592715(0x143)]+'\x20items\x20procesados.',uploadBtn[_0x592715(0x98)]=![],progressBar['value']=0x64,console[_0x592715(0xfc)](newItemsExcel));_0x58907a===_0x592715(0x68)&&(statusDiv[_0x592715(0x10f)]=_0x592715(0xb5)+_0x4738de,progressBar['style'][_0x592715(0xd8)]='none');if(_0x58907a===_0x592715(0x66)){const {wbout:_0x226235,count:_0x44b4a2}=_0x4738de,_0x36ab80=new Blob([_0x226235],{'type':_0x592715(0xa2)}),_0xdce0b2=URL[_0x592715(0xb3)](_0x36ab80),_0xfbffca=document[_0x592715(0xc0)]('a'),_0x400959=new Date()[_0x592715(0x170)]()[_0x592715(0x79)](0x0,0xa);_0xfbffca[_0x592715(0x1b5)]='Plantilla-Items-Export-'+_0x400959+'.xlsx',_0xfbffca['href']=_0xdce0b2,_0xfbffca[_0x592715(0x194)](),URL[_0x592715(0x8d)](_0xdce0b2),statusDiv[_0x592715(0x10f)]=_0x592715(0x87)+_0x44b4a2+_0x592715(0x13f),progressBar['style'][_0x592715(0xd8)]=_0x592715(0xc9);}},fileInput[_0x2e2084(0x97)](_0x2e2084(0x83),async _0x20d0d0=>{var _0x8f430b=_0x2e2084;const _0x1a7fa5=_0x20d0d0[_0x8f430b(0xf0)][_0x8f430b(0x182)][0x0];if(!_0x1a7fa5)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x8f430b(0x10f)]='',progressBar['style']['display']=_0x8f430b(0xc9),dropZone[_0x8f430b(0x71)](_0x8f430b(0x1a8))['textContent']=_0x1a7fa5[_0x8f430b(0x173)],removeBtn[_0x8f430b(0xcc)]=![];try{const _0x2ccdcf=await _0x1a7fa5['arrayBuffer']();itemWorker['postMessage']({'action':_0x8f430b(0x1ae),'buf':_0x2ccdcf,'maxRows':0x1388});}catch(_0x1c34e8){statusDiv[_0x8f430b(0x10f)]=_0x8f430b(0xff);}finally{fileInput['value']='';}}),uploadBtn[_0x2e2084(0x97)](_0x2e2084(0x194),async()=>{var _0xdfcd15=_0x2e2084;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x3c2f25=document[_0xdfcd15(0xba)]('setWarehouseId')[_0xdfcd15(0x18c)],_0x1a8faf=[];newItemsExcel[_0xdfcd15(0x180)](_0x4cb201=>{var _0x571d6c=_0xdfcd15;const _0x290128=Boolean(_0x4cb201['setItemId']),_0x16dd35=_0x290128?_0x4cb201[_0x571d6c(0xa7)]:generateNumericUniqId();_0x4cb201['setItemWarehouses']=[{'setStockInitial':_0x4cb201['setStockInitial'],'setStockMinimum':_0x4cb201['setStockMinimum'],'setWarehouseCode':_0x3c2f25}],_0x4cb201[_0x571d6c(0x1ab)]['forEach'](_0x522c94=>{var _0x17405f=_0x571d6c;const _0x58c572=Boolean(_0x522c94[_0x17405f(0x160)]),_0x4f0393=_0x58c572?_0x522c94[_0x17405f(0x160)]:generateNumericUniqId();_0x522c94[_0x17405f(0x160)]=_0x4f0393;const _0x724c72=[];_0x724c72[_0x17405f(0x14b)]({'currency':_0x17405f(0x134),'setMtoPrecioCostoUnitario':_0x522c94[_0x17405f(0x117)],'setMtoPrecioUnitario':_0x522c94['setPrice'],'setPriceLists':[]});const _0x490006=_0x522c94['setCostUSD']!=null&&_0x522c94['setPriceUSD']!=null&&(!isNaN(_0x522c94['setCostUSD'])||!isNaN(_0x522c94['setPriceUSD']));_0x490006&&_0x724c72['push']({'currency':_0x17405f(0xb6),'setMtoPrecioCostoUnitario':_0x522c94['setCostUSD'],'setMtoPrecioUnitario':_0x522c94[_0x17405f(0x106)],'setPriceLists':[]});const _0x5b951e={'id':_0x4f0393,'setIdProducto':_0x16dd35,'setItemBarCode':_0x522c94[_0x17405f(0x1a5)],'setCodProducto':_0x4cb201[_0x17405f(0x1ac)],'setDescripcion':_0x4cb201[_0x17405f(0x124)],'setItemDescription':_0x4cb201[_0x17405f(0x74)],'setBatchExpirationDate':_0x4cb201[_0x17405f(0xcf)],'setBatchName':_0x4cb201[_0x17405f(0x9b)],'setItemIsSold':_0x4cb201[_0x17405f(0x6d)],'setItemIsBought':_0x4cb201[_0x17405f(0x90)],'setCategoria':_0x4cb201['setItemCategories'][0x0]||'','setMarca':_0x4cb201[_0x17405f(0xd6)][0x0]||'','setConversionFactor':parseFloat(_0x522c94[_0x17405f(0x147)]),'setImages':[],'setImg':_0x17405f(0xa0),'setInventariable':_0x4cb201[_0x17405f(0x15f)],'setPorcentajeIgv':_0x4cb201[_0x17405f(0x9c)],'setPrinters':[],'setTaxId':_0x4cb201['setItemTaxId'],'setTipAfeIgv':_0x4cb201['setItemTaxCode'],'setUnidad':_0x522c94['setUnitCode'],'setUnidadCodigo':_0x522c94['setUnitCode'],'setItemUnitAlias':_0x522c94['setAlias'],'setItemCommissionPercentage':_0x522c94['setItemCommissionPercentage'],'currency_data':_0x724c72,'sucursales':_0x4cb201[_0x17405f(0x12d)]['map'](_0x472152=>({'setIdSucursal':_0x472152[_0x17405f(0x110)],'setSucursalStock':_0x472152[_0x17405f(0x174)][_0x17405f(0xa4)](),'setWarehouseStockMin':_0x472152[_0x17405f(0x14d)]['toString']()})),'setItemFree':_0x4cb201['setItemFree'],'setItemBrands':_0x4cb201[_0x17405f(0xd6)][_0x17405f(0x79)](),'setItemCategories':_0x4cb201[_0x17405f(0x199)][_0x17405f(0x79)](),'setItemComponents':_0x4cb201[_0x17405f(0x166)]['map'](_0x7dd156=>({..._0x7dd156})),'setItemImages':_0x4cb201['setItemImages'][_0x17405f(0x79)](),'setItemVariantName':_0x4cb201[_0x17405f(0x99)],'setItemVariantValues':{..._0x4cb201['setItemVariantValues']}},_0x54322b=products[_0x17405f(0x16f)](_0xef469d=>_0xef469d['id']==_0x4f0393&&_0xef469d[_0x17405f(0x136)]==_0x16dd35);_0x54322b>-0x1?Object[_0x17405f(0x19d)](products[_0x54322b],_0x5b951e):_0x1a8faf[_0x17405f(0x14b)](_0x5b951e);});}),console[_0xdfcd15(0xfc)]('Items\x20finales:',newItemsExcel),await finalizeImport(_0x1a8faf,newItemsExcel,!![]);});function initializeFormImages(){var _0x1ce8cd=_0x2e2084;currentImages=Array(MAX_IMAGES)[_0x1ce8cd(0x13a)](null),imgC[_0x1ce8cd(0x1a4)]='',baseItem[_0x1ce8cd(0xf8)]=[];for(var _0x2e97a6=0x0;_0x2e97a6<MAX_IMAGES;_0x2e97a6++){(function(_0x52ee75){var _0x181f6d=_0x1ce8cd,_0x48edab=document[_0x181f6d(0xc0)]('div');_0x48edab[_0x181f6d(0xac)]=_0x181f6d(0xf9),_0x48edab['dataset'][_0x181f6d(0x7b)]=_0x52ee75;var _0x4898b7=document[_0x181f6d(0xc0)](_0x181f6d(0x158));_0x4898b7[_0x181f6d(0x14f)]=_0x181f6d(0x8a),_0x4898b7[_0x181f6d(0x78)]='image/*',_0x4898b7['style']['display']=_0x181f6d(0xc9);var _0x110d42=document['createElement'](_0x181f6d(0xe7));_0x110d42[_0x181f6d(0x10f)]='+',_0x48edab[_0x181f6d(0x148)](_0x4898b7),_0x48edab[_0x181f6d(0x148)](_0x110d42),imgC[_0x181f6d(0x148)](_0x48edab),_0x48edab[_0x181f6d(0x97)](_0x181f6d(0x194),function(){var _0x1461fc=_0x181f6d;_0x4898b7[_0x1461fc(0x194)]();}),_0x4898b7['addEventListener'](_0x181f6d(0x83),function(_0x28933d){var _0x548674=_0x181f6d,_0xe0ad32=_0x28933d[_0x548674(0xf0)]['files'][0x0];if(!_0xe0ad32)return removeImg(_0x52ee75);var _0x555750=new FileReader();_0x555750[_0x548674(0xfd)]=function(_0x5a7441){var _0x51befe=_0x548674;_0x48edab[_0x51befe(0x1a4)]='<img\x20src=\x22'+_0x5a7441[_0x51befe(0xf0)][_0x51befe(0x13c)]+'\x22>';var _0x2a85a6=document[_0x51befe(0xc0)](_0x51befe(0xe7));_0x2a85a6[_0x51befe(0xac)]=_0x51befe(0x9d),_0x2a85a6['textContent']='×',_0x2a85a6[_0x51befe(0x97)](_0x51befe(0x194),function(_0x2b4c17){var _0xda8acb=_0x51befe;_0x2b4c17[_0xda8acb(0xf6)](),removeImg(_0x52ee75);}),_0x48edab[_0x51befe(0x148)](_0x2a85a6),currentImages[_0x52ee75]=_0xe0ad32,baseItem[_0x51befe(0xf8)]=currentImages[_0x51befe(0x19a)](function(_0xbf1232){return _0xbf1232;});},_0x555750['readAsDataURL'](_0xe0ad32);});}(_0x2e97a6));}}function initializeFormIsSoldIsBought(_0x26799a=0x0){var _0x44c302=_0x2e2084;let _0x28972c,_0x25f5e2;if(_0x26799a!=0x0){const _0x5d3b91=products['find'](_0x2277a7=>_0x2277a7['id']==_0x26799a);_0x28972c=_0x5d3b91[_0x44c302(0x90)]==0x1||_0x5d3b91[_0x44c302(0x90)]==!![]?!![]:![],_0x25f5e2=_0x5d3b91[_0x44c302(0x6d)]==0x1||_0x5d3b91[_0x44c302(0x6d)]==!![]?!![]:![];}else _0x28972c=!![],_0x25f5e2=!![];document['getElementById'](_0x44c302(0x140))[_0x44c302(0x185)]=_0x28972c,document[_0x44c302(0xba)](_0x44c302(0xf1))['checked']=_0x25f5e2,baseItem[_0x44c302(0x90)]=_0x28972c,baseItem[_0x44c302(0x6d)]=_0x25f5e2;}function initializeFormInputsBasic(_0x5b7aaa=0x0){var _0x44feab=_0x2e2084;let _0x530695,_0x55003b,_0x59327b,_0xe88c2b,_0x4ec4e0,_0x2902b9;if(_0x5b7aaa!=0x0){const _0xb23c5f=products['find'](_0x532c3f=>_0x532c3f['id']==_0x5b7aaa);_0x530695=_0xb23c5f['setItemType']??'1',_0x55003b=_0xb23c5f[_0x44feab(0x127)],_0x59327b=_0xb23c5f[_0x44feab(0x6e)],_0xe88c2b=_0xb23c5f[_0x44feab(0x74)],_0x4ec4e0=_0xb23c5f[_0x44feab(0xc4)]??'',_0x2902b9=_0xb23c5f[_0x44feab(0x1a5)];}else _0x530695='1',_0x55003b=getNextCode(products),_0x59327b='',_0xe88c2b='',_0x4ec4e0='',_0x2902b9='';document['getElementById']('inputItemType')['value']=_0x530695,document[_0x44feab(0xba)](_0x44feab(0x128))[_0x44feab(0x18c)]=_0x55003b,document[_0x44feab(0xba)]('inputItemName')['value']=_0x59327b,document['getElementById'](_0x44feab(0xbb))[_0x44feab(0x18c)]=_0xe88c2b,document[_0x44feab(0xba)](_0x44feab(0x7a))[_0x44feab(0x18c)]=_0x4ec4e0,document[_0x44feab(0xba)]('inputItemBarCode')['value']=_0x2902b9,baseItem[_0x44feab(0x70)]=_0x530695,baseItem[_0x44feab(0x1ac)]=_0x55003b,baseItem[_0x44feab(0x124)]=_0x59327b,baseItem[_0x44feab(0x74)]=_0xe88c2b,baseItem[_0x44feab(0xcf)]=_0x4ec4e0,baseItem[_0x44feab(0x1a5)]=_0x2902b9,document[_0x44feab(0xba)]('newItem_addToCart')[_0x44feab(0x185)]=![];}function initializeFormTax(_0x1a867e=0x0){var _0x58881f=_0x2e2084;let _0x216c85;if(_0x1a867e!=0x0){const _0x561042=products[_0x58881f(0x93)](_0x116432=>_0x116432['id']==_0x1a867e);_0x216c85=_0x561042[_0x58881f(0x103)];}else _0x216c85=myCompany[_0x58881f(0xb7)];const _0x247915=document[_0x58881f(0xba)](_0x58881f(0x183));_0x247915['value']=_0x216c85,baseItem['setItemTaxId']=_0x216c85;const _0x9004bf=company[0x0][_0x58881f(0x1b1)][_0x58881f(0x93)](_0x2243cc=>_0x2243cc[_0x58881f(0x103)]==_0x216c85)?.[_0x58881f(0x122)]||0x0,_0x59a13b=company[0x0]['setImpuestos'][_0x58881f(0x93)](_0x476149=>_0x476149[_0x58881f(0x103)]==_0x216c85)?.[_0x58881f(0x156)]||0x0;baseItem[_0x58881f(0x155)]=_0x9004bf,baseItem['setItemTaxValue']=_0x59a13b;}function initializeFormCategoriesBrands(_0x209ff2=0x0){var _0x1da198=_0x2e2084;baseItem[_0x1da198(0x199)]=[],baseItem[_0x1da198(0xd6)]=[],document[_0x1da198(0x71)](_0x1da198(0xa9))[_0x1da198(0x1a4)]='',document[_0x1da198(0x71)](_0x1da198(0xe1))[_0x1da198(0x1a4)]='',document[_0x1da198(0x71)](_0x1da198(0x114))[_0x1da198(0x1a4)]='',document[_0x1da198(0x71)](_0x1da198(0x15d))[_0x1da198(0x1a4)]='';const _0x53f03b=myCompany[_0x1da198(0x199)]['map'](_0x42e5d0=>({'setCode':_0x42e5d0['setItemCategoryName'],'setName':_0x42e5d0[_0x1da198(0x8c)]})),_0x5e407a=myCompany[_0x1da198(0xd6)][_0x1da198(0xc7)](_0x300e1b=>({'setCode':_0x300e1b[_0x1da198(0xb9)],'setName':_0x300e1b[_0x1da198(0xb9)]}));initMulti(_0x1da198(0x6c),_0x53f03b),initMulti(_0x1da198(0xad),_0x5e407a),document[_0x1da198(0xba)](_0x1da198(0x6c))[_0x1da198(0x97)](_0x1da198(0x10e),function(_0x4963c9){var _0x3f92cd=_0x1da198;baseItem['setItemCategories']=_0x4963c9[_0x3f92cd(0x15c)][_0x3f92cd(0xc7)](_0x4018b3=>_0x4018b3[_0x3f92cd(0x197)]);}),document['getElementById'](_0x1da198(0xad))[_0x1da198(0x97)](_0x1da198(0x10e),function(_0x5d376e){var _0x46763c=_0x1da198;baseItem['setItemBrands']=_0x5d376e[_0x46763c(0x15c)][_0x46763c(0xc7)](_0x215f40=>_0x215f40['setCode']);});if(_0x209ff2!=0x0){const _0x59e939=products[_0x1da198(0x93)](_0x4e8300=>_0x4e8300['id']==_0x209ff2);if(_0x59e939[_0x1da198(0x113)]){const _0x2a9900=document['getElementById'](_0x1da198(0x6c)),_0x4f7c90=Array[_0x1da198(0x94)](_0x2a9900[_0x1da198(0xc8)]('.options_list\x20div'))[_0x1da198(0x93)](_0x4a98ee=>_0x4a98ee[_0x1da198(0x193)][_0x1da198(0x151)]==_0x59e939[_0x1da198(0x113)]);_0x4f7c90&&_0x4f7c90[_0x1da198(0x194)]();}if(_0x59e939['setMarca']){const _0x5dcaa1=document[_0x1da198(0xba)](_0x1da198(0xad)),_0xf86c9=Array[_0x1da198(0x94)](_0x5dcaa1[_0x1da198(0xc8)](_0x1da198(0xa5)))[_0x1da198(0x93)](_0x4c2798=>_0x4c2798[_0x1da198(0x193)][_0x1da198(0x151)]==_0x59e939[_0x1da198(0x17e)]);_0xf86c9&&_0xf86c9['click']();}}}function initializeFormUnits(){var _0x14543f=_0x2e2084;unitCount=0x0,document[_0x14543f(0xba)]('newItem_units_container')['innerHTML']='',baseItem['setItemUnits']=[];var _0x20bd19=uniqueValuesArray('setUnitCode',_0x14543f(0x167),myCompany[_0x14543f(0x176)]);addUnit('',_0x20bd19[0x3a]&&_0x20bd19[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x2b887a=_0x2e2084;prodC[_0x2b887a(0x1a4)]='',baseItem[_0x2b887a(0x166)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x414db7=_0x2e2084;branchesC[_0x414db7(0x1a4)]='',baseItem[_0x414db7(0x12d)]=[];const _0x1091cc=getAllWarehouses();_0x1091cc[_0x414db7(0x180)](function(_0x1619f5){var _0x4bffe4=_0x414db7,_0x3c11f8=document[_0x4bffe4(0xc0)]('div');_0x3c11f8[_0x4bffe4(0x1a4)]=_0x4bffe4(0x10a)+'<div\x20class=\x22newItem_col\x22>'+_0x4bffe4(0x18a)+_0x1619f5[_0x4bffe4(0xaf)]+_0x4bffe4(0x139)+_0x1619f5[_0x4bffe4(0x8f)]+'</label>'+_0x4bffe4(0x16d)+_0x4bffe4(0xdd)+_0x4bffe4(0xb2)+_0x1619f5[_0x4bffe4(0xaf)]+'\x22>'+'</div>'+_0x4bffe4(0xdd)+_0x4bffe4(0x1ad)+_0x1619f5[_0x4bffe4(0xaf)]+'\x22>'+'</div>'+_0x4bffe4(0x16d),branchesC[_0x4bffe4(0x148)](_0x3c11f8),_0x3c11f8[_0x4bffe4(0xc8)](_0x4bffe4(0x158))[_0x4bffe4(0x180)](function(_0x16aaed){var _0x5f39b7=_0x4bffe4;_0x16aaed[_0x5f39b7(0x97)](_0x5f39b7(0x158),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x469f28=_0x2e2084;baseItem[_0x469f28(0x99)]='',baseItem['setItemVariantValues']={},vgC[_0x469f28(0x1a4)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x14f50c,_0x33e1e4,_0x5e9c=![]){var _0x4fb2e9=_0x2e2084;const _0x4288d6=0xc8,_0x359e31={'apiPOSsendOffline':'1','setTipoOperacion':_0x4fb2e9(0x14a),'setToken':company[0x0][_0x4fb2e9(0x135)],'setWebhook':company[0x0][_0x4fb2e9(0x172)]};for(let _0x2303fc=0x0;_0x2303fc<_0x33e1e4[_0x4fb2e9(0x143)];_0x2303fc+=_0x4288d6){const _0x2c1abe=_0x33e1e4[_0x4fb2e9(0x79)](_0x2303fc,_0x2303fc+_0x4288d6);await storeOfflineProduct({..._0x359e31,'newItems':_0x2c1abe});}products['push'](..._0x14f50c),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x4fb2e9(0x164)),_0x5e9c?(fileInput[_0x4fb2e9(0x18c)]='',uploadBtn[_0x4fb2e9(0x98)]=!![],statusDiv[_0x4fb2e9(0x10f)]='',progressBar['style'][_0x4fb2e9(0xd8)]='none',progressBar[_0x4fb2e9(0x18c)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}