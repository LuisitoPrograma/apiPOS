/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.9
*/

const _0x266624=_0x284c;(function(_0x5bec05,_0x4aadea){const _0x1548ab=_0x284c,_0x1085de=_0x5bec05();while(!![]){try{const _0x51a368=-parseInt(_0x1548ab(0x187))/0x1+-parseInt(_0x1548ab(0x19f))/0x2*(-parseInt(_0x1548ab(0x1ab))/0x3)+parseInt(_0x1548ab(0x194))/0x4+-parseInt(_0x1548ab(0x196))/0x5+-parseInt(_0x1548ab(0x1ad))/0x6+parseInt(_0x1548ab(0x192))/0x7*(parseInt(_0x1548ab(0x179))/0x8)+parseInt(_0x1548ab(0x178))/0x9;if(_0x51a368===_0x4aadea)break;else _0x1085de['push'](_0x1085de['shift']());}catch(_0x2c8aad){_0x1085de['push'](_0x1085de['shift']());}}}(_0x1613,0xa1c2c));const _0x30cd1b=(function(){let _0x3c07c5=!![];return function(_0xc95f96,_0x383e09){const _0x4ae0e7=_0x3c07c5?function(){if(_0x383e09){const _0x5ecdc3=_0x383e09['apply'](_0xc95f96,arguments);return _0x383e09=null,_0x5ecdc3;}}:function(){};return _0x3c07c5=![],_0x4ae0e7;};}()),_0x22272a=_0x30cd1b(this,function(){const _0x5901c4=_0x284c;return _0x22272a[_0x5901c4(0x195)]()['search'](_0x5901c4(0x17b))[_0x5901c4(0x195)]()[_0x5901c4(0x17d)](_0x22272a)[_0x5901c4(0x1a9)](_0x5901c4(0x17b));});_0x22272a();const _0x45270d=(function(){let _0x35432d=!![];return function(_0x223665,_0x46653f){const _0x4dc70c=_0x35432d?function(){const _0x203b90=_0x284c;if(_0x46653f){const _0x196e7e=_0x46653f[_0x203b90(0x18a)](_0x223665,arguments);return _0x46653f=null,_0x196e7e;}}:function(){};return _0x35432d=![],_0x4dc70c;};}()),_0x295891=_0x45270d(this,function(){const _0x827855=_0x284c;let _0x42f2f5;try{const _0x1a1152=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x42f2f5=_0x1a1152();}catch(_0x483f47){_0x42f2f5=window;}const _0x523725=_0x42f2f5['console']=_0x42f2f5[_0x827855(0x176)]||{},_0x10d414=[_0x827855(0x180),_0x827855(0x198),_0x827855(0x181),_0x827855(0x1ac),_0x827855(0x177),_0x827855(0x174),'trace'];for(let _0x144447=0x0;_0x144447<_0x10d414[_0x827855(0x1a7)];_0x144447++){const _0x3c4fd9=_0x45270d['constructor']['prototype'][_0x827855(0x18f)](_0x45270d),_0x1e2535=_0x10d414[_0x144447],_0x2377e0=_0x523725[_0x1e2535]||_0x3c4fd9;_0x3c4fd9['__proto__']=_0x45270d[_0x827855(0x18f)](_0x45270d),_0x3c4fd9['toString']=_0x2377e0[_0x827855(0x195)][_0x827855(0x18f)](_0x2377e0),_0x523725[_0x1e2535]=_0x3c4fd9;}});_0x295891();const selectCredentialsApiWAChat=document[_0x266624(0x1aa)](_0x266624(0x1a3)),loginPanel=document[_0x266624(0x1aa)](_0x266624(0x19e)),chatPanel=document[_0x266624(0x1aa)](_0x266624(0x19d)),qrImg=document[_0x266624(0x1aa)](_0x266624(0x17c)),overlay=document[_0x266624(0x1aa)]('qr-overlay');let qrTimeout;const validSeconds=0x14;function showLogin(){const _0x1603ad=_0x266624;loginPanel[_0x1603ad(0x18c)]['display']=_0x1603ad(0x188),chatPanel[_0x1603ad(0x18c)][_0x1603ad(0x1ae)]='hidden';}function showChat(){const _0x3ee28d=_0x266624;loginPanel[_0x3ee28d(0x18c)][_0x3ee28d(0x184)]=_0x3ee28d(0x17a),chatPanel[_0x3ee28d(0x18c)]['visibility']=_0x3ee28d(0x18d);}function displayQR(_0x435668){const _0x33a7ac=_0x266624,_0x312890=selectCredentialsApiWAChat['value'],_0x3c76bf=getCredentialsApiWAChat(_0x312890);if(_0x3c76bf){const _0x11abf2=_0x3c76bf[_0x33a7ac(0x183)],_0x229865=_0x3c76bf['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay[_0x33a7ac(0x18c)]['display']=_0x33a7ac(0x17a),qrImg[_0x33a7ac(0x185)]=_0x435668,qrTimeout=setTimeout(()=>{const _0x35f708=_0x33a7ac;fetch('http://'+_0x11abf2+':3000/wa/'+_0x229865+'/qr',{'headers':{'x-auth-token':myCompany[_0x35f708(0x182)]}})[_0x35f708(0x17f)](_0x3441b3=>_0x3441b3[_0x35f708(0x1a1)]())[_0x35f708(0x17f)](_0x5ab0a4=>{const _0x3b835e=_0x35f708;_0x5ab0a4['status']&&_0x5ab0a4[_0x3b835e(0x19b)][_0x3b835e(0x1a0)]()[_0x3b835e(0x18b)](_0x3b835e(0x189))?showChat():overlay[_0x3b835e(0x18c)][_0x3b835e(0x184)]=_0x3b835e(0x188);})[_0x35f708(0x19a)](_0x6807dc=>{const _0x5504c2=_0x35f708;console[_0x5504c2(0x1ac)](_0x5504c2(0x17e),_0x6807dc),overlay[_0x5504c2(0x18c)]['display']='flex';});},validSeconds*0x3e8);}else ntfShow('Credenciales\x20no\x20encontradas');}function _0x1613(){const _0x1373e7=['4342398oAxyth','visibility','change','Credenciales\x20no\x20encontradas','table','setCredentialsApiWAChatIdDefault','console','exception','11697453iIAeYv','121960wqBLAi','none','(((.+)+)+)+$','qr-img','constructor','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','then','log','info','setAuthToken','setCredentialsApiWAChatServer','display','src','onload','1241232AKvfDg','flex','ya\x20conectado','apply','includes','style','visible','addEventListener','bind','setWarehouseId','setFloorId','553OXOxuL',':3000/wa/','1184640SeZxCk','toString','2275795PuiCHx','.btn-logout','warn','value','catch','status','dispatchEvent','chatPanel','loginPanel','70616VMkBEF','toLowerCase','json','http://','setCredentialsApiWAChat','click','setBranchId','/qr','length','querySelector','search','getElementById','24GtkrtC','error'];_0x1613=function(){return _0x1373e7;};return _0x1613();}function _0x284c(_0x139f4f,_0x2da7e6){const _0x3bd843=_0x1613();return _0x284c=function(_0x295891,_0x45270d){_0x295891=_0x295891-0x174;let _0x259b2f=_0x3bd843[_0x295891];return _0x259b2f;},_0x284c(_0x139f4f,_0x2da7e6);}function init(){const _0x13345c=_0x266624,_0x80386=selectCredentialsApiWAChat['value'],_0x4e380b=getCredentialsApiWAChat(_0x80386);if(_0x4e380b){const _0x238a7f=_0x4e380b[_0x13345c(0x183)],_0x5ccc88=_0x4e380b['setCredentialsApiWAChatPort'];fetch(_0x13345c(0x1a2)+_0x238a7f+_0x13345c(0x193)+_0x5ccc88+_0x13345c(0x1a6),{'headers':{'x-auth-token':myCompany['setAuthToken']}})[_0x13345c(0x17f)](_0x177247=>_0x177247[_0x13345c(0x1a1)]())['then'](_0x4fbfa2=>{const _0x460996=_0x13345c;if(_0x4fbfa2[_0x460996(0x19b)]&&_0x4fbfa2[_0x460996(0x19b)][_0x460996(0x1a0)]()[_0x460996(0x18b)](_0x460996(0x189)))showChat();else _0x4fbfa2['qr']&&(showLogin(),displayQR(_0x4fbfa2['qr']));})['catch'](console['error']);}else ntfShow(_0x13345c(0x1b0));}overlay[_0x266624(0x18e)](_0x266624(0x1a4),init),window[_0x266624(0x186)]=function(){const _0x2c4ffe=_0x266624,_0x297c8d=0x4;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x399036=document[_0x2c4ffe(0x1a8)](_0x2c4ffe(0x197));_0x399036&&_0x399036[_0x2c4ffe(0x18e)]('click',function(){logoutReload(0x0,_0x297c8d);}),document['getElementById'](_0x2c4ffe(0x1a5))[_0x2c4ffe(0x18e)]('change',async function(){const _0x3dbd17=_0x2c4ffe,_0x4d888a=parseInt(this[_0x3dbd17(0x199)]);myCompany['setBranchDefault']=_0x4d888a;const _0x10a3b6=selectCredentialsApiWAChat[_0x3dbd17(0x199)];myCompany[_0x3dbd17(0x175)]=_0x10a3b6;const _0x4dd21a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4dd21a),cargarAlmacenes(_0x4d888a),setTimeout(()=>{const _0x2cb767=_0x3dbd17;document[_0x2cb767(0x1aa)](_0x2cb767(0x190))['dispatchEvent'](new Event(_0x2cb767(0x1af)));},0x64),cargarPisos(_0x4d888a),setTimeout(()=>{const _0x175d92=_0x3dbd17;document[_0x175d92(0x1aa)](_0x175d92(0x191))[_0x175d92(0x19c)](new Event(_0x175d92(0x1af)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x297c8d);};