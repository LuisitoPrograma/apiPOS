/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.6
*/

var _0x3c3e7a=_0x699d;(function(_0x5c5a9f,_0x382a1a){var _0x3f734a=_0x699d,_0x46e0e8=_0x5c5a9f();while(!![]){try{var _0x162451=parseInt(_0x3f734a(0x169))/0x1+parseInt(_0x3f734a(0x22d))/0x2+-parseInt(_0x3f734a(0x209))/0x3*(parseInt(_0x3f734a(0x1fa))/0x4)+parseInt(_0x3f734a(0x261))/0x5*(parseInt(_0x3f734a(0x160))/0x6)+-parseInt(_0x3f734a(0x13b))/0x7+-parseInt(_0x3f734a(0x1f6))/0x8*(parseInt(_0x3f734a(0x13a))/0x9)+-parseInt(_0x3f734a(0x15a))/0xa*(-parseInt(_0x3f734a(0x231))/0xb);if(_0x162451===_0x382a1a)break;else _0x46e0e8['push'](_0x46e0e8['shift']());}catch(_0x33e89a){_0x46e0e8['push'](_0x46e0e8['shift']());}}}(_0x1cae,0x99882));var _0x43cdb8=(function(){var _0x11a1ab=!![];return function(_0x2db956,_0x1b515d){var _0x2a34f4=_0x11a1ab?function(){var _0x38d3a1=_0x699d;if(_0x1b515d){var _0x394eb7=_0x1b515d[_0x38d3a1(0x1c7)](_0x2db956,arguments);return _0x1b515d=null,_0x394eb7;}}:function(){};return _0x11a1ab=![],_0x2a34f4;};}()),_0x216755=_0x43cdb8(this,function(){var _0x22b39f=_0x699d;return _0x216755[_0x22b39f(0x284)]()[_0x22b39f(0x255)]('(((.+)+)+)+$')[_0x22b39f(0x284)]()[_0x22b39f(0x19c)](_0x216755)['search']('(((.+)+)+)+$');});_0x216755();var _0x3828ff=(function(){var _0x44ad5c=!![];return function(_0x288d8b,_0x19bd52){var _0x19924e=_0x44ad5c?function(){var _0x34afb8=_0x699d;if(_0x19bd52){var _0xc9cbc5=_0x19bd52[_0x34afb8(0x1c7)](_0x288d8b,arguments);return _0x19bd52=null,_0xc9cbc5;}}:function(){};return _0x44ad5c=![],_0x19924e;};}()),_0x512f26=_0x3828ff(this,function(){var _0x66f8f5=_0x699d,_0x1a6a3b=function(){var _0x5a4ddd=_0x699d,_0x33d714;try{_0x33d714=Function(_0x5a4ddd(0x238)+_0x5a4ddd(0x16f)+');')();}catch(_0x296522){_0x33d714=window;}return _0x33d714;},_0x1d1b49=_0x1a6a3b(),_0x17996b=_0x1d1b49['console']=_0x1d1b49[_0x66f8f5(0x21b)]||{},_0x5a527e=[_0x66f8f5(0x16d),'warn',_0x66f8f5(0x150),_0x66f8f5(0x227),'exception',_0x66f8f5(0x1b5),'trace'];for(var _0x47ac2e=0x0;_0x47ac2e<_0x5a527e[_0x66f8f5(0x1a4)];_0x47ac2e++){var _0x552be7=_0x3828ff[_0x66f8f5(0x19c)]['prototype'][_0x66f8f5(0x18c)](_0x3828ff),_0x4f973a=_0x5a527e[_0x47ac2e],_0x5dce16=_0x17996b[_0x4f973a]||_0x552be7;_0x552be7['__proto__']=_0x3828ff[_0x66f8f5(0x18c)](_0x3828ff),_0x552be7[_0x66f8f5(0x284)]=_0x5dce16[_0x66f8f5(0x284)][_0x66f8f5(0x18c)](_0x5dce16),_0x17996b[_0x4f973a]=_0x552be7;}});_0x512f26();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1cf)),unitCount=0x0,branchesC=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x189)),prodC=document['getElementById']('newItem_proditems_container'),vgCount=0x0,varContainer=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x162)),vgC=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x18a));const fileInput=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1e7)),progressBar=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x228)),statusDiv=document[_0x3c3e7a(0x157)]('status'),uploadBtn=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x16e));let newItemsExcel=null;const itemWorker=new Worker(_0x3c3e7a(0x17e)),dropZone=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1fb)),removeBtn=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x21d));function showModalCreateItem(_0x126544){var _0x1a5939=_0x3c3e7a;const _0x447b30=document[_0x1a5939(0x157)](_0x1a5939(0x26d)),_0x10f980=document['getElementById'](_0x1a5939(0x18d));_0x447b30['classList']['add']('active'),_0x10f980[_0x1a5939(0x1bc)][_0x1a5939(0x17c)]=_0x1a5939(0x27f);const _0x120a6a=document[_0x1a5939(0x157)](_0x1a5939(0x248));_0x120a6a[_0x1a5939(0x1a6)]=parseInt(_0x126544),baseItem[_0x1a5939(0x248)]=parseInt(_0x126544);const _0x55bada=document[_0x1a5939(0x157)]('modalProductNewTitle');_0x126544==0x0&&(_0x55bada['innerHTML']='Nuevo\x20Producto');_0x126544==0x1&&(_0x55bada[_0x1a5939(0x186)]='Producto\x20Libre');const _0x4e6db5=document[_0x1a5939(0x142)](_0x1a5939(0x1ad));for(let _0x1c5d6b=0x0;_0x1c5d6b<_0x4e6db5[_0x1a5939(0x1a4)];_0x1c5d6b++){const _0x39a5eb=_0x4e6db5[_0x1c5d6b];if(_0x126544==0x0)_0x39a5eb[_0x1a5939(0x178)][_0x1a5939(0x1ee)](_0x1a5939(0x1df));else _0x126544==0x1&&_0x39a5eb[_0x1a5939(0x178)]['add'](_0x1a5939(0x1df));}}function hideModalCreateItem(){var _0x301393=_0x3c3e7a;const _0x1f1ca5=document[_0x301393(0x157)](_0x301393(0x26d)),_0x441f24=document['getElementById'](_0x301393(0x18d));_0x1f1ca5['classList']['remove'](_0x301393(0x153)),_0x441f24[_0x301393(0x1bc)][_0x301393(0x17c)]='none';}document[_0x3c3e7a(0x157)](_0x3c3e7a(0x280))['addEventListener'](_0x3c3e7a(0x245),hideModalCreateItem),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x18d))[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),_0x513943=>{var _0x496d36=_0x3c3e7a;_0x513943['target']==_0x513943[_0x496d36(0x200)]&&_0x513943[_0x496d36(0x144)]();});function loadTaxData(){var _0x3cb95b=_0x3c3e7a;const _0x3c20bd=document[_0x3cb95b(0x157)](_0x3cb95b(0x19a));_0x3c20bd[_0x3cb95b(0x186)]='',company[0x0]['setImpuestos'][_0x3cb95b(0x1cb)](function(_0x211707){var _0x4e0f33=_0x3cb95b;const _0x2d2db1=document[_0x4e0f33(0x1af)]('option');_0x2d2db1[_0x4e0f33(0x1a6)]=_0x211707['setTaxId'],_0x2d2db1['innerHTML']=_0x211707[_0x4e0f33(0x22a)]+'\x20('+_0x211707['setImpuestoValue']+'%)',_0x211707[_0x4e0f33(0x16c)]==company[0x0][_0x4e0f33(0x283)]&&(_0x2d2db1['selected']=!![]),_0x3c20bd[_0x4e0f33(0x1d2)](_0x2d2db1);});}function uniqueValuesArray(_0x390697,_0x15d213,_0x577fd4){var _0x507257=_0x3c3e7a;const _0x1d74d0=Array[_0x507257(0x1e6)](new Set(_0x577fd4[_0x507257(0x1bb)](_0x123f89=>{var _0x3a03e3=_0x507257;const _0x1b0828=_0x123f89[_0x390697];return typeof _0x1b0828===_0x3a03e3(0x17f)?_0x1b0828[_0x3a03e3(0x170)]():_0x1b0828;})[_0x507257(0x214)](_0x565a23=>_0x565a23!=null&&_0x565a23!=='')));return _0x1d74d0[_0x507257(0x1bb)](_0x352cfa=>{var _0x495f4b=_0x507257;const _0x221c56=_0x577fd4['find'](_0x231c43=>_0x231c43[_0x390697]===_0x352cfa),_0x440fbc=_0x221c56&&_0x221c56[_0x15d213]!=null?String(_0x221c56[_0x15d213])[_0x495f4b(0x170)]():_0x352cfa;return{'setCode':_0x352cfa,'setName':_0x440fbc};});}function fillSelect(_0x3d3d21,_0x2b0dc4,_0x5e17f5,_0x4d3e84){var _0x3a493d=_0x3c3e7a;_0x3d3d21['innerHTML']='',_0x2b0dc4[_0x3a493d(0x1cb)](function(_0x504856){var _0x3b67cf=new Option(_0x504856[_0x4d3e84],_0x504856[_0x5e17f5]);_0x3d3d21['add'](_0x3b67cf);});}function initMulti(_0x3a944b,_0x210286){var _0x2f0cb5=_0x3c3e7a,_0x4fc1f7=document[_0x2f0cb5(0x157)](_0x3a944b),_0xbe7736=_0x4fc1f7[_0x2f0cb5(0x20f)]('.ms_input'),_0x4d5aed=_0x4fc1f7[_0x2f0cb5(0x20f)](_0x2f0cb5(0x1b1)),_0x1d5958=_0x4fc1f7[_0x2f0cb5(0x20f)](_0x2f0cb5(0x213)),_0x137813=_0x210286[_0x2f0cb5(0x233)](),_0x2a775c=[];let _0x832fe2=null,_0xb59ae7=![];function _0x63a90e(){var _0x594a92=_0x2f0cb5;const _0x2a49ad=_0xbe7736[_0x594a92(0x1a6)][_0x594a92(0x170)]();if(!_0x2a49ad)return;const _0x2d6076=_0x137813['find'](_0x4e7afa=>_0x4e7afa[_0x594a92(0x25b)][_0x594a92(0x262)]()===_0x2a49ad[_0x594a92(0x262)]());if(_0x2d6076)_0x2a775c['push'](_0x2d6076),_0x137813['splice'](_0x137813['findIndex'](_0x3452de=>_0x3452de[_0x594a92(0x21f)]===_0x2d6076[_0x594a92(0x21f)]),0x1);else{const _0x23921d=_0x2a775c['some'](_0x5e6cbe=>_0x5e6cbe[_0x594a92(0x25b)]['toLowerCase']()===_0x2a49ad[_0x594a92(0x262)]());!_0x23921d&&_0x2a775c[_0x594a92(0x25a)]({'setCode':_0x2a49ad,'setName':_0x2a49ad});}_0x5bcaca(),_0x5ae91c(),_0xbe7736[_0x594a92(0x1a6)]='';}function _0x5ae91c(){var _0x218685=_0x2f0cb5;_0x4d5aed['innerHTML']='',_0x137813['filter'](_0x14bfcb=>_0x14bfcb[_0x218685(0x25b)][_0x218685(0x262)]()['includes'](_0xbe7736[_0x218685(0x1a6)][_0x218685(0x262)]()))[_0x218685(0x233)](0x0,0x14)[_0x218685(0x1cb)](_0x284a39=>{var _0x9767fd=_0x218685,_0x242561=document[_0x9767fd(0x1af)](_0x9767fd(0x1b6));_0x242561[_0x9767fd(0x168)]=_0x284a39['setName'],_0x242561['dataset'][_0x9767fd(0x242)]=_0x284a39[_0x9767fd(0x21f)],_0x4d5aed[_0x9767fd(0x1d2)](_0x242561),_0x242561['addEventListener'](_0x9767fd(0x212),()=>_0xb59ae7=!![]),_0x242561[_0x9767fd(0x187)](_0x9767fd(0x245),function(){var _0x16a29e=_0x9767fd;_0xb59ae7=![],_0x2a775c[_0x16a29e(0x25a)](_0x284a39),_0x137813['splice'](_0x137813[_0x16a29e(0x15b)](_0x54a741=>_0x54a741[_0x16a29e(0x21f)]===_0x284a39[_0x16a29e(0x21f)]),0x1),_0xbe7736[_0x16a29e(0x1a6)]='',_0x5bcaca(),_0x5ae91c();});});}function _0x5bcaca(){var _0x30c531=_0x2f0cb5;_0x1d5958['innerHTML']='',_0x2a775c[_0x30c531(0x1cb)](_0x2cecdc=>{var _0x8943cd=_0x30c531,_0x563c19=document[_0x8943cd(0x1af)]('div');_0x563c19[_0x8943cd(0x279)]=_0x8943cd(0x1b8),_0x563c19[_0x8943cd(0x168)]=_0x2cecdc[_0x8943cd(0x25b)];var _0x2c790d=document[_0x8943cd(0x1af)](_0x8943cd(0x219));_0x2c790d[_0x8943cd(0x279)]=_0x8943cd(0x20c),_0x2c790d[_0x8943cd(0x168)]='×',_0x2c790d['addEventListener'](_0x8943cd(0x245),function(){var _0x5e0d39=_0x8943cd;_0x137813[_0x5e0d39(0x25a)](_0x2cecdc);const _0x222370=_0x2a775c[_0x5e0d39(0x15b)](_0x4eb2d0=>_0x4eb2d0[_0x5e0d39(0x21f)]===_0x2cecdc['setCode']);if(_0x222370>-0x1)_0x2a775c[_0x5e0d39(0x1e0)](_0x222370,0x1);_0x5bcaca(),_0x5ae91c();}),_0x563c19[_0x8943cd(0x1d2)](_0x2c790d),_0x1d5958[_0x8943cd(0x1d2)](_0x563c19);}),_0x4fc1f7[_0x30c531(0x147)](new CustomEvent(_0x30c531(0x1a9),{'detail':_0x2a775c,'bubbles':!![]}));}return _0xbe7736[_0x2f0cb5(0x187)](_0x2f0cb5(0x15f),function(){var _0x3fe196=_0x2f0cb5;_0x832fe2&&(clearTimeout(_0x832fe2),_0x832fe2=null),_0x4d5aed['classList'][_0x3fe196(0x1ee)](_0x3fe196(0x23f));}),_0xbe7736[_0x2f0cb5(0x187)](_0x2f0cb5(0x225),_0x5ae91c),_0xbe7736[_0x2f0cb5(0x187)](_0x2f0cb5(0x1aa),function(_0x344213){var _0x587d69=_0x2f0cb5;_0x344213[_0x587d69(0x1ae)]===_0x587d69(0x1cc)&&(_0x344213[_0x587d69(0x21a)](),_0x63a90e());}),_0xbe7736[_0x2f0cb5(0x187)](_0x2f0cb5(0x1f2),function(){if(_0xb59ae7)return;_0x832fe2=setTimeout(()=>{_0x63a90e(),_0x832fe2=null;},0xc8);}),document['addEventListener'](_0x2f0cb5(0x245),function(_0x32ed21){var _0x329567=_0x2f0cb5;!_0x4fc1f7[_0x329567(0x174)](_0x32ed21[_0x329567(0x1cd)])&&_0x4d5aed[_0x329567(0x178)][_0x329567(0x1e5)](_0x329567(0x23f));}),_0x5ae91c(),_0x2a775c;}function getLastCode(_0x1b2190){var _0x27fa08=_0x3c3e7a;const _0x542342=_0x1b2190[_0x27fa08(0x1bb)](_0x16d373=>String(_0x16d373[_0x27fa08(0x1a3)])[_0x27fa08(0x170)]())[_0x27fa08(0x214)](_0x35adab=>_0x35adab!=='');if(_0x542342[_0x27fa08(0x1a4)]===0x0)return'';const _0x4a6284=_0x542342[_0x27fa08(0x249)](_0x3c28ef=>/^\d+$/[_0x27fa08(0x239)](_0x3c28ef));if(_0x4a6284){const _0x52409a=_0x542342[_0x27fa08(0x1bb)](Number),_0x185e59=Math[_0x27fa08(0x208)](..._0x52409a);return String(_0x185e59);}let _0xdabc67;if(typeof Intl!==_0x27fa08(0x15e)&&Intl['Collator']){const _0x1ac44b=new Intl[(_0x27fa08(0x1a7))](undefined,{'numeric':!![],'sensitivity':_0x27fa08(0x199)});_0xdabc67=_0x542342[_0x27fa08(0x233)]()[_0x27fa08(0x25f)](_0x1ac44b[_0x27fa08(0x19d)]);}else{const _0x2cab49=_0x542342['every'](_0x19937c=>/^\d+$/[_0x27fa08(0x239)](_0x19937c));_0x2cab49?_0xdabc67=_0x542342['map'](Number)[_0x27fa08(0x25f)]((_0x2aa34e,_0x312528)=>_0x2aa34e-_0x312528)[_0x27fa08(0x1bb)](String):_0xdabc67=_0x542342['slice']()[_0x27fa08(0x25f)]();}return _0xdabc67[_0xdabc67['length']-0x1];}function getNextCode(_0x134f77){var _0x447455=_0x3c3e7a;const _0x5c73bf=getLastCode(_0x134f77);if(!_0x5c73bf)return'';if(/^\d+$/[_0x447455(0x239)](_0x5c73bf))return String(Number(_0x5c73bf)+0x1);const _0x2bfeb8=_0x5c73bf[_0x447455(0x1f8)](/^([A-Za-z]*)(\d+)$/);if(_0x2bfeb8){const [,_0x270523,_0x15a21f]=_0x2bfeb8,_0x321c5f=String(Number(_0x15a21f)+0x1)[_0x447455(0x267)](_0x15a21f[_0x447455(0x1a4)],'0');return _0x270523+_0x321c5f;}return _0x5c73bf;}document['getElementById']('inputItemName')[_0x3c3e7a(0x187)](_0x3c3e7a(0x225),function(_0x21bebd){var _0x1aa635=_0x3c3e7a;baseItem[_0x1aa635(0x1d1)]=_0x21bebd[_0x1aa635(0x1cd)][_0x1aa635(0x1a6)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x27e))['addEventListener'](_0x3c3e7a(0x225),function(_0x46a428){var _0x2d5715=_0x3c3e7a;baseItem[_0x2d5715(0x1a8)]=_0x46a428[_0x2d5715(0x1cd)][_0x2d5715(0x1a6)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x271))[_0x3c3e7a(0x187)](_0x3c3e7a(0x225),function(_0x1a031c){var _0x3d5cea=_0x3c3e7a;baseItem[_0x3d5cea(0x195)]=_0x1a031c['target'][_0x3d5cea(0x1a6)];}),document['getElementById']('inputItemType')['addEventListener'](_0x3c3e7a(0x27a),function(_0x5a6d6b){var _0x48e72d=_0x3c3e7a;baseItem[_0x48e72d(0x210)]=_0x5a6d6b[_0x48e72d(0x1cd)][_0x48e72d(0x1a6)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x19a))[_0x3c3e7a(0x187)](_0x3c3e7a(0x27a),function(_0x26a7f1){var _0x2a6be7=_0x3c3e7a;baseItem[_0x2a6be7(0x1fd)]=_0x26a7f1[_0x2a6be7(0x1cd)]['value'];const _0xcee52e=_0x26a7f1[_0x2a6be7(0x1cd)]['value'],_0x3ac083=company[0x0][_0x2a6be7(0x197)][_0x2a6be7(0x268)](_0x3a2843=>_0x3a2843['setTaxId']==_0xcee52e)?.[_0x2a6be7(0x26e)]||0x0,_0x133e5a=company[0x0][_0x2a6be7(0x197)][_0x2a6be7(0x268)](_0x4a41ed=>_0x4a41ed[_0x2a6be7(0x16c)]==_0xcee52e)?.[_0x2a6be7(0x16a)]||0x0;baseItem['setItemTaxCode']=_0x3ac083,baseItem[_0x2a6be7(0x13c)]=_0x133e5a;}),document['getElementById']('newItem_chk_buy')['addEventListener'](_0x3c3e7a(0x27a),function(_0x2b9e41){var _0x541889=_0x3c3e7a;baseItem['setItemIsBought']=_0x2b9e41[_0x541889(0x1cd)][_0x541889(0x148)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1f0))[_0x3c3e7a(0x187)]('change',function(_0x2246d4){var _0x2458fc=_0x3c3e7a;baseItem[_0x2458fc(0x234)]=_0x2246d4['target'][_0x2458fc(0x148)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x171))[_0x3c3e7a(0x187)](_0x3c3e7a(0x225),function(_0x1cdbe){var _0x3137e8=_0x3c3e7a;baseItem['setItemCode']=_0x1cdbe['target'][_0x3137e8(0x1a6)];}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1c5))[_0x3c3e7a(0x187)](_0x3c3e7a(0x225),function(_0x1acb52){var _0x2f6915=_0x3c3e7a;baseItem[_0x2f6915(0x1be)]=_0x1acb52[_0x2f6915(0x1cd)]['value'];}),document['getElementById'](_0x3c3e7a(0x1db))[_0x3c3e7a(0x187)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x3c3e7a(0x157)](_0x3c3e7a(0x171))['addEventListener'](_0x3c3e7a(0x1f2),function(){var _0xc478de=_0x3c3e7a;const _0x39b728=this[_0xc478de(0x1a6)][_0xc478de(0x170)]();if(_0x39b728==='')return;const _0x4d2bdd=products[_0xc478de(0x1f1)](_0x832365=>_0x832365[_0xc478de(0x1a3)]==_0x39b728),_0x23e1ed=getLastCode(products);_0x4d2bdd?ntfShow(_0xc478de(0x14c)+_0x23e1ed,0x2,0x1):ntfShow(_0xc478de(0x215),0x1,0x1);});function removeImg(_0x252e06){var _0x38608e=_0x3c3e7a;currentImages[_0x252e06]=null;var _0x3fe656=imgC['querySelector']('[data-idx=\x22'+_0x252e06+'\x22]');_0x3fe656['innerHTML']='';var _0x51335a=document[_0x38608e(0x1af)](_0x38608e(0x225));_0x51335a[_0x38608e(0x24d)]='file',_0x51335a[_0x38608e(0x24f)]=_0x38608e(0x183),_0x51335a[_0x38608e(0x1bc)][_0x38608e(0x17c)]=_0x38608e(0x19b);var _0x53641a=document['createElement'](_0x38608e(0x219));_0x53641a[_0x38608e(0x168)]='+',_0x3fe656['appendChild'](_0x51335a),_0x3fe656[_0x38608e(0x1d2)](_0x53641a),_0x3fe656['addEventListener'](_0x38608e(0x245),function(){var _0x5b29df=_0x38608e;_0x51335a[_0x5b29df(0x245)]();}),baseItem[_0x38608e(0x14d)]=currentImages['filter'](function(_0x53f09e){return _0x53f09e;});}function addUnit(_0x4e9541,_0x3c6710,_0x5ce613,_0x29820d,_0x20fa71,_0x390448,_0x301632){var _0x1db759=_0x3c3e7a,_0x5b587a=uniqueValuesArray(_0x1db759(0x137),_0x1db759(0x272),myCompany[_0x1db759(0x25c)]);_0x4e9541=_0x4e9541||'',_0x3c6710=_0x3c6710||_0x5b587a[0x3a]&&_0x5b587a[0x3a][_0x1db759(0x21f)]||'',_0x5ce613=_0x5ce613!==undefined?_0x5ce613:0x1,_0x29820d=!!_0x29820d,_0x20fa71=_0x20fa71||'',_0x390448=_0x390448||'';var _0x51562f=unitCount++,_0x7a93d=document[_0x1db759(0x1af)](_0x1db759(0x1b6));_0x7a93d[_0x1db759(0x27c)][_0x1db759(0x193)]=_0x51562f,_0x7a93d['dataset']['default']=_0x29820d,_0x7a93d[_0x1db759(0x186)]=_0x1db759(0x18b)+_0x51562f+_0x1db759(0x1eb)+_0x4e9541+'\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22'+_0x51562f+_0x1db759(0x264)+_0x51562f+_0x1db759(0x1eb)+_0x5ce613+'\x22\x20'+(_0x29820d?_0x1db759(0x276):'')+_0x1db759(0x20e)+_0x51562f+'\x22\x20value=\x22'+_0x20fa71+_0x1db759(0x152)+_0x51562f+'\x22\x20value=\x22'+_0x390448+_0x1db759(0x1e9)+(_0x29820d?_0x1db759(0x1e4):'')+_0x1db759(0x198),fillSelect(_0x7a93d[_0x1db759(0x20f)]('.unitSelect'),_0x5b587a,_0x1db759(0x21f),'setName'),_0x7a93d[_0x1db759(0x20f)](_0x1db759(0x192))[_0x1db759(0x1a6)]=_0x3c6710,[_0x1db759(0x1d7),_0x1db759(0x250),_0x1db759(0x1b9),_0x1db759(0x1f4),'costInput'][_0x1db759(0x1cb)](function(_0x1234dd){var _0x13653e=_0x1db759;_0x7a93d[_0x13653e(0x20f)]('.'+_0x1234dd)['addEventListener'](_0x13653e(0x225),function(){var _0x140a62=_0x301632?+_0x301632['id']['split']('_')[0x1]:null;if(_0x301632)updateVariantUnits(_0x140a62);else updateUnitsArray();});}),_0x7a93d[_0x1db759(0x20f)](_0x1db759(0x24a))[_0x1db759(0x187)](_0x1db759(0x245),function(){var _0x6a036=_0x1db759;_0x7a93d[_0x6a036(0x1ee)]();var _0x3f3c5b=_0x301632?+_0x301632['id'][_0x6a036(0x1fc)]('_')[0x1]:null;if(_0x301632)updateVariantUnits(_0x3f3c5b);else updateUnitsArray();});var _0x2e09f4=_0x301632||document['getElementById'](_0x1db759(0x188));_0x2e09f4[_0x1db759(0x1d2)](_0x7a93d);}function containerIdx(_0x1a3100){var _0x48869c=_0x3c3e7a;return+_0x1a3100['id'][_0x48869c(0x1fc)]('_')[0x1];}function updateUnitsArray(){var _0x417794=_0x3c3e7a,_0x50300a=[],_0x3fffa5=Array[_0x417794(0x1e6)](document['querySelectorAll'](_0x417794(0x259))),_0xf0db13=_0x3fffa5[_0x417794(0x268)](_0x54249e=>_0x54249e[_0x417794(0x27c)][_0x417794(0x1b4)]===_0x417794(0x220)),_0x1e25a3=_0xf0db13?+_0xf0db13[_0x417794(0x20f)]('.eqInput')[_0x417794(0x1a6)]:0x1;_0x3fffa5['forEach'](function(_0x8cf05){var _0x335701=_0x417794,_0x2f2266=+_0x8cf05[_0x335701(0x20f)](_0x335701(0x23e))[_0x335701(0x1a6)]||0x0,_0x5bcba6=+_0x8cf05[_0x335701(0x20f)](_0x335701(0x140))[_0x335701(0x1a6)]||0x0,_0x51393f=+_0x8cf05[_0x335701(0x20f)](_0x335701(0x1e3))[_0x335701(0x1a6)]||0x0;_0x50300a['push']({'setAlias':_0x8cf05[_0x335701(0x20f)](_0x335701(0x26a))[_0x335701(0x1a6)][_0x335701(0x170)](),'setUnitCode':_0x8cf05[_0x335701(0x20f)](_0x335701(0x192))['value'],'setEquivalence':_0x2f2266,'setFactor':_0x8cf05[_0x335701(0x27c)][_0x335701(0x1b4)]==='true'?0x1:_0x2f2266==_0x1e25a3?0x1:_0x2f2266<_0x1e25a3?_0x1e25a3/_0x2f2266:_0x2f2266/_0x1e25a3,'setPrice':_0x5bcba6,'setCost':_0x51393f,'setDefault':_0x8cf05['dataset'][_0x335701(0x1b4)]===_0x335701(0x220)?0x1:0x0});}),baseItem[_0x417794(0x20a)]=_0x50300a;}function updateBranches(){var _0x236565=_0x3c3e7a,_0x3f0fe0=[];document[_0x236565(0x22e)](_0x236565(0x179))[_0x236565(0x1cb)](function(_0x32ea5c){var _0x2070d8=_0x236565,_0x3aad4e=_0x32ea5c[_0x2070d8(0x20f)](_0x2070d8(0x1ea));if(_0x3aad4e['checked']){var _0xb37e8c=+_0x3aad4e['dataset']['id'],_0x305dfa=+_0x32ea5c['querySelector']('.branchInit')[_0x2070d8(0x1a6)],_0xb7de8b=+_0x32ea5c['querySelector'](_0x2070d8(0x27b))[_0x2070d8(0x1a6)];_0x3f0fe0[_0x2070d8(0x25a)]({'setWarehouseCode':_0xb37e8c,'setStockInitial':_0x305dfa,'setStockMinimum':_0xb7de8b});}}),baseItem[_0x236565(0x167)]=_0x3f0fe0;}document[_0x3c3e7a(0x157)](_0x3c3e7a(0x236))[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),function(){var _0x329237=_0x3c3e7a,_0x1f09a3=Date[_0x329237(0x201)](),_0x383903=document[_0x329237(0x1af)]('div');_0x383903['dataset'][_0x329237(0x193)]=_0x1f09a3,_0x383903['innerHTML']=_0x329237(0x229)+_0x1f09a3+_0x329237(0x136)+_0x1f09a3+'\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',prodC[_0x329237(0x1d2)](_0x383903),initProdSearch(_0x383903[_0x329237(0x20f)]('.prod_input_container')),_0x383903[_0x329237(0x20f)]('.removeProd')[_0x329237(0x187)](_0x329237(0x245),function(){_0x383903['remove'](),updateProdItems();}),_0x383903[_0x329237(0x20f)]('.prodQty')[_0x329237(0x187)](_0x329237(0x225),updateProdItems),document[_0x329237(0x157)](_0x329237(0x15d))['classList'][_0x329237(0x1b3)]('newItem_title_table',!![]),document[_0x329237(0x157)](_0x329237(0x15d))[_0x329237(0x178)][_0x329237(0x1b3)](_0x329237(0x23f),![]);});function initProdSearch(_0xaf3778,_0x3164b7){var _0x45cc7a=_0x3c3e7a,_0x31082c=_0xaf3778['querySelector'](_0x45cc7a(0x26b)),_0x405b85=_0xaf3778[_0x45cc7a(0x20f)](_0x45cc7a(0x1b1)),_0x48cbfe=_0x3164b7||null;if(_0x3164b7)_0x31082c[_0x45cc7a(0x1a6)]=_0x3164b7[_0x45cc7a(0x247)];_0x31082c[_0x45cc7a(0x187)]('input',function(){var _0x4dd833=_0x45cc7a,_0x2ae63b=_0x31082c[_0x4dd833(0x1a6)][_0x4dd833(0x262)]()[_0x4dd833(0x170)]();_0x405b85[_0x4dd833(0x186)]='';if(!_0x2ae63b)return;products[_0x4dd833(0x214)](_0x3313f1=>_0x3313f1[_0x4dd833(0x1f9)][_0x4dd833(0x262)]()[_0x4dd833(0x1d4)](_0x2ae63b))['slice'](0x0,0x14)[_0x4dd833(0x1cb)](function(_0x285e94){var _0x1f4712=_0x4dd833,_0x4c8980=document['createElement'](_0x1f4712(0x1b6));_0x4c8980['textContent']=_0x285e94[_0x1f4712(0x1f9)],_0x4c8980[_0x1f4712(0x27c)]['id']=_0x285e94['id'],_0x4c8980[_0x1f4712(0x27c)]['name']=_0x285e94[_0x1f4712(0x1f9)],_0x405b85['appendChild'](_0x4c8980),_0x4c8980['addEventListener'](_0x1f4712(0x245),function(){var _0x2543fe=_0x1f4712;_0x48cbfe={'id':_0x285e94['id'],'name':_0x285e94[_0x2543fe(0x1f9)]},_0x31082c['value']=_0x285e94[_0x2543fe(0x1f9)],_0x405b85['innerHTML']='';var _0xb6509c=_0xaf3778[_0x2543fe(0x24c)](_0x2543fe(0x22b));if(_0xb6509c){var _0x44b83d=+_0xb6509c['id']['split']('_')[0x1];updateVariantComponents(_0x44b83d);}else updateProdItems();});});}),_0x31082c[_0x45cc7a(0x187)](_0x45cc7a(0x15f),function(){var _0x15e79e=_0x45cc7a;_0x405b85[_0x15e79e(0x178)][_0x15e79e(0x1ee)](_0x15e79e(0x23f));}),document['addEventListener'](_0x45cc7a(0x245),function(_0x57eda4){var _0x494d76=_0x45cc7a;if(!_0xaf3778[_0x494d76(0x174)](_0x57eda4[_0x494d76(0x1cd)]))_0x405b85[_0x494d76(0x178)][_0x494d76(0x1e5)]('newItem_hidden');}),Object['defineProperty'](_0xaf3778,'selectedItem',{'get':()=>_0x48cbfe});}function updateProdItems(){var _0x49a1d0=_0x3c3e7a,_0x368045=[];Array[_0x49a1d0(0x1e6)](prodC[_0x49a1d0(0x1b0)])[_0x49a1d0(0x1cb)](function(_0x1ad088){var _0x11e4a9=_0x49a1d0,_0x30e7b7=_0x1ad088[_0x11e4a9(0x20f)](_0x11e4a9(0x1c3));if(!_0x30e7b7)return;var _0x3ea29d=_0x1ad088[_0x11e4a9(0x20f)](_0x11e4a9(0x241)),_0x5a59c3=_0x30e7b7['selectedItem'];_0x5a59c3&&_0x368045[_0x11e4a9(0x25a)]({'setItemId':_0x5a59c3['id'],'setDescripcion':_0x5a59c3['name'],'setCantidad':+_0x3ea29d[_0x11e4a9(0x1a6)]});}),baseItem[_0x49a1d0(0x1ca)]=_0x368045,_0x368045[_0x49a1d0(0x1a4)]===0x0&&(document[_0x49a1d0(0x157)](_0x49a1d0(0x15d))[_0x49a1d0(0x178)][_0x49a1d0(0x1b3)](_0x49a1d0(0x251),![]),document[_0x49a1d0(0x157)](_0x49a1d0(0x15d))[_0x49a1d0(0x178)][_0x49a1d0(0x1b3)]('newItem_hidden',!![]));}document['getElementById']('newItem_btn_addVariantGroup')[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),function(){var _0x4bd38f=_0x3c3e7a,_0x40afd5=vgCount++,_0x24e40d=document[_0x4bd38f(0x1af)](_0x4bd38f(0x1b6));_0x24e40d[_0x4bd38f(0x27c)][_0x4bd38f(0x193)]=_0x40afd5,_0x24e40d[_0x4bd38f(0x186)]=_0x4bd38f(0x1bf)+_0x40afd5+'\x22>'+_0x4bd38f(0x240)+_0x40afd5+'\x22>'+'<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>',vgC['appendChild'](_0x24e40d),_0x24e40d[_0x4bd38f(0x20f)](_0x4bd38f(0x1a5))[_0x4bd38f(0x187)](_0x4bd38f(0x1f2),generateVariants),_0x24e40d['querySelector'](_0x4bd38f(0x21e))['addEventListener'](_0x4bd38f(0x1f2),generateVariants),_0x24e40d[_0x4bd38f(0x20f)](_0x4bd38f(0x196))[_0x4bd38f(0x187)](_0x4bd38f(0x245),function(){var _0x5e1aa9=_0x4bd38f;_0x24e40d[_0x5e1aa9(0x1ee)](),generateVariants();});});function generateVariants(){var _0x3eedf3=_0x3c3e7a,_0x335025=[];vgC[_0x3eedf3(0x22e)](_0x3eedf3(0x1b6))[_0x3eedf3(0x1cb)](function(_0x20d2a9){var _0xefb431=_0x3eedf3,_0x54bbef=_0x20d2a9[_0xefb431(0x20f)](_0xefb431(0x1a5))[_0xefb431(0x1a6)][_0xefb431(0x170)](),_0x279119=_0x20d2a9[_0xefb431(0x20f)](_0xefb431(0x21e))['value'][_0xefb431(0x1fc)](',')[_0xefb431(0x1bb)](_0x358283=>_0x358283[_0xefb431(0x170)]())['filter'](_0x3c941f=>_0x3c941f);if(_0x54bbef&&_0x279119['length'])_0x335025['push']({'name':_0x54bbef,'vals':_0x279119});});var _0x5b92f7=[{}];_0x335025[_0x3eedf3(0x1cb)](function(_0x2f299c){_0x5b92f7=_0x5b92f7['flatMap'](function(_0x97fd91){var _0x481b0c=_0x699d;return _0x2f299c[_0x481b0c(0x211)]['map'](function(_0xcc95a3){var _0x1b6d6d=_0x481b0c,_0x4479d1=Object['assign']({},_0x97fd91);return _0x4479d1[_0x2f299c[_0x1b6d6d(0x247)]]=_0xcc95a3,_0x4479d1;});});}),newItems=[],varContainer[_0x3eedf3(0x186)]='',_0x5b92f7['forEach'](function(_0x1608f4,_0x41e1a4){var _0x5e2361=_0x3eedf3,_0x5f23ce=JSON[_0x5e2361(0x273)](JSON['stringify'](baseItem));_0x5f23ce['setItemVariantValues']=_0x1608f4,_0x5f23ce[_0x5e2361(0x270)]=baseItem['setItemName']+'\x20'+Object['entries'](_0x1608f4)['map'](_0x9fdd58=>_0x9fdd58[0x0]+'\x20'+_0x9fdd58[0x1])[_0x5e2361(0x15c)]('\x20'),newItems[_0x5e2361(0x25a)](_0x5f23ce);var _0x20b939=document[_0x5e2361(0x1af)](_0x5e2361(0x1b6));_0x20b939[_0x5e2361(0x178)]['add'](_0x5e2361(0x172)),_0x20b939[_0x5e2361(0x27c)]['idx']=_0x41e1a4,_0x20b939[_0x5e2361(0x186)]='\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>'+_0x5f23ce[_0x5e2361(0x270)]+_0x5e2361(0x190)+_0x5f23ce[_0x5e2361(0x161)]+_0x5e2361(0x243)+_0x5f23ce['setItemBarCode']+_0x5e2361(0x14a)+_0x5f23ce['setItemDateExpiry']+'\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x41e1a4+'_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_'+_0x41e1a4+_0x5e2361(0x14f)+_0x41e1a4+_0x5e2361(0x206),varContainer[_0x5e2361(0x1d2)](_0x20b939),_0x20b939['querySelector'](_0x5e2361(0x1de))[_0x5e2361(0x187)](_0x5e2361(0x225),_0x5a0e3f=>newItems[_0x41e1a4]['setItemCode']=_0x5a0e3f[_0x5e2361(0x1cd)][_0x5e2361(0x1a6)]),_0x20b939[_0x5e2361(0x20f)](_0x5e2361(0x217))['addEventListener']('input',_0x4b6c6e=>newItems[_0x41e1a4][_0x5e2361(0x1be)]=_0x4b6c6e[_0x5e2361(0x1cd)][_0x5e2361(0x1a6)]),_0x20b939[_0x5e2361(0x20f)]('.variantExpiry')[_0x5e2361(0x187)]('change',_0x491503=>newItems[_0x41e1a4][_0x5e2361(0x195)]=_0x491503[_0x5e2361(0x1cd)][_0x5e2361(0x1a6)]),initVariantUnits(_0x41e1a4),initVariantComponents(_0x41e1a4),initVariantBranches(_0x41e1a4),_0x20b939[_0x5e2361(0x20f)](_0x5e2361(0x1b7))[_0x5e2361(0x187)]('click',function(){var _0x3031d2=_0x5e2361,_0x846bf1=+_0x20b939[_0x3031d2(0x27c)][_0x3031d2(0x193)];newItems['splice'](_0x846bf1,0x1),_0x20b939[_0x3031d2(0x1ee)](),document['querySelectorAll'](_0x3031d2(0x1ed))[_0x3031d2(0x1cb)](function(_0x404669,_0x431f1e){_0x404669['dataset']['idx']=_0x431f1e;});});});if(newItems[_0x3eedf3(0x1a4)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0x2efa19){var _0x188e8f=_0x3c3e7a,_0x555e58=document['getElementById'](_0x188e8f(0x226)+_0x2efa19+'_units_container'),_0x5e77c8=[];Array[_0x188e8f(0x1e6)](_0x555e58[_0x188e8f(0x1b0)])['forEach'](function(_0xc69a10){var _0x5f8610=_0x188e8f,_0x3abde3=+_0xc69a10[_0x5f8610(0x20f)](_0x5f8610(0x23e))[_0x5f8610(0x1a6)]||0x0,_0x24dd9c=_0xc69a10['querySelector'](_0x5f8610(0x26a))[_0x5f8610(0x1a6)][_0x5f8610(0x170)](),_0x26c73c=_0xc69a10[_0x5f8610(0x20f)](_0x5f8610(0x192))['value'],_0x433109=+_0xc69a10[_0x5f8610(0x20f)]('.priceInput')[_0x5f8610(0x1a6)]||0x0,_0x2715d2=+_0xc69a10[_0x5f8610(0x20f)](_0x5f8610(0x1e3))[_0x5f8610(0x1a6)]||0x0,_0x24f1a0=_0xc69a10[_0x5f8610(0x27c)]['default']===_0x5f8610(0x220),_0x5eacd4=+_0x555e58['querySelector'](_0x5f8610(0x165))['value']||0x1,_0x568b8a=_0x24f1a0?0x1:_0x3abde3==_0x5eacd4?0x1:_0x3abde3<_0x5eacd4?_0x5eacd4/_0x3abde3:_0x3abde3/_0x5eacd4;_0x5e77c8['push']({'setAlias':_0x24dd9c,'setUnitCode':_0x26c73c,'setEquivalence':_0x3abde3,'setFactor':_0x568b8a,'setPrice':_0x433109,'setCost':_0x2715d2,'setDefault':_0x24f1a0?0x1:0x0});}),newItems[_0x2efa19][_0x188e8f(0x20a)]=_0x5e77c8;}function initVariantUnits(_0x3d102c){var _0x557e26=_0x3c3e7a,_0x59e33a=document[_0x557e26(0x157)]('variant_'+_0x3d102c+_0x557e26(0x158));_0x59e33a['innerHTML']='',newItems[_0x3d102c][_0x557e26(0x20a)][_0x557e26(0x1cb)](function(_0x4468dd){var _0x2d7bbf=_0x557e26;addUnit(_0x4468dd['setAlias'],_0x4468dd[_0x2d7bbf(0x137)],_0x4468dd['setEquivalence'],_0x4468dd[_0x2d7bbf(0x22f)],_0x4468dd['setPrice'],_0x4468dd['setCost'],_0x59e33a);}),_0x59e33a[_0x557e26(0x1dd)][_0x557e26(0x20f)](_0x557e26(0x26c))[_0x557e26(0x187)](_0x557e26(0x245),function(){addUnit('','',0x1,![],'','',_0x59e33a),updateVariantUnits(_0x3d102c);});}function updateVariantUnits(_0x491323){var _0x1ceb29=_0x3c3e7a,_0x1c591e=document[_0x1ceb29(0x157)](_0x1ceb29(0x226)+_0x491323+_0x1ceb29(0x158)),_0x1bd514=_0x1c591e['querySelector'](_0x1ceb29(0x165)),_0x2760bf=_0x1bd514?+_0x1bd514[_0x1ceb29(0x1a6)]:0x1,_0x2b6b41=Array[_0x1ceb29(0x1e6)](_0x1c591e[_0x1ceb29(0x1b0)])[_0x1ceb29(0x1bb)](function(_0x501116){var _0x58dd69=_0x1ceb29,_0x5e2626=_0x501116[_0x58dd69(0x20f)](_0x58dd69(0x26a))[_0x58dd69(0x1a6)]['trim'](),_0x887aa4=_0x501116[_0x58dd69(0x20f)](_0x58dd69(0x192))[_0x58dd69(0x1a6)],_0x19a711=+_0x501116[_0x58dd69(0x20f)](_0x58dd69(0x23e))[_0x58dd69(0x1a6)]||0x0,_0x7dff1e=+_0x501116[_0x58dd69(0x20f)](_0x58dd69(0x140))[_0x58dd69(0x1a6)]||0x0,_0x257d8f=+_0x501116[_0x58dd69(0x20f)](_0x58dd69(0x1e3))[_0x58dd69(0x1a6)]||0x0,_0x592778=_0x501116[_0x58dd69(0x27c)][_0x58dd69(0x1b4)]===_0x58dd69(0x220);return{'setAlias':_0x5e2626,'setUnitCode':_0x887aa4,'setEquivalence':_0x19a711,'setFactor':_0x592778?0x1:_0x19a711==_0x2760bf?0x1:_0x19a711<_0x2760bf?_0x2760bf/_0x19a711:_0x19a711/_0x2760bf,'setPrice':_0x7dff1e,'setCost':_0x257d8f,'setDefault':_0x592778?0x1:0x0};});newItems[_0x491323][_0x1ceb29(0x20a)]=_0x2b6b41;}function initVariantComponents(_0x217d13){var _0x3e600b=_0x3c3e7a,_0x50b8ca=document[_0x3e600b(0x157)](_0x3e600b(0x226)+_0x217d13+'_comp_container');_0x50b8ca[_0x3e600b(0x186)]='',newItems[_0x217d13]['setItemComponents'][_0x3e600b(0x1cb)](function(_0x9db664){var _0x4a0025=_0x3e600b,_0xbb1b02=document[_0x4a0025(0x1af)](_0x4a0025(0x1b6)),_0x2375bd=Date[_0x4a0025(0x201)]();_0xbb1b02[_0x4a0025(0x27c)][_0x4a0025(0x193)]=_0x2375bd,_0xbb1b02[_0x4a0025(0x186)]=_0x4a0025(0x151)+_0x2375bd+_0x4a0025(0x139)+_0x9db664['setCantidad']+_0x4a0025(0x194),_0x50b8ca[_0x4a0025(0x1d2)](_0xbb1b02),initProdSearch(_0xbb1b02[_0x4a0025(0x20f)](_0x4a0025(0x1c3)),{'id':_0x9db664[_0x4a0025(0x191)],'name':_0x9db664[_0x4a0025(0x1f9)]}),_0xbb1b02[_0x4a0025(0x20f)](_0x4a0025(0x241))[_0x4a0025(0x187)](_0x4a0025(0x225),function(){updateVariantComponents(_0x217d13);}),_0xbb1b02[_0x4a0025(0x20f)]('.removeCombo')['addEventListener'](_0x4a0025(0x245),function(){var _0x5aac25=_0x4a0025;_0xbb1b02[_0x5aac25(0x1ee)](),updateVariantComponents(_0x217d13);});}),_0x50b8ca['parentNode']['querySelector'](_0x3e600b(0x1a1))[_0x3e600b(0x187)](_0x3e600b(0x245),function(){var _0x37d8c7=_0x3e600b,_0x40da1d=document[_0x37d8c7(0x1af)](_0x37d8c7(0x1b6)),_0x43a2d5=Date[_0x37d8c7(0x201)]();_0x40da1d['dataset'][_0x37d8c7(0x193)]=_0x43a2d5,_0x40da1d[_0x37d8c7(0x186)]=_0x37d8c7(0x151)+_0x43a2d5+'\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x50b8ca[_0x37d8c7(0x1d2)](_0x40da1d),initProdSearch(_0x40da1d[_0x37d8c7(0x20f)]('.prod_input_container')),_0x40da1d[_0x37d8c7(0x20f)](_0x37d8c7(0x241))[_0x37d8c7(0x187)](_0x37d8c7(0x225),function(){updateVariantComponents(_0x217d13);}),_0x40da1d[_0x37d8c7(0x20f)](_0x37d8c7(0x1d9))[_0x37d8c7(0x187)](_0x37d8c7(0x245),function(){var _0x139fa5=_0x37d8c7;_0x40da1d[_0x139fa5(0x1ee)](),updateVariantComponents(_0x217d13);});});}function _0x1cae(){var _0x8abb47=['setImpuestoCode','❌\x20Error:\x20','setItemVariantName','inputItemDateExpiry','setUnitName','parse','ERROR:\x20plainProducts\x20no\x20serializable:','application/octet-stream','disabled','Items\x20finales:','setPrice','className','change','.branchMin','dataset','btnItemSave','inputItemDescription','block','closeModalCreateItem','reduce','readwrite','setTaxIdDefault','toString','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','setUnitCode','setConversionFactor','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','2480076wNZKlm','3375183dAqaHX','setItemTaxValue','setMarca','Plantilla-Items-Export-','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','.priceInput','.branchInit','getElementsByClassName','exportItems','stopPropagation','values','setWarehouseId','dispatchEvent','checked','setFactor','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22','done','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','setItemImages','setMtoPrecioUnitario','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','info','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','active','windowId','#newItem_brands_select\x20.options_list','import','getElementById','_units_container','stringify','50EkiSze','findIndex','join','newItem_title_table_cp','undefined','focus','18JSQilR','setItemCode','newItem_variants_forms','Generando\x20Excel...','revokeObjectURL','div[data-default=\x22true\x22]\x20.eqInput','_branch_container','setItemWarehouses','textContent','756498uCOEAv','setImpuestoValue','PEN','setTaxId','log','upload-btn','{}.constructor(\x22return\x20this\x22)(\x20)','trim','inputItemCode','variantForm','setBatchExpirationDate','contains','Producto\x20Guardado\x20Offline\x20Correctamente.','onerror','fill','classList','#newItem_branches_container\x20>\x20div','setItemCategories','isArray','display','setMoneda','./js/apierp_item_wk.min.js','string','newItem_categories_select','setItemVariantValues','<div\x20class=\x22newItem_col\x22>','image/*','Ingresa\x20el\x20nombre\x20del\x20item','file','innerHTML','addEventListener','newItem_units_container','newItem_branches_container','newItem_variant_groups','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','bind','modalOverlayCreateItem','Ingresa\x20el\x20código\x20del\x20item','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setItemId','.unitSelect','idx','\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setItemDateExpiry','.removeGroup','setImpuestos','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','base','inputItemTax','none','constructor','compare','sucursales','❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.','setCostUSD','.addVariantComp','setStockInitial','setCodProducto','length','.vgName','value','Collator','setItemDescription','selectionChange','keydown','setCost','image_box','productType1','key','createElement','children','.options_list','setWarehouseCode','toggle','default','table','div','.removeVariant','tag','eqInput','setBatchName','map','style','exportDone','setItemBarCode','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','setInventariable','dragenter','\x22\x20class=\x22branchChk\x22>\x20','.prod_input_container','offline_operations','inputItemBarCode','arrayBuffer','apply','drop','message','setItemComponents','forEach','Enter','target','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','newItem_images_container','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22','setItemName','appendChild','#newItem_categories_select\x20.options_list','includes','files','setCategoria','unitAlias','detail','.removeCombo','btnExportarItems','newItem_btn_addUnit','setItemBrands','parentNode','.variantCode','hidden','splice','<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>','No\x20hay\x20items\x20para\x20exportar.','.costInput','style=\x22display:none\x22','add','from','file-input','Error\x20al\x20guardar\x20Producto\x20Offline:','\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20','.branchChk','\x22\x20value=\x22','currency_data','.variantForm','remove','oncomplete','newItem_chk_sell','some','blur','dragover','priceInput','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','32ruEiaW','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','match','setDescripcion','3661292CxhSZj','drop-zone','split','setItemTaxId','setItemIsBought','setItemBrandName','currentTarget','now','postMessage','objectStore','readAsDataURL','href','_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a','setWarehouseStockMin','max','3UFvZib','setItemUnits','Error\x20al\x20obtener\x20la\x20plantilla:\x20','remove-tag','\x20items.','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','querySelector','setItemType','vals','mousedown','.selected_tags','filter','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','setItemUnitAlias','.variantBarCode','USD','span','preventDefault','console','setAlias','remove-file','.vgVals','setCode','true','</div>','.drop-zone__prompt','newItem_brands_select','currency','input','variant_','error','progress','<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','setImpuestoName','[id$=\x22_comp_container\x22]','newItem_chk_buy','2455274XYHPVr','querySelectorAll','setDefault','\x20items\x20procesados.','2359764LKUHxD','setUnidadCodigo','slice','setItemIsSold','setIdProducto','newItem_btn_addProdItem','.options_list\x20div','return\x20(function()\x20','test','_comp_container','newItem_addToCart','#newItem_categories_select\x20.selected_tags','\x22\x20class=\x22branchChk\x22\x20checked>\x20','.eqInput','newItem_hidden','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','.prodQty','code','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','setIdSucursal','click','setSucursalStock','name','setItemFree','every','.removeUnit','setWarehouseName','closest','type','items','accept','unitSelect','newItem_title_table','setStockMinimum','./img/product.png','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','search','selectedItem','setPriceUSD','setMtoPrecioCostoUnitario','#newItem_units_container\x20>\x20div','push','setName','setUnits','setItemTaxCode','inputItemName','sort','dataTransfer','119765XYvPrd','toLowerCase','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','setItemCategoryName','#newItem_brands_select\x20.selected_tags','padStart','find','setItemUnitId','.unitAlias','.prodInput','.addVariantUnit','detalleModalCreateItem'];_0x1cae=function(){return _0x8abb47;};return _0x1cae();}function updateVariantComponents(_0x1c6a29){var _0x5a5622=_0x3c3e7a,_0x5a057d=document[_0x5a5622(0x157)]('variant_'+_0x1c6a29+_0x5a5622(0x23a)),_0xe2360a=Array[_0x5a5622(0x1e6)](_0x5a057d[_0x5a5622(0x1b0)])[_0x5a5622(0x1bb)](function(_0x38fe90){var _0x5dac29=_0x5a5622,_0x3bce7a=_0x38fe90[_0x5dac29(0x20f)](_0x5dac29(0x1c3)),_0x39f496=_0x3bce7a[_0x5dac29(0x256)],_0x45f8e9=+_0x38fe90['querySelector']('.prodQty')[_0x5dac29(0x1a6)]||0x0;return _0x39f496?{'setItemId':_0x39f496['id'],'setDescripcion':_0x39f496[_0x5dac29(0x247)],'setCantidad':_0x45f8e9}:null;})[_0x5a5622(0x214)](_0x438a06=>_0x438a06);newItems[_0x1c6a29][_0x5a5622(0x1ca)]=_0xe2360a;}function initVariantBranches(_0x59cb2b){var _0x5724ff=_0x3c3e7a;const _0x15b51e=getAllWarehouses();var _0x523978=document[_0x5724ff(0x157)](_0x5724ff(0x226)+_0x59cb2b+_0x5724ff(0x166));_0x523978[_0x5724ff(0x186)]='',newItems[_0x59cb2b][_0x5724ff(0x167)]['forEach'](function(_0x19317d){var _0x117a81=_0x5724ff,_0x50a735=_0x15b51e[_0x117a81(0x268)](_0x5aeec0=>_0x5aeec0[_0x117a81(0x146)]==_0x19317d[_0x117a81(0x1b2)]),_0x4eb9e1=document['createElement']('div');_0x4eb9e1['innerHTML']='\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22'+_0x19317d[_0x117a81(0x1b2)]+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x50a735['setWarehouseName']+_0x117a81(0x254)+_0x19317d[_0x117a81(0x1b2)]+_0x117a81(0x1eb)+_0x19317d[_0x117a81(0x1a2)]+_0x117a81(0x18f)+_0x19317d['setWarehouseCode']+_0x117a81(0x1eb)+_0x19317d[_0x117a81(0x252)]+'\x22>',_0x523978[_0x117a81(0x1d2)](_0x4eb9e1),_0x4eb9e1[_0x117a81(0x22e)]('input')[_0x117a81(0x1cb)](function(_0x3f90ce){var _0x2d4718=_0x117a81;_0x3f90ce[_0x2d4718(0x187)](_0x2d4718(0x225),function(){updateVariantBranches(_0x59cb2b);});});}),_0x15b51e['forEach'](function(_0x37e329){var _0x4ca209=_0x5724ff;if(!newItems[_0x59cb2b][_0x4ca209(0x167)][_0x4ca209(0x268)](_0x5212ad=>_0x5212ad[_0x4ca209(0x1b2)]===_0x37e329[_0x4ca209(0x146)])){var _0x4533e1=document[_0x4ca209(0x1af)](_0x4ca209(0x1b6));_0x4533e1['innerHTML']=_0x4ca209(0x1ce)+_0x37e329[_0x4ca209(0x146)]+_0x4ca209(0x1c2)+_0x37e329[_0x4ca209(0x24b)]+_0x4ca209(0x254)+_0x37e329[_0x4ca209(0x146)]+_0x4ca209(0x18f)+_0x37e329[_0x4ca209(0x146)]+'\x22>',_0x523978[_0x4ca209(0x1d2)](_0x4533e1),_0x4533e1[_0x4ca209(0x22e)](_0x4ca209(0x225))['forEach'](function(_0x4869ed){var _0x97d3d0=_0x4ca209;_0x4869ed[_0x97d3d0(0x187)](_0x97d3d0(0x225),function(){updateVariantBranches(_0x59cb2b);});});}});}function updateVariantBranches(_0x2d4af7){var _0x3cbe57=_0x3c3e7a,_0x2a1d8d=document[_0x3cbe57(0x157)](_0x3cbe57(0x226)+_0x2d4af7+_0x3cbe57(0x166)),_0x469494=[];_0x2a1d8d[_0x3cbe57(0x22e)](_0x3cbe57(0x1b6))[_0x3cbe57(0x1cb)](function(_0x459319){var _0x172ded=_0x3cbe57,_0x143fe1=_0x459319[_0x172ded(0x20f)](_0x172ded(0x1ea));if(_0x143fe1[_0x172ded(0x148)]){var _0x46de4f=+_0x143fe1[_0x172ded(0x27c)]['id'],_0x19758d=+_0x459319[_0x172ded(0x20f)](_0x172ded(0x141))['value']||0x0,_0x456451=+_0x459319[_0x172ded(0x20f)](_0x172ded(0x27b))[_0x172ded(0x1a6)]||0x0;_0x469494[_0x172ded(0x25a)]({'setWarehouseCode':_0x46de4f,'setStockInitial':_0x19758d,'setStockMinimum':_0x456451});}}),newItems[_0x2d4af7]['setItemWarehouses']=_0x469494;}async function storeOfflineProduct(_0x57a3a1){var _0x8b5426=_0x3c3e7a;try{const _0x30d9d9=await createCartStore(''),_0x4e9db5=_0x30d9d9['transaction'](_0x8b5426(0x1c4),_0x8b5426(0x282)),_0x5dbf88=_0x4e9db5[_0x8b5426(0x203)](_0x8b5426(0x1c4));_0x5dbf88['add'](_0x57a3a1),_0x4e9db5[_0x8b5426(0x1ef)]=()=>{var _0x19c479=_0x8b5426;console[_0x19c479(0x16d)](_0x19c479(0x175));},_0x4e9db5[_0x8b5426(0x176)]=_0x57e673=>{var _0x263c5b=_0x8b5426;console['error'](_0x263c5b(0x1e8),_0x57e673[_0x263c5b(0x1cd)][_0x263c5b(0x227)]);};}catch(_0x203e4c){console[_0x8b5426(0x227)]('Error\x20al\x20procesar\x20la\x20operación:',_0x203e4c);}}document[_0x3c3e7a(0x157)](_0x3c3e7a(0x27d))[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),async function(_0x3ff04a){var _0xbf5f57=_0x3c3e7a;_0x3ff04a['preventDefault']();const _0xa0fc16=document['getElementById'](_0xbf5f57(0x171)),_0x31baea=document[_0xbf5f57(0x157)]('setItemFree')['value'];if(!_0xa0fc16[_0xbf5f57(0x1a6)]['trim']()&&_0x31baea==0x0){ntfShow(_0xbf5f57(0x18e),0x2,0x1);return;}_0x31baea==0x1&&(_0xa0fc16['value']='',baseItem[_0xbf5f57(0x161)]='');const _0x31ebc1=document[_0xbf5f57(0x157)](_0xbf5f57(0x25e));if(!_0x31ebc1[_0xbf5f57(0x1a6)][_0xbf5f57(0x170)]()){ntfShow(_0xbf5f57(0x184),0x2,0x1);return;}const _0x4518a9=document[_0xbf5f57(0x157)](_0xbf5f57(0x23b));hideModalCreateItem(),showLoadingModal();newItems[_0xbf5f57(0x1a4)]===0x0&&(newItems=[baseItem]);const _0x31c862=document['getElementById'](_0xbf5f57(0x154))[_0xbf5f57(0x1a6)],_0xdb169b=window_options[_0x31c862][_0xbf5f57(0x17d)],_0x1554e9=[];newItems[_0xbf5f57(0x1cb)](_0x5b4274=>{var _0x18fdc6=_0xbf5f57;const _0x4928be=generateNumericUniqId();_0x5b4274['setItemUnits'][_0x18fdc6(0x1cb)](_0xd524d5=>{var _0x432fb2=_0x18fdc6;const _0xca7c0e=generateNumericUniqId();_0xd524d5[_0x432fb2(0x269)]=_0xca7c0e;const _0x523c8b={'id':_0xca7c0e,'setIdProducto':_0x4928be,'setCodProducto':_0x5b4274['setItemCode'],'setDescripcion':_0x5b4274[_0x432fb2(0x1d1)],'setItemDescription':_0x5b4274[_0x432fb2(0x1a8)],'setBatchExpirationDate':_0x5b4274[_0x432fb2(0x195)],'setBatchName':'','setCategoria':_0x5b4274['setItemCategories'][0x0]||'','setMarca':_0x5b4274[_0x432fb2(0x1dc)][0x0]||'','setConversionFactor':parseFloat(_0xd524d5[_0x432fb2(0x149)]),'setImages':[],'setImg':_0x432fb2(0x253),'setInventariable':0x1,'setItemIsBought':_0x5b4274[_0x432fb2(0x1fe)]?0x1:0x0,'setItemIsSold':_0x5b4274[_0x432fb2(0x234)]?0x1:0x0,'setPorcentajeIgv':_0x5b4274[_0x432fb2(0x13c)],'setPrinters':[],'setTaxId':_0x5b4274['setItemTaxId'],'setTipAfeIgv':_0x5b4274[_0x432fb2(0x25d)],'setUnidad':_0xd524d5[_0x432fb2(0x137)],'setUnidadCodigo':_0xd524d5[_0x432fb2(0x137)],'setItemUnitAlias':_0xd524d5[_0x432fb2(0x21c)],'currency_data':[{'currency':_0xdb169b,'setMtoPrecioCostoUnitario':_0xd524d5['setCost'],'setMtoPrecioUnitario':_0xd524d5[_0x432fb2(0x278)],'setPriceLists':[]}],'sucursales':_0x5b4274['setItemWarehouses'][_0x432fb2(0x1bb)](_0x3c49c5=>({'setIdSucursal':_0x3c49c5[_0x432fb2(0x1b2)],'setSucursalStock':_0x3c49c5[_0x432fb2(0x1a2)][_0x432fb2(0x284)](),'setWarehouseStockMin':_0x3c49c5[_0x432fb2(0x252)][_0x432fb2(0x284)]()})),'setItemFree':_0x5b4274[_0x432fb2(0x248)],'setItemBarCode':_0x5b4274[_0x432fb2(0x1be)],'setItemBrands':_0x5b4274['setItemBrands'][_0x432fb2(0x233)](),'setItemCategories':_0x5b4274['setItemCategories'][_0x432fb2(0x233)](),'setItemComponents':_0x5b4274['setItemComponents'][_0x432fb2(0x1bb)](_0x46c8d2=>({..._0x46c8d2})),'setItemImages':_0x5b4274[_0x432fb2(0x14d)]['slice'](),'setItemVariantName':_0x5b4274[_0x432fb2(0x270)],'setItemVariantValues':{..._0x5b4274[_0x432fb2(0x181)]}};_0x1554e9[_0x432fb2(0x25a)](_0x523c8b),(_0x4518a9[_0x432fb2(0x148)]||_0x31baea==0x1)&&addToCart(_0x523c8b);});}),console[_0xbf5f57(0x16d)](_0xbf5f57(0x277),newItems),await finalizeImport(_0x1554e9,newItems,![]);}),[_0x3c3e7a(0x1c1),_0x3c3e7a(0x1f3)]['forEach'](_0x20e635=>dropZone[_0x3c3e7a(0x187)](_0x20e635,_0x5e456c=>{var _0x10bca9=_0x3c3e7a;_0x5e456c[_0x10bca9(0x21a)](),dropZone['classList'][_0x10bca9(0x1e5)](_0x10bca9(0x1f3));})),['dragleave',_0x3c3e7a(0x1c8)][_0x3c3e7a(0x1cb)](_0x30bd7f=>dropZone['addEventListener'](_0x30bd7f,_0x390807=>{var _0x181d50=_0x3c3e7a;_0x390807[_0x181d50(0x21a)](),dropZone[_0x181d50(0x178)][_0x181d50(0x1ee)]('dragover');})),dropZone[_0x3c3e7a(0x187)](_0x3c3e7a(0x1c8),_0x201556=>{var _0x6307f1=_0x3c3e7a;const _0x137356=_0x201556[_0x6307f1(0x260)][_0x6307f1(0x1d5)][0x0];if(!_0x137356)return;fileInput['files']=_0x201556[_0x6307f1(0x260)]['files'],dropZone[_0x6307f1(0x20f)](_0x6307f1(0x222))[_0x6307f1(0x168)]=_0x137356[_0x6307f1(0x247)],removeBtn[_0x6307f1(0x1df)]=![],fileInput['dispatchEvent'](new Event(_0x6307f1(0x27a)));}),removeBtn[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),()=>{var _0x422b4b=_0x3c3e7a;fileInput['value']='',dropZone[_0x422b4b(0x20f)]('.drop-zone__prompt')[_0x422b4b(0x168)]=_0x422b4b(0x263),removeBtn[_0x422b4b(0x1df)]=!![],progressBar[_0x422b4b(0x1bc)][_0x422b4b(0x17c)]='none',statusDiv['textContent']='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x3c3e7a(0x157)](_0x3c3e7a(0x1da));exportBtn[_0x3c3e7a(0x187)](_0x3c3e7a(0x245),onClickExportarItems);async function onClickExportarItems(){var _0x1dc037=_0x3c3e7a;if(!Array[_0x1dc037(0x17b)](products)||!products[_0x1dc037(0x1a4)]){ntfShow(_0x1dc037(0x1e2));return;}try{const _0x25ccce=await fetch('./excel/Plantilla-Items.xlsx');if(!_0x25ccce['ok'])throw new Error(_0x1dc037(0x13f));const _0x457023=await _0x25ccce['arrayBuffer'](),_0xcd9584=document[_0x1dc037(0x157)]('setWarehouseId')['value'];let _0xc07f60=products;const _0x172fad=getUserPermissionApiERP(0x2);_0x172fad==0x1&&(_0xc07f60=products[_0x1dc037(0x214)](_0x4e3702=>Array[_0x1dc037(0x17b)](_0x4e3702[_0x1dc037(0x19e)])&&_0x4e3702['sucursales']['some'](_0x46a8bd=>String(_0x46a8bd[_0x1dc037(0x244)])==String(_0xcd9584))));const _0x16e3fa=_0xc07f60[_0x1dc037(0x281)]((_0x177361,_0x313235)=>{var _0x2366e3=_0x1dc037;const _0xf42071=_0x313235['setIdProducto'];if(!_0x177361[_0xf42071])_0x177361[_0xf42071]=[];return _0x177361[_0xf42071][_0x2366e3(0x25a)](_0x313235),_0x177361;},{}),_0x1f58f5=Object[_0x1dc037(0x145)](_0x16e3fa)[_0x1dc037(0x1bb)](_0xb965ec=>{var _0x3b96b1=_0x1dc037;const _0x22aa4f=_0xb965ec[0x0],_0x53f3db=_0xb965ec[0x1]||{},_0x179b0e=_0xb965ec[0x2]||{};function _0x9cb257(_0x120717,_0x4964a9,_0xbf8f84){var _0x132e29=_0x699d;if(!_0x120717||!Array[_0x132e29(0x17b)](_0x120717[_0x132e29(0x1ec)]))return'';const _0x5c09dd=_0x120717[_0x132e29(0x1ec)][_0x132e29(0x268)](_0x45a5ac=>_0x45a5ac[_0x132e29(0x224)]===_0x4964a9);return _0x5c09dd?_0x5c09dd[_0xbf8f84]:'';}return{'id':_0x22aa4f['setIdProducto'],'setItemType':_0x22aa4f[_0x3b96b1(0x210)],'setCodProducto':_0x22aa4f[_0x3b96b1(0x1a3)],'setDescripcion':_0x22aa4f[_0x3b96b1(0x1f9)],'setItemDescription':_0x22aa4f[_0x3b96b1(0x1a8)],'setCategoria':_0x22aa4f[_0x3b96b1(0x1d6)],'setMarca':_0x22aa4f['setMarca'],'setTaxId':_0x22aa4f[_0x3b96b1(0x16c)],'setUnitId':_0x22aa4f['id'],'setItemBarCode':_0x22aa4f[_0x3b96b1(0x1be)],'setUnidadCodigo':_0x22aa4f['setUnidadCodigo'],'setItemUnitAlias':_0x22aa4f[_0x3b96b1(0x216)]??'','PEN_setMtoPrecioUnitario':_0x9cb257(_0x22aa4f,_0x3b96b1(0x16b),_0x3b96b1(0x14e)),'PEN_setMtoPrecioCostoUnitario':_0x9cb257(_0x22aa4f,_0x3b96b1(0x16b),'setMtoPrecioCostoUnitario'),'USD_setMtoPrecioUnitario':_0x9cb257(_0x22aa4f,_0x3b96b1(0x218),_0x3b96b1(0x14e)),'USD_setMtoPrecioCostoUnitario':_0x9cb257(_0x22aa4f,_0x3b96b1(0x218),_0x3b96b1(0x258)),'setUnitId2':_0x53f3db['id']??'','setItemBarCode2':_0x53f3db['setItemBarCode']??'','setUnidadCodigo2':_0x53f3db[_0x3b96b1(0x232)]??'','setItemUnitAlias2':_0x53f3db[_0x3b96b1(0x216)]??'','setUnidadEquivalencia2':_0x53f3db[_0x3b96b1(0x138)]??'','PEN_setMtoPrecioUnitario2':_0x9cb257(_0x53f3db,_0x3b96b1(0x16b),_0x3b96b1(0x14e))??'','PEN_setMtoPrecioCostoUnitario2':_0x9cb257(_0x53f3db,_0x3b96b1(0x16b),_0x3b96b1(0x258))??'','USD_setMtoPrecioUnitario2':_0x9cb257(_0x53f3db,_0x3b96b1(0x218),_0x3b96b1(0x14e))??'','USD_setMtoPrecioCostoUnitario2':_0x9cb257(_0x53f3db,_0x3b96b1(0x218),_0x3b96b1(0x258))??'','setUnitId3':_0x179b0e['id']??'','setItemBarCode3':_0x179b0e[_0x3b96b1(0x1be)]??'','setUnidadCodigo3':_0x179b0e[_0x3b96b1(0x232)]??'','setItemUnitAlias3':_0x179b0e[_0x3b96b1(0x216)]??'','setUnidadEquivalencia3':_0x179b0e[_0x3b96b1(0x138)]??'','PEN_setMtoPrecioUnitario3':_0x9cb257(_0x179b0e,_0x3b96b1(0x16b),_0x3b96b1(0x14e))??'','PEN_setMtoPrecioCostoUnitario3':_0x9cb257(_0x179b0e,_0x3b96b1(0x16b),_0x3b96b1(0x258))??'','USD_setMtoPrecioUnitario3':_0x9cb257(_0x179b0e,_0x3b96b1(0x218),_0x3b96b1(0x14e))??'','USD_setMtoPrecioCostoUnitario3':_0x9cb257(_0x179b0e,_0x3b96b1(0x218),_0x3b96b1(0x258))??'','setInventariable':_0x22aa4f[_0x3b96b1(0x1c0)],'setSucursalStock':_0x172fad==0x1?_0x22aa4f['sucursales']['find'](_0xc788b0=>String(_0xc788b0[_0x3b96b1(0x244)])==String(_0xcd9584))[_0x3b96b1(0x246)]:'','setWarehouseStockMin':_0x172fad==0x1?_0x22aa4f[_0x3b96b1(0x19e)][_0x3b96b1(0x268)](_0x49d194=>String(_0x49d194[_0x3b96b1(0x244)])==String(_0xcd9584))[_0x3b96b1(0x207)]:'','setBatchName':_0x22aa4f[_0x3b96b1(0x1ba)],'setBatchExpirationDate':_0x22aa4f[_0x3b96b1(0x173)],..._0x22aa4f[_0x3b96b1(0x181)]};});try{JSON[_0x1dc037(0x159)](_0x1f58f5);}catch(_0x31caea){console[_0x1dc037(0x227)](_0x1dc037(0x274),_0x31caea),ntfShow('Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.');return;}statusDiv['textContent']=_0x1dc037(0x163),progressBar[_0x1dc037(0x1bc)][_0x1dc037(0x17c)]='block',progressBar[_0x1dc037(0x1a6)]=0x0,itemWorker[_0x1dc037(0x202)]({'action':_0x1dc037(0x143),'products':_0x1f58f5,'plantillaBuf':_0x457023},[_0x457023]);}catch(_0x1379df){console['error'](_0x1379df),ntfShow(_0x1dc037(0x20b)+_0x1379df[_0x1dc037(0x1c9)]);}}itemWorker['onmessage']=({data:_0x5ea582})=>{var _0x5a1485=_0x3c3e7a;const {type:_0x285b00,payload:_0x29eda1}=_0x5ea582;_0x285b00===_0x5a1485(0x228)&&(progressBar[_0x5a1485(0x1bc)]['display']='block',progressBar[_0x5a1485(0x1a6)]=_0x29eda1['percent'],statusDiv[_0x5a1485(0x168)]=_0x29eda1['message']);_0x285b00===_0x5a1485(0x14b)&&(newItemsExcel=_0x29eda1[_0x5a1485(0x24e)],statusDiv[_0x5a1485(0x168)]='✅\x20'+newItemsExcel[_0x5a1485(0x1a4)]+_0x5a1485(0x230),uploadBtn[_0x5a1485(0x276)]=![],progressBar[_0x5a1485(0x1a6)]=0x64,console[_0x5a1485(0x16d)](newItemsExcel));_0x285b00===_0x5a1485(0x227)&&(statusDiv[_0x5a1485(0x168)]=_0x5a1485(0x26f)+_0x29eda1,progressBar[_0x5a1485(0x1bc)][_0x5a1485(0x17c)]=_0x5a1485(0x19b));if(_0x285b00===_0x5a1485(0x1bd)){const {wbout:_0x3a2ed6,count:_0x2a9bf4}=_0x29eda1,_0x458d3a=new Blob([_0x3a2ed6],{'type':_0x5a1485(0x275)}),_0x540c38=URL['createObjectURL'](_0x458d3a),_0x28fbda=document[_0x5a1485(0x1af)]('a'),_0x1bbd60=new Date()['toISOString']()['slice'](0x0,0xa);_0x28fbda['download']=_0x5a1485(0x13e)+_0x1bbd60+'.xlsx',_0x28fbda[_0x5a1485(0x205)]=_0x540c38,_0x28fbda['click'](),URL[_0x5a1485(0x164)](_0x540c38),statusDiv[_0x5a1485(0x168)]='✅\x20Exportación\x20completada:\x20'+_0x2a9bf4+_0x5a1485(0x20d),progressBar[_0x5a1485(0x1bc)][_0x5a1485(0x17c)]='none';}},fileInput[_0x3c3e7a(0x187)](_0x3c3e7a(0x27a),async _0x38f7b7=>{var _0x1fc1db=_0x3c3e7a;const _0x4815ca=_0x38f7b7[_0x1fc1db(0x1cd)][_0x1fc1db(0x1d5)][0x0];if(!_0x4815ca)return;uploadBtn['disabled']=!![],newItemsExcel=null,statusDiv[_0x1fc1db(0x168)]='',progressBar[_0x1fc1db(0x1bc)][_0x1fc1db(0x17c)]=_0x1fc1db(0x19b),dropZone[_0x1fc1db(0x20f)]('.drop-zone__prompt')[_0x1fc1db(0x168)]=_0x4815ca[_0x1fc1db(0x247)],removeBtn[_0x1fc1db(0x1df)]=![];try{const _0x4baae8=await _0x4815ca[_0x1fc1db(0x1c6)]();itemWorker[_0x1fc1db(0x202)]({'action':_0x1fc1db(0x156),'buf':_0x4baae8,'maxRows':0x1388});}catch(_0x2bdba4){statusDiv[_0x1fc1db(0x168)]=_0x1fc1db(0x19f);}finally{fileInput[_0x1fc1db(0x1a6)]='';}}),uploadBtn['addEventListener']('click',async()=>{var _0x24f3fc=_0x3c3e7a;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x2eea23=document[_0x24f3fc(0x157)](_0x24f3fc(0x146))[_0x24f3fc(0x1a6)],_0x5f475b=[];newItemsExcel[_0x24f3fc(0x1cb)](_0x3de4f9=>{var _0x59752f=_0x24f3fc;const _0x2b1b54=Boolean(_0x3de4f9['setItemId']),_0x2ae0b8=_0x2b1b54?_0x3de4f9[_0x59752f(0x191)]:generateNumericUniqId();_0x3de4f9[_0x59752f(0x167)]=[{'setStockInitial':_0x3de4f9['setStockInitial'],'setStockMinimum':_0x3de4f9['setStockMinimum'],'setWarehouseCode':_0x2eea23}],_0x3de4f9[_0x59752f(0x20a)][_0x59752f(0x1cb)](_0x4ca46c=>{var _0x1bf941=_0x59752f;const _0x375636=Boolean(_0x4ca46c[_0x1bf941(0x269)]),_0x253263=_0x375636?_0x4ca46c[_0x1bf941(0x269)]:generateNumericUniqId();_0x4ca46c[_0x1bf941(0x269)]=_0x253263;const _0x3f8422=[];_0x3f8422[_0x1bf941(0x25a)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x4ca46c[_0x1bf941(0x1ab)],'setMtoPrecioUnitario':_0x4ca46c['setPrice'],'setPriceLists':[]});const _0x17a90f=_0x4ca46c[_0x1bf941(0x1a0)]!=null&&_0x4ca46c[_0x1bf941(0x257)]!=null&&(!isNaN(_0x4ca46c[_0x1bf941(0x1a0)])||!isNaN(_0x4ca46c[_0x1bf941(0x257)]));_0x17a90f&&_0x3f8422[_0x1bf941(0x25a)]({'currency':_0x1bf941(0x218),'setMtoPrecioCostoUnitario':_0x4ca46c[_0x1bf941(0x1a0)],'setMtoPrecioUnitario':_0x4ca46c[_0x1bf941(0x257)],'setPriceLists':[]});const _0x923b78={'id':_0x253263,'setIdProducto':_0x2ae0b8,'setItemBarCode':_0x4ca46c[_0x1bf941(0x1be)],'setCodProducto':_0x3de4f9[_0x1bf941(0x161)],'setDescripcion':_0x3de4f9[_0x1bf941(0x1d1)],'setItemDescription':_0x3de4f9[_0x1bf941(0x1a8)],'setBatchExpirationDate':_0x3de4f9['setItemDateExpiry'],'setBatchName':_0x3de4f9[_0x1bf941(0x1ba)],'setCategoria':_0x3de4f9[_0x1bf941(0x17a)][0x0]||'','setMarca':_0x3de4f9[_0x1bf941(0x1dc)][0x0]||'','setConversionFactor':parseFloat(_0x4ca46c[_0x1bf941(0x149)]),'setImages':[],'setImg':_0x1bf941(0x253),'setInventariable':_0x3de4f9['setItemInventoriable'],'setItemIsBought':_0x3de4f9[_0x1bf941(0x1fe)],'setItemIsSold':_0x3de4f9['setItemIsSold'],'setPorcentajeIgv':_0x3de4f9[_0x1bf941(0x13c)],'setPrinters':[],'setTaxId':_0x3de4f9[_0x1bf941(0x1fd)],'setTipAfeIgv':_0x3de4f9['setItemTaxCode'],'setUnidad':_0x4ca46c[_0x1bf941(0x137)],'setUnidadCodigo':_0x4ca46c['setUnitCode'],'setItemUnitAlias':_0x4ca46c[_0x1bf941(0x21c)],'currency_data':_0x3f8422,'sucursales':_0x3de4f9[_0x1bf941(0x167)][_0x1bf941(0x1bb)](_0x5c5af0=>({'setIdSucursal':_0x5c5af0[_0x1bf941(0x1b2)],'setSucursalStock':_0x5c5af0[_0x1bf941(0x1a2)][_0x1bf941(0x284)](),'setWarehouseStockMin':_0x5c5af0[_0x1bf941(0x252)][_0x1bf941(0x284)]()})),'setItemFree':_0x3de4f9[_0x1bf941(0x248)],'setItemBrands':_0x3de4f9[_0x1bf941(0x1dc)][_0x1bf941(0x233)](),'setItemCategories':_0x3de4f9[_0x1bf941(0x17a)]['slice'](),'setItemComponents':_0x3de4f9[_0x1bf941(0x1ca)]['map'](_0x4c4578=>({..._0x4c4578})),'setItemImages':_0x3de4f9[_0x1bf941(0x14d)]['slice'](),'setItemVariantName':_0x3de4f9[_0x1bf941(0x270)],'setItemVariantValues':{..._0x3de4f9[_0x1bf941(0x181)]}},_0x358af3=products[_0x1bf941(0x15b)](_0x474ecc=>_0x474ecc['id']==_0x253263&&_0x474ecc[_0x1bf941(0x235)]==_0x2ae0b8);_0x358af3>-0x1?Object['assign'](products[_0x358af3],_0x923b78):_0x5f475b[_0x1bf941(0x25a)](_0x923b78);});}),console[_0x24f3fc(0x16d)](_0x24f3fc(0x277),newItemsExcel),await finalizeImport(_0x5f475b,newItemsExcel,!![]);});function initializeFormImages(){var _0x3b20c2=_0x3c3e7a;currentImages=Array(MAX_IMAGES)[_0x3b20c2(0x177)](null),imgC[_0x3b20c2(0x186)]='',baseItem[_0x3b20c2(0x14d)]=[];for(var _0xb9b56=0x0;_0xb9b56<MAX_IMAGES;_0xb9b56++){(function(_0x31324e){var _0x4fec43=_0x3b20c2,_0x4c676c=document[_0x4fec43(0x1af)]('div');_0x4c676c[_0x4fec43(0x279)]=_0x4fec43(0x1ac),_0x4c676c[_0x4fec43(0x27c)]['idx']=_0x31324e;var _0x24f468=document['createElement'](_0x4fec43(0x225));_0x24f468['type']=_0x4fec43(0x185),_0x24f468[_0x4fec43(0x24f)]=_0x4fec43(0x183),_0x24f468[_0x4fec43(0x1bc)][_0x4fec43(0x17c)]=_0x4fec43(0x19b);var _0x21bfc8=document[_0x4fec43(0x1af)]('span');_0x21bfc8['textContent']='+',_0x4c676c[_0x4fec43(0x1d2)](_0x24f468),_0x4c676c[_0x4fec43(0x1d2)](_0x21bfc8),imgC[_0x4fec43(0x1d2)](_0x4c676c),_0x4c676c[_0x4fec43(0x187)](_0x4fec43(0x245),function(){var _0x21ecee=_0x4fec43;_0x24f468[_0x21ecee(0x245)]();}),_0x24f468['addEventListener'](_0x4fec43(0x27a),function(_0x3c201c){var _0x461ba2=_0x4fec43,_0x1dce2e=_0x3c201c[_0x461ba2(0x1cd)][_0x461ba2(0x1d5)][0x0];if(!_0x1dce2e)return removeImg(_0x31324e);var _0xf81f40=new FileReader();_0xf81f40['onload']=function(_0x103cde){var _0xfa392e=_0x461ba2;_0x4c676c['innerHTML']='<img\x20src=\x22'+_0x103cde[_0xfa392e(0x1cd)]['result']+'\x22>';var _0x5c1d09=document[_0xfa392e(0x1af)](_0xfa392e(0x219));_0x5c1d09['className']='remove',_0x5c1d09[_0xfa392e(0x168)]='×',_0x5c1d09['addEventListener'](_0xfa392e(0x245),function(_0x53860a){var _0x9bc74=_0xfa392e;_0x53860a[_0x9bc74(0x144)](),removeImg(_0x31324e);}),_0x4c676c[_0xfa392e(0x1d2)](_0x5c1d09),currentImages[_0x31324e]=_0x1dce2e,baseItem[_0xfa392e(0x14d)]=currentImages['filter'](function(_0x4294df){return _0x4294df;});},_0xf81f40[_0x461ba2(0x204)](_0x1dce2e);});}(_0xb9b56));}}function initializeFormIsSoldIsBought(_0x4b52df=0x0){var _0x4924a5=_0x3c3e7a;let _0x114a04,_0xda16e1;if(_0x4b52df!=0x0){const _0x56e991=products[_0x4924a5(0x268)](_0x146f78=>_0x146f78['id']==_0x4b52df);_0x114a04=_0x56e991[_0x4924a5(0x1fe)]==0x1||_0x56e991['setItemIsBought']==!![]?!![]:![],_0xda16e1=_0x56e991[_0x4924a5(0x234)]==0x1||_0x56e991[_0x4924a5(0x234)]==!![]?!![]:![];}else _0x114a04=!![],_0xda16e1=!![];document[_0x4924a5(0x157)](_0x4924a5(0x22c))[_0x4924a5(0x148)]=_0x114a04,document[_0x4924a5(0x157)]('newItem_chk_sell')['checked']=_0xda16e1,baseItem['setItemIsBought']=_0x114a04,baseItem['setItemIsSold']=_0xda16e1;}function initializeFormInputsBasic(_0x4af1db=0x0){var _0xf04d87=_0x3c3e7a;let _0x168796,_0x1939ca,_0x1c02da,_0x4ca011,_0x377c57,_0x24ad1a;if(_0x4af1db!=0x0){const _0x3a86eb=products[_0xf04d87(0x268)](_0x369e1d=>_0x369e1d['id']==_0x4af1db);_0x168796=_0x3a86eb['setItemType']??'1',_0x1939ca=_0x3a86eb['setCodProducto'],_0x1c02da=_0x3a86eb[_0xf04d87(0x1f9)],_0x4ca011=_0x3a86eb[_0xf04d87(0x1a8)],_0x377c57=_0x3a86eb[_0xf04d87(0x173)]??'',_0x24ad1a=_0x3a86eb['setItemBarCode'];}else _0x168796='1',_0x1939ca=getNextCode(products),_0x1c02da='',_0x4ca011='',_0x377c57='',_0x24ad1a='';document[_0xf04d87(0x157)]('inputItemType')[_0xf04d87(0x1a6)]=_0x168796,document['getElementById'](_0xf04d87(0x171))['value']=_0x1939ca,document[_0xf04d87(0x157)](_0xf04d87(0x25e))[_0xf04d87(0x1a6)]=_0x1c02da,document['getElementById']('inputItemDescription')[_0xf04d87(0x1a6)]=_0x4ca011,document[_0xf04d87(0x157)]('inputItemDateExpiry')[_0xf04d87(0x1a6)]=_0x377c57,document[_0xf04d87(0x157)](_0xf04d87(0x1c5))[_0xf04d87(0x1a6)]=_0x24ad1a,baseItem[_0xf04d87(0x210)]=_0x168796,baseItem[_0xf04d87(0x161)]=_0x1939ca,baseItem[_0xf04d87(0x1d1)]=_0x1c02da,baseItem[_0xf04d87(0x1a8)]=_0x4ca011,baseItem[_0xf04d87(0x195)]=_0x377c57,baseItem[_0xf04d87(0x1be)]=_0x24ad1a,document[_0xf04d87(0x157)](_0xf04d87(0x23b))['checked']=![];}function initializeFormTax(_0x31926e=0x0){var _0x24c53b=_0x3c3e7a;let _0x62fd0f;if(_0x31926e!=0x0){const _0x2bbcd6=products[_0x24c53b(0x268)](_0x53a29a=>_0x53a29a['id']==_0x31926e);_0x62fd0f=_0x2bbcd6['setTaxId'];}else _0x62fd0f=myCompany[_0x24c53b(0x283)];const _0x4e923a=document[_0x24c53b(0x157)]('inputItemTax');_0x4e923a[_0x24c53b(0x1a6)]=_0x62fd0f,baseItem[_0x24c53b(0x1fd)]=_0x62fd0f;const _0x1d27d1=company[0x0][_0x24c53b(0x197)]['find'](_0x440720=>_0x440720[_0x24c53b(0x16c)]==_0x62fd0f)?.[_0x24c53b(0x26e)]||0x0,_0x317da2=company[0x0][_0x24c53b(0x197)][_0x24c53b(0x268)](_0x273304=>_0x273304['setTaxId']==_0x62fd0f)?.[_0x24c53b(0x16a)]||0x0;baseItem[_0x24c53b(0x25d)]=_0x1d27d1,baseItem[_0x24c53b(0x13c)]=_0x317da2;}function initializeFormCategoriesBrands(_0xe10da1=0x0){var _0x461aa0=_0x3c3e7a;baseItem[_0x461aa0(0x17a)]=[],baseItem['setItemBrands']=[],document[_0x461aa0(0x20f)](_0x461aa0(0x23c))[_0x461aa0(0x186)]='',document[_0x461aa0(0x20f)](_0x461aa0(0x1d3))['innerHTML']='',document[_0x461aa0(0x20f)](_0x461aa0(0x266))[_0x461aa0(0x186)]='',document[_0x461aa0(0x20f)](_0x461aa0(0x155))['innerHTML']='';const _0x34cc00=myCompany[_0x461aa0(0x17a)]['map'](_0xefb1ac=>({'setCode':_0xefb1ac[_0x461aa0(0x265)],'setName':_0xefb1ac[_0x461aa0(0x265)]})),_0x116aa6=myCompany['setItemBrands'][_0x461aa0(0x1bb)](_0x41992d=>({'setCode':_0x41992d['setItemBrandName'],'setName':_0x41992d[_0x461aa0(0x1ff)]}));initMulti(_0x461aa0(0x180),_0x34cc00),initMulti('newItem_brands_select',_0x116aa6),document['getElementById'](_0x461aa0(0x180))['addEventListener'](_0x461aa0(0x1a9),function(_0x2d3b6d){var _0x27478a=_0x461aa0;baseItem[_0x27478a(0x17a)]=_0x2d3b6d[_0x27478a(0x1d8)]['map'](_0x3e6a49=>_0x3e6a49[_0x27478a(0x21f)]);}),document['getElementById'](_0x461aa0(0x223))[_0x461aa0(0x187)](_0x461aa0(0x1a9),function(_0x5767d3){var _0x3df1a5=_0x461aa0;baseItem[_0x3df1a5(0x1dc)]=_0x5767d3[_0x3df1a5(0x1d8)][_0x3df1a5(0x1bb)](_0x2d72e6=>_0x2d72e6[_0x3df1a5(0x21f)]);});if(_0xe10da1!=0x0){const _0x5cb9f4=products['find'](_0x56582a=>_0x56582a['id']==_0xe10da1);if(_0x5cb9f4[_0x461aa0(0x1d6)]){const _0x5b32fb=document[_0x461aa0(0x157)](_0x461aa0(0x180)),_0xcd1dcb=Array['from'](_0x5b32fb[_0x461aa0(0x22e)](_0x461aa0(0x237)))[_0x461aa0(0x268)](_0x39d718=>_0x39d718[_0x461aa0(0x27c)][_0x461aa0(0x242)]==_0x5cb9f4['setCategoria']);_0xcd1dcb&&_0xcd1dcb[_0x461aa0(0x245)]();}if(_0x5cb9f4['setMarca']){const _0x13dec3=document[_0x461aa0(0x157)]('newItem_brands_select'),_0x5a101d=Array[_0x461aa0(0x1e6)](_0x13dec3[_0x461aa0(0x22e)](_0x461aa0(0x237)))[_0x461aa0(0x268)](_0x5d7a9a=>_0x5d7a9a[_0x461aa0(0x27c)]['code']==_0x5cb9f4[_0x461aa0(0x13d)]);_0x5a101d&&_0x5a101d[_0x461aa0(0x245)]();}}}function _0x699d(_0x5479f5,_0x2f6783){var _0x1848ce=_0x1cae();return _0x699d=function(_0x512f26,_0x3828ff){_0x512f26=_0x512f26-0x136;var _0x4d933c=_0x1848ce[_0x512f26];return _0x4d933c;},_0x699d(_0x5479f5,_0x2f6783);}function initializeFormUnits(){var _0x249ab5=_0x3c3e7a;unitCount=0x0,document[_0x249ab5(0x157)](_0x249ab5(0x188))[_0x249ab5(0x186)]='',baseItem[_0x249ab5(0x20a)]=[];var _0x3772fe=uniqueValuesArray(_0x249ab5(0x137),_0x249ab5(0x272),myCompany[_0x249ab5(0x25c)]);addUnit('',_0x3772fe[0x3a]&&_0x3772fe[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function initializeFormComponents(){var _0x431033=_0x3c3e7a;prodC[_0x431033(0x186)]='',baseItem[_0x431033(0x1ca)]=[],updateProdItems();}function initializeFormWarehouses(){var _0x9d959d=_0x3c3e7a;branchesC[_0x9d959d(0x186)]='',baseItem[_0x9d959d(0x167)]=[];const _0x222e34=getAllWarehouses();_0x222e34['forEach'](function(_0x47a3a1){var _0x54dbd8=_0x9d959d,_0x4f6180=document[_0x54dbd8(0x1af)](_0x54dbd8(0x1b6));_0x4f6180[_0x54dbd8(0x186)]=_0x54dbd8(0x1e1)+'<div\x20class=\x22newItem_col\x22>'+_0x54dbd8(0x1f7)+_0x47a3a1[_0x54dbd8(0x146)]+_0x54dbd8(0x23d)+_0x47a3a1[_0x54dbd8(0x24b)]+'</label>'+_0x54dbd8(0x221)+_0x54dbd8(0x182)+_0x54dbd8(0x1d0)+_0x47a3a1[_0x54dbd8(0x146)]+'\x22>'+_0x54dbd8(0x221)+_0x54dbd8(0x182)+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22'+_0x47a3a1[_0x54dbd8(0x146)]+'\x22>'+_0x54dbd8(0x221)+'</div>',branchesC['appendChild'](_0x4f6180),_0x4f6180['querySelectorAll'](_0x54dbd8(0x225))['forEach'](function(_0x325b3d){var _0x51fd17=_0x54dbd8;_0x325b3d['addEventListener'](_0x51fd17(0x225),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x5c3de3=_0x3c3e7a;baseItem[_0x5c3de3(0x270)]='',baseItem['setItemVariantValues']={},vgC[_0x5c3de3(0x186)]='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0xa6d6ea,_0x304fa2,_0x33ea30=![]){var _0x2fcf64=_0x3c3e7a;const _0x428730=0xc8,_0x40b0d1={'apiPOSsendOffline':'1','setTipoOperacion':'100','setToken':company[0x0]['setAuthToken'],'setWebhook':company[0x0]['setWebhook']};for(let _0x3cd616=0x0;_0x3cd616<_0x304fa2['length'];_0x3cd616+=_0x428730){const _0x461a2f=_0x304fa2[_0x2fcf64(0x233)](_0x3cd616,_0x3cd616+_0x428730);await storeOfflineProduct({..._0x40b0d1,'newItems':_0x461a2f});}products[_0x2fcf64(0x25a)](..._0xa6d6ea),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x2fcf64(0x1f5)),_0x33ea30?(fileInput[_0x2fcf64(0x1a6)]='',uploadBtn[_0x2fcf64(0x276)]=!![],statusDiv[_0x2fcf64(0x168)]='',progressBar[_0x2fcf64(0x1bc)][_0x2fcf64(0x17c)]=_0x2fcf64(0x19b),progressBar[_0x2fcf64(0x1a6)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}