/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.4
*/

var _0x50a43a=_0x6dc1;(function(_0x5145c8,_0x36481c){var _0x51983f=_0x6dc1,_0x5bd2fb=_0x5145c8();while(!![]){try{var _0x1d6c78=-parseInt(_0x51983f(0x246))/0x1+-parseInt(_0x51983f(0x1f9))/0x2*(parseInt(_0x51983f(0x1f1))/0x3)+parseInt(_0x51983f(0x1e8))/0x4+parseInt(_0x51983f(0x13a))/0x5+parseInt(_0x51983f(0x237))/0x6+-parseInt(_0x51983f(0x20d))/0x7+-parseInt(_0x51983f(0x1f7))/0x8;if(_0x1d6c78===_0x36481c)break;else _0x5bd2fb['push'](_0x5bd2fb['shift']());}catch(_0x10bb35){_0x5bd2fb['push'](_0x5bd2fb['shift']());}}}(_0x5325,0xc61c5));var _0x1c00f0=(function(){var _0x3eedcb=!![];return function(_0x309898,_0x1a05ce){var _0xefff43=_0x3eedcb?function(){var _0xdfcc0f=_0x6dc1;if(_0x1a05ce){var _0x2e06ea=_0x1a05ce[_0xdfcc0f(0x1fe)](_0x309898,arguments);return _0x1a05ce=null,_0x2e06ea;}}:function(){};return _0x3eedcb=![],_0xefff43;};}()),_0x1c2a26=_0x1c00f0(this,function(){var _0xee318d=_0x6dc1;return _0x1c2a26[_0xee318d(0x162)]()[_0xee318d(0x195)](_0xee318d(0x22d))[_0xee318d(0x162)]()[_0xee318d(0x1db)](_0x1c2a26)[_0xee318d(0x195)](_0xee318d(0x22d));});_0x1c2a26();var _0x2e1459=(function(){var _0x4b00b5=!![];return function(_0x239b6a,_0x4f2864){var _0x4569c5=_0x4b00b5?function(){var _0x498f25=_0x6dc1;if(_0x4f2864){var _0x1fee9d=_0x4f2864[_0x498f25(0x1fe)](_0x239b6a,arguments);return _0x4f2864=null,_0x1fee9d;}}:function(){};return _0x4b00b5=![],_0x4569c5;};}()),_0x57a74e=_0x2e1459(this,function(){var _0x6d08f5=_0x6dc1,_0x2f6757;try{var _0x4accc9=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2f6757=_0x4accc9();}catch(_0x14241e){_0x2f6757=window;}var _0x4c037c=_0x2f6757[_0x6d08f5(0x158)]=_0x2f6757['console']||{},_0x58b3a5=[_0x6d08f5(0x139),_0x6d08f5(0x253),_0x6d08f5(0x20a),_0x6d08f5(0x1c4),_0x6d08f5(0x25a),'table',_0x6d08f5(0x14e)];for(var _0x278f7a=0x0;_0x278f7a<_0x58b3a5[_0x6d08f5(0x147)];_0x278f7a++){var _0x1ebfe0=_0x2e1459[_0x6d08f5(0x1db)][_0x6d08f5(0x242)][_0x6d08f5(0x21a)](_0x2e1459),_0x12c975=_0x58b3a5[_0x278f7a],_0x30b47e=_0x4c037c[_0x12c975]||_0x1ebfe0;_0x1ebfe0[_0x6d08f5(0x259)]=_0x2e1459[_0x6d08f5(0x21a)](_0x2e1459),_0x1ebfe0['toString']=_0x30b47e['toString']['bind'](_0x30b47e),_0x4c037c[_0x12c975]=_0x1ebfe0;}});_0x57a74e();var newItems=[],baseItem={},MAX_IMAGES=0x4,currentImages,imgC=document[_0x50a43a(0x24b)](_0x50a43a(0x251)),unitCount=0x0,branchesC=document[_0x50a43a(0x24b)](_0x50a43a(0x1cb)),prodC=document[_0x50a43a(0x24b)]('newItem_proditems_container'),vgCount=0x0,varContainer=document['getElementById'](_0x50a43a(0x149)),vgC=document[_0x50a43a(0x24b)](_0x50a43a(0x1ad));const fileInput=document['getElementById'](_0x50a43a(0x1c5)),progressBar=document[_0x50a43a(0x24b)]('progress'),statusDiv=document[_0x50a43a(0x24b)](_0x50a43a(0x16c)),uploadBtn=document['getElementById'](_0x50a43a(0x15b));let newItemsExcel=null;const itemWorker=new Worker(_0x50a43a(0x1a5)),dropZone=document[_0x50a43a(0x24b)](_0x50a43a(0x161)),removeBtn=document[_0x50a43a(0x24b)](_0x50a43a(0x1f0));function showModalCreateItem(_0x3d5e08){var _0x4923bc=_0x50a43a;const _0xd5aa71=document[_0x4923bc(0x24b)]('detalleModalCreateItem'),_0x3833d3=document[_0x4923bc(0x24b)](_0x4923bc(0x132));_0xd5aa71['classList']['add'](_0x4923bc(0x279)),_0x3833d3[_0x4923bc(0x1ee)]['display']=_0x4923bc(0x1ed);const _0x36b6e6=document['getElementById']('setItemFree');_0x36b6e6['value']=parseInt(_0x3d5e08),baseItem[_0x4923bc(0x1d0)]=parseInt(_0x3d5e08);const _0x12699a=document[_0x4923bc(0x24b)](_0x4923bc(0x1b7));_0x3d5e08==0x0&&(_0x12699a[_0x4923bc(0x210)]=_0x4923bc(0x1ca));_0x3d5e08==0x1&&(_0x12699a[_0x4923bc(0x210)]=_0x4923bc(0x240));const _0x51ee4a=document[_0x4923bc(0x133)](_0x4923bc(0x201));for(let _0x3db253=0x0;_0x3db253<_0x51ee4a['length'];_0x3db253++){const _0xe4e8bd=_0x51ee4a[_0x3db253];if(_0x3d5e08==0x0)_0xe4e8bd[_0x4923bc(0x209)][_0x4923bc(0x1aa)](_0x4923bc(0x1df));else _0x3d5e08==0x1&&_0xe4e8bd[_0x4923bc(0x209)][_0x4923bc(0x141)](_0x4923bc(0x1df));}}function hideModalCreateItem(){var _0x17818e=_0x50a43a;const _0x47684e=document['getElementById'](_0x17818e(0x16d)),_0x5f1013=document[_0x17818e(0x24b)](_0x17818e(0x132));_0x47684e['classList'][_0x17818e(0x1aa)](_0x17818e(0x279)),_0x5f1013[_0x17818e(0x1ee)][_0x17818e(0x185)]=_0x17818e(0x184);}document[_0x50a43a(0x24b)]('closeModalCreateItem')['addEventListener'](_0x50a43a(0x16e),hideModalCreateItem),document[_0x50a43a(0x24b)](_0x50a43a(0x132))['addEventListener'](_0x50a43a(0x16e),_0x343a7c=>{var _0x3c55b5=_0x50a43a;_0x343a7c[_0x3c55b5(0x20f)]==_0x343a7c[_0x3c55b5(0x183)]&&_0x343a7c[_0x3c55b5(0x174)]();});function loadTaxData(){var _0x31a733=_0x50a43a;const _0x46a8c1=document[_0x31a733(0x24b)](_0x31a733(0x148));_0x46a8c1[_0x31a733(0x210)]='',company[0x0]['setImpuestos'][_0x31a733(0x14c)](function(_0x4e3189){var _0x29b2b1=_0x31a733;const _0x1a4be5=document[_0x29b2b1(0x1c9)](_0x29b2b1(0x223));_0x1a4be5[_0x29b2b1(0x1b8)]=_0x4e3189[_0x29b2b1(0x255)],_0x1a4be5[_0x29b2b1(0x210)]=_0x4e3189['setImpuestoName']+'\x20('+_0x4e3189['setImpuestoValue']+'%)',_0x4e3189[_0x29b2b1(0x255)]==company[0x0]['setTaxIdDefault']&&(_0x1a4be5[_0x29b2b1(0x221)]=!![]),_0x46a8c1[_0x29b2b1(0x25d)](_0x1a4be5);});}function uniqueValuesArray(_0x486fd8,_0x5d9fb9,_0x24d350){var _0x588929=_0x50a43a;const _0x5d03ad=Array[_0x588929(0x21e)](new Set(_0x24d350[_0x588929(0x22f)](_0x49a8c1=>{var _0xa08d88=_0x588929;const _0x2fc489=_0x49a8c1[_0x486fd8];return typeof _0x2fc489===_0xa08d88(0x243)?_0x2fc489[_0xa08d88(0x1c8)]():_0x2fc489;})[_0x588929(0x1de)](_0xfbeafe=>_0xfbeafe!=null&&_0xfbeafe!=='')));return _0x5d03ad[_0x588929(0x22f)](_0x17087f=>{var _0x3f05dc=_0x588929;const _0x1d6c5b=_0x24d350['find'](_0x373845=>_0x373845[_0x486fd8]===_0x17087f),_0x1af858=_0x1d6c5b&&_0x1d6c5b[_0x5d9fb9]!=null?String(_0x1d6c5b[_0x5d9fb9])[_0x3f05dc(0x1c8)]():_0x17087f;return{'setCode':_0x17087f,'setName':_0x1af858};});}function fillSelect(_0x433888,_0x30f166,_0x21dc96,_0x9e317a){var _0x205a1c=_0x50a43a;_0x433888[_0x205a1c(0x210)]='',_0x30f166['forEach'](function(_0x3d0193){var _0x42d38c=new Option(_0x3d0193[_0x9e317a],_0x3d0193[_0x21dc96]);_0x433888['add'](_0x42d38c);});}function initMulti(_0x4932df,_0x56b280){var _0x1076a0=_0x50a43a,_0xec305a=document[_0x1076a0(0x24b)](_0x4932df),_0x28ff2e=_0xec305a[_0x1076a0(0x203)](_0x1076a0(0x23f)),_0x1dddcd=_0xec305a[_0x1076a0(0x203)]('.options_list'),_0x4e6f28=_0xec305a[_0x1076a0(0x203)](_0x1076a0(0x266)),_0x570345=_0x56b280['slice'](),_0x1e20fe=[];let _0x51a186=null,_0x13a3ca=![];function _0x25ba4d(){var _0x2df38f=_0x1076a0;const _0x53948c=_0x28ff2e[_0x2df38f(0x1b8)][_0x2df38f(0x1c8)]();if(!_0x53948c)return;const _0x45ca96=_0x570345[_0x2df38f(0x173)](_0x5dc8d3=>_0x5dc8d3['setName']['toLowerCase']()===_0x53948c[_0x2df38f(0x212)]());if(_0x45ca96)_0x1e20fe[_0x2df38f(0x1d9)](_0x45ca96),_0x570345[_0x2df38f(0x142)](_0x570345[_0x2df38f(0x1da)](_0x2e0ac5=>_0x2e0ac5[_0x2df38f(0x189)]===_0x45ca96[_0x2df38f(0x189)]),0x1);else{const _0x598c46=_0x1e20fe[_0x2df38f(0x24c)](_0x16b554=>_0x16b554[_0x2df38f(0x17b)]['toLowerCase']()===_0x53948c[_0x2df38f(0x212)]());!_0x598c46&&_0x1e20fe[_0x2df38f(0x1d9)]({'setCode':_0x53948c,'setName':_0x53948c});}_0x38481c(),_0x56f62e(),_0x28ff2e[_0x2df38f(0x1b8)]='';}function _0x56f62e(){var _0x2af255=_0x1076a0;_0x1dddcd[_0x2af255(0x210)]='',_0x570345[_0x2af255(0x1de)](_0x1e1997=>_0x1e1997[_0x2af255(0x17b)][_0x2af255(0x212)]()[_0x2af255(0x200)](_0x28ff2e[_0x2af255(0x1b8)]['toLowerCase']()))[_0x2af255(0x1c2)](0x0,0x14)['forEach'](_0x8ac898=>{var _0x49bf9d=_0x2af255,_0x49cddf=document['createElement']('div');_0x49cddf[_0x49bf9d(0x13e)]=_0x8ac898[_0x49bf9d(0x17b)],_0x49cddf[_0x49bf9d(0x144)]['code']=_0x8ac898['setCode'],_0x1dddcd[_0x49bf9d(0x25d)](_0x49cddf),_0x49cddf[_0x49bf9d(0x276)](_0x49bf9d(0x1a1),()=>_0x13a3ca=!![]),_0x49cddf[_0x49bf9d(0x276)]('click',function(){var _0x2fba15=_0x49bf9d;_0x13a3ca=![],_0x1e20fe[_0x2fba15(0x1d9)](_0x8ac898),_0x570345[_0x2fba15(0x142)](_0x570345[_0x2fba15(0x1da)](_0x5c8d52=>_0x5c8d52[_0x2fba15(0x189)]===_0x8ac898[_0x2fba15(0x189)]),0x1),_0x28ff2e[_0x2fba15(0x1b8)]='',_0x38481c(),_0x56f62e();});});}function _0x38481c(){var _0x3c54ea=_0x1076a0;_0x4e6f28[_0x3c54ea(0x210)]='',_0x1e20fe[_0x3c54ea(0x14c)](_0x196da0=>{var _0x3363a4=_0x3c54ea,_0x4adfd9=document[_0x3363a4(0x1c9)]('div');_0x4adfd9[_0x3363a4(0x21c)]=_0x3363a4(0x231),_0x4adfd9['textContent']=_0x196da0[_0x3363a4(0x17b)];var _0x34f50a=document[_0x3363a4(0x1c9)]('span');_0x34f50a[_0x3363a4(0x21c)]='remove-tag',_0x34f50a[_0x3363a4(0x13e)]='×',_0x34f50a[_0x3363a4(0x276)]('click',function(){var _0x1a3c8d=_0x3363a4;_0x570345[_0x1a3c8d(0x1d9)](_0x196da0);const _0x4d31ac=_0x1e20fe[_0x1a3c8d(0x1da)](_0x34057e=>_0x34057e[_0x1a3c8d(0x189)]===_0x196da0[_0x1a3c8d(0x189)]);if(_0x4d31ac>-0x1)_0x1e20fe[_0x1a3c8d(0x142)](_0x4d31ac,0x1);_0x38481c(),_0x56f62e();}),_0x4adfd9[_0x3363a4(0x25d)](_0x34f50a),_0x4e6f28[_0x3363a4(0x25d)](_0x4adfd9);}),_0xec305a[_0x3c54ea(0x1d1)](new CustomEvent(_0x3c54ea(0x1ae),{'detail':_0x1e20fe,'bubbles':!![]}));}return _0x28ff2e[_0x1076a0(0x276)]('focus',function(){var _0xd9fcf8=_0x1076a0;_0x51a186&&(clearTimeout(_0x51a186),_0x51a186=null),_0x1dddcd['classList']['remove'](_0xd9fcf8(0x265));}),_0x28ff2e[_0x1076a0(0x276)]('input',_0x56f62e),_0x28ff2e[_0x1076a0(0x276)](_0x1076a0(0x1f3),function(_0x4c866e){var _0x3844fe=_0x1076a0;_0x4c866e[_0x3844fe(0x222)]===_0x3844fe(0x1b3)&&(_0x4c866e[_0x3844fe(0x1e2)](),_0x25ba4d());}),_0x28ff2e[_0x1076a0(0x276)](_0x1076a0(0x150),function(){if(_0x13a3ca)return;_0x51a186=setTimeout(()=>{_0x25ba4d(),_0x51a186=null;},0xc8);}),document[_0x1076a0(0x276)](_0x1076a0(0x16e),function(_0x40d47c){var _0x42a0b6=_0x1076a0;!_0xec305a[_0x42a0b6(0x23c)](_0x40d47c['target'])&&_0x1dddcd[_0x42a0b6(0x209)]['add'](_0x42a0b6(0x265));}),_0x56f62e(),_0x1e20fe;}function getLastCode(_0x10ed50){var _0x50e5c2=_0x50a43a;const _0x5fc332=_0x10ed50[_0x50e5c2(0x22f)](_0x5d476a=>String(_0x5d476a['setCodProducto'])[_0x50e5c2(0x1c8)]())[_0x50e5c2(0x1de)](_0x46c28d=>_0x46c28d!=='');if(_0x5fc332[_0x50e5c2(0x147)]===0x0)return'';const _0x314335=_0x5fc332['every'](_0x17e579=>/^\d+$/[_0x50e5c2(0x234)](_0x17e579));if(_0x314335){const _0x4bca06=_0x5fc332[_0x50e5c2(0x22f)](Number),_0x1afea5=Math[_0x50e5c2(0x1d2)](..._0x4bca06);return String(_0x1afea5);}let _0x3c6342;if(typeof Intl!==_0x50e5c2(0x19c)&&Intl[_0x50e5c2(0x278)]){const _0xf656b6=new Intl[(_0x50e5c2(0x278))](undefined,{'numeric':!![],'sensitivity':_0x50e5c2(0x272)});_0x3c6342=_0x5fc332[_0x50e5c2(0x1c2)]()[_0x50e5c2(0x18d)](_0xf656b6[_0x50e5c2(0x241)]);}else{const _0x352eab=_0x5fc332[_0x50e5c2(0x232)](_0x116fd=>/^\d+$/[_0x50e5c2(0x234)](_0x116fd));_0x352eab?_0x3c6342=_0x5fc332[_0x50e5c2(0x22f)](Number)[_0x50e5c2(0x18d)]((_0x252916,_0x527172)=>_0x252916-_0x527172)[_0x50e5c2(0x22f)](String):_0x3c6342=_0x5fc332['slice']()[_0x50e5c2(0x18d)]();}return _0x3c6342[_0x3c6342[_0x50e5c2(0x147)]-0x1];}function getNextCode(_0x2bfcc5){var _0x1c0b2a=_0x50a43a;const _0x4b9cab=getLastCode(_0x2bfcc5);if(!_0x4b9cab)return'';if(/^\d+$/['test'](_0x4b9cab))return String(Number(_0x4b9cab)+0x1);const _0x256f42=_0x4b9cab['match'](/^([A-Za-z]*)(\d+)$/);if(_0x256f42){const [,_0x909599,_0x11797b]=_0x256f42,_0x2a78dc=String(Number(_0x11797b)+0x1)[_0x1c0b2a(0x13c)](_0x11797b[_0x1c0b2a(0x147)],'0');return _0x909599+_0x2a78dc;}return _0x4b9cab;}function _0x6dc1(_0x194403,_0x2cdb11){var _0x247c48=_0x5325();return _0x6dc1=function(_0x57a74e,_0x2e1459){_0x57a74e=_0x57a74e-0x132;var _0x1d0f04=_0x247c48[_0x57a74e];return _0x1d0f04;},_0x6dc1(_0x194403,_0x2cdb11);}document['getElementById'](_0x50a43a(0x24a))[_0x50a43a(0x276)]('input',function(_0x235e25){var _0x17afc4=_0x50a43a;baseItem[_0x17afc4(0x1ac)]=_0x235e25[_0x17afc4(0x20f)]['value'];}),document[_0x50a43a(0x24b)](_0x50a43a(0x257))['addEventListener'](_0x50a43a(0x247),function(_0x13df48){var _0x1d13cb=_0x50a43a;baseItem['setItemDescription']=_0x13df48[_0x1d13cb(0x20f)][_0x1d13cb(0x1b8)];}),document[_0x50a43a(0x24b)](_0x50a43a(0x187))['addEventListener'](_0x50a43a(0x247),function(_0x17b819){var _0x450484=_0x50a43a;baseItem[_0x450484(0x22e)]=_0x17b819[_0x450484(0x20f)][_0x450484(0x1b8)];}),document[_0x50a43a(0x24b)]('inputItemType')[_0x50a43a(0x276)]('change',function(_0xcb2cfe){var _0x30767c=_0x50a43a;baseItem[_0x30767c(0x1c7)]=_0xcb2cfe['target'][_0x30767c(0x1b8)];}),document[_0x50a43a(0x24b)]('inputItemTax')[_0x50a43a(0x276)]('change',function(_0x533d73){var _0x2875e4=_0x50a43a;baseItem['setItemTaxId']=_0x533d73[_0x2875e4(0x20f)][_0x2875e4(0x1b8)];const _0x58ff42=_0x533d73[_0x2875e4(0x20f)][_0x2875e4(0x1b8)],_0x59b1cf=company[0x0][_0x2875e4(0x260)][_0x2875e4(0x173)](_0xf30740=>_0xf30740[_0x2875e4(0x255)]==_0x58ff42)?.['setImpuestoCode']||0x0,_0x83a0b8=company[0x0][_0x2875e4(0x260)]['find'](_0x378010=>_0x378010[_0x2875e4(0x255)]==_0x58ff42)?.[_0x2875e4(0x15e)]||0x0;baseItem[_0x2875e4(0x191)]=_0x59b1cf,baseItem[_0x2875e4(0x22c)]=_0x83a0b8;}),document[_0x50a43a(0x24b)](_0x50a43a(0x1ea))[_0x50a43a(0x276)](_0x50a43a(0x1c6),function(_0x1e4777){var _0x5214bd=_0x50a43a;baseItem[_0x5214bd(0x181)]=_0x1e4777[_0x5214bd(0x20f)][_0x5214bd(0x18a)];}),document['getElementById'](_0x50a43a(0x263))[_0x50a43a(0x276)](_0x50a43a(0x1c6),function(_0x13cbde){var _0x32bd5c=_0x50a43a;baseItem[_0x32bd5c(0x206)]=_0x13cbde[_0x32bd5c(0x20f)][_0x32bd5c(0x18a)];}),document[_0x50a43a(0x24b)]('inputItemCode')[_0x50a43a(0x276)](_0x50a43a(0x247),function(_0x3e0a44){var _0x27a300=_0x50a43a;baseItem[_0x27a300(0x1fc)]=_0x3e0a44['target'][_0x27a300(0x1b8)];}),document[_0x50a43a(0x24b)](_0x50a43a(0x1bd))[_0x50a43a(0x276)](_0x50a43a(0x247),function(_0x38267c){var _0x26609d=_0x50a43a;baseItem[_0x26609d(0x194)]=_0x38267c[_0x26609d(0x20f)][_0x26609d(0x1b8)];}),document['getElementById'](_0x50a43a(0x17f))[_0x50a43a(0x276)]('click',function(){addUnit(),updateUnitsArray();}),document[_0x50a43a(0x24b)](_0x50a43a(0x23b))[_0x50a43a(0x276)](_0x50a43a(0x150),function(){var _0x2d41b1=_0x50a43a;const _0x10dcd4=this[_0x2d41b1(0x1b8)][_0x2d41b1(0x1c8)]();if(_0x10dcd4==='')return;const _0x12f065=products[_0x2d41b1(0x24c)](_0x2884c2=>_0x2884c2[_0x2d41b1(0x25c)]==_0x10dcd4),_0x5194a0=getLastCode(products);_0x12f065?ntfShow(_0x2d41b1(0x252)+_0x5194a0,0x2,0x1):ntfShow(_0x2d41b1(0x24d),0x1,0x1);});function removeImg(_0x1abee1){var _0x150704=_0x50a43a;currentImages[_0x1abee1]=null;var _0x3ee5e7=imgC[_0x150704(0x203)](_0x150704(0x228)+_0x1abee1+'\x22]');_0x3ee5e7[_0x150704(0x210)]='';var _0x1cbf9d=document['createElement']('input');_0x1cbf9d[_0x150704(0x25e)]='file',_0x1cbf9d['accept']=_0x150704(0x1dc),_0x1cbf9d[_0x150704(0x1ee)][_0x150704(0x185)]=_0x150704(0x184);var _0x31fd0f=document[_0x150704(0x1c9)](_0x150704(0x168));_0x31fd0f[_0x150704(0x13e)]='+',_0x3ee5e7['appendChild'](_0x1cbf9d),_0x3ee5e7['appendChild'](_0x31fd0f),_0x3ee5e7[_0x150704(0x276)](_0x150704(0x16e),function(){var _0x2c3bd7=_0x150704;_0x1cbf9d[_0x2c3bd7(0x16e)]();}),baseItem[_0x150704(0x196)]=currentImages['filter'](function(_0xc488d6){return _0xc488d6;});}function addUnit(_0x264e13,_0x269eb9,_0x5ecc6a,_0x1dc2ea,_0x5d7520,_0x8399bb,_0x55157b){var _0x2356a3=_0x50a43a,_0x2229b9=uniqueValuesArray('setUnitCode',_0x2356a3(0x264),myCompany[_0x2356a3(0x277)]);_0x264e13=_0x264e13||'',_0x269eb9=_0x269eb9||_0x2229b9[0x3a]&&_0x2229b9[0x3a][_0x2356a3(0x189)]||'',_0x5ecc6a=_0x5ecc6a!==undefined?_0x5ecc6a:0x1,_0x1dc2ea=!!_0x1dc2ea,_0x5d7520=_0x5d7520||'',_0x8399bb=_0x8399bb||'';var _0x15c513=unitCount++,_0x112840=document['createElement'](_0x2356a3(0x1af));_0x112840[_0x2356a3(0x144)][_0x2356a3(0x281)]=_0x15c513,_0x112840['dataset'][_0x2356a3(0x18e)]=_0x1dc2ea,_0x112840[_0x2356a3(0x210)]=_0x2356a3(0x154)+_0x15c513+_0x2356a3(0x1b4)+_0x264e13+_0x2356a3(0x269)+_0x15c513+_0x2356a3(0x22a)+_0x15c513+_0x2356a3(0x1b4)+_0x5ecc6a+'\x22\x20'+(_0x1dc2ea?_0x2356a3(0x1a6):'')+_0x2356a3(0x137)+_0x15c513+_0x2356a3(0x1b4)+_0x5d7520+_0x2356a3(0x202)+_0x15c513+_0x2356a3(0x1b4)+_0x8399bb+'\x22>\x0a<button\x20class=\x22removeUnit\x20btn-none\x22\x20'+(_0x1dc2ea?'style=\x22display:none\x22':'')+_0x2356a3(0x213),fillSelect(_0x112840[_0x2356a3(0x203)](_0x2356a3(0x273)),_0x2229b9,_0x2356a3(0x189),'setName'),_0x112840[_0x2356a3(0x203)](_0x2356a3(0x273))[_0x2356a3(0x1b8)]=_0x269eb9,['unitAlias',_0x2356a3(0x14a),_0x2356a3(0x27b),_0x2356a3(0x1e6),_0x2356a3(0x23d)][_0x2356a3(0x14c)](function(_0x151218){var _0x4ce0ef=_0x2356a3;_0x112840[_0x4ce0ef(0x203)]('.'+_0x151218)[_0x4ce0ef(0x276)](_0x4ce0ef(0x247),function(){var _0x5ccddc=_0x4ce0ef,_0x2655c9=_0x55157b?+_0x55157b['id'][_0x5ccddc(0x250)]('_')[0x1]:null;if(_0x55157b)updateVariantUnits(_0x2655c9);else updateUnitsArray();});}),_0x112840[_0x2356a3(0x203)](_0x2356a3(0x18b))['addEventListener'](_0x2356a3(0x16e),function(){var _0x3b559a=_0x2356a3;_0x112840[_0x3b559a(0x1aa)]();var _0x14a215=_0x55157b?+_0x55157b['id']['split']('_')[0x1]:null;if(_0x55157b)updateVariantUnits(_0x14a215);else updateUnitsArray();});var _0x15ae16=_0x55157b||document['getElementById'](_0x2356a3(0x23e));_0x15ae16[_0x2356a3(0x25d)](_0x112840);}function containerIdx(_0x333f81){return+_0x333f81['id']['split']('_')[0x1];}function updateUnitsArray(){var _0x4fda83=_0x50a43a,_0xafb46b=[],_0x30f79b=Array[_0x4fda83(0x21e)](document[_0x4fda83(0x214)](_0x4fda83(0x271))),_0x5395aa=_0x30f79b[_0x4fda83(0x173)](_0x323685=>_0x323685['dataset'][_0x4fda83(0x18e)]===_0x4fda83(0x164)),_0x19409d=_0x5395aa?+_0x5395aa[_0x4fda83(0x203)](_0x4fda83(0x1dd))[_0x4fda83(0x1b8)]:0x1;_0x30f79b[_0x4fda83(0x14c)](function(_0x2d7dfc){var _0x5794ba=_0x4fda83,_0x5ab7d6=+_0x2d7dfc['querySelector'](_0x5794ba(0x1dd))[_0x5794ba(0x1b8)]||0x0,_0xe72f01=+_0x2d7dfc[_0x5794ba(0x203)](_0x5794ba(0x1b0))['value']||0x0,_0xc9381a=+_0x2d7dfc['querySelector'](_0x5794ba(0x218))[_0x5794ba(0x1b8)]||0x0;_0xafb46b['push']({'setAlias':_0x2d7dfc[_0x5794ba(0x203)](_0x5794ba(0x244))[_0x5794ba(0x1b8)][_0x5794ba(0x1c8)](),'setUnitCode':_0x2d7dfc[_0x5794ba(0x203)](_0x5794ba(0x273))['value'],'setEquivalence':_0x5ab7d6,'setFactor':_0x2d7dfc[_0x5794ba(0x144)][_0x5794ba(0x18e)]===_0x5794ba(0x164)?0x1:_0x5ab7d6==_0x19409d?0x1:_0x5ab7d6<_0x19409d?_0x19409d/_0x5ab7d6:_0x5ab7d6/_0x19409d,'setPrice':_0xe72f01,'setCost':_0xc9381a,'setDefault':_0x2d7dfc['dataset'][_0x5794ba(0x18e)]==='true'?0x1:0x0});}),baseItem[_0x4fda83(0x215)]=_0xafb46b;}function updateBranches(){var _0x5ed36c=_0x50a43a,_0xc8c8ff=[];document['querySelectorAll'](_0x5ed36c(0x254))[_0x5ed36c(0x14c)](function(_0x4f0f0c){var _0x47ad85=_0x5ed36c,_0x438b0a=_0x4f0f0c['querySelector'](_0x47ad85(0x1d3));if(_0x438b0a['checked']){var _0x1905dc=+_0x438b0a[_0x47ad85(0x144)]['id'],_0x29f71e=+_0x4f0f0c[_0x47ad85(0x203)](_0x47ad85(0x1cd))['value'],_0x5d0a32=+_0x4f0f0c['querySelector'](_0x47ad85(0x14f))[_0x47ad85(0x1b8)];_0xc8c8ff['push']({'setWarehouseCode':_0x1905dc,'setStockInitial':_0x29f71e,'setStockMinimum':_0x5d0a32});}}),baseItem['setItemWarehouses']=_0xc8c8ff;}document[_0x50a43a(0x24b)]('newItem_btn_addProdItem')['addEventListener'](_0x50a43a(0x16e),function(){var _0x2e5b4e=_0x50a43a,_0x8e9f6c=Date[_0x2e5b4e(0x15d)](),_0x557776=document[_0x2e5b4e(0x1c9)](_0x2e5b4e(0x1af));_0x557776[_0x2e5b4e(0x144)][_0x2e5b4e(0x281)]=_0x8e9f6c,_0x557776[_0x2e5b4e(0x210)]='<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22'+_0x8e9f6c+_0x2e5b4e(0x1ec)+_0x8e9f6c+_0x2e5b4e(0x26a),prodC['appendChild'](_0x557776),initProdSearch(_0x557776[_0x2e5b4e(0x203)](_0x2e5b4e(0x27e))),_0x557776[_0x2e5b4e(0x203)](_0x2e5b4e(0x220))[_0x2e5b4e(0x276)](_0x2e5b4e(0x16e),function(){_0x557776['remove'](),updateProdItems();}),_0x557776[_0x2e5b4e(0x203)]('.prodQty')[_0x2e5b4e(0x276)](_0x2e5b4e(0x247),updateProdItems),document['getElementById'](_0x2e5b4e(0x163))['classList'][_0x2e5b4e(0x14d)](_0x2e5b4e(0x21f),!![]),document[_0x2e5b4e(0x24b)]('newItem_title_table_cp')['classList'][_0x2e5b4e(0x14d)]('newItem_hidden',![]);});function initProdSearch(_0x9f3e6,_0x2f1034){var _0x4d83c0=_0x50a43a,_0xfbd91=_0x9f3e6[_0x4d83c0(0x203)](_0x4d83c0(0x17d)),_0x355e18=_0x9f3e6['querySelector'](_0x4d83c0(0x1b1)),_0x541335=_0x2f1034||null;if(_0x2f1034)_0xfbd91['value']=_0x2f1034[_0x4d83c0(0x249)];_0xfbd91[_0x4d83c0(0x276)]('input',function(){var _0x2a7b5b=_0x4d83c0,_0x1140d8=_0xfbd91[_0x2a7b5b(0x1b8)][_0x2a7b5b(0x212)]()['trim']();_0x355e18[_0x2a7b5b(0x210)]='';if(!_0x1140d8)return;products['filter'](_0x58643a=>_0x58643a['setDescripcion'][_0x2a7b5b(0x212)]()[_0x2a7b5b(0x200)](_0x1140d8))['slice'](0x0,0x14)[_0x2a7b5b(0x14c)](function(_0x4533d2){var _0x582c2f=_0x2a7b5b,_0x2124a5=document[_0x582c2f(0x1c9)](_0x582c2f(0x1af));_0x2124a5[_0x582c2f(0x13e)]=_0x4533d2[_0x582c2f(0x1e1)],_0x2124a5['dataset']['id']=_0x4533d2['id'],_0x2124a5['dataset'][_0x582c2f(0x249)]=_0x4533d2['setDescripcion'],_0x355e18[_0x582c2f(0x25d)](_0x2124a5),_0x2124a5[_0x582c2f(0x276)]('click',function(){var _0x128406=_0x582c2f;_0x541335={'id':_0x4533d2['id'],'name':_0x4533d2[_0x128406(0x1e1)]},_0xfbd91['value']=_0x4533d2[_0x128406(0x1e1)],_0x355e18[_0x128406(0x210)]='';var _0x5911c7=_0x9f3e6[_0x128406(0x165)](_0x128406(0x1d4));if(_0x5911c7){var _0x296f92=+_0x5911c7['id'][_0x128406(0x250)]('_')[0x1];updateVariantComponents(_0x296f92);}else updateProdItems();});});}),_0xfbd91[_0x4d83c0(0x276)](_0x4d83c0(0x19a),function(){var _0x3ffad4=_0x4d83c0;_0x355e18[_0x3ffad4(0x209)][_0x3ffad4(0x1aa)](_0x3ffad4(0x265));}),document[_0x4d83c0(0x276)](_0x4d83c0(0x16e),function(_0x591232){var _0x317169=_0x4d83c0;if(!_0x9f3e6['contains'](_0x591232[_0x317169(0x20f)]))_0x355e18[_0x317169(0x209)][_0x317169(0x141)](_0x317169(0x265));}),Object[_0x4d83c0(0x167)](_0x9f3e6,_0x4d83c0(0x19f),{'get':()=>_0x541335});}function updateProdItems(){var _0x4c28c1=_0x50a43a,_0x1a84c8=[];Array['from'](prodC[_0x4c28c1(0x17c)])[_0x4c28c1(0x14c)](function(_0x428ef4){var _0x1b5b29=_0x4c28c1,_0x56ffd8=_0x428ef4[_0x1b5b29(0x203)](_0x1b5b29(0x27e));if(!_0x56ffd8)return;var _0x298af9=_0x428ef4[_0x1b5b29(0x203)](_0x1b5b29(0x193)),_0x406c83=_0x56ffd8['selectedItem'];_0x406c83&&_0x1a84c8[_0x1b5b29(0x1d9)]({'setItemId':_0x406c83['id'],'setDescripcion':_0x406c83[_0x1b5b29(0x249)],'setCantidad':+_0x298af9[_0x1b5b29(0x1b8)]});}),baseItem[_0x4c28c1(0x270)]=_0x1a84c8,_0x1a84c8[_0x4c28c1(0x147)]===0x0&&(document[_0x4c28c1(0x24b)](_0x4c28c1(0x163))[_0x4c28c1(0x209)][_0x4c28c1(0x14d)](_0x4c28c1(0x21f),![]),document[_0x4c28c1(0x24b)](_0x4c28c1(0x163))['classList'][_0x4c28c1(0x14d)](_0x4c28c1(0x265),!![]));}document[_0x50a43a(0x24b)](_0x50a43a(0x258))[_0x50a43a(0x276)](_0x50a43a(0x16e),function(){var _0x56da48=_0x50a43a,_0x2a64bd=vgCount++,_0x5c122a=document['createElement'](_0x56da48(0x1af));_0x5c122a[_0x56da48(0x144)][_0x56da48(0x281)]=_0x2a64bd,_0x5c122a['innerHTML']=_0x56da48(0x24f)+_0x2a64bd+'\x22>'+_0x56da48(0x1bc)+_0x2a64bd+'\x22>'+_0x56da48(0x1f2),vgC[_0x56da48(0x25d)](_0x5c122a),_0x5c122a[_0x56da48(0x203)](_0x56da48(0x13f))[_0x56da48(0x276)](_0x56da48(0x150),generateVariants),_0x5c122a[_0x56da48(0x203)](_0x56da48(0x25b))[_0x56da48(0x276)]('blur',generateVariants),_0x5c122a[_0x56da48(0x203)](_0x56da48(0x225))[_0x56da48(0x276)](_0x56da48(0x16e),function(){var _0x3e378e=_0x56da48;_0x5c122a[_0x3e378e(0x1aa)](),generateVariants();});});function generateVariants(){var _0x2c987e=_0x50a43a,_0x28d5d6=[];vgC[_0x2c987e(0x214)](_0x2c987e(0x1af))[_0x2c987e(0x14c)](function(_0x497ca9){var _0x1b29dc=_0x2c987e,_0x1ceb81=_0x497ca9['querySelector'](_0x1b29dc(0x13f))[_0x1b29dc(0x1b8)][_0x1b29dc(0x1c8)](),_0x2acfb5=_0x497ca9[_0x1b29dc(0x203)](_0x1b29dc(0x25b))['value']['split'](',')[_0x1b29dc(0x22f)](_0x3381da=>_0x3381da[_0x1b29dc(0x1c8)]())['filter'](_0x3365fc=>_0x3365fc);if(_0x1ceb81&&_0x2acfb5[_0x1b29dc(0x147)])_0x28d5d6['push']({'name':_0x1ceb81,'vals':_0x2acfb5});});var _0x2e1c4d=[{}];_0x28d5d6['forEach'](function(_0x531095){_0x2e1c4d=_0x2e1c4d['flatMap'](function(_0x244aed){return _0x531095['vals']['map'](function(_0x19f913){var _0x750645=_0x6dc1,_0x5141d3=Object[_0x750645(0x27c)]({},_0x244aed);return _0x5141d3[_0x531095[_0x750645(0x249)]]=_0x19f913,_0x5141d3;});});}),newItems=[],varContainer[_0x2c987e(0x210)]='',_0x2e1c4d['forEach'](function(_0x2c5842,_0x5a6aec){var _0x1ce894=_0x2c987e,_0x125c53=JSON[_0x1ce894(0x226)](JSON[_0x1ce894(0x170)](baseItem));_0x125c53[_0x1ce894(0x26c)]=_0x2c5842,_0x125c53['setItemVariantName']=baseItem['setItemName']+'\x20'+Object[_0x1ce894(0x169)](_0x2c5842)[_0x1ce894(0x22f)](_0x5ea896=>_0x5ea896[0x0]+'\x20'+_0x5ea896[0x1])[_0x1ce894(0x235)]('\x20'),newItems[_0x1ce894(0x1d9)](_0x125c53);var _0x142c9=document[_0x1ce894(0x1c9)](_0x1ce894(0x1af));_0x142c9[_0x1ce894(0x209)]['add']('variantForm'),_0x142c9[_0x1ce894(0x144)][_0x1ce894(0x281)]=_0x5a6aec,_0x142c9['innerHTML']=_0x1ce894(0x268)+_0x125c53[_0x1ce894(0x180)]+_0x1ce894(0x1e4)+_0x125c53['setItemCode']+_0x1ce894(0x152)+_0x125c53['setItemBarCode']+'\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Vencimiento:</label>\x0a<input\x20class=\x22variantExpiry\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22date\x22\x20placeholder=\x22Vencimiento:\x22\x20value=\x22'+_0x125c53[_0x1ce894(0x22e)]+_0x1ce894(0x1be)+_0x5a6aec+_0x1ce894(0x230)+_0x5a6aec+_0x1ce894(0x1a8)+_0x5a6aec+'_branch_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a',varContainer['appendChild'](_0x142c9),_0x142c9[_0x1ce894(0x203)]('.variantCode')['addEventListener'](_0x1ce894(0x247),_0x419d76=>newItems[_0x5a6aec][_0x1ce894(0x1fc)]=_0x419d76['target'][_0x1ce894(0x1b8)]),_0x142c9['querySelector'](_0x1ce894(0x157))[_0x1ce894(0x276)](_0x1ce894(0x247),_0x508761=>newItems[_0x5a6aec][_0x1ce894(0x194)]=_0x508761[_0x1ce894(0x20f)][_0x1ce894(0x1b8)]),_0x142c9[_0x1ce894(0x203)](_0x1ce894(0x166))[_0x1ce894(0x276)](_0x1ce894(0x1c6),_0x45e905=>newItems[_0x5a6aec]['setItemDateExpiry']=_0x45e905[_0x1ce894(0x20f)]['value']),initVariantUnits(_0x5a6aec),initVariantComponents(_0x5a6aec),initVariantBranches(_0x5a6aec),_0x142c9[_0x1ce894(0x203)](_0x1ce894(0x1d8))['addEventListener'](_0x1ce894(0x16e),function(){var _0x38e0e7=_0x1ce894,_0x4d8c54=+_0x142c9[_0x38e0e7(0x144)][_0x38e0e7(0x281)];newItems[_0x38e0e7(0x142)](_0x4d8c54,0x1),_0x142c9[_0x38e0e7(0x1aa)](),document[_0x38e0e7(0x214)]('.variantForm')['forEach'](function(_0x2cc2af,_0x883ff3){var _0x2bf805=_0x38e0e7;_0x2cc2af['dataset'][_0x2bf805(0x281)]=_0x883ff3;});});});if(newItems[_0x2c987e(0x147)]===0x0)newItems=[baseItem];}function updateVariantUnits(_0xfaebf){var _0x29ac3a=_0x50a43a,_0x38f0de=document[_0x29ac3a(0x24b)](_0x29ac3a(0x1ce)+_0xfaebf+_0x29ac3a(0x216)),_0xffef36=[];Array[_0x29ac3a(0x21e)](_0x38f0de[_0x29ac3a(0x17c)])['forEach'](function(_0x504889){var _0x6bd486=_0x29ac3a,_0x233e9a=+_0x504889[_0x6bd486(0x203)]('.eqInput')['value']||0x0,_0x5da9fb=_0x504889[_0x6bd486(0x203)]('.unitAlias')[_0x6bd486(0x1b8)][_0x6bd486(0x1c8)](),_0x5c4c23=_0x504889[_0x6bd486(0x203)](_0x6bd486(0x273))[_0x6bd486(0x1b8)],_0x2f5860=+_0x504889[_0x6bd486(0x203)](_0x6bd486(0x1b0))['value']||0x0,_0x94aef4=+_0x504889[_0x6bd486(0x203)](_0x6bd486(0x218))['value']||0x0,_0x482663=_0x504889[_0x6bd486(0x144)][_0x6bd486(0x18e)]===_0x6bd486(0x164),_0x3300e8=+_0x38f0de[_0x6bd486(0x203)]('div[data-default=\x22true\x22]\x20.eqInput')[_0x6bd486(0x1b8)]||0x1,_0x1173f4=_0x482663?0x1:_0x233e9a==_0x3300e8?0x1:_0x233e9a<_0x3300e8?_0x3300e8/_0x233e9a:_0x233e9a/_0x3300e8;_0xffef36[_0x6bd486(0x1d9)]({'setAlias':_0x5da9fb,'setUnitCode':_0x5c4c23,'setEquivalence':_0x233e9a,'setFactor':_0x1173f4,'setPrice':_0x2f5860,'setCost':_0x94aef4,'setDefault':_0x482663?0x1:0x0});}),newItems[_0xfaebf][_0x29ac3a(0x215)]=_0xffef36;}function initVariantUnits(_0x30a497){var _0x4de342=_0x50a43a,_0x4aa692=document['getElementById']('variant_'+_0x30a497+_0x4de342(0x216));_0x4aa692[_0x4de342(0x210)]='',newItems[_0x30a497][_0x4de342(0x215)]['forEach'](function(_0x79c7c0){var _0x2bc9a=_0x4de342;addUnit(_0x79c7c0[_0x2bc9a(0x20b)],_0x79c7c0[_0x2bc9a(0x261)],_0x79c7c0[_0x2bc9a(0x16b)],_0x79c7c0['setDefault'],_0x79c7c0[_0x2bc9a(0x1e3)],_0x79c7c0[_0x2bc9a(0x245)],_0x4aa692);}),_0x4aa692[_0x4de342(0x1f6)]['querySelector'](_0x4de342(0x198))[_0x4de342(0x276)]('click',function(){addUnit('','',0x1,![],'','',_0x4aa692),updateVariantUnits(_0x30a497);});}function updateVariantUnits(_0x496566){var _0x28179c=_0x50a43a,_0x47d11e=document[_0x28179c(0x24b)](_0x28179c(0x1ce)+_0x496566+_0x28179c(0x216)),_0x1ec2dd=_0x47d11e[_0x28179c(0x203)](_0x28179c(0x238)),_0x466e82=_0x1ec2dd?+_0x1ec2dd[_0x28179c(0x1b8)]:0x1,_0x2accd6=Array['from'](_0x47d11e['children'])[_0x28179c(0x22f)](function(_0x127851){var _0x5c80ed=_0x28179c,_0x2c3f20=_0x127851[_0x5c80ed(0x203)]('.unitAlias')[_0x5c80ed(0x1b8)][_0x5c80ed(0x1c8)](),_0x4f0cf5=_0x127851['querySelector'](_0x5c80ed(0x273))[_0x5c80ed(0x1b8)],_0x2f716d=+_0x127851[_0x5c80ed(0x203)]('.eqInput')['value']||0x0,_0x54fcb9=+_0x127851[_0x5c80ed(0x203)](_0x5c80ed(0x1b0))[_0x5c80ed(0x1b8)]||0x0,_0x18f5fa=+_0x127851[_0x5c80ed(0x203)](_0x5c80ed(0x218))[_0x5c80ed(0x1b8)]||0x0,_0x587382=_0x127851[_0x5c80ed(0x144)][_0x5c80ed(0x18e)]===_0x5c80ed(0x164);return{'setAlias':_0x2c3f20,'setUnitCode':_0x4f0cf5,'setEquivalence':_0x2f716d,'setFactor':_0x587382?0x1:_0x2f716d==_0x466e82?0x1:_0x2f716d<_0x466e82?_0x466e82/_0x2f716d:_0x2f716d/_0x466e82,'setPrice':_0x54fcb9,'setCost':_0x18f5fa,'setDefault':_0x587382?0x1:0x0};});newItems[_0x496566][_0x28179c(0x215)]=_0x2accd6;}function initVariantComponents(_0x54fd7c){var _0xb7e4f1=_0x50a43a,_0x475080=document['getElementById'](_0xb7e4f1(0x1ce)+_0x54fd7c+_0xb7e4f1(0x134));_0x475080[_0xb7e4f1(0x210)]='',newItems[_0x54fd7c][_0xb7e4f1(0x270)][_0xb7e4f1(0x14c)](function(_0x448ccc){var _0x1b1c05=_0xb7e4f1,_0xf48ab3=document[_0x1b1c05(0x1c9)](_0x1b1c05(0x1af)),_0xe88ae7=Date['now']();_0xf48ab3[_0x1b1c05(0x144)]['idx']=_0xe88ae7,_0xf48ab3['innerHTML']=_0x1b1c05(0x1c0)+_0xe88ae7+_0x1b1c05(0x199)+_0x448ccc[_0x1b1c05(0x20e)]+'\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>',_0x475080[_0x1b1c05(0x25d)](_0xf48ab3),initProdSearch(_0xf48ab3[_0x1b1c05(0x203)](_0x1b1c05(0x27e)),{'id':_0x448ccc[_0x1b1c05(0x1eb)],'name':_0x448ccc[_0x1b1c05(0x1e1)]}),_0xf48ab3[_0x1b1c05(0x203)](_0x1b1c05(0x193))[_0x1b1c05(0x276)](_0x1b1c05(0x247),function(){updateVariantComponents(_0x54fd7c);}),_0xf48ab3[_0x1b1c05(0x203)](_0x1b1c05(0x151))['addEventListener'](_0x1b1c05(0x16e),function(){var _0x381514=_0x1b1c05;_0xf48ab3[_0x381514(0x1aa)](),updateVariantComponents(_0x54fd7c);});}),_0x475080['parentNode'][_0xb7e4f1(0x203)](_0xb7e4f1(0x22b))[_0xb7e4f1(0x276)]('click',function(){var _0x4e9614=_0xb7e4f1,_0x598456=document[_0x4e9614(0x1c9)](_0x4e9614(0x1af)),_0x2cd33f=Date[_0x4e9614(0x15d)]();_0x598456[_0x4e9614(0x144)][_0x4e9614(0x281)]=_0x2cd33f,_0x598456[_0x4e9614(0x210)]=_0x4e9614(0x1c0)+_0x2cd33f+_0x4e9614(0x26f),_0x475080['appendChild'](_0x598456),initProdSearch(_0x598456[_0x4e9614(0x203)](_0x4e9614(0x27e))),_0x598456[_0x4e9614(0x203)]('.prodQty')[_0x4e9614(0x276)](_0x4e9614(0x247),function(){updateVariantComponents(_0x54fd7c);}),_0x598456[_0x4e9614(0x203)]('.removeCombo')[_0x4e9614(0x276)](_0x4e9614(0x16e),function(){var _0x1bffb4=_0x4e9614;_0x598456[_0x1bffb4(0x1aa)](),updateVariantComponents(_0x54fd7c);});});}function updateVariantComponents(_0x4f3679){var _0x302334=_0x50a43a,_0x4a05b6=document[_0x302334(0x24b)](_0x302334(0x1ce)+_0x4f3679+_0x302334(0x134)),_0x3fa5ab=Array['from'](_0x4a05b6['children'])[_0x302334(0x22f)](function(_0x13492f){var _0x3d6b53=_0x302334,_0x367ec0=_0x13492f[_0x3d6b53(0x203)]('.prod_input_container'),_0x419fb6=_0x367ec0['selectedItem'],_0x26b1ab=+_0x13492f['querySelector'](_0x3d6b53(0x193))[_0x3d6b53(0x1b8)]||0x0;return _0x419fb6?{'setItemId':_0x419fb6['id'],'setDescripcion':_0x419fb6['name'],'setCantidad':_0x26b1ab}:null;})[_0x302334(0x1de)](_0x1fdc8e=>_0x1fdc8e);newItems[_0x4f3679][_0x302334(0x270)]=_0x3fa5ab;}function initVariantBranches(_0x3cca5a){var _0x5d5550=_0x50a43a;const _0x2120a3=getAllWarehouses();var _0xd68e9c=document[_0x5d5550(0x24b)](_0x5d5550(0x1ce)+_0x3cca5a+_0x5d5550(0x182));_0xd68e9c['innerHTML']='',newItems[_0x3cca5a][_0x5d5550(0x1d7)]['forEach'](function(_0x548445){var _0x33f655=_0x5d5550,_0x3e3ae2=_0x2120a3[_0x33f655(0x173)](_0x2c3d6b=>_0x2c3d6b[_0x33f655(0x26b)]==_0x548445[_0x33f655(0x1b5)]),_0x25a11f=document[_0x33f655(0x1c9)](_0x33f655(0x1af));_0x25a11f[_0x33f655(0x210)]=_0x33f655(0x236)+_0x548445['setWarehouseCode']+'\x22\x20class=\x22branchChk\x22\x20checked>\x20'+_0x3e3ae2[_0x33f655(0x256)]+_0x33f655(0x1c3)+_0x548445[_0x33f655(0x1b5)]+'\x22\x20value=\x22'+_0x548445[_0x33f655(0x1bb)]+_0x33f655(0x207)+_0x548445['setWarehouseCode']+'\x22\x20value=\x22'+_0x548445[_0x33f655(0x1a3)]+'\x22>',_0xd68e9c[_0x33f655(0x25d)](_0x25a11f),_0x25a11f[_0x33f655(0x214)](_0x33f655(0x247))[_0x33f655(0x14c)](function(_0x2062aa){_0x2062aa['addEventListener']('input',function(){updateVariantBranches(_0x3cca5a);});});}),_0x2120a3[_0x5d5550(0x14c)](function(_0x337fab){var _0x2ad03b=_0x5d5550;if(!newItems[_0x3cca5a][_0x2ad03b(0x1d7)][_0x2ad03b(0x173)](_0x42c23=>_0x42c23[_0x2ad03b(0x1b5)]===_0x337fab[_0x2ad03b(0x26b)])){var _0x5711c0=document[_0x2ad03b(0x1c9)]('div');_0x5711c0[_0x2ad03b(0x210)]=_0x2ad03b(0x236)+_0x337fab['setWarehouseId']+_0x2ad03b(0x1bf)+_0x337fab[_0x2ad03b(0x256)]+'\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x337fab[_0x2ad03b(0x26b)]+'\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22'+_0x337fab[_0x2ad03b(0x26b)]+'\x22>',_0xd68e9c[_0x2ad03b(0x25d)](_0x5711c0),_0x5711c0[_0x2ad03b(0x214)](_0x2ad03b(0x247))[_0x2ad03b(0x14c)](function(_0x1b07f7){var _0x45832c=_0x2ad03b;_0x1b07f7[_0x45832c(0x276)]('input',function(){updateVariantBranches(_0x3cca5a);});});}});}function updateVariantBranches(_0x5705d0){var _0x3e1cf6=_0x50a43a,_0x1ee890=document[_0x3e1cf6(0x24b)](_0x3e1cf6(0x1ce)+_0x5705d0+_0x3e1cf6(0x182)),_0x34e73a=[];_0x1ee890[_0x3e1cf6(0x214)](_0x3e1cf6(0x1af))['forEach'](function(_0x2c997b){var _0xecab6b=_0x3e1cf6,_0x4ad296=_0x2c997b[_0xecab6b(0x203)](_0xecab6b(0x1d3));if(_0x4ad296['checked']){var _0x42b345=+_0x4ad296[_0xecab6b(0x144)]['id'],_0x2083b3=+_0x2c997b[_0xecab6b(0x203)](_0xecab6b(0x1cd))['value']||0x0,_0x3bfeff=+_0x2c997b[_0xecab6b(0x203)](_0xecab6b(0x14f))['value']||0x0;_0x34e73a[_0xecab6b(0x1d9)]({'setWarehouseCode':_0x42b345,'setStockInitial':_0x2083b3,'setStockMinimum':_0x3bfeff});}}),newItems[_0x5705d0][_0x3e1cf6(0x1d7)]=_0x34e73a;}async function storeOfflineProduct(_0x523dc6){var _0x1149de=_0x50a43a;try{const _0x19122e=await createCartStore(''),_0x9d2a62=_0x19122e['transaction'](_0x1149de(0x19d),'readwrite'),_0x58908e=_0x9d2a62[_0x1149de(0x204)](_0x1149de(0x19d));_0x58908e[_0x1149de(0x141)](_0x523dc6),_0x9d2a62['oncomplete']=()=>{var _0x322a01=_0x1149de;console[_0x322a01(0x139)](_0x322a01(0x1fd));},_0x9d2a62[_0x1149de(0x1f4)]=_0x402713=>{var _0x2652e7=_0x1149de;console[_0x2652e7(0x1c4)](_0x2652e7(0x175),_0x402713[_0x2652e7(0x20f)][_0x2652e7(0x1c4)]);};}catch(_0x45adad){console['error'](_0x1149de(0x248),_0x45adad);}}document['getElementById'](_0x50a43a(0x136))[_0x50a43a(0x276)](_0x50a43a(0x16e),async function(_0x59c266){var _0x29a40a=_0x50a43a;_0x59c266['preventDefault']();const _0x31ce50=document[_0x29a40a(0x24b)](_0x29a40a(0x23b)),_0x2ed530=document[_0x29a40a(0x24b)](_0x29a40a(0x1d0))['value'];if(!_0x31ce50[_0x29a40a(0x1b8)][_0x29a40a(0x1c8)]()&&_0x2ed530==0x0){ntfShow('Ingresa\x20el\x20código\x20del\x20item',0x2,0x1);return;}_0x2ed530==0x1&&(_0x31ce50[_0x29a40a(0x1b8)]='',baseItem['setItemCode']='');const _0x1774c2=document[_0x29a40a(0x24b)](_0x29a40a(0x24a));if(!_0x1774c2[_0x29a40a(0x1b8)][_0x29a40a(0x1c8)]()){ntfShow('Ingresa\x20el\x20nombre\x20del\x20item',0x2,0x1);return;}const _0x49a6cb=document['getElementById'](_0x29a40a(0x1a2));hideModalCreateItem(),showLoadingModal();newItems['length']===0x0&&(newItems=[baseItem]);const _0x2e9eb1=document[_0x29a40a(0x24b)]('windowId')[_0x29a40a(0x1b8)],_0x5c8f76=window_options[_0x2e9eb1]['setMoneda'],_0x1019b8=[];newItems[_0x29a40a(0x14c)](_0x5b950f=>{var _0x433318=_0x29a40a;const _0x2fe493=generateNumericUniqId();_0x5b950f[_0x433318(0x215)][_0x433318(0x14c)](_0x364671=>{var _0x351d9b=_0x433318;const _0x2e03e7=generateNumericUniqId();_0x364671[_0x351d9b(0x1ba)]=_0x2e03e7;const _0x498e51={'id':_0x2e03e7,'setIdProducto':_0x2fe493,'setCodProducto':_0x5b950f[_0x351d9b(0x1fc)],'setDescripcion':_0x5b950f[_0x351d9b(0x1ac)],'setItemDescription':_0x5b950f[_0x351d9b(0x178)],'setBatchExpirationDate':_0x5b950f[_0x351d9b(0x22e)],'setBatchName':'','setCategoria':_0x5b950f[_0x351d9b(0x177)][0x0]||'','setMarca':_0x5b950f[_0x351d9b(0x1d6)][0x0]||'','setConversionFactor':parseFloat(_0x364671[_0x351d9b(0x176)]),'setImages':[],'setImg':_0x351d9b(0x138),'setInventariable':0x1,'setItemIsBought':_0x5b950f[_0x351d9b(0x181)]?0x1:0x0,'setItemIsSold':_0x5b950f[_0x351d9b(0x206)]?0x1:0x0,'setPorcentajeIgv':_0x5b950f[_0x351d9b(0x22c)],'setPrinters':[],'setTaxId':_0x5b950f['setItemTaxId'],'setTipAfeIgv':_0x5b950f[_0x351d9b(0x191)],'setUnidad':_0x364671[_0x351d9b(0x261)],'setUnidadCodigo':_0x364671['setUnitCode'],'setItemUnitAlias':_0x364671[_0x351d9b(0x20b)],'currency_data':[{'currency':_0x5c8f76,'setMtoPrecioCostoUnitario':_0x364671['setCost'],'setMtoPrecioUnitario':_0x364671[_0x351d9b(0x1e3)],'setPriceLists':[]}],'sucursales':_0x5b950f[_0x351d9b(0x1d7)][_0x351d9b(0x22f)](_0x298efd=>({'setIdSucursal':_0x298efd['setWarehouseCode'],'setSucursalStock':_0x298efd['setStockInitial'][_0x351d9b(0x162)](),'setWarehouseStockMin':_0x298efd['setStockMinimum'][_0x351d9b(0x162)]()})),'setItemFree':_0x5b950f[_0x351d9b(0x1d0)],'setItemBarCode':_0x5b950f[_0x351d9b(0x194)],'setItemBrands':_0x5b950f[_0x351d9b(0x1d6)][_0x351d9b(0x1c2)](),'setItemCategories':_0x5b950f[_0x351d9b(0x177)]['slice'](),'setItemComponents':_0x5b950f['setItemComponents'][_0x351d9b(0x22f)](_0x54d26d=>({..._0x54d26d})),'setItemImages':_0x5b950f[_0x351d9b(0x196)]['slice'](),'setItemVariantName':_0x5b950f[_0x351d9b(0x180)],'setItemVariantValues':{..._0x5b950f[_0x351d9b(0x26c)]}};_0x1019b8[_0x351d9b(0x1d9)](_0x498e51),(_0x49a6cb['checked']||_0x2ed530==0x1)&&addToCart(_0x498e51);});}),console['log'](_0x29a40a(0x16a),newItems),await finalizeImport(_0x1019b8,newItems,![]);}),[_0x50a43a(0x21d),_0x50a43a(0x239)]['forEach'](_0xb513d5=>dropZone[_0x50a43a(0x276)](_0xb513d5,_0x5c9785=>{var _0xfda87b=_0x50a43a;_0x5c9785['preventDefault'](),dropZone[_0xfda87b(0x209)][_0xfda87b(0x141)](_0xfda87b(0x239));})),['dragleave',_0x50a43a(0x1cc)]['forEach'](_0x11ea89=>dropZone[_0x50a43a(0x276)](_0x11ea89,_0x3b1e2f=>{var _0x1ea55e=_0x50a43a;_0x3b1e2f[_0x1ea55e(0x1e2)](),dropZone['classList'][_0x1ea55e(0x1aa)](_0x1ea55e(0x239));})),dropZone[_0x50a43a(0x276)](_0x50a43a(0x1cc),_0x562668=>{var _0x53282b=_0x50a43a;const _0x47a648=_0x562668['dataTransfer'][_0x53282b(0x1b2)][0x0];if(!_0x47a648)return;fileInput[_0x53282b(0x1b2)]=_0x562668['dataTransfer'][_0x53282b(0x1b2)],dropZone[_0x53282b(0x203)](_0x53282b(0x229))['textContent']=_0x47a648[_0x53282b(0x249)],removeBtn[_0x53282b(0x1df)]=![],fileInput[_0x53282b(0x1d1)](new Event(_0x53282b(0x1c6)));}),removeBtn[_0x50a43a(0x276)](_0x50a43a(0x16e),()=>{var _0x401421=_0x50a43a;fileInput[_0x401421(0x1b8)]='',dropZone[_0x401421(0x203)]('.drop-zone__prompt')[_0x401421(0x13e)]=_0x401421(0x211),removeBtn['hidden']=!![],progressBar[_0x401421(0x1ee)]['display']=_0x401421(0x184),statusDiv['textContent']='',uploadBtn['disabled']=!![];});const exportBtn=document[_0x50a43a(0x24b)](_0x50a43a(0x27d));exportBtn['addEventListener'](_0x50a43a(0x16e),onClickExportarItems);async function onClickExportarItems(){var _0x3bc4db=_0x50a43a;if(!Array[_0x3bc4db(0x280)](products)||!products[_0x3bc4db(0x147)]){ntfShow(_0x3bc4db(0x16f));return;}try{const _0x31adb1=await fetch(_0x3bc4db(0x1ef));if(!_0x31adb1['ok'])throw new Error(_0x3bc4db(0x227));const _0x28d00c=await _0x31adb1[_0x3bc4db(0x27a)](),_0x360ef4=document[_0x3bc4db(0x24b)]('setWarehouseId')[_0x3bc4db(0x1b8)];let _0x2a4d75=products;const _0x250b93=getUserPermissionApiERP(0x2);_0x250b93==0x1&&(_0x2a4d75=products['filter'](_0x123cf2=>Array[_0x3bc4db(0x280)](_0x123cf2[_0x3bc4db(0x205)])&&_0x123cf2[_0x3bc4db(0x205)][_0x3bc4db(0x24c)](_0x3c92dc=>String(_0x3c92dc[_0x3bc4db(0x1e5)])==String(_0x360ef4))));const _0x310452=_0x2a4d75[_0x3bc4db(0x1a9)]((_0x293769,_0x175412)=>{const _0x4bbf37=_0x175412['setIdProducto'];if(!_0x293769[_0x4bbf37])_0x293769[_0x4bbf37]=[];return _0x293769[_0x4bbf37]['push'](_0x175412),_0x293769;},{}),_0x55a293=Object['values'](_0x310452)[_0x3bc4db(0x22f)](_0x39c02a=>{var _0x1cf42e=_0x3bc4db;const _0x134458=_0x39c02a[0x0],_0x3186e4=_0x39c02a[0x1]||{},_0x39cc8b=_0x39c02a[0x2]||{};function _0x35bab6(_0x24b5de,_0x363fd2,_0x1292f2){var _0x4c19da=_0x6dc1;if(!_0x24b5de||!Array[_0x4c19da(0x280)](_0x24b5de[_0x4c19da(0x135)]))return'';const _0x28753c=_0x24b5de[_0x4c19da(0x135)]['find'](_0xd9e070=>_0xd9e070['currency']===_0x363fd2);return _0x28753c?_0x28753c[_0x1292f2]:'';}return{'id':_0x134458[_0x1cf42e(0x186)],'setItemType':_0x134458['setItemType'],'setCodProducto':_0x134458[_0x1cf42e(0x25c)],'setDescripcion':_0x134458['setDescripcion'],'setItemDescription':_0x134458[_0x1cf42e(0x178)],'setItemIsSold':_0x134458[_0x1cf42e(0x206)],'setItemIsBought':_0x134458[_0x1cf42e(0x181)],'setCategoria':_0x134458[_0x1cf42e(0x21b)],'setMarca':_0x134458[_0x1cf42e(0x179)],'setTaxId':_0x134458[_0x1cf42e(0x255)],'setUnitId':_0x134458['id'],'setItemBarCode':_0x134458[_0x1cf42e(0x194)],'setUnidadCodigo':_0x134458[_0x1cf42e(0x160)],'setItemUnitAlias':_0x134458[_0x1cf42e(0x26d)]??'','PEN_setMtoPrecioUnitario':_0x35bab6(_0x134458,'PEN',_0x1cf42e(0x15a)),'PEN_setMtoPrecioCostoUnitario':_0x35bab6(_0x134458,_0x1cf42e(0x1a4),_0x1cf42e(0x1fa)),'USD_setMtoPrecioUnitario':_0x35bab6(_0x134458,'USD',_0x1cf42e(0x15a)),'USD_setMtoPrecioCostoUnitario':_0x35bab6(_0x134458,_0x1cf42e(0x267),_0x1cf42e(0x1fa)),'setItemCommissionPercentage':_0x134458[_0x1cf42e(0x140)]?parseFloat(_0x134458['setItemCommissionPercentage']):'','setUnitId2':_0x3186e4['id']??'','setItemBarCode2':_0x3186e4[_0x1cf42e(0x194)]??'','setUnidadCodigo2':_0x3186e4[_0x1cf42e(0x160)]??'','setItemUnitAlias2':_0x3186e4['setItemUnitAlias']??'','setUnidadEquivalencia2':_0x3186e4[_0x1cf42e(0x1f5)]??'','PEN_setMtoPrecioUnitario2':_0x35bab6(_0x3186e4,_0x1cf42e(0x1a4),_0x1cf42e(0x15a))??'','PEN_setMtoPrecioCostoUnitario2':_0x35bab6(_0x3186e4,_0x1cf42e(0x1a4),'setMtoPrecioCostoUnitario')??'','USD_setMtoPrecioUnitario2':_0x35bab6(_0x3186e4,_0x1cf42e(0x267),_0x1cf42e(0x15a))??'','USD_setMtoPrecioCostoUnitario2':_0x35bab6(_0x3186e4,'USD',_0x1cf42e(0x1fa))??'','setItemCommissionPercentage2':_0x3186e4[_0x1cf42e(0x140)]?parseFloat(_0x3186e4[_0x1cf42e(0x140)]):'','setUnitId3':_0x39cc8b['id']??'','setItemBarCode3':_0x39cc8b[_0x1cf42e(0x194)]??'','setUnidadCodigo3':_0x39cc8b[_0x1cf42e(0x160)]??'','setItemUnitAlias3':_0x39cc8b['setItemUnitAlias']??'','setUnidadEquivalencia3':_0x39cc8b[_0x1cf42e(0x1f5)]??'','PEN_setMtoPrecioUnitario3':_0x35bab6(_0x39cc8b,_0x1cf42e(0x1a4),_0x1cf42e(0x15a))??'','PEN_setMtoPrecioCostoUnitario3':_0x35bab6(_0x39cc8b,_0x1cf42e(0x1a4),_0x1cf42e(0x1fa))??'','USD_setMtoPrecioUnitario3':_0x35bab6(_0x39cc8b,_0x1cf42e(0x267),_0x1cf42e(0x15a))??'','USD_setMtoPrecioCostoUnitario3':_0x35bab6(_0x39cc8b,_0x1cf42e(0x267),_0x1cf42e(0x1fa))??'','setItemCommissionPercentage3':_0x39cc8b[_0x1cf42e(0x140)]?parseFloat(_0x39cc8b[_0x1cf42e(0x140)]):'','setInventariable':_0x134458[_0x1cf42e(0x197)],'setSucursalStock':_0x250b93==0x1?_0x134458[_0x1cf42e(0x205)][_0x1cf42e(0x173)](_0x5ad913=>String(_0x5ad913[_0x1cf42e(0x1e5)])==String(_0x360ef4))[_0x1cf42e(0x1b9)]:'','setWarehouseStockMin':_0x250b93==0x1?_0x134458[_0x1cf42e(0x205)][_0x1cf42e(0x173)](_0x345a85=>String(_0x345a85[_0x1cf42e(0x1e5)])==String(_0x360ef4))[_0x1cf42e(0x1f8)]:'','setBatchName':_0x134458[_0x1cf42e(0x219)],'setBatchExpirationDate':_0x134458[_0x1cf42e(0x143)],..._0x134458['setItemVariantValues']};});try{JSON[_0x3bc4db(0x170)](_0x55a293);}catch(_0x5964bf){console[_0x3bc4db(0x1c4)](_0x3bc4db(0x156),_0x5964bf),ntfShow(_0x3bc4db(0x217));return;}statusDiv[_0x3bc4db(0x13e)]=_0x3bc4db(0x1e9),progressBar[_0x3bc4db(0x1ee)][_0x3bc4db(0x185)]='block',progressBar[_0x3bc4db(0x1b8)]=0x0,itemWorker['postMessage']({'action':_0x3bc4db(0x1e0),'products':_0x55a293,'plantillaBuf':_0x28d00c},[_0x28d00c]);}catch(_0x5ac23b){console[_0x3bc4db(0x1c4)](_0x5ac23b),ntfShow(_0x3bc4db(0x26e)+_0x5ac23b[_0x3bc4db(0x14b)]);}}itemWorker[_0x50a43a(0x233)]=({data:_0x1645c3})=>{var _0x201a0f=_0x50a43a;const {type:_0x585e97,payload:_0x2e1530}=_0x1645c3;_0x585e97===_0x201a0f(0x25f)&&(progressBar['style'][_0x201a0f(0x185)]=_0x201a0f(0x1ed),progressBar[_0x201a0f(0x1b8)]=_0x2e1530[_0x201a0f(0x1a0)],statusDiv[_0x201a0f(0x13e)]=_0x2e1530[_0x201a0f(0x14b)]);_0x585e97==='done'&&(newItemsExcel=_0x2e1530['items'],statusDiv[_0x201a0f(0x13e)]='✅\x20'+newItemsExcel[_0x201a0f(0x147)]+_0x201a0f(0x19e),uploadBtn[_0x201a0f(0x1a6)]=![],progressBar[_0x201a0f(0x1b8)]=0x64,console[_0x201a0f(0x139)](newItemsExcel));_0x585e97===_0x201a0f(0x1c4)&&(statusDiv['textContent']='❌\x20Error:\x20'+_0x2e1530,progressBar[_0x201a0f(0x1ee)][_0x201a0f(0x185)]='none');if(_0x585e97==='exportDone'){const {wbout:_0x15c0bf,count:_0x5ed734}=_0x2e1530,_0x18a072=new Blob([_0x15c0bf],{'type':_0x201a0f(0x1ab)}),_0x40ca60=URL['createObjectURL'](_0x18a072),_0x5e3578=document[_0x201a0f(0x1c9)]('a'),_0x3406b2=new Date()['toISOString']()[_0x201a0f(0x1c2)](0x0,0xa);_0x5e3578[_0x201a0f(0x13b)]='Plantilla-Items-Export-'+_0x3406b2+'.xlsx',_0x5e3578[_0x201a0f(0x171)]=_0x40ca60,_0x5e3578[_0x201a0f(0x16e)](),URL[_0x201a0f(0x155)](_0x40ca60),statusDiv[_0x201a0f(0x13e)]=_0x201a0f(0x224)+_0x5ed734+_0x201a0f(0x1e7),progressBar['style'][_0x201a0f(0x185)]=_0x201a0f(0x184);}},fileInput['addEventListener'](_0x50a43a(0x1c6),async _0x3a589f=>{var _0x64aa62=_0x50a43a;const _0xd08bbf=_0x3a589f[_0x64aa62(0x20f)][_0x64aa62(0x1b2)][0x0];if(!_0xd08bbf)return;uploadBtn[_0x64aa62(0x1a6)]=!![],newItemsExcel=null,statusDiv[_0x64aa62(0x13e)]='',progressBar['style'][_0x64aa62(0x185)]=_0x64aa62(0x184),dropZone[_0x64aa62(0x203)](_0x64aa62(0x229))[_0x64aa62(0x13e)]=_0xd08bbf['name'],removeBtn['hidden']=![];try{const _0x34de09=await _0xd08bbf[_0x64aa62(0x27a)]();itemWorker[_0x64aa62(0x23a)]({'action':_0x64aa62(0x1ff),'buf':_0x34de09,'maxRows':0x1388});}catch(_0x2da194){statusDiv[_0x64aa62(0x13e)]='❌\x20No\x20se\x20pudo\x20leer\x20el\x20archivo.';}finally{fileInput[_0x64aa62(0x1b8)]='';}}),uploadBtn['addEventListener'](_0x50a43a(0x16e),async()=>{var _0x1562e8=_0x50a43a;if(!newItemsExcel)return;hideModalCreateItem(),showLoadingModal();const _0x339279=document['getElementById'](_0x1562e8(0x26b))[_0x1562e8(0x1b8)],_0x40606c=[];newItemsExcel[_0x1562e8(0x14c)](_0x3b2659=>{var _0x2a1ab4=_0x1562e8;const _0x343305=Boolean(_0x3b2659[_0x2a1ab4(0x1eb)]),_0x1e7e2f=_0x343305?_0x3b2659[_0x2a1ab4(0x1eb)]:generateNumericUniqId();_0x3b2659[_0x2a1ab4(0x1d7)]=[{'setStockInitial':_0x3b2659[_0x2a1ab4(0x1bb)],'setStockMinimum':_0x3b2659['setStockMinimum'],'setWarehouseCode':_0x339279}],_0x3b2659[_0x2a1ab4(0x215)][_0x2a1ab4(0x14c)](_0x96a2e7=>{var _0x371a03=_0x2a1ab4;const _0x58ccdf=Boolean(_0x96a2e7[_0x371a03(0x1ba)]),_0x17c267=_0x58ccdf?_0x96a2e7[_0x371a03(0x1ba)]:generateNumericUniqId();_0x96a2e7['setItemUnitId']=_0x17c267;const _0x139ea2=[];_0x139ea2[_0x371a03(0x1d9)]({'currency':'PEN','setMtoPrecioCostoUnitario':_0x96a2e7['setCost'],'setMtoPrecioUnitario':_0x96a2e7[_0x371a03(0x1e3)],'setPriceLists':[]});const _0x379cd8=_0x96a2e7['setCostUSD']!=null&&_0x96a2e7[_0x371a03(0x15c)]!=null&&(!isNaN(_0x96a2e7[_0x371a03(0x1fb)])||!isNaN(_0x96a2e7[_0x371a03(0x15c)]));_0x379cd8&&_0x139ea2[_0x371a03(0x1d9)]({'currency':_0x371a03(0x267),'setMtoPrecioCostoUnitario':_0x96a2e7['setCostUSD'],'setMtoPrecioUnitario':_0x96a2e7[_0x371a03(0x15c)],'setPriceLists':[]});const _0x29ecf1={'id':_0x17c267,'setIdProducto':_0x1e7e2f,'setItemBarCode':_0x96a2e7[_0x371a03(0x194)],'setCodProducto':_0x3b2659[_0x371a03(0x1fc)],'setDescripcion':_0x3b2659[_0x371a03(0x1ac)],'setItemDescription':_0x3b2659['setItemDescription'],'setBatchExpirationDate':_0x3b2659[_0x371a03(0x22e)],'setBatchName':_0x3b2659['setBatchName'],'setItemIsSold':_0x3b2659[_0x371a03(0x206)],'setItemIsBought':_0x3b2659['setItemIsBought'],'setCategoria':_0x3b2659[_0x371a03(0x177)][0x0]||'','setMarca':_0x3b2659[_0x371a03(0x1d6)][0x0]||'','setConversionFactor':parseFloat(_0x96a2e7[_0x371a03(0x176)]),'setImages':[],'setImg':_0x371a03(0x138),'setInventariable':_0x3b2659[_0x371a03(0x146)],'setPorcentajeIgv':_0x3b2659[_0x371a03(0x22c)],'setPrinters':[],'setTaxId':_0x3b2659['setItemTaxId'],'setTipAfeIgv':_0x3b2659[_0x371a03(0x191)],'setUnidad':_0x96a2e7[_0x371a03(0x261)],'setUnidadCodigo':_0x96a2e7[_0x371a03(0x261)],'setItemUnitAlias':_0x96a2e7[_0x371a03(0x20b)],'setItemCommissionPercentage':_0x96a2e7[_0x371a03(0x140)],'currency_data':_0x139ea2,'sucursales':_0x3b2659[_0x371a03(0x1d7)][_0x371a03(0x22f)](_0x4ab2f8=>({'setIdSucursal':_0x4ab2f8[_0x371a03(0x1b5)],'setSucursalStock':_0x4ab2f8[_0x371a03(0x1bb)][_0x371a03(0x162)](),'setWarehouseStockMin':_0x4ab2f8['setStockMinimum'][_0x371a03(0x162)]()})),'setItemFree':_0x3b2659[_0x371a03(0x1d0)],'setItemBrands':_0x3b2659[_0x371a03(0x1d6)][_0x371a03(0x1c2)](),'setItemCategories':_0x3b2659[_0x371a03(0x177)][_0x371a03(0x1c2)](),'setItemComponents':_0x3b2659[_0x371a03(0x270)]['map'](_0x328014=>({..._0x328014})),'setItemImages':_0x3b2659[_0x371a03(0x196)][_0x371a03(0x1c2)](),'setItemVariantName':_0x3b2659[_0x371a03(0x180)],'setItemVariantValues':{..._0x3b2659['setItemVariantValues']}},_0x562d81=products[_0x371a03(0x1da)](_0x5dfb34=>_0x5dfb34['id']==_0x17c267&&_0x5dfb34['setIdProducto']==_0x1e7e2f);_0x562d81>-0x1?Object[_0x371a03(0x27c)](products[_0x562d81],_0x29ecf1):_0x40606c[_0x371a03(0x1d9)](_0x29ecf1);});}),console['log'](_0x1562e8(0x16a),newItemsExcel),await finalizeImport(_0x40606c,newItemsExcel,!![]);});function initializeFormImages(){var _0x15c2e1=_0x50a43a;currentImages=Array(MAX_IMAGES)['fill'](null),imgC[_0x15c2e1(0x210)]='',baseItem[_0x15c2e1(0x196)]=[];for(var _0x173c7a=0x0;_0x173c7a<MAX_IMAGES;_0x173c7a++){(function(_0x312019){var _0x334f8a=_0x15c2e1,_0x3ad514=document['createElement'](_0x334f8a(0x1af));_0x3ad514[_0x334f8a(0x21c)]=_0x334f8a(0x208),_0x3ad514[_0x334f8a(0x144)]['idx']=_0x312019;var _0x49a8eb=document[_0x334f8a(0x1c9)]('input');_0x49a8eb[_0x334f8a(0x25e)]=_0x334f8a(0x20c),_0x49a8eb[_0x334f8a(0x1c1)]=_0x334f8a(0x1dc),_0x49a8eb[_0x334f8a(0x1ee)][_0x334f8a(0x185)]=_0x334f8a(0x184);var _0x49afcf=document[_0x334f8a(0x1c9)](_0x334f8a(0x168));_0x49afcf[_0x334f8a(0x13e)]='+',_0x3ad514[_0x334f8a(0x25d)](_0x49a8eb),_0x3ad514[_0x334f8a(0x25d)](_0x49afcf),imgC['appendChild'](_0x3ad514),_0x3ad514[_0x334f8a(0x276)](_0x334f8a(0x16e),function(){var _0x2380a9=_0x334f8a;_0x49a8eb[_0x2380a9(0x16e)]();}),_0x49a8eb[_0x334f8a(0x276)](_0x334f8a(0x1c6),function(_0x58e19e){var _0x8f6a86=_0x334f8a,_0x410515=_0x58e19e[_0x8f6a86(0x20f)][_0x8f6a86(0x1b2)][0x0];if(!_0x410515)return removeImg(_0x312019);var _0x586bd5=new FileReader();_0x586bd5['onload']=function(_0x3de5e0){var _0x3210b7=_0x8f6a86;_0x3ad514[_0x3210b7(0x210)]=_0x3210b7(0x262)+_0x3de5e0['target'][_0x3210b7(0x190)]+'\x22>';var _0x1b6f8b=document[_0x3210b7(0x1c9)]('span');_0x1b6f8b[_0x3210b7(0x21c)]=_0x3210b7(0x1aa),_0x1b6f8b['textContent']='×',_0x1b6f8b['addEventListener'](_0x3210b7(0x16e),function(_0x515e4c){_0x515e4c['stopPropagation'](),removeImg(_0x312019);}),_0x3ad514[_0x3210b7(0x25d)](_0x1b6f8b),currentImages[_0x312019]=_0x410515,baseItem[_0x3210b7(0x196)]=currentImages['filter'](function(_0x4f3d91){return _0x4f3d91;});},_0x586bd5['readAsDataURL'](_0x410515);});}(_0x173c7a));}}function initializeFormIsSoldIsBought(_0xa0d6fa=0x0){var _0x3b7dd8=_0x50a43a;let _0x106672,_0x143c89;if(_0xa0d6fa!=0x0){const _0x472d90=products['find'](_0x3a7f35=>_0x3a7f35['id']==_0xa0d6fa);_0x106672=_0x472d90['setItemIsBought']==0x1||_0x472d90['setItemIsBought']==!![]?!![]:![],_0x143c89=_0x472d90['setItemIsSold']==0x1||_0x472d90['setItemIsSold']==!![]?!![]:![];}else _0x106672=!![],_0x143c89=!![];document[_0x3b7dd8(0x24b)]('newItem_chk_buy')[_0x3b7dd8(0x18a)]=_0x106672,document[_0x3b7dd8(0x24b)](_0x3b7dd8(0x263))['checked']=_0x143c89,baseItem[_0x3b7dd8(0x181)]=_0x106672,baseItem['setItemIsSold']=_0x143c89;}function initializeFormInputsBasic(_0x46d5c3=0x0){var _0x163fe8=_0x50a43a;let _0x19fd6d,_0xd31b1c,_0x12ebd6,_0x547eca,_0x107d59,_0x19c5b0;if(_0x46d5c3!=0x0){const _0x4eaf33=products[_0x163fe8(0x173)](_0x552f4a=>_0x552f4a['id']==_0x46d5c3);_0x19fd6d=_0x4eaf33[_0x163fe8(0x1c7)]??'1',_0xd31b1c=_0x4eaf33[_0x163fe8(0x25c)],_0x12ebd6=_0x4eaf33[_0x163fe8(0x1e1)],_0x547eca=_0x4eaf33[_0x163fe8(0x178)],_0x107d59=_0x4eaf33['setBatchExpirationDate']??'',_0x19c5b0=_0x4eaf33[_0x163fe8(0x194)];}else _0x19fd6d='1',_0xd31b1c=getNextCode(products),_0x12ebd6='',_0x547eca='',_0x107d59='',_0x19c5b0='';document[_0x163fe8(0x24b)](_0x163fe8(0x188))[_0x163fe8(0x1b8)]=_0x19fd6d,document[_0x163fe8(0x24b)]('inputItemCode')[_0x163fe8(0x1b8)]=_0xd31b1c,document[_0x163fe8(0x24b)]('inputItemName')[_0x163fe8(0x1b8)]=_0x12ebd6,document['getElementById'](_0x163fe8(0x257))[_0x163fe8(0x1b8)]=_0x547eca,document[_0x163fe8(0x24b)]('inputItemDateExpiry')[_0x163fe8(0x1b8)]=_0x107d59,document['getElementById'](_0x163fe8(0x1bd))['value']=_0x19c5b0,baseItem[_0x163fe8(0x1c7)]=_0x19fd6d,baseItem[_0x163fe8(0x1fc)]=_0xd31b1c,baseItem[_0x163fe8(0x1ac)]=_0x12ebd6,baseItem[_0x163fe8(0x178)]=_0x547eca,baseItem[_0x163fe8(0x22e)]=_0x107d59,baseItem[_0x163fe8(0x194)]=_0x19c5b0,document[_0x163fe8(0x24b)]('newItem_addToCart')['checked']=![];}function initializeFormTax(_0x3fb20e=0x0){var _0x4ac0be=_0x50a43a;let _0x11d2f4;if(_0x3fb20e!=0x0){const _0x165535=products[_0x4ac0be(0x173)](_0x10d0f4=>_0x10d0f4['id']==_0x3fb20e);_0x11d2f4=_0x165535[_0x4ac0be(0x255)];}else _0x11d2f4=myCompany[_0x4ac0be(0x1d5)];const _0x3710c2=document[_0x4ac0be(0x24b)](_0x4ac0be(0x148));_0x3710c2[_0x4ac0be(0x1b8)]=_0x11d2f4,baseItem['setItemTaxId']=_0x11d2f4;const _0x10fee9=company[0x0][_0x4ac0be(0x260)][_0x4ac0be(0x173)](_0x214114=>_0x214114[_0x4ac0be(0x255)]==_0x11d2f4)?.[_0x4ac0be(0x18f)]||0x0,_0x2d7894=company[0x0]['setImpuestos'][_0x4ac0be(0x173)](_0x3d180c=>_0x3d180c[_0x4ac0be(0x255)]==_0x11d2f4)?.[_0x4ac0be(0x15e)]||0x0;baseItem['setItemTaxCode']=_0x10fee9,baseItem['setItemTaxValue']=_0x2d7894;}function initializeFormCategoriesBrands(_0xc42bf7=0x0){var _0x55bf68=_0x50a43a;baseItem['setItemCategories']=[],baseItem[_0x55bf68(0x1d6)]=[],document[_0x55bf68(0x203)](_0x55bf68(0x15f))[_0x55bf68(0x210)]='',document['querySelector'](_0x55bf68(0x27f))[_0x55bf68(0x210)]='',document[_0x55bf68(0x203)](_0x55bf68(0x275))['innerHTML']='',document['querySelector']('#newItem_brands_select\x20.options_list')[_0x55bf68(0x210)]='';const _0x22a02c=myCompany[_0x55bf68(0x177)]['map'](_0x422248=>({'setCode':_0x422248[_0x55bf68(0x1b6)],'setName':_0x422248['setItemCategoryName']})),_0xda4594=myCompany[_0x55bf68(0x1d6)]['map'](_0x49127a=>({'setCode':_0x49127a['setItemBrandName'],'setName':_0x49127a[_0x55bf68(0x19b)]}));initMulti('newItem_categories_select',_0x22a02c),initMulti(_0x55bf68(0x13d),_0xda4594),document[_0x55bf68(0x24b)](_0x55bf68(0x1cf))[_0x55bf68(0x276)]('selectionChange',function(_0x78b21a){var _0x4c83d2=_0x55bf68;baseItem[_0x4c83d2(0x177)]=_0x78b21a[_0x4c83d2(0x17e)][_0x4c83d2(0x22f)](_0x4d61b0=>_0x4d61b0['setCode']);}),document[_0x55bf68(0x24b)](_0x55bf68(0x13d))[_0x55bf68(0x276)](_0x55bf68(0x1ae),function(_0xc27f8b){var _0x1baa8f=_0x55bf68;baseItem['setItemBrands']=_0xc27f8b[_0x1baa8f(0x17e)]['map'](_0x497730=>_0x497730[_0x1baa8f(0x189)]);});if(_0xc42bf7!=0x0){const _0x254c89=products[_0x55bf68(0x173)](_0x182545=>_0x182545['id']==_0xc42bf7);if(_0x254c89[_0x55bf68(0x21b)]){const _0x4e78d6=document[_0x55bf68(0x24b)](_0x55bf68(0x1cf)),_0x4df3e6=Array[_0x55bf68(0x21e)](_0x4e78d6['querySelectorAll'](_0x55bf68(0x159)))[_0x55bf68(0x173)](_0x294363=>_0x294363[_0x55bf68(0x144)][_0x55bf68(0x192)]==_0x254c89[_0x55bf68(0x21b)]);_0x4df3e6&&_0x4df3e6[_0x55bf68(0x16e)]();}if(_0x254c89['setMarca']){const _0x284fb2=document[_0x55bf68(0x24b)](_0x55bf68(0x13d)),_0x2f6cc8=Array[_0x55bf68(0x21e)](_0x284fb2[_0x55bf68(0x214)](_0x55bf68(0x159)))[_0x55bf68(0x173)](_0xa7db9d=>_0xa7db9d[_0x55bf68(0x144)][_0x55bf68(0x192)]==_0x254c89['setMarca']);_0x2f6cc8&&_0x2f6cc8[_0x55bf68(0x16e)]();}}}function initializeFormUnits(){var _0x386685=_0x50a43a;unitCount=0x0,document[_0x386685(0x24b)]('newItem_units_container')[_0x386685(0x210)]='',baseItem[_0x386685(0x215)]=[];var _0x36be0c=uniqueValuesArray(_0x386685(0x261),_0x386685(0x264),myCompany[_0x386685(0x277)]);addUnit('',_0x36be0c[0x3a]&&_0x36be0c[0x3a]['setCode'],0x1,!![]),updateUnitsArray();}function _0x5325(){var _0x5a8b3b=['dispatchEvent','max','.branchChk','[id$=\x22_comp_container\x22]','setTaxIdDefault','setItemBrands','setItemWarehouses','.removeVariant','push','findIndex','constructor','image/*','.eqInput','filter','hidden','exportItems','setDescripcion','preventDefault','setPrice','</label>\x0a<button\x20class=\x22removeVariant\x20btn-none\x22>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>\x0a</div>\x0a\x0a<!--\x20BLOCK\x20-->\x0a<div\x20class=\x22newItem_section\x20newItem_row\x22>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>Código:</label>\x0a<input\x20class=\x22variantCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22SKU:\x22\x20value=\x22','setIdSucursal','priceInput','\x20items.','1807008SZjjKC','Generando\x20Excel...','newItem_chk_buy','setItemId','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20data-idx=\x22','block','style','./excel/Plantilla-Items.xlsx','remove-file','3cjgKUn','<button\x20class=\x22removeGroup\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','keydown','onerror','setConversionFactor','parentNode','12522008cIFLZz','setWarehouseStockMin','29180Rrazmx','setMtoPrecioCostoUnitario','setCostUSD','setItemCode','Producto\x20Guardado\x20Offline\x20Correctamente.','apply','import','includes','productType1','\x22>\x0a<input\x20type=\x22number\x22\x20class=\x22costInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Costo\x22\x20data-idx=\x22','querySelector','objectStore','sucursales','setItemIsSold','\x22>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','image_box','classList','info','setAlias','file','328307JbIpMj','setCantidad','target','innerHTML','Arrastra\x20tu\x20Excel\x20aquí\x20o\x20haz\x20clic\x20para\x20seleccionar','toLowerCase','>\x0a<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>\x0a</button>','querySelectorAll','setItemUnits','_units_container','Error:\x20algunos\x20productos\x20no\x20son\x20serializables.\x20Revisa\x20la\x20consola.','.costInput','setBatchName','bind','setCategoria','className','dragenter','from','newItem_title_table','.removeProd','selected','key','option','✅\x20Exportación\x20completada:\x20','.removeGroup','parse','No\x20se\x20pudo\x20descargar\x20la\x20plantilla\x20Excel.','[data-idx=\x22','.drop-zone__prompt','\x22></select>\x0a<input\x20type=\x22number\x22\x20class=\x22eqInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Equiv.\x20a\x20principal\x22\x20data-idx=\x22','.addVariantComp','setItemTaxValue','(((.+)+)+)+$','setItemDateExpiry','map','_units_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantComponents\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Componentes</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantComp\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','tag','every','onmessage','test','join','\x0a<label\x20class=\x22newItem-span-min\x20div-width-35\x22>\x0a<input\x20type=\x22checkbox\x22\x20data-id=\x22','9720612JIIaWm','div[data-default=\x22true\x22]\x20.eqInput','dragover','postMessage','inputItemCode','contains','costInput','newItem_units_container','.ms_input','Producto\x20Libre','compare','prototype','string','.unitAlias','setCost','670313ncGcWh','input','Error\x20al\x20procesar\x20la\x20operación:','name','inputItemName','getElementById','some','¡Enhorabuena!\x20el\x20código\x20ingresado\x20está\x20disponible!','<label\x20class=\x22newItem-span-min\x22><input\x20type=\x22checkbox\x22\x20data-id=\x22','<input\x20class=\x22vgName\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Nombre\x20Variante\x22\x20data-idx=\x22','split','newItem_images_container','El\x20código\x20ya\x20se\x20encuentra\x20registrado,\x20el\x20último\x20código\x20registrado\x20es:\x20','warn','#newItem_branches_container\x20>\x20div','setTaxId','setWarehouseName','inputItemDescription','newItem_btn_addVariantGroup','__proto__','exception','.vgVals','setCodProducto','appendChild','type','progress','setImpuestos','setUnitCode','<img\x20src=\x22','newItem_chk_sell','setUnitName','newItem_hidden','.selected_tags','USD','\x0a<div\x20class=\x22variant_header\x22>\x0a<label\x20class=\x22variant_header_span\x22>','\x22>\x0a<select\x20class=\x22unitSelect\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-idx=\x22','\x22>\x0a<button\x20class=\x22removeProd\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22></button>','setWarehouseId','setItemVariantValues','setItemUnitAlias','Error\x20al\x20obtener\x20la\x20plantilla:\x20','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22>\x0a<button\x20class=\x22removeCombo\x20btn-none\x22><img\x20src=\x22./img/icon-trash.svg\x22\x20class=\x22img-delete-card\x22></button>','setItemComponents','#newItem_units_container\x20>\x20div','base','.unitSelect','<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Mínimo\x22\x20class=\x22branchMin\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20\x20data-id=\x22','#newItem_brands_select\x20.selected_tags','addEventListener','setUnits','Collator','active','arrayBuffer','eqInput','assign','btnExportarItems','.prod_input_container','#newItem_categories_select\x20.options_list','isArray','idx','modalOverlayCreateItem','getElementsByClassName','_comp_container','currency_data','btnItemSave','>\x0a<input\x20type=\x22number\x22\x20class=\x22priceInput\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Precio\x22\x20data-idx=\x22','./img/product.png','log','5183310rfcvUo','download','padStart','newItem_brands_select','textContent','.vgName','setItemCommissionPercentage','add','splice','setBatchExpirationDate','dataset','📦\x20¡Enohabuena!\x20Items\x20subidos\x20correctamente.','setItemInventoriable','length','inputItemTax','newItem_variants_forms','unitSelect','message','forEach','toggle','trace','.branchMin','blur','.removeCombo','\x22>\x0a</div>\x0a<div\x20class=\x22newItem_col\x22>\x0a<label\x20class=\x22newItem-span-min\x22>BarCode:</label>\x0a<input\x20class=\x22variantBarCode\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20type=\x22text\x22\x20placeholder=\x22BarCode:\x22\x20value=\x22','</div>','<input\x20class=\x22unitAlias\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Alias\x22\x20data-idx=\x22','revokeObjectURL','ERROR:\x20plainProducts\x20no\x20serializable:','.variantBarCode','console','.options_list\x20div','setMtoPrecioUnitario','upload-btn','setPriceUSD','now','setImpuestoValue','#newItem_categories_select\x20.selected_tags','setUnidadCodigo','drop-zone','toString','newItem_title_table_cp','true','closest','.variantExpiry','defineProperty','span','entries','Items\x20finales:','setEquivalence','status','detalleModalCreateItem','click','No\x20hay\x20items\x20para\x20exportar.','stringify','href','<div\x20class=\x22newItem_col\x22>','find','stopPropagation','Error\x20al\x20guardar\x20Producto\x20Offline:','setFactor','setItemCategories','setItemDescription','setMarca','setAuthToken','setName','children','.prodInput','detail','newItem_btn_addUnit','setItemVariantName','setItemIsBought','_branch_container','currentTarget','none','display','setIdProducto','inputItemDateExpiry','inputItemType','setCode','checked','.removeUnit','\x22\x20class=\x22branchChk\x22\x20checked>\x20','sort','default','setImpuestoCode','result','setItemTaxCode','code','.prodQty','setItemBarCode','search','setItemImages','setInventariable','.addVariantUnit','\x22>\x0a<input\x20type=\x22text\x22\x20placeholder=\x22Buscar...\x22\x20class=\x22prodInput\x20ms_input\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22>\x0a<div\x20class=\x22options_list\x20newItem_hidden\x22></div>\x0a</div>\x0a<input\x20type=\x22number\x22\x20class=\x22prodQty\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-20\x22\x20placeholder=\x22Cantidad\x22\x20value=\x22','focus','setItemBrandName','undefined','offline_operations','\x20items\x20procesados.','selectedItem','percent','mousedown','newItem_addToCart','setStockMinimum','PEN','./js/apierp_item_wk.min.js','disabled','100','_comp_container\x22\x20class=\x22newItem_list\x22></div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantBranches\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Almacenes</label>\x0a<div\x20id=\x22variant_','reduce','remove','application/octet-stream','setItemName','newItem_variant_groups','selectionChange','div','.priceInput','.options_list','files','Enter','\x22\x20value=\x22','setWarehouseCode','setItemCategoryName','modalProductNewTitle','value','setSucursalStock','setItemUnitId','setStockInitial','<input\x20class=\x22vgVals\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20placeholder=\x22Valores\x20(coma)\x22\x20data-idx=\x22','inputItemBarCode','\x22>\x0a</div>\x0a</div>\x0a<div\x20class=\x22variant_subsection\x20variantUnits\x20mt-2\x22>\x0a<label\x20class=\x22newItem-label\x22>Unidades</label>\x0a<button\x20type=\x22button\x22\x20class=\x22addVariantUnit\x20newItem_btn\x22>+</button>\x0a<div\x20id=\x22variant_','\x22\x20class=\x22branchChk\x22>\x20','\x0a<div\x20class=\x22multi_select\x20prod_input_container\x20div-width-80\x22\x20data-idx=\x22','accept','slice','\x0a</label>\x0a<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x20div-width-30\x22\x20data-id=\x22','error','file-input','change','setItemType','trim','createElement','Nuevo\x20Producto','newItem_branches_container','drop','.branchInit','variant_','newItem_categories_select','setItemFree'];_0x5325=function(){return _0x5a8b3b;};return _0x5325();}function initializeFormComponents(){var _0x42c5ed=_0x50a43a;prodC[_0x42c5ed(0x210)]='',baseItem[_0x42c5ed(0x270)]=[],updateProdItems();}function initializeFormWarehouses(){var _0xf91956=_0x50a43a;branchesC[_0xf91956(0x210)]='',baseItem[_0xf91956(0x1d7)]=[];const _0x4e6ee5=getAllWarehouses();_0x4e6ee5[_0xf91956(0x14c)](function(_0x2d1c91){var _0x10e400=_0xf91956,_0x5c8820=document[_0x10e400(0x1c9)](_0x10e400(0x1af));_0x5c8820[_0x10e400(0x210)]='<div\x20class=\x22newItem_section\x20newItem_row\x20div-width-100\x22>'+'<div\x20class=\x22newItem_col\x22>'+_0x10e400(0x24e)+_0x2d1c91[_0x10e400(0x26b)]+_0x10e400(0x18c)+_0x2d1c91[_0x10e400(0x256)]+'</label>'+_0x10e400(0x153)+'<div\x20class=\x22newItem_col\x22>'+'<input\x20type=\x22number\x22\x20placeholder=\x22Stock\x20Inicial\x22\x20class=\x22branchInit\x20form-control\x20custom-input-cart-options\x20shift-open-input\x22\x20data-id=\x22'+_0x2d1c91[_0x10e400(0x26b)]+'\x22>'+_0x10e400(0x153)+_0x10e400(0x172)+_0x10e400(0x274)+_0x2d1c91[_0x10e400(0x26b)]+'\x22>'+'</div>'+_0x10e400(0x153),branchesC[_0x10e400(0x25d)](_0x5c8820),_0x5c8820[_0x10e400(0x214)](_0x10e400(0x247))[_0x10e400(0x14c)](function(_0x39f878){var _0x3b46d2=_0x10e400;_0x39f878[_0x3b46d2(0x276)](_0x3b46d2(0x247),updateBranches);});}),updateBranches();}function initializeFormVariants(){var _0x495bb7=_0x50a43a;baseItem[_0x495bb7(0x180)]='',baseItem[_0x495bb7(0x26c)]={},vgC['innerHTML']='',varContainer['innerHTML']='',vgCount=0x0,newItems=[baseItem];}function resetNewItemForm(){initializeFormImages(),initializeFormIsSoldIsBought(),initializeFormInputsBasic(),initializeFormTax(),initializeFormCategoriesBrands(),initializeFormUnits(),initializeFormComponents(),initializeFormWarehouses(),initializeFormVariants();}async function finalizeImport(_0x2e85ae,_0x5cd9c0,_0x2d2a2b=![]){var _0x4a3d9d=_0x50a43a;const _0x4e2a2f=0xc8,_0x48a296={'apiPOSsendOffline':'1','setTipoOperacion':_0x4a3d9d(0x1a7),'setToken':company[0x0][_0x4a3d9d(0x17a)],'setWebhook':company[0x0]['setWebhook']};for(let _0x19f23c=0x0;_0x19f23c<_0x5cd9c0[_0x4a3d9d(0x147)];_0x19f23c+=_0x4e2a2f){const _0xbd6966=_0x5cd9c0[_0x4a3d9d(0x1c2)](_0x19f23c,_0x19f23c+_0x4e2a2f);await storeOfflineProduct({..._0x48a296,'newItems':_0xbd6966});}products[_0x4a3d9d(0x1d9)](..._0x2e85ae),await RefreshProductsToIndexedDB(),await renderProducts(),initializeCategorys(),hideLoadingModal(),ntfShow(_0x4a3d9d(0x145)),_0x2d2a2b?(fileInput[_0x4a3d9d(0x1b8)]='',uploadBtn[_0x4a3d9d(0x1a6)]=!![],statusDiv[_0x4a3d9d(0x13e)]='',progressBar[_0x4a3d9d(0x1ee)][_0x4a3d9d(0x185)]=_0x4a3d9d(0x184),progressBar[_0x4a3d9d(0x1b8)]=0x0):resetNewItemForm(),renderProducts(),processOfflineOperations();}