/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.4
*/

function _0x1368(_0x392a41,_0x5abaef){var _0xe73fb1=_0x2c51();return _0x1368=function(_0x12b4f4,_0x3e62e6){_0x12b4f4=_0x12b4f4-0x1a2;var _0x119c71=_0xe73fb1[_0x12b4f4];return _0x119c71;},_0x1368(_0x392a41,_0x5abaef);}(function(_0x326ae3,_0x13eaf1){var _0x3f6b1=_0x1368,_0x18a09b=_0x326ae3();while(!![]){try{var _0xc04c83=-parseInt(_0x3f6b1(0x1a4))/0x1*(-parseInt(_0x3f6b1(0x1a3))/0x2)+-parseInt(_0x3f6b1(0x1d7))/0x3*(-parseInt(_0x3f6b1(0x211))/0x4)+-parseInt(_0x3f6b1(0x1c4))/0x5*(-parseInt(_0x3f6b1(0x1b3))/0x6)+-parseInt(_0x3f6b1(0x1bb))/0x7+-parseInt(_0x3f6b1(0x1e4))/0x8*(-parseInt(_0x3f6b1(0x1ab))/0x9)+parseInt(_0x3f6b1(0x1e6))/0xa+-parseInt(_0x3f6b1(0x202))/0xb*(parseInt(_0x3f6b1(0x1d1))/0xc);if(_0xc04c83===_0x13eaf1)break;else _0x18a09b['push'](_0x18a09b['shift']());}catch(_0x59e5d3){_0x18a09b['push'](_0x18a09b['shift']());}}}(_0x2c51,0x71be8));var _0x4de899=(function(){var _0x26e724=!![];return function(_0xd4646d,_0x423402){var _0x58812b=_0x26e724?function(){var _0x1873db=_0x1368;if(_0x423402){var _0x38ca0b=_0x423402[_0x1873db(0x1a9)](_0xd4646d,arguments);return _0x423402=null,_0x38ca0b;}}:function(){};return _0x26e724=![],_0x58812b;};}()),_0x5ee029=_0x4de899(this,function(){var _0x23b020=_0x1368;return _0x5ee029['toString']()[_0x23b020(0x1c8)]('(((.+)+)+)+$')[_0x23b020(0x1e3)]()['constructor'](_0x5ee029)['search'](_0x23b020(0x1e9));});_0x5ee029();var _0x3e62e6=(function(){var _0x4c2a0f=!![];return function(_0x56ebaa,_0x5a6ae4){var _0x4d6505=_0x4c2a0f?function(){var _0x34742c=_0x1368;if(_0x5a6ae4){var _0x2ecc22=_0x5a6ae4[_0x34742c(0x1a9)](_0x56ebaa,arguments);return _0x5a6ae4=null,_0x2ecc22;}}:function(){};return _0x4c2a0f=![],_0x4d6505;};}()),_0x12b4f4=_0x3e62e6(this,function(){var _0x1c5cc8=_0x1368,_0x27ec11;try{var _0x4cd807=Function('return\x20(function()\x20'+_0x1c5cc8(0x213)+');');_0x27ec11=_0x4cd807();}catch(_0xc142c3){_0x27ec11=window;}var _0x1bab1a=_0x27ec11['console']=_0x27ec11[_0x1c5cc8(0x1b6)]||{},_0x1ac540=[_0x1c5cc8(0x1b9),_0x1c5cc8(0x1f7),_0x1c5cc8(0x1b5),_0x1c5cc8(0x1ae),_0x1c5cc8(0x1c9),'table',_0x1c5cc8(0x217)];for(var _0x2e8c43=0x0;_0x2e8c43<_0x1ac540['length'];_0x2e8c43++){var _0x4fd85=_0x3e62e6[_0x1c5cc8(0x1c5)][_0x1c5cc8(0x1b7)][_0x1c5cc8(0x206)](_0x3e62e6),_0x475678=_0x1ac540[_0x2e8c43],_0x4263b4=_0x1bab1a[_0x475678]||_0x4fd85;_0x4fd85[_0x1c5cc8(0x1c7)]=_0x3e62e6['bind'](_0x3e62e6),_0x4fd85[_0x1c5cc8(0x1e3)]=_0x4263b4[_0x1c5cc8(0x1e3)][_0x1c5cc8(0x206)](_0x4263b4),_0x1bab1a[_0x475678]=_0x4fd85;}});_0x12b4f4();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0x4b2cea,_0x425713){var _0xfa6766=_0x1368;if(!isOnline())return console[_0xfa6766(0x1b9)]('Error\x20Network.'),Promise[_0xfa6766(0x205)](_0xfa6766(0x1f3));const _0x471cc2={'setAuthToken':_0x4b2cea,'setUsers':_0x425713};return fetch(_0xfa6766(0x1cc),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0xfa6766(0x210)](_0x471cc2)})['then'](_0xef6e31=>{var _0x433688=_0xfa6766;if(!_0xef6e31['ok'])throw new Error(_0x433688(0x20d)+_0xef6e31[_0x433688(0x1f4)]);return _0xef6e31[_0x433688(0x1e1)]();})['then'](_0x3d05fa=>{var _0x453276=_0xfa6766;if(!_0x3d05fa[_0x453276(0x1f6)])throw new Error(_0x3d05fa[_0x453276(0x1f9)]||_0x453276(0x1ee));return console[_0x453276(0x1b9)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x3d05fa;})['catch'](_0x34e688=>{console['error']('Error\x20al\x20actualizar\x20data\x20online:',_0x34e688);throw _0x34e688;});}async function apiERPsyncUsers(){var _0x4e5b24=_0x1368;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x4e5b24(0x1cd)],company[0x0][_0x4e5b24(0x1c3)]));}function generatePermissionsPanel(_0x2dab56){var _0x45713c=_0x1368,_0x5236ad=document[_0x45713c(0x1a2)](_0x45713c(0x208));_0x5236ad[_0x45713c(0x1ed)]='';var _0x1102a2=_0x2dab56[0x0]&&_0x2dab56[0x0][_0x45713c(0x1c3)]||[],_0x44c54d=_0x2dab56[0x0]&&_0x2dab56[0x0][_0x45713c(0x1af)]||[];for(var _0x457908=0x0;_0x457908<_0x1102a2[_0x45713c(0x1cf)];_0x457908++){var _0x54623f=_0x1102a2[_0x457908],_0x490cb9=document[_0x45713c(0x1e5)](_0x45713c(0x1eb));_0x490cb9['className']=_0x45713c(0x1d4),_0x490cb9['id']=_0x45713c(0x216)+_0x457908;var _0x1c319e=document[_0x45713c(0x1e5)]('h3');_0x1c319e[_0x45713c(0x1f2)]=_0x45713c(0x201),_0x1c319e[_0x45713c(0x1c1)]=_0x54623f[_0x45713c(0x1fc)]||_0x45713c(0x207)+(_0x457908+0x1),_0x490cb9[_0x45713c(0x20e)](_0x1c319e);var _0x3e9bd6=document[_0x45713c(0x1e5)](_0x45713c(0x1eb));_0x3e9bd6[_0x45713c(0x1f2)]=_0x45713c(0x1fe);for(var _0x2c63a0=0x0;_0x2c63a0<_0x54623f[_0x45713c(0x1ca)][_0x45713c(0x1cf)];_0x2c63a0++){var _0x11a818=_0x54623f['setPermissions'][_0x2c63a0],_0x2569ab=document[_0x45713c(0x1e5)](_0x45713c(0x1eb));_0x2569ab[_0x45713c(0x1f2)]=_0x45713c(0x1fd),_0x2569ab[_0x45713c(0x1f5)][_0x45713c(0x1d8)]=_0x457908,_0x2569ab[_0x45713c(0x1f5)][_0x45713c(0x1ac)]=_0x2c63a0;var _0x3e0bf7=Number(_0x11a818[_0x45713c(0x1f8)]),_0x529a43=document[_0x45713c(0x1e5)]('select');_0x529a43['className']=_0x45713c(0x1ec),_0x529a43['disabled']=!![];if(BOOLEAN_PERMS[_0x45713c(0x1e8)](_0x11a818[_0x45713c(0x209)])!==-0x1){var _0x410b19=document[_0x45713c(0x1e5)](_0x45713c(0x1f1));_0x410b19[_0x45713c(0x1ea)]='0',_0x410b19['textContent']=_0x11a818[_0x45713c(0x1d6)],_0x529a43[_0x45713c(0x20e)](_0x410b19);var _0x432461=document['createElement']('option');_0x432461[_0x45713c(0x1ea)]='1',_0x432461[_0x45713c(0x1c1)]=_0x11a818[_0x45713c(0x1b8)],_0x529a43[_0x45713c(0x20e)](_0x432461),_0x529a43[_0x45713c(0x1ea)]=String(_0x3e0bf7);}else{if(_0x11a818[_0x45713c(0x209)]===0x9||_0x11a818['setPermissionId']===0xc||_0x11a818[_0x45713c(0x209)]===0x12){if(_0x11a818['setPermissionId']===0x9){var _0x586d3c=document[_0x45713c(0x1e5)]('option');_0x586d3c[_0x45713c(0x1ea)]='0',_0x586d3c[_0x45713c(0x1c1)]=_0x11a818[_0x45713c(0x1d6)],_0x529a43[_0x45713c(0x20e)](_0x586d3c);for(var _0x807762=0x0;_0x807762<_0x44c54d['length'];_0x807762++){var _0x58670e=_0x44c54d[_0x807762],_0x18751a=document[_0x45713c(0x1e5)]('option');_0x18751a['value']=String(_0x58670e[_0x45713c(0x200)]),_0x18751a[_0x45713c(0x1c1)]=_0x58670e['setTipoOperacionName'],_0x529a43[_0x45713c(0x20e)](_0x18751a);}}if(_0x11a818[_0x45713c(0x209)]===0xc)for(var _0x807762=0x1;_0x807762<=0x4;_0x807762++){var _0x58670e=_0x807762,_0x18751a=document[_0x45713c(0x1e5)]('option');_0x18751a[_0x45713c(0x1ea)]=String(_0x58670e),_0x18751a['textContent']=_0x45713c(0x1ad)+_0x58670e,_0x529a43[_0x45713c(0x20e)](_0x18751a);}if(_0x11a818[_0x45713c(0x209)]===0x12){var _0x2fdc43=myCompany&&myCompany[_0x45713c(0x1bc)]||[],_0x586d3c=document[_0x45713c(0x1e5)](_0x45713c(0x1f1));_0x586d3c[_0x45713c(0x1ea)]='0',_0x586d3c[_0x45713c(0x1c1)]=_0x11a818['setPermissionNameFalse'],_0x529a43[_0x45713c(0x20e)](_0x586d3c);for(var _0x807762=0x0;_0x807762<_0x2fdc43[_0x45713c(0x1cf)];_0x807762++){var _0x58670e=_0x2fdc43[_0x807762],_0x18751a=document[_0x45713c(0x1e5)](_0x45713c(0x1f1));_0x18751a['value']=String(_0x58670e[_0x45713c(0x1c2)]),_0x18751a[_0x45713c(0x1c1)]=_0x58670e[_0x45713c(0x1da)],_0x529a43[_0x45713c(0x20e)](_0x18751a);}}_0x529a43[_0x45713c(0x1ea)]=String(_0x3e0bf7);}}_0x2569ab[_0x45713c(0x20e)](_0x529a43),_0x3e9bd6['appendChild'](_0x2569ab);}_0x490cb9[_0x45713c(0x20e)](_0x3e9bd6);var _0x141357=document[_0x45713c(0x1e5)](_0x45713c(0x1b2));_0x141357[_0x45713c(0x1f2)]='userPerm_editBtn',_0x141357[_0x45713c(0x1c1)]=_0x45713c(0x1ba),_0x141357['dataset'][_0x45713c(0x1d8)]=_0x457908;var _0x181734=document[_0x45713c(0x1e5)]('button');_0x181734[_0x45713c(0x1f2)]='userPerm_saveBtn',_0x181734[_0x45713c(0x1c1)]=_0x45713c(0x1c6),_0x181734[_0x45713c(0x1f5)][_0x45713c(0x1d8)]=_0x457908,_0x181734[_0x45713c(0x1de)][_0x45713c(0x1b4)]=_0x45713c(0x1e2),_0x490cb9[_0x45713c(0x20e)](_0x141357),_0x490cb9[_0x45713c(0x20e)](_0x181734),_0x5236ad[_0x45713c(0x20e)](_0x490cb9),_0x141357['addEventListener'](_0x45713c(0x215),onEditClick),_0x181734['addEventListener'](_0x45713c(0x215),onSaveClick);}}function onEditClick(_0x2c61ad){var _0x35fb32=_0x1368,_0x294cda=_0x2c61ad[_0x35fb32(0x1bf)][_0x35fb32(0x1f5)][_0x35fb32(0x1d8)],_0x52cd08=document[_0x35fb32(0x1a2)]('userPerm_container_'+_0x294cda),_0xeded9a=_0x52cd08[_0x35fb32(0x1c0)](_0x35fb32(0x1ec));for(var _0xe8c4b7=0x0;_0xe8c4b7<_0xeded9a[_0x35fb32(0x1cf)];_0xe8c4b7++){_0xeded9a[_0xe8c4b7][_0x35fb32(0x1bd)]=![];}_0x52cd08[_0x35fb32(0x1dc)](_0x35fb32(0x1a8))['style'][_0x35fb32(0x1b4)]=_0x35fb32(0x1e2),_0x52cd08[_0x35fb32(0x1dc)]('.userPerm_saveBtn')[_0x35fb32(0x1de)][_0x35fb32(0x1b4)]='block',_0x52cd08[_0x35fb32(0x1f2)]=_0x35fb32(0x1df);}function _0x2c51(){var _0x320231=['setPermissions','Correlativo','https://apierp.dev/api/users/update/','setAuthToken','panel_operations','length','getAll','12dZUkGY','setBranchDefault','onsuccess','userPerm_container\x20border_blue','inline-block','setPermissionNameFalse','2727867gSbwBD','userIndex','setSerie','setEmailCredentialsSenderEmail','onerror','querySelector','forEach','style','userPerm_container\x20border_orange','setBranchId','json','none','toString','6051656tLVeRe','createElement','360520AimDJq','then','indexOf','(((.+)+)+)+$','value','div','userPerm_select','innerHTML','Error\x20desconocido\x20al\x20actualizar\x20Data.','thead','setTipoOperacion','option','className','Error\x20Network.','statusText','dataset','success','warn','setPermissionValue','message','offline_operations','addEventListener','setUserFullName','userPerm_item','userPerm_list','objectStore','setTipoOperacionCodigo','userPerm_header','16766981XJPDzm','./img/apiPOS.png','tbody','reject','bind','Usuario\x20','panel_users','setPermissionId','change','catch','setFloorId','Error\x20Sync:\x20','appendChild','offlineOps_table','stringify','4PBnpgQ','setLastDateUpdate','{}.constructor(\x22return\x20this\x22)(\x20)','Serie','click','userPerm_container_','trace','getElementById','932074QzMhZB','1wThZGa','setFechaHora','readonly','table','.userPerm_editBtn','apply','No\x20hay\x20operaciones\x20pendientes.','9tfkmYh','permIndex','Número\x20de\x20Decimales:\x20','error','setTipoOperaciones','result','dispatchEvent','button','12LTGsXX','display','info','console','prototype','setPermissionNameTrue','log','Editar','1624938YJfsmM','setEmailCredentials','disabled','setCorrelativo','target','getElementsByClassName','textContent','setEmailCredentialsId','setUsers','136165sNnTTz','constructor','Guardar','__proto__','search','exception'];_0x2c51=function(){return _0x320231;};return _0x2c51();}async function onSaveClick(_0x233adf){var _0x2edd48=_0x1368,_0x35a3f4=_0x233adf[_0x2edd48(0x1bf)][_0x2edd48(0x1f5)][_0x2edd48(0x1d8)],_0x28bd0f=document[_0x2edd48(0x1a2)]('userPerm_container_'+_0x35a3f4),_0x5865f3=_0x28bd0f[_0x2edd48(0x1c0)](_0x2edd48(0x1fd));for(var _0x4a7a8d=0x0;_0x4a7a8d<_0x5865f3[_0x2edd48(0x1cf)];_0x4a7a8d++){var _0x26af59=_0x5865f3[_0x4a7a8d],_0x1e0eb1=parseInt(_0x26af59['dataset'][_0x2edd48(0x1d8)],0xa),_0x25f804=parseInt(_0x26af59['dataset']['permIndex'],0xa),_0x36ec00=company[0x0]['setUsers'][_0x1e0eb1][_0x2edd48(0x1ca)][_0x25f804],_0x47e02e=_0x26af59[_0x2edd48(0x1c0)](_0x2edd48(0x1ec))[0x0],_0x320c52=_0x47e02e[_0x2edd48(0x1ea)];_0x36ec00[_0x2edd48(0x1f8)]=_0x320c52,_0x47e02e['disabled']=!![],company[0x0][_0x2edd48(0x1c3)][_0x1e0eb1][_0x2edd48(0x212)]=new Date();}const _0x5281cc=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5281cc),_0x28bd0f[_0x2edd48(0x1dc)]('.userPerm_saveBtn')[_0x2edd48(0x1de)][_0x2edd48(0x1b4)]=_0x2edd48(0x1e2),_0x28bd0f[_0x2edd48(0x1dc)]('.userPerm_editBtn')['style'][_0x2edd48(0x1b4)]=_0x2edd48(0x1d5),_0x28bd0f[_0x2edd48(0x1f2)]=_0x2edd48(0x1d4),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x4874f2=_0x1368,_0x4f831b=document[_0x4874f2(0x1a2)](_0x4874f2(0x1ce));return _0x4f831b[_0x4874f2(0x1ed)]='',createCartStore('')[_0x4874f2(0x1e7)](function(_0x4dbf82){var _0x10c368=_0x4874f2,_0x9f78d1=_0x4dbf82['transaction'](_0x10c368(0x1fa),_0x10c368(0x1a6)),_0x22ccb0=_0x9f78d1[_0x10c368(0x1ff)]('offline_operations');return new Promise(function(_0x58a4f1,_0x58e63c){var _0x3f28c0=_0x10c368,_0x5c74a6=_0x22ccb0[_0x3f28c0(0x1d0)]();_0x5c74a6[_0x3f28c0(0x1d3)]=function(){var _0x383d2d=_0x3f28c0;_0x58a4f1(_0x5c74a6[_0x383d2d(0x1b0)]);},_0x5c74a6[_0x3f28c0(0x1db)]=function(){var _0x1fe115=_0x3f28c0;_0x58e63c(_0x5c74a6[_0x1fe115(0x1ae)]);};});})[_0x4874f2(0x1e7)](function(_0x159f92){var _0x1a7b5f=_0x4874f2,_0x5b5b49=[];for(var _0x21d52e=0x0;_0x21d52e<_0x159f92['length'];_0x21d52e++){_0x159f92[_0x21d52e]['apiPOSsendOffline']==0x1&&_0x5b5b49['push'](_0x159f92[_0x21d52e]);}if(_0x5b5b49[_0x1a7b5f(0x1cf)]===0x0){_0x4f831b[_0x1a7b5f(0x1c1)]=_0x1a7b5f(0x1aa);return;}var _0x69ca12=document[_0x1a7b5f(0x1e5)](_0x1a7b5f(0x1a7));_0x69ca12[_0x1a7b5f(0x1f2)]=_0x1a7b5f(0x20f);var _0x3fd8b1=document[_0x1a7b5f(0x1e5)](_0x1a7b5f(0x1ef)),_0xbf2728=document['createElement']('tr');['Tipo',_0x1a7b5f(0x214),_0x1a7b5f(0x1cb),'Fecha','Motivo']['forEach'](function(_0x3b7e26){var _0x1b32a4=_0x1a7b5f,_0x475778=document[_0x1b32a4(0x1e5)]('th');_0x475778[_0x1b32a4(0x1c1)]=_0x3b7e26,_0xbf2728[_0x1b32a4(0x20e)](_0x475778);}),_0x3fd8b1[_0x1a7b5f(0x20e)](_0xbf2728),_0x69ca12['appendChild'](_0x3fd8b1);var _0x4d93d2=document[_0x1a7b5f(0x1e5)](_0x1a7b5f(0x204));_0x5b5b49[_0x1a7b5f(0x1dd)](function(_0x25278d){var _0x3f4d61=_0x1a7b5f,_0x278b08=document[_0x3f4d61(0x1e5)]('tr'),_0x6f3890=[_0x25278d[_0x3f4d61(0x1f0)],_0x25278d[_0x3f4d61(0x1d9)],_0x25278d[_0x3f4d61(0x1be)],_0x25278d[_0x3f4d61(0x1a5)],_0x25278d['setMessage']||''];_0x6f3890[_0x3f4d61(0x1dd)](function(_0xfe67a3){var _0x247007=_0x3f4d61,_0x585c31=document['createElement']('td');_0x585c31[_0x247007(0x1c1)]=_0xfe67a3,_0x278b08[_0x247007(0x20e)](_0x585c31);}),_0x4d93d2[_0x3f4d61(0x20e)](_0x278b08);}),_0x69ca12[_0x1a7b5f(0x20e)](_0x4d93d2),_0x4f831b[_0x1a7b5f(0x20e)](_0x69ca12);})[_0x4874f2(0x20b)](function(_0x213dc9){var _0x18288f=_0x4874f2;console[_0x18288f(0x1ae)]('Error\x20leyendo\x20operaciones:',_0x213dc9),_0x4f831b['textContent']='Error\x20cargando\x20operaciones.';});}window['onload']=function(){var _0x27d393=_0x1368;const _0x1b6ac0=0x2;loadLoginContent(_0x27d393(0x203)),setUserNameGet(),setEventBtnAccess();const _0xe2c820=document[_0x27d393(0x1dc)]('.btn-logout');_0xe2c820&&_0xe2c820['addEventListener'](_0x27d393(0x215),function(){logoutReload(0x0,_0x1b6ac0);}),document[_0x27d393(0x1a2)](_0x27d393(0x1e0))[_0x27d393(0x1fb)](_0x27d393(0x20a),async function(){var _0xd926f0=_0x27d393;const _0xed95c0=parseInt(this[_0xd926f0(0x1ea)]);company[0x0][_0xd926f0(0x1d2)]=_0xed95c0;const _0x4772c4=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4772c4),cargarAlmacenes(_0xed95c0),setTimeout(()=>{var _0x402107=_0xd926f0;document['getElementById']('setWarehouseId')['dispatchEvent'](new Event(_0x402107(0x20a)));},0x64),cargarPisos(_0xed95c0),setTimeout(()=>{var _0x239cc3=_0xd926f0;document['getElementById'](_0x239cc3(0x20c))[_0x239cc3(0x1b1)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x1b6ac0);};