/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.4
*/

const _0x102381=_0x3e74;(function(_0x10ca51,_0x2e559e){const _0x4ffb3f=_0x3e74,_0xb8ab4b=_0x10ca51();while(!![]){try{const _0x67ca8=parseInt(_0x4ffb3f(0x13c))/0x1+parseInt(_0x4ffb3f(0x10f))/0x2*(-parseInt(_0x4ffb3f(0x100))/0x3)+-parseInt(_0x4ffb3f(0x149))/0x4+parseInt(_0x4ffb3f(0x143))/0x5*(parseInt(_0x4ffb3f(0x1c0))/0x6)+-parseInt(_0x4ffb3f(0x12e))/0x7+parseInt(_0x4ffb3f(0x15a))/0x8+parseInt(_0x4ffb3f(0x11e))/0x9*(parseInt(_0x4ffb3f(0x13e))/0xa);if(_0x67ca8===_0x2e559e)break;else _0xb8ab4b['push'](_0xb8ab4b['shift']());}catch(_0x4a289e){_0xb8ab4b['push'](_0xb8ab4b['shift']());}}}(_0x55d8,0xb34e8));const _0x3f4776=(function(){let _0x4233e8=!![];return function(_0x2c9750,_0x2c97f1){const _0x1f9aa0=_0x4233e8?function(){if(_0x2c97f1){const _0x30b6bc=_0x2c97f1['apply'](_0x2c9750,arguments);return _0x2c97f1=null,_0x30b6bc;}}:function(){};return _0x4233e8=![],_0x1f9aa0;};}()),_0x5a9e48=_0x3f4776(this,function(){const _0x44e24f=_0x3e74;return _0x5a9e48['toString']()['search'](_0x44e24f(0x1ae))[_0x44e24f(0x1a6)]()[_0x44e24f(0x115)](_0x5a9e48)['search'](_0x44e24f(0x1ae));});_0x5a9e48();const _0x141d63=(function(){let _0x46fa82=!![];return function(_0x4dc8c4,_0x5e3ed0){const _0x35471f=_0x46fa82?function(){const _0x596184=_0x3e74;if(_0x5e3ed0){const _0x583590=_0x5e3ed0[_0x596184(0x187)](_0x4dc8c4,arguments);return _0x5e3ed0=null,_0x583590;}}:function(){};return _0x46fa82=![],_0x35471f;};}()),_0x5eb132=_0x141d63(this,function(){const _0xb35d5f=_0x3e74;let _0x2687fb;try{const _0x3f7436=Function(_0xb35d5f(0x189)+_0xb35d5f(0x109)+');');_0x2687fb=_0x3f7436();}catch(_0x4f0fdd){_0x2687fb=window;}const _0x2ef1ce=_0x2687fb[_0xb35d5f(0x1a3)]=_0x2687fb[_0xb35d5f(0x1a3)]||{},_0x714537=[_0xb35d5f(0x150),_0xb35d5f(0x1c4),'info',_0xb35d5f(0x156),'exception','table','trace'];for(let _0x215e70=0x0;_0x215e70<_0x714537[_0xb35d5f(0x124)];_0x215e70++){const _0x4960b8=_0x141d63[_0xb35d5f(0x115)][_0xb35d5f(0x17b)][_0xb35d5f(0x12d)](_0x141d63),_0x12fea1=_0x714537[_0x215e70],_0x1f52a8=_0x2ef1ce[_0x12fea1]||_0x4960b8;_0x4960b8['__proto__']=_0x141d63[_0xb35d5f(0x12d)](_0x141d63),_0x4960b8[_0xb35d5f(0x1a6)]=_0x1f52a8['toString']['bind'](_0x1f52a8),_0x2ef1ce[_0x12fea1]=_0x4960b8;}});_0x5eb132();let arrayIncomes;const divChartIncome=document[_0x102381(0x1a4)](_0x102381(0x193));let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x5d1504){const _0x4e8406=_0x102381,{containerId:_0x16db3b,rawData:_0x158e9c,groupField:_0x48f079,groupValues:_0x1ea539,seriesType:seriesType=_0x4e8406(0x1b4),chartType:chartType=seriesType,encode:_0x4a07c9,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x4e8406(0x1ab),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x5f3d02,height:_0x7d0641}=_0x5d1504,_0x27c984=document[_0x4e8406(0x1a4)](_0x16db3b);if(!_0x27c984){console[_0x4e8406(0x156)](_0x4e8406(0x1da)+_0x16db3b+_0x4e8406(0x14d));return;}if(_0x5f3d02)_0x27c984[_0x4e8406(0x198)][_0x4e8406(0x181)]=_0x5f3d02;if(_0x7d0641)_0x27c984[_0x4e8406(0x198)]['height']=_0x7d0641;const _0x3b9c07=echarts[_0x4e8406(0x102)](_0x27c984),_0x7f00d1=[],_0x4d8018=[];_0x1ea539[_0x4e8406(0x1c2)]((_0x5af696,_0x13e283)=>{const _0x54ecce=_0x4e8406,_0x11a656=_0x54ecce(0x16e)+_0x5af696,_0x11c3a8=(_0x5d1504[_0x54ecce(0x15f)]||[])[_0x54ecce(0x1c1)]([{'dimension':_0x48f079,'=':_0x5af696}]);_0x7f00d1[_0x54ecce(0x17e)]({'id':_0x11a656,'fromDatasetId':'dataset_raw','transform':{'type':_0x54ecce(0x15d),'config':{'and':_0x11c3a8}}}),_0x4d8018[_0x54ecce(0x17e)]({'type':chartType,'datasetId':_0x11a656,'name':_0x5af696,...chartType===_0x54ecce(0x120)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x13e283]||undefined},...chartType===_0x54ecce(0x1b4)&&{'showSymbol':![]},'encode':_0x4a07c9});});const _0x24c7e5={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x158e9c},..._0x7f00d1],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x4e8406(0x1cc)},'xAxis':Object[_0x4e8406(0x18d)]({'type':'category','nameLocation':_0x4e8406(0x165)},xAxisConfig),'yAxis':Object[_0x4e8406(0x18d)]({'name':_0x4a07c9['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x4d8018};_0x3b9c07[_0x4e8406(0x1df)](_0x24c7e5);}function generatePieChart({containerId:_0x209e99,data:_0x3b2246,nameField:_0x7a7ce,valueField:_0x540a41,title:title='',titlePosition:titlePosition=_0x102381(0x192),showTitle:showTitle=!![],width:_0x1421cd,height:_0x1aeaef}){const _0xfdc761=_0x102381,_0x30208b=document[_0xfdc761(0x1a4)](_0x209e99);if(!_0x30208b)return console[_0xfdc761(0x156)](_0xfdc761(0x130)+_0x209e99+_0xfdc761(0x101));if(_0x1421cd)_0x30208b[_0xfdc761(0x198)][_0xfdc761(0x181)]=_0x1421cd;if(_0x1aeaef)_0x30208b['style'][_0xfdc761(0x158)]=_0x1aeaef;const _0x422917=echarts[_0xfdc761(0x102)](_0x30208b),_0x560444=_0x3b2246[_0xfdc761(0x138)]((_0x3f170c,_0x423ec4)=>{const _0x301e3b=_0xfdc761,_0x28539c=_0x423ec4[_0x7a7ce],_0x46e133=_0x423ec4[_0x540a41];let _0xf25f04=_0x3f170c[_0x301e3b(0x1a1)](_0x52346b=>_0x52346b['name']===_0x28539c);return!_0xf25f04&&(_0xf25f04={'name':_0x28539c,'value':0x0},_0x3f170c[_0x301e3b(0x17e)](_0xf25f04)),_0xf25f04[_0x301e3b(0x133)]+=_0x46e133,_0x3f170c;},[]);let _0x5d2198;showTitle?(_0x5d2198={'text':title,'left':'center'},titlePosition===_0xfdc761(0x175)?_0x5d2198[_0xfdc761(0x175)]=0x0:_0x5d2198[_0xfdc761(0x192)]=0x0):_0x5d2198={'show':![]};const _0x1b35ae={'title':_0x5d2198,'tooltip':{'trigger':'item'},'series':[{'type':'pie','radius':'50%','data':_0x560444,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0xfdc761(0x1c3)}}]};_0x422917[_0xfdc761(0x1df)](_0x1b35ae);}function generateHorizontalBarChart({containerId:_0x151b23,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x102381(0x192),showTitle:showTitle=!![],colors:colors=[],width:_0x4e3f53,height:_0x7d4bf2,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x5c9912=_0x102381,_0x2a4058=document[_0x5c9912(0x1a4)](_0x151b23);if(!_0x2a4058)return console['error'](_0x5c9912(0x130)+_0x151b23+_0x5c9912(0x101));if(_0x4e3f53)_0x2a4058['style'][_0x5c9912(0x181)]=_0x4e3f53;if(_0x7d4bf2)_0x2a4058[_0x5c9912(0x198)][_0x5c9912(0x158)]=_0x7d4bf2;const _0x4524a3=echarts['init'](_0x2a4058),_0x4bef75=showTitle?{'text':title,'left':_0x5c9912(0x126),...titlePosition===_0x5c9912(0x175)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x5c9912(0x175)?_0x4bef75[_0x5c9912(0x175)]=0x0:_0x4bef75[_0x5c9912(0x192)]=0x0;const _0x2ed926={'title':_0x4bef75,'tooltip':{'trigger':_0x5c9912(0x1cc),'axisPointer':{'type':_0x5c9912(0x184)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x5c9912(0x18d)]({'type':_0x5c9912(0x133),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x5c9912(0x18d)]({'type':_0x5c9912(0x112),'data':categories},yAxisConfig),'series':series[_0x5c9912(0x1e1)]((_0x5786c6,_0x47e792)=>({'type':_0x5c9912(0x120),'name':_0x5786c6['name'],'data':_0x5786c6[_0x5c9912(0x1ba)],'itemStyle':{'color':colors[_0x47e792]||undefined}}))};_0x4524a3[_0x5c9912(0x1df)](_0x2ed926);}function showModalViewDetails(){const _0x43eeb8=_0x102381,_0x10dc51=document[_0x43eeb8(0x1a4)](_0x43eeb8(0x137)),_0x27f750=document[_0x43eeb8(0x1a4)]('modalOverlayViewDetails');_0x10dc51[_0x43eeb8(0x186)][_0x43eeb8(0x18a)](_0x43eeb8(0x1c5)),_0x27f750[_0x43eeb8(0x198)][_0x43eeb8(0x179)]='block';}function hideModalViewDetails(){const _0x3df579=_0x102381,_0x366aa5=document[_0x3df579(0x1a4)](_0x3df579(0x137)),_0x9d20d6=document[_0x3df579(0x1a4)]('modalOverlayViewDetails');_0x366aa5['classList'][_0x3df579(0x110)](_0x3df579(0x1c5)),_0x9d20d6[_0x3df579(0x198)][_0x3df579(0x179)]=_0x3df579(0x190);const _0x28e6d6=document[_0x3df579(0x1a4)](_0x3df579(0x1b9));_0x28e6d6[_0x3df579(0x117)]=_0x3df579(0x12b);}function _0x55d8(){const _0x179ed4=['\x20tbody','scrollLeft','middle','setOperationType','valor_unitario','#FF5900','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','RVIE','\x0a<tr>\x0a<td>','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','setOperationItems','dataset_','\x0a</td>\x0a<td></td>\x0a','Ventas\x20por\x20Cliente','Pagado','Error\x20','Total','.btn-logout','bottom','#reporte-income-customers','btn-outline-primary','createElement','display','btn-outline','prototype','round','toISOString','push','https://fasyb.com/api/venta/view/?id=','click','width','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','pdf','shadow','setOperationNumber','classList','apply','addEventListener','return\x20(function()\x20','add','createObjectURL','Export\x20WK\x20Error:','assign','400px','setAuthToken','none','slice','top','divChartIncome','Selecciona\x20ambas\x20fechas','&tipo=','substring','closeModalViewDetails','style','setOperationDetailQuantity','isArray','POST','btnExport','#00bb2d','application/octet-stream','split','Ventas','find','btn\x20btn-sm\x20btn-outline\x20me-2','console','getElementById','filter-start','toString','No\x20se\x20encontró\x20información\x20de\x20ingresos','customerName','setOperationTypeSpan','\x22>\x0a','valueDesc','setOperationCurrency','json','(((.+)+)+)+$','cost','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','stringify','catch','statusText','line','#pagination-customers','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','setFloorId','querySelectorAll','dynamicContent','data','hide','pdf_url','Error\x20al\x20aplicar\x20filtro','then','values','66QpzzcS','concat','forEach','{b}:\x20{d}%','warn','active','offsetLeft','filterModal','detalle','.table-wrapper','onmessage','boleta','axis','getInstance','mousemove','setDescripcion','Error\x20al\x20exportar.','setBranchId','setOperationPaymentStatusName','currency','setCustomerId','dispatchEvent','success','setTipoComprobante','cantidad',';\x20color:\x20','El\x20contenedor\x20con\x20id\x20\x22','onclick','href','setTipoOperacionName',';\x22>\x0a','setOption','appendChild','map','setOperationSeries','1931994TLXDXr','\x20no\x20existe','init','#reporte-income','setSeries','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','100%',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','{}.constructor(\x22return\x20this\x22)(\x20)','producto','ceil','revokeObjectURL','setOperationDateTime','preventDefault','4hiKVIs','remove','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','category','Error\x20al\x20cargar\x20el\x20detalle:','</td>\x0a<td>','constructor','total','innerHTML','flatMap','#reporte-income-products','mousedown','#00AEEF','setTipoOperaciones','setApiEndPoint','1871199EpzOiJ','setOperationPaymentStatusColor','bar','apply-filter','sales','setTipoOperacionCodigo','length','setOperationTotal','center',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','setOperationCustomerName','pedido','postMessage','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','bind','4787748aXzEaB','products','Contenedor\x20','500px','exportDone','value','Siguiente\x20&raquo;','btn\x20btn-sm\x20btn-outline\x20ms-2','modalOverlayViewDetails','detalleModal','reduce','incomes','recibo','setSerie','1116855zkYqfI','setOperationDetailUnitCost','40CkrcLN','setOperationCustomerId','setOperationId','setOperationDetailTotal','factura','513460JtfKBX','label','.modal-content','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','textContent','className','5788620AVqEFf','Sin\x20descripción','fechaISO','querySelector','\x22\x20no\x20existe.','payload','https://fasyb.com/api/pdf/proxy/?file=','log','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','#pagination-products','sort','change','#pagination-income','error','mouseleave','height','ID_SERIE','8603552tYzKVx','setOperationPaymentStatus','from','filter','setOperationDetailUnitPresentationId','additionalFilters','toFixed','Pendiente','divChartCustomer'];_0x55d8=function(){return _0x179ed4;};return _0x55d8();}document[_0x102381(0x1a4)](_0x102381(0x197))[_0x102381(0x188)]('click',hideModalViewDetails),document[_0x102381(0x1a4)](_0x102381(0x136))[_0x102381(0x188)](_0x102381(0x180),hideModalViewDetails);function verDetalle(_0x129433,_0x19c4e1){const _0x1580e6=_0x102381;fetch(_0x1580e6(0x17f)+_0x129433+_0x1580e6(0x195)+_0x19c4e1)[_0x1580e6(0x1be)](_0x5ab643=>{const _0x2c0b65=_0x1580e6;if(!_0x5ab643['ok'])throw new Error(_0x2c0b65(0x172)+_0x5ab643['status']+':\x20'+_0x5ab643[_0x2c0b65(0x1b3)]);return _0x5ab643[_0x2c0b65(0x1ad)]();})['then'](_0x5115ad=>{const _0x495001=_0x1580e6;if(_0x5115ad[_0x495001(0x1d6)]){const _0x5aa982=document[_0x495001(0x1a4)]('dynamicContent');if(_0x19c4e1===_0x495001(0x1c8)){let _0x469615='';_0x5115ad[_0x495001(0x1ba)][_0x495001(0x1c2)](_0x3e4390=>{const _0x5e1160=_0x495001;_0x469615+=_0x5e1160(0x16b)+_0x3e4390[_0x5e1160(0x10a)]+_0x5e1160(0x114)+_0x3e4390[_0x5e1160(0x1d8)]+_0x5e1160(0x114)+_0x3e4390[_0x5e1160(0x167)]+'</td>\x0a<td>'+_0x3e4390[_0x5e1160(0x116)]+'</td>\x0a</tr>';}),document[_0x495001(0x1a4)]('detalleTablaBody')['innerHTML']=_0x469615;}else{if(_0x19c4e1===_0x495001(0x183)){const _0xcdc99a=_0x495001(0x14f)+encodeURIComponent(_0x5115ad[_0x495001(0x1bc)]),_0x5b0ad0=document[_0x495001(0x14c)](_0x495001(0x145));_0x5aa982[_0x495001(0x117)]='\x0a<iframe\x20src=\x22'+_0xcdc99a+_0x495001(0x16c),document[_0x495001(0x1a4)]('closeModalViewDetails')[_0x495001(0x188)](_0x495001(0x180),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x5115ad[_0x495001(0x156)]||_0x495001(0x12c));})[_0x1580e6(0x1b2)](_0x9d3c39=>{const _0xa4312=_0x1580e6;console[_0xa4312(0x156)](_0xa4312(0x113),_0x9d3c39),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}const tableWrappers=document[_0x102381(0x1b8)](_0x102381(0x1c9));tableWrappers['forEach'](_0x472eec=>{const _0x3dd119=_0x102381;let _0x5ea51d=![],_0x4c2cca,_0x34b037;_0x472eec[_0x3dd119(0x188)](_0x3dd119(0x11a),_0x3c8af9=>{const _0x4243cc=_0x3dd119;_0x5ea51d=!![],_0x4c2cca=_0x3c8af9['pageX']-_0x472eec['offsetLeft'],_0x34b037=_0x472eec[_0x4243cc(0x164)];}),_0x472eec['addEventListener'](_0x3dd119(0x157),()=>{_0x5ea51d=![];}),_0x472eec['addEventListener']('mouseup',()=>{_0x5ea51d=![];}),_0x472eec[_0x3dd119(0x188)](_0x3dd119(0x1ce),_0x30c3ed=>{const _0x3e4c4c=_0x3dd119;if(!_0x5ea51d)return;_0x30c3ed[_0x3e4c4c(0x10e)]();const _0x3500a2=_0x30c3ed['pageX']-_0x472eec[_0x3e4c4c(0x1c6)],_0x5b80b3=(_0x3500a2-_0x4c2cca)*0x2;_0x472eec['scrollLeft']=_0x34b037-_0x5b80b3;});});async function consultIncomeReport(){const _0x3862=_0x102381;showLoadingModal();const _0x49de3f={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x3862(0x18f)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x1b29d8=await fetch(myCompany[_0x3862(0x11d)],{'method':'POST','headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x3862(0x1b1)](_0x49de3f)}),{success:_0x5fcc7e,message:_0x523125}=await _0x1b29d8[_0x3862(0x1ad)]();if(!_0x5fcc7e||!Array[_0x3862(0x19a)](_0x523125[_0x3862(0x139)])){ntfShow(_0x3862(0x1a7)),console['log'](_0x523125);return;}const _0x376267=_0x523125[_0x3862(0x139)],_0x48b85d=myCompany['setCustomers'][_0x3862(0x138)]((_0x4a1170,_0x180913)=>(_0x4a1170[_0x180913[_0x3862(0x1d4)]]=_0x180913['setCustomerName'],_0x4a1170),{}),_0x374b83=myCompany[_0x3862(0x11c)][_0x3862(0x138)]((_0x2fe8a1,_0x115621)=>(_0x2fe8a1[_0x115621[_0x3862(0x123)]]=_0x115621[_0x3862(0x1dd)],_0x2fe8a1),{}),_0x32b1fe=myCompany[_0x3862(0x104)]['reduce']((_0x481dad,_0x4a82f1)=>(_0x481dad[_0x4a82f1[_0x3862(0x159)]]=_0x4a82f1[_0x3862(0x13b)],_0x481dad),{});arrayIncomes=_0x376267['map'](_0x41ef40=>{const _0x312841=_0x3862,_0x46b144=_0x41ef40[_0x312841(0x16d)][_0x312841(0x138)]((_0x13ddfe,_0xb26616)=>_0x13ddfe+Number(_0xb26616[_0x312841(0x141)]),0x0),_0xb572fb=_0x374b83[_0x41ef40[_0x312841(0x166)]]||_0x41ef40['setOperationType'],_0xbaa7c9=_0x32b1fe[_0x41ef40[_0x312841(0xff)]]||_0x41ef40[_0x312841(0xff)],_0x584f1b=_0x48b85d[_0x41ef40['setOperationCustomerId']]||_0x41ef40[_0x312841(0x13f)],_0x511e86=_0x41ef40[_0x312841(0x15b)]==0x1?_0x312841(0x19d):'#FF5900',_0x35a431=_0x41ef40[_0x312841(0x15b)]==0x1?_0x312841(0x171):_0x312841(0x161),_0x11c0d8=_0x41ef40[_0x312841(0x166)]==0x1?_0x312841(0x129):_0x41ef40['setOperationType']==0x2?_0x312841(0x13a):_0x41ef40['setOperationType']==0x3?_0x312841(0x1cb):_0x41ef40[_0x312841(0x166)]==0x4?_0x312841(0x142):_0x312841(0x13a);return{'setOperationId':_0x41ef40[_0x312841(0x140)],'setOperationType':_0xb572fb,'setOperationTypeSpan':_0x11c0d8,'setOperationSeries':_0xbaa7c9+'-'+_0x41ef40[_0x312841(0x185)],'setOperationCustomerName':_0x584f1b,'setOperationDateTime':_0x41ef40[_0x312841(0x10d)],'setOperationPaymentStatusColor':_0x511e86,'setOperationPaymentStatusName':_0x35a431,'setOperationCurrency':_0x41ef40[_0x312841(0x1ac)],'setOperationTotal':_0x46b144};});const _0x45ae29=_0x376267[_0x3862(0x118)](_0x1f89cc=>_0x1f89cc[_0x3862(0x16d)][_0x3862(0x1e1)](_0x32f99d=>({'item':_0x32f99d,'moneda':_0x1f89cc[_0x3862(0x1ac)]})))[_0x3862(0x138)]((_0x2fdd68,{item:_0x29b86c,moneda:_0x5e6e2c})=>{const _0x52af57=_0x3862,_0x276789=products['find'](_0x1c0380=>_0x1c0380['id']==_0x29b86c[_0x52af57(0x15e)]),_0x3c5059=_0x276789?_0x276789[_0x52af57(0x1cf)]:_0x52af57(0x14a),_0x44ec38=_0x3c5059+'|'+_0x5e6e2c,_0x610c15=Number(_0x29b86c[_0x52af57(0x141)]),_0x232abc=Number(_0x29b86c[_0x52af57(0x13d)])*Number(_0x29b86c[_0x52af57(0x199)]);return!_0x2fdd68[_0x44ec38]&&(_0x2fdd68[_0x44ec38]={'productName':_0x3c5059,'currency':_0x5e6e2c,'sales':0x0,'cost':0x0}),_0x2fdd68[_0x44ec38][_0x52af57(0x122)]+=_0x610c15,_0x2fdd68[_0x44ec38][_0x52af57(0x1af)]+=_0x232abc,_0x2fdd68;},{}),_0x300b0f=Object[_0x3862(0x1bf)](_0x45ae29)[_0x3862(0x1e1)](_0x4d5b39=>({'productName':_0x4d5b39['productName'],'currency':_0x4d5b39[_0x3862(0x1d3)],'sales':Math['round'](_0x4d5b39[_0x3862(0x122)]*0x64)/0x64,'cost':Math[_0x3862(0x17c)](_0x4d5b39[_0x3862(0x1af)]*0x64)/0x64,'profit':Math[_0x3862(0x17c)]((_0x4d5b39[_0x3862(0x122)]-_0x4d5b39[_0x3862(0x1af)])*0x64)/0x64})),_0x3467b2=_0x376267['reduce']((_0x328809,_0xcd76a3)=>{const _0x55904e=_0x3862,_0x14b443=_0x48b85d[_0xcd76a3[_0x55904e(0x13f)]]||_0xcd76a3['setOperationCustomerId'],_0x1b23c9=_0xcd76a3['setOperationCurrency'],_0x175f3f=_0x14b443+'|'+_0x1b23c9,_0x3f6451=_0xcd76a3[_0x55904e(0x16d)][_0x55904e(0x138)]((_0x4b7961,_0xb67e)=>_0x4b7961+Number(_0xb67e[_0x55904e(0x141)]),0x0),_0xadc6=_0xcd76a3[_0x55904e(0x16d)][_0x55904e(0x138)]((_0x14c101,_0xcf66bc)=>_0x14c101+Number(_0xcf66bc[_0x55904e(0x13d)])*Number(_0xcf66bc['setOperationDetailQuantity']),0x0);return!_0x328809[_0x175f3f]&&(_0x328809[_0x175f3f]={'customerName':_0x14b443,'currency':_0x1b23c9,'sales':0x0,'cost':0x0}),_0x328809[_0x175f3f]['sales']+=_0x3f6451,_0x328809[_0x175f3f][_0x55904e(0x1af)]+=_0xadc6,_0x328809;},{}),_0x30234e=Object['values'](_0x3467b2)['map'](_0x139c79=>({'customerName':_0x139c79[_0x3862(0x1a8)],'currency':_0x139c79[_0x3862(0x1d3)],'sales':Math[_0x3862(0x17c)](_0x139c79[_0x3862(0x122)]*0x64)/0x64,'cost':Math[_0x3862(0x17c)](_0x139c79[_0x3862(0x1af)]*0x64)/0x64,'profit':Math[_0x3862(0x17c)]((_0x139c79[_0x3862(0x122)]-_0x139c79[_0x3862(0x1af)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x3862(0x139)),renderTable(_0x300b0f,currentPageProducts,_0x3862(0x12f)),renderTable(_0x30234e,currentPageCustomers,'customers');const _0x1c3b45=arrayIncomes[_0x3862(0x1e1)](_0x5f54f3=>({'fechaISO':_0x5f54f3[_0x3862(0x10d)][_0x3862(0x19f)]('\x20')[0x0],'setTipoComprobante':_0x5f54f3[_0x3862(0x166)],'setOperationCurrency':_0x5f54f3[_0x3862(0x1ac)],'Total':Math['round'](_0x5f54f3[_0x3862(0x125)]*0x64)/0x64})),_0x5012cc=_0x1c3b45[_0x3862(0x138)]((_0xe14c7f,_0x214d85)=>{const _0x3e2313=_0x3862,_0x462413=_0x214d85[_0x3e2313(0x14b)]+'|'+_0x214d85[_0x3e2313(0x1d7)]+'|'+_0x214d85[_0x3e2313(0x1ac)];if(!_0xe14c7f[_0x462413])_0xe14c7f[_0x462413]={..._0x214d85,'Total':0x0};return _0xe14c7f[_0x462413][_0x3e2313(0x173)]+=_0x214d85[_0x3e2313(0x173)],_0xe14c7f;},{}),_0x3b4699=Object[_0x3862(0x1bf)](_0x5012cc)[_0x3862(0x1e1)](_0x46e9c7=>({'fechaISO':_0x46e9c7['fechaISO'],'setTipoComprobante':_0x46e9c7[_0x3862(0x1d7)]+'\x20('+_0x46e9c7['setOperationCurrency']+')','Total':Math[_0x3862(0x17c)](_0x46e9c7[_0x3862(0x173)]*0x64)/0x64})),_0x271769=[...new Set(_0x3b4699[_0x3862(0x1e1)](_0x8062b9=>_0x8062b9[_0x3862(0x1d7)]))],_0x54ef99=Array[_0x3862(0x15c)](new Set(_0x3b4699[_0x3862(0x1e1)](_0x1da5d6=>_0x1da5d6[_0x3862(0x14b)])))[_0x3862(0x153)]((_0x2b6785,_0x38256e)=>new Date(_0x2b6785)-new Date(_0x38256e));_0x3b4699[_0x3862(0x124)]>0x0?generateFilterTransformChart({'containerId':_0x3862(0x193),'rawData':_0x3b4699,'groupField':_0x3862(0x1d7),'groupValues':_0x271769,'seriesType':_0x3862(0x120),'chartType':'bar','colors':[_0x3862(0x168),'#080060'],'encode':{'x':_0x3862(0x14b),'y':_0x3862(0x173),'label':['setTipoComprobante',_0x3862(0x173)],'itemName':_0x3862(0x14b),'tooltip':[_0x3862(0x173)]},'xAxisConfig':{'type':'category','data':_0x54ef99,'axisLabel':{'formatter':_0x17ce5a=>{const _0x144df0=_0x3862,[_0x4e2f7a,_0x5d9898,_0x588b0b]=_0x17ce5a[_0x144df0(0x19f)]('-');return _0x588b0b+'/'+_0x5d9898+'/'+_0x4e2f7a;}}},'title':'Evolución\x20de\x20Ventas','width':_0x3862(0x107),'height':_0x3862(0x131)}):divChartIncome['innerHTML']='';_0x300b0f[_0x3862(0x124)]>0x0?generateHorizontalBarChart({'containerId':'divChartItem','categories':_0x300b0f[_0x3862(0x1e1)](_0x56e808=>{const _0x20c365=_0x3862,_0x54ed98='('+_0x56e808[_0x20c365(0x1d3)]+')\x20'+_0x56e808['productName'];return _0x54ed98['length']>0xf?_0x54ed98[_0x20c365(0x196)](0x0,0xf)+'...':_0x54ed98;}),'series':[{'name':_0x3862(0x1a0),'data':_0x300b0f['map'](_0x369d80=>_0x369d80[_0x3862(0x122)])},{'name':'Costo','data':_0x300b0f[_0x3862(0x1e1)](_0x2186b4=>_0x2186b4['cost'])},{'name':'Ganancia','data':_0x300b0f[_0x3862(0x1e1)](_0x2b9e05=>_0x2b9e05['profit'])}],'title':'Ventas\x20por\x20Producto','titlePosition':_0x3862(0x175),'showTitle':![],'colors':[_0x3862(0x168),'#080060',_0x3862(0x11b)],'width':_0x3862(0x107),'height':_0x3862(0x18e)}):divChartItem[_0x3862(0x117)]='';if(_0x30234e['length']>0x0){const _0x4649c5=_0x30234e[_0x3862(0x1e1)](_0x16b6d9=>({'label':_0x16b6d9['customerName']+'\x20('+_0x16b6d9['currency']+')','sales':_0x16b6d9[_0x3862(0x122)]}));generatePieChart({'containerId':_0x3862(0x162),'data':_0x4649c5,'nameField':_0x3862(0x144),'valueField':_0x3862(0x122),'title':_0x3862(0x170),'titlePosition':_0x3862(0x192),'showTitle':![],'width':'500px','height':'500px'});}else divChartCustomer['innerHTML']='';}catch(_0x53f2f4){ntfShow('Error\x20al\x20solicitar\x20reporte'),console[_0x3862(0x156)](_0x53f2f4);}finally{hideLoadingModal();}}function renderTable(_0x2e0198,_0x46ba12=0x1,_0x12cf9b=_0x102381(0x139)){const _0x5a88cd=_0x102381;currentPage=_0x46ba12;const _0x4ae516=_0x12cf9b===_0x5a88cd(0x139)?_0x5a88cd(0x103):_0x12cf9b===_0x5a88cd(0x12f)?_0x5a88cd(0x119):_0x5a88cd(0x176),_0x6df775=_0x12cf9b===_0x5a88cd(0x139)?per_page:_0x12cf9b===_0x5a88cd(0x12f)?per_page_products:per_page_customers,_0x6fde4=document['querySelector'](_0x4ae516+_0x5a88cd(0x163));_0x6fde4[_0x5a88cd(0x117)]='';const _0x27f855=(_0x46ba12-0x1)*_0x6df775,_0x7ab3f6=_0x2e0198[_0x5a88cd(0x191)](_0x27f855,_0x27f855+_0x6df775);if(_0x12cf9b===_0x5a88cd(0x139)){_0x7ab3f6[_0x5a88cd(0x1c2)](_0x130668=>{const _0x34816=_0x5a88cd,_0x414f5b=document[_0x34816(0x178)]('tr');_0x414f5b[_0x34816(0x117)]=_0x34816(0x1b6)+_0x130668[_0x34816(0x1a9)]+_0x34816(0x1aa)+_0x130668[_0x34816(0x166)]+_0x34816(0x169)+(_0x130668[_0x34816(0xff)]||'')+_0x34816(0x114)+(_0x130668[_0x34816(0x128)]||'')+_0x34816(0x1b0)+_0x130668[_0x34816(0x10d)]+_0x34816(0x146)+_0x130668[_0x34816(0x11f)]+_0x34816(0x1d9)+_0x130668[_0x34816(0x11f)]+_0x34816(0x1de)+_0x130668[_0x34816(0x1d2)]+_0x34816(0x151)+_0x130668[_0x34816(0x1ac)]+_0x34816(0x105)+_0x130668[_0x34816(0x125)][_0x34816(0x160)](0x2)+_0x34816(0x182)+_0x130668[_0x34816(0x140)]+_0x34816(0x108)+_0x130668[_0x34816(0x140)]+_0x34816(0x127),_0x6fde4[_0x34816(0x1e0)](_0x414f5b);});const _0x54e6f3=_0x2e0198[_0x5a88cd(0x138)]((_0x477406,_0x1a355c)=>{const _0x183d1e=_0x5a88cd,_0x64ab3f=_0x1a355c[_0x183d1e(0x1ac)];return _0x477406[_0x64ab3f]=(_0x477406[_0x64ab3f]||0x0)+Number(_0x1a355c[_0x183d1e(0x125)]),_0x477406;},{});Object['entries'](_0x54e6f3)['forEach'](([_0xad1e9e,_0xd53f40])=>{const _0x2fb7ea=_0x5a88cd,_0x2c5d6d=document[_0x2fb7ea(0x178)]('tr');_0x2c5d6d['innerHTML']=_0x2fb7ea(0x111)+_0xad1e9e+'):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x2fb7ea(0x17c)](_0xd53f40*0x64)/0x64)['toFixed'](0x2)+_0x2fb7ea(0x16f),_0x6fde4[_0x2fb7ea(0x1e0)](_0x2c5d6d);}),renderPagination(_0x2e0198,_0x46ba12,_0x12cf9b);}}function renderPagination(_0x439fef,_0x496e50,_0x2ecd2b='incomes'){const _0x25e0f8=_0x102381,_0x64a517=_0x2ecd2b===_0x25e0f8(0x139)?document['querySelector'](_0x25e0f8(0x155)):_0x2ecd2b===_0x25e0f8(0x12f)?document[_0x25e0f8(0x14c)](_0x25e0f8(0x152)):document[_0x25e0f8(0x14c)](_0x25e0f8(0x1b5)),_0x52022c=_0x2ecd2b===_0x25e0f8(0x139)?per_page:_0x2ecd2b===_0x25e0f8(0x12f)?per_page_products:per_page_customers;_0x64a517[_0x25e0f8(0x117)]='';const _0x242f29=Math[_0x25e0f8(0x10b)](_0x439fef[_0x25e0f8(0x124)]/_0x52022c),_0xa4a9ef=document[_0x25e0f8(0x178)]('a');_0xa4a9ef[_0x25e0f8(0x1dc)]='#',_0xa4a9ef[_0x25e0f8(0x148)]=_0x25e0f8(0x1a2),_0xa4a9ef[_0x25e0f8(0x117)]='&laquo;\x20Anterior',_0xa4a9ef[_0x25e0f8(0x1db)]=_0x53001f=>{const _0x1ec138=_0x25e0f8;_0x53001f[_0x1ec138(0x10e)]();if(_0x496e50>0x1)renderTable(_0x439fef,_0x496e50-0x1,_0x2ecd2b);},_0x64a517['appendChild'](_0xa4a9ef);for(let _0x462b36=0x1;_0x462b36<=_0x242f29;_0x462b36++){const _0x336c15=document[_0x25e0f8(0x178)]('a');_0x336c15[_0x25e0f8(0x1dc)]='#',_0x336c15[_0x25e0f8(0x148)]='btn\x20btn-sm\x20'+(_0x462b36===_0x496e50?_0x25e0f8(0x177):_0x25e0f8(0x17a)),_0x336c15[_0x25e0f8(0x147)]=_0x462b36,_0x336c15[_0x25e0f8(0x1db)]=_0x2a121c=>{const _0x4df69c=_0x25e0f8;_0x2a121c[_0x4df69c(0x10e)](),renderTable(_0x439fef,_0x462b36,_0x2ecd2b);},_0x64a517['appendChild'](_0x336c15);}const _0x9dec14=document[_0x25e0f8(0x178)]('a');_0x9dec14[_0x25e0f8(0x1dc)]='#',_0x9dec14['className']=_0x25e0f8(0x135),_0x9dec14[_0x25e0f8(0x117)]=_0x25e0f8(0x134),_0x9dec14[_0x25e0f8(0x1db)]=_0x3f9d9a=>{const _0x16e916=_0x25e0f8;_0x3f9d9a[_0x16e916(0x10e)]();if(_0x496e50<_0x242f29)renderTable(_0x439fef,_0x496e50+0x1,_0x2ecd2b);},_0x64a517[_0x25e0f8(0x1e0)](_0x9dec14);}document[_0x102381(0x1a4)](_0x102381(0x121))['addEventListener'](_0x102381(0x180),async()=>{const _0x10caab=_0x102381,_0x12680c=document[_0x10caab(0x1a4)](_0x10caab(0x1a5))[_0x10caab(0x133)],_0x8b52e3=document[_0x10caab(0x1a4)]('filter-end')[_0x10caab(0x133)];if(!_0x12680c||!_0x8b52e3)return alert(_0x10caab(0x194));const _0xc92e19=document[_0x10caab(0x1a4)](_0x10caab(0x1c7)),_0x286e97=bootstrap['Modal'][_0x10caab(0x1cd)](_0xc92e19);_0x286e97[_0x10caab(0x1bb)](),showLoadingModal();try{const _0x2b933c={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x10caab(0x18f)],'dateFrom':_0x12680c+'\x2000:00:00','dateTo':_0x8b52e3+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0x31e08c=await fetch(myCompany['setApiEndPoint'],{'method':_0x10caab(0x19b),'headers':{'Content-Type':'application/json'},'body':JSON[_0x10caab(0x1b1)](_0x2b933c)}),{success:_0x1acba0,message:_0x506781}=await _0x31e08c[_0x10caab(0x1ad)]();if(!_0x1acba0)throw new Error(_0x506781);_0x506781[_0x10caab(0x139)],await consultIncomeReport();}catch(_0x135a65){ntfShow(_0x10caab(0x1bd)),console[_0x10caab(0x156)](_0x135a65);}finally{hideLoadingModal();}});const reportWorker=new Worker('./js/apierp_export_wk.min.js');function _0x3e74(_0xc202f2,_0x5938c9){const _0x2f44ba=_0x55d8();return _0x3e74=function(_0x5eb132,_0x141d63){_0x5eb132=_0x5eb132-0xff;let _0x2cc8b2=_0x2f44ba[_0x5eb132];return _0x2cc8b2;},_0x3e74(_0xc202f2,_0x5938c9);}reportWorker[_0x102381(0x1ca)]=({data:_0x238eb9})=>{const _0x3ddd61=_0x102381,{type:_0x2383dc,payload:_0x306262,reportType:_0x380e4f}=_0x238eb9;if(_0x2383dc===_0x3ddd61(0x132)){const _0x158d13=new Blob([_0x238eb9[_0x3ddd61(0x14e)]],{'type':_0x3ddd61(0x19e)}),_0x2d5787=URL[_0x3ddd61(0x18b)](_0x158d13),_0x41852b=document[_0x3ddd61(0x178)]('a'),_0x3d50bf=new Date()[_0x3ddd61(0x17d)]()['slice'](0x0,0xa);_0x41852b[_0x3ddd61(0x1dc)]=_0x2d5787,_0x41852b['download']=_0x380e4f+'_'+_0x3d50bf+'.xlsx',_0x41852b[_0x3ddd61(0x180)](),URL[_0x3ddd61(0x10c)](_0x2d5787);}_0x2383dc==='error'&&(console['error'](_0x3ddd61(0x18c),_0x306262),ntfShow(_0x3ddd61(0x1d0)));},document['getElementById'](_0x102381(0x19c))[_0x102381(0x188)]('click',onClickExport);function onClickExport(){const _0x5ecaec=_0x102381;if(!Array[_0x5ecaec(0x19a)](arrayIncomes)||!arrayIncomes['length'])return ntfShow(_0x5ecaec(0x106));const _0x4d72cf=arrayIncomes[_0x5ecaec(0x1e1)](_0x1c751a=>{const _0x2b8d40=_0x5ecaec,[_0x5c4d52]=_0x1c751a[_0x2b8d40(0x10d)][_0x2b8d40(0x19f)]('\x20'),[_0x28e580,_0x23cfc1,_0x4909e2]=_0x5c4d52[_0x2b8d40(0x19f)]('-');return{'Periodo':''+_0x28e580+_0x23cfc1,'CorrelativoCUO':'','FechaEmision':_0x4909e2+'/'+_0x23cfc1+'/'+_0x28e580,'FechaVencimiento':'','TipoComprobante':_0x1c751a[_0x2b8d40(0x1a9)],'SerieNumero':_0x1c751a[_0x2b8d40(0xff)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x1c751a[_0x2b8d40(0x128)],'BaseImponible':'','IGV':'','TotalVenta':_0x1c751a[_0x2b8d40(0x125)],'Moneda':_0x1c751a[_0x2b8d40(0x1ac)],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x5ecaec(0x12a)]({'action':'exportReport','reportType':_0x5ecaec(0x16a),'report':_0x4d72cf});}window['onload']=function(){const _0x4cddea=_0x102381,_0x2b2bbb=0x5;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess();const _0x9e3d7=document[_0x4cddea(0x14c)](_0x4cddea(0x174));_0x9e3d7&&_0x9e3d7['addEventListener']('click',function(){logoutReload(0x0,_0x2b2bbb);}),document[_0x4cddea(0x1a4)](_0x4cddea(0x1d1))['addEventListener'](_0x4cddea(0x154),async function(){const _0x2951bb=_0x4cddea,_0x4ccfdb=parseInt(this[_0x2951bb(0x133)]);myCompany['setBranchDefault']=_0x4ccfdb;const _0x1f82a1=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1f82a1),cargarAlmacenes(_0x4ccfdb),setTimeout(()=>{const _0x1f74ed=_0x2951bb;document[_0x1f74ed(0x1a4)]('setWarehouseId')[_0x1f74ed(0x1d5)](new Event(_0x1f74ed(0x154)));},0x64),cargarPisos(_0x4ccfdb),setTimeout(()=>{const _0x501a73=_0x2951bb;document[_0x501a73(0x1a4)](_0x501a73(0x1b7))[_0x501a73(0x1d5)](new Event(_0x501a73(0x154)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x2951bb(0x17e)](_0x4ccfdb),consultIncomeReport();}),loadCartAndSetTabCount(_0x2b2bbb);};