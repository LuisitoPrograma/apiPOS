/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.5
*/

const _0x1caf5f=_0x3292;(function(_0x2ff8b5,_0x55a392){const _0x5a2e28=_0x3292,_0x4b0e29=_0x2ff8b5();while(!![]){try{const _0x1c2578=parseInt(_0x5a2e28(0x124))/0x1+parseInt(_0x5a2e28(0x277))/0x2+parseInt(_0x5a2e28(0x1e4))/0x3+parseInt(_0x5a2e28(0x1d6))/0x4+-parseInt(_0x5a2e28(0xa2))/0x5*(-parseInt(_0x5a2e28(0x309))/0x6)+parseInt(_0x5a2e28(0xba))/0x7+-parseInt(_0x5a2e28(0xd7))/0x8*(parseInt(_0x5a2e28(0x1b1))/0x9);if(_0x1c2578===_0x55a392)break;else _0x4b0e29['push'](_0x4b0e29['shift']());}catch(_0x181f56){_0x4b0e29['push'](_0x4b0e29['shift']());}}}(_0x3ebf,0x1a58f));const _0x32a2b2=(function(){let _0x43d664=!![];return function(_0x412b43,_0x550f8d){const _0x5f1054=_0x43d664?function(){if(_0x550f8d){const _0x3c589f=_0x550f8d['apply'](_0x412b43,arguments);return _0x550f8d=null,_0x3c589f;}}:function(){};return _0x43d664=![],_0x5f1054;};}()),_0x4ce124=_0x32a2b2(this,function(){const _0x555c67=_0x3292;return _0x4ce124['toString']()[_0x555c67(0xc2)]('(((.+)+)+)+$')[_0x555c67(0xd6)]()[_0x555c67(0xcf)](_0x4ce124)[_0x555c67(0xc2)](_0x555c67(0x176));});_0x4ce124();const _0x29ae42=(function(){let _0x5b6e67=!![];return function(_0x1901d6,_0x1635db){const _0x41a787=_0x5b6e67?function(){const _0x40cb3d=_0x3292;if(_0x1635db){const _0xf84019=_0x1635db[_0x40cb3d(0x2df)](_0x1901d6,arguments);return _0x1635db=null,_0xf84019;}}:function(){};return _0x5b6e67=![],_0x41a787;};}()),_0x12fc38=_0x29ae42(this,function(){const _0xef2656=_0x3292,_0x38facc=function(){const _0x17f10d=_0x3292;let _0x325078;try{_0x325078=Function(_0x17f10d(0x21a)+_0x17f10d(0x2c5)+');')();}catch(_0x3b57ba){_0x325078=window;}return _0x325078;},_0x5f1184=_0x38facc(),_0x31d312=_0x5f1184[_0xef2656(0x8b)]=_0x5f1184[_0xef2656(0x8b)]||{},_0x5012f9=[_0xef2656(0xae),_0xef2656(0x240),_0xef2656(0x2dd),_0xef2656(0x2b1),_0xef2656(0x2d5),_0xef2656(0x205),'trace'];for(let _0x304ad8=0x0;_0x304ad8<_0x5012f9[_0xef2656(0x168)];_0x304ad8++){const _0x25b74f=_0x29ae42[_0xef2656(0xcf)]['prototype']['bind'](_0x29ae42),_0xdd43fa=_0x5012f9[_0x304ad8],_0x180137=_0x31d312[_0xdd43fa]||_0x25b74f;_0x25b74f[_0xef2656(0x19f)]=_0x29ae42['bind'](_0x29ae42),_0x25b74f['toString']=_0x180137[_0xef2656(0xd6)][_0xef2656(0x1a2)](_0x180137),_0x31d312[_0xdd43fa]=_0x25b74f;}});_0x12fc38();function _0x3ebf(){const _0xb65780=['2000','contains','AR0','value','cl19','rows','./json/peru_departamentos.json','setHours','icon-arrow-right','setObservacion','setItemVariantValues','setCompanyDoc','display','220108XmBGqe','Error\x20desconocido\x20al\x20actualizar\x20Data.','setImpuestos','setItemImages','Error\x20','pricePerKm','add','embedFont','septiembre','ntf-flotante-container-top','./json/peru_distritos.json','8px','deleteObjectStore','9999','126504bAfZOT','Error\x20Network.','gmp-select','now','setUnidadCodigo','setBranchId','].setItemImages[','.product[tabindex=\x270\x27]','Ocurrió\x20un\x20error\x20al\x20enviar\x20el\x20correo.','Products\x20Empty.','dataset','webkitFullscreenElement','892c0ae1aa021c31396d82f1','.autocomplete-wrapper','setBranches','concat','select','catch','lastTs','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','data','setSerie','setCorrelativo','.autocomplete-wrapper\x20input','oncomplete','change','<br>\x0aStock\x20Actual:\x20','getFullYear','CLOSED','rgf4x32','title','TravelMode','route','table','checkout-btn-','layout','marzo','setSuppliers','setTipoOperacion','save','close','click','selectedCode','clear','2px','origin','setSeries','setClienteNumDoc','createObjectURL','options','Products\x20Load.','Error\x20en\x20la\x20solicitud:','https://','SW\x20New\x20Version','return\x20(function()\x20','widthOfTextAtSize','blur','🔥\x20gmp-select\x20fired!','script','Eliminar\x20producto','msFullscreenElement','setCartTmp','classList','#fff','type','onupdatefound','sectionInfoItem','translateX(-','Configurando\x20Ventana\x20ID:\x20','setFechaHoraReadonly','offsetLeft','infoLoadingModal','removeEventListener','innerHTML','.modal-close-carousel','embedJpg','geolocation','offline_operations','setTaxId','setClienteDireccion','setWindows','SW\x20Success','fixed','setOperationType','addListener','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','finally','TOP_LEFT','startsWith','.payment-option','http://www.w3.org/2000/svg','setOperationSeries','warn','createIndex','option','setDespacho','objectStore','tabs-icon-online','then','offsetWidth','disabled','windowId','navigator','data-ntf-index','.dropdown-item-pais-flag','transaction','setMtoPrecioCostoUnitario','S01','setSucursalStock','toPlace','setBankAccounts','\x27\x20creado\x20correctamente.','Error\x20en\x20WebSocket','setCodeBarTypeId','Procesamiento\x20de\x20datos\x20exitoso\x20...','requestFullscreen','password','32px','Backspace','sort','closest','Stock\x20Actual:\x20','useGeolocation','\x20no\x20encontrado\x20en\x20products.','onupgradeneeded','pointer','ntf-modal-actions','enero','setPlacesStart','src','insertBefore','usuario','Producto\x20con\x20id\x20','noviembre','64system','setAttachEdit','slice','newItems','get','HTTP\x20','setFloorId','32system','ntf-flotante-blue','Modo\x20online\x20...','beforeend','\x20...','setCredentialsApiWAChatIdDefault','73480aBhMOI','Error\x20en\x20setOrders\x20para\x20windowId=','mozRequestFullScreen','detalleModalLayout','serviceWorker','windowsUpdate','✔️\x20¡Sincronizado!','Error\x20desconocido.','size','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','relative','setBranchName','uniqIdState','readAsDataURL','iconUrl','setCollaborators','.dropdown-list-pais-flag','btn-access-login','https://maps.googleapis.com/maps/api/js?key=','setLayout','AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0','setSellerId','height','filename','CODE128','x63s','removeItem','setMessage','webkitExitFullscreen','version','message','setUnidad','transform','open','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','setItemType','setShifts','Obteniendo\x20de\x20','DRIVING','apiERP','Por\x20seguridad,\x20únicamente\x20necesitas\x20internet\x20para\x20acceder!','lat','keys','input,\x20select,\x20button,\x20a:not(.payment-option)','tabs-icon-offline','co19','stopPropagation','setProductos','setCompanyName','remove','onclick','ntf-flotante-container-bottom','delete','setOperationDateTransfer','objectStoreNames','diciembre','setConversionFactor','Obteniendo\x20Items\x20y\x20Presentaciones\x20...','error','setOperationVehicleName','64x32xsystem','Error\x20in\x20saving\x20to\x20store\x20','protocol','put','\x20a\x20','Obteniendo\x20datos\x20...','setItemDescription','wss','number','setUserEmail','tabs-notifications','fill','drawImage','invoice','Este\x20item\x20no\x20tiene\x20configurado\x20un\x20código\x20de\x20barras.','toFixed','Agregar\x20Variantes','toDataURL','{}.constructor(\x22return\x20this\x22)(\x20)','longitude','CO0','setOperationPlaceStartCode','appendChild','dispatchEvent','setUser_Local','setPlanName','style',']\x20–\x20se\x20omite.','S02','resize','success','stringify','alt','Delete','exception','Error\x20al\x20enviar\x20operación\x20offline:','Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.','ambientes','\x0a<h3>','setCredentialsApiWAChatId','Error\x20guardando\x20operación:\x20','Helvetica','info','Error\x20al\x20obtener\x20las\x20operaciones:\x20','apply','className','username','Imagen\x20inválida\x20en\x20newItems[','CL0','./img/product.png','Item','tagName','Domain\x20not\x20registered.','ntf-flotante-orange','visible','distance','setCustomerEmail','\x20de\x20','object','\x20ventanas','setBatchName','isArray','setCredentialsApiWAChatPort','setCredentialsApiWAChat','createElementNS','state','setCodeBarTypeName','cart_','d-none','uy10','Stock\x20mínimo:\x20','No\x20hay\x20setAuthToken\x20para\x20WebSocket','icon-arrow-right\x20hidden','autocomplete-wrapper','parentNode','data:image/svg+xml;base64,','__test_ls__','route-cost','window_options_','json','hidden','getAll','Directions\x20request\x20failed:','setSellerName','flex','addEventListener','92166dEEsJy','\x20km','Todos\x20los\x20campos\x20son\x20obligatorios.','setUsuarios','console','ntf-notifications-list','lng','x64c','setCompanyEmail','\x0aEl\x20producto\x20\x22','center','animationend','documento.pdf','setItemId','setDescripcion','result','btnSaveOperacion-','setAttribute','Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712','setOperationPlaceArrivalDistrict','application/json;\x20charset=utf-8','header','setWarehouseName','addPage','pdfBlob','Error\x20al\x20obtener\x20items','svg','5wUOtvq','append','Inicio\x20de\x20sesión\x20exitoso\x20...','\x0a<img\x20id=\x22imgLoadingModal\x22\x20src=\x22./img/icon/android-icon-192x192.png\x22>\x0a<p\x20id=\x22infoLoadingModal\x22>\x0aCargando\x20...\x0a</p>\x0a<svg\x20id=\x22svgLoadingModal\x22\x20width=\x2230\x22\x20height=\x2230\x22\x20viewBox=\x220\x200\x2030\x2030\x22>\x0a<circle\x20cx=\x2215\x22\x20cy=\x2215\x22\x20r=\x2212\x22\x20fill=\x22none\x22\x20stroke=\x22#FF5900\x22\x20stroke-width=\x224\x22\x20stroke-dasharray=\x2225.132\x2075.398\x22\x20stroke-dashoffset=\x220\x22\x20/>\x0a<circle\x20cx=\x2215\x22\x20cy=\x2215\x22\x20r=\x2212\x22\x20fill=\x22none\x22\x20stroke=\x22#111111\x22\x20stroke-width=\x224\x22\x20stroke-dasharray=\x2225.132\x2075.398\x22\x20stroke-dashoffset=\x22-25.132\x22\x20/>\x0a<circle\x20cx=\x2215\x22\x20cy=\x2215\x22\x20r=\x2212\x22\x20fill=\x22none\x22\x20stroke=\x22#080060\x22\x20stroke-width=\x224\x22\x20stroke-dasharray=\x2225.132\x2075.398\x22\x20stroke-dashoffset=\x22-50.265\x22\x20/>\x0a</svg>\x0a','min','embedPng','setBatchExpirationDate','E01','input','\x20Items\x20y\x20Presentaciones','textContent','Tab','log','https://apierp.dev/api/email/send/','Products\x20Load\x20Error:','setUserName','panTo','setCajeroCodigo','opacity','locations','exitFullscreen','xtt3','onload','has','1187935pLnEiV','Total:\x20','products','legs','getDate','setOperationVehicleBrand','readonly','.carousel-next','search','itemModal','./app.js?v=4.3.5','getBoundingClientRect','searchInput','Cerrando\x20Sesión\x20...','setCodeBarTypes','BranchChangeComplete','loadingModal','active','name','focus','setPrinters','constructor','async','cloneNode','coords','Plan\x20Impulsa','mx08','setZoom','toString','42936HNdgaG','setCompanyWebsite','setEmpresaDomainWork','application/json','setWarehouseId','setCurrencyDefault','drawText','multi-markers','getItem','controller','DirectionsRenderer','querySelectorAll','ntf-flotante-top','://wss.apierp.dev/ws?token=','barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal','.<br>','</h3><p>','No\x20se\x20pudo\x20eliminar\x20operación\x20procesada:\x20','setTipoOperacionInvoice','webkitRequestFullscreen','topbar','octubre','setAuthToken','setCustomers','charCodeAt','fetchFields','id_registro','setCustomerPhone','Sincronizando\x20...','setOperationPlaceArrivalId','msRequestFullscreen','justifyContent','mimetype','find','filter','junio','target','key','setFechaHora','alignItems','setOperationPlaceArrivalAddress','onSelect','julio','\x20Items\x20y\x20Presentaciones\x20...','trim','defer','width','reject','0\x202px\x208px\x20rgba(0,0,0,0.2)','google','overflow','setCompanyPhone','onerror','setCodProducto','counter','setMarca','setIdSucursal','ntf-flotante-container','some','reload','.select-button-pais-flag','image/png','OPEN','includes','setCartTmpInitial','text','&libraries=places&v=weekly','\x22\x20para\x20registro\x20#','mouseover','serializeToString','WebSocket\x20conectado.','company','setUserId','/wa/','payment-option','img','setWarehouses','51901yhEYVL','position','setUserFullName','btn-details-ntf-variant','#detalleModalPay','indexOf','mozCancelFullScreen','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','layoutState','day','Bienvenido(a)\x20','setItemIsBought','currency','login','x32','onLine','currency_data','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','Creando\x20','DirectionsService','statusText','setImages','setWindowId','querySelector','block','ControlPosition','<option\x20value=\x220\x22>Seleccione</option>','substr','setOperationPlaceStartId','backgroundColor','mayo','Google\x20Maps\x20cargó,\x20pero\x20no\x20se\x20encontró\x20window.google.maps','Solo\x20necesitas\x20internet\x20para\x20acceder!','getContext','setCredentialsApiWAChatAlias','parse','\x20del\x20','setOperationTransferReason','Obteniendo\x20Departamentos,\x20Provincias,\x20Distritos\x20...','getClientRects','autocomplete-list','function','setOperationVehicleId','pcrcl','Google\x20Maps\x20SDK\x20listo','Ver\x20movimientos','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','mousedown','string','.carousel-prev','setCategoria','resolve','⚠️\x20placePrediction\x20no\x20está\x20en\x20evt','setOperationDateExpiration','setMoneda','split','button','🌐\x20No\x20se\x20pudo\x20obtener\x20ubicación\x20por\x20IP','Registrar\x20movimiento','installing','assign','places','latLng','Error:\x20','latitude','readwrite','forEach','register','length','setOperationDriverLicense','push','single-select','top','nextSibling','setPriceLists','msExitFullscreen','ntf-flotante-green','controllerchange','newItems[','Acción\x20\x22','setCashierName','shiftKey','(((.+)+)+)+$','Sincronización\x20completada\x20correctamente.','onsuccess','setUsers','][setItemImages][','POST','ntfIndex','setOperationPlaceArrivalCode','setVehicles','canvas','toLowerCase','ar10.5','setImg','div','unshift','100%','MX20','port','abril','offsetTop','zIndex','offsetHeight','\x22\x20llegó\x20al\x20stock\x20mínimo.<br>\x0aStock\x20Mínimo:\x20','location','Evento\x20windowsUpdate\x20recibido.','No\x20hay\x20operaciones\x20para\x20sincronizar.','ntf-flotante-message\x20','Error\x20al\x20guardar\x20el\x20layout:\x20','setItem','body','setItemIsSold','setCompanyLogo','coordsInputId','detalleModalPay','placePrediction','ObjectStore\x20\x27','preventDefault','INPUT','setCompanyAddress','setOperationPlaceStartAddress','absolute','__proto__','¡Todo\x20Listo!','setClienteDenominacion','bind','reduce','Error\x20Update:','createObjectStore','sucursales','\x20-\x20','ntf-notif-count','onstatechange','maps','Base\x20de\x20datos\x20abierta\x20correctamente\x20después\x20de\x20agregar\x20ObjectStores.','Map','setBranchDefault','none','createElement','setOperationVehiclePlate','441WRSxDr','setIdProducto','https://apierp.dev/api/apiPOS/get/','En\x20Modo\x20Offline\x20no\x20se\x20conectan\x20los\x20WebSockets\x20Online','/send','apiPOSsendOffline','getElementById','map','10px','lbtom','status','ar21','reason','from','setImpuestoCode','\x20operaciones\x20restantes...','readyState','every','Iniciando\x20sesión\x20...','producto','https://apierp.dev/api/apiPOS/update/','department_id','setInventariable','setItemUnitAlias'];_0x3ebf=function(){return _0xb65780;};return _0x3ebf();}let myCompany,db=null,dbPromise=null,db_name=_0x1caf5f(0x29e),dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=[_0x1caf5f(0x263),'febrero',_0x1caf5f(0x208),_0x1caf5f(0x188),_0x1caf5f(0x142),_0x1caf5f(0xfa),_0x1caf5f(0x101),'agosto',_0x1caf5f(0x1de),_0x1caf5f(0xec),_0x1caf5f(0x269),_0x1caf5f(0x2ae)],gdfg5g='f34f',x45fgd='x3',xjehd78='xpos',cxkdj4='x64',x87s8d=_0x1caf5f(0x132),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x1caf5f(0x271),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x1caf5f(0x8e),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d=_0x1caf5f(0x290),xg123f='45x',xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x1caf5f(0xb7),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x1caf5f(0x26a),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x1caf5f(0x187),mx92n='p',xeeuu='r',xs98x='a',pcrtx='ltop',x78xh='r',px32b='o',x64x44x54='33x54xsystem',x64x32x33=_0x1caf5f(0x2b3),kkx12='s',ak47r=_0x1caf5f(0x201),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc=_0x1caf5f(0x14f),p34d9='d',kx32h='v',yx34l='p',pltbr=_0x1caf5f(0x1ba),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x1caf5f(0x24f),_0x1caf5f(0x2cf),'mx16',_0x1caf5f(0xd4),_0x1caf5f(0x1bc),_0x1caf5f(0x181),_0x1caf5f(0x1cd),_0x1caf5f(0x2a4),'co5','uy22',_0x1caf5f(0x2f8)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x1caf5f(0x1f3)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x1caf5f(0xa9),_0x1caf5f(0x186),_0x1caf5f(0x1cb),_0x1caf5f(0x2e3),_0x1caf5f(0x2c7),'UY0'],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseOrder=['48','49','50','51','52','53','54'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeShippingGuide=['55','56','57','58','59','60','61'],setTipOpeSales=setTipOpeSalesReceipt['concat'](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x1caf5f(0x1f3)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x1caf5f(0x1f3)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation,setTipOpePurchaseOrder,setTipOpeShippingGuide),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x539da5,_0x38266b=0x0){const _0x5cbe56=_0x1caf5f;await apiERPgetWindows();const _0x2556dc=document[_0x5cbe56(0x1b7)](_0x5cbe56(0x27a));if(_0x2556dc[_0x5cbe56(0x222)][_0x5cbe56(0x1ca)](_0x5cbe56(0xcb))){const _0xc572f8=document[_0x5cbe56(0x1b7)]('setFloorId')[_0x5cbe56(0x1cc)],_0x176d90=document['getElementById'](_0x5cbe56(0x1e9))['value'];await cargarVentanas(_0x176d90,_0xc572f8),createTabsEnvironments();}if(Array[_0x5cbe56(0x2f0)](_0x539da5))for(const _0x3c4686 of _0x539da5){try{await setOrders(_0x3c4686,_0x38266b);}catch(_0x1ac4d6){console[_0x5cbe56(0x2b1)](_0x5cbe56(0x278)+_0x3c4686+':',_0x1ac4d6);}}else console[_0x5cbe56(0x240)]('No\x20es\x20un\x20array\x20valido:',_0x539da5);}let socket;function conectarWebSocket(_0x22f7cf){const _0x5f583d=_0x1caf5f;if(!isOnline()){console['log']('En\x20Modo\x20Offline\x20no\x20se\x20conectan\x20los\x20WebSockets\x20Online');return;}if(socket&&socket[_0x5f583d(0x1c1)]!==WebSocket[_0x5f583d(0x200)]){console[_0x5f583d(0xae)](_0x5f583d(0x12b));return;}const _0x28b28f=myCompany['setAuthToken'];if(!_0x28b28f){console[_0x5f583d(0x2b1)](_0x5f583d(0x2fa));return;}const _0x39f7a2=location[_0x5f583d(0x2b5)]==='https:'?_0x5f583d(0x2ba):'ws',_0x245e49=_0x39f7a2+_0x5f583d(0xe4)+encodeURIComponent(_0x28b28f);socket=new WebSocket(_0x245e49),socket[_0x5f583d(0x308)](_0x5f583d(0x298),()=>{const _0x25461d=_0x5f583d;console[_0x25461d(0xae)](_0x25461d(0x11d));}),socket['addEventListener'](_0x5f583d(0x295),async _0x56f2ce=>{const _0x47497f=_0x5f583d;try{const _0x41fd91=JSON[_0x47497f(0x147)](_0x56f2ce[_0x47497f(0x1f8)]);if(_0x22f7cf==0x1){if(_0x41fd91[_0x47497f(0x224)]===_0x47497f(0x27c))console[_0x47497f(0xae)](_0x47497f(0x18e)),await reloadWindowsAndLayout(_0x41fd91['data'],0x0),ntfShow(_0x47497f(0x27d),0x1,0x2);else _0x41fd91[_0x47497f(0x224)]==='updateLastCorrelative'?(console['log']('Evento\x20updateLastCorrelative\x20recibido.'),updateLastCorrelativeOnline(_0x41fd91['data'][_0x47497f(0x237)],_0x41fd91[_0x47497f(0x1f8)][_0x47497f(0x23f)])):console['log']('Mensaje\x20WS\x20no\x20reconocido:',_0x41fd91);}}catch(_0x2fa456){console['error']('Error\x20procesando\x20mensaje\x20WS',_0x2fa456);}}),socket[_0x5f583d(0x308)](_0x5f583d(0x20c),_0x41be22=>{const _0x7610e4=_0x5f583d;console['warn']('WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...',_0x41be22[_0x7610e4(0x1bd)]),setTimeout(()=>{const _0x2b111e=_0x7610e4;isOnline()?conectarWebSocket():console['log'](_0x2b111e(0x1b4));},0x3a98);}),socket['addEventListener']('error',_0x1acf7c=>{const _0x52910f=_0x5f583d;console['error'](_0x52910f(0x254),_0x1acf7c);});}function isWebSocketActive(){const _0x4e370a=_0x1caf5f;return socket&&socket['readyState']===WebSocket[_0x4e370a(0x115)];}function getQueryParam(_0x4259ae){const _0x2cb165=_0x1caf5f,_0x35ed67=new URLSearchParams(window[_0x2cb165(0x18d)]['search']);return _0x35ed67['get'](_0x4259ae);}function setUserNameGet(){const _0xab9789=_0x1caf5f,_0x15ebf0=getQueryParam(_0xab9789(0x2e1)),_0x3ecf75=document[_0xab9789(0x1b7)](_0xab9789(0x267));_0x15ebf0&&_0x3ecf75&&(_0x3ecf75[_0xab9789(0x1cc)]=_0x15ebf0);}function generateUniqId(){const _0x4a8f38=_0x1caf5f;return Date[_0x4a8f38(0x1e7)]()+'_'+Math['random']()[_0x4a8f38(0xd6)](0x24)[_0x4a8f38(0x13f)](0x2,0x9);}var hasLocalStorage=(function(){const _0x31e3fd=_0x1caf5f;try{var _0x3e3aee=_0x31e3fd(0x2ff);return localStorage['setItem'](_0x3e3aee,_0x3e3aee),localStorage[_0x31e3fd(0x291)](_0x3e3aee),!![];}catch(_0x3f2769){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x1bc695=_0x1caf5f;if(!hasLocalStorage){var _0x701ab3=Date[_0x1bc695(0x1e7)]();return _0x701ab3===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x701ab3,counter_mem=0x0),_0x701ab3*0x3e8+counter_mem;}var _0x898c60=_0x1bc695(0x283),_0x43ae20;try{var _0x229672=localStorage[_0x1bc695(0xdf)](_0x898c60);_0x43ae20=_0x229672?JSON[_0x1bc695(0x147)](_0x229672):{'lastTs':0x0,'counter':0x0},(typeof _0x43ae20[_0x1bc695(0x1f6)]!=='number'||typeof _0x43ae20[_0x1bc695(0x10d)]!==_0x1bc695(0x2bb))&&(_0x43ae20={'lastTs':0x0,'counter':0x0});}catch(_0x50cc7a){_0x43ae20={'lastTs':0x0,'counter':0x0};}var _0x41f8b2=Date[_0x1bc695(0x1e7)]();_0x41f8b2===_0x43ae20['lastTs']?_0x43ae20[_0x1bc695(0x10d)]=(_0x43ae20[_0x1bc695(0x10d)]+0x1)%0x3e8:(_0x43ae20[_0x1bc695(0x1f6)]=_0x41f8b2,_0x43ae20['counter']=0x0);var _0x1f557b=_0x41f8b2*0x3e8+_0x43ae20['counter'];try{localStorage[_0x1bc695(0x192)](_0x898c60,JSON['stringify'](_0x43ae20));}catch(_0x5b20d0){}return _0x1f557b;}function blobAStringBase64(_0x43a41f){return new Promise((_0x5e4e59,_0x518ce0)=>{const _0x1ba9df=_0x3292,_0x51650a=new FileReader();_0x51650a['onloadend']=()=>{const _0x29056d=_0x3292,_0x34b10a=_0x51650a[_0x29056d(0x96)],_0x1678c1=_0x34b10a['split'](',');if(_0x1678c1[_0x29056d(0x168)]!==0x2)return _0x518ce0(new Error('Formato\x20inesperado\x20en\x20base64'));_0x5e4e59(_0x1678c1[0x1]);},_0x51650a[_0x1ba9df(0x10b)]=_0x4b27de=>_0x518ce0(_0x4b27de),_0x51650a[_0x1ba9df(0x284)](_0x43a41f);});}async function generarBarcodeDataURL(_0x1c04fc,_0x59e3d8){return new Promise((_0x3e32f7,_0x131823)=>{const _0x31df8b=_0x3292,_0x46354e=myCompany[_0x31df8b(0xc8)]['find'](_0x130bcf=>_0x130bcf[_0x31df8b(0x255)]==_0x1c04fc),_0x47ec60=_0x46354e?_0x46354e[_0x31df8b(0x2f5)]:_0x31df8b(0x28f),_0x24cf74=document[_0x31df8b(0x2f3)](_0x31df8b(0x23e),_0x31df8b(0xa1));JsBarcode(_0x24cf74,_0x59e3d8,{'format':_0x47ec60,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x1c1646=new XMLSerializer()[_0x31df8b(0x11c)](_0x24cf74),_0x2bb4d4=btoa(_0x1c1646),_0x1f8ea8=_0x31df8b(0x2fe)+_0x2bb4d4,_0x56d5ea=new Image();_0x56d5ea['onload']=()=>{const _0x5963f9=_0x31df8b,_0x1c6d81=document['createElement'](_0x5963f9(0x17f));_0x1c6d81[_0x5963f9(0x105)]=_0x56d5ea['width'],_0x1c6d81['height']=_0x56d5ea[_0x5963f9(0x28d)];const _0x1250ca=_0x1c6d81[_0x5963f9(0x145)]('2d');_0x1250ca[_0x5963f9(0x2bf)](_0x56d5ea,0x0,0x0);const _0x4fadba=_0x1c6d81[_0x5963f9(0x2c4)](_0x5963f9(0x114));_0x3e32f7(_0x4fadba);},_0x56d5ea['onerror']=_0x3313d1=>_0x131823(_0x3313d1),_0x56d5ea['src']=_0x1f8ea8;});}async function generarStickersPDF(_0x8a3e71,_0x17d12f,_0x13aa49){const _0x1d802c=_0x1caf5f,{PDFDocument:_0x3df8b0,StandardFonts:_0xeac696,rgb:_0x2598b3}=PDFLib,_0x6e6d98=products[_0x1d802c(0xf8)](_0x1595ca=>_0x1595ca['id']==_0x13aa49);if(!_0x6e6d98){console['error'](_0x1d802c(0x268)+_0x13aa49+_0x1d802c(0x25f));return;}const _0x18c7b0=_0x6e6d98['setDescripcion'][_0x1d802c(0x103)](),_0x38e0ad=document[_0x1d802c(0x1b7)](_0x1d802c(0x249))[_0x1d802c(0x1cc)],_0x55793d=document['getElementById']('setMoneda-'+_0x38e0ad)['value'],_0x292217=(_0x6e6d98['currency_data']||[])['find'](_0x39b044=>_0x39b044[_0x1d802c(0x130)]==_0x55793d)||{},_0x465a30=_0x292217[_0x1d802c(0x24e)]||0x0,_0x3668ba=getCurrencySymbol(_0x38e0ad),_0x4c5c36=Number(_0x465a30)||0x0,_0x1a9493=_0x3668ba+'\x20'+_0x4c5c36['toFixed'](0x2),_0x2cdc87=await _0x3df8b0['create'](),_0x27d7cb=_0x4e5f10=>_0x4e5f10*2.83465,_0x359e82=_0x27d7cb(0x70*0x2),_0x2850bf=_0x27d7cb(40.8),_0x41924b=_0x2cdc87[_0x1d802c(0x9e)]([_0x359e82,_0x2850bf]),_0x1d9c21=await _0x2cdc87[_0x1d802c(0x1dd)](_0xeac696[_0x1d802c(0x2dc)]),_0x1170ca=Array(0x2)[_0x1d802c(0x2be)](_0x17d12f),_0x508d77=0x2,_0x4bd997=0x1,_0x242862=0xc,_0x499026=_0x359e82/_0x508d77,_0x4e901b=_0x2850bf/_0x4bd997;for(let _0x588258=0x0;_0x588258<0x2;_0x588258++){const _0x50e58e=_0x1170ca[_0x588258],_0x101be5=await generarBarcodeDataURL(_0x8a3e71,_0x50e58e),_0x2b1c3e=_0x101be5[_0x1d802c(0x15b)](',')[0x1],_0x31dc85=Uint8Array[_0x1d802c(0x1be)](atob(_0x2b1c3e),_0x1b5997=>_0x1b5997[_0x1d802c(0xef)](0x0));let _0x300b7b;try{_0x300b7b=await _0x2cdc87[_0x1d802c(0xa7)](_0x31dc85);}catch{_0x300b7b=await _0x2cdc87[_0x1d802c(0x22f)](_0x31dc85);}const _0x38908e=0x5,_0x51393b=_0x242862+0x4,_0x2d1e84=_0x242862*0x2+0x4,_0x9ed5ed=_0x18c7b0,_0x488c0a=_0x1a9493,_0x28da7b=_0x588258%_0x508d77,_0x5b25e4=_0x1d9c21[_0x1d802c(0x21b)](_0x9ed5ed,_0x242862),_0x3651ce=_0x1d9c21[_0x1d802c(0x21b)](_0x488c0a,_0x242862),_0x4411a4=_0x28da7b*_0x499026+(_0x499026-_0x5b25e4)/0x2,_0x19ca68=_0x28da7b*_0x499026+(_0x499026-_0x3651ce)/0x2,_0x5747c9=_0x4e901b-_0x38908e-_0x242862,_0x33712f=_0x5747c9-_0x242862-0x2;_0x41924b[_0x1d802c(0xdd)](_0x9ed5ed,{'x':_0x4411a4,'y':_0x5747c9,'size':_0x242862,'font':_0x1d9c21,'color':_0x2598b3(0x0,0x0,0x0)}),_0x41924b['drawText'](_0x488c0a,{'x':_0x19ca68,'y':_0x33712f,'size':_0x242862,'font':_0x1d9c21,'color':_0x2598b3(0x0,0x0,0x0)});const _0x30784f=_0x499026-_0x38908e*0x2,_0x2789c1=_0x4e901b-_0x38908e*0x2-_0x2d1e84-_0x51393b,_0x1587e4=_0x300b7b[_0x1d802c(0x105)],_0x2f0762=_0x300b7b[_0x1d802c(0x28d)],_0x1c1948=Math[_0x1d802c(0xa6)](_0x30784f/_0x1587e4,_0x2789c1/_0x2f0762,0x1),_0x18847d=_0x300b7b['scale'](_0x1c1948),_0x55344d=_0x28da7b*_0x499026+(_0x499026-_0x18847d[_0x1d802c(0x105)])/0x2,_0x1f5229=_0x33712f-_0x18847d[_0x1d802c(0x28d)]-0x4;_0x41924b[_0x1d802c(0x2bf)](_0x300b7b,{'x':_0x55344d,'y':_0x1f5229,'width':_0x18847d['width'],'height':_0x18847d[_0x1d802c(0x28d)]});const _0x5a4175=_0x1d9c21['widthOfTextAtSize'](_0x50e58e,_0x242862),_0x38f974=_0x28da7b*_0x499026+(_0x499026-_0x5a4175)/0x2,_0x10aa22=_0x1f5229-_0x242862-0x2;_0x41924b[_0x1d802c(0xdd)](_0x50e58e,{'x':_0x38f974,'y':_0x10aa22,'size':_0x242862,'font':_0x1d9c21,'color':_0x2598b3(0x0,0x0,0x0)});}const _0x294288=await _0x2cdc87[_0x1d802c(0x20b)](),_0x35f657=new Blob([_0x294288],{'type':'application/pdf'}),_0x29c655=URL[_0x1d802c(0x214)](_0x35f657);window[_0x1d802c(0x298)](_0x29c655);}async function sendEmail(_0xf837ed,_0x2acee6,_0x469d0b,_0x377f10,_0x34e805,_0x4fb1fa,_0x43beec,_0x52afb3,_0x34e507,_0x495305){const _0xa79b87=_0x1caf5f;if(isOnline()){const _0x51ae94={'setAuthToken':_0xf837ed,'senderName':_0x2acee6,'senderEmail':_0x469d0b,'senderPassword':_0x377f10,'smtpHost':_0x34e805,'smtpPort':_0x4fb1fa,'emailsDestination':_0x43beec,'subject':_0x52afb3,'message':_0x34e507,'attachFiles':_0x495305};try{const _0x3b79aa=await fetch(_0xa79b87(0xaf),{'method':'POST','headers':{'Content-Type':_0xa79b87(0x9b)},'body':JSON[_0xa79b87(0x2d2)](_0x51ae94)}),_0x492d86=await _0x3b79aa['json']();if(!_0x3b79aa['ok']||!_0x492d86[_0xa79b87(0x2d1)]){console[_0xa79b87(0x2b1)]('Error\x20al\x20enviar\x20correo:',_0x492d86),ntfShow(_0xa79b87(0x1ec));return;}}catch(_0x497fa1){console[_0xa79b87(0x2b1)](_0xa79b87(0x217),_0x497fa1);}}}function loadLoginContent(_0x211139){const _0xa4f363=_0x1caf5f,_0x2aef1f=document['getElementById']('login');_0x2aef1f[_0xa4f363(0x22d)]=_0xa4f363(0x152)+_0x211139+'\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>👤\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>🔐\x20Contraseña:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contraseña\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>👁️</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>⌫</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;Aún\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¡Regístrate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnología\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.3.5\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a';}function addNumber(_0x51bead){const _0x4c7a0b=_0x1caf5f;document['getElementById']('password')[_0x4c7a0b(0x1cc)]+=_0x51bead;}function deleteNumber(){const _0xbfa14a=_0x1caf5f;let _0x224e4e=document['getElementById']('password');_0x224e4e['value']=_0x224e4e['value'][_0xbfa14a(0x26c)](0x0,-0x1);}function togglePassword(){const _0x254f7f=_0x1caf5f;let _0x411ace=document[_0x254f7f(0x1b7)]('password');_0x411ace[_0x254f7f(0x224)]=_0x411ace[_0x254f7f(0x224)]==_0x254f7f(0x258)?_0x254f7f(0x118):_0x254f7f(0x258);}function setEventBtnAccess(){const _0x4bedc7=_0x1caf5f,_0x1587b9=document[_0x4bedc7(0x1b7)](_0x4bedc7(0x288));_0x1587b9[_0x4bedc7(0x2a9)]=function(){acceder();};}function isOnline(){const _0xf8cfee=_0x1caf5f;return window[_0xf8cfee(0x24a)][_0xf8cfee(0x133)];}function showLoadingModal(){const _0x521d84=_0x1caf5f,_0x1a3ed4=document[_0x521d84(0x1af)]('div');_0x1a3ed4['id']=_0x521d84(0xca),_0x1a3ed4[_0x521d84(0x2cd)][_0x521d84(0x125)]=_0x521d84(0x236),_0x1a3ed4['style'][_0x521d84(0x16c)]='0',_0x1a3ed4['style']['left']='0',_0x1a3ed4[_0x521d84(0x2cd)][_0x521d84(0x105)]=_0x521d84(0x185),_0x1a3ed4['style']['height']=_0x521d84(0x185),_0x1a3ed4[_0x521d84(0x2cd)][_0x521d84(0x141)]='#F7F7F7',_0x1a3ed4[_0x521d84(0x2cd)]['display']=_0x521d84(0x307),_0x1a3ed4[_0x521d84(0x2cd)][_0x521d84(0xf6)]='center',_0x1a3ed4['style'][_0x521d84(0xfe)]=_0x521d84(0x91),_0x1a3ed4[_0x521d84(0x2cd)][_0x521d84(0x18a)]=_0x521d84(0x1e3),_0x1a3ed4[_0x521d84(0x2cd)]['opacity']='1',_0x1a3ed4['style']['transition']=_0x521d84(0x1ae),_0x1a3ed4[_0x521d84(0x22d)]=_0x521d84(0xa5),document[_0x521d84(0x193)][_0x521d84(0x2c9)](_0x1a3ed4);}function hideLoadingModal(){const _0x1b75a8=_0x1caf5f,_0x483cf3=document[_0x1b75a8(0x1b7)](_0x1b75a8(0xca));_0x483cf3&&(_0x483cf3[_0x1b75a8(0x2cd)][_0x1b75a8(0xb4)]='0',_0x483cf3[_0x1b75a8(0x2a8)]());}async function cargarAlmacenes(_0x12697d){const _0x9f41bc=_0x1caf5f,_0xbc1233=document[_0x9f41bc(0x1b7)]('setWarehouseId');_0xbc1233['innerHTML']='';const _0xd2726c=company[0x0][_0x9f41bc(0x1f2)][_0x9f41bc(0xf8)](_0x3570f7=>_0x3570f7[_0x9f41bc(0x1e9)]==_0x12697d);_0xd2726c&&_0xd2726c[_0x9f41bc(0x123)][_0x9f41bc(0x168)]>0x0&&_0xd2726c['setWarehouses']['forEach'](_0x4fe582=>{const _0x47f2fc=_0x9f41bc;let _0x55232e=document['createElement'](_0x47f2fc(0x242));_0x55232e[_0x47f2fc(0x1cc)]=_0x4fe582[_0x47f2fc(0xdb)],_0x55232e[_0x47f2fc(0xac)]=_0x4fe582[_0x47f2fc(0x9d)],_0xbc1233[_0x47f2fc(0x2c9)](_0x55232e);});}function getAllWarehouses(){const _0x3c1847=_0x1caf5f,_0x337066=company[0x0]['setBranches']||[],_0x2045f1=new Map();return _0x337066[_0x3c1847(0x166)](_0x4e62ee=>{const _0x5435fe=_0x3c1847;(_0x4e62ee[_0x5435fe(0x123)]||[])['forEach'](_0x1a21c4=>{const _0x771122=_0x5435fe;!_0x2045f1[_0x771122(0xb9)](_0x1a21c4[_0x771122(0xdb)])&&_0x2045f1['set'](_0x1a21c4['setWarehouseId'],{'setWarehouseId':_0x1a21c4[_0x771122(0xdb)],'setWarehouseName':_0x1a21c4[_0x771122(0x9d)]+'\x20('+_0x4e62ee[_0x771122(0x282)]+')'});});}),Array[_0x3c1847(0x1be)](_0x2045f1['values']());}async function cargarPisos(_0xc1e639){const _0x4c392d=_0x1caf5f,_0x1289e2=company[0x0][_0x4c392d(0x234)][_0x4c392d(0xf9)](_0x4ac708=>_0x4ac708[_0x4c392d(0x1e9)]==_0xc1e639),_0x33dc86={};_0x1289e2['forEach'](_0x5130cc=>{const _0x24029e=_0x4c392d;_0x33dc86[_0x5130cc[_0x24029e(0x270)]]=_0x5130cc['setFloorName'];});const _0x2f5437=document[_0x4c392d(0x1b7)](_0x4c392d(0x270));_0x2f5437[_0x4c392d(0x22d)]='';for(const _0x10b854 in _0x33dc86){const _0x35402b=document[_0x4c392d(0x1af)]('option');_0x35402b[_0x4c392d(0x1cc)]=_0x10b854,_0x35402b[_0x4c392d(0xac)]=_0x33dc86[_0x10b854],_0x2f5437[_0x4c392d(0x2c9)](_0x35402b);}}document[_0x1caf5f(0x1b7)]('fullscreen-btn')[_0x1caf5f(0x308)](_0x1caf5f(0x20d),()=>{const _0x486405=_0x1caf5f,_0x2612d0=document['documentElement'],_0x5a7496=document['fullscreenElement']||document[_0x486405(0x1ef)]||document['mozFullScreenElement']||document[_0x486405(0x220)];if(!_0x5a7496){if(_0x2612d0[_0x486405(0x257)])_0x2612d0[_0x486405(0x257)]();else{if(_0x2612d0[_0x486405(0xea)])_0x2612d0['webkitRequestFullscreen']();else{if(_0x2612d0['mozRequestFullScreen'])_0x2612d0[_0x486405(0x279)]();else _0x2612d0[_0x486405(0xf5)]&&_0x2612d0[_0x486405(0xf5)]();}}}else{if(document[_0x486405(0xb6)])document[_0x486405(0xb6)]();else{if(document[_0x486405(0x293)])document[_0x486405(0x293)]();else{if(document[_0x486405(0x12a)])document['mozCancelFullScreen']();else document[_0x486405(0x16f)]&&document['msExitFullscreen']();}}}});function openModalDetailsAndNtf(_0x308ad7,_0x4e10a4,_0x588885=null){const _0xab3806=_0x1caf5f,_0x51b3f2=products[_0xab3806(0xf8)](_0x3f7a14=>_0x3f7a14['id']==_0x308ad7),_0x211146=_0x51b3f2['id'],_0x38e518=_0x51b3f2[_0xab3806(0x10c)],_0x39ea75=_0x51b3f2[_0xab3806(0x95)],_0x525a45=_0x51b3f2['setItemBarCode'],_0x43c0da=_0x51b3f2[_0xab3806(0x182)]?.[_0xab3806(0x103)]()||_0xab3806(0x2e4),_0x282fd4=Array[_0xab3806(0x2f0)](_0x51b3f2[_0xab3806(0x139)])&&_0x51b3f2[_0xab3806(0x139)][_0xab3806(0x168)]>0x0?_0x51b3f2[_0xab3806(0x139)]:[{'setImageUrl':_0x43c0da}],_0x304906=_0x282fd4['map'](_0x57b833=>_0x57b833['setImageUrl']),_0x18740a=document[_0xab3806(0x1b7)](_0xab3806(0xc3)),_0x105571=_0x18740a[_0xab3806(0x13b)]('.carousel-track'),_0x404aff=_0x18740a['querySelector'](_0xab3806(0x22e)),_0x3eda04=_0x18740a[_0xab3806(0x13b)]('.modal-overlay-carousel'),_0x1733e2=document[_0xab3806(0x1b7)](_0xab3806(0x226)),_0x419216=_0x18740a[_0xab3806(0x13b)]('.carousel-prev'),_0x4abdbf=_0x18740a[_0xab3806(0x13b)](_0xab3806(0xc1));_0x105571[_0xab3806(0x22d)]='',_0x304906['forEach'](_0x4c4eb4=>{const _0x15fe1f=_0xab3806,_0x32c582=document[_0x15fe1f(0x1af)]('img');_0x32c582['src']=_0x4c4eb4,_0x32c582[_0x15fe1f(0x2d3)]=_0x15fe1f(0x2e5),_0x105571[_0x15fe1f(0x2c9)](_0x32c582);});let _0x123184=0x0;const _0x12e5d5=_0x304906[_0xab3806(0x168)];function _0x551696(){const _0x3d35c9=_0xab3806;_0x105571[_0x3d35c9(0x2cd)][_0x3d35c9(0x297)]=_0x3d35c9(0x227)+_0x123184*0x64+'%)';}_0x304906[_0xab3806(0x166)](_0xef4b1b=>{const _0x1726f9=_0xab3806,_0x55e000=new Image();_0x55e000[_0x1726f9(0x265)]=_0xef4b1b;});_0x12e5d5<=0x1?(_0x419216[_0xab3806(0x2cd)][_0xab3806(0x1d5)]=_0xab3806(0x1ae),_0x4abdbf[_0xab3806(0x2cd)][_0xab3806(0x1d5)]=_0xab3806(0x1ae)):(_0x419216[_0xab3806(0x2cd)]['display']='',_0x4abdbf[_0xab3806(0x2cd)]['display']='');_0x123184=0x0,_0x551696();function _0x2ebde1(_0x486342){_0x486342['stopPropagation'](),_0x123184=(_0x123184-0x1+_0x12e5d5)%_0x12e5d5,_0x551696();}function _0xd520d6(_0x3e0f17){const _0x2621fa=_0xab3806;_0x3e0f17[_0x2621fa(0x2a5)](),_0x123184=(_0x123184+0x1)%_0x12e5d5,_0x551696();}_0x419216['replaceWith'](_0x419216[_0xab3806(0xd1)](!![])),_0x4abdbf['replaceWith'](_0x4abdbf[_0xab3806(0xd1)](!![]));const _0x30df03=_0x18740a['querySelector'](_0xab3806(0x155)),_0x4f11ce=_0x18740a['querySelector'](_0xab3806(0xc1));_0x30df03['addEventListener']('click',_0x2ebde1),_0x4f11ce['addEventListener'](_0xab3806(0x20d),_0xd520d6),_0x404aff[_0xab3806(0x308)](_0xab3806(0x20d),_0x318dca=>{const _0x581c02=_0xab3806;_0x318dca[_0x581c02(0x2a5)](),_0x18740a[_0x581c02(0x2cd)][_0x581c02(0x1d5)]='none';}),_0x3eda04[_0xab3806(0x308)](_0xab3806(0x20d),()=>{const _0x144d92=_0xab3806;_0x18740a[_0x144d92(0x2cd)]['display']=_0x144d92(0x1ae);}),_0x18740a[_0xab3806(0x2cd)][_0xab3806(0x1d5)]=_0xab3806(0x307),_0x1733e2[_0xab3806(0x22d)]='\x0a<h3\x20class=\x22infoItem-title\x22>'+_0x38e518+_0xab3806(0x1a7)+_0x39ea75+'</h3>\x0a';const _0x290713=document['createElement'](_0xab3806(0x1f4));_0x290713[_0xab3806(0x2e0)]=_0xab3806(0xe5);const _0x78cb6d=document[_0xab3806(0x1af)](_0xab3806(0x242));_0x78cb6d[_0xab3806(0x1cc)]='0',_0x78cb6d[_0xab3806(0xac)]='Imprimir\x20Código\x20de\x20Barras',_0x290713[_0xab3806(0x2c9)](_0x78cb6d),myCompany['setCodeBarTypes'][_0xab3806(0x166)](_0x318990=>{const _0xcdbce7=_0xab3806,_0x447a15=document['createElement'](_0xcdbce7(0x242));_0x447a15['value']=String(_0x318990[_0xcdbce7(0x255)]),_0x447a15[_0xcdbce7(0xac)]=_0x318990[_0xcdbce7(0x2f5)],_0x290713['appendChild'](_0x447a15);}),_0x290713[_0xab3806(0x308)](_0xab3806(0x1fd),function(){const _0x337233=_0xab3806,_0x30a92e=parseInt(this['value'],0xa);if(_0x30a92e===0x0)return;typeof _0x525a45===_0x337233(0x154)&&_0x525a45['trim']()[_0x337233(0x168)]>=0x1?generarStickersPDF(_0x30a92e,_0x525a45[_0x337233(0x103)](),_0x308ad7):(ntfShow(_0x337233(0x2c1),0x2,0x2),this[_0x337233(0x1cc)]='0');}),_0x1733e2[_0xab3806(0x2c9)](_0x290713);var _0x211aaa=document[_0xab3806(0x1af)](_0xab3806(0x15c));_0x211aaa[_0xab3806(0x224)]=_0xab3806(0x15c),_0x211aaa[_0xab3806(0x2e0)]=_0xab3806(0x127),_0x211aaa[_0xab3806(0xac)]=_0xab3806(0x2c3),_0x211aaa['addEventListener'](_0xab3806(0x20d),function(){const _0x19f51b=_0xab3806,_0x4ee7c7=document['getElementById'](_0x19f51b(0xc3));_0x4ee7c7[_0x19f51b(0x2cd)]['display']=_0x19f51b(0x1ae),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x211146),initializeFormInputsBasic(_0x211146),initializeFormTax(_0x211146),initializeFormCategoriesBrands(_0x211146);}),_0x1733e2['appendChild'](_0x211aaa);if(_0x588885!=null){_0x1733e2['insertAdjacentHTML'](_0xab3806(0x274),_0xab3806(0x2d9)+_0x588885[_0xab3806(0x202)]+_0xab3806(0xe7)+_0x588885['message']+_0xab3806(0x239));var _0x3f647a=document['getElementById'](_0xab3806(0x262));_0x588885[_0xab3806(0x224)]===0x1&&['Generar\x20Orden\x20de\x20Compra',_0xab3806(0x15e),_0xab3806(0x151)][_0xab3806(0x166)](function(_0x4c4dc3){const _0x36f550=_0xab3806;var _0x5b145e=document['createElement']('button');_0x5b145e[_0x36f550(0xac)]=_0x4c4dc3,_0x5b145e[_0x36f550(0x308)](_0x36f550(0x20d),function(){const _0x2f03b3=_0x36f550;console[_0x2f03b3(0xae)]('Acción\x20\x22'+_0x4c4dc3+_0x2f03b3(0x11a)+_0x588885[_0x2f03b3(0xf1)]);}),_0x3f647a[_0x36f550(0x2c9)](_0x5b145e);}),_0x588885[_0xab3806(0x224)]===0x2&&['Revisar\x20lote',_0xab3806(0x21f)][_0xab3806(0x166)](function(_0x2ee01f){const _0xda9572=_0xab3806;var _0x757d09=document[_0xda9572(0x1af)](_0xda9572(0x15c));_0x757d09[_0xda9572(0xac)]=_0x2ee01f,_0x757d09[_0xda9572(0x308)](_0xda9572(0x20d),function(){const _0x200b2e=_0xda9572;console[_0x200b2e(0xae)](_0x200b2e(0x173)+_0x2ee01f+_0x200b2e(0x11a)+_0x588885['id_registro']);}),_0x3f647a['appendChild'](_0x757d09);});}}function ntf_formatDateDMY(_0x39f5c7){const _0x373f8e=_0x1caf5f;var _0x1694cb=new Date(_0x39f5c7),_0x4c6377=_0x1694cb[_0x373f8e(0xbe)](),_0x5af63e=_0x1694cb[_0x373f8e(0x1ff)](),_0x24efd2=monthsEspanish[_0x1694cb['getMonth']()];return _0x4c6377+_0x373f8e(0x2ec)+_0x24efd2+_0x373f8e(0x148)+_0x5af63e;}function ntf_groupBy(_0xa0f194,_0x5717be){const _0x44eded=_0x1caf5f;return _0xa0f194[_0x44eded(0x1a3)](function(_0x1e7c20,_0x26a5af){const _0x67a9f9=_0x44eded;var _0x3191e2=_0x26a5af[_0x5717be];return _0x1e7c20[_0x3191e2]=_0x1e7c20[_0x3191e2]||[],_0x1e7c20[_0x3191e2][_0x67a9f9(0x16a)](_0x26a5af),_0x1e7c20;},{});}function ntf_isExpired(_0x188ff3){const _0x1fccb5=_0x1caf5f;if(!_0x188ff3)return![];var _0x6aeaf5=new Date();return _0x6aeaf5[_0x1fccb5(0x1d0)](0x0,0x0,0x0,0x0),new Date(_0x188ff3)<=_0x6aeaf5;}function ntf_getNotifications(){const _0x3c67a1=_0x1caf5f;var _0x272add=parseInt(document[_0x3c67a1(0x1b7)](_0x3c67a1(0xdb))[_0x3c67a1(0x1cc)],0xa),_0x28fb61=ntf_groupBy(products,_0x3c67a1(0x1b2)),_0x86e89e=[];return Object[_0x3c67a1(0x2a1)](_0x28fb61)['forEach'](function(_0x363f65){const _0x18fad8=_0x3c67a1;var _0x4ad9a0=_0x28fb61[_0x363f65],_0x3b076f=_0x4ad9a0[0x0],_0x51047c=(_0x3b076f[_0x18fad8(0x1a6)]||[])[_0x18fad8(0xf8)](function(_0x7218d5){const _0x508f11=_0x18fad8;return _0x7218d5[_0x508f11(0x10f)]==_0x272add;});if(!_0x51047c)return;var _0x24bc58=parseFloat(_0x51047c[_0x18fad8(0x250)]),_0x567558=parseFloat(_0x51047c['setWarehouseStockMin']);_0x3b076f[_0x18fad8(0x1c7)]==0x1&&_0x24bc58<=_0x567558&&_0x86e89e['push']({'type':0x1,'id_registro':_0x3b076f['id'],'title':_0x18fad8(0x2f9)+_0x3b076f[_0x18fad8(0x95)],'message':_0x18fad8(0x90)+_0x3b076f['setDescripcion']+_0x18fad8(0x18c)+_0x567558[_0x18fad8(0x2c2)](0x3)+_0x18fad8(0x1fe)+_0x24bc58[_0x18fad8(0x2c2)](0x3)+'\x0a','data':{'producto':_0x3b076f,'stock':_0x24bc58,'minStock':_0x567558}}),_0x3b076f['setBatchExpirationDate']&&ntf_isExpired(_0x3b076f[_0x18fad8(0xa8)])&&_0x86e89e[_0x18fad8(0x16a)]({'type':0x2,'id_registro':_0x3b076f['id'],'title':'Producto\x20vencido:\x20'+_0x3b076f[_0x18fad8(0x95)],'message':'El\x20producto\x20\x22'+_0x3b076f[_0x18fad8(0x95)]+'\x22\x20expiró\x20el\x20'+ntf_formatDateDMY(_0x3b076f[_0x18fad8(0xa8)])+_0x18fad8(0xe6)+_0x18fad8(0x25d)+_0x24bc58[_0x18fad8(0x2c2)](0x3),'data':{'producto':_0x3b076f,'expiration':_0x3b076f[_0x18fad8(0xa8)]}});}),_0x86e89e;}function ntf_renderNotifications(){const _0x5b3dd0=_0x1caf5f;var _0x46dfab=ntf_getNotifications(),_0xb9913c=document[_0x5b3dd0(0x1b7)](_0x5b3dd0(0x8c)),_0x5768ce=document[_0x5b3dd0(0x1b7)](_0x5b3dd0(0x1a8));_0xb9913c[_0x5b3dd0(0x22d)]='',_0x5768ce['textContent']=_0x46dfab[_0x5b3dd0(0x168)];if(_0x46dfab[_0x5b3dd0(0x168)]===0x0){var _0x4c90a7=document[_0x5b3dd0(0x1af)]('li');_0x4c90a7['textContent']='No\x20hay\x20notificaciones',_0xb9913c[_0x5b3dd0(0x2c9)](_0x4c90a7);return;}_0x46dfab[_0x5b3dd0(0x166)](function(_0x52bde5,_0x33ca60){const _0x32ac7c=_0x5b3dd0;var _0x538fb0=document[_0x32ac7c(0x1af)]('li');_0x538fb0[_0x32ac7c(0xac)]=_0x52bde5['title'],_0x538fb0[_0x32ac7c(0x98)](_0x32ac7c(0x24b),_0x33ca60),_0xb9913c[_0x32ac7c(0x2c9)](_0x538fb0);});}document[_0x1caf5f(0x1b7)](_0x1caf5f(0x2bd))[_0x1caf5f(0x308)](_0x1caf5f(0x20d),function(){const _0x3b54aa=_0x1caf5f;document['getElementById']('ntf-notification-dropdown')['classList']['toggle'](_0x3b54aa(0x303)),ntf_renderNotifications();}),document[_0x1caf5f(0x1b7)](_0x1caf5f(0x8c))[_0x1caf5f(0x308)]('click',function(_0x3aec90){const _0x1ce12c=_0x1caf5f,_0x4e511c=_0x3aec90['target'][_0x1ce12c(0x25c)]('li');if(!_0x4e511c||!_0x4e511c[_0x1ce12c(0x1ee)][_0x1ce12c(0x17c)])return;const _0x28d929=ntf_getNotifications()[_0x4e511c['dataset'][_0x1ce12c(0x17c)]];document[_0x1ce12c(0x1b7)](_0x1ce12c(0x2bd))[_0x1ce12c(0x20d)](),openModalDetailsAndNtf(_0x28d929[_0x1ce12c(0x1f8)][_0x1ce12c(0x1c4)]['id'],_0x28d929['type'],_0x28d929);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x33a4a5,_0x238203=0x3,_0x166aab=0x1){const _0x6e9b4e=_0x1caf5f,_0x2471a0=document[_0x6e9b4e(0x1b7)](_0x6e9b4e(0x110)),_0x5f367b=document['createElement'](_0x6e9b4e(0x183));let _0x5c231c;if(_0x238203==0x1)_0x5c231c=_0x6e9b4e(0x170);else _0x238203==0x2?_0x5c231c=_0x6e9b4e(0x2e8):_0x5c231c=_0x6e9b4e(0x272);let _0x100840;_0x166aab==0x1?(_0x100840=_0x6e9b4e(0xe3),_0x2471a0[_0x6e9b4e(0x222)]['add'](_0x6e9b4e(0x1df)),_0x2471a0[_0x6e9b4e(0x222)]['remove'](_0x6e9b4e(0x2aa))):(_0x100840='ntf-flotante-bottom',_0x2471a0[_0x6e9b4e(0x222)]['add'](_0x6e9b4e(0x2aa)),_0x2471a0[_0x6e9b4e(0x222)][_0x6e9b4e(0x2a8)]('ntf-flotante-container-top')),_0x5f367b[_0x6e9b4e(0x2e0)]=_0x6e9b4e(0x190)+_0x5c231c+'\x20'+_0x100840,_0x5f367b[_0x6e9b4e(0xac)]=_0x33a4a5,_0x2471a0[_0x6e9b4e(0x2c9)](_0x5f367b),_0x5f367b[_0x6e9b4e(0x308)](_0x6e9b4e(0x92),()=>{const _0x40eb94=_0x6e9b4e;_0x5f367b[_0x40eb94(0x2a8)]();});}function openDatabase(){const _0x585132=_0x1caf5f;if(db)return Promise[_0x585132(0x157)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x369e89,_0x222a9a)=>{const _0x2d3efc=_0x585132,_0x533392=indexedDB['open'](db_name);_0x533392[_0x2d3efc(0x260)]=function(_0x4adfe5){const _0x5a32e1=_0x2d3efc;db=_0x4adfe5[_0x5a32e1(0xfb)][_0x5a32e1(0x96)],console[_0x5a32e1(0xae)](_0x5a32e1(0x280));},_0x533392[_0x2d3efc(0x178)]=function(_0x36cfbc){const _0x45e53c=_0x2d3efc;db=_0x36cfbc[_0x45e53c(0xfb)]['result'],console[_0x45e53c(0xae)]('Base\x20de\x20datos\x20abierta\x20correctamente.'),_0x369e89(db),dbPromise=null;},_0x533392[_0x2d3efc(0x10b)]=function(_0x2b81a8){const _0x53fead=_0x2d3efc;console[_0x53fead(0x2b1)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x2b81a8[_0x53fead(0xfb)]['error']),_0x222a9a(_0x2b81a8[_0x53fead(0xfb)]['error']),dbPromise=null;};}),dbPromise;}function createCartStore(_0x2c013,_0x4f3bd7=![]){const _0x40358d=_0x1caf5f;if(dbOperationInProgress)return Promise[_0x40358d(0x106)]('Database\x20operation\x20in\x20progress.\x20Please\x20wait.');return dbOperationInProgress=!![],openDatabase()[_0x40358d(0x246)](_0x4337bc=>{const _0x15e966=_0x40358d,_0x5f2d43=_0x15e966(0xbc),_0x65b2cd=_0x15e966(0x11e),_0x7236d6='offline_operations',_0xb07408=_0x15e966(0x12c),_0x211661=_0x2c013?_0x15e966(0x2f6)+_0x2c013:null,_0x4b7d09=_0x2c013?_0x15e966(0x301)+_0x2c013:null,_0x3a301f=_0x4f3bd7||!_0x4337bc[_0x15e966(0x2ad)]['contains'](_0x5f2d43)||!_0x4337bc[_0x15e966(0x2ad)][_0x15e966(0x1ca)](_0x65b2cd)||!_0x4337bc[_0x15e966(0x2ad)][_0x15e966(0x1ca)](_0x7236d6)||!_0x4337bc[_0x15e966(0x2ad)]['contains'](_0xb07408)||_0x2c013&&(!_0x4337bc[_0x15e966(0x2ad)][_0x15e966(0x1ca)](_0x211661)||!_0x4337bc[_0x15e966(0x2ad)]['contains'](_0x4b7d09));if(!_0x3a301f)return dbOperationInProgress=![],Promise[_0x15e966(0x157)](_0x4337bc);const _0x3ea906=_0x4337bc[_0x15e966(0x294)]+0x1;return _0x4337bc[_0x15e966(0x20c)](),new Promise((_0x3d4cc8,_0x4dc9a1)=>{const _0x2b184d=_0x15e966,_0x45fae0=indexedDB[_0x2b184d(0x298)](db_name,_0x3ea906);_0x45fae0[_0x2b184d(0x260)]=function(_0x4d55c2){const _0x3ddefe=_0x2b184d;db=_0x4d55c2[_0x3ddefe(0xfb)]['result'];if(_0x4f3bd7)Array['from'](db[_0x3ddefe(0x2ad)])['forEach'](_0xa5566c=>{const _0x203129=_0x3ddefe;_0xa5566c!==_0x7236d6&&(db[_0x203129(0x1e2)](_0xa5566c),console[_0x203129(0xae)](_0x203129(0x199)+_0xa5566c+'\x27\x20eliminada.'));}),console[_0x3ddefe(0xae)](_0x3ddefe(0x2d7));else{!db[_0x3ddefe(0x2ad)][_0x3ddefe(0x1ca)](_0x5f2d43)&&(db[_0x3ddefe(0x1a5)](_0x5f2d43,{'keyPath':'id'}),console[_0x3ddefe(0xae)]('ObjectStore\x20\x27'+_0x5f2d43+'\x27\x20creado\x20correctamente.'));!db['objectStoreNames'][_0x3ddefe(0x1ca)](_0x65b2cd)&&(db['createObjectStore'](_0x65b2cd,{'keyPath':'id','autoIncrement':!![]}),console[_0x3ddefe(0xae)](_0x3ddefe(0x199)+_0x65b2cd+_0x3ddefe(0x253)));!db['objectStoreNames']['contains'](_0x7236d6)&&(db[_0x3ddefe(0x1a5)](_0x7236d6,{'keyPath':'id','autoIncrement':!![]}),console[_0x3ddefe(0xae)](_0x3ddefe(0x199)+_0x7236d6+_0x3ddefe(0x253)));!db['objectStoreNames']['contains'](_0xb07408)&&(db[_0x3ddefe(0x1a5)](_0xb07408,{'keyPath':'id'}),console['log'](_0x3ddefe(0x199)+_0xb07408+'\x27\x20creado\x20correctamente.'));if(_0x2c013){if(!db['objectStoreNames'][_0x3ddefe(0x1ca)](_0x211661)){const _0x95ddbb=db[_0x3ddefe(0x1a5)](_0x211661,{'keyPath':'id','autoIncrement':!![]});_0x95ddbb[_0x3ddefe(0x241)]('cartId','cartId',{'unique':!![]}),console[_0x3ddefe(0xae)](_0x3ddefe(0x199)+_0x211661+_0x3ddefe(0x253));}!db[_0x3ddefe(0x2ad)][_0x3ddefe(0x1ca)](_0x4b7d09)&&(db[_0x3ddefe(0x1a5)](_0x4b7d09,{'keyPath':'id','autoIncrement':!![]}),console[_0x3ddefe(0xae)](_0x3ddefe(0x199)+_0x4b7d09+_0x3ddefe(0x253)));}}},_0x45fae0[_0x2b184d(0x178)]=function(_0x408800){const _0x5e2d6d=_0x2b184d;db=_0x408800[_0x5e2d6d(0xfb)][_0x5e2d6d(0x96)],dbOperationInProgress=![],console[_0x5e2d6d(0xae)](_0x5e2d6d(0x1ab)),_0x3d4cc8(db);},_0x45fae0['onerror']=function(_0xbac73c){const _0x3957ba=_0x2b184d;console['error'](_0x3957ba(0x135),_0xbac73c[_0x3957ba(0xfb)][_0x3957ba(0x2b1)]),dbOperationInProgress=![],_0x4dc9a1(_0xbac73c[_0x3957ba(0xfb)][_0x3957ba(0x2b1)]);};});})[_0x40358d(0x1f5)](_0x215627=>{const _0x1faeea=_0x40358d;throw new Error(_0x1faeea(0x99));})[_0x40358d(0x23a)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x36fbd0=_0x1caf5f;if(!isOnline())return Promise[_0x36fbd0(0x157)]();try{const _0x3bbd73=await createCartStore(''),_0x312572=_0x3bbd73[_0x36fbd0(0x24d)]('offline_operations',_0x36fbd0(0xc0)),_0x4fcbc6=_0x312572[_0x36fbd0(0x244)](_0x36fbd0(0x231)),_0x5ba0b7=await new Promise((_0x177ae7,_0x33fd29)=>{const _0x159350=_0x36fbd0,_0x5403da=_0x4fcbc6[_0x159350(0x304)]();_0x5403da['onsuccess']=()=>_0x177ae7(_0x5403da[_0x159350(0x96)]),_0x5403da['onerror']=()=>_0x33fd29(new Error(_0x159350(0x2de)+_0x5403da['error']));}),_0x5ab94=_0x5ba0b7[_0x36fbd0(0xf9)](_0x20d4df=>_0x20d4df[_0x36fbd0(0x1b6)]==0x1);if(_0x5ab94[_0x36fbd0(0x168)]===0x0){console[_0x36fbd0(0xae)](_0x36fbd0(0x18f));return;}const _0x5a0ff0=_0x5ab94[_0x36fbd0(0xf9)](_0x3a4504=>_0x3a4504[_0x36fbd0(0x20a)]==0x64),_0x2f58be=_0x5ab94[_0x36fbd0(0xf9)](_0x3246bc=>_0x3246bc[_0x36fbd0(0x20a)]!=0x64),_0x3337ff=_0x1d3db3=>_0x1d3db3[_0x36fbd0(0x25b)]((_0x1a4f6d,_0x3caffe)=>{const _0x57196e=_0x36fbd0,_0x3be940=[0x1,0x2,0x3],_0x20a110=_0x5d5d53=>Array[_0x57196e(0x2f0)](_0x5d5d53[_0x57196e(0x26d)])&&_0x5d5d53['newItems'][_0x57196e(0x111)](_0x136afa=>_0x3be940[_0x57196e(0x116)](_0x136afa[_0x57196e(0x29a)])),_0x33e12e=_0x20a110(_0x1a4f6d),_0x3e69c8=_0x20a110(_0x3caffe);if(_0x33e12e&&!_0x3e69c8)return-0x1;if(!_0x33e12e&&_0x3e69c8)return 0x1;const _0x6d7b0=Math[_0x57196e(0xa6)](..._0x1a4f6d[_0x57196e(0x26d)][_0x57196e(0x1b8)](_0x55fc80=>_0x55fc80[_0x57196e(0x29a)])),_0xcf5177=Math['min'](..._0x3caffe['newItems']['map'](_0x1cecb5=>_0x1cecb5[_0x57196e(0x29a)]));return _0x6d7b0-_0xcf5177;}),_0x5b55db=_0x5a0ff0[_0x36fbd0(0xf9)](_0x25f42b=>Array[_0x36fbd0(0x2f0)](_0x25f42b[_0x36fbd0(0x26d)])&&_0x25f42b['newItems']['every'](_0x569666=>!_0x569666[_0x36fbd0(0x94)])),_0x27c834=_0x5a0ff0[_0x36fbd0(0xf9)](_0x291f2e=>Array[_0x36fbd0(0x2f0)](_0x291f2e['newItems'])&&_0x291f2e[_0x36fbd0(0x26d)][_0x36fbd0(0x1c2)](_0x368c33=>_0x368c33[_0x36fbd0(0x94)]));_0x3337ff(_0x5b55db),_0x3337ff(_0x27c834);const _0x2f5688=[..._0x5b55db,..._0x27c834];function _0x50e7d0(_0x2d7a14,_0xc31932){return new Promise((_0x2798ff,_0x589387)=>{const _0x30367e=_0x3292,_0xc61427=_0x2d7a14[_0x30367e(0x24d)](_0x30367e(0x231),_0x30367e(0x165)),_0x24abdb=_0xc61427[_0x30367e(0x244)](_0x30367e(0x231)),_0x34f9f3=_0x24abdb[_0x30367e(0x2b6)](_0xc31932);_0x34f9f3['onsuccess']=()=>_0x2798ff(),_0x34f9f3[_0x30367e(0x10b)]=_0x35007a=>_0x589387(new Error(_0x30367e(0x2db)+_0x35007a[_0x30367e(0xfb)][_0x30367e(0x2b1)]));});}async function _0x4eff8a(_0x466905){const _0x233ed1=_0x36fbd0;for(const _0x34deba of _0x466905){_0x34deba[_0x233ed1(0x20a)]===0x64&&Array[_0x233ed1(0x2f0)](_0x34deba[_0x233ed1(0x26d)])&&_0x34deba[_0x233ed1(0x26d)][_0x233ed1(0x25b)]((_0x2c714e,_0x18c0d7)=>{const _0x79fe88=_0x233ed1,_0xddcd5d=[0x1,0x2,0x3],_0x1d9e6a=_0xddcd5d[_0x79fe88(0x116)](_0x2c714e[_0x79fe88(0x29a)]),_0x50152f=_0xddcd5d[_0x79fe88(0x116)](_0x18c0d7[_0x79fe88(0x29a)]);if(_0x1d9e6a&&!_0x50152f)return-0x1;if(!_0x1d9e6a&&_0x50152f)return 0x1;return _0x2c714e[_0x79fe88(0x29a)]-_0x18c0d7['setItemType'];});const _0x26a2c4=new FormData();_0x26a2c4[_0x233ed1(0xa3)](_0x233ed1(0x2c0),JSON[_0x233ed1(0x2d2)](_0x34deba));if(_0x34deba['pdfBlob']instanceof Blob&&_0x34deba[_0x233ed1(0x9f)][_0x233ed1(0x27f)]>0x0)_0x26a2c4[_0x233ed1(0xa3)](_0x233ed1(0x9f),_0x34deba[_0x233ed1(0x9f)],_0x233ed1(0x93));else _0x34deba[_0x233ed1(0x9f)]&&console[_0x233ed1(0x240)]('PDF\x20no\x20válido\x20o\x20vacío\x20–\x20se\x20omite\x20y\x20se\x20envía\x20la\x20operación\x20sin\x20él.');_0x34deba['setTipoOperacion']==0x64&&Array[_0x233ed1(0x2f0)](_0x34deba[_0x233ed1(0x26d)])&&_0x34deba['newItems'][_0x233ed1(0x166)]((_0x507b27,_0x2ca5f8)=>{const _0x54b512=_0x233ed1;Array[_0x54b512(0x2f0)](_0x507b27[_0x54b512(0x1d9)])&&_0x507b27[_0x54b512(0x1d9)][_0x54b512(0x166)]((_0x36a89b,_0x272369)=>{const _0x3906a3=_0x54b512;_0x36a89b instanceof Blob&&_0x36a89b[_0x3906a3(0x27f)]>0x0?_0x26a2c4[_0x3906a3(0xa3)](_0x3906a3(0x172)+_0x2ca5f8+_0x3906a3(0x17a)+_0x272369+']',_0x36a89b,_0x36a89b['name']):console[_0x3906a3(0x240)](_0x3906a3(0x2e2)+_0x2ca5f8+_0x3906a3(0x1ea)+_0x272369+_0x3906a3(0x2ce));});});try{const _0x353289=await fetch(_0x34deba['setWebhook'],{'method':_0x233ed1(0x17b),'body':_0x26a2c4});if(!_0x353289['ok'])throw new Error(_0x233ed1(0x26f)+_0x353289[_0x233ed1(0x1bb)]+'\x20–\x20'+_0x353289[_0x233ed1(0x138)]);const _0x8632fa=await _0x353289[_0x233ed1(0x302)]();!_0x8632fa[_0x233ed1(0x2d1)]?_0x34deba[_0x233ed1(0x292)]=_0x8632fa[_0x233ed1(0x295)]||_0x233ed1(0x27e):(_0x34deba[_0x233ed1(0x1b6)]=0x0,delete _0x34deba[_0x233ed1(0x292)]);}catch(_0x850002){console[_0x233ed1(0x2b1)](_0x233ed1(0x2d6),_0x850002),_0x34deba[_0x233ed1(0x292)]=_0x850002[_0x233ed1(0x295)];}await _0x50e7d0(_0x3bbd73,_0x34deba),_0x34deba['setTipoOperacion']==0x64&&_0x34deba[_0x233ed1(0x1b6)]==0x0&&await new Promise((_0x52a360,_0x4dea9c)=>{const _0x5a5e9c=_0x233ed1,_0x4f8ac6=_0x3bbd73[_0x5a5e9c(0x24d)]('offline_operations',_0x5a5e9c(0x165)),_0x26d07d=_0x4f8ac6[_0x5a5e9c(0x244)](_0x5a5e9c(0x231)),_0x2c6eb2=_0x26d07d[_0x5a5e9c(0x2ab)](_0x34deba['id']);_0x2c6eb2[_0x5a5e9c(0x178)]=()=>_0x52a360(),_0x2c6eb2[_0x5a5e9c(0x10b)]=_0x1754e1=>_0x4dea9c(new Error(_0x5a5e9c(0xe8)+_0x1754e1['target'][_0x5a5e9c(0x2b1)]));});}}_0x2f5688[_0x36fbd0(0x168)]&&(console[_0x36fbd0(0xae)]('Sincronizando\x20'+_0x2f5688['length']+_0x36fbd0(0x1f7)),await _0x4eff8a(_0x2f5688)),_0x2f58be[_0x36fbd0(0x168)]&&(console[_0x36fbd0(0xae)]('Sincronizando\x20'+_0x2f58be[_0x36fbd0(0x168)]+_0x36fbd0(0x1c0)),await _0x4eff8a(_0x2f58be)),console[_0x36fbd0(0xae)](_0x36fbd0(0x177));}catch(_0x22c3bc){console[_0x36fbd0(0x2b1)]('Error\x20al\x20procesar\x20operaciones\x20offline:',_0x22c3bc);}}function apiERPsaveOnline(_0x5208a5,_0x2a2f8e,_0x1316e5,_0x45ada7,_0x360907){const _0x5e0a6f=_0x1caf5f;if(!isOnline())return console[_0x5e0a6f(0xae)](_0x5e0a6f(0x1e5)),Promise[_0x5e0a6f(0x106)](_0x5e0a6f(0x1e5));const _0x22cd8e={'setAuthToken':_0x5208a5,'setBranches':_0x2a2f8e,'setUsers':_0x1316e5,'setSeries':_0x45ada7,'setPrinters':_0x360907};return fetch(_0x5e0a6f(0x1c5),{'method':_0x5e0a6f(0x17b),'headers':{'Content-Type':_0x5e0a6f(0xda)},'body':JSON[_0x5e0a6f(0x2d2)](_0x22cd8e)})['then'](_0x341ac8=>{const _0x34d033=_0x5e0a6f;if(!_0x341ac8['ok'])throw new Error(_0x34d033(0x191)+_0x341ac8[_0x34d033(0x138)]);return _0x341ac8[_0x34d033(0x302)]();})['then'](_0x14d279=>{const _0x8d1070=_0x5e0a6f;if(!_0x14d279[_0x8d1070(0x2d1)])throw new Error(_0x14d279[_0x8d1070(0x295)]||_0x8d1070(0x1d7));return console[_0x8d1070(0xae)](_0x8d1070(0x299)),_0x14d279;})[_0x5e0a6f(0x1f5)](_0x5663a0=>{const _0x253c57=_0x5e0a6f;console[_0x253c57(0x2b1)]('Error\x20al\x20actualizar\x20data\x20online:',_0x5663a0);throw _0x5663a0;});}async function acceder(){const _0x1325ad=_0x1caf5f;if(!isOnline()){alert(_0x1325ad(0x144));throw new Error(_0x1325ad(0x29f));}const _0x25094c=document[_0x1325ad(0x1b7)](_0x1325ad(0x288)),_0x9c865a=document[_0x1325ad(0x1b7)](_0x1325ad(0x267))[_0x1325ad(0x1cc)],_0xf1f3ba=document['getElementById']('password')[_0x1325ad(0x1cc)];_0x25094c['disabled']=!![];if(!_0x9c865a||!_0xf1f3ba){alert(_0x1325ad(0x30b)),_0x25094c[_0x1325ad(0x248)]=![];return;}console[_0x1325ad(0xae)](_0x1325ad(0x273)),showLoadingModal();const _0xb7ff4e={'usuario':_0x9c865a,'password':_0xf1f3ba},_0x194ccc=document[_0x1325ad(0x1b7)](_0x1325ad(0x22b));try{_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x1c3);const _0x1ebeea=await fetch('https://apierp.dev/api/company/get/',{'method':_0x1325ad(0x17b),'headers':{'Content-Type':_0x1325ad(0xda)},'body':JSON[_0x1325ad(0x2d2)](_0xb7ff4e)}),_0x37ffdb=await _0x1ebeea[_0x1325ad(0x302)]();if(!(_0x37ffdb[_0x1325ad(0x2d1)]&&Array[_0x1325ad(0x2f0)](_0x37ffdb['message']))){alert(_0x37ffdb[_0x1325ad(0x295)]),_0x25094c[_0x1325ad(0x248)]=![],hideLoadingModal();throw new Error(_0x37ffdb['message']);}const _0x1c32b7=_0x37ffdb[_0x1325ad(0x295)],{setApiEndPoint:_0x5e6aa1,setAuthToken:_0x54d73b,setUser_Local:_0x558abe}=_0x1c32b7[0x0];_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0xa4),await new Promise(_0x222607=>setTimeout(_0x222607,0x4b0)),_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x2b8);const _0x31fc61={'apiPOS_getAccessData':0x1,'setToken':_0x54d73b,'setUserLocalUserName':_0x558abe['setUserName']},_0x107581=await fetch(_0x5e6aa1,{'method':_0x1325ad(0x17b),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x1325ad(0x2d2)](_0x31fc61)}),_0x1711ec=await _0x107581['json']();if(!(_0x1711ec[_0x1325ad(0x2d1)]===!![])){_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x163)+_0x1711ec[_0x1325ad(0x295)]+'\x20...',setTimeout(()=>location[_0x1325ad(0x112)](),0x1388);return;}_0x1c32b7[0x0]['setCompanyLogo']=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x195)],_0x1c32b7[0x0][_0x1325ad(0x1d4)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x1d4)],_0x1c32b7[0x0][_0x1325ad(0x2a7)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x2a7)],_0x1c32b7[0x0]['setCompanyNameTrade']=_0x1711ec[_0x1325ad(0x295)]['setCompanyNameTrade'],_0x1c32b7[0x0][_0x1325ad(0x19c)]=_0x1711ec['message']['setCompanyAddress'],_0x1c32b7[0x0][_0x1325ad(0x10a)]=_0x1711ec[_0x1325ad(0x295)]['setCompanyPhone'],_0x1c32b7[0x0][_0x1325ad(0x8f)]=_0x1711ec[_0x1325ad(0x295)]['setCompanyEmail'],_0x1c32b7[0x0][_0x1325ad(0xd8)]=_0x1711ec[_0x1325ad(0x295)]['setCompanyWebsite'],_0x1c32b7[0x0]['setBranches']=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x1f2)],_0x1c32b7[0x0][_0x1325ad(0x30c)]=_0x1711ec['message']['setUsuarios'],_0x1c32b7[0x0]['setSeries']=_0x1711ec['message'][_0x1325ad(0x212)],_0x1c32b7[0x0][_0x1325ad(0xce)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0xce)],_0x1c32b7[0x0][_0x1325ad(0xdc)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0xdc)],_0x1c32b7[0x0][_0x1325ad(0x252)]=_0x1711ec['message'][_0x1325ad(0x252)],_0x1c32b7[0x0][_0x1325ad(0xee)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0xee)],_0x1c32b7[0x0][_0x1325ad(0x209)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x209)],_0x1c32b7[0x0][_0x1325ad(0x29b)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x29b)],_0x1c32b7[0x0][_0x1325ad(0x286)]=_0x1711ec[_0x1325ad(0x295)][_0x1325ad(0x286)],_0x1c32b7[0x0]['setPlacesStart']=_0x1711ec['message'][_0x1325ad(0x264)],_0x1c32b7[0x0][_0x1325ad(0x17e)]=_0x1711ec['message'][_0x1325ad(0x17e)],_0x1c32b7[0x0]['setDrivers']=_0x1711ec[_0x1325ad(0x295)]['setDrivers'],_0x194ccc['innerHTML']=_0x1325ad(0x256),await new Promise(_0x4aefe3=>setTimeout(_0x4aefe3,0x3e8)),_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x2b0);async function _0xd94f62(_0x1b9957,_0x1ac337,_0x2cb7d5){const _0x3c75f2=_0x1325ad,_0xdb1b80=0x3e8;let _0x7c9a09=0x0,_0x5accca=[];while(!![]){_0x194ccc[_0x3c75f2(0x22d)]=_0x3c75f2(0x29c)+parseInt(_0x7c9a09)+_0x3c75f2(0x2b7)+(parseInt(_0x7c9a09)+0x3e8)+_0x3c75f2(0x102);const _0x2a2481={'apiPOS_getItems':0x1,'setToken':_0x1ac337,'setUserLocalUserName':_0x2cb7d5,'limit':_0xdb1b80,'offset':_0x7c9a09},_0x8b0b38=await fetch(_0x1b9957,{'method':_0x3c75f2(0x17b),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x3c75f2(0x2d2)](_0x2a2481)}),_0x518c47=await _0x8b0b38[_0x3c75f2(0x302)]();if(!_0x518c47[_0x3c75f2(0x2d1)]||!Array['isArray'](_0x518c47[_0x3c75f2(0x295)][_0x3c75f2(0x2a6)]))throw new Error(_0x518c47[_0x3c75f2(0x295)]||_0x3c75f2(0xa0));const _0x46a0d5=_0x518c47[_0x3c75f2(0x295)]['setProductos'];_0x5accca=_0x5accca[_0x3c75f2(0x1f3)](_0x46a0d5);if(_0x46a0d5[_0x3c75f2(0x168)]<_0xdb1b80){_0x194ccc[_0x3c75f2(0x22d)]=_0x3c75f2(0xbb)+(parseInt(_0x7c9a09)+parseInt(_0x46a0d5[_0x3c75f2(0x168)]))+_0x3c75f2(0xab),await new Promise(_0x8571bd=>setTimeout(_0x8571bd,0x7d0));break;}_0x7c9a09+=_0xdb1b80,await new Promise(_0x7341a5=>setTimeout(_0x7341a5,0xc8));}return _0x5accca;}const _0x138537=await _0xd94f62(_0x5e6aa1,_0x54d73b,_0x558abe['setUserName']),_0x3dd245=_0x138537[_0x1325ad(0x1b8)](_0x4b6a81=>{const _0x34a8cb=_0x1325ad,_0x39f21c=_0x4b6a81['setId']||'',_0x1972f9=_0x4b6a81['setIdProducto']||'',_0x541f19=_0x4b6a81[_0x34a8cb(0x29a)]||'1',_0x1e15f8=_0x4b6a81[_0x34a8cb(0x10c)]||'',_0x107f3f=_0x4b6a81['setItemBarCode']||'',_0x33a5fd=_0x4b6a81[_0x34a8cb(0x95)]||'',_0x357382=_0x4b6a81[_0x34a8cb(0x2b9)]||'',_0x1f7492=_0x4b6a81[_0x34a8cb(0x1e8)]||'',_0x2572ec=_0x4b6a81[_0x34a8cb(0x296)]||'',_0x30be5c=_0x4b6a81[_0x34a8cb(0x1c8)]||'',_0x2777c0=_0x4b6a81[_0x34a8cb(0x232)]||'',_0x558ad6=_0x1c32b7[0x0][_0x34a8cb(0x1d8)]['find'](_0x418ea6=>_0x418ea6[_0x34a8cb(0x232)]==_0x2777c0)?.['setImpuestoValue']||0x0,_0x333ec7=_0x1c32b7[0x0][_0x34a8cb(0x1d8)][_0x34a8cb(0xf8)](_0x2c226d=>_0x2c226d[_0x34a8cb(0x232)]==_0x2777c0)?.[_0x34a8cb(0x1bf)]||'',_0x314a86=parseFloat(_0x4b6a81[_0x34a8cb(0x1c7)])||0x1,_0x15c847=_0x4b6a81[_0x34a8cb(0x156)]||'',_0x5a59a3=_0x4b6a81[_0x34a8cb(0x10e)]||'',_0x631498=_0x4b6a81[_0x34a8cb(0x182)]||_0x34a8cb(0x2e4),_0xe19b4c=_0x4b6a81[_0x34a8cb(0x2af)]||0x1,_0xf32bd6=_0x4b6a81[_0x34a8cb(0x2ef)]||'',_0x17d36b=_0x4b6a81['setBatchExpirationDate']||'',_0x15dd68=(_0x4b6a81[_0x34a8cb(0x134)]||[])[_0x34a8cb(0x1b8)](_0x5e8012=>{const _0x31b2bc=_0x34a8cb,_0x565578=parseFloat(_0x5e8012['setMtoValorUnitario'])||0x0,_0x312c3c=parseFloat(_0x5e8012['setMtoPrecioUnitario'])||0x0,_0x38b845=parseFloat(_0x5e8012['setMtoValorCostoUnitario'])||0x0,_0x22320d=parseFloat(_0x5e8012[_0x31b2bc(0x24e)])||0x0,_0x7bd5e=_0x5e8012[_0x31b2bc(0x16e)]||[];let _0x1ac02f=0x0,_0x16a7e6=0x0;if(_0x565578>0x0)_0x1ac02f=_0x565578,_0x16a7e6=setTipAfeImpGravados[_0x31b2bc(0x111)](_0x50a0cd=>_0x50a0cd==_0x333ec7)?_0x565578+_0x565578*_0x558ad6/0x64:_0x565578;else _0x312c3c>0x0&&(_0x16a7e6=_0x312c3c,_0x1ac02f=setTipAfeImpGravados['some'](_0x35f256=>_0x35f256==_0x333ec7)?_0x312c3c/(0x1+_0x558ad6/0x64):_0x312c3c);let _0x47752a=0x0,_0x71e249=0x0;if(_0x38b845>0x0)_0x47752a=_0x38b845,_0x71e249=setTipAfeImpGravados['some'](_0x2c6832=>_0x2c6832==_0x333ec7)?_0x38b845+_0x38b845*_0x558ad6/0x64:_0x38b845;else _0x22320d>0x0&&(_0x71e249=_0x22320d,_0x47752a=setTipAfeImpGravados[_0x31b2bc(0x111)](_0x217b5f=>_0x217b5f==_0x333ec7)?_0x22320d/(0x1+_0x558ad6/0x64):_0x22320d);return{'currency':_0x5e8012['currency'],'setMtoValorUnitario':_0x1ac02f,'setMtoPrecioUnitario':_0x16a7e6,'setMtoValorCostoUnitario':_0x47752a,'setMtoPrecioCostoUnitario':_0x71e249,'setPriceLists':_0x7bd5e};});if(_0x2777c0!==''&&_0x39f21c!==''&&_0x1e15f8!==''&&_0x33a5fd!=='')return{'id':_0x39f21c,'setItemType':_0x541f19,'setIdProducto':_0x1972f9,'setCodProducto':_0x1e15f8,'setItemBarCode':_0x107f3f,'setDescripcion':_0x33a5fd,'setItemDescription':_0x357382,'setUnidadCodigo':_0x1f7492,'setUnidad':_0x2572ec,'setItemUnitAlias':_0x30be5c,'setPorcentajeIgv':_0x558ad6,'setTaxId':_0x2777c0,'setTipAfeIgv':_0x333ec7,'setInventariable':_0x314a86,'setCategoria':_0x15c847,'setMarca':_0x5a59a3,'setImg':_0x631498,'setConversionFactor':_0xe19b4c,'setBatchName':_0xf32bd6,'setBatchExpirationDate':_0x17d36b,'setItemIsBought':_0x4b6a81[_0x34a8cb(0x12f)],'setItemIsSold':_0x4b6a81[_0x34a8cb(0x194)],'sucursales':_0x4b6a81['sucursales']||[],'setPrinters':_0x4b6a81['setPrinters']||[],'currency_data':_0x15dd68,'setImages':_0x4b6a81[_0x34a8cb(0x139)]||[],'setItemVariantValues':_0x4b6a81[_0x34a8cb(0x1d3)]||[]};return null;})[_0x1325ad(0xf9)](Boolean);_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0xf3),await new Promise(_0x59a228=>setTimeout(_0x59a228,0x3e8));const _0x4f5f59=await createCartStore('');await clearAndStore(_0x4f5f59,_0x1325ad(0xbc),_0x3dd245),await clearAndStore(_0x4f5f59,_0x1325ad(0x12c),[{'id':_0x1325ad(0x207),..._0x1c32b7[0x0][_0x1325ad(0x28a)]}]),await apiERPsaveOnline(_0x54d73b,_0x1c32b7[0x0][_0x1325ad(0x1f2)],_0x1c32b7[0x0][_0x1325ad(0x30c)],_0x1c32b7[0x0][_0x1325ad(0x212)],_0x1c32b7[0x0][_0x1325ad(0xce)]);const _0x10413a=await fetch(_0x1325ad(0x1b3),{'method':'POST','headers':{'Content-Type':_0x1325ad(0x9b)},'body':JSON[_0x1325ad(0x2d2)]({'setAuthToken':_0x54d73b,'setUserId':_0x558abe[_0x1325ad(0x11f)]})}),_0x1df94d=await _0x10413a[_0x1325ad(0x302)]();if(_0x1df94d['success'])_0x1c32b7[0x0][_0x1325ad(0x234)]=_0x1df94d[_0x1325ad(0x295)][_0x1325ad(0x234)],_0x1c32b7[0x0][_0x1325ad(0x179)]=_0x1df94d[_0x1325ad(0x295)][_0x1325ad(0x179)],_0x1c32b7[0x0][_0x1325ad(0xce)]=_0x1df94d[_0x1325ad(0x295)][_0x1325ad(0xce)];else{console[_0x1325ad(0x2b1)](_0x1325ad(0x1a4),_0x1df94d[_0x1325ad(0x295)]);return;}await saveCompanyToIndexedDB(_0x1c32b7,_0x4f5f59);if(!_0x1c32b7[0x0]['setWindows']||_0x1c32b7[0x0][_0x1325ad(0x234)]['length']===0x0){console['error']('Error:\x20No\x20hay\x20ventanas\x20disponibles.');return;}for(const _0x5c1145 of _0x1c32b7[0x0][_0x1325ad(0x234)]){await new Promise(_0x5d8319=>setTimeout(_0x5d8319,0x12c)),await createCartStore(_0x5c1145[_0x1325ad(0x13a)]),_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x136)+_0x5c1145['setWindowName']+_0x1325ad(0x275);}_0x194ccc[_0x1325ad(0x22d)]=_0x1325ad(0x12e)+_0x558abe['setUserNombres']+_0x1325ad(0x275),setTimeout(()=>location[_0x1325ad(0x112)](),0x7d0);}catch(_0x571dcf){console[_0x1325ad(0x2b1)]('Error\x20en\x20la\x20solicitud:',_0x571dcf),_0x25094c['disabled']=![],hideLoadingModal(),alert(_0x571dcf);throw _0x571dcf;}}function clearAndStore(_0x3816df,_0xe697f0,_0x1e4cd0){return new Promise((_0x8df879,_0x57ab92)=>{const _0x42d33f=_0x3292,_0x5b5a52=_0x3816df[_0x42d33f(0x24d)](_0xe697f0,'readwrite'),_0x44a667=_0x5b5a52['objectStore'](_0xe697f0),_0x225580=_0x44a667[_0x42d33f(0x20f)]();_0x225580[_0x42d33f(0x178)]=()=>{const _0x4fb168=_0x42d33f;_0x1e4cd0[_0x4fb168(0x166)](_0x55f974=>_0x44a667[_0x4fb168(0x2b6)](_0x55f974));},_0x5b5a52[_0x42d33f(0x1fc)]=()=>_0x8df879(),_0x5b5a52[_0x42d33f(0x10b)]=()=>_0x57ab92(new Error(_0x42d33f(0x2b4)+_0xe697f0+'!'));});}async function logoutReload(_0x33f0b1=0x0,_0x484313){const _0x45a11b=_0x1caf5f;if(_0x33f0b1!=0x1){showLoadingModal();const _0x13fc99=document[_0x45a11b(0x1b7)](_0x45a11b(0x22b));_0x13fc99[_0x45a11b(0x22d)]=_0x45a11b(0xc7);}_0x484313==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location['reload']();}async function registerServiceWorker(_0x325619,_0xee781e){const _0x11d7c3=_0x1caf5f;'serviceWorker'in navigator&&navigator[_0x11d7c3(0x27b)][_0x11d7c3(0x167)](_0x325619)[_0x11d7c3(0x246)](_0x3f6954=>{const _0x25eb9c=_0x11d7c3;console[_0x25eb9c(0xae)](_0x25eb9c(0x235)),_0x3f6954[_0x25eb9c(0x225)]=()=>{const _0x5b6971=_0x25eb9c,_0x20cffd=_0x3f6954[_0x5b6971(0x15f)];_0x20cffd[_0x5b6971(0x1a9)]=()=>{const _0x298033=_0x5b6971;_0x20cffd[_0x298033(0x2f4)]=='installed'&&navigator[_0x298033(0x27b)][_0x298033(0xe0)]&&console['log'](_0x298033(0x219));};},navigator['serviceWorker'][_0x25eb9c(0x308)](_0x25eb9c(0x171),()=>{const _0x25f3bd=_0x25eb9c;showLoadingModal();const _0x332982=document['getElementById'](_0x25f3bd(0x22b));_0x332982[_0x25f3bd(0x22d)]='apiPOS\x20v4.3.5\x20...',logoutReload(0x1,_0xee781e);});})[_0x11d7c3(0x1f5)](_0x376596=>console[_0x11d7c3(0x2b1)]('Error\x20al\x20registrar\x20el\x20Service\x20Worker:',_0x376596));}function isLoggedIn(_0x3668c5){const _0x46403f=_0x1caf5f;return _0x3668c5&&_0x3668c5[0x0]&&_0x3668c5[0x0][_0x46403f(0x2cb)];}function _0x3292(_0x46a2c1,_0x2005e6){const _0x5e164a=_0x3ebf();return _0x3292=function(_0x12fc38,_0x29ae42){_0x12fc38=_0x12fc38-0x8b;let _0x3cd64c=_0x5e164a[_0x12fc38];return _0x3cd64c;},_0x3292(_0x46a2c1,_0x2005e6);}function apiERPShowContent(){const _0xeacb21=_0x1caf5f;document['getElementById'](_0xeacb21(0x9c))['classList'][_0xeacb21(0x2a8)](_0xeacb21(0x303)),document[_0xeacb21(0x1b7)]('pos')['classList']['remove'](_0xeacb21(0x303)),document['getElementById'](_0xeacb21(0x131))[_0xeacb21(0x222)][_0xeacb21(0x1dc)](_0xeacb21(0x303));const _0x167798=document[_0xeacb21(0x1b7)](_0xeacb21(0xeb));_0x167798&&_0x167798['classList'][_0xeacb21(0x2a8)]('hidden');}function x64ctotalcal(){const _0x4c029a=_0x1caf5f;return window[_0x4c029a(0x18d)]['hostname'];}function x64btsparamnumber(_0x92eed9){const _0x342552=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x92eed9==_0x342552;}function x32btsfirefoxcalc(_0x41666b){const _0x2e1244=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x41666b==_0x2e1244;}function x64bitsdescitem(_0x28faad){const _0x581131=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x28faad==_0x581131;}function x43bitsdescglobal(_0x320e4f){const _0x4ad38f=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x320e4f==_0x4ad38f;}function x32bitsCompanyTkn(_0x43b5c2){const _0x4e2b7d=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x43b5c2==_0x4e2b7d;}function x64bitsparamnumber(_0x46a1dd,_0x488c48){const _0x580e50=_0x488c48;return _0x46a1dd==_0x580e50;}function activarRender(_0x384af1){const _0x221ce9=_0x1caf5f,_0x422d41=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x384af1)];return _0x422d41[_0x221ce9(0x116)](!![]);}function saveCompanyToIndexedDB(_0x1df306,_0x1b77b7){return new Promise((_0x492354,_0x11385e)=>{const _0x3f85ba=_0x3292,_0x428cb2=_0x1b77b7[_0x3f85ba(0x24d)](_0x3f85ba(0x11e),_0x3f85ba(0x165)),_0x11c62d=_0x428cb2['objectStore']('company');_0x11c62d['clear'](),_0x1df306[_0x3f85ba(0x166)](_0xc55e4=>_0x11c62d[_0x3f85ba(0x2b6)](_0xc55e4)),_0x428cb2[_0x3f85ba(0x1fc)]=()=>_0x492354(),_0x428cb2[_0x3f85ba(0x10b)]=_0x5a3067=>_0x11385e(_0x5a3067[_0x3f85ba(0xfb)]['error']);});}function loadCompanyFromIndexedDB(_0x50d5eb){return new Promise((_0x2e92a9,_0x53082c)=>{const _0x366554=_0x3292,_0x56b587=_0x50d5eb[_0x366554(0x24d)](_0x366554(0x11e),_0x366554(0xc0)),_0x10e01c=_0x56b587['objectStore']('company'),_0x4125c3=_0x10e01c[_0x366554(0x304)]();_0x4125c3['onsuccess']=()=>_0x2e92a9(_0x4125c3[_0x366554(0x96)]),_0x4125c3[_0x366554(0x10b)]=_0x219ec9=>_0x53082c(_0x219ec9[_0x366554(0xfb)][_0x366554(0x2b1)]);});}async function initializeCompany(_0x44b0c9){const _0x587930=_0x1caf5f;try{const _0x1a0850=await loadCompanyFromIndexedDB(_0x44b0c9);company=_0x1a0850,company[_0x587930(0x168)]>0x0?(console[_0x587930(0xae)]('Company\x20Load.'),myCompany=company[0x0]):console['log']('Company\x20Empty.');}catch(_0x54933e){console['error']('Company\x20Load\x20Error:',_0x54933e);}}function loadProductsFromIndexedDB(_0x131216){return new Promise((_0x302d9c,_0x37cbcf)=>{const _0x512667=_0x3292,_0x5af8e0=_0x131216[_0x512667(0x24d)]('products','readonly'),_0x225eb0=_0x5af8e0[_0x512667(0x244)](_0x512667(0xbc)),_0x46c746=_0x225eb0[_0x512667(0x304)]();_0x46c746[_0x512667(0x178)]=()=>_0x302d9c(_0x46c746[_0x512667(0x96)]),_0x46c746[_0x512667(0x10b)]=_0x4be95a=>_0x37cbcf(_0x4be95a[_0x512667(0xfb)]['error']);});}async function initializeProducts(_0x35f1d4){const _0x11753b=_0x1caf5f;try{const _0x193ae7=await loadProductsFromIndexedDB(_0x35f1d4);products=_0x193ae7,products[_0x11753b(0x168)]>0x0?console[_0x11753b(0xae)](_0x11753b(0x216)):console['log'](_0x11753b(0x1ed));}catch(_0x40f5c7){console[_0x11753b(0x2b1)](_0x11753b(0xb0),_0x40f5c7);}}async function validateAccess(_0x2a86c3){const _0x497509=_0x1caf5f;await initializeCompany(_0x2a86c3);if(!isLoggedIn(company)){processOfflineOperations();throw new Error('Bienvenido\x20a\x20apiPOS!');}if(!activarRender(company[0x0][_0x497509(0xd9)]))throw new Error(_0x497509(0x2e7));apiERPShowContent();}function initCountrySelector(_0x5d3eef){const _0x12e400=_0x1caf5f,_0x590f30=_0x5d3eef[_0x12e400(0x13b)](_0x12e400(0x113)),_0x31dd9d=_0x5d3eef[_0x12e400(0x13b)](_0x12e400(0x287));let _0xb2c435=_0x590f30[_0x12e400(0x1ee)]['selectedCode']||'51';function _0x1aabda(){const _0x567060=_0x12e400;_0x31dd9d[_0x567060(0x2cd)][_0x567060(0x105)]=_0x590f30[_0x567060(0x247)]+'px';}_0x1aabda(),window[_0x12e400(0x308)](_0x12e400(0x2d0),_0x1aabda),_0x590f30['addEventListener']('click',function(_0x1b5ced){const _0x1ad31e=_0x12e400;_0x1b5ced[_0x1ad31e(0x2a5)](),_0x1aabda();const _0x2624b6=_0x31dd9d['style'][_0x1ad31e(0x1d5)]===_0x1ad31e(0x13c);document['querySelectorAll'](_0x1ad31e(0x287))[_0x1ad31e(0x166)](_0x5836fc=>{const _0x7a23b8=_0x1ad31e;if(_0x5836fc!==_0x31dd9d)_0x5836fc['style'][_0x7a23b8(0x1d5)]='none';}),_0x31dd9d['style'][_0x1ad31e(0x1d5)]=_0x2624b6?_0x1ad31e(0x1ae):_0x1ad31e(0x13c);}),_0x31dd9d[_0x12e400(0xe2)](_0x12e400(0x24c))[_0x12e400(0x166)](_0x3319c1=>{const _0x2cead0=_0x12e400;_0x3319c1[_0x2cead0(0x308)]('click',function(_0x2bfcd7){const _0x2433c=_0x2cead0;_0x2bfcd7['stopPropagation'](),_0xb2c435=this[_0x2433c(0x1ee)]['code'],_0x590f30['dataset'][_0x2433c(0x20e)]=_0xb2c435,_0x590f30[_0x2433c(0x22d)]=this['innerHTML'],_0x31dd9d['style'][_0x2433c(0x1d5)]=_0x2433c(0x1ae);});}),document[_0x12e400(0x308)]('click',function(_0x16de30){const _0x3238fc=_0x12e400;!_0x590f30['contains'](_0x16de30[_0x3238fc(0xfb)])&&!_0x31dd9d[_0x3238fc(0x1ca)](_0x16de30[_0x3238fc(0xfb)])&&(_0x31dd9d[_0x3238fc(0x2cd)][_0x3238fc(0x1d5)]=_0x3238fc(0x1ae));});}function getCredentialsApiWAChat(_0x2e306a){const _0x117856=_0x1caf5f;return myCompany[_0x117856(0x2f2)][_0x117856(0xf8)](_0x15454e=>_0x15454e[_0x117856(0x2da)]==_0x2e306a)||null;}async function sendMessageApiWAChat(_0x452ffa,_0x1b8a02,_0x404aec,_0xd6d398,_0x470dd2,_0x53e88f,_0x428458){const _0x10379a=_0x1caf5f,_0x4a37c0=getCredentialsApiWAChat(_0x452ffa);if(!_0x4a37c0)return Promise['reject'](new Error('Credenciales\x20no\x20encontradas'));const _0x4e99b8=_0x4a37c0['setCredentialsApiWAChatSubdomain'],_0xf71126=_0x4a37c0[_0x10379a(0x2f1)],_0x4fc466={'type':_0x404aec,'content':_0xd6d398};if(_0x470dd2)_0x4fc466['caption']=_0x470dd2;_0x53e88f&&(_0x4fc466[_0x10379a(0x28e)]=_0x53e88f);_0x428458&&(_0x4fc466[_0x10379a(0xf7)]=_0x428458);const _0x45498c=_0x10379a(0x218)+_0x4e99b8+_0x10379a(0x120)+_0xf71126+_0x10379a(0x1b5),_0xb14202=await fetch(_0x45498c,{'method':'POST','headers':{'Content-Type':_0x10379a(0xda),'x-auth-token':myCompany[_0x10379a(0xed)]},'body':JSON[_0x10379a(0x2d2)]({'to':_0x1b8a02,'payload':_0x4fc466})});if(!_0xb14202['ok']){const _0x16919a=await _0xb14202[_0x10379a(0x302)]()[_0x10379a(0x1f5)](()=>({}));throw new Error(_0x16919a[_0x10379a(0x2b1)]||_0x10379a(0x1da)+_0xb14202[_0x10379a(0x1bb)]);}return _0xb14202[_0x10379a(0x302)]();}async function saveCredentialsApiWAChatInCompany(){const _0x14b4c7=_0x1caf5f,_0x2f65d1=document[_0x14b4c7(0x1b7)](_0x14b4c7(0x2f2)),_0x480842=_0x2f65d1['value'],_0x560796=getCredentialsApiWAChat(_0x480842);_0x560796&&(myCompany[_0x14b4c7(0x276)]=_0x560796['setCredentialsApiWAChatId']);}function formatVariantName(_0x51e9e2,_0x2f9867,_0x5e42c7){const _0x1d3054=_0x1caf5f;let _0x1cddcd=String(_0x51e9e2||'')[_0x1d3054(0x103)]();if(!_0x2f9867||typeof _0x2f9867!==_0x1d3054(0x2ed)||_0x2f9867[_0x1d3054(0xcf)]!==Object||Object[_0x1d3054(0x2a1)](_0x2f9867)[_0x1d3054(0x168)]===0x0)return _0x1cddcd;return Object[_0x1d3054(0x2a1)](_0x2f9867)[_0x1d3054(0x166)](_0x3ae6ce=>{const _0x58ddef=_0x1d3054,_0x17ff34=String(_0x2f9867[_0x3ae6ce]||'')[_0x58ddef(0x103)]();if(!_0x17ff34)return;if(_0x5e42c7===0x1)_0x1cddcd+='\x20'+_0x3ae6ce+'\x20'+_0x17ff34;else _0x5e42c7===0x2&&(_0x1cddcd+='\x20'+_0x17ff34);}),_0x1cddcd;}function updateInternetIcon(_0x2ed3a4){const _0x317292=_0x1caf5f;let _0x14a3ac,_0x161c87;_0x2ed3a4==0x1&&(_0x14a3ac=document[_0x317292(0x1b7)](_0x317292(0x245)),_0x161c87=document[_0x317292(0x1b7)](_0x317292(0x2a3))),isOnline()?(_0x2ed3a4==0x1&&(_0x14a3ac[_0x317292(0x2e0)]='icon-arrow-right',_0x161c87[_0x317292(0x2e0)]=_0x317292(0x2fb)),isLoggedIn(company)&&conectarWebSocket(_0x2ed3a4),apiERPsync(_0x2ed3a4)):(_0x2ed3a4==0x1&&(_0x14a3ac[_0x317292(0x2e0)]='icon-arrow-right\x20hidden',_0x161c87[_0x317292(0x2e0)]=_0x317292(0x1d1)),isWebSocketActive()&&socket['close']());}async function apiERPsync(_0x38c7d7){isLoggedIn(company)&&(_0x38c7d7==0x1&&(await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp())),processOfflineOperations();}async function fetchLocationByIP(){const _0x2d1d15=_0x1caf5f;try{const _0x11d03e=await fetch('https://ipapi.co/json/'),_0x5c511b=await _0x11d03e[_0x2d1d15(0x302)]();if(_0x5c511b&&_0x5c511b[_0x2d1d15(0x164)]&&_0x5c511b[_0x2d1d15(0x2c6)])return{'lat':parseFloat(_0x5c511b[_0x2d1d15(0x164)]),'lng':parseFloat(_0x5c511b[_0x2d1d15(0x2c6)])};}catch(_0x3ced5e){console[_0x2d1d15(0x240)](_0x2d1d15(0x15d),_0x3ced5e);}return null;}function loadGoogleMaps(_0x20be95){return new Promise((_0x4a14c4,_0x215b73)=>{const _0x507221=_0x3292;if(window[_0x507221(0x108)]&&window['google'][_0x507221(0x1aa)])return _0x4a14c4();const _0x3c1028=document[_0x507221(0x1af)](_0x507221(0x21e));_0x3c1028[_0x507221(0x265)]=_0x507221(0x289)+encodeURIComponent(_0x20be95)+_0x507221(0x119),_0x3c1028[_0x507221(0xd0)]=!![],_0x3c1028[_0x507221(0x104)]=!![],_0x3c1028[_0x507221(0xb8)]=()=>{const _0x36a282=_0x507221;window[_0x36a282(0x108)]&&window[_0x36a282(0x108)][_0x36a282(0x1aa)]?_0x4a14c4():_0x215b73(new Error(_0x36a282(0x143)));},_0x3c1028[_0x507221(0x10b)]=()=>_0x215b73(new Error('Error\x20cargando\x20Google\x20Maps\x20SDK')),document['head'][_0x507221(0x2c9)](_0x3c1028);});}function generateMap(_0x35e995,_0x2df568={}){const _0x3d342a=_0x1caf5f,_0x330cf0=typeof _0x35e995===_0x3d342a(0x154)?document[_0x3d342a(0x1b7)](_0x35e995):_0x35e995;if(!_0x330cf0)throw new Error('Map\x20container\x20not\x20found');const _0x3f897e={'lat':0x0,'lng':0x0},_0x3c657e=_0x2df568[_0x3d342a(0x25e)]!==![],_0x395c5b=_0x2df568['mode']||_0x3d342a(0x16b),_0x4cebf3=_0x2df568[_0x3d342a(0x196)],_0xa9563b=document[_0x3d342a(0x1b7)](_0x2df568[_0x3d342a(0x196)]);_0xa9563b&&(_0xa9563b['value']='',_0xa9563b[_0x3d342a(0x2ca)](new Event('change',{'bubbles':!![]})));let _0x326f8b,_0x2fd60e=[],_0x37cbec=null;function _0x53edc1(_0x35b326,_0x28d52f=0xc){const _0x5e9d70=_0x3d342a;_0x326f8b=new google[(_0x5e9d70(0x1aa))][(_0x5e9d70(0x1ac))](_0x330cf0,{'center':_0x35b326,'zoom':_0x28d52f,'mapId':_0x5e9d70(0x1f0)}),_0x395c5b===_0x5e9d70(0xde)&&Array['isArray'](_0x2df568['locations'])&&_0x2df568[_0x5e9d70(0xb5)]['forEach'](_0x76a0e1=>_0x324ce3(_0x76a0e1)),_0x395c5b===_0x5e9d70(0x300)&&_0x2df568[_0x5e9d70(0x204)]&&_0x4d481d(_0x2df568['route'][_0x5e9d70(0x211)],_0x2df568[_0x5e9d70(0x204)]['destination']),_0x395c5b===_0x5e9d70(0x16b)&&(_0x326f8b[_0x5e9d70(0x238)](_0x5e9d70(0x20d),_0x5de223=>_0x1e583b(_0x5de223[_0x5e9d70(0x162)])),_0x2df568[_0x5e9d70(0xc6)]&&((async()=>{const _0x4cc661=_0x5e9d70,{PlaceAutocompleteElement:_0x4ad40}=await google['maps']['importLibrary'](_0x4cc661(0x161)),_0x4c21ed=new _0x4ad40(),_0x55f8b0=document[_0x4cc661(0x1af)]('div');_0x55f8b0[_0x4cc661(0x222)][_0x4cc661(0x1dc)](_0x4cc661(0x2fc)),Object[_0x4cc661(0x160)](_0x55f8b0[_0x4cc661(0x2cd)],{'position':'absolute','top':'8px','left':_0x4cc661(0x1e1),'zIndex':'5','width':'260px'}),_0x55f8b0[_0x4cc661(0x2c9)](_0x4c21ed),_0x326f8b['controls'][google[_0x4cc661(0x1aa)][_0x4cc661(0x13d)][_0x4cc661(0x23b)]][_0x4cc661(0x16a)](_0x55f8b0),_0x4c21ed[_0x4cc661(0x308)](_0x4cc661(0x1e6),async _0x12205f=>{const _0x2a5d24=_0x4cc661;console[_0x2a5d24(0xae)](_0x2a5d24(0x21d),_0x12205f);if(!_0x12205f['placePrediction']){console['warn'](_0x2a5d24(0x158));return;}const _0x20dd35=_0x12205f[_0x2a5d24(0x198)],_0x252385=_0x20dd35[_0x2a5d24(0x251)]();await _0x252385[_0x2a5d24(0xf0)]({'fields':[_0x2a5d24(0x18d)]});const _0x5e61f4=_0x252385[_0x2a5d24(0x18d)];if(!_0x5e61f4){console[_0x2a5d24(0x240)]('⚠️\x20place.location\x20indefinido');return;}_0x326f8b[_0x2a5d24(0xb2)](_0x5e61f4),_0x326f8b[_0x2a5d24(0xd5)](0x11),_0x1e583b(_0x5e61f4);const _0x48532b=_0x4cebf3?document['getElementById'](_0x4cebf3):null;_0x48532b&&(_0x48532b[_0x2a5d24(0x1cc)]=_0x5e61f4[_0x2a5d24(0x2a0)]()+','+_0x5e61f4['lng'](),_0x48532b[_0x2a5d24(0x2ca)](new Event(_0x2a5d24(0x1fd),{'bubbles':!![]})));});})()));}_0x3c657e&&navigator['geolocation']?navigator[_0x3d342a(0x230)]['getCurrentPosition'](_0x383e3a=>_0x53edc1({'lat':_0x383e3a['coords']['latitude'],'lng':_0x383e3a[_0x3d342a(0xd2)][_0x3d342a(0x2c6)]}),async()=>{const _0x78d03a=await fetchLocationByIP();_0x53edc1(_0x78d03a||_0x3f897e);}):((async()=>{const _0x46bd3a=await fetchLocationByIP();_0x53edc1(_0x46bd3a||_0x3f897e);})());async function _0x324ce3({lat:_0x35e784,lng:_0x58fa5c,iconUrl:_0x46cf95,label:_0x3a920c}){const _0x135a25=_0x3d342a,{AdvancedMarkerElement:_0x29beb5}=await google['maps']['importLibrary']('marker'),_0x3bb7cb=new _0x29beb5({'map':_0x326f8b,'position':{'lat':_0x35e784,'lng':_0x58fa5c},'title':_0x3a920c||'','content':_0x46cf95?((()=>{const _0x329b54=_0x3292,_0x5b4ed6=document[_0x329b54(0x1af)](_0x329b54(0x122));return _0x5b4ed6['src']=_0x46cf95,_0x5b4ed6[_0x329b54(0x2cd)][_0x329b54(0x105)]=_0x329b54(0x259),_0x5b4ed6['style'][_0x329b54(0x28d)]=_0x329b54(0x259),_0x5b4ed6;})()):undefined});return _0x2fd60e[_0x135a25(0x16a)](_0x3bb7cb),_0x3bb7cb;}async function _0x1e583b(_0x19d903,_0x57f903){const _0x2e5ad6=_0x3d342a,_0x3419af=typeof _0x19d903===_0x2e5ad6(0x2bb)&&typeof _0x57f903===_0x2e5ad6(0x2bb)?new google['maps']['LatLng'](_0x19d903,_0x57f903):_0x19d903,_0x4db99a=_0x3419af['lat'](),_0x245438=_0x3419af[_0x2e5ad6(0x8d)]();_0x37cbec&&(_0x37cbec[_0x2e5ad6(0x1b8)]=null),_0x37cbec=await _0x324ce3({'lat':_0x4db99a,'lng':_0x245438,'iconUrl':_0x2df568[_0x2e5ad6(0x285)]}),typeof _0x2df568['onSelect']===_0x2e5ad6(0x14d)&&_0x2df568[_0x2e5ad6(0x100)](_0x4db99a,_0x245438);}function _0x4d481d(_0x300ca3,_0x213e80){const _0x2d0c4b=_0x3d342a,_0x18633f=new google[(_0x2d0c4b(0x1aa))][(_0x2d0c4b(0x137))](),_0x383f0e=new google[(_0x2d0c4b(0x1aa))][(_0x2d0c4b(0xe1))]({'map':_0x326f8b});_0x18633f[_0x2d0c4b(0x204)]({'origin':_0x300ca3,'destination':_0x213e80,'travelMode':google[_0x2d0c4b(0x1aa)][_0x2d0c4b(0x203)][_0x2d0c4b(0x29d)]},(_0x44f1e6,_0x30d424)=>{const _0xc7962=_0x2d0c4b;if(_0x30d424==='OK'){_0x383f0e['setDirections'](_0x44f1e6);if(_0x2df568[_0xc7962(0x1db)]){const _0x5bb4cb=_0x44f1e6['routes'][0x0][_0xc7962(0xbd)][_0xc7962(0x1a3)]((_0x31c849,_0x3965fd)=>_0x31c849+_0x3965fd[_0xc7962(0x2ea)][_0xc7962(0x1cc)],0x0),_0x3bb6e4=_0x5bb4cb/0x3e8;console[_0xc7962(0xae)]('Distance:\x20'+_0x3bb6e4[_0xc7962(0x2c2)](0x2)+_0xc7962(0x30a)),console['log']('Price:\x20'+(_0x3bb6e4*_0x2df568['pricePerKm'])[_0xc7962(0x2c2)](0x2));}}else console[_0xc7962(0x2b1)](_0xc7962(0x305),_0x30d424);});}return _0x326f8b;}let departamentos=[],provincias=[],distritos=[];async function loadLocationData(){const _0x3a82a4=_0x1caf5f;if(departamentos['length'])return;const [_0x4d6537,_0x5208c7,_0x579476]=await Promise['all']([fetch(_0x3a82a4(0x1cf)),fetch('./json/peru_provincias.json'),fetch(_0x3a82a4(0x1e0))]);departamentos=(await _0x4d6537[_0x3a82a4(0x302)]())[_0x3a82a4(0x1ce)],provincias=(await _0x5208c7[_0x3a82a4(0x302)]())[_0x3a82a4(0x1ce)],distritos=(await _0x579476[_0x3a82a4(0x302)]())[_0x3a82a4(0x1ce)];}async function initLocationSelectors(_0x2e3527=0x1,_0x223009='',_0xee982e,_0x155a23,_0x4aadd0){const _0x5dd196=_0x1caf5f,_0x475a7c=document[_0x5dd196(0x1b7)](_0xee982e),_0x487f6f=document[_0x5dd196(0x1b7)](_0x155a23),_0x183796=document['getElementById'](_0x4aadd0),_0x552e43=(_0x74d14,_0x4e7be7,_0x47a816=![])=>{const _0x19c5b0=_0x5dd196;_0x74d14[_0x19c5b0(0x22d)]=_0x47a816?_0x19c5b0(0x13e):'',_0x4e7be7['forEach'](_0x252cb1=>_0x74d14[_0x19c5b0(0x1dc)](new Option(_0x252cb1[_0x19c5b0(0xcc)],_0x252cb1['id'])));};_0x552e43(_0x475a7c,departamentos,!![]),_0x475a7c[_0x5dd196(0x308)](_0x5dd196(0x1fd),async()=>{const _0x1198bb=_0x5dd196,_0x19f8fe=_0x475a7c[_0x1198bb(0x1cc)];_0x552e43(_0x487f6f,provincias[_0x1198bb(0xf9)](_0x13227c=>_0x13227c[_0x1198bb(0x1c6)]===_0x19f8fe),![]),_0x487f6f[_0x1198bb(0x2ca)](new Event('change'));}),_0x487f6f['addEventListener'](_0x5dd196(0x1fd),async()=>{const _0x367bd5=_0x5dd196,_0x2cf671=_0x487f6f[_0x367bd5(0x1cc)];_0x552e43(_0x183796,distritos[_0x367bd5(0xf9)](_0x245d6f=>_0x245d6f['province_id']===_0x2cf671),![]),_0x183796[_0x367bd5(0x2ca)](new Event('change'));}),_0x183796['addEventListener']('change',async()=>{const _0x5d66a8=_0x5dd196,_0x1e5a06=_0x183796[_0x5d66a8(0x1cc)];if(_0x2e3527==0x1)await updateWindowOption(_0x223009,'setClientSupplierDistrict',_0x1e5a06);else{if(_0x2e3527==0x2)await updateWindowOption(_0x223009,'setOperationPlaceStartDistrict',_0x1e5a06);else _0x2e3527==0x3&&await updateWindowOption(_0x223009,_0x5d66a8(0x9a),_0x1e5a06);}});}async function setLocationByUbigeo(_0x1fa675,_0x4accc1,_0x32b6ac,_0x5cc4f0){const _0x10e152=_0x1caf5f,_0x1e9ee5=_0x1fa675[_0x10e152(0x26c)](0x0,0x2),_0x4f7211=_0x1fa675[_0x10e152(0x26c)](0x2,0x4),_0x4b880b=_0x1fa675[_0x10e152(0x26c)](0x4,0x6),_0x21f21f=document[_0x10e152(0x1b7)](_0x4accc1),_0xb9742e=document[_0x10e152(0x1b7)](_0x32b6ac),_0x5ea3d5=document[_0x10e152(0x1b7)](_0x5cc4f0),_0x12dfa4=(_0x7c05a6,_0x713224)=>new Promise(_0x208cb4=>{const _0x5a9ac4=_0x10e152,_0x222c30=()=>{const _0x2fc327=_0x3292;_0x7c05a6[_0x2fc327(0x22c)](_0x2fc327(0x1fd),_0x222c30),_0x208cb4();};_0x7c05a6['addEventListener'](_0x5a9ac4(0x1fd),_0x222c30),[..._0x7c05a6[_0x5a9ac4(0x215)]][_0x5a9ac4(0x111)](_0x197c1c=>_0x197c1c[_0x5a9ac4(0x1cc)]===_0x713224)?(_0x7c05a6[_0x5a9ac4(0x1cc)]=_0x713224,_0x7c05a6['dispatchEvent'](new Event('change'))):_0x208cb4();});await _0x12dfa4(_0x21f21f,_0x1e9ee5),await _0x12dfa4(_0xb9742e,_0x4f7211),[..._0x5ea3d5['options']]['some'](_0x3dd6dd=>_0x3dd6dd[_0x10e152(0x1cc)]==_0x4b880b)&&(_0x5ea3d5[_0x10e152(0x1cc)]=_0x4b880b,_0x5ea3d5[_0x10e152(0x2ca)](new Event('change')));}async function resetLocationSelectors(_0x34d2be){const _0x30b85a=_0x1caf5f,_0x321d9b=document[_0x30b85a(0x1b7)](_0x34d2be);return new Promise(_0x2bf049=>{const _0x278974=_0x30b85a,_0x2b503c=()=>{const _0x531637=_0x3292;_0x321d9b['removeEventListener'](_0x531637(0x1fd),_0x2b503c),_0x2bf049();};_0x321d9b[_0x278974(0x308)]('change',_0x2b503c),_0x321d9b[_0x278974(0x1cc)]='0',_0x321d9b[_0x278974(0x2ca)](new Event(_0x278974(0x1fd)));});}function createAutocomplete(_0x478c41,_0x41f22a,_0x2b7d61,_0x428961){const _0x3da63c=_0x1caf5f,_0x4cb438=document['createElement']('ul');_0x4cb438['className']=_0x3da63c(0x14c),Object[_0x3da63c(0x160)](_0x4cb438[_0x3da63c(0x2cd)],{'position':_0x3da63c(0x19e),'zIndex':_0x3da63c(0x1c9),'backgroundColor':'#fff','border':'1px\x20solid\x20#ccc','width':_0x478c41[_0x3da63c(0xc5)]()[_0x3da63c(0x105)]+'px','left':_0x478c41[_0x3da63c(0x22a)]+'px','top':_0x478c41['offsetTop']+_0x478c41[_0x3da63c(0xc5)]()['height']+'px','fontSize':_0x3da63c(0x1b9),'boxShadow':_0x3da63c(0x107),'marginTop':_0x3da63c(0x210),'listStyle':'none','padding':'0','maxHeight':'180px','overflowY':'auto'});const _0x5d3432=_0x478c41['parentNode'];_0x5d3432['style'][_0x3da63c(0x125)]=_0x3da63c(0x281),_0x5d3432[_0x3da63c(0x2cd)][_0x3da63c(0x109)]=_0x3da63c(0x2e9),_0x478c41[_0x3da63c(0x2fd)][_0x3da63c(0x266)](_0x4cb438,_0x478c41[_0x3da63c(0x16d)]),_0x478c41[_0x3da63c(0x308)](_0x3da63c(0xaa),()=>{const _0x29f385=_0x3da63c,_0x685829=_0x478c41[_0x29f385(0x1cc)]['trim']()[_0x29f385(0x180)]();_0x4cb438[_0x29f385(0x22d)]='';const _0x222634=_0x685829===''?_0x41f22a[_0x29f385(0x26c)](0x0,0x14):_0x41f22a[_0x29f385(0xf9)](_0x30888a=>{const _0x2f4bfa=_0x29f385,_0xfc0b59=String(_0x30888a[_0x2b7d61])['toLowerCase']();return _0x685829[_0x2f4bfa(0x15b)](/\s+/)[_0x2f4bfa(0x1c2)](_0x58f26e=>_0xfc0b59[_0x2f4bfa(0x116)](_0x58f26e));})[_0x29f385(0x26c)](0x0,0xa);if(_0x222634[_0x29f385(0x168)]===0x0){_0x4cb438[_0x29f385(0x2cd)]['display']='none';return;}_0x4cb438[_0x29f385(0x2cd)][_0x29f385(0x1d5)]=_0x29f385(0x13c);for(const _0x37ca72 of _0x222634){const _0x4edfd2=document[_0x29f385(0x1af)]('li');_0x4edfd2[_0x29f385(0x2cd)]['padding']='6px\x2010px',_0x4edfd2[_0x29f385(0x2cd)]['cursor']=_0x29f385(0x261),_0x4edfd2[_0x29f385(0x308)](_0x29f385(0x11b),()=>_0x4edfd2['style'][_0x29f385(0x141)]='#f0f0f0'),_0x4edfd2[_0x29f385(0x308)]('mouseout',()=>_0x4edfd2['style']['backgroundColor']=_0x29f385(0x223)),_0x4edfd2[_0x29f385(0xac)]=_0x37ca72[_0x2b7d61],_0x4edfd2['addEventListener'](_0x29f385(0x153),()=>{const _0x12e5d4=_0x29f385;_0x478c41['value']=_0x37ca72[_0x2b7d61],_0x4cb438[_0x12e5d4(0x22d)]='',_0x428961(_0x37ca72);}),_0x4cb438[_0x29f385(0x2c9)](_0x4edfd2);}}),_0x478c41[_0x3da63c(0x308)](_0x3da63c(0xcd),()=>{const _0x156849=_0x3da63c,_0x11a0ce=_0x478c41[_0x156849(0xc5)]();Object[_0x156849(0x160)](_0x4cb438[_0x156849(0x2cd)],{'width':_0x11a0ce[_0x156849(0x105)]+'px','left':_0x478c41[_0x156849(0x22a)]+'px','top':_0x478c41[_0x156849(0x189)]+_0x11a0ce['height']+'px'}),_0x4cb438[_0x156849(0x2cd)][_0x156849(0x1d5)]=_0x156849(0x13c),_0x478c41['dispatchEvent'](new Event(_0x156849(0xaa)));}),_0x478c41[_0x3da63c(0x308)](_0x3da63c(0x21c),()=>{setTimeout(()=>{const _0x2f1cef=_0x3292;_0x4cb438[_0x2f1cef(0x22d)]='',_0x4cb438[_0x2f1cef(0x2cd)]['display']=_0x2f1cef(0x1ae);},0x64);});}function waitForEvent(_0x382e38,_0x89b0a4){return new Promise(_0x262505=>{const _0x445f40=_0x3292;document[_0x445f40(0x308)](_0x89b0a4,_0x262505,{'once':!![]});const _0x102735=document['getElementById'](_0x382e38);_0x102735[_0x445f40(0x2ca)](new Event(_0x445f40(0x1fd)));});}function promisifyRequest(_0x4da094){return new Promise((_0x22d113,_0x163d6c)=>{const _0x380379=_0x3292;_0x4da094[_0x380379(0x178)]=_0x2d6bde=>_0x22d113(_0x2d6bde[_0x380379(0xfb)]['result']),_0x4da094['onerror']=_0x4f42ad=>_0x163d6c(_0x4f42ad[_0x380379(0xfb)][_0x380379(0x2b1)]);});}async function loadCartAndSetTabCount(_0x77500c){const _0x25dab4=_0x1caf5f,_0x54c915=_0x25dab4(0xc4);await registerServiceWorker(_0x54c915,_0x77500c);const _0x2de924=await createCartStore('');await validateAccess(_0x2de924),showLoadingModal();const _0x42c31e=document[_0x25dab4(0x1b7)](_0x25dab4(0x22b));_0x42c31e[_0x25dab4(0x22d)]='Generando\x20Front-End\x20...';const _0x2b5520=company[0x0][_0x25dab4(0x2cb)],_0x455dea=company[0x0][_0x25dab4(0x179)]['find'](_0x42b847=>_0x42b847[_0x25dab4(0x2bc)]==_0x2b5520[_0x25dab4(0xb1)]),_0x49e22a=company[0x0][_0x25dab4(0x1f2)],_0xc2d752=document[_0x25dab4(0x1b7)]('setBranchId');_0xc2d752[_0x25dab4(0x22d)]='';if(_0x455dea&&_0x455dea[_0x25dab4(0x1f2)]){const _0x569df4=_0x49e22a[_0x25dab4(0xf9)](_0x2ef3a6=>_0x455dea[_0x25dab4(0x1f2)][_0x25dab4(0x111)](_0x132330=>_0x132330[_0x25dab4(0x1e9)]==_0x2ef3a6[_0x25dab4(0x1e9)]));_0x569df4[_0x25dab4(0x166)](_0x67062=>{const _0x3a8fe6=_0x25dab4,_0x2a1910=document[_0x3a8fe6(0x1af)](_0x3a8fe6(0x242));_0x2a1910[_0x3a8fe6(0x1cc)]=_0x67062[_0x3a8fe6(0x1e9)],_0x2a1910['textContent']=_0x67062[_0x3a8fe6(0x282)],_0xc2d752[_0x3a8fe6(0x2c9)](_0x2a1910);});}if(_0x77500c==0x1){_0x42c31e[_0x25dab4(0x22d)]=_0x25dab4(0x14a),await loadLocationData();const _0x30e44f=document[_0x25dab4(0x1b7)](_0x25dab4(0xb3));_0x30e44f['innerHTML']='';if(_0x455dea){const _0x3a51e7=document[_0x25dab4(0x1af)](_0x25dab4(0x242));_0x3a51e7[_0x25dab4(0x1cc)]=_0x455dea['setUserCode'],_0x3a51e7[_0x25dab4(0xac)]=_0x455dea[_0x25dab4(0x126)],_0x30e44f[_0x25dab4(0x2c9)](_0x3a51e7);}const _0x76a9b8=Array[_0x25dab4(0x1be)](_0x2de924[_0x25dab4(0x2ad)])[_0x25dab4(0xf9)](_0x5ee5c8=>_0x5ee5c8[_0x25dab4(0x23c)](_0x25dab4(0x301)))[_0x25dab4(0x1b8)](_0x5f1ac3=>{const _0x1a8434=_0x25dab4,_0x57eb78=_0x5f1ac3[_0x1a8434(0x15b)]('_');return _0x57eb78[_0x1a8434(0x168)]>=0x3?_0x57eb78[0x2]:null;})[_0x25dab4(0xf9)](_0x3d9470=>_0x3d9470!==null),_0x120bed=Array[_0x25dab4(0x1be)](new Set(_0x76a9b8))[_0x25dab4(0x1b8)](_0x4061fd=>parseInt(_0x4061fd,0xa))[_0x25dab4(0x25b)]((_0x24a535,_0x5e7a16)=>_0x24a535-_0x5e7a16)[_0x25dab4(0x1b8)](_0x5d653b=>_0x5d653b[_0x25dab4(0xd6)]()),_0x6cca6e=[_0x25dab4(0xe9),_0x25dab4(0x20a),_0x25dab4(0x1f9),_0x25dab4(0x1fa),_0x25dab4(0x15a),'setClienteTipoDoc',_0x25dab4(0x213),_0x25dab4(0x1a1),_0x25dab4(0x233),_0x25dab4(0xf2),_0x25dab4(0x2eb),_0x25dab4(0xfd),_0x25dab4(0x28c),_0x25dab4(0x306),_0x25dab4(0x243),_0x25dab4(0x1d2),'setDescuentoGlobal_Monto',_0x25dab4(0x26b),_0x25dab4(0x229),_0x25dab4(0x159),_0x25dab4(0x2ac),_0x25dab4(0x149),'setOperationTransportationMode',_0x25dab4(0x140),_0x25dab4(0x2c8),_0x25dab4(0x19d),_0x25dab4(0xf4),_0x25dab4(0x17d),_0x25dab4(0xff),_0x25dab4(0x14e),_0x25dab4(0x2b2),_0x25dab4(0x1b0),_0x25dab4(0xbf),'setOperationDriverId','setOperationDriverName','setOperationDriverDocNumber',_0x25dab4(0x169),'setOperationDriverCertificate'];for(const _0x38bc57 of _0x120bed){_0x42c31e[_0x25dab4(0x22d)]=_0x25dab4(0x228)+_0x38bc57+'\x20...';const _0x20e791='window_options_'+_0x38bc57;if(_0x2de924['objectStoreNames'][_0x25dab4(0x1ca)](_0x20e791)){const _0x4bbac5=_0x2de924[_0x25dab4(0x24d)]([_0x20e791],_0x25dab4(0xc0)),_0x4a0b1b=_0x4bbac5[_0x25dab4(0x244)](_0x20e791),_0x3d0d2f=await promisifyRequest(_0x4a0b1b[_0x25dab4(0x26e)](_0x38bc57));window_options[_0x38bc57]={},_0x3d0d2f?_0x6cca6e['forEach'](_0x59b930=>{window_options[_0x38bc57][_0x59b930]=_0x3d0d2f[_0x59b930]??'';}):_0x6cca6e[_0x25dab4(0x166)](_0x1bda2a=>{window_options[_0x38bc57][_0x1bda2a]='';}),await updateTab(_0x38bc57,0x0);}const _0x3f0703='cart_'+_0x38bc57;if(_0x2de924[_0x25dab4(0x2ad)][_0x25dab4(0x1ca)](_0x3f0703)){const _0x736c7d=_0x2de924['transaction']([_0x3f0703],'readonly'),_0x578138=_0x736c7d[_0x25dab4(0x244)](_0x3f0703),_0x6928e1=await promisifyRequest(_0x578138[_0x25dab4(0x304)]());carts[_0x38bc57]=_0x6928e1;const _0xf1a5ea=myCompany['setWindows'][_0x25dab4(0xf8)](_0x1b26fd=>_0x1b26fd[_0x25dab4(0x13a)]==_0x38bc57),_0xf736e1=Array[_0x25dab4(0x2f0)](_0xf1a5ea['setCartTmpInitial'])?[..._0xf1a5ea[_0x25dab4(0x117)]]:[];_0xf736e1[_0x25dab4(0x168)]>0x0&&(carts[_0x38bc57]=_0xf736e1,_0xf1a5ea[_0x25dab4(0x221)]=_0xf736e1,_0xf1a5ea[_0x25dab4(0x117)]=[],await saveCompanyToIndexedDB(company,_0x2de924),await saveCart(_0x38bc57));}}_0x42c31e[_0x25dab4(0x22d)]=_0x25dab4(0xbb)+Object['keys'](carts)[_0x25dab4(0x168)]+_0x25dab4(0x2ee),await new Promise(_0x431529=>setTimeout(_0x431529,0x4b0));}if(_0x77500c==0x2||_0x77500c==0x3||_0x77500c==0x4){const _0xecde22=document[_0x25dab4(0x1b7)](_0x25dab4(0x2cc)),_0x156881=document['getElementById'](_0x25dab4(0x174));_0xecde22[_0x25dab4(0x22d)]='',_0x156881[_0x25dab4(0x22d)]='',_0x455dea&&(_0xecde22[_0x25dab4(0x22d)]=_0x25dab4(0xd3),_0x156881[_0x25dab4(0x22d)]=_0x455dea[_0x25dab4(0x126)]);}if(_0x77500c==0x1||_0x77500c==0x4){const _0x35c9ef=myCompany[_0x25dab4(0x2f2)],_0x53c352=document[_0x25dab4(0x1b7)](_0x25dab4(0x2f2));_0x53c352['innerHTML']='',_0x35c9ef[_0x25dab4(0x166)](_0xe41a34=>{const _0x329ceb=_0x25dab4,_0xae4e1c=document[_0x329ceb(0x1af)](_0x329ceb(0x242));_0xae4e1c[_0x329ceb(0x1cc)]=_0xe41a34[_0x329ceb(0x2da)],_0xae4e1c[_0x329ceb(0xac)]=_0xe41a34[_0x329ceb(0x146)]??_0xe41a34['setCredentialsApiWAChatPort'],_0x53c352[_0x329ceb(0x2c9)](_0xae4e1c);}),myCompany?.[_0x25dab4(0x276)]&&(_0x53c352[_0x25dab4(0x1cc)]=myCompany[_0x25dab4(0x276)]);}await initializeProducts(_0x2de924);if(_0x77500c==0x1){adjustHeight(),showLeftSection(),setActiveTab(_0x25dab4(0x2d8)),document[_0x25dab4(0x308)]('keydown',function(_0x208fb6){const _0x482c04=_0x25dab4,_0x915401=document[_0x482c04(0x1b7)]('windowId')[_0x482c04(0x1cc)],_0x8ebbfb=document['getElementById'](_0x482c04(0xc6)),_0x2a9148=document[_0x482c04(0xe2)](_0x482c04(0x1eb)),_0x5eb35f=document[_0x482c04(0x1b7)](_0x482c04(0x206)+_0x915401),_0x2f6af0=document['getElementById'](_0x482c04(0x97)+_0x915401),_0x5be53b=document[_0x482c04(0x1b7)](_0x482c04(0x197));function _0x588124(_0xddac9e){const _0x19c9a2=_0x482c04;return _0xddac9e&&(_0xddac9e['offsetWidth']>0x0||_0xddac9e[_0x19c9a2(0x18b)]>0x0||_0xddac9e[_0x19c9a2(0x14b)]()[_0x19c9a2(0x168)]);}let _0x2bd232=[];if(_0x5be53b&&_0x5be53b[_0x482c04(0x222)]['contains'](_0x482c04(0xcb))){const _0x2359aa=_0x5be53b[_0x482c04(0xe2)](_0x482c04(0x23d));_0x2359aa[_0x482c04(0x166)](_0x215863=>{const _0x3b2d33=_0x482c04;_0x588124(_0x215863)&&!_0x215863['classList'][_0x3b2d33(0x1ca)](_0x3b2d33(0x2f7))&&_0x2bd232[_0x3b2d33(0x16a)](_0x215863);});const _0x496ee7=_0x5be53b['querySelector']('#container-section-pay-'+_0x915401);if(_0x496ee7){const _0x3b1c75=_0x496ee7[_0x482c04(0xe2)](_0x482c04(0x2a2));_0x3b1c75['forEach'](_0xf91f29=>{const _0x1e38cb=_0x482c04;_0x588124(_0xf91f29)&&!_0xf91f29[_0x1e38cb(0x222)][_0x1e38cb(0x1ca)](_0x1e38cb(0x2f7))&&_0x2bd232[_0x1e38cb(0x16a)](_0xf91f29);});}_0x2f6af0&&_0x588124(_0x2f6af0)&&!_0x2f6af0[_0x482c04(0x222)]['contains'](_0x482c04(0x2f7))&&(!_0x2bd232[_0x482c04(0x116)](_0x2f6af0)&&_0x2bd232['push'](_0x2f6af0));const _0xd75dab=_0x5be53b[_0x482c04(0x13b)](_0x482c04(0x1fb));_0xd75dab&&_0x588124(_0xd75dab)&&!_0x2bd232[_0x482c04(0x116)](_0xd75dab)&&_0x2bd232[_0x482c04(0x184)](_0xd75dab);}else{_0x2bd232=[_0x8ebbfb,..._0x2a9148];if(_0x5eb35f)_0x2bd232['push'](_0x5eb35f);}const _0x4788b2=document['activeElement'],_0xa13f6c=_0x4788b2&&(_0x4788b2[_0x482c04(0x2e6)]==_0x482c04(0x19b)||_0x4788b2['tagName']=='TEXTAREA'||_0x4788b2[_0x482c04(0x25c)](_0x482c04(0x1f1)));if(_0x5be53b&&_0x5be53b['classList']['contains'](_0x482c04(0xcb))&&_0x208fb6[_0x482c04(0xfc)]=='Enter'){if(_0x4788b2&&_0x4788b2[_0x482c04(0x222)][_0x482c04(0x1ca)](_0x482c04(0x121))){_0x208fb6[_0x482c04(0x19a)](),_0x4788b2[_0x482c04(0x20d)]();return;}}if(_0x5be53b&&_0x5be53b[_0x482c04(0x222)]['contains'](_0x482c04(0xcb))&&_0x208fb6[_0x482c04(0xfc)]==_0x482c04(0xad)){const _0x1dc04c=_0x5be53b[_0x482c04(0x1ca)](_0x4788b2),_0x2614ac=_0x4788b2?.[_0x482c04(0x25c)](_0x482c04(0x1f1));if(!_0x1dc04c&&!_0x2614ac){_0x208fb6[_0x482c04(0x19a)]();_0x2bd232[_0x482c04(0x168)]>0x0&&_0x2bd232[0x0][_0x482c04(0xcd)]();return;}}if(_0x208fb6[_0x482c04(0xfc)]=='Tab'){_0x208fb6[_0x482c04(0x19a)]();if(_0x2bd232[_0x482c04(0x168)]==0x0)return;let _0x2c118c=_0x2bd232[_0x482c04(0x129)](_0x4788b2);if(_0x2c118c==-0x1)_0x2c118c=-0x1;let _0x2df7b1;_0x208fb6[_0x482c04(0x175)]?_0x2df7b1=_0x2c118c<=0x0?_0x2bd232[_0x482c04(0x168)]-0x1:_0x2c118c-0x1:_0x2df7b1=_0x2c118c==_0x2bd232['length']-0x1?0x0:_0x2c118c+0x1;_0x2bd232[_0x2df7b1][_0x482c04(0xcd)]();return;}(!_0x5be53b||!_0x5be53b[_0x482c04(0x222)][_0x482c04(0x1ca)]('active'))&&!_0xa13f6c&&!_0x4788b2?.[_0x482c04(0x25c)](_0x482c04(0x128))&&(_0x208fb6[_0x482c04(0xfc)][_0x482c04(0x168)]==0x1||_0x208fb6[_0x482c04(0xfc)]==_0x482c04(0x25a)||_0x208fb6[_0x482c04(0xfc)]==_0x482c04(0x2d4))&&(_0x208fb6[_0x482c04(0x19a)](),_0x8ebbfb['focus'](),_0x208fb6[_0x482c04(0xfc)]==_0x482c04(0x25a)||_0x208fb6[_0x482c04(0xfc)]==_0x482c04(0x2d4)?_0x8ebbfb['value']=_0x8ebbfb['value'][_0x482c04(0x26c)](0x0,-0x1):!_0x8ebbfb['value']?_0x8ebbfb[_0x482c04(0x1cc)]=_0x208fb6[_0x482c04(0xfc)]:_0x8ebbfb[_0x482c04(0x1cc)]+=_0x208fb6[_0x482c04(0xfc)]);}),loadTaxData(),resetNewItemForm();if(isOnline()){const _0x3bb301=myCompany[_0x25dab4(0x234)][_0x25dab4(0x1b8)](_0x30f116=>_0x30f116[_0x25dab4(0x13a)]);await reloadWindowsAndLayout(_0x3bb301,0x1),loadGoogleMaps(_0x25dab4(0x28b))[_0x25dab4(0x246)](()=>{const _0x52b883=_0x25dab4;console['log'](_0x52b883(0x150));})[_0x25dab4(0x1f5)](_0x3c317e=>console[_0x25dab4(0x2b1)](_0x3c317e));}}_0x77500c==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x77500c==0x3){const _0x348e1a=document['getElementById'](_0x25dab4(0x1e9))[_0x25dab4(0x1cc)];fil_BranchesId[_0x25dab4(0x16a)](_0x348e1a),updateDateRange(_0x25dab4(0x12d));}_0x77500c==0x4&&init(),myCompany?.['setBranchDefault']&&(document[_0x25dab4(0x1b7)](_0x25dab4(0x1e9))[_0x25dab4(0x1cc)]=company[0x0][_0x25dab4(0x1ad)]),await waitForEvent(_0x25dab4(0x1e9),_0x25dab4(0xc9)),_0x42c31e[_0x25dab4(0x22d)]=_0x25dab4(0x1a0),await new Promise(_0x3040c4=>setTimeout(_0x3040c4,0x4b0)),hideLoadingModal(),updateInternetIcon(_0x77500c);}