/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.9
*/

const _0x4d8a3f=_0x4157;(function(_0x5364c2,_0x163b2e){const _0x4011c7=_0x4157,_0x385bcc=_0x5364c2();while(!![]){try{const _0x662ba4=-parseInt(_0x4011c7(0x422))/0x1*(-parseInt(_0x4011c7(0x273))/0x2)+parseInt(_0x4011c7(0x3b1))/0x3+parseInt(_0x4011c7(0x345))/0x4*(parseInt(_0x4011c7(0x28c))/0x5)+parseInt(_0x4011c7(0x3c4))/0x6*(-parseInt(_0x4011c7(0x37e))/0x7)+-parseInt(_0x4011c7(0x425))/0x8*(-parseInt(_0x4011c7(0x234))/0x9)+-parseInt(_0x4011c7(0x22b))/0xa+parseInt(_0x4011c7(0x287))/0xb;if(_0x662ba4===_0x163b2e)break;else _0x385bcc['push'](_0x385bcc['shift']());}catch(_0x12a6db){_0x385bcc['push'](_0x385bcc['shift']());}}}(_0xbe1e,0x29445));const _0x422252=(function(){let _0x5e1f00=!![];return function(_0x2afb0e,_0x1a9795){const _0x159528=_0x5e1f00?function(){const _0x2c7b9d=_0x4157;if(_0x1a9795){const _0x35bcd8=_0x1a9795[_0x2c7b9d(0x426)](_0x2afb0e,arguments);return _0x1a9795=null,_0x35bcd8;}}:function(){};return _0x5e1f00=![],_0x159528;};}()),_0x53b9a2=_0x422252(this,function(){const _0x17ebe9=_0x4157;return _0x53b9a2[_0x17ebe9(0x2be)]()['search'](_0x17ebe9(0x2de))[_0x17ebe9(0x2be)]()[_0x17ebe9(0x2f2)](_0x53b9a2)[_0x17ebe9(0x323)]('(((.+)+)+)+$');});_0x53b9a2();const _0x30ae5c=(function(){let _0x551297=!![];return function(_0x5a90f2,_0x4fccff){const _0x354fc5=_0x551297?function(){if(_0x4fccff){const _0x23353f=_0x4fccff['apply'](_0x5a90f2,arguments);return _0x4fccff=null,_0x23353f;}}:function(){};return _0x551297=![],_0x354fc5;};}()),_0x53b504=_0x30ae5c(this,function(){const _0x405daa=_0x4157;let _0x5bdfae;try{const _0x2ad57f=Function(_0x405daa(0x205)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5bdfae=_0x2ad57f();}catch(_0x5ebd12){_0x5bdfae=window;}const _0xafef8d=_0x5bdfae[_0x405daa(0x3a4)]=_0x5bdfae[_0x405daa(0x3a4)]||{},_0x554c64=['log',_0x405daa(0x22f),'info',_0x405daa(0x395),_0x405daa(0x36b),_0x405daa(0x1f6),_0x405daa(0x2d8)];for(let _0x57814d=0x0;_0x57814d<_0x554c64[_0x405daa(0x291)];_0x57814d++){const _0x309b10=_0x30ae5c[_0x405daa(0x2f2)]['prototype'][_0x405daa(0x37a)](_0x30ae5c),_0x17d8f7=_0x554c64[_0x57814d],_0x56ed53=_0xafef8d[_0x17d8f7]||_0x309b10;_0x309b10[_0x405daa(0x2ae)]=_0x30ae5c[_0x405daa(0x37a)](_0x30ae5c),_0x309b10[_0x405daa(0x2be)]=_0x56ed53[_0x405daa(0x2be)]['bind'](_0x56ed53),_0xafef8d[_0x17d8f7]=_0x309b10;}});_0x53b504();function _0xbe1e(){const _0x1b704f=['setItem','message','setAttribute','status','querySelector','btn-details-ntf-variant','position','setCompanyEmail','alignItems','success','setConversionFactor','layoutState','replaceWith','Carrito\x20sincronizado\x20y\x20tmp\x20limpiado,\x20guardado\x20en\x20IndexedDB.','x64c','key','startsWith','number','error','setCompanyWebsite','onupdatefound','\x0a<h3\x20class=\x22infoItem-title\x22>','setCredentialsApiWAChatAlias','Error\x20al\x20registrar\x20el\x20Service\x20Worker:','TOP_LEFT','setCredentialsApiWAChatIdDefault','Imagen\x20inv√°lida\x20en\x20newItems[','createElement','protocol','Agregar\x20Variantes','input,\x20select,\x20button,\x20a:not(.payment-option)','put','setCredentialsApiWAChatSubdomain','console','setSellerName','id_registro','mx16','pricePerKm','.autocomplete-wrapper\x20input','querySelectorAll','https://ipapi.co/json/','application/json','Error\x20desconocido.','btn-access-login','latitude','ntf-modal-actions','433377jQQvGU','setInventariable','string','svg','charCodeAt','Error\x20al\x20guardar\x20el\x20layout:\x20','login','data','Error\x20procesando\x20mensaje\x20WS','setMarca','setCategoria','classList','split','setWarehouseName','setUserFullName','\x20‚Äì\x20','Solo\x20necesitas\x20internet\x20para\x20acceder!','tabs-notifications','statusText','1569942xtqqLU','placePrediction','installing','has','setCorrelativo','setWarehouseStockMin','\x20de\x20','lat','pos','location','setImages','sort','onload','9999','searchInput','log','cart_','now','msRequestFullscreen','ntf-flotante-bottom','src','setFechaHora','zIndex','setItemImages','Evento\x20windowsUpdate\x20recibido.','scale','register','application/json;\x20charset=utf-8','\x0a<h3>','trim','defer','getElementById','PDF\x20no\x20v√°lido\x20o\x20vac√≠o\x20‚Äì\x20se\x20omite\x20y\x20se\x20env√≠a\x20la\x20operaci√≥n\x20sin\x20√©l.','setPrinters','getFullYear','append','latLng','\x20no\x20encontrado\x20en\x20products.','version','uy22','setOperationSeries','insertAdjacentHTML','setSeries','result','stringify','setCustomers','toggle','Map','left','selectedCode','Error\x20en\x20la\x20solicitud:','setSuppliers','mozFullScreenElement','locations','Credenciales\x20no\x20encontradas','appendChild','Google\x20Maps\x20SDK\x20listo','setProductos','window_options_','controller','julio','‚ö†Ô∏è\x20place.location\x20indefinido','pdfBlob','ntfIndex','260px','hidden','co5','transition','setMessage','setCodeBarTypeId','Por\x20seguridad,\x20√∫nicamente\x20necesitas\x20internet\x20para\x20acceder!','ntf-flotante-blue','Tab','mx08','setCompanyName','Map\x20container\x20not\x20found','Distance:\x20','100%','ntf-notif-count','flex','setBranchName','push','setUserCode','onstatechange','oncomplete','json','.modal-overlay-carousel','WebSocket\x20conectado.','iconUrl','widthOfTextAtSize','setItemIsBought','toDataURL','find','head','1AJgtKg','setCredentialsApiWAChat','][setItemImages][','66488GkBbWI','apply','diciembre','892c0ae1aa021c31396d82f1','route','setCredentialsApiWAChatId','setHours','CO0','.carousel-prev','setCompanyPhone','translateX(-','table','places','https://maps.googleapis.com/maps/api/js?key=','Acci√≥n\x20\x22','object','Base\x20de\x20datos\x20abierta\x20correctamente\x20despu√©s\x20de\x20agregar\x20ObjectStores.','setPriceLists','setMtoValorCostoUnitario','importLibrary','setCredentialsApiWAChatPort','Database\x20operation\x20in\x20progress.\x20Please\x20wait.','Producto\x20con\x20id\x20','setDespacho','onSelect','wss','return\x20(function()\x20','Delete','resize','setClienteDenominacion','setWebhook','get','S02','setTaxId','reason','setBankAccounts','LatLng','reject','DirectionsRenderer','setSucursalStock','TEXTAREA','\x27\x20eliminada.','\x27\x20creado\x20correctamente.','.carousel-next','google','Error\x20al\x20enviar\x20operaci√≥n\x20offline:','focus','setBranches','createObjectURL','SW\x20New\x20Version','dispatchEvent','getMonth','navigator','toPlace','xtt3','Bienvenido(a)\x20','embedFont','Tab\x20count\x20inicializado\x20en:\x20','#detalleModalPay','detalleModalLayout','setDescripcion','x32','currency','setCurrencyDefault','2775030UeyfwZ','setMtoPrecioCostoUnitario','mayo','setBatchName','warn','setImpuestos','Products\x20Empty.',']\x20‚Äì\x20se\x20omite.','isArray','171wlylYa','Generar\x20Orden\x20de\x20Compra','objectStoreNames','includes','setItemDescription','distance','Nombre\x20de\x20store\x20no\x20v√°lido:\x20','E01','Arrays\x20actualizados\x20para\x20windowId\x20','setTipAfeIgv','animationend','setClienteTipoDoc','setBatchExpirationDate','setMoneda-','serializeToString','32px','pop','setObservacion','setWarehouseId','div','No\x20hay\x20operaciones\x20para\x20sincronizar.','d-none','setImg','Item','setWarehouses','rgf4x32','mozRequestFullScreen','ControlPosition','closest','setUsuarios','33x54xsystem','Sincronizaci√≥n\x20completada\x20correctamente.','setUserNombres','create','body','setFloorId','password','setItemBarCode','noviembre','sucursales','ntf-flotante-orange','onclick','webkitRequestFullscreen','\x20operaciones\x20de\x20productos\x20(inserts\x20primero)...','set','parse','.product[tabindex=\x270\x27]','CL0','alt','products','text','offsetWidth','.payment-option','drawText','apiPOSsendOffline','geolocation','MX20','display','Google\x20Maps\x20carg√≥,\x20pero\x20no\x20se\x20encontr√≥\x20window.google.maps','lng','coordsInputId','Error\x20Network.','infoLoadingModal','382578BekzjE','routes','Error\x20en\x20updateTab\x20o\x20renderWindowOptions','INPUT','gmp-select','clear','cartId','setDirections','http://www.w3.org/2000/svg','height','currency_data','value','.modal-close-carousel','onsuccess','.dropdown-item-pais-flag','setItemId','setImpuestoValue','mimetype','readonly','setCompanyAddress','1870495WRihPt','createObjectStore','User\x20no\x20Logged!','newItems','\x22\x20alt=\x22apiPOS\x22\x20class=\x22img-fluid\x22\x20style=\x22width:\x20100px;\x22>\x0a</h4>\x0a<div\x20id=\x22div_usuario\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üë§\x20Usuario:</b></label>\x0a<input\x20type=\x22text\x22\x20id=\x22usuario\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20usuario\x22>\x0a</div>\x0a<div\x20id=\x22div_password\x22\x20class=\x22mb-2\x22>\x0a<label\x20class=\x22form-label\x22><b>üîê\x20Contrase√±a:</b></label>\x0a<div\x20class=\x22input-group\x22>\x0a<input\x20type=\x22password\x22\x20id=\x22password\x22\x20class=\x22form-control\x22\x20placeholder=\x22Ingrese\x20su\x20contrase√±a\x22>\x0a<button\x20class=\x22btn\x20btn-outline-secondary\x20btn-passw-login\x22\x20onclick=\x22togglePassword()\x22>üëÅÔ∏è</button>\x0a</div>\x0a</div>\x0a<div\x20id=\x22numeric-keypad\x22\x20class=\x22numeric-keypad\x22>\x0a<button\x20onclick=\x22addNumber(1)\x22>1</button>\x0a<button\x20onclick=\x22addNumber(2)\x22>2</button>\x0a<button\x20onclick=\x22addNumber(3)\x22>3</button>\x0a<button\x20onclick=\x22addNumber(4)\x22>4</button>\x0a<button\x20onclick=\x22addNumber(5)\x22>5</button>\x0a<button\x20onclick=\x22addNumber(6)\x22>6</button>\x0a<button\x20onclick=\x22addNumber(7)\x22>7</button>\x0a<button\x20onclick=\x22addNumber(8)\x22>8</button>\x0a<button\x20onclick=\x22addNumber(9)\x22>9</button>\x0a<button\x20onclick=\x22addNumber(0)\x22>0</button>\x0a<button\x20class=\x22delete-key\x22\x20onclick=\x22deleteNumber()\x22>‚å´</button>\x0a</div>\x0a<button\x20id=\x22btn-access-login\x22\x20class=\x22btn\x20w-100\x20mt-3\x20btn-access-login\x22>Acceder</button>\x0a<div\x20class=\x22footer-apierp\x22>\x0a<p\x20class=\x22p-get-token\x22>&#191;A√∫n\x20no\x20tienes\x20una\x20cuenta?\x20<a\x20href=\x22https://apierp.dev/signup/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>¬°Reg√≠strate</span>\x20<span\x20class=\x22span-apierp-erp\x22>Ahora!</span></a></p>\x0a<p\x20class=\x22p-apierp\x22>Desarrollado\x20con\x20la\x20tecnolog√≠a\x20de\x20<a\x20href=\x22https://www.apierp.dev/\x22\x20target=\x22_blank\x22\x20class=\x22a-apierp\x22><span\x20class=\x22span-apierp-api\x22>api</span><span\x20class=\x22span-apierp-erp\x22>ERP</span>.dev</a></p>\x0a<p\x20class=\x22p-ftr-copyright\x22>v4.2.9\x20&copy;\x202025</p>\x0a</div>\x0a</div>\x0a</div>\x0a','222435LnFHla','Helvetica','S01','El\x20producto\x20\x22','offline_operations','length','random','\x22\x20para\x20registro\x20#','center','setLayout','activeElement','Products\x20Load.','Stock\x20m√≠nimo:\x20','maps','updateLastCorrelative','\x22\x20expir√≥\x20el\x20','&libraries=places&v=weekly','ObjectStore\x20\x27','‚úîÔ∏è\x20¬°Sincronizado!','Base\x20de\x20datos\x20abierta\x20correctamente.','itemModal','controls','üåê\x20No\x20se\x20pudo\x20obtener\x20ubicaci√≥n\x20por\x20IP','abril','./img/product.png','setClienteDireccion','Todos\x20los\x20campos\x20son\x20obligatorios.','addEventListener','documentElement','min','ntf-flotante-container-top','day','setUnidad','usuario','__proto__','Error:\x20','setCompanyLogo','reduce','save','setUser_Local','loadingModal','finally','data-ntf-index','none','\x20del\x20','Error\x20desconocido\x20al\x20actualizar\x20Data.','https://apierp.dev/api/email/send/','setUserId','innerHTML','img','toString','slice','function','.<br>','newItems[','setCajeroCodigo','Error\x20guardando\x20operaci√≥n:\x20','Registrar\x20movimiento','setItemUnitAlias','fetchFields','setMoneda','getAll','header','size','cloneNode','resolve','TravelMode','WebSocket\x20ya\x20abierto,\x20no\x20abrir\x20otro','DRIVING','remove','useGeolocation','ltop','./app.js?v=4.2.9','filename','.select-button-pais-flag','active','trace','setWindowId','Revisar\x20lote','disabled','setIdProducto','assign','(((.+)+)+)+$','Formato\x20inesperado\x20en\x20base64','forEach','</p>\x0a<div\x20id=\x22ntf-modal-actions\x22\x20class=\x22ntf-modal-actions\x22></div>\x0a','absolute','invoice','8px','canvas','septiembre','option','caption','getClientRects','concat','ar21','setAuthToken','lbtom','offsetHeight','drawImage','embedJpg','No\x20se\x20pudo\x20eliminar\x20operaci√≥n\x20procesada:\x20','constructor','panTo','#container-section-pay-','setTipoOperacionInvoice','tagName','setClienteNumDoc','dataset','setUserName','fixed','rgba(0,\x200,\x200,\x200.5)','backgroundColor','application/pdf','ntf-flotante-container-bottom','setCodProducto','sectionInfoItem','Stock\x20Actual:\x20','addListener','serviceWorker','32system','company','opacity','controllerchange','Producto\x20vencido:\x20','Company\x20Empty.','keys','Backspace','add','https://apierp.dev/api/company/get/','Products\x20Load\x20Error:','justifyContent','setTipoOperacion','.dropdown-list-pais-flag','setUnidadCodigo','Error\x20al\x20abrir\x20la\x20base\x20de\x20datos\x20para\x20agregar\x20ObjectStores:','textContent','contains','/wa/','\x20-\x20','setShifts','windowsUpdate','setCollaborators','payment-option','setCompanyNameTrade','longitude','uy10','setItemType','setWindows','.autocomplete-wrapper','readyState','search','setItemVariantValues','map','coords','exitFullscreen','beforeend','values','setEmpresaDomainWork','title','].setItemImages[','\x0a<div\x20class=\x22login-wrapper\x22>\x0a<div\x20class=\x22login-container\x22>\x0a<h4\x20class=\x22text-center\x20mb-3\x22>\x0a<img\x20src=\x22','ntf-flotante-container','64system','CODE128','from','setImageUrl','msExitFullscreen','setBranchId','button','setMtoValorUnitario','setMtoPrecioUnitario','Base\x20de\x20datos\x20creada\x20o\x20actualizada.','counter','readwrite','width','code','webkitExitFullscreen','setCompanyDoc','createIndex','detalleModalPay','keydown','some','setBranchDefault','Error\x20Update:','4esyQfE','ntf-notification-dropdown','change','layout','transaction','UY0','Eliminar\x20producto','select','x64','.carousel-track','fill','preventDefault','toFixed','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Cerrando\x20Sesi√≥n\x20...</span>','addPage','lastTs','xpos','getContext','target','fullscreen-btn','username','onerror','stopPropagation','setPlanName','block','filter','getDate','every','requestFullscreen','\x0aEl\x20producto\x20\x22','DirectionsService','setCodeBarTypes','setCodeBarTypeName','ntf-flotante-top','setCashierName','objectStore','setCartTmpInitial','Error\x20al\x20procesar\x20operaciones\x20offline:','exception','then','reload','https://apierp.dev/api/apiPOS/get/','style','windowIds\x20previamente\x20creados:','close','className','Mensaje\x20WS\x20no\x20reconocido:','port','OPEN','Error\x20en\x20setOrders\x20para\x20windowId=','45x','click','<br>\x0aStock\x20Actual:\x20','bind','mode','POST','setCustomerPhone','7xDsdoc','\x20...','Procesamiento\x20de\x20datos\x20exitoso\x20...','catch','type'];_0xbe1e=function(){return _0x1b704f;};return _0xbe1e();}let myCompany,db=null,dbPromise=null,db_name='apiERP',dbOperationInProgress=![],company=[],products=[],products_category=[],products_marca=[],selectedCategories=[],selectedMarcas=[];const monthsEspanish=['enero','febrero','marzo',_0x4d8a3f(0x2a3),_0x4d8a3f(0x22d),'junio',_0x4d8a3f(0x400),'agosto',_0x4d8a3f(0x2e6),'octubre',_0x4d8a3f(0x25a),_0x4d8a3f(0x427)],gdfg5g='f34f',x45fgd='x3',xjehd78=_0x4d8a3f(0x355),cxkdj4=_0x4d8a3f(0x34d),x87s8d=_0x4d8a3f(0x228),mjs8jda='8',xnjsh7='xs',bxga65='c',xnj221j='x',xnj322='h',l99x8='o',v78j6='.',x8937s=_0x4d8a3f(0x304),kjxjh='o',d87x3='m',ahbnd='b',x9qls='y',x33b2='e',x3s878a='k',xm8s9='5g',mnx787a='4g',as2ns3='4',mnx24nx='sf',x556h2='s',x99jyu=_0x4d8a3f(0x391),px86s='p',mx12j='m',q8x67='l',xkd54='y',x32334d='x63s',xg123f=_0x4d8a3f(0x377),xn38n='u',bs7x2='.',px34n='u',x32bt='c',jx86s='c',dxdkl='a',zx2mx34='9',x2kj12='wx',x32x64=_0x4d8a3f(0x221),x56x92d='b',x6zx7z='zx',xp32p12='1',x768x='e',k893j='s',xio2p='p',z23kl='e',x96x3='.',n3x98='f',x65sl='s',x86bt='a',dxdadr=_0x4d8a3f(0x32f),x7ar3='g',vx9c8='s',p2sc9='i',x7ls1='.',x8320='t',pcrc89=_0x4d8a3f(0x374),mx92n='p',xeeuu='r',xs98x='a',pcrtx=_0x4d8a3f(0x2d3),x78xh='r',px32b='o',x64x44x54=_0x4d8a3f(0x252),x64x32x33='64x32xsystem',kkx12='s',ak47r=_0x4d8a3f(0x24d),d98lp='e',xpe98='r',o9x89='o',x129x='i',pcrc='pcrcl',p34d9='d',kx32h='v',yx34l='p',pltbr=_0x4d8a3f(0x2ed),setTipAfeImpGravadosGrat=['13'],setTipAfeImpGravadosNoGratuitos=['10',_0x4d8a3f(0x28e),_0x4d8a3f(0x20b),_0x4d8a3f(0x3a7),_0x4d8a3f(0x40d),_0x4d8a3f(0x2eb),'ar10.5','cl19','co19',_0x4d8a3f(0x406),_0x4d8a3f(0x3eb),_0x4d8a3f(0x31e)],setTipAfeImpGravados=setTipAfeImpGravadosNoGratuitos[_0x4d8a3f(0x2ea)](setTipAfeImpGravadosGrat),setTipAfeImpExonerados=['20',_0x4d8a3f(0x23b),_0x4d8a3f(0x26c),'AR0',_0x4d8a3f(0x263),_0x4d8a3f(0x1f2),_0x4d8a3f(0x34a)],setTipAfeImpExoneradosGrat=['21'],setTipAfeImpInafectos=['30'],setTipAfeImpInafectosGrat=['32'],setTipOpeOrders=['1','5','8','12','15','19','22'],setTipOpeQuotation=['41','42','43','44','45','46','47'],setTipOpeSalesReceipt=['2','6','9','13','16','20','23'],setTipOpeSalesTicket=['3','17'],setTipOpeSalesInvoice=['4','7','11','14','18','21','24'],setTipOpePurchaseReceipt=['25','28','30','32','34','37','39'],setTipOpePurchaseTicket=['26','35'],setTipOpePurchaseInvoice=['27','29','31','33','36','38','40'],setTipOpeSales=setTipOpeSalesReceipt[_0x4d8a3f(0x2ea)](setTipOpeSalesTicket,setTipOpeSalesInvoice),setTipOpePurchases=setTipOpePurchaseReceipt[_0x4d8a3f(0x2ea)](setTipOpePurchaseTicket,setTipOpePurchaseInvoice),setTipOpeExo=setTipOpeOrders[_0x4d8a3f(0x2ea)](setTipOpeSalesReceipt,setTipOpePurchaseReceipt,setTipOpeQuotation),setBankTypeCashRegister=['4','8','13','18','23','28','33'];async function reloadWindowsAndLayout(_0x5e3780){const _0x492667=_0x4d8a3f;await apiERPgetWindows();const _0x18f65f=document[_0x492667(0x3e3)](_0x492667(0x226));if(_0x18f65f[_0x492667(0x3bc)][_0x492667(0x315)](_0x492667(0x2d7))){const _0x3941a2=document[_0x492667(0x3e3)]('setFloorId')[_0x492667(0x27e)],_0x4aa260=document[_0x492667(0x3e3)](_0x492667(0x334))['value'];cargarVentanas(_0x4aa260,_0x3941a2),createTabsEnvironments();}if(Array[_0x492667(0x233)](_0x5e3780))for(const _0x50ca2a of _0x5e3780){try{await setOrders(_0x50ca2a);}catch(_0x468e74){console[_0x492667(0x395)](_0x492667(0x376)+_0x50ca2a+':',_0x468e74);}}else console['warn']('No\x20es\x20un\x20array\x20valido:',_0x5e3780);}let socket;function conectarWebSocket(){const _0x2081c6=_0x4d8a3f;if(socket&&socket[_0x2081c6(0x322)]!==WebSocket['CLOSED']){console[_0x2081c6(0x3d3)](_0x2081c6(0x2cf));return;}const _0x535b13=myCompany[_0x2081c6(0x2ec)];if(!_0x535b13){console['error']('No\x20hay\x20setAuthToken\x20para\x20WebSocket');return;}const _0x512098=location[_0x2081c6(0x39f)]==='https:'?_0x2081c6(0x204):'ws',_0x144685=_0x512098+'://wss.apierp.dev/ws?token='+encodeURIComponent(_0x535b13);socket=new WebSocket(_0x144685),socket[_0x2081c6(0x2a7)]('open',()=>{const _0x599fd4=_0x2081c6;console['log'](_0x599fd4(0x41b));}),socket['addEventListener'](_0x2081c6(0x384),async _0x1b6907=>{const _0x248a92=_0x2081c6;try{const _0x66c7be=JSON[_0x248a92(0x261)](_0x1b6907['data']);if(_0x66c7be[_0x248a92(0x382)]===_0x248a92(0x319))console['log'](_0x248a92(0x3dc)),await reloadWindowsAndLayout(_0x66c7be['data']),ntfShow(_0x248a92(0x29e),0x1,0x2);else _0x66c7be[_0x248a92(0x382)]===_0x248a92(0x29a)?(console[_0x248a92(0x3d3)]('Evento\x20updateLastCorrelative\x20recibido.'),updateLastCorrelativeOnline(_0x66c7be[_0x248a92(0x3b8)]['setOperationType'],_0x66c7be['data'][_0x248a92(0x3ec)])):console[_0x248a92(0x3d3)](_0x248a92(0x373),_0x66c7be);}catch(_0x1f850b){console[_0x248a92(0x395)](_0x248a92(0x3b9),_0x1f850b);}}),socket[_0x2081c6(0x2a7)](_0x2081c6(0x371),_0x59a6ef=>{const _0x352a33=_0x2081c6;console['warn']('WebSocket\x20cerrado.\x20Reconectando\x20en\x2015s...',_0x59a6ef[_0x352a33(0x20d)]),setTimeout(conectarWebSocket,0x3a98);}),socket['addEventListener'](_0x2081c6(0x395),_0x55810f=>{const _0x3ac11e=_0x2081c6;console[_0x3ac11e(0x395)]('Error\x20en\x20WebSocket',_0x55810f);});}function isWebSocketActive(){const _0x4846d8=_0x4d8a3f;return socket&&socket[_0x4846d8(0x322)]===WebSocket[_0x4846d8(0x375)];}function getQueryParam(_0x51bd22){const _0x1f7c37=_0x4d8a3f,_0x39b6ed=new URLSearchParams(window['location'][_0x1f7c37(0x323)]);return _0x39b6ed[_0x1f7c37(0x20a)](_0x51bd22);}function setUserNameGet(){const _0x4f4fec=_0x4d8a3f,_0x487555=getQueryParam(_0x4f4fec(0x359)),_0x345582=document[_0x4f4fec(0x3e3)]('usuario');_0x487555&&_0x345582&&(_0x345582[_0x4f4fec(0x27e)]=_0x487555);}function generateUniqId(){const _0x27439d=_0x4d8a3f;return Date[_0x27439d(0x3d5)]()+'_'+Math[_0x27439d(0x292)]()[_0x27439d(0x2be)](0x24)['substr'](0x2,0x9);}var hasLocalStorage=(function(){const _0x3453eb=_0x4d8a3f;try{var _0x3cc80c='__test_ls__';return localStorage[_0x3453eb(0x383)](_0x3cc80c,_0x3cc80c),localStorage['removeItem'](_0x3cc80c),!![];}catch(_0x17a517){return![];}}()),lastTs_mem=0x0,counter_mem=0x0;function generateNumericUniqId(){const _0x3ebf96=_0x4d8a3f;if(!hasLocalStorage){var _0x2507e1=Date['now']();return _0x2507e1===lastTs_mem?counter_mem=(counter_mem+0x1)%0x3e8:(lastTs_mem=_0x2507e1,counter_mem=0x0),_0x2507e1*0x3e8+counter_mem;}var _0x596120='uniqIdState',_0x3bde22;try{var _0x3aaba6=localStorage['getItem'](_0x596120);_0x3bde22=_0x3aaba6?JSON['parse'](_0x3aaba6):{'lastTs':0x0,'counter':0x0},(typeof _0x3bde22[_0x3ebf96(0x354)]!==_0x3ebf96(0x394)||typeof _0x3bde22[_0x3ebf96(0x339)]!==_0x3ebf96(0x394))&&(_0x3bde22={'lastTs':0x0,'counter':0x0});}catch(_0x3d9949){_0x3bde22={'lastTs':0x0,'counter':0x0};}var _0x453c53=Date['now']();_0x453c53===_0x3bde22[_0x3ebf96(0x354)]?_0x3bde22['counter']=(_0x3bde22[_0x3ebf96(0x339)]+0x1)%0x3e8:(_0x3bde22['lastTs']=_0x453c53,_0x3bde22['counter']=0x0);var _0xdcdf71=_0x453c53*0x3e8+_0x3bde22[_0x3ebf96(0x339)];try{localStorage[_0x3ebf96(0x383)](_0x596120,JSON['stringify'](_0x3bde22));}catch(_0x1baeae){}return _0xdcdf71;}function blobAStringBase64(_0x22beee){return new Promise((_0x31996d,_0x54e1e6)=>{const _0x44083c=_0x4157,_0x45de47=new FileReader();_0x45de47['onloadend']=()=>{const _0xf2c90e=_0x4157,_0x1b9c1e=_0x45de47[_0xf2c90e(0x3ef)],_0x173a90=_0x1b9c1e[_0xf2c90e(0x3bd)](',');if(_0x173a90[_0xf2c90e(0x291)]!==0x2)return _0x54e1e6(new Error(_0xf2c90e(0x2df)));_0x31996d(_0x173a90[0x1]);},_0x45de47[_0x44083c(0x35a)]=_0x103347=>_0x54e1e6(_0x103347),_0x45de47['readAsDataURL'](_0x22beee);});}async function generarBarcodeDataURL(_0x5c146e,_0x2a9947){return new Promise((_0x438348,_0x422aec)=>{const _0x40872d=_0x4157,_0xb6a14d=myCompany[_0x40872d(0x364)][_0x40872d(0x420)](_0x625da5=>_0x625da5['setCodeBarTypeId']==_0x5c146e),_0x1c1c8b=_0xb6a14d?_0xb6a14d[_0x40872d(0x365)]:_0x40872d(0x330),_0x574350=document['createElementNS'](_0x40872d(0x27b),_0x40872d(0x3b4));JsBarcode(_0x574350,_0x2a9947,{'format':_0x1c1c8b,'width':0x2,'height':0x50,'displayValue':![],'margin':0x0});const _0x2340b3=new XMLSerializer()[_0x40872d(0x242)](_0x574350),_0x5412c9=btoa(_0x2340b3),_0x2ad8e4='data:image/svg+xml;base64,'+_0x5412c9,_0x177dc4=new Image();_0x177dc4[_0x40872d(0x3d0)]=()=>{const _0x270d09=_0x40872d,_0x3cd5f5=document[_0x270d09(0x39e)](_0x270d09(0x2e5));_0x3cd5f5[_0x270d09(0x33b)]=_0x177dc4[_0x270d09(0x33b)],_0x3cd5f5[_0x270d09(0x27c)]=_0x177dc4['height'];const _0x56ea65=_0x3cd5f5[_0x270d09(0x356)]('2d');_0x56ea65[_0x270d09(0x2ef)](_0x177dc4,0x0,0x0);const _0x52b27a=_0x3cd5f5[_0x270d09(0x41f)]('image/png');_0x438348(_0x52b27a);},_0x177dc4[_0x40872d(0x35a)]=_0x4e9738=>_0x422aec(_0x4e9738),_0x177dc4['src']=_0x2ad8e4;});}async function generarStickersPDF(_0x1c0f17,_0x4e8b2c,_0x503a05){const _0x53e500=_0x4d8a3f,{PDFDocument:_0x2849c0,StandardFonts:_0x469dd4,rgb:_0x4d52b3}=PDFLib,_0x4cc106=products['find'](_0xd68e06=>_0xd68e06['id']==_0x503a05);if(!_0x4cc106){console['error'](_0x53e500(0x201)+_0x503a05+_0x53e500(0x3e9));return;}const _0x23b682=_0x4cc106['setDescripcion'][_0x53e500(0x3e1)](),_0x37787a=document[_0x53e500(0x3e3)]('windowId')[_0x53e500(0x27e)],_0x3410e8=document[_0x53e500(0x3e3)](_0x53e500(0x241)+_0x37787a)[_0x53e500(0x27e)],_0x469c73=(_0x4cc106[_0x53e500(0x27d)]||[])['find'](_0x7eb0f6=>_0x7eb0f6[_0x53e500(0x229)]==_0x3410e8)||{},_0x38084b=_0x469c73[_0x53e500(0x22c)]||0x0,_0x12c1ce=getCurrencySymbol(_0x37787a),_0x494506=Number(_0x38084b)||0x0,_0x23e8bb=_0x12c1ce+'\x20'+_0x494506[_0x53e500(0x351)](0x2),_0x5b4c16=await _0x2849c0[_0x53e500(0x255)](),_0x224578=_0x3871ce=>_0x3871ce*2.83465,_0x319096=_0x224578(0x70*0x2),_0x28fcc4=_0x224578(40.8),_0x88a59c=_0x5b4c16[_0x53e500(0x353)]([_0x319096,_0x28fcc4]),_0x1d66da=await _0x5b4c16[_0x53e500(0x223)](_0x469dd4[_0x53e500(0x28d)]),_0x5c461f=Array(0x2)[_0x53e500(0x34f)](_0x4e8b2c),_0x36da77=0x2,_0x55ab36=0x1,_0x3e0fa0=0xc,_0x5c48e6=_0x319096/_0x36da77,_0x25acba=_0x28fcc4/_0x55ab36;for(let _0x2601c0=0x0;_0x2601c0<0x2;_0x2601c0++){const _0x3235c8=_0x5c461f[_0x2601c0],_0x594c93=await generarBarcodeDataURL(_0x1c0f17,_0x3235c8),_0x4f8808=_0x594c93[_0x53e500(0x3bd)](',')[0x1],_0x171e40=Uint8Array[_0x53e500(0x331)](atob(_0x4f8808),_0x1fa9c5=>_0x1fa9c5[_0x53e500(0x3b5)](0x0));let _0x2f67b7;try{_0x2f67b7=await _0x5b4c16['embedPng'](_0x171e40);}catch{_0x2f67b7=await _0x5b4c16[_0x53e500(0x2f0)](_0x171e40);}const _0x429b5e=0x5,_0xf4f9cf=_0x3e0fa0+0x4,_0x29c08e=_0x3e0fa0*0x2+0x4,_0x230505=_0x23b682,_0x25b6c5=_0x23e8bb,_0x2aa48c=_0x2601c0%_0x36da77,_0x4c5d88=_0x1d66da[_0x53e500(0x41d)](_0x230505,_0x3e0fa0),_0x3b27cc=_0x1d66da['widthOfTextAtSize'](_0x25b6c5,_0x3e0fa0),_0x26cfbf=_0x2aa48c*_0x5c48e6+(_0x5c48e6-_0x4c5d88)/0x2,_0x4fcf3c=_0x2aa48c*_0x5c48e6+(_0x5c48e6-_0x3b27cc)/0x2,_0x2c77e5=_0x25acba-_0x429b5e-_0x3e0fa0,_0x1305b1=_0x2c77e5-_0x3e0fa0-0x2;_0x88a59c['drawText'](_0x230505,{'x':_0x26cfbf,'y':_0x2c77e5,'size':_0x3e0fa0,'font':_0x1d66da,'color':_0x4d52b3(0x0,0x0,0x0)}),_0x88a59c[_0x53e500(0x269)](_0x25b6c5,{'x':_0x4fcf3c,'y':_0x1305b1,'size':_0x3e0fa0,'font':_0x1d66da,'color':_0x4d52b3(0x0,0x0,0x0)});const _0x512157=_0x5c48e6-_0x429b5e*0x2,_0x143867=_0x25acba-_0x429b5e*0x2-_0x29c08e-_0xf4f9cf,_0x5ef227=_0x2f67b7['width'],_0x4b8cc8=_0x2f67b7[_0x53e500(0x27c)],_0x2718b0=Math[_0x53e500(0x2a9)](_0x512157/_0x5ef227,_0x143867/_0x4b8cc8,0x1),_0x1a7e54=_0x2f67b7[_0x53e500(0x3dd)](_0x2718b0),_0x42d947=_0x2aa48c*_0x5c48e6+(_0x5c48e6-_0x1a7e54[_0x53e500(0x33b)])/0x2,_0x358470=_0x1305b1-_0x1a7e54[_0x53e500(0x27c)]-0x4;_0x88a59c['drawImage'](_0x2f67b7,{'x':_0x42d947,'y':_0x358470,'width':_0x1a7e54['width'],'height':_0x1a7e54['height']});const _0x57a3ff=_0x1d66da[_0x53e500(0x41d)](_0x3235c8,_0x3e0fa0),_0x410b6f=_0x2aa48c*_0x5c48e6+(_0x5c48e6-_0x57a3ff)/0x2,_0x53eebe=_0x358470-_0x3e0fa0-0x2;_0x88a59c[_0x53e500(0x269)](_0x3235c8,{'x':_0x410b6f,'y':_0x53eebe,'size':_0x3e0fa0,'font':_0x1d66da,'color':_0x4d52b3(0x0,0x0,0x0)});}const _0x542cd9=await _0x5b4c16[_0x53e500(0x2b2)](),_0x3eb8c2=new Blob([_0x542cd9],{'type':_0x53e500(0x2fd)}),_0x2ef993=URL[_0x53e500(0x21b)](_0x3eb8c2);window['open'](_0x2ef993);}async function sendEmail(_0x22e2a3,_0x1fbf76,_0x3dbe6c,_0x22a404,_0x16d905,_0x16d731,_0x57511d,_0x425214,_0x5f57e1,_0x3b73cb){const _0x1974e5=_0x4d8a3f;if(isOnline()){const _0x2b0c90={'setAuthToken':_0x22e2a3,'senderName':_0x1fbf76,'senderEmail':_0x3dbe6c,'senderPassword':_0x22a404,'smtpHost':_0x16d905,'smtpPort':_0x16d731,'emailsDestination':_0x57511d,'subject':_0x425214,'message':_0x5f57e1,'attachFiles':_0x3b73cb};try{const _0x4f58bf=await fetch(_0x1974e5(0x2ba),{'method':_0x1974e5(0x37c),'headers':{'Content-Type':_0x1974e5(0x3df)},'body':JSON['stringify'](_0x2b0c90)}),_0x1bc897=await _0x4f58bf[_0x1974e5(0x419)]();if(!_0x4f58bf['ok']||!_0x1bc897[_0x1974e5(0x38c)]){console[_0x1974e5(0x395)]('Error\x20al\x20enviar\x20correo:',_0x1bc897),ntfShow('Ocurri√≥\x20un\x20error\x20al\x20enviar\x20el\x20correo.');return;}}catch(_0x1107d7){console[_0x1974e5(0x395)](_0x1974e5(0x3f6),_0x1107d7);}}}function loadLoginContent(_0x35e1c7){const _0x55f16e=_0x4d8a3f,_0x4dfcb0=document[_0x55f16e(0x3e3)](_0x55f16e(0x3b7));_0x4dfcb0[_0x55f16e(0x2bc)]=_0x55f16e(0x32d)+_0x35e1c7+_0x55f16e(0x28b);}function addNumber(_0x544f81){const _0xe3503a=_0x4d8a3f;document[_0xe3503a(0x3e3)](_0xe3503a(0x258))[_0xe3503a(0x27e)]+=_0x544f81;}function deleteNumber(){const _0x33b775=_0x4d8a3f;let _0x2631a5=document[_0x33b775(0x3e3)](_0x33b775(0x258));_0x2631a5[_0x33b775(0x27e)]=_0x2631a5['value'][_0x33b775(0x2bf)](0x0,-0x1);}function togglePassword(){const _0x227a26=_0x4d8a3f;let _0x30e9cd=document[_0x227a26(0x3e3)](_0x227a26(0x258));_0x30e9cd[_0x227a26(0x382)]=_0x30e9cd[_0x227a26(0x382)]==_0x227a26(0x258)?_0x227a26(0x266):_0x227a26(0x258);}function setEventBtnAccess(){const _0x30c1c0=_0x4d8a3f,_0xb2ec84=document[_0x30c1c0(0x3e3)](_0x30c1c0(0x3ae));_0xb2ec84[_0x30c1c0(0x25d)]=function(){acceder();};}function isOnline(){const _0x553a23=_0x4d8a3f;return window[_0x553a23(0x21f)]['onLine'];}function showLoadingModal(){const _0x1653fa=_0x4d8a3f,_0x120121=document[_0x1653fa(0x39e)](_0x1653fa(0x247));_0x120121['id']=_0x1653fa(0x2b4),_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x389)]=_0x1653fa(0x2fa),_0x120121[_0x1653fa(0x36f)]['top']='0',_0x120121['style'][_0x1653fa(0x3f4)]='0',_0x120121['style'][_0x1653fa(0x33b)]='100%',_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x27c)]=_0x1653fa(0x411),_0x120121['style'][_0x1653fa(0x2fc)]=_0x1653fa(0x2fb),_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x26d)]=_0x1653fa(0x413),_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x30f)]=_0x1653fa(0x294),_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x38b)]=_0x1653fa(0x294),_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x3da)]=_0x1653fa(0x3d1),_0x120121[_0x1653fa(0x36f)]['opacity']='1',_0x120121[_0x1653fa(0x36f)][_0x1653fa(0x407)]='none',_0x120121['innerHTML']='\x0a<p\x20id=\x22infoLoadingModal\x22\x20style=\x22color:\x20white;\x20position:\x20absolute;\x20top:\x2040%;\x22>Cargando\x20...</p>\x0a<div\x20class=\x22spinner-border\x20text-light\x22\x20role=\x22status\x22\x20style=\x22width:\x203rem;\x20height:\x203rem;\x22>\x0a<span\x20class=\x22visually-hidden\x22>Cargando...</span>\x0a</div>\x0a',document[_0x1653fa(0x256)][_0x1653fa(0x3fb)](_0x120121);}function hideLoadingModal(){const _0x5a5380=_0x4d8a3f,_0x15a384=document[_0x5a5380(0x3e3)](_0x5a5380(0x2b4));_0x15a384&&(_0x15a384['style'][_0x5a5380(0x306)]='0',_0x15a384['remove']());}function cargarAlmacenes(_0x49e997){const _0x40f294=_0x4d8a3f,_0x37bbbb=document[_0x40f294(0x3e3)](_0x40f294(0x246));_0x37bbbb[_0x40f294(0x2bc)]='';const _0x5519ed=company[0x0][_0x40f294(0x21a)][_0x40f294(0x420)](_0x3f0834=>_0x3f0834[_0x40f294(0x334)]==_0x49e997);_0x5519ed&&_0x5519ed['setWarehouses'][_0x40f294(0x291)]>0x0&&_0x5519ed[_0x40f294(0x24c)][_0x40f294(0x2e0)](_0x34c7d7=>{const _0x3fb515=_0x40f294;let _0x3611f9=document[_0x3fb515(0x39e)](_0x3fb515(0x2e7));_0x3611f9['value']=_0x34c7d7[_0x3fb515(0x246)],_0x3611f9[_0x3fb515(0x314)]=_0x34c7d7[_0x3fb515(0x3be)],_0x37bbbb[_0x3fb515(0x3fb)](_0x3611f9);});}function getAllWarehouses(){const _0x48f1fd=_0x4d8a3f,_0x314682=company[0x0][_0x48f1fd(0x21a)]||[],_0x4f8fba=new Map();return _0x314682[_0x48f1fd(0x2e0)](_0x4fd6bf=>{const _0x4aa6a3=_0x48f1fd;(_0x4fd6bf[_0x4aa6a3(0x24c)]||[])[_0x4aa6a3(0x2e0)](_0x176bd7=>{const _0x21be54=_0x4aa6a3;!_0x4f8fba[_0x21be54(0x3c7)](_0x176bd7[_0x21be54(0x246)])&&_0x4f8fba[_0x21be54(0x260)](_0x176bd7[_0x21be54(0x246)],{'setWarehouseId':_0x176bd7[_0x21be54(0x246)],'setWarehouseName':_0x176bd7['setWarehouseName']+'\x20('+_0x4fd6bf[_0x21be54(0x414)]+')'});});}),Array[_0x48f1fd(0x331)](_0x4f8fba[_0x48f1fd(0x329)]());}function cargarPisos(_0x2d9d78){const _0x353c5a=_0x4d8a3f,_0x308ce9=company[0x0][_0x353c5a(0x320)][_0x353c5a(0x35e)](_0xad45f4=>_0xad45f4['setBranchId']==_0x2d9d78),_0x2262aa={};_0x308ce9['forEach'](_0x5cdd47=>{const _0x153c86=_0x353c5a;_0x2262aa[_0x5cdd47[_0x153c86(0x257)]]=_0x5cdd47['setFloorName'];});const _0x494051=document['getElementById'](_0x353c5a(0x257));_0x494051[_0x353c5a(0x2bc)]='';for(const _0x1fd53c in _0x2262aa){const _0x2300bd=document[_0x353c5a(0x39e)](_0x353c5a(0x2e7));_0x2300bd['value']=_0x1fd53c,_0x2300bd[_0x353c5a(0x314)]=_0x2262aa[_0x1fd53c],_0x494051[_0x353c5a(0x3fb)](_0x2300bd);}}document[_0x4d8a3f(0x3e3)](_0x4d8a3f(0x358))[_0x4d8a3f(0x2a7)](_0x4d8a3f(0x378),()=>{const _0x5eff84=_0x4d8a3f,_0x1e37b4=document[_0x5eff84(0x2a8)],_0x4cf560=document['fullscreenElement']||document['webkitFullscreenElement']||document[_0x5eff84(0x3f8)]||document['msFullscreenElement'];if(!_0x4cf560){if(_0x1e37b4[_0x5eff84(0x361)])_0x1e37b4[_0x5eff84(0x361)]();else{if(_0x1e37b4[_0x5eff84(0x25e)])_0x1e37b4[_0x5eff84(0x25e)]();else{if(_0x1e37b4[_0x5eff84(0x24e)])_0x1e37b4[_0x5eff84(0x24e)]();else _0x1e37b4['msRequestFullscreen']&&_0x1e37b4[_0x5eff84(0x3d6)]();}}}else{if(document[_0x5eff84(0x327)])document[_0x5eff84(0x327)]();else{if(document[_0x5eff84(0x33d)])document[_0x5eff84(0x33d)]();else{if(document['mozCancelFullScreen'])document['mozCancelFullScreen']();else document['msExitFullscreen']&&document[_0x5eff84(0x333)]();}}}});function openModalDetailsAndNtf(_0x2dbaee,_0x416e3a,_0x35511d=null){const _0x2b42b2=_0x4d8a3f,_0x5eba80=products[_0x2b42b2(0x420)](_0x234c2e=>_0x234c2e['id']==_0x2dbaee),_0x113d13=_0x5eba80['id'],_0x22b815=_0x5eba80[_0x2b42b2(0x2ff)],_0x2656da=_0x5eba80['setDescripcion'],_0x2934d2=_0x5eba80[_0x2b42b2(0x259)],_0x12c30c=_0x5eba80[_0x2b42b2(0x24a)]?.['trim']()||_0x2b42b2(0x2a4),_0x529e93=Array['isArray'](_0x5eba80[_0x2b42b2(0x3ce)])&&_0x5eba80[_0x2b42b2(0x3ce)][_0x2b42b2(0x291)]>0x0?_0x5eba80[_0x2b42b2(0x3ce)]:[{'setImageUrl':_0x12c30c}],_0x5f26e9=_0x529e93[_0x2b42b2(0x325)](_0x1b4a67=>_0x1b4a67[_0x2b42b2(0x332)]),_0x4fd787=document[_0x2b42b2(0x3e3)](_0x2b42b2(0x2a0)),_0x4b5f09=_0x4fd787['querySelector'](_0x2b42b2(0x34e)),_0x7ecc68=_0x4fd787[_0x2b42b2(0x387)](_0x2b42b2(0x27f)),_0x16309d=_0x4fd787[_0x2b42b2(0x387)](_0x2b42b2(0x41a)),_0x59f4cc=document[_0x2b42b2(0x3e3)](_0x2b42b2(0x300)),_0x128a30=_0x4fd787[_0x2b42b2(0x387)](_0x2b42b2(0x1f3)),_0x37aab0=_0x4fd787[_0x2b42b2(0x387)](_0x2b42b2(0x216));_0x4b5f09['innerHTML']='',_0x5f26e9[_0x2b42b2(0x2e0)](_0x14a23c=>{const _0x3681c6=_0x2b42b2,_0x3a95b7=document['createElement'](_0x3681c6(0x2bd));_0x3a95b7[_0x3681c6(0x3d8)]=_0x14a23c,_0x3a95b7[_0x3681c6(0x264)]=_0x3681c6(0x24b),_0x4b5f09['appendChild'](_0x3a95b7);});let _0xff67c3=0x0;const _0xbe7cdb=_0x5f26e9[_0x2b42b2(0x291)];function _0x47778e(){const _0x2cc63f=_0x2b42b2;_0x4b5f09[_0x2cc63f(0x36f)]['transform']=_0x2cc63f(0x1f5)+_0xff67c3*0x64+'%)';}_0x5f26e9[_0x2b42b2(0x2e0)](_0x200c52=>{const _0x218d82=_0x2b42b2,_0x1b0f9e=new Image();_0x1b0f9e[_0x218d82(0x3d8)]=_0x200c52;});_0xbe7cdb<=0x1?(_0x128a30[_0x2b42b2(0x36f)][_0x2b42b2(0x26d)]=_0x2b42b2(0x2b7),_0x37aab0[_0x2b42b2(0x36f)][_0x2b42b2(0x26d)]=_0x2b42b2(0x2b7)):(_0x128a30['style'][_0x2b42b2(0x26d)]='',_0x37aab0[_0x2b42b2(0x36f)]['display']='');_0xff67c3=0x0,_0x47778e();function _0x17d2c0(_0x528e82){const _0xc702c=_0x2b42b2;_0x528e82[_0xc702c(0x35b)](),_0xff67c3=(_0xff67c3-0x1+_0xbe7cdb)%_0xbe7cdb,_0x47778e();}function _0x16fe4d(_0x1ed7b2){_0x1ed7b2['stopPropagation'](),_0xff67c3=(_0xff67c3+0x1)%_0xbe7cdb,_0x47778e();}_0x128a30[_0x2b42b2(0x38f)](_0x128a30[_0x2b42b2(0x2cc)](!![])),_0x37aab0[_0x2b42b2(0x38f)](_0x37aab0['cloneNode'](!![]));const _0x4f0eea=_0x4fd787['querySelector'](_0x2b42b2(0x1f3)),_0x127d83=_0x4fd787[_0x2b42b2(0x387)](_0x2b42b2(0x216));_0x4f0eea[_0x2b42b2(0x2a7)]('click',_0x17d2c0),_0x127d83[_0x2b42b2(0x2a7)](_0x2b42b2(0x378),_0x16fe4d),_0x7ecc68[_0x2b42b2(0x2a7)](_0x2b42b2(0x378),_0x3d0619=>{const _0x4bd672=_0x2b42b2;_0x3d0619[_0x4bd672(0x35b)](),_0x4fd787[_0x4bd672(0x36f)][_0x4bd672(0x26d)]='none';}),_0x16309d[_0x2b42b2(0x2a7)](_0x2b42b2(0x378),()=>{const _0x5498f4=_0x2b42b2;_0x4fd787[_0x5498f4(0x36f)]['display']=_0x5498f4(0x2b7);}),_0x4fd787['style']['display']='flex',_0x59f4cc[_0x2b42b2(0x2bc)]=_0x2b42b2(0x398)+_0x22b815+_0x2b42b2(0x317)+_0x2656da+'</h3>\x0a';const _0x162696=document[_0x2b42b2(0x39e)](_0x2b42b2(0x34c));_0x162696[_0x2b42b2(0x372)]='barcode-type-select\x20custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal';const _0x22fd79=document[_0x2b42b2(0x39e)](_0x2b42b2(0x2e7));_0x22fd79[_0x2b42b2(0x27e)]='0',_0x22fd79[_0x2b42b2(0x314)]='Imprimir\x20C√≥digo\x20de\x20Barras',_0x162696[_0x2b42b2(0x3fb)](_0x22fd79),myCompany[_0x2b42b2(0x364)][_0x2b42b2(0x2e0)](_0x53daca=>{const _0x5ec8d3=_0x2b42b2,_0x3e8fc6=document[_0x5ec8d3(0x39e)](_0x5ec8d3(0x2e7));_0x3e8fc6['value']=String(_0x53daca[_0x5ec8d3(0x409)]),_0x3e8fc6[_0x5ec8d3(0x314)]=_0x53daca[_0x5ec8d3(0x365)],_0x162696[_0x5ec8d3(0x3fb)](_0x3e8fc6);}),_0x162696['addEventListener'](_0x2b42b2(0x347),function(){const _0x2e2fa7=_0x2b42b2,_0x4fa899=parseInt(this[_0x2e2fa7(0x27e)],0xa);if(_0x4fa899===0x0)return;typeof _0x2934d2===_0x2e2fa7(0x3b3)&&_0x2934d2[_0x2e2fa7(0x3e1)]()['length']>=0x1?generarStickersPDF(_0x4fa899,_0x2934d2['trim'](),_0x2dbaee):(ntfShow('Este\x20item\x20no\x20tiene\x20configurado\x20un\x20c√≥digo\x20de\x20barras.',0x2,0x2),this[_0x2e2fa7(0x27e)]='0');}),_0x59f4cc[_0x2b42b2(0x3fb)](_0x162696);var _0x55db17=document[_0x2b42b2(0x39e)](_0x2b42b2(0x335));_0x55db17[_0x2b42b2(0x382)]=_0x2b42b2(0x335),_0x55db17[_0x2b42b2(0x372)]=_0x2b42b2(0x388),_0x55db17[_0x2b42b2(0x314)]=_0x2b42b2(0x3a0),_0x55db17[_0x2b42b2(0x2a7)](_0x2b42b2(0x378),function(){const _0x3350e7=_0x2b42b2,_0x12c04a=document[_0x3350e7(0x3e3)](_0x3350e7(0x2a0));_0x12c04a['style']['display']=_0x3350e7(0x2b7),showModalCreateItem(0x0),initializeFormIsSoldIsBought(_0x113d13),initializeFormInputsBasic(_0x113d13),initializeFormTax(_0x113d13),initializeFormCategoriesBrands(_0x113d13);}),_0x59f4cc[_0x2b42b2(0x3fb)](_0x55db17);if(_0x35511d!=null){_0x59f4cc[_0x2b42b2(0x3ed)](_0x2b42b2(0x328),_0x2b42b2(0x3e0)+_0x35511d[_0x2b42b2(0x32b)]+'</h3><p>'+_0x35511d[_0x2b42b2(0x384)]+_0x2b42b2(0x2e1));var _0xad5150=document['getElementById'](_0x2b42b2(0x3b0));_0x35511d[_0x2b42b2(0x382)]===0x1&&[_0x2b42b2(0x235),_0x2b42b2(0x2c5),'Ver\x20movimientos']['forEach'](function(_0x237e55){const _0x326d1c=_0x2b42b2;var _0x447869=document['createElement'](_0x326d1c(0x335));_0x447869[_0x326d1c(0x314)]=_0x237e55,_0x447869[_0x326d1c(0x2a7)]('click',function(){const _0x273bd5=_0x326d1c;console['log']('Acci√≥n\x20\x22'+_0x237e55+'\x22\x20para\x20registro\x20#'+_0x35511d[_0x273bd5(0x3a6)]);}),_0xad5150[_0x326d1c(0x3fb)](_0x447869);}),_0x35511d[_0x2b42b2(0x382)]===0x2&&[_0x2b42b2(0x2da),_0x2b42b2(0x34b)][_0x2b42b2(0x2e0)](function(_0x69641c){const _0x5e0c32=_0x2b42b2;var _0x5b2bfa=document[_0x5e0c32(0x39e)](_0x5e0c32(0x335));_0x5b2bfa['textContent']=_0x69641c,_0x5b2bfa[_0x5e0c32(0x2a7)](_0x5e0c32(0x378),function(){const _0x2e8ce8=_0x5e0c32;console[_0x2e8ce8(0x3d3)](_0x2e8ce8(0x1f9)+_0x69641c+_0x2e8ce8(0x293)+_0x35511d[_0x2e8ce8(0x3a6)]);}),_0xad5150['appendChild'](_0x5b2bfa);});}}function ntf_formatDateDMY(_0x504438){const _0x388649=_0x4d8a3f;var _0x219bff=new Date(_0x504438),_0x257c5d=_0x219bff[_0x388649(0x35f)](),_0x1ac6e3=_0x219bff[_0x388649(0x3e6)](),_0x482298=monthsEspanish[_0x219bff[_0x388649(0x21e)]()];return _0x257c5d+_0x388649(0x3ca)+_0x482298+_0x388649(0x2b8)+_0x1ac6e3;}function ntf_groupBy(_0x40584f,_0x1ae5c5){const _0x2c00c0=_0x4d8a3f;return _0x40584f[_0x2c00c0(0x2b1)](function(_0x3173a2,_0x4b2f9b){const _0x2ab741=_0x2c00c0;var _0x3c312b=_0x4b2f9b[_0x1ae5c5];return _0x3173a2[_0x3c312b]=_0x3173a2[_0x3c312b]||[],_0x3173a2[_0x3c312b][_0x2ab741(0x415)](_0x4b2f9b),_0x3173a2;},{});}function ntf_isExpired(_0x3c51b5){const _0x2f5a64=_0x4d8a3f;if(!_0x3c51b5)return![];var _0x1e5979=new Date();return _0x1e5979[_0x2f5a64(0x1f1)](0x0,0x0,0x0,0x0),new Date(_0x3c51b5)<=_0x1e5979;}function ntf_getNotifications(){const _0x28ea50=_0x4d8a3f;var _0x3dc0f5=parseInt(document[_0x28ea50(0x3e3)]('setWarehouseId')['value'],0xa),_0xdd9052=ntf_groupBy(products,_0x28ea50(0x2dc)),_0x419ad3=[];return Object[_0x28ea50(0x30a)](_0xdd9052)['forEach'](function(_0x282377){const _0x5528f5=_0x28ea50;var _0x1f439a=_0xdd9052[_0x282377],_0x56c1bc=_0x1f439a[0x0],_0x4fcf2b=(_0x56c1bc[_0x5528f5(0x25b)]||[])['find'](function(_0x1677cf){return _0x1677cf['setIdSucursal']==_0x3dc0f5;});if(!_0x4fcf2b)return;var _0x10b00e=parseFloat(_0x4fcf2b[_0x5528f5(0x212)]),_0x4ab30f=parseFloat(_0x4fcf2b[_0x5528f5(0x3c9)]);_0x56c1bc['setInventariable']==0x1&&_0x10b00e<=_0x4ab30f&&_0x419ad3[_0x5528f5(0x415)]({'type':0x1,'id_registro':_0x56c1bc['id'],'title':_0x5528f5(0x298)+_0x56c1bc[_0x5528f5(0x227)],'message':_0x5528f5(0x362)+_0x56c1bc['setDescripcion']+'\x22\x20lleg√≥\x20al\x20stock\x20m√≠nimo.<br>\x0aStock\x20M√≠nimo:\x20'+_0x4ab30f[_0x5528f5(0x351)](0x3)+_0x5528f5(0x379)+_0x10b00e[_0x5528f5(0x351)](0x3)+'\x0a','data':{'producto':_0x56c1bc,'stock':_0x10b00e,'minStock':_0x4ab30f}}),_0x56c1bc[_0x5528f5(0x240)]&&ntf_isExpired(_0x56c1bc[_0x5528f5(0x240)])&&_0x419ad3['push']({'type':0x2,'id_registro':_0x56c1bc['id'],'title':_0x5528f5(0x308)+_0x56c1bc[_0x5528f5(0x227)],'message':_0x5528f5(0x28f)+_0x56c1bc['setDescripcion']+_0x5528f5(0x29b)+ntf_formatDateDMY(_0x56c1bc['setBatchExpirationDate'])+_0x5528f5(0x2c1)+_0x5528f5(0x301)+_0x10b00e[_0x5528f5(0x351)](0x3),'data':{'producto':_0x56c1bc,'expiration':_0x56c1bc[_0x5528f5(0x240)]}});}),_0x419ad3;}function ntf_renderNotifications(){const _0x2d92ba=_0x4d8a3f;var _0x2279ff=ntf_getNotifications(),_0x18ebec=document[_0x2d92ba(0x3e3)]('ntf-notifications-list'),_0x25ada0=document[_0x2d92ba(0x3e3)](_0x2d92ba(0x412));_0x18ebec[_0x2d92ba(0x2bc)]='',_0x25ada0[_0x2d92ba(0x314)]=_0x2279ff[_0x2d92ba(0x291)];if(_0x2279ff[_0x2d92ba(0x291)]===0x0){var _0x235edb=document['createElement']('li');_0x235edb[_0x2d92ba(0x314)]='No\x20hay\x20notificaciones',_0x18ebec[_0x2d92ba(0x3fb)](_0x235edb);return;}_0x2279ff['forEach'](function(_0x2cc045,_0x56cbb7){const _0x7d1437=_0x2d92ba;var _0x41f4d9=document['createElement']('li');_0x41f4d9[_0x7d1437(0x314)]=_0x2cc045['title'],_0x41f4d9[_0x7d1437(0x385)](_0x7d1437(0x2b6),_0x56cbb7),_0x18ebec['appendChild'](_0x41f4d9);});}document[_0x4d8a3f(0x3e3)](_0x4d8a3f(0x3c2))[_0x4d8a3f(0x2a7)](_0x4d8a3f(0x378),function(){const _0x16d9a3=_0x4d8a3f;document[_0x16d9a3(0x3e3)](_0x16d9a3(0x346))[_0x16d9a3(0x3bc)][_0x16d9a3(0x3f2)](_0x16d9a3(0x405)),ntf_renderNotifications();}),document[_0x4d8a3f(0x3e3)]('ntf-notifications-list')[_0x4d8a3f(0x2a7)](_0x4d8a3f(0x378),function(_0x2f5410){const _0x172bf=_0x4d8a3f,_0x1e9a63=_0x2f5410[_0x172bf(0x357)][_0x172bf(0x250)]('li');if(!_0x1e9a63||!_0x1e9a63[_0x172bf(0x2f8)][_0x172bf(0x403)])return;const _0xea36b1=ntf_getNotifications()[_0x1e9a63[_0x172bf(0x2f8)][_0x172bf(0x403)]];document[_0x172bf(0x3e3)](_0x172bf(0x3c2))[_0x172bf(0x378)](),openModalDetailsAndNtf(_0xea36b1['data']['producto']['id'],_0xea36b1['type'],_0xea36b1);});function ntf_initNotifications(){ntf_renderNotifications();}function ntfShow(_0x1ecbbe,_0x592165=0x3,_0x138fcc=0x1){const _0x3dde46=_0x4d8a3f,_0x68dcb5=document[_0x3dde46(0x3e3)](_0x3dde46(0x32e)),_0x27793f=document[_0x3dde46(0x39e)](_0x3dde46(0x247));let _0x1fffd7;if(_0x592165==0x1)_0x1fffd7='ntf-flotante-green';else _0x592165==0x2?_0x1fffd7=_0x3dde46(0x25c):_0x1fffd7=_0x3dde46(0x40b);let _0x249fbf;_0x138fcc==0x1?(_0x249fbf=_0x3dde46(0x366),_0x68dcb5['classList'][_0x3dde46(0x30c)]('ntf-flotante-container-top'),_0x68dcb5[_0x3dde46(0x3bc)][_0x3dde46(0x2d1)](_0x3dde46(0x2fe))):(_0x249fbf=_0x3dde46(0x3d7),_0x68dcb5[_0x3dde46(0x3bc)][_0x3dde46(0x30c)](_0x3dde46(0x2fe)),_0x68dcb5[_0x3dde46(0x3bc)][_0x3dde46(0x2d1)](_0x3dde46(0x2aa))),_0x27793f[_0x3dde46(0x372)]='ntf-flotante-message\x20'+_0x1fffd7+'\x20'+_0x249fbf,_0x27793f[_0x3dde46(0x314)]=_0x1ecbbe,_0x68dcb5['appendChild'](_0x27793f),_0x27793f['addEventListener'](_0x3dde46(0x23e),()=>{const _0x5a7b44=_0x3dde46;_0x27793f[_0x5a7b44(0x2d1)]();});}function openDatabase(){const _0x3d00de=_0x4d8a3f;if(db)return Promise[_0x3d00de(0x2cd)](db);if(dbPromise)return dbPromise;return dbPromise=new Promise((_0x1ad4ca,_0x56b54f)=>{const _0xf4f6c1=_0x3d00de,_0x493f9f=indexedDB['open'](db_name);_0x493f9f['onupgradeneeded']=function(_0x2124c5){const _0x3492a0=_0x4157;db=_0x2124c5[_0x3492a0(0x357)][_0x3492a0(0x3ef)],console['log'](_0x3492a0(0x338));},_0x493f9f[_0xf4f6c1(0x280)]=function(_0x172cd3){const _0x39cd5d=_0xf4f6c1;db=_0x172cd3[_0x39cd5d(0x357)][_0x39cd5d(0x3ef)],console[_0x39cd5d(0x3d3)](_0x39cd5d(0x29f)),_0x1ad4ca(db),dbPromise=null;},_0x493f9f['onerror']=function(_0x2d2dc8){const _0x3212cc=_0xf4f6c1;console[_0x3212cc(0x395)]('Error\x20al\x20abrir\x20la\x20base\x20de\x20datos:',_0x2d2dc8[_0x3212cc(0x357)][_0x3212cc(0x395)]),_0x56b54f(_0x2d2dc8[_0x3212cc(0x357)][_0x3212cc(0x395)]),dbPromise=null;};}),dbPromise;}function createCartStore(_0x1695d0,_0x1ebf56=![]){const _0x5a9269=_0x4d8a3f;if(dbOperationInProgress)return Promise['reject'](_0x5a9269(0x200));return dbOperationInProgress=!![],openDatabase()[_0x5a9269(0x36c)](_0x1df5db=>{const _0x59408b=_0x5a9269,_0x404d93=_0x59408b(0x265),_0x18cfef=_0x59408b(0x305),_0x1e5d60=_0x59408b(0x290),_0x305139=_0x59408b(0x38e),_0x42de0d=_0x1695d0?'cart_'+_0x1695d0:null,_0x50bb5d=_0x1695d0?'window_options_'+_0x1695d0:null,_0x494598=_0x1ebf56||!_0x1df5db[_0x59408b(0x236)][_0x59408b(0x315)](_0x404d93)||!_0x1df5db[_0x59408b(0x236)][_0x59408b(0x315)](_0x18cfef)||!_0x1df5db[_0x59408b(0x236)]['contains'](_0x1e5d60)||!_0x1df5db[_0x59408b(0x236)][_0x59408b(0x315)](_0x305139)||_0x1695d0&&(!_0x1df5db[_0x59408b(0x236)][_0x59408b(0x315)](_0x42de0d)||!_0x1df5db['objectStoreNames'][_0x59408b(0x315)](_0x50bb5d));if(!_0x494598)return dbOperationInProgress=![],Promise[_0x59408b(0x2cd)](_0x1df5db);const _0x2c5137=_0x1df5db[_0x59408b(0x3ea)]+0x1;return _0x1df5db['close'](),new Promise((_0x259628,_0x2f0f10)=>{const _0x58e890=_0x59408b,_0xb4295a=indexedDB['open'](db_name,_0x2c5137);_0xb4295a['onupgradeneeded']=function(_0x1e530c){const _0x53c140=_0x4157;db=_0x1e530c[_0x53c140(0x357)][_0x53c140(0x3ef)];if(_0x1ebf56)Array['from'](db[_0x53c140(0x236)])[_0x53c140(0x2e0)](_0x2f5373=>{const _0x4215d6=_0x53c140;_0x2f5373!==_0x1e5d60&&(db['deleteObjectStore'](_0x2f5373),console['log'](_0x4215d6(0x29d)+_0x2f5373+_0x4215d6(0x214)));}),console[_0x53c140(0x3d3)]('Todos\x20los\x20object\x20stores\x20han\x20sido\x20eliminados.');else{!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x404d93)&&(db[_0x53c140(0x288)](_0x404d93,{'keyPath':'id'}),console[_0x53c140(0x3d3)](_0x53c140(0x29d)+_0x404d93+_0x53c140(0x215)));!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x18cfef)&&(db[_0x53c140(0x288)](_0x18cfef,{'keyPath':'id','autoIncrement':!![]}),console['log'](_0x53c140(0x29d)+_0x18cfef+'\x27\x20creado\x20correctamente.'));!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x1e5d60)&&(db['createObjectStore'](_0x1e5d60,{'keyPath':'id','autoIncrement':!![]}),console[_0x53c140(0x3d3)]('ObjectStore\x20\x27'+_0x1e5d60+_0x53c140(0x215)));!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x305139)&&(db[_0x53c140(0x288)](_0x305139,{'keyPath':'id'}),console[_0x53c140(0x3d3)](_0x53c140(0x29d)+_0x305139+_0x53c140(0x215)));if(_0x1695d0){if(!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x42de0d)){const _0x28f121=db[_0x53c140(0x288)](_0x42de0d,{'keyPath':'id','autoIncrement':!![]});_0x28f121[_0x53c140(0x33f)](_0x53c140(0x279),_0x53c140(0x279),{'unique':!![]}),console[_0x53c140(0x3d3)](_0x53c140(0x29d)+_0x42de0d+_0x53c140(0x215));}!db[_0x53c140(0x236)][_0x53c140(0x315)](_0x50bb5d)&&(db[_0x53c140(0x288)](_0x50bb5d,{'keyPath':'id','autoIncrement':!![]}),console['log']('ObjectStore\x20\x27'+_0x50bb5d+'\x27\x20creado\x20correctamente.'));}}},_0xb4295a[_0x58e890(0x280)]=function(_0xb97a6b){const _0x235b8e=_0x58e890;db=_0xb97a6b[_0x235b8e(0x357)][_0x235b8e(0x3ef)],dbOperationInProgress=![],console[_0x235b8e(0x3d3)](_0x235b8e(0x1fb)),_0x259628(db);},_0xb4295a[_0x58e890(0x35a)]=function(_0x4f8044){const _0x1a8861=_0x58e890;console[_0x1a8861(0x395)](_0x1a8861(0x313),_0x4f8044['target'][_0x1a8861(0x395)]),dbOperationInProgress=![],_0x2f0f10(_0x4f8044['target'][_0x1a8861(0x395)]);};});})['catch'](_0x4520e9=>{throw new Error('Uncaught\x20TypeError:\x20Cannot\x20set\x20properties\x20of\x20null\x20(setting\x20\x27openDB\x27)\x20at\x20<anonymous>:545:712');})[_0x5a9269(0x2b5)](()=>{dbOperationInProgress=![];});}async function processOfflineOperations(){const _0x4a5ea5=_0x4d8a3f;if(!isOnline())return Promise['resolve']();try{const _0x292a9f=await createCartStore(''),_0x1bb27b=_0x292a9f[_0x4a5ea5(0x349)](_0x4a5ea5(0x290),_0x4a5ea5(0x285)),_0x2f5475=_0x1bb27b[_0x4a5ea5(0x368)](_0x4a5ea5(0x290)),_0x18a70b=await new Promise((_0x36d733,_0x2f16b0)=>{const _0x3fde92=_0x4a5ea5,_0x548de2=_0x2f5475[_0x3fde92(0x2c9)]();_0x548de2[_0x3fde92(0x280)]=()=>_0x36d733(_0x548de2[_0x3fde92(0x3ef)]),_0x548de2[_0x3fde92(0x35a)]=()=>_0x2f16b0(new Error('Error\x20al\x20obtener\x20las\x20operaciones:\x20'+_0x548de2['error']));}),_0x2a70d0=_0x18a70b[_0x4a5ea5(0x35e)](_0x488dc0=>_0x488dc0[_0x4a5ea5(0x26a)]==0x1);if(_0x2a70d0[_0x4a5ea5(0x291)]===0x0){console[_0x4a5ea5(0x3d3)](_0x4a5ea5(0x248));return;}const _0x2dd7d3=_0x2a70d0[_0x4a5ea5(0x35e)](_0x1d8fdc=>_0x1d8fdc[_0x4a5ea5(0x310)]==0x64),_0xbdb7d0=_0x2a70d0[_0x4a5ea5(0x35e)](_0x2e2f8=>_0x2e2f8[_0x4a5ea5(0x310)]!=0x64),_0xda2ac=_0xa34a78=>_0xa34a78[_0x4a5ea5(0x3cf)]((_0x8912a0,_0x48d641)=>{const _0x5d565a=_0x4a5ea5,_0x258a77=[0x1,0x2,0x3],_0x15e99f=_0x284f13=>Array[_0x5d565a(0x233)](_0x284f13['newItems'])&&_0x284f13[_0x5d565a(0x28a)][_0x5d565a(0x342)](_0x2c0922=>_0x258a77[_0x5d565a(0x237)](_0x2c0922[_0x5d565a(0x31f)])),_0x349275=_0x15e99f(_0x8912a0),_0x3ec77e=_0x15e99f(_0x48d641);if(_0x349275&&!_0x3ec77e)return-0x1;if(!_0x349275&&_0x3ec77e)return 0x1;const _0x1162dc=Math[_0x5d565a(0x2a9)](..._0x8912a0[_0x5d565a(0x28a)][_0x5d565a(0x325)](_0x55ddbd=>_0x55ddbd[_0x5d565a(0x31f)])),_0x5013fa=Math[_0x5d565a(0x2a9)](..._0x48d641[_0x5d565a(0x28a)][_0x5d565a(0x325)](_0x3b88b3=>_0x3b88b3[_0x5d565a(0x31f)]));return _0x1162dc-_0x5013fa;}),_0x5d8f88=_0x2dd7d3[_0x4a5ea5(0x35e)](_0x5aea07=>Array[_0x4a5ea5(0x233)](_0x5aea07[_0x4a5ea5(0x28a)])&&_0x5aea07[_0x4a5ea5(0x28a)][_0x4a5ea5(0x360)](_0x5eae81=>!_0x5eae81[_0x4a5ea5(0x282)])),_0x39d918=_0x2dd7d3[_0x4a5ea5(0x35e)](_0x4004c=>Array[_0x4a5ea5(0x233)](_0x4004c[_0x4a5ea5(0x28a)])&&_0x4004c[_0x4a5ea5(0x28a)][_0x4a5ea5(0x360)](_0x436416=>_0x436416['setItemId']));_0xda2ac(_0x5d8f88),_0xda2ac(_0x39d918);const _0x1f2c32=[..._0x5d8f88,..._0x39d918];function _0x53ec36(_0x2929e1,_0x1ac53b){return new Promise((_0x1a76b9,_0x2b7743)=>{const _0x5b6c79=_0x4157,_0x10d910=_0x2929e1['transaction'](_0x5b6c79(0x290),_0x5b6c79(0x33a)),_0x2c5c0b=_0x10d910[_0x5b6c79(0x368)]('offline_operations'),_0x1d9538=_0x2c5c0b[_0x5b6c79(0x3a2)](_0x1ac53b);_0x1d9538['onsuccess']=()=>_0x1a76b9(),_0x1d9538[_0x5b6c79(0x35a)]=_0x1a6e5e=>_0x2b7743(new Error(_0x5b6c79(0x2c4)+_0x1a6e5e[_0x5b6c79(0x357)][_0x5b6c79(0x395)]));});}async function _0x496d61(_0x7e0439){const _0x520ae8=_0x4a5ea5;for(const _0xaca350 of _0x7e0439){_0xaca350[_0x520ae8(0x310)]===0x64&&Array[_0x520ae8(0x233)](_0xaca350[_0x520ae8(0x28a)])&&_0xaca350[_0x520ae8(0x28a)]['sort']((_0x890264,_0x12406f)=>{const _0xdbd951=_0x520ae8,_0x5dc119=[0x1,0x2,0x3],_0x2812cd=_0x5dc119[_0xdbd951(0x237)](_0x890264[_0xdbd951(0x31f)]),_0x5b97fd=_0x5dc119[_0xdbd951(0x237)](_0x12406f['setItemType']);if(_0x2812cd&&!_0x5b97fd)return-0x1;if(!_0x2812cd&&_0x5b97fd)return 0x1;return _0x890264[_0xdbd951(0x31f)]-_0x12406f[_0xdbd951(0x31f)];});const _0x3a668c=new FormData();_0x3a668c['append'](_0x520ae8(0x2e3),JSON[_0x520ae8(0x3f0)](_0xaca350));if(_0xaca350[_0x520ae8(0x402)]instanceof Blob&&_0xaca350[_0x520ae8(0x402)][_0x520ae8(0x2cb)]>0x0)_0x3a668c[_0x520ae8(0x3e7)](_0x520ae8(0x402),_0xaca350[_0x520ae8(0x402)],'documento.pdf');else _0xaca350[_0x520ae8(0x402)]&&console[_0x520ae8(0x22f)](_0x520ae8(0x3e4));_0xaca350[_0x520ae8(0x310)]==0x64&&Array[_0x520ae8(0x233)](_0xaca350[_0x520ae8(0x28a)])&&_0xaca350[_0x520ae8(0x28a)][_0x520ae8(0x2e0)]((_0xc0a0f7,_0x243a2f)=>{const _0x1f9d84=_0x520ae8;Array[_0x1f9d84(0x233)](_0xc0a0f7[_0x1f9d84(0x3db)])&&_0xc0a0f7[_0x1f9d84(0x3db)]['forEach']((_0x18f23f,_0x1ee5d8)=>{const _0x1f5b2f=_0x1f9d84;_0x18f23f instanceof Blob&&_0x18f23f[_0x1f5b2f(0x2cb)]>0x0?_0x3a668c[_0x1f5b2f(0x3e7)](_0x1f5b2f(0x2c2)+_0x243a2f+_0x1f5b2f(0x424)+_0x1ee5d8+']',_0x18f23f,_0x18f23f['name']):console[_0x1f5b2f(0x22f)](_0x1f5b2f(0x39d)+_0x243a2f+_0x1f5b2f(0x32c)+_0x1ee5d8+_0x1f5b2f(0x232));});});try{const _0x3b75b7=await fetch(_0xaca350[_0x520ae8(0x209)],{'method':_0x520ae8(0x37c),'body':_0x3a668c});if(!_0x3b75b7['ok'])throw new Error('HTTP\x20'+_0x3b75b7[_0x520ae8(0x386)]+_0x520ae8(0x3c0)+_0x3b75b7[_0x520ae8(0x3c3)]);const _0x1027e1=await _0x3b75b7[_0x520ae8(0x419)]();!_0x1027e1['success']?_0xaca350['setMessage']=_0x1027e1[_0x520ae8(0x384)]||_0x520ae8(0x3ad):(_0xaca350[_0x520ae8(0x26a)]=0x0,delete _0xaca350[_0x520ae8(0x408)]);}catch(_0x43e3e3){console[_0x520ae8(0x395)](_0x520ae8(0x218),_0x43e3e3),_0xaca350[_0x520ae8(0x408)]=_0x43e3e3['message'];}await _0x53ec36(_0x292a9f,_0xaca350),_0xaca350[_0x520ae8(0x310)]===0x64&&_0xaca350[_0x520ae8(0x26a)]===0x0&&await new Promise((_0x2342d1,_0x5d0299)=>{const _0x7b8def=_0x520ae8,_0x19bbf6=_0x292a9f[_0x7b8def(0x349)](_0x7b8def(0x290),_0x7b8def(0x33a)),_0x4062a1=_0x19bbf6[_0x7b8def(0x368)](_0x7b8def(0x290)),_0x359e59=_0x4062a1['delete'](_0xaca350['id']);_0x359e59[_0x7b8def(0x280)]=()=>_0x2342d1(),_0x359e59[_0x7b8def(0x35a)]=_0x2262b1=>_0x5d0299(new Error(_0x7b8def(0x2f1)+_0x2262b1['target'][_0x7b8def(0x395)]));});}}_0x1f2c32[_0x4a5ea5(0x291)]&&(console['log']('Sincronizando\x20'+_0x1f2c32['length']+_0x4a5ea5(0x25f)),await _0x496d61(_0x1f2c32)),_0xbdb7d0[_0x4a5ea5(0x291)]&&(console['log']('Sincronizando\x20'+_0xbdb7d0[_0x4a5ea5(0x291)]+'\x20operaciones\x20restantes...'),await _0x496d61(_0xbdb7d0)),console[_0x4a5ea5(0x3d3)](_0x4a5ea5(0x253));}catch(_0x367650){console[_0x4a5ea5(0x395)](_0x4a5ea5(0x36a),_0x367650);}}function apiERPsaveOnline(_0x45978d,_0x128266,_0x5a5da6,_0x243971,_0x12d9c6){const _0x4fddcb=_0x4d8a3f;if(!isOnline())return console[_0x4fddcb(0x3d3)]('Error\x20Network.'),Promise[_0x4fddcb(0x210)](_0x4fddcb(0x271));const _0x2c5193={'setAuthToken':_0x45978d,'setBranches':_0x128266,'setUsers':_0x5a5da6,'setSeries':_0x243971,'setPrinters':_0x12d9c6};return fetch('https://apierp.dev/api/apiPOS/update/',{'method':'POST','headers':{'Content-Type':_0x4fddcb(0x3ac)},'body':JSON[_0x4fddcb(0x3f0)](_0x2c5193)})[_0x4fddcb(0x36c)](_0x2e7d65=>{const _0x3230b0=_0x4fddcb;if(!_0x2e7d65['ok'])throw new Error(_0x3230b0(0x3b6)+_0x2e7d65[_0x3230b0(0x3c3)]);return _0x2e7d65[_0x3230b0(0x419)]();})[_0x4fddcb(0x36c)](_0x400e90=>{const _0x445ec0=_0x4fddcb;if(!_0x400e90[_0x445ec0(0x38c)])throw new Error(_0x400e90[_0x445ec0(0x384)]||_0x445ec0(0x2b9));return console[_0x445ec0(0x3d3)]('Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.'),_0x400e90;})[_0x4fddcb(0x381)](_0x4a69b9=>{const _0x16bbc2=_0x4fddcb;console[_0x16bbc2(0x395)]('Error\x20al\x20actualizar\x20data\x20online:',_0x4a69b9);throw _0x4a69b9;});}async function acceder(){const _0x2ada82=_0x4d8a3f;if(!isOnline()){alert(_0x2ada82(0x3c1));throw new Error(_0x2ada82(0x40a));}const _0x2d2dd2=document[_0x2ada82(0x3e3)](_0x2ada82(0x3ae)),_0x55920a=document[_0x2ada82(0x3e3)](_0x2ada82(0x2ad))[_0x2ada82(0x27e)],_0x3110a9=document[_0x2ada82(0x3e3)]('password')[_0x2ada82(0x27e)];_0x2d2dd2['disabled']=!![];if(!_0x55920a||!_0x3110a9){alert(_0x2ada82(0x2a6)),_0x2d2dd2[_0x2ada82(0x2db)]=![];return;}console[_0x2ada82(0x3d3)]('Modo\x20online\x20...'),showLoadingModal();const _0x5f0a3a={'usuario':_0x55920a,'password':_0x3110a9};try{const _0x1d425e=await fetch(_0x2ada82(0x30d),{'method':_0x2ada82(0x37c),'headers':{'Content-Type':_0x2ada82(0x3ac)},'body':JSON[_0x2ada82(0x3f0)](_0x5f0a3a)}),_0x363812=await _0x1d425e['json']();if(!(_0x363812[_0x2ada82(0x38c)]&&Array[_0x2ada82(0x233)](_0x363812[_0x2ada82(0x384)]))){alert(_0x363812[_0x2ada82(0x384)]),_0x2d2dd2[_0x2ada82(0x2db)]=![],hideLoadingModal();throw new Error(_0x363812[_0x2ada82(0x384)]);}const _0xb6e071=document[_0x2ada82(0x3e3)](_0x2ada82(0x272));_0xb6e071['innerHTML']='Inicio\x20de\x20sesi√≥n\x20exitoso\x20...';const _0x552143=_0x363812['message'],{setApiEndPoint:_0x240f9f,setAuthToken:_0x462435,setUser_Local:_0x3555ab}=_0x552143[0x0],_0x3ea98e={'apiPOS_getAccessData':0x1,'setToken':_0x462435,'setUserLocalUserName':_0x3555ab[_0x2ada82(0x2f9)]},_0x1dfc34=await fetch(_0x240f9f,{'method':'POST','headers':{'Content-Type':_0x2ada82(0x3df)},'body':JSON['stringify'](_0x3ea98e)}),_0x563711=await _0x1dfc34[_0x2ada82(0x419)]();if(!(_0x563711['success']===!![])){_0xb6e071[_0x2ada82(0x2bc)]=_0x2ada82(0x2af)+_0x563711[_0x2ada82(0x384)]+_0x2ada82(0x37f),setTimeout(()=>location[_0x2ada82(0x36d)](),0x1388);return;}_0xb6e071[_0x2ada82(0x2bc)]=_0x2ada82(0x380);const _0x19435c=_0x563711['message'][_0x2ada82(0x3fd)][_0x2ada82(0x325)](_0x8a1650=>{const _0x171ff4=_0x2ada82,_0xbef477=_0x8a1650['setId']||'',_0x529463=_0x8a1650[_0x171ff4(0x2dc)]||'',_0x5992b5=_0x8a1650[_0x171ff4(0x31f)]||'1',_0x28bcdc=_0x8a1650[_0x171ff4(0x2ff)]||'',_0x29c900=_0x8a1650[_0x171ff4(0x259)]||'',_0x43a95a=_0x8a1650['setDescripcion']||'',_0x1cd12e=_0x8a1650[_0x171ff4(0x238)]||'',_0x5d7de7=_0x8a1650[_0x171ff4(0x312)]||'',_0x5178ef=_0x8a1650[_0x171ff4(0x2ac)]||'',_0x152286=_0x8a1650[_0x171ff4(0x2c6)]||'',_0xba27c6=_0x8a1650['setTaxId']||'',_0xf8fe8e=_0x8a1650[_0x171ff4(0x23d)]||'10',_0x2a0a7a=_0x552143[0x0][_0x171ff4(0x230)][_0x171ff4(0x420)](_0x25ffd9=>_0x25ffd9[_0x171ff4(0x20c)]==_0xba27c6)?.[_0x171ff4(0x283)]||0x0,_0x1d6861=parseFloat(_0x8a1650[_0x171ff4(0x3b2)])||0x1,_0x2fa284=_0x8a1650[_0x171ff4(0x3bb)]||'',_0x49bd16=_0x8a1650[_0x171ff4(0x3ba)]||'',_0x1eb258=_0x8a1650[_0x171ff4(0x24a)]||_0x171ff4(0x2a4),_0x47646d=_0x8a1650[_0x171ff4(0x38d)]||0x1,_0x2cadda=_0x8a1650[_0x171ff4(0x22e)]||'',_0x2651fe=_0x8a1650[_0x171ff4(0x240)]||'',_0x25b9cc=(_0x8a1650['currency_data']||[])[_0x171ff4(0x325)](_0x5455c4=>{const _0x803a09=_0x171ff4,_0x35649f=parseFloat(_0x5455c4[_0x803a09(0x336)])||0x0,_0x4a8414=parseFloat(_0x5455c4[_0x803a09(0x337)])||0x0,_0x238810=parseFloat(_0x5455c4[_0x803a09(0x1fd)])||0x0,_0x222600=parseFloat(_0x5455c4[_0x803a09(0x22c)])||0x0,_0x3df866=_0x5455c4[_0x803a09(0x1fc)]||[];let _0x472373=0x0,_0x3c9dd6=0x0;if(_0x35649f>0x0)_0x472373=_0x35649f,_0x3c9dd6=setTipAfeImpGravados[_0x803a09(0x342)](_0x2df389=>_0x2df389==_0xf8fe8e)?_0x35649f+_0x35649f*_0x2a0a7a/0x64:_0x35649f;else _0x4a8414>0x0&&(_0x3c9dd6=_0x4a8414,_0x472373=setTipAfeImpGravados[_0x803a09(0x342)](_0x1e3f9d=>_0x1e3f9d==_0xf8fe8e)?_0x4a8414/(0x1+_0x2a0a7a/0x64):_0x4a8414);let _0x300d02=0x0,_0x5d796c=0x0;if(_0x238810>0x0)_0x300d02=_0x238810,_0x5d796c=setTipAfeImpGravados[_0x803a09(0x342)](_0x4ba961=>_0x4ba961==_0xf8fe8e)?_0x238810+_0x238810*_0x2a0a7a/0x64:_0x238810;else _0x222600>0x0&&(_0x5d796c=_0x222600,_0x300d02=setTipAfeImpGravados['some'](_0x5150ce=>_0x5150ce==_0xf8fe8e)?_0x222600/(0x1+_0x2a0a7a/0x64):_0x222600);return{'currency':_0x5455c4['currency'],'setMtoValorUnitario':_0x472373,'setMtoPrecioUnitario':_0x3c9dd6,'setMtoValorCostoUnitario':_0x300d02,'setMtoPrecioCostoUnitario':_0x5d796c,'setPriceLists':_0x3df866};});if(_0xba27c6!==''&&_0xbef477!==''&&_0x28bcdc!==''&&_0x43a95a!=='')return{'id':_0xbef477,'setItemType':_0x5992b5,'setIdProducto':_0x529463,'setCodProducto':_0x28bcdc,'setItemBarCode':_0x29c900,'setDescripcion':_0x43a95a,'setItemDescription':_0x1cd12e,'setUnidadCodigo':_0x5d7de7,'setUnidad':_0x5178ef,'setItemUnitAlias':_0x152286,'setPorcentajeIgv':_0x2a0a7a,'setTaxId':_0xba27c6,'setTipAfeIgv':_0xf8fe8e,'setInventariable':_0x1d6861,'setCategoria':_0x2fa284,'setMarca':_0x49bd16,'setImg':_0x1eb258,'setConversionFactor':_0x47646d,'setBatchName':_0x2cadda,'setBatchExpirationDate':_0x2651fe,'setItemIsBought':_0x8a1650[_0x171ff4(0x41e)],'setItemIsSold':_0x8a1650['setItemIsSold'],'sucursales':_0x8a1650['sucursales']||[],'setPrinters':_0x8a1650[_0x171ff4(0x3e5)]||[],'currency_data':_0x25b9cc,'setImages':_0x8a1650[_0x171ff4(0x3ce)]||[],'setItemVariantValues':_0x8a1650[_0x171ff4(0x324)]||[]};return null;})[_0x2ada82(0x35e)](Boolean);_0x552143[0x0][_0x2ada82(0x2b0)]=_0x563711[_0x2ada82(0x384)]['setCompanyLogo'],_0x552143[0x0][_0x2ada82(0x33e)]=_0x563711['message'][_0x2ada82(0x33e)],_0x552143[0x0][_0x2ada82(0x40e)]=_0x563711[_0x2ada82(0x384)]['setCompanyName'],_0x552143[0x0][_0x2ada82(0x31c)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x31c)],_0x552143[0x0][_0x2ada82(0x286)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x286)],_0x552143[0x0][_0x2ada82(0x1f4)]=_0x563711[_0x2ada82(0x384)]['setCompanyPhone'],_0x552143[0x0][_0x2ada82(0x38a)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x38a)],_0x552143[0x0][_0x2ada82(0x396)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x396)],_0x552143[0x0][_0x2ada82(0x21a)]=_0x563711[_0x2ada82(0x384)]['setBranches'],_0x552143[0x0][_0x2ada82(0x251)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x251)],_0x552143[0x0][_0x2ada82(0x3ee)]=_0x563711[_0x2ada82(0x384)]['setSeries'],_0x552143[0x0]['setPrinters']=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x3e5)],_0x552143[0x0][_0x2ada82(0x22a)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x22a)],_0x552143[0x0][_0x2ada82(0x20e)]=_0x563711[_0x2ada82(0x384)][_0x2ada82(0x20e)],_0x552143[0x0][_0x2ada82(0x3f1)]=_0x563711['message'][_0x2ada82(0x3f1)],_0x552143[0x0][_0x2ada82(0x3f7)]=_0x563711[_0x2ada82(0x384)]['setSuppliers'],_0x552143[0x0][_0x2ada82(0x318)]=_0x563711['message'][_0x2ada82(0x318)],_0x552143[0x0][_0x2ada82(0x31a)]=_0x563711[_0x2ada82(0x384)]['setCollaborators'],_0xb6e071[_0x2ada82(0x2bc)]='Sincronizando\x20...';const _0x52817b=await createCartStore('');await clearAndStore(_0x52817b,_0x2ada82(0x265),_0x19435c),await clearAndStore(_0x52817b,_0x2ada82(0x38e),[{'id':_0x2ada82(0x348),..._0x552143[0x0][_0x2ada82(0x295)]}]),await apiERPsaveOnline(_0x462435,_0x552143[0x0]['setBranches'],_0x552143[0x0][_0x2ada82(0x251)],_0x552143[0x0][_0x2ada82(0x3ee)],_0x552143[0x0][_0x2ada82(0x3e5)]);const _0x5d9d3f=await fetch(_0x2ada82(0x36e),{'method':_0x2ada82(0x37c),'headers':{'Content-Type':_0x2ada82(0x3df)},'body':JSON['stringify']({'setAuthToken':_0x462435,'setUserId':_0x3555ab[_0x2ada82(0x2bb)]})}),_0xdbf098=await _0x5d9d3f[_0x2ada82(0x419)]();if(_0xdbf098[_0x2ada82(0x38c)])_0x552143[0x0][_0x2ada82(0x320)]=_0xdbf098[_0x2ada82(0x384)][_0x2ada82(0x320)],_0x552143[0x0]['setUsers']=_0xdbf098[_0x2ada82(0x384)]['setUsers'],_0x552143[0x0][_0x2ada82(0x3e5)]=_0xdbf098['message'][_0x2ada82(0x3e5)];else{console[_0x2ada82(0x395)](_0x2ada82(0x344),_0xdbf098[_0x2ada82(0x384)]);return;}await saveCompanyToIndexedDB(_0x552143,_0x52817b);if(!_0x552143[0x0]['setWindows']||_0x552143[0x0][_0x2ada82(0x320)][_0x2ada82(0x291)]===0x0){console[_0x2ada82(0x395)]('Error:\x20No\x20hay\x20ventanas\x20disponibles.');return;}for(const _0x2b276b of _0x552143[0x0][_0x2ada82(0x320)]){await new Promise(_0x1596e0=>setTimeout(_0x1596e0,0x12c)),await createCartStore(_0x2b276b[_0x2ada82(0x2d9)]),_0xb6e071['innerHTML']='Generando\x20'+_0x2b276b['setWindowName']+_0x2ada82(0x37f);}_0xb6e071[_0x2ada82(0x2bc)]=_0x2ada82(0x222)+_0x3555ab[_0x2ada82(0x254)]+'\x20...',setTimeout(()=>location[_0x2ada82(0x36d)](),0x7d0);}catch(_0xf2dbfb){console[_0x2ada82(0x395)](_0x2ada82(0x3f6),_0xf2dbfb),_0x2d2dd2[_0x2ada82(0x2db)]=![],hideLoadingModal(),alert(_0xf2dbfb);throw _0xf2dbfb;}}function clearAndStore(_0x48b534,_0x4d0879,_0x10b1e4){return new Promise((_0x4a7305,_0x487f89)=>{const _0x7ed544=_0x4157,_0x4436eb=_0x48b534[_0x7ed544(0x349)](_0x4d0879,_0x7ed544(0x33a)),_0x5b90db=_0x4436eb[_0x7ed544(0x368)](_0x4d0879),_0x549f2e=_0x5b90db[_0x7ed544(0x278)]();_0x549f2e['onsuccess']=()=>{const _0x49e9fa=_0x7ed544;_0x10b1e4[_0x49e9fa(0x2e0)](_0x4974ff=>_0x5b90db[_0x49e9fa(0x3a2)](_0x4974ff));},_0x4436eb[_0x7ed544(0x418)]=()=>_0x4a7305(),_0x4436eb[_0x7ed544(0x35a)]=()=>_0x487f89(new Error('Error\x20in\x20saving\x20to\x20store\x20'+_0x4d0879+'!'));});}async function logoutReload(_0x55d7ac=0x0,_0x43808a){const _0x68b84c=_0x4d8a3f;if(_0x55d7ac!=0x1){showLoadingModal();const _0x2d3034=document[_0x68b84c(0x3e3)](_0x68b84c(0x272));_0x2d3034['innerHTML']=_0x68b84c(0x352);}_0x43808a==0x1&&await apiERPsyncWindows(),await createCartStore('',!![]),processOfflineOperations(),location[_0x68b84c(0x36d)]();}function registerServiceWorker(_0x30ecf2,_0x26fdb3){const _0x63beea=_0x4d8a3f;_0x63beea(0x303)in navigator&&navigator[_0x63beea(0x303)][_0x63beea(0x3de)](_0x30ecf2)['then'](_0x2416f7=>{const _0x553ea3=_0x63beea;console['log']('SW\x20Success'),_0x2416f7[_0x553ea3(0x397)]=()=>{const _0x28633b=_0x553ea3,_0x4751e6=_0x2416f7[_0x28633b(0x3c6)];_0x4751e6[_0x28633b(0x417)]=()=>{const _0x3ad411=_0x28633b;_0x4751e6['state']=='installed'&&navigator[_0x3ad411(0x303)][_0x3ad411(0x3ff)]&&console['log'](_0x3ad411(0x21c));};},navigator[_0x553ea3(0x303)]['addEventListener'](_0x553ea3(0x307),()=>{const _0x4d4133=_0x553ea3;showLoadingModal();const _0x22dda7=document['getElementById']('infoLoadingModal');_0x22dda7[_0x4d4133(0x2bc)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>apiPOS\x20v4.2.9\x20...</span>',logoutReload(0x1,_0x26fdb3);});})[_0x63beea(0x381)](_0x42176e=>console['error'](_0x63beea(0x39a),_0x42176e));}function isLoggedIn(_0x404952){const _0x4d1526=_0x4d8a3f;return _0x404952&&_0x404952[0x0]&&_0x404952[0x0][_0x4d1526(0x2b3)];}function apiERPShowContent(){const _0x553f9b=_0x4d8a3f;document[_0x553f9b(0x3e3)](_0x553f9b(0x2ca))[_0x553f9b(0x3bc)][_0x553f9b(0x2d1)](_0x553f9b(0x405)),document[_0x553f9b(0x3e3)](_0x553f9b(0x3cc))[_0x553f9b(0x3bc)]['remove'](_0x553f9b(0x405)),document['getElementById'](_0x553f9b(0x3b7))[_0x553f9b(0x3bc)]['add'](_0x553f9b(0x405));const _0x24d78f=document[_0x553f9b(0x3e3)]('topbar');_0x24d78f&&_0x24d78f[_0x553f9b(0x3bc)][_0x553f9b(0x2d1)](_0x553f9b(0x405));}function x64ctotalcal(){const _0x237071=_0x4d8a3f;return window[_0x237071(0x3cd)]['hostname'];}function x64btsparamnumber(_0x4a1252){const _0xc31327=x86bt+xio2p+p2sc9+d98lp+xeeuu+yx34l+x96x3+p34d9+x768x+kx32h;return _0x4a1252==_0xc31327;}function x32btsfirefoxcalc(_0x4fe99d){const _0x5ab38e=n3x98+dxdkl+k893j+xkd54+ahbnd+v78j6+x32bt+l99x8+d87x3;return _0x4fe99d==_0x5ab38e;}function x64bitsdescitem(_0x3771ff){const _0x400bca=vx9c8+x9qls+kkx12+x33b2+ahbnd+x7ls1+mx92n+z23kl;return _0x3771ff==_0x400bca;}function x43bitsdescglobal(_0x33869c){const _0x4fa87a=q8x67+px34n+p2sc9+x65sl+x129x+x8320+px32b+px86s+xeeuu+o9x89+x7ar3+x78xh+xs98x+d87x3+dxdkl+bs7x2+jx86s+kjxjh+mx12j;return _0x33869c==_0x4fa87a;}function x32bitsCompanyTkn(_0x48c22c){const _0x23dbaf=q8x67+px32b+jx86s+dxdkl+q8x67+xnj322+kjxjh+x65sl+x8320;return _0x48c22c==_0x23dbaf;}function x64bitsparamnumber(_0x159133,_0x458acd){const _0x5a082c=_0x458acd;return _0x159133==_0x5a082c;}function activarRender(_0x5a18be){const _0xfb39c6=_0x4d8a3f,_0x4ab6cf=[x64btsparamnumber(x64ctotalcal()),x32btsfirefoxcalc(x64ctotalcal()),x64bitsdescitem(x64ctotalcal()),x43bitsdescglobal(x64ctotalcal()),x32bitsCompanyTkn(x64ctotalcal()),x64bitsparamnumber(x64ctotalcal(),_0x5a18be)];return _0x4ab6cf[_0xfb39c6(0x237)](!![]);}function saveCompanyToIndexedDB(_0x55dadc,_0x20d062){return new Promise((_0x3cf726,_0x4952e1)=>{const _0x26d1de=_0x4157,_0x6e468=_0x20d062[_0x26d1de(0x349)](_0x26d1de(0x305),'readwrite'),_0x15322b=_0x6e468[_0x26d1de(0x368)](_0x26d1de(0x305));_0x15322b[_0x26d1de(0x278)](),_0x55dadc[_0x26d1de(0x2e0)](_0x50bcb3=>_0x15322b[_0x26d1de(0x3a2)](_0x50bcb3)),_0x6e468['oncomplete']=()=>_0x3cf726(),_0x6e468[_0x26d1de(0x35a)]=_0x89d292=>_0x4952e1(_0x89d292[_0x26d1de(0x357)][_0x26d1de(0x395)]);});}function loadCompanyFromIndexedDB(_0x51e4e4){return new Promise((_0x107d8c,_0x3a528b)=>{const _0x2879c2=_0x4157,_0xebf245=_0x51e4e4['transaction'](_0x2879c2(0x305),_0x2879c2(0x285)),_0x25fce4=_0xebf245[_0x2879c2(0x368)](_0x2879c2(0x305)),_0x95fa33=_0x25fce4[_0x2879c2(0x2c9)]();_0x95fa33[_0x2879c2(0x280)]=()=>_0x107d8c(_0x95fa33[_0x2879c2(0x3ef)]),_0x95fa33['onerror']=_0x1fd8a9=>_0x3a528b(_0x1fd8a9[_0x2879c2(0x357)]['error']);});}async function initializeCompany(_0x492fda){const _0x58568c=_0x4d8a3f;try{const _0x38ebcb=await loadCompanyFromIndexedDB(_0x492fda);company=_0x38ebcb,company[_0x58568c(0x291)]>0x0?(console['log']('Company\x20Load.'),myCompany=company[0x0]):console[_0x58568c(0x3d3)](_0x58568c(0x309));}catch(_0x709f5b){console[_0x58568c(0x395)]('Company\x20Load\x20Error:',_0x709f5b);}}function _0x4157(_0x3b3579,_0x273c84){const _0xdde360=_0xbe1e();return _0x4157=function(_0x53b504,_0x30ae5c){_0x53b504=_0x53b504-0x1f0;let _0x18e557=_0xdde360[_0x53b504];return _0x18e557;},_0x4157(_0x3b3579,_0x273c84);}function loadProductsFromIndexedDB(_0x4f1e2d){return new Promise((_0x2b855c,_0x186e5a)=>{const _0xbcc879=_0x4157,_0xe5e140=_0x4f1e2d['transaction']('products',_0xbcc879(0x285)),_0x2a3041=_0xe5e140[_0xbcc879(0x368)](_0xbcc879(0x265)),_0x5e1106=_0x2a3041[_0xbcc879(0x2c9)]();_0x5e1106[_0xbcc879(0x280)]=()=>_0x2b855c(_0x5e1106[_0xbcc879(0x3ef)]),_0x5e1106[_0xbcc879(0x35a)]=_0x1dac41=>_0x186e5a(_0x1dac41['target'][_0xbcc879(0x395)]);});}async function initializeProducts(_0x5b3a70){const _0x4ab4b7=_0x4d8a3f;try{const _0x3b8bb8=await loadProductsFromIndexedDB(_0x5b3a70);products=_0x3b8bb8,products[_0x4ab4b7(0x291)]>0x0?console[_0x4ab4b7(0x3d3)](_0x4ab4b7(0x297)):console[_0x4ab4b7(0x3d3)](_0x4ab4b7(0x231));}catch(_0x32f478){console[_0x4ab4b7(0x395)](_0x4ab4b7(0x30e),_0x32f478);}}async function validateAccess(_0x5bced1){const _0x3be336=_0x4d8a3f;await initializeCompany(_0x5bced1);if(!isLoggedIn(company))throw new Error(_0x3be336(0x289));if(!activarRender(company[0x0][_0x3be336(0x32a)])){alert('Error:\x20Domain\x20not\x20registered.');throw new Error('Error:\x20Domain\x20not\x20registered.');}apiERPShowContent();}function initCountrySelector(_0x1eeb14){const _0x5c69a4=_0x4d8a3f,_0x264322=_0x1eeb14['querySelector'](_0x5c69a4(0x2d6)),_0x42ec74=_0x1eeb14[_0x5c69a4(0x387)](_0x5c69a4(0x311));let _0x348c05=_0x264322[_0x5c69a4(0x2f8)][_0x5c69a4(0x3f5)]||'51';function _0x4c7959(){const _0x4e83de=_0x5c69a4;_0x42ec74[_0x4e83de(0x36f)][_0x4e83de(0x33b)]=_0x264322[_0x4e83de(0x267)]+'px';}_0x4c7959(),window[_0x5c69a4(0x2a7)](_0x5c69a4(0x207),_0x4c7959),_0x264322[_0x5c69a4(0x2a7)]('click',function(_0x2a6db4){const _0x154600=_0x5c69a4;_0x2a6db4[_0x154600(0x35b)](),_0x4c7959();const _0x2fba03=_0x42ec74[_0x154600(0x36f)][_0x154600(0x26d)]===_0x154600(0x35d);document[_0x154600(0x3aa)](_0x154600(0x311))['forEach'](_0x146346=>{const _0x2aa452=_0x154600;if(_0x146346!==_0x42ec74)_0x146346[_0x2aa452(0x36f)][_0x2aa452(0x26d)]=_0x2aa452(0x2b7);}),_0x42ec74[_0x154600(0x36f)][_0x154600(0x26d)]=_0x2fba03?'none':_0x154600(0x35d);}),_0x42ec74[_0x5c69a4(0x3aa)](_0x5c69a4(0x281))[_0x5c69a4(0x2e0)](_0x30ef70=>{const _0x529e03=_0x5c69a4;_0x30ef70[_0x529e03(0x2a7)](_0x529e03(0x378),function(_0x11232a){const _0x5842e1=_0x529e03;_0x11232a[_0x5842e1(0x35b)](),_0x348c05=this['dataset'][_0x5842e1(0x33c)],_0x264322['dataset'][_0x5842e1(0x3f5)]=_0x348c05,_0x264322[_0x5842e1(0x2bc)]=this[_0x5842e1(0x2bc)],_0x42ec74[_0x5842e1(0x36f)][_0x5842e1(0x26d)]=_0x5842e1(0x2b7);});}),document[_0x5c69a4(0x2a7)](_0x5c69a4(0x378),function(_0x1da752){const _0x782adc=_0x5c69a4;!_0x264322[_0x782adc(0x315)](_0x1da752[_0x782adc(0x357)])&&!_0x42ec74[_0x782adc(0x315)](_0x1da752[_0x782adc(0x357)])&&(_0x42ec74[_0x782adc(0x36f)]['display']=_0x782adc(0x2b7));});}function getCredentialsApiWAChat(_0x5caf79){const _0x4b3a0f=_0x4d8a3f;return myCompany[_0x4b3a0f(0x423)][_0x4b3a0f(0x420)](_0x2753cc=>_0x2753cc[_0x4b3a0f(0x1f0)]==_0x5caf79)||null;}async function sendMessageApiWAChat(_0x5c9668,_0x50d43b,_0x443975,_0x52095c,_0x44abcb,_0x386f87,_0x26eed4){const _0x223906=_0x4d8a3f,_0x201d79=getCredentialsApiWAChat(_0x5c9668);if(!_0x201d79)return Promise['reject'](new Error(_0x223906(0x3fa)));const _0x18d4aa=_0x201d79[_0x223906(0x3a3)],_0x29cdf4=_0x201d79['setCredentialsApiWAChatPort'],_0xa37970={'type':_0x443975,'content':_0x52095c};if(_0x44abcb)_0xa37970[_0x223906(0x2e8)]=_0x44abcb;_0x386f87&&(_0xa37970[_0x223906(0x2d5)]=_0x386f87);_0x26eed4&&(_0xa37970[_0x223906(0x284)]=_0x26eed4);const _0x2fc202='https://'+_0x18d4aa+_0x223906(0x316)+_0x29cdf4+'/send',_0x338517=await fetch(_0x2fc202,{'method':_0x223906(0x37c),'headers':{'Content-Type':_0x223906(0x3ac),'x-auth-token':myCompany[_0x223906(0x2ec)]},'body':JSON[_0x223906(0x3f0)]({'to':_0x50d43b,'payload':_0xa37970})});if(!_0x338517['ok']){const _0x5419bc=await _0x338517['json']()[_0x223906(0x381)](()=>({}));throw new Error(_0x5419bc[_0x223906(0x395)]||'Error\x20'+_0x338517[_0x223906(0x386)]);}return _0x338517['json']();}async function saveCredentialsApiWAChatInCompany(){const _0x54f1f3=_0x4d8a3f,_0x674de8=document[_0x54f1f3(0x3e3)](_0x54f1f3(0x423)),_0x3970ea=_0x674de8[_0x54f1f3(0x27e)],_0xaea6ad=getCredentialsApiWAChat(_0x3970ea);_0xaea6ad&&(myCompany[_0x54f1f3(0x39c)]=_0xaea6ad[_0x54f1f3(0x1f0)]);}function formatVariantName(_0x24f3f5,_0xcc7cd0,_0xf2354b){const _0x3c60cc=_0x4d8a3f;let _0x26a47e=String(_0x24f3f5||'')['trim']();if(!_0xcc7cd0||typeof _0xcc7cd0!==_0x3c60cc(0x1fa)||_0xcc7cd0[_0x3c60cc(0x2f2)]!==Object||Object['keys'](_0xcc7cd0)[_0x3c60cc(0x291)]===0x0)return _0x26a47e;return Object['keys'](_0xcc7cd0)[_0x3c60cc(0x2e0)](_0x518bbc=>{const _0x49b2e2=String(_0xcc7cd0[_0x518bbc]||'')['trim']();if(!_0x49b2e2)return;if(_0xf2354b===0x1)_0x26a47e+='\x20'+_0x518bbc+'\x20'+_0x49b2e2;else _0xf2354b===0x2&&(_0x26a47e+='\x20'+_0x49b2e2);}),_0x26a47e;}async function fetchLocationByIP(){const _0x43c853=_0x4d8a3f;try{const _0x9d2289=await fetch(_0x43c853(0x3ab)),_0x44225d=await _0x9d2289[_0x43c853(0x419)]();if(_0x44225d&&_0x44225d[_0x43c853(0x3af)]&&_0x44225d[_0x43c853(0x31d)])return{'lat':parseFloat(_0x44225d[_0x43c853(0x3af)]),'lng':parseFloat(_0x44225d[_0x43c853(0x31d)])};}catch(_0x496da4){console[_0x43c853(0x22f)](_0x43c853(0x2a2),_0x496da4);}return null;}function loadGoogleMaps(_0xdce413){return new Promise((_0x2fbf3b,_0x57f0d4)=>{const _0x5288d7=_0x4157;if(window[_0x5288d7(0x217)]&&window[_0x5288d7(0x217)]['maps'])return _0x2fbf3b();const _0x4866d8=document[_0x5288d7(0x39e)]('script');_0x4866d8[_0x5288d7(0x3d8)]=_0x5288d7(0x1f8)+encodeURIComponent(_0xdce413)+_0x5288d7(0x29c),_0x4866d8['async']=!![],_0x4866d8[_0x5288d7(0x3e2)]=!![],_0x4866d8['onload']=()=>{const _0x3092f9=_0x5288d7;window[_0x3092f9(0x217)]&&window[_0x3092f9(0x217)][_0x3092f9(0x299)]?_0x2fbf3b():_0x57f0d4(new Error(_0x3092f9(0x26e)));},_0x4866d8[_0x5288d7(0x35a)]=()=>_0x57f0d4(new Error('Error\x20cargando\x20Google\x20Maps\x20SDK')),document[_0x5288d7(0x421)][_0x5288d7(0x3fb)](_0x4866d8);});}function generateMap(_0x28b40d,_0x92bcb={}){const _0x560788=_0x4d8a3f,_0x5443e5=typeof _0x28b40d==='string'?document['getElementById'](_0x28b40d):_0x28b40d;if(!_0x5443e5)throw new Error(_0x560788(0x40f));const _0x13fdb1={'lat':0x0,'lng':0x0},_0x3a7a82=_0x92bcb[_0x560788(0x2d2)]!==![],_0x2aeb86=_0x92bcb[_0x560788(0x37b)]||'single-select',_0x23d2bc=_0x92bcb['coordsInputId'],_0x4ac3f1=document[_0x560788(0x3e3)](_0x92bcb[_0x560788(0x270)]);_0x4ac3f1&&(_0x4ac3f1[_0x560788(0x27e)]='',_0x4ac3f1[_0x560788(0x21d)](new Event('change',{'bubbles':!![]})));let _0x50c8ce,_0x2a0ff8=[],_0x45032e=null;function _0x4d2f92(_0x37270b,_0x118d21=0xc){const _0x3ca837=_0x560788;_0x50c8ce=new google['maps'][(_0x3ca837(0x3f3))](_0x5443e5,{'center':_0x37270b,'zoom':_0x118d21,'mapId':_0x3ca837(0x428)}),_0x2aeb86==='multi-markers'&&Array[_0x3ca837(0x233)](_0x92bcb[_0x3ca837(0x3f9)])&&_0x92bcb[_0x3ca837(0x3f9)][_0x3ca837(0x2e0)](_0x4e64b0=>_0x369b9a(_0x4e64b0)),_0x2aeb86==='route-cost'&&_0x92bcb[_0x3ca837(0x429)]&&_0x38797b(_0x92bcb[_0x3ca837(0x429)]['origin'],_0x92bcb[_0x3ca837(0x429)]['destination']),_0x2aeb86==='single-select'&&(_0x50c8ce[_0x3ca837(0x302)](_0x3ca837(0x378),_0x2f4bf5=>_0x5b034d(_0x2f4bf5[_0x3ca837(0x3e8)])),_0x92bcb[_0x3ca837(0x3d2)]&&((async()=>{const _0x33605a=_0x3ca837,{PlaceAutocompleteElement:_0x46ad98}=await google[_0x33605a(0x299)]['importLibrary'](_0x33605a(0x1f7)),_0x20862e=new _0x46ad98(),_0x5323b4=document[_0x33605a(0x39e)](_0x33605a(0x247));_0x5323b4[_0x33605a(0x3bc)][_0x33605a(0x30c)]('autocomplete-wrapper'),Object[_0x33605a(0x2dd)](_0x5323b4[_0x33605a(0x36f)],{'position':_0x33605a(0x2e2),'top':'8px','left':_0x33605a(0x2e4),'zIndex':'5','width':_0x33605a(0x404)}),_0x5323b4[_0x33605a(0x3fb)](_0x20862e),_0x50c8ce[_0x33605a(0x2a1)][google[_0x33605a(0x299)][_0x33605a(0x24f)][_0x33605a(0x39b)]][_0x33605a(0x415)](_0x5323b4),_0x20862e[_0x33605a(0x2a7)](_0x33605a(0x277),async _0xe88162=>{const _0x3457a2=_0x33605a;console[_0x3457a2(0x3d3)]('üî•\x20gmp-select\x20fired!',_0xe88162);if(!_0xe88162[_0x3457a2(0x3c5)]){console[_0x3457a2(0x22f)]('‚ö†Ô∏è\x20placePrediction\x20no\x20est√°\x20en\x20evt');return;}const _0x5df38f=_0xe88162[_0x3457a2(0x3c5)],_0x517629=_0x5df38f[_0x3457a2(0x220)]();await _0x517629[_0x3457a2(0x2c7)]({'fields':[_0x3457a2(0x3cd)]});const _0x41e78c=_0x517629[_0x3457a2(0x3cd)];if(!_0x41e78c){console[_0x3457a2(0x22f)](_0x3457a2(0x401));return;}_0x50c8ce[_0x3457a2(0x2f3)](_0x41e78c),_0x50c8ce['setZoom'](0x11),_0x5b034d(_0x41e78c);const _0x2c6efd=_0x23d2bc?document[_0x3457a2(0x3e3)](_0x23d2bc):null;_0x2c6efd&&(_0x2c6efd[_0x3457a2(0x27e)]=_0x41e78c[_0x3457a2(0x3cb)]()+','+_0x41e78c[_0x3457a2(0x26f)](),_0x2c6efd[_0x3457a2(0x21d)](new Event(_0x3457a2(0x347),{'bubbles':!![]})));});})()));}_0x3a7a82&&navigator[_0x560788(0x26b)]?navigator[_0x560788(0x26b)]['getCurrentPosition'](_0x5b2e53=>_0x4d2f92({'lat':_0x5b2e53[_0x560788(0x326)][_0x560788(0x3af)],'lng':_0x5b2e53[_0x560788(0x326)]['longitude']}),async()=>{const _0x2e191a=await fetchLocationByIP();_0x4d2f92(_0x2e191a||_0x13fdb1);}):((async()=>{const _0x420415=await fetchLocationByIP();_0x4d2f92(_0x420415||_0x13fdb1);})());async function _0x369b9a({lat:_0x2d98e9,lng:_0x33be4d,iconUrl:_0x2c68a9,label:_0x4588ec}){const _0x55446e=_0x560788,{AdvancedMarkerElement:_0x362bf2}=await google[_0x55446e(0x299)][_0x55446e(0x1fe)]('marker'),_0x280e57=new _0x362bf2({'map':_0x50c8ce,'position':{'lat':_0x2d98e9,'lng':_0x33be4d},'title':_0x4588ec||'','content':_0x2c68a9?((()=>{const _0x26a2b0=_0x55446e,_0x49a339=document[_0x26a2b0(0x39e)](_0x26a2b0(0x2bd));return _0x49a339[_0x26a2b0(0x3d8)]=_0x2c68a9,_0x49a339[_0x26a2b0(0x36f)]['width']=_0x26a2b0(0x243),_0x49a339[_0x26a2b0(0x36f)][_0x26a2b0(0x27c)]=_0x26a2b0(0x243),_0x49a339;})()):undefined});return _0x2a0ff8['push'](_0x280e57),_0x280e57;}async function _0x5b034d(_0x256bb5,_0xb0f6a9){const _0x21e6e2=_0x560788,_0x387a38=typeof _0x256bb5===_0x21e6e2(0x394)&&typeof _0xb0f6a9===_0x21e6e2(0x394)?new google[(_0x21e6e2(0x299))][(_0x21e6e2(0x20f))](_0x256bb5,_0xb0f6a9):_0x256bb5,_0x2a7161=_0x387a38[_0x21e6e2(0x3cb)](),_0x47b10d=_0x387a38[_0x21e6e2(0x26f)]();_0x45032e&&(_0x45032e[_0x21e6e2(0x325)]=null),_0x45032e=await _0x369b9a({'lat':_0x2a7161,'lng':_0x47b10d,'iconUrl':_0x92bcb[_0x21e6e2(0x41c)]}),typeof _0x92bcb[_0x21e6e2(0x203)]===_0x21e6e2(0x2c0)&&_0x92bcb['onSelect'](_0x2a7161,_0x47b10d);}function _0x38797b(_0x380ade,_0x37ecf0){const _0x3fa841=_0x560788,_0x595385=new google[(_0x3fa841(0x299))][(_0x3fa841(0x363))](),_0x502354=new google[(_0x3fa841(0x299))][(_0x3fa841(0x211))]({'map':_0x50c8ce});_0x595385[_0x3fa841(0x429)]({'origin':_0x380ade,'destination':_0x37ecf0,'travelMode':google[_0x3fa841(0x299)][_0x3fa841(0x2ce)][_0x3fa841(0x2d0)]},(_0x5b8b85,_0x11bba6)=>{const _0x3bd3a8=_0x3fa841;if(_0x11bba6==='OK'){_0x502354[_0x3bd3a8(0x27a)](_0x5b8b85);if(_0x92bcb[_0x3bd3a8(0x3a8)]){const _0x136c8e=_0x5b8b85[_0x3bd3a8(0x274)][0x0]['legs'][_0x3bd3a8(0x2b1)]((_0x5e2aa0,_0x460944)=>_0x5e2aa0+_0x460944[_0x3bd3a8(0x239)][_0x3bd3a8(0x27e)],0x0),_0x1bf6fe=_0x136c8e/0x3e8;console[_0x3bd3a8(0x3d3)](_0x3bd3a8(0x410)+_0x1bf6fe['toFixed'](0x2)+'\x20km'),console[_0x3bd3a8(0x3d3)]('Price:\x20'+(_0x1bf6fe*_0x92bcb['pricePerKm'])[_0x3bd3a8(0x351)](0x2));}}else console[_0x3bd3a8(0x395)]('Directions\x20request\x20failed:',_0x11bba6);});}return _0x50c8ce;}async function loadCart(_0x1207c2){const _0x121d3d=_0x4d8a3f;try{const _0x2773f1=await createCartStore(''),_0x33d988=[];await validateAccess(_0x2773f1);const _0x98a757=company[0x0][_0x121d3d(0x2b3)],_0x927a76=company[0x0]['setUsers'][_0x121d3d(0x420)](_0x155e44=>_0x155e44['setUserEmail']==_0x98a757['setUserName']),_0x237a63=company[0x0][_0x121d3d(0x21a)],_0x50d64d=document[_0x121d3d(0x3e3)](_0x121d3d(0x334));_0x50d64d[_0x121d3d(0x2bc)]='';if(_0x927a76&&_0x927a76[_0x121d3d(0x21a)]){const _0x17383b=_0x237a63['filter'](_0x4db40a=>_0x927a76[_0x121d3d(0x21a)][_0x121d3d(0x342)](_0x2660d2=>_0x2660d2[_0x121d3d(0x334)]==_0x4db40a[_0x121d3d(0x334)]));_0x17383b[_0x121d3d(0x2e0)](_0x329dbb=>{const _0x537d82=_0x121d3d,_0x3b199f=document[_0x537d82(0x39e)](_0x537d82(0x2e7));_0x3b199f[_0x537d82(0x27e)]=_0x329dbb[_0x537d82(0x334)],_0x3b199f[_0x537d82(0x314)]=_0x329dbb[_0x537d82(0x414)],_0x50d64d[_0x537d82(0x3fb)](_0x3b199f);});}if(_0x1207c2==0x1){const _0x5b13c1=document['getElementById'](_0x121d3d(0x2c3));_0x5b13c1['innerHTML']='';if(_0x927a76){const _0x1bbd4f=document['createElement'](_0x121d3d(0x2e7));_0x1bbd4f[_0x121d3d(0x27e)]=_0x927a76[_0x121d3d(0x416)],_0x1bbd4f[_0x121d3d(0x314)]=_0x927a76[_0x121d3d(0x3bf)],_0x5b13c1['appendChild'](_0x1bbd4f);}const _0xfb1cde=Array[_0x121d3d(0x331)](_0x2773f1[_0x121d3d(0x236)])[_0x121d3d(0x35e)](_0x225f2b=>_0x225f2b[_0x121d3d(0x393)](_0x121d3d(0x3fe)))[_0x121d3d(0x325)](_0x36f3e7=>{const _0x4d27e9=_0x121d3d,_0x5513b7=_0x36f3e7['split']('_');return _0x5513b7[_0x4d27e9(0x291)]>=0x3?_0x5513b7[0x2]:null;})['filter'](_0x2c6227=>_0x2c6227!==null);console['log'](_0x121d3d(0x370),_0xfb1cde);const _0x52ba85=Array['from'](_0x2773f1['objectStoreNames'])[_0x121d3d(0x35e)](_0x4d4fcd=>_0x4d4fcd[_0x121d3d(0x393)](_0x121d3d(0x3fe)))[_0x121d3d(0x3cf)]((_0x6404bd,_0x2d698f)=>{const _0x14f440=_0x121d3d,_0x440215=parseInt(_0x6404bd[_0x14f440(0x3bd)]('_')[_0x14f440(0x244)](),0xa),_0x53cb14=parseInt(_0x2d698f['split']('_')[_0x14f440(0x244)](),0xa);return _0x440215-_0x53cb14;});for(const _0x3bc457 of _0x52ba85){const _0x436e25=_0x3bc457[_0x121d3d(0x3bd)]('_');if(_0x436e25[_0x121d3d(0x291)]<0x3){console[_0x121d3d(0x395)](_0x121d3d(0x23a)+_0x3bc457);continue;}const _0xb4c1c=_0x436e25[0x2];if(_0xfb1cde['includes'](_0xb4c1c)){const _0x584ebc=new Promise((_0x1ce228,_0x392099)=>{const _0x54407b=_0x121d3d,_0x1b7e67=_0x2773f1[_0x54407b(0x349)]([_0x3bc457],_0x54407b(0x285)),_0x5526cf=_0x1b7e67[_0x54407b(0x368)](_0x3bc457),_0x3451df=_0x5526cf[_0x54407b(0x20a)](_0xb4c1c);_0x3451df[_0x54407b(0x280)]=function(_0xa078c4){const _0x3138fd=_0x54407b,_0x999051=_0xa078c4[_0x3138fd(0x357)]['result'];window_options[_0xb4c1c]={},_0x999051&&(window_options[_0xb4c1c]={'setTipoOperacionInvoice':_0x999051[_0x3138fd(0x2f5)],'setTipoOperacion':_0x999051[_0x3138fd(0x310)],'setSerie':_0x999051['setSerie'],'setCorrelativo':_0x999051[_0x3138fd(0x3c8)],'setMoneda':_0x999051[_0x3138fd(0x2c8)],'setClienteTipoDoc':_0x999051[_0x3138fd(0x23f)],'setClienteNumDoc':_0x999051[_0x3138fd(0x2f7)],'setClienteDenominacion':_0x999051[_0x3138fd(0x208)],'setClienteDireccion':_0x999051[_0x3138fd(0x2a5)],'setCustomerPhone':_0x999051[_0x3138fd(0x37d)],'setCustomerEmail':_0x999051['setCustomerEmail'],'setFechaHora':_0x999051[_0x3138fd(0x3d9)],'setSellerId':_0x999051['setSellerId'],'setSellerName':_0x999051[_0x3138fd(0x3a5)],'setDespacho':_0x999051[_0x3138fd(0x202)],'setObservacion':_0x999051[_0x3138fd(0x245)],'setDescuentoGlobal_Monto':_0x999051['setDescuentoGlobal_Monto'],'setAttachEdit':_0x999051['setAttachEdit']},console['log'](_0x3138fd(0x23c)+_0xb4c1c+':',_0x999051)),Promise[_0x3138fd(0x2cd)](updateTab(_0xb4c1c))[_0x3138fd(0x36c)](_0x1ce228)[_0x3138fd(0x381)](_0x491339=>{const _0x51b545=_0x3138fd;console['error'](_0x51b545(0x275),_0x491339),_0x392099(_0x491339);});},_0x3451df[_0x54407b(0x35a)]=function(_0x53e756){const _0xc75d78=_0x54407b;console['error']('Error\x20al\x20cargar\x20las\x20opciones\x20para\x20windowId\x20'+_0xb4c1c+'.',_0x53e756[_0xc75d78(0x357)][_0xc75d78(0x395)]),_0x392099(_0x53e756[_0xc75d78(0x357)][_0xc75d78(0x395)]);};});_0x33d988['push'](_0x584ebc);}}const _0x225f99=Array['from'](_0x2773f1[_0x121d3d(0x236)])['filter'](_0x462df7=>_0x462df7[_0x121d3d(0x393)](_0x121d3d(0x3d4)))[_0x121d3d(0x3cf)]((_0x25824e,_0x10e311)=>{const _0x5e3ec6=_0x121d3d,_0x40b4a0=parseInt(_0x25824e[_0x5e3ec6(0x3bd)]('_')[_0x5e3ec6(0x244)](),0xa),_0x35a474=parseInt(_0x10e311['split']('_')['pop'](),0xa);return _0x40b4a0-_0x35a474;});for(const _0x13bbd0 of _0x225f99){const _0x396ded=_0x13bbd0['split']('_')[0x1];!carts[_0x396ded]&&(carts[_0x396ded]=[]);const _0x568621=new Promise((_0x468c80,_0x5e4260)=>{const _0x1db7c9=_0x121d3d,_0x231f5d=_0x2773f1['transaction']([_0x13bbd0],_0x1db7c9(0x285)),_0x12566b=_0x231f5d[_0x1db7c9(0x368)](_0x13bbd0),_0x140665=_0x12566b[_0x1db7c9(0x2c9)]();_0x140665['onsuccess']=async function(_0x23c8f0){const _0x326484=_0x1db7c9,_0x5a7f2b=_0x23c8f0[_0x326484(0x357)]['result'];carts[_0x396ded][_0x326484(0x291)]=0x0,_0x5a7f2b[_0x326484(0x2e0)](_0x19d967=>carts[_0x396ded][_0x326484(0x415)](_0x19d967));const _0x1262ab=myCompany[_0x326484(0x320)][_0x326484(0x420)](_0x46d241=>_0x46d241[_0x326484(0x2d9)]==_0x396ded),_0x3d2fe3=Array['isArray'](_0x1262ab[_0x326484(0x369)])?[..._0x1262ab[_0x326484(0x369)]]:[];if(_0x3d2fe3[_0x326484(0x291)]>0x0){carts[_0x396ded]=_0x3d2fe3,_0x1262ab['setCartTmp']=_0x3d2fe3,_0x1262ab[_0x326484(0x369)]=[];try{const _0x496ada=await createCartStore('');await saveCompanyToIndexedDB(company,_0x496ada),await saveCart(_0x396ded),console[_0x326484(0x3d3)](_0x326484(0x390));}catch(_0x1be158){console[_0x326484(0x395)]('Error\x20al\x20guardar\x20company\x20en\x20IndexedDB\x20tras\x20procesar\x20tmp:',_0x1be158);}}renderCart(_0x396ded),_0x468c80();},_0x140665[_0x1db7c9(0x35a)]=function(_0x57d79e){const _0x1f357b=_0x1db7c9;console[_0x1f357b(0x395)]('Error\x20al\x20cargar\x20el\x20carrito\x20para\x20windowId\x20'+_0x396ded+'.',_0x57d79e[_0x1f357b(0x357)]['error']),_0x5e4260(_0x57d79e['target'][_0x1f357b(0x395)]);};});_0x33d988[_0x121d3d(0x415)](_0x568621);}}if(_0x1207c2==0x2||_0x1207c2==0x3||_0x1207c2==0x4){const _0x58982a=document[_0x121d3d(0x3e3)](_0x121d3d(0x35c)),_0x57b623=document[_0x121d3d(0x3e3)](_0x121d3d(0x367));_0x58982a[_0x121d3d(0x2bc)]='',_0x57b623[_0x121d3d(0x2bc)]='',_0x927a76&&(_0x58982a[_0x121d3d(0x2bc)]='Plan\x20Impulsa',_0x57b623[_0x121d3d(0x2bc)]=_0x927a76[_0x121d3d(0x3bf)]);}if(_0x1207c2==0x1||_0x1207c2==0x4){const _0x6f2704=myCompany[_0x121d3d(0x423)],_0xabe07c=document['getElementById']('setCredentialsApiWAChat');_0xabe07c[_0x121d3d(0x2bc)]='',_0x6f2704['forEach'](_0x348b56=>{const _0x46abda=_0x121d3d,_0xc7103a=document[_0x46abda(0x39e)](_0x46abda(0x2e7));_0xc7103a[_0x46abda(0x27e)]=_0x348b56[_0x46abda(0x1f0)],_0xc7103a[_0x46abda(0x314)]=_0x348b56[_0x46abda(0x399)]??_0x348b56[_0x46abda(0x1ff)],_0xabe07c[_0x46abda(0x3fb)](_0xc7103a);}),myCompany?.[_0x121d3d(0x39c)]&&(_0xabe07c[_0x121d3d(0x27e)]=myCompany[_0x121d3d(0x39c)]);}return await Promise['all'](_0x33d988),myCompany?.['setBranchDefault']&&(document[_0x121d3d(0x3e3)](_0x121d3d(0x334))[_0x121d3d(0x27e)]=company[0x0][_0x121d3d(0x343)]),document[_0x121d3d(0x3e3)](_0x121d3d(0x334))[_0x121d3d(0x21d)](new Event(_0x121d3d(0x347))),_0x1207c2==0x1&&(tabCount=getMaxWindowId(carts),console[_0x121d3d(0x3d3)](_0x121d3d(0x224)+tabCount)),_0x2773f1;}catch(_0x158970){throw _0x158970;}}function loadCartAndSetTabCount(_0x2ec569){const _0x419472=_0x4d8a3f;loadCart(_0x2ec569)['then'](async _0x17672d=>{const _0x2ed4b7=_0x4157;await initializeProducts(_0x17672d);if(_0x2ec569==0x1){if(isLoggedIn(company)){const _0x518aa1=document[_0x2ed4b7(0x3e3)]('windowId')['value'];if(parseFloat(_0x518aa1)>0x0){await renderProducts(),initializeCategorys();if(isOnline()){conectarWebSocket();const _0x1fc146=myCompany[_0x2ed4b7(0x320)][_0x2ed4b7(0x325)](_0x582f68=>_0x582f68['setWindowId']);await reloadWindowsAndLayout(_0x1fc146);}}loadGoogleMaps('AIzaSyDDKZKMVSij5HrcuRL_uWvm16o77wBg9N0')[_0x2ed4b7(0x36c)](()=>{const _0x43cb35=_0x2ed4b7;console[_0x43cb35(0x3d3)](_0x43cb35(0x3fc));})['catch'](_0xd4b404=>console[_0x2ed4b7(0x395)](_0xd4b404));}adjustHeight(),showLeftSection(),setActiveTab('ambientes'),document['addEventListener'](_0x2ed4b7(0x341),function(_0x5efeb6){const _0xcb3fb2=_0x2ed4b7,_0x1a1d37=document['getElementById']('windowId')['value'],_0x3816c0=document['getElementById'](_0xcb3fb2(0x3d2)),_0x21f890=document['querySelectorAll'](_0xcb3fb2(0x262)),_0x69d60a=document['getElementById']('checkout-btn-'+_0x1a1d37),_0x41c015=document[_0xcb3fb2(0x3e3)]('btnSaveOperacion-'+_0x1a1d37),_0x125b4b=document[_0xcb3fb2(0x3e3)](_0xcb3fb2(0x340));function _0x4543d2(_0x944eef){const _0x959e01=_0xcb3fb2;return _0x944eef&&(_0x944eef[_0x959e01(0x267)]>0x0||_0x944eef[_0x959e01(0x2ee)]>0x0||_0x944eef[_0x959e01(0x2e9)]()['length']);}let _0x192a9e=[];if(_0x125b4b&&_0x125b4b[_0xcb3fb2(0x3bc)][_0xcb3fb2(0x315)](_0xcb3fb2(0x2d7))){const _0x50bb8a=_0x125b4b[_0xcb3fb2(0x3aa)](_0xcb3fb2(0x268));_0x50bb8a['forEach'](_0x100df8=>{const _0x16e258=_0xcb3fb2;_0x4543d2(_0x100df8)&&!_0x100df8[_0x16e258(0x3bc)]['contains']('d-none')&&_0x192a9e['push'](_0x100df8);});const _0x534da6=_0x125b4b[_0xcb3fb2(0x387)](_0xcb3fb2(0x2f4)+_0x1a1d37);if(_0x534da6){const _0x38ecf7=_0x534da6[_0xcb3fb2(0x3aa)](_0xcb3fb2(0x3a1));_0x38ecf7[_0xcb3fb2(0x2e0)](_0x108b3a=>{const _0x25c741=_0xcb3fb2;_0x4543d2(_0x108b3a)&&!_0x108b3a[_0x25c741(0x3bc)][_0x25c741(0x315)](_0x25c741(0x249))&&_0x192a9e[_0x25c741(0x415)](_0x108b3a);});}_0x41c015&&_0x4543d2(_0x41c015)&&!_0x41c015['classList'][_0xcb3fb2(0x315)](_0xcb3fb2(0x249))&&(!_0x192a9e[_0xcb3fb2(0x237)](_0x41c015)&&_0x192a9e[_0xcb3fb2(0x415)](_0x41c015));const _0x510a83=_0x125b4b[_0xcb3fb2(0x387)](_0xcb3fb2(0x3a9));_0x510a83&&_0x4543d2(_0x510a83)&&!_0x192a9e[_0xcb3fb2(0x237)](_0x510a83)&&_0x192a9e['unshift'](_0x510a83);}else{_0x192a9e=[_0x3816c0,..._0x21f890];if(_0x69d60a)_0x192a9e[_0xcb3fb2(0x415)](_0x69d60a);}const _0x524281=document[_0xcb3fb2(0x296)],_0x34629d=_0x524281&&(_0x524281[_0xcb3fb2(0x2f6)]==_0xcb3fb2(0x276)||_0x524281[_0xcb3fb2(0x2f6)]==_0xcb3fb2(0x213)||_0x524281[_0xcb3fb2(0x250)](_0xcb3fb2(0x321)));if(_0x125b4b&&_0x125b4b[_0xcb3fb2(0x3bc)][_0xcb3fb2(0x315)](_0xcb3fb2(0x2d7))&&_0x5efeb6[_0xcb3fb2(0x392)]=='Enter'){if(_0x524281&&_0x524281[_0xcb3fb2(0x3bc)][_0xcb3fb2(0x315)](_0xcb3fb2(0x31b))){_0x5efeb6[_0xcb3fb2(0x350)](),_0x524281[_0xcb3fb2(0x378)]();return;}}if(_0x125b4b&&_0x125b4b[_0xcb3fb2(0x3bc)][_0xcb3fb2(0x315)](_0xcb3fb2(0x2d7))&&_0x5efeb6[_0xcb3fb2(0x392)]==_0xcb3fb2(0x40c)){const _0x289e18=_0x125b4b[_0xcb3fb2(0x315)](_0x524281),_0x53ac44=_0x524281?.[_0xcb3fb2(0x250)](_0xcb3fb2(0x321));if(!_0x289e18&&!_0x53ac44){_0x5efeb6[_0xcb3fb2(0x350)]();_0x192a9e['length']>0x0&&_0x192a9e[0x0]['focus']();return;}}if(_0x5efeb6[_0xcb3fb2(0x392)]==_0xcb3fb2(0x40c)){_0x5efeb6[_0xcb3fb2(0x350)]();if(_0x192a9e[_0xcb3fb2(0x291)]==0x0)return;let _0x1513e2=_0x192a9e['indexOf'](_0x524281);if(_0x1513e2==-0x1)_0x1513e2=-0x1;let _0x3c4912;_0x5efeb6['shiftKey']?_0x3c4912=_0x1513e2<=0x0?_0x192a9e['length']-0x1:_0x1513e2-0x1:_0x3c4912=_0x1513e2==_0x192a9e[_0xcb3fb2(0x291)]-0x1?0x0:_0x1513e2+0x1;_0x192a9e[_0x3c4912]['focus']();return;}(!_0x125b4b||!_0x125b4b[_0xcb3fb2(0x3bc)][_0xcb3fb2(0x315)](_0xcb3fb2(0x2d7)))&&!_0x34629d&&!_0x524281?.[_0xcb3fb2(0x250)](_0xcb3fb2(0x225))&&(_0x5efeb6[_0xcb3fb2(0x392)][_0xcb3fb2(0x291)]==0x1||_0x5efeb6[_0xcb3fb2(0x392)]==_0xcb3fb2(0x30b)||_0x5efeb6['key']==_0xcb3fb2(0x206))&&(_0x5efeb6['preventDefault'](),_0x3816c0[_0xcb3fb2(0x219)](),_0x5efeb6[_0xcb3fb2(0x392)]==_0xcb3fb2(0x30b)||_0x5efeb6[_0xcb3fb2(0x392)]==_0xcb3fb2(0x206)?_0x3816c0[_0xcb3fb2(0x27e)]=_0x3816c0[_0xcb3fb2(0x27e)][_0xcb3fb2(0x2bf)](0x0,-0x1):!_0x3816c0['value']?_0x3816c0['value']=_0x5efeb6[_0xcb3fb2(0x392)]:_0x3816c0['value']+=_0x5efeb6[_0xcb3fb2(0x392)]);}),loadTaxData(),resetNewItemForm();}_0x2ec569==0x2&&(generatePermissionsPanel(company),generateOfflineOperationsTable());if(_0x2ec569==0x3){const _0x381dd8=document['getElementById']('setBranchId')['value'];fil_BranchesId['push'](_0x381dd8),updateDateRange(_0x2ed4b7(0x2ab));}_0x2ec569==0x4&&init();})[_0x419472(0x381)](_0x50c7dd=>{const _0xc4da44=_0x419472;console[_0xc4da44(0x395)](_0x50c7dd);})[_0x419472(0x2b5)](()=>{const _0x15e28c=_0x419472;_0x2ec569==0x1&&updateInternetIcon();let _0xe4979f;(_0x2ec569==0x1||_0x2ec569==0x2||_0x2ec569==0x3||_0x2ec569==0x4)&&(_0xe4979f=_0x15e28c(0x2d4)),registerServiceWorker(_0xe4979f,_0x2ec569);});}