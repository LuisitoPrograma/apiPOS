/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.3
*/

const _0x4a2802=_0x4ac4;(function(_0x2c9d49,_0x5af71a){const _0x6f8a39=_0x4ac4,_0x2c3513=_0x2c9d49();while(!![]){try{const _0x55eafb=parseInt(_0x6f8a39(0x188))/0x1+-parseInt(_0x6f8a39(0x174))/0x2*(-parseInt(_0x6f8a39(0x16d))/0x3)+parseInt(_0x6f8a39(0x162))/0x4+parseInt(_0x6f8a39(0x15d))/0x5+parseInt(_0x6f8a39(0x186))/0x6*(-parseInt(_0x6f8a39(0x170))/0x7)+-parseInt(_0x6f8a39(0x15b))/0x8+-parseInt(_0x6f8a39(0x16f))/0x9*(parseInt(_0x6f8a39(0x178))/0xa);if(_0x55eafb===_0x5af71a)break;else _0x2c3513['push'](_0x2c3513['shift']());}catch(_0x214c30){_0x2c3513['push'](_0x2c3513['shift']());}}}(_0x29c0,0x19ee0));const _0x29cbf3=(function(){let _0x5d7f2c=!![];return function(_0xc34edd,_0x574ef6){const _0x546299=_0x5d7f2c?function(){if(_0x574ef6){const _0x56819a=_0x574ef6['apply'](_0xc34edd,arguments);return _0x574ef6=null,_0x56819a;}}:function(){};return _0x5d7f2c=![],_0x546299;};}()),_0x3999f5=_0x29cbf3(this,function(){const _0x1befe0=_0x4ac4;return _0x3999f5[_0x1befe0(0x172)]()['search'](_0x1befe0(0x189))['toString']()['constructor'](_0x3999f5)[_0x1befe0(0x15c)](_0x1befe0(0x189));});function _0x4ac4(_0x3efc28,_0x3fb3ea){const _0x44c25b=_0x29c0();return _0x4ac4=function(_0x513e4d,_0x429050){_0x513e4d=_0x513e4d-0x156;let _0x4e4ad9=_0x44c25b[_0x513e4d];return _0x4e4ad9;},_0x4ac4(_0x3efc28,_0x3fb3ea);}_0x3999f5();function _0x29c0(){const _0x104100=['setCredentialsApiWAChatStatus','toString','chatPanel','54898mdtSPN','click','value','warn','10KWvSaJ','onload','setCredentialsApiWAChat','status','error','./img/apiPOS.png','exception','src','ya\x20conectado','setCredentialsApiWAChatSubdomain','display','flex','https://','change','858rTHeQf','hidden','206284tZhkUE','(((.+)+)+)+$','then','return\x20(function()\x20','/qr','qr-overlay','.btn-logout','none','setBranchId','addEventListener','json','table','bind','log','toLowerCase','setCredentialsApiWAChatPort','style','loginPanel','1605744pOrgzm','search','618155SVdVlD','{}.constructor(\x22return\x20this\x22)(\x20)','trace','querySelector','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','205052uLTpAQ','setFloorId','dispatchEvent','setWarehouseId','Credenciales\x20no\x20encontradas','getElementById','qr-img','catch','setAuthToken','constructor','length','12eychlI','setBranchDefault','1446651NvXPLj','1141rDQLYL'];_0x29c0=function(){return _0x104100;};return _0x29c0();}const _0x429050=(function(){let _0x5349fe=!![];return function(_0x5bbf9e,_0x5aacc7){const _0x21b35f=_0x5349fe?function(){if(_0x5aacc7){const _0xff1b34=_0x5aacc7['apply'](_0x5bbf9e,arguments);return _0x5aacc7=null,_0xff1b34;}}:function(){};return _0x5349fe=![],_0x21b35f;};}()),_0x513e4d=_0x429050(this,function(){const _0x47b049=_0x4ac4,_0x532f36=function(){const _0x56cd35=_0x4ac4;let _0x533975;try{_0x533975=Function(_0x56cd35(0x18b)+_0x56cd35(0x15e)+');')();}catch(_0x22453d){_0x533975=window;}return _0x533975;},_0x2f1ea9=_0x532f36(),_0xd0fb21=_0x2f1ea9['console']=_0x2f1ea9['console']||{},_0x159346=[_0x47b049(0x156),_0x47b049(0x177),'info','error',_0x47b049(0x17e),_0x47b049(0x193),_0x47b049(0x15f)];for(let _0x40299c=0x0;_0x40299c<_0x159346[_0x47b049(0x16c)];_0x40299c++){const _0x4910ab=_0x429050[_0x47b049(0x16b)]['prototype']['bind'](_0x429050),_0x40b7cf=_0x159346[_0x40299c],_0x184bbf=_0xd0fb21[_0x40b7cf]||_0x4910ab;_0x4910ab['__proto__']=_0x429050[_0x47b049(0x194)](_0x429050),_0x4910ab[_0x47b049(0x172)]=_0x184bbf[_0x47b049(0x172)][_0x47b049(0x194)](_0x184bbf),_0xd0fb21[_0x40b7cf]=_0x4910ab;}});_0x513e4d();const selectCredentialsApiWAChat=document[_0x4a2802(0x167)](_0x4a2802(0x17a)),loginPanel=document[_0x4a2802(0x167)](_0x4a2802(0x15a)),chatPanel=document[_0x4a2802(0x167)](_0x4a2802(0x173)),qrImg=document[_0x4a2802(0x167)](_0x4a2802(0x168)),overlay=document[_0x4a2802(0x167)](_0x4a2802(0x18d));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0xb60b41=_0x4a2802;loginPanel[_0xb60b41(0x159)][_0xb60b41(0x182)]=_0xb60b41(0x183),chatPanel[_0xb60b41(0x159)]['visibility']=_0xb60b41(0x187);}function showChat(){const _0x46648a=_0x4a2802;loginPanel['style'][_0x46648a(0x182)]=_0x46648a(0x18f),chatPanel[_0x46648a(0x159)]['visibility']='visible';}async function displayQR(_0x43ae79){const _0x2cc573=_0x4a2802,_0xc5b608=selectCredentialsApiWAChat[_0x2cc573(0x176)],_0x14e7bc=getCredentialsApiWAChat(_0xc5b608);if(_0x14e7bc){const _0x679b0c=_0x14e7bc[_0x2cc573(0x181)],_0x5c3e41=_0x14e7bc['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay['style'][_0x2cc573(0x182)]='none',qrImg[_0x2cc573(0x17f)]=_0x43ae79,qrTimeout=setTimeout(()=>{const _0xf92788=_0x2cc573;fetch(_0xf92788(0x184)+_0x679b0c+'/wa/'+_0x5c3e41+'/qr',{'headers':{'x-auth-token':myCompany[_0xf92788(0x16a)]}})[_0xf92788(0x18a)](async _0x4ee06d=>_0x4ee06d[_0xf92788(0x192)]())[_0xf92788(0x18a)](async _0x3e4c07=>{const _0x260dd7=_0xf92788;_0x3e4c07[_0x260dd7(0x17b)]&&_0x3e4c07[_0x260dd7(0x17b)][_0x260dd7(0x157)]()['includes'](_0x260dd7(0x180))?(showChat(),_0x14e7bc[_0x260dd7(0x171)]=0x1):(overlay['style'][_0x260dd7(0x182)]=_0x260dd7(0x183),_0x14e7bc[_0x260dd7(0x171)]=0x0);const _0x559aef=await createCartStore('');await saveCompanyToIndexedDB(company,_0x559aef);})['catch'](_0x3b170b=>{const _0x5c6f15=_0xf92788;console[_0x5c6f15(0x17c)](_0x5c6f15(0x161),_0x3b170b),overlay[_0x5c6f15(0x159)][_0x5c6f15(0x182)]=_0x5c6f15(0x183);});},validSeconds*0x3e8);}else ntfShow(_0x2cc573(0x166));}async function init(){const _0x5e8c52=_0x4a2802,_0x3ed1fc=selectCredentialsApiWAChat[_0x5e8c52(0x176)],_0x20c34a=getCredentialsApiWAChat(_0x3ed1fc);if(_0x20c34a){const _0x29cd26=_0x20c34a[_0x5e8c52(0x181)],_0x30bd1e=_0x20c34a[_0x5e8c52(0x158)];fetch(_0x5e8c52(0x184)+_0x29cd26+'/wa/'+_0x30bd1e+_0x5e8c52(0x18c),{'headers':{'x-auth-token':myCompany[_0x5e8c52(0x16a)]}})['then'](async _0x3cc4de=>_0x3cc4de[_0x5e8c52(0x192)]())[_0x5e8c52(0x18a)](async _0x57494b=>{const _0x3992be=_0x5e8c52;if(_0x57494b[_0x3992be(0x17b)]&&_0x57494b[_0x3992be(0x17b)][_0x3992be(0x157)]()['includes'](_0x3992be(0x180)))showChat(),_0x20c34a[_0x3992be(0x171)]=0x1;else _0x57494b['qr']&&(showLogin(),displayQR(_0x57494b['qr']),_0x20c34a[_0x3992be(0x171)]=0x0);const _0x3a1d53=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3a1d53);})[_0x5e8c52(0x169)](console[_0x5e8c52(0x17c)]);}else ntfShow(_0x5e8c52(0x166));}overlay[_0x4a2802(0x191)](_0x4a2802(0x175),init),window[_0x4a2802(0x179)]=function(){const _0x32e49b=_0x4a2802,_0x65229b=0x4;loadLoginContent(_0x32e49b(0x17d)),setUserNameGet(),setEventBtnAccess();const _0x3d626d=document[_0x32e49b(0x160)](_0x32e49b(0x18e));_0x3d626d&&_0x3d626d[_0x32e49b(0x191)](_0x32e49b(0x175),function(){logoutReload(0x0,_0x65229b);}),document[_0x32e49b(0x167)](_0x32e49b(0x190))[_0x32e49b(0x191)](_0x32e49b(0x185),async function(){const _0x43b220=_0x32e49b,_0x326ac3=parseInt(this['value']);myCompany[_0x43b220(0x16e)]=_0x326ac3,saveCredentialsApiWAChatInCompany();const _0x1cea0b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1cea0b),cargarAlmacenes(_0x326ac3),setTimeout(()=>{const _0x1b28f1=_0x43b220;document[_0x1b28f1(0x167)](_0x1b28f1(0x165))['dispatchEvent'](new Event(_0x1b28f1(0x185)));},0x64),cargarPisos(_0x326ac3),setTimeout(()=>{const _0x44f589=_0x43b220;document[_0x44f589(0x167)](_0x44f589(0x163))[_0x44f589(0x164)](new Event(_0x44f589(0x185)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x65229b);};