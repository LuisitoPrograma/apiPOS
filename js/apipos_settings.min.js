/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.5
*/

function _0x58ae(_0x571829,_0x19d8ee){var _0x2a4599=_0x1684();return _0x58ae=function(_0x599e5e,_0x5b2ebf){_0x599e5e=_0x599e5e-0x9c;var _0x1ecfd1=_0x2a4599[_0x599e5e];return _0x1ecfd1;},_0x58ae(_0x571829,_0x19d8ee);}(function(_0x255e87,_0x242e9b){var _0x4372dd=_0x58ae,_0x54060d=_0x255e87();while(!![]){try{var _0x5e90de=parseInt(_0x4372dd(0xa6))/0x1*(-parseInt(_0x4372dd(0xe5))/0x2)+parseInt(_0x4372dd(0xfd))/0x3+-parseInt(_0x4372dd(0x9e))/0x4+parseInt(_0x4372dd(0xbf))/0x5+-parseInt(_0x4372dd(0xa1))/0x6+-parseInt(_0x4372dd(0xb9))/0x7*(parseInt(_0x4372dd(0x113))/0x8)+parseInt(_0x4372dd(0xdc))/0x9;if(_0x5e90de===_0x242e9b)break;else _0x54060d['push'](_0x54060d['shift']());}catch(_0x493315){_0x54060d['push'](_0x54060d['shift']());}}}(_0x1684,0x4d688));var _0xfa93e6=(function(){var _0x4c3c40=!![];return function(_0x5b699a,_0x5e6cd4){var _0x12f68e=_0x4c3c40?function(){var _0x34210a=_0x58ae;if(_0x5e6cd4){var _0x456a24=_0x5e6cd4[_0x34210a(0xbd)](_0x5b699a,arguments);return _0x5e6cd4=null,_0x456a24;}}:function(){};return _0x4c3c40=![],_0x12f68e;};}()),_0x3512e1=_0xfa93e6(this,function(){var _0x3de666=_0x58ae;return _0x3512e1[_0x3de666(0xde)]()[_0x3de666(0x115)]('(((.+)+)+)+$')[_0x3de666(0xde)]()[_0x3de666(0xd9)](_0x3512e1)['search'](_0x3de666(0xd6));});function _0x1684(){var _0x583ff9=['setAuthToken','285332rDysua','textContent','style','1687776BTjPMA','display','dispatchEvent','userPerm_container\x20border_orange','panel_operations','427873KtHLbw','.userPerm_saveBtn','setMessage','setPermissionId','setPermissionNameTrue','setSerie','Correlativo','createElement','readonly','Error\x20desconocido\x20al\x20actualizar\x20Data.','reject','success','info','className','setBranchDefault','setWarehouseId','indexOf','getElementsByClassName','__proto__','7sEdhmz','No\x20hay\x20operaciones\x20pendientes.','userPerm_container_','panel_users','apply','Error\x20Network.','244110tNPUTI','tbody','dataset','Guardar','Error\x20Sync:\x20','inline-block','table','onerror','stringify','trace','setPermissionValue','setUsers','objectStore','block','appendChild','setTipoOperacion','value','setPermissionNameFalse','prototype','Error\x20leyendo\x20operaciones:','setBranchId','Fecha','setEmailCredentialsSenderEmail','(((.+)+)+)+$','userIndex','userPerm_editBtn','constructor','setUserFullName','setCorrelativo','13791411SCViAx','setEmailCredentialsId','toString','change','permIndex','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','warn','result','setPermissions','2kXeaYn','button','click','userPerm_container\x20border_blue','Tipo','forEach','NÃºmero\x20de\x20Decimales:\x20','log','Error\x20cargando\x20operaciones.','./img/apiPOS.png','json','option','console','innerHTML','error','setEmailCredentials','setTipoOperaciones','getElementById','onsuccess','.btn-logout','length','addEventListener','offline_operations','userPerm_item','108294ltDcEq','catch','disabled','querySelector','push','select','bind','message','getAll','setLastDateUpdate','Error\x20al\x20actualizar\x20data\x20online:','Usuario\x20','none','return\x20(function()\x20','then','.userPerm_editBtn','Motivo','setFechaHora','userPerm_select','userPerm_saveBtn','setTipoOperacionName','target','4157864JDvKRN','setFloorId','search','setTipoOperacionCodigo','offlineOps_table','statusText','div','{}.constructor(\x22return\x20this\x22)(\x20)','POST'];_0x1684=function(){return _0x583ff9;};return _0x1684();}_0x3512e1();var _0x5b2ebf=(function(){var _0x48d0b5=!![];return function(_0x396a9f,_0x36f202){var _0x221f5f=_0x48d0b5?function(){if(_0x36f202){var _0x26f277=_0x36f202['apply'](_0x396a9f,arguments);return _0x36f202=null,_0x26f277;}}:function(){};return _0x48d0b5=![],_0x221f5f;};}()),_0x599e5e=_0x5b2ebf(this,function(){var _0x288e62=_0x58ae,_0x257266;try{var _0x5c9a46=Function(_0x288e62(0x10a)+_0x288e62(0x11a)+');');_0x257266=_0x5c9a46();}catch(_0x5bffc1){_0x257266=window;}var _0x29a6d4=_0x257266['console']=_0x257266[_0x288e62(0xf1)]||{},_0x180e23=[_0x288e62(0xec),_0x288e62(0xe2),_0x288e62(0xb2),_0x288e62(0xf3),'exception','table',_0x288e62(0xc8)];for(var _0x2c07bd=0x0;_0x2c07bd<_0x180e23['length'];_0x2c07bd++){var _0x3f41bb=_0x5b2ebf[_0x288e62(0xd9)][_0x288e62(0xd1)][_0x288e62(0x103)](_0x5b2ebf),_0x5f138f=_0x180e23[_0x2c07bd],_0x2b9be5=_0x29a6d4[_0x5f138f]||_0x3f41bb;_0x3f41bb[_0x288e62(0xb8)]=_0x5b2ebf[_0x288e62(0x103)](_0x5b2ebf),_0x3f41bb['toString']=_0x2b9be5[_0x288e62(0xde)]['bind'](_0x2b9be5),_0x29a6d4[_0x5f138f]=_0x3f41bb;}});_0x599e5e();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf,0x10,0x11,0x13,0x14,0x15];async function apiERPupdateUsersOnline(_0xe0ba04,_0x10d66a){var _0x386361=_0x58ae;if(!isOnline())return console[_0x386361(0xec)](_0x386361(0xbe)),Promise[_0x386361(0xb0)]('Error\x20Network.');const _0x4f3b12={'setAuthToken':_0xe0ba04,'setUsers':_0x10d66a};return fetch('https://apierp.dev/api/users/update/',{'method':_0x386361(0x9c),'headers':{'Content-Type':'application/json'},'body':JSON[_0x386361(0xc7)](_0x4f3b12)})[_0x386361(0x10b)](_0x1b0037=>{var _0x57fe6e=_0x386361;if(!_0x1b0037['ok'])throw new Error(_0x57fe6e(0xc3)+_0x1b0037[_0x57fe6e(0x118)]);return _0x1b0037[_0x57fe6e(0xef)]();})['then'](_0x14ecab=>{var _0x158c88=_0x386361;if(!_0x14ecab[_0x158c88(0xb1)])throw new Error(_0x14ecab[_0x158c88(0x104)]||_0x158c88(0xaf));return console[_0x158c88(0xec)](_0x158c88(0xe1)),_0x14ecab;})[_0x386361(0xfe)](_0x1614d0=>{var _0x435219=_0x386361;console[_0x435219(0xf3)](_0x435219(0x107),_0x1614d0);throw _0x1614d0;});}async function apiERPsyncUsers(){var _0x3cf24b=_0x58ae;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x3cf24b(0x9d)],company[0x0]['setUsers']));}function generatePermissionsPanel(_0x5902ed){var _0x4382df=_0x58ae,_0x13d9be=document[_0x4382df(0xf6)](_0x4382df(0xbc));_0x13d9be['innerHTML']='';var _0x310cc2=_0x5902ed[0x0]&&_0x5902ed[0x0][_0x4382df(0xca)]||[],_0x51bd75=_0x5902ed[0x0]&&_0x5902ed[0x0][_0x4382df(0xf5)]||[];for(var _0xe4b9cc=0x0;_0xe4b9cc<_0x310cc2[_0x4382df(0xf9)];_0xe4b9cc++){var _0x22c550=_0x310cc2[_0xe4b9cc],_0x5a23e6=document[_0x4382df(0xad)]('div');_0x5a23e6[_0x4382df(0xb3)]=_0x4382df(0xe8),_0x5a23e6['id']=_0x4382df(0xbb)+_0xe4b9cc;var _0x2dce70=document[_0x4382df(0xad)]('h3');_0x2dce70['className']='userPerm_header',_0x2dce70['textContent']=_0x22c550[_0x4382df(0xda)]||_0x4382df(0x108)+(_0xe4b9cc+0x1),_0x5a23e6['appendChild'](_0x2dce70);var _0x2fd0ac=document[_0x4382df(0xad)](_0x4382df(0x119));_0x2fd0ac[_0x4382df(0xb3)]='userPerm_list';for(var _0xfc0cb=0x0;_0xfc0cb<_0x22c550[_0x4382df(0xe4)][_0x4382df(0xf9)];_0xfc0cb++){var _0x4adba9=_0x22c550[_0x4382df(0xe4)][_0xfc0cb],_0x1ef8a3=document['createElement']('div');_0x1ef8a3[_0x4382df(0xb3)]=_0x4382df(0xfc),_0x1ef8a3[_0x4382df(0xc1)][_0x4382df(0xd7)]=_0xe4b9cc,_0x1ef8a3[_0x4382df(0xc1)][_0x4382df(0xe0)]=_0xfc0cb;var _0x37fe96=Number(_0x4adba9['setPermissionValue']),_0x2cb65a=document[_0x4382df(0xad)](_0x4382df(0x102));_0x2cb65a[_0x4382df(0xb3)]=_0x4382df(0x10f),_0x2cb65a[_0x4382df(0xff)]=!![];if(BOOLEAN_PERMS[_0x4382df(0xb6)](_0x4adba9[_0x4382df(0xa9)])!==-0x1){var _0x1297c5=document[_0x4382df(0xad)](_0x4382df(0xf0));_0x1297c5[_0x4382df(0xcf)]='0',_0x1297c5['textContent']=_0x4adba9[_0x4382df(0xd0)],_0x2cb65a[_0x4382df(0xcd)](_0x1297c5);var _0x122bf9=document[_0x4382df(0xad)](_0x4382df(0xf0));_0x122bf9[_0x4382df(0xcf)]='1',_0x122bf9[_0x4382df(0x9f)]=_0x4adba9[_0x4382df(0xaa)],_0x2cb65a[_0x4382df(0xcd)](_0x122bf9),_0x2cb65a[_0x4382df(0xcf)]=String(_0x37fe96);}else{if(_0x4adba9[_0x4382df(0xa9)]===0x9||_0x4adba9[_0x4382df(0xa9)]===0xc||_0x4adba9[_0x4382df(0xa9)]===0x12){if(_0x4adba9[_0x4382df(0xa9)]===0x9){var _0x5b5b97=document[_0x4382df(0xad)]('option');_0x5b5b97[_0x4382df(0xcf)]='0',_0x5b5b97[_0x4382df(0x9f)]=_0x4adba9[_0x4382df(0xd0)],_0x2cb65a[_0x4382df(0xcd)](_0x5b5b97);for(var _0x463766=0x0;_0x463766<_0x51bd75[_0x4382df(0xf9)];_0x463766++){var _0x2ebe77=_0x51bd75[_0x463766],_0x45d176=document[_0x4382df(0xad)](_0x4382df(0xf0));_0x45d176[_0x4382df(0xcf)]=String(_0x2ebe77[_0x4382df(0x116)]),_0x45d176[_0x4382df(0x9f)]=_0x2ebe77[_0x4382df(0x111)],_0x2cb65a[_0x4382df(0xcd)](_0x45d176);}}if(_0x4adba9[_0x4382df(0xa9)]===0xc)for(var _0x463766=0x1;_0x463766<=0x4;_0x463766++){var _0x2ebe77=_0x463766,_0x45d176=document[_0x4382df(0xad)](_0x4382df(0xf0));_0x45d176[_0x4382df(0xcf)]=String(_0x2ebe77),_0x45d176[_0x4382df(0x9f)]=_0x4382df(0xeb)+_0x2ebe77,_0x2cb65a['appendChild'](_0x45d176);}if(_0x4adba9['setPermissionId']===0x12){var _0x13d852=myCompany&&myCompany[_0x4382df(0xf4)]||[],_0x5b5b97=document[_0x4382df(0xad)](_0x4382df(0xf0));_0x5b5b97[_0x4382df(0xcf)]='0',_0x5b5b97[_0x4382df(0x9f)]=_0x4adba9[_0x4382df(0xd0)],_0x2cb65a[_0x4382df(0xcd)](_0x5b5b97);for(var _0x463766=0x0;_0x463766<_0x13d852[_0x4382df(0xf9)];_0x463766++){var _0x2ebe77=_0x13d852[_0x463766],_0x45d176=document[_0x4382df(0xad)]('option');_0x45d176[_0x4382df(0xcf)]=String(_0x2ebe77[_0x4382df(0xdd)]),_0x45d176[_0x4382df(0x9f)]=_0x2ebe77[_0x4382df(0xd5)],_0x2cb65a[_0x4382df(0xcd)](_0x45d176);}}_0x2cb65a[_0x4382df(0xcf)]=String(_0x37fe96);}}_0x1ef8a3['appendChild'](_0x2cb65a),_0x2fd0ac[_0x4382df(0xcd)](_0x1ef8a3);}_0x5a23e6[_0x4382df(0xcd)](_0x2fd0ac);var _0x1d1c13=document[_0x4382df(0xad)](_0x4382df(0xe6));_0x1d1c13[_0x4382df(0xb3)]=_0x4382df(0xd8),_0x1d1c13[_0x4382df(0x9f)]='Editar',_0x1d1c13[_0x4382df(0xc1)][_0x4382df(0xd7)]=_0xe4b9cc;var _0x1072ae=document[_0x4382df(0xad)](_0x4382df(0xe6));_0x1072ae[_0x4382df(0xb3)]=_0x4382df(0x110),_0x1072ae['textContent']=_0x4382df(0xc2),_0x1072ae[_0x4382df(0xc1)][_0x4382df(0xd7)]=_0xe4b9cc,_0x1072ae[_0x4382df(0xa0)][_0x4382df(0xa2)]=_0x4382df(0x109),_0x5a23e6[_0x4382df(0xcd)](_0x1d1c13),_0x5a23e6[_0x4382df(0xcd)](_0x1072ae),_0x13d9be[_0x4382df(0xcd)](_0x5a23e6),_0x1d1c13[_0x4382df(0xfa)](_0x4382df(0xe7),onEditClick),_0x1072ae['addEventListener'](_0x4382df(0xe7),onSaveClick);}}function onEditClick(_0x4e6964){var _0x5ab8d3=_0x58ae,_0x10c1cb=_0x4e6964[_0x5ab8d3(0x112)][_0x5ab8d3(0xc1)][_0x5ab8d3(0xd7)],_0x4c3366=document[_0x5ab8d3(0xf6)]('userPerm_container_'+_0x10c1cb),_0x544633=_0x4c3366[_0x5ab8d3(0xb7)]('userPerm_select');for(var _0xbbc84f=0x0;_0xbbc84f<_0x544633[_0x5ab8d3(0xf9)];_0xbbc84f++){_0x544633[_0xbbc84f][_0x5ab8d3(0xff)]=![];}_0x4c3366[_0x5ab8d3(0x100)]('.userPerm_editBtn')[_0x5ab8d3(0xa0)][_0x5ab8d3(0xa2)]=_0x5ab8d3(0x109),_0x4c3366[_0x5ab8d3(0x100)](_0x5ab8d3(0xa7))[_0x5ab8d3(0xa0)][_0x5ab8d3(0xa2)]=_0x5ab8d3(0xcc),_0x4c3366[_0x5ab8d3(0xb3)]=_0x5ab8d3(0xa4);}async function onSaveClick(_0xe06a69){var _0x30a725=_0x58ae,_0x242405=_0xe06a69[_0x30a725(0x112)][_0x30a725(0xc1)]['userIndex'],_0x200a46=document[_0x30a725(0xf6)](_0x30a725(0xbb)+_0x242405),_0x5d65e4=_0x200a46[_0x30a725(0xb7)](_0x30a725(0xfc));for(var _0x54f8ea=0x0;_0x54f8ea<_0x5d65e4['length'];_0x54f8ea++){var _0x47b8bb=_0x5d65e4[_0x54f8ea],_0x21e1bf=parseInt(_0x47b8bb['dataset'][_0x30a725(0xd7)],0xa),_0x112174=parseInt(_0x47b8bb[_0x30a725(0xc1)][_0x30a725(0xe0)],0xa),_0x548206=company[0x0][_0x30a725(0xca)][_0x21e1bf][_0x30a725(0xe4)][_0x112174],_0x4d5e0c=_0x47b8bb['getElementsByClassName']('userPerm_select')[0x0],_0x374bfe=_0x4d5e0c[_0x30a725(0xcf)];_0x548206[_0x30a725(0xc9)]=_0x374bfe,_0x4d5e0c[_0x30a725(0xff)]=!![],company[0x0][_0x30a725(0xca)][_0x21e1bf][_0x30a725(0x106)]=new Date();}const _0x4dbd85=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4dbd85),_0x200a46[_0x30a725(0x100)](_0x30a725(0xa7))[_0x30a725(0xa0)]['display']=_0x30a725(0x109),_0x200a46[_0x30a725(0x100)](_0x30a725(0x10c))[_0x30a725(0xa0)][_0x30a725(0xa2)]=_0x30a725(0xc4),_0x200a46[_0x30a725(0xb3)]='userPerm_container\x20border_blue',apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x5a3230=_0x58ae,_0x269de5=document[_0x5a3230(0xf6)](_0x5a3230(0xa5));return _0x269de5[_0x5a3230(0xf2)]='',createCartStore('')[_0x5a3230(0x10b)](function(_0x2f2b78){var _0x254fcc=_0x5a3230,_0xc67a71=_0x2f2b78['transaction'](_0x254fcc(0xfb),_0x254fcc(0xae)),_0x2a4e70=_0xc67a71[_0x254fcc(0xcb)]('offline_operations');return new Promise(function(_0x290bcf,_0xe783d4){var _0x383609=_0x254fcc,_0x170db2=_0x2a4e70[_0x383609(0x105)]();_0x170db2[_0x383609(0xf7)]=function(){var _0x16e6b1=_0x383609;_0x290bcf(_0x170db2[_0x16e6b1(0xe3)]);},_0x170db2[_0x383609(0xc6)]=function(){_0xe783d4(_0x170db2['error']);};});})['then'](function(_0xed3ef5){var _0x446667=_0x5a3230,_0x398d54=[];for(var _0x11a10e=0x0;_0x11a10e<_0xed3ef5[_0x446667(0xf9)];_0x11a10e++){_0xed3ef5[_0x11a10e]['apiPOSsendOffline']==0x1&&_0x398d54[_0x446667(0x101)](_0xed3ef5[_0x11a10e]);}if(_0x398d54[_0x446667(0xf9)]===0x0){_0x269de5[_0x446667(0x9f)]=_0x446667(0xba);return;}var _0x394dbb=document[_0x446667(0xad)](_0x446667(0xc5));_0x394dbb[_0x446667(0xb3)]=_0x446667(0x117);var _0x4f81ba=document[_0x446667(0xad)]('thead'),_0x4f330d=document[_0x446667(0xad)]('tr');[_0x446667(0xe9),'Serie',_0x446667(0xac),_0x446667(0xd4),_0x446667(0x10d)][_0x446667(0xea)](function(_0x5845bf){var _0x5aa108=_0x446667,_0x465e6f=document[_0x5aa108(0xad)]('th');_0x465e6f[_0x5aa108(0x9f)]=_0x5845bf,_0x4f330d['appendChild'](_0x465e6f);}),_0x4f81ba[_0x446667(0xcd)](_0x4f330d),_0x394dbb[_0x446667(0xcd)](_0x4f81ba);var _0x3c29a4=document[_0x446667(0xad)](_0x446667(0xc0));_0x398d54[_0x446667(0xea)](function(_0x388668){var _0x2a55a8=_0x446667,_0x1ffc3b=document[_0x2a55a8(0xad)]('tr'),_0x2a843a=[_0x388668[_0x2a55a8(0xce)],_0x388668[_0x2a55a8(0xab)],_0x388668[_0x2a55a8(0xdb)],_0x388668[_0x2a55a8(0x10e)],_0x388668[_0x2a55a8(0xa8)]||''];_0x2a843a['forEach'](function(_0xe65d81){var _0x1d738b=_0x2a55a8,_0x37af7c=document[_0x1d738b(0xad)]('td');_0x37af7c['textContent']=_0xe65d81,_0x1ffc3b[_0x1d738b(0xcd)](_0x37af7c);}),_0x3c29a4[_0x2a55a8(0xcd)](_0x1ffc3b);}),_0x394dbb[_0x446667(0xcd)](_0x3c29a4),_0x269de5['appendChild'](_0x394dbb);})[_0x5a3230(0xfe)](function(_0x1152bf){var _0x5197be=_0x5a3230;console[_0x5197be(0xf3)](_0x5197be(0xd2),_0x1152bf),_0x269de5[_0x5197be(0x9f)]=_0x5197be(0xed);});}window['onload']=function(){var _0x551430=_0x58ae;const _0x437dd8=0x2;loadLoginContent(_0x551430(0xee)),setUserNameGet(),setEventBtnAccess();const _0x36f8f2=document[_0x551430(0x100)](_0x551430(0xf8));_0x36f8f2&&_0x36f8f2[_0x551430(0xfa)]('click',function(){logoutReload(0x0,_0x437dd8);}),document[_0x551430(0xf6)](_0x551430(0xd3))['addEventListener'](_0x551430(0xdf),async function(){var _0x5f38e2=_0x551430;const _0x1b257f=parseInt(this['value']);company[0x0][_0x5f38e2(0xb4)]=_0x1b257f;const _0x203f65=await createCartStore('');await saveCompanyToIndexedDB(company,_0x203f65),cargarAlmacenes(_0x1b257f),setTimeout(()=>{var _0x315108=_0x5f38e2;document[_0x315108(0xf6)](_0x315108(0xb5))['dispatchEvent'](new Event('change'));},0x64),cargarPisos(_0x1b257f),setTimeout(()=>{var _0x5c0462=_0x5f38e2;document[_0x5c0462(0xf6)](_0x5c0462(0x114))[_0x5c0462(0xa3)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x437dd8);};