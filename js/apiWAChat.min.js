/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.9
*/

const _0x2364ef=_0x4974;(function(_0x55dc08,_0x45e77c){const _0x12c80e=_0x4974,_0x538ab8=_0x55dc08();while(!![]){try{const _0x4adec2=parseInt(_0x12c80e(0xec))/0x1*(-parseInt(_0x12c80e(0xd7))/0x2)+parseInt(_0x12c80e(0xdd))/0x3+parseInt(_0x12c80e(0xba))/0x4*(-parseInt(_0x12c80e(0xed))/0x5)+-parseInt(_0x12c80e(0xbb))/0x6*(-parseInt(_0x12c80e(0xd4))/0x7)+parseInt(_0x12c80e(0xe0))/0x8*(-parseInt(_0x12c80e(0xc5))/0x9)+parseInt(_0x12c80e(0xc0))/0xa*(-parseInt(_0x12c80e(0xb7))/0xb)+parseInt(_0x12c80e(0xdc))/0xc*(parseInt(_0x12c80e(0xf4))/0xd);if(_0x4adec2===_0x45e77c)break;else _0x538ab8['push'](_0x538ab8['shift']());}catch(_0x1027fe){_0x538ab8['push'](_0x538ab8['shift']());}}}(_0x2a98,0x26aba));const _0x499248=(function(){let _0x39248e=!![];return function(_0xf95f16,_0x4a3543){const _0x3fcfd3=_0x39248e?function(){const _0x23e4f7=_0x4974;if(_0x4a3543){const _0x18a3fb=_0x4a3543[_0x23e4f7(0xda)](_0xf95f16,arguments);return _0x4a3543=null,_0x18a3fb;}}:function(){};return _0x39248e=![],_0x3fcfd3;};}()),_0x1c60ec=_0x499248(this,function(){const _0x160334=_0x4974;return _0x1c60ec['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x160334(0xc4)](_0x1c60ec)[_0x160334(0xea)](_0x160334(0xf1));});_0x1c60ec();function _0x4974(_0x4e6aff,_0xe62fc1){const _0x47d113=_0x2a98();return _0x4974=function(_0x32dad4,_0x128d56){_0x32dad4=_0x32dad4-0xb2;let _0x13b288=_0x47d113[_0x32dad4];return _0x13b288;},_0x4974(_0x4e6aff,_0xe62fc1);}const _0x128d56=(function(){let _0x2c0d68=!![];return function(_0x4b9ad6,_0x20654a){const _0x11358c=_0x2c0d68?function(){const _0xe65123=_0x4974;if(_0x20654a){const _0x4ffa34=_0x20654a[_0xe65123(0xda)](_0x4b9ad6,arguments);return _0x20654a=null,_0x4ffa34;}}:function(){};return _0x2c0d68=![],_0x11358c;};}()),_0x32dad4=_0x128d56(this,function(){const _0x1c0e39=_0x4974;let _0x4ec51c;try{const _0x15efd9=Function('return\x20(function()\x20'+_0x1c0e39(0xca)+');');_0x4ec51c=_0x15efd9();}catch(_0x802a49){_0x4ec51c=window;}const _0x450984=_0x4ec51c[_0x1c0e39(0xe7)]=_0x4ec51c['console']||{},_0x4f5694=[_0x1c0e39(0xdf),_0x1c0e39(0xb4),'info',_0x1c0e39(0xf0),_0x1c0e39(0xd8),_0x1c0e39(0xcc),_0x1c0e39(0xb9)];for(let _0x183e1e=0x0;_0x183e1e<_0x4f5694[_0x1c0e39(0xf3)];_0x183e1e++){const _0x5b9045=_0x128d56['constructor']['prototype'][_0x1c0e39(0xe9)](_0x128d56),_0x319515=_0x4f5694[_0x183e1e],_0x227c80=_0x450984[_0x319515]||_0x5b9045;_0x5b9045[_0x1c0e39(0xdb)]=_0x128d56['bind'](_0x128d56),_0x5b9045[_0x1c0e39(0xc6)]=_0x227c80[_0x1c0e39(0xc6)][_0x1c0e39(0xe9)](_0x227c80),_0x450984[_0x319515]=_0x5b9045;}});_0x32dad4();const selectCredentialsApiWAChat=document[_0x2364ef(0xd6)](_0x2364ef(0xd1)),loginPanel=document[_0x2364ef(0xd6)](_0x2364ef(0xde)),chatPanel=document['getElementById']('chatPanel'),qrImg=document[_0x2364ef(0xd6)](_0x2364ef(0xd5)),overlay=document[_0x2364ef(0xd6)](_0x2364ef(0xbf));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x45c3e2=_0x2364ef;loginPanel[_0x45c3e2(0xef)][_0x45c3e2(0xe6)]=_0x45c3e2(0xc7),chatPanel[_0x45c3e2(0xef)][_0x45c3e2(0xb6)]=_0x45c3e2(0xd2);}function showChat(){const _0x9fc9a9=_0x2364ef;loginPanel[_0x9fc9a9(0xef)][_0x9fc9a9(0xe6)]=_0x9fc9a9(0xce),chatPanel[_0x9fc9a9(0xef)][_0x9fc9a9(0xb6)]=_0x9fc9a9(0xb3);}async function displayQR(_0x20ed59){const _0x57d354=_0x2364ef,_0x350371=selectCredentialsApiWAChat[_0x57d354(0xd9)],_0x5c7e82=getCredentialsApiWAChat(_0x350371);if(_0x5c7e82){const _0x33c55c=_0x5c7e82[_0x57d354(0xeb)],_0x5ba70a=_0x5c7e82['setCredentialsApiWAChatPort'];clearTimeout(qrTimeout),overlay[_0x57d354(0xef)][_0x57d354(0xe6)]=_0x57d354(0xce),qrImg[_0x57d354(0xb2)]=_0x20ed59,qrTimeout=setTimeout(()=>{const _0x4b213c=_0x57d354;fetch('https://'+_0x33c55c+'/wa/'+_0x5ba70a+_0x4b213c(0xcf),{'headers':{'x-auth-token':myCompany[_0x4b213c(0xbe)]}})['then'](async _0x2b8cac=>_0x2b8cac[_0x4b213c(0xc1)]())['then'](async _0x5bae08=>{const _0x19a988=_0x4b213c;_0x5bae08[_0x19a988(0xc8)]&&_0x5bae08[_0x19a988(0xc8)][_0x19a988(0xe5)]()['includes'](_0x19a988(0xe8))?(showChat(),_0x5c7e82[_0x19a988(0xd0)]=0x1):(overlay[_0x19a988(0xef)][_0x19a988(0xe6)]='flex',_0x5c7e82[_0x19a988(0xd0)]=0x0);const _0x3dc878=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3dc878);})[_0x4b213c(0xb5)](_0x75a264=>{const _0x183a46=_0x4b213c;console[_0x183a46(0xf0)](_0x183a46(0xe2),_0x75a264),overlay[_0x183a46(0xef)]['display']='flex';});},validSeconds*0x3e8);}else ntfShow(_0x57d354(0xcd));}async function init(){const _0x3ce6e6=_0x2364ef,_0x27859d=selectCredentialsApiWAChat[_0x3ce6e6(0xd9)],_0x2d9d10=getCredentialsApiWAChat(_0x27859d);if(_0x2d9d10){const _0x1b51bc=_0x2d9d10['setCredentialsApiWAChatSubdomain'],_0x5fa3f5=_0x2d9d10['setCredentialsApiWAChatPort'];fetch(_0x3ce6e6(0xbc)+_0x1b51bc+_0x3ce6e6(0xe3)+_0x5fa3f5+_0x3ce6e6(0xcf),{'headers':{'x-auth-token':myCompany[_0x3ce6e6(0xbe)]}})['then'](async _0x7e19c0=>_0x7e19c0['json']())['then'](async _0x3398d9=>{const _0x16a6f4=_0x3ce6e6;if(_0x3398d9[_0x16a6f4(0xc8)]&&_0x3398d9['status']['toLowerCase']()[_0x16a6f4(0xbd)](_0x16a6f4(0xe8)))showChat(),_0x2d9d10[_0x16a6f4(0xd0)]=0x1;else _0x3398d9['qr']&&(showLogin(),displayQR(_0x3398d9['qr']),_0x2d9d10['setCredentialsApiWAChatStatus']=0x0);const _0x1908f6=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1908f6);})[_0x3ce6e6(0xb5)](console[_0x3ce6e6(0xf0)]);}else ntfShow(_0x3ce6e6(0xcd));}function _0x2a98(){const _0x5bac39=['3058yriquV','setFloorId','trace','212iwwrre','4554RDchQo','https://','includes','setAuthToken','qr-overlay','11140kETDsC','json','onload','dispatchEvent','constructor','190692VgYZgG','toString','flex','status','./img/apiPOS.png','{}.constructor(\x22return\x20this\x22)(\x20)','change','table','Credenciales\x20no\x20encontradas','none','/qr','setCredentialsApiWAChatStatus','setCredentialsApiWAChat','hidden','addEventListener','2751KIZrMB','qr-img','getElementById','38RJhYDD','exception','value','apply','__proto__','1128PkWeMm','560301hHZsqX','loginPanel','log','64RwhKFh','click','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','/wa/','setBranchDefault','toLowerCase','display','console','ya\x20conectado','bind','search','setCredentialsApiWAChatSubdomain','8873cKDXQl','17335pafEiT','setWarehouseId','style','error','(((.+)+)+)+$','setBranchId','length','69823hVwvik','src','visible','warn','catch','visibility'];_0x2a98=function(){return _0x5bac39;};return _0x2a98();}overlay[_0x2364ef(0xd3)](_0x2364ef(0xe1),init),window[_0x2364ef(0xc2)]=function(){const _0x379d2d=_0x2364ef,_0xa42ba6=0x4;loadLoginContent(_0x379d2d(0xc9)),setUserNameGet(),setEventBtnAccess();const _0x3aa5f5=document['querySelector']('.btn-logout');_0x3aa5f5&&_0x3aa5f5[_0x379d2d(0xd3)](_0x379d2d(0xe1),function(){logoutReload(0x0,_0xa42ba6);}),document[_0x379d2d(0xd6)](_0x379d2d(0xf2))[_0x379d2d(0xd3)](_0x379d2d(0xcb),async function(){const _0x3ac67d=_0x379d2d,_0x2f2f3c=parseInt(this['value']);myCompany[_0x3ac67d(0xe4)]=_0x2f2f3c,saveCredentialsApiWAChatInCompany();const _0x28ec7f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x28ec7f),cargarAlmacenes(_0x2f2f3c),setTimeout(()=>{const _0x4af96a=_0x3ac67d;document[_0x4af96a(0xd6)](_0x4af96a(0xee))[_0x4af96a(0xc3)](new Event(_0x4af96a(0xcb)));},0x64),cargarPisos(_0x2f2f3c),setTimeout(()=>{const _0x157798=_0x3ac67d;document[_0x157798(0xd6)](_0x157798(0xb8))['dispatchEvent'](new Event(_0x157798(0xcb)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0xa42ba6);};