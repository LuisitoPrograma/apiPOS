/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.2.4
*/

const _0x360e38=_0x24d9;(function(_0x242309,_0x3f2f9f){const _0x8cf32=_0x24d9,_0x9152c1=_0x242309();while(!![]){try{const _0x377680=-parseInt(_0x8cf32(0x1c6))/0x1+parseInt(_0x8cf32(0x1e4))/0x2*(parseInt(_0x8cf32(0x1b2))/0x3)+parseInt(_0x8cf32(0x1da))/0x4*(parseInt(_0x8cf32(0x1bb))/0x5)+parseInt(_0x8cf32(0x1c5))/0x6+-parseInt(_0x8cf32(0x1e1))/0x7*(-parseInt(_0x8cf32(0x1d3))/0x8)+parseInt(_0x8cf32(0x1e2))/0x9+parseInt(_0x8cf32(0x1d1))/0xa*(-parseInt(_0x8cf32(0x1b9))/0xb);if(_0x377680===_0x3f2f9f)break;else _0x9152c1['push'](_0x9152c1['shift']());}catch(_0x10a184){_0x9152c1['push'](_0x9152c1['shift']());}}}(_0x3c63,0x655e7));const selectCredentialsApiWAChat=document['getElementById']('setCredentialsApiWAChat'),loginPanel=document[_0x360e38(0x1b4)](_0x360e38(0x1df)),chatPanel=document[_0x360e38(0x1b4)](_0x360e38(0x1dd)),qrImg=document['getElementById']('qr-img'),overlay=document[_0x360e38(0x1b4)]('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x1112a5=_0x360e38;loginPanel[_0x1112a5(0x1d6)][_0x1112a5(0x1b3)]=_0x1112a5(0x1be),chatPanel[_0x1112a5(0x1d6)][_0x1112a5(0x1cb)]='hidden';}function _0x24d9(_0x3656f,_0x5681af){const _0x2dbb16=_0x3c63();return _0x24d9=function(_0x310c80,_0x2efc83){_0x310c80=_0x310c80-0x1a7;let _0x580d69=_0x2dbb16[_0x310c80];return _0x580d69;},_0x24d9(_0x3656f,_0x5681af);}function showChat(){const _0x180f37=_0x360e38;loginPanel[_0x180f37(0x1d6)][_0x180f37(0x1b3)]=_0x180f37(0x1d5),chatPanel[_0x180f37(0x1d6)]['visibility']=_0x180f37(0x1c2);}function _0x3c63(){const _0x52340e=['error','toLowerCase','init','93JCOEwL','display','getElementById','(((.+)+)+)+$','setCredentialsApiWAChat','constructor','setCredentialsApiWAChatPort','11uZIDMN','change','2935HKoLAu','WarehouseChangeComplete','toString','flex','click','value','json','visible','setAuthToken','/qr','1174386ZiExqK','543835fUXTRi','.btn-logout','console','setCredentialsApiWAChatStatus','setBranchId','visibility','length','/wa/','apply','https://','includes','8935220GdKGvQ','EnvironmentChangeComplete','40XsGGKk','table','none','style','exception','status','log','5116xFmiWq','addEventListener','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','chatPanel','return\x20(function()\x20','loginPanel','setBranchDefault','535654OYWQmZ','3096198OrbZBe','dispatchEvent','11576sIYqBB','setFloorId','Credenciales\x20no\x20encontradas','search','setWarehouseId','bind','info','{}.constructor(\x22return\x20this\x22)(\x20)','__proto__'];_0x3c63=function(){return _0x52340e;};return _0x3c63();}async function initQRApiWAChat(_0x380d21,_0x1d7158){const _0x31e1f5=_0x360e38,_0x1c0ac4=(function(){let _0x2159e9=!![];return function(_0xf0016f,_0x2d9648){const _0x42f461=_0x2159e9?function(){const _0x14bbdb=_0x24d9;if(_0x2d9648){const _0x417f60=_0x2d9648[_0x14bbdb(0x1ce)](_0xf0016f,arguments);return _0x2d9648=null,_0x417f60;}}:function(){};return _0x2159e9=![],_0x42f461;};}()),_0x51dff8=_0x1c0ac4(this,function(){const _0x3ba9db=_0x24d9;return _0x51dff8['toString']()[_0x3ba9db(0x1a9)](_0x3ba9db(0x1b5))[_0x3ba9db(0x1bd)]()[_0x3ba9db(0x1b7)](_0x51dff8)[_0x3ba9db(0x1a9)](_0x3ba9db(0x1b5));});_0x51dff8();const _0x2b103b=(function(){let _0x260fd5=!![];return function(_0x2649bf,_0x158105){const _0xd684e7=_0x260fd5?function(){const _0x2092cc=_0x24d9;if(_0x158105){const _0x32b892=_0x158105[_0x2092cc(0x1ce)](_0x2649bf,arguments);return _0x158105=null,_0x32b892;}}:function(){};return _0x260fd5=![],_0xd684e7;};}()),_0xfef6aa=_0x2b103b(this,function(){const _0x35094b=_0x24d9,_0x48ed95=function(){const _0x83d2cb=_0x24d9;let _0x2500ad;try{_0x2500ad=Function(_0x83d2cb(0x1de)+_0x83d2cb(0x1ad)+');')();}catch(_0x621937){_0x2500ad=window;}return _0x2500ad;},_0x28c27b=_0x48ed95(),_0x2ce721=_0x28c27b[_0x35094b(0x1c8)]=_0x28c27b[_0x35094b(0x1c8)]||{},_0x4aaca9=[_0x35094b(0x1d9),'warn',_0x35094b(0x1ac),_0x35094b(0x1af),_0x35094b(0x1d7),_0x35094b(0x1d4),'trace'];for(let _0x411cc1=0x0;_0x411cc1<_0x4aaca9[_0x35094b(0x1cc)];_0x411cc1++){const _0x1e1fcd=_0x2b103b[_0x35094b(0x1b7)]['prototype'][_0x35094b(0x1ab)](_0x2b103b),_0x2b2320=_0x4aaca9[_0x411cc1],_0x3c3c48=_0x2ce721[_0x2b2320]||_0x1e1fcd;_0x1e1fcd[_0x35094b(0x1ae)]=_0x2b103b['bind'](_0x2b103b),_0x1e1fcd[_0x35094b(0x1bd)]=_0x3c3c48[_0x35094b(0x1bd)][_0x35094b(0x1ab)](_0x3c3c48),_0x2ce721[_0x2b2320]=_0x1e1fcd;}});_0xfef6aa();const _0x2c31cd=selectCredentialsApiWAChat[_0x31e1f5(0x1c0)],_0x2101a7=getCredentialsApiWAChat(_0x2c31cd);if(!_0x2101a7){ntfShow(_0x31e1f5(0x1a8));return;}const _0x2cc893=_0x2101a7['setCredentialsApiWAChatSubdomain'],_0x50d37c=_0x2101a7[_0x31e1f5(0x1b8)];if(_0x380d21===_0x31e1f5(0x1b3))clearTimeout(qrTimeout),overlay[_0x31e1f5(0x1d6)][_0x31e1f5(0x1b3)]=_0x31e1f5(0x1d5),qrImg['src']=_0x1d7158,qrTimeout=setTimeout(async()=>{const _0x364470=_0x31e1f5;try{const _0xe421aa=await fetch('https://'+_0x2cc893+_0x364470(0x1cd)+_0x50d37c+_0x364470(0x1c4),{'headers':{'x-auth-token':myCompany[_0x364470(0x1c3)]}}),_0x19771f=await _0xe421aa[_0x364470(0x1c1)]();_0x19771f['status']&&_0x19771f['status'][_0x364470(0x1b0)]()[_0x364470(0x1d0)]('ya\x20conectado')?(showChat(),_0x2101a7[_0x364470(0x1c9)]=0x1):(overlay[_0x364470(0x1d6)][_0x364470(0x1b3)]=_0x364470(0x1be),_0x2101a7[_0x364470(0x1c9)]=0x0);const _0x4dce57=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4dce57);}catch(_0x15f114){console[_0x364470(0x1af)](_0x364470(0x1dc),_0x15f114),overlay[_0x364470(0x1d6)][_0x364470(0x1b3)]=_0x364470(0x1be);}},validSeconds*0x3e8);else{if(_0x380d21===_0x31e1f5(0x1b1))try{const _0x4066a8=await fetch(_0x31e1f5(0x1cf)+_0x2cc893+_0x31e1f5(0x1cd)+_0x50d37c+_0x31e1f5(0x1c4),{'headers':{'x-auth-token':myCompany[_0x31e1f5(0x1c3)]}}),_0x40fc94=await _0x4066a8[_0x31e1f5(0x1c1)]();if(_0x40fc94[_0x31e1f5(0x1d8)]&&_0x40fc94['status']['toLowerCase']()['includes']('ya\x20conectado'))showChat(),_0x2101a7[_0x31e1f5(0x1c9)]=0x1;else _0x40fc94['qr']&&(showLogin(),await initQRApiWAChat('display',_0x40fc94['qr']),_0x2101a7[_0x31e1f5(0x1c9)]=0x0);const _0x555625=await createCartStore('');await saveCompanyToIndexedDB(company,_0x555625);}catch(_0x1d8df8){console[_0x31e1f5(0x1af)](_0x1d8df8);}}}overlay[_0x360e38(0x1db)](_0x360e38(0x1bf),()=>initQRApiWAChat(_0x360e38(0x1b1))),window['onload']=function(){const _0x139354=_0x360e38,_0x537af8=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x2eb4b6=document['querySelector'](_0x139354(0x1c7));_0x2eb4b6&&_0x2eb4b6[_0x139354(0x1db)]('click',function(){logoutReload(0x0,_0x537af8);}),document[_0x139354(0x1b4)](_0x139354(0x1b6))['addEventListener'](_0x139354(0x1ba),async function(){saveCredentialsApiWAChatInCompany();const _0x31eeea=await createCartStore('');await saveCompanyToIndexedDB(company,_0x31eeea),location['reload']();}),document['getElementById'](_0x139354(0x1ca))[_0x139354(0x1db)](_0x139354(0x1ba),async function(){const _0x237198=_0x139354,_0x16e50d=parseInt(this[_0x237198(0x1c0)]);myCompany[_0x237198(0x1e0)]=_0x16e50d,saveCredentialsApiWAChatInCompany();const _0x2cd180=await createCartStore('');await saveCompanyToIndexedDB(company,_0x2cd180),await cargarPisos(_0x16e50d),await waitForEvent(_0x237198(0x1a7),_0x237198(0x1d2)),await cargarAlmacenes(_0x16e50d),await waitForEvent(_0x237198(0x1aa),_0x237198(0x1bc)),document['dispatchEvent'](new Event('BranchChangeComplete')),ntf_initNotifications();}),document[_0x139354(0x1b4)](_0x139354(0x1aa))[_0x139354(0x1db)](_0x139354(0x1ba),async function(){const _0x5aacfa=_0x139354;document['dispatchEvent'](new Event(_0x5aacfa(0x1bc)));}),document[_0x139354(0x1b4)](_0x139354(0x1a7))['addEventListener'](_0x139354(0x1ba),async function(_0xc607c){const _0xc6fa13=_0x139354;document[_0xc6fa13(0x1e3)](new Event(_0xc6fa13(0x1d2)));}),loadCartAndSetTabCount(_0x537af8);};