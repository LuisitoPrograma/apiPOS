/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.5
*/

const _0x128536=_0x4625;(function(_0x2b0372,_0x4a474b){const _0x50ae9f=_0x4625,_0x197917=_0x2b0372();while(!![]){try{const _0x20805b=parseInt(_0x50ae9f(0x19a))/0x1*(parseInt(_0x50ae9f(0x1a4))/0x2)+parseInt(_0x50ae9f(0x1ab))/0x3*(-parseInt(_0x50ae9f(0x171))/0x4)+parseInt(_0x50ae9f(0x189))/0x5*(parseInt(_0x50ae9f(0x179))/0x6)+-parseInt(_0x50ae9f(0x1a5))/0x7+parseInt(_0x50ae9f(0x1a9))/0x8*(parseInt(_0x50ae9f(0x1a1))/0x9)+-parseInt(_0x50ae9f(0x190))/0xa*(parseInt(_0x50ae9f(0x1a6))/0xb)+parseInt(_0x50ae9f(0x18f))/0xc;if(_0x20805b===_0x4a474b)break;else _0x197917['push'](_0x197917['shift']());}catch(_0x39259b){_0x197917['push'](_0x197917['shift']());}}}(_0x4664,0xd86e2));function _0x4625(_0x43f66e,_0x2db0b5){const _0x12c1ae=_0x4664();return _0x4625=function(_0x179c2f,_0x4a90f3){_0x179c2f=_0x179c2f-0x16c;let _0x27f662=_0x12c1ae[_0x179c2f];return _0x27f662;},_0x4625(_0x43f66e,_0x2db0b5);}const _0x1bff82=(function(){let _0x25fda9=!![];return function(_0x4a653c,_0x34d5dc){const _0x29562f=_0x25fda9?function(){if(_0x34d5dc){const _0x42d41c=_0x34d5dc['apply'](_0x4a653c,arguments);return _0x34d5dc=null,_0x42d41c;}}:function(){};return _0x25fda9=![],_0x29562f;};}()),_0x12b4f2=_0x1bff82(this,function(){const _0x40486b=_0x4625;return _0x12b4f2['toString']()[_0x40486b(0x185)](_0x40486b(0x1ac))['toString']()[_0x40486b(0x186)](_0x12b4f2)[_0x40486b(0x185)](_0x40486b(0x1ac));});function _0x4664(){const _0x275669=['loginPanel','log','ya\x20conectado','table','./img/apiPOS.png','1008837gCanUr','onload','console','16636hDaTjM','12146946JmnCNJ','1111VkKIOU','chatPanel','exception','56pUdqGv','length','1725xbWjmY','(((.+)+)+)+$','Credenciales\x20no\x20encontradas','catch','then','error','setAuthToken','{}.constructor(\x22return\x20this\x22)(\x20)','setFloorId','value','964UzGhik','json','/qr','apply','dispatchEvent','info','status','getElementById','9564zEKzvV','setBranchId','none','toLowerCase','flex','toString','prototype','src','qr-overlay','hidden','qr-img','style','search','constructor','click','bind','190QWmQWr','display','visible','setCredentialsApiWAChatStatus','__proto__','addEventListener','26595252mRGfhH','79230qCybQn','visibility','setCredentialsApiWAChat','includes','setWarehouseId','/wa/','change','https://','trace','.btn-logout','60FrEEgw','setCredentialsApiWAChatPort'];_0x4664=function(){return _0x275669;};return _0x4664();}_0x12b4f2();const _0x4a90f3=(function(){let _0x510d6c=!![];return function(_0x54418b,_0x37b0e6){const _0x30d6d1=_0x510d6c?function(){const _0x17b36d=_0x4625;if(_0x37b0e6){const _0xb27816=_0x37b0e6[_0x17b36d(0x174)](_0x54418b,arguments);return _0x37b0e6=null,_0xb27816;}}:function(){};return _0x510d6c=![],_0x30d6d1;};}()),_0x179c2f=_0x4a90f3(this,function(){const _0x48151c=_0x4625;let _0xc946a5;try{const _0x197751=Function('return\x20(function()\x20'+_0x48151c(0x16e)+');');_0xc946a5=_0x197751();}catch(_0x3db691){_0xc946a5=window;}const _0x1012b6=_0xc946a5[_0x48151c(0x1a3)]=_0xc946a5['console']||{},_0x913c38=[_0x48151c(0x19d),'warn',_0x48151c(0x176),_0x48151c(0x16c),_0x48151c(0x1a8),_0x48151c(0x19f),_0x48151c(0x198)];for(let _0xfc4dc1=0x0;_0xfc4dc1<_0x913c38[_0x48151c(0x1aa)];_0xfc4dc1++){const _0x5c3169=_0x4a90f3['constructor'][_0x48151c(0x17f)]['bind'](_0x4a90f3),_0x1bc178=_0x913c38[_0xfc4dc1],_0x42dfa3=_0x1012b6[_0x1bc178]||_0x5c3169;_0x5c3169[_0x48151c(0x18d)]=_0x4a90f3[_0x48151c(0x188)](_0x4a90f3),_0x5c3169[_0x48151c(0x17e)]=_0x42dfa3['toString'][_0x48151c(0x188)](_0x42dfa3),_0x1012b6[_0x1bc178]=_0x5c3169;}});_0x179c2f();const selectCredentialsApiWAChat=document[_0x128536(0x178)](_0x128536(0x192)),loginPanel=document[_0x128536(0x178)](_0x128536(0x19c)),chatPanel=document[_0x128536(0x178)](_0x128536(0x1a7)),qrImg=document[_0x128536(0x178)](_0x128536(0x183)),overlay=document['getElementById'](_0x128536(0x181));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x386ac1=_0x128536;loginPanel[_0x386ac1(0x184)][_0x386ac1(0x18a)]=_0x386ac1(0x17d),chatPanel['style']['visibility']=_0x386ac1(0x182);}function showChat(){const _0x4ec5d1=_0x128536;loginPanel['style'][_0x4ec5d1(0x18a)]=_0x4ec5d1(0x17b),chatPanel[_0x4ec5d1(0x184)][_0x4ec5d1(0x191)]=_0x4ec5d1(0x18b);}async function displayQR(_0xc693d1){const _0x48df20=_0x128536,_0x4fb247=selectCredentialsApiWAChat[_0x48df20(0x170)],_0x95b45d=getCredentialsApiWAChat(_0x4fb247);if(_0x95b45d){const _0x1dd480=_0x95b45d['setCredentialsApiWAChatSubdomain'],_0x1e88f9=_0x95b45d[_0x48df20(0x19b)];clearTimeout(qrTimeout),overlay[_0x48df20(0x184)][_0x48df20(0x18a)]='none',qrImg[_0x48df20(0x180)]=_0xc693d1,qrTimeout=setTimeout(()=>{const _0x2aa6bc=_0x48df20;fetch(_0x2aa6bc(0x197)+_0x1dd480+_0x2aa6bc(0x195)+_0x1e88f9+'/qr',{'headers':{'x-auth-token':myCompany[_0x2aa6bc(0x16d)]}})[_0x2aa6bc(0x1af)](async _0x475cc4=>_0x475cc4[_0x2aa6bc(0x172)]())[_0x2aa6bc(0x1af)](async _0x4249ae=>{const _0x1d37ee=_0x2aa6bc;_0x4249ae[_0x1d37ee(0x177)]&&_0x4249ae['status'][_0x1d37ee(0x17c)]()['includes'](_0x1d37ee(0x19e))?(showChat(),_0x95b45d[_0x1d37ee(0x18c)]=0x1):(overlay[_0x1d37ee(0x184)][_0x1d37ee(0x18a)]=_0x1d37ee(0x17d),_0x95b45d['setCredentialsApiWAChatStatus']=0x0);const _0x56e5b8=await createCartStore('');await saveCompanyToIndexedDB(company,_0x56e5b8);})[_0x2aa6bc(0x1ae)](_0x393899=>{const _0x5f3e96=_0x2aa6bc;console['error']('Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:',_0x393899),overlay[_0x5f3e96(0x184)][_0x5f3e96(0x18a)]='flex';});},validSeconds*0x3e8);}else ntfShow(_0x48df20(0x1ad));}async function init(){const _0x16b530=_0x128536,_0x52fbc7=selectCredentialsApiWAChat['value'],_0x243c5d=getCredentialsApiWAChat(_0x52fbc7);if(_0x243c5d){const _0x49a73c=_0x243c5d['setCredentialsApiWAChatSubdomain'],_0x4b709f=_0x243c5d[_0x16b530(0x19b)];fetch(_0x16b530(0x197)+_0x49a73c+_0x16b530(0x195)+_0x4b709f+_0x16b530(0x173),{'headers':{'x-auth-token':myCompany['setAuthToken']}})['then'](async _0x244375=>_0x244375[_0x16b530(0x172)]())[_0x16b530(0x1af)](async _0x40d85d=>{const _0xe031aa=_0x16b530;if(_0x40d85d[_0xe031aa(0x177)]&&_0x40d85d[_0xe031aa(0x177)][_0xe031aa(0x17c)]()[_0xe031aa(0x193)](_0xe031aa(0x19e)))showChat(),_0x243c5d[_0xe031aa(0x18c)]=0x1;else _0x40d85d['qr']&&(showLogin(),displayQR(_0x40d85d['qr']),_0x243c5d['setCredentialsApiWAChatStatus']=0x0);const _0x5d0df5=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5d0df5);})[_0x16b530(0x1ae)](console['error']);}else ntfShow(_0x16b530(0x1ad));}overlay[_0x128536(0x18e)]('click',init),window[_0x128536(0x1a2)]=function(){const _0x42bb51=_0x128536,_0x2bdf2e=0x4;loadLoginContent(_0x42bb51(0x1a0)),setUserNameGet(),setEventBtnAccess();const _0x20d445=document['querySelector'](_0x42bb51(0x199));_0x20d445&&_0x20d445['addEventListener'](_0x42bb51(0x187),function(){logoutReload(0x0,_0x2bdf2e);}),document[_0x42bb51(0x178)](_0x42bb51(0x17a))[_0x42bb51(0x18e)](_0x42bb51(0x196),async function(){const _0x2eecae=_0x42bb51,_0x4501ff=parseInt(this[_0x2eecae(0x170)]);myCompany['setBranchDefault']=_0x4501ff,saveCredentialsApiWAChatInCompany();const _0x32ab14=await createCartStore('');await saveCompanyToIndexedDB(company,_0x32ab14),cargarAlmacenes(_0x4501ff),setTimeout(()=>{const _0x448ea5=_0x2eecae;document[_0x448ea5(0x178)](_0x448ea5(0x194))[_0x448ea5(0x175)](new Event(_0x448ea5(0x196)));},0x64),cargarPisos(_0x4501ff),setTimeout(()=>{const _0x541532=_0x2eecae;document[_0x541532(0x178)](_0x541532(0x16f))[_0x541532(0x175)](new Event(_0x541532(0x196)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2bdf2e);};