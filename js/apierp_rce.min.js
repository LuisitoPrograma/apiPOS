/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.5
*/

const _0x3e1763=_0x29b9;(function(_0x5c34a1,_0x3fdbae){const _0x42c147=_0x29b9,_0x34ade4=_0x5c34a1();while(!![]){try{const _0x1d2772=-parseInt(_0x42c147(0xfd))/0x1*(-parseInt(_0x42c147(0x147))/0x2)+parseInt(_0x42c147(0x1a2))/0x3+parseInt(_0x42c147(0xe1))/0x4+-parseInt(_0x42c147(0x107))/0x5+-parseInt(_0x42c147(0xe4))/0x6+parseInt(_0x42c147(0x192))/0x7+parseInt(_0x42c147(0x135))/0x8*(-parseInt(_0x42c147(0x149))/0x9);if(_0x1d2772===_0x3fdbae)break;else _0x34ade4['push'](_0x34ade4['shift']());}catch(_0x33c8ce){_0x34ade4['push'](_0x34ade4['shift']());}}}(_0x312e,0x1af5d));function _0x312e(){const _0x4b54c9=['#pagination-products','Siguiente\x20&raquo;','init','innerHTML','mousemove','remove','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','constructor','dynamicContent','Selecciona\x20ambas\x20fechas','.xlsx','getElementById','{}.constructor(\x22return\x20this\x22)(\x20)','setOperationType','Total','width','Error\x20al\x20solicitar\x20reporte','setOperationDetailUnitPresentationId','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','158240fEqwQM','info','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','pdf_url','btn\x20btn-sm\x20btn-outline\x20ms-2','sales','shadow','setWarehouseId','50%','divChartIncome','setSeries','category','products','application/json','application/octet-stream','querySelector','line','fechaISO','12dQiyHW','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','36cMVgYw','customerName','preventDefault','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','(((.+)+)+)+$','#pagination-customers','application/json;\x20charset=utf-8','Ganancia','from','search','setOperationTypeSpan','add','total','https://fasyb.com/api/venta/view/?id=','href','Pagado','#pagination-income','Ventas\x20por\x20Producto','forEach','modalOverlayViewDetails','setApiEndPoint','toString','setOperationSeries','change','.table-wrapper','dispatchEvent','mouseup','setBranchId','isArray','apply','ceil','btn\x20btn-sm\x20','console','</td>\x0a<td>','scrollLeft','No\x20se\x20encontró\x20información\x20de\x20ingresos','#reporte-income','Error\x20al\x20cargar\x20el\x20detalle:','toISOString','querySelectorAll','data','.btn-logout','exportReport','entries','bottom','block','100%','incomes','download','push','Ventas','createElement','POST','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','log','cost','none','top','filterModal','btn\x20btn-sm\x20btn-outline\x20me-2','hide','Ventas\x20por\x20Cliente','textContent','find','divChartItem','round','factura','Export\x20WK\x20Error:','json','table','valor_unitario','setCustomers','876365nvxdbI','onload','detalleModal','&tipo=','reduce','createObjectURL','btn-outline','dataset_','valueDesc','bind','Modal','Pendiente','setOperationDateTime','toFixed','assign','setOperationDetailQuantity','148491VrRERP','setAuthToken','El\x20contenedor\x20con\x20id\x20\x22','name','RCE','Contenedor\x20','dataset_raw','sort','./img/apiPOS.png','error','substring','center','Sin\x20descripción','pie','\x20no\x20existe','{b}:\x20{d}%','setOption','mousedown','setFloorId','click','values','warn','closeModalViewDetails','setTipoOperaciones','prototype','currency','setTipoComprobante','slice','detalle','boleta','addEventListener','setOperationPaymentStatusName','\x22\x20no\x20existe.','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','#00AEEF','\x0a<iframe\x20src=\x22','setOperationPaymentStatusColor','380284sBFJyz','500px','split','1310382TNUitA','filter-start','\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-','setOperationCustomerId','bar','setSerie','postMessage','apply-filter','__proto__','pageX','offsetLeft','\x2000:00:00','#reporte-income-products','revokeObjectURL','btnExport','height','divChartCustomer','additionalFilters','</td>\x0a</tr>','length','item','stringify','className',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setOperationPaymentStatus','23313HWeGcg','setTipoOperacionCodigo','exportDone','onclick','setOperationTotal','setOperationCustomerName','profit','setOperationDetailTotal','value','exception','8475OUbElR','statusText','success','map','\x22>\x0a','recibo','filter','customers','active','filter-end','\x0a</td>\x0a<td></td>\x0a','setCustomerId','Error\x20al\x20cargar\x20el\x20detalle.','...','status','setOperationDetailUnitCost','setOperationId','setOperationItems','classList','appendChild','flatMap','#reporte-income-customers','#080060','setOperationCurrency',';\x22>\x0a','then','style'];_0x312e=function(){return _0x4b54c9;};return _0x312e();}const _0x2874f9=(function(){let _0x25050=!![];return function(_0xf7dda3,_0x4c8559){const _0x1c4b95=_0x25050?function(){const _0x5ba46f=_0x29b9;if(_0x4c8559){const _0x56fa32=_0x4c8559[_0x5ba46f(0x166)](_0xf7dda3,arguments);return _0x4c8559=null,_0x56fa32;}}:function(){};return _0x25050=![],_0x1c4b95;};}()),_0x516129=_0x2874f9(this,function(){const _0x4efdec=_0x29b9;return _0x516129['toString']()[_0x4efdec(0x152)](_0x4efdec(0x14d))[_0x4efdec(0x15e)]()[_0x4efdec(0x129)](_0x516129)[_0x4efdec(0x152)](_0x4efdec(0x14d));});function _0x29b9(_0x38b934,_0x10ce3b){const _0x51d091=_0x312e();return _0x29b9=function(_0x18e58d,_0x8aa8){_0x18e58d=_0x18e58d-0xc5;let _0x3994bc=_0x51d091[_0x18e58d];return _0x3994bc;},_0x29b9(_0x38b934,_0x10ce3b);}_0x516129();const _0x8aa8=(function(){let _0x5cb986=!![];return function(_0x4dd877,_0x5ba345){const _0x1ce2ea=_0x5cb986?function(){const _0x4796d8=_0x29b9;if(_0x5ba345){const _0x24d892=_0x5ba345[_0x4796d8(0x166)](_0x4dd877,arguments);return _0x5ba345=null,_0x24d892;}}:function(){};return _0x5cb986=![],_0x1ce2ea;};}()),_0x18e58d=_0x8aa8(this,function(){const _0x3f36fe=_0x29b9,_0x4ed74e=function(){const _0x445d60=_0x29b9;let _0x5e71f0;try{_0x5e71f0=Function('return\x20(function()\x20'+_0x445d60(0x12e)+');')();}catch(_0x2d8383){_0x5e71f0=window;}return _0x5e71f0;},_0x248016=_0x4ed74e(),_0x3ce00a=_0x248016[_0x3f36fe(0x169)]=_0x248016[_0x3f36fe(0x169)]||{},_0x2fac6c=[_0x3f36fe(0x180),_0x3f36fe(0xd1),_0x3f36fe(0x136),'error',_0x3f36fe(0x106),_0x3f36fe(0x18f),'trace'];for(let _0x396ecb=0x0;_0x396ecb<_0x2fac6c[_0x3f36fe(0xf7)];_0x396ecb++){const _0x1df75d=_0x8aa8['constructor'][_0x3f36fe(0xd4)]['bind'](_0x8aa8),_0x3be7b0=_0x2fac6c[_0x396ecb],_0x5eb986=_0x3ce00a[_0x3be7b0]||_0x1df75d;_0x1df75d[_0x3f36fe(0xec)]=_0x8aa8['bind'](_0x8aa8),_0x1df75d[_0x3f36fe(0x15e)]=_0x5eb986[_0x3f36fe(0x15e)][_0x3f36fe(0x19b)](_0x5eb986),_0x3ce00a[_0x3be7b0]=_0x1df75d;}});_0x18e58d();let arrayIncomes;const divChartIncome=document[_0x3e1763(0x12d)](_0x3e1763(0x13e));let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x160b8e){const _0x33d325=_0x3e1763,{containerId:_0x2e7424,rawData:_0x359f1f,groupField:_0x3bb3f5,groupValues:_0x57c66d,seriesType:seriesType='line',chartType:chartType=seriesType,encode:_0x3aa441,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x33d325(0x19a),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x12eaa1,height:_0xe69d16}=_0x160b8e,_0xe16390=document[_0x33d325(0x12d)](_0x2e7424);if(!_0xe16390){console[_0x33d325(0xc5)](_0x33d325(0x1a4)+_0x2e7424+_0x33d325(0xdc));return;}if(_0x12eaa1)_0xe16390['style'][_0x33d325(0x131)]=_0x12eaa1;if(_0xe69d16)_0xe16390[_0x33d325(0x121)][_0x33d325(0xf3)]=_0xe69d16;const _0x4e6004=echarts[_0x33d325(0x124)](_0xe16390),_0x527b57=[],_0x1ea189=[];_0x57c66d[_0x33d325(0x15b)]((_0x1ff864,_0x3fedf0)=>{const _0x49b4e0=_0x33d325,_0x4e707c=_0x49b4e0(0x199)+_0x1ff864,_0x4d512f=(_0x160b8e[_0x49b4e0(0xf5)]||[])['concat']([{'dimension':_0x3bb3f5,'=':_0x1ff864}]);_0x527b57['push']({'id':_0x4e707c,'fromDatasetId':_0x49b4e0(0x1a8),'transform':{'type':_0x49b4e0(0x10d),'config':{'and':_0x4d512f}}}),_0x1ea189[_0x49b4e0(0x17a)]({'type':chartType,'datasetId':_0x4e707c,'name':_0x1ff864,...chartType===_0x49b4e0(0xe8)&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x3fedf0]||undefined},...chartType===_0x49b4e0(0x145)&&{'showSymbol':![]},'encode':_0x3aa441});});const _0x5cab33={'animationDuration':animationDuration,'dataset':[{'id':_0x33d325(0x1a8),'source':_0x359f1f},..._0x527b57],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x33d325(0x1a0)]({'type':_0x33d325(0x140),'nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x33d325(0x1a0)]({'name':_0x3aa441['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x1ea189};_0x4e6004[_0x33d325(0xcc)](_0x5cab33);}function generatePieChart({containerId:_0x2cf20f,data:_0x3de901,nameField:_0x506df1,valueField:_0x385a79,title:title='',titlePosition:titlePosition=_0x3e1763(0x183),showTitle:showTitle=!![],width:_0x5d3017,height:_0x4fc7b9}){const _0x72eb99=_0x3e1763,_0x9f3583=document[_0x72eb99(0x12d)](_0x2cf20f);if(!_0x9f3583)return console['error'](_0x72eb99(0x1a7)+_0x2cf20f+_0x72eb99(0xca));if(_0x5d3017)_0x9f3583[_0x72eb99(0x121)]['width']=_0x5d3017;if(_0x4fc7b9)_0x9f3583[_0x72eb99(0x121)][_0x72eb99(0xf3)]=_0x4fc7b9;const _0x259090=echarts[_0x72eb99(0x124)](_0x9f3583),_0x4f31b3=_0x3de901['reduce']((_0xac2da0,_0x5b61c2)=>{const _0x57561b=_0x72eb99,_0x1485a5=_0x5b61c2[_0x506df1],_0x28083b=_0x5b61c2[_0x385a79];let _0x23a449=_0xac2da0[_0x57561b(0x189)](_0x5bb5d2=>_0x5bb5d2[_0x57561b(0x1a5)]===_0x1485a5);return!_0x23a449&&(_0x23a449={'name':_0x1485a5,'value':0x0},_0xac2da0[_0x57561b(0x17a)](_0x23a449)),_0x23a449[_0x57561b(0x105)]+=_0x28083b,_0xac2da0;},[]);let _0x2397f2;showTitle?(_0x2397f2={'text':title,'left':'center'},titlePosition===_0x72eb99(0x175)?_0x2397f2[_0x72eb99(0x175)]=0x0:_0x2397f2[_0x72eb99(0x183)]=0x0):_0x2397f2={'show':![]};const _0x4fc15f={'title':_0x2397f2,'tooltip':{'trigger':_0x72eb99(0xf8)},'series':[{'type':_0x72eb99(0xc9),'radius':_0x72eb99(0x13d),'data':_0x4f31b3,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x72eb99(0xcb)}}]};_0x259090[_0x72eb99(0xcc)](_0x4fc15f);}function generateHorizontalBarChart({containerId:_0x1a8d95,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x3e1763(0x183),showTitle:showTitle=!![],colors:colors=[],width:_0x4e2db3,height:_0x291f55,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x203333=_0x3e1763,_0x1d753a=document[_0x203333(0x12d)](_0x1a8d95);if(!_0x1d753a)return console[_0x203333(0xc5)]('Contenedor\x20'+_0x1a8d95+_0x203333(0xca));if(_0x4e2db3)_0x1d753a[_0x203333(0x121)][_0x203333(0x131)]=_0x4e2db3;if(_0x291f55)_0x1d753a[_0x203333(0x121)]['height']=_0x291f55;const _0x31da21=echarts['init'](_0x1d753a),_0x232e96=showTitle?{'text':title,'left':_0x203333(0xc7),...titlePosition==='bottom'?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x203333(0x175)?_0x232e96[_0x203333(0x175)]=0x0:_0x232e96[_0x203333(0x183)]=0x0;const _0x4802db={'title':_0x232e96,'tooltip':{'trigger':'axis','axisPointer':{'type':_0x203333(0x13b)}},'legend':{},'grid':Object[_0x203333(0x1a0)]({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object['assign']({'type':_0x203333(0x105),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x203333(0x1a0)]({'type':_0x203333(0x140),'data':categories},yAxisConfig),'series':series['map']((_0xad19df,_0x517149)=>({'type':'bar','name':_0xad19df[_0x203333(0x1a5)],'data':_0xad19df[_0x203333(0x171)],'itemStyle':{'color':colors[_0x517149]||undefined}}))};_0x31da21[_0x203333(0xcc)](_0x4802db);}function showModalViewDetails(){const _0x175923=_0x3e1763,_0x2d86d6=document[_0x175923(0x12d)](_0x175923(0x194)),_0xf8e3e2=document['getElementById']('modalOverlayViewDetails');_0x2d86d6[_0x175923(0x119)][_0x175923(0x154)](_0x175923(0x10f)),_0xf8e3e2[_0x175923(0x121)]['display']=_0x175923(0x176);}function hideModalViewDetails(){const _0x38663b=_0x3e1763,_0x9468d5=document[_0x38663b(0x12d)](_0x38663b(0x194)),_0x3720bc=document[_0x38663b(0x12d)](_0x38663b(0x15c));_0x9468d5[_0x38663b(0x119)][_0x38663b(0x127)]('active'),_0x3720bc[_0x38663b(0x121)]['display']=_0x38663b(0x182);const _0x266394=document[_0x38663b(0x12d)](_0x38663b(0x12a));_0x266394[_0x38663b(0x125)]=_0x38663b(0x148);}document['getElementById'](_0x3e1763(0xd2))['addEventListener']('click',hideModalViewDetails),document[_0x3e1763(0x12d)](_0x3e1763(0x15c))[_0x3e1763(0xda)]('click',hideModalViewDetails);function verDetalle(_0x442736,_0x134159){const _0x4b287d=_0x3e1763;fetch(_0x4b287d(0x156)+_0x442736+_0x4b287d(0x195)+_0x134159)[_0x4b287d(0x120)](_0x3011ae=>{const _0x117a08=_0x4b287d;if(!_0x3011ae['ok'])throw new Error('Error\x20'+_0x3011ae[_0x117a08(0x115)]+':\x20'+_0x3011ae[_0x117a08(0x108)]);return _0x3011ae[_0x117a08(0x18e)]();})[_0x4b287d(0x120)](_0x2d7267=>{const _0x5c32c9=_0x4b287d;if(_0x2d7267[_0x5c32c9(0x109)]){const _0x25c438=document['getElementById'](_0x5c32c9(0x12a));if(_0x134159===_0x5c32c9(0xd8)){let _0x544fec='';_0x2d7267[_0x5c32c9(0x171)][_0x5c32c9(0x15b)](_0x599ca8=>{const _0x183e8d=_0x5c32c9;_0x544fec+='\x0a<tr>\x0a<td>'+_0x599ca8['producto']+_0x183e8d(0x16a)+_0x599ca8['cantidad']+'</td>\x0a<td>'+_0x599ca8[_0x183e8d(0x190)]+'</td>\x0a<td>'+_0x599ca8[_0x183e8d(0x155)]+_0x183e8d(0xf6);}),document['getElementById']('detalleTablaBody')[_0x5c32c9(0x125)]=_0x544fec;}else{if(_0x134159==='pdf'){const _0x28a353='https://fasyb.com/api/pdf/proxy/?file='+encodeURIComponent(_0x2d7267[_0x5c32c9(0x138)]),_0x260b94=document['querySelector']('.modal-content');_0x25c438[_0x5c32c9(0x125)]=_0x5c32c9(0xdf)+_0x28a353+_0x5c32c9(0x137),document[_0x5c32c9(0x12d)](_0x5c32c9(0xd2))[_0x5c32c9(0xda)](_0x5c32c9(0xcf),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x2d7267['error']||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})['catch'](_0x21034f=>{const _0x14b6eb=_0x4b287d;console[_0x14b6eb(0xc5)](_0x14b6eb(0x16e),_0x21034f),alert(_0x14b6eb(0x113));});}const tableWrappers=document[_0x3e1763(0x170)](_0x3e1763(0x161));tableWrappers[_0x3e1763(0x15b)](_0x14e1eb=>{const _0x3443b5=_0x3e1763;let _0x398d00=![],_0x2a357c,_0x566765;_0x14e1eb[_0x3443b5(0xda)](_0x3443b5(0xcd),_0x4deff9=>{const _0x10b2b1=_0x3443b5;_0x398d00=!![],_0x2a357c=_0x4deff9[_0x10b2b1(0xed)]-_0x14e1eb[_0x10b2b1(0xee)],_0x566765=_0x14e1eb[_0x10b2b1(0x16b)];}),_0x14e1eb[_0x3443b5(0xda)]('mouseleave',()=>{_0x398d00=![];}),_0x14e1eb[_0x3443b5(0xda)](_0x3443b5(0x163),()=>{_0x398d00=![];}),_0x14e1eb['addEventListener'](_0x3443b5(0x126),_0x4d11e5=>{const _0x5613a2=_0x3443b5;if(!_0x398d00)return;_0x4d11e5[_0x5613a2(0x14b)]();const _0x2b94d8=_0x4d11e5[_0x5613a2(0xed)]-_0x14e1eb['offsetLeft'],_0x2645e7=(_0x2b94d8-_0x2a357c)*0x2;_0x14e1eb[_0x5613a2(0x16b)]=_0x566765-_0x2645e7;});});async function consultIncomeReport(){const _0x4a3509=_0x3e1763;showLoadingModal();const _0x3c795a={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x435ec8=await fetch(myCompany[_0x4a3509(0x15d)],{'method':_0x4a3509(0x17d),'headers':{'Content-Type':_0x4a3509(0x14f)},'body':JSON[_0x4a3509(0xf9)](_0x3c795a)}),{success:_0x244b36,message:_0x1fbd5f}=await _0x435ec8[_0x4a3509(0x18e)]();if(!_0x244b36||!Array[_0x4a3509(0x165)](_0x1fbd5f[_0x4a3509(0x178)])){ntfShow(_0x4a3509(0x16c)),console[_0x4a3509(0x180)](_0x1fbd5f);return;}const _0x24ca34=_0x1fbd5f[_0x4a3509(0x178)],_0x100e9e=myCompany[_0x4a3509(0x191)]['reduce']((_0x4fe332,_0x54ba01)=>(_0x4fe332[_0x54ba01[_0x4a3509(0x112)]]=_0x54ba01['setCustomerName'],_0x4fe332),{}),_0x2ecacf=myCompany[_0x4a3509(0xd3)][_0x4a3509(0x196)]((_0x42f035,_0x3f672b)=>(_0x42f035[_0x3f672b[_0x4a3509(0xfe)]]=_0x3f672b['setTipoOperacionName'],_0x42f035),{}),_0x9441d6=myCompany[_0x4a3509(0x13f)][_0x4a3509(0x196)]((_0x2b47cc,_0x18536e)=>(_0x2b47cc[_0x18536e['ID_SERIE']]=_0x18536e[_0x4a3509(0xe9)],_0x2b47cc),{});arrayIncomes=_0x24ca34[_0x4a3509(0x10a)](_0x13bb17=>{const _0x44a439=_0x4a3509,_0x506275=_0x13bb17['setOperationItems'][_0x44a439(0x196)]((_0x127ee1,_0x5877e1)=>_0x127ee1+Number(_0x5877e1[_0x44a439(0x104)]),0x0),_0x253068=_0x2ecacf[_0x13bb17['setOperationType']]||_0x13bb17[_0x44a439(0x12f)],_0x3ff654=_0x9441d6[_0x13bb17[_0x44a439(0x15f)]]||_0x13bb17[_0x44a439(0x15f)],_0x1e3755=_0x100e9e[_0x13bb17[_0x44a439(0xe7)]]||_0x13bb17[_0x44a439(0xe7)],_0x536031=_0x13bb17[_0x44a439(0xfc)]==0x1?'#00bb2d':'#FF5900',_0x97980e=_0x13bb17['setOperationPaymentStatus']==0x1?_0x44a439(0x158):_0x44a439(0x19d),_0x4a8094=_0x13bb17[_0x44a439(0x12f)]==0x1?'pedido':_0x13bb17['setOperationType']==0x2?_0x44a439(0x10c):_0x13bb17[_0x44a439(0x12f)]==0x3?_0x44a439(0xd9):_0x13bb17[_0x44a439(0x12f)]==0x4?_0x44a439(0x18c):_0x44a439(0x10c);return{'setOperationId':_0x13bb17[_0x44a439(0x117)],'setOperationType':_0x253068,'setOperationTypeSpan':_0x4a8094,'setOperationSeries':_0x3ff654+'-'+_0x13bb17['setOperationNumber'],'setOperationCustomerName':_0x1e3755,'setOperationDateTime':_0x13bb17[_0x44a439(0x19e)],'setOperationPaymentStatusColor':_0x536031,'setOperationPaymentStatusName':_0x97980e,'setOperationCurrency':_0x13bb17[_0x44a439(0x11e)],'setOperationTotal':_0x506275};});const _0x3fdaa4=_0x24ca34[_0x4a3509(0x11b)](_0x7b9a90=>_0x7b9a90[_0x4a3509(0x118)][_0x4a3509(0x10a)](_0x164d35=>({'item':_0x164d35,'moneda':_0x7b9a90['setOperationCurrency']})))[_0x4a3509(0x196)]((_0xf3b5e4,{item:_0x201dbc,moneda:_0x583681})=>{const _0x3fd2f2=_0x4a3509,_0x4f5806=products['find'](_0x13f951=>_0x13f951['id']==_0x201dbc[_0x3fd2f2(0x133)]),_0x11f6aa=_0x4f5806?_0x4f5806['setDescripcion']:_0x3fd2f2(0xc8),_0x7ab414=_0x11f6aa+'|'+_0x583681,_0x3bf721=Number(_0x201dbc[_0x3fd2f2(0x104)]),_0x2d1d30=Number(_0x201dbc['setOperationDetailUnitCost'])*Number(_0x201dbc[_0x3fd2f2(0x1a1)]);return!_0xf3b5e4[_0x7ab414]&&(_0xf3b5e4[_0x7ab414]={'productName':_0x11f6aa,'currency':_0x583681,'sales':0x0,'cost':0x0}),_0xf3b5e4[_0x7ab414][_0x3fd2f2(0x13a)]+=_0x3bf721,_0xf3b5e4[_0x7ab414][_0x3fd2f2(0x181)]+=_0x2d1d30,_0xf3b5e4;},{}),_0x4a5857=Object['values'](_0x3fdaa4)['map'](_0x2f6a8d=>({'productName':_0x2f6a8d['productName'],'currency':_0x2f6a8d['currency'],'sales':Math['round'](_0x2f6a8d[_0x4a3509(0x13a)]*0x64)/0x64,'cost':Math['round'](_0x2f6a8d['cost']*0x64)/0x64,'profit':Math[_0x4a3509(0x18b)]((_0x2f6a8d[_0x4a3509(0x13a)]-_0x2f6a8d[_0x4a3509(0x181)])*0x64)/0x64})),_0x28bd92=_0x24ca34[_0x4a3509(0x196)]((_0x2f8a20,_0x3b9384)=>{const _0x40f364=_0x4a3509,_0x421d0d=_0x100e9e[_0x3b9384[_0x40f364(0xe7)]]||_0x3b9384[_0x40f364(0xe7)],_0x2068c4=_0x3b9384['setOperationCurrency'],_0x4760c1=_0x421d0d+'|'+_0x2068c4,_0x56f8fe=_0x3b9384[_0x40f364(0x118)][_0x40f364(0x196)]((_0x3599c3,_0x14aa66)=>_0x3599c3+Number(_0x14aa66[_0x40f364(0x104)]),0x0),_0x1d708f=_0x3b9384['setOperationItems'][_0x40f364(0x196)]((_0x50751a,_0x17e048)=>_0x50751a+Number(_0x17e048[_0x40f364(0x116)])*Number(_0x17e048[_0x40f364(0x1a1)]),0x0);return!_0x2f8a20[_0x4760c1]&&(_0x2f8a20[_0x4760c1]={'customerName':_0x421d0d,'currency':_0x2068c4,'sales':0x0,'cost':0x0}),_0x2f8a20[_0x4760c1]['sales']+=_0x56f8fe,_0x2f8a20[_0x4760c1][_0x40f364(0x181)]+=_0x1d708f,_0x2f8a20;},{}),_0x13e2da=Object[_0x4a3509(0xd0)](_0x28bd92)[_0x4a3509(0x10a)](_0x26fd5d=>({'customerName':_0x26fd5d[_0x4a3509(0x14a)],'currency':_0x26fd5d['currency'],'sales':Math[_0x4a3509(0x18b)](_0x26fd5d[_0x4a3509(0x13a)]*0x64)/0x64,'cost':Math['round'](_0x26fd5d[_0x4a3509(0x181)]*0x64)/0x64,'profit':Math['round']((_0x26fd5d[_0x4a3509(0x13a)]-_0x26fd5d[_0x4a3509(0x181)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x4a3509(0x178)),renderTable(_0x4a5857,currentPageProducts,'products'),renderTable(_0x13e2da,currentPageCustomers,_0x4a3509(0x10e));const _0xa93e5f=arrayIncomes[_0x4a3509(0x10a)](_0x4214e4=>({'fechaISO':_0x4214e4[_0x4a3509(0x19e)][_0x4a3509(0xe3)]('\x20')[0x0],'setTipoComprobante':_0x4214e4['setOperationType'],'setOperationCurrency':_0x4214e4[_0x4a3509(0x11e)],'Total':Math[_0x4a3509(0x18b)](_0x4214e4[_0x4a3509(0x101)]*0x64)/0x64})),_0x6e15a1=_0xa93e5f[_0x4a3509(0x196)]((_0x25a93d,_0x154e54)=>{const _0x44e325=_0x4a3509,_0x1b6841=_0x154e54[_0x44e325(0x146)]+'|'+_0x154e54[_0x44e325(0xd6)]+'|'+_0x154e54[_0x44e325(0x11e)];if(!_0x25a93d[_0x1b6841])_0x25a93d[_0x1b6841]={..._0x154e54,'Total':0x0};return _0x25a93d[_0x1b6841][_0x44e325(0x130)]+=_0x154e54[_0x44e325(0x130)],_0x25a93d;},{}),_0x8d52fa=Object[_0x4a3509(0xd0)](_0x6e15a1)['map'](_0x46206c=>({'fechaISO':_0x46206c['fechaISO'],'setTipoComprobante':_0x46206c[_0x4a3509(0xd6)]+'\x20('+_0x46206c[_0x4a3509(0x11e)]+')','Total':Math[_0x4a3509(0x18b)](_0x46206c['Total']*0x64)/0x64})),_0x345ee2=[...new Set(_0x8d52fa[_0x4a3509(0x10a)](_0x112ab4=>_0x112ab4[_0x4a3509(0xd6)]))],_0x3089bc=Array[_0x4a3509(0x151)](new Set(_0x8d52fa[_0x4a3509(0x10a)](_0x11b0b1=>_0x11b0b1['fechaISO'])))[_0x4a3509(0x1a9)]((_0x3e7862,_0x634b96)=>new Date(_0x3e7862)-new Date(_0x634b96));_0x8d52fa['length']>0x0?generateFilterTransformChart({'containerId':_0x4a3509(0x13e),'rawData':_0x8d52fa,'groupField':_0x4a3509(0xd6),'groupValues':_0x345ee2,'seriesType':'bar','chartType':_0x4a3509(0xe8),'colors':['#FF5900',_0x4a3509(0x11d)],'encode':{'x':_0x4a3509(0x146),'y':'Total','label':['setTipoComprobante','Total'],'itemName':'fechaISO','tooltip':['Total']},'xAxisConfig':{'type':'category','data':_0x3089bc,'axisLabel':{'formatter':_0x24a93c=>{const _0x447083=_0x4a3509,[_0x7eab1d,_0x5954ff,_0x194361]=_0x24a93c[_0x447083(0xe3)]('-');return _0x194361+'/'+_0x5954ff+'/'+_0x7eab1d;}}},'title':'Evolución\x20de\x20Ventas','width':_0x4a3509(0x177),'height':_0x4a3509(0xe2)}):divChartIncome[_0x4a3509(0x125)]='';_0x4a5857[_0x4a3509(0xf7)]>0x0?generateHorizontalBarChart({'containerId':_0x4a3509(0x18a),'categories':_0x4a5857[_0x4a3509(0x10a)](_0xfb6437=>{const _0x56f5d6=_0x4a3509,_0x33e334='('+_0xfb6437['currency']+')\x20'+_0xfb6437['productName'];return _0x33e334[_0x56f5d6(0xf7)]>0xf?_0x33e334[_0x56f5d6(0xc6)](0x0,0xf)+_0x56f5d6(0x114):_0x33e334;}),'series':[{'name':_0x4a3509(0x17b),'data':_0x4a5857[_0x4a3509(0x10a)](_0x33186a=>_0x33186a[_0x4a3509(0x13a)])},{'name':'Costo','data':_0x4a5857[_0x4a3509(0x10a)](_0x4a2ed1=>_0x4a2ed1[_0x4a3509(0x181)])},{'name':_0x4a3509(0x150),'data':_0x4a5857[_0x4a3509(0x10a)](_0x5118e1=>_0x5118e1[_0x4a3509(0x103)])}],'title':_0x4a3509(0x15a),'titlePosition':_0x4a3509(0x175),'showTitle':![],'colors':['#FF5900',_0x4a3509(0x11d),_0x4a3509(0xde)],'width':_0x4a3509(0x177),'height':'400px'}):divChartItem[_0x4a3509(0x125)]='';if(_0x13e2da[_0x4a3509(0xf7)]>0x0){const _0x15215=_0x13e2da[_0x4a3509(0x10a)](_0x542324=>({'label':_0x542324[_0x4a3509(0x14a)]+'\x20('+_0x542324[_0x4a3509(0xd5)]+')','sales':_0x542324['sales']}));generatePieChart({'containerId':_0x4a3509(0xf4),'data':_0x15215,'nameField':'label','valueField':_0x4a3509(0x13a),'title':_0x4a3509(0x187),'titlePosition':_0x4a3509(0x183),'showTitle':![],'width':_0x4a3509(0xe2),'height':_0x4a3509(0xe2)});}else divChartCustomer['innerHTML']='';}catch(_0x19512e){ntfShow(_0x4a3509(0x132)),console[_0x4a3509(0xc5)](_0x19512e);}finally{hideLoadingModal();}}function renderTable(_0x11ce2a,_0x52adfb=0x1,_0x7b289e=_0x3e1763(0x178)){const _0x3dd9b1=_0x3e1763;currentPage=_0x52adfb;const _0xe35d43=_0x7b289e===_0x3dd9b1(0x178)?_0x3dd9b1(0x16d):_0x7b289e===_0x3dd9b1(0x141)?_0x3dd9b1(0xf0):_0x3dd9b1(0x11c),_0x2db18a=_0x7b289e===_0x3dd9b1(0x178)?per_page:_0x7b289e===_0x3dd9b1(0x141)?per_page_products:per_page_customers,_0x28181e=document[_0x3dd9b1(0x144)](_0xe35d43+'\x20tbody');_0x28181e['innerHTML']='';const _0x3bac94=(_0x52adfb-0x1)*_0x2db18a,_0x1f7467=_0x11ce2a[_0x3dd9b1(0xd7)](_0x3bac94,_0x3bac94+_0x2db18a);if(_0x7b289e===_0x3dd9b1(0x178)){_0x1f7467[_0x3dd9b1(0x15b)](_0x24bbcf=>{const _0x40809f=_0x3dd9b1,_0x1426ad=document[_0x40809f(0x17c)]('tr');_0x1426ad[_0x40809f(0x125)]=_0x40809f(0xe6)+_0x24bbcf[_0x40809f(0x153)]+_0x40809f(0x10b)+_0x24bbcf[_0x40809f(0x12f)]+_0x40809f(0x17f)+(_0x24bbcf[_0x40809f(0x15f)]||'')+_0x40809f(0x16a)+(_0x24bbcf['setOperationCustomerName']||'')+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+_0x24bbcf[_0x40809f(0x19e)]+_0x40809f(0x128)+_0x24bbcf[_0x40809f(0xe0)]+';\x20color:\x20'+_0x24bbcf[_0x40809f(0xe0)]+_0x40809f(0x11f)+_0x24bbcf[_0x40809f(0xdb)]+_0x40809f(0x17e)+_0x24bbcf[_0x40809f(0x11e)]+_0x40809f(0x14c)+_0x24bbcf[_0x40809f(0x101)][_0x40809f(0x19f)](0x2)+_0x40809f(0x134)+_0x24bbcf['setOperationId']+_0x40809f(0xfb)+_0x24bbcf[_0x40809f(0x117)]+',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a',_0x28181e[_0x40809f(0x11a)](_0x1426ad);});const _0x3a974d=_0x11ce2a[_0x3dd9b1(0x196)]((_0xea399a,_0x23286f)=>{const _0x3c4092=_0x3dd9b1,_0x3a602d=_0x23286f[_0x3c4092(0x11e)];return _0xea399a[_0x3a602d]=(_0xea399a[_0x3a602d]||0x0)+Number(_0x23286f[_0x3c4092(0x101)]),_0xea399a;},{});Object[_0x3dd9b1(0x174)](_0x3a974d)[_0x3dd9b1(0x15b)](([_0x1f28ee,_0x12f2d8])=>{const _0x1e4133=_0x3dd9b1,_0x4a3545=document[_0x1e4133(0x17c)]('tr');_0x4a3545[_0x1e4133(0x125)]='\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20('+_0x1f28ee+_0x1e4133(0xdd)+(Math[_0x1e4133(0x18b)](_0x12f2d8*0x64)/0x64)['toFixed'](0x2)+_0x1e4133(0x111),_0x28181e[_0x1e4133(0x11a)](_0x4a3545);}),renderPagination(_0x11ce2a,_0x52adfb,_0x7b289e);}}function renderPagination(_0x1e7450,_0x51b16b,_0x180300='incomes'){const _0x162789=_0x3e1763,_0x4e7982=_0x180300===_0x162789(0x178)?document['querySelector'](_0x162789(0x159)):_0x180300==='products'?document[_0x162789(0x144)](_0x162789(0x122)):document['querySelector'](_0x162789(0x14e)),_0xcfc83a=_0x180300===_0x162789(0x178)?per_page:_0x180300===_0x162789(0x141)?per_page_products:per_page_customers;_0x4e7982[_0x162789(0x125)]='';const _0x3b89aa=Math[_0x162789(0x167)](_0x1e7450['length']/_0xcfc83a),_0x50079f=document['createElement']('a');_0x50079f['href']='#',_0x50079f['className']=_0x162789(0x185),_0x50079f[_0x162789(0x125)]='&laquo;\x20Anterior',_0x50079f[_0x162789(0x100)]=_0x5ac2f0=>{_0x5ac2f0['preventDefault']();if(_0x51b16b>0x1)renderTable(_0x1e7450,_0x51b16b-0x1,_0x180300);},_0x4e7982[_0x162789(0x11a)](_0x50079f);for(let _0x4952c9=0x1;_0x4952c9<=_0x3b89aa;_0x4952c9++){const _0x156c93=document[_0x162789(0x17c)]('a');_0x156c93[_0x162789(0x157)]='#',_0x156c93[_0x162789(0xfa)]=_0x162789(0x168)+(_0x4952c9===_0x51b16b?'btn-outline-primary':_0x162789(0x198)),_0x156c93[_0x162789(0x188)]=_0x4952c9,_0x156c93[_0x162789(0x100)]=_0x3d4437=>{_0x3d4437['preventDefault'](),renderTable(_0x1e7450,_0x4952c9,_0x180300);},_0x4e7982[_0x162789(0x11a)](_0x156c93);}const _0x42d5f6=document[_0x162789(0x17c)]('a');_0x42d5f6['href']='#',_0x42d5f6['className']=_0x162789(0x139),_0x42d5f6[_0x162789(0x125)]=_0x162789(0x123),_0x42d5f6[_0x162789(0x100)]=_0x4d6f38=>{_0x4d6f38['preventDefault']();if(_0x51b16b<_0x3b89aa)renderTable(_0x1e7450,_0x51b16b+0x1,_0x180300);},_0x4e7982[_0x162789(0x11a)](_0x42d5f6);}document[_0x3e1763(0x12d)](_0x3e1763(0xeb))[_0x3e1763(0xda)](_0x3e1763(0xcf),async()=>{const _0x345d5b=_0x3e1763,_0x12888c=document[_0x345d5b(0x12d)](_0x345d5b(0xe5))[_0x345d5b(0x105)],_0x2c9f47=document['getElementById'](_0x345d5b(0x110))['value'];if(!_0x12888c||!_0x2c9f47)return alert(_0x345d5b(0x12b));const _0x3b7c74=document[_0x345d5b(0x12d)](_0x345d5b(0x184)),_0x49e685=bootstrap[_0x345d5b(0x19c)]['getInstance'](_0x3b7c74);_0x49e685[_0x345d5b(0x186)](),showLoadingModal();try{const _0x5efbb4={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x345d5b(0x1a3)],'dateFrom':_0x12888c+_0x345d5b(0xef),'dateTo':_0x2c9f47+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0x216cd1=await fetch(myCompany[_0x345d5b(0x15d)],{'method':_0x345d5b(0x17d),'headers':{'Content-Type':_0x345d5b(0x142)},'body':JSON['stringify'](_0x5efbb4)}),{success:_0x492196,message:_0x4c0c45}=await _0x216cd1[_0x345d5b(0x18e)]();if(!_0x492196)throw new Error(_0x4c0c45);_0x4c0c45[_0x345d5b(0x178)],await consultIncomeReport();}catch(_0x1c24b8){ntfShow('Error\x20al\x20aplicar\x20filtro'),console['error'](_0x1c24b8);}finally{hideLoadingModal();}});const reportWorker=new Worker('./js/apierp_export_wk.min.js');reportWorker['onmessage']=({data:_0x599cc0})=>{const _0x5d0f13=_0x3e1763,{type:_0x306abc,payload:_0xb930a,reportType:_0x351bb6}=_0x599cc0;if(_0x306abc===_0x5d0f13(0xff)){const _0x3d06bf=new Blob([_0x599cc0['payload']],{'type':_0x5d0f13(0x143)}),_0xd68916=URL[_0x5d0f13(0x197)](_0x3d06bf),_0x46dd05=document['createElement']('a'),_0x23b81e=new Date()[_0x5d0f13(0x16f)]()[_0x5d0f13(0xd7)](0x0,0xa);_0x46dd05[_0x5d0f13(0x157)]=_0xd68916,_0x46dd05[_0x5d0f13(0x179)]=_0x351bb6+'_'+_0x23b81e+_0x5d0f13(0x12c),_0x46dd05[_0x5d0f13(0xcf)](),URL[_0x5d0f13(0xf1)](_0xd68916);}_0x306abc===_0x5d0f13(0xc5)&&(console[_0x5d0f13(0xc5)](_0x5d0f13(0x18d),_0xb930a),ntfShow('Error\x20al\x20exportar.'));},document[_0x3e1763(0x12d)](_0x3e1763(0xf2))['addEventListener'](_0x3e1763(0xcf),onClickExport);function onClickExport(){const _0x5a548b=_0x3e1763;if(!Array[_0x5a548b(0x165)](arrayIncomes)||!arrayIncomes[_0x5a548b(0xf7)])return ntfShow('No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.');const _0x5efaa4=arrayIncomes[_0x5a548b(0x10a)](_0x143c20=>{const _0x2035b2=_0x5a548b,[_0x230e60]=_0x143c20[_0x2035b2(0x19e)]['split']('\x20'),[_0x5a0bd8,_0x50b836,_0x8753d3]=_0x230e60[_0x2035b2(0xe3)]('-');return{'Periodo':''+_0x5a0bd8+_0x50b836,'CorrelativoCUO':'','FechaEmision':_0x8753d3+'/'+_0x50b836+'/'+_0x5a0bd8,'FechaVencimiento':'','TipoComprobante':_0x143c20[_0x2035b2(0x153)],'SerieNumero':_0x143c20[_0x2035b2(0x15f)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x143c20[_0x2035b2(0x102)],'BaseImponible':'','IGV':'','TotalVenta':_0x143c20[_0x2035b2(0x101)],'Moneda':_0x143c20['setOperationCurrency'],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x5a548b(0xea)]({'action':_0x5a548b(0x173),'reportType':_0x5a548b(0x1a6),'report':_0x5efaa4});}window[_0x3e1763(0x193)]=function(){const _0x432e4d=_0x3e1763,_0x2db8d4=0x6;loadLoginContent(_0x432e4d(0x1aa)),setUserNameGet(),setEventBtnAccess();const _0x455cb7=document[_0x432e4d(0x144)](_0x432e4d(0x172));_0x455cb7&&_0x455cb7['addEventListener'](_0x432e4d(0xcf),function(){logoutReload(0x0,_0x2db8d4);}),document[_0x432e4d(0x12d)](_0x432e4d(0x164))[_0x432e4d(0xda)](_0x432e4d(0x160),async function(){const _0x1ed1b4=_0x432e4d,_0x2a87fb=parseInt(this['value']);myCompany['setBranchDefault']=_0x2a87fb;const _0x6ee66=await createCartStore('');await saveCompanyToIndexedDB(company,_0x6ee66),cargarAlmacenes(_0x2a87fb),setTimeout(()=>{const _0x584f62=_0x29b9;document[_0x584f62(0x12d)](_0x584f62(0x13c))[_0x584f62(0x162)](new Event(_0x584f62(0x160)));},0x64),cargarPisos(_0x2a87fb),setTimeout(()=>{const _0x59ab7c=_0x29b9;document[_0x59ab7c(0x12d)](_0x59ab7c(0xce))[_0x59ab7c(0x162)](new Event(_0x59ab7c(0x160)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x1ed1b4(0x17a)](_0x2a87fb),consultIncomeReport();}),loadCartAndSetTabCount(_0x2db8d4);};