/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.9
*/

const _0x54dc4b=_0x3926;function _0x3926(_0x517825,_0x5b0071){const _0x4eec5c=_0x4255();return _0x3926=function(_0x516146,_0x2982bf){_0x516146=_0x516146-0xef;let _0x1222ee=_0x4eec5c[_0x516146];return _0x1222ee;},_0x3926(_0x517825,_0x5b0071);}(function(_0xe617d8,_0x2bf22c){const _0x19cd60=_0x3926,_0x344fb8=_0xe617d8();while(!![]){try{const _0x1bb2a2=parseInt(_0x19cd60(0xf1))/0x1+-parseInt(_0x19cd60(0x12e))/0x2*(-parseInt(_0x19cd60(0x120))/0x3)+-parseInt(_0x19cd60(0x127))/0x4+parseInt(_0x19cd60(0x129))/0x5+-parseInt(_0x19cd60(0x101))/0x6*(parseInt(_0x19cd60(0xf7))/0x7)+-parseInt(_0x19cd60(0x11a))/0x8+parseInt(_0x19cd60(0x106))/0x9*(parseInt(_0x19cd60(0x103))/0xa);if(_0x1bb2a2===_0x2bf22c)break;else _0x344fb8['push'](_0x344fb8['shift']());}catch(_0x4f8fed){_0x344fb8['push'](_0x344fb8['shift']());}}}(_0x4255,0xe342e));const _0x38dc8c=(function(){let _0x5b4290=!![];return function(_0x52b171,_0x462d25){const _0x20fff6=_0x5b4290?function(){if(_0x462d25){const _0x4d14c1=_0x462d25['apply'](_0x52b171,arguments);return _0x462d25=null,_0x4d14c1;}}:function(){};return _0x5b4290=![],_0x20fff6;};}()),_0x2bf532=_0x38dc8c(this,function(){const _0x3144aa=_0x3926;return _0x2bf532[_0x3144aa(0x114)]()['search']('(((.+)+)+)+$')[_0x3144aa(0x114)]()['constructor'](_0x2bf532)[_0x3144aa(0x10b)](_0x3144aa(0x12b));});_0x2bf532();const _0x2982bf=(function(){let _0x586423=!![];return function(_0x28c831,_0xd9d5a6){const _0x1cc38a=_0x586423?function(){if(_0xd9d5a6){const _0x425242=_0xd9d5a6['apply'](_0x28c831,arguments);return _0xd9d5a6=null,_0x425242;}}:function(){};return _0x586423=![],_0x1cc38a;};}()),_0x516146=_0x2982bf(this,function(){const _0x738b19=_0x3926;let _0x1ded06;try{const _0x3547c1=Function('return\x20(function()\x20'+_0x738b19(0xf0)+');');_0x1ded06=_0x3547c1();}catch(_0x2fe78a){_0x1ded06=window;}const _0x2d5b2a=_0x1ded06[_0x738b19(0xf4)]=_0x1ded06[_0x738b19(0xf4)]||{},_0x93d995=[_0x738b19(0x122),_0x738b19(0x12a),_0x738b19(0x11e),_0x738b19(0xf8),_0x738b19(0x124),_0x738b19(0x10f),_0x738b19(0xfb)];for(let _0x5610a6=0x0;_0x5610a6<_0x93d995[_0x738b19(0x11f)];_0x5610a6++){const _0x5d669c=_0x2982bf[_0x738b19(0x123)][_0x738b19(0x100)][_0x738b19(0x11c)](_0x2982bf),_0x586e51=_0x93d995[_0x5610a6],_0x4089e5=_0x2d5b2a[_0x586e51]||_0x5d669c;_0x5d669c[_0x738b19(0x105)]=_0x2982bf[_0x738b19(0x11c)](_0x2982bf),_0x5d669c['toString']=_0x4089e5[_0x738b19(0x114)][_0x738b19(0x11c)](_0x4089e5),_0x2d5b2a[_0x586e51]=_0x5d669c;}});_0x516146();const selectCredentialsApiWAChat=document[_0x54dc4b(0x108)]('setCredentialsApiWAChat'),loginPanel=document[_0x54dc4b(0x108)](_0x54dc4b(0x119)),chatPanel=document['getElementById'](_0x54dc4b(0x115)),qrImg=document[_0x54dc4b(0x108)]('qr-img'),overlay=document[_0x54dc4b(0x108)](_0x54dc4b(0x12c));let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x4f3d05=_0x54dc4b;loginPanel[_0x4f3d05(0x107)][_0x4f3d05(0x10e)]=_0x4f3d05(0xef),chatPanel[_0x4f3d05(0x107)][_0x4f3d05(0x11b)]='hidden';}function showChat(){const _0x47309c=_0x54dc4b;loginPanel[_0x47309c(0x107)]['display']=_0x47309c(0x12f),chatPanel[_0x47309c(0x107)][_0x47309c(0x11b)]='visible';}async function displayQR(_0x8fa8bd){const _0x136c1d=_0x54dc4b,_0x1d116b=selectCredentialsApiWAChat[_0x136c1d(0x121)],_0x8b6054=getCredentialsApiWAChat(_0x1d116b);if(_0x8b6054){const _0x2a6d41=_0x8b6054[_0x136c1d(0xf2)],_0x46d2f5=_0x8b6054[_0x136c1d(0xf5)];clearTimeout(qrTimeout),overlay['style']['display']=_0x136c1d(0x12f),qrImg[_0x136c1d(0xf6)]=_0x8fa8bd,qrTimeout=setTimeout(()=>{const _0x4f3f97=_0x136c1d;fetch('https://'+_0x2a6d41+_0x4f3f97(0xf3)+_0x46d2f5+_0x4f3f97(0xfa),{'headers':{'x-auth-token':myCompany['setAuthToken']}})['then'](async _0x37a1e9=>_0x37a1e9[_0x4f3f97(0x128)]())[_0x4f3f97(0x125)](async _0x2b56f7=>{const _0x446c27=_0x4f3f97;_0x2b56f7[_0x446c27(0xfc)]&&_0x2b56f7[_0x446c27(0xfc)][_0x446c27(0xf9)]()[_0x446c27(0xff)]('ya\x20conectado')?(showChat(),_0x8b6054['setCredentialsApiWAChatStatus']=0x1):(overlay[_0x446c27(0x107)][_0x446c27(0x10e)]=_0x446c27(0xef),_0x8b6054['setCredentialsApiWAChatStatus']=0x0);const _0x32457f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x32457f);})[_0x4f3f97(0xfd)](_0x313422=>{const _0x3b4a69=_0x4f3f97;console['error'](_0x3b4a69(0x11d),_0x313422),overlay['style'][_0x3b4a69(0x10e)]=_0x3b4a69(0xef);});},validSeconds*0x3e8);}else ntfShow(_0x136c1d(0x113));}function _0x4255(){const _0x40f973=['46210wGGuZj','addEventListener','__proto__','3339EQIJyq','style','getElementById','./img/apiPOS.png','click','search','querySelector','dispatchEvent','display','table','.btn-logout','setCredentialsApiWAChatStatus','setAuthToken','Credenciales\x20no\x20encontradas','toString','chatPanel','https://','setBranchId','setBranchDefault','loginPanel','10184928SCYtrq','visibility','bind','Error\x20al\x20validar\x20estado\x20despuÃ©s\x20de\x20expirar\x20QR:','info','length','6neHhfn','value','log','constructor','exception','then','setFloorId','1743804gGBJLD','json','2427320ykFHSM','warn','(((.+)+)+)+$','qr-overlay','onload','977972qcHGBu','none','flex','{}.constructor(\x22return\x20this\x22)(\x20)','277768BSJrPY','setCredentialsApiWAChatSubdomain','/wa/','console','setCredentialsApiWAChatPort','src','2854831UtJCYB','error','toLowerCase','/qr','trace','status','catch','change','includes','prototype','12SrAlHD','ya\x20conectado'];_0x4255=function(){return _0x40f973;};return _0x4255();}async function init(){const _0x339186=_0x54dc4b,_0x5e2b62=selectCredentialsApiWAChat[_0x339186(0x121)],_0x207978=getCredentialsApiWAChat(_0x5e2b62);if(_0x207978){const _0x12e400=_0x207978[_0x339186(0xf2)],_0x3d45a4=_0x207978['setCredentialsApiWAChatPort'];fetch(_0x339186(0x116)+_0x12e400+_0x339186(0xf3)+_0x3d45a4+_0x339186(0xfa),{'headers':{'x-auth-token':myCompany[_0x339186(0x112)]}})[_0x339186(0x125)](async _0x215ed8=>_0x215ed8[_0x339186(0x128)]())[_0x339186(0x125)](async _0x2f8a59=>{const _0x7ad67=_0x339186;if(_0x2f8a59['status']&&_0x2f8a59[_0x7ad67(0xfc)][_0x7ad67(0xf9)]()[_0x7ad67(0xff)](_0x7ad67(0x102)))showChat(),_0x207978['setCredentialsApiWAChatStatus']=0x1;else _0x2f8a59['qr']&&(showLogin(),displayQR(_0x2f8a59['qr']),_0x207978[_0x7ad67(0x111)]=0x0);const _0x13ad72=await createCartStore('');await saveCompanyToIndexedDB(company,_0x13ad72);})[_0x339186(0xfd)](console[_0x339186(0xf8)]);}else ntfShow('Credenciales\x20no\x20encontradas');}overlay[_0x54dc4b(0x104)](_0x54dc4b(0x10a),init),window[_0x54dc4b(0x12d)]=function(){const _0x351e74=_0x54dc4b,_0x2ab804=0x4;loadLoginContent(_0x351e74(0x109)),setUserNameGet(),setEventBtnAccess();const _0x309a7f=document[_0x351e74(0x10c)](_0x351e74(0x110));_0x309a7f&&_0x309a7f[_0x351e74(0x104)](_0x351e74(0x10a),function(){logoutReload(0x0,_0x2ab804);}),document[_0x351e74(0x108)](_0x351e74(0x117))[_0x351e74(0x104)](_0x351e74(0xfe),async function(){const _0x33c952=_0x351e74,_0x110d00=parseInt(this[_0x33c952(0x121)]);myCompany[_0x33c952(0x118)]=_0x110d00,saveCredentialsApiWAChatInCompany();const _0x651fcb=await createCartStore('');await saveCompanyToIndexedDB(company,_0x651fcb),cargarAlmacenes(_0x110d00),setTimeout(()=>{const _0x30acaf=_0x33c952;document[_0x30acaf(0x108)]('setWarehouseId')[_0x30acaf(0x10d)](new Event(_0x30acaf(0xfe)));},0x64),cargarPisos(_0x110d00),setTimeout(()=>{const _0x3f0aed=_0x33c952;document[_0x3f0aed(0x108)](_0x3f0aed(0x126))[_0x3f0aed(0x10d)](new Event('change'));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x2ab804);};