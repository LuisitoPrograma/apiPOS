/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.4.6
*/

const _0x50c657=_0xac6d;(function(_0x5b9298,_0x13db88){const _0x4f9c45=_0xac6d,_0x1cee9a=_0x5b9298();while(!![]){try{const _0x2ec507=parseInt(_0x4f9c45(0x1a8))/0x1+-parseInt(_0x4f9c45(0x1a4))/0x2*(-parseInt(_0x4f9c45(0x227))/0x3)+-parseInt(_0x4f9c45(0x204))/0x4*(-parseInt(_0x4f9c45(0x25b))/0x5)+-parseInt(_0x4f9c45(0x269))/0x6+parseInt(_0x4f9c45(0x23d))/0x7+parseInt(_0x4f9c45(0x22a))/0x8+parseInt(_0x4f9c45(0x261))/0x9*(-parseInt(_0x4f9c45(0x1f1))/0xa);if(_0x2ec507===_0x13db88)break;else _0x1cee9a['push'](_0x1cee9a['shift']());}catch(_0x1f320d){_0x1cee9a['push'](_0x1cee9a['shift']());}}}(_0x1171,0x4a05e));const _0x2a31a4=(function(){let _0x5e1c44=!![];return function(_0x293b66,_0x4d4b23){const _0x2b70ac=_0x5e1c44?function(){const _0x190baf=_0xac6d;if(_0x4d4b23){const _0x37da85=_0x4d4b23[_0x190baf(0x1bd)](_0x293b66,arguments);return _0x4d4b23=null,_0x37da85;}}:function(){};return _0x5e1c44=![],_0x2b70ac;};}()),_0x4733af=_0x2a31a4(this,function(){const _0x243050=_0xac6d;return _0x4733af['toString']()[_0x243050(0x195)](_0x243050(0x1d6))[_0x243050(0x207)]()[_0x243050(0x20b)](_0x4733af)[_0x243050(0x195)]('(((.+)+)+)+$');});function _0xac6d(_0x20d37a,_0x393ed1){const _0x43c5b0=_0x1171();return _0xac6d=function(_0x1676ad,_0x48d65f){_0x1676ad=_0x1676ad-0x188;let _0x3c7a45=_0x43c5b0[_0x1676ad];return _0x3c7a45;},_0xac6d(_0x20d37a,_0x393ed1);}_0x4733af();const _0x48d65f=(function(){let _0x56ba31=!![];return function(_0x2df578,_0x4ca100){const _0x288a83=_0x56ba31?function(){const _0x194d78=_0xac6d;if(_0x4ca100){const _0x16462e=_0x4ca100[_0x194d78(0x1bd)](_0x2df578,arguments);return _0x4ca100=null,_0x16462e;}}:function(){};return _0x56ba31=![],_0x288a83;};}()),_0x1676ad=_0x48d65f(this,function(){const _0x5b1749=_0xac6d,_0x39d073=function(){const _0x52cde4=_0xac6d;let _0x598f03;try{_0x598f03=Function(_0x52cde4(0x233)+_0x52cde4(0x19d)+');')();}catch(_0xed37c5){_0x598f03=window;}return _0x598f03;},_0x1b4caf=_0x39d073(),_0x45af20=_0x1b4caf[_0x5b1749(0x1f4)]=_0x1b4caf[_0x5b1749(0x1f4)]||{},_0x1dce1b=['log','warn',_0x5b1749(0x246),_0x5b1749(0x1e8),_0x5b1749(0x1d2),_0x5b1749(0x1b1),_0x5b1749(0x24a)];for(let _0x5bb6fd=0x0;_0x5bb6fd<_0x1dce1b[_0x5b1749(0x1ee)];_0x5bb6fd++){const _0x513496=_0x48d65f['constructor']['prototype'][_0x5b1749(0x226)](_0x48d65f),_0x3bb3ed=_0x1dce1b[_0x5bb6fd],_0x167de9=_0x45af20[_0x3bb3ed]||_0x513496;_0x513496[_0x5b1749(0x1cb)]=_0x48d65f[_0x5b1749(0x226)](_0x48d65f),_0x513496[_0x5b1749(0x207)]=_0x167de9['toString'][_0x5b1749(0x226)](_0x167de9),_0x45af20[_0x3bb3ed]=_0x513496;}});_0x1676ad();let arrayIncomes;const divChartIncome=document[_0x50c657(0x1b4)]('divChartIncome');let currentPage=0x1;const per_page=0x14;function generateFilterTransformChart(_0x95211d){const _0x4cb8bb=_0x50c657,{containerId:_0x5647df,rawData:_0x3987d6,groupField:_0x48169a,groupValues:_0xbaaa72,seriesType:seriesType=_0x4cb8bb(0x23b),chartType:chartType=seriesType,encode:_0x13f6a9,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x4cb8bb(0x24d),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x46c04a,height:_0x588926}=_0x95211d,_0x5c032e=document['getElementById'](_0x5647df);if(!_0x5c032e){console[_0x4cb8bb(0x1e8)](_0x4cb8bb(0x1f0)+_0x5647df+_0x4cb8bb(0x25a));return;}if(_0x46c04a)_0x5c032e[_0x4cb8bb(0x1d1)][_0x4cb8bb(0x22e)]=_0x46c04a;if(_0x588926)_0x5c032e['style'][_0x4cb8bb(0x214)]=_0x588926;const _0x30b8ef=echarts[_0x4cb8bb(0x1fb)](_0x5c032e),_0x373220=[],_0x458120=[];_0xbaaa72[_0x4cb8bb(0x25e)]((_0x45c87e,_0x5d624e)=>{const _0x5b62d1=_0x4cb8bb,_0x3d8199=_0x5b62d1(0x260)+_0x45c87e,_0x3d4f51=(_0x95211d[_0x5b62d1(0x1ed)]||[])[_0x5b62d1(0x1fd)]([{'dimension':_0x48169a,'=':_0x45c87e}]);_0x373220['push']({'id':_0x3d8199,'fromDatasetId':_0x5b62d1(0x196),'transform':{'type':'filter','config':{'and':_0x3d4f51}}}),_0x458120['push']({'type':chartType,'datasetId':_0x3d8199,'name':_0x45c87e,...chartType==='bar'&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x5d624e]||undefined},...chartType===_0x5b62d1(0x23b)&&{'showSymbol':![]},'encode':_0x13f6a9});});const _0x32c6eb={'animationDuration':animationDuration,'dataset':[{'id':_0x4cb8bb(0x196),'source':_0x3987d6},..._0x373220],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':_0x4cb8bb(0x1d7)},'xAxis':Object['assign']({'type':_0x4cb8bb(0x1fe),'nameLocation':_0x4cb8bb(0x257)},xAxisConfig),'yAxis':Object[_0x4cb8bb(0x1ad)]({'name':_0x13f6a9['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x458120};_0x30b8ef[_0x4cb8bb(0x221)](_0x32c6eb);}function generatePieChart({containerId:_0x582967,data:_0x5b10ff,nameField:_0x155505,valueField:_0x323b7a,title:title='',titlePosition:titlePosition=_0x50c657(0x224),showTitle:showTitle=!![],width:_0x3a93b7,height:_0x31fa3f}){const _0x291a54=_0x50c657,_0x1bf9ec=document['getElementById'](_0x582967);if(!_0x1bf9ec)return console[_0x291a54(0x1e8)]('Contenedor\x20'+_0x582967+'\x20no\x20existe');if(_0x3a93b7)_0x1bf9ec[_0x291a54(0x1d1)][_0x291a54(0x22e)]=_0x3a93b7;if(_0x31fa3f)_0x1bf9ec[_0x291a54(0x1d1)]['height']=_0x31fa3f;const _0x460c6e=echarts[_0x291a54(0x1fb)](_0x1bf9ec),_0x14dbf2=_0x5b10ff[_0x291a54(0x18d)]((_0x5ec5e3,_0x3ad8a8)=>{const _0x47d377=_0x291a54,_0x513ac1=_0x3ad8a8[_0x155505],_0xa1cf31=_0x3ad8a8[_0x323b7a];let _0x597f39=_0x5ec5e3[_0x47d377(0x1da)](_0x234525=>_0x234525['name']===_0x513ac1);return!_0x597f39&&(_0x597f39={'name':_0x513ac1,'value':0x0},_0x5ec5e3[_0x47d377(0x21b)](_0x597f39)),_0x597f39[_0x47d377(0x19f)]+=_0xa1cf31,_0x5ec5e3;},[]);let _0x1330ce;showTitle?(_0x1330ce={'text':title,'left':_0x291a54(0x240)},titlePosition===_0x291a54(0x250)?_0x1330ce['bottom']=0x0:_0x1330ce['top']=0x0):_0x1330ce={'show':![]};const _0x25a4a3={'title':_0x1330ce,'tooltip':{'trigger':'item'},'series':[{'type':_0x291a54(0x239),'radius':'50%','data':_0x14dbf2,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x291a54(0x1c5)}}]};_0x460c6e[_0x291a54(0x221)](_0x25a4a3);}function generateHorizontalBarChart({containerId:_0x2781fd,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition='top',showTitle:showTitle=!![],colors:colors=[],width:_0x1e7f08,height:_0x504c31,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x46e4ff=_0x50c657,_0x1e2f82=document['getElementById'](_0x2781fd);if(!_0x1e2f82)return console[_0x46e4ff(0x1e8)](_0x46e4ff(0x1f5)+_0x2781fd+_0x46e4ff(0x19a));if(_0x1e7f08)_0x1e2f82[_0x46e4ff(0x1d1)][_0x46e4ff(0x22e)]=_0x1e7f08;if(_0x504c31)_0x1e2f82[_0x46e4ff(0x1d1)]['height']=_0x504c31;const _0x5830d5=echarts[_0x46e4ff(0x1fb)](_0x1e2f82),_0x3aae07=showTitle?{'text':title,'left':_0x46e4ff(0x240),...titlePosition===_0x46e4ff(0x250)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x46e4ff(0x250)?_0x3aae07[_0x46e4ff(0x250)]=0x0:_0x3aae07[_0x46e4ff(0x224)]=0x0;const _0x325f11={'title':_0x3aae07,'tooltip':{'trigger':_0x46e4ff(0x1d7),'axisPointer':{'type':_0x46e4ff(0x1f7)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object['assign']({'type':_0x46e4ff(0x19f),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object[_0x46e4ff(0x1ad)]({'type':'category','data':categories},yAxisConfig),'series':series['map']((_0x163445,_0x3fd97b)=>({'type':_0x46e4ff(0x1ff),'name':_0x163445[_0x46e4ff(0x199)],'data':_0x163445[_0x46e4ff(0x264)],'itemStyle':{'color':colors[_0x3fd97b]||undefined}}))};_0x5830d5['setOption'](_0x325f11);}function showModalViewDetails(){const _0x55f1fd=_0x50c657,_0x56d9c7=document[_0x55f1fd(0x1b4)](_0x55f1fd(0x18b)),_0x4af73e=document[_0x55f1fd(0x1b4)]('modalOverlayViewDetails');_0x56d9c7[_0x55f1fd(0x192)]['add'](_0x55f1fd(0x188)),_0x4af73e[_0x55f1fd(0x1d1)][_0x55f1fd(0x20e)]='block';}function hideModalViewDetails(){const _0x2c3750=_0x50c657,_0x5666d3=document['getElementById'](_0x2c3750(0x18b)),_0x5a3877=document[_0x2c3750(0x1b4)]('modalOverlayViewDetails');_0x5666d3['classList'][_0x2c3750(0x197)](_0x2c3750(0x188)),_0x5a3877[_0x2c3750(0x1d1)][_0x2c3750(0x20e)]=_0x2c3750(0x22b);const _0x299209=document[_0x2c3750(0x1b4)]('dynamicContent');_0x299209[_0x2c3750(0x253)]=_0x2c3750(0x19e);}document['getElementById'](_0x50c657(0x1c0))['addEventListener'](_0x50c657(0x1cc),hideModalViewDetails),document[_0x50c657(0x1b4)](_0x50c657(0x267))[_0x50c657(0x1b2)]('click',hideModalViewDetails);function _0x1171(){const _0x34fc7d=['filterModal','error','divChartIncome','\x20tbody','.table-wrapper','Error\x20al\x20cargar\x20el\x20detalle:','additionalFilters','length','setTipoComprobante','El\x20contenedor\x20con\x20id\x20\x22','4028980WXUAkn',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','total','console','Contenedor\x20','&laquo;\x20Anterior','shadow','cost','className','setCustomerId','init','pageX','concat','category','bar','scrollLeft','setOperationPaymentStatus','https://fasyb.com/api/pdf/proxy/?file=','sales','168496KzTkFi','Ventas\x20por\x20Cliente','setApiEndPoint','toString','log','boleta','</td>\x0a<td>','constructor','setOperationCustomerName','setBranchDefault','display','querySelector','status','exportDone','\x2023:59:59','setOperationCurrency','height','setOperationDetailUnitPresentationId','setOperationItems','dispatchEvent','filter-end','&tipo=','#reporte-income','push','setCustomerName','./js/apierp_export_wk.min.js','setWarehouseId','./img/apiPOS.png','btn\x20btn-sm\x20btn-outline\x20ms-2','setOption','btn\x20btn-sm\x20','Modal','top','factura','bind','1074slNJjc','.btn-logout','setOperationCustomerId','2976672vyvunE','none','fechaISO','productName','width','btnExport','currency','stringify','#pagination-income','return\x20(function()\x20','href','statusText','setTipoOperacionName','pedido','):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','pie','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','line','RVIE','2133299skhReO','setOperationDetailQuantity','filter-start','center','ceil','.xlsx','round','400px','No\x20se\x20encontró\x20información\x20de\x20ingresos','info','appendChild','mouseleave','\x0a<tr>\x0a<td>','trace','setOperationSeries','setOperationDateTime','valueDesc','divChartItem','download','bottom','substring','#pagination-customers','innerHTML','setOperationDetailUnitCost','setAuthToken','recibo','middle',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','Siguiente\x20&raquo;','\x22\x20no\x20existe.','20jnPuLn','setOperationId','postMessage','forEach','.modal-content','dataset_','18hrRYpM','100%','Pagado','data','then','split','modalOverlayViewDetails','onclick','3332184QIqAoz','\x22>\x0a','onmessage','active','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','\x2000:00:00','detalleModal','isArray','reduce','#reporte-income-products','incomes','Ventas','revokeObjectURL','classList','Export\x20WK\x20Error:','detalle','search','dataset_raw','remove','values','name','\x20no\x20existe','Error\x20al\x20aplicar\x20filtro','customerName','{}.constructor(\x22return\x20this\x22)(\x20)','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','value','ID_SERIE','Error\x20','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','flatMap','2246MDwCKb','#080060','setOperationTypeSpan','detalleTablaBody','416987zJlELx','createObjectURL','btn-outline-primary','offsetLeft','Sin\x20descripción','assign','\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','setDescripcion','Error\x20al\x20cargar\x20el\x20detalle.','table','addEventListener','toFixed','getElementById','500px','setOperationPaymentStatusColor','Total','createElement','btn-outline','customers','sort','#FF5900','apply','change','entries','closeModalViewDetails','cantidad','label','mousedown','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','{b}:\x20{d}%','\x0a<iframe\x20src=\x22','Costo','#reporte-income-customers','setCustomers',';\x22>\x0a','__proto__','click','exportReport','#00AEEF','hide','application/json;\x20charset=utf-8','style','exception','Pendiente','setOperationTotal','setOperationDetailTotal','(((.+)+)+)+$','axis','json','preventDefault','find','from','toISOString','success','textContent','valor_unitario','products','map','setOperationType','#pagination-products','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','setBranchId','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a'];_0x1171=function(){return _0x34fc7d;};return _0x1171();}function verDetalle(_0x1e6478,_0x3c95e9){const _0x10a76f=_0x50c657;fetch('https://fasyb.com/api/venta/view/?id='+_0x1e6478+_0x10a76f(0x219)+_0x3c95e9)[_0x10a76f(0x265)](_0x42c709=>{const _0x48d558=_0x10a76f;if(!_0x42c709['ok'])throw new Error(_0x48d558(0x1a1)+_0x42c709[_0x48d558(0x210)]+':\x20'+_0x42c709[_0x48d558(0x235)]);return _0x42c709['json']();})['then'](_0x1c28e5=>{const _0x4c6970=_0x10a76f;if(_0x1c28e5[_0x4c6970(0x1dd)]){const _0x44474c=document[_0x4c6970(0x1b4)]('dynamicContent');if(_0x3c95e9===_0x4c6970(0x194)){let _0x58ee84='';_0x1c28e5[_0x4c6970(0x264)][_0x4c6970(0x25e)](_0x190feb=>{const _0x350077=_0x4c6970;_0x58ee84+=_0x350077(0x249)+_0x190feb['producto']+_0x350077(0x20a)+_0x190feb[_0x350077(0x1c1)]+_0x350077(0x20a)+_0x190feb[_0x350077(0x1df)]+'</td>\x0a<td>'+_0x190feb[_0x350077(0x1f3)]+'</td>\x0a</tr>';}),document['getElementById'](_0x4c6970(0x1a7))['innerHTML']=_0x58ee84;}else{if(_0x3c95e9==='pdf'){const _0x346915=_0x4c6970(0x202)+encodeURIComponent(_0x1c28e5['pdf_url']),_0x43ecab=document[_0x4c6970(0x20f)](_0x4c6970(0x25f));_0x44474c[_0x4c6970(0x253)]=_0x4c6970(0x1c6)+_0x346915+_0x4c6970(0x1e6),document[_0x4c6970(0x1b4)]('closeModalViewDetails')[_0x4c6970(0x1b2)](_0x4c6970(0x1cc),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x1c28e5[_0x4c6970(0x1e8)]||'No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.');})['catch'](_0x3bc884=>{const _0x58bcc6=_0x10a76f;console['error'](_0x58bcc6(0x1ec),_0x3bc884),alert(_0x58bcc6(0x1b0));});}const tableWrappers=document['querySelectorAll'](_0x50c657(0x1eb));tableWrappers['forEach'](_0xbeb615=>{const _0x15318d=_0x50c657;let _0xe35191=![],_0xc37510,_0xf5d961;_0xbeb615[_0x15318d(0x1b2)](_0x15318d(0x1c3),_0x21ea7e=>{const _0x1104b9=_0x15318d;_0xe35191=!![],_0xc37510=_0x21ea7e[_0x1104b9(0x1fc)]-_0xbeb615['offsetLeft'],_0xf5d961=_0xbeb615[_0x1104b9(0x200)];}),_0xbeb615['addEventListener'](_0x15318d(0x248),()=>{_0xe35191=![];}),_0xbeb615[_0x15318d(0x1b2)]('mouseup',()=>{_0xe35191=![];}),_0xbeb615[_0x15318d(0x1b2)]('mousemove',_0x49f51c=>{const _0x217fb2=_0x15318d;if(!_0xe35191)return;_0x49f51c[_0x217fb2(0x1d9)]();const _0x52fff5=_0x49f51c[_0x217fb2(0x1fc)]-_0xbeb615[_0x217fb2(0x1ab)],_0x4cc19d=(_0x52fff5-_0xc37510)*0x2;_0xbeb615[_0x217fb2(0x200)]=_0xf5d961-_0x4cc19d;});});async function consultIncomeReport(){const _0x166943=_0x50c657;showLoadingModal();const _0x50c733={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x166943(0x255)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x51b55e=await fetch(myCompany['setApiEndPoint'],{'method':'POST','headers':{'Content-Type':_0x166943(0x1d0)},'body':JSON['stringify'](_0x50c733)}),{success:_0x3e83c3,message:_0x4f15b0}=await _0x51b55e[_0x166943(0x1d8)]();if(!_0x3e83c3||!Array[_0x166943(0x18c)](_0x4f15b0[_0x166943(0x18f)])){ntfShow(_0x166943(0x245)),console[_0x166943(0x208)](_0x4f15b0);return;}const _0xcbd178=_0x4f15b0[_0x166943(0x18f)],_0x1527de=myCompany[_0x166943(0x1c9)][_0x166943(0x18d)]((_0x413c56,_0x123ea5)=>(_0x413c56[_0x123ea5[_0x166943(0x1fa)]]=_0x123ea5[_0x166943(0x21c)],_0x413c56),{}),_0x579920=myCompany['setTipoOperaciones']['reduce']((_0x32f9dc,_0x4f6e83)=>(_0x32f9dc[_0x4f6e83['setTipoOperacionCodigo']]=_0x4f6e83[_0x166943(0x236)],_0x32f9dc),{}),_0x3298ca=myCompany['setSeries']['reduce']((_0x3a0040,_0x47e601)=>(_0x3a0040[_0x47e601[_0x166943(0x1a0)]]=_0x47e601['setSerie'],_0x3a0040),{});arrayIncomes=_0xcbd178[_0x166943(0x1e1)](_0x4bf000=>{const _0x383856=_0x166943,_0x4f983d=_0x4bf000[_0x383856(0x216)]['reduce']((_0x5305af,_0x57a176)=>_0x5305af+Number(_0x57a176[_0x383856(0x1d5)]),0x0),_0x20fcd8=_0x579920[_0x4bf000[_0x383856(0x1e2)]]||_0x4bf000[_0x383856(0x1e2)],_0x190e8a=_0x3298ca[_0x4bf000[_0x383856(0x24b)]]||_0x4bf000[_0x383856(0x24b)],_0x62c1d6=_0x1527de[_0x4bf000[_0x383856(0x229)]]||_0x4bf000['setOperationCustomerId'],_0x44b218=_0x4bf000[_0x383856(0x201)]==0x1?'#00bb2d':_0x383856(0x1bc),_0x22f815=_0x4bf000[_0x383856(0x201)]==0x1?_0x383856(0x263):_0x383856(0x1d3),_0x5f068e=_0x4bf000[_0x383856(0x1e2)]==0x1?_0x383856(0x237):_0x4bf000[_0x383856(0x1e2)]==0x2?_0x383856(0x256):_0x4bf000['setOperationType']==0x3?_0x383856(0x209):_0x4bf000[_0x383856(0x1e2)]==0x4?_0x383856(0x225):_0x383856(0x256);return{'setOperationId':_0x4bf000[_0x383856(0x25c)],'setOperationType':_0x20fcd8,'setOperationTypeSpan':_0x5f068e,'setOperationSeries':_0x190e8a+'-'+_0x4bf000['setOperationNumber'],'setOperationCustomerName':_0x62c1d6,'setOperationDateTime':_0x4bf000[_0x383856(0x24c)],'setOperationPaymentStatusColor':_0x44b218,'setOperationPaymentStatusName':_0x22f815,'setOperationCurrency':_0x4bf000['setOperationCurrency'],'setOperationTotal':_0x4f983d};});const _0x2d0433=_0xcbd178[_0x166943(0x1a3)](_0x17c340=>_0x17c340[_0x166943(0x216)][_0x166943(0x1e1)](_0x2f6588=>({'item':_0x2f6588,'moneda':_0x17c340['setOperationCurrency']})))[_0x166943(0x18d)]((_0x288370,{item:_0x27692e,moneda:_0x354960})=>{const _0x267a79=_0x166943,_0x24c9de=products[_0x267a79(0x1da)](_0x426f0d=>_0x426f0d['id']==_0x27692e[_0x267a79(0x215)]),_0x105fb7=_0x24c9de?_0x24c9de[_0x267a79(0x1af)]:_0x267a79(0x1ac),_0x50cb41=_0x105fb7+'|'+_0x354960,_0x560f73=Number(_0x27692e[_0x267a79(0x1d5)]),_0x3af00e=Number(_0x27692e[_0x267a79(0x254)])*Number(_0x27692e[_0x267a79(0x23e)]);return!_0x288370[_0x50cb41]&&(_0x288370[_0x50cb41]={'productName':_0x105fb7,'currency':_0x354960,'sales':0x0,'cost':0x0}),_0x288370[_0x50cb41][_0x267a79(0x203)]+=_0x560f73,_0x288370[_0x50cb41][_0x267a79(0x1f8)]+=_0x3af00e,_0x288370;},{}),_0x5a8d9e=Object[_0x166943(0x198)](_0x2d0433)[_0x166943(0x1e1)](_0x221f2b=>({'productName':_0x221f2b[_0x166943(0x22d)],'currency':_0x221f2b['currency'],'sales':Math[_0x166943(0x243)](_0x221f2b[_0x166943(0x203)]*0x64)/0x64,'cost':Math[_0x166943(0x243)](_0x221f2b[_0x166943(0x1f8)]*0x64)/0x64,'profit':Math[_0x166943(0x243)]((_0x221f2b[_0x166943(0x203)]-_0x221f2b['cost'])*0x64)/0x64})),_0x4bb1d6=_0xcbd178[_0x166943(0x18d)]((_0x54a686,_0x114716)=>{const _0x366594=_0x166943,_0x430a51=_0x1527de[_0x114716['setOperationCustomerId']]||_0x114716[_0x366594(0x229)],_0x18ad06=_0x114716[_0x366594(0x213)],_0x4585b6=_0x430a51+'|'+_0x18ad06,_0x20dfa7=_0x114716[_0x366594(0x216)][_0x366594(0x18d)]((_0x3b0b94,_0x26bf93)=>_0x3b0b94+Number(_0x26bf93['setOperationDetailTotal']),0x0),_0x1806a5=_0x114716[_0x366594(0x216)]['reduce']((_0x3560de,_0x5c8cca)=>_0x3560de+Number(_0x5c8cca[_0x366594(0x254)])*Number(_0x5c8cca['setOperationDetailQuantity']),0x0);return!_0x54a686[_0x4585b6]&&(_0x54a686[_0x4585b6]={'customerName':_0x430a51,'currency':_0x18ad06,'sales':0x0,'cost':0x0}),_0x54a686[_0x4585b6][_0x366594(0x203)]+=_0x20dfa7,_0x54a686[_0x4585b6][_0x366594(0x1f8)]+=_0x1806a5,_0x54a686;},{}),_0x5ae843=Object['values'](_0x4bb1d6)[_0x166943(0x1e1)](_0x36266e=>({'customerName':_0x36266e[_0x166943(0x19c)],'currency':_0x36266e[_0x166943(0x230)],'sales':Math[_0x166943(0x243)](_0x36266e['sales']*0x64)/0x64,'cost':Math['round'](_0x36266e['cost']*0x64)/0x64,'profit':Math[_0x166943(0x243)]((_0x36266e[_0x166943(0x203)]-_0x36266e[_0x166943(0x1f8)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x166943(0x18f)),renderTable(_0x5a8d9e,currentPageProducts,_0x166943(0x1e0)),renderTable(_0x5ae843,currentPageCustomers,_0x166943(0x1ba));const _0x4528be=arrayIncomes[_0x166943(0x1e1)](_0x563dcc=>({'fechaISO':_0x563dcc['setOperationDateTime']['split']('\x20')[0x0],'setTipoComprobante':_0x563dcc['setOperationType'],'setOperationCurrency':_0x563dcc[_0x166943(0x213)],'Total':Math['round'](_0x563dcc[_0x166943(0x1d4)]*0x64)/0x64})),_0x12b709=_0x4528be[_0x166943(0x18d)]((_0x596109,_0x15296a)=>{const _0x441d4f=_0x166943,_0x5435de=_0x15296a['fechaISO']+'|'+_0x15296a[_0x441d4f(0x1ef)]+'|'+_0x15296a[_0x441d4f(0x213)];if(!_0x596109[_0x5435de])_0x596109[_0x5435de]={..._0x15296a,'Total':0x0};return _0x596109[_0x5435de][_0x441d4f(0x1b7)]+=_0x15296a[_0x441d4f(0x1b7)],_0x596109;},{}),_0xdf80a6=Object['values'](_0x12b709)['map'](_0x4fbbf5=>({'fechaISO':_0x4fbbf5[_0x166943(0x22c)],'setTipoComprobante':_0x4fbbf5[_0x166943(0x1ef)]+'\x20('+_0x4fbbf5[_0x166943(0x213)]+')','Total':Math['round'](_0x4fbbf5[_0x166943(0x1b7)]*0x64)/0x64})),_0x563101=[...new Set(_0xdf80a6[_0x166943(0x1e1)](_0x5eb834=>_0x5eb834['setTipoComprobante']))],_0x592d5c=Array[_0x166943(0x1db)](new Set(_0xdf80a6['map'](_0x4a176b=>_0x4a176b['fechaISO'])))[_0x166943(0x1bb)]((_0x5481b5,_0x2f9312)=>new Date(_0x5481b5)-new Date(_0x2f9312));_0xdf80a6[_0x166943(0x1ee)]>0x0?generateFilterTransformChart({'containerId':_0x166943(0x1e9),'rawData':_0xdf80a6,'groupField':'setTipoComprobante','groupValues':_0x563101,'seriesType':'bar','chartType':_0x166943(0x1ff),'colors':['#FF5900',_0x166943(0x1a5)],'encode':{'x':_0x166943(0x22c),'y':_0x166943(0x1b7),'label':['setTipoComprobante','Total'],'itemName':_0x166943(0x22c),'tooltip':[_0x166943(0x1b7)]},'xAxisConfig':{'type':_0x166943(0x1fe),'data':_0x592d5c,'axisLabel':{'formatter':_0x7d1e2d=>{const [_0x5338ce,_0x71a83d,_0x3acea4]=_0x7d1e2d['split']('-');return _0x3acea4+'/'+_0x71a83d+'/'+_0x5338ce;}}},'title':'Evolución\x20de\x20Ventas','width':_0x166943(0x262),'height':_0x166943(0x1b5)}):divChartIncome[_0x166943(0x253)]='';_0x5a8d9e[_0x166943(0x1ee)]>0x0?generateHorizontalBarChart({'containerId':_0x166943(0x24e),'categories':_0x5a8d9e[_0x166943(0x1e1)](_0x4987f4=>{const _0x3f3228=_0x166943,_0x3fd47d='('+_0x4987f4['currency']+')\x20'+_0x4987f4[_0x3f3228(0x22d)];return _0x3fd47d[_0x3f3228(0x1ee)]>0xf?_0x3fd47d[_0x3f3228(0x251)](0x0,0xf)+'...':_0x3fd47d;}),'series':[{'name':_0x166943(0x190),'data':_0x5a8d9e[_0x166943(0x1e1)](_0x1a7814=>_0x1a7814[_0x166943(0x203)])},{'name':_0x166943(0x1c7),'data':_0x5a8d9e[_0x166943(0x1e1)](_0x22040c=>_0x22040c['cost'])},{'name':'Ganancia','data':_0x5a8d9e[_0x166943(0x1e1)](_0xe5cc2e=>_0xe5cc2e['profit'])}],'title':'Ventas\x20por\x20Producto','titlePosition':_0x166943(0x250),'showTitle':![],'colors':[_0x166943(0x1bc),'#080060',_0x166943(0x1ce)],'width':'100%','height':_0x166943(0x244)}):divChartItem[_0x166943(0x253)]='';if(_0x5ae843['length']>0x0){const _0x1e991f=_0x5ae843[_0x166943(0x1e1)](_0x1f287f=>({'label':_0x1f287f['customerName']+'\x20('+_0x1f287f[_0x166943(0x230)]+')','sales':_0x1f287f[_0x166943(0x203)]}));generatePieChart({'containerId':'divChartCustomer','data':_0x1e991f,'nameField':_0x166943(0x1c2),'valueField':_0x166943(0x203),'title':_0x166943(0x205),'titlePosition':_0x166943(0x224),'showTitle':![],'width':'500px','height':_0x166943(0x1b5)});}else divChartCustomer[_0x166943(0x253)]='';}catch(_0x91c1be){ntfShow('Error\x20al\x20solicitar\x20reporte'),console[_0x166943(0x1e8)](_0x91c1be);}finally{hideLoadingModal();}}function renderTable(_0x55884f,_0x31e784=0x1,_0x3090b4='incomes'){const _0x318543=_0x50c657;currentPage=_0x31e784;const _0x194000=_0x3090b4===_0x318543(0x18f)?_0x318543(0x21a):_0x3090b4==='products'?_0x318543(0x18e):_0x318543(0x1c8),_0x3044eb=_0x3090b4===_0x318543(0x18f)?per_page:_0x3090b4===_0x318543(0x1e0)?per_page_products:per_page_customers,_0x1b5a87=document[_0x318543(0x20f)](_0x194000+_0x318543(0x1ea));_0x1b5a87[_0x318543(0x253)]='';const _0x742ed1=(_0x31e784-0x1)*_0x3044eb,_0x201c98=_0x55884f['slice'](_0x742ed1,_0x742ed1+_0x3044eb);if(_0x3090b4===_0x318543(0x18f)){_0x201c98[_0x318543(0x25e)](_0x1886cd=>{const _0x2ea343=_0x318543,_0x317b68=document[_0x2ea343(0x1b8)]('tr');_0x317b68[_0x2ea343(0x253)]='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x1886cd[_0x2ea343(0x1a6)]+_0x2ea343(0x26a)+_0x1886cd['setOperationType']+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+(_0x1886cd[_0x2ea343(0x24b)]||'')+'</td>\x0a<td>'+(_0x1886cd[_0x2ea343(0x20c)]||'')+_0x2ea343(0x1c4)+_0x1886cd[_0x2ea343(0x24c)]+_0x2ea343(0x23a)+_0x1886cd['setOperationPaymentStatusColor']+';\x20color:\x20'+_0x1886cd[_0x2ea343(0x1b6)]+_0x2ea343(0x1ca)+_0x1886cd['setOperationPaymentStatusName']+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x1886cd[_0x2ea343(0x213)]+_0x2ea343(0x1a2)+_0x1886cd['setOperationTotal'][_0x2ea343(0x1b3)](0x2)+_0x2ea343(0x1ae)+_0x1886cd[_0x2ea343(0x25c)]+_0x2ea343(0x1f2)+_0x1886cd[_0x2ea343(0x25c)]+_0x2ea343(0x258),_0x1b5a87[_0x2ea343(0x247)](_0x317b68);});const _0x4950ae=_0x55884f['reduce']((_0xa1ef01,_0x12ed09)=>{const _0x5e55da=_0x318543,_0x1f69c7=_0x12ed09[_0x5e55da(0x213)];return _0xa1ef01[_0x1f69c7]=(_0xa1ef01[_0x1f69c7]||0x0)+Number(_0x12ed09['setOperationTotal']),_0xa1ef01;},{});Object[_0x318543(0x1bf)](_0x4950ae)[_0x318543(0x25e)](([_0x42c094,_0x1c693d])=>{const _0xe5b70a=_0x318543,_0x98e8f6=document['createElement']('tr');_0x98e8f6[_0xe5b70a(0x253)]=_0xe5b70a(0x1e4)+_0x42c094+_0xe5b70a(0x238)+(Math[_0xe5b70a(0x243)](_0x1c693d*0x64)/0x64)[_0xe5b70a(0x1b3)](0x2)+'\x0a</td>\x0a<td></td>\x0a',_0x1b5a87[_0xe5b70a(0x247)](_0x98e8f6);}),renderPagination(_0x55884f,_0x31e784,_0x3090b4);}}function renderPagination(_0x4557e1,_0x596b30,_0x2a63d4=_0x50c657(0x18f)){const _0x4607f0=_0x50c657,_0xd5846=_0x2a63d4===_0x4607f0(0x18f)?document['querySelector'](_0x4607f0(0x232)):_0x2a63d4==='products'?document[_0x4607f0(0x20f)](_0x4607f0(0x1e3)):document[_0x4607f0(0x20f)](_0x4607f0(0x252)),_0x35732e=_0x2a63d4==='incomes'?per_page:_0x2a63d4===_0x4607f0(0x1e0)?per_page_products:per_page_customers;_0xd5846[_0x4607f0(0x253)]='';const _0xdd4a60=Math[_0x4607f0(0x241)](_0x4557e1[_0x4607f0(0x1ee)]/_0x35732e),_0x2b0316=document[_0x4607f0(0x1b8)]('a');_0x2b0316['href']='#',_0x2b0316[_0x4607f0(0x1f9)]='btn\x20btn-sm\x20btn-outline\x20me-2',_0x2b0316['innerHTML']=_0x4607f0(0x1f6),_0x2b0316[_0x4607f0(0x268)]=_0x14b95b=>{const _0x5b579c=_0x4607f0;_0x14b95b[_0x5b579c(0x1d9)]();if(_0x596b30>0x1)renderTable(_0x4557e1,_0x596b30-0x1,_0x2a63d4);},_0xd5846[_0x4607f0(0x247)](_0x2b0316);for(let _0x42ec8b=0x1;_0x42ec8b<=_0xdd4a60;_0x42ec8b++){const _0x3ccf32=document[_0x4607f0(0x1b8)]('a');_0x3ccf32['href']='#',_0x3ccf32[_0x4607f0(0x1f9)]=_0x4607f0(0x222)+(_0x42ec8b===_0x596b30?_0x4607f0(0x1aa):_0x4607f0(0x1b9)),_0x3ccf32[_0x4607f0(0x1de)]=_0x42ec8b,_0x3ccf32[_0x4607f0(0x268)]=_0x1aef30=>{const _0x486d4a=_0x4607f0;_0x1aef30[_0x486d4a(0x1d9)](),renderTable(_0x4557e1,_0x42ec8b,_0x2a63d4);},_0xd5846[_0x4607f0(0x247)](_0x3ccf32);}const _0x40c84d=document[_0x4607f0(0x1b8)]('a');_0x40c84d[_0x4607f0(0x234)]='#',_0x40c84d[_0x4607f0(0x1f9)]=_0x4607f0(0x220),_0x40c84d[_0x4607f0(0x253)]=_0x4607f0(0x259),_0x40c84d[_0x4607f0(0x268)]=_0x108eaf=>{const _0x34e3eb=_0x4607f0;_0x108eaf[_0x34e3eb(0x1d9)]();if(_0x596b30<_0xdd4a60)renderTable(_0x4557e1,_0x596b30+0x1,_0x2a63d4);},_0xd5846['appendChild'](_0x40c84d);}document[_0x50c657(0x1b4)]('apply-filter')['addEventListener']('click',async()=>{const _0x5be84f=_0x50c657,_0xe0c62d=document[_0x5be84f(0x1b4)](_0x5be84f(0x23f))[_0x5be84f(0x19f)],_0x23c4ff=document[_0x5be84f(0x1b4)](_0x5be84f(0x218))[_0x5be84f(0x19f)];if(!_0xe0c62d||!_0x23c4ff)return alert('Selecciona\x20ambas\x20fechas');const _0xba8f30=document[_0x5be84f(0x1b4)](_0x5be84f(0x1e7)),_0x3e81ef=bootstrap[_0x5be84f(0x223)]['getInstance'](_0xba8f30);_0x3e81ef[_0x5be84f(0x1cf)](),showLoadingModal();try{const _0xd68a4b={'apiPOS_getIncome':0x1,'setToken':myCompany['setAuthToken'],'dateFrom':_0xe0c62d+_0x5be84f(0x18a),'dateTo':_0x23c4ff+_0x5be84f(0x212),'clientIds':[],'operationTypes':[]},_0x24b0c9=await fetch(myCompany[_0x5be84f(0x206)],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x5be84f(0x231)](_0xd68a4b)}),{success:_0x3fadb6,message:_0x3fe6c2}=await _0x24b0c9['json']();if(!_0x3fadb6)throw new Error(_0x3fe6c2);_0x3fe6c2['incomes'],await consultIncomeReport();}catch(_0x45443b){ntfShow(_0x5be84f(0x19b)),console['error'](_0x45443b);}finally{hideLoadingModal();}});const reportWorker=new Worker(_0x50c657(0x21d));reportWorker[_0x50c657(0x26b)]=({data:_0x21df75})=>{const _0x771dea=_0x50c657,{type:_0xd3d28f,payload:_0x40ea80,reportType:_0x57ad70}=_0x21df75;if(_0xd3d28f===_0x771dea(0x211)){const _0xc10fe1=new Blob([_0x21df75['payload']],{'type':'application/octet-stream'}),_0x535021=URL[_0x771dea(0x1a9)](_0xc10fe1),_0x42f77b=document[_0x771dea(0x1b8)]('a'),_0x579d7b=new Date()[_0x771dea(0x1dc)]()['slice'](0x0,0xa);_0x42f77b[_0x771dea(0x234)]=_0x535021,_0x42f77b[_0x771dea(0x24f)]=_0x57ad70+'_'+_0x579d7b+_0x771dea(0x242),_0x42f77b[_0x771dea(0x1cc)](),URL[_0x771dea(0x191)](_0x535021);}_0xd3d28f===_0x771dea(0x1e8)&&(console[_0x771dea(0x1e8)](_0x771dea(0x193),_0x40ea80),ntfShow('Error\x20al\x20exportar.'));},document[_0x50c657(0x1b4)](_0x50c657(0x22f))['addEventListener']('click',onClickExport);function onClickExport(){const _0x18fa79=_0x50c657;if(!Array[_0x18fa79(0x18c)](arrayIncomes)||!arrayIncomes[_0x18fa79(0x1ee)])return ntfShow(_0x18fa79(0x189));const _0x36b3a0=arrayIncomes[_0x18fa79(0x1e1)](_0x3102be=>{const _0x6dd66f=_0x18fa79,[_0x431975]=_0x3102be['setOperationDateTime'][_0x6dd66f(0x266)]('\x20'),[_0x45b9c8,_0x49b88a,_0xae15a3]=_0x431975[_0x6dd66f(0x266)]('-');return{'Periodo':''+_0x45b9c8+_0x49b88a,'CorrelativoCUO':'','FechaEmision':_0xae15a3+'/'+_0x49b88a+'/'+_0x45b9c8,'FechaVencimiento':'','TipoComprobante':_0x3102be[_0x6dd66f(0x1a6)],'SerieNumero':_0x3102be[_0x6dd66f(0x24b)],'TipoDocCliente':'','NumDocCliente':'','RazonSocial':_0x3102be[_0x6dd66f(0x20c)],'BaseImponible':'','IGV':'','TotalVenta':_0x3102be[_0x6dd66f(0x1d4)],'Moneda':_0x3102be['setOperationCurrency'],'TipoCambio':'','FechaEmisionModificado':'','TipoCompModificado':'','SerieNumModificado':'','CodigoAduana':'','NumDUAModificado':'','ErrorTipo1':'','IndicadorCancelados':'','Estado':'','CamposLibres_27_52':''};});reportWorker[_0x18fa79(0x25d)]({'action':_0x18fa79(0x1cd),'reportType':_0x18fa79(0x23c),'report':_0x36b3a0});}window['onload']=function(){const _0x2990eb=_0x50c657,_0x13261f=0x5;loadLoginContent(_0x2990eb(0x21f)),setUserNameGet(),setEventBtnAccess();const _0x3df16a=document[_0x2990eb(0x20f)](_0x2990eb(0x228));_0x3df16a&&_0x3df16a[_0x2990eb(0x1b2)](_0x2990eb(0x1cc),function(){logoutReload(0x0,_0x13261f);}),document[_0x2990eb(0x1b4)](_0x2990eb(0x1e5))['addEventListener'](_0x2990eb(0x1be),async function(){const _0x1f3d9b=_0x2990eb,_0x4423c9=parseInt(this['value']);myCompany[_0x1f3d9b(0x20d)]=_0x4423c9;const _0x47e050=await createCartStore('');await saveCompanyToIndexedDB(company,_0x47e050),cargarAlmacenes(_0x4423c9),setTimeout(()=>{const _0x1005d=_0x1f3d9b;document[_0x1005d(0x1b4)](_0x1005d(0x21e))['dispatchEvent'](new Event(_0x1005d(0x1be)));},0x64),cargarPisos(_0x4423c9),setTimeout(()=>{const _0x374f0e=_0x1f3d9b;document[_0x374f0e(0x1b4)]('setFloorId')[_0x374f0e(0x217)](new Event(_0x374f0e(0x1be)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x1f3d9b(0x21b)](_0x4423c9),consultIncomeReport();}),loadCartAndSetTabCount(_0x13261f);};