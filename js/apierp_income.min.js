/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.3.3
*/

const _0x7d61ad=_0x21d3;(function(_0x27b8b9,_0x16e853){const _0x26718c=_0x21d3,_0x4c151f=_0x27b8b9();while(!![]){try{const _0x41de36=-parseInt(_0x26718c(0x275))/0x1+parseInt(_0x26718c(0x211))/0x2+-parseInt(_0x26718c(0x1ce))/0x3*(-parseInt(_0x26718c(0x1ee))/0x4)+-parseInt(_0x26718c(0x1d4))/0x5+-parseInt(_0x26718c(0x2cc))/0x6+-parseInt(_0x26718c(0x206))/0x7+parseInt(_0x26718c(0x225))/0x8;if(_0x41de36===_0x16e853)break;else _0x4c151f['push'](_0x4c151f['shift']());}catch(_0x372851){_0x4c151f['push'](_0x4c151f['shift']());}}}(_0x17be,0x2b047));const _0x17b47a=(function(){let _0x5759e1=!![];return function(_0x28b273,_0x17d2fc){const _0x503aa8=_0x5759e1?function(){const _0x4beb45=_0x21d3;if(_0x17d2fc){const _0xfe9ac6=_0x17d2fc[_0x4beb45(0x281)](_0x28b273,arguments);return _0x17d2fc=null,_0xfe9ac6;}}:function(){};return _0x5759e1=![],_0x503aa8;};}()),_0x12f233=_0x17b47a(this,function(){const _0x11e139=_0x21d3;return _0x12f233['toString']()[_0x11e139(0x1c3)](_0x11e139(0x2a9))[_0x11e139(0x2b0)]()['constructor'](_0x12f233)[_0x11e139(0x1c3)](_0x11e139(0x2a9));});_0x12f233();const _0x8e3142=(function(){let _0x4061c2=!![];return function(_0x118aa7,_0x32a9ee){const _0x5367f1=_0x4061c2?function(){const _0x5896c0=_0x21d3;if(_0x32a9ee){const _0xce0ef2=_0x32a9ee[_0x5896c0(0x281)](_0x118aa7,arguments);return _0x32a9ee=null,_0xce0ef2;}}:function(){};return _0x4061c2=![],_0x5367f1;};}()),_0x44f87b=_0x8e3142(this,function(){const _0x54d424=_0x21d3,_0x1d107f=function(){const _0x44e6b1=_0x21d3;let _0x50ba64;try{_0x50ba64=Function(_0x44e6b1(0x1bc)+_0x44e6b1(0x1ff)+');')();}catch(_0x2ad762){_0x50ba64=window;}return _0x50ba64;},_0x2f36ff=_0x1d107f(),_0xdd8d73=_0x2f36ff['console']=_0x2f36ff['console']||{},_0x4e0109=[_0x54d424(0x276),_0x54d424(0x23f),_0x54d424(0x266),_0x54d424(0x2c4),'exception',_0x54d424(0x201),'trace'];for(let _0xfa61e2=0x0;_0xfa61e2<_0x4e0109[_0x54d424(0x2ad)];_0xfa61e2++){const _0x89218d=_0x8e3142[_0x54d424(0x240)][_0x54d424(0x2b6)][_0x54d424(0x280)](_0x8e3142),_0x36352e=_0x4e0109[_0xfa61e2],_0x1cb312=_0xdd8d73[_0x36352e]||_0x89218d;_0x89218d[_0x54d424(0x271)]=_0x8e3142[_0x54d424(0x280)](_0x8e3142),_0x89218d[_0x54d424(0x2b0)]=_0x1cb312[_0x54d424(0x2b0)]['bind'](_0x1cb312),_0xdd8d73[_0x36352e]=_0x89218d;}});_0x44f87b();let arrayIncomes;const fil_init_dates=document[_0x7d61ad(0x25a)](_0x7d61ad(0x207)),label=document[_0x7d61ad(0x25a)](_0x7d61ad(0x232)),options=document['getElementById']('date-range-options'),divChartIncome=document[_0x7d61ad(0x25a)](_0x7d61ad(0x2b7)),divChartItem=document[_0x7d61ad(0x25a)]('divChartItem'),divChartCustomer=document[_0x7d61ad(0x25a)](_0x7d61ad(0x20a));let currentPage=0x1;const per_page=0x14;let currentPageProducts=0x1;const per_page_products=0xa;let currentPageCustomers=0x1;function _0x17be(){const _0x2c8afe=['createElement','split','\x0a<td\x20colspan=\x226\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','(((.+)+)+)+$','onclick','setBranchId','download','length','year','getSeconds','toString','getDate','setDate','setFloorId','setOperationCustomerId','setBranchDefault','prototype','divChartIncome','setOperationTypeSpan','setCustomerId','center','contains','400px','Error\x20','getHours','Ventas\x20por\x20Cliente','.modal-content','Reporte\x20','dispatchEvent','pdf_url','error','customers','top','luispurizaca.1908@gmail.com','hide','preventDefault','Total','data-value','1697928nKBDDR','shadow','setOperationSeries','closeModalViewDetails','pie','filtrar','scrollLeft','return\x20(function()\x20','btn\x20btn-sm\x20btn-outline\x20ms-2','addEventListener','pedido','</td>\x0a','#pagination-customers','setApiEndPoint','search','active','YOUR_WA_CRED_ID','both','El\x20contenedor\x20con\x20id\x20\x22','setCustomerName','slice','substring','No\x20se\x20pudieron\x20obtener\x20los\x20detalles\x20del\x20pedido.','#00bb2d','data','343236eZsBkC','btn\x20btn-sm\x20','del\x20año\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','bar','email','modalOverlayViewDetails','122735eQkmCC','forEach','Modal','./img/apiPOS.png','Modo\x20de\x20exportación\x20desconocido:','setOperationItems','json','bottom','setAuthToken','setTipoComprobante','reduce','line','setOperationDetailUnitPresentationId','PASSWORD123','#reporte-income-customers','month','cantidad','remove','\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','onerror','currency','&tipo=','cost','toFixed','status','href','8YTAsuH','innerHTML','\x0a<iframe\x20src=\x22','):\x0a</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>\x0a','setTipoOperaciones','setOperationType','onload','application/octet-stream','setWarehouseId','init','entries','.btn-logout','\x0a<td\x20class=\x22td-bg-none\x22\x20colspan=\x222\x22\x20style=\x22text-align:\x20right;\x20font-weight:\x20bold;\x22>\x0aTotal\x20(','Contenedor\x20','\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a','getInstance','filterModal','{}.constructor(\x22return\x20this\x22)(\x20)','filter','table','Error\x20al\x20cargar\x20el\x20detalle:','recibo','concat','setOperationCurrency','1029728gHZnzV','date-range-label-icon','assign','setOperationId','divChartCustomer','setOption','setCustomers','btnExport','className','flatMap','classList','199044qemNHE','statusText','whatsapp','\x20no\x20existe','name','application/json;\x20charset=utf-8','Ganancia','Error\x20WA:','Export\x20WK\x20Error:','btn\x20btn-sm\x20btn-outline\x20me-2','Siguiente\x20&raquo;','Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.','catch','#FF5900','setOperationDetailTotal','day','getFullYear','onmessage','divChartItem','producto','3168224OxthFb','setDescripcion','setOperationTotal','dynamicContent','filter-start','sales','Evolución\x20de\x20Ventas','appendChild','target','setOperationDateTime','incomes','getMinutes','Error\x20al\x20exportar.','date-range-label','</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>','exportDone','\x2000:00:00','del\x20día\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>','setSeries','Invalid\x20range\x20type','\x0a<td\x20class=\x22td-bg-none\x22>','block','POST','Costo','setOperationDetailUnitCost','\x20-\x20','warn','constructor','setOperationPaymentStatusName','setSerie','Error\x20al\x20enviar\x20por\x20WhatsApp.','pageX','\x0a</td>\x0a','width','toISOString','51954738620','round','push','.table-wrapper','products','getMonth','productName','btn-outline','then','#pagination-income','tagName','</td>\x0a<td>','display','pdf','.xlsx',';\x20color:\x20','setTipoOperacionCodigo','isArray','getElementById','#080060','\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>','#00AEEF','./js/apierp_export_wk.min.js','customerName','Ventas\x20por\x20Producto','Ventas','valueDesc','dataset_raw','padStart','querySelector','info','values','document','apply-filter','setOperationPaymentStatusColor','mouseleave','500px','find','Sin\x20descripción','https://fasyb.com/api/venta/view/?id=','change','__proto__','\x20al\x20','map',',\x20\x27pdf\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-print\x22></i>\x20Imprimir\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x20text-danger\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20Eliminar\x0a</a>\x0a</li>\x0a</ul>\x0a</div>\x0a</td>\x0a','93536SYarif','log','</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x22\x20style=\x22border:1.5px\x20solid\x20','getAttribute','https://fasyb.com/api/pdf/proxy/?file=','btn-outline-primary','none','readAsDataURL','Error\x20al\x20solicitar\x20reporte','sort','{b}:\x20{d}%','bind','apply','label','#reporte-income','style','setOperationNumber','postMessage','week','100%','value','setTipoOperacionName','#pagination-products','smtp.miempresa.com','&laquo;\x20Anterior','mousemove','No\x20hay\x20datos\x20de\x20ventas\x20para\x20exportar.','profit','\x22\x20style=\x22width:\x20100%;\x20height:\x20500px;\x20border:\x20none;\x22></iframe>\x0a','fechaISO','PLE_Ventas','category','success','click',',\x20\x27detalle\x27)\x22>\x0a<i\x20class=\x22fas\x20fa-eye\x22></i>\x20Visualizar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22#\x22>\x0a<i\x20class=\x22fas\x20fa-edit\x22></i>\x20Editar\x0a</a>\x0a</li>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle(','getDay','stringify','textContent','50%','mouseup','setOperationPaymentStatus','\x0a<table>\x0a<thead>\x0a<tr>\x0a<th>Producto</th>\x0a<th>Cantidad</th>\x0a<th>Valor\x20Unitario</th>\x0a<th>Total</th>\x0a</tr>\x0a</thead>\x0a<tbody\x20id=\x22detalleTablaBody\x22></tbody>\x0a</table>','createObjectURL','detalleModal','factura','valor_unitario','Selecciona\x20ambas\x20fechas','revokeObjectURL','Pendiente'];_0x17be=function(){return _0x2c8afe;};return _0x17be();}const per_page_customers=0xa;let fil_date_start='',fil_date_end='',fil_CustomersId=[],fil_OperationsType=[],fil_BranchesId=[],fil_OperationsId=[];function generateFilterTransformChart(_0x2419c7){const _0x4c9f44=_0x7d61ad,{containerId:_0x4a9246,rawData:_0x15694f,groupField:_0x318ddb,groupValues:_0x19c933,seriesType:seriesType=_0x4c9f44(0x1df),chartType:chartType=seriesType,encode:_0x489186,title:title='',colors:colors=[],animationDuration:animationDuration=0x2710,tooltipOrder:tooltipOrder=_0x4c9f44(0x262),xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={'right':0x8c},width:_0x5246a1,height:_0x5e1248}=_0x2419c7,_0x213122=document[_0x4c9f44(0x25a)](_0x4a9246);if(!_0x213122){console[_0x4c9f44(0x2c4)](_0x4c9f44(0x1c7)+_0x4a9246+'\x22\x20no\x20existe.');return;}if(_0x5246a1)_0x213122[_0x4c9f44(0x284)]['width']=_0x5246a1;if(_0x5e1248)_0x213122['style']['height']=_0x5e1248;const _0x35cbef=echarts['init'](_0x213122),_0x27b9fc=[],_0x2bb2f9=[];_0x19c933[_0x4c9f44(0x1d5)]((_0x4daf24,_0x4335ab)=>{const _0x80896a=_0x4c9f44,_0x4c5fe3='dataset_'+_0x4daf24,_0x6372a9=(_0x2419c7['additionalFilters']||[])[_0x80896a(0x204)]([{'dimension':_0x318ddb,'=':_0x4daf24}]);_0x27b9fc['push']({'id':_0x4c5fe3,'fromDatasetId':_0x80896a(0x263),'transform':{'type':_0x80896a(0x200),'config':{'and':_0x6372a9}}}),_0x2bb2f9['push']({'type':chartType,'datasetId':_0x4c5fe3,'name':_0x4daf24,...chartType==='bar'&&{'barWidth':0x14,'barMaxWidth':0x28},'itemStyle':{'color':colors[_0x4335ab]||undefined},...chartType===_0x80896a(0x1df)&&{'showSymbol':![]},'encode':_0x489186});});const _0x58b670={'animationDuration':animationDuration,'dataset':[{'id':'dataset_raw','source':_0x15694f},..._0x27b9fc],'title':{'text':title},'tooltip':{'order':tooltipOrder,'trigger':'axis'},'xAxis':Object[_0x4c9f44(0x208)]({'type':_0x4c9f44(0x294),'nameLocation':'middle'},xAxisConfig),'yAxis':Object[_0x4c9f44(0x208)]({'name':_0x489186['y']||''},yAxisConfig),'grid':gridConfig,'series':_0x2bb2f9};_0x35cbef[_0x4c9f44(0x20b)](_0x58b670);}function generatePieChart({containerId:_0xf79be8,data:_0x3b1605,nameField:_0x3c85d7,valueField:_0x143392,title:title='',titlePosition:titlePosition=_0x7d61ad(0x2c6),showTitle:showTitle=!![],width:_0x4b5991,height:_0x501cf5}){const _0x15ddac=_0x7d61ad,_0x479791=document['getElementById'](_0xf79be8);if(!_0x479791)return console['error'](_0x15ddac(0x1fb)+_0xf79be8+_0x15ddac(0x214));if(_0x4b5991)_0x479791[_0x15ddac(0x284)][_0x15ddac(0x246)]=_0x4b5991;if(_0x501cf5)_0x479791[_0x15ddac(0x284)]['height']=_0x501cf5;const _0x56bc95=echarts[_0x15ddac(0x1f7)](_0x479791),_0x4c6d7c=_0x3b1605['reduce']((_0x35975b,_0x351631)=>{const _0x2e9002=_0x15ddac,_0x5c577c=_0x351631[_0x3c85d7],_0x477592=_0x351631[_0x143392];let _0xd984b=_0x35975b[_0x2e9002(0x26d)](_0x544939=>_0x544939['name']===_0x5c577c);return!_0xd984b&&(_0xd984b={'name':_0x5c577c,'value':0x0},_0x35975b[_0x2e9002(0x24a)](_0xd984b)),_0xd984b[_0x2e9002(0x289)]+=_0x477592,_0x35975b;},[]);let _0x49a0b3;showTitle?(_0x49a0b3={'text':title,'left':_0x15ddac(0x2ba)},titlePosition===_0x15ddac(0x1db)?_0x49a0b3[_0x15ddac(0x1db)]=0x0:_0x49a0b3['top']=0x0):_0x49a0b3={'show':![]};const _0x3af629={'title':_0x49a0b3,'tooltip':{'trigger':'item'},'series':[{'type':_0x15ddac(0x1b9),'radius':_0x15ddac(0x29b),'data':_0x4c6d7c,'emphasis':{'itemStyle':{'shadowBlur':0xa,'shadowOffsetX':0x0}},'label':{'formatter':_0x15ddac(0x27f)}}]};_0x56bc95[_0x15ddac(0x20b)](_0x3af629);}function generateHorizontalBarChart({containerId:_0x33c56e,categories:categories=[],series:series=[],title:title='',titlePosition:titlePosition=_0x7d61ad(0x2c6),showTitle:showTitle=!![],colors:colors=[],width:_0x32516f,height:_0x3fe0ac,xAxisConfig:xAxisConfig={},yAxisConfig:yAxisConfig={},gridConfig:gridConfig={}}){const _0x10f32c=_0x7d61ad,_0x268114=document['getElementById'](_0x33c56e);if(!_0x268114)return console[_0x10f32c(0x2c4)]('Contenedor\x20'+_0x33c56e+_0x10f32c(0x214));if(_0x32516f)_0x268114['style'][_0x10f32c(0x246)]=_0x32516f;if(_0x3fe0ac)_0x268114[_0x10f32c(0x284)]['height']=_0x3fe0ac;const _0x1449ff=echarts[_0x10f32c(0x1f7)](_0x268114),_0xb7168c=showTitle?{'text':title,'left':_0x10f32c(0x2ba),...titlePosition===_0x10f32c(0x1db)?{'bottom':0x0}:{'top':0x0}}:{'show':![]};titlePosition===_0x10f32c(0x1db)?_0xb7168c[_0x10f32c(0x1db)]=0x0:_0xb7168c[_0x10f32c(0x2c6)]=0x0;const _0xe1ebe={'title':_0xb7168c,'tooltip':{'trigger':'axis','axisPointer':{'type':_0x10f32c(0x2cd)}},'legend':{},'grid':Object['assign']({'left':'3%','right':'4%','bottom':'3%','containLabel':!![]},gridConfig),'xAxis':Object[_0x10f32c(0x208)]({'type':_0x10f32c(0x289),'boundaryGap':[0x0,0.01]},xAxisConfig),'yAxis':Object['assign']({'type':_0x10f32c(0x294),'data':categories},yAxisConfig),'series':series[_0x10f32c(0x273)]((_0x9ac197,_0x552ed2)=>({'type':_0x10f32c(0x1d1),'name':_0x9ac197[_0x10f32c(0x215)],'data':_0x9ac197[_0x10f32c(0x1cd)],'itemStyle':{'color':colors[_0x552ed2]||undefined}}))};_0x1449ff[_0x10f32c(0x20b)](_0xe1ebe);}function showModalViewDetails(){const _0x46ead7=_0x7d61ad,_0x1b3e4b=document[_0x46ead7(0x25a)](_0x46ead7(0x2a0)),_0x611836=document[_0x46ead7(0x25a)]('modalOverlayViewDetails');_0x1b3e4b[_0x46ead7(0x210)]['add'](_0x46ead7(0x1c4)),_0x611836['style'][_0x46ead7(0x254)]=_0x46ead7(0x23a);}function hideModalViewDetails(){const _0x2eb341=_0x7d61ad,_0x31a8f2=document[_0x2eb341(0x25a)](_0x2eb341(0x2a0)),_0x21b873=document[_0x2eb341(0x25a)]('modalOverlayViewDetails');_0x31a8f2[_0x2eb341(0x210)][_0x2eb341(0x1e5)]('active'),_0x21b873[_0x2eb341(0x284)][_0x2eb341(0x254)]=_0x2eb341(0x27b);const _0x105645=document['getElementById'](_0x2eb341(0x228));_0x105645[_0x2eb341(0x1ef)]=_0x2eb341(0x29e);}document[_0x7d61ad(0x25a)](_0x7d61ad(0x1b8))[_0x7d61ad(0x1be)]('click',hideModalViewDetails),document[_0x7d61ad(0x25a)](_0x7d61ad(0x1d3))['addEventListener']('click',hideModalViewDetails);function verDetalle(_0x45754b,_0x1f2950){const _0xc4a3=_0x7d61ad;fetch(_0xc4a3(0x26f)+_0x45754b+_0xc4a3(0x1e9)+_0x1f2950)[_0xc4a3(0x250)](_0x58cd20=>{const _0x5113e8=_0xc4a3;if(!_0x58cd20['ok'])throw new Error(_0x5113e8(0x2bd)+_0x58cd20[_0x5113e8(0x1ec)]+':\x20'+_0x58cd20[_0x5113e8(0x212)]);return _0x58cd20[_0x5113e8(0x1da)]();})[_0xc4a3(0x250)](_0x32be48=>{const _0x2792c1=_0xc4a3;if(_0x32be48[_0x2792c1(0x295)]){const _0x276ec1=document[_0x2792c1(0x25a)](_0x2792c1(0x228));if(_0x1f2950==='detalle'){let _0x105bd6='';_0x32be48[_0x2792c1(0x1cd)][_0x2792c1(0x1d5)](_0x578ad7=>{const _0x19607a=_0x2792c1;_0x105bd6+='\x0a<tr>\x0a<td>'+_0x578ad7[_0x19607a(0x224)]+_0x19607a(0x253)+_0x578ad7[_0x19607a(0x1e4)]+'</td>\x0a<td>'+_0x578ad7[_0x19607a(0x2a2)]+'</td>\x0a<td>'+_0x578ad7['total']+'</td>\x0a</tr>';}),document[_0x2792c1(0x25a)]('detalleTablaBody')[_0x2792c1(0x1ef)]=_0x105bd6;}else{if(_0x1f2950===_0x2792c1(0x255)){const _0x1dd3e3=_0x2792c1(0x279)+encodeURIComponent(_0x32be48[_0x2792c1(0x2c3)]),_0x5a78d5=document[_0x2792c1(0x265)](_0x2792c1(0x2c0));_0x276ec1['innerHTML']=_0x2792c1(0x1f0)+_0x1dd3e3+_0x2792c1(0x291),document[_0x2792c1(0x25a)]('closeModalViewDetails')[_0x2792c1(0x1be)](_0x2792c1(0x296),hideModalViewDetails);}}showModalViewDetails();}else alert(_0x32be48[_0x2792c1(0x2c4)]||_0x2792c1(0x1cb));})[_0xc4a3(0x21d)](_0x52cfc7=>{const _0x242f82=_0xc4a3;console[_0x242f82(0x2c4)](_0x242f82(0x202),_0x52cfc7),alert('Error\x20al\x20cargar\x20el\x20detalle.');});}label[_0x7d61ad(0x1be)](_0x7d61ad(0x296),()=>{const _0x4f5a46=_0x7d61ad;options[_0x4f5a46(0x284)][_0x4f5a46(0x254)]=options['style'][_0x4f5a46(0x254)]===_0x4f5a46(0x27b)?'block':_0x4f5a46(0x27b);}),options['addEventListener'](_0x7d61ad(0x296),_0xe15f25=>{const _0x494b07=_0x7d61ad;if(_0xe15f25[_0x494b07(0x22d)]&&_0xe15f25['target'][_0x494b07(0x252)]==='LI'){const _0x5d3f8=_0xe15f25[_0x494b07(0x22d)][_0x494b07(0x278)](_0x494b07(0x2cb));updateDateRange(_0x5d3f8),options[_0x494b07(0x284)][_0x494b07(0x254)]=_0x494b07(0x27b);}}),document['addEventListener'](_0x7d61ad(0x296),_0x4f0fd3=>{const _0x20cb99=_0x7d61ad;!label[_0x20cb99(0x2bb)](_0x4f0fd3['target'])&&!options[_0x20cb99(0x2bb)](_0x4f0fd3[_0x20cb99(0x22d)])&&(options[_0x20cb99(0x284)]['display']=_0x20cb99(0x27b));});function formatDateToYmdHis(_0x232edd){const _0x555ba6=_0x7d61ad,_0x1fb578=_0x232edd[_0x555ba6(0x221)](),_0x1b4360=String(_0x232edd['getMonth']()+0x1)[_0x555ba6(0x264)](0x2,'0'),_0x2ada94=String(_0x232edd[_0x555ba6(0x2b1)]())[_0x555ba6(0x264)](0x2,'0'),_0x39ef13=String(_0x232edd[_0x555ba6(0x2be)]())[_0x555ba6(0x264)](0x2,'0'),_0x3ce77f=String(_0x232edd[_0x555ba6(0x230)]())[_0x555ba6(0x264)](0x2,'0'),_0x4e72d0=String(_0x232edd[_0x555ba6(0x2af)]())[_0x555ba6(0x264)](0x2,'0');return _0x1fb578+'-'+_0x1b4360+'-'+_0x2ada94+'\x20'+_0x39ef13+':'+_0x3ce77f+':'+_0x4e72d0;}function getDateRange(_0x7945d8){const _0xe0dacb=_0x7d61ad,_0x400e33=new Date();let _0x31a6f8,_0x83e2c3;switch(_0x7945d8){case _0xe0dacb(0x220):_0x31a6f8=new Date(_0x400e33[_0xe0dacb(0x221)](),_0x400e33[_0xe0dacb(0x24d)](),_0x400e33[_0xe0dacb(0x2b1)](),0x0,0x0,0x0),_0x83e2c3=new Date(_0x400e33[_0xe0dacb(0x221)](),_0x400e33['getMonth'](),_0x400e33[_0xe0dacb(0x2b1)](),0x17,0x3b,0x3b),label[_0xe0dacb(0x1ef)]=_0xe0dacb(0x236);break;case _0xe0dacb(0x287):const _0x5aab9e=_0x400e33[_0xe0dacb(0x298)](),_0x4dbeb0=new Date(_0x400e33);_0x4dbeb0['setDate'](_0x400e33['getDate']()-_0x5aab9e+(_0x5aab9e===0x0?-0x6:0x1));const _0x5c1003=new Date(_0x4dbeb0);_0x5c1003[_0xe0dacb(0x2b2)](_0x4dbeb0[_0xe0dacb(0x2b1)]()+0x6),_0x31a6f8=new Date(_0x4dbeb0[_0xe0dacb(0x221)](),_0x4dbeb0['getMonth'](),_0x4dbeb0[_0xe0dacb(0x2b1)](),0x0,0x0,0x0),_0x83e2c3=new Date(_0x5c1003['getFullYear'](),_0x5c1003[_0xe0dacb(0x24d)](),_0x5c1003[_0xe0dacb(0x2b1)](),0x17,0x3b,0x3b),label['innerHTML']='de\x20la\x20semana\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0xe0dacb(0x1e3):_0x31a6f8=new Date(_0x400e33['getFullYear'](),_0x400e33['getMonth'](),0x1,0x0,0x0,0x0),_0x83e2c3=new Date(_0x400e33[_0xe0dacb(0x221)](),_0x400e33[_0xe0dacb(0x24d)]()+0x1,0x0,0x17,0x3b,0x3b),label[_0xe0dacb(0x1ef)]='del\x20mes\x20<i\x20class=\x22bi\x20bi-caret-down-fill\x20date-range-label-icon\x22\x20style=\x22color:\x20#FF5900;\x22></i>';break;case _0xe0dacb(0x2ae):_0x31a6f8=new Date(_0x400e33['getFullYear'](),0x0,0x1,0x0,0x0,0x0),_0x83e2c3=new Date(_0x400e33[_0xe0dacb(0x221)](),0xb,0x1f,0x17,0x3b,0x3b),label[_0xe0dacb(0x1ef)]=_0xe0dacb(0x1d0);break;default:label['innerHTML']='';throw new Error(_0xe0dacb(0x238));}return{'startDateFormatted':formatDateToYmdHis(_0x31a6f8),'endDateFormatted':formatDateToYmdHis(_0x83e2c3)};}function updateDateRange(_0x249c5e){const _0x414824=_0x7d61ad;if(_0x249c5e==_0x414824(0x1ba)){}else{const {startDateFormatted:_0x5b701e,endDateFormatted:_0x3a87d5}=getDateRange(_0x249c5e);fil_date_start=_0x5b701e,fil_date_end=_0x3a87d5,consultIncomeReport();}}const tableWrappers=document['querySelectorAll'](_0x7d61ad(0x24b));tableWrappers[_0x7d61ad(0x1d5)](_0x19d0aa=>{const _0x4862d1=_0x7d61ad;let _0x20bb8a=![],_0x5cd9a0,_0x3fdaeb;_0x19d0aa[_0x4862d1(0x1be)]('mousedown',_0xe19b79=>{const _0x1eaf75=_0x4862d1;_0x20bb8a=!![],_0x5cd9a0=_0xe19b79[_0x1eaf75(0x244)]-_0x19d0aa['offsetLeft'],_0x3fdaeb=_0x19d0aa[_0x1eaf75(0x1bb)];}),_0x19d0aa[_0x4862d1(0x1be)](_0x4862d1(0x26b),()=>{_0x20bb8a=![];}),_0x19d0aa[_0x4862d1(0x1be)](_0x4862d1(0x29c),()=>{_0x20bb8a=![];}),_0x19d0aa[_0x4862d1(0x1be)](_0x4862d1(0x28e),_0x3e2a5a=>{const _0x3db6cc=_0x4862d1;if(!_0x20bb8a)return;_0x3e2a5a[_0x3db6cc(0x2c9)]();const _0x245d04=_0x3e2a5a[_0x3db6cc(0x244)]-_0x19d0aa['offsetLeft'],_0x588eea=(_0x245d04-_0x5cd9a0)*0x2;_0x19d0aa[_0x3db6cc(0x1bb)]=_0x3fdaeb-_0x588eea;});});async function consultIncomeReport(){const _0x331f14=_0x7d61ad;showLoadingModal();const _0x4a8d62={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x331f14(0x1dc)],'fil_date_start':fil_date_start,'fil_date_end':fil_date_end,'fil_CustomersId':fil_CustomersId,'fil_OperationsType':fil_OperationsType,'fil_BranchesId':fil_BranchesId,'fil_OperationsId':fil_OperationsId};try{const _0x27539c=await fetch(myCompany[_0x331f14(0x1c2)],{'method':_0x331f14(0x23b),'headers':{'Content-Type':_0x331f14(0x216)},'body':JSON[_0x331f14(0x299)](_0x4a8d62)}),{success:_0xb90d1a,message:_0x1fcbbd}=await _0x27539c[_0x331f14(0x1da)]();if(!_0xb90d1a||!Array[_0x331f14(0x259)](_0x1fcbbd[_0x331f14(0x22f)])){ntfShow('No\x20se\x20encontró\x20información\x20de\x20ingresos'),console[_0x331f14(0x276)](_0x1fcbbd);return;}const _0x21197b=_0x1fcbbd[_0x331f14(0x22f)],_0x2c2bd7=myCompany[_0x331f14(0x20c)][_0x331f14(0x1de)]((_0x44ca04,_0x20abee)=>(_0x44ca04[_0x20abee[_0x331f14(0x2b9)]]=_0x20abee[_0x331f14(0x1c8)],_0x44ca04),{}),_0x801046=myCompany[_0x331f14(0x1f2)]['reduce']((_0x5e3baa,_0x1afb05)=>(_0x5e3baa[_0x1afb05[_0x331f14(0x258)]]=_0x1afb05[_0x331f14(0x28a)],_0x5e3baa),{}),_0x5f3666=myCompany[_0x331f14(0x237)][_0x331f14(0x1de)]((_0x5146c0,_0x5904cd)=>(_0x5146c0[_0x5904cd['ID_SERIE']]=_0x5904cd[_0x331f14(0x242)],_0x5146c0),{});arrayIncomes=_0x21197b['map'](_0x311364=>{const _0x2efaea=_0x331f14,_0x3bf95b=_0x311364['setOperationItems'][_0x2efaea(0x1de)]((_0x3dcbfa,_0x5df3e8)=>_0x3dcbfa+Number(_0x5df3e8[_0x2efaea(0x21f)]),0x0),_0x51d7df=_0x801046[_0x311364[_0x2efaea(0x1f3)]]||_0x311364[_0x2efaea(0x1f3)],_0x4e0541=_0x5f3666[_0x311364[_0x2efaea(0x2ce)]]||_0x311364['setOperationSeries'],_0x47df6d=_0x2c2bd7[_0x311364[_0x2efaea(0x2b4)]]||_0x311364[_0x2efaea(0x2b4)],_0xb62141=_0x311364[_0x2efaea(0x29d)]==0x1?_0x2efaea(0x1cc):_0x2efaea(0x21e),_0x34ccf1=_0x311364['setOperationPaymentStatus']==0x1?'Pagado':_0x2efaea(0x2a5),_0x564b5f=_0x311364[_0x2efaea(0x1f3)]==0x1?_0x2efaea(0x1bf):_0x311364[_0x2efaea(0x1f3)]==0x2?_0x2efaea(0x203):_0x311364[_0x2efaea(0x1f3)]==0x3?'boleta':_0x311364[_0x2efaea(0x1f3)]==0x4?_0x2efaea(0x2a1):_0x2efaea(0x203);return{'setOperationId':_0x311364[_0x2efaea(0x209)],'setOperationType':_0x51d7df,'setOperationTypeSpan':_0x564b5f,'setOperationSeries':_0x4e0541+'-'+_0x311364[_0x2efaea(0x285)],'setOperationCustomerName':_0x47df6d,'setOperationDateTime':_0x311364['setOperationDateTime'],'setOperationPaymentStatusColor':_0xb62141,'setOperationPaymentStatusName':_0x34ccf1,'setOperationCurrency':_0x311364[_0x2efaea(0x205)],'setOperationTotal':_0x3bf95b};});const _0x10dca5=_0x21197b[_0x331f14(0x20f)](_0x203428=>_0x203428[_0x331f14(0x1d9)]['map'](_0x240485=>({'item':_0x240485,'moneda':_0x203428[_0x331f14(0x205)]})))[_0x331f14(0x1de)]((_0x16b079,{item:_0x487b76,moneda:_0x3ecf79})=>{const _0x2c67d4=_0x331f14,_0x1b0169=products['find'](_0x1beaaf=>_0x1beaaf['id']==_0x487b76[_0x2c67d4(0x1e0)]),_0x5c3087=_0x1b0169?_0x1b0169[_0x2c67d4(0x226)]:_0x2c67d4(0x26e),_0x2e7642=_0x5c3087+'|'+_0x3ecf79,_0x52ce67=Number(_0x487b76['setOperationDetailTotal']),_0x5d7fc8=Number(_0x487b76[_0x2c67d4(0x23d)])*Number(_0x487b76['setOperationDetailQuantity']);return!_0x16b079[_0x2e7642]&&(_0x16b079[_0x2e7642]={'productName':_0x5c3087,'currency':_0x3ecf79,'sales':0x0,'cost':0x0}),_0x16b079[_0x2e7642][_0x2c67d4(0x22a)]+=_0x52ce67,_0x16b079[_0x2e7642][_0x2c67d4(0x1ea)]+=_0x5d7fc8,_0x16b079;},{}),_0x370f2d=Object[_0x331f14(0x267)](_0x10dca5)[_0x331f14(0x273)](_0x3adc59=>({'productName':_0x3adc59['productName'],'currency':_0x3adc59['currency'],'sales':Math[_0x331f14(0x249)](_0x3adc59[_0x331f14(0x22a)]*0x64)/0x64,'cost':Math[_0x331f14(0x249)](_0x3adc59['cost']*0x64)/0x64,'profit':Math[_0x331f14(0x249)]((_0x3adc59[_0x331f14(0x22a)]-_0x3adc59[_0x331f14(0x1ea)])*0x64)/0x64})),_0x131bfe=_0x21197b[_0x331f14(0x1de)]((_0x794571,_0x589740)=>{const _0x30873b=_0x331f14,_0x102f88=_0x2c2bd7[_0x589740[_0x30873b(0x2b4)]]||_0x589740['setOperationCustomerId'],_0x1bcaf4=_0x589740[_0x30873b(0x205)],_0x13ec3b=_0x102f88+'|'+_0x1bcaf4,_0xfbc9bc=_0x589740[_0x30873b(0x1d9)][_0x30873b(0x1de)]((_0x39327b,_0x6f162a)=>_0x39327b+Number(_0x6f162a[_0x30873b(0x21f)]),0x0),_0x400d67=_0x589740[_0x30873b(0x1d9)]['reduce']((_0x2f6dc5,_0x29535e)=>_0x2f6dc5+Number(_0x29535e['setOperationDetailUnitCost'])*Number(_0x29535e['setOperationDetailQuantity']),0x0);return!_0x794571[_0x13ec3b]&&(_0x794571[_0x13ec3b]={'customerName':_0x102f88,'currency':_0x1bcaf4,'sales':0x0,'cost':0x0}),_0x794571[_0x13ec3b][_0x30873b(0x22a)]+=_0xfbc9bc,_0x794571[_0x13ec3b][_0x30873b(0x1ea)]+=_0x400d67,_0x794571;},{}),_0x2b484b=Object[_0x331f14(0x267)](_0x131bfe)[_0x331f14(0x273)](_0xde8314=>({'customerName':_0xde8314[_0x331f14(0x25f)],'currency':_0xde8314['currency'],'sales':Math[_0x331f14(0x249)](_0xde8314[_0x331f14(0x22a)]*0x64)/0x64,'cost':Math[_0x331f14(0x249)](_0xde8314['cost']*0x64)/0x64,'profit':Math[_0x331f14(0x249)]((_0xde8314[_0x331f14(0x22a)]-_0xde8314[_0x331f14(0x1ea)])*0x64)/0x64}));renderTable(arrayIncomes,currentPage,_0x331f14(0x22f)),renderTable(_0x370f2d,currentPageProducts,_0x331f14(0x24c)),renderTable(_0x2b484b,currentPageCustomers,_0x331f14(0x2c5));const _0x15c51d=arrayIncomes[_0x331f14(0x273)](_0x39a4c3=>({'fechaISO':_0x39a4c3['setOperationDateTime'][_0x331f14(0x2a7)]('\x20')[0x0],'setTipoComprobante':_0x39a4c3[_0x331f14(0x1f3)],'setOperationCurrency':_0x39a4c3[_0x331f14(0x205)],'Total':Math[_0x331f14(0x249)](_0x39a4c3[_0x331f14(0x227)]*0x64)/0x64})),_0x1680ec=_0x15c51d[_0x331f14(0x1de)]((_0x57e89d,_0xb3734f)=>{const _0x5571c9=_0x331f14,_0x79c49e=_0xb3734f[_0x5571c9(0x292)]+'|'+_0xb3734f['setTipoComprobante']+'|'+_0xb3734f[_0x5571c9(0x205)];if(!_0x57e89d[_0x79c49e])_0x57e89d[_0x79c49e]={..._0xb3734f,'Total':0x0};return _0x57e89d[_0x79c49e][_0x5571c9(0x2ca)]+=_0xb3734f[_0x5571c9(0x2ca)],_0x57e89d;},{}),_0x2dc73c=Object[_0x331f14(0x267)](_0x1680ec)[_0x331f14(0x273)](_0x53a396=>({'fechaISO':_0x53a396[_0x331f14(0x292)],'setTipoComprobante':_0x53a396[_0x331f14(0x1dd)]+'\x20('+_0x53a396[_0x331f14(0x205)]+')','Total':Math[_0x331f14(0x249)](_0x53a396[_0x331f14(0x2ca)]*0x64)/0x64})),_0x5d312c=[...new Set(_0x2dc73c[_0x331f14(0x273)](_0x4c2667=>_0x4c2667['setTipoComprobante']))],_0x1c47fe=Array['from'](new Set(_0x2dc73c[_0x331f14(0x273)](_0xcb7a74=>_0xcb7a74[_0x331f14(0x292)])))[_0x331f14(0x27e)]((_0x454c64,_0x21b021)=>new Date(_0x454c64)-new Date(_0x21b021));_0x2dc73c[_0x331f14(0x2ad)]>0x0?generateFilterTransformChart({'containerId':_0x331f14(0x2b7),'rawData':_0x2dc73c,'groupField':_0x331f14(0x1dd),'groupValues':_0x5d312c,'seriesType':_0x331f14(0x1d1),'chartType':_0x331f14(0x1d1),'colors':[_0x331f14(0x21e),_0x331f14(0x25b)],'encode':{'x':_0x331f14(0x292),'y':_0x331f14(0x2ca),'label':[_0x331f14(0x1dd),_0x331f14(0x2ca)],'itemName':_0x331f14(0x292),'tooltip':['Total']},'xAxisConfig':{'type':_0x331f14(0x294),'data':_0x1c47fe,'axisLabel':{'formatter':_0x5bea58=>{const _0x509fa3=_0x331f14,[_0x53b0bd,_0x29fb44,_0x313917]=_0x5bea58[_0x509fa3(0x2a7)]('-');return _0x313917+'/'+_0x29fb44+'/'+_0x53b0bd;}}},'title':_0x331f14(0x22b),'width':_0x331f14(0x288),'height':_0x331f14(0x26c)}):divChartIncome[_0x331f14(0x1ef)]='';_0x370f2d['length']>0x0?generateHorizontalBarChart({'containerId':_0x331f14(0x223),'categories':_0x370f2d[_0x331f14(0x273)](_0x1d65ee=>{const _0xf428ec=_0x331f14,_0x5d94d8='('+_0x1d65ee['currency']+')\x20'+_0x1d65ee[_0xf428ec(0x24e)];return _0x5d94d8[_0xf428ec(0x2ad)]>0xf?_0x5d94d8[_0xf428ec(0x1ca)](0x0,0xf)+'...':_0x5d94d8;}),'series':[{'name':_0x331f14(0x261),'data':_0x370f2d['map'](_0x575ff5=>_0x575ff5['sales'])},{'name':_0x331f14(0x23c),'data':_0x370f2d['map'](_0x19a439=>_0x19a439[_0x331f14(0x1ea)])},{'name':_0x331f14(0x217),'data':_0x370f2d[_0x331f14(0x273)](_0x577425=>_0x577425[_0x331f14(0x290)])}],'title':_0x331f14(0x260),'titlePosition':'bottom','showTitle':![],'colors':[_0x331f14(0x21e),_0x331f14(0x25b),_0x331f14(0x25d)],'width':_0x331f14(0x288),'height':_0x331f14(0x2bc)}):divChartItem[_0x331f14(0x1ef)]='';if(_0x2b484b[_0x331f14(0x2ad)]>0x0){const _0x40915a=_0x2b484b[_0x331f14(0x273)](_0x166f33=>({'label':_0x166f33[_0x331f14(0x25f)]+'\x20('+_0x166f33[_0x331f14(0x1e8)]+')','sales':_0x166f33[_0x331f14(0x22a)]}));generatePieChart({'containerId':_0x331f14(0x20a),'data':_0x40915a,'nameField':_0x331f14(0x282),'valueField':_0x331f14(0x22a),'title':_0x331f14(0x2bf),'titlePosition':_0x331f14(0x2c6),'showTitle':![],'width':'500px','height':_0x331f14(0x26c)});}else divChartCustomer[_0x331f14(0x1ef)]='';}catch(_0x4515f2){ntfShow(_0x331f14(0x27d)),console[_0x331f14(0x2c4)](_0x4515f2);}finally{hideLoadingModal();}}function renderTable(_0x3d4613,_0x2a6f37=0x1,_0x2dad86='incomes'){const _0x53d99a=_0x7d61ad;currentPage=_0x2a6f37;const _0x3540b8=_0x2dad86===_0x53d99a(0x22f)?_0x53d99a(0x283):_0x2dad86===_0x53d99a(0x24c)?'#reporte-income-products':_0x53d99a(0x1e2),_0x5bbe67=_0x2dad86==='incomes'?per_page:_0x2dad86==='products'?per_page_products:per_page_customers,_0x4a755f=document['querySelector'](_0x3540b8+'\x20tbody');_0x4a755f[_0x53d99a(0x1ef)]='';const _0x57defe=(_0x2a6f37-0x1)*_0x5bbe67,_0x41ad71=_0x3d4613[_0x53d99a(0x1c9)](_0x57defe,_0x57defe+_0x5bbe67);if(_0x2dad86==='incomes'){_0x41ad71[_0x53d99a(0x1d5)](_0x21c903=>{const _0x7e12c0=_0x53d99a,_0x52b7fb=document[_0x7e12c0(0x2a6)]('tr');_0x52b7fb['innerHTML']='\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<span\x20class=\x22span-table-custom\x20span-table-setTipoComprobante-'+_0x21c903[_0x7e12c0(0x2b8)]+'\x22>\x0a'+_0x21c903[_0x7e12c0(0x1f3)]+_0x7e12c0(0x25c)+(_0x21c903[_0x7e12c0(0x2ce)]||'')+_0x7e12c0(0x253)+(_0x21c903['setOperationCustomerName']||'')+'</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>'+_0x21c903[_0x7e12c0(0x22e)]+_0x7e12c0(0x277)+_0x21c903['setOperationPaymentStatusColor']+_0x7e12c0(0x257)+_0x21c903[_0x7e12c0(0x26a)]+';\x22>\x0a'+_0x21c903[_0x7e12c0(0x241)]+'\x0a</span>\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a'+_0x21c903['setOperationCurrency']+_0x7e12c0(0x1fc)+_0x21c903[_0x7e12c0(0x227)]['toFixed'](0x2)+'\x0a</td>\x0a<td\x20style=\x22text-align:\x20center;\x22>\x0a<div\x20class=\x22dropdown\x22>\x0a<button\x20class=\x22btn\x20btn-sm\x20dropdown-toggle\x22\x20style=\x22background:\x20none;\x20color:\x20#FF5900;\x20font-size:\x2025px;\x20padding:\x200;\x20padding-right:\x208px;\x22\x20type=\x22button\x22\x20id=\x22dropdownMenuButton\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a<i\x20class=\x22fas\x20fa-ellipsis-h\x22></i>\x0a</button>\x0a<ul\x20class=\x22dropdown-menu\x22\x20aria-labelledby=\x22dropdownMenuButton\x22>\x0a<li>\x0a<a\x20class=\x22dropdown-item\x22\x20href=\x22javascript:void(0)\x22\x20onclick=\x22verDetalle('+_0x21c903[_0x7e12c0(0x209)]+_0x7e12c0(0x297)+_0x21c903['setOperationId']+_0x7e12c0(0x274),_0x4a755f[_0x7e12c0(0x22c)](_0x52b7fb);});const _0x56ff42=_0x3d4613[_0x53d99a(0x1de)]((_0x47629b,_0x23cf79)=>{const _0x3cf480=_0x53d99a,_0x4e4799=_0x23cf79[_0x3cf480(0x205)];return _0x47629b[_0x4e4799]=(_0x47629b[_0x4e4799]||0x0)+Number(_0x23cf79[_0x3cf480(0x227)]),_0x47629b;},{});Object[_0x53d99a(0x1f8)](_0x56ff42)[_0x53d99a(0x1d5)](([_0x2bd290,_0xd37114])=>{const _0x1212b3=_0x53d99a,_0x30c2f0=document['createElement']('tr');_0x30c2f0[_0x1212b3(0x1ef)]=_0x1212b3(0x2a8)+_0x2bd290+'):\x0a</td>\x0a<td\x20style=\x22text-align:\x20right;\x22>\x0a'+(Math[_0x1212b3(0x249)](_0xd37114*0x64)/0x64)[_0x1212b3(0x1eb)](0x2)+'\x0a</td>\x0a<td></td>\x0a',_0x4a755f['appendChild'](_0x30c2f0);}),renderPagination(_0x3d4613,_0x2a6f37,_0x2dad86);}if(_0x2dad86===_0x53d99a(0x24c)){_0x41ad71[_0x53d99a(0x1d5)](_0x2eec64=>{const _0x17f93c=_0x53d99a,_0x493383=document[_0x17f93c(0x2a6)]('tr');_0x493383['innerHTML']=_0x17f93c(0x239)+_0x2eec64[_0x17f93c(0x24e)]+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0x2eec64[_0x17f93c(0x1e8)]+_0x17f93c(0x233)+_0x2eec64[_0x17f93c(0x22a)][_0x17f93c(0x1eb)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x2eec64[_0x17f93c(0x1ea)][_0x17f93c(0x1eb)](0x2)+_0x17f93c(0x233)+_0x2eec64[_0x17f93c(0x290)][_0x17f93c(0x1eb)](0x2)+_0x17f93c(0x1c0),_0x4a755f[_0x17f93c(0x22c)](_0x493383);});const _0x4e95e7=_0x3d4613[_0x53d99a(0x1de)]((_0x494f4a,_0x13f82c)=>{const _0x236174=_0x53d99a,_0x46d2f2=_0x13f82c[_0x236174(0x1e8)];if(!_0x494f4a[_0x46d2f2])_0x494f4a[_0x46d2f2]={'sales':0x0,'cost':0x0,'profit':0x0};return _0x494f4a[_0x46d2f2]['sales']+=_0x13f82c[_0x236174(0x22a)],_0x494f4a[_0x46d2f2][_0x236174(0x1ea)]+=_0x13f82c[_0x236174(0x1ea)],_0x494f4a[_0x46d2f2]['profit']+=_0x13f82c[_0x236174(0x290)],_0x494f4a;},{});Object[_0x53d99a(0x1f8)](_0x4e95e7)[_0x53d99a(0x1d5)](([_0xe29663,_0x499e32])=>{const _0x3fd977=_0x53d99a,_0x56dc76=document['createElement']('tr');_0x56dc76[_0x3fd977(0x1ef)]=_0x3fd977(0x1fa)+_0xe29663+_0x3fd977(0x1f1)+(Math[_0x3fd977(0x249)](_0x499e32[_0x3fd977(0x22a)]*0x64)/0x64)[_0x3fd977(0x1eb)](0x2)+_0x3fd977(0x1e6)+(Math[_0x3fd977(0x249)](_0x499e32[_0x3fd977(0x1ea)]*0x64)/0x64)['toFixed'](0x2)+_0x3fd977(0x1e6)+(Math[_0x3fd977(0x249)](_0x499e32['profit']*0x64)/0x64)['toFixed'](0x2)+'\x0a</td>\x0a',_0x4a755f['appendChild'](_0x56dc76);}),renderPagination(_0x3d4613,_0x2a6f37,_0x2dad86);}if(_0x2dad86===_0x53d99a(0x2c5)){_0x41ad71[_0x53d99a(0x1d5)](_0x2a8733=>{const _0x5ceb28=_0x53d99a,_0x756fdf=document[_0x5ceb28(0x2a6)]('tr');_0x756fdf['innerHTML']='\x0a<td\x20class=\x22td-bg-none\x22>'+_0x2a8733['customerName']+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20center;\x22>'+_0x2a8733[_0x5ceb28(0x1e8)]+_0x5ceb28(0x233)+_0x2a8733[_0x5ceb28(0x22a)][_0x5ceb28(0x1eb)](0x2)+'</td>\x0a<td\x20class=\x22td-bg-none\x22\x20style=\x22text-align:\x20right;\x22>'+_0x2a8733[_0x5ceb28(0x1ea)][_0x5ceb28(0x1eb)](0x2)+_0x5ceb28(0x233)+_0x2a8733[_0x5ceb28(0x290)]['toFixed'](0x2)+_0x5ceb28(0x1c0),_0x4a755f[_0x5ceb28(0x22c)](_0x756fdf);});const _0x58ee01=_0x3d4613['reduce']((_0xc29e3b,_0x4dbb18)=>{const _0x3cf1a9=_0x53d99a,_0x47f9a9=_0x4dbb18['currency'];return!_0xc29e3b[_0x47f9a9]&&(_0xc29e3b[_0x47f9a9]={'sales':0x0,'cost':0x0,'profit':0x0}),_0xc29e3b[_0x47f9a9][_0x3cf1a9(0x22a)]+=_0x4dbb18['sales'],_0xc29e3b[_0x47f9a9]['cost']+=_0x4dbb18[_0x3cf1a9(0x1ea)],_0xc29e3b[_0x47f9a9][_0x3cf1a9(0x290)]+=_0x4dbb18[_0x3cf1a9(0x290)],_0xc29e3b;},{});Object[_0x53d99a(0x1f8)](_0x58ee01)[_0x53d99a(0x1d5)](([_0x2a6ee7,_0x4d3979])=>{const _0x486d30=_0x53d99a,_0x1287a7=document[_0x486d30(0x2a6)]('tr');_0x1287a7['innerHTML']=_0x486d30(0x1fa)+_0x2a6ee7+_0x486d30(0x1f1)+(Math[_0x486d30(0x249)](_0x4d3979[_0x486d30(0x22a)]*0x64)/0x64)[_0x486d30(0x1eb)](0x2)+_0x486d30(0x1e6)+(Math[_0x486d30(0x249)](_0x4d3979[_0x486d30(0x1ea)]*0x64)/0x64)[_0x486d30(0x1eb)](0x2)+_0x486d30(0x1e6)+(Math[_0x486d30(0x249)](_0x4d3979['profit']*0x64)/0x64)[_0x486d30(0x1eb)](0x2)+_0x486d30(0x245),_0x4a755f['appendChild'](_0x1287a7);}),renderPagination(_0x3d4613,_0x2a6f37,_0x2dad86);}}function _0x21d3(_0x1d302a,_0xc1ef03){const _0x60698c=_0x17be();return _0x21d3=function(_0x44f87b,_0x8e3142){_0x44f87b=_0x44f87b-0x1b8;let _0x4b567b=_0x60698c[_0x44f87b];return _0x4b567b;},_0x21d3(_0x1d302a,_0xc1ef03);}function renderPagination(_0x1e1fc2,_0x399152,_0x20e954='incomes'){const _0x54763e=_0x7d61ad,_0x23d026=_0x20e954==='incomes'?document[_0x54763e(0x265)](_0x54763e(0x251)):_0x20e954===_0x54763e(0x24c)?document[_0x54763e(0x265)](_0x54763e(0x28b)):document[_0x54763e(0x265)](_0x54763e(0x1c1)),_0x4b0e0e=_0x20e954===_0x54763e(0x22f)?per_page:_0x20e954==='products'?per_page_products:per_page_customers;_0x23d026[_0x54763e(0x1ef)]='';const _0xc5c0b5=Math['ceil'](_0x1e1fc2[_0x54763e(0x2ad)]/_0x4b0e0e),_0x152662=document[_0x54763e(0x2a6)]('a');_0x152662['href']='#',_0x152662[_0x54763e(0x20e)]=_0x54763e(0x21a),_0x152662[_0x54763e(0x1ef)]=_0x54763e(0x28d),_0x152662[_0x54763e(0x2aa)]=_0xb0be15=>{_0xb0be15['preventDefault']();if(_0x399152>0x1)renderTable(_0x1e1fc2,_0x399152-0x1,_0x20e954);},_0x23d026[_0x54763e(0x22c)](_0x152662);for(let _0x224bdc=0x1;_0x224bdc<=_0xc5c0b5;_0x224bdc++){const _0xa89991=document['createElement']('a');_0xa89991[_0x54763e(0x1ed)]='#',_0xa89991['className']=_0x54763e(0x1cf)+(_0x224bdc===_0x399152?_0x54763e(0x27a):_0x54763e(0x24f)),_0xa89991[_0x54763e(0x29a)]=_0x224bdc,_0xa89991[_0x54763e(0x2aa)]=_0x5d60c9=>{const _0x1cd637=_0x54763e;_0x5d60c9[_0x1cd637(0x2c9)](),renderTable(_0x1e1fc2,_0x224bdc,_0x20e954);},_0x23d026['appendChild'](_0xa89991);}const _0x63245c=document['createElement']('a');_0x63245c[_0x54763e(0x1ed)]='#',_0x63245c[_0x54763e(0x20e)]=_0x54763e(0x1bd),_0x63245c[_0x54763e(0x1ef)]=_0x54763e(0x21b),_0x63245c['onclick']=_0x15d05c=>{const _0x183fc5=_0x54763e;_0x15d05c[_0x183fc5(0x2c9)]();if(_0x399152<_0xc5c0b5)renderTable(_0x1e1fc2,_0x399152+0x1,_0x20e954);},_0x23d026['appendChild'](_0x63245c);}document['getElementById'](_0x7d61ad(0x269))[_0x7d61ad(0x1be)](_0x7d61ad(0x296),async()=>{const _0x1f53f9=_0x7d61ad,_0x1078c1=document[_0x1f53f9(0x25a)](_0x1f53f9(0x229))[_0x1f53f9(0x289)],_0x40057d=document[_0x1f53f9(0x25a)]('filter-end')[_0x1f53f9(0x289)];if(!_0x1078c1||!_0x40057d)return alert(_0x1f53f9(0x2a3));const _0x2b2958=document['getElementById'](_0x1f53f9(0x1fe)),_0x7dfb22=bootstrap[_0x1f53f9(0x1d6)][_0x1f53f9(0x1fd)](_0x2b2958);_0x7dfb22[_0x1f53f9(0x2c8)](),showLoadingModal();try{const _0x178017={'apiPOS_getIncome':0x1,'setToken':myCompany[_0x1f53f9(0x1dc)],'dateFrom':_0x1078c1+_0x1f53f9(0x235),'dateTo':_0x40057d+'\x2023:59:59','clientIds':[],'operationTypes':[]},_0xfd5237=await fetch(myCompany[_0x1f53f9(0x1c2)],{'method':_0x1f53f9(0x23b),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1f53f9(0x299)](_0x178017)}),{success:_0x325d3f,message:_0x15afd0}=await _0xfd5237[_0x1f53f9(0x1da)]();if(!_0x325d3f)throw new Error(_0x15afd0);_0x15afd0[_0x1f53f9(0x22f)],await consultIncomeReport();}catch(_0x3e6b19){ntfShow('Error\x20al\x20aplicar\x20filtro'),console[_0x1f53f9(0x2c4)](_0x3e6b19);}finally{hideLoadingModal();}});let currentExportMode='download';const WA_CRED_ID=_0x7d61ad(0x1c5),WA_DEST_NUMBER=_0x7d61ad(0x248),EMAIL_AUTH_TOKEN='YOUR_EMAIL_AUTH_TOKEN',EMAIL_SENDER_NAME='Mi\x20Empresa',EMAIL_SENDER_ADDR='no-reply@miempresa.com',EMAIL_SENDER_PASS=_0x7d61ad(0x1e1),EMAIL_SMTP_HOST=_0x7d61ad(0x28c),EMAIL_SMTP_PORT=0x24b,EMAIL_DESTINATION=[_0x7d61ad(0x2c7)],reportWorker=new Worker(_0x7d61ad(0x25e));reportWorker[_0x7d61ad(0x222)]=({data:_0x135a27})=>{const _0x3037c8=_0x7d61ad,{type:_0x538747,payload:_0x15bf4a,reportType:_0x56268d}=_0x135a27;if(_0x538747===_0x3037c8(0x234)){const _0x5d07b3=new Blob([_0x15bf4a],{'type':_0x3037c8(0x1f5)}),_0x18329f=new Date()[_0x3037c8(0x247)]()[_0x3037c8(0x1c9)](0x0,0xa),_0x27940b=_0x56268d+'_'+_0x18329f+_0x3037c8(0x256),_0x289588=_0x4f608e=>new Promise((_0x20b666,_0x4aaf6d)=>{const _0x473aa7=_0x3037c8,_0x293ce7=new FileReader();_0x293ce7[_0x473aa7(0x1e7)]=()=>_0x4aaf6d(_0x293ce7['error']),_0x293ce7[_0x473aa7(0x1f4)]=()=>_0x20b666(_0x293ce7['result'][_0x473aa7(0x2a7)](',')[0x1]),_0x293ce7[_0x473aa7(0x27c)](_0x4f608e);});switch(currentExportMode){case _0x3037c8(0x2ac):{const _0x54c6a9=URL[_0x3037c8(0x29f)](_0x5d07b3),_0x254d0e=document[_0x3037c8(0x2a6)]('a');_0x254d0e['href']=_0x54c6a9,_0x254d0e['download']=_0x27940b,_0x254d0e[_0x3037c8(0x296)](),URL[_0x3037c8(0x2a4)](_0x54c6a9);}break;case _0x3037c8(0x213):{_0x289588(_0x5d07b3)[_0x3037c8(0x250)](_0x5782ac=>{const _0x2ec5c8=_0x3037c8;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x2ec5c8(0x268),_0x5782ac,_0x2ec5c8(0x2c1)+_0x56268d+_0x2ec5c8(0x272)+_0x18329f,_0x27940b,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')['catch'](_0x4f4f4a=>{const _0x5c1f28=_0x2ec5c8;console[_0x5c1f28(0x2c4)]('Error\x20WA:',_0x4f4f4a),ntfShow(_0x5c1f28(0x243));});});}break;case _0x3037c8(0x1d2):{_0x289588(_0x5d07b3)[_0x3037c8(0x250)](_0xc854cb=>{const _0x333b26=_0x3037c8;sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x333b26(0x2c1)+_0x56268d+_0x333b26(0x23e)+_0x18329f,_0x333b26(0x21c),[{'filename':_0x27940b,'content':_0xc854cb,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;case _0x3037c8(0x1c6):{_0x289588(_0x5d07b3)[_0x3037c8(0x250)](_0x1c7ea0=>{const _0x4b7144=_0x3037c8;sendMessageApiWAChat(WA_CRED_ID,WA_DEST_NUMBER,_0x4b7144(0x268),_0x1c7ea0,_0x4b7144(0x2c1)+_0x56268d+'\x20al\x20'+_0x18329f,_0x27940b,'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')[_0x4b7144(0x21d)](_0x29a682=>console[_0x4b7144(0x2c4)](_0x4b7144(0x218),_0x29a682)),sendEmail(EMAIL_AUTH_TOKEN,EMAIL_SENDER_NAME,EMAIL_SENDER_ADDR,EMAIL_SENDER_PASS,EMAIL_SMTP_HOST,EMAIL_SMTP_PORT,EMAIL_DESTINATION,_0x4b7144(0x2c1)+_0x56268d+_0x4b7144(0x23e)+_0x18329f,'Adjunto\x20encontrarás\x20el\x20reporte\x20solicitado.',[{'filename':_0x27940b,'content':_0x1c7ea0,'mimetype':'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'}]);});}break;default:console['error'](_0x3037c8(0x1d8),currentExportMode);}}_0x538747===_0x3037c8(0x2c4)&&(console[_0x3037c8(0x2c4)](_0x3037c8(0x219),_0x15bf4a),ntfShow(_0x3037c8(0x231)));},document['getElementById'](_0x7d61ad(0x20d))[_0x7d61ad(0x1be)](_0x7d61ad(0x296),()=>{onClickExport('download');});function onClickExport(_0x414584=_0x7d61ad(0x2ac)){const _0x4596d9=_0x7d61ad;if(!Array[_0x4596d9(0x259)](arrayIncomes)||!arrayIncomes[_0x4596d9(0x2ad)])return ntfShow(_0x4596d9(0x28f));currentExportMode=_0x414584;const _0x26950c=arrayIncomes[_0x4596d9(0x273)](_0x46a78e=>{const _0x320422=_0x4596d9,[_0x28c9a5]=_0x46a78e[_0x320422(0x22e)][_0x320422(0x2a7)]('\x20'),[_0x1ef873,_0x557e07,_0x56059e]=_0x28c9a5[_0x320422(0x2a7)]('-');return{'Periodo':''+_0x1ef873+_0x557e07,'CorrelativoCUO':'','NumeroAsiento':'','FechaEmisionComprobantePago':_0x56059e+'/'+_0x557e07+'/'+_0x1ef873,'FechaVencimientoPago':'','TipoComprobantePago':'','SerieComprobantePago':'','NumeroComprobantePago':'','NumeroFinalComprobantePago':'','TipoDocIdentCliente':'','NumDocIdentCliente':'','ApellidosNombresRazonSocial':'','ValorExportacion':0x0,'BaseImponibleGravada':0x0,'DescuentoBaseImponible':0x0,'IGVVentasMunicipal':0x0,'DescuentoIGV':0x0,'ImporteOperacionExonerada':0x0,'ImporteOperacionInafecta':0x0,'ImpuestoSelectivoConsumo':0x0,'BaseImponibleArrozPilado':0x0,'ImpuestoArrozPilado':0x0,'OtrosConceptosTributos':0x0,'ImporteTotalComprobantePago':0x0,'CodigoMoneda':_0x46a78e[_0x320422(0x205)],'TipoCambio':0x0,'FechaEmisionModificacion':'','TipoComprobanteModificado':0x0,'SerieComprobanteModificado':'','NumeroComprobanteModificado':'','IdentificacionContratoProyecto':'','ErrorTipo1':0x0,'IndicadorComprobantesCancelados':0x0,'EstadoPLE':0x0};});reportWorker[_0x4596d9(0x286)]({'action':'exportReport','reportType':_0x4596d9(0x293),'report':_0x26950c});}window[_0x7d61ad(0x1f4)]=function(){const _0x528391=_0x7d61ad,_0x13175c=0x3;loadLoginContent(_0x528391(0x1d7)),setUserNameGet(),setEventBtnAccess();const _0x38fa50=document[_0x528391(0x265)](_0x528391(0x1f9));_0x38fa50&&_0x38fa50[_0x528391(0x1be)](_0x528391(0x296),function(){logoutReload(0x0,_0x13175c);}),document['getElementById'](_0x528391(0x2ab))[_0x528391(0x1be)](_0x528391(0x270),async function(){const _0x46d448=_0x528391,_0x4da42f=parseInt(this[_0x46d448(0x289)]);myCompany[_0x46d448(0x2b5)]=_0x4da42f;const _0x225918=await createCartStore('');await saveCompanyToIndexedDB(company,_0x225918),cargarAlmacenes(_0x4da42f),setTimeout(()=>{const _0x5601e3=_0x46d448;document[_0x5601e3(0x25a)](_0x5601e3(0x1f6))[_0x5601e3(0x2c2)](new Event(_0x5601e3(0x270)));},0x64),cargarPisos(_0x4da42f),setTimeout(()=>{const _0x454bb4=_0x46d448;document[_0x454bb4(0x25a)](_0x454bb4(0x2b3))[_0x454bb4(0x2c2)](new Event(_0x454bb4(0x270)));},0x64),ntf_initNotifications(),fil_BranchesId=[],fil_BranchesId[_0x46d448(0x24a)](_0x4da42f),consultIncomeReport();}),loadCartAndSetTabCount(_0x13175c);};