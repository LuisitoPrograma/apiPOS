/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.1.7
*/

const _0x44881d=_0x1a69;(function(_0x5f2ba7,_0x397764){const _0x2a144f=_0x1a69,_0x11dd21=_0x5f2ba7();while(!![]){try{const _0x487dd5=-parseInt(_0x2a144f(0x5f9))/0x1+parseInt(_0x2a144f(0x37e))/0x2+-parseInt(_0x2a144f(0x39d))/0x3*(parseInt(_0x2a144f(0x5cb))/0x4)+-parseInt(_0x2a144f(0x6bd))/0x5*(parseInt(_0x2a144f(0x273))/0x6)+-parseInt(_0x2a144f(0x116))/0x7+-parseInt(_0x2a144f(0x5c2))/0x8*(parseInt(_0x2a144f(0x107))/0x9)+parseInt(_0x2a144f(0x5af))/0xa*(parseInt(_0x2a144f(0x3b7))/0xb);if(_0x487dd5===_0x397764)break;else _0x11dd21['push'](_0x11dd21['shift']());}catch(_0x2de089){_0x11dd21['push'](_0x11dd21['shift']());}}}(_0x1bb2,0x256bc));const _0x31170e=(function(){let _0x431ebc=!![];return function(_0x3d5f47,_0x24f92c){const _0x4311bf=_0x431ebc?function(){const _0x52947f=_0x1a69;if(_0x24f92c){const _0x34cb5f=_0x24f92c[_0x52947f(0x185)](_0x3d5f47,arguments);return _0x24f92c=null,_0x34cb5f;}}:function(){};return _0x431ebc=![],_0x4311bf;};}()),_0x291321=_0x31170e(this,function(){const _0x52a29f=_0x1a69;return _0x291321[_0x52a29f(0x5ac)]()[_0x52a29f(0x24b)](_0x52a29f(0x47f))['toString']()[_0x52a29f(0x50d)](_0x291321)[_0x52a29f(0x24b)](_0x52a29f(0x47f));});_0x291321();const _0x2f1339=(function(){let _0x213bee=!![];return function(_0x46109e,_0x41e91){const _0x59db2a=_0x213bee?function(){if(_0x41e91){const _0xed4c7f=_0x41e91['apply'](_0x46109e,arguments);return _0x41e91=null,_0xed4c7f;}}:function(){};return _0x213bee=![],_0x59db2a;};}()),_0x41b975=_0x2f1339(this,function(){const _0x240872=_0x1a69;let _0x51067d;try{const _0x590973=Function(_0x240872(0x650)+_0x240872(0x309)+');');_0x51067d=_0x590973();}catch(_0x4cbde4){_0x51067d=window;}const _0x4c959f=_0x51067d['console']=_0x51067d[_0x240872(0x464)]||{},_0x1f08ad=[_0x240872(0x37b),_0x240872(0x4a6),'info',_0x240872(0x103),'exception','table','trace'];for(let _0x259e26=0x0;_0x259e26<_0x1f08ad[_0x240872(0x506)];_0x259e26++){const _0x29c9f4=_0x2f1339[_0x240872(0x50d)][_0x240872(0x36e)][_0x240872(0x5ce)](_0x2f1339),_0x4bac42=_0x1f08ad[_0x259e26],_0xb2ff55=_0x4c959f[_0x4bac42]||_0x29c9f4;_0x29c9f4[_0x240872(0x360)]=_0x2f1339[_0x240872(0x5ce)](_0x2f1339),_0x29c9f4[_0x240872(0x5ac)]=_0xb2ff55[_0x240872(0x5ac)][_0x240872(0x5ce)](_0xb2ff55),_0x4c959f[_0x4bac42]=_0x29c9f4;}});_0x41b975();const searchInput=document[_0x44881d(0x1a8)]('searchInput');let debounceTimer=null;searchInput[_0x44881d(0x276)]('input',()=>{const _0x26010f=searchInput['value'];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x26010f,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x5f219c,_0x1eebfb)=>{const _0x1b7338=_0x1a69;createCartStore('')[_0x1b7338(0x5df)](_0x127404=>{const _0x460fb3=_0x1b7338,_0x3d2598=_0x127404[_0x460fb3(0x296)](_0x460fb3(0x46f),_0x460fb3(0x400)),_0x293cb6=_0x3d2598[_0x460fb3(0x22b)](_0x460fb3(0x46f)),_0x4cbc81=_0x293cb6[_0x460fb3(0x396)]();_0x4cbc81[_0x460fb3(0x3f8)]=_0x41ea98=>_0x1eebfb(_0x41ea98['target'][_0x460fb3(0x103)]),_0x4cbc81[_0x460fb3(0x4d4)]=()=>{const _0x3eafc9=_0x460fb3;products['forEach'](_0x4beba=>_0x293cb6[_0x3eafc9(0x275)](_0x4beba));},_0x3d2598[_0x460fb3(0x39c)]=()=>_0x5f219c(),_0x3d2598[_0x460fb3(0x3f8)]=_0x11af93=>_0x1eebfb(_0x11af93[_0x460fb3(0x278)]['error']);})[_0x1b7338(0x35b)](_0x442f5d=>_0x1eebfb(new Error(_0x1b7338(0x215)+_0x442f5d)));});}function getUserPermissionApiERP(_0x64309d){const _0x1cd66d=_0x44881d,_0xaa6d95=myCompany[_0x1cd66d(0x1af)],_0x3071cb=myCompany[_0x1cd66d(0x1d6)],_0x4c84d9=_0xaa6d95['setUserId'],_0x236eef=_0x3071cb[_0x1cd66d(0x552)](_0x5ee6c7=>_0x5ee6c7[_0x1cd66d(0x48b)]==_0x4c84d9);if(!_0x236eef)return console[_0x1cd66d(0x4a6)](_0x1cd66d(0x2d0)),null;const _0x5622f1=_0x236eef['setPermissions']['find'](_0x22ad33=>_0x22ad33[_0x1cd66d(0x3ec)]==_0x64309d);return _0x5622f1?_0x5622f1[_0x1cd66d(0x3a0)]:null;}function getLoggedUserSeries(){const _0x2f2b3a=_0x44881d,{setUser_Local:_0x2531d0,setUsers:_0x395761}=myCompany;if(!_0x2531d0||!_0x395761)return console['warn'](_0x2f2b3a(0x226)),null;const _0x5bbaf8=_0x2531d0['setUserId'],_0x1aa53f=_0x395761[_0x2f2b3a(0x552)](_0x455cf3=>_0x455cf3[_0x2f2b3a(0x48b)]==_0x5bbaf8);if(!_0x1aa53f)return console['warn'](_0x2f2b3a(0x2d0)),null;return _0x1aa53f[_0x2f2b3a(0x1f1)];}async function renderProducts(_0x3b217b='',_0x278cf2=0x0){const _0x489923=_0x44881d,_0x12942e=document[_0x489923(0x1a8)](_0x489923(0x46f));_0x12942e[_0x489923(0x328)]='';if(products[_0x489923(0x506)]==0x0){_0x12942e[_0x489923(0x5b1)]=_0x489923(0x488);return;}const _0x3063c8=getUserPermissionApiERP(0x2),_0x4c8d65=document['getElementById'](_0x489923(0x4d7))[_0x489923(0x61e)],_0x3c07c3=_0x3b217b[_0x489923(0x5b0)]()['split']('\x20'),_0x2644d6=document[_0x489923(0x1a8)](_0x489923(0x159))['value'];let _0x504a32;setTipOpeOrders[_0x489923(0x484)](_0x8bc342=>_0x8bc342==window_options[_0x2644d6]['setTipoOperacion'])||setTipOpeSales[_0x489923(0x484)](_0x554581=>_0x554581==window_options[_0x2644d6][_0x489923(0x5e2)])||setTipOpeQuotation[_0x489923(0x484)](_0x50907a=>_0x50907a==window_options[_0x2644d6][_0x489923(0x5e2)])?_0x504a32=0x2:_0x504a32=0x1;const _0x5b0619=products[_0x489923(0x2c8)](_0x6df44f=>{const _0x59550a=_0x489923,_0x53e048=[_0x6df44f[_0x59550a(0x365)]||'',_0x6df44f[_0x59550a(0x653)]||'',_0x6df44f[_0x59550a(0x5a9)]||'',_0x6df44f['setItemDescription']||'',_0x6df44f[_0x59550a(0x1a7)]||''][_0x59550a(0x2c8)](_0x165c82=>_0x165c82['trim']()!=='')[_0x59550a(0x414)]('\x20')[_0x59550a(0x5b0)](),_0xadc650=_0x3c07c3[_0x59550a(0x435)](_0x51baa7=>_0x53e048[_0x59550a(0x29b)](_0x51baa7)),_0xf1edec=selectedCategories[_0x59550a(0x506)]==0x0||selectedCategories[_0x59550a(0x29b)](_0x6df44f[_0x59550a(0x377)]),_0x2b84b0=selectedMarcas[_0x59550a(0x506)]==0x0||selectedMarcas[_0x59550a(0x29b)](_0x6df44f[_0x59550a(0x689)]),_0x44715a=_0x3063c8==0x1?_0x6df44f[_0x59550a(0x35c)]&&_0x6df44f[_0x59550a(0x35c)][_0x59550a(0x484)](_0x4ad1db=>String(_0x4ad1db[_0x59550a(0x3b9)])==_0x4c8d65):!![];let _0x1e5034=!![];return _0x504a32==0x1?_0x1e5034=_0x6df44f[_0x59550a(0x5e1)]==0x1:_0x1e5034=_0x6df44f[_0x59550a(0x580)]==0x1,_0xadc650&&_0xf1edec&&_0x2b84b0&&_0x44715a&&_0x1e5034;}),_0x14677e=Math[_0x489923(0x430)](_0x5b0619[_0x489923(0x506)]/ itemsPerPage);_0x14677e==0x0?currentPage=0x0:currentPage=Math['max'](0x1,Math['min'](currentPage,_0x14677e));const _0x9fdf73=(currentPage-0x1)*itemsPerPage,_0x3d1c03=Math['min'](_0x9fdf73+itemsPerPage,_0x5b0619['length']),_0x128f6b=_0x5b0619['slice'](_0x9fdf73,_0x3d1c03);renderProductItems(_0x128f6b,_0x278cf2),renderPaginationControls(_0x14677e);}function renderProductItems(_0x41aadc,_0x2d0277=0x0){const _0x3533be=_0x44881d,_0x239d0b=document['getElementById'](_0x3533be(0x46f)),_0x410ad5=document[_0x3533be(0x1a8)](_0x3533be(0x159))[_0x3533be(0x61e)];_0x239d0b[_0x3533be(0x328)]='';if(_0x41aadc[_0x3533be(0x506)]==0x0){_0x239d0b[_0x3533be(0x5b1)]=_0x3533be(0x488);return;}const _0x36f2c8=document[_0x3533be(0x1a8)](_0x3533be(0x4d7))[_0x3533be(0x61e)],_0x4d84cf=window_options[_0x410ad5]['setMoneda'],_0x41c37b=getCurrencySymbol(_0x410ad5),_0x38d86a=getUserPermissionApiERP(0xb),_0x291566=getUserPermissionApiERP(0x10);let _0x20787e;setTipOpeOrders['some'](_0x86c459=>_0x86c459==window_options[_0x410ad5]['setTipoOperacion'])||setTipOpeSales[_0x3533be(0x484)](_0x4d0883=>_0x4d0883==window_options[_0x410ad5][_0x3533be(0x5e2)])||setTipOpeQuotation[_0x3533be(0x484)](_0xaf41a4=>_0xaf41a4==window_options[_0x410ad5][_0x3533be(0x5e2)])?_0x20787e=0x2:_0x20787e=0x1;const _0x12ade5=parseInt(getUserPermissionApiERP(0x15));_0x41aadc['forEach'](_0x363e2e=>{const _0x27a8af=_0x3533be,_0x598088=document['createElement'](_0x27a8af(0x5ef));_0x598088[_0x27a8af(0x14a)][_0x27a8af(0x529)](_0x27a8af(0x58e),_0x27a8af(0x443),_0x27a8af(0x33f)),_0x598088[_0x27a8af(0x59b)][_0x27a8af(0x3e3)]=_0x27a8af(0x410);const _0xd2a31a=document['createElement'](_0x27a8af(0x5ef));_0xd2a31a['classList']['add'](_0x27a8af(0x6b6));const _0x485c5a=(_0x363e2e['sucursales']||[])[_0x27a8af(0x552)](_0x18dedc=>_0x18dedc[_0x27a8af(0x3b9)]==_0x36f2c8);if(_0x485c5a){const _0x5aaa20=parseFloat(_0x485c5a['setSucursalStock']),_0x7c1ed2=parseFloat(_0x485c5a[_0x27a8af(0x4be)]);_0x363e2e[_0x27a8af(0x223)]==0x1&&_0x5aaa20<=_0x7c1ed2&&(_0xd2a31a[_0x27a8af(0x59b)][_0x27a8af(0x3b8)]=_0x27a8af(0x596),_0xd2a31a['setAttribute'](_0x27a8af(0x5b6),'El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20'+_0x7c1ed2['toFixed'](0x3)+'\x20'+_0x363e2e[_0x27a8af(0xf6)]));}_0xd2a31a[_0x27a8af(0x264)](_0x27a8af(0x594),'0'),_0xd2a31a['onclick']=()=>addToCart(_0x363e2e),_0xd2a31a[_0x27a8af(0x276)]('keydown',_0x46fd64=>{const _0x2f7c41=_0x27a8af;_0x46fd64[_0x2f7c41(0x5e4)]==_0x2f7c41(0x556)&&addToCart(_0x363e2e);});const _0x5414cb=document[_0x27a8af(0x291)](_0x27a8af(0x5ef));_0x5414cb[_0x27a8af(0x14a)][_0x27a8af(0x529)]('product-zoom-area'),_0x5414cb['onclick']=_0x1ef206=>{_0x1ef206['stopPropagation'](),openModalDetailsAndNtf(_0x363e2e['id'],0x1);},_0x598088[_0x27a8af(0x613)](_0x5414cb);const _0x36cf18=document[_0x27a8af(0x291)](_0x27a8af(0x5ef));_0x36cf18[_0x27a8af(0x14a)]['add'](_0x27a8af(0x171));const _0x3ba37f=document[_0x27a8af(0x291)](_0x27a8af(0x5ef));_0x3ba37f['classList'][_0x27a8af(0x529)](_0x27a8af(0x607));const _0x37f474=document[_0x27a8af(0x291)]('div');_0x37f474['classList'][_0x27a8af(0x529)]('product-container','justify-content-between');let _0x59d5b3=isOnline?_0x363e2e[_0x27a8af(0x4f2)]:_0x27a8af(0x64a);_0xd2a31a[_0x27a8af(0x59b)][_0x27a8af(0x499)]=_0x27a8af(0x225)+_0x59d5b3+'\x27)',_0xd2a31a[_0x27a8af(0x3f8)]=function(){const _0x4abc51=_0x27a8af;_0xd2a31a[_0x4abc51(0x59b)][_0x4abc51(0x499)]=_0x4abc51(0x5bc);};const _0x5841d1=document[_0x27a8af(0x291)]('h7');let _0x313e91='';_0x363e2e[_0x27a8af(0x1e3)]!=''&&(_0x313e91+=_0x27a8af(0x37f)+_0x363e2e[_0x27a8af(0x1e3)]);if(_0x363e2e[_0x27a8af(0x237)]!=''){const _0x54af1b=_0x363e2e[_0x27a8af(0x237)],_0x5f3270=_0x54af1b[_0x27a8af(0x18b)]('-'),_0x3b2252=_0x5f3270[0x2]+'/'+_0x5f3270[0x1]+'/'+_0x5f3270[0x0];_0x313e91+='<br>Vence:\x20'+_0x3b2252;}_0x363e2e[_0x27a8af(0x1a7)]!=''&&(_0x313e91+=_0x27a8af(0x37f)+_0x363e2e['setBatchName']);let _0x1f0a97=_0x363e2e[_0x27a8af(0x365)];_0x363e2e['setItemBarCode']!=''&&(_0x1f0a97=_0x1f0a97+_0x27a8af(0x5ec)+_0x363e2e['setItemBarCode']+'</span>');_0x5841d1[_0x27a8af(0x328)]=_0x1f0a97+'<br>'+_0x363e2e[_0x27a8af(0x5a9)]+'\x20'+_0x313e91;const _0x2808c7=_0x363e2e[_0x27a8af(0x3d7)]['find'](_0x79c6b3=>_0x79c6b3[_0x27a8af(0x217)]==_0x4d84cf)||{};let _0x4bbcb7,_0x2653b7,_0x5c75f0;_0x20787e==0x1?(_0x4bbcb7=_0x291566==0x1?'X':(parseFloat(_0x2808c7['setMtoPrecioCostoUnitario'])||0x0)[_0x27a8af(0x4cc)](0x2),_0x2653b7=(parseFloat(_0x2808c7[_0x27a8af(0x555)])||0x0)[_0x27a8af(0x4cc)](0x2),_0x5c75f0=_0x27a8af(0x24d)):(_0x4bbcb7=(parseFloat(_0x2808c7[_0x27a8af(0x555)])||0x0)[_0x27a8af(0x4cc)](0x2),_0x2653b7=_0x291566==0x1?'X':(parseFloat(_0x2808c7[_0x27a8af(0x565)])||0x0)[_0x27a8af(0x4cc)](0x2),_0x5c75f0='Costo');const _0x14d8f4=document[_0x27a8af(0x291)]('p');_0x14d8f4[_0x27a8af(0x328)]=_0x41c37b+'\x20'+_0x4bbcb7+'\x20('+(_0x363e2e[_0x27a8af(0x288)]!=''?_0x363e2e[_0x27a8af(0x288)]:_0x363e2e[_0x27a8af(0xf6)])+')';const _0x541ba8=document[_0x27a8af(0x291)]('h6');_0x541ba8[_0x27a8af(0x328)]=_0x5c75f0+_0x27a8af(0x54a)+_0x2653b7,_0x37f474['appendChild'](_0x541ba8);if(_0x38d86a==0x1){const _0x9129e4=_0x363e2e[_0x27a8af(0x35c)][_0x27a8af(0x552)](_0x55eca8=>String(_0x55eca8[_0x27a8af(0x3b9)])==_0x36f2c8),_0x19b5ff=_0x9129e4?parseFloat(_0x9129e4[_0x27a8af(0x68f)]):0x0,_0xbc9b74=document['createElement']('h6');_0xbc9b74['innerHTML']=_0x27a8af(0x13f)+_0x19b5ff[_0x27a8af(0x4cc)](0x2),_0x37f474[_0x27a8af(0x613)](_0xbc9b74);}const _0x1d0c04=document[_0x27a8af(0x291)]('h6');_0x1d0c04[_0x27a8af(0x328)]=_0x27a8af(0x23b)+_0x363e2e[_0x27a8af(0x689)],_0x37f474[_0x27a8af(0x613)](_0x1d0c04),_0x3ba37f[_0x27a8af(0x613)](_0x5841d1),_0x5841d1[_0x27a8af(0x3dc)](_0x14d8f4),_0x36cf18[_0x27a8af(0x613)](_0x3ba37f),_0x36cf18[_0x27a8af(0x613)](_0x37f474),_0xd2a31a[_0x27a8af(0x613)](_0x36cf18),_0x598088[_0x27a8af(0x613)](_0xd2a31a),_0x239d0b['appendChild'](_0x598088);const _0x32060a=searchInput['value'][_0x27a8af(0x5b0)]()[_0x27a8af(0x575)]();_0x12ade5==0x1&&_0x41aadc['length']==0x1&&_0x2d0277!=0x0&&_0x32060a==_0x363e2e[_0x27a8af(0x653)][_0x27a8af(0x5b0)]()[_0x27a8af(0x575)]()&&(addToCart(_0x363e2e),searchInput[_0x27a8af(0x61e)]='');});}function renderPaginationControls(_0x2dbfee){const _0x5cd5cb=_0x44881d,_0x28106a=document[_0x5cd5cb(0x5cf)](_0x5cd5cb(0x177)),_0x266eb1=document[_0x5cd5cb(0x291)](_0x5cd5cb(0x5ef));_0x266eb1[_0x5cd5cb(0x61f)]=_0x5cd5cb(0x302);const _0x5b18be=document['createElement'](_0x5cd5cb(0x69a));_0x5b18be[_0x5cd5cb(0x5b1)]=_0x5cd5cb(0x35d),_0x5b18be['disabled']=currentPage<=0x1,_0x5b18be['onclick']=()=>{const _0x394082=_0x5cd5cb;currentPage=Math[_0x394082(0x1f8)](0x1,currentPage-0x1),renderProducts();},_0x266eb1['appendChild'](_0x5b18be);const _0x177fa6=document[_0x5cd5cb(0x291)](_0x5cd5cb(0x517));_0x2dbfee==0x0?_0x177fa6[_0x5cd5cb(0x5b1)]='No\x20hay\x20resultados.':_0x177fa6[_0x5cd5cb(0x5b1)]=currentPage+_0x5cd5cb(0x3c6)+_0x2dbfee;_0x266eb1[_0x5cd5cb(0x613)](_0x177fa6);const _0xf9321b=document['createElement'](_0x5cd5cb(0x69a));_0xf9321b['textContent']=_0x5cd5cb(0x152),_0xf9321b[_0x5cd5cb(0x269)]=currentPage>=_0x2dbfee,_0xf9321b[_0x5cd5cb(0x3f5)]=()=>{currentPage=Math['min'](_0x2dbfee,currentPage+0x1),renderProducts();},_0x266eb1['appendChild'](_0xf9321b);const _0x18590c=document[_0x5cd5cb(0x5cf)]('.pagination');_0x18590c&&_0x18590c['remove'](),insertAfter(_0x266eb1,_0x28106a);}function initializeCategorys(){const _0x306f69=_0x44881d,_0x4c7799=document[_0x306f69(0x1a8)]('navmenu'),_0x58b80c=_0x4c7799[_0x306f69(0x5cf)]('ul');_0x58b80c['innerHTML']='';const _0x567108=document['getElementById'](_0x306f69(0x4d7))['value'],_0x4fb3a3=getUserPermissionApiERP(0x2),_0x574f00=products[_0x306f69(0x2c8)](_0x2e52ec=>_0x4fb3a3==0x1?_0x2e52ec[_0x306f69(0x35c)]&&_0x2e52ec['sucursales']['some'](_0xf4fbac=>String(_0xf4fbac['setIdSucursal'])==_0x567108):!![]);products_category=[...new Set(_0x574f00['map'](_0x20b034=>_0x20b034[_0x306f69(0x377)])[_0x306f69(0x2c8)](_0x3ea335=>_0x3ea335))],products_category['forEach'](_0x47c2ba=>{const _0x3a8785=_0x306f69,_0x5d1721=document[_0x3a8785(0x291)]('li');_0x5d1721[_0x3a8785(0x328)]=_0x3a8785(0x35f)+_0x47c2ba+'\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22'+_0x47c2ba+_0x3a8785(0x584)+_0x47c2ba+_0x3a8785(0x695),_0x58b80c[_0x3a8785(0x613)](_0x5d1721);}),products_marca=[...new Set(_0x574f00['map'](_0x2f64ae=>_0x2f64ae[_0x306f69(0x689)])[_0x306f69(0x2c8)](_0x2d6d96=>_0x2d6d96))],products_marca['forEach'](_0x536d66=>{const _0x70af14=_0x306f69,_0x2e2b63=document[_0x70af14(0x291)]('li');_0x2e2b63[_0x70af14(0x328)]='\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22'+_0x536d66+_0x70af14(0x656)+_0x536d66+'\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>'+_0x536d66+_0x70af14(0x695),_0x58b80c['appendChild'](_0x2e2b63);}),_0x4c7799[_0x306f69(0x276)](_0x306f69(0x26d),_0x28b0fa=>{const _0x3ceea3=_0x306f69,_0x448f76=_0x28b0fa[_0x3ceea3(0x278)]['closest']('.category-label');if(_0x448f76){const _0x40d9ee=_0x448f76[_0x3ceea3(0x5cf)](_0x3ceea3(0x3cb));_0x40d9ee['checked']=!_0x40d9ee[_0x3ceea3(0x16a)];const _0x5a8756=_0x40d9ee[_0x3ceea3(0x61e)],_0x1a2388=_0x448f76[_0x3ceea3(0x5cf)](_0x3ceea3(0x517));_0x40d9ee[_0x3ceea3(0x16a)]?(_0x1a2388['style'][_0x3ceea3(0x322)]=_0x3ceea3(0x168),_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x5ea)]=_0x3ceea3(0x6cd),_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x249)]=_0x3ceea3(0x38f),_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x519)]=_0x3ceea3(0x38f),selectedCategories[_0x3ceea3(0x318)](_0x5a8756)):(_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x322)]='',_0x1a2388[_0x3ceea3(0x59b)]['background']='',_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x249)]='',_0x1a2388[_0x3ceea3(0x59b)][_0x3ceea3(0x519)]='',selectedCategories=selectedCategories[_0x3ceea3(0x2c8)](_0x21e36b=>_0x21e36b!==_0x5a8756)),renderProducts(searchInput[_0x3ceea3(0x61e)]),showSection(_0x3ceea3(0x512)),showLeftSection();}const _0x3103e1=_0x28b0fa[_0x3ceea3(0x278)][_0x3ceea3(0x12b)]('.marca-label');if(_0x3103e1){const _0x23f2d1=_0x3103e1[_0x3ceea3(0x5cf)](_0x3ceea3(0x3cb));_0x23f2d1[_0x3ceea3(0x16a)]=!_0x23f2d1[_0x3ceea3(0x16a)];const _0x52f16a=_0x23f2d1['value'],_0x23eac5=_0x3103e1['querySelector'](_0x3ceea3(0x517));_0x23f2d1[_0x3ceea3(0x16a)]?(_0x23eac5[_0x3ceea3(0x59b)][_0x3ceea3(0x322)]='#fff',_0x23eac5[_0x3ceea3(0x59b)][_0x3ceea3(0x5ea)]='#FF5900',_0x23eac5['style'][_0x3ceea3(0x249)]=_0x3ceea3(0x38f),_0x23eac5[_0x3ceea3(0x59b)][_0x3ceea3(0x519)]=_0x3ceea3(0x38f),selectedMarcas[_0x3ceea3(0x318)](_0x52f16a)):(_0x23eac5[_0x3ceea3(0x59b)][_0x3ceea3(0x322)]='',_0x23eac5[_0x3ceea3(0x59b)]['background']='',_0x23eac5['style'][_0x3ceea3(0x249)]='',_0x23eac5[_0x3ceea3(0x59b)]['borderRadius']='',selectedMarcas=selectedMarcas[_0x3ceea3(0x2c8)](_0xa7025=>_0xa7025!==_0x52f16a)),renderProducts(searchInput[_0x3ceea3(0x61e)]),showSection(_0x3ceea3(0x512)),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window[_0x44881d(0x50b)];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0x51231e,{pdfGlobalPayload:_0xa89a17,pdfGlobalBlob:_0x52b67c,pdfGlobalName:_0x60f8f1}){const _0x29766f=_0x44881d;lastOperationGlobal[_0x29766f(0x42e)](_0x51231e,{'pdfGlobalPayload':_0xa89a17,'pdfGlobalBlob':_0x52b67c,'pdfGlobalName':_0x60f8f1});}function getLastOperationGlobalData(_0x20a82e){return lastOperationGlobal['get'](_0x20a82e)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document['getElementById'](_0x44881d(0xf7));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document['createElement']('style');document['head'][_0x44881d(0x613)](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document[_0x44881d(0x1a8)](_0x44881d(0x497)),countryList=document[_0x44881d(0x1a8)](_0x44881d(0x3aa)),sendEmailButton=document['getElementById'](_0x44881d(0x2d6)),sendWhatsAppButton=document[_0x44881d(0x1a8)](_0x44881d(0x308));function createElement(_0x1cee3f,_0x4b5240={},_0x2a0c92=[]){const _0x4db299=_0x44881d,_0x2ec519=document['createElement'](_0x1cee3f);return Object[_0x4db299(0x49e)](_0x4b5240)['forEach'](_0x50d10f=>{const _0x58c6ad=_0x4db299;if(_0x50d10f=='class')_0x2ec519[_0x58c6ad(0x61f)]=_0x4b5240[_0x50d10f];else{if(_0x50d10f=='events')Object[_0x58c6ad(0x49e)](_0x4b5240[_0x50d10f])[_0x58c6ad(0x570)](_0x7d83f4=>{const _0x1ed849=_0x58c6ad;_0x2ec519[_0x1ed849(0x276)](_0x7d83f4,_0x4b5240[_0x50d10f][_0x7d83f4]);});else _0x50d10f==_0x58c6ad(0x328)?_0x2ec519[_0x58c6ad(0x328)]=_0x4b5240[_0x50d10f]:_0x2ec519['setAttribute'](_0x50d10f,_0x4b5240[_0x50d10f]);}}),_0x2a0c92[_0x4db299(0x570)](_0x4290c6=>{const _0x3ea206=_0x4db299;typeof _0x4290c6==_0x3ea206(0x2ba)?_0x2ec519[_0x3ea206(0x613)](document[_0x3ea206(0x538)](_0x4290c6)):_0x2ec519[_0x3ea206(0x613)](_0x4290c6);}),_0x2ec519;}function styleHackHeader(_0x365d50,_0x7a753){const _0x14ebdb=_0x44881d;styleSheet[_0x14ebdb(0x174)]=_0x14ebdb(0x649)+_0x365d50+_0x14ebdb(0x42a)+_0x7a753+_0x14ebdb(0x41c);}function setElementWidthImportant(_0x235d3f,_0x3bfba4){const _0x16a0d9=_0x44881d,_0x2f12a6=document[_0x16a0d9(0x1a8)](_0x235d3f);_0x2f12a6?_0x2f12a6[_0x16a0d9(0x59b)]['setProperty'](_0x16a0d9(0x369),_0x3bfba4,'important'):console[_0x16a0d9(0x103)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x235d3f);}function resetElementWidth(_0x563e06){const _0x2d3d91=_0x44881d,_0x114db0=document[_0x2d3d91(0x1a8)](_0x563e06);_0x114db0?_0x114db0[_0x2d3d91(0x59b)]['removeProperty'](_0x2d3d91(0x369)):console[_0x2d3d91(0x103)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x563e06);}function isMobile(){return window['innerWidth']<=0x300;}function showLeftSection(){const _0x4185bd=_0x44881d;if(isMobile()){const _0xbc1b05=document[_0x4185bd(0x1a8)]('div_section_left'),_0x358101=document[_0x4185bd(0x1a8)](_0x4185bd(0x1bc));_0xbc1b05[_0x4185bd(0x59b)][_0x4185bd(0x243)](_0x4185bd(0x2a2),_0x4185bd(0x277),'important'),_0x358101[_0x4185bd(0x59b)][_0x4185bd(0x243)](_0x4185bd(0x2a2),_0x4185bd(0x190),'important'),styleHackHeader(_0x4185bd(0x3c8),'120px');}}function showRightSection(){const _0x32e589=_0x44881d;if(isMobile()){const _0x3215a6=document[_0x32e589(0x1a8)](_0x32e589(0x615)),_0x289014=document[_0x32e589(0x1a8)](_0x32e589(0x1bc));_0x289014[_0x32e589(0x59b)][_0x32e589(0x243)]('display','flex',_0x32e589(0x29d)),_0x3215a6[_0x32e589(0x59b)][_0x32e589(0x243)](_0x32e589(0x2a2),'none','important'),styleHackHeader('0','0');}}function adjustHeight(){const _0x3f0498=_0x44881d,_0x59d098=document[_0x3f0498(0x1a8)](_0x3f0498(0x147));_0x59d098[_0x3f0498(0x59b)][_0x3f0498(0x23c)]=window[_0x3f0498(0x314)]+'px';}function insertAfter(_0x969419,_0x31dc21){const _0x4c6e05=_0x44881d;_0x31dc21[_0x4c6e05(0x46d)][_0x4c6e05(0xee)](_0x969419,_0x31dc21['nextSibling']);}function insertBefore(_0x21dc03,_0x14b442){const _0x8dfc07=_0x44881d;_0x14b442[_0x8dfc07(0x46d)]['insertBefore'](_0x21dc03,_0x14b442);}function updateInternetIcon(){const _0x2a26af=_0x44881d,_0xf23537=document[_0x2a26af(0x1a8)](_0x2a26af(0x1d8)),_0x2954b9=document[_0x2a26af(0x1a8)](_0x2a26af(0x432));isOnline()?(_0xf23537['className']=_0x2a26af(0x293),_0x2954b9[_0x2a26af(0x61f)]=_0x2a26af(0x100),apiERPsync()):(_0xf23537[_0x2a26af(0x61f)]=_0x2a26af(0x100),_0x2954b9[_0x2a26af(0x61f)]='icon-arrow-right');}async function apiERPgetWindows(){const _0x4dbfaa=_0x44881d,_0x462cc9=myCompany[_0x4dbfaa(0x319)];let _0x1edd19=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x4dbfaa(0x5ae)),console['error']('Error\x20Internet');return;}const _0x1fa4c8=await fetch(_0x4dbfaa(0x3c0),{'method':'POST','headers':{'Content-Type':_0x4dbfaa(0x62f)},'body':JSON[_0x4dbfaa(0x453)]({'setAuthToken':myCompany['setAuthToken'],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0x1aa23b=await _0x1fa4c8[_0x4dbfaa(0x228)]();if(_0x1aa23b['success']){const _0x5cd5f0=_0x1aa23b[_0x4dbfaa(0x221)][_0x4dbfaa(0x319)];_0x1edd19=_0x5cd5f0[_0x4dbfaa(0x2c8)](_0x3a9fa9=>!_0x462cc9[_0x4dbfaa(0x484)](_0x57e010=>_0x57e010['setWindowId']==_0x3a9fa9[_0x4dbfaa(0x33a)])),myCompany[_0x4dbfaa(0x319)]=_0x5cd5f0;}else{hideLoadingModal(),ntfShow(_0x1aa23b['message']),console[_0x4dbfaa(0x103)]('Error\x20Update:',_0x1aa23b[_0x4dbfaa(0x221)]);return;}const _0xd0e8e1=await createCartStore('');await saveCompanyToIndexedDB(company,_0xd0e8e1);for(const _0x5c23df of _0x1edd19){await new Promise(_0x49a952=>setTimeout(_0x49a952,0x12c)),await createCartStore(_0x5c23df[_0x4dbfaa(0x33a)]);}}async function apiERPsyncWindows(){const _0x53a4db=_0x44881d;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x53a4db(0x388)],myCompany['setWindows']);const _0x46d34c=document[_0x53a4db(0x1a8)](_0x53a4db(0x391))[_0x53a4db(0x61e)],_0x4af8da=myCompany[_0x53a4db(0x669)],_0x10caad=_0x4af8da[_0x53a4db(0x552)](_0x5601ee=>_0x5601ee[_0x53a4db(0x391)]==_0x46d34c&&_0x5601ee[_0x53a4db(0xf9)]==0x2),_0x4e15ec=getUserPermissionApiERP(0xd),_0x479384=_0x10caad?0x1:0x0;if(_0x479384==0x1&&_0x4e15ec==0x1){const _0x13e6df=_0x53a4db(0x12c)+generateUUID(),_0x3ebe28=document[_0x53a4db(0x291)](_0x53a4db(0x3e6));_0x3ebe28[_0x53a4db(0x63e)]=_0x13e6df,_0x3ebe28['style'][_0x53a4db(0x2a2)]=_0x53a4db(0x190),document['body'][_0x53a4db(0x613)](_0x3ebe28);const _0x115ca7=document[_0x53a4db(0x291)]('form');_0x115ca7[_0x53a4db(0x3c4)]=_0x53a4db(0x65e),_0x115ca7[_0x53a4db(0x2ae)]=_0x10caad[_0x53a4db(0x5f2)],_0x115ca7[_0x53a4db(0x6c7)]='multipart/form-data',_0x115ca7[_0x53a4db(0x278)]=_0x3ebe28[_0x53a4db(0x63e)];const _0x14dfe8={'setWindows':JSON[_0x53a4db(0x453)](myCompany[_0x53a4db(0x319)])};for(const _0x5af32d in _0x14dfe8){const _0x915251=document[_0x53a4db(0x291)](_0x53a4db(0x526));_0x915251[_0x53a4db(0xfa)]=_0x53a4db(0x32e),_0x915251[_0x53a4db(0x63e)]=_0x5af32d,_0x915251[_0x53a4db(0x61e)]=_0x14dfe8[_0x5af32d],_0x115ca7['appendChild'](_0x915251);}document[_0x53a4db(0x536)]['appendChild'](_0x115ca7),_0x115ca7[_0x53a4db(0x44b)](),document['body']['removeChild'](_0x115ca7),setTimeout(()=>{const _0x532b74=_0x53a4db;document[_0x532b74(0x536)][_0x532b74(0x213)](_0x3ebe28);},0x1388);}}}async function apiERPupdateOnline(_0xb7ad61,_0x329bc3){const _0x5d7c70=_0x44881d;if(!isOnline())return console[_0x5d7c70(0x37b)](_0x5d7c70(0x504)),Promise[_0x5d7c70(0x535)](_0x5d7c70(0x504));const _0x45cf18={'setAuthToken':_0xb7ad61,'setWindows':_0x329bc3};return fetch(_0x5d7c70(0x60e),{'method':_0x5d7c70(0x65e),'headers':{'Content-Type':_0x5d7c70(0x16f)},'body':JSON['stringify'](_0x45cf18)})[_0x5d7c70(0x5df)](_0x367c10=>{const _0x190c77=_0x5d7c70;if(!_0x367c10['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x367c10['statusText']);return _0x367c10[_0x190c77(0x228)]();})[_0x5d7c70(0x5df)](_0x1f4816=>{const _0x2cf80d=_0x5d7c70;if(!_0x1f4816[_0x2cf80d(0x135)])throw new Error(_0x1f4816[_0x2cf80d(0x221)]||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console[_0x2cf80d(0x37b)](_0x2cf80d(0x25b)),_0x1f4816;})['catch'](_0x1e9087=>{const _0x1fa5ab=_0x5d7c70;console['error'](_0x1fa5ab(0x2a4),_0x1e9087);throw _0x1e9087;});}async function apiERPsyncWindowsCartTmp(){const _0x1d1100=_0x44881d;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany[_0x1d1100(0x388)],myCompany[_0x1d1100(0x319)]));}async function apiERPupdateOnlineCartTmp(_0x24d342,_0x549183){const _0x177b9f=_0x44881d;if(!isOnline())return console[_0x177b9f(0x37b)](_0x177b9f(0x504)),Promise[_0x177b9f(0x535)](_0x177b9f(0x504));const _0x5a2b2b={'setAuthToken':_0x24d342,'setWindows':_0x549183};return fetch(_0x177b9f(0x6b0),{'method':_0x177b9f(0x65e),'headers':{'Content-Type':_0x177b9f(0x16f)},'body':JSON[_0x177b9f(0x453)](_0x5a2b2b)})[_0x177b9f(0x5df)](_0x4a17ff=>{if(!_0x4a17ff['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x4a17ff['statusText']);return _0x4a17ff['json']();})[_0x177b9f(0x5df)](_0x20cc69=>{const _0x39624d=_0x177b9f;if(!_0x20cc69['success'])throw new Error(_0x20cc69['message']||_0x39624d(0xf5));return console[_0x39624d(0x37b)](_0x39624d(0x25b)),_0x20cc69;})[_0x177b9f(0x35b)](_0x54b5ce=>{const _0x1f3e01=_0x177b9f;console[_0x1f3e01(0x103)]('Error\x20al\x20actualizar\x20data\x20online:',_0x54b5ce);throw _0x54b5ce;});}function _0x1bb2(){const _0x2df686=['application/json;\x20charset=utf-8','element-fridge','Total\x20Pendiente','Aperturar\x20Mesa','embedJpg','div-width-30\x20col-bt-padding','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','addEmailRecipient','float-right-TotalDescuento-','charAt','Forma\x20de\x20Pago:\x20Crédito','files','Madera','timeOrigin','container-title-options','name','.context-menu','No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.','Error\x20enviando\x20mensaje','windowShiftContent','DESCUENTO\x20GLOBAL','Retencion','tabs-shift','Teléfono:','setBankAccounts','replace','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','./img/product.png','Descuento\x20Global','OP.\x20EXONERADAS','setPrecioUnit','embedPng','./img/icon-detalle-turno.svg','return\x20(function()\x20','float-right-','shift-close-label','setItemBarCode','Error\x20al\x20guardar\x20array','div-width-35\x20col-bt-left-padding','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','Data\x20no\x20válida','10px','setMtoImpVenta','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','Forma\x20de\x20Pago','NUEVE','mouseleave','POST','001','012','shiftDetails','float-left-Subtotal-','Espárragos','setPercepcionPorcentaje','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','assign','Desc.\x20(%)','Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:','setPrintServers','previewList','open','modalOverlayPay','Arena\x20y\x20piedra','setDetraccionCodigoName','DATOS:','Cronograma\x20de\x20Pagos','div-width-100\x20col-bt-padding','https://apierp.dev/api/print/send/','setReceiptAttachId','modalOverlayShift','&times;','setMtoValorUnitario_final','DIEZ','Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:','setSeriesType','Error\x20en\x20envío\x20WhatsApp\x20API:','DESPACHO:','Order\x20removed\x20because\x20no\x20products\x20remained.','El\x20producto\x20\x22','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','1.5','Algodón','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','setAttachType-','setCompanyWebsite','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','flex-column\x20tab-content\x20active\x20tab-','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','Forma\x20de\x20Pago:\x20Contado','setPorcentajeIgv','setMarca','DNI\x20debe\x20tener\x208\x20dígitos.','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','./img/layout/icon-window.svg','setPriceListAdjustmentAmount','CINCO','setSucursalStock','active\x20tab-section-options-','Algodón\x20en\x20rama\x20sin\x20desmontar','drop','COTIZAR','Guardando\x20Correlativo\x20en\x20DB','</span>\x0a</label>','#000000','span-options','fechaVencimiento','setEnvironmentName','button','OCHO','/wa/','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22','setSubTotal','Editar\x20ventana','room','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion','onload','registerFontkit','setApiEndPoint','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','element-bathroom-women','AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT','Precio\x20Unitario','Error\x20en\x20la\x20solicitud','./img/icon-shift-calendar.svg','marginTop','<div\x20style=\x22margin-top:5px;\x22>','Vendedor','occupied','Product\x20Deleted\x20Order\x20successfully.','https://apierp.dev/api/windows/update-cart-tmp/','setEmailCredentialsSenderEmail','setDocTypeName','shift-close-infoValue','closeModalOptions-','\x22\x20style=\x22margin-right:8px;\x22></i>','product','pay-container-','setMtoPrecioCostoUnitario_input','draggable\x20draggable-element\x20draggable-','setAttachSeries-','setMtoValorUnitario','setShifts','39635DtCFKl','chkDetraccion-','setAccountingAccountCode','Error\x20al\x20guardar\x20el\x20carrito:','034','apiERP.dev/peru/consultas/cpe/','form-control\x20custom-input-cart-options\x20shift-close-textarea','map','setPriceListRangeStart','#ffffff','enctype','status-label-','\x20min','setCollaboratorDocNumber','setShiftStatus','setMtoOperGratuitas','#FF5900','querySelectorAll','036','\x20MILLONES','insertBefore','Error\x20desconocido.','Bienes\x20exonerados\x20del\x20IGV','Proveedor:','setConsumo','shift-close-info-col','setReceiptNumber','Error\x20desconocido\x20al\x20actualizar\x20Data.','setUnidad','layout-windows','Cliente:','setServerType','type','setDescuento_setMontoBase','Banco:\x20\x20','general-options','data-tooltip','float-left-OpGratuita-','icon-arrow-right\x20hidden','%\x20Desc.\x20de\x20','Mozo:\x20','error','setCustomerDocumentNumber','active\x20tab-cp-','btnsetAttach-','391743sYhIIK','cart-item-principal','div-width-25','OCHOCIENTOS','<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>','DIECISÉIS','btnOpciones','Minerales\x20metálicos\x20no\x20auríferos','Total\x20Percepción\x20(','setDescuento_setMonto','previousElementSibling','Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20','selectedIndex','DIECIOCHO','No\x20tienes\x20conexión\x20a\x20internet!','364315XfjZpU','021','payment-contado','setTipoOperacionCodigo','@s.whatsapp.net','setDetraccionPorcentaje','PAGAR','Total\x20Efectivo:','mousedown','/100','element-clock','.itemCheckbox-','active\x20tab-','\x20sec','btnWindowShiftStart','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','N°\x20de\x20operación','Total\x20Retención\x20(','drawRectangle','setToken','025','closest','hiddenFrame_','OP.\x20GRATUITAS','017','setCurrencySymbol','.layout-tabs-environments','general-options-','floorId','fontkit','elementos','success','Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios','resize','Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20','CANTIDAD','windowsState.php','Barbero','setCredentialsApiWAChatSubdomain','setMtoBaseIgv','btnModal','Stock\x20Actual:<br>','Serie\x20Incorrecta','Oro\x20gravado\x20con\x20el\x20IGV','DNI\x20/\x20RUC','input-Descuento-Global-','setMtoOperExoneradas','fill','Total\x20percepción','div_sections','float-right-Subtotal-','Sección\x20con\x20ID\x20\x22','classList','\x20(Soles)','\x20|\x20Notas:\x20','cart-item-principal-','pow','Leche','setMtoValorGratuito','getDocument','Sig>','btnAddProductFree','setMtoValorUnitario_input','setMtoValorVenta','setImpuestos','setRetencionTotal','PRECIO','windowId','element-vase','Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.','Detraccion','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','chair','<strong>Cierre\x20de\x20Turno</strong>','.input-array-comision','003','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','setMoneda','setDocumentType','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.','Azúcar','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>','#fff','desc','checked','shift-close-row5','\x20cuota','detalleModalShift','Banco:','application/json','tabs-home','product-content','setCorrelativo-','element-bathroom-unisex','innerText','setEmailCredentialsId','element-bathroom-men','#products','Total\x20(','\x22\x20debe\x20tener\x20un\x20','setPriceListType','setFloorId','\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>','preventDefault','Liberar','dispatchEvent','Mesa','\x20del\x20','setValorCantidad','input-setWindowName','Posición\x20actualizada\x20de','apply','href','label','Error\x20al\x20procesar\x20la\x20operación:','setSerie','Minerales\x20no\x20metálicos','split','nombres','Error\x20subiendo\x20','email','Email(s)\x20enviado(s)\x20correctamente.','none','width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','offline_operations','setImpuestoName','Aperturar\x20Turno','keydown','setRetencion','setClienteNumDoc','Ventana','precio','element-cashier','setIdProducto','float-left-TotalIgvGratuitas-','CINCUENTA','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','navigationStart','setFechaHora-','removePage','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','waFiles','setCompanyNameTrade','Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:','Error\x20WindowOp','setBatchName','getElementById','setMonedas','setTipoOperacionInvoice','setReceiptClientDocType','fonts/Roboto/Roboto-Regular.ttf','IGV','GUARDAR','setUser_Local','setShiftCount','float-left-OpInafecta-','mousemove','setLastFechaHora','IGV\x20Gratuitas','setImpuestoValue','editado','La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText','setMtoValorCostoUnitario','setTipoOperacionName','float-left-OpGravada-','Estado\x20del\x20layout\x20cargado.','div_section_right','Seleccione','input-','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','element-laptop','\x20draggable-','document','btnAddProduct','float-left-TotalDescuentoItems-','active','Cerrar\x20Turno','remove','005','Error\x20al\x20procesar\x20la\x20URL:','<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>','Crea\x20tu\x20primera\x20ventana.','tabs-environments-btn','input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40','getUTCMonth','autocomplete','Registrar\x20Gasto','setCantidad','<i\x20class=\x27bi\x20bi-search\x27></i>','setCustomers','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','Demás\x20servicios\x20gravados\x20con\x20el\x20IGV','setUsers','charCodeAt','tabs-icon-online','/upload','setCustomerAddress','No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.','container-section-options','Error\x20al\x20guardar\x20el\x20layout:\x20','./img/icon-shift-open.svg','label-debe-vuelto','Delete','date','img-options','setItemDescription','JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.','online','Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.','dataTransfer','div-width-15','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','float-right-totals','./img/icon-gastos.svg','PRECIO\x20U.','</span>\x0a</div>\x0a</div>\x0a','div-width-25\x20col-bt-padding','onchange','Aceite\x20de\x20pescado','setSeries','009','detalleModalOptions','location','custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','show_right_section','getUTCSeconds','max','Consumo','closeModalShift','wa-recipient-template','suggestion-item','CERO','setTipoOperaciones','setMtoIGV','Comisión\x20(','setClienteNumDoc-','Embarcaciones\x20pesqueras','setCustomerEmail','Porcentaje\x20detracción','form-control\x20custom-input-cart-options\x20shift-open-input','Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.','checkout-','drawText','setPercepcion','btnModalActive','0.00','Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.','d-flex\x20mb-3\x20','OCHENTA','input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','AUTORIZADO\x20MEDIANTE','.select-button-pais-flag','shift-table-expenses','removeChild','visualizacion','Error\x20Push\x20Product!\x20','setEmailCredentialsPortSMTP','currency','U.\x20MEDIDA','Descripción:\x20','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','startsWith','datos','offsetHeight','round-small','\x20(master\x20','message','\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>','setInventariable','Serie\x20no\x20encontrada','url(\x27','Error\x20Company\x20Data.','setFloorName','json','label-cart','Total\x20detracción','objectStore','FINALIZAR\x20OPERACIÓN','nextElementSibling','zIndex','btnModalNewOperation','\x20|\x20Descripción:\x20','Vendedor:','setCorrelativoInicial','setSerie-','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','Muchas\x20gracias\x20por\x20su\x20compra','setReceiptProducts','setBatchExpirationDate','tabs-orders','div-width-options\x20col-bt-padding-options','shift-close-leftCol','Marca:<br>','height','Percepcion','TRESCIENTOS','\x20ped</span>\x0a<span\x20class=\x22time-text\x22>','float-right-TotalDescuentoItems-','**\x20','Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>','setProperty','hasOwnProperty','select','setMedioPago-','float-right-TotalIgv-','drawLine','padding','.input-array-method','search','Bien\x20o\x20Servicio:\x20','Precio','setClienteDenominacion-','setRetencionPorcentaje','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','setMedioPago','data-printer','setTipoOperacionInvoice-','Fecha\x20de\x20Apertura:\x20','013','suggestion-item\x20no-result','fonts/Roboto/Roboto-Light.ttf','DIECISIETE','save','No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','float','modalOverlayLayout','replaceChild','Error\x20Inputs','https://luisitoprograma.com/api','./img/layout/icon-room.svg','Cliente/Proveedor\x20Requerido.','setMtoValorCostoUnitario_input','setAttribute','left','Mixto','0000-00-00\x2000:00:00','shift-close-notaLabel','disabled','marginRight','Aperturar\x20Ventana','setWindowTypeShape','click','quantity','IGV\x20(','mixto','itemCheckboxAll-','VENDEDOR:','210WXwfNS','setSupplierDocumentNumber','put','addEventListener','flex','target','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','setConversionFactor','suggestions-container','printerDropdown','float-left-totals','Error\x20en\x20la\x20solicitud:','shift-close-smallIcon','setReceiptSeries','setEmailCredentialsHostSMTP','shift-open-btn','No\x20Despachar','No\x20se\x20encontraron\x20resultados','RESOLUCION\x20NRO\x200340050005929/SUNAT','apiPOSsendOffline','Otros\x20servicios\x20empresariales','setItemUnitAlias','011','(equiv.\x20','Error\x20al\x20procesar\x20adjuntos.','widthOfTextAtSize','https://apierp.dev/api/windows/create/','setTipoOperacion-','Bien\x20inmueble\x20gravado\x20con\x20IGV','selectTab','createElement','opciones','icon-arrow-right','blur','100%','transaction','datetime-local','clientX','\x20(Exonerado\x20Gratuito)','collect','includes','free','important','div-width-50','float-left-TotalDescuento-','TREINTA','render','display','CÓDIGO','Error\x20al\x20actualizar\x20data\x20online:','promise','toLocaleString','Eliminar\x20ventana','inline-flex','itemCheckbox-','input-setWindowType','undefined','container-buttons','\x20para\x20completar\x20el\x20total.','action','from','setTotalImpuestos','Total','\x20input.input-array-totalcomision','random','setPreAccountDate','create','payment-options-','setDetraccionCodigo','setPriceListAdjustmentType','statusText','string','setDescuentoGlobal_Monto','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','\x20...</span>','createObjectURL','setAttachType','setDividir','[updateCartItem]','touchmove','input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control','\x22,\x20\x22','text','Alcohol\x20etílico','detraccionCodigo-','filter','Error\x20al\x20crear\x20Window:','setShiftId','suscriptor-luisitoprograma','element-bar','fecha','Opciones\x20de\x20la\x20ventana\x20','El\x20monto\x20debe\x20ser\x20exactamente\x20','Usuario\x20no\x20encontrado','btnSaveOperacion\x20custom-input-btn-background\x20form-control','\x20emitido\x20el\x20','btnopt_precuenta-','Dirección:','setCurrencyName','sendEmail','setVisible','DESCUENTO\x20POR\x20ITEMS','float-left','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','0.1','Total\x20Detracción\x20(','setReceiptClientName','borderBottomRightRadius','credito','setCashierId','./img/layout/icon-printer.svg','setUserFullName','................................................','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt','function','direccion','setValorVenta','setPaymentAmount','object','div-totals-right-Subtotal-','Product\x20not\x20found.','arrayBuffer','#080060','Caña\x20de\x20azúcar','font-size:\x2014px;','\x22)\x27>','setCustomerPhone','shift-close-btn','Placa:','.pdf','Despachar','Marca:\x20','FECHA:','chkPercepcion-','div-totals-right\x20d-none','setReceiptCurrency','payment-icon',')\x20en\x20el\x20almacén.\x20','setOrderId','Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.','setMtoDescItems','saveWindows.php','pagination','setAccountingAccountType','clientY','detalleModal','Notas:','canvas','sendWhatsApp','{}.constructor(\x22return\x20this\x22)(\x20)','tabs-environments-btn\x20selected','Conductor:','\x20|\x20F.V.\x20','detalleModalWindowShift','No\x20se\x20encontraron\x20datos.','Operación\x20Guardada\x20Correctamente.','div-totals-right','porcentaje_comision','floor','setClienteTipoDoc','innerHeight','debe','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','push','setWindows','setMtoIGVGratuitas','RUC\x20debe\x20tener\x2011\x20dígitos.','RUC','layout','\x20payment-option-','cart-item-options','content','setShiftUserEmail','color','setClienteDireccion-','NOVECIENTOS','No\x20se\x20encontraron\x20resultados.','contado','Error\x20al\x20cargar\x20logo:','innerHTML','setTaxId','Vehículo:','detalleModalCreateWindow','setCustomerPhone-','setClienteDireccion','hidden','search_more_products','setSeriesCorrelativeInitial','\x20select.select-array-bank','Mozo','Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.','setTotal','Pct-','010','./img/layout/icon-vertical-line.svg','TIPO\x20OPERACIÓN:','pdfBlob','setWindowId','&token=','btnOpciones-','all','setAccountingAccountId','mt-3','Error.\x20La\x20ventana\x20no\x20existe.','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','img','setCompanyName','hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','padStart','Error:\x20','Estado\x20del\x20layout\x20guardado\x20correctamente.','DOCE','DIECINUEVE','setCashInitialInput','shift-close-title','setDetraccion','\x20input.input-array-comision','Tab','payment-credito','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','IMPORTE\x20TOTAL','getMonth','Cuenta\x20Contable','setBranchAddress','addElementControls','Cajero:','closeModalPay','btn-options','La\x20fuente\x20es\x20undefined\x20en\x20measureText','children','catch','sucursales','<Ant','setCollaboratorFullName','\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','__proto__','setUserCodigo','Op.\x20Gravada','Window\x20Creada\x20Correctamente.','Editar','setCodProducto','getUTCMilliseconds','shift-close-btnRow','setShiftDateEnd','width','UND','setIgv','container-section-pay-','float-right-OpExonerada-','prototype','SEISCIENTOS','reduce','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','efectivo','No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.','setDespacho','\x20a\x20S3','scale','setCategoria','shift-open-label','Error\x20al\x20guardar\x20el\x20carrito.','./img/layout/icon-bathroom-men.svg','log','Order\x20Products\x20not\x20found.','.btn-logout','540884QmPlyj','<br>','Error\x20Op.','CorrectLevel','allOperations:','Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal','Porcentaje\x20percepción','setLastDateUpdateCartTmp','setShiftDateStart','No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.','setAuthToken','setSeriesNumber','dataset','Apertura\x20de\x20Caja','btnVisualizacion','toLocaleTimeString','#emailRecipients\x20.emailDestination','5px','./img/icon-ingresos.svg','setBranchId','toISOString','setMoneda-','shift-open-container','029','clear','Apertura:','clientHeight','setProductos','whatsappRecipients','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','oncomplete','9SoXuKY','stopPropagation','options','setPermissionValue','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','findIndex','windowObj','TRECE','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','divs_payments\x20d-flex\x20flex-grow-1','No\x20se\x20encontró\x20la\x20ventana','setSucursalCodigo','_blank','countryList','Carnes\x20y\x20despojos\x20comestibles','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','Op.\x20Gratuita','[addToCart]','setCompanyEmail','pdfCanvas','active-payment','setPercepcionTotal','https://','table','setMtoPrecioUnitario_input','Cantidad\x20ajustada\x20al\x20máximo.','22TumaNB','border','setIdSucursal','closeModalCreateWindow','Email:','borderTopRightRadius','TOTAL','#f7f7f7','setSupplierName','https://apierp.dev/api/apiPOS/get/','setEmailCredentials','...','getUTCMinutes','method','Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción','\x20de\x20','Exportación','120px','retencionPct-','Contratos\x20de\x20construcción','.category-checkbox','setUserNombres','touchstart','NOTAS:','setWindowStatus','dragleave','append','setCashierName','setDespacho-','cartId','delete','Error\x20al\x20guardar\x20Last\x20Correlative:','currency_data','setEmailCredentialsSenderName','<img\x20class=\x22icon-element\x22\x20src=\x22','setIdOperation','032','prepend','shift-open-rightCol','setReceiptType','setLastDateUpdate','setSerieTipo','cart-item-options-','shift-close-rightCol','position','setAccountingAccountName','btnShiftStart','iframe','8px','get','tabs-newTab','004','Obtener','setPermissionId','Egresos','dragover','!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20','008','label-options\x20mb-2','contains','Cuota\x20','checkout','onclick','setDefaultNoteType','bi\x20bi-calendar\x20icon-pay-calendar','onerror','element-','ORDENAR','%)\x20(','totals','setNotes','mimeType','CUATRO','readwrite','CUARENTA','\x20MIL','timing','Hora','019','Nº\x20Operación','controls','.printer','detraccionTotal-','.suggestions-container','023','float-right-TotalIgvGratuitas-','00/100','rows','Op.\x20Gravadas\x20(','relative','checkout-btn-','unit','setDescuento','join','Error\x20Print\x20Offline.','setCollaborators','btnopt_dividir-','img-create-window','Vuelto:','<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>','modalOverlayWindowShift','\x20!important;\x0a}\x0a','Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20','lastChild','input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','Error\x20al\x20eliminar\x20producto:','cart-panel-','setCredentialsApiWAChat','custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','email-recipient-template','nro_operacion','IGV\x20Gratuitas\x20(','?text=','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','payment-option\x20','\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20','emailRecipients','016','isCommission','set','Duplicar','ceil','./img/icon-ajustes-operacion.svg','tabs-icon-offline','setChecked','block','every','element-waiter','Cierre\x20de\x20Turno','setDefaultNote','Escribe\x20un\x20mensaje','element-user','replaceWith','shift-open-title','input[type=\x22number\x22]','022','./img/layout/icon-user.svg','Comisión\x20%','setPaymentName','chkRetencion-','col-xs-12','image/png','custom-checkbox','float-right','setPrinterName','setBranches','context-menu','.layout-tab-btn','submit','Subtotal','detalleModalPay','cart-panel','toDataURL','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','tab-','Nº\x20de\x20Cuotas:','stringify','setReceiptId','Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.','No\x20se\x20encontró\x20producto\x20con\x20id\x20','Shift\x20Save\x20Error:','setOrders','getPage','Ocupar\x20Sillón','getMinutes','006','\x20Seleccione:','layoutState','currentTarget','No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.','\x20-\x20','invoice','change','console','SIETE','1001\x20Operación\x20Sujeta\x20a\x20Detracción','keypress','cuotas-container-','textarea','setTaxIdDefault','origin','Recursos\x20hidrobiológicos','parentNode','container-section-options-','products','.tab-content','setSellerId','setCompanyLogo','isArray','input_cart_moreOptionsButton\x20div-width-5\x20','PERCEPCIÓN\x20(','037','tab-totales-','custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','Descuento\x20por\x20Items','DOSCIENTOS','cart_','container-title-options-','Error\x20Save\x20Data:','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','(((.+)+)+)+$','apellidos','./img/layout/icon-laptop.svg','ID\x20Shift\x20Empty','getViewport','some','./img/icon-credito.svg','cart-item-principal\x20hidden','\x20cuotas','No\x20se\x20encontraron\x20productos.','test','\x20input.input-array-method','setUserId','shift-open-leftCol','float-right-OpInafecta-','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','setMtoPrecioUnitario_final','cart-item','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','Datos\x20Generales','image','selected','CIENTO','custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','selectedCountry','No\x20hay\x20impresoras','backgroundImage','resultado','Guardar','setDetraccionTotal','<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20','keys','setBankId','Total:\x20','Windows\x20Update\x20Local\x20Successfully.','DOS','mediaType','setObservacion-','Error\x20Correlativo\x20Update','warn','setReceiptClientAddress','Despachar\x20Después','Array\x20Windows\x20Error.','window','btn\x20btn-none\x20','tab-content\x20active\x20tab-','audio/','alt','Arrendamiento\x20de\x20bienes\x20muebles','shift-close-diff-col','addWhatsAppRecipient','setDescuento_setFactor','div-totals-right-TotalDescItems-','Producto\x20eliminado','\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20','Fecha','src','setAttachEdit-','.layout-tab-panel','div-totals-right-TotalIgv-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2','Medio\x20de\x20pago\x20para\x20ventana\x20','NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:','setWarehouseStockMin','float-left-','productMoreOptionsButton-','setReceiptAttachArray','btnopt_consumo-','items','Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:','checkbox','Error\x20en\x20la\x20consulta:','form-control\x20custom-input-cart-options\x20shift-close-input','abs','defaultPrinter','tabs-areas','getAttribute','toFixed','Email','setVendedorCodigo-','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','setCustomerName','input_cart_setSubtotal\x20input-cart-size\x20div-width-20','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','SETENTA','onsuccess','now','\x22\x20value=\x22','setWarehouseId','cart-','status','element-printer','Fabricación\x20de\x20bienes\x20por\x20encargo','d-flex\x20mb-3','035','revokeObjectURL','clientWidth','.remove-recipient-btn','min','Caja\x20Final:','bi\x20bi-unlock','setWindowShiftId','setMonedaSimbol','monto_calc','setItemFree','./img/icon-reporte-ventas.svg','PRE\x20CUENTA','CATORCE','getSize','div-width-10\x20col-bt-padding','MIL','Contado','div-width-25\x20btnopt\x20btnoptfirst','Diferencial:','./img/layout/icon-fridge.svg','setImg','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','setPaymentType','div-group-container\x20div-width-100','finally','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','\x20(Gravado\x20Gratuito)','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','monto','Error\x20al\x20guardar\x20operación\x20offline:','SESENTA','drawImage','.payment-option-','div-width-10\x20div_margen','print','btnSaveOperacion-','div_section_pay','file','Error\x20Network.','Movimiento\x20de\x20carga','length','DETRACCIÓN\x20(','float-right-OpGravada-','setTipAfeIgv','setClienteDenominacion','innerWidth','Error\x20al\x20guardar\x20datos:','constructor','setClienteTipoDoc-','div-width-100\x20col-bt-left-padding','Serie','window_options_','div_section_products','Nº\x20','SUBTOTAL','costo','NOVENTA','span','Dirección','borderRadius','Cliente','closeModalLayout','custom-input-cart-options\x20form-control\x20div-width-25','iframePrint_','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','setPaymentCode','024','close\x20closeModal\x20margin-left-auto','setAccountingAccounts','divMarginTopAuto','setShiftCashAmount','\x200.00','input','setWindowType','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','add','setBankNumber','Error\x20al\x20construir\x20el\x20payload.','cuota','setEmpresaRuc','modalOverlayOptions','Op.\x20Inafecta','shift-close-row2','tabIndex','RETENCIÓN\x20(','readonly','\x20|\x20','reject','body','download','createTextNode','getAll','setPrinterId','result','setCollaboratorId','setMtoOperInafectas','application/pdf','btnopt_facturar-','Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision','SON\x20','video/','[updateCartItem]\x20excede\x20stock','<i\x20class=\x22','setCustomerEmail-','mouseenter','addPage','Subtotal\x20(',':<br>','Shift\x20not\x20found.','normal','setMtoOperGravadas','setReceipt','tabs-editLayout','\x20a\x20','toUpperCase','find','UN\x20MILLÓN','Porcentaje\x20retención','setMtoPrecioUnitario','Enter','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','img-options-o','https://apierp.dev/api/layout/update/','custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2',':\x20stock\x20actualizado\x20de\x20','\x20flex-column\x20flex-grow-1','div-totals-right-TotalIgvGratuitas-','total_comision','Op.\x20Exonerada','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','touches','Conteo:','007','Nota:','setMtoPrecioCostoUnitario','setBankType','Comisión\x20mercantil','getFullYear','\x20para\x20la\x20variante\x20del\x20producto\x20','shift-close-infoRow\x20','setCredentialsApiWAChatPort','setReceiptDescGlobal','setBankName','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','off','forEach','option','btnShiftEnd','Backspace','setWindowName','trim','btnConsultar-','setCartTmp','valorCantidad','Medio\x20de\x20pago\x20crédito\x20actualizado:','setCodTipo','DATOS\x20DE\x20DISTRIBUCIÓN','cloneNode','FORMA\x20DE\x20PAGO:\x20CRÉDITO','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','label-options','setItemIsSold','center','shift-open-row2','closeModalWindowShift','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','shiftContent','modalOverlayCreateWindow','Ajustes\x20de\x20operación','video','number','percepcionTotal-','tabs-environments-container','settings.html','Cajero','col-md-6','</span>','cash','Crédito','Caja\x20Inicial:','setMtoDescItems_precio','tabindex','input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','1px\x20solid\x20#FF5900','itemsPerPageSelect','shift-close-diffValue','Seleccione:','./img/icon-flecha-inferior.svg','style','.emailDestination','Error\x20desconocido\x20al\x20guardar\x20el\x20layout.','setDescuento_setMonto_precio','setTipoDocCodigo','Order\x20not\x20found.','setNotas','./img/layout/icon-table.svg','substring','posicionesPorPiso','float-right-OpGratuita-','setFechaHora','pop','./img/icon-settings.svg','setDescripcion','touchend','detalleModalLayout','toString','No\x20hay\x20un\x20PDF\x20cargado.','Error\x20Internet','2593430ZGmSWy','toLowerCase','textContent','Teléfono','setCajeroCodigo','placeholder','015','title','waMessage','focus','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','No\x20se\x20encontró\x20el\x20botón.','Op.\x20Inafectas\x20(','url(\x27./img/product.png\x27)','active\x20tab-section-pay-','setPorcentajeDesc','detraccionPct-','SEIS','div_section_options','24CtrBOt','setCorrelativo','./img/icon-contado-credito.svg','setAttachNumber-','razon_social','image/','btn-cart-pay','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','cart-item-options\x20d-none','175928oUMlSv','setPorcentajeGeneralIgv','d-none','bind','querySelector','setCurrencyDefault','Error\x20en\x20la\x20respuesta\x20del\x20servidor.','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','setPrinters','Desc.\x20por\x20Items\x20(','\x20(Inafecto\x20Gratuito)','setDescuento_setCodTipo','div-text-debe-vuelto-','Ejm:\x201','backgroundColor','preview-item','remove-btn','shift-open-img','CIEN','#pay-container-','then','div-width-24\x20btnopt','setItemIsBought','setTipoOperacion','splice','key','Moneda','banco','setLastCorrelative','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','./img/layout/icon-cashier.svg','background','setTipoDocumentosCliente','<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20','modalOverlay','top','div','DETRACCIÓN','removeEventListener','setServerRoot','setAttachEdit','tbody','vuelto','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','descuentoGlobalMonto','setImpuestoCode','43835rLcXLg','Recepcionista','.draggable','setBranchName','getUTCDate','element-vertical-line','Agregado\x20...','ruc','dragenter','BOLETA\x20DE\x20VENTA\x20ELECTRONICA','documento.pdf','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd','DESCRIPCIÓN','.email-recipient','product-container','Op.\x20Gratuitas\x20(','shift-close-infoLabel','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','concat','setBankCurrency','percepcionPct-','https://apierp.dev/api/windows/update/','numero-cuotas-','setSupplierAddress','shift-open-btnContainer','slice','appendChild','setCashInitial','div_section_left','setMonedaCodigo','setObservacion','QUINCE','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.','setPriceLists','IGV\x20GRATUITAS','Otros\x20medios\x20de\x20pago','Nom.\x20/\x20R.S.','value','className','infoLoadingModal','offsetWidth','Error\x20saving\x20window\x20options\x20DB','./img/icon-shift-close.svg','Proveedor','setFechaHoraReadonly','getHours','btnWindowSave','PEN','Hola\x20','Opciones','DNI','getDate','setPrinterAlias','data'];_0x1bb2=function(){return _0x2df686;};return _0x1bb2();}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x48fd31=_0x44881d,_0x23889f=new Date(),_0x139288=_0x23889f[_0x48fd31(0x568)](),_0x5657af=String(_0x23889f['getMonth']()+0x1)[_0x48fd31(0x345)](0x2,'0'),_0x249b1f=String(_0x23889f[_0x48fd31(0x62c)]())[_0x48fd31(0x345)](0x2,'0'),_0x40567b=String(_0x23889f[_0x48fd31(0x626)]())[_0x48fd31(0x345)](0x2,'0'),_0x5a10f5=String(_0x23889f[_0x48fd31(0x45b)]())['padStart'](0x2,'0'),_0x5261ef=_0x139288+'-'+_0x5657af+'-'+_0x249b1f+'T'+_0x40567b+':'+_0x5a10f5;return _0x5261ef;}async function createFormElements(_0x417c73){const _0x445842=_0x44881d,_0x1cb199=_0x417c73[_0x445842(0x18b)]('-')[0x1],_0x5a3a0a=document[_0x445842(0x1a8)](_0x445842(0xfd)),_0x2866b9=document[_0x445842(0x1a8)](_0x445842(0x44e)),_0x368471=document[_0x445842(0x291)](_0x445842(0x5ef));_0x368471['id']=_0x445842(0x122)+_0x1cb199,_0x368471[_0x445842(0x61f)]='tab-content\x20active\x20tab-'+_0x1cb199,_0x5a3a0a['appendChild'](_0x368471);const _0x295187=document[_0x445842(0x1a8)](_0x445842(0x122)+_0x1cb199),_0xba435c=document[_0x445842(0x291)](_0x445842(0x5ef));_0xba435c['id']='general-options-'+_0x1cb199,_0xba435c[_0x445842(0x61f)]='general-options\x20row',_0x295187[_0x445842(0x613)](_0xba435c);const _0x1a1fc9=document[_0x445842(0x1a8)](_0x445842(0x131)+_0x1cb199),_0x43a297=createElement(_0x445842(0x5ef),{'class':_0x445842(0x655)}),_0x1ee011=myCompany[_0x445842(0x1fe)]['map'](_0x13eb60=>{const _0x5b8d9d=_0x445842;return createElement('option',{'value':_0x13eb60[_0x5b8d9d(0x119)]},[_0x13eb60['setTipoOperacionName']]);}),_0xb7c44e=createElement(_0x445842(0x245),{'id':_0x445842(0x28e)+_0x1cb199,'class':_0x445842(0x428),'events':{'change':_0x5b78dd=>{const _0x3c61fb=_0x445842;updateSerieAndRenderCart(_0x5b78dd[_0x3c61fb(0x278)][_0x3c61fb(0x61e)],_0x1cb199);}}},_0x1ee011);_0x43a297['appendChild'](_0xb7c44e),_0x1a1fc9[_0x445842(0x613)](_0x43a297);const _0x313736=createElement(_0x445842(0x5ef),{'class':_0x445842(0x634)}),_0x4fcd9b=createElement(_0x445842(0x245),{'id':_0x445842(0x233)+_0x1cb199,'class':_0x445842(0x341)});_0x313736[_0x445842(0x613)](_0x4fcd9b),_0x1a1fc9[_0x445842(0x613)](_0x313736);const _0x588f92=document[_0x445842(0x291)](_0x445842(0x5ef));_0x588f92['className']='div-width-25\x20col-bt-padding';const _0x340364=document['createElement'](_0x445842(0x526));_0x340364['id']=_0x445842(0x172)+_0x1cb199,_0x340364[_0x445842(0xfa)]=_0x445842(0x589),_0x340364[_0x445842(0x61f)]=_0x445842(0x65a),_0x340364['placeholder']=_0x445842(0x5d8),_0x340364[_0x445842(0x1ef)]=_0x427309=>updateWindowOption(_0x1cb199,_0x445842(0x5c3),_0x427309['target']['value']),_0x588f92[_0x445842(0x613)](_0x340364),_0x1a1fc9[_0x445842(0x613)](_0x588f92);const _0xa14133=document[_0x445842(0x291)](_0x445842(0x5ef));_0xa14133[_0x445842(0x61f)]=_0x445842(0x4ec);const _0x3487cd=document['createElement']('button');_0x3487cd['id']=_0x445842(0x33c)+_0x1cb199,_0x3487cd[_0x445842(0xfa)]=_0x445842(0x69a),_0x3487cd['innerHTML']=_0x445842(0x1ca),_0x3487cd[_0x445842(0x61f)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background',_0x3487cd[_0x445842(0x3f5)]=()=>{const _0x394d85=_0x445842;showSection(_0x394d85(0x5c1));},_0xa14133[_0x445842(0x613)](_0x3487cd),_0x1a1fc9[_0x445842(0x613)](_0xa14133);const _0x282865=myCompany[_0x445842(0x1a9)]['map'](_0x2c8138=>{const _0x480b62=_0x445842;return createElement(_0x480b62(0x571),{'value':_0x2c8138[_0x480b62(0x616)]},[_0x2c8138[_0x480b62(0x616)]]);}),_0x57c4f9=createElement('select',{'id':_0x445842(0x393)+_0x1cb199,'class':_0x445842(0x4f3),'events':{'change':_0x50c88e=>updateChangeMoneda(_0x1cb199,_0x445842(0x163),_0x50c88e[_0x445842(0x278)][_0x445842(0x61e)])}},_0x282865),_0xbe85ed=createElement('div',{'class':'div-width-35\x20col-bt-left-padding'},[_0x57c4f9]);_0x1a1fc9[_0x445842(0x613)](_0xbe85ed);const _0x292a9c=myCompany[_0x445842(0x5eb)][_0x445842(0x6c4)](_0x288a3f=>{const _0x19ae57=_0x445842;return createElement('option',{'value':_0x288a3f[_0x19ae57(0x59f)]},[_0x288a3f['setTipoDocCodigo']]);}),_0x376e11=createElement(_0x445842(0x245),{'id':_0x445842(0x50e)+_0x1cb199,'class':_0x445842(0x684),'events':{'change':_0x8e604d=>updateWindowOption(_0x1cb199,_0x445842(0x313),_0x8e604d[_0x445842(0x278)][_0x445842(0x61e)])}},_0x292a9c),_0x1f4500=createElement('div',{'class':_0x445842(0x634)},[_0x376e11]);_0x1a1fc9[_0x445842(0x613)](_0x1f4500);const _0x7a0396=document[_0x445842(0x291)]('div');_0x7a0396[_0x445842(0x61f)]=_0x445842(0x1ee);const _0x1bac9a=document['createElement'](_0x445842(0x526));_0x1bac9a['id']='setClienteNumDoc-'+_0x1cb199,_0x1bac9a['type']=_0x445842(0x2c5),_0x1bac9a[_0x445842(0x1cf)]='off',_0x1bac9a['placeholder']='Nº',_0x1bac9a[_0x445842(0x61f)]=_0x445842(0x557),_0x1bac9a[_0x445842(0x1ef)]=_0x36a379=>updateWindowOption(_0x1cb199,_0x445842(0x197),_0x36a379[_0x445842(0x278)][_0x445842(0x61e)]),_0x1bac9a[_0x445842(0x276)](_0x445842(0x467),_0x203d11=>{const _0x92d98b=_0x445842;_0x203d11[_0x92d98b(0x5e4)]==_0x92d98b(0x556)&&setupConsulta(_0x1cb199);}),_0x1bac9a[_0x445842(0x276)](_0x445842(0x526),async _0x4a832e=>{const _0x5bdfe9=_0x445842,_0x11c8bf=window_options[_0x1cb199],_0xd823e4=_0x1bac9a[_0x5bdfe9(0x61e)];_0x11c8bf['setTipoOperacion']==0x4&&_0x11c8bf['setClienteTipoDoc']==_0x5bdfe9(0x31c)&&_0xd823e4['length']==0xb&&(await updateWindowOption(_0x1cb199,'setClienteNumDoc',_0xd823e4),setupConsulta(_0x1cb199));}),_0x1bac9a[_0x445842(0x276)](_0x445842(0x195),_0x25cc67=>{const _0x3b97bc=_0x445842;if(_0x25cc67[_0x3b97bc(0x5e4)]==_0x3b97bc(0x573)||_0x25cc67['key']==_0x3b97bc(0x1e0)){const _0x238ef3=document[_0x3b97bc(0x1a8)](_0x3b97bc(0x24e)+_0x1cb199),_0x4228f9=document[_0x3b97bc(0x1a8)]('setClienteDireccion-'+_0x1cb199);_0x238ef3&&(_0x238ef3[_0x3b97bc(0x61e)]='',window_options[_0x1cb199][_0x3b97bc(0x50a)]=''),_0x4228f9&&(_0x4228f9['value']='',window_options[_0x1cb199]['setClienteDireccion']='');}}),_0x7a0396[_0x445842(0x613)](_0x1bac9a),_0x1a1fc9[_0x445842(0x613)](_0x7a0396);const _0x271e83=document[_0x445842(0x291)](_0x445842(0x5ef));_0x271e83['className']='div-width-10\x20col-bt-padding';const _0x22ff8e=document['createElement']('button');_0x22ff8e['id']=_0x445842(0x576)+_0x1cb199,_0x22ff8e['type']=_0x445842(0x69a),_0x22ff8e[_0x445842(0x328)]=_0x445842(0x1d2),_0x22ff8e[_0x445842(0x61f)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background',_0x22ff8e[_0x445842(0x3f5)]=()=>setupConsulta(_0x1cb199),_0x271e83['appendChild'](_0x22ff8e),_0x1a1fc9['appendChild'](_0x271e83);const _0x2d7402=document['createElement'](_0x445842(0x5ef));_0x2d7402['className']=_0x445842(0x50f),_0x2d7402[_0x445842(0x59b)][_0x445842(0x3e3)]=_0x445842(0x410);const _0x58248e=document[_0x445842(0x291)]('input');_0x58248e['id']=_0x445842(0x24e)+_0x1cb199,_0x58248e['type']=_0x445842(0x2c5),_0x58248e[_0x445842(0x1cf)]=_0x445842(0x56f),_0x58248e[_0x445842(0x61f)]=_0x445842(0x6a1),_0x58248e[_0x445842(0x1ef)]=_0xaa5ba6=>updateWindowOption(_0x1cb199,_0x445842(0x50a),_0xaa5ba6[_0x445842(0x278)][_0x445842(0x61e)]);const _0x5af5dd=document[_0x445842(0x291)]('div');_0x5af5dd['id']='suggestions-'+_0x1cb199,_0x5af5dd[_0x445842(0x61f)]=_0x445842(0x27b),_0x58248e['addEventListener']('keypress',_0x372e8e=>{const _0x339320=_0x445842;_0x372e8e['key']==_0x339320(0x556)&&(setupConsulta(_0x1cb199),document['getElementById']('suggestions-'+_0x1cb199)[_0x339320(0x328)]='');}),_0x58248e[_0x445842(0x276)](_0x445842(0x195),function(_0x3110ad){const _0x2f399d=_0x445842;_0x3110ad['key']==_0x2f399d(0x34e)&&_0x5af5dd['children'][_0x2f399d(0x506)]>0x0&&(_0x3110ad['preventDefault'](),_0x3110ad[_0x2f399d(0x39e)](),_0x5af5dd[_0x2f399d(0x35a)][0x0][_0x2f399d(0x5b8)]());}),_0x2d7402[_0x445842(0x613)](_0x58248e),_0x2d7402[_0x445842(0x613)](_0x5af5dd),_0x1a1fc9[_0x445842(0x613)](_0x2d7402),_0x58248e[_0x445842(0x276)]('input',function(){const _0xfc77a9=_0x445842,_0x494b36=this[_0xfc77a9(0x61e)]['trim']()[_0xfc77a9(0x5b0)]();_0x5af5dd[_0xfc77a9(0x328)]='';if(_0x494b36['length']==0x0)return;const _0x269b21=_0x494b36[_0xfc77a9(0x18b)](/\s+/)[_0xfc77a9(0x2c8)](_0x206988=>_0x206988);let _0x16dab7,_0x466e8c;setTipOpeOrders[_0xfc77a9(0x484)](_0x153cad=>_0x153cad==window_options[_0x1cb199][_0xfc77a9(0x5e2)])||setTipOpeSales[_0xfc77a9(0x484)](_0x454e9c=>_0x454e9c==window_options[_0x1cb199][_0xfc77a9(0x5e2)])||setTipOpeQuotation[_0xfc77a9(0x484)](_0x17ec0c=>_0x17ec0c==window_options[_0x1cb199][_0xfc77a9(0x5e2)])?(_0x16dab7=myCompany[_0xfc77a9(0x1d3)],_0x466e8c=_0x16dab7['filter'](_0x1f27af=>{const _0x3015c5=_0xfc77a9,_0x5e2cfb=(_0x1f27af[_0x3015c5(0x4d0)]||'')[_0x3015c5(0x5b0)](),_0x4fefd8=(_0x1f27af[_0x3015c5(0x104)]||'')['toLowerCase'](),_0x3664a5=_0x5e2cfb+'\x20'+_0x4fefd8;return _0x269b21[_0x3015c5(0x435)](_0x165b2c=>_0x3664a5['includes'](_0x165b2c));})):(_0x16dab7=myCompany['setSuppliers'],_0x466e8c=_0x16dab7['filter'](_0x6f85e7=>{const _0x321d01=_0xfc77a9,_0xe8f6bc=(_0x6f85e7[_0x321d01(0x3bf)]||'')[_0x321d01(0x5b0)](),_0x5ae8a8=(_0x6f85e7[_0x321d01(0x274)]||'')[_0x321d01(0x5b0)](),_0x48121e=_0xe8f6bc+'\x20'+_0x5ae8a8;return _0x269b21[_0x321d01(0x435)](_0x4a71a6=>_0x48121e[_0x321d01(0x29b)](_0x4a71a6));}));if(_0x466e8c[_0xfc77a9(0x506)]>0x0)_0x466e8c['forEach'](_0x13e40f=>{const _0x3b7ee5=_0xfc77a9,_0x2dbd62=document[_0x3b7ee5(0x291)](_0x3b7ee5(0x5ef));_0x2dbd62['className']=_0x3b7ee5(0x1fc);let _0x590b5a,_0x2210b3,_0x58922d;setTipOpeOrders['some'](_0x21c363=>_0x21c363==window_options[_0x1cb199][_0x3b7ee5(0x5e2)])||setTipOpeSales[_0x3b7ee5(0x484)](_0x4c4ab1=>_0x4c4ab1==window_options[_0x1cb199][_0x3b7ee5(0x5e2)])||setTipOpeQuotation[_0x3b7ee5(0x484)](_0x1495fd=>_0x1495fd==window_options[_0x1cb199][_0x3b7ee5(0x5e2)])?(_0x590b5a=_0x13e40f[_0x3b7ee5(0x104)],_0x2210b3=_0x13e40f[_0x3b7ee5(0x4d0)],_0x58922d=_0x13e40f[_0x3b7ee5(0x1da)]):(_0x590b5a=_0x13e40f[_0x3b7ee5(0x274)],_0x2210b3=_0x13e40f[_0x3b7ee5(0x3bf)],_0x58922d=_0x13e40f[_0x3b7ee5(0x610)]),_0x590b5a?_0x2dbd62['textContent']=_0x590b5a+_0x3b7ee5(0x461)+_0x2210b3:_0x2dbd62[_0x3b7ee5(0x5b1)]=_0x2210b3,_0x2dbd62[_0x3b7ee5(0x531)]=0x0,_0x2dbd62[_0x3b7ee5(0x276)](_0x3b7ee5(0x26d),()=>{const _0x29d4bd=_0x3b7ee5;_0x58248e[_0x29d4bd(0x61e)]=_0x2210b3;const _0x5215f7=document['getElementById'](_0x29d4bd(0x201)+_0x1cb199),_0x44b024=document[_0x29d4bd(0x1a8)](_0x29d4bd(0x323)+_0x1cb199);_0x5215f7&&(_0x5215f7[_0x29d4bd(0x61e)]=_0x590b5a||''),_0x44b024&&(_0x44b024['value']=_0x58922d||''),window_options[_0x1cb199][_0x29d4bd(0x50a)]=_0x2210b3,window_options[_0x1cb199][_0x29d4bd(0x197)]=_0x590b5a,window_options[_0x1cb199][_0x29d4bd(0x32d)]=_0x58922d,saveWindowOptionsDB(_0x1cb199)[_0x29d4bd(0x35b)](_0x1dbb59=>console[_0x29d4bd(0x103)](_0x29d4bd(0x47d),_0x1dbb59)),_0x5af5dd[_0x29d4bd(0x328)]='';}),_0x2dbd62[_0x3b7ee5(0x276)]('keydown',function(_0x150dfa){const _0x4c0f3c=_0x3b7ee5;if(_0x150dfa[_0x4c0f3c(0x5e4)]==_0x4c0f3c(0x556))_0x150dfa[_0x4c0f3c(0x39e)](),this[_0x4c0f3c(0x26d)]();else{if(_0x150dfa['key']==_0x4c0f3c(0x34e)){_0x150dfa[_0x4c0f3c(0x17d)](),_0x150dfa[_0x4c0f3c(0x39e)]();if(_0x150dfa['shiftKey']){if(this==_0x5af5dd['firstChild'])_0x58248e[_0x4c0f3c(0x5b8)]();else{let _0x12d424=this[_0x4c0f3c(0x111)];if(_0x12d424)_0x12d424[_0x4c0f3c(0x5b8)]();}}else this[_0x4c0f3c(0x22d)]?this[_0x4c0f3c(0x22d)]['focus']():_0x58248e[_0x4c0f3c(0x5b8)]();}}}),_0x5af5dd[_0x3b7ee5(0x613)](_0x2dbd62);});else{const _0x286298=document[_0xfc77a9(0x291)]('div');_0x286298[_0xfc77a9(0x61f)]=_0xfc77a9(0x256),_0x286298['textContent']=_0xfc77a9(0x284),_0x5af5dd[_0xfc77a9(0x613)](_0x286298);}});const _0x3ff146=document['createElement'](_0x445842(0x5ef));_0x3ff146[_0x445842(0x61f)]=_0x445842(0x50f);const _0x4d8281=document[_0x445842(0x291)](_0x445842(0x526));_0x4d8281['id']=_0x445842(0x323)+_0x1cb199,_0x4d8281['type']=_0x445842(0x2c5),_0x4d8281[_0x445842(0x1cf)]='off',_0x4d8281[_0x445842(0x5b4)]=_0x445842(0x2d4),_0x4d8281[_0x445842(0x61f)]=_0x445842(0x4bb),_0x4d8281['onchange']=_0x23cb2f=>updateWindowOption(_0x1cb199,'setClienteDireccion',_0x23cb2f[_0x445842(0x278)][_0x445842(0x61e)]),_0x3ff146[_0x445842(0x613)](_0x4d8281),_0x1a1fc9[_0x445842(0x613)](_0x3ff146);const _0x59c94e=document[_0x445842(0x291)](_0x445842(0x5ef));_0x59c94e[_0x445842(0x61f)]=_0x445842(0x4ef);const _0x5d12ba=document['createElement']('button');_0x5d12ba['id']=_0x445842(0x2d3)+_0x1cb199,_0x5d12ba['type']='button',_0x5d12ba[_0x445842(0x328)]=_0x445842(0x242),_0x5d12ba[_0x445842(0x61f)]=_0x445842(0x2e5),_0x5d12ba[_0x445842(0x3f5)]=_0x116169=>setPreAccount(_0x1cb199),_0x5d12ba['style']['borderTopLeftRadius']=_0x445842(0x38f),_0x5d12ba[_0x445842(0x59b)]['borderBottomLeftRadius']=_0x445842(0x38f),_0x59c94e[_0x445842(0x613)](_0x5d12ba),_0x1a1fc9[_0x445842(0x613)](_0x59c94e);const _0x99a51f=document[_0x445842(0x291)](_0x445842(0x5ef));_0x99a51f[_0x445842(0x61f)]=_0x445842(0x5e0);const _0x264eae=document[_0x445842(0x291)](_0x445842(0x69a));_0x264eae['id']=_0x445842(0x53f)+_0x1cb199,_0x264eae[_0x445842(0xfa)]='button',_0x264eae[_0x445842(0x328)]='Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>',_0x264eae[_0x445842(0x61f)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt',_0x264eae['onclick']=()=>setBill(_0x1cb199),_0x99a51f[_0x445842(0x613)](_0x264eae),_0x1a1fc9['appendChild'](_0x99a51f);const _0x32c9b4=document[_0x445842(0x291)](_0x445842(0x5ef));_0x32c9b4[_0x445842(0x61f)]=_0x445842(0x5e0);const _0xcb89aa=document[_0x445842(0x291)](_0x445842(0x69a));_0xcb89aa['id']=_0x445842(0x4c2)+_0x1cb199,_0xcb89aa[_0x445842(0xfa)]=_0x445842(0x69a),_0xcb89aa['innerHTML']='Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>',_0xcb89aa[_0x445842(0x61f)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt';let _0x324ef3=![];_0xcb89aa['onclick']=()=>{const _0x21cb26=_0x445842;_0x324ef3=!_0x324ef3,_0x324ef3?_0xcb89aa[_0x21cb26(0x59b)][_0x21cb26(0x5d9)]=_0x21cb26(0x3be):_0xcb89aa[_0x21cb26(0x59b)][_0x21cb26(0x5d9)]='',updateWindowOption(_0x1cb199,_0x21cb26(0xf2),_0x324ef3?0x1:0x0);},_0x32c9b4[_0x445842(0x613)](_0xcb89aa),_0x1a1fc9[_0x445842(0x613)](_0x32c9b4);const _0x46525f=document[_0x445842(0x291)]('div');_0x46525f[_0x445842(0x61f)]=_0x445842(0x5e0);const _0x26c009=document[_0x445842(0x291)](_0x445842(0x69a));_0x26c009['id']=_0x445842(0x417)+_0x1cb199,_0x26c009[_0x445842(0xfa)]=_0x445842(0x69a),_0x26c009['innerHTML']=_0x445842(0x560),_0x26c009[_0x445842(0x61f)]=_0x445842(0x5b9);let _0x35a8ed=![];_0x26c009[_0x445842(0x3f5)]=()=>{const _0x5becbc=_0x445842,_0x42c735=document['getElementById'](_0x5becbc(0x14d)+_0x1cb199),_0x774553=document[_0x5becbc(0x6ce)](_0x5becbc(0x121)+_0x1cb199);_0x774553['forEach'](_0x5af09b=>{const _0x51ddab=_0x5becbc;_0x35a8ed?_0x5af09b[_0x51ddab(0x14a)][_0x51ddab(0x529)](_0x51ddab(0x32e)):_0x5af09b[_0x51ddab(0x14a)][_0x51ddab(0x1c7)](_0x51ddab(0x32e));}),_0x35a8ed?(_0x26c009[_0x5becbc(0x59b)]['backgroundColor']='',_0x42c735[_0x5becbc(0x14a)][_0x5becbc(0x529)](_0x5becbc(0x32e))):(_0x26c009[_0x5becbc(0x59b)]['backgroundColor']='#f7f7f7',_0x42c735[_0x5becbc(0x14a)][_0x5becbc(0x1c7)]('hidden')),_0x35a8ed=!_0x35a8ed,updateWindowOption(_0x1cb199,_0x5becbc(0x2c0),_0x35a8ed?0x1:0x0);},_0x26c009[_0x445842(0x59b)][_0x445842(0x3bc)]='5px',_0x26c009[_0x445842(0x59b)][_0x445842(0x2de)]=_0x445842(0x38f),_0x46525f[_0x445842(0x613)](_0x26c009),_0x1a1fc9['appendChild'](_0x46525f);const _0x2dd00e=document[_0x445842(0x291)](_0x445842(0x5ef));_0x2dd00e['id']=_0x445842(0x14d)+_0x1cb199,_0x2dd00e[_0x445842(0x61f)]=_0x445842(0x486),_0x2dd00e[_0x445842(0x59b)][_0x445842(0x5ea)]=_0x445842(0x3be),_0x2dd00e[_0x445842(0x59b)][_0x445842(0x6ab)]='0',_0x2dd00e[_0x445842(0x59b)]['marginLeft']=_0x445842(0x658);const _0x5cfdfa=createElement(_0x445842(0x526),{'type':'checkbox','id':_0x445842(0x271)+_0x1cb199,'value':0x0,'events':{'click':_0x3fe3ce=>selectAllChecks(_0x1cb199)}});_0x5cfdfa[_0x445842(0x59b)]['marginTop']=_0x445842(0x3e7),_0x2dd00e[_0x445842(0x613)](_0x5cfdfa),_0x1a1fc9[_0x445842(0x613)](_0x2dd00e);const _0x3fe709=document['getElementById'](_0x445842(0x5c1)),_0x38e471=document[_0x445842(0x291)](_0x445842(0x5ef));_0x38e471['id']=_0x445842(0x690)+_0x1cb199,_0x38e471['className']='tab-content\x20active\x20tab-'+_0x1cb199,_0x3fe709[_0x445842(0x613)](_0x38e471);const _0x17cdc9=document[_0x445842(0x1a8)]('active\x20tab-section-options-'+_0x1cb199),_0x1692fa=document[_0x445842(0x291)](_0x445842(0x5ef));_0x1692fa['id']='container-section-options-'+_0x1cb199,_0x1692fa['className']=_0x445842(0x1dc),_0x17cdc9[_0x445842(0x613)](_0x1692fa);const _0x5d8c83=document['createElement'](_0x445842(0x5ef));_0x5d8c83['id']=_0x445842(0x47c)+_0x1cb199,_0x5d8c83[_0x445842(0x61f)]=_0x445842(0x63d),_0x17cdc9[_0x445842(0x613)](_0x5d8c83);const _0x50b590=document[_0x445842(0x1a8)](_0x445842(0x46e)+_0x1cb199),_0x5054c2=createElement(_0x445842(0x187),{'class':'label-options'},[_0x445842(0x338)]),_0x3c850f=[{'value':'1','text':'Venta\x20Interna'},{'value':'3','text':_0x445842(0x3c7)}]['map'](_0x3148d4=>createElement('option',{'value':_0x3148d4[_0x445842(0x61e)]},[_0x3148d4['text']])),_0x856380=createElement('select',{'id':_0x445842(0x253)+_0x1cb199,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','events':{'change':_0x428148=>updateWindowOption(_0x1cb199,_0x445842(0x1aa),_0x428148['target'][_0x445842(0x61e)])}},_0x3c850f),_0x43683b=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x5054c2,_0x856380]),_0x56537a=createElement(_0x445842(0x187),{'class':'label-options'},[_0x445842(0x2f8)]),_0xd6e09d=createElement('input',{'id':_0x445842(0x1a0)+_0x1cb199,'type':_0x445842(0x297),'class':_0x445842(0x6a5),'events':{'change':_0x3d8c3d=>updateWindowOption(_0x1cb199,_0x445842(0x5a6),_0x3d8c3d[_0x445842(0x278)][_0x445842(0x61e)])}}),_0x3733ae=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x56537a,_0xd6e09d]),_0x66db34=createElement(_0x445842(0x5ef),{'class':'div-group-container\x20div-width-100'},[_0x43683b,_0x3733ae]);_0x50b590['appendChild'](_0x66db34);const _0x3209eb=createElement(_0x445842(0x187),{'class':_0x445842(0x57f)},[_0x445842(0x646)]),_0x31c273=createElement('input',{'id':_0x445842(0x32c)+_0x1cb199,'type':'text','class':'custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','events':{'change':_0x26688b=>updateWindowOption(_0x1cb199,_0x445842(0x2f2),_0x26688b[_0x445842(0x278)][_0x445842(0x61e)])}}),_0x26f6f4=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x3209eb,_0x31c273]),_0x176350=createElement('label',{'class':'label-options'},[_0x445842(0x3bb)]),_0xf778b=createElement('input',{'id':_0x445842(0x546)+_0x1cb199,'type':_0x445842(0x18e),'class':_0x445842(0x47e),'events':{'change':_0x3c336c=>updateWindowOption(_0x1cb199,_0x445842(0x203),_0x3c336c[_0x445842(0x278)]['value'])}}),_0x4bface=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x176350,_0xf778b]),_0x5310fc=createElement(_0x445842(0x5ef),{'class':_0x445842(0x4f5)},[_0x26f6f4,_0x4bface]);_0x50b590[_0x445842(0x613)](_0x5310fc);const _0x2c12b8=createElement(_0x445842(0x187),{'class':_0x445842(0x57f)},[_0x445842(0x272)]),_0x15d6b2=myCompany[_0x445842(0x416)][_0x445842(0x6c4)](_0x178cde=>createElement(_0x445842(0x571),{'value':_0x178cde[_0x445842(0x53c)]},[_0x178cde[_0x445842(0x35e)]])),_0x171c30=createElement(_0x445842(0x245),{'id':'setVendedorCodigo-'+_0x1cb199,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','events':{'change':_0x2805cb=>updateWindowOption(_0x1cb199,_0x445842(0x471),_0x2805cb[_0x445842(0x278)][_0x445842(0x61e)])}},_0x15d6b2),_0x6e91c3=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x2c12b8,_0x171c30]),_0x4aa9f5=createElement(_0x445842(0x187),{'class':_0x445842(0x57f)},[_0x445842(0x67b)]),_0x395f2d=[{'value':'1','text':_0x445842(0x2f6)},{'value':'2','text':_0x445842(0x283)},{'value':'3','text':_0x445842(0x4a8)}][_0x445842(0x6c4)](_0x4f4b09=>createElement(_0x445842(0x571),{'value':_0x4f4b09[_0x445842(0x61e)]},[_0x4f4b09['text']])),_0x1f0466=createElement(_0x445842(0x245),{'id':_0x445842(0x3d3)+_0x1cb199,'class':_0x445842(0x2bc),'events':{'change':_0x1982c0=>updateWindowOption(_0x1cb199,'setDespacho',_0x1982c0[_0x445842(0x278)]['value'])}},_0x395f2d),_0x37aa77=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x4aa9f5,_0x1f0466]),_0x4bc87a=createElement(_0x445842(0x5ef),{'class':_0x445842(0x4f5)},[_0x6e91c3,_0x37aa77]);_0x50b590[_0x445842(0x613)](_0x4bc87a);const _0x57ae34=createElement(_0x445842(0x187),{'class':_0x445842(0x57f)},['APLICAR:']),_0x2d3824=createElement(_0x445842(0x5ef),{'class':_0x445842(0x671)}),_0x2b8927=createElement(_0x445842(0x526),{'type':_0x445842(0x4c5),'id':_0x445842(0x6be)+_0x1cb199,'class':_0x445842(0x445),'events':{'change':_0x487504=>toggleTaxFields(_0x487504,_0x445842(0x15c),_0x1cb199)}}),_0x4fb311=createElement('label',{'for':_0x445842(0x6be)+_0x1cb199,'class':_0x445842(0x3f1)},[_0x445842(0x5f0)]),_0x162de2=createElement('select',{'id':'detraccionCodigo-'+_0x1cb199,'class':_0x445842(0x344),'events':{'change':_0x5af45c=>updateWindowOption(_0x1cb199,_0x445842(0x2b7),_0x5af45c[_0x445842(0x278)]['value'])}},[createElement('option',{'value':'0'},[_0x445842(0x599)]),createElement(_0x445842(0x571),{'value':_0x445842(0x65f)},[_0x445842(0x166)]),createElement(_0x445842(0x571),{'value':_0x445842(0x161)},[_0x445842(0x2c6)]),createElement(_0x445842(0x571),{'value':_0x445842(0x3ea)},[_0x445842(0x46c)]),createElement(_0x445842(0x571),{'value':_0x445842(0x1c8)},['Maíz\x20amarillo\x20duro']),createElement(_0x445842(0x571),{'value':_0x445842(0x45c)},[_0x445842(0x680)]),createElement(_0x445842(0x571),{'value':_0x445842(0x563)},[_0x445842(0x2ef)]),createElement(_0x445842(0x571),{'value':_0x445842(0x3f0)},[_0x445842(0x63b)]),createElement(_0x445842(0x571),{'value':_0x445842(0x1f2)},[_0x445842(0x66d)]),createElement('option',{'value':_0x445842(0x336)},[_0x445842(0x136)]),createElement(_0x445842(0x571),{'value':_0x445842(0x289)},['Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV']),createElement(_0x445842(0x571),{'value':_0x445842(0x660)},['Intermediación\x20laboral\x20y\x20tercerización']),createElement(_0x445842(0x571),{'value':_0x445842(0x255)},['Animales\x20vivos']),createElement('option',{'value':'014'},[_0x445842(0x3ab)]),createElement('option',{'value':_0x445842(0x5b5)},[_0x445842(0x383)]),createElement(_0x445842(0x571),{'value':_0x445842(0x42c)},[_0x445842(0x1f0)]),createElement(_0x445842(0x571),{'value':_0x445842(0x12e)},['Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos']),createElement(_0x445842(0x571),{'value':'018'},[_0x445842(0x202)]),createElement(_0x445842(0x571),{'value':_0x445842(0x405)},[_0x445842(0x4af)]),createElement(_0x445842(0x571),{'value':'020'},['Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles']),createElement('option',{'value':_0x445842(0x117)},[_0x445842(0x505)]),createElement('option',{'value':_0x445842(0x43e)},[_0x445842(0x287)]),createElement('option',{'value':_0x445842(0x40b)},[_0x445842(0x14f)]),createElement(_0x445842(0x571),{'value':_0x445842(0x520)},[_0x445842(0x567)]),createElement(_0x445842(0x571),{'value':_0x445842(0x12a)},[_0x445842(0x4db)]),createElement(_0x445842(0x571),{'value':'026'},['Servicio\x20de\x20transporte\x20de\x20personas']),createElement(_0x445842(0x571),{'value':_0x445842(0x395)},[_0x445842(0x691)]),createElement(_0x445842(0x571),{'value':'030'},[_0x445842(0x3ca)]),createElement(_0x445842(0x571),{'value':'031'},[_0x445842(0x141)]),createElement(_0x445842(0x571),{'value':_0x445842(0x3db)},[_0x445842(0x48e)]),createElement(_0x445842(0x571),{'value':'033'},[_0x445842(0x663)]),createElement(_0x445842(0x571),{'value':_0x445842(0x6c1)},[_0x445842(0x10e)]),createElement(_0x445842(0x571),{'value':_0x445842(0x4dd)},[_0x445842(0xf0)]),createElement(_0x445842(0x571),{'value':_0x445842(0x6cf)},[_0x445842(0x1d4)]),createElement(_0x445842(0x571),{'value':_0x445842(0x476)},[_0x445842(0x1d5)]),createElement(_0x445842(0x571),{'value':'039'},[_0x445842(0x18a)]),createElement(_0x445842(0x571),{'value':''},[_0x445842(0x28f)])]),_0x42b38f=createElement(_0x445842(0x526),{'type':'number','id':_0x445842(0x5bf)+_0x1cb199,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','value':'','placeholder':_0x445842(0x204),'events':{'change':_0xb959e3=>calculateTax(_0x445842(0x15c),_0x1cb199)}}),_0x7dd8aa=createElement(_0x445842(0x526),{'type':'text','id':_0x445842(0x409)+_0x1cb199,'class':_0x445842(0x125),'readonly':!![],'placeholder':_0x445842(0x22a)});_0x2d3824[_0x445842(0x613)](_0x2b8927),_0x2d3824[_0x445842(0x613)](_0x4fb311),_0x2d3824[_0x445842(0x613)](_0x162de2),_0x2d3824['appendChild'](_0x42b38f),_0x2d3824['appendChild'](_0x7dd8aa);const _0x38fae3=createElement(_0x445842(0x5ef),{'class':_0x445842(0x671)}),_0x30e00a=createElement(_0x445842(0x526),{'type':_0x445842(0x4c5),'id':_0x445842(0x442)+_0x1cb199,'class':_0x445842(0x445),'events':{'change':_0x491aa0=>toggleTaxFields(_0x491aa0,'Retencion',_0x1cb199)}}),_0x491884=createElement(_0x445842(0x187),{'for':_0x445842(0x442)+_0x1cb199,'class':'label-options\x20mb-2'},['RETENCIÓN']),_0x129e13=createElement(_0x445842(0x526),{'type':_0x445842(0x589),'id':_0x445842(0x3c9)+_0x1cb199,'class':_0x445842(0x125),'value':'3','placeholder':_0x445842(0x554),'events':{'change':_0x4230fe=>calculateTax(_0x445842(0x644),_0x1cb199)}}),_0x10c1f7=createElement('input',{'type':_0x445842(0x2c5),'id':'retencionTotal-'+_0x1cb199,'class':_0x445842(0x125),'readonly':!![],'placeholder':'Total\x20retención'});_0x38fae3['appendChild'](_0x30e00a),_0x38fae3[_0x445842(0x613)](_0x491884),_0x38fae3['appendChild'](_0x129e13),_0x38fae3['appendChild'](_0x10c1f7);const _0x5b48fd=createElement('div',{'class':_0x445842(0x671)}),_0x5745d2=createElement(_0x445842(0x526),{'type':_0x445842(0x4c5),'id':_0x445842(0x2f9)+_0x1cb199,'class':_0x445842(0x445),'events':{'change':_0x25c4e4=>toggleTaxFields(_0x25c4e4,'Percepcion',_0x1cb199)}}),_0x5063d4=createElement(_0x445842(0x187),{'for':_0x445842(0x2f9)+_0x1cb199,'class':_0x445842(0x3f1)},['PERCEPCIÓN']),_0x3d054b=createElement(_0x445842(0x526),{'type':'number','id':_0x445842(0x60d)+_0x1cb199,'class':_0x445842(0x125),'value':'2','placeholder':_0x445842(0x384),'events':{'change':_0x44acb7=>calculateTax(_0x445842(0x23d),_0x1cb199)}}),_0x5a4576=createElement('input',{'type':_0x445842(0x2c5),'id':_0x445842(0x58a)+_0x1cb199,'class':'hidden\x20custom-input-cart-options\x20form-control\x20mb-2','readonly':!![],'placeholder':_0x445842(0x146)});_0x5b48fd['appendChild'](_0x5745d2),_0x5b48fd[_0x445842(0x613)](_0x5063d4),_0x5b48fd['appendChild'](_0x3d054b),_0x5b48fd[_0x445842(0x613)](_0x5a4576);const _0x25ef31=createElement(_0x445842(0x187),{'class':_0x445842(0x57f)},[_0x445842(0x3ce)]),_0x113635=createElement('textarea',{'id':_0x445842(0x4a4)+_0x1cb199,'rows':0x4,'class':_0x445842(0x423),'events':{'change':_0x44c02b=>updateWindowOption(_0x1cb199,'setObservacion',_0x44c02b[_0x445842(0x278)][_0x445842(0x61e)])}}),_0x233285=createElement(_0x445842(0x5ef),{'class':'div-width-options\x20col-bt-padding-options'},[_0x25ef31,_0x113635]),_0x322d1a=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x57ae34,_0x2d3824,_0x38fae3,_0x5b48fd]),_0x3d8296=createElement(_0x445842(0x5ef),{'class':_0x445842(0x4f5)},[_0x322d1a,_0x233285]);_0x50b590[_0x445842(0x613)](_0x3d8296);const _0x196d11=createElement(_0x445842(0x571),{'value':'1'},[_0x445842(0x42f)]),_0x1daf0b=createElement(_0x445842(0x571),{'value':'2'},[_0x445842(0x364)]),_0x2c5e92=createElement(_0x445842(0x245),{'id':'setAttachEdit-'+_0x1cb199,'class':_0x445842(0x5e8),'events':{'change':_0x475459=>updateWindowOption(_0x1cb199,_0x445842(0x5f3),_0x475459[_0x445842(0x278)][_0x445842(0x61e)])}},[_0x196d11,_0x1daf0b]),_0x11382f=createElement(_0x445842(0x571),{'value':'0','selected':!![]},[_0x445842(0x1bd)]),_0x3e38c4=myCompany['setTipoOperaciones']['map'](_0x592095=>createElement(_0x445842(0x571),{'value':_0x592095[_0x445842(0x119)]},[_0x592095[_0x445842(0x1b9)]])),_0x283fb8=createElement(_0x445842(0x245),{'id':_0x445842(0x682)+_0x1cb199,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','events':{'change':_0x4d068b=>updateSerieOptionsAttach(_0x4d068b[_0x445842(0x278)][_0x445842(0x61e)],_0x1cb199)}},[_0x11382f,..._0x3e38c4]),_0x4d932f=createElement(_0x445842(0x245),{'id':_0x445842(0x6ba)+_0x1cb199,'class':_0x445842(0x3a1)}),_0x4f4d38=createElement(_0x445842(0x526),{'id':_0x445842(0x5c5)+_0x1cb199,'type':_0x445842(0x589),'class':_0x445842(0x55a)}),_0x874a21=createElement(_0x445842(0x69a),{'id':_0x445842(0x106)+_0x1cb199,'type':'button','class':_0x445842(0x528),'innerHTML':_0x445842(0x3eb),'events':{'click':()=>consultAttach(_0x1cb199)}}),_0x326fa6=createElement(_0x445842(0x5ef),{'class':_0x445842(0x239)},[_0x2c5e92,_0x283fb8,_0x4d932f,_0x4f4d38,_0x874a21]),_0xd6571b=createElement(_0x445842(0x5ef),{'class':_0x445842(0x4f5)},[_0x326fa6]);_0x50b590[_0x445842(0x613)](_0xd6571b);const _0x5f43c8=document[_0x445842(0x1a8)](_0x445842(0x47c)+_0x1cb199),_0x85faaf=createElement(_0x445842(0x517),{'innerHTML':_0x445842(0x675)}),_0x3717bd=createElement(_0x445842(0x69a),{'id':'closeModalOptions-'+_0x1cb199,'class':_0x445842(0x521),'type':_0x445842(0x69a)},[_0x85faaf]),_0x3a0200=createElement(_0x445842(0x5ef),{'class':_0x445842(0x2ac)},[_0x3717bd]);_0x5f43c8[_0x445842(0x613)](_0x3a0200);const _0x47b62f=createElement(_0x445842(0x342),{'class':_0x445842(0x558),'src':_0x445842(0x59a)}),_0x29ea0c=createElement('span',{'class':_0x445842(0x697),'innerHTML':_0x445842(0x62a)}),_0x11bf52=createElement('button',{'class':'btn-options'},[_0x47b62f,_0x29ea0c]);_0x5f43c8['appendChild'](_0x11bf52);const _0xe88173=createElement(_0x445842(0x342),{'class':'img-options','src':_0x445842(0x431)}),_0xea6faa=createElement(_0x445842(0x69a),{'class':_0x445842(0x358)},[_0xe88173,_0x445842(0x587)]);_0x5f43c8['appendChild'](_0xea6faa);const _0x4123b9=createElement(_0x445842(0x342),{'class':'img-options','src':_0x445842(0x64f)}),_0x63f066=createElement('button',{'class':_0x445842(0x358)},[_0x4123b9,'Detalle\x20de\x20Turno']);_0x5f43c8[_0x445842(0x613)](_0x63f066);const _0x426fdf=createElement(_0x445842(0x342),{'class':_0x445842(0x1e2),'src':_0x445842(0x390)}),_0x49eaac=createElement(_0x445842(0x69a),{'class':_0x445842(0x358)},[_0x426fdf,'Registrar\x20Ingreso']);_0x5f43c8[_0x445842(0x613)](_0x49eaac);const _0x262454=createElement(_0x445842(0x342),{'class':'img-options','src':_0x445842(0x1eb)}),_0x27c4da=createElement(_0x445842(0x69a),{'class':_0x445842(0x358)},[_0x262454,_0x445842(0x1d0)]);_0x5f43c8['appendChild'](_0x27c4da);const _0x4b690a=createElement(_0x445842(0x342),{'class':'img-options','src':_0x445842(0x4e8)}),_0x342ed0=createElement(_0x445842(0x69a),{'class':_0x445842(0x358),'events':{'click':()=>{const _0x3a2e15=_0x445842;window[_0x3a2e15(0x1f4)]['href']='income.html';}}},[_0x4b690a,'Reporte\x20de\x20ventas']);_0x5f43c8[_0x445842(0x613)](_0x342ed0);const _0x2286d7=createElement(_0x445842(0x342),{'class':_0x445842(0x1e2),'src':_0x445842(0x5a8)}),_0x2817b2=createElement(_0x445842(0x69a),{'class':_0x445842(0x358),'events':{'click':()=>{const _0xebcac8=_0x445842;window[_0xebcac8(0x1f4)][_0xebcac8(0x186)]=_0xebcac8(0x58c);}}},[_0x2286d7,'Ajustes']);_0x5f43c8[_0x445842(0x613)](_0x2817b2);const _0x260d07=document['createElement'](_0x445842(0x5ef));_0x260d07['id']='active\x20tab-cp-'+_0x1cb199,_0x260d07['className']=_0x445842(0x4ac)+_0x1cb199+_0x445842(0x55c),_0x2866b9[_0x445842(0x613)](_0x260d07);const _0x4f2fef=document[_0x445842(0x1a8)](_0x445842(0x105)+_0x1cb199),_0x3b84af=document[_0x445842(0x291)](_0x445842(0x5ef));_0x3b84af['id']=_0x445842(0x421)+_0x1cb199,_0x3b84af[_0x445842(0x61f)]='cart-panel\x20d-flex\x20flex-column\x20flex-grow-1',_0x4f2fef['appendChild'](_0x3b84af);const _0x305f62=document[_0x445842(0x1a8)](_0x445842(0x421)+_0x1cb199),_0x5865c7=document[_0x445842(0x291)]('div');_0x5865c7['id']=_0x445842(0x4d8)+_0x1cb199,_0x5865c7['className']='flex-grow-1\x20cart-items-container',_0x305f62[_0x445842(0x613)](_0x5865c7);const _0x19b02e=document['getElementById'](_0x445842(0x523)),_0x3e94a3=document['createElement'](_0x445842(0x5ef));_0x3e94a3['id']='tab-totales-'+_0x1cb199,_0x3e94a3[_0x445842(0x61f)]=_0x445842(0x685)+_0x1cb199,_0x19b02e[_0x445842(0x613)](_0x3e94a3);const _0x19dd62=document[_0x445842(0x1a8)](_0x445842(0x477)+_0x1cb199),_0x483254=document[_0x445842(0x291)](_0x445842(0x5ef));_0x483254['id']=_0x445842(0x207)+_0x1cb199,_0x483254['className']=_0x445842(0x3f4),_0x19dd62[_0x445842(0x613)](_0x483254);const _0x4813dd=document[_0x445842(0x1a8)]('checkout-'+_0x1cb199),_0xdaa46b=document[_0x445842(0x291)](_0x445842(0x5ef));_0xdaa46b[_0x445842(0x61f)]=_0x445842(0x310);const _0xe1e020=document[_0x445842(0x291)](_0x445842(0x517));_0xe1e020[_0x445842(0x61f)]=_0x445842(0x27d),_0xe1e020['id']=_0x445842(0x29f)+_0x1cb199,_0xe1e020[_0x445842(0x328)]=_0x445842(0x64b);const _0x32b735=document[_0x445842(0x291)](_0x445842(0x517));_0x32b735[_0x445842(0x61f)]=_0x445842(0x1ea),_0x32b735['id']=_0x445842(0x637)+_0x1cb199,_0x32b735[_0x445842(0x328)]='<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-'+_0x1cb199+_0x445842(0x17c),_0xdaa46b['appendChild'](_0xe1e020),_0xdaa46b[_0x445842(0x613)](_0x32b735),_0x4813dd[_0x445842(0x613)](_0xdaa46b);const _0xf57aba=document[_0x445842(0x291)]('div');_0xf57aba[_0x445842(0x61f)]=_0x445842(0x310),_0xf57aba['id']=_0x445842(0x4b3)+_0x1cb199;const _0x6e5ff1=document[_0x445842(0x291)]('span');_0x6e5ff1[_0x445842(0x61f)]=_0x445842(0x27d),_0x6e5ff1['id']=_0x445842(0x1c4)+_0x1cb199,_0x6e5ff1[_0x445842(0x328)]=_0x445842(0x479);const _0x435564=document[_0x445842(0x291)](_0x445842(0x517));_0x435564['className']=_0x445842(0x1ea),_0x435564['id']=_0x445842(0x240)+_0x1cb199,_0x435564[_0x445842(0x328)]=_0x445842(0x20b),_0xf57aba[_0x445842(0x613)](_0x6e5ff1),_0xf57aba[_0x445842(0x613)](_0x435564),_0x4813dd[_0x445842(0x613)](_0xf57aba);const _0x43dcc1=document[_0x445842(0x291)]('div');_0x43dcc1[_0x445842(0x61f)]=_0x445842(0x2fa);const _0x45a07c=document[_0x445842(0x291)](_0x445842(0x517));_0x45a07c[_0x445842(0x61f)]=_0x445842(0x27d),_0x45a07c['id']=_0x445842(0x1ba)+_0x1cb199,_0x45a07c[_0x445842(0x328)]=_0x445842(0x362);const _0x5c593a=document[_0x445842(0x291)](_0x445842(0x517));_0x5c593a[_0x445842(0x61f)]=_0x445842(0x1ea),_0x5c593a['id']=_0x445842(0x508)+_0x1cb199,_0x5c593a[_0x445842(0x328)]=_0x445842(0x20b),_0x43dcc1[_0x445842(0x613)](_0x45a07c),_0x43dcc1['appendChild'](_0x5c593a),_0x4813dd[_0x445842(0x613)](_0x43dcc1);const _0x5688b2=document['createElement'](_0x445842(0x5ef));_0x5688b2[_0x445842(0x61f)]=_0x445842(0x2fa);const _0x207305=document['createElement'](_0x445842(0x517));_0x207305[_0x445842(0x61f)]=_0x445842(0x27d),_0x207305['id']='float-left-OpExonerada-'+_0x1cb199,_0x207305['innerHTML']=_0x445842(0x55f);const _0x3ea756=document[_0x445842(0x291)](_0x445842(0x517));_0x3ea756[_0x445842(0x61f)]=_0x445842(0x1ea),_0x3ea756['id']=_0x445842(0x36d)+_0x1cb199,_0x3ea756[_0x445842(0x328)]=_0x445842(0x20b),_0x5688b2['appendChild'](_0x207305),_0x5688b2[_0x445842(0x613)](_0x3ea756),_0x4813dd[_0x445842(0x613)](_0x5688b2);const _0x1dd9f5=document[_0x445842(0x291)](_0x445842(0x5ef));_0x1dd9f5[_0x445842(0x61f)]='div-totals-right\x20d-none';const _0x13f119=document['createElement'](_0x445842(0x517));_0x13f119['className']=_0x445842(0x27d),_0x13f119['id']=_0x445842(0x1b1)+_0x1cb199,_0x13f119[_0x445842(0x328)]=_0x445842(0x52f);const _0x5c2db4=document[_0x445842(0x291)](_0x445842(0x517));_0x5c2db4[_0x445842(0x61f)]=_0x445842(0x1ea),_0x5c2db4['id']='float-right-OpInafecta-'+_0x1cb199,_0x5c2db4[_0x445842(0x328)]=_0x445842(0x20b),_0x1dd9f5[_0x445842(0x613)](_0x13f119),_0x1dd9f5['appendChild'](_0x5c2db4),_0x4813dd[_0x445842(0x613)](_0x1dd9f5);const _0x3b0ebf=document[_0x445842(0x291)]('div');_0x3b0ebf[_0x445842(0x61f)]='div-totals-right\x20d-none';const _0x964617=document[_0x445842(0x291)]('span');_0x964617['className']=_0x445842(0x27d),_0x964617['id']=_0x445842(0xff)+_0x1cb199,_0x964617[_0x445842(0x328)]=_0x445842(0x3ad);const _0x46ddbf=document[_0x445842(0x291)](_0x445842(0x517));_0x46ddbf[_0x445842(0x61f)]='float-right-totals',_0x46ddbf['id']=_0x445842(0x5a5)+_0x1cb199,_0x46ddbf[_0x445842(0x328)]=_0x445842(0x20b),_0x3b0ebf[_0x445842(0x613)](_0x964617),_0x3b0ebf['appendChild'](_0x46ddbf),_0x4813dd[_0x445842(0x613)](_0x3b0ebf);const _0x2eb34a=document[_0x445842(0x291)]('div');_0x2eb34a[_0x445842(0x61f)]=_0x445842(0x310),_0x2eb34a['id']=_0x445842(0x2eb)+_0x1cb199;const _0xc489bf=document[_0x445842(0x291)](_0x445842(0x517));_0xc489bf['className']=_0x445842(0x27d),_0xc489bf['id']=_0x445842(0x662)+_0x1cb199,_0xc489bf['innerHTML']=_0x445842(0x44c);const _0x10f491=document[_0x445842(0x291)](_0x445842(0x517));_0x10f491['className']=_0x445842(0x1ea),_0x10f491['id']=_0x445842(0x148)+_0x1cb199,_0x10f491['innerHTML']=_0x445842(0x20b),_0x2eb34a[_0x445842(0x613)](_0xc489bf),_0x2eb34a['appendChild'](_0x10f491),_0x4813dd[_0x445842(0x613)](_0x2eb34a);const _0x1d8d90=document[_0x445842(0x291)](_0x445842(0x5ef));_0x1d8d90[_0x445842(0x61f)]=_0x445842(0x310),_0x1d8d90['id']=_0x445842(0x4ba)+_0x1cb199;const _0x1445b0=document[_0x445842(0x291)](_0x445842(0x517));_0x1445b0[_0x445842(0x61f)]=_0x445842(0x27d),_0x1445b0['id']='float-left-TotalIgv-'+_0x1cb199,_0x1445b0[_0x445842(0x328)]=_0x445842(0x1ad);const _0x354c2a=document[_0x445842(0x291)](_0x445842(0x517));_0x354c2a[_0x445842(0x61f)]='float-right-totals',_0x354c2a['id']=_0x445842(0x247)+_0x1cb199,_0x354c2a[_0x445842(0x328)]=_0x445842(0x20b),_0x1d8d90['appendChild'](_0x1445b0),_0x1d8d90[_0x445842(0x613)](_0x354c2a),_0x4813dd['appendChild'](_0x1d8d90);const _0x29f811=document[_0x445842(0x291)](_0x445842(0x5ef));_0x29f811[_0x445842(0x61f)]=_0x445842(0x2fa),_0x29f811['id']='div-totals-right-TotalIgvGratuitas-'+_0x1cb199;const _0x32b02e=document[_0x445842(0x291)](_0x445842(0x517));_0x32b02e['className']=_0x445842(0x27d),_0x32b02e['id']=_0x445842(0x19c)+_0x1cb199,_0x32b02e[_0x445842(0x328)]=_0x445842(0x1b4);const _0x5b01e0=document[_0x445842(0x291)](_0x445842(0x517));_0x5b01e0[_0x445842(0x61f)]='float-right-totals',_0x5b01e0['id']=_0x445842(0x40c)+_0x1cb199,_0x5b01e0[_0x445842(0x328)]=_0x445842(0x20b),_0x29f811['appendChild'](_0x32b02e),_0x29f811[_0x445842(0x613)](_0x5b01e0),_0x4813dd[_0x445842(0x613)](_0x29f811);const _0x271907=document[_0x445842(0x291)](_0x445842(0x69a));_0x271907['id']=_0x445842(0x411)+_0x1cb199,_0x271907[_0x445842(0x61f)]=_0x445842(0x5c8),_0x271907[_0x445842(0x3f5)]=()=>validateOperation(_0x1cb199,_0x445842(0x502));const _0xd1722a=document[_0x445842(0x291)]('span');_0xd1722a[_0x445842(0x61f)]=_0x445842(0x2d9),_0xd1722a['id']=_0x445842(0x4bf)+_0x1cb199,_0xd1722a['innerHTML']='PAGAR';const _0x697b30=document['createElement'](_0x445842(0x517));_0x697b30[_0x445842(0x61f)]=_0x445842(0x446),_0x697b30['id']=_0x445842(0x651)+_0x1cb199,_0x697b30[_0x445842(0x328)]=_0x445842(0x20b),_0x271907[_0x445842(0x613)](_0xd1722a),_0x271907[_0x445842(0x613)](_0x697b30),_0x4813dd[_0x445842(0x613)](_0x271907);const _0xc5e1a0=document['getElementById'](_0x445842(0x502)),_0x227a00=document['createElement'](_0x445842(0x5ef));_0x227a00['id']=_0x445842(0x5bd)+_0x1cb199,_0x227a00[_0x445842(0x61f)]=_0x445842(0x4ac)+_0x1cb199,_0xc5e1a0[_0x445842(0x613)](_0x227a00);const _0x1cb6f0=document[_0x445842(0x1a8)](_0x445842(0x5bd)+_0x1cb199),_0x33eeda=document['createElement'](_0x445842(0x5ef));_0x33eeda['id']=_0x445842(0x36c)+_0x1cb199,_0x33eeda[_0x445842(0x61f)]='container-section-pay\x20row',_0x1cb6f0[_0x445842(0x613)](_0x33eeda);const _0x13b51d=document[_0x445842(0x1a8)]('container-section-pay-'+_0x1cb199),_0x4d594d=createElement(_0x445842(0x245),{'id':_0x445842(0x246)+_0x1cb199,'class':_0x445842(0x32e),'events':{'change':_0x1dbafa=>handlePaymentMethodChange(_0x1dbafa,_0x1cb199)}},[createElement(_0x445842(0x571),{'value':_0x445842(0x326)},[_0x445842(0x4ee)]),createElement(_0x445842(0x571),{'value':'credito'},[_0x445842(0x591)]),createElement(_0x445842(0x571),{'value':'mixto'},['Contado\x20y\x20Crédito'])]),_0x54e6f8=createElement(_0x445842(0x5ef),{'class':_0x445842(0x3a6),'id':_0x445842(0x2b6)+_0x1cb199}),_0xa81fa8=[{'value':_0x445842(0x326),'text':'Contado','className':_0x445842(0x118),'imgSrc':'./img/icon-contado.svg'},{'value':_0x445842(0x2df),'text':_0x445842(0x591),'className':_0x445842(0x34f),'imgSrc':_0x445842(0x485)},{'value':_0x445842(0x270),'text':'Contado\x20y\x20Crédito','className':'payment-mixto','imgSrc':_0x445842(0x5c4)}];_0xa81fa8[_0x445842(0x570)](_0x34a621=>{const _0x34a88a=_0x445842,_0x4d01ee=createElement('a',{'href':'#','class':_0x34a88a(0x429)+_0x34a621[_0x34a88a(0x61f)]+_0x34a88a(0x31e)+_0x1cb199,'events':{'click':_0x3768c3=>{const _0x48eb30=_0x34a88a;_0x3768c3[_0x48eb30(0x17d)](),document[_0x48eb30(0x1a8)]('setMedioPago-'+_0x1cb199)[_0x48eb30(0x61e)]=_0x34a621[_0x48eb30(0x61e)],triggerChangeEventById('setMedioPago-'+_0x1cb199),updateActivePaymentOption(_0x1cb199,_0x34a621['className']);}}},[createElement(_0x34a88a(0x5ef),{},[_0x34a621[_0x34a88a(0x2c5)]]),createElement(_0x34a88a(0x342),{'src':_0x34a621['imgSrc'],'alt':_0x34a621['text'],'class':_0x34a88a(0x2fc)})]);_0x54e6f8[_0x34a88a(0x613)](_0x4d01ee);});const _0x27331f=createElement(_0x445842(0x5ef),{'id':'div-total-pay-'+_0x1cb199}),_0x1396c1=createElement('div',{'id':_0x445842(0x6b7)+_0x1cb199});_0x13b51d[_0x445842(0x613)](_0x4d594d),_0x13b51d[_0x445842(0x613)](_0x54e6f8),_0x13b51d[_0x445842(0x613)](_0x27331f),_0x13b51d['appendChild'](_0x1396c1);const _0x4043a4=document[_0x445842(0x1a8)](_0x445842(0x6b4)+_0x1cb199);if(!_0x4043a4){console[_0x445842(0x103)]('No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.');return;}_0x4043a4[_0x445842(0x43b)](_0x4043a4[_0x445842(0x57c)](!![]));const _0x5466f0=document[_0x445842(0x1a8)](_0x445842(0x6b4)+_0x1cb199);_0x5466f0[_0x445842(0x276)](_0x445842(0x26d),()=>hideModalOptions());let _0x26687c=_0xb7c44e[_0x445842(0x39f)][_0xb7c44e[_0x445842(0x113)]]['value'],_0x3e064f=null;for(const _0x3b8293 of setTipOpeSales){const _0x5ac540=Array['from'](_0xb7c44e[_0x445842(0x39f)])[_0x445842(0x484)](_0x14935e=>_0x14935e['value']==_0x3b8293);if(_0x5ac540){_0x3e064f=_0x3b8293;break;}}_0x3e064f!==null&&(_0x26687c=_0x3e064f);const _0x431145=getUserPermissionApiERP(0x9);parseInt(_0x431145)>0x0&&(_0x26687c=_0x431145);const _0x119a0d=window_options[_0x1cb199]&&window_options[_0x1cb199][_0x445842(0x5e2)]?window_options[_0x1cb199]['setTipoOperacion']:_0x26687c;let _0x419c46=0x0;if(setTipOpeOrders[_0x445842(0x484)](_0x5dbd25=>_0x5dbd25==_0x119a0d))_0x419c46=0x1;else{if(setTipOpeSales[_0x445842(0x484)](_0x32dd75=>_0x32dd75==_0x119a0d))_0x419c46=0x2;else{if(setTipOpePurchases[_0x445842(0x484)](_0x2809a6=>_0x2809a6==_0x119a0d))_0x419c46=0x3;else setTipOpeQuotation[_0x445842(0x484)](_0x49ce8b=>_0x49ce8b==_0x119a0d)&&(_0x419c46=0x4);}}const _0x462c08=myCompany['setDefaultNotes'][_0x445842(0x552)](_0x5aaa55=>_0x5aaa55[_0x445842(0x3f6)]==_0x419c46)?.[_0x445842(0x438)]??'',_0x4a8669=myCompany[_0x445842(0x416)]&&myCompany[_0x445842(0x416)][_0x445842(0x552)](_0x97a48b=>_0x97a48b[_0x445842(0x6ca)]==myCompany[_0x445842(0x1af)]['setUserDocNumber']),_0x427171=_0x4a8669?_0x4a8669[_0x445842(0x53c)]:_0x171c30[_0x445842(0x39f)][_0x171c30[_0x445842(0x113)]][_0x445842(0x61e)],_0x51ed9d=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x119a0d,window_options[_0x1cb199]&&window_options[_0x1cb199][_0x445842(0x471)]?window_options[_0x1cb199][_0x445842(0x471)]:_0x427171,window_options[_0x1cb199]&&window_options[_0x1cb199]['setDespacho']?window_options[_0x1cb199][_0x445842(0x374)]:_0x1f0466[_0x445842(0x39f)][_0x1f0466[_0x445842(0x113)]][_0x445842(0x61e)],window_options[_0x1cb199]&&window_options[_0x1cb199][_0x445842(0x1aa)]?window_options[_0x1cb199]['setTipoOperacionInvoice']:_0x856380[_0x445842(0x39f)][_0x856380['selectedIndex']]['value'],window_options[_0x1cb199]&&window_options[_0x1cb199]['setFechaHora']?window_options[_0x1cb199]['setFechaHora']:_0x51ed9d,window_options[_0x1cb199]&&window_options[_0x1cb199][_0x445842(0x617)]?window_options[_0x1cb199][_0x445842(0x617)]:_0x462c08,window_options[_0x1cb199]&&window_options[_0x1cb199]['setMoneda']?window_options[_0x1cb199]['setMoneda']:myCompany['setCurrencyDefault'],window_options[_0x1cb199]&&window_options[_0x1cb199]['setClienteTipoDoc']?window_options[_0x1cb199][_0x445842(0x313)]:_0x376e11[_0x445842(0x39f)][_0x376e11[_0x445842(0x113)]]['value'],window_options[_0x1cb199]&&window_options[_0x1cb199]['setAttachEdit']?window_options[_0x1cb199]['setAttachEdit']:_0x2c5e92[_0x445842(0x39f)][_0x2c5e92['selectedIndex']][_0x445842(0x61e)],_0x1cb199),await switchTab(_0x417c73);}async function loadAndSaveOptionsWindow(_0x20749a,_0x14f946,_0x140b19,_0x319f43,_0x5d4cc0,_0x5446af,_0x43ccb9,_0x692e2a,_0x3ecd11,_0x5adc75){const _0x33eeb4=_0x44881d,_0x3818bb=document[_0x33eeb4(0x1a8)](_0x33eeb4(0x28e)+_0x5adc75);_0x3818bb[_0x33eeb4(0x61e)]=_0x20749a,window_options[_0x5adc75][_0x33eeb4(0x5e2)]=_0x20749a;const _0x5385d4=document['getElementById'](_0x33eeb4(0x4ce)+_0x5adc75);_0x5385d4['value']=_0x14f946;const _0x1d59ed=document[_0x33eeb4(0x1a8)](_0x33eeb4(0x4ce)+_0x5adc75),_0x594083=_0x1d59ed['options'][_0x1d59ed[_0x33eeb4(0x113)]]['text'];window_options[_0x5adc75]['setSellerId']=_0x14f946,window_options[_0x5adc75]['setSellerName']=_0x594083;const _0x243fa6=document[_0x33eeb4(0x1a8)]('setDespacho-'+_0x5adc75);_0x243fa6[_0x33eeb4(0x61e)]=_0x140b19,window_options[_0x5adc75][_0x33eeb4(0x374)]=_0x140b19;const _0x273a26=document[_0x33eeb4(0x1a8)](_0x33eeb4(0x253)+_0x5adc75);_0x273a26[_0x33eeb4(0x61e)]=_0x319f43,window_options[_0x5adc75][_0x33eeb4(0x1aa)]=_0x319f43;const _0x104429=document['getElementById'](_0x33eeb4(0x1a0)+_0x5adc75);_0x104429[_0x33eeb4(0x61e)]=_0x5d4cc0,window_options[_0x5adc75][_0x33eeb4(0x5a6)]=_0x5d4cc0;const _0x2c7da5=document['getElementById'](_0x33eeb4(0x4a4)+_0x5adc75);_0x2c7da5[_0x33eeb4(0x61e)]=_0x5446af,window_options[_0x5adc75][_0x33eeb4(0x617)]=_0x5446af;const _0x191002=document['getElementById'](_0x33eeb4(0x393)+_0x5adc75);_0x191002[_0x33eeb4(0x61e)]=_0x43ccb9,window_options[_0x5adc75][_0x33eeb4(0x163)]=_0x43ccb9;const _0x6879f9=document[_0x33eeb4(0x1a8)]('setClienteTipoDoc-'+_0x5adc75);_0x6879f9[_0x33eeb4(0x61e)]=_0x692e2a,window_options[_0x5adc75]['setClienteTipoDoc']=_0x692e2a;const _0x240862=document['getElementById'](_0x33eeb4(0x4b8)+_0x5adc75);_0x240862[_0x33eeb4(0x61e)]=_0x3ecd11,window_options[_0x5adc75][_0x33eeb4(0x5f3)]=_0x3ecd11,await updateSerieOptions(_0x20749a,_0x5adc75);}async function updateSerieAndRenderCart(_0x3a5fc4,_0x310b05){const _0x243c99=_0x44881d;_0x3a5fc4==0x4&&(window_options[_0x310b05]['setClienteTipoDoc']=_0x243c99(0x31c)),await updateSerieOptions(_0x3a5fc4,_0x310b05),renderCart(_0x310b05),renderProducts();}async function updateSerieOptions(_0x287af0,_0x3960f1){return new Promise((_0x55ff8c,_0xa5f839)=>{const _0x10cb40=_0x1a69;window_options[_0x3960f1][_0x10cb40(0x5e2)]=_0x287af0;let _0x14ee10=document['getElementById']('setSerie-'+_0x3960f1);const _0x10e8a3=document[_0x10cb40(0x1a8)](_0x10cb40(0x172)+_0x3960f1),_0x1b7934=document[_0x10cb40(0x1a8)](_0x10cb40(0x24e)+_0x3960f1);if(!_0x14ee10||!_0x10e8a3||!_0x1b7934)return console[_0x10cb40(0x103)](_0x10cb40(0x25f)),_0xa5f839(_0x10cb40(0x25f));_0x10e8a3[_0x10cb40(0x61e)]='';let _0x46ffa1;if(setTipOpeOrders[_0x10cb40(0x484)](_0x3dfe64=>_0x3dfe64==_0x287af0)||setTipOpeSales[_0x10cb40(0x484)](_0x178f2f=>_0x178f2f==_0x287af0)||setTipOpeQuotation['some'](_0x3b2099=>_0x3b2099==_0x287af0))_0x46ffa1=document['createElement'](_0x10cb40(0x245)),_0x46ffa1['id']=_0x14ee10['id'],_0x46ffa1[_0x10cb40(0x61f)]=_0x10cb40(0x341),_0x1b7934[_0x10cb40(0x5b4)]=_0x10cb40(0xf8);else{if(setTipOpePurchases[_0x10cb40(0x484)](_0x5b6b66=>_0x5b6b66==_0x287af0))_0x46ffa1=document[_0x10cb40(0x291)](_0x10cb40(0x526)),_0x46ffa1[_0x10cb40(0xfa)]=_0x10cb40(0x2c5),_0x46ffa1[_0x10cb40(0x5b4)]='Serie:',_0x46ffa1['id']=_0x14ee10['id'],_0x46ffa1[_0x10cb40(0x61f)]=_0x10cb40(0x681),_0x1b7934[_0x10cb40(0x5b4)]=_0x10cb40(0xf1);else return console[_0x10cb40(0x103)](_0x10cb40(0x380)),_0xa5f839(_0x10cb40(0x380));}_0x14ee10['parentNode'][_0x10cb40(0x25e)](_0x46ffa1,_0x14ee10),_0x14ee10=document[_0x10cb40(0x1a8)](_0x10cb40(0x233)+_0x3960f1),_0x14ee10[_0x10cb40(0x276)](_0x10cb40(0x463),function(_0x59cf03){const _0x372436=_0x10cb40;updateCorrelativoOnSerieChange(_0x59cf03[_0x372436(0x278)][_0x372436(0x61e)],_0x3960f1);});setTipOpeExo['some'](_0x1ee723=>_0x1ee723==_0x287af0)?(document[_0x10cb40(0x1a8)]('div-totals-right-Subtotal-'+_0x3960f1)[_0x10cb40(0x14a)]['add'](_0x10cb40(0x5cd)),document[_0x10cb40(0x1a8)]('div-totals-right-TotalIgv-'+_0x3960f1)[_0x10cb40(0x14a)][_0x10cb40(0x529)](_0x10cb40(0x5cd)),document[_0x10cb40(0x1a8)](_0x10cb40(0x55d)+_0x3960f1)[_0x10cb40(0x14a)][_0x10cb40(0x529)](_0x10cb40(0x5cd))):(document[_0x10cb40(0x1a8)](_0x10cb40(0x2eb)+_0x3960f1)[_0x10cb40(0x14a)][_0x10cb40(0x1c7)](_0x10cb40(0x5cd)),document[_0x10cb40(0x1a8)](_0x10cb40(0x4ba)+_0x3960f1)[_0x10cb40(0x14a)][_0x10cb40(0x1c7)]('d-none'),document['getElementById'](_0x10cb40(0x55d)+_0x3960f1)[_0x10cb40(0x14a)][_0x10cb40(0x1c7)]('d-none'));changeLabelBtn(_0x3960f1,_0x287af0);if(setTipOpeOrders[_0x10cb40(0x484)](_0xe24c7a=>_0xe24c7a==_0x287af0)||setTipOpeSales[_0x10cb40(0x484)](_0x35cd69=>_0x35cd69==_0x287af0)||setTipOpeQuotation[_0x10cb40(0x484)](_0x3bcc62=>_0x3bcc62==_0x287af0)){const _0x194d54=document[_0x10cb40(0x1a8)](_0x10cb40(0x391))[_0x10cb40(0x61e)],_0x4fad43=getUserPermissionApiERP(0x5);let _0xfdde7e;if(_0x4fad43==0x1){const _0xbf1543=getLoggedUserSeries();_0xfdde7e=_0xbf1543[_0x10cb40(0x2c8)](_0x535a9f=>_0x535a9f[_0x10cb40(0x679)]==_0x287af0&&String(_0x535a9f[_0x10cb40(0x391)])==_0x194d54);}else _0xfdde7e=myCompany[_0x10cb40(0x1f1)]['filter'](_0x494aff=>_0x494aff[_0x10cb40(0x3e0)]==_0x287af0&&String(_0x494aff[_0x10cb40(0x3b9)])==_0x194d54);_0xfdde7e[_0x10cb40(0x570)](_0x216056=>{const _0x175045=_0x10cb40;_0x4fad43==0x1?_0x14ee10[_0x175045(0x613)](createElement(_0x175045(0x571),{'value':_0x216056[_0x175045(0x389)]},[_0x216056[_0x175045(0x389)]])):_0x14ee10[_0x175045(0x613)](createElement('option',{'value':_0x216056['setSerie']},[_0x216056['setSerie']]));});let _0x11fafe='';_0xfdde7e['length']&&(_0x4fad43==0x1?_0x11fafe=_0xfdde7e[0x0][_0x10cb40(0x389)]:_0x11fafe=_0xfdde7e[0x0][_0x10cb40(0x189)],_0x14ee10[_0x10cb40(0x61e)]=_0x11fafe),setTimeout(()=>{const _0x3e045a=_0x10cb40;updateCorrelativoOnSerieChange(_0x11fafe,_0x3960f1)[_0x3e045a(0x5df)](()=>_0x55ff8c())[_0x3e045a(0x35b)](_0x12b6f5=>_0xa5f839(_0x12b6f5));},0x0);}else window_options[_0x3960f1][_0x10cb40(0x189)]='',window_options[_0x3960f1][_0x10cb40(0x5c3)]='',setTimeout(()=>{const _0x520a42=_0x10cb40;saveWindowOptionsDB(_0x3960f1)[_0x520a42(0x5df)](()=>_0x55ff8c())[_0x520a42(0x35b)](_0x3ca9fb=>{const _0x13fcd9=_0x520a42;console[_0x13fcd9(0x103)](_0x13fcd9(0x622),_0x3ca9fb),_0xa5f839(_0x3ca9fb);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x161ea5,_0x981f3b){const _0x4fda1a=_0x44881d,_0x170b6d=document[_0x4fda1a(0x1a8)](_0x4fda1a(0x172)+_0x981f3b);if(!_0x170b6d)throw new Error(_0x4fda1a(0x665)+_0x981f3b);window_options[_0x981f3b][_0x4fda1a(0x189)]=_0x161ea5;const _0x6d96b1=window_options[_0x981f3b][_0x4fda1a(0x5e2)];window_options[_0x981f3b][_0x4fda1a(0x5c3)]='';if(setTipOpeOrders['some'](_0x4103b1=>_0x4103b1==_0x6d96b1)||setTipOpeSales['some'](_0x5be7a6=>_0x5be7a6==_0x6d96b1)||setTipOpeQuotation[_0x4fda1a(0x484)](_0x22a32d=>_0x22a32d==_0x6d96b1)){const _0x3d4f52=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x3d5472,_0x5a0529;if(_0x3d4f52==0x1){const _0x53ed2f=getLoggedUserSeries();_0x3d5472=_0x53ed2f[_0x4fda1a(0x552)](_0xcfd8be=>_0xcfd8be[_0x4fda1a(0x389)]==_0x161ea5),_0x5a0529=_0x3d5472?.[_0x4fda1a(0x330)]??0x1;}else _0x3d5472=myCompany[_0x4fda1a(0x1f1)][_0x4fda1a(0x552)](_0x229129=>_0x229129['setSerie']==_0x161ea5),_0x5a0529=_0x3d5472?.[_0x4fda1a(0x232)]??0x1;_0x170b6d[_0x4fda1a(0x61e)]=_0x5a0529,window_options[_0x981f3b][_0x4fda1a(0x5c3)]=_0x5a0529;}try{await saveWindowOptionsDB(_0x981f3b);}catch(_0x1e22f9){console[_0x4fda1a(0x103)]('Error\x20saving\x20window\x20options\x20DB',_0x1e22f9);throw _0x1e22f9;}}function updateActivePaymentOption(_0x32bf56,_0x438984){const _0xe12a8e=_0x44881d;document[_0xe12a8e(0x6ce)]('.payment-option-'+_0x32bf56)['forEach'](_0x403fd2=>_0x403fd2[_0xe12a8e(0x14a)][_0xe12a8e(0x1c7)]('active-payment')),document[_0xe12a8e(0x5cf)]('.'+_0x438984+_0xe12a8e(0x4fe)+_0x32bf56)?.[_0xe12a8e(0x14a)][_0xe12a8e(0x529)](_0xe12a8e(0x3b1));}function triggerChangeEventById(_0xbaf113){const _0x3e1a08=_0x44881d,_0x1439c7=document[_0x3e1a08(0x1a8)](_0xbaf113);if(!_0x1439c7){console['error'](_0x3e1a08(0x1bf)+_0xbaf113);return;}const _0x562e8d=new Event(_0x3e1a08(0x463),{'bubbles':!![],'cancelable':!![]});_0x1439c7[_0x3e1a08(0x17f)](_0x562e8d);}async function updateChangeMoneda(_0x99e396,_0x191102,_0x3fc5fa){await updateWindowOption(_0x99e396,_0x191102,_0x3fc5fa),renderCart(_0x99e396),renderProducts();}function getCurrencySymbol(_0x5279c7){const _0x58aa38=_0x44881d,_0x43193e=document[_0x58aa38(0x1a8)](_0x58aa38(0x393)+_0x5279c7)[_0x58aa38(0x61e)],_0x48d52c=myCompany[_0x58aa38(0x1a9)]['find'](_0x2b85e3=>_0x2b85e3['setMonedaCodigo']==_0x43193e);return _0x48d52c?_0x48d52c['setMonedaSimbol']:'';}function changeLabelBtn(_0x49e8f1,_0x3a0df2){const _0x5dc0cf=_0x44881d;let _0x21e136='';const _0x1f4b7f=document['getElementById']('float-left-'+_0x49e8f1);if(setTipOpeOrders['some'](_0x584f6b=>_0x584f6b==_0x3a0df2))_0x21e136=_0x5dc0cf(0x3fa);else{if(setTipOpeSales['some'](_0x45bc47=>_0x45bc47==_0x3a0df2))_0x21e136=_0x5dc0cf(0x11c);else{if(setTipOpePurchases[_0x5dc0cf(0x484)](_0x417496=>_0x417496==_0x3a0df2))_0x21e136=_0x5dc0cf(0x1ae);else setTipOpeQuotation[_0x5dc0cf(0x484)](_0x4e0be8=>_0x4e0be8==_0x3a0df2)&&(_0x21e136=_0x5dc0cf(0x693));}}_0x1f4b7f['innerHTML']=_0x21e136;}function setDivTotalPay(_0x2ccba6){const _0x4adf24=_0x44881d,_0x415fda=document[_0x4adf24(0x1a8)]('div-total-pay-'+_0x2ccba6);_0x415fda[_0x4adf24(0x328)]='';const _0xf44e7f=document[_0x4adf24(0x1a8)]('float-right-'+_0x2ccba6)['textContent'],_0x2d11be=createElement('label',{'class':'custom-label-cart-options','style':_0x4adf24(0x191),'innerHTML':'Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>'+_0xf44e7f+_0x4adf24(0x58f)}),_0x18800f=createElement('div',{'class':_0x4adf24(0x4dc)},[_0x2d11be]);_0x415fda[_0x4adf24(0x613)](_0x18800f);}function handlePaymentMethodChange(_0xdaf125,_0x135ddc){const _0x386f25=_0x44881d,_0x14c6c9=document[_0x386f25(0x1a8)](_0x386f25(0x6b7)+_0x135ddc);_0x14c6c9[_0x386f25(0x328)]='';const _0x217c58=_0xdaf125['target']['value'];!medio_pago[_0x135ddc]&&(medio_pago[_0x135ddc]={});if(_0x217c58==_0x386f25(0x326))_0x14c6c9[_0x386f25(0x613)](createContadoForm(_0x135ddc)),medio_pago[_0x135ddc]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x217c58==_0x386f25(0x2df))_0x14c6c9[_0x386f25(0x613)](createCreditoForm(_0x135ddc)),medio_pago[_0x135ddc]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x217c58==_0x386f25(0x270)&&(_0x14c6c9[_0x386f25(0x613)](createMixtoForm(_0x135ddc)),medio_pago[_0x135ddc]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x371a14=createElement(_0x386f25(0x5ef),{'id':_0x386f25(0x5d7)+_0x135ddc},[]);_0x14c6c9[_0x386f25(0x613)](_0x371a14);const _0x5871cb=createElement(_0x386f25(0x69a),{'id':_0x386f25(0x501)+_0x135ddc,'class':_0x386f25(0x2d1),'type':_0x386f25(0x69a),'events':{'click':()=>saveOperation(_0x135ddc)}},[_0x386f25(0x22c)]);_0x14c6c9[_0x386f25(0x613)](_0x5871cb);}function createContadoForm(_0x2f4952){const _0x4eeeed=_0x44881d,_0x2183c6=createElement(_0x4eeeed(0x5ef),{},[]),_0x4a9eb0=getTotalFromFloatRight(_0x2f4952),_0x2edbfd=myCompany['setPayments'],_0x7d85c7={},_0x195162={};_0x2edbfd[_0x4eeeed(0x570)]((_0x12e135,_0x4f4e73)=>{const _0x387fe0=_0x4eeeed,_0x238072=_0x387fe0(0x1be)+_0x12e135[_0x387fe0(0x51f)]+'-'+_0x2f4952+'-'+_0x4f4e73,_0x3dbcc9=createElement(_0x387fe0(0x5ef),{'class':'div-width-10\x20div_margen'},[]),_0x3c6212=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x4ff)},[]),_0x374edc=createElement(_0x387fe0(0x187),{'for':_0x238072,'class':'custom-label-cart-options\x20div-width-25'},['\x20'+_0x12e135[_0x387fe0(0x441)]+':']),_0x184652=createElement(_0x387fe0(0x526),{'type':_0x387fe0(0x589),'id':_0x238072,'placeholder':_0x387fe0(0x20b),'class':_0x387fe0(0x39b),'value':_0x12e135['setPaymentCode']==_0x387fe0(0x372)||_0x12e135[_0x387fe0(0x51f)]==_0x387fe0(0x590)?_0x4a9eb0:'','events':{'input':_0x1b89df=>handleContadoInput(_0x1b89df,_0x2f4952)}});_0x184652[_0x387fe0(0x38a)][_0x387fe0(0x3c4)]=_0x12e135[_0x387fe0(0x51f)];const _0x477177=createElement(_0x387fe0(0x245),{'class':_0x387fe0(0x478),'events':{'change':_0x3c8b3a=>handleContadoInput(_0x3c8b3a,_0x2f4952)}},[]),_0x41af7f=myCompany['setBankAccounts'],_0x3b91e8=_0x41af7f['filter'](_0x2f9a71=>_0x12e135['setPaymentCode']=='efectivo'||_0x12e135[_0x387fe0(0x51f)]==_0x387fe0(0x590)?setBankTypeCashRegister[_0x387fe0(0x484)](_0x19c187=>_0x19c187==_0x2f9a71[_0x387fe0(0x566)]):!setBankTypeCashRegister[_0x387fe0(0x484)](_0x2ac4b5=>_0x2ac4b5==_0x2f9a71['setBankType']));_0x3b91e8[_0x387fe0(0x570)](_0x5edb43=>{const _0x4fc712=_0x387fe0,_0x36c383=createElement(_0x4fc712(0x571),{'value':_0x5edb43[_0x4fc712(0x49f)]},[_0x5edb43[_0x4fc712(0x56d)]]);_0x477177['appendChild'](_0x36c383);}),_0x477177[_0x387fe0(0x38a)][_0x387fe0(0x3c4)]=_0x12e135[_0x387fe0(0x51f)];let _0x17cd44=null;_0x12e135['setPaymentCode']==_0x387fe0(0x372)||_0x12e135[_0x387fe0(0x51f)]==_0x387fe0(0x590)?_0x17cd44=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x1e8)},[]):_0x17cd44=createElement(_0x387fe0(0x526),{'type':'text','placeholder':_0x387fe0(0x126),'class':_0x387fe0(0x67e),'events':{'input':_0xca7de4=>handleContadoInput(_0xca7de4,_0x2f4952)}});_0x17cd44['dataset'][_0x387fe0(0x3c4)]=_0x12e135[_0x387fe0(0x51f)];let _0x5d5ccf=null,_0x40bc09=null,_0x4f378c=createElement('div',{'class':_0x387fe0(0x109)},[]),_0x155b05=createElement(_0x387fe0(0x5ef),{'class':'div-width-15'},[]);_0x12e135['isCommission']=='1'?(_0x5d5ccf=createElement(_0x387fe0(0x526),{'type':'number','placeholder':_0x387fe0(0x440),'class':_0x387fe0(0x541)}),_0x5d5ccf[_0x387fe0(0x38a)][_0x387fe0(0x3c4)]=_0x12e135['setPaymentCode'],_0x40bc09=createElement(_0x387fe0(0x526),{'type':'number','placeholder':'Total\x20Comisión','class':_0x387fe0(0x496),'readonly':!![]}),_0x40bc09['dataset'][_0x387fe0(0x3c4)]=_0x12e135[_0x387fe0(0x51f)],_0x5d5ccf[_0x387fe0(0x276)](_0x387fe0(0x526),_0x490359=>{const _0x4db91a=_0x387fe0,_0x343c24=parseFloat(_0x5d5ccf[_0x4db91a(0x61e)])||0x0,_0x49211e=parseFloat(_0x184652[_0x4db91a(0x61e)])||0x0;_0x40bc09[_0x4db91a(0x61e)]=(_0x343c24/0x64*_0x49211e)['toFixed'](0x2),handleContadoInput(_0x490359,_0x2f4952);})):(_0x5d5ccf=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x109)},[]),_0x40bc09=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x1e8)},[]));let _0x1adadb='';_0x12e135['setPaymentCode']=='efectivo'||_0x12e135[_0x387fe0(0x51f)]==_0x387fe0(0x590)?_0x1adadb='':_0x1adadb=_0x387fe0(0x5cd);const _0x5f08aa=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x20d)+_0x1adadb},[_0x3dbcc9,_0x374edc,_0x184652,_0x477177,_0x17cd44,_0x3c6212]);_0x2183c6['appendChild'](_0x5f08aa),_0x7d85c7[_0x12e135[_0x387fe0(0x51f)]]=_0x5f08aa;if(_0x12e135[_0x387fe0(0x42d)]=='1'){const _0x54a389=createElement('div',{'class':_0x387fe0(0x4ff)},[]),_0x4f9f87=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x4ff)},[]),_0x182ad4=createElement(_0x387fe0(0x5ef),{'class':_0x387fe0(0x20d)+_0x1adadb},[_0x54a389,_0x4f378c,_0x5d5ccf,_0x40bc09,_0x155b05,_0x4f9f87]);_0x2183c6[_0x387fe0(0x613)](_0x182ad4),_0x195162[_0x12e135['setPaymentCode']]=_0x182ad4;}(_0x12e135[_0x387fe0(0x51f)]==_0x387fe0(0x372)||_0x12e135['setPaymentCode']=='cash')&&setTimeout(()=>{const _0x8679fe=_0x387fe0;_0x184652[_0x8679fe(0x17f)](new Event(_0x8679fe(0x526),{'bubbles':!![]}));});});const _0x10cac0=createElement(_0x4eeeed(0x5ef),{'class':'div-width-10\x20div_margen'},[]),_0x40d1cc=createElement(_0x4eeeed(0x245),{'class':'custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','events':{'change':_0x333f1e=>{const _0x570d4b=_0x4eeeed,_0x56af6f=_0x333f1e[_0x570d4b(0x278)][_0x570d4b(0x61e)];if(_0x56af6f){const _0x519553=getTotalFromFloatRight(_0x2f4952);Object['entries'](_0x7d85c7)['forEach'](([_0xe6f701,_0x438611])=>{const _0x13e08d=_0x570d4b,_0x5735ba=_0x438611[_0x13e08d(0x5cf)](_0x13e08d(0x24a)),_0xcbc0cd=_0x195162[_0xe6f701];if(_0xe6f701===_0x56af6f){_0x438611[_0x13e08d(0x14a)][_0x13e08d(0x1c7)](_0x13e08d(0x5cd));if(_0xcbc0cd)_0xcbc0cd[_0x13e08d(0x14a)][_0x13e08d(0x1c7)](_0x13e08d(0x5cd));_0x5735ba[_0x13e08d(0x61e)]=_0x519553['toFixed'](0x2),_0x5735ba['dispatchEvent'](new Event(_0x13e08d(0x526),{'bubbles':!![]})),_0x5735ba[_0x13e08d(0x5b8)]();}else{_0x5735ba&&(_0x5735ba[_0x13e08d(0x61e)]='',_0x5735ba[_0x13e08d(0x17f)](new Event(_0x13e08d(0x526),{'bubbles':!![]})));if(_0xcbc0cd){const _0x2a6923=_0xcbc0cd['querySelector'](_0x13e08d(0x160)),_0x2ac8fe=_0xcbc0cd[_0x13e08d(0x5cf)]('.input-array-totalcomision');if(_0x2a6923)_0x2a6923[_0x13e08d(0x61e)]='';if(_0x2ac8fe)_0x2ac8fe[_0x13e08d(0x61e)]='';}}});}_0x333f1e[_0x570d4b(0x278)][_0x570d4b(0x61e)]='';}}},[]),_0x5c48fb=createElement(_0x4eeeed(0x571),{'value':''},[_0x4eeeed(0x61c)]);_0x40d1cc['appendChild'](_0x5c48fb),_0x2edbfd[_0x4eeeed(0x570)](_0x3e3efe=>{const _0x40de43=_0x4eeeed;if(!(_0x3e3efe[_0x40de43(0x51f)]==_0x40de43(0x372)||_0x3e3efe[_0x40de43(0x51f)]==_0x40de43(0x590))){const _0xbfa0a3=createElement(_0x40de43(0x571),{'value':_0x3e3efe[_0x40de43(0x51f)]},[_0x3e3efe[_0x40de43(0x441)]]);_0x40d1cc[_0x40de43(0x613)](_0xbfa0a3);}});const _0x4253d7=createElement(_0x4eeeed(0x5ef),{'class':_0x4eeeed(0x4dc)},[_0x10cac0,_0x40d1cc]);return _0x2183c6[_0x4eeeed(0x613)](_0x4253d7),_0x2183c6;}function handleContadoInput(_0x2839bc,_0x2df45e){const _0x23726e=_0x44881d,_0x2bcc05=getTotalFromFloatRight(_0x2df45e),_0xb5a348=Array[_0x23726e(0x2af)](document[_0x23726e(0x6ce)](_0x23726e(0x5de)+_0x2df45e+_0x23726e(0x48a))),_0x3c0b10=_0xb5a348[_0x23726e(0x370)]((_0x2745c2,_0x18b5bf)=>_0x2745c2+parseFloat(_0x18b5bf['value']||0x0),0x0),_0x77b537={};_0xb5a348[_0x23726e(0x570)](_0xf5fc3d=>{const _0x205ea0=_0x23726e,_0x3aef94=_0xf5fc3d[_0x205ea0(0x38a)][_0x205ea0(0x3c4)][_0x205ea0(0x5b0)]();_0x77b537[_0x3aef94]=parseFloat(_0xf5fc3d[_0x205ea0(0x61e)])||0x0;});const _0x16730b={..._0x77b537};if(_0x3c0b10>_0x2bcc05){const _0x24227d=_0x3c0b10-_0x2bcc05,_0x282c44=_0xb5a348['find'](_0x23004c=>['efectivo',_0x23726e(0x590)][_0x23726e(0x29b)](_0x23004c[_0x23726e(0x38a)][_0x23726e(0x3c4)][_0x23726e(0x5b0)]()));if(_0x282c44){const _0xe29c9e=_0x282c44[_0x23726e(0x38a)][_0x23726e(0x3c4)]['toLowerCase']();_0x16730b[_0xe29c9e]=Math['max'](0x0,_0x16730b[_0xe29c9e]-_0x24227d);}else{const _0xccd3a4=Object['keys'](_0x16730b)[0x0];_0x16730b[_0xccd3a4]=Math[_0x23726e(0x1f8)](0x0,_0x16730b[_0xccd3a4]-_0x24227d);}}if(medio_pago[_0x2df45e]['mixto'][_0x23726e(0x4d9)]&&_0x3c0b10>=_0x2bcc05){_0x2839bc['target'][_0x23726e(0x61e)]='',_0x2839bc[_0x23726e(0x278)][_0x23726e(0x17f)](new Event('input',{'bubbles':!![]}));return;}const _0x159ae8=_0x2bcc05-_0x3c0b10,_0x10ba2f=Math[_0x23726e(0x4c8)](Math[_0x23726e(0x4e1)](_0x159ae8,0x0)),_0x2add8b=Math['max'](_0x159ae8,0x0),_0x27d849={'total':_0x2bcc05,'debe':_0x2add8b,'vuelto':_0x10ba2f};_0xb5a348[_0x23726e(0x570)](_0x40de2c=>{const _0x48b11d=_0x23726e,_0xdf52f6=_0x40de2c['dataset']['method'][_0x48b11d(0x5b0)](),_0x46ad45=_0x77b537[_0xdf52f6],_0x5627fe=_0x16730b[_0xdf52f6];_0x27d849[_0xdf52f6]={'monto_calc':_0x46ad45,'monto':_0x5627fe};});const _0x4938c8=Array[_0x23726e(0x2af)](document['querySelectorAll'](_0x23726e(0x5de)+_0x2df45e+_0x23726e(0x331)));_0x4938c8[_0x23726e(0x570)](_0x838335=>{const _0x5c214e=_0x23726e,_0x3c170a=_0x838335['dataset'][_0x5c214e(0x3c4)]['toLowerCase']();if(!_0x27d849[_0x3c170a])_0x27d849[_0x3c170a]={};_0x27d849[_0x3c170a][_0x5c214e(0x5e6)]=_0x838335['value'];});const _0x3042c1=Array[_0x23726e(0x2af)](document[_0x23726e(0x6ce)]('#pay-container-'+_0x2df45e+'\x20input.input-array-operacion'));_0x3042c1['forEach'](_0x118709=>{const _0x490f33=_0x23726e,_0x23d893=_0x118709[_0x490f33(0x38a)][_0x490f33(0x3c4)][_0x490f33(0x5b0)]();if(!_0x27d849[_0x23d893])_0x27d849[_0x23d893]={};_0x27d849[_0x23d893][_0x490f33(0x425)]=_0x118709[_0x490f33(0x61e)];});const _0x40a2cc=Array[_0x23726e(0x2af)](document['querySelectorAll'](_0x23726e(0x5de)+_0x2df45e+_0x23726e(0x34d)));_0x40a2cc[_0x23726e(0x570)](_0x5f188b=>{const _0x31384f=_0x23726e,_0x3d65a1=_0x5f188b[_0x31384f(0x38a)][_0x31384f(0x3c4)]['toLowerCase']();if(!_0x27d849[_0x3d65a1])_0x27d849[_0x3d65a1]={};_0x27d849[_0x3d65a1][_0x31384f(0x311)]=parseFloat(_0x5f188b[_0x31384f(0x61e)]||0x0);});const _0x11a041=Array[_0x23726e(0x2af)](document[_0x23726e(0x6ce)](_0x23726e(0x5de)+_0x2df45e+_0x23726e(0x2b2)));_0x11a041[_0x23726e(0x570)](_0x361ecf=>{const _0xf61e61=_0x23726e,_0x35f8eb=_0x361ecf[_0xf61e61(0x38a)][_0xf61e61(0x3c4)][_0xf61e61(0x5b0)]();if(!_0x27d849[_0x35f8eb])_0x27d849[_0x35f8eb]={};_0x27d849[_0x35f8eb][_0xf61e61(0x55e)]=parseFloat(_0x361ecf[_0xf61e61(0x61e)]||0x0);}),medio_pago[_0x2df45e][_0x23726e(0x326)][_0x23726e(0x62e)]=_0x27d849;const _0x37009b=getCurrencySymbol(_0x2df45e);let _0x2e67c8=document[_0x23726e(0x1a8)]('status-label-'+_0x2df45e);if(!_0x2e67c8){_0x2e67c8=createElement(_0x23726e(0x5ef),{'id':_0x23726e(0x6c8)+_0x2df45e,'class':'label-debe-vuelto'});const _0x273096=document[_0x23726e(0x1a8)](_0x23726e(0x5d7)+_0x2df45e);_0x273096[_0x23726e(0x613)](_0x2e67c8);}_0x2e67c8[_0x23726e(0x328)]=_0x159ae8>0x0?_0x23726e(0x5d2)+_0x37009b+'\x20'+_0x2add8b[_0x23726e(0x4cc)](0x2)+_0x23726e(0x58f):'Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>'+_0x37009b+'\x20'+_0x10ba2f[_0x23726e(0x4cc)](0x2)+_0x23726e(0x58f),_0x2e67c8['style'][_0x23726e(0x322)]=_0x23726e(0x2ee),console[_0x23726e(0x37b)](_0x23726e(0x4bc)+_0x2df45e+'\x20actualizado:',medio_pago[_0x2df45e]);}function createCreditoForm(_0xe768cb){const _0x3669cc=_0x44881d,_0x2711e3=createElement(_0x3669cc(0x5ef),{},[]),_0xf64306=createElement('i',{'class':_0x3669cc(0x3f7)}),_0x43cbf1=createElement(_0x3669cc(0x187),{'for':_0x3669cc(0x60f)+_0xe768cb,'class':'custom-label-cart-options\x20div-width-25'},[_0xf64306,_0x3669cc(0x45d)]),_0x2e4c62=createElement('select',{'id':_0x3669cc(0x60f)+_0xe768cb,'class':_0x3669cc(0x1f5),'events':{'change':_0x593029=>handleCuotasChange(_0x593029,_0xe768cb)}},[createElement(_0x3669cc(0x571),{'value':'','disabled':!![],'selected':!![]},[_0x3669cc(0x452)]),...Array[_0x3669cc(0x2af)]({'length':0x18},(_0xbfccc,_0x5464bb)=>createElement(_0x3669cc(0x571),{'value':_0x5464bb+0x1},[_0x5464bb+0x1+_0x3669cc(0x16c)+(_0x5464bb>0x0?'s':'')]))]),_0x373986=createElement(_0x3669cc(0x5ef),{'class':_0x3669cc(0x4ff)}),_0x30e454=createElement(_0x3669cc(0x5ef),{'class':'div-width-15\x20div_margen'}),_0x176c3e=createElement(_0x3669cc(0x5ef),{'class':_0x3669cc(0x4dc)},[_0x373986,_0x43cbf1,_0x2e4c62,_0x30e454]);_0x2711e3[_0x3669cc(0x613)](_0x176c3e);const _0x3fa982=createElement(_0x3669cc(0x5ef),{'id':'cuotas-container-'+_0xe768cb});return _0x2711e3[_0x3669cc(0x613)](_0x3fa982),_0x2711e3;}function handleCuotasChange(_0x28724a,_0x3cefb0){const _0x549729=_0x44881d,_0x42c91a=document[_0x549729(0x1a8)](_0x549729(0x468)+_0x3cefb0);_0x42c91a[_0x549729(0x328)]='';const _0x105c6f=parseInt(_0x28724a[_0x549729(0x278)][_0x549729(0x61e)],0xa);medio_pago[_0x3cefb0][_0x549729(0x2df)]['data']=[];const _0x36e535=parseFloat(getTotalFromFloatRight(_0x3cefb0));let _0x57e0b4=_0x36e535;if(medio_pago[_0x3cefb0]['mixto'][_0x549729(0x4d9)]){const _0x2f45f6=Array[_0x549729(0x2af)](document[_0x549729(0x6ce)](_0x549729(0x5de)+_0x3cefb0+_0x549729(0x48a))),_0x34e733=_0x2f45f6['reduce']((_0x41ea7d,_0x388821)=>_0x41ea7d+parseFloat(_0x388821[_0x549729(0x61e)]||0x0),0x0);if(_0x34e733>=_0x36e535){_0x28724a[_0x549729(0x278)][_0x549729(0x61e)]='',_0x28724a['target'][_0x549729(0x17f)](new Event('input',{'bubbles':!![]}));return;}_0x57e0b4=Math[_0x549729(0x1f8)](_0x36e535-_0x34e733,0x0);}let _0x31fce4=Array(_0x105c6f)[_0x549729(0x145)]()['map']((_0xa3f836,_0x3f02b6)=>({'cuota':_0x3f02b6+0x1,'monto':parseFloat((_0x57e0b4/_0x105c6f)[_0x549729(0x4cc)](0x2)),'fechaVencimiento':'','editado':![]}));function _0x204ff8(){const _0x201ac6=_0x549729;let _0x3bde40=_0x31fce4[_0x201ac6(0x370)]((_0x119af1,_0x65a5e4)=>_0x119af1+_0x65a5e4[_0x201ac6(0x4fa)],0x0),_0x1f4378=_0x57e0b4-_0x3bde40,_0x55d779=_0x31fce4[_0x201ac6(0x2c8)](_0x39689=>!_0x39689[_0x201ac6(0x1b6)]);if(_0x55d779[_0x201ac6(0x506)]==0x0)return;let _0x4a26c9=parseFloat((_0x1f4378/_0x55d779[_0x201ac6(0x506)])[_0x201ac6(0x4cc)](0x2)),_0x5dedac=_0x1f4378-_0x4a26c9*_0x55d779[_0x201ac6(0x506)];_0x55d779[_0x201ac6(0x570)]((_0x3d7e32,_0x4eedcb)=>{const _0x4a46ee=_0x201ac6;_0x3d7e32[_0x4a46ee(0x4fa)]+=_0x4a26c9,_0x4eedcb==_0x55d779[_0x4a46ee(0x506)]-0x1&&(_0x3d7e32[_0x4a46ee(0x4fa)]+=_0x5dedac);}),_0xd13e6e(),medio_pago[_0x3cefb0][_0x201ac6(0x2df)][_0x201ac6(0x62e)]=_0x31fce4[_0x201ac6(0x6c4)](({cuota:_0x4ea66f,monto:_0x2aa853,fechaVencimiento:_0xdef16a})=>({'cuota':_0x4ea66f,'monto':_0x2aa853,'fechaVencimiento':_0xdef16a}));}function _0xd13e6e(){const _0x34b173=_0x549729,_0x12cfb8=_0x42c91a['querySelectorAll'](_0x34b173(0x43d));_0x12cfb8[_0x34b173(0x570)]((_0x3ab32d,_0x3f7513)=>{const _0x1cdb3d=_0x34b173;_0x3ab32d[_0x1cdb3d(0x61e)]=_0x31fce4[_0x3f7513][_0x1cdb3d(0x4fa)][_0x1cdb3d(0x4cc)](0x2);});}function _0x47aa86(_0x44a87a,_0x51b0ce,_0x4bcb42){const _0x1924c2=_0x549729;if(_0x4bcb42==_0x1924c2(0x4fa)){let _0x59813d=parseFloat(_0x51b0ce)||0x0,_0x386ab3=_0x31fce4[_0x1924c2(0x370)]((_0x3ce5d2,_0x5622d9,_0x3063b4)=>{const _0x240519=_0x1924c2;if(_0x3063b4!==_0x44a87a-0x1&&_0x5622d9[_0x240519(0x1b6)])return _0x3ce5d2+_0x5622d9[_0x240519(0x4fa)];return _0x3ce5d2;},0x0);const _0x14c831=parseFloat((_0x57e0b4-_0x386ab3)[_0x1924c2(0x4cc)](0x2));let _0x18a9d8=_0x31fce4[_0x1924c2(0x2c8)]((_0x39de9b,_0x1033f2)=>!_0x39de9b['editado']&&_0x1033f2!==_0x44a87a-0x1)[_0x1924c2(0x506)];if(_0x18a9d8==0x0&&_0x59813d!==_0x14c831)ntfShow(_0x1924c2(0x2cf)+_0x14c831+_0x1924c2(0x2ad)),_0x59813d=_0x14c831;else _0x59813d>_0x14c831&&(ntfShow(_0x1924c2(0x4cf)+_0x14c831+'.'),_0x59813d=_0x14c831);_0x31fce4[_0x44a87a-0x1][_0x1924c2(0x4fa)]=_0x59813d,_0x31fce4[_0x44a87a-0x1][_0x1924c2(0x1b6)]=!![];const _0x16c22b=_0x42c91a[_0x1924c2(0x6ce)](_0x1924c2(0x43d));_0x16c22b[_0x44a87a-0x1]&&(_0x16c22b[_0x44a87a-0x1][_0x1924c2(0x61e)]=_0x59813d[_0x1924c2(0x4cc)](0x2)),_0x204ff8();}else _0x4bcb42==_0x1924c2(0x2cd)&&(_0x31fce4[_0x44a87a-0x1][_0x1924c2(0x698)]=_0x51b0ce);medio_pago[_0x3cefb0]['credito'][_0x1924c2(0x62e)]=_0x31fce4[_0x1924c2(0x6c4)](({cuota:_0x3a8d39,monto:_0x394af0,fechaVencimiento:_0x59d09e})=>({'cuota':_0x3a8d39,'monto':_0x394af0,'fechaVencimiento':_0x59d09e}));}for(let _0x5a6774=0x1;_0x5a6774<=_0x105c6f;_0x5a6774++){const _0x2a5561=createElement(_0x549729(0x5ef),{'class':_0x549729(0x4ff)}),_0x55685b=createElement('label',{'class':'custom-label-cart-options\x20div-width-25','style':_0x549729(0x2f0)},[_0x549729(0x3f3)+_0x5a6774+':\x20']),_0x525480=createElement(_0x549729(0x526),{'type':_0x549729(0x1e1),'class':_0x549729(0x51c),'events':{'change':_0x136d38=>_0x47aa86(_0x5a6774,_0x136d38[_0x549729(0x278)][_0x549729(0x61e)],'fecha')}}),_0x55716b=createElement(_0x549729(0x526),{'type':'number','class':'custom-input-cart-options\x20form-control\x20div-width-25','placeholder':'Monto','value':_0x31fce4[_0x5a6774-0x1][_0x549729(0x4fa)],'events':{'change':_0x4f7634=>_0x47aa86(_0x5a6774,_0x4f7634[_0x549729(0x278)][_0x549729(0x61e)],_0x549729(0x4fa))}}),_0x4f9d28=createElement('div',{'class':'div-width-15\x20div_margen'}),_0x4385f4=createElement(_0x549729(0x5ef),{'class':_0x549729(0x4dc)},[_0x2a5561,_0x55685b,_0x525480,_0x55716b,_0x4f9d28]);_0x42c91a[_0x549729(0x613)](_0x4385f4);}}function updateMedioPagoCredito(_0x1090e5,_0x59f025,_0x168404,_0x4aa6b7,_0x273fab){const _0x1ce2da=_0x44881d;!medio_pago[_0x4aa6b7]['credito'][_0x1ce2da(0x62e)][_0x59f025-0x1]&&(medio_pago[_0x4aa6b7][_0x1ce2da(0x2df)]['data'][_0x59f025-0x1]={'cuota':_0x59f025});if(_0x273fab==_0x1ce2da(0x2cd))medio_pago[_0x4aa6b7]['credito'][_0x1ce2da(0x62e)][_0x59f025-0x1][_0x1ce2da(0x698)]=_0x168404;else _0x273fab=='monto'&&(medio_pago[_0x4aa6b7][_0x1ce2da(0x2df)][_0x1ce2da(0x62e)][_0x59f025-0x1][_0x1ce2da(0x4fa)]=_0x168404);console[_0x1ce2da(0x37b)](_0x1ce2da(0x579),medio_pago[_0x4aa6b7]);}function createMixtoForm(_0x358ba6){const _0x3ae4f9=_0x44881d,_0x19de4f=createElement(_0x3ae4f9(0x5ef),{},[]),_0x2f0cd9=createContadoForm(_0x358ba6);_0x19de4f['appendChild'](_0x2f0cd9);const _0x34e358=createCreditoForm(_0x358ba6);_0x19de4f['appendChild'](_0x34e358);let _0x149dd7=document[_0x3ae4f9(0x1a8)](_0x3ae4f9(0x6c8)+_0x358ba6);return!_0x149dd7&&(_0x149dd7=createElement(_0x3ae4f9(0x5ef),{'id':_0x3ae4f9(0x6c8)+_0x358ba6,'class':_0x3ae4f9(0x1df)}),_0x19de4f[_0x3ae4f9(0x613)](_0x149dd7)),_0x19de4f;}function getTotalFromFloatRight(_0x1a4b62){const _0x27d378=_0x44881d,_0x5bbc27=document[_0x27d378(0x1a8)]('float-right-'+_0x1a4b62)['textContent'];return parseFloat(_0x5bbc27['replace'](/[S/$]/g,'')['trim']());}function toggleTaxFields(_0x1ad0f4,_0x4765cf,_0xe18008){const _0x3c96b6=_0x44881d,_0x312923=_0x1ad0f4[_0x3c96b6(0x278)][_0x3c96b6(0x16a)];if(_0x4765cf==_0x3c96b6(0x15c)){const _0xa66267=document['getElementById'](_0x3c96b6(0x2c7)+_0xe18008);_0x312923?(_0xa66267['classList'][_0x3c96b6(0x1c7)]('hidden'),window_options[_0xe18008]['setDetraccion']='1'):(_0xa66267[_0x3c96b6(0x14a)][_0x3c96b6(0x529)](_0x3c96b6(0x32e)),_0xa66267[_0x3c96b6(0x61e)]='0',window_options[_0xe18008][_0x3c96b6(0x34c)]='0',window_options[_0xe18008][_0x3c96b6(0x2b7)]='',window_options[_0xe18008][_0x3c96b6(0x11b)]='0',window_options[_0xe18008][_0x3c96b6(0x49c)]='0');}const _0x5c9c7f=document['getElementById'](_0x4765cf['toLowerCase']()+'Pct-'+_0xe18008),_0xea97ee=document['getElementById'](_0x4765cf[_0x3c96b6(0x5b0)]()+'Total-'+_0xe18008);_0x5c9c7f&&_0xea97ee&&(_0x312923?(_0x4765cf==_0x3c96b6(0x644)&&(window_options[_0xe18008]['setRetencion']='1'),_0x4765cf==_0x3c96b6(0x23d)&&(window_options[_0xe18008]['setPercepcion']='1'),_0x5c9c7f['classList'][_0x3c96b6(0x1c7)](_0x3c96b6(0x32e)),_0xea97ee[_0x3c96b6(0x14a)][_0x3c96b6(0x1c7)](_0x3c96b6(0x32e)),calculateTax(_0x4765cf,_0xe18008)):(_0x4765cf==_0x3c96b6(0x644)&&(window_options[_0xe18008][_0x3c96b6(0x196)]='0',window_options[_0xe18008]['setRetencionPorcentaje']='0',window_options[_0xe18008][_0x3c96b6(0x157)]='0'),_0x4765cf==_0x3c96b6(0x23d)&&(window_options[_0xe18008]['setPercepcion']='0',window_options[_0xe18008][_0x3c96b6(0x664)]='0',window_options[_0xe18008]['setPercepcionTotal']='0'),saveWindowOptionsDB(_0xe18008),_0x5c9c7f['classList'][_0x3c96b6(0x529)](_0x3c96b6(0x32e)),_0xea97ee['classList'][_0x3c96b6(0x529)](_0x3c96b6(0x32e)),_0x5c9c7f[_0x3c96b6(0x61e)]=_0x4765cf==_0x3c96b6(0x644)?'3':_0x4765cf==_0x3c96b6(0x23d)?'2':'',_0xea97ee[_0x3c96b6(0x61e)]=''));}function calculateTax(_0x2f698c,_0xf61637){const _0x4f2840=_0x44881d,_0x4e9e92=parseFloat(getTotalFromFloatRight(_0xf61637))||0x0,_0x3de7fd=document[_0x4f2840(0x1a8)](_0x2f698c[_0x4f2840(0x5b0)]()+_0x4f2840(0x335)+_0xf61637),_0x22482c=document[_0x4f2840(0x1a8)](_0x2f698c[_0x4f2840(0x5b0)]()+'Total-'+_0xf61637);if(_0x3de7fd&&_0x22482c){const _0x368325=parseFloat(_0x3de7fd[_0x4f2840(0x61e)])||0x0,_0x565d50=_0x4e9e92*(_0x368325/0x64);_0x22482c[_0x4f2840(0x61e)]=_0x565d50[_0x4f2840(0x4cc)](0x2),_0x2f698c==_0x4f2840(0x15c)&&(window_options[_0xf61637][_0x4f2840(0x11b)]=_0x368325,window_options[_0xf61637][_0x4f2840(0x49c)]=_0x565d50[_0x4f2840(0x4cc)](0x2)),_0x2f698c==_0x4f2840(0x644)&&(window_options[_0xf61637]['setRetencionPorcentaje']=_0x368325,window_options[_0xf61637][_0x4f2840(0x157)]=_0x565d50[_0x4f2840(0x4cc)](0x2)),_0x2f698c=='Percepcion'&&(window_options[_0xf61637][_0x4f2840(0x664)]=_0x368325,window_options[_0xf61637][_0x4f2840(0x3b2)]=_0x565d50[_0x4f2840(0x4cc)](0x2)),saveWindowOptionsDB(_0xf61637);}}function setupConsulta(_0x158743){const _0xcbee32=_0x44881d,_0x4372f8=document[_0xcbee32(0x1a8)]('btnConsultar-'+_0x158743),_0x36d413=document[_0xcbee32(0x1a8)](_0xcbee32(0x50e)+_0x158743),_0x9e6d20=document[_0xcbee32(0x1a8)]('setClienteNumDoc-'+_0x158743),_0xe3318b=document['getElementById'](_0xcbee32(0x24e)+_0x158743),_0x4db0ae=document['getElementById']('setClienteDireccion-'+_0x158743);if(!_0x4372f8||!_0x36d413||!_0x9e6d20||!_0xe3318b||!_0x4db0ae){console['error'](_0xcbee32(0x206));return;}const _0x46fc25=_0x36d413[_0xcbee32(0x61e)],_0x4059c3=_0x9e6d20['value'][_0xcbee32(0x575)](),_0xe8b4c8=_0xe3318b['value'][_0xcbee32(0x575)]()[_0xcbee32(0x5b0)](),_0x422c53=(_0x59a4b5,_0x2ed5bd)=>{const _0x2590e6=_0xcbee32;return _0x59a4b5[_0x2590e6(0x370)]((_0x495937,_0x3e909f)=>{const _0x3e79db=_0x2590e6;let _0x5dcd30,_0x1e9b01,_0x48a655,_0x21495a,_0x47a318,_0x3f3506;_0x2ed5bd==0x1?(_0x5dcd30=_0x495937[_0x3e79db(0x104)],_0x1e9b01=_0x3e909f[_0x3e79db(0x104)],_0x48a655=_0x495937[_0x3e79db(0x4d0)],_0x21495a=_0x3e909f[_0x3e79db(0x4d0)],_0x47a318=_0x495937[_0x3e79db(0x1da)],_0x3f3506=_0x3e909f[_0x3e79db(0x1da)]):(_0x5dcd30=_0x495937[_0x3e79db(0x274)],_0x1e9b01=_0x3e909f[_0x3e79db(0x274)],_0x48a655=_0x495937[_0x3e79db(0x3bf)],_0x21495a=_0x3e909f[_0x3e79db(0x3bf)],_0x47a318=_0x495937[_0x3e79db(0x610)],_0x3f3506=_0x3e909f[_0x3e79db(0x610)]);const _0x225922=[_0x5dcd30,_0x48a655,_0x47a318][_0x3e79db(0x2c8)](Boolean)[_0x3e79db(0x506)],_0x137d7c=[_0x1e9b01,_0x21495a,_0x3f3506][_0x3e79db(0x2c8)](Boolean)[_0x3e79db(0x506)];return _0x137d7c>_0x225922?_0x3e909f:_0x495937;},_0x59a4b5[0x0]);};let _0x43a724,_0x583013;setTipOpeOrders[_0xcbee32(0x484)](_0x476ae7=>_0x476ae7==window_options[_0x158743][_0xcbee32(0x5e2)])||setTipOpeSales[_0xcbee32(0x484)](_0x153b06=>_0x153b06==window_options[_0x158743][_0xcbee32(0x5e2)])||setTipOpeQuotation['some'](_0x2cdda6=>_0x2cdda6==window_options[_0x158743][_0xcbee32(0x5e2)])?(_0x583013=0x1,_0x43a724=myCompany[_0xcbee32(0x1d3)]):(_0x583013=0x2,_0x43a724=myCompany['setSuppliers']);if(_0x4059c3){let _0x252b09;setTipOpeOrders['some'](_0x309920=>_0x309920==window_options[_0x158743][_0xcbee32(0x5e2)])||setTipOpeSales[_0xcbee32(0x484)](_0xea580b=>_0xea580b==window_options[_0x158743]['setTipoOperacion'])||setTipOpeQuotation[_0xcbee32(0x484)](_0x28e569=>_0x28e569==window_options[_0x158743][_0xcbee32(0x5e2)])?_0x252b09=_0x43a724[_0xcbee32(0x2c8)](_0x41e44e=>_0x41e44e['setCustomerDocumentNumber']==_0x4059c3):_0x252b09=_0x43a724[_0xcbee32(0x2c8)](_0x4ac937=>_0x4ac937[_0xcbee32(0x274)]==_0x4059c3);if(_0x252b09[_0xcbee32(0x506)]>0x0){const _0x24b104=_0x422c53(_0x252b09,_0x583013);setTipOpeOrders[_0xcbee32(0x484)](_0x56a158=>_0x56a158==window_options[_0x158743]['setTipoOperacion'])||setTipOpeSales[_0xcbee32(0x484)](_0x120df2=>_0x120df2==window_options[_0x158743][_0xcbee32(0x5e2)])||setTipOpeQuotation[_0xcbee32(0x484)](_0x4784a2=>_0x4784a2==window_options[_0x158743][_0xcbee32(0x5e2)])?(_0xe3318b[_0xcbee32(0x61e)]=_0x24b104[_0xcbee32(0x4d0)]||'',_0x4db0ae[_0xcbee32(0x61e)]=_0x24b104['setCustomerAddress']||''):(_0xe3318b[_0xcbee32(0x61e)]=_0x24b104['setSupplierName']||'',_0x4db0ae[_0xcbee32(0x61e)]=_0x24b104['setSupplierAddress']||'');window_options[_0x158743]['setClienteDenominacion']=_0xe3318b['value'],window_options[_0x158743][_0xcbee32(0x32d)]=_0x4db0ae['value'],saveWindowOptionsDB(_0x158743)[_0xcbee32(0x35b)](_0x463249=>console[_0xcbee32(0x103)](_0xcbee32(0x50c),_0x463249));return;}isOnline()?_0x46fc25[_0xcbee32(0x5b0)]()=='dni'&&_0x4059c3[_0xcbee32(0x506)]==0x8||_0x46fc25[_0xcbee32(0x5b0)]()==_0xcbee32(0x600)&&_0x4059c3[_0xcbee32(0x506)]==0xb?consultarAPI(_0x46fc25,_0x4059c3,_0x158743):ntfShow(_0xcbee32(0x2e4)):ntfShow(_0xcbee32(0x640));return;}if(_0xe8b4c8){const _0x195f96=_0xe8b4c8,_0x3cd3a6=_0x43a724[_0xcbee32(0x2c8)](_0x581003=>{const _0x46bd57=_0xcbee32;let _0x405721,_0x3b8267;setTipOpeOrders[_0x46bd57(0x484)](_0x507929=>_0x507929==window_options[_0x158743][_0x46bd57(0x5e2)])||setTipOpeSales[_0x46bd57(0x484)](_0x2c2516=>_0x2c2516==window_options[_0x158743][_0x46bd57(0x5e2)])||setTipOpeQuotation['some'](_0x544246=>_0x544246==window_options[_0x158743][_0x46bd57(0x5e2)])?(_0x405721=_0x581003[_0x46bd57(0x4d0)][_0x46bd57(0x5b0)](),_0x3b8267=_0x581003[_0x46bd57(0x104)]):(_0x405721=_0x581003[_0x46bd57(0x3bf)][_0x46bd57(0x5b0)](),_0x3b8267=_0x581003[_0x46bd57(0x274)]);const _0x1ab612=_0x195f96[_0x46bd57(0x18b)](/\s+/),_0x122fae=_0x1ab612['every'](_0x2cbf02=>_0x405721[_0x46bd57(0x29b)](_0x2cbf02)),_0x2473b1=_0x3b8267[_0x46bd57(0x29b)](_0x195f96);return _0x122fae||_0x2473b1;});if(_0x3cd3a6[_0xcbee32(0x506)]>0x0){const _0x3a8d0f=_0x422c53(_0x3cd3a6,_0x583013);setTipOpeOrders['some'](_0x6b8e05=>_0x6b8e05==window_options[_0x158743][_0xcbee32(0x5e2)])||setTipOpeSales['some'](_0x28c20a=>_0x28c20a==window_options[_0x158743]['setTipoOperacion'])||setTipOpeQuotation[_0xcbee32(0x484)](_0xeead77=>_0xeead77==window_options[_0x158743][_0xcbee32(0x5e2)])?(_0x9e6d20[_0xcbee32(0x61e)]=_0x3a8d0f['setCustomerDocumentNumber']||'',_0xe3318b[_0xcbee32(0x61e)]=_0x3a8d0f[_0xcbee32(0x4d0)]||'',_0x4db0ae[_0xcbee32(0x61e)]=_0x3a8d0f[_0xcbee32(0x1da)]||''):(_0x9e6d20['value']=_0x3a8d0f['setSupplierDocumentNumber']||'',_0xe3318b[_0xcbee32(0x61e)]=_0x3a8d0f[_0xcbee32(0x3bf)]||'',_0x4db0ae[_0xcbee32(0x61e)]=_0x3a8d0f[_0xcbee32(0x610)]||'');window_options[_0x158743][_0xcbee32(0x197)]=_0x9e6d20[_0xcbee32(0x61e)],window_options[_0x158743][_0xcbee32(0x50a)]=_0xe3318b[_0xcbee32(0x61e)],window_options[_0x158743][_0xcbee32(0x32d)]=_0x4db0ae[_0xcbee32(0x61e)],saveWindowOptionsDB(_0x158743)[_0xcbee32(0x35b)](_0x4809d6=>console[_0xcbee32(0x103)](_0xcbee32(0x50c),_0x4809d6));return;}ntfShow(_0xcbee32(0x325));return;}ntfShow(_0xcbee32(0x1e6));}function consultarAPI(_0x5c3a44,_0x1977ff,_0x42ca73){const _0x5f5274=_0x44881d,_0x25d6be=document[_0x5f5274(0x1a8)]('btnConsultar-'+_0x42ca73),_0x3eb4b8=document['getElementById']('setClienteDenominacion-'+_0x42ca73),_0x4460a2=document[_0x5f5274(0x1a8)](_0x5f5274(0x323)+_0x42ca73);_0x25d6be[_0x5f5274(0x269)]=!![],showLoadingModal();const _0x1b433a=_0x5f5274(0x260),_0x14dd41=_0x5f5274(0x2cb),_0x397a5f=_0x1b433a+'/'+_0x5c3a44['toLowerCase']()+'/?'+_0x5c3a44[_0x5f5274(0x5b0)]()+'='+_0x1977ff+_0x5f5274(0x33b)+_0x14dd41;fetch(_0x397a5f)[_0x5f5274(0x5df)](_0x2e18ef=>{const _0x1efe59=_0x5f5274;if(!_0x2e18ef['ok'])throw new Error(_0x1efe59(0x5d1));return _0x2e18ef[_0x1efe59(0x228)]();})[_0x5f5274(0x5df)](_0x153ba2=>{const _0x3b93cf=_0x5f5274;if(_0x153ba2[_0x3b93cf(0x49a)]==_0x3b93cf(0x135)&&_0x153ba2[_0x3b93cf(0x21d)][_0x3b93cf(0x506)]>0x0){const _0x2a28fb=_0x153ba2[_0x3b93cf(0x21d)][0x0];if(_0x5c3a44==_0x3b93cf(0x31c))_0x3eb4b8['value']=_0x2a28fb[_0x3b93cf(0x5c6)]||'',_0x4460a2[_0x3b93cf(0x61e)]=_0x2a28fb[_0x3b93cf(0x2e7)]||'';else _0x5c3a44==_0x3b93cf(0x62b)&&(_0x3eb4b8[_0x3b93cf(0x61e)]=((_0x2a28fb[_0x3b93cf(0x18c)]||'')+'\x20'+(_0x2a28fb[_0x3b93cf(0x480)]||''))[_0x3b93cf(0x575)](),_0x4460a2[_0x3b93cf(0x61e)]=_0x2a28fb[_0x3b93cf(0x2e7)]||'');window_options[_0x42ca73]['setClienteDenominacion']=_0x3eb4b8[_0x3b93cf(0x61e)],window_options[_0x42ca73][_0x3b93cf(0x32d)]=_0x4460a2[_0x3b93cf(0x61e)],saveWindowOptionsDB(_0x42ca73)[_0x3b93cf(0x35b)](_0x251178=>console[_0x3b93cf(0x103)](_0x3b93cf(0x50c),_0x251178));}else ntfShow(_0x3b93cf(0x30e));})['catch'](_0x668b4a=>{const _0x5edfc5=_0x5f5274;console[_0x5edfc5(0x103)](_0x5edfc5(0x4c6),_0x668b4a),ntfShow('Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.');})[_0x5f5274(0x4f6)](()=>{_0x25d6be['disabled']=![],hideLoadingModal();});}function nowWithMillisecondsForServer(){const _0x9ddb45=_0x44881d;let _0x4165a9;if(typeof performance!==_0x9ddb45(0x2ab)&&typeof performance['now']===_0x9ddb45(0x2e6)){let _0x167fd6;if(typeof performance[_0x9ddb45(0x63c)]===_0x9ddb45(0x589))_0x167fd6=performance[_0x9ddb45(0x63c)];else performance[_0x9ddb45(0x403)]&&performance[_0x9ddb45(0x403)]['navigationStart']?_0x167fd6=performance[_0x9ddb45(0x403)][_0x9ddb45(0x19f)]:_0x167fd6=Date['now']();_0x4165a9=_0x167fd6+performance[_0x9ddb45(0x4d5)]();}else _0x4165a9=Date[_0x9ddb45(0x4d5)]();const _0x1006a1=Math['floor'](_0x4165a9),_0x5c3a5f=_0x4165a9-_0x1006a1,_0x5e2ccf=Math[_0x9ddb45(0x312)](_0x5c3a5f*0x3e8),_0x457e1e=new Date(_0x1006a1),_0x40d162=_0x457e1e['getUTCFullYear'](),_0x4fb8f3=String(_0x457e1e[_0x9ddb45(0x1ce)]()+0x1)['padStart'](0x2,'0'),_0x371e00=String(_0x457e1e[_0x9ddb45(0x5fd)]())[_0x9ddb45(0x345)](0x2,'0'),_0x318a9b=String(_0x457e1e['getUTCHours']())['padStart'](0x2,'0'),_0x4e90a9=String(_0x457e1e[_0x9ddb45(0x3c3)]())[_0x9ddb45(0x345)](0x2,'0'),_0x5232f7=String(_0x457e1e[_0x9ddb45(0x1f7)]())[_0x9ddb45(0x345)](0x2,'0'),_0x1cc627=String(_0x457e1e[_0x9ddb45(0x366)]())[_0x9ddb45(0x345)](0x3,'0'),_0x28c579=String(_0x5e2ccf)[_0x9ddb45(0x345)](0x3,'0');return _0x40d162+'-'+_0x4fb8f3+'-'+_0x371e00+'T'+_0x318a9b+':'+_0x4e90a9+':'+_0x5232f7+'.'+_0x1cc627+_0x28c579+'Z';}async function getLastCorrelativeOffline(_0x546711,_0x140ae5){const _0x1642d9=_0x44881d,_0x2da7ca=await createCartStore(''),_0x332929=_0x2da7ca[_0x1642d9(0x296)](_0x1642d9(0x192),'readonly'),_0x293f79=_0x332929[_0x1642d9(0x22b)](_0x1642d9(0x192)),_0xfcd723=await new Promise((_0x1b9fbf,_0x3dd90d)=>{const _0x5cd31a=_0x1642d9,_0x267238=_0x293f79[_0x5cd31a(0x539)]();_0x267238[_0x5cd31a(0x4d4)]=()=>_0x1b9fbf(_0x267238[_0x5cd31a(0x53b)]),_0x267238[_0x5cd31a(0x3f8)]=()=>_0x3dd90d(_0x267238[_0x5cd31a(0x103)]);}),_0x283480=myCompany[_0x1642d9(0x388)]||'',_0x393dfa=_0xfcd723['filter'](_0x153c0f=>_0x153c0f[_0x1642d9(0x5e2)]==_0x546711&&_0x153c0f[_0x1642d9(0x189)]==_0x140ae5&&_0x153c0f[_0x1642d9(0x129)]==_0x283480);if(_0x393dfa[_0x1642d9(0x506)]===0x0){const _0x1c87c2=parseInt(getUserPermissionApiERP(0x5));let _0x20fb08;if(_0x1c87c2==0x1){const _0x40877a=getLoggedUserSeries();_0x20fb08=_0x40877a['find'](_0x1f32a6=>_0x1f32a6[_0x1642d9(0x679)]==_0x546711&&_0x1f32a6['setSeriesNumber']==_0x140ae5);}else _0x20fb08=myCompany[_0x1642d9(0x1f1)]['find'](_0x33a1dc=>_0x33a1dc[_0x1642d9(0x3e0)]==_0x546711&&_0x33a1dc['setSerie']==_0x140ae5);if(!_0x20fb08){ntfShow(_0x1642d9(0x140)),console[_0x1642d9(0x103)](_0x1642d9(0x140));return;}let _0x5a60f3;return _0x1c87c2==0x1?_0x5a60f3=parseInt(_0x20fb08['setSeriesCorrelativeInitial'],0xa):_0x5a60f3=parseInt(_0x20fb08[_0x1642d9(0x232)],0xa),_0x5a60f3;}let _0x45b3df=_0x393dfa[_0x1642d9(0x6c4)](_0xde3310=>Number(_0xde3310['setCorrelativo'])||0x0)[_0x1642d9(0x370)]((_0x2f1fc7,_0x20ae67)=>_0x20ae67>_0x2f1fc7?_0x20ae67:_0x2f1fc7,0x0);return _0x45b3df=parseInt(_0x45b3df,0xa),_0x45b3df+=0x1,_0x45b3df;}async function updateLastCorrelativeOnline(_0x51e921,_0x508cb0){const _0x44cbc6=_0x44881d;if(isOnline()){const _0x23b66d=getUserPermissionApiERP(0x5);let _0x1091a2;if(_0x23b66d==0x1){const _0x5e156b=getLoggedUserSeries();_0x1091a2=_0x5e156b['find'](_0x141d0e=>_0x141d0e['setSeriesType']==_0x51e921&&_0x141d0e[_0x44cbc6(0x389)]==_0x508cb0);}else _0x1091a2=myCompany['setSeries']['find'](_0x3ec460=>_0x3ec460[_0x44cbc6(0x3e0)]==_0x51e921&&_0x3ec460[_0x44cbc6(0x189)]==_0x508cb0);if(!_0x1091a2){ntfShow(_0x44cbc6(0x140)),console[_0x44cbc6(0x103)](_0x44cbc6(0x140));return;}const _0x3066b6=myCompany['setApiEndPoint'],_0x1b9086={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0x44cbc6(0x388)],'setReceiptType':_0x51e921,'setReceiptSeries':_0x508cb0};try{const _0x3a6edc=await fetch(_0x3066b6,{'method':_0x44cbc6(0x65e),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON['stringify'](_0x1b9086)}),_0x29c4c5=await _0x3a6edc[_0x44cbc6(0x228)]();if(_0x29c4c5['success']&&_0x29c4c5[_0x44cbc6(0x221)][_0x44cbc6(0x5e7)]){let _0x918cee=parseInt(_0x29c4c5['message'][_0x44cbc6(0x5e7)],0xa)||0x0,_0x1fc4b9=parseInt(await getLastCorrelativeOffline(_0x51e921,_0x508cb0),0xa)||0x0;_0x1fc4b9>_0x918cee&&(_0x918cee=_0x1fc4b9);_0x23b66d==0x1?_0x1091a2[_0x44cbc6(0x330)]=_0x918cee:_0x1091a2[_0x44cbc6(0x232)]=_0x918cee;try{const _0x182eb0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x182eb0);const _0x24d6a5=document[_0x44cbc6(0x1a8)](_0x44cbc6(0x159))[_0x44cbc6(0x61e)];window_options[_0x24d6a5][_0x44cbc6(0x5c3)]=_0x918cee,await saveWindowOptionsDB(_0x24d6a5),console[_0x44cbc6(0x37b)](_0x44cbc6(0x694));}catch(_0x34defd){console['error'](_0x44cbc6(0x3d6),_0x34defd);throw _0x34defd;}}}catch(_0x1a2913){console[_0x44cbc6(0x103)](_0x44cbc6(0x27e),_0x1a2913);}}}async function processCorrelativoInicial(_0x552b46,_0x3c81f8,_0x16d368){const _0x20c4b2=_0x44881d;let _0x3546a2;const _0x12e837=getUserPermissionApiERP(0x5);let _0x46e975;if(_0x12e837==0x1){const _0x2aadac=getLoggedUserSeries();_0x46e975=_0x2aadac[_0x20c4b2(0x552)](_0xb0edfb=>_0xb0edfb[_0x20c4b2(0x679)]==_0x552b46&&_0xb0edfb[_0x20c4b2(0x389)]==_0x3c81f8),_0x3546a2=_0x46e975?_0x46e975[_0x20c4b2(0x330)]:0x1;}else _0x46e975=myCompany[_0x20c4b2(0x1f1)][_0x20c4b2(0x552)](_0x14c3ef=>_0x14c3ef[_0x20c4b2(0x3e0)]==_0x552b46&&_0x14c3ef['setSerie']==_0x3c81f8),_0x3546a2=_0x46e975?_0x46e975[_0x20c4b2(0x232)]:0x1;if(_0x16d368!==undefined){if(_0x46e975){_0x12e837==0x1?_0x46e975['setSeriesCorrelativeInitial']=_0x16d368:_0x46e975[_0x20c4b2(0x232)]=_0x16d368;try{const _0x488ccd=await createCartStore('');return await saveCompanyToIndexedDB(company,_0x488ccd),_0x16d368;}catch(_0x482c9b){console[_0x20c4b2(0x103)]('Error\x20al\x20guardar\x20Last\x20Correlative:',_0x482c9b);throw _0x482c9b;}}else throw new Error(_0x20c4b2(0x224));}return _0x3546a2;}function getFilteredCart(_0x2cc5ac){const _0x4b8fff=_0x44881d,_0x3bafd2=window_options[_0x2cc5ac][_0x4b8fff(0x5e2)];if(setTipOpeOrders[_0x4b8fff(0x484)](_0x3fc9a0=>_0x3fc9a0==_0x3bafd2))return carts[_0x2cc5ac][_0x4b8fff(0x2c8)](_0x1ea04b=>_0x1ea04b[_0x4b8fff(0x433)]==0x1&&_0x1ea04b['setWindowShiftId']=='');else return setTipOpeSales[_0x4b8fff(0x484)](_0x3f0a93=>_0x3f0a93==_0x3bafd2)||setTipOpePurchases[_0x4b8fff(0x484)](_0x3f8d35=>_0x3f8d35==_0x3bafd2)||setTipOpeQuotation[_0x4b8fff(0x484)](_0x18d769=>_0x18d769==_0x3bafd2)?carts[_0x2cc5ac][_0x4b8fff(0x2c8)](_0x4aeedc=>_0x4aeedc[_0x4b8fff(0x433)]==0x1):[];}async function validateOperation(_0x166b06,_0x4a1ee2=''){const _0x273a95=_0x44881d,_0x8aa1ea=document['getElementById'](_0x273a95(0x391)),_0x4c403f=_0x8aa1ea[_0x273a95(0x61e)],_0x5091f9=_0x8aa1ea['options'][_0x8aa1ea[_0x273a95(0x113)]]['text'],_0x20a0db=document['getElementById'](_0x273a95(0x28e)+_0x166b06)['value'],_0x56b682=document[_0x273a95(0x1a8)](_0x273a95(0x253)+_0x166b06)[_0x273a95(0x61e)],_0x33e3da=document[_0x273a95(0x1a8)](_0x273a95(0x233)+_0x166b06)[_0x273a95(0x61e)],_0x262b06=document['getElementById']('setCorrelativo-'+_0x166b06)[_0x273a95(0x61e)],_0x40d6ab=document[_0x273a95(0x1a8)](_0x273a95(0x393)+_0x166b06)[_0x273a95(0x61e)],_0x5e48f7=document[_0x273a95(0x1a8)](_0x273a95(0x50e)+_0x166b06)[_0x273a95(0x61e)],_0x58cdda=document['getElementById'](_0x273a95(0x201)+_0x166b06)[_0x273a95(0x61e)],_0x41074c=document[_0x273a95(0x1a8)](_0x273a95(0x24e)+_0x166b06)[_0x273a95(0x61e)],_0x2868d1=document['getElementById'](_0x273a95(0x323)+_0x166b06)['value'],_0x3bf6a2=document[_0x273a95(0x1a8)]('setFechaHora-'+_0x166b06)[_0x273a95(0x61e)],_0x463bfc=document[_0x273a95(0x1a8)](_0x273a95(0x4ce)+_0x166b06)[_0x273a95(0x61e)],_0x229429=document[_0x273a95(0x1a8)](_0x273a95(0x3d3)+_0x166b06)[_0x273a95(0x61e)],_0x459cf6=document[_0x273a95(0x1a8)](_0x273a95(0x4a4)+_0x166b06)[_0x273a95(0x61e)],_0x21fc14=getTotalFromFloatRight(_0x166b06),_0x409d4b=getFilteredCart(_0x166b06);if(!_0x20a0db||!_0x5e48f7)return ntfShow(_0x273a95(0x371)),![];if(!setTipOpePurchaseReceipt[_0x273a95(0x484)](_0x33aef6=>_0x33aef6==window_options[_0x166b06]['setTipoOperacion'])){if(!_0x33e3da||!_0x262b06)return ntfShow(_0x273a95(0x333)),![];if(!/^[A-Za-z0-9]{4}$/[_0x273a95(0x489)](_0x33e3da))return ntfShow(_0x273a95(0x3a5)),![];if(/ñ/i['test'](_0x33e3da))return ntfShow('La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.'),![];if(window_options[_0x166b06][_0x273a95(0x5e2)]=='3'&&_0x33e3da[_0x273a95(0x638)](0x0)!=='B')return ntfShow(_0x273a95(0x540)),![];if(window_options[_0x166b06][_0x273a95(0x5e2)]=='4'&&_0x33e3da[_0x273a95(0x638)](0x0)!=='F')return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.'),![];}if(setTipOpeSalesInvoice[_0x273a95(0x484)](_0x628dcc=>_0x628dcc==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpePurchaseInvoice[_0x273a95(0x484)](_0x7caaf2=>_0x7caaf2==window_options[_0x166b06]['setTipoOperacion'])){if(!_0x58cdda[_0x273a95(0x575)]()||!_0x41074c['trim']())return ntfShow(_0x273a95(0x262)),![];if(window_options[_0x166b06][_0x273a95(0x5e2)]=='4'&&_0x5e48f7!=_0x273a95(0x31c))return ntfShow('Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.'),![];}if(setTipOpeSalesTicket[_0x273a95(0x484)](_0x55a3e5=>_0x55a3e5==window_options[_0x166b06]['setTipoOperacion'])||setTipOpePurchaseTicket[_0x273a95(0x484)](_0x43e37c=>_0x43e37c==window_options[_0x166b06][_0x273a95(0x5e2)])){if(window_options[_0x166b06][_0x273a95(0x5e2)]=='3'&&_0x21fc14>=0x2bc){if(_0x5e48f7!='DNI'&&_0x5e48f7!=_0x273a95(0x31c)||!_0x58cdda[_0x273a95(0x575)]()||!_0x41074c[_0x273a95(0x575)]())return ntfShow('Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.'),![];}}if(_0x58cdda[_0x273a95(0x575)]()){if(_0x5e48f7==_0x273a95(0x62b)&&!/^\d{8}$/['test'](_0x58cdda))return ntfShow(_0x273a95(0x68a)),![];if(_0x5e48f7=='RUC'&&!/^\d{11}$/['test'](_0x58cdda))return ntfShow(_0x273a95(0x31b)),![];if(!_0x41074c[_0x273a95(0x575)]())return ntfShow(_0x273a95(0x4d2)),![];}if(!Array['isArray'](_0x409d4b)||_0x409d4b[_0x273a95(0x506)]==0x0)return ntfShow(_0x273a95(0x21b)),![];let _0x1f98c3;setTipOpeOrders[_0x273a95(0x484)](_0x5a8fb7=>_0x5a8fb7==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeSales[_0x273a95(0x484)](_0x3d65b9=>_0x3d65b9==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeQuotation[_0x273a95(0x484)](_0x3b0d0d=>_0x3b0d0d==window_options[_0x166b06][_0x273a95(0x5e2)])?_0x1f98c3=0x2:_0x1f98c3=0x1;for(var _0x32e239=0x0;_0x32e239<_0x409d4b[_0x273a95(0x506)];_0x32e239++){let _0x19b2dc,_0xb2271c;_0x1f98c3==0x1?(_0x19b2dc=parseFloat(_0x409d4b[_0x32e239]['setMtoPrecioCostoUnitario_input'])||0x0,_0xb2271c=_0x273a95(0x515)):(_0x19b2dc=parseFloat(_0x409d4b[_0x32e239]['setMtoPrecioUnitario_input'])||0x0,_0xb2271c=_0x273a95(0x199));var _0x4895c8=_0x19b2dc;if(_0x4895c8<=0x0)return ntfShow(_0x273a95(0x67d)+(_0x409d4b[_0x32e239][_0x273a95(0x5a9)]||'null')+_0x273a95(0x179)+_0xb2271c+'\x20unitario\x20mayor\x20a\x200.'),![];}if(_0x4a1ee2){const _0x4a6989=parseInt(getUserPermissionApiERP(0xe)),_0x38e2d3=parseInt(getUserPermissionApiERP(0x5));if((_0x38e2d3==0x0||_0x38e2d3==0x1&&((setTipOpeSalesTicket[_0x273a95(0x484)](_0x2adf73=>_0x2adf73==window_options[_0x166b06]['setTipoOperacion'])||setTipOpeSalesInvoice[_0x273a95(0x484)](_0x35654a=>_0x35654a==window_options[_0x166b06][_0x273a95(0x5e2)]))&&_0x4a6989==0x0))&&window_options[_0x166b06][_0x273a95(0x5f3)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders['some'](_0x1a08e9=>_0x1a08e9==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeSales[_0x273a95(0x484)](_0x2ad85a=>_0x2ad85a==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeQuotation['some'](_0x4ec226=>_0x4ec226==window_options[_0x166b06]['setTipoOperacion'])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x166b06][_0x273a95(0x5e2)],window_options[_0x166b06][_0x273a95(0x189)]),hideLoadingModal();else{if(window_options[_0x166b06][_0x273a95(0x5f3)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders['some'](_0x2df9d6=>_0x2df9d6==window_options[_0x166b06]['setTipoOperacion'])||setTipOpeSales[_0x273a95(0x484)](_0x34884a=>_0x34884a==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeQuotation['some'](_0x33e2a6=>_0x33e2a6==window_options[_0x166b06]['setTipoOperacion']))){showLoadingModal();let _0x492841=parseInt(await getLastCorrelativeOffline(window_options[_0x166b06][_0x273a95(0x5e2)],window_options[_0x166b06][_0x273a95(0x189)]),0xa)||0x0,_0x3db1be;if(_0x38e2d3==0x1){const _0x2ae448=getLoggedUserSeries();_0x3db1be=_0x2ae448[_0x273a95(0x552)](_0x45522a=>_0x45522a['setSeriesType']==window_options[_0x166b06]['setTipoOperacion']&&_0x45522a[_0x273a95(0x389)]==window_options[_0x166b06][_0x273a95(0x189)]);}else _0x3db1be=myCompany['setSeries'][_0x273a95(0x552)](_0x144b64=>_0x144b64['setSerieTipo']==window_options[_0x166b06][_0x273a95(0x5e2)]&&_0x144b64[_0x273a95(0x189)]==window_options[_0x166b06][_0x273a95(0x189)]);if(!_0x3db1be){ntfShow(_0x273a95(0x140)),console['error'](_0x273a95(0x140));return;}_0x38e2d3==0x1?_0x3db1be['setSeriesCorrelativeInitial']=_0x492841:_0x3db1be['setCorrelativoInicial']=_0x492841;try{const _0x438047=await createCartStore('');await saveCompanyToIndexedDB(company,_0x438047),window_options[_0x166b06][_0x273a95(0x5c3)]=_0x492841,await saveWindowOptionsDB(_0x166b06),console[_0x273a95(0x37b)]('Guardando\x20Correlativo\x20Offline\x20en\x20DB');}catch(_0x573099){console[_0x273a95(0x103)](_0x273a95(0x3d6),_0x573099);throw _0x573099;}hideLoadingModal();}}return(setTipOpeOrders[_0x273a95(0x484)](_0x14c22f=>_0x14c22f==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpeQuotation[_0x273a95(0x484)](_0x5e5492=>_0x5e5492==window_options[_0x166b06][_0x273a95(0x5e2)]))&&saveOperation(_0x166b06),(setTipOpeSales[_0x273a95(0x484)](_0x142bc4=>_0x142bc4==window_options[_0x166b06][_0x273a95(0x5e2)])||setTipOpePurchases[_0x273a95(0x484)](_0x259a56=>_0x259a56==window_options[_0x166b06]['setTipoOperacion']))&&(showSection(_0x4a1ee2,_0x166b06),document[_0x273a95(0x1a8)](_0x273a95(0x246)+_0x166b06)[_0x273a95(0x61e)]=_0x273a95(0x326),triggerChangeEventById(_0x273a95(0x246)+_0x166b06),updateActivePaymentOption(_0x166b06,_0x273a95(0x118))),!![];}else return!![];}function buildPayload(_0x311c17,_0x24c6d5=''){const _0x209d23=_0x44881d;window_options[_0x311c17][_0x209d23(0x286)]=0x1;const _0x7af853=myCompany[_0x209d23(0x319)][_0x209d23(0x552)](_0x14de5b=>_0x14de5b['setWindowId']==_0x311c17);window_options[_0x311c17][_0x209d23(0x159)]=_0x311c17,window_options[_0x311c17][_0x209d23(0x574)]=_0x7af853[_0x209d23(0x574)],window_options[_0x311c17][_0x209d23(0x527)]=_0x7af853[_0x209d23(0x527)],window_options[_0x311c17]['setEnvironmentName']=_0x7af853[_0x209d23(0x227)],window_options[_0x311c17][_0x209d23(0x3da)]=generateUniqId(),window_options[_0x311c17][_0x209d23(0x1b3)]=new Date();parseInt(window_options[_0x311c17][_0x209d23(0x625)])!=0x1&&(window_options[_0x311c17]['setFechaHora']=obtener_fechaHora());const _0x3619b8=getValidatedWindowAndShift(_0x311c17)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x49f82d,currentWindowShift:_0x3f2cc8}=_0x3619b8,_0x421b9a=window_options[_0x311c17],_0x2918a7=medio_pago[_0x311c17];let _0x3e2144=getFilteredCart(_0x311c17);_0x24c6d5!=''&&(_0x3e2144=_0x3e2144[_0x209d23(0x2c8)](_0x248022=>{const _0x5721e3=_0x209d23,_0x1aeee8=products['find'](_0x551272=>_0x551272['id']==_0x248022['setIdProducto']);return _0x1aeee8&&_0x1aeee8[_0x5721e3(0x5d3)]&&_0x1aeee8[_0x5721e3(0x5d3)][_0x5721e3(0x484)](_0x2fc55a=>_0x2fc55a[_0x5721e3(0x53a)]==_0x24c6d5);}));const _0x57a163=document[_0x209d23(0x1a8)](_0x209d23(0x5b3));if(!_0x57a163)return console[_0x209d23(0x103)](_0x209d23(0x2da)),null;const _0xa49a1e=_0x57a163['value'],_0x140f3b=_0x57a163['options'][_0x57a163[_0x209d23(0x113)]]['text'],_0x35960d=document[_0x209d23(0x1a8)](_0x209d23(0x391));if(!_0x35960d)return console[_0x209d23(0x103)](_0x209d23(0x460)),null;const _0x46d279=_0x35960d[_0x209d23(0x61e)],_0x74d684=myCompany[_0x209d23(0x448)][_0x209d23(0x552)](_0x532a76=>_0x532a76[_0x209d23(0x391)]==_0x46d279)?.[_0x209d23(0x5fc)]||'',_0x5e4b1c=myCompany[_0x209d23(0x448)][_0x209d23(0x552)](_0x189f48=>_0x189f48[_0x209d23(0x391)]==_0x46d279)?.[_0x209d23(0x354)]||'',_0x238b7e=document[_0x209d23(0x1a8)](_0x209d23(0x4d7));if(!_0x238b7e)return console[_0x209d23(0x103)](_0x209d23(0x387)),null;const _0x3a1d11=_0x238b7e['value'],_0x41c400=_0x238b7e[_0x209d23(0x39f)][_0x238b7e[_0x209d23(0x113)]][_0x209d23(0x2c5)],_0x19c96f=_0x421b9a[_0x209d23(0x163)],_0x478bd8=myCompany[_0x209d23(0x1a9)][_0x209d23(0x552)](_0x1ab6a=>_0x1ab6a[_0x209d23(0x616)]==_0x19c96f),_0x55e5fa=_0x478bd8?_0x478bd8['setMonedaName']:null,_0x2f25c8=_0x478bd8?_0x478bd8[_0x209d23(0x4e5)]:null,_0x2ec570=_0x421b9a[_0x209d23(0x5e2)],_0x545c2d=myCompany[_0x209d23(0x1fe)][_0x209d23(0x552)](_0x13c17f=>_0x13c17f[_0x209d23(0x119)]==_0x2ec570),_0x5109aa=_0x545c2d?_0x545c2d[_0x209d23(0x1b9)]:null;!myCompany[_0x209d23(0x6bc)]&&(myCompany[_0x209d23(0x6bc)]=[]);const _0x11979=myCompany[_0x209d23(0x6bc)],_0x4d28d7=_0x11979['find'](_0x240b4b=>_0x240b4b[_0x209d23(0x391)]==_0x46d279&&_0x240b4b[_0x209d23(0x6cb)]=='1'),_0x8be198={..._0x421b9a,'setToken':myCompany[_0x209d23(0x388)],'setWebhook':myCompany['setWebhook'],'setShiftId':_0x4d28d7?_0x4d28d7['setShiftId']:0x0,'setWindowShiftId':_0x3f2cc8?_0x3f2cc8['setShiftId']:0x0,'setSucursalCodigo':_0x46d279,'setSucursalNombre':_0x74d684,'setBranchAddress':_0x5e4b1c,'setWarehouseId':_0x3a1d11,'setWarehouseName':_0x41c400,'setCashierId':_0xa49a1e,'setCashierName':_0x140f3b,'setProductos':_0x3e2144,'setMedioPago':_0x2918a7,'setDocumentType':_0x5109aa,'setCurrencyName':_0x55e5fa,'setCurrencySymbol':_0x2f25c8};return setLastOperationGlobalData(_0x311c17,{'pdfGlobalPayload':_0x8be198,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x8be198;}async function saveOperation(_0x1cfa0b){const _0x252432=_0x44881d;let _0x4207e1;(setTipOpeOrders[_0x252432(0x484)](_0x5c74b2=>_0x5c74b2==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeQuotation[_0x252432(0x484)](_0x1654be=>_0x1654be==window_options[_0x1cfa0b][_0x252432(0x5e2)]))&&(_0x4207e1=document[_0x252432(0x1a8)]('checkout-btn-'+_0x1cfa0b));(setTipOpeSales['some'](_0x46a79c=>_0x46a79c==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpePurchases[_0x252432(0x484)](_0x498616=>_0x498616==window_options[_0x1cfa0b][_0x252432(0x5e2)]))&&(_0x4207e1=document['getElementById']('btnSaveOperacion-'+_0x1cfa0b));if(!_0x4207e1){console['error'](_0x252432(0x5ba));return;}_0x4207e1['disabled']=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x1cfa0b)){_0x4207e1[_0x252432(0x269)]=![],hideLoadingModal(),showModalPay();return;}const _0x68b70a=buildPayload(_0x1cfa0b);if(!_0x68b70a){console[_0x252432(0x103)](_0x252432(0x52b)),_0x4207e1[_0x252432(0x269)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0x68b70a);const _0xe8f3a5=[],_0x11c4c7=_0x68b70a[_0x252432(0x3a8)],_0x3ed2e8=myCompany[_0x252432(0x5d3)][_0x252432(0x2c8)](_0x33767b=>_0x33767b['setBranchId']==_0x11c4c7);setTipOpeOrders['some'](_0x53922b=>_0x53922b==window_options[_0x1cfa0b]['setTipoOperacion'])&&_0x68b70a[_0x252432(0x399)][_0x252432(0x570)](_0x4f98d0=>{const _0x40bfb9=_0x252432,_0x5d2bbd=products[_0x40bfb9(0x552)](_0x232c1d=>_0x232c1d['id']==_0x4f98d0['setIdProducto']);if(_0x5d2bbd?.['setPrinters']?.[_0x40bfb9(0x506)]){const _0x55f748=_0x5d2bbd[_0x40bfb9(0x5d3)][_0x40bfb9(0x2c8)](_0x532e96=>_0x3ed2e8[_0x40bfb9(0x484)](_0x5b5286=>_0x5b5286[_0x40bfb9(0x53a)]==_0x532e96[_0x40bfb9(0x53a)]));_0x55f748[_0x40bfb9(0x570)](_0x391454=>{const _0x37f2ad=_0x40bfb9;!_0xe8f3a5[_0x37f2ad(0x484)](_0x294674=>_0x294674[_0x37f2ad(0x53a)]==_0x391454['setPrinterId'])&&_0xe8f3a5[_0x37f2ad(0x318)]({..._0x391454,'payloadComand':buildPayload(_0x1cfa0b,_0x391454['setPrinterId'])});});}});let _0x4f082c;if(setTipOpeOrders[_0x252432(0x484)](_0x5d9abe=>_0x5d9abe==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeSales[_0x252432(0x484)](_0x433cef=>_0x433cef==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeQuotation['some'](_0x58a704=>_0x58a704==window_options[_0x1cfa0b]['setTipoOperacion'])){let _0x4cf6bc=await processCorrelativoInicial(window_options[_0x1cfa0b][_0x252432(0x5e2)],window_options[_0x1cfa0b][_0x252432(0x189)]);_0x4cf6bc=parseInt(_0x4cf6bc,0xa)||0x0,_0x4f082c=_0x4cf6bc;}const _0x2282ba=window_options[_0x1cfa0b][_0x252432(0x5f3)]==0x2;!_0x2282ba&&(setTipOpeOrders[_0x252432(0x484)](_0x1d9151=>_0x1d9151==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeSales[_0x252432(0x484)](_0xd86cee=>_0xd86cee==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeQuotation[_0x252432(0x484)](_0x4dfeae=>_0x4dfeae==window_options[_0x1cfa0b][_0x252432(0x5e2)]))&&(_0x4f082c+=0x1);if(window_options[_0x1cfa0b][_0x252432(0x374)]==0x1&&(setTipOpeSales[_0x252432(0x484)](_0xbb0ad1=>_0xbb0ad1==window_options[_0x1cfa0b]['setTipoOperacion'])||setTipOpePurchases[_0x252432(0x484)](_0x5145bc=>_0x5145bc==window_options[_0x1cfa0b][_0x252432(0x5e2)]))){const _0x1d2e0b=document['getElementById'](_0x252432(0x4d7))[_0x252432(0x61e)],_0xd5c3c8=carts[_0x1cfa0b],_0x55f09b=_0x2282ba?window_options[_0x1cfa0b][_0x252432(0x4c1)]:[];_0xd5c3c8[_0x252432(0x570)](_0x27eeb7=>{const _0x5220d3=_0x252432;if(_0x27eeb7[_0x5220d3(0x223)]!=0x1)return;const _0x4a3d4f=products[_0x5220d3(0x552)](_0x4c0bdb=>_0x4c0bdb['id']==_0x27eeb7[_0x5220d3(0x19b)]);if(!_0x4a3d4f){console[_0x5220d3(0x4a6)](_0x5220d3(0x456)+_0x27eeb7[_0x5220d3(0x19b)]);return;}const _0x483166=parseFloat(_0x4a3d4f['setConversionFactor']),_0xa4d5d8=parseFloat(_0x27eeb7[_0x5220d3(0x1d1)]);let _0x151d16=0x0;if(_0x2282ba){const _0xe9d1b5=_0x55f09b[_0x5220d3(0x552)](_0x1cff45=>_0x1cff45[_0x5220d3(0x19b)]==_0x27eeb7[_0x5220d3(0x19b)]),_0xd484b7=_0xe9d1b5?parseFloat(_0xe9d1b5[_0x5220d3(0x182)]):0x0;setTipOpeSales['some'](_0x22c50a=>_0x22c50a==window_options[_0x1cfa0b][_0x5220d3(0x5e2)])&&(_0x151d16=_0xd484b7*_0x483166-_0xa4d5d8*_0x483166),setTipOpePurchases['some'](_0x29fa9e=>_0x29fa9e==window_options[_0x1cfa0b]['setTipoOperacion'])&&(_0x151d16=_0xd484b7*_0x483166+_0xa4d5d8*_0x483166);}else setTipOpeSales[_0x5220d3(0x484)](_0x2873c4=>_0x2873c4==window_options[_0x1cfa0b][_0x5220d3(0x5e2)])&&(_0x151d16=-(_0xa4d5d8*_0x483166)),setTipOpePurchases[_0x5220d3(0x484)](_0x52510d=>_0x52510d==window_options[_0x1cfa0b][_0x5220d3(0x5e2)])&&(_0x151d16=_0xa4d5d8*_0x483166);const _0x90dd72=_0x4a3d4f[_0x5220d3(0x19b)],_0x5917c8=products[_0x5220d3(0x2c8)](_0x26ef87=>_0x26ef87[_0x5220d3(0x19b)]==_0x90dd72);_0x5917c8['forEach'](_0x5a74c9=>{const _0x56dce4=_0x5220d3,_0x3a7c02=_0x5a74c9[_0x56dce4(0x35c)][_0x56dce4(0x552)](_0x2cea08=>_0x2cea08[_0x56dce4(0x3b9)]==_0x1d2e0b);if(!_0x3a7c02){console[_0x56dce4(0x4a6)]('No\x20se\x20encontró\x20sucursal\x20'+_0x1d2e0b+_0x56dce4(0x569)+_0x5a74c9['id']);return;}const _0x44a20c=parseFloat(_0x3a7c02[_0x56dce4(0x68f)]),_0xe3d97a=_0x44a20c+_0x151d16;_0x3a7c02[_0x56dce4(0x68f)]=_0xe3d97a,console['log']('Producto\x20variante\x20'+_0x5a74c9['id']+_0x56dce4(0x220)+_0x90dd72+')\x20en\x20almacén\x20'+_0x1d2e0b+_0x56dce4(0x55b)+_0x44a20c+_0x56dce4(0x550)+_0xe3d97a);});});}if(setTipOpeOrders[_0x252432(0x484)](_0x42252a=>_0x42252a==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeSales[_0x252432(0x484)](_0x41774c=>_0x41774c==window_options[_0x1cfa0b]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x25cecf=>_0x25cecf==window_options[_0x1cfa0b][_0x252432(0x5e2)])){let _0x394a05;!_0x2282ba?_0x394a05=await processCorrelativoInicial(window_options[_0x1cfa0b]['setTipoOperacion'],window_options[_0x1cfa0b][_0x252432(0x189)],_0x4f082c):_0x394a05=_0x4f082c,window_options[_0x1cfa0b][_0x252432(0x5c3)]=parseInt(_0x394a05);}else window_options[_0x1cfa0b][_0x252432(0x5c3)]='';window_options[_0x1cfa0b][_0x252432(0x5a6)]=obtener_fechaHora(),window_options[_0x1cfa0b][_0x252432(0x625)]=0x0,window_options[_0x1cfa0b][_0x252432(0x374)]='1',window_options[_0x1cfa0b][_0x252432(0x1aa)]='1',window_options[_0x1cfa0b][_0x252432(0x2bb)]=0x0,window_options[_0x1cfa0b][_0x252432(0x5f3)]='1',correlativeReadonly=0x0,window_options[_0x1cfa0b][_0x252432(0x617)]='',medio_pago=[];const _0xf5ee41=getValidatedWindowAndShift(_0x1cfa0b),{windowObj:_0x219472,currentWindowShift:_0x2c98e1}=_0xf5ee41;(!_0x2c98e1||!setTipOpeOrders['some'](_0x58bcea=>_0x58bcea==window_options[_0x1cfa0b][_0x252432(0x5e2)]))&&(window_options[_0x1cfa0b][_0x252432(0x197)]='',window_options[_0x1cfa0b][_0x252432(0x50a)]='',window_options[_0x1cfa0b][_0x252432(0x32d)]='',window_options[_0x1cfa0b][_0x252432(0x2f2)]='',window_options[_0x1cfa0b][_0x252432(0x203)]='');if(_0x2c98e1){_0x219472[_0x252432(0x3df)]=nowWithMillisecondsForServer();if(setTipOpeOrders[_0x252432(0x484)](_0x24a398=>_0x24a398==window_options[_0x1cfa0b][_0x252432(0x5e2)])||setTipOpeSales['some'](_0x47fd1c=>_0x47fd1c==window_options[_0x1cfa0b][_0x252432(0x5e2)])){!_0x2c98e1[_0x252432(0x458)]&&(_0x2c98e1[_0x252432(0x458)]=[]);let _0x50f2d9=_0x68b70a;delete _0x50f2d9['pdfBlob'],_0x2c98e1['setOrders'][_0x252432(0x318)](_0x50f2d9),_0x219472['setWindowStatus']='occupied',_0x2c98e1[_0x252432(0x2b4)]='';}if(setTipOpeSales['some'](_0x3c9f0f=>_0x3c9f0f==window_options[_0x1cfa0b]['setTipoOperacion'])){const _0x16ea04=carts[_0x1cfa0b]||[],_0x344942=_0x16ea04[_0x252432(0x484)](_0x285e8f=>_0x285e8f[_0x252432(0x433)]==0x0);if(!_0x344942){_0x219472[_0x252432(0x3cf)]=_0x252432(0x29c);const _0x553fd0=new Date();_0x2c98e1[_0x252432(0x6cb)]='0',_0x2c98e1['setShiftDateEnd']=_0x553fd0;}}const _0x4b8f28=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4b8f28);}for(let _0x1523cf=products[_0x252432(0x506)]-0x1;_0x1523cf>=0x0;_0x1523cf--){products[_0x1523cf][_0x252432(0x4e7)]==0x1&&products[_0x252432(0x5e3)](_0x1523cf,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x1cfa0b);}catch(_0x2ee801){_0x4207e1[_0x252432(0x269)]=![],hideLoadingModal(),showModalPay(),console[_0x252432(0x103)](_0x252432(0x1a6),_0x2ee801);return;}await removeAllFromCart(_0x1cfa0b),_0x4207e1[_0x252432(0x269)]=![],hideLoadingModal(),showLeftSection();_0xe8f3a5[_0x252432(0x506)]>0x0&&processPrints(_0xe8f3a5);const _0x10c197=getUserPermissionApiERP(0x3),_0x408948=myCompany['setUser_Local'][_0x252432(0x361)],_0x2d62d7=myCompany['setUsers'][_0x252432(0x552)](_0xd9f829=>_0xd9f829['setUserCode']==_0x408948),_0x25d779=_0x2d62d7?.[_0x252432(0x448)][_0x252432(0x552)](_0x1f6813=>_0x1f6813[_0x252432(0x391)]==_0x11c4c7)?.[_0x252432(0x53a)]||0x0;if(setTipOpeSales[_0x252432(0x484)](_0x15ee77=>_0x15ee77==window_options[_0x1cfa0b]['setTipoOperacion'])&&_0x10c197==0x1&&_0x25d779!=0x0){const _0xd2bf8e=_0x3ed2e8[_0x252432(0x552)](_0x165fe1=>_0x165fe1[_0x252432(0x53a)]==_0x25d779);if(_0xd2bf8e){const {pdfGlobalPayload:_0x1b4474,pdfGlobalBlob:_0x3c4520,pdfGlobalName:_0x2cbaf6}=getLastOperationGlobalData(_0x1cfa0b);setPrintOnline(_0xd2bf8e[_0x252432(0x447)],_0x3c4520,_0x2cbaf6,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x252432(0x61e)]='',renderProducts(''),initializeCategorys();const _0xb28159=document[_0x252432(0x1a8)](_0x252432(0x5b7)),_0x323f2f=_0x68b70a[_0x252432(0x5a6)],_0x2ea824=new Date(_0x323f2f),_0x599052=_0x2ea824[_0x252432(0x62c)](),_0x1bc4d4=monthsEspanish[_0x2ea824[_0x252432(0x352)]()],_0x18e3b7=_0x2ea824['getFullYear'](),_0x383276=_0x599052+_0x252432(0x3c6)+_0x1bc4d4+_0x252432(0x181)+_0x18e3b7;_0xb28159[_0x252432(0x61e)]=_0x252432(0x629)+(_0x68b70a['setClienteDenominacion']??'')+_0x252432(0x3ef)+myCompany[_0x252432(0x1a4)]+',\x20a\x20continuación\x20adjuntamos:\x20\x0a'+_0x68b70a[_0x252432(0x164)]+':\x20'+_0x68b70a[_0x252432(0x189)]+'-'+_0x68b70a[_0x252432(0x5c3)]+_0x252432(0x2d2)+_0x383276+'.',await setOrders(_0x1cfa0b),apiERPsync();}catch(_0x10f604){_0x4207e1[_0x252432(0x269)]=![],hideLoadingModal(),showModalPay(),console[_0x252432(0x103)](_0x252432(0x4a5),_0x10f604);return;}}async function storeOfflineOperation(_0x56fc13,_0x651a1a=0x0){const _0x1f2763=_0x44881d;try{const _0x308896=await createCartStore('');if(_0x651a1a==0x0){const {pdfBlob:_0x6d6614,pdfName:_0xe84992}=await generatePdf(_0x56fc13,'tk',_0x1f2763(0x3b0),_0x1f2763(0x67f));_0x56fc13[_0x1f2763(0x339)]=_0x6d6614;const _0x3cd565=document[_0x1f2763(0x1a8)](_0x1f2763(0x159))[_0x1f2763(0x61e)];setLastOperationGlobalData(_0x3cd565,{'pdfGlobalPayload':_0x56fc13,'pdfGlobalBlob':_0x6d6614,'pdfGlobalName':_0xe84992}),!setTipOpeOrders[_0x1f2763(0x484)](_0xaf2957=>_0xaf2957==_0x56fc13[_0x1f2763(0x5e2)])&&showModal();}const _0x203494=_0x308896[_0x1f2763(0x296)]('offline_operations','readwrite'),_0x4b646f=_0x203494[_0x1f2763(0x22b)](_0x1f2763(0x192));_0x4b646f['add'](_0x56fc13),_0x203494[_0x1f2763(0x39c)]=()=>{const _0x43c0d1=_0x1f2763;console['log'](_0x43c0d1(0x30f)),console[_0x43c0d1(0x37b)](_0x56fc13);},_0x203494['onerror']=_0x2ecc33=>{const _0x364e79=_0x1f2763;console['error'](_0x364e79(0x4fb),_0x2ecc33['target'][_0x364e79(0x103)]);};}catch(_0x2a98de){console[_0x1f2763(0x103)](_0x1f2763(0x188),_0x2a98de);}}function getFormattedDate(_0x90a592){const _0x888c60=new Date(_0x90a592);return _0x888c60['toLocaleDateString']();}function getFormattedTime(_0x4b2849){const _0x22772d=_0x44881d,_0x95e333=new Date(_0x4b2849);return _0x95e333[_0x22772d(0x38d)]();}function getCurrentDateTime(){const _0x3e172e=_0x44881d;return new Date()[_0x3e172e(0x392)]();}function sanitizeData(_0x34ba38,_0xa862f8=_0x44881d(0x2ba)){const _0x39c4b1=_0x44881d,_0x1146fe=_0x28438f=>{const _0x11c596=_0x1a69;if(_0x28438f==null||_0x28438f=='')return'';return _0x28438f[_0x11c596(0x648)](/[\xC0-\xFF]/g,_0x49ccbb=>{const _0xdc5428={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0xdc5428[_0x49ccbb]||_0x49ccbb;});},_0x198b8d=_0x318109=>{return parseFloat(_0x318109)||0x0;},_0x1e88ca=_0x355ba5=>{return _0x355ba5['map'](_0x1b96f9=>{const _0x27c940=_0x1a69;if(typeof _0x1b96f9==_0x27c940(0x2ea)&&_0x1b96f9!==null)return sanitizeData(_0x1b96f9,_0xa862f8);return sanitizeData(_0x1b96f9,_0xa862f8);});};if(typeof _0x34ba38==_0x39c4b1(0x2ea)&&_0x34ba38!==null){const _0x519852={};for(const _0x450f8e in _0x34ba38){_0x34ba38[_0x39c4b1(0x244)](_0x450f8e)&&(_0x519852[_0x450f8e]=sanitizeData(_0x34ba38[_0x450f8e],_0xa862f8));}return _0x519852;}if(Array[_0x39c4b1(0x473)](_0x34ba38))return _0x1e88ca(_0x34ba38);if(_0xa862f8==_0x39c4b1(0x589)||_0xa862f8==_0x39c4b1(0x25c))return _0x198b8d(_0x34ba38);return _0x1146fe(_0x34ba38);}function getCurrentDate(){const _0x32df8d=_0x44881d,_0x16d9de=new Date();return _0x16d9de[_0x32df8d(0x392)]();}function numeroALetras(_0x51cf96){const _0x5cbea9=_0x44881d,_0xffda5c=['','UNO',_0x5cbea9(0x4a2),'TRES',_0x5cbea9(0x3ff),_0x5cbea9(0x68e),_0x5cbea9(0x5c0),_0x5cbea9(0x465),_0x5cbea9(0x69b),_0x5cbea9(0x65c)],_0x5cac3d=['',_0x5cbea9(0x677),'VEINTE',_0x5cbea9(0x2a0),_0x5cbea9(0x401),_0x5cbea9(0x19d),_0x5cbea9(0x4fc),_0x5cbea9(0x4d3),_0x5cbea9(0x20e),_0x5cbea9(0x516)],_0x449635=['',_0x5cbea9(0x495),_0x5cbea9(0x47a),_0x5cbea9(0x23e),'CUATROCIENTOS','QUINIENTOS',_0x5cbea9(0x36f),'SETECIENTOS',_0x5cbea9(0x10a),_0x5cbea9(0x324)];function _0x38a34d(_0x26e153){const _0x153999=_0x5cbea9;if(_0x26e153==0x0)return _0x153999(0x1fd);if(_0x26e153==0x64)return _0x153999(0x5dd);if(_0x26e153>=0x1&&_0x26e153<=0x9)return _0xffda5c[_0x26e153];if(_0x26e153>=0xa&&_0x26e153<=0x13){const _0x559d8a=[_0x153999(0x677),'ONCE',_0x153999(0x348),_0x153999(0x3a4),_0x153999(0x4ea),_0x153999(0x618),_0x153999(0x10c),_0x153999(0x258),_0x153999(0x114),_0x153999(0x349)];return _0x559d8a[_0x26e153-0xa];}if(_0x26e153>=0x14&&_0x26e153<=0x1d){const _0x1d5e8e=_0x26e153%0xa;return'VEINTI'+(_0x1d5e8e>0x0?_0xffda5c[_0x1d5e8e]:'');}if(_0x26e153>=0x1e&&_0x26e153<=0x63){const _0x510dd1=Math['floor'](_0x26e153/0xa),_0x311a47=_0x26e153%0xa;return''+_0x5cac3d[_0x510dd1]+(_0x311a47>0x0?'\x20Y\x20'+_0xffda5c[_0x311a47]:'');}if(_0x26e153>=0x64&&_0x26e153<=0x3e7){const _0x15eae8=Math[_0x153999(0x312)](_0x26e153/0x64),_0x4f32c9=_0x26e153%0x64;return''+_0x449635[_0x15eae8]+(_0x4f32c9>0x0?'\x20'+_0x38a34d(_0x4f32c9):'');}if(_0x26e153>=0x3e8&&_0x26e153<=0xf423f){const _0x38cf1b=Math[_0x153999(0x312)](_0x26e153/0x3e8),_0x2f8d0a=_0x26e153%0x3e8;return''+(_0x38cf1b>0x1?_0x38a34d(_0x38cf1b)+_0x153999(0x402):_0x153999(0x4ed))+(_0x2f8d0a>0x0?'\x20'+_0x38a34d(_0x2f8d0a):'');}if(_0x26e153>=0xf4240&&_0x26e153<=0x3b9ac9ff){const _0x31c1cb=Math['floor'](_0x26e153/0xf4240),_0x5c7b9e=_0x26e153%0xf4240;return''+(_0x31c1cb>0x1?_0x38a34d(_0x31c1cb)+_0x153999(0xed):_0x153999(0x553))+(_0x5c7b9e>0x0?'\x20'+_0x38a34d(_0x5c7b9e):'');}return'';}function _0x2d8612(_0x1654cd){const _0x82349a=_0x5cbea9;return _0x1654cd>0x0?_0x1654cd+_0x82349a(0x11f):_0x82349a(0x40d);}const [_0x3796df,_0x38301c]=_0x51cf96[_0x5cbea9(0x4cc)](0x2)['split']('.')[_0x5cbea9(0x6c4)](Number),_0x3d3ead=_0x38a34d(_0x3796df),_0x35977c=_0x2d8612(_0x38301c);return _0x5cbea9(0x542)+_0x3d3ead+'\x20CON\x20'+_0x35977c;}function formatShiftDate(_0x329541){const _0x150e9a=_0x44881d,_0x330a86=new Date(_0x329541);if(isNaN(_0x330a86))return'';const _0x495e93=new Date(),_0x5244b8=_0x495e93-_0x330a86,_0x35667c=Math['floor'](_0x5244b8/0x3e8),_0x4f03b9=Math[_0x150e9a(0x312)](_0x5244b8/0xea60),_0x5a0c6b=Math[_0x150e9a(0x312)](_0x5244b8/0x36ee80),_0x656090=Math[_0x150e9a(0x312)](_0x5244b8/0x5265c00);if(_0x35667c<0x3c)return _0x35667c+_0x150e9a(0x123);else{if(_0x4f03b9<0x3c)return _0x4f03b9+_0x150e9a(0x6c9);else{if(_0x5a0c6b<0x18){const _0x50345f=Math[_0x150e9a(0x312)](_0x5244b8%0x36ee80/0xea60);return _0x5a0c6b+'h\x20'+_0x50345f+_0x150e9a(0x4e1);}else{const _0x282264=Math[_0x150e9a(0x312)](_0x5244b8%0x5265c00/0x36ee80);return _0x656090+'d\x20'+_0x282264+'h';}}}}function generateUUID(){const _0x5c469d=_0x44881d;return'xxxxxxxxyxxxxxxx'[_0x5c469d(0x648)](/[xy]/g,function(_0x557031){const _0x1b4fde=_0x5c469d,_0x54400f=Math[_0x1b4fde(0x2b3)]()*0x10|0x0,_0x2e24be=_0x557031==='x'?_0x54400f:_0x54400f&0x3|0x8;return _0x2e24be[_0x1b4fde(0x5ac)](0x10);});}async function generatePdf(_0x55789a,_0x31e3cd='tk',_0x42f4ac=_0x44881d(0x3b0),_0x1b1ce3='1.5',_0x54da74=0x0){const _0x2b7d06=_0x44881d,{PDFDocument:_0x5cff01,rgb:_0x4df3b8}=PDFLib;try{const _0x3dbc6d=await _0x5cff01[_0x2b7d06(0x2b5)](),_0x3f5540=window[_0x2b7d06(0x133)];_0x3dbc6d[_0x2b7d06(0x6a3)](_0x3f5540);const [_0x5ecadf,_0x5ccddb]=await Promise[_0x2b7d06(0x33d)]([cargarFuente(_0x2b7d06(0x257),_0x3dbc6d),cargarFuente(_0x2b7d06(0x1ac),_0x3dbc6d)]);let _0x2d8988,_0x1d771b;if(_0x31e3cd=='tk')_0x2d8988=0xc8,_0x1d771b=0xbb8;else _0x31e3cd=='a4'&&(_0x2d8988=0x24e,_0x1d771b=0x7d0);const _0x4e3fbd=await procesarContenido(_0x3dbc6d,_0x5ecadf,_0x5ccddb,_0x55789a,_0x2d8988,_0x1d771b,_0x31e3cd,_0x4df3b8,_0x54da74);let _0x1746e1=_0x1d771b-_0x4e3fbd;_0x31e3cd=='tk'&&(_0x3dbc6d[_0x2b7d06(0x1a1)](0x0),await procesarContenido(_0x3dbc6d,_0x5ecadf,_0x5ccddb,_0x55789a,_0x2d8988,_0x1746e1,_0x31e3cd,_0x4df3b8,_0x54da74));_0x31e3cd=='a4'&&(_0x1746e1<0x34a&&(_0x1746e1=0x34a),_0x3dbc6d[_0x2b7d06(0x1a1)](0x0),await procesarContenido(_0x3dbc6d,_0x5ecadf,_0x5ccddb,_0x55789a,_0x2d8988,_0x1746e1,_0x31e3cd,_0x4df3b8,_0x54da74));const _0x5430a0=await _0x3dbc6d[_0x2b7d06(0x259)](),_0xb28a2d=new Blob([_0x5430a0],{'type':_0x2b7d06(0x53e)}),_0x49b3ca=parseInt(_0x55789a[_0x2b7d06(0x5e2)]),_0x1fa296=myCompany[_0x2b7d06(0x52d)]+'-'+String(_0x31e3cd)[_0x2b7d06(0x551)]()+'-'+_0x49b3ca+'-'+_0x55789a[_0x2b7d06(0x189)]+'-'+_0x55789a['setCorrelativo']+_0x2b7d06(0x2f5),_0x440e4c=URL[_0x2b7d06(0x2be)](_0xb28a2d),_0x11b453=document[_0x2b7d06(0x1a8)](_0x42f4ac),_0x149878=_0x11b453['getContext']('2d'),_0x4caf10=await pdfjsLib[_0x2b7d06(0x151)](_0x440e4c)['promise'],_0x335b46=await _0x4caf10[_0x2b7d06(0x459)](0x1),_0x4f27f4=_0x335b46[_0x2b7d06(0x483)]({'scale':parseFloat(_0x1b1ce3)});return _0x11b453['width']=_0x4f27f4[_0x2b7d06(0x369)],_0x11b453[_0x2b7d06(0x23c)]=_0x4f27f4['height'],_0x149878['clearRect'](0x0,0x0,_0x11b453[_0x2b7d06(0x369)],_0x11b453[_0x2b7d06(0x23c)]),await _0x335b46[_0x2b7d06(0x2a1)]({'canvasContext':_0x149878,'viewport':_0x4f27f4})[_0x2b7d06(0x2a5)],URL[_0x2b7d06(0x4de)](_0x440e4c),{'pdfBlob':_0xb28a2d,'pdfName':_0x1fa296};}catch(_0x3226cd){ntfShow(_0x3226cd,0x2,0x1);throw _0x3226cd;}}async function cargarFuente(_0x753e45,_0x2ad567){const _0x482f76=_0x44881d,_0x2a972e=await fetch(_0x753e45)[_0x482f76(0x5df)](_0xde784d=>_0xde784d[_0x482f76(0x2ed)]());return _0x2ad567['embedFont'](_0x2a972e);}async function procesarContenido(_0xb943ec,_0x5cfb38,_0x3d7317,_0x1893d2,_0x14e88e,_0x10df71,_0x1f4afd='tk',_0x5a6f45,_0x39cd2b=0x0){const _0x1dc707=_0x44881d,_0x544fa1=_0xb943ec[_0x1dc707(0x548)]([_0x14e88e,_0x10df71]),{width:_0x29e0c7,height:_0x58cf11}=_0x544fa1[_0x1dc707(0x4eb)](),_0x19d544=0xc,_0x1f417c=0x4,_0xa73c72=0xa;let _0x4ae847=_0x58cf11-_0xa73c72,{setLogoUrl:setLogoUrl=myCompany[_0x1dc707(0x472)],setEmpresaRuc:setEmpresaRuc=myCompany[_0x1dc707(0x52d)],setEmpresaNombre:setEmpresaNombre=myCompany['setEmpresaNombre'],setEmpresaTelefono:setEmpresaTelefono=myCompany['setCompanyPhone'],setEmpresaEmail:setEmpresaEmail=myCompany[_0x1dc707(0x3af)],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x1dc707(0x683)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe=_0x1dc707(0x6c2),setDespacho:setDespacho='',setFooter:setFooter=_0x1dc707(0x235),setProductos:setProductos=[],..._0x574436}=_0x1893d2;_0x1893d2=sanitizeData(_0x1893d2,_0x1dc707(0x589));const _0x103894=_0x574436[_0x1dc707(0x354)],_0x212581=_0x574436[_0x1dc707(0x2f2)],_0xbf044=_0x574436[_0x1dc707(0x203)],_0x550d6b=_0x574436[_0x1dc707(0x574)],_0x532f30=_0x574436[_0x1dc707(0x527)];let _0x387f17,_0x10a3ae;if(_0x532f30==_0x1dc707(0x4aa))_0x387f17=_0x1dc707(0x198),_0x10a3ae=_0x1dc707(0x6ad);else{if(_0x532f30==_0x1dc707(0x3b4))_0x387f17=_0x1dc707(0x180),_0x10a3ae=_0x1dc707(0x332);else{if(_0x532f30==_0x1dc707(0x6a0))_0x387f17='Habitación',_0x10a3ae=_0x1dc707(0x5fa);else _0x532f30==_0x1dc707(0x15e)&&(_0x387f17='Sillón',_0x10a3ae=_0x1dc707(0x13b));}}const _0x1ff6d1=_0x574436[_0x1dc707(0x699)],_0x170fbb=_0x574436[_0x1dc707(0x164)],_0x55f6ee=_0x574436[_0x1dc707(0x12f)],_0x57ee24=_0x574436[_0x1dc707(0x2d5)],_0x1550e1=(parseFloat(_0x574436[_0x1dc707(0x2bb)])||0x0)[_0x1dc707(0x4cc)](0x2),_0x9131a4=(parseFloat(_0x574436[_0x1dc707(0x593)])||0x0)[_0x1dc707(0x4cc)](0x2),_0xb99e0c=(parseFloat(_0x574436[_0x1dc707(0x54d)])||0x0)[_0x1dc707(0x4cc)](0x2),_0xf0240a=(parseFloat(_0x574436[_0x1dc707(0x144)])||0x0)['toFixed'](0x2),_0x4e3213=(parseFloat(_0x574436[_0x1dc707(0x53d)])||0x0)['toFixed'](0x2),_0x3e493e=(parseFloat(_0x574436[_0x1dc707(0x6cc)])||0x0)[_0x1dc707(0x4cc)](0x2),_0x3f5d95=(parseFloat(_0x574436[_0x1dc707(0x2e8)])||0x0)['toFixed'](0x2),_0x28809e=(parseFloat(_0x574436['setMtoIGV'])||0x0)[_0x1dc707(0x4cc)](0x2),_0x495db5=(parseFloat(_0x574436[_0x1dc707(0x31a)])||0x0)['toFixed'](0x2),_0x401158=(parseFloat(_0x574436[_0x1dc707(0x659)])||0x0)[_0x1dc707(0x4cc)](0x2),_0xd99b7a=parseFloat(_0x574436[_0x1dc707(0x34c)])||0x0;let _0x9741f7,_0x211209,_0x5ed4ad,_0x2a7039;_0xd99b7a==0x1&&(_0x9741f7=_0x574436['setDetraccionCodigo']||'',_0x211209=_0x574436[_0x1dc707(0x66e)]||'',_0x5ed4ad=_0x574436[_0x1dc707(0x11b)]||_0x1dc707(0x20b),_0x2a7039=_0x574436[_0x1dc707(0x49c)]||'0.00');const _0x382756=parseFloat(_0x574436['setRetencion'])||0x0;let _0x37890f,_0x402934;_0x382756==0x1&&(_0x37890f=_0x574436[_0x1dc707(0x24f)]||_0x1dc707(0x20b),_0x402934=_0x574436[_0x1dc707(0x157)]||_0x1dc707(0x20b));const _0x48bbb0=parseFloat(_0x574436[_0x1dc707(0x209)])||0x0;let _0x596dbf,_0x23307e;_0x48bbb0==0x1&&(_0x596dbf=_0x574436['setPercepcionPorcentaje']||_0x1dc707(0x20b),_0x23307e=_0x574436[_0x1dc707(0x3b2)]||_0x1dc707(0x20b));const _0xabb5fe=getFormattedDate(setFechaHora),_0x4b7066=getFormattedTime(setFechaHora),_0x1c5c77=myCompany[_0x1dc707(0x6b2)],_0x3d249a=parseInt(_0x574436[_0x1dc707(0xf2)])||0x0,{contado:_0x472b23,credito:_0x550cd9,mixto:_0x368822}=_0x574436[_0x1dc707(0x251)]||{},_0x2c7c0e=numeroALetras(parseFloat(_0x401158))+'\x20'+_0x57ee24[_0x1dc707(0x551)](),_0x5e0f21=_0x1dc707(0x356),_0x1e9595=_0x574436[_0x1dc707(0x2e0)],_0x48098b=_0x574436[_0x1dc707(0x3d2)],_0x23f8e=_0x1dc707(0x231),_0x33a584=_0x574436[_0x1dc707(0x471)],_0x22c94e=_0x574436['setSellerName'],_0x29de10='Cajero\x20/\x20Vendedor:';let _0x42e063,_0x38e010;if(setTipOpeOrders[_0x1dc707(0x484)](_0x1d35d2=>_0x1d35d2==setTipoOperacion)||setTipOpeQuotation[_0x1dc707(0x484)](_0x11a563=>_0x11a563==setTipoOperacion)||setTipOpeSales['some'](_0x124ea0=>_0x124ea0==setTipoOperacion))_0x42e063=_0x1dc707(0x51a),_0x38e010=0x2;else setTipOpePurchases[_0x1dc707(0x484)](_0x5101ac=>_0x5101ac==setTipoOperacion)&&(_0x42e063=_0x1dc707(0x624),_0x38e010=0x1);const _0x514599=_0x1dc707(0x32a),_0x580c3d='',_0x3eeed9=_0x1dc707(0x2f4),_0x4b6d34='',_0x1e3118=_0x1dc707(0x30b),_0x4bcf14='',_0x5b5245='Zona:',_0xa005db='';let _0x5baaa3='',_0x3d0744=[];_0x580c3d!=''&&(_0x5baaa3=_0x1dc707(0x57b),_0x3d0744=[_0x514599+':\x20'+_0x580c3d,_0x3eeed9+':\x20'+_0x4b6d34,_0x1e3118+':\x20'+_0x4bcf14,_0x5b5245+':\x20'+_0xa005db]);const _0x580075=getUserPermissionApiERP(0x7),_0x2e54a8=getUserPermissionApiERP(0x8),_0x53703a=getUserPermissionApiERP(0x13),_0x31f4ae=getUserPermissionApiERP(0x14),_0x1fdfa1=_0x5a6f45(0x1,0.35,0x0),_0x4e2e53=_0x5a6f45(0x1,0x1,0x1),_0x5491a7=_0x5a6f45(0x0,0x0,0x0),_0x5a92f1=_0x5a6f45(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0xf999d2=_0x5a6f45(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x4ae847-=_0x19d544;if(_0x1f4afd=='tk'){const _0xb7f481=(_0x3bc516,_0x53e573,_0x45ae10,_0x333096=0.5,_0x5b1dae=[0x1,0x3])=>{const _0x51981a=_0x1dc707;let _0x588ea3=_0x3bc516,_0x75733f=_0x5b1dae[0x0],_0x4755e4=_0x5b1dae[0x1];while(_0x588ea3<_0x53e573){_0x544fa1[_0x51981a(0x248)]({'start':{'x':_0x588ea3,'y':_0x45ae10},'end':{'x':_0x588ea3+_0x75733f,'y':_0x45ae10},'thickness':_0x333096}),_0x588ea3+=_0x75733f+_0x4755e4;}};function _0x383c49(_0x55e46b,_0x22a8e7,_0xb87e3f,_0x421429,_0x4ea854=_0x1dc707(0x265)){const _0x58adbc=_0x1dc707,_0x5b8130=_0x29e0c7-_0xa73c72*0x2,_0x1aacf0=_0x421429+0x2,_0x554d49=[],_0x33f234=_0x28c175=>_0xb87e3f['widthOfTextAtSize'](_0x28c175,_0x421429);if(_0x55e46b['indexOf']('\x20')==-0x1&&_0x33f234(_0x55e46b)>_0x5b8130){let _0x43244e=0x0,_0x59cb3c='';for(let _0x55ddf3=0x0;_0x55ddf3<_0x55e46b['length'];_0x55ddf3++){_0x59cb3c+=_0x55e46b[_0x55ddf3];if(_0x33f234(_0x59cb3c)>_0x5b8130){const _0x3aeeab=_0x59cb3c[_0x58adbc(0x612)](0x0,-0x1);_0x554d49[_0x58adbc(0x318)](_0x3aeeab),_0x59cb3c=_0x55e46b[_0x55ddf3];}}if(_0x59cb3c)_0x554d49[_0x58adbc(0x318)](_0x59cb3c);}else{const _0x45d349=_0x55e46b[_0x58adbc(0x18b)]('\x20');let _0xf5ea45='';for(let _0x28e9cc=0x0;_0x28e9cc<_0x45d349[_0x58adbc(0x506)];_0x28e9cc++){const _0x28e6c1=_0xf5ea45+(_0xf5ea45?'\x20':'')+_0x45d349[_0x28e9cc];_0x33f234(_0x28e6c1)>_0x5b8130&&_0xf5ea45?(_0x554d49[_0x58adbc(0x318)](_0xf5ea45),_0xf5ea45=_0x45d349[_0x28e9cc]):_0xf5ea45=_0x28e6c1;}if(_0xf5ea45)_0x554d49['push'](_0xf5ea45);}return _0x554d49['forEach'](_0x2f19a7=>{const _0x19ffe9=_0x58adbc,_0x226e21=_0x33f234(_0x2f19a7);let _0x10a297=_0xa73c72;if(_0x4ea854==_0x19ffe9(0x581))_0x10a297=_0xa73c72+(_0x5b8130-_0x226e21)/0x2;else _0x4ea854=='right'&&(_0x10a297=_0xa73c72+(_0x5b8130-_0x226e21));_0x544fa1['drawText'](_0x2f19a7,{'x':_0x10a297,'y':_0x22a8e7,'size':_0x421429,'font':_0xb87e3f}),_0x22a8e7-=_0x1aacf0;}),_0x22a8e7;}const _0x596b05=(_0x4ec8d9,_0x46222c,_0x154864,_0x461c6e,_0xdba75f,_0x425c74)=>{const _0x5659b1=_0x1dc707,_0xf6f202=(_0x14e88e-_0xa73c72*0x2)*0.3,_0x1ce202=(_0x14e88e-_0xa73c72*0x2)*0.1;_0x544fa1[_0x5659b1(0x208)](String(_0x4ec8d9),{'x':_0xa73c72,'y':_0x154864,'size':_0xdba75f,'font':_0x461c6e}),_0x544fa1[_0x5659b1(0x208)](':',{'x':_0xa73c72+_0xf6f202,'y':_0x154864,'size':_0xdba75f,'font':_0x461c6e});let _0x1aa9c0=_0x5cfb38['widthOfTextAtSize'](_0x46222c,_0xdba75f),_0x3207af=0x1;if(_0x1aa9c0>_0x425c74){let _0x71452f=_0x46222c[_0x5659b1(0x18b)]('\x20'),_0x595fd7='',_0x262300=_0x154864;_0x71452f[_0x5659b1(0x570)](_0xb50a1a=>{const _0x1137ff=_0x5659b1;_0x5cfb38[_0x1137ff(0x28c)](_0x595fd7+'\x20'+_0xb50a1a,_0xdba75f)>_0x425c74?(_0x544fa1[_0x1137ff(0x208)](_0x595fd7,{'x':_0xa73c72+_0xf6f202+_0x1ce202,'y':_0x262300,'size':_0xdba75f,'font':_0x461c6e}),_0x262300-=_0x19d544,_0x3207af++,_0x595fd7=_0xb50a1a):_0x595fd7+=(_0x595fd7?'\x20':'')+_0xb50a1a;}),_0x544fa1['drawText'](_0x595fd7,{'x':_0xa73c72+_0xf6f202+_0x1ce202,'y':_0x262300,'size':_0xdba75f,'font':_0x461c6e});}else _0x544fa1[_0x5659b1(0x208)](String(_0x46222c),{'x':_0xa73c72+_0xf6f202+_0x1ce202,'y':_0x154864,'size':_0xdba75f,'font':_0x461c6e});return _0x154864-_0x19d544*_0x3207af;},_0x1fbaf9=(_0x188f5c,_0x240d39,_0x2efd39,_0x1217ea,_0x2cec86,_0x22bb5c,_0x383557,_0x794bcd,_0x403db6=![])=>{const _0x35185f=_0x1dc707;_0x188f5c=_0x188f5c[_0x35185f(0x6c4)](_0x369be1=>String(_0x369be1)),_0x240d39=_0x240d39['map'](_0x6aee39=>String(_0x6aee39));const _0x631d83=(_0x22bb5c-_0x383557*0x2)*0.4,_0x4d2848=(_0x22bb5c-_0x383557*0x2)*0.2,_0x2f8d63=(_0x22bb5c-_0x383557*0x2)*0.2,_0x28725d=(_0x22bb5c-_0x383557*0x2)*0.2,_0x3c8170=(_0x1ca8aa,_0x538a2a,_0x3b1ab0,_0x14fb08,_0x22a4c0,_0x1c43d7)=>{const _0x1d9521=_0x35185f;let _0x398972=_0x22a4c0[_0x1d9521(0x28c)](_0x1ca8aa,_0x1c43d7),_0x5ba86c=0x1;if(_0x398972>_0x14fb08){let _0x44f655=_0x1ca8aa['split']('\x20'),_0x2f4372='',_0x469ef8=_0x3b1ab0;_0x44f655[_0x1d9521(0x570)](_0x40de90=>{const _0x985209=_0x1d9521;_0x22a4c0[_0x985209(0x28c)](_0x2f4372+'\x20'+_0x40de90,_0x1c43d7)>_0x14fb08?(_0x544fa1[_0x985209(0x208)](_0x2f4372,{'x':_0x538a2a,'y':_0x469ef8,'size':_0x1c43d7,'font':_0x22a4c0}),_0x469ef8-=_0x794bcd,_0x5ba86c++,_0x2f4372=_0x40de90):_0x2f4372+=(_0x2f4372?'\x20':'')+_0x40de90;}),_0x544fa1[_0x1d9521(0x208)](_0x2f4372,{'x':_0x538a2a,'y':_0x469ef8,'size':_0x1c43d7,'font':_0x22a4c0});}else _0x544fa1[_0x1d9521(0x208)](_0x1ca8aa,{'x':_0x538a2a,'y':_0x3b1ab0,'size':_0x1c43d7,'font':_0x22a4c0});return _0x3b1ab0-_0x794bcd*_0x5ba86c;};if(_0x403db6){_0x544fa1[_0x35185f(0x208)](String(_0x188f5c[0x0]),{'x':_0x383557,'y':_0x2efd39,'size':_0x2cec86,'font':_0x1217ea});const _0x18bbcf=_0x383557+_0x631d83+(_0x4d2848-_0x1217ea['widthOfTextAtSize'](String(_0x188f5c[0x1]),_0x2cec86))/0x2,_0x25596f=_0x383557+_0x631d83+_0x4d2848+(_0x2f8d63-_0x1217ea['widthOfTextAtSize'](String(_0x188f5c[0x2]),_0x2cec86))/0x2,_0x189057=_0x383557+_0x631d83+_0x4d2848+_0x2f8d63+(_0x28725d-_0x1217ea[_0x35185f(0x28c)](String(_0x188f5c[0x3]),_0x2cec86));return _0x544fa1[_0x35185f(0x208)](String(_0x188f5c[0x1]),{'x':_0x18bbcf,'y':_0x2efd39,'size':_0x2cec86,'font':_0x1217ea}),_0x544fa1['drawText'](String(_0x188f5c[0x2]),{'x':_0x25596f,'y':_0x2efd39,'size':_0x2cec86,'font':_0x1217ea}),_0x544fa1[_0x35185f(0x208)](String(_0x188f5c[0x3]),{'x':_0x189057,'y':_0x2efd39,'size':_0x2cec86,'font':_0x1217ea}),_0x2efd39-_0x794bcd;}else{let _0xd4358b=_0x2efd39;_0xd4358b=_0x3c8170(_0x240d39[0x0],_0x383557,_0xd4358b,_0x631d83,_0x1217ea,_0x2cec86);const _0x3831f9=_0x2efd39-_0xd4358b+_0x794bcd,_0x45b975=_0xd4358b+(_0x3831f9-_0x794bcd)/0x2,_0xb86558=_0x3831f9==_0x794bcd,_0x4f80d4=_0xb86558?_0x45b975:_0x45b975+_0x794bcd/0x2,_0x1dbf12=_0x383557+_0x631d83+(_0x4d2848-_0x1217ea[_0x35185f(0x28c)](_0x240d39[0x1],_0x2cec86))/0x2,_0x5ec4d3=_0x383557+_0x631d83+_0x4d2848+(_0x2f8d63-_0x1217ea['widthOfTextAtSize'](_0x240d39[0x2],_0x2cec86))/0x2,_0x35705c=_0x383557+_0x631d83+_0x4d2848+_0x2f8d63+(_0x28725d-_0x1217ea['widthOfTextAtSize'](_0x240d39[0x3],_0x2cec86));return _0x544fa1[_0x35185f(0x208)](String(_0x240d39[0x1]),{'x':_0x1dbf12,'y':_0x4f80d4,'size':_0x2cec86,'font':_0x1217ea}),_0x544fa1[_0x35185f(0x208)](String(_0x240d39[0x2]),{'x':_0x5ec4d3,'y':_0x4f80d4,'size':_0x2cec86,'font':_0x1217ea}),_0x544fa1[_0x35185f(0x208)](String(_0x240d39[0x3]),{'x':_0x35705c,'y':_0x4f80d4,'size':_0x2cec86,'font':_0x1217ea}),_0xd4358b-_0x794bcd;}},_0xb0c5e9=(_0x5ab198,_0x2daf1a,_0x13578b,_0x3e6ca6,_0x88f712)=>{const _0x20467b=_0x1dc707;_0x544fa1[_0x20467b(0x208)](String(_0x5ab198),{'x':_0xa73c72,'y':_0x13578b,'size':_0x88f712,'font':_0x3e6ca6});const _0x2d6e1f=_0x14e88e-_0xa73c72-_0x5cfb38[_0x20467b(0x28c)](_0x2daf1a,_0x88f712);return _0x544fa1[_0x20467b(0x208)](String(_0x2daf1a),{'x':_0x2d6e1f,'y':_0x13578b,'size':_0x88f712,'font':_0x3e6ca6}),_0x13578b-_0x19d544;};function _0x264089(_0x5da0c1,_0x10dbaa,_0xa98b4,_0x1a496f,_0x22d45d,_0x1aacbd,_0x58faff,_0x47f0ef){const _0x217d0a=_0x1dc707,_0x4ac602=_0x58faff-0x2*_0x47f0ef,_0x28a048=_0x4ac602*0.4,_0x219444=_0x4ac602*0.6,_0x1b96bb=_0x1aacbd*1.2,_0x4be6a2=_0x22d45d===_0x3d7317&&_0x1aacbd===0xb;function _0x4b4c9e(_0x5a7179,_0x1a47e7,_0x56407a,_0x7baa8d){const _0x69b16e=_0x1a69,_0xc453b6=_0x5a7179[_0x69b16e(0x18b)]('\x20');let _0x2ca208=[],_0x4c093e='';_0xc453b6[_0x69b16e(0x570)](_0x36d843=>{const _0x2e18e7=_0x69b16e,_0x5440c2=_0x4c093e?_0x4c093e+'\x20'+_0x36d843:_0x36d843;if(_0x56407a[_0x2e18e7(0x28c)](_0x5440c2,_0x7baa8d)<=_0x1a47e7)_0x4c093e=_0x5440c2;else{if(_0x4c093e)_0x2ca208[_0x2e18e7(0x318)](_0x4c093e);_0x4c093e=_0x36d843;}});if(_0x4c093e)_0x2ca208[_0x69b16e(0x318)](_0x4c093e);return _0x2ca208;}let _0x53a4b0=[];if(_0x4be6a2){const _0x37879c=_0x10dbaa['match'](/^(.*?)\s*(\([^)]*\))$/);_0x37879c?_0x53a4b0=[{'quantity':_0x37879c[0x1][_0x217d0a(0x575)](),'unit':_0x37879c[0x2][_0x217d0a(0x575)]()}]:_0x53a4b0=_0x4b4c9e(_0x10dbaa,_0x28a048,_0x22d45d,_0x1aacbd);}else _0x53a4b0=_0x4b4c9e(_0x10dbaa,_0x28a048,_0x22d45d,_0x1aacbd);const _0x5da4f5=_0x4b4c9e(_0xa98b4,_0x219444,_0x22d45d,_0x1aacbd),_0x432555=Math[_0x217d0a(0x1f8)](_0x53a4b0[_0x217d0a(0x506)],_0x5da4f5[_0x217d0a(0x506)]),_0x43f01a=_0x53a4b0[_0x217d0a(0x506)]*_0x1b96bb,_0x38153e=_0x5da4f5[_0x217d0a(0x506)]*_0x1b96bb,_0x53cab3=(_0x432555*_0x1b96bb-_0x43f01a)/0x2,_0x1e4469=(_0x432555*_0x1b96bb-_0x38153e)/0x2;return _0x53a4b0[_0x217d0a(0x570)]((_0x457c3f,_0x4b4ce7)=>{const _0x4b1528=_0x217d0a,_0x35caf6=_0x1a496f-_0x53cab3-(_0x4b4ce7+0x1)*_0x1b96bb;let _0x279546;if(_0x4be6a2&&typeof _0x457c3f===_0x4b1528(0x2ea)&&_0x457c3f[_0x4b1528(0x26e)]!==undefined){const _0x19081b=_0x3d7317[_0x4b1528(0x28c)](_0x457c3f[_0x4b1528(0x26e)],0xb),_0x42489c=_0x5cfb38['widthOfTextAtSize'](_0x457c3f[_0x4b1528(0x412)],0x9),_0x45aea8=0x2,_0x3e2be9=_0x19081b+_0x45aea8+_0x42489c;_0x279546=_0x47f0ef+(_0x28a048-_0x3e2be9)/0x2,_0x5da0c1[_0x4b1528(0x208)](_0x457c3f['quantity'],{'x':_0x279546,'y':_0x35caf6,'size':0xb,'font':_0x3d7317});const _0x3cea78=0x2;_0x5da0c1['drawText'](_0x457c3f[_0x4b1528(0x412)],{'x':_0x279546+_0x19081b+_0x45aea8,'y':_0x35caf6+(0xb-0x9)-_0x3cea78,'size':0x9,'font':_0x5cfb38});}else{const _0x1c2612=_0x22d45d[_0x4b1528(0x28c)](_0x457c3f,_0x1aacbd);_0x279546=_0x47f0ef+(_0x28a048-_0x1c2612)/0x2,_0x5da0c1[_0x4b1528(0x208)](_0x457c3f,{'x':_0x279546,'y':_0x35caf6,'size':_0x1aacbd,'font':_0x22d45d});}}),_0x5da4f5[_0x217d0a(0x570)]((_0xc0c22f,_0x22d142)=>{const _0x1dbb64=_0x217d0a,_0x4a42c0=_0x1a496f-_0x1e4469-(_0x22d142+0x1)*_0x1b96bb;let _0x337793;if(_0x4be6a2)_0x337793=_0x47f0ef+_0x28a048+0x5;else{const _0x2405e6=_0x22d45d[_0x1dbb64(0x28c)](_0xc0c22f,_0x1aacbd);_0x337793=_0x47f0ef+_0x28a048+(_0x219444-_0x2405e6)/0x2;}_0x5da0c1[_0x1dbb64(0x208)](_0xc0c22f,{'x':_0x337793,'y':_0x4a42c0,'size':_0x1aacbd,'font':_0x22d45d});}),_0x1a496f-_0x432555*_0x1b96bb;}function _0x5ab848(_0x1f70dd,_0x398ab8,_0xf319f5,_0x543482){const _0x3f6124=_0x1dc707,_0x4afe02=_0x1f70dd['split']('\x20');let _0x33552a=[],_0x2cf3a3='';_0x4afe02[_0x3f6124(0x570)](_0x226e78=>{const _0x57dbf7=_0x3f6124,_0x3ab10b=_0x2cf3a3?_0x2cf3a3+'\x20'+_0x226e78:_0x226e78;if(_0xf319f5[_0x57dbf7(0x28c)](_0x3ab10b,_0x543482)<=_0x398ab8)_0x2cf3a3=_0x3ab10b;else{if(_0x2cf3a3)_0x33552a[_0x57dbf7(0x318)](_0x2cf3a3);_0x2cf3a3=_0x226e78;}});if(_0x2cf3a3)_0x33552a[_0x3f6124(0x318)](_0x2cf3a3);return _0x33552a;}if(setTipOpeSales['some'](_0x3a32f9=>_0x3a32f9==setTipoOperacion)||setTipOpePurchases['some'](_0x18b862=>_0x18b862==setTipoOperacion)||setTipOpeQuotation['some'](_0x2fef02=>_0x2fef02==setTipoOperacion)||_0x39cd2b==0x1){if(_0x39cd2b==0x1){if(setLogoUrl){const _0x25dcec=setLogoUrl[_0x1dc707(0x18b)](',')[0x1],_0x37bd94=Uint8Array[_0x1dc707(0x2af)](atob(_0x25dcec),_0x43906d=>_0x43906d[_0x1dc707(0x1d7)](0x0));let _0x4edfa0;try{_0x4edfa0=await _0xb943ec[_0x1dc707(0x64e)](_0x37bd94);}catch(_0x26c563){try{_0x4edfa0=await _0xb943ec[_0x1dc707(0x633)](_0x37bd94);}catch(_0x44c4c2){throw new Error(_0x1dc707(0x250));}}const _0x382e7e=_0x14e88e*0.5,_0x2f8d9f=_0x4edfa0[_0x1dc707(0x369)],_0x58ce2e=_0x382e7e/_0x2f8d9f,_0x1d5dc6=_0x4edfa0['scale'](_0x58ce2e),_0xe35f40=(_0x14e88e-_0x1d5dc6['width'])/0x2,_0x46efc9=_0x4ae847-_0x1d5dc6[_0x1dc707(0x23c)];_0x544fa1[_0x1dc707(0x4fd)](_0x4edfa0,{'x':_0xe35f40,'y':_0x46efc9,'width':_0x1d5dc6['width'],'height':_0x1d5dc6[_0x1dc707(0x23c)]}),_0x4ae847=_0x46efc9;}}if(_0x39cd2b!=0x1){if(setLogoUrl){const _0xdc55ba=setLogoUrl['split'](',')[0x1],_0x1a4f42=Uint8Array['from'](atob(_0xdc55ba),_0x4f1c81=>_0x4f1c81['charCodeAt'](0x0));let _0x2e1642;try{_0x2e1642=await _0xb943ec['embedPng'](_0x1a4f42);}catch(_0x2c58cc){try{_0x2e1642=await _0xb943ec['embedJpg'](_0x1a4f42);}catch(_0x2495b2){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x58e2fd=_0x14e88e*0.5,_0x5dbbe2=_0x2e1642[_0x1dc707(0x369)],_0x28ac79=_0x58e2fd/_0x5dbbe2,_0x594258=_0x2e1642[_0x1dc707(0x376)](_0x28ac79),_0xc7b3a1=(_0x14e88e-_0x594258[_0x1dc707(0x369)])/0x2,_0x5b9e59=_0x4ae847-_0x594258[_0x1dc707(0x23c)];_0x544fa1[_0x1dc707(0x4fd)](_0x2e1642,{'x':_0xc7b3a1,'y':_0x5b9e59,'width':_0x594258['width'],'height':_0x594258[_0x1dc707(0x23c)]}),_0x4ae847=_0x5b9e59-_0x19d544-0x5;}setEmpresaNombre&&(_0x4ae847=_0x383c49(setEmpresaNombre,_0x4ae847,_0x3d7317,0xb,_0x1dc707(0x581))),_0x103894&&(_0x4ae847=_0x383c49(_0x103894,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581))),setEmpresaEmail&&(_0x4ae847=_0x383c49(setEmpresaEmail,_0x4ae847,_0x5cfb38,0x8,'center')),setEmpresaTelefono&&(_0x4ae847=_0x383c49(setEmpresaTelefono,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581))),setEmpresaSitioWeb&&(_0x4ae847=_0x383c49(setEmpresaSitioWeb,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581)));}_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;if(setEmpresaRuc){const _0x19b33b=_0x5cfb38[_0x1dc707(0x28c)](_0x1c5c77+':\x20'+setEmpresaRuc,0xb),_0x6516df=(_0x14e88e-_0x19b33b)/0x2;_0x544fa1['drawText'](_0x1c5c77+':\x20'+setEmpresaRuc,{'x':_0x6516df,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=0x9;}_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;if(_0x39cd2b==0x1){const _0x525901=_0x5cfb38[_0x1dc707(0x28c)]('PRE\x20CUENTA',0xb),_0x558afc=(_0x14e88e-_0x525901)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1dc707(0x4e9),{'x':_0x558afc,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=0x9;}else{const _0x3bb1eb=_0x5cfb38[_0x1dc707(0x28c)](_0x170fbb['toUpperCase'](),0xb),_0x4c380a=(_0x14e88e-_0x3bb1eb)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x170fbb[_0x1dc707(0x551)](),{'x':_0x4c380a,'y':_0x4ae847,'size':0xb,'font':_0x3d7317});if(setSerie&&setCorrelativo){_0x4ae847-=_0x19d544;const _0x4c66c8=_0x5cfb38[_0x1dc707(0x28c)](setSerie[_0x1dc707(0x551)]()+'\x20-\x20'+setCorrelativo,0xb),_0x114bc9=(_0x14e88e-_0x4c66c8)/0x2;_0x544fa1[_0x1dc707(0x208)](setSerie['toUpperCase']()+_0x1dc707(0x461)+setCorrelativo,{'x':_0x114bc9,'y':_0x4ae847,'size':0xb,'font':_0x3d7317});}_0x4ae847-=0x9;}_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;if(_0x39cd2b==0x1){const _0x9da80=_0x5cfb38[_0x1dc707(0x28c)](_0x1ff6d1,0xb),_0xb7444d=(_0x14e88e-_0x9da80)/0x2;_0x544fa1['drawText'](_0x1ff6d1,{'x':_0xb7444d,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=0x9,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;}const _0x22c0ab=(_0x14e88e-_0xa73c72*0x2)*0.6;_0x39cd2b!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x4ae847=_0x596b05(setClienteTipoDoc,setClienteNumDoc,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab)),setClienteDenominacion&&(_0x4ae847=_0x596b05(_0x42e063,setClienteDenominacion,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab)),setClienteDireccion&&(_0x4ae847=_0x596b05(_0x1dc707(0x518),setClienteDireccion,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab)),_0x212581&&(_0x4ae847=_0x596b05(_0x1dc707(0x5b2),_0x212581,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab)),_0xbf044&&(_0x4ae847=_0x596b05(_0x1dc707(0x4cd),_0xbf044,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab)));_0xabb5fe&&(_0x4ae847=_0x596b05('Fecha',_0xabb5fe,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab));_0x4b7066&&(_0x4ae847=_0x596b05(_0x1dc707(0x404),_0x4b7066,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab));_0x39cd2b==0x1&&(_0x4ae847=_0x596b05(_0x387f17,_0x550d6b,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab),_0x4ae847=_0x596b05(_0x10a3ae,_0x22c94e,_0x4ae847,_0x5cfb38,0x9,_0x22c0ab));_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=_0x19d544;const _0x4786f6=[_0x1dc707(0x605),'CANT',_0x1dc707(0x158),_0x1dc707(0x3bd)];_0x4ae847=_0x1fbaf9(_0x4786f6,[],_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0x8,!![]),_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=_0x19d544;if(_0x3d249a==0x1){const _0x5933c0=[_0x1dc707(0x1f9),'1\x20UND',parseFloat(_0x401158)[_0x1dc707(0x4cc)](0x2),parseFloat(_0x401158)[_0x1dc707(0x4cc)](0x2)];_0x4ae847=_0x1fbaf9([],_0x5933c0,_0x4ae847,_0x5cfb38,0x7,_0x14e88e,_0xa73c72,0xa,![]),_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847+_0x19d544);}else setProductos['forEach']((_0x3beb12,_0x36dd9e)=>{const _0x3088d0=_0x1dc707;let {setDescripcion:_0x569c61,setCantidad:_0xe2dc8b,setMtoPrecioUnitario:_0xbb44cf,setTotal:_0x433fb2,setDescuento:_0x15e751,setMtoPrecioUnitario_final:_0x235875,setUnidad:_0x216f94,setTipAfeIgv:_0x1957f0,setNotas:_0x248b7b,setItemDescription:_0x59359f,setMarca:_0x2e1a01}=_0x3beb12;_0x15e751[_0x3088d0(0x5be)]>0x0&&(_0x569c61+='\x20('+_0x15e751[_0x3088d0(0x5be)]+_0x3088d0(0x101)+_0x55f6ee+parseFloat(_0x235875)[_0x3088d0(0x4cc)](0x2)+')');(setTipAfeImpGravadosGrat[_0x3088d0(0x484)](_0x7d5de5=>_0x7d5de5==_0x1957f0)||setTipAfeImpInafectosGrat[_0x3088d0(0x484)](_0x128ba9=>_0x128ba9==_0x1957f0)||setTipAfeImpExoneradosGrat[_0x3088d0(0x484)](_0x3598d2=>_0x3598d2==_0x1957f0))&&(_0xbb44cf=_0x235875,setTipAfeImpGravadosGrat[_0x3088d0(0x484)](_0x366a6e=>_0x366a6e==_0x1957f0)&&(_0x569c61+=_0x3088d0(0x4f8)),setTipAfeImpExoneradosGrat[_0x3088d0(0x484)](_0x2246ac=>_0x2246ac==_0x1957f0)&&(_0x569c61+='\x20(Exonerado\x20Gratuito)'),setTipAfeImpInafectosGrat[_0x3088d0(0x484)](_0x15e715=>_0x15e715==_0x1957f0)&&(_0x569c61+=_0x3088d0(0x5d5)));let _0x54d27e=products[_0x3088d0(0x552)](_0x6fb54b=>_0x6fb54b['id']==_0x3beb12[_0x3088d0(0x19b)]);_0x580075==0x1&&_0x54d27e&&_0x54d27e[_0x3088d0(0x1a7)]&&(_0x569c61+=_0x3088d0(0x534)+_0x54d27e[_0x3088d0(0x1a7)]);_0x2e54a8==0x1&&_0x54d27e&&_0x54d27e[_0x3088d0(0x237)]&&(_0x569c61+=_0x3088d0(0x30c)+_0x54d27e[_0x3088d0(0x237)]);_0xe2dc8b+='\x20('+_0x216f94+')';const _0x5a3cae=[_0x569c61,_0xe2dc8b,parseFloat(_0xbb44cf)['toFixed'](0x2),_0x433fb2[_0x3088d0(0x4cc)](0x2)];_0x4ae847=_0x1fbaf9([],_0x5a3cae,_0x4ae847,_0x5cfb38,0x7,_0x14e88e,_0xa73c72,0xa,![]);if(_0x31f4ae==0x1&&_0x59359f!=''){const _0x5140de=_0x248b7b[_0x3088d0(0x575)]()?'\x0a':'';_0x248b7b+=_0x5140de+_0x3088d0(0x219)+_0x59359f;}if(_0x53703a==0x1&&_0x2e1a01!=''){const _0x123b01=_0x248b7b[_0x3088d0(0x575)]()?'\x0a':'';_0x248b7b+=_0x123b01+_0x3088d0(0x2f7)+_0x2e1a01;}const _0x4b3f81=_0x14e88e-0x2*_0xa73c72,_0x41c9ac=_0x4b3f81*0.4;if(_0x248b7b){const _0x1ce224=0x7,_0x2fff38=_0xa73c72,_0x1ddf26=_0x41c9ac,_0x1a0b7c=_0x1ce224*1.2,_0x1b79fb=_0x248b7b[_0x3088d0(0x18b)](/\r?\n/);let _0xbcebf5=[];_0x1b79fb[_0x3088d0(0x570)](_0x5dd5c4=>{const _0x3fe150=_0x3088d0,_0x5ae6af=_0x5ab848('*\x20'+_0x5dd5c4,_0x1ddf26,_0x5cfb38,_0x1ce224);_0xbcebf5=_0xbcebf5[_0x3fe150(0x60b)](_0x5ae6af);}),_0xbcebf5[_0x3088d0(0x570)]((_0x22a16d,_0x38219c)=>{const _0x2db237=_0x4ae847+0xf-(_0x38219c+0x1)*_0x1a0b7c;_0x544fa1['drawText'](_0x22a16d,{'x':_0x2fff38,'y':_0x2db237,'size':_0x1ce224,'font':_0x5cfb38});}),_0x4ae847-=_0xbcebf5['length']*_0x1a0b7c+0x5;}_0xb7f481(_0xa73c72,_0x14e88e-_0xa73c72,_0x4ae847+_0x19d544);});_0x4ae847-=0x5;parseFloat(_0x1550e1)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x643),_0x55f6ee+'\x20'+_0x1550e1,_0x4ae847,_0x5cfb38,0x7));parseFloat(_0x9131a4)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x2d8),_0x55f6ee+'\x20'+_0x9131a4,_0x4ae847,_0x5cfb38,0x7));!setTipOpeExo[_0x1dc707(0x484)](_0x1ee380=>_0x1ee380==setTipoOperacion)&&_0x39cd2b!=0x1&&(parseFloat(_0xb99e0c)>0x0&&(_0x4ae847=_0xb0c5e9('OP.\x20GRAVADAS',_0x55f6ee+'\x20'+_0xb99e0c,_0x4ae847,_0x5cfb38,0x7)),parseFloat(_0xf0240a)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x64c),_0x55f6ee+'\x20'+_0xf0240a,_0x4ae847,_0x5cfb38,0x7)),parseFloat(_0x4e3213)>0x0&&(_0x4ae847=_0xb0c5e9('OP.\x20INAFECTAS',_0x55f6ee+'\x20'+_0x4e3213,_0x4ae847,_0x5cfb38,0x7)),parseFloat(_0x3e493e)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x12d),_0x55f6ee+'\x20'+_0x3e493e,_0x4ae847,_0x5cfb38,0x7)),parseFloat(_0x495db5)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x61b),_0x55f6ee+'\x20'+_0x495db5,_0x4ae847,_0x5cfb38,0x7)),_0x4ae847=_0xb0c5e9(_0x1dc707(0x514),_0x55f6ee+'\x20'+_0x3f5d95,_0x4ae847,_0x5cfb38,0x7),_0x4ae847=_0xb0c5e9(_0x1dc707(0x1ad),_0x55f6ee+'\x20'+_0x28809e,_0x4ae847,_0x5cfb38,0x7));_0x4ae847=_0xb0c5e9(_0x1dc707(0x351),_0x55f6ee+'\x20'+_0x401158,_0x4ae847,_0x3d7317,0x8);if(_0x39cd2b!=0x1){if(_0xd99b7a==0x1){_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;const _0x1beec4=_0x1dc707(0x466),_0x156496=_0x5cfb38['widthOfTextAtSize'](_0x1beec4,0x8),_0x5d4eab=(_0x14e88e-_0x156496)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1beec4,{'x':_0x5d4eab,'y':_0x4ae847,'size':0x8,'font':_0x3d7317}),_0x4ae847-=_0x19d544+0x5,_0x4ae847=_0x383c49(_0x1dc707(0x24c)+_0x9741f7+'\x20'+_0x211209,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581)),_0x4ae847-=0x5,_0x4ae847=_0xb0c5e9(_0x1dc707(0x507)+_0x5ed4ad+'%)',_0x55f6ee+'\x20'+_0x2a7039,_0x4ae847,_0x5cfb38,0x7);}_0x382756==0x1&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x532)+_0x37890f+'%)',_0x55f6ee+'\x20'+_0x402934,_0x4ae847,_0x5cfb38,0x7));_0x48bbb0==0x1&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x475)+_0x596dbf+'%)',_0x55f6ee+'\x20'+_0x23307e,_0x4ae847,_0x5cfb38,0x7));if(_0x472b23&&_0x472b23[_0x1dc707(0x4d9)]==!![]||_0x368822&&_0x368822[_0x1dc707(0x4d9)]==!![]){_0x4ae847-=_0x19d544,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847+_0x19d544),_0x4ae847=_0x383c49(_0x1dc707(0x687),_0x4ae847,_0x5cfb38,0x7),_0x4ae847-=0x5;for(let _0x4e3400 in _0x472b23[_0x1dc707(0x62e)]){const _0x37e026=_0x472b23['data'][_0x4e3400];if(_0x37e026&&typeof _0x37e026==_0x1dc707(0x2ea)&&'monto'in _0x37e026){const _0x10b80f=parseFloat(_0x37e026[_0x1dc707(0x4e6)]);if(_0x10b80f>0x0){_0x4ae847=_0xb0c5e9(_0x4e3400[_0x1dc707(0x551)](),_0x55f6ee+'\x20'+_0x10b80f[_0x1dc707(0x4cc)](0x2),_0x4ae847,_0x5cfb38,0x7);if(_0x1dc707(0x311)in _0x37e026&&_0x1dc707(0x55e)in _0x37e026){const _0x220a29=_0x37e026[_0x1dc707(0x311)],_0x59faaf=parseFloat(_0x37e026[_0x1dc707(0x55e)]);_0x220a29!==undefined&&_0x59faaf!==undefined&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x200)+_0x220a29+'%)',_0x55f6ee+'\x20'+_0x59faaf['toFixed'](0x2),_0x4ae847,_0x5cfb38,0x7));}if(_0x37e026[_0x1dc707(0x5e6)]&&_0x37e026[_0x1dc707(0x5e6)]!='0'){const _0x2f530c=myCompany[_0x1dc707(0x647)][_0x1dc707(0x552)](_0x581f3b=>_0x581f3b[_0x1dc707(0x49f)]==_0x37e026[_0x1dc707(0x5e6)]);_0x2f530c&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0xfc)+_0x2f530c[_0x1dc707(0x56d)],'',_0x4ae847,_0x5cfb38,0x7));}_0x37e026[_0x1dc707(0x425)]&&(_0x4ae847=_0xb0c5e9('Nº\x20Operación:\x20\x20'+_0x37e026[_0x1dc707(0x425)],'',_0x4ae847,_0x5cfb38,0x7));}}}const _0x222f1b=_0x472b23['data'][_0x1dc707(0x5f5)];parseFloat(_0x222f1b)>0x0&&(_0x4ae847=_0xb0c5e9(_0x1dc707(0x419),_0x55f6ee+'\x20'+_0x222f1b,_0x4ae847,_0x5cfb38,0x7));}if(_0x550cd9&&_0x550cd9[_0x1dc707(0x4d9)]==!![]||_0x368822&&_0x368822[_0x1dc707(0x4d9)]==!![]){if(Array[_0x1dc707(0x473)](_0x550cd9[_0x1dc707(0x62e)])&&_0x550cd9[_0x1dc707(0x62e)][_0x1dc707(0x506)]>0x0){_0x4ae847-=_0x19d544,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847+_0x19d544),_0x4ae847=_0x383c49(_0x1dc707(0x639),_0x4ae847,_0x5cfb38,0x7),_0x4ae847-=0x5;let _0x57108c;_0x550cd9[_0x1dc707(0x4d9)]==!![]?_0x57108c=parseFloat(_0x401158):_0x57108c=_0x472b23['data'][_0x1dc707(0x315)],_0x4ae847=_0xb0c5e9('Total\x20Pendiente',_0x55f6ee+'\x20'+_0x57108c,_0x4ae847,_0x5cfb38,0x7),_0x4ae847=_0xb0c5e9('Nº\x20de\x20cuotas',_0x550cd9[_0x1dc707(0x62e)]['length']+_0x1dc707(0x487),_0x4ae847,_0x5cfb38,0x7),_0x4ae847=_0x383c49(_0x1dc707(0x670),_0x4ae847,_0x5cfb38,0x7),_0x4ae847-=0x5,_0x550cd9[_0x1dc707(0x62e)]['forEach'](_0x37348a=>{const _0x48195f=_0x1dc707;_0x4ae847=_0xb0c5e9(_0x48195f(0x3f3)+_0x37348a[_0x48195f(0x52c)],_0x37348a[_0x48195f(0x698)]+_0x48195f(0x534)+parseFloat(_0x37348a[_0x48195f(0x4fa)])[_0x48195f(0x4cc)](0x2),_0x4ae847,_0x5cfb38,0x7);});}}}_0x4ae847-=_0x19d544,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847+_0x19d544),_0x4ae847-=0x5;_0x2c7c0e&&(_0x4ae847=_0x383c49(_0x2c7c0e,_0x4ae847,_0x3d7317,0x8,_0x1dc707(0x581)));if(_0x39cd2b!=0x1){const _0x2e369b='NOTAS:';if(setObservacion){_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;const _0x5e889a=_0x5cfb38['widthOfTextAtSize'](_0x2e369b,0x8),_0x424a8e=(_0x14e88e-_0x5e889a)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x2e369b,{'x':_0x424a8e,'y':_0x4ae847,'size':0x8,'font':_0x3d7317}),_0x4ae847-=_0x19d544,_0x4ae847=_0x383c49(setObservacion,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581));}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;const _0x1ff3ba=_0x1dc707(0x210),_0xaf8523=_0x5cfb38['widthOfTextAtSize'](_0x1ff3ba,0x7),_0x43b712=(_0x14e88e-_0xaf8523)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1ff3ba,{'x':_0x43b712,'y':_0x4ae847,'size':0x7,'font':_0x5cfb38}),_0x4ae847-=0x9;const _0x43d160=_0x1dc707(0x285),_0x23c0ee=_0x5cfb38[_0x1dc707(0x28c)](_0x43d160,0x7),_0x4cfdae=(_0x14e88e-_0x23c0ee)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x43d160,{'x':_0x4cfdae,'y':_0x4ae847,'size':0x7,'font':_0x5cfb38}),_0x4ae847-=0x9;const _0x574159='REPRESENTACION\x20IMPRESA\x20DE',_0x59f1fc=_0x5cfb38[_0x1dc707(0x28c)](_0x574159,0x7),_0x5b2741=(_0x14e88e-_0x59f1fc)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x574159,{'x':_0x5b2741,'y':_0x4ae847,'size':0x7,'font':_0x5cfb38}),_0x4ae847-=0x9;const _0x1abe4e=_0x1dc707(0x602),_0x280192=_0x5cfb38[_0x1dc707(0x28c)](_0x1abe4e,0x7),_0xca5404=(_0x14e88e-_0x280192)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1abe4e,{'x':_0xca5404,'y':_0x4ae847,'size':0x7,'font':_0x5cfb38}),_0x4ae847-=0x9;const _0x1140fa='PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:',_0xcb9ea3=_0x5cfb38[_0x1dc707(0x28c)](_0x1140fa,0x7),_0x23a9f9=(_0x14e88e-_0xcb9ea3)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1140fa,{'x':_0x23a9f9,'y':_0x4ae847,'size':0x7,'font':_0x5cfb38}),_0x4ae847-=0x9;const _0x341f59=setUrlConsultasCpe,_0x210e60=_0x5cfb38[_0x1dc707(0x28c)](_0x341f59,0x7),_0x1b2ba6=(_0x14e88e-_0x210e60)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x341f59,{'x':_0x1b2ba6,'y':_0x4ae847,'size':0x7,'font':_0x3d7317}),_0x4ae847-=0x9;const _0x292bd0=[setEmpresaRuc,setSerie,setCorrelativo,_0xb99e0c>0x0?_0xb99e0c:null,_0xf0240a>0x0?_0xf0240a:null,_0x4e3213>0x0?_0x4e3213:null,_0x3e493e>0x0?_0x3e493e:null,_0x28809e>0x0?_0x28809e:null,_0x401158>0x0?_0x401158:null,setClienteNumDoc],_0x4346ce=_0x292bd0[_0x1dc707(0x2c8)](_0x3f2fd1=>_0x3f2fd1!==null)['join']('|'),_0x3b9069=document['createElement'](_0x1dc707(0x5ef)),_0x37aef6=new QRCode(_0x3b9069,{'text':_0x4346ce,'width':0x80,'height':0x80,'colorDark':_0x1dc707(0x696),'colorLight':_0x1dc707(0x6c6),'correctLevel':QRCode[_0x1dc707(0x381)]['H']});await new Promise(_0x584002=>setTimeout(_0x584002,0x1f4));const _0x32ee3d=_0x3b9069[_0x1dc707(0x5cf)](_0x1dc707(0x307)),_0x57ab86=_0x32ee3d[_0x1dc707(0x44f)](_0x1dc707(0x444)),_0x1cd08e=atob(_0x57ab86[_0x1dc707(0x18b)](',')[0x1]),_0x376f9c=Uint8Array[_0x1dc707(0x2af)](_0x1cd08e,_0x37cc38=>_0x37cc38[_0x1dc707(0x1d7)](0x0)),_0x3fa71a=await _0xb943ec[_0x1dc707(0x64e)](_0x376f9c),_0x35d854=_0x3fa71a['scale'](0.6),_0x410939=(_0x14e88e-_0x35d854[_0x1dc707(0x369)])/0x2,_0x21c133=_0x4ae847-_0x35d854[_0x1dc707(0x23c)];_0x544fa1[_0x1dc707(0x4fd)](_0x3fa71a,{'x':_0x410939,'y':_0x21c133,'width':_0x35d854[_0x1dc707(0x369)],'height':_0x35d854[_0x1dc707(0x23c)]}),_0x4ae847=_0x21c133-_0x19d544;}}_0x39cd2b==0x1&&(_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544,_0x4ae847=_0x596b05(_0x1dc707(0x142),_0x1dc707(0x2e3),_0x4ae847,_0x5cfb38,0x9,_0x22c0ab),_0x4ae847=_0x596b05(_0x1dc707(0x61d),_0x1dc707(0x2e3),_0x4ae847,_0x5cfb38,0x9,_0x22c0ab),_0x4ae847=_0x596b05(_0x1dc707(0x518),_0x1dc707(0x2e3),_0x4ae847,_0x5cfb38,0x9,_0x22c0ab),_0x4ae847-=0x5),_0x39cd2b!=0x1&&(setTipOpeSales[_0x1dc707(0x484)](_0x48693f=>_0x48693f==setTipoOperacion)&&(_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544,_0x1e9595!=_0x33a584?(_0x4ae847=_0x383c49(_0x23f8e,_0x4ae847,_0x3d7317,0x8,'center'),_0x4ae847=_0x383c49(_0x22c94e,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581)),_0x4ae847=_0x383c49(_0x5e0f21,_0x4ae847,_0x3d7317,0x8,_0x1dc707(0x581)),_0x4ae847=_0x383c49(_0x48098b,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581))):(_0x4ae847=_0x383c49(_0x29de10,_0x4ae847,_0x3d7317,0x8,_0x1dc707(0x581)),_0x4ae847=_0x383c49(_0x48098b,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581)))),setTipOpeQuotation['some'](_0x46fd80=>_0x46fd80==setTipoOperacion)&&(_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544,_0x4ae847=_0x383c49(_0x23f8e,_0x4ae847,_0x3d7317,0x8,'center'),_0x4ae847=_0x383c49(_0x22c94e,_0x4ae847,_0x5cfb38,0x8,_0x1dc707(0x581))),setFooter&&setTipOpeSales[_0x1dc707(0x484)](_0x419e35=>_0x419e35==setTipoOperacion)&&(_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544,_0x4ae847=_0x383c49(setFooter,_0x4ae847,_0x3d7317,0x8,_0x1dc707(0x581))));}else{if(setTipOpeOrders[_0x1dc707(0x484)](_0x574c9e=>_0x574c9e==setTipoOperacion)){if(setLogoUrl){const _0x12bf40=setLogoUrl[_0x1dc707(0x18b)](',')[0x1],_0x129d29=Uint8Array['from'](atob(_0x12bf40),_0x128b7f=>_0x128b7f[_0x1dc707(0x1d7)](0x0));let _0x299dbe;try{_0x299dbe=await _0xb943ec[_0x1dc707(0x64e)](_0x129d29);}catch(_0x4ff988){try{_0x299dbe=await _0xb943ec['embedJpg'](_0x129d29);}catch(_0xe359ac){throw new Error(_0x1dc707(0x250));}}const _0x9f4f18=_0x14e88e*0.5,_0x4b994d=_0x299dbe[_0x1dc707(0x369)],_0x1f8f30=_0x9f4f18/_0x4b994d,_0x411d9d=_0x299dbe[_0x1dc707(0x376)](_0x1f8f30),_0x494315=(_0x14e88e-_0x411d9d[_0x1dc707(0x369)])/0x2,_0x21a4d4=_0x4ae847-_0x411d9d['height'];_0x544fa1[_0x1dc707(0x4fd)](_0x299dbe,{'x':_0x494315,'y':_0x21a4d4,'width':_0x411d9d['width'],'height':_0x411d9d[_0x1dc707(0x23c)]}),_0x4ae847=_0x21a4d4;}_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;const _0x3b866d=_0x5cfb38['widthOfTextAtSize'](_0x170fbb[_0x1dc707(0x551)]()+_0x1dc707(0x461)+setSerie[_0x1dc707(0x551)](),0xb),_0x23dfef=(_0x14e88e-_0x3b866d)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x170fbb[_0x1dc707(0x551)]()+_0x1dc707(0x461)+setSerie[_0x1dc707(0x551)](),{'x':_0x23dfef,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=_0x19d544;const _0x11daee=_0x5cfb38[_0x1dc707(0x28c)]('Nº\x20'+setCorrelativo,0xb),_0x259d2b=(_0x14e88e-_0x11daee)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1dc707(0x513)+setCorrelativo,{'x':_0x259d2b,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=0x9,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5+_0x19d544;const _0xd0ed81=_0x5cfb38[_0x1dc707(0x28c)](_0x1ff6d1+_0x1dc707(0x461)+_0x550d6b,0xb),_0x24f714=(_0x14e88e-_0xd0ed81)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1ff6d1+_0x1dc707(0x461)+_0x550d6b,{'x':_0x24f714,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=_0x19d544;const _0x1e5725=_0x5cfb38[_0x1dc707(0x28c)](_0x1dc707(0x102)+_0x22c94e,0xb),_0x3e4423=(_0x14e88e-_0x1e5725)/0x2;_0x544fa1['drawText'](_0x1dc707(0x102)+_0x22c94e,{'x':_0x3e4423,'y':_0x4ae847,'size':0xb,'font':_0x3d7317}),_0x4ae847-=0x9,_0xb7f481(_0xa73c72,_0x29e0c7-_0xa73c72,_0x4ae847),_0x4ae847-=0x5,_0x4ae847=_0x264089(_0x544fa1,'CANT',_0x1dc707(0x605),_0x4ae847,_0x5cfb38,0x9,_0x14e88e,_0xa73c72),_0x4ae847-=0x5,_0xb7f481(_0xa73c72,_0x14e88e-_0xa73c72,_0x4ae847),_0x4ae847-=0x5,setProductos[_0x1dc707(0x570)]((_0x22f87e,_0x5c3125)=>{const _0x16a916=_0x1dc707;let {setDescripcion:_0x4d1669,setCantidad:_0x1bc97c,setMtoPrecioUnitario:_0x199055,setTotal:_0x309803,setDescuento:_0x1f8b15,setMtoPrecioUnitario_final:_0x199c8f,setUnidad:_0x2060f7,setTipAfeIgv:_0x1a0777,setNotas:_0x2597a9}=_0x22f87e,_0x167790=products[_0x16a916(0x552)](_0x3c175b=>_0x3c175b['id']==_0x22f87e['setIdProducto']);_0x580075==0x1&&_0x167790&&_0x167790[_0x16a916(0x1a7)]&&(_0x4d1669+='\x20|\x20'+_0x167790[_0x16a916(0x1a7)]);_0x2e54a8==0x1&&_0x167790&&_0x167790[_0x16a916(0x237)]&&(_0x4d1669+=_0x16a916(0x30c)+_0x167790[_0x16a916(0x237)]);_0x1bc97c+='\x20('+_0x2060f7+')';const _0x4c7be5=0x2;_0x4ae847-=_0x4c7be5,_0x4ae847=_0x264089(_0x544fa1,_0x1bc97c,_0x4d1669,_0x4ae847,_0x3d7317,0xb,_0x14e88e,_0xa73c72);if(_0x2597a9){const _0x5e8e5e=0x9,_0x6a256a=_0x14e88e-0x2*_0xa73c72,_0x2e9b8b=_0x6a256a*0.4,_0x3d2032=_0x6a256a*0.6,_0x4610fd=_0xa73c72+_0x2e9b8b+0x5,_0x5eee6e=_0x5e8e5e*1.2,_0x37e44d=_0x2597a9,_0x1d9933=_0x37e44d[_0x16a916(0x18b)](/\r?\n/);let _0x4d5f8f=[];_0x1d9933[_0x16a916(0x570)](_0x30f606=>{const _0x57c76d=_0x16a916,_0x592273=_0x5ab848(_0x57c76d(0x241)+_0x30f606,_0x3d2032-0x5,_0x5cfb38,_0x5e8e5e);_0x4d5f8f=_0x4d5f8f[_0x57c76d(0x60b)](_0x592273);}),_0x4d5f8f['forEach']((_0x296596,_0xd5eb35)=>{const _0x1a0f96=_0x4ae847-(_0xd5eb35+0x1)*_0x5eee6e;_0x544fa1['drawText'](_0x296596,{'x':_0x4610fd,'y':_0x1a0f96,'size':_0x5e8e5e,'font':_0x5cfb38});}),_0x4ae847-=_0x4d5f8f[_0x16a916(0x506)]*_0x5eee6e;}_0x4ae847-=_0x19d544,_0xb7f481(_0xa73c72,_0x14e88e-_0xa73c72,_0x4ae847),_0x4ae847-=0x5;}),_0x4ae847-=_0x19d544;const _0x215ea8=(_0x14e88e-_0xa73c72*0x2)*0.6;_0xabb5fe&&(_0x4ae847=_0x596b05(_0x1dc707(0x4b6),_0xabb5fe,_0x4ae847,_0x3d7317,0xb,_0x215ea8)),_0x4b7066&&(_0x4ae847=_0x596b05(_0x1dc707(0x404),_0x4b7066,_0x4ae847,_0x3d7317,0xb,_0x215ea8)),setClienteDenominacion&&(_0x4ae847=_0x596b05(_0x42e063,setClienteDenominacion[_0x1dc707(0x5b0)]()[_0x1dc707(0x648)](/(^|\s)\S/g,_0x53c420=>_0x53c420['toUpperCase']()),_0x4ae847,_0x3d7317,0xb,_0x215ea8));}}}else{if(_0x1f4afd=='a4'){const _0x1d4ee5=(_0x29ea32,_0x27683c,_0x30ae55)=>{const _0x415721=_0x1dc707;if(!_0x29ea32)return console['error'](_0x415721(0x359)),0x0;return _0x29ea32['widthOfTextAtSize'](_0x27683c,_0x30ae55);},_0x43da9c=(_0x3cabc5,_0x2b9048,_0x11c364,_0x1ad915,_0x12aa26,_0x85224a,_0x543e32,_0x34a0f8,_0x2f2c24=_0x5491a7)=>{const _0x6b4b26=_0x1dc707;if(!_0x85224a)return console[_0x6b4b26(0x103)](_0x6b4b26(0x1b7)),_0x11c364;const _0x2b250c=_0x3cabc5['split']('\x20');let _0xc27e9d='',_0xcb1ada=_0x11c364;for(let _0x1d4cea=0x0;_0x1d4cea<_0x2b250c[_0x6b4b26(0x506)];_0x1d4cea++){const _0xe9a009=_0xc27e9d+(_0xc27e9d?'\x20':'')+_0x2b250c[_0x1d4cea],_0x4eca30=_0x85224a[_0x6b4b26(0x28c)](_0xe9a009,_0x543e32);_0x4eca30>_0x1ad915?(_0x544fa1['drawText'](_0xc27e9d,{'x':_0x2b9048,'y':_0xcb1ada,'size':_0x543e32,'font':_0x85224a,'color':_0x2f2c24}),_0xcb1ada-=_0x34a0f8,_0xc27e9d=_0x2b250c[_0x1d4cea]):_0xc27e9d=_0xe9a009;}return _0xc27e9d&&(_0x544fa1['drawText'](_0xc27e9d,{'x':_0x2b9048,'y':_0xcb1ada,'size':_0x543e32,'font':_0x85224a,'color':_0x2f2c24}),_0xcb1ada-=_0x34a0f8),_0xcb1ada;},_0x26f531=(_0x334406,_0x4bc69f,_0xc5e7cd,_0x1b4c91,_0x57b504,_0x1d9570,_0x5a5c7a=0x9,_0x369723=0x3)=>{const _0x3b85bc=_0x1dc707,_0x25a3ec=_0x1d9570/0x2;_0x544fa1[_0x3b85bc(0x128)]({'x':_0xc5e7cd,'y':_0x1b4c91+_0x25a3ec,'width':_0x57b504-_0x369723,'height':_0x25a3ec,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x50b6e5=_0x1d4ee5(_0x5cfb38,_0x334406,_0x5a5c7a),_0x5270a4=_0xc5e7cd+(_0x57b504-_0x369723-_0x50b6e5)/0x2,_0x66aba8=_0x1b4c91+_0x25a3ec+(_0x25a3ec-_0x5a5c7a)/0x2;_0x544fa1[_0x3b85bc(0x208)](_0x334406,{'x':_0x5270a4,'y':_0x66aba8,'size':_0x5a5c7a,'font':_0x5cfb38,'color':_0x4e2e53}),_0x544fa1[_0x3b85bc(0x128)]({'x':_0xc5e7cd,'y':_0x1b4c91,'width':_0x57b504-_0x369723,'height':_0x25a3ec,'color':_0x4e2e53,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x27ff5c=_0x1d4ee5(_0x5cfb38,_0x4bc69f,_0x5a5c7a),_0xfcb80a=_0xc5e7cd+(_0x57b504-_0x369723-_0x27ff5c)/0x2,_0xbc4e81=_0x1b4c91+(_0x25a3ec-_0x5a5c7a)/0x2;_0x544fa1[_0x3b85bc(0x208)](_0x4bc69f,{'x':_0xfcb80a,'y':_0xbc4e81,'size':_0x5a5c7a,'font':_0x5cfb38,'color':_0x5491a7});},_0x2a7197=(_0x2172c9,_0x511b05,_0x254010,_0x23f113,_0x4d355b,_0x1f792e,_0x57a9ec=0x9)=>{const _0x17fba3=_0x1dc707,_0x423451=_0x1f792e/0x2;_0x544fa1['drawRectangle']({'x':_0x254010,'y':_0x23f113+_0x423451,'width':_0x4d355b,'height':_0x423451,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x56fe31=_0x1d4ee5(_0x5cfb38,_0x2172c9,_0x57a9ec),_0xf3e186=_0x254010+(_0x4d355b-_0x56fe31)/0x2,_0x225d74=_0x23f113+_0x423451+(_0x423451-_0x57a9ec)/0x2;_0x544fa1[_0x17fba3(0x208)](_0x2172c9,{'x':_0xf3e186,'y':_0x225d74,'size':_0x57a9ec,'font':_0x5cfb38,'color':_0x4e2e53}),_0x544fa1[_0x17fba3(0x128)]({'x':_0x254010,'y':_0x23f113,'width':_0x4d355b,'height':_0x423451,'color':_0x4e2e53,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x972399=_0x1d4ee5(_0x3d7317,_0x511b05,_0x57a9ec),_0x1c3c6d=_0x254010+(_0x4d355b-_0x972399)/0x2,_0x3a93a4=_0x23f113+(_0x423451-_0x57a9ec)/0x2;_0x544fa1[_0x17fba3(0x208)](_0x511b05,{'x':_0x1c3c6d,'y':_0x3a93a4,'size':_0x57a9ec,'font':_0x3d7317,'color':_0x5491a7});},_0x2dcbc7=(_0x10b164,_0x2a98b4,_0x595b99,_0x48cef9,_0x259ea8,_0x2229ad,_0x387e49,_0xc11ed4,_0x3461d5=![],_0x2168ae=_0x1dc707(0x54c))=>{const _0x2d3055=_0x1dc707,_0x3641ab=_0x2229ad-_0x387e49*0x2,_0x314f60=_0x3641ab*0.1,_0x149d5a=_0x3641ab*0.1,_0x358978=_0x3641ab*0.15,_0x1ba684=_0x3641ab*0.35,_0x482e5d=_0x3641ab*0.15,_0x1f4ba1=_0x3641ab*0.15,_0x2a8307=_0x387e49,_0x1e52e5=_0x2a8307+_0x314f60,_0x558f7c=_0x1e52e5+_0x149d5a,_0x1f5dec=_0x558f7c+_0x358978,_0x50bd4b=_0x1f5dec+_0x1ba684,_0x14a2fb=_0x50bd4b+_0x482e5d;if(_0x3461d5){_0x544fa1[_0x2d3055(0x128)]({'x':_0x387e49,'y':_0x595b99,'width':_0x3641ab,'height':_0xc11ed4,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x5b4260=(_0xc11ed4-_0x259ea8)/0x2,[_0x23f393,_0x22bd55,_0x3d2593,_0x184d3e,_0x132de3,_0xb4f4c6]=_0x10b164;return _0x544fa1[_0x2d3055(0x208)](String(_0x23f393),{'x':_0x3da18f(_0x23f393,_0x48cef9,_0x259ea8,_0x2a8307,_0x314f60),'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x544fa1[_0x2d3055(0x208)](String(_0x22bd55),{'x':_0x3da18f(_0x22bd55,_0x48cef9,_0x259ea8,_0x1e52e5,_0x149d5a),'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x544fa1['drawText'](String(_0x3d2593),{'x':_0x3da18f(_0x3d2593,_0x48cef9,_0x259ea8,_0x558f7c,_0x358978),'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x544fa1[_0x2d3055(0x208)](String(_0x184d3e),{'x':_0x1f5dec+0x2,'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x544fa1[_0x2d3055(0x208)](String(_0x132de3),{'x':_0x3da18f(_0x132de3,_0x48cef9,_0x259ea8,_0x50bd4b,_0x482e5d),'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x544fa1['drawText'](String(_0xb4f4c6),{'x':_0x296250(_0xb4f4c6,_0x48cef9,_0x259ea8,_0x14a2fb,_0x1f4ba1)-0xa,'y':_0x595b99+_0x5b4260,'size':_0x259ea8,'font':_0x48cef9,'color':_0x4e2e53}),_0x595b99-_0xc11ed4;}else{const [_0x4eab53,_0x1f11ca,_0x433ed1,_0x323d20,_0xd9fa3b,_0x1255ae]=_0x2a98b4;if(_0x2168ae=='totals'&&_0x2a98b4[0x4][_0x2d3055(0x575)]()==_0x2d3055(0x178)+_0x55f6ee+')')_0x544fa1[_0x2d3055(0x208)](_0x2c7c0e,{'x':_0x2a8307+0xa,'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9});else{_0x544fa1[_0x2d3055(0x208)](String(_0x4eab53),{'x':_0x3da18f(_0x4eab53,_0x48cef9,_0x259ea8,_0x2a8307,_0x314f60),'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9}),_0x544fa1[_0x2d3055(0x208)](String(_0x1f11ca),{'x':_0x3da18f(_0x1f11ca,_0x48cef9,_0x259ea8,_0x1e52e5,_0x149d5a),'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9}),_0x544fa1[_0x2d3055(0x208)](String(_0x433ed1),{'x':_0x3da18f(_0x433ed1,_0x48cef9,_0x259ea8,_0x558f7c,_0x358978),'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9});var _0xaf876f=_0x323d20?_0x4ed428(_0x323d20,_0x1f5dec+0x2,_0x595b99,_0x1ba684-0x4,_0x48cef9,_0x259ea8,_0xc11ed4):_0x595b99;}return _0x2168ae=='totals'?_0x544fa1['drawText'](String(_0xd9fa3b),{'x':_0x296250(_0xd9fa3b,_0x48cef9,_0x259ea8,_0x50bd4b,_0x482e5d)-0x8,'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9}):_0x544fa1[_0x2d3055(0x208)](String(_0xd9fa3b),{'x':_0x3da18f(_0xd9fa3b,_0x48cef9,_0x259ea8,_0x50bd4b,_0x482e5d)-0x2,'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9}),_0x544fa1['drawText'](String(_0x1255ae),{'x':_0x296250(_0x1255ae,_0x48cef9,_0x259ea8,_0x14a2fb,_0x1f4ba1)-0xa,'y':_0x595b99,'size':_0x259ea8,'font':_0x48cef9}),_0x2168ae==_0x2d3055(0x3fc)&&_0x2a98b4[0x4]['trim']()==_0x2d3055(0x178)+_0x55f6ee+')'?_0x595b99-_0xc11ed4:Math[_0x2d3055(0x4e1)](_0xaf876f!==undefined?_0xaf876f:_0x595b99,_0x595b99-_0xc11ed4);}};function _0x3da18f(_0x59679f,_0x23cad5,_0x1eb33c,_0x39bc7f,_0x33b2e6){const _0x5b78f8=_0x1dc707,_0x496bd2=_0x23cad5[_0x5b78f8(0x28c)](String(_0x59679f),_0x1eb33c);return _0x39bc7f+(_0x33b2e6-_0x496bd2)/0x2;}function _0x296250(_0x8631f9,_0x6d491f,_0x127519,_0x13bb1d,_0x2329ca){const _0xfb51c3=_0x6d491f['widthOfTextAtSize'](String(_0x8631f9),_0x127519);return _0x13bb1d+(_0x2329ca-_0xfb51c3);}function _0x4ed428(_0x207caa,_0x45ca03,_0x70e6b5,_0x2e463e,_0x4ffcf5,_0x214622,_0x4448fe){const _0x48ae31=_0x1dc707,_0x4fcd0b=_0x207caa[_0x48ae31(0x18b)]('\x20');let _0xe2e681='',_0x522746=_0x70e6b5;for(let _0x28b22e=0x0;_0x28b22e<_0x4fcd0b[_0x48ae31(0x506)];_0x28b22e++){const _0x46111b=_0xe2e681+(_0xe2e681?'\x20':'')+_0x4fcd0b[_0x28b22e];_0x4ffcf5[_0x48ae31(0x28c)](_0x46111b,_0x214622)>_0x2e463e?(_0x544fa1['drawText'](_0xe2e681,{'x':_0x45ca03,'y':_0x522746,'size':_0x214622,'font':_0x4ffcf5}),_0x522746-=_0x4448fe,_0xe2e681=_0x4fcd0b[_0x28b22e]):_0xe2e681=_0x46111b;}return _0xe2e681&&(_0x544fa1[_0x48ae31(0x208)](_0xe2e681,{'x':_0x45ca03,'y':_0x522746,'size':_0x214622,'font':_0x4ffcf5}),_0x522746-=_0x4448fe),_0x522746;}let _0x28c506=0x3c,_0x3a3420=(_0x14e88e-_0xa73c72*0x2)*0.25,_0x50fd42=(_0x14e88e-_0xa73c72*0x2)*0.5,_0x4ba0a5=(_0x14e88e-_0xa73c72*0x2)*0.25,_0x4571b8=_0xa73c72,_0x17909e=_0xa73c72+_0x3a3420,_0x573071=_0xa73c72+_0x3a3420+_0x50fd42,_0x1c3527=_0x4ae847-_0x28c506;if(setLogoUrl)try{const _0x25ced4=setLogoUrl[_0x1dc707(0x18b)](',')[0x1],_0x468a08=Uint8Array[_0x1dc707(0x2af)](atob(_0x25ced4),_0x1d3b70=>_0x1d3b70[_0x1dc707(0x1d7)](0x0));let _0x430226;try{_0x430226=await _0xb943ec[_0x1dc707(0x64e)](_0x468a08);}catch(_0xcab06e){try{_0x430226=await _0xb943ec['embedJpg'](_0x468a08);}catch(_0x46ee48){throw new Error(_0x1dc707(0x250));}}const _0x50a537=_0x3a3420*0.8,_0x1107a4=_0x430226[_0x1dc707(0x369)],_0x4a656a=_0x50a537/_0x1107a4,_0x430f5b=_0x430226[_0x1dc707(0x376)](_0x4a656a),_0x16a84d=_0x4571b8+(_0x3a3420-_0x430f5b[_0x1dc707(0x369)])/0x2,_0x1ff972=_0x1c3527+(_0x28c506-_0x430f5b[_0x1dc707(0x23c)])/0x2;_0x544fa1['drawImage'](_0x430226,{'x':_0x16a84d,'y':_0x1ff972,'width':_0x430f5b['width'],'height':_0x430f5b[_0x1dc707(0x23c)]});}catch(_0x32d8ce){console['log'](_0x1dc707(0x327),_0x32d8ce);}let _0x1e7f68=_0x4ae847-0xa;const _0x47ab68=0xc;setEmpresaNombre&&(_0x1e7f68=_0x43da9c(setEmpresaNombre,_0x17909e,_0x1e7f68,_0x50fd42,_0x28c506,_0x3d7317,0x9,_0x47ab68));_0x103894&&(_0x1e7f68=_0x43da9c(_0x103894,_0x17909e,_0x1e7f68,_0x50fd42,_0x28c506,_0x5cfb38,0x8,_0x47ab68));setEmpresaEmail&&(_0x1e7f68=_0x43da9c(setEmpresaEmail,_0x17909e,_0x1e7f68,_0x50fd42,_0x28c506,_0x5cfb38,0x8,_0x47ab68));setEmpresaTelefono&&(_0x1e7f68=_0x43da9c(setEmpresaTelefono,_0x17909e,_0x1e7f68,_0x50fd42,_0x28c506,_0x5cfb38,0x8,_0x47ab68));setEmpresaSitioWeb&&(_0x1e7f68=_0x43da9c(setEmpresaSitioWeb,_0x17909e,_0x1e7f68,_0x50fd42,_0x28c506,_0x5cfb38,0x8,_0x47ab68));const _0x48ae17=0x5;col3TopHeight=_0x28c506*0.5,col3BottomHeight=_0x28c506*0.5;const _0x1e97b9=_0x1c3527+col3TopHeight+_0x48ae17;_0x2a7197(_0x170fbb?_0x170fbb[_0x1dc707(0x551)]():'',setEmpresaRuc||'',_0x573071,_0x1e97b9,_0x4ba0a5,col3BottomHeight,0x9);const _0x9bc07d=_0x4ba0a5*0.5,_0x42cad2=col3TopHeight;_0x26f531(_0x1dc707(0x510),setSerie?setSerie[_0x1dc707(0x551)]():'',_0x573071,_0x1c3527,_0x9bc07d,_0x42cad2,0x9,0x5),_0x26f531('Nº',setCorrelativo?String(setCorrelativo):'',_0x573071+_0x9bc07d,_0x1c3527,_0x9bc07d,_0x42cad2,0x9,0x0),_0x4ae847=_0x1c3527;const _0x26ba6d=0x14;_0x4ae847-=_0x26ba6d;let _0x14fbdb=0x64,_0x553c28=_0x4ae847-_0x14fbdb,_0x3af5e0=(_0x14e88e-_0xa73c72*0x2)*0.75,_0x2ef329=(_0x14e88e-_0xa73c72*0x2)*0.25,_0x477d08=_0xa73c72,_0x50e0b5=_0xa73c72+_0x3af5e0;const _0x4b4867=0xe,_0xdd811e=_0x3af5e0*0.2;_0x544fa1[_0x1dc707(0x128)]({'x':_0x477d08,'y':_0x553c28+(_0x14fbdb-_0x4b4867),'width':_0xdd811e,'height':_0x4b4867,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x5b2e72=_0x1dc707(0x492),_0x2437ef=0x9,_0x1ce250=_0x1d4ee5(_0x5cfb38,_0x5b2e72,_0x2437ef),_0x498bc0=_0x477d08+(_0xdd811e-_0x1ce250)/0x2,_0x51ddb3=_0x553c28+_0x14fbdb-_0x4b4867+(_0x4b4867-_0x2437ef)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x5b2e72,{'x':_0x498bc0,'y':_0x51ddb3,'size':_0x2437ef,'font':_0x5cfb38,'color':_0x4e2e53});const _0x155f89=_0x14fbdb-_0x4b4867;_0x544fa1['drawRectangle']({'x':_0x477d08,'y':_0x553c28,'width':_0x3af5e0-0x5,'height':_0x155f89,'color':_0x4e2e53,'borderColor':_0x1fdfa1,'borderWidth':0x1});let _0x492fb9=_0x553c28+_0x155f89-0xa;const _0xe937ed=0xc,_0x46f139=_0x3af5e0-0x5-0xa,_0x2f78aa=_0x46f139*0.17,_0x1bfc0e=_0x46f139*0.02,_0xcd6dff=_0x46f139*0.81;function _0x161de5(_0x32ea4e,_0x1d907e,_0x53c768,_0x1a761f,_0x152d3a,_0x261f94,_0x3b8491){const _0xbb7cad=_0x1dc707,_0x44ab4b=_0x32ea4e['split']('\x20');let _0x35fada='',_0x587585=_0x53c768;for(let _0x1b06c1=0x0;_0x1b06c1<_0x44ab4b[_0xbb7cad(0x506)];_0x1b06c1++){const _0x36a2df=_0x35fada+(_0x35fada?'\x20':'')+_0x44ab4b[_0x1b06c1];_0x152d3a[_0xbb7cad(0x28c)](_0x36a2df,_0x261f94)>_0x1a761f?(_0x544fa1[_0xbb7cad(0x208)](_0x35fada,{'x':_0x1d907e,'y':_0x587585,'size':_0x261f94,'font':_0x152d3a,'color':_0x3b8491}),_0x587585-=_0xe937ed,_0x35fada=_0x44ab4b[_0x1b06c1]):_0x35fada=_0x36a2df;}return _0x35fada&&(_0x544fa1[_0xbb7cad(0x208)](_0x35fada,{'x':_0x1d907e,'y':_0x587585,'size':_0x261f94,'font':_0x152d3a,'color':_0x3b8491}),_0x587585-=_0xe937ed),_0x587585;}function _0x230615(_0x4f16c0,_0x3bb6f9){const _0x282bad=_0x1dc707;_0x544fa1[_0x282bad(0x208)](String(_0x4f16c0),{'x':_0x477d08+0x5,'y':_0x492fb9,'size':0x8,'font':_0x3d7317,'color':_0x5491a7}),_0x544fa1[_0x282bad(0x208)](':',{'x':_0x477d08+0x5+_0x2f78aa,'y':_0x492fb9,'size':0x8,'font':_0x5cfb38,'color':_0x5491a7}),_0x492fb9=_0x161de5(String(_0x3bb6f9),_0x477d08+0x5+_0x2f78aa+_0x1bfc0e,_0x492fb9,_0xcd6dff,_0x5cfb38,0x8,_0x5491a7);}setClienteTipoDoc&&setClienteNumDoc&&_0x230615(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x230615(_0x42e063,setClienteDenominacion);setClienteDireccion&&_0x230615(_0x1dc707(0x518),setClienteDireccion);_0x212581&&_0x230615(_0x1dc707(0x5b2),_0x212581);_0xbf044&&_0x230615(_0x1dc707(0x4cd),_0xbf044);_0x22c94e&&_0x230615(_0x1dc707(0x6ad),_0x22c94e);let _0x4a51ba=col3TopHeight;const _0x3e0751=0x5,_0x1c6a6a=_0x553c28+(_0x14fbdb-_0x4a51ba);_0x2a7197(_0x1dc707(0x4b6),_0xabb5fe||'',_0x50e0b5,_0x1c6a6a,_0x2ef329,_0x4a51ba,0x9);const _0x2f6d3d=_0x1c6a6a-_0x3e0751-_0x4a51ba;let _0x36c8ca='';if(_0x472b23['status'])_0x36c8ca=_0x1dc707(0x4ee);if(_0x550cd9[_0x1dc707(0x4d9)])_0x36c8ca=_0x1dc707(0x591);if(_0x368822['status'])_0x36c8ca=_0x1dc707(0x266);_0x2a7197(_0x1dc707(0x65b),''+_0x36c8ca,_0x50e0b5,_0x2f6d3d,_0x2ef329,_0x4a51ba,0x9);const _0x519745=_0x2f6d3d-_0x3e0751-_0x4a51ba;let _0x586756=_0x57ee24||'';_0x2a7197(_0x1dc707(0x5e5),''+_0x586756,_0x50e0b5,_0x519745,_0x2ef329,_0x4a51ba,0x9),_0x4ae847=_0x553c28,_0x4ae847-=0x14;const _0x526b36=_0x4ae847,_0x697f9d=[_0x1dc707(0x139),_0x1dc707(0x218),_0x1dc707(0x2a3),'DESCRIPCIÓN',_0x1dc707(0x1ec),_0x1dc707(0x3bd)];_0x4ae847=_0x2dcbc7(_0x697f9d,[],_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xe,!![]);if(_0x3d249a==0x1){const _0x119df7=['1',_0x1dc707(0x36a),'','Consumo',parseFloat(_0x401158)[_0x1dc707(0x4cc)](0x2),parseFloat(_0x401158)[_0x1dc707(0x4cc)](0x2)];_0x4ae847=_0x2dcbc7([],_0x119df7,_0x4ae847,_0x5cfb38,0x8,_0x14e88e,_0xa73c72,0xc,![]),_0x4ae847-=0x5;}else setProductos[_0x1dc707(0x570)](_0x20902d=>{const _0x3eec60=_0x1dc707;let {setCodProducto:setCodProducto='',setDescripcion:_0x1062cd,setCantidad:_0x1297db,setMtoPrecioUnitario:_0x56f21a,setTotal:_0x5dae78,setDescuento:_0x373b93,setMtoPrecioUnitario_final:_0x2c7810,setUnidad:_0x885da1,setTipAfeIgv:_0xa6c521,setNotas:_0x389d3e,setItemDescription:_0x39acda,setMarca:_0x3dfacd}=_0x20902d;_0x373b93&&_0x373b93[_0x3eec60(0x5be)]>0x0&&(_0x1062cd+='\x20('+_0x373b93[_0x3eec60(0x5be)]+_0x3eec60(0x101)+_0x55f6ee+parseFloat(_0x2c7810)[_0x3eec60(0x4cc)](0x2)+')');(setTipAfeImpGravadosGrat[_0x3eec60(0x484)](_0x17c738=>_0x17c738==_0xa6c521)||setTipAfeImpInafectosGrat[_0x3eec60(0x484)](_0x19f006=>_0x19f006==_0xa6c521)||setTipAfeImpExoneradosGrat[_0x3eec60(0x484)](_0x310599=>_0x310599==_0xa6c521))&&(_0x56f21a=_0x2c7810,setTipAfeImpGravadosGrat['some'](_0x5dc7e7=>_0x5dc7e7==_0xa6c521)&&(_0x1062cd+='\x20(Gravado\x20Gratuito)'),setTipAfeImpExoneradosGrat[_0x3eec60(0x484)](_0x5e80bc=>_0x5e80bc==_0xa6c521)&&(_0x1062cd+=_0x3eec60(0x299)),setTipAfeImpInafectosGrat[_0x3eec60(0x484)](_0xb35d48=>_0xb35d48==_0xa6c521)&&(_0x1062cd+=_0x3eec60(0x5d5)));_0x389d3e&&(_0x1062cd+=_0x3eec60(0x14c)+_0x389d3e);_0x31f4ae==0x1&&_0x39acda!=''&&(_0x1062cd+=_0x3eec60(0x230)+_0x39acda);_0x53703a==0x1&&_0x3dfacd!=''&&(_0x1062cd+='\x20|\x20Marca:\x20'+_0x3dfacd);let _0x5c7dde=products[_0x3eec60(0x552)](_0x3bf03a=>_0x3bf03a['id']==_0x20902d[_0x3eec60(0x19b)]);_0x580075==0x1&&_0x5c7dde&&_0x5c7dde['setBatchName']&&(_0x1062cd+=_0x3eec60(0x534)+_0x5c7dde[_0x3eec60(0x1a7)]);_0x2e54a8==0x1&&_0x5c7dde&&_0x5c7dde['setBatchExpirationDate']&&(_0x1062cd+=_0x3eec60(0x30c)+_0x5c7dde[_0x3eec60(0x237)]);const _0x35da62=[String(_0x1297db||'1'),String(_0x885da1+'.'||''),String(setCodProducto),_0x1062cd,parseFloat(_0x56f21a)['toFixed'](0x2),parseFloat(_0x5dae78)['toFixed'](0x2)];_0x4ae847=_0x2dcbc7([],_0x35da62,_0x4ae847,_0x5cfb38,0x8,_0x14e88e,_0xa73c72,0xc,![]),_0x4ae847-=0x5;});_0x4ae847-=0xa;if(parseFloat(_0x1550e1)>0x0){const _0x2bf4c5=['','','','','Desc.\x20Global\x20('+_0x55f6ee+')',''+_0x1550e1];_0x4ae847=_0x2dcbc7([],_0x2bf4c5,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(parseFloat(_0x9131a4)>0x0){const _0x5243c9=['','','','',_0x1dc707(0x5d4)+_0x55f6ee+')',''+_0x9131a4];_0x4ae847=_0x2dcbc7([],_0x5243c9,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0xb99e0c)>0x0){const _0x4f9a55=['','','','',_0x1dc707(0x40f)+_0x55f6ee+')',''+_0xb99e0c];_0x4ae847=_0x2dcbc7([],_0x4f9a55,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(parseFloat(_0xf0240a)>0x0){const _0x27a9d1=['','','','','Op.\x20Exoneradas\x20('+_0x55f6ee+')',''+_0xf0240a];_0x4ae847=_0x2dcbc7([],_0x27a9d1,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(parseFloat(_0x4e3213)>0x0){const _0x4bd902=['','','','',_0x1dc707(0x5bb)+_0x55f6ee+')',''+_0x4e3213];_0x4ae847=_0x2dcbc7([],_0x4bd902,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(parseFloat(_0x3e493e)>0x0){const _0x5c5834=['','','','',_0x1dc707(0x608)+_0x55f6ee+')',''+_0x3e493e];_0x4ae847=_0x2dcbc7([],_0x5c5834,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(parseFloat(_0x495db5)>0x0){const _0x522c4e=['','','','',_0x1dc707(0x426)+_0x55f6ee+')',''+_0x495db5];_0x4ae847=_0x2dcbc7([],_0x522c4e,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}{const _0x550221=['','','','',_0x1dc707(0x549)+_0x55f6ee+')',''+_0x3f5d95];_0x4ae847=_0x2dcbc7([],_0x550221,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}{const _0x5c350b=['','','','',_0x1dc707(0x26f)+_0x55f6ee+')',''+_0x28809e];_0x4ae847=_0x2dcbc7([],_0x5c350b,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}}{const _0x28b85e=['','','','',_0x1dc707(0x178)+_0x55f6ee+')',''+_0x401158];_0x4ae847=_0x2dcbc7([],_0x28b85e,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(_0xd99b7a==0x1){const _0xc29bf0=['','','','',_0x1dc707(0x2dc)+_0x5ed4ad+_0x1dc707(0x3fb)+_0x55f6ee+')',''+_0x2a7039];_0x4ae847=_0x2dcbc7([],_0xc29bf0,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(_0x382756==0x1){const _0x5eb8f3=['','','','',_0x1dc707(0x127)+_0x37890f+_0x1dc707(0x3fb)+_0x55f6ee+')',''+_0x402934];_0x4ae847=_0x2dcbc7([],_0x5eb8f3,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}if(_0x48bbb0==0x1){const _0x5da64e=['','','','',_0x1dc707(0x10f)+_0x596dbf+_0x1dc707(0x3fb)+_0x55f6ee+')',''+_0x23307e];_0x4ae847=_0x2dcbc7([],_0x5da64e,_0x4ae847,_0x3d7317,0x8,_0x14e88e,_0xa73c72,0xc,![],_0x1dc707(0x3fc)),_0x4ae847-=0x2;}const _0x29a505=_0x4ae847,_0x35c6ff=_0x14e88e-_0xa73c72*0x2,_0x242d74=_0x526b36-_0x29a505+0x3;_0x544fa1[_0x1dc707(0x248)]({'start':{'x':_0xa73c72,'y':_0x29a505-0x3},'end':{'x':_0xa73c72,'y':_0x29a505-0x3+_0x242d74},'thickness':0x1,'color':_0xf999d2}),_0x544fa1[_0x1dc707(0x248)]({'start':{'x':_0xa73c72,'y':_0x29a505-0x3},'end':{'x':_0xa73c72+_0x35c6ff,'y':_0x29a505-0x3},'thickness':0x1,'color':_0xf999d2}),_0x544fa1[_0x1dc707(0x248)]({'start':{'x':_0xa73c72+_0x35c6ff,'y':_0x29a505-0x3},'end':{'x':_0xa73c72+_0x35c6ff,'y':_0x29a505-0x3+_0x242d74},'thickness':0x1,'color':_0xf999d2}),_0x4ae847=_0x29a505-0x3-0xa;const _0x4364a2=_0xa73c72+_0x35c6ff*0.85;_0x544fa1['drawLine']({'start':{'x':_0x4364a2,'y':_0x526b36},'end':{'x':_0x4364a2,'y':_0x29a505-0x3},'thickness':0x1,'color':_0xf999d2});const _0x37d6e1=_0x14e88e-_0xa73c72*0x2,_0x2b13d0=0x5,_0x2e7303=_0x37d6e1-_0x2b13d0,_0x51a67a=_0x2e7303*0.8,_0x161dcb=_0x2e7303*0.2,_0x262b0d=_0xa73c72,_0x1e4b28=_0x262b0d+_0x51a67a+_0x2b13d0,_0x58a76e=_0x4ae847,_0x2c8d50=0xe,_0x538944=0x5,_0x1c9437=myCompany[_0x1dc707(0x647)],_0x5d5217=Math[_0x1dc707(0x430)](_0x1c9437[_0x1dc707(0x506)]/0x2),_0x5cf7e2=0xe,_0x44e210=_0x5d5217*_0x5cf7e2,_0x3f1ca2=_0x2c8d50+_0x44e210;_0x544fa1[_0x1dc707(0x128)]({'x':_0x262b0d,'y':_0x58a76e-_0x2c8d50,'width':_0x51a67a,'height':_0x2c8d50,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0x1369a9=_0x1dc707(0x4bd),_0x7221f6=(_0x2c8d50-0x8)/0x2;_0x544fa1[_0x1dc707(0x208)](_0x1369a9,{'x':_0x262b0d+_0x538944,'y':_0x58a76e-_0x2c8d50+_0x7221f6,'size':0x8,'font':_0x3d7317,'color':_0x4e2e53});const _0x1af8b9=(_0x18a3d8,_0x4b5504=0x10)=>{const _0x439888=_0x1dc707;return _0x18a3d8[_0x439888(0x506)]>_0x4b5504?_0x18a3d8[_0x439888(0x5a3)](0x0,_0x4b5504)+_0x439888(0x3c2):_0x18a3d8;},_0x2107ca=_0x51a67a/0x4;for(let _0x3964f3=0x0;_0x3964f3<_0x5d5217;_0x3964f3++){const _0x5d42dc=_0x1c9437[0x2*_0x3964f3],_0x32435e=_0x1c9437[0x2*_0x3964f3+0x1],_0x56f381=_0x58a76e-_0x2c8d50-_0x3964f3*_0x5cf7e2,_0x5ae2ea=(_0x5cf7e2-0x8)/0x2;if(_0x5d42dc){const _0x5b632f=_0x1af8b9(_0x5d42dc[_0x1dc707(0x56d)][_0x1dc707(0x551)]())+(_0x5d42dc[_0x1dc707(0x60c)]==_0x1dc707(0x628)?'\x20(Soles)':'\x20('+_0x5d42dc[_0x1dc707(0x60c)]+')'),_0x5af44b='N\x20'+_0x5d42dc[_0x1dc707(0x52a)];_0x4ed428(_0x5b632f,_0x262b0d+_0x538944,_0x56f381-_0x5cf7e2+_0x5ae2ea,_0x2107ca-_0x538944,_0x5cfb38,0x8,_0x5cf7e2),_0x4ed428(_0x5af44b,_0x262b0d+_0x2107ca+0x2,_0x56f381-_0x5cf7e2+_0x5ae2ea,_0x2107ca-0x2,_0x5cfb38,0x8,_0x5cf7e2);}if(_0x32435e){const _0x180727=_0x1af8b9(_0x32435e['setBankName'][_0x1dc707(0x551)]())+(_0x32435e['setBankCurrency']==_0x1dc707(0x628)?_0x1dc707(0x14b):'\x20('+_0x32435e[_0x1dc707(0x60c)]+')'),_0x2a1b2a='N\x20'+_0x32435e[_0x1dc707(0x52a)];_0x4ed428(_0x180727,_0x262b0d+_0x2107ca*0x2+0x2,_0x56f381-_0x5cf7e2+_0x5ae2ea,_0x2107ca-0x2,_0x5cfb38,0x8,_0x5cf7e2),_0x4ed428(_0x2a1b2a,_0x262b0d+_0x2107ca*0x3+0x2,_0x56f381-_0x5cf7e2+_0x5ae2ea,_0x2107ca-0x2,_0x5cfb38,0x7,_0x5cf7e2);}}const _0x355734=[setEmpresaRuc,setSerie,setCorrelativo,_0xb99e0c>0x0?_0xb99e0c:null,_0xf0240a>0x0?_0xf0240a:null,_0x4e3213>0x0?_0x4e3213:null,_0x3e493e>0x0?_0x3e493e:null,_0x28809e>0x0?_0x28809e:null,_0x401158>0x0?_0x401158:null,setClienteNumDoc],_0x36c75d=_0x355734[_0x1dc707(0x2c8)](_0x5de610=>_0x5de610!==null)[_0x1dc707(0x414)]('|'),_0x1825cf=document['createElement']('div');new QRCode(_0x1825cf,{'text':_0x36c75d,'width':0x80,'height':0x80,'colorDark':_0x1dc707(0x696),'colorLight':_0x1dc707(0x6c6),'correctLevel':QRCode[_0x1dc707(0x381)]['H']}),await new Promise(_0x486029=>setTimeout(_0x486029,0x1f4));const _0x3b965c=_0x1825cf[_0x1dc707(0x5cf)]('canvas'),_0x12c178=_0x3b965c[_0x1dc707(0x44f)](_0x1dc707(0x444)),_0x4588c0=atob(_0x12c178[_0x1dc707(0x18b)](',')[0x1]),_0x41b68f=Uint8Array[_0x1dc707(0x2af)](_0x4588c0,_0x357bbf=>_0x357bbf[_0x1dc707(0x1d7)](0x0)),_0x488929=await _0xb943ec[_0x1dc707(0x64e)](_0x41b68f),_0x2a3c66=_0x488929['scale'](0.8),_0xd72b6d=_0x1e4b28+_0x161dcb-_0x2a3c66[_0x1dc707(0x369)],_0xd56c45=_0x58a76e-_0x2a3c66[_0x1dc707(0x23c)];_0x544fa1['drawImage'](_0x488929,{'x':_0xd72b6d,'y':_0xd56c45,'width':_0x2a3c66[_0x1dc707(0x369)],'height':_0x2a3c66['height']});const _0x3c263d=Math[_0x1dc707(0x1f8)](_0x3f1ca2,_0x2a3c66[_0x1dc707(0x23c)]);_0x544fa1[_0x1dc707(0x128)]({'x':_0x262b0d,'y':_0x58a76e-_0x3c263d,'width':_0x51a67a,'height':_0x3c263d,'borderColor':_0x1fdfa1,'borderWidth':0x1}),_0x4ae847=Math[_0x1dc707(0x4e1)](_0x58a76e-_0x3c263d,_0xd56c45)-0x5;const _0x3e94ba=_0x14e88e-_0xa73c72*0x2,_0x117cf7=0x5,_0x3527fc=_0x3e94ba-_0x117cf7,_0x38a7a5=_0x3527fc*0.8,_0x42e188=_0x3527fc*0.2,_0x85a64a=_0xa73c72,_0x3620ff=_0x85a64a+_0x38a7a5+_0x117cf7,_0x46e808=_0x4ae847,_0x4b65bc=0x8,_0x2c6e65=0x5,_0x1a6ce3=0xe,_0x5015c6=_0x38a7a5/0x2;let _0x7b6e46='',_0x124d8a='',_0x3dc056=[],_0x5037b7=[];if(_0x368822[_0x1dc707(0x4d9)]==!![]){_0x7b6e46='FORMA\x20DE\x20PAGO:\x20CONTADO',_0x124d8a=_0x1dc707(0x57d);for(let _0x40fc61 in _0x472b23[_0x1dc707(0x62e)]){if(_0x40fc61=='vuelto'||_0x40fc61=='debe')continue;const _0x1a46b9=_0x472b23[_0x1dc707(0x62e)][_0x40fc61];if(_0x1a46b9&&typeof _0x1a46b9==_0x1dc707(0x2ea)&&_0x1dc707(0x4fa)in _0x1a46b9){const _0x293f06=parseFloat(_0x1a46b9[_0x1dc707(0x4e6)]);if(_0x293f06>0x0){_0x3dc056['push']({'desc':_0x40fc61[_0x1dc707(0x551)](),'value':_0x55f6ee+'\x20'+_0x293f06[_0x1dc707(0x4cc)](0x2)});if(_0x1dc707(0x311)in _0x1a46b9&&_0x1dc707(0x55e)in _0x1a46b9){const _0x3873ea=_0x1a46b9[_0x1dc707(0x311)],_0x59d3d0=parseFloat(_0x1a46b9['total_comision']);_0x3873ea!==undefined&&_0x59d3d0!==undefined&&_0x3dc056[_0x1dc707(0x318)]({'desc':_0x1dc707(0x200)+_0x3873ea+'%)','value':_0x55f6ee+'\x20'+_0x59d3d0[_0x1dc707(0x4cc)](0x2)});}if(_0x1a46b9[_0x1dc707(0x5e6)]&&_0x1a46b9[_0x1dc707(0x5e6)]!='0'){const _0x2fa8b2=myCompany[_0x1dc707(0x647)]['find'](_0x145fd4=>_0x145fd4[_0x1dc707(0x49f)]==_0x1a46b9[_0x1dc707(0x5e6)]);_0x2fa8b2&&_0x3dc056['push']({'desc':_0x1dc707(0x16e),'value':_0x2fa8b2[_0x1dc707(0x56d)]});}_0x1a46b9[_0x1dc707(0x425)]&&_0x3dc056[_0x1dc707(0x318)]({'desc':'Nº\x20Operación','value':_0x1a46b9['nro_operacion']});}}}parseFloat(_0x472b23[_0x1dc707(0x62e)][_0x1dc707(0x5f5)])>0x0&&_0x3dc056['push']({'desc':'Vuelto:','value':_0x55f6ee+'\x20'+parseFloat(_0x472b23[_0x1dc707(0x62e)][_0x1dc707(0x5f5)])[_0x1dc707(0x4cc)](0x2)});let _0x373d38=_0x550cd9[_0x1dc707(0x4d9)]==!![]?parseFloat(_0x401158):parseFloat(_0x472b23['data'][_0x1dc707(0x315)]);_0x5037b7[_0x1dc707(0x318)]({'desc':_0x1dc707(0x631),'value':_0x55f6ee+'\x20'+_0x373d38[_0x1dc707(0x4cc)](0x2)}),_0x5037b7[_0x1dc707(0x318)]({'desc':'Nº\x20de\x20cuotas','value':_0x550cd9[_0x1dc707(0x62e)][_0x1dc707(0x506)]+_0x1dc707(0x487)}),_0x5037b7[_0x1dc707(0x318)]({'desc':_0x1dc707(0x670),'value':''}),_0x550cd9[_0x1dc707(0x62e)][_0x1dc707(0x570)](_0x1f959d=>{const _0x257a30=_0x1dc707;_0x5037b7['push']({'desc':_0x257a30(0x3f3)+_0x1f959d[_0x257a30(0x52c)],'value':_0x1f959d['fechaVencimiento']+_0x257a30(0x534)+parseFloat(_0x1f959d['monto'])[_0x257a30(0x4cc)](0x2)});});}else{if(_0x472b23['status']==!![]){_0x7b6e46='FORMA\x20DE\x20PAGO:\x20CONTADO',_0x124d8a='';for(let _0x1c62c9 in _0x472b23[_0x1dc707(0x62e)]){if(_0x1c62c9==_0x1dc707(0x5f5)||_0x1c62c9==_0x1dc707(0x315))continue;const _0x2be032=_0x472b23[_0x1dc707(0x62e)][_0x1c62c9];if(_0x2be032&&typeof _0x2be032=='object'&&_0x1dc707(0x4fa)in _0x2be032){const _0x3c3f4a=parseFloat(_0x2be032[_0x1dc707(0x4e6)]);if(_0x3c3f4a>0x0){_0x3dc056[_0x1dc707(0x318)]({'desc':_0x1c62c9[_0x1dc707(0x551)](),'value':_0x55f6ee+'\x20'+_0x3c3f4a[_0x1dc707(0x4cc)](0x2)});if(_0x1dc707(0x311)in _0x2be032&&_0x1dc707(0x55e)in _0x2be032){const _0x4c224d=_0x2be032[_0x1dc707(0x311)],_0x13bf09=parseFloat(_0x2be032['total_comision']);_0x4c224d!==undefined&&_0x13bf09!==undefined&&_0x3dc056['push']({'desc':_0x1dc707(0x200)+_0x4c224d+'%)','value':_0x55f6ee+'\x20'+_0x13bf09[_0x1dc707(0x4cc)](0x2)});}if(_0x2be032['banco']&&_0x2be032[_0x1dc707(0x5e6)]!='0'){const _0x4a06c1=myCompany[_0x1dc707(0x647)][_0x1dc707(0x552)](_0x23663a=>_0x23663a[_0x1dc707(0x49f)]==_0x2be032[_0x1dc707(0x5e6)]);_0x4a06c1&&_0x3dc056[_0x1dc707(0x318)]({'desc':_0x1dc707(0x16e),'value':_0x4a06c1[_0x1dc707(0x56d)]});}_0x2be032[_0x1dc707(0x425)]&&_0x3dc056[_0x1dc707(0x318)]({'desc':_0x1dc707(0x406),'value':_0x2be032[_0x1dc707(0x425)]});}}}parseFloat(_0x472b23[_0x1dc707(0x62e)][_0x1dc707(0x5f5)])>0x0&&_0x3dc056['push']({'desc':_0x1dc707(0x419),'value':_0x55f6ee+'\x20'+parseFloat(_0x472b23['data'][_0x1dc707(0x5f5)])[_0x1dc707(0x4cc)](0x2)});}else{if(_0x550cd9['status']==!![]){_0x7b6e46=_0x1dc707(0x57d),_0x124d8a='';let _0x46d1b5=_0x550cd9['status']==!![]?parseFloat(_0x401158):parseFloat(_0x472b23[_0x1dc707(0x62e)][_0x1dc707(0x315)]);_0x3dc056[_0x1dc707(0x318)]({'desc':'Total\x20Pendiente','value':_0x55f6ee+'\x20'+_0x46d1b5['toFixed'](0x2)}),_0x3dc056[_0x1dc707(0x318)]({'desc':'Nº\x20de\x20cuotas','value':_0x550cd9['data'][_0x1dc707(0x506)]+_0x1dc707(0x487)}),_0x3dc056['push']({'desc':'Cronograma\x20de\x20Pagos','value':''}),_0x550cd9[_0x1dc707(0x62e)][_0x1dc707(0x570)](_0x903667=>{const _0x903c35=_0x1dc707;_0x3dc056[_0x903c35(0x318)]({'desc':_0x903c35(0x3f3)+_0x903667[_0x903c35(0x52c)],'value':_0x903667['fechaVencimiento']+'\x20|\x20'+parseFloat(_0x903667[_0x903c35(0x4fa)])[_0x903c35(0x4cc)](0x2)});});}}}const _0x53871c=Math[_0x1dc707(0x1f8)](_0x3dc056[_0x1dc707(0x506)],_0x5037b7['length']),_0x51d6c6=_0x46e808-_0x4b4867-0xe;_0x544fa1[_0x1dc707(0x128)]({'x':_0x85a64a,'y':_0x46e808-_0x4b4867,'width':_0x38a7a5,'height':_0x4b4867,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1}),_0x544fa1[_0x1dc707(0x208)](_0x7b6e46,{'x':_0x85a64a+_0x2c6e65,'y':_0x46e808-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x4e2e53});_0x124d8a&&_0x544fa1[_0x1dc707(0x208)](_0x124d8a,{'x':_0x85a64a+_0x5015c6+_0x2c6e65,'y':_0x46e808-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x4e2e53});const _0x2ef389=_0x5015c6/0x2,_0x56d8f1=_0x5015c6/0x2;for(let _0x1a90e3=0x0;_0x1a90e3<_0x53871c;_0x1a90e3++){const _0x3a4574=_0x51d6c6-_0x1a90e3*_0x1a6ce3+(_0x1a6ce3-_0x4b65bc)/0x2,_0x3ddada=_0x3dc056[_0x1a90e3]||{'desc':'','value':''};_0x544fa1[_0x1dc707(0x208)](_0x3ddada[_0x1dc707(0x169)],{'x':_0x85a64a+_0x2c6e65,'y':_0x3a4574,'size':_0x4b65bc,'font':_0x5cfb38}),_0x544fa1[_0x1dc707(0x208)](_0x3ddada[_0x1dc707(0x61e)],{'x':_0x85a64a+_0x2ef389+_0x2c6e65,'y':_0x3a4574,'size':_0x4b65bc,'font':_0x5cfb38});if(_0x124d8a){const _0x1343db=_0x5037b7[_0x1a90e3]||{'desc':'','value':''};_0x544fa1[_0x1dc707(0x208)](_0x1343db[_0x1dc707(0x169)],{'x':_0x85a64a+_0x5015c6+_0x2c6e65,'y':_0x3a4574,'size':_0x4b65bc,'font':_0x5cfb38}),_0x544fa1['drawText'](_0x1343db[_0x1dc707(0x61e)],{'x':_0x85a64a+_0x5015c6+_0x56d8f1+_0x2c6e65,'y':_0x3a4574,'size':_0x4b65bc,'font':_0x5cfb38});}}const _0xd52fef=_0x4b4867+_0x53871c*_0x1a6ce3+0x4;if(_0xd99b7a==0x1){const _0x280476=0xe,_0x32e7d8=_0x3620ff,_0x7ec27a=_0x42e188,_0x4f20a0=0xe,_0x1d026e=_0x2c6e65;_0x544fa1[_0x1dc707(0x128)]({'x':_0x32e7d8,'y':_0x46e808-_0x4f20a0,'width':_0x7ec27a,'height':_0x4f20a0,'color':_0x1fdfa1,'borderColor':_0x1fdfa1,'borderWidth':0x1}),_0x544fa1[_0x1dc707(0x208)]('DETRACCIÓN\x20('+_0x5ed4ad+'%)',{'x':_0x32e7d8+_0x1d026e,'y':_0x46e808-_0x4f20a0+(_0x4f20a0-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x4e2e53});const _0xb287e5=_0x7ec27a-_0x1d026e*0x2;let _0x5e174e=_0x46e808-_0x4f20a0-0xe;const _0x338d53=[_0x1dc707(0x4a0)+_0x55f6ee+'\x20'+_0x2a7039,'Bien\x20o\x20Servicio:\x20'+_0x9741f7+'\x20'+_0x211209,_0x1dc707(0x3c5)];let _0x3c8add=_0x5e174e;for(let _0x4d0795=0x0;_0x4d0795<_0x338d53[_0x1dc707(0x506)];_0x4d0795++){_0x3c8add=_0x4ed428(_0x338d53[_0x4d0795],_0x32e7d8+_0x1d026e,_0x5e174e,_0xb287e5,_0x5cfb38,_0x4b65bc,_0x280476),_0x5e174e=_0x3c8add-0x2;}const _0x1e6b62=_0x46e808-_0x4f20a0-0x4-_0x3c8add,_0xda7e6b=_0x4f20a0+0x4+_0x1e6b62;_0x544fa1[_0x1dc707(0x128)]({'x':_0x32e7d8,'y':_0x46e808-_0xda7e6b,'width':_0x7ec27a,'height':_0xda7e6b,'borderColor':_0x1fdfa1,'borderWidth':0x1});const _0xc43a93=Math[_0x1dc707(0x1f8)](_0xd52fef,_0xda7e6b);_0x544fa1['drawRectangle']({'x':_0x85a64a,'y':_0x46e808-_0xc43a93,'width':_0x38a7a5,'height':_0xc43a93,'borderColor':_0x1fdfa1,'borderWidth':0x1}),_0x4ae847=_0x46e808-_0xc43a93-0x5;}else _0x544fa1['drawRectangle']({'x':_0x85a64a,'y':_0x46e808-_0xd52fef,'width':_0x38a7a5,'height':_0xd52fef,'borderColor':_0x1fdfa1,'borderWidth':0x1}),_0x4ae847=_0x46e808-_0xd52fef-0x5;const _0x1e6c6e=_0x38a7a5+_0x42e188,_0x4a9095=_0x1e6c6e*0.4,_0x3312ae=_0x1e6c6e*0.6;if(setObservacion!=''||_0x580c3d!=''){let _0x5a2029=_0x4ae847;_0x544fa1[_0x1dc707(0x128)]({'x':_0x85a64a,'y':_0x5a2029-_0x4b4867,'width':_0x1e6c6e,'height':_0x4b4867,'color':_0x5a92f1,'borderColor':_0x5a92f1,'borderWidth':0x1}),_0x544fa1[_0x1dc707(0x208)](_0x1dc707(0x3ce),{'x':_0x85a64a+_0x2c6e65,'y':_0x5a2029-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x5491a7}),_0x544fa1[_0x1dc707(0x208)](_0x5baaa3,{'x':_0x85a64a+_0x4a9095+_0x2c6e65,'y':_0x5a2029-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x5491a7});const _0x3e36bd=_0x5a2029-_0x4b4867-_0x1f417c,_0x4fc905=_0x3e36bd-_0x4b65bc;let _0x25442a=_0x4ed428(setObservacion,_0x85a64a+_0x2c6e65,_0x4fc905,_0x4a9095-_0x2c6e65*0x2,_0x5cfb38,_0x4b65bc,_0x19d544),_0x1143f5=_0x3e36bd-_0x25442a,_0x3fae28=_0x3e36bd;for(let _0x2b941a=0x0;_0x2b941a<_0x3d0744[_0x1dc707(0x506)];_0x2b941a++){_0x544fa1[_0x1dc707(0x208)](_0x3d0744[_0x2b941a],{'x':_0x85a64a+_0x4a9095+_0x2c6e65,'y':_0x3fae28-(_0x19d544-_0x4b65bc),'size':_0x4b65bc,'font':_0x5cfb38}),_0x3fae28-=_0x19d544;}let _0xc4e3f5=_0x3e36bd-_0x3fae28,_0x1bbd78=Math['max'](_0x1143f5,_0xc4e3f5),_0x1e75c2=_0x4b4867+_0x1f417c+_0x1bbd78;_0x544fa1['drawRectangle']({'x':_0x85a64a,'y':_0x5a2029-_0x1e75c2,'width':_0x1e6c6e,'height':_0x1e75c2,'borderColor':_0x5a92f1,'borderWidth':0x1}),_0x4ae847=_0x5a2029-_0x1e75c2-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x3fcf40=_0x4ae847;_0x544fa1['drawRectangle']({'x':_0x85a64a,'y':_0x3fcf40-_0x4b4867,'width':_0x1e6c6e,'height':_0x4b4867,'color':_0x5a92f1,'borderColor':_0x5a92f1,'borderWidth':0x1}),_0x544fa1[_0x1dc707(0x208)](_0x1dc707(0x66f),{'x':_0x85a64a+_0x2c6e65,'y':_0x3fcf40-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x5491a7}),_0x544fa1[_0x1dc707(0x208)](_0x1dc707(0x686),{'x':_0x85a64a+_0x4a9095+_0x2c6e65,'y':_0x3fcf40-_0x4b4867+(_0x4b4867-_0x4b65bc)/0x2,'size':_0x4b65bc,'font':_0x3d7317,'color':_0x5491a7});const _0x2e212c=setUrlConsultasCpe,_0x1184ec=_0x1dc707(0x6a7),_0x2ac446=_0x2e212c[_0x1dc707(0x18b)]('\x0a'),_0x52a7c6=_0x1184ec[_0x1dc707(0x18b)]('\x0a'),_0x3a6deb=_0x2ac446['length']*_0x19d544,_0x495494=_0x52a7c6[_0x1dc707(0x506)]*_0x19d544,_0x46405f=Math['max'](_0x3a6deb,_0x495494);let _0x231c18=_0x4b4867+_0x1f417c+_0x46405f;_0x544fa1[_0x1dc707(0x128)]({'x':_0x85a64a,'y':_0x3fcf40-_0x231c18,'width':_0x1e6c6e,'height':_0x231c18,'borderColor':_0x5a92f1,'borderWidth':0x1});let _0x18617a=_0x3fcf40-_0x231c18,_0xa93994=_0x18617a+_0x3a6deb,_0x2dd742=_0x18617a+_0x495494;for(let _0x52245f=0x0;_0x52245f<_0x2ac446[_0x1dc707(0x506)];_0x52245f++){_0x544fa1[_0x1dc707(0x208)](_0x2ac446[_0x52245f],{'x':_0x85a64a+_0x2c6e65,'y':_0xa93994-_0x52245f*_0x19d544-(_0x19d544-_0x4b65bc),'size':_0x4b65bc,'font':_0x5cfb38});}for(let _0x1ef157=0x0;_0x1ef157<_0x52a7c6[_0x1dc707(0x506)];_0x1ef157++){_0x544fa1[_0x1dc707(0x208)](_0x52a7c6[_0x1ef157],{'x':_0x85a64a+_0x4a9095+_0x2c6e65,'y':_0x2dd742-_0x1ef157*_0x19d544-(_0x19d544-_0x4b65bc),'size':_0x4b65bc,'font':_0x5cfb38});}_0x4ae847=_0x3fcf40-_0x231c18-0xa;}else _0x4ae847-=0xa;}}return _0x4ae847;}function imprimirPdf(){const _0x179254=_0x44881d,_0x41cd08=document['getElementById'](_0x179254(0x159))['value'],{pdfGlobalPayload:_0x43e791,pdfGlobalBlob:_0xe30be5,pdfGlobalName:_0x4cd54b}=getLastOperationGlobalData(_0x41cd08);if(!_0xe30be5){ntfShow(_0x179254(0x5ad));return;}const _0x163361=URL[_0x179254(0x2be)](_0xe30be5),_0x132991=window[_0x179254(0x66b)](_0x163361,_0x179254(0x3a9));_0x132991[_0x179254(0x6a2)]=()=>{const _0x396785=_0x179254;_0x132991[_0x396785(0x5b8)](),_0x132991[_0x396785(0x500)](),URL['revokeObjectURL'](_0x163361);};}function descargarPdf(){const _0x310d72=_0x44881d,_0x46c247=document[_0x310d72(0x1a8)](_0x310d72(0x159))['value'],{pdfGlobalPayload:_0x1f8992,pdfGlobalBlob:_0x1df07c,pdfGlobalName:_0x1bbfd5}=getLastOperationGlobalData(_0x46c247);if(!_0x1df07c){ntfShow('No\x20hay\x20un\x20PDF\x20cargado.');return;}const _0xaed3f2=URL[_0x310d72(0x2be)](_0x1df07c),_0x103343=document[_0x310d72(0x291)]('a');_0x103343[_0x310d72(0x186)]=_0xaed3f2,_0x103343[_0x310d72(0x537)]=_0x310d72(0x603),_0x103343[_0x310d72(0x26d)](),URL[_0x310d72(0x4de)](_0xaed3f2);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0xa002a,_0x2195fb=0x0){const _0x268a2e=_0x44881d;document['querySelectorAll'](_0x268a2e(0x470))[_0x268a2e(0x570)](_0x41f0ad=>_0x41f0ad[_0x268a2e(0x14a)][_0x268a2e(0x1c7)](_0x268a2e(0x1c5)));const _0x4c330c=document[_0x268a2e(0x6ce)]('.'+_0xa002a);_0x4c330c['forEach'](_0x28d9a2=>_0x28d9a2[_0x268a2e(0x14a)]['add'](_0x268a2e(0x1c5)));const _0x32079d=_0xa002a['split']('-')[0x1];document['getElementById']('windowId')[_0x268a2e(0x61e)]=_0x32079d;const _0x5e5ac8=document[_0x268a2e(0x1a8)](_0x268a2e(0x290));_0x5e5ac8[_0x268a2e(0x61e)]=_0x268a2e(0x451)+_0x32079d,await new Promise(_0x302514=>setTimeout(_0x302514,0x12c)),renderProducts();const _0x229e05=getValidatedWindowAndShift(_0x32079d),{currentWindowShift:_0x523783}=_0x229e05;if(_0x523783){const _0x2299de=document[_0x268a2e(0x1a8)](_0x268a2e(0x28e)+_0x32079d);if(_0x2299de){const _0xf29210=_0x2299de[_0x268a2e(0x61e)];if(!setTipOpeOrders[_0x268a2e(0x484)](_0x27fe43=>_0x27fe43==_0xf29210)){let _0x895356=null;for(const _0x3e7542 of setTipOpeOrders){const _0x4aaf01=Array[_0x268a2e(0x2af)](_0x2299de['options'])['some'](_0x503d9d=>_0x503d9d[_0x268a2e(0x61e)]==_0x3e7542);if(_0x4aaf01){_0x895356=_0x3e7542;break;}}_0x895356!==null&&(_0x2299de['value']=_0x895356);}}}parseInt(window_options[_0x32079d]['setFechaHoraReadonly'])!=0x1&&(window_options[_0x32079d][_0x268a2e(0x5a6)]=obtener_fechaHora());const _0x4d9f9a=document['getElementById'](_0x268a2e(0x28e)+_0x32079d)['value'];await updateSerieOptions(_0x4d9f9a,_0x32079d),_0x2195fb==0x1&&await setOrders(_0x32079d);}async function setOrders(_0x65ed24){const _0x5f1df3=_0x44881d,_0x643cc7=getValidatedWindowAndShift(_0x65ed24);if(!_0x643cc7)return;const {windowObj:_0x20cf67,currentWindowShift:_0x48757b}=_0x643cc7;if(_0x48757b){const _0x48b3e0=_0x48757b[_0x5f1df3(0x2ca)],_0x25d0c8=_0x48757b['setOrders']||[];console[_0x5f1df3(0x37b)](_0x5f1df3(0x382),_0x25d0c8);const _0xa2ec1c=_0x25d0c8['some'](_0x2713bd=>_0x2713bd[_0x5f1df3(0x4e4)]==_0x48b3e0&&setTipOpeSales[_0x5f1df3(0x484)](_0x3f0474=>_0x3f0474==_0x2713bd[_0x5f1df3(0x5e2)]));if(!_0xa2ec1c){await removeAllFromCart(_0x65ed24,0x1);const _0xa74e6b=_0x25d0c8[_0x5f1df3(0x2c8)](_0x530e91=>{const _0x2642ef=_0x5f1df3;return _0x530e91[_0x2642ef(0x4e4)]==_0x48b3e0&&setTipOpeOrders['some'](_0x1f289a=>_0x1f289a==_0x530e91[_0x2642ef(0x5e2)]);});for(const _0x2f1bd9 of _0xa74e6b){let _0x23010f=_0x2f1bd9[_0x5f1df3(0x3da)];if(Array['isArray'](_0x2f1bd9[_0x5f1df3(0x399)]))for(const _0x546530 of _0x2f1bd9['setProductos']){if(carts[_0x65ed24]&&carts[_0x65ed24][_0x5f1df3(0x484)](_0x748428=>_0x748428['cartId']==_0x546530[_0x5f1df3(0x3d4)]))continue;const _0x1456b9=products[_0x5f1df3(0x552)](_0x114e63=>_0x114e63['id']==_0x546530['setIdProducto']);_0x1456b9&&(await new Promise(_0x945e9=>setTimeout(_0x945e9,0x64)),addToCart(_0x1456b9,{'setValorCantidad':_0x546530[_0x5f1df3(0x1d1)],'setMtoPrecioUnitario_final':_0x546530['setMtoPrecioUnitario_final'],'setTaxId':_0x546530[_0x5f1df3(0x329)],'setTipAfeIgv':_0x546530[_0x5f1df3(0x509)],'setPorcentajeDesc':_0x546530[_0x5f1df3(0x5be)],'setNotas':_0x546530[_0x5f1df3(0x5a1)],'cartId':_0x546530[_0x5f1df3(0x3d4)],'setWindowShiftId':_0x48b3e0,'setOrderId':_0x23010f,'setMtoPrecioUnitario_input':_0x546530[_0x5f1df3(0x3b5)],'setMtoPrecioCostoUnitario_input':_0x546530['setMtoPrecioCostoUnitario_input']},0x1,_0x65ed24));}}}}else _0x20cf67[_0x5f1df3(0x3cf)]==_0x5f1df3(0x29c)&&await removeAllFromCart(_0x65ed24,0x1);}function showModalWindowShift(){const _0x4fd833=_0x44881d,_0x470765=document['getElementById']('detalleModalWindowShift'),_0x294fae=document[_0x4fd833(0x1a8)](_0x4fd833(0x41b));_0x470765[_0x4fd833(0x14a)][_0x4fd833(0x529)](_0x4fd833(0x1c5)),_0x294fae[_0x4fd833(0x59b)][_0x4fd833(0x2a2)]='block';}function hideModalWindowShift(){const _0x53f2cc=_0x44881d,_0x18dd3c=document['getElementById'](_0x53f2cc(0x30d)),_0xc8459f=document[_0x53f2cc(0x1a8)](_0x53f2cc(0x41b));_0x18dd3c[_0x53f2cc(0x14a)]['remove'](_0x53f2cc(0x1c5)),_0xc8459f['style'][_0x53f2cc(0x2a2)]='none';}document[_0x44881d(0x1a8)](_0x44881d(0x583))[_0x44881d(0x276)](_0x44881d(0x26d),hideModalWindowShift),document[_0x44881d(0x1a8)](_0x44881d(0x41b))[_0x44881d(0x276)](_0x44881d(0x26d),_0x5b1170=>{const _0xeec6ac=_0x44881d;_0x5b1170['target']==_0x5b1170[_0xeec6ac(0x45f)]&&_0x5b1170[_0xeec6ac(0x39e)]();});function getValidatedWindowAndShift(_0x36cd47){const _0x1dbdfa=_0x44881d,_0x1fe672=myCompany[_0x1dbdfa(0x319)][_0x1dbdfa(0x552)](_0x27d2c1=>_0x27d2c1['setWindowId']==_0x36cd47);if(!_0x1fe672)return null;!_0x1fe672[_0x1dbdfa(0x6bc)]&&(_0x1fe672[_0x1dbdfa(0x6bc)]=[]);const _0x121854=_0x1fe672[_0x1dbdfa(0x6bc)]['find'](_0xbfd0b5=>_0xbfd0b5[_0x1dbdfa(0x6cb)]=='1');return{'windowObj':_0x1fe672,'currentWindowShift':_0x121854};}async function updateWindowShiftDisplay(_0x5b572d){const _0x5763b4=_0x44881d,_0x4af93c=document['getElementById'](_0x5763b4(0x642));_0x4af93c[_0x5763b4(0x328)]='';const _0x106c38=getValidatedWindowAndShift(_0x5b572d);if(!_0x106c38)return;const {windowObj:_0x5ae4b3,currentWindowShift:_0x52dfdb}=_0x106c38;if(!_0x52dfdb){const _0x1dc4ec=_0x5ae4b3;let _0x263bdc,_0x1c517b;if(_0x1dc4ec['setWindowType']=='window')_0x263bdc=_0x5763b4(0x26b),_0x1c517b=_0x5763b4(0x68c);else{if(_0x1dc4ec[_0x5763b4(0x527)]==_0x5763b4(0x3b4))_0x263bdc=_0x5763b4(0x632),_0x1c517b=_0x5763b4(0x5a2);else{if(_0x1dc4ec[_0x5763b4(0x527)]==_0x5763b4(0x6a0))_0x263bdc='Check\x20In',_0x1c517b=_0x5763b4(0x261);else _0x1dc4ec[_0x5763b4(0x527)]==_0x5763b4(0x15e)&&(_0x263bdc=_0x5763b4(0x45a),_0x1c517b='./img/layout/icon-window.svg');}}const _0x58bdb2=document[_0x5763b4(0x291)]('div');_0x58bdb2[_0x5763b4(0x61f)]=_0x5763b4(0x394);const _0xf4a87d=document['createElement'](_0x5763b4(0x5ef));_0xf4a87d[_0x5763b4(0x61f)]=_0x5763b4(0x48c);const _0x4e0817=document['createElement'](_0x5763b4(0x342));_0x4e0817[_0x5763b4(0x61f)]=_0x5763b4(0x5dc),_0x4e0817['src']=_0x1c517b,_0x4e0817[_0x5763b4(0x4ae)]=_0x263bdc,_0xf4a87d[_0x5763b4(0x613)](_0x4e0817);const _0x3828cc=document['createElement']('div');_0x3828cc['className']=_0x5763b4(0x3dd);const _0x5da4eb=document[_0x5763b4(0x291)]('h2');_0x5da4eb[_0x5763b4(0x61f)]=_0x5763b4(0x43c),_0x5da4eb[_0x5763b4(0x5b1)]=_0x263bdc;const _0x567214=document[_0x5763b4(0x291)](_0x5763b4(0x5ef));_0x567214[_0x5763b4(0x61f)]=_0x5763b4(0x611);const _0x2e3f81=document[_0x5763b4(0x291)]('button');_0x2e3f81[_0x5763b4(0x61f)]='shift-open-btn',_0x2e3f81['id']=_0x5763b4(0x124),_0x2e3f81[_0x5763b4(0x5b1)]=_0x5763b4(0x49b),_0x2e3f81[_0x5763b4(0x276)](_0x5763b4(0x26d),()=>openWindowShift(_0x5b572d)),_0x567214[_0x5763b4(0x613)](_0x2e3f81),_0x3828cc[_0x5763b4(0x613)](_0x5da4eb),_0x3828cc[_0x5763b4(0x613)](_0x567214),_0x58bdb2[_0x5763b4(0x613)](_0xf4a87d),_0x58bdb2[_0x5763b4(0x613)](_0x3828cc),_0x4af93c['appendChild'](_0x58bdb2),showModalWindowShift();}else{}}async function openWindowShift(_0x3ef9eb){const _0x3d75e8=_0x44881d,_0x274361=document[_0x3d75e8(0x1a8)](_0x3d75e8(0x124));if(!_0x274361){console[_0x3d75e8(0x103)](_0x3d75e8(0x5ba));return;}const _0x3e5601=getValidatedWindowAndShift(_0x3ef9eb);if(!_0x3e5601){ntfShow(_0x3d75e8(0x340));return;}const {windowObj:_0x101f62,currentWindowShift:_0x19576c}=_0x3e5601;if(_0x19576c){ntfShow(_0x3d75e8(0x455));return;}_0x274361[_0x3d75e8(0x269)]=!![],hideModalWindowShift(),showLoadingModal();const _0xd8a889=new Date(),_0x31883a=_0x3d75e8(0x267),_0x209f00=generateUniqId();_0x101f62['setShifts']['push']({'setShiftId':_0x209f00,'setShiftStatus':'1','setShiftDateStart':_0xd8a889,'setShiftDateEnd':_0x31883a,'setShiftUserEmail':myCompany['setUser_Local']['setUserName']}),_0x101f62[_0x3d75e8(0x3cf)]=_0x3d75e8(0x6ae),_0x101f62[_0x3d75e8(0x3df)]=nowWithMillisecondsForServer();const _0x4489f0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4489f0),ntfShow(_0x3d75e8(0x254)+_0xd8a889[_0x3d75e8(0x2a6)]()),await apiERPsyncWindows();const _0x4d198a=_0x3d75e8(0x451)+_0x3ef9eb;await switchTab(_0x4d198a,0x1),_0x274361[_0x3d75e8(0x269)]=![],hideLoadingModal();}function getMaxWindowId(_0x5a6a88){const _0x3fcc7a=_0x44881d,_0x50b8e9=Object[_0x3fcc7a(0x49e)](_0x5a6a88);if(_0x50b8e9[_0x3fcc7a(0x506)]==0x0)return 0x0;return Math[_0x3fcc7a(0x1f8)](..._0x50b8e9['map'](_0x1a4ff7=>parseInt(_0x1a4ff7,0xa)));}async function updateTab(_0x2cc345){return new Promise(async _0x4837df=>{const _0x13750a=_0x1a69,_0x41bfd3=myCompany['setWindows']['find'](_0x30da8c=>_0x30da8c[_0x13750a(0x33a)]==_0x2cc345);if(!_0x41bfd3){console[_0x13750a(0x103)]('No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20'+_0x2cc345),_0x4837df();return;}const _0x143fc8=_0x13750a(0x451)+_0x2cc345,_0x305b82=document[_0x13750a(0x1a8)](_0x13750a(0x290)),_0x58073f=document['createElement']('option');_0x58073f[_0x13750a(0x61e)]=_0x143fc8,_0x58073f[_0x13750a(0x5b1)]=_0x41bfd3[_0x13750a(0x574)],_0x305b82[_0x13750a(0x613)](_0x58073f),await createFormElements(_0x143fc8),_0x4837df();});}async function addNewTab(_0x13d004){const _0x54df8b=_0x44881d;if(parseFloat(_0x13d004)===0x0){ntfShow('WindowId\x20Error');return;}let _0x45260c=_0x13d004;tabCount=parseFloat(_0x13d004),carts[_0x45260c]=[],window_options[_0x45260c]={};try{await createCartStore(_0x45260c),await updateTab(_0x45260c);}catch(_0x1fdc37){console['error'](_0x54df8b(0x2c9),_0x1fdc37);}}document[_0x44881d(0x1a8)](_0x44881d(0x597))[_0x44881d(0x1ef)]=_0xf72276=>{const _0x32a15c=_0x44881d;itemsPerPage=parseInt(_0xf72276['target'][_0x32a15c(0x61e)],0xa),currentPage=0x1,renderProducts(searchInput[_0x32a15c(0x61e)]);};function procesarProductos(_0xeb80ae){const _0x1c9c2c=_0x44881d,_0x465848=parseFloat(_0xeb80ae[_0x1c9c2c(0x5cc)])||0x0,_0x5576b1=_0xeb80ae['items'],_0x227ba1=parseFloat(_0xeb80ae[_0x1c9c2c(0x5f7)])||0x0,_0x224d20=_0x465848/0x64,_0x765657={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x282011=[];for(const _0x362fa1 of _0x5576b1){if(!_0x362fa1[_0x1c9c2c(0x578)]||!_0x362fa1[_0x1c9c2c(0x509)])throw new Error(_0x1c9c2c(0x1e4));let {valorUnit:_0x599d2f,precioUnit:_0x4dfd6f,valorCantidad:_0x23475a,valorPorcentajeIgv:_0xeaa7d4,setTipAfeIgv:_0x5c14fc,setDescuento:_0x59b39f}=_0x362fa1;const _0x4ac265=_0x59b39f?.[_0x1c9c2c(0x57a)]||'',_0x448976=_0x59b39f?.[_0x1c9c2c(0x5be)]||0x0;!_0x599d2f?_0x599d2f=setTipAfeImpGravados[_0x1c9c2c(0x484)](_0x158d5c=>_0x158d5c==_0x5c14fc)?_0x4dfd6f/(0x1+_0xeaa7d4/0x64):_0x4dfd6f:_0x4dfd6f=setTipAfeImpGravados[_0x1c9c2c(0x484)](_0x1a16bc=>_0x1a16bc==_0x5c14fc)?_0x599d2f+_0x599d2f*(_0xeaa7d4/0x64):_0x599d2f;let _0x2d0729=0x0,_0x2e4f33=0x0,_0x4c239f=0x0,_0x2ae7c9=0x0,_0x1478e2=0x0,_0x3edf1e=0x0,_0x24f13d=0x0,_0x4ca119=0x0,_0x26718a=0x0,_0x3c8839=0x0,_0x4b2dca=0x0,_0x3f5ab7=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x1c9c2c(0x484)](_0x3d9397=>_0x3d9397==_0x5c14fc):_0x2d0729=_0x599d2f,_0x2e4f33=0x0,_0x4c239f=_0x2d0729*_0x23475a;_0x448976>0x0&&(_0x4ca119=_0x448976/0x64,_0x26718a=_0x4c239f,_0x3c8839=_0x26718a*_0x4ca119,_0x4b2dca=(_0x26718a+_0x26718a*(_0xeaa7d4/0x64))*_0x4ca119,_0x4c239f-=_0x3c8839,_0x765657['setMtoDescItems']+=_0x3c8839,_0x765657[_0x1c9c2c(0x593)]+=_0x4b2dca);_0x2ae7c9=_0x4c239f,_0x3edf1e=_0x2ae7c9*(_0xeaa7d4/0x64),_0x1478e2=_0xeaa7d4,_0x24f13d=(_0x4c239f+_0x3edf1e)/_0x23475a,_0x765657['setMtoOperGravadas']+=_0x4c239f,_0x765657[_0x1c9c2c(0x1ff)]+=_0x3edf1e;break;case setTipAfeImpExonerados[_0x1c9c2c(0x484)](_0x420f5c=>_0x420f5c==_0x5c14fc)||setTipAfeImpInafectos[_0x1c9c2c(0x484)](_0x39b2e4=>_0x39b2e4==_0x5c14fc):_0x2d0729=_0x599d2f,_0x2e4f33=0x0,_0x4c239f=_0x2d0729*_0x23475a;_0x448976>0x0&&(_0x4ca119=_0x448976/0x64,_0x26718a=_0x4c239f,_0x3c8839=_0x26718a*_0x4ca119,_0x4b2dca=_0x3c8839,_0x4c239f-=_0x3c8839,_0x765657[_0x1c9c2c(0x300)]+=_0x3c8839,_0x765657[_0x1c9c2c(0x593)]+=_0x4b2dca);_0x2ae7c9=_0x4c239f,_0x3edf1e=0x0,_0x1478e2=0x0,_0x24f13d=(_0x4c239f+_0x3edf1e)/_0x23475a;setTipAfeImpExonerados[_0x1c9c2c(0x484)](_0x16f177=>_0x16f177==_0x5c14fc)?_0x765657[_0x1c9c2c(0x144)]+=_0x4c239f:_0x765657[_0x1c9c2c(0x53d)]+=_0x4c239f;break;case setTipAfeImpGravadosGrat[_0x1c9c2c(0x484)](_0x230855=>_0x230855==_0x5c14fc):_0x2d0729=0x0,_0x2e4f33=_0x599d2f,_0x4c239f=_0x2e4f33*_0x23475a,_0x2ae7c9=_0x4c239f,_0x3edf1e=_0x2ae7c9*(_0xeaa7d4/0x64),_0x1478e2=_0xeaa7d4,_0x24f13d=0x0,_0x765657['setMtoOperGratuitas']+=_0x4c239f,_0x765657['setMtoIGVGratuitas']+=_0x3edf1e;break;case setTipAfeImpExoneradosGrat['some'](_0x2ceed0=>_0x2ceed0==_0x5c14fc)||setTipAfeImpInafectosGrat[_0x1c9c2c(0x484)](_0x3ba10d=>_0x3ba10d==_0x5c14fc):_0x2d0729=0x0,_0x2e4f33=_0x599d2f,_0x4c239f=_0x2e4f33*_0x23475a,_0x2ae7c9=_0x4c239f,_0x3edf1e=0x0,_0x1478e2=0x0,_0x24f13d=0x0,_0x765657['setMtoOperGratuitas']+=_0x4c239f;break;default:console['error']('TAX\x20Error:\x20'+_0x5c14fc);continue;}_0x3f5ab7=_0x24f13d*_0x23475a,_0x282011[_0x1c9c2c(0x318)]({'setMtoValorUnitario':_0x2d0729,'setMtoValorGratuito':_0x2e4f33,'setMtoValorVenta':_0x4c239f,'setMtoBaseIgv':_0x2ae7c9,'setPorcentajeIgv':_0x1478e2,'setIgv':_0x3edf1e,'setTipAfeIgv':_0x5c14fc,'setTotalImpuestos':_0x3edf1e,'setMtoPrecioUnitario':_0x24f13d,'setDescuento_setCodTipo':_0x4ac265,'setDescuento_setMontoBase':_0x26718a,'setDescuento_setFactor':_0x4ca119,'setDescuento_setMonto':_0x3c8839,'setDescuento_setMonto_precio':_0x4b2dca,'setPorcentajeDesc':_0x448976,'setTotal':_0x3f5ab7,'setMtoValorUnitario_final':_0x599d2f,'setMtoPrecioUnitario_final':_0x4dfd6f});}_0x765657[_0x1c9c2c(0x2b0)]=_0x765657[_0x1c9c2c(0x1ff)],_0x765657[_0x1c9c2c(0x2e8)]=_0x765657[_0x1c9c2c(0x54d)]+_0x765657[_0x1c9c2c(0x144)]+_0x765657[_0x1c9c2c(0x53d)],_0x765657[_0x1c9c2c(0x69e)]=_0x765657[_0x1c9c2c(0x2e8)]+_0x765657[_0x1c9c2c(0x2b0)],_0x765657[_0x1c9c2c(0x659)]=_0x765657[_0x1c9c2c(0x69e)];if(_0x227ba1>0x0){const _0xd0c470=_0x227ba1/(0x1+_0x224d20),_0x51b75d=_0xd0c470*(_0x765657['setMtoOperGravadas']/_0x765657[_0x1c9c2c(0x2e8)]),_0x304d90=_0x227ba1*(_0x765657[_0x1c9c2c(0x144)]/_0x765657[_0x1c9c2c(0x2e8)]),_0x202042=_0x227ba1*(_0x765657[_0x1c9c2c(0x53d)]/_0x765657[_0x1c9c2c(0x2e8)]);_0x765657[_0x1c9c2c(0x54d)]-=_0x51b75d,_0x765657[_0x1c9c2c(0x144)]-=_0x304d90,_0x765657[_0x1c9c2c(0x53d)]-=_0x202042,_0x765657[_0x1c9c2c(0x1ff)]=_0x765657[_0x1c9c2c(0x54d)]*_0x224d20,_0x765657[_0x1c9c2c(0x2b0)]=_0x765657[_0x1c9c2c(0x1ff)],_0x765657[_0x1c9c2c(0x2e8)]=_0x765657[_0x1c9c2c(0x54d)]+_0x765657[_0x1c9c2c(0x144)]+_0x765657[_0x1c9c2c(0x53d)],_0x765657[_0x1c9c2c(0x69e)]=_0x765657[_0x1c9c2c(0x2e8)]+_0x765657[_0x1c9c2c(0x2b0)],_0x765657['setMtoImpVenta']=_0x765657['setSubTotal'];}return{'setInvoice':_0x765657,'setInvoiceDetails':_0x282011};}function selectAllChecks(_0x2f21c6){const _0x25a986=_0x44881d,_0x451ba4=document[_0x25a986(0x1a8)](_0x25a986(0x271)+_0x2f21c6),_0x1e3496=_0x451ba4[_0x25a986(0x16a)],_0x4eabe1=document[_0x25a986(0x6ce)](_0x25a986(0x121)+_0x2f21c6);_0x4eabe1[_0x25a986(0x570)](_0xae75b3=>{const _0xf1b70f=_0x25a986;_0xae75b3[_0xf1b70f(0x16a)]=_0x1e3496,_0xae75b3[_0xf1b70f(0x61e)]=_0x1e3496?0x1:0x0;}),carts[_0x2f21c6][_0x25a986(0x570)](_0x406a50=>{const _0x1a781f=_0x25a986;_0x406a50[_0x1a781f(0x433)]=_0x1e3496?0x1:0x0;}),renderCart(_0x2f21c6);}async function setPreAccount(_0x3860f9){const _0x644ff8=_0x44881d;showLoadingModal(),await setBill(_0x3860f9);const _0x40c21a=buildPayload(_0x3860f9),{pdfBlob:_0x750189,pdfName:_0x312b36}=await generatePdf(_0x40c21a,'tk','pdfCanvas',_0x644ff8(0x67f),0x1);hideLoadingModal(),setLastOperationGlobalData(_0x3860f9,{'pdfGlobalPayload':_0x40c21a,'pdfGlobalBlob':_0x750189,'pdfGlobalName':_0x312b36}),showModal();const _0x4103fb=getValidatedWindowAndShift(_0x3860f9);if(_0x4103fb){const {windowObj:_0x351e18,currentWindowShift:_0x4a38c0}=_0x4103fb;if(_0x4a38c0){_0x4a38c0[_0x644ff8(0x2b4)]=new Date(),_0x351e18[_0x644ff8(0x3cf)]=_0x644ff8(0x29a),_0x351e18[_0x644ff8(0x3df)]=nowWithMillisecondsForServer();const _0x29c4ae=await createCartStore('');await saveCompanyToIndexedDB(company,_0x29c4ae),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x5a9d41){const _0x1982a9=_0x44881d,_0x321bfd=parseInt(_0x5a9d41,0xa),_0x44dd09=elementos['find'](_0x1f47bd=>_0x1f47bd[_0x1982a9(0x33a)]===_0x321bfd);if(!_0x44dd09)return console[_0x1982a9(0x4a6)](_0x1982a9(0x3a7),_0x321bfd);await clickMesa(_0x44dd09,0x0),await setPreAccount(_0x5a9d41);const _0x407385=document['getElementById'](_0x1982a9(0x17b))['value'];handleTabSelection(_0x407385);}function _0x1a69(_0x5a1bd3,_0x2932b3){const _0x986f1b=_0x1bb2();return _0x1a69=function(_0x41b975,_0x2f1339){_0x41b975=_0x41b975-0xed;let _0x951694=_0x986f1b[_0x41b975];return _0x951694;},_0x1a69(_0x5a1bd3,_0x2932b3);}async function setBill(_0x3a872e){const _0xb21df0=_0x44881d,_0xc29bc7=document['getElementById'](_0xb21df0(0x28e)+_0x3a872e);if(_0xc29bc7){let _0xba8ff4=null;for(const _0x596bb5 of setTipOpeSales){const _0x3afee2=Array['from'](_0xc29bc7[_0xb21df0(0x39f)])[_0xb21df0(0x484)](_0x38acd3=>_0x38acd3[_0xb21df0(0x61e)]==_0x596bb5);if(_0x3afee2){_0xba8ff4=_0x596bb5;break;}}_0xba8ff4!==null?(window_options[_0x3a872e][_0xb21df0(0x5e2)]=_0xba8ff4,await updateSerieOptions(_0xba8ff4,_0x3a872e),renderCart(_0x3a872e)):console[_0xb21df0(0x4a6)](_0xb21df0(0x491));}else console[_0xb21df0(0x103)]('No\x20se\x20encontró\x20el\x20select');}function renderCart(_0x58b86e){const _0x3cd575=_0x44881d,_0x11edb0=document[_0x3cd575(0x1a8)]('cart-'+_0x58b86e),_0x4c167f=document['getElementById'](_0x3cd575(0x637)+_0x58b86e),_0x2f5880=document[_0x3cd575(0x1a8)](_0x3cd575(0x240)+_0x58b86e),_0x1f04f1=document['getElementById']('float-right-OpGravada-'+_0x58b86e),_0x172958=document[_0x3cd575(0x1a8)](_0x3cd575(0x36d)+_0x58b86e),_0x47d111=document[_0x3cd575(0x1a8)](_0x3cd575(0x48d)+_0x58b86e),_0x4f5161=document['getElementById'](_0x3cd575(0x5a5)+_0x58b86e),_0x38066e=document[_0x3cd575(0x1a8)](_0x3cd575(0x148)+_0x58b86e),_0x28a05d=document[_0x3cd575(0x1a8)](_0x3cd575(0x247)+_0x58b86e),_0x592035=document['getElementById'](_0x3cd575(0x40c)+_0x58b86e),_0x3c08a6=document['getElementById'](_0x3cd575(0x651)+_0x58b86e);_0x11edb0[_0x3cd575(0x328)]='';const _0x49e53e=carts[_0x58b86e];let _0xa9eaf7,_0x4ea524;if(setTipOpeOrders[_0x3cd575(0x484)](_0xc61aa1=>_0xc61aa1==window_options[_0x58b86e][_0x3cd575(0x5e2)]))_0xa9eaf7=_0x49e53e[_0x3cd575(0x2c8)](_0x3171ac=>_0x3171ac['setChecked']==0x1&&_0x3171ac['setWindowShiftId']==''),_0x4ea524=myCompany[_0x3cd575(0x522)][_0x3cd575(0x2c8)](_0xb27e08=>_0xb27e08[_0x3cd575(0x303)]==0x1);else{if(setTipOpeSales[_0x3cd575(0x484)](_0x224597=>_0x224597==window_options[_0x58b86e]['setTipoOperacion'])||setTipOpeQuotation[_0x3cd575(0x484)](_0x43277d=>_0x43277d==window_options[_0x58b86e][_0x3cd575(0x5e2)]))_0xa9eaf7=_0x49e53e[_0x3cd575(0x2c8)](_0x11df92=>_0x11df92['setChecked']==0x1),_0x4ea524=myCompany[_0x3cd575(0x522)][_0x3cd575(0x2c8)](_0x12885b=>_0x12885b[_0x3cd575(0x303)]==0x1);else setTipOpePurchases['some'](_0x510dad=>_0x510dad==window_options[_0x58b86e]['setTipoOperacion'])&&(_0xa9eaf7=_0x49e53e[_0x3cd575(0x2c8)](_0x27ea28=>_0x27ea28[_0x3cd575(0x433)]==0x1),_0x4ea524=myCompany[_0x3cd575(0x522)]['filter'](_0x56be08=>_0x56be08[_0x3cd575(0x303)]==0x2));}const _0xa7d23d=_0xa9eaf7['map'](_0x38113e=>({'valorUnit':_0x38113e[_0x3cd575(0x676)],'precioUnit':_0x38113e[_0x3cd575(0x48f)],'valorCantidad':_0x38113e[_0x3cd575(0x1d1)],'valorPorcentajeIgv':_0x38113e[_0x3cd575(0x688)],'setTipAfeIgv':_0x38113e[_0x3cd575(0x509)],'setDescuento':{'setCodTipo':_0x38113e[_0x3cd575(0x413)]?.[_0x3cd575(0x57a)]||'00','setPorcentajeDesc':_0x38113e[_0x3cd575(0x413)]?.[_0x3cd575(0x5be)]||0x0}})),_0x1d372d=window_options[_0x58b86e],_0x595171=_0x1d372d[_0x3cd575(0x2bb)],{setInvoice:_0x2903a8}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x3cd575(0x156)]['find'](_0x452336=>_0x452336[_0x3cd575(0x329)]==myCompany[_0x3cd575(0x46a)])?.[_0x3cd575(0x1b5)],'items':_0xa7d23d,'descuentoGlobalMonto':_0x595171}),_0x3a7990={..._0x1d372d,..._0x2903a8};window_options[_0x58b86e]=_0x3a7990;const {setMtoOperGravadas:_0x763cbe,setMtoOperExoneradas:_0x496bf0,setMtoOperInafectas:_0x5602bc,setValorVenta:_0x4661ec,setMtoIGV:_0x56cfd8,setMtoImpVenta:_0x4a255a,setMtoOperGratuitas:_0x5273a2,setMtoIGVGratuitas:_0x559081,setMtoDescItems_precio:_0x1c43c7}=_0x2903a8,_0x38e806=document[_0x3cd575(0x1a8)](_0x3cd575(0x55d)+_0x58b86e),_0x2d3393=_0x1d372d[_0x3cd575(0x5e2)];parseFloat(_0x559081)>0x0&&(_0x2d3393=='3'||_0x2d3393=='4'||_0x2d3393=='7'||_0x2d3393=='11'||_0x2d3393=='14'||_0x2d3393=='17'||_0x2d3393=='18'||_0x2d3393=='21'||_0x2d3393=='24')?_0x38e806[_0x3cd575(0x14a)][_0x3cd575(0x1c7)](_0x3cd575(0x5cd)):_0x38e806[_0x3cd575(0x14a)][_0x3cd575(0x529)](_0x3cd575(0x5cd));const _0x2c423f=document['getElementById']('div-totals-right-TotalDescItems-'+_0x58b86e);parseFloat(_0x1c43c7)>0x0?_0x2c423f[_0x3cd575(0x14a)][_0x3cd575(0x1c7)](_0x3cd575(0x5cd)):_0x2c423f['classList'][_0x3cd575(0x529)](_0x3cd575(0x5cd));let _0x1adb4f;parseInt(window_options[_0x58b86e]['setDividir'])==0x1?_0x1adb4f='':_0x1adb4f=_0x3cd575(0x32e);const _0x2afaa4=getUserPermissionApiERP(0xc);_0x49e53e[_0x3cd575(0x570)]((_0x10d2e5,_0xe05b43)=>{const _0x2c9867=_0x3cd575;let _0x3102ec='';_0x10d2e5[_0x2c9867(0x4e4)]!=''&&(_0x3102ec='hidden');const _0x12fc83=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x12fc83[_0x2c9867(0x61f)]=_0x2c9867(0x108);const _0x9489bc=document[_0x2c9867(0x291)]('div');_0x9489bc[_0x2c9867(0x61f)]=_0x2c9867(0x490);const _0x3d0fe5=document['createElement'](_0x2c9867(0x5ef));_0x3d0fe5['id']=_0x2c9867(0x3e1)+_0x58b86e+'-'+_0x10d2e5['id'];_0x10d2e5[_0x2c9867(0x2d7)]==0x1?_0x3d0fe5['className']=_0x2c9867(0x31f):_0x3d0fe5[_0x2c9867(0x61f)]=_0x2c9867(0x5ca);const _0x5f2058=createElement(_0x2c9867(0x526),{'type':_0x2c9867(0x4c5),'class':_0x2c9867(0x2a9)+_0x58b86e+'\x20'+_0x1adb4f,'value':_0x10d2e5['setChecked'],'events':{'click':_0x55b850=>updateCartItem(_0x58b86e,_0xe05b43,_0x2c9867(0x433),_0x55b850[_0x2c9867(0x278)][_0x2c9867(0x61e)])}});_0x10d2e5[_0x2c9867(0x433)]==0x1&&(_0x5f2058[_0x2c9867(0x16a)]='checked');_0x9489bc[_0x2c9867(0x613)](_0x5f2058);const _0x33f8ab=products[_0x2c9867(0x552)](_0x457e56=>_0x457e56['id']==_0x10d2e5['setIdProducto']);let _0x3c9de4='';if(_0x33f8ab){const _0x4e8f09=[];if(_0x33f8ab[_0x2c9867(0x365)])_0x4e8f09[_0x2c9867(0x318)]('Cod:\x20'+_0x33f8ab[_0x2c9867(0x365)]);if(_0x33f8ab[_0x2c9867(0x1e3)])_0x4e8f09[_0x2c9867(0x318)](''+_0x33f8ab[_0x2c9867(0x1e3)]);if(_0x33f8ab[_0x2c9867(0x1a7)])_0x4e8f09[_0x2c9867(0x318)](''+_0x33f8ab[_0x2c9867(0x1a7)]);if(_0x33f8ab[_0x2c9867(0x237)]){const _0x61c1e5=_0x33f8ab[_0x2c9867(0x237)][_0x2c9867(0x18b)]('-'),_0x5e646e=_0x61c1e5[0x2]+'/'+_0x61c1e5[0x1]+'/'+_0x61c1e5[0x0];_0x4e8f09[_0x2c9867(0x318)]('Vence:\x20'+_0x5e646e);}_0x3c9de4=_0x4e8f09[_0x2c9867(0x414)](_0x2c9867(0x534));}const _0x53bcb7=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x53bcb7[_0x2c9867(0x328)]=_0x10d2e5['setCodProducto']+'\x20-\x20'+_0x10d2e5[_0x2c9867(0x5a9)]+'<span\x20class=\x22cart-product-note\x22>'+(_0x10d2e5[_0x2c9867(0x5a1)]??'')+_0x2c9867(0x58f),_0x53bcb7[_0x2c9867(0x61f)]=_0x2c9867(0x1cd);if(_0x3c9de4)_0x53bcb7['setAttribute'](_0x2c9867(0xfe),_0x3c9de4);_0x9489bc[_0x2c9867(0x613)](_0x53bcb7);const _0x1a7c95=document[_0x2c9867(0x291)]('textarea');_0x1a7c95[_0x2c9867(0x61e)]=_0x10d2e5['setDescripcion']||'',_0x1a7c95[_0x2c9867(0x61f)]=_0x2c9867(0x51e),_0x1a7c95['placeholder']='Producto:',_0x1a7c95['onchange']=_0xff625d=>updateCartItem(_0x58b86e,_0xe05b43,'setDescripcion',_0xff625d['target'][_0x2c9867(0x61e)]),_0x9489bc[_0x2c9867(0x613)](_0x1a7c95),_0x53bcb7[_0x2c9867(0x276)](_0x2c9867(0x26d),()=>{const _0x333942=_0x2c9867;_0x53bcb7[_0x333942(0x14a)]['add'](_0x333942(0x32e)),_0x1a7c95[_0x333942(0x14a)][_0x333942(0x1c7)](_0x333942(0x32e)),_0x1a7c95[_0x333942(0x5b8)]();}),_0x1a7c95[_0x2c9867(0x276)](_0x2c9867(0x294),()=>{renderCart(_0x58b86e);});const _0x51f50f=document[_0x2c9867(0x291)]('button');_0x51f50f[_0x2c9867(0x328)]='<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>',_0x51f50f['id']=_0x2c9867(0x4c0)+_0x58b86e+'-'+_0x10d2e5['id'],_0x51f50f['className']=_0x2c9867(0x474)+_0x3102ec,_0x51f50f['addEventListener'](_0x2c9867(0x26d),()=>{const _0x18bbdb=_0x2c9867,_0xc2ed13=_0x3d0fe5[_0x18bbdb(0x14a)][_0x18bbdb(0x3f2)](_0x18bbdb(0x5cd));_0xc2ed13?(_0x3d0fe5[_0x18bbdb(0x14a)]['remove'](_0x18bbdb(0x5cd)),_0x51f50f[_0x18bbdb(0x328)]=_0x18bbdb(0x3ac),updateCartItem(_0x58b86e,_0xe05b43,'setVisible',0x1)):(_0x3d0fe5[_0x18bbdb(0x14a)]['add'](_0x18bbdb(0x5cd)),_0x51f50f[_0x18bbdb(0x328)]=_0x18bbdb(0x450),updateCartItem(_0x58b86e,_0xe05b43,_0x18bbdb(0x2d7),0x0));}),_0x9489bc[_0x2c9867(0x613)](_0x51f50f);const _0x57c599=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x57c599['className']='input-group\x20input_cart_setCantidad\x20div-width-30';const _0x197d87=document[_0x2c9867(0x291)](_0x2c9867(0x69a));_0x197d87[_0x2c9867(0x61f)]='btn\x20btn-none\x20'+_0x3102ec,_0x197d87[_0x2c9867(0x328)]=_0x2c9867(0x41a),_0x197d87[_0x2c9867(0x3f5)]=()=>{const _0x44dd29=_0x2c9867;let _0x1e69d3=parseFloat(_0x10d2e5[_0x44dd29(0x1d1)])||0x0;_0x1e69d3<=0x1?_0x1e69d3=Math[_0x44dd29(0x1f8)](0.1,_0x1e69d3-0.1):_0x1e69d3=Math['max'](0x0,_0x1e69d3-0x1),_0x10d2e5[_0x44dd29(0x1d1)]=_0x1e69d3[_0x44dd29(0x4cc)](0x1),_0x1f4382[_0x44dd29(0x61e)]=_0x10d2e5['setCantidad']||0x0,updateCartItem(_0x58b86e,_0xe05b43,_0x44dd29(0x1d1),_0x10d2e5[_0x44dd29(0x1d1)]);};const _0x1f4382=document[_0x2c9867(0x291)](_0x2c9867(0x526));_0x10d2e5[_0x2c9867(0x4e4)]!=''&&(_0x1f4382['readOnly']=!![]);_0x1f4382[_0x2c9867(0xfa)]=_0x2c9867(0x589),_0x1f4382['step']='0.1',_0x1f4382[_0x2c9867(0x4e1)]=_0x2c9867(0x2db),_0x1f4382[_0x2c9867(0x61e)]=_0x10d2e5[_0x2c9867(0x1d1)]||0x0,_0x1f4382[_0x2c9867(0x61f)]='form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size',_0x1f4382['onchange']=_0x30b5ee=>{const _0x56579b=_0x2c9867;var _0x333f62=parseInt(_0x2afaa4,0xa)||0x0,_0x210bed=Math[_0x56579b(0x14e)](0xa,-_0x333f62);let _0x34c1c5=parseFloat(_0x30b5ee[_0x56579b(0x278)][_0x56579b(0x61e)])||0x0;_0x34c1c5=_0x34c1c5<0x1?Math[_0x56579b(0x1f8)](_0x210bed,_0x34c1c5):Math[_0x56579b(0x1f8)](0x1,_0x34c1c5),_0x10d2e5['setCantidad']=_0x34c1c5[_0x56579b(0x4cc)](_0x333f62),updateCartItem(_0x58b86e,_0xe05b43,_0x56579b(0x1d1),_0x10d2e5[_0x56579b(0x1d1)]);};const _0x2969fa=document[_0x2c9867(0x291)](_0x2c9867(0x69a));_0x2969fa[_0x2c9867(0x61f)]=_0x2c9867(0x4ab)+_0x3102ec,_0x2969fa[_0x2c9867(0x328)]=_0x2c9867(0x10b),_0x2969fa['onclick']=()=>{const _0x3b6bd7=_0x2c9867;let _0x44b8ac=parseFloat(_0x10d2e5[_0x3b6bd7(0x1d1)])||0x0;_0x44b8ac<0x1?_0x44b8ac=_0x44b8ac+0.1:_0x44b8ac=_0x44b8ac+0x1,_0x10d2e5[_0x3b6bd7(0x1d1)]=_0x44b8ac[_0x3b6bd7(0x4cc)](0x1),_0x1f4382[_0x3b6bd7(0x61e)]=_0x10d2e5[_0x3b6bd7(0x1d1)]||0x0,updateCartItem(_0x58b86e,_0xe05b43,_0x3b6bd7(0x1d1),_0x10d2e5[_0x3b6bd7(0x1d1)]);},_0x57c599[_0x2c9867(0x613)](_0x197d87),_0x57c599['appendChild'](_0x1f4382),_0x57c599[_0x2c9867(0x613)](_0x2969fa),_0x9489bc[_0x2c9867(0x613)](_0x57c599);const _0x1dab71=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x1dab71['textContent']=''+(parseFloat(_0x10d2e5['setTotal'])||0x0)['toFixed'](0x2),_0x1dab71[_0x2c9867(0x61f)]=_0x2c9867(0x4d1),_0x9489bc['appendChild'](_0x1dab71);const _0x12ad1c=document[_0x2c9867(0x291)](_0x2c9867(0x69a));_0x12ad1c[_0x2c9867(0x328)]=_0x2c9867(0x56e),_0x12ad1c[_0x2c9867(0x61f)]='input_cart_setButton\x20btn-none\x20div-width-5';_0x10d2e5['setOrderId']!=''?_0x12ad1c[_0x2c9867(0x3f5)]=()=>removeFromCart(_0x58b86e,_0xe05b43,_0x10d2e5['setOrderId']):_0x12ad1c[_0x2c9867(0x3f5)]=()=>removeFromCart(_0x58b86e,_0xe05b43);_0x9489bc['appendChild'](_0x12ad1c);const _0x3c9386=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x3c9386[_0x2c9867(0x61f)]=_0x2c9867(0x29e),_0x3c9386[_0x2c9867(0x59b)][_0x2c9867(0x26a)]=_0x2c9867(0x658);const _0x5e1f02=document['createElement'](_0x2c9867(0x469));_0x5e1f02[_0x2c9867(0x61e)]=_0x10d2e5['setNotas']||'',_0x5e1f02[_0x2c9867(0x61f)]=_0x2c9867(0x2c3),_0x5e1f02['placeholder']=_0x2c9867(0x306),_0x5e1f02[_0x2c9867(0x40e)]=0x2,_0x5e1f02[_0x2c9867(0x1ef)]=_0x187d89=>updateCartItem(_0x58b86e,_0xe05b43,'setNotas',_0x187d89[_0x2c9867(0x278)][_0x2c9867(0x61e)]),_0x3c9386[_0x2c9867(0x613)](_0x5e1f02);const _0x38389c=document[_0x2c9867(0x291)]('label');_0x38389c['className']=_0x2c9867(0x229),_0x38389c['innerHTML']=_0x2c9867(0x353),_0x3c9386['appendChild'](_0x38389c);const _0x105e73=_0x4ea524,_0x1a6d0f=createElement(_0x2c9867(0x245),{'class':_0x2c9867(0x20f),'events':{'change':_0x472322=>updateCartItem(_0x58b86e,_0xe05b43,_0x2c9867(0x33e),_0x472322[_0x2c9867(0x278)][_0x2c9867(0x61e)])}},_0x105e73['map'](_0x668ace=>createElement(_0x2c9867(0x571),{'value':_0x668ace[_0x2c9867(0x33e)],'innerHTML':_0x668ace[_0x2c9867(0x6bf)]+'\x20-\x20'+_0x668ace[_0x2c9867(0x3e4)]}))),_0x3397cc=_0x105e73[_0x2c9867(0x484)](_0x9240eb=>_0x9240eb['setAccountingAccountId']==_0x10d2e5['setAccountingAccountId']);!_0x3397cc&&_0x105e73[_0x2c9867(0x506)]>0x0&&(_0x10d2e5['setAccountingAccountId']=_0x105e73[0x0][_0x2c9867(0x33e)]);_0x1a6d0f[_0x2c9867(0x61e)]=_0x10d2e5[_0x2c9867(0x33e)],_0x3c9386[_0x2c9867(0x613)](_0x1a6d0f),_0x3d0fe5[_0x2c9867(0x613)](_0x3c9386);const _0x30a6a3=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x30a6a3[_0x2c9867(0x61f)]=_0x2c9867(0x109),_0x30a6a3[_0x2c9867(0x59b)][_0x2c9867(0x26a)]=_0x2c9867(0x658);const _0x535942=document[_0x2c9867(0x291)](_0x2c9867(0x187));_0x535942[_0x2c9867(0x61f)]='label-cart',_0x535942['innerHTML']=_0x2c9867(0x6a8),_0x30a6a3[_0x2c9867(0x613)](_0x535942);const _0x3963a3=document[_0x2c9867(0x291)](_0x2c9867(0x526));_0x3963a3[_0x2c9867(0xfa)]=_0x2c9867(0x589),_0x3963a3['value']=parseFloat(_0x10d2e5[_0x2c9867(0x3b5)])['toFixed'](0x2)||0x0,_0x3963a3[_0x2c9867(0x61f)]='input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control',_0x3963a3['onchange']=_0x215550=>updateCartItem(_0x58b86e,_0xe05b43,_0x2c9867(0x3b5),_0x215550[_0x2c9867(0x278)][_0x2c9867(0x61e)]),_0x30a6a3[_0x2c9867(0x613)](_0x3963a3);const _0x1fdbf5=document[_0x2c9867(0x291)](_0x2c9867(0x187));_0x1fdbf5['className']=_0x2c9867(0x229),_0x1fdbf5['innerHTML']=_0x2c9867(0x667),_0x30a6a3[_0x2c9867(0x613)](_0x1fdbf5);const _0x35fcd9=document[_0x2c9867(0x291)]('input');_0x35fcd9['type']=_0x2c9867(0x589),_0x35fcd9[_0x2c9867(0x61e)]=_0x10d2e5['setDescuento']['setPorcentajeDesc']||0x0,_0x35fcd9[_0x2c9867(0x61f)]=_0x2c9867(0x41f),_0x35fcd9[_0x2c9867(0x1ef)]=_0x75bd5a=>updateCartItem(_0x58b86e,_0xe05b43,_0x2c9867(0x5be),_0x75bd5a[_0x2c9867(0x278)][_0x2c9867(0x61e)]),_0x30a6a3['appendChild'](_0x35fcd9),_0x3d0fe5[_0x2c9867(0x613)](_0x30a6a3);const _0x29ed36=document[_0x2c9867(0x291)](_0x2c9867(0x5ef));_0x29ed36[_0x2c9867(0x61f)]=_0x2c9867(0x109),_0x29ed36[_0x2c9867(0x59b)]['marginRight']=_0x2c9867(0x38f);const _0x333feb=document[_0x2c9867(0x291)](_0x2c9867(0x187));_0x333feb['className']=_0x2c9867(0x229),_0x333feb[_0x2c9867(0x328)]='Costo\x20Unitario',_0x29ed36[_0x2c9867(0x613)](_0x333feb);const _0x5628eb=document[_0x2c9867(0x291)](_0x2c9867(0x526));_0x5628eb[_0x2c9867(0xfa)]=_0x2c9867(0x589),_0x5628eb['value']=parseFloat(_0x10d2e5['setMtoPrecioCostoUnitario_input'])[_0x2c9867(0x4cc)](0x2)||0x0,_0x5628eb[_0x2c9867(0x61f)]=_0x2c9867(0x21a),_0x5628eb[_0x2c9867(0x1ef)]=_0x4498de=>updateCartItem(_0x58b86e,_0xe05b43,'setMtoPrecioCostoUnitario_input',_0x4498de[_0x2c9867(0x278)]['value']),_0x29ed36[_0x2c9867(0x613)](_0x5628eb);const _0x785a37=document[_0x2c9867(0x291)](_0x2c9867(0x187));_0x785a37[_0x2c9867(0x61f)]=_0x2c9867(0x229),_0x785a37[_0x2c9867(0x328)]='Impuesto',_0x29ed36[_0x2c9867(0x613)](_0x785a37);const _0x2d2b46=myCompany[_0x2c9867(0x156)],_0x70bac6=createElement(_0x2c9867(0x245),{'class':_0x2c9867(0x595),'events':{'change':_0x55f738=>updateCartItem(_0x58b86e,_0xe05b43,_0x2c9867(0x509),_0x55f738['target']['value'])}},_0x2d2b46[_0x2c9867(0x6c4)](_0x1142f9=>createElement(_0x2c9867(0x571),{'value':_0x1142f9[_0x2c9867(0x329)],'innerHTML':_0x1142f9[_0x2c9867(0x193)]+'\x20('+_0x1142f9[_0x2c9867(0x1b5)]+'%)'})));_0x70bac6['value']=_0x10d2e5[_0x2c9867(0x329)],_0x29ed36[_0x2c9867(0x613)](_0x70bac6),_0x3d0fe5[_0x2c9867(0x613)](_0x29ed36),_0x12fc83['appendChild'](_0x9489bc),_0x12fc83[_0x2c9867(0x613)](_0x3d0fe5),_0x11edb0[_0x2c9867(0x613)](_0x12fc83);});const _0x463527=getCurrencySymbol(_0x58b86e);_0x4c167f[_0x3cd575(0x328)]=_0x3cd575(0x1a2)+_0x58b86e+_0x3cd575(0x4d6)+(parseFloat(_0x595171)||0x0)[_0x3cd575(0x4cc)](0x2)+'\x22\x20class=\x22input-Descuento-Global\x22>',_0x2f5880[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x1c43c7)||0x0)[_0x3cd575(0x4cc)](0x2),_0x1f04f1[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x763cbe)||0x0)[_0x3cd575(0x4cc)](0x2),_0x172958[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x496bf0)||0x0)[_0x3cd575(0x4cc)](0x2),_0x47d111['textContent']=_0x463527+'\x20'+(parseFloat(_0x5602bc)||0x0)[_0x3cd575(0x4cc)](0x2),_0x4f5161[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x5273a2)||0x0)['toFixed'](0x2),_0x38066e[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x4661ec)||0x0)[_0x3cd575(0x4cc)](0x2),_0x28a05d['textContent']=_0x463527+'\x20'+(parseFloat(_0x56cfd8)||0x0)[_0x3cd575(0x4cc)](0x2),_0x592035[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x559081)||0x0)[_0x3cd575(0x4cc)](0x2),_0x3c08a6[_0x3cd575(0x5b1)]=_0x463527+'\x20'+(parseFloat(_0x4a255a)||0x0)[_0x3cd575(0x4cc)](0x2);}function addToCart(_0x14f2d7,_0x40af31=null,_0x24bc2f=0x0,_0x40cfd5=0x0){const _0x21df3f=_0x44881d;let _0x173ab3;_0x40cfd5!=0x0?_0x173ab3=_0x40cfd5:_0x173ab3=document['getElementById'](_0x21df3f(0x159))['value'];if(_0x173ab3<=0x0){ntfShow(_0x21df3f(0x1cb));return;}if(!carts[_0x173ab3])carts[_0x173ab3]=[];const _0x5b29f9=carts[_0x173ab3],_0x1dd5c8=document[_0x21df3f(0x1a8)](_0x21df3f(0x391))['value'],_0x4ffbd7=myCompany[_0x21df3f(0x6bc)],_0x5f406f=_0x4ffbd7[_0x21df3f(0x552)](_0x15c87c=>_0x15c87c[_0x21df3f(0x391)]==_0x1dd5c8&&_0x15c87c[_0x21df3f(0x6cb)]=='1'),_0x10cbea=getUserPermissionApiERP(0xf);if(!_0x5f406f&&_0x10cbea==0x1){updateShiftDisplay();return;}const _0x4b859a=getUserPermissionApiERP(0x1);if(_0x14f2d7[_0x21df3f(0x223)]==0x1&&window_options[_0x173ab3][_0x21df3f(0x5f3)]!=0x2&&_0x24bc2f==0x0&&_0x14f2d7[_0x21df3f(0x4e7)]!=0x1){const _0x87b3f3=_0x14f2d7[_0x21df3f(0x237)];if(_0x87b3f3){const _0x3b7e55=new Date(_0x87b3f3),_0x4671f7=new Date();_0x4671f7['setHours'](0x0,0x0,0x0,0x0);if(_0x3b7e55<_0x4671f7){ntfShow(_0x21df3f(0x5c9),0x2,0x2);return;}}if(setTipOpeSales['some'](_0x4cb810=>_0x4cb810==window_options[_0x173ab3][_0x21df3f(0x5e2)])&&_0x4b859a==0x0){const _0x271648=document[_0x21df3f(0x1a8)](_0x21df3f(0x4d7))[_0x21df3f(0x61e)],_0x168474=_0x14f2d7['sucursales'][_0x21df3f(0x552)](_0x2548ca=>String(_0x2548ca['setIdSucursal'])==_0x271648),_0x54b90b=_0x168474?parseFloat(_0x168474[_0x21df3f(0x68f)]):0x0;if(_0x54b90b<=0x0){ntfShow(_0x21df3f(0x316),0x2,0x2);return;}const _0x3a52a9=_0x14f2d7[_0x21df3f(0x19b)],_0x298203=parseFloat(_0x14f2d7[_0x21df3f(0x27a)])||0x1,_0x43e4c6=_0x40af31?parseFloat(_0x40af31[_0x21df3f(0x182)])||0x1:0x1;let _0x48bddc=_0x5b29f9[_0x21df3f(0x370)]((_0x21ec44,_0x41366e)=>{const _0x233b35=_0x21df3f,_0x5bb91d=products[_0x233b35(0x552)](_0x224b7a=>_0x224b7a['id']==_0x41366e[_0x233b35(0x19b)]);if(!_0x5bb91d||_0x5bb91d[_0x233b35(0x19b)]!=_0x3a52a9)return _0x21ec44;const _0x17cd5c=parseFloat(_0x5bb91d[_0x233b35(0x27a)])||0x1;return _0x21ec44+(parseFloat(_0x41366e[_0x233b35(0x1d1)])||0x0)*_0x17cd5c;},0x0);const _0x138e4f=_0x48bddc+_0x43e4c6*_0x298203;console[_0x21df3f(0x37b)](_0x21df3f(0x3ae),{'masterId':_0x3a52a9,'stock':_0x54b90b,'totalExistingBase':_0x48bddc,'addFactor':_0x298203,'qtyToAdd':_0x43e4c6,'totalInBase':_0x138e4f});if(_0x138e4f>_0x54b90b){ntfShow(_0x21df3f(0x4f7),0x2,0x2);return;}}}let _0x3bccc6,_0xfc35eb;setTipOpeOrders[_0x21df3f(0x484)](_0x1a4f30=>_0x1a4f30==window_options[_0x173ab3][_0x21df3f(0x5e2)])||setTipOpeSales[_0x21df3f(0x484)](_0x32c36d=>_0x32c36d==window_options[_0x173ab3]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x1b5dd0=>_0x1b5dd0==window_options[_0x173ab3][_0x21df3f(0x5e2)])?(_0x3bccc6=myCompany['setAccountingAccounts'][_0x21df3f(0x2c8)](_0x4af457=>_0x4af457[_0x21df3f(0x303)]==0x1),_0xfc35eb=0x2):(_0x3bccc6=myCompany[_0x21df3f(0x522)][_0x21df3f(0x2c8)](_0x3fdfd5=>_0x3fdfd5[_0x21df3f(0x303)]==0x2),_0xfc35eb=0x1);const _0x5861df=_0x3bccc6[0x0]||{},_0x36cd73=_0x5861df['setAccountingAccountId']||'',_0x53062c=_0x5861df[_0x21df3f(0x6bf)]||'',_0x39c578=_0x5861df[_0x21df3f(0x3e4)]||'',_0x5c7b0f=_0x5861df[_0x21df3f(0x303)]||'';let _0x185299=0x1,_0x66e6a9=0x0,_0x35fd82=0x0,_0x4d885c=_0x14f2d7['setTaxId'],_0x4c21b3=myCompany[_0x21df3f(0x156)]['find'](_0x130b4d=>_0x130b4d[_0x21df3f(0x329)]==_0x4d885c)?.[_0x21df3f(0x5f8)],_0x45d01b=0x0,_0x53b7e1=0x0,_0x37aac6=0x0,_0x5884f4=0x0,_0x5839db=0x0,_0x32e2a8=_0x14f2d7[_0x21df3f(0x5a1)]??'';const _0x2b0d83=document[_0x21df3f(0x1a8)](_0x21df3f(0x393)+_0x173ab3)['value'],_0xb2f688=_0x14f2d7[_0x21df3f(0x3d7)][_0x21df3f(0x552)](_0x576242=>_0x576242['currency']==_0x2b0d83)||{};_0xfc35eb==0x1?(_0x66e6a9=_0xb2f688[_0x21df3f(0x1b8)]||0x0,_0x35fd82=_0xb2f688['setMtoPrecioCostoUnitario']||0x0):(_0x66e6a9=_0xb2f688[_0x21df3f(0x6bb)]||0x0,_0x35fd82=_0xb2f688[_0x21df3f(0x555)]||0x0);_0x53b7e1=_0xb2f688[_0x21df3f(0x555)]||0x0,_0x37aac6=_0xb2f688['setMtoPrecioCostoUnitario']||0x0,_0x5884f4=_0xb2f688['setMtoValorUnitario']||0x0,_0x5839db=_0xb2f688['setMtoValorCostoUnitario']||0x0;let _0x1cf40a=generateUniqId(),_0x1177ac='',_0x51c843='';_0x40af31&&(_0x185299=_0x40af31[_0x21df3f(0x182)]??_0x185299,_0x66e6a9=0x0,_0x35fd82=_0x40af31['setMtoPrecioUnitario_final'],_0x4d885c=_0x40af31[_0x21df3f(0x329)],_0x4c21b3=_0x40af31[_0x21df3f(0x509)],_0x45d01b=_0x40af31[_0x21df3f(0x5be)],_0x53b7e1=_0x40af31['setMtoPrecioUnitario_input']??_0x53b7e1,_0x37aac6=_0x40af31[_0x21df3f(0x6b8)]??_0x37aac6,_0x5884f4=0x0,_0x5839db=0x0,_0x32e2a8=_0x40af31[_0x21df3f(0x5a1)],_0x1cf40a=_0x40af31[_0x21df3f(0x3d4)]??_0x1cf40a,_0x1177ac=_0x40af31[_0x21df3f(0x4e4)]??'',_0x51c843=_0x40af31[_0x21df3f(0x2fe)]??'');const _0x73c601=getUserPermissionApiERP(0x4),{currentWindowShift:_0x44b4ba}=getValidatedWindowAndShift(_0x173ab3)||{},_0x44832a=_0x44b4ba||_0x73c601==0x1?![]:_0x5b29f9[_0x21df3f(0x552)](_0x3aafcd=>_0x3aafcd[_0x21df3f(0x19b)]==_0x14f2d7['id']),_0x2a92bf=[{'valorUnit':_0x44832a?_0x44832a[_0x21df3f(0x676)]:_0x66e6a9,'precioUnit':_0x44832a?_0x44832a[_0x21df3f(0x48f)]:_0x35fd82,'valorCantidad':_0x44832a?_0x44832a[_0x21df3f(0x1d1)]+0x1:_0x185299,'valorPorcentajeIgv':_0x44832a?_0x44832a[_0x21df3f(0x688)]:myCompany['setImpuestos'][_0x21df3f(0x552)](_0x385e3e=>_0x385e3e['setTaxId']==_0x4d885c)[_0x21df3f(0x1b5)],'setTipAfeIgv':_0x4c21b3,'setDescuento':{'setCodTipo':_0x44832a?.[_0x21df3f(0x413)]?.[_0x21df3f(0x57a)]||'00','setPorcentajeDesc':_0x44832a?.[_0x21df3f(0x413)]?.['setPorcentajeDesc']||_0x45d01b}}],{setInvoiceDetails:_0x1c5328}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x21df3f(0x156)][_0x21df3f(0x552)](_0x5b4f0b=>_0x5b4f0b[_0x21df3f(0x329)]==_0x4d885c)['setImpuestoValue'],'items':_0x2a92bf,'descuentoGlobalMonto':0x0}),_0x23d9a5=_0x1c5328[0x0];_0x44832a?(_0x44832a[_0x21df3f(0x1d1)]++,Object[_0x21df3f(0x666)](_0x44832a,{'setMtoValorUnitario':_0x23d9a5['setMtoValorUnitario'],'setMtoValorGratuito':_0x23d9a5[_0x21df3f(0x150)],'setMtoValorVenta':_0x23d9a5['setMtoValorVenta'],'setMtoBaseIgv':_0x23d9a5[_0x21df3f(0x13d)],'setPorcentajeIgv':_0x23d9a5['setPorcentajeIgv'],'setIgv':_0x23d9a5['setIgv'],'setTotalImpuestos':_0x23d9a5[_0x21df3f(0x2b0)],'setMtoPrecioUnitario':_0x23d9a5[_0x21df3f(0x555)],'setTotal':parseFloat(_0x23d9a5[_0x21df3f(0x555)])*parseFloat(_0x44832a['setCantidad']),'setMtoPrecioUnitario_final':_0x23d9a5['setMtoPrecioUnitario_final'],'setMtoValorUnitario_final':_0x23d9a5[_0x21df3f(0x676)],'setMtoPrecioUnitario_input':_0xfc35eb==0x1?_0x53b7e1:parseFloat(_0x23d9a5['setMtoPrecioUnitario_final'])['toFixed'](0x2),'setMtoPrecioCostoUnitario_input':_0xfc35eb==0x1?parseFloat(_0x23d9a5[_0x21df3f(0x48f)])[_0x21df3f(0x4cc)](0x2):_0x37aac6,'setMtoValorUnitario_input':_0xfc35eb==0x1?_0x5884f4:parseFloat(_0x23d9a5[_0x21df3f(0x676)])[_0x21df3f(0x4cc)](0x2),'setMtoValorCostoUnitario_input':_0xfc35eb==0x1?parseFloat(_0x23d9a5['setMtoValorUnitario_final'])[_0x21df3f(0x4cc)](0x2):_0x5839db})):_0x5b29f9[_0x21df3f(0x318)]({'cartId':_0x1cf40a,'setIdProducto':_0x14f2d7['id'],'setCodProducto':_0x14f2d7[_0x21df3f(0x365)],'setDescripcion':_0x14f2d7[_0x21df3f(0x5a9)],'setItemDescription':_0x14f2d7[_0x21df3f(0x1e3)],'setUnidad':_0x14f2d7['setUnidad'],'setInventariable':_0x14f2d7[_0x21df3f(0x223)],'setMarca':_0x14f2d7[_0x21df3f(0x689)],'setCantidad':_0x185299,'setMtoValorUnitario':_0x23d9a5[_0x21df3f(0x6bb)],'setMtoValorGratuito':_0x23d9a5[_0x21df3f(0x150)],'setMtoValorVenta':_0x23d9a5[_0x21df3f(0x155)],'setMtoBaseIgv':_0x23d9a5[_0x21df3f(0x13d)],'setPorcentajeIgv':_0x23d9a5['setPorcentajeIgv'],'setIgv':_0x23d9a5[_0x21df3f(0x36b)],'setTotalImpuestos':_0x23d9a5[_0x21df3f(0x2b0)],'setMtoPrecioUnitario':_0x23d9a5['setMtoPrecioUnitario'],'setTotal':parseFloat(_0x23d9a5[_0x21df3f(0x555)])*parseFloat(_0x185299),'setMtoPrecioUnitario_final':_0x23d9a5[_0x21df3f(0x48f)],'setMtoValorUnitario_final':_0x23d9a5[_0x21df3f(0x676)],'setTaxId':_0x4d885c,'setTipAfeIgv':_0x4c21b3,'setMtoPrecioUnitario_input':_0xfc35eb==0x1?_0x53b7e1:parseFloat(_0x23d9a5[_0x21df3f(0x48f)])[_0x21df3f(0x4cc)](0x2),'setMtoPrecioCostoUnitario_input':_0xfc35eb==0x1?parseFloat(_0x23d9a5['setMtoPrecioUnitario_final'])[_0x21df3f(0x4cc)](0x2):_0x37aac6,'setMtoValorUnitario_input':_0xfc35eb==0x1?_0x5884f4:parseFloat(_0x23d9a5['setMtoValorUnitario_final'])[_0x21df3f(0x4cc)](0x2),'setMtoValorCostoUnitario_input':_0xfc35eb==0x1?parseFloat(_0x23d9a5[_0x21df3f(0x676)])[_0x21df3f(0x4cc)](0x2):_0x5839db,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x45d01b},'setVisible':0x0,'setNotas':_0x32e2a8,'setChecked':0x1,'setWindowShiftId':_0x1177ac,'setOrderId':_0x51c843,'setAccountingAccountId':_0x36cd73,'setAccountingAccountCode':_0x53062c,'setAccountingAccountName':_0x39c578,'setAccountingAccountType':_0x5c7b0f,'setItemFree':_0x14f2d7[_0x21df3f(0x4e7)]??0x0}),saveCart(_0x173ab3)[_0x21df3f(0x5df)](()=>{const _0x277df6=_0x21df3f;renderCart(_0x173ab3);if(isMobile()){const _0x38b948=getUserPermissionApiERP(0x11);_0x38b948==0x1&&showRightSection(),_0x24bc2f==0x0&&ntfShow(_0x277df6(0x5ff),0x1,0x2);}})[_0x21df3f(0x35b)](_0x547ae7=>{const _0x438996=_0x21df3f;console['error'](_0x438996(0x6c0),_0x547ae7);});}function calcFinalPrice(_0x1e7247,_0x17bf0f,_0xde5127){switch(_0x17bf0f){case 0x1:return _0x1e7247*(0x1-_0xde5127/0x64);case 0x2:return _0x1e7247*(0x1+_0xde5127/0x64);case 0x3:return _0x1e7247-_0xde5127;case 0x4:return _0x1e7247+_0xde5127;case 0x5:return _0xde5127;default:return _0x1e7247;}}function updateCartItem(_0x17f1fe,_0x21529a,_0x223b06,_0x32eec4){const _0x32a38c=_0x44881d;let _0x554857=_0x32eec4;[_0x32a38c(0x1d1),_0x32a38c(0x6bb),'setMtoPrecioUnitario_input',_0x32a38c(0x6b8),'setPorcentajeDesc',_0x32a38c(0x433)][_0x32a38c(0x29b)](_0x223b06)&&(_0x554857=parseFloat(_0x554857));const _0x3dfbf7=carts[_0x17f1fe];if(!_0x3dfbf7||!_0x3dfbf7[_0x21529a]){console[_0x32a38c(0x103)](_0x32a38c(0x138)+_0x17f1fe);return;}if(setTipOpeSales[_0x32a38c(0x484)](_0x36cb3f=>_0x36cb3f==window_options[_0x17f1fe][_0x32a38c(0x5e2)])){const _0x3a58ee=getUserPermissionApiERP(0x1),_0xf4bd1d=_0x3dfbf7[_0x21529a];if(_0x3a58ee==0x0&&_0xf4bd1d[_0x32a38c(0x223)]==0x1&&window_options[_0x17f1fe][_0x32a38c(0x5f3)]!=0x2&&_0xf4bd1d[_0x32a38c(0x4e7)]!=0x1){const _0x31b6d6=products[_0x32a38c(0x552)](_0x4b0425=>_0x4b0425['id']==_0xf4bd1d[_0x32a38c(0x19b)]),_0x385774=_0x31b6d6[_0x32a38c(0x19b)],_0x195c73=document[_0x32a38c(0x1a8)](_0x32a38c(0x4d7))[_0x32a38c(0x61e)],_0x139922=_0x31b6d6['sucursales']['find'](_0x184303=>String(_0x184303['setIdSucursal'])==_0x195c73),_0x5529df=_0x139922?parseFloat(_0x139922['setSucursalStock']):0x0,_0x3a0991=parseFloat(_0x31b6d6[_0x32a38c(0x27a)])||0x1;let _0x1b4602=_0x3dfbf7[_0x32a38c(0x370)]((_0x34c118,_0x37b208)=>{const _0x12a485=_0x32a38c,_0xbbf8a6=products[_0x12a485(0x552)](_0x410639=>_0x410639['id']==_0x37b208[_0x12a485(0x19b)]);if(!_0xbbf8a6||_0xbbf8a6['setIdProducto']!=_0x385774)return _0x34c118;const _0x15ff88=parseFloat(_0xbbf8a6[_0x12a485(0x27a)])||0x1;return _0x34c118+(parseFloat(_0x37b208[_0x12a485(0x1d1)])||0x0)*_0x15ff88;},0x0),_0xf11ab8=_0x1b4602;if(_0x223b06==_0x32a38c(0x1d1)){const _0x2b06fb=parseFloat(_0xf4bd1d[_0x32a38c(0x1d1)])||0x0;_0xf11ab8=_0x1b4602-_0x2b06fb*_0x3a0991+_0x554857*_0x3a0991;}console[_0x32a38c(0x37b)](_0x32a38c(0x2c1),{'masterId':_0x385774,'stock':_0x5529df,'totalExistingBase':_0x1b4602,'oldFactor':_0x3a0991,'oldCantidad':_0xf4bd1d[_0x32a38c(0x1d1)],'new_value':_0x554857,'totalInBase':_0xf11ab8});if(_0x223b06==_0x32a38c(0x1d1)&&_0xf11ab8>_0x5529df){let _0xf77f08=_0x3dfbf7[_0x32a38c(0x370)]((_0x1b4da8,_0x2f4b92,_0x2bfd36)=>{const _0x433cc6=_0x32a38c;if(_0x2bfd36===_0x21529a)return _0x1b4da8;const _0x322f94=products[_0x433cc6(0x552)](_0x4d821a=>_0x4d821a['id']==_0x2f4b92[_0x433cc6(0x19b)]);if(!_0x322f94||_0x322f94[_0x433cc6(0x19b)]!=_0x385774)return _0x1b4da8;const _0x267dee=parseFloat(_0x322f94[_0x433cc6(0x27a)])||0x1;return _0x1b4da8+(parseFloat(_0x2f4b92[_0x433cc6(0x1d1)])||0x0)*_0x267dee;},0x0);const _0x6350b9=Math['max'](_0x5529df-_0xf77f08,0x0),_0x178cd7=_0x6350b9/_0x3a0991;console[_0x32a38c(0x37b)](_0x32a38c(0x544),{'availableInBase':_0x6350b9,'maxQty':_0x178cd7}),ntfShow('Sólo\x20quedan\x20'+_0x6350b9[_0x32a38c(0x4cc)](0x0)+'\x20unidades\x20'+(_0x32a38c(0x28a)+_0x178cd7[_0x32a38c(0x4cc)](0x2)+_0x32a38c(0x2fd))+_0x32a38c(0x3b6)),_0x554857=_0x178cd7;}if(_0x5529df<=0x0){ntfShow('El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.');return;}}}if(_0x223b06==_0x32a38c(0x509)){_0x3dfbf7[_0x21529a][_0x32a38c(0x329)]=_0x554857;const _0x3b0f1a=_0x554857,_0x2834b8=myCompany[_0x32a38c(0x156)]['find'](_0x471aa4=>_0x471aa4[_0x32a38c(0x329)]==_0x3b0f1a),_0x256d5b=_0x2834b8?_0x2834b8[_0x32a38c(0x5f8)]:'',_0x40e671=_0x2834b8?_0x2834b8['setImpuestoValue']:'';_0x3dfbf7[_0x21529a][_0x32a38c(0x509)]=_0x256d5b,_0x3dfbf7[_0x21529a][_0x32a38c(0x688)]=_0x40e671;}else{if(_0x223b06==_0x32a38c(0x433))_0x3dfbf7[_0x21529a][_0x32a38c(0x433)]=_0x3dfbf7[_0x21529a][_0x32a38c(0x433)]?0x0:0x1;else _0x223b06==_0x32a38c(0x5be)?(_0x3dfbf7[_0x21529a][_0x32a38c(0x413)][_0x32a38c(0x57a)]='00',_0x3dfbf7[_0x21529a][_0x32a38c(0x413)][_0x32a38c(0x5be)]=_0x554857):_0x3dfbf7[_0x21529a][_0x223b06]=_0x554857;}if(_0x223b06=='setAccountingAccountId'){const _0x2cfcf6=myCompany[_0x32a38c(0x522)][_0x32a38c(0x552)](_0x2b460e=>_0x2b460e['setAccountingAccountId']==_0x554857);_0x3dfbf7[_0x21529a]['setAccountingAccountCode']=_0x2cfcf6?_0x2cfcf6['setAccountingAccountCode']:'',_0x3dfbf7[_0x21529a][_0x32a38c(0x3e4)]=_0x2cfcf6?_0x2cfcf6[_0x32a38c(0x3e4)]:'',_0x3dfbf7[_0x21529a][_0x32a38c(0x303)]=_0x2cfcf6?_0x2cfcf6[_0x32a38c(0x303)]:'';}_0x223b06=='setMtoPrecioUnitario_input'&&(_0x3dfbf7[_0x21529a][_0x32a38c(0x154)]=0x0);_0x223b06==_0x32a38c(0x6b8)&&(_0x3dfbf7[_0x21529a][_0x32a38c(0x263)]=0x0);let _0x48f46a;if(setTipOpeOrders[_0x32a38c(0x484)](_0x44650b=>_0x44650b==window_options[_0x17f1fe][_0x32a38c(0x5e2)])||setTipOpeSales[_0x32a38c(0x484)](_0x4f599b=>_0x4f599b==window_options[_0x17f1fe][_0x32a38c(0x5e2)])||setTipOpeQuotation[_0x32a38c(0x484)](_0x277047=>_0x277047==window_options[_0x17f1fe]['setTipoOperacion'])){_0x48f46a=0x2;if(_0x223b06==_0x32a38c(0x1d1)){const _0x49539f=document[_0x32a38c(0x1a8)](_0x32a38c(0x393)+_0x17f1fe)[_0x32a38c(0x61e)],_0x3d28d2=products[_0x32a38c(0x552)](_0xa37487=>_0xa37487['id']==_0x3dfbf7[_0x21529a][_0x32a38c(0x19b)]),_0x4d65a4=_0x3d28d2['currency_data'][_0x32a38c(0x552)](_0x5192e1=>_0x5192e1[_0x32a38c(0x217)]==_0x49539f)||{},_0x255467=_0x4d65a4['setMtoPrecioUnitario']||0x0,_0x7f7307=_0x4d65a4[_0x32a38c(0x61a)]||[],_0x23dd03=_0x3dfbf7[_0x21529a][_0x32a38c(0x1d1)],_0x28a1a5=_0x7f7307[_0x32a38c(0x2c8)](_0x3f3a7e=>_0x3f3a7e[_0x32a38c(0x17a)]==0x2),_0x76d905=_0x28a1a5['find'](_0x5a0a6e=>_0x23dd03>=_0x5a0a6e[_0x32a38c(0x6c5)]&&_0x23dd03<=_0x5a0a6e['setPriceListRangeEnd']);if(_0x28a1a5['length']>0x0){let _0x4a1030;_0x76d905?_0x4a1030=calcFinalPrice(_0x255467,_0x76d905[_0x32a38c(0x2b8)],_0x76d905[_0x32a38c(0x68d)]):_0x4a1030=_0x255467,_0x3dfbf7[_0x21529a][_0x32a38c(0x3b5)]=_0x4a1030,_0x3dfbf7[_0x21529a][_0x32a38c(0x154)]=0x0;}}}else _0x48f46a=0x1;_0x48f46a==0x1?_0x3dfbf7[_0x21529a]['setMtoPrecioUnitario_final']=_0x3dfbf7[_0x21529a][_0x32a38c(0x6b8)]:_0x3dfbf7[_0x21529a]['setMtoPrecioUnitario_final']=_0x3dfbf7[_0x21529a][_0x32a38c(0x3b5)];const _0x2baba8=[{'valorUnit':0x0,'precioUnit':_0x3dfbf7[_0x21529a][_0x32a38c(0x48f)],'valorCantidad':_0x3dfbf7[_0x21529a][_0x32a38c(0x1d1)],'valorPorcentajeIgv':_0x3dfbf7[_0x21529a][_0x32a38c(0x688)],'setTipAfeIgv':_0x3dfbf7[_0x21529a][_0x32a38c(0x509)],'setDescuento':{'setCodTipo':_0x3dfbf7[_0x21529a][_0x32a38c(0x413)][_0x32a38c(0x57a)],'setPorcentajeDesc':_0x3dfbf7[_0x21529a][_0x32a38c(0x413)][_0x32a38c(0x5be)]}}],{setInvoiceDetails:_0x4c0903}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x32a38c(0x156)][_0x32a38c(0x552)](_0x11272a=>_0x11272a[_0x32a38c(0x329)]==_0x3dfbf7[_0x21529a][_0x32a38c(0x329)])[_0x32a38c(0x1b5)],'items':_0x2baba8,'descuentoGlobalMonto':0x0}),_0x3653ff=_0x4c0903[0x0];_0x3dfbf7[_0x21529a][_0x32a38c(0x6bb)]=_0x3653ff[_0x32a38c(0x6bb)],_0x3dfbf7[_0x21529a][_0x32a38c(0x150)]=_0x3653ff[_0x32a38c(0x150)],_0x3dfbf7[_0x21529a][_0x32a38c(0x155)]=_0x3653ff['setMtoValorVenta'],_0x3dfbf7[_0x21529a][_0x32a38c(0x13d)]=_0x3653ff[_0x32a38c(0x13d)],_0x3dfbf7[_0x21529a][_0x32a38c(0x688)]=_0x3653ff[_0x32a38c(0x688)],_0x3dfbf7[_0x21529a][_0x32a38c(0x36b)]=_0x3653ff['setIgv'],_0x3dfbf7[_0x21529a][_0x32a38c(0x509)]=_0x3653ff[_0x32a38c(0x509)],_0x3dfbf7[_0x21529a][_0x32a38c(0x2b0)]=_0x3653ff[_0x32a38c(0x2b0)],_0x3dfbf7[_0x21529a][_0x32a38c(0x555)]=_0x3653ff[_0x32a38c(0x555)],_0x3dfbf7[_0x21529a]['setMtoPrecioUnitario_final']=_0x3653ff[_0x32a38c(0x48f)],_0x3dfbf7[_0x21529a]['setMtoValorUnitario_final']=_0x3653ff['setMtoValorUnitario_final'],_0x3dfbf7[_0x21529a][_0x32a38c(0x3b5)]=_0x48f46a==0x1?_0x3dfbf7[_0x21529a][_0x32a38c(0x3b5)]:_0x3653ff[_0x32a38c(0x48f)],_0x3dfbf7[_0x21529a][_0x32a38c(0x6b8)]=_0x48f46a==0x1?_0x3653ff[_0x32a38c(0x48f)]:_0x3dfbf7[_0x21529a]['setMtoPrecioCostoUnitario_input'],_0x3dfbf7[_0x21529a]['setMtoValorUnitario_input']=_0x48f46a==0x1?_0x3dfbf7[_0x21529a]['setMtoValorUnitario_input']:_0x3653ff[_0x32a38c(0x676)],_0x3dfbf7[_0x21529a][_0x32a38c(0x263)]=_0x48f46a==0x1?_0x3653ff[_0x32a38c(0x676)]:_0x3dfbf7[_0x21529a][_0x32a38c(0x263)],_0x3dfbf7[_0x21529a][_0x32a38c(0x5d6)]=_0x3653ff[_0x32a38c(0x5d6)],_0x3dfbf7[_0x21529a][_0x32a38c(0xfb)]=_0x3653ff[_0x32a38c(0xfb)],_0x3dfbf7[_0x21529a][_0x32a38c(0x4b2)]=_0x3653ff[_0x32a38c(0x4b2)],_0x3dfbf7[_0x21529a]['setDescuento_setMonto']=_0x3653ff[_0x32a38c(0x110)],_0x3dfbf7[_0x21529a][_0x32a38c(0x59e)]=_0x3653ff['setDescuento_setMonto_precio'],_0x3dfbf7[_0x21529a][_0x32a38c(0x5be)]=_0x3653ff[_0x32a38c(0x5be)],_0x3dfbf7[_0x21529a][_0x32a38c(0x334)]=_0x3653ff[_0x32a38c(0x334)],saveCart(_0x17f1fe)[_0x32a38c(0x5df)](()=>{const _0x4b6f12=_0x32a38c;renderCart(_0x17f1fe),console[_0x4b6f12(0x37b)](_0x4b6f12(0x350)+_0x17f1fe);})[_0x32a38c(0x35b)](_0x5e1eb0=>{const _0x2f319f=_0x32a38c;console['error'](_0x2f319f(0x654),_0x5e1eb0);});}async function saveCart(_0x282db5){return new Promise((_0x3675fe,_0x46fb3a)=>{const _0x1a5ac3=_0x1a69;try{const _0x10091e=carts[_0x282db5]||[],_0xc26fba=_0x1a5ac3(0x47b)+_0x282db5;if(_0x10091e[_0x1a5ac3(0x506)]===0x0){const _0x31f30b=db['transaction']([_0xc26fba],_0x1a5ac3(0x400)),_0x3ac7c1=_0x31f30b['objectStore'](_0xc26fba),_0x518f55=_0x3ac7c1['clear']();_0x518f55[_0x1a5ac3(0x4d4)]=async()=>{const _0x8a73dc=_0x1a5ac3,_0x3edcc6=myCompany[_0x8a73dc(0x319)][_0x8a73dc(0x552)](_0x272c49=>_0x272c49[_0x8a73dc(0x33a)]==_0x282db5);_0x3edcc6[_0x8a73dc(0x48b)]=myCompany[_0x8a73dc(0x1af)][_0x8a73dc(0x48b)],_0x3edcc6['setCartTmp']=[],_0x3edcc6[_0x8a73dc(0x385)]=nowWithMillisecondsForServer();try{const _0x55272a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x55272a),apiERPsyncWindowsCartTmp(),_0x3675fe();}catch(_0x20ee96){console[_0x8a73dc(0x103)](_0x8a73dc(0x1a5),_0x20ee96),_0x46fb3a(_0x20ee96);}},_0x518f55[_0x1a5ac3(0x3f8)]=_0x24429f=>{const _0x45d683=_0x1a5ac3;console['error'](_0x45d683(0x678),_0x24429f[_0x45d683(0x278)][_0x45d683(0x103)]),_0x46fb3a(_0x24429f[_0x45d683(0x278)]['error']);},_0x31f30b['onerror']=_0x4b47d5=>{const _0x3b4fdf=_0x1a5ac3;console['error']('Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:',_0x4b47d5[_0x3b4fdf(0x278)]['error']),_0x46fb3a(_0x4b47d5[_0x3b4fdf(0x278)]['error']);};return;}const _0x20aa05=db['transaction']([_0xc26fba],_0x1a5ac3(0x400)),_0x354f1d=_0x20aa05[_0x1a5ac3(0x22b)](_0xc26fba);let _0x4ccaeb=0x0;_0x10091e[_0x1a5ac3(0x570)]((_0x4c4be7,_0x15060c)=>{const _0x4f0045=_0x1a5ac3,_0x155fe0=_0x354f1d['index'](_0x4f0045(0x3d4)),_0x248079=_0x155fe0[_0x4f0045(0x3e8)](_0x4c4be7['cartId']);_0x248079['onsuccess']=async()=>{const _0x406981=_0x4f0045;if(_0x248079[_0x406981(0x53b)]){const _0x3fc4ce={..._0x248079[_0x406981(0x53b)],..._0x4c4be7},_0x4a6bd8=_0x354f1d[_0x406981(0x275)](_0x3fc4ce);_0x4a6bd8['onsuccess']=async()=>{const _0x3bbd52=_0x406981;_0x10091e[_0x15060c]['id']=_0x3fc4ce['id'],_0x4ccaeb++;if(_0x4ccaeb==_0x10091e['length']){const _0x58e265=myCompany[_0x3bbd52(0x319)][_0x3bbd52(0x552)](_0x304f60=>_0x304f60[_0x3bbd52(0x33a)]==_0x282db5);_0x58e265['setUserId']=myCompany[_0x3bbd52(0x1af)][_0x3bbd52(0x48b)],_0x58e265[_0x3bbd52(0x577)]=_0x10091e,_0x58e265[_0x3bbd52(0x385)]=nowWithMillisecondsForServer();const _0xd4454e=await createCartStore('');await saveCompanyToIndexedDB(company,_0xd4454e),apiERPsyncWindowsCartTmp(),_0x3675fe();}};}else{const _0x2e742d=_0x354f1d[_0x406981(0x529)](_0x4c4be7);_0x2e742d[_0x406981(0x4d4)]=async _0xd1ae7d=>{const _0x61fb3c=_0x406981,_0x5bf6f2=_0xd1ae7d[_0x61fb3c(0x278)][_0x61fb3c(0x53b)];_0x10091e[_0x15060c]['id']=_0x5bf6f2,_0x4ccaeb++;if(_0x4ccaeb==_0x10091e['length']){const _0x260e69=myCompany[_0x61fb3c(0x319)]['find'](_0x177e12=>_0x177e12[_0x61fb3c(0x33a)]==_0x282db5);_0x260e69[_0x61fb3c(0x48b)]=myCompany['setUser_Local'][_0x61fb3c(0x48b)],_0x260e69[_0x61fb3c(0x577)]=_0x10091e,_0x260e69[_0x61fb3c(0x385)]=nowWithMillisecondsForServer();const _0x51526b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x51526b),apiERPsyncWindowsCartTmp(),_0x3675fe();}};}},_0x248079['onerror']=_0x38f74c=>{const _0x58e123=_0x4f0045;console[_0x58e123(0x103)](_0x58e123(0x41d)+_0x4c4be7[_0x58e123(0x19b)]+':',_0x38f74c[_0x58e123(0x278)]['error']),_0x46fb3a(_0x38f74c[_0x58e123(0x278)][_0x58e123(0x103)]);};}),_0x20aa05[_0x1a5ac3(0x39c)]=function(){const _0x19c82e=_0x1a5ac3;console[_0x19c82e(0x37b)]('Carrito\x20guardado:\x20'+_0x282db5,_0x10091e);},_0x20aa05[_0x1a5ac3(0x3f8)]=function(_0x11d521){const _0x279208=_0x1a5ac3;console[_0x279208(0x103)](_0x279208(0x379),_0x11d521['target'][_0x279208(0x103)]),_0x46fb3a(_0x11d521[_0x279208(0x278)]['error']);};}catch(_0x462954){_0x46fb3a(_0x462954);}});}async function removeFromCart(_0x4a1a4a,_0x574353,_0x621056=''){const _0x523d1a=_0x44881d,_0x2d0768=carts[_0x4a1a4a],_0x11f672=_0x2d0768[_0x574353];if(_0x621056!=''){const _0x47ea05=_0x11f672[_0x523d1a(0x4e4)],_0x141339=myCompany['setWindows'][_0x523d1a(0x552)](_0x4bdf4b=>_0x4bdf4b['setWindowId']==_0x4a1a4a);if(_0x141339&&_0x141339['setShifts']){const _0x330ec=_0x141339[_0x523d1a(0x6bc)][_0x523d1a(0x552)](_0x4d0f83=>_0x4d0f83[_0x523d1a(0x2ca)]==_0x47ea05);if(_0x330ec&&_0x330ec['setOrders']){const _0x15fb5c=_0x330ec[_0x523d1a(0x458)][_0x523d1a(0x3a2)](_0x3c56f5=>_0x3c56f5[_0x523d1a(0x3da)]==_0x621056);if(_0x15fb5c!==-0x1){const _0x4aab1a=_0x330ec[_0x523d1a(0x458)][_0x15fb5c];if(_0x4aab1a[_0x523d1a(0x399)]&&Array[_0x523d1a(0x473)](_0x4aab1a[_0x523d1a(0x399)])){const _0x411a3e=_0x4aab1a[_0x523d1a(0x399)][_0x523d1a(0x506)];_0x4aab1a[_0x523d1a(0x399)]=_0x4aab1a['setProductos'][_0x523d1a(0x2c8)](_0x49a1a0=>_0x49a1a0[_0x523d1a(0x3d4)]!=_0x11f672[_0x523d1a(0x3d4)]);if(_0x4aab1a[_0x523d1a(0x399)][_0x523d1a(0x506)]<_0x411a3e){const _0x7b1d4d=_0x4aab1a[_0x523d1a(0x399)][_0x523d1a(0x6c4)](_0x23dc25=>({'valorUnit':_0x23dc25['setMtoValorUnitario_final'],'precioUnit':_0x23dc25[_0x523d1a(0x48f)],'valorCantidad':_0x23dc25[_0x523d1a(0x1d1)],'valorPorcentajeIgv':_0x23dc25[_0x523d1a(0x688)],'setTipAfeIgv':_0x23dc25[_0x523d1a(0x509)],'setDescuento':{'setCodTipo':_0x23dc25[_0x523d1a(0x413)]?.['setCodTipo']||'00','setPorcentajeDesc':_0x23dc25[_0x523d1a(0x413)]?.[_0x523d1a(0x5be)]||0x0}})),_0x3c8664=_0x4aab1a['setDescuentoGlobal_Monto']||0x0,{setInvoice:_0x5b8d72}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x523d1a(0x156)]['find'](_0x2899b4=>_0x2899b4[_0x523d1a(0x329)]==myCompany[_0x523d1a(0x46a)])?.[_0x523d1a(0x1b5)],'items':_0x7b1d4d,'descuentoGlobalMonto':_0x3c8664});_0x4aab1a[_0x523d1a(0x5f3)]='2',_0x4aab1a[_0x523d1a(0x1b3)]=new Date()['toISOString'](),Object[_0x523d1a(0x666)](_0x4aab1a,_0x5b8d72),await storeOfflineOperation(_0x4aab1a,0x1);_0x4aab1a['setProductos'][_0x523d1a(0x506)]===0x0&&(_0x330ec[_0x523d1a(0x458)]['splice'](_0x15fb5c,0x1),console[_0x523d1a(0x37b)](_0x523d1a(0x67c)));_0x141339['setLastDateUpdate']=nowWithMillisecondsForServer();const _0x1666ec=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1666ec),apiERPsync(),console[_0x523d1a(0x37b)](_0x523d1a(0x6af));}else console['warn'](_0x523d1a(0x2ec));}else console[_0x523d1a(0x4a6)](_0x523d1a(0x37c));}else console[_0x523d1a(0x4a6)](_0x523d1a(0x5a0));}else console[_0x523d1a(0x4a6)](_0x523d1a(0x54b));}else console[_0x523d1a(0x4a6)]('Window\x20not\x20found.');}_0x2d0768[_0x523d1a(0x5e3)](_0x574353,0x1);const _0x15c280=_0x523d1a(0x47b)+_0x4a1a4a,_0x122a1e=db['transaction']([_0x15c280],_0x523d1a(0x400)),_0x170522=_0x122a1e[_0x523d1a(0x22b)](_0x15c280);_0x170522[_0x523d1a(0x3d5)](_0x11f672['id']),_0x122a1e[_0x523d1a(0x39c)]=function(){const _0x9d3e18=_0x523d1a;console[_0x9d3e18(0x37b)](_0x9d3e18(0x4b4)),saveCart(_0x4a1a4a)[_0x9d3e18(0x5df)](()=>{const _0x27d4bb=_0x9d3e18;renderCart(_0x4a1a4a),console[_0x27d4bb(0x37b)]('Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20'+_0x4a1a4a);})[_0x9d3e18(0x35b)](_0x4203c2=>{const _0x5dc579=_0x9d3e18;console['error'](_0x5dc579(0x654),_0x4203c2);});},_0x122a1e[_0x523d1a(0x3f8)]=function(_0xa53f22){const _0x2a3178=_0x523d1a;console[_0x2a3178(0x103)](_0x2a3178(0x420),_0xa53f22[_0x2a3178(0x278)][_0x2a3178(0x103)]);};}function removeAllFromCart(_0x305c5a,_0x5b5e3b=0x0){return new Promise((_0x5716a2,_0x2806f5)=>{const _0x26a5af=_0x1a69;let _0x19e141;_0x5b5e3b==0x1?_0x19e141=carts[_0x305c5a][_0x26a5af(0x2c8)](_0x4493e8=>_0x4493e8[_0x26a5af(0x433)]==0x1):_0x19e141=getFilteredCart(_0x305c5a);const _0x36d4ee=_0x26a5af(0x47b)+_0x305c5a,_0x36443a=db[_0x26a5af(0x296)]([_0x36d4ee],_0x26a5af(0x400)),_0x3a14d2=_0x36443a[_0x26a5af(0x22b)](_0x36d4ee);_0x19e141[_0x26a5af(0x570)](_0x5373d9=>{const _0xcaf6cd=_0x26a5af;_0x3a14d2[_0xcaf6cd(0x3d5)](_0x5373d9['id']);}),_0x36443a[_0x26a5af(0x39c)]=function(){const _0x50e78a=_0x26a5af;carts[_0x305c5a]=carts[_0x305c5a]['filter'](_0x15e62e=>!_0x19e141[_0x50e78a(0x484)](_0x147248=>_0x147248['cartId']==_0x15e62e[_0x50e78a(0x3d4)])),renderCart(_0x305c5a),_0x5716a2();},_0x36443a[_0x26a5af(0x3f8)]=function(_0xccbbdc){const _0x4ceb56=_0x26a5af;console['error']('Error\x20al\x20eliminar\x20productos:',_0xccbbdc[_0x4ceb56(0x278)]['error']),_0x2806f5(_0xccbbdc[_0x4ceb56(0x278)]['error']);};});}function saveWindowOptionsDB(_0x33d74d){const _0x175823=_0x44881d;return createCartStore('')[_0x175823(0x5df)](_0x5d2eb3=>{const _0x520b63=_0x175823,_0x39cd37=window_options[_0x33d74d],_0x371c68=_0x520b63(0x511)+_0x33d74d,_0x5ed9d1=_0x5d2eb3['transaction']([_0x371c68],'readwrite'),_0xd8a96f=_0x5ed9d1[_0x520b63(0x22b)](_0x371c68);return _0xd8a96f[_0x520b63(0x275)]({'id':_0x33d74d,..._0x39cd37}),new Promise((_0x15088f,_0x1e0abf)=>{const _0x4ae210=_0x520b63;_0x5ed9d1[_0x4ae210(0x39c)]=function(){const _0x3edbf6=_0x4ae210;console[_0x3edbf6(0x37b)](_0x3edbf6(0x2ce)+_0x33d74d+'\x20guardadas.'),_0x15088f(_0x33d74d);},_0x5ed9d1[_0x4ae210(0x3f8)]=function(_0x166274){const _0x53fa57=_0x4ae210;console[_0x53fa57(0x103)](_0x53fa57(0x165),_0x166274[_0x53fa57(0x278)][_0x53fa57(0x103)]),_0x1e0abf(_0x166274[_0x53fa57(0x278)]['error']);};});})[_0x175823(0x5df)](_0x480fa8=>{return renderWindowOptions(_0x480fa8),_0x480fa8;})[_0x175823(0x35b)](_0x5c0a16=>{const _0x5ca701=_0x175823;console[_0x5ca701(0x103)](_0x5ca701(0x4c4),_0x5c0a16);throw _0x5c0a16;});}function renderWindowOptions(_0x118366){return new Promise(_0x3e6101=>{const _0x400b1b=_0x1a69;document['getElementById'](_0x400b1b(0x253)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x1aa)],document[_0x400b1b(0x1a8)](_0x400b1b(0x28e)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x5e2)],document[_0x400b1b(0x1a8)](_0x400b1b(0x233)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x189)],document[_0x400b1b(0x1a8)](_0x400b1b(0x172)+_0x118366)['value']=window_options[_0x118366][_0x400b1b(0x5c3)],document[_0x400b1b(0x1a8)](_0x400b1b(0x393)+_0x118366)['value']=window_options[_0x118366]['setMoneda'],document[_0x400b1b(0x1a8)](_0x400b1b(0x50e)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366]['setClienteTipoDoc'],document[_0x400b1b(0x1a8)]('setClienteNumDoc-'+_0x118366)['value']=window_options[_0x118366][_0x400b1b(0x197)]??'',document['getElementById'](_0x400b1b(0x24e)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x50a)]??'',document[_0x400b1b(0x1a8)](_0x400b1b(0x323)+_0x118366)['value']=window_options[_0x118366][_0x400b1b(0x32d)]??'',document[_0x400b1b(0x1a8)](_0x400b1b(0x32c)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366]['setCustomerPhone']??'',document['getElementById'](_0x400b1b(0x546)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x203)]??'',document[_0x400b1b(0x1a8)](_0x400b1b(0x1a0)+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366]['setFechaHora'],document[_0x400b1b(0x1a8)]('setVendedorCodigo-'+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x471)],document[_0x400b1b(0x1a8)]('setDespacho-'+_0x118366)['value']=window_options[_0x118366]['setDespacho'],document[_0x400b1b(0x1a8)](_0x400b1b(0x4a4)+_0x118366)['value']=window_options[_0x118366]['setObservacion']??'',document[_0x400b1b(0x1a8)]('setAttachEdit-'+_0x118366)[_0x400b1b(0x61e)]=window_options[_0x118366][_0x400b1b(0x5f3)],_0x3e6101();});}async function updateWindowOption(_0xfc16a,_0x460797,_0xf89e0b){const _0x1606f0=_0x44881d;if(_0x460797==_0x1606f0(0x2b7)){const _0x331d3b=document[_0x1606f0(0x1a8)](_0x1606f0(0x2c7)+_0xfc16a),_0x4af265=_0x331d3b['options'][_0x331d3b[_0x1606f0(0x113)]][_0x1606f0(0x2c5)];window_options[_0xfc16a]['setDetraccionCodigoName']=_0x4af265;}if(_0x460797==_0x1606f0(0x471)){const _0x4d43d8=document['getElementById']('setVendedorCodigo-'+_0xfc16a),_0x2b9726=_0x4d43d8[_0x1606f0(0x39f)][_0x4d43d8['selectedIndex']][_0x1606f0(0x2c5)];window_options[_0xfc16a]['setSellerName']=_0x2b9726;}_0x460797==_0x1606f0(0x5a6)&&(window_options[_0xfc16a][_0x1606f0(0x625)]=0x1),_0x460797==_0x1606f0(0x5c3)&&(correlativeReadonly=0x1),_0x460797==_0x1606f0(0x5f3)&&(_0xf89e0b==0x1&&(correlativeReadonly=0x0)),window_options[_0xfc16a][_0x460797]=_0xf89e0b,saveWindowOptionsDB(_0xfc16a);}function showModal(){const _0x31a5e8=_0x44881d,_0x4622a3=document[_0x31a5e8(0x1a8)](_0x31a5e8(0x305)),_0x2d18b6=document[_0x31a5e8(0x1a8)](_0x31a5e8(0x5ed));_0x4622a3[_0x31a5e8(0x14a)]['add']('active'),_0x2d18b6[_0x31a5e8(0x59b)]['display']=_0x31a5e8(0x434);const _0x12c76c=document[_0x31a5e8(0x1a8)]('closeModal'),_0x134138=document[_0x31a5e8(0x1a8)](_0x31a5e8(0x22f));if(!_0x12c76c||!_0x134138){console[_0x31a5e8(0x103)](_0x31a5e8(0x60a));return;}_0x12c76c[_0x31a5e8(0x43b)](_0x12c76c[_0x31a5e8(0x57c)](!![])),_0x134138[_0x31a5e8(0x43b)](_0x134138[_0x31a5e8(0x57c)](!![]));const _0x1d12cd=document['getElementById']('closeModal'),_0x52371f=document[_0x31a5e8(0x1a8)](_0x31a5e8(0x22f));_0x1d12cd[_0x31a5e8(0x276)](_0x31a5e8(0x26d),()=>hideModal()),_0x52371f[_0x31a5e8(0x276)]('click',()=>hideModal());}function hideModal(){const _0x43dd10=_0x44881d,_0x3199d8=document[_0x43dd10(0x1a8)](_0x43dd10(0x305)),_0x4a41c4=document[_0x43dd10(0x1a8)](_0x43dd10(0x5ed));_0x3199d8[_0x43dd10(0x14a)][_0x43dd10(0x1c7)](_0x43dd10(0x1c5)),_0x4a41c4[_0x43dd10(0x59b)][_0x43dd10(0x2a2)]='none';}document['getElementById']('modalOverlay')[_0x44881d(0x276)](_0x44881d(0x26d),_0x42a633=>{const _0x17090d=_0x44881d;_0x42a633[_0x17090d(0x278)]==_0x42a633[_0x17090d(0x45f)]&&_0x42a633[_0x17090d(0x39e)]();});function showModalPay(){const _0x9fc7fc=_0x44881d,_0x185e57=document[_0x9fc7fc(0x1a8)](_0x9fc7fc(0x44d)),_0x402e36=document[_0x9fc7fc(0x1a8)]('modalOverlayPay');_0x185e57[_0x9fc7fc(0x14a)][_0x9fc7fc(0x529)](_0x9fc7fc(0x1c5)),_0x402e36[_0x9fc7fc(0x59b)][_0x9fc7fc(0x2a2)]=_0x9fc7fc(0x434);}function hideModalPay(){const _0x4e4fa0=_0x44881d,_0xf6bc09=document[_0x4e4fa0(0x1a8)](_0x4e4fa0(0x44d)),_0x450ea6=document[_0x4e4fa0(0x1a8)](_0x4e4fa0(0x66c));_0xf6bc09[_0x4e4fa0(0x14a)][_0x4e4fa0(0x1c7)](_0x4e4fa0(0x1c5)),_0x450ea6[_0x4e4fa0(0x59b)][_0x4e4fa0(0x2a2)]=_0x4e4fa0(0x190);}document[_0x44881d(0x1a8)](_0x44881d(0x357))[_0x44881d(0x276)](_0x44881d(0x26d),hideModalPay),document[_0x44881d(0x1a8)]('modalOverlayPay')[_0x44881d(0x276)](_0x44881d(0x26d),_0x307651=>{const _0x14537a=_0x44881d;_0x307651['target']==_0x307651['currentTarget']&&_0x307651[_0x14537a(0x39e)]();});async function showModalLayout(){const _0x3cdd51=_0x44881d;showLoadingModal();const _0x9ef618=document[_0x3cdd51(0x1a8)](_0x3cdd51(0x391))[_0x3cdd51(0x61e)],_0x5be67a=myCompany['setPrintServers'],_0x212baa=_0x5be67a[_0x3cdd51(0x552)](_0x2e1a9f=>_0x2e1a9f[_0x3cdd51(0x391)]==_0x9ef618&&_0x2e1a9f[_0x3cdd51(0xf9)]==0x2),_0x220cfb=getUserPermissionApiERP(0xd),_0x4a7093=_0x212baa?0x1:0x0;if(_0x4a7093==0x1&&_0x220cfb==0x1){const _0x225cc6=myCompany[_0x3cdd51(0x319)];let _0x2208ce=[];const _0x118ba2=_0x212baa[_0x3cdd51(0x5f2)][_0x3cdd51(0x648)](_0x3cdd51(0x301),_0x3cdd51(0x13a));await new Promise((_0x5c50e3,_0x8b8f80)=>{const _0x45bb74=_0x3cdd51,_0x29d8f1=document[_0x45bb74(0x291)]('iframe');_0x29d8f1[_0x45bb74(0x59b)][_0x45bb74(0x2a2)]='none',_0x29d8f1[_0x45bb74(0x4b7)]=_0x118ba2,document[_0x45bb74(0x536)]['appendChild'](_0x29d8f1);const _0x5939c2=setTimeout(()=>{const _0x4c2a4f=_0x45bb74;hideLoadingModal(),window[_0x4c2a4f(0x5f1)](_0x4c2a4f(0x221),_0x25a797),document[_0x4c2a4f(0x536)][_0x4c2a4f(0x213)](_0x29d8f1),_0x8b8f80(_0x4c2a4f(0x2ff));},0xbb8),_0x25a797=function(_0x533cbc){const _0x1044db=_0x45bb74,_0x28d7c8=_0x533cbc[_0x1044db(0x62e)];if(!Array['isArray'](_0x28d7c8)){hideLoadingModal(),console['error'](_0x1044db(0x4a9)),clearTimeout(_0x5939c2),window[_0x1044db(0x5f1)](_0x1044db(0x221),_0x25a797),document[_0x1044db(0x536)]['removeChild'](_0x29d8f1),_0x8b8f80(_0x1044db(0x657));return;}_0x2208ce=_0x28d7c8['filter'](_0x35969c=>!_0x225cc6[_0x1044db(0x484)](_0x8e7f12=>_0x8e7f12['setWindowId']==_0x35969c[_0x1044db(0x33a)])),myCompany[_0x1044db(0x319)]=_0x28d7c8,((async()=>{const _0x5dfe4f=_0x1044db,_0x524795=await createCartStore('');await saveCompanyToIndexedDB(company,_0x524795);for(const _0x5078e1 of _0x2208ce){await new Promise(_0x3d5ee6=>setTimeout(_0x3d5ee6,0x12c)),await createCartStore(_0x5078e1[_0x5dfe4f(0x33a)]);}console[_0x5dfe4f(0x37b)](_0x5dfe4f(0x4a1)),clearTimeout(_0x5939c2),window['removeEventListener'](_0x5dfe4f(0x221),_0x25a797),document[_0x5dfe4f(0x536)][_0x5dfe4f(0x213)](_0x29d8f1),_0x5c50e3();})());};window['addEventListener'](_0x45bb74(0x221),_0x25a797,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x556653=document['getElementById'](_0x3cdd51(0x5ab)),_0x570e08=document[_0x3cdd51(0x1a8)](_0x3cdd51(0x25d));_0x556653['classList']['add'](_0x3cdd51(0x1c5)),_0x570e08[_0x3cdd51(0x59b)][_0x3cdd51(0x2a2)]=_0x3cdd51(0x434);const _0x2bd39c=document[_0x3cdd51(0x1a8)](_0x3cdd51(0x17b))[_0x3cdd51(0x61e)],_0x5e4b53=document[_0x3cdd51(0x1a8)](_0x3cdd51(0x391))[_0x3cdd51(0x61e)];cargarVentanas(_0x5e4b53,_0x2bd39c),createTabsEnvironments();}function hideModalLayout(){const _0x2e4d5f=_0x44881d,_0x5ced4b=document[_0x2e4d5f(0x1a8)](_0x2e4d5f(0x5ab)),_0x11e79b=document[_0x2e4d5f(0x1a8)]('modalOverlayLayout');_0x5ced4b[_0x2e4d5f(0x14a)][_0x2e4d5f(0x1c7)](_0x2e4d5f(0x1c5)),_0x11e79b[_0x2e4d5f(0x59b)][_0x2e4d5f(0x2a2)]='none';}document[_0x44881d(0x1a8)](_0x44881d(0x51b))[_0x44881d(0x276)]('click',hideModalLayout),document['getElementById'](_0x44881d(0x25d))[_0x44881d(0x276)](_0x44881d(0x26d),_0x5c972e=>{const _0x1c7721=_0x44881d;_0x5c972e[_0x1c7721(0x278)]==_0x5c972e[_0x1c7721(0x45f)]&&_0x5c972e[_0x1c7721(0x39e)]();});function showModalOptions(){const _0x536ed9=_0x44881d,_0x5e9482=document['getElementById'](_0x536ed9(0x1f3)),_0x5d0f9b=document[_0x536ed9(0x1a8)]('modalOverlayOptions');_0x5e9482[_0x536ed9(0x14a)][_0x536ed9(0x529)](_0x536ed9(0x1c5)),_0x5d0f9b[_0x536ed9(0x59b)][_0x536ed9(0x2a2)]=_0x536ed9(0x434);}function hideModalOptions(){const _0x2abf6b=_0x44881d,_0x46ee1b=document['getElementById'](_0x2abf6b(0x1f3)),_0x22ad11=document['getElementById'](_0x2abf6b(0x52e));_0x46ee1b[_0x2abf6b(0x14a)]['remove'](_0x2abf6b(0x1c5)),_0x22ad11['style'][_0x2abf6b(0x2a2)]=_0x2abf6b(0x190);}document['getElementById'](_0x44881d(0x52e))[_0x44881d(0x276)](_0x44881d(0x26d),_0x178921=>{const _0x28cc5e=_0x44881d;_0x178921[_0x28cc5e(0x278)]==_0x178921[_0x28cc5e(0x45f)]&&_0x178921[_0x28cc5e(0x39e)]();});function showSection(_0x996c1c,_0x543212=''){const _0x46165a=_0x44881d,_0x54e5b1=[_0x46165a(0x512),_0x46165a(0x5c1),_0x46165a(0x502)];if(_0x996c1c==_0x46165a(0x502)){setDivTotalPay(_0x543212),showModalPay();return;}if(_0x996c1c==_0x46165a(0x5c1)){showModalOptions();return;}_0x54e5b1[_0x46165a(0x570)](_0x4aacb2=>{const _0x338bb6=_0x46165a,_0x844ae3=document[_0x338bb6(0x1a8)](_0x4aacb2);_0x844ae3?_0x4aacb2!==_0x338bb6(0x502)&&_0x4aacb2!==_0x338bb6(0x5c1)&&_0x844ae3[_0x338bb6(0x14a)]['toggle']('hidden',_0x4aacb2!==_0x996c1c):console[_0x338bb6(0x4a6)](_0x338bb6(0x149)+_0x4aacb2+'\x22\x20no\x20encontrada.');});}function optionsPdf(_0x3f5db7){const _0x55bb0f=_0x44881d,_0x4b6284=document[_0x55bb0f(0x1a8)](_0x55bb0f(0x38c)),_0x71e3fa=document[_0x55bb0f(0x1a8)]('btnArchivosContables'),_0x8031f9=document[_0x55bb0f(0x1a8)](_0x55bb0f(0x10d)),_0x4b2b45=document[_0x55bb0f(0x1a8)](_0x55bb0f(0x214)),_0x52ef34=document['getElementById']('archivos_contables'),_0x33c50c=document[_0x55bb0f(0x1a8)](_0x55bb0f(0x292));if(_0x3f5db7==0x1)_0x4b6284[_0x55bb0f(0x14a)]['remove'](_0x55bb0f(0x13e)),_0x4b6284[_0x55bb0f(0x14a)][_0x55bb0f(0x529)]('btnModalActive'),_0x71e3fa[_0x55bb0f(0x14a)]['remove']('btnModalActive'),_0x71e3fa[_0x55bb0f(0x14a)][_0x55bb0f(0x529)]('btnModal'),_0x8031f9[_0x55bb0f(0x14a)]['remove'](_0x55bb0f(0x20a)),_0x8031f9['classList'][_0x55bb0f(0x529)](_0x55bb0f(0x13e)),_0x4b2b45[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x32e)),_0x52ef34[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x32e)),_0x33c50c[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x32e));else _0x3f5db7==0x2?(_0x4b6284[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x20a)),_0x4b6284[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x13e)),_0x71e3fa['classList']['remove']('btnModal'),_0x71e3fa[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x20a)),_0x8031f9[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x20a)),_0x8031f9[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x13e)),_0x4b2b45['classList'][_0x55bb0f(0x529)](_0x55bb0f(0x32e)),_0x52ef34[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x32e)),_0x33c50c[_0x55bb0f(0x14a)]['add'](_0x55bb0f(0x32e))):(_0x4b6284[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x20a)),_0x4b6284[_0x55bb0f(0x14a)]['add']('btnModal'),_0x71e3fa['classList'][_0x55bb0f(0x1c7)](_0x55bb0f(0x20a)),_0x71e3fa[_0x55bb0f(0x14a)][_0x55bb0f(0x529)](_0x55bb0f(0x13e)),_0x8031f9[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)](_0x55bb0f(0x13e)),_0x8031f9['classList'][_0x55bb0f(0x529)]('btnModalActive'),_0x4b2b45[_0x55bb0f(0x14a)][_0x55bb0f(0x529)]('hidden'),_0x52ef34['classList'][_0x55bb0f(0x529)](_0x55bb0f(0x32e)),_0x33c50c[_0x55bb0f(0x14a)][_0x55bb0f(0x1c7)]('hidden'));}function updateSerieOptionsAttach(_0x34b66e,_0x346c8c){const _0x52d21b=_0x44881d,_0x22a397=document[_0x52d21b(0x1a8)](_0x52d21b(0x6ba)+_0x346c8c);_0x22a397[_0x52d21b(0x328)]='';const _0x162048=document[_0x52d21b(0x1a8)](_0x52d21b(0x391))[_0x52d21b(0x61e)],_0x1e50e8=myCompany[_0x52d21b(0x1f1)][_0x52d21b(0x2c8)](_0x189467=>_0x189467[_0x52d21b(0x3e0)]==_0x34b66e&&_0x189467[_0x52d21b(0x3b9)]==_0x162048);_0x1e50e8[_0x52d21b(0x570)](_0x48acba=>{const _0x311919=_0x52d21b;_0x22a397[_0x311919(0x613)](createElement(_0x311919(0x571),{'value':_0x48acba['setSerie']},[_0x48acba['setSerie']]));}),_0x1e50e8[_0x52d21b(0x506)]&&(_0x22a397[_0x52d21b(0x61e)]=_0x1e50e8[0x0][_0x52d21b(0x189)]),window_options[_0x346c8c][_0x52d21b(0x2bf)]=_0x34b66e;}async function consultAttach(_0x7d40ca){const _0x30e5c5=_0x44881d,_0x48c949=document[_0x30e5c5(0x1a8)](_0x30e5c5(0x106)+_0x7d40ca);if(!_0x48c949){console['error']('No\x20se\x20encontró\x20el\x20botón');return;}const _0x2a32aa=document[_0x30e5c5(0x1a8)](_0x30e5c5(0x4b8)+_0x7d40ca)[_0x30e5c5(0x61e)],_0x2f93de=document[_0x30e5c5(0x1a8)](_0x30e5c5(0x682)+_0x7d40ca)['value'],_0x424f82=document[_0x30e5c5(0x1a8)]('setAttachSeries-'+_0x7d40ca)[_0x30e5c5(0x61e)],_0x43fdd9=document[_0x30e5c5(0x1a8)](_0x30e5c5(0x5c5)+_0x7d40ca)[_0x30e5c5(0x61e)];_0x48c949[_0x30e5c5(0x269)]=!![],hideModalOptions(),showLoadingModal();try{const _0x1f02d6=myCompany[_0x30e5c5(0x6a4)],_0x346410={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x30e5c5(0x388)],'setAttachEdit':_0x2a32aa,'setAttachType':_0x2f93de,'setAttachSeries':_0x424f82,'setAttachNumber':_0x43fdd9},_0xc11c84=await fetch(_0x1f02d6,{'method':_0x30e5c5(0x65e),'headers':{'Content-Type':_0x30e5c5(0x62f)},'body':JSON[_0x30e5c5(0x453)](_0x346410)}),_0x2febb7=await _0xc11c84[_0x30e5c5(0x228)]();if(_0x2febb7['success']&&_0x2febb7[_0x30e5c5(0x221)][_0x30e5c5(0x54e)]){await removeAllFromCart(_0x7d40ca);const _0x233d5f=_0x2febb7[_0x30e5c5(0x221)][_0x30e5c5(0x54e)],_0x1cc418=_0x2febb7[_0x30e5c5(0x221)][_0x30e5c5(0x236)];(_0x2a32aa==0x1||_0x2a32aa==0x2)&&(window_options[_0x7d40ca]['setTipoOperacion']=_0x233d5f[_0x30e5c5(0x3de)],await updateSerieOptions(_0x233d5f[_0x30e5c5(0x3de)],_0x7d40ca),window_options[_0x7d40ca][_0x30e5c5(0x189)]=_0x233d5f[_0x30e5c5(0x280)],window_options[_0x7d40ca][_0x30e5c5(0x5c3)]=_0x233d5f[_0x30e5c5(0xf4)]);window_options[_0x7d40ca][_0x30e5c5(0x313)]=_0x233d5f[_0x30e5c5(0x1ab)],window_options[_0x7d40ca][_0x30e5c5(0x197)]=_0x233d5f['setReceiptClientDocNumber'],window_options[_0x7d40ca][_0x30e5c5(0x50a)]=_0x233d5f[_0x30e5c5(0x2dd)],window_options[_0x7d40ca][_0x30e5c5(0x32d)]=_0x233d5f[_0x30e5c5(0x4a7)],window_options[_0x7d40ca][_0x30e5c5(0x163)]=_0x233d5f[_0x30e5c5(0x2fb)],window_options[_0x7d40ca][_0x30e5c5(0x617)]=_0x233d5f[_0x30e5c5(0x3fd)],window_options[_0x7d40ca][_0x30e5c5(0x374)]=_0x233d5f['setDispatchType'],window_options[_0x7d40ca][_0x30e5c5(0x673)]=_0x233d5f[_0x30e5c5(0x454)],window_options[_0x7d40ca][_0x30e5c5(0x4c1)]=_0x1cc418,document[_0x30e5c5(0x1a8)]('setWarehouseId')['value']=_0x233d5f[_0x30e5c5(0x4d7)],document[_0x30e5c5(0x1a8)](_0x30e5c5(0x4d7))[_0x30e5c5(0x17f)](new Event(_0x30e5c5(0x463))),window_options[_0x7d40ca]['setDescuentoGlobal_Monto']=_0x233d5f[_0x30e5c5(0x56c)],await saveWindowOptionsDB(_0x7d40ca);for(let _0x15ca25=0x0;_0x15ca25<_0x1cc418['length'];_0x15ca25++){const _0x35642b=_0x1cc418[_0x15ca25],_0x2cd052=products[_0x30e5c5(0x552)](_0x3478af=>_0x3478af['id']==_0x35642b[_0x30e5c5(0x19b)]);_0x2cd052&&(await new Promise(_0x5ef7b4=>setTimeout(_0x5ef7b4,0x64)),addToCart(_0x2cd052,{'setValorCantidad':_0x35642b[_0x30e5c5(0x182)],'setMtoPrecioUnitario_final':_0x35642b[_0x30e5c5(0x64d)],'setTaxId':_0x35642b['setTaxId'],'setTipAfeIgv':_0x35642b[_0x30e5c5(0x509)],'setPorcentajeDesc':_0x35642b[_0x30e5c5(0x5be)],'setNotas':_0x35642b[_0x30e5c5(0x5a1)],'setMtoPrecioUnitario_input':_0x35642b['setPrecioUnit'],'setMtoPrecioCostoUnitario_input':_0x35642b[_0x30e5c5(0x565)]},0x1,_0x7d40ca));}}else ntfShow('No\x20se\x20encontraron\x20resultados'),console[_0x30e5c5(0x37b)](_0x30e5c5(0x284));}catch(_0x1f4230){ntfShow(_0x30e5c5(0x6a9)),console[_0x30e5c5(0x103)](_0x30e5c5(0x27e),_0x1f4230);}finally{_0x48c949['disabled']=![],hideLoadingModal();}}async function setPrintOnline(_0x15b2e5,_0x444d15,_0x8f103a,_0x3df7a1=0x0){const _0x329363=_0x44881d,_0x149858=document[_0x329363(0x1a8)]('setBranchId')[_0x329363(0x61e)],_0x26bd2a=myCompany[_0x329363(0x669)],_0x34a0ed=_0x26bd2a[_0x329363(0x552)](_0x533ab1=>_0x533ab1['setBranchId']==_0x149858&&_0x533ab1[_0x329363(0xf9)]==0x1),_0x263726=getUserPermissionApiERP(0x6),_0x33ce9d=_0x34a0ed?0x1:0x0;if(!_0x444d15){ntfShow(_0x329363(0x5ad));return;}_0x3df7a1!=0x1&&hideModal();showLoadingModal();const _0x47ae27=document[_0x329363(0x1a8)](_0x329363(0x620));_0x47ae27['innerHTML']=_0x329363(0x49d)+_0x15b2e5+_0x329363(0x2bd);if(_0x33ce9d==0x1&&_0x263726==0x1){const _0x434027=_0x329363(0x51d)+generateUUID(),_0x134f7a=document[_0x329363(0x291)](_0x329363(0x3e6));_0x134f7a['name']=_0x434027,_0x134f7a[_0x329363(0x59b)][_0x329363(0x2a2)]='none',document['body'][_0x329363(0x613)](_0x134f7a);const _0x2aa83c=document[_0x329363(0x291)]('form');_0x2aa83c['method']=_0x329363(0x65e),_0x2aa83c[_0x329363(0x2ae)]=_0x34a0ed['setServerRoot'],_0x2aa83c[_0x329363(0x6c7)]='multipart/form-data',_0x2aa83c[_0x329363(0x278)]=_0x134f7a[_0x329363(0x63e)];const _0x135b5e={'printData':JSON['stringify']({'setPrinterName':_0x15b2e5,'setPdfName':_0x8f103a,'setPrint':0x1})};for(const _0x585eb1 in _0x135b5e){const _0x2e1cf8=document[_0x329363(0x291)]('input');_0x2e1cf8[_0x329363(0xfa)]=_0x329363(0x32e),_0x2e1cf8[_0x329363(0x63e)]=_0x585eb1,_0x2e1cf8['value']=_0x135b5e[_0x585eb1],_0x2aa83c[_0x329363(0x613)](_0x2e1cf8);}const _0x5dc435=document[_0x329363(0x291)](_0x329363(0x526));_0x5dc435[_0x329363(0xfa)]=_0x329363(0x503),_0x5dc435[_0x329363(0x63e)]=_0x329363(0x339);const _0x150931=new File([_0x444d15],_0x329363(0x603),{'type':_0x329363(0x53e)}),_0x59e6c9=new DataTransfer();_0x59e6c9[_0x329363(0x4c3)][_0x329363(0x529)](_0x150931),_0x5dc435[_0x329363(0x63a)]=_0x59e6c9[_0x329363(0x63a)],_0x2aa83c[_0x329363(0x613)](_0x5dc435),document['body'][_0x329363(0x613)](_0x2aa83c),_0x2aa83c[_0x329363(0x44b)](),document[_0x329363(0x536)]['removeChild'](_0x2aa83c),await new Promise(_0x1a7dc0=>setTimeout(_0x1a7dc0,0x4b0)),setTimeout(()=>{document['body']['removeChild'](_0x134f7a);},0xaf0),hideLoadingModal(),_0x3df7a1!=0x1&&showModal();}else{if(!isOnline())return console[_0x329363(0x37b)](_0x329363(0x415)),null;const _0x5eab0f={'setAuthToken':myCompany[_0x329363(0x388)],'setPrinterName':_0x15b2e5,'setPdfName':_0x8f103a,'setBucketName':'luisitoprograma-pdf','setPrint':0x1},_0x1bd015=new FormData();_0x1bd015['append'](_0x329363(0x462),JSON[_0x329363(0x453)](_0x5eab0f));if(_0x444d15 instanceof Blob&&_0x444d15['size']>0x0)_0x1bd015[_0x329363(0x3d1)](_0x329363(0x339),_0x444d15,_0x329363(0x603));else{console[_0x329363(0x103)]('PDF\x20Error.');return;}try{const _0x21883b=await fetch(_0x329363(0x672),{'method':_0x329363(0x65e),'body':_0x1bd015});if(!_0x21883b['ok'])throw new Error('Error:\x20'+_0x21883b[_0x329363(0x2b9)]);const _0x1cec5f=await _0x21883b[_0x329363(0x228)]();if(!_0x1cec5f['success'])throw new Error(_0x1cec5f['message']||_0x329363(0xef));_0x47ae27[_0x329363(0x328)]=_0x329363(0x167);}catch(_0x4afd32){ntfShow(_0x4afd32);}finally{hideLoadingModal(),_0x3df7a1!=0x1&&showModal();}}}async function processPrints(_0x1c7d40){const _0x4a75fd=_0x44881d;for(const _0x2f8973 of _0x1c7d40){const {payloadComand:_0x56ca28}=_0x2f8973,{pdfBlob:_0x1a6e05,pdfName:_0x404fd2}=await generatePdf(_0x56ca28,'tk',_0x4a75fd(0x3b0),_0x4a75fd(0x67f)),_0x554b73=_0x404fd2['replace'](_0x4a75fd(0x2f5),'-'+_0x2f8973['setPrinterId']+'.pdf');await setPrintOnline(_0x2f8973[_0x4a75fd(0x447)],_0x1a6e05,_0x554b73,0x1);}}function setPrinter(_0x2e9980,_0x1230b4){const _0x2b31f0=_0x44881d;document[_0x2b31f0(0x1a8)](_0x2b31f0(0x4c9))[_0x2b31f0(0x5b1)]=_0x1230b4,document['getElementById']('defaultPrinter')[_0x2b31f0(0x264)](_0x2b31f0(0x252),_0x2e9980);}async function generatePdfTk(){const _0x1169d2=_0x44881d,_0x1c5d85=document[_0x1169d2(0x1a8)](_0x1169d2(0x159))['value'],{pdfGlobalPayload:_0x48bb44,pdfGlobalBlob:_0x20cfc3,pdfGlobalName:_0x50e5ec}=getLastOperationGlobalData(_0x1c5d85),{pdfBlob:_0x444ffb,pdfName:_0x5d7f30}=await generatePdf(_0x48bb44,'tk','pdfCanvas','1.5');setLastOperationGlobalData(_0x1c5d85,{'pdfGlobalPayload':_0x48bb44,'pdfGlobalBlob':_0x444ffb,'pdfGlobalName':_0x5d7f30});}async function generatePdfA4(){const _0x20c013=_0x44881d,_0x52876e=document[_0x20c013(0x1a8)](_0x20c013(0x159))[_0x20c013(0x61e)],{pdfGlobalPayload:_0x3565ed,pdfGlobalBlob:_0x39a186,pdfGlobalName:_0x39a68e}=getLastOperationGlobalData(_0x52876e),{pdfBlob:_0x30623d,pdfName:_0xbf55a5}=await generatePdf(_0x3565ed,'a4',_0x20c013(0x3b0),_0x20c013(0x67f));setLastOperationGlobalData(_0x52876e,{'pdfGlobalPayload':_0x3565ed,'pdfGlobalBlob':_0x30623d,'pdfGlobalName':_0xbf55a5});}function cargarVentanas(_0x2c95fc,_0x51399e){const _0x31c66d=_0x44881d,_0x22f808=myCompany[_0x31c66d(0x319)][_0x31c66d(0x2c8)](_0x158445=>_0x158445[_0x31c66d(0x391)]==_0x2c95fc&&_0x158445[_0x31c66d(0x17b)]==_0x51399e),_0xee9821=0x5,_0x1cd471=0x5,_0xa3c5b3=0x5,_0x3a90ae=0x5,_0x576965=0x78,_0x2c71ff=0x78;let _0x354faa=_0xee9821,_0x297528=_0x1cd471;!posicionesPorPiso[_0x51399e]&&(posicionesPorPiso[_0x51399e]={});const _0x173bc8=_0x22f808['map'](_0x252fa7=>{const _0x1bd5a5=_0x31c66d;posicionesPorPiso[_0x51399e][_0x252fa7[_0x1bd5a5(0x33a)]]?(_0x252fa7['x']=posicionesPorPiso[_0x51399e][_0x252fa7[_0x1bd5a5(0x33a)]]['x'],_0x252fa7['y']=posicionesPorPiso[_0x51399e][_0x252fa7['setWindowId']]['y']):(_0x252fa7['x']=_0x354faa,_0x252fa7['y']=_0x297528,posicionesPorPiso[_0x51399e][_0x252fa7[_0x1bd5a5(0x33a)]]={'x':_0x354faa,'y':_0x297528},_0x354faa+=_0x576965+_0xa3c5b3,_0x354faa+_0x576965>layout_windows[_0x1bd5a5(0x4df)]&&(_0x354faa=_0xee9821,_0x297528+=_0x2c71ff+_0x3a90ae));let _0x1b8fcb={'setWindowId':_0x252fa7[_0x1bd5a5(0x33a)],'setWindowType':_0x252fa7[_0x1bd5a5(0x527)],'setWindowName':_0x252fa7[_0x1bd5a5(0x574)],'x':_0x252fa7['x'],'y':_0x252fa7['y'],'zona':_0x252fa7['setFloorName'],'floorId':_0x252fa7[_0x1bd5a5(0x17b)]};return['window','table',_0x1bd5a5(0x6a0),'chair'][_0x1bd5a5(0x29b)](_0x252fa7[_0x1bd5a5(0x527)])&&(_0x1b8fcb[_0x1bd5a5(0x26c)]=_0x252fa7[_0x1bd5a5(0x26c)]||'square-small',_0x1b8fcb[_0x1bd5a5(0x3cf)]=_0x252fa7[_0x1bd5a5(0x3cf)]||'free'),_0x1b8fcb;}),_0x2af8fc=extraElements[_0x31c66d(0x2c8)](_0x1a02dd=>_0x1a02dd['floorId']==_0x51399e);elementos=[..._0x173bc8,..._0x2af8fc],crearElementos();}function crearElementos(){const _0x4077d0=_0x44881d,_0x19496f=myCompany['setCurrencyDefault'],_0x20aa6e=myCompany[_0x4077d0(0x1a9)][_0x4077d0(0x552)](_0x385658=>_0x385658[_0x4077d0(0x616)]==_0x19496f),_0x4eb097=_0x20aa6e?_0x20aa6e[_0x4077d0(0x4e5)]:'';layout_windows['innerHTML']='',elementos[_0x4077d0(0x570)](_0x2960dd=>{const _0x29caa6=_0x4077d0;let _0x55f6f5='',_0x114833=0x0,_0x35ef78=0x0,_0x79a69f;const _0x555e64=getValidatedWindowAndShift(_0x2960dd['setWindowId']);if(_0x555e64){const {currentWindowShift:_0x449417}=_0x555e64;if(_0x449417){if(_0x555e64[_0x29caa6(0x3a3)][_0x29caa6(0x3cf)]==_0x29caa6(0x29a))_0x55f6f5=_0x29caa6(0x234)+formatShiftDate(_0x449417[_0x29caa6(0x2b4)]);else _0x555e64[_0x29caa6(0x3a3)][_0x29caa6(0x3cf)]=='occupied'&&(_0x55f6f5='<i\x20class=\x22bi\x20bi-clock\x22></i>\x20'+formatShiftDate(_0x449417[_0x29caa6(0x386)]));const _0x17863b=_0x449417['setOrders']||[];_0x114833=_0x17863b[_0x29caa6(0x2c8)](_0x5e1501=>setTipOpeOrders['some'](_0x54d845=>_0x54d845==_0x5e1501[_0x29caa6(0x5e2)]))['length'],_0x35ef78=_0x17863b['reduce']((_0x239b4b,_0x5b5856)=>{const _0x912e3b=_0x29caa6,_0x12d8e3=parseFloat(_0x5b5856[_0x912e3b(0x659)])||0x0;if(setTipOpeOrders[_0x912e3b(0x484)](_0x367536=>_0x367536==_0x5b5856[_0x912e3b(0x5e2)]))return _0x239b4b+_0x12d8e3;if(setTipOpeSales[_0x912e3b(0x484)](_0x1d9261=>_0x1d9261==_0x5b5856[_0x912e3b(0x5e2)]))return _0x239b4b-_0x12d8e3;return _0x239b4b;},0x0);const _0x51a640=_0x449417[_0x29caa6(0x321)]||'',_0x3408fc=myCompany[_0x29caa6(0x1d6)]['find'](_0x285306=>_0x285306['setUserEmail']==_0x51a640);_0x79a69f=_0x3408fc?_0x3408fc[_0x29caa6(0x2e2)]:'';}}const _0x379250=document[_0x29caa6(0x291)]('div');_0x379250['id']=_0x29caa6(0x3f9)+_0x2960dd[_0x29caa6(0x33a)],_0x379250[_0x29caa6(0x61f)]=_0x29caa6(0x6b9)+_0x2960dd[_0x29caa6(0x3cf)]+_0x29caa6(0x1c1)+_0x2960dd[_0x29caa6(0x26c)],_0x379250['style'][_0x29caa6(0x265)]=_0x2960dd['x']+'px',_0x379250[_0x29caa6(0x59b)][_0x29caa6(0x5ee)]=_0x2960dd['y']+'px';let _0x5a037f='';switch(_0x2960dd[_0x29caa6(0x527)]){case _0x29caa6(0x4aa):_0x5a037f='./img/layout/icon-window.svg';break;case _0x29caa6(0x3b4):_0x5a037f='./img/layout/icon-table.svg';break;case _0x29caa6(0x6a0):_0x5a037f='./img/layout/icon-room.svg';break;case _0x29caa6(0x15e):_0x5a037f=_0x29caa6(0x68c);break;case _0x29caa6(0x2cc):_0x5a037f='./img/layout/icon-bar.svg';break;case _0x29caa6(0x176):_0x5a037f=_0x29caa6(0x37a);break;case _0x29caa6(0x173):_0x5a037f='./img/layout/icon-bathroom-unisex.svg';break;case _0x29caa6(0x6a6):_0x5a037f='./img/layout/icon-bathroom-women.svg';break;case _0x29caa6(0x19a):_0x5a037f=_0x29caa6(0x5e9);break;case _0x29caa6(0x120):_0x5a037f='./img/layout/icon-clock.svg';break;case _0x29caa6(0x630):_0x5a037f=_0x29caa6(0x4f1);break;case'element-laptop':_0x5a037f=_0x29caa6(0x481);break;case _0x29caa6(0x4da):_0x5a037f=_0x29caa6(0x2e1);break;case'element-user':_0x5a037f=_0x29caa6(0x43f);break;case _0x29caa6(0x15a):_0x5a037f='./img/layout/icon-vase.svg';break;case _0x29caa6(0x5fe):_0x5a037f=_0x29caa6(0x337);break;case _0x29caa6(0x436):_0x5a037f='./img/layout/icon-waiter.svg';break;default:_0x5a037f=_0x29caa6(0x68c);}if(_0x2960dd[_0x29caa6(0x3cf)]=='free'){let _0x335704=_0x29caa6(0x3d9)+_0x5a037f+'\x22\x20alt=\x22'+_0x2960dd['setWindowType']+'\x22>';_0x379250[_0x29caa6(0x328)]=_0x29caa6(0x19e)+_0x2960dd[_0x29caa6(0x33a)]+_0x29caa6(0x635)+_0x2960dd[_0x29caa6(0x574)]+_0x29caa6(0x15d)+_0x335704+'\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>';}else _0x379250[_0x29caa6(0x328)]='\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27'+_0x2960dd['setWindowId']+_0x29caa6(0x635)+_0x2960dd[_0x29caa6(0x574)]+_0x29caa6(0x69d)+_0x2960dd[_0x29caa6(0x33a)]+_0x29caa6(0x4b5)+_0x79a69f+'<br>\x0a'+_0x4eb097+'\x20'+parseFloat(_0x35ef78)[_0x29caa6(0x4cc)](0x2)+_0x29caa6(0x222)+_0x114833+_0x29caa6(0x23f)+_0x55f6f5+_0x29caa6(0x1ed);_0x379250['dataset'][_0x29caa6(0x33a)]=_0x2960dd[_0x29caa6(0x33a)],layout_windows[_0x29caa6(0x613)](_0x379250),addDragEvents(_0x379250);});}function checkCollision(_0x4c3c68){const _0x33103f=_0x44881d,_0x148309=parseInt(_0x4c3c68[_0x33103f(0x59b)]['left']),_0x568df1=parseInt(_0x4c3c68[_0x33103f(0x59b)][_0x33103f(0x5ee)]),_0x10b631=_0x4c3c68[_0x33103f(0x621)],_0x4bf26c=_0x4c3c68['offsetHeight'];let _0x2f579e=![];const _0xc5fc7a=layout_windows['querySelectorAll'](_0x33103f(0x5fb));return _0xc5fc7a['forEach'](_0x357db5=>{const _0x34b17a=_0x33103f;if(_0x357db5==_0x4c3c68)return;const _0x14fae7=parseInt(_0x357db5[_0x34b17a(0x59b)][_0x34b17a(0x265)]),_0x544a9d=parseInt(_0x357db5[_0x34b17a(0x59b)][_0x34b17a(0x5ee)]),_0x45f4d7=_0x357db5[_0x34b17a(0x621)],_0x2243a2=_0x357db5[_0x34b17a(0x21e)];_0x148309<_0x14fae7+_0x45f4d7&&_0x148309+_0x10b631>_0x14fae7&&_0x568df1<_0x544a9d+_0x2243a2&&_0x568df1+_0x4bf26c>_0x544a9d&&(_0x2f579e=!![]);}),_0x2f579e;}function avoidOverlap(_0x6c39e4){const _0x179aea=_0x44881d;let _0x4e5b4b=parseInt(_0x6c39e4['style'][_0x179aea(0x265)]),_0x20c9df=parseInt(_0x6c39e4[_0x179aea(0x59b)][_0x179aea(0x5ee)]);const _0x4f4caf=0xa;let _0x593329=0x0;while(checkCollision(_0x6c39e4)&&_0x593329<0x64){_0x4e5b4b+=_0x4f4caf,_0x4e5b4b+_0x6c39e4['offsetWidth']>layout_windows[_0x179aea(0x4df)]&&(_0x4e5b4b=0x0,_0x20c9df+=_0x4f4caf,_0x20c9df+_0x6c39e4[_0x179aea(0x21e)]>layout_windows[_0x179aea(0x398)]&&(_0x20c9df=0x0)),_0x6c39e4[_0x179aea(0x59b)]['left']=_0x4e5b4b+'px',_0x6c39e4[_0x179aea(0x59b)]['top']=_0x20c9df+'px',_0x593329++;}}function constrainToBounds(_0x1ee096){const _0x588e5f=_0x44881d;let _0x5ac175=parseInt(_0x1ee096[_0x588e5f(0x59b)][_0x588e5f(0x265)]),_0x2226be=parseInt(_0x1ee096[_0x588e5f(0x59b)][_0x588e5f(0x5ee)]);const _0x126a0f=_0x1ee096[_0x588e5f(0x621)],_0x56f1ec=_0x1ee096[_0x588e5f(0x21e)];if(_0x5ac175<0x0)_0x5ac175=0x0;if(_0x2226be<0x0)_0x2226be=0x0;if(_0x5ac175+_0x126a0f>layout_windows[_0x588e5f(0x4df)])_0x5ac175=layout_windows[_0x588e5f(0x4df)]-_0x126a0f;if(_0x2226be+_0x56f1ec>layout_windows['clientHeight'])_0x2226be=layout_windows[_0x588e5f(0x398)]-_0x56f1ec;_0x1ee096[_0x588e5f(0x59b)]['left']=_0x5ac175+'px',_0x1ee096[_0x588e5f(0x59b)][_0x588e5f(0x5ee)]=_0x2226be+'px';}function updateElementPosition(_0x34fa67){const _0x5eec09=_0x44881d,_0x792d86=parseInt(_0x34fa67['dataset'][_0x5eec09(0x33a)]),_0x3a8678=elementos[_0x5eec09(0x552)](_0x2df165=>_0x2df165['setWindowId']==_0x792d86);if(_0x3a8678){_0x3a8678['x']=parseInt(_0x34fa67[_0x5eec09(0x59b)]['left']),_0x3a8678['y']=parseInt(_0x34fa67[_0x5eec09(0x59b)]['top']);posicionesPorPiso[_0x3a8678[_0x5eec09(0x132)]]&&(posicionesPorPiso[_0x3a8678[_0x5eec09(0x132)]][_0x3a8678[_0x5eec09(0x33a)]]={'x':_0x3a8678['x'],'y':_0x3a8678['y']});const _0x1d2690=extraElements[_0x5eec09(0x3a2)](_0x315f8d=>_0x315f8d['setWindowId']==_0x792d86);_0x1d2690!==-0x1&&(extraElements[_0x1d2690]['x']=_0x3a8678['x'],extraElements[_0x1d2690]['y']=_0x3a8678['y']),console['log'](_0x5eec09(0x184),_0x3a8678[_0x5eec09(0x574)],'a',_0x3a8678['x'],_0x3a8678['y']);}}function addDragEvents(_0x1300e6){const _0x209cb7=_0x44881d;_0x1300e6[_0x209cb7(0x276)](_0x209cb7(0x26d),function(_0xad23a6){const _0x52af11=_0x209cb7;if(editMode)return;if(_0xad23a6[_0x52af11(0x278)][_0x52af11(0x12b)]('.menu-options')||_0xad23a6[_0x52af11(0x278)]['closest'](_0x52af11(0x408)))return;const _0x518b78=parseInt(_0x1300e6[_0x52af11(0x38a)][_0x52af11(0x33a)]),_0x36f6a0=elementos['find'](_0x298faf=>_0x298faf['setWindowId']==_0x518b78);_0x36f6a0&&(_0x36f6a0['setWindowType']==_0x52af11(0x4aa)||_0x36f6a0[_0x52af11(0x527)]==_0x52af11(0x3b4)||_0x36f6a0[_0x52af11(0x527)]=='room'||_0x36f6a0[_0x52af11(0x527)]=='chair')&&clickMesa(_0x36f6a0,0x1);}),_0x1300e6['addEventListener'](_0x209cb7(0x11e),function(_0x1b13a9){const _0x224783=_0x209cb7;if(!editMode)return;currentDrag=_0x1300e6,offsetX=_0x1b13a9[_0x224783(0x298)]-parseInt(_0x1300e6[_0x224783(0x59b)]['left']),offsetY=_0x1b13a9[_0x224783(0x304)]-parseInt(_0x1300e6[_0x224783(0x59b)][_0x224783(0x5ee)]),_0x1300e6[_0x224783(0x59b)][_0x224783(0x22e)]=0x3e8,dragStartX=_0x1b13a9[_0x224783(0x298)],dragStartY=_0x1b13a9[_0x224783(0x304)],isDraggingMoved=![];}),document[_0x209cb7(0x276)](_0x209cb7(0x1b2),function(_0x2ddb33){const _0x2e1a57=_0x209cb7;if(currentDrag&&editMode){const _0x31cb81=_0x2ddb33[_0x2e1a57(0x298)]-offsetX,_0x49b3d7=_0x2ddb33['clientY']-offsetY;currentDrag[_0x2e1a57(0x59b)][_0x2e1a57(0x265)]=_0x31cb81+'px',currentDrag['style'][_0x2e1a57(0x5ee)]=_0x49b3d7+'px',!isDraggingMoved&&(Math[_0x2e1a57(0x4c8)](_0x2ddb33[_0x2e1a57(0x298)]-dragStartX)>0x5||Math['abs'](_0x2ddb33[_0x2e1a57(0x304)]-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document[_0x209cb7(0x276)]('mouseup',function(_0x1b0703){const _0x411748=_0x209cb7;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x411748(0x59b)][_0x411748(0x22e)]='',currentDrag=null);}),_0x1300e6[_0x209cb7(0x276)](_0x209cb7(0x3cd),function(_0x1c9495){const _0x554319=_0x209cb7;if(!editMode)return;currentDrag=_0x1300e6;const _0x42685a=_0x1c9495['touches'][0x0];offsetX=_0x42685a[_0x554319(0x298)]-parseInt(_0x1300e6[_0x554319(0x59b)][_0x554319(0x265)]),offsetY=_0x42685a[_0x554319(0x304)]-parseInt(_0x1300e6[_0x554319(0x59b)][_0x554319(0x5ee)]),_0x1300e6[_0x554319(0x59b)][_0x554319(0x22e)]=0x3e8,dragStartX=_0x42685a[_0x554319(0x298)],dragStartY=_0x42685a[_0x554319(0x304)],isDraggingMoved=![],_0x1c9495[_0x554319(0x17d)]();}),document[_0x209cb7(0x276)](_0x209cb7(0x2c2),function(_0x4a1028){const _0x14aa18=_0x209cb7;if(currentDrag&&editMode){const _0x534c5c=_0x4a1028[_0x14aa18(0x561)][0x0],_0x44ba1f=_0x534c5c[_0x14aa18(0x298)]-offsetX,_0x23db9d=_0x534c5c[_0x14aa18(0x304)]-offsetY;currentDrag['style'][_0x14aa18(0x265)]=_0x44ba1f+'px',currentDrag[_0x14aa18(0x59b)][_0x14aa18(0x5ee)]=_0x23db9d+'px',!isDraggingMoved&&(Math[_0x14aa18(0x4c8)](_0x534c5c['clientX']-dragStartX)>0x5||Math[_0x14aa18(0x4c8)](_0x534c5c[_0x14aa18(0x304)]-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x4a1028['preventDefault']();}}),document[_0x209cb7(0x276)](_0x209cb7(0x5aa),function(_0xcea0b7){currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag['style']['zIndex']='',currentDrag=null);});}async function clickMesa(_0x56681e,_0x374ae9=0x1){const _0x5b1bbc=_0x44881d,_0x1582e1=_0x56681e[_0x5b1bbc(0x33a)],_0x49a40c=getValidatedWindowAndShift(_0x1582e1),{currentWindowShift:_0x3e0c47}=_0x49a40c;if(!_0x3e0c47)updateWindowShiftDisplay(_0x1582e1);else{const _0xca8be8=_0x5b1bbc(0x451)+_0x1582e1;await switchTab(_0xca8be8,0x1);}_0x374ae9==0x1&&hideModalLayout();}function toggleEditMode(){const _0x5b1a38=_0x44881d;editMode=!editMode;const _0x104ed0=document[_0x5b1a38(0x1a8)](_0x5b1a38(0x54f));_0x104ed0['textContent']=editMode?'Guardar':_0x5b1a38(0x364);const _0x4dcc06=document[_0x5b1a38(0x1a8)](_0x5b1a38(0x355));_0x4dcc06&&(_0x4dcc06[_0x5b1a38(0x59b)]['display']=editMode?_0x5b1a38(0x434):_0x5b1a38(0x190)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x41017d=_0x44881d;if(!editMode)return;const _0x550a6d=document[_0x41017d(0x1a8)]('newElementType'),_0x4b8db5=_0x550a6d[_0x41017d(0x61e)];let _0x5a0df3='';switch(_0x4b8db5){case _0x41017d(0x2cc):_0x5a0df3='';break;case _0x41017d(0x176):_0x5a0df3='';break;case _0x41017d(0x173):_0x5a0df3='';break;case'element-bathroom-women':_0x5a0df3='';break;case _0x41017d(0x19a):_0x5a0df3='';break;case'element-clock':_0x5a0df3='';break;case _0x41017d(0x630):_0x5a0df3='';break;case _0x41017d(0x1c0):_0x5a0df3='';break;case _0x41017d(0x4da):_0x5a0df3='';break;case _0x41017d(0x43a):_0x5a0df3='';break;case _0x41017d(0x15a):_0x5a0df3='';break;case _0x41017d(0x5fe):_0x5a0df3='';break;case _0x41017d(0x436):_0x5a0df3='';break;default:_0x5a0df3='';}const _0x287d6a=document[_0x41017d(0x1a8)](_0x41017d(0x17b)),_0x574138=_0x287d6a[_0x41017d(0x61e)],_0x478be8=generateUniqId(),_0x235b1d=0xa,_0x23e741=0xa,_0x51f248={'setWindowId':_0x478be8,'setWindowType':_0x4b8db5,'setWindowName':_0x5a0df3,'x':_0x235b1d,'y':_0x23e741,'zona':_0x287d6a[_0x41017d(0x39f)][_0x287d6a[_0x41017d(0x113)]][_0x41017d(0x2c5)],'floorId':_0x574138};[_0x41017d(0x4aa),_0x41017d(0x3b4),_0x41017d(0x6a0),_0x41017d(0x15e)][_0x41017d(0x29b)](_0x4b8db5)&&(_0x51f248[_0x41017d(0x26c)]=_0x41017d(0x21f),_0x51f248[_0x41017d(0x3cf)]=_0x41017d(0x29c)),extraElements[_0x41017d(0x318)](_0x51f248),!posicionesPorPiso[_0x574138]&&(posicionesPorPiso[_0x574138]={}),posicionesPorPiso[_0x574138][_0x478be8]={'x':_0x235b1d,'y':_0x23e741},cargarVentanas(myCompany[_0x41017d(0x448)][0x0][_0x41017d(0x391)],_0x574138);}function saveLayoutState(){const _0x27905a=_0x44881d;createCartStore('')[_0x27905a(0x5df)](_0x444eb3=>{const _0x20e948=_0x27905a,_0x515575=_0x444eb3[_0x20e948(0x296)]([_0x20e948(0x45e)],'readwrite'),_0x598404=_0x515575['objectStore']('layoutState'),_0x4d812d={'id':_0x20e948(0x31d),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x1a4905=_0x598404[_0x20e948(0x275)](_0x4d812d);_0x1a4905['onsuccess']=function(){const _0x2d510b=_0x20e948;console[_0x2d510b(0x37b)](_0x2d510b(0x347));},_0x1a4905[_0x20e948(0x3f8)]=function(_0x3f5014){const _0x5bc346=_0x20e948;console[_0x5bc346(0x103)]('Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:',_0x3f5014['target'][_0x5bc346(0x103)]);};});}async function loadLayoutState(){const _0x5dbb5f=_0x44881d;try{const _0x336bda=await createCartStore(''),_0x5763f6=await new Promise((_0x4d0bcc,_0xe63330)=>{const _0x16ee79=_0x1a69,_0x5cf753=_0x336bda[_0x16ee79(0x296)](['layoutState'],_0x16ee79(0x533)),_0x56c7c9=_0x5cf753['objectStore'](_0x16ee79(0x45e)),_0x3ba9cc=_0x56c7c9[_0x16ee79(0x3e8)](_0x16ee79(0x31d));_0x3ba9cc[_0x16ee79(0x4d4)]=()=>_0x4d0bcc(_0x3ba9cc[_0x16ee79(0x53b)]),_0x3ba9cc[_0x16ee79(0x3f8)]=_0x394c0b=>_0xe63330(_0x394c0b[_0x16ee79(0x278)][_0x16ee79(0x103)]);});_0x5763f6&&(elementos=_0x5763f6[_0x5dbb5f(0x134)]||[],extraElements=_0x5763f6['extraElements']||[],posicionesPorPiso=_0x5763f6[_0x5dbb5f(0x5a4)]||{},console['log'](_0x5dbb5f(0x1bb)));}catch(_0x4aa417){console[_0x5dbb5f(0x103)](_0x5dbb5f(0x668),_0x4aa417);throw _0x4aa417;}}function saveLayoutOnline(){const _0x2e8378=_0x44881d;if(!isOnline()){console[_0x2e8378(0x37b)](_0x2e8378(0x373));return;}let _0x408fef={'id':_0x2e8378(0x31d),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x54aeb8={'layout':_0x408fef,'setToken':myCompany[_0x2e8378(0x388)]};fetch(_0x2e8378(0x559),{'method':_0x2e8378(0x65e),'headers':{'Content-Type':_0x2e8378(0x16f)},'body':JSON[_0x2e8378(0x453)](_0x54aeb8)})[_0x2e8378(0x5df)](_0x25a456=>{const _0x2d542d=_0x2e8378;if(!_0x25a456['ok'])throw new Error(_0x2d542d(0x1dd)+_0x25a456[_0x2d542d(0x2b9)]);return _0x25a456[_0x2d542d(0x228)]();})[_0x2e8378(0x5df)](_0x5d96ef=>{const _0x11b6f4=_0x2e8378;if(!_0x5d96ef[_0x11b6f4(0x135)])throw new Error(_0x5d96ef[_0x11b6f4(0x221)]||_0x11b6f4(0x59d));console['log'](_0x11b6f4(0x68b));})[_0x2e8378(0x35b)](_0x27f4bd=>{const _0x90bdec=_0x2e8378;console[_0x90bdec(0x103)]('Error\x20al\x20guardar\x20el\x20layout\x20online:',_0x27f4bd);});}function setActiveTab(_0x3bb74c){const _0x5db632=_0x44881d,_0x5a4615=document[_0x5db632(0x6ce)](_0x5db632(0x44a)),_0x5626d2=document[_0x5db632(0x6ce)](_0x5db632(0x4b9));_0x5a4615[_0x5db632(0x570)](_0x500ff5=>{const _0x30eeda=_0x5db632;_0x500ff5[_0x30eeda(0x4cb)]('data-tab')===_0x3bb74c?_0x500ff5[_0x30eeda(0x14a)][_0x30eeda(0x529)](_0x30eeda(0x1c5)):_0x500ff5[_0x30eeda(0x14a)]['remove'](_0x30eeda(0x1c5));}),_0x5626d2[_0x5db632(0x570)](_0x11a83c=>{const _0x35cfa3=_0x5db632;_0x11a83c['id']===_0x35cfa3(0x451)+_0x3bb74c?_0x11a83c[_0x35cfa3(0x14a)][_0x35cfa3(0x529)](_0x35cfa3(0x1c5)):_0x11a83c[_0x35cfa3(0x14a)]['remove'](_0x35cfa3(0x1c5));});}document[_0x44881d(0x6ce)](_0x44881d(0x44a))[_0x44881d(0x570)](_0x55b036=>{const _0x846c6c=_0x44881d;_0x55b036[_0x846c6c(0x276)](_0x846c6c(0x26d),function(){const _0x30a228=_0x846c6c,_0x42d022=this[_0x30a228(0x4cb)]('data-tab');setActiveTab(_0x42d022);});});function createTabsEnvironments(){const _0x4c69ee=_0x44881d,_0x1cf32d=document[_0x4c69ee(0x5cf)](_0x4c69ee(0x130));_0x1cf32d['innerHTML']='';const _0x34265f=document[_0x4c69ee(0x291)](_0x4c69ee(0x5ef));_0x34265f[_0x4c69ee(0x61f)]=_0x4c69ee(0x58b);const _0x32ae8e=document[_0x4c69ee(0x1a8)](_0x4c69ee(0x17b));if(!_0x32ae8e){console[_0x4c69ee(0x103)](_0x4c69ee(0x279));return;}const _0x3fa1a7=Array[_0x4c69ee(0x2af)](_0x32ae8e[_0x4c69ee(0x39f)]),_0x435771=_0x3fa1a7[_0x4c69ee(0x552)](_0x30b4ab=>_0x30b4ab[_0x4c69ee(0x494)])||_0x3fa1a7[0x0],_0x4c3c39=document[_0x4c69ee(0x291)](_0x4c69ee(0x69a));_0x4c3c39[_0x4c69ee(0x61f)]=_0x4c69ee(0x30a),_0x4c3c39['textContent']=_0x435771[_0x4c69ee(0x2c5)],_0x34265f[_0x4c69ee(0x613)](_0x4c3c39),_0x3fa1a7[_0x4c69ee(0x570)](_0x3b3827=>{const _0x12db44=_0x4c69ee;if(_0x3b3827===_0x435771)return;const _0x3577e7=document[_0x12db44(0x291)](_0x12db44(0x517));_0x3577e7[_0x12db44(0x61f)]='tabs-environments-separator',_0x3577e7[_0x12db44(0x5b1)]='|',_0x34265f[_0x12db44(0x613)](_0x3577e7);const _0x180e07=document[_0x12db44(0x291)](_0x12db44(0x69a));_0x180e07[_0x12db44(0x61f)]=_0x12db44(0x1cc),_0x180e07[_0x12db44(0x5b1)]=_0x3b3827['text'],_0x180e07[_0x12db44(0x276)](_0x12db44(0x26d),function(){const _0x58e1b1=_0x12db44;handleTabSelection(_0x3b3827[_0x58e1b1(0x61e)]);}),_0x34265f[_0x12db44(0x613)](_0x180e07);}),_0x1cf32d['appendChild'](_0x34265f);}async function handleTabSelection(_0x4fc2b0){const _0x2191c6=_0x44881d;hideModalLayout(),document[_0x2191c6(0x1a8)](_0x2191c6(0x17b))['value']=_0x4fc2b0,await changeEnvironments(_0x4fc2b0),showModalLayout();}async function resetWindowPositions(_0x53fd59,_0x287e51){const _0x43f410=_0x44881d,_0x4b857c=myCompany[_0x43f410(0x319)][_0x43f410(0x2c8)](_0x3b1f9c=>_0x3b1f9c[_0x43f410(0x391)]==_0x53fd59&&_0x3b1f9c[_0x43f410(0x17b)]==_0x287e51);_0x4b857c[_0x43f410(0x570)](_0x3399e2=>{delete _0x3399e2['x'],delete _0x3399e2['y'];}),posicionesPorPiso[_0x287e51]&&(_0x4b857c[_0x43f410(0x570)](_0x32e7f2=>{const _0x198560=_0x43f410;delete posicionesPorPiso[_0x287e51][_0x32e7f2[_0x198560(0x33a)]];}),Object['keys'](posicionesPorPiso[_0x287e51])[_0x43f410(0x506)]===0x0&&delete posicionesPorPiso[_0x287e51]);}function openMenu(_0x142840,_0x3b319d){const _0x58696c=_0x44881d,_0x5d07f8=document[_0x58696c(0x5cf)](_0x58696c(0x63f));if(_0x5d07f8)_0x5d07f8[_0x58696c(0x1c7)]();const {windowObj:_0x5a30bb}=getValidatedWindowAndShift(_0x142840),_0x1ca0ee=layout_windows,_0x1963af=document[_0x58696c(0x291)]('ul');_0x1963af['className']=_0x58696c(0x449);const _0x51f989=[];_0x5a30bb[_0x58696c(0x3cf)]!==_0x58696c(0x29c)&&_0x51f989[_0x58696c(0x318)]({'icon':_0x58696c(0x4e3),'label':_0x58696c(0x17e),'handler':releaseWindow});_0x51f989['forEach'](({icon:_0x2130f3,label:_0x1ae4ff,handler:_0x5cb912})=>{const _0x36a02d=_0x58696c,_0x163f26=document['createElement']('li');_0x163f26['innerHTML']=_0x36a02d(0x545)+_0x2130f3+_0x36a02d(0x6b5)+_0x1ae4ff,_0x163f26['addEventListener']('click',_0x1c9795=>{const _0x5c4849=_0x36a02d;_0x1c9795[_0x5c4849(0x39e)](),_0x5cb912(_0x142840),_0x1963af['remove']();}),_0x163f26[_0x36a02d(0x276)](_0x36a02d(0x547),()=>_0x163f26[_0x36a02d(0x59b)][_0x36a02d(0x5ea)]='#f0f0f0'),_0x163f26['addEventListener'](_0x36a02d(0x65d),()=>_0x163f26[_0x36a02d(0x59b)][_0x36a02d(0x5ea)]=''),_0x1963af[_0x36a02d(0x613)](_0x163f26);});const _0x276cfb=_0x1ca0ee['getBoundingClientRect'](),_0x2da4dd=_0x3b319d[_0x58696c(0x298)]-_0x276cfb[_0x58696c(0x265)],_0x5ac137=_0x3b319d[_0x58696c(0x304)]-_0x276cfb[_0x58696c(0x5ee)];_0x1963af[_0x58696c(0x59b)][_0x58696c(0x265)]=_0x2da4dd+'px',_0x1963af[_0x58696c(0x59b)][_0x58696c(0x5ee)]=_0x5ac137+'px',_0x1ca0ee[_0x58696c(0x613)](_0x1963af);const _0x481843=_0x17bbd4=>{const _0x26e7be=_0x58696c;!_0x1963af[_0x26e7be(0x3f2)](_0x17bbd4[_0x26e7be(0x278)])&&(_0x1963af[_0x26e7be(0x1c7)](),document[_0x26e7be(0x5f1)](_0x26e7be(0x26d),_0x481843));};document[_0x58696c(0x276)](_0x58696c(0x26d),_0x481843);}function editWindow(_0x5850a6){const _0x32dc61=_0x44881d;console[_0x32dc61(0x37b)](_0x32dc61(0x69f),_0x5850a6);}function deleteWindow(_0x504e0a){const _0x9b2c27=_0x44881d;console[_0x9b2c27(0x37b)](_0x9b2c27(0x2a7),_0x504e0a);}async function releaseWindow(_0x4d4ec0){const _0x1b86a6=_0x44881d,_0x5bb25d=getValidatedWindowAndShift(_0x4d4ec0),{windowObj:_0x1ad8cd,currentWindowShift:_0x45fdc5}=_0x5bb25d;if(_0x45fdc5){_0x1ad8cd[_0x1b86a6(0x3df)]=nowWithMillisecondsForServer();const _0x142521=carts[_0x4d4ec0]||[],_0x5343cc=_0x142521[_0x1b86a6(0x484)](_0x598232=>_0x598232[_0x1b86a6(0x2fe)]!='');if(!_0x5343cc){_0x1ad8cd[_0x1b86a6(0x3cf)]=_0x1b86a6(0x29c);const _0xddf543=new Date();_0x45fdc5[_0x1b86a6(0x6cb)]='0',_0x45fdc5[_0x1b86a6(0x368)]=_0xddf543,await apiERPsyncWindows();const _0x37a9db=await createCartStore('');await saveCompanyToIndexedDB(company,_0x37a9db);const _0x5239ba=document[_0x1b86a6(0x1a8)](_0x1b86a6(0x17b))[_0x1b86a6(0x61e)];await handleTabSelection(_0x5239ba);}}}function showModalCreateWindow(){const _0x2b58c8=_0x44881d;hideModalLayout();const _0x3680d9=document[_0x2b58c8(0x1a8)]('detalleModalCreateWindow'),_0x2597db=document[_0x2b58c8(0x1a8)]('modalOverlayCreateWindow');_0x3680d9[_0x2b58c8(0x14a)][_0x2b58c8(0x529)](_0x2b58c8(0x1c5)),_0x2597db[_0x2b58c8(0x59b)][_0x2b58c8(0x2a2)]='block';}function hideModalCreateWindow(){const _0x4d31c3=_0x44881d,_0x1810dc=document[_0x4d31c3(0x1a8)](_0x4d31c3(0x32b)),_0x811904=document[_0x4d31c3(0x1a8)]('modalOverlayCreateWindow');_0x1810dc[_0x4d31c3(0x14a)][_0x4d31c3(0x1c7)]('active'),_0x811904[_0x4d31c3(0x59b)]['display']=_0x4d31c3(0x190);}document[_0x44881d(0x1a8)](_0x44881d(0x3ba))[_0x44881d(0x276)](_0x44881d(0x26d),hideModalCreateWindow),document[_0x44881d(0x1a8)](_0x44881d(0x586))[_0x44881d(0x276)](_0x44881d(0x26d),_0x58e46d=>{const _0x214ea4=_0x44881d;_0x58e46d[_0x214ea4(0x278)]==_0x58e46d[_0x214ea4(0x45f)]&&_0x58e46d[_0x214ea4(0x39e)]();});function showModalShift(){const _0x589356=_0x44881d,_0x33779b=document[_0x589356(0x1a8)](_0x589356(0x16d)),_0x2e4fb9=document[_0x589356(0x1a8)](_0x589356(0x674));_0x33779b[_0x589356(0x14a)]['add'](_0x589356(0x1c5)),_0x2e4fb9[_0x589356(0x59b)][_0x589356(0x2a2)]=_0x589356(0x434);}function hideModalShift(){const _0x45f6c6=_0x44881d,_0x252ad6=document[_0x45f6c6(0x1a8)](_0x45f6c6(0x16d)),_0x3cd658=document[_0x45f6c6(0x1a8)](_0x45f6c6(0x674));_0x252ad6[_0x45f6c6(0x14a)][_0x45f6c6(0x1c7)](_0x45f6c6(0x1c5)),_0x3cd658['style']['display']=_0x45f6c6(0x190);}document[_0x44881d(0x1a8)](_0x44881d(0x1fa))[_0x44881d(0x276)](_0x44881d(0x26d),hideModalShift),document[_0x44881d(0x1a8)](_0x44881d(0x674))[_0x44881d(0x276)](_0x44881d(0x26d),_0x11282f=>{const _0x5660ed=_0x44881d;_0x11282f[_0x5660ed(0x278)]==_0x11282f[_0x5660ed(0x45f)]&&_0x11282f[_0x5660ed(0x39e)]();});async function updateShiftDisplay(){const _0x2bb046=_0x44881d;if(!isOnline()){ntfShow(_0x2bb046(0x20c));return;}const _0xcddc10=document[_0x2bb046(0x1a8)]('setBranchId')[_0x2bb046(0x61e)],_0x2facee=document[_0x2bb046(0x1a8)](_0x2bb046(0x585)),_0x120fc1=myCompany[_0x2bb046(0x5d0)],_0x2bdf3f=myCompany[_0x2bb046(0x1a9)]['find'](_0x232cab=>_0x232cab[_0x2bb046(0x616)]==_0x120fc1),_0x5a549a=_0x2bdf3f?_0x2bdf3f[_0x2bb046(0x4e5)]:'';_0x2facee['innerHTML']='';!myCompany[_0x2bb046(0x6bc)]&&(myCompany[_0x2bb046(0x6bc)]=[]);const _0x5db6ec=myCompany['setShifts'],_0x595be4=_0x5db6ec[_0x2bb046(0x552)](_0x38a6bf=>_0x38a6bf['setBranchId']==_0xcddc10&&_0x38a6bf[_0x2bb046(0x6cb)]=='1');if(!_0x595be4){const _0x58b98e=document['createElement'](_0x2bb046(0x5ef));_0x58b98e[_0x2bb046(0x61f)]=_0x2bb046(0x394);const _0x588739=document[_0x2bb046(0x291)]('div');_0x588739[_0x2bb046(0x61f)]='shift-open-leftCol';const _0x5a272f=document[_0x2bb046(0x291)](_0x2bb046(0x342));_0x5a272f['className']=_0x2bb046(0x5dc),_0x5a272f[_0x2bb046(0x4b7)]=_0x2bb046(0x1de),_0x5a272f[_0x2bb046(0x4ae)]=_0x2bb046(0x38b),_0x588739[_0x2bb046(0x613)](_0x5a272f);const _0x5d9e3e=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x5d9e3e[_0x2bb046(0x61f)]=_0x2bb046(0x3dd);const _0x4816a8=document[_0x2bb046(0x291)]('h2');_0x4816a8[_0x2bb046(0x61f)]=_0x2bb046(0x43c),_0x4816a8[_0x2bb046(0x5b1)]=_0x2bb046(0x38b);const _0x1b7ca4=document['createElement']('div');_0x1b7ca4[_0x2bb046(0x61f)]=_0x2bb046(0x582);const _0x4b0ff9=document[_0x2bb046(0x291)](_0x2bb046(0x187));_0x4b0ff9[_0x2bb046(0x61f)]=_0x2bb046(0x378),_0x4b0ff9[_0x2bb046(0x5b1)]='Monto\x20Inicial:';const _0x95a2ee=document[_0x2bb046(0x291)]('input');_0x95a2ee['className']=_0x2bb046(0x205),_0x95a2ee[_0x2bb046(0xfa)]=_0x2bb046(0x589),_0x95a2ee['id']=_0x2bb046(0x34a),_0x95a2ee[_0x2bb046(0x5b4)]=_0x5a549a+_0x2bb046(0x525),_0x1b7ca4[_0x2bb046(0x613)](_0x4b0ff9),_0x1b7ca4[_0x2bb046(0x613)](_0x95a2ee);const _0x1f8f88=document['createElement'](_0x2bb046(0x5ef));_0x1f8f88[_0x2bb046(0x61f)]='shift-open-btnContainer';const _0x316cd3=document[_0x2bb046(0x291)](_0x2bb046(0x69a));_0x316cd3[_0x2bb046(0x61f)]=_0x2bb046(0x282),_0x316cd3['id']='btnShiftStart',_0x316cd3[_0x2bb046(0x5b1)]=_0x2bb046(0x194),_0x316cd3['onclick']=openShift,_0x1f8f88[_0x2bb046(0x613)](_0x316cd3),_0x5d9e3e[_0x2bb046(0x613)](_0x4816a8),_0x5d9e3e[_0x2bb046(0x613)](_0x1b7ca4),_0x5d9e3e[_0x2bb046(0x613)](_0x1f8f88),_0x58b98e[_0x2bb046(0x613)](_0x588739),_0x58b98e[_0x2bb046(0x613)](_0x5d9e3e),_0x2facee[_0x2bb046(0x613)](_0x58b98e);}else{const _0x46bdfb=getUserPermissionApiERP(0xa);let _0x362f78='',_0x4feebd=[];showLoadingModal();if(_0x46bdfb==0x1)try{const _0x5cc560=myCompany[_0x2bb046(0x6a4)],_0x5313f1={'apiPOS_getShiftDetails':0x1,'setToken':myCompany[_0x2bb046(0x388)],'setShiftId':_0x595be4[_0x2bb046(0x2ca)]},_0x3f36d7=await fetch(_0x5cc560,{'method':'POST','headers':{'Content-Type':_0x2bb046(0x62f)},'body':JSON[_0x2bb046(0x453)](_0x5313f1)}),_0x4e3fff=await _0x3f36d7[_0x2bb046(0x228)]();_0x4e3fff['success']&&_0x4e3fff[_0x2bb046(0x221)][_0x2bb046(0x661)]&&(_0x4feebd=_0x4e3fff['message']['shiftDetails']);}catch(_0x3bb418){ntfShow('Error\x20en\x20la\x20solicitud'),console['error'](_0x2bb046(0x27e),_0x3bb418);}else _0x362f78='hidden';hideLoadingModal();const _0x1c1bed=document[_0x2bb046(0x291)]('div');_0x1c1bed[_0x2bb046(0x61f)]='shift-close-container';const _0x4cacb2=document['createElement'](_0x2bb046(0x5ef));_0x4cacb2[_0x2bb046(0x61f)]='shift-close-row1';const _0x2f086c=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x2f086c[_0x2bb046(0x61f)]=_0x2bb046(0x23a);const _0x517cb3=document[_0x2bb046(0x291)]('img');_0x517cb3['src']=_0x2bb046(0x623),_0x517cb3[_0x2bb046(0x4ae)]=_0x2bb046(0x437),_0x517cb3[_0x2bb046(0x61f)]='shift-close-img',_0x2f086c[_0x2bb046(0x613)](_0x517cb3);const _0x52e358=document[_0x2bb046(0x291)]('div');_0x52e358[_0x2bb046(0x61f)]=_0x2bb046(0x3e2);const _0x1353d3=document[_0x2bb046(0x291)]('h2');_0x1353d3[_0x2bb046(0x328)]=_0x2bb046(0x15f),_0x1353d3[_0x2bb046(0x61f)]=_0x2bb046(0x34b),_0x52e358['appendChild'](_0x1353d3),_0x4cacb2[_0x2bb046(0x613)](_0x2f086c),_0x4cacb2[_0x2bb046(0x613)](_0x52e358),_0x1c1bed['appendChild'](_0x4cacb2);const _0x563486=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x563486[_0x2bb046(0x61f)]=_0x2bb046(0x530);const _0x3b248c=document['createElement'](_0x2bb046(0x5ef));_0x3b248c['className']=_0x2bb046(0xf3);const _0x306995=document[_0x2bb046(0x291)](_0x2bb046(0x187));_0x306995['textContent']='Cajero:',_0x306995[_0x2bb046(0x61f)]=_0x2bb046(0x652),_0x3b248c[_0x2bb046(0x613)](_0x306995);const _0x1cd382=document['createElement'](_0x2bb046(0x342));_0x1cd382[_0x2bb046(0x4b7)]='./img/icon-shift-user.svg',_0x1cd382['alt']=_0x2bb046(0x58d),_0x1cd382['className']=_0x2bb046(0x27f),_0x3b248c[_0x2bb046(0x613)](_0x1cd382);const _0x2ad78d=document['createElement'](_0x2bb046(0x517));_0x2ad78d['textContent']=myCompany[_0x2bb046(0x1af)][_0x2bb046(0x3cc)],_0x2ad78d[_0x2bb046(0x61f)]='shift-close-infoSpan',_0x3b248c['appendChild'](_0x2ad78d);const _0x10812f=document['createElement']('div');_0x10812f[_0x2bb046(0x61f)]='shift-close-info-col';const _0xee964c=document['createElement'](_0x2bb046(0x187));_0xee964c['textContent']=_0x2bb046(0x397),_0xee964c[_0x2bb046(0x61f)]=_0x2bb046(0x652),_0x10812f['appendChild'](_0xee964c);const _0x3236ce=document[_0x2bb046(0x291)](_0x2bb046(0x342));_0x3236ce[_0x2bb046(0x4b7)]=_0x2bb046(0x6aa),_0x3236ce[_0x2bb046(0x4ae)]='Apertura',_0x3236ce[_0x2bb046(0x61f)]=_0x2bb046(0x27f),_0x10812f['appendChild'](_0x3236ce);const _0x16184b=new Date(_0x595be4[_0x2bb046(0x386)]),_0x5ae154=document[_0x2bb046(0x291)](_0x2bb046(0x517));_0x5ae154[_0x2bb046(0x5b1)]=_0x16184b[_0x2bb046(0x2a6)](),_0x5ae154['className']='shift-close-infoSpan',_0x10812f['appendChild'](_0x5ae154),_0x563486[_0x2bb046(0x613)](_0x3b248c),_0x563486[_0x2bb046(0x613)](_0x10812f),_0x1c1bed[_0x2bb046(0x613)](_0x563486);const _0x36bda0=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x36bda0[_0x2bb046(0x61f)]='shift-div-table\x20'+_0x362f78;const _0x3cf038=document[_0x2bb046(0x291)](_0x2bb046(0x3b4));_0x3cf038[_0x2bb046(0x61f)]='shift-table\x20'+_0x362f78,_0x3cf038[_0x2bb046(0x59b)]['width']='100%';const _0x7bdbe5=document[_0x2bb046(0x291)]('thead'),_0x11b967=document[_0x2bb046(0x291)]('tr'),_0x72eebc=['\x20','Ingresos',_0x2bb046(0x3ed),'Resultado'];_0x72eebc['forEach'](_0x5dcfb9=>{const _0x4d6c07=_0x2bb046,_0x32a569=document[_0x4d6c07(0x291)]('th');_0x5dcfb9=='Egresos'&&(_0x32a569[_0x4d6c07(0x61f)]=_0x4d6c07(0x212)),_0x32a569[_0x4d6c07(0x5b1)]=_0x5dcfb9,_0x11b967[_0x4d6c07(0x613)](_0x32a569);}),_0x7bdbe5['appendChild'](_0x11b967),_0x3cf038[_0x2bb046(0x613)](_0x7bdbe5);const _0x13cd53=document[_0x2bb046(0x291)](_0x2bb046(0x5f4));function _0x4c8fca(_0x3712ff,_0x675bdc,_0x4d03f9){const _0x21592e=_0x2bb046,_0x547c53=document[_0x21592e(0x291)]('tr'),_0x1d3491=document['createElement']('td');_0x1d3491['textContent']=_0x3712ff;const _0x5b69d3=document[_0x21592e(0x291)]('td');_0x5b69d3[_0x21592e(0x5b1)]=_0x675bdc;const _0x591112=document['createElement']('td');_0x591112[_0x21592e(0x61f)]='shift-table-expenses',_0x591112['textContent']=_0x4d03f9;const _0x4c09d6=document['createElement']('td');return _0x4c09d6['textContent']=(parseFloat(_0x675bdc)-parseFloat(_0x4d03f9))['toFixed'](0x2),_0x547c53[_0x21592e(0x613)](_0x1d3491),_0x547c53[_0x21592e(0x613)](_0x5b69d3),_0x547c53[_0x21592e(0x613)](_0x591112),_0x547c53['appendChild'](_0x4c09d6),_0x547c53;}let _0x532ba5=0x0,_0x55adcf=0x0,_0x3e0521=0x0,_0x5bcb1e=0x0;myCompany['setPayments'][_0x2bb046(0x570)](_0x5acdc9=>{const _0x3635a2=_0x2bb046;let _0x15ae9d=_0x4feebd['filter'](_0x626ba0=>_0x626ba0[_0x3635a2(0x4f4)]==0x1&&_0x626ba0[_0x3635a2(0x51f)]==_0x5acdc9[_0x3635a2(0x51f)])[_0x3635a2(0x370)]((_0x379a3b,_0x57ff00)=>_0x379a3b+parseFloat(_0x57ff00[_0x3635a2(0x2e9)]),0x0),_0x579c09=_0x4feebd[_0x3635a2(0x2c8)](_0x72bf32=>_0x72bf32[_0x3635a2(0x4f4)]==0x2&&_0x72bf32[_0x3635a2(0x51f)]==_0x5acdc9[_0x3635a2(0x51f)])['reduce']((_0x51eb1b,_0x15a429)=>_0x51eb1b+parseFloat(_0x15a429[_0x3635a2(0x2e9)]),0x0);_0x532ba5+=_0x15ae9d,_0x55adcf+=_0x579c09,(_0x5acdc9[_0x3635a2(0x51f)]==_0x3635a2(0x372)||_0x5acdc9[_0x3635a2(0x51f)]==_0x3635a2(0x590))&&(_0x3e0521=_0x15ae9d,_0x5bcb1e=_0x579c09),(_0x5acdc9[_0x3635a2(0x51f)]==_0x3635a2(0x372)||_0x5acdc9[_0x3635a2(0x51f)]=='cash'||_0x15ae9d>0x0||_0x579c09>0x0)&&_0x13cd53['appendChild'](_0x4c8fca(_0x5acdc9[_0x3635a2(0x441)],parseFloat(_0x15ae9d)[_0x3635a2(0x4cc)](0x2),parseFloat(_0x579c09)[_0x3635a2(0x4cc)](0x2)));});const _0x53833e=_0x4c8fca(_0x2bb046(0x2b1),parseFloat(_0x532ba5)[_0x2bb046(0x4cc)](0x2),parseFloat(_0x55adcf)[_0x2bb046(0x4cc)](0x2));_0x53833e[_0x2bb046(0x41e)][_0x2bb046(0x5b1)]=(parseFloat(_0x532ba5)-parseFloat(_0x55adcf))[_0x2bb046(0x4cc)](0x2),_0x13cd53[_0x2bb046(0x613)](_0x53833e),_0x3cf038['appendChild'](_0x13cd53),_0x36bda0['appendChild'](_0x3cf038),_0x1c1bed[_0x2bb046(0x613)](_0x36bda0);const _0x51f572=document['createElement']('div');_0x51f572[_0x2bb046(0x61f)]=_0x2bb046(0x56a)+_0x362f78;const _0x3d2123=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x3d2123[_0x2bb046(0x61f)]=_0x2bb046(0xf3);const _0x20509a=document['createElement'](_0x2bb046(0x187));_0x20509a['textContent']=_0x2bb046(0x592),_0x20509a[_0x2bb046(0x61f)]='shift-close-infoLabel',_0x3d2123['appendChild'](_0x20509a);const _0x3532cf=document[_0x2bb046(0x291)]('span');_0x3532cf['textContent']=_0x5a549a+'\x20'+parseFloat(_0x595be4[_0x2bb046(0x614)])[_0x2bb046(0x4cc)](0x2),_0x3532cf[_0x2bb046(0x61f)]=_0x2bb046(0x6b3),_0x3d2123[_0x2bb046(0x613)](_0x3532cf);const _0xfa4723=document['createElement']('div');_0xfa4723[_0x2bb046(0x61f)]=_0x2bb046(0xf3);const _0x5bfba4=document[_0x2bb046(0x291)]('label');_0x5bfba4[_0x2bb046(0x5b1)]=_0x2bb046(0x11d),_0x5bfba4[_0x2bb046(0x61f)]=_0x2bb046(0x609),_0xfa4723[_0x2bb046(0x613)](_0x5bfba4);const _0x28dcd5=_0x3e0521-_0x5bcb1e,_0x2c9943=document[_0x2bb046(0x291)](_0x2bb046(0x517));_0x2c9943['textContent']=_0x5a549a+'\x20'+parseFloat(_0x28dcd5)[_0x2bb046(0x4cc)](0x2),_0x2c9943[_0x2bb046(0x61f)]='shift-close-infoValue',_0xfa4723[_0x2bb046(0x613)](_0x2c9943),_0x51f572[_0x2bb046(0x613)](_0x3d2123),_0x51f572[_0x2bb046(0x613)](_0xfa4723);const _0x30f6dc=document['createElement'](_0x2bb046(0x5ef));_0x30f6dc[_0x2bb046(0x61f)]=_0x2bb046(0x56a)+_0x362f78;const _0x2b2ae2=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x2b2ae2[_0x2bb046(0x61f)]=_0x2bb046(0xf3);const _0x5f56a4=document['createElement'](_0x2bb046(0x187));_0x5f56a4['textContent']=_0x2bb046(0x4e2),_0x5f56a4[_0x2bb046(0x61f)]=_0x2bb046(0x609),_0x2b2ae2[_0x2bb046(0x613)](_0x5f56a4);const _0x4cc885=(parseFloat(_0x595be4[_0x2bb046(0x614)])+parseFloat(_0x28dcd5))[_0x2bb046(0x4cc)](0x2),_0x55fe24=document['createElement'](_0x2bb046(0x517));_0x55fe24[_0x2bb046(0x5b1)]=_0x5a549a+'\x20'+_0x4cc885,_0x55fe24[_0x2bb046(0x61f)]=_0x2bb046(0x6b3);const _0x557ca6=document[_0x2bb046(0x291)]('input');_0x557ca6[_0x2bb046(0xfa)]=_0x2bb046(0x32e),_0x557ca6['id']=_0x2bb046(0x524),_0x557ca6[_0x2bb046(0x61e)]=_0x4cc885,_0x2b2ae2['appendChild'](_0x55fe24),_0x2b2ae2['appendChild'](_0x557ca6);const _0x3c6b3a=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x3c6b3a[_0x2bb046(0x61f)]=_0x2bb046(0xf3);const _0x4c8040=document[_0x2bb046(0x291)](_0x2bb046(0x187));_0x4c8040['textContent']=_0x2bb046(0x562),_0x4c8040['className']=_0x2bb046(0x609),_0x3c6b3a['appendChild'](_0x4c8040);const _0x57f6ce=document['createElement'](_0x2bb046(0x526));_0x57f6ce[_0x2bb046(0xfa)]='number',_0x57f6ce['id']='setShiftCount',_0x57f6ce[_0x2bb046(0x61f)]=_0x2bb046(0x4c7),_0x3c6b3a[_0x2bb046(0x613)](_0x57f6ce),_0x30f6dc[_0x2bb046(0x613)](_0x2b2ae2),_0x30f6dc[_0x2bb046(0x613)](_0x3c6b3a),_0x1c1bed[_0x2bb046(0x613)](_0x51f572),_0x1c1bed[_0x2bb046(0x613)](_0x30f6dc);const _0x2efe7f=document['createElement'](_0x2bb046(0x5ef));_0x2efe7f[_0x2bb046(0x61f)]=_0x2bb046(0x16b);const _0x307c1d=document[_0x2bb046(0x291)]('label');_0x307c1d[_0x2bb046(0x5b1)]=_0x2bb046(0x564),_0x307c1d[_0x2bb046(0x61f)]=_0x2bb046(0x268),_0x2efe7f[_0x2bb046(0x613)](_0x307c1d);const _0x59a7b0=document[_0x2bb046(0x291)]('textarea');_0x59a7b0['style'][_0x2bb046(0x369)]=_0x2bb046(0x295),_0x59a7b0['id']='setShiftNotes',_0x59a7b0['rows']='2',_0x59a7b0[_0x2bb046(0x61f)]=_0x2bb046(0x6c3),_0x2efe7f[_0x2bb046(0x613)](_0x59a7b0);const _0xc929cc=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0xc929cc['className']='shift-close-differentialRow\x20'+_0x362f78;const _0x1913dd=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x1913dd['className']=_0x2bb046(0x4b0);const _0x177939=document['createElement']('label');_0x177939[_0x2bb046(0x5b1)]=_0x2bb046(0x4f0),_0x177939[_0x2bb046(0x61f)]='shift-close-diffLabel',_0x1913dd['appendChild'](_0x177939);const _0x56df5b=document['createElement'](_0x2bb046(0x5ef));_0x56df5b['className']=_0x2bb046(0x4b0);const _0x85491e=document['createElement'](_0x2bb046(0x517));_0x85491e['textContent']=_0x5a549a+'\x200.00',_0x85491e[_0x2bb046(0x61f)]=_0x2bb046(0x598),_0x56df5b[_0x2bb046(0x613)](_0x85491e),_0xc929cc[_0x2bb046(0x613)](_0x1913dd),_0xc929cc['appendChild'](_0x56df5b),_0x57f6ce[_0x2bb046(0x276)](_0x2bb046(0x526),function(){const _0x111758=_0x2bb046,_0xd151cb=parseFloat(_0x57f6ce['value'])||0x0,_0x38550f=_0xd151cb-_0x4cc885;_0x85491e[_0x111758(0x5b1)]=_0x5a549a+'\x20'+_0x38550f[_0x111758(0x4cc)](0x2);});const _0x34019e=document[_0x2bb046(0x291)](_0x2bb046(0x5ef));_0x34019e[_0x2bb046(0x61f)]=_0x2bb046(0x367);const _0x34f886=document[_0x2bb046(0x291)](_0x2bb046(0x69a));_0x34f886['id']=_0x2bb046(0x572),_0x34f886['textContent']=_0x2bb046(0x1c6),_0x34f886[_0x2bb046(0x61f)]=_0x2bb046(0x2f3),_0x34f886[_0x2bb046(0x3f5)]=closeShift,_0x34019e['appendChild'](_0x34f886),_0x1c1bed[_0x2bb046(0x613)](_0x2efe7f),_0x1c1bed[_0x2bb046(0x613)](_0xc929cc),_0x1c1bed[_0x2bb046(0x613)](_0x34019e),_0x2facee[_0x2bb046(0x613)](_0x1c1bed);}showModalShift();}async function openShift(){const _0x5a1291=_0x44881d;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.');return;}const _0x472e90=document['getElementById'](_0x5a1291(0x3e5));if(!_0x472e90){console['error'](_0x5a1291(0x1e9));return;}_0x472e90[_0x5a1291(0x269)]=!![],hideModalShift(),showLoadingModal();const _0xc55308=document[_0x5a1291(0x1a8)]('setCashInitialInput'),_0x4ed17e=_0xc55308[_0x5a1291(0x61e)];if(_0x4ed17e==''||isNaN(_0x4ed17e)){ntfShow('Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.'),_0x472e90[_0x5a1291(0x269)]=![],hideLoadingModal();return;}const _0xc11c0a=document[_0x5a1291(0x1a8)]('setBranchId')[_0x5a1291(0x61e)],_0x2bbaa8=document['getElementById'](_0x5a1291(0x5b3))[_0x5a1291(0x61e)],_0x1a7417=parseFloat(_0x4ed17e),_0x38d96c=new Date();try{const _0x2bf21c=myCompany[_0x5a1291(0x6a4)],_0x2b379a={'apiPOS_shift':0x1,'setToken':myCompany[_0x5a1291(0x388)],'setBranchId':_0xc11c0a,'setCashierId':_0x2bbaa8,'setCashInitial':_0x1a7417,'setShiftDateStart':_0x38d96c},_0x16ebb2=await fetch(_0x2bf21c,{'method':_0x5a1291(0x65e),'headers':{'Content-Type':_0x5a1291(0x62f)},'body':JSON[_0x5a1291(0x453)](_0x2b379a)}),_0xbdacdc=await _0x16ebb2[_0x5a1291(0x228)]();if(_0xbdacdc[_0x5a1291(0x135)]&&_0xbdacdc[_0x5a1291(0x221)][_0x5a1291(0x2ca)]){const _0x1ef0e3=_0xbdacdc[_0x5a1291(0x221)][_0x5a1291(0x2ca)];let _0xc8581c=myCompany[_0x5a1291(0x6bc)][_0x5a1291(0x552)](_0x4a5411=>_0x4a5411[_0x5a1291(0x391)]==_0xc11c0a);_0xc8581c?(_0xc8581c['setShiftId']=_0x1ef0e3,_0xc8581c[_0x5a1291(0x614)]=_0x1a7417,_0xc8581c[_0x5a1291(0x6cb)]='1',_0xc8581c[_0x5a1291(0x386)]=_0x38d96c):myCompany[_0x5a1291(0x6bc)]['push']({'setShiftId':_0x1ef0e3,'setCashInitial':_0x1a7417,'setShiftStatus':'1','setShiftDateStart':_0x38d96c,'setBranchId':_0xc11c0a});try{const _0x359454=await createCartStore('');await saveCompanyToIndexedDB(company,_0x359454),ntfShow(_0x5a1291(0x112)+_0x38d96c[_0x5a1291(0x2a6)]());}catch(_0x23985d){console['error']('Shift\x20Save\x20Error:',_0x23985d);throw _0x23985d;}}else ntfShow(_0x5a1291(0x482)),console['log'](_0x5a1291(0x482));}catch(_0x1a7d8e){ntfShow(_0x5a1291(0x6a9)),console[_0x5a1291(0x103)](_0x5a1291(0x27e),_0x1a7d8e);}finally{_0x472e90[_0x5a1291(0x269)]=![],hideLoadingModal();}}async function closeShift(){const _0xfa4426=_0x44881d;if(!isOnline()){ntfShow('Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.');return;}const _0x4ce46e=document[_0xfa4426(0x1a8)](_0xfa4426(0x572)),_0x203f22=document[_0xfa4426(0x1a8)](_0xfa4426(0x1b0)),_0x3eff5e=document[_0xfa4426(0x1a8)]('setShiftCashAmount'),_0x467141=document[_0xfa4426(0x1a8)]('setShiftNotes');if(!_0x4ce46e){console[_0xfa4426(0x103)](_0xfa4426(0x604));return;}_0x4ce46e[_0xfa4426(0x269)]=!![],hideModalShift(),showLoadingModal();const _0x32596c=document[_0xfa4426(0x1a8)](_0xfa4426(0x391))[_0xfa4426(0x61e)];let _0x5db17b=myCompany[_0xfa4426(0x6bc)][_0xfa4426(0x552)](_0x901124=>_0x901124[_0xfa4426(0x391)]==_0x32596c&&_0x901124['setShiftStatus']=='1');if(!_0x5db17b){ntfShow(_0xfa4426(0x1db)),_0x4ce46e[_0xfa4426(0x269)]=![],hideLoadingModal();return;}const _0x3f5d85=new Date();try{const _0x50e455=myCompany['setApiEndPoint'],_0x2a5909={'apiPOS_shift':0x1,'setToken':myCompany[_0xfa4426(0x388)],'setShiftId':_0x5db17b[_0xfa4426(0x2ca)],'setShiftDateEnd':_0x3f5d85,'setShiftCount':parseFloat(_0x203f22[_0xfa4426(0x61e)]),'setShiftCashAmount':parseFloat(_0x3eff5e[_0xfa4426(0x61e)]),'setShiftNotes':_0x467141['value']},_0x17c8ce=await fetch(_0x50e455,{'method':_0xfa4426(0x65e),'headers':{'Content-Type':_0xfa4426(0x62f)},'body':JSON[_0xfa4426(0x453)](_0x2a5909)}),_0x1f254c=await _0x17c8ce[_0xfa4426(0x228)]();if(_0x1f254c['success']&&_0x1f254c[_0xfa4426(0x221)][_0xfa4426(0x2ca)]){_0x5db17b[_0xfa4426(0x6cb)]='0',_0x5db17b[_0xfa4426(0x614)]='',_0x5db17b['setShiftId']='',_0x5db17b['setShiftDateStart']='';try{const _0x12f64a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x12f64a),ntfShow(_0xfa4426(0x57e)+_0x3f5d85[_0xfa4426(0x2a6)]()),hideModalShift();}catch(_0x375994){console[_0xfa4426(0x103)](_0xfa4426(0x457),_0x375994);throw _0x375994;}}else ntfShow(_0xfa4426(0x482)),console[_0xfa4426(0x37b)](_0xfa4426(0x482));}catch(_0x3dc3fb){ntfShow('Error\x20en\x20la\x20solicitud'),console['error'](_0xfa4426(0x27e),_0x3dc3fb);}finally{_0x4ce46e[_0xfa4426(0x269)]=![],hideLoadingModal();}}async function changeEnvironments(_0x4631ec){const _0x3f212c=_0x44881d;await loadLayoutState();const _0x5523b9=_0x4631ec,_0x137ac4=myCompany['setWindows'][_0x3f212c(0x2c8)](_0x427438=>_0x427438['setFloorId']==_0x5523b9),_0xe5a941=document[_0x3f212c(0x1a8)]('selectTab');_0xe5a941[_0x3f212c(0x328)]='',_0x137ac4['forEach'](_0x190404=>{const _0x482578=_0x3f212c,_0x551783=document[_0x482578(0x291)]('option');_0x551783[_0x482578(0x61e)]=_0x482578(0x451)+_0x190404[_0x482578(0x33a)],_0x551783[_0x482578(0x5b1)]=_0x190404[_0x482578(0x574)],_0xe5a941['appendChild'](_0x551783);});const _0x2f0efa=_0xe5a941[_0x3f212c(0x61e)],_0x1596cb=_0x2f0efa['split']('-')[0x1];document['getElementById'](_0x3f212c(0x159))[_0x3f212c(0x61e)]=_0x1596cb,await switchTab(_0x2f0efa);}document[_0x44881d(0x1a8)](_0x44881d(0x170))[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x164ff8){const _0x4ff79e=_0x44881d;_0x164ff8[_0x4ff79e(0x17d)]();const _0x5cc5d9=myCompany[_0x4ff79e(0x6a4)];try{const _0x38478e=new URL(_0x5cc5d9),_0x2ae6bd=_0x38478e[_0x4ff79e(0x46b)],_0x2d3f22=_0x2ae6bd+'/login';window[_0x4ff79e(0x66b)](_0x2d3f22,_0x4ff79e(0x3a9));}catch(_0xa91aec){console[_0x4ff79e(0x103)](_0x4ff79e(0x1c9),_0xa91aec);}}),document[_0x44881d(0x1a8)](_0x44881d(0x645))['addEventListener']('click',function(_0x303028){const _0x473e06=_0x44881d;_0x303028[_0x473e06(0x17d)](),updateShiftDisplay();}),document['getElementById'](_0x44881d(0x3e9))[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x5cdcaf){const _0x474133=_0x44881d;_0x5cdcaf[_0x474133(0x17d)](),showModalCreateWindow();}),document[_0x44881d(0x1a8)](_0x44881d(0x238))[_0x44881d(0x276)]('click',function(_0x140fb5){const _0x5ca157=_0x44881d;_0x140fb5[_0x5ca157(0x17d)]();}),document[_0x44881d(0x1a8)](_0x44881d(0x4ca))[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x25fee7){_0x25fee7['preventDefault'](),showModalLayout();}),document['getElementById']('tabs-areas-responsive')[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x39419d){const _0x8ded0c=_0x44881d;_0x39419d[_0x8ded0c(0x17d)](),showModalLayout();}),document[_0x44881d(0x1a8)](_0x44881d(0x1f6))[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x425f2c){const _0x2b4675=_0x44881d;_0x425f2c[_0x2b4675(0x17d)](),showRightSection();}),document['getElementById'](_0x44881d(0x32f))['addEventListener']('click',function(_0x5e850b){const _0x47f631=_0x44881d;_0x5e850b[_0x47f631(0x17d)](),showLeftSection(),showSection(_0x47f631(0x512));}),document[_0x44881d(0x1a8)](_0x44881d(0x1c3))[_0x44881d(0x276)]('click',function(_0x4ec108){const _0xe2ee04=_0x44881d;_0x4ec108[_0xe2ee04(0x17d)](),showModalCreateItem(0x0);}),document[_0x44881d(0x1a8)](_0x44881d(0x153))['addEventListener'](_0x44881d(0x26d),function(_0x231cbb){const _0x3e192f=_0x44881d;_0x231cbb[_0x3e192f(0x17d)](),showModalCreateItem(0x1);}),document[_0x44881d(0x1a8)](_0x44881d(0x54f))[_0x44881d(0x276)](_0x44881d(0x26d),function(_0x1e3961){const _0x4d3e31=_0x44881d;_0x1e3961[_0x4d3e31(0x17d)](),toggleEditMode();}),document['getElementById'](_0x44881d(0x2aa))['addEventListener']('change',function(_0x2abd4a){const _0x115d39=_0x44881d;_0x2abd4a['preventDefault']();const _0x3924d8=document['getElementById'](_0x115d39(0x418)),_0x4bd42a=this['value'];let _0x3f1f22=_0x115d39(0x68c);if(_0x4bd42a=='1')_0x3f1f22=_0x115d39(0x68c);else{if(_0x4bd42a=='2')_0x3f1f22=_0x115d39(0x5a2);else _0x4bd42a=='3'&&(_0x3f1f22='./img/layout/icon-room.svg');}_0x3924d8[_0x115d39(0x4b7)]=_0x3f1f22;}),document[_0x44881d(0x1a8)](_0x44881d(0x627))['addEventListener'](_0x44881d(0x26d),async function(_0xeb3a90){const _0x52f069=_0x44881d;_0xeb3a90[_0x52f069(0x17d)]();if(!isOnline()){ntfShow('No\x20hay\x20conexión\x20a\x20internet.');return;}this[_0x52f069(0x269)]=!![],hideModalCreateWindow(),showLoadingModal();const _0xa84e57=document[_0x52f069(0x1a8)](_0x52f069(0x2aa)),_0x5f3a81=document['getElementById'](_0x52f069(0x183)),_0x391f43=document[_0x52f069(0x1a8)](_0x52f069(0x391)),_0x2b3680=document[_0x52f069(0x1a8)](_0x52f069(0x17b)),_0x5009b7={'setAuthToken':myCompany['setAuthToken'],'setWindowType':_0xa84e57['value'],'setWindowName':_0x5f3a81[_0x52f069(0x61e)],'setBranchId':_0x391f43[_0x52f069(0x61e)],'setEnvironmentId':_0x2b3680[_0x52f069(0x61e)]};try{const _0x253559=await fetch(_0x52f069(0x28d),{'method':_0x52f069(0x65e),'headers':{'Content-Type':'application/json'},'body':JSON[_0x52f069(0x453)](_0x5009b7)});if(!_0x253559['ok']){hideLoadingModal(),this['disabled']=![],ntfShow(_0x52f069(0x346)+_0x253559[_0x52f069(0x2b9)]),showModalCreateWindow();return;}const _0x47bc80=await _0x253559['json']();if(!_0x47bc80[_0x52f069(0x135)]){hideLoadingModal(),this[_0x52f069(0x269)]=![],ntfShow(_0x47bc80[_0x52f069(0x221)]||_0x52f069(0xef)),showModalCreateWindow();return;}const _0xf3cbfe=_0x47bc80[_0x52f069(0x221)];console['log'](_0xf3cbfe),myCompany[_0x52f069(0x319)][_0x52f069(0x318)](_0xf3cbfe),await resetWindowPositions(_0x391f43[_0x52f069(0x61e)],_0x2b3680[_0x52f069(0x61e)]);const _0x34cba0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x34cba0),addNewTab(_0xf3cbfe[_0x52f069(0x33a)]),hideLoadingModal(),this[_0x52f069(0x269)]=![],_0x5f3a81[_0x52f069(0x61e)]='',ntfShow(_0x52f069(0x363)),showModalLayout();}catch(_0x3249c6){hideLoadingModal(),this[_0x52f069(0x269)]=![],ntfShow(_0x52f069(0x346)+_0x3249c6['message']),showModalCreateWindow();}}),window[_0x44881d(0x276)](_0x44881d(0x137),()=>{const _0x22570c=_0x44881d,_0x1e4ed6=window['innerWidth'];if(_0x1e4ed6!==lastWindowWidth){lastWindowWidth=_0x1e4ed6;if(isMobile())showLeftSection();else{const _0x1b62ee=document[_0x22570c(0x1a8)](_0x22570c(0x615)),_0xd327d9=document[_0x22570c(0x1a8)](_0x22570c(0x1bc));_0x1b62ee['style'][_0x22570c(0x243)]('display',_0x22570c(0x277),_0x22570c(0x29d)),_0xd327d9['style']['setProperty'](_0x22570c(0x2a2),_0x22570c(0x277),'important');}}adjustHeight();}),window[_0x44881d(0x276)](_0x44881d(0x1e5),updateInternetIcon),window['addEventListener']('offline',updateInternetIcon),window[_0x44881d(0x6a2)]=function(){const _0x4ac77e=_0x44881d,_0x2642af=0x1;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess(),document[_0x4ac77e(0x536)]['addEventListener'](_0x4ac77e(0x1ef),_0x27fd2d=>{const _0x2492c9=_0x4ac77e,_0x239974=_0x27fd2d[_0x2492c9(0x278)];if(_0x239974['id']&&_0x239974['id'][_0x2492c9(0x21c)](_0x2492c9(0x143))){const _0x4ad6e4=_0x239974['id'][_0x2492c9(0x18b)]('-')[_0x2492c9(0x5a7)]();let _0x23e0a6=parseFloat(_0x239974[_0x2492c9(0x61e)])||0x0;isNaN(_0x23e0a6)||_0x23e0a6<0x0?_0x239974['value']=_0x2492c9(0x20b):(_0x239974[_0x2492c9(0x61e)]=_0x23e0a6['toFixed'](0x2),_0x23e0a6=_0x23e0a6[_0x2492c9(0x4cc)](0x2)),window_options[_0x4ad6e4][_0x2492c9(0x2bb)]=_0x23e0a6,saveWindowOptionsDB(_0x4ad6e4)[_0x2492c9(0x5df)](()=>{renderCart(_0x4ad6e4);})[_0x2492c9(0x35b)](_0x385a3a=>{const _0x33a11f=_0x2492c9;console[_0x33a11f(0x103)](_0x33a11f(0x4f9),_0x385a3a);});}}),document[_0x4ac77e(0x536)][_0x4ac77e(0x276)](_0x4ac77e(0x294),_0x3eb81c=>{const _0x4d0c12=_0x4ac77e,_0x499ed9=_0x3eb81c[_0x4d0c12(0x278)];if(_0x499ed9['id']&&_0x499ed9['id'][_0x4d0c12(0x21c)](_0x4d0c12(0x143))){const _0x6c1eeb=_0x499ed9['id'][_0x4d0c12(0x18b)]('-')['pop']();let _0x1312a3=parseFloat(_0x499ed9[_0x4d0c12(0x61e)])||0x0;isNaN(_0x1312a3)||_0x1312a3<0x0?_0x499ed9['value']=_0x4d0c12(0x20b):(_0x499ed9[_0x4d0c12(0x61e)]=_0x1312a3[_0x4d0c12(0x4cc)](0x2),_0x1312a3=_0x1312a3[_0x4d0c12(0x4cc)](0x2)),window_options[_0x6c1eeb]['setDescuentoGlobal_Monto']=_0x1312a3,saveWindowOptionsDB(_0x6c1eeb)['then'](()=>{renderCart(_0x6c1eeb);})[_0x4d0c12(0x35b)](_0x25b2a1=>{const _0x564b4f=_0x4d0c12;console[_0x564b4f(0x103)]('Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:',_0x25b2a1);});}},!![]);const _0x2f34f7=document[_0x4ac77e(0x5cf)](_0x4ac77e(0x37d));_0x2f34f7&&_0x2f34f7[_0x4ac77e(0x276)](_0x4ac77e(0x26d),function(){logoutReload(0x0,_0x2642af);});let _0x3ae74f=[];const _0x2db98d=document['getElementById'](_0x4ac77e(0x1a3)),_0x358e85=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x66a));_0x2db98d[_0x4ac77e(0x276)](_0x4ac77e(0x463),()=>{const _0x5c6709=_0x4ac77e;Array[_0x5c6709(0x2af)](_0x2db98d[_0x5c6709(0x63a)])[_0x5c6709(0x570)](_0x184f9b=>{const _0x2dc331=_0x5c6709,_0x9a5289=Date['now']()+Math['random']();_0x3ae74f[_0x2dc331(0x318)]({'file':_0x184f9b,'id':_0x9a5289});const _0x118f32=document[_0x2dc331(0x291)](_0x2dc331(0x5ef));_0x118f32[_0x2dc331(0x61f)]=_0x2dc331(0x5da),_0x118f32[_0x2dc331(0x38a)]['id']=_0x9a5289;if(_0x184f9b['type'][_0x2dc331(0x21c)](_0x2dc331(0x5c7))){const _0x384dbe=document[_0x2dc331(0x291)](_0x2dc331(0x342));_0x384dbe[_0x2dc331(0x4b7)]=URL[_0x2dc331(0x2be)](_0x184f9b),_0x118f32[_0x2dc331(0x613)](_0x384dbe);}else{if(_0x184f9b['type'][_0x2dc331(0x21c)](_0x2dc331(0x543))){const _0x2553e8=document['createElement'](_0x2dc331(0x588));_0x2553e8[_0x2dc331(0x4b7)]=URL[_0x2dc331(0x2be)](_0x184f9b),_0x2553e8['controls']=!![],_0x118f32[_0x2dc331(0x613)](_0x2553e8);}else _0x118f32[_0x2dc331(0x328)]+=_0x2dc331(0x6ac)+_0x184f9b[_0x2dc331(0x63e)]+'</div>';}const _0x409e96=document[_0x2dc331(0x291)](_0x2dc331(0x69a));_0x409e96['textContent']='×',_0x409e96[_0x2dc331(0x61f)]=_0x2dc331(0x5db),_0x409e96[_0x2dc331(0x3f5)]=()=>{const _0x57e9cd=_0x2dc331,_0x2f5a73=_0x3ae74f[_0x57e9cd(0x3a2)](_0x11fedd=>_0x11fedd['id']==_0x9a5289);if(_0x2f5a73>-0x1)_0x3ae74f[_0x57e9cd(0x5e3)](_0x2f5a73,0x1);_0x358e85[_0x57e9cd(0x213)](_0x118f32);},_0x118f32[_0x2dc331(0x613)](_0x409e96),_0x358e85[_0x2dc331(0x613)](_0x118f32);}),_0x2db98d[_0x5c6709(0x61e)]='';});const _0x4ecf18=document[_0x4ac77e(0x1a8)]('waDropArea'),_0x3d265b=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x1a3));[_0x4ac77e(0x601),_0x4ac77e(0x3ee)]['forEach'](_0x5af5b2=>{_0x4ecf18['addEventListener'](_0x5af5b2,_0x445c3d=>{const _0x537704=_0x1a69;_0x445c3d['preventDefault'](),_0x4ecf18[_0x537704(0x14a)]['add'](_0x537704(0x3ee));});}),[_0x4ac77e(0x3d0),_0x4ac77e(0x692)]['forEach'](_0x39e65a=>{const _0x2b3743=_0x4ac77e;_0x4ecf18[_0x2b3743(0x276)](_0x39e65a,_0x40a5c8=>{const _0x25af85=_0x2b3743;_0x40a5c8[_0x25af85(0x17d)](),_0x4ecf18[_0x25af85(0x14a)]['remove'](_0x25af85(0x3ee));});}),_0x4ecf18[_0x4ac77e(0x276)]('drop',_0x1222ef=>{const _0xf6335d=_0x4ac77e,_0x23f5d9=Array[_0xf6335d(0x2af)](_0x1222ef[_0xf6335d(0x1e7)][_0xf6335d(0x63a)]);_0x12e0ef(_0x23f5d9);}),_0x4ecf18[_0x4ac77e(0x276)](_0x4ac77e(0x26d),()=>_0x3d265b[_0x4ac77e(0x26d)]()),_0x3d265b[_0x4ac77e(0x276)](_0x4ac77e(0x463),()=>{const _0x45dab4=_0x4ac77e;_0x12e0ef(Array['from'](_0x3d265b['files'])),_0x3d265b[_0x45dab4(0x61e)]='';});function _0x12e0ef(_0x2fc233){const _0xdb39d2=_0x4ac77e;_0x2fc233[_0xdb39d2(0x570)](_0x2b5cae=>{const _0x3369f7=_0xdb39d2,_0x102458=Date[_0x3369f7(0x4d5)]()+Math[_0x3369f7(0x2b3)]();_0x3ae74f['push']({'file':_0x2b5cae,'id':_0x102458});const _0x4339ba=document[_0x3369f7(0x291)]('div');_0x4339ba[_0x3369f7(0x61f)]=_0x3369f7(0x5da),_0x4339ba[_0x3369f7(0x38a)]['id']=_0x102458;if(_0x2b5cae[_0x3369f7(0xfa)][_0x3369f7(0x21c)](_0x3369f7(0x5c7))){const _0x426a99=document[_0x3369f7(0x291)](_0x3369f7(0x342));_0x426a99['src']=URL['createObjectURL'](_0x2b5cae),_0x4339ba['appendChild'](_0x426a99);}else{if(_0x2b5cae[_0x3369f7(0xfa)]['startsWith']('video/')){const _0x54c32a=document[_0x3369f7(0x291)](_0x3369f7(0x588));_0x54c32a[_0x3369f7(0x4b7)]=URL[_0x3369f7(0x2be)](_0x2b5cae),_0x54c32a[_0x3369f7(0x407)]=!![],_0x4339ba['appendChild'](_0x54c32a);}else{const _0x4a3415=document[_0x3369f7(0x291)](_0x3369f7(0x5ef));_0x4a3415[_0x3369f7(0x5b1)]=_0x2b5cae[_0x3369f7(0x63e)],_0x4339ba[_0x3369f7(0x613)](_0x4a3415);}}const _0x1a86a7=document[_0x3369f7(0x291)](_0x3369f7(0x69a));_0x1a86a7[_0x3369f7(0x61f)]=_0x3369f7(0x5db),_0x1a86a7['textContent']='×',_0x1a86a7[_0x3369f7(0x3f5)]=()=>{const _0xe3fa56=_0x3ae74f['findIndex'](_0x4255c2=>_0x4255c2['id']===_0x102458);if(_0xe3fa56>-0x1)_0x3ae74f['splice'](_0xe3fa56,0x1);_0x358e85['removeChild'](_0x4339ba);},_0x4339ba[_0x3369f7(0x613)](_0x1a86a7),_0x358e85['appendChild'](_0x4339ba);});}const _0x4e8673=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x39a)),_0x30d9f4=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x1fb));if(_0x4e8673&&_0x30d9f4){const _0x3b50f8=_0x30d9f4[_0x4ac77e(0x320)][_0x4ac77e(0x57c)](!![]),_0x1e0fbc=_0x3b50f8[_0x4ac77e(0x5cf)]('.whatsapp-recipient');initCountrySelector(_0x1e0fbc),_0x4e8673['appendChild'](_0x1e0fbc);}const _0x51e23f=document[_0x4ac77e(0x1a8)]('emailRecipients'),_0x2caf2f=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x424));if(_0x51e23f&&_0x2caf2f){const _0x53eb99=_0x2caf2f[_0x4ac77e(0x320)][_0x4ac77e(0x57c)](!![]),_0x174735=_0x53eb99[_0x4ac77e(0x5cf)](_0x4ac77e(0x606));_0x51e23f['appendChild'](_0x174735);}const _0x2716aa=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x4b1));_0x2716aa&&_0x2716aa[_0x4ac77e(0x276)](_0x4ac77e(0x26d),function(){const _0x223701=_0x4ac77e,_0x106ec4=document['getElementById']('whatsappRecipients'),_0x1fe363=document['getElementById'](_0x223701(0x1fb));if(_0x106ec4&&_0x1fe363){const _0x1c68e3=_0x1fe363['content'][_0x223701(0x57c)](!![]),_0x1af966=_0x1c68e3['querySelector']('.whatsapp-recipient'),_0x3cb118=_0x1af966[_0x223701(0x5cf)](_0x223701(0x4e0));if(_0x3cb118)_0x3cb118[_0x223701(0x59b)][_0x223701(0x2a2)]=_0x223701(0x2a8);initCountrySelector(_0x1af966),_0x3cb118&&_0x3cb118[_0x223701(0x276)](_0x223701(0x26d),function(){const _0x1fd4b9=_0x223701;_0x106ec4[_0x1fd4b9(0x213)](_0x1af966);}),_0x106ec4[_0x223701(0x613)](_0x1af966);}});const _0x4268f3=document[_0x4ac77e(0x1a8)](_0x4ac77e(0x636));_0x4268f3&&_0x4268f3[_0x4ac77e(0x276)](_0x4ac77e(0x26d),function(){const _0x5a38e2=_0x4ac77e,_0x236167=document[_0x5a38e2(0x1a8)](_0x5a38e2(0x42b)),_0xf0eed0=document[_0x5a38e2(0x1a8)]('email-recipient-template');if(_0x236167&&_0xf0eed0){const _0x5e0aec=_0xf0eed0[_0x5a38e2(0x320)][_0x5a38e2(0x57c)](!![]),_0x4d3f3a=_0x5e0aec[_0x5a38e2(0x5cf)](_0x5a38e2(0x606)),_0x2d7353=_0x4d3f3a[_0x5a38e2(0x5cf)](_0x5a38e2(0x4e0));if(_0x2d7353)_0x2d7353[_0x5a38e2(0x59b)][_0x5a38e2(0x2a2)]=_0x5a38e2(0x2a8);_0x2d7353&&_0x2d7353[_0x5a38e2(0x276)](_0x5a38e2(0x26d),function(){const _0x1373dd=_0x5a38e2;_0x236167[_0x1373dd(0x213)](_0x4d3f3a);}),_0x236167[_0x5a38e2(0x613)](_0x4d3f3a);}}),sendEmailButton&&sendEmailButton[_0x4ac77e(0x276)](_0x4ac77e(0x26d),async function(){const _0x4cd252=_0x4ac77e;sendEmailButton['disabled']=!![];if(!isOnline()){sendEmailButton[_0x4cd252(0x269)]=![],ntfShow(_0x4cd252(0x115),0x2,0x1);return;}const _0x1867be=document[_0x4cd252(0x1a8)]('emailRecipients'),_0x4c20f8=_0x1867be[_0x4cd252(0x6ce)](_0x4cd252(0x59c)),_0xb0b6a3=[];for(const _0x42a261 of _0x4c20f8){const _0x2d27c0=_0x42a261['value'][_0x4cd252(0x575)]();if(!_0x2d27c0){sendEmailButton[_0x4cd252(0x269)]=![],ntfShow('Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.',0x2,0x1);return;}_0xb0b6a3[_0x4cd252(0x318)](_0x2d27c0);}if(_0xb0b6a3[_0x4cd252(0x506)]===0x0){sendEmailButton['disabled']=![],ntfShow(_0x4cd252(0x5f6),0x2,0x1);return;}let _0x496ae2=document[_0x4cd252(0x1a8)](_0x4cd252(0x5b7))[_0x4cd252(0x61e)][_0x4cd252(0x575)]();if(!_0x496ae2){alert(_0x4cd252(0x439));return;}_0x496ae2=_0x496ae2[_0x4cd252(0x648)](/\r\n|\n/g,_0x4cd252(0x37f));const _0x488f89=parseInt(getUserPermissionApiERP(0x12)),_0x14f556=myCompany[_0x4cd252(0x3c1)][_0x4cd252(0x552)](_0x3f3181=>_0x3f3181[_0x4cd252(0x175)]==_0x488f89);if(!_0x14f556){sendEmailButton[_0x4cd252(0x269)]=![],ntfShow(_0x4cd252(0x25a));return;}const _0x32a402=_0x14f556[_0x4cd252(0x3d8)],_0xfbe1d1=_0x14f556[_0x4cd252(0x6b1)],_0xe2ca8d=_0x14f556['setEmailCredentialsSenderPassword'],_0x2d88b8=_0x14f556[_0x4cd252(0x281)],_0x81d54a=_0x14f556[_0x4cd252(0x216)],_0xc7ff53=document['getElementById'](_0x4cd252(0x159))[_0x4cd252(0x61e)],{pdfGlobalPayload:_0x50c155,pdfGlobalBlob:_0x3b9fb3,pdfGlobalName:_0x3a49bf}=getLastOperationGlobalData(_0xc7ff53),_0x27b93c=_0x50c155['setDocumentType']+':\x20'+_0x50c155[_0x4cd252(0x189)]+'-'+_0x50c155[_0x4cd252(0x5c3)]+'\x20('+myCompany[_0x4cd252(0x343)]+'\x20)';if(!_0x3b9fb3){sendEmailButton[_0x4cd252(0x269)]=![],ntfShow(_0x4cd252(0x317),0x2,0x1);return;}let _0xaaa93a=[];try{const _0x226796=await blobAStringBase64(_0x3b9fb3);_0xaaa93a['push']({'fileName':_0x3a49bf,'fileBase64':_0x226796});for(const _0x39f5c0 of _0x3ae74f){const _0x69862f=await blobAStringBase64(_0x39f5c0[_0x4cd252(0x503)]);_0xaaa93a[_0x4cd252(0x318)]({'fileName':_0x39f5c0[_0x4cd252(0x503)][_0x4cd252(0x63e)],'fileBase64':_0x69862f});}}catch(_0x84a4cc){console['error']('Error\x20convirtiendo\x20adjuntos\x20a\x20base64:',_0x84a4cc),sendEmailButton[_0x4cd252(0x269)]=![],ntfShow(_0x4cd252(0x28b),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany[_0x4cd252(0x388)],_0x32a402,_0xfbe1d1,_0xe2ca8d,_0x2d88b8,_0x81d54a,_0xb0b6a3,_0x27b93c,_0x496ae2,_0xaaa93a),hideLoadingModal(),showModal(),sendEmailButton[_0x4cd252(0x269)]=![],document['querySelectorAll'](_0x4cd252(0x38e))[_0x4cd252(0x570)](_0xf1afd7=>_0xf1afd7[_0x4cd252(0x61e)]=''),ntfShow(_0x4cd252(0x18f),0x1,0x2);}catch(_0x55d040){console[_0x4cd252(0x103)](_0x4cd252(0x27e),_0x55d040),ntfShow(_0x4cd252(0x619),0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton['disabled']=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x4ac77e(0x276)](_0x4ac77e(0x26d),async function(){const _0x57b4de=_0x4ac77e,_0x18d21f=document[_0x57b4de(0x1a8)](_0x57b4de(0x39a)),_0x4f58e5=_0x18d21f['querySelectorAll']('.whatsapp-recipient'),_0x181f0d=[];for(const _0x2dc0b4 of _0x4f58e5){const _0x49de4c=_0x2dc0b4[_0x57b4de(0x5cf)](_0x57b4de(0x211)),_0x52bf40=_0x49de4c[_0x57b4de(0x38a)]['selectedCode']||'',_0x24c000=_0x2dc0b4[_0x57b4de(0x5cf)]('.phoneNumber'),_0x4575b2=_0x24c000['value'][_0x57b4de(0x575)]();if(!_0x4575b2){ntfShow(_0x57b4de(0x15b),0x2,0x1);return;}const _0x4a4615=_0x4575b2[_0x57b4de(0x648)](/\D/g,'');_0x181f0d[_0x57b4de(0x318)](_0x52bf40+_0x4a4615);}if(_0x181f0d[_0x57b4de(0x506)]===0x0){ntfShow('Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.',0x2,0x1);return;}let _0x42e6af=document['getElementById']('waMessage')['value'][_0x57b4de(0x575)]();if(!_0x42e6af){alert('Escribe\x20un\x20mensaje');return;}const _0x1b181b=parseInt(document[_0x57b4de(0x1a8)](_0x57b4de(0x422))[_0x57b4de(0x61e)],0xa),_0x4b1e1d=getCredentialsApiWAChat(_0x1b181b),_0xb1835d=_0x4b1e1d?.['setCredentialsApiWAChatStatus']??0x0;if(!(_0xb1835d==0x1&&_0x4b1e1d)){for(const _0x12c3b4 of _0x181f0d){const _0x32a722=encodeURIComponent(_0x42e6af),_0x440963='https://wa.me/'+_0x12c3b4+_0x57b4de(0x427)+_0x32a722;window[_0x57b4de(0x66b)](_0x440963,'_blank');}ntfShow('Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.',0x1,0x2);return;}const _0x259910=document[_0x57b4de(0x1a8)](_0x57b4de(0x159))[_0x57b4de(0x61e)],{pdfGlobalPayload:_0x382aca,pdfGlobalBlob:_0x2a1c6d,pdfGlobalName:_0x1f526b}=getLastOperationGlobalData(_0x259910);if(!_0x2a1c6d){hideLoadingModal(),showModal(),ntfShow(_0x57b4de(0x317),0x2,0x1);return;}const _0x6b3c98=_0x4b1e1d[_0x57b4de(0x13c)],_0x21bd5f=_0x4b1e1d[_0x57b4de(0x56b)],_0x1f15c9=_0x57b4de(0x3b3)+_0x6b3c98+_0x57b4de(0x69c)+_0x21bd5f,_0x5c52bb=[],_0x516efb=new File([_0x2a1c6d],_0x1f526b,{'type':_0x57b4de(0x53e)});_0x5c52bb['push'](_0x516efb);for(const _0x4b89fa of _0x3ae74f){_0x5c52bb[_0x57b4de(0x318)](_0x4b89fa[_0x57b4de(0x503)]);}try{hideModal(),showLoadingModal();if(_0x42e6af)for(const _0x598d1d of _0x181f0d){const _0x142690=_0x598d1d+_0x57b4de(0x11a);await sendMessageApiWAChat(_0x1b181b,_0x142690,_0x57b4de(0x2c5),_0x42e6af);}const _0x107a97=[];for(const _0x421d97 of _0x5c52bb){const _0x2f3294=new FormData();_0x2f3294[_0x57b4de(0x3d1)](_0x57b4de(0x503),_0x421d97);const _0x1c59ec=await fetch(_0x1f15c9+_0x57b4de(0x1d9),{'method':'POST','headers':{'x-auth-token':myCompany['setAuthToken']},'body':_0x2f3294});if(!_0x1c59ec['ok']){const _0x4a4eed=await _0x1c59ec[_0x57b4de(0x228)]()[_0x57b4de(0x35b)](()=>({}));throw new Error(_0x4a4eed['error']||_0x57b4de(0x18d)+_0x421d97[_0x57b4de(0x63e)]+_0x57b4de(0x375));}const {url:_0x3091e3}=await _0x1c59ec[_0x57b4de(0x228)]();let _0x1d7887;if(_0x421d97[_0x57b4de(0xfa)][_0x57b4de(0x21c)](_0x57b4de(0x5c7)))_0x1d7887=_0x57b4de(0x493);else{if(_0x421d97['type'][_0x57b4de(0x21c)](_0x57b4de(0x543)))_0x1d7887=_0x57b4de(0x588);else _0x421d97[_0x57b4de(0xfa)][_0x57b4de(0x21c)](_0x57b4de(0x4ad))?_0x1d7887='audio':_0x1d7887=_0x57b4de(0x1c2);}_0x107a97[_0x57b4de(0x318)]({'url':_0x3091e3,'name':_0x421d97[_0x57b4de(0x63e)],'mediaType':_0x1d7887,'mimeType':_0x421d97['type']});}for(const _0x4cf951 of _0x181f0d){const _0x576ad5=_0x4cf951+'@s.whatsapp.net';for(const _0x4d531f of _0x107a97){await sendMessageApiWAChat(_0x1b181b,_0x576ad5,_0x4d531f[_0x57b4de(0x4a3)],_0x4d531f['url'],'',_0x4d531f[_0x57b4de(0x63e)],_0x4d531f[_0x57b4de(0x3fe)]);}}ntfShow('Mensaje(s)\x20enviado(s)\x20correctamente.',0x1,0x2);}catch(_0x4a93e1){console['error'](_0x57b4de(0x67a),_0x4a93e1),ntfShow(_0x4a93e1[_0x57b4de(0x221)]||_0x57b4de(0x641),0x2,0x2);}finally{document[_0x57b4de(0x6ce)]('#whatsappRecipients\x20.phoneNumber')['forEach'](_0x3d147f=>_0x3d147f['value']=''),document[_0x57b4de(0x1a8)]('waMessage')[_0x57b4de(0x61e)]='',_0x3ae74f=[];const _0x5776a6=document[_0x57b4de(0x1a8)]('previewList');_0x5776a6&&(_0x5776a6[_0x57b4de(0x328)]=''),hideLoadingModal(),showModal();}}),document[_0x4ac77e(0x276)]('click',function(_0x485f0e){const _0x4f1e16=_0x4ac77e;!_0x485f0e[_0x4f1e16(0x278)][_0x4f1e16(0x12b)]('.custom-input-cart-setClienteDenominacion')&&!_0x485f0e[_0x4f1e16(0x278)][_0x4f1e16(0x12b)](_0x4f1e16(0x40a))&&document['querySelectorAll'](_0x4f1e16(0x40a))['forEach'](_0x17efdf=>{_0x17efdf['innerHTML']='';});}),document[_0x4ac77e(0x1a8)](_0x4ac77e(0x391))['addEventListener'](_0x4ac77e(0x463),async function(){const _0x5ae0f4=_0x4ac77e,_0x53455f=parseInt(this[_0x5ae0f4(0x61e)]);myCompany['setBranchDefault']=_0x53455f,saveCredentialsApiWAChatInCompany();const _0x1e0643=await createCartStore('');await saveCompanyToIndexedDB(company,_0x1e0643),searchInput['value']='',cargarAlmacenes(_0x53455f),setTimeout(()=>{const _0x3f50e9=_0x5ae0f4;document[_0x3f50e9(0x1a8)](_0x3f50e9(0x4d7))[_0x3f50e9(0x17f)](new Event(_0x3f50e9(0x463)));},0x64),cargarPisos(_0x53455f),setTimeout(()=>{const _0x142367=_0x5ae0f4;document['getElementById'](_0x142367(0x17b))[_0x142367(0x17f)](new Event('change'));},0x64);const _0x160fd9=document[_0x5ae0f4(0x1a8)](_0x5ae0f4(0x159))[_0x5ae0f4(0x61e)];if(parseFloat(_0x160fd9)>0x0){const _0x25c8ba=document['getElementById'](_0x5ae0f4(0x28e)+_0x160fd9)[_0x5ae0f4(0x61e)];await updateSerieOptions(_0x25c8ba,_0x160fd9);}const _0x55509a=myCompany[_0x5ae0f4(0x5d3)][_0x5ae0f4(0x2c8)](_0x95a740=>_0x95a740['setBranchId']==_0x53455f);if(_0x55509a[_0x5ae0f4(0x506)]===0x0)document['getElementById'](_0x5ae0f4(0x27c))['innerHTML']='',document[_0x5ae0f4(0x1a8)](_0x5ae0f4(0x4c9))[_0x5ae0f4(0x5b1)]=_0x5ae0f4(0x498);else{const _0x40b51b=document[_0x5ae0f4(0x1a8)](_0x5ae0f4(0x4c9));_0x40b51b[_0x5ae0f4(0x5b1)]=_0x55509a[0x0][_0x5ae0f4(0x62d)],_0x40b51b[_0x5ae0f4(0x264)](_0x5ae0f4(0x252),_0x55509a[0x0][_0x5ae0f4(0x447)]),_0x40b51b[_0x5ae0f4(0x276)](_0x5ae0f4(0x26d),function(){const _0x2149cc=_0x5ae0f4,_0x74af9c=document[_0x2149cc(0x1a8)](_0x2149cc(0x159))[_0x2149cc(0x61e)],{pdfGlobalPayload:_0x42f844,pdfGlobalBlob:_0x1ce329,pdfGlobalName:_0x2129bc}=getLastOperationGlobalData(_0x74af9c);setPrintOnline(this['getAttribute']('data-printer'),_0x1ce329,_0x2129bc,0x0);});const _0x2b8ba5=document[_0x5ae0f4(0x1a8)](_0x5ae0f4(0x27c));_0x2b8ba5[_0x5ae0f4(0x328)]='',_0x55509a['forEach'](_0x3bb364=>{const _0x4e2d1c=_0x5ae0f4,_0x279512=document[_0x4e2d1c(0x291)]('li');_0x279512['innerHTML']=_0x4e2d1c(0x162)+_0x3bb364[_0x4e2d1c(0x447)]+_0x4e2d1c(0x2c4)+_0x3bb364[_0x4e2d1c(0x62d)]+_0x4e2d1c(0x2f1)+_0x3bb364[_0x4e2d1c(0x62d)]+'</a>',_0x2b8ba5[_0x4e2d1c(0x613)](_0x279512);});}ntf_initNotifications(),apiERPsyncWindows();}),document[_0x4ac77e(0x1a8)]('setWarehouseId')[_0x4ac77e(0x276)](_0x4ac77e(0x463),function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document['getElementById'](_0x4ac77e(0x17b))[_0x4ac77e(0x276)](_0x4ac77e(0x463),function(_0x1b7bb2){const _0x3792a6=_0x4ac77e,_0x514c00=_0x1b7bb2['target'][_0x3792a6(0x61e)];changeEnvironments(_0x514c00);}),loadCartAndSetTabCount(_0x2642af);};