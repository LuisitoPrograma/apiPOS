/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.2.5
*/

const _0x36d314=_0x55d4;(function(_0x534dec,_0x1987d){const _0x4c4307=_0x55d4,_0x3b6428=_0x534dec();while(!![]){try{const _0x43478b=parseInt(_0x4c4307(0x160))/0x1+-parseInt(_0x4c4307(0x127))/0x2*(parseInt(_0x4c4307(0x516))/0x3)+parseInt(_0x4c4307(0x2e4))/0x4*(-parseInt(_0x4c4307(0x119))/0x5)+-parseInt(_0x4c4307(0x4a9))/0x6*(parseInt(_0x4c4307(0x232))/0x7)+-parseInt(_0x4c4307(0x335))/0x8*(-parseInt(_0x4c4307(0x515))/0x9)+-parseInt(_0x4c4307(0x1c5))/0xa*(parseInt(_0x4c4307(0x552))/0xb)+parseInt(_0x4c4307(0x114))/0xc*(parseInt(_0x4c4307(0x106))/0xd);if(_0x43478b===_0x1987d)break;else _0x3b6428['push'](_0x3b6428['shift']());}catch(_0x1baea0){_0x3b6428['push'](_0x3b6428['shift']());}}}(_0x35ef,0xe39f5));const _0x38fd9f=(function(){let _0x3254f8=!![];return function(_0x1e2902,_0x22b4fe){const _0xcd2e47=_0x3254f8?function(){const _0x38ddd0=_0x55d4;if(_0x22b4fe){const _0x1d2696=_0x22b4fe[_0x38ddd0(0x40b)](_0x1e2902,arguments);return _0x22b4fe=null,_0x1d2696;}}:function(){};return _0x3254f8=![],_0xcd2e47;};}()),_0x2de485=_0x38fd9f(this,function(){const _0x23cafe=_0x55d4;return _0x2de485[_0x23cafe(0x150)]()[_0x23cafe(0xcd)](_0x23cafe(0x589))[_0x23cafe(0x150)]()[_0x23cafe(0x4ef)](_0x2de485)['search'](_0x23cafe(0x589));});_0x2de485();const _0x38d6f9=(function(){let _0x2a7ee2=!![];return function(_0x58d33c,_0x1d1b43){const _0x56e77d=_0x2a7ee2?function(){const _0x17e8fb=_0x55d4;if(_0x1d1b43){const _0x1affbb=_0x1d1b43[_0x17e8fb(0x40b)](_0x58d33c,arguments);return _0x1d1b43=null,_0x1affbb;}}:function(){};return _0x2a7ee2=![],_0x56e77d;};}()),_0x53b2cc=_0x38d6f9(this,function(){const _0xd648ac=_0x55d4;let _0x554f00;try{const _0x3f7e99=Function('return\x20(function()\x20'+_0xd648ac(0x62c)+');');_0x554f00=_0x3f7e99();}catch(_0x49ad36){_0x554f00=window;}const _0x158cde=_0x554f00[_0xd648ac(0x2d1)]=_0x554f00[_0xd648ac(0x2d1)]||{},_0xc760d2=[_0xd648ac(0x590),_0xd648ac(0x509),_0xd648ac(0x5b2),'error',_0xd648ac(0x48e),_0xd648ac(0x63e),_0xd648ac(0x1f2)];for(let _0x2015f3=0x0;_0x2015f3<_0xc760d2[_0xd648ac(0x301)];_0x2015f3++){const _0x566bf0=_0x38d6f9['constructor'][_0xd648ac(0x1a9)][_0xd648ac(0x5ad)](_0x38d6f9),_0x197218=_0xc760d2[_0x2015f3],_0x3b0eb2=_0x158cde[_0x197218]||_0x566bf0;_0x566bf0[_0xd648ac(0x51f)]=_0x38d6f9[_0xd648ac(0x5ad)](_0x38d6f9),_0x566bf0[_0xd648ac(0x150)]=_0x3b0eb2['toString']['bind'](_0x3b0eb2),_0x158cde[_0x197218]=_0x566bf0;}});_0x53b2cc();const searchInput=document[_0x36d314(0x442)](_0x36d314(0x40a));let debounceTimer=null;searchInput[_0x36d314(0x524)](_0x36d314(0x1a7),()=>{const _0x137e88=_0x36d314,_0x31229f=searchInput[_0x137e88(0x5dc)];debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(()=>{renderProducts(_0x31229f,0x1);},0x1f4);});function RefreshProductsToIndexedDB(){return new Promise((_0x3a8469,_0x4ad14c)=>{const _0x3fcb3f=_0x55d4;createCartStore('')['then'](_0x3012cf=>{const _0x25bbb8=_0x55d4,_0x21938c=_0x3012cf[_0x25bbb8(0x336)](_0x25bbb8(0x5a7),'readwrite'),_0x5b6cb4=_0x21938c[_0x25bbb8(0x568)]('products'),_0x57a494=_0x5b6cb4[_0x25bbb8(0x4e8)]();_0x57a494['onerror']=_0x4b1d2e=>_0x4ad14c(_0x4b1d2e[_0x25bbb8(0x58d)][_0x25bbb8(0x499)]),_0x57a494['onsuccess']=()=>{const _0x8de13=_0x25bbb8;products[_0x8de13(0x55b)](_0x596444=>_0x5b6cb4[_0x8de13(0xfc)](_0x596444));},_0x21938c[_0x25bbb8(0x28e)]=()=>_0x3a8469(),_0x21938c[_0x25bbb8(0x461)]=_0x50e1a4=>_0x4ad14c(_0x50e1a4[_0x25bbb8(0x58d)][_0x25bbb8(0x499)]);})['catch'](_0x5e4328=>_0x4ad14c(new Error(_0x3fcb3f(0xe5)+_0x5e4328)));});}function getUserPermissionApiERP(_0x5a1abc){const _0x52f168=_0x36d314,_0x40d82d=myCompany[_0x52f168(0x2c4)],_0x65ebda=myCompany[_0x52f168(0xab)],_0x5f2bf1=_0x40d82d['setUserId'],_0x3189bd=_0x65ebda[_0x52f168(0x54e)](_0xc7e104=>_0xc7e104[_0x52f168(0x4fd)]==_0x5f2bf1);if(!_0x3189bd)return console[_0x52f168(0x509)]('Usuario\x20no\x20encontrado'),null;const _0x5a808a=_0x3189bd[_0x52f168(0x5ee)]['find'](_0x165d2b=>_0x165d2b['setPermissionId']==_0x5a1abc);return _0x5a808a?_0x5a808a[_0x52f168(0xe8)]:null;}function getLoggedUserSeries(){const _0x3b3b24=_0x36d314,{setUser_Local:_0x2b9053,setUsers:_0xffca38}=myCompany;if(!_0x2b9053||!_0xffca38)return console[_0x3b3b24(0x509)](_0x3b3b24(0x22b)),null;const _0x484944=_0x2b9053[_0x3b3b24(0x4fd)],_0x4fe807=_0xffca38['find'](_0x3dd565=>_0x3dd565['setUserId']==_0x484944);if(!_0x4fe807)return console['warn'](_0x3b3b24(0x465)),null;return _0x4fe807[_0x3b3b24(0x644)];}async function renderProducts(_0x135442='',_0x2dd18d=0x0){const _0x466347=_0x36d314,_0x46b944=document[_0x466347(0x442)](_0x466347(0x5a7));_0x46b944[_0x466347(0x528)]='';if(products[_0x466347(0x301)]==0x0){_0x46b944['textContent']=_0x466347(0x5e9);return;}const _0x35c639=getUserPermissionApiERP(0x2),_0x57dd4f=document['getElementById']('setWarehouseId')[_0x466347(0x5dc)],_0x225d4d=_0x135442[_0x466347(0x3b5)]()[_0x466347(0x62d)]('\x20'),_0x23c8e0=document[_0x466347(0x442)](_0x466347(0x61e))[_0x466347(0x5dc)];let _0x178060;setTipOpeOrders[_0x466347(0x3b9)](_0x1fe763=>_0x1fe763==window_options[_0x23c8e0]['setTipoOperacion'])||setTipOpeSales['some'](_0x38e524=>_0x38e524==window_options[_0x23c8e0][_0x466347(0x13b)])||setTipOpeQuotation[_0x466347(0x3b9)](_0x544f96=>_0x544f96==window_options[_0x23c8e0]['setTipoOperacion'])?_0x178060=0x2:_0x178060=0x1;const _0x37b61a=products['filter'](_0x4a6a94=>{const _0xf14a4e=_0x466347,_0x50bdcd=[_0x4a6a94[_0xf14a4e(0x237)]||'',_0x4a6a94[_0xf14a4e(0x5c7)]||'',formatVariantName(_0x4a6a94[_0xf14a4e(0x249)],_0x4a6a94[_0xf14a4e(0x25a)],0x1)||'',_0x4a6a94['setItemDescription']||'',_0x4a6a94[_0xf14a4e(0x179)]||''][_0xf14a4e(0x41f)](_0x2c7e79=>_0x2c7e79[_0xf14a4e(0x13a)]()!=='')[_0xf14a4e(0x2fb)]('\x20')['toLowerCase'](),_0x492f15=_0x225d4d[_0xf14a4e(0x455)](_0x335e6d=>_0x50bdcd['includes'](_0x335e6d)),_0x1f441f=selectedCategories[_0xf14a4e(0x301)]==0x0||selectedCategories['includes'](_0x4a6a94[_0xf14a4e(0x14c)]),_0x4ce3ef=selectedMarcas[_0xf14a4e(0x301)]==0x0||selectedMarcas['includes'](_0x4a6a94[_0xf14a4e(0x3ad)]),_0x2c199c=_0x35c639==0x1?_0x4a6a94['sucursales']&&_0x4a6a94[_0xf14a4e(0x543)]['some'](_0x5b7cbc=>String(_0x5b7cbc[_0xf14a4e(0x174)])==_0x57dd4f):!![];let _0x5c196f=!![];return _0x178060==0x1?_0x5c196f=_0x4a6a94[_0xf14a4e(0x389)]==0x1:_0x5c196f=_0x4a6a94[_0xf14a4e(0x338)]==0x1,_0x492f15&&_0x1f441f&&_0x4ce3ef&&_0x2c199c&&_0x5c196f;}),_0x4ac5a3=Math[_0x466347(0x1ac)](_0x37b61a[_0x466347(0x301)]/ itemsPerPage);_0x4ac5a3==0x0?currentPage=0x0:currentPage=Math['max'](0x1,Math[_0x466347(0x56d)](currentPage,_0x4ac5a3));const _0x5e7f2b=(currentPage-0x1)*itemsPerPage,_0x20de0d=Math[_0x466347(0x56d)](_0x5e7f2b+itemsPerPage,_0x37b61a['length']),_0x1e986c=_0x37b61a[_0x466347(0x1ca)](_0x5e7f2b,_0x20de0d);renderProductItems(_0x1e986c,_0x2dd18d),renderPaginationControls(_0x4ac5a3);}function renderProductItems(_0x49fc2e,_0xdb8960=0x0){const _0x40fdbb=_0x36d314,_0x1bab9f=document[_0x40fdbb(0x442)]('products'),_0x3d0a76=document[_0x40fdbb(0x442)](_0x40fdbb(0x61e))['value'];_0x1bab9f[_0x40fdbb(0x528)]='';if(_0x49fc2e[_0x40fdbb(0x301)]==0x0){_0x1bab9f[_0x40fdbb(0x638)]=_0x40fdbb(0x5e9);return;}const _0x322c97=document['getElementById'](_0x40fdbb(0x1af))[_0x40fdbb(0x5dc)],_0x3da781=window_options[_0x3d0a76][_0x40fdbb(0x1e1)],_0xde7a4c=getCurrencySymbol(_0x3d0a76),_0x255de4=getUserPermissionApiERP(0xb),_0x115f06=getUserPermissionApiERP(0x10);let _0x1e8ea2;setTipOpeOrders[_0x40fdbb(0x3b9)](_0x17dd7d=>_0x17dd7d==window_options[_0x3d0a76][_0x40fdbb(0x13b)])||setTipOpeSales['some'](_0x3d204e=>_0x3d204e==window_options[_0x3d0a76]['setTipoOperacion'])||setTipOpeQuotation['some'](_0x37cfda=>_0x37cfda==window_options[_0x3d0a76]['setTipoOperacion'])?_0x1e8ea2=0x2:_0x1e8ea2=0x1;const _0x1f0699=parseInt(getUserPermissionApiERP(0x15));_0x49fc2e['forEach'](_0x45543b=>{const _0x5537f1=_0x40fdbb,_0x2a0425=document['createElement'](_0x5537f1(0x50f));_0x2a0425['classList'][_0x5537f1(0xfb)]('col-md-6',_0x5537f1(0x5fe),_0x5537f1(0x4ad)),_0x2a0425['style'][_0x5537f1(0x154)]=_0x5537f1(0x347);const _0x38730c=document[_0x5537f1(0x28c)](_0x5537f1(0x50f));_0x38730c[_0x5537f1(0x9f)][_0x5537f1(0xfb)](_0x5537f1(0x383));const _0x2eaad9=(_0x45543b[_0x5537f1(0x543)]||[])[_0x5537f1(0x54e)](_0x5204a6=>_0x5204a6[_0x5537f1(0x174)]==_0x322c97);if(_0x2eaad9){const _0x52eea0=parseFloat(_0x2eaad9['setSucursalStock']),_0x2818e4=parseFloat(_0x2eaad9[_0x5537f1(0x666)]);_0x45543b[_0x5537f1(0xc9)]==0x1&&_0x52eea0<=_0x2818e4&&(_0x38730c['style']['border']=_0x5537f1(0x4b8),_0x38730c[_0x5537f1(0x279)](_0x5537f1(0x546),_0x5537f1(0x35e)+_0x2818e4[_0x5537f1(0x35c)](0x3)+'\x20'+_0x45543b[_0x5537f1(0x291)]));}_0x38730c[_0x5537f1(0x279)]('tabindex','0'),_0x38730c[_0x5537f1(0x3dc)]=()=>addToCart(_0x45543b),_0x38730c[_0x5537f1(0x524)](_0x5537f1(0x5d0),_0x3f69b7=>{const _0x220b03=_0x5537f1;_0x3f69b7[_0x220b03(0x537)]=='Enter'&&addToCart(_0x45543b);});const _0x21b5cf=document['createElement'](_0x5537f1(0x50f));_0x21b5cf[_0x5537f1(0x9f)]['add'](_0x5537f1(0x3b0)),_0x21b5cf[_0x5537f1(0x3dc)]=_0xb8f182=>{_0xb8f182['stopPropagation'](),openModalDetailsAndNtf(_0x45543b['id'],0x1);},_0x2a0425[_0x5537f1(0x47d)](_0x21b5cf);const _0x4b761d=document[_0x5537f1(0x28c)](_0x5537f1(0x50f));_0x4b761d[_0x5537f1(0x9f)][_0x5537f1(0xfb)](_0x5537f1(0x2ef));const _0x1dee3a=document[_0x5537f1(0x28c)](_0x5537f1(0x50f));_0x1dee3a[_0x5537f1(0x9f)][_0x5537f1(0xfb)](_0x5537f1(0x419));const _0x3ffced=document['createElement']('div');_0x3ffced['classList'][_0x5537f1(0xfb)](_0x5537f1(0x419),'justify-content-between');let _0x44faa2=isOnline?_0x45543b[_0x5537f1(0x56f)]:'./img/product.png';_0x38730c['style'][_0x5537f1(0x58b)]=_0x5537f1(0x4a5)+_0x44faa2+'\x27)',_0x38730c[_0x5537f1(0x461)]=function(){const _0x1234bd=_0x5537f1;_0x38730c[_0x1234bd(0x12f)][_0x1234bd(0x58b)]=_0x1234bd(0xdb);};const _0x4ff46b=document[_0x5537f1(0x28c)]('h7');let _0x5ca595='';_0x45543b['setItemDescription']!=''&&(_0x5ca595+=_0x5537f1(0x3c8)+_0x45543b[_0x5537f1(0x297)]);if(_0x45543b['setBatchExpirationDate']!=''){const _0x2bd7dd=_0x45543b[_0x5537f1(0x479)],_0x52c6ef=_0x2bd7dd[_0x5537f1(0x62d)]('-'),_0x521eec=_0x52c6ef[0x2]+'/'+_0x52c6ef[0x1]+'/'+_0x52c6ef[0x0];_0x5ca595+=_0x5537f1(0x206)+_0x521eec;}_0x45543b[_0x5537f1(0x179)]!=''&&(_0x5ca595+=_0x5537f1(0x3c8)+_0x45543b[_0x5537f1(0x179)]);let _0x51de4d=_0x45543b['setCodProducto'];_0x45543b[_0x5537f1(0x5c7)]&&_0x45543b[_0x5537f1(0x5c7)]!=''&&(_0x51de4d=_0x51de4d+_0x5537f1(0x39a)+_0x45543b[_0x5537f1(0x5c7)]+_0x5537f1(0x198));_0x4ff46b[_0x5537f1(0x528)]=_0x51de4d+_0x5537f1(0x3c8)+formatVariantName(_0x45543b[_0x5537f1(0x249)],_0x45543b['setItemVariantValues'],0x2)+'\x20'+_0x5ca595;const _0x1b426e=_0x45543b[_0x5537f1(0x366)][_0x5537f1(0x54e)](_0x4db3ea=>_0x4db3ea[_0x5537f1(0x485)]==_0x3da781)||{};let _0x1a4a1d,_0x484028,_0x3d8681;_0x1e8ea2==0x1?(_0x1a4a1d=_0x115f06==0x1?'X':(parseFloat(_0x1b426e[_0x5537f1(0x4a3)])||0x0)[_0x5537f1(0x35c)](0x2),_0x484028=(parseFloat(_0x1b426e[_0x5537f1(0x1ba)])||0x0)[_0x5537f1(0x35c)](0x2),_0x3d8681='Precio'):(_0x1a4a1d=(parseFloat(_0x1b426e[_0x5537f1(0x1ba)])||0x0)['toFixed'](0x2),_0x484028=_0x115f06==0x1?'X':(parseFloat(_0x1b426e[_0x5537f1(0x4a3)])||0x0)[_0x5537f1(0x35c)](0x2),_0x3d8681=_0x5537f1(0x56e));const _0x141c93=document[_0x5537f1(0x28c)]('p');_0x141c93[_0x5537f1(0x528)]=_0xde7a4c+'\x20'+_0x1a4a1d+'\x20('+(_0x45543b[_0x5537f1(0x8e)]&&_0x45543b[_0x5537f1(0x8e)]!=''?_0x45543b['setItemUnitAlias']:_0x45543b['setUnidad'])+')';const _0x49f2e8=document['createElement']('h6');_0x49f2e8['innerHTML']=_0x3d8681+_0x5537f1(0x5e4)+_0x484028,_0x3ffced[_0x5537f1(0x47d)](_0x49f2e8);if(_0x255de4==0x1){const _0x5736ba=_0x45543b['sucursales'][_0x5537f1(0x54e)](_0x419009=>String(_0x419009[_0x5537f1(0x174)])==_0x322c97),_0xcc63e4=_0x5736ba?parseFloat(_0x5736ba['setSucursalStock']):0x0,_0x50e3cb=document[_0x5537f1(0x28c)]('h6');_0x50e3cb[_0x5537f1(0x528)]=_0x5537f1(0x2df)+_0xcc63e4['toFixed'](0x2),_0x3ffced[_0x5537f1(0x47d)](_0x50e3cb);}const _0x1ac695=document[_0x5537f1(0x28c)]('h6');_0x1ac695[_0x5537f1(0x528)]=_0x5537f1(0x4ff)+_0x45543b[_0x5537f1(0x3ad)],_0x3ffced[_0x5537f1(0x47d)](_0x1ac695),_0x1dee3a[_0x5537f1(0x47d)](_0x4ff46b),_0x4ff46b[_0x5537f1(0x535)](_0x141c93),_0x4b761d[_0x5537f1(0x47d)](_0x1dee3a),_0x4b761d[_0x5537f1(0x47d)](_0x3ffced),_0x38730c[_0x5537f1(0x47d)](_0x4b761d),_0x2a0425[_0x5537f1(0x47d)](_0x38730c),_0x1bab9f[_0x5537f1(0x47d)](_0x2a0425);const _0x1524a3=searchInput[_0x5537f1(0x5dc)]['toLowerCase']()['trim']();_0x1f0699==0x1&&_0x49fc2e[_0x5537f1(0x301)]==0x1&&_0xdb8960!=0x0&&_0x1524a3==_0x45543b[_0x5537f1(0x5c7)][_0x5537f1(0x3b5)]()[_0x5537f1(0x13a)]()&&(addToCart(_0x45543b),searchInput[_0x5537f1(0x5dc)]='');});}function renderPaginationControls(_0x3ea6a1){const _0x1034ea=_0x36d314,_0x4ee341=document['querySelector']('#products'),_0x38681f=document[_0x1034ea(0x28c)](_0x1034ea(0x50f));_0x38681f[_0x1034ea(0x327)]=_0x1034ea(0x47e);const _0x49e300=document[_0x1034ea(0x28c)](_0x1034ea(0x278));_0x49e300[_0x1034ea(0x638)]='<Ant',_0x49e300['disabled']=currentPage<=0x1,_0x49e300[_0x1034ea(0x3dc)]=()=>{const _0x4b3be9=_0x1034ea;currentPage=Math[_0x4b3be9(0x1dd)](0x1,currentPage-0x1),renderProducts();},_0x38681f[_0x1034ea(0x47d)](_0x49e300);const _0x556ce9=document[_0x1034ea(0x28c)]('span');_0x3ea6a1==0x0?_0x556ce9[_0x1034ea(0x638)]='No\x20hay\x20resultados.':_0x556ce9[_0x1034ea(0x638)]=currentPage+_0x1034ea(0x29f)+_0x3ea6a1;_0x38681f[_0x1034ea(0x47d)](_0x556ce9);const _0x139c9c=document[_0x1034ea(0x28c)](_0x1034ea(0x278));_0x139c9c[_0x1034ea(0x638)]=_0x1034ea(0x3a2),_0x139c9c[_0x1034ea(0x41a)]=currentPage>=_0x3ea6a1,_0x139c9c[_0x1034ea(0x3dc)]=()=>{const _0x366db8=_0x1034ea;currentPage=Math[_0x366db8(0x56d)](_0x3ea6a1,currentPage+0x1),renderProducts();},_0x38681f[_0x1034ea(0x47d)](_0x139c9c);const _0x35de9f=document[_0x1034ea(0x3ef)](_0x1034ea(0x135));_0x35de9f&&_0x35de9f[_0x1034ea(0x44c)](),insertAfter(_0x38681f,_0x4ee341);}function initializeCategorys(){const _0x22f100=_0x36d314,_0x2e92ac=document['getElementById'](_0x22f100(0x1bd)),_0x53826e=_0x2e92ac[_0x22f100(0x3ef)]('ul');_0x53826e[_0x22f100(0x528)]='';const _0x5bb409=document[_0x22f100(0x442)](_0x22f100(0x1af))[_0x22f100(0x5dc)],_0x2efcd9=getUserPermissionApiERP(0x2),_0x5329c2=products['filter'](_0x4bf006=>_0x2efcd9==0x1?_0x4bf006[_0x22f100(0x543)]&&_0x4bf006[_0x22f100(0x543)][_0x22f100(0x3b9)](_0x545598=>String(_0x545598['setIdSucursal'])==_0x5bb409):!![]);products_category=[...new Set(_0x5329c2[_0x22f100(0x4a8)](_0x3d0306=>_0x3d0306[_0x22f100(0x14c)])[_0x22f100(0x41f)](_0x1dddde=>_0x1dddde))],products_category[_0x22f100(0x55b)](_0x1c0243=>{const _0x5cb2ec=_0x22f100,_0x2171e6=document['createElement']('li');_0x2171e6['innerHTML']=_0x5cb2ec(0x2a9)+_0x1c0243+_0x5cb2ec(0x355)+_0x1c0243+'\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>'+_0x1c0243+'</span>\x0a</label>',_0x53826e['appendChild'](_0x2171e6);}),products_marca=[...new Set(_0x5329c2[_0x22f100(0x4a8)](_0x55e411=>_0x55e411[_0x22f100(0x3ad)])[_0x22f100(0x41f)](_0xed7c05=>_0xed7c05))],products_marca[_0x22f100(0x55b)](_0x40d278=>{const _0x295d45=_0x22f100,_0x4a93e4=document[_0x295d45(0x28c)]('li');_0x4a93e4[_0x295d45(0x528)]=_0x295d45(0x42f)+_0x40d278+_0x295d45(0x355)+_0x40d278+_0x295d45(0x4ce)+_0x40d278+_0x295d45(0x653),_0x53826e[_0x295d45(0x47d)](_0x4a93e4);}),_0x2e92ac[_0x22f100(0x524)]('click',_0x18a995=>{const _0x1224fe=_0x22f100,_0x754cc9=_0x18a995[_0x1224fe(0x58d)][_0x1224fe(0x2f1)](_0x1224fe(0x423));if(_0x754cc9){const _0x5d6d8e=_0x754cc9[_0x1224fe(0x3ef)](_0x1224fe(0x1f7));_0x5d6d8e['checked']=!_0x5d6d8e[_0x1224fe(0x334)];const _0x24e8e5=_0x5d6d8e[_0x1224fe(0x5dc)],_0x1cb98b=_0x754cc9[_0x1224fe(0x3ef)](_0x1224fe(0x242));_0x5d6d8e['checked']?(_0x1cb98b[_0x1224fe(0x12f)]['color']=_0x1224fe(0x274),_0x1cb98b[_0x1224fe(0x12f)][_0x1224fe(0x38f)]=_0x1224fe(0x149),_0x1cb98b['style'][_0x1224fe(0x4b6)]='5px',_0x1cb98b[_0x1224fe(0x12f)][_0x1224fe(0x483)]='5px',selectedCategories[_0x1224fe(0x454)](_0x24e8e5)):(_0x1cb98b[_0x1224fe(0x12f)][_0x1224fe(0x132)]='',_0x1cb98b[_0x1224fe(0x12f)]['background']='',_0x1cb98b[_0x1224fe(0x12f)]['padding']='',_0x1cb98b['style']['borderRadius']='',selectedCategories=selectedCategories[_0x1224fe(0x41f)](_0x4ba1fa=>_0x4ba1fa!==_0x24e8e5)),renderProducts(searchInput[_0x1224fe(0x5dc)]),showSection(_0x1224fe(0x429)),showLeftSection();}const _0x1ded3a=_0x18a995[_0x1224fe(0x58d)]['closest']('.marca-label');if(_0x1ded3a){const _0x555ae2=_0x1ded3a['querySelector'](_0x1224fe(0x1f7));_0x555ae2[_0x1224fe(0x334)]=!_0x555ae2['checked'];const _0x4a5896=_0x555ae2['value'],_0x219204=_0x1ded3a['querySelector'](_0x1224fe(0x242));_0x555ae2['checked']?(_0x219204[_0x1224fe(0x12f)]['color']=_0x1224fe(0x274),_0x219204[_0x1224fe(0x12f)][_0x1224fe(0x38f)]='#FF5900',_0x219204[_0x1224fe(0x12f)][_0x1224fe(0x4b6)]='5px',_0x219204[_0x1224fe(0x12f)][_0x1224fe(0x483)]=_0x1224fe(0x5be),selectedMarcas[_0x1224fe(0x454)](_0x4a5896)):(_0x219204[_0x1224fe(0x12f)][_0x1224fe(0x132)]='',_0x219204[_0x1224fe(0x12f)]['background']='',_0x219204['style'][_0x1224fe(0x4b6)]='',_0x219204[_0x1224fe(0x12f)][_0x1224fe(0x483)]='',selectedMarcas=selectedMarcas[_0x1224fe(0x41f)](_0x28c39c=>_0x28c39c!==_0x4a5896)),renderProducts(searchInput[_0x1224fe(0x5dc)]),showSection(_0x1224fe(0x429)),showLeftSection();}});}let window_options={},medio_pago=[],carts={},tabCount=0x0,currentPage=0x1,itemsPerPage=0xc,isDragging=![],startX,scrollLeft,lastWindowWidth=window['innerWidth'];const lastOperationGlobal=new Map();function setLastOperationGlobalData(_0xe4b42f,{pdfGlobalPayload:_0x4ce238,pdfGlobalBlob:_0x54d1e0,pdfGlobalName:_0x46af43}){const _0x3a8cae=_0x36d314;lastOperationGlobal[_0x3a8cae(0x4d9)](_0xe4b42f,{'pdfGlobalPayload':_0x4ce238,'pdfGlobalBlob':_0x54d1e0,'pdfGlobalName':_0x46af43});}function getLastOperationGlobalData(_0x328d08){return lastOperationGlobal['get'](_0x328d08)||{'pdfGlobalPayload':{},'pdfGlobalBlob':'','pdfGlobalName':''};}let elementos=[],extraElements=[],posicionesPorPiso={};const layout_windows=document[_0x36d314(0x442)](_0x36d314(0x170));let currentDrag=null,offsetX=0x0,offsetY=0x0,dragStartX=0x0,dragStartY=0x0,isDraggingMoved=![],editMode=![];const styleSheet=document[_0x36d314(0x28c)](_0x36d314(0x12f));document[_0x36d314(0x162)]['appendChild'](styleSheet);let correlativeReadonly=0x0,selectedCode='51';const selectedCountry=document['getElementById'](_0x36d314(0x669)),countryList=document[_0x36d314(0x442)](_0x36d314(0x299)),sendEmailButton=document['getElementById'](_0x36d314(0x361)),sendWhatsAppButton=document[_0x36d314(0x442)]('sendWhatsApp');function createElement(_0x42ad85,_0x34949b={},_0x390101=[]){const _0x5688d0=_0x36d314,_0x114e22=document[_0x5688d0(0x28c)](_0x42ad85);return Object[_0x5688d0(0x426)](_0x34949b)[_0x5688d0(0x55b)](_0x1aad71=>{const _0x33576d=_0x5688d0;if(_0x1aad71==_0x33576d(0x510))_0x114e22[_0x33576d(0x327)]=_0x34949b[_0x1aad71];else{if(_0x1aad71=='events')Object['keys'](_0x34949b[_0x1aad71])['forEach'](_0x882a30=>{const _0x154da2=_0x33576d;_0x114e22[_0x154da2(0x524)](_0x882a30,_0x34949b[_0x1aad71][_0x882a30]);});else _0x1aad71==_0x33576d(0x528)?_0x114e22[_0x33576d(0x528)]=_0x34949b[_0x1aad71]:_0x114e22['setAttribute'](_0x1aad71,_0x34949b[_0x1aad71]);}}),_0x390101[_0x5688d0(0x55b)](_0x178600=>{const _0x51514c=_0x5688d0;typeof _0x178600==_0x51514c(0x30e)?_0x114e22['appendChild'](document['createTextNode'](_0x178600)):_0x114e22[_0x51514c(0x47d)](_0x178600);}),_0x114e22;}function styleHackHeader(_0x41dcbf,_0x50f43e){const _0xe00301=_0x36d314;styleSheet[_0xe00301(0x398)]=_0xe00301(0x27f)+_0x41dcbf+_0xe00301(0x530)+_0x50f43e+_0xe00301(0x450);}function setElementWidthImportant(_0x1a5f0e,_0x32e8a5){const _0x4f5980=_0x36d314,_0x20293d=document['getElementById'](_0x1a5f0e);_0x20293d?_0x20293d[_0x4f5980(0x12f)]['setProperty']('width',_0x32e8a5,_0x4f5980(0x60f)):console['error']('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0x1a5f0e);}function resetElementWidth(_0x243f6c){const _0x4ef210=_0x36d314,_0x3bd176=document[_0x4ef210(0x442)](_0x243f6c);_0x3bd176?_0x3bd176[_0x4ef210(0x12f)][_0x4ef210(0x4bd)](_0x4ef210(0x3e3)):console[_0x4ef210(0x499)](_0x4ef210(0x4e6)+_0x243f6c);}function isMobile(){const _0x1fa52a=_0x36d314;return window[_0x1fa52a(0x3b3)]<=0x300;}function showLeftSection(){const _0x4d6288=_0x36d314;if(isMobile()){const _0x35a0ae=document[_0x4d6288(0x442)]('div_section_left'),_0x17078e=document['getElementById'](_0x4d6288(0x30d));_0x35a0ae['style'][_0x4d6288(0x403)]('display',_0x4d6288(0x42b),'important'),_0x17078e['style'][_0x4d6288(0x403)](_0x4d6288(0x140),'none',_0x4d6288(0x60f)),styleHackHeader(_0x4d6288(0x36b),_0x4d6288(0x36b));}}function showRightSection(){const _0x24e5b6=_0x36d314;if(isMobile()){const _0x30e206=document['getElementById'](_0x24e5b6(0x28f)),_0x4f143f=document['getElementById'](_0x24e5b6(0x30d));_0x4f143f[_0x24e5b6(0x12f)][_0x24e5b6(0x403)]('display','flex',_0x24e5b6(0x60f)),_0x30e206[_0x24e5b6(0x12f)][_0x24e5b6(0x403)](_0x24e5b6(0x140),_0x24e5b6(0xb0),_0x24e5b6(0x60f)),styleHackHeader('0','0');}}function adjustHeight(){const _0x39fcd1=_0x36d314,_0x2d3448=document[_0x39fcd1(0x442)](_0x39fcd1(0x184));_0x2d3448[_0x39fcd1(0x12f)][_0x39fcd1(0x575)]=window[_0x39fcd1(0x5e1)]+'px';}function insertAfter(_0xefd6d4,_0x3da84b){const _0x562883=_0x36d314;_0x3da84b['parentNode'][_0x562883(0x569)](_0xefd6d4,_0x3da84b[_0x562883(0x185)]);}function insertBefore(_0x263964,_0x1b3f49){const _0x4c4dc1=_0x36d314;_0x1b3f49[_0x4c4dc1(0x2b0)][_0x4c4dc1(0x569)](_0x263964,_0x1b3f49);}function updateInternetIcon(){const _0x43456d=_0x36d314,_0xfeeb=document[_0x43456d(0x442)](_0x43456d(0x39e)),_0x301e29=document['getElementById'](_0x43456d(0x4dd));isOnline()?(_0xfeeb[_0x43456d(0x327)]=_0x43456d(0x553),_0x301e29[_0x43456d(0x327)]='icon-arrow-right\x20hidden',apiERPsync()):(_0xfeeb[_0x43456d(0x327)]=_0x43456d(0x54c),_0x301e29[_0x43456d(0x327)]=_0x43456d(0x553));}async function apiERPgetWindows(){const _0x5c7e3d=_0x36d314,_0x377e93=myCompany['setWindows'];let _0x472a0a=[];if(!isOnline()){hideLoadingModal(),ntfShow(_0x5c7e3d(0x1a2)),console['error'](_0x5c7e3d(0x1a2));return;}const _0x4164a5=await fetch(_0x5c7e3d(0x597),{'method':_0x5c7e3d(0x3d0),'headers':{'Content-Type':_0x5c7e3d(0x452)},'body':JSON[_0x5c7e3d(0x52b)]({'setAuthToken':myCompany[_0x5c7e3d(0x32d)],'setUserId':0x0,'apiPOS_getWindows':0x1})}),_0x21670c=await _0x4164a5[_0x5c7e3d(0x606)]();if(_0x21670c[_0x5c7e3d(0x2e0)]){const _0x346803=_0x21670c[_0x5c7e3d(0x20d)][_0x5c7e3d(0x101)];_0x472a0a=_0x346803[_0x5c7e3d(0x41f)](_0x320c00=>!_0x377e93['some'](_0xf6849e=>_0xf6849e[_0x5c7e3d(0x1f5)]==_0x320c00[_0x5c7e3d(0x1f5)])),myCompany[_0x5c7e3d(0x101)]=_0x346803;}else{hideLoadingModal(),ntfShow(_0x21670c['message']),console[_0x5c7e3d(0x499)]('Error\x20Update:',_0x21670c['message']);return;}const _0x182e4a=await createCartStore('');await saveCompanyToIndexedDB(company,_0x182e4a);for(const _0x1b6496 of _0x472a0a){await new Promise(_0x1038a9=>setTimeout(_0x1038a9,0x12c)),await createCartStore(_0x1b6496[_0x5c7e3d(0x1f5)]);}}async function apiERPsyncWindows(){const _0x51d136=_0x36d314;if(isLoggedIn(company)){isOnline()&&await apiERPupdateOnline(myCompany[_0x51d136(0x32d)],myCompany['setWindows']);const _0x4cb887=document['getElementById'](_0x51d136(0x3fe))[_0x51d136(0x5dc)],_0x1729fd=myCompany[_0x51d136(0x1ff)],_0x88747=_0x1729fd[_0x51d136(0x54e)](_0xbd8399=>_0xbd8399[_0x51d136(0x3fe)]==_0x4cb887&&_0xbd8399[_0x51d136(0x2f0)]==0x2),_0x38861d=getUserPermissionApiERP(0xd),_0x3a695e=_0x88747?0x1:0x0;if(_0x3a695e==0x1&&_0x38861d==0x1){const _0x4a801f=_0x51d136(0x5c9)+generateUUID(),_0xd9343f=document['createElement']('iframe');_0xd9343f[_0x51d136(0x482)]=_0x4a801f,_0xd9343f[_0x51d136(0x12f)][_0x51d136(0x140)]=_0x51d136(0xb0),document[_0x51d136(0x287)][_0x51d136(0x47d)](_0xd9343f);const _0x457630=document[_0x51d136(0x28c)](_0x51d136(0x1cf));_0x457630[_0x51d136(0x39f)]=_0x51d136(0x3d0),_0x457630[_0x51d136(0x613)]=_0x88747['setServerRoot'],_0x457630[_0x51d136(0x3d6)]=_0x51d136(0x304),_0x457630[_0x51d136(0x58d)]=_0xd9343f['name'];const _0x3772ce={'setWindows':JSON[_0x51d136(0x52b)](myCompany[_0x51d136(0x101)])};for(const _0x3156f4 in _0x3772ce){const _0x15dbf8=document[_0x51d136(0x28c)]('input');_0x15dbf8[_0x51d136(0x24c)]='hidden',_0x15dbf8[_0x51d136(0x482)]=_0x3156f4,_0x15dbf8[_0x51d136(0x5dc)]=_0x3772ce[_0x3156f4],_0x457630[_0x51d136(0x47d)](_0x15dbf8);}document[_0x51d136(0x287)][_0x51d136(0x47d)](_0x457630),_0x457630['submit'](),document[_0x51d136(0x287)][_0x51d136(0xbd)](_0x457630),setTimeout(()=>{const _0x29a1ea=_0x51d136;document[_0x29a1ea(0x287)][_0x29a1ea(0xbd)](_0xd9343f);},0x1388);}}}async function apiERPupdateOnline(_0x17ac50,_0x41e50c){const _0xdcb2e=_0x36d314;if(!isOnline())return console[_0xdcb2e(0x590)]('Error\x20Network.'),Promise['reject'](_0xdcb2e(0x3ed));const _0x497751={'setAuthToken':_0x17ac50,'setWindows':_0x41e50c};return fetch(_0xdcb2e(0x1e0),{'method':'POST','headers':{'Content-Type':_0xdcb2e(0x5bc)},'body':JSON[_0xdcb2e(0x52b)](_0x497751)})[_0xdcb2e(0x667)](_0x2fdc3f=>{const _0x460762=_0xdcb2e;if(!_0x2fdc3f['ok'])throw new Error(_0x460762(0x43c)+_0x2fdc3f[_0x460762(0x52a)]);return _0x2fdc3f[_0x460762(0x606)]();})[_0xdcb2e(0x667)](_0x32777f=>{const _0xd4d025=_0xdcb2e;if(!_0x32777f[_0xd4d025(0x2e0)])throw new Error(_0x32777f['message']||'Error\x20desconocido\x20al\x20actualizar\x20Data.');return console['log'](_0xd4d025(0x4b1)),_0x32777f;})[_0xdcb2e(0x3d5)](_0x39b1ef=>{const _0x295a8f=_0xdcb2e;console[_0x295a8f(0x499)]('Error\x20al\x20actualizar\x20data\x20online:',_0x39b1ef);throw _0x39b1ef;});}async function apiERPsyncWindowsCartTmp(){const _0x46d644=_0x36d314;isLoggedIn(company)&&(isOnline()&&await apiERPupdateOnlineCartTmp(myCompany[_0x46d644(0x32d)],myCompany[_0x46d644(0x101)]));}async function apiERPupdateOnlineCartTmp(_0x564513,_0x40fdc9){const _0x218e38=_0x36d314;if(!isOnline())return console['log'](_0x218e38(0x3ed)),Promise[_0x218e38(0x1b2)](_0x218e38(0x3ed));const _0x3e78fc={'setAuthToken':_0x564513,'setWindows':_0x40fdc9};return fetch(_0x218e38(0x5b4),{'method':_0x218e38(0x3d0),'headers':{'Content-Type':_0x218e38(0x5bc)},'body':JSON['stringify'](_0x3e78fc)})['then'](_0x202c5d=>{const _0x2ba3b6=_0x218e38;if(!_0x202c5d['ok'])throw new Error('Error\x20al\x20guardar\x20el\x20layout:\x20'+_0x202c5d[_0x2ba3b6(0x52a)]);return _0x202c5d[_0x2ba3b6(0x606)]();})[_0x218e38(0x667)](_0x19f12d=>{const _0x351e46=_0x218e38;if(!_0x19f12d['success'])throw new Error(_0x19f12d['message']||_0x351e46(0x1a6));return console['log'](_0x351e46(0x4b1)),_0x19f12d;})[_0x218e38(0x3d5)](_0x24cb3d=>{const _0x3667e2=_0x218e38;console[_0x3667e2(0x499)](_0x3667e2(0x209),_0x24cb3d);throw _0x24cb3d;});}async function apiERPsync(){await apiERPsyncWindows(),await apiERPsyncWindowsCartTmp(),processOfflineOperations();}function obtener_fechaHora(){const _0x1e29dd=_0x36d314,_0x5b72ad=new Date(),_0x13211a=_0x5b72ad['getFullYear'](),_0x281174=String(_0x5b72ad[_0x1e29dd(0x172)]()+0x1)['padStart'](0x2,'0'),_0x5b1e40=String(_0x5b72ad[_0x1e29dd(0x128)]())[_0x1e29dd(0x663)](0x2,'0'),_0x53c0ff=String(_0x5b72ad['getHours']())[_0x1e29dd(0x663)](0x2,'0'),_0x2e668f=String(_0x5b72ad[_0x1e29dd(0x34e)]())[_0x1e29dd(0x663)](0x2,'0'),_0x2d81bf=_0x13211a+'-'+_0x281174+'-'+_0x5b1e40+'T'+_0x53c0ff+':'+_0x2e668f;return _0x2d81bf;}async function createFormElements(_0x200c6a){const _0x3d61cb=_0x36d314,_0x51253e=_0x200c6a[_0x3d61cb(0x62d)]('-')[0x1],_0x44e7e8=document[_0x3d61cb(0x442)](_0x3d61cb(0x1d5)),_0x84fdfa=document['getElementById']('cart-panel'),_0x1897e9=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x1897e9['id']=_0x3d61cb(0x5c8)+_0x51253e,_0x1897e9[_0x3d61cb(0x327)]='tab-content\x20active\x20tab-'+_0x51253e,_0x44e7e8[_0x3d61cb(0x47d)](_0x1897e9);const _0xf889c0=document[_0x3d61cb(0x442)](_0x3d61cb(0x5c8)+_0x51253e),_0x1fd49f=document['createElement'](_0x3d61cb(0x50f));_0x1fd49f['id']=_0x3d61cb(0x294)+_0x51253e,_0x1fd49f[_0x3d61cb(0x327)]=_0x3d61cb(0x481),_0xf889c0['appendChild'](_0x1fd49f);const _0x175762=document[_0x3d61cb(0x442)](_0x3d61cb(0x294)+_0x51253e),_0x5d519c=createElement(_0x3d61cb(0x50f),{'class':'div-width-35\x20col-bt-left-padding'}),_0x30cc53=myCompany[_0x3d61cb(0x3fa)][_0x3d61cb(0x4a8)](_0x2f9885=>{const _0x272424=_0x3d61cb;return createElement(_0x272424(0x4c5),{'value':_0x2f9885[_0x272424(0xef)]},[_0x2f9885['setTipoOperacionName']]);}),_0x53ca7a=createElement('select',{'id':'setTipoOperacion-'+_0x51253e,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-background\x20input-select-background','events':{'change':_0x441716=>{const _0x2ca0fd=_0x3d61cb;updateSerieAndRenderCart(_0x441716[_0x2ca0fd(0x58d)][_0x2ca0fd(0x5dc)],_0x51253e);}}},_0x30cc53);_0x5d519c['appendChild'](_0x53ca7a),_0x175762[_0x3d61cb(0x47d)](_0x5d519c);const _0x23a979=createElement('div',{'class':'div-width-30\x20col-bt-padding'}),_0x59d578=createElement(_0x3d61cb(0x425),{'id':'setSerie-'+_0x51253e,'class':_0x3d61cb(0x303)});_0x23a979[_0x3d61cb(0x47d)](_0x59d578),_0x175762['appendChild'](_0x23a979);const _0x545169=document[_0x3d61cb(0x28c)]('div');_0x545169[_0x3d61cb(0x327)]=_0x3d61cb(0x319);const _0x5a34b2=document['createElement'](_0x3d61cb(0x1a7));_0x5a34b2['id']=_0x3d61cb(0x1b6)+_0x51253e,_0x5a34b2[_0x3d61cb(0x24c)]=_0x3d61cb(0x53a),_0x5a34b2['className']=_0x3d61cb(0x330),_0x5a34b2[_0x3d61cb(0x35d)]=_0x3d61cb(0x387),_0x5a34b2['onchange']=_0x59aaf4=>updateWindowOption(_0x51253e,_0x3d61cb(0x1d0),_0x59aaf4[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)]),_0x545169[_0x3d61cb(0x47d)](_0x5a34b2),_0x175762[_0x3d61cb(0x47d)](_0x545169);const _0x5e389f=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x5e389f[_0x3d61cb(0x327)]=_0x3d61cb(0x292);const _0x3e9b00=document[_0x3d61cb(0x28c)](_0x3d61cb(0x278));_0x3e9b00['id']=_0x3d61cb(0xaa)+_0x51253e,_0x3e9b00[_0x3d61cb(0x24c)]=_0x3d61cb(0x278),_0x3e9b00[_0x3d61cb(0x528)]=_0x3d61cb(0x15f),_0x3e9b00[_0x3d61cb(0x327)]=_0x3d61cb(0x55f),_0x3e9b00[_0x3d61cb(0x3dc)]=()=>{showSection('div_section_options');},_0x5e389f[_0x3d61cb(0x47d)](_0x3e9b00),_0x175762[_0x3d61cb(0x47d)](_0x5e389f);const _0x16ec41=myCompany[_0x3d61cb(0x564)]['map'](_0x153aac=>{const _0x4f448c=_0x3d61cb;return createElement(_0x4f448c(0x4c5),{'value':_0x153aac[_0x4f448c(0x3c6)]},[_0x153aac['setMonedaCodigo']]);}),_0x6dcde8=createElement(_0x3d61cb(0x425),{'id':'setMoneda-'+_0x51253e,'class':_0x3d61cb(0x5a8),'events':{'change':_0x109ada=>updateChangeMoneda(_0x51253e,_0x3d61cb(0x1e1),_0x109ada[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},_0x16ec41),_0x3f5ecc=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x595)},[_0x6dcde8]);_0x175762['appendChild'](_0x3f5ecc);const _0x5b100f=myCompany[_0x3d61cb(0x5d5)][_0x3d61cb(0x4a8)](_0x1ddd22=>{const _0x4d466e=_0x3d61cb;return createElement(_0x4d466e(0x4c5),{'value':_0x1ddd22['setTipoDocCodigo']},[_0x1ddd22[_0x4d466e(0xb3)]]);}),_0x1aeaf9=createElement('select',{'id':'setClienteTipoDoc-'+_0x51253e,'class':'custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setClienteTipoDoc','events':{'change':_0x5b992a=>updateWindowOption(_0x51253e,_0x3d61cb(0x5f0),_0x5b992a[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},_0x5b100f),_0x2b63a5=createElement('div',{'class':'div-width-30\x20col-bt-padding'},[_0x1aeaf9]);_0x175762[_0x3d61cb(0x47d)](_0x2b63a5);const _0x2524d1=document['createElement']('div');_0x2524d1[_0x3d61cb(0x327)]=_0x3d61cb(0x319);const _0x3a9731=document[_0x3d61cb(0x28c)](_0x3d61cb(0x1a7));_0x3a9731['id']=_0x3d61cb(0x266)+_0x51253e,_0x3a9731['type']=_0x3d61cb(0x648),_0x3a9731[_0x3d61cb(0x312)]='off',_0x3a9731[_0x3d61cb(0x35d)]='Nº',_0x3a9731[_0x3d61cb(0x327)]=_0x3d61cb(0x3f9),_0x3a9731[_0x3d61cb(0x3cf)]=_0x214fa5=>updateWindowOption(_0x51253e,_0x3d61cb(0x87),_0x214fa5['target'][_0x3d61cb(0x5dc)]),_0x3a9731[_0x3d61cb(0x524)](_0x3d61cb(0x1db),_0x50f896=>{const _0xc87484=_0x3d61cb;_0x50f896[_0xc87484(0x537)]==_0xc87484(0x5c5)&&setupConsulta(_0x51253e);}),_0x3a9731['addEventListener']('input',async _0x233d9d=>{const _0x68ba4b=_0x3d61cb,_0xf65317=window_options[_0x51253e],_0x90613f=_0x3a9731[_0x68ba4b(0x5dc)];_0xf65317[_0x68ba4b(0x13b)]==0x4&&_0xf65317[_0x68ba4b(0x5f0)]=='RUC'&&_0x90613f[_0x68ba4b(0x301)]==0xb&&(await updateWindowOption(_0x51253e,_0x68ba4b(0x87),_0x90613f),setupConsulta(_0x51253e));}),_0x3a9731[_0x3d61cb(0x524)]('keydown',_0x5b4a4b=>{const _0x12b9de=_0x3d61cb;if(_0x5b4a4b[_0x12b9de(0x537)]==_0x12b9de(0x2f9)||_0x5b4a4b[_0x12b9de(0x537)]==_0x12b9de(0x476)){const _0x536b3a=document[_0x12b9de(0x442)]('setClienteDenominacion-'+_0x51253e),_0x5a87be=document[_0x12b9de(0x442)](_0x12b9de(0x1b3)+_0x51253e);_0x536b3a&&(_0x536b3a['value']='',window_options[_0x51253e][_0x12b9de(0x641)]=''),_0x5a87be&&(_0x5a87be[_0x12b9de(0x5dc)]='',window_options[_0x51253e][_0x12b9de(0x438)]='');}}),_0x2524d1[_0x3d61cb(0x47d)](_0x3a9731),_0x175762[_0x3d61cb(0x47d)](_0x2524d1);const _0x3d3c9a=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x3d3c9a[_0x3d61cb(0x327)]=_0x3d61cb(0x292);const _0x52cb0f=document[_0x3d61cb(0x28c)]('button');_0x52cb0f['id']=_0x3d61cb(0x66a)+_0x51253e,_0x52cb0f['type']=_0x3d61cb(0x278),_0x52cb0f[_0x3d61cb(0x528)]=_0x3d61cb(0x317),_0x52cb0f[_0x3d61cb(0x327)]=_0x3d61cb(0x53c),_0x52cb0f[_0x3d61cb(0x3dc)]=()=>setupConsulta(_0x51253e),_0x3d3c9a[_0x3d61cb(0x47d)](_0x52cb0f),_0x175762[_0x3d61cb(0x47d)](_0x3d3c9a);const _0x3df7cb=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x3df7cb['className']='div-width-100\x20col-bt-left-padding',_0x3df7cb[_0x3d61cb(0x12f)][_0x3d61cb(0x154)]=_0x3d61cb(0x347);const _0x30de58=document[_0x3d61cb(0x28c)](_0x3d61cb(0x1a7));_0x30de58['id']=_0x3d61cb(0x53f)+_0x51253e,_0x30de58['type']='text',_0x30de58[_0x3d61cb(0x312)]=_0x3d61cb(0x48b),_0x30de58[_0x3d61cb(0x327)]='custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDenominacion',_0x30de58[_0x3d61cb(0x3cf)]=_0x706d0c=>updateWindowOption(_0x51253e,_0x3d61cb(0x641),_0x706d0c[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)]);const _0x87c72b=document['createElement'](_0x3d61cb(0x50f));_0x87c72b['id']=_0x3d61cb(0x18d)+_0x51253e,_0x87c72b['className']=_0x3d61cb(0x5df),_0x30de58[_0x3d61cb(0x524)]('keypress',_0x5d1876=>{const _0x1bb508=_0x3d61cb;_0x5d1876['key']==_0x1bb508(0x5c5)&&(setupConsulta(_0x51253e),document[_0x1bb508(0x442)](_0x1bb508(0x18d)+_0x51253e)[_0x1bb508(0x528)]='');}),_0x30de58[_0x3d61cb(0x524)](_0x3d61cb(0x5d0),function(_0x272fdc){const _0x195ba5=_0x3d61cb;_0x272fdc['key']=='Tab'&&_0x87c72b[_0x195ba5(0x64b)][_0x195ba5(0x301)]>0x0&&(_0x272fdc[_0x195ba5(0xbb)](),_0x272fdc[_0x195ba5(0x511)](),_0x87c72b[_0x195ba5(0x64b)][0x0][_0x195ba5(0x302)]());}),_0x3df7cb[_0x3d61cb(0x47d)](_0x30de58),_0x3df7cb['appendChild'](_0x87c72b),_0x175762['appendChild'](_0x3df7cb),_0x30de58[_0x3d61cb(0x524)](_0x3d61cb(0x1a7),function(){const _0x484bab=_0x3d61cb,_0x59f8fa=this['value'][_0x484bab(0x13a)]()[_0x484bab(0x3b5)]();_0x87c72b[_0x484bab(0x528)]='';if(_0x59f8fa['length']==0x0)return;const _0x6b452e=_0x59f8fa[_0x484bab(0x62d)](/\s+/)['filter'](_0xfa228=>_0xfa228);let _0x49bac9,_0x5b5056;setTipOpeOrders[_0x484bab(0x3b9)](_0x5f1e0f=>_0x5f1e0f==window_options[_0x51253e]['setTipoOperacion'])||setTipOpeSales[_0x484bab(0x3b9)](_0x33444a=>_0x33444a==window_options[_0x51253e][_0x484bab(0x13b)])||setTipOpeQuotation[_0x484bab(0x3b9)](_0x265d0f=>_0x265d0f==window_options[_0x51253e]['setTipoOperacion'])?(_0x49bac9=myCompany[_0x484bab(0xa8)],_0x5b5056=_0x49bac9[_0x484bab(0x41f)](_0x280ae6=>{const _0x5020c7=_0x484bab,_0x186012=(_0x280ae6[_0x5020c7(0x10a)]||'')[_0x5020c7(0x3b5)](),_0x14a27c=(_0x280ae6[_0x5020c7(0x576)]||'')['toLowerCase'](),_0x5896b1=_0x186012+'\x20'+_0x14a27c;return _0x6b452e[_0x5020c7(0x455)](_0x30de3b=>_0x5896b1['includes'](_0x30de3b));})):(_0x49bac9=myCompany[_0x484bab(0x20c)],_0x5b5056=_0x49bac9[_0x484bab(0x41f)](_0x307e1a=>{const _0x7c9b2f=_0x484bab,_0x277a54=(_0x307e1a[_0x7c9b2f(0x9a)]||'')[_0x7c9b2f(0x3b5)](),_0x14d20f=(_0x307e1a[_0x7c9b2f(0x654)]||'')[_0x7c9b2f(0x3b5)](),_0x2825ee=_0x277a54+'\x20'+_0x14d20f;return _0x6b452e['every'](_0x1e8be2=>_0x2825ee[_0x7c9b2f(0x62a)](_0x1e8be2));}));if(_0x5b5056['length']>0x0)_0x5b5056[_0x484bab(0x55b)](_0x1149a6=>{const _0x2eeeda=_0x484bab,_0x1d8c99=document['createElement']('div');_0x1d8c99['className']=_0x2eeeda(0x2d9);let _0x405be8,_0xa9352b,_0x463223;setTipOpeOrders[_0x2eeeda(0x3b9)](_0x1781fd=>_0x1781fd==window_options[_0x51253e][_0x2eeeda(0x13b)])||setTipOpeSales[_0x2eeeda(0x3b9)](_0x4b8fa3=>_0x4b8fa3==window_options[_0x51253e][_0x2eeeda(0x13b)])||setTipOpeQuotation[_0x2eeeda(0x3b9)](_0xf69c44=>_0xf69c44==window_options[_0x51253e][_0x2eeeda(0x13b)])?(_0x405be8=_0x1149a6[_0x2eeeda(0x576)],_0xa9352b=_0x1149a6[_0x2eeeda(0x10a)],_0x463223=_0x1149a6[_0x2eeeda(0xf8)]):(_0x405be8=_0x1149a6['setSupplierDocumentNumber'],_0xa9352b=_0x1149a6[_0x2eeeda(0x9a)],_0x463223=_0x1149a6[_0x2eeeda(0x1dc)]),_0x405be8?_0x1d8c99[_0x2eeeda(0x638)]=_0x405be8+'\x20-\x20'+_0xa9352b:_0x1d8c99[_0x2eeeda(0x638)]=_0xa9352b,_0x1d8c99['tabIndex']=0x0,_0x1d8c99[_0x2eeeda(0x524)]('click',()=>{const _0x30e84c=_0x2eeeda;_0x30de58[_0x30e84c(0x5dc)]=_0xa9352b;const _0x2a829a=document[_0x30e84c(0x442)]('setClienteNumDoc-'+_0x51253e),_0x31e9b8=document[_0x30e84c(0x442)](_0x30e84c(0x1b3)+_0x51253e);_0x2a829a&&(_0x2a829a['value']=_0x405be8||''),_0x31e9b8&&(_0x31e9b8['value']=_0x463223||''),window_options[_0x51253e][_0x30e84c(0x641)]=_0xa9352b,window_options[_0x51253e][_0x30e84c(0x87)]=_0x405be8,window_options[_0x51253e]['setClienteDireccion']=_0x463223,saveWindowOptionsDB(_0x51253e)[_0x30e84c(0x3d5)](_0x2827a3=>console[_0x30e84c(0x499)](_0x30e84c(0x607),_0x2827a3)),_0x87c72b['innerHTML']='';}),_0x1d8c99[_0x2eeeda(0x524)](_0x2eeeda(0x5d0),function(_0x176b55){const _0x140ab1=_0x2eeeda;if(_0x176b55[_0x140ab1(0x537)]=='Enter')_0x176b55['stopPropagation'](),this[_0x140ab1(0x45d)]();else{if(_0x176b55[_0x140ab1(0x537)]=='Tab'){_0x176b55[_0x140ab1(0xbb)](),_0x176b55[_0x140ab1(0x511)]();if(_0x176b55['shiftKey']){if(this==_0x87c72b[_0x140ab1(0x2eb)])_0x30de58[_0x140ab1(0x302)]();else{let _0x158636=this[_0x140ab1(0x414)];if(_0x158636)_0x158636[_0x140ab1(0x302)]();}}else this[_0x140ab1(0x2a8)]?this[_0x140ab1(0x2a8)]['focus']():_0x30de58['focus']();}}}),_0x87c72b['appendChild'](_0x1d8c99);});else{const _0x16c389=document[_0x484bab(0x28c)](_0x484bab(0x50f));_0x16c389[_0x484bab(0x327)]=_0x484bab(0x20a),_0x16c389[_0x484bab(0x638)]=_0x484bab(0x2b3),_0x87c72b[_0x484bab(0x47d)](_0x16c389);}});const _0x59b0bb=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x59b0bb['className']=_0x3d61cb(0x3e9);const _0x2e66f2=document[_0x3d61cb(0x28c)]('input');_0x2e66f2['id']=_0x3d61cb(0x1b3)+_0x51253e,_0x2e66f2['type']=_0x3d61cb(0x648),_0x2e66f2[_0x3d61cb(0x312)]=_0x3d61cb(0x48b),_0x2e66f2[_0x3d61cb(0x35d)]=_0x3d61cb(0x12b),_0x2e66f2['className']=_0x3d61cb(0x434),_0x2e66f2[_0x3d61cb(0x3cf)]=_0x57a0f6=>updateWindowOption(_0x51253e,_0x3d61cb(0x438),_0x57a0f6[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)]),_0x59b0bb[_0x3d61cb(0x47d)](_0x2e66f2),_0x175762[_0x3d61cb(0x47d)](_0x59b0bb);const _0x4d7c89=document[_0x3d61cb(0x28c)]('div');_0x4d7c89[_0x3d61cb(0x327)]=_0x3d61cb(0x645);const _0xc768ff=document['createElement'](_0x3d61cb(0x278));_0xc768ff['id']=_0x3d61cb(0x15a)+_0x51253e,_0xc768ff['type']=_0x3d61cb(0x278),_0xc768ff[_0x3d61cb(0x528)]='Precuenta\x20<img\x20src=\x27./img/icon-duplicar.svg\x27\x20class=\x27img-btnopt\x27>',_0xc768ff['className']=_0x3d61cb(0x3ab),_0xc768ff[_0x3d61cb(0x3dc)]=_0x129918=>setPreAccount(_0x51253e),_0xc768ff[_0x3d61cb(0x12f)][_0x3d61cb(0x53b)]=_0x3d61cb(0x5be),_0xc768ff['style'][_0x3d61cb(0x384)]='5px',_0x4d7c89[_0x3d61cb(0x47d)](_0xc768ff),_0x175762['appendChild'](_0x4d7c89);const _0x47ead4=document['createElement']('div');_0x47ead4[_0x3d61cb(0x327)]=_0x3d61cb(0x2a2);const _0x12c630=document[_0x3d61cb(0x28c)](_0x3d61cb(0x278));_0x12c630['id']=_0x3d61cb(0x574)+_0x51253e,_0x12c630[_0x3d61cb(0x24c)]='button',_0x12c630[_0x3d61cb(0x528)]=_0x3d61cb(0x556),_0x12c630['className']=_0x3d61cb(0x382),_0x12c630[_0x3d61cb(0x3dc)]=()=>setBill(_0x51253e),_0x47ead4['appendChild'](_0x12c630),_0x175762[_0x3d61cb(0x47d)](_0x47ead4);const _0x3ec741=document[_0x3d61cb(0x28c)]('div');_0x3ec741[_0x3d61cb(0x327)]='div-width-24\x20btnopt';const _0xdc7b81=document[_0x3d61cb(0x28c)]('button');_0xdc7b81['id']=_0x3d61cb(0x5a3)+_0x51253e,_0xdc7b81[_0x3d61cb(0x24c)]='button',_0xdc7b81['innerHTML']=_0x3d61cb(0x27b),_0xdc7b81[_0x3d61cb(0x327)]=_0x3d61cb(0xc6);let _0x2b85ce=![];_0xdc7b81[_0x3d61cb(0x3dc)]=()=>{const _0xce01fd=_0x3d61cb;_0x2b85ce=!_0x2b85ce,_0x2b85ce?_0xdc7b81[_0xce01fd(0x12f)]['backgroundColor']=_0xce01fd(0x32c):_0xdc7b81[_0xce01fd(0x12f)][_0xce01fd(0x16d)]='',updateWindowOption(_0x51253e,'setConsumo',_0x2b85ce?0x1:0x0);},_0x3ec741[_0x3d61cb(0x47d)](_0xdc7b81),_0x175762['appendChild'](_0x3ec741);const _0x481538=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x481538[_0x3d61cb(0x327)]=_0x3d61cb(0x2a2);const _0x323d40=document[_0x3d61cb(0x28c)](_0x3d61cb(0x278));_0x323d40['id']='btnopt_dividir-'+_0x51253e,_0x323d40[_0x3d61cb(0x24c)]=_0x3d61cb(0x278),_0x323d40['innerHTML']=_0x3d61cb(0x4e9),_0x323d40[_0x3d61cb(0x327)]=_0x3d61cb(0x5d2);let _0x3955eb=![];_0x323d40[_0x3d61cb(0x3dc)]=()=>{const _0x525792=_0x3d61cb,_0x1b83c3=document[_0x525792(0x442)](_0x525792(0x3a7)+_0x51253e),_0x406507=document[_0x525792(0x348)](_0x525792(0x561)+_0x51253e);_0x406507[_0x525792(0x55b)](_0x2b0372=>{const _0xa7313b=_0x525792;_0x3955eb?_0x2b0372[_0xa7313b(0x9f)][_0xa7313b(0xfb)](_0xa7313b(0x362)):_0x2b0372[_0xa7313b(0x9f)][_0xa7313b(0x44c)]('hidden');}),_0x3955eb?(_0x323d40['style'][_0x525792(0x16d)]='',_0x1b83c3['classList']['add'](_0x525792(0x362))):(_0x323d40[_0x525792(0x12f)][_0x525792(0x16d)]='#f7f7f7',_0x1b83c3['classList'][_0x525792(0x44c)]('hidden')),_0x3955eb=!_0x3955eb,updateWindowOption(_0x51253e,_0x525792(0x4e5),_0x3955eb?0x1:0x0);},_0x323d40[_0x3d61cb(0x12f)][_0x3d61cb(0x3e8)]=_0x3d61cb(0x5be),_0x323d40['style']['borderBottomRightRadius']=_0x3d61cb(0x5be),_0x481538[_0x3d61cb(0x47d)](_0x323d40),_0x175762['appendChild'](_0x481538);const _0x2e057e=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x2e057e['id']=_0x3d61cb(0x3a7)+_0x51253e,_0x2e057e['className']=_0x3d61cb(0x20f),_0x2e057e['style'][_0x3d61cb(0x38f)]=_0x3d61cb(0x32c),_0x2e057e[_0x3d61cb(0x12f)][_0x3d61cb(0x199)]='0',_0x2e057e[_0x3d61cb(0x12f)][_0x3d61cb(0x513)]=_0x3d61cb(0x2e1);const _0x450b6b=createElement(_0x3d61cb(0x1a7),{'type':'checkbox','id':'itemCheckboxAll-'+_0x51253e,'value':0x0,'events':{'click':_0x426525=>selectAllChecks(_0x51253e)}});_0x450b6b[_0x3d61cb(0x12f)][_0x3d61cb(0x199)]=_0x3d61cb(0x258),_0x2e057e[_0x3d61cb(0x47d)](_0x450b6b),_0x175762[_0x3d61cb(0x47d)](_0x2e057e);const _0x95d533=document['getElementById'](_0x3d61cb(0x1d1)),_0x5b2042=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x5b2042['id']='active\x20tab-section-options-'+_0x51253e,_0x5b2042[_0x3d61cb(0x327)]=_0x3d61cb(0x555)+_0x51253e,_0x95d533['appendChild'](_0x5b2042);const _0x14de17=document[_0x3d61cb(0x442)]('active\x20tab-section-options-'+_0x51253e),_0x3076b2=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x3076b2['id']=_0x3d61cb(0x55e)+_0x51253e,_0x3076b2[_0x3d61cb(0x327)]='container-section-options',_0x14de17[_0x3d61cb(0x47d)](_0x3076b2);const _0x19dd76=document[_0x3d61cb(0x28c)]('div');_0x19dd76['id']='container-title-options-'+_0x51253e,_0x19dd76[_0x3d61cb(0x327)]=_0x3d61cb(0x192),_0x14de17[_0x3d61cb(0x47d)](_0x19dd76);const _0x2f0a2d=document['getElementById']('container-section-options-'+_0x51253e),_0x47b342=createElement(_0x3d61cb(0x36c),{'class':'label-options'},[_0x3d61cb(0x1ab)]),_0xc7b7aa=[{'value':'1','text':_0x3d61cb(0x36f)},{'value':'3','text':_0x3d61cb(0x324)}][_0x3d61cb(0x4a8)](_0x5209e7=>createElement(_0x3d61cb(0x4c5),{'value':_0x5209e7['value']},[_0x5209e7[_0x3d61cb(0x648)]])),_0x5f5bd=createElement(_0x3d61cb(0x425),{'id':'setTipoOperacionInvoice-'+_0x51253e,'class':_0x3d61cb(0xcf),'events':{'change':_0x44fd5b=>updateWindowOption(_0x51253e,_0x3d61cb(0x307),_0x44fd5b['target'][_0x3d61cb(0x5dc)])}},_0xc7b7aa),_0xd525cf=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x428)},[_0x47b342,_0x5f5bd]),_0x37d3b1=createElement(_0x3d61cb(0x36c),{'class':_0x3d61cb(0x468)},['FECHA:']),_0x196519=createElement(_0x3d61cb(0x1a7),{'id':_0x3d61cb(0x1d8)+_0x51253e,'type':_0x3d61cb(0x2bf),'class':_0x3d61cb(0xa7),'events':{'change':_0x4a773a=>updateWindowOption(_0x51253e,'setFechaHora',_0x4a773a['target'][_0x3d61cb(0x5dc)])}}),_0x3ff539=createElement(_0x3d61cb(0x50f),{'class':'div-width-options\x20col-bt-padding-options'},[_0x37d3b1,_0x196519]),_0x761cb3=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x662)},[_0xd525cf,_0x3ff539]);_0x2f0a2d[_0x3d61cb(0x47d)](_0x761cb3);const _0x35221d=createElement(_0x3d61cb(0x36c),{'class':'label-options'},[_0x3d61cb(0x34d)]),_0x5481af=createElement(_0x3d61cb(0x1a7),{'id':_0x3d61cb(0x410)+_0x51253e,'type':_0x3d61cb(0x648),'class':_0x3d61cb(0x5b5),'events':{'change':_0x4d8735=>updateWindowOption(_0x51253e,_0x3d61cb(0x49d),_0x4d8735[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}}),_0xd56436=createElement(_0x3d61cb(0x50f),{'class':'div-width-options\x20col-bt-padding-options'},[_0x35221d,_0x5481af]),_0x52306d=createElement(_0x3d61cb(0x36c),{'class':'label-options'},[_0x3d61cb(0x360)]),_0x4a5c9a=createElement('input',{'id':_0x3d61cb(0x593)+_0x51253e,'type':'email','class':_0x3d61cb(0x3bc),'events':{'change':_0x110d4f=>updateWindowOption(_0x51253e,'setCustomerEmail',_0x110d4f[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}}),_0x321b83=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x428)},[_0x52306d,_0x4a5c9a]),_0x3bdc52=createElement(_0x3d61cb(0x50f),{'class':'div-group-container\x20div-width-100'},[_0xd56436,_0x321b83]);_0x2f0a2d['appendChild'](_0x3bdc52);const _0x2cfe06=createElement(_0x3d61cb(0x36c),{'class':_0x3d61cb(0x468)},[_0x3d61cb(0x349)]),_0x3210a2=myCompany[_0x3d61cb(0x18a)]['map'](_0x165418=>createElement(_0x3d61cb(0x4c5),{'value':_0x165418[_0x3d61cb(0x37a)]},[_0x165418[_0x3d61cb(0x37b)]])),_0x2cda93=createElement(_0x3d61cb(0x425),{'id':_0x3d61cb(0x12d)+_0x51253e,'class':_0x3d61cb(0x17f),'events':{'change':_0x5841d7=>updateWindowOption(_0x51253e,'setSellerId',_0x5841d7[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},_0x3210a2),_0x4d7d06=createElement(_0x3d61cb(0x50f),{'class':'div-width-options\x20col-bt-padding-options'},[_0x2cfe06,_0x2cda93]),_0x11a51f=createElement(_0x3d61cb(0x36c),{'class':_0x3d61cb(0x468)},[_0x3d61cb(0x3de)]),_0x1789b8=[{'value':'1','text':_0x3d61cb(0x611)},{'value':'2','text':'No\x20Despachar'},{'value':'3','text':_0x3d61cb(0x3ee)}][_0x3d61cb(0x4a8)](_0x1c1371=>createElement(_0x3d61cb(0x4c5),{'value':_0x1c1371[_0x3d61cb(0x5dc)]},[_0x1c1371[_0x3d61cb(0x648)]])),_0x51427f=createElement(_0x3d61cb(0x425),{'id':_0x3d61cb(0x5f6)+_0x51253e,'class':_0x3d61cb(0x18e),'events':{'change':_0x4b59e8=>updateWindowOption(_0x51253e,_0x3d61cb(0xd3),_0x4b59e8[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},_0x1789b8),_0x2a78ad=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x428)},[_0x11a51f,_0x51427f]),_0x5f47f2=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x662)},[_0x4d7d06,_0x2a78ad]);_0x2f0a2d[_0x3d61cb(0x47d)](_0x5f47f2);const _0x1149aa=createElement(_0x3d61cb(0x36c),{'class':'label-options'},['APLICAR:']),_0x3ff529=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x46e)}),_0x4253d5=createElement(_0x3d61cb(0x1a7),{'type':'checkbox','id':_0x3d61cb(0xb5)+_0x51253e,'class':'custom-checkbox','events':{'change':_0x3512ac=>toggleTaxFields(_0x3512ac,_0x3d61cb(0x27c),_0x51253e)}}),_0x5f242e=createElement(_0x3d61cb(0x36c),{'for':_0x3d61cb(0xb5)+_0x51253e,'class':'label-options\x20mb-2'},[_0x3d61cb(0x12a)]),_0xa714d9=createElement(_0x3d61cb(0x425),{'id':_0x3d61cb(0x466)+_0x51253e,'class':'hidden\x20custom-input-cart-options\x20form-select\x20form-select-normal\x20mb-2','events':{'change':_0x4dafaf=>updateWindowOption(_0x51253e,_0x3d61cb(0x1d3),_0x4dafaf[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},[createElement(_0x3d61cb(0x4c5),{'value':'0'},[_0x3d61cb(0x570)]),createElement('option',{'value':'001'},[_0x3d61cb(0x3be)]),createElement('option',{'value':'003'},[_0x3d61cb(0x129)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x1a0)},[_0x3d61cb(0x260)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x2aa)},[_0x3d61cb(0x539)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x459)},[_0x3d61cb(0x4a2)]),createElement(_0x3d61cb(0x4c5),{'value':'007'},['Caña\x20de\x20azúcar']),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x189)},[_0x3d61cb(0x19e)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x181)},[_0x3d61cb(0x3dd)]),createElement(_0x3d61cb(0x4c5),{'value':'010'},['Residuos,\x20subproductos,\x20desechos,\x20recortes\x20y\x20desperdicios']),createElement('option',{'value':'011'},[_0x3d61cb(0x141)]),createElement('option',{'value':_0x3d61cb(0x2af)},[_0x3d61cb(0x3d8)]),createElement('option',{'value':_0x3d61cb(0x4f9)},['Animales\x20vivos']),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x25e)},[_0x3d61cb(0x61a)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x578)},['Abonos,\x20cueros\x20y\x20pieles\x20de\x20origen\x20animal']),createElement(_0x3d61cb(0x4c5),{'value':'016'},[_0x3d61cb(0x391)]),createElement('option',{'value':_0x3d61cb(0xd9)},[_0x3d61cb(0xf4)]),createElement('option',{'value':'018'},[_0x3d61cb(0x293)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x177)},[_0x3d61cb(0x3c2)]),createElement('option',{'value':'020'},[_0x3d61cb(0x4ac)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x473)},[_0x3d61cb(0x2fa)]),createElement(_0x3d61cb(0x4c5),{'value':'022'},[_0x3d61cb(0x4cc)]),createElement(_0x3d61cb(0x4c5),{'value':'023'},[_0x3d61cb(0x628)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x187)},['Comisión\x20mercantil']),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x664)},[_0x3d61cb(0x4eb)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0xb8)},[_0x3d61cb(0x2e9)]),createElement(_0x3d61cb(0x4c5),{'value':'029'},['Algodón\x20en\x20rama\x20sin\x20desmontar']),createElement('option',{'value':'030'},['Contratos\x20de\x20construcción']),createElement(_0x3d61cb(0x4c5),{'value':'031'},[_0x3d61cb(0x41c)]),createElement('option',{'value':_0x3d61cb(0x2c0)},[_0x3d61cb(0x612)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x125)},[_0x3d61cb(0x55c)]),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x333)},['Minerales\x20metálicos\x20no\x20auríferos']),createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x443)},[_0x3d61cb(0x5cf)]),createElement(_0x3d61cb(0x4c5),{'value':'036'},[_0x3d61cb(0x202)]),createElement(_0x3d61cb(0x4c5),{'value':'037'},['Demás\x20servicios\x20gravados\x20con\x20el\x20IGV']),createElement('option',{'value':_0x3d61cb(0x368)},[_0x3d61cb(0x64c)]),createElement(_0x3d61cb(0x4c5),{'value':''},[_0x3d61cb(0x105)])]),_0x179ec5=createElement('input',{'type':_0x3d61cb(0x53a),'id':'detraccionPct-'+_0x51253e,'class':_0x3d61cb(0x2d6),'value':'','placeholder':_0x3d61cb(0x59a),'events':{'change':_0x510568=>calculateTax(_0x3d61cb(0x27c),_0x51253e)}}),_0x653aea=createElement('input',{'type':_0x3d61cb(0x648),'id':_0x3d61cb(0x15e)+_0x51253e,'class':_0x3d61cb(0x2d6),'readonly':!![],'placeholder':_0x3d61cb(0x1b9)});_0x3ff529[_0x3d61cb(0x47d)](_0x4253d5),_0x3ff529[_0x3d61cb(0x47d)](_0x5f242e),_0x3ff529[_0x3d61cb(0x47d)](_0xa714d9),_0x3ff529[_0x3d61cb(0x47d)](_0x179ec5),_0x3ff529[_0x3d61cb(0x47d)](_0x653aea);const _0x31e584=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x46e)}),_0x5b4970=createElement(_0x3d61cb(0x1a7),{'type':_0x3d61cb(0x3f7),'id':_0x3d61cb(0x412)+_0x51253e,'class':'custom-checkbox','events':{'change':_0x2bfaba=>toggleTaxFields(_0x2bfaba,_0x3d61cb(0x534),_0x51253e)}}),_0x30691b=createElement('label',{'for':_0x3d61cb(0x412)+_0x51253e,'class':_0x3d61cb(0xeb)},[_0x3d61cb(0x433)]),_0x535db9=createElement(_0x3d61cb(0x1a7),{'type':_0x3d61cb(0x53a),'id':'retencionPct-'+_0x51253e,'class':_0x3d61cb(0x2d6),'value':'3','placeholder':_0x3d61cb(0x1c6),'events':{'change':_0x518beb=>calculateTax(_0x3d61cb(0x534),_0x51253e)}}),_0x4d712f=createElement('input',{'type':_0x3d61cb(0x648),'id':_0x3d61cb(0x3c4)+_0x51253e,'class':_0x3d61cb(0x2d6),'readonly':!![],'placeholder':_0x3d61cb(0x27a)});_0x31e584['appendChild'](_0x5b4970),_0x31e584['appendChild'](_0x30691b),_0x31e584['appendChild'](_0x535db9),_0x31e584[_0x3d61cb(0x47d)](_0x4d712f);const _0x27463b=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x46e)}),_0x54ad39=createElement(_0x3d61cb(0x1a7),{'type':_0x3d61cb(0x3f7),'id':'chkPercepcion-'+_0x51253e,'class':_0x3d61cb(0x56b),'events':{'change':_0x363396=>toggleTaxFields(_0x363396,_0x3d61cb(0x498),_0x51253e)}}),_0x3e1b67=createElement(_0x3d61cb(0x36c),{'for':_0x3d61cb(0x91)+_0x51253e,'class':_0x3d61cb(0xeb)},['PERCEPCIÓN']),_0x35c51b=createElement('input',{'type':'number','id':_0x3d61cb(0x2fe)+_0x51253e,'class':_0x3d61cb(0x2d6),'value':'2','placeholder':_0x3d61cb(0x400),'events':{'change':_0x2176bc=>calculateTax('Percepcion',_0x51253e)}}),_0x149854=createElement('input',{'type':_0x3d61cb(0x648),'id':'percepcionTotal-'+_0x51253e,'class':_0x3d61cb(0x2d6),'readonly':!![],'placeholder':_0x3d61cb(0xf5)});_0x27463b['appendChild'](_0x54ad39),_0x27463b['appendChild'](_0x3e1b67),_0x27463b[_0x3d61cb(0x47d)](_0x35c51b),_0x27463b[_0x3d61cb(0x47d)](_0x149854);const _0x578c8a=createElement('label',{'class':_0x3d61cb(0x468)},[_0x3d61cb(0xf6)]),_0x5a5481=createElement(_0x3d61cb(0x418),{'id':_0x3d61cb(0x377)+_0x51253e,'rows':0x4,'class':_0x3d61cb(0x30a),'events':{'change':_0x1c710f=>updateWindowOption(_0x51253e,_0x3d61cb(0x31f),_0x1c710f[_0x3d61cb(0x58d)]['value'])}}),_0x357085=createElement('div',{'class':_0x3d61cb(0x428)},[_0x578c8a,_0x5a5481]),_0x57eff9=createElement('div',{'class':_0x3d61cb(0x428)},[_0x1149aa,_0x3ff529,_0x31e584,_0x27463b]),_0x591e3a=createElement(_0x3d61cb(0x50f),{'class':'div-group-container\x20div-width-100'},[_0x57eff9,_0x357085]);_0x2f0a2d[_0x3d61cb(0x47d)](_0x591e3a);const _0x3f80eb=createElement(_0x3d61cb(0x4c5),{'value':'1'},[_0x3d61cb(0x17e)]),_0x478d8b=createElement('option',{'value':'2'},[_0x3d61cb(0x339)]),_0x5f5588=createElement('option',{'value':'3'},[_0x3d61cb(0x602)]),_0x4d6b9e=createElement('select',{'id':_0x3d61cb(0x267)+_0x51253e,'class':_0x3d61cb(0x85),'events':{'change':_0x1099f4=>updateWindowOption(_0x51253e,_0x3d61cb(0xfa),_0x1099f4[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)])}},[_0x3f80eb,_0x478d8b,_0x5f5588]),_0x39eeb7=createElement(_0x3d61cb(0x4c5),{'value':'0','selected':!![]},[_0x3d61cb(0x4dc)]),_0x1217b9=myCompany[_0x3d61cb(0x3fa)][_0x3d61cb(0x4a8)](_0x50085d=>createElement(_0x3d61cb(0x4c5),{'value':_0x50085d[_0x3d61cb(0xef)]},[_0x50085d['setTipoOperacionName']])),_0x4af185=createElement(_0x3d61cb(0x425),{'id':_0x3d61cb(0x4cd)+_0x51253e,'class':_0x3d61cb(0x4fc),'events':{'change':_0x282abe=>updateSerieOptionsAttach(_0x282abe[_0x3d61cb(0x58d)][_0x3d61cb(0x5dc)],_0x51253e)}},[_0x39eeb7,..._0x1217b9]),_0x9ec60f=createElement(_0x3d61cb(0x425),{'id':'setAttachSeries-'+_0x51253e,'class':_0x3d61cb(0x38d)}),_0x2e09fd=createElement('input',{'id':_0x3d61cb(0x367)+_0x51253e,'type':_0x3d61cb(0x53a),'class':'custom-input-cart-options\x20form-control\x20custom-input-cart-setAttachNumber\x20mb-2'}),_0x7c22ad=createElement('button',{'id':_0x3d61cb(0x356)+_0x51253e,'type':'button','class':_0x3d61cb(0x37d),'innerHTML':'Obtener','events':{'click':()=>consultAttach(_0x51253e)}}),_0x294bdf=createElement(_0x3d61cb(0x50f),{'id':_0x3d61cb(0x5ab)+_0x51253e}),_0x545075=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x428)},[_0x4d6b9e,_0x4af185,_0x9ec60f,_0x2e09fd,_0x7c22ad,_0x294bdf]),_0x532cac=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x662)},[_0x545075]);_0x2f0a2d[_0x3d61cb(0x47d)](_0x532cac);const _0x203f25=document[_0x3d61cb(0x442)](_0x3d61cb(0x5a4)+_0x51253e),_0x3a135a=createElement(_0x3d61cb(0x242),{'innerHTML':'&times;'}),_0xbef8d5=createElement('button',{'id':'closeModalOptions-'+_0x51253e,'class':'close\x20closeModal\x20margin-left-auto','type':_0x3d61cb(0x278)},[_0x3a135a]),_0x1d197a=createElement(_0x3d61cb(0x50f),{'class':_0x3d61cb(0x2f6)},[_0xbef8d5]);_0x203f25[_0x3d61cb(0x47d)](_0x1d197a);const _0x485165=createElement(_0x3d61cb(0x44b),{'class':'img-options-o','src':_0x3d61cb(0x311)}),_0x276b5a=createElement(_0x3d61cb(0x242),{'class':_0x3d61cb(0x4d4),'innerHTML':_0x3d61cb(0x233)}),_0x57933f=createElement(_0x3d61cb(0x278),{'class':'btn-options'},[_0x485165,_0x276b5a]);_0x203f25[_0x3d61cb(0x47d)](_0x57933f);const _0x47b721=createElement(_0x3d61cb(0x44b),{'class':_0x3d61cb(0x5ae),'src':_0x3d61cb(0x28a)}),_0xf2c925=createElement(_0x3d61cb(0x278),{'class':'btn-options'},[_0x47b721,_0x3d61cb(0x34b)]);_0x203f25[_0x3d61cb(0x47d)](_0xf2c925);const _0x4fbc5e=createElement('img',{'class':'img-options','src':_0x3d61cb(0x41d)}),_0x1e685a=createElement(_0x3d61cb(0x278),{'class':'btn-options'},[_0x4fbc5e,_0x3d61cb(0x656)]);_0x203f25[_0x3d61cb(0x47d)](_0x1e685a);const _0x262443=createElement(_0x3d61cb(0x44b),{'class':'img-options','src':_0x3d61cb(0x1d9)}),_0x292e97=createElement(_0x3d61cb(0x278),{'class':_0x3d61cb(0x5db)},[_0x262443,_0x3d61cb(0x246)]);_0x203f25[_0x3d61cb(0x47d)](_0x292e97);const _0x567422=createElement(_0x3d61cb(0x44b),{'class':'img-options','src':'./img/icon-gastos.svg'}),_0x2b5edd=createElement(_0x3d61cb(0x278),{'class':_0x3d61cb(0x5db)},[_0x567422,_0x3d61cb(0x659)]);_0x203f25['appendChild'](_0x2b5edd);const _0x102fc4=createElement(_0x3d61cb(0x44b),{'class':'img-options','src':_0x3d61cb(0x167)}),_0x451ed9=createElement(_0x3d61cb(0x278),{'class':'btn-options','events':{'click':()=>{const _0x504be4=_0x3d61cb;window[_0x504be4(0x45e)][_0x504be4(0x5af)]=_0x504be4(0x9c);}}},[_0x102fc4,'Reporte\x20de\x20ventas']);_0x203f25[_0x3d61cb(0x47d)](_0x451ed9);const _0x2af58b=createElement(_0x3d61cb(0x44b),{'class':_0x3d61cb(0x5ae),'src':_0x3d61cb(0x207)}),_0x25a2d6=createElement(_0x3d61cb(0x278),{'class':_0x3d61cb(0x5db),'events':{'click':()=>{const _0x1f686a=_0x3d61cb;window['location'][_0x1f686a(0x5af)]='settings.html';}}},[_0x2af58b,_0x3d61cb(0x44d)]);_0x203f25[_0x3d61cb(0x47d)](_0x25a2d6);const _0x4047f1=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x4047f1['id']=_0x3d61cb(0x30b)+_0x51253e,_0x4047f1[_0x3d61cb(0x327)]='tab-content\x20active\x20tab-'+_0x51253e+'\x20flex-column\x20flex-grow-1',_0x84fdfa[_0x3d61cb(0x47d)](_0x4047f1);const _0x76adc6=document[_0x3d61cb(0x442)](_0x3d61cb(0x30b)+_0x51253e),_0x23d5ae=document['createElement'](_0x3d61cb(0x50f));_0x23d5ae['id']=_0x3d61cb(0x523)+_0x51253e,_0x23d5ae['className']='cart-panel\x20d-flex\x20flex-column\x20flex-grow-1',_0x76adc6[_0x3d61cb(0x47d)](_0x23d5ae);const _0x5cfc6a=document['getElementById'](_0x3d61cb(0x523)+_0x51253e),_0xaea943=document['createElement']('div');_0xaea943['id']=_0x3d61cb(0x1a3)+_0x51253e,_0xaea943[_0x3d61cb(0x327)]=_0x3d61cb(0x64d),_0x5cfc6a['appendChild'](_0xaea943);const _0x1d97c7=document[_0x3d61cb(0x442)](_0x3d61cb(0x5d1)),_0x567cc7=document['createElement'](_0x3d61cb(0x50f));_0x567cc7['id']=_0x3d61cb(0x11f)+_0x51253e,_0x567cc7[_0x3d61cb(0x327)]=_0x3d61cb(0x33a)+_0x51253e,_0x1d97c7[_0x3d61cb(0x47d)](_0x567cc7);const _0x2f56f3=document[_0x3d61cb(0x442)](_0x3d61cb(0x11f)+_0x51253e),_0x55f081=document['createElement'](_0x3d61cb(0x50f));_0x55f081['id']=_0x3d61cb(0x431)+_0x51253e,_0x55f081[_0x3d61cb(0x327)]=_0x3d61cb(0x61d),_0x2f56f3[_0x3d61cb(0x47d)](_0x55f081);const _0x2b9fe9=document[_0x3d61cb(0x442)](_0x3d61cb(0x431)+_0x51253e),_0x155d74=document[_0x3d61cb(0x28c)]('div');_0x155d74[_0x3d61cb(0x327)]=_0x3d61cb(0x3da);const _0x3a5356=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x3a5356[_0x3d61cb(0x327)]='float-left-totals',_0x3a5356['id']='float-left-TotalDescuento-'+_0x51253e,_0x3a5356['innerHTML']=_0x3d61cb(0x2f7);const _0x23d379=document['createElement'](_0x3d61cb(0x242));_0x23d379[_0x3d61cb(0x327)]=_0x3d61cb(0x2cd),_0x23d379['id']=_0x3d61cb(0x10b)+_0x51253e,_0x23d379[_0x3d61cb(0x528)]=_0x3d61cb(0x622)+_0x51253e+_0x3d61cb(0x63a),_0x155d74[_0x3d61cb(0x47d)](_0x3a5356),_0x155d74['appendChild'](_0x23d379),_0x2b9fe9[_0x3d61cb(0x47d)](_0x155d74);const _0x53b150=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x53b150[_0x3d61cb(0x327)]='div-totals-right',_0x53b150['id']=_0x3d61cb(0x5b3)+_0x51253e;const _0x56374e=document['createElement']('span');_0x56374e[_0x3d61cb(0x327)]=_0x3d61cb(0x5d8),_0x56374e['id']='float-left-TotalDescuentoItems-'+_0x51253e,_0x56374e['innerHTML']=_0x3d61cb(0x521);const _0x4f999e=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x4f999e['className']=_0x3d61cb(0x2cd),_0x4f999e['id']=_0x3d61cb(0x14d)+_0x51253e,_0x4f999e[_0x3d61cb(0x528)]=_0x3d61cb(0x4a6),_0x53b150[_0x3d61cb(0x47d)](_0x56374e),_0x53b150[_0x3d61cb(0x47d)](_0x4f999e),_0x2b9fe9[_0x3d61cb(0x47d)](_0x53b150);const _0x1de998=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x1de998[_0x3d61cb(0x327)]=_0x3d61cb(0x547);const _0x16e047=document[_0x3d61cb(0x28c)]('span');_0x16e047['className']=_0x3d61cb(0x5d8),_0x16e047['id']=_0x3d61cb(0x3ec)+_0x51253e,_0x16e047[_0x3d61cb(0x528)]=_0x3d61cb(0x3c9);const _0x4b11f6=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x4b11f6[_0x3d61cb(0x327)]=_0x3d61cb(0x2cd),_0x4b11f6['id']=_0x3d61cb(0x586)+_0x51253e,_0x4b11f6[_0x3d61cb(0x528)]='0.00',_0x1de998[_0x3d61cb(0x47d)](_0x16e047),_0x1de998[_0x3d61cb(0x47d)](_0x4b11f6),_0x2b9fe9['appendChild'](_0x1de998);const _0x42f9f3=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x42f9f3[_0x3d61cb(0x327)]=_0x3d61cb(0x547);const _0x206169=document[_0x3d61cb(0x28c)]('span');_0x206169[_0x3d61cb(0x327)]='float-left-totals',_0x206169['id']=_0x3d61cb(0x4e0)+_0x51253e,_0x206169[_0x3d61cb(0x528)]=_0x3d61cb(0x2ae);const _0x388075=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x388075[_0x3d61cb(0x327)]='float-right-totals',_0x388075['id']='float-right-OpExonerada-'+_0x51253e,_0x388075[_0x3d61cb(0x528)]=_0x3d61cb(0x4a6),_0x42f9f3['appendChild'](_0x206169),_0x42f9f3['appendChild'](_0x388075),_0x2b9fe9[_0x3d61cb(0x47d)](_0x42f9f3);const _0xc42686=document[_0x3d61cb(0x28c)]('div');_0xc42686['className']=_0x3d61cb(0x547);const _0x5a7595=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x5a7595['className']=_0x3d61cb(0x5d8),_0x5a7595['id']=_0x3d61cb(0x254)+_0x51253e,_0x5a7595[_0x3d61cb(0x528)]=_0x3d61cb(0x38c);const _0x1cd188=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x1cd188['className']=_0x3d61cb(0x2cd),_0x1cd188['id']=_0x3d61cb(0x28b)+_0x51253e,_0x1cd188[_0x3d61cb(0x528)]=_0x3d61cb(0x4a6),_0xc42686[_0x3d61cb(0x47d)](_0x5a7595),_0xc42686['appendChild'](_0x1cd188),_0x2b9fe9[_0x3d61cb(0x47d)](_0xc42686);const _0x4602c5=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x4602c5['className']=_0x3d61cb(0x547);const _0x2b87f1=document['createElement']('span');_0x2b87f1[_0x3d61cb(0x327)]=_0x3d61cb(0x5d8),_0x2b87f1['id']=_0x3d61cb(0x1ed)+_0x51253e,_0x2b87f1[_0x3d61cb(0x528)]=_0x3d61cb(0x4d3);const _0x1d67d7=document[_0x3d61cb(0x28c)]('span');_0x1d67d7['className']=_0x3d61cb(0x2cd),_0x1d67d7['id']=_0x3d61cb(0xc8)+_0x51253e,_0x1d67d7['innerHTML']='0.00',_0x4602c5['appendChild'](_0x2b87f1),_0x4602c5[_0x3d61cb(0x47d)](_0x1d67d7),_0x2b9fe9[_0x3d61cb(0x47d)](_0x4602c5);const _0x1a60b6=document['createElement']('div');_0x1a60b6[_0x3d61cb(0x327)]=_0x3d61cb(0x3da),_0x1a60b6['id']=_0x3d61cb(0x4ae)+_0x51253e;const _0x29e31e=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x29e31e['className']=_0x3d61cb(0x5d8),_0x29e31e['id']=_0x3d61cb(0x60a)+_0x51253e,_0x29e31e[_0x3d61cb(0x528)]=_0x3d61cb(0x2b6);const _0x20b2a9=document[_0x3d61cb(0x28c)]('span');_0x20b2a9[_0x3d61cb(0x327)]='float-right-totals',_0x20b2a9['id']='float-right-Subtotal-'+_0x51253e,_0x20b2a9['innerHTML']=_0x3d61cb(0x4a6),_0x1a60b6[_0x3d61cb(0x47d)](_0x29e31e),_0x1a60b6[_0x3d61cb(0x47d)](_0x20b2a9),_0x2b9fe9[_0x3d61cb(0x47d)](_0x1a60b6);const _0x2b3b5e=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x2b3b5e[_0x3d61cb(0x327)]=_0x3d61cb(0x3da),_0x2b3b5e['id']=_0x3d61cb(0x55a)+_0x51253e;const _0x1bd4bb=document[_0x3d61cb(0x28c)]('span');_0x1bd4bb[_0x3d61cb(0x327)]='float-left-totals',_0x1bd4bb['id']=_0x3d61cb(0x23d)+_0x51253e,_0x1bd4bb['innerHTML']=_0x3d61cb(0x283);const _0x5458e8=document[_0x3d61cb(0x28c)]('span');_0x5458e8[_0x3d61cb(0x327)]='float-right-totals',_0x5458e8['id']=_0x3d61cb(0x624)+_0x51253e,_0x5458e8['innerHTML']=_0x3d61cb(0x4a6),_0x2b3b5e[_0x3d61cb(0x47d)](_0x1bd4bb),_0x2b3b5e[_0x3d61cb(0x47d)](_0x5458e8),_0x2b9fe9[_0x3d61cb(0x47d)](_0x2b3b5e);const _0xa64224=document['createElement'](_0x3d61cb(0x50f));_0xa64224['className']=_0x3d61cb(0x547),_0xa64224['id']='div-totals-right-TotalIgvGratuitas-'+_0x51253e;const _0x50ae9d=document[_0x3d61cb(0x28c)]('span');_0x50ae9d[_0x3d61cb(0x327)]='float-left-totals',_0x50ae9d['id']=_0x3d61cb(0x214)+_0x51253e,_0x50ae9d['innerHTML']=_0x3d61cb(0x1b8);const _0x46c812=document['createElement']('span');_0x46c812[_0x3d61cb(0x327)]=_0x3d61cb(0x2cd),_0x46c812['id']=_0x3d61cb(0x20b)+_0x51253e,_0x46c812[_0x3d61cb(0x528)]=_0x3d61cb(0x4a6),_0xa64224[_0x3d61cb(0x47d)](_0x50ae9d),_0xa64224[_0x3d61cb(0x47d)](_0x46c812),_0x2b9fe9[_0x3d61cb(0x47d)](_0xa64224);const _0x1e66aa=document[_0x3d61cb(0x28c)](_0x3d61cb(0x278));_0x1e66aa['id']=_0x3d61cb(0x363)+_0x51253e,_0x1e66aa['className']='btn-cart-pay',_0x1e66aa[_0x3d61cb(0x3dc)]=()=>validateOperation(_0x51253e,'div_section_pay');const _0x54ba2b=document[_0x3d61cb(0x28c)](_0x3d61cb(0x242));_0x54ba2b['className']=_0x3d61cb(0x4fb),_0x54ba2b['id']=_0x3d61cb(0x58c)+_0x51253e,_0x54ba2b['innerHTML']=_0x3d61cb(0x247);const _0x470221=document[_0x3d61cb(0x28c)]('span');_0x470221[_0x3d61cb(0x327)]=_0x3d61cb(0x17c),_0x470221['id']=_0x3d61cb(0x643)+_0x51253e,_0x470221['innerHTML']=_0x3d61cb(0x4a6),_0x1e66aa[_0x3d61cb(0x47d)](_0x54ba2b),_0x1e66aa[_0x3d61cb(0x47d)](_0x470221),_0x2b9fe9[_0x3d61cb(0x47d)](_0x1e66aa);const _0x4e41dd=document[_0x3d61cb(0x442)](_0x3d61cb(0x122)),_0x253d1c=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x253d1c['id']='active\x20tab-section-pay-'+_0x51253e,_0x253d1c[_0x3d61cb(0x327)]=_0x3d61cb(0x555)+_0x51253e,_0x4e41dd['appendChild'](_0x253d1c);const _0x33d42d=document['getElementById'](_0x3d61cb(0x34a)+_0x51253e),_0x54f05e=document[_0x3d61cb(0x28c)](_0x3d61cb(0x50f));_0x54f05e['id']=_0x3d61cb(0x138)+_0x51253e,_0x54f05e[_0x3d61cb(0x327)]=_0x3d61cb(0x3c3),_0x33d42d[_0x3d61cb(0x47d)](_0x54f05e);const _0x3191b5=document[_0x3d61cb(0x442)](_0x3d61cb(0x138)+_0x51253e),_0x3e7a37=createElement(_0x3d61cb(0x425),{'id':_0x3d61cb(0x147)+_0x51253e,'class':_0x3d61cb(0x362),'events':{'change':_0x3317f9=>handlePaymentMethodChange(_0x3317f9,_0x51253e)}},[createElement(_0x3d61cb(0x4c5),{'value':_0x3d61cb(0x532)},[_0x3d61cb(0x275)]),createElement('option',{'value':_0x3d61cb(0x2ad)},[_0x3d61cb(0x3d4)]),createElement(_0x3d61cb(0x4c5),{'value':'mixto'},[_0x3d61cb(0x3e5)])]),_0xaf688d=createElement(_0x3d61cb(0x50f),{'class':'divs_payments\x20d-flex\x20flex-grow-1','id':_0x3d61cb(0x2dc)+_0x51253e}),_0x61f3d8=[{'value':_0x3d61cb(0x532),'text':_0x3d61cb(0x275),'className':_0x3d61cb(0x1aa),'imgSrc':_0x3d61cb(0x5e3)},{'value':_0x3d61cb(0x2ad),'text':_0x3d61cb(0x3d4),'className':_0x3d61cb(0x50e),'imgSrc':_0x3d61cb(0x111)},{'value':_0x3d61cb(0x64f),'text':'Contado\x20y\x20Crédito','className':_0x3d61cb(0x5f2),'imgSrc':_0x3d61cb(0x660)}];_0x61f3d8[_0x3d61cb(0x55b)](_0x28d509=>{const _0x4063f7=_0x3d61cb,_0x1653e1=createElement('a',{'href':'#','class':_0x4063f7(0x2f3)+_0x28d509[_0x4063f7(0x327)]+'\x20payment-option-'+_0x51253e,'events':{'click':_0x4924fb=>{const _0x271ba0=_0x4063f7;_0x4924fb['preventDefault'](),document[_0x271ba0(0x442)]('setMedioPago-'+_0x51253e)['value']=_0x28d509['value'],triggerChangeEventById(_0x271ba0(0x147)+_0x51253e),updateActivePaymentOption(_0x51253e,_0x28d509[_0x271ba0(0x327)]);}}},[createElement(_0x4063f7(0x50f),{},[_0x28d509[_0x4063f7(0x648)]]),createElement(_0x4063f7(0x44b),{'src':_0x28d509[_0x4063f7(0x2bc)],'alt':_0x28d509[_0x4063f7(0x648)],'class':_0x4063f7(0xc2)})]);_0xaf688d[_0x4063f7(0x47d)](_0x1653e1);});const _0x1dcf30=createElement(_0x3d61cb(0x50f),{'id':_0x3d61cb(0x399)+_0x51253e}),_0x44bc1c=createElement(_0x3d61cb(0x50f),{'id':_0x3d61cb(0x220)+_0x51253e});_0x3191b5[_0x3d61cb(0x47d)](_0x3e7a37),_0x3191b5[_0x3d61cb(0x47d)](_0xaf688d),_0x3191b5['appendChild'](_0x1dcf30),_0x3191b5['appendChild'](_0x44bc1c);const _0x5d1a97=document['getElementById']('closeModalOptions-'+_0x51253e);if(!_0x5d1a97){console['error'](_0x3d61cb(0x4c6));return;}_0x5d1a97[_0x3d61cb(0x33f)](_0x5d1a97['cloneNode'](!![]));const _0x316a29=document['getElementById']('closeModalOptions-'+_0x51253e);_0x316a29[_0x3d61cb(0x524)]('click',()=>hideModalOptions());let _0x4dd2d3=_0x53ca7a['options'][_0x53ca7a[_0x3d61cb(0x3a8)]][_0x3d61cb(0x5dc)],_0x2f8bbc=null;for(const _0x5ae9c7 of setTipOpeSales){const _0x138792=Array['from'](_0x53ca7a['options'])['some'](_0x9fe15d=>_0x9fe15d[_0x3d61cb(0x5dc)]==_0x5ae9c7);if(_0x138792){_0x2f8bbc=_0x5ae9c7;break;}}_0x2f8bbc!==null&&(_0x4dd2d3=_0x2f8bbc);const _0x51c359=getUserPermissionApiERP(0x9);parseInt(_0x51c359)>0x0&&(_0x4dd2d3=_0x51c359);const _0x534458=window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x13b)]?window_options[_0x51253e][_0x3d61cb(0x13b)]:_0x4dd2d3;let _0x10242a=0x0;if(setTipOpeOrders['some'](_0x4e9aa8=>_0x4e9aa8==_0x534458))_0x10242a=0x1;else{if(setTipOpeSales[_0x3d61cb(0x3b9)](_0x5609b2=>_0x5609b2==_0x534458))_0x10242a=0x2;else{if(setTipOpePurchases[_0x3d61cb(0x3b9)](_0x41e565=>_0x41e565==_0x534458))_0x10242a=0x3;else setTipOpeQuotation[_0x3d61cb(0x3b9)](_0x224a5a=>_0x224a5a==_0x534458)&&(_0x10242a=0x4);}}const _0x2e6df1=myCompany[_0x3d61cb(0x4de)][_0x3d61cb(0x54e)](_0x524125=>_0x524125[_0x3d61cb(0x100)]==_0x10242a)?.[_0x3d61cb(0x238)]??'',_0x232fc2=myCompany[_0x3d61cb(0x18a)]&&myCompany[_0x3d61cb(0x18a)][_0x3d61cb(0x54e)](_0x1d4c23=>_0x1d4c23[_0x3d61cb(0xf2)]==myCompany[_0x3d61cb(0x2c4)][_0x3d61cb(0x4a4)]),_0x15d699=_0x232fc2?_0x232fc2['setCollaboratorId']:_0x2cda93['options'][_0x2cda93['selectedIndex']]['value'],_0x1b971c=obtener_fechaHora();await loadAndSaveOptionsWindow(_0x534458,window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x2db)]?window_options[_0x51253e][_0x3d61cb(0x2db)]:_0x15d699,window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0xd3)]?window_options[_0x51253e][_0x3d61cb(0xd3)]:_0x51427f[_0x3d61cb(0x14b)][_0x51427f[_0x3d61cb(0x3a8)]]['value'],window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x307)]?window_options[_0x51253e]['setTipoOperacionInvoice']:_0x5f5bd['options'][_0x5f5bd[_0x3d61cb(0x3a8)]][_0x3d61cb(0x5dc)],window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x478)]?window_options[_0x51253e][_0x3d61cb(0x478)]:_0x1b971c,window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x31f)]?window_options[_0x51253e][_0x3d61cb(0x31f)]:_0x2e6df1,window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x1e1)]?window_options[_0x51253e]['setMoneda']:myCompany['setCurrencyDefault'],window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0x5f0)]?window_options[_0x51253e][_0x3d61cb(0x5f0)]:_0x1aeaf9[_0x3d61cb(0x14b)][_0x1aeaf9[_0x3d61cb(0x3a8)]][_0x3d61cb(0x5dc)],window_options[_0x51253e]&&window_options[_0x51253e][_0x3d61cb(0xfa)]?window_options[_0x51253e][_0x3d61cb(0xfa)]:_0x4d6b9e[_0x3d61cb(0x14b)][_0x4d6b9e[_0x3d61cb(0x3a8)]]['value'],_0x51253e),await switchTab(_0x200c6a);}async function loadAndSaveOptionsWindow(_0x188d4a,_0x2bd009,_0x29073f,_0x4cee2c,_0x1fe19d,_0xe2d2b5,_0x2fe81b,_0x33e568,_0x271637,_0x3c5e72){const _0x5b78c0=_0x36d314,_0xd24d21=document[_0x5b78c0(0x442)](_0x5b78c0(0x59f)+_0x3c5e72);_0xd24d21[_0x5b78c0(0x5dc)]=_0x188d4a,window_options[_0x3c5e72]['setTipoOperacion']=_0x188d4a;const _0x406eed=document[_0x5b78c0(0x442)](_0x5b78c0(0x12d)+_0x3c5e72);_0x406eed['value']=_0x2bd009;const _0x3dcd8b=document[_0x5b78c0(0x442)](_0x5b78c0(0x12d)+_0x3c5e72),_0x31c03a=_0x3dcd8b[_0x5b78c0(0x14b)][_0x3dcd8b[_0x5b78c0(0x3a8)]][_0x5b78c0(0x648)];window_options[_0x3c5e72][_0x5b78c0(0x2db)]=_0x2bd009,window_options[_0x3c5e72]['setSellerName']=_0x31c03a;const _0x4c0872=document['getElementById']('setDespacho-'+_0x3c5e72);_0x4c0872['value']=_0x29073f,window_options[_0x3c5e72][_0x5b78c0(0xd3)]=_0x29073f;const _0x4e895c=document['getElementById'](_0x5b78c0(0x5d7)+_0x3c5e72);_0x4e895c[_0x5b78c0(0x5dc)]=_0x4cee2c,window_options[_0x3c5e72][_0x5b78c0(0x307)]=_0x4cee2c;const _0x2d3d3d=document[_0x5b78c0(0x442)]('setFechaHora-'+_0x3c5e72);_0x2d3d3d[_0x5b78c0(0x5dc)]=_0x1fe19d,window_options[_0x3c5e72]['setFechaHora']=_0x1fe19d;const _0x42d9a1=document['getElementById'](_0x5b78c0(0x377)+_0x3c5e72);_0x42d9a1[_0x5b78c0(0x5dc)]=_0xe2d2b5,window_options[_0x3c5e72]['setObservacion']=_0xe2d2b5;const _0xa1f993=document[_0x5b78c0(0x442)](_0x5b78c0(0x236)+_0x3c5e72);_0xa1f993['value']=_0x2fe81b,window_options[_0x3c5e72][_0x5b78c0(0x1e1)]=_0x2fe81b;const _0x4a64a9=document[_0x5b78c0(0x442)]('setClienteTipoDoc-'+_0x3c5e72);_0x4a64a9[_0x5b78c0(0x5dc)]=_0x33e568,window_options[_0x3c5e72][_0x5b78c0(0x5f0)]=_0x33e568;const _0x519412=document[_0x5b78c0(0x442)](_0x5b78c0(0x267)+_0x3c5e72);_0x519412[_0x5b78c0(0x5dc)]=_0x271637,window_options[_0x3c5e72][_0x5b78c0(0xfa)]=_0x271637,await updateSerieOptions(_0x188d4a,_0x3c5e72);}async function updateSerieAndRenderCart(_0x271d4d,_0xa771df){const _0x2d1e51=_0x36d314;_0x271d4d==0x4&&(window_options[_0xa771df][_0x2d1e51(0x5f0)]='RUC'),await updateSerieOptions(_0x271d4d,_0xa771df),renderCart(_0xa771df),renderProducts();}async function updateSerieOptions(_0x437bee,_0x3a1c8f){return new Promise((_0x2f1943,_0x11d950)=>{const _0x4cf466=_0x55d4;window_options[_0x3a1c8f]['setTipoOperacion']=_0x437bee;let _0x58dbc7=document[_0x4cf466(0x442)]('setSerie-'+_0x3a1c8f);const _0x3b0b72=document[_0x4cf466(0x442)](_0x4cf466(0x1b6)+_0x3a1c8f),_0x333812=document['getElementById'](_0x4cf466(0x53f)+_0x3a1c8f);if(!_0x58dbc7||!_0x3b0b72||!_0x333812)return console['error']('Error\x20Inputs'),_0x11d950(_0x4cf466(0x634));_0x3b0b72[_0x4cf466(0x5dc)]='';let _0x12d5f4;if(setTipOpeOrders[_0x4cf466(0x3b9)](_0x25ae13=>_0x25ae13==_0x437bee)||setTipOpeSales[_0x4cf466(0x3b9)](_0x358d90=>_0x358d90==_0x437bee)||setTipOpeQuotation[_0x4cf466(0x3b9)](_0x21428c=>_0x21428c==_0x437bee))_0x12d5f4=document[_0x4cf466(0x28c)]('select'),_0x12d5f4['id']=_0x58dbc7['id'],_0x12d5f4[_0x4cf466(0x327)]=_0x4cf466(0x303),_0x333812[_0x4cf466(0x35d)]=_0x4cf466(0x1c8);else{if(setTipOpePurchases[_0x4cf466(0x3b9)](_0x4a0e31=>_0x4a0e31==_0x437bee))_0x12d5f4=document[_0x4cf466(0x28c)](_0x4cf466(0x1a7)),_0x12d5f4[_0x4cf466(0x24c)]=_0x4cf466(0x648),_0x12d5f4[_0x4cf466(0x35d)]=_0x4cf466(0x2a7),_0x12d5f4['id']=_0x58dbc7['id'],_0x12d5f4['className']=_0x4cf466(0x432),_0x333812[_0x4cf466(0x35d)]=_0x4cf466(0xb1);else return console[_0x4cf466(0x499)](_0x4cf466(0x3d2)),_0x11d950('Error\x20Op.');}_0x58dbc7['parentNode'][_0x4cf466(0x39b)](_0x12d5f4,_0x58dbc7),_0x58dbc7=document[_0x4cf466(0x442)](_0x4cf466(0x650)+_0x3a1c8f),_0x58dbc7['addEventListener'](_0x4cf466(0x614),function(_0x3fbbba){const _0x32ca19=_0x4cf466;updateCorrelativoOnSerieChange(_0x3fbbba[_0x32ca19(0x58d)][_0x32ca19(0x5dc)],_0x3a1c8f);});setTipOpeExo[_0x4cf466(0x3b9)](_0x39e866=>_0x39e866==_0x437bee)?(document['getElementById'](_0x4cf466(0x4ae)+_0x3a1c8f)[_0x4cf466(0x9f)][_0x4cf466(0xfb)](_0x4cf466(0x5d4)),document['getElementById'](_0x4cf466(0x55a)+_0x3a1c8f)[_0x4cf466(0x9f)][_0x4cf466(0xfb)](_0x4cf466(0x5d4)),document['getElementById'](_0x4cf466(0x94)+_0x3a1c8f)[_0x4cf466(0x9f)][_0x4cf466(0xfb)]('d-none')):(document[_0x4cf466(0x442)](_0x4cf466(0x4ae)+_0x3a1c8f)['classList'][_0x4cf466(0x44c)](_0x4cf466(0x5d4)),document[_0x4cf466(0x442)](_0x4cf466(0x55a)+_0x3a1c8f)[_0x4cf466(0x9f)][_0x4cf466(0x44c)](_0x4cf466(0x5d4)),document[_0x4cf466(0x442)](_0x4cf466(0x94)+_0x3a1c8f)['classList'][_0x4cf466(0x44c)](_0x4cf466(0x5d4)));changeLabelBtn(_0x3a1c8f,_0x437bee);if(setTipOpeOrders['some'](_0x55cdd5=>_0x55cdd5==_0x437bee)||setTipOpeSales[_0x4cf466(0x3b9)](_0x5203e1=>_0x5203e1==_0x437bee)||setTipOpeQuotation[_0x4cf466(0x3b9)](_0x40b980=>_0x40b980==_0x437bee)){const _0x169f07=document[_0x4cf466(0x442)]('setBranchId')['value'],_0x145301=getUserPermissionApiERP(0x5);let _0x2047e5;if(_0x145301==0x1){const _0x3a6c53=getLoggedUserSeries();_0x2047e5=_0x3a6c53[_0x4cf466(0x41f)](_0xbf48aa=>_0xbf48aa[_0x4cf466(0x296)]==_0x437bee&&String(_0xbf48aa['setBranchId'])==_0x169f07);}else _0x2047e5=myCompany['setSeries'][_0x4cf466(0x41f)](_0x3444e6=>_0x3444e6[_0x4cf466(0x180)]==_0x437bee&&String(_0x3444e6[_0x4cf466(0x174)])==_0x169f07);_0x2047e5[_0x4cf466(0x55b)](_0xc8832e=>{const _0x1d6565=_0x4cf466;_0x145301==0x1?_0x58dbc7['appendChild'](createElement('option',{'value':_0xc8832e['setSeriesNumber']},[_0xc8832e[_0x1d6565(0x477)]])):_0x58dbc7[_0x1d6565(0x47d)](createElement(_0x1d6565(0x4c5),{'value':_0xc8832e[_0x1d6565(0x24a)]},[_0xc8832e['setSerie']]));});let _0x301f25='';_0x2047e5[_0x4cf466(0x301)]&&(_0x145301==0x1?_0x301f25=_0x2047e5[0x0]['setSeriesNumber']:_0x301f25=_0x2047e5[0x0]['setSerie'],_0x58dbc7[_0x4cf466(0x5dc)]=_0x301f25),setTimeout(()=>{const _0x3107bb=_0x4cf466;updateCorrelativoOnSerieChange(_0x301f25,_0x3a1c8f)['then'](()=>_0x2f1943())[_0x3107bb(0x3d5)](_0x346c0e=>_0x11d950(_0x346c0e));},0x0);}else window_options[_0x3a1c8f]['setSerie']='',window_options[_0x3a1c8f][_0x4cf466(0x1d0)]='',setTimeout(()=>{saveWindowOptionsDB(_0x3a1c8f)['then'](()=>_0x2f1943())['catch'](_0xcc9c55=>{const _0x3cca50=_0x55d4;console[_0x3cca50(0x499)](_0x3cca50(0x1f4),_0xcc9c55),_0x11d950(_0xcc9c55);});},0x0);});}async function updateCorrelativoOnSerieChange(_0x31bd3b,_0x1bef9d){const _0x13d08c=_0x36d314,_0x50c556=document[_0x13d08c(0x442)]('setCorrelativo-'+_0x1bef9d);if(!_0x50c556)throw new Error(_0x13d08c(0x1e9)+_0x1bef9d);window_options[_0x1bef9d]['setSerie']=_0x31bd3b;const _0x3c89a9=window_options[_0x1bef9d]['setTipoOperacion'];window_options[_0x1bef9d][_0x13d08c(0x1d0)]='';if(setTipOpeOrders[_0x13d08c(0x3b9)](_0x4979c8=>_0x4979c8==_0x3c89a9)||setTipOpeSales[_0x13d08c(0x3b9)](_0x4f2223=>_0x4f2223==_0x3c89a9)||setTipOpeQuotation[_0x13d08c(0x3b9)](_0x573449=>_0x573449==_0x3c89a9)){const _0x105a4e=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x495b36,_0x59b5c3;if(_0x105a4e==0x1){const _0xcb03ab=getLoggedUserSeries();_0x495b36=_0xcb03ab[_0x13d08c(0x54e)](_0x4e94fd=>_0x4e94fd[_0x13d08c(0x477)]==_0x31bd3b),_0x59b5c3=_0x495b36?.['setSeriesCorrelativeInitial']??0x1;}else _0x495b36=myCompany['setSeries'][_0x13d08c(0x54e)](_0x2ffbc3=>_0x2ffbc3[_0x13d08c(0x24a)]==_0x31bd3b),_0x59b5c3=_0x495b36?.[_0x13d08c(0x448)]??0x1;_0x50c556[_0x13d08c(0x5dc)]=_0x59b5c3,window_options[_0x1bef9d][_0x13d08c(0x1d0)]=_0x59b5c3;}try{await saveWindowOptionsDB(_0x1bef9d);}catch(_0x343dc7){console['error'](_0x13d08c(0x1f4),_0x343dc7);throw _0x343dc7;}}function updateActivePaymentOption(_0x1d960b,_0x17eb29){const _0x5715d8=_0x36d314;document[_0x5715d8(0x348)](_0x5715d8(0x5bb)+_0x1d960b)[_0x5715d8(0x55b)](_0x3137a5=>_0x3137a5[_0x5715d8(0x9f)][_0x5715d8(0x44c)](_0x5715d8(0x11c))),document[_0x5715d8(0x3ef)]('.'+_0x17eb29+'.payment-option-'+_0x1d960b)?.[_0x5715d8(0x9f)][_0x5715d8(0xfb)](_0x5715d8(0x11c));}function triggerChangeEventById(_0xa04d2b){const _0x20a89b=_0x36d314,_0x1fba8f=document['getElementById'](_0xa04d2b);if(!_0x1fba8f){console[_0x20a89b(0x499)]('No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20'+_0xa04d2b);return;}const _0x3140b3=new Event(_0x20a89b(0x614),{'bubbles':!![],'cancelable':!![]});_0x1fba8f[_0x20a89b(0x253)](_0x3140b3);}async function updateChangeMoneda(_0x43e0dd,_0x1be54d,_0x5da37a){await updateWindowOption(_0x43e0dd,_0x1be54d,_0x5da37a),renderCart(_0x43e0dd),renderProducts();}function getCurrencySymbol(_0xa18e20){const _0x44547f=_0x36d314,_0xd5f12=document[_0x44547f(0x442)](_0x44547f(0x236)+_0xa18e20)[_0x44547f(0x5dc)],_0x197449=myCompany[_0x44547f(0x564)][_0x44547f(0x54e)](_0x5a3ef5=>_0x5a3ef5['setMonedaCodigo']==_0xd5f12);return _0x197449?_0x197449[_0x44547f(0x640)]:'';}function changeLabelBtn(_0x539f11,_0x41e83f){const _0x38fa36=_0x36d314;let _0x30d10c='';const _0x3563de=document[_0x38fa36(0x442)]('float-left-'+_0x539f11);if(setTipOpeOrders[_0x38fa36(0x3b9)](_0x19b2ed=>_0x19b2ed==_0x41e83f))_0x30d10c=_0x38fa36(0x4d0);else{if(setTipOpeSales[_0x38fa36(0x3b9)](_0x1eeb1c=>_0x1eeb1c==_0x41e83f))_0x30d10c=_0x38fa36(0x247);else{if(setTipOpePurchases[_0x38fa36(0x3b9)](_0x56b8b6=>_0x56b8b6==_0x41e83f))_0x30d10c=_0x38fa36(0x57a);else setTipOpeQuotation[_0x38fa36(0x3b9)](_0x5b5cfa=>_0x5b5cfa==_0x41e83f)&&(_0x30d10c='COTIZAR');}}_0x3563de[_0x38fa36(0x528)]=_0x30d10c;}function setDivTotalPay(_0x566aa7){const _0x92b776=_0x36d314,_0x2083f3=document[_0x92b776(0x442)](_0x92b776(0x399)+_0x566aa7);_0x2083f3['innerHTML']='';const _0x312b62=document['getElementById'](_0x92b776(0x643)+_0x566aa7)['textContent'],_0x3f908a=createElement(_0x92b776(0x36c),{'class':_0x92b776(0x464),'style':'width:\x20100%\x20!important;\x20text-align:\x20center;\x20color:\x20#080060;\x20font-size:\x2016px;\x20margin-bottom:\x2010px;','innerHTML':_0x92b776(0x3e0)+_0x312b62+'</span>'}),_0x2d0726=createElement('div',{'class':'d-flex\x20mb-3'},[_0x3f908a]);_0x2083f3[_0x92b776(0x47d)](_0x2d0726);}function handlePaymentMethodChange(_0x273e2f,_0x4e2481){const _0x537c3a=_0x36d314,_0x2ee699=document[_0x537c3a(0x442)](_0x537c3a(0x220)+_0x4e2481);_0x2ee699[_0x537c3a(0x528)]='';const _0x3f34f6=_0x273e2f[_0x537c3a(0x58d)][_0x537c3a(0x5dc)];!medio_pago[_0x4e2481]&&(medio_pago[_0x4e2481]={});if(_0x3f34f6=='contado')_0x2ee699[_0x537c3a(0x47d)](createContadoForm(_0x4e2481)),medio_pago[_0x4e2481]={'contado':{'status':!![],'data':{}},'credito':{'status':![],'data':null},'mixto':{'status':![],'data':null}};else{if(_0x3f34f6==_0x537c3a(0x2ad))_0x2ee699[_0x537c3a(0x47d)](createCreditoForm(_0x4e2481)),medio_pago[_0x4e2481]={'contado':{'status':![],'data':null},'credito':{'status':!![],'data':{}},'mixto':{'status':![],'data':null}};else _0x3f34f6==_0x537c3a(0x64f)&&(_0x2ee699[_0x537c3a(0x47d)](createMixtoForm(_0x4e2481)),medio_pago[_0x4e2481]={'contado':{'status':![],'data':{}},'credito':{'status':![],'data':{}},'mixto':{'status':!![],'data':{}}});}const _0x1d5ee9=createElement(_0x537c3a(0x50f),{'id':_0x537c3a(0x227)+_0x4e2481},[]);_0x2ee699[_0x537c3a(0x47d)](_0x1d5ee9);const _0x213d86=createElement(_0x537c3a(0x278),{'id':'btnSaveOperacion-'+_0x4e2481,'class':_0x537c3a(0x3e6),'type':_0x537c3a(0x278),'events':{'click':()=>saveOperation(_0x4e2481)}},['FINALIZAR\x20OPERACIÓN']);_0x2ee699[_0x537c3a(0x47d)](_0x213d86);}function createContadoForm(_0x282574){const _0x361522=_0x36d314,_0x494698=createElement(_0x361522(0x50f),{},[]),_0x3ede0d=getTotalFromFloatRight(_0x282574),_0x5e318a=myCompany[_0x361522(0x133)],_0x4520bc={},_0x5268ef={};_0x5e318a['forEach']((_0x2760a6,_0x4fbfc1)=>{const _0x1e6e53=_0x361522,_0x434843=_0x1e6e53(0x3a1)+_0x2760a6['setPaymentCode']+'-'+_0x282574+'-'+_0x4fbfc1,_0x2941bd=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5a9)},[]),_0x380eb6=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5a9)},[]),_0x1b4e6b=createElement('label',{'for':_0x434843,'class':'custom-label-cart-options\x20div-width-25'},['\x20'+_0x2760a6['setPaymentName']+':']),_0x35559e=createElement(_0x1e6e53(0x1a7),{'type':'number','id':_0x434843,'placeholder':_0x1e6e53(0x4a6),'class':_0x1e6e53(0x5d6),'value':_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x567)||_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x469)?_0x3ede0d:'','events':{'input':_0x5b7b9f=>handleContadoInput(_0x5b7b9f,_0x282574)}});_0x35559e[_0x1e6e53(0x329)][_0x1e6e53(0x39f)]=_0x2760a6['setPaymentCode'];const _0x1865c1=createElement('select',{'class':_0x1e6e53(0x444),'events':{'change':_0x7c2739=>handleContadoInput(_0x7c2739,_0x282574)}},[]),_0xf34c29=myCompany[_0x1e6e53(0x3a4)],_0x1c22ea=_0xf34c29[_0x1e6e53(0x41f)](_0x29c59c=>_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x567)||_0x2760a6['setPaymentCode']==_0x1e6e53(0x469)?setBankTypeCashRegister[_0x1e6e53(0x3b9)](_0x5ec152=>_0x5ec152==_0x29c59c['setBankType']):!setBankTypeCashRegister[_0x1e6e53(0x3b9)](_0x427dd4=>_0x427dd4==_0x29c59c[_0x1e6e53(0x38a)]));_0x1c22ea['forEach'](_0x2b8329=>{const _0x3d0f70=_0x1e6e53,_0x393e4a=createElement(_0x3d0f70(0x4c5),{'value':_0x2b8329['setBankId']},[_0x2b8329[_0x3d0f70(0x497)]]);_0x1865c1[_0x3d0f70(0x47d)](_0x393e4a);}),_0x1865c1[_0x1e6e53(0x329)][_0x1e6e53(0x39f)]=_0x2760a6['setPaymentCode'];let _0x30d604=null;_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x567)||_0x2760a6[_0x1e6e53(0x2ee)]=='cash'?_0x30d604=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5e2)},[]):_0x30d604=createElement(_0x1e6e53(0x1a7),{'type':_0x1e6e53(0x648),'placeholder':_0x1e6e53(0x265),'class':'custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-operacion','events':{'input':_0x10a746=>handleContadoInput(_0x10a746,_0x282574)}});_0x30d604[_0x1e6e53(0x329)]['method']=_0x2760a6[_0x1e6e53(0x2ee)];let _0x9cafd2=null,_0x41a8b3=null,_0x10f7a7=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x240)},[]),_0x5d04e3=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5e2)},[]);_0x2760a6['isCommission']=='1'?(_0x9cafd2=createElement(_0x1e6e53(0x1a7),{'type':_0x1e6e53(0x53a),'placeholder':'Comisión\x20%','class':'custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-comision'}),_0x9cafd2['dataset']['method']=_0x2760a6[_0x1e6e53(0x2ee)],_0x41a8b3=createElement(_0x1e6e53(0x1a7),{'type':_0x1e6e53(0x53a),'placeholder':_0x1e6e53(0x583),'class':'custom-input-cart-options\x20form-control\x20div-width-15\x20input-array-totalcomision','readonly':!![]}),_0x41a8b3['dataset'][_0x1e6e53(0x39f)]=_0x2760a6['setPaymentCode'],_0x9cafd2[_0x1e6e53(0x524)](_0x1e6e53(0x1a7),_0x1bc1e7=>{const _0x4e321c=_0x1e6e53,_0x5a9243=parseFloat(_0x9cafd2[_0x4e321c(0x5dc)])||0x0,_0x388e11=parseFloat(_0x35559e[_0x4e321c(0x5dc)])||0x0;_0x41a8b3[_0x4e321c(0x5dc)]=(_0x5a9243/0x64*_0x388e11)[_0x4e321c(0x35c)](0x2),handleContadoInput(_0x1bc1e7,_0x282574);})):(_0x9cafd2=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x240)},[]),_0x41a8b3=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5e2)},[]));let _0x51044f='';_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x567)||_0x2760a6['setPaymentCode']=='cash'?_0x51044f='':_0x51044f=_0x1e6e53(0x5d4);const _0x58910c=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x2d3)+_0x51044f},[_0x2941bd,_0x1b4e6b,_0x35559e,_0x1865c1,_0x30d604,_0x380eb6]);_0x494698[_0x1e6e53(0x47d)](_0x58910c),_0x4520bc[_0x2760a6['setPaymentCode']]=_0x58910c;if(_0x2760a6['isCommission']=='1'){const _0x59750d=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x5a9)},[]),_0x100126=createElement('div',{'class':_0x1e6e53(0x5a9)},[]),_0x5a4ad3=createElement(_0x1e6e53(0x50f),{'class':_0x1e6e53(0x2d3)+_0x51044f},[_0x59750d,_0x10f7a7,_0x9cafd2,_0x41a8b3,_0x5d04e3,_0x100126]);_0x494698[_0x1e6e53(0x47d)](_0x5a4ad3),_0x5268ef[_0x2760a6['setPaymentCode']]=_0x5a4ad3;}(_0x2760a6[_0x1e6e53(0x2ee)]==_0x1e6e53(0x567)||_0x2760a6[_0x1e6e53(0x2ee)]=='cash')&&setTimeout(()=>{const _0x528a7d=_0x1e6e53;_0x35559e[_0x528a7d(0x253)](new Event(_0x528a7d(0x1a7),{'bubbles':!![]}));});});const _0x2878b0=createElement(_0x361522(0x50f),{'class':'div-width-10\x20div_margen'},[]),_0x365577=createElement(_0x361522(0x425),{'class':_0x361522(0x404),'events':{'change':_0x48d3ee=>{const _0x5bc31f=_0x361522,_0x3e3173=_0x48d3ee[_0x5bc31f(0x58d)][_0x5bc31f(0x5dc)];if(_0x3e3173){const _0xd2d9ec=getTotalFromFloatRight(_0x282574);Object[_0x5bc31f(0x4e4)](_0x4520bc)['forEach'](([_0x28e91f,_0x685048])=>{const _0x4ad43f=_0x5bc31f,_0xc08039=_0x685048['querySelector'](_0x4ad43f(0x1c9)),_0xd9d866=_0x5268ef[_0x28e91f];if(_0x28e91f===_0x3e3173){_0x685048[_0x4ad43f(0x9f)]['remove']('d-none');if(_0xd9d866)_0xd9d866[_0x4ad43f(0x9f)][_0x4ad43f(0x44c)](_0x4ad43f(0x5d4));_0xc08039[_0x4ad43f(0x5dc)]=_0xd2d9ec[_0x4ad43f(0x35c)](0x2),_0xc08039[_0x4ad43f(0x253)](new Event(_0x4ad43f(0x1a7),{'bubbles':!![]})),_0xc08039[_0x4ad43f(0x302)]();}else{_0xc08039&&(_0xc08039['value']='',_0xc08039[_0x4ad43f(0x253)](new Event(_0x4ad43f(0x1a7),{'bubbles':!![]})));if(_0xd9d866){const _0x73a285=_0xd9d866[_0x4ad43f(0x3ef)](_0x4ad43f(0x5ec)),_0x3867c4=_0xd9d866['querySelector'](_0x4ad43f(0x2a4));if(_0x73a285)_0x73a285[_0x4ad43f(0x5dc)]='';if(_0x3867c4)_0x3867c4['value']='';}}});}_0x48d3ee[_0x5bc31f(0x58d)][_0x5bc31f(0x5dc)]='';}}},[]),_0x3d7ae0=createElement(_0x361522(0x4c5),{'value':''},['Otros\x20medios\x20de\x20pago']);_0x365577[_0x361522(0x47d)](_0x3d7ae0),_0x5e318a[_0x361522(0x55b)](_0x5c8674=>{const _0x1680d7=_0x361522;if(!(_0x5c8674[_0x1680d7(0x2ee)]=='efectivo'||_0x5c8674[_0x1680d7(0x2ee)]==_0x1680d7(0x469))){const _0x45dd43=createElement(_0x1680d7(0x4c5),{'value':_0x5c8674['setPaymentCode']},[_0x5c8674[_0x1680d7(0xe2)]]);_0x365577['appendChild'](_0x45dd43);}});const _0x59e408=createElement('div',{'class':'d-flex\x20mb-3'},[_0x2878b0,_0x365577]);return _0x494698[_0x361522(0x47d)](_0x59e408),_0x494698;}function handleContadoInput(_0x3942ee,_0xd8922f){const _0x5d4cbd=_0x36d314,_0x5f0bd0=getTotalFromFloatRight(_0xd8922f),_0x592f71=Array[_0x5d4cbd(0x2b9)](document[_0x5d4cbd(0x348)](_0x5d4cbd(0x21d)+_0xd8922f+_0x5d4cbd(0x5a6))),_0x1bb259=_0x592f71[_0x5d4cbd(0x25b)]((_0x156e24,_0x5ab709)=>_0x156e24+parseFloat(_0x5ab709[_0x5d4cbd(0x5dc)]||0x0),0x0),_0x1f0370={};_0x592f71['forEach'](_0x43a7fd=>{const _0x4130cd=_0x5d4cbd,_0x2be6bd=_0x43a7fd[_0x4130cd(0x329)][_0x4130cd(0x39f)][_0x4130cd(0x3b5)]();_0x1f0370[_0x2be6bd]=parseFloat(_0x43a7fd[_0x4130cd(0x5dc)])||0x0;});const _0x3e91bb={..._0x1f0370};if(_0x1bb259>_0x5f0bd0){const _0x2d1394=_0x1bb259-_0x5f0bd0,_0x376fc0=_0x592f71[_0x5d4cbd(0x54e)](_0x3346d6=>['efectivo',_0x5d4cbd(0x469)][_0x5d4cbd(0x62a)](_0x3346d6['dataset'][_0x5d4cbd(0x39f)][_0x5d4cbd(0x3b5)]()));if(_0x376fc0){const _0x268465=_0x376fc0[_0x5d4cbd(0x329)]['method'][_0x5d4cbd(0x3b5)]();_0x3e91bb[_0x268465]=Math[_0x5d4cbd(0x1dd)](0x0,_0x3e91bb[_0x268465]-_0x2d1394);}else{const _0x158e60=Object[_0x5d4cbd(0x426)](_0x3e91bb)[0x0];_0x3e91bb[_0x158e60]=Math['max'](0x0,_0x3e91bb[_0x158e60]-_0x2d1394);}}if(medio_pago[_0xd8922f][_0x5d4cbd(0x64f)][_0x5d4cbd(0x259)]&&_0x1bb259>=_0x5f0bd0){_0x3942ee[_0x5d4cbd(0x58d)][_0x5d4cbd(0x5dc)]='',_0x3942ee['target'][_0x5d4cbd(0x253)](new Event(_0x5d4cbd(0x1a7),{'bubbles':!![]}));return;}const _0x435fde=_0x5f0bd0-_0x1bb259,_0x40e142=Math[_0x5d4cbd(0x449)](Math['min'](_0x435fde,0x0)),_0x9a2b90=Math[_0x5d4cbd(0x1dd)](_0x435fde,0x0),_0x424920={'total':_0x5f0bd0,'debe':_0x9a2b90,'vuelto':_0x40e142};_0x592f71[_0x5d4cbd(0x55b)](_0x3d7cbd=>{const _0x50bb26=_0x5d4cbd,_0x460b97=_0x3d7cbd[_0x50bb26(0x329)]['method']['toLowerCase'](),_0x51c2c3=_0x1f0370[_0x460b97],_0x5daac4=_0x3e91bb[_0x460b97];_0x424920[_0x460b97]={'monto_calc':_0x51c2c3,'monto':_0x5daac4};});const _0x5a536b=Array[_0x5d4cbd(0x2b9)](document['querySelectorAll'](_0x5d4cbd(0x21d)+_0xd8922f+_0x5d4cbd(0x47b)));_0x5a536b['forEach'](_0x331e9b=>{const _0x268a44=_0x5d4cbd,_0x864ebf=_0x331e9b[_0x268a44(0x329)][_0x268a44(0x39f)][_0x268a44(0x3b5)]();if(!_0x424920[_0x864ebf])_0x424920[_0x864ebf]={};_0x424920[_0x864ebf]['banco']=_0x331e9b[_0x268a44(0x5dc)];});const _0x13fb31=Array[_0x5d4cbd(0x2b9)](document[_0x5d4cbd(0x348)](_0x5d4cbd(0x21d)+_0xd8922f+_0x5d4cbd(0xb9)));_0x13fb31[_0x5d4cbd(0x55b)](_0x168cee=>{const _0x3d527e=_0x5d4cbd,_0x510233=_0x168cee['dataset'][_0x3d527e(0x39f)][_0x3d527e(0x3b5)]();if(!_0x424920[_0x510233])_0x424920[_0x510233]={};_0x424920[_0x510233][_0x3d527e(0x42e)]=_0x168cee[_0x3d527e(0x5dc)];});const _0x6ef46a=Array['from'](document[_0x5d4cbd(0x348)](_0x5d4cbd(0x21d)+_0xd8922f+_0x5d4cbd(0xd0)));_0x6ef46a[_0x5d4cbd(0x55b)](_0x513bd1=>{const _0x5c9418=_0x5d4cbd,_0x835aaa=_0x513bd1[_0x5c9418(0x329)][_0x5c9418(0x39f)][_0x5c9418(0x3b5)]();if(!_0x424920[_0x835aaa])_0x424920[_0x835aaa]={};_0x424920[_0x835aaa]['porcentaje_comision']=parseFloat(_0x513bd1[_0x5c9418(0x5dc)]||0x0);});const _0x3fd0db=Array[_0x5d4cbd(0x2b9)](document[_0x5d4cbd(0x348)](_0x5d4cbd(0x21d)+_0xd8922f+_0x5d4cbd(0x390)));_0x3fd0db['forEach'](_0x54b9f6=>{const _0xb2a647=_0x5d4cbd,_0xa5ea46=_0x54b9f6['dataset'][_0xb2a647(0x39f)]['toLowerCase']();if(!_0x424920[_0xa5ea46])_0x424920[_0xa5ea46]={};_0x424920[_0xa5ea46][_0xb2a647(0x3f1)]=parseFloat(_0x54b9f6[_0xb2a647(0x5dc)]||0x0);}),medio_pago[_0xd8922f][_0x5d4cbd(0x532)][_0x5d4cbd(0x166)]=_0x424920;const _0x1a4ed7=getCurrencySymbol(_0xd8922f);let _0x55f91c=document[_0x5d4cbd(0x442)](_0x5d4cbd(0x271)+_0xd8922f);if(!_0x55f91c){_0x55f91c=createElement(_0x5d4cbd(0x50f),{'id':_0x5d4cbd(0x271)+_0xd8922f,'class':_0x5d4cbd(0x626)});const _0x2e12a3=document[_0x5d4cbd(0x442)](_0x5d4cbd(0x227)+_0xd8922f);_0x2e12a3[_0x5d4cbd(0x47d)](_0x55f91c);}_0x55f91c[_0x5d4cbd(0x528)]=_0x435fde>0x0?_0x5d4cbd(0x1b7)+_0x1a4ed7+'\x20'+_0x9a2b90[_0x5d4cbd(0x35c)](0x2)+_0x5d4cbd(0x198):_0x5d4cbd(0x5c3)+_0x1a4ed7+'\x20'+_0x40e142[_0x5d4cbd(0x35c)](0x2)+_0x5d4cbd(0x198),_0x55f91c[_0x5d4cbd(0x12f)]['color']='#080060',console[_0x5d4cbd(0x590)](_0x5d4cbd(0x49e)+_0xd8922f+'\x20actualizado:',medio_pago[_0xd8922f]);}function createCreditoForm(_0xce2eba){const _0x2cc739=_0x36d314,_0x2c149d=createElement('div',{},[]),_0x5887ed=createElement('i',{'class':_0x2cc739(0x1d4)}),_0x712467=createElement('label',{'for':_0x2cc739(0x421)+_0xce2eba,'class':_0x2cc739(0x10f)},[_0x5887ed,_0x2cc739(0x33b)]),_0x15a9c4=createElement('select',{'id':_0x2cc739(0x421)+_0xce2eba,'class':'custom-input-cart-options\x20form-select\x20form-select-normal\x20div-width-50','events':{'change':_0x21022d=>handleCuotasChange(_0x21022d,_0xce2eba)}},[createElement('option',{'value':'','disabled':!![],'selected':!![]},[_0x2cc739(0x5b7)]),...Array[_0x2cc739(0x2b9)]({'length':0x18},(_0x2974e2,_0x18b4e6)=>createElement(_0x2cc739(0x4c5),{'value':_0x18b4e6+0x1},[_0x18b4e6+0x1+_0x2cc739(0x32b)+(_0x18b4e6>0x0?'s':'')]))]),_0x2cfde2=createElement(_0x2cc739(0x50f),{'class':'div-width-10\x20div_margen'}),_0x19c715=createElement(_0x2cc739(0x50f),{'class':_0x2cc739(0x560)}),_0x540936=createElement(_0x2cc739(0x50f),{'class':_0x2cc739(0x256)},[_0x2cfde2,_0x712467,_0x15a9c4,_0x19c715]);_0x2c149d[_0x2cc739(0x47d)](_0x540936);const _0x43d1f3=createElement(_0x2cc739(0x50f),{'id':_0x2cc739(0x60e)+_0xce2eba});return _0x2c149d['appendChild'](_0x43d1f3),_0x2c149d;}function handleCuotasChange(_0x508ec8,_0x581a08){const _0x4b5be2=_0x36d314,_0x44b299=document[_0x4b5be2(0x442)]('cuotas-container-'+_0x581a08);_0x44b299[_0x4b5be2(0x528)]='';const _0x2a5d13=parseInt(_0x508ec8['target']['value'],0xa);medio_pago[_0x581a08][_0x4b5be2(0x2ad)][_0x4b5be2(0x166)]=[];const _0x46a84b=parseFloat(getTotalFromFloatRight(_0x581a08));let _0x4ada80=_0x46a84b;if(medio_pago[_0x581a08][_0x4b5be2(0x64f)]['status']){const _0x56ae54=Array[_0x4b5be2(0x2b9)](document[_0x4b5be2(0x348)]('#pay-container-'+_0x581a08+_0x4b5be2(0x5a6))),_0x3c4ce1=_0x56ae54['reduce']((_0x57f266,_0x3b11f1)=>_0x57f266+parseFloat(_0x3b11f1[_0x4b5be2(0x5dc)]||0x0),0x0);if(_0x3c4ce1>=_0x46a84b){_0x508ec8['target'][_0x4b5be2(0x5dc)]='',_0x508ec8['target']['dispatchEvent'](new Event('input',{'bubbles':!![]}));return;}_0x4ada80=Math[_0x4b5be2(0x1dd)](_0x46a84b-_0x3c4ce1,0x0);}let _0x385b31=Array(_0x2a5d13)[_0x4b5be2(0x495)]()[_0x4b5be2(0x4a8)]((_0x2af2d3,_0x3cf183)=>({'cuota':_0x3cf183+0x1,'monto':parseFloat((_0x4ada80/_0x2a5d13)['toFixed'](0x2)),'fechaVencimiento':'','editado':![]}));function _0x39f077(){const _0x28bfc8=_0x4b5be2;let _0x5da524=_0x385b31[_0x28bfc8(0x25b)]((_0x28422d,_0x52055a)=>_0x28422d+_0x52055a[_0x28bfc8(0x551)],0x0),_0x343cb0=_0x4ada80-_0x5da524,_0x277f97=_0x385b31[_0x28bfc8(0x41f)](_0x34c547=>!_0x34c547[_0x28bfc8(0x22c)]);if(_0x277f97[_0x28bfc8(0x301)]==0x0)return;let _0x2b9d4f=parseFloat((_0x343cb0/_0x277f97['length'])['toFixed'](0x2)),_0x20975d=_0x343cb0-_0x2b9d4f*_0x277f97['length'];_0x277f97['forEach']((_0x55927c,_0x3b5d02)=>{const _0x1710cc=_0x28bfc8;_0x55927c[_0x1710cc(0x551)]+=_0x2b9d4f,_0x3b5d02==_0x277f97['length']-0x1&&(_0x55927c['monto']+=_0x20975d);}),_0x3c2bac(),medio_pago[_0x581a08][_0x28bfc8(0x2ad)][_0x28bfc8(0x166)]=_0x385b31['map'](({cuota:_0x2e36fd,monto:_0x5d1d0e,fechaVencimiento:_0x4fcb1e})=>({'cuota':_0x2e36fd,'monto':_0x5d1d0e,'fechaVencimiento':_0x4fcb1e}));}function _0x3c2bac(){const _0x2c1737=_0x4b5be2,_0x8ee70b=_0x44b299[_0x2c1737(0x348)](_0x2c1737(0x1e6));_0x8ee70b['forEach']((_0x1600af,_0x382ecb)=>{const _0x3c8f1b=_0x2c1737;_0x1600af[_0x3c8f1b(0x5dc)]=_0x385b31[_0x382ecb][_0x3c8f1b(0x551)][_0x3c8f1b(0x35c)](0x2);});}function _0x142372(_0x338860,_0x15111c,_0x195464){const _0x18f382=_0x4b5be2;if(_0x195464=='monto'){let _0x36dcd6=parseFloat(_0x15111c)||0x0,_0x5c10c6=_0x385b31[_0x18f382(0x25b)]((_0xfea9c2,_0x1c0c21,_0x46fbd3)=>{const _0x477ee1=_0x18f382;if(_0x46fbd3!==_0x338860-0x1&&_0x1c0c21[_0x477ee1(0x22c)])return _0xfea9c2+_0x1c0c21[_0x477ee1(0x551)];return _0xfea9c2;},0x0);const _0x3df6b7=parseFloat((_0x4ada80-_0x5c10c6)['toFixed'](0x2));let _0x35bb1b=_0x385b31[_0x18f382(0x41f)]((_0x28b52e,_0x52402d)=>!_0x28b52e['editado']&&_0x52402d!==_0x338860-0x1)['length'];if(_0x35bb1b==0x0&&_0x36dcd6!==_0x3df6b7)ntfShow('El\x20monto\x20debe\x20ser\x20exactamente\x20'+_0x3df6b7+_0x18f382(0x29a)),_0x36dcd6=_0x3df6b7;else _0x36dcd6>_0x3df6b7&&(ntfShow(_0x18f382(0x625)+_0x3df6b7+'.'),_0x36dcd6=_0x3df6b7);_0x385b31[_0x338860-0x1]['monto']=_0x36dcd6,_0x385b31[_0x338860-0x1]['editado']=!![];const _0x2cac94=_0x44b299[_0x18f382(0x348)](_0x18f382(0x1e6));_0x2cac94[_0x338860-0x1]&&(_0x2cac94[_0x338860-0x1]['value']=_0x36dcd6[_0x18f382(0x35c)](0x2)),_0x39f077();}else _0x195464=='fecha'&&(_0x385b31[_0x338860-0x1]['fechaVencimiento']=_0x15111c);medio_pago[_0x581a08][_0x18f382(0x2ad)][_0x18f382(0x166)]=_0x385b31['map'](({cuota:_0x596648,monto:_0x46c560,fechaVencimiento:_0x10e390})=>({'cuota':_0x596648,'monto':_0x46c560,'fechaVencimiento':_0x10e390}));}for(let _0x43776e=0x1;_0x43776e<=_0x2a5d13;_0x43776e++){const _0x576426=createElement(_0x4b5be2(0x50f),{'class':_0x4b5be2(0x5a9)}),_0x5bdbec=createElement('label',{'class':_0x4b5be2(0x10f),'style':_0x4b5be2(0x474)},[_0x4b5be2(0x5f5)+_0x43776e+':\x20']),_0x4bf0d4=createElement(_0x4b5be2(0x1a7),{'type':'date','class':_0x4b5be2(0x3ca),'events':{'change':_0x678e9b=>_0x142372(_0x43776e,_0x678e9b[_0x4b5be2(0x58d)][_0x4b5be2(0x5dc)],_0x4b5be2(0x620))}}),_0x50fc60=createElement('input',{'type':_0x4b5be2(0x53a),'class':_0x4b5be2(0x3ca),'placeholder':_0x4b5be2(0x18f),'value':_0x385b31[_0x43776e-0x1][_0x4b5be2(0x551)],'events':{'change':_0x22450a=>_0x142372(_0x43776e,_0x22450a[_0x4b5be2(0x58d)][_0x4b5be2(0x5dc)],_0x4b5be2(0x551))}}),_0x23e7ac=createElement(_0x4b5be2(0x50f),{'class':_0x4b5be2(0x560)}),_0x54603e=createElement(_0x4b5be2(0x50f),{'class':_0x4b5be2(0x256)},[_0x576426,_0x5bdbec,_0x4bf0d4,_0x50fc60,_0x23e7ac]);_0x44b299[_0x4b5be2(0x47d)](_0x54603e);}}function updateMedioPagoCredito(_0x1eb032,_0x496770,_0x9ba4df,_0x400eeb,_0xbca513){const _0x4125a1=_0x36d314;!medio_pago[_0x400eeb][_0x4125a1(0x2ad)][_0x4125a1(0x166)][_0x496770-0x1]&&(medio_pago[_0x400eeb][_0x4125a1(0x2ad)]['data'][_0x496770-0x1]={'cuota':_0x496770});if(_0xbca513==_0x4125a1(0x620))medio_pago[_0x400eeb][_0x4125a1(0x2ad)][_0x4125a1(0x166)][_0x496770-0x1]['fechaVencimiento']=_0x9ba4df;else _0xbca513==_0x4125a1(0x551)&&(medio_pago[_0x400eeb][_0x4125a1(0x2ad)][_0x4125a1(0x166)][_0x496770-0x1][_0x4125a1(0x551)]=_0x9ba4df);console[_0x4125a1(0x590)](_0x4125a1(0x615),medio_pago[_0x400eeb]);}function createMixtoForm(_0xd19304){const _0x2ea721=_0x36d314,_0x236fbb=createElement(_0x2ea721(0x50f),{},[]),_0x59bcdf=createContadoForm(_0xd19304);_0x236fbb['appendChild'](_0x59bcdf);const _0xd06c6a=createCreditoForm(_0xd19304);_0x236fbb[_0x2ea721(0x47d)](_0xd06c6a);let _0x804f93=document[_0x2ea721(0x442)](_0x2ea721(0x271)+_0xd19304);return!_0x804f93&&(_0x804f93=createElement(_0x2ea721(0x50f),{'id':'status-label-'+_0xd19304,'class':_0x2ea721(0x626)}),_0x236fbb[_0x2ea721(0x47d)](_0x804f93)),_0x236fbb;}function getTotalFromFloatRight(_0x480853){const _0x54f88f=_0x36d314,_0x51b882=document[_0x54f88f(0x442)](_0x54f88f(0x643)+_0x480853)['textContent'];return parseFloat(_0x51b882['replace'](/[S/$]/g,'')[_0x54f88f(0x13a)]());}function toggleTaxFields(_0x1c7169,_0x40d064,_0x54f35b){const _0x4e398d=_0x36d314,_0xac7ac9=_0x1c7169[_0x4e398d(0x58d)][_0x4e398d(0x334)];if(_0x40d064==_0x4e398d(0x27c)){const _0x5e88e9=document['getElementById']('detraccionCodigo-'+_0x54f35b);_0xac7ac9?(_0x5e88e9[_0x4e398d(0x9f)]['remove']('hidden'),window_options[_0x54f35b]['setDetraccion']='1'):(_0x5e88e9[_0x4e398d(0x9f)][_0x4e398d(0xfb)]('hidden'),_0x5e88e9['value']='0',window_options[_0x54f35b]['setDetraccion']='0',window_options[_0x54f35b][_0x4e398d(0x1d3)]='',window_options[_0x54f35b]['setDetraccionPorcentaje']='0',window_options[_0x54f35b][_0x4e398d(0x1c4)]='0');}const _0x3d6078=document[_0x4e398d(0x442)](_0x40d064[_0x4e398d(0x3b5)]()+_0x4e398d(0xce)+_0x54f35b),_0x49e5c1=document[_0x4e398d(0x442)](_0x40d064[_0x4e398d(0x3b5)]()+'Total-'+_0x54f35b);_0x3d6078&&_0x49e5c1&&(_0xac7ac9?(_0x40d064==_0x4e398d(0x534)&&(window_options[_0x54f35b][_0x4e398d(0xa4)]='1'),_0x40d064==_0x4e398d(0x498)&&(window_options[_0x54f35b]['setPercepcion']='1'),_0x3d6078['classList'][_0x4e398d(0x44c)](_0x4e398d(0x362)),_0x49e5c1[_0x4e398d(0x9f)][_0x4e398d(0x44c)](_0x4e398d(0x362)),calculateTax(_0x40d064,_0x54f35b)):(_0x40d064==_0x4e398d(0x534)&&(window_options[_0x54f35b][_0x4e398d(0xa4)]='0',window_options[_0x54f35b][_0x4e398d(0x65e)]='0',window_options[_0x54f35b][_0x4e398d(0x59b)]='0'),_0x40d064==_0x4e398d(0x498)&&(window_options[_0x54f35b]['setPercepcion']='0',window_options[_0x54f35b][_0x4e398d(0x183)]='0',window_options[_0x54f35b][_0x4e398d(0x4bf)]='0'),saveWindowOptionsDB(_0x54f35b),_0x3d6078[_0x4e398d(0x9f)][_0x4e398d(0xfb)](_0x4e398d(0x362)),_0x49e5c1[_0x4e398d(0x9f)]['add']('hidden'),_0x3d6078[_0x4e398d(0x5dc)]=_0x40d064==_0x4e398d(0x534)?'3':_0x40d064=='Percepcion'?'2':'',_0x49e5c1[_0x4e398d(0x5dc)]=''));}function calculateTax(_0x3da687,_0x3c19a7){const _0x30783a=_0x36d314,_0x4b9478=parseFloat(getTotalFromFloatRight(_0x3c19a7))||0x0,_0x52614d=document[_0x30783a(0x442)](_0x3da687[_0x30783a(0x3b5)]()+_0x30783a(0xce)+_0x3c19a7),_0x344153=document[_0x30783a(0x442)](_0x3da687[_0x30783a(0x3b5)]()+_0x30783a(0x4f6)+_0x3c19a7);if(_0x52614d&&_0x344153){const _0xd45df1=parseFloat(_0x52614d[_0x30783a(0x5dc)])||0x0,_0xb836ac=_0x4b9478*(_0xd45df1/0x64);_0x344153[_0x30783a(0x5dc)]=_0xb836ac[_0x30783a(0x35c)](0x2),_0x3da687==_0x30783a(0x27c)&&(window_options[_0x3c19a7][_0x30783a(0x514)]=_0xd45df1,window_options[_0x3c19a7][_0x30783a(0x1c4)]=_0xb836ac[_0x30783a(0x35c)](0x2)),_0x3da687==_0x30783a(0x534)&&(window_options[_0x3c19a7][_0x30783a(0x65e)]=_0xd45df1,window_options[_0x3c19a7]['setRetencionTotal']=_0xb836ac['toFixed'](0x2)),_0x3da687==_0x30783a(0x498)&&(window_options[_0x3c19a7][_0x30783a(0x183)]=_0xd45df1,window_options[_0x3c19a7][_0x30783a(0x4bf)]=_0xb836ac['toFixed'](0x2)),saveWindowOptionsDB(_0x3c19a7);}}function setupConsulta(_0x3a1702){const _0x4540f8=_0x36d314,_0x22f9c7=document[_0x4540f8(0x442)](_0x4540f8(0x66a)+_0x3a1702),_0x267b21=document[_0x4540f8(0x442)]('setClienteTipoDoc-'+_0x3a1702),_0x2d660f=document[_0x4540f8(0x442)](_0x4540f8(0x266)+_0x3a1702),_0x2f785e=document[_0x4540f8(0x442)](_0x4540f8(0x53f)+_0x3a1702),_0x467a28=document[_0x4540f8(0x442)](_0x4540f8(0x1b3)+_0x3a1702);if(!_0x22f9c7||!_0x267b21||!_0x2d660f||!_0x2f785e||!_0x467a28){console['error']('Uno\x20o\x20más\x20elementos\x20requeridos\x20no\x20existen\x20en\x20el\x20DOM.');return;}const _0x5e6be8=_0x267b21[_0x4540f8(0x5dc)],_0xbadb20=_0x2d660f[_0x4540f8(0x5dc)][_0x4540f8(0x13a)](),_0xee6134=_0x2f785e[_0x4540f8(0x5dc)]['trim']()['toLowerCase'](),_0x2b5550=(_0x6bb4cf,_0x2d39cf)=>{const _0x265455=_0x4540f8;return _0x6bb4cf[_0x265455(0x25b)]((_0x57b06f,_0x1b0479)=>{const _0x369cb4=_0x265455;let _0x5f24a3,_0x5cb3f7,_0x465c6e,_0x32061e,_0x13d6e8,_0x12ae18;_0x2d39cf==0x1?(_0x5f24a3=_0x57b06f[_0x369cb4(0x576)],_0x5cb3f7=_0x1b0479['setCustomerDocumentNumber'],_0x465c6e=_0x57b06f[_0x369cb4(0x10a)],_0x32061e=_0x1b0479['setCustomerName'],_0x13d6e8=_0x57b06f[_0x369cb4(0xf8)],_0x12ae18=_0x1b0479[_0x369cb4(0xf8)]):(_0x5f24a3=_0x57b06f[_0x369cb4(0x654)],_0x5cb3f7=_0x1b0479['setSupplierDocumentNumber'],_0x465c6e=_0x57b06f[_0x369cb4(0x9a)],_0x32061e=_0x1b0479['setSupplierName'],_0x13d6e8=_0x57b06f[_0x369cb4(0x1dc)],_0x12ae18=_0x1b0479[_0x369cb4(0x1dc)]);const _0x7032d7=[_0x5f24a3,_0x465c6e,_0x13d6e8]['filter'](Boolean)[_0x369cb4(0x301)],_0x5340ff=[_0x5cb3f7,_0x32061e,_0x12ae18][_0x369cb4(0x41f)](Boolean)[_0x369cb4(0x301)];return _0x5340ff>_0x7032d7?_0x1b0479:_0x57b06f;},_0x6bb4cf[0x0]);};let _0x244b7b,_0x4ecff8;setTipOpeOrders[_0x4540f8(0x3b9)](_0x547c5e=>_0x547c5e==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeSales[_0x4540f8(0x3b9)](_0x3a627b=>_0x3a627b==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeQuotation[_0x4540f8(0x3b9)](_0x27175c=>_0x27175c==window_options[_0x3a1702]['setTipoOperacion'])?(_0x4ecff8=0x1,_0x244b7b=myCompany[_0x4540f8(0xa8)]):(_0x4ecff8=0x2,_0x244b7b=myCompany[_0x4540f8(0x20c)]);if(_0xbadb20){let _0x483767;setTipOpeOrders[_0x4540f8(0x3b9)](_0xb61559=>_0xb61559==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeSales[_0x4540f8(0x3b9)](_0xce0fbf=>_0xce0fbf==window_options[_0x3a1702]['setTipoOperacion'])||setTipOpeQuotation[_0x4540f8(0x3b9)](_0x2eaefd=>_0x2eaefd==window_options[_0x3a1702]['setTipoOperacion'])?_0x483767=_0x244b7b['filter'](_0x4df6cf=>_0x4df6cf['setCustomerDocumentNumber']==_0xbadb20):_0x483767=_0x244b7b['filter'](_0x79652e=>_0x79652e[_0x4540f8(0x654)]==_0xbadb20);if(_0x483767[_0x4540f8(0x301)]>0x0){const _0x3a1604=_0x2b5550(_0x483767,_0x4ecff8);setTipOpeOrders['some'](_0x541116=>_0x541116==window_options[_0x3a1702]['setTipoOperacion'])||setTipOpeSales[_0x4540f8(0x3b9)](_0x47cb80=>_0x47cb80==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeQuotation['some'](_0x4fbd4a=>_0x4fbd4a==window_options[_0x3a1702][_0x4540f8(0x13b)])?(_0x2f785e[_0x4540f8(0x5dc)]=_0x3a1604['setCustomerName']||'',_0x467a28[_0x4540f8(0x5dc)]=_0x3a1604['setCustomerAddress']||''):(_0x2f785e[_0x4540f8(0x5dc)]=_0x3a1604[_0x4540f8(0x9a)]||'',_0x467a28[_0x4540f8(0x5dc)]=_0x3a1604[_0x4540f8(0x1dc)]||'');window_options[_0x3a1702][_0x4540f8(0x641)]=_0x2f785e[_0x4540f8(0x5dc)],window_options[_0x3a1702][_0x4540f8(0x438)]=_0x467a28[_0x4540f8(0x5dc)],saveWindowOptionsDB(_0x3a1702)['catch'](_0x1830b2=>console[_0x4540f8(0x499)]('Error\x20al\x20guardar\x20datos:',_0x1830b2));return;}isOnline()?_0x5e6be8['toLowerCase']()==_0x4540f8(0x5a2)&&_0xbadb20[_0x4540f8(0x301)]==0x8||_0x5e6be8[_0x4540f8(0x3b5)]()==_0x4540f8(0x4ca)&&_0xbadb20[_0x4540f8(0x301)]==0xb?consultarAPI(_0x5e6be8,_0xbadb20,_0x3a1702):ntfShow(_0x4540f8(0x623)):ntfShow('No\x20se\x20encontraron\x20datos\x20en\x20el\x20sistema\x20local\x20y\x20no\x20hay\x20conexión\x20a\x20internet.\x20Ingresa\x20los\x20datos\x20manualmente.');return;}if(_0xee6134){const _0x506667=_0xee6134,_0x46ae38=_0x244b7b[_0x4540f8(0x41f)](_0x148fa8=>{const _0x5368e7=_0x4540f8;let _0x32da06,_0x2c3993;setTipOpeOrders['some'](_0x4ba6e2=>_0x4ba6e2==window_options[_0x3a1702][_0x5368e7(0x13b)])||setTipOpeSales[_0x5368e7(0x3b9)](_0xe67401=>_0xe67401==window_options[_0x3a1702][_0x5368e7(0x13b)])||setTipOpeQuotation[_0x5368e7(0x3b9)](_0x1db5d6=>_0x1db5d6==window_options[_0x3a1702][_0x5368e7(0x13b)])?(_0x32da06=_0x148fa8[_0x5368e7(0x10a)][_0x5368e7(0x3b5)](),_0x2c3993=_0x148fa8[_0x5368e7(0x576)]):(_0x32da06=_0x148fa8[_0x5368e7(0x9a)][_0x5368e7(0x3b5)](),_0x2c3993=_0x148fa8[_0x5368e7(0x654)]);const _0x341132=_0x506667['split'](/\s+/),_0x46eb1e=_0x341132[_0x5368e7(0x455)](_0x223abc=>_0x32da06[_0x5368e7(0x62a)](_0x223abc)),_0x2531e=_0x2c3993[_0x5368e7(0x62a)](_0x506667);return _0x46eb1e||_0x2531e;});if(_0x46ae38[_0x4540f8(0x301)]>0x0){const _0x49ec3b=_0x2b5550(_0x46ae38,_0x4ecff8);setTipOpeOrders[_0x4540f8(0x3b9)](_0x48b68e=>_0x48b68e==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeSales['some'](_0xc47b1c=>_0xc47b1c==window_options[_0x3a1702][_0x4540f8(0x13b)])||setTipOpeQuotation[_0x4540f8(0x3b9)](_0x520a37=>_0x520a37==window_options[_0x3a1702][_0x4540f8(0x13b)])?(_0x2d660f['value']=_0x49ec3b['setCustomerDocumentNumber']||'',_0x2f785e[_0x4540f8(0x5dc)]=_0x49ec3b[_0x4540f8(0x10a)]||'',_0x467a28[_0x4540f8(0x5dc)]=_0x49ec3b['setCustomerAddress']||''):(_0x2d660f[_0x4540f8(0x5dc)]=_0x49ec3b['setSupplierDocumentNumber']||'',_0x2f785e['value']=_0x49ec3b[_0x4540f8(0x9a)]||'',_0x467a28['value']=_0x49ec3b['setSupplierAddress']||'');window_options[_0x3a1702][_0x4540f8(0x87)]=_0x2d660f['value'],window_options[_0x3a1702][_0x4540f8(0x641)]=_0x2f785e[_0x4540f8(0x5dc)],window_options[_0x3a1702][_0x4540f8(0x438)]=_0x467a28['value'],saveWindowOptionsDB(_0x3a1702)[_0x4540f8(0x3d5)](_0x4ef616=>console[_0x4540f8(0x499)](_0x4540f8(0x504),_0x4ef616));return;}ntfShow(_0x4540f8(0x2cb));return;}ntfShow(_0x4540f8(0x212));}function consultarAPI(_0x14eb7c,_0xaaa916,_0x428a4f){const _0x15b205=_0x36d314,_0xf65027=document[_0x15b205(0x442)]('btnConsultar-'+_0x428a4f),_0x522eb0=document[_0x15b205(0x442)](_0x15b205(0x53f)+_0x428a4f),_0x56eb34=document['getElementById'](_0x15b205(0x1b3)+_0x428a4f);_0xf65027[_0x15b205(0x41a)]=!![],showLoadingModal();const _0x1583f5=_0x15b205(0x35f),_0x5e937b=_0x15b205(0x3c7),_0x11157a=_0x1583f5+'/'+_0x14eb7c['toLowerCase']()+'/?'+_0x14eb7c[_0x15b205(0x3b5)]()+'='+_0xaaa916+_0x15b205(0x1f8)+_0x5e937b;fetch(_0x11157a)[_0x15b205(0x667)](_0x2e6733=>{const _0x4c788a=_0x15b205;if(!_0x2e6733['ok'])throw new Error(_0x4c788a(0x1fd));return _0x2e6733['json']();})[_0x15b205(0x667)](_0x54529b=>{const _0x5940e2=_0x15b205;if(_0x54529b[_0x5940e2(0x255)]==_0x5940e2(0x2e0)&&_0x54529b['datos'][_0x5940e2(0x301)]>0x0){const _0x3f0ee1=_0x54529b[_0x5940e2(0x14f)][0x0];if(_0x14eb7c=='RUC')_0x522eb0[_0x5940e2(0x5dc)]=_0x3f0ee1[_0x5940e2(0x1ce)]||'',_0x56eb34[_0x5940e2(0x5dc)]=_0x3f0ee1[_0x5940e2(0xa1)]||'';else _0x14eb7c==_0x5940e2(0x601)&&(_0x522eb0[_0x5940e2(0x5dc)]=((_0x3f0ee1[_0x5940e2(0x92)]||'')+'\x20'+(_0x3f0ee1[_0x5940e2(0x397)]||''))[_0x5940e2(0x13a)](),_0x56eb34[_0x5940e2(0x5dc)]=_0x3f0ee1[_0x5940e2(0xa1)]||'');window_options[_0x428a4f]['setClienteDenominacion']=_0x522eb0['value'],window_options[_0x428a4f][_0x5940e2(0x438)]=_0x56eb34[_0x5940e2(0x5dc)],saveWindowOptionsDB(_0x428a4f)[_0x5940e2(0x3d5)](_0x3be9ca=>console[_0x5940e2(0x499)]('Error\x20al\x20guardar\x20datos:',_0x3be9ca));}else ntfShow(_0x5940e2(0x354));})[_0x15b205(0x3d5)](_0x132c78=>{const _0xc23f0b=_0x15b205;console[_0xc23f0b(0x499)](_0xc23f0b(0x3b7),_0x132c78),ntfShow(_0xc23f0b(0x3ce));})['finally'](()=>{const _0x2c64c3=_0x15b205;_0xf65027[_0x2c64c3(0x41a)]=![],hideLoadingModal();});}function nowWithMillisecondsForServer(){const _0x19be01=_0x36d314;let _0x2b0866;if(typeof performance!==_0x19be01(0x43d)&&typeof performance[_0x19be01(0x2ab)]===_0x19be01(0x610)){let _0x32fad9;if(typeof performance[_0x19be01(0x3cb)]===_0x19be01(0x53a))_0x32fad9=performance['timeOrigin'];else performance[_0x19be01(0x5a5)]&&performance[_0x19be01(0x5a5)]['navigationStart']?_0x32fad9=performance[_0x19be01(0x5a5)][_0x19be01(0x1c3)]:_0x32fad9=Date[_0x19be01(0x2ab)]();_0x2b0866=_0x32fad9+performance[_0x19be01(0x2ab)]();}else _0x2b0866=Date[_0x19be01(0x2ab)]();const _0x3436eb=Math['floor'](_0x2b0866),_0x2cdff7=_0x2b0866-_0x3436eb,_0x1d7a26=Math[_0x19be01(0x124)](_0x2cdff7*0x3e8),_0x2c06cd=new Date(_0x3436eb),_0x23583e=_0x2c06cd['getUTCFullYear'](),_0x26b48d=String(_0x2c06cd[_0x19be01(0x359)]()+0x1)[_0x19be01(0x663)](0x2,'0'),_0x5e9016=String(_0x2c06cd['getUTCDate']())[_0x19be01(0x663)](0x2,'0'),_0x3d1d22=String(_0x2c06cd[_0x19be01(0x328)]())[_0x19be01(0x663)](0x2,'0'),_0x57915c=String(_0x2c06cd['getUTCMinutes']())[_0x19be01(0x663)](0x2,'0'),_0x27d698=String(_0x2c06cd[_0x19be01(0x107)]())[_0x19be01(0x663)](0x2,'0'),_0x31a949=String(_0x2c06cd['getUTCMilliseconds']())[_0x19be01(0x663)](0x3,'0'),_0x522718=String(_0x1d7a26)[_0x19be01(0x663)](0x3,'0');return _0x23583e+'-'+_0x26b48d+'-'+_0x5e9016+'T'+_0x3d1d22+':'+_0x57915c+':'+_0x27d698+'.'+_0x31a949+_0x522718+'Z';}async function getLastCorrelativeOffline(_0x4b2378,_0x43a86a){const _0x49531e=_0x36d314,_0x507a53=await createCartStore(''),_0x8588dc=_0x507a53[_0x49531e(0x336)](_0x49531e(0x50a),_0x49531e(0xd1)),_0x127a9f=_0x8588dc[_0x49531e(0x568)](_0x49531e(0x50a)),_0x17d473=await new Promise((_0x36d32c,_0x265801)=>{const _0x4b583d=_0x49531e,_0x49e488=_0x127a9f[_0x4b583d(0x43e)]();_0x49e488[_0x4b583d(0x2d5)]=()=>_0x36d32c(_0x49e488[_0x4b583d(0x3f5)]),_0x49e488[_0x4b583d(0x461)]=()=>_0x265801(_0x49e488[_0x4b583d(0x499)]);}),_0x1f48d6=myCompany['setAuthToken']||'',_0x1d2101=_0x17d473[_0x49531e(0x41f)](_0x1c2ab8=>_0x1c2ab8[_0x49531e(0x13b)]==_0x4b2378&&_0x1c2ab8[_0x49531e(0x24a)]==_0x43a86a&&_0x1c2ab8[_0x49531e(0x378)]==_0x1f48d6),_0xac5c07=parseInt(getUserPermissionApiERP(0x5),0xa);let _0x389b41;if(_0xac5c07===0x1){const _0x5dfa1a=getLoggedUserSeries();_0x389b41=_0x5dfa1a[_0x49531e(0x54e)](_0x5eb800=>_0x5eb800[_0x49531e(0x296)]==_0x4b2378&&_0x5eb800[_0x49531e(0x477)]==_0x43a86a);}else _0x389b41=myCompany['setSeries']['find'](_0x5f49d3=>_0x5f49d3[_0x49531e(0x180)]==_0x4b2378&&_0x5f49d3[_0x49531e(0x24a)]==_0x43a86a);if(!_0x389b41){ntfShow(_0x49531e(0x223)),console[_0x49531e(0x499)](_0x49531e(0x223));return;}const _0x98d3b4=_0xac5c07===0x1?parseInt(_0x389b41['setSeriesCorrelativeInitial'],0xa):parseInt(_0x389b41[_0x49531e(0x448)],0xa);if(_0x1d2101[_0x49531e(0x301)]===0x0)return _0x98d3b4;const _0x3e3242=_0x1d2101[_0x49531e(0x4a8)](_0x421790=>Number(_0x421790['setCorrelativo'])||0x0)[_0x49531e(0x25b)]((_0x6f3872,_0x3e36b1)=>_0x3e36b1>_0x6f3872?_0x3e36b1:_0x6f3872,0x0);return Math[_0x49531e(0x1dd)](_0x3e3242+0x1,_0x98d3b4);}async function updateLastCorrelativeOnline(_0x15c81a,_0x342d25){const _0x4c829c=_0x36d314;if(isOnline()){const _0x19ae22=getUserPermissionApiERP(0x5);let _0x1b728b;if(_0x19ae22==0x1){const _0x544bd6=getLoggedUserSeries();_0x1b728b=_0x544bd6[_0x4c829c(0x54e)](_0x7bd5b6=>_0x7bd5b6['setSeriesType']==_0x15c81a&&_0x7bd5b6[_0x4c829c(0x477)]==_0x342d25);}else _0x1b728b=myCompany[_0x4c829c(0x644)][_0x4c829c(0x54e)](_0x85d594=>_0x85d594['setSerieTipo']==_0x15c81a&&_0x85d594['setSerie']==_0x342d25);if(!_0x1b728b){ntfShow(_0x4c829c(0x223)),console[_0x4c829c(0x499)](_0x4c829c(0x223));return;}const _0x410c53=myCompany[_0x4c829c(0x43b)],_0x5cf592={'apiPOS_getLastCorrelative':0x1,'setToken':myCompany[_0x4c829c(0x32d)],'setReceiptType':_0x15c81a,'setReceiptSeries':_0x342d25};try{const _0x443456=await fetch(_0x410c53,{'method':_0x4c829c(0x3d0),'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'body':JSON[_0x4c829c(0x52b)](_0x5cf592)}),_0x5ec118=await _0x443456[_0x4c829c(0x606)]();if(_0x5ec118['success']&&_0x5ec118[_0x4c829c(0x20d)][_0x4c829c(0x65d)]){let _0x405383=parseInt(_0x5ec118[_0x4c829c(0x20d)]['setLastCorrelative'],0xa)||0x0,_0x30589e=parseInt(await getLastCorrelativeOffline(_0x15c81a,_0x342d25),0xa)||0x0;_0x30589e>_0x405383&&(_0x405383=_0x30589e);_0x19ae22==0x1?_0x1b728b[_0x4c829c(0xcb)]=_0x405383:_0x1b728b['setCorrelativoInicial']=_0x405383;try{const _0x5b7e71=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5b7e71),console['log'](_0x4c829c(0xd8));const _0x3b3a5f=document[_0x4c829c(0x442)](_0x4c829c(0x61e))['value'];window_options[_0x3b3a5f][_0x4c829c(0x13b)]==_0x15c81a&&(window_options[_0x3b3a5f][_0x4c829c(0x1d0)]=_0x405383,await saveWindowOptionsDB(_0x3b3a5f),console['log']('Guardando\x20Correlativo\x20en\x20Window\x20Options'));}catch(_0x41384c){console[_0x4c829c(0x499)](_0x4c829c(0x23a),_0x41384c);throw _0x41384c;}}}catch(_0x46da66){console[_0x4c829c(0x499)](_0x4c829c(0x2ac),_0x46da66);}}}async function processCorrelativoInicial(_0x1d094e,_0x3902af,_0x5460fc){const _0xb36812=_0x36d314;let _0x2efcea;const _0xc8a55=getUserPermissionApiERP(0x5);let _0x5257cc;if(_0xc8a55==0x1){const _0xd34afb=getLoggedUserSeries();_0x5257cc=_0xd34afb['find'](_0x3f9a2d=>_0x3f9a2d[_0xb36812(0x296)]==_0x1d094e&&_0x3f9a2d['setSeriesNumber']==_0x3902af),_0x2efcea=_0x5257cc?_0x5257cc[_0xb36812(0xcb)]:0x1;}else _0x5257cc=myCompany[_0xb36812(0x644)][_0xb36812(0x54e)](_0x586b00=>_0x586b00[_0xb36812(0x180)]==_0x1d094e&&_0x586b00[_0xb36812(0x24a)]==_0x3902af),_0x2efcea=_0x5257cc?_0x5257cc[_0xb36812(0x448)]:0x1;if(_0x5460fc!==undefined){if(_0x5257cc){_0xc8a55==0x1?_0x5257cc['setSeriesCorrelativeInitial']=_0x5460fc:_0x5257cc['setCorrelativoInicial']=_0x5460fc;try{const _0xc6be63=await createCartStore('');return await saveCompanyToIndexedDB(company,_0xc6be63),_0x5460fc;}catch(_0x5f2210){console[_0xb36812(0x499)](_0xb36812(0x23a),_0x5f2210);throw _0x5f2210;}}else throw new Error('Serie\x20no\x20encontrada');}return _0x2efcea;}function getFilteredCart(_0x87fc0e){const _0x321805=_0x36d314,_0x23a9e1=window_options[_0x87fc0e][_0x321805(0x13b)];if(setTipOpeOrders['some'](_0x3d2558=>_0x3d2558==_0x23a9e1))return carts[_0x87fc0e][_0x321805(0x41f)](_0x5950b7=>_0x5950b7[_0x321805(0x5e5)]==0x1&&_0x5950b7[_0x321805(0x51c)]=='');else return setTipOpeSales['some'](_0x3c11c5=>_0x3c11c5==_0x23a9e1)||setTipOpePurchases['some'](_0x2c93b6=>_0x2c93b6==_0x23a9e1)||setTipOpeQuotation[_0x321805(0x3b9)](_0x41a405=>_0x41a405==_0x23a9e1)?carts[_0x87fc0e][_0x321805(0x41f)](_0xaa37a8=>_0xaa37a8[_0x321805(0x5e5)]==0x1):[];}async function validateOperation(_0x56c565,_0x2189d9=''){const _0x3cb678=_0x36d314,_0x2fc3d1=document[_0x3cb678(0x442)](_0x3cb678(0x3fe)),_0x39d573=_0x2fc3d1[_0x3cb678(0x5dc)],_0x58da45=_0x2fc3d1[_0x3cb678(0x14b)][_0x2fc3d1['selectedIndex']][_0x3cb678(0x648)],_0x6a7dce=document[_0x3cb678(0x442)](_0x3cb678(0x59f)+_0x56c565)[_0x3cb678(0x5dc)],_0x55917b=document[_0x3cb678(0x442)]('setTipoOperacionInvoice-'+_0x56c565)[_0x3cb678(0x5dc)],_0x1de8c6=document[_0x3cb678(0x442)]('setSerie-'+_0x56c565)[_0x3cb678(0x5dc)],_0xf3265f=document[_0x3cb678(0x442)](_0x3cb678(0x1b6)+_0x56c565)['value'],_0x1fd570=document[_0x3cb678(0x442)](_0x3cb678(0x236)+_0x56c565)['value'],_0x2dfac1=document['getElementById'](_0x3cb678(0x343)+_0x56c565)[_0x3cb678(0x5dc)],_0x473212=document[_0x3cb678(0x442)](_0x3cb678(0x266)+_0x56c565)[_0x3cb678(0x5dc)],_0x42ad7e=document[_0x3cb678(0x442)]('setClienteDenominacion-'+_0x56c565)[_0x3cb678(0x5dc)],_0x28a127=document[_0x3cb678(0x442)]('setClienteDireccion-'+_0x56c565)[_0x3cb678(0x5dc)],_0x2551ca=document[_0x3cb678(0x442)](_0x3cb678(0x1d8)+_0x56c565)[_0x3cb678(0x5dc)],_0x34e52c=document['getElementById'](_0x3cb678(0x12d)+_0x56c565)[_0x3cb678(0x5dc)],_0x23ca28=document[_0x3cb678(0x442)](_0x3cb678(0x5f6)+_0x56c565)[_0x3cb678(0x5dc)],_0x8efad6=document[_0x3cb678(0x442)](_0x3cb678(0x377)+_0x56c565)[_0x3cb678(0x5dc)],_0x1e0358=getTotalFromFloatRight(_0x56c565),_0x7f90f1=getFilteredCart(_0x56c565);if(!_0x6a7dce||!_0x2dfac1)return ntfShow(_0x3cb678(0x4df)),![];if(!setTipOpePurchaseReceipt[_0x3cb678(0x3b9)](_0x46dd5a=>_0x46dd5a==window_options[_0x56c565][_0x3cb678(0x13b)])){if(!_0x1de8c6||!_0xf3265f)return ntfShow(_0x3cb678(0xad)),![];if(!/^[A-Za-z0-9]{4}$/['test'](_0x1de8c6))return ntfShow(_0x3cb678(0x191)),![];if(/ñ/i['test'](_0x1de8c6))return ntfShow('La\x20serie\x20no\x20debe\x20contener\x20la\x20letra\x20\x27ñ\x27.'),![];if(window_options[_0x56c565][_0x3cb678(0x13b)]=='3'&&_0x1de8c6[_0x3cb678(0x604)](0x0)!=='B')return ntfShow('Si\x20la\x20operación\x20es\x20Boleta\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27B\x27.'),![];if(window_options[_0x56c565][_0x3cb678(0x13b)]=='4'&&_0x1de8c6[_0x3cb678(0x604)](0x0)!=='F')return ntfShow(_0x3cb678(0x44f)),![];}if(setTipOpeSalesInvoice[_0x3cb678(0x3b9)](_0xf0fa1c=>_0xf0fa1c==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpePurchaseInvoice[_0x3cb678(0x3b9)](_0x587431=>_0x587431==window_options[_0x56c565][_0x3cb678(0x13b)])){if(!_0x473212['trim']()||!_0x42ad7e['trim']())return ntfShow(_0x3cb678(0x48c)),![];if(window_options[_0x56c565][_0x3cb678(0x13b)]=='4'&&_0x2dfac1!='RUC')return ntfShow(_0x3cb678(0x487)),![];}if(setTipOpeSalesTicket[_0x3cb678(0x3b9)](_0x1ccdaf=>_0x1ccdaf==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpePurchaseTicket[_0x3cb678(0x3b9)](_0x1ee7ce=>_0x1ee7ce==window_options[_0x56c565][_0x3cb678(0x13b)])){if(window_options[_0x56c565][_0x3cb678(0x13b)]=='3'&&_0x1e0358>=0x2bc){if(_0x2dfac1!='DNI'&&_0x2dfac1!=_0x3cb678(0x216)||!_0x473212[_0x3cb678(0x13a)]()||!_0x42ad7e[_0x3cb678(0x13a)]())return ntfShow(_0x3cb678(0x1a4)),![];}}if(_0x473212[_0x3cb678(0x13a)]()){if(_0x2dfac1==_0x3cb678(0x601)&&!/^\d{8}$/[_0x3cb678(0x110)](_0x473212))return ntfShow('DNI\x20debe\x20tener\x208\x20dígitos.'),![];if(_0x2dfac1=='RUC'&&!/^\d{11}$/[_0x3cb678(0x110)](_0x473212))return ntfShow(_0x3cb678(0x163)),![];if(!_0x42ad7e[_0x3cb678(0x13a)]())return ntfShow(_0x3cb678(0x62f)),![];}if(!Array['isArray'](_0x7f90f1)||_0x7f90f1[_0x3cb678(0x301)]==0x0)return ntfShow(_0x3cb678(0x402)),![];let _0x323df7;setTipOpeOrders['some'](_0x3eba7b=>_0x3eba7b==window_options[_0x56c565]['setTipoOperacion'])||setTipOpeSales[_0x3cb678(0x3b9)](_0x390e7e=>_0x390e7e==window_options[_0x56c565]['setTipoOperacion'])||setTipOpeQuotation[_0x3cb678(0x3b9)](_0x523226=>_0x523226==window_options[_0x56c565][_0x3cb678(0x13b)])?_0x323df7=0x2:_0x323df7=0x1;for(var _0x15b10f=0x0;_0x15b10f<_0x7f90f1[_0x3cb678(0x301)];_0x15b10f++){let _0x37d11a,_0x55a7de;_0x323df7==0x1?(_0x37d11a=parseFloat(_0x7f90f1[_0x15b10f][_0x3cb678(0x480)])||0x0,_0x55a7de='costo'):(_0x37d11a=parseFloat(_0x7f90f1[_0x15b10f]['setMtoPrecioUnitario_input'])||0x0,_0x55a7de=_0x3cb678(0x153));var _0x52a994=_0x37d11a;if(_0x52a994<=0x0)return ntfShow(_0x3cb678(0x13e)+(_0x7f90f1[_0x15b10f][_0x3cb678(0x249)]||_0x3cb678(0x584))+_0x3cb678(0x2b4)+_0x55a7de+_0x3cb678(0x35a)),![];}if(_0x2189d9){const _0x30951b=parseInt(getUserPermissionApiERP(0xe)),_0x5f023b=parseInt(getUserPermissionApiERP(0x5));if((_0x5f023b==0x0||_0x5f023b==0x1&&((setTipOpeSalesTicket['some'](_0x424e09=>_0x424e09==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeSalesInvoice[_0x3cb678(0x3b9)](_0x144442=>_0x144442==window_options[_0x56c565][_0x3cb678(0x13b)]))&&_0x30951b==0x0))&&window_options[_0x56c565][_0x3cb678(0xfa)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders['some'](_0x34b71c=>_0x34b71c==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeSales[_0x3cb678(0x3b9)](_0xaecc55=>_0xaecc55==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeQuotation[_0x3cb678(0x3b9)](_0x66bca9=>_0x66bca9==window_options[_0x56c565][_0x3cb678(0x13b)])))showLoadingModal(),await updateLastCorrelativeOnline(window_options[_0x56c565][_0x3cb678(0x13b)],window_options[_0x56c565][_0x3cb678(0x24a)]),hideLoadingModal();else{if(window_options[_0x56c565][_0x3cb678(0xfa)]!=0x2&&correlativeReadonly!=0x1&&(setTipOpeOrders['some'](_0x36f719=>_0x36f719==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeSales['some'](_0x105865=>_0x105865==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeQuotation['some'](_0x397b95=>_0x397b95==window_options[_0x56c565][_0x3cb678(0x13b)]))){showLoadingModal();let _0x2e455b=parseInt(await getLastCorrelativeOffline(window_options[_0x56c565][_0x3cb678(0x13b)],window_options[_0x56c565][_0x3cb678(0x24a)]),0xa)||0x0,_0x3376d1;if(_0x5f023b==0x1){const _0x29b11a=getLoggedUserSeries();_0x3376d1=_0x29b11a[_0x3cb678(0x54e)](_0x4ca053=>_0x4ca053[_0x3cb678(0x296)]==window_options[_0x56c565][_0x3cb678(0x13b)]&&_0x4ca053['setSeriesNumber']==window_options[_0x56c565][_0x3cb678(0x24a)]);}else _0x3376d1=myCompany[_0x3cb678(0x644)][_0x3cb678(0x54e)](_0xb8d83d=>_0xb8d83d[_0x3cb678(0x180)]==window_options[_0x56c565][_0x3cb678(0x13b)]&&_0xb8d83d[_0x3cb678(0x24a)]==window_options[_0x56c565][_0x3cb678(0x24a)]);if(!_0x3376d1){ntfShow('Serie\x20Incorrecta'),console['error'](_0x3cb678(0x223));return;}_0x5f023b==0x1?_0x3376d1['setSeriesCorrelativeInitial']=_0x2e455b:_0x3376d1[_0x3cb678(0x448)]=_0x2e455b;try{const _0x55c220=await createCartStore('');await saveCompanyToIndexedDB(company,_0x55c220),window_options[_0x56c565]['setCorrelativo']=_0x2e455b,await saveWindowOptionsDB(_0x56c565),console[_0x3cb678(0x590)](_0x3cb678(0x53e));}catch(_0x4d1e87){console[_0x3cb678(0x499)]('Error\x20al\x20guardar\x20Last\x20Correlative:',_0x4d1e87);throw _0x4d1e87;}hideLoadingModal();}}return(setTipOpeOrders[_0x3cb678(0x3b9)](_0x5af06a=>_0x5af06a==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpeQuotation[_0x3cb678(0x3b9)](_0x175b57=>_0x175b57==window_options[_0x56c565]['setTipoOperacion']))&&saveOperation(_0x56c565),(setTipOpeSales[_0x3cb678(0x3b9)](_0xb51e22=>_0xb51e22==window_options[_0x56c565][_0x3cb678(0x13b)])||setTipOpePurchases['some'](_0x1519c6=>_0x1519c6==window_options[_0x56c565]['setTipoOperacion']))&&(showSection(_0x2189d9,_0x56c565),document[_0x3cb678(0x442)]('setMedioPago-'+_0x56c565)['value']=_0x3cb678(0x532),triggerChangeEventById('setMedioPago-'+_0x56c565),updateActivePaymentOption(_0x56c565,_0x3cb678(0x1aa))),!![];}else return!![];}function buildPayload(_0x25f4b0,_0xab26e4=''){const _0x34135b=_0x36d314;window_options[_0x25f4b0]['apiPOSsendOffline']=0x1;const _0x3ec9fb=myCompany[_0x34135b(0x101)]['find'](_0x8b1459=>_0x8b1459['setWindowId']==_0x25f4b0);window_options[_0x25f4b0][_0x34135b(0x61e)]=_0x25f4b0,window_options[_0x25f4b0][_0x34135b(0x169)]=_0x3ec9fb['setWindowName'],window_options[_0x25f4b0][_0x34135b(0x621)]=_0x3ec9fb['setWindowType'],window_options[_0x25f4b0][_0x34135b(0x1e4)]=_0x3ec9fb[_0x34135b(0xed)],window_options[_0x25f4b0][_0x34135b(0x32e)]=generateUniqId(),window_options[_0x25f4b0]['setLastFechaHora']=new Date();parseInt(window_options[_0x25f4b0][_0x34135b(0x2f8)])!=0x1&&(window_options[_0x25f4b0]['setFechaHora']=obtener_fechaHora());const _0x1d5474=getValidatedWindowAndShift(_0x25f4b0)||{'windowObj':{'setShifts':[]},'currentWindowShift':undefined},{windowObj:_0x1d625f,currentWindowShift:_0x1102c8}=_0x1d5474,_0x33e01c=window_options[_0x25f4b0],_0x135470=medio_pago[_0x25f4b0];let _0xf85012=getFilteredCart(_0x25f4b0);_0xab26e4!=''&&(_0xf85012=_0xf85012[_0x34135b(0x41f)](_0x234947=>{const _0x4a80e7=_0x34135b,_0xcf4e48=products['find'](_0x277a11=>_0x277a11['id']==_0x234947[_0x4a80e7(0x3ea)]);return _0xcf4e48&&_0xcf4e48[_0x4a80e7(0xc4)]&&_0xcf4e48['setPrinters']['some'](_0x11812c=>_0x11812c[_0x4a80e7(0x21e)]==_0xab26e4);}));const _0x5d90ee=document['getElementById'](_0x34135b(0x358));if(!_0x5d90ee)return console['error'](_0x34135b(0x2b2)),null;const _0x69db21=_0x5d90ee['value'],_0x47154f=_0x5d90ee['options'][_0x5d90ee[_0x34135b(0x3a8)]][_0x34135b(0x648)],_0x108375=document['getElementById'](_0x34135b(0x3fe));if(!_0x108375)return console[_0x34135b(0x499)]('No\x20se\x20encontró\x20el\x20elemento\x20de\x20sucursal.'),null;const _0x17bf5d=_0x108375[_0x34135b(0x5dc)],_0x5c822c=myCompany[_0x34135b(0x5c6)]['find'](_0x3b84d9=>_0x3b84d9['setBranchId']==_0x17bf5d)?.[_0x34135b(0x2e7)]||'',_0x4885ae=myCompany[_0x34135b(0x5c6)][_0x34135b(0x54e)](_0x1df8e6=>_0x1df8e6['setBranchId']==_0x17bf5d)?.[_0x34135b(0x658)]||'',_0x3c175e=document[_0x34135b(0x442)](_0x34135b(0x1af));if(!_0x3c175e)return console[_0x34135b(0x499)]('No\x20se\x20encontró\x20el\x20elemento\x20de\x20Almacen.'),null;const _0x255f69=_0x3c175e[_0x34135b(0x5dc)],_0x1d7640=_0x3c175e[_0x34135b(0x14b)][_0x3c175e[_0x34135b(0x3a8)]][_0x34135b(0x648)],_0x510846=_0x33e01c['setMoneda'],_0x36c230=myCompany[_0x34135b(0x564)][_0x34135b(0x54e)](_0x28baea=>_0x28baea[_0x34135b(0x3c6)]==_0x510846),_0x34de5a=_0x36c230?_0x36c230[_0x34135b(0x2fc)]:null,_0x56f13a=_0x36c230?_0x36c230[_0x34135b(0x640)]:null,_0x32196f=_0x33e01c[_0x34135b(0x13b)],_0x340e2f=myCompany[_0x34135b(0x3fa)][_0x34135b(0x54e)](_0xbdb106=>_0xbdb106['setTipoOperacionCodigo']==_0x32196f),_0x426af1=_0x340e2f?_0x340e2f['setTipoOperacionName']:null;!myCompany[_0x34135b(0x376)]&&(myCompany[_0x34135b(0x376)]=[]);const _0x34dde0=myCompany[_0x34135b(0x376)],_0x23a11c=_0x34dde0['find'](_0x59d9cd=>_0x59d9cd[_0x34135b(0x3fe)]==_0x17bf5d&&_0x59d9cd[_0x34135b(0x3af)]=='1'),_0x40bf33={..._0x33e01c,'setToken':myCompany['setAuthToken'],'setWebhook':myCompany[_0x34135b(0x195)],'setShiftId':_0x23a11c?_0x23a11c['setShiftId']:0x0,'setWindowShiftId':_0x1102c8?_0x1102c8[_0x34135b(0x57d)]:0x0,'setSucursalCodigo':_0x17bf5d,'setSucursalNombre':_0x5c822c,'setBranchAddress':_0x4885ae,'setWarehouseId':_0x255f69,'setWarehouseName':_0x1d7640,'setCashierId':_0x69db21,'setCashierName':_0x47154f,'setProductos':_0xf85012,'setMedioPago':_0x135470,'setDocumentType':_0x426af1,'setCurrencyName':_0x34de5a,'setCurrencySymbol':_0x56f13a};return setLastOperationGlobalData(_0x25f4b0,{'pdfGlobalPayload':_0x40bf33,'pdfGlobalBlob':'','pdfGlobalName':''}),_0x40bf33;}async function saveOperation(_0x367b6d){const _0x21939d=_0x36d314;let _0xfe558e;(setTipOpeOrders['some'](_0x417da6=>_0x417da6==window_options[_0x367b6d]['setTipoOperacion'])||setTipOpeQuotation[_0x21939d(0x3b9)](_0x41574e=>_0x41574e==window_options[_0x367b6d][_0x21939d(0x13b)]))&&(_0xfe558e=document[_0x21939d(0x442)](_0x21939d(0x363)+_0x367b6d));(setTipOpeSales[_0x21939d(0x3b9)](_0xffdb34=>_0xffdb34==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpePurchases[_0x21939d(0x3b9)](_0x5e574f=>_0x5e574f==window_options[_0x367b6d][_0x21939d(0x13b)]))&&(_0xfe558e=document[_0x21939d(0x442)]('btnSaveOperacion-'+_0x367b6d));if(!_0xfe558e){console['error'](_0x21939d(0x5a0));return;}_0xfe558e[_0x21939d(0x41a)]=!![],hideModalPay(),showLoadingModal();if(!await validateOperation(_0x367b6d)){_0xfe558e[_0x21939d(0x41a)]=![],hideLoadingModal(),showModalPay();return;}const _0x21b2d7=buildPayload(_0x367b6d);if(!_0x21b2d7){console['error'](_0x21939d(0x225)),_0xfe558e[_0x21939d(0x41a)]=![],hideLoadingModal(),showModalPay();return;}try{await storeOfflineOperation(_0x21b2d7);const _0x13c486=[],_0x11ba0f=_0x21b2d7[_0x21939d(0x57e)],_0x2033df=myCompany['setPrinters'][_0x21939d(0x41f)](_0x22dad1=>_0x22dad1[_0x21939d(0x3fe)]==_0x11ba0f);setTipOpeOrders['some'](_0x18528e=>_0x18528e==window_options[_0x367b6d][_0x21939d(0x13b)])&&_0x21b2d7[_0x21939d(0x25c)][_0x21939d(0x55b)](_0x49b2b6=>{const _0x52ab6a=_0x21939d,_0x544f25=products[_0x52ab6a(0x54e)](_0x9e50a8=>_0x9e50a8['id']==_0x49b2b6[_0x52ab6a(0x3ea)]);if(_0x544f25?.['setPrinters']?.[_0x52ab6a(0x301)]){const _0x36bf13=_0x544f25[_0x52ab6a(0xc4)][_0x52ab6a(0x41f)](_0x3a2188=>_0x2033df[_0x52ab6a(0x3b9)](_0x5bdaee=>_0x5bdaee['setPrinterId']==_0x3a2188[_0x52ab6a(0x21e)]));_0x36bf13[_0x52ab6a(0x55b)](_0x5276b9=>{const _0x17cf4a=_0x52ab6a;!_0x13c486[_0x17cf4a(0x3b9)](_0x5c479d=>_0x5c479d[_0x17cf4a(0x21e)]==_0x5276b9[_0x17cf4a(0x21e)])&&_0x13c486[_0x17cf4a(0x454)]({..._0x5276b9,'payloadComand':buildPayload(_0x367b6d,_0x5276b9[_0x17cf4a(0x21e)])});});}});let _0x59a3ea;if(setTipOpeOrders[_0x21939d(0x3b9)](_0x339c7e=>_0x339c7e==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpeSales[_0x21939d(0x3b9)](_0x1a378c=>_0x1a378c==window_options[_0x367b6d]['setTipoOperacion'])||setTipOpeQuotation[_0x21939d(0x3b9)](_0x4d498b=>_0x4d498b==window_options[_0x367b6d][_0x21939d(0x13b)])){let _0x1b5d66=await processCorrelativoInicial(window_options[_0x367b6d][_0x21939d(0x13b)],window_options[_0x367b6d]['setSerie']);_0x1b5d66=parseInt(_0x1b5d66,0xa)||0x0,_0x59a3ea=_0x1b5d66;}const _0x1cb3cd=window_options[_0x367b6d][_0x21939d(0xfa)]==0x2;!_0x1cb3cd&&(setTipOpeOrders[_0x21939d(0x3b9)](_0x47918d=>_0x47918d==window_options[_0x367b6d]['setTipoOperacion'])||setTipOpeSales['some'](_0x95f8dc=>_0x95f8dc==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpeQuotation[_0x21939d(0x3b9)](_0x2d01bb=>_0x2d01bb==window_options[_0x367b6d][_0x21939d(0x13b)]))&&(_0x59a3ea+=0x1);if(window_options[_0x367b6d]['setDespacho']==0x1&&(setTipOpeSales[_0x21939d(0x3b9)](_0x4cdc36=>_0x4cdc36==window_options[_0x367b6d]['setTipoOperacion'])||setTipOpePurchases[_0x21939d(0x3b9)](_0x1d8a23=>_0x1d8a23==window_options[_0x367b6d][_0x21939d(0x13b)]))){const _0x26dcf0=document[_0x21939d(0x442)](_0x21939d(0x1af))[_0x21939d(0x5dc)],_0x54a3d8=carts[_0x367b6d],_0x33b857=_0x1cb3cd?window_options[_0x367b6d][_0x21939d(0x56a)]:[];_0x54a3d8[_0x21939d(0x55b)](_0x492fb4=>{const _0x1cc6d3=_0x21939d;if(_0x492fb4['setInventariable']!=0x1)return;const _0xb322ed=products[_0x1cc6d3(0x54e)](_0x58b625=>_0x58b625['id']==_0x492fb4[_0x1cc6d3(0x3ea)]);if(!_0xb322ed){console[_0x1cc6d3(0x509)]('No\x20se\x20encontró\x20producto\x20con\x20id\x20'+_0x492fb4['setIdProducto']);return;}const _0x2e7e95=parseFloat(_0xb322ed[_0x1cc6d3(0x4c9)]),_0x5b563b=parseFloat(_0x492fb4['setCantidad']);let _0x213885=0x0;if(_0x1cb3cd){const _0x233f11=_0x33b857[_0x1cc6d3(0x54e)](_0x5f2535=>_0x5f2535[_0x1cc6d3(0x3ea)]==_0x492fb4['setIdProducto']),_0x2ae062=_0x233f11?parseFloat(_0x233f11[_0x1cc6d3(0x357)]):0x0;setTipOpeSales['some'](_0x1f0dc2=>_0x1f0dc2==window_options[_0x367b6d]['setTipoOperacion'])&&(_0x213885=_0x2ae062*_0x2e7e95-_0x5b563b*_0x2e7e95),setTipOpePurchases[_0x1cc6d3(0x3b9)](_0x2118e0=>_0x2118e0==window_options[_0x367b6d][_0x1cc6d3(0x13b)])&&(_0x213885=_0x2ae062*_0x2e7e95+_0x5b563b*_0x2e7e95);}else setTipOpeSales[_0x1cc6d3(0x3b9)](_0x52044c=>_0x52044c==window_options[_0x367b6d][_0x1cc6d3(0x13b)])&&(_0x213885=-(_0x5b563b*_0x2e7e95)),setTipOpePurchases[_0x1cc6d3(0x3b9)](_0x25215a=>_0x25215a==window_options[_0x367b6d][_0x1cc6d3(0x13b)])&&(_0x213885=_0x5b563b*_0x2e7e95);const _0x431b01=_0xb322ed['setIdProducto'],_0xfd6aa8=products[_0x1cc6d3(0x41f)](_0xf4d687=>_0xf4d687[_0x1cc6d3(0x3ea)]==_0x431b01);_0xfd6aa8[_0x1cc6d3(0x55b)](_0x350793=>{const _0x2455ac=_0x1cc6d3,_0x575165=_0x350793['sucursales']['find'](_0x3e0b04=>_0x3e0b04[_0x2455ac(0x174)]==_0x26dcf0);if(!_0x575165){console[_0x2455ac(0x509)](_0x2455ac(0x2c8)+_0x26dcf0+_0x2455ac(0x156)+_0x350793['id']);return;}const _0x35b314=parseFloat(_0x575165['setSucursalStock']),_0x276d86=_0x35b314+_0x213885;_0x575165[_0x2455ac(0x372)]=_0x276d86,console['log'](_0x2455ac(0x647)+_0x350793['id']+_0x2455ac(0x471)+_0x431b01+_0x2455ac(0x619)+_0x26dcf0+_0x2455ac(0x155)+_0x35b314+_0x2455ac(0x11d)+_0x276d86);});});}if(setTipOpeOrders['some'](_0x36adaa=>_0x36adaa==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpeSales[_0x21939d(0x3b9)](_0x2c1cb7=>_0x2c1cb7==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpeQuotation[_0x21939d(0x3b9)](_0x173057=>_0x173057==window_options[_0x367b6d][_0x21939d(0x13b)])){let _0x2d37a3;!_0x1cb3cd?_0x2d37a3=await processCorrelativoInicial(window_options[_0x367b6d][_0x21939d(0x13b)],window_options[_0x367b6d]['setSerie'],_0x59a3ea):_0x2d37a3=_0x59a3ea,window_options[_0x367b6d]['setCorrelativo']=parseInt(_0x2d37a3);}else window_options[_0x367b6d][_0x21939d(0x1d0)]='';window_options[_0x367b6d][_0x21939d(0x478)]=obtener_fechaHora(),window_options[_0x367b6d][_0x21939d(0x2f8)]=0x0,window_options[_0x367b6d][_0x21939d(0xd3)]='1',window_options[_0x367b6d][_0x21939d(0x307)]='1',window_options[_0x367b6d][_0x21939d(0x603)]=0x0,window_options[_0x367b6d][_0x21939d(0xfa)]='1',correlativeReadonly=0x0,window_options[_0x367b6d][_0x21939d(0x31f)]='',medio_pago=[];const _0x23c8dc=getValidatedWindowAndShift(_0x367b6d),{windowObj:_0x460b4a,currentWindowShift:_0x1bec9f}=_0x23c8dc;(!_0x1bec9f||!setTipOpeOrders[_0x21939d(0x3b9)](_0x32e6d5=>_0x32e6d5==window_options[_0x367b6d][_0x21939d(0x13b)]))&&(window_options[_0x367b6d]['setClienteNumDoc']='',window_options[_0x367b6d][_0x21939d(0x641)]='',window_options[_0x367b6d][_0x21939d(0x438)]='',window_options[_0x367b6d][_0x21939d(0x49d)]='',window_options[_0x367b6d][_0x21939d(0x632)]='');if(_0x1bec9f){_0x460b4a['setLastDateUpdate']=nowWithMillisecondsForServer();if(setTipOpeOrders['some'](_0x3ee80a=>_0x3ee80a==window_options[_0x367b6d][_0x21939d(0x13b)])||setTipOpeSales[_0x21939d(0x3b9)](_0x1a6d39=>_0x1a6d39==window_options[_0x367b6d][_0x21939d(0x13b)])){!_0x1bec9f['setOrders']&&(_0x1bec9f['setOrders']=[]);let _0x1e1f54=_0x21b2d7;delete _0x1e1f54['pdfBlob'],_0x1bec9f['setOrders'][_0x21939d(0x454)](_0x1e1f54),_0x460b4a[_0x21939d(0x263)]=_0x21939d(0x1e7),_0x1bec9f['setPreAccountDate']='';}if(setTipOpeSales[_0x21939d(0x3b9)](_0x25a80c=>_0x25a80c==window_options[_0x367b6d][_0x21939d(0x13b)])){const _0x3d69a3=carts[_0x367b6d]||[],_0x1755b1=_0x3d69a3[_0x21939d(0x3b9)](_0x5f0ebd=>_0x5f0ebd['setChecked']==0x0);if(!_0x1755b1){_0x460b4a[_0x21939d(0x263)]=_0x21939d(0x598);const _0x3e48b3=new Date();_0x1bec9f[_0x21939d(0x3af)]='0',_0x1bec9f['setShiftDateEnd']=_0x3e48b3;}}const _0x461dc0=await createCartStore('');await saveCompanyToIndexedDB(company,_0x461dc0);}for(let _0x5eb08b=products[_0x21939d(0x301)]-0x1;_0x5eb08b>=0x0;_0x5eb08b--){products[_0x5eb08b][_0x21939d(0x1eb)]==0x1&&products[_0x21939d(0x581)](_0x5eb08b,0x1);}await RefreshProductsToIndexedDB();try{await saveWindowOptionsDB(_0x367b6d);}catch(_0x4ba9d2){_0xfe558e[_0x21939d(0x41a)]=![],hideLoadingModal(),showModalPay(),console[_0x21939d(0x499)](_0x21939d(0x2de),_0x4ba9d2);return;}await removeAllFromCart(_0x367b6d),_0xfe558e['disabled']=![],hideLoadingModal(),showLeftSection();_0x13c486[_0x21939d(0x301)]>0x0&&processPrints(_0x13c486);const _0x2fe68f=getUserPermissionApiERP(0x3),_0x41516b=myCompany[_0x21939d(0x2c4)][_0x21939d(0x1a8)],_0x150dad=myCompany['setUsers']['find'](_0x38fd22=>_0x38fd22[_0x21939d(0x332)]==_0x41516b),_0x43bf4e=_0x150dad?.[_0x21939d(0x5c6)][_0x21939d(0x54e)](_0x5cf038=>_0x5cf038[_0x21939d(0x3fe)]==_0x11ba0f)?.[_0x21939d(0x21e)]||0x0;if(setTipOpeSales[_0x21939d(0x3b9)](_0x558766=>_0x558766==window_options[_0x367b6d][_0x21939d(0x13b)])&&_0x2fe68f==0x1&&_0x43bf4e!=0x0){const _0x17bee6=_0x2033df[_0x21939d(0x54e)](_0x5ab854=>_0x5ab854[_0x21939d(0x21e)]==_0x43bf4e);if(_0x17bee6){const {pdfGlobalPayload:_0x5bface,pdfGlobalBlob:_0x3b8895,pdfGlobalName:_0x431673}=getLastOperationGlobalData(_0x367b6d);setPrintOnline(_0x17bee6['setPrinterName'],_0x3b8895,_0x431673,0x0);}}selectedCategories=[],selectedMarcas=[],searchInput[_0x21939d(0x5dc)]='',renderProducts(''),initializeCategorys();const _0x330341=document[_0x21939d(0x442)](_0x21939d(0x213)),_0x5e859b=_0x21b2d7[_0x21939d(0x478)],_0x14a4c7=new Date(_0x5e859b),_0x480d2a=_0x14a4c7['getDate'](),_0x23f93a=monthsEspanish[_0x14a4c7[_0x21939d(0x172)]()],_0x25f5f9=_0x14a4c7['getFullYear'](),_0x52319f=_0x480d2a+_0x21939d(0x29f)+_0x23f93a+_0x21939d(0x1e8)+_0x25f5f9;_0x330341['value']=_0x21939d(0x3e4)+(_0x21b2d7[_0x21939d(0x641)]??'')+'!\x20\x0aReciba(n)\x20un\x20cordial\x20saludo\x20de\x20parte\x20de\x20'+myCompany['setCompanyNameTrade']+_0x21939d(0x1d7)+_0x21b2d7['setDocumentType']+':\x20'+_0x21b2d7['setSerie']+'-'+_0x21b2d7['setCorrelativo']+_0x21939d(0x51d)+_0x52319f+'.',await setOrders(_0x367b6d),apiERPsync();}catch(_0x551cc6){_0xfe558e[_0x21939d(0x41a)]=![],hideLoadingModal(),showModalPay(),console[_0x21939d(0x499)]('Error\x20Correlativo\x20Update',_0x551cc6);return;}}async function storeOfflineOperation(_0x39f0a1,_0xbe9f50=0x0){const _0x4db8b0=_0x36d314;try{const _0x3a86aa=await createCartStore('');if(_0xbe9f50==0x0){const {pdfBlob:_0x52bee1,pdfName:_0x2f2149}=await generatePdf(_0x39f0a1,'tk','pdfCanvas','1.5');_0x39f0a1[_0x4db8b0(0x344)]=_0x52bee1;const _0x3ebb4d=document[_0x4db8b0(0x442)](_0x4db8b0(0x61e))[_0x4db8b0(0x5dc)];setLastOperationGlobalData(_0x3ebb4d,{'pdfGlobalPayload':_0x39f0a1,'pdfGlobalBlob':_0x52bee1,'pdfGlobalName':_0x2f2149}),!setTipOpeOrders[_0x4db8b0(0x3b9)](_0x30a911=>_0x30a911==_0x39f0a1[_0x4db8b0(0x13b)])&&showModal();}const _0xa53820=_0x3a86aa[_0x4db8b0(0x336)](_0x4db8b0(0x50a),_0x4db8b0(0x1ee)),_0x1edecc=_0xa53820['objectStore'](_0x4db8b0(0x50a));_0x1edecc[_0x4db8b0(0xfb)](_0x39f0a1),_0xa53820[_0x4db8b0(0x28e)]=()=>{const _0x5b600b=_0x4db8b0;console[_0x5b600b(0x590)](_0x5b600b(0x5fc)),console[_0x5b600b(0x590)](_0x39f0a1);},_0xa53820['onerror']=_0x158cf1=>{const _0x518acc=_0x4db8b0;console['error'](_0x518acc(0x52e),_0x158cf1[_0x518acc(0x58d)][_0x518acc(0x499)]);};}catch(_0x35016b){console['error'](_0x4db8b0(0x1f0),_0x35016b);}}function getFormattedDate(_0x35a8ff){const _0xbe0591=_0x36d314,_0x3aa068=new Date(_0x35a8ff);return _0x3aa068[_0xbe0591(0x21c)]();}function getFormattedTime(_0x1dbf0d){const _0x37d36a=new Date(_0x1dbf0d);return _0x37d36a['toLocaleTimeString']();}function getCurrentDateTime(){const _0x363bd0=_0x36d314;return new Date()[_0x363bd0(0x16c)]();}function sanitizeData(_0x58250b,_0x47f5ad=_0x36d314(0x30e)){const _0x400591=_0x36d314,_0x435fc4=_0x441f40=>{const _0x161ef7=_0x55d4;if(_0x441f40==null||_0x441f40=='')return'';return _0x441f40[_0x161ef7(0x1f1)](/[\xC0-\xFF]/g,_0x405bba=>{const _0x1bcd06={'Á':'A','É':'E','Í':'I','Ó':'O','Ú':'U','á':'a','é':'e','í':'i','ó':'o','ú':'u','Ñ':'N','ñ':'n'};return _0x1bcd06[_0x405bba]||_0x405bba;});},_0x517cbb=_0x456847=>{return parseFloat(_0x456847)||0x0;},_0x28a0b6=_0x209686=>{return _0x209686['map'](_0xf733f5=>{const _0x3fc4b7=_0x55d4;if(typeof _0xf733f5==_0x3fc4b7(0x8f)&&_0xf733f5!==null)return sanitizeData(_0xf733f5,_0x47f5ad);return sanitizeData(_0xf733f5,_0x47f5ad);});};if(typeof _0x58250b==_0x400591(0x8f)&&_0x58250b!==null){const _0x2deeda={};for(const _0x512bf8 in _0x58250b){_0x58250b['hasOwnProperty'](_0x512bf8)&&(_0x2deeda[_0x512bf8]=sanitizeData(_0x58250b[_0x512bf8],_0x47f5ad));}return _0x2deeda;}if(Array[_0x400591(0x42a)](_0x58250b))return _0x28a0b6(_0x58250b);if(_0x47f5ad=='number'||_0x47f5ad==_0x400591(0x484))return _0x517cbb(_0x58250b);return _0x435fc4(_0x58250b);}function getCurrentDate(){const _0xa285b6=_0x36d314,_0x4a2962=new Date();return _0x4a2962[_0xa285b6(0x16c)]();}function numeroALetras(_0x6a784a){const _0x236ec0=_0x36d314,_0x405469=['',_0x236ec0(0x231),_0x236ec0(0x117),'TRES',_0x236ec0(0x290),_0x236ec0(0x609),_0x236ec0(0x4f4),'SIETE',_0x236ec0(0x34f),'NUEVE'],_0xfef6a7=['',_0x236ec0(0x3e1),_0x236ec0(0xe6),'TREINTA',_0x236ec0(0x490),_0x236ec0(0x427),_0x236ec0(0x4c1),_0x236ec0(0x396),_0x236ec0(0x657),_0x236ec0(0x420)],_0x5ba95e=['','CIENTO','DOSCIENTOS',_0x236ec0(0x3bb),_0x236ec0(0x4f5),_0x236ec0(0x3f2),_0x236ec0(0x631),_0x236ec0(0x1a5),_0x236ec0(0x17a),'NOVECIENTOS'];function _0x87b6dc(_0x5c5ce5){const _0x4c7881=_0x236ec0;if(_0x5c5ce5==0x0)return _0x4c7881(0x352);if(_0x5c5ce5==0x64)return _0x4c7881(0x2d4);if(_0x5c5ce5>=0x1&&_0x5c5ce5<=0x9)return _0x405469[_0x5c5ce5];if(_0x5c5ce5>=0xa&&_0x5c5ce5<=0x13){const _0x24f417=['DIEZ','ONCE',_0x4c7881(0x15b),_0x4c7881(0x3e2),'CATORCE',_0x4c7881(0x48f),_0x4c7881(0x409),'DIECISIETE',_0x4c7881(0x4b9),'DIECINUEVE'];return _0x24f417[_0x5c5ce5-0xa];}if(_0x5c5ce5>=0x14&&_0x5c5ce5<=0x1d){const _0x98d2f4=_0x5c5ce5%0xa;return'VEINTI'+(_0x98d2f4>0x0?_0x405469[_0x98d2f4]:'');}if(_0x5c5ce5>=0x1e&&_0x5c5ce5<=0x63){const _0x4b3aca=Math[_0x4c7881(0x124)](_0x5c5ce5/0xa),_0x2e7137=_0x5c5ce5%0xa;return''+_0xfef6a7[_0x4b3aca]+(_0x2e7137>0x0?_0x4c7881(0x517)+_0x405469[_0x2e7137]:'');}if(_0x5c5ce5>=0x64&&_0x5c5ce5<=0x3e7){const _0x1e1aa5=Math[_0x4c7881(0x124)](_0x5c5ce5/0x64),_0x3334f9=_0x5c5ce5%0x64;return''+_0x5ba95e[_0x1e1aa5]+(_0x3334f9>0x0?'\x20'+_0x87b6dc(_0x3334f9):'');}if(_0x5c5ce5>=0x3e8&&_0x5c5ce5<=0xf423f){const _0x2cddb9=Math['floor'](_0x5c5ce5/0x3e8),_0x417bcf=_0x5c5ce5%0x3e8;return''+(_0x2cddb9>0x1?_0x87b6dc(_0x2cddb9)+'\x20MIL':_0x4c7881(0x353))+(_0x417bcf>0x0?'\x20'+_0x87b6dc(_0x417bcf):'');}if(_0x5c5ce5>=0xf4240&&_0x5c5ce5<=0x3b9ac9ff){const _0x1efb6c=Math['floor'](_0x5c5ce5/0xf4240),_0x2e2bb1=_0x5c5ce5%0xf4240;return''+(_0x1efb6c>0x1?_0x87b6dc(_0x1efb6c)+_0x4c7881(0xe4):_0x4c7881(0x5dd))+(_0x2e2bb1>0x0?'\x20'+_0x87b6dc(_0x2e2bb1):'');}return'';}function _0x5e2d6d(_0x9b4738){const _0x4b7a7f=_0x236ec0;return _0x9b4738>0x0?_0x9b4738+_0x4b7a7f(0x2fd):_0x4b7a7f(0xf9);}const [_0x5cff01,_0x5d3fc4]=_0x6a784a[_0x236ec0(0x35c)](0x2)[_0x236ec0(0x62d)]('.')[_0x236ec0(0x4a8)](Number),_0x461813=_0x87b6dc(_0x5cff01),_0x57fb6d=_0x5e2d6d(_0x5d3fc4);return _0x236ec0(0xb2)+_0x461813+_0x236ec0(0x4d5)+_0x57fb6d;}function formatShiftDate(_0x4765ba){const _0x88342=_0x36d314,_0x558e0b=new Date(_0x4765ba);if(isNaN(_0x558e0b))return'';const _0x249659=new Date(),_0x520d89=_0x249659-_0x558e0b,_0x130876=Math[_0x88342(0x124)](_0x520d89/0x3e8),_0xe1217b=Math['floor'](_0x520d89/0xea60),_0x24693e=Math[_0x88342(0x124)](_0x520d89/0x36ee80),_0x1607d9=Math[_0x88342(0x124)](_0x520d89/0x5265c00);if(_0x130876<0x3c)return _0x130876+_0x88342(0x58a);else{if(_0xe1217b<0x3c)return _0xe1217b+_0x88342(0x130);else{if(_0x24693e<0x18){const _0x6c3837=Math['floor'](_0x520d89%0x36ee80/0xea60);return _0x24693e+'h\x20'+_0x6c3837+'min';}else{const _0x1427ad=Math[_0x88342(0x124)](_0x520d89%0x5265c00/0x36ee80);return _0x1607d9+'d\x20'+_0x1427ad+'h';}}}}function generateUUID(){return'xxxxxxxxyxxxxxxx'['replace'](/[xy]/g,function(_0x43e49a){const _0x437cca=Math['random']()*0x10|0x0,_0x1c6fa0=_0x43e49a==='x'?_0x437cca:_0x437cca&0x3|0x8;return _0x1c6fa0['toString'](0x10);});}async function generatePdf(_0x55f0d3,_0x4eddb2='tk',_0x226c2a=_0x36d314(0x3cd),_0x26a2e8='1.5',_0x5f0e51=0x0){const _0x4fcbb1=_0x36d314,{PDFDocument:_0x21bc9a,rgb:_0x293075}=PDFLib;try{const _0x19c798=await _0x21bc9a['create'](),_0x32ac5a=window[_0x4fcbb1(0x4be)];_0x19c798[_0x4fcbb1(0x527)](_0x32ac5a);const [_0x300006,_0x3bfc53]=await Promise[_0x4fcbb1(0x369)]([cargarFuente(_0x4fcbb1(0x38b),_0x19c798),cargarFuente(_0x4fcbb1(0x60b),_0x19c798)]);let _0x2b92aa,_0x473e41;if(_0x4eddb2=='tk')_0x2b92aa=0xc8,_0x473e41=0xbb8;else _0x4eddb2=='a4'&&(_0x2b92aa=0x24e,_0x473e41=0x7d0);const _0x20037c=await procesarContenido(_0x19c798,_0x300006,_0x3bfc53,_0x55f0d3,_0x2b92aa,_0x473e41,_0x4eddb2,_0x293075,_0x5f0e51);let _0x168cd7=_0x473e41-_0x20037c;_0x4eddb2=='tk'&&(_0x19c798[_0x4fcbb1(0x148)](0x0),await procesarContenido(_0x19c798,_0x300006,_0x3bfc53,_0x55f0d3,_0x2b92aa,_0x168cd7,_0x4eddb2,_0x293075,_0x5f0e51));_0x4eddb2=='a4'&&(_0x168cd7<0x34a&&(_0x168cd7=0x34a),_0x19c798[_0x4fcbb1(0x148)](0x0),await procesarContenido(_0x19c798,_0x300006,_0x3bfc53,_0x55f0d3,_0x2b92aa,_0x168cd7,_0x4eddb2,_0x293075,_0x5f0e51));const _0x24e8d2=await _0x19c798[_0x4fcbb1(0x39d)](),_0x2a3d8d=new Blob([_0x24e8d2],{'type':_0x4fcbb1(0x24e)}),_0x52c8af=parseInt(_0x55f0d3['setTipoOperacion']),_0x33611e=myCompany[_0x4fcbb1(0x3bd)]+'-'+String(_0x4eddb2)['toUpperCase']()+'-'+_0x52c8af+'-'+_0x55f0d3[_0x4fcbb1(0x24a)]+'-'+_0x55f0d3[_0x4fcbb1(0x1d0)]+_0x4fcbb1(0x617),_0x1185ff=URL[_0x4fcbb1(0x548)](_0x2a3d8d),_0x11ed0b=document[_0x4fcbb1(0x442)](_0x226c2a),_0x33a124=_0x11ed0b[_0x4fcbb1(0x1cd)]('2d'),_0x5b4eb8=await pdfjsLib[_0x4fcbb1(0x64e)](_0x1185ff)['promise'],_0x42fade=await _0x5b4eb8[_0x4fcbb1(0x1de)](0x1),_0x82e9d=_0x42fade[_0x4fcbb1(0x59c)]({'scale':parseFloat(_0x26a2e8)});return _0x11ed0b['width']=_0x82e9d['width'],_0x11ed0b[_0x4fcbb1(0x575)]=_0x82e9d[_0x4fcbb1(0x575)],_0x33a124[_0x4fcbb1(0x211)](0x0,0x0,_0x11ed0b['width'],_0x11ed0b[_0x4fcbb1(0x575)]),await _0x42fade[_0x4fcbb1(0x50b)]({'canvasContext':_0x33a124,'viewport':_0x82e9d})['promise'],URL[_0x4fcbb1(0x5bd)](_0x1185ff),{'pdfBlob':_0x2a3d8d,'pdfName':_0x33611e};}catch(_0x23bef0){ntfShow(_0x23bef0,0x2,0x1);throw _0x23bef0;}}async function cargarFuente(_0x132916,_0xe2665d){const _0x1c67c1=_0x36d314,_0x438067=await fetch(_0x132916)[_0x1c67c1(0x667)](_0x177b70=>_0x177b70[_0x1c67c1(0xe1)]());return _0xe2665d[_0x1c67c1(0x61b)](_0x438067);}async function procesarContenido(_0x2c700d,_0x4f50ee,_0x113e3d,_0x2ac143,_0x51ba0f,_0x5cff23,_0x1be982='tk',_0x4cfd3d,_0x5c5d04=0x0){const _0x47ffe9=_0x36d314,_0x3952e0=_0x2c700d[_0x47ffe9(0x272)]([_0x51ba0f,_0x5cff23]),{width:_0x3728d6,height:_0x43a57b}=_0x3952e0['getSize'](),_0x473a43=0xc,_0x2a3117=0x4,_0x222374=0xa;let _0x4f9100=_0x43a57b-_0x222374,{setLogoUrl:setLogoUrl=myCompany['setCompanyLogo'],setEmpresaRuc:setEmpresaRuc=myCompany[_0x47ffe9(0x3bd)],setEmpresaNombre:setEmpresaNombre=myCompany[_0x47ffe9(0x1ae)],setEmpresaTelefono:setEmpresaTelefono=myCompany[_0x47ffe9(0x646)],setEmpresaEmail:setEmpresaEmail=myCompany['setCompanyEmail'],setEmpresaSitioWeb:setEmpresaSitioWeb=myCompany[_0x47ffe9(0x314)],setTipoOperacion:setTipoOperacion='',setTipoOperacionInvoice:setTipoOperacionInvoice='',setSerie:setSerie='',setCorrelativo:setCorrelativo=String(setCorrelativo),setFechaHora:setFechaHora=getCurrentDateTime(),setClienteDenominacion:setClienteDenominacion='',setClienteTipoDoc:setClienteTipoDoc='',setClienteNumDoc:setClienteNumDoc='',setClienteDireccion:setClienteDireccion='',setMoneda:setMoneda='',setObservacion:setObservacion='',setUrlConsultasCpe:setUrlConsultasCpe=_0x47ffe9(0x5e7),setDespacho:setDespacho='',setFooter:setFooter='Muchas\x20gracias\x20por\x20su\x20compra',setProductos:setProductos=[],..._0xbf6177}=_0x2ac143;_0x2ac143=sanitizeData(_0x2ac143,_0x47ffe9(0x53a));const _0x13292e=_0xbf6177[_0x47ffe9(0x658)],_0x3c6d22=_0xbf6177[_0x47ffe9(0x49d)],_0x4805b9=_0xbf6177[_0x47ffe9(0x632)],_0x50f574=_0xbf6177['setWindowName'],_0x287ecc=_0xbf6177[_0x47ffe9(0x621)];let _0x29a3ad,_0x51f06d;if(_0x287ecc==_0x47ffe9(0x44a))_0x29a3ad='Ventana',_0x51f06d=_0x47ffe9(0x1c7);else{if(_0x287ecc=='table')_0x29a3ad=_0x47ffe9(0x489),_0x51f06d='Mozo';else{if(_0x287ecc==_0x47ffe9(0x3cc))_0x29a3ad=_0x47ffe9(0x43f),_0x51f06d=_0x47ffe9(0xa9);else _0x287ecc==_0x47ffe9(0xdf)&&(_0x29a3ad=_0x47ffe9(0x257),_0x51f06d=_0x47ffe9(0x103));}}const _0x12dc56=_0xbf6177[_0x47ffe9(0x1e4)],_0x2719a6=_0xbf6177[_0x47ffe9(0x97)],_0x163f09=_0xbf6177['setCurrencySymbol'],_0x3d99c3=_0xbf6177[_0x47ffe9(0x4c4)],_0x4e8e48=(parseFloat(_0xbf6177[_0x47ffe9(0x603)])||0x0)['toFixed'](0x2),_0x4247e8=(parseFloat(_0xbf6177['setMtoDescItems_precio'])||0x0)[_0x47ffe9(0x35c)](0x2),_0x80a785=(parseFloat(_0xbf6177[_0x47ffe9(0xac)])||0x0)['toFixed'](0x2),_0x284d2c=(parseFloat(_0xbf6177['setMtoOperExoneradas'])||0x0)[_0x47ffe9(0x35c)](0x2),_0x49ae54=(parseFloat(_0xbf6177['setMtoOperInafectas'])||0x0)[_0x47ffe9(0x35c)](0x2),_0x717811=(parseFloat(_0xbf6177[_0x47ffe9(0x2d0)])||0x0)[_0x47ffe9(0x35c)](0x2),_0x216ff6=(parseFloat(_0xbf6177[_0x47ffe9(0x636)])||0x0)['toFixed'](0x2),_0x277ac9=(parseFloat(_0xbf6177[_0x47ffe9(0x430)])||0x0)[_0x47ffe9(0x35c)](0x2),_0x41f936=(parseFloat(_0xbf6177[_0x47ffe9(0xea)])||0x0)[_0x47ffe9(0x35c)](0x2),_0x48b3e6=(parseFloat(_0xbf6177[_0x47ffe9(0x5f7)])||0x0)[_0x47ffe9(0x35c)](0x2),_0x2c881e=parseFloat(_0xbf6177[_0x47ffe9(0x5b6)])||0x0;let _0x429395,_0x5eae8c,_0x44324d,_0x9aec04;_0x2c881e==0x1&&(_0x429395=_0xbf6177[_0x47ffe9(0x1d3)]||'',_0x5eae8c=_0xbf6177['setDetraccionCodigoName']||'',_0x44324d=_0xbf6177[_0x47ffe9(0x514)]||'0.00',_0x9aec04=_0xbf6177[_0x47ffe9(0x1c4)]||_0x47ffe9(0x4a6));const _0x5cfe83=parseFloat(_0xbf6177['setRetencion'])||0x0;let _0x14c04d,_0x3c03f5;_0x5cfe83==0x1&&(_0x14c04d=_0xbf6177[_0x47ffe9(0x65e)]||_0x47ffe9(0x4a6),_0x3c03f5=_0xbf6177['setRetencionTotal']||'0.00');const _0x5242ba=parseFloat(_0xbf6177[_0x47ffe9(0x2bb)])||0x0;let _0x4f1ffb,_0x9ad991;_0x5242ba==0x1&&(_0x4f1ffb=_0xbf6177[_0x47ffe9(0x183)]||_0x47ffe9(0x4a6),_0x9ad991=_0xbf6177[_0x47ffe9(0x4bf)]||'0.00');const _0x587b10=getFormattedDate(setFechaHora),_0x31de96=getFormattedTime(setFechaHora),_0x48ce9c=myCompany['setDocTypeName'],_0xebb3e6=parseInt(_0xbf6177[_0x47ffe9(0x40f)])||0x0,{contado:_0x2c6d77,credito:_0x1f6607,mixto:_0x124c71}=_0xbf6177[_0x47ffe9(0x164)]||{},_0x1bd070=numeroALetras(parseFloat(_0x48b3e6))+'\x20'+_0x3d99c3[_0x47ffe9(0x4a0)](),_0x4eaf20=_0x47ffe9(0x550),_0x45700e=_0xbf6177[_0x47ffe9(0x16f)],_0x26517c=_0xbf6177['setCashierName'],_0x2e9d19=_0x47ffe9(0x5ea),_0x56bb37=_0xbf6177[_0x47ffe9(0x2db)],_0x1afa24=_0xbf6177['setSellerName'],_0x31a885=_0x47ffe9(0x2cf);let _0x4f63fc,_0x8f772a;if(setTipOpeOrders[_0x47ffe9(0x3b9)](_0x3b4678=>_0x3b4678==setTipoOperacion)||setTipOpeQuotation[_0x47ffe9(0x3b9)](_0x322b23=>_0x322b23==setTipoOperacion)||setTipOpeSales[_0x47ffe9(0x3b9)](_0xe5eaaa=>_0xe5eaaa==setTipoOperacion))_0x4f63fc=_0x47ffe9(0x579),_0x8f772a=0x2;else setTipOpePurchases[_0x47ffe9(0x3b9)](_0x5bb91d=>_0x5bb91d==setTipoOperacion)&&(_0x4f63fc=_0x47ffe9(0x651),_0x8f772a=0x1);const _0x16c66e=_0x47ffe9(0x2bd),_0x4acdfe='',_0x487f34=_0x47ffe9(0x143),_0x46a878='',_0x3841dd=_0x47ffe9(0x1df),_0x595eae='',_0x3c004c=_0x47ffe9(0x416),_0x27fa18='';let _0x4fd000='',_0x1ee90e=[];_0x4acdfe!=''&&(_0x4fd000='DATOS\x20DE\x20DISTRIBUCIÓN',_0x1ee90e=[_0x16c66e+':\x20'+_0x4acdfe,_0x487f34+':\x20'+_0x46a878,_0x3841dd+':\x20'+_0x595eae,_0x3c004c+':\x20'+_0x27fa18]);const _0x1d870c=getUserPermissionApiERP(0x7),_0x408800=getUserPermissionApiERP(0x8),_0x456956=getUserPermissionApiERP(0x13),_0x10dfed=getUserPermissionApiERP(0x14),_0x8ce21d=_0x4cfd3d(0x1,0.35,0x0),_0x3bea05=_0x4cfd3d(0x1,0x1,0x1),_0x156345=_0x4cfd3d(0x0,0x0,0x0),_0x3c9026=_0x4cfd3d(0xf7/0xff,0xf7/0xff,0xf7/0xff),_0xeb7e4b=_0x4cfd3d(0xb4/0xff,0xb4/0xff,0xb4/0xff);_0x4f9100-=_0x473a43;if(_0x1be982=='tk'){const _0x5a982b=(_0x43d399,_0x23c606,_0x1a4cd7,_0x358f17=0.5,_0x3a13b2=[0x1,0x3])=>{let _0x3c81dd=_0x43d399,_0x19ae30=_0x3a13b2[0x0],_0x158281=_0x3a13b2[0x1];while(_0x3c81dd<_0x23c606){_0x3952e0['drawLine']({'start':{'x':_0x3c81dd,'y':_0x1a4cd7},'end':{'x':_0x3c81dd+_0x19ae30,'y':_0x1a4cd7},'thickness':_0x358f17}),_0x3c81dd+=_0x19ae30+_0x158281;}};function _0x3988ba(_0x14c6f3,_0x3ac900,_0x433636,_0x449750,_0x4a7193=_0x47ffe9(0x2c2)){const _0x44cef2=_0x47ffe9,_0x21ddbc=_0x3728d6-_0x222374*0x2,_0x42d73c=_0x449750+0x2,_0x4d1375=[],_0xc6fde4=_0xd9a487=>_0x433636['widthOfTextAtSize'](_0xd9a487,_0x449750);if(_0x14c6f3['indexOf']('\x20')==-0x1&&_0xc6fde4(_0x14c6f3)>_0x21ddbc){let _0x447f91=0x0,_0x5bc1e4='';for(let _0x50628c=0x0;_0x50628c<_0x14c6f3[_0x44cef2(0x301)];_0x50628c++){_0x5bc1e4+=_0x14c6f3[_0x50628c];if(_0xc6fde4(_0x5bc1e4)>_0x21ddbc){const _0x571584=_0x5bc1e4['slice'](0x0,-0x1);_0x4d1375['push'](_0x571584),_0x5bc1e4=_0x14c6f3[_0x50628c];}}if(_0x5bc1e4)_0x4d1375[_0x44cef2(0x454)](_0x5bc1e4);}else{const _0x3e6f56=_0x14c6f3[_0x44cef2(0x62d)]('\x20');let _0xbfe1c5='';for(let _0x599dc3=0x0;_0x599dc3<_0x3e6f56[_0x44cef2(0x301)];_0x599dc3++){const _0x9098cf=_0xbfe1c5+(_0xbfe1c5?'\x20':'')+_0x3e6f56[_0x599dc3];_0xc6fde4(_0x9098cf)>_0x21ddbc&&_0xbfe1c5?(_0x4d1375[_0x44cef2(0x454)](_0xbfe1c5),_0xbfe1c5=_0x3e6f56[_0x599dc3]):_0xbfe1c5=_0x9098cf;}if(_0xbfe1c5)_0x4d1375[_0x44cef2(0x454)](_0xbfe1c5);}return _0x4d1375['forEach'](_0x57bbec=>{const _0x22786c=_0x44cef2,_0xba939e=_0xc6fde4(_0x57bbec);let _0x33a97a=_0x222374;if(_0x4a7193==_0x22786c(0x4f8))_0x33a97a=_0x222374+(_0x21ddbc-_0xba939e)/0x2;else _0x4a7193==_0x22786c(0x5cc)&&(_0x33a97a=_0x222374+(_0x21ddbc-_0xba939e));_0x3952e0[_0x22786c(0x401)](_0x57bbec,{'x':_0x33a97a,'y':_0x3ac900,'size':_0x449750,'font':_0x433636}),_0x3ac900-=_0x42d73c;}),_0x3ac900;}const _0xa1d913=(_0x22c0c2,_0x10eb28,_0x239efc,_0x53b898,_0x5cbb41,_0x53bb7f)=>{const _0x5bc8d3=_0x47ffe9,_0x99a4eb=(_0x51ba0f-_0x222374*0x2)*0.3,_0x389ca5=(_0x51ba0f-_0x222374*0x2)*0.1;_0x3952e0[_0x5bc8d3(0x401)](String(_0x22c0c2),{'x':_0x222374,'y':_0x239efc,'size':_0x5cbb41,'font':_0x53b898}),_0x3952e0[_0x5bc8d3(0x401)](':',{'x':_0x222374+_0x99a4eb,'y':_0x239efc,'size':_0x5cbb41,'font':_0x53b898});let _0x54a757=_0x4f50ee[_0x5bc8d3(0x3c0)](_0x10eb28,_0x5cbb41),_0x31a0ee=0x1;if(_0x54a757>_0x53bb7f){let _0x26d817=_0x10eb28['split']('\x20'),_0x6e1309='',_0x4ad8ab=_0x239efc;_0x26d817[_0x5bc8d3(0x55b)](_0x3026b6=>{const _0x29124d=_0x5bc8d3;_0x4f50ee[_0x29124d(0x3c0)](_0x6e1309+'\x20'+_0x3026b6,_0x5cbb41)>_0x53bb7f?(_0x3952e0[_0x29124d(0x401)](_0x6e1309,{'x':_0x222374+_0x99a4eb+_0x389ca5,'y':_0x4ad8ab,'size':_0x5cbb41,'font':_0x53b898}),_0x4ad8ab-=_0x473a43,_0x31a0ee++,_0x6e1309=_0x3026b6):_0x6e1309+=(_0x6e1309?'\x20':'')+_0x3026b6;}),_0x3952e0[_0x5bc8d3(0x401)](_0x6e1309,{'x':_0x222374+_0x99a4eb+_0x389ca5,'y':_0x4ad8ab,'size':_0x5cbb41,'font':_0x53b898});}else _0x3952e0[_0x5bc8d3(0x401)](String(_0x10eb28),{'x':_0x222374+_0x99a4eb+_0x389ca5,'y':_0x239efc,'size':_0x5cbb41,'font':_0x53b898});return _0x239efc-_0x473a43*_0x31a0ee;},_0x24fc9d=(_0x2d9f05,_0x2a81b9,_0x2548e3,_0x3e7658,_0x2261c1,_0x39bd6a,_0x29427c,_0x21b5e1,_0x3de8e1=![])=>{const _0x14659f=_0x47ffe9;_0x2d9f05=_0x2d9f05[_0x14659f(0x4a8)](_0x446230=>String(_0x446230)),_0x2a81b9=_0x2a81b9[_0x14659f(0x4a8)](_0x4e3a67=>String(_0x4e3a67));const _0x3b8854=(_0x39bd6a-_0x29427c*0x2)*0.4,_0x179295=(_0x39bd6a-_0x29427c*0x2)*0.2,_0x245526=(_0x39bd6a-_0x29427c*0x2)*0.2,_0x10bfa3=(_0x39bd6a-_0x29427c*0x2)*0.2,_0x4f2834=(_0x48bb65,_0x42d402,_0x4d51e3,_0x5ec7ef,_0x23e949,_0x225615)=>{const _0x19ca93=_0x14659f;let _0x1971b4=_0x23e949[_0x19ca93(0x3c0)](_0x48bb65,_0x225615),_0x3e5fe3=0x1;if(_0x1971b4>_0x5ec7ef){let _0x5bda5b=_0x48bb65['split']('\x20'),_0x40c727='',_0x3ed307=_0x4d51e3;_0x5bda5b['forEach'](_0x516126=>{const _0x5ea75a=_0x19ca93;_0x23e949['widthOfTextAtSize'](_0x40c727+'\x20'+_0x516126,_0x225615)>_0x5ec7ef?(_0x3952e0[_0x5ea75a(0x401)](_0x40c727,{'x':_0x42d402,'y':_0x3ed307,'size':_0x225615,'font':_0x23e949}),_0x3ed307-=_0x21b5e1,_0x3e5fe3++,_0x40c727=_0x516126):_0x40c727+=(_0x40c727?'\x20':'')+_0x516126;}),_0x3952e0[_0x19ca93(0x401)](_0x40c727,{'x':_0x42d402,'y':_0x3ed307,'size':_0x225615,'font':_0x23e949});}else _0x3952e0[_0x19ca93(0x401)](_0x48bb65,{'x':_0x42d402,'y':_0x4d51e3,'size':_0x225615,'font':_0x23e949});return _0x4d51e3-_0x21b5e1*_0x3e5fe3;};if(_0x3de8e1){_0x3952e0[_0x14659f(0x401)](String(_0x2d9f05[0x0]),{'x':_0x29427c,'y':_0x2548e3,'size':_0x2261c1,'font':_0x3e7658});const _0x1b1541=_0x29427c+_0x3b8854+(_0x179295-_0x3e7658[_0x14659f(0x3c0)](String(_0x2d9f05[0x1]),_0x2261c1))/0x2,_0x2b092a=_0x29427c+_0x3b8854+_0x179295+(_0x245526-_0x3e7658[_0x14659f(0x3c0)](String(_0x2d9f05[0x2]),_0x2261c1))/0x2,_0x38a71b=_0x29427c+_0x3b8854+_0x179295+_0x245526+(_0x10bfa3-_0x3e7658['widthOfTextAtSize'](String(_0x2d9f05[0x3]),_0x2261c1));return _0x3952e0[_0x14659f(0x401)](String(_0x2d9f05[0x1]),{'x':_0x1b1541,'y':_0x2548e3,'size':_0x2261c1,'font':_0x3e7658}),_0x3952e0[_0x14659f(0x401)](String(_0x2d9f05[0x2]),{'x':_0x2b092a,'y':_0x2548e3,'size':_0x2261c1,'font':_0x3e7658}),_0x3952e0[_0x14659f(0x401)](String(_0x2d9f05[0x3]),{'x':_0x38a71b,'y':_0x2548e3,'size':_0x2261c1,'font':_0x3e7658}),_0x2548e3-_0x21b5e1;}else{let _0x232265=_0x2548e3;_0x232265=_0x4f2834(_0x2a81b9[0x0],_0x29427c,_0x232265,_0x3b8854,_0x3e7658,_0x2261c1);const _0x160de4=_0x2548e3-_0x232265+_0x21b5e1,_0x174e41=_0x232265+(_0x160de4-_0x21b5e1)/0x2,_0x473255=_0x160de4==_0x21b5e1,_0x3c0a0c=_0x473255?_0x174e41:_0x174e41+_0x21b5e1/0x2,_0x5f3dbe=_0x29427c+_0x3b8854+(_0x179295-_0x3e7658[_0x14659f(0x3c0)](_0x2a81b9[0x1],_0x2261c1))/0x2,_0x52f8ab=_0x29427c+_0x3b8854+_0x179295+(_0x245526-_0x3e7658[_0x14659f(0x3c0)](_0x2a81b9[0x2],_0x2261c1))/0x2,_0x51179b=_0x29427c+_0x3b8854+_0x179295+_0x245526+(_0x10bfa3-_0x3e7658['widthOfTextAtSize'](_0x2a81b9[0x3],_0x2261c1));return _0x3952e0[_0x14659f(0x401)](String(_0x2a81b9[0x1]),{'x':_0x5f3dbe,'y':_0x3c0a0c,'size':_0x2261c1,'font':_0x3e7658}),_0x3952e0[_0x14659f(0x401)](String(_0x2a81b9[0x2]),{'x':_0x52f8ab,'y':_0x3c0a0c,'size':_0x2261c1,'font':_0x3e7658}),_0x3952e0[_0x14659f(0x401)](String(_0x2a81b9[0x3]),{'x':_0x51179b,'y':_0x3c0a0c,'size':_0x2261c1,'font':_0x3e7658}),_0x232265-_0x21b5e1;}},_0x654796=(_0x5a413e,_0x46433e,_0x5edce8,_0xb087a,_0x210ca3)=>{const _0x24f7ca=_0x47ffe9;_0x3952e0['drawText'](String(_0x5a413e),{'x':_0x222374,'y':_0x5edce8,'size':_0x210ca3,'font':_0xb087a});const _0x441492=_0x51ba0f-_0x222374-_0x4f50ee[_0x24f7ca(0x3c0)](_0x46433e,_0x210ca3);return _0x3952e0[_0x24f7ca(0x401)](String(_0x46433e),{'x':_0x441492,'y':_0x5edce8,'size':_0x210ca3,'font':_0xb087a}),_0x5edce8-_0x473a43;};function _0x54d9c8(_0x150ad5,_0x4f20f9,_0x45e3e1,_0x50a4a5,_0x5e85d7,_0x136949,_0x23ee9e,_0x106c2f){const _0x13790d=_0x47ffe9,_0x423330=_0x23ee9e-0x2*_0x106c2f,_0x4ea7fa=_0x423330*0.4,_0x18cbd5=_0x423330*0.6,_0x5f5389=_0x136949*1.2,_0xd73ef5=_0x5e85d7===_0x113e3d&&_0x136949===0xb;function _0x1eea46(_0x140ee4,_0x4e3cab,_0x2782fc,_0x4b2114){const _0x2bd6b3=_0x55d4,_0x2aea4d=_0x140ee4[_0x2bd6b3(0x62d)]('\x20');let _0x366bdc=[],_0x34bf9f='';_0x2aea4d[_0x2bd6b3(0x55b)](_0x515e47=>{const _0x18f0c5=_0x2bd6b3,_0x1b2f96=_0x34bf9f?_0x34bf9f+'\x20'+_0x515e47:_0x515e47;if(_0x2782fc[_0x18f0c5(0x3c0)](_0x1b2f96,_0x4b2114)<=_0x4e3cab)_0x34bf9f=_0x1b2f96;else{if(_0x34bf9f)_0x366bdc[_0x18f0c5(0x454)](_0x34bf9f);_0x34bf9f=_0x515e47;}});if(_0x34bf9f)_0x366bdc[_0x2bd6b3(0x454)](_0x34bf9f);return _0x366bdc;}let _0x358ff8=[];if(_0xd73ef5){const _0xea4a57=_0x4f20f9[_0x13790d(0x518)](/^(.*?)\s*(\([^)]*\))$/);_0xea4a57?_0x358ff8=[{'quantity':_0xea4a57[0x1][_0x13790d(0x13a)](),'unit':_0xea4a57[0x2][_0x13790d(0x13a)]()}]:_0x358ff8=_0x1eea46(_0x4f20f9,_0x4ea7fa,_0x5e85d7,_0x136949);}else _0x358ff8=_0x1eea46(_0x4f20f9,_0x4ea7fa,_0x5e85d7,_0x136949);const _0x5863a7=_0x1eea46(_0x45e3e1,_0x18cbd5,_0x5e85d7,_0x136949),_0x18a9a=Math[_0x13790d(0x1dd)](_0x358ff8[_0x13790d(0x301)],_0x5863a7[_0x13790d(0x301)]),_0x31e1eb=_0x358ff8[_0x13790d(0x301)]*_0x5f5389,_0x32e6d7=_0x5863a7[_0x13790d(0x301)]*_0x5f5389,_0x50dcdc=(_0x18a9a*_0x5f5389-_0x31e1eb)/0x2,_0x873595=(_0x18a9a*_0x5f5389-_0x32e6d7)/0x2;return _0x358ff8[_0x13790d(0x55b)]((_0x407852,_0x29241f)=>{const _0x23b57e=_0x13790d,_0x3c168a=_0x50a4a5-_0x50dcdc-(_0x29241f+0x1)*_0x5f5389;let _0x5004be;if(_0xd73ef5&&typeof _0x407852===_0x23b57e(0x8f)&&_0x407852[_0x23b57e(0x15c)]!==undefined){const _0x2fbf27=_0x113e3d[_0x23b57e(0x3c0)](_0x407852[_0x23b57e(0x15c)],0xb),_0x36d4e6=_0x4f50ee[_0x23b57e(0x3c0)](_0x407852[_0x23b57e(0x188)],0x9),_0x9cee9c=0x2,_0xfe863f=_0x2fbf27+_0x9cee9c+_0x36d4e6;_0x5004be=_0x106c2f+(_0x4ea7fa-_0xfe863f)/0x2,_0x150ad5[_0x23b57e(0x401)](_0x407852[_0x23b57e(0x15c)],{'x':_0x5004be,'y':_0x3c168a,'size':0xb,'font':_0x113e3d});const _0x58631d=0x2;_0x150ad5[_0x23b57e(0x401)](_0x407852[_0x23b57e(0x188)],{'x':_0x5004be+_0x2fbf27+_0x9cee9c,'y':_0x3c168a+(0xb-0x9)-_0x58631d,'size':0x9,'font':_0x4f50ee});}else{const _0x1d771e=_0x5e85d7[_0x23b57e(0x3c0)](_0x407852,_0x136949);_0x5004be=_0x106c2f+(_0x4ea7fa-_0x1d771e)/0x2,_0x150ad5[_0x23b57e(0x401)](_0x407852,{'x':_0x5004be,'y':_0x3c168a,'size':_0x136949,'font':_0x5e85d7});}}),_0x5863a7['forEach']((_0x5ded5e,_0x1997fd)=>{const _0x4ea73a=_0x13790d,_0x457089=_0x50a4a5-_0x873595-(_0x1997fd+0x1)*_0x5f5389;let _0x20565f;if(_0xd73ef5)_0x20565f=_0x106c2f+_0x4ea7fa+0x5;else{const _0xf02d0a=_0x5e85d7[_0x4ea73a(0x3c0)](_0x5ded5e,_0x136949);_0x20565f=_0x106c2f+_0x4ea7fa+(_0x18cbd5-_0xf02d0a)/0x2;}_0x150ad5[_0x4ea73a(0x401)](_0x5ded5e,{'x':_0x20565f,'y':_0x457089,'size':_0x136949,'font':_0x5e85d7});}),_0x50a4a5-_0x18a9a*_0x5f5389;}function _0x1744fd(_0x58a1d9,_0x3e5b24,_0x558fff,_0x57ba12){const _0x2c6b37=_0x47ffe9,_0x5a911f=_0x58a1d9[_0x2c6b37(0x62d)]('\x20');let _0x1407e3=[],_0x27142d='';_0x5a911f['forEach'](_0x8328be=>{const _0xc39531=_0x2c6b37,_0x2ba9aa=_0x27142d?_0x27142d+'\x20'+_0x8328be:_0x8328be;if(_0x558fff[_0xc39531(0x3c0)](_0x2ba9aa,_0x57ba12)<=_0x3e5b24)_0x27142d=_0x2ba9aa;else{if(_0x27142d)_0x1407e3[_0xc39531(0x454)](_0x27142d);_0x27142d=_0x8328be;}});if(_0x27142d)_0x1407e3['push'](_0x27142d);return _0x1407e3;}if(setTipOpeSales[_0x47ffe9(0x3b9)](_0xdb008f=>_0xdb008f==setTipoOperacion)||setTipOpePurchases[_0x47ffe9(0x3b9)](_0x223c7e=>_0x223c7e==setTipoOperacion)||setTipOpeQuotation[_0x47ffe9(0x3b9)](_0xf30d13=>_0xf30d13==setTipoOperacion)||_0x5c5d04==0x1){if(_0x5c5d04==0x1){if(setLogoUrl){const _0x273ba8=setLogoUrl[_0x47ffe9(0x62d)](',')[0x1],_0x4771a3=Uint8Array[_0x47ffe9(0x2b9)](atob(_0x273ba8),_0x1eb5ad=>_0x1eb5ad[_0x47ffe9(0x3ae)](0x0));let _0x5419ac;try{_0x5419ac=await _0x2c700d[_0x47ffe9(0x565)](_0x4771a3);}catch(_0x40bca0){try{_0x5419ac=await _0x2c700d['embedJpg'](_0x4771a3);}catch(_0x20a52a){throw new Error(_0x47ffe9(0x86));}}const _0x1d5b71=_0x51ba0f*0.5,_0x34c389=_0x5419ac[_0x47ffe9(0x3e3)],_0x31619c=_0x1d5b71/_0x34c389,_0x3a60cd=_0x5419ac[_0x47ffe9(0x57c)](_0x31619c),_0x11f7a1=(_0x51ba0f-_0x3a60cd[_0x47ffe9(0x3e3)])/0x2,_0x42a30d=_0x4f9100-_0x3a60cd[_0x47ffe9(0x575)];_0x3952e0['drawImage'](_0x5419ac,{'x':_0x11f7a1,'y':_0x42a30d,'width':_0x3a60cd[_0x47ffe9(0x3e3)],'height':_0x3a60cd['height']}),_0x4f9100=_0x42a30d;}}if(_0x5c5d04!=0x1){if(setLogoUrl){const _0x2e7112=setLogoUrl[_0x47ffe9(0x62d)](',')[0x1],_0x218c2d=Uint8Array[_0x47ffe9(0x2b9)](atob(_0x2e7112),_0x14cf58=>_0x14cf58[_0x47ffe9(0x3ae)](0x0));let _0x2a2f81;try{_0x2a2f81=await _0x2c700d[_0x47ffe9(0x565)](_0x218c2d);}catch(_0x1264fc){try{_0x2a2f81=await _0x2c700d[_0x47ffe9(0x45b)](_0x218c2d);}catch(_0x40fa05){throw new Error(_0x47ffe9(0x86));}}const _0x1ccb2c=_0x51ba0f*0.5,_0x2c52c9=_0x2a2f81[_0x47ffe9(0x3e3)],_0x42015c=_0x1ccb2c/_0x2c52c9,_0x35838c=_0x2a2f81[_0x47ffe9(0x57c)](_0x42015c),_0x10f772=(_0x51ba0f-_0x35838c[_0x47ffe9(0x3e3)])/0x2,_0x347044=_0x4f9100-_0x35838c['height'];_0x3952e0[_0x47ffe9(0x505)](_0x2a2f81,{'x':_0x10f772,'y':_0x347044,'width':_0x35838c[_0x47ffe9(0x3e3)],'height':_0x35838c[_0x47ffe9(0x575)]}),_0x4f9100=_0x347044-_0x473a43-0x5;}setEmpresaNombre&&(_0x4f9100=_0x3988ba(setEmpresaNombre,_0x4f9100,_0x113e3d,0xb,_0x47ffe9(0x4f8))),_0x13292e&&(_0x4f9100=_0x3988ba(_0x13292e,_0x4f9100,_0x4f50ee,0x8,'center')),setEmpresaEmail&&(_0x4f9100=_0x3988ba(setEmpresaEmail,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8))),setEmpresaTelefono&&(_0x4f9100=_0x3988ba(setEmpresaTelefono,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8))),setEmpresaSitioWeb&&(_0x4f9100=_0x3988ba(setEmpresaSitioWeb,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8)));}_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;if(setEmpresaRuc){const _0x264e22=_0x4f50ee[_0x47ffe9(0x3c0)](_0x48ce9c+':\x20'+setEmpresaRuc,0xb),_0x1515e7=(_0x51ba0f-_0x264e22)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x48ce9c+':\x20'+setEmpresaRuc,{'x':_0x1515e7,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=0x9;}_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;if(_0x5c5d04==0x1){const _0x34ed36=_0x4f50ee[_0x47ffe9(0x3c0)](_0x47ffe9(0x2c3),0xb),_0x154469=(_0x51ba0f-_0x34ed36)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x47ffe9(0x2c3),{'x':_0x154469,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=0x9;}else{const _0x4bc45c=_0x4f50ee[_0x47ffe9(0x3c0)](_0x2719a6[_0x47ffe9(0x4a0)](),0xb),_0x27554a=(_0x51ba0f-_0x4bc45c)/0x2;_0x3952e0['drawText'](_0x2719a6[_0x47ffe9(0x4a0)](),{'x':_0x27554a,'y':_0x4f9100,'size':0xb,'font':_0x113e3d});if(setSerie&&setCorrelativo){_0x4f9100-=_0x473a43;const _0xaae342=_0x4f50ee['widthOfTextAtSize'](setSerie[_0x47ffe9(0x4a0)]()+_0x47ffe9(0x4da)+setCorrelativo,0xb),_0x5c11ac=(_0x51ba0f-_0xaae342)/0x2;_0x3952e0[_0x47ffe9(0x401)](setSerie[_0x47ffe9(0x4a0)]()+_0x47ffe9(0x4da)+setCorrelativo,{'x':_0x5c11ac,'y':_0x4f9100,'size':0xb,'font':_0x113e3d});}_0x4f9100-=0x9;}_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;if(_0x5c5d04==0x1){const _0x4f7e06=_0x4f50ee[_0x47ffe9(0x3c0)](_0x12dc56,0xb),_0x13e759=(_0x51ba0f-_0x4f7e06)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x12dc56,{'x':_0x13e759,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=0x9,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;}const _0x1471c1=(_0x51ba0f-_0x222374*0x2)*0.6;_0x5c5d04!=0x1&&(setClienteTipoDoc&&setClienteNumDoc&&(_0x4f9100=_0xa1d913(setClienteTipoDoc,setClienteNumDoc,_0x4f9100,_0x4f50ee,0x9,_0x1471c1)),setClienteDenominacion&&(_0x4f9100=_0xa1d913(_0x4f63fc,setClienteDenominacion,_0x4f9100,_0x4f50ee,0x9,_0x1471c1)),setClienteDireccion&&(_0x4f9100=_0xa1d913(_0x47ffe9(0x531),setClienteDireccion,_0x4f9100,_0x4f50ee,0x9,_0x1471c1)),_0x3c6d22&&(_0x4f9100=_0xa1d913(_0x47ffe9(0x276),_0x3c6d22,_0x4f9100,_0x4f50ee,0x9,_0x1471c1)),_0x4805b9&&(_0x4f9100=_0xa1d913('Email',_0x4805b9,_0x4f9100,_0x4f50ee,0x9,_0x1471c1)));_0x587b10&&(_0x4f9100=_0xa1d913(_0x47ffe9(0x52f),_0x587b10,_0x4f9100,_0x4f50ee,0x9,_0x1471c1));_0x31de96&&(_0x4f9100=_0xa1d913(_0x47ffe9(0x512),_0x31de96,_0x4f9100,_0x4f50ee,0x9,_0x1471c1));_0x5c5d04==0x1&&(_0x4f9100=_0xa1d913(_0x29a3ad,_0x50f574,_0x4f9100,_0x4f50ee,0x9,_0x1471c1),_0x4f9100=_0xa1d913(_0x51f06d,_0x1afa24,_0x4f9100,_0x4f50ee,0x9,_0x1471c1));_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=_0x473a43;const _0x343790=[_0x47ffe9(0x63c),_0x47ffe9(0x137),_0x47ffe9(0x248),_0x47ffe9(0x594)];_0x4f9100=_0x24fc9d(_0x343790,[],_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0x8,!![]),_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=_0x473a43;if(_0xebb3e6==0x1){const _0x5aa658=['Consumo',_0x47ffe9(0x309),parseFloat(_0x48b3e6)[_0x47ffe9(0x35c)](0x2),parseFloat(_0x48b3e6)[_0x47ffe9(0x35c)](0x2)];_0x4f9100=_0x24fc9d([],_0x5aa658,_0x4f9100,_0x4f50ee,0x7,_0x51ba0f,_0x222374,0xa,![]),_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100+_0x473a43);}else setProductos[_0x47ffe9(0x55b)]((_0x5c7b58,_0x323a4a)=>{const _0x50f345=_0x47ffe9;let {setDescripcion:_0x4087b0,setCantidad:_0x21d70a,setMtoPrecioUnitario:_0x1da058,setTotal:_0x288307,setDescuento:_0x150530,setMtoPrecioUnitario_final:_0x3233e7,setUnidad:_0x10e651,setTipAfeIgv:_0x21b573,setNotas:_0x4eb190,setItemDescription:_0x2dc3f2,setMarca:_0x1f1f88}=_0x5c7b58;_0x150530[_0x50f345(0x226)]>0x0&&(_0x4087b0+='\x20('+_0x150530['setPorcentajeDesc']+'%\x20Desc.\x20de\x20'+_0x163f09+parseFloat(_0x3233e7)['toFixed'](0x2)+')');(setTipAfeImpGravadosGrat[_0x50f345(0x3b9)](_0x3bd37e=>_0x3bd37e==_0x21b573)||setTipAfeImpInafectosGrat['some'](_0x2b2e86=>_0x2b2e86==_0x21b573)||setTipAfeImpExoneradosGrat[_0x50f345(0x3b9)](_0x4f4926=>_0x4f4926==_0x21b573))&&(_0x1da058=_0x3233e7,setTipAfeImpGravadosGrat[_0x50f345(0x3b9)](_0x599a82=>_0x599a82==_0x21b573)&&(_0x4087b0+=_0x50f345(0x26b)),setTipAfeImpExoneradosGrat['some'](_0x4e4f04=>_0x4e4f04==_0x21b573)&&(_0x4087b0+=_0x50f345(0x325)),setTipAfeImpInafectosGrat[_0x50f345(0x3b9)](_0x54885a=>_0x54885a==_0x21b573)&&(_0x4087b0+='\x20(Inafecto\x20Gratuito)'));let _0x1bdd76=products[_0x50f345(0x54e)](_0x12189e=>_0x12189e['id']==_0x5c7b58[_0x50f345(0x3ea)]);_0x1d870c==0x1&&_0x1bdd76&&_0x1bdd76[_0x50f345(0x179)]&&(_0x4087b0+=_0x50f345(0x4ab)+_0x1bdd76[_0x50f345(0x179)]);_0x408800==0x1&&_0x1bdd76&&_0x1bdd76['setBatchExpirationDate']&&(_0x4087b0+=_0x50f345(0x577)+_0x1bdd76[_0x50f345(0x479)]);_0x21d70a+='\x20('+_0x10e651+')';const _0xfec7f5=[_0x4087b0,_0x21d70a,parseFloat(_0x1da058)[_0x50f345(0x35c)](0x2),_0x288307[_0x50f345(0x35c)](0x2)];_0x4f9100=_0x24fc9d([],_0xfec7f5,_0x4f9100,_0x4f50ee,0x7,_0x51ba0f,_0x222374,0xa,![]);if(_0x10dfed==0x1&&_0x2dc3f2!=''){const _0x3e04ac=_0x4eb190[_0x50f345(0x13a)]()?'\x0a':'';_0x4eb190+=_0x3e04ac+_0x50f345(0x436)+_0x2dc3f2;}if(_0x456956==0x1&&_0x1f1f88!=''){const _0x2c26c3=_0x4eb190[_0x50f345(0x13a)]()?'\x0a':'';_0x4eb190+=_0x2c26c3+_0x50f345(0x2e6)+_0x1f1f88;}const _0x491d40=_0x51ba0f-0x2*_0x222374,_0x4e6533=_0x491d40*0.4;if(_0x4eb190){const _0x356998=0x7,_0x3cd378=_0x222374,_0x255958=_0x4e6533,_0x5d0c70=_0x356998*1.2,_0x1a430e=_0x4eb190[_0x50f345(0x62d)](/\r?\n/);let _0x3f9048=[];_0x1a430e['forEach'](_0x308434=>{const _0x9f0ac7=_0x1744fd('*\x20'+_0x308434,_0x255958,_0x4f50ee,_0x356998);_0x3f9048=_0x3f9048['concat'](_0x9f0ac7);}),_0x3f9048[_0x50f345(0x55b)]((_0x245bd0,_0xdae5ce)=>{const _0x2b0d18=_0x50f345,_0x30a049=_0x4f9100+0xf-(_0xdae5ce+0x1)*_0x5d0c70;_0x3952e0[_0x2b0d18(0x401)](_0x245bd0,{'x':_0x3cd378,'y':_0x30a049,'size':_0x356998,'font':_0x4f50ee});}),_0x4f9100-=_0x3f9048['length']*_0x5d0c70+0x5;}_0x5a982b(_0x222374,_0x51ba0f-_0x222374,_0x4f9100+_0x473a43);});_0x4f9100-=0x5;parseFloat(_0x4e8e48)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x2f5),_0x163f09+'\x20'+_0x4e8e48,_0x4f9100,_0x4f50ee,0x7));parseFloat(_0x4247e8)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x262),_0x163f09+'\x20'+_0x4247e8,_0x4f9100,_0x4f50ee,0x7));!setTipOpeExo[_0x47ffe9(0x3b9)](_0x377e39=>_0x377e39==setTipoOperacion)&&_0x5c5d04!=0x1&&(parseFloat(_0x80a785)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x146),_0x163f09+'\x20'+_0x80a785,_0x4f9100,_0x4f50ee,0x7)),parseFloat(_0x284d2c)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x3fb),_0x163f09+'\x20'+_0x284d2c,_0x4f9100,_0x4f50ee,0x7)),parseFloat(_0x49ae54)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x462),_0x163f09+'\x20'+_0x49ae54,_0x4f9100,_0x4f50ee,0x7)),parseFloat(_0x717811)>0x0&&(_0x4f9100=_0x654796(_0x47ffe9(0x3fd),_0x163f09+'\x20'+_0x717811,_0x4f9100,_0x4f50ee,0x7)),parseFloat(_0x41f936)>0x0&&(_0x4f9100=_0x654796('IGV\x20GRATUITAS',_0x163f09+'\x20'+_0x41f936,_0x4f9100,_0x4f50ee,0x7)),_0x4f9100=_0x654796(_0x47ffe9(0x320),_0x163f09+'\x20'+_0x216ff6,_0x4f9100,_0x4f50ee,0x7),_0x4f9100=_0x654796(_0x47ffe9(0x283),_0x163f09+'\x20'+_0x277ac9,_0x4f9100,_0x4f50ee,0x7));_0x4f9100=_0x654796(_0x47ffe9(0x4b3),_0x163f09+'\x20'+_0x48b3e6,_0x4f9100,_0x113e3d,0x8);if(_0x5c5d04!=0x1){if(_0x2c881e==0x1){_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;const _0x1afc3b='1001\x20Operación\x20Sujeta\x20a\x20Detracción',_0x3801b6=_0x4f50ee[_0x47ffe9(0x3c0)](_0x1afc3b,0x8),_0x3b8d17=(_0x51ba0f-_0x3801b6)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x1afc3b,{'x':_0x3b8d17,'y':_0x4f9100,'size':0x8,'font':_0x113e3d}),_0x4f9100-=_0x473a43+0x5,_0x4f9100=_0x3988ba(_0x47ffe9(0x57b)+_0x429395+'\x20'+_0x5eae8c,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8)),_0x4f9100-=0x5,_0x4f9100=_0x654796('DETRACCIÓN\x20('+_0x44324d+'%)',_0x163f09+'\x20'+_0x9aec04,_0x4f9100,_0x4f50ee,0x7);}_0x5cfe83==0x1&&(_0x4f9100=_0x654796(_0x47ffe9(0x365)+_0x14c04d+'%)',_0x163f09+'\x20'+_0x3c03f5,_0x4f9100,_0x4f50ee,0x7));_0x5242ba==0x1&&(_0x4f9100=_0x654796(_0x47ffe9(0x64a)+_0x4f1ffb+'%)',_0x163f09+'\x20'+_0x9ad991,_0x4f9100,_0x4f50ee,0x7));if(_0x2c6d77&&_0x2c6d77[_0x47ffe9(0x259)]==!![]||_0x124c71&&_0x124c71[_0x47ffe9(0x259)]==!![]){_0x4f9100-=_0x473a43,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100+_0x473a43),_0x4f9100=_0x3988ba(_0x47ffe9(0x47c),_0x4f9100,_0x4f50ee,0x7),_0x4f9100-=0x5;for(let _0x439a49 in _0x2c6d77['data']){const _0x329757=_0x2c6d77[_0x47ffe9(0x166)][_0x439a49];if(_0x329757&&typeof _0x329757=='object'&&_0x47ffe9(0x551)in _0x329757){const _0x31d60e=parseFloat(_0x329757[_0x47ffe9(0x197)]);if(_0x31d60e>0x0){_0x4f9100=_0x654796(_0x439a49[_0x47ffe9(0x4a0)](),_0x163f09+'\x20'+_0x31d60e[_0x47ffe9(0x35c)](0x2),_0x4f9100,_0x4f50ee,0x7);if(_0x47ffe9(0xfd)in _0x329757&&_0x47ffe9(0x3f1)in _0x329757){const _0x4bb2d4=_0x329757[_0x47ffe9(0xfd)],_0x198d5f=parseFloat(_0x329757['total_comision']);_0x4bb2d4!==undefined&&_0x198d5f!==undefined&&(_0x4f9100=_0x654796(_0x47ffe9(0x46f)+_0x4bb2d4+'%)',_0x163f09+'\x20'+_0x198d5f[_0x47ffe9(0x35c)](0x2),_0x4f9100,_0x4f50ee,0x7));}if(_0x329757[_0x47ffe9(0x39c)]&&_0x329757[_0x47ffe9(0x39c)]!='0'){const _0x2f403d=myCompany[_0x47ffe9(0x3a4)][_0x47ffe9(0x54e)](_0x25101e=>_0x25101e[_0x47ffe9(0x562)]==_0x329757[_0x47ffe9(0x39c)]);_0x2f403d&&(_0x4f9100=_0x654796('Banco:\x20\x20'+_0x2f403d[_0x47ffe9(0x497)],'',_0x4f9100,_0x4f50ee,0x7));}_0x329757[_0x47ffe9(0x42e)]&&(_0x4f9100=_0x654796('Nº\x20Operación:\x20\x20'+_0x329757['nro_operacion'],'',_0x4f9100,_0x4f50ee,0x7));}}}const _0x1f10c7=_0x2c6d77[_0x47ffe9(0x166)][_0x47ffe9(0x268)];parseFloat(_0x1f10c7)>0x0&&(_0x4f9100=_0x654796('Vuelto:',_0x163f09+'\x20'+_0x1f10c7,_0x4f9100,_0x4f50ee,0x7));}if(_0x1f6607&&_0x1f6607[_0x47ffe9(0x259)]==!![]||_0x124c71&&_0x124c71[_0x47ffe9(0x259)]==!![]){if(Array[_0x47ffe9(0x42a)](_0x1f6607[_0x47ffe9(0x166)])&&_0x1f6607['data'][_0x47ffe9(0x301)]>0x0){_0x4f9100-=_0x473a43,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100+_0x473a43),_0x4f9100=_0x3988ba(_0x47ffe9(0x29c),_0x4f9100,_0x4f50ee,0x7),_0x4f9100-=0x5;let _0x2d873c;_0x1f6607[_0x47ffe9(0x259)]==!![]?_0x2d873c=parseFloat(_0x48b3e6):_0x2d873c=_0x2c6d77['data']['debe'],_0x4f9100=_0x654796('Total\x20Pendiente',_0x163f09+'\x20'+_0x2d873c,_0x4f9100,_0x4f50ee,0x7),_0x4f9100=_0x654796('Nº\x20de\x20cuotas',_0x1f6607['data'][_0x47ffe9(0x301)]+_0x47ffe9(0xde),_0x4f9100,_0x4f50ee,0x7),_0x4f9100=_0x3988ba('Cronograma\x20de\x20Pagos',_0x4f9100,_0x4f50ee,0x7),_0x4f9100-=0x5,_0x1f6607[_0x47ffe9(0x166)][_0x47ffe9(0x55b)](_0x308030=>{const _0x2b2cdd=_0x47ffe9;_0x4f9100=_0x654796(_0x2b2cdd(0x5f5)+_0x308030[_0x2b2cdd(0x633)],_0x308030[_0x2b2cdd(0x2e8)]+_0x2b2cdd(0x4ab)+parseFloat(_0x308030[_0x2b2cdd(0x551)])[_0x2b2cdd(0x35c)](0x2),_0x4f9100,_0x4f50ee,0x7);});}}}_0x4f9100-=_0x473a43,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100+_0x473a43),_0x4f9100-=0x5;_0x1bd070&&(_0x4f9100=_0x3988ba(_0x1bd070,_0x4f9100,_0x113e3d,0x8,_0x47ffe9(0x4f8)));if(_0x5c5d04!=0x1){const _0xc4214b=_0x47ffe9(0xf6);if(setObservacion){_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;const _0x1b69aa=_0x4f50ee[_0x47ffe9(0x3c0)](_0xc4214b,0x8),_0x12bb6d=(_0x51ba0f-_0x1b69aa)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0xc4214b,{'x':_0x12bb6d,'y':_0x4f9100,'size':0x8,'font':_0x113e3d}),_0x4f9100-=_0x473a43,_0x4f9100=_0x3988ba(setObservacion,_0x4f9100,_0x4f50ee,0x8,'center');}if(setTipoOperacion=='3'||setTipoOperacion=='4'){_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;const _0xb4ce4a='AUTORIZADO\x20MEDIANTE',_0x108cb7=_0x4f50ee['widthOfTextAtSize'](_0xb4ce4a,0x7),_0x459b26=(_0x51ba0f-_0x108cb7)/0x2;_0x3952e0['drawText'](_0xb4ce4a,{'x':_0x459b26,'y':_0x4f9100,'size':0x7,'font':_0x4f50ee}),_0x4f9100-=0x9;const _0x4e8cd8=_0x47ffe9(0x5ac),_0x1c00f5=_0x4f50ee[_0x47ffe9(0x3c0)](_0x4e8cd8,0x7),_0x453350=(_0x51ba0f-_0x1c00f5)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x4e8cd8,{'x':_0x453350,'y':_0x4f9100,'size':0x7,'font':_0x4f50ee}),_0x4f9100-=0x9;const _0x3d0704=_0x47ffe9(0x298),_0xb42720=_0x4f50ee[_0x47ffe9(0x3c0)](_0x3d0704,0x7),_0x3562b0=(_0x51ba0f-_0xb42720)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x3d0704,{'x':_0x3562b0,'y':_0x4f9100,'size':0x7,'font':_0x4f50ee}),_0x4f9100-=0x9;const _0x14cc3d='BOLETA\x20DE\x20VENTA\x20ELECTRONICA',_0x6f4786=_0x4f50ee[_0x47ffe9(0x3c0)](_0x14cc3d,0x7),_0x2c0154=(_0x51ba0f-_0x6f4786)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x14cc3d,{'x':_0x2c0154,'y':_0x4f9100,'size':0x7,'font':_0x4f50ee}),_0x4f9100-=0x9;const _0x508fd8=_0x47ffe9(0x1fc),_0x10dd75=_0x4f50ee['widthOfTextAtSize'](_0x508fd8,0x7),_0x33da15=(_0x51ba0f-_0x10dd75)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x508fd8,{'x':_0x33da15,'y':_0x4f9100,'size':0x7,'font':_0x4f50ee}),_0x4f9100-=0x9;const _0x50187a=setUrlConsultasCpe,_0x4fc1a2=_0x4f50ee[_0x47ffe9(0x3c0)](_0x50187a,0x7),_0x1af940=(_0x51ba0f-_0x4fc1a2)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x50187a,{'x':_0x1af940,'y':_0x4f9100,'size':0x7,'font':_0x113e3d}),_0x4f9100-=0x9;const _0x2ba0d0=[setEmpresaRuc,setSerie,setCorrelativo,_0x80a785>0x0?_0x80a785:null,_0x284d2c>0x0?_0x284d2c:null,_0x49ae54>0x0?_0x49ae54:null,_0x717811>0x0?_0x717811:null,_0x277ac9>0x0?_0x277ac9:null,_0x48b3e6>0x0?_0x48b3e6:null,setClienteNumDoc],_0x4c5c3d=_0x2ba0d0[_0x47ffe9(0x41f)](_0x1ff4c5=>_0x1ff4c5!==null)[_0x47ffe9(0x2fb)]('|'),_0x3da7e4=document[_0x47ffe9(0x28c)](_0x47ffe9(0x50f)),_0x20166d=new QRCode(_0x3da7e4,{'text':_0x4c5c3d,'width':0x80,'height':0x80,'colorDark':_0x47ffe9(0x2b5),'colorLight':'#ffffff','correctLevel':QRCode['CorrectLevel']['H']});await new Promise(_0x48ae1a=>setTimeout(_0x48ae1a,0x1f4));const _0x54bf36=_0x3da7e4[_0x47ffe9(0x3ef)](_0x47ffe9(0x10c)),_0x423fb7=_0x54bf36['toDataURL']('image/png'),_0x328feb=atob(_0x423fb7[_0x47ffe9(0x62d)](',')[0x1]),_0xcba67b=Uint8Array[_0x47ffe9(0x2b9)](_0x328feb,_0x5353bd=>_0x5353bd[_0x47ffe9(0x3ae)](0x0)),_0x1bcd5e=await _0x2c700d[_0x47ffe9(0x565)](_0xcba67b),_0x54ae59=_0x1bcd5e['scale'](0.6),_0x2af0ae=(_0x51ba0f-_0x54ae59[_0x47ffe9(0x3e3)])/0x2,_0x2a167e=_0x4f9100-_0x54ae59[_0x47ffe9(0x575)];_0x3952e0['drawImage'](_0x1bcd5e,{'x':_0x2af0ae,'y':_0x2a167e,'width':_0x54ae59[_0x47ffe9(0x3e3)],'height':_0x54ae59[_0x47ffe9(0x575)]}),_0x4f9100=_0x2a167e-_0x473a43;}}_0x5c5d04==0x1&&(_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43,_0x4f9100=_0xa1d913(_0x47ffe9(0x326),_0x47ffe9(0x342),_0x4f9100,_0x4f50ee,0x9,_0x1471c1),_0x4f9100=_0xa1d913(_0x47ffe9(0x491),'................................................',_0x4f9100,_0x4f50ee,0x9,_0x1471c1),_0x4f9100=_0xa1d913(_0x47ffe9(0x531),'................................................',_0x4f9100,_0x4f50ee,0x9,_0x1471c1),_0x4f9100-=0x5),_0x5c5d04!=0x1&&(setTipOpeSales[_0x47ffe9(0x3b9)](_0x336b0b=>_0x336b0b==setTipoOperacion)&&(_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43,_0x45700e!=_0x56bb37?(_0x4f9100=_0x3988ba(_0x2e9d19,_0x4f9100,_0x113e3d,0x8,_0x47ffe9(0x4f8)),_0x4f9100=_0x3988ba(_0x1afa24,_0x4f9100,_0x4f50ee,0x8,'center'),_0x4f9100=_0x3988ba(_0x4eaf20,_0x4f9100,_0x113e3d,0x8,_0x47ffe9(0x4f8)),_0x4f9100=_0x3988ba(_0x26517c,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8))):(_0x4f9100=_0x3988ba(_0x31a885,_0x4f9100,_0x113e3d,0x8,_0x47ffe9(0x4f8)),_0x4f9100=_0x3988ba(_0x26517c,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8)))),setTipOpeQuotation['some'](_0x1b35e4=>_0x1b35e4==setTipoOperacion)&&(_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43,_0x4f9100=_0x3988ba(_0x2e9d19,_0x4f9100,_0x113e3d,0x8,_0x47ffe9(0x4f8)),_0x4f9100=_0x3988ba(_0x1afa24,_0x4f9100,_0x4f50ee,0x8,_0x47ffe9(0x4f8))),setFooter&&setTipOpeSales[_0x47ffe9(0x3b9)](_0x24b74c=>_0x24b74c==setTipoOperacion)&&(_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43,_0x4f9100=_0x3988ba(setFooter,_0x4f9100,_0x113e3d,0x8,'center')));}else{if(setTipOpeOrders[_0x47ffe9(0x3b9)](_0x234d07=>_0x234d07==setTipoOperacion)){if(setLogoUrl){const _0x249393=setLogoUrl['split'](',')[0x1],_0x3db382=Uint8Array[_0x47ffe9(0x2b9)](atob(_0x249393),_0x209ed4=>_0x209ed4['charCodeAt'](0x0));let _0x4bc277;try{_0x4bc277=await _0x2c700d[_0x47ffe9(0x565)](_0x3db382);}catch(_0x3464c9){try{_0x4bc277=await _0x2c700d['embedJpg'](_0x3db382);}catch(_0x526986){throw new Error(_0x47ffe9(0x86));}}const _0x1ed557=_0x51ba0f*0.5,_0x50d8f3=_0x4bc277[_0x47ffe9(0x3e3)],_0xec8439=_0x1ed557/_0x50d8f3,_0x24981f=_0x4bc277[_0x47ffe9(0x57c)](_0xec8439),_0x92ba10=(_0x51ba0f-_0x24981f['width'])/0x2,_0x38dafe=_0x4f9100-_0x24981f[_0x47ffe9(0x575)];_0x3952e0[_0x47ffe9(0x505)](_0x4bc277,{'x':_0x92ba10,'y':_0x38dafe,'width':_0x24981f[_0x47ffe9(0x3e3)],'height':_0x24981f[_0x47ffe9(0x575)]}),_0x4f9100=_0x38dafe;}_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;const _0xab3a9a=_0x4f50ee[_0x47ffe9(0x3c0)](_0x2719a6['toUpperCase']()+_0x47ffe9(0x4da)+setSerie[_0x47ffe9(0x4a0)](),0xb),_0x4f85c9=(_0x51ba0f-_0xab3a9a)/0x2;_0x3952e0['drawText'](_0x2719a6['toUpperCase']()+_0x47ffe9(0x4da)+setSerie[_0x47ffe9(0x4a0)](),{'x':_0x4f85c9,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=_0x473a43;const _0x556a9e=_0x4f50ee[_0x47ffe9(0x3c0)](_0x47ffe9(0x4b2)+setCorrelativo,0xb),_0x506c1c=(_0x51ba0f-_0x556a9e)/0x2;_0x3952e0['drawText'](_0x47ffe9(0x4b2)+setCorrelativo,{'x':_0x506c1c,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=0x9,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5+_0x473a43;const _0x2b6d9e=_0x4f50ee[_0x47ffe9(0x3c0)](_0x12dc56+_0x47ffe9(0x4da)+_0x50f574,0xb),_0x4a8166=(_0x51ba0f-_0x2b6d9e)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x12dc56+'\x20-\x20'+_0x50f574,{'x':_0x4a8166,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=_0x473a43;const _0x15b3ae=_0x4f50ee['widthOfTextAtSize'](_0x47ffe9(0x284)+_0x1afa24,0xb),_0x34cfbe=(_0x51ba0f-_0x15b3ae)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x47ffe9(0x284)+_0x1afa24,{'x':_0x34cfbe,'y':_0x4f9100,'size':0xb,'font':_0x113e3d}),_0x4f9100-=0x9,_0x5a982b(_0x222374,_0x3728d6-_0x222374,_0x4f9100),_0x4f9100-=0x5,_0x4f9100=_0x54d9c8(_0x3952e0,_0x47ffe9(0x137),_0x47ffe9(0x63c),_0x4f9100,_0x4f50ee,0x9,_0x51ba0f,_0x222374),_0x4f9100-=0x5,_0x5a982b(_0x222374,_0x51ba0f-_0x222374,_0x4f9100),_0x4f9100-=0x5,setProductos['forEach']((_0x408200,_0x3cc306)=>{const _0x23f52f=_0x47ffe9;let {setDescripcion:_0x160d64,setCantidad:_0x38edf8,setMtoPrecioUnitario:_0xbee3bc,setTotal:_0x4356ab,setDescuento:_0x17e6a3,setMtoPrecioUnitario_final:_0x2f42a2,setUnidad:_0x3390e4,setTipAfeIgv:_0x83143f,setNotas:_0x3111ee}=_0x408200,_0x2e2827=products['find'](_0x1f3093=>_0x1f3093['id']==_0x408200['setIdProducto']);_0x1d870c==0x1&&_0x2e2827&&_0x2e2827[_0x23f52f(0x179)]&&(_0x160d64+='\x20|\x20'+_0x2e2827[_0x23f52f(0x179)]);_0x408800==0x1&&_0x2e2827&&_0x2e2827['setBatchExpirationDate']&&(_0x160d64+='\x20|\x20F.V.\x20'+_0x2e2827['setBatchExpirationDate']);_0x38edf8+='\x20('+_0x3390e4+')';const _0xbe679=0x2;_0x4f9100-=_0xbe679,_0x4f9100=_0x54d9c8(_0x3952e0,_0x38edf8,_0x160d64,_0x4f9100,_0x113e3d,0xb,_0x51ba0f,_0x222374);if(_0x3111ee){const _0xe1c0a4=0x9,_0x4c66a7=_0x51ba0f-0x2*_0x222374,_0x2d9da0=_0x4c66a7*0.4,_0x3eb89f=_0x4c66a7*0.6,_0x58e329=_0x222374+_0x2d9da0+0x5,_0x48d1d1=_0xe1c0a4*1.2,_0x212389=_0x3111ee,_0x534e5d=_0x212389['split'](/\r?\n/);let _0xf189f9=[];_0x534e5d[_0x23f52f(0x55b)](_0x5aabfa=>{const _0x29e87c=_0x23f52f,_0xa9e302=_0x1744fd(_0x29e87c(0xc7)+_0x5aabfa,_0x3eb89f-0x5,_0x4f50ee,_0xe1c0a4);_0xf189f9=_0xf189f9[_0x29e87c(0x3a9)](_0xa9e302);}),_0xf189f9[_0x23f52f(0x55b)]((_0x146dc7,_0x354523)=>{const _0x45dc8c=_0x23f52f,_0x2e929c=_0x4f9100-(_0x354523+0x1)*_0x48d1d1;_0x3952e0[_0x45dc8c(0x401)](_0x146dc7,{'x':_0x58e329,'y':_0x2e929c,'size':_0xe1c0a4,'font':_0x4f50ee});}),_0x4f9100-=_0xf189f9[_0x23f52f(0x301)]*_0x48d1d1;}_0x4f9100-=_0x473a43,_0x5a982b(_0x222374,_0x51ba0f-_0x222374,_0x4f9100),_0x4f9100-=0x5;}),_0x4f9100-=_0x473a43;const _0x1f7a38=(_0x51ba0f-_0x222374*0x2)*0.6;_0x587b10&&(_0x4f9100=_0xa1d913(_0x47ffe9(0x52f),_0x587b10,_0x4f9100,_0x113e3d,0xb,_0x1f7a38)),_0x31de96&&(_0x4f9100=_0xa1d913('Hora',_0x31de96,_0x4f9100,_0x113e3d,0xb,_0x1f7a38)),setClienteDenominacion&&(_0x4f9100=_0xa1d913(_0x4f63fc,setClienteDenominacion[_0x47ffe9(0x3b5)]()[_0x47ffe9(0x1f1)](/(^|\s)\S/g,_0x23ab92=>_0x23ab92[_0x47ffe9(0x4a0)]()),_0x4f9100,_0x113e3d,0xb,_0x1f7a38));}}}else{if(_0x1be982=='a4'){const _0x38a54c=(_0x3b5fdb,_0x1d6bac,_0x679c01)=>{const _0x1bb5ec=_0x47ffe9;if(!_0x3b5fdb)return console['error']('La\x20fuente\x20es\x20undefined\x20en\x20measureText'),0x0;return _0x3b5fdb[_0x1bb5ec(0x3c0)](_0x1d6bac,_0x679c01);},_0x26d3e6=(_0x199b05,_0x296456,_0x45768d,_0x4479bf,_0x4fbe19,_0x3e4ff2,_0x3e7cbe,_0x450494,_0x4b035c=_0x156345)=>{const _0xce59b7=_0x47ffe9;if(!_0x3e4ff2)return console[_0xce59b7(0x499)](_0xce59b7(0x4d1)),_0x45768d;const _0x27308a=_0x199b05[_0xce59b7(0x62d)]('\x20');let _0x230f53='',_0x32a358=_0x45768d;for(let _0x5c356c=0x0;_0x5c356c<_0x27308a[_0xce59b7(0x301)];_0x5c356c++){const _0xa00a18=_0x230f53+(_0x230f53?'\x20':'')+_0x27308a[_0x5c356c],_0x213cc2=_0x3e4ff2[_0xce59b7(0x3c0)](_0xa00a18,_0x3e7cbe);_0x213cc2>_0x4479bf?(_0x3952e0['drawText'](_0x230f53,{'x':_0x296456,'y':_0x32a358,'size':_0x3e7cbe,'font':_0x3e4ff2,'color':_0x4b035c}),_0x32a358-=_0x450494,_0x230f53=_0x27308a[_0x5c356c]):_0x230f53=_0xa00a18;}return _0x230f53&&(_0x3952e0[_0xce59b7(0x401)](_0x230f53,{'x':_0x296456,'y':_0x32a358,'size':_0x3e7cbe,'font':_0x3e4ff2,'color':_0x4b035c}),_0x32a358-=_0x450494),_0x32a358;},_0x303372=(_0x435e66,_0x458107,_0x4312e7,_0x362dde,_0x43e592,_0x536ca9,_0x5f34d0=0x9,_0x347bbc=0x3)=>{const _0x914c00=_0x47ffe9,_0xfe6fdc=_0x536ca9/0x2;_0x3952e0[_0x914c00(0x3b6)]({'x':_0x4312e7,'y':_0x362dde+_0xfe6fdc,'width':_0x43e592-_0x347bbc,'height':_0xfe6fdc,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x3065fa=_0x38a54c(_0x4f50ee,_0x435e66,_0x5f34d0),_0x5377a9=_0x4312e7+(_0x43e592-_0x347bbc-_0x3065fa)/0x2,_0x50b864=_0x362dde+_0xfe6fdc+(_0xfe6fdc-_0x5f34d0)/0x2;_0x3952e0[_0x914c00(0x401)](_0x435e66,{'x':_0x5377a9,'y':_0x50b864,'size':_0x5f34d0,'font':_0x4f50ee,'color':_0x3bea05}),_0x3952e0['drawRectangle']({'x':_0x4312e7,'y':_0x362dde,'width':_0x43e592-_0x347bbc,'height':_0xfe6fdc,'color':_0x3bea05,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x2b8256=_0x38a54c(_0x4f50ee,_0x458107,_0x5f34d0),_0x2cd6b8=_0x4312e7+(_0x43e592-_0x347bbc-_0x2b8256)/0x2,_0x49d402=_0x362dde+(_0xfe6fdc-_0x5f34d0)/0x2;_0x3952e0[_0x914c00(0x401)](_0x458107,{'x':_0x2cd6b8,'y':_0x49d402,'size':_0x5f34d0,'font':_0x4f50ee,'color':_0x156345});},_0x397919=(_0x5ef853,_0x1574ac,_0x2f7329,_0x1261dc,_0x314a9c,_0x16bdeb,_0x146a6d=0x9)=>{const _0x233c58=_0x47ffe9,_0x1db945=_0x16bdeb/0x2;_0x3952e0['drawRectangle']({'x':_0x2f7329,'y':_0x1261dc+_0x1db945,'width':_0x314a9c,'height':_0x1db945,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x5e8522=_0x38a54c(_0x4f50ee,_0x5ef853,_0x146a6d),_0x4c7379=_0x2f7329+(_0x314a9c-_0x5e8522)/0x2,_0x5d9d9a=_0x1261dc+_0x1db945+(_0x1db945-_0x146a6d)/0x2;_0x3952e0['drawText'](_0x5ef853,{'x':_0x4c7379,'y':_0x5d9d9a,'size':_0x146a6d,'font':_0x4f50ee,'color':_0x3bea05}),_0x3952e0[_0x233c58(0x3b6)]({'x':_0x2f7329,'y':_0x1261dc,'width':_0x314a9c,'height':_0x1db945,'color':_0x3bea05,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x1d4e6f=_0x38a54c(_0x113e3d,_0x1574ac,_0x146a6d),_0x1b3fa4=_0x2f7329+(_0x314a9c-_0x1d4e6f)/0x2,_0x55a64e=_0x1261dc+(_0x1db945-_0x146a6d)/0x2;_0x3952e0['drawText'](_0x1574ac,{'x':_0x1b3fa4,'y':_0x55a64e,'size':_0x146a6d,'font':_0x113e3d,'color':_0x156345});},_0x5dfddd=(_0x5d0036,_0x10e9ef,_0x57372c,_0x15be36,_0x11b2e7,_0x1afcac,_0x4227d6,_0x1e3fdf,_0x5aee76=![],_0x4c2018=_0x47ffe9(0x3bf))=>{const _0x19bea3=_0x47ffe9,_0x9a5ecd=_0x1afcac-_0x4227d6*0x2,_0x41f42b=_0x9a5ecd*0.1,_0x37b146=_0x9a5ecd*0.1,_0x3169ae=_0x9a5ecd*0.15,_0x5e73c8=_0x9a5ecd*0.35,_0x41da4f=_0x9a5ecd*0.15,_0x520f71=_0x9a5ecd*0.15,_0x41d839=_0x4227d6,_0x4b1e48=_0x41d839+_0x41f42b,_0x4a7f15=_0x4b1e48+_0x37b146,_0x103447=_0x4a7f15+_0x3169ae,_0x2d81c8=_0x103447+_0x5e73c8,_0x4c2e7e=_0x2d81c8+_0x41da4f;if(_0x5aee76){_0x3952e0[_0x19bea3(0x3b6)]({'x':_0x4227d6,'y':_0x57372c,'width':_0x9a5ecd,'height':_0x1e3fdf,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x22755a=(_0x1e3fdf-_0x11b2e7)/0x2,[_0x2ed70a,_0x4952d2,_0x4a3bd1,_0x2e961b,_0x31042c,_0x31a831]=_0x5d0036;return _0x3952e0[_0x19bea3(0x401)](String(_0x2ed70a),{'x':_0x43b865(_0x2ed70a,_0x15be36,_0x11b2e7,_0x41d839,_0x41f42b),'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x3952e0[_0x19bea3(0x401)](String(_0x4952d2),{'x':_0x43b865(_0x4952d2,_0x15be36,_0x11b2e7,_0x4b1e48,_0x37b146),'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x3952e0[_0x19bea3(0x401)](String(_0x4a3bd1),{'x':_0x43b865(_0x4a3bd1,_0x15be36,_0x11b2e7,_0x4a7f15,_0x3169ae),'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x3952e0['drawText'](String(_0x2e961b),{'x':_0x103447+0x2,'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x3952e0[_0x19bea3(0x401)](String(_0x31042c),{'x':_0x43b865(_0x31042c,_0x15be36,_0x11b2e7,_0x2d81c8,_0x41da4f),'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x3952e0[_0x19bea3(0x401)](String(_0x31a831),{'x':_0x26e754(_0x31a831,_0x15be36,_0x11b2e7,_0x4c2e7e,_0x520f71)-0xa,'y':_0x57372c+_0x22755a,'size':_0x11b2e7,'font':_0x15be36,'color':_0x3bea05}),_0x57372c-_0x1e3fdf;}else{const [_0x19b532,_0x1b9b72,_0x148eab,_0x3416b4,_0x25e21c,_0x50ede6]=_0x10e9ef;if(_0x4c2018==_0x19bea3(0x8b)&&_0x10e9ef[0x4][_0x19bea3(0x13a)]()==_0x19bea3(0x12c)+_0x163f09+')')_0x3952e0['drawText'](_0x1bd070,{'x':_0x41d839+0xa,'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36});else{_0x3952e0[_0x19bea3(0x401)](String(_0x19b532),{'x':_0x43b865(_0x19b532,_0x15be36,_0x11b2e7,_0x41d839,_0x41f42b),'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36}),_0x3952e0[_0x19bea3(0x401)](String(_0x1b9b72),{'x':_0x43b865(_0x1b9b72,_0x15be36,_0x11b2e7,_0x4b1e48,_0x37b146),'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36}),_0x3952e0[_0x19bea3(0x401)](String(_0x148eab),{'x':_0x43b865(_0x148eab,_0x15be36,_0x11b2e7,_0x4a7f15,_0x3169ae),'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36});var _0x4a1cbf=_0x3416b4?_0x2f8f66(_0x3416b4,_0x103447+0x2,_0x57372c,_0x5e73c8-0x4,_0x15be36,_0x11b2e7,_0x1e3fdf):_0x57372c;}return _0x4c2018==_0x19bea3(0x8b)?_0x3952e0['drawText'](String(_0x25e21c),{'x':_0x26e754(_0x25e21c,_0x15be36,_0x11b2e7,_0x2d81c8,_0x41da4f)-0x8,'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36}):_0x3952e0[_0x19bea3(0x401)](String(_0x25e21c),{'x':_0x43b865(_0x25e21c,_0x15be36,_0x11b2e7,_0x2d81c8,_0x41da4f)-0x2,'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36}),_0x3952e0['drawText'](String(_0x50ede6),{'x':_0x26e754(_0x50ede6,_0x15be36,_0x11b2e7,_0x4c2e7e,_0x520f71)-0xa,'y':_0x57372c,'size':_0x11b2e7,'font':_0x15be36}),_0x4c2018==_0x19bea3(0x8b)&&_0x10e9ef[0x4]['trim']()==_0x19bea3(0x12c)+_0x163f09+')'?_0x57372c-_0x1e3fdf:Math['min'](_0x4a1cbf!==undefined?_0x4a1cbf:_0x57372c,_0x57372c-_0x1e3fdf);}};function _0x43b865(_0x3bc9df,_0x52772a,_0x45d44e,_0x5621e5,_0x438316){const _0x254ee2=_0x47ffe9,_0x3ca3af=_0x52772a[_0x254ee2(0x3c0)](String(_0x3bc9df),_0x45d44e);return _0x5621e5+(_0x438316-_0x3ca3af)/0x2;}function _0x26e754(_0x437cdd,_0xc55071,_0x28d2b9,_0x5520cf,_0x20149b){const _0x576f7c=_0x47ffe9,_0x280091=_0xc55071[_0x576f7c(0x3c0)](String(_0x437cdd),_0x28d2b9);return _0x5520cf+(_0x20149b-_0x280091);}function _0x2f8f66(_0x5b5a8c,_0x57c12d,_0xf800c8,_0x377526,_0x1bb463,_0x1598dc,_0xaf2f4b){const _0x10a7f4=_0x47ffe9,_0x588462=_0x5b5a8c[_0x10a7f4(0x62d)]('\x20');let _0x597ed5='',_0x3ea73e=_0xf800c8;for(let _0x2c7e36=0x0;_0x2c7e36<_0x588462['length'];_0x2c7e36++){const _0x1269d7=_0x597ed5+(_0x597ed5?'\x20':'')+_0x588462[_0x2c7e36];_0x1bb463[_0x10a7f4(0x3c0)](_0x1269d7,_0x1598dc)>_0x377526?(_0x3952e0[_0x10a7f4(0x401)](_0x597ed5,{'x':_0x57c12d,'y':_0x3ea73e,'size':_0x1598dc,'font':_0x1bb463}),_0x3ea73e-=_0xaf2f4b,_0x597ed5=_0x588462[_0x2c7e36]):_0x597ed5=_0x1269d7;}return _0x597ed5&&(_0x3952e0[_0x10a7f4(0x401)](_0x597ed5,{'x':_0x57c12d,'y':_0x3ea73e,'size':_0x1598dc,'font':_0x1bb463}),_0x3ea73e-=_0xaf2f4b),_0x3ea73e;}let _0x4cb019=0x3c,_0x205268=(_0x51ba0f-_0x222374*0x2)*0.25,_0x2c6932=(_0x51ba0f-_0x222374*0x2)*0.5,_0xadd974=(_0x51ba0f-_0x222374*0x2)*0.25,_0x396ba3=_0x222374,_0x429047=_0x222374+_0x205268,_0x3f0db4=_0x222374+_0x205268+_0x2c6932,_0x2356b3=_0x4f9100-_0x4cb019;if(setLogoUrl)try{const _0x3e19b0=setLogoUrl[_0x47ffe9(0x62d)](',')[0x1],_0x22caa7=Uint8Array['from'](atob(_0x3e19b0),_0x4db7d0=>_0x4db7d0['charCodeAt'](0x0));let _0x3f59a2;try{_0x3f59a2=await _0x2c700d[_0x47ffe9(0x565)](_0x22caa7);}catch(_0x4c8c73){try{_0x3f59a2=await _0x2c700d[_0x47ffe9(0x45b)](_0x22caa7);}catch(_0x28b682){throw new Error('Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.');}}const _0x55443b=_0x205268*0.8,_0x2e3d45=_0x3f59a2[_0x47ffe9(0x3e3)],_0x4e4d1d=_0x55443b/_0x2e3d45,_0x43fb63=_0x3f59a2[_0x47ffe9(0x57c)](_0x4e4d1d),_0x1c021a=_0x396ba3+(_0x205268-_0x43fb63['width'])/0x2,_0x2ee706=_0x2356b3+(_0x4cb019-_0x43fb63[_0x47ffe9(0x575)])/0x2;_0x3952e0[_0x47ffe9(0x505)](_0x3f59a2,{'x':_0x1c021a,'y':_0x2ee706,'width':_0x43fb63[_0x47ffe9(0x3e3)],'height':_0x43fb63['height']});}catch(_0x43f9c6){console[_0x47ffe9(0x590)](_0x47ffe9(0x585),_0x43f9c6);}let _0x4c5e0a=_0x4f9100-0xa;const _0x27f97d=0xc;setEmpresaNombre&&(_0x4c5e0a=_0x26d3e6(setEmpresaNombre,_0x429047,_0x4c5e0a,_0x2c6932,_0x4cb019,_0x113e3d,0x9,_0x27f97d));_0x13292e&&(_0x4c5e0a=_0x26d3e6(_0x13292e,_0x429047,_0x4c5e0a,_0x2c6932,_0x4cb019,_0x4f50ee,0x8,_0x27f97d));setEmpresaEmail&&(_0x4c5e0a=_0x26d3e6(setEmpresaEmail,_0x429047,_0x4c5e0a,_0x2c6932,_0x4cb019,_0x4f50ee,0x8,_0x27f97d));setEmpresaTelefono&&(_0x4c5e0a=_0x26d3e6(setEmpresaTelefono,_0x429047,_0x4c5e0a,_0x2c6932,_0x4cb019,_0x4f50ee,0x8,_0x27f97d));setEmpresaSitioWeb&&(_0x4c5e0a=_0x26d3e6(setEmpresaSitioWeb,_0x429047,_0x4c5e0a,_0x2c6932,_0x4cb019,_0x4f50ee,0x8,_0x27f97d));const _0x53232d=0x5;col3TopHeight=_0x4cb019*0.5,col3BottomHeight=_0x4cb019*0.5;const _0x41ea6a=_0x2356b3+col3TopHeight+_0x53232d;_0x397919(_0x2719a6?_0x2719a6[_0x47ffe9(0x4a0)]():'',setEmpresaRuc||'',_0x3f0db4,_0x41ea6a,_0xadd974,col3BottomHeight,0x9);const _0x521113=_0xadd974*0.5,_0x24461a=col3TopHeight;_0x303372(_0x47ffe9(0x47f),setSerie?setSerie[_0x47ffe9(0x4a0)]():'',_0x3f0db4,_0x2356b3,_0x521113,_0x24461a,0x9,0x5),_0x303372('Nº',setCorrelativo?String(setCorrelativo):'',_0x3f0db4+_0x521113,_0x2356b3,_0x521113,_0x24461a,0x9,0x0),_0x4f9100=_0x2356b3;const _0x432883=0x14;_0x4f9100-=_0x432883;let _0x3d3cbf=0x64,_0x394afc=_0x4f9100-_0x3d3cbf,_0x2de1da=(_0x51ba0f-_0x222374*0x2)*0.75,_0x3f59b2=(_0x51ba0f-_0x222374*0x2)*0.25,_0x34a88b=_0x222374,_0x15d787=_0x222374+_0x2de1da;const _0x5c935e=0xe,_0xe66bd9=_0x2de1da*0.2;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x34a88b,'y':_0x394afc+(_0x3d3cbf-_0x5c935e),'width':_0xe66bd9,'height':_0x5c935e,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x1fd385=_0x47ffe9(0x4aa),_0x4814ea=0x9,_0x506e89=_0x38a54c(_0x4f50ee,_0x1fd385,_0x4814ea),_0x31a403=_0x34a88b+(_0xe66bd9-_0x506e89)/0x2,_0x53aabd=_0x394afc+_0x3d3cbf-_0x5c935e+(_0x5c935e-_0x4814ea)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x1fd385,{'x':_0x31a403,'y':_0x53aabd,'size':_0x4814ea,'font':_0x4f50ee,'color':_0x3bea05});const _0x2207ae=_0x3d3cbf-_0x5c935e;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x34a88b,'y':_0x394afc,'width':_0x2de1da-0x5,'height':_0x2207ae,'color':_0x3bea05,'borderColor':_0x8ce21d,'borderWidth':0x1});let _0x3d5ccf=_0x394afc+_0x2207ae-0xa;const _0x215a5e=0xc,_0x19f1ca=_0x2de1da-0x5-0xa,_0x503713=_0x19f1ca*0.17,_0x75afc5=_0x19f1ca*0.02,_0x4e0278=_0x19f1ca*0.81;function _0x531511(_0x2b7d21,_0x5a4ead,_0xc2df0b,_0x5ed0d4,_0x46bb91,_0x5144aa,_0x590aff){const _0x5d8f45=_0x47ffe9,_0x35167d=_0x2b7d21['split']('\x20');let _0x252fdc='',_0x389ad7=_0xc2df0b;for(let _0x3f3d21=0x0;_0x3f3d21<_0x35167d[_0x5d8f45(0x301)];_0x3f3d21++){const _0x4338b2=_0x252fdc+(_0x252fdc?'\x20':'')+_0x35167d[_0x3f3d21];_0x46bb91['widthOfTextAtSize'](_0x4338b2,_0x5144aa)>_0x5ed0d4?(_0x3952e0[_0x5d8f45(0x401)](_0x252fdc,{'x':_0x5a4ead,'y':_0x389ad7,'size':_0x5144aa,'font':_0x46bb91,'color':_0x590aff}),_0x389ad7-=_0x215a5e,_0x252fdc=_0x35167d[_0x3f3d21]):_0x252fdc=_0x4338b2;}return _0x252fdc&&(_0x3952e0[_0x5d8f45(0x401)](_0x252fdc,{'x':_0x5a4ead,'y':_0x389ad7,'size':_0x5144aa,'font':_0x46bb91,'color':_0x590aff}),_0x389ad7-=_0x215a5e),_0x389ad7;}function _0x1f9537(_0x1dd893,_0x3b49f6){const _0x3e6756=_0x47ffe9;_0x3952e0[_0x3e6756(0x401)](String(_0x1dd893),{'x':_0x34a88b+0x5,'y':_0x3d5ccf,'size':0x8,'font':_0x113e3d,'color':_0x156345}),_0x3952e0[_0x3e6756(0x401)](':',{'x':_0x34a88b+0x5+_0x503713,'y':_0x3d5ccf,'size':0x8,'font':_0x4f50ee,'color':_0x156345}),_0x3d5ccf=_0x531511(String(_0x3b49f6),_0x34a88b+0x5+_0x503713+_0x75afc5,_0x3d5ccf,_0x4e0278,_0x4f50ee,0x8,_0x156345);}setClienteTipoDoc&&setClienteNumDoc&&_0x1f9537(setClienteTipoDoc,setClienteNumDoc);setClienteDenominacion&&_0x1f9537(_0x4f63fc,setClienteDenominacion);setClienteDireccion&&_0x1f9537('Dirección',setClienteDireccion);_0x3c6d22&&_0x1f9537('Teléfono',_0x3c6d22);_0x4805b9&&_0x1f9537(_0x47ffe9(0x31a),_0x4805b9);_0x1afa24&&_0x1f9537(_0x47ffe9(0x1c7),_0x1afa24);let _0x4672a8=col3TopHeight;const _0x4987e8=0x5,_0xf83ae0=_0x394afc+(_0x3d3cbf-_0x4672a8);_0x397919(_0x47ffe9(0x52f),_0x587b10||'',_0x15d787,_0xf83ae0,_0x3f59b2,_0x4672a8,0x9);const _0x1a230c=_0xf83ae0-_0x4987e8-_0x4672a8;let _0x53050d='';if(_0x2c6d77[_0x47ffe9(0x259)])_0x53050d=_0x47ffe9(0x275);if(_0x1f6607[_0x47ffe9(0x259)])_0x53050d=_0x47ffe9(0x3d4);if(_0x124c71[_0x47ffe9(0x259)])_0x53050d='Mixto';_0x397919(_0x47ffe9(0x5e0),''+_0x53050d,_0x15d787,_0x1a230c,_0x3f59b2,_0x4672a8,0x9);const _0x46ea0a=_0x1a230c-_0x4987e8-_0x4672a8;let _0x1b29e7=_0x3d99c3||'';_0x397919(_0x47ffe9(0x93),''+_0x1b29e7,_0x15d787,_0x46ea0a,_0x3f59b2,_0x4672a8,0x9),_0x4f9100=_0x394afc,_0x4f9100-=0x14;const _0x1f9c9e=_0x4f9100,_0x771659=[_0x47ffe9(0x447),_0x47ffe9(0x2f2),_0x47ffe9(0x88),_0x47ffe9(0x63c),_0x47ffe9(0x627),_0x47ffe9(0x594)];_0x4f9100=_0x5dfddd(_0x771659,[],_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xe,!![]);if(_0xebb3e6==0x1){const _0x2ae2fe=['1','UND','',_0x47ffe9(0x102),parseFloat(_0x48b3e6)[_0x47ffe9(0x35c)](0x2),parseFloat(_0x48b3e6)[_0x47ffe9(0x35c)](0x2)];_0x4f9100=_0x5dfddd([],_0x2ae2fe,_0x4f9100,_0x4f50ee,0x8,_0x51ba0f,_0x222374,0xc,![]),_0x4f9100-=0x5;}else setProductos['forEach'](_0x41000c=>{const _0x1c0ca2=_0x47ffe9;let {setCodProducto:setCodProducto='',setDescripcion:_0x2de357,setCantidad:_0x498af2,setMtoPrecioUnitario:_0x3da5b9,setTotal:_0x21db7c,setDescuento:_0x2a70cd,setMtoPrecioUnitario_final:_0x5a7892,setUnidad:_0x387e43,setTipAfeIgv:_0x2940b6,setNotas:_0x545b0d,setItemDescription:_0x11b8fe,setMarca:_0x5b3f4b}=_0x41000c;_0x2a70cd&&_0x2a70cd['setPorcentajeDesc']>0x0&&(_0x2de357+='\x20('+_0x2a70cd[_0x1c0ca2(0x226)]+_0x1c0ca2(0x4b7)+_0x163f09+parseFloat(_0x5a7892)[_0x1c0ca2(0x35c)](0x2)+')');(setTipAfeImpGravadosGrat['some'](_0x380d14=>_0x380d14==_0x2940b6)||setTipAfeImpInafectosGrat[_0x1c0ca2(0x3b9)](_0x3a57ff=>_0x3a57ff==_0x2940b6)||setTipAfeImpExoneradosGrat['some'](_0x2ff3b5=>_0x2ff3b5==_0x2940b6))&&(_0x3da5b9=_0x5a7892,setTipAfeImpGravadosGrat[_0x1c0ca2(0x3b9)](_0x25152a=>_0x25152a==_0x2940b6)&&(_0x2de357+='\x20(Gravado\x20Gratuito)'),setTipAfeImpExoneradosGrat[_0x1c0ca2(0x3b9)](_0x5b09c0=>_0x5b09c0==_0x2940b6)&&(_0x2de357+=_0x1c0ca2(0x325)),setTipAfeImpInafectosGrat[_0x1c0ca2(0x3b9)](_0x5df4d1=>_0x5df4d1==_0x2940b6)&&(_0x2de357+=_0x1c0ca2(0x2b1)));_0x545b0d&&(_0x2de357+=_0x1c0ca2(0x630)+_0x545b0d);_0x10dfed==0x1&&_0x11b8fe!=''&&(_0x2de357+=_0x1c0ca2(0x159)+_0x11b8fe);_0x456956==0x1&&_0x5b3f4b!=''&&(_0x2de357+=_0x1c0ca2(0x520)+_0x5b3f4b);let _0x4b6228=products[_0x1c0ca2(0x54e)](_0xd6bf1d=>_0xd6bf1d['id']==_0x41000c['setIdProducto']);_0x1d870c==0x1&&_0x4b6228&&_0x4b6228['setBatchName']&&(_0x2de357+=_0x1c0ca2(0x4ab)+_0x4b6228['setBatchName']);_0x408800==0x1&&_0x4b6228&&_0x4b6228[_0x1c0ca2(0x479)]&&(_0x2de357+=_0x1c0ca2(0x577)+_0x4b6228[_0x1c0ca2(0x479)]);const _0x2212e4=[String(_0x498af2||'1'),String(_0x387e43+'.'||''),String(setCodProducto),_0x2de357,parseFloat(_0x3da5b9)[_0x1c0ca2(0x35c)](0x2),parseFloat(_0x21db7c)[_0x1c0ca2(0x35c)](0x2)];_0x4f9100=_0x5dfddd([],_0x2212e4,_0x4f9100,_0x4f50ee,0x8,_0x51ba0f,_0x222374,0xc,![]),_0x4f9100-=0x5;});_0x4f9100-=0xa;if(parseFloat(_0x4e8e48)>0x0){const _0x38afb1=['','','','',_0x47ffe9(0xca)+_0x163f09+')',''+_0x4e8e48];_0x4f9100=_0x5dfddd([],_0x38afb1,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}if(parseFloat(_0x4247e8)>0x0){const _0x3ba16f=['','','','',_0x47ffe9(0x14e)+_0x163f09+')',''+_0x4247e8];_0x4f9100=_0x5dfddd([],_0x3ba16f,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}if(setTipoOperacion!='1'&&setTipoOperacion!='2'){if(parseFloat(_0x80a785)>0x0){const _0x1a162a=['','','','',_0x47ffe9(0x1e2)+_0x163f09+')',''+_0x80a785];_0x4f9100=_0x5dfddd([],_0x1a162a,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}if(parseFloat(_0x284d2c)>0x0){const _0x4f7f34=['','','','',_0x47ffe9(0x118)+_0x163f09+')',''+_0x284d2c];_0x4f9100=_0x5dfddd([],_0x4f7f34,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],'totals'),_0x4f9100-=0x2;}if(parseFloat(_0x49ae54)>0x0){const _0x3f6eae=['','','','','Op.\x20Inafectas\x20('+_0x163f09+')',''+_0x49ae54];_0x4f9100=_0x5dfddd([],_0x3f6eae,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],'totals'),_0x4f9100-=0x2;}if(parseFloat(_0x717811)>0x0){const _0x20fd47=['','','','','Op.\x20Gratuitas\x20('+_0x163f09+')',''+_0x717811];_0x4f9100=_0x5dfddd([],_0x20fd47,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}if(parseFloat(_0x41f936)>0x0){const _0xa9dc17=['','','','',_0x47ffe9(0x244)+_0x163f09+')',''+_0x41f936];_0x4f9100=_0x5dfddd([],_0xa9dc17,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}{const _0x5e37b4=['','','','',_0x47ffe9(0x639)+_0x163f09+')',''+_0x216ff6];_0x4f9100=_0x5dfddd([],_0x5e37b4,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}{const _0x22009f=['','','','','IGV\x20('+_0x163f09+')',''+_0x277ac9];_0x4f9100=_0x5dfddd([],_0x22009f,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}}{const _0x15b97d=['','','','','Total\x20('+_0x163f09+')',''+_0x48b3e6];_0x4f9100=_0x5dfddd([],_0x15b97d,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],'totals'),_0x4f9100-=0x2;}if(_0x2c881e==0x1){const _0x4872c4=['','','','','Total\x20Detracción\x20('+_0x44324d+_0x47ffe9(0x5e6)+_0x163f09+')',''+_0x9aec04];_0x4f9100=_0x5dfddd([],_0x4872c4,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],_0x47ffe9(0x8b)),_0x4f9100-=0x2;}if(_0x5cfe83==0x1){const _0x440cc6=['','','','',_0x47ffe9(0x50c)+_0x14c04d+_0x47ffe9(0x5e6)+_0x163f09+')',''+_0x3c03f5];_0x4f9100=_0x5dfddd([],_0x440cc6,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],'totals'),_0x4f9100-=0x2;}if(_0x5242ba==0x1){const _0x40de27=['','','','',_0x47ffe9(0x4ea)+_0x4f1ffb+'%)\x20('+_0x163f09+')',''+_0x9ad991];_0x4f9100=_0x5dfddd([],_0x40de27,_0x4f9100,_0x113e3d,0x8,_0x51ba0f,_0x222374,0xc,![],'totals'),_0x4f9100-=0x2;}const _0x4766cf=_0x4f9100,_0x2b8d61=_0x51ba0f-_0x222374*0x2,_0x563793=_0x1f9c9e-_0x4766cf+0x3;_0x3952e0['drawLine']({'start':{'x':_0x222374,'y':_0x4766cf-0x3},'end':{'x':_0x222374,'y':_0x4766cf-0x3+_0x563793},'thickness':0x1,'color':_0xeb7e4b}),_0x3952e0['drawLine']({'start':{'x':_0x222374,'y':_0x4766cf-0x3},'end':{'x':_0x222374+_0x2b8d61,'y':_0x4766cf-0x3},'thickness':0x1,'color':_0xeb7e4b}),_0x3952e0[_0x47ffe9(0xc0)]({'start':{'x':_0x222374+_0x2b8d61,'y':_0x4766cf-0x3},'end':{'x':_0x222374+_0x2b8d61,'y':_0x4766cf-0x3+_0x563793},'thickness':0x1,'color':_0xeb7e4b}),_0x4f9100=_0x4766cf-0x3-0xa;const _0x516c1b=_0x222374+_0x2b8d61*0.85;_0x3952e0[_0x47ffe9(0xc0)]({'start':{'x':_0x516c1b,'y':_0x1f9c9e},'end':{'x':_0x516c1b,'y':_0x4766cf-0x3},'thickness':0x1,'color':_0xeb7e4b});const _0x11511b=_0x51ba0f-_0x222374*0x2,_0x2b294c=0x5,_0x33dd93=_0x11511b-_0x2b294c,_0x159b17=_0x33dd93*0.8,_0x414715=_0x33dd93*0.2,_0x3a7056=_0x222374,_0x30b90c=_0x3a7056+_0x159b17+_0x2b294c,_0x19ea8c=_0x4f9100,_0x45a4c4=0xe,_0x1acff3=0x5,_0x9c3c18=myCompany[_0x47ffe9(0x3a4)],_0x276fda=Math[_0x47ffe9(0x1ac)](_0x9c3c18[_0x47ffe9(0x301)]/0x2),_0x5cc3e9=0xe,_0x5dc9b4=_0x276fda*_0x5cc3e9,_0x2de7af=_0x45a4c4+_0x5dc9b4;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x3a7056,'y':_0x19ea8c-_0x45a4c4,'width':_0x159b17,'height':_0x45a4c4,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x2a57c9=_0x47ffe9(0x194),_0x37f123=(_0x45a4c4-0x8)/0x2;_0x3952e0[_0x47ffe9(0x401)](_0x2a57c9,{'x':_0x3a7056+_0x1acff3,'y':_0x19ea8c-_0x45a4c4+_0x37f123,'size':0x8,'font':_0x113e3d,'color':_0x3bea05});const _0x5f369e=(_0x387c1f,_0x482374=0x10)=>{const _0x5a6d3b=_0x47ffe9;return _0x387c1f['length']>_0x482374?_0x387c1f[_0x5a6d3b(0x1d2)](0x0,_0x482374)+'...':_0x387c1f;},_0x4550bb=_0x159b17/0x4;for(let _0x213790=0x0;_0x213790<_0x276fda;_0x213790++){const _0x5c852f=_0x9c3c18[0x2*_0x213790],_0x39a704=_0x9c3c18[0x2*_0x213790+0x1],_0x1e6f1d=_0x19ea8c-_0x45a4c4-_0x213790*_0x5cc3e9,_0x19d213=(_0x5cc3e9-0x8)/0x2;if(_0x5c852f){const _0x2f1de4=_0x5f369e(_0x5c852f['setBankName'][_0x47ffe9(0x4a0)]())+(_0x5c852f[_0x47ffe9(0x4fa)]=='PEN'?_0x47ffe9(0x2dd):'\x20('+_0x5c852f[_0x47ffe9(0x4fa)]+')'),_0x5c8f54='N\x20'+_0x5c852f['setBankNumber'];_0x2f8f66(_0x2f1de4,_0x3a7056+_0x1acff3,_0x1e6f1d-_0x5cc3e9+_0x19d213,_0x4550bb-_0x1acff3,_0x4f50ee,0x8,_0x5cc3e9),_0x2f8f66(_0x5c8f54,_0x3a7056+_0x4550bb+0x2,_0x1e6f1d-_0x5cc3e9+_0x19d213,_0x4550bb-0x2,_0x4f50ee,0x8,_0x5cc3e9);}if(_0x39a704){const _0x493df8=_0x5f369e(_0x39a704['setBankName'][_0x47ffe9(0x4a0)]())+(_0x39a704[_0x47ffe9(0x4fa)]==_0x47ffe9(0x281)?_0x47ffe9(0x2dd):'\x20('+_0x39a704['setBankCurrency']+')'),_0x1292c9='N\x20'+_0x39a704['setBankNumber'];_0x2f8f66(_0x493df8,_0x3a7056+_0x4550bb*0x2+0x2,_0x1e6f1d-_0x5cc3e9+_0x19d213,_0x4550bb-0x2,_0x4f50ee,0x8,_0x5cc3e9),_0x2f8f66(_0x1292c9,_0x3a7056+_0x4550bb*0x3+0x2,_0x1e6f1d-_0x5cc3e9+_0x19d213,_0x4550bb-0x2,_0x4f50ee,0x7,_0x5cc3e9);}}const _0x21140c=[setEmpresaRuc,setSerie,setCorrelativo,_0x80a785>0x0?_0x80a785:null,_0x284d2c>0x0?_0x284d2c:null,_0x49ae54>0x0?_0x49ae54:null,_0x717811>0x0?_0x717811:null,_0x277ac9>0x0?_0x277ac9:null,_0x48b3e6>0x0?_0x48b3e6:null,setClienteNumDoc],_0x1fd45f=_0x21140c[_0x47ffe9(0x41f)](_0x586b2e=>_0x586b2e!==null)[_0x47ffe9(0x2fb)]('|'),_0x5f0031=document[_0x47ffe9(0x28c)](_0x47ffe9(0x50f));new QRCode(_0x5f0031,{'text':_0x1fd45f,'width':0x80,'height':0x80,'colorDark':_0x47ffe9(0x2b5),'colorLight':_0x47ffe9(0x1c1),'correctLevel':QRCode[_0x47ffe9(0x608)]['H']}),await new Promise(_0x27dfb4=>setTimeout(_0x27dfb4,0x1f4));const _0x3fe104=_0x5f0031[_0x47ffe9(0x3ef)](_0x47ffe9(0x10c)),_0x2d82af=_0x3fe104[_0x47ffe9(0x230)](_0x47ffe9(0x269)),_0x3c32d5=atob(_0x2d82af['split'](',')[0x1]),_0x4644e6=Uint8Array[_0x47ffe9(0x2b9)](_0x3c32d5,_0x2ea7c3=>_0x2ea7c3[_0x47ffe9(0x3ae)](0x0)),_0x32209f=await _0x2c700d['embedPng'](_0x4644e6),_0x4855e5=_0x32209f[_0x47ffe9(0x57c)](0.8),_0x4b5ad0=_0x30b90c+_0x414715-_0x4855e5[_0x47ffe9(0x3e3)],_0x304d16=_0x19ea8c-_0x4855e5['height'];_0x3952e0[_0x47ffe9(0x505)](_0x32209f,{'x':_0x4b5ad0,'y':_0x304d16,'width':_0x4855e5['width'],'height':_0x4855e5[_0x47ffe9(0x575)]});const _0x58474c=Math[_0x47ffe9(0x1dd)](_0x2de7af,_0x4855e5[_0x47ffe9(0x575)]);_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x3a7056,'y':_0x19ea8c-_0x58474c,'width':_0x159b17,'height':_0x58474c,'borderColor':_0x8ce21d,'borderWidth':0x1}),_0x4f9100=Math[_0x47ffe9(0x56d)](_0x19ea8c-_0x58474c,_0x304d16)-0x5;const _0x58d202=_0x51ba0f-_0x222374*0x2,_0x56cbc5=0x5,_0x55d1d3=_0x58d202-_0x56cbc5,_0x39eeb8=_0x55d1d3*0.8,_0x9d16e7=_0x55d1d3*0.2,_0x4ccfe9=_0x222374,_0x30baa9=_0x4ccfe9+_0x39eeb8+_0x56cbc5,_0xf6d617=_0x4f9100,_0x5b9cb7=0x8,_0x53b597=0x5,_0x4d838c=0xe,_0x389980=_0x39eeb8/0x2;let _0x1633a4='',_0x2ea0eb='',_0x2b57d2=[],_0x141248=[];if(_0x124c71[_0x47ffe9(0x259)]==!![]){_0x1633a4=_0x47ffe9(0x62e),_0x2ea0eb=_0x47ffe9(0x22f);for(let _0x3da30c in _0x2c6d77[_0x47ffe9(0x166)]){if(_0x3da30c=='vuelto'||_0x3da30c==_0x47ffe9(0x221))continue;const _0x525d2c=_0x2c6d77[_0x47ffe9(0x166)][_0x3da30c];if(_0x525d2c&&typeof _0x525d2c==_0x47ffe9(0x8f)&&_0x47ffe9(0x551)in _0x525d2c){const _0x543a38=parseFloat(_0x525d2c[_0x47ffe9(0x197)]);if(_0x543a38>0x0){_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x3da30c[_0x47ffe9(0x4a0)](),'value':_0x163f09+'\x20'+_0x543a38[_0x47ffe9(0x35c)](0x2)});if(_0x47ffe9(0xfd)in _0x525d2c&&_0x47ffe9(0x3f1)in _0x525d2c){const _0x2f550e=_0x525d2c[_0x47ffe9(0xfd)],_0x661cef=parseFloat(_0x525d2c[_0x47ffe9(0x3f1)]);_0x2f550e!==undefined&&_0x661cef!==undefined&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x46f)+_0x2f550e+'%)','value':_0x163f09+'\x20'+_0x661cef[_0x47ffe9(0x35c)](0x2)});}if(_0x525d2c['banco']&&_0x525d2c[_0x47ffe9(0x39c)]!='0'){const _0x290266=myCompany[_0x47ffe9(0x3a4)][_0x47ffe9(0x54e)](_0x402d24=>_0x402d24[_0x47ffe9(0x562)]==_0x525d2c[_0x47ffe9(0x39c)]);_0x290266&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0xa6),'value':_0x290266[_0x47ffe9(0x497)]});}_0x525d2c[_0x47ffe9(0x42e)]&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':'Nº\x20Operación','value':_0x525d2c[_0x47ffe9(0x42e)]});}}}parseFloat(_0x2c6d77[_0x47ffe9(0x166)]['vuelto'])>0x0&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x392),'value':_0x163f09+'\x20'+parseFloat(_0x2c6d77[_0x47ffe9(0x166)][_0x47ffe9(0x268)])[_0x47ffe9(0x35c)](0x2)});let _0xddc9db=_0x1f6607['status']==!![]?parseFloat(_0x48b3e6):parseFloat(_0x2c6d77[_0x47ffe9(0x166)][_0x47ffe9(0x221)]);_0x141248[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x375),'value':_0x163f09+'\x20'+_0xddc9db['toFixed'](0x2)}),_0x141248[_0x47ffe9(0x454)]({'desc':'Nº\x20de\x20cuotas','value':_0x1f6607[_0x47ffe9(0x166)]['length']+_0x47ffe9(0xde)}),_0x141248['push']({'desc':_0x47ffe9(0x280),'value':''}),_0x1f6607[_0x47ffe9(0x166)][_0x47ffe9(0x55b)](_0x5e7a00=>{const _0x4b2bfa=_0x47ffe9;_0x141248['push']({'desc':_0x4b2bfa(0x5f5)+_0x5e7a00[_0x4b2bfa(0x633)],'value':_0x5e7a00['fechaVencimiento']+'\x20|\x20'+parseFloat(_0x5e7a00['monto'])[_0x4b2bfa(0x35c)](0x2)});});}else{if(_0x2c6d77[_0x47ffe9(0x259)]==!![]){_0x1633a4=_0x47ffe9(0x62e),_0x2ea0eb='';for(let _0x334fa7 in _0x2c6d77[_0x47ffe9(0x166)]){if(_0x334fa7==_0x47ffe9(0x268)||_0x334fa7==_0x47ffe9(0x221))continue;const _0x4f98a7=_0x2c6d77[_0x47ffe9(0x166)][_0x334fa7];if(_0x4f98a7&&typeof _0x4f98a7==_0x47ffe9(0x8f)&&_0x47ffe9(0x551)in _0x4f98a7){const _0x34639c=parseFloat(_0x4f98a7[_0x47ffe9(0x197)]);if(_0x34639c>0x0){_0x2b57d2['push']({'desc':_0x334fa7['toUpperCase'](),'value':_0x163f09+'\x20'+_0x34639c[_0x47ffe9(0x35c)](0x2)});if(_0x47ffe9(0xfd)in _0x4f98a7&&_0x47ffe9(0x3f1)in _0x4f98a7){const _0x10e9ad=_0x4f98a7[_0x47ffe9(0xfd)],_0x436e79=parseFloat(_0x4f98a7['total_comision']);_0x10e9ad!==undefined&&_0x436e79!==undefined&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':'Comisión\x20('+_0x10e9ad+'%)','value':_0x163f09+'\x20'+_0x436e79[_0x47ffe9(0x35c)](0x2)});}if(_0x4f98a7['banco']&&_0x4f98a7['banco']!='0'){const _0x1a4f18=myCompany['setBankAccounts']['find'](_0x5f24c0=>_0x5f24c0[_0x47ffe9(0x562)]==_0x4f98a7[_0x47ffe9(0x39c)]);_0x1a4f18&&_0x2b57d2['push']({'desc':_0x47ffe9(0xa6),'value':_0x1a4f18[_0x47ffe9(0x497)]});}_0x4f98a7[_0x47ffe9(0x42e)]&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x571),'value':_0x4f98a7[_0x47ffe9(0x42e)]});}}}parseFloat(_0x2c6d77['data'][_0x47ffe9(0x268)])>0x0&&_0x2b57d2[_0x47ffe9(0x454)]({'desc':'Vuelto:','value':_0x163f09+'\x20'+parseFloat(_0x2c6d77[_0x47ffe9(0x166)]['vuelto'])['toFixed'](0x2)});}else{if(_0x1f6607[_0x47ffe9(0x259)]==!![]){_0x1633a4=_0x47ffe9(0x22f),_0x2ea0eb='';let _0x29df6c=_0x1f6607[_0x47ffe9(0x259)]==!![]?parseFloat(_0x48b3e6):parseFloat(_0x2c6d77[_0x47ffe9(0x166)][_0x47ffe9(0x221)]);_0x2b57d2['push']({'desc':_0x47ffe9(0x375),'value':_0x163f09+'\x20'+_0x29df6c[_0x47ffe9(0x35c)](0x2)}),_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x5f1),'value':_0x1f6607['data'][_0x47ffe9(0x301)]+_0x47ffe9(0xde)}),_0x2b57d2[_0x47ffe9(0x454)]({'desc':_0x47ffe9(0x280),'value':''}),_0x1f6607[_0x47ffe9(0x166)][_0x47ffe9(0x55b)](_0xe679b2=>{const _0x114d64=_0x47ffe9;_0x2b57d2[_0x114d64(0x454)]({'desc':_0x114d64(0x5f5)+_0xe679b2[_0x114d64(0x633)],'value':_0xe679b2[_0x114d64(0x2e8)]+_0x114d64(0x4ab)+parseFloat(_0xe679b2[_0x114d64(0x551)])[_0x114d64(0x35c)](0x2)});});}}}const _0x268a95=Math[_0x47ffe9(0x1dd)](_0x2b57d2[_0x47ffe9(0x301)],_0x141248[_0x47ffe9(0x301)]),_0x9d6718=_0xf6d617-_0x5c935e-0xe;_0x3952e0['drawRectangle']({'x':_0x4ccfe9,'y':_0xf6d617-_0x5c935e,'width':_0x39eeb8,'height':_0x5c935e,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1}),_0x3952e0[_0x47ffe9(0x401)](_0x1633a4,{'x':_0x4ccfe9+_0x53b597,'y':_0xf6d617-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x3bea05});_0x2ea0eb&&_0x3952e0[_0x47ffe9(0x401)](_0x2ea0eb,{'x':_0x4ccfe9+_0x389980+_0x53b597,'y':_0xf6d617-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x3bea05});const _0x52fd26=_0x389980/0x2,_0x30aa18=_0x389980/0x2;for(let _0x291efa=0x0;_0x291efa<_0x268a95;_0x291efa++){const _0x1381cc=_0x9d6718-_0x291efa*_0x4d838c+(_0x4d838c-_0x5b9cb7)/0x2,_0x41b9f9=_0x2b57d2[_0x291efa]||{'desc':'','value':''};_0x3952e0[_0x47ffe9(0x401)](_0x41b9f9[_0x47ffe9(0x21b)],{'x':_0x4ccfe9+_0x53b597,'y':_0x1381cc,'size':_0x5b9cb7,'font':_0x4f50ee}),_0x3952e0['drawText'](_0x41b9f9[_0x47ffe9(0x5dc)],{'x':_0x4ccfe9+_0x52fd26+_0x53b597,'y':_0x1381cc,'size':_0x5b9cb7,'font':_0x4f50ee});if(_0x2ea0eb){const _0x3e4f48=_0x141248[_0x291efa]||{'desc':'','value':''};_0x3952e0[_0x47ffe9(0x401)](_0x3e4f48['desc'],{'x':_0x4ccfe9+_0x389980+_0x53b597,'y':_0x1381cc,'size':_0x5b9cb7,'font':_0x4f50ee}),_0x3952e0[_0x47ffe9(0x401)](_0x3e4f48[_0x47ffe9(0x5dc)],{'x':_0x4ccfe9+_0x389980+_0x30aa18+_0x53b597,'y':_0x1381cc,'size':_0x5b9cb7,'font':_0x4f50ee});}}const _0x3fb915=_0x5c935e+_0x268a95*_0x4d838c+0x4;if(_0x2c881e==0x1){const _0x5e53d9=0xe,_0x5c1717=_0x30baa9,_0x2a31f0=_0x9d16e7,_0x2a4460=0xe,_0x56b06e=_0x53b597;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x5c1717,'y':_0xf6d617-_0x2a4460,'width':_0x2a31f0,'height':_0x2a4460,'color':_0x8ce21d,'borderColor':_0x8ce21d,'borderWidth':0x1}),_0x3952e0[_0x47ffe9(0x401)]('DETRACCIÓN\x20('+_0x44324d+'%)',{'x':_0x5c1717+_0x56b06e,'y':_0xf6d617-_0x2a4460+(_0x2a4460-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x3bea05});const _0x46d8ba=_0x2a31f0-_0x56b06e*0x2;let _0x2ce6e5=_0xf6d617-_0x2a4460-0xe;const _0x2195be=[_0x47ffe9(0x46d)+_0x163f09+'\x20'+_0x9aec04,_0x47ffe9(0x57b)+_0x429395+'\x20'+_0x5eae8c,'Tipo\x20de\x20Operación:\x201001\x20Operación\x20Sujeta\x20a\x20Detracción'];let _0x2dad63=_0x2ce6e5;for(let _0x1c33b6=0x0;_0x1c33b6<_0x2195be['length'];_0x1c33b6++){_0x2dad63=_0x2f8f66(_0x2195be[_0x1c33b6],_0x5c1717+_0x56b06e,_0x2ce6e5,_0x46d8ba,_0x4f50ee,_0x5b9cb7,_0x5e53d9),_0x2ce6e5=_0x2dad63-0x2;}const _0x51f32e=_0xf6d617-_0x2a4460-0x4-_0x2dad63,_0x4a83f4=_0x2a4460+0x4+_0x51f32e;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x5c1717,'y':_0xf6d617-_0x4a83f4,'width':_0x2a31f0,'height':_0x4a83f4,'borderColor':_0x8ce21d,'borderWidth':0x1});const _0x1c5b86=Math[_0x47ffe9(0x1dd)](_0x3fb915,_0x4a83f4);_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x4ccfe9,'y':_0xf6d617-_0x1c5b86,'width':_0x39eeb8,'height':_0x1c5b86,'borderColor':_0x8ce21d,'borderWidth':0x1}),_0x4f9100=_0xf6d617-_0x1c5b86-0x5;}else _0x3952e0['drawRectangle']({'x':_0x4ccfe9,'y':_0xf6d617-_0x3fb915,'width':_0x39eeb8,'height':_0x3fb915,'borderColor':_0x8ce21d,'borderWidth':0x1}),_0x4f9100=_0xf6d617-_0x3fb915-0x5;const _0x69ac35=_0x39eeb8+_0x9d16e7,_0x37725c=_0x69ac35*0.4,_0x3980a8=_0x69ac35*0.6;if(setObservacion!=''||_0x4acdfe!=''){let _0x34dae0=_0x4f9100;_0x3952e0['drawRectangle']({'x':_0x4ccfe9,'y':_0x34dae0-_0x5c935e,'width':_0x69ac35,'height':_0x5c935e,'color':_0x3c9026,'borderColor':_0x3c9026,'borderWidth':0x1}),_0x3952e0[_0x47ffe9(0x401)](_0x47ffe9(0xf6),{'x':_0x4ccfe9+_0x53b597,'y':_0x34dae0-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x156345}),_0x3952e0[_0x47ffe9(0x401)](_0x4fd000,{'x':_0x4ccfe9+_0x37725c+_0x53b597,'y':_0x34dae0-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x156345});const _0x4e59a3=_0x34dae0-_0x5c935e-_0x2a3117,_0x830ce1=_0x4e59a3-_0x5b9cb7;let _0x27ed94=_0x2f8f66(setObservacion,_0x4ccfe9+_0x53b597,_0x830ce1,_0x37725c-_0x53b597*0x2,_0x4f50ee,_0x5b9cb7,_0x473a43),_0x4d9043=_0x4e59a3-_0x27ed94,_0xd9d648=_0x4e59a3;for(let _0x28882a=0x0;_0x28882a<_0x1ee90e[_0x47ffe9(0x301)];_0x28882a++){_0x3952e0[_0x47ffe9(0x401)](_0x1ee90e[_0x28882a],{'x':_0x4ccfe9+_0x37725c+_0x53b597,'y':_0xd9d648-(_0x473a43-_0x5b9cb7),'size':_0x5b9cb7,'font':_0x4f50ee}),_0xd9d648-=_0x473a43;}let _0x58a6ba=_0x4e59a3-_0xd9d648,_0xc53b6b=Math[_0x47ffe9(0x1dd)](_0x4d9043,_0x58a6ba),_0x33be61=_0x5c935e+_0x2a3117+_0xc53b6b;_0x3952e0['drawRectangle']({'x':_0x4ccfe9,'y':_0x34dae0-_0x33be61,'width':_0x69ac35,'height':_0x33be61,'borderColor':_0x3c9026,'borderWidth':0x1}),_0x4f9100=_0x34dae0-_0x33be61-0x5;}if(setTipoOperacion=='3'||setTipoOperacion=='4'){let _0x40ace1=_0x4f9100;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x4ccfe9,'y':_0x40ace1-_0x5c935e,'width':_0x69ac35,'height':_0x5c935e,'color':_0x3c9026,'borderColor':_0x3c9026,'borderWidth':0x1}),_0x3952e0[_0x47ffe9(0x401)](_0x47ffe9(0x3df),{'x':_0x4ccfe9+_0x53b597,'y':_0x40ace1-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x156345}),_0x3952e0[_0x47ffe9(0x401)](_0x47ffe9(0x381),{'x':_0x4ccfe9+_0x37725c+_0x53b597,'y':_0x40ace1-_0x5c935e+(_0x5c935e-_0x5b9cb7)/0x2,'size':_0x5b9cb7,'font':_0x113e3d,'color':_0x156345});const _0x254105=setUrlConsultasCpe,_0x35993b='AUTORIZADO\x20MEDIANTE\x20RESOLUCION\x20NRO\x200340050005929/SUNAT',_0x39a3d2=_0x254105[_0x47ffe9(0x62d)]('\x0a'),_0x48f372=_0x35993b[_0x47ffe9(0x62d)]('\x0a'),_0x3cd3b1=_0x39a3d2[_0x47ffe9(0x301)]*_0x473a43,_0xf0bb3e=_0x48f372[_0x47ffe9(0x301)]*_0x473a43,_0x5d7b70=Math['max'](_0x3cd3b1,_0xf0bb3e);let _0x288533=_0x5c935e+_0x2a3117+_0x5d7b70;_0x3952e0[_0x47ffe9(0x3b6)]({'x':_0x4ccfe9,'y':_0x40ace1-_0x288533,'width':_0x69ac35,'height':_0x288533,'borderColor':_0x3c9026,'borderWidth':0x1});let _0x1eb3c3=_0x40ace1-_0x288533,_0xe85868=_0x1eb3c3+_0x3cd3b1,_0x4f755c=_0x1eb3c3+_0xf0bb3e;for(let _0x49999f=0x0;_0x49999f<_0x39a3d2[_0x47ffe9(0x301)];_0x49999f++){_0x3952e0['drawText'](_0x39a3d2[_0x49999f],{'x':_0x4ccfe9+_0x53b597,'y':_0xe85868-_0x49999f*_0x473a43-(_0x473a43-_0x5b9cb7),'size':_0x5b9cb7,'font':_0x4f50ee});}for(let _0x3434b8=0x0;_0x3434b8<_0x48f372['length'];_0x3434b8++){_0x3952e0[_0x47ffe9(0x401)](_0x48f372[_0x3434b8],{'x':_0x4ccfe9+_0x37725c+_0x53b597,'y':_0x4f755c-_0x3434b8*_0x473a43-(_0x473a43-_0x5b9cb7),'size':_0x5b9cb7,'font':_0x4f50ee});}_0x4f9100=_0x40ace1-_0x288533-0xa;}else _0x4f9100-=0xa;}}return _0x4f9100;}function imprimirPdf(){const _0x371071=_0x36d314,_0x1d0aad=document[_0x371071(0x442)](_0x371071(0x61e))[_0x371071(0x5dc)],{pdfGlobalPayload:_0x47bce7,pdfGlobalBlob:_0xfb63a9,pdfGlobalName:_0x4c1a75}=getLastOperationGlobalData(_0x1d0aad);if(!_0xfb63a9){ntfShow(_0x371071(0x136));return;}const _0x409b5b=URL[_0x371071(0x548)](_0xfb63a9),_0xb36973=window[_0x371071(0x18b)](_0x409b5b,_0x371071(0x3b1));_0xb36973[_0x371071(0xd6)]=()=>{const _0x2d8887=_0x371071;_0xb36973[_0x2d8887(0x302)](),_0xb36973[_0x2d8887(0x494)](),URL['revokeObjectURL'](_0x409b5b);};}function descargarPdf(){const _0x4bf914=_0x36d314,_0x19abbd=document[_0x4bf914(0x442)](_0x4bf914(0x61e))[_0x4bf914(0x5dc)],{pdfGlobalPayload:_0x5a7349,pdfGlobalBlob:_0x57bf64,pdfGlobalName:_0x48835f}=getLastOperationGlobalData(_0x19abbd);if(!_0x57bf64){ntfShow(_0x4bf914(0x136));return;}const _0x1a7bac=URL[_0x4bf914(0x548)](_0x57bf64),_0x5c4db3=document['createElement']('a');_0x5c4db3[_0x4bf914(0x5af)]=_0x1a7bac,_0x5c4db3[_0x4bf914(0x3b4)]=_0x4bf914(0x573),_0x5c4db3[_0x4bf914(0x45d)](),URL['revokeObjectURL'](_0x1a7bac);}function descargarXml(){}function descargarCdr(){}async function switchTab(_0xfd2ba4,_0x1ef41a=0x0){const _0x8eed20=_0x36d314;document['querySelectorAll'](_0x8eed20(0x3d1))[_0x8eed20(0x55b)](_0x786d2c=>_0x786d2c[_0x8eed20(0x9f)][_0x8eed20(0x44c)](_0x8eed20(0x4fe)));const _0xa9f5ad=document[_0x8eed20(0x348)]('.'+_0xfd2ba4);_0xa9f5ad['forEach'](_0x2e45f9=>_0x2e45f9[_0x8eed20(0x9f)][_0x8eed20(0xfb)](_0x8eed20(0x4fe)));const _0x21cddc=_0xfd2ba4[_0x8eed20(0x62d)]('-')[0x1];document['getElementById'](_0x8eed20(0x61e))[_0x8eed20(0x5dc)]=_0x21cddc;const _0x63c0ab=document[_0x8eed20(0x442)](_0x8eed20(0x215));_0x63c0ab[_0x8eed20(0x5dc)]='tab-'+_0x21cddc,await new Promise(_0x1dd80f=>setTimeout(_0x1dd80f,0x12c)),renderProducts();const _0x4c7485=getValidatedWindowAndShift(_0x21cddc),{currentWindowShift:_0x35cf37}=_0x4c7485;if(_0x35cf37){const _0x1a9f85=document[_0x8eed20(0x442)](_0x8eed20(0x59f)+_0x21cddc);if(_0x1a9f85){const _0x32aebe=_0x1a9f85[_0x8eed20(0x5dc)];if(!setTipOpeOrders[_0x8eed20(0x3b9)](_0x79e162=>_0x79e162==_0x32aebe)){let _0x42d67f=null;for(const _0x4a92ac of setTipOpeOrders){const _0x4ef470=Array[_0x8eed20(0x2b9)](_0x1a9f85[_0x8eed20(0x14b)])[_0x8eed20(0x3b9)](_0x528212=>_0x528212['value']==_0x4a92ac);if(_0x4ef470){_0x42d67f=_0x4a92ac;break;}}_0x42d67f!==null&&(_0x1a9f85[_0x8eed20(0x5dc)]=_0x42d67f);}}}parseInt(window_options[_0x21cddc]['setFechaHoraReadonly'])!=0x1&&(window_options[_0x21cddc][_0x8eed20(0x478)]=obtener_fechaHora());const _0x3fbaad=document[_0x8eed20(0x442)]('setTipoOperacion-'+_0x21cddc)[_0x8eed20(0x5dc)];await updateSerieOptions(_0x3fbaad,_0x21cddc),_0x1ef41a==0x1&&await setOrders(_0x21cddc);}async function setOrders(_0x5b0961){const _0xaf708f=_0x36d314,_0x20298d=getValidatedWindowAndShift(_0x5b0961);if(!_0x20298d)return;const {windowObj:_0x3015d3,currentWindowShift:_0x29cf21}=_0x20298d;if(_0x29cf21){const _0x2ce6f0=_0x29cf21[_0xaf708f(0x57d)],_0x1e9254=_0x29cf21[_0xaf708f(0x5d3)]||[];console[_0xaf708f(0x590)]('allOperations:',_0x1e9254);const _0x27c75f=_0x1e9254['some'](_0x2e622c=>_0x2e622c[_0xaf708f(0x51c)]==_0x2ce6f0&&setTipOpeSales[_0xaf708f(0x3b9)](_0xfef104=>_0xfef104==_0x2e622c[_0xaf708f(0x13b)]));if(!_0x27c75f){await removeAllFromCart(_0x5b0961,0x1);const _0x2b9ad3=_0x1e9254['filter'](_0x59068d=>{const _0xb9a393=_0xaf708f;return _0x59068d[_0xb9a393(0x51c)]==_0x2ce6f0&&setTipOpeOrders[_0xb9a393(0x3b9)](_0x3d1a58=>_0x3d1a58==_0x59068d[_0xb9a393(0x13b)]);});for(const _0x24cf35 of _0x2b9ad3){let _0x197955=_0x24cf35[_0xaf708f(0x32e)];if(Array[_0xaf708f(0x42a)](_0x24cf35[_0xaf708f(0x25c)]))for(const _0x5cc797 of _0x24cf35[_0xaf708f(0x25c)]){if(carts[_0x5b0961]&&carts[_0x5b0961][_0xaf708f(0x3b9)](_0x3bf660=>_0x3bf660[_0xaf708f(0x1e3)]==_0x5cc797[_0xaf708f(0x1e3)]))continue;const _0x4dfae0=products[_0xaf708f(0x54e)](_0x194cca=>_0x194cca['id']==_0x5cc797['setIdProducto']);_0x4dfae0&&(await new Promise(_0x2d716d=>setTimeout(_0x2d716d,0x64)),addToCart(_0x4dfae0,{'setValorCantidad':_0x5cc797['setCantidad'],'setMtoPrecioUnitario_final':_0x5cc797[_0xaf708f(0x190)],'setTaxId':_0x5cc797[_0xaf708f(0x422)],'setTipAfeIgv':_0x5cc797[_0xaf708f(0x252)],'setPorcentajeDesc':_0x5cc797[_0xaf708f(0x226)],'setNotas':_0x5cc797[_0xaf708f(0x599)],'cartId':_0x5cc797[_0xaf708f(0x1e3)],'setWindowShiftId':_0x2ce6f0,'setOrderId':_0x197955,'setMtoPrecioUnitario_input':_0x5cc797[_0xaf708f(0x4bc)],'setMtoPrecioCostoUnitario_input':_0x5cc797[_0xaf708f(0x480)]},0x1,_0x5b0961));}}}}else{if(_0x3015d3['setWindowStatus']==_0xaf708f(0x598)){}}}function showModalWindowShift(){const _0x175d50=_0x36d314,_0x1c17f6=document[_0x175d50(0x442)](_0x175d50(0x605)),_0x22abbe=document['getElementById'](_0x175d50(0x229));_0x1c17f6[_0x175d50(0x9f)][_0x175d50(0xfb)](_0x175d50(0x4fe)),_0x22abbe[_0x175d50(0x12f)][_0x175d50(0x140)]=_0x175d50(0x549);}function hideModalWindowShift(){const _0x6bbe6e=_0x36d314,_0x498e5a=document['getElementById'](_0x6bbe6e(0x605)),_0x5a3584=document[_0x6bbe6e(0x442)](_0x6bbe6e(0x229));_0x498e5a[_0x6bbe6e(0x9f)][_0x6bbe6e(0x44c)](_0x6bbe6e(0x4fe)),_0x5a3584[_0x6bbe6e(0x12f)][_0x6bbe6e(0x140)]=_0x6bbe6e(0xb0);}document[_0x36d314(0x442)](_0x36d314(0x2ff))[_0x36d314(0x524)](_0x36d314(0x45d),hideModalWindowShift),document[_0x36d314(0x442)](_0x36d314(0x229))[_0x36d314(0x524)](_0x36d314(0x45d),_0x5b17bc=>{const _0x29fba6=_0x36d314;_0x5b17bc['target']==_0x5b17bc[_0x29fba6(0x407)]&&_0x5b17bc[_0x29fba6(0x511)]();});function getValidatedWindowAndShift(_0x5eab76){const _0x1f4490=_0x36d314,_0xb63b54=myCompany['setWindows']['find'](_0x15cf49=>_0x15cf49[_0x1f4490(0x1f5)]==_0x5eab76);if(!_0xb63b54)return null;!_0xb63b54[_0x1f4490(0x376)]&&(_0xb63b54[_0x1f4490(0x376)]=[]);const _0x2cd49b=_0xb63b54[_0x1f4490(0x376)][_0x1f4490(0x54e)](_0x575636=>_0x575636[_0x1f4490(0x3af)]=='1');return{'windowObj':_0xb63b54,'currentWindowShift':_0x2cd49b};}async function updateWindowShiftDisplay(_0x59683d){const _0x3baaae=_0x36d314,_0x3f1688=document[_0x3baaae(0x442)](_0x3baaae(0x62b));_0x3f1688[_0x3baaae(0x528)]='';const _0x2c1e0e=getValidatedWindowAndShift(_0x59683d);if(!_0x2c1e0e)return;const {windowObj:_0x23bfae,currentWindowShift:_0x316710}=_0x2c1e0e;if(!_0x316710){const _0x16e9cf=_0x23bfae;let _0x547ffd,_0x326d9b;if(_0x16e9cf[_0x3baaae(0x621)]==_0x3baaae(0x44a))_0x547ffd='Aperturar\x20Ventana',_0x326d9b=_0x3baaae(0x44e);else{if(_0x16e9cf[_0x3baaae(0x621)]==_0x3baaae(0x63e))_0x547ffd=_0x3baaae(0x3c1),_0x326d9b='./img/layout/icon-table.svg';else{if(_0x16e9cf[_0x3baaae(0x621)]==_0x3baaae(0x3cc))_0x547ffd=_0x3baaae(0x65c),_0x326d9b=_0x3baaae(0x52d);else _0x16e9cf['setWindowType']==_0x3baaae(0xdf)&&(_0x547ffd=_0x3baaae(0x22d),_0x326d9b=_0x3baaae(0x44e));}}const _0x315b90=document['createElement'](_0x3baaae(0x50f));_0x315b90[_0x3baaae(0x327)]=_0x3baaae(0x351);const _0x229f28=document['createElement'](_0x3baaae(0x50f));_0x229f28[_0x3baaae(0x327)]=_0x3baaae(0x51b);const _0xc8deb2=document[_0x3baaae(0x28c)](_0x3baaae(0x44b));_0xc8deb2[_0x3baaae(0x327)]=_0x3baaae(0x11e),_0xc8deb2[_0x3baaae(0x5f3)]=_0x326d9b,_0xc8deb2['alt']=_0x547ffd,_0x229f28[_0x3baaae(0x47d)](_0xc8deb2);const _0x5e04a1=document[_0x3baaae(0x28c)](_0x3baaae(0x50f));_0x5e04a1[_0x3baaae(0x327)]=_0x3baaae(0x4cb);const _0x1ba0ff=document[_0x3baaae(0x28c)]('h2');_0x1ba0ff[_0x3baaae(0x327)]=_0x3baaae(0x2a1),_0x1ba0ff['textContent']=_0x547ffd;const _0xa3b125=document['createElement'](_0x3baaae(0x50f));_0xa3b125['className']=_0x3baaae(0x2be);const _0x343f5a=document[_0x3baaae(0x28c)](_0x3baaae(0x278));_0x343f5a[_0x3baaae(0x327)]=_0x3baaae(0x315),_0x343f5a['id']=_0x3baaae(0x331),_0x343f5a[_0x3baaae(0x638)]=_0x3baaae(0x1a1),_0x343f5a[_0x3baaae(0x524)](_0x3baaae(0x45d),()=>openWindowShift(_0x59683d)),_0xa3b125[_0x3baaae(0x47d)](_0x343f5a),_0x5e04a1[_0x3baaae(0x47d)](_0x1ba0ff),_0x5e04a1[_0x3baaae(0x47d)](_0xa3b125),_0x315b90[_0x3baaae(0x47d)](_0x229f28),_0x315b90[_0x3baaae(0x47d)](_0x5e04a1),_0x3f1688['appendChild'](_0x315b90),showModalWindowShift();}else{}}async function openWindowShift(_0x51ba5c){const _0x3dc066=_0x36d314,_0x296448=document[_0x3dc066(0x442)]('btnWindowShiftStart');if(!_0x296448){console[_0x3dc066(0x499)]('No\x20se\x20encontró\x20el\x20botón.');return;}const _0x540e14=getValidatedWindowAndShift(_0x51ba5c);if(!_0x540e14){ntfShow(_0x3dc066(0x600));return;}const {windowObj:_0x9a0595,currentWindowShift:_0x31a7bc}=_0x540e14;if(_0x31a7bc){ntfShow(_0x3dc066(0x158));return;}_0x296448[_0x3dc066(0x41a)]=!![],hideModalWindowShift(),showLoadingModal();const _0xe410fa=new Date(),_0x470430=_0x3dc066(0x4ec),_0x581b11=generateUniqId();_0x9a0595[_0x3dc066(0x376)][_0x3dc066(0x454)]({'setShiftId':_0x581b11,'setShiftStatus':'1','setShiftDateStart':_0xe410fa,'setShiftDateEnd':_0x470430,'setShiftUserEmail':myCompany[_0x3dc066(0x2c4)][_0x3dc066(0x89)]}),_0x9a0595[_0x3dc066(0x263)]=_0x3dc066(0x1e7),_0x9a0595[_0x3dc066(0xd4)]=nowWithMillisecondsForServer();const _0xdc2489=await createCartStore('');await saveCompanyToIndexedDB(company,_0xdc2489),ntfShow(_0x3dc066(0x37e)+_0xe410fa[_0x3dc066(0x120)]()),await apiERPsyncWindows();const _0x2fb835=_0x3dc066(0x48a)+_0x51ba5c;await switchTab(_0x2fb835,0x1),_0x296448['disabled']=![],hideLoadingModal();}function getMaxWindowId(_0x495204){const _0x175c8a=_0x36d314,_0x9c08f1=Object[_0x175c8a(0x426)](_0x495204);if(_0x9c08f1[_0x175c8a(0x301)]==0x0)return 0x0;return Math['max'](..._0x9c08f1['map'](_0x30367e=>parseInt(_0x30367e,0xa)));}async function updateTab(_0x3c255e){return new Promise(async _0x375685=>{const _0x2f9921=_0x55d4,_0x4bfaff=myCompany['setWindows'][_0x2f9921(0x54e)](_0x19c3d7=>_0x19c3d7[_0x2f9921(0x1f5)]==_0x3c255e);if(!_0x4bfaff){console[_0x2f9921(0x499)](_0x2f9921(0x2c1)+_0x3c255e),_0x375685();return;}const _0x2a202c=_0x2f9921(0x48a)+_0x3c255e,_0x272182=document[_0x2f9921(0x442)](_0x2f9921(0x215)),_0x462329=document[_0x2f9921(0x28c)](_0x2f9921(0x4c5));_0x462329[_0x2f9921(0x5dc)]=_0x2a202c,_0x462329[_0x2f9921(0x638)]=_0x4bfaff['setWindowName'],_0x272182[_0x2f9921(0x47d)](_0x462329),await createFormElements(_0x2a202c),_0x375685();});}async function addNewTab(_0x485b95){const _0x3ff5e9=_0x36d314;if(parseFloat(_0x485b95)===0x0){ntfShow('WindowId\x20Error');return;}let _0x19267f=_0x485b95;tabCount=parseFloat(_0x485b95),carts[_0x19267f]=[],window_options[_0x19267f]={};try{await createCartStore(_0x19267f),await updateTab(_0x19267f);}catch(_0x512de9){console[_0x3ff5e9(0x499)]('Error\x20al\x20crear\x20Window:',_0x512de9);}}document[_0x36d314(0x442)]('itemsPerPageSelect')[_0x36d314(0x3cf)]=_0x3ada3d=>{const _0x2e52f9=_0x36d314;itemsPerPage=parseInt(_0x3ada3d['target']['value'],0xa),currentPage=0x1,renderProducts(searchInput[_0x2e52f9(0x5dc)]);};function procesarProductos(_0x469a18){const _0x98cef2=_0x36d314,_0x3bf1dc=parseFloat(_0x469a18[_0x98cef2(0x2ba)])||0x0,_0x221afd=_0x469a18[_0x98cef2(0x45a)],_0x1fef47=parseFloat(_0x469a18['descuentoGlobalMonto'])||0x0,_0x278807=_0x3bf1dc/0x64,_0x1ede0d={'setMtoOperGravadas':0x0,'setMtoOperExoneradas':0x0,'setMtoOperInafectas':0x0,'setMtoOperGratuitas':0x0,'setMtoIGV':0x0,'setMtoIGVGratuitas':0x0,'setTotalImpuestos':0x0,'setValorVenta':0x0,'setSubTotal':0x0,'setMtoImpVenta':0x0,'setMtoDescItems':0x0,'setMtoDescItems_precio':0x0},_0x2e28b1=[];for(const _0xc08782 of _0x221afd){if(!_0xc08782[_0x98cef2(0x5f4)]||!_0xc08782['setTipAfeIgv'])throw new Error('JSON\x20Incorrecto:\x20faltan\x20campos\x20obligatorios.');let {valorUnit:_0x472149,precioUnit:_0x21ac26,valorCantidad:_0x13049a,valorPorcentajeIgv:_0x25b1ae,setTipAfeIgv:_0x9e71d,setDescuento:_0x1bc769}=_0xc08782;const _0x2a743f=_0x1bc769?.[_0x98cef2(0x8a)]||'',_0x1b2178=_0x1bc769?.[_0x98cef2(0x226)]||0x0;!_0x472149?_0x472149=setTipAfeImpGravados[_0x98cef2(0x3b9)](_0x14e13e=>_0x14e13e==_0x9e71d)?_0x21ac26/(0x1+_0x25b1ae/0x64):_0x21ac26:_0x21ac26=setTipAfeImpGravados[_0x98cef2(0x3b9)](_0x500cb9=>_0x500cb9==_0x9e71d)?_0x472149+_0x472149*(_0x25b1ae/0x64):_0x472149;let _0x1ac106=0x0,_0x1a79f0=0x0,_0x2b9c93=0x0,_0x2be7c7=0x0,_0x2b3e8d=0x0,_0x9d0ff7=0x0,_0x41de8a=0x0,_0x12ee0b=0x0,_0x42d2eb=0x0,_0x40b3d1=0x0,_0x20c616=0x0,_0x3211c2=0x0;switch(!![]){case setTipAfeImpGravadosNoGratuitos[_0x98cef2(0x3b9)](_0x4d1c62=>_0x4d1c62==_0x9e71d):_0x1ac106=_0x472149,_0x1a79f0=0x0,_0x2b9c93=_0x1ac106*_0x13049a;_0x1b2178>0x0&&(_0x12ee0b=_0x1b2178/0x64,_0x42d2eb=_0x2b9c93,_0x40b3d1=_0x42d2eb*_0x12ee0b,_0x20c616=(_0x42d2eb+_0x42d2eb*(_0x25b1ae/0x64))*_0x12ee0b,_0x2b9c93-=_0x40b3d1,_0x1ede0d[_0x98cef2(0x2ed)]+=_0x40b3d1,_0x1ede0d[_0x98cef2(0x121)]+=_0x20c616);_0x2be7c7=_0x2b9c93,_0x9d0ff7=_0x2be7c7*(_0x25b1ae/0x64),_0x2b3e8d=_0x25b1ae,_0x41de8a=(_0x2b9c93+_0x9d0ff7)/_0x13049a,_0x1ede0d[_0x98cef2(0xac)]+=_0x2b9c93,_0x1ede0d['setMtoIGV']+=_0x9d0ff7;break;case setTipAfeImpExonerados[_0x98cef2(0x3b9)](_0x56a7ac=>_0x56a7ac==_0x9e71d)||setTipAfeImpInafectos[_0x98cef2(0x3b9)](_0x2ab4bc=>_0x2ab4bc==_0x9e71d):_0x1ac106=_0x472149,_0x1a79f0=0x0,_0x2b9c93=_0x1ac106*_0x13049a;_0x1b2178>0x0&&(_0x12ee0b=_0x1b2178/0x64,_0x42d2eb=_0x2b9c93,_0x40b3d1=_0x42d2eb*_0x12ee0b,_0x20c616=_0x40b3d1,_0x2b9c93-=_0x40b3d1,_0x1ede0d[_0x98cef2(0x2ed)]+=_0x40b3d1,_0x1ede0d[_0x98cef2(0x121)]+=_0x20c616);_0x2be7c7=_0x2b9c93,_0x9d0ff7=0x0,_0x2b3e8d=0x0,_0x41de8a=(_0x2b9c93+_0x9d0ff7)/_0x13049a;setTipAfeImpExonerados[_0x98cef2(0x3b9)](_0x1eb1cf=>_0x1eb1cf==_0x9e71d)?_0x1ede0d['setMtoOperExoneradas']+=_0x2b9c93:_0x1ede0d[_0x98cef2(0x145)]+=_0x2b9c93;break;case setTipAfeImpGravadosGrat[_0x98cef2(0x3b9)](_0x1f983f=>_0x1f983f==_0x9e71d):_0x1ac106=0x0,_0x1a79f0=_0x472149,_0x2b9c93=_0x1a79f0*_0x13049a,_0x2be7c7=_0x2b9c93,_0x9d0ff7=_0x2be7c7*(_0x25b1ae/0x64),_0x2b3e8d=_0x25b1ae,_0x41de8a=0x0,_0x1ede0d[_0x98cef2(0x2d0)]+=_0x2b9c93,_0x1ede0d[_0x98cef2(0xea)]+=_0x9d0ff7;break;case setTipAfeImpExoneradosGrat[_0x98cef2(0x3b9)](_0x2afc11=>_0x2afc11==_0x9e71d)||setTipAfeImpInafectosGrat[_0x98cef2(0x3b9)](_0x15f8f1=>_0x15f8f1==_0x9e71d):_0x1ac106=0x0,_0x1a79f0=_0x472149,_0x2b9c93=_0x1a79f0*_0x13049a,_0x2be7c7=_0x2b9c93,_0x9d0ff7=0x0,_0x2b3e8d=0x0,_0x41de8a=0x0,_0x1ede0d[_0x98cef2(0x2d0)]+=_0x2b9c93;break;default:console[_0x98cef2(0x499)](_0x98cef2(0x15d)+_0x9e71d);continue;}_0x3211c2=_0x41de8a*_0x13049a,_0x2e28b1[_0x98cef2(0x454)]({'setMtoValorUnitario':_0x1ac106,'setMtoValorGratuito':_0x1a79f0,'setMtoValorVenta':_0x2b9c93,'setMtoBaseIgv':_0x2be7c7,'setPorcentajeIgv':_0x2b3e8d,'setIgv':_0x9d0ff7,'setTipAfeIgv':_0x9e71d,'setTotalImpuestos':_0x9d0ff7,'setMtoPrecioUnitario':_0x41de8a,'setDescuento_setCodTipo':_0x2a743f,'setDescuento_setMontoBase':_0x42d2eb,'setDescuento_setFactor':_0x12ee0b,'setDescuento_setMonto':_0x40b3d1,'setDescuento_setMonto_precio':_0x20c616,'setPorcentajeDesc':_0x1b2178,'setTotal':_0x3211c2,'setMtoValorUnitario_final':_0x472149,'setMtoPrecioUnitario_final':_0x21ac26});}_0x1ede0d['setTotalImpuestos']=_0x1ede0d['setMtoIGV'],_0x1ede0d[_0x98cef2(0x636)]=_0x1ede0d[_0x98cef2(0xac)]+_0x1ede0d['setMtoOperExoneradas']+_0x1ede0d[_0x98cef2(0x145)],_0x1ede0d[_0x98cef2(0x350)]=_0x1ede0d['setValorVenta']+_0x1ede0d['setTotalImpuestos'],_0x1ede0d[_0x98cef2(0x5f7)]=_0x1ede0d[_0x98cef2(0x350)];if(_0x1fef47>0x0){const _0x3e2256=_0x1fef47/(0x1+_0x278807),_0x24c3e3=_0x3e2256*(_0x1ede0d[_0x98cef2(0xac)]/_0x1ede0d['setValorVenta']),_0x1453e4=_0x1fef47*(_0x1ede0d[_0x98cef2(0x493)]/_0x1ede0d[_0x98cef2(0x636)]),_0x1eebe6=_0x1fef47*(_0x1ede0d['setMtoOperInafectas']/_0x1ede0d[_0x98cef2(0x636)]);_0x1ede0d[_0x98cef2(0xac)]-=_0x24c3e3,_0x1ede0d[_0x98cef2(0x493)]-=_0x1453e4,_0x1ede0d[_0x98cef2(0x145)]-=_0x1eebe6,_0x1ede0d[_0x98cef2(0x430)]=_0x1ede0d[_0x98cef2(0xac)]*_0x278807,_0x1ede0d[_0x98cef2(0x35b)]=_0x1ede0d['setMtoIGV'],_0x1ede0d[_0x98cef2(0x636)]=_0x1ede0d[_0x98cef2(0xac)]+_0x1ede0d['setMtoOperExoneradas']+_0x1ede0d[_0x98cef2(0x145)],_0x1ede0d['setSubTotal']=_0x1ede0d[_0x98cef2(0x636)]+_0x1ede0d[_0x98cef2(0x35b)],_0x1ede0d['setMtoImpVenta']=_0x1ede0d[_0x98cef2(0x350)];}return{'setInvoice':_0x1ede0d,'setInvoiceDetails':_0x2e28b1};}function selectAllChecks(_0x1edf3f){const _0x169be9=_0x36d314,_0x2a27b2=document[_0x169be9(0x442)](_0x169be9(0x453)+_0x1edf3f),_0x37e999=_0x2a27b2[_0x169be9(0x334)],_0x6027e=document[_0x169be9(0x348)]('.itemCheckbox-'+_0x1edf3f);_0x6027e['forEach'](_0x30ff58=>{_0x30ff58['checked']=_0x37e999,_0x30ff58['value']=_0x37e999?0x1:0x0;}),carts[_0x1edf3f][_0x169be9(0x55b)](_0x4559cb=>{const _0x4cb34e=_0x169be9;_0x4559cb[_0x4cb34e(0x5e5)]=_0x37e999?0x1:0x0;}),renderCart(_0x1edf3f);}async function setPreAccount(_0x1b2f6e){const _0x6d81a8=_0x36d314;showLoadingModal(),await setBill(_0x1b2f6e);const _0x43213b=buildPayload(_0x1b2f6e),{pdfBlob:_0x4afec9,pdfName:_0x202e17}=await generatePdf(_0x43213b,'tk','pdfCanvas',_0x6d81a8(0x558),0x1);hideLoadingModal(),setLastOperationGlobalData(_0x1b2f6e,{'pdfGlobalPayload':_0x43213b,'pdfGlobalBlob':_0x4afec9,'pdfGlobalName':_0x202e17}),showModal();const _0x50d19c=getValidatedWindowAndShift(_0x1b2f6e);if(_0x50d19c){const {windowObj:_0x49cf7d,currentWindowShift:_0x5a770a}=_0x50d19c;if(_0x5a770a){_0x5a770a[_0x6d81a8(0xb4)]=new Date(),_0x49cf7d[_0x6d81a8(0x263)]=_0x6d81a8(0x3a5),_0x49cf7d[_0x6d81a8(0xd4)]=nowWithMillisecondsForServer();const _0x55ec8b=await createCartStore('');await saveCompanyToIndexedDB(company,_0x55ec8b),await apiERPsyncWindows();}}}async function setPreAccountlayout(_0x2c45f1){const _0x3a17c8=_0x36d314,_0x4ee42e=parseInt(_0x2c45f1,0xa),_0x2a229e=elementos['find'](_0x1ee0f3=>_0x1ee0f3[_0x3a17c8(0x1f5)]===_0x4ee42e);if(!_0x2a229e)return console[_0x3a17c8(0x509)]('No\x20se\x20encontró\x20la\x20ventana',_0x4ee42e);await clickMesa(_0x2a229e,0x0),await setPreAccount(_0x2c45f1);const _0x461ee5=document[_0x3a17c8(0x442)]('setFloorId')[_0x3a17c8(0x5dc)];handleTabSelection(_0x461ee5);}async function setBill(_0x3903af){const _0x30e7ae=_0x36d314,_0x48b7a8=document['getElementById'](_0x30e7ae(0x59f)+_0x3903af);if(_0x48b7a8){let _0x2fade8=null;for(const _0x2236e0 of setTipOpeSales){const _0x46857f=Array['from'](_0x48b7a8['options'])[_0x30e7ae(0x3b9)](_0x3ba365=>_0x3ba365[_0x30e7ae(0x5dc)]==_0x2236e0);if(_0x46857f){_0x2fade8=_0x2236e0;break;}}_0x2fade8!==null?(window_options[_0x3903af]['setTipoOperacion']=_0x2fade8,await updateSerieOptions(_0x2fade8,_0x3903af),renderCart(_0x3903af)):console[_0x30e7ae(0x509)](_0x30e7ae(0x5a1));}else console[_0x30e7ae(0x499)](_0x30e7ae(0xec));}function renderCart(_0xda0af){const _0x5631db=_0x36d314,_0x58c47f=document[_0x5631db(0x442)](_0x5631db(0x1a3)+_0xda0af),_0x10d6ee=document['getElementById'](_0x5631db(0x10b)+_0xda0af),_0x28c6b0=document[_0x5631db(0x442)](_0x5631db(0x14d)+_0xda0af),_0x43eb0b=document['getElementById'](_0x5631db(0x586)+_0xda0af),_0xc39739=document['getElementById'](_0x5631db(0x300)+_0xda0af),_0x397381=document['getElementById'](_0x5631db(0x28b)+_0xda0af),_0x384236=document[_0x5631db(0x442)](_0x5631db(0xc8)+_0xda0af),_0x1ba0fe=document[_0x5631db(0x442)](_0x5631db(0xd2)+_0xda0af),_0x326ac1=document[_0x5631db(0x442)](_0x5631db(0x624)+_0xda0af),_0x308112=document['getElementById'](_0x5631db(0x20b)+_0xda0af),_0x43c716=document['getElementById']('float-right-'+_0xda0af);_0x58c47f[_0x5631db(0x528)]='';const _0x1aaf10=carts[_0xda0af];let _0xc2e1dc,_0x7c4ba3;if(setTipOpeOrders[_0x5631db(0x3b9)](_0x22c003=>_0x22c003==window_options[_0xda0af][_0x5631db(0x13b)]))_0xc2e1dc=_0x1aaf10[_0x5631db(0x41f)](_0x1eeffc=>_0x1eeffc[_0x5631db(0x5e5)]==0x1&&_0x1eeffc[_0x5631db(0x51c)]==''),_0x7c4ba3=myCompany[_0x5631db(0x4db)][_0x5631db(0x41f)](_0x32d8ab=>_0x32d8ab[_0x5631db(0x451)]==0x1);else{if(setTipOpeSales[_0x5631db(0x3b9)](_0x44b9ae=>_0x44b9ae==window_options[_0xda0af][_0x5631db(0x13b)])||setTipOpeQuotation[_0x5631db(0x3b9)](_0x53b33b=>_0x53b33b==window_options[_0xda0af][_0x5631db(0x13b)]))_0xc2e1dc=_0x1aaf10[_0x5631db(0x41f)](_0x409a58=>_0x409a58[_0x5631db(0x5e5)]==0x1),_0x7c4ba3=myCompany[_0x5631db(0x4db)][_0x5631db(0x41f)](_0x43580c=>_0x43580c[_0x5631db(0x451)]==0x1);else setTipOpePurchases[_0x5631db(0x3b9)](_0xc77389=>_0xc77389==window_options[_0xda0af][_0x5631db(0x13b)])&&(_0xc2e1dc=_0x1aaf10['filter'](_0x2c485a=>_0x2c485a[_0x5631db(0x5e5)]==0x1),_0x7c4ba3=myCompany[_0x5631db(0x4db)][_0x5631db(0x41f)](_0x56d170=>_0x56d170[_0x5631db(0x451)]==0x2));}const _0x29620e=_0xc2e1dc['map'](_0x42c5de=>({'valorUnit':_0x42c5de[_0x5631db(0x541)],'precioUnit':_0x42c5de['setMtoPrecioUnitario_final'],'valorCantidad':_0x42c5de[_0x5631db(0x652)],'valorPorcentajeIgv':_0x42c5de[_0x5631db(0x5cd)],'setTipAfeIgv':_0x42c5de[_0x5631db(0x252)],'setDescuento':{'setCodTipo':_0x42c5de['setDescuento']?.[_0x5631db(0x8a)]||'00','setPorcentajeDesc':_0x42c5de[_0x5631db(0x385)]?.[_0x5631db(0x226)]||0x0}})),_0x88019c=window_options[_0xda0af],_0xeff4c7=_0x88019c[_0x5631db(0x603)],{setInvoice:_0x51597e}=procesarProductos({'setPorcentajeGeneralIgv':myCompany['setImpuestos'][_0x5631db(0x54e)](_0x4dd7cd=>_0x4dd7cd[_0x5631db(0x422)]==myCompany[_0x5631db(0x126)])?.[_0x5631db(0x1fe)],'items':_0x29620e,'descuentoGlobalMonto':_0xeff4c7}),_0x5edcfa={..._0x88019c,..._0x51597e};window_options[_0xda0af]=_0x5edcfa;const {setMtoOperGravadas:_0x2acf64,setMtoOperExoneradas:_0x305ed6,setMtoOperInafectas:_0x13547e,setValorVenta:_0x331d62,setMtoIGV:_0x46c79b,setMtoImpVenta:_0x36c911,setMtoOperGratuitas:_0x19ef33,setMtoIGVGratuitas:_0x17ff66,setMtoDescItems_precio:_0xe42bd}=_0x51597e,_0xfa27ef=document['getElementById'](_0x5631db(0x94)+_0xda0af),_0x295f0b=_0x88019c[_0x5631db(0x13b)];parseFloat(_0x17ff66)>0x0&&(_0x295f0b=='3'||_0x295f0b=='4'||_0x295f0b=='7'||_0x295f0b=='11'||_0x295f0b=='14'||_0x295f0b=='17'||_0x295f0b=='18'||_0x295f0b=='21'||_0x295f0b=='24')?_0xfa27ef[_0x5631db(0x9f)][_0x5631db(0x44c)](_0x5631db(0x5d4)):_0xfa27ef[_0x5631db(0x9f)][_0x5631db(0xfb)]('d-none');const _0x130d5f=document['getElementById'](_0x5631db(0x5b3)+_0xda0af);parseFloat(_0xe42bd)>0x0?_0x130d5f['classList']['remove'](_0x5631db(0x5d4)):_0x130d5f[_0x5631db(0x9f)][_0x5631db(0xfb)]('d-none');let _0x24f7bd;parseInt(window_options[_0xda0af][_0x5631db(0x4e5)])==0x1?_0x24f7bd='':_0x24f7bd='hidden';const _0x45e56f=getUserPermissionApiERP(0xc);_0x1aaf10[_0x5631db(0x55b)]((_0x5f4f89,_0x21b0f7)=>{const _0x1b802a=_0x5631db;let _0x49ecd7='';_0x5f4f89[_0x1b802a(0x51c)]!=''&&(_0x49ecd7=_0x1b802a(0x362));const _0x1e57e0=document['createElement'](_0x1b802a(0x50f));_0x1e57e0[_0x1b802a(0x327)]=_0x1b802a(0x637);const _0x5032e2=document['createElement'](_0x1b802a(0x50f));_0x5032e2[_0x1b802a(0x327)]=_0x1b802a(0x435);const _0xbd474a=document[_0x1b802a(0x28c)](_0x1b802a(0x50f));_0xbd474a['id']=_0x1b802a(0xbe)+_0xda0af+'-'+_0x5f4f89['id'];_0x5f4f89[_0x1b802a(0x152)]==0x1?_0xbd474a['className']=_0x1b802a(0x4d8):_0xbd474a['className']=_0x1b802a(0x4b4);const _0x5dc90f=createElement(_0x1b802a(0x1a7),{'type':_0x1b802a(0x3f7),'class':_0x1b802a(0x115)+_0xda0af+'\x20'+_0x24f7bd,'value':_0x5f4f89[_0x1b802a(0x5e5)],'events':{'click':_0x5904d9=>updateCartItem(_0xda0af,_0x21b0f7,'setChecked',_0x5904d9[_0x1b802a(0x58d)][_0x1b802a(0x5dc)])}});_0x5f4f89[_0x1b802a(0x5e5)]==0x1&&(_0x5dc90f[_0x1b802a(0x334)]=_0x1b802a(0x334));_0x5032e2[_0x1b802a(0x47d)](_0x5dc90f);const _0x4997c0=products[_0x1b802a(0x54e)](_0x1315ad=>_0x1315ad['id']==_0x5f4f89[_0x1b802a(0x3ea)]);let _0x39e8f0='';if(_0x4997c0){const _0x1141b8=[];if(_0x4997c0[_0x1b802a(0x237)])_0x1141b8[_0x1b802a(0x454)]('Cod:\x20'+_0x4997c0['setCodProducto']);if(_0x4997c0[_0x1b802a(0x297)])_0x1141b8[_0x1b802a(0x454)](''+_0x4997c0[_0x1b802a(0x297)]);if(_0x4997c0['setBatchName'])_0x1141b8[_0x1b802a(0x454)](''+_0x4997c0[_0x1b802a(0x179)]);if(_0x4997c0['setBatchExpirationDate']){const _0x58d20d=_0x4997c0[_0x1b802a(0x479)][_0x1b802a(0x62d)]('-'),_0x56db02=_0x58d20d[0x2]+'/'+_0x58d20d[0x1]+'/'+_0x58d20d[0x0];_0x1141b8[_0x1b802a(0x454)](_0x1b802a(0x456)+_0x56db02);}_0x39e8f0=_0x1141b8['join'](_0x1b802a(0x4ab));}const _0x399516=document['createElement'](_0x1b802a(0x50f));_0x399516[_0x1b802a(0x528)]=_0x5f4f89['setCodProducto']+'\x20-\x20'+_0x5f4f89[_0x1b802a(0x249)]+_0x1b802a(0x186)+(_0x5f4f89[_0x1b802a(0x599)]??'')+_0x1b802a(0x198),_0x399516[_0x1b802a(0x327)]=_0x1b802a(0x13f);if(_0x39e8f0)_0x399516[_0x1b802a(0x279)](_0x1b802a(0x1f3),_0x39e8f0);_0x5032e2[_0x1b802a(0x47d)](_0x399516);const _0x41b787=document[_0x1b802a(0x28c)](_0x1b802a(0x418));_0x41b787[_0x1b802a(0x5dc)]=_0x5f4f89[_0x1b802a(0x249)]||'',_0x41b787[_0x1b802a(0x327)]=_0x1b802a(0x1f9),_0x41b787[_0x1b802a(0x35d)]=_0x1b802a(0x282),_0x41b787[_0x1b802a(0x3cf)]=_0x186cf0=>updateCartItem(_0xda0af,_0x21b0f7,_0x1b802a(0x249),_0x186cf0[_0x1b802a(0x58d)][_0x1b802a(0x5dc)]),_0x5032e2[_0x1b802a(0x47d)](_0x41b787),_0x399516['addEventListener'](_0x1b802a(0x45d),()=>{const _0x4e3d2d=_0x1b802a;_0x399516[_0x4e3d2d(0x9f)][_0x4e3d2d(0xfb)](_0x4e3d2d(0x362)),_0x41b787[_0x4e3d2d(0x9f)][_0x4e3d2d(0x44c)](_0x4e3d2d(0x362)),_0x41b787[_0x4e3d2d(0x302)]();}),_0x41b787['addEventListener'](_0x1b802a(0x52c),()=>{renderCart(_0xda0af);});const _0x58df6b=document[_0x1b802a(0x28c)](_0x1b802a(0x278));_0x58df6b[_0x1b802a(0x528)]=_0x1b802a(0x2a3),_0x58df6b['id']='productMoreOptionsButton-'+_0xda0af+'-'+_0x5f4f89['id'],_0x58df6b[_0x1b802a(0x327)]=_0x1b802a(0x4f2)+_0x49ecd7,_0x58df6b[_0x1b802a(0x524)]('click',()=>{const _0x31bc67=_0x1b802a,_0x2a05e0=_0xbd474a[_0x31bc67(0x9f)][_0x31bc67(0x508)](_0x31bc67(0x5d4));_0x2a05e0?(_0xbd474a[_0x31bc67(0x9f)][_0x31bc67(0x44c)](_0x31bc67(0x5d4)),_0x58df6b[_0x31bc67(0x528)]=_0x31bc67(0x2ea),updateCartItem(_0xda0af,_0x21b0f7,'setVisible',0x1)):(_0xbd474a[_0x31bc67(0x9f)][_0x31bc67(0xfb)](_0x31bc67(0x5d4)),_0x58df6b[_0x31bc67(0x528)]=_0x31bc67(0x2a3),updateCartItem(_0xda0af,_0x21b0f7,_0x31bc67(0x152),0x0));}),_0x5032e2[_0x1b802a(0x47d)](_0x58df6b);const _0x398975=document['createElement'](_0x1b802a(0x50f));_0x398975['className']=_0x1b802a(0x26f);const _0x2a541f=document['createElement'](_0x1b802a(0x278));_0x2a541f[_0x1b802a(0x327)]=_0x1b802a(0x19a)+_0x49ecd7,_0x2a541f[_0x1b802a(0x528)]=_0x1b802a(0x588),_0x2a541f[_0x1b802a(0x3dc)]=()=>{const _0x56182a=_0x1b802a;let _0x5b01d5=parseFloat(_0x5f4f89[_0x56182a(0x652)])||0x0;_0x5b01d5<=0x1?_0x5b01d5=Math[_0x56182a(0x1dd)](0.1,_0x5b01d5-0.1):_0x5b01d5=Math[_0x56182a(0x1dd)](0x0,_0x5b01d5-0x1),_0x5f4f89[_0x56182a(0x652)]=_0x5b01d5[_0x56182a(0x35c)](0x1),_0x113f6a[_0x56182a(0x5dc)]=_0x5f4f89[_0x56182a(0x652)]||0x0,updateCartItem(_0xda0af,_0x21b0f7,_0x56182a(0x652),_0x5f4f89['setCantidad']);};const _0x113f6a=document[_0x1b802a(0x28c)](_0x1b802a(0x1a7));_0x5f4f89[_0x1b802a(0x51c)]!=''&&(_0x113f6a[_0x1b802a(0x2d7)]=!![]);_0x113f6a[_0x1b802a(0x24c)]=_0x1b802a(0x53a),_0x113f6a[_0x1b802a(0x1da)]=_0x1b802a(0x424),_0x113f6a['min']=_0x1b802a(0x424),_0x113f6a[_0x1b802a(0x5dc)]=_0x5f4f89[_0x1b802a(0x652)]||0x0,_0x113f6a[_0x1b802a(0x327)]=_0x1b802a(0x31e),_0x113f6a[_0x1b802a(0x3cf)]=_0x542989=>{const _0x42593f=_0x1b802a;var _0x4c0605=parseInt(_0x45e56f,0xa)||0x0,_0x18f054=Math[_0x42593f(0x502)](0xa,-_0x4c0605);let _0x3e94e7=parseFloat(_0x542989[_0x42593f(0x58d)]['value'])||0x0;_0x3e94e7=_0x3e94e7<0x1?Math[_0x42593f(0x1dd)](_0x18f054,_0x3e94e7):Math[_0x42593f(0x1dd)](0x1,_0x3e94e7),_0x5f4f89[_0x42593f(0x652)]=_0x3e94e7['toFixed'](_0x4c0605),updateCartItem(_0xda0af,_0x21b0f7,_0x42593f(0x652),_0x5f4f89[_0x42593f(0x652)]);};const _0x165658=document[_0x1b802a(0x28c)]('button');_0x165658[_0x1b802a(0x327)]=_0x1b802a(0x19a)+_0x49ecd7,_0x165658[_0x1b802a(0x528)]='<img\x20src=\x22./img/icon-plus.svg\x22\x20alt=\x22icon-plus\x22\x20class=\x22img-cart-item\x22>',_0x165658['onclick']=()=>{const _0x265795=_0x1b802a;let _0x394871=parseFloat(_0x5f4f89['setCantidad'])||0x0;_0x394871<0x1?_0x394871=_0x394871+0.1:_0x394871=_0x394871+0x1,_0x5f4f89['setCantidad']=_0x394871[_0x265795(0x35c)](0x1),_0x113f6a[_0x265795(0x5dc)]=_0x5f4f89[_0x265795(0x652)]||0x0,updateCartItem(_0xda0af,_0x21b0f7,'setCantidad',_0x5f4f89[_0x265795(0x652)]);},_0x398975[_0x1b802a(0x47d)](_0x2a541f),_0x398975[_0x1b802a(0x47d)](_0x113f6a),_0x398975[_0x1b802a(0x47d)](_0x165658),_0x5032e2['appendChild'](_0x398975);const _0x4a22ad=document[_0x1b802a(0x28c)]('div');_0x4a22ad['textContent']=''+(parseFloat(_0x5f4f89['setTotal'])||0x0)[_0x1b802a(0x35c)](0x2),_0x4a22ad['className']=_0x1b802a(0x113),_0x5032e2[_0x1b802a(0x47d)](_0x4a22ad);const _0x46c74c=document['createElement'](_0x1b802a(0x278));_0x46c74c['innerHTML']=_0x1b802a(0xbc),_0x46c74c[_0x1b802a(0x327)]=_0x1b802a(0x1bf);_0x5f4f89[_0x1b802a(0x222)]!=''?_0x46c74c[_0x1b802a(0x3dc)]=()=>removeFromCart(_0xda0af,_0x21b0f7,_0x5f4f89[_0x1b802a(0x222)]):_0x46c74c[_0x1b802a(0x3dc)]=()=>removeFromCart(_0xda0af,_0x21b0f7);_0x5032e2[_0x1b802a(0x47d)](_0x46c74c);const _0x208dd4=document[_0x1b802a(0x28c)]('div');_0x208dd4[_0x1b802a(0x327)]=_0x1b802a(0x3a3),_0x208dd4[_0x1b802a(0x12f)][_0x1b802a(0x19d)]=_0x1b802a(0x2e1);const _0x55e6fa=document[_0x1b802a(0x28c)](_0x1b802a(0x418));_0x55e6fa[_0x1b802a(0x5dc)]=_0x5f4f89[_0x1b802a(0x599)]||'',_0x55e6fa[_0x1b802a(0x327)]=_0x1b802a(0x26c),_0x55e6fa[_0x1b802a(0x35d)]=_0x1b802a(0x411),_0x55e6fa['rows']=0x2,_0x55e6fa[_0x1b802a(0x3cf)]=_0x458c44=>updateCartItem(_0xda0af,_0x21b0f7,'setNotas',_0x458c44[_0x1b802a(0x58d)][_0x1b802a(0x5dc)]),_0x208dd4['appendChild'](_0x55e6fa);const _0x15a71f=document[_0x1b802a(0x28c)](_0x1b802a(0x36c));_0x15a71f[_0x1b802a(0x327)]=_0x1b802a(0x12e),_0x15a71f[_0x1b802a(0x528)]='Cuenta\x20Contable',_0x208dd4['appendChild'](_0x15a71f);const _0x5eb077=_0x7c4ba3,_0x593821=createElement(_0x1b802a(0x425),{'class':_0x1b802a(0x30c),'events':{'change':_0x3469b9=>updateCartItem(_0xda0af,_0x21b0f7,'setAccountingAccountId',_0x3469b9[_0x1b802a(0x58d)][_0x1b802a(0x5dc)])}},_0x5eb077[_0x1b802a(0x4a8)](_0x449efa=>createElement('option',{'value':_0x449efa[_0x1b802a(0xe7)],'innerHTML':_0x449efa[_0x1b802a(0xcc)]+'\x20-\x20'+_0x449efa[_0x1b802a(0xa2)]}))),_0x30132=_0x5eb077[_0x1b802a(0x3b9)](_0x1d6a4c=>_0x1d6a4c[_0x1b802a(0xe7)]==_0x5f4f89[_0x1b802a(0xe7)]);!_0x30132&&_0x5eb077[_0x1b802a(0x301)]>0x0&&(_0x5f4f89[_0x1b802a(0xe7)]=_0x5eb077[0x0]['setAccountingAccountId']);_0x593821[_0x1b802a(0x5dc)]=_0x5f4f89[_0x1b802a(0xe7)],_0x208dd4['appendChild'](_0x593821),_0xbd474a[_0x1b802a(0x47d)](_0x208dd4);const _0x5efb58=document['createElement'](_0x1b802a(0x50f));_0x5efb58[_0x1b802a(0x327)]=_0x1b802a(0x240),_0x5efb58[_0x1b802a(0x12f)][_0x1b802a(0x19d)]='10px';const _0x1e90f3=document[_0x1b802a(0x28c)](_0x1b802a(0x36c));_0x1e90f3[_0x1b802a(0x327)]=_0x1b802a(0x12e),_0x1e90f3['innerHTML']=_0x1b802a(0x239),_0x5efb58[_0x1b802a(0x47d)](_0x1e90f3);const _0x5554e7=document[_0x1b802a(0x28c)](_0x1b802a(0x1a7));_0x5554e7[_0x1b802a(0x24c)]='number',_0x5554e7[_0x1b802a(0x5dc)]=parseFloat(_0x5f4f89[_0x1b802a(0x4bc)])[_0x1b802a(0x35c)](0x2)||0x0,_0x5554e7[_0x1b802a(0x327)]=_0x1b802a(0x14a),_0x5554e7[_0x1b802a(0x3cf)]=_0x20cb9f=>updateCartItem(_0xda0af,_0x21b0f7,'setMtoPrecioUnitario_input',_0x20cb9f[_0x1b802a(0x58d)][_0x1b802a(0x5dc)]),_0x5efb58[_0x1b802a(0x47d)](_0x5554e7);const _0x27fd88=document['createElement']('label');_0x27fd88[_0x1b802a(0x327)]=_0x1b802a(0x12e),_0x27fd88[_0x1b802a(0x528)]='Desc.\x20(%)',_0x5efb58[_0x1b802a(0x47d)](_0x27fd88);const _0x4dc0c2=document[_0x1b802a(0x28c)](_0x1b802a(0x1a7));_0x4dc0c2[_0x1b802a(0x24c)]=_0x1b802a(0x53a),_0x4dc0c2[_0x1b802a(0x5dc)]=_0x5f4f89['setDescuento'][_0x1b802a(0x226)]||0x0,_0x4dc0c2[_0x1b802a(0x327)]=_0x1b802a(0x54d),_0x4dc0c2[_0x1b802a(0x3cf)]=_0x147312=>updateCartItem(_0xda0af,_0x21b0f7,_0x1b802a(0x226),_0x147312[_0x1b802a(0x58d)][_0x1b802a(0x5dc)]),_0x5efb58[_0x1b802a(0x47d)](_0x4dc0c2),_0xbd474a[_0x1b802a(0x47d)](_0x5efb58);const _0x4d70a4=document[_0x1b802a(0x28c)]('div');_0x4d70a4['className']=_0x1b802a(0x240),_0x4d70a4[_0x1b802a(0x12f)][_0x1b802a(0x19d)]=_0x1b802a(0x5be);const _0x464b51=document[_0x1b802a(0x28c)]('label');_0x464b51[_0x1b802a(0x327)]=_0x1b802a(0x12e),_0x464b51[_0x1b802a(0x528)]=_0x1b802a(0x1b4),_0x4d70a4['appendChild'](_0x464b51);const _0x17c537=document[_0x1b802a(0x28c)]('input');_0x17c537['type']='number',_0x17c537[_0x1b802a(0x5dc)]=parseFloat(_0x5f4f89['setMtoPrecioCostoUnitario_input'])[_0x1b802a(0x35c)](0x2)||0x0,_0x17c537['className']=_0x1b802a(0x295),_0x17c537[_0x1b802a(0x3cf)]=_0x28a919=>updateCartItem(_0xda0af,_0x21b0f7,'setMtoPrecioCostoUnitario_input',_0x28a919['target'][_0x1b802a(0x5dc)]),_0x4d70a4[_0x1b802a(0x47d)](_0x17c537);const _0x5e08b1=document[_0x1b802a(0x28c)](_0x1b802a(0x36c));_0x5e08b1[_0x1b802a(0x327)]=_0x1b802a(0x12e),_0x5e08b1['innerHTML']=_0x1b802a(0x540),_0x4d70a4[_0x1b802a(0x47d)](_0x5e08b1);const _0x2616a4=myCompany[_0x1b802a(0x27e)],_0x1dc59f=createElement(_0x1b802a(0x425),{'class':_0x1b802a(0xb7),'events':{'change':_0xa4f133=>updateCartItem(_0xda0af,_0x21b0f7,'setTipAfeIgv',_0xa4f133[_0x1b802a(0x58d)][_0x1b802a(0x5dc)])}},_0x2616a4['map'](_0x2df70b=>createElement(_0x1b802a(0x4c5),{'value':_0x2df70b[_0x1b802a(0x422)],'innerHTML':_0x2df70b[_0x1b802a(0x522)]+'\x20('+_0x2df70b[_0x1b802a(0x1fe)]+'%)'})));_0x1dc59f[_0x1b802a(0x5dc)]=_0x5f4f89['setTaxId'],_0x4d70a4[_0x1b802a(0x47d)](_0x1dc59f),_0xbd474a[_0x1b802a(0x47d)](_0x4d70a4),_0x1e57e0['appendChild'](_0x5032e2),_0x1e57e0[_0x1b802a(0x47d)](_0xbd474a),_0x58c47f['appendChild'](_0x1e57e0);});const _0x19409d=getCurrencySymbol(_0xda0af);_0x10d6ee[_0x5631db(0x528)]=_0x5631db(0x622)+_0xda0af+_0x5631db(0x1c2)+(parseFloat(_0xeff4c7)||0x0)[_0x5631db(0x35c)](0x2)+'\x22\x20class=\x22input-Descuento-Global\x22>',_0x28c6b0[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0xe42bd)||0x0)[_0x5631db(0x35c)](0x2),_0x43eb0b[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x2acf64)||0x0)['toFixed'](0x2),_0xc39739[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x305ed6)||0x0)[_0x5631db(0x35c)](0x2),_0x397381[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x13547e)||0x0)['toFixed'](0x2),_0x384236[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x19ef33)||0x0)[_0x5631db(0x35c)](0x2),_0x1ba0fe[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x331d62)||0x0)[_0x5631db(0x35c)](0x2),_0x326ac1[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x46c79b)||0x0)[_0x5631db(0x35c)](0x2),_0x308112[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x17ff66)||0x0)[_0x5631db(0x35c)](0x2),_0x43c716[_0x5631db(0x638)]=_0x19409d+'\x20'+(parseFloat(_0x36c911)||0x0)[_0x5631db(0x35c)](0x2);}function addToCart(_0x3515a6,_0x2fb303=null,_0x5dfcda=0x0,_0x4d386b=0x0){const _0x2039cb=_0x36d314;let _0x446311;_0x4d386b!=0x0?_0x446311=_0x4d386b:_0x446311=document[_0x2039cb(0x442)](_0x2039cb(0x61e))[_0x2039cb(0x5dc)];if(_0x446311<=0x0){ntfShow(_0x2039cb(0x98));return;}if(!carts[_0x446311])carts[_0x446311]=[];const _0x5bc1a0=carts[_0x446311],_0x5d6370=document[_0x2039cb(0x442)](_0x2039cb(0x3fe))[_0x2039cb(0x5dc)],_0x337bd4=myCompany[_0x2039cb(0x376)],_0x3e8aeb=_0x337bd4[_0x2039cb(0x54e)](_0x3edfc3=>_0x3edfc3[_0x2039cb(0x3fe)]==_0x5d6370&&_0x3edfc3[_0x2039cb(0x3af)]=='1'),_0x816e6f=getUserPermissionApiERP(0xf);if(!_0x3e8aeb&&_0x816e6f==0x1){updateShiftDisplay();return;}const _0xc3cb1=getUserPermissionApiERP(0x1);if(_0x3515a6['setInventariable']==0x1&&window_options[_0x446311]['setAttachEdit']!=0x2&&_0x5dfcda==0x0&&_0x3515a6[_0x2039cb(0x1eb)]!=0x1){const _0x41f5ec=_0x3515a6['setBatchExpirationDate'];if(_0x41f5ec){const _0x4b732e=new Date(_0x41f5ec),_0x5bd094=new Date();_0x5bd094[_0x2039cb(0x373)](0x0,0x0,0x0,0x0);if(_0x4b732e<_0x5bd094){ntfShow(_0x2039cb(0x16e),0x2,0x2);return;}}if(setTipOpeSales[_0x2039cb(0x3b9)](_0x15f8a1=>_0x15f8a1==window_options[_0x446311][_0x2039cb(0x13b)])&&_0xc3cb1==0x0){const _0x570551=document[_0x2039cb(0x442)](_0x2039cb(0x1af))[_0x2039cb(0x5dc)],_0x599056=_0x3515a6[_0x2039cb(0x543)][_0x2039cb(0x54e)](_0x520d2b=>String(_0x520d2b[_0x2039cb(0x174)])==_0x570551),_0x851509=_0x599056?parseFloat(_0x599056[_0x2039cb(0x372)]):0x0;if(_0x851509<=0x0){ntfShow(_0x2039cb(0x457),0x2,0x2);return;}const _0x47f040=_0x3515a6['setIdProducto'],_0x3deb60=parseFloat(_0x3515a6[_0x2039cb(0x4c9)])||0x1,_0x3225f5=_0x2fb303?parseFloat(_0x2fb303[_0x2039cb(0x357)])||0x1:0x1;let _0x31506f=_0x5bc1a0[_0x2039cb(0x25b)]((_0x219287,_0x1546d3)=>{const _0x276858=_0x2039cb,_0x1241af=products[_0x276858(0x54e)](_0x468af4=>_0x468af4['id']==_0x1546d3[_0x276858(0x3ea)]);if(!_0x1241af||_0x1241af[_0x276858(0x3ea)]!=_0x47f040)return _0x219287;const _0x299096=parseFloat(_0x1241af[_0x276858(0x4c9)])||0x1;return _0x219287+(parseFloat(_0x1546d3[_0x276858(0x652)])||0x0)*_0x299096;},0x0);const _0x5f3cd5=_0x31506f+_0x3225f5*_0x3deb60;console[_0x2039cb(0x590)]('[addToCart]',{'masterId':_0x47f040,'stock':_0x851509,'totalExistingBase':_0x31506f,'addFactor':_0x3deb60,'qtyToAdd':_0x3225f5,'totalInBase':_0x5f3cd5});if(_0x5f3cd5>_0x851509){ntfShow(_0x2039cb(0x3fc),0x2,0x2);return;}}}let _0x1b864b,_0x390a31;setTipOpeOrders['some'](_0x4817e3=>_0x4817e3==window_options[_0x446311]['setTipoOperacion'])||setTipOpeSales[_0x2039cb(0x3b9)](_0x149c97=>_0x149c97==window_options[_0x446311][_0x2039cb(0x13b)])||setTipOpeQuotation[_0x2039cb(0x3b9)](_0x38b875=>_0x38b875==window_options[_0x446311][_0x2039cb(0x13b)])?(_0x1b864b=myCompany['setAccountingAccounts'][_0x2039cb(0x41f)](_0x399f0a=>_0x399f0a[_0x2039cb(0x451)]==0x1),_0x390a31=0x2):(_0x1b864b=myCompany['setAccountingAccounts']['filter'](_0x2de3b5=>_0x2de3b5[_0x2039cb(0x451)]==0x2),_0x390a31=0x1);const _0x4cda88=_0x1b864b[0x0]||{},_0x5e5fe7=_0x4cda88[_0x2039cb(0xe7)]||'',_0x28ad52=_0x4cda88['setAccountingAccountCode']||'',_0x293c68=_0x4cda88[_0x2039cb(0xa2)]||'',_0x250d49=_0x4cda88[_0x2039cb(0x451)]||'';let _0x33eaf0=0x1,_0x1d5eeb=0x0,_0x1c00de=0x0,_0xf0c1a5=_0x3515a6[_0x2039cb(0x422)],_0x416ff1=myCompany[_0x2039cb(0x27e)]['find'](_0x42be59=>_0x42be59[_0x2039cb(0x422)]==_0xf0c1a5)?.['setImpuestoCode'],_0x28eea7=0x0,_0x360efe=0x0,_0x3ddb8c=0x0,_0x336efb=0x0,_0x13dae7=0x0,_0xe2d5be=_0x3515a6[_0x2039cb(0x599)]??'';const _0x34e3ce=document['getElementById'](_0x2039cb(0x236)+_0x446311)[_0x2039cb(0x5dc)],_0x346f56=_0x3515a6[_0x2039cb(0x366)][_0x2039cb(0x54e)](_0x420359=>_0x420359[_0x2039cb(0x485)]==_0x34e3ce)||{};_0x390a31==0x1?(_0x1d5eeb=_0x346f56[_0x2039cb(0x446)]||0x0,_0x1c00de=_0x346f56['setMtoPrecioCostoUnitario']||0x0):(_0x1d5eeb=_0x346f56[_0x2039cb(0x32a)]||0x0,_0x1c00de=_0x346f56[_0x2039cb(0x1ba)]||0x0);_0x360efe=_0x346f56[_0x2039cb(0x1ba)]||0x0,_0x3ddb8c=_0x346f56['setMtoPrecioCostoUnitario']||0x0,_0x336efb=_0x346f56['setMtoValorUnitario']||0x0,_0x13dae7=_0x346f56[_0x2039cb(0x446)]||0x0;let _0x3b7656=generateUniqId(),_0x351b28='',_0x29e106='';_0x2fb303&&(_0x33eaf0=_0x2fb303[_0x2039cb(0x357)]??_0x33eaf0,_0x1d5eeb=0x0,_0x1c00de=_0x2fb303['setMtoPrecioUnitario_final'],_0xf0c1a5=_0x2fb303['setTaxId'],_0x416ff1=_0x2fb303['setTipAfeIgv'],_0x28eea7=_0x2fb303[_0x2039cb(0x226)],_0x360efe=_0x2fb303['setMtoPrecioUnitario_input']??_0x360efe,_0x3ddb8c=_0x2fb303['setMtoPrecioCostoUnitario_input']??_0x3ddb8c,_0x336efb=0x0,_0x13dae7=0x0,_0xe2d5be=_0x2fb303[_0x2039cb(0x599)],_0x3b7656=_0x2fb303['cartId']??_0x3b7656,_0x351b28=_0x2fb303[_0x2039cb(0x51c)]??'',_0x29e106=_0x2fb303[_0x2039cb(0x222)]??'');const _0x1f8b19=getUserPermissionApiERP(0x4),{currentWindowShift:_0x4bcf54}=getValidatedWindowAndShift(_0x446311)||{},_0x24fadc=_0x4bcf54||_0x1f8b19==0x1?![]:_0x5bc1a0[_0x2039cb(0x54e)](_0x5dc57c=>_0x5dc57c[_0x2039cb(0x3ea)]==_0x3515a6['id']),_0xbebdd4=[{'valorUnit':_0x24fadc?_0x24fadc[_0x2039cb(0x541)]:_0x1d5eeb,'precioUnit':_0x24fadc?_0x24fadc[_0x2039cb(0x190)]:_0x1c00de,'valorCantidad':_0x24fadc?_0x24fadc[_0x2039cb(0x652)]+0x1:_0x33eaf0,'valorPorcentajeIgv':_0x24fadc?_0x24fadc[_0x2039cb(0x5cd)]:myCompany['setImpuestos'][_0x2039cb(0x54e)](_0x9c4354=>_0x9c4354['setTaxId']==_0xf0c1a5)[_0x2039cb(0x1fe)],'setTipAfeIgv':_0x416ff1,'setDescuento':{'setCodTipo':_0x24fadc?.[_0x2039cb(0x385)]?.[_0x2039cb(0x8a)]||'00','setPorcentajeDesc':_0x24fadc?.[_0x2039cb(0x385)]?.[_0x2039cb(0x226)]||_0x28eea7}}],{setInvoiceDetails:_0x533cb4}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x2039cb(0x27e)]['find'](_0x530905=>_0x530905[_0x2039cb(0x422)]==_0xf0c1a5)[_0x2039cb(0x1fe)],'items':_0xbebdd4,'descuentoGlobalMonto':0x0}),_0x5939af=_0x533cb4[0x0];_0x24fadc?(_0x24fadc['setCantidad']++,Object['assign'](_0x24fadc,{'setMtoValorUnitario':_0x5939af[_0x2039cb(0x32a)],'setMtoValorGratuito':_0x5939af[_0x2039cb(0x38e)],'setMtoValorVenta':_0x5939af[_0x2039cb(0x2cc)],'setMtoBaseIgv':_0x5939af[_0x2039cb(0x277)],'setPorcentajeIgv':_0x5939af[_0x2039cb(0x5cd)],'setIgv':_0x5939af['setIgv'],'setTotalImpuestos':_0x5939af[_0x2039cb(0x35b)],'setMtoPrecioUnitario':_0x5939af[_0x2039cb(0x1ba)],'setTotal':parseFloat(_0x5939af['setMtoPrecioUnitario'])*parseFloat(_0x24fadc[_0x2039cb(0x652)]),'setMtoPrecioUnitario_final':_0x5939af['setMtoPrecioUnitario_final'],'setMtoValorUnitario_final':_0x5939af[_0x2039cb(0x541)],'setMtoPrecioUnitario_input':_0x390a31==0x1?_0x360efe:parseFloat(_0x5939af[_0x2039cb(0x190)])[_0x2039cb(0x35c)](0x2),'setMtoPrecioCostoUnitario_input':_0x390a31==0x1?parseFloat(_0x5939af[_0x2039cb(0x190)])[_0x2039cb(0x35c)](0x2):_0x3ddb8c,'setMtoValorUnitario_input':_0x390a31==0x1?_0x336efb:parseFloat(_0x5939af[_0x2039cb(0x541)])[_0x2039cb(0x35c)](0x2),'setMtoValorCostoUnitario_input':_0x390a31==0x1?parseFloat(_0x5939af['setMtoValorUnitario_final'])[_0x2039cb(0x35c)](0x2):_0x13dae7})):_0x5bc1a0['push']({'cartId':_0x3b7656,'setIdProducto':_0x3515a6['id'],'setCodProducto':_0x3515a6[_0x2039cb(0x237)],'setDescripcion':formatVariantName(_0x3515a6['setDescripcion'],_0x3515a6[_0x2039cb(0x25a)],0x2),'setItemDescription':_0x3515a6[_0x2039cb(0x297)],'setUnidad':_0x3515a6['setUnidad'],'setInventariable':_0x3515a6[_0x2039cb(0xc9)],'setMarca':_0x3515a6[_0x2039cb(0x3ad)],'setCantidad':_0x33eaf0,'setMtoValorUnitario':_0x5939af['setMtoValorUnitario'],'setMtoValorGratuito':_0x5939af[_0x2039cb(0x38e)],'setMtoValorVenta':_0x5939af[_0x2039cb(0x2cc)],'setMtoBaseIgv':_0x5939af[_0x2039cb(0x277)],'setPorcentajeIgv':_0x5939af[_0x2039cb(0x5cd)],'setIgv':_0x5939af[_0x2039cb(0x3db)],'setTotalImpuestos':_0x5939af[_0x2039cb(0x35b)],'setMtoPrecioUnitario':_0x5939af[_0x2039cb(0x1ba)],'setTotal':parseFloat(_0x5939af[_0x2039cb(0x1ba)])*parseFloat(_0x33eaf0),'setMtoPrecioUnitario_final':_0x5939af[_0x2039cb(0x190)],'setMtoValorUnitario_final':_0x5939af['setMtoValorUnitario_final'],'setTaxId':_0xf0c1a5,'setTipAfeIgv':_0x416ff1,'setMtoPrecioUnitario_input':_0x390a31==0x1?_0x360efe:parseFloat(_0x5939af['setMtoPrecioUnitario_final'])[_0x2039cb(0x35c)](0x2),'setMtoPrecioCostoUnitario_input':_0x390a31==0x1?parseFloat(_0x5939af[_0x2039cb(0x190)])[_0x2039cb(0x35c)](0x2):_0x3ddb8c,'setMtoValorUnitario_input':_0x390a31==0x1?_0x336efb:parseFloat(_0x5939af[_0x2039cb(0x541)])['toFixed'](0x2),'setMtoValorCostoUnitario_input':_0x390a31==0x1?parseFloat(_0x5939af[_0x2039cb(0x541)])[_0x2039cb(0x35c)](0x2):_0x13dae7,'setDescuento':{'setCodTipo':'00','setPorcentajeDesc':_0x28eea7},'setVisible':0x0,'setNotas':_0xe2d5be,'setChecked':0x1,'setWindowShiftId':_0x351b28,'setOrderId':_0x29e106,'setAccountingAccountId':_0x5e5fe7,'setAccountingAccountCode':_0x28ad52,'setAccountingAccountName':_0x293c68,'setAccountingAccountType':_0x250d49,'setItemFree':_0x3515a6['setItemFree']??0x0}),saveCart(_0x446311)[_0x2039cb(0x667)](()=>{renderCart(_0x446311);if(isMobile()){const _0xcc6016=getUserPermissionApiERP(0x11);_0xcc6016==0x1&&showRightSection(),_0x5dfcda==0x0&&ntfShow('Agregado\x20...',0x1,0x2);}})[_0x2039cb(0x3d5)](_0x436cb7=>{const _0x570d12=_0x2039cb;console[_0x570d12(0x499)]('Error\x20al\x20guardar\x20el\x20carrito:',_0x436cb7);});}function calcFinalPrice(_0x5b07d2,_0x3652d6,_0x19115b){switch(_0x3652d6){case 0x1:return _0x5b07d2*(0x1-_0x19115b/0x64);case 0x2:return _0x5b07d2*(0x1+_0x19115b/0x64);case 0x3:return _0x5b07d2-_0x19115b;case 0x4:return _0x5b07d2+_0x19115b;case 0x5:return _0x19115b;default:return _0x5b07d2;}}function updateCartItem(_0x2a3794,_0x54f6cc,_0x1ac56b,_0x5abbe2){const _0x357673=_0x36d314;let _0x166d12=_0x5abbe2;[_0x357673(0x652),_0x357673(0x32a),_0x357673(0x4bc),_0x357673(0x480),_0x357673(0x226),_0x357673(0x5e5)][_0x357673(0x62a)](_0x1ac56b)&&(_0x166d12=parseFloat(_0x166d12));const _0x5a2687=carts[_0x2a3794];if(!_0x5a2687||!_0x5a2687[_0x54f6cc]){console[_0x357673(0x499)]('Carrito\x20o\x20índice\x20inválido\x20para\x20windowId\x20'+_0x2a3794);return;}if(setTipOpeSales[_0x357673(0x3b9)](_0x2160aa=>_0x2160aa==window_options[_0x2a3794][_0x357673(0x13b)])){const _0x162bb9=getUserPermissionApiERP(0x1),_0x2dfc35=_0x5a2687[_0x54f6cc];if(_0x162bb9==0x0&&_0x2dfc35[_0x357673(0xc9)]==0x1&&window_options[_0x2a3794][_0x357673(0xfa)]!=0x2&&_0x2dfc35['setItemFree']!=0x1){const _0x34c234=products[_0x357673(0x54e)](_0x2fc96a=>_0x2fc96a['id']==_0x2dfc35['setIdProducto']),_0x47ab47=_0x34c234[_0x357673(0x3ea)],_0x3d0404=document[_0x357673(0x442)](_0x357673(0x1af))[_0x357673(0x5dc)],_0x11868a=_0x34c234[_0x357673(0x543)][_0x357673(0x54e)](_0x493ed0=>String(_0x493ed0[_0x357673(0x174)])==_0x3d0404),_0x534e15=_0x11868a?parseFloat(_0x11868a[_0x357673(0x372)]):0x0,_0x2530dc=parseFloat(_0x34c234['setConversionFactor'])||0x1;let _0x64c709=_0x5a2687[_0x357673(0x25b)]((_0x503224,_0x36f7e5)=>{const _0x128520=_0x357673,_0x208f5d=products[_0x128520(0x54e)](_0x37ae95=>_0x37ae95['id']==_0x36f7e5[_0x128520(0x3ea)]);if(!_0x208f5d||_0x208f5d[_0x128520(0x3ea)]!=_0x47ab47)return _0x503224;const _0x11077b=parseFloat(_0x208f5d['setConversionFactor'])||0x1;return _0x503224+(parseFloat(_0x36f7e5[_0x128520(0x652)])||0x0)*_0x11077b;},0x0),_0x3f0743=_0x64c709;if(_0x1ac56b==_0x357673(0x652)){const _0x262ec1=parseFloat(_0x2dfc35[_0x357673(0x652)])||0x0;_0x3f0743=_0x64c709-_0x262ec1*_0x2530dc+_0x166d12*_0x2530dc;}console[_0x357673(0x590)](_0x357673(0x545),{'masterId':_0x47ab47,'stock':_0x534e15,'totalExistingBase':_0x64c709,'oldFactor':_0x2530dc,'oldCantidad':_0x2dfc35[_0x357673(0x652)],'new_value':_0x166d12,'totalInBase':_0x3f0743});if(_0x1ac56b==_0x357673(0x652)&&_0x3f0743>_0x534e15){let _0x21dc5c=_0x5a2687['reduce']((_0x4159d0,_0x423110,_0x4e4ba8)=>{const _0x46c2af=_0x357673;if(_0x4e4ba8===_0x54f6cc)return _0x4159d0;const _0x196a4a=products[_0x46c2af(0x54e)](_0x5cfc31=>_0x5cfc31['id']==_0x423110[_0x46c2af(0x3ea)]);if(!_0x196a4a||_0x196a4a[_0x46c2af(0x3ea)]!=_0x47ab47)return _0x4159d0;const _0x18d14b=parseFloat(_0x196a4a[_0x46c2af(0x4c9)])||0x1;return _0x4159d0+(parseFloat(_0x423110[_0x46c2af(0x652)])||0x0)*_0x18d14b;},0x0);const _0x149b96=Math[_0x357673(0x1dd)](_0x534e15-_0x21dc5c,0x0),_0x12650d=_0x149b96/_0x2530dc;console[_0x357673(0x590)]('[updateCartItem]\x20excede\x20stock',{'availableInBase':_0x149b96,'maxQty':_0x12650d}),ntfShow('Sólo\x20quedan\x20'+_0x149b96['toFixed'](0x0)+'\x20unidades\x20'+('(equiv.\x20'+_0x12650d[_0x357673(0x35c)](0x2)+_0x357673(0x95))+_0x357673(0x2a6)),_0x166d12=_0x12650d;}if(_0x534e15<=0x0){ntfShow('El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.');return;}}}if(_0x1ac56b==_0x357673(0x252)){_0x5a2687[_0x54f6cc][_0x357673(0x422)]=_0x166d12;const _0x1d029b=_0x166d12,_0x34e0ba=myCompany[_0x357673(0x27e)][_0x357673(0x54e)](_0x406626=>_0x406626['setTaxId']==_0x1d029b),_0x535fa2=_0x34e0ba?_0x34e0ba['setImpuestoCode']:'',_0x436370=_0x34e0ba?_0x34e0ba[_0x357673(0x1fe)]:'';_0x5a2687[_0x54f6cc][_0x357673(0x252)]=_0x535fa2,_0x5a2687[_0x54f6cc][_0x357673(0x5cd)]=_0x436370;}else{if(_0x1ac56b==_0x357673(0x5e5))_0x5a2687[_0x54f6cc][_0x357673(0x5e5)]=_0x5a2687[_0x54f6cc][_0x357673(0x5e5)]?0x0:0x1;else _0x1ac56b==_0x357673(0x226)?(_0x5a2687[_0x54f6cc][_0x357673(0x385)][_0x357673(0x8a)]='00',_0x5a2687[_0x54f6cc][_0x357673(0x385)][_0x357673(0x226)]=_0x166d12):_0x5a2687[_0x54f6cc][_0x1ac56b]=_0x166d12;}if(_0x1ac56b=='setAccountingAccountId'){const _0x96366b=myCompany['setAccountingAccounts'][_0x357673(0x54e)](_0x3b7305=>_0x3b7305['setAccountingAccountId']==_0x166d12);_0x5a2687[_0x54f6cc]['setAccountingAccountCode']=_0x96366b?_0x96366b['setAccountingAccountCode']:'',_0x5a2687[_0x54f6cc][_0x357673(0xa2)]=_0x96366b?_0x96366b['setAccountingAccountName']:'',_0x5a2687[_0x54f6cc][_0x357673(0x451)]=_0x96366b?_0x96366b[_0x357673(0x451)]:'';}_0x1ac56b=='setMtoPrecioUnitario_input'&&(_0x5a2687[_0x54f6cc][_0x357673(0x4b0)]=0x0);_0x1ac56b==_0x357673(0x480)&&(_0x5a2687[_0x54f6cc]['setMtoValorCostoUnitario_input']=0x0);let _0x72318d;if(setTipOpeOrders[_0x357673(0x3b9)](_0x3bf112=>_0x3bf112==window_options[_0x2a3794][_0x357673(0x13b)])||setTipOpeSales[_0x357673(0x3b9)](_0x344b3c=>_0x344b3c==window_options[_0x2a3794][_0x357673(0x13b)])||setTipOpeQuotation[_0x357673(0x3b9)](_0x2e393d=>_0x2e393d==window_options[_0x2a3794][_0x357673(0x13b)])){_0x72318d=0x2;if(_0x1ac56b==_0x357673(0x652)){const _0x4e43a8=document[_0x357673(0x442)]('setMoneda-'+_0x2a3794)[_0x357673(0x5dc)],_0x31a54f=products['find'](_0x270845=>_0x270845['id']==_0x5a2687[_0x54f6cc]['setIdProducto']),_0x3a3d15=_0x31a54f[_0x357673(0x366)][_0x357673(0x54e)](_0x3485a1=>_0x3485a1[_0x357673(0x485)]==_0x4e43a8)||{},_0xc8286e=_0x3a3d15['setMtoPrecioUnitario']||0x0,_0x10db19=_0x3a3d15[_0x357673(0x43a)]||[],_0x388221=_0x5a2687[_0x54f6cc][_0x357673(0x652)],_0x5b565a=_0x10db19[_0x357673(0x41f)](_0x38873c=>_0x38873c[_0x357673(0x486)]==0x2),_0x37f896=_0x5b565a[_0x357673(0x54e)](_0x5a020f=>_0x388221>=_0x5a020f[_0x357673(0xc5)]&&_0x388221<=_0x5a020f[_0x357673(0x2e3)]);if(_0x5b565a['length']>0x0){let _0x1941e8;_0x37f896?_0x1941e8=calcFinalPrice(_0xc8286e,_0x37f896['setPriceListAdjustmentType'],_0x37f896['setPriceListAdjustmentAmount']):_0x1941e8=_0xc8286e,_0x5a2687[_0x54f6cc][_0x357673(0x4bc)]=_0x1941e8,_0x5a2687[_0x54f6cc]['setMtoValorUnitario_input']=0x0;}}}else _0x72318d=0x1;_0x72318d==0x1?_0x5a2687[_0x54f6cc][_0x357673(0x190)]=_0x5a2687[_0x54f6cc][_0x357673(0x480)]:_0x5a2687[_0x54f6cc][_0x357673(0x190)]=_0x5a2687[_0x54f6cc][_0x357673(0x4bc)];const _0x2ea28d=[{'valorUnit':0x0,'precioUnit':_0x5a2687[_0x54f6cc][_0x357673(0x190)],'valorCantidad':_0x5a2687[_0x54f6cc][_0x357673(0x652)],'valorPorcentajeIgv':_0x5a2687[_0x54f6cc][_0x357673(0x5cd)],'setTipAfeIgv':_0x5a2687[_0x54f6cc][_0x357673(0x252)],'setDescuento':{'setCodTipo':_0x5a2687[_0x54f6cc][_0x357673(0x385)][_0x357673(0x8a)],'setPorcentajeDesc':_0x5a2687[_0x54f6cc]['setDescuento']['setPorcentajeDesc']}}],{setInvoiceDetails:_0x776a13}=procesarProductos({'setPorcentajeGeneralIgv':myCompany['setImpuestos']['find'](_0x5e0eec=>_0x5e0eec['setTaxId']==_0x5a2687[_0x54f6cc][_0x357673(0x422)])[_0x357673(0x1fe)],'items':_0x2ea28d,'descuentoGlobalMonto':0x0}),_0x446993=_0x776a13[0x0];_0x5a2687[_0x54f6cc][_0x357673(0x32a)]=_0x446993[_0x357673(0x32a)],_0x5a2687[_0x54f6cc][_0x357673(0x38e)]=_0x446993[_0x357673(0x38e)],_0x5a2687[_0x54f6cc][_0x357673(0x2cc)]=_0x446993['setMtoValorVenta'],_0x5a2687[_0x54f6cc][_0x357673(0x277)]=_0x446993[_0x357673(0x277)],_0x5a2687[_0x54f6cc][_0x357673(0x5cd)]=_0x446993['setPorcentajeIgv'],_0x5a2687[_0x54f6cc][_0x357673(0x3db)]=_0x446993['setIgv'],_0x5a2687[_0x54f6cc]['setTipAfeIgv']=_0x446993['setTipAfeIgv'],_0x5a2687[_0x54f6cc]['setTotalImpuestos']=_0x446993[_0x357673(0x35b)],_0x5a2687[_0x54f6cc][_0x357673(0x1ba)]=_0x446993[_0x357673(0x1ba)],_0x5a2687[_0x54f6cc][_0x357673(0x190)]=_0x446993['setMtoPrecioUnitario_final'],_0x5a2687[_0x54f6cc][_0x357673(0x541)]=_0x446993[_0x357673(0x541)],_0x5a2687[_0x54f6cc]['setMtoPrecioUnitario_input']=_0x72318d==0x1?_0x5a2687[_0x54f6cc]['setMtoPrecioUnitario_input']:_0x446993[_0x357673(0x190)],_0x5a2687[_0x54f6cc]['setMtoPrecioCostoUnitario_input']=_0x72318d==0x1?_0x446993['setMtoPrecioUnitario_final']:_0x5a2687[_0x54f6cc][_0x357673(0x480)],_0x5a2687[_0x54f6cc][_0x357673(0x4b0)]=_0x72318d==0x1?_0x5a2687[_0x54f6cc][_0x357673(0x4b0)]:_0x446993[_0x357673(0x541)],_0x5a2687[_0x54f6cc][_0x357673(0x592)]=_0x72318d==0x1?_0x446993['setMtoValorUnitario_final']:_0x5a2687[_0x54f6cc]['setMtoValorCostoUnitario_input'],_0x5a2687[_0x54f6cc]['setDescuento_setCodTipo']=_0x446993['setDescuento_setCodTipo'],_0x5a2687[_0x54f6cc][_0x357673(0x13c)]=_0x446993[_0x357673(0x13c)],_0x5a2687[_0x54f6cc][_0x357673(0x9d)]=_0x446993[_0x357673(0x9d)],_0x5a2687[_0x54f6cc][_0x357673(0xdc)]=_0x446993[_0x357673(0xdc)],_0x5a2687[_0x54f6cc][_0x357673(0x5ce)]=_0x446993['setDescuento_setMonto_precio'],_0x5a2687[_0x54f6cc][_0x357673(0x226)]=_0x446993[_0x357673(0x226)],_0x5a2687[_0x54f6cc][_0x357673(0x47a)]=_0x446993[_0x357673(0x47a)],saveCart(_0x2a3794)[_0x357673(0x667)](()=>{const _0x86ffc8=_0x357673;renderCart(_0x2a3794),console[_0x86ffc8(0x590)]('Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20'+_0x2a3794);})[_0x357673(0x3d5)](_0x3c8c0d=>{const _0x5263d1=_0x357673;console[_0x5263d1(0x499)](_0x5263d1(0x10e),_0x3c8c0d);});}async function saveCart(_0x518710){return new Promise((_0x501473,_0x67fd5c)=>{const _0x64659e=_0x55d4;try{const _0x361f2c=carts[_0x518710]||[],_0x490d05=_0x64659e(0x5e8)+_0x518710;if(_0x361f2c[_0x64659e(0x301)]===0x0){const _0x253c39=db[_0x64659e(0x336)]([_0x490d05],'readwrite'),_0x2c4112=_0x253c39[_0x64659e(0x568)](_0x490d05),_0x30b502=_0x2c4112[_0x64659e(0x4e8)]();_0x30b502[_0x64659e(0x2d5)]=async()=>{const _0x33abbd=_0x64659e,_0x31ea0b=myCompany[_0x33abbd(0x101)]['find'](_0xa9e6a0=>_0xa9e6a0[_0x33abbd(0x1f5)]==_0x518710);_0x31ea0b[_0x33abbd(0x4fd)]=myCompany[_0x33abbd(0x2c4)][_0x33abbd(0x4fd)],_0x31ea0b[_0x33abbd(0x23f)]=[],_0x31ea0b[_0x33abbd(0x388)]=nowWithMillisecondsForServer();try{const _0x16a927=await createCartStore('');await saveCompanyToIndexedDB(company,_0x16a927),apiERPsyncWindowsCartTmp(),_0x501473();}catch(_0xccaa72){console['error'](_0x33abbd(0x58f),_0xccaa72),_0x67fd5c(_0xccaa72);}},_0x30b502[_0x64659e(0x461)]=_0x533953=>{const _0x31c0e5=_0x64659e;console['error'](_0x31c0e5(0x649),_0x533953[_0x31c0e5(0x58d)][_0x31c0e5(0x499)]),_0x67fd5c(_0x533953[_0x31c0e5(0x58d)][_0x31c0e5(0x499)]);},_0x253c39[_0x64659e(0x461)]=_0x131dcc=>{const _0x1a1722=_0x64659e;console[_0x1a1722(0x499)](_0x1a1722(0x4b5),_0x131dcc[_0x1a1722(0x58d)][_0x1a1722(0x499)]),_0x67fd5c(_0x131dcc[_0x1a1722(0x58d)][_0x1a1722(0x499)]);};return;}const _0x15d771=db[_0x64659e(0x336)]([_0x490d05],_0x64659e(0x1ee)),_0x56ff59=_0x15d771[_0x64659e(0x568)](_0x490d05);let _0x5e7c52=0x0;_0x361f2c['forEach']((_0x4861c5,_0x555d2a)=>{const _0x1b5168=_0x64659e,_0x1bf2fe=_0x56ff59['index']('cartId'),_0x5a0e18=_0x1bf2fe['get'](_0x4861c5[_0x1b5168(0x1e3)]);_0x5a0e18[_0x1b5168(0x2d5)]=async()=>{const _0x12e81b=_0x1b5168;if(_0x5a0e18[_0x12e81b(0x3f5)]){const _0x4a77ac={..._0x5a0e18[_0x12e81b(0x3f5)],..._0x4861c5},_0xedf8d3=_0x56ff59[_0x12e81b(0xfc)](_0x4a77ac);_0xedf8d3[_0x12e81b(0x2d5)]=async()=>{const _0x305544=_0x12e81b;_0x361f2c[_0x555d2a]['id']=_0x4a77ac['id'],_0x5e7c52++;if(_0x5e7c52==_0x361f2c[_0x305544(0x301)]){const _0x5cd3dd=myCompany[_0x305544(0x101)][_0x305544(0x54e)](_0x53732c=>_0x53732c[_0x305544(0x1f5)]==_0x518710);_0x5cd3dd[_0x305544(0x4fd)]=myCompany[_0x305544(0x2c4)][_0x305544(0x4fd)],_0x5cd3dd[_0x305544(0x23f)]=_0x361f2c,_0x5cd3dd[_0x305544(0x388)]=nowWithMillisecondsForServer();const _0x19d353=await createCartStore('');await saveCompanyToIndexedDB(company,_0x19d353),apiERPsyncWindowsCartTmp(),_0x501473();}};}else{const _0x5e3e96=_0x56ff59[_0x12e81b(0xfb)](_0x4861c5);_0x5e3e96['onsuccess']=async _0x3e8115=>{const _0x53c2b6=_0x12e81b,_0x437bcb=_0x3e8115[_0x53c2b6(0x58d)][_0x53c2b6(0x3f5)];_0x361f2c[_0x555d2a]['id']=_0x437bcb,_0x5e7c52++;if(_0x5e7c52==_0x361f2c[_0x53c2b6(0x301)]){const _0xbc73b6=myCompany[_0x53c2b6(0x101)][_0x53c2b6(0x54e)](_0x41124e=>_0x41124e[_0x53c2b6(0x1f5)]==_0x518710);_0xbc73b6[_0x53c2b6(0x4fd)]=myCompany['setUser_Local'][_0x53c2b6(0x4fd)],_0xbc73b6[_0x53c2b6(0x23f)]=_0x361f2c,_0xbc73b6[_0x53c2b6(0x388)]=nowWithMillisecondsForServer();const _0xd33d52=await createCartStore('');await saveCompanyToIndexedDB(company,_0xd33d52),apiERPsyncWindowsCartTmp(),_0x501473();}};}},_0x5a0e18[_0x1b5168(0x461)]=_0x53f633=>{const _0x180670=_0x1b5168;console[_0x180670(0x499)](_0x180670(0x668)+_0x4861c5['setIdProducto']+':',_0x53f633['target']['error']),_0x67fd5c(_0x53f633[_0x180670(0x58d)][_0x180670(0x499)]);};}),_0x15d771[_0x64659e(0x28e)]=function(){const _0x336e07=_0x64659e;console['log'](_0x336e07(0xf1)+_0x518710,_0x361f2c);},_0x15d771['onerror']=function(_0x42618e){const _0x1813df=_0x64659e;console['error']('Error\x20al\x20guardar\x20el\x20carrito.',_0x42618e[_0x1813df(0x58d)][_0x1813df(0x499)]),_0x67fd5c(_0x42618e[_0x1813df(0x58d)][_0x1813df(0x499)]);};}catch(_0x452a51){_0x67fd5c(_0x452a51);}});}async function removeFromCart(_0x41d834,_0x40fc6d,_0x19af01=''){const _0x164151=_0x36d314,_0x312973=carts[_0x41d834],_0x340dd8=_0x312973[_0x40fc6d];if(_0x19af01!=''){const _0x2fd246=_0x340dd8[_0x164151(0x51c)],_0xb4f029=myCompany[_0x164151(0x101)][_0x164151(0x54e)](_0x1e3b81=>_0x1e3b81[_0x164151(0x1f5)]==_0x41d834);if(_0xb4f029&&_0xb4f029['setShifts']){const _0x5eb063=_0xb4f029[_0x164151(0x376)][_0x164151(0x54e)](_0x27be16=>_0x27be16[_0x164151(0x57d)]==_0x2fd246);if(_0x5eb063&&_0x5eb063[_0x164151(0x5d3)]){const _0xfe7146=_0x5eb063['setOrders'][_0x164151(0x173)](_0x44f007=>_0x44f007[_0x164151(0x32e)]==_0x19af01);if(_0xfe7146!==-0x1){const _0xa0cd8c=_0x5eb063['setOrders'][_0xfe7146];if(_0xa0cd8c[_0x164151(0x25c)]&&Array[_0x164151(0x42a)](_0xa0cd8c[_0x164151(0x25c)])){const _0x3ad80f=_0xa0cd8c[_0x164151(0x25c)][_0x164151(0x301)];_0xa0cd8c[_0x164151(0x25c)]=_0xa0cd8c[_0x164151(0x25c)][_0x164151(0x41f)](_0x256277=>_0x256277[_0x164151(0x1e3)]!=_0x340dd8['cartId']);if(_0xa0cd8c[_0x164151(0x25c)]['length']<_0x3ad80f){const _0x32aa3a=_0xa0cd8c[_0x164151(0x25c)]['map'](_0x4231d4=>({'valorUnit':_0x4231d4[_0x164151(0x541)],'precioUnit':_0x4231d4[_0x164151(0x190)],'valorCantidad':_0x4231d4[_0x164151(0x652)],'valorPorcentajeIgv':_0x4231d4[_0x164151(0x5cd)],'setTipAfeIgv':_0x4231d4[_0x164151(0x252)],'setDescuento':{'setCodTipo':_0x4231d4[_0x164151(0x385)]?.[_0x164151(0x8a)]||'00','setPorcentajeDesc':_0x4231d4['setDescuento']?.[_0x164151(0x226)]||0x0}})),_0x1f5fa3=_0xa0cd8c[_0x164151(0x603)]||0x0,{setInvoice:_0x2cde47}=procesarProductos({'setPorcentajeGeneralIgv':myCompany[_0x164151(0x27e)][_0x164151(0x54e)](_0x1e2264=>_0x1e2264[_0x164151(0x422)]==myCompany[_0x164151(0x126)])?.[_0x164151(0x1fe)],'items':_0x32aa3a,'descuentoGlobalMonto':_0x1f5fa3});_0xa0cd8c[_0x164151(0xfa)]='2',_0xa0cd8c[_0x164151(0xc3)]=new Date()['toISOString'](),Object[_0x164151(0x218)](_0xa0cd8c,_0x2cde47),await storeOfflineOperation(_0xa0cd8c,0x1);_0xa0cd8c['setProductos'][_0x164151(0x301)]===0x0&&(_0x5eb063[_0x164151(0x5d3)][_0x164151(0x581)](_0xfe7146,0x1),console[_0x164151(0x590)](_0x164151(0x3d7)));_0xb4f029[_0x164151(0xd4)]=nowWithMillisecondsForServer();const _0x189fcf=await createCartStore('');await saveCompanyToIndexedDB(company,_0x189fcf),apiERPsync(),console[_0x164151(0x590)](_0x164151(0x310));}else console[_0x164151(0x509)](_0x164151(0x4f0));}else console[_0x164151(0x509)](_0x164151(0x3f8));}else console[_0x164151(0x509)](_0x164151(0x157));}else console['warn'](_0x164151(0x175));}else console['warn'](_0x164151(0x49f));}_0x312973['splice'](_0x40fc6d,0x1);const _0x4be76e=_0x164151(0x5e8)+_0x41d834,_0x2d790f=db['transaction']([_0x4be76e],_0x164151(0x1ee)),_0x5ca694=_0x2d790f[_0x164151(0x568)](_0x4be76e);_0x5ca694['delete'](_0x340dd8['id']),_0x2d790f['oncomplete']=function(){const _0x13c19a=_0x164151;console[_0x13c19a(0x590)](_0x13c19a(0x563)),saveCart(_0x41d834)['then'](()=>{const _0x76afac=_0x13c19a;renderCart(_0x41d834),console[_0x76afac(0x590)](_0x76afac(0x393)+_0x41d834);})[_0x13c19a(0x3d5)](_0x5df080=>{const _0x5b3722=_0x13c19a;console[_0x5b3722(0x499)]('Error\x20al\x20guardar\x20array',_0x5df080);});},_0x2d790f[_0x164151(0x461)]=function(_0x4ce814){const _0x140f85=_0x164151;console[_0x140f85(0x499)]('Error\x20al\x20eliminar\x20producto:',_0x4ce814[_0x140f85(0x58d)][_0x140f85(0x499)]);};}function removeAllFromCart(_0x3ab037,_0x205ff3=0x0){return new Promise((_0x4fd7bb,_0x5cafc0)=>{const _0x4a2c6f=_0x55d4;let _0x3edcd8;_0x205ff3==0x1?_0x3edcd8=carts[_0x3ab037]['filter'](_0x51c409=>_0x51c409[_0x4a2c6f(0x5e5)]==0x1):_0x3edcd8=getFilteredCart(_0x3ab037);const _0x3a3e31='cart_'+_0x3ab037,_0x19e4ba=db[_0x4a2c6f(0x336)]([_0x3a3e31],_0x4a2c6f(0x1ee)),_0xbbefbe=_0x19e4ba[_0x4a2c6f(0x568)](_0x3a3e31);_0x3edcd8[_0x4a2c6f(0x55b)](_0x34752e=>{const _0x158858=_0x4a2c6f;_0xbbefbe[_0x158858(0x345)](_0x34752e['id']);}),_0x19e4ba[_0x4a2c6f(0x28e)]=function(){const _0x4ed658=_0x4a2c6f;carts[_0x3ab037]=carts[_0x3ab037]['filter'](_0x584f53=>!_0x3edcd8[_0x4ed658(0x3b9)](_0x36d826=>_0x36d826[_0x4ed658(0x1e3)]==_0x584f53['cartId'])),saveCart(_0x3ab037)[_0x4ed658(0x667)](()=>{const _0x5896f4=_0x4ed658;renderCart(_0x3ab037),console[_0x5896f4(0x590)](_0x5896f4(0x393)+_0x3ab037);})[_0x4ed658(0x3d5)](_0xc2d72=>{console['error']('Error\x20al\x20guardar\x20array',_0xc2d72);}),_0x4fd7bb();},_0x19e4ba[_0x4a2c6f(0x461)]=function(_0x191219){const _0x13cbae=_0x4a2c6f;console['error'](_0x13cbae(0x241),_0x191219[_0x13cbae(0x58d)][_0x13cbae(0x499)]),_0x5cafc0(_0x191219[_0x13cbae(0x58d)][_0x13cbae(0x499)]);};});}function saveWindowOptionsDB(_0x2f4cc4){const _0x38c3c3=_0x36d314;return createCartStore('')[_0x38c3c3(0x667)](_0x13216e=>{const _0x3c73aa=_0x38c3c3,_0x5e9c7c=window_options[_0x2f4cc4],_0x1b674d='window_options_'+_0x2f4cc4,_0x3f12c4=_0x13216e[_0x3c73aa(0x336)]([_0x1b674d],_0x3c73aa(0x1ee)),_0x36a7fc=_0x3f12c4[_0x3c73aa(0x568)](_0x1b674d);return _0x36a7fc[_0x3c73aa(0xfc)]({'id':_0x2f4cc4,..._0x5e9c7c}),new Promise((_0x3dcf81,_0x2ee2a6)=>{const _0x192f0d=_0x3c73aa;_0x3f12c4[_0x192f0d(0x28e)]=function(){const _0x37272b=_0x192f0d;console[_0x37272b(0x590)](_0x37272b(0x5c4)+_0x2f4cc4+'\x20guardadas.'),_0x3dcf81(_0x2f4cc4);},_0x3f12c4[_0x192f0d(0x461)]=function(_0x38436e){const _0x5d2d65=_0x192f0d;console[_0x5d2d65(0x499)](_0x5d2d65(0x529),_0x38436e[_0x5d2d65(0x58d)][_0x5d2d65(0x499)]),_0x2ee2a6(_0x38436e['target'][_0x5d2d65(0x499)]);};});})['then'](_0x429bb8=>{return renderWindowOptions(_0x429bb8),_0x429bb8;})['catch'](_0x58ac6b=>{const _0x5221b3=_0x38c3c3;console[_0x5221b3(0x499)]('Error\x20al\x20crear\x20o\x20abrir\x20el\x20store\x20para\x20las\x20opciones\x20de\x20la\x20ventana:',_0x58ac6b);throw _0x58ac6b;});}function _0x55d4(_0x93a446,_0xb2f8b8){const _0x54d3fa=_0x35ef();return _0x55d4=function(_0x53b2cc,_0x38d6f9){_0x53b2cc=_0x53b2cc-0x85;let _0x2a1d8c=_0x54d3fa[_0x53b2cc];return _0x2a1d8c;},_0x55d4(_0x93a446,_0xb2f8b8);}function renderWindowOptions(_0x113e9a){return new Promise(_0x7005d3=>{const _0x2eb6b1=_0x55d4;document[_0x2eb6b1(0x442)](_0x2eb6b1(0x5d7)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x307)],document[_0x2eb6b1(0x442)]('setTipoOperacion-'+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x13b)],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x650)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x24a)],document['getElementById'](_0x2eb6b1(0x1b6)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x1d0)],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x236)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x1e1)],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x343)+_0x113e9a)['value']=window_options[_0x113e9a]['setClienteTipoDoc'],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x266)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x87)]??'',document[_0x2eb6b1(0x442)](_0x2eb6b1(0x53f)+_0x113e9a)['value']=window_options[_0x113e9a]['setClienteDenominacion']??'',document['getElementById'](_0x2eb6b1(0x1b3)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x438)]??'',document['getElementById'](_0x2eb6b1(0x410)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x49d)]??'',document['getElementById'](_0x2eb6b1(0x593)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x632)]??'',document[_0x2eb6b1(0x442)](_0x2eb6b1(0x1d8)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a]['setFechaHora'],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x12d)+_0x113e9a)['value']=window_options[_0x113e9a][_0x2eb6b1(0x2db)],document['getElementById']('setDespacho-'+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0xd3)],document[_0x2eb6b1(0x442)](_0x2eb6b1(0x377)+_0x113e9a)[_0x2eb6b1(0x5dc)]=window_options[_0x113e9a][_0x2eb6b1(0x31f)]??'',document[_0x2eb6b1(0x442)](_0x2eb6b1(0x267)+_0x113e9a)['value']=window_options[_0x113e9a]['setAttachEdit'],_0x7005d3();});}async function updateWindowOption(_0x282097,_0x472965,_0x2ecd7b){const _0x1b4c2a=_0x36d314;if(_0x472965=='setDetraccionCodigo'){const _0x49522e=document[_0x1b4c2a(0x442)]('detraccionCodigo-'+_0x282097),_0x1ddc37=_0x49522e[_0x1b4c2a(0x14b)][_0x49522e[_0x1b4c2a(0x3a8)]][_0x1b4c2a(0x648)];window_options[_0x282097][_0x1b4c2a(0x37c)]=_0x1ddc37;}if(_0x472965==_0x1b4c2a(0x2db)){const _0x36109a=document[_0x1b4c2a(0x442)](_0x1b4c2a(0x12d)+_0x282097),_0x4f2dbc=_0x36109a['options'][_0x36109a[_0x1b4c2a(0x3a8)]][_0x1b4c2a(0x648)];window_options[_0x282097][_0x1b4c2a(0x526)]=_0x4f2dbc;}_0x472965==_0x1b4c2a(0x478)&&(window_options[_0x282097][_0x1b4c2a(0x2f8)]=0x1),_0x472965=='setCorrelativo'&&(correlativeReadonly=0x1),_0x472965==_0x1b4c2a(0xfa)&&(_0x2ecd7b==0x1&&(correlativeReadonly=0x0)),window_options[_0x282097][_0x472965]=_0x2ecd7b,saveWindowOptionsDB(_0x282097);}function showModal(){const _0x5dbfbc=_0x36d314,_0x207e31=document['getElementById'](_0x5dbfbc(0x42d)),_0x5e378b=document[_0x5dbfbc(0x442)](_0x5dbfbc(0x285));_0x207e31['classList'][_0x5dbfbc(0xfb)](_0x5dbfbc(0x4fe)),_0x5e378b[_0x5dbfbc(0x12f)][_0x5dbfbc(0x140)]=_0x5dbfbc(0x549);const _0x3a305c=document['getElementById'](_0x5dbfbc(0x4c7)),_0x181e81=document[_0x5dbfbc(0x442)](_0x5dbfbc(0x655));if(!_0x3a305c||!_0x181e81){console[_0x5dbfbc(0x499)](_0x5dbfbc(0x4c6));return;}_0x3a305c[_0x5dbfbc(0x33f)](_0x3a305c[_0x5dbfbc(0x380)](!![])),_0x181e81[_0x5dbfbc(0x33f)](_0x181e81[_0x5dbfbc(0x380)](!![]));const _0x467557=document[_0x5dbfbc(0x442)](_0x5dbfbc(0x4c7)),_0x57dd6c=document['getElementById'](_0x5dbfbc(0x655));_0x467557['addEventListener'](_0x5dbfbc(0x45d),()=>hideModal()),_0x57dd6c['addEventListener'](_0x5dbfbc(0x45d),()=>hideModal());}function hideModal(){const _0x35d592=_0x36d314,_0x5da873=document['getElementById']('detalleModal'),_0x4e6e56=document[_0x35d592(0x442)](_0x35d592(0x285));_0x5da873[_0x35d592(0x9f)]['remove']('active'),_0x4e6e56[_0x35d592(0x12f)]['display']='none';}document[_0x36d314(0x442)](_0x36d314(0x285))[_0x36d314(0x524)](_0x36d314(0x45d),_0x10d15e=>{const _0x1471b7=_0x36d314;_0x10d15e['target']==_0x10d15e[_0x1471b7(0x407)]&&_0x10d15e[_0x1471b7(0x511)]();});function showModalPay(){const _0x2a8930=_0x36d314,_0x43aa3f=document[_0x2a8930(0x442)]('detalleModalPay'),_0x7d3a45=document[_0x2a8930(0x442)](_0x2a8930(0x46c));_0x43aa3f[_0x2a8930(0x9f)][_0x2a8930(0xfb)](_0x2a8930(0x4fe)),_0x7d3a45[_0x2a8930(0x12f)][_0x2a8930(0x140)]=_0x2a8930(0x549);}function hideModalPay(){const _0x4ec4cb=_0x36d314,_0x4d541c=document['getElementById'](_0x4ec4cb(0x19b)),_0x26f56e=document[_0x4ec4cb(0x442)](_0x4ec4cb(0x46c));_0x4d541c[_0x4ec4cb(0x9f)][_0x4ec4cb(0x44c)](_0x4ec4cb(0x4fe)),_0x26f56e['style'][_0x4ec4cb(0x140)]='none';}document[_0x36d314(0x442)]('closeModalPay')['addEventListener']('click',hideModalPay),document['getElementById'](_0x36d314(0x46c))[_0x36d314(0x524)]('click',_0x41b07b=>{const _0x1e769c=_0x36d314;_0x41b07b['target']==_0x41b07b[_0x1e769c(0x407)]&&_0x41b07b[_0x1e769c(0x511)]();});async function showModalLayout(){const _0x370af2=_0x36d314;showLoadingModal();const _0xc042f5=document['getElementById'](_0x370af2(0x3fe))[_0x370af2(0x5dc)],_0x254e13=myCompany['setPrintServers'],_0xd488aa=_0x254e13['find'](_0x29b251=>_0x29b251[_0x370af2(0x3fe)]==_0xc042f5&&_0x29b251['setServerType']==0x2),_0x132d6a=getUserPermissionApiERP(0xd),_0x5e492c=_0xd488aa?0x1:0x0;if(_0x5e492c==0x1&&_0x132d6a==0x1){const _0x3d3004=myCompany[_0x370af2(0x101)];let _0x185f5c=[];const _0x3c07c0=_0xd488aa[_0x370af2(0x3eb)][_0x370af2(0x1f1)](_0x370af2(0x2b7),_0x370af2(0xfe));await new Promise((_0xa56d39,_0x552277)=>{const _0x256c3c=_0x370af2,_0x5e3623=document[_0x256c3c(0x28c)](_0x256c3c(0x65a));_0x5e3623['style'][_0x256c3c(0x140)]='none',_0x5e3623[_0x256c3c(0x5f3)]=_0x3c07c0,document[_0x256c3c(0x287)][_0x256c3c(0x47d)](_0x5e3623);const _0x4ce6c0=setTimeout(()=>{const _0x177ac4=_0x256c3c;hideLoadingModal(),window['removeEventListener'](_0x177ac4(0x20d),_0x517764),document[_0x177ac4(0x287)]['removeChild'](_0x5e3623),_0x552277(_0x177ac4(0x439));},0xbb8),_0x517764=function(_0x37fdea){const _0xdbe06d=_0x256c3c,_0x1f31c1=_0x37fdea[_0xdbe06d(0x166)];if(!Array[_0xdbe06d(0x42a)](_0x1f31c1)){hideLoadingModal(),console[_0xdbe06d(0x499)](_0xdbe06d(0x591)),clearTimeout(_0x4ce6c0),window[_0xdbe06d(0x5ef)](_0xdbe06d(0x20d),_0x517764),document['body'][_0xdbe06d(0xbd)](_0x5e3623),_0x552277('Data\x20no\x20válida');return;}_0x185f5c=_0x1f31c1[_0xdbe06d(0x41f)](_0x1b68ad=>!_0x3d3004[_0xdbe06d(0x3b9)](_0x3a2065=>_0x3a2065[_0xdbe06d(0x1f5)]==_0x1b68ad[_0xdbe06d(0x1f5)])),myCompany[_0xdbe06d(0x101)]=_0x1f31c1,((async()=>{const _0x27b852=_0xdbe06d,_0x52ade7=await createCartStore('');await saveCompanyToIndexedDB(company,_0x52ade7);for(const _0x386f8f of _0x185f5c){await new Promise(_0xff65c2=>setTimeout(_0xff65c2,0x12c)),await createCartStore(_0x386f8f['setWindowId']);}console['log']('Windows\x20Update\x20Local\x20Successfully.'),clearTimeout(_0x4ce6c0),window['removeEventListener'](_0x27b852(0x20d),_0x517764),document[_0x27b852(0x287)][_0x27b852(0xbd)](_0x5e3623),_0xa56d39();})());};window[_0x256c3c(0x524)](_0x256c3c(0x20d),_0x517764,![]);});}else!isWebSocketActive()&&await apiERPgetWindows();hideLoadingModal();const _0x5484d8=document[_0x370af2(0x442)](_0x370af2(0x460)),_0x4c1ac6=document[_0x370af2(0x442)](_0x370af2(0x34c));_0x5484d8[_0x370af2(0x9f)][_0x370af2(0xfb)](_0x370af2(0x4fe)),_0x4c1ac6['style'][_0x370af2(0x140)]=_0x370af2(0x549);const _0x3d7740=document[_0x370af2(0x442)]('setFloorId')[_0x370af2(0x5dc)],_0x36a42a=document['getElementById'](_0x370af2(0x3fe))[_0x370af2(0x5dc)];cargarVentanas(_0x36a42a,_0x3d7740),createTabsEnvironments();}function hideModalLayout(){const _0x50f130=_0x36d314,_0x11509f=document[_0x50f130(0x442)](_0x50f130(0x460)),_0x2a4a8d=document[_0x50f130(0x442)](_0x50f130(0x34c));_0x11509f['classList'][_0x50f130(0x44c)](_0x50f130(0x4fe)),_0x2a4a8d[_0x50f130(0x12f)][_0x50f130(0x140)]='none';}document[_0x36d314(0x442)](_0x36d314(0x13d))[_0x36d314(0x524)](_0x36d314(0x45d),hideModalLayout),document[_0x36d314(0x442)](_0x36d314(0x34c))[_0x36d314(0x524)](_0x36d314(0x45d),_0x3e74a8=>{const _0x275be6=_0x36d314;_0x3e74a8['target']==_0x3e74a8['currentTarget']&&_0x3e74a8[_0x275be6(0x511)]();});function showModalOptions(){const _0x31164d=_0x36d314,_0x3d5142=document[_0x31164d(0x442)](_0x31164d(0x467)),_0x32e081=document[_0x31164d(0x442)](_0x31164d(0x204));_0x3d5142[_0x31164d(0x9f)][_0x31164d(0xfb)]('active'),_0x32e081['style'][_0x31164d(0x140)]='block';}function hideModalOptions(){const _0x17deaf=_0x36d314,_0x2224e0=document['getElementById'](_0x17deaf(0x467)),_0x17a30e=document[_0x17deaf(0x442)](_0x17deaf(0x204));_0x2224e0[_0x17deaf(0x9f)][_0x17deaf(0x44c)](_0x17deaf(0x4fe)),_0x17a30e[_0x17deaf(0x12f)][_0x17deaf(0x140)]=_0x17deaf(0xb0);}document[_0x36d314(0x442)]('modalOverlayOptions')[_0x36d314(0x524)](_0x36d314(0x45d),_0x5f3455=>{const _0x56a7ae=_0x36d314;_0x5f3455[_0x56a7ae(0x58d)]==_0x5f3455[_0x56a7ae(0x407)]&&_0x5f3455[_0x56a7ae(0x511)]();});function showSection(_0x453449,_0x33a03a=''){const _0x2fe666=_0x36d314,_0x203218=[_0x2fe666(0x429),_0x2fe666(0x1d1),_0x2fe666(0x122)];if(_0x453449==_0x2fe666(0x122)){setDivTotalPay(_0x33a03a),showModalPay();return;}if(_0x453449==_0x2fe666(0x1d1)){showModalOptions();return;}_0x203218['forEach'](_0x1e7222=>{const _0x4c07b2=_0x2fe666,_0x301ac2=document['getElementById'](_0x1e7222);_0x301ac2?_0x1e7222!==_0x4c07b2(0x122)&&_0x1e7222!==_0x4c07b2(0x1d1)&&_0x301ac2['classList'][_0x4c07b2(0x228)](_0x4c07b2(0x362),_0x1e7222!==_0x453449):console[_0x4c07b2(0x509)](_0x4c07b2(0xee)+_0x1e7222+_0x4c07b2(0x4af));});}function optionsPdf(_0x34e3a6){const _0x28ed55=_0x36d314,_0x1dd950=document[_0x28ed55(0x442)](_0x28ed55(0x3d9)),_0x36f762=document['getElementById'](_0x28ed55(0x472)),_0x17152=document[_0x28ed55(0x442)]('btnOpciones'),_0x2914bf=document[_0x28ed55(0x442)](_0x28ed55(0x580)),_0x228a78=document[_0x28ed55(0x442)](_0x28ed55(0x224)),_0x32f93c=document[_0x28ed55(0x442)](_0x28ed55(0x3a6));if(_0x34e3a6==0x1)_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x29e)),_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x2c5)),_0x36f762['classList'][_0x28ed55(0x44c)]('btnModalActive'),_0x36f762[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x29e)),_0x17152['classList'][_0x28ed55(0x44c)]('btnModalActive'),_0x17152[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x29e)),_0x2914bf[_0x28ed55(0x9f)]['remove']('hidden'),_0x228a78[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x362)),_0x32f93c[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x362));else _0x34e3a6==0x2?(_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x2c5)),_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x29e)),_0x36f762[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x29e)),_0x36f762[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x2c5)),_0x17152[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x2c5)),_0x17152['classList'][_0x28ed55(0xfb)](_0x28ed55(0x29e)),_0x2914bf['classList'][_0x28ed55(0xfb)](_0x28ed55(0x362)),_0x228a78[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x362)),_0x32f93c[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x362))):(_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x2c5)),_0x1dd950[_0x28ed55(0x9f)][_0x28ed55(0xfb)](_0x28ed55(0x29e)),_0x36f762[_0x28ed55(0x9f)][_0x28ed55(0x44c)]('btnModalActive'),_0x36f762[_0x28ed55(0x9f)][_0x28ed55(0xfb)]('btnModal'),_0x17152[_0x28ed55(0x9f)][_0x28ed55(0x44c)](_0x28ed55(0x29e)),_0x17152[_0x28ed55(0x9f)][_0x28ed55(0xfb)]('btnModalActive'),_0x2914bf[_0x28ed55(0x9f)]['add'](_0x28ed55(0x362)),_0x228a78['classList']['add'](_0x28ed55(0x362)),_0x32f93c[_0x28ed55(0x9f)]['remove'](_0x28ed55(0x362)));}function updateSerieOptionsAttach(_0x7814f6,_0x402c31){const _0x5cfbaa=_0x36d314,_0x1a1c70=document[_0x5cfbaa(0x442)](_0x5cfbaa(0xda)+_0x402c31);_0x1a1c70[_0x5cfbaa(0x528)]='';const _0x402206=document[_0x5cfbaa(0x442)](_0x5cfbaa(0x3fe))['value'],_0x216f8c=myCompany[_0x5cfbaa(0x644)][_0x5cfbaa(0x41f)](_0x535d29=>_0x535d29[_0x5cfbaa(0x180)]==_0x7814f6&&_0x535d29[_0x5cfbaa(0x174)]==_0x402206);_0x216f8c[_0x5cfbaa(0x55b)](_0x41bb55=>{const _0x51ef0e=_0x5cfbaa;_0x1a1c70['appendChild'](createElement(_0x51ef0e(0x4c5),{'value':_0x41bb55[_0x51ef0e(0x24a)]},[_0x41bb55[_0x51ef0e(0x24a)]]));}),_0x216f8c['length']&&(_0x1a1c70[_0x5cfbaa(0x5dc)]=_0x216f8c[0x0][_0x5cfbaa(0x24a)]),window_options[_0x402c31]['setAttachType']=_0x7814f6;}async function consultAttach(_0x507f88){const _0x26b754=_0x36d314,_0xef385d=document[_0x26b754(0x442)](_0x26b754(0x356)+_0x507f88);if(!_0xef385d){console[_0x26b754(0x499)]('No\x20se\x20encontró\x20el\x20botón');return;}const _0x333d1d=document[_0x26b754(0x442)](_0x26b754(0x267)+_0x507f88)[_0x26b754(0x5dc)],_0x3f00e3=document[_0x26b754(0x442)](_0x26b754(0x4cd)+_0x507f88)[_0x26b754(0x5dc)],_0x255ec6=document[_0x26b754(0x442)]('setAttachSeries-'+_0x507f88)[_0x26b754(0x5dc)],_0x5db7b3=document[_0x26b754(0x442)](_0x26b754(0x367)+_0x507f88)[_0x26b754(0x5dc)];_0xef385d[_0x26b754(0x41a)]=!![],hideModalOptions(),showLoadingModal();try{const _0xa352cb=myCompany['setApiEndPoint'],_0x475ca3={'apiPOS_getAttach':0x1,'setToken':myCompany[_0x26b754(0x32d)],'setAttachEdit':_0x333d1d,'setAttachType':_0x3f00e3,'setAttachSeries':_0x255ec6,'setAttachNumber':_0x5db7b3},_0x21bd65=await fetch(_0xa352cb,{'method':_0x26b754(0x3d0),'headers':{'Content-Type':_0x26b754(0x452)},'body':JSON['stringify'](_0x475ca3)}),_0x2ac3f5=await _0x21bd65[_0x26b754(0x606)]();if(_0x2ac3f5[_0x26b754(0x2e0)]&&_0x2ac3f5[_0x26b754(0x20d)][_0x26b754(0x2ce)]){await removeAllFromCart(_0x507f88);const _0x524711=_0x2ac3f5[_0x26b754(0x20d)][_0x26b754(0x2ce)],_0x174e27=_0x2ac3f5['message'][_0x26b754(0x616)];(_0x333d1d==0x1||_0x333d1d==0x2)&&(window_options[_0x507f88][_0x26b754(0x13b)]=_0x524711[_0x26b754(0x8c)],await updateSerieOptions(_0x524711[_0x26b754(0x8c)],_0x507f88),window_options[_0x507f88][_0x26b754(0x24a)]=_0x524711[_0x26b754(0x53d)],window_options[_0x507f88][_0x26b754(0x1d0)]=_0x524711[_0x26b754(0x5fa)]);window_options[_0x507f88][_0x26b754(0x5f0)]=_0x524711['setReceiptClientDocType'],window_options[_0x507f88][_0x26b754(0x87)]=_0x524711['setReceiptClientDocNumber'],window_options[_0x507f88]['setClienteDenominacion']=_0x524711[_0x26b754(0x116)],window_options[_0x507f88][_0x26b754(0x438)]=_0x524711[_0x26b754(0xba)],window_options[_0x507f88][_0x26b754(0x1e1)]=_0x524711['setReceiptCurrency'],window_options[_0x507f88][_0x26b754(0x31f)]=_0x524711[_0x26b754(0x2e5)];_0x3f00e3!=0x29&&(window_options[_0x507f88][_0x26b754(0xd3)]=_0x524711[_0x26b754(0x104)],document[_0x26b754(0x442)](_0x26b754(0x1af))[_0x26b754(0x5dc)]=_0x524711[_0x26b754(0x1af)],document[_0x26b754(0x442)]('setWarehouseId')[_0x26b754(0x253)](new Event(_0x26b754(0x614))));window_options[_0x507f88][_0x26b754(0x603)]=_0x524711['setReceiptDescGlobal'],window_options[_0x507f88][_0x26b754(0x24d)]=_0x524711[_0x26b754(0x289)],window_options[_0x507f88][_0x26b754(0x56a)]=_0x174e27,await saveWindowOptionsDB(_0x507f88);for(let _0x19306a=0x0;_0x19306a<_0x174e27[_0x26b754(0x301)];_0x19306a++){const _0x4996e2=_0x174e27[_0x19306a],_0x3f9b1d=products['find'](_0x586b56=>_0x586b56['id']==_0x4996e2[_0x26b754(0x3ea)]);_0x3f9b1d&&(await new Promise(_0x29d1dc=>setTimeout(_0x29d1dc,0x64)),addToCart(_0x3f9b1d,{'setValorCantidad':_0x4996e2[_0x26b754(0x357)],'setMtoPrecioUnitario_final':_0x4996e2[_0x26b754(0x200)],'setTaxId':_0x4996e2[_0x26b754(0x422)],'setTipAfeIgv':_0x4996e2[_0x26b754(0x252)],'setPorcentajeDesc':_0x4996e2[_0x26b754(0x226)],'setNotas':_0x4996e2[_0x26b754(0x599)],'setMtoPrecioUnitario_input':_0x4996e2[_0x26b754(0x200)],'setMtoPrecioCostoUnitario_input':_0x4996e2[_0x26b754(0x4a3)]},0x1,_0x507f88));}if([0x2,0x3][_0x26b754(0x62a)](parseInt(_0x333d1d,0xa))){const _0x397972=document['getElementById'](_0x26b754(0x5ab)+_0x507f88);_0x397972[_0x26b754(0x528)]='';const _0x3c3660=document[_0x26b754(0x28c)]('p');_0x3c3660['id']=_0x26b754(0x49c)+_0x507f88,_0x3c3660[_0x26b754(0x638)]=_0x255ec6+'-'+_0x5db7b3,Object[_0x26b754(0x218)](_0x3c3660[_0x26b754(0x12f)],{'display':_0x26b754(0x48d),'alignItems':_0x26b754(0x4f8),'backgroundColor':_0x26b754(0xf7),'color':_0x26b754(0x3ba),'padding':_0x26b754(0x500),'borderRadius':_0x26b754(0x3f3),'fontSize':'0.9em','fontWeight':_0x26b754(0x4bb),'margin':_0x26b754(0xff)});const _0x335214=document['createElement'](_0x26b754(0x278));_0x335214['textContent']='✕',Object[_0x26b754(0x218)](_0x335214[_0x26b754(0x12f)],{'marginLeft':_0x26b754(0x18c),'background':_0x26b754(0x40e),'border':_0x26b754(0xb0),'cursor':_0x26b754(0x305),'fontSize':_0x26b754(0x635),'lineHeight':'1','color':_0x26b754(0x251)}),_0x335214[_0x26b754(0x279)]('aria-label','Desanexar\x20comprobante'),_0x335214[_0x26b754(0x524)](_0x26b754(0x45d),()=>{const _0x503df6=_0x26b754;window_options[_0x507f88]['setReceiptAttachId']='',window_options[_0x507f88][_0x503df6(0x56a)]=[],_0x397972[_0x503df6(0x528)]='',saveWindowOptionsDB(_0x507f88);}),_0x3c3660[_0x26b754(0x47d)](_0x335214),_0x397972[_0x26b754(0x47d)](_0x3c3660);}}else ntfShow(_0x26b754(0x2b3)),console[_0x26b754(0x590)]('No\x20se\x20encontraron\x20resultados');}catch(_0x43e591){ntfShow(_0x26b754(0x16b)),console[_0x26b754(0x499)]('Error\x20en\x20la\x20solicitud:',_0x43e591);}finally{_0xef385d['disabled']=![],hideLoadingModal();}}async function setPrintOnline(_0x3725be,_0x46ecb4,_0x591f94,_0x19e9dd=0x0){const _0x45c330=_0x36d314,_0xe8a1de=document[_0x45c330(0x442)](_0x45c330(0x3fe))[_0x45c330(0x5dc)],_0x56eac9=myCompany['setPrintServers'],_0xddde7d=_0x56eac9[_0x45c330(0x54e)](_0x210fd4=>_0x210fd4[_0x45c330(0x3fe)]==_0xe8a1de&&_0x210fd4[_0x45c330(0x2f0)]==0x1),_0x56faa6=getUserPermissionApiERP(0x6),_0xc636d0=_0xddde7d?0x1:0x0;if(!_0x46ecb4){ntfShow(_0x45c330(0x136));return;}_0x19e9dd!=0x1&&hideModal();showLoadingModal();const _0x51cf19=document[_0x45c330(0x442)](_0x45c330(0xd5));_0x51cf19['innerHTML']='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Imprimiendo\x20en\x20'+_0x3725be+_0x45c330(0x41e);if(_0xc636d0==0x1&&_0x56faa6==0x1){const _0x58f0e7=_0x45c330(0x1fb)+generateUUID(),_0x51392f=document[_0x45c330(0x28c)](_0x45c330(0x65a));_0x51392f[_0x45c330(0x482)]=_0x58f0e7,_0x51392f[_0x45c330(0x12f)]['display']='none',document[_0x45c330(0x287)][_0x45c330(0x47d)](_0x51392f);const _0xf4a777=document[_0x45c330(0x28c)]('form');_0xf4a777[_0x45c330(0x39f)]=_0x45c330(0x3d0),_0xf4a777[_0x45c330(0x613)]=_0xddde7d[_0x45c330(0x3eb)],_0xf4a777[_0x45c330(0x3d6)]=_0x45c330(0x304),_0xf4a777[_0x45c330(0x58d)]=_0x51392f[_0x45c330(0x482)];const _0x52856c={'printData':JSON['stringify']({'setPrinterName':_0x3725be,'setPdfName':_0x591f94,'setPrint':0x1})};for(const _0x38e39f in _0x52856c){const _0x501145=document[_0x45c330(0x28c)](_0x45c330(0x1a7));_0x501145[_0x45c330(0x24c)]='hidden',_0x501145['name']=_0x38e39f,_0x501145[_0x45c330(0x5dc)]=_0x52856c[_0x38e39f],_0xf4a777['appendChild'](_0x501145);}const _0x513b0c=document[_0x45c330(0x28c)](_0x45c330(0x1a7));_0x513b0c['type']=_0x45c330(0x501),_0x513b0c[_0x45c330(0x482)]='pdfBlob';const _0xe88e20=new File([_0x46ecb4],_0x45c330(0x573),{'type':'application/pdf'}),_0x1936db=new DataTransfer();_0x1936db[_0x45c330(0x45a)][_0x45c330(0xfb)](_0xe88e20),_0x513b0c[_0x45c330(0x63b)]=_0x1936db[_0x45c330(0x63b)],_0xf4a777[_0x45c330(0x47d)](_0x513b0c),document[_0x45c330(0x287)][_0x45c330(0x47d)](_0xf4a777),_0xf4a777[_0x45c330(0x182)](),document['body']['removeChild'](_0xf4a777),await new Promise(_0x2fbad1=>setTimeout(_0x2fbad1,0x4b0)),setTimeout(()=>{document['body']['removeChild'](_0x51392f);},0xaf0),hideLoadingModal(),_0x19e9dd!=0x1&&showModal();}else{if(!isOnline())return console[_0x45c330(0x590)](_0x45c330(0x4d6)),null;const _0x297c54={'setAuthToken':myCompany[_0x45c330(0x32d)],'setPrinterName':_0x3725be,'setPdfName':_0x591f94,'setBucketName':_0x45c330(0x566),'setPrint':0x1},_0xbd14a=new FormData();_0xbd14a['append'](_0x45c330(0x496),JSON[_0x45c330(0x52b)](_0x297c54));if(_0x46ecb4 instanceof Blob&&_0x46ecb4['size']>0x0)_0xbd14a[_0x45c330(0x4a7)]('pdfBlob',_0x46ecb4,'documento.pdf');else{console[_0x45c330(0x499)]('PDF\x20Error.');return;}try{const _0x1bbc5f=await fetch(_0x45c330(0x8d),{'method':_0x45c330(0x3d0),'body':_0xbd14a});if(!_0x1bbc5f['ok'])throw new Error(_0x45c330(0x3ff)+_0x1bbc5f[_0x45c330(0x52a)]);const _0x172f45=await _0x1bbc5f[_0x45c330(0x606)]();if(!_0x172f45['success'])throw new Error(_0x172f45[_0x45c330(0x20d)]||_0x45c330(0x26a));_0x51cf19[_0x45c330(0x528)]='<span\x20style=\x22display:\x20block;\x20text-align:\x20center;\x20font-size:\x2020px;\x22>Impresión\x20Completada...</span>';}catch(_0x1ab438){ntfShow(_0x1ab438);}finally{hideLoadingModal(),_0x19e9dd!=0x1&&showModal();}}}async function processPrints(_0xb25d54){const _0x1b84d1=_0x36d314;for(const _0x43e8bc of _0xb25d54){const {payloadComand:_0x5d5eb7}=_0x43e8bc,{pdfBlob:_0x3a37a4,pdfName:_0x47251d}=await generatePdf(_0x5d5eb7,'tk',_0x1b84d1(0x3cd),'1.5'),_0x4760e3=_0x47251d[_0x1b84d1(0x1f1)](_0x1b84d1(0x617),'-'+_0x43e8bc[_0x1b84d1(0x21e)]+_0x1b84d1(0x617));await setPrintOnline(_0x43e8bc[_0x1b84d1(0x1ad)],_0x3a37a4,_0x4760e3,0x1);}}function setPrinter(_0x11bdd7,_0x8dbf5c){const _0x400a46=_0x36d314;document[_0x400a46(0x442)](_0x400a46(0x60d))['textContent']=_0x8dbf5c,document['getElementById'](_0x400a46(0x60d))['setAttribute'](_0x400a46(0xf3),_0x11bdd7);}async function generatePdfTk(){const _0x1e181f=_0x36d314,_0x5431ca=document['getElementById'](_0x1e181f(0x61e))[_0x1e181f(0x5dc)],{pdfGlobalPayload:_0x2ae971,pdfGlobalBlob:_0x40f1d8,pdfGlobalName:_0x38fef8}=getLastOperationGlobalData(_0x5431ca),{pdfBlob:_0x1d32c4,pdfName:_0x37612d}=await generatePdf(_0x2ae971,'tk',_0x1e181f(0x3cd),_0x1e181f(0x558));setLastOperationGlobalData(_0x5431ca,{'pdfGlobalPayload':_0x2ae971,'pdfGlobalBlob':_0x1d32c4,'pdfGlobalName':_0x37612d});}async function generatePdfA4(){const _0x3c1e96=_0x36d314,_0x2fdfaa=document[_0x3c1e96(0x442)]('windowId')['value'],{pdfGlobalPayload:_0x565893,pdfGlobalBlob:_0x32f4c4,pdfGlobalName:_0x466cda}=getLastOperationGlobalData(_0x2fdfaa),{pdfBlob:_0x63e0,pdfName:_0x3bbf3f}=await generatePdf(_0x565893,'a4','pdfCanvas',_0x3c1e96(0x558));setLastOperationGlobalData(_0x2fdfaa,{'pdfGlobalPayload':_0x565893,'pdfGlobalBlob':_0x63e0,'pdfGlobalName':_0x3bbf3f});}function cargarVentanas(_0x46d56f,_0x26817c){const _0x5af961=_0x36d314,_0x3f7145=myCompany[_0x5af961(0x101)][_0x5af961(0x41f)](_0x3a76b8=>_0x3a76b8[_0x5af961(0x3fe)]==_0x46d56f&&_0x3a76b8[_0x5af961(0x11a)]==_0x26817c),_0x364693=0x5,_0x1b3895=0x5,_0x18cfa9=0x5,_0x1353cd=0x5,_0x29daf0=0x78,_0x4c6091=0x78;let _0x118582=_0x364693,_0x2c50e9=_0x1b3895;!posicionesPorPiso[_0x26817c]&&(posicionesPorPiso[_0x26817c]={});const _0x23c336=_0x3f7145[_0x5af961(0x4a8)](_0x519c78=>{const _0x2f93ae=_0x5af961;posicionesPorPiso[_0x26817c][_0x519c78[_0x2f93ae(0x1f5)]]?(_0x519c78['x']=posicionesPorPiso[_0x26817c][_0x519c78['setWindowId']]['x'],_0x519c78['y']=posicionesPorPiso[_0x26817c][_0x519c78[_0x2f93ae(0x1f5)]]['y']):(_0x519c78['x']=_0x118582,_0x519c78['y']=_0x2c50e9,posicionesPorPiso[_0x26817c][_0x519c78['setWindowId']]={'x':_0x118582,'y':_0x2c50e9},_0x118582+=_0x29daf0+_0x18cfa9,_0x118582+_0x29daf0>layout_windows[_0x2f93ae(0x618)]&&(_0x118582=_0x364693,_0x2c50e9+=_0x4c6091+_0x1353cd));let _0x881653={'setWindowId':_0x519c78[_0x2f93ae(0x1f5)],'setWindowType':_0x519c78[_0x2f93ae(0x621)],'setWindowName':_0x519c78['setWindowName'],'x':_0x519c78['x'],'y':_0x519c78['y'],'zona':_0x519c78['setFloorName'],'floorId':_0x519c78[_0x2f93ae(0x11a)]};return[_0x2f93ae(0x44a),_0x2f93ae(0x63e),_0x2f93ae(0x3cc),_0x2f93ae(0xdf)][_0x2f93ae(0x62a)](_0x519c78['setWindowType'])&&(_0x881653[_0x2f93ae(0x235)]=_0x519c78[_0x2f93ae(0x235)]||'square-small',_0x881653[_0x2f93ae(0x263)]=_0x519c78[_0x2f93ae(0x263)]||_0x2f93ae(0x598)),_0x881653;}),_0x5da5a3=extraElements['filter'](_0x35c13c=>_0x35c13c['floorId']==_0x26817c);elementos=[..._0x23c336,..._0x5da5a3],crearElementos();}function crearElementos(){const _0x440ed2=_0x36d314,_0xdab68c=myCompany[_0x440ed2(0x488)],_0x3509ec=myCompany[_0x440ed2(0x564)][_0x440ed2(0x54e)](_0x1f8e12=>_0x1f8e12[_0x440ed2(0x3c6)]==_0xdab68c),_0x189ae5=_0x3509ec?_0x3509ec[_0x440ed2(0x640)]:'';layout_windows[_0x440ed2(0x528)]='',elementos['forEach'](_0x1a4e70=>{const _0x5bc3cc=_0x440ed2;let _0x21310f='',_0x148721=0x0,_0xf38d4f=0x0,_0x4fd88b;const _0x320184=getValidatedWindowAndShift(_0x1a4e70[_0x5bc3cc(0x1f5)]);if(_0x320184){const {currentWindowShift:_0x4adf5e}=_0x320184;if(_0x4adf5e){if(_0x320184[_0x5bc3cc(0x142)][_0x5bc3cc(0x263)]==_0x5bc3cc(0x3a5))_0x21310f=_0x5bc3cc(0x661)+formatShiftDate(_0x4adf5e[_0x5bc3cc(0xb4)]);else _0x320184[_0x5bc3cc(0x142)][_0x5bc3cc(0x263)]=='occupied'&&(_0x21310f='<i\x20class=\x22bi\x20bi-clock\x22></i>\x20'+formatShiftDate(_0x4adf5e['setShiftDateStart']));const _0x3e3224=_0x4adf5e[_0x5bc3cc(0x5d3)]||[];_0x148721=_0x3e3224['filter'](_0x5a9ed7=>setTipOpeOrders[_0x5bc3cc(0x3b9)](_0x24a05c=>_0x24a05c==_0x5a9ed7[_0x5bc3cc(0x13b)]))[_0x5bc3cc(0x301)],_0xf38d4f=_0x3e3224['reduce']((_0x35faa8,_0x196a47)=>{const _0x255dd3=_0x5bc3cc,_0x373e60=parseFloat(_0x196a47[_0x255dd3(0x5f7)])||0x0;if(setTipOpeOrders[_0x255dd3(0x3b9)](_0x4c5ef2=>_0x4c5ef2==_0x196a47[_0x255dd3(0x13b)]))return _0x35faa8+_0x373e60;if(setTipOpeSales['some'](_0x464ca2=>_0x464ca2==_0x196a47[_0x255dd3(0x13b)]))return _0x35faa8-_0x373e60;return _0x35faa8;},0x0);const _0x177e2e=_0x4adf5e[_0x5bc3cc(0x1bc)]||'',_0x4abdb2=myCompany[_0x5bc3cc(0xab)][_0x5bc3cc(0x54e)](_0x3c22f4=>_0x3c22f4['setUserEmail']==_0x177e2e);_0x4fd88b=_0x4abdb2?_0x4abdb2['setUserFullName']:'';}}const _0x4c2174=document[_0x5bc3cc(0x28c)]('div');_0x4c2174['id']='element-'+_0x1a4e70['setWindowId'],_0x4c2174['className']=_0x5bc3cc(0x370)+_0x1a4e70['setWindowStatus']+_0x5bc3cc(0x2ca)+_0x1a4e70[_0x5bc3cc(0x235)],_0x4c2174[_0x5bc3cc(0x12f)][_0x5bc3cc(0x2c2)]=_0x1a4e70['x']+'px',_0x4c2174[_0x5bc3cc(0x12f)][_0x5bc3cc(0x11b)]=_0x1a4e70['y']+'px';let _0x4c296c='';switch(_0x1a4e70['setWindowType']){case _0x5bc3cc(0x44a):_0x4c296c='./img/layout/icon-window.svg';break;case _0x5bc3cc(0x63e):_0x4c296c=_0x5bc3cc(0x306);break;case _0x5bc3cc(0x3cc):_0x4c296c=_0x5bc3cc(0x52d);break;case _0x5bc3cc(0xdf):_0x4c296c=_0x5bc3cc(0x44e);break;case _0x5bc3cc(0x23e):_0x4c296c=_0x5bc3cc(0x2d2);break;case'element-bathroom-men':_0x4c296c=_0x5bc3cc(0x507);break;case _0x5bc3cc(0x109):_0x4c296c=_0x5bc3cc(0x131);break;case _0x5bc3cc(0x2f4):_0x4c296c=_0x5bc3cc(0x321);break;case _0x5bc3cc(0x4e7):_0x4c296c='./img/layout/icon-cashier.svg';break;case _0x5bc3cc(0x2a5):_0x4c296c=_0x5bc3cc(0x4c8);break;case _0x5bc3cc(0x2c9):_0x4c296c=_0x5bc3cc(0x5ca);break;case _0x5bc3cc(0x596):_0x4c296c=_0x5bc3cc(0x475);break;case _0x5bc3cc(0x4ed):_0x4c296c='./img/layout/icon-printer.svg';break;case _0x5bc3cc(0x1b1):_0x4c296c=_0x5bc3cc(0x4cf);break;case _0x5bc3cc(0x415):_0x4c296c='./img/layout/icon-vase.svg';break;case _0x5bc3cc(0x559):_0x4c296c='./img/layout/icon-vertical-line.svg';break;case _0x5bc3cc(0x151):_0x4c296c=_0x5bc3cc(0x395);break;default:_0x4c296c=_0x5bc3cc(0x44e);}if(_0x1a4e70[_0x5bc3cc(0x263)]=='free'){let _0x2421db=_0x5bc3cc(0x1cb)+_0x4c296c+'\x22\x20alt=\x22'+_0x1a4e70[_0x5bc3cc(0x621)]+'\x22>';_0x4c2174['innerHTML']=_0x5bc3cc(0x270)+_0x1a4e70['setWindowId']+_0x5bc3cc(0x437)+_0x1a4e70['setWindowName']+_0x5bc3cc(0x1fa)+_0x2421db+_0x5bc3cc(0x544);}else _0x4c2174[_0x5bc3cc(0x528)]=_0x5bc3cc(0x3b8)+_0x1a4e70['setWindowId']+'\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a'+_0x1a4e70['setWindowName']+'\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22cursor:pointer;\x22\x20data-window-id=\x22'+_0x1a4e70[_0x5bc3cc(0x1f5)]+'\x22\x20onclick=\x22event.stopPropagation();\x20setPreAccountlayout(this.dataset.windowId);\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a<span\x20class=\x22user\x22>\x0a<i\x20class=\x22bi\x20bi-person\x22></i>\x20'+_0x4fd88b+_0x5bc3cc(0x31b)+_0x189ae5+'\x20'+parseFloat(_0xf38d4f)[_0x5bc3cc(0x35c)](0x2)+_0x5bc3cc(0x46a)+_0x148721+'\x20ped</span>\x0a<span\x20class=\x22time-text\x22>'+_0x21310f+_0x5bc3cc(0x40c);_0x4c2174['dataset'][_0x5bc3cc(0x1f5)]=_0x1a4e70[_0x5bc3cc(0x1f5)],layout_windows[_0x5bc3cc(0x47d)](_0x4c2174),addDragEvents(_0x4c2174);});}function checkCollision(_0x4c602a){const _0x876298=_0x36d314,_0x43116a=parseInt(_0x4c602a[_0x876298(0x12f)]['left']),_0x595f64=parseInt(_0x4c602a[_0x876298(0x12f)]['top']),_0x162475=_0x4c602a[_0x876298(0x308)],_0x326633=_0x4c602a[_0x876298(0x5eb)];let _0x50d6ca=![];const _0xb96bc=layout_windows[_0x876298(0x348)](_0x876298(0x36a));return _0xb96bc[_0x876298(0x55b)](_0x416bf2=>{const _0x2e1498=_0x876298;if(_0x416bf2==_0x4c602a)return;const _0x507a34=parseInt(_0x416bf2[_0x2e1498(0x12f)][_0x2e1498(0x2c2)]),_0x92bf5a=parseInt(_0x416bf2[_0x2e1498(0x12f)][_0x2e1498(0x11b)]),_0x534f86=_0x416bf2[_0x2e1498(0x308)],_0xdcfd42=_0x416bf2[_0x2e1498(0x5eb)];_0x43116a<_0x507a34+_0x534f86&&_0x43116a+_0x162475>_0x507a34&&_0x595f64<_0x92bf5a+_0xdcfd42&&_0x595f64+_0x326633>_0x92bf5a&&(_0x50d6ca=!![]);}),_0x50d6ca;}function avoidOverlap(_0x423f46){const _0xd8f4a3=_0x36d314;let _0x4b7ee6=parseInt(_0x423f46[_0xd8f4a3(0x12f)][_0xd8f4a3(0x2c2)]),_0x5ba67f=parseInt(_0x423f46[_0xd8f4a3(0x12f)][_0xd8f4a3(0x11b)]);const _0xe8592=0xa;let _0x56af08=0x0;while(checkCollision(_0x423f46)&&_0x56af08<0x64){_0x4b7ee6+=_0xe8592,_0x4b7ee6+_0x423f46['offsetWidth']>layout_windows[_0xd8f4a3(0x618)]&&(_0x4b7ee6=0x0,_0x5ba67f+=_0xe8592,_0x5ba67f+_0x423f46[_0xd8f4a3(0x5eb)]>layout_windows[_0xd8f4a3(0x234)]&&(_0x5ba67f=0x0)),_0x423f46['style']['left']=_0x4b7ee6+'px',_0x423f46[_0xd8f4a3(0x12f)][_0xd8f4a3(0x11b)]=_0x5ba67f+'px',_0x56af08++;}}function constrainToBounds(_0x32aff0){const _0x1e8bf4=_0x36d314;let _0xb1dab9=parseInt(_0x32aff0['style'][_0x1e8bf4(0x2c2)]),_0x16a174=parseInt(_0x32aff0['style'][_0x1e8bf4(0x11b)]);const _0x585a34=_0x32aff0[_0x1e8bf4(0x308)],_0x22ab0f=_0x32aff0['offsetHeight'];if(_0xb1dab9<0x0)_0xb1dab9=0x0;if(_0x16a174<0x0)_0x16a174=0x0;if(_0xb1dab9+_0x585a34>layout_windows[_0x1e8bf4(0x618)])_0xb1dab9=layout_windows[_0x1e8bf4(0x618)]-_0x585a34;if(_0x16a174+_0x22ab0f>layout_windows[_0x1e8bf4(0x234)])_0x16a174=layout_windows[_0x1e8bf4(0x234)]-_0x22ab0f;_0x32aff0['style'][_0x1e8bf4(0x2c2)]=_0xb1dab9+'px',_0x32aff0['style'][_0x1e8bf4(0x11b)]=_0x16a174+'px';}function updateElementPosition(_0x1e1b14){const _0x4e604c=_0x36d314,_0x59b8a1=parseInt(_0x1e1b14[_0x4e604c(0x329)][_0x4e604c(0x1f5)]),_0x5a1037=elementos[_0x4e604c(0x54e)](_0x1dee3e=>_0x1dee3e[_0x4e604c(0x1f5)]==_0x59b8a1);if(_0x5a1037){_0x5a1037['x']=parseInt(_0x1e1b14['style'][_0x4e604c(0x2c2)]),_0x5a1037['y']=parseInt(_0x1e1b14[_0x4e604c(0x12f)][_0x4e604c(0x11b)]);posicionesPorPiso[_0x5a1037[_0x4e604c(0x1ec)]]&&(posicionesPorPiso[_0x5a1037[_0x4e604c(0x1ec)]][_0x5a1037[_0x4e604c(0x1f5)]]={'x':_0x5a1037['x'],'y':_0x5a1037['y']});const _0x33f62d=extraElements[_0x4e604c(0x173)](_0x784ccc=>_0x784ccc[_0x4e604c(0x1f5)]==_0x59b8a1);_0x33f62d!==-0x1&&(extraElements[_0x33f62d]['x']=_0x5a1037['x'],extraElements[_0x33f62d]['y']=_0x5a1037['y']),console[_0x4e604c(0x590)](_0x4e604c(0x4e2),_0x5a1037['setWindowName'],'a',_0x5a1037['x'],_0x5a1037['y']);}}function addDragEvents(_0x104cc8){const _0x8092c4=_0x36d314;_0x104cc8['addEventListener'](_0x8092c4(0x45d),function(_0x43b6d7){const _0x2f1472=_0x8092c4;if(editMode)return;if(_0x43b6d7['target'][_0x2f1472(0x2f1)](_0x2f1472(0x22a))||_0x43b6d7['target'][_0x2f1472(0x2f1)](_0x2f1472(0x178)))return;const _0x55eb17=parseInt(_0x104cc8['dataset']['setWindowId']),_0x58956c=elementos['find'](_0x4fde5d=>_0x4fde5d['setWindowId']==_0x55eb17);_0x58956c&&(_0x58956c[_0x2f1472(0x621)]==_0x2f1472(0x44a)||_0x58956c['setWindowType']=='table'||_0x58956c['setWindowType']=='room'||_0x58956c[_0x2f1472(0x621)]==_0x2f1472(0xdf))&&clickMesa(_0x58956c,0x1);}),_0x104cc8[_0x8092c4(0x524)](_0x8092c4(0x27d),function(_0x314eda){const _0x8a6cdc=_0x8092c4;if(!editMode)return;currentDrag=_0x104cc8,offsetX=_0x314eda['clientX']-parseInt(_0x104cc8[_0x8a6cdc(0x12f)][_0x8a6cdc(0x2c2)]),offsetY=_0x314eda['clientY']-parseInt(_0x104cc8[_0x8a6cdc(0x12f)][_0x8a6cdc(0x11b)]),_0x104cc8[_0x8a6cdc(0x12f)][_0x8a6cdc(0x5b9)]=0x3e8,dragStartX=_0x314eda[_0x8a6cdc(0x629)],dragStartY=_0x314eda['clientY'],isDraggingMoved=![];}),document[_0x8092c4(0x524)](_0x8092c4(0x273),function(_0x22296b){const _0x17700b=_0x8092c4;if(currentDrag&&editMode){const _0x34cad6=_0x22296b[_0x17700b(0x629)]-offsetX,_0x7a6120=_0x22296b[_0x17700b(0x1ef)]-offsetY;currentDrag['style'][_0x17700b(0x2c2)]=_0x34cad6+'px',currentDrag[_0x17700b(0x12f)][_0x17700b(0x11b)]=_0x7a6120+'px',!isDraggingMoved&&(Math['abs'](_0x22296b[_0x17700b(0x629)]-dragStartX)>0x5||Math[_0x17700b(0x449)](_0x22296b['clientY']-dragStartY)>0x5)&&(isDraggingMoved=!![]);}}),document[_0x8092c4(0x524)](_0x8092c4(0x4e3),function(_0x19128e){const _0x5c157a=_0x8092c4;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x5c157a(0x12f)][_0x5c157a(0x5b9)]='',currentDrag=null);}),_0x104cc8[_0x8092c4(0x524)](_0x8092c4(0x587),function(_0x590196){const _0x4b8dc5=_0x8092c4;if(!editMode)return;currentDrag=_0x104cc8;const _0x9df2e5=_0x590196[_0x4b8dc5(0x54a)][0x0];offsetX=_0x9df2e5['clientX']-parseInt(_0x104cc8[_0x4b8dc5(0x12f)][_0x4b8dc5(0x2c2)]),offsetY=_0x9df2e5[_0x4b8dc5(0x1ef)]-parseInt(_0x104cc8[_0x4b8dc5(0x12f)][_0x4b8dc5(0x11b)]),_0x104cc8[_0x4b8dc5(0x12f)][_0x4b8dc5(0x5b9)]=0x3e8,dragStartX=_0x9df2e5[_0x4b8dc5(0x629)],dragStartY=_0x9df2e5['clientY'],isDraggingMoved=![],_0x590196[_0x4b8dc5(0xbb)]();}),document[_0x8092c4(0x524)](_0x8092c4(0x394),function(_0x515218){const _0x2b93cc=_0x8092c4;if(currentDrag&&editMode){const _0x185063=_0x515218['touches'][0x0],_0x41e3ac=_0x185063[_0x2b93cc(0x629)]-offsetX,_0x419856=_0x185063[_0x2b93cc(0x1ef)]-offsetY;currentDrag[_0x2b93cc(0x12f)]['left']=_0x41e3ac+'px',currentDrag[_0x2b93cc(0x12f)][_0x2b93cc(0x11b)]=_0x419856+'px',!isDraggingMoved&&(Math['abs'](_0x185063[_0x2b93cc(0x629)]-dragStartX)>0x5||Math[_0x2b93cc(0x449)](_0x185063['clientY']-dragStartY)>0x5)&&(isDraggingMoved=!![]),_0x515218[_0x2b93cc(0xbb)]();}}),document[_0x8092c4(0x524)]('touchend',function(_0x598914){const _0x17d438=_0x8092c4;currentDrag&&editMode&&(constrainToBounds(currentDrag),avoidOverlap(currentDrag),constrainToBounds(currentDrag),updateElementPosition(currentDrag),currentDrag[_0x17d438(0x12f)][_0x17d438(0x5b9)]='',currentDrag=null);});}async function clickMesa(_0x8470cb,_0x36475f=0x1){const _0x44ca2e=_0x8470cb['setWindowId'],_0x4cbd60=getValidatedWindowAndShift(_0x44ca2e),{currentWindowShift:_0x5e825c}=_0x4cbd60;if(!_0x5e825c)updateWindowShiftDisplay(_0x44ca2e);else{const _0x2006f2='tab-'+_0x44ca2e;await switchTab(_0x2006f2,0x1);}_0x36475f==0x1&&hideModalLayout();}function toggleEditMode(){const _0x3276ae=_0x36d314;editMode=!editMode;const _0x38d997=document[_0x3276ae(0x442)](_0x3276ae(0x458));_0x38d997[_0x3276ae(0x638)]=editMode?_0x3276ae(0x1a1):_0x3276ae(0x339);const _0x164d54=document[_0x3276ae(0x442)]('addElementControls');_0x164d54&&(_0x164d54['style']['display']=editMode?_0x3276ae(0x549):_0x3276ae(0xb0)),!editMode&&(saveLayoutState(),saveLayoutOnline());}function addNewElement(){const _0x18c39b=_0x36d314;if(!editMode)return;const _0x500574=document[_0x18c39b(0x442)](_0x18c39b(0x5fd)),_0xcf757d=_0x500574[_0x18c39b(0x5dc)];let _0x5b71af='';switch(_0xcf757d){case _0x18c39b(0x23e):_0x5b71af='';break;case _0x18c39b(0x2d8):_0x5b71af='';break;case _0x18c39b(0x109):_0x5b71af='';break;case'element-bathroom-women':_0x5b71af='';break;case _0x18c39b(0x4e7):_0x5b71af='';break;case _0x18c39b(0x2a5):_0x5b71af='';break;case'element-fridge':_0x5b71af='';break;case _0x18c39b(0x596):_0x5b71af='';break;case _0x18c39b(0x4ed):_0x5b71af='';break;case'element-user':_0x5b71af='';break;case _0x18c39b(0x415):_0x5b71af='';break;case _0x18c39b(0x559):_0x5b71af='';break;case _0x18c39b(0x151):_0x5b71af='';break;default:_0x5b71af='';}const _0xab3d57=document[_0x18c39b(0x442)](_0x18c39b(0x11a)),_0x27a1a4=_0xab3d57[_0x18c39b(0x5dc)],_0x5b7b11=generateUniqId(),_0x2c414e=0xa,_0x4fcc5c=0xa,_0x1a66b9={'setWindowId':_0x5b7b11,'setWindowType':_0xcf757d,'setWindowName':_0x5b71af,'x':_0x2c414e,'y':_0x4fcc5c,'zona':_0xab3d57[_0x18c39b(0x14b)][_0xab3d57[_0x18c39b(0x3a8)]]['text'],'floorId':_0x27a1a4};['window',_0x18c39b(0x63e),_0x18c39b(0x3cc),'chair']['includes'](_0xcf757d)&&(_0x1a66b9['setWindowTypeShape']=_0x18c39b(0x5ff),_0x1a66b9[_0x18c39b(0x263)]=_0x18c39b(0x598)),extraElements[_0x18c39b(0x454)](_0x1a66b9),!posicionesPorPiso[_0x27a1a4]&&(posicionesPorPiso[_0x27a1a4]={}),posicionesPorPiso[_0x27a1a4][_0x5b7b11]={'x':_0x2c414e,'y':_0x4fcc5c},cargarVentanas(myCompany[_0x18c39b(0x5c6)][0x0][_0x18c39b(0x3fe)],_0x27a1a4);}function saveLayoutState(){const _0x288783=_0x36d314;createCartStore('')[_0x288783(0x667)](_0x469180=>{const _0x504776=_0x288783,_0x40e636=_0x469180[_0x504776(0x336)]([_0x504776(0x536)],_0x504776(0x1ee)),_0x2919dc=_0x40e636[_0x504776(0x568)](_0x504776(0x536)),_0x1785c1={'id':_0x504776(0x30f),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso},_0x1b7de6=_0x2919dc[_0x504776(0xfc)](_0x1785c1);_0x1b7de6['onsuccess']=function(){const _0x51f50e=_0x504776;console['log'](_0x51f50e(0x9e));},_0x1b7de6['onerror']=function(_0x5c23b6){const _0x10fe85=_0x504776;console[_0x10fe85(0x499)]('Error\x20al\x20guardar\x20el\x20estado\x20del\x20layout:',_0x5c23b6[_0x10fe85(0x58d)][_0x10fe85(0x499)]);};});}async function loadLayoutState(){const _0x15d569=_0x36d314;try{const _0x178710=await createCartStore(''),_0x5d0f49=await new Promise((_0x1db89a,_0x579d59)=>{const _0x2b8eb7=_0x55d4,_0x375ad6=_0x178710[_0x2b8eb7(0x336)]([_0x2b8eb7(0x536)],'readonly'),_0x1798f0=_0x375ad6['objectStore']('layoutState'),_0x6cc1a6=_0x1798f0[_0x2b8eb7(0x208)](_0x2b8eb7(0x30f));_0x6cc1a6[_0x2b8eb7(0x2d5)]=()=>_0x1db89a(_0x6cc1a6[_0x2b8eb7(0x3f5)]),_0x6cc1a6['onerror']=_0x379b5e=>_0x579d59(_0x379b5e['target']['error']);});_0x5d0f49&&(elementos=_0x5d0f49[_0x15d569(0x408)]||[],extraElements=_0x5d0f49['extraElements']||[],posicionesPorPiso=_0x5d0f49[_0x15d569(0x61c)]||{},console[_0x15d569(0x590)](_0x15d569(0x5d9)));}catch(_0x3f28e8){console[_0x15d569(0x499)](_0x15d569(0x36e),_0x3f28e8);throw _0x3f28e8;}}function saveLayoutOnline(){const _0x19ac7a=_0x36d314;if(!isOnline()){console[_0x19ac7a(0x590)]('No\x20hay\x20conexión\x20a\x20internet.\x20No\x20se\x20puede\x20guardar\x20el\x20layout.');return;}let _0x813fa7={'id':_0x19ac7a(0x30f),'elementos':elementos,'extraElements':extraElements,'posicionesPorPiso':posicionesPorPiso};const _0x7c0cfb={'layout':_0x813fa7,'setToken':myCompany['setAuthToken']};fetch(_0x19ac7a(0xae),{'method':'POST','headers':{'Content-Type':_0x19ac7a(0x5bc)},'body':JSON[_0x19ac7a(0x52b)](_0x7c0cfb)})[_0x19ac7a(0x667)](_0x4581ef=>{const _0x26e19c=_0x19ac7a;if(!_0x4581ef['ok'])throw new Error(_0x26e19c(0x43c)+_0x4581ef[_0x26e19c(0x52a)]);return _0x4581ef[_0x26e19c(0x606)]();})[_0x19ac7a(0x667)](_0xa8ddc6=>{const _0x567d59=_0x19ac7a;if(!_0xa8ddc6[_0x567d59(0x2e0)])throw new Error(_0xa8ddc6['message']||'Error\x20desconocido\x20al\x20guardar\x20el\x20layout.');console[_0x567d59(0x590)](_0x567d59(0xc1));})[_0x19ac7a(0x3d5)](_0x3efe0c=>{const _0x5ae14a=_0x19ac7a;console[_0x5ae14a(0x499)]('Error\x20al\x20guardar\x20el\x20layout\x20online:',_0x3efe0c);});}function setActiveTab(_0xe26832){const _0x111f21=_0x36d314,_0x34bf13=document[_0x111f21(0x348)](_0x111f21(0x29d)),_0x46f510=document[_0x111f21(0x348)](_0x111f21(0x557));_0x34bf13[_0x111f21(0x55b)](_0x442349=>{const _0x3234c1=_0x111f21;_0x442349['getAttribute']('data-tab')===_0xe26832?_0x442349[_0x3234c1(0x9f)][_0x3234c1(0xfb)](_0x3234c1(0x4fe)):_0x442349['classList'][_0x3234c1(0x44c)](_0x3234c1(0x4fe));}),_0x46f510['forEach'](_0x3b27b2=>{const _0x23c0e2=_0x111f21;_0x3b27b2['id']===_0x23c0e2(0x48a)+_0xe26832?_0x3b27b2[_0x23c0e2(0x9f)][_0x23c0e2(0xfb)](_0x23c0e2(0x4fe)):_0x3b27b2[_0x23c0e2(0x9f)][_0x23c0e2(0x44c)]('active');});}document['querySelectorAll'](_0x36d314(0x29d))['forEach'](_0xf11853=>{const _0x25f907=_0x36d314;_0xf11853['addEventListener'](_0x25f907(0x45d),function(){const _0x5e79f4=_0x25f907,_0x1601ef=this['getAttribute'](_0x5e79f4(0x4a1));setActiveTab(_0x1601ef);});});function createTabsEnvironments(){const _0x4556d4=_0x36d314,_0x28f05e=document[_0x4556d4(0x3ef)](_0x4556d4(0x31c));_0x28f05e['innerHTML']='';const _0x43ee04=document[_0x4556d4(0x28c)](_0x4556d4(0x50f));_0x43ee04[_0x4556d4(0x327)]=_0x4556d4(0x21a);const _0x347e06=document['getElementById'](_0x4556d4(0x11a));if(!_0x347e06){console[_0x4556d4(0x499)](_0x4556d4(0x112));return;}const _0x45874a=Array[_0x4556d4(0x2b9)](_0x347e06[_0x4556d4(0x14b)]),_0x1a9e43=_0x45874a[_0x4556d4(0x54e)](_0x55e453=>_0x55e453[_0x4556d4(0x2da)])||_0x45874a[0x0],_0x3d8217=document['createElement'](_0x4556d4(0x278));_0x3d8217[_0x4556d4(0x327)]=_0x4556d4(0x50d),_0x3d8217[_0x4556d4(0x638)]=_0x1a9e43[_0x4556d4(0x648)],_0x43ee04[_0x4556d4(0x47d)](_0x3d8217),_0x45874a['forEach'](_0x34fce9=>{const _0x512101=_0x4556d4;if(_0x34fce9===_0x1a9e43)return;const _0x4cd105=document[_0x512101(0x28c)](_0x512101(0x242));_0x4cd105['className']=_0x512101(0x193),_0x4cd105[_0x512101(0x638)]='|',_0x43ee04[_0x512101(0x47d)](_0x4cd105);const _0x568455=document[_0x512101(0x28c)]('button');_0x568455[_0x512101(0x327)]=_0x512101(0x2a0),_0x568455[_0x512101(0x638)]=_0x34fce9[_0x512101(0x648)],_0x568455[_0x512101(0x524)](_0x512101(0x45d),function(){const _0x3fd51a=_0x512101;handleTabSelection(_0x34fce9[_0x3fd51a(0x5dc)]);}),_0x43ee04['appendChild'](_0x568455);}),_0x28f05e['appendChild'](_0x43ee04);}async function handleTabSelection(_0x1c046f){const _0x1a1004=_0x36d314;hideModalLayout(),document[_0x1a1004(0x442)](_0x1a1004(0x11a))[_0x1a1004(0x5dc)]=_0x1c046f,await changeEnvironments(_0x1c046f),showModalLayout();}async function resetWindowPositions(_0x361c75,_0x1dee82){const _0x1a4f66=_0x36d314,_0x46bc9a=myCompany['setWindows'][_0x1a4f66(0x41f)](_0x2049c0=>_0x2049c0[_0x1a4f66(0x3fe)]==_0x361c75&&_0x2049c0['setFloorId']==_0x1dee82);_0x46bc9a[_0x1a4f66(0x55b)](_0x32ddd0=>{delete _0x32ddd0['x'],delete _0x32ddd0['y'];}),posicionesPorPiso[_0x1dee82]&&(_0x46bc9a['forEach'](_0x971528=>{const _0x50f122=_0x1a4f66;delete posicionesPorPiso[_0x1dee82][_0x971528[_0x50f122(0x1f5)]];}),Object[_0x1a4f66(0x426)](posicionesPorPiso[_0x1dee82])['length']===0x0&&delete posicionesPorPiso[_0x1dee82]);}function openMenu(_0x11b347,_0x10efd2){const _0x3f6a0c=_0x36d314,_0x315864=document[_0x3f6a0c(0x3ef)](_0x3f6a0c(0x379));if(_0x315864)_0x315864[_0x3f6a0c(0x44c)]();const {windowObj:_0x21bf4d}=getValidatedWindowAndShift(_0x11b347),_0x24eeb7=layout_windows,_0x2c5b59=document[_0x3f6a0c(0x28c)]('ul');_0x2c5b59[_0x3f6a0c(0x327)]=_0x3f6a0c(0x5da);const _0x3e70c8=[];_0x21bf4d[_0x3f6a0c(0x263)]!==_0x3f6a0c(0x598)&&_0x3e70c8['push']({'icon':_0x3f6a0c(0x54f),'label':'Liberar','handler':releaseWindow});_0x3e70c8['forEach'](({icon:_0x516bd9,label:_0x205b22,handler:_0xb32266})=>{const _0x1e994c=_0x3f6a0c,_0x53f71a=document[_0x1e994c(0x28c)]('li');_0x53f71a[_0x1e994c(0x528)]='<i\x20class=\x22'+_0x516bd9+_0x1e994c(0x405)+_0x205b22,_0x53f71a[_0x1e994c(0x524)]('click',_0x4e9eb0=>{const _0xf54e9a=_0x1e994c;_0x4e9eb0[_0xf54e9a(0x511)](),_0xb32266(_0x11b347),_0x2c5b59[_0xf54e9a(0x44c)]();}),_0x53f71a[_0x1e994c(0x524)](_0x1e994c(0x144),()=>_0x53f71a['style'][_0x1e994c(0x38f)]=_0x1e994c(0x4c2)),_0x53f71a['addEventListener'](_0x1e994c(0xe9),()=>_0x53f71a['style'][_0x1e994c(0x38f)]=''),_0x2c5b59[_0x1e994c(0x47d)](_0x53f71a);});const _0x4795ce=_0x24eeb7[_0x3f6a0c(0x5b8)](),_0x27b60b=_0x10efd2[_0x3f6a0c(0x629)]-_0x4795ce['left'],_0xc93e0e=_0x10efd2[_0x3f6a0c(0x1ef)]-_0x4795ce[_0x3f6a0c(0x11b)];_0x2c5b59['style'][_0x3f6a0c(0x2c2)]=_0x27b60b+'px',_0x2c5b59[_0x3f6a0c(0x12f)]['top']=_0xc93e0e+'px',_0x24eeb7[_0x3f6a0c(0x47d)](_0x2c5b59);const _0x539572=_0x30de3e=>{const _0x53ffe0=_0x3f6a0c;!_0x2c5b59[_0x53ffe0(0x508)](_0x30de3e['target'])&&(_0x2c5b59[_0x53ffe0(0x44c)](),document[_0x53ffe0(0x5ef)]('click',_0x539572));};document[_0x3f6a0c(0x524)]('click',_0x539572);}function editWindow(_0x55b216){const _0x1b00ea=_0x36d314;console[_0x1b00ea(0x590)]('Editar\x20ventana',_0x55b216);}function deleteWindow(_0x1d0ce1){const _0x19e4ce=_0x36d314;console[_0x19e4ce(0x590)](_0x19e4ce(0x17b),_0x1d0ce1);}async function releaseWindow(_0xb9290){const _0x20bac9=_0x36d314,_0x28cb1f=getValidatedWindowAndShift(_0xb9290),{windowObj:_0x43267b,currentWindowShift:_0x49c0b1}=_0x28cb1f;if(_0x49c0b1){_0x43267b[_0x20bac9(0xd4)]=nowWithMillisecondsForServer();const _0x402f77=carts[_0xb9290]||[],_0x5a5434=_0x402f77[_0x20bac9(0x3b9)](_0x40b12e=>_0x40b12e[_0x20bac9(0x222)]!='');if(!_0x5a5434){_0x43267b['setWindowStatus']=_0x20bac9(0x598);const _0x5a6542=new Date();_0x49c0b1[_0x20bac9(0x3af)]='0',_0x49c0b1['setShiftDateEnd']=_0x5a6542,await apiERPsyncWindows();const _0x3866d6=await createCartStore('');await saveCompanyToIndexedDB(company,_0x3866d6);const _0x492310=document[_0x20bac9(0x442)]('setFloorId')[_0x20bac9(0x5dc)];await handleTabSelection(_0x492310);}}}function showModalCreateWindow(){const _0x2deba6=_0x36d314;hideModalLayout();const _0x2b7636=document[_0x2deba6(0x442)](_0x2deba6(0x337)),_0x4d7b07=document['getElementById'](_0x2deba6(0x1b5));_0x2b7636[_0x2deba6(0x9f)]['add'](_0x2deba6(0x4fe)),_0x4d7b07[_0x2deba6(0x12f)]['display']=_0x2deba6(0x549);}function hideModalCreateWindow(){const _0x5a982d=_0x36d314,_0x24e13d=document[_0x5a982d(0x442)](_0x5a982d(0x337)),_0x24bfb2=document['getElementById']('modalOverlayCreateWindow');_0x24e13d[_0x5a982d(0x9f)][_0x5a982d(0x44c)](_0x5a982d(0x4fe)),_0x24bfb2[_0x5a982d(0x12f)][_0x5a982d(0x140)]=_0x5a982d(0xb0);}document[_0x36d314(0x442)](_0x36d314(0x59e))['addEventListener'](_0x36d314(0x45d),hideModalCreateWindow),document[_0x36d314(0x442)](_0x36d314(0x1b5))['addEventListener'](_0x36d314(0x45d),_0x2aefa0=>{const _0x569528=_0x36d314;_0x2aefa0[_0x569528(0x58d)]==_0x2aefa0[_0x569528(0x407)]&&_0x2aefa0['stopPropagation']();});function showModalShift(){const _0x5a5618=_0x36d314,_0x532756=document[_0x5a5618(0x442)](_0x5a5618(0x386)),_0x4719d5=document['getElementById'](_0x5a5618(0x364));_0x532756[_0x5a5618(0x9f)]['add'](_0x5a5618(0x4fe)),_0x4719d5[_0x5a5618(0x12f)][_0x5a5618(0x140)]=_0x5a5618(0x549);}function hideModalShift(){const _0x25f959=_0x36d314,_0x421879=document[_0x25f959(0x442)](_0x25f959(0x386)),_0x3e348c=document[_0x25f959(0x442)]('modalOverlayShift');_0x421879[_0x25f959(0x9f)][_0x25f959(0x44c)](_0x25f959(0x4fe)),_0x3e348c[_0x25f959(0x12f)][_0x25f959(0x140)]=_0x25f959(0xb0);}document[_0x36d314(0x442)]('closeModalShift')['addEventListener'](_0x36d314(0x45d),hideModalShift),document['getElementById'](_0x36d314(0x364))[_0x36d314(0x524)]('click',_0x54ec5c=>{const _0x98f30e=_0x36d314;_0x54ec5c[_0x98f30e(0x58d)]==_0x54ec5c[_0x98f30e(0x407)]&&_0x54ec5c[_0x98f30e(0x511)]();});async function updateShiftDisplay(){const _0x2703df=_0x36d314;if(!isOnline()){ntfShow(_0x2703df(0x32f));return;}const _0x70c2f2=document[_0x2703df(0x442)](_0x2703df(0x3fe))[_0x2703df(0x5dc)],_0x2320df=document[_0x2703df(0x442)]('shiftContent'),_0x51b4ea=myCompany[_0x2703df(0x488)],_0x21ee47=myCompany[_0x2703df(0x564)][_0x2703df(0x54e)](_0x5de25e=>_0x5de25e[_0x2703df(0x3c6)]==_0x51b4ea),_0x2903b3=_0x21ee47?_0x21ee47[_0x2703df(0x640)]:'';_0x2320df[_0x2703df(0x528)]='';!myCompany['setShifts']&&(myCompany[_0x2703df(0x376)]=[]);const _0x18a47e=myCompany[_0x2703df(0x376)],_0x2747eb=_0x18a47e[_0x2703df(0x54e)](_0x188e0c=>_0x188e0c[_0x2703df(0x3fe)]==_0x70c2f2&&_0x188e0c['setShiftStatus']=='1');if(!_0x2747eb){const _0x54718e=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x54718e[_0x2703df(0x327)]='shift-open-container';const _0x2b4344=document[_0x2703df(0x28c)]('div');_0x2b4344[_0x2703df(0x327)]='shift-open-leftCol';const _0x1d6228=document[_0x2703df(0x28c)]('img');_0x1d6228[_0x2703df(0x327)]=_0x2703df(0x11e),_0x1d6228[_0x2703df(0x5f3)]=_0x2703df(0x5b0),_0x1d6228[_0x2703df(0x582)]='Apertura\x20de\x20Caja',_0x2b4344[_0x2703df(0x47d)](_0x1d6228);const _0x540483=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x540483[_0x2703df(0x327)]=_0x2703df(0x4cb);const _0x2695f0=document['createElement']('h2');_0x2695f0['className']=_0x2703df(0x2a1),_0x2695f0['textContent']=_0x2703df(0x25d);const _0x1dcbf9=document['createElement'](_0x2703df(0x50f));_0x1dcbf9['className']=_0x2703df(0x441);const _0x38c627=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x38c627[_0x2703df(0x327)]=_0x2703df(0x49b),_0x38c627[_0x2703df(0x638)]=_0x2703df(0x3ac);const _0x3ba78c=document[_0x2703df(0x28c)](_0x2703df(0x1a7));_0x3ba78c[_0x2703df(0x327)]=_0x2703df(0x440),_0x3ba78c['type']='number',_0x3ba78c['id']=_0x2703df(0xd7),_0x3ba78c[_0x2703df(0x35d)]=_0x2903b3+_0x2703df(0x1e5),_0x1dcbf9[_0x2703df(0x47d)](_0x38c627),_0x1dcbf9[_0x2703df(0x47d)](_0x3ba78c);const _0x406ea1=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x406ea1[_0x2703df(0x327)]=_0x2703df(0x2be);const _0x359aec=document['createElement'](_0x2703df(0x278));_0x359aec[_0x2703df(0x327)]=_0x2703df(0x315),_0x359aec['id']=_0x2703df(0x123),_0x359aec[_0x2703df(0x638)]=_0x2703df(0x201),_0x359aec[_0x2703df(0x3dc)]=openShift,_0x406ea1[_0x2703df(0x47d)](_0x359aec),_0x540483[_0x2703df(0x47d)](_0x2695f0),_0x540483['appendChild'](_0x1dcbf9),_0x540483[_0x2703df(0x47d)](_0x406ea1),_0x54718e[_0x2703df(0x47d)](_0x2b4344),_0x54718e[_0x2703df(0x47d)](_0x540483),_0x2320df[_0x2703df(0x47d)](_0x54718e);}else{const _0x2614bf=getUserPermissionApiERP(0xa);let _0xa00e19='',_0x31fb73=[];showLoadingModal();if(_0x2614bf==0x1)try{const _0x434e69=myCompany[_0x2703df(0x43b)],_0x49afdc={'apiPOS_getShiftDetails':0x1,'setToken':myCompany[_0x2703df(0x32d)],'setShiftId':_0x2747eb[_0x2703df(0x57d)]},_0x4adfe5=await fetch(_0x434e69,{'method':_0x2703df(0x3d0),'headers':{'Content-Type':_0x2703df(0x452)},'body':JSON[_0x2703df(0x52b)](_0x49afdc)}),_0x4416d5=await _0x4adfe5[_0x2703df(0x606)]();_0x4416d5['success']&&_0x4416d5[_0x2703df(0x20d)][_0x2703df(0x46b)]&&(_0x31fb73=_0x4416d5[_0x2703df(0x20d)][_0x2703df(0x46b)]);}catch(_0x1775de){ntfShow(_0x2703df(0x16b)),console[_0x2703df(0x499)](_0x2703df(0x2ac),_0x1775de);}else _0xa00e19=_0x2703df(0x362);hideLoadingModal();const _0x2b0331=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x2b0331[_0x2703df(0x327)]=_0x2703df(0x470);const _0x24c1fd=document[_0x2703df(0x28c)]('div');_0x24c1fd['className']=_0x2703df(0x1ea);const _0x55c538=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x55c538[_0x2703df(0x327)]=_0x2703df(0x250);const _0x182e5f=document[_0x2703df(0x28c)](_0x2703df(0x44b));_0x182e5f[_0x2703df(0x5f3)]=_0x2703df(0x261),_0x182e5f[_0x2703df(0x582)]='Cierre\x20de\x20Turno',_0x182e5f[_0x2703df(0x327)]=_0x2703df(0x2c6),_0x55c538[_0x2703df(0x47d)](_0x182e5f);const _0x432194=document['createElement'](_0x2703df(0x50f));_0x432194[_0x2703df(0x327)]=_0x2703df(0x5c1);const _0x220653=document[_0x2703df(0x28c)]('h2');_0x220653[_0x2703df(0x528)]=_0x2703df(0x4ee),_0x220653[_0x2703df(0x327)]=_0x2703df(0x37f),_0x432194['appendChild'](_0x220653),_0x24c1fd[_0x2703df(0x47d)](_0x55c538),_0x24c1fd[_0x2703df(0x47d)](_0x432194),_0x2b0331[_0x2703df(0x47d)](_0x24c1fd);const _0xf438c8=document[_0x2703df(0x28c)]('div');_0xf438c8[_0x2703df(0x327)]=_0x2703df(0x139);const _0x3f7139=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x3f7139[_0x2703df(0x327)]=_0x2703df(0x61f);const _0x335540=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x335540[_0x2703df(0x638)]=_0x2703df(0x550),_0x335540['className']='shift-close-label',_0x3f7139[_0x2703df(0x47d)](_0x335540);const _0x2f456b=document[_0x2703df(0x28c)]('img');_0x2f456b['src']=_0x2703df(0x33d),_0x2f456b[_0x2703df(0x582)]=_0x2703df(0xe3),_0x2f456b[_0x2703df(0x327)]=_0x2703df(0x572),_0x3f7139['appendChild'](_0x2f456b);const _0x470799=document[_0x2703df(0x28c)](_0x2703df(0x242));_0x470799[_0x2703df(0x638)]=myCompany[_0x2703df(0x2c4)][_0x2703df(0x57f)],_0x470799[_0x2703df(0x327)]=_0x2703df(0x341),_0x3f7139[_0x2703df(0x47d)](_0x470799);const _0x22eb70=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x22eb70['className']=_0x2703df(0x61f);const _0x6891c9=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x6891c9[_0x2703df(0x638)]='Apertura:',_0x6891c9[_0x2703df(0x327)]='shift-close-label',_0x22eb70[_0x2703df(0x47d)](_0x6891c9);const _0x27056d=document[_0x2703df(0x28c)]('img');_0x27056d['src']=_0x2703df(0x417),_0x27056d[_0x2703df(0x582)]=_0x2703df(0x1be),_0x27056d[_0x2703df(0x327)]=_0x2703df(0x572),_0x22eb70[_0x2703df(0x47d)](_0x27056d);const _0xbeb1fe=new Date(_0x2747eb['setShiftDateStart']),_0x367fb6=document[_0x2703df(0x28c)](_0x2703df(0x242));_0x367fb6[_0x2703df(0x638)]=_0xbeb1fe['toLocaleString'](),_0x367fb6[_0x2703df(0x327)]=_0x2703df(0x341),_0x22eb70[_0x2703df(0x47d)](_0x367fb6),_0xf438c8[_0x2703df(0x47d)](_0x3f7139),_0xf438c8['appendChild'](_0x22eb70),_0x2b0331[_0x2703df(0x47d)](_0xf438c8);const _0x2963a4=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x2963a4[_0x2703df(0x327)]='shift-div-table\x20'+_0xa00e19;const _0x1c8bbe=document[_0x2703df(0x28c)]('table');_0x1c8bbe[_0x2703df(0x327)]=_0x2703df(0x492)+_0xa00e19,_0x1c8bbe['style']['width']=_0x2703df(0x525);const _0x4c6c1f=document['createElement']('thead'),_0x5b06af=document[_0x2703df(0x28c)]('tr'),_0x1075c7=['\x20',_0x2703df(0x4c3),'Egresos',_0x2703df(0x54b)];_0x1075c7[_0x2703df(0x55b)](_0x135346=>{const _0x3f80ec=_0x2703df,_0x4a1267=document[_0x3f80ec(0x28c)]('th');_0x135346=='Egresos'&&(_0x4a1267[_0x3f80ec(0x327)]=_0x3f80ec(0x3aa)),_0x4a1267['textContent']=_0x135346,_0x5b06af[_0x3f80ec(0x47d)](_0x4a1267);}),_0x4c6c1f['appendChild'](_0x5b06af),_0x1c8bbe['appendChild'](_0x4c6c1f);const _0x40e8c5=document[_0x2703df(0x28c)](_0x2703df(0x1cc));function _0x2668ed(_0x335e04,_0x2b3f0d,_0x357ac6){const _0x494805=_0x2703df,_0x11bea1=document[_0x494805(0x28c)]('tr'),_0x2524e9=document[_0x494805(0x28c)]('td');_0x2524e9['textContent']=_0x335e04;const _0x4a07f7=document[_0x494805(0x28c)]('td');_0x4a07f7[_0x494805(0x638)]=_0x2b3f0d;const _0x10a987=document[_0x494805(0x28c)]('td');_0x10a987[_0x494805(0x327)]='shift-table-expenses',_0x10a987[_0x494805(0x638)]=_0x357ac6;const _0x219bd9=document[_0x494805(0x28c)]('td');return _0x219bd9[_0x494805(0x638)]=(parseFloat(_0x2b3f0d)-parseFloat(_0x357ac6))[_0x494805(0x35c)](0x2),_0x11bea1[_0x494805(0x47d)](_0x2524e9),_0x11bea1[_0x494805(0x47d)](_0x4a07f7),_0x11bea1[_0x494805(0x47d)](_0x10a987),_0x11bea1[_0x494805(0x47d)](_0x219bd9),_0x11bea1;}let _0x19c48c=0x0,_0xb2b807=0x0,_0x49af40=0x0,_0x5e3917=0x0;myCompany['setPayments'][_0x2703df(0x55b)](_0x47494f=>{const _0xdbe0a4=_0x2703df;let _0x5ee168=_0x31fb73[_0xdbe0a4(0x41f)](_0x37fb88=>_0x37fb88[_0xdbe0a4(0x264)]==0x1&&_0x37fb88[_0xdbe0a4(0x2ee)]==_0x47494f['setPaymentCode'])[_0xdbe0a4(0x25b)]((_0x30c9a8,_0x1932f6)=>_0x30c9a8+parseFloat(_0x1932f6[_0xdbe0a4(0x51a)]),0x0),_0x3b3e7f=_0x31fb73['filter'](_0x29fbe6=>_0x29fbe6[_0xdbe0a4(0x264)]==0x2&&_0x29fbe6[_0xdbe0a4(0x2ee)]==_0x47494f[_0xdbe0a4(0x2ee)])[_0xdbe0a4(0x25b)]((_0x44380a,_0x13040a)=>_0x44380a+parseFloat(_0x13040a[_0xdbe0a4(0x51a)]),0x0);_0x19c48c+=_0x5ee168,_0xb2b807+=_0x3b3e7f,(_0x47494f[_0xdbe0a4(0x2ee)]==_0xdbe0a4(0x567)||_0x47494f[_0xdbe0a4(0x2ee)]==_0xdbe0a4(0x469))&&(_0x49af40=_0x5ee168,_0x5e3917=_0x3b3e7f),(_0x47494f[_0xdbe0a4(0x2ee)]==_0xdbe0a4(0x567)||_0x47494f['setPaymentCode']==_0xdbe0a4(0x469)||_0x5ee168>0x0||_0x3b3e7f>0x0)&&_0x40e8c5[_0xdbe0a4(0x47d)](_0x2668ed(_0x47494f[_0xdbe0a4(0xe2)],parseFloat(_0x5ee168)[_0xdbe0a4(0x35c)](0x2),parseFloat(_0x3b3e7f)[_0xdbe0a4(0x35c)](0x2)));});const _0x479df8=_0x2668ed(_0x2703df(0x26d),parseFloat(_0x19c48c)[_0x2703df(0x35c)](0x2),parseFloat(_0xb2b807)['toFixed'](0x2));_0x479df8[_0x2703df(0xa5)][_0x2703df(0x638)]=(parseFloat(_0x19c48c)-parseFloat(_0xb2b807))[_0x2703df(0x35c)](0x2),_0x40e8c5[_0x2703df(0x47d)](_0x479df8),_0x1c8bbe[_0x2703df(0x47d)](_0x40e8c5),_0x2963a4['appendChild'](_0x1c8bbe),_0x2b0331[_0x2703df(0x47d)](_0x2963a4);const _0x23e872=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x23e872[_0x2703df(0x327)]='shift-close-infoRow\x20'+_0xa00e19;const _0x273373=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x273373['className']=_0x2703df(0x61f);const _0x66351=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x66351[_0x2703df(0x638)]=_0x2703df(0x40d),_0x66351[_0x2703df(0x327)]=_0x2703df(0x42c),_0x273373[_0x2703df(0x47d)](_0x66351);const _0x3e9c85=document[_0x2703df(0x28c)](_0x2703df(0x242));_0x3e9c85[_0x2703df(0x638)]=_0x2903b3+'\x20'+parseFloat(_0x2747eb[_0x2703df(0x5cb)])[_0x2703df(0x35c)](0x2),_0x3e9c85[_0x2703df(0x327)]='shift-close-infoValue',_0x273373[_0x2703df(0x47d)](_0x3e9c85);const _0x2edbdf=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x2edbdf[_0x2703df(0x327)]=_0x2703df(0x61f);const _0x218e83=document['createElement'](_0x2703df(0x36c));_0x218e83[_0x2703df(0x638)]=_0x2703df(0x20e),_0x218e83[_0x2703df(0x327)]=_0x2703df(0x42c),_0x2edbdf[_0x2703df(0x47d)](_0x218e83);const _0x5df351=_0x49af40-_0x5e3917,_0x22f812=document['createElement'](_0x2703df(0x242));_0x22f812[_0x2703df(0x638)]=_0x2903b3+'\x20'+parseFloat(_0x5df351)[_0x2703df(0x35c)](0x2),_0x22f812[_0x2703df(0x327)]=_0x2703df(0xbf),_0x2edbdf[_0x2703df(0x47d)](_0x22f812),_0x23e872[_0x2703df(0x47d)](_0x273373),_0x23e872['appendChild'](_0x2edbdf);const _0x3fb103=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x3fb103[_0x2703df(0x327)]=_0x2703df(0x17d)+_0xa00e19;const _0xe9a68c=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0xe9a68c[_0x2703df(0x327)]=_0x2703df(0x61f);const _0x5ee121=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x5ee121['textContent']=_0x2703df(0x171),_0x5ee121['className']=_0x2703df(0x42c),_0xe9a68c[_0x2703df(0x47d)](_0x5ee121);const _0x239115=(parseFloat(_0x2747eb[_0x2703df(0x5cb)])+parseFloat(_0x5df351))[_0x2703df(0x35c)](0x2),_0x322400=document['createElement'](_0x2703df(0x242));_0x322400[_0x2703df(0x638)]=_0x2903b3+'\x20'+_0x239115,_0x322400[_0x2703df(0x327)]=_0x2703df(0xbf);const _0x3aaee6=document[_0x2703df(0x28c)](_0x2703df(0x1a7));_0x3aaee6[_0x2703df(0x24c)]='hidden',_0x3aaee6['id']=_0x2703df(0x16a),_0x3aaee6[_0x2703df(0x5dc)]=_0x239115,_0xe9a68c['appendChild'](_0x322400),_0xe9a68c[_0x2703df(0x47d)](_0x3aaee6);const _0x5291b4=document[_0x2703df(0x28c)]('div');_0x5291b4[_0x2703df(0x327)]='shift-close-info-col';const _0x2c63e5=document[_0x2703df(0x28c)]('label');_0x2c63e5[_0x2703df(0x638)]=_0x2703df(0x99),_0x2c63e5[_0x2703df(0x327)]=_0x2703df(0x42c),_0x5291b4[_0x2703df(0x47d)](_0x2c63e5);const _0x164006=document['createElement'](_0x2703df(0x1a7));_0x164006[_0x2703df(0x24c)]=_0x2703df(0x53a),_0x164006['id']=_0x2703df(0x5c2),_0x164006[_0x2703df(0x327)]=_0x2703df(0x3f6),_0x5291b4[_0x2703df(0x47d)](_0x164006),_0x3fb103['appendChild'](_0xe9a68c),_0x3fb103[_0x2703df(0x47d)](_0x5291b4),_0x2b0331['appendChild'](_0x23e872),_0x2b0331['appendChild'](_0x3fb103);const _0x525c11=document['createElement'](_0x2703df(0x50f));_0x525c11[_0x2703df(0x327)]='shift-close-row5';const _0x8f5298=document[_0x2703df(0x28c)](_0x2703df(0x36c));_0x8f5298[_0x2703df(0x638)]=_0x2703df(0x24f),_0x8f5298['className']='shift-close-notaLabel',_0x525c11['appendChild'](_0x8f5298);const _0x41a9c8=document[_0x2703df(0x28c)](_0x2703df(0x418));_0x41a9c8['style'][_0x2703df(0x3e3)]=_0x2703df(0x525),_0x41a9c8['id']=_0x2703df(0x5f9),_0x41a9c8['rows']='2',_0x41a9c8[_0x2703df(0x327)]=_0x2703df(0x4e1),_0x525c11[_0x2703df(0x47d)](_0x41a9c8);const _0x1a1ff8=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x1a1ff8['className']=_0x2703df(0x1d6)+_0xa00e19;const _0x2f00e5=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x2f00e5[_0x2703df(0x327)]='shift-close-diff-col';const _0x4a3f37=document[_0x2703df(0x28c)]('label');_0x4a3f37[_0x2703df(0x638)]=_0x2703df(0x4c0),_0x4a3f37['className']=_0x2703df(0x340),_0x2f00e5['appendChild'](_0x4a3f37);const _0x5a4863=document[_0x2703df(0x28c)](_0x2703df(0x50f));_0x5a4863[_0x2703df(0x327)]=_0x2703df(0x538);const _0x5f5b22=document['createElement'](_0x2703df(0x242));_0x5f5b22['textContent']=_0x2903b3+_0x2703df(0x1e5),_0x5f5b22[_0x2703df(0x327)]=_0x2703df(0x203),_0x5a4863[_0x2703df(0x47d)](_0x5f5b22),_0x1a1ff8[_0x2703df(0x47d)](_0x2f00e5),_0x1a1ff8['appendChild'](_0x5a4863),_0x164006['addEventListener'](_0x2703df(0x1a7),function(){const _0x216910=_0x2703df,_0x2d0648=parseFloat(_0x164006['value'])||0x0,_0x25fd78=_0x2d0648-_0x239115;_0x5f5b22['textContent']=_0x2903b3+'\x20'+_0x25fd78[_0x216910(0x35c)](0x2);});const _0x8dd8a4=document[_0x2703df(0x28c)]('div');_0x8dd8a4['className']=_0x2703df(0x31d);const _0x8f80f4=document[_0x2703df(0x28c)](_0x2703df(0x278));_0x8f80f4['id']=_0x2703df(0x3c5),_0x8f80f4[_0x2703df(0x638)]=_0x2703df(0x5de),_0x8f80f4['className']=_0x2703df(0x5bf),_0x8f80f4[_0x2703df(0x3dc)]=closeShift,_0x8dd8a4['appendChild'](_0x8f80f4),_0x2b0331[_0x2703df(0x47d)](_0x525c11),_0x2b0331[_0x2703df(0x47d)](_0x1a1ff8),_0x2b0331[_0x2703df(0x47d)](_0x8dd8a4),_0x2320df['appendChild'](_0x2b0331);}showModalShift();}function _0x35ef(){const _0x4dfc93=['Posición\x20actualizada\x20de','mouseup','entries','setDividir','No\x20se\x20encontró\x20un\x20elemento\x20con\x20el\x20ID:\x20','element-cashier','clear','Dividir\x20<img\x20src=\x27./img/icon-dividir.svg\x27\x20class=\x27img-btnopt\x27>','Total\x20Percepción\x20(','Fabricación\x20de\x20bienes\x20por\x20encargo','0000-00-00\x2000:00:00','element-printer','<strong>Cierre\x20de\x20Turno</strong>','constructor','Product\x20not\x20found.','No\x20hay\x20impresoras','input_cart_moreOptionsButton\x20div-width-5\x20','<div\x20style=\x22margin-top:5px;\x22>','SEIS','CUATROCIENTOS','Total-','Mensaje(s)\x20enviado(s)\x20correctamente.','center','013','setBankCurrency','float-left','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachType\x20mb-2','setUserId','active','Marca:<br>','0.25em\x200.5em','file','pow','/upload','Error\x20al\x20guardar\x20datos:','drawImage','mediaType','./img/layout/icon-bathroom-men.svg','contains','warn','offline_operations','render','Total\x20Retención\x20(','tabs-environments-btn\x20selected','payment-credito','div','class','stopPropagation','Hora','marginLeft','setDetraccionPorcentaje','7749eeZWdj','38670kEVhvv','\x20Y\x20','match','setBranchDefault','setPaymentAmount','shift-open-leftCol','setWindowShiftId','\x20emitido\x20el\x20','/login','__proto__','\x20|\x20Marca:\x20','Descuento\x20por\x20Items','setImpuestoName','cart-panel-','addEventListener','100%','setSellerName','registerFontkit','innerHTML','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana.','statusText','stringify','blur','./img/layout/icon-room.svg','Error\x20al\x20guardar\x20operación\x20offline:','Fecha','\x20!important;\x0a}\x0a.header\x20{\x0awidth:\x20','Dirección','contado','setPrinterAlias','Retencion','prepend','layoutState','key','shift-close-diff-col','Maíz\x20amarillo\x20duro','number','borderTopLeftRadius','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnConsultar\x20custom-input-btn-background','setReceiptSeries','Guardando\x20Correlativo\x20Offline\x20en\x20DB','setClienteDenominacion-','Impuesto','setMtoValorUnitario_final','Error\x20enviando\x20mensaje','sucursales','\x0a</div>\x0a<div\x20class=\x22bottom-row\x22></div>\x0a</div>','[updateCartItem]','title','div-totals-right\x20d-none','createObjectURL','block','touches','Resultado','icon-arrow-right\x20hidden','input_cart_setDescPorcentaje\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','find','bi\x20bi-unlock','Cajero:','monto','11jVWkRt','icon-arrow-right','#emailRecipients\x20.emailDestination','tab-content\x20active\x20tab-','Facturar\x20<img\x20src=\x27./img/icon-facturar.svg\x27\x20class=\x27img-btnopt\x27>','.layout-tab-panel','1.5','element-vertical-line','div-totals-right-TotalIgv-','forEach','Espárragos','setEmailCredentialsSenderEmail','container-section-options-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnOpciones\x20custom-input-btn-background','div-width-15\x20div_margen','.itemCheckbox-','setBankId','Producto\x20eliminado','setMonedas','embedPng','luisitoprograma-pdf','efectivo','objectStore','insertBefore','setReceiptAttachArray','custom-checkbox','preview-item','min','Costo','setImg','Seleccione:','Nº\x20Operación','shift-close-smallIcon','documento.pdf','btnopt_facturar-','height','setCustomerDocumentNumber','\x20|\x20F.V.\x20','015','Cliente','GUARDAR','Bien\x20o\x20Servicio:\x20','scale','setShiftId','setSucursalCodigo','setUserNombres','visualizacion','splice','alt','Total\x20Comisión','null','Error\x20al\x20cargar\x20logo:','float-right-OpGravada-','touchstart','<img\x20src=\x22./img/icon-dash.svg\x22\x20alt=\x22icon-dash\x22\x20class=\x22img-cart-item\x22>','(((.+)+)+)+$','\x20sec','backgroundImage','float-left-','target','setEmailCredentials','Error\x20al\x20guardar\x20company\x20tras\x20limpiar\x20carrito\x20vacío:','log','Array\x20Windows\x20Error.','setMtoValorCostoUnitario_input','setCustomerEmail-','TOTAL','div-width-35\x20col-bt-left-padding','element-laptop','https://apierp.dev/api/apiPOS/get/','free','setNotas','Porcentaje\x20detracción','setRetencionTotal','getViewport','No\x20hay\x20comprobante\x20generado\x20para\x20enviar.','closeModalCreateWindow','setTipoOperacion-','No\x20se\x20encontró\x20el\x20botón.','No\x20se\x20encontró\x20un\x20valor\x20de\x20operación\x20de\x20venta\x20válido\x20en\x20los\x20options\x20del\x20select.','dni','btnopt_consumo-','container-title-options-','timing','\x20input.input-array-method','products','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setMoneda','div-width-10\x20div_margen','@s.whatsapp.net','divAttachResult-','RESOLUCION\x20NRO\x200340050005929/SUNAT','bind','img-options','href','./img/icon-shift-open.svg','No\x20hay\x20conexión\x20a\x20internet.','info','div-totals-right-TotalDescItems-','https://apierp.dev/api/windows/update-cart-tmp/','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerPhone\x20mb-2','setDetraccion','Nº\x20de\x20Cuotas:','getBoundingClientRect','zIndex','\x22)\x27>','.payment-option-','application/json','revokeObjectURL','5px','shift-close-btn','input-Descuento-Global-','shift-close-rightCol','setShiftCount','Vuelto:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','Opciones\x20de\x20la\x20ventana\x20','Enter','setBranches','setItemBarCode','active\x20tab-','hiddenFrame_','./img/layout/icon-fridge.svg','setCashInitial','right','setPorcentajeIgv','setDescuento_setMonto_precio','Bienes\x20exonerados\x20del\x20IGV','keydown','divMarginTopAuto','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_dividir\x20btns-btnopt','setOrders','d-none','setTipoDocumentosCliente','custom-input-cart-options\x20form-control\x20div-width-25\x20input-array-method','setTipoOperacionInvoice-','float-left-totals','Estado\x20del\x20layout\x20cargado.','context-menu','btn-options','value','UN\x20MILLÓN','Cerrar\x20Turno','suggestions-container','Forma\x20de\x20Pago','innerHeight','div-width-15','./img/icon-contado.svg',':<br>','setChecked','%)\x20(','apiERP.dev/peru/consultas/cpe/','cart_','No\x20se\x20encontraron\x20productos.','Vendedor:','offsetHeight','.input-array-comision','emailRecipients','setPermissions','removeEventListener','setClienteTipoDoc','Nº\x20de\x20cuotas','payment-mixto','src','valorCantidad','Cuota\x20','setDespacho-','setMtoImpVenta','Error\x20convirtiendo\x20adjuntos\x20a\x20base64:','setShiftNotes','setReceiptNumber','online','Operación\x20Guardada\x20Correctamente.','newElementType','col-xs-12','round-small','Error.\x20La\x20ventana\x20no\x20existe.','DNI','Anexar','setDescuentoGlobal_Monto','charAt','detalleModalWindowShift','json','Error\x20Save\x20Data:','CorrectLevel','CINCO','float-left-Subtotal-','fonts/Roboto/Roboto-Regular.ttf','setEmailCredentialsId','defaultPrinter','cuotas-container-','important','function','Despachar','Páprika\x20y\x20otros\x20frutos\x20de\x20los\x20géneros\x20capsicum\x20o\x20pimienta','action','change','Medio\x20de\x20pago\x20crédito\x20actualizado:','setReceiptProducts','.pdf','clientWidth',')\x20en\x20almacén\x20','Carnes\x20y\x20despojos\x20comestibles','embedFont','posicionesPorPiso','checkout','windowId','shift-close-info-col','fecha','setWindowType','<input\x20type=\x22number\x22\x20id=\x22input-Descuento-Global-','Número\x20de\x20documento\x20inválido.\x20Debe\x20tener\x208\x20dígitos\x20para\x20DNI\x20o\x2011\x20dígitos\x20para\x20RUC.','float-right-TotalIgv-','No\x20exceder\x20el\x20monto\x20total\x20permitido.\x20Se\x20asignará\x20','label-debe-vuelto','PRECIO\x20U.','Leche','clientX','includes','windowShiftContent','{}.constructor(\x22return\x20this\x22)(\x20)','split','FORMA\x20DE\x20PAGO:\x20CONTADO','Falta\x20ingresar\x20el\x20nombre\x20del\x20cliente/proveedor.','\x20|\x20Notas:\x20','SEISCIENTOS','setCustomerEmail','cuota','Error\x20Inputs','0.9em','setValorVenta','cart-item-principal','textContent','Subtotal\x20(','\x22\x20value=\x220.00\x22\x20class=\x22input-Descuento-Global\x22>','files','DESCRIPCIÓN','previewList','table','waFiles','setMonedaSimbol','setClienteDenominacion','Error\x20al\x20procesar\x20adjuntos.','float-right-','setSeries','div-width-25\x20btnopt\x20btnoptfirst','setCompanyPhone','Producto\x20variante\x20','text','Error\x20al\x20limpiar\x20el\x20objectStore\x20para\x20carrito\x20vacío:','PERCEPCIÓN\x20(','children','Minerales\x20no\x20metálicos','flex-grow-1\x20cart-items-container','getDocument','mixto','setSerie-','Proveedor','setCantidad','</span>\x0a</label>','setSupplierDocumentNumber','btnModalNewOperation','Detalle\x20de\x20Turno','OCHENTA','setBranchAddress','Registrar\x20Gasto','iframe','ID\x20Shift\x20Empty','Check\x20In','setLastCorrelative','setRetencionPorcentaje','video/','./img/icon-contado-credito.svg','<i\x20class=\x22bi\x20bi-clock\x22></i>\x20','div-group-container\x20div-width-100','padStart','025','Necesitas\x20Internet\x20para\x20Cerrar\x20el\x20Turno.','setWarehouseStockMin','then','Error\x20al\x20verificar\x20el\x20producto\x20con\x20setIdProducto\x20','selectedCountry','btnConsultar-','dragover','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachEdit\x20mb-2','Error\x20al\x20incrustar\x20la\x20imagen:\x20ni\x20PNG\x20ni\x20JPG\x20funcionaron.','setClienteNumDoc','CÓDIGO','setUserName','setCodTipo','totals','setReceiptType','https://apierp.dev/api/print/send/','setItemUnitAlias','object','random','chkPercepcion-','nombres','Moneda','div-totals-right-TotalIgvGratuitas-',')\x20en\x20el\x20almacén.\x20','Error\x20al\x20guardar\x20las\x20opciones\x20de\x20la\x20ventana:','setDocumentType','Crea\x20tu\x20primera\x20ventana.','Conteo:','setSupplierName','Por\x20favor,\x20ingrese\x20todos\x20los\x20correos\x20o\x20elimine\x20filas\x20vacías.','income.html','setDescuento_setFactor','Estado\x20del\x20layout\x20guardado\x20correctamente.','classList','audio','direccion','setAccountingAccountName','drop','setRetencion','lastChild','Banco:','custom-input-cart-options\x20form-control\x20custom-input-cart-setFechaHora\x20mb-2','setCustomers','Recepcionista','btnOpciones-','setUsers','setMtoOperGravadas','Los\x20campos\x20Serie\x20y\x20Correlativo\x20son\x20obligatorios.','https://apierp.dev/api/layout/update/','https://','none','Proveedor:','SON\x20','setTipoDocCodigo','setPreAccountDate','chkDetraccion-','setCredentialsApiWAChatStatus','input_cart_setTipAfeIgv\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','026','\x20input.input-array-operacion','setReceiptClientAddress','preventDefault','<img\x20src=\x22./img/icon-trash.svg\x22\x20alt=\x22icon-trash\x22\x20class=\x22img-delete-card\x22>','removeChild','cart-item-options-','shift-close-infoValue','drawLine','Layout\x20guardado\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','payment-icon','setLastFechaHora','setPrinters','setPriceListRangeStart','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_consumo\x20btns-btnopt','**\x20','float-right-OpGratuita-','setInventariable','Desc.\x20Global\x20(','setSeriesCorrelativeInitial','setAccountingAccountCode','search','Pct-','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setTipoOperacionInvoice\x20mb-2','\x20input.input-array-comision','readonly','float-right-Subtotal-','setDespacho','setLastDateUpdate','infoLoadingModal','onload','setCashInitialInput','Guardando\x20Correlativo\x20en\x20DB','017','setAttachSeries-','url(\x27./img/product.png\x27)','setDescuento_setMonto','https://wa.me/','\x20cuotas','chair','whatsappRecipients','arrayBuffer','setPaymentName','Cajero','\x20MILLONES','Error\x20Push\x20Product!\x20','VEINTE','setAccountingAccountId','setPermissionValue','mouseleave','setMtoIGVGratuitas','label-options\x20mb-2','No\x20se\x20encontró\x20el\x20select','setFloorName','Sección\x20con\x20ID\x20\x22','setTipoOperacionCodigo','.whatsapp-recipient','Carrito\x20guardado:\x20','setCollaboratorDocNumber','data-printer','Harina,\x20polvo\x20y\x20“pellets”\x20de\x20pescado,\x20crustáceos,\x20moluscos\x20y\x20demás\x20invertebrados\x20acuáticos','Total\x20percepción','NOTAS:','#f0f4f8','setCustomerAddress','00/100','setAttachEdit','add','put','porcentaje_comision','windowsState.php','0.5em\x200','setDefaultNoteType','setWindows','Consumo','Barbero','setDispatchType','Bien\x20inmueble\x20gravado\x20con\x20IGV','221FNpuzB','getUTCSeconds','video','element-bathroom-unisex','setCustomerName','float-right-TotalDescuento-','canvas','setEmailCredentialsPortSMTP','Error\x20al\x20guardar\x20array','custom-label-cart-options\x20div-width-25','test','./img/icon-credito.svg','No\x20se\x20encontró\x20el\x20select\x20con\x20id\x20\x22setFloorId\x22.','input_cart_setSubtotal\x20input-cart-size\x20div-width-20','1732404bhlaZG','itemCheckbox-','setReceiptClientName','DOS','Op.\x20Exoneradas\x20(','5EojiSv','setFloorId','top','active-payment','\x20a\x20','shift-open-img','tab-totales-','toLocaleString','setMtoDescItems_precio','div_section_pay','btnShiftStart','floor','033','setTaxIdDefault','150ySbiIE','getDate','Alcohol\x20etílico','DETRACCIÓN','Dirección:','Total\x20(','setVendedorCodigo-','label-cart','style','\x20min','./img/layout/icon-bathroom-unisex.svg','color','setPayments','input-setWindowName','.pagination','No\x20hay\x20un\x20PDF\x20cargado.','CANT','container-section-pay-','shift-close-row2','trim','setTipoOperacion','setDescuento_setMontoBase','closeModalLayout','El\x20producto\x20\x22','input_cart_setDescripcion\x20input-cart-size\x20container-tooltip\x20div-width-40','display','Bienes\x20del\x20inciso\x20A)\x20del\x20Apéndice\x20I\x20de\x20la\x20Ley\x20del\x20IGV','windowObj','Placa:','mouseenter','setMtoOperInafectas','OP.\x20GRAVADAS','setMedioPago-','removePage','#FF5900','input_cart_setMtoPrecioUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','options','setCategoria','float-right-TotalDescuentoItems-','Desc.\x20por\x20Items\x20(','datos','toString','element-waiter','setVisible','precio','position',':\x20stock\x20actualizado\x20de\x20','\x20para\x20la\x20variante\x20del\x20producto\x20','Order\x20not\x20found.','Error.\x20La\x20ventana\x20ya\x20está\x20aperturada.','\x20|\x20Descripción:\x20','btnopt_precuenta-','DOCE','quantity','TAX\x20Error:\x20','detraccionTotal-','<i\x20class=\x27bi\x20bi-three-dots-vertical\x27></i>','1479742ZVipIy','wa-recipient-template','head','RUC\x20debe\x20tener\x2011\x20dígitos.','setMedioPago','\x22,\x20\x22','data','./img/icon-reporte-ventas.svg','dragenter','setWindowName','setShiftCashAmount','Error\x20en\x20la\x20solicitud','toISOString','backgroundColor','No\x20se\x20puede\x20vender:\x20el\x20lote\x20de\x20este\x20producto\x20está\x20vencido.','setCashierId','layout-windows','Caja\x20Final:','getMonth','findIndex','setIdSucursal','Shift\x20not\x20found.','resize','019','.printer','setBatchName','OCHOCIENTOS','Eliminar\x20ventana','float-right','shift-close-infoRow\x20','Duplicar','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setVendedorCodigo\x20mb-2','setSerieTipo','009','submit','setPercepcionPorcentaje','div_sections','nextSibling','<span\x20class=\x22cart-product-note\x22>','024','unit','008','setCollaborators','open','0.5em','suggestions-','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setDespacho\x20mb-2','Monto','setMtoPrecioUnitario_final','La\x20serie\x20debe\x20contener\x20solo\x204\x20dígitos.','container-title-options','tabs-environments-separator','NÚMEROS\x20DE\x20CUENTAS\x20BANCARIAS:','setWebhook','Por\x20favor,\x20ingrese\x20un\x20monto\x20válido.','monto_calc','</span>','marginTop','btn\x20btn-none\x20','detalleModalPay','setCredentialsApiWAChatPort','marginRight','Madera','mimeType','004','Guardar','Error\x20Internet','cart-','Cliente/Proveedor\x20Requerido\x20para\x20Boletas\x20mayores\x20o\x20iguales\x20a\x20700.\x20Completa\x20todos\x20los\x20campos.','SETECIENTOS','Error\x20desconocido\x20al\x20actualizar\x20Data.','input','setUserCodigo','prototype','payment-contado','TIPO\x20OPERACIÓN:','ceil','setPrinterName','setEmpresaNombre','setWarehouseId','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20número\x20de\x20WhatsApp.','element-user','reject','setClienteDireccion-','Costo\x20Unitario','modalOverlayCreateWindow','setCorrelativo-','Debe:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','IGV\x20Gratuitas','Total\x20detracción','setMtoPrecioUnitario','Por\x20favor,\x20ingrese\x20al\x20menos\x20un\x20email.','setShiftUserEmail','navmenu','Apertura','input_cart_setButton\x20btn-none\x20div-width-5','Escribe\x20un\x20mensaje','#ffffff','\x22\x20value=\x22','navigationStart','setDetraccionTotal','6730670vzuUho','Porcentaje\x20retención','Vendedor','Cliente:','.input-array-method','slice','<img\x20class=\x22icon-element\x22\x20src=\x22','tbody','getContext','razon_social','form','setCorrelativo','div_section_options','substring','setDetraccionCodigo','bi\x20bi-calendar\x20icon-pay-calendar','general-options','shift-close-differentialRow\x20',',\x20a\x20continuación\x20adjuntamos:\x20\x0a','setFechaHora-','./img/icon-ingresos.svg','step','keypress','setSupplierAddress','max','getPage','Conductor:','https://apierp.dev/api/windows/update/','setMoneda','Op.\x20Gravadas\x20(','cartId','setEnvironmentName','\x200.00','input[type=\x22number\x22]','occupied','\x20del\x20','No\x20se\x20encontró\x20el\x20input\x20setCorrelativo-','shift-close-row1','setItemFree','floorId','float-left-OpGratuita-','readwrite','clientY','Error\x20al\x20procesar\x20la\x20operación:','replace','trace','data-tooltip','Error\x20saving\x20window\x20options\x20DB','setWindowId','dataTransfer','.category-checkbox','&token=','input_cart_setDescripcion\x20input-cart-size\x20custom-input-cart-notas\x20form-control\x20div-width-40\x20hidden','\x0a</span>\x0a<span\x20class=\x22printer\x22\x20style=\x22opacity:\x200;\x22>\x0a<i\x20class=\x22bi\x20bi-printer\x22\x20style=\x22font-size:\x200.8em;\x22></i>\x0a</span>\x0a</div>\x0a<div\x20class=\x22middle-row\x22>\x0a','iframePrint_','PARA\x20CONSULTAR\x20EL\x20DOCUMENTO\x20INGRESE\x20A:','Error\x20en\x20la\x20respuesta\x20del\x20servidor.','setImpuestoValue','setPrintServers','setPrecioUnit','Aperturar\x20Turno','Oro\x20y\x20demás\x20minerales\x20metálicos\x20exonerados\x20del\x20IGV','shift-close-diffValue','modalOverlayOptions','content','<br>Vence:\x20','./img/icon-settings.svg','get','Error\x20al\x20actualizar\x20data\x20online:','suggestion-item\x20no-result','float-right-TotalIgvGratuitas-','setSuppliers','message','Total\x20Efectivo:','cart-item-principal\x20hidden','btnAddProduct','clearRect','Debe\x20ingresar\x20un\x20número\x20de\x20documento\x20o\x20nombre\x20para\x20la\x20búsqueda.','waMessage','float-left-TotalIgvGratuitas-','selectTab','RUC','?text=','assign','btnAddProductFree','tabs-environments-container','desc','toLocaleDateString','#pay-container-','setPrinterId','Email(s)\x20enviado(s)\x20correctamente.','pay-container-','debe','setOrderId','Serie\x20Incorrecta','archivos_contables','Error\x20al\x20construir\x20el\x20payload.','setPorcentajeDesc','div-text-debe-vuelto-','toggle','modalOverlayWindowShift','.menu-options','Error\x20Company\x20Data.','editado','Ocupar\x20Sillón','tabs-home','FORMA\x20DE\x20PAGO:\x20CRÉDITO','toDataURL','UNO','2333569rqAmUa','Opciones','clientHeight','setWindowTypeShape','setMoneda-','setCodProducto','setDefaultNote','Precio\x20Unitario','Error\x20al\x20guardar\x20Last\x20Correlative:','<a\x20class=\x27dropdown-item\x27\x20href=\x27javascript:void(0);\x27\x20onclick=\x27setPrinter(\x22','Turno\x20cerrado.\x20\x0aFecha\x20de\x20Cierre:\x20','float-left-TotalIgv-','element-bar','setCartTmp','div-width-25','Error\x20al\x20eliminar\x20productos:','span','Shift\x20Save\x20Error:','IGV\x20Gratuitas\x20(','remove-btn','Registrar\x20Ingreso','PAGAR','PRECIO','setDescripcion','setSerie','\x20a\x20S3','type','setReceiptAttachId','application/pdf','Nota:','shift-close-leftCol','#a00','setTipAfeIgv','dispatchEvent','float-left-OpInafecta-','resultado','d-flex\x20mb-3','Sillón','8px','status','setItemVariantValues','reduce','setProductos','Apertura\x20de\x20Caja','014','tabs-shift','Recursos\x20hidrobiológicos','./img/icon-shift-close.svg','DESCUENTO\x20POR\x20ITEMS','setWindowStatus','setPaymentType','N°\x20de\x20operación','setClienteNumDoc-','setAttachEdit-','vuelto','image/png','Error\x20desconocido.','\x20(Gravado\x20Gratuito)','input_cart_setNotas\x20input-cart-size\x20custom-input-cart-notas\x20bg-background-transparent\x20form-control','Total','btnWindowSave','input-group\x20input_cart_setCantidad\x20div-width-30','<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','status-label-','addPage','mousemove','#fff','Contado','Teléfono','setMtoBaseIgv','button','setAttribute','Total\x20retención','Consumo\x20<img\x20src=\x27./img/icon-consumo.svg\x27\x20class=\x27img-btnopt\x27>','Detraccion','mousedown','setImpuestos','\x0a.header~main,\x20.header~#footer\x20{\x0amargin-left:\x20','Cronograma\x20de\x20Pagos','PEN','Producto:','IGV','Mozo:\x20','modalOverlay','.emailDestination','body','setCompanyName','setReceiptId','./img/icon-ajustes-operacion.svg','float-right-OpInafecta-','createElement','url','oncomplete','div_section_left','CUATRO','setUnidad','div-width-10\x20col-bt-padding','Embarcaciones\x20pesqueras','general-options-','input_cart_setMtoPrecioCostoUnitario_input\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','setSeriesType','setItemDescription','REPRESENTACION\x20IMPRESA\x20DE','countryList','\x20para\x20completar\x20el\x20total.','Turno\x20abierto.\x20\x0aFecha\x20de\x20Apertura:\x20','Forma\x20de\x20Pago:\x20Crédito','.layout-tab-btn','btnModal','\x20de\x20','tabs-environments-btn','shift-open-title','div-width-24\x20btnopt','<i\x20class=\x22bi\x20bi-caret-down-fill\x22></i>','.input-array-totalcomision','element-clock','Cantidad\x20ajustada\x20al\x20máximo.','Serie:','nextElementSibling','\x0a<label\x20class=\x22category-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','005','now','Error\x20en\x20la\x20solicitud:','credito','Op.\x20Exonerada','012','parentNode','\x20(Inafecto\x20Gratuito)','No\x20se\x20encontró\x20el\x20elemento\x20de\x20cajero.','No\x20se\x20encontraron\x20resultados','\x22\x20debe\x20tener\x20un\x20','#000000','Subtotal','saveWindows.php','offline','from','setPorcentajeGeneralIgv','setPercepcion','imgSrc','Vehículo:','shift-open-btnContainer','datetime-local','032','No\x20se\x20encontró\x20la\x20ventana\x20con\x20ID:\x20','left','PRE\x20CUENTA','setUser_Local','btnModalActive','shift-close-img','input-setWindowType','No\x20se\x20encontró\x20sucursal\x20','element-fridge','\x20draggable-','No\x20se\x20encontraron\x20resultados.','setMtoValorVenta','float-right-totals','setReceipt','Cajero\x20/\x20Vendedor:','setMtoOperGratuitas','console','./img/layout/icon-bar.svg','d-flex\x20mb-3\x20','CIEN','onsuccess','hidden\x20custom-input-cart-options\x20form-control\x20mb-2','readOnly','element-bathroom-men','suggestion-item','selected','setSellerId','payment-options-','\x20(Soles)','Error\x20WindowOp','Stock\x20Actual:<br>','success','10px','addEmailRecipient','setPriceListRangeEnd','5223676WNlJDx','setNotes','Marca:\x20','setBranchName','fechaVencimiento','Servicio\x20de\x20transporte\x20de\x20personas','<i\x20class=\x22bi\x20bi-caret-up-fill\x22></i>','firstChild','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftStart','setMtoDescItems','setPaymentCode','product-content','setServerType','closest','U.\x20MEDIDA','payment-option\x20','element-bathroom-women','DESCUENTO\x20GLOBAL','container-buttons','Descuento\x20Global','setFechaHoraReadonly','Backspace','Movimiento\x20de\x20carga','join','setMonedaName','/100','percepcionPct-','closeModalWindowShift','float-right-OpExonerada-','length','focus','custom-input-cart-options\x20input-height-25\x20form-select\x20form-select-normal\x20custom-input-cart-setSerie','multipart/form-data','pointer','./img/layout/icon-table.svg','setTipoOperacionInvoice','offsetWidth','1\x20UND','custom-input-cart-observacion\x20form-control\x20custom-input-cart-setObservacion\x20mb-2','active\x20tab-cp-','input_cart_setAccountingAccount\x20input-cart-size\x20custom-input-cart\x20bg-background-transparent\x20form-control','div_section_right','string','layout','Product\x20Deleted\x20Order\x20successfully.','./img/icon-flecha-inferior.svg','autocomplete','image/','setCompanyWebsite','shift-open-btn','</div>','<i\x20class=\x27bi\x20bi-search\x27></i>','tabs-orders','div-width-25\x20col-bt-padding','Email','<br>\x0a','.layout-tabs-environments','shift-close-btnRow','form-control\x20text-center\x20custom-input-cart\x20input_setCantidad\x20input-cart-size','setObservacion','SUBTOTAL','./img/layout/icon-bathroom-women.svg','Error\x20subiendo\x20','Error\x20interno\x20al\x20preparar\x20o\x20enviar\x20comprobante.','Exportación','\x20(Exonerado\x20Gratuito)','DNI\x20/\x20RUC','className','getUTCHours','dataset','setMtoValorUnitario','\x20cuota','#f7f7f7','setAuthToken','setIdOperation','Necesitas\x20Internet\x20para\x20interactuar\x20con\x20turnos.','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setCorrelativo','btnWindowShiftStart','setUserCode','034','checked','14968MafoMU','transaction','detalleModalCreateWindow','setItemIsSold','Editar','flex-column\x20tab-content\x20active\x20tab-','\x20Seleccione:','tabs-areas','./img/icon-shift-user.svg','.suggestions-container','replaceWith','shift-close-diffLabel','shift-close-infoSpan','................................................','setClienteTipoDoc-','pdfBlob','delete','Se\x20abrieron\x20ventanas\x20de\x20WhatsApp\x20Web\x20para\x20cada\x20número.','relative','querySelectorAll','VENDEDOR:','active\x20tab-section-pay-','Ajustes\x20de\x20operación','modalOverlayLayout','Teléfono:','getMinutes','OCHO','setSubTotal','shift-open-container','CERO','MIL','No\x20se\x20encontraron\x20datos.','\x22>\x0a<img\x20src=\x22./img/icon-category.svg\x22\x20alt=\x22','btnsetAttach-','setValorCantidad','setCajeroCodigo','getUTCMonth','\x20unitario\x20mayor\x20a\x200.','setTotalImpuestos','toFixed','placeholder','El\x20ítem\x20está\x20por\x20debajo\x20del\x20stock\x20mínimo:\x20','https://luisitoprograma.com/api','Email:','sendEmail','hidden','checkout-btn-','modalOverlayShift','RETENCIÓN\x20(','currency_data','setAttachNumber-','039','all','.draggable','120px','label','#whatsappRecipients\x20.phoneNumber','Error\x20al\x20cargar\x20el\x20estado\x20del\x20layout:','Venta\x20Interna','draggable\x20draggable-element\x20draggable-','selectedCode','setSucursalStock','setHours','No\x20hay\x20turno\x20abierto\x20para\x20esta\x20sucursal.','Total\x20Pendiente','setShifts','setObservacion-','setToken','.context-menu','setCollaboratorId','setCollaboratorFullName','setDetraccionCodigoName','custom-input-cart-options\x20form-control\x20custom-input-cart-btnsetAttach\x20custom-input-btn-background\x20mb-2','Fecha\x20de\x20Apertura:\x20','shift-close-title','cloneNode','REPRESENTACIÓN\x20IMPRESA\x20DE\x20COMPROBANTE\x20ELECTRÓNICO:','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_facturar\x20btns-btnopt','product','borderBottomLeftRadius','setDescuento','detalleModalShift','Ejm:\x201','setLastDateUpdateCartTmp','setItemIsBought','setBankType','fonts/Roboto/Roboto-Light.ttf','Op.\x20Inafecta','custom-input-cart-options\x20form-select\x20form-select-normal\x20custom-input-cart-setAttachSeries\x20mb-2','setMtoValorGratuito','background','\x20input.input-array-totalcomision','Aceite\x20de\x20pescado','Vuelto:','Carrito\x20actualizado\x20guardado\x20correctamente\x20para\x20windowId\x20','touchmove','./img/layout/icon-waiter.svg','SETENTA','apellidos','innerText','div-total-pay-','<br><span\x20style=\x22font-size:\x2010px;\x22>Bar\x20code:\x20','replaceChild','banco','save','tabs-icon-online','method','Por\x20favor,\x20ingrese\x20todos\x20los\x20números\x20o\x20elimine\x20filas\x20vacías.','input-','Sig>','div-width-50','setBankAccounts','collect','opciones','cart-item-principal-','selectedIndex','concat','shift-table-expenses','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-btnopt_precuenta\x20btns-btnopt','Monto\x20Inicial:','setMarca','charCodeAt','setShiftStatus','product-zoom-area','_blank','printerDropdown','innerWidth','download','toLowerCase','drawRectangle','Error\x20en\x20la\x20consulta:','\x0a<div\x20class=\x22nombre\x22>\x0a<div\x20class=\x22top-row\x22>\x0a<span\x20class=\x22menu-options\x22\x20style=\x22cursor:pointer;\x22\x20onclick=\x22event.stopPropagation();\x20openMenu(\x27','some','#333','TRESCIENTOS','custom-input-cart-options\x20form-control\x20custom-input-cart-setCustomerEmail\x20mb-2','setEmpresaRuc','Azúcar','normal','widthOfTextAtSize','Aperturar\x20Mesa','Arrendamiento\x20de\x20bienes\x20muebles','container-section-pay\x20row','retencionTotal-','btnShiftEnd','setMonedaCodigo','suscriptor-luisitoprograma','<br>','Op.\x20Gravada','custom-input-cart-options\x20form-control\x20div-width-25','timeOrigin','room','pdfCanvas','Hubo\x20un\x20error\x20al\x20realizar\x20la\x20consulta.','onchange','POST','.tab-content','Error\x20Op.','pop','Crédito','catch','enctype','Order\x20removed\x20because\x20no\x20products\x20remained.','Intermediación\x20laboral\x20y\x20tercerización','btnVisualizacion','div-totals-right','setIgv','onclick','Arena\x20y\x20piedra','DESPACHO:','DATOS:','Total\x20a\x20Pagar:&nbsp;&nbsp;&nbsp;<span\x20style=\x27font-size:\x2025px;\x20color:\x20#FF5900;\x27>','DIEZ','TRECE','width','Hola\x20','Contado\x20y\x20Crédito','btnSaveOperacion\x20custom-input-btn-background\x20form-control','.btn-logout','borderTopRightRadius','div-width-100\x20col-bt-left-padding','setIdProducto','setServerRoot','float-left-OpGravada-','Error\x20Network.','Despachar\x20Después','querySelector','startsWith','total_comision','QUINIENTOS','0.25em','Error\x20al\x20procesar\x20la\x20URL:','result','form-control\x20custom-input-cart-options\x20shift-close-input','checkbox','Order\x20Products\x20not\x20found.','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteNumDoc','setTipoOperaciones','OP.\x20EXONERADAS','No\x20hay\x20stock\x20suficiente\x20para\x20agregar\x20más\x20unidades\x20de\x20este\x20producto.','OP.\x20GRATUITAS','setBranchId','Error:\x20','Porcentaje\x20percepción','drawText','El\x20carrito\x20no\x20puede\x20estar\x20vacío.\x20Agrega\x20al\x20menos\x20un\x20producto.','setProperty','custom-select-cart-options\x20form-select\x20div-width-35\x20select-array-other-payment','\x22\x20style=\x22margin-right:8px;\x22></i>','.select-button-pais-flag','currentTarget','elementos','DIECISÉIS','searchInput','apply','</span>\x0a</div>\x0a</div>\x0a','Caja\x20Inicial:','transparent','setConsumo','setCustomerPhone-','Notas:','chkRetencion-','image','previousElementSibling','element-vase','Zona:','./img/icon-shift-calendar.svg','textarea','product-container','disabled','.custom-input-cart-setClienteDenominacion','Oro\x20gravado\x20con\x20el\x20IGV','./img/icon-detalle-turno.svg','\x20...</span>','filter','NOVENTA','numero-cuotas-','setTaxId','.category-label','0.1','select','keys','CINCUENTA','div-width-options\x20col-bt-padding-options','div_section_products','isArray','flex','shift-close-infoLabel','detalleModal','nro_operacion','\x0a<label\x20class=\x22marca-label\x22>\x0a<input\x20type=\x22checkbox\x22\x20class=\x22category-checkbox\x22\x20value=\x22','setMtoIGV','checkout-','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setSerie','RETENCIÓN','custom-input-cart-options\x20input-height-25\x20form-control\x20custom-input-cart-setClienteDireccion\x20mb-2','cart-item','Descripción:\x20','\x27,\x20event);\x22>\x0a<i\x20class=\x22bi\x20bi-three-dots-vertical\x22></i>\x0a</span>\x0a<span\x20class=\x22window-name\x22\x20style=\x22text-align:\x20center;\x20flex-grow:\x201;\x22>\x0a','setClienteDireccion','Timeout:\x20No\x20se\x20recibió\x20respuesta\x20del\x20iframe.','setPriceLists','setApiEndPoint','Error\x20al\x20guardar\x20el\x20layout:\x20','undefined','getAll','Habitación','form-control\x20custom-input-cart-options\x20shift-open-input','shift-open-row2','getElementById','035','custom-select-cart-options\x20form-select\x20form-select-normal\x20div-width-15\x20select-array-bank','https://apierp.dev/api/windows/create/','setMtoValorCostoUnitario','CANTIDAD','setCorrelativoInicial','abs','window','img','remove','Ajustes','./img/layout/icon-window.svg','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20la\x20serie\x20debe\x20empezar\x20con\x20la\x20letra\x20\x27F\x27.','\x20!important;\x0a}\x0a','setAccountingAccountType','application/json;\x20charset=utf-8','itemCheckboxAll-','push','every','Vence:\x20','El\x20producto\x20no\x20tiene\x20stock\x20en\x20el\x20almacén\x20seleccionado.','tabs-editLayout','006','items','embedJpg','img-create-window','click','location','No\x20se\x20encontró\x20el\x20botón\x20con\x20id\x20btnShiftEnd','detalleModalLayout','onerror','OP.\x20INAFECTAS','addWhatsAppRecipient','custom-label-cart-options','Usuario\x20no\x20encontrado','detraccionCodigo-','detalleModalOptions','label-options','cash','\x0a</span>\x0a</div>\x0a<div\x20class=\x22bottom-row\x22>\x0a<span\x20class=\x22left-text\x22>','shiftDetails','modalOverlayPay','Total:\x20','div-width-100\x20col-bt-padding','Comisión\x20(','shift-close-container','\x20(master\x20','btnArchivosContables','021','font-size:\x2014px;','./img/layout/icon-laptop.svg','Delete','setSeriesNumber','setFechaHora','setBatchExpirationDate','setTotal','\x20select.select-array-bank','Forma\x20de\x20Pago:\x20Contado','appendChild','pagination','Serie','setMtoPrecioCostoUnitario_input','general-options\x20row','name','borderRadius','float','currency','setPriceListType','Si\x20la\x20operación\x20es\x20Factura\x20Electrónica,\x20el\x20tipo\x20de\x20documento\x20del\x20Cliente/Proveedor\x20debe\x20ser\x20RUC.','setCurrencyDefault','Mesa','tab-','off','Cliente/Proveedor\x20Requerido.','inline-flex','exception','QUINCE','CUARENTA','Nom.\x20/\x20R.S.','shift-table\x20','setMtoOperExoneradas','print','fill','invoice','setBankName','Percepcion','error','controls','shift-open-label','attached-label-','setCustomerPhone','Medio\x20de\x20pago\x20para\x20ventana\x20','Window\x20not\x20found.','toUpperCase','data-tab','Algodón','setMtoPrecioCostoUnitario','setUserDocNumber','url(\x27','0.00','append','map','30gjLymn','Datos\x20Generales','\x20|\x20','Mantenimiento\x20y\x20reparación\x20de\x20bienes\x20muebles','mt-3','div-totals-right-Subtotal-','\x22\x20no\x20encontrada.','setMtoValorUnitario_input','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','Nº\x20','IMPORTE\x20TOTAL','cart-item-options\x20d-none','Transacción\x20error\x20al\x20limpiar\x20carrito\x20vacío:','padding','%\x20Desc.\x20de\x20','1px\x20solid\x20#FF5900','DIECIOCHO','Necesitas\x20Internet\x20para\x20Aperturar\x20el\x20Turno.','500','setMtoPrecioUnitario_input','removeProperty','fontkit','setPercepcionTotal','Diferencial:','SESENTA','#f0f0f0','Ingresos','setCurrencyName','option','No\x20se\x20encontró\x20el\x20botón\x20de\x20cerrar\x20modal.','closeModal','./img/layout/icon-clock.svg','setConversionFactor','ruc','shift-open-rightCol','Otros\x20servicios\x20empresariales','setAttachType-','\x22\x20class=\x22img-fluid\x20rounded-circle\x20categorias-img\x22>\x0a<span>','./img/layout/icon-user.svg','ORDENAR','La\x20fuente\x20es\x20undefined\x20en\x20drawMultiLineText','.email-recipient','Op.\x20Gratuita','span-options','\x20CON\x20','Error\x20Print\x20Offline.','setCredentialsApiWAChatSubdomain','cart-item-options','set','\x20-\x20','setAccountingAccounts','Seleccione','tabs-icon-offline','setDefaultNotes','Los\x20campos\x20Tipo\x20de\x20Operación\x20y\x20Tipo\x20de\x20Documento\x20del\x20Cliente\x20son\x20obligatorios.','float-left-OpExonerada-','form-control\x20custom-input-cart-options\x20shift-close-textarea'];_0x35ef=function(){return _0x4dfc93;};return _0x35ef();}async function openShift(){const _0x3fbd7b=_0x36d314;if(!isOnline()){ntfShow(_0x3fbd7b(0x4ba));return;}const _0x23d889=document[_0x3fbd7b(0x442)](_0x3fbd7b(0x123));if(!_0x23d889){console[_0x3fbd7b(0x499)](_0x3fbd7b(0x2ec));return;}_0x23d889[_0x3fbd7b(0x41a)]=!![],hideModalShift(),showLoadingModal();const _0x524eac=document[_0x3fbd7b(0x442)](_0x3fbd7b(0xd7)),_0x509d66=_0x524eac[_0x3fbd7b(0x5dc)];if(_0x509d66==''||isNaN(_0x509d66)){ntfShow(_0x3fbd7b(0x196)),_0x23d889[_0x3fbd7b(0x41a)]=![],hideLoadingModal();return;}const _0x1d2ba7=document[_0x3fbd7b(0x442)](_0x3fbd7b(0x3fe))[_0x3fbd7b(0x5dc)],_0x3c82ad=document[_0x3fbd7b(0x442)]('setCajeroCodigo')['value'],_0x12eb74=parseFloat(_0x509d66),_0x5295fe=new Date();try{const _0x2bff06=myCompany[_0x3fbd7b(0x43b)],_0x1cb489={'apiPOS_shift':0x1,'setToken':myCompany[_0x3fbd7b(0x32d)],'setBranchId':_0x1d2ba7,'setCashierId':_0x3c82ad,'setCashInitial':_0x12eb74,'setShiftDateStart':_0x5295fe},_0xafacf8=await fetch(_0x2bff06,{'method':'POST','headers':{'Content-Type':_0x3fbd7b(0x452)},'body':JSON['stringify'](_0x1cb489)}),_0x55bf8d=await _0xafacf8[_0x3fbd7b(0x606)]();if(_0x55bf8d['success']&&_0x55bf8d[_0x3fbd7b(0x20d)]['setShiftId']){const _0x387d35=_0x55bf8d['message']['setShiftId'];let _0x56d324=myCompany['setShifts'][_0x3fbd7b(0x54e)](_0xf36e6e=>_0xf36e6e[_0x3fbd7b(0x3fe)]==_0x1d2ba7);_0x56d324?(_0x56d324[_0x3fbd7b(0x57d)]=_0x387d35,_0x56d324[_0x3fbd7b(0x5cb)]=_0x12eb74,_0x56d324[_0x3fbd7b(0x3af)]='1',_0x56d324['setShiftDateStart']=_0x5295fe):myCompany['setShifts']['push']({'setShiftId':_0x387d35,'setCashInitial':_0x12eb74,'setShiftStatus':'1','setShiftDateStart':_0x5295fe,'setBranchId':_0x1d2ba7});try{const _0x289061=await createCartStore('');await saveCompanyToIndexedDB(company,_0x289061),ntfShow(_0x3fbd7b(0x29b)+_0x5295fe['toLocaleString']());}catch(_0x253d39){console[_0x3fbd7b(0x499)]('Shift\x20Save\x20Error:',_0x253d39);throw _0x253d39;}}else ntfShow('ID\x20Shift\x20Empty'),console[_0x3fbd7b(0x590)](_0x3fbd7b(0x65b));}catch(_0x3ab2f0){ntfShow('Error\x20en\x20la\x20solicitud'),console[_0x3fbd7b(0x499)]('Error\x20en\x20la\x20solicitud:',_0x3ab2f0);}finally{_0x23d889[_0x3fbd7b(0x41a)]=![],hideLoadingModal();}}async function closeShift(){const _0x1c139f=_0x36d314;if(!isOnline()){ntfShow(_0x1c139f(0x665));return;}const _0x3fab5a=document[_0x1c139f(0x442)](_0x1c139f(0x3c5)),_0x15cb27=document[_0x1c139f(0x442)](_0x1c139f(0x5c2)),_0x3b2aea=document[_0x1c139f(0x442)](_0x1c139f(0x16a)),_0x4c08f9=document['getElementById']('setShiftNotes');if(!_0x3fab5a){console[_0x1c139f(0x499)](_0x1c139f(0x45f));return;}_0x3fab5a[_0x1c139f(0x41a)]=!![],hideModalShift(),showLoadingModal();const _0x143c2a=document[_0x1c139f(0x442)](_0x1c139f(0x3fe))[_0x1c139f(0x5dc)];let _0x5efb93=myCompany[_0x1c139f(0x376)][_0x1c139f(0x54e)](_0x29ef02=>_0x29ef02['setBranchId']==_0x143c2a&&_0x29ef02[_0x1c139f(0x3af)]=='1');if(!_0x5efb93){ntfShow(_0x1c139f(0x374)),_0x3fab5a['disabled']=![],hideLoadingModal();return;}const _0x501846=new Date();try{const _0x19ea1f=myCompany[_0x1c139f(0x43b)],_0x4c55c4={'apiPOS_shift':0x1,'setToken':myCompany[_0x1c139f(0x32d)],'setShiftId':_0x5efb93[_0x1c139f(0x57d)],'setShiftDateEnd':_0x501846,'setShiftCount':parseFloat(_0x15cb27[_0x1c139f(0x5dc)]),'setShiftCashAmount':parseFloat(_0x3b2aea['value']),'setShiftNotes':_0x4c08f9[_0x1c139f(0x5dc)]},_0x451c86=await fetch(_0x19ea1f,{'method':_0x1c139f(0x3d0),'headers':{'Content-Type':_0x1c139f(0x452)},'body':JSON[_0x1c139f(0x52b)](_0x4c55c4)}),_0x2de383=await _0x451c86['json']();if(_0x2de383[_0x1c139f(0x2e0)]&&_0x2de383[_0x1c139f(0x20d)][_0x1c139f(0x57d)]){_0x5efb93[_0x1c139f(0x3af)]='0',_0x5efb93['setCashInitial']='',_0x5efb93[_0x1c139f(0x57d)]='',_0x5efb93['setShiftDateStart']='';try{const _0x40e327=await createCartStore('');await saveCompanyToIndexedDB(company,_0x40e327),ntfShow(_0x1c139f(0x23c)+_0x501846[_0x1c139f(0x120)]()),hideModalShift();}catch(_0x5aae48){console[_0x1c139f(0x499)](_0x1c139f(0x243),_0x5aae48);throw _0x5aae48;}}else ntfShow(_0x1c139f(0x65b)),console[_0x1c139f(0x590)](_0x1c139f(0x65b));}catch(_0x17641b){ntfShow(_0x1c139f(0x16b)),console['error'](_0x1c139f(0x2ac),_0x17641b);}finally{_0x3fab5a[_0x1c139f(0x41a)]=![],hideLoadingModal();}}async function changeEnvironments(_0x567ccb){const _0x1e3d2a=_0x36d314;await loadLayoutState();const _0x1b0a70=_0x567ccb,_0x54e063=myCompany['setWindows'][_0x1e3d2a(0x41f)](_0x5d6006=>_0x5d6006[_0x1e3d2a(0x11a)]==_0x1b0a70),_0x490ac9=document[_0x1e3d2a(0x442)](_0x1e3d2a(0x215));_0x490ac9['innerHTML']='',_0x54e063[_0x1e3d2a(0x55b)](_0x2b073b=>{const _0x3664eb=_0x1e3d2a,_0x3ed400=document[_0x3664eb(0x28c)](_0x3664eb(0x4c5));_0x3ed400[_0x3664eb(0x5dc)]=_0x3664eb(0x48a)+_0x2b073b[_0x3664eb(0x1f5)],_0x3ed400['textContent']=_0x2b073b[_0x3664eb(0x169)],_0x490ac9[_0x3664eb(0x47d)](_0x3ed400);});const _0x5e5da3=_0x490ac9[_0x1e3d2a(0x5dc)],_0xb70976=_0x5e5da3['split']('-')[0x1];document[_0x1e3d2a(0x442)]('windowId')[_0x1e3d2a(0x5dc)]=_0xb70976,await switchTab(_0x5e5da3);}document[_0x36d314(0x442)](_0x36d314(0x22e))['addEventListener'](_0x36d314(0x45d),function(_0x52327b){const _0x5c32f=_0x36d314;_0x52327b[_0x5c32f(0xbb)]();const _0x948038=myCompany[_0x5c32f(0x43b)];try{const _0x4b74a7=new URL(_0x948038),_0x44fc99=_0x4b74a7['origin'],_0x16d5ae=_0x44fc99+_0x5c32f(0x51e);window['open'](_0x16d5ae,_0x5c32f(0x3b1));}catch(_0x3f6c65){console[_0x5c32f(0x499)](_0x5c32f(0x3f4),_0x3f6c65);}}),document[_0x36d314(0x442)](_0x36d314(0x25f))[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x549a6e){const _0x1d84f4=_0x36d314;_0x549a6e[_0x1d84f4(0xbb)](),updateShiftDisplay();}),document['getElementById']('tabs-newTab')[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x1783c1){const _0x5a189b=_0x36d314;_0x1783c1[_0x5a189b(0xbb)](),showModalCreateWindow();}),document['getElementById'](_0x36d314(0x318))[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x3bf834){const _0x170677=_0x36d314;_0x3bf834[_0x170677(0xbb)]();}),document['getElementById'](_0x36d314(0x33c))[_0x36d314(0x524)]('click',function(_0xeaa43b){const _0x2fbfce=_0x36d314;_0xeaa43b[_0x2fbfce(0xbb)](),showModalLayout();}),document[_0x36d314(0x442)]('tabs-areas-responsive')['addEventListener'](_0x36d314(0x45d),function(_0x4e81c0){_0x4e81c0['preventDefault'](),showModalLayout();}),document[_0x36d314(0x442)]('show_right_section')[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x135e79){const _0xc7b0f3=_0x36d314;_0x135e79[_0xc7b0f3(0xbb)](),showRightSection();}),document[_0x36d314(0x442)]('search_more_products')[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x12edb1){const _0x4a3054=_0x36d314;_0x12edb1[_0x4a3054(0xbb)](),showLeftSection(),showSection(_0x4a3054(0x429));}),document['getElementById'](_0x36d314(0x210))[_0x36d314(0x524)](_0x36d314(0x45d),function(_0x58c47c){const _0x4bd5e4=_0x36d314;_0x58c47c[_0x4bd5e4(0xbb)](),resetNewItemForm(),fileInput['value']='',uploadBtn[_0x4bd5e4(0x41a)]=!![],statusDiv[_0x4bd5e4(0x638)]='',progressBar[_0x4bd5e4(0x12f)][_0x4bd5e4(0x140)]=_0x4bd5e4(0xb0),progressBar[_0x4bd5e4(0x5dc)]=0x0,showModalCreateItem(0x0);}),document[_0x36d314(0x442)](_0x36d314(0x219))[_0x36d314(0x524)]('click',function(_0x633e0d){const _0x3b6d2b=_0x36d314;_0x633e0d[_0x3b6d2b(0xbb)](),resetNewItemForm(),fileInput[_0x3b6d2b(0x5dc)]='',uploadBtn[_0x3b6d2b(0x41a)]=!![],statusDiv[_0x3b6d2b(0x638)]='',progressBar['style']['display']=_0x3b6d2b(0xb0),progressBar[_0x3b6d2b(0x5dc)]=0x0,showModalCreateItem(0x1);}),document[_0x36d314(0x442)]('tabs-editLayout')[_0x36d314(0x524)]('click',function(_0x46610d){const _0x1df051=_0x36d314;_0x46610d[_0x1df051(0xbb)](),toggleEditMode();}),document['getElementById'](_0x36d314(0x2c7))[_0x36d314(0x524)]('change',function(_0x227851){const _0x3859de=_0x36d314;_0x227851[_0x3859de(0xbb)]();const _0x49d97d=document[_0x3859de(0x442)](_0x3859de(0x45c)),_0x5e6f7f=this[_0x3859de(0x5dc)];let _0x255786=_0x3859de(0x44e);if(_0x5e6f7f=='1')_0x255786=_0x3859de(0x44e);else{if(_0x5e6f7f=='2')_0x255786=_0x3859de(0x306);else _0x5e6f7f=='3'&&(_0x255786=_0x3859de(0x52d));}_0x49d97d['src']=_0x255786;}),document[_0x36d314(0x442)](_0x36d314(0x26e))[_0x36d314(0x524)](_0x36d314(0x45d),async function(_0x3ffd48){const _0x3f3b8a=_0x36d314;_0x3ffd48['preventDefault']();if(!isOnline()){ntfShow(_0x3f3b8a(0x5b1));return;}this['disabled']=!![],hideModalCreateWindow(),showLoadingModal();const _0x1c7a89=document[_0x3f3b8a(0x442)](_0x3f3b8a(0x2c7)),_0x49bef1=document[_0x3f3b8a(0x442)](_0x3f3b8a(0x134)),_0x47c55f=document[_0x3f3b8a(0x442)]('setBranchId'),_0x4d5faa=document[_0x3f3b8a(0x442)](_0x3f3b8a(0x11a)),_0x18e59c={'setAuthToken':myCompany['setAuthToken'],'setWindowType':_0x1c7a89[_0x3f3b8a(0x5dc)],'setWindowName':_0x49bef1[_0x3f3b8a(0x5dc)],'setBranchId':_0x47c55f[_0x3f3b8a(0x5dc)],'setEnvironmentId':_0x4d5faa[_0x3f3b8a(0x5dc)]};try{const _0x1ee8e8=await fetch(_0x3f3b8a(0x445),{'method':_0x3f3b8a(0x3d0),'headers':{'Content-Type':_0x3f3b8a(0x5bc)},'body':JSON[_0x3f3b8a(0x52b)](_0x18e59c)});if(!_0x1ee8e8['ok']){hideLoadingModal(),this[_0x3f3b8a(0x41a)]=![],ntfShow(_0x3f3b8a(0x3ff)+_0x1ee8e8[_0x3f3b8a(0x52a)]),showModalCreateWindow();return;}const _0x255d0a=await _0x1ee8e8[_0x3f3b8a(0x606)]();if(!_0x255d0a[_0x3f3b8a(0x2e0)]){hideLoadingModal(),this[_0x3f3b8a(0x41a)]=![],ntfShow(_0x255d0a['message']||'Error\x20desconocido.'),showModalCreateWindow();return;}const _0x43d461=_0x255d0a[_0x3f3b8a(0x20d)];console[_0x3f3b8a(0x590)](_0x43d461),myCompany[_0x3f3b8a(0x101)][_0x3f3b8a(0x454)](_0x43d461),await resetWindowPositions(_0x47c55f[_0x3f3b8a(0x5dc)],_0x4d5faa['value']);const _0x13fa62=await createCartStore('');await saveCompanyToIndexedDB(company,_0x13fa62),addNewTab(_0x43d461['setWindowId']),hideLoadingModal(),this['disabled']=![],_0x49bef1[_0x3f3b8a(0x5dc)]='',ntfShow('Window\x20Creada\x20Correctamente.'),showModalLayout();}catch(_0x4e50e3){hideLoadingModal(),this[_0x3f3b8a(0x41a)]=![],ntfShow('Error:\x20'+_0x4e50e3[_0x3f3b8a(0x20d)]),showModalCreateWindow();}}),window['addEventListener'](_0x36d314(0x176),()=>{const _0x1f1651=_0x36d314,_0x5106cb=window[_0x1f1651(0x3b3)];if(_0x5106cb!==lastWindowWidth){lastWindowWidth=_0x5106cb;if(isMobile())showLeftSection();else{const _0x4ec92a=document[_0x1f1651(0x442)](_0x1f1651(0x28f)),_0x192518=document[_0x1f1651(0x442)](_0x1f1651(0x30d));_0x4ec92a[_0x1f1651(0x12f)][_0x1f1651(0x403)](_0x1f1651(0x140),_0x1f1651(0x42b),'important'),_0x192518[_0x1f1651(0x12f)][_0x1f1651(0x403)](_0x1f1651(0x140),'flex',_0x1f1651(0x60f));}}adjustHeight();}),window[_0x36d314(0x524)](_0x36d314(0x5fb),updateInternetIcon),window[_0x36d314(0x524)](_0x36d314(0x2b8),updateInternetIcon),window[_0x36d314(0xd6)]=function(){const _0x308833=_0x36d314,_0x351420=0x1;loadLoginContent('./img/apiPOS.png'),setUserNameGet(),setEventBtnAccess(),document[_0x308833(0x287)][_0x308833(0x524)](_0x308833(0x3cf),_0x1e8830=>{const _0x165e89=_0x308833,_0x5a36af=_0x1e8830[_0x165e89(0x58d)];if(_0x5a36af['id']&&_0x5a36af['id'][_0x165e89(0x3f0)](_0x165e89(0x5c0))){const _0x5864c2=_0x5a36af['id'][_0x165e89(0x62d)]('-')[_0x165e89(0x3d3)]();let _0x47f36c=parseFloat(_0x5a36af[_0x165e89(0x5dc)])||0x0;isNaN(_0x47f36c)||_0x47f36c<0x0?_0x5a36af[_0x165e89(0x5dc)]=_0x165e89(0x4a6):(_0x5a36af[_0x165e89(0x5dc)]=_0x47f36c[_0x165e89(0x35c)](0x2),_0x47f36c=_0x47f36c[_0x165e89(0x35c)](0x2)),window_options[_0x5864c2][_0x165e89(0x603)]=_0x47f36c,saveWindowOptionsDB(_0x5864c2)[_0x165e89(0x667)](()=>{renderCart(_0x5864c2);})[_0x165e89(0x3d5)](_0x4a9c7e=>{const _0x2a433a=_0x165e89;console[_0x2a433a(0x499)](_0x2a433a(0x96),_0x4a9c7e);});}}),document['body'][_0x308833(0x524)](_0x308833(0x52c),_0x53948b=>{const _0x539e59=_0x308833,_0x5ed524=_0x53948b[_0x539e59(0x58d)];if(_0x5ed524['id']&&_0x5ed524['id'][_0x539e59(0x3f0)](_0x539e59(0x5c0))){const _0x141b74=_0x5ed524['id'][_0x539e59(0x62d)]('-')[_0x539e59(0x3d3)]();let _0x4e7b32=parseFloat(_0x5ed524[_0x539e59(0x5dc)])||0x0;isNaN(_0x4e7b32)||_0x4e7b32<0x0?_0x5ed524[_0x539e59(0x5dc)]='0.00':(_0x5ed524[_0x539e59(0x5dc)]=_0x4e7b32[_0x539e59(0x35c)](0x2),_0x4e7b32=_0x4e7b32[_0x539e59(0x35c)](0x2)),window_options[_0x141b74]['setDescuentoGlobal_Monto']=_0x4e7b32,saveWindowOptionsDB(_0x141b74)[_0x539e59(0x667)](()=>{renderCart(_0x141b74);})['catch'](_0x5be317=>{const _0x3e25d0=_0x539e59;console[_0x3e25d0(0x499)](_0x3e25d0(0x96),_0x5be317);});}},!![]);const _0x16960e=document[_0x308833(0x3ef)](_0x308833(0x3e7));_0x16960e&&_0x16960e[_0x308833(0x524)](_0x308833(0x45d),function(){logoutReload(0x0,_0x351420);});let _0xdc9750=[];const _0x42c4db=document['getElementById'](_0x308833(0x63f)),_0x3b2db4=document[_0x308833(0x442)]('previewList');_0x42c4db[_0x308833(0x524)](_0x308833(0x614),()=>{const _0x55f534=_0x308833;Array[_0x55f534(0x2b9)](_0x42c4db[_0x55f534(0x63b)])['forEach'](_0x45565e=>{const _0x4bc49e=_0x55f534,_0x52265d=Date['now']()+Math[_0x4bc49e(0x90)]();_0xdc9750[_0x4bc49e(0x454)]({'file':_0x45565e,'id':_0x52265d});const _0x9c5251=document['createElement'](_0x4bc49e(0x50f));_0x9c5251['className']=_0x4bc49e(0x56c),_0x9c5251['dataset']['id']=_0x52265d;if(_0x45565e[_0x4bc49e(0x24c)][_0x4bc49e(0x3f0)](_0x4bc49e(0x313))){const _0x284137=document['createElement'](_0x4bc49e(0x44b));_0x284137[_0x4bc49e(0x5f3)]=URL[_0x4bc49e(0x548)](_0x45565e),_0x9c5251[_0x4bc49e(0x47d)](_0x284137);}else{if(_0x45565e[_0x4bc49e(0x24c)][_0x4bc49e(0x3f0)](_0x4bc49e(0x65f))){const _0xbfde21=document[_0x4bc49e(0x28c)](_0x4bc49e(0x108));_0xbfde21[_0x4bc49e(0x5f3)]=URL[_0x4bc49e(0x548)](_0x45565e),_0xbfde21['controls']=!![],_0x9c5251[_0x4bc49e(0x47d)](_0xbfde21);}else _0x9c5251[_0x4bc49e(0x528)]+=_0x4bc49e(0x4f3)+_0x45565e[_0x4bc49e(0x482)]+_0x4bc49e(0x316);}const _0x1df8dc=document[_0x4bc49e(0x28c)](_0x4bc49e(0x278));_0x1df8dc[_0x4bc49e(0x638)]='×',_0x1df8dc[_0x4bc49e(0x327)]=_0x4bc49e(0x245),_0x1df8dc[_0x4bc49e(0x3dc)]=()=>{const _0x5cd7a7=_0x4bc49e,_0x496cac=_0xdc9750[_0x5cd7a7(0x173)](_0x12aca6=>_0x12aca6['id']==_0x52265d);if(_0x496cac>-0x1)_0xdc9750[_0x5cd7a7(0x581)](_0x496cac,0x1);_0x3b2db4[_0x5cd7a7(0xbd)](_0x9c5251);},_0x9c5251[_0x4bc49e(0x47d)](_0x1df8dc),_0x3b2db4[_0x4bc49e(0x47d)](_0x9c5251);}),_0x42c4db['value']='';});const _0x32743f=document[_0x308833(0x442)]('waDropArea'),_0x369e95=document[_0x308833(0x442)](_0x308833(0x63f));[_0x308833(0x168),_0x308833(0x66b)][_0x308833(0x55b)](_0x3ac1b3=>{const _0x3ba44e=_0x308833;_0x32743f[_0x3ba44e(0x524)](_0x3ac1b3,_0x277880=>{const _0x3cc7b5=_0x3ba44e;_0x277880['preventDefault'](),_0x32743f[_0x3cc7b5(0x9f)][_0x3cc7b5(0xfb)](_0x3cc7b5(0x66b));});}),['dragleave',_0x308833(0xa3)][_0x308833(0x55b)](_0x846889=>{const _0x4a41fc=_0x308833;_0x32743f[_0x4a41fc(0x524)](_0x846889,_0x16b50c=>{const _0x3b1229=_0x4a41fc;_0x16b50c[_0x3b1229(0xbb)](),_0x32743f[_0x3b1229(0x9f)][_0x3b1229(0x44c)](_0x3b1229(0x66b));});}),_0x32743f[_0x308833(0x524)]('drop',_0x36485f=>{const _0x587edd=_0x308833,_0x203caf=Array[_0x587edd(0x2b9)](_0x36485f[_0x587edd(0x1f6)][_0x587edd(0x63b)]);_0x4720c5(_0x203caf);}),_0x32743f[_0x308833(0x524)]('click',()=>_0x369e95[_0x308833(0x45d)]()),_0x369e95[_0x308833(0x524)](_0x308833(0x614),()=>{const _0x43e0b5=_0x308833;_0x4720c5(Array[_0x43e0b5(0x2b9)](_0x369e95[_0x43e0b5(0x63b)])),_0x369e95['value']='';});function _0x4720c5(_0x3393ba){const _0x295fd3=_0x308833;_0x3393ba[_0x295fd3(0x55b)](_0x5f6784=>{const _0x51db57=_0x295fd3,_0x597f02=Date[_0x51db57(0x2ab)]()+Math[_0x51db57(0x90)]();_0xdc9750[_0x51db57(0x454)]({'file':_0x5f6784,'id':_0x597f02});const _0x2e3a88=document['createElement'](_0x51db57(0x50f));_0x2e3a88[_0x51db57(0x327)]=_0x51db57(0x56c),_0x2e3a88[_0x51db57(0x329)]['id']=_0x597f02;if(_0x5f6784['type'][_0x51db57(0x3f0)](_0x51db57(0x313))){const _0x1488c9=document[_0x51db57(0x28c)](_0x51db57(0x44b));_0x1488c9['src']=URL[_0x51db57(0x548)](_0x5f6784),_0x2e3a88['appendChild'](_0x1488c9);}else{if(_0x5f6784[_0x51db57(0x24c)][_0x51db57(0x3f0)](_0x51db57(0x65f))){const _0x4ca3bd=document[_0x51db57(0x28c)](_0x51db57(0x108));_0x4ca3bd[_0x51db57(0x5f3)]=URL['createObjectURL'](_0x5f6784),_0x4ca3bd[_0x51db57(0x49a)]=!![],_0x2e3a88[_0x51db57(0x47d)](_0x4ca3bd);}else{const _0x5bbc13=document['createElement']('div');_0x5bbc13['textContent']=_0x5f6784['name'],_0x2e3a88[_0x51db57(0x47d)](_0x5bbc13);}}const _0x4e64ad=document['createElement'](_0x51db57(0x278));_0x4e64ad[_0x51db57(0x327)]=_0x51db57(0x245),_0x4e64ad[_0x51db57(0x638)]='×',_0x4e64ad[_0x51db57(0x3dc)]=()=>{const _0x147c6e=_0x51db57,_0x598655=_0xdc9750[_0x147c6e(0x173)](_0x1cc500=>_0x1cc500['id']===_0x597f02);if(_0x598655>-0x1)_0xdc9750[_0x147c6e(0x581)](_0x598655,0x1);_0x3b2db4['removeChild'](_0x2e3a88);},_0x2e3a88[_0x51db57(0x47d)](_0x4e64ad),_0x3b2db4['appendChild'](_0x2e3a88);});}const _0x23f5bf=document[_0x308833(0x442)](_0x308833(0xe0)),_0x3685f=document[_0x308833(0x442)](_0x308833(0x161));if(_0x23f5bf&&_0x3685f){const _0x34c5b8=_0x3685f['content'][_0x308833(0x380)](!![]),_0xbd6240=_0x34c5b8['querySelector'](_0x308833(0xf0));initCountrySelector(_0xbd6240),_0x23f5bf[_0x308833(0x47d)](_0xbd6240);}const _0x2593bb=document[_0x308833(0x442)](_0x308833(0x5ed)),_0x52bdb3=document[_0x308833(0x442)]('email-recipient-template');if(_0x2593bb&&_0x52bdb3){const _0x2c3795=_0x52bdb3[_0x308833(0x205)][_0x308833(0x380)](!![]),_0x62d752=_0x2c3795[_0x308833(0x3ef)](_0x308833(0x4d2));_0x2593bb[_0x308833(0x47d)](_0x62d752);}const _0x767a45=document[_0x308833(0x442)](_0x308833(0x463));_0x767a45&&_0x767a45[_0x308833(0x524)]('click',function(){const _0x3cd968=_0x308833,_0x3b5516=document[_0x3cd968(0x442)]('whatsappRecipients'),_0x1d3649=document['getElementById'](_0x3cd968(0x161));if(_0x3b5516&&_0x1d3649){const _0x19f360=_0x1d3649[_0x3cd968(0x205)][_0x3cd968(0x380)](!![]),_0x345e75=_0x19f360[_0x3cd968(0x3ef)](_0x3cd968(0xf0)),_0x47daa6=_0x345e75[_0x3cd968(0x3ef)]('.remove-recipient-btn');if(_0x47daa6)_0x47daa6['style'][_0x3cd968(0x140)]=_0x3cd968(0x48d);initCountrySelector(_0x345e75),_0x47daa6&&_0x47daa6[_0x3cd968(0x524)](_0x3cd968(0x45d),function(){const _0x5cea69=_0x3cd968;_0x3b5516[_0x5cea69(0xbd)](_0x345e75);}),_0x3b5516['appendChild'](_0x345e75);}});const _0x15c208=document['getElementById'](_0x308833(0x2e2));_0x15c208&&_0x15c208['addEventListener'](_0x308833(0x45d),function(){const _0x2a0378=_0x308833,_0x24c83d=document[_0x2a0378(0x442)]('emailRecipients'),_0x2d35a8=document[_0x2a0378(0x442)]('email-recipient-template');if(_0x24c83d&&_0x2d35a8){const _0x37acb4=_0x2d35a8['content'][_0x2a0378(0x380)](!![]),_0x595f90=_0x37acb4[_0x2a0378(0x3ef)](_0x2a0378(0x4d2)),_0x9c7f0b=_0x595f90['querySelector']('.remove-recipient-btn');if(_0x9c7f0b)_0x9c7f0b['style'][_0x2a0378(0x140)]=_0x2a0378(0x48d);_0x9c7f0b&&_0x9c7f0b[_0x2a0378(0x524)](_0x2a0378(0x45d),function(){const _0x3beb0c=_0x2a0378;_0x24c83d[_0x3beb0c(0xbd)](_0x595f90);}),_0x24c83d[_0x2a0378(0x47d)](_0x595f90);}}),sendEmailButton&&sendEmailButton[_0x308833(0x524)](_0x308833(0x45d),async function(){const _0x5b916e=_0x308833;sendEmailButton[_0x5b916e(0x41a)]=!![];if(!isOnline()){sendEmailButton[_0x5b916e(0x41a)]=![],ntfShow('No\x20tienes\x20conexión\x20a\x20internet!',0x2,0x1);return;}const _0x4214fa=document[_0x5b916e(0x442)](_0x5b916e(0x5ed)),_0x538392=_0x4214fa[_0x5b916e(0x348)](_0x5b916e(0x286)),_0x9c67dc=[];for(const _0x2f53c4 of _0x538392){const _0x172bc2=_0x2f53c4['value'][_0x5b916e(0x13a)]();if(!_0x172bc2){sendEmailButton[_0x5b916e(0x41a)]=![],ntfShow(_0x5b916e(0x9b),0x2,0x1);return;}_0x9c67dc[_0x5b916e(0x454)](_0x172bc2);}if(_0x9c67dc[_0x5b916e(0x301)]===0x0){sendEmailButton['disabled']=![],ntfShow(_0x5b916e(0x1bb),0x2,0x1);return;}let _0x796846=document['getElementById'](_0x5b916e(0x213))[_0x5b916e(0x5dc)][_0x5b916e(0x13a)]();if(!_0x796846){alert(_0x5b916e(0x1c0));return;}_0x796846=_0x796846[_0x5b916e(0x1f1)](/\r\n|\n/g,_0x5b916e(0x3c8));const _0x316a34=parseInt(getUserPermissionApiERP(0x12)),_0x10bac8=myCompany[_0x5b916e(0x58e)]['find'](_0x56e472=>_0x56e472[_0x5b916e(0x60c)]==_0x316a34);if(!_0x10bac8){sendEmailButton[_0x5b916e(0x41a)]=![],ntfShow('No\x20tiene\x20configuradas\x20sus\x20credeciales\x20Email.');return;}const _0x56a465=_0x10bac8['setEmailCredentialsSenderName'],_0x1182aa=_0x10bac8[_0x5b916e(0x55d)],_0x460784=_0x10bac8['setEmailCredentialsSenderPassword'],_0x2e0748=_0x10bac8['setEmailCredentialsHostSMTP'],_0x3366cb=_0x10bac8[_0x5b916e(0x10d)],_0x6fa37a=document['getElementById'](_0x5b916e(0x61e))['value'],{pdfGlobalPayload:_0x4d97d3,pdfGlobalBlob:_0x21182a,pdfGlobalName:_0x9614c}=getLastOperationGlobalData(_0x6fa37a),_0x4d3af5=_0x4d97d3[_0x5b916e(0x97)]+':\x20'+_0x4d97d3['setSerie']+'-'+_0x4d97d3['setCorrelativo']+'\x20('+myCompany[_0x5b916e(0x288)]+'\x20)';if(!_0x21182a){sendEmailButton[_0x5b916e(0x41a)]=![],ntfShow(_0x5b916e(0x59d),0x2,0x1);return;}let _0x578a31=[];try{const _0x2a9dc3=await blobAStringBase64(_0x21182a);_0x578a31['push']({'fileName':_0x9614c,'fileBase64':_0x2a9dc3});for(const _0x3c3d65 of _0xdc9750){const _0x246ff1=await blobAStringBase64(_0x3c3d65[_0x5b916e(0x501)]);_0x578a31[_0x5b916e(0x454)]({'fileName':_0x3c3d65['file'][_0x5b916e(0x482)],'fileBase64':_0x246ff1});}}catch(_0x4d4335){console[_0x5b916e(0x499)](_0x5b916e(0x5f8),_0x4d4335),sendEmailButton['disabled']=![],ntfShow(_0x5b916e(0x642),0x2,0x1);return;}try{hideModal(),showLoadingModal(),await sendEmail(myCompany[_0x5b916e(0x32d)],_0x56a465,_0x1182aa,_0x460784,_0x2e0748,_0x3366cb,_0x9c67dc,_0x4d3af5,_0x796846,_0x578a31),hideLoadingModal(),showModal(),sendEmailButton[_0x5b916e(0x41a)]=![],document[_0x5b916e(0x348)](_0x5b916e(0x554))[_0x5b916e(0x55b)](_0x4bdc10=>_0x4bdc10['value']=''),ntfShow(_0x5b916e(0x21f),0x1,0x2);}catch(_0x271867){console[_0x5b916e(0x499)](_0x5b916e(0x2ac),_0x271867),ntfShow(_0x5b916e(0x323),0x2,0x1),hideLoadingModal(),showModal(),sendEmailButton['disabled']=![];}}),sendWhatsAppButton&&sendWhatsAppButton[_0x308833(0x524)]('click',async function(){const _0x492439=_0x308833,_0x550c0=document[_0x492439(0x442)]('whatsappRecipients'),_0x57371a=_0x550c0['querySelectorAll'](_0x492439(0xf0)),_0x205a15=[];for(const _0x7e2148 of _0x57371a){const _0x2cadd0=_0x7e2148['querySelector'](_0x492439(0x406)),_0x1fcee0=_0x2cadd0[_0x492439(0x329)][_0x492439(0x371)]||'',_0x15fc16=_0x7e2148['querySelector']('.phoneNumber'),_0x6d96ea=_0x15fc16[_0x492439(0x5dc)][_0x492439(0x13a)]();if(!_0x6d96ea){ntfShow(_0x492439(0x3a0),0x2,0x1);return;}const _0x1694bb=_0x6d96ea[_0x492439(0x1f1)](/\D/g,'');_0x205a15[_0x492439(0x454)](_0x1fcee0+_0x1694bb);}if(_0x205a15['length']===0x0){ntfShow(_0x492439(0x1b0),0x2,0x1);return;}let _0x3e24cb=document['getElementById']('waMessage')[_0x492439(0x5dc)]['trim']();if(!_0x3e24cb){alert(_0x492439(0x1c0));return;}const _0xb290ac=parseInt(document['getElementById']('setCredentialsApiWAChat')['value'],0xa),_0x3b9a9a=getCredentialsApiWAChat(_0xb290ac),_0x549dd6=_0x3b9a9a?.[_0x492439(0xb6)]??0x0;if(!(_0x549dd6==0x1&&_0x3b9a9a)){for(const _0xcf8d18 of _0x205a15){const _0x3833b4=encodeURIComponent(_0x3e24cb),_0x560b16=_0x492439(0xdd)+_0xcf8d18+_0x492439(0x217)+_0x3833b4;window[_0x492439(0x18b)](_0x560b16,_0x492439(0x3b1));}ntfShow(_0x492439(0x346),0x1,0x2);return;}const _0x82a0f5=document[_0x492439(0x442)](_0x492439(0x61e))[_0x492439(0x5dc)],{pdfGlobalPayload:_0x283a5a,pdfGlobalBlob:_0x12b41c,pdfGlobalName:_0x216be0}=getLastOperationGlobalData(_0x82a0f5);if(!_0x12b41c){hideLoadingModal(),showModal(),ntfShow('No\x20hay\x20comprobante\x20generado\x20para\x20enviar.',0x2,0x1);return;}const _0x181288=_0x3b9a9a[_0x492439(0x4d7)],_0x3ba753=_0x3b9a9a[_0x492439(0x19c)],_0x129b4b=_0x492439(0xaf)+_0x181288+'/wa/'+_0x3ba753,_0x4faf13=[],_0x332fd3=new File([_0x12b41c],_0x216be0,{'type':_0x492439(0x24e)});_0x4faf13[_0x492439(0x454)](_0x332fd3);for(const _0x369b25 of _0xdc9750){_0x4faf13['push'](_0x369b25[_0x492439(0x501)]);}try{hideModal(),showLoadingModal();if(_0x3e24cb)for(const _0x365b07 of _0x205a15){const _0x1fe6ab=_0x365b07+_0x492439(0x5aa);await sendMessageApiWAChat(_0xb290ac,_0x1fe6ab,'text',_0x3e24cb);}const _0x48c636=[];for(const _0x2772c6 of _0x4faf13){const _0x6bc124=new FormData();_0x6bc124[_0x492439(0x4a7)](_0x492439(0x501),_0x2772c6);const _0xd7913f=await fetch(_0x129b4b+_0x492439(0x503),{'method':_0x492439(0x3d0),'headers':{'x-auth-token':myCompany[_0x492439(0x32d)]},'body':_0x6bc124});if(!_0xd7913f['ok']){const _0x2062d8=await _0xd7913f[_0x492439(0x606)]()['catch'](()=>({}));throw new Error(_0x2062d8[_0x492439(0x499)]||_0x492439(0x322)+_0x2772c6['name']+_0x492439(0x24b));}const {url:_0x372e16}=await _0xd7913f[_0x492439(0x606)]();let _0x513f5a;if(_0x2772c6[_0x492439(0x24c)][_0x492439(0x3f0)](_0x492439(0x313)))_0x513f5a=_0x492439(0x413);else{if(_0x2772c6['type'][_0x492439(0x3f0)](_0x492439(0x65f)))_0x513f5a=_0x492439(0x108);else _0x2772c6['type'][_0x492439(0x3f0)]('audio/')?_0x513f5a=_0x492439(0xa0):_0x513f5a='document';}_0x48c636[_0x492439(0x454)]({'url':_0x372e16,'name':_0x2772c6[_0x492439(0x482)],'mediaType':_0x513f5a,'mimeType':_0x2772c6[_0x492439(0x24c)]});}for(const _0x555f4a of _0x205a15){const _0x565e8a=_0x555f4a+_0x492439(0x5aa);for(const _0x5401f7 of _0x48c636){await sendMessageApiWAChat(_0xb290ac,_0x565e8a,_0x5401f7[_0x492439(0x506)],_0x5401f7[_0x492439(0x28d)],'',_0x5401f7[_0x492439(0x482)],_0x5401f7[_0x492439(0x19f)]);}}ntfShow(_0x492439(0x4f7),0x1,0x2);}catch(_0x10edc2){console['error']('Error\x20en\x20envío\x20WhatsApp\x20API:',_0x10edc2),ntfShow(_0x10edc2['message']||_0x492439(0x542),0x2,0x2);}finally{document[_0x492439(0x348)](_0x492439(0x36d))[_0x492439(0x55b)](_0x54df45=>_0x54df45['value']=''),document[_0x492439(0x442)]('waMessage')['value']='',_0xdc9750=[];const _0x1ddecb=document[_0x492439(0x442)](_0x492439(0x63d));_0x1ddecb&&(_0x1ddecb['innerHTML']=''),hideLoadingModal(),showModal();}}),document[_0x308833(0x524)](_0x308833(0x45d),function(_0x20fa67){const _0x2217d4=_0x308833;!_0x20fa67[_0x2217d4(0x58d)]['closest'](_0x2217d4(0x41b))&&!_0x20fa67[_0x2217d4(0x58d)][_0x2217d4(0x2f1)](_0x2217d4(0x33e))&&document[_0x2217d4(0x348)](_0x2217d4(0x33e))[_0x2217d4(0x55b)](_0xf4f225=>{_0xf4f225['innerHTML']='';});}),document[_0x308833(0x442)](_0x308833(0x3fe))['addEventListener'](_0x308833(0x614),async function(){const _0x51795f=_0x308833,_0x708dc1=parseInt(this[_0x51795f(0x5dc)]);myCompany[_0x51795f(0x519)]=_0x708dc1,saveCredentialsApiWAChatInCompany();const _0x4835dd=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4835dd),searchInput[_0x51795f(0x5dc)]='',cargarAlmacenes(_0x708dc1),setTimeout(()=>{const _0x45f8dc=_0x51795f;document[_0x45f8dc(0x442)](_0x45f8dc(0x1af))[_0x45f8dc(0x253)](new Event('change'));},0x64),cargarPisos(_0x708dc1),setTimeout(()=>{const _0x4343f9=_0x51795f;document['getElementById'](_0x4343f9(0x11a))[_0x4343f9(0x253)](new Event(_0x4343f9(0x614)));},0x64);const _0x22dbe6=document['getElementById'](_0x51795f(0x61e))[_0x51795f(0x5dc)];if(parseFloat(_0x22dbe6)>0x0){const _0x1e54b0=document[_0x51795f(0x442)](_0x51795f(0x59f)+_0x22dbe6)[_0x51795f(0x5dc)];await updateSerieOptions(_0x1e54b0,_0x22dbe6);}const _0x5d08cb=myCompany[_0x51795f(0xc4)][_0x51795f(0x41f)](_0x2e7fbd=>_0x2e7fbd[_0x51795f(0x3fe)]==_0x708dc1);if(_0x5d08cb[_0x51795f(0x301)]===0x0)document[_0x51795f(0x442)](_0x51795f(0x3b2))[_0x51795f(0x528)]='',document[_0x51795f(0x442)]('defaultPrinter')[_0x51795f(0x638)]=_0x51795f(0x4f1);else{const _0x346441=document[_0x51795f(0x442)]('defaultPrinter');_0x346441[_0x51795f(0x638)]=_0x5d08cb[0x0][_0x51795f(0x533)],_0x346441[_0x51795f(0x279)](_0x51795f(0xf3),_0x5d08cb[0x0][_0x51795f(0x1ad)]),_0x346441[_0x51795f(0x524)](_0x51795f(0x45d),function(){const _0x56aeab=_0x51795f,_0xa2137f=document[_0x56aeab(0x442)](_0x56aeab(0x61e))[_0x56aeab(0x5dc)],{pdfGlobalPayload:_0x4cb59d,pdfGlobalBlob:_0x2bfb5e,pdfGlobalName:_0x3a2071}=getLastOperationGlobalData(_0xa2137f);setPrintOnline(this['getAttribute'](_0x56aeab(0xf3)),_0x2bfb5e,_0x3a2071,0x0);});const _0x519124=document[_0x51795f(0x442)](_0x51795f(0x3b2));_0x519124[_0x51795f(0x528)]='',_0x5d08cb[_0x51795f(0x55b)](_0x3ed55b=>{const _0x3d6732=_0x51795f,_0x9091bf=document[_0x3d6732(0x28c)]('li');_0x9091bf[_0x3d6732(0x528)]=_0x3d6732(0x23b)+_0x3ed55b[_0x3d6732(0x1ad)]+_0x3d6732(0x165)+_0x3ed55b[_0x3d6732(0x533)]+_0x3d6732(0x5ba)+_0x3ed55b[_0x3d6732(0x533)]+'</a>',_0x519124['appendChild'](_0x9091bf);});}ntf_initNotifications(),apiERPsyncWindows();}),document[_0x308833(0x442)](_0x308833(0x1af))[_0x308833(0x524)](_0x308833(0x614),function(){selectedCategories=[],selectedMarcas=[],renderProducts(),initializeCategorys();}),document['getElementById'](_0x308833(0x11a))[_0x308833(0x524)](_0x308833(0x614),function(_0x4a313d){const _0x4acac1=_0x308833,_0x44abdf=_0x4a313d['target'][_0x4acac1(0x5dc)];changeEnvironments(_0x44abdf);}),loadCartAndSetTabCount(_0x351420);};