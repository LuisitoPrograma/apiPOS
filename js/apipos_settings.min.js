/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 4.0.0
*/

var _0x5e6d77=_0x2803;(function(_0x501ef9,_0x2b08c2){var _0x21a35d=_0x2803,_0x9e424a=_0x501ef9();while(!![]){try{var _0x494739=parseInt(_0x21a35d(0x90))/0x1+-parseInt(_0x21a35d(0xac))/0x2*(-parseInt(_0x21a35d(0xba))/0x3)+parseInt(_0x21a35d(0x9a))/0x4+-parseInt(_0x21a35d(0xed))/0x5+-parseInt(_0x21a35d(0xc0))/0x6*(-parseInt(_0x21a35d(0x8c))/0x7)+parseInt(_0x21a35d(0xb7))/0x8+-parseInt(_0x21a35d(0xf5))/0x9*(parseInt(_0x21a35d(0x93))/0xa);if(_0x494739===_0x2b08c2)break;else _0x9e424a['push'](_0x9e424a['shift']());}catch(_0x5ad55b){_0x9e424a['push'](_0x9e424a['shift']());}}}(_0x1d8c,0x8bd75));var _0xb42998=(function(){var _0x1bb10b=!![];return function(_0x40ce74,_0x14324a){var _0x385fff=_0x1bb10b?function(){var _0x21e456=_0x2803;if(_0x14324a){var _0x23c73f=_0x14324a[_0x21e456(0xe7)](_0x40ce74,arguments);return _0x14324a=null,_0x23c73f;}}:function(){};return _0x1bb10b=![],_0x385fff;};}()),_0x5ba6bb=_0xb42998(this,function(){var _0x11344a=_0x2803;return _0x5ba6bb[_0x11344a(0xc7)]()[_0x11344a(0xa3)](_0x11344a(0xce))[_0x11344a(0xc7)]()[_0x11344a(0x8b)](_0x5ba6bb)[_0x11344a(0xa3)]('(((.+)+)+)+$');});_0x5ba6bb();var _0xe0aee4=(function(){var _0x512b9e=!![];return function(_0x54b605,_0x1fe7f0){var _0x4861a3=_0x512b9e?function(){var _0x4a6ec2=_0x2803;if(_0x1fe7f0){var _0x203d6a=_0x1fe7f0[_0x4a6ec2(0xe7)](_0x54b605,arguments);return _0x1fe7f0=null,_0x203d6a;}}:function(){};return _0x512b9e=![],_0x4861a3;};}()),_0x23d1a9=_0xe0aee4(this,function(){var _0x1bc21d=_0x2803,_0x5930da=function(){var _0x1dc2c5=_0x2803,_0x32ea2d;try{_0x32ea2d=Function(_0x1dc2c5(0xa6)+_0x1dc2c5(0xb8)+');')();}catch(_0x29e1d1){_0x32ea2d=window;}return _0x32ea2d;},_0x9e54e9=_0x5930da(),_0x3ee3c5=_0x9e54e9[_0x1bc21d(0xeb)]=_0x9e54e9['console']||{},_0x21e6bc=[_0x1bc21d(0x97),_0x1bc21d(0xe2),_0x1bc21d(0xd4),'error','exception','table',_0x1bc21d(0xaa)];for(var _0x11ac80=0x0;_0x11ac80<_0x21e6bc[_0x1bc21d(0x94)];_0x11ac80++){var _0x2b36ee=_0xe0aee4[_0x1bc21d(0x8b)][_0x1bc21d(0xcb)][_0x1bc21d(0xd9)](_0xe0aee4),_0x1d65ce=_0x21e6bc[_0x11ac80],_0x523bde=_0x3ee3c5[_0x1d65ce]||_0x2b36ee;_0x2b36ee[_0x1bc21d(0xde)]=_0xe0aee4[_0x1bc21d(0xd9)](_0xe0aee4),_0x2b36ee[_0x1bc21d(0xc7)]=_0x523bde['toString'][_0x1bc21d(0xd9)](_0x523bde),_0x3ee3c5[_0x1d65ce]=_0x2b36ee;}});_0x23d1a9();var BOOLEAN_PERMS=[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0xa,0xb,0xd,0xe,0xf];async function apiERPupdateUsersOnline(_0xda8e1d,_0x1d994e){var _0x2e8753=_0x2803;if(!isOnline())return console['log'](_0x2e8753(0xa8)),Promise[_0x2e8753(0xa4)](_0x2e8753(0xa8));const _0xa2e0e2={'setAuthToken':_0xda8e1d,'setUsers':_0x1d994e};return fetch('https://apierp.dev/api/users/update/',{'method':_0x2e8753(0x92),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2e8753(0xe1)](_0xa2e0e2)})[_0x2e8753(0xd3)](_0x30c22e=>{var _0x5338a4=_0x2e8753;if(!_0x30c22e['ok'])throw new Error(_0x5338a4(0xe6)+_0x30c22e[_0x5338a4(0x9f)]);return _0x30c22e[_0x5338a4(0xc3)]();})[_0x2e8753(0xd3)](_0x1916ce=>{var _0x204d74=_0x2e8753;if(!_0x1916ce[_0x204d74(0xcd)])throw new Error(_0x1916ce['message']||_0x204d74(0xbc));return console[_0x204d74(0x97)](_0x204d74(0xb5)),_0x1916ce;})[_0x2e8753(0xbf)](_0x16c33b=>{var _0x613f8c=_0x2e8753;console[_0x613f8c(0xe9)](_0x613f8c(0xdf),_0x16c33b);throw _0x16c33b;});}async function apiERPsyncUsers(){var _0x430810=_0x2803;isLoggedIn(company)&&(isOnline()&&await apiERPupdateUsersOnline(company[0x0][_0x430810(0xd8)],company[0x0][_0x430810(0xf1)]));}function generatePermissionsPanel(_0x29f08f){var _0x269e1c=_0x2803,_0x41e6f9=document['getElementById'](_0x269e1c(0xdc));_0x41e6f9[_0x269e1c(0xbe)]='';var _0x281797=_0x29f08f[0x0]&&_0x29f08f[0x0][_0x269e1c(0xf1)]||[],_0x948dad=_0x29f08f[0x0]&&_0x29f08f[0x0]['setTipoOperaciones']||[];for(var _0x2ee300=0x0;_0x2ee300<_0x281797[_0x269e1c(0x94)];_0x2ee300++){var _0x3d7c9f=_0x281797[_0x2ee300],_0x571eef=document[_0x269e1c(0xda)](_0x269e1c(0xa5));_0x571eef[_0x269e1c(0xa9)]=_0x269e1c(0xec),_0x571eef['id']=_0x269e1c(0xf2)+_0x2ee300;var _0x59f783=document[_0x269e1c(0xda)]('h3');_0x59f783[_0x269e1c(0xa9)]=_0x269e1c(0xd7),_0x59f783['textContent']=_0x3d7c9f['setUserFullName']||_0x269e1c(0x96)+(_0x2ee300+0x1),_0x571eef[_0x269e1c(0xc5)](_0x59f783);var _0x2ae189=document[_0x269e1c(0xda)](_0x269e1c(0xa5));_0x2ae189[_0x269e1c(0xa9)]=_0x269e1c(0x9b);for(var _0x34349e=0x0;_0x34349e<_0x3d7c9f[_0x269e1c(0xab)][_0x269e1c(0x94)];_0x34349e++){var _0x483ea2=_0x3d7c9f['setPermissions'][_0x34349e],_0x5a705b=document[_0x269e1c(0xda)](_0x269e1c(0xa5));_0x5a705b['className']=_0x269e1c(0xfb),_0x5a705b[_0x269e1c(0xcf)][_0x269e1c(0x8e)]=_0x2ee300,_0x5a705b[_0x269e1c(0xcf)]['permIndex']=_0x34349e;var _0x33f48f=Number(_0x483ea2[_0x269e1c(0xf8)]),_0x1ad076=document[_0x269e1c(0xda)](_0x269e1c(0xe8));_0x1ad076[_0x269e1c(0xa9)]=_0x269e1c(0xb6),_0x1ad076[_0x269e1c(0xd6)]=!![];if(BOOLEAN_PERMS[_0x269e1c(0xa0)](_0x483ea2[_0x269e1c(0x8f)])!==-0x1){var _0x38aecc=document[_0x269e1c(0xda)](_0x269e1c(0xef));_0x38aecc[_0x269e1c(0xaf)]='0',_0x38aecc[_0x269e1c(0xdd)]=_0x483ea2['setPermissionNameFalse'],_0x1ad076[_0x269e1c(0xc5)](_0x38aecc);var _0x3e9543=document[_0x269e1c(0xda)]('option');_0x3e9543['value']='1',_0x3e9543[_0x269e1c(0xdd)]=_0x483ea2[_0x269e1c(0x91)],_0x1ad076[_0x269e1c(0xc5)](_0x3e9543),_0x1ad076[_0x269e1c(0xaf)]=String(_0x33f48f);}else{if(_0x483ea2[_0x269e1c(0x8f)]===0x9||_0x483ea2[_0x269e1c(0x8f)]===0xc){if(_0x483ea2[_0x269e1c(0x8f)]===0x9){var _0x11d455=document['createElement']('option');_0x11d455['value']='0',_0x11d455[_0x269e1c(0xdd)]=_0x483ea2[_0x269e1c(0xfd)],_0x1ad076[_0x269e1c(0xc5)](_0x11d455);for(var _0x41c70c=0x0;_0x41c70c<_0x948dad['length'];_0x41c70c++){var _0x53e0a0=_0x948dad[_0x41c70c],_0x76a793=document[_0x269e1c(0xda)](_0x269e1c(0xef));_0x76a793['value']=String(_0x53e0a0['setTipoOperacionCodigo']),_0x76a793[_0x269e1c(0xdd)]=_0x53e0a0[_0x269e1c(0xb0)],_0x1ad076['appendChild'](_0x76a793);}}if(_0x483ea2['setPermissionId']===0xc)for(var _0x41c70c=0x1;_0x41c70c<=0x4;_0x41c70c++){var _0x53e0a0=_0x41c70c,_0x76a793=document[_0x269e1c(0xda)](_0x269e1c(0xef));_0x76a793[_0x269e1c(0xaf)]=String(_0x53e0a0),_0x76a793[_0x269e1c(0xdd)]=_0x269e1c(0xe5)+_0x53e0a0,_0x1ad076['appendChild'](_0x76a793);}_0x1ad076[_0x269e1c(0xaf)]=String(_0x33f48f);}}_0x5a705b['appendChild'](_0x1ad076),_0x2ae189[_0x269e1c(0xc5)](_0x5a705b);}_0x571eef['appendChild'](_0x2ae189);var _0x1baa5c=document[_0x269e1c(0xda)](_0x269e1c(0xa7));_0x1baa5c['className']='userPerm_editBtn',_0x1baa5c[_0x269e1c(0xdd)]=_0x269e1c(0xd0),_0x1baa5c[_0x269e1c(0xcf)][_0x269e1c(0x8e)]=_0x2ee300;var _0x55a549=document['createElement'](_0x269e1c(0xa7));_0x55a549['className']=_0x269e1c(0xc2),_0x55a549['textContent']=_0x269e1c(0xa2),_0x55a549[_0x269e1c(0xcf)][_0x269e1c(0x8e)]=_0x2ee300,_0x55a549[_0x269e1c(0xea)][_0x269e1c(0xdb)]=_0x269e1c(0xd1),_0x571eef[_0x269e1c(0xc5)](_0x1baa5c),_0x571eef['appendChild'](_0x55a549),_0x41e6f9['appendChild'](_0x571eef),_0x1baa5c[_0x269e1c(0xc4)]('click',onEditClick),_0x55a549['addEventListener']('click',onSaveClick);}}function onEditClick(_0xc8ff59){var _0x594dc0=_0x2803,_0x3c1c7f=_0xc8ff59[_0x594dc0(0xd2)][_0x594dc0(0xcf)][_0x594dc0(0x8e)],_0x38f76b=document[_0x594dc0(0xc1)](_0x594dc0(0xf2)+_0x3c1c7f),_0x428bf1=_0x38f76b[_0x594dc0(0xf3)]('userPerm_select');for(var _0x4ba53a=0x0;_0x4ba53a<_0x428bf1['length'];_0x4ba53a++){_0x428bf1[_0x4ba53a]['disabled']=![];}_0x38f76b['querySelector'](_0x594dc0(0xb3))[_0x594dc0(0xea)]['display']=_0x594dc0(0xd1),_0x38f76b[_0x594dc0(0xf6)](_0x594dc0(0xf7))[_0x594dc0(0xea)][_0x594dc0(0xdb)]='block',_0x38f76b['className']=_0x594dc0(0xf9);}function _0x2803(_0x49e173,_0x5cd882){var _0xdf559=_0x1d8c();return _0x2803=function(_0x23d1a9,_0xe0aee4){_0x23d1a9=_0x23d1a9-0x8b;var _0x3c2fdc=_0xdf559[_0x23d1a9];return _0x3c2fdc;},_0x2803(_0x49e173,_0x5cd882);}async function onSaveClick(_0x283fd5){var _0x5e1a8f=_0x2803,_0x466b6c=_0x283fd5[_0x5e1a8f(0xd2)][_0x5e1a8f(0xcf)][_0x5e1a8f(0x8e)],_0x3af528=document['getElementById']('userPerm_container_'+_0x466b6c),_0x433e01=_0x3af528[_0x5e1a8f(0xf3)](_0x5e1a8f(0xfb));for(var _0x387e02=0x0;_0x387e02<_0x433e01['length'];_0x387e02++){var _0x22cdc8=_0x433e01[_0x387e02],_0xaf9596=parseInt(_0x22cdc8[_0x5e1a8f(0xcf)][_0x5e1a8f(0x8e)],0xa),_0x44b4de=parseInt(_0x22cdc8[_0x5e1a8f(0xcf)]['permIndex'],0xa),_0x109b6b=company[0x0][_0x5e1a8f(0xf1)][_0xaf9596][_0x5e1a8f(0xab)][_0x44b4de],_0x48df91=_0x22cdc8['getElementsByClassName'](_0x5e1a8f(0xb6))[0x0],_0x173fe0=_0x48df91['value'];_0x109b6b[_0x5e1a8f(0xf8)]=_0x173fe0,_0x48df91[_0x5e1a8f(0xd6)]=!![],company[0x0]['setUsers'][_0xaf9596][_0x5e1a8f(0xca)]=new Date();}const _0x5b439f=await createCartStore('');await saveCompanyToIndexedDB(company,_0x5b439f),_0x3af528[_0x5e1a8f(0xf6)](_0x5e1a8f(0xf7))[_0x5e1a8f(0xea)][_0x5e1a8f(0xdb)]=_0x5e1a8f(0xd1),_0x3af528[_0x5e1a8f(0xf6)](_0x5e1a8f(0xb3))[_0x5e1a8f(0xea)][_0x5e1a8f(0xdb)]=_0x5e1a8f(0xf0),_0x3af528[_0x5e1a8f(0xa9)]=_0x5e1a8f(0xec),apiERPsyncUsers();}function generateOfflineOperationsTable(){var _0x14a19b=_0x2803,_0x3695d5=document['getElementById']('panel_operations');return _0x3695d5[_0x14a19b(0xbe)]='',createCartStore('')[_0x14a19b(0xd3)](function(_0x3304d1){var _0x3c0c9f=_0x14a19b,_0x51e4ac=_0x3304d1['transaction'](_0x3c0c9f(0xcc),'readonly'),_0xef0a82=_0x51e4ac['objectStore'](_0x3c0c9f(0xcc));return new Promise(function(_0x801d98,_0x382b3f){var _0x19981d=_0x3c0c9f,_0x2114a8=_0xef0a82[_0x19981d(0x99)]();_0x2114a8[_0x19981d(0xe0)]=function(){var _0x80e3be=_0x19981d;_0x801d98(_0x2114a8[_0x80e3be(0xae)]);},_0x2114a8[_0x19981d(0xa1)]=function(){var _0x4e2c09=_0x19981d;_0x382b3f(_0x2114a8[_0x4e2c09(0xe9)]);};});})[_0x14a19b(0xd3)](function(_0x967b31){var _0x1681f7=_0x14a19b,_0x48133e=[];for(var _0xedb721=0x0;_0xedb721<_0x967b31[_0x1681f7(0x94)];_0xedb721++){_0x967b31[_0xedb721][_0x1681f7(0xc9)]==0x1&&_0x48133e[_0x1681f7(0xee)](_0x967b31[_0xedb721]);}if(_0x48133e[_0x1681f7(0x94)]===0x0){_0x3695d5['textContent']='No\x20hay\x20operaciones\x20pendientes.';return;}var _0x3b1b72=document[_0x1681f7(0xda)](_0x1681f7(0x9d));_0x3b1b72['className']='offlineOps_table';var _0x3ed780=document[_0x1681f7(0xda)](_0x1681f7(0xb4)),_0x14acf0=document[_0x1681f7(0xda)]('tr');[_0x1681f7(0x9c),_0x1681f7(0xb1),'Correlativo',_0x1681f7(0xc8),_0x1681f7(0x95)][_0x1681f7(0xc6)](function(_0x3906bb){var _0x3023cf=_0x1681f7,_0x255feb=document[_0x3023cf(0xda)]('th');_0x255feb[_0x3023cf(0xdd)]=_0x3906bb,_0x14acf0[_0x3023cf(0xc5)](_0x255feb);}),_0x3ed780[_0x1681f7(0xc5)](_0x14acf0),_0x3b1b72['appendChild'](_0x3ed780);var _0x2845b2=document[_0x1681f7(0xda)](_0x1681f7(0xd5));_0x48133e[_0x1681f7(0xc6)](function(_0x252719){var _0x14a61d=_0x1681f7,_0x2d1a8f=document['createElement']('tr'),_0xa17a41=[_0x252719[_0x14a61d(0x98)],_0x252719['setSerie'],_0x252719[_0x14a61d(0xe3)],_0x252719[_0x14a61d(0xfc)],_0x252719[_0x14a61d(0xbd)]||''];_0xa17a41['forEach'](function(_0x2c04e1){var _0x4bc630=_0x14a61d,_0x597db6=document[_0x4bc630(0xda)]('td');_0x597db6['textContent']=_0x2c04e1,_0x2d1a8f[_0x4bc630(0xc5)](_0x597db6);}),_0x2845b2['appendChild'](_0x2d1a8f);}),_0x3b1b72[_0x1681f7(0xc5)](_0x2845b2),_0x3695d5[_0x1681f7(0xc5)](_0x3b1b72);})['catch'](function(_0x338aa8){var _0x1b4a1a=_0x14a19b;console['error'](_0x1b4a1a(0x8d),_0x338aa8),_0x3695d5[_0x1b4a1a(0xdd)]='Error\x20cargando\x20operaciones.';});}function _0x1d8c(){var _0x5dc367=['setAuthToken','bind','createElement','display','panel_users','textContent','__proto__','Error\x20al\x20actualizar\x20data\x20online:','onsuccess','stringify','warn','setCorrelativo','dispatchEvent','Número\x20de\x20Decimales:\x20','Error\x20Sync:\x20','apply','select','error','style','console','userPerm_container\x20border_blue','1042685BNsvCN','push','option','inline-block','setUsers','userPerm_container_','getElementsByClassName','click','9vHOXGx','querySelector','.userPerm_saveBtn','setPermissionValue','userPerm_container\x20border_orange','setBranchId','userPerm_item','setFechaHora','setPermissionNameFalse','constructor','7fvqwbM','Error\x20leyendo\x20operaciones:','userIndex','setPermissionId','453829EDCpQD','setPermissionNameTrue','POST','11796990QMmNVO','length','Motivo','Usuario\x20','log','setTipoOperacion','getAll','691088THipmH','userPerm_list','Tipo','table','./img/apiPOS.png','statusText','indexOf','onerror','Guardar','search','reject','div','return\x20(function()\x20','button','Error\x20Network.','className','trace','setPermissions','8OZpETD','.btn-logout','result','value','setTipoOperacionName','Serie','setBranchDefault','.userPerm_editBtn','thead','Data\x20actualizada\x20correctamente\x20en\x20la\x20base\x20de\x20datos.','userPerm_select','2960016KZhgtn','{}.constructor(\x22return\x20this\x22)(\x20)','change','557835ZviMZS','onload','Error\x20desconocido\x20al\x20actualizar\x20Data.','setMessage','innerHTML','catch','1323852owPrWu','getElementById','userPerm_saveBtn','json','addEventListener','appendChild','forEach','toString','Fecha','apiPOSsendOffline','setLastDateUpdate','prototype','offline_operations','success','(((.+)+)+)+$','dataset','Editar','none','target','then','info','tbody','disabled','userPerm_header'];_0x1d8c=function(){return _0x5dc367;};return _0x1d8c();}window[_0x5e6d77(0xbb)]=function(){var _0x37d702=_0x5e6d77;const _0x27bac3=0x2;loadLoginContent(_0x37d702(0x9e)),setUserNameGet(),setEventBtnAccess();const _0x3c0a43=document[_0x37d702(0xf6)](_0x37d702(0xad));_0x3c0a43&&_0x3c0a43[_0x37d702(0xc4)](_0x37d702(0xf4),function(){logoutReload(0x0,_0x27bac3);}),document['getElementById'](_0x37d702(0xfa))[_0x37d702(0xc4)](_0x37d702(0xb9),async function(){var _0x27bf3e=_0x37d702;const _0x3d1778=parseInt(this['value']);company[0x0][_0x27bf3e(0xb2)]=_0x3d1778;const _0x24b521=await createCartStore('');await saveCompanyToIndexedDB(company,_0x24b521),cargarAlmacenes(_0x3d1778),setTimeout(()=>{var _0x5e92a7=_0x27bf3e;document['getElementById']('setWarehouseId')[_0x5e92a7(0xe4)](new Event(_0x5e92a7(0xb9)));},0x64),cargarPisos(_0x3d1778),setTimeout(()=>{var _0x524e0a=_0x27bf3e;document[_0x524e0a(0xc1)]('setFloorId')[_0x524e0a(0xe4)](new Event(_0x524e0a(0xb9)));},0x64),ntf_initNotifications();}),loadCartAndSetTabCount(_0x27bac3);};