/*
Name: apiPOS
Author: Luisito Programa
Website 1: luisitoprograma.com
Website 2: apiERP.dev
version: 5.1.9
*/

const _0x165d4c=_0x343a;(function(_0x4f0748,_0x24a18b){const _0x1c8469=_0x343a,_0x5aa55b=_0x4f0748();while(!![]){try{const _0x1225d6=parseInt(_0x1c8469(0xee))/0x1+-parseInt(_0x1c8469(0xda))/0x2*(-parseInt(_0x1c8469(0xd2))/0x3)+parseInt(_0x1c8469(0xc9))/0x4*(-parseInt(_0x1c8469(0xc6))/0x5)+parseInt(_0x1c8469(0xbf))/0x6+parseInt(_0x1c8469(0xb5))/0x7*(-parseInt(_0x1c8469(0xe9))/0x8)+parseInt(_0x1c8469(0xe5))/0x9*(-parseInt(_0x1c8469(0xae))/0xa)+parseInt(_0x1c8469(0xd0))/0xb;if(_0x1225d6===_0x24a18b)break;else _0x5aa55b['push'](_0x5aa55b['shift']());}catch(_0x3a95ff){_0x5aa55b['push'](_0x5aa55b['shift']());}}}(_0x5463,0x66f09));const selectCredentialsApiWAChat=document[_0x165d4c(0xd7)](_0x165d4c(0xce)),loginPanel=document[_0x165d4c(0xd7)](_0x165d4c(0xe7)),chatPanel=document[_0x165d4c(0xd7)](_0x165d4c(0xd6)),qrImg=document[_0x165d4c(0xd7)](_0x165d4c(0xcd)),overlay=document['getElementById']('qr-overlay');let qrTimeout;const validSeconds=0xa;function showLogin(){const _0x125f97=_0x165d4c;loginPanel['style'][_0x125f97(0xb6)]=_0x125f97(0xde),chatPanel[_0x125f97(0xe6)][_0x125f97(0xe4)]=_0x125f97(0xc2);}function _0x5463(){const _0x4f4d6e=['4JdLnzE','none','setCredentialsApiWAChatStatus','status','qr-img','setCredentialsApiWAChat','change','6199545mGSCWn','(((.+)+)+)+$','24kMPGXR','reload','trace','constructor','chatPanel','getElementById','addEventListener','warn','37794nscXJh','{}.constructor(\x22return\x20this\x22)(\x20)','dispatchEvent','click','flex','bind','value','setCredentialsApiWAChatSubdomain','.btn-logout','exception','visibility','955791yvXVNB','style','loginPanel','setBranchDefault','5414376kXBSoK','Credenciales\x20no\x20encontradas','/qr','setFloorId','toLowerCase','386611wbdnUl','toString','includes','20VgHgCD','json','info','error','WarehouseChangeComplete','querySelector','log','7ZmfEjE','display','search','init','console','prototype','EnvironmentChangeComplete','/wa/','src','https://','1532838ayRxYS','apply','setAuthToken','hidden','setWarehouseId','setBranchId','Error\x20al\x20validar\x20estado\x20despu√©s\x20de\x20expirar\x20QR:','230095ftgmEm','visible','setCredentialsApiWAChatPort'];_0x5463=function(){return _0x4f4d6e;};return _0x5463();}function showChat(){const _0x4c2979=_0x165d4c;loginPanel['style'][_0x4c2979(0xb6)]=_0x4c2979(0xca),chatPanel[_0x4c2979(0xe6)][_0x4c2979(0xe4)]=_0x4c2979(0xc7);}async function initQRApiWAChat(_0xc184a0,_0x27efcf){const _0x7fc19a=_0x165d4c,_0x4f6ce5=(function(){let _0x2158a8=!![];return function(_0x2aa157,_0x33592f){const _0x2d219e=_0x2158a8?function(){if(_0x33592f){const _0x147bec=_0x33592f['apply'](_0x2aa157,arguments);return _0x33592f=null,_0x147bec;}}:function(){};return _0x2158a8=![],_0x2d219e;};}()),_0x1a0a75=_0x4f6ce5(this,function(){const _0x27cdf9=_0x343a;return _0x1a0a75[_0x27cdf9(0xac)]()[_0x27cdf9(0xb7)](_0x27cdf9(0xd1))[_0x27cdf9(0xac)]()[_0x27cdf9(0xd5)](_0x1a0a75)[_0x27cdf9(0xb7)]('(((.+)+)+)+$');});_0x1a0a75();const _0x253e50=(function(){let _0x3f8922=!![];return function(_0x581754,_0x163c68){const _0x1a55a0=_0x3f8922?function(){const _0x18c7b2=_0x343a;if(_0x163c68){const _0x510130=_0x163c68[_0x18c7b2(0xc0)](_0x581754,arguments);return _0x163c68=null,_0x510130;}}:function(){};return _0x3f8922=![],_0x1a55a0;};}()),_0x599c79=_0x253e50(this,function(){const _0xf250da=_0x343a;let _0x6243a3;try{const _0x1640bf=Function('return\x20(function()\x20'+_0xf250da(0xdb)+');');_0x6243a3=_0x1640bf();}catch(_0x5b3862){_0x6243a3=window;}const _0x48ce58=_0x6243a3['console']=_0x6243a3[_0xf250da(0xb9)]||{},_0x46f649=[_0xf250da(0xb4),_0xf250da(0xd9),_0xf250da(0xb0),'error',_0xf250da(0xe3),'table',_0xf250da(0xd4)];for(let _0x48a755=0x0;_0x48a755<_0x46f649['length'];_0x48a755++){const _0x3bd4c8=_0x253e50[_0xf250da(0xd5)][_0xf250da(0xba)][_0xf250da(0xdf)](_0x253e50),_0x31eb69=_0x46f649[_0x48a755],_0x5e904d=_0x48ce58[_0x31eb69]||_0x3bd4c8;_0x3bd4c8['__proto__']=_0x253e50['bind'](_0x253e50),_0x3bd4c8[_0xf250da(0xac)]=_0x5e904d['toString']['bind'](_0x5e904d),_0x48ce58[_0x31eb69]=_0x3bd4c8;}});_0x599c79();const _0x95a565=selectCredentialsApiWAChat['value'],_0x5dde2b=getCredentialsApiWAChat(_0x95a565);if(!_0x5dde2b){ntfShow(_0x7fc19a(0xea));return;}const _0x4689cf=_0x5dde2b[_0x7fc19a(0xe1)],_0x4418e4=_0x5dde2b[_0x7fc19a(0xc8)];if(_0xc184a0===_0x7fc19a(0xb6))clearTimeout(qrTimeout),overlay[_0x7fc19a(0xe6)][_0x7fc19a(0xb6)]=_0x7fc19a(0xca),qrImg[_0x7fc19a(0xbd)]=_0x27efcf,qrTimeout=setTimeout(async()=>{const _0x240121=_0x7fc19a;try{const _0x2662f1=await fetch(_0x240121(0xbe)+_0x4689cf+_0x240121(0xbc)+_0x4418e4+_0x240121(0xeb),{'headers':{'x-auth-token':myCompany['setAuthToken']}}),_0x37c1b8=await _0x2662f1[_0x240121(0xaf)]();_0x37c1b8[_0x240121(0xcc)]&&_0x37c1b8[_0x240121(0xcc)][_0x240121(0xed)]()[_0x240121(0xad)]('ya\x20conectado')?(showChat(),_0x5dde2b[_0x240121(0xcb)]=0x1):(overlay[_0x240121(0xe6)]['display']=_0x240121(0xde),_0x5dde2b[_0x240121(0xcb)]=0x0);const _0xccfea4=await createCartStore('');await saveCompanyToIndexedDB(company,_0xccfea4);}catch(_0xc26fdd){console[_0x240121(0xb1)](_0x240121(0xc5),_0xc26fdd),overlay[_0x240121(0xe6)][_0x240121(0xb6)]='flex';}},validSeconds*0x3e8);else{if(_0xc184a0===_0x7fc19a(0xb8))try{const _0x39a3f0=await fetch(_0x7fc19a(0xbe)+_0x4689cf+_0x7fc19a(0xbc)+_0x4418e4+'/qr',{'headers':{'x-auth-token':myCompany[_0x7fc19a(0xc1)]}}),_0x5c03e1=await _0x39a3f0[_0x7fc19a(0xaf)]();if(_0x5c03e1[_0x7fc19a(0xcc)]&&_0x5c03e1[_0x7fc19a(0xcc)][_0x7fc19a(0xed)]()['includes']('ya\x20conectado'))showChat(),_0x5dde2b[_0x7fc19a(0xcb)]=0x1;else _0x5c03e1['qr']&&(showLogin(),await initQRApiWAChat(_0x7fc19a(0xb6),_0x5c03e1['qr']),_0x5dde2b[_0x7fc19a(0xcb)]=0x0);const _0x54033d=await createCartStore('');await saveCompanyToIndexedDB(company,_0x54033d);}catch(_0x7e0565){console[_0x7fc19a(0xb1)](_0x7e0565);}}}function _0x343a(_0x27f97d,_0x5caf84){const _0x1f67c6=_0x5463();return _0x343a=function(_0x55b895,_0xb7ac3b){_0x55b895=_0x55b895-0xac;let _0x2466cd=_0x1f67c6[_0x55b895];return _0x2466cd;},_0x343a(_0x27f97d,_0x5caf84);}overlay[_0x165d4c(0xd8)](_0x165d4c(0xdd),()=>initQRApiWAChat(_0x165d4c(0xb8))),window['onload']=function(){const _0x2a069b=_0x165d4c,_0x1c8266=0x4;loadLoginContent(),setUserNameGet(),setEventBtnAccess();const _0x162995=document[_0x2a069b(0xb3)](_0x2a069b(0xe2));_0x162995&&_0x162995[_0x2a069b(0xd8)](_0x2a069b(0xdd),function(){logoutReload(0x0,_0x1c8266);}),document[_0x2a069b(0xd7)]('setCredentialsApiWAChat')['addEventListener'](_0x2a069b(0xcf),async function(){const _0x5330b0=_0x2a069b;saveCredentialsApiWAChatInCompany();const _0x813817=await createCartStore('');await saveCompanyToIndexedDB(company,_0x813817),location[_0x5330b0(0xd3)]();}),document[_0x2a069b(0xd7)](_0x2a069b(0xc4))[_0x2a069b(0xd8)](_0x2a069b(0xcf),async function(){const _0x17d3e0=_0x2a069b,_0x29f4ad=parseInt(this[_0x17d3e0(0xe0)]);myCompany[_0x17d3e0(0xe8)]=_0x29f4ad,saveCredentialsApiWAChatInCompany();const _0x4ccb42=await createCartStore('');await saveCompanyToIndexedDB(company,_0x4ccb42),await cargarPisos(_0x29f4ad),await waitForEvent(_0x17d3e0(0xec),_0x17d3e0(0xbb)),await cargarAlmacenes(_0x29f4ad),await waitForEvent('setWarehouseId',_0x17d3e0(0xb2)),document[_0x17d3e0(0xdc)](new Event('BranchChangeComplete')),ntf_initNotifications();}),document[_0x2a069b(0xd7)](_0x2a069b(0xc3))['addEventListener'](_0x2a069b(0xcf),async function(){const _0xebd1a=_0x2a069b;document['dispatchEvent'](new Event(_0xebd1a(0xb2)));}),document[_0x2a069b(0xd7)](_0x2a069b(0xec))[_0x2a069b(0xd8)](_0x2a069b(0xcf),async function(_0x3e485d){const _0x3a5ca2=_0x2a069b;document['dispatchEvent'](new Event(_0x3a5ca2(0xbb)));}),loadCartAndSetTabCount(_0x1c8266);};